"use strict";void 0,(function(){return{ADFUEL:{AUTO_DISPATCH:!0,DEFAULT_TIMEOUT:800,DEFAULT_DESKTOP_TIMEOUT:800,DEFAULT_MOBILE_TIMEOUT:800,IFRAME_TITLE:"advertisement",NETWORK_ID:"8663477",REFRESH_ON_FOCUS_ONLY:!1,LAZY_LOAD_FETCH_PERCENT:500,LAZY_LOAD_RENDER_PERCENT:200,LAZY_LOAD_MOBILE_SCALING:2,COLLAPSE_EMPTY_DIVS:!0,DEBUG:!1},A9:{ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},DEBUG:!1,TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}},AUI:{VENDORS:{Telaria:{COOKIE_NAME:"goiz",URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}"},Rubicon:{COOKIE_NAME:"ifyr",URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}"},Freewheel:{COOKIE_NAME:"bea4",URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}"},AppNexus:{COOKIE_NAME:"zwmc",URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}"},PubMatic:{COOKIE_NAME:"kfyn",URL:"https://ads.pubmatic.com/AdServer/js/userSync.js"},LiveRamp:{COOKIE_NAME:"orev",URL:"https://idsync.rlcdn.com/712348.gif?partner_uid=${fwuid}"}},SITE_VENDORS:{DOM:["AppNexus","Freewheel","LiveRamp","PubMatic","Rubicon","SpotX","Telaria"],INTL:["AppNexus","Freewheel","ID5","LiveRamp","PubMatic","Rubicon","SpotX","Telaria"]},DEBUG:!1},BEEMRAY:{API_KEY:"",CUSTOMER_ID:"",DEBUG:!1},BLOCKTHROUGH:{DEBUG:!1},CEP:{DEBUG:!1},CONSOLE_TOOL:{DEBUG:!1,HOTKEY:["Control","Shift","Z"]},CREATIVE_REVIEW:{DEBUG:!1,HOTKEY:"^ d o h $"},CRITEO:{DEBUG:!1,DESKTOP_TIMEOUT:750,DESKTOP_ZONES:{},MOBILE_TIMEOUT:750,MOBILE_ZONES:{},MULTISIZE_FIRST:"F",MULTISIZE_LARGEST:"L",MULTISIZE_ALL:"A",MULTISIZE_METHOD:"L",TIMEOUT:750},FASTLANE:{DEBUG:!1,DESKTOP_TIMEOUT:750,DOM_ACCOUNT_ID:11078,INTL_ACCOUNT_ID:11016,MOBILE_TIMEOUT:750,TIMEOUT:750},GUID:{DEBUG:!1},IAS:{ACCOUNT_IDS:{DOM:925660,INTL:925660},DEBUG:!1},IX:{DEBUG:!1,SCRIPT_KEY:{DOM:null,INTL:null},IDENTITY:""},IVR:{DEBUG:!1,DEFAULT_DISPLAY_MILLISECONDS:35e3,DEFAULT_DISPLAY_PERCENT:50},KRUX:{DEBUG:!1,DOM_CONTROLTAG:"",INTL_CONTROLTAG:""},MALVERTISING:{DEBUG:!1,SITE_VENDOR:"CleanIO",SCRIPT_SRC:"//d2wt7w75gg2vz.cloudfront.net/script.js"},PREBID:{BIDDERS:{CLIENT:{DOM:["appnexus","criteo","ix","rubicon","trustx"],INTL:[]},NATIVE:{DOM:[],INTL:[]},S2S:{DOM:[],INTL:[]},VIDEO:{DOM:[],INTL:[]},OUTSTREAM:{DOM:[],INTL:[]},ALLOWED:["appnexus","rubicon"]},APPROVED_BIDDERS:{CLIENT:{DOM:["appnexus","rubicon","criteo","ix","trustx"],INTL:["appnexus","ix","rubicon","sharethrough","criteo"]},NATIVE:{DOM:["appnexus"],INTL:["appnexus"]},S2S:{DOM:["ix"],INTL:["sharethrough","ix"]}},DEBUG:!1,TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:500,MIDROLL:750,REFRESH:1e3}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"7745",INTL:"8353"},VIDEO_INVCODE:{DOM:"cnn_homepage_video1",INTL:"cnni_homepage_video1"},PLAYBACK_METHOD:{DOM:{DESKTOP:"auto_play_sound_off",MOBILE:"click_to_play"},INTL:{DESKTOP:"auto_play_sound_off",MOBILE:"click_to_play"}},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:5,INTL:5},MAX:{DOM:15,INTL:15}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}}}},RESERVE:{DOM:.9,INTL:.9},SUPPLY_TYPE:{DOM:{WEB:!0,MOBILE_WEB:!0},INTL:{WEB:!0,MOBILE_WEB:!0}},CONTEXT:{DOM:"instream",INTL:"instream"}},CRITEO:{ACCOUNT_ID:{DOM:4157,INTL:9264}},RUBICON:{ACCOUNT_ID:{DOM:"11078",INTL:"11016"},SITE_ID:{DOM:{DESKTOP:27048,MOBILE:67294,VIDEO:{DESKTOP:0,MOBILE:0}},INTL:{DESKTOP:27048,MOBILE:67294,VIDEO:{DESKTOP:0,MOBILE:0}}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:107850,btf:189024},ROS:{atf:107852,btf:107854}},MOBILE:{HP:{atf:317488,btf:317488},ROS:{atf:317488,btf:317488}},VIDEO:{DESKTOP:{HP:{},ROS:{}},MOBILE:{HP:{},ROS:{}}}},INTL:{DESKTOP:{HP:{atf:107850,btf:189024},ROS:{atf:107852,btf:107854}},MOBILE:{HP:{atf:317488,btf:317488},ROS:{atf:317488,btf:317488}},VIDEO:{DESKTOP:{HP:{},ROS:{}},MOBILE:{HP:{},ROS:{}}}}},LANGUAGE:{DOM:"en",INTL:"en"},VIDEO:{DURATION:{DESKTOP:{MIN:{DOM:6,INTL:6},MAX:{DOM:30,INTL:30}},MOBILE:{MIN:{DOM:6,INTL:6},MAX:{DOM:15,INTL:15}}}}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{"728x90":"346983","320x50":"346983","970x90":"346983","300x250":"346987"},btf:{"300x250":"346988","728x90":"346983","320x50":"346983","970x90":"346983"}},MOBILE:{atf:{"320x50":"346989","300x250":"346991"},btf:{"300x250":"346992","320x50":"346990"}},VIDEO:{DESKTOP:0,MOBILE:0}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}},VIDEO:{DESKTOP:0,MOBILE:0}}},VIDEO:{WIDTH:640,HEIGHT:480,MIMES:["video/mp4"],PROTOCOLS:[2,3,5,6],SITE_ID:{DOM:{DESKTOP:0,MOBILE:0},INTL:{DESKTOP:0,MOBILE:0}},DURATION:{DESKTOP:{MIN:{DOM:5,INTL:7},MAX:{DOM:15,INTL:20}},MOBILE:{MIN:{DOM:6,INTL:8},MAX:{DOM:30,INTL:30}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{"300x250":"540601560","300x600":"540601644","728x90":"540601583","970x90":"540601583"},MOBILE:{"320x50":"540601588","300x250":"540601590"}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},TRUSTX:{UID:{DOM:{DESKTOP:{atf:{"300x250":14829,"970x250":14832,"970x90":14833,"728x90":14834,"320x50":14835},btf:{"300x250":14829,"970x250":14832,"970x90":14833,"728x90":14834,"320x50":14835}},MOBILE:{atf:{"320x50":14830,"300x250":14831},btf:{"320x50":14830,"300x250":14831}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}}},SEND_ALL_BIDS:{DOM:!0,INTL:!0},LIBRARY:{VENDORS:["appnexus","rubicon","trustx","ix","criteo"],MODULES:["categoryTranslation","consentManagement","prebidServerBidAdapter","adpod","consentManagementUsp","id5IdSystem","identityLinkIdSystem","debugging","categpryTranslation","freewheelAdserverVideo","userId"]},PRICE_BUCKETS:{DOM:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:1}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],NATIVE:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:1}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]},INTL:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],NATIVE:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]}},FLOORS:{DISPLAY:{DOM:{DESKTOP:.01,MOBILE:.01},INTL:{DESKTOP:.01,MOBILE:.01}},VIDEO:{DOM:{DESKTOP:.01,MOBILE:.01},INTL:{DESKTOP:.01,MOBILE:.01}}},MODULES:["categoryTranslation","consentManagement","prebidServerBidAdapter"]},PROXIMIC:{DEBUG:!1},SOURCEPOINT:{DEBUG:!1},SSAI:{DEBUG:!1,SITE_VENDORS:["AppNexus","Freewheel","Rubicon","Telaria"],VENDORS:{AppNexus:{URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}",COOKIE_NAME:"zwmc"},Freewheel:{URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}",COOKIE_NAME:"bea4"},LiveRamp:{COOKIE_NAME:"orev",URL:"https://idsync.rlcdn.com/712348.gif?partner_uid=${fwuid}"},PubMatic:{URL:"https://ads.pubmatic.com/AdServer/js/userSync.js",COOKIE_NAME:"kfyn"},Rubicon:{URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}",COOKIE_NAME:"ifyr"},Telaria:{URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}",COOKIE_NAME:"goiz"}}},TRANSACTION_ID:{DEBUG:!1},USER_CONSENT:{ENABLED:!1,DEBUG:!1,COOKIE_DOMAIN:"",ONETRUST_GUID:"",ONETRUST_SRC:""},VERSION:"1.3",NAME:"NBA3",GLOID:{SITE_VENDORS:{DOM:[],INTL:[]},VENDORS:{AppNexus:{COOKIE_NAME:"zwmc",URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}"},Freewheel:{COOKIE_NAME:"bea4",URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}"},LiveRamp:{COOKIE_NAME:"orev",URL:"https://idsync.rlcdn.com/712348.gif?partner_uid=${fwuid}"},ID5:{COOKIE_NAME:"tbd",URL:"https://to.be.determined.com"},PubMatic:{COOKIE_NAME:"kfyn",URL:"https://ads.pubmatic.com/AdServer/js/userSync.js"},Rubicon:{COOKIE_NAME:"ifyr",URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}"},Telaria:{COOKIE_NAME:"goiz",URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}"}}},RTAI:{MAX_NO_OF_ADS:6,BUFFER:6,INITIAL_PLACEMENT:4,REGISTRY:"//i.cdn.turner.com/ads/cnn/cnn_quantum_leaf.json",PARENT:".article__content",CHILDREN:"p",OFFSET:2,lazyLoadOptions:{scrollThresholdDesktop:25,scrollThresholdMsobile:100}},TIMESTAMP:"7/12/2023, 11:17:59 AM"}})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ixIdentity=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var l=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(l.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){l.waitForUserConsent().then((function(){var e,n,t,r;(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(l.consentTags))?l.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(l))||document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(l)})),l.environmentMatchesFlags()?l.init().then((function(){var e;window.AdFuel?(l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)}))})):l.logger.warn("Not initializing ".concat(l.MODULE_NAME," for environmental reasons."),l.moduleFlags)})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for AdFuel."),e)})):l.logger.info("User consent is not granted.",null===(r=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===r?void 0:r.inUserConsentState(l.consentTags))})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(l.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(l.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d,u,c,f,g,p;l.logger.log("UserConsent enabled:",null===(r=null===(t=null===(n=window.AdFuelOptions)||void 0===n?void 0:n.ADFUEL.USER_CONSENT)||void 0===t?void 0:t.ENABLED)||void 0===r||r),null===(a=null===(i=null===(o=window.AdFuelOptions)||void 0===o?void 0:o.ADFUEL.USER_CONSENT)||void 0===i?void 0:i.ENABLED)||void 0===a||a?(null===(d=null===(s=window.WM)||void 0===s?void 0:s.UserConsent)||void 0===d?void 0:d.isReady())?(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())||null!==(p=null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.isOptanonLoaded())&&void 0!==p&&p?e():document.addEventListener("optanonLoaded",(function(){e()})):document.addEventListener("userConsentReady",(function(){e()})):e()}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var r=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t){return void 0===t&&(t=document),(0,r.promiseWithTimeout)(5e3,new Promise((function(r,o){var i,a,s=t.createElement("script");if(document.getElementById(n))o("Element name ".concat(n," already exists in the document."));else try{var d="";if(e.split("//").length>1)d=e;else d=null!==(a="https:"===(null===(i=t.location)||void 0===i?void 0:i.protocol))&&void 0!==a&&a?"https://".concat(e):"http://".concat(e);var u=t.getElementsByTagName("script")[0];if(s.id=n,s.type="text/javascript",s.src=d,s.addEventListener("load",(function(){r(s)})),!(null==u?void 0:u.parentNode))throw new Error("Could not insert script.");u.parentNode.insertBefore(s,u)}catch(e){console.log("Error in loading script from ".concat(s.src),e),o(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(1,0,0,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var r,o=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.IndexExchangeIdentity=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),d=e("./version.json"),u=function(e){eturn o(n,e),n}(i.AAdFuelModule);t.IndexExchangeIdentity=u,new u},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:2,minor:0,revision:5}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Prebid=e()}}((function(){var define,module,exports;return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f,g,p=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.userConsentLib=(null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||(null===(g=window.WBD)||void 0===g?void 0:g.UserConsent),this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(p.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(p.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(p.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){p.logger.log("Waiting for UserConsent..."),p.waitForUserConsent().then((function(){var e,n,t,o;p.logger.log("Checking Module Flags...",p.moduleFlags),(p.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent||(null===(e=p.userConsentLib)||void 0===e?void 0:e.inUserConsentState(p.consentTags))?(p.moduleFlags&&r.RunWithoutAdFuel)==r.RunWithoutAdFuel?((null===(n=window.AdFuel)||void 0===n?void 0:n.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):(p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(p.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(p.MODULE_LOG_TAG)})))):(p.logger.log("Waiting for AdFuel..."),p.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(p))||document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(p)})),p.logger.log("Checking Environment..."),p.environmentMatchesFlags()?(p.logger.log("Calling Init..."),p.init().then((function(){var e;window.AdFuel?(p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)):(p.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;p.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(p.MODULE_LOG_TAG)})))}))):p.logger.warn("Not initializing ".concat(p.MODULE_NAME," for environmental reasons."),p.moduleFlags)})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for AdFuel."),e)}))):(p.logger.info("User consent is not granted.",null===(t=p.userConsentLib)||void 0===t?void 0:t.inUserConsentState(p.consentTags)),null===(o=window.AdFuel)||void 0===o||o.setModuleLoaded(p.MODULE_LOG_TAG))})).catch((function(e){p.logger.warn("".concat(p.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(p.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){return p.userConsentLib?(p.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o;p._logger.log("Consent Promise with Timeout..."),(null===(n=p.userConsentLib)||void 0===n?void 0:n.isReady())?(p._logger.log("Consent Is Ready..."),(null===(t=p.userConsentLib)||void 0===t?void 0:t.isInRegion("gdpr"))?(p._logger.log("Region is GDPR..."),null!==(o=null===(r=p.userConsentLib)||void 0===r?void 0:r.isOptanonLoaded())&&void 0!==o&&o?(p._logger.log("Optanon is Loaded..."),e()):(p._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){p._logger.log("Optanon is Loaded..."),e()})))):(p._logger.log("Region is not GDPR..."),e())):p.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateCacheBuster=void 0,t.generateCacheBuster=function(){for(var e="",n=0;n<10;n++)e+=Math.floor(9*Math.random()).toString();return e}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1,c=new Set(["US","CA"]),l=/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\.cnn.com/;t.isIntl=function(){var e,n,t,i,f,g,p,m,v,h,b,y,O=!1,E=(0,r.setHostAndPathNames)(),I=(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.getGeoCountry)&&"function"==typeof(null===(i=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===i?void 0:i.getGeoCountry)?null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.getGeoCountry():a.countryCode,_=(null===(m=null===(p=window.WM)||void 0===p?void 0:p.UserConsent)||void 0===m?void 0:m.getGeoState)&&"function"==typeof(null===(h=null===(v=window.WM)||void 0===v?void 0:v.UserConsent)||void 0===h?void 0:h.getGeoState)?null===(y=null===(b=window.WM)||void 0===b?void 0:b.UserConsent)||void 0===y?void 0:y.getGeoState():"",w=E.search(/^(.*\.)?cnn\.com$/)>=0;return w&&c.delete("CA"),s.log("Is CNN:",w),s.log("Domestic Country Codes: ",Array.from(c)),s.log("UserConsent Location: ",{state:_,country:I}),"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),O=!0):E.search(l)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),O=!0):""===I||null===I?(d||(d=!0,s.log("No country code. Using Domestic PubIds.")),O=!1):c.has(I)?d||(d=!0,s.log("Domestic site or country code. Using Domestic PubIds."),O=!1):E.search(/^.*(money|\.cnn)\./)>=0?(E.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate International PubIds if available."),u=!0),d||(d=!0,s.log("International country code. Using International PubIds.")),O=!0):E.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate International PubIds if available.")),O=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site. Using International PubIds if available.")),O=!0),O};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":6,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,102,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./isMobile"));var r=e("./isMobile");t.default=r.default},{"./isMobile":12}],12:[function(e,n,t){t.__esModule=!0;var r=/iPhone/i,o=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};t.default=function(e){var n={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=n.userAgent,y=t.split("[FBAN");void 0!==y[1]&&(t=y[0]),void 0!==(y=t.split("Twitter"))[1]&&(t=y[0]);var O=function(e){return function(n){return n.test(e)}}(t),E={apple:{phone:O(r)&&!O(l),ipod:O(o),tablet:!O(r)&&(O(i)||b(n))&&!O(l),universal:O(a),device:(O(r)||O(o)||O(i)||O(a)||b(n))&&!O(l)},amazon:{phone:O(u),tablet:!O(u)&&O(c),device:O(u)||O(c)},android:{phone:!O(l)&&O(u)||!O(l)&&O(s),tablet:!O(l)&&!O(u)&&!O(s)&&(O(c)||O(d)),device:!O(l)&&(O(u)||O(c)||O(s)||O(d))||O(/\bokhttp\b/i)},windows:{phone:O(l),tablet:O(f),device:O(l)||O(f)},other:{blackberry:O(g),blackberry10:O(p),opera:O(m),firefox:O(h),chrome:O(v),device:O(g)||O(p)||O(m)||O(h)||O(v)},any:!1,phone:!1,tablet:!1};return E.any=E.apple.device||E.android.device||E.windows.device||E.other.device,E.phone=E.apple.phone||E.android.phone||E.windows.phone,E.tablet=E.apple.tablet||E.android.tablet||E.windows.tablet,E}},{}],13:[function(e,n,t){var r,o=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__awaiter||a=this&&this.__generator||s=this&&this.__spreadArray||function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))};Object.defineProperty(t,"__esModule",{value:!0}),t.Prebid=void 0;var d=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),u=e("@turnercode/digital-ads-utilities/dist/Version"),c=e("@turnercode/digital-ads-utilities/dist/localization"),l=e("@turnercode/digital-ads-utilities/dist/generateCacheBuster"),f=e("@turnercode/digital-ads-utilities/dist/getUrlParam"),g=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),p=e("ismobilejs");e("./prebidLibrary");var m=e("./version.json"),v=h=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],b=function(e){function n(n){var t,r=this;return(r=e.call(this,n,"Prebid",new u.Version(m.major,m.minor,m.revision,m.family),"prebid","color: #58f53f; padding: 2px",d.ModuleFlags.EnableForDomestic|d.ModuleFlags.EnableForForeign|d.ModuleFlags.RunWithoutAdFuel,h)||this).config=n,r.enabled=!0,r.libraryConfigured=!1,r.PREBID_MIDROLL_VIDEO_TARGETING={hb_pb_cat_dur:new Array,hb_cache_id:""},r.RUBICON_SIZE_MAPPING={"728x90":2,"160x600":9,"300x600":10,"300x250":15,"320x50":43,"970x90":55,"970x250":57},r.REQUESTED_AD_UNITS={banner:new Array,outstream:new Array},r.SUPPORTED_MIMES=["video/mp4","video/webm"," video/ogg"],r.videoMediaType={context:"instream",playerSize:[640,480],mimes:r.SUPPORTED_MIMES,protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1},r.BUILT_AD_UNITS=new Set,r.validateConfiguration=function(e){var n;try{r.logger.log("Configured Vendors: ",e.VENDOR);var t=Object.keys(r.config.BIDDERS);return r.logger.log("Configured Bidder Types: ",t),{status:!0,errors:[],config:r.config}}catch(e){null===(n=r.logger)||void 0===n||n.log("err on validateConfiguration: ",e)}},r.buildVideoBids=function(e,n){var t={code:e,mediaTypes:{video:{context:"instream",playerSize:[640,480],mimes:["video/mp4"],protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1}},bids:[]},o=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.BIDDERS.VIDEO.INTL:r.config.BIDDERS.VIDEO.DOM,i={},a=[];return o.forEach((function(e){var o,s,d=new v;switch(e){case"appnexus":d.setBidder("appnexus"),d.params.invCode=n,d.params.member=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:r.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&d.addParam("keywords",window.CNN.cep_topics),d.params.reserve=.01,(0,c.isIntl)()&&!(0,c.isUSCNN)()?(r.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.WEB&&a.push("web"),r.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.MOBILE_WEB&&a.push("mobile_web")):(r.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.WEB&&a.push("web"),r.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.MOBILE_WEB&&a.push("mobile_web")),d.params.supplyType=a.join(","),d.params.video={minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.INTL:r.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.INTL:r.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.INTL:r.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.INTL:r.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.DOM,context:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.CONTEXT.INTL:r.config.VENDOR.APPNEXUS.CONTEXT.DOM,skippable:!1,playback_method:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.MOBILE:r.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.DESKTOP:(0,p.default)().any?r.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.MOBILE:r.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.DESKTOP,frameworks:[]},null===(o=r.logger)||void 0===o||o.log("Pushing AppNexus Bid: ",d),t.bids.push(JSON.parse(JSON.stringify(d))),i.appnexus=JSON.parse(JSON.stringify(d.params));break;case"ix":d.setBidder("ix"),d.params={siteId:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.IX.VIDEO.SITE_ID.INTL.MOBILE:r.config.VENDOR.IX.VIDEO.SITE_ID.INTL.DESKTOP:(0,p.default)().any?r.config.VENDOR.IX.VIDEO.SITE_ID.DOM.MOBILE:r.config.VENDOR.IX.VIDEO.SITE_ID.DOM.DESKTOP,video:{w:640,h:480,mimes:r.SUPPORTED_MIMES,minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.INTL:r.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.INTL:r.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.INTL:r.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.INTL:r.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.DOM,protocols:[2,3,5,6]}},t.bids.push(JSON.parse(JSON.stringify(d))),i.ix=JSON.parse(JSON.stringify(d.params));break;case"rubicon":d.setBidder("rubicon"),d.params={accountId:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:r.config.VENDOR.RUBICON.ACCOUNT_ID.DOM,siteId:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.MOBILE:r.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.DESKTOP:(0,p.default)().any?r.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.MOBILE:r.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.DESKTOP,zoneId:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.MOBILE.HP.atf||0:r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.DESKTOP.HP.atf||0:(0,p.default)().any?r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.MOBILE.HP.atf||0:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.DESKTOP.HP.atf||0,video:{language:r.config.VENDOR.RUBICON.VIDEO.LANGUAGE,minduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.INTL:r.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.INTL:r.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.INTL:r.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.INTL:r.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.DOM}},t.bids.push(JSON.parse(JSON.stringify(d))),i.rubicon=JSON.parse(JSON.stringify(d.params));break;case"spotx":d.setBidder("spotx"),d.params={channel_id:(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.SPOTX.CHANNEL_ID.INTL.MOBILE:r.config.VENDOR.SPOTX.CHANNEL_ID.INTL.DESKTOP:(0,p.default)().any?r.config.VENDOR.SPOTX.CHANNEL_ID.DOM.MOBILE:r.config.VENDOR.SPOTX.CHANNEL_ID.DOM.DESKTOP,ad_unit:"instream",secure:!0,mimes:r.SUPPORTED_MIMES,hide_skin:!0,min_duration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.INTL:r.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.INTL:r.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.DOM,max_duration:(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.INTL:r.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.INTL:r.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.DOM,placement_type:1},t.bids.push(JSON.parse(JSON.stringify(d))),i.spotx=JSON.parse(JSON.stringify(d.params));break;case"telaria":d.setBidder("telaria"),d.params={adCode:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.TELARIA.AD_CODE.INTL:r.config.VENDOR.TELARIA.AD_CODE.DOM,supplyCode:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.TELARIA.SUPPLY_CODE.INTL:r.config.VENDOR.TELARIA.SUPPLY_CODE.DOM},t.bids.push(JSON.parse(JSON.stringify(d))),i.telaria=JSON.parse(JSON.stringify(d.params));break;default:null===(s=r.logger)||void 0===s||s.log("bidder: ",e)}})),t},r.getVideoBids=function(e,n,t){return void 0===e&&(e="cnn_homepage_video1"),void 0===n&&(n=750),void 0===t&&(t={}),new Promise((function(t,o){var i,a,s;try{null===(i=r.logger)||void 0===i||i.log("Building Video AdUnit");var d=r.buildVideoBids("video1",e);r.BUILT_AD_UNITS.has(d.code)&&(null===(a=r.logger)||void 0===a||a.log("Removing Video Ad Unit...",d.code),window.pbjs.removeAdUnit(d.code),r.BUILT_AD_UNITS.delete(d.code)),window.pbjs.addAdUnits(d),r.BUILT_AD_UNITS.add(d.code),null===(s=r.logger)||void 0===s||s.log("Requesting Video Bids...",d);window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[d.code],bidsBackHandler:function(e,n){var i,a;try{if(n)null===(a=r.logger)||void 0===a||a.log("Timed out...",e),o({err:"Bid request timed out."});else{var s=window.pbjs.getHighestCpmBids([d.code]),u=s[0],c="";s.forEach((function(e){e.videoCacheKey&&""!==c&&(c=u.videoCacheKey)})),null===(i=r.logger)||void 0===i||i.log("Received bids...",e);var l=window.pbjs.getAdserverTargeting()[d.code];""!==c&&(l.hb_uuid=c),t(l)}}catch(e){o(e)}},timeout:n})}catch(e){o(e)}}))},r.getRefreshedVideoBids=function(e,n,t){return void 0===e&&(e="cnn_homepage_video1"),void 0===n&&(n=750),void 0===t&&(t={}),new Promise((function(t,o){var i,a,s;try{null===(i=r.logger)||void 0===i||i.log("Building Video AdUnit");var d=r.buildVideoBids("video2",e);r.BUILT_AD_UNITS.has(d.code)&&(null===(a=r.logger)||void 0===a||a.log("Removing Video Ad Unit...",d.code),window.pbjs.removeAdUnit(d.code),r.BUILT_AD_UNITS.delete(d.code)),window.pbjs.addAdUnits(d),r.BUILT_AD_UNITS.add(d.code),null===(s=r.logger)||void 0===s||s.log("Requesting Video Bids...",d);window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[d.code],bidsBackHandler:function(e,n){var i,a;try{if(n)null===(a=r.logger)||void 0===a||a.log("Timed out...",e),o({err:"Bid request timed out."});else{var s=window.pbjs.getHighestCpmBids([d.code]),u=s[0],c="";s.forEach((function(e){e.videoCacheKey&&""!==c&&(c=u.videoCacheKey)})),null===(i=r.logger)||void 0===i||i.log("Received bids...",e);var l=window.pbjs.getAdserverTargeting()[d.code];""!==c&&(l.hb_uuid=c),t(l)}}catch(e){o(e)}},timeout:n})}catch(e){o(e)}}))},r.getMidRollVideoBids=function(e,n,t,o,i,a){return void 0===e&&(e="cnn_homepage_midroll"),void 0===n&&(n=750),void 0===t&&(t=30),void 0===o&&(o=[30]),void 0===i&&(i=[640,480]),void 0===a&&(a=30),new Promise((function(n,a){var s,d;try{null===(s=r.logger)||void 0===s||s.log("Building Video AdUnit...");var u={code:"midroll".concat((0,l.generateCacheBuster)()),mediaTypes:{video:{context:"adpod",playerSize:i,adPodDurationSec:t,durationRangeSec:o}},bids:[{bidder:"appnexus",params:{invCode:e,member:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:r.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,video:{skippable:!1,playback_methods:["auto_play_sound_on"]}}}]};null===(d=r.logger)||void 0===d||d.log("Adding Video AdUnits: ",u);n({})}catch(e){a(e)}}))},r.buildPrebidOutstreamAdUnits=function(e){var n,t,o,i;try{var a={code:"video1",mediaTypes:{video:{context:"outstream",playerSize:[300,250]}},bids:new Array,sizes:[[1,1]]},s=(0,c.isIntl)()?r.config.BIDDERS.OUTSTREAM.INTL:r.config.BIDDERS.OUTSTREAM.DOM;null===(n=r.logger)||void 0===n||n.log("Outstream Bidders: ",s);var d=e.unWrappedSlot.rktr_ad_id.split("/")[0].toLowerCase(),u=e.unWrappedSlot.rktr_slot_id.replace("ad_",""),l=e.targeting||[];null===(t=r.logger)||void 0===t||t.log("Slot Targets: ",l);for(var f=0;f<e.unWrappedSlot.targeting.length;f++){var g=e.targeting[f];"pos"===g[0]&&(u=g[1][0],g[1][0].split("_")[1])}return s.forEach((function(n){var t,o,i,s,l=new v;switch(null===(t=r.logger)||void 0===t||t.log("Outstream Bidder: ",l),a.code=e.posMap||e.unWrappedSlot.rktr_slot_id,n){case"appnexus":l.addParam("invCode","".concat(d,"_").concat(u)),l.addParam("member",(0,c.isIntl)()?r.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:r.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM),window.CNN&&window.CNN.cep_topics&&l.addParam("keywords",window.CNN.cep_topics),null===(o=r.logger)||void 0===o||o.log("AppNexus Bid Mock: ",l);break;case"ix":l.addParam("siteId",(0,c.isIntl)()?(null===(i=r.config.VENDOR.IX.SITE_ID.OUTSTREAM)||void 0===i?void 0:i.INTL)||0:(null===(s=r.config.VENDOR.IX.SITE_ID.OUTSTREAM)||void 0===s?void 0:s.DOM)||0),l.addParam("video",{w:640,h:360,playerSize:[640,360],plcmt:[2]});break;case"pubmatic":l.addParam("publisherId",(0,c.isIntl)()?r.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:r.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),l.addParam("outstreamAU","".concat(d,"_").concat(u)),l.addParam("video",{mimes:["video/mp4","video/x-flv"]}),l.addParam("adSlot",(0,c.isIntl)()?(0,p.default)().any?r.config.VENDOR.PUBMATIC.MAPPINGS.INTL.MOBILE[l.params.outstreamAU]:r.config.VENDOR.PUBMATIC.MAPPINGS.INTL.DESKTOP[l.params.outstreamAU]:(0,p.default)().any?r.config.VENDOR.PUBMATIC.MAPPINGS.DOM.MOBILE[l.params.outstreamAU]:r.config.VENDOR.PUBMATIC.MAPPINGS.DOM.DESKTOP[l.params.outstreamAU]);break;case"teads":l.addParam("placementId",(0,c.isIntl)()?r.config.VENDOR.TEADS.PLACEMENT_ID.INTL:r.config.VENDOR.TEADS.PLACEMENT_ID.DOM),l.addParam("pageId",(0,c.isIntl)()?r.config.VENDOR.TEADS.PAGE_ID.INTL:r.config.VENDOR.TEADS.PAGE_ID.DOM)}a.bids.push(l)})),null===(o=r.logger)||void 0===o||o.log("Outstream Ad Unit Mock: ",a),a}catch(e){return null===(i=r.logger)||void 0===i||i.error("Error when building Prebid Outstream Ad Units: ",e),{}}},r.buildPrebidAdUnits=function(e){var n,t=new Array,o=new Array;e.forEach((function(e){var n,i,a,s,d,u,l,f,g,m,h,b,y,O,E,I,_,w,S,C,A;null===(n=r.logger)||void 0===n||n.log("Wrapped Slot: ",e);var T=e.unWrappedSlot;if(null===(i=r.logger)||void 0===i||i.log("Unwrapped Slot: ",T),T.rktr_ad_id){null===(a=r.logger)||void 0===a||a.log("Slot has an ad unit:",T.rktr_ad_id);var D={code:"",ortb2Imp:{ext:{gpid:""}},mediaTypes:{banner:{sizes:new Array}},bids:new Array};if(e.monetization.isMonetized)if(null===(s=r.logger)||void 0===s||s.log("Slot is monetized."),T.rktr_slot_id.indexOf("_out_vid_")>=0)null===(d=r.logger)||void 0===d||d.log("Building Outstream Ad Unit: ",T),o.push(r.buildPrebidOutstreamAdUnits(e));else{null===(u=r.logger)||void 0===u||u.log("Building Banner Ad Unit: ",T);var N=new Array;null===(l=r.logger)||void 0===l||l.log("Size Mappings: ",r.RUBICON_SIZE_MAPPING),e.monetization.filteredSizes.forEach((function(e,n){var t,o="".concat(e.width,"x").concat(e.height);null===(t=r.logger)||void 0===t||t.log("Filtered Size: ",{sizeWrapper:e,index:n,targetSize:o}),N.push(r.RUBICON_SIZE_MAPPING[o])})),null===(f=r.logger)||void 0===f||f.log("Size Map Array: ",N);var P=T.rktr_ad_id.toLowerCase().split("/");null===(g=r.logger)||void 0===g||g.log("Ad Unit Array: ",P);var U=P[0]+(P[1]?"_"+P[1]:"");null===(m=r.logger)||void 0===m||m.log("criteoPubSubId: ",U);var M=T.rktr_ad_id.split("/"),R=M[0].toLowerCase()+(M[1]?"_"+M[1].toLowerCase():"");null===(h=r.logger)||void 0===h||h.log("invCode: ",{invCode:R,invCodeArray:M});var k="",L="atf";null===(b=r.logger)||void 0===b||b.log("A pos: ",{posValue:k,position:L});for(var x=0;x<e.unWrappedSlot.targeting.length;x++){var F=e.unWrappedSlot.targeting[x];"pos"===F[0]&&(k=F[1][0],L=F[1][0].split("_")[1])}null===(y=r.logger)||void 0===y||y.log("B pos: ",{posValue:k,position:L});var j=T.rktr_ad_id.indexOf("/homepage")>=0||T.rktr_ad_id.indexOf("/business/landing")>=0;null===(O=r.logger)||void 0===O||O.log("Is Homepage: ",j),D.code=T.rktr_slot_id,D.ortb2Imp.ext.gpid="".concat(T.rktr_ad_id,"#").concat(k),D.mediaTypes.banner.sizes=e.monetization.filteredSizes.map((function(e){return[e.width,e.height]})),null===(E=r.logger)||void 0===E||E.log("Banner Ad Unit Mock: ",D),k=JSON.parse(JSON.stringify(k)).replace(/"/g,""),null===(I=r.logger)||void 0===I||I.log("POS: ",k),null===(_=r.logger)||void 0===_||_.log("Location Check: ",{isIntl:(0,c.isIntl)(),isUSCNN:(0,c.isUSCNN)(),isMobile:(0,p.default)()});var B=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.BIDDERS.CLIENT.INTL:r.config.BIDDERS.CLIENT.DOM;null===(w=r.logger)||void 0===w||w.log("Bidders: ",B);var V={};B.forEach((function(n){var t,o,i,a,s,d,u,l,f;null===(t=r.logger)||void 0===t||t.log("Bidder: ",n);var g=new v;switch(n){case"appnexus":g.setBidder("appnexus"),g.params.invCode=R+"_"+k,g.params.member=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:r.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&g.addParam("keywords",window.CNN.cep_topics),null===(o=r.logger)||void 0===o||o.log("Pushing AppNexus Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V.appnexus=JSON.parse(JSON.stringify(g.params));break;case"criteo":g.setBidder("criteo"),g.params.networkId=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.CRITEO.ACCOUNT_ID.INTL:r.config.VENDOR.CRITEO.ACCOUNT_ID.DOM,g.addParam("publisherSubId","".concat(U,"_").concat(T.rktr_slot_id)),null===(i=r.logger)||void 0===i||i.log("Pushing Criteo Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V.criteo=JSON.parse(JSON.stringify(g.params));break;case"pangaea":g.setBidder("pangaea"),g.addParam("invCode",R+"_"+k),g.addParam("member",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.PANGAEA.ACCOUNT_ID.INTL:r.config.VENDOR.PANGAEA.ACCOUNT_ID.DOM),null===(a=r.logger)||void 0===a||a.log("Pushing Pangaea Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V.pangaea=JSON.parse(JSON.stringify(g.params));break;case"rubicon":g.setBidder("rubicon"),g.addParam("accountId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:r.config.VENDOR.RUBICON.ACCOUNT_ID.DOM),g.addParam("siteId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.RUBICON.SITE_ID.INTL.MOBILE:r.config.VENDOR.RUBICON.SITE_ID.INTL.DESKTOP:(0,p.default)().any?r.config.VENDOR.RUBICON.SITE_ID.DOM.MOBILE:r.config.VENDOR.RUBICON.SITE_ID.DOM.DESKTOP),(0,p.default)().any?j?g.addParam("zoneId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP):g.addParam("zoneId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS):j?g.addParam("zoneId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.HP[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS):g.addParam("zoneId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[L]?r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[L]:r.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS),g.addParam("position",L),g.addParam("sizes",N),null===(s=r.logger)||void 0===s||s.log("Pushing Rubicon Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V.rubicon=JSON.parse(JSON.stringify(g.params));break;case"ix":e.monetization.filteredSizes.forEach((function(e){var n,t=new v;t.setBidder("ix");var o="".concat(e.width,"x").concat(e.height);t.addParam("siteId",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.IX.SITE_ID.INTL.MOBILE[L][o]||"":r.config.VENDOR.IX.SITE_ID.DOM.MOBILE[L][o]||"":(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.IX.SITE_ID.INTL.DESKTOP[L][o]||"":r.config.VENDOR.IX.SITE_ID.DOM.DESKTOP[L][o]||""),t.addParam("size",JSON.parse(JSON.stringify(e.unwrapped))),""!==t.params.siteId&&(null===(n=r.logger)||void 0===n||n.log("Pushing IX Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t)))),V.ix=V.ix||{},V.ix[o]=JSON.parse(JSON.stringify(t.params))}));break;case"trustx":e.monetization.filteredSizes.forEach((function(e){var n,t=e.unwrapped.join("x"),o=new v;o.setBidder("trustx"),window.CNN&&window.CNN.cep_topics&&o.addParam("keywords",window.CNN.cep_topics),o.addParam("uid",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.TRUSTX.UID.INTL.MOBILE[L][t]||"":r.config.VENDOR.TRUSTX.UID.DOM.MOBILE[L][t]||"":(0,c.isIntl)()?r.config.VENDOR.TRUSTX.UID.INTL.DESKTOP[L][t]:r.config.VENDOR.TRUSTX.UID.DOM.DESKTOP[L][t]),""!==o.params.uid&&(null===(n=r.logger)||void 0===n||n.log("Pushing TRUSTX Bid: ",o),D.bids.push(JSON.parse(JSON.stringify(o)))),V.trustx=V.trustx||{},V.trustx[t]=JSON.parse(JSON.stringify(o.params))}));break;case"triplelift":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("triplelift");var o=e.join("x");t.addParam("inventoryCode",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?j&&r.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[o]?r.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[o]:r.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.ROS[o]:j&&r.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[o]?r.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[o]:r.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.ROS[o]:(0,c.isIntl)()&&!(0,c.isUSCNN)()?j&&r.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[o]?r.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[o]:r.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.ROS[o]:j&&r.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[o]?r.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[o]:r.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.ROS[o]);var i=!1;D.bids.forEach((function(e){"triplelift"===e.bidder&&(e.params.inventoryCode===t.params.inventoryCode&&(i=!0),i=!0)})),i||(null===(n=r.logger)||void 0===n||n.log("Pushing TripleLift Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t))))})),V.triplelift=JSON.parse(JSON.stringify(g.params));break;case"kargo":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("kargo");var o=e.join("x");t.addParam("placementId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.KARGO.MAPPINGS.INTL.MOBILE[o]:r.config.VENDOR.KARGO.MAPPINGS.DOM.MOBILE[o]);var i=!1;D.bids.forEach((),!i&&(0,p.default)().any&&(null===(n=r.logger)||void 0===n||n.log("Pushing Kargo Bid: ",t),D.bids.push(JSON.parse(JSON.stringify(t))))})),V.kargo=JSON.parse(JSON.stringify(g.params));break;case"districtm":g.setBidder("districtm"),g.addParam("placementId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.DISTRICTM.PID.INTL:r.config.VENDOR.DISTRICTM.PID.DOM),null===(d=r.logger)||void 0===d||d.log("Pushing DistrictM Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V.districtm=JSON.parse(JSON.stringify(g.params));break;case"sharethrough":D.mediaTypes.banner.sizes.forEach((function(e){var n,t=new v;t.setBidder("sharethrough");var o=e.join("x");t.addParam("pkey",(0,p.default)().any?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.MOBILE[o]:r.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.MOBILE[o]:(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.DESKTOP[o]:r.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.DESKTOP[o]);var i=!1;D.bids.forEach((function(e){"sharethrough"===e.bidder&&e.params.pkey===t.params.pkey&&(i=!0)})),!i&&t.params.pkey&&""!==t.params.pkey&&(null===(n=r.logger)||void 0===n||n.log("Pushing Sharethrough Bid for ".concat(D.code),t,T),D.bids.push(JSON.parse(JSON.stringify(t))))})),V.sharethrough=JSON.parse(JSON.stringify(g.params));break;case"pubmatic":g.setBidder("pubmatic"),g.addParam("publisherId",(0,c.isIntl)()?r.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:r.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),g.addParam("adSlot","".concat(M[0].toLowerCase(),"_").concat(k)),null===(u=r.logger)||void 0===u||u.log("Pushing Pubmatic Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V.pubmatic=JSON.parse(JSON.stringify(g.params));break;case"33across":g.setBidder("33across"),g.addParam("productId","siab"),g.addParam("siteId",(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.INTL:r.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.DOM),null===(l=r.logger)||void 0===l||l.log("Pushing 33Across Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V.thirtyThreeAcross=JSON.parse(JSON.stringify(g.params));break;case"yahoo":g.setBidder("yahoossp"),g.addParam("dcn",(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.DCN||"":r.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.DCN||"":(0,p.default)().any?r.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.DCN||"":r.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.DCN||""),g.addParam("pos",(0,c.isIntl)()&&!(0,c.isUSCNN)()?(0,p.default)().any?r.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.POS[L]||"":r.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.POS[L]||"":(0,p.default)().any?r.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.POS[L]||"":r.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.POS[L]||""),null===(f=r.logger)||void 0===f||f.log("Pushing Yahoo Bid: ",g),D.bids.push(JSON.parse(JSON.stringify(g))),V||(V={}),V.yahoo=JSON.parse(JSON.stringify(g.params))}})),e.programmatic.prebid=V,null===(S=r.logger)||void 0===S||S.log("Banner Ad Unit: ",D),r.BUILT_AD_UNITS.has(JSON.parse(JSON.stringify(D.code)))||(r.BUILT_AD_UNITS.add(JSON.parse(JSON.stringify(D.code))),t.push(JSON.parse(JSON.stringify(D))))}else null===(C=r.logger)||void 0===C||C.log("Slot is not monetized.")}else null===(A=r.logger)||void 0===A||A.log("Slot has no ad unit:",T.rktr_ad_id)}));var i={banner:t,outstream:o};return null===(n=r.logger)||void 0===n||n.log("Built Ad Units: ",i),i},r.preQueue=function(e){return new Promise((function(n,t){var o,i,a,s,d=!1;if(null===(o=r.logger)||void 0===o||o.log("========== Prebid Slots: ",e),e.length>0){var u=r.buildPrebidAdUnits(e);null===(i=r.logger)||void 0===i||i.log("========== Prebid Ad Units: ",u);var c=null==u?void 0:u.banner.filter((function(e){var n;return e.bids.length>0&&-1===(null===(n=r.REQUESTED_AD_UNITS)||void 0===n?void 0:n.banner.indexOf(e))})),l=null==u?void 0:u.outstream.filter((function(e){var n;return e.bids.length>0&&-1===(null===(n=r.REQUESTED_AD_UNITS)||void 0===n?void 0:n.outstream.indexOf(e))}));null===(a=r.logger)||void 0===a||a.log("========== Filtered Ad Units: ",{banner:c,outstream:l});var f=function(){var t,o,i,a,s,u,f,g,m,v;null===(t=r.logger)||void 0===t||t.log("========== Hey Kids!  It's the pbQueueFunction! =========="),c.length>0&&(null===(o=r.logger)||void 0===o||o.log("========== Adding Banner Ad Units...",JSON.parse(JSON.stringify(c))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(c))),c.forEach((function(e){r.REQUESTED_AD_UNITS.banner.push(e)}))),l.length>0&&(null===(i=r.logger)||void 0===i||i.log("========== Adding Outstream Ad Units...",JSON.parse(JSON.stringify(l))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(l))),l.forEach(()),null===(a=r.logger)||void 0===a||a.log("========== Pre-Processing for Requesting Bids...",{banner:c,outstream:l});var h=e.map((function(e){var n;return null===(n=r.logger)||void 0===n||n.log("========== Adding slot to requested slots: ",e),e.unWrappedSlot.rktr_slot_id}));null===(s=r.logger)||void 0===s||s.log("========== Requested slots...",h),l.forEach((function(n){var t;null===(t=r.logger)||void 0===t||t.log("Checking AdUnit: ",n),h.indexOf(n.code)>=0&&e.push(n.code)}));if(null===(u=r.logger)||void 0===u||u.log("========== Banner Ad Units: ",c.length),null===(f=r.logger)||void 0===f||f.log("========== Outstream Ad Units: ",l.length),null===(g=r.logger)||void 0===g||g.log("========== Slots: ",e.length),e.length>0&&(c.length>0||l.length>0)){window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}});var b=new Array;c.forEach((function(e){b.push(e.code)})),l.forEach((function(e){b.push(e.code)})),null===(m=r.logger)||void 0===m||m.log("========== REQUESTING BIDS:",{adUnitCodes:b,bannerAdUnits:c,outstreamAdUnits:l}),window.pbjs.requestBids({adUnitCodes:b,timeout:(0,p.default)().any?r.config.TIMEOUTS.DISPLAY.MOBILE:r.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(t,o){var i,a,s,u;if(t){null===(i=r.logger)||void 0===i||i.log("Bids/Slots: ",{bids:t,slots:e}),Object.keys(t).map((function(e){var n,t,o;null===(n=r.logger)||void 0===n||n.log("Getting manual targeting for ".concat(e));var i=window.pbjs.getAdserverTargetingForAdUnitCode(e),a=[];Object.keys(i).forEach((),null===(t=r.logger)||void 0===t||t.log("Setting Bulk Targeting for slot ".concat(e),a),null===(o=window.AdFuel)||void 0===o||o.setBulkTargeting({slotTargets:a})}));try{null===(a=null===window||void 0===window?void 0:window.googletag)||void 0===a||a.cmd.push(()}catch(t){null===(s=r.logger)||void 0===s||s.warn("failed to get display ad for preQueueCallback",t),n({name:"Prebid",slots:e,bids:null,errMsg:"Failed to get Display Ad for preQueueCallback",err:t})}}else null===(u=r.logger)||void 0===u||u.warn("No bids: ",{slots:e,bids:t}),n({name:"Prebid",slots:e,bids:null,errMsg:"No Bids.",err:!0})}})}else null===(v=r.logger)||void 0===v||v.log("========== No Slots"),n({name:"Prebid",slots:e})};null===(s=r.logger)||void 0===s||s.log("========== Pushing function onto pbjs.que:",f),window.pbjs.que.push(f)}}))},r.setGeoTargeting=function(e){var n,t;void 0===e&&(e=!1);try{var o=function(){var n,t,o,i,a,s,d;null===(n=r.logger)||void 0===n||n.log("Setting GeoTargeting... ",(0,c.isIntl)()||e),(0,c.isIntl)()?(null===(t=r.logger)||void 0===t||t.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):null===(o=window.googletag)||void 0===o||o.pubads().setTargeting("hbg","EU")):e?(null===(i=r.logger)||void 0===i||i.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):null===(a=window.googletag)||void 0===a||a.pubads().setTargeting("hbg","EU")):(null===(s=r.logger)||void 0===s||s.log("Setting Geo Target: US"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","US"):null===(d=window.googletag)||void 0===d||d.pubads().setTargeting("hbg","US"))};window.googletag&&window.googletag.apiReady?o():null===(n=window.googletag)||void 0===n||n.cmd.push(o)}catch(e){null===(t=r.logger)||void 0===t||t.log("err on setGeoTargeting: ",e)}},r.configurePrebidLibrary=function(e){var n,t;try{if(!r.libraryConfigured){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],r.libraryConfigured=!0;var o={buckets:[{precision:2,max:5,increment:.01},{precision:2,max:30,increment:.05},{precision:2,max:(0,c.isIntl)()?50:115,increment:1}]},i=r.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.PRICE_BUCKETS.INTL.DISPLAY:r.config.PRICE_BUCKETS.DOM.DISPLAY:o,a=r.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.PRICE_BUCKETS.INTL.VIDEO:r.config.PRICE_BUCKETS.DOM.VIDEO:{buckets:[{precision:2,max:50,increment:1},{precision:2,max:100,increment:5}]},d={banner:{buckets:i},video:{buckets:a},"video-instream":{buckets:a},"video-outstream":{buckets:r.config.PRICE_BUCKETS?(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.PRICE_BUCKETS.INTL.OUTSTREAM:r.config.PRICE_BUCKETS.DOM.OUTSTREAM:{buckets:[{precision:2,max:50,increment:1}]}}},u={buckets:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:(0,c.isIntl)()?50:115,increment:1}]},l=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.SEND_ALL_BIDS.INTL:r.config.SEND_ALL_BIDS.DOM;window.pbjs.que.push((function(){var e,n,t,o,i,a,f,m,v,h,b,y,O,E,I,_,w,S,C,A,T,D,N;null===(e=r.logger)||void 0===e||e.log("Is Mobile: ",(0,p.default)());var P=!1===(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isInRegion("global"));null===(o=r.logger)||void 0===o||o.log("Check Consent: ",P);var U={allowZeroCpmBids:!1,priceGranularity:u,mediaTypePriceGranularity:d,enableSendAllBids:l,bidderTimeout:(0,p.default)().any?r.config.TIMEOUTS.DISPLAY.MOBILE:r.config.TIMEOUTS.DISPLAY.DESKTOP,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},adpod:{brandCategoryExclusion:!0,prioritizeDeals:!0,dealTier:{appnexus:{prefix:"tier",minDealTier:6}}},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"],alwaysIncludeDeals:!0},userSync:{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}}},M=r.config.BIDDERS.S2S[(0,c.isIntl)()&&!(0,c.isUSCNN)()?"INTL":"DOM"];null===(i=r.logger)||void 0===i||i.log("Fire S2S: ",M.length>0),M.length>0&&(U.s2sConfig={accountId:"f7c6e556-48f6-4b8c-9fb6-921c12c9362f",enabled:!0,bidders:r.config.BIDDERS.S2S[(0,c.isIntl)()&&!(0,c.isUSCNN)()?"INTL":"DOM"],timeout:(0,p.default)().any?r.config.TIMEOUTS.DISPLAY.MOBILE:r.config.TIMEOUTS.DISPLAY.DESKTOP,adapter:"prebidServer",endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync"});var R={appnexus:{suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_appnexus_tier",val:function(e){if(null!=e.appnexus.dealPriority)return e.appnexus.dealPriority}}]},rubicon:{}};!(0,c.isIntl)()&&l&&(R.rubicon={alwaysUseBid:!0,suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_db_rubicon",val:]}),r.config.BIDDERS.OUTSTREAM=r.config.BIDDERS.OUTSTREAM||{DOM:[],INTL:[]},r.config.BIDDERS.VIDEO=r.config.BIDDERS.VIDEO||{DOM:[],INTL:[]};var k=[];(0,c.isIntl)()?(r.config.BIDDERS.CLIENT&&(k=s(s([],k,!0),r.config.BIDDERS.CLIENT.INTL,!0)),r.config.BIDDERS.S2S&&(k=s(s([],k,!0),r.config.BIDDERS.S2S.INTL,!0)),r.config.BIDDERS.OUTSTREAM&&(k=s(s([],k,!0),r.config.BIDDERS.OUTSTREAM.INTL,!0)),r.config.BIDDERS.VIDEO&&(k=s(s([],k,!0),r.config.BIDDERS.VIDEO.INTL,!0))):(r.config.BIDDERS.CLIENT&&(k=s(s([],k,!0),r.config.BIDDERS.CLIENT.DOM,!0)),r.config.BIDDERS.S2S&&(k=s(s([],k,!0),r.config.BIDDERS.S2S.DOM,!0)),r.config.BIDDERS.OUTSTREAM&&(k=s(s([],k,!0),r.config.BIDDERS.OUTSTREAM.DOM,!0)),r.config.BIDDERS.VIDEO&&(k=s(s([],k,!0),r.config.BIDDERS.VIDEO.DOM,!0))),k=k.map((function(e){return-1!==k.indexOf(e)?e:null})).filter((function(e){return null!==e})),r.logger.log("Bidders: ",k),k.forEach((function(e){var n,t;R[e]=R[e]||{},null===(n=r.logger)||void 0===n||n.log("Setting sendStandardTargeting for ".concat(e," to ").concat(!l)),R[e].sendStandardTargeting=!l,null===(t=r.logger)||void 0===t||t.log("Setting storageAllowed for ".concat(e)),R[e].storageAllowed=!0}));var L={name:"identityLink",params:{pid:"13452"},storage:{type:"cookie",name:"tok_lr2",expires:30}},x={name:"id5Id",params:{partner:963},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},F=g.CookieHelper.readCookie("sendAuthToken2");null===(a=r.logger)||void 0===a||a.log("sendAuthToken2:",F);var j=!1;j="string"==typeof F?"true"===(null===(f=g.CookieHelper.readCookie("sendAuthToken2"))||void 0===f?void 0:f.toLowerCase()):null!==F&&F,null===(m=r.logger)||void 0===m||m.log("sendAuthToken Boolean: ",j),!(0,c.isIntl)()&&L.params.pid&&j?(null===(v=r.logger)||void 0===v||v.log("Adding IdentityLink/LiveRamp UserID Config...",L),U.userSync=U.userSync||{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}},U.userSync.userIds.push(L),null===(h=window.googletag)||void 0===h||h.cmd.push((function(){var e,n;null===(e=r.logger)||void 0===e||e.log("Setting tok_lr2 targeting...",g.CookieHelper.readCookie("tok_lr2")),null===(n=window.googletag)||void 0===n||n.pubads().setTargeting("tok_lr2",g.CookieHelper.readCookie("tok_lr2")||"")}))):(0,c.isIntl)()&&(null===(b=r.logger)||void 0===b||b.log("Adding Id5Id UserID Config...",x),U.userSync.userIds.push(x));var B=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.BIDDERS.CLIENT.INTL.indexOf("districtm")>=0:r.config.BIDDERS.CLIENT.DOM.indexOf("districtm")>=0,V=(0,c.isIntl)()&&!(0,c.isUSCNN)()?r.config.BIDDERS.CLIENT.INTL.indexOf("trustx")>=0||r.config.BIDDERS.VIDEO.INTL.indexOf("trustx")>=0:r.config.BIDDERS.CLIENT.DOM.indexOf("trustx")>=0||r.config.BIDDERS.VIDEO.DOM.indexOf("trustx")>=0;if(P){var Z=null===(O=null===(y=window.WM)||void 0===y?void 0:y.UserConsent)||void 0===O?void 0:O.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);null===(E=r.logger)||void 0===E||E.log("Checking for Consent..."),Z&&(U.consentManagement=U.consentManagement||{},window.WM.UserConsent.isInRegion("gdpr")&&(U.consentManagement.gdpr={cmpApi:"iab",timeout:100}),window.WM.UserConsent.isInRegion("gpp")&&(U.consentManagement.gpp={cmpApi:"iab",timeout:100}),U.consentManagement.usp={cmpApi:"iab",timeout:100},null===(I=r.logger)||void 0===I||I.log("Setting config...",U),window.pbjs.setConfig(U),null===(_=r.logger)||void 0===_||_.log("Setting Bidder Settings...",R),window.pbjs.bidderSettings=R,B&&(null===(w=r.logger)||void 0===w||w.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),V&&(null===(S=r.logger)||void 0===S||S.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx")))}else null===(C=r.logger)||void 0===C||C.log("Skipping User Consent Check..."),null===(A=r.logger)||void 0===A||A.log("Setting config...",U),window.pbjs.setConfig(U),null===(T=r.logger)||void 0===T||T.log("Setting Bidder Settings...",R),window.pbjs.bidderSettings=R,B&&(null===(D=r.logger)||void 0===D||D.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),V&&(null===(N=r.logger)||void 0===N||N.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx"))})),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.Prebid=window.PrebidVideoAPI={getTargetingData:r.getVideoBids,getRefreshedTargetingData:r.getRefreshedVideoBids,getPreRollTargetingData:r.getVideoBids,getMidRollTargetingData:r.getMidRollVideoBids,getRefreshedPreRollTargetingData:r.getRefreshedVideoBids,getRefreshedMidRollTargetingData:r.getMidRollVideoBids,__VERSION__:r.MODULE_VERSION};var m=(0,f.getUrlParam)("mdt");m&&(Object.keys(r.config.TIMEOUTS).forEach((),null===(n=r.logger)||void 0===n||n.log("Overriding Max Duration Time: ",r.config.TIMEOUTS))}}catch(e){null===(t=r.logger)||void 0===t||t.log("err on configurePrebidLibrary: ",e)}},r.init=function(){return new Promise((function(e,n){return i(r,void 0,void 0,(function(){var n,t,r,o,i,s=this;return a(this,(function(a){return null===(t=this.logger)||void 0===t||t.info("Initializing Prebid Module..."),this.enabled&&(null===(r=this.logger)||void 0===r||r.info("Initializing Module: ",this.config),n=this.validateConfiguration(this.config),null===(o=this.logger)||void 0===o||o.log("Validation: ",n),this.configurePrebidLibrary(this.config),(0,c.isIntl)()&&(this.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),window.AdFuel?(null===(i=this.logger)||void 0===i||i.log("Setting Module Ready"),window.AdFuel.setModuleReady(this.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;null===(e=s.logger)||void 0===e||e.log("Setting Module Ready"),window.AdFuel.setModuleReady(s.MODULE_LOG_TAG)})),e()),[2]}))}))}))},null===(t=r.logger)||void 0===t||t.info("Prebid Module constructed"),r}return o(n,e),n.prototype.preDispatch=n.prototype.preRefresh=function(e){var n=this;return new Promise((function(t){var r,o,i,a,s,d,u,c,l;null===(r=n.logger)||void 0===r||r.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Pre-Refresh Assets: ",e);var f=!1;if(e.length>0){null===(o=n.logger)||void 0===o||o.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  BUILT_AD_UNITS:",n.BUILT_AD_UNITS),e.forEach(();var g=n.buildPrebidAdUnits(e);null===(i=n.logger)||void 0===i||i.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  AdUnits: ",g);var m=e.map((function(e){var t;return null===(t=n.logger)||void 0===t||t.log("Page Slot: ",e,e.slotId),e.slotId}));if(null===(a=n.logger)||void 0===a||a.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Refreshed Page Slots: ",m),g.banner.length>0){null===(s=n.logger)||void 0===s||s.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Banner Ad Units: ",g.banner);var v=new Array;g.banner.forEach((function(e){v.push(e.code)})),g.outstream.forEach((),null===(d=n.logger)||void 0===d||d.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Ad Unit Codes: ",v),window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),null===(u=n.logger)||void 0===u||u.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Requesting Bids...",v),window.pbjs.requestBids({adUnitCodes:v,timeout:(0,p.default)().any?n.config.TIMEOUTS.DISPLAY.MOBILE:n.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(r,o){var i,a,s;try{null===(i=n.logger)||void 0===i||i.log("GOT BIDS: ",r,v),null===(a=window.googletag)||void 0===a||a.cmd.push(()}catch(r){null===(s=n.logger)||void 0===s||s.warn("failed to get display ad for preRefreshCallback",r),t({name:"Prebid",err:r,slots:e})}}})}else null===(c=n.logger)||void 0===c||c.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Ad Units to Refresh.",g),f||(f=!0,t({name:"Prebid",slots:e,adUnits:g}))}else null===(l=n.logger)||void 0===l||l.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Slots To Refresh.",e),f||(f=!0,t({name:"Prebid",slots:e}))}))},n.prototype.destroySlots=function(e){var n=this;return new Promise((function(t,r){var o=Object.assign({},n.REQUESTED_AD_UNITS),i=s([],Array.from(n.BUILT_AD_UNITS),!0);e.forEach((function(e){var t;o.banner.forEach((function(t,r){var o,i;null===(o=n.logger)||void 0===o||o.log("rAU AdUnit: ",t),t.code===e.slotId&&(null===(i=n.logger)||void 0===i||i.log("Destroying Slot Requested Record: ",e.slotId),n.REQUESTED_AD_UNITS.banner.splice(r,1))})),i.forEach((function(t,r){var o,i;null===(o=n.logger)||void 0===o||o.log("bAU AdUnit: ",t),t===e.slotId&&(null===(i=n.logger)||void 0===i||i.log("Destroying Slot Built Record: ",e.slotId),n.BUILT_AD_UNITS.delete(e.slotId))})),null===(t=n.logger)||void 0===t||t.log("Removing Ad Unit from PBJS: ",e.slotId),window.pbjs.removeAdUnit(e.slotId)})),t({name:"Prebid",slots:e})}))},n}(d.AAdFuelModule);t.Prebid=b,new b(window.AdFuelOptions.PREBID||{BIDDERS:{CLIENT:{DOM:[],INTL:[]},OUTSTREAM:{DOM:[],INTL:[]},S2S:{DOM:[],INTL:[]},VIDEO:{DOM:[],INTL:[]}},DEBUG:!1,SEND_ALL_BIDS:{DOM:!0,INTL:!0},TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:500,MIDROLL:750,REFRESH:1e3}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"7745",INTL:"8353"}},CRITEO:{ACCOUNT_ID:{DOM:4157,INTL:9264}},RUBICON:{ACCOUNT_ID:{DOM:"11078",INTL:"11016"},SITE_ID:{DOM:{DESKTOP:0,MOBILE:0},INTL:{DESKTOP:0,MOBILE:0}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}},INTL:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}}}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}}},PRICE_BUCKETS:{DOM:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:.01}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]},INTL:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]}}})},{"./prebidLibrary":14,"./version.json":15,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/generateCacheBuster":5,"@turnercode/digital-ads-utilities/dist/getUrlParam":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(require,module,exports){if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(e){}else(function(){!function(){var e,n={5706:4947:286:9633:6310:1087:function(e,n,t){t.d(n,{hb:function(){return b}});var r=t(1002),o=t(3324),i=t(265),a=t(3193),s=t(571),d=t(4947);function u(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var l=["user.data","user.ext.data","user.yob","user.gender","user.keywords","user.kwarray"],f=["user.eids","user.ext.eids"],g=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];b=);(0,s.oB)(d.Jt,"enableTIDs config",()},571:875:8525:6104:function(e,n,t){t.d(n,{O6:function(){return F},uV:function(){return Z}});var r=t(9062),o=t(3324),i=t(4942),a=t(4358),s=t(265),d=t(59),u=t(4699),c=t(8928),l=t(3193),f=t(2797),g=t(4614),p=t(875),m=t(5102),v=t(4516),h=t(2021),b=t(5644),y=t(9128),O=t(8653),E=t(9633),I=t(571),_=t(4947),w=t(6310),S=t(1087);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T="pbsBidAdapter",D="client",N="server",P={isAllowed:I.xD,redact:S.hb},U={},M=U.bidderRegistry={},R=U.aliasRegistry={},k=[];l.vc.getConfig("s2sConfig",();var L={},x=(0,w.Oj)((function(e){return U.resolveAlias(e)}));ar j=(0,f.z3)("sync",(,"getBids"),B=(0,f.z3)("sync",(,"filterBidsForAdUnit");var V=(0,f.z3)("sync",(function(e,n){return e}),"setupAdUnitMediaTypes");ar G=(0,f.z3)("sync",(,"partitionBidders");akeBidRequests=(0,f.z3)("sync",(function(e,n,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;s=(0,y.Bf)(s),h.j8(b.FP.BEFORE_REQUEST_BIDS,e),(0,d.Fb)(e),e.forEach((),e=V(e,o);var u=G(e,k),c=u[D],f=u[N];l.vc.getConfig("bidderSequence")===l.FD&&(c=(0,a.TV)(c));var p=(0,m.nH)(),O=[],I=i.global||{},w=i.bidder||{};.forEach(();var C=e);return c.forEach((),O.forEach((),O}),"makeBidRequests"),U.callBids=U.videoAdapters=[],U.registerBidAdapter=U.aliasBidAdapter=U.resolveAlias=U.registerAnalyticsAdapter=U.enableAnalytics=U.getBidAdapter=function(e){return M[e]},U.getAnalyticsAdapter=function(e){return L[e]},U.callTimedOutBidders=U.callBidWonBidder=U.callBidBillableBidder=U.callSetTargetingBidder=function(e,n){q(e,"onSetTargeting",n)},U.callBidViewableBidder=U.callBidderError=U.callDataDeletionRequest=(0,f.z3)("sync",(),n.ZP=U},4699:function(e,n,t){t.d(n,{BF:function(){return N},JY:function(){return U},PZ:function(){return A},dX:function(){return C}});var r=t(1002),o=t(3324),i=t(8525),a=t(6104),s=t(3193),d=t(9626),u=t(1974),c=t(59),l=t(154),f=t(5644),g=t(2021),p=t(4614),m=t(4358),v=t(2797),h=t(8653),b=t(5975),y=t(9128),O=t(571),E=t(286),I=t(9633),_=t(4947),w=["cpm","ttl","creativeId","netRevenue","currency"],S=["auctionId","transactionId"];r T=(0,v.z3)("sync",(,"processBidderRequests"),D=(0,v.z3)("async",(,"registerSyncs"),N=(0,v.z3)("sync",(,"addComponentAuction");730:8928:function(e,n,t){t.d(n,{OI:function(){return p},hj:function(){return m}});var r=t(3324),o=t(1002),i=t(3193),a=t(4358),s={fetch:window.fetch.bind(window),makeRequest:timeout:,d="GET",u="POST",c="Content-Type";m=p();l()},5686:function(e,n,t){t.d(n,{LX:function(){return J},RH:function(){return q},Yt:function(){return M},Yw:function(){return C},dg:function(){return z},lU:function(){return L},mv:function(){return A},vO:function(){return U}});var r=t(1002),o=t(4358),i=t(265),a=t(6463),s=t(59),d=t(9885),u=t(5706),c=t(3193),l=t(1974),f=t(2797),g=t(4614),p=t(154),m=t(4679),v=t(8653),h=t(5975),b=t(2021),y=t(6104),O=t(5644),E=t(8792),I=t(9128),_=t(6066),w=t(8640),S=l.k_.syncUsers,C="inProgress",A="completed";b.on(O.FP.BID_ADJUSTMENT,();var T={},D={},N=[],P=(0,w.R)();function U(e){var n=e.adUnits,t=e.adUnitCodes,i=e.callback,a=e.cbTimeout,s=e.labels,d=e.auctionId,u=e.ortb2Fragments,l=e.metrics;l=(0,I.Bf)(l);var f,p,h,_,w=n,U=s,F=t,j=d||(0,o.DO)(),V=a,Z=new Set,G=(0,E.P)(),H=[],q=i,z=[],K=[],J=[],X=[],Q=[];ction te(e){Z.add(e)}function re(e){var n=this;e.forEach(();var t={},i={bidRequests:e,run:function(){h=setTimeout((,V),_=C,b.j8(O.FP.AUCTION_INIT,$());var i=ne,n);y.ZP.callBids(w,e,i.addBidResponse,i.adapterDone,{request:done:,V,te,u)}};i)||((0,o.yN)("queueing auction due to limited endpoint capacity"),N.push(i))}return b.on(O.FP.SEAT_NON_BID,(),{addBidReceived:function(e){K=K.concat(e)},addBidRejected:function(e){H=H.concat(e)},addNoBid:callBids:addWinningBid:setBidTargeting:getWinningBids:function(){return X},getAuctionStart:function(){return f},getAuctionEnd:function(){return p},getTimeout:function(){return V},getAuctionId:function(){return j},getAuctionStatus:function(){return _},getAdUnits:function(){return w},getAdUnitCodes:function(){return F},getBidRequests:function(){return z},getBidsReceived:function(){return K},getNoBids:function(){return J},getNonBids:function(){return Q},getFPD:function(){return u},getMetrics:function(){return l},end:G.promise}}var M=(0,f.z3)("sync",(,"addBidResponse"),R=(0,f.z3)("sync",(,"addBidderRequests"),k=(0,f.z3)("async",(,"bidsBackCallback");r F,j,B=V=c.vc.getConfig("cache",();var Z=),G=(0,f.z3)("async",(,"callPrebidCache");r q=z=53:8833:5975:9626:3193:4516:function(e,n,t){t.d(n,{$P:function(){return O},NO:function(){return Z},TJ:function(){return F},nX:function(){return x},qh:function(){return B},rp:function(){return L}});var r=t(3324),o=t(7326),i=t(9340),a=t(2963),s=t(1120),d=t(5671),u=t(3144),c=t(4942),l=t(8916),f=t(2793),g=t(4358),p=t(8792),m=t(3193);function v(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,s.Z)(e);if(n){var o=(0,s.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,a.Z)(this,t)}}nction y(e,n,t){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return t}var O=Object.freeze({}),E=new WeakMap,I=new WeakMap,_=new WeakMap,w=new WeakMap,S=new WeakMap,C=new WeakMap,A=new WeakSet,T=);ar N,P,U,M=T),R=T),k=T),L=new R,x=new M,F=new k,j=),B=(N={},P={},U={},{register:get:),V={gdpr:L,usp:x,gpp:F,coppa:j},Z=)},6463:3777:2021:function(e,n,t){t.d(n,{S1:function(){return v},j8:function(){return b},on:function(){return m},vw:function(){return h}});var r=t(4358),o=t(5644),i=t(613),a=t(3193),s="eventHistoryTTL",d=null,u=(0,i.Z)({monotonic:!0,ttl:function(){return d}});a.vc.getConfig(s,();var c=Array.prototype.slice,l=Array.prototype.push,f=Object.values(o.FP),g=o.aI,p=function(){var e={},n={};eturn n.on=n.emit=n.off=n.get=function(){return e},n.addEvents=function(e){f=f.concat(e)},n.getEvents=n}();r.u2(p.emit.bind(p));var m=p.on,v=p.off,h=(p.get,p.getEvents),b=p.emit;p.addEvents},4078:3790:8196:2797:4679:59:function(e,n,t){t.d(n,{Fb:function(){return D},JL:function(){return x},Sg:function(){return v},Ur:function(){return R},e6:function(){return M},eK:function(){return L},lY:function(){return V},r4:function(){return P},xc:function(){return h},zq:function(){return W}});var r=t(9062),o=t(3324),i=t(4942),a=t(265),s=t(4358),d=t(4614),u=t(8653),c=t(5644),l=t(4679);function f(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=[],h=Object.keys(c.FY).map((function(e){return c.FY[e]})),b={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},y=c.s$,O=c.oF,E=c.V1,I=c.zA,_=c.FY,w=H(E),S=H(y),C={img:1,js:2,1:"img",2:"js"},A=1;on(e,n,t){t.d(n,{O5:function(){return we}});var r=t(3324),o=t(4942),i=t(8640),a=t(4358),s=t(265),d=t(6475),u=t(2021),c=t(59),l=t(5644),f=t(8653),g=t(4614),p=t(5706),m=t(3193),v=l.FP,h=v.AD_RENDER_FAILED,b=v.AD_RENDER_SUCCEEDED;r E=l.FP.BID_WON,I=l.FP.STALE_RENDER,_=new WeakSet,w={"Prebid Request":"Prebid Event":;ject.assign(w,{"Prebid Native":);var A=t(1974),T=t(9062),D=t(4679),N=t(2797),P=t(5975),U=t(1136),M=t(8833),R=[],k="targetingControls.allowTargetingKeys",L="targetingControls.addTargetingKeys",x='Only one of "'.concat(k,'" or "').concat(L,'" can be set'),F=Object.keys(l.TD).map((function(e){return l.TD[e]})),j={isActualBid:isBidNotExpired:isUnusedBid:;ar V=(0,N.z3)("sync",();ar G=function(e){var n={},t={};estAuctionForAdUnit=function(e,n){t[e]=n},n.resetPresetTargeting=n.resetPresetTargetingAST=n.getAllTargeting=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),t=f(e),r=v(t,n).concat(E(t,n)).concat(m.vc.getConfig("enableSendAllBids")?I(t,n):i(t,n)).concat(w(t));r.map(();var o=Object.keys(Object.assign({},l.kF,l.FY)),s=m.vc.getConfig(k),c=m.vc.getConfig(L);if(null!=c&&null!=s)throw new Error(x);s=null!=c?o.concat(c):s||o,Array.isArray(s)&&s.length>0&&(r=d(r,s)),r=u(r);var g=m.vc.getConfig("targetingControls.auctionKeyMaxChars");return g&&((0,a.PN)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(g," characters.  Running checks on auction keys...")),r=r,g)),t.forEach((),r},m.vc.getConfig("targetingControls",(),n.setTargetingForGPT=n.getWinningBids=n.setTargetingForAst=n.isApntagDefined=n}(f.K),W=t(3777),H=t(875),q=t(9626),z=t(5164),K=t(6104),J=t(9128),X=t(8792),Y=t(4078),Q=t(4516),$=t(154),ee=(0,i.R)(),ne=A.k_.triggerUserSyncs,te=l.FP,re=te.ADD_AD_UNITS,oe=te.BID_WON,ie=te.REQUEST_BIDS,ae=te.SET_TARGETING,se=te.STALE_RENDER,de=l.q_,ue=de.PREVENT_WRITING_ON_MAIN_DOCUMENT,ce=de.NO_AD,le=de.EXCEPTION,fe=de.CANNOT_FIND_AD,ge=de.MISSING_DOC_OR_ADID,pe={bidWon:;)(),ee.bidderSettings=ee.bidderSettings||{},ee.libLoaded=!0,ee.version="v8.15.0-WBD",(0,a.PN)("Prebid.js v8.15.0-WBD loaded"),ee.installedModules=ee.installedModules||[],ee.adUnits=ee.adUnits||[],ee.triggerUserSyncs=ne;var Ie={validateAdUnit:Ee,validateBannerMediaType:he,validateSizes:ve};Object.assign(Ie,{validateNativeMediaType:ye}),Object.assign(Ie,{validateVideoMediaType:be});var _e,we=(0,N.z3)("sync",(,"checkAdUnitSetup");.getAdserverTargetingForAdUnitCodeStr=ee.getHighestUnusedBidResponseForAdUnitCode=ee.getAdserverTargetingForAdUnitCode=ee.getAdserverTargeting=ee.getConsentMetadata=ee.getNoBids=function(){return(0,a.PN)("Invoking pbjs.getNoBids",arguments),Se("getNoBids")},ee.getNoBidsForAdUnitCode=function(e){return{bids:f.K.getNoBids().filter((function(n){return n.adUnitCode===e}))}},ee.getBidResponses=ee.getBidResponsesForAdUnitCode=ee.setTargetingForGPTAsync=ee.setTargetingForAst=ee.renderAd=(0,N.z3)("async",(),ee.removeAdUnit=ee.requestBids=(_e=(0,N.z3)("async",(,"requestBids"),(0,N.IF)(_e,());var Ae=(0,N.z3)("async",(,"startAuction");ee.requestBids.before((,49),ee.addAdUnits=ee.onEvent=ee.offEvent=ee.getEvents=ee.registerBidAdapter=ee.registerAnalyticsAdapter=ee.createBid=var Te=[],De=(0,N.z3)("async",(,"enableAnalyticsCb");ee.enableAnalytics=ee.aliasBidder=ee.aliasRegistry=K.ZP.aliasRegistry,m.vc.getConfig("aliasRegistry",(),ee.getAllWinningBids=function(){return f.K.getAllWinningBids()},ee.getAllPrebidWinningBids=ee.getHighestCpmBids=function(e){return G.getWinningBids(e)},ee.markWinningBidAsUsed=var Ne=e.getConfig=m.vc.getAnyConfig,ee.readConfig=m.vc.readAnyConfig,ee.mergeConfig=m.vc.mergeConfig,ee.mergeBidderConfig=m.vc.mergeBidderConfig,ee.setConfig=m.vc.setConfig,ee.setBidderConfig=m.vc.setBidderConfig,ee.que.push((),ee.cmd.push=ee.que.push=ee.cmd.push,ee.processQueue=ee.triggerBilling=,8640:5102:5164:1974:4358:function(e,n,t){t.d(n,{$8:function(){return me},$u:function(){return X},AB:function(){return Re},D9:function(){return mn},DO:function(){return U},EE:function(){return C},Ee:function(){return cn},FO:function(){return be},FS:function(){return Ve},G2:function(){return Je},H:function(){return q},HA:function(){return ue},HC:function(){return Qe},HP:function(){return pn},I8:function(){return De},IG:function(){return xe},IK:function(){return Te},LQ:function(){return $},NA:function(){return Ie},NI:function(){return F},Ob:function(){return k},PN:function(){return W},PO:function(){return re},Q2:function(){return dn},R_:function(){return pe},Re:function(){return R},S0:function(){return Ze},SG:function(){return he},T9:function(){return Se},TV:function(){return Ae},U:function(){return Ke},V9:function(){return _e},Vs:function(){return ve},W$:function(){return fn},X4:function(){return Ce},XV:function(){return nn},Yp:function(){return an},Zy:function(){return B},_R:function(){return ln},_d:function(){return P},ak:function(){return D},bd:function(){return ke},d5:function(){return tn},d8:function(){return ee},dj:function(){return gn},e7:function(){return V},eB:function(){return J},ei:function(){return Xe},en:function(){return sn},ew:function(){return Ue},fr:function(){return Pe},hj:function(){return te},hl:function(){return $e},hq:function(){return ge},iG:function(){return Be},jC:function(){return le},jH:function(){return ae},ji:function(){return G},jn:function(){return oe},kJ:function(){return ne},ky:function(){return qe},oV:function(){return Ge},or:function(){return ze},pJ:function(){return rn},pP:function(){return we},qp:function(){return z},r3:function(){return de},rD:function(){return Y},ry:function(){return vn},s:function(){return x},sF:function(){return L},t0:function(){return M},tT:function(){return ye},u2:function(){return I},uh:function(){return Ye},vM:function(){return je},vZ:function(){return un},wn:function(){return Le},xH:function(){return Oe},x_:function(){return Me},xb:function(){return ie},yL:function(){return Ne},yN:function(){return H},yi:function(){return se},yo:function(){return en},yx:function(){return Fe},zE:function(){return Ee},zV:function(){return He}});var r,o=t(3324),i=t(9062),a=t(4942),s=t(1002),d=t(3193),u=t(7079),c=t.n(u),l=t(4614),f=t(5644),g=t(8792),p=t(8640),m=Object.prototype.toString,v=Boolean(window.console),h=Boolean(v&&window.console.log),b=Boolean(v&&window.console.info),y=Boolean(v&&window.console.warn),O=Boolean(v&&window.console.error),E=(0,p.R)();r w={checkCookieSupport:xe,createTrackPixelIframeHtml:getWindowSelf:V,getWindowTop:B,getWindowLocation:Z,insertUserSyncIframe:ve,insertElement:le,isFn:$,triggerPixel:ge,logError:q,logWarn:H,logMessage:G,logInfo:W,parseQS:on,formatQS:an,deepEqual:un},S={};ar A,T={},D=bind(null,1,T)()===T?Function.prototype.bind:N=(A=0,;B(){return window.top}function V(){return window.self}unction G(){J()&&h&&console.log.apply(console,K(arguments,"MESSAGE:"))}unction H(){J()&&y&&console.warn.apply(console,K(arguments,"WARNING:")),_(f.FP.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}n $(e){return Q(e,"Function")}function ee(e){return Q(e,"String")}function ne(e){return Q(e,"Array")}function te(e){return Q(e,"Number")}function re(e){return Q(e,"Object")}ar n;return Se()&&(n=(0,l.sE)(window.googletag.pubads().getSlots(),e))),n}(e);return n?{gptSlot:n.getAdUnitPath(),divId:n.getSlotElementId()}:{}} nn(e){return Math.min.apply(Math,(0,i.Z)(e))}92:1136:function(e,n,t){function r(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){d=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw a}}}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}{K$:function(){return p},LT:function(){return u},ZH:function(){return g},xI:function(){return a}});var l=a((function(e){return e.cpm})),f=a((function(e){return e.responseTimestamp})),g=c(d(l,s(a((function(e){return e.timeToRespond}))))),p=c(d(l,s(f)));c(d(l,f))},613:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(4942),o=t(3324),i=t(8792),a=t(4358);54:function(e,n,t){t.d(n,{Dn:function(){return l},LD:function(){return u},cx:function(){return c},gZ:function(){return d},hD:function(){return f}});var r=t(265),o=t(4358),i=t(3193),a=t(2797),s=t(8653),d="outstream",u="instream";r f=(0,a.z3)("sync",(,"checkVideoBidSetup")},9885:265:1432:function(e){
/*
                * @license MIT
                * Fun Hooks v0.9.10
                * (c) @snapwich
                */
a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),t=new WeakMap,r="2,1,0"===[1].reduce((,2).toString()?Array.prototype.reduce:ar i=Object.assign||function a(e){var s,d={},u=[];n(e=i({},n,e)).ready?c.ready=s=!0,c.get=f,c}e.exports=a},7079:907:3878:5057:7326:6983:6011:5671:1519:8916:2793:3144:4942:1120:9340:9199:1902:5267:function(e,n,t){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.d(n,{Z:function(){return r}})},2786:2963:3324:9062:1002:function(e,n,t){.d(n,{Z:function(){return r}})},181:6475:5644:,t={};.m=n,e=[],r.O=r.n=r.d=r.o=);var o=r(7055);o=r.O(o)}(),(self.pbjsChunk=self.pbjsChunk||[]).push([[157],{676:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[190],{4292:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[106],{2654:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[968],{2712:function(e,n,t){t.d(n,{b6:function(){return f},kX:function(){return c},m1:function(){return l},sM:function(){return u}});var r=t(4942),o=t(3324),i=t(9062),a=t(8792);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=0,c=1,l=2;function f(e){var n=e.apiName,t=e.apiVersion,s=e.apiArgs,f=void 0===s?["command","callback","parameter","version"]:s,g=e.callbackArgs,p=void 0===g?["returnValue","success"]:g,m=e.mode,v=void 0===m?u:m,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,b={},y="".concat(n,"Call"),O="".concat(n,"Return");ar I,_=),w=(0,o.Z)(_,2),S=w[0],C=w[1];if(S)return C?I=(h.addEventListener("message",E,!1),I=,Object.assign(I,{isDirect:C,close:);}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[279],{4980:1283:5840:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[951],{9933:1021:9702:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[635],{9957:]),(self.pbjsChunk=self.pbjsChunk||[]).push([[871],{8979:function(e,n,t){var r=t(4942),o=t(3324),i=t(9062),a=t(8640),s=t(4358),d=t(265),u=t(5686),c=t(7055),l=t(154),f=t(2797),g=t(9885),p=t(3193),m=t(4679),v=t(4614),h=t(8653),b=t(5644),y="hb_pb_cat_dur",O="hb_cache_id",E=50,I=5,_=);etConfig("adpod",(),(0,f.o0)((0,f.v5)("callPrebidCache"),(),(0,f.o0)(c.O5,(),(0,f.o0)(l.hD,();var N={TARGETING_KEY_PB_CAT_DUR:y,TARGETING_KEY_CACHE_ID:O,getTargeting:;Object.freeze(N),(0,f.bA)("adpod",(),(0,a.z)("adpod")}},function(e){e(e.s=8979)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[864],{6319:function(e,n,t){var r=t(1002),o=t(9062),i=t(8640),a=t(4358),s=t(265),d=t(5706),u=t(3193),c=t(4699),l=t(4679),f=t(4614),g=t(154),p=t(5164),m=t(5975),v=t(7673),h=t(59),b=t(4292),y=t(2654),O="appnexus",E=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],I=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],_=["age","externalUid","external_uid","segments","gender","dnt","language"],w=["geo","device_id"],S=["enabled","dongle","member_id","debug_timeout"],C={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},A={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},T={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},D=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,N=(0,p.df)({bidderCode:O}),P={code:O,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32}],supportedMediaTypes:[l.Mk,l.pX,l.B5],isBidRequestValid:buildRequests:interpretResponse:getUserSyncs:transformBidParams:;0,i.z)("appnexusBidAdapter")},7673:function(e,n,t){t.d(n,{h:function(){return o}});var r=t(265);function o(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},),(self.pbjsChunk=self.pbjsChunk||[]).push([[156],{9496:function(e,n,t){var r=t(8640),o=t(3193),i=t(2797),a=t(8928),s=t(4358),d=t(5686),u=t(5164),c=t(9128),l=(0,u.eA)("categoryTranslation"),f="iabToFwMappingkey",g="iabToFwMappingkeyPub",p=(0,i.z3)("async",(function(e){"freewheel"===e&&v("https://cdn.jsdelivr.net/gh/prebid/category-mapping-file@1/freewheel-mapping.json",f)}),"registerAdserver");i.Cd.then((function(){return p()}));var m=(0,c.A)("categoryTranslation",();.vc.getConfig("brandCategoryTranslation",(),(0,r.z)("categoryTranslation")}},function(e){e(e.s=9496)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[266],{5630:function(e,n,t){var r,o,i,a,s,d,u=t(1002),c=t(8640),l=t(4358),f=t(6475),g=t(3193),p=t(4516),m=t(4614),v=t(9128),h=t(6372),b=t(4078),y=t(2712),O=!1,E={iab:static:function(e){var n=e.onSuccess,t=e.onError;w(a,{onSuccess:n,onError:t})}};ar _=(0,v.g3)("gdpr",(function(e,n){var t;t=function(t,r){if(r){var o,i,a=l.yN;null!==(o=window.WM)&&void 0!==o&&null!==(i=o.UserConsent)&&void 0!==i&&i.isInRegion("gdpr")&&t&&(a=l.H,r="".concat(r," Canceling auction as per consentManagement config."));for(var s=arguments.length,d=new Array(s>2?s-2:0),u=2;u<s;u++)d[u-2]=arguments[u];a.apply(void 0,[r].concat(d))}t?(e.stopTiming(),"function"==typeof n.bidsBackHandler?n.bidsBackHandler():(0,l.H)("Error executing bidsBackHandler")):e.call(this,n)},d?((0,l.PN)("User consent information already known.  Pulling internally stored information..."),t(!1)):I(t)}));vc.getConfig("consentManagement",(),b.S.before((),(0,h.f8)({type:h.Z,name:"gdprAddtlConsent",fn:),(0,c.z)("consentManagement")},6372:,function(e){e.O(0,[968],(function(){return 5630,e(e.s=5630)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[168],{277:function(e,n,t){var r=t(1002),o=t(7326),i=t(9340),a=t(2963),s=t(1120);ar u=t(3324),c=t(4942),l=t(8916),f=t(3144),g=t(5671),p=t(9062),m=t(8640),v=t(4358),h=t(6475),b=t(3193),y=t(4516),O=t(9128),E=t(4078),I=t(2712),_=t(8792),w=t(6310);unction C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n,t){!function(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,n),n.set(e,t)}ar N,P,U,M,R=!1;ar L=(0,f.Z)((),x=new WeakMap,F=new WeakMap,j=new WeakMap,B=);(0,c.Z)(B,"CLIENTS",{}),(0,c.Z)(B,"INST",void 0);var V=B);d((0,s.Z)(V),"register",V).call(V,"1.0");var Z=B);d((0,s.Z)(Z),"register",Z).call(Z,"1.1",!0);var G={iab:static:;ar H=(0,O.g3)("gpp",(function(e,n){var t;t=function(t,r){if(r){var o,i,a=v.yN;null!==(o=window.WM)&&void 0!==o&&null!==(i=o.UserConsent)&&void 0!==i&&i.isInRegion("gpp")&&t&&(a=v.H,r="".concat(r," Canceling auction as per consentManagement config."));for(var s=arguments.length,d=new Array(s>2?s-2:0),u=2;u<s;u++)d[u-2]=arguments[u];a.apply(void 0,[r].concat(d))}t?(e.stopTiming(),"function"==typeof n.bidsBackHandler?n.bidsBackHandler():(0,v.H)("Error executing bidsBackHandler")):e.call(this,n)},M?((0,v.PN)("User consent information already known.  Pulling internally stored information..."),t(!1)):W(t)}));vc.getConfig("consentManagement",(),E.S.before((),(0,m.z)("consentManagementGpp")}},function(e){e.O(0,[968],(function(){return 277,e(e.s=277)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[160],{9099:,),(self.pbjsChunk=self.pbjsChunk||[]).push([[406],{241:function _(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9062),_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(8640),_src_utils_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4358),_src_utils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(265),_src_adloader_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5730),_src_adapters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4699),_src_config_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3193),_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4679),criteo_direct_rsa_validate_build_verify_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1582),_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5164),_src_refererDetection_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5102),_src_utils_gpdr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7673),_src_Renderer_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5706),_src_video_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(154),_src_ajax_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8928);nction _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var GVLID=91,ADAPTER_VERSION=36,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=(0,_src_storageManager_js__WEBPACK_IMPORTED_MODULE_1__.df)({bidderCode:BIDDER_CODE}),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=139,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",PUBLISHER_TAG_OUTSTREAM_SRC="https://static.criteo.net/js/ld/publishertag.renderer.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.Mk,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.pX,_src_mediaTypes_js__WEBPACK_IMPORTED_MODULE_2__.B5],getUserSyncs:isBidRequestValid:buildRequests:interpretResponse:onTimeout:onBidWon:onSetTargeting:onDataDeletionRequest:;asVideoMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.video")}function hasBannerMediaType(e){return void 0!==(0,_src_utils_js__WEBPACK_IMPORTED_MODULE_8__.Z)(e,"mediaTypes.banner")}pters_bidderFactory_js__WEBPACK_IMPORTED_MODULE_13__.dX)(spec),(0,_src_prebidGlobal_js__WEBPACK_IMPORTED_MODULE_14__.z)("criteoBidAdapter")},7673:4611:4950:1582:,function(e){e(e.s=241)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[345],{4713:function(e,n,t){var r=t(8640),o=t(3193),i=t(2797),a=t(4942),s=t(3324),d=t(4358),u=t(9062),c=t(1002),l=t(265);bject.assign(f.prototype,{DEFAULT_RULE_OPTIONS:{delay:0},serializeConfig:updateConfig:rule:matcher:replacer:responseDefaults:defaultAd:match:matchAll:intercept:);var g,p,m=t(5644);n _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S,C=[],A=!1;=t(9626);!function(e){var n=e.DEBUG_KEY,t=e.config,r=e.hook,o=e.createBid,i=e.logger;S=new f({logger:i});var a={createBid:o});P((function(){return r.get("processBidderRequests")}),U),P((,a),{DEBUG_KEY:n,config:t,hook:r,logger:i}),t.getConfig("debugging",(function(e){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.getStorage,r=void 0===t?t,o=n.DEBUG_KEY,i=n.config,a=n.hook,s=n.logger;if(null!=e){var d;try{d=r()}catch(e){s.logError("sessionStorage is not available: debugging configuration will not persist on page reload",e)}null!=d&&D(e,{sessionStorage:d,DEBUG_KEY:o}),e.enabled?T(e,{config:i,hook:a,logger:s}):{hook:a,logger:s})}}(e.debugging,{DEBUG_KEY:n,config:t,hook:r,logger:i})}),{init:!0})}({DEBUG_KEY:t(3777).Jc,config:o.vc,hook:i.z3,createBid:M.m,logger:(0,d.qp)("DEBUG:")}),(0,r.z)("debugging")}},function(e){e(e.s=4713)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[910],{3410:function(e,n,t){var r=t(8640),o=t(3193),i=t(2797),a=t(4358),s=t(8792),d=t(9128),u=[],c=(0,d.g3)("fpd",();(0,i.bA)("firstPartyData",(),(0,i.v5)("startAuction").before(c,10),(0,r.z)("fpdModule")}},function(e){e(e.s=3410)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[72],{1144:,function(e){e(e.s=1144)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[83],{1498:function(e,n,t){var r=t(8640),o=t(4358),i=t(265),a=t(3193),s=t(6104),d=t(4516),u=t(4614),c=t(2021),l=t(5644),f=t(9633),g=t(6310),p=t(571),m=t(4947);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var h,b,y,O,E,I={purpose1:{id:1,name:"storage"},purpose2:{id:2,name:"basicAds"},purpose4:{id:4,name:"personalizedAds"},purpose7:{id:7,name:"measurement"}},_=[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}],w=new Set,S=new Set,C=new Set,A=new Set,T=!1,D=!1,N=[f.UL,f.y2,f._U,f.XG],P="TCF2",U=[];x,F=(x=L(1,(function(){return h}),w),,j=L(1,(function(){return h}),w),B=L(1,(function(){return h}),w),V=L(2,(function(){return b}),S)),Z=L(7,(function(){return O}),C,(),G=L(4,(function(){return y}),A);.on(l.FP.AUCTION_END,(),a.vc.getConfig("consentManagement",(),(0,r.z)("gdprEnforcement")}},function(e){e(e.s=1498)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[296],{6787:function(e,n,t){var r=t(8640),o=t(4358),i=t(6475),a=t(265),s=t(3193),d=t(2797),u=t(4614),c=void 0,l={},f=!1,g=p=m=v=h=s.vc.getConfig("gptPreAuction",(),h({}),(0,r.z)("gptPreAuction")}},function(e){e(e.s=6787)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[750],{7206:function(e,n,t){var r=t(4925),o=t(1002),i=t(3324),a=t(9062),s=t(4942),d=t(8640),u=t(4358),c=t(265),l=t(8928),f=t(4699),g=t(5706),p=t(4679),m=t(3193),v=t(5164),h=["mind","maxd","size","playerSize","protocols","durationRangeSec"];function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O="grid",E="https://grid.bidswitch.net/hbjson",I="tmguid",_=(0,v.df)({bidderCode:O}),w="Bid from response has no adid parameter - ",S="Bid from response has no adm parameter - ",C="Array of bid objects is empty",A="Seatbid array from response has empty item",T="Seatbid from response has no array of bid objects - ",D={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}},gridNM:{defaultParams:{multiRequest:!0}}},N=!1,P={code:O,gvlid:686,aliases:["playwire","adlivetech","gridNM",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[p.Mk,p.pX],isBidRequestValid:buildRequests:interpretResponse:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Th;e=e&&e.body;var r,o=[];e?e.seatbid&&!e.seatbid.length&&(r="Response has empty seatbid array"):r="Response is empty";var i=this.forceBidderName||this.code;return!r&&e.seatbid&&e.seatbid.forEach((),r&&(0,u.H)(r),o},getUserSyncs:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n[0],o=n[2],i=n[3];if(!N&&r.pixelEnabled){var a="";o&&("boolean"==typeof o.gdprApplies&&(a+="&gdpr=".concat(Number(o.gdprApplies))),"string"==typeof o.consentString&&(a+="&gdpr_consent=".concat(o.consentString))),i&&(a+="&us_privacy=".concat(i));var s=this.forceBidderName||this.code,d=D[s]&&D[s].syncurl||"https://x.bidswitch.net/sync?ssp=themediagrid";return N=!0,{type:"image",url:d+a}}},ajaxCall:onDataDeletionRequest:;0,f.dX)(P),(0,d.z)("gridBidAdapter")},4925:,function(e){e(e.s=7206)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[618],{272:,function(e){e(e.s=272)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[114],{5407:,),(self.pbjsChunk=self.pbjsChunk||[]).push([[155],{3390:function(e,n,t){var r=t(3324),o=t(9062),i=t(4942),a=t(1002),s=t(8640),d=t(265),u=t(4358),c=t(6475),l=t(4679),f=t(3193),g=t(5644),p=t(5164),m=t(2021),v=t(4614),h=t(4699),b=t(154),y=t(5706);nction I(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var w="ix",S="roundel",C=[l.Mk,l.pX,l.B5],A=[144,144],T={JPY:1},D="p",N="x",P=9,U={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},M={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},R=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],k=["mimes","minduration","maxduration"],L=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],x="ixdiag",F="".concat(w,"_features"),j=!1,B=(0,p.df)({bidderCode:w}),V={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:getFeatureToggles:setFeatureToggles:clearFeatureToggles:,Z=0,G="",W="",H=!1;ne(e,n,t,r){var o="https://htlb.casalemedia.com/openrtb/pbjs",i=(0,d.Z)(e,"0.userIdAsEids")),s=i.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&s,i),n&&n.bidderCode===S&&!i.seenSources["liveramp.com"])return[];var l=[],g=e);g=g,V.REQUESTED_FEATURE_TOGGLES);var p=e);for(var m in p)g.ext.ixdiag[m]=p[m];g=g,n,t,e,s),g=g,n);var v={};Z=e[0].params.siteId,v.s=Z;for(var h=Object.keys(t),b=!1,y=0;y<h.length&&!(l.length>=4);y++){g=te(t,h,g,y);var O=(0,d.Z)(n,"ortb2")||{},_=E({},O.site||O.context);_.page=re(n);var w=E({},O.user);(0,u.xb)(O)||b||((g=oe(n,g,O,_,w)).site=(0,u.Ee)({},g.site,_),g.user=(0,u.Ee)({},g.user,w),b=!0),g=ae(t,g,h,y,v,o);var C=y===h.length-1;g=Oe(g=ye(g=Ie(g))),C&&(l.push({method:"POST",url:o+"?s="+Z,data:(0,u.I8)(g),option:{contentType:"text/plain"},validBidRequests:e}),g.imp=[],b=!1)}return l}gvlid:10,aliases:[{code:S,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:C,isBidRequestValid:buildRequests:interpretResponse:transformBidParams:getUserSyncs:;dX)(he),(0,s.z)("ixBidAdapter")}},function(e){e(e.s=3390)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[703],{5526:function(e,n,t){var r,o,i,a=t(3324),s=t(1002),d=t(8640),u=t(4358),c=t(265),l=t(3193),f=t(4699),g=t(5164),p=t(4679),m=Object.freeze({CODE:"kargo",HOST:"krk2.kargo.com",REQUEST_METHOD:"POST",REQUEST_ENDPOINT:"/api/v1/prebid",TIMEOUT_ENDPOINT:"/api/v1/event/timeout",GVLID:972,SUPPORTED_MEDIA_TYPES:[p.Mk,p.pX]}),v=(0,g.df)({bidderCode:m.CODE}),h=Object.freeze({KEY:"currency",US_DOLLAR:"USD"}),b=Object.freeze({SOCIAL_CANVAS:"params.socialCanvas",SUA:"ortb2.device.sua",TDID_ADAPTER:"userId.tdid"}),y=Object.freeze({BROWSERS:"browsers",MOBILE:"mobile",MODEL:"model",PLATFORM:"platform",SOURCE:"source"}),O=[y.BROWSERS,y.MOBILE,y.MODEL,y.SOURCE,y.PLATFORM],E=Object.freeze({KEY:"krg_crb",SYNC_URL:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}&gpp={GPP_STRING}&gpp_sid={GPP_SID}",SYNC_COUNT:5,PAGE_VIEW_ID:"pageViewId",PAGE_VIEW_TIMESTAMP:"pageViewTimestamp",PAGE_VIEW_URL:"pageViewUrl"});C={gvlid:m.GVLID,code:m.CODE,isBidRequestValid:buildRequests:function(e,n){var t=l.vc.getConfig(h.KEY),r=t&&t.adServerCurrency?t.adServerCurrency:null,a=[];(0,u.yi)(e,(function(e){a.push(function(e){var n,t,r={id:e.bidId,tid:null===(n=e.ortb2Imp)||void 0===n||null===(t=n.ext)||void 0===t?void 0:t.tid,pid:e.params.placementId,code:e.adUnitCode};null!=e.floorData&&e.floorData.floorMin>0&&(r.floor=e.floorData.floorMin),e.bidRequestsCount>0&&(r.bidRequestCount=e.bidRequestsCount),e.bidderRequestsCount>0&&(r.bidderRequestCount=e.bidderRequestsCount),e.bidderWinsCount>0&&(r.bidderWinCount=e.bidderWinsCount);var o=function(e){if(null!=e.ortb2Imp){if(null!=e.ortb2Imp.gpid&&""!=e.ortb2Imp.gpid)return e.ortb2Imp.gpid;if(null!=e.ortb2Imp.ext&&null!=e.ortb2Imp.ext.data){if(null!=e.ortb2Imp.ext.data.pbAdSlot&&""!=e.ortb2Imp.ext.data.pbAdSlot)return e.ortb2Imp.ext.data.pbAdSlot;if(null!=e.ortb2Imp.ext.data.adServer&&null!=e.ortb2Imp.ext.data.adServer.adSlot&&""!=e.ortb2Imp.ext.data.adServer.adSlot)return e.ortb2Imp.ext.data.adServer.adSlot}}return null!=e.adUnitCode&&""!=e.adUnitCode?e.adUnitCode:""}(e);return null!=o&&""!=o&&(r.fpd={gpid:o}),null!=e.mediaTypes&&(null!=e.mediaTypes.banner&&(r.banner=e.mediaTypes.banner),null!=e.mediaTypes.video&&(r.video=e.mediaTypes.video),null!=e.mediaTypes.native&&(r.native=e.mediaTypes.native)),r}(e))}));var s=e[0],d=(0,c.Z)(s,b.TDID_ADAPTER),f=n),g=Object.assign({},{pbv:"8.15.0-WBD",aid:s.auctionId,sid:_(),url:f.pageURL,timeout:n.timeout,ts:(new Date).getTime(),device:{size:[window.screen.width,window.screen.height]},imp:a,user:S(d,n.uspConsent,n.gdprConsent,s.userIdAsEids,n.gppConsent)});s.schain&&s.schain.nodes&&(g.schain=s.schain);var p=o===window.location.pathname?++i:(o=window.location.pathname,i=0);null!=p&&(g.requestCount=p),null!=r&&r!=h.US_DOLLAR&&(g.cur=r),null!=f.rawCRB&&(g.rawCRB=f.rawCRB),null!=f.rawCRBLocalStorage&&(g.rawCRBLocalStorage=f.rawCRBLocalStorage);var I=(0,c.Z)(s,b.SOCIAL_CANVAS);null!=I&&(g.socan=I);var C=(0,c.Z)(s,b.SUA);if(C){var A=[];O.forEach((),g.device.sua=(0,u.ei)(C,A)}var T=null!=w(E.PAGE_VIEW_ID),D=null!=w(E.PAGE_VIEW_TIMESTAMP),N=null!=w(E.PAGE_VIEW_URL),P={};return T&&(P.id=w(E.PAGE_VIEW_ID)),D&&(P.timestamp=Number(w(E.PAGE_VIEW_TIMESTAMP))),N&&(P.url=w(E.PAGE_VIEW_URL)),(0,u.xb)(P)||(g.page=P),Object.assign({},n,{method:m.REQUEST_METHOD,url:"https://".concat(m.HOST).concat(m.REQUEST_ENDPOINT),data:g,currency:r})},interpretResponse:getUserSyncs:supportedMediaTypes:m.SUPPORTED_MEDIA_TYPES,onTimeout:_getCrb:_getSessionId:_};(0,f.dX)(C),(0,d.z)("kargoBidAdapter")}},function(e){e(e.s=5526)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[30],{7497:function(e,n,t){var r,o=t(8640),i=t(8525),a=t(4358),s=t(265),d=t(5644),u=t(6104),c=t(3193),l=t(4699),f=t(2021),g=t(4614),p={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}},m=t(8928),v=t(2797),h=t(7673),b=t(3324),y=t(1002),O=t(4942),E=t(4980),I=t(6475),_=t(9626),w=t(9933),S=t(9702),C=t(1021),A=t(6372),T=t(1087),D=t(286),N=t(9633),P=t(571),U=t(4947),M=t(9957),R=t(1136);function k(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,O.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j,B,V=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),Z=(0,E.x)({processors:w.X,context:{netRevenue:!0},imp:request:bidResponse:overrides:(r={},(0,O.Z)(r,A.DZ,{id:params:bidfloor:),(0,O.Z)(r,A.Z,{fpd:extPrebidAliases:sourceExtSchain:),(0,O.Z)(r,A.YC,{serverSideStats:fledgeAuctionConfigs:),r)}),G=t(9128),W=c.vc.getConfig,H=d.os.YZ,q=0,z={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{eventtrackers:[{event:1,methods:[1,2]}]}};vc.setDefaults({s2sConfig:z}),W("s2sConfig",();var X={}; ee=(0,v.z3)("sync",(,"processPBSRequest");(0,a.EE)().setEidPermissions=function(e){B=e},u.ZP.registerBidAdapter(new function(){var e=new i.Z("prebidServer");return e.callBids=function(e,n,t,r,o){var i=e.metrics=(0,G.Bf)((0,s.Z)(n,"0.metrics")).newMetrics().renameWith(();r=i.startTiming("total").stopBefore(r),n.forEach(();var g=$(n),p=g.gdprConsent,m=g.uspConsent,v=g.gppConsent;Array.isArray(j)&&(e.s2sConfig&&e.s2sConfig.syncEndpoint&&Q(e.s2sConfig.syncEndpoint,p)&&K(e.s2sConfig.bidders.map(().filter((function(e,n,t){return t.indexOf(e)===n})),p,m,v,e.s2sConfig),ee(e,n,o,{onResponse:onError:onBid:onFledge:))},f.on(d.FP.BID_WON,Y),Object.assign(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:H})},"prebidServer"),(0,o.z)("prebidServerBidAdapter")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return o},md:function(){return l}});var r,o=["request","imp","bidResponse","response"],i=["default","pbs"],a=o[0],s=o[1],d=o[2],u=o[3],c=i[0],l=i[1],f=new Set(o),g=(r={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(o.join(", ")));u.forEach((function(e){r.hasOwnProperty(e)||(r[e]={}),r[e].hasOwnProperty(n)||(r[e][n]={}),r[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return r[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors},7673:function(e,n,t){t.d(n,{h:function(){return o}});var r=t(265);function o(e){return null==e||!e.gdprApplies||!0===(0,r.Z)(e,"vendorData.purpose.consents.1")}}},function(e){e.O(0,[279,951,635],(function(){return 7497,e(e.s=7497)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[60],{9171:function(e,n,t){var r,o=t(1002),i=t(4925),a=t(4942),s=t(8640),d=t(4358),u=t(265),c=t(6475),l=t(3193),f=t(8928),g=t(2021),p=t(5644),m=t(2797),v=t(4614),h=t(5102),b=t(5975),y=t(8653),O=t(6372),E=t(9128),I=t(6066),_=t(9957),w=["modelGroups"];function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var A="Price Floors",T=(0,f.OI)(1e4),D=Symbol(),N=[D,"gptSlot","adUnitCode","size","domain","mediaType"],P=!1,U=!1,M={},R=[],k={};ar x;ar j=(r={},(0,a.Z)(r,D,(function(){return"*"})),(0,a.Z)(r,"size",(),(0,a.Z)(r,"mediaType",(),(0,a.Z)(r,"gptSlot",(),(0,a.Z)(r,"domain",(),(0,a.Z)(r,"adUnitCode",(function(e,n){return F(e,n)})),r);r Z={banner:function(e){return(0,u.Z)(e,"mediaTypes.banner.sizes")||[]},video:native:;={1:function(e){return z(e)},2:;r Y=(0,E.g3)("priceFloors",(); ne=(0,E.A)("priceFloors",();l.vc.getConfig("floors",(),(0,O.f8)({type:O.DZ,name:"bidfloor",fn:),(0,O.f8)({type:O.DZ,name:"extPrebidFloors",fn:dialects:[O.md],priority:-1}),(0,O.f8)({type:O.Z,name:"extPrebidFloors",fn:dialects:[O.md]}),(0,s.z)("priceFloors")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return o},md:function(){return l}});var r,o=["request","imp","bidResponse","response"],i=["default","pbs"],a=o[0],s=o[1],d=o[2],u=o[3],c=i[0],l=i[1],f=new Set(o),g=(r={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(o.join(", ")));u.forEach((function(e){r.hasOwnProperty(e)||(r[e]={}),r[e].hasOwnProperty(n)||(r[e][n]={}),r[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return r[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors},4925:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[635],(function(){return 9171,e(e.s=9171)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[126],{5817:function(e,n,t){var r=t(9062),o=t(4942),i=t(1002),a=t(8640),s=t(4358),d=t(265),u=t(6475),c=t(4699),l=t(4679),f=t(3193),g=t(5706),p=t(5975),m=t(5644);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b="PubMatic: ",y="USD",O=void 0,E="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),I={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},_="number",w="string",S="boolean",C="array",A={mimes:C,minduration:_,maxduration:_,startdelay:_,playbackmethod:C,api:C,protocols:C,w:_,h:_,battr:C,linearity:_,placement:_,plcmt:_,minbitrate:_,maxbitrate:_,skip:_},T=1,D=3,N={1:"PMP",5:"PREF",6:"PMPG"},P={bootstrapPlayer:newRenderer:outstreamRender:getRendererId:,U=[l.Mk,l.pX,l.B5],M=0,R=!1,k=["pubmatic"],L=["all"];r j={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},B=m.oF,V=m.zA,Z=m.FY,G=m.s$,W=Object.values(j);{code:"pubmatic",gvlid:76,supportedMediaTypes:[l.Mk,l.pX,l.B5],isBidRequestValid:buildRequests:interpretResponse:getUserSyncs:transformBidParams:;(0,c.dX)(Y),(0,a.z)("pubmaticBidAdapter")}},function(e){e(e.s=5817)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[187],{60:function(e,n,t){var r=t(9062),o=t(4942),i=t(3324),a=t(1002),s=t(8640),d=t(4980),u=t(9933),c=t(4699),l=t(3193),f=t(4679),g=t(4614),p=t(5706),m=t(4358),v=t(6475),h=t(265),b=t(676);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=l.vc.getConfig("rubicon")||{};l.vc.getConfig("rubicon",();var I={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,m.yi)(I,();var _=(0,d.x)({request:imp:bidResponse:context:{netRevenue:!1!==E.netRevenue,ttl:300},processors:u.X}),w={code:"rubicon",gvlid:52,supportedMediaTypes:[f.Mk,f.pX,f.B5],isBidRequestValid:buildRequests:getOrderedParams:combineSlotUrlParams:createSlotParams:serializeSupplyChain:serializeSupplyChainNodes:interpretResponse:getUserSyncs:transformBidParams:;1;(0,c.dX)(w),(0,s.z)("rubiconBidAdapter")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return o},md:function(){return l}});var r,o=["request","imp","bidResponse","response"],i=["default","pbs"],a=o[0],s=o[1],d=o[2],u=o[3],c=i[0],l=i[1],f=new Set(o),g=(r={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(o.join(", ")));u.forEach((function(e){r.hasOwnProperty(e)||(r[e]={}),r[e].hasOwnProperty(n)||(r[e][n]={}),r[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return r[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},function(e){e.O(0,[279,951,157],(function(){return 60,e(e.s=60)})),e.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[312],{6349:function(e,n,t){var r=t(1002),o=t(3324),i=t(4942),a=t(8640),s=t(4699),d=t(3193),u=t(4679),c=t(4358),l=t(265);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p="sharethrough",m="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),v=h={code:p,supportedMediaTypes:[u.pX,u.Mk],gvlid:80,isBidRequestValid:buildRequests:interpretResponse:getUserSyncs:function(e,n,t,r){var o,i=e.pixelEnabled&&void 0!==(0,l.Z)(n,"0.body.cookieSyncUrls"),a="";return t&&(a+="&gdpr="+(t.gdprApplies?1:0),a+="&gdpr_consent="+encodeURIComponent(t.consentString||"")),r&&(a+="&gpp="+encodeURIComponent(null==r?void 0:r.gppString),a+="&gpp_sid="+encodeURIComponent(null==r||null===(o=r.applicableSections)||void 0===o?void 0:o.join(","))),i?n[0].body.cookieSyncUrls.map(():[]},onTimeout:function(e){},onBidWon:function(e){},onSetTargeting:function(e){}};.dX)(h),(0,a.z)("sharethroughBidAdapter")}},function(e){e(e.s=6349)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[599],{789:function(e,n,t){var r=t(1002),o=t(9062),i=t(4942),a=t(8640),s=t(4358),d=t(4679),u=t(4699),c=t(3193),l=t(5164);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p="triplelift",m=null,v=null,h=(0,l.df)({bidderCode:p}),b={gvlid:28,code:p,supportedMediaTypes:[d.Mk,d.pX],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:interpretResponse:getUserSyncs:;,u.dX)(b),(0,a.z)("tripleliftBidAdapter")}},function(e){e(e.s=789)}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[215],{2722:function(e,n,t){var r=t(9062),o=t(1002),i=t(3324),a=t(4942),s=t(8640),d=t(4614),u=t(3193),c=t(2021),l=t(4516),f=t(6104),g=t(5644),p=t(2797),m=t(4358),v=t(265),h=new Map;ar y,O,E,I,_,w,S=t(5164),C=t(6475),A=(0,p.z3)("sync",(function(){})),T=t(8792),D=t(6372),N=t(9128),P=t(8196),U=t(9633),M=t(571),R=t(4947),k=t(286),L="User ID",x=S.c$,F=S.Dp,j="_pbjs_id_optout",B=(0,S.eA)("userId"),V={isAllowed:M.xD},Z=!1,G=[],W=[],H={},q=[],z=={};ar ae=(0,N.g3)("userId",();et([F,x]);ction(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delay,t=void 0===n?T.Z.timeout:n;I=void 0,G=[],W=[],Z=!1,y=[],re={delay:t}),null!=_&&_(),q=[],_=e.getConfig("userSync",(),(0,s.R)().getUserIds=se,(0,s.R)().getUserIdsAsEids=de,(0,s.R)().getEncryptedEidsForSource=_e(ce),(0,s.R)().registerSignalSources=fe,(0,s.R)().refreshUserIds=_e(ge),(0,s.R)().getUserIdsAsync=_e(pe),(0,s.R)().getUserIdsAsEidBySource=ue}(u.vc),(0,p.bA)("userId",(),(0,D.f8)({type:D.Z,name:"userExtEids",fn:),(0,s.z)("userId")},6372:function(e,n,t){t.d(n,{DZ:function(){return s},Px:function(){return d},TP:function(){return c},YC:function(){return u},Z:function(){return a},f8:function(){return p},fP:function(){return m},gm:function(){return o},md:function(){return l}});var r,o=["request","imp","bidResponse","response"],i=["default","pbs"],a=o[0],s=o[1],d=o[2],u=o[3],c=i[0],l=i[1],f=new Set(o),g=(r={},{registerOrtbProcessor:function(e){var n=e.type,t=e.name,i=e.fn,a=e.priority,s=void 0===a?0:a,d=e.dialects,u=void 0===d?[c]:d;if(!f.has(n))throw new Error("ORTB processor type must be one of: ".concat(o.join(", ")));u.forEach((function(e){r.hasOwnProperty(e)||(r[e]={}),r[e].hasOwnProperty(n)||(r[e][n]={}),r[e][n][t]={priority:s,fn:i}}))},getProcessors:function(e){return r[e]||{}}}),p=g.registerOrtbProcessor,m=g.getProcessors}},function(e){e(e.s=2722)}])})(),pbjs.processQueue()},{}],15:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:34}},{}]},{},[13])(13)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).A9=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){var f=this;void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(f.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,o,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&r.RunWithoutAdFuel)==r.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing "+f.MODULE_NAME+" for environmental reasons.",f.moduleFlags)):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing "+f.MODULE_NAME+" for environmental reasons.",f.moduleFlags)})).catch((function(e){f.logger.warn(f.MODULE_NAME+" errored waiting for AdFuel.",e)}))):f.logger.info("User consent is not granted.",null===(i=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch(()},this.waitForAdFuel=function(){return(f.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d,u,c,l,g,p;f.logger.log("UserConsent enabled:",null===(r=null===(t=null===(n=window.AdFuelOptions)||void 0===n?void 0:n.ADFUEL.USER_CONSENT)||void 0===t?void 0:t.ENABLED)||void 0===r||r),null===(a=null===(i=null===(o=window.AdFuelOptions)||void 0===o?void 0:o.ADFUEL.USER_CONSENT)||void 0===i?void 0:i.ENABLED)||void 0===a||a?(null===(d=null===(s=window.WM)||void 0===s?void 0:s.UserConsent)||void 0===d?void 0:d.isReady())?(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())||null!==(p=null===(g=null===(l=window.WM)||void 0===l?void 0:l.UserConsent)||void 0===g?void 0:g.isOptanonLoaded())&&void 0!==p&&p?e():document.addEventListener("optanonLoaded",(function(){e()})):document.addEventListener("userConsentReady",(function(){e()})):e()}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":12,"./promiseWithTimeout":14}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Performance=void 0;var r=function(){eturn e.prototype.addMark=function(e){"undefined"!=typeof window&&window.performance.mark("[".concat(this._tag,"] ").concat(e))},e.prototype.addMeasure=function(e){"undefined"!=typeof window&&window.performance.measure("[".concat(this._tag,"] ").concat(e),"[".concat(this._tag,"] ").concat(e," START"),"[".concat(this._tag,"] ").concat(e," END"))},e.prototype.getMarks=function(){var e,n=this;return null!==(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("mark").filter((function(e){return e.name.indexOf("[".concat(n._tag,"] "))})))&&void 0!==e?e:[]},e.prototype.getMeasures=function(){var e,n=this;return null!==(e=null===window||void 0===window?void 0:window.performance.getEntriesByType("measure").filter(())&&void 0!==e?e:[]},e}();t.Performance=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PiiFilter=void 0;var r=function(){eturn e.prototype.presentInQueryString=function(){if(document.location.search){var e=document.location.search.search(this.re)+1,n=void 0;try{n=decodeURIComponent(document.location.search).search(this.re)+1}catch(t){n=e}return 1===e||1===n}return!1},e.prototype.presentInHash=e.prototype.presentInReferrer=e.prototype.filterDFPRequest=function(){if(this.presentInQueryString()||this.presentInHash()||this.presentInReferrer()){if("undefined"!=typeof window&&window.AdFuel){this.logger.log("Filtering DFP Request due to PII in query string.");for(var e=Object.getOwnPropertyNames(window.AdFuel),n=0;n<e.length;n++);window.googletag=null}return!0}return!1},Object.defineProperty(e.prototype,"qs",{get:function(){return this.presentInQueryString},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.presentInHash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return this.presentInReferrer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPIIPresent",{get:function(){return this.present},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this.filterDFPRequest},enumerable:!1,configurable:!0}),e}();t.PiiFilter=r},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateCacheBuster=void 0,t.generateCacheBuster=,{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasVideo=void 0,t.hasVideo=,{}],10:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.waitForVideo=t.Version=t.PiiFilter=t.Performance=t.toString=t.setHostAndPathNames=t.selectedEdition=t.promiseWithTimeout=t.normalizeUrl=t.noop=t.ModuleFlags=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=t.Logger=t.locationServiceURL=t.loadScriptFromUrl=t.isUSCNN=t.isIntl=t.hasVideo=t.hasUserConsent=t.getUrlParam=t.generateCacheBuster=t.countryCode=t.CookieHelper=t.AAdFuelModule=void 0;var r=e("./AAdFuelModule");Object.defineProperty(t,"AAdFuelModule",{enumerable:!0,get:function(){return r.AAdFuelModule}}),Object.defineProperty(t,"ModuleFlags",{enumerable:!0,get:function(){return r.ModuleFlags}});var o=e("./CookieHelper");Object.defineProperty(t,"CookieHelper",{enumerable:!0,get:function(){return o.CookieHelper}});var i=e("./getUrlParam");Object.defineProperty(t,"getUrlParam",{enumerable:!0,get:function(){return i.getUrlParam}});var a=e("./hasVideo");Object.defineProperty(t,"hasVideo",{enumerable:!0,get:function(){return a.hasVideo}});var s=e("./localization");Object.defineProperty(t,"isIntl",{enumerable:!0,get:function(){return s.isIntl}}),Object.defineProperty(t,"isUSCNN",{enumerable:!0,get:function(){return s.isUSCNN}});var d=e("./loadScriptFromUrl");Object.defineProperty(t,"loadScriptFromUrl",{enumerable:!0,get:function(){return d.loadScriptFromUrl}});var u=e("./Logger");Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return u.Logger}});var c=e("./normalizeUrl");Object.defineProperty(t,"normalizeUrl",{enumerable:!0,get:function(){return c.normalizeUrl}});var l=e("./promiseWithTimeout");Object.defineProperty(t,"promiseWithTimeout",{enumerable:!0,get:function(){return l.promiseWithTimeout}});var f=e("./Performance");Object.defineProperty(t,"Performance",{enumerable:!0,get:function(){return f.Performance}});var g=e("./PiiFilter");Object.defineProperty(t,"PiiFilter",{enumerable:!0,get:function(){return g.PiiFilter}});var p=e("./setHostAndPathNames");Object.defineProperty(t,"setHostAndPathNames",{enumerable:!0,get:function(){return p.setHostAndPathNames}});var m=e("./generateCacheBuster");Object.defineProperty(t,"generateCacheBuster",{enumerable:!0,get:function(){return m.generateCacheBuster}});var v=e("./variables");Object.defineProperty(t,"MODULE_VERSION",{enumerable:!0,get:function(){return v.MODULE_VERSION}}),Object.defineProperty(t,"MODULE_NAME",{enumerable:!0,get:function(){return v.MODULE_NAME}}),Object.defineProperty(t,"MODULE_LOG_TAG",{enumerable:!0,get:function(){return v.MODULE_LOG_TAG}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return v.toString}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return v.noop}}),Object.defineProperty(t,"countryCode",{enumerable:!0,get:function(){return v.countryCode}}),Object.defineProperty(t,"locationServiceURL",{enumerable:!0,get:function(){return v.locationServiceURL}}),Object.defineProperty(t,"selectedEdition",{enumerable:!0,get:function(){return v.selectedEdition}}),Object.defineProperty(t,"hasUserConsent",{enumerable:!0,get:function(){return v.hasUserConsent}});var h=e("./Version");Object.defineProperty(t,"Version",{enumerable:!0,get:function(){return h.Version}});var b=e("./waitForVideo");Object.defineProperty(t,"waitForVideo",{enumerable:!0,get:function(){return b.waitForVideo}})},{"./AAdFuelModule":1,"./CookieHelper":2,"./Logger":3,"./Performance":4,"./PiiFilter":5,"./Version":6,"./generateCacheBuster":7,"./getUrlParam":8,"./hasVideo":9,"./loadScriptFromUrl":11,"./localization":12,"./normalizeUrl":13,"./promiseWithTimeout":14,"./setHostAndPathNames":15,"./variables":16,"./waitForVideo":17}],11:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var r=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t){return void 0===t&&(t=document),(0,r.promiseWithTimeout)(5e3,new Promise((function(r,o){var i,a,s=t.createElement("script");if(document.getElementById(n))o("Element name ".concat(n," already exists in the document."));else try{var d="";if(e.split("//").length>1)d=e;else d=null!==(a="https:"===(null===(i=t.location)||void 0===i?void 0:i.protocol))&&void 0!==a&&a?"https://".concat(e):"http://".concat(e);var u=t.getElementsByTagName("script")[0];if(s.id=n,s.type="text/javascript",s.src=d,s.addEventListener("load",(function(){r(s)})),!(null==u?void 0:u.parentNode))throw new Error("Could not insert script.");u.parentNode.insertBefore(s,u)}catch(e){console.log("Error in loading script from ".concat(s.src),e),o(e)}})))}},{"./promiseWithTimeout":14}],12:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":8,"./setHostAndPathNames":15,"./variables":16}],13:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeUrl=void 0,t.normalizeUrl=function(e){var n=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,normalizeHttp:!0,stripFragment:!0,stripWWW:!0,removeQueryParameters:!0,removeTrailingSlash:!1,removeDirectoryIndex:!1},{}),t=e.trim(),r="/"===e[0]&&"/"===e[1];!r&&/^\.*\//.test(e)||(t=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,"http://"));var o=document.createElement("a");if(o.href=t,n.normalizeHttps&&n.normalizeHttp)throw new Error("The `normalizeHttp` and `normalizeHttps` options cannot be used together");return n.normalizeHttp&&("http:"===o.protocol||r)&&(o.protocol="https:"),n.normalizeHttps&&("https:"===o.protocol||r)&&(o.protocol="http:"),n.stripFragment&&(o.hash=""),o.pathname&&(o.pathname=o.pathname.replace(/((?![https?:]).)\/{2,}/g,()),o.pathname&&(o.pathname=decodeURI(o.pathname)),o.hostname&&(o.hostname=o.hostname.replace(/\.$/,""),n.stripWWW&&(o.hostname=o.hostname.replace(/^www\./,""))),n.removeQueryParameters&&(o.search=""),t=o.href,(n.removeTrailingSlash||"/"===o.pathname)&&(t=e.replace(/\/$/,"")),r&&!n.normalizeProtocol&&(t=e.replace(/^http:\/\//,"//")),t}},{}],14:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],15:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],16:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(1,0,0,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":6}],17:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.waitForVideo=void 0;t.waitForVideo=function(e){var n=!1,t=new MutationObserver(();t.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0});var r=document.getElementsByTagName("video"),o=document.getElementsByClassName("fave-wrapper"),i=document.getElementsByClassName("top-container");(r.length||o.length||i.length)&&(e(),n=!0,t.disconnect())}},{}],18:[function(e,n,t){t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./isMobile"));var r=e("./isMobile");t.default=r.default},{"./isMobile":19}],19:[function(e,n,t){t.__esModule=!0;var r=/iPhone/i,o=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};t.default=function(e){var n={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=n.userAgent,y=t.split("[FBAN");void 0!==y[1]&&(t=y[0]),void 0!==(y=t.split("Twitter"))[1]&&(t=y[0]);var O=function(e){return function(n){return n.test(e)}}(t),E={apple:{phone:O(r)&&!O(l),ipod:O(o),tablet:!O(r)&&(O(i)||b(n))&&!O(l),universal:O(a),device:(O(r)||O(o)||O(i)||O(a)||b(n))&&!O(l)},amazon:{phone:O(u),tablet:!O(u)&&O(c),device:O(u)||O(c)},android:{phone:!O(l)&&O(u)||!O(l)&&O(s),tablet:!O(l)&&!O(u)&&!O(s)&&(O(c)||O(d)),device:!O(l)&&(O(u)||O(c)||O(s)||O(d))||O(/\bokhttp\b/i)},windows:{phone:O(l),tablet:O(f),device:O(l)||O(f)},other:{blackberry:O(g),blackberry10:O(p),opera:O(m),firefox:O(h),chrome:O(v),device:O(g)||O(p)||O(m)||O(h)||O(v)},any:!1,phone:!1,tablet:!1};return E.any=E.apple.device||E.android.device||E.windows.device||E.other.device,E.phone=E.apple.phone||E.android.phone||E.windows.phone,E.tablet=E.apple.tablet||E.android.tablet||E.windows.tablet,E}},{}],20:[function(e,n,t){var r,o,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=this&&this.__spreadArray||Object.defineProperty(t,"__esModule",{value:!0}),t.A9=void 0;var s=e("@turnercode/digital-ads-utilities"),d=e("ismobilejs"),u=e("./version.json"),c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],l=function(e){function n(n){var t=e.call(this,n,"A9",new s.Version(u.major,u.minor,u.revision,u.family),"a9","color: #58f53f; padding: 2px",s.ModuleFlags.EnableForDomestic|s.ModuleFlags.EnableForForeign|s.ModuleFlags.RunWithoutAdFuel,c,"A9VideoAPI")||this;return t._isInitialized=!1,t.initialPreRollSent=!1,t.blocked=!1,t.builtSlots=[],t.refreshSlots=[],t.defaultTimeout=0,t.defaultRefreshTimeout=0,t.siSection="",t.getTargetingData=function(e,n,r){return void 0===e&&(e="aps-preroll"),new Promise((function(r,o){var i=!0;if(t.blocked)t.logger.log("Blocked...");else{t.initialPreRollSent||(i=!1),n=n||t.defaultTimeout;var a=(0,s.getUrlParam)("mdt");a&&(n=+a,t.logger.log("Overriding Max Duration Time: ",n));var u=new Promise((function(n){t.logger.log("Getting Video targeting...");if(!window.A9VideoAPI._targetingPromise||!t.initialPreRollSent){t.logger.log("Targeting Promise not yet created. Sending pre-roll request manually."),t.initialPreRollSent=!0;var r=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL;e=(0,d.default)().phone?"".concat(e,"-mobile"):e,t.logger.log("Timeout/SlotName: ",{bidTimeout:r,slotName:e});var o=(0,s.getUrlParam)("slotname");o&&(e=o,t.logger.log("Overriding Slot Name: ",e)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise((function(n){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:e,slotName:e,mediaType:"video"}],timeout:r},n)}))}window.A9VideoAPI._targetingPromise.then((function(r){n(function(n){t.logger.log("Clearing Timeout: ",window.targetingTimeoutId),clearTimeout(window.targetingTimeoutId);var r={targeting:{amznbid:"",amzniid:""},slotID:""};t.logger.log("Pre-Roll Bids: ",n),n&&n.forEach((function(n){n.slotID.indexOf(e)>=0&&(r=n)}));var o=r.targeting||{amznbid:"",amzniid:""};return t.logger.log("Returning Targeting: ",o),o}(r))}))}));i?(t.logger.log("Racing against a timeout..."),(0,s.promiseWithTimeout)(n,u).then((function(e){return r(e)})).catch((function(e){return o(e)}))):(t.logger.log("Running solo..."),r(u))}}))},t.getRefreshedTargetingData=function(e,n,r){return new Promise((function(r,o){if(t.blocked)t.logger.log("Blocked");else{n=n||t.defaultRefreshTimeout,e=e?e+((0,d.default)().phone?"-mobile":""):(0,d.default)().phone?"aps-midroll-mobile":"aps-midroll";var i=(0,s.getUrlParam)("mdt"),a=(0,s.getUrlParam)("slotname");i&&(n=+i,t.logger.log("Overriding Max Duration Time: ",n)),a&&(t.logger.log("Overriding Slot Name: ",e),e=a);var u=new Promise((function(r){window.A9VideoAPI._refreshedTargetingPromise=new Promise(();t.logger.log("Refreshing Video targeting..."),window.A9VideoAPI._refreshedTargetingPromise.then((function(n){clearTimeout(window.targetingTimeoutId);var o={targeting:{amznbid:"",amzniid:""}};n.forEach(();var i=o.targeting||{amznbid:"",amzniid:""};t.logger.log("Returning Refreshed Targeting: ",i),r(i)}))}));(0,s.promiseWithTimeout)(n,u).then((function(e){return r(e)})).catch((function(e){return o(e)}))}}))},t.preQueue=function(e){return new Promise((function(n,r){var o=[];if(e&&e.length>0)for(var i=function(n){if(!e[n].unWrappedSlot)return t.logger.warn("There appears to be an empty unwrapped slot object:",!e[n]),"continue";var r=e[n];if(r.unWrappedSlot.rktr_ad_id&&r.monetization&&r.slotId.indexOf("_out_vid_")<=0&&r.monetization.isMonetized){if(""===t.siSection){var i=r.unWrappedSlot.rktr_ad_id.split("/");i.length>1&&"homepage"!==i[1]&&(t.siSection=i[0]+(i[1]?"/"+i[1]:""))}var a=r.slotId,s=a;t.config.SLOTNAMES.PREPEND_ADUNIT&&(t.logger.log("Prepending Ad Unit To SlotName..."),s="".concat(r.unWrappedSlot.rktr_ad_id,"_").concat(a));var d={slotID:a,slotName:s,sizes:r.monetization.filteredSizes.map((function(e){return[e.width,e.height]}))};t.logger.log("A9 Slot Object: ",d),r.programmatic.A9=JSON.parse(JSON.stringify(d)),t.builtSlots.some((function(e){return e.slotID===d.slotID}))?t.logger.log("Already pushed builtSlot: ",d):(t.logger.log("Pushing builtSlot: ",d),t.builtSlots.push(d),o.push(d))}},s=0;s<e.length;s++)i(s);else t.logger.log("No Slots");if(t.logger.log("bidslots: ",o),o.length>0){var u={slots:o,timeout:(0,d.default)().any?t.config.TIMEOUTS.MOBILE.DISPLAY.INITIAL:t.config.TIMEOUTS.DESKTOP.DISPLAY.INITIAL,params:{si_section:t.siSection}};t.logger.log("REQUESTING TARGETING:",u),window.apstag.fetchBids(u,(function(r){t.logger.log("SETTING MANUAL TARGETING: ",r),r.forEach((function(e){var n=e.slotID;if(e.targeting){var r=Object.keys(e.targeting);t.logger.log("Setting targeting for slot: ",n),t.logger.log("targetKeys",r),r.forEach((function(r){var o=e.targeting[r];o&&(t.logger.log("Setting key [".concat(r,"] target [").concat(r,"] with value: ").concat(o)),window.AdFuel.addSlotLevelTarget(n,r,e.targeting[r]))}))}else t.logger.log("No targeting returned for bid: ",e)})),t.refreshSlots=a(a([],t.refreshSlots,!0),o,!0),t.logger.log("Setting refreshable slots to: ",t.refreshSlots),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preQueue",slots:e,bids:r,err:null})}))}else t.logger.log("No valid slots."),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preQueue",slots:e,bids:null,err:"No valid slots"})}))},t.preRefresh=function(e){return new Promise((function(n){e.forEach((function(e){if(""===t.siSection){var n=e.unWrappedSlot.rktr_ad_id.split("/");t.siSection=n[0]+(n[1]?"/"+n[1]:"")}})),t.logger.log("Refresh Slots: ",t.refreshSlots);var r,o=(r=t.refreshSlots).filter((),i={slots:o,timeout:(0,d.default)().any?t.config.TIMEOUTS.MOBILE.DISPLAY.REFRESH:t.config.TIMEOUTS.DESKTOP.DISPLAY.REFRESH,params:{si_section:t.siSection}};o.length>0?(t.logger.log("Fetching Bids... ",i),window.apstag.fetchBids(i,(function(r){t.logger.log("SETTING MANUAL TARGETING: ",r),r.forEach((function(e){var n=e.slotID;if(e.targeting){var r=Object.keys(e.targeting);t.logger.log("Setting targeting for slot: ",n),t.logger.log("targetKeys",r),r.forEach(()}else t.logger.log("No targeting returned for bid: ",e)})),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString(),callback:"preRefresh",slots:e,bids:r,err:null})}))):(t.logger.log("No slots to refresh: ",e,o),t.logger.log("No slots to refresh"),n({name:t.MODULE_NAME,version:t.MODULE_VERSION.toString,callback:"preRefresh",err:"No valid slots",slots:e,bids:null}))}))},t.configureA9Library=function(e){var n,r,o,i,a,u,c,l;t.defaultTimeout=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL,t.defaultRefreshTimeout=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.REFRESH:t.config.TIMEOUTS.DESKTOP.VIDEO.REFRESH;var f=(null===(r=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===r?void 0:r.isInCcpaRegion())?"ccpa":(null===(i=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===i?void 0:i.isInGdprRegion())?"gdpr":"";if(t.logger.log("Consent Region: ",f),"ccpa"===f||"gdpr"===f){t.logger.log("Checking User Consent...");var g=null===(u=null===(a=window.WM)||void 0===a?void 0:a.UserConsent)||void 0===u?void 0:u.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);t.logger.log("User Consent Granted: ",g),t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI");var p=t.config.ACCOUNT_IDS.DOM;(0,s.isIntl)()&&(p=(0,s.isUSCNN)()?t.config.ACCOUNT_IDS.DOM:t.config.ACCOUNT_IDS.INTL),t.logger.log("Final Pub ID: ",p);var m=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL;(y=(0,s.getUrlParam)("mdt"))&&(m=+y,t.logger.log("Overriding Max Duration Time: ",m));var v=(0,d.default)().phone?t.config.SLOTNAMES.PREROLL+"-mobile":t.config.SLOTNAMES.PREROLL;(O=(0,s.getUrlParam)("slotname"))&&(v=O,t.logger.log("Overriding Slot Name: ",v));var h={pubID:p,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""}};if(!t.blocked&&g&&"gdpr"===f){t.logger.log("Enabling GDPR...");var b=null===(l=null===(c=window.WM)||void 0===c?void 0:c.UserConsent)||void 0===l?void 0:l.getTcfAPIstring();h.gdpr={enabled:!0,consent:b||""}}return(0,s.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then((function(){t.logger.log("Initializing APSTAG Library with...",h),window.apstag.init(h),t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.A9=window.A9VideoAPI=window.A9VideoAPI||t.videoAPI}))}t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI");p=t.config.ACCOUNT_IDS.DOM;(0,s.isIntl)()&&(p=(0,s.isUSCNN)()?t.config.ACCOUNT_IDS.DOM:t.config.ACCOUNT_IDS.INTL),t.logger.log("Final Pub ID: ",p);var y;m=(0,d.default)().any?t.config.TIMEOUTS.MOBILE.VIDEO.INITIAL:t.config.TIMEOUTS.DESKTOP.VIDEO.INITIAL;(y=(0,s.getUrlParam)("mdt"))&&(m=+y,t.logger.log("Overriding Max Duration Time: ",m));var O;v=(0,d.default)().phone?t.config.SLOTNAMES.PREROLL+"-mobile":t.config.SLOTNAMES.PREROLL;(O=(0,s.getUrlParam)("slotname"))&&(v=O,t.logger.log("Overriding Slot Name: ",v));var E={pubID:p,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""}};return(0,s.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then((function(){t.logger.log("Initializing APSTAG Library with...",E),window.apstag.init(E),t.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.A9=window.A9VideoAPI=window.A9VideoAPI||t.videoAPI}))},t.deprecationWarning=t.logger.log("Configuring Library: ",n),t.configureA9Library(n).then((function(){t.videoAPI={MODULE_NAME:"A9 Video API",MODULE_LOG_TAG:"a9-vid",MODULE_VERSION:new s.Version(u.major,u.minor,u.revision,u.family),MODULE_VIDEO_API_KEY:"A9VideoAPI",getTargetingData:t.getTargetingData,getRefreshedTargetingData:t.getRefreshedTargetingData,getPreRollTargetingData:t.getTargetingData,getRefreshedPreRollTargetingData:t.getRefreshedTargetingData,init:function(){return new Promise((function(e,n){window.AdFuelVideoAPI.A9=t.videoAPI,window.A9VideoAPI=t.videoAPI,e()}))}},window.AdFuelVideoAPI.A9=window.A9VideoAPI={getTargetingData:t.getTargetingData,getRefreshedTargetingData:t.getRefreshedTargetingData,getPreRollTargetingData:t.getTargetingData,getRefreshedPreRollTargetingData:t.getRefreshedTargetingData,__VERSION__:new s.Version(u.major,u.minor,u.revision,u.family)},t.logger.info("Constructed A9 Module")})),t}return i(n,e),Object.defineProperty(n.prototype,"__VERSION__",{get:enumerable:!1,configurable:!0}),n.prototype.init=function(){var e=this;return new Promise((function(n){if(e._isInitialized)e.logger.log("Init already called.  Resolving..."),n();else{e.logger.log("Setting _isInitialized to true"),e._isInitialized=!0;document.dispatchEvent(new CustomEvent("A9Ready")),window.AdFuel?window.AdFuel.setModuleReady(e.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(e.MODULE_LOG_TAG)})),n()}}))},n}(s.AAdFuelModule);t.A9=l;new l((null===(o=window.AdFuelOptions)||void 0===o?void 0:o.A9)||{ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}})},{"./version.json":21,"@turnercode/digital-ads-utilities":10,ismobilejs:18}],21:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:12}},{}]},{},[20])(20)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Blockthrough=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var l=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(l.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){l.waitForUserConsent().then((function(){var e,n,t,r;(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(l.consentTags))?l.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(l))||document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(l)})),l.environmentMatchesFlags()?l.init().then((function(){var e;window.AdFuel?(l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)}))})):l.logger.warn("Not initializing ".concat(l.MODULE_NAME," for environmental reasons."),l.moduleFlags)})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for AdFuel."),e)})):l.logger.info("User consent is not granted.",null===(r=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===r?void 0:r.inUserConsentState(l.consentTags))})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(l.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(l.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d,u,c,f,g,p;l.logger.log("UserConsent enabled:",null===(r=null===(t=null===(n=window.AdFuelOptions)||void 0===n?void 0:n.ADFUEL.USER_CONSENT)||void 0===t?void 0:t.ENABLED)||void 0===r||r),null===(a=null===(i=null===(o=window.AdFuelOptions)||void 0===o?void 0:o.ADFUEL.USER_CONSENT)||void 0===i?void 0:i.ENABLED)||void 0===a||a?(null===(d=null===(s=window.WM)||void 0===s?void 0:s.UserConsent)||void 0===d?void 0:d.isReady())?(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())||null!==(p=null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.isOptanonLoaded())&&void 0!==p&&p?e():document.addEventListener("optanonLoaded",(function(){e()})):document.addEventListener("userConsentReady",(function(){e()})):e()}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var r=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t){return void 0===t&&(t=document),(0,r.promiseWithTimeout)(5e3,new Promise((function(r,o){var i,a,s=t.createElement("script");if(document.getElementById(n))o("Element name ".concat(n," already exists in the document."));else try{var d="";if(e.split("//").length>1)d=e;else d=null!==(a="https:"===(null===(i=t.location)||void 0===i?void 0:i.protocol))&&void 0!==a&&a?"https://".concat(e):"http://".concat(e);var u=t.getElementsByTagName("script")[0];if(s.id=n,s.type="text/javascript",s.src=d,s.addEventListener("load",(function(){r(s)})),!(null==u?void 0:u.parentNode))throw new Error("Could not insert script.");u.parentNode.insertBefore(s,u)}catch(e){console.log("Error in loading script from ".concat(s.src),e),o(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(1,0,0,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var r,o=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Blockthrough=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("./version.json"),u=function(e){function n(){var n=e.call(this,null,"Blockthrough Module",new s.Version(d.major,d.minor,d.revision,d.family),"bt","color: #d2b000; padding: 2px",i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.EnableForDomestic)||this;return n.preDispatch=function(e){return new Promise((function(e,t){var r,o,i,a;n.logger.info("BLOCKTHROUGH: preDispatch was fired."),window.AdFuelUtils||(window.AdFuelUtils={isBlockerEnabled:!1,isReinsertionAllowed:!1,getPermissionToReinsert:),window.AdFuelUtils.isBlockerEnabled=null!==(o=null===(r=window.BT)||void 0===r?void 0:r.BLOCKER_ENABLED)&&void 0!==o&&o,window.AdFuelUtils.isReinsertionAllowed=null!==(a=null===(i=window.BT)||void 0===i?void 0:i.REINSERTION_ALLOWED)&&void 0!==a&&a,window.AdFuelUtils.getPermissionToReinsert=e()}))},n.logger.info("Created Blockthrough Module"),n}return o(n,e),n.prototype.init=n}(i.AAdFuelModule);t.Blockthrough=u,new u},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:7}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Guid=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){var f=this;void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(f.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,o,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&r.RunWithoutAdFuel)==r.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing "+f.MODULE_NAME+" for environmental reasons.",f.moduleFlags)):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing "+f.MODULE_NAME+" for environmental reasons.",f.moduleFlags)})).catch((function(e){f.logger.warn(f.MODULE_NAME+" errored waiting for AdFuel.",e)}))):f.logger.info("User consent is not granted.",null===(i=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn(f.MODULE_NAME+" errored waiting for consent.",e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d,u,c,l,g,p;f.logger.log("UserConsent enabled:",null===(r=null===(t=null===(n=window.AdFuelOptions)||void 0===n?void 0:n.ADFUEL.USER_CONSENT)||void 0===t?void 0:t.ENABLED)||void 0===r||r),null===(a=null===(i=null===(o=window.AdFuelOptions)||void 0===o?void 0:o.ADFUEL.USER_CONSENT)||void 0===i?void 0:i.ENABLED)||void 0===a||a?(null===(d=null===(s=window.WM)||void 0===s?void 0:s.UserConsent)||void 0===d?void 0:d.isReady())?(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())||null!==(p=null===(g=null===(l=window.WM)||void 0===l?void 0:l.UserConsent)||void 0===g?void 0:g.isOptanonLoaded())&&void 0!==p&&p?e():document.addEventListener("optanonLoaded",(function(){e()})):document.addEventListener("userConsentReady",(function(){e()})):e()}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var r=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t){return void 0===t&&(t=document),(0,r.promiseWithTimeout)(5e3,new Promise((function(r,o){var i,a,s=t.createElement("script");if(document.getElementById(n))o("Element name ".concat(n," already exists in the document."));else try{var d="";if(e.split("//").length>1)d=e;else d=null!==(a="https:"===(null===(i=t.location)||void 0===i?void 0:i.protocol))&&void 0!==a&&a?"https://".concat(e):"http://".concat(e);var u=t.getElementsByTagName("script")[0];if(s.id=n,s.type="text/javascript",s.src=d,s.addEventListener("load",(function(){r(s)})),!(null==u?void 0:u.parentNode))throw new Error("Could not insert script.");u.parentNode.insertBefore(s,u)}catch(e){console.log("Error in loading script from ".concat(s.src),e),o(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(1,0,0,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var r,o,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.Guid=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),u=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),c=e("./version.json"),l=["data-store","ads-contextual","ads-person-prof","ads-person","content-person-prof","content-person","measure-ads","measure-content","measure-market","product-develop"],f=function(e){function n(n){var t=e.call(this,n,"GUID Module",new s.Version(c.major,c.minor,c.revision,c.family),"guid","color: #d2b000; padding: 2px",a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign|a.ModuleFlags.RunWithoutAdFuel,l)||this;return t.config=n,t.enabled=!0,t.targetingSet=!1,t.init=t.preDispatch=function(e){return new Promise((function(e,n){var r;t.logger.info("GUID preDispatch fired.");var o=t.getGuid();t.logger.info("Got GUID:",o),t.targetingSet||(t.targetingSet=!0,t.logger.info("Adding GUID Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("guid",o):null===(r=window.googletag)||void 0===r||r.cmd.push((function(){var e;null===(e=window.googletag)||void 0===e||e.pubads().setTargeting("guid",o)}))),e({name:"GUID",guid:o})}))},t.includeGuidScript(),t.logger.info("Guid Module constructed"),t}return i(n,e),n.prototype.includeGuidScript=n.prototype.getGuid=n}(a.AAdFuelModule);t.Guid=f,new f((null===(o=window.AdFuelOptions)||void 0===o?void 0:o.GUID)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:7}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).InViewRefresh=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var l=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(l.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){l.waitForUserConsent().then((function(){var e,n,t,r;(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(l.consentTags))?l.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(l))||document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(l)})),l.environmentMatchesFlags()?l.init().then((function(){var e;window.AdFuel?(l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)}))})):l.logger.warn("Not initializing ".concat(l.MODULE_NAME," for environmental reasons."),l.moduleFlags)})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for AdFuel."),e)})):l.logger.info("User consent is not granted.",null===(r=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===r?void 0:r.inUserConsentState(l.consentTags))})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(l.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(l.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d,u,c,f,g,p;l.logger.log("UserConsent enabled:",null===(r=null===(t=null===(n=window.AdFuelOptions)||void 0===n?void 0:n.ADFUEL.USER_CONSENT)||void 0===t?void 0:t.ENABLED)||void 0===r||r),null===(a=null===(i=null===(o=window.AdFuelOptions)||void 0===o?void 0:o.ADFUEL.USER_CONSENT)||void 0===i?void 0:i.ENABLED)||void 0===a||a?(null===(d=null===(s=window.WM)||void 0===s?void 0:s.UserConsent)||void 0===d?void 0:d.isReady())?(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())||null!==(p=null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.isOptanonLoaded())&&void 0!==p&&p?e():document.addEventListener("optanonLoaded",(function(){e()})):document.addEventListener("userConsentReady",(function(){e()})):e()}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(1,0,0,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var r,o,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.InViewRefresh=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/Version"),d=e("./version.json"),u=function(e){function n(n){var t=e.call(this,n,"In-View Refresh Module",new s.Version(d.major,d.minor,d.revision,d.family),"ivr","color: #00e1e1; padding: 2px")||this;return t.DISALLOWED_RENDERED_SIZES=["970x66","970x90","970x250"],t.TARGET_DISPLAY_MILLISECONDS=t.config.DEFAULT_DISPLAY_MILLISECONDS,t.TARGET_DISPLAY_PERCENT=t.config.DEFAULT_DISPLAY_PERCENT,t._focused=!0,t._registeredSlots=[],t._renderedCreativeIds={},t._renderedLineItemIds={},t._invalidSlotIds=[],t._viewabilityListenersStarted=!1,t._refreshableInViewSlots={},t.init=t.start=t.startViewabilityListeners=function(){t._viewabilityListenersStarted||(window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("impressionViewable",(function(e){var n;t.logger.log("impressionViewable changed"),t.logger.log("impressionViewable changed");var r=e,o=null===(n=e.slot)||void 0===n?void 0:n.getSlotElementId();t.logger.log("Refreshable In View Slots: ",t._refreshableInViewSlots),void 0!==t._refreshableInViewSlots[o]&&t._refreshableInViewSlots[o].listenersSet?t.logger.log("Refreshable In View Slot listeners have already been set for: ",o,{object:t._refreshableInViewSlots[o]}):(t.logger.log("Refreshable In View Slot listeners have not been set: ",o,{object:t._refreshableInViewSlots[o]}),t.createInViewRefreshObject(r))})),window.googletag.pubads().addEventListener("slotVisibilityChanged",(function(e){t.logger.log("slotVisibilityChanged"),t.logger.log("slotVisibilityChanged");var n=e;t.visibilityChanged(n)})),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var n,r;t.logger.log("slotRenderEnded"),t.logger.log("slotRenderEnded");var o=e,i=o.slot.getSlotElementId();o.size?Array.isArray(o.size)&&(o.size=o.size.join("x")):o.size="0x0";var a=o.size,s=null!==(n=e.creativeId||e.sourceAgnosticCreativeId)&&void 0!==n?n:0,d=null!==(r=e.lineItemId||e.sourceAgnosticLineItemId)&&void 0!==r?r:0,u=t._renderedCreativeIds[i]||[],c=t._renderedLineItemIds[i]||[];t.logger.log("----------Slot: ["+i+"]----------"),t.logger.log("Rendered Size: ",a),t.logger.log("Creative Ids: ",{selected:s,native:e.creativeId,agnostic:e.sourceAgnosticCreativeId}),u.indexOf(s)>=0?(delete t._refreshableInViewSlots[i],t._registeredSlots.splice(t._registeredSlots.indexOf(i),1),t._invalidSlotIds.push(i),t.logger.log("Duplicate Creative ["+s+"] returned for slot ["+i+"].  Stopping refresh.",t._registeredSlots)):t.DISALLOWED_RENDERED_SIZES.indexOf(a)>=0?(delete t._refreshableInViewSlots[i],t._registeredSlots.splice(t._registeredSlots.indexOf(i),1),t._invalidSlotIds.push(i),t.logger.log("Rendered size ["+a+"] for slot ["+i+"] is invalid for IVR.  Stopping refresh.",t._registeredSlots)):(s&&u.indexOf(s)<0&&u.push(s),d&&c.indexOf(d)<0&&c.push(d),t._renderedCreativeIds[i]=u,t._renderedLineItemIds[i]=c,t.logger.log("Rendered Creatives: ",t._renderedCreativeIds[i]),t.logger.log("Rendered LineItems: ",t._renderedLineItemIds[i]))}))})),document.addEventListener("visibilitychange",t.visibilityChangeEvent),t._viewabilityListenersStarted=!0,t.logger.log("Listeners Started!"))},t.visibilityChangeEvent=t.focusChanged=t.visibilityChanged=t.getInterval=function(e){return t.logger.log("Getting Interval for: ",e),(!t._refreshableInViewSlots[e]||null!==t._refreshableInViewSlots[e].timer)&&(!!t._refreshableInViewSlots[e]&&t._refreshableInViewSlots[e].timer)},t.createInterval=function(e){if(t.logger.log("Refreshable In-View Slots: ",t._refreshableInViewSlots),t._refreshableInViewSlots[e]){var n=t._refreshableInViewSlots[e],r="string"==typeof n.inViewRefreshInterval?1e3*parseInt(n.inViewRefreshInterval,10):"number"==typeof n.inViewRefreshInterval?1e3*n.inViewRefreshInterval:t.TARGET_DISPLAY_MILLISECONDS;t.logger.log("Slot "+e+" interval: "+r),n.inViewRefreshCounter=t._refreshableInViewSlots[e].inViewRefreshCounter||0,t.logger.log("Creating Interval for: ",e),n.timer=window.setInterval((function(){var r,o,i;if(t.logger.log("Slot: ",n),null!=n)if("string"==typeof n.inViewRefreshCount&&(n.inViewRefreshCount=parseInt(n.inViewRefreshCount)),n.inViewRefreshCount>0){n.el=n.el||document.getElementById(e);var a=null!==(o=null===(r=n.el)||void 0===r?void 0:r.id)&&void 0!==o?o:"";if(n.inViewRefreshCount--,n.inViewRefreshCounter++,n.inViewRefreshCount>=0){var s=window.googletag.pubads().getSlots().filter((function(e){return e.getSlotElementId()===a}))[0];t.logger.log("GoogleSlot: ",s),t.logger.log("Slot ["+a+"] is in view and is being refreshed."),t.logger.log("Starting Targeting Keys: ",s.getTargetingKeys()),t.logger.log("Clearing targeting on slot ["+a+"]...",n);var d=s.getTargeting("pos");s.clearTargeting(),d&&s.setTargeting("pos",d),t.logger.log("Cleared Targeting Keys: ",s.getTargetingKeys()),t.logger.log("Setting rfv count targeting on slot ["+a+"]: ",n.inViewRefreshCounter),s.setTargeting("rfv",n.inViewRefreshCounter.toString()),t._invalidSlotIds.indexOf(a)<0?(t.logger.log("Calling refresh On slot["+a+"]...",n),null===(i=window.AdFuel)||void 0===i||i.refresh([a]),t.logger.log("Slot ["+n.el.id+"] is in view, was just refreshed, and still has "+n.inViewRefreshCount+" refreshes remaining.")):t.logger.log("Slot ["+n.el.id+"] is invalid for refresh.")}}else t.logger.log("Slot ["+e+"] is in view but has no refreshes remaining.",n,n.inViewRefreshCount);else t.logger.log("Slot refresh prevented due to rendered size.")}),r),t.logger.log("Done.")}},t.destroyInterval=function(e){var n,r;e?(t.logger.log("Destroying interval for: ",e),r=t._refreshableInViewSlots[e],window.clearInterval(null!==(n=r.timer)&&void 0!==n?n:0),r.timer=null,r.inView=!1):(t.logger.log("Destroying All Intervals"),Object.keys(t._refreshableInViewSlots).forEach((function(e){var n;t.logger.log("Destroying interval for: ",e),r=t._refreshableInViewSlots[e],window.clearInterval(null!==(n=r.timer)&&void 0!==n?n:0),r.timer=null,r.inView=!1})))},t.createInViewRefreshObject=function(e){var n;t.logger.log("Checking Element: ",{event:e});var r=null===(n=e.slot)||void 0===n?void 0:n.getSlotElementId(),o=document.getElementById(r);-1!==t._registeredSlots.indexOf(r)&&t._refreshableInViewSlots[r]?(t.logger.log("Slot is registered with InView Refresh"),t._refreshableInViewSlots[r].inView=!1,t._refreshableInViewSlots[r].el=o,t._refreshableInViewSlots[r].refreshCount=0,t._refreshableInViewSlots[r].listenersSet=!0):t.logger.log("registered with InView Refresh")},t.isInsideBounds=function(e,n,t,r,o,i,a,s){var d=Math.max(t,a),u=Math.min(r,s),c=Math.max(e,o),l=Math.min(n,i),f=0;d>=t&&d<=r&&(u>=t&&u<=r)&&(c>=e&&c<=n)&&(l>=e&&l<=n)&&(f=(u-d)*(l-c));var g=(i-o)*(s-a),p=0;return g>0&&(p=f/g),p},t.getPercentInView=function(e){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,i=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,a=e.getBoundingClientRect(),s=a.left+document.body.scrollLeft,d=a.top+document.body.scrollTop,u=s+e.clientWidth,c=d+e.clientHeight,l=o+n,f=i+r;return 100*t.isInsideBounds(o,l,i,f,s,u,d,c)},t.detectInView=function(){t.logger.log("Detecting In View Slots."),Object.keys(t._refreshableInViewSlots).length<1&&t.logger.log("No registered slots have been rendered yet."),Object.keys(t._refreshableInViewSlots).forEach((function(e){var n=t._refreshableInViewSlots[e].el||document.getElementById(e),r=!1;n&&(r=n&&t._focused&&t.getPercentInView(n)>=t.TARGET_DISPLAY_PERCENT&&t._refreshableInViewSlots[e].inViewRefreshCount>0);var o=t.getInterval(e);r&&!o&&t.createInterval(e)}))},t.preQueue=function(e){return new Promise((function(n){for(var r=!1,o=0;o<e.length;o++){var i=e[o].unWrappedSlot;!0===i.hasInViewRefresh&&(t.logger.log("Slot has In-View Refresh..."),i.inViewRefreshCounter=0,r=!0,t._registeredSlots.push(i.rktr_slot_id))}r&&(t.logger.log("Starting IVR Listeners..."),t.startViewabilityListeners()),n({name:"IVR"})}))},t.preDispatch=t.logger.log("InViewRefresh created..."),t}return i(n,e),n}(a.AAdFuelModule);t.InViewRefresh=u,new u(window.IVR||(null===(o=window.AdFuelOptions)||void 0===o?void 0:o.IVR)||{DEFAULT_DISPLAY_MILLISECONDS:3e3,DEFAULT_DISPLAY_PERCENT:50,DEBUG:!1})},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:7}},{}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).IAS=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var l=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(l.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){l.waitForUserConsent().then((function(){var e,n,t,r;(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(l.consentTags))?l.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(l))||document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(l)})),l.environmentMatchesFlags()?l.init().then((function(){var e;window.AdFuel?(l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)}))})):l.logger.warn("Not initializing ".concat(l.MODULE_NAME," for environmental reasons."),l.moduleFlags)})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for AdFuel."),e)})):l.logger.info("User consent is not granted.",null===(r=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===r?void 0:r.inUserConsentState(l.consentTags))})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(l.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(l.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d,u,c,f,g,p;l.logger.log("UserConsent enabled:",null===(r=null===(t=null===(n=window.AdFuelOptions)||void 0===n?void 0:n.ADFUEL.USER_CONSENT)||void 0===t?void 0:t.ENABLED)||void 0===r||r),null===(a=null===(i=null===(o=window.AdFuelOptions)||void 0===o?void 0:o.ADFUEL.USER_CONSENT)||void 0===i?void 0:i.ENABLED)||void 0===a||a?(null===(d=null===(s=window.WM)||void 0===s?void 0:s.UserConsent)||void 0===d?void 0:d.isReady())?(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())||null!==(p=null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.isOptanonLoaded())&&void 0!==p&&p?e():document.addEventListener("optanonLoaded",(function(){e()})):document.addEventListener("userConsentReady",(function(){e()})):e()}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var r=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t){return void 0===t&&(t=document),(0,r.promiseWithTimeout)(5e3,new Promise((function(r,o){var i,a,s=t.createElement("script");if(document.getElementById(n))o("Element name ".concat(n," already exists in the document."));else try{var d="";if(e.split("//").length>1)d=e;else d=null!==(a="https:"===(null===(i=t.location)||void 0===i?void 0:i.protocol))&&void 0!==a&&a?"https://".concat(e):"http://".concat(e);var u=t.getElementsByTagName("script")[0];if(s.id=n,s.type="text/javascript",s.src=d,s.addEventListener("load",(function(){r(s)})),!(null==u?void 0:u.parentNode))throw new Error("Could not insert script.");u.parentNode.insertBefore(s,u)}catch(e){console.log("Error in loading script from ".concat(s.src),e),o(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(1,0,0,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){t.__esModule=!0,e("./isMobile"));var r=e("./isMobile");t.default=r.default},{"./isMobile":12}],12:[function(e,n,t){t.__esModule=!0;var r=/iPhone/i,o=/iPod/i,i=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,b=t.default=,{}],13:[function(e,n,t){var r,o,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=this&&this.__assign||Object.defineProperty(t,"__esModule",{value:!0}),t.IAS=void 0;var s=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),c=e("@turnercode/digital-ads-utilities/dist/localization"),l=e("ismobilejs"),f=e("./version.json"),g=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],p=function(e){function n(n){var t=e.call(this,n,"Integral Ad Science Module",new d.Version(f.major,f.minor,f.revision,f.family),"ias","color: #d2b000; padding: 2px",s.ModuleFlags.EnableForDomestic|s.ModuleFlags.EnableForForeign|s.ModuleFlags.RunWithoutAdFuel,g)||this;return t.config=n,t.enabled=!0,t.iasActive=!1,t.slotsAdded=!1,t.registeredSlots={},t.adSlots=[],t.init=t.getTargetingForVideo=function(e){return void 0===e&&(e="cnn.com_politics_carousel_t1"),new Promise(()},t.preQueue=function(e){return new Promise((function(n,r){var o;if(null!==(o=!(null==t?void 0:t.iasActive))&&void 0!==o&&o)n({name:t.MODULE_LOG_TAG,data:"not active"});else{t.logger.info("IAS preQueue fired.");var i=Math.floor(1e3*Math.random()).toString(),s=!1;if(!t.slotsAdded&&e.length>0){for(var d=0,u=e;d<u.length;d++){var c=u[d];t.logger.info("---------- Queue WrappedSlot: ",c);var f=c.unWrappedSlot,g={};!t.registeredSlots[f.rktr_slot_id]&&"page"!==f.rktr_slot_id&&f.sizes.length>0&&(t.registeredSlots[f.rktr_slot_id]=!0,g={adSlotId:f.rktr_slot_id,size:f.sizes.map((function(e){return"fluid"===(Array.isArray(e)?e[0]:"")?[1,1]:e})),adUnitPath:"/8663477/"+f.rktr_ad_id},t.logger.info("---------- Queue iasSlot: ",g),t.adSlots.push(g)),"page"!==f.rktr_slot_id&&Object.assign(c.programmatic,{ias:a({},g)})}window.IASFallbackTimeout=window.IASFallbackTimeout||{},window.IASFallbackTimeout[i]=setTimeout((function(){s||(void 0!==i&&delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:i}),s=!0)}),(0,l.default)().any?t.config.DEFAULT_MOBILE_TIMEOUT||1e3:t.config.DEFAULT_DESKTOP_TIMEOUT||750),window.__iasPET.queue.push({adSlots:t.adSlots,dataHandler:function(e){var o;e||(t.logger.warn("No IAS Targeting",i),s||(clearTimeout(window.IASFallbackTimeout[i]),delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:"No IAS targeting for "+i}),s=!0));try{o=JSON.parse(e);var d=a(a({},o),{queueId:i});t.logger.info("Setting IAS Targeting...",{targetData:d}),window.__iasPET.setTargetingForGPT(),Object.entries(o.slots).forEach((function(e){var n=e[0],t=e[1];for(var r in t)window.AdFuel.addSlotLevelTarget(n,r,t[r])})),s||(clearTimeout(window.IASFallbackTimeout[i]),delete window.IASFallbackTimeout[i],n({name:t.MODULE_LOG_TAG,data:o}),s=!0)}catch(n){t.logger.error("Error Parsing IAS targeting for queueId "+i,n,e),r({err:n})}}}),window.__iasPET.queue.length>0&&"function"==typeof window.__iasPET.start&&(t.logger.info("Manually starting IAS queue processes for queue: ",i),window.__iasPET.start())}else s||(n({name:t.MODULE_LOG_TAG,data:"No wrapped slots"}),s=!0)}}))},t.logger.info("IAS Module constructed"),t}return i(n,e),n}(s.AAdFuelModule);t.IAS=p,new p((null===(o=window.AdFuelOptions)||void 0===o?void 0:o.IAS)||{DEBUG:!0,ACCOUNT_IDS:{DOM:0,INTL:0},DEFAULT_DESKTOP_TIMEOUT:1e3,DEFAULT_MOBILE_TIMEOUT:750})},{"./version.json":14,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(e,n,t){n.exports={family:"",major:5,minor:0,revision:10}},{}]},{},[13])(13)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MalvertisingDetection=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var l=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(l.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(l.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){l.waitForUserConsent().then((function(){var e,n,t,r;(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(l.consentTags))?l.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(l))||document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(l)})),l.environmentMatchesFlags()?l.init().then((function(){var e;window.AdFuel?(l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){var e;l.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(l.MODULE_LOG_TAG)}))})):l.logger.warn("Not initializing ".concat(l.MODULE_NAME," for environmental reasons."),l.moduleFlags)})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for AdFuel."),e)})):l.logger.info("User consent is not granted.",null===(r=null===(t=window.WM)||void 0===t?void 0:t.UserConsent)||void 0===r?void 0:r.inUserConsentState(l.consentTags))})).catch((function(e){l.logger.warn("".concat(l.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(l.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(l.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d,u,c,f,g,p;l.logger.log("UserConsent enabled:",null===(r=null===(t=null===(n=window.AdFuelOptions)||void 0===n?void 0:n.ADFUEL.USER_CONSENT)||void 0===t?void 0:t.ENABLED)||void 0===r||r),null===(a=null===(i=null===(o=window.AdFuelOptions)||void 0===o?void 0:o.ADFUEL.USER_CONSENT)||void 0===i?void 0:i.ENABLED)||void 0===a||a?(null===(d=null===(s=window.WM)||void 0===s?void 0:s.UserConsent)||void 0===d?void 0:d.isReady())?(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())||null!==(p=null===(g=null===(f=window.WM)||void 0===f?void 0:f.UserConsent)||void 0===g?void 0:g.isOptanonLoaded())&&void 0!==p&&p?e():document.addEventListener("optanonLoaded",(function(){e()})):document.addEventListener("userConsentReady",(function(){e()})):e()}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptFromUrl=void 0;var r=e("./promiseWithTimeout");t.loadScriptFromUrl=function(e,n,t){return void 0===t&&(t=document),(0,r.promiseWithTimeout)(5e3,new Promise((function(r,o){var i,a,s=t.createElement("script");if(document.getElementById(n))o("Element name ".concat(n," already exists in the document."));else try{var d="";if(e.split("//").length>1)d=e;else d=null!==(a="https:"===(null===(i=t.location)||void 0===i?void 0:i.protocol))&&void 0!==a&&a?"https://".concat(e):"http://".concat(e);var u=t.getElementsByTagName("script")[0];if(s.id=n,s.type="text/javascript",s.src=d,s.addEventListener("load",(),!(null==u?void 0:u.parentNode))throw new Error("Could not insert script.");u.parentNode.insertBefore(s,u)}catch(e){console.log("Error in loading script from ".concat(s.src),e),o(e)}})))}},{"./promiseWithTimeout":8}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],9:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],10:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(1,0,0,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],11:[function(e,n,t){var r,o,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.MalvertisingDetection=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("./version.json"),c=function(e){function n(n){var t=e.call(this,n,"Malvertising Detection",new d.Version(u.major,u.minor,u.revision,u.family),"maldetect","color: #58f53f; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.logger.log("Malvertising Detection constructed..."),t}return i(n,e),n.prototype.init=function(){var e=this;return new Promise((function(n,t){""==e.config.SCRIPT_SRC?t("SCRIPT_SRC is not set."):((0,s.loadScriptFromUrl)(""+e.config.SCRIPT_SRC,"maldetect").then(().catch((),n())}))},n}(a.AAdFuelModule);t.MalvertisingDetection=c,new c((null===(o=window.AdFuelOptions)||void 0===o?void 0:o.MALVERTISING)||{SCRIPT_SRC:""})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(e,n,t){n.exports={family:"",major:5,minor:0,revision:7}},{}]},{},[11])(11)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).spblocking=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(f.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,o,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&r.RunWithoutAdFuel)==r.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(o=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===o?void 0:o.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var r,o=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.SourcePointBlocking=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("../../version.json"),d=function(e){eturn o(n,e),n}(i.AAdFuelModule);t.SourcePointBlocking=d,new d},{"../../version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:9}},{}]},{},[10])(10)})),function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SSAI=e()}}((function(){return function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var d="function"==typeof require&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};n[a][0].call(c.exports,(function(e){return o(n[a][1][e]||e)}),c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!function(e){e[e.None=0]="None",e[e.EnableForDomestic=1]="EnableForDomestic",e[e.EnableForForeign=2]="EnableForForeign",e[e.RunWithoutAdFuel=4]="RunWithoutAdFuel",e[e.RunWithoutConsent=8]="RunWithoutConsent",e[e.HasVideoAPI=16]="HasVideoAPI"}(r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=function(){var e=r.None;return(0,a.isIntl)()&&(e|=r.EnableForForeign),(0,a.isIntl)()||(e|=r.EnableForDomestic),(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic&&(f.moduleFlags&r.EnableForForeign)===r.EnableForForeign?e===(e&r.EnableForDomestic)||e===(e&r.EnableForForeign):(f.moduleFlags&r.EnableForDomestic)===r.EnableForDomestic?e===(e&r.EnableForDomestic):e===(e&r.EnableForForeign)},this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,o,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&r.RunWithoutAdFuel)==r.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",(function(){window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)})))):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for consent."),e)}))},this.waitForAdFuel=function(){return(f.moduleFlags&r.RunWithoutAdFuel)===r.RunWithoutAdFuel?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){window.AdFuel?e():document.addEventListener("AdFuelCreated",(function(){e()}))})))},this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(o=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===o?void 0:o.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",(function(){f._logger.log("Optanon is Loaded..."),e()})))):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",(function(){console.log("Consent Is Ready..."),e()}))):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){function e(){}return e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=function(e){var n=e.cookieName+"="+e.cookieValue+";";e.attributes.forEach((function(e){n+=" "+e.key+"="+e.value+";"})),e.secure&&(n+=" Secure"),document.cookie=n},e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.substring(0,t)==="".concat(n,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e.Info="background: green;color: white;",e.Warning="background: orange;color: black",e.Error="background: red;color:white"}(r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.groupStart=function(e){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(e," - START -----"),this._normalStyle))},e.prototype.groupEnd=function(e){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupEnd(e),console.timeEnd(n)},e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){function e(e,n,t,r){var o=this;this.setMajorTo=e,this.setMinorTo=n,this.setRevisionTo=t,this.setFamilyTo=r,this.setfamily=function(e){return o.setFamilyTo=e,o},this.toString=function(){return"".concat(o.major,".").concat(o.minor.toString().padStart(2,"0"),".").concat(o.revision.toString().padStart(3,"0")," ").concat(o.family).trim()}}return Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:function(){var e;return null!==(e=this.setFamilyTo)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=function(){return(0,t.isIntl)(),s.log("Is User on US.CNN.COM? ",u),u},t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise((function(n,r){var o=setTimeout((function(){clearTimeout(o),r(t)}),e)}));return Promise.race([n,r])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var r,o,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.SSAI=void 0;var a=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),s=e("@turnercode/digital-ads-utilities/dist/localization"),d=e("@turnercode/digital-ads-utilities/dist/Version"),u=e("@turnercode/digital-ads-utilities/dist/getUrlParam"),c=e("@turnercode/digital-ads-utilities/dist/CookieHelper"),l=e("./version.json"),f=function(e){function n(n){var t=e.call(this,n,"Server-Side Ad Insertion",new d.Version(l.major,l.minor,l.revision,l.family),"ssai","color: #d2b000; padding: 2px",a.ModuleFlags.RunWithoutAdFuel|a.ModuleFlags.EnableForDomestic|a.ModuleFlags.EnableForForeign)||this;return t.config=n,t.enabled=!0,t.ssaiActive=!1,t.turnerDomainArray=["cnn.com","cnn.com"],t.domainRegex=/.*?\.(.*?\..*?)$/,t.init=function(){return new Promise((function(e,n){t.logger.info("Initializing Server-Side Ad Insertion Module..."),t.enabled&&(t.logger.info("Initializing Module: ",t.config),t.turnerDomainArray=t.domainRegex.exec(window.location.hostname)||[],t.turnerDomain=t.turnerDomainArray&&t.turnerDomainArray.length>0&&t.turnerDomainArray[1]||"cnn.com",window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",(),(0,s.isIntl)()&&(t.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),t.addScripts(),e())}))},t.start=t.getUMTOCookies=function(){t.logger.log("getting UMTO cookies"),t.logger.log("sendHHID: ",c.CookieHelper.readCookie("sendHHID")),t.logger.log("HHID: ",c.CookieHelper.readCookie("wmhhid"));var e="";window.WM&&window.WM.getAllCDPFlags&&(e=window.WM.getAllCDPFlags());var n="true"===c.CookieHelper.readCookie("sendHHID")&&c.CookieHelper.hasCookie("wmhhid")&&null!==c.CookieHelper.readCookie("wmhhid")?c.CookieHelper.readCookie("wmhhid"):"";null===n&&(n="");var r=[];return c.CookieHelper.readCookie("bea4")?r.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4")):c.CookieHelper.readCookie("bea4r")&&r.push("_fw_vcid2="+c.CookieHelper.readCookie("bea4r")),c.CookieHelper.readCookie("kxuser")&&r.push("krux_user="+c.CookieHelper.readCookie("kxuser")),c.CookieHelper.readCookie("zwmc")&&r.push("zwmc="+c.CookieHelper.readCookie("zwmc")),c.CookieHelper.readCookie("ifyr")&&r.push("ifyr="+c.CookieHelper.readCookie("ifyr")),c.CookieHelper.readCookie("hkgc")&&r.push("hkgc="+c.CookieHelper.readCookie("hkgc")),c.CookieHelper.readCookie("goiz")&&r.push("goiz="+c.CookieHelper.readCookie("goiz")),c.CookieHelper.readCookie("kfyn")&&r.push("kfyn="+c.CookieHelper.readCookie("kfyn")),(c.CookieHelper.readCookie("datid")||c.CookieHelper.readCookie("WMUKID_STABLE"))&&(c.CookieHelper.readCookie("datid")?(t.logger.log("Pushing vcid as datid: ",c.CookieHelper.readCookie("datid")),r.push("vcid="+c.CookieHelper.readCookie("datid")),r.push("wmuk="+c.CookieHelper.readCookie("datid"))):c.CookieHelper.readCookie("WMUKID_STABLE")&&(t.logger.log("Pushing vcid as WMUKID_STABLE: ",c.CookieHelper.readCookie("WMUKID_STABLE")),r.push("vcid="+c.CookieHelper.readCookie("WMUKID_STABLE")),r.push("wmuk="+c.CookieHelper.readCookie("WMUKID_STABLE")))),""!==e&&r.push("cdpfl="+e),window.spIsBlocking&&"function"==typeof window.spIsBlocking?r.push("abip="+window.spIsBlocking()):r.push("abip=na"),r.join("&")},t.isString=t.isURIEncoded=t.addScripts=function(){if(!t.ssaiActive)if("complete"===document.readyState)t.addSSAIJavascript(),t.addUMTOCookie(),t.addFWCookie();else{var e=t;document.onreadystatechange=function(){"complete"===document.readyState&&(e.addSSAIJavascript(),e.addUMTOCookie(),e.addFWCookie())}}},t.setLiveRampCookie=function(e){var n={cookieName:"orev",cookieValue:e,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(n)},t.addLiveRampFreewheelPixel=function(e,n){if(null!==e){var r="https://idsync.rlcdn.com/712348.gif?partner_uid=".concat(e),o=document.createElement("script");o.src=r,document.head.appendChild(o),"G"===n?t.setLiveRampCookie("B"):t.setLiveRampCookie("F")}},t.addLiveRampGAMPixel=function(e,n,r){if(null!==e||null!==n){var o="https://idsync.rlcdn.com/712551.gif?partner_uid=".concat(e||n),i=document.createElement("script");i.src=o,document.head.appendChild(i),"F"===r?t.setLiveRampCookie("B"):t.setLiveRampCookie("G")}},t.addSSAIJavascript=function(){t.logger.log("Site Vendors: ",t.config);var e,n,r=t.config.SITE_VENDORS,o=(0,u.getUrlParam)("forcePubMatic");console.log("Forcing PubMatic: ",o),o&&r.indexOf("PubMatic")<0&&(t.logger.log("PRE- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:r,config:t.config.VENDORS.PubMatic}),r.push("PubMatic"),t.config.VENDORS.PubMatic=t.config.VENDORS.PubMatic||{URL:"https://ads.pubmatic.com/AdServer/js/userSync.js",COOKIE_NAME:"kfyn"},t.logger.log("POST- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:r,config:t.config.VENDORS.PubMatic})),r.forEach((function(r){var o=t.config.VENDORS[r];if("LiveRamp"===r){var i=c.CookieHelper.hasCookie("orev")?c.CookieHelper.readCookie("orev"):"X";c.CookieHelper.hasCookie("bea4")&&"F"!==i&&"B"!==i&&(t.logger.log("Adding LiveRamp Freewheel Pixel..."),t.addLiveRampFreewheelPixel(c.CookieHelper.readCookie("bea4"),i)),"G"!==i&&"B"!==i&&(t.logger.log("Adding LiveRamp GAM Pixel..."),t.addLiveRampGAMPixel(c.CookieHelper.readCookie("datid"),c.CookieHelper.readCookie("WMUKID_STABLE"),i))}else if(o&&o.COOKIE_NAME&&(!c.CookieHelper.hasCookie("umto")||c.CookieHelper.hasCookie("umto")&&!c.CookieHelper.hasCookie(o.COOKIE_NAME))&&null!==t.turnerDomain){var a=t.turnerDomain.match(/\./g);if(t.turnerDomain=a&&a.length>1?t.turnerDomain.replace(/^\w+\.?/,"")||"":t.turnerDomain||"",t.logger.log("Adding SSAI tag for "+r+" ..."),"SpotX"===r)t.addSpotXCookie(o);else if("PubMatic"===r)t.addPubMaticUserSync(o);else if("Freewheel"===r){var s=o.URL.replace(/{{domain}}/g,t.turnerDomain);if(!t.isURIEncoded(s)){var d=s.split("?");d[d.length-1]=encodeURIComponent(d[d.length-1]),s=d.join("?").replace("user-sync?","user-sync%3F")}(e=document.createElement("img")).src=s,e.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(e)}else"Rubicon"===r?(null!=(n=t.turnerDomain.match(/(.*?)\..*?$/))&&(n=n[1]),(e=document.createElement("img")).src=o.URL.replace(/{{brand}}/g,n),e.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(e)):"Telaria"===r?((e=document.createElement("img")).src=o.URL.replace(/{{domain}}/g,t.turnerDomain).replace("&domain","%26domain"),e.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(e)):((e=document.createElement("img")).src=o.URL.replace(/{{domain}}/g,t.turnerDomain),e.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(e));t.logger.log("Added SSAI pixel for "+r)}})),t.ssaiActive=!0},t.addPubMaticUserSync=function(e,n){var r,o,i,a,d,u,c,l;void 0===n&&(n={PUBLISHER_ID:{DOM:"161163",INTL:"161163"}});var f=t.turnerDomain,g="https://image8.pubmatic.com/AdServer/ImgSync?p={{publisherId}}&gdpr={{gdpr}}&gdpr_consent={{gdprConsent}}&us_privacy={{usPrivacy}}&pu=";g=(g=(g=(g=g.replace(/{{publisherId}}/g,(0,s.isIntl)()?n.PUBLISHER_ID.INTL:n.PUBLISHER_ID.DOM)).replace(/{{gdprConsent}}/g,(null===(o=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===o?void 0:o.isInGdprRegion())?null===(i=window.WM)||void 0===i?void 0:i.UserConsent.getTcfAPIstring():"")).replace(/{{gdpr}}/g,(null===(d=null===(a=window.WM)||void 0===a?void 0:a.UserConsent)||void 0===d?void 0:d.isInGdprRegion())?"1":"0")).replace(/{{usPrivacy}}/g,(null===(c=null===(u=window.WM)||void 0===u?void 0:u.UserConsent)||void 0===c?void 0:c.isInCcpaRegion())?window.WM&&window.WM.UserConsent?window.WM.UserConsent.getUspAPIstring():"1YNN":"");var p="http://image4.pubmatic.com/AdServer/SPug?p={{publisherId}}&mpc=4&fp=1&pmc=PM_PMC&&pr=";p=p.replace(/{{publisherId}}/g,(0,s.isIntl)()?n.PUBLISHER_ID.INTL:n.PUBLISHER_ID.DOM);var m="https://umto.{{brand}}/user-sync?domain={{brand}}&{{cookieName}}=#PMUID";m=(m=m.replace(/{{brand}}/g,f)).replace(/{{cookieName}}/g,e.COOKIE_NAME),p+=encodeURIComponent(m),g+=encodeURIComponent(p),null===(l=t.logger)||void 0===l||l.log("Adding PubMatic Pixel: ",g);var v=document.createElement("img");v.src=g,v.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(v)},t.addSpotXCookie=function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){var r=void 0;if(200===n.status){r=JSON.parse(n.response).audience_id;var o=new Date(Date.now()+31536e6),i={cookieName:e.COOKIE_NAME,cookieValue:r,attributes:[{key:"expires",value:o.toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(i)}else 204===n.status?t.logger.log("Not able to check cookie, no audience_id returned"):t.logger.log("No audience_id available")}},n.open("GET",e.URL),n.withCredentials=!0,n.send()},t.addFWCookie=function(){var e=t.config.VENDORS.Freewheel,n=document.cookie.match(/bea4r?=.*?;/),r=document.cookie.match(/ug=.*?;/);if(!n&&r){var o=r[0].replace(/(ug=|;)*/,""),i=Math.pow(16,6),a=Math.pow(16,8),s=o.slice(14),d=Date.now(),u=(Math.ceil(d/1e3)%a).toString(16).slice(0,8),l=(d%i).toString(16).slice(0,6),f=new Date(d+31536e6),g={cookieName:e.COOKIE_NAME+"r",cookieValue:u+l+s,attributes:[{key:"expires",value:f.toUTCString()},{key:"path",value:"/"}],secure:!0};c.CookieHelper.setCookie(g)}},t.addUMTOCookie=t.logger.info("SSAI Module constructed"),t}return i(n,e),n}(a.AAdFuelModule);t.SSAI=f;var g=new f((null===(o=window.AdFuelOptions)||void 0===o?void 0:o.SSAI)||window.SSAIConfig);window.AdFuelUtils||(window.AdFuelUtils={}),window.AdFuelUtils.getUMTOCookies=function(){return g.getUMTOCookies()}},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/getUrlParam":5,"@turnercode/digital-ads-utilities/dist/localization":6}],11:[function(e,n,t){n.exports={family:"TS",major:5,minor:0,revision:26}},{}]},{},[10])(10)})),(function(){return {1:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AAdFuelModule=t.ModuleFlags=void 0;var r,o=e("./Logger"),i=e("./promiseWithTimeout"),a=e("./localization");!r=t.ModuleFlags||(t.ModuleFlags={}));var s=function(){function e(e,n,t,s,d,u,c,l){void 0===u&&(u=r.EnableForDomestic|r.EnableForForeign),void 0===c&&(c=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var f=this;this.config=e,this.MODULE_NAME=n,this.MODULE_VERSION=t,this.MODULE_LOG_TAG=s,this.logStyle=d,this.moduleFlags=u,this.consentTags=c,this.MODULE_VIDEO_API_KEY=l,this.adFuelExists=!!window.AdFuel,this.environmentMatchesFlags=this.callInit=function(){f.logger.log("Waiting for UserConsent..."),f.waitForUserConsent().then((function(){var e,n,t,o,i;f.logger.log("Checking Module Flags...",f.moduleFlags),(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent||(null===(n=null===(e=window.WM)||void 0===e?void 0:e.UserConsent)||void 0===n?void 0:n.inUserConsentState(f.consentTags))?(f.moduleFlags&&r.RunWithoutAdFuel)==r.RunWithoutAdFuel?((null===(t=window.AdFuel)||void 0===t?void 0:t.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):(f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(f.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(f.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",())):(f.logger.log("Waiting for AdFuel..."),f.waitForAdFuel().then((function(){var e;(null===(e=window.AdFuel)||void 0===e?void 0:e.registerModule(f))||document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Registering with AdFuel..."),null===(e=window.AdFuel)||void 0===e||e.registerModule(f)})),f.logger.log("Checking Environment..."),f.environmentMatchesFlags()?(f.logger.log("Calling Init..."),f.init().then((function(){var e;window.AdFuel?(f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)):(f.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",(function(){var e;f.logger.log("Setting Module Loaded..."),null===(e=window.AdFuel)||void 0===e||e.setModuleLoaded(f.MODULE_LOG_TAG)})))}))):f.logger.warn("Not initializing ".concat(f.MODULE_NAME," for environmental reasons."),f.moduleFlags)})).catch((function(e){f.logger.warn("".concat(f.MODULE_NAME," errored waiting for AdFuel."),e)}))):f.logger.info("User consent is not granted.",null===(i=null===(o=window.WM)||void 0===o?void 0:o.UserConsent)||void 0===i?void 0:i.inUserConsentState(f.consentTags))})).catch(()},this.waitForAdFuel=this.waitForUserConsent=function(){var e;return(null===(e=window.WM)||void 0===e?void 0:e.UserConsent)?(f.moduleFlags&r.RunWithoutConsent)==r.RunWithoutConsent?Promise.resolve():(0,i.promiseWithTimeout)(5e3,new Promise((function(e){var n,t,r,o,i,a,s,d;f._logger.log("Consent Promise with Timeout..."),(null===(t=null===(n=window.WM)||void 0===n?void 0:n.UserConsent)||void 0===t?void 0:t.isReady())?(f._logger.log("Consent Is Ready..."),(null===(o=null===(r=window.WM)||void 0===r?void 0:r.UserConsent)||void 0===o?void 0:o.isInRegion("gdpr"))?(f._logger.log("Region is GDPR..."),null!==(s=null===(a=null===(i=window.WM)||void 0===i?void 0:i.UserConsent)||void 0===a?void 0:a.isOptanonLoaded())&&void 0!==s&&s?(f._logger.log("Optanon is Loaded..."),e()):(f._logger.log("Waiting for Optanon..."),document.addEventListener("optanonLoaded",())):(f._logger.log("Region is not GDPR..."),e())):(null===(d=window.WM)||void 0===d?void 0:d.UserConsent)?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",()):(console.log("No User Consent..."),e())}))):Promise.resolve()},this._logger=new o.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}return Object.defineProperty(e.prototype,"logger",{get:enumerable:!1,configurable:!0}),e}();t.AAdFuelModule=s},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CookieHelper=void 0;var r=function(){eturn e.hasCookie=function(e){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+e+"=")>=0||0===document.cookie.indexOf(e+"=")))},e.setCookie=e.readCookie=function(e){var n,t,r=!1,o=null;return"undefined"!=typeof localStorage&&(r=!0),r&&(o=localStorage.getItem(e)),r&&null!==o||(t=(n=e).length+1,o="undefined"!=typeof document&&document.cookie&&document.cookie.split(";").map(().filter(().map(()[0]||null),o},e}();t.CookieHelper=r},{}],3:[function(e,n,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,r=t.LogLevel||(t.LogLevel={}));var o=function(){function e(e,n,t,o){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=e||"",this._moduleVersion=n||"",this._logKey=t||(null==e?void 0:e.toLowerCase())||"",this._normalStyle=o||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),r.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),r.Info,this._normalStyle))}return Object.defineProperty(e.prototype,"isDebugging",{get:function(){if(void 0===this._debug){var e=this.getUrlParam("debug").split(",");this._debug="true"===e[0]||e.indexOf(this._logKey.toLowerCase())>=0}return this._debug},enumerable:!1,configurable:!0}),e.prototype.info=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.warn=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.error=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},e.prototype.log=e.prototype.groupStart=e.prototype.groupEnd=e.prototype.timeStart=function(e){var n="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(e);this.groupStart(e),console.time(n)},e.prototype.timeEnd=e.prototype.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""},e}();t.Logger=o},{}],4:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0;var r=function(){eturn Object.defineProperty(e.prototype,"major",{get:function(){var e;return null!==(e=this.setMajorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){var e;return null!==(e=this.setMinorTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"revision",{get:function(){var e;return null!==(e=this.setRevisionTo)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"family",{get:enumerable:!1,configurable:!0}),e}();t.Version=r},{}],5:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=void 0,t.getUrlParam=function(e){if("undefined"==typeof document)return"";var n=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+n+"=([^&#]*)");if(document&&document.location&&document.location.search){var r=t.exec(document.location.search);return r?r[1]:""}return""}},{}],6:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsUSCNN=t.setIsIntl=t.isUSCNN=t.isIntl=void 0;var r=e("./setHostAndPathNames"),o=e("./getUrlParam"),i=e("./Logger"),a=e("./variables"),s=new i.Logger(a.MODULE_NAME,a.MODULE_VERSION.toString(),a.MODULE_LOG_TAG,"color: coral; padding: 2px"),d=!1,u=!1;t.isIntl=function(){var e=!1,n=(0,r.setHostAndPathNames)();return"true"===(0,o.getUrlParam)("isIntl")?(d||(d=!0,s.log("Faking international site. Using International PubIds.")),e=!0):n.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(d||(d=!0,s.log("Full international site. Using International PubIds.")),e=!0):""===a.countryCode||null===a.countryCode?(d||(d=!0,s.log("No country code.")),e=!1):"US"!==a.countryCode&&"CA"!==a.countryCode?n.search(/^.*(money|\.cnn)\./)>=0?(n.search(/^.*us\.cnn\.com/)>=0&&(d||s.log("International user but domestic page.  Using alternate international PubIds if available."),u=!0),d||(d=!0,s.log("International country code.")),e=!0):n.search(/^.*us\.cnn\.com/)>=0?(d||(d=!0,s.log("International user but domestic page. Using alternate international PubIds if available.")),e=!0,u=!0):(d||(d=!0,s.log("International country code but domestic site.")),e=!0):d||(d=!0,s.log("Domestic site or country code."),e=!1),e};t.isUSCNN=t.setIsIntl=t.isIntl,t.setIsUSCNN=t.isUSCNN},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseWithTimeout=void 0,t.promiseWithTimeout=function(e,n,t){void 0===t&&(t="The promise timed out.");var r=new Promise(();return Promise.race([n,r])}},{}],8:[function(e,n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setHostAndPathNames=void 0;t.setHostAndPathNames=function(){var e="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};return e.href="undefined"!=typeof document?document.location.href:"",e.hostname}},{}],9:[function(e,n,t){var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserConsent=t.selectedEdition=t.locationServiceURL=t.countryCode=t.noop=t.toString=t.MODULE_LOG_TAG=t.MODULE_VERSION=t.MODULE_NAME=void 0;var a=e("./Version"),s=e("./CookieHelper"),d=Object.prototype;t.MODULE_NAME="Ad Utilities",t.MODULE_VERSION=new a.Version(5,0,98,"TS"),t.MODULE_LOG_TAG="utils",t.toString=d.toString;t.noop=function(){},t.countryCode=s.CookieHelper.readCookie("countryCode")||(null!==(o=null===(r=s.CookieHelper.readCookie("CG"))||void 0===r?void 0:r.substr(0,2))&&void 0!==o?o:"");t.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",t.selectedEdition=null!==(i=s.CookieHelper.readCookie("SelectedEdition"))&&void 0!==i?i:"www",t.hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1},{"./CookieHelper":2,"./Version":4}],10:[function(e,n,t){var r,o=this&&this.__extends||(r=;Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionId=void 0;var i=e("@turnercode/digital-ads-utilities/dist/AAdFuelModule"),a=e("@turnercode/digital-ads-utilities/dist/Version"),s=e("./version.json"),d=function(e){eturn o(n,e),n.prototype.getTransactionID=n.prototype.init=function(){var e=this;return new Promise((function(n,t){var r;window.turner_getTransactionId=e.getTransactionID,window.cnnad_getTransactionId=e.getTransactionID,"function"!=typeof window.turner_getTransactionId?e.logger.warn("turner_getTransactionId failed."):(r=window.turner_getTransactionId(),e.logger.info("Received: ".concat(r)),window.AdFuel?(window.AdFuel.setModuleReady(e.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(e.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",r)):document.addEventListener("AdFuelCreated",())}))},n}(i.AAdFuelModule);t.TransactionId=d,new d},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[{}]},{},[10])(10)}));