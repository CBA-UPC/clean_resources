(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6643],{10793:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var a=r(76955),n=r(52377),o=r(5154),i=r.n(o),s=r(54285);class c extends a.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:i(),viewLogger:i()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:r,subCategoryId:a,contentId:n,displayPosition:o,pageId:i,entryId:s,orderId:c,sectionId:p,serviceId:d,tagName:l}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:r,subCategoryId:a,contentId:n,displayPosition:o,pageId:i,entryId:s,orderId:c,sectionId:p,serviceId:d,tagName:l}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(c.intersectionListener||(c.intersectionListener=(0,s.T)({})),this.stopListen(),this.trigger=n.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=c.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=a.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=a.cloneElement(e,{onClick:this.handleClick})),e}}c.displayName="Tracker"},63455:(e,t,r)=>{"use strict";r.d(t,{IM:()=>d,kt:()=>l});var a=r(66062),n=r(18274),o=r(55752),i=r.n(o),s=r(5663),c=r.n(s),p=r(61863),d=(0,n.H)((e=>function(){var t=(0,a.Z)((function*(t,r,a){var{fetchr:n}=a;if(!e)return null;var o=r();if(!c()(i()(o,["themesState","bloggerThemeIdsMap",e])))return null;try{var s=i()(o,["bloggerState","blogMap",e,"blog_name"],""),d=yield n.read("themes").params({amebaId:s,blogId:e}).end(),{themeIds:l,themeMap:g}=d.data;return t(((e,t,r)=>({type:p.vR,payload:{blogId:e,themeIds:t,themeMap:r}}))(e,l,g))}catch(h){return t((e=>({type:p.fl,payload:{error:e},error:!0}))(h))}}));return function(e,r,a){return t.apply(this,arguments)}}())),l=(0,n.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,a,n){var{fetchr:o}=n,s=a();if(-1!==i()(s,["themesState","bloggerThemeIdsMap",e],[]).indexOf(t))return null;try{var c=i()(s,["bloggerState","blogMap",e,"blog_name"],""),d=yield o.read("themeInfo").params({amebaId:c,blogId:e,themeId:t}).end(),{themeMap:l}=d.data;return r(((e,t,l))}catch(g){return r((e=>({type:p.tf,payload:{error:e},error:!0}))(g))}}));return ()))},96643:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a=r(3e4),n=r(66062),o=(r(91938),r(76955)),i=r(55752),s=r.n(i),c=r(29466),p=r.n(c),d=r(66948),l=r(97175),g=r(55382),h=r.n(g),m=r(45525),u=r(10793),b=r(5563),I=r(24634),y=r.n(I),v=r(51650),f=r(63455),Z=r(73614),T=r(62986),k=r(12942),_=r(96216),w=r(82282);class x extends o.Component{houldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.pageType!==e.pageType||!p()(this.props.blog,e.blog)||!p()(this.props.seoSetting,e.seoSetting)}render(){var e=["\u30c6\u30fc\u30de\u5225\u8a18\u4e8b\u4e00\u89a7",this.props.blog.blog_title||""].filter(().join("\uff5c"),t=(0,w.Z)(this.props.pageType,{amebaId:this.props.amebaId,seoSetting:this.props.seoSetting||{}});return(0,a.Z)(_.ql,{},void 0,(0,a.Z)("title",{},void 0,e),t)}}x.displayName="Head";var L,P,E,S=r(18043),C=function(){var e=(0,n.Z)((function*(e){var{dispatch:t,getState:r,match:a}=e,{params:n}=a,o=n.amebaId,i=yield t((0,Z.Rs)(o));if(i&&i.error)"Not Found"===s()(i,"payload.error.message")?t((0,k.Qn)(o)):t((0,k.$F)(o));else{var c=s()(r(),["bloggerState","bloggerMap",o,"blog"]);c&&(yield Promise.all([t((0,T.Pi)(c)),t((0,f.IM)(c))]))}}));return (),A=(0,d.$j)(((e,t)=>{var{match:r}=t,{params:a,route:n}=r,o=a.amebaId,i=e.bloggerState,s=i.bloggerMap[o]||{},c=s.seo_setting||{},p=i.blogMap[s.blog]||{},d=e.themesState,l=d.themeMap,g=i.bloggerMap[o].blog,h=(d.bloggerThemeIdsMap[g]||[]).map((),m=n.pageType;return{amebaId:o,blog:p,bloggerType:(s.attribute||{}).bloggerType,pageType:m,seoSetting:c,themes:h}}),{trackTapLog:b.XI,trackViewLog:b.iG})(L=(0,l.provideHooks)({defer:C})(L=(0,m.w1)(y())((E=P=class extends o.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.bloggerType!==e.bloggerType||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||this.props.trackViewLog!==e.trackViewLog||!p()(this.props.seoSetting,e.seoSetting)||!p()(this.props.blog,e.blog)||!p()(this.props.themes,e.themes)}renderEntryListEmpty(){return(0,a.Z)("div",{className:y().ErrorBlock},void 0,(0,a.Z)("p",{className:h()(y().ErrorText,S.iJ)},void 0,"\u6295\u7a3f\u3055\u308c\u305f\u8a18\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3002"))}renderThemeLine(){if(this.props.themes<1)return this.renderEntryListEmpty();var e="official"===this.props.bloggerType?"official":"general",t=this.props.themes.map(((t,r)=>(0,a.Z)("li",{className:h()(y().Item,S.ex,S.Qx,S.hn)},t.theme_id,(0,a.Z)(u.f,{activate:["tap","view"],bloggerAmebaId:this.props.amebaId,contentId:"theme/entry_".concat(r+1),orderId:"".concat(r+1),pageId:this.props.pageType,sectionId:"article_blog-theme",serviceId:e,tapLogger:this.props.trackTapLog,viewLogger:this.props.trackViewLog},void 0,(0,a.Z)(v.rU,{className:y().Link,to:"/".concat(this.props.amebaId,"/theme-").concat(t.theme_id,".html")},void 0,(0,a.Z)("span",{className:(y().Title,S.iJ)},void 0,t.theme_name),(0,a.Z)("span",{className:h()(y().RecordCounts,S.RS)},void 0,t.entry_cnt,"\u4ef6"))))));return(0,a.Z)("ul",{className:y().List},void 0,t)}render(){return(0,a.Z)("section",{className:h()(y().Block,S.hn,S.Qx)},void 0,(0,a.Z)(x,{amebaId:this.props.amebaId,blog:this.props.blog,pageType:this.props.pageType,seoSetting:this.props.seoSetting}),(0,a.Z)("h2",{className:h()(y().Heading,S.iJ,S.Qx,S.hn,S.KS,S.$d)},void 0,"\u30c6\u30fc\u30de\u5225\u8a18\u4e8b\u4e00\u89a7"),this.renderThemeLine())}},P.displayName="SpThemeList",L=E))||L)||L)||L},82282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var a=r(3e4),n=(r(76955),r(16884)),o=r(75457);function i(e,t){var{amebaId:r,entryId:i,themeId:s,entryYm:c}=t;if(!r)return[];var p="";switch(e){case o.Z.BlogTop:p=(0,n.Z)(o.Z.BlogTop,{amebaId:r});break;case o.Z.Entry:i&&(p=(0,n.Z)(o.Z.Entry,{amebaId:r,entryId:i}));break;case o.Z.Theme:s&&(p=(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:s}));break;case o.Z.Archive:c&&(p=(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:c}))}var d=[];return p&&d.push((0,a.Z)("link",{href:p,rel:"canonical"},"seo_canonical")),d}function s(e,t){var{amebaId:r,paging:i,entryYm:s,themeId:c}=t;if(!i||!r)return[];var p=i.prev_page,d=i.next_page,l=i.current_page,g=p<l&&p>0,h=d>l,m="",u="";switch(e){case o.Z.BlogTop:m=g?(0,n.Z)(o.Z.BlogTop,{amebaId:r,page:p}):"",u=h?(0,n.Z)(o.Z.BlogTop,{amebaId:r,page:d}):"";break;case o.Z.Archive:m=g?(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:s,page:p}):"",u=h?(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:s,page:d}):"";break;case o.Z.Theme:m=g?(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:c,page:p}):"",u=h?(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:c,page:d}):"";break;case o.Z.Reader:m=g?(0,n.Z)(o.Z.Reader,{amebaId:r,page:p}):"",u=h?(0,n.Z)(o.Z.Reader,{amebaId:r,page:d}):""}var b=[];return m&&b.push((0,a.Z)("link",{href:m,rel:"prev"},"seo_prev")),u&&b.push((0,a.Z)("link",{href:u,rel:"next"},"seo_next")),b}function c(e,t){var{seoSetting:r={},prFlg:n,paging:i,totalReaders:s}=t,c="";if(r.noindex||!1)c="noindex,nofollow";else switch(e){case o.Z.Entry:c="1"===n?"noindex":"2"===n?"nofollow,max-image-preview:large":"3"===n?"noindex,nofollow":"max-image-preview:large";break;case o.Z.Reader:(0===s||i&&1===i.current_page)&&(c="noindex,nofollow");break;case o.Z.Theme:case o.Z.BlogTop:case o.Z.Archive:0===i.total_count&&(c="noindex,nofollow");break;case o.Z.AmemberEntry:c="noindex,follow";break;case o.Z.VideoList:i&&0===i.total_count&&(c="noindex,nofollow")}var p=[];return c&&p.push((0,a.Z)("meta",{content:c,name:"robots"},"seo_robots")),p}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t.amebaId)return[];var r=c(e,t),a=s(e,t),n=[];return t.paging&&1!==t.paging.current_page||n.push(...i(e,t)),[...r,...a,...n]}},16884:(e,t,r)=>{"use strict";r.d(t,{Z:);var a=r(75457),n=e=>{var{amebaId:t,entryId:r,vnm:a}=e;return t&&r?"/".concat(t,"/video-").concat(r,".html").concat(a?"?vnm=".concat(a):""):""};function o(e,t){var{amebaId:r,entryId:o,themeId:i,entryYm:s,imageId:c,vnm:p,day:d,page:l=1}=t,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!r||!e)return"";var h="".concat(g,"/").concat(r),m="";switch(e){case a.Z.BlogTop:return m=l>1?"page-".concat(l,".html"):"","".concat(h,"/").concat(m);case a.Z.EntryList:return m=l>1?"-".concat(l):"","".concat(h,"/entrylist").concat(m,".html");case a.Z.AmemberEntryList:return m=l>1?"-".concat(l):"","".concat(h,"/amemberentrylist").concat(m,".html");case a.Z.ArchiveTop:return"".concat(h,"/archivetop.html");case a.Z.Archive:if(s)return m=l>1?"".concat(l):"","".concat(h,"/archive").concat(m,"-").concat(s,".html");console.error("PageType.Archive: entryYm is undefined.");break;case a.Z.Day:if(d)return m=l>1?"".concat(l):"","".concat(h,"/day").concat(m,"-").concat(d,".html");console.error("PageType.Day: day is undefined.");break;case a.Z.ThemeTop:return"".concat(h,"/themetop.html");case a.Z.Theme:if(i)return m=l>1?"".concat(l):"","".concat(h,"/theme").concat(m,"-").concat(i,".html");console.error("PageType.Theme: themeId is undefined.");break;case a.Z.PopularRecentList:return m=l>1?"-".concat(l):"","".concat(h,"/popularrecentlist").concat(m,".html");case a.Z.Entry:if(o)return m=l>1?"".concat(l):"","".concat(h,"/entry").concat(m,"-").concat(o,".html");console.error("PageType.Entry: entryId is undefined.");break;case a.Z.ImageList:return m=l>1?"-".concat(l):"",s?"".concat(h,"/imagelist-").concat(s).concat(m,".html"):"".concat(h,"/imagelist.html");case a.Z.Image:if(o&&c)return"".concat(h,"/image-").concat(o,"-").concat(c,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case a.Z.VideoList:return m=l>1?"-".concat(l):"","".concat(h,"/videolist").concat(m,".html");case a.Z.Video:if(o)return"".concat(g).concat(n({amebaId:r,entryId:o,vnm:p}));console.error("PageType.Video: entryId is undefined.");break;case a.Z.IineEntry:if(o)return"".concat(h,"/iine_entry-").concat(o,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case a.Z.Comment:if(m=l>1?"page-".concat(l,".html"):"",o)return"".concat(h,"/comment-").concat(o,"/").concat(m);console.error("PageType.Comment: entryId is undefined.");break;case a.Z.Reblog:if(m=l>1?"page-".concat(l,".html"):"",o)return"".concat(h,"/reblog-").concat(o,"/").concat(m);console.error("PageType.Reblog: entryId is undefined.");break;case a.Z.MessageBoard:return"".concat(h,"/message-board.html");case a.Z.Reader:return m=l>1?"-".concat(l):"","".concat(h,"/reader").concat(m,".html");case a.Z.Favorite:return m=l>1?"-".concat(l):"","".concat(h,"/favorite").concat(m,".html");case a.Z.Bookmark:return m=l>1?"-".concat(l):"","".concat(h,"/bookmark").concat(m,".html");case a.Z.AmemberEntry:if(o)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(r,"/amemberentry-").concat(o,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case a.Z.ImageEmbed:if(o&&c)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(r,"/image-").concat(o,"-").concat(c,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case a.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}},70163:(e,t,r)=>{var a=r(18300)(();a.push([e.id,"._361qZYZi{margin:0 0 .5rem;overflow:hidden}._3AP1HOKC{border-top:1px solid #ccc;display:block;font-size:14px;font-weight:700;height:48px;line-height:48px;margin:0;padding:0 .5rem}._2xuWKCfF{border:0;font-size:100%;list-style:none;margin:0;padding:0;vertical-align:baseline}._118o6y4I{border-bottom:1px solid #e2e2e2;height:48px;margin:0}._118o6y4I:first-child{border-top:none}._BMYzZ0kK{box-sizing:border-box;display:block;font-size:15px;height:100%;line-height:30px;padding:9px 8px}._20a9ZriR{color:#333}.__zqPfPRl{color:#999;float:right}._2zDwg14_{margin:20px 0;padding:0 8px}._3eW0e9pg{color:#333;font-size:15px;line-height:1.4em;margin:15px 0}",""]),a.locals={Block:"_361qZYZi",Heading:"_3AP1HOKC",List:"_2xuWKCfF",Item:"_118o6y4I",Link:"_BMYzZ0kK",Title:"_20a9ZriR",RecordCounts:"__zqPfPRl",ErrorBlock:"_2zDwg14_",ErrorText:"_3eW0e9pg"},e.exports=a},24634:(e,t,r)=>{var a=r(70163),n=Object.assign||o=Object.defineProperty||"string"==typeof a&&(a=[[e.id,a,""]]),e.exports=function(e){var t=n({},e.locals||{});return o(t,"_",{value:),o(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(a)}}]);