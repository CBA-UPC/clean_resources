import{j as s,aN as z,r as v,g as w,o as is}from"./e5833d38.js";import{bG as as,aB as os,bH as ts,w as A,aG as V,N as Q,O as ns,aD as Y,aa as ls,T as k,A as E,z as M,d as O,bI as K,bJ as $,ac as R,bK as Z,bL as H,H as F,bM as W,ae as G,af as U,Y as ss,bN as cs,ag as rs,B as ds,D as ps,R as q,bO as X,am as ms,bB as bs}from"./48a35c56.js";import{D as hs}from"./be3dce6e.js";import{S as xs,T as gs}from"./2da4b65e.js";import{P as ks}from"./10437895.js";import{S as us}from"./326a23f9.js";const J=({displayDuration:t=!0,session:n})=>{const{showSessionTimeSlots:l}=as(),h=n.durationInMinutes,x=os().minMd,{durationKey:c}=ts();return s.jsxs(s.Fragment,{children:[n.startDateTime&&n.endDateTime&&!x&&s.jsxs("div",{className:"session-date-time__date",children:[s.jsx(A,{additionalClasses:"session-date-time__glyph",name:"calendar",size:{heightInPixels:"16px",widthInPixels:"16px"},fill:V.igniteBlue}),s.jsx(Q,{date:n.startDateTime,format:ns.shortDayOfTheWeekWithFullMonthAndDay}),"    ",s.jsx(Y,{start:n.startDateTime,end:n.endDateTime,timezone:"short"}),s.jsx("br",{})]}),n.startDateTime&&x&&s.jsxs("div",{className:"session-date-time__date",children:[s.jsx(A,{additionalClasses:"session-date-time__glyph",name:"calendar",size:{heightInPixels:"16px",widthInPixels:"16px"},fill:V.igniteBlue}),s.jsx(Q,{date:n.startDateTime,format:ls()}),s.jsx("br",{})]}),l&&x&&n.startDateTime&&n.endDateTime&&s.jsxs("div",{className:"session-date-time__time",children:[s.jsx(A,{additionalClasses:"session-date-time__glyph",name:"clock",size:{heightInPixels:"16px",widthInPixels:"16px"},fill:V.igniteBlue}),s.jsx(Y,{start:n.startDateTime,end:n.endDateTime,timezone:"long"}),s.jsx("br",{})]}),t&&h>0&&l&&s.jsxs("div",{className:"session-date-time__duration",children:[s.jsx(k,{textKey:c(n)}),s.jsx("br",{})]})]})},_s=(t,n)=>{var L,e;const l=E(),{sessionTypeResolver:h}=M(),{configStore:x}=O(),{analyticsTagText:c="Catalog",session:a,sessionLink:o,enableSessionCatalogDetailPageLink:i,authorized:u,isBookable:p,isBooked:D,shouldShowSpeakers:_,isRSVPSession:N,bookableDisplayDate:C,addSessionCallback:y,enrollmentStatus:m}=t,T=h.isRoundtable(a.sessionType.logicalValue),j=m!==void 0&&T,{component:f}=j?K.get(m):{component:void 0},I=!p&&!!a.startDateTime,S=p&&D,g=$(a).show,d=u&&N,b=I||S||g||d,r=x.isFlagEnabled("showSessionAudioLanguage")&&((L=a==null?void 0:a.audioLanguage)==null?void 0:L.length)>0;return s.jsxs("div",{className:"session-block__list-view",children:[s.jsxs("div",{className:"session-block__title-column",children:[s.jsx("h3",{children:s.jsx(R,{href:o,disabled:!i,ref:n,dataCy:"session-block-link",className:w("session-block__title",{"no-underline not-active":!i}),telemetryIdentifier:"telemetry.session-detail",ariaLabel:(e=a.displayTitle)==null?void 0:e.trim(),analyticsTag:l({aN:c,cN:a.sessionCode}),title:`${a.sessionCode} - ${a.displayTitle}`,children:a.displayTitle})}),s.jsx(Z,{session:a,showSessionType:!0})]}),s.jsxs("div",{className:w("session-block__content-row",{"session-block__content-row--no-details":!b,"session-block__content-row--no-speakers":!_,"session-block__content-row--no-details-or-speakers":!b&&!_}),children:[b&&s.jsxs("div",{className:"session-block__content-row__block session-block__content-row__block--details",children:[I&&s.jsx(J,{displayDuration:!1,session:a}),S&&s.jsx("div",{className:"session-block__booking--date",children:C}),g&&s.jsx(H,{session:a}),d&&s.jsxs("div",{className:"session-block__booking--limited",children:[s.jsx(A,{name:"group",size:{heightInPixels:"16px",widthInPixels:"16px"},fill:V.igniteBlue}),s.jsx("span",{className:"session-block__booking--limited--text",children:s.jsx(k,{textKey:"translate.base.overflow.labels.limited-space"})})]})]}),s.jsxs("div",{className:w("session-block__content-row__block","session-block__content-row__block--description"),children:[r&&s.jsxs("div",{className:"session-block__language",children:[s.jsx(A,{additionalClasses:"session-block__language--glyph",name:"microphone",size:{heightInPixels:"15px",widthInPixels:"15px"},fill:"#0078d4"}),s.jsxs("span",{className:"session-block__language--content",children:[s.jsx("span",{className:"session-block__language--content--label",children:s.jsx(k,{textKey:a.audioLanguage.length===1?"translate.base.session.labels.presentation-language":"translate.base.session.labels.presentation-languages"})})," ",a.audioLanguage.join(", ")]})]}),s.jsx(hs,{heightInLines:4,textContent:a.description,showMoreText:"translate.base.session.info.actions.more",showLessText:"translate.base.session.info.actions.less",showMoreAria:F("translate.base.session.info.actions.more-aria",{sessionName:a.displayTitle}),showLessAria:F("translate.base.session.info.actions.less-aria",{sessionName:a.displayTitle})})]}),_&&s.jsx("div",{className:"session-block__content-row__block session-block__content-row__block--speakers",children:s.jsx(xs,{speakers:a.speakers,showLabel:!1})}),s.jsxs("div",{className:"session-block__content-row__block session-block__content-row__block--actions",children:[s.jsx(W,{session:a,addSessionCallback:y,analyticsAreaName:"Catalog"}),s.jsx(G,{favoriteId:a.sessionId,type:U.Session,sessionTypeLogical:a.sessionType.logicalValue,name:a.title,sessionDeliveryTypes:a.deliveryTypes,sessionViewingOptions:a.viewingOptions}),j&&s.jsx(f,{})]})]})]})},ys=z(v.forwardRef(_s)),es=({show:t,status:n})=>{if(!t)return null;const{component:l}=t?K.get(n):{component:void 0};return s.jsx("div",{className:"session-block__session-type-enrollment-status",children:s.jsx(l,{})})},js=({showEnrollmentStatus:t,enrollmentStatus:n,session:l,showFavoriteButton:h})=>s.jsxs(s.Fragment,{children:[h&&s.jsx(G,{favoriteId:l.sessionId,type:U.Session,name:l.title,sessionTypeLogical:l.sessionType.logicalValue,sessionDeliveryTypes:l.deliveryTypes,sessionViewingOptions:l.viewingOptions}),s.jsx(es,{show:t,status:n})]}),Ss=(t,n)=>{const l=E(),{translate:h}=ss(),{sessionTypeResolver:x}=M(),[c,a]=v.useState(!1),{session:o,sessionLink:i,enableSessionCatalogDetailPageLink:u,authorized:p,isBookable:D,shouldShowSpeakers:_,isRSVPSession:N,addSessionCallback:C,enrollmentStatus:y,hiddenElements:m}=t,T=v.useMemo(()=>!c&&o.speakers&&o.speakers.length>2?o.speakers.slice(0,2):o.speakers,[c,o.speakers]),j=x.isRoundtable(o.sessionType.logicalValue),f=p&&N,I=$(o).show,S=`dialog-${o.sessionId}`,g=`#${S}`,d=v.useCallback(e=>m!=null&&m.length?Array.isArray(e)?e.some(P=>!m.includes(P)):!m.includes(e):!0,[m]),b=y&&j&&d("enrollment-status"),B=v.useCallback(e=>{e.preventDefault(),a(P=>!P)},[a]),r=c?{role:"dialog","aria-labelledby":`dialog-title-${o.sessionId}`,tabIndex:-1,"aria-modal":!0}:{},L=v.useMemo(()=>({initialFocus:g,onDeactivate:()=>{a(!1)}}),[g]);return s.jsx(cs,{active:c,focusTrapOptions:L,children:s.jsxs("div",{className:w("session-block__mobile-view",{"session-block__mobile-view--expanded":c}),...r,id:S,children:[s.jsxs("div",{className:"session-block__info-container",children:[s.jsxs("div",{className:"session-block__title-row",children:[s.jsx("h3",{className:"session-block__title","data-cy":"session-block-title",id:`dialog-title-${o.sessionId}`,children:s.jsx(R,{ref:n,href:i,className:w("session-block__link dark-theme",{"not-active":!u}),telemetryIdentifier:"telemetry.session-detail",analyticsTag:l({cN:o.title}),dataCy:"session-block-link",children:s.jsx(rs,{text:o.title})})}),c&&s.jsx(ds,{className:"session-block-actions__collapse",onClickFunction:B,telemetryIdentifier:"telemetry.content-toggle.collapse",ariaLabel:"translate.base.session.info.actions.less",analyticsTag:l({aN:"Catalog",cN:"translate.base.session.info.actions.less"}),children:s.jsx(A,{name:"cross",size:{heightInPixels:"16px",widthInPixels:"16px"}})})]}),s.jsx(Z,{session:o,showSessionType:d("session-type")}),s.jsxs("div",{className:"c-paragraph-3 f-lean session-block__summary",children:[!D&&s.jsx(J,{session:o,displayDuration:!1}),d("location")&&I&&s.jsx(H,{session:o}),d("rsvp-status")&&f&&s.jsxs("div",{className:"session-block__booking-limited",children:[s.jsx(A,{additionalClasses:"session-date-time__glyph",name:"group",size:{heightInPixels:"16px",widthInPixels:"16px"},fill:V.igniteBlue}),s.jsx(k,{textKey:"translate.base.overflow.labels.limited-space"}),s.jsx("br",{})]})]}),c&&o.description&&s.jsx("div",{className:"session-block__description","data-cy":"session-block-description",title:h(o.description),children:s.jsx(k,{textKey:o.description})}),_&&s.jsx("div",{className:w({"speaker-badges__list":c,"speaker-badges__list--collapsed":!c}),children:T.map(e=>s.jsx(ks,{type:"speaker",name:e.displayName,company:e.company,id:e.speakerId,image:e.thumbnail??e.photo},e.speakerId+e.displayName))})]}),s.jsx(ps,{analyticsTag:l({aN:"Catalog",cN:"translate.base.session.info.actions.more"}),telemetryIdentifier:"telemetry.content-toggle.expand",buttonStyle:"text",ariaLabel:"translate.base.session.info.actions.more",onClickFunction:B,className:w({"session-block__see-more--hidden":c}),ariaHidden:c,children:s.jsx(k,{textKey:"translate.base.session.info.actions.more"})}),d(["backpack-button","schedule-button","enrollment-status","session-type"])&&s.jsxs("div",{className:"session-block__bottom-section",children:[d("schedule-button")&&s.jsx(W,{session:o,addSessionCallback:C,analyticsAreaName:"Catalog"}),!c&&s.jsx(es,{show:b,status:y}),c&&s.jsx(js,{showFavoriteButton:d("backpack-button"),session:o,showEnrollmentStatus:b,enrollmentStatus:y})]})]})})},vs=z(v.forwardRef(Ss)),ws=({isStreaming:t})=>s.jsx(s.Fragment,{children:t&&s.jsx("div",{className:"live-now",children:s.jsx(k,{textKey:"translate.base.live-stream.labels.live-now-emphasis"})})}),Ns=(t,n)=>{const l=E(),{translate:h}=ss(),{linkBuilder:x,sessionTypeResolver:c}=M(),{configStore:a}=O(),{analyticsTagText:o="Catalog",session:i,sessionLink:u,enableSessionCatalogDetailPageLink:p,buildSpeakerLink:D,isBookable:_,shouldShowSpeakers:N,isRSVPSession:C,addSessionCallback:y,showTileImage:m,enrollmentStatus:T,cardContentStyles:j={},hiddenElements:f=["duration","description"]}=t,I=`session-block__image-container session-block__image-container--variant${i.title.length%6+1}`,S=c.isRoundtable(i.sessionType.logicalValue),g=a.getSetting("maxNumOfSpeakersOnSessionTile"),d=$(i).show,b=T&&S,{component:B}=b?K.get(T):{component:void 0},r=e=>Array.isArray(e)?e.some(P=>!f.includes(P)):!f.includes(e),L=i.title.length>q.SessionsBlockMaxTitleLength?`${i.sessionCode} - ${i.displayTitle}`:void 0;return s.jsxs("div",{className:"session-block__tile-view authorized-tile",style:X(j),children:[m&&s.jsx("div",{className:I,children:s.jsxs("div",{className:"session-block__schedule-or-streaming__stream-now",children:[i.isStreaming&&s.jsx("span",{className:"session-block__schedule-or-streaming__stream-now__button"}),s.jsx(gs,{linkToDetailsEnabled:p,session:i,showImage:!0})]})}),s.jsxs("div",{className:"session-block__info-container",style:X(j),children:[s.jsxs("h3",{className:"session-block__title","data-cy":"session-block-title",children:[r("live-now")&&s.jsx(ws,{isStreaming:i.isCurrentlyActive}),s.jsx(R,{ref:n,href:u,disabled:!p,className:w("session-block__link dark-theme",{"not-active":!p}),telemetryIdentifier:"telemetry.session-detail",ariaLabel:i.title,analyticsTag:l({aN:o,cN:i.sessionCode}),dataCy:"session-block-link",title:L,children:s.jsx(us,{text:i.title,length:q.SessionsBlockMaxTitleLength,fullWords:!0})})]}),r("description")&&s.jsx("div",{className:"session-block__description","data-cy":"session-block-description",title:h(i.description),children:s.jsx(k,{textKey:i.description})}),r("date-time")&&!_&&s.jsx("div",{className:"c-paragraph-3 f-lean session-block__times",children:s.jsx(J,{session:i})}),r("location")&&d&&s.jsx(H,{session:i}),N&&r("speakers")&&s.jsx("p",{className:"session-block__speakers",children:i.speakers.slice(0,g).map((e,P)=>s.jsxs("span",{className:"session-block__speaker-container",children:[e.speakerId&&s.jsx(R,{className:"session-block__speakers-name",href:D(e.speakerId),telemetryIdentifier:"telemetry.speaker-detail",ariaLabel:e.displayName,analyticsTag:l({aN:o,cN:e.displayName}),children:e.displayName}),!e.speakerId&&s.jsx("span",{children:e.displayName}),e.company!==""&&s.jsx("span",{children:"-"}),e.company!==""&&s.jsxs(R,{className:"session-block__speakers-company",href:x.buildSpeakerCompanyLink(e.company),telemetryIdentifier:"telemetry.speakers.with-filter",ariaLabel:e.company,analyticsTag:l({aN:"speakerbadges",cN:e.company}),children:[s.jsx("span",{children:" "}),e.company]}),P+1===i.speakers.length&&i.speakers.length>g&&s.jsx("span",{children:"..."}),s.jsx("br",{})]},e.displayName+e.speakerId))}),r(["enrollment-status","session-type"])&&s.jsxs("div",{className:"session-block__session-type-container-tile",children:[r("enrollment-status")&&b&&s.jsx("div",{className:"session-block__session-type-enrollment-status",children:s.jsx(B,{})}),r("session-type")&&s.jsxs("div",{className:"session-block__session-type-tag",children:[s.jsx("div",{className:"mdl2-glyph glyph-session-type session-block__view-tag-glyphicon"}),s.jsx("span",{className:"session-block__session-type-tag__session-type-tag-text",children:i.sessionType.displayValue})]})]}),r("rsvp-status")&&C&&s.jsxs("div",{className:"session-block__limited-space-tag",children:[s.jsx("div",{className:"mdl2-glyph glyph-limited-space session-block__limited-space-tag__glyphicon"}),s.jsx("span",{className:"session-block__limited-space-tag__limited-space-tag-text",children:s.jsx(k,{textKey:"translate.base.overflow.labels.limited-space"})})]})]}),r(["backpack-button","schedule-button","duration"])&&s.jsxs("div",{className:"session-block__bottom-section",children:[r("duration")&&s.jsx("div",{className:"session-block__duration","data-cy":"session-block-title",children:s.jsx(k,{textKey:F("translate.base.featured-sessions.session-duration",{duration:i.durationInMinutes})})}),r("schedule-button")&&s.jsx(W,{session:i,addSessionCallback:y,analyticsAreaName:"Catalog"}),r("backpack-button")&&s.jsx(G,{favoriteId:i.sessionId,type:U.Session,name:i.title,sessionTypeLogical:i.sessionType.logicalValue,sessionDeliveryTypes:i.deliveryTypes,sessionViewingOptions:i.viewingOptions})]})]})},Ts=z(v.forwardRef(Ns)),fs=({session:t,analyticsTagText:n,source:l,extraClasses:h,showTileImage:x,isTileView:c,enableMobileView:a=!0,cardContentStyles:o={},hiddenElements:i},u)=>{const{configStore:p,profileStore:D,userScheduleManagerStore:_}=O(),{linkBuilder:N,sessionTypeResolver:C}=M(),{isHandsOnLab:y,isCertificationExam:m}=C.resolveTypes(t.sessionType.logicalValue),T=N.buildSessionLink(t.sessionId,l),j=t&&!t.isMandatory&&t.isCapacityControlled,f=y||m,I=p.isFlagEnabled("showSpeakerInformation")&&t&&t.speakers&&t.speakers.length>0&&p.isFlagEnabled("showSpeakersInSessionBlock"),S=e=>N.buildSpeakerLink(e,l),g=_.getEnrollmentStatus(t.sessionId),d=ms()&&a,b={addSessionCallback:bs,authorized:D.isAuthenticated,enableSessionCatalogDetailPageLink:p.isFlagEnabled("enableSessionCatalogDetailPageLink"),enrollmentStatus:g,isBookable:f,isRSVPSession:j,session:t,sessionLink:T,analyticsTagText:n,shouldShowSpeakers:I,showRoomsToAnonymousUsers:p.isFlagEnabled("showRoomsToAnonymousUsers")},B={...b,bookableDisplayDate:"",isBooked:!1},r={...b,buildSpeakerLink:S,showTileImage:x,cardContentStyles:o,hiddenElements:i},L={...b,hiddenElements:i,source:l};return s.jsxs("div",{className:w("session-block",h),"data-cy":"session-block",children:[d&&s.jsx(vs,{ref:u,...L}),!c&&!d&&s.jsx(ys,{ref:u,...B}),c&&!d&&s.jsx(Ts,{ref:u,...r})]})},As=is(v.forwardRef(fs));export{As as S};
