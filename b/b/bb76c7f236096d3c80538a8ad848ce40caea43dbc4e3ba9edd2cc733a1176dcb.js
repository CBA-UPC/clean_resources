"use strict";(self.webpackChunkpageos=self.webpackChunkpageos||[]).push([[262],{1410:(n,e,t)=>{t.r(e),t.d(e,{default:);var i=t(5671),o=t(3144),r=t(4942),a=t(1401),c=t(416);var s=t(136),u=t(2963),f=t(1120),l=t(2407);function d(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=(0,f.Z)(n);if(e){var o=(0,f.Z)(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return(0,u.Z)(this,t)}}var h=(0,l.Z)(Error)),g=function(){function n(){(0,i.Z)(this,n)}return(0,o.Z)(n,null,[{key:"decode",value:]),n}();(0,r.Z)(g,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),(0,r.Z)(g,"BASIS",6);var p=function(){function n(){(0,i.Z)(this,n)}return(0,o.Z)(n,[{key:"has",value:,{key:"forEach",value:,{key:"size",get:]),n}();(0,r.Z)(p,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var v,m=(0,o.Z)((function n(){(0,i.Z)(this,n)}));(0,r.Z)(m,"cmpId","cmpId"),(0,r.Z)(m,"cmpVersion","cmpVersion"),(0,r.Z)(m,"consentLanguage","consentLanguage"),(0,r.Z)(m,"created","created"),(0,r.Z)(m,"lastUpdated","lastUpdated"),(0,r.Z)(m,"version","version"),v||(v={}));var C,w,y,P,Z,_,S=(0,o.Z)((function n(){(0,i.Z)(this,n)}));(0,r.Z)(S,"ID_TO_KEY",[v.CORE]),(0,r.Z)(S,"KEY_TO_ID",(0,r.Z)({},v.CORE,0)),C=m.cmpId,w=m.cmpVersion,y=m.consentLanguage,P=m.created,Z=m.lastUpdated,_=m.version;var E=(0,o.Z)(();(0,r.Z)(E,C,12),(0,r.Z)(E,w,12),(0,r.Z)(E,y,12),(0,r.Z)(E,P,36),(0,r.Z)(E,Z,36),(0,r.Z)(E,_,6),(0,r.Z)(E,"anyBoolean",1),(0,r.Z)(E,"encodingType",1),(0,r.Z)(E,"maxId",16),(0,r.Z)(E,"numCustomPurposes",6),(0,r.Z)(E,"numEntries",12),(0,r.Z)(E,"numRestrictions",12),(0,r.Z)(E,"purposeId",6),(0,r.Z)(E,"restrictionType",2),(0,r.Z)(E,"segmentType",3),(0,r.Z)(E,"singleOrRange",1),(0,r.Z)(E,"vendorId",16);var L=function(){function n(){(0,i.Z)(this,n)}return(0,o.Z)(n,null,[{key:"decode",value:]),n}(),M=function(){function n(){(0,i.Z)(this,n)}return(0,o.Z)(n,null,[{key:"decode",value:]),n}(),O=function(){function n(){(0,i.Z)(this,n)}return(0,o.Z)(n,null,[{key:"decode",value:]),n}();var b=(0,o.Z)((function n(){(0,i.Z)(this,n),(0,r.Z)(this,"1",(0,r.Z)({},v.CORE,[m.version,m.created,m.lastUpdated,m.cmpId,m.cmpVersion,m.consentLanguage])),(0,r.Z)(this,"2",(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},v.CORE,[m.version,m.created,m.lastUpdated,m.cmpId,m.cmpVersion,m.consentLanguage]),v.PUBLISHER_TC,[]),v.VENDORS_ALLOWED,[]),v.VENDORS_DISCLOSED,[]))})),A=function(){function n(){(0,i.Z)(this,n)}return(0,o.Z)(n,null,[{key:"decode",value:function(n,e,t){var i=this,o=g.decode(n),a=0;t===v.CORE&&(e.version=L.decode(o.substr(a,E[m.version]),E[m.version])),t!==v.CORE&&(a+=E.segmentType);var c=this.fieldSequence[String(e.version)][t],s=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},m.version,L),m.created,M),m.lastUpdated,M),m.cmpId,L),m.cmpVersion,L),m.consentLanguage,O);return c.forEach((function(n){var t=s[n],r=E[n];if(void 0===r&&i.isPublisherCustom(n)&&(r=Number(e[m.numCustomPurposes])),0!==r){var c=o.substr(a,r);if(e[n]=t.decode(c,r),Number.isInteger(r))a+=r;else{if(!Number.isInteger(e[n].bitLength))throw new h(n);a+=e[n].bitLength}}})),e}},{key:"isPublisherCustom",value:]),n}();(0,r.Z)(A,"fieldSequence",new b);var k=t(7326),D=t(1002);r U=function(){function n(){(0,i.Z)(this,n)}return(0,o.Z)(n,[{key:"clone",value:,{key:"deepClone",value:function(n){var e=(0,D.Z)(n);if("number"===e||"string"===e||"boolean"===e)return n;if(null!==n&&"object"===e){if("function"==typeof n.clone)return n.clone();if(n instanceof Date)return new Date(n.getTime());if(void 0!==n[Symbol.iterator]){var t,i=[],o=I(n);try{for(o.s();!(t=o.n()).done;){var r=t.value;i.push(this.deepClone(r))}}catch(n){o.e(n)}finally{o.f()}return n instanceof Array?i:new n.constructor(i)}var a={};for(var c in n)n.hasOwnProperty(c)&&(a[c]=this.deepClone(n[c]));return a}}}]),n}();function R(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,i=(0,f.Z)(n);if(e){var o=(0,f.Z)(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return(0,u.Z)(this,t)}}var V=function(n){(0,s.Z)(t,n);var e=R(t);function t(n,o){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(0,i.Z)(this,t),(r=e.call(this,"invalid value ".concat(o," passed for ").concat(n," ").concat(a))).name="TCModelError",r}return(0,o.Z)(t)}((0,l.Z)(Error));ar B=function(n){(0,s.Z)(t,n);var e=N(t);function t(){var n;(0,i.Z)(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=e.call.apply(e,[this].concat(a)),(0,r.Z)((0,k.Z)(n),"version_",2),(0,r.Z)((0,k.Z)(n),"consentLanguage_","EN"),(0,r.Z)((0,k.Z)(n),"cmpId_",0),(0,r.Z)((0,k.Z)(n),"cmpVersion_",0),(0,r.Z)((0,k.Z)(n),"created",void 0),(0,r.Z)((0,k.Z)(n),"lastUpdated",void 0),n}return(0,o.Z)(t,[{key:"cmpId",get:function(){return this.cmpId_},set:,{key:"cmpVersion",get:function(){return this.cmpVersion_},set:,{key:"consentLanguage",get:function(){return this.consentLanguage_},set:,{key:"version",get:set:,{key:"updated",value:]),t}(U),G=function(){eturn(0,o.Z)(n,null,[{key:"decode",value:]),n}(),H="__cmp",F=function(){function n(e){var t=this;(0,i.Z)(this,n),this.hasLocalStorage=window.PageOS.environment.hasLocalStorage;var o=this,r=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config;return this.cmpVersion=r&&r.settings.cmpVersion||1,this.cmpVersion=window.cmpVersion?window.cmpVersion:this.cmpVersion,this.cmpVersion=this.cmpVersion,window.PageOS.gdpr.tcfVersion=this.cmpVersion,this.CMP_GLOBAL_NAME=H,this.countryCode=e.countryCode,new Promise((function(n){"function"!=typeof window[H]&&"function"!=typeof window.__tcfapi&&(window.PageOS.gdpr.userInEU?(t.updateOldCmp2UserData(),o.cmpInit(o),o.consentDataSet=!(void 0!==o.consentDataSet||!t.hasLocalStorage)&&localStorage.getItem("consentDataSet"),o.consentDataSet||(window[o.CMP_GLOBAL_NAME]("showConsentTool"),c.Hf.info("Showing CMP sticky banner")),window[o.CMP_GLOBAL_NAME]("addEventListener","onSubmit",(function(){c.Hf.info("CMP event - onSubmit"),window[o.CMP_GLOBAL_NAME]("ping",null,(function(n){c.Hf.info("CMP ping result",n)})),t.hasLocalStorage&&localStorage.setItem("consentDataSet",!0),n()})),window[o.CMP_GLOBAL_NAME]("addEventListener","cmpReady",(function(){window[o.CMP_GLOBAL_NAME]("ping",null,(function(n){c.Hf.info("CMP module ready - ping result",n)})),o.consentDataSet&&n()})),window[o.CMP_GLOBAL_NAME]("addEventListener","cmpFailed",(),window[o.CMP_GLOBAL_NAME]("addEventListener","cmpLogEvent",()):n())}))}return(0,o.Z)(n,[{key:"cmpInit",value:function(n){!function(n,e,t){if(!n[t.CMP_GLOBAL_NAME]){n[t.CMP_GLOBAL_NAME]=(r=n.attachEvent||n.addEventListener,a=[],c=function(e,t,i){"ping"===e?i&&i({gdprAppliesGlobally:!!(n.__cmp&&n.__cmp.config&&n.__cmp.config.gdprAppliesGlobally),cmpLoaded:!1}):a.push({command:e,parameter:t,callback:i})},r("message",(,!1),function i(){var o=""===t.CMP_GLOBAL_NAME?"__cmpLocator":"__tcfapiLocator";if(!n[o])if(e.body){var r=e.createElement("iframe");r.style.display="none",r.name=o,e.body.appendChild(r)}else setTimeout(i,5)}(),c.commandQueue=a,c.receiveMessage=function(n){var e=n&&n.data&&n.data.__cmpCall;if(e){var t=e.callId,i=e.command,o=e.parameter;a.push({callId:t,command:i,parameter:o,event:n})}},c.config={globalVendorListLocation:"https://vendorlist.consensu.org/v-215/vendorlist.json",storeConsentGlobally:!1,storePublisherData:!1,gdprAppliesGlobally:!1,logging:"debug",localization:{},forceLocale:"en-us",cmpVersion:t.cmpVersion,countryCode:t.countryCode},c);var i=e.createElement("script"),o=e.getElementsByTagName("head")[0];i.async=!1,i.src="https://cdn.intergient.com/pageos/1.10.31/cmp/cmp.js?version=1",o.appendChild(i)}var r,a,c}(window,document,n)}},{key:"getVendorsWithConsent",value:function(n){var e=0;for(var t in n)!0===n[t]&&e++;return e}},{key:"vendorsRequestingConsent",value:function(n){var e=Object.values(n).filter((function(n){return n.purposes.length>0&&void 0===n.deletedDate}));return e.length}},{key:"updateOldCmp2UserData",value:function(){var n=(0,a.Do)("euconsent-v2");""!==n&&(G.decode(n).created<new Date("Fri Nov 13 2020 12:07:31 GMT-0500")&&(this.consentDataSet=!1,document.cookie="euconsent-v2=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="euconsent-v2-pw=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"))}}]),n}(),x=function(){function n(e,t){var o=this;(0,i.Z)(this,n),(0,r.Z)(this,"thirdPartyActionComplete",!1),(0,r.Z)(this,"_checkExistTCFAPI",(function(n){var e=0;return new Promise((function(t,i){var r=setInterval((function(){if(void 0!==window.__tcfapi)return clearInterval(r),void t();++e>=o.retryCountLimit&&(clearInterval(r),i())}),n)}))})),(0,r.Z)(this,"_handleThirdPartyTcfApi",(),this.euConsentCookie=(0,a.Do)("euconsent"),c.Hf.info("Consent String",{euConsentCookie:this.euConsentCookie}),this.tycheConfig=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config,this.hasPlaywireCmp=this.tycheConfig&&this.tycheConfig.settings.cmp||t,this.hasGoogleTag=window.googletag,this.binaryConsent=null,this.acString=null,this.MODULE=e,this.isCOPPA=e.isCOPPA,this.forceGoogleCmp=(0,a.DP)("gcmp"),this.retryCountLimit=this.tycheConfig&&this.tycheConfig.tcfRetries?this.tycheConfig.tcfRetries:10,this.millisecondsInterval=this.tycheConfig&&this.tycheConfig.tcfMsInterval?this.tycheConfig.tcfMsInterval:500,e.getACString=this.getACString.bind(this),e.getConsentData=this.getConsentData.bind(this),e.getConsentString=this.getConsentString.bind(this),e.getTCString=this.getTCString.bind(this),this.loadCmp()}return(0,o.Z)(n,[{key:"loadCmp",value:function(){var n=this,e="function"==typeof window.__cmp||"function"==typeof window.__tcfapi,t=0;switch(t=e||this.hasPlaywireCmp||this.hasGoogleCmp?t:5,t=this.hasGoogleTag?4:t,t=this.hasPlaywireCmp?3:t,t=e?2:t,t=this.isCOPPA?1:t,this.forceGoogleCmp&&(t=4),t){case 1:c.Hf.info("User in EU but is a COPPA site"),this.handleNoCMP();break;case 2:this.hasPlaywireCmp&&c.Hf.warn("3rd party CMP found; ignoring Playwire settings"),window.PageOS.gdpr.tcfVersion="function"==typeof window.__tcfapi?2:1,c.Hf.info("User in EU. Using CMP","3rd party CMP"),c.Hf.info("CMP module",{playwireCMP:0}),this.handleCMP();break;case 3:c.Hf.info("User in EU. Using CMP","Playwire CMP"),window.cmp=new F({countryCode:this.MODULE.userCC}).then(();break;case 4:c.Hf.info("User in EU. Checking if Google CMP should be used"),window.PageOS.gdpr.tcfVersion=2,this.handleCMP().then((),window.PageOS.BUS.on("no_cmp_found",();break;case 5:c.Hf.info("User in EU but No CMP found"),this.handleNoCMP()}}},{key:"cmpFunction",value:,{key:"getACString",value:,{key:"getConsentData",value:,{key:"_handleTCData",value:function(){var n=this;return new Promise((function(e,t){if(window.PageOS.gdpr.fetchingFailed&&e(),2!==window.PageOS.gdpr.tcfVersion)e();else{n._handleThirdPartyTcfApi((function(){window.__tcfapi("getTCData",2,()}))}}))}},{key:"handleCMP",value:,{key:"handleNoCMP",value:,{key:"getConsentString",value:function(){var n=this;return new Promise((function(e,t){if(n.euConsentCookie)return e(n.euConsentCookie);2!==window.PageOS.gdpr.tcfVersion?n.cmpFunction("getConsentData","consentData").then(().catch(():n._handleThirdPartyTcfApi((function(){window.__tcfapi("getTCData",2,()}))}))}},{key:"getTCString",value:]),n}()}}]);