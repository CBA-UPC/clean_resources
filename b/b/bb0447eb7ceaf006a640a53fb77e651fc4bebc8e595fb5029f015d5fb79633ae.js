"use strict";(()=>{(self.webpackChunkms_module_service=self.webpackChunkms_module_service||[]).push([[64802],{29133:(O,d,s)=>{s.d(d,{GH:()=>i,Y6:()=>m,eW:()=>r,iC:()=>l,uB:()=>u});const r="WXU/DAL/DATA_FETCH",l="WXU/DAL/DATA_FETCH_PENDING",i="WXU/DAL/DATA_FETCH_SUCCESS",u="WXU/DAL/DATA_FETCH_FAILURE",m={}},82060:(O,d,s)=>{s.r(d),s.d(d,{loadFetchDataDependencies:()=>S});var r=s(27422),l=s(66510),i=s(21627),u=s(29133);const m=(0,i.Z)(u.eW),A=(0,i.Z)(u.iC),h=(0,i.Z)(u.uB),p=(0,i.Z)(u.GH);var D=s(44203),g=s(72579),T=s.n(g),_=s(88366),y=s(8048);const E=(0,y.createLogger)("redux-dal");function*v(t,c,o){let e={};try{if(e=yield(0,r.RE)(_.X,t,o),t.host==="api.weather.com"&&e&&e.errors){const a=T()(e,"data.errors[0].error",{});E.error(a)}}catch(a){E.error(a),e.data=a}return{dataQuery:c,data:e.data,status:e.status,statusText:e.statusText}}function*C(t){try{const o=(yield(0,r.$6)(Object.keys(t).map(e=>(0,r.RE)(v,t[e].urlConfig,e,t[e].optionsConfig)))).reduce((e,a)=>({...e,[a.dataQuery]:{data:a.data,status:a.status,statusText:a.statusText}}),{});yield(0,r.$6)(Object.keys(t).map(e=>o[e]instanceof Error?(0,r.gz)(h({name:t[e].name,paramKey:t[e].paramKey,error:o[e].data.stack})):(0,r.gz)(p({name:t[e].name,paramKey:t[e].paramKey,data:o[e].data,status:o[e].status,statusText:o[e].statusText}))))}catch(c){yield(0,r.$6)(Object.keys(t).map(o=>(0,r.gz)(h({name:t[o].name,paramKey:t[o].paramKey,error:c.stack}))))}}function L(t,c,o){return!!Object.values(t).find(P=>P.name===c&&P.paramKey===o)}function f(t){return Object.values(t).filter(o=>get(o,"urlConfig.pathname","").includes("static-files/cms/v4/linklist"))}function R(t){return f(t).length>0}function F(t){return Object.values(t).filter(o=>get(o,"urlConfig.pathname","").includes("v2/turbo"))}function K(t){return F(t).length>0}function I(t){return Object.keys(t).reduce((c,o)=>({...c,[o]:t[o]}),{})}function*S(t){const c=t.reduce((e,a,P)=>{const U=(0,D.vy)(a.params);if(!l[a.name])return E.warn({dependency:a.name,paramKey:U},"Fetch api is not in dal configs"),e;if(L(e,a.name,U))return e;E.debug({dependency:a.name,paramKey:U},"redux-dal request");const n=l[a.name](a.params),W={origin:n.origin,hostname:n.hostname,href:n.href,host:n.host,protocol:n.protocol,pathname:n.pathname,query:n.query,hash:n.hash,search:n.search,searchParams:n.searchParams,username:n.username,password:n.password,name:a.name,jsonSchema:n.jsonSchema,responseHeaders:n.responseHeaders},$={method:n.method,credentials:n.credentials,headers:n.headers,body:n.body,redirect:n.redirect,signal:n.signal,follow:n.follow,timeout:n.timeout,compress:n.compress,size:n.size,agent:n.agent,ttl:n.ttl};return{...e,[`data${P}`]:{name:a.name,paramKey:U,urlConfig:W,optionsConfig:$}}},{}),o=I(c);yield(0,r.$6)(Object.keys(c).map(e=>(0,r.gz)(A({name:c[e].name,paramKey:c[e].paramKey})))),yield(0,r.$6)([(0,r.RE)(C,o)])}},13425:(O,d,s)=>{s.d(d,{k:()=>A});var r=s(9687);const l="CMS_ORDERED_LISTS",i="DSX",u=(0,r.D)(i,"HOST",l),m=(0,r.D)(i,"PROTOCOL",l,"https");function A({collectionId:h,language:p,collectionType:D,apiKey:g=(0,r.D)(i,"API_KEY",l)}={}){return{host:u,protocol:m,pathname:`/cms/v4/orderedlist/${p}/${D}/${h}`,query:{api:g},headers:{}}}},88366:(O,d,s)=>{s.d(d,{X:()=>A});var r=s(883),l=s(8048),i=s.n(l),u=s(67480),m=s(6551);async function A(h,p={}){const D=new Date().getTime(),{responseHeaders:g,fetchOptions:T,..._}=h,{arrayBufferResponse:y,...E}=p,v={...T,...E},C=r.format(_),L=(0,l.createLogger)("dal",{url:C});try{const f=await fetch(C,v),R=await(0,u.E)(f,y);if(g){const F=(0,m.r)(f,g);R.data={...R.data,responseHeaders:F}}return L.info({responseTime:`${Date.now()-D}ms`,fetchOptions:v},"dal request"),R}catch(f){switch(!0){case(f.name==="FetchError"&&f.type==="request-timeout"):throw new Error(`Timeout exceeded for ${C}`);case(f.name==="FetchError"&&f.type==="invalid-json"):throw new Error(`Got non-JSON or invalid JSON response for ${C}`);default:throw f}}}},9687:(O,d,s)=>{s.d(d,{D:()=>l});var r=s(51866);const l=(i,u,m,A)=>{var h,p,D,g,T;const _=m?`${m}_`:"",y=`${i}_${u}`;let E;try{E=(p=(h=window==null?void 0:window.top)==null?void 0:h.env)==null?void 0:p[`${y}_CLIENT`]}catch{}return(T=(g=(D=r.env[`${_}${y}_CLIENT`])!=null?D:E)!=null?g:r.env[`${y}_CLIENT`])!=null?T:A}}}]);})();

//# sourceMappingURL=64802.loadFetchDataDependencies.d1a2dfadeeb7ff67de3c.js.map