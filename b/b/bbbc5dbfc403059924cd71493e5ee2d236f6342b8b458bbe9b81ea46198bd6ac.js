!function(){"use strict";var e={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},t=console,n={};Object.keys(e).forEach(();var r="Datadog Browser SDK:",o={debug:n.debug.bind(t,r),log:n.log.bind(t,r),info:n.info.bind(t,r),warn:n.warn.bind(t,r),error:n.error.bind(t,r)};ar a,s=u=!1;S=1024*E,w=/[^\u0000-\u007F]/;nction x(e,t){return _(b(),"setTimeout")(l(e),t)}function k(e){_(b(),"clearTimeout")(e)}*E,D=16*E,N=200;function U(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var i=2===e?B:D,a=r;t.forEach((),a>i&&(!i),n=!0)}}return{createDetachedTracker:getOrCreateTracker:setCompressionStatus:getCompressionStatus:function(){return e},stop:}function M(e){var t=0,n=R((,N),r=n.throttled,o=n.cancel,i=return{updateCustomerData:resetCustomerData:i,getBytesCount:stop:}F=220*E,V="$",z=3; K=);r X,Q,ee=),te=1e3,ne=60*te,re=60*ne;);var ve,ge="_dd_c",he=[];function ye(e,t,n,r){var o=n,r);e.push(de(e,window,Q.STORAGE,(function(e){var n=e.key;o===n&&t.setContext(i())}))),t.changeObservable.subscribe((),t.setContext(G(i(),t.getContext()))}ve||(ve={}));var be=new Set;e=/([\w-]+)\s*=\s*([^;]+)/g;ar Oe,Te,Re,Le=4*re,Ae=15*ne;e="_dd_s",Me=/^([a-z]+)=([a-z0-9-]+)$/,qe="&";nction Ge(e){return(t=e,Object.keys(t).map(()).map(().join(qe);var t}ar Ve="_dd",ze="_dd_r",Ye="_dd_l",We="rum",Je="logs";Qe="_dd_test_"; rt,ot=10,it=100,at=[]; ft=te;gt,ht=URL;ar mt="datad0g.com",bt="dd0g-gov.com",Et="datadoghq.com";function St(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var o=pt(r);return if("function"==typeof r)return var i=e);return (e,t);return{build:urlPrefix:r(""),trackType:t}}var wt=200;var Ct=/[^a-z0-9_:./-]/;nction kt(e){var t,n,r;if(e&&e.clientToken)if(void 0===e.sessionSampleRate||Ce(e.sessionSampleRate))if(void 0===e.telemetrySampleRate||Ce(e.telemetrySampleRate)){if(void 0===e.telemetryConfigurationSampleRate||Ce(e.telemetryConfigurationSampleRate))return Array.isArray(e.enableExperimentalFeatures)&&e.enableExperimentalFeatures.filter(().forEach((function(e){be.add(e)})),m({beforeSend:e.beforeSend&&i(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:lt(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,batchBytesLimit:16*E,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*te,batchMessagesLimit:50,messageBytesLimit:256*E},xt(e));o.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else o.error("Telemetry Sample Rate should be a number between 0 and 100");else o.error("Session Sample Rate should be a number between 0 and 100");else o.error("Client Token is not configured, we will not send any data.")}var Ot="?";ar Rt="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",Lt="(?::(\\d+))",At=new RegExp("^\\s*at (.*?) ?\\(".concat(Rt).concat(Lt,"?").concat(Lt,"?\\)?\\s*$"),"i"),It=new RegExp("\\((\\S*)".concat(Lt).concat(Lt,"\\)"));var Pt=new RegExp("^\\s*at ?".concat(Rt).concat(Lt,"?").concat(Lt,"??\\s*$"),"i");var Bt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var Dt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Nt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;r qt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;var jt="No stack, consider using an instance of Error";zt={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Yt(e,t){var n=[];v(t,zt.cspViolation)&&n.push(function(e){return new K((function(t){return de(e,document,Q.SECURITY_POLICY_VIOLATION,().stop}))}(e));var r=t.filter(();return r.length&&n.push(r)),Z.apply(void 0,n)}ar Jt=32*E;ar Zt={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"},$t=Xt={debug:"debug",error:"error",info:"info",warn:"warn"},Qt={console:"console",http:"http",silent:"silent"},en=Object.keys(Xt),tn=function(){function e(e,t,n,r,o,i){void 0===r&&(r=Qt.http),void 0===o&&(o=Xt.debug),void 0===i&&(i={}),this.handleLogStrategy=e,this.handlerType=r,this.level=o,this.contextManager=$(t),this.contextManager.setContext(i),n&&this.contextManager.setContextProperty("logger",{name:n})}return e.prototype.log=function(e,t,n,r){var o;if(void 0===n&&(n=Xt.info),null!=r){var i=Ht({stackTrace:r instanceof Error?Tt(r):void 0,originalError:r,nonErrorPrefix:"Provided",source:Zt.LOGGER,handling:"handled",startClocks:se()});o={stack:i.stack,kind:i.type,message:i.message}}var a=Y(t),s=o?G({error:o},a):a;this.handleLogStrategy({message:Y(e),context:s,status:n},this)},e.prototype.debug=function(e,t,n){this.log(e,t,Xt.debug,n)},e.prototype.info=function(e,t,n){this.log(e,t,Xt.info,n)},e.prototype.warn=function(e,t,n){this.log(e,t,Xt.warn,n)},e.prototype.error=e.prototype.setContext=function(e){this.contextManager.setContext(e)},e.prototype.getContext=e.prototype.setContextProperty=e.prototype.removeContextProperty=e.prototype.clearContext=function(){this.contextManager.clearContext()},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=e.prototype.getLevel=$t([f],e.prototype,"log",null),e}();var nn="logs";ar on={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};var an="datadog-synthetics-public-id",sn="datadog-synthetics-result-id",un="datadog-synthetics-injects-rum";r ln=1/0,dn=ne,pn=),vn=ne,gn=Le,hn=[];function yn(e,t,n){var r=dt(e.sessionStoreStrategyType,t,n);hn.push((function(){return r.stop()}));var o=new pn(gn);eturn hn.push((function(){return o.stop()})),r.renewObservable.subscribe((),r.expireObservable.subscribe((),r.expandOrRenewSession(),o.add(i(),[0,ce()][0]),e,(function(){return r.expandOrRenewSession()})),e,(function(){return r.expandSession()})),{findActiveSession:function(e){return o.find(e)},renewObservable:r.renewObservable,expireObservable:r.expireObservable,expire:r.expire}}var mn="logs";function bn(e){var t=yn(e,mn,();return{findTrackedSession:expireObservable:t.expireObservable}}r wn,Cn={log:"log",configuration:"configuration"},_n=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],xn=["ddog-gov.com"],kn={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function On(e,t){var n,r=new K;kn.telemetryEnabled=!v(xn,t.site)&&we(t.telemetrySampleRate),kn.telemetryConfigurationEnabled=kn.telemetryEnabled&&we(t.telemetryConfigurationSampleRate);var o={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return wn=function(t){if(kn.telemetryEnabled){var i=function(e,t,r){return G({type:"telemetry",date:ie(),service:e,version:"5.8.0",source:"browser",_dd:{format_version:2},telemetry:G(t,{runtime_env:r,connectivity:Sn()}),experimental_features:g(Se())},void 0!==n?n():{})}(e,t,o);r.notify(i),rn("telemetry",i)}},a=Rn,m(kn,{maxEventsPerPage:t.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){n=e},observable:r,enabled:kn.telemetryEnabled}}In=!1;function Pn(e){var t,n=window;if(cn()){var r=o(n.DD_RUM_SYNTHETICS);return r||In||(In=!0,Tn("Logs sent before RUM is injected by the synthetics worker",{testId:(t=window._DATADOG_SYNTHETICS_PUBLIC_ID||De(an),"string"==typeof t?t:void 0),resultId:fn()})),r}return o(n.DD_RUM);function Bn(e,t,n,r,o){var i=en.concat(["custom"]),a={};i.forEach((function(e){var n,r,i,s,u;a[e]=(n=e,r=t.eventRateLimiterThreshold,i=o,s=0,u=!1,{isLimitReached:)})),n.subscribe(0,(function(o){var i,s,u=o.rawLogsEvent,c=o.messageContext,f=void 0===c?void 0:c,l=o.savedCommonContext,d=void 0===l?void 0:l,p=u.date-ce(),v=e.findTrackedSession(p);if(v){var g=d||r(),h=G({service:t.service,session_id:v.id,usr:P(g.user)?void 0:g.user,view:g.view},g.context,Pn(p),u,f);!1===(null===(i=t.beforeSend)||void 0===i?void 0:i.call(t,h))||h.origin!==Zt.AGENT&&(null!==(s=a[h.status])&&void 0!==s?s:a.custom).isLimitReached()||n.notify(1,h)}}))}var Dn,Nn={};function Un(n){var r=n.map((function(n){return Nn[n]||(Nn[n]=function(n){return new K((function(r){var o=t[n];return t[n]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.apply(console,t);var a=function(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return d((),e}();d((function(){r.notify(function(t,n,r){var o,i,a=t.map(().join(" ");if(n===e.error){var s=t,();o=s?Ft(Tt(s)):void 0,i=Gt(s)}return{api:n,message:a,stack:o,handlingStack:r,fingerprint:i}}(t,n,a))}))},function(){t[n]=o}}))}(n)),Nn[n]}));return Z.apply(void 0,r)}var Mn,qn=((Dn={})[e.log]=Xt.info,Dn[e.debug]=Xt.debug,Dn[e.info]=Xt.info,Dn[e.warn]=Xt.warn,Dn[e.error]=Xt.error,Dn);var jn,Hn=((Mn={})[zt.cspViolation]=Xt.error,Mn[zt.intervention]=Xt.error,Mn[zt.deprecation]=Xt.warn,Mn);function Gn(e,t,n){var r=e[t],o=function(e,t){return function(){var n,r,o=arguments;return d(t,null,[{target:this,parameters:o,onPostCall:]),"function"==typeof e&&(n=e.apply(this,o)),r&&d(r,null,[n]),n}}(r,n),i=return e[t]=i,{stop:}var Fn,Vn=new WeakMap;function zn(e){return jn||(jn=function(e){return new K((function(t){var n=Gn(XMLHttpRequest.prototype,"open",Yn).stop,r=Gn(XMLHttpRequest.prototype,"send",(function(n){!function(e,t,n){var r=e.target,o=Vn.get(r);if(!o)return;var i=o;i.state="start",i.startClocks=se(),i.isAborted=!1,i.xhr=r;var a=!1,s=Gn(r,"onreadystatechange",().stop,u=c=de(t,r,"loadend",u).stop;n.notify(i)}(n,e,t)})).stop,o=Gn(XMLHttpRequest.prototype,"abort",Wn).stop;return ))}(e)),jn}function Yn(e){var t=e.target,n=e.parameters,r=n[0],o=n[1];Vn.set(t,{state:"open",method:String(r).toUpperCase(),url:pt(String(o))})}unction Jn(){return Fn||(Fn=new K((function(e){if(window.fetch){var t=Gn(window,"fetch",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,o=n[0],i=n[1],a=i&&i.method;void 0===a&&o instanceof Request&&(a=o.method);var s=void 0!==a?String(a).toUpperCase():"GET",u=o instanceof Request?o.url:pt(String(o)),c=se(),f={state:"start",init:i,input:o,method:s,startClocks:c,url:u};t.notify(f),n[0]=f.input,n[1]=f.init,r(()}(t,e)})).stop;return t}}))),Fn}unction Zn(e,t){if(!e.forwardErrorsToLogs)return{stop:L};var n=zn(e).subscribe((function(e){"complete"===e.state&&o("xhr",e)})),r=Jn().subscribe(();function o(n,r){.isIntakeUrl(r.url)||!r)&&!Kn(r.status)||("xhr"in r?r.xhr,e,o):r.response?r.response,e,o):r.error&&r.error,e,o))}return{stop:}nction Qn(e){var t,n=r=(t=n,Gn(window,"onerror",(function(e){var n,r=e.parameters,o=r[0],i=r[1],a=r[2],s=r[3],u=r[4];n=u instanceof Error?Tt(u):Mt(o,i,a,s),t(n,null!=u?u:o)}))).stop,o=n).stop;return{stop:}var er,tr=),nr=((er={})[Xt.debug]=0,er[Xt.info]=1,er[Xt.warn]=2,er[Xt.error]=3,er);function rr(e){return{handleLog:}ar ir=);ar sr=80*E,ur=32,cr=3*S,fr=ne,lr=te;=!1;nction Sr(e,t,n,r,o,i){var a=u(e,t),s=n&&u(e,n);eturn{flushObservable:a.flushController.flushObservable,add:upsert:stop:}unction Cr(e,t,n,r,o){var i=On("browser-logs-sdk",t);i.setContextProvider(();var a=[];if(le()){var s=fe(),u=i.observable.subscribe(();a.push((function(){return u.unsubscribe()}))}else{var c=Sr(t,{endpoint:t.rumEndpointBuilder,encoder:wr()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:wr()},n,r,o.expireObservable);a.push((function(){return c.stop()}));var f=i.observable.subscribe(();a.push((function(){return f.unsubscribe()}))}return e)),{telemetry:i,stop:function(){a.forEach((function(e){return e()}))}}}var _r,xr,kr,Or,Tr=function(t){var n,r,i=!1,a=U(),s=$(a.getOrCreateTracker(2)),u=$(a.getOrCreateTracker(1)),f={},d=function(){},p=new ee,g=function(e,t,n,r){void 0===n&&(n=E()),void 0===r&&(r=ie()),p.add(()},y=b=new tn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return g.apply(void 0,e)}),a.createDetachedTracker());function E(){return function(e,t){return{view:{referrer:document.referrer,url:window.location.href},context:e.getContext(),user:t.getContext()}}(s,u)}return n={logger:b,init:l((function(n){var r;if(n){if(y=function(){return H(n)},le()&&(n=n)),n)){var a=n);a&&(n.storeContextsAcrossPages&&(ye(a,s,nn,2),ye(a,u,nn,1)),r=t(n,a,E),g=r.handleLog,d=r.getInternalContext,p.drain(),i=!0)}}else o.error("Missing configuration")})),getGlobalContext:l((function(){return s.getContext()})),setGlobalContext:l((function(e){return s.setContext(e)})),setGlobalContextProperty:l((),removeGlobalContextProperty:l((function(e){return s.removeContextProperty(e)})),clearGlobalContext:l((function(){return s.clearContext()})),createLogger:l((function(e,t){return void 0===t&&(t={}),f[e]=new tn((,a.createDetachedTracker(),Y(e),t.handler,t.level,Y(t.context)),f[e]})),getLogger:l((function(e){return f[e]})),getInitConfiguration:l((function(){return y()})),getInternalContext:l((function(e){return d(e)})),setUser:l((),getUser:l((function(){return u.getContext()})),setUserProperty:l((),removeUserProperty:l((function(e){return u.removeContextProperty(e)})),clearUser:l(()},r=m({version:"5.8.0",onReady:,n),Object.defineProperty(r,"_setDebug",{get:function(){return c},enumerable:!1}),r}((function(t,n,r){var o=new tr,i=[];o.subscribe(1,();var a=function(e){return (o),s=n),u=!n.sessionStoreStrategyType||le()||cn()?n):bn(n),c=Cr(t,n,a,s,u).stop;i.push((function(){return c()})),Zn(n,o),function(e,t){if(!e.forwardErrorsToLogs)return{stop:L};var n=new K,r=Qn(n).stop,o=n.subscribe(()}(n,o),function(t,n){var r=Un(t.forwardConsoleLogs).subscribe(()}(n,o),function(e,t){var n=Yt(e,e.forwardReports).subscribe((function(e){var n,r=e.message,o=Hn[e.type];o===Xt.error?n={kind:e.subtype,stack:e.stack}:e.stack&&(r+=" Found in ".concat(e.stack))),t.notify(0,{rawLogsEvent:{date:ie(),message:r,origin:Zt.REPORT,error:n,status:o}})}))}(n,o);var f,l=rr(o).handleLog;if(Bn(u,n,o,r,a),le())!o);else{var d=n,o,a,s,u).stop;i.push(()}return{handleLog:l,getInternalContext:(f=u,{get:).get,stop:}));_r=b(),kr=Tr,Or=_r[xr="DD_LOGS"],_r[xr]=kr,Or&&Or.q&&Or.q.forEach(()}();