!this,(function(){"use strict";for(var c,d="7.21.1",h={},a=n=function(c,d){return!((d=a(c).indexOf(d))<=-1||(h[c]=h[c].slice(),h[c].splice(d,1),0))},p={prefixed:!0},f=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],E=f[0],k=0;k<f.length;k++)if(f[k][1]in document){c=f[k];break}if(c){for(var C=0;C<c.length;C++)p[E[C]]=c[C];p.prefixed=c[0]!==E[0]}var I=[],x=function t(c){ar d="info",h=function(c,d){return function(h,p,f){var E,k=d.levels[p];p=new RegExp("^("+k+")$"),"log"!==h&&f.unshift(h.toUpperCase()+":"),f.unshift(c+":"),I&&(I.push([].concat(f)),E=I.length-1e3,I.splice(0,0<E?E:0)),!window.console||(E=(E=window.console[h])||"debug"!==h?E:window.console.info||window.console.log)&&k&&p.test(h)&&E[Array.isArray(f)?"apply":"call"](window.console,f)}}(c,n);return n.createLogger=n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:d},n.level=(n.history=.filter=n.history.clear=n.history.disable=n.history.enable=n.error=function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return h("error",d,p)},n.warn=function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return h("warn",d,p)},n.debug=n}("VIDEOJS"),A=x.createLogger,P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ar L=m((),O=Object.prototype.toString,v=nction T(c){return!!c&&"object"==typeof c}r D=window.navigator&&window.navigator.userAgent||"",R=(vi=/AppleWebKit\/([\d.]+)/i.exec(D))?parseFloat(vi.pop()):null,N=/iPod/i.test(D),M=(_i=D.match(/OS (\d+)_/i))&&_i[1]?_i[1]:null,U=/Android/i.test(D),B=),F=U&&B<5&&R<537,j=/Firefox/i.test(D),H=/Edg/i.test(D),V=!H&&(/Chrome/i.test(D)||/CriOS/i.test(D)),q=(Oi=D.match(/(Chrome|CriOS)\/(\d+)/))&&Oi[2]?parseFloat(Oi[2]):null,we=Ki=!(Ki=(Ki=/MSIE\s(\d+)\.\d/.exec(D))&&parseFloat(Ki[1]))&&/Trident\/7.0/i.test(D)&&/rv:11.0/.test(D)?11:Ki,Se=/Safari/i.test(D)&&!V&&!U&&!H,Ee=/Windows/i.test(D),Pe=Boolean(X()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),Oe=/iPad/i.test(D)||Se&&Pe&&!/iPhone/i.test(D),Me=/iPhone/i.test(D)&&!Oe,Ue=Me||Oe||N,Ge=(Se||Ue)&&!V,Ke=Object.freeze({__proto__:null,IS_IPOD:N,IOS_VERSION:M,IS_ANDROID:U,ANDROID_VERSION:B,IS_NATIVE_ANDROID:F,IS_FIREFOX:j,IS_EDGE:H,IS_CHROME:V,CHROME_VERSION:q,IE_VERSION:we,IS_SAFARI:Se,IS_WINDOWS:Ee,TOUCH_ENABLED:Pe,IS_IPAD:Oe,IS_IPHONE:Me,IS_IOS:Ue,IS_ANY_SAFARI:Ge});ction K(c){return T(c)&&1===c.nodeType}ar h={x:0,y:0};if(Ue)for(var p=c;p&&"html"!==p.nodeName.toLowerCase();){var f,E=S(p,"transform");/^matrix/.test(E)?(f=E.slice(7,-1).split(/,\s/).map(Number),h.x+=f[4],h.y+=f[5]):/^matrix3d/.test(E)&&(E=E.slice(9,-1).split(/,\s/).map(Number),h.x+=E[12],h.y+=E[13]),p=p.parentNode}var k={},C=he(d.target),I=he(c),x=I.width,A=I.height;c=d.offsetY-(I.top-C.top),C=d.offsetX-(I.left-C.left);return d.changedTouches&&(C=d.changedTouches[0].pageX-I.left,c=d.changedTouches[0].pageY+I.top,Ue&&(C-=h.x,c-=h.y)),k.y=1-Math.max(0,Math.min(1,c/A)),k.x=Math.max(0,Math.min(1,C/x)),k},nt=Q("querySelector"),ct=Q("querySelectorAll"),dt=Object.freeze({__proto__:null,isReal:X,isEl:K,isInFrame:Y,createEl:$,textContent:J,prependTo:Z,hasClass:ee,addClass:te,removeClass:ie,toggleClass:ne,setAttributes:re,getAttributes:ae,getAttribute:se,setAttribute:oe,removeAttribute:ue,blockTextSelection:le,unblockTextSelection:de,getBoundingClientRect:ce,findPosition:he,getPointerPosition:pe,isTextNode:fe,emptyEl:me,normalizeContent:ge,appendContent:ye,insertContent:ve,isSingleLeftClick:_e,$:nt,$$:ct}),Tt=!1,ke=&("complete"===document.readyState?Ie():window.addEventListener("load",Ie));var wt=3;window.WeakMap||(zi=));var It,Vt=new(window.WeakMap?WeakMap:zi); qt=["touchstart","touchmove"];function Be(c,d,h){if(Array.isArray(d))return Re(Be,c,d,h);Vt.has(c)||Vt.set(c,{});var p=Vt.get(c);p.handlers||(p.handlers={}),p.handlers[d]||(p.handlers[d]=[]),h.guid||(h.guid=wt++),p.handlers[d].push(h),p.dispatcher||(p.disabled=!1,p.dispatcher=,1===p.handlers[d].length&&(c.addEventListener?(h=!1,)&&-1<qt.indexOf(d)&&(h={passive:!0}),c.addEventListener(d,p.dispatcher,h)):c.attachEvent&&c.attachEvent("on"+d,p.dispatcher))}on ze(){}var Wt,zt=Object.freeze({__proto__:null,fixEvent:Ne,on:Be,off:Fe,trigger:je,one:He,any:qe});ion et(c,d,h){var p,f,E=d.length<3||d[0]===c||d[0]===c.eventBusEl_;d=E?(p=c.eventBusEl_,3<=d.length&&d.shift(),f=d[0],d[1]):(p=d[0],f=d[1],d[2]);return $e(p,c,h),Je(f,c,h),Ze(d,c,h),{isTargetingSelf:E,target:p,type:f,listener:d=Ve(c,d)}}e.prototype.allowedEvents_={},ze.prototype.addEventListener=ze.prototype.on=function(c,d){var h=this.addEventListener;this.addEventListener=function(){},Be(this,c,d),this.addEventListener=h},ze.prototype.removeEventListener=ze.prototype.off=ze.prototype.one=function(c,d){var h=this.addEventListener;this.addEventListener=function(){},He(this,c,d),this.addEventListener=h},ze.prototype.any=ze.prototype.dispatchEvent=ze.prototype.trigger=ze.prototype.queueTrigger=function(c){var d=this;Wt=Wt||new Map;var h=c.type||c,p=Wt.get(this);p||(p=new Map,Wt.set(this,p));var f=p.get(h);p.delete(h),window.clearTimeout(f),f=window.setTimeout((,0),p.set(h,f)};var it=Kt={on:one:function(){for(var c=this,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];var f=et(this,h,"one"),E=f.isTargetingSelf,k=f.target,C=f.type,I=f.listener;E?tt(k,"one",C,I):((E=function e(){c.off(k,C,e);for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];I.apply(null,h)}).guid=I.guid,tt(k,"one",C,E))},any:off:trigger:;function rt(c,d){if(d=(d=void 0===d?{}:d).eventBusKey){if(!c[d].nodeName)throw new Error('The eventBusKey "'+d+'" does not refer to an element.');c.eventBusEl_=c[d]}else c.eventBusEl_=$("span",{className:"vjs-event-bus"});return b(c,Kt),c.eventedCallbacks&&c.eventedCallbacks.forEach((function(c){c()})),c.on("dispose",(),c}var $t={state:{},setState:;unction ot(c){return"string"!=typeof c?c:c.replace(/./,(function(c){return c.toLowerCase()}))}function ut(c){return"string"!=typeof c?c:c.replace(/./,(function(c){return c.toUpperCase()}))}ar Yt=window.Map||),Qt=window.Set||),Jt=m((function(c,d){function i(c){if(!c||"object"!=typeof c||(d=c.which||c.keyCode||c.charCode)&&(c=d),"number"==typeof c)return k[c];var d=String(c);return(c=h[d.toLowerCase()])||((c=p[d.toLowerCase()])?c:1===d.length?d.charCodeAt(0):void 0)}i.isEventKey=for(var h=(d=c.exports=i).code=d.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},p=d.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},f=97;f<123;f++)h[String.fromCharCode(f)]=f-32;for(f=48;f<58;f++)h[f-48]=f;for(f=1;f<13;f++)h["f"+f]=f+111;for(f=0;f<10;f++)h["numpad "+f]=f+96;var E,k=d.names=d.title={};for(f in h)k[h[f]]=f;for(E in p)h[E]=p[E]}));Jt.code,Jt.codes,Jt.aliases,Jt.names,Jt.title;var ri=funvity()}var c=s.prototype;return c.=null}},c.isDosed_)},c.player=function(){return this.player_},c.tions_},c.el=function(){return this.el_},c.cc,d,h)},c.localize=function(c,d,h){void 0===h&&(h=c);var p=this.player_.language&&this.player_.language(),f=this.player_.languages&&this.player_.languages(),E=f&&f[p];p=p&&p.split("-")[0],p=f&&f[p];return E&&E[c]?h=E[c]:p&&p[c]&&(h=p[c]),d?h.replace(/\{(\d+)\}/g,(function(c,h){return void 0===(h=d[h-1])?c:h})):h},c.handleLanguagechange=function(){},c.contentEl=function(){return this.contentEl_||this.el_},c.id=function(){return this.id_},c.name=function(){return this.name_},c.children=function(){return this.children_},c.getChildById=function(c){return this.childIndex_[c]},c.gex_[c]},c.getDesturn p},c.a,p)),E},c.remol()))}},c.initChildren=function(){var c,d,h,p=this,f=this.options_.children;f&&(c=this.options_,d=s.getComponent("Tech"),(h=Array.isArray(f)?f:Object.keys(f)).concat(Object.keys(this.options_).ame}))}))).map((function(c){var d;c="string"==typeof c?f[d=c]||p.options_[d]||{}:(d=c.name,c);return{name:d,opts:c}})).ech(c)})).forEach((function(d){var h=d.name;d=d.opts;!1!==(d=void 0!==c[h]?c[h]:d)&&((d=!0===d?{}:d).playerOptions=p.options_.playerOptions,(d=p.addChild(h,d))&&(p[h]=d))})))},c.buildCSSClass=function(){return""},sh(c))},c.trigg)}),1)},c.$=function(c,d){return nt(c,d||this.contentEl()tEl())},c.hasClass=function(c){return ee(this.el_,c)},c.addClass=function(c){te(this.el_,c)},c.removeClass=function(c){ie(this.el_,c)},c.toggleClass=function(c,d){ne(this.el_,c,d)},c.show=function(){this.removeClass("vjs-hidden")},c.hide=function(){this.addClass("vjs-hidden")},c.lockShowing=function(){this.addClass("vjs-lock-showing")},c.unlockShowing=function(){this.removeClass("vjs-lock-showing")},c.getAtel_,c)},c.setAt_,c,d)},c.removeAttribute=function(c){ue(this.el_,c)},c.width=function(c,d){return this.dimension("width",c,d)},c",c,d)},c.dimght(d)},c.dimension=function(c,d,h){return void 0!==d?(-1!==(""+(d=null===d||d!=d?0:d)).indexOf("%")||-1!==(""+d).indexOf("px")?this.el_.style[c]=d:this.el_.style[c]="auto"===d?"":d+"px",void(h||this.trigger("componentresize"))):this.el_?-1!==(h=(d=this.el_.style[c]).indexOf("px"))?parseInt(d.slice(0,h),10):parseInt(this.el_["offset"+ut(c)],10):0},c.currentDi[c]),d},c.currentDimght")}},c.currentWidth=function(){return this.currentDimension("width")},c.currentHeight=function(){return this.currentDimension("height")},c.focus=function(){this.el_.focus()},c.blur=function(){this.el_.blur()},c.handlewn(c))},c.handleKeyPress=function(c){this.handleKeyDown(c)},c.emitTa"))}))},c.enableTouchAl",h))},c.setd(h),h},c.clearTimeout=function(c){return this.setTimeoutIds_.has(c)&&(this.setTimeoutIds_.delete(c),window.clearTimeout(c)),c},c.setId(d),d},c.clearI(c)),c},c.requestAnimatie3/60)},c.requestNamedAnimati,p),c}},c.cancelNamedAnimatite(c))},c.cancelAnimatiout(c)},c.clearTimersOnD!1})))},s.registerComponent=function(c,d){if("string"!=typeof c||!c)throw new Error('Illegal component name, "'+c+'"; must be a non-empty string.');var h=(p=s.getComponent("Tech"))&&p.isTech(d),p=s===d||s.prototype.isPrototypeOf(d.prototype);if(h||!p){var f=h?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+c+'"; '+f+".")}if(c=ut(c),s.components_||(s.components_={}),f=s.getComponent("Player"),"Player"===c&&f&&f.players){var E=f.players;f=Object.keys(E);if(E&&0<f.length&&f.map((function(c){return E[c]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return s.components_[c]=d,s.components_[ot(c)]=d},s.getCots_[c]},s}();ri.prototype.supportsRaf_="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame,ri.registerComponent("Component",ri)tur")}bt.prototype.code=0,bt.prototype.message="",bt.prototype.status=null,bt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],bt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ai=0;ai<bt.errorTypes.length;ai++)bt[bt.errorTypes[ai]]=ai,bt.prototype[bt.errorTypes[))})}var si="vjs-modal-dialog",oi=funcEl_),p}mt(e,c);var d=e.prototype;return d.clog"})},d.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,c.prototype.dispose.call(this)},d.buildC(this)},ndow")},d.desc.")),c}d_=!0)},dpened_},ose())},d.cleable_}ent())},d.fillWith=function(c){var d=this.contentEl(),h=d.parentNode,p=d.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,h.removeChild(d),this.empty(),ve(d,c),this.trigger("modalfill"),p?h.insertBefore(d,p):h.appendChild(d),(d=this.getChild("closeButton"))&&h.appendChild(d.el_)},mpty")},d.ntent_},d.conditionacus())},d.condition=null)},d.handlelt())}},d.focusae")}))},e}(ri);oi.prototype.options_={pauseOnOpen:!0,temporary:!0},ri.registerComponent("ModalDialog",oi);van d},e}(ze);for(ui in li.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},li.prototype.allowedEvents_)li.prototype["on"+ui]=null;function Ot(c,d){for(var h=0;h<c.length;h++)Object.keys(c[h]).length&&d.id!==c[h].id&&(c[h].enabstll)},e}ll)},e}_))},e}ak}},n d},t}(),Ti={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Si={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Pi={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Li={disabled:"disabled",hidden:"hidden",showing:"showing"e,c),e}(ze),Object.freeze({__proto__:null,parseUrl:Rt,getAbsoluteURL:Nt,getFileExtension:Mt,isCrossOrigin:Ut})),Ni=Ki="undefined"!=typeof window?window:void 0!==P?P:"undefined"!=typeof self?self:{},Mi=Object.prototype.toString;ei.httpHandler=function(c,d){return void 0===d&&(d=!1),function(h,p,f){if(h)c(h);else if(400<=p.statusCode&&p.statusCode<=599){if(h=f,d)if(Ni.TextDecoder){p=function(c){return void 0===c&&(c=""),c.toLowerCase().split(";").reduce((function(c,d){d=(h=d.split("="))[0];var h=h[1];return"charset"===d.trim()?h.trim():c}),"utf-8")}(p.headers&&p.headers["content-type"]);try{h=new TextDecoder(p).decode(f)}catch(h){}}else h=String.fromCharCode.apply(null,new Uint8Array(f));c({cause:h})}else c(null,f)}};var Fi=ei;N=ei;function Zt(c,d,h){var p=crompt)}(d)?(h=d,"string"==typeof c&&(p={uri:c})):p=L({},d,{uri:c}),p.callb,d,h))}function ti(c){if(void 0===c.callback)throw new Error("callback argument missing");var,p,f))};function s(){var c=void 0;c=E.response||E.responn null}(E);if(P)try{c=JSON.parse(c)}catch(c){}ra(c,L)}function e(){if(!p){clearTimeout(f);var d=c.useXDR&&void 0===E.status?200:1223===E.status?204:E.status,h=L,I=null;return 0!==d?(h={body:s(),statusCode:d,method:C,headers:{},url:k,rawRequest:E},E.getAllResponseHeaders&&(h.headers=function(c){var d={};return c&&c.trim().split("\n").forEach((function(c){var h=c.indexOf(":"),p=c.slice(0,h).trim().toLowerCase();h=c.slice(h+1).trim(),void 0===d[p]?d[p]=h:Array.isArray(d[p])?d[p].push(h):d[p]=[d[p],h]})),d}(E.getAllResponseHeaders()))):I=new Error("Internal XMLHttpRequest Error"),a(I,h,h.body)}}var h,p,f,E=c.xhr||null,k=(E=E||new(c.cors||c.useXDR?ei.XDomainRequest:ei.XMLHttpRequest)).url=c.uri||c.url,C=E.method=c.method||"GET",I=c.body||c.data,x=E.headers=c.headers||{},A=!!c.sync,P=!1,L={body:void 0,headers:{},statusCode:0,method:C,url:k,rawRequest:E};if("json"in c&&!1!==c.json&&(P=!0,x.accept||x.Accept||(x.Accept="application/json"),"GET"!==C&&"HEAD"!==C&&(x["content-type"]||x["Content-Type"]||(x["Content-Type"]="application/json"),I=JSON.stringify(!0===c.json?I:c.json))),E.onreadystatt(e,0)},E.onload=e,E.onerror=t,E.onprogress=function(){},E.){p=!0},E.ontimeout=t,E.open(C,k,!A,c.username,c.password),A||(E.withCredentials=!!c.withCredentials),!A&&0<c.timeout&&(f=setT,t(c))}),c.timeout)),E.setRequestHeader)for(h in x)x.hasOwnProperty(h)&&E.setRequestHeader(h,x[h]);else if(c.heturn 1}(c.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in c&&(E.responseType=c.responseType),"beforeSend"in c&&"function"==typeof c.beforeSend&&c.beforeSend(E),E.send(I||)})))}ei.XMLHttpRequest=Ni.XMLHttpRequest||function(){},ei.XDomainRequest="withCredentials"in new ei.XMLHttpRequest?ei.XMLHttpRequest:Ni.XDomain(c[h])}(["get","put","post","patch","head","deti(h)}})),Fi.default=N;var ji=function(c){function e(d){var h;if(!(d=void 0===d?{}:d).tech)throw new Error("A tech was not provided.");d=lt(d,{kind:Pi[d.kind]||"subtitles",language:d.language||d.srclang||""});var p=Li[d.mode]||"disabled",f=d.default;"metadata"!==d.kind&&"chapters"!==d.kind||(p="hidden"),(h=c.call(this,d)||this).tech_=d.tech,h.cues_=[],h.activeCues_=[],h.preload_=!1!==h.tech_.preloadTextTracks;var E=new bi(h.cues_),k=new bi(h.activeCues_),C=!1;return h.timeupdateHandler=Veler)))})),h.tech_.one("dispose",(function(){h.stopTracking()})),"disabled"!==p&&h.startTracking(),Object.defineProperties(ft(h),{default:{get:function(){return f},set:function(){}},mode:{get:function(){returnnge"))}},cuE:null},set:function(){}},activeCues_),k},set:function(){}}}),d.src?(h.src=d.src,h.preload_||(h.loaded_=!0),(h.preload_||"subtitles"!==d.kind&&"captions"!==d.kind)&&ni(h.src,ft(h))):h.loaded_=!0,h}mt(e,c);var d=e.prototype;return d.startTndler)},d.stopTndler)},dcues_)},d.rereak}}},e}(R);ji.prototype.allowedEvents_={cuechange:"cuechange"},M=function(c){function e(d){var h=lt(d=void 0===d?{}:d,{kind:Si[d.kind]||""}),p=(d=c.call(this,h)||this,!1);return Object.defineProperty(ft(d),"enabled",{get:function(){return p},set:function(c){"boolean"==typeof c&&c!==p&&(p=c,this.trigger("enabledchange"))}}),h.enabled&&(d.enabled=h.enabled),d.loaded_=!0,d}return mt(e,c),e}(R),Se=function(c){function e(d){var h=lt(d=void 0===d?{}:d,{kind:Ti[d.kind]||""}),p=(d=c.call(this,h)||this,!1);return Object.defineProperty(ft(d),"selected",{get:function(){returnnge"))}}),h.selected&&(d.selected=h.selected),d}return mt(e,c),ee,c),e}(ze),Oe.prototype.allowedEvents_={load:"load"},Oe.NONE=0,Oe.LOADING=1,Oe.LOADED=2,Oe.ERROR=3;var Hi={audio:{ListClass:di,TrackClass:M,capitalName:"Audio"},video:{ListClass:yi,TrackClass:Se,capitalName:"Video"},text:{ListClass:vi,TrackClass:ji,capitalName:"Text"}};Object.keys(Hi).facks_"}));var Vi={remoteText:{ListClass:vi,TrackClass:ji,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:_i,TrackClass:Oe,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},qi=L({},Hi,Vi);Vi.names=Object.keys(Vi),Hi.names=Object.keys(Hi),qi.names=[].concat(Vi.names).concat(Hi.names);var zi=void 0!==P?P:"undefined"!=typeof window?window:{},Ki=Yn="undefined"!=typeof document?document:(Yn=zi["__GLOBAL_DOCUMENT_CACHE@4"])||(zi["__GLOBAL_DOCUMENT_CACHE@4"]={}),Xi=Object.new ci};functiod)}((hi.prototype=Xi(Error.prototype)).constructor=hi).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},fi.prototy[c]=s[c]valubreak}},d,10))},d),!0)}};var Qi=Ki.createElement&&Ki.createElement("textarea"),Zi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},tn={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},nn={v:"title",lang:"lang"},sn={rt:"ruby"};function wi(c,d){for(var h,p,f,E,k,C,I,x,A,P,L=c.document.createElement("div"),O=L,D=[];nugth),c}());)"<"!==h[0]?O.appendChild(c.document.createTextNode((k=h,Qi.innerHTML=k,k=Qi.textContent,Qi.textContent="",k))):"/"!==h[1]?(E=pi(h.substr(1,h.length-2)))?(p=c.document.createProcessingInstruction("timestamp",E),O.appendChild(p)):(f=h.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(x=f[1],A=f[3],P=void 0,(p=(P=Zi[x])?(P=c.document.createElement(P),(x=nn[x])&&A&&(P[x]=A.trim()),P):null)&&(C=O,sn[(I=p).localName]&&sn[I.localName]!==C.localName||(f[2]&&((E=f[2].split(".")).forEach((function(c){var d=/^bg_/.test(c);c=d?c.slice(3):c;tn.hasOwnProperty(c)&&(c=tn[c],p.style[d?"background-color":"color"]=c)})),p.className=E.join(" ")),D.push(f[1]),O.appendChild(p),O=p))):D.length&&D[D.length-1]===h.substr(2).replace(">","")&&(D.pop(),O=O.parentNode);return L}var un=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,11n"ltr"}functioeight}function xi(c,d,h,p){var f,E=new Ii(d),k=-1*++p}(k),I=[];if(k.snapToLines){switch(k.vertical){case"":I=["+y","-y"],f="height";break;case"rl":I=["+x","-x"],f="width";break;case"lr":I=["-x","+x"],f="width"}var x=E.lineHeight,A=x*Math.round(C),P=h[f]+x,L=I[0];Math.abs(A)>P&&(A=A<0?-1:1,A*=Math.ceil(P/x)*x),C<0&&(A+=""===k.vertical?h.height:h.width,I=I.reverse()),E.move(L,A)}else{var O=E.lineHeight/h.height*100;switch(k.lineAlign){case"center":C-=O/2;break;case"end":C-=O}switch(k.vertical){case"":d.applyStyles({top:d.formatStyle(C,"%")});break;case"rl":d.applyStyles({left:d.formatStyle(C,"%")});break;case"lr":d.applyStyles({right:d.formatStyle(C,"%")})}I=["+y","-x","+x","-y"],E=new n f||E}(E,I),d.move(E.toCSSCompatValues(h))}function Ai(){}ki.prototype.appl=c[h])},ki.prototype.form?0:c+d},(Ci.prototype=Xi(ki.prototype)).constructor=Ci,Ii.prototyom-=d}},Ii.prototype.o>c.top},Ii.prototype.overturn!1},Ii.prototype.right},Ii.prototype.overlapsOpposottom}},Ii.prototype.intersectPerwidth)},Ii.prototype.toCSSCompawidth}},Ii.getSimpleBoxPth||h}},Ai.String(c))}}},Ai.convertCueTo):null},Ai.procState)},(Aiist=[]}).prototype={reportOrThrror(c)},parse:function(c){varr(h),p}function i(c){c.match(/X-TIMESTAMP-MAP/)?mi(c,(function(c,h){var p;"X-TIMESTAMP-MAP"===c&&(p=new fi(d))}}),/[^\d]:/,/,/),d.ontimestampmap&&d.ontimestampmap({MPEGTS:p.get("MPEGTS"),LOCAL:p.get("LOCAL")}))}),/=/):mi(c,(function(c,h){var p;"Region"===c&&(p=new fup"])}}),/=/,/\s/),p.has("id")&&((h=new(d.vttjs.VTTRegion||d.window.VTTRegion)).width=p.get("width",100),h.lines=p.get("lines",3),h.regionAnchorX=p.get("regionanchorX",0),h.regionAnchorY=p.get("regionanchorY",100),h.viewportAnchorX=p.get("viewportanchorX",0),h.viewportAnchorY=p.get("viewportanchorY",100),h.scroll=p.get("scroll",""),d.onregion&&d.onregion(h),d.regionList.push({id:p.get("id"),region:h})))}),/:/)}c&&(d.buffer+=d.decoder.decode(c,{stream:!0}));try{if("INITIAL"===d.state){if(!/\r\n|\n/.test(d.buffer))return this;var h,p=(h=t()).match(/^WEBVTT([ \t].*)?$/);if(!p||!p[0])throw new hi(hi.Errors.BadSignature);d.state="HEADER"}for(var f=!1;d.buffer;){if(!/\r\n|\n/.test(d.buffer))return this;switch(f?f=!1:h=t(),d.state){case"HEADER":/:/.test(h)?i(h):h||(d.state="ID");continue;case"NOTE":h||(d.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){d.state="NOTE";break}if(!h)continue;d.cue=new(d.vttjs.VTTCue||d.window.VTTCue)(0,0,"");try{d.cue.align="center"}catch(c){d.cue.align="middle"}if(d.state="CUE",-1===h.indexOf("--\x3e")){d.cue.id=h;continue}case"CUE":try{gi(h,d.cue,d.regionList)}catch(c){d.reportOrThrowError(c),d.cue=null,d.state="BADCUE";continue}d.state="CUETEXT";continue;case"CUETEXT":var E=-1!==h.indexOf("--\x3e");if(!h||E&&(f=!0)){d.oncue&&d.oncue(d.cue),d.cue=null,d.state="ID";continue}d.cue.text&&(d.cue.text+="\n"),d.cue.text+=h.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":h||(d.state="ID");continue}}}catch(c){d.reportOrThrowError(c),"CUETEXT"===d.state&&d.cue&&d.oncue&&d.oncue(d.cue),d.cue=null,d.state="INITIAL"===d.state?"BADWEBVTT":"BADCUE"}return this),this}};var hn=Ai,pn={"":1,lr:1,rl:1},fn={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-riCase()}function Ri(c,d,h){this.hasBeenReset=!1;var p="",f=!1,E=c,k=d,C=h,I=null,x="",A=!0,P="auto",L="start",O="auto",D="auto",R=100,N="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){returnp=""+c}},pauseOnExit:{enumerable:!0,get:function(){return{f=!!c}},startTime:{enumerable:!0,get:function(){return E},set:function(c){if("number"!=typeof c)throw new TypeError("Start time must be set to a number.");E=c,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){returnset=!0}},text:{enumerable:!0,get:function(){returnset=!0}},region:{enumerable:!0,get:function(){returnset=!0}},vertical:{enumerable:!0,get:function(){return x},set:function(c){if(!1===(c="string"==typeof c&&!!pn[c.toLowerCase()]&&c.toLowerCase()))throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");x=c,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){returnset=!0}},line:{enumerable:!0,get:function(){returnset=!0}},lineAlign:{enumerable:!0,get:function(){return L},set:function(c){(c=Di(c))&&(L=c,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return O},set:function(c){if(c<0||100<c)throw new Error("Position must be between 0 and 100.");O=c,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return D},set:function(c){(c=Di(c))&&(D=c,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){returnset=!0}},align:{enumerable:!0,get:function(){return N},set:function(c){if(!(c=Di(c)))throw new SyntaxError("align: an invalid or illegal alignment string was specified.");N=c,this.hasBeenReset=!0}}}),this.displayState=void 0}Ri.prototype.getCu.text)};var mn=Ri,gn={"":!0c<=100}function Bi(){var c=100,d=3,h=0,p=100,f=0,E=100,k="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return c},set:function(d){if(!Ui(d))throw new Error("Width must be between 0 and 100.");c=d}},lines:{enumerable:!0,get:function(){return");d=c}},regionAnchorY:{enumerable:!0,get:function(){return p},set:function(c){if(!Ui(c))throw new Error("RegionAnchorX must be between 0 and 100.");p=c}},regionAnchorX:{enumerable:!0,get:function(){return h},set:function(c){if(!Ui(c))throw new Error("RegionAnchorY must be between 0 and 100.");h=c}},viewportAnchorY:{enumerable:!0,get:function(){return E},set:function(c){if(!Ui(c))throw new Error("ViewportAnchorY must be between 0 and 100.");E=c}},viewportAnchorX:{enumerable:!0,get:function(){return");f=c}},scroll:{enumerable:!0,get:function(){return k},set:function(c){!1===(c="string"==typeof c&&!!gn[c.toLowerCase()]&&c.toLowerCase())||(k=c)}}})}vashim()}));yn.WebVTT,yn.VTTCue,yn.VTTRegion;var vn=function(c){function i(d,h){var p;return void 0===h&&(h=function(){}),(d=void 0===d?{}:d).reportTouchActivity=!1,(p=c.call(this,null,d,h)||this).onDurationChange_=function(c){return p.onDurationChange(c)},p.trackProgress_=function(c){return p.trackProgress(c)},p.trackCurrentTime_=function(c){return p.trackCurrentTime(c)},p.stopTrackingCurrentTime_=function(c){return p.stopTrackingCurrentTime(c)},p.disposeSourceHandler_=function(c){return p.disposeSourceHandler(c)},p.queuedHanders_=new Set,p.hasStarted_=!1,p.on("playing",(function(){this.hasStarted_=!0})),p.on("loaded_=!1})),qi.names.fName])})),p.featuresProgressEvents||p.manualProgressOn(),p.featuresTimeupdateEvents||p.manualTimeUpdatesOn(),["Text","Audio","Video"].f"]=!1)})),!1===d.nativeCaptions||!1===d.nativeTextTracks?p.featuresNativeTextTracks=!1:!0!==d.nativeCaptions&&!0!==d.nativeTextTracks||(p.featuresNativeTextTracks=!0),p.featuresNativeTextTracks||p.emulateTextTracks(),p.preloadTextTracks=!1!==d.preloadTextTracks,p.autoRemoteTextTracks_=new qi.text.ListClass,p.initTrackListeners(),d.nativeControlsForTouch||p.emitTapEvents(),p.constructor&&(p.name_=p.constructor.name||"Unknown Tech"),p}mt(i,c);var d=i.prototype;return d.triggerSoset"})},d.manualProress_)},d.manualProgange_)},d.trackP),500)},d.onDuratiotion()},d.bt(0,0)},d.bufferedtion_)},d.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},d.manualTimeUpTime_)},d.manualTimeUpdTime_)},d.trackCurr),250)},d.stopTrackingCurrd:!0})},d.(this)},d.cleaf)}}))},d.cleanupAutoTexck(h)}},d.reset=function(){},d.crossOrigin=function(){},d.setCrossOrigin=function(){},error_},d):vt()},d.play=function(){},d.setScrubbing=function(){},d.scrubbing=function(){},d.setCurrd:!0})},d.initTrackLi}))}))},d.addWebVttipt_))},d.emulateTex,a)}))},d.addTec,d,h)},d.createRemoteTeass(c)},d.addRemoteTe)})),p},d.removeRemoteTeack(c)},d.getVideoPlaybackturn{}},d.requestPictureInject()},d.disablePictureInturn!0},d.setDisablePictureInPicture=function(){},d.requestVideoFrameCh,c),h},d.cancelVideoFrameCame(c)},d.setPoster=function(){},d.playsinline=function(){},d.setPlaysinline=function(){},d.overrideNativeAudioTracks=function(){},d.overrideNativeVideoTracks=function(){},d.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPla.type)},i|c===i},i.regish(c),d},i.oid 0)},i}(ri);qi.names.fName]}})),vn.prototype.featuresVolumeControl=!0,vn.prototype.featuresMuteControl=!0,vn.prototype.featuresFullscreenResize=!1,vn.prototype.featuresPlaybackRate=!1,vn.prototype.featuresProgressEvents=!1,vn.prototype.featuresSourceset=!1,vn.prototype.featuresTimeupdateEvents=!1,vn.prototype.featuresNativeTextTracks=!1,vn.prototype.featuresVideoFrameCallback=!1,vn.withSourceHnull)}},ri.registerComponent("Tech",vn),vn.registerTech("Tech",vn),vn.defaultTechOrder_=[];var _n={},bn={},Tn={};function Wi(c,d,h){c.setTimeout((function(){return function i(c,d,h,p,f,E){void 0===c&&(c={}),void 0===d&&(d=[]),void 0===f&&(f=[]),void 0===E&&(E=!1);var k=d,C=(d=k[0],k.slice(1));if("string"==typeof d)i(c,_n[d],h,p,f,E);else if(d){var I=function(c,d){var h=bn[c.id()],p=null;if(null==h)return p=d(c),bn[c.id()]=[[d,p]],p;for(var f=0;f<h.length;f++){var E=(k=h[f])[0],k=k[1];E===d&&(p=k)}return null===p&&(p=d(c),h.push([d,p])),p}(p,d);if(!I.setSource)return f.push(I),i(c,C,h,p,f,E);I.setSource(b,f,E))}))}else C.length?i(c,C,h,p,f,E):E?h(c,f):i(c,_n["*"],h,p,f,!0)}(d,_n[d.type],h,c)}),1)}function Gi(c,d,h,p){void 0===p&&(p=null);var f="call"+ut(h);f=c.reduce(Yi(f),p)(p,h)}}(c,h,f=(p=f===Tn)?null:d[h](f),p),f}var wn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},En={setCurrentTime:1,setMuted:1,setVolume:1},xn={play:1,p]||""}function Ji(c){var d;return Array.isArray(c)?(d=[],c.fush(c)})),d):"string"==typeof c&&c.trim()?[en({src:c})]:T(c)&&"string"==typeof c.src&&c.src&&c.src.trim()?[en(c)]:[]}var Pn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"imagee=d),c}N=function(c){function e(d,h,p){var f=lt({createEl:!1},h);p=c.call(this,d,f,p)||this;if(h.playerOptions.sources&&0!==h.playerOptions.sources.length)d.src(h.playerOptions.sources);else for(var E=0,k=h.playerOptions.techOrder;E<k.length;E++){var C=ut(k[E]),I=vn.getTech(C);if((I=C?I:ri.getComponent(C))&&I.isSupported()){d.loadTech_(C);break}}return p}return mt(e,c),e}(ri),ri.registerComponent("MediaLoader",N),R=funcle(),p}mt(e,c);var d=e.prototype;return d.createEl=function(c,d,h){return void 0===c&&(c="div"),void 0===d&&(d={}),void 0===h&&(h={}),d=b({className:this.buildCSSClass(),tabIndex:0},d),"button"===c&&x.error("Creating a ClickableComponent with an HTML element of "+c+" is not supported; use a Button instead."),h=b({role:"button"},h),this.tabIndex_=d.tabIndex,(h=$(c,d,h)).appendChild($("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(h),h},d.dispose=function(){this.controlTextEl_=null,c.prototype.dispose.call(this)},d.createControextEl_},d.contle",h)},d.buildCSSClass=function(){return"vjs-control vjs-button "+c.prototype.buildCSSClass.call(this)},down_))},d.Down_)},d.handleLanguagText_)},d.handments)},d.handlehis,d)},e}(ri),ri.registerComponent("ClickableComponent",R),ri.registerComponent("Poste())},e}(R));var Ln="#222",On={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-turn}}ri.registerComponent("TextTrackD)}}},e}(ri)),ri.registerComponent("LoadingSpinner",function(c){function e(){return c.apply(this,arguments)||this}return mt(e,c),e.prototype.createEl=function(){var d=this.player_.isAudio(),h=this.localize(d?"Audio Player":"Video Player");d=$("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[h])});return(h=c.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})).appendChild(d),h},e}(ri));var Dn=function(c){function e(){return c.apply(this,arguments)||this}mt(e,c);var d=e.prototype;return d.createEl=function(c,d,h){return void 0===d&&(d={}),void 0===h&&(h={}),(h=$("button",d=b({className:this.buildCSSClass()},d),h=b({type:"button"},h))).appendChild($("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(h),h},d.as,c,d)},dbled")},d.bled")},d.handlehis,d)},e}(R);function on(c,d){c=c<0?0:c;var h=Math.floor(c%60),p=Math.floor(c/60%60),f=Math.floor(c/3600),E=Math.floor(d/60%60);d=Math.floor(d/3600);return(f=0<(f=isNaN(c)||c===1/0?p=h="-":f)||0<d?f+":":"")+(p=((f||10<=E)&&p<10?"0"+p:p)+":")+(h<10?"0"+h:h)}ri.registerComponent("Button",Dn),di=func)})),p}mt(e,c);var d=e.prototype;return d.buildCSSClass=function(){return"vjs-big-play-button"},d.handleClick=function(c){var d=this.player_.play();if(this.mouseused_&&c.clientX&&c.clientY){var h=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return Et(d),void(!this.player_.tech(!0)||(we||H)&&h||this.player_.tech(!0).focus())}var p=(h=this.player_.getChild("controlBar"))&&h.getChild("playToggle");p?(h=function(){return p.focus()},St(d)?d.then(h,(function(){})):this.setTimeout(h,1)):this.player_.tech(!0).focus()},d.handlehis,d)},d.handleMoed_=!0},e}(Dn),di.prototype.controlText_="Play Video",ri.registerComponent("BigPlayButton",di),ri.registerComponent("CloseButton",funce")),d}mt(e,c);var d=e.prototype;return d.buildCSSClass=function(){return"vjs-close-button "+c.prototype.buildCSSClass.call(this)},d.hands:!1})},d.handlehis,d)},e}(}))},e}(Dn),yi.prototype.controlText_="Play",ri.registerComponent("PlayToggle",yi);va(c){},e}(ri),vi.prototype.labelText_="Time",vi.prototype.controlText_="Time",ri.registerComponent("TimeDisplay_(d)},t}(vi),_i.prototype.labelText_="Current Time",_i.prototype.controlText_="Current Time",ri.registerComponent("CurrentTimeDisplay",_i),Oe=function(c){function e(d,h){var p=c.call(this,d,h)||this;h=function(c){return p.updateContent(c)};return p.on(d,"durationchange",h),p.on(d,"loadstart",h),p.on(d,"loadedmetadata",h),p}mt(e,c);var d=e.prototype;return d.buildCSSClass=function(){return"vjs-duration"},d.updatode_(d)},e}(vi),Oe.prototype.labelText_="Duration",Oe.prototype.controlText_="Duration",ri.registerComponent("DurationDisplay",Oe),ri.registerComponent("Timeh),d},e(d))},e}(vi),P.prototype.labelText_="Remaining Time",P.prototype.controlText_="Remaining Time",ri.registerComponent("RemainingTimeDisplay",P),ri.registerComponent("Liveide()},ethis)},e}(Dn),zi.prototype.controlText_="Seek to live, currently playing live",ri.registerComponent("SeekToLive",zi),Yn=fuable(),p}mt(e,c);var d=e.prototype;return d.enabled=function(){return this.enabled_}led_=!0)},led_=!1)},ds,d,h,p)},d.handleve(c,!0)},d.handletion(c){},d.handupdate()}"}))),d}},d.geixed(4))},d.calculat?c.y:c.x},d.hand(this,d)},d.handleClick=function(c){c.stopPropagation(),c.preventDefault()},dzontal")},e}(ri),ri.registerComponent("Slider",Yn),ri.registerComponent("LoadProgressBar",fu(c)})),p}mt(e,c);var d=e.prototype;return dgeEl_),d},ll(this)},d.update=function(c){var d=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var c=d.player_.liveTracker,h=d.player_.buffered(),p=(c=c&&c.isLive()?c.seekableEnd():d.player_.duration(),d.player_.bufferedEnd()),f=d.partEls_;c=cn(p,c);d.percent_!==c&&(d.el_.style.width=c,J(d.percentageEl_,c),d.percent_=c);for(var E=0;E<h.length;E++){var k=h.start(E),C=h.end(E),I=f[E];I||(I=d.el_.appendChild($()),f[E]=I),I.dataset.start===k&&I.dataset.end===C||(I.dataset.start=k,I.dataset.end=C,I.style.left=cn(k,p),I.style.width=cn(C-k,p))}for(var x=f.length;x>h.length;x--)d.el_.removeChild(f[x-1]);f.length=h.length}))},e}(ri)),ri.registerComponent("TimeTooltip",function(c){function e(d,h){return(h=c.call(this,d,h)||this).update=We(Ve(ft(h),h.update),30),h}mt(e,c);var d=e.prototype;return d.createEl=function(){return c.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}rite(h))},d.write=function(c){J(this.el_,c)},d.u&&p()}))},ed,h))},e}(ri),Ki.prototype.options_={children:[]},Ue||U||Ki.prototype.options_.children.push("timeTooltip"),ri.registerComponent("PlayProgressBx"}))},e}(ri),N.prototype.options_={children:["timeTooltip"]},ri.registerComponent("MouseTimeDisplay",N),di=fuers_(),h}mt(e,c);var d=e.prototype;return d.setEventbility_)},d.toggleVipdate())},d.enableate,30))},d.disableal=null)},d Bar")})}))})),p}},d.tTime(c)},d.getCurntTime()},d.gtion(),c},d.handlethis,d))},d.handleMouseMove=function(c,d){if(void 0===d&&(d=!1),_e(c)){d||this.player_.scrubbing()||this.player_.scrubbing(!0);var h=this.calculateDistance(c),p=this.player_.liveTracker;if(p&&p.isLive()){if(.99<=h)return void p.seekToLiveEdge();var f;d=p.seekableStart();if((f=(f=(c=p.liveCurrentTime())<=(f=d+h*p.liveWindow())?c:f)<=d?d+.1:f)===1/0)return}else(f=h*this.player_.duration())===this.player_.duration()&&(f-=.1);this.userSeek_(f)}},d.enable=function(){c.prototype.enable.call(this);var d=this.getChild("mouseTimeDisplay");d&&d.show()},d.hide()},d.handpdate_()},d.stime()+5)},dime()-5)},d.handleAction=function(c){this.player_.paused()?this.player_.play():this.player_.pause()},d.hand(this,d)},ll(this)},e}(Yn),di.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Ue||U||di.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ri.registerComponent("SeekBar",di),yi=fuable(),p}mt(e,c);var d=e.prototype;return d.createEl=function(){return c.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},d.handleMouseMove=function(c){var d,h,p,f,E=this.getChild("seekBar");E&&(d=E.getChild("playProgressBar"),h=E.getChild("mouseTimeDisplay"),(d||h)&&(f=he(p=E.el()),c=dn(c=pe(p,c).x,0,1),h&&h.update(f,c),d&&d.update(f,E.getProgress())))},d.handleeMove(c)},enabled_},lay())))}led_=!0)},d.removeListenersAddedOnMousedownAndTandler_)},d.handleandler_)},d.handhstart()},e}(ri),yi.prototype.options_={children:["seekBar"]},ri.registerComponent("ProgressControure()},e}(Dn),_i.prototype.controlText_="Picture-in-Picture",ri.registerComponent("PictureInPictureToggleen()},e}(Dn),Oe.prototype.controlText_="Fullscreen",ri.registerComponent("FullscreenToggle",Oe),ri.registerComponent("Vol})),d},e}(ri)),ri.registerComponent("VolumeLevelTooltip",function(c){function e(d,h){return(h=c.call(this,d,h)||this).update=We(Ve(ft(h),h.update),30),h}mt(e,c);var d=e.prototype;return d"true"})},d.update=function(c,d,h,p){if(!h){var f=ce(this.el_),E=ce(this.player_.el());h=c.width*d;if(!E||!f)return;d=c.left-E.left+h,E=c.width-h+(E.right-c.right),d<(c=f.width/2)?c+=c-d:E<c&&(c=E),c<0?c=0:c>f.width&&(c=f.width),this.el_.style.right="-"+c+"px"}this.write(p+"%")s.el_,c)},d.upd&&f()}))},e}(ri)),vi=fue),30),h}mt(e,c);var d=e.prototype;return dsplay"})}+"px"}))},e}(ri),vi.prototype.options_={children:["volumeLevelTooltip"]},ri.registerComponent("MouseVolumeLevelDisplay",vi),P=fus()})),p}mt(e,c);var d=e.prototype;return dolite"})},d.handle(this,d)},d.handlence(c)))},d.cuted(!1)},d.gvolume()},d.stme()+.1)},dme()-.1)},d.updateARIAA",d+"%")},d.volumeAsPeolume())},d.updateLae_(d)}))},e}(Yn),P.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ue||U||P.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),P.prototype.playerEvent="volumechange",ri.registerComponent("VolumeBar",P),zi=function(c){function e(d,h){var p,f,E;return(h=void 0===h?{}:h).vertical=h.vertical||!1,void 0!==h.volumeBar&&!w(h.volumeBar)||(h.volumeBar=h.volumeBar||{},h.volumeBar.vertical=h.vertical),p=c.call(this,d,h)||this,f=ft(p),(E=d).tech_&&!E.tech_.featuresVolumeControl&&f.addClass("vjs-hidden"),f.on(E,"loadstart",(function(){E.tech_.featuresVolumeControl?f.removeClass("vjs-hidden"):f.addClass("vjs-hidden")})),p.throttledHandleMouseMove=We(Ve(ft(p),p.handleMouseMove),30),p.handleMouseUpHandler_=function(c){return p.handleMouseUp(c)},p.on("mousedown",(function(c){return p.handleMouseDown(c)})),p.on("touchstart",(function(c){return p.handleMouseDown(c)})),p.on("mousemove",(function(c){return p.handleMouseMove(c)})),p.on(p.volumeBar,["focus","slideractive"],(function(){p.volumeBar.addClass("vjs-slider-active"),p.addClass("vjs-slider-active"),p.trigger("slideractive")})),p.on(p.volumeBar,["blur","sliderinactive")})),p}mt(e,c);var d=e.prototype;return dol "+d})},d.handleMouseDown=function(c){var d=this.el_.ownerDocument;this.on(d,"mousemove",this.throttledHandleMouseMove),this.on(d,"touchmove",this.throttledHandleMouseMove),this.on(d,"mouseup",this.handleMouseUpHandler_),this.on(d,"touchend",this.handleMouseUpHandler_)},d.handandler_)},d.handleeMove(c)},e}(ri),zi.prototype.options_={children:["volumeBar"]},ri.registerComponent("VolumeControxt(c)},e}(Dn),Ki.prototype.controlText_="Mute",ri.registerComponent("MuteToggle",Ki),N=futive_),p}mt(e,c);var d=e.prototype;return d.sliderActive_=function(){this.addClass("vjs-slider-active")},d.slideractive")},d.volumePae-only")},dol "+d})},d.dispose=function(){this.handleMouseOut(),c.prototype.dispose.call(this)},d.handleVolumeCon.focus()},d.handleMouseOver=function(c){this.addClass("vjs-hover"),Be(document,"keyup",this.handleKeyPressHandler_)},d.handleMouseOut=function(c){this.removeClass("vjs-hover"),Fe(document,"keyup",this.handleKeyPressHandler_)},d.handluseOut()},e}(ri),N.prototype.options_={children:["muteToggle","volumeControl"]},ri.registerComponent("VolumePanel",N);var Nn=fuck(c)},p}mt(e,c);var d=e.prototype;return d.addEventListenerForItem=function(c){c instanceof ri&&(this.on(c,"blur",this.boundHandleBlur_),this.on(c,["tap","click"],this.boundHandleTapClick_))},d.removeEventListenClick_))},d.re(this,d)},rItem(c)},d.createEl=function(){var d=this.options_.contentElType||"ul";return this.contentEl_=$(d,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),(d=c.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"})).appendChild(this.contentEl_),Be(dgation()})),d},ll(this)},d.hButton()},d.handlfocus())},d.handpBack())},d.stfocus(c)},dfocus(c)focus())},e}(ri);ri.registerComponent("Menu",Nn),di=fu(c)})),p}mt(e,c);var d=e.prototype;return"menu"))},d.creturn d},d.crction(){},ds()},{})},d.buildWrappell(this)},d.builll(this)},d.coext(c,d)},ll(this)},d.haButton()},d.handleMuKeyUp_)},d.focus=function(){this.menuButton_.focus(_.blur()},d.handtton()))},d.handle-hover")},d.handleSubmenyDown(c)},d.handleSubmeocus()))},d.prfocus())},d.unprfalse"))},isable()}enable()},e}(ri),ri.registerComponent("MenuButton",di),yi=function(c){function e(d,h){var p=h.tracks;if((h=c.call(this,d,h)||this).items.length<=1&&h.hide(),!p)return ft(h);var f=Ve(ft(h),h.update);return p.addEventListener("removetrack",f),p.addEventListener("addtrack",f),p.addEventListener("labelchange",f),h.player_.on("ready",f),h.player_.on("ange",f)})),h}return mt(e,c),e}(di),ri.registerComponent("TrackButton",yi);var Mn=["Tab","Esc","Up","Down","Right","Left"];_i=fuitem"),d}mt(e,c);var d=e.prototype;return d.createEl=function(d,h,p){return this.nonIconControl=!0,(p=c.prototype.createEl.call(this,"li",b({className:"vjs-menu-item",tabIndex:-1},h),p)).replaceChild($("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),p.querySelector(".vjs-icon-placeholder")),p},d.hand(this,d)},d.hacted(!0)},ded_=!1))},e}(R);ri.registerComponent("MenuItem",_i);var Un=fuange(),p}mt(e,c);var d=e.prototype;return d.habled"))}},d.handleTraected(d)},d.handleSelectedLangu.kind}))},ll(this)},e}(_i);ri.registerComponent("TextTrackMenuItem",U:!1})},e}(Un);ri.registerComponent("OffTextTrackMenuIteurn c},e}(yi),ri.registerComponent("TextTrackButton",OTime)},e}(_i);ri.registerComponent("ChaptersTrackMenuItem",Fn),vi=fue)}))},f}mt(e,c);var d=e.prototype;return d.buildCSSClass=function(){return"vjs-chapters-button "+c.prototype.buildCSSClass.call(this)},d.buildWrappell(this)}l(this))},dItem_)))},d.findChapeturn h}},d.getMe.kind_))},d.cll(this)},d.createItems=function(){var c=[];if(!this.track_)return c;var d=this.track_.cues;if(!d)return c;for(var h=0,p=d.length;h<p;h++){var f=d[h];f=new Fn(this.player_,{track:this.track_,cue:f});c.push(f)}return c},e}(Oe),vi.prototype.kind_="chapters",vi.prototype.controlText_="Chapters",ri.registerComponent("ChaptersButton",vi),Yn=fu,E)})),p}mt(e,c);var d=e.prototype;return d.handleTraenable()},d.buildCSSClass=function(){return"vjs-descriptions-button "+c.prototype.buildCSSClass.call(this)},d.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+c.prototype.buildWrapperCSSClass.call(this)},e}(Oe),Yn.prototype.kind_="descriptions",Yn.prototype.controlText_="Descriptions",ri.registerComponent("DescriptionsButtthis)},e}(Oe),P.prototype.kind_="subtitles",P.prototype.controlText_="Subtitles",ri.registerComponent("SubtitlesButton",pen()},e}(Un);ri.registerComponent("CaptionSettingsMenuIteis,d)},e}(Oe),zi.prototype.kind_="captions",zi.prototype.controlText_="Captions",ri.registerComponent("CaptionsButton",zi);var Wn=function(c){function e(){return c.apply(this,arguments)||this}return mt(e,c),e.prototype.createEl=function(d,h,p){return p=(h=c.prototype.createEl.call(this,d,h,p)).querySelector(".vjs-menu-item-text"),"captions"===this.options_.track.kind&&(p.appendChild($("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild($("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),h},e}(Un);ri.registerComponent("SubsCapsMenuIted,Wn)},e}(Oe),Ki.prototype.kinds_=["captions","subtitles"],Ki.prototype.controlText_="Subtitles",ri.registerComponent("SubsCapsButton",Ki);var Kn=fu,a)})),p}mt(e,c);var d=e.prototype;return d.createEl=function(d,h,p){return p=(h=c.prototype.createEl.call(this,d,h,p)).querySelector(".vjs-menu-item-text"),"main-desc"===this.options_.track.kind&&(p.appendChild($("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild($("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),h},d.ha.track)}},d.handleTraenabled)},e}(_i);ri.registerComponent("AudioTrackMenuIturn c},e}(yi),N.prototype.controlText_="Audio Track",ri.registerComponent("AudioTrackButton",rate)},e}(_i);Xn.prototype.contentElType="button",ri.registerComponent("PlaybackRateMenuItem",Xn),R=fu(c)})),p}mt(e,c);var d=e.prototype;return delEl_),d},d.dispose=function(){this.labelEl_=null,c.prototype.dispose.call(this)},d.buildCSSClass=function(){return"vjs-playback-rate "+c.prototype.buildCSSClass.call(this)},d.buildWrapperCSSClass=function(){return"vjs-playback-rate "+c.prototype.buildWrapperCSSClass.call(this)},d.crreturn d},d.updateARIAAkRate())},d.handleClick=function(c){var d=this.player().playbackRate(),h=this.playbackRates();d=(h.indexOf(d)+1)%h.length;this.player().playbackRate(h[d])},d.handlePlaybackRaupdate()},d.playes()||[]},d.playbackRate).length},d.updateVhidden")},d.upe()+"x")},e}(di),R.prototype.controlText_="Playback Rate",ri.registerComponent("PlaybackRateMenuButt,h,p)},e}(ri),ri.registerComponent("Spacer",vi),ri.registerComponent("CustomContr" "})},ltr"})},t}(ri),Yn.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&Yn.prototype.options_.children.splice(Yn.prototype.options_.children.length-1,0,"pictureInPictureToggle"),ri.registerComponent("Controlge):""},e}(oi),P.prototype.options_=L({},oi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ri.registerComponent("ErrorDisplay",P);var Yn,Qn="vjs-text-track-settings",Jn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[zi=["#000","Black"],di=["#FFF","White"],_i=["#F00","Red"],yi=["#0F0","Green"],Oe=["#00F","Blue"],R=["#FF0","Yellow"],N=["#F0F","Magenta"],Ki=["#0FF","Cyan"]]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[vi=["1","Opaque"],Yn=["0.5","Semi-Transparent"],P=["0","Transparent"]]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[di,zi,_i,yi,Oe,R,N,Ki]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],defaulNumber(c)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[vi,Yn]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[)return c}Jn.windowColor.options=Jn.backgroundColor.options,ri.registerComponent("TextTrackSettings",ftings(),p}mt(e,c);var d=e.prototype;return d.dispose=function(){this.endDialog=null,c.prototype.dispose.call(this)},d.createElSelect_=function(c,d,h){var p=this;void 0===d&&(d=""),void 0===h&&(h="label");var f=(c=Jn[c]).id.replace("%s",this.id_),E=[d,f].join(" ").trim();return["<"+h+' id="'+f+'" class="'+("label"===h?"vjs-label":"")+'">',this.localize(c.label),"</"+h+">",'<select aria-labelledby="'+E+'">'].concat(c.op.join("")}))).concat("</select>").join("")},d.createElFgColor_=function(){var c="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+c+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",c),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",c),"</span>","</fieldset>"].join("")},d.createElBgColor_=function(){var c="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+c+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",c),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",c),"</span>","</fieldset>"].join("")},d.createE.join("")},d.creatoin("")})},d.creoin("")})},d.createEoin("")})}trols_()]},d.label=function(){return this.localize("Caption Settings Dialog")},d.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},d.buisettings"},d.getValues=function(){var c,d,h,p=this;return d=function(c,d,h){var f;return void 0!==(d=(f=p.$(d.selector),d=d.parser,Sn(f.options[f.options.selectedIndex].value,d)))&&(c[h]=d),c},void 0===(h={})&&(h=0),v(c=Jh,c[p],p)}),h)},darser)}))},d.sndex=h}))},d.restoValues(c)},d.sawarn(c)}}},d.updDisplay()},d.conditionalBlur_=function(){this.previouslyActiveEl_=null;var c=(d=this.player_.controlBar)&&d.subsCapsButton,d=d&&d.captionsButton;c?c.focus():d&&d.focus()},e}(oi)),ri.registerComponent("ResizeManager",function(c){function e(d,h){var p,f=h.ResizeObserver||window.ResizeObserver,E=lt({createEl:!(f=null!==h.ResizeObserver&&f),reportTouchActivity:!1},h);return(p=c.call(this,d,E)||this).ResizeObserver=h.ResizeObserver||window.ResizeObserver,p.loadListener_=null,p.resizeObserver_=null,p.debouncf=null},e}((function(){p.resizeHandler()}),100,!1,ft(p)),f?(p.resizeObserver_=new p.ResizeObserver(p.debouncedHandler_),p.resizeObserver_.observe(d.el())):(p.loasize",c))},p.one("load",p.loadListener_)),p}mt(e,c);var d=e.prototype;return :"true"})},d.resrresize")}all(this)},e}(ri));var Zn={trackingThreshold:20,liveTolatch_))}function Aable:!0})}var f={configurable:!0,enumerarn r(c),c}};return(p=void 0===p||p)&&(f.set=r),Object.defineProperty(c,d,f)}ri.registerComponent("LiveTracker",function(c){function e(d,h){h=lt(Zn,h,{createEl:!1});var p=c.call(this,d,h)||this;return p.handleVisibilityChange_=function(c){return p.handleVisibilityChange(c)},p.trackLiveHandler_=function(){return p.trackLive_()},p.handlePlay_=function(c){return p.handlePlay(c)},p.handleFirstTimeupdate_=function(c){return p.handleFirstTimeupdate(c)},p.handleSeeked_=function(c){return p.handleSeeked(c)},p.seekToLiveEdge_=function(c){return p.seekToLiveEdge(c)},p.reset_(),p.on(p.player_,"durationchange",(function(c){return p.handleDurationchange(c)})),p.on(p.player_,"canplay",(function(){return p.toggleTracking()})),we&&"hidden"in document&&"visibilityState"in document&&p.on(document,"visibilitychange",p.handleVisibilityChange_),p}mt(e,c);var d=e.prototype;return d.handleVisibiacking())},d.trackLive_=function(){var c,d=this.player_.seekable();d&&d.length&&(c=Number(window.performance.now().toFixed(4)),d=-1===this.lastTime_?0:(c-this.lastTime_)/1e3,this.lastTime_=c,this.pastSeekEnd_=this.pastSeekEnd()+d,c=this.liveCurrentTime(),d=this.player_.currentTime(),d=this.player_.paused()||this.seekedBehindLive_||Math.abs(c-d)>this.options_.liveTolerance,(d=!(!this.timeupdateSeen_||c===1/0)&&d)!==this.behindLiveEdge_&&(this.behindLiveEdge_=d,this.trigger("liveedgechange")))},d.handleDurationchange=function(){this.toggleTracking()},d.toggacking())},d.stapdate_)))},d.handleFirsteSeeked_)},d.hackLive_()},d.iveEdge_)iveEdge_)},d.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},d.stchange"))},d.sth-1]:1/0},d.seert()[0]:0},d.leStart()racking()},d.iveEdge()},d.liveCableEnd()},d.ptSeekEnd_},d.behindLiveEdge=function(){return this.behindLiveEdge_},d.Interval_},d.seektTime()))}all(this)},e}(ri));var er,rr=Object.defineProperty({},"innerinneinnerHTML}}),ar=Object.defineProperty({},src"src",c),c}}),sr=function(c){function s(d,h){var p=c.call(this,d,h)||this,f=(h=d.source,!1);if(p.featuresVideoFrameCallback=p.featuresVideoFrameCallback&&"VIDEO"===p.el_.tagName,h&&(p.el_.currentSrc!==h.src||d.tag&&3===d.tag.initNetworkState_)?p.setSource(h):p.handleLateInit_(p.el_),d.enableSourceset&&p.setupSourcesetHandling_(),p.isScrubbing_=!1,p.el_.hasChildNodes()){for(var E=p.el_.childNodes,k=E.length,C=[];k--;){var I=E[k];"track"===I.nodeName.toLowerCase()&&(p.featuresNativeTextTracks?(p.remoteTextTrackEls().addTrackElement_(I),p.remoteTextTracks().addTrack(I.track),p.textTracks().addTrack(I.track),f||p.el_.hasAttribute("crossorigin")||!Ut(I.src)||(f=!0)):C.push(I))}for(var A=0;A<C.length;A++)p.el_.removeChild(C[A])}return p.proxyNativeTracks_(),p.featuresNativeTextTracks&&f&&x.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),p.restoreMetadataTracksInIOSNativePlayer_(),(Pe||Me||F)&&!0===d.nativeControlsForTouch&&p.setControls(!0),p.proxyWebkitFullscreen_(),p.triggerReady(),p}mt(s,c);var d=s.prototype;returnall(this)},d.setupSourcesetHandling_=function(){!function(c){var d,h,p,f;c.featuresSourceset&&((d=c.el()).resetSourceset_||(h=Cn([c.el(),window.HTMLMediaElement.prototype,ar],"src"),p=d.setAttribute,f=d.load,Object.defineProperty(d,"src"(d.src),p}})),d.se(d.src),In(c)),h},d.currentSrc?c.triggerSourceset(d.currentSrc):kn(c)||In(c),d.reseteWatch_()}))}(this)},d.restoreMetadataTracksInIOSNatge",r)}))},d.overrType_(h))},d.overrideNativeAudioTracks=function(c){this.overrideNative_("Audio",c)},d.overrideNativeVideoTracks=function(c){this.overrideNative_("Video",c)},d.proxyNativeTract",h)})))},d.proxyNatpe_(d)}))},d.createEl=function(){var c,d=this.options_.tag;d&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(d?(c=d.cloneNode(!0),d.parentNode&&d.parentNode.insertBefore(c,d),s.disposeMediaElement(d),d=c):(d=document.createElement("video"),c=lt({},this.options_.tag&&ae(this.options_.tag)),Pe&&!0===this.options_.nativeControlsForTouch||delete c.controls,re(d,b(c,{id:this.options_.techId,class:"vjs-tech"}))),d.playerId=this.options_.playerId),void 0!==this.options_.preload&&oe(d,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(d.disablePictureInPicture=this.options_.disablePictureInPicture);for(var h=["loop","muted","playsinline","autoplay"],p=0;p<h.length;p++){var f=h[p],E=this.options_[f];void 0!==E&&(E?oe(d,f,f):ue(d,f),d[f]=E)}return d},d.handlthis)}))}},d.setScrubbing=function(c){this.isScrubbing_=c},d.scrubbing=function(){return this.isScrubbing_},d.setCeo.js)")}},tion||NaN},d.width=function(){return this.el_.offsetWidth},d.height=function(){return this.el_.offsetHeight},d.proxyWebkitFn",c)})))},d.supports}return!1},d.enterrror",c)}},d.exitscreen"))},d.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},d.requestVideoFral(this,d)},d.cancelVideoFral(thissetSrc(cthis.el_)},d.urrentSrc},d.strols=!!c},d.adis,d,h,p)},d.createRemot=d.src),h},d.addRemothild(h),h},d.removeRemotild(h[p])},d.getVideoPlaybnStart),c},s}(vn);An(sr,"ild(d),c}})),sr.iPlayType)},sr.canPlayType=function(c){return sr.TEST_VID.canPlayType(c)},sr.canPlaySource=function(c,d){return sr.canPlayType(c.type)},sr.canConreturn!1}},sr.canreturn!1}},sr.canControlPlreturn!1}},sr.canOverride}return!0},sr.supportsNativeGe||Ue&&V},sr.supportsNativeVideoTracks=function(){return!(!sr.TEST_VID||!sr.TEST_VID.videoTracks)},sr.supportsNativeAioTracks)},sr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]]()}),!0)})),sr.prototype.featuresVolumeControl=sr.canControlVolume(),sr.prototype.movingMediaElementInDOM=!Ue,sr.prototype.featuresFullscreenResize=!0,sr.prototype.featuresProgressEvents=!0,sr.prototype.featuresTimeupdateEvents=!0,sr.prototype.featuresVideoFrameCallback=!(!sr.TEST_VID||!sr.TEST_VID.requestVideoFrameCallback),sr.patchCthis,c)})},sr.unpatchCype=er),c},sr.patchCanPlayType(),sr.disposeMe(c){}}()}},sr.resetMe(c){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"ibute(c)}})),["muted","defaultMuted","autoplay","loop","playsinline"ibute(c)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"s.el_[c]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"el_[c]=d}})),["pause","load","play"el_[c]()}})),vn.withSourceHandlers(sr),sr.nativeSourceHandler={},sr.nativeSourceHandler.creturn""}},sr.nativeSourceHandler.canHa/"+c)):""},sr.nativeSourceHandler.harc(c.src)},sr.nativeSourceHandler.dispose=function(){},sr.registerSourceHandler(sr.nativeSourceHandler),vn.registerTech("Html5",sr);var or=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Tr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Er=["tiny","xsmall","small","medium","large","xlarge","huge"],kr={};Eayout-"+d}));var Cr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ir=function(c){function o(h,f,E){var k,C;if(h.id=h.id||f.id||"vjs_video_"+wt++,(f=b(o.getTagSettings(h),f)).initChildren=!1,f.createEl=!1,f.evented=!1,f.reportTouchActivity=!1,!f.language)if("function"==typeof h.closest){var I=h.closest("[lang]");I&&I.getAttribute&&(f.language=I.getAttribute("lang"))}else for(var x=h;x&&1===x.nodeType;){if(ae(x).hasOwnProperty("lang")){f.language=x.getAttribute("lang");break}x=x.parentNode}if((k=c.call(this,null,f,E)||this).boundDocumentFullscreenChange_=function(c){return k.documentFullscreenChange_(c)},k.boundFullWindowOnEscKey_=function(c){return k.fullWindowOnEscKey(c)},k.boundUpdateStyleEl_=function(c){return k.updateStyleEl_(c)},k.boundApplyInitTime_=function(c){return k.applyInitTime_(c)},k.boundUpdateCurrentBreakpoint_=function(c){return k.updateCurrentBreakpoint_(c)},k.boundHandleTechClick_=function(c){return k.handleTechClick_(c)},k.boundHandleTechDoubleClick_=function(c){return k.handleTechDoubleClick_(c)},k.boundHandleTechTouchStart_=function(c){return k.handleTechTouchStart_(c)},k.boundHandleTechTouchMove_=function(c){return k.handleTechTouchMove_(c)},k.boundHandleTechTouchEnd_=function(c){return k.handleTechTouchEnd_(c)},k.boundHandleTechTap_=function(c){return k.handleTechTap_(c)},k.isFullscreen_=!1,k.log=A(k.id_),k.fsApi_=p,k.isPosterFromTech_=!1,k.queuedCallbacks_=[],k.isReady_=!1,k.hasStarted_=!1,k.userActive_=!1,k.debugEnabled_=!1,k.audioOnlyMode_=!1,k.audioPosterMode_=!1,k.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!k.options_||!k.options_.techOrder||!k.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return k.tag=h,k.tagAttributes=h&&ae(h),k.language(k.options_.language),f.languages?(C={},Object.getOwnPropertyNames(f.languagesguages[c]})),k.languages_=C):k.languages_=o.prototype.options_.languages,k.resetCache_(),k.poster_=f.poster||"",k.controls_=!!f.controls,h.controls=!1,h.removeAttribute("controls"),k.changingSrc_=!1,k.playCallbacks_=[],k.playTerminatedQueue_=[],h.hasAttribute("autoplay")?k.autoplay(!0):k.autoplay(k.options_.autoplay),f.plugins&&Object.keys(f.pluginst exist')})),k.scrubbing_=!1,k.el_=k.createEl(),rt(ft(k),{eventBusKey:"el_"}),k.fsApi_.requestFullscreen&&(Be(document,k.fsApi_.fullscreenchange,k.boundDocumentFullscreenChange_),k.on(k.fsApi_.fullscreenchange,k.boundDocumentFullscreenChange_)),k.fluid_&&k.on(["playerreset","resize"],k.boundUpdateStyleEl_),E=lt(k.options_),f.plugins&&Object.keys(f.pluginsugins[c])})),f.debug&&k.debug(!0),k.options_.playerOptions=E,k.middleware_=[],k.playbackRates(f.playbackRates),k.initChildren(),k.isAudio("audio"===h.nodeName.toLowerCase()),k.controls()?k.addClass("vjs-controls-enabled"):k.addClass("vjs-controls-disabled"),k.el_.setAttribute("role","region"),k.isAudio()?k.el_.setAttribute("aria-label",k.localize("Audio Player")):k.el_.setAttribute("aria-label",k.localize("Video Player")),k.isAudio()&&k.addClass("vjs-audio"),k.flexNotSupported_()&&k.addClass("vjs-no-flex"),Pe&&k.addClass("vjs-touch-enabled"),Ue||k.addClass("vjs-workinghover"),o.players[k.id_]=ft(k),h=d.split(".")[0],k.addClass("vjs-v"+h),k.userActive(!0),k.reportUserActivity(),k.one("play",(function(c){return k.listenForUserActivity_(c)})),k.on("stageclick",(function(c){return k.handleStageClick_(c)})),k.on("keydown",(function(c){return k.handleKeyDown(c)})),k.on("languagechange",(function(c){return k.handleLanguagechange(c)})),k.breakpoints(k.options_.breakpoints),k.responsive(k.options_.responsive),k.oOnlyMode)})),k}mt(o,c);var h=o.prototype;return h.dispose=function(){var d=this;this.trigger("dispose"),this.off("dispose"),Fe(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Fe(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),o.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),bn[this.id()]=null,qi.names.forEach((function(c){c=qi[c],(c=d[c.getterName]())&&c.off&&c.off()})),c.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},his.el_=d},h.c"'+c+'"')},h.width=function(c){return this.dimension("width",c)eight",c)},hyleEl_()tyleEl_js-fill")},h.atyleEl_()},h.updaight=h)))},h.loadTech_=function(c,d){var h=this;this.tech_&&this.unloadTech_();var p=ut(c),f=c.charAt(0).toLowerCase()+c.slice(1);"Html5"!==p&&this.tag&&(vn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=p,this.isReady_=!1;var E=this.autoplay(),k={source:d,autoplay:E=!("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&E,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+f+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};if(qi.namevateName]})),b(k,this.options_[p]),b(k,this.options_[f]),b(k,this.options_[c.toLowerCase()]),this.tag&&(k.tag=this.tag),d&&d.src===this.cache_.src&&0<this.cache_.currentTime&&(k.startTime=this.cache_.currentTime),!(c=vn.getTech(c)))throw new Error("No Tech named '"+p+"' exists! '"+p+"' should be registered using videojs.registerTech()'");this.tech_=new c(k),this.tech_.ready(Ve(this,this.handleTechRtTracks()}(this.textTracksJson_||[],this.tech_),o_"](d)}))})),Object.keys(Tr_"](d)}))})),this.on(this.tech_,"loadstart",(function(c){return h.handleTechLoadStart_(c)})),this.on(this.tech_,"sourceset",(function(c){return h.handleTechSourceset_(c)})),this.on(this.tech_,"waiting",(function(c){return h.handleTechWaiting_(c)})),this.on(this.tech_,"ended",(function(c){return h.handleTechEnded_(c)})),this.on(this.tech_,"seeking",(function(c){return h.handleTechSeeking_(c)})),this.on(this.tech_,"play",(function(c){return h.handleTechPlay_(c)})),this.on(this.tech_,"firstplay",(function(c){return h.handleTechFirstPlay_(c)})),this.on(this.tech_,"pause",(function(c){return h.handleTechPause_(c)})),this.on(this.tech_,"durationchange",(function(c){return h.handleTechDurationChange_(c)})),this.on(this.tech_,"fullscreenchange",(function(c,d){return h.handleTechFullscreenChange_(c,d)})),this.on(this.tech_,"fullscrror_(c,d)})),this.on(this.tech_,"enterpictureinpicture",(function(c){return h.handleTechEnterPictureInPicture_(c)})),this.on(this.tech_,"leavepictureinpicture",(function(c){return h.handleTechLeavePictureInPicture_(c)})),this.on(this.tech_,"error",(function(c){return h.handleTechError_(c)})),this.on(this.tech_,"posterchange",(function(c){return h.handleTechPosterChange_(c)})),this.on(this.tech_,"textdata",(function(c){return h.handleTechTextData_(c)})),this.on(this.tech_,"ratechange",(function(c){return h.handleTechRateChange_(c)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===p&&this.tag||Z(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},h.unloadTech_=function(){var c=this;qi.nameerName]()})),this.textT.map(kt))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=his.tech_},h.addTechControlsTechTap_)},h.removeTechControlsleClick_)},h.handleChange_()},h.handleTechtoplay())},h.manualAutoplay_=function(c){var d=this;if(this.tech_&&"string"==typeof c){var h,i=function(){var c.muted(c)}d.muted(!0),d.playTerminatedQueue_.push(t);var h=d.play();if(St(h))retur+(c||""))}))};if("any"!==c||this.muted()?h="muted"!==c||this.muted()?this.play():i():St(h=this.play())&&(h=h.catch(i)),St(h))return h.then((function(){d.trigger({type:"autoplay-success",autoplay:c})oplay:c})}))}},h.updateSourceCaches_=function(c){var d=c=void 0===c?"":c,h="";"string"!=typeof d&&(d=c.src,h=c.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[]urn $i(d)}(this,d)),this.cache_.source=lt({},c,{src:d,type:h});h=this.cache_.sourcc.src===d}));for(var p=[],f=this.$$("source"),E=[],k=0;k<f.length;k++){var C=ae(f[k]);p.push(C),C.src&&C.src===d&&E.push(C.src)}E.length&&!h.length?this.cache_.sources=p:h.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=d},h.handleTechrceset"})},h.tarted"))},h.handlr("play")},h.handleTechRechange")},h.handleTee",e))}))},h.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},h.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},h.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},h.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},h.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},h.handleTechrstplay")},h.handle("pause")},h.handle("ended")},h.handleTechDuratration"))},h.handlepause()))},h.handleTechDocreen()))},h.handActive())},h.handleTechTrActive()},h.handleTechctivity()},h.handleTecDefault()},h.handleSctivity()},h.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},h.documentFullscrcreen(d))},h.handleTechFullscrlscreen))},h.handleTechFullscerror",d)},h.togglePictureInPicpicture")},h.handleTechEnterPictureInPicture_=function(c){this.isInPictureInPicture(!0)},h.handleTechLeavePictureInPicture_=function(c){this.isInPictureInPicture(!1)},h.handle.error(c)},h.handleTec[1]:null)},h.getCache=function(){return this.cache_},h.rvolume:1}},h,h}}),!0)}, x(d),ds.play_()},h.play_=function(c){var d=this;if(this.playCallbacks_.push(c=void 0===c?Et:c),c=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!c)return this.wd.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(c||!Ge&&!Ue||this.load());null===(c=this.techGet_("play"))?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(c)},h.runPlayTerminc){c()}))},h.runPlay){d(c)}))},h.pause=function(){this.techCall_("pause")"paused")||vt(0,0)},hrubbing")},h.crentTime)},h.applinitTime)},change"))},h.rementTime()},h.remainingTntTime())},h.buffered=function(){var c;return(c=this.techGet_("buffered"))&&c.length?c:vt(0,0)},h.bufferation())},h.bufferedEnd=function(){var c=this.buffered(),d=this.duration();return d<(c=c.end(c.length-1))?d:cN(d)?1:dMuted",c)},h.deted")||!1},h.ltVolume=c},h.supportseen")||!1},h.isnClass_()},h.requestHelper_()},h.requestFullscrlWindow()},h.exitHelper_()},h.exitFullscrlWindow()},h.enterlWindow")},h.fullWindscreen())},h.exitlWindow")},h.disablePicturchanged")},h.isInPicturnPicture_},h.requestPicturPicture")},h.exitPicturPicture()},h.hankeys(c)))},h.handleHotkeys=function(c){var d=(p=this.options_.userActions?this.options_.userActions.hotkeys:{}).fullscreenKey,h=void 0===(h=p.muteKey)?function(c){return Jt.isEventKey(c,"m")}:h,p=void 0===(p=p.pla,"Space")}:p;(ey(c,"f")}:d).call(this,c)?(c.preventDefault(),c.stopPropagation(),d=ri.getComponent("FullscreenToggle"),!1!==document[this.fsApi_.fullscreenEnabled]&&d.prototype.handleClick.call(this,c)):h.call(this,c)?(c.preventDefault(),c.stopPropagation(),ri.getComponent("MuteToggle").prototype.handleClick.call(this,c)):p.call(this,c)&&(c.preventDefault(),c.stopPropagation(),ri.getComponent("PlayToggle").prototype.handleClick.call(this,c))},h.c}return""},h.selectSource=f0}))})),p}var d,h=this,p=this.options_.techtTech(c)]}ch.'d,tech:p}};return(a=this.options_.sourceOrder?rn d(h,c)})):t(p,c,a))||!1},h.handleSrc_=function(c,d){var h=this;if(void 0===c)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var p,f,E=Ji(c);E.length?(this.changingSrc_=!0,d||(this.cache_.sources=E),this.updateSourceCaches_(E[0]),Wi(this,E[0],(function(c,p){var f;return h.middleware_=p,d||(h.cache_.sources=E),h.updateSourceCaches_(c),h.src_(c)?1<E.length?h.handleSrc_(E.slice(1)):(h.changingSrc_=!1,h.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void h.triggerReady()):(f=h.tech_,void etTech(f)})))})),this.options_.retryOnError&&1<E.error",p)},this.onece(1),!0)}),this.one("playing",f),this.resetRetryOnError_=function(){h.off("error",p),h.off("playing",f)})):this.sMessage})})rc_(c,!),!0),!1)},h.load=function(){this.techCall_("load"et_()})))},erreset")},h.resetConumeBar_()},h.resetProgressBar_=function(){this.currentTime(0);var c=(d=this.controlBar||{}).durationDisplay,d=d.remainingTimeDisplay;c&&c.updateContent(),d&&d.updateContent()},h.resetPlaChange_()},h.resetechange")},h.currources||d},h.curource||{}},h.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},h.c.type||""},h.preload=function(c){return void 0!==c?(this.techCall_("setPreload",c),void(this.options_.preload=c)):this.techGet_("preload")},oplay",d)},h.psinline_("loop")change"))},h.handleTechPoschange"))},ners_()))},h.usingNatitrols")))},h.error=function(c){var d=this;if(void 0===c)return this.error_||null;if(a("beforeerror").forEach((function(h){T(h=h(d,c))&&!Array.isArray(h)||"string"==typeof h||"number"==typeof h||null===h?c=h:d.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&c&&4===c.c.error(c)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("ltart"],e)}))}if(null===c)return this.error_=c,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new bt(c),this.addClass("vjs-error"),x.error("(CODE:"+this.error_.code+" "+bt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),a("error"d.error_)}))},h.reportUserActivity=function(c){this.userActivity_=!0},h.active")}},h.listenForUserActivity_=function(){var c,d,h,p,f=Ve(this,this.reportUserAterval(c)};this.on("mal(f,250)})),this.on("meenY,f())})),this.on("mouseup",e),this.on("mouseleave",e),!(e=this.getChild("controlBar"))||Ue||U||(e.on("moTimeout=0})),e.on("motyTimeout}))),this.on("keydown",f),this.on("keyup",f),this.se1)}),c)))}),250)},h.plkRate",c)},h.defaultPlkRate"):1}udio_=!!c},h.enableAuechange")},h.disableAuechange")},h.audOnlyUI_()},h.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},h.disablePosechange")},h.audioModeUI_()},h.adck(c,d,h)},h.addRemotrack(c,d)},h.removeRemottTrack(d)},h.getVideoPlaybQuality")},h.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},h.vight()||0},change"))},hnguages_)}return c},h.c.open(),p},h.updateCurrentBp;break}}},h.removeCurrentBeClass(c)},h.bkpoints_)},h.c):void 0},h.currentBreakpoint=function(){return this.breakpoint_},h.currentBreakint_]||""},hready(d))},ter)}]),d},o.getTagSettings=function(c){var d,h={sources:[],tracks:[]},p=ae(c),f=p["data-setup"];if(ee(c,"vjs-fill")&&(p.fill=!0),ee(c,"vjs-fluid")&&(p.fluid=!0),null!turn[p,h]}(f||"{}"))[0],d=d[1],f&&x.error(f),b(p,d)),b(h,p),c.hasChildNodes())for(var E=c.childNodes,k=0,C=E.length;k<C;k++){var I=E[k],A=I.nodeName.toLowerCase();"source"===A?h.sources.push(ae(I)):"track"===A&&h.tracks.push(ae(I))}return h},h.flexNot c.stylebled_=!1)},h.plachange"))},o}(ri);qi.nameteName])}})),Ir.prototype.crossorigin=Ir.prototype.crossOrigin,Ir.players={},vi=window.navigator,Ir.prototype.options_={techOrder:vn.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:vi&&(vi.languages&&vi.languages[0]||vi.userLanguage||vi.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"hGet_(c)}})),oigger(c)}})),ri.registerComponent("Player",Ir)exports=n}));function Hn(c){return Or.hasOwnPh())return!1}},Ar=m((function(c){function r(d,h,p){return zn()?c.exports=r=Reflect.construct:ctotype),p},r.apply(null,arguments)}c.exports=r})),Pr="plugin",Lr="activePlugins_Lr][d]=!0},Dr=.dispose)}var c=i.prototype;returnr.VERSION},c.gece=this,c}=d?{}:d))},c.handleStateChanged=function(c){}(c,Or[c])},i.isBasic=function(c){return"function"==typeof(c="string"==typeof c?qn(c):c)&&!i.prototype.isPrototypeOf(c.prototype)},i.regin(c,d)),d},i.deregiotype[c])},i.]=h)})),d},i.getPluRSION||""},i}();Dr.getPlugin=qn,Dr.BASE_PLUGIN_NAME=Pr,Dr.registerPlugin(Pr,Dr),Ir.prototype.uis[Lr][c]},Ir.prototypern!!Hn(c)};valice(1):c};function ir(c,d,h){if(f=ir.getPlayer(c))return d&&x.warn('Player "'+c+'" is already initialised. Options will not be applied.'),h&&f.ready(h),f;var p="string"==typeof c?nt("#"+tr(c)):c;if(!K(p))throw new TypeError("The element or ID supplied is not valid. (videojs)");p.ownerDocument.defaultView&&p.ownerDocument.body.contains(p)||x.warn("The element supplied is not included in the DOM"),!0===(d=d||{}).restoreEl&&(d.restoreEl=(p.parentNode&&p.parentNode.hasAttribute("data-vjs-player")?p.parentNode:p).cloneNode(!0)),a("beforesetup").forEach((function(c){T(c=c(p,lt(d)))&&!Array.isArray(c)?d=lt(d,c):x.error("please return an object in beforesetup hooks")}));var f=new(ri.getComponent("Player"))(p,d,h);return a("setup"turneURL(c,d)}ir.hooks_=h,ir.hooksd){a(c,d)},ints)}})))},ir.removeHook=n,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&X()&&((Ur=nt(".vjs-styles-defaults"))||(Ur=xe("vjs-styles-defaults"),(vi=nt("head"))&&vi.insertBefore(Ur,vi.firstChild),Ae(Ur,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "))),Ce(1,ir),ir.VERSION=d,ir.options=Ir.prototype.options_,ir.r.players},ir.getPlayer=function(c){var d=Ir.players;if("string"==typeof c){var h=tr(c),p=d[h];if(p)return p;h=nt("#"+h)}else h=c;if(K(h)&&(c=h.player,h=h.playerId,c||d[h]))return c||d[h]},ir.get(Boolean)},ir.players=Ir.players,ir.getComponent=ri.getComponent,ir.registel(ri,c,d)},ir.getTech=vn.getTech,ir.registerTech=vn.registerT].push(d)},Object.defineProperty(ir,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ir.middleware,"TERMINATOR",{value:Tn,writeable:!1,enumerable:!0}),ir.browser=Ke,ir.TOUCH_ENABLED=Pe,ir.extend=function(c,d){void 0===d&&(d={}),Rr||(x.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),Rr=!rguments)},p={};for(h in"object"==typeof d?(d.constructor!==Object.prototype.constructor&&(n=d.constructor),p=d):"function"==typeo&&xr(c,d)}(n,c),c&&(n.super_=c),p)p.hasOwnProperty(h)&&(n.prototype[h]=p[h]);return n},ir.mergeOptions=lt,ir.bind=Ve,ir.registerPlugin=Dr.registerPlugin,ir.deregisterPlugin=Dr.deregisterPluginugin(c,d)},ir.getPlugins=Dr.getPlugins,ir.getPlugin=Dr.getPlugin,ir.getPluginVersion=Dr.getPluginVersion,ir.aguages[c]},ir.log=x,ir.createLogger=A,ir.createTimeRange=ir.createTimeRanges=vt,ir.formatTime=ln,ir.setn(c){Rn=c},ir.resetn(){Rn=on},ir.parseUrl=Rt,ir.isCrossOrigin=Ut,ir.EventTarget=ze,ir.on=Be,ir.one=He,ir.off=Fe,ir.trigger=je,ir.xhr=Fi,ir.TextTrack=ji,ir.AudioTrack=M,ir.VideoTrack=Se,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"guments)}})),ir.computedStyle=S,ir.dom=dt,ir.url=Oi,ir.defineLazyProperty=An,ir.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Nr=m((function(c,d){var h,p,f,E,k;h=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,p=/^([^\/?#]*)([^]*)$/,f=/(?:\/|^)\.(?=\/)/g,E=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,k={buildAbsoluteURL:function(c,d,h){if(h=h||{},c=c.trim(),!(d=d.trim())){if(!h.alwaysNormalize)return c;var f=k.parseURL(c);if(!f)throw new Error("Error trying to parse base URL.");return f.path=k.normalizePath(f.path),k.buildURLFromParts(f)}if(!(f=k.parseURL(d)))throw new Error("Error trying to parse relative URL.");if(f.scheme)return h.alwaysNormalize?(f.path=k.normalizePath(f.path),k.buildURLFromParts(f)):d;if(!(d=k.parseURL(c)))throw new Error("Error trying to parse base URL.");!d.netLoc&&d.path&&"/"!==d.path[0]&&(E=p.exec(d.path),d.netLoc=E[1],d.path=E[2]),d.netLoc&&!d.path&&(d.path="/");var E;c={scheme:d.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};return f.netLoc||(c.netLoc=d.netLoc,"/"!==f.path[0]&&(f.path?(E=(E=d.path).substring(0,E.lastIndexOf("/")+1)+f.path,c.path=k.normalizePath(E)):(c.path=d.path,f.params||(c.params=d.params,f.query||(c.query=d.query))))),null===c.path&&(c.path=h.alwaysNormalize?k.normalizePath(f.path):f.path),k.buildURLFromParts(c)|""}:null},nor.join("")},buildUR.fragment}},c.exports=k})),Mr="http://example.com",Ur=function(){function e(){this.listeners={}}var c=e.prototype;return c.on=function(c,d){this.listeners[c]||(this.listeners[c]=[]),this.listeners[c].push(d)},c.off=function(c,d){return!!this.listeners[c]&&(d=this.listeners[c].indexOf(d),this.listeners[c]=this.listeners[c].slice(0),this.listeners[c].splice(d,1),-1<d)},c.trigger=function(c){var d=this.listeners[c];if(d)if(2===arguments.length)for(var h=d.length,p=0;p<h;++p)d[p].call(this,arguments[1]);else for(var f=Array.prototype.slice.call(arguments,1),E=d.length,k=0;k<E;++k)d[k].apply(this,f)},c.dispose=function(){this.listeners={}},c.pipe=function(c){this.on("data",(function(d){c.push(d)}))},e}();function ur(c){var d=/([0-9.]*)?@?([0-9.]*)?/.exec(c||"");c={};return d[1]&&(c.length=parseInt(d[1],10)),d[2]&&(c.offset=parseInt(d-2)}))}function pr(c){c=(c=void 0===c?"":c).split(",");var d=[];return nknod+1)},e}(Ur),jr=String.fromCharCode(9),Hr=fpers=[],d}mt(e,c);var d=e.prototype;return d.push=function(c){var d,h,p=this;0!==(c=c.trim()).length&&("#"===c[0]?this.tagMappers.reduce((function(d,h){return(h=h(c))===c?d:d.concat([h])}),[c]lice(1)})})):this.trigger("data",{type:"uri",uri:c}))},dE}),!0}))},d.adh(c):c}))},e}(Ur),Vr=function(c){function e(){var d=c.call(this)||this;d.lineStream=new Fr,d.parseStream=new Hr,d.lineStream.pipe(d.parseStream);var h,p,f=ft(d),E=[],k={},C=!1,I={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},x=0;d.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var A=0,P=0;return degment=k)})),d.parseStream.on("data",(function(c){var d,O;({tag:function().version)},"alCache=!0)}+d.lengtndLiegments=E},key:function(){if(c.attributes)if("NONE"!==c.attributes.METHOD)if(c.attributes.URI){if("com.apple.streamingkeydelivery"===c.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:c.attributes});if("com.microsoft.playready"===c.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:c.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===c.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(c.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===c.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==c.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):c.attributes.KEYID&&"0x"===c.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:c.attributes.KEYFORMAT,keyId:c.attributes.KEYID.substrin;return h}(c.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));c.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),p={method:c.attributes.METHOD||"AES-128",uri:c.attributes.URI},void 0!==c.attributes.IV&&(p.iv=c.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else p=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media.number})},"discontinuity.number})},"playlayl(h.key=p)},"sibutes group"})},disE.length)},"program-imeObject},targanifese list"})},"cue-out":function(){k.cueOut=c.data},"cue-out-cont":function(){k.cueOutCont=c.dataIn=c.GMENTART"})}))},"serveis set"})},"pret #"+E})}},"rendition-report":function(){var d=dr(c.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(d);var h=this.manifest.renditionReports.length-1;d=["LAST-MSN","URI"];C&&d.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+h,c.attributes,d)},manifest)}}[c.tagType]||function(){}).ca,P=0,k={}},comment:function(]=c.data)}})[c.type].call(f)})),d}mt(e,c);var d=e.prototype;return d.warnOnMissingAn(", ")})},d.push=function(c){this.lineStream.pusher("end")},d.addParser=function(c){this.parseStream.addParser(c)},d.addTagMapper=function(c){this.parseStream.addTagMapper(c)},e}(Ur),qr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},$r=["video","audio","text"],Yr=["Video","Audio","Text"],Qr="mp4a.40.2",Jr=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Zr=/^application\/dash\+xml/i,ea=_r,ta=window.BigInt||Number,ia=[ta("0x1"),ta("0x100"),ta("0x10000"),ta("0x1000000"),ta("0x100000000"),ta("0x10000000000"),ta("0x1000000000000"),ta("0x100000000000000"),ta("0x1000000000eeze(c):c}var na=Br({HTML:"text/html",isHTML:function(c){return c===na.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),ra=Br({HTML:"http://www.w3.org/1999/xht==ra.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),;retureturn f}},freeze:Br,MIME_TYPE:na,NAMESPACE:ra},sa=aa.find,oa=aad]=!0),c}function zr(c){return c?(c=c?c.split(/[\t\n\f\r ]+/).filter(Wr):[],Object.keys(c.reduce(Gr,{}))):[]}function Xr(c,d){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(ructor=c)}var ua=(Ke={}).ELEMENT_NODE=1,Pa=Ke.ATTRIBUTE_NODE=2,Ja=Ke.TEXT_NODE=3,Za=Ke.CDATA_SECTION_NODE=4,es=Ke.ENTITY_REFERENCE_NODE=5,ts=(Ke.ENTITY_NODE=6,Ke.PROCESSING_INSTRUCTION_NODE=7),is=Ke.COMMENT_NODE=8,ns=Ke.DOCUMENT_NODE=9,rs=Ke.DOCUMENT_TYPE_NODE=10,as=Ke.DOCUMENT_FRAGMENT_NODE=11,ss=(M=(Ke.NOTATION_NODE=12,{}),{});M.INDEX_SIZE_ERR=(ss[1]="Index size error",1),M.DOMSTRING_SIZE_ERR=(ss[2]="DOMString size error",2);var os=M.HIERARCHY_REQUEST_ERR=(ss[3]="Hierarchy request error",3);M.WRONG_DOCUMENT_ERR=(ss[4]="Wrong document",4),M.INVALID_CHARACTER_ERR=(ss[5]="Invalid character",5),M.NO_DATA_ALLOWED_ERR=(ss[6]="No data allowed",6),M.NO_MODIFICATION_ALLOWED_ERR=(ss[7]="No modification allowed",7);var us,ms=M.NOT_FOUND_ERR=(ss[8]="Not": "+d),h}func._inc=h)}func)return h}function ma(c,d,h,p){p?d[fa(d,p)]=h:d[d.length++]=h,!c||(d=(h.ownerElement=c).ownerDocument)&&(p&&wa(d,c,p),d&&d._inc++,h.namespaceURI===oa.XMLNS&&(c._nsMap[h.prefix?h.localName:""]ent=null)}function ya(){}funcc),d}function ka(c){return c&&c.nodeType===va.DOCUMENT_TYPE_NODE}function Ca(c){return c&&c.nodeType===va.ELTEXT_NODE}function xa(c,d){var h=c.childNodes||[];if(!sa(h,Ca)&&!ka(d))return c=sa(h,ka),!(d&&c&&h.indexOf(c)>h.indexOf(d))}function Aa(c,d){var h=c.childNodes||[];if(!sa(h,(function(c){return Ca(c)&&c!==d})))return c=sa(h,ka),!(d&&c&&h.indexOf(c)>h.indexOf(d))}function La(c,d,h){var p=c.childNodes||[],f=d.childNodes||[];if(d.nodeType===va.DOCUMENT_FRAGMENT_NODE){var E=f.filter(Ca);if(1<E.length||sa(f,Ia))throw new la(os,"More than one element or text in fragment");if(1===E.length&&!xa(c,h))throw new la(os,"Element in fragment can not be inserted before doctype")}if(Ca(d)&&!xa(c,h))throw new la(os,"Only one element can be added and only after doctype");if(ka(d)){if(sa(p,ka))throw new la(os,"Only one doctype is allowed");if(d=sa(p,Ca),h&&p.indexOf(d)<p.indexOf(h))throw new la(os,"Doctype can only be inserted before an element");if(!h&&d)throw new la(os,"Doctype can not be appended since element is present")}}function Oa(c,d,h){var p=c.childNodes||[],f=d.childNodes||[];if(d.nodeType===va.DOCUMENT_FRAGMENT_NODE){var E=f.filter(Ca);if(1<E.length||sa(f,Ia))throw new la(os,"More than one element or text in fragment");if(1===E.length&&!Aa(c,h))throw new la(os,"Element in fragment can not be inserted before doctype")}if(Ca(d)&&!Aa(c,h))throw new la(os,"Only one element can be added and only after doctype");if(ka(d)c)&&c!==h})))throw new la(os,"Only one doctype is allowed");if(d=sa(p,Ca),h&&p.indexOf(d)<p.indexOf(h))throw new la(os,"Doctype can only be inserted before an element")}}function Da(c,d,h,p){if(function(c,d,h){if(!(p=c)||p.nodeType!==va.DOCUMENT_NODE&&p.nodeType!==va.DOCUMENT_FRAGMENT_NODE&&p.nodeType!==va.ELEMENT_NODE)throw new la(os,"Unexpected parent node type "+c.nodeType);var p;if(h&&h.parentNode!==c)throw new la(ms,"child not in parent");if(!(h=d)||!(Ca(h)||Ia(h)||ka(h)||h.nodeType===va.DOCUMENT_FRAGMENT_NODE||h.nodeType===va.COMMENT_NODE||h.nodeType===va.PROCESSING_INSTRUCTION_NODE)||ka(d)&&c.nodeType!==va.DOCUMENT_NODE)throw new la(os,"Unexpected node type "+d.nodeType+" for parent node type "+c.nodeType)}(c,d,h),c.nodeType===va.DOCUMENT_NODE&&(p||La)(c,d,h),(p=d.parentNode)&&p.removeChild(d),d.nodeType===as){var f=d.firstChild;if(null==f)return d;var E=d.lastChild}else f=E=d;for(p=h?h.previousSibling:c.lastChild,f.previousSibling=p,E.nextSibling=h,p?p.nextSibling=f:c.firstChild=f,null==h?c.lastChild=E:h.previousSibling=E;f.parentNode=c,f!==E&&(f=f.nextSibling););return Sa(c.ownerDocument||c,c),d.nodeType==as&&(d.firstChild=d.lastChild=null),d}function Ra(){this._nsMap={}}function Na(){}function Ma(){}function Ua(){}function Ba(){}function Fa(){}function ja(){}function Ha(){}function qa(){}function Va(){}function Wa(){}function Ga(){}funca),'"')}function Qa(c,d,h,p,f){if(f=f||[],p){if(!(c=p(c)))return;if("string"==typeof c)return void d.push(c)}switch(c.nodeType){case ua:var E=c.attributes,k=E.length,C=c.firstChild,I=c.tagName,x=I;if(!(h=oa.isHTML(c.namespaceURI)||h)&&!c.prefix&&c.namespaceURI){for(var A,P=0;P<E.length;P++)if("xmlns"===E.item(P).name){A=E.item(P).value;break}if(!A)for(var L=f.length-1;0<=L;L--)if(""===(O=f[L]).prefix&&O.namespace===c.namespaceURI){A=O.namespace;break}if(A!==c.namespaceURI){var O;for(L=f.length-1;0<=L;L--)if((O=f[L]).namespace===c.namespaceURI){O.prefix&&(x=O.prefix+":"+I);break}}}d.push("<",x);for(var D=0;D<k;D++)"xmlns"==(R=E.item(D)).prefix?f.push({prefix:R.localName,namespace:R.value}):"xmlns"==R.nodeName&&f.push({prefix:"",namespace:R.value});var R,N,M;for(D=0;D<k;D++)Ka(R=E.item(D),0,f)&&(Ya(d,(N=R.prefix||"")?"xmlns:"+N:"xmlns",M=R.namespaceURI),f.push({prefix:N,namespace:M})),Qa(R,d,h,p,f);if(I===x&&Ka(c,0,f)&&(Ya(d,(N=c.prefix||"")?"xmlns:"+N:"xmlns",M=c.namespaceURI),f.push({prefix:N,namespace:M})),C||h&&!/^(?:meta|link|img|br|hr|input)$/i.test(I)){if(d.push(">"),h&&/^script$/i.test(I))for(;C;)C.data?d.push(C.data):Qa(C,d,h,p,f.slice()),C=C.nextSibling;else for(;C;)Qa(C,d,h,p,f.slice()),C=C.nextSibling;d.push("</",x,">")}else d.push("/>");return;case ns:case as:for(C=c.firstChild;C;)Qa(C,d,h,p,f.slice()),C=C.nextSibling;return;case Pa:return Ya(d,c.name,c.value),0;case Ja:return d.push(c.data.replace(/[<&>]/g,_a));case Za:return d.push("<![CDATA[",c.data,"]]>");case is:return d.push("\x3c!--",c.data,"--\x3e");case rs:var U=c.publicId,B=c.systemId;return d.push("<!DOCTYPE ",c.name),void(U?(d.push(" PUBLIC ",U),B&&"."!=B&&d.push(" ",B),d.push(">")):B&&"."!=B?d.push(" SYSTEM ",B,">"):((B=c.internalSubset)&&d.push(" [",B,"]"),d.push(">")));case ts:return d.push("<?",c.target," ",c.data,"?>");case es:return d.push("&",c.nodeName,";");default:d.push("??",c.h){c[d]=h}M.NOT_SUPPORTED_ERR=(ss[9]="Not supported",9),M.INUSE_ATTRIBUTE_ERR=(ss[10]="Attribute in use",10),M.INVALID_STATE_ERR=(ss[11]="Invalid state",11),M.SYNTAX_ERR=(ss[12]="Syntax error",12),M.INVALID_MODIFICATION_ERR=(ss[13]="Invalid modification",13),M.NAMESPACE_ERR=(ss[14]="Invalid namespace",14),M.INVALID_ACCESS_ERR=(ss[15]="Invalid access",15),la.prototype=Error.prototype,Xr(M,la),da.prototype={len[c]||null.join("")},filter:function(c){return Array.prototype.filter.call(this,cl(this,c)}},ca.prot),this[c]},Kr(ca,da),pa.prototype={length:0,item:da.prototype.item,gereturn h}},seis,c,d),d},setNis,c,d),d},removthis,c),c},removeNthis,d),d},getNturn null}},ya.prototype={{return!0},creaild(d)),p},createDod=h||"",p}},va.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,inthis,c,d)},reeChild(d)},ra(this,c)},ae(c,null)},hasirstChild},cloneNode:function(c){return function e(c,d,h){var p=new d.constructor;for(var f in d){var E;!Object.prototype.hasOwnProperty.call(d,f)||"object"!=typeof(E=d[f])&&E!=p[f]&&(p[f]=E)}switch(d.childNodes&&(p.childNodes=new da),p.ownerDocument=c,p.nodeType){case ua:var k=d.attributes,C=p.attributes=new pa,I=k.length;C._ownerElement=p;for(var x=0;x<I;x++)p.setAttributeNode(e(c,k.item(x),!0));break;case Pa:h=!0}if(h)for(var A=d.firstChild;A;)p.appendChild(e(c,A,h)),A=A.nextSibling;return p}(this.ownerDocument||this,this,c)}e(),c=d)}},iture(c,d)},hases.length},loturn null},lookupNaturn null},isDefaulPrefix(c)}},Xr(Ke,va),Xr(Ke,va.prototype),Ta.prototype={nodeName:"#document",nodeType:ns,doctype:null,documentElement:null,_inc:1,in}return c},ra(this,c)},relement=c)},importNode:function(c,d){return function e(c,d,h){var p;switch(d.nodeType){case ua:(p=d.cloneNode(!1)).ownerDocument=c;case as:break;case Pa:h=!0}if((p=p||d.cloneNode(!1)).ownerDocument=c,p.parentNode=null,h)for(var f=d.firstChild;f;)p.appendChild(e(c,f,h)),f=f.nextSibling;return p}(this,c,d)},getEh,!0})),d},getElementsB)})),p}))},creElement=d},createDocume=new da,c},createTextNode:function(c){var d=new Ua;return d.ownerDocument=this,d.appendData(c),d},createComment:function(c){var d=new Ba;return d.ownerDocument=this,d.appendData(c),d},createCDData(c),d},createProcessingI.data=d,h},creatfied=!0,d},createEntiteName=c,d},creatElement=h},createAlName=d,h}},Kr(Ta,va),Ta.prototype.getElementsByTagName=(Ra.prototype={nodeType:ua,hateNode(c)},gevalue||""},getAttributeNode:function(c){return this.attributes.getNamedItem(c)},setAttribute:function(c,d){(c=this.ownerDocument.createAttribute(c)).value=c.nodeValue=""+d,this.setAttributeNode(c)},removeAttribute:function(c){(c=this.getAttributeNode(c))&&this.removeAttributeNode(c)},appendChild:function(c){return c.nodeType===as?this.insertBefore(c,null):(d=this,c.parentNode&&c.parentNode.removeChild(c),c.parentNode=d,c.previousSibling=d.lastChild,c.nextSibling=null,c.previousSibling?c.previousSibling.nextSibling=c:d.firstChild=c,d.lastChild=c,Sa(d.ownerDocument,d,c),c);var d},setAttributeNode:function(c){return this.attributes.setNamedItem(c)},setAttriItemNS(c)},removeAttnodeName)},removeAteNode(d)},hasAdeNS(c,d)},getAvalue||""},setAttributeNS:function(c,d,h){(d=this.ownerDocument.createAttributeNS(c,d)).value=d.nodeValue=""+h,this.setAttributeNode(d)},getAttriemNS(c,d)},getElement)})),h}))},getElementsB)})),p}))}}).getElementsByTagName,Ta.prototype.getElementsByTagNameNS=Ra.prototype.getElementsByTagNameNS,Kr(Ra,va),Na.prototype.nodeType=Pa,Kr(Na,va),Ma.prototype={data:"",subng(c,c+d)},=c.length},ta(c,0,d)},ar(ss[os])},a(c,d,"")},replaceData:function(c,d,h){var p=this.data.substring(0,c);d=this.data.substring(c+d);this.nodeValue=this.data=h=p+h+d,this.length=h.length}},Kr(Ma,va),Ua.prototype={nodeName:"#text",nodeType:Jaibling),d}},Kr(Ua,Ma),Ba.prototype={nodeName:"#comment",nodeType:is},Kr(Ba,Ma),Fa.prototype={nodeName:"#cdata-section",nodeType:Za},Kr(Fa,Ma),ja.prototype.nodeType=rs,Kr(ja,va),Ha.prototype.nodeType=12,Kr(Ha,va),qa.prototype.nodeType=6,Kr(qa,va),Va.prototype.nodeType=es,Kr(Va,va),Wa.prototype.nodeName="#document-fragment",Wa.prototype.nodeType=as,Kr(Wa,va),Ga.prototype.nodeType=ts,Kr(Ga,va),za.prototype.serialill(c,d,h)},va.prototype.toString=Xa;try{Object.defineProodeValue}},Object.defineProperty(ca.prototype,"le.$$length}}),Object.defineProperty(va.prototype,"textCon us(eValu"$$"+d]=h})}catch(c){}Se={DocumentType:ja,DOMException:la,DOMImplementation:ya,Element:Ra,Node:va,NodeList:da,XMLSerializer:za}ll:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),d.entityMap=d.HTML_ENTITIES}));gs.XML_ENTITIES,gs.HTML_ENTITIES,gs.entityMap;var ys=aace(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),new RegExp("^"+Oi.source+Ur.source+"*(?::"+Oi.source+Ur.source+"*)?$"));function ls(c,d){this.message=c,this.locator=d,Error.captureStackTrace&&Error.captureStackTrace(this,ls)}function ds(){}function cs(c,d){return d.lineNumber=c.lineNumber,d.columnNumber=c.columnNumber,d}function hs(c,d,h){for(var p=c.tagName,f=null,E=c.length;E--;){var k=c[E],C=k.qName,I=k.value;C=0<(A=C.indexOf(":"))?(x=k.prefix=C.slice(0,A),P=C.slice(A+1),"xmlns"===x&&P):(x=null,"xmlns"===(P=C)&&"");k.localName=P,!1!==C&&(null==f&&(f={},ps(h,h={})),h[C]=f[C]=I,k.uri=ys.XMLNS,d.startPrefixMapping(C,I))}var x;for(E=c.length;E--;)(x=(k=c[E]).prefix)&&("xml"===x&&(k.uri=ys.XML),"xalName=p.slice(A+1)):(x=null,c.localName=p),L=c.uri=h[x||""];if(d.startElement(L,P,p,c),!c.closed)return c.currentNSMap=h,c.localNSMap=f,1;if(d.endElement(L,P,p),f)for(x in f)Object(d-=65536,String.fromCharCode(55296+(d>>10),56320+(1023&d))):String.fromCharCode(d):(f.error("entity not found:"+c),c)}function t(d){var h;P<d&&(h=c.substring(P,d).replace(/&#?\w+;/g,s),I&&o(P),p.characters(h,0,d-P),P=d)}function o(d,h){for(;k<=d&&(h=C.exec(c));)E=h.index,k=E+h[0].length,I.lineNumber++;I.columnNumber=d-E+1}for(var E=0,k=0,C=/.*(?:\r\n?|\n)|.*$/g,I=p.locator,x=[{currentNSMap:d}],A={},P=0;;){try{var L,O,D=c.indexOf("<",P);if(D<0)return c.substr(P).match(/^\s*$/)||(O=(L=p.doc).createTextNode(c.substr(P)),L.appendChild(O),p.currentElement=O);switch(P<D&&t(D),c.charAt(D+1)){case"/":var R=c.indexOf(">",D+3),N=c.substring(D+2,R).replace(/[ \t\n\r]+$/g,""),M=x.pop();R<0?(N=c.substring(D+2).replace(/[\s<].*/,""),f.error("end tag name: "+N+" is not complete:"+M.tagName),R=D+1+N.length):N.match(/\s</)&&(N=N.replace(/[\s<].*/,""),f.error("end tag name: "+N+" maybe not complete"),R=D+1+N.length);var U=M.localNSMap,B=M.tagName==N;if(B||M.tagName&&M.tagName.toLowerCase()==N.toLowerCase()){if(p.endElement(M.uri,M.localName,N),U)for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&p.endPrefixMapping(F);B||f.fatalError("end tag name: "+N+" is not match the current start tagName:"+M.tagName)}else x.push(M);R++;break;case"?":I&&o(D),R=function(c,d,h){var p=c.indexOf("?>",d);return p&&(d=c.substring(d,p).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(d[0].length,h.processingInstruction(d[1],d[2]),p+2):-1}(c,Df?(h.comment(c,d+4,f-d-4),f+3):(p.error("Unclosed comment"),-1)}if("CDATA["==c.substr(d+3,6))return f=c.indexOf("]]>",d+9),h.startCDATA(),h.characters(c,d+9,f-d-9),h.endCDATA(),f+3;var E=function(c,d){var h,p=[],f=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(f.lastIndex=d,f.exec(c);h=f.exec(c);)if(p.push(h),h[1])return p}(c,d);retu)),p=E[p-1],h.startDTD(f,c,d),h.endDTD(),p.index+p[0].length):-1}(c,D,p,f);break;default:I&&o(D);var j=new fs,H=x[x.length-1].currentNSMap,V=(R=function(c,d,h,p,f,E){function s(c,d,p){h.attributeNames.hasOwnProperty(c)&&E.fatalError("Attribute "+c+" redefined"),h.addValue(c,d.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,f),p)}for(var k,C=++d,I=0;;){var x=c.charAt(C);switch(x){case"=":if(1===I)k=c.slice(d,C),I=3;else{if(2!==I)throw new Error("attribute equal must after attrName");I=3}break;case"'":case'"':if(3===I||1===I){if(1===I&&(E.warning('attribute value must after "="'),k=c.slice(d,C)),d=C+1,!(0<(C=c.indexOf(x,d))))throw new Error("attribute value no end '"+x+"' match");s(k,A=c.slice(d,C),d-1),I=5}else{if(4!=I)throw new Error('attribute value must after "="');s(k,A=c.slice(d,C),d),E.warning('attribute "'+k+'" missed start quot('+x+")!!"),d=C+1,I=5}break;case"/":switch(I){case 0:h.setTagName(c.slice(d,C));case 5:case 6:case 7:I=7,h.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return E.error("unexpected end of input"),0==I&&h.setTagName(c.slice(d,C)),C;case">":switch(I){case 0:h.setTagName(c.slice(d,C));case 5:case 6:case 7:break;case 4:case 1:"/"===(A=c.slice(d,C)).slice(-1)&&(h.closed=!0,A=A.slice(0,-1));case 2:2===I&&(A=k),4==I?(E.warning('attribute "'+A+'" missed quot(")!'),s(k,A,d)):(ys.isHTML(p[""])&&A.match(/^(?:disabled|checked|selected)$/i)||E.warning('attribute "'+A+'" missed value!! "'+A+'" instead!!'),s(A,A,d));break;case 3:throw new Error("attribute value missed!!")}return C;case"":x=" ";default:if(x<=" ")switch(I){case 0:h.setTagName(c.slice(d,C)),I=6;break;case 1:k=c.slice(d,C),I=2;break;case 4:var A=c.slice(d,C);E.warning('attribute "'+A+'" missed quot(")!!'),s(k,A,d);case 5:I=6}else switch(I){case 2:h.tagName,ys.isHTML(p[""])&&k.match(/^(?:disabled|checked|se'attribute space is required"'+k+'"!!');case 6:I=1,d=C;break;case 3:I=4,d=C;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}C++}}(c,D,j,H,s,f),j.length);if(!j.closed&&function(c,d,h,p){var f=p[h];return null==f&&((f=c.lastIndexOf("</"+h+">"))<d&&(f=c.lastIndexOf("</"+h)),p[h]=f),f<d}(c,R,j.tagName,A)&&(j.closed=!0,h.nbsp||f.warning("unclosed xml attribute")),I&&V){for(var q=cs(I,{}),we=0;we<V;we++){var Se=j[we];o(Se.offset),Se.locator=cs(I,{})}p.locator=q,hs(j,p,H)&&x.push(j),p.locator=I}else hs(j,p,H)&&x.push(j);ys.isHTML(j.uri)&&!j.closed?R=function(c,d,h,p,f){if(/^(?:script|textarea)$/i.test(h)){var E=c.indexOf("</"+h+">",d);c=c.s;/g,p)),f.max(D,P)+1)}}(c,d,h,p,this.errorHandler),p.endDocument()}},fs.prototype={setTagName:function(c){if(!vs.test(c))throw new Error("invalid tagName:"+c);this.tagName=c},addValue:function(c,d,h){if(!vs.ttribute:"+c);this.attributeNames[c]=this.length,this[this.length++]={qName:c,value:d,offset:h}},length:0,g]})),c}),{})}function xs(c){return Object.keys(c).map((function(d){return c[d]}))}function As(c){return c.reduce((function(c,d){return c.concat(d)}),[])}function Ps(c){if(!c.length)return[];for(var d=[],h=0;h<c.length;h++)d.push(c[h]);return d}function Ls(c,d){for(var h=0;h<c.length;h++)if(d(c[h]))return h;return-1}function Os(c){var d=c.baseUrl,h=void 0===(p=c.source)?"":p,p=void 0===(p=c.range)?"":p;c=void 0===(c=c.indexRange)?"":c,h={uri:h,resolvedUri:nr((void 0===d?"":d)||"",h)};return(p||c)&&(p=(p||c).split("-"),c=window.BigInt?window.BigInt(p[0]):parseInt(p[0],10),p=window.BigInt?window.BigInt(p[1]):paint"==typeof(p="bigint"==typeof(p=p<Number.MAX_SAFE_INTEGER&&"bigint"==typeof p?Number(p):p)||"bigint"==typeof c?p<Number.MAX_SAFE_INTEGER&&(p=Numbeation,f=c.timescale,E=void 0===f?1:f,k=c.periodDuration,C=c.sourceDuration;c=functentationTime,C=void 0===(I=c.number)?0:I,I=c.duration;if(!d)throw new Error(ko);return h=Os({baseUrl:d,source:h.sourceURL,range:h.range}),(f=Os({baseUrl:d,)).length&&(f.duration=c[0].duration,f.timeline=c[0].timeline):p&&(f.duration=p,f.timeline=E),f.presentationTime=k||E,f.number=C,[f]}function Ms(c,d,h){for(var p=c.sidx.map||null,f=c.sidx.duration,E=c.timeline||0,k=(k=c.sidx.byterange).offset+k.length,C=d.timescale,I=d.references.filter((function(c){return 1!==c.referenceType})),x=[],A=c.endList?"static":"dynamic",P=c.sidx.timeline,L=P,O=c.mediaSequence||0,D="bigint"==typeof d.firstOffset?window.BigInt(k)+d.firstOffset:k+d.firstOffset,R=0;R<I.length;R++){var N=(U=d.references[R]).referencedSize,M=Undow.BigInt(1):D+N-1),type:A})[0];p&&(U.igInt(N):N,L){return h.forEach((function(h){c[d(h)]=h})),c}),{})).sort((function(c,d){return c.timeline>r d,h,p=[];return d=c,h=function(c,d,h,f){p=p.concat(c.playlists||[])},Ao.forEach((function(c){for(var p in d.mediaGroups[c])for(var f in d.mediaGroups[c][p]){var E=d.mediaGroups[c][p][f];h(E)}})),p}function Fs(c){var d=c.playlist;c=c.mediaSequence&&(d.segmennttart:d.attributes.periodStart,timeline:d.attributes.periodStart}),c}),{})).map((function(c){var d;return c.discontinuityStarts=(d=c.segments||[],"discontinuity",d.reduce((function(c,d,h){return d.discontinuity&&c.push(h),c}),[])),c}))}function Vs(c,d){var h=Hs(c.sidx);return(h=h&&d[h]&&d[h].sidx)&&Ms(c,h,c.sidx.resolvedUri),c}function Gs(c){var d=c.attributes,h=c.segments,p=c.sidx,f=c.discontinuityStarts;h={attributes:((c={NAME:d.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:d.width,height:d.height},CODECS:d.codecs,BANDWIDTH:d.bandwidth})["PROGRAM-ID"]=1,c),uri:"",endList:"static"===d.type,timeline:d.periodStart,resolvedUri:"",targetDuration:d,p&&(h.sidx=p),h}function zs(c){return"video/mimeType||"video"===c.contentType}function Xs(c){return"audio/mp4"===(c=c.attributes).mimeType||"audio/webm"===c.mimeType||"audio"===c.contentType}function Ks(c){return"text/vtt"===(c=c.attributes).mimeType||"text"===c.contentType}function Ys(c){return c?Object.keys(c).reduce((function(d,h){return h=c[h],d.concat(hlaylists,h=c.locations,p=void 0===(A=c.sidxMapping)?{}:A,f=c.previousManifest;if(!d.length)return{};var E=(P=d[0].attributes).sourceDuration,k=P.type,C=P.suggestedPresentationDelay,I=P.mirn c.attributes.captionServices})).filter(Boolean));E={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((d={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},d.SUBTITLES={},d),uri:"",duration:E,playlists:function(c,d){if(void 0===d&&(d={}),!Object.keys(d).length)return c;for(var h in c)c[h]=Vs(c[h],d);return c}(x,p)};0<=I&&(E.minimumUpdatePeriod=1e3*I),h&&(E.locations=h),"dynamic"===k&&(E.suggestedPresentationDelay=C);var L,O;C=0===E.playlists.length,C=A.length?function(c,d,h){var p;return void 0===d&&(d={}),void 0===h&&(h=!1),c=c.reduce((function(c,f){var E=f.attributes.role&&f.attributes.role.value||"",k=f.attributes.lang||"",C=f.attributes.label||"main";c[C=k&&!f.attributes.label?f.attributes.lang+(E?" ("+E+")":""):C]||(c[C]={language:k,autoselect:!0,default:"main"===E,playlists:[],uri:""});var I,x,A,P,L,O,D=Vs((x=h,A=(I=f).attributes,D=I.segments,P=I.sidx,L=I.mediaSequence,O=I.discontinuitySequence,k=I.discontinuityStarts,D={attributes:((I={NAME:A.id,BANDWIDTH:A.bandwidth,CODECS:A.codecs})["PROGRAM-ID"]=1,I),uri:"",endList:"static"===A.type,timeline:A.periodStart,resolvedUri:"",targetDuration:A.duration,discontinuitySequence:O,discontinuityStarts:k,timelineStarts:A.timelineStarts,mediaSequence:L,segments:D},A.contentProtection&&(D.contentProtection=A.contentProtection),P&&(D.sidx=P),x&&(D.attributes.AUDIO="audio",D.attributes.SUBTITLES="subs"),D),d);return c[C].playlists.push(D),void 0===p&&"main"===E&&((p=f).default=!0),c}),{}),p||(c[Object.keys(c)[0]].default=!0),c}(A,p,C):null,p=c.length?(void 0===(L=p)&&(L={}),c.reduce((function(c,d){var h=d.attributes.lang||"text";return c[h]||(c[h]={language:h,default:!1,autoselect:!1,playlists:[],uri:""}),c[h].playlists.push(Vs(function(c){var d=c.attributes,h=c.segments,p=c.mediaSequence,f=c.discontinuityStarts,E=c.discontinuitySequence;return void 0===h&&(h=[{uri:d.baseUrl,timeline:d.periodStart,resolvedUri:d.baseUrl||"",duration:d.sourceDuration,number:0}],d.duration=d.sourceDuration),(c={NAME:d.id,BANDWIDTH:d.bandwidth})[.codecs),{attributes:c,uri:"",endList:"static"===d.type,timelients:h}}(d),L)),c}),{})):null,x=(c=x.concat(Ys(C),Ys(p))).map((function(c){return c.timelineStarts}));return E.timelineStarts=UsS"].cc=P.reduce((function(c,d){return d&&d.forEach((function(d){var h=d.channel,p=d.language;c[p]={autoselect:!1,default:!1,instreamId:h,language:p},d.hasOwnProperty("aspectRatio")&&(c[p].aspectRatio=d.aspectRatio),d.hasOwnProperty("easyReader")&&(c[p].easyReader=d.easyReader),d.hasOwnProperty("3D")&&(c[p]["3oid((!p.segments.length&&c.timeline>p.timeline||p.segments.length&&c.timeline>p.segments[p.segments.length-1].timeline)&&c.discontinuitySequence--);p.segments[E].discontinuity&&!f.discontinuity&&(f.discontinuity=!0,c.discontinuityStarts.unshift(0),c.discontinuitySequence--),Fs({playlist:c,mediaSequence:p.segments[E].number})}})),f}({oldManifest:f,newManifest:E}):E}function $s(c,d){for(var h,p,f,E,k,C,I=c.type,x=c.minimumUpdatePeriod,A=void 0===x?0:x,P=void 0===(x=c.media)?"":x,L=c.sourceDuration,O=void 0===(x=c.timescale)?1:x,D=void 0===(x=c.startNumber)?1:x,R=c.periodStart,N=[],M=-1,U=0;U<d.length;U++){var B=d[U],F=B.d,j=B.r||0,H=B.t||0;M<0&&(M=H),H&&M<H&&(M=H);var V,q;q=j<0?(V=U+1)===d.length?"dynamic"===I&&0<A&&0<P.indexOf("$Number$")?(h=M,p=F,B=void 0,f=(H=c)1;for(var we=D+N.length+q,Se=D+N.length;Se<we;)N.push({number:Se,duration:F/O,time:M,timeline:R}),M+=F,Se++}return N}function Js(c,d){return c.replace(Po,(h=d,function(c,d,p,f){return"$$"===c?"$":void 0===h[d]?c:(c=""+h[d],"RepresentationID"===d||(f=p?parseInt(f,10):1)<=c.length?c:new Array(f-c.length+1).join("0")+c)}));var h}function Zs(c,d){var h={RepresentationID:c.id,Bandwidth:c.bandwidth||0},p=void 0===(p=c.initialization)?{sourceURL:"",range:""}:p,f=Os({baseUrl:c.baseUrl,source:Js(p.sourceURL,h),range:p.range});return(p=d,(d=c).duration||p?d.duration?Rs(d):$s(d,p):[{number:d.startNumber||1,duration:d.sourceDuration,time:0,timeline:d.periodStart}]).map((function(d){h.Number=d.number,h.Time=d.time;var p=Js(c.media||"",h),E=c.timescale||1,k=c.presentationTimeOffset||0;E=c.periodStart+(d.time-k)/E;return{uri:p,timeline:d.timeline,duration:d.duration,resolvedUri:nr(c.baseUrl||"",p),map:f,number:d.number,presentationTime:E}}))}function eo(c,d){var h=c.duration,p=void 0===(p=c.segmentUrls)?[]:p,f=c.periodStart;if(!h&&!d||h&&d)throw new Error(Co);var E,k=p.map((function(d){return p=d,d=(h=c).baseUrl,h=Os({baseUrl:d,source:(h=void 0===(h=h.initialization)?{}:h).sourceURL({baseUrl:d,source:p.media,range:p.mediaRange})).map=h,p;var h,p}));return h&&(E=Rs(c)),(E=d?$s(c,d):E).map((function(d,h){if(k[h]){var p=k[h],E=c.timescale||1;h=c.presentationTimeOffset||0;return p.timeline=d.timeline,p.duration=d.duration,p.number=d.number,p.presentationTime=f+(d.time-h)/E,p}})).filter((function(c){returfo;p.template?(E=Zs,d=Is(h,p.template)):p.base?(E=Ns,d=Is(h,p.base)):p.list&&(E=eo,d=Is(h,p.list)oid 0===E?1:E)):c.length?d.duration=c.reduce((function(c,d){return Math.max(c,Math.ceil(d.duration))}),0):d.duration=0,f.attributes=d,f.segments=c,p.base&&d.indexRange&&(f.sidx=c[0],f.segments=[]),f}function io(c,d){return Ps(c.childNodes).filter((function(c){return c.tagName===d}))}function no(c){return c.textContseFloat(p||0)+3600*parseFloat(c||0)+60*parseFloat(f||0)+parseFloat(E||0)}function ao(c){return c&&c.{var h=Lo[d.name]||Lo.DEFAULT;return c[d.name]=h(d.value),c}),{}):{}}function so(c,d){return d.length?As(c.map((function(c){return d.map((function(d){return nr(c,no(d))}))}))):c}function oo(c){var d=io(c,"SegmentTemplate")[0],h=io(c,"SegmentList")[0],p=h&&io(h,"SegmentURL").map((function(c){return Is({tag:"SegmentURL"},ao(c))})),f=io(c,"SegmentBase")[0],E=(c=(E=h||d)&&io(E,"SegmentTimeline")[0],(E=h|0]);(d=d&&ao(d))&&E?d.initialization=E&&ao(E):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var k={template:d,segmentTimeline:c&&io(c,"S").map(ao),list:h&&Is(ao(h),{segmentUrls:p,initialization:ao(E)}),base:f&&Is(ao(f),{initialization:=so(d,io(p,"BaseURL")),k={role:ao(k=io(p,"Role")[0])};f=Is(c,f,k),k="urn:scte:dash:cc:cea-608:2015"===(k=ao(k=io(p,"Accessibility")[0])).schemeIdUri?("string"!=typeof k.value?[]:k.value.split(";")).map((function(c){var d,h,p;return/^CC\d=/.test(p=c)?(h=(d=c.split("="))[0],p=d[1]):/^CC\d$/.test(c)&&(h=c),{channel:h,language:p}})):"urn:scte:dash:cc:cea-708:2015"===k.schemeIdUri?("string"!=typeof k.value?[]:k.value.split(";")).map((function(c){var d,h,p={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(c)?(d=(h=c.split("="))[0],h=void 0===(h=h[1])?"":h,p.channel=d,p.language=c,h.split(",").forEach((function(c){c=(d=c.split(":"))[0];var d=d[1];"lang"===c?p.language=d:"er"===c?p.easyReader=Number(d):"war"===c?p.aspectRatio=Number(d):"3D"===c&&(p["3D"]=Number(d))}))):p.language=c,p.channel&&(p.channel="SERVICE"+p.channel),p})):void 0;k&&(f=Is(f,{captionServices:k})),(k=io(p,"Label")[0])&&k.childNodes.length&&(f=Is(f,{label:C=k.childNodes[0].nodeValue.trim()}));var C=io(p,"ContentProtection").reduce((function(c,d){var h=ao(d);h.schemeIdUri&&(h.schemeIdUri=h.schemeIdUri.toLowerCase());var p=Oo[h.schemeIdUri];return p&&(c[p]={attributes:h},(d=io(d,"cenc:pssh")[0])&&(d=no(d),c[p].pssh=d&&function(c){for(var d=window.atob?window.atob(c):Buffer.from(c,"base64")=d.charturn{segmentInfo:Is(A,p),attributes:Is(h,{baseUrl:c})}}))})))}}function co(c){if(""===c)throw new Error(So);var d,h,p=new po;try{h=(d=p.parseFromString(c,"application/xml"))&&"MPD"===d.documentElement.tagName?d.documentElement:null}catch(c){}if(!h||h&&0<h.getElementsByTagName("parsererror").length)throw new Error(Eo);return h}function ho(c,d){void 0===d&&(d={});var h=function(c,d){var h=d=void 0===d?{}:d,p=void 0===(E=h.manifestUri)?"":E,f=(d=void 0===(f=h.NOW)?Date.now():f,void 0===(E=h.clientOffset)?0:E);if(!(h=io(c,"Period")).length)throw new Error(wo);var E=io(c,"Location"),k=ao(c);c=so([p],io(c,"BaseURL")),k.type=k.type||"static",k.sourceDuration=k.mediaPresentationDuration||0,k.NOW=d,k.clientOffset=f,E.length&&(k.locations=E.map(no));var C,I,x=[];return h.forEach((function(c,d){var h,p=ao(c),f=x[d-1];p.start=(d=(h={attributes:p,priorPeriodAttributes:f?f.attributes:null,mpdType:k.type}).attributes,f=h.priorPeriodAttributes,h=h.mpdType,"number"==typeof d.start?d.start:f&&"number"==typeof f.start&&"number"==typeof f.duration?f.start+f.duration:f||"static"!==h?null:0),x.push({node:c,attributes:p})})),{locations:k.locations,representationInfo:As(x.map((C=k,I=c,function(c,d){var h=so(I,io(c.node,"BaseURL")),p=Is(C,{periodStart:c.attributes.start});"number"==typeof c.attributes.duration&&(p.periodDuration=c.attributes.duration);var f=io(c.node,"AdaptationSet");return c=oo(c.node),As(f.map(uo(p,h,c)))})))}}(co(c),d);return Qs({dashPlaylists:c=h.represerray(p)?p.map(mo):[mo(p)],c=br(c);var f=[];if(!d.length)return )>>>0,C=c.subarray(E+4,E+8);if(0==k)break;var I=E+k;if(I>c.length){if(h)break;I=c.length}k=c.subarray(E+8,I),Sr(C,d[0])&&(1===d.length?f.push(k):f.push.apply(f,go(k,d.slice(1),h))),E=I}return f}function yo(c,d,h,p){void 0===h&&(h=!0),void 0===p&&(p=!1);var f=function(c){.subarray(d,d+f);return h&&((E=Array.prototype.slice.call(c,d,d+f))[0]^=Uo[f-1]),{length:f,value:function(c,d){d=void 0!==(d=(h=void 0===d?{}:d).signed)&&d;var h,p=void 0!==(h=h.le)&&h;return h=((c=br(c))[h=p?"reduce":"reduceRight"]||Array.prototype[h]).call(c,(function(d,h,f){return f=p?f:Math.abs(f+1-c.length),d+ta(h)*ia[f]}),ta(0)),!d||(d=ia[c.length]/ta(2)-ta(1))<(h=ta(h))&&(h-=d,h-=d,h-=ta(2)),Number(h)}(E,{signed:p}),bytes:E}}function vo(c){return"string"==typeof c?c.match(/.{1,2}/g).map(vo):"number"==typeof c?function(c,d){for(vant8Array(new ArrayBuffer(p)),E=0;E<p;E++){var k=h?E:Math.abs(E+1-f.length);f[k]=Number(c/ia[E]&ta(255)),c<0&&(f[k]=Math.abs(~f[k]),f[k]-=0===E?1:2)}return f}(c):c}function _o(c,d,h){if(h>=d.length)return d.length;var p=yo(d,h,!1);if(Sr(c.bytes,p.bytes))return h;var f=yo(d,h+p.length);return _o(c,d,h+f.length+f.value+p.length)}function bo(c,d){var h;h=d,d=Array.isArray(h)?h.map(vo):[vo(h)],c=br(c);var p=[];if(!d.length)return p;for(var f=0;f<c.length;){var E=yo(c,f,!1),k=yo(c,f+E.length),C=f+E.length+k.length;127===k.value&&(k.value=_o(E,c,C),k.value!==c.length&&(k.value-=C));var I=C+k.value>c.length?c.length:C+k(k<p||f);){var C=void 0;if(Sr(c.subarray(E),Bo)?C=4:Sr(c.subarray(E),Fo)&&(C=3),C){if(k++,f)return function(c){for(var d=[],h=1;h<c.length-2;)Sr(c.subarray(h,h+3),jo)&&(d.push(h+2),h++),h++;if(0===d.length)return c;var p=c.length-d.length,f=new Uint8Array(p),E=0;for(h=0;h<p;E++,h++)E===d[0]&&(E++,d.shift()),f[h]=c[E];return f}(c.subarray(f,E));var I=void 0;"h264"===d?I=31&c[E+C]:"h265"===d&&(I=c[E+C]>>1&63),-1!==h.indexOf(I)&&(f=E+C),E+=C+("h264"===d?1:2)}else E++}return c.subarray(0,0)}bs.prototype.parseFromString=function(c,d){var h=thi=h.domBuiltLocator(k),p.errorHandler=function(c,d,h){if(!c){if(d instanceof Ts)return d;c=d}var p={},f=c instanceof Function;function t(d){var E=c[d];!E&&f&&(E=2==c.length?function(h){c(d,h)}:c),p[d]=E?function(c){E("[xmldom "+d+"]\t"+c+function(c){if(c)return"\n@"+(c.systemId||"")+"#[line:"+c.lineNumbuilder=h.domBtElement:fucurrentElement=E,thhis.locator,E);for(var C=0;C<k;C++){c=p.getURI(C);varue=x.nodeValue=I,E.s}},endElemes.locator,d),ks(this,d)},ignorableWhitespace:function(c,d,h){},characters:function(c,d,h){vathis.doc.createCDATASection(c):this.doc.createTextNode(c),this.currentElement?this.currentElement.appendChild(p):/^\s*$/.test(c)&&this.doc.appendChild(p),this.locator&&ws(this.locator,p))},skippedEntity:fuuments),c=this.doc.createComment(c),this.locator&&ws(ction(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(c,d,h){var p=this.doc.implementation;p&&p.createDocumentType&&(h=p.createDocumentType(c,d,h),this.lo=h)},warning:function(c){},error:function(c){},fatalError:function(c){throw new Ws(c,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(c){Ts.prototype[c]=function(){return null}}));var po={__DOMHandler:Ts,normalizeLineEndings:_s,DOMParser:bs}.DOMParser,wo="INVALID_NUMBER_OF_PERIOD",So="DASH_EMPTY_MANIFEST",Eo="DASH_INVALID_XML",ko="NO_BASE_URL",Co="SEGMENT_TIME_UNSPECIFIED",Io="UNSUPPORTED_UTC_TIMING_SCHEME",xo={static:function(c){var d=c.duration,h=void 0===(f=c.timescale)?1:f,p=c.sourceDuration,f=c.periodDuration;h=d/h;return"number"==typeof(c=Ds(c.endNumber))?{start:0,end:c}:"number"==typeof f?{start:0,end:f/h}:{start:0,end:p/h}},dynamic:function(c){var d=c.NOW,h=c.clientOffset,p=c.availabilityStartTime,f=void 0===(I=c.timescale)?1:I,E=c.duration,k=void 0===(C=c.periodStart)?0:C,C=void 0===(I=c.minimumUpdatePeriod)?0:I,I=void 0===(I=c.timeShiftBufferDepth)?1/0:I;c=Ds(c.endNumber),h=(d+h)/1e3,k=p+k,C=Math.ceil((h+C-k)*f/E),I=Math.floor((h-k-I)*f/E),E=Math.floor((h-k)*f/E);return{start:Math.max(0,I),end:"number"==typeof c?c:Math.min(C,E)}}},Ao=["AUDIO","SUBTITLES"],Po=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Lo={mediaPresentationDuration:ro,availabilityStartTime:function(c){rimumUpdatePeriod:ro,suggestedPresentationDelay:ro,type:function(c){return c},timeShiftBufferDepth:ro,start:ro,width:function(c){return parseInt(c,10)},height:fturn parseInt(c,10)},frameRate:function(c){return parseFloat(c.split("/").re,startNumber:function(c){return parseInt(c,10)},timescale:function(c){return parseInt(c,10)},presentationTimeOffset:function(c){return parseInt(c,10)},duration:function(c){var d=parseInt(c,10);return isNaN(d)?ro(c):d},d:function(c){return parseInt(c,10)},t:function(c){return parseInt(c,10)},r:function(c){return parseInt(c,10)},DEFAULT:function(c){return c}},Oo={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Do=Math.pow(2,32),No=function(c){var d=new DataView(c.buffer,c.byteOffset,c.byteLength);return d.getBigUint64?(c=d.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(c):c:d.getUint32(0)*Do+d.getUint32(4)},Ro=br([73,68,51]),Mo={EBML:br([26,69,223,163]),DocType:br([66,130]),Segment:br([24,83,128,103]),SegmentInfo:br([21,73,169,102]),Tracks:br([22,84,174,107]),Track:br([174]),TrackNumber:br([215]),DefaultDuration:br([35,227,131]),TrackEntry:br([174]),TrackType:br([131]),FlagDefault:br([136]),CodecID:br([134]),CodecPrivate:br([99,162]),VideoTrack:br([224]),AudioTrack:br([225]),Cluster:br([31,67,182,117]),Timestamp:br([231]),TimestampScale:br([42,215,177]),BlockGroup:br([160]),BlockDuration:br([155]),Block:br([161]),SimpleBlock:br([163])},Uo=[128,64,32,16,8,4,2,1],Bo=br([0,0,0,1]),Fo=br([0,0,1]),jo=br([0,0,3]),Ho={webm:br([119,101,98,109]),matroska:br([109,97,116,114,111,115,107,97]),flac:br([102,76,97,67]),ogg:br([79,103,103,83]),ac3:br([11,119]),riff:br([82,73,70,70]),avi:br([65,86,73]),wav:br([87,65,86,69]),"3gp":br([102,116,121,112,51,103]),mp4:br([102,116,121,112]),fmp4:br([115,116,121,112]),mov:br([102,116,121,112,113,116]),moov:br([maskc,[Mo.return Sr(c=bo(c,[Mo.EBML,Mo.DocType])[0],Ho.matroska)},mp4:funset:44})},"3gp":function(c){return Sr(c,Ho["3gp"],{offset:4})},ac3:function(c){var d=fo(c);return Sr(c,Ho.ac3eturn;){ifflac:function(c){var d=fo(c)turn Sr(c,Ho.ogg)},avi:function,h){return d.parts?d.parts.forEach((function(p,f){c.push({duration:p.duration,)):c.push({duration:d.duration,{return d.endList?0:c&&c.suggestedPresentationDelay?c.suggestedPresentationDelay:(c=0<ru(d).length)&&d.-c.mediaSequence,f=c.segments[p];iesult:h+f.start,precise:!0}}returnn gu(c,d){return!(!c&&!d||!c&&d||c&&!d||c!==d&&(!c.id||!d.idUri!==d.resolvedUri)&&(!c.uri||!d.uri||c.uri!==d.uri))}function yu(c,d){var h,p=c&&c.mediaGroups&&c.mediaGroups.AUDIO||{},f=!1;for(h in p){for(var E in p(f)break}return!!f}function vu(c){if(!c||!c.playlists||!c.playlists.length)return  gu(h,c)}))?"continue":{v:!1}}(d);if("continue"!==h&&"object"==typeof h)return h.v}return!0}function _u(c,d){returnr p=0;p<h.preloadHints.length;p++)if("MAP"===h.preloadHints[p].type)return d;h.duration=c.targetDuration,h.preload=!0,d.push(h)}return d}function Cu(c,d){return c===d||c.segments&&d.segments&&c.segments.length===d.segments.length&&c.endList===d.endList&&c.mediaSequence===d.mediaSequence&&c.preloadSegment===d.preloadSegment}function Iu(c,d,h){void 0===h&&(h=Cu);var p=el(c,{}),f=p.playlists[d.id];if(!f)return null;if(h(f,d))return null;d.segments=ku(d);var E=el(f(c,d){if(!c)return d;var h=el(c,d);if(c.preloadHints&&!d.preloadHints&&delete h.preloadHints,c.parts&&!d.parts)delete h.parts;else if(c.parts&&d.parts)for(var p=0;p<d.parts.length;p++)c.parts&&c.parts[p]&&(h.parts[p]=el(c.parts[p],d.parts[p]));return!c.skipped&&d.skipped&&(h.skipped=!1),c.preloaence-f.mediaSequence)}E.segments.forEach((function(c){Eu(c,E.resolvedUri)}));for(var C=0;C<p.playlists.length;C++)p.playlists[C].id===d.id&&(p.playlists[C]=E);return p.playlists[d.id]=E,p.playlistt:45e3},c);var h=a.beforeRequest||ir.Vhs.xhr.beforeRequest;!h||"function"!=typeof h||(h=h(c))&&(c=h);var p=(!0===ir.Vhs.xhr.original?al:ir.Vhs.xhr)(c,(function(c,h){return Au(p,c,h,d)})),f=p.abort;return p.abort=function(){return p.abortefunction Nu(c){var d=c.byterange||{length:1/0,offset:0};return[d.length,d.offset,c.resolvedUri].join(",")}function Mu(c){return c.resolvedUri}function Uu(c){for(var d=Array.prototype.slice.call(c),h="",p=0;p<d.length/16;p++)h+=d.slice(16*p,16*p+16).map(Ou).joineekTo,k=c.pauseAfterSeek,C=void 0===k||k,I=c.tech,x=c.callback;if(!x)throw new Error("seekToProgramTime: callback must be provided");return void 0!==d&&h&&E?h.endList||I.hasStarted_?function(c){if(!c.segments||0===c.segments.length)return!1;for(var d=0;d<c.segments.length;d++)if(!c.segments[d].dateTimeObject)return!1;return!0}(h)?(p=function(c,d){var h;try{h=new Date(c)}catch(c){return null}if(!d||!d.segments||0===d.segments.length)return null;if(h<(f=d.segments[0]).dateTimeObject)return null;for(var p=0;p<d.segments.length-1;p++){var f=d.segments[p];if(h<d.segments[p+1].dateTimeObject)break}var E=d.segments[d.segments.length-1],k=(c=E.dateTimeObject,E.videoTimingInfo?(k=E.videoTimingInfo).transmuxedPresentationEnd-k.tran+1e3*k)<h?null:{segment:f=c<h?E:f,estimatedStart:f.videoTimingInfo?f.videoTimingInfo.transmuxedPresentationStart:Ku.duration(d,d.mediaSequence+d.segmenate(c),h=new Date(d)}catch(c){}v((k=p.segment).dateTimeObject,d),"estimate"===p.type?0===f?x({message:d+" is not buffered yet. Try again"}):(E(p.estimatedStart+c),void I.one("seeked",(function(){Fu({programTime:d,playlist:h,retryCount:f-1,seekTo:E,pauseAfterSeek:C,tech:I,callback:x})}))):(c=k.start+c,I.one("seeked",(function(){return x(null,I!d.segments||!c.segments&&d.segments)return!1;if(!c.segments&&!d.segments)return!0;for(var h=0;h<c.segments.length;h++){var p=c.segments[h],f=d.segments[h];if(p.uri!==f.uri)return!1;if(p.byterange||f.byterange){if(p=p.byterange,f=f.byterange,p&&!f||!p&&f)return!1;if(p.offset!==f.offset||p.length!==f.length)return!1}}return!0}function Vu(c,d){var h,p={};for(h in c){var f=c&&!f.map)||Boolean(k.map&&f.map&&k.map.byterange.offset===f.map.byterange.offset&&k.map.byterange.length===f.map.byterange.length))&&k.uri===f.uri&&k.byterange.offset===f.byterange.offset&&k.byterange.length===f.byterange.length&&(p[E]=d[E])}}return p}function Wu(c){return c.on=c.addEventListener,c.off=c.removeEventListener,c}function Gu(c){var d=c.transmuxer,h=c.bytes,p=c.audioAppendStart,f=c.gopsToAlignWith,E=c.remux,k=c.onData,C=c.onTrackInfo,I=c.onAudioTimingInfo,x=c.onVideoTimingInfo,A=c.onVideoSegmentTimingInfo,P=c.onAudioSegmentTimingInfo,L=c.onId3,O=c.onCaptions,D=c.onDone,R=c.onEndedTimeline,N=c.onTransmuxerLog,M=c.isEndOfTimeline,U={buffer:[]},B=M;d.onmessage=function(h){var p;d.currentTransmux===c&&("data"===h.data.action&&function(c,d,h){var p=(x=c.data.segment).type,f=x.initSegment,E=x.captions,k=x.captionStreams,C=x.metadata,I=x.videoFrameDtsTime,x=x.videoFramePtsTime;d.buffer.push({captions:E,captionStreams:k,metadata:C}),c=c.data.segment.boxes||{data:c.data.segment.data},f={type:p,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(f.data,f.byteOffset,f.byteLength)},void 0!==I&&(f.videoFrameDtsTime=I),void 0!==x&&(f.videoFramePtsTime=x),h(f)}(h,U,k),"trackinfo"===h.data.action&&C(h.data.trackInfo),"gopInfo"===h.data.action&&(U.gopInfo=h.data.gopInfo),"audioTimingInfo"===h.data.action&&I(h.data.audioTimingInfo),"videoTimingInfo"===h.data.action&&x(h.data.videoTimingInfo),"videoSegmentTimingInfo"===h.data.action&&A(h.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===h.data.action&&P(h.data.audioSegmentTimingInfo),"id3Frame"===h.data.action&&L([h.data.id3Frame],h.data.id3Frame.dispatchType),"caption"===h.data.action&&O(h.data.caption),"endedtimeline"===h.data.action&&(B=!1,R()),"log"===h.data.action&&N(h.data.log),"transmuxed"===h.data.type&&(B||(d.onmessage=null,h=(p={transmuxedData:U,callback:D}).transmuxedData,p=p.callback,h.buffer=[],p(h),Fl(d))))},p&&d.postMessage({action:"setAudioAppendStart",appendStart:p}),Array.isArray(f)&&d.postMessage({action:"alignGops.uri,code:xl,xhr:d}:d.aborted?{status:d.status,message:"HLS request aborted at URL: "+d.uri,code:Al,xhr:d}:c?{status:d.status,message:"HLS request errored at URL: "+d.uri,code:Il,xhr:d}:"arraybuffer"===d.responseType&&0===d.response.byteLength?{status:d.status,message:"Empty HLS response at URL: "+d.uri,code:Il,xhr:d}:null}function Ju(c,d,h){return function(p,f){var E=f.response;if(p=$u(p,f))return h(p,c);if(16!==E.byteLength)return h({status:f.status,message:"Invalid HLS key at URL: "+f.uri,code:Il,xhr:f},c);E=new DataView(E);for(var k=new Uint32Array([E.getUint32(0),E.getUint32(4),E.getUint32(8),E.getUint32(12)]),C=0;C<d.length;C++)d[C].bytes=k;return h(null,c)}}function Zu(c,d){var h=zo(c.map.beMp4Tracks",data:c.map.bytes,transmuxer:c.transmuxer,callback:function(h){var p=h.tracks;h=h.data;return c.map.bytes=h,p.forEach((function(d){c.map.tracks=c.map.tracks||{},c.map.tracks[d.type]||"number"==typeof(c.map.tracks[d.type]=d).id&&d.timescale&&(c.map.timescales=c.map.timescales||{},c.map.timescales[d.id]=d.timescale)})),d(null)}})}function tl(c){var d=c.segment,h=c.bytes,p=c.trackInfoFn,f=c.timingInfoFn,E=c.videoSegmentTimingInfoFn,k=c.audioSegmentTimingInfoFn,C=c.id3Fn,I=c.captionsFn,x=c.isEndOfTimeline,A=c.endedTimelineFn,P=c.dataFn,L=c.doneFn,O=c.onTransmuxerLog,D=(c=d.map&&d.map.tracks||{},Boolean(c.audio&&c.video)),R=f.bind(null,d,"audio","start"),N=f.bind(null,d,"audio","end"),M=f.seStartTime,callback:function(c){d.bytes=h=c.data,(c=c.result)&&(p(d,{hasAudio:c.hasAudio,hasVideo:c.hasVideo,isMuxed:eoStart),M=RTransmux)return c.transmuxer.currentTransmux=c,void Gu(c);c.transmuxer.transmuxQueue.push(c)}({bytes:h,transmuxer:d.trux:D,onData:function(c){c.type="combined"===c.type?"video":c.type,P(d,c)},onTrackInfo:functi!0),p(d,c))nction(c){R&&void 0!==c.start&&(R(,N&&void 0!==c.end&&N(c.ell),U&&void 0!==c.end&&U(c.end)},onVideoSegmentTimingInfo:function(c){E(c)},onAudioSegmentTimingInfo:function(c){k(c)},onId3:function(c,h){C(d,c,h)},onCaptions:function(c){I(d,[c])},isEndOfTimeline:x,onEndedTimeline:function(){A()},onTransmuxerLog:O,onDone:function(c){L&&(c.type="combined"===c.type?"video":c.type,L(null,d,c))}})}})}function il(c){var d=c.segment,h=c.bytes,p=c.trackInfoFn,f=c.timingInfoFn,E=c.videoSegmentTimingInfoFn,k=c.audioSegmentTimingInfoFn,C=c.id3Fn,I=c.captionsFn,x=c.isEndOfTimeline,A=c.endedTimelineFn,P=c.dataFn,L=c.doneFn,O=c.onTransmuxerLog,D=ideo,hasAudio:!!R.audio};R.audio&&R.audio.codec&&"enca"!==R.audio.codec&&(N.audioCodec=R.audio.codec),R.video&&R.video.codec&&"encv"!==R.video.codec&&(N.videoCodec=R.video.codec),R.video&&R.audio&&(N.isMuxed=!0),p(d,N);var y=function(c){P(d,{data:D,type:N.hasAudio&&!N.isMuxed?"audio":"video"}),c&&c.length&&I(d,c),L(null,d,{})};Yu({action:"probeMp4StartTime",timescales:d.map.timescales,data:D,transmuxer:d.transmuxer,caltart",c),R.video&&p.byteLength&&d.transmuxer?Yu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:d.transmuxer,data:D,timescales:d.map.timescales,trackIds:[R.video.id],callback:function(c){h=c.data.buffer,d.bytes=D=c.data,c.logs.forEach((function(c){O(ir.mergeOptions(c,{stream:"mp4CaptionParser"}))})),y(c.captions)}}):y()}})}else if(d.transmuxer){if(void 0===d.container&&(d.container=zo(D)),"ts"!==d.container&&"aac"!==d.container)return p(d,{hasAudio:C,captionsFn:I,isEndOfTimeline:x,endedTimelineFn:A,dataFn:P,doneFn:L,onTransmuxerLog:O})}else L(null,d,{})}function nl(c,d){var h=c.id,p=c.key,f=c.encryptedBytes,E=c.decryptionWorker;c=function e(c){c.data.source===h&&(E.removeEventListener("message",e),c=c.data.decrypted,d(new Uint8Array(c.bytes,c.byteOffset,c.byteLength)))};E.addEventListener("message",c),c=p.bytes.slice?p.bytes.slice():new Uint32Array(Array.prototype.slice.call(p.bytes)),E.postMessage(Ru({source:h,encrypted:f,key:c,iv:p.iv}),[f.buffer,c.buffer])}function sl(c){var d,h,p,f=c.xhr,E=c.xhrOptions,k=c.decryptionWorker,C=c.segment,I=c.abortFn,x=c.progressFn,A=c.trackInfoFn,P=c.timingInfoFn,L=c.videoSegmentTimingInfoFn,O=c.audioSegmentTimingInfoFn,D=c.id3Fn,R=c.captionsFn,N=c.isEndOfTimeline,M=c.endedTimelineFn,U=c.dataFn,B=c.doneFn,F=(c=c.onTransmuxerLog,[]);B=function(c){var d=c.activeXhrs,h=c.decryptionWorker,p=c.trackInfoFn,f=c.timingInfoFn,E=c.videoSegmentTimingInfoFn,k=c.audioSegmentTimingInfoFn,C=c.id3Fn,I=c.captionsFn,x=c.isEndOfTimeline,A=c.endedTimelineFn,P=c.dataFn,L=c.doneFn,O=c.onTransmuxerLog,D=0,R=!1;return function(c,N){if(!R){if(c)return R=!0,Qu(d),L(c,N);if((D+=1)===d.length){var t=function(){if(N.encryptedBytes)return d=(c={decryptionWorker:h,segment:N,trackInfoFn:p,timingInfoFn:f,videoSegmentTimingInfoFn:E,audioSegmentTimingInfoFn:k,id3Fn:C,captionsFn:I,isEndOfTimeline:x,endedTimelineFn:A,dataFn:P,doneFn:L,onTransoid nl({id:(D=c.segment).requestId,key:D.key,encryptedBytes:D.encryptedBytes,decryptionWorker:d},(function(c){D.bytes=c,il({segment:D,bytes:D.bytes,trackInfoFn:R,timingInfoFn:M,videoSegmentTimingInfoFn:U,audioSegmentTimingInfoFn:B,id3Fn:F,captionsFn:j,isEndOfTimeline:H,endedTimelineFn:V,dataFn:q,doneFn:we,onTransmuxerLog:Se})}));var c,d,D,R,M,U,B,F,j,H,V,q,we,Se;il({segment:N,bytes:N.bytes,trackInfoFn:p,timingInfoFn:f,vTimeline:x,endedTimelineFn:A,dataFn:P,doneFn:L,onTransmuxerLog:O})};if(N.endOfAllRequests=Date.now(),N.map&&N.map.encryptedBytes&&!N.map.bytes)return nl({decryptionWorker:h,id:N.requestId+"-init",encryptedBytes:N.map.encryptedBytes,key:N.map.key},(function(c){N.map.bytes=c,Zu(N,(function(c){return c?(Qu(d),L(c,N)):void t()}))}));t()}}}}({activeXhrs:F,decryptionWorker:k,trackInfoFn:A,timingInfoFn:P,videoSegmentTimingInfoFn:L,audioSegmentTimingInfoFn:O,id3Fn:D,captionsFn:R,isEndOfTimeline:N,endedTimelineFn:M,dataFn:U,doneFn:B,onTransmuxerLog:c});C.key&&!C.key.bytes&&(c=[C.key],C.map&&!C.map.bytes&&C.map.key&&C.map.key.resolvedUri===C.key.resolvedUri&&c.push(C.map.key),c=f(ir.mergeOptions(E,{uri:C.key.resolvedUri,responseType:"arraybuffer"}),Ju(C,c,B)),F.push(c)),C.map&&!C.map.bytes&&(!C.map.seType:"arraybuffer",headers:Lu(C.map)}),(h=(d={segment:C,finishProcessingFn:B}).segment,p=d.finishProcessingFn,function(c,d){return(c=$u(c,d))?p(c,h):(c=new Uint8Array(d.response),h.map.key?(h.map.encryptedBytes=c,p(null,h)):(h.map.bytes=c,void Zu(h,(function(c){return c?(c.xhrC.resolvedUri,responseType:"arraybuffer",headers:Lu(C)}),function(c){var d=c.segment,h=c.finishProcessingFn,p=c.responseType;return function(c,f){return(c=$u(c,f))?h(c,d):(c="arraybuffer"!==p&&f.responseText?function(c){for(var d=new Uint8Array(new ArrayBuffer(c.length)),h=0;h<c.length;h++)d[h]=c.charCodeAt(h);return d.buffer}(f.responseText.substring(d.lastReachedChar||0)):f.response,d.stats={bandwidth:f.bandwidth,bytesReceived:f.bytesReceived||0,roundTripTime:f.roundTripTime||0},d.key?d.encryptedBytes=new Uint8Array(c):ded)return d.stats=ir.mergeOptions(d.stats,(f=(p=c).target,(f={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-f.requestTime||0}).bytesReceived=p.loaded,f.bandwidth=Math.floor(f.bytesReceived/f.roundTripTime*nfn(c){var d,h;c.addEventListener("loadend",(d=(c={loadendState:j,abortFn:I}).loadendState,h=c.abortFn,function(c){c.target.aborted&&h&&!d.calledAbortFn&&(h(medic))})),Object.keys(d).forEach((function(c){return 1<d[c].length?(Pl("multiple "+c+" codecs found as attributes: "+d[c].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(d[c]=null)):void(d[c]=d[c][0])})),d}function ll(c){var d=0;return c.audio&ibutes||{};var h,p=c.mediaGroups.AUDIO[d.AUD{var d=c.playlist;return JSON.stringify({id:d.id,bandwidth:c.bandwidth,width:c.width,height:c.height,codecs:d.attributes&&d.attributes.CODECS||""})}}function hl(c,d){return(c=c&&window.getComputedStyle(c))?c[d]:""}function pl(c,d){var h=c.slice();c.sort((function(c,p){var f=d(c,p);return 0===f?h.indexOf(c)-h.indexOf(p):f}))}function fl(c,d){var h,p;return(h=(h=c.attributes.BANDWIDT&(C=E.getAudioTrackPlaylists_(),k.audioOnly=!0);var I=C.map((function(c){var d=c.attributes&&c.attributes.RESOLUTION&&c.attributes.RESOLUTION.width,h=c.attributes&&c.attributes.RESOLUTION&&c.attributes.RESOLUTIONbutes.BANDWc}}));pl(I,(function(c,d){return c.bandwidth-d.bandwidth}));var x=(I=I.filter((function(c){return!Ku.isIncompatible(c.playlist)}))).filter((function(c){return Ku.isEnabled(c.playlist)})),A=(c=(x=x.length?x:I.filter((function(c){return!Ku.isDisabled(c.playlist)}))).filter((function(c){return c.bandwidth*kl.BANDWIDTH_VARIANCE<d})))[c.length-1dwidth===A.bandwidth}))[0];if(!1===f){var P=C||x[0]||I[0];return P&&listReps",x[0]&&(f="enabledPlaylistReps"),Ll("choosing "+cl(P)+" using "+f+" with options",k),P.pwith option),(function(c,d){return c.width-d.width}));var L,O,D;A=(c=P.filter((function(c){return c.width===h&&c.height===p})))[c.length-1];(lter((function(c){return c.width>h||c.height>p}))).filter((function(c){return c.width===L[0].width&&c.height===L[0].height})),A=O[O.length-1],O=O.filter((function(c){return c.bandwidth===A.bandwidth}))[0]),E.experimentalLeastPixelDiffSelector&&(R=P.map((function(c){return c.pixelDiff=Math.abs(c.width-h)+Math.abs(c.height-p),c})),pl(R,(function(c,d){return c.pixelDiff===d.pixelDiff?d.bandwidth-c.bandwidth:c.pixelDiff-d.pixelDiff})),D=R[nt",c=E?au({preloadSegment:p})-1:0,I+" ["+(k+x)+"/"+(k+L)+"]"+(E?" part ["+A+"/"+c+"]":"")+" segment start/end ["+p.start+" => "+p.end+"]"+(E?" part start/end ["+f.start+" => "+f.end+"]":"")+" startOfSegment ["+d+"] duration ["+h+"] timeline ["+P+"] selected by ["+O+"] playlist ["+C+"]"}function bl(c){return c+"TimingInfo"}function Tl(c){var d=c.timelineChangeController,h=ioDisabled;if(h!==p){if("audio"===f)return!(h=d.lastTimelineChange({type:"main"}))||h.to!==p;if("main"===f&&c)return!(d=d.pendingTimelineChange({type:"audio"}))||d.to!==p}}function wl(c){vaI.length;R++){var N=I[R];if(C-=N.duration,k){if(0<C)continue}else if(0<=C-Bu)continue;return{partIndex:N.partInnList:I,startIndex:x,endIndex:R})}}return{su,isDisabled:function(c){return c.disabled},isBlacklisted:cu,isIncompatible:hu,playlistEnd:du,isAes:function(c){for(var d=0;d<c.segments.length;d++)if(c.segments[d].key)return!0;return!1},hasAttribute:fu,estimateSegmentRequestTime:function(c,d,h,p){return fu("BANDWIDTH",h)?(c*h.attributes.BANDWIDTH-8*(p=void 0===p?0:p))/d:NaN},isLowestEnabledRendition:mu,isAudioOnly:vu,playlistMatch:gu,segmentDurationWithParts:iu},Xu=ir.log,el=ir.mergeOptions,rl=function(c){function e(d,h,p){var f;if(void 0===p&&(p={}),f=c.call(this)||this,!d)throw new Error("A non-empty playlist URL or object is required");f.logger_=Ko("PlaylistLoader");var E=void 0!==(E=p.withCredentials)&&E;p=void 0!==(p=p.handleManifestRedirects)&&p;return f.src=d,f.vhs_=h,f.withCredentials=E,f.handleManifestRedirects=p,h=h.options_,f.customTagParsers=h&&h.customTagParsers||[],f.customTagMappers=hc=E.toString()),c}(d,c)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:d,withCredentials:this.withCredentials},(function(c,d){if(h.request)return c?h.playlistRequestError(h.request,h.media(),"HAVE_METADATA"):void h.haveMetadata({playlistString:h.request.responseText,url:h.media().uri,id:h.media().id})})))},d.playlistRequestError=function(c,d,h){var p=d.uri;d=d.id;this.request=null,h&&(this.state=h),this.error={playlist:this.master.playlists[d],status:c.status,message:"HLS playlist request error at URL: "+p+".",responseText:c.responseText,code:500<=c.status?4:2},this.trigger("error")},d.parseManifest_=function(c){var d=this,h=c.url;return function(c){var d=c.onwarn,h=c.oninfo,p=c.manifestString,f=void 0===(E=c.customTagParsers)?[]:E,E=void 0===(E=c.customTagMappers)?[]:E,k=(c=c.experimentalLLHLS,new Vr);d&&k.on("warn",d),h&&k.on(gMapper(c)})),k.push(p),k.end();var C=k.manifest;c||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(c){C.hasOwnProperty(c)&&delete C[c]})),C.segments&&C.segments.forEach((function(c){["parts","preloadHints"].ete c[d]}))}))),C.targetDuration||(I=10,C.segments&&C.segments.length&&(I=C.segments.reduce((function(c,d){return Math.max(c,d.duration)}),0)),d&&d("manifest has no targetDuration defaulting to "+I),C.targetDuration=I);var I=ru(C);return I.length&&!C.partTargetDuration&&(I=I.reduce((function(c,d){return Math.max(c,d.duration)}),0),d&&(d("manifest has no partTargetDuration defaulting to "+I),TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),C.partTargetDuration=I),C}({onwarn:function(c){return c=c.message,d.logger_("m3u8-parser warn for "+h+": "+c)},oninfo:function(c){return c=c.message,d.logger_("m3u8-parser info for "+h+": "+c)},manifestString:c.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},d.haveMetadata=function(c){var d=c.playlistString,h=c.playlistObject,p=c.url;c=c.id;this.request=null,this.state="HAVE_METADATA",(d=h||this.parseManifest_({url:p,manifestString:d})).lastReque=p,this.media_=this.master.playlists[c]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(xu(this.media(),!!p)),this.trigger("loadedplaylist")},d.dispose=function(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()},d.stopRequest=function(){var c;this.request&&(c=this.request,this.request=null,c.onreadystatechange=null,c.abort())},d.media=function(c,d){var h=this;if(!c)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof c){if(!this.master.playlists[c])throw new Error("Unknown playlist URI: "+c);c=this.master.playlists[c]}if(window.clearTimeout(this.finalRenditionTimeout),d){var p=(c.partTargetDuration||c.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,c,!1),p)}else{var f=this.state;d=!this.media_||c.id!==this.media_.id;if((p=this.master.playlists[c.id])&&p.endList||c.endList&&c.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=c,void(d&&(this.trigger("mediachanging"),"HAVE_MASTER"===f?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeoutals:this.withhis.medmediaUpdateTimeout),this.mediaUpdateTimeout_=function(c){var d=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(thisction(){d.mediaUpdateTimeout=null,d.trigger("mediaupdatetimeout"),d.updateMediaUpdatest=null,d)r at URL: "+c.src+".",re:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:d,id:h,resolvedUri:d,attributes:{}}]}).playlist=p.playlistadedmetadata")},e}(Ke=ir.EventTarget),al=ir.xhr,gl=ir.mergeOptions,Sl=(Oi=Object.freeze({__proto__:null,createTransferableMessage:Ru,initSegmentId:Nu,segmentKeyId:Mu,hexDump:Uu,tagDump:function(c){return Uu(c=c.bytes)},textRanges:function(c){for(var d,h,p="",f=0;f<c.length;f++)p+=(h=f,(d=c).start(h)+"-"+d.end(h)+" ");return p}}),Ur=ir.EventTarget,ir.mergeOptions),El=function(c){function e(d,h,p,f){var E;if(void 0===p&&(p={}),(E=c.call(this)||this).masterPlaylistLoader(f=p.withCredentials)&&f,p=void 0!==(p=p.handleManifestRedirects)&&p,E.vhs_=h,E.withCredentials=f,E.handleManifestRedirects=p,!d)throw new Error("A non-empty playlist URL or object is required");return E.on("minimumUpdatePeriod",(function(){{}):E.childPlaylist_=d,E}mt(e,c);var d=e.prototype;return d.requestErrored_=function(c,d,h){return!this.request||(this.request=null,c?(this.error="object"!=typeof c||c instanceof Error?{status:d.status,message:"DASH request error at URL: "+d.uri,response:d.response,code:2}:c,h&array(p)),h.firstOffset=No(c.subarray(p+8)),p+=16);var f=d.getUint16(p+=2);for(p+=2;0<f;p+=12,f--)h.references.push({referenceType:(128&c[p])>>>7,referencedSize:2147483647&d.gWithSap:!!(128&c[p+8]),sapType:(112&c[p+8])>>>4,sapDeltaTime:268435455&d.getUint32(p+8)});return h}(br(f.response).subarray(8))}ngth,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];if((d=d.filter((function(c){return c&&(c.byteLength||c.lenngth<=1)return br(d[0]);var p=d.reduce((function(c,d,h).lgth<188||!h&&f.length<376?ju(d,(function(){return n(c,d,"",f)})):n(null,d,h,f)}}var p,f=[],E=!1,k=d({uri:c,beforeSend:function(c){c.overrideMimeType("text/plain; charset=x-user-defined"),c.addEventListener("progress",(function(d){return d.total,d.loaded,Au(c,null,{statusCode:c.status},i)}))}},(function(c,d){return Au(k,c,d,i)}));return k}(p,this.vhs_.xhr,(function(d,h,k,C){if(d)return f(d,h);if(!k||"mp4"!==k)return f({status:h.status,message:"Unsupported "+(k||"unknown")+" container type for sidx segment at URL: "+p,response:"blacklistDuratiaRequest_),window.clTimeout=null,ta_&&(thi_.id;if(p&&this.loadedPlaylists_[c.id]&&this.loadedPlaylists_[c.id].endList)return this.state="HAVE_METADATA",this.media_=c,void(p&&(this.trigger("mediachanging"),this.trigger("mediachange")));p&&(this.media_&&this.trigger("mediachanging"),this.addSidxSestLoadeion/2*1et")):this.trigger&p.responseHeaders.date?d.masterLoaded_=Date.parse(p.responseHeaders.date):d.masterLoaded_=Date.now(),d.masterPlaylistLoader_.srcUrl=Xo(d.handleManifestRedirects,d.masterPlaylistLoader_.srcUrl,p),f?(d.handleMaster_(),void d.syncClientServerClock_((function(){return c(p,f)}))):c(p,f)}"HAVE_NOTHING"===d.state&&(d.started=!1)}))},d.syncClientServerClock_=function(c){var d=this,h=function(c){return function(c){if(!(c=io(c,"UTCTiming")[0]))return null;var d=ao(c);switch(d.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":d.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":d.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":d.method="DIRECT",d.value=Date.parse(d.value);break;default:throw new Error(Io)}return d}(co(c))}(this.masterPlaylistLoader_.this.withCredentiaethod?f.responseHeaders&&f.responseHeaders.date?Date.parse(f.responseHeaders.date):d.masterLoaded_:Date.parse(f.responseText),d.masterPlaylistLoader_.clientOffset_=f-Date.now(),c()}})))},d.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},d.handleMaster_=function(){this.mediaRequest_=null;var c=this.masterPlaylistLoader_.master,d=(wu(h=ho((h={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:c}).masterXml,{manifestUri:d=h.srcUrl,clientOffset:h.clientOffset,sidxMapping:h.sidxMapping,previousManifest:h=h.previoists.length;E++){var k,C=d.playlists[E];C.sidx&&(k=Hs(C.sidx),h&&h[k]&&h[k].sidx&&Ms(C,h[k].sidx,C.sidx.resolvedUri)),(C=Iu(f,C,qu))&&(f=C,p=!1)}return bu(d,(function(c,d,h,E){var k;c.playlists&&c.playlists.length&&(k=c.playlists[0].id,(c=Iu(f,c.playlists[0],qu))&&((f=c).mediaGroups[d][h][E].playlists[0]=f.playlists[k],p=!1))})),(p=d.minimumUpdatePeriod===c.minimumUpdatePeriod&&p)?null:f}(c,d,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=d||c;v.master&&c.master.miis.logger_("fos[c.media_.id]),laylistLoader_.master.playlists,p=!this.media_||this.media_!==h[c];p?this.media_=h[c]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function e(){d.media().endList||(d.mediaUpdateTimeout=window.setTimeout((function(){d.trigger("mediaupdatetimeout"),e()}),xu(d.media(),Boolean(p))))}(),this.trigger("loarepen;var p=h.terminate;return [d]=c[d].slice(),h].apply(this,f)}},this.dispose=function(){c={}}}};e.prototype.pipe=function(c){return this.on("data",(function(d){c.push(d)})),this.on("done",(function(d){c.flush(d)})),this.on("partialdone",(function(d){c.partialFlush(d)})),this.on("endedtimeline",(function(d)(function(d){c.reset(d)})),c},e.prototype.push=function(c){this.trigger("data",c)},e.prototype.flush=function(c){this.trigger("done",er("reset",c)};var c,d,h,p,f,E,k0,0[0{f4)),n( Udulermdd))}ex0,0,pled.l)>80&d.id)>>16,(65280&d.id)>>8,255&d.id,0,0,0,0,(4278190080&d.duration)>>24,(16711680&d.duration)>>16,(65280&d.duration)>>8,255&d.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&d.width)>>8,255&d.width,0,0,(65280&d.height)>>8,255&d.height,0,0]),c(F.tkhd,d)},M=function(d){var h,p=c(F.tfhd,new Uint8Array([0,0,0,58,(4278190080&d.id)>>24,(16711680&d.id)>>16,(65280&d.id)>>8,255&d.i),f,hd){ancneh,8190080&E&E.duration)>>>16,p[f++]=(65280&E.duration)>>>8,p[f++]=255&E.duration,p[f++]=(4278190080&E.size)>>>24,p[f++]=(16711680&E.size)>>>16,p[f++]=(65280&E.size)>>>8,p[f++]=255&E.size;return c(F.trun,p)audp=function(){return c(F.ftyp,j,H,j,V)};var Wt,dat,d)},zteturn(c=new Uint8Array(d.byteLength+h.byteLength)).set(d),c.set(h,d.byteLength),c},Kt=[33,16,5,32,164,27],$t=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],re=function(c){return 9e4*c},se=function(c){return c/9e4},Y(268),[27,253,128],G(259),[56]],11025:[$t,G(268),[3,127,248],G(268),[6,255,240],G(268),[13,255,224],G(268),[27,255,192],G(268),[55,175,128],G(108),[112]],8e47),[7]]},d=c,Wt=Object.keys(d).re})),Wt}()[c.samplerate])||d[0].data,I=0;I<A;I++)x=d[0],d.splice(0,0,{data:C,dts:x.dts-E,pts:x.pts-E});return c.baseMediaDecodeTime-=Math.floor(function(c,d){return function(c,d){return c*d}(se(c),d)}(P,caxSegmentPts=Math.max(c.maxSegmentPts,d.pts)),"number"==typeof d.dts&&(void 0===c.timelineStartInfo.dts&&(c.timelineStartInfo.dts=d.dts),void 0===c.minSegmentDts?c.minSegmentDts=d.dts:c.minSegmentDts=Math.min(c.minSegmentDts,d.dts),void 0===c.ma}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bindayloadType:-1,payloadSize:0},p=0,f=0;d<c.byteLesubarray(d,d+f);break}h.payload=void 0}d+=f,f=p=0}return h}(c.escapedRBSP)).payload&&4===d.payloadType&&(h=function(c){return 181!==c.payload[0]||49!=(c.payload[1]<<8|c.payload[2])||"GA94"!==StringnoreNextEqualDts_=!0;else{if(c.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));h=function(c,d){var(E.ccData=d[3+f]<<8|d[4+fckets_.forEach((function(c,d){c.presortIndex=d})),this.captionPackets_.sort((function(c,d){return c.pts===d.pts?c.presortIndex-d.presortIndex:c.pts-d.pts})),thisri.prototype.flush=function(){retuPacket=function(c){this.setsTextOrXDSActive(c)?this.activeCea608Channel_[c.type]=null:this.setsChannel1Actihis.setsChannel2Active(c)&&(this.(c.type<<1)+this.activeCea608Channc){return 4096==(30720&c.ccData)},ri.prototype.setsChannel2Active=function(c){return 6144==(30720&c.ccData)},ri.prototype.setsTextOrXDSActive=function(c){return 256==(28928&c.ccData)||4138==(30974&c.ccData)||6186==(30974&c.ccData)},ri.prototype.dispatchCea708Packet=function(c){thi21,4149:8226,4153:this.winAttr={},this.{},this.visible=0,this.=0,this.relativePosittype.clearText=functi.length>=this.virtualeRowOverflow&&this.befont;)this.rows.shifText=function(c){this.rows[thivar c;this.isEmpty()||(c=this.runctionE/.test(c)&&(f[c]=d.encoding)})),this.servicnt708Packet)&&h.new708Packet(),h.add708Bytes(c)}};function De(c){return null===c?"":(c=oi[c]||c,String.fromCharCode(c))}function Re(){for(var c=[],d=15;d--;)c.push("");return c}si.prototype=new wt,si.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},si.prototype.add708Bytes=function(c){var d=(h=c.ccData)>>>8,h=255&h;this.current708Packet.ptsVals.push(c.pts),this.current708Packet.data.push(d),this.current708Packet.data.push(h)},si.prototype.push708Packet=function(){var c,d=this.current708Packet,h=d.data,p=null,f=0,E=h[f++];for(d.seq=E>>6,d.sizeCode=63&E;f<h.length;f++)c=31&(E=h[f++]),7==(p=E>>5)&&0<c&&(p=h[f++]),this.pushServiceBlock(p,f,c),0<c&&(f+=c-1)},si.prototype.pushServiceBlock=function(c,d,h){for(var p,f=d,E=this.current708Packet.data,k=(k=this.services[c])||this.initService(c,f);f<d+h&&f<E.length;f++)xe(p=E[f])?f=this.handleText(f,k):24===p?f=this.multiByteCharacter(f,k):16===p?f=this.extendedCommands(f,k):128<=p&&p<=135?f=this.setCurrentWindow(f,k):152<=p&&p<=159?f=this.defineWindow(f,k):136===p?f=this.clearWindows(f,k):140===p?f=this.deleteWindows(f,k):137===p?f=this.displayWindows(f,k):138===p?f=this.hideWindows(f,k):139===p?f=this.toggleWindows(f,k):151===p?f=this.setWindowAttributes(f,k):144===p?f=this.setPenAttributes(f,k):145===p?f=this.setPenColor(f,k):146===p?f=this.setPenLocation(f,k):143urrentWindow.clearText():tion(c){return this.current708Packet.ptsVals[Math.floor(c/2)]},si.prototype.initService=function(c,d){var h,p="SERVICE"+c,f=this;return p in this.serviceEncodings&&(h=this.serviceEncodings[p]),this.services[c]=new Le(c,h,f),this.services[c].init(this.getPts(d),(function(d){f.flushDisplayed(d,f.services[c])})),this.services[c]},si.prototype.handleText=function(c,d,h){var p,f=h&&h.isExtended,E=h&&h.isMultiByte,k=f?4096:0,C=(I=this.current708Packet.data)[c],I=(h=I[c+1],d.currentWindow),x=d.textDecoder_&&!f?(E?(p=[C,h],c++):p=[C],d.textDecoder_.decode(new Uint8Array(p))):(x=ai[C|=k]||C,409ne(this.getPts(c)),I.pendiisible=(32&p)>>5,d.rowLock=(16&p)>>4,d.columnLock=(8&p)>>3,d.priority=7&p,p=h[++c],d.relativePositioning=(128&p)>>7,d.anchorVertical=127&p,p=h[++c],d.anchorHorizontal=p,p=h[++c],d.anchorPoint=(240&p)>>4,d.rowCount=15&p,p=h[++c],d.columnCount=63&p,p=h[++c],d.windowStyle=(56&p)>>3,d.penStyle=7&p,d.virtualRowCount=d.rowCount+1,c},si.prototype.setWindowAttributes=function(c,d){var h=this.current708Packet.data,p=h[c];d=d.currentWindow.winAttr,p=h[++c];return d.fillOpacity=(192&p)>>6,d.fillRed=(48&p)>>4,d.fillGreen=(12&p)>>2,d.fillBlue=3&p,p=h[rection=(12&p)>>2,d.justi)d.windows[p].visible&&!d.windows[p].isEmpty()&&h.push(d.windows[p].getText());d.endPts=c,d.text=h.join("\n\n"),this.pushCaption(d),d.startPts=c},si.prototype.pushCaption=function(c){""!==c.text&&(this.trigger(,d){var h=this.current708Pa{var h=this.current708Packet.data[++c],p=this.getPts(c);this.flushDisplayed(p,d);for(var f=0;f<8;f++)h&1<<f&&(d.windows[f].visible=0);return c},si.prototype.toggleWindows=function(c,d){var h=this.current708Pack(c,d){var h=this.current708Packet.data[++c],p=this.getPts(c);this.flushDisplayed(p,d);for(var f=0;f<8;f++)h&1<<f&&d.windows[f].clearText();return c},si.prototype.deleteWindows=function(c,d){var h=this.current708Packet.data[++c],p=this.getPts(c);this.flushDisplayed(p,d);for(var f=0;f<8;f++)h&1<<f&&d.windows[f].reset();return c},si.prototype.setPenAttributes=function(c,d){var h=this.current708Packet.data,p=h[c];d=d.currentWindow.penAttr,p=h[++c];return d.textTag=(240&p)>>4,d.offset=(12&p)>>2,d.penSize=3&p,p=h[++c],d.italics=(128&p)>>7,d.underline=(64&p)>>6,d.edgeType=(56&p)>>3,d.fontStyle=7&p,c},si.prototype.setPenColor=function(c,d){var h=thity=(192&p)>>6,d.bgdgeBlue=3&p,c},si.prototype.setPenLocation=function(c,d){var h=this.current708Packet.data,p=h[c],f=d.currentWindow.penLoc;return d.currentWindow.pendingNewLine=!0,p=h[++c],f.row=15&p,p=h[++c],f.column=63&p,c},si.prototype.reset=function(c,d){var h=this.getPts(c);return this.flushDisplayed(h,d),this.initService(d.serviceNum,c)};var oi={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:2&E)&&(this.column_=4*((14&E)>>1)),this.isColorPlayed=function(c){v^\n+|\n+$/g,"");d.length&&is.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_isSpecialCharacter=tCharacter=function(c,d)&&d<=63},li.prototype.isMithis.EXT_&&32<=d&&d<=47rollUp"!==this.mode_&&(thish=0;h<this.rollUpRows_;h++)thng=function(c,d){this.formatting_=this.formatting_.concat(d),d=d.reduce((function(c,d){return c+"<"+d+">"}),""),this[this.mode_](c,d)},li.prototype.clearFormatting=function(c){var d;this.formatting_.length&&(d=this.formatting_.revelUp=function(c,d){vartRowsUp_=function(){for(var c=0;c<this.topRow_;c++)this.displayed_[c]="";for(c=this.row_+1;c<15;c++)this.displayed_[c]="";for(c=tendTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(d,h){f(3==WXXX:_i[A.id]&&(_i[A.id](A),"com.apple.stre):(this.trigger("data",pmt.push([d,p,h]):this.processPes_(d,p,h)},this.processPec&&(p={type:"metadata",tracks:[]},null!==c.video&&p.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+c.video,codec:"avc",type:"video"}),null!==c.audio&&p.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+c.audio,codec:"adts",type:"audio"}),d.trigger("data",p)),h=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new wt;var Si,Pi={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ye,TransportParseStream:bi,ElementaryStream:Ti,Timestampor(Si in yi)yi.hasOwnProperty(Si)&&(Pi[Si]=yi[Si]);var Li=Pi,Oi=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],tt=function(c){var d,h=0;tt.prototype.init.call(this),this.skipWarn_=function(c,d){this.trigger("log",{level:"warn",message:"adts skiping bytes "+c+" to "+d+" in frame "+h+" outside syncword"})},this.push=function(p){var f,E,k,C,I,x,A=0;if(c||(h=0),"audio"===p.type){for(d&&d.length?(k=d,(d=new Uint8Array(k.byteLength+p.data.byteLength)).set(k),d.set(p.data,k.byteLength)):d=p.data;A+7<d.length;)if(255===d[A]&&240==(246&d[A+1])){if("number"==typeof x&&(this.skipWarn_(x,A),x=null),E=2*(1&~d[A+1]),f=(3&d[A+3])<<11|d[A+4]<<3|(224&d[A+5])>>5,I=9e4*(C=1024*(1+(3&d[A+6])))/Oi[(60&d[A+2])>>>2],d.byteLength-A<f)break;this.trigger("data",{pts:p.pts+h*I,dts:p.dts+d[A+2]>>>6&3),channelcount:(1&d[A+2])<<2|(192&d[A+3])>>>6,samplerate:Oi)>>>2,samplesize:16,data:d.subarray(A+7+))}is.trigger("endedtimeline")}};function ot(c,d){var h=0<=(h=c[d+6]<<21|c[d+7]<<14|c[d+8]<<7|c[d+9])?h:0;return(16&c[d+5])>>4?h+20:h+10}function ut(c,d){return c.length-d<10||c[d]!=="I".charc,d+=ot(c,d))artitioning_rbsp_idr";break;case 6:C.nalUnitType="sei_rbsp",C.escapedRBSP=f(k.subarray(1));break;case 7:C.nalUnitType="seq_parameter_set_rbsp",C.escapedRBSP=f(k.subarray(1)),C.config=E(C.escapedRBSP);break;case 8:C.nalUnitType="pic_parameter_set_rbsp";break;case 9:C.nalUnitType="access_unit_delimiter_rbsp"}c.trigger("data",C)})),C.on("done",(fu),ren(case 13:P=[160,99];break;case 14:P=[4,3];break;case 15:P=[3,2];break;case 16:P=[2,1];break;case 255:P=[L.readUnsignedByte()<<8|L.readUnsignedByte(),L.rtibility:D,width:16*(c+1)-2*C-2*Iream:Ni,Na&255==(255&c[d])<3;return 6144&c[d+3]|p|h},parseType:function(c,d){return c[d]==="I".charCodeAt(0)&&c[d+1]==="D".charCodeAt(0)&&c[d+2]==="3".charCodeAt(0)?"timed-metadata":!0&c[d]&&240==(240&c[d+1])?"audio":null},parseSampleRate:function(c){for(var d=0;d+5<c.length;){if(255===c[d]&&240==(246&c[d+1]))return ji[(60&c[d+2])>>>2];d++}return null},parseAacTimestamp:function(c){var d,h=10;64&c[5]&&(h+=4,h+=lt(c.subarray(10,14)));do{if((d=lt(c.subarray(h+4,h+8)))<1)return null;if("PRIV"===String.fromCharCode(c[h],c[h+1],c[h+2],c[h+3]))for(var p=c.subarray(h+10,h+d+10),f=0;f<p.byteLength;fh.length;p++){var f=h[p];"headOfPipeline"!==f&&d[f].on&&d[f].on("log",pt.bind(c,f))}}function mt(c,d){var h;if(c.length===d.length){for(h=0;h<c.length;h++)if(c[h]!==d[h])return;return 1}}function gt(c,d,h,p,f,E){return{start:{dts:c,pts:c+(h-d)},end:{dts:c+(p-d),pts:c+(f-h)},prependedContentDuration:E,baseMediaDecodeTime:c}}ht.prototype=new wt;var Vi,qi,zuencyindex","samplesize"],Qi=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Zi=e.H264Stream,tn=Hi.isLikelyAacData,Ct=function(c,d){var h=[],p=0,f=0,E=1/deoBaseMediaDecodeTime=function(c){E=c},this.setAudioAppendStart=function(c){f=c},ths=1/0,cf,E),c.samples=function(c){for(var d,h=[],p=0;p<c.length;p++)d=c[p],h.push({size:d.data.byteLength,duration:1024});return h}(C),I=K(function(c){for(var d,h=0,p=new Uint8Array(function(c){for(var d=0,h=0;h<c.length;h++)d+=c[h].data.byteLength;return d}(c)),f=0;f<c.length;f++)d=c[f],p.set(d.data,h),h+=d.data.byteLength;return p}(C)),h=[],A=zt(k,[c]),x=new Uint8Array(A.byteLength+I.byteLength),k++,x.set(A),x.set(I,A.byteLength),_e(c),A=Mae{return!!(64&c[1])}function Pt(c){var d=0;return 1<(48&c[3])>>>4&&(d+=c[4]+1),d}function Lt(c){switch(c){case 5:return"slice_layer_without_partitioning_rbsp_idr=[],k=(d=d||{}).firstSequenceNumber||0;Vi.prototype.init.call(this),delete c.minPTS,this.gopCache_=[],this.push=function(d){Te(c,d),"seq_parameter_set_rbsp"!==d.nalUnitType||h||(h=d.config,c.sps=[d.data],.pts,p.nalCount=h.length,p.byteLength=h.byteLength,p.pts=h.pts,p.dts=h.dts,p.duration=h.duration):(p.duration+=h.duration,p.nalCount+=h.length,p.byteLength+=h.byteLength,p.push(h));return sion_(f[0],c))?(I=C.duration,p.unshift(C),p.byteLength+=C.byteLength,p.nalCount+=C.nalCount,p.pts=C.pts,p.dts=C.dts,p.duration+=C.duration):p=function(c){var d;return!c[0][0].keyFrame&&1<c.length&&(d=c.shift(),c.byteLength-=d.byteLength,c.nalCount-=d.nalCount,c[0][0].dts=d.dts,c[0][0].pts=d.pts,c[0][0].duration+=d.duration),c}(p)),E.length){var x=d.alignGopsAtEnd?this.alignGopsAtEnd_(p):this.alignGopsAtStart_(p);if(!x)return this.gopCache_.unshift({g=(f=W(f=p[h],E)).size,k.push(f);return k}(p),h=K(function(c){for(var d,h,p,f,E,k=0,C=c.byteLength0;P<c.length;P++)for(p=c[P],d=0;d<p.length;d++)for(f=p[d],h=0;h<f.length;h++)E=f[h],A.setUint32(k,E.data.byteLength),x.set(E.data,k+=4),k+=E.data.byteLength;return x}(p)),c.baseMediaDecodeTime=be(c,d.keepOriginalTimestamps),this.trigger("processedGopsInfo",p.map((function(c){return{pts:c.pts,dts:c.dts,byteLength:c.byteLength}}))),C=p[0],x=p[p.length-1],this.trigger("segmentTimingInfo",gt(c.baseMediaDecodeTime,C.dts,C.pts,x.dts+x.duration,x.pts+x.duration,I)),this.trigger("timingInfo",{start:p[0].pts,end:p[p.length-1].pts+p[p.length-1].duration}),this.gopCache_.unshift({gop:p.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.tartInfo",c.timeliw Uint8Array(I.byteLenStream_=function(){_e(cpsAtStart_=function(cif(!C&&null===k)return null;if(0===(x=C?f:k))return c;var Ireturn c.text?this.pendingCaptions.pupendingCaptions.lengthingM.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfne_.coto=e=function(c){return c>===))}p.getInt32(P):d.compositionTimeOffset=p.getUint32(P),P+=4),h.samples.push(d),A--);A--;)d={},k&&(d.duration=p.getUint32(P),P+=4),C&&(d.size=p.getUint32(P),P+=4),I&&(d.flags=Ft(c.subarray(P,P+4)),P+=4),x&&(1===h.version?d.compositionTimeOffset=p.getInt32(P):d.compositionTimeOffset=p.getUint32(P),P+=4),h.samples.push(d);return h},Ht=function(c){var d=new DataView(c.buffer,c.byteOffset,c.byteLength),h={version:c[0],flags:new Uint8Array(c.subarray(1,4)),trackId:d.getUint32(4)},p=1&h.flags[2],f=2&h.flags[2],E=8&h.flags[2],k=16&h.flags[2],C=32&h.flags[2],I=65536&h.flags[0],x=131072&h.flags[0];c=8;return p&&(c+=4,h.baseDataOffset=d.getUint32(12),c+=4),f&&(h.sampleDescriptionIndex=d.getUint32(c),c+=4),E&&(h.defaultSampleDuration=d.getUint32(c),c+=4),k&&(h.defaultSampleSize=d.getUint32(c),c+=4),C&&(h.defaultSampleFlags=d.getUint32(c)),I&&(h.durationIsEmpty=!0),!p&&x&&(h.baseDataOffsetIundefined"lf:{}),mn=ke,gnn(d){c=new gn,k=!0,E=!!d&&d.isPartial,c.on("data",(function(c){c.startTime=c.startPts/p,c.endTime=c.endPts/p,f.captions.push(c),f.captionStreams[c.stream]=!0})),c.on("log",(function(c){f.logs.push(c)}))},this.isNewInit=function(c,d){return!(c&&0===c.length||d&&"object"==typeof d&&0===Object.keys(d).length||h===c[0]&&p===d[h])},this.parse=function(c,E,k){)return null;if(this.isNewInit(E,k))h=E[0],p=k[h];else if(null===h||!p)return d.push(c),null;for(;0<d.length;){var C=d.shift();this.parse(C,E,k)}return(c=function(c,d,h){return null===d?null:(d=function(c,d){var h=un(c,["moof","traf"]),p=(c=un(c,["mdat"]),{}),f=[];return c.forEach((function(c,d){d=h[d],f.push({mdat:c,ton(c){(c=jt(c).samples).forEach((function(c){void 0===c.duration&&(c.duration=f),void 0===c.size&&(c.size=E),c.trackId=k,c.dts=h,void 0===c.compositionTimeOffset&&(c.compositionTimeOffset=0),"bigint"==typeof h?(c.pts=h+fn.BigInt(c.=C.concat(c)})),I=function(c,d,h){for(var p,f,E=new DataView(c.buffer,c.byteOffset,c.byteLength),k={logs:[],seiNals:[]},C=0;C+4<c.length;C+=p)if(p=E.getUint32(C),C+=4,!(p<=0))switch(31&c[C]){case 6:var I=c.subarray(C+1,C+1+p),x=function(c,d){for(var h=c,p=0;p<d.length;p++){var f=d[p];if(h<f.size)return f;h-=f.size}return null}(C,d);if(I={nalUnitType:"sei_rbsp",size:p,data:I,escapedRBSP:mn(I),trackId:h},x)I.pts=x.pts,I.dts=x.dts,f=x;else{if(!f){k.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+C+" for trackId "+h+". See mux.js#223."});break}I.pts=f.pts,I.dts=f.dts}k.seiNals.push(I)}return k}(I,C,c),p[c]||(p[c]={seiNals:[],logs:[]}),p[c].seiNals,logs:d.logs,tals?(this.pushNals(c.seiNptions:[],captionStreams()||!d||0===d.length)rfunction(){ionStreams={},f.logs=[itialized())return nullc.toString(16)).slice(-2)},vn=Vt.getUint64,_n=(wt=function(c){return un(c,["moov","trak"]).reduce((function(c,d){var h,p,f=un(d,["tkhd"])[0];return f?(h=f[0],f=yn(f[p=0===h?12:20]<<24|f[1+p]<<16|f[2+p]<<8|f[3+p]),(d=un(d,["mdia","mdhd"])[0])?(h=d[0],c[f]=yn(d[p=0===h?12:20]<<24|d[1+p]<<16|d[2+p]<<8|d[3+p]),c):null):null}),{})},ke=function(c,d){return d=un(d,["moof","traf"]).reduce((function(d,h){var p,f=un(h,["tfhd"])[0],E=yn(f[4]<<24|f[5]<<16|f[6]<<8|f[7]);f=c[E]||9e4,E=un(h,["tfdt"])[0],h=new DataView(E.buffer,E.byteOffset,E.byteLength);return"bigint"==typeof(h=1===E[0]?vn(E.subarray(4,12)):h.getUint32(4))?p=h/fn.BigInt(f):"number"!=typeof h||isNaN(h)||(p=h/f),(p=p<Number.MAX_SAFE_INTEGER?Number(p):p)<d?p:d}),1/0),"bigint"==typeof d||isFinite(d)?d:0},e=function(c){c=un(c,["moov","trak"]);var d=[];return c.forEach((function(c){var h=un(c,["mdia","hdlr"]),p=un(c,["tkhd"]);h.forEach((function(c,h){c=Dt(c.subarray(8,12)),h=p[h],"vide"===c&&(h=0===(h=new DataView(h.buffer,h.byteOffset,h.byteLength)).getUint8(0)?h.getUint32(12):h.getUint32(20),d.push(h))}))})),d},Vt=function(c){c=un(c,["moov","trak"]);var d=[];return c.forEach((function(c){var h={},p=un(c,["tkhd"])[0];p&&(p=(f=new DataView(p.buffer,p.byteOffset,p.byteLength)).getUint8(0),h.id=0===p?f.getUint32(12):f.getUint32(20));var f=un(c,["mdia","hdlr"])[0];f&&(k=Dt(f.subarray(8,12)),h.type="vide"===k?"video":"soun"===k?"audio":k);var E,k=un(c,["mdia","minf","stbl","stsd"])[0];k&&(k=k.subarray(8),h.codec=Dt(k.subarray(4,8)),(k=un(k,[h.codec])[0])&&(/^[asm]vc[1-9]$/i.test(h.codec)?(E=k.subarray(78),"avcC"===Dt(E.subarray(4,8))&&11<E.length?(h.codec+=".",h.codec+=Xt(E[9]),.codec)?(E=k.subarray(28),"esds"===Dt(E.sufor(C=(I=c.byteLength)-188,x=!1;0<=C;)if(71!==c[C]||71!==ctable:null},p={};for(d in function(c,d){for(var h,p=0,f=188;f<c.byteLength;)if(71!==c[p]||71!==c[f])p++,f++;else{switch(h=c.subarray(p,f),wn.ts.parseType(h,d.pid)){case"pat":d.pid=wn.ts.parsePat(h);break;case"pmt":var E=wn.ts.parsePmt(h);d.table=d.table||{},Object.keys(E).forEach((function(c){d.table[c]=E[c]}))}p+=188,f+=188}}(c,h),h.table)if(h.table.hasOwnProperty(d))switch(h.table[d]){case yi.H264_STREAM_TYPE:p.video=[],function(c,d,h){for(var p,f,E,k,C,I,x,A,P=0,L=188,O=!1,D={data:[],size:0};L<c.byteLength;)if(71!==c[P]||71!==c[L])P++,L++;else{if(p=c.subarray(P,L),"pes"===wn.ts.parseType(p,d.pid)&&(f=wn.ts.parsePesType(p,d.table),E=wn.ts.parsePayloadUnitStartIndicator(p),"video"===f&&(E&&!O&&(k=wn.ts.parsePesTime(p))&&(k.type="video",h.video.push(k),O=!0),!h.firstKeyFrame))){if(E&&0!==D.size){for(C=new Uint8Array(D.size),I=0;D.data.length;)x=D.data.shift(),C.set(x,I),I+=x.byteLength;!wn.ts.videoPacketContainsKeyFrame(C)||(A=wn.ts.parsePesTime(C))&&(h.firstKeyFrame=A,h.firstKeyFrame.type="video"),D.size=0}D.data.push(p),D.size+=p.byteLength}if(O&&h.firstKeyFrame)break;P+=188,L+=188}for(P=(L=c.byteLength)-188,O=!1;0<=P;)if(71!==c[P]||71!==c[L])P--,L--;else{if(p=c.subarray(P,L),"pes"===wn.ts.parseType(p,d.pid)&&(f=wn.ts.parsePesType(p,d.table),E=wn.ts.parsePayloadUnitStartIndicator(p),"video"=;P-=188,L":null},parsePat:function(c){var d=At(c),h=4+Pt<<8|c[p+11]);h)return null;var h=null,p=c[d+7];return 192&p&&((h={}).pts=(14&c[d+9])<<27|(255&c[d+10])<<20|(254&c[d+11])<<12|(255&c[d+12])<<5|(254&c[d+13])>>>3,h.pts*=4,h.pts+=(6&c[d+13])>>>1,h.dts=h.pts,64&p&&(h.dts=(14&c[d+14])<<27|(255&c[d+15])<<20|(254&c[d+16])<<12|(255&c[d+17])<<5|(254&c[d+18])>>>3,h.dts*=4,h.dts+=(6&c[d+18])>>>1)),h},videoPacketContainsKeyFrame:function(c){for(var d=4+Pt(c),h=c.subarray(d),p=0,f=0,E=!1;f<h.byteLength-3;f++)if(1===h[f+2]){p=f+5;break}for(;p<h.byteLength;)switch(h[p]){case 0:if(0!==h[p-1]){p+=2;break}if(0!==h[p-2]){p++;break}for(f+3!==p-2&&"slice_layer_without_partitioning_rbsp_idr"===Lt(31&h[f+3])&&(E=!0);1!==h[++p]&&p<h.length;);f=p-2,p+=3;break;case 1:ie"audio":if(c.length-C<7){h=!0;break}if((k=wn.aac.parseAdtsSize(c,C))>c.length){h=!0;break}null===f&&(d=c.subarray(C,C+k),f=wn.aac.parseSampleRate(d)),p++,C+=k;break;default:C++}if(h)return null}if(null===f||null===E)return null;var I=En/f;return{audio:[{type:"audio",dts:E,pts:E},{type:"audio",dts:E+1024*p*I,ptsvoid 0!==(h=c)&&!isNaN(h)||(h=d.audio[0].dts),d.audio.forEach((function(c){c.dts=Tn(c.dts,h),c.pts=Tn(c.pts,h),c.dtsTime=c.dts/En,c.ptsTisNaN(p)||(p=d.video[0].dts),d.video.forEach((function(c){c.dts=Tn(c.dts,p),c.pts=Tn(c.pts,p),c.dtsTime=c.dts/En,c.ptsTime=c.pts/En})),d.firstKeyFrame&&((d=d.firstKeyFrame).dts=Tn(d.dtse(),this.transmself,(d=this.transmuxer).on("data",(function(d){var h=d.initSegment;d.initSegment={data:h.buffer,byteOffset:h.byteOffset,byteLength:h.byteLength},h=d.data,d.data=h.buffer,c.postMessage({action:"data",segment:d,byteOffset:h.byteOffset,byteLength:h.byteLength},[d.data])})),d.on("done",(function(d){c.postMessage({action:"done"})})),d.on("gopInfo",(function(d){c.postMessage({action:"gopInfo",gopInfo:d})})),d.on("videoSegmentTimingInfo",(function(d){var h={start:{decode:Jt(d.start.dtsr h={start:{decode:Jt(d.start.dts),presentation:Jt(d.start.pts)},end:{decode:Jt(d.end.dts),presentation:Jt(d.end.pts)},baseMediaDecodeTime:Jt(d.baseMediaDecodeTime)};d.prependedContentDuration&&(h.prependedContentDuration=Jt(d.prependedContentDuration)),c.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:h})})),d.on("id3Frame",(function(d){c.postMessage({action:"id3Framenfo",(function})})),d.on("audioTimingInfo",(function(d){c.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Jt(d.start),end:Jt(d.end)}})})),d.on("videoTimingInfo",(function(d){c.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Jt(d.start),end:Jt(d.end)}})})),d.on("log",(function(d){c.postMessage({action:"log",log:d})}))},c.pushMp4Captions=function(c){this.captionParser||(this.captionParser=new Gt,this.captionParser.init());var d=new Uint8Array(c.data,c.byteOffset,c.byteLength);c=this.captionParser.parse(d,c.trackIds,c.timescales);this.self.postMessage({action:"mp4Captions",captions:c&&c.captions||[],logs:c&&c.logs||[],data:d.buffer},[d.buffer])},c.probeMp4StartTime=function(c){var d=c.timescales;c=c.data,d=_n(d,c);this.self.postMessage({action:"probeMp4StartTime",startTime:d,data:c},[c.buffer])},c.probeMp4Tracks=function(c){var d=c.data;c=bn(d);this.self.postMessage({action:"probeMp4Tracks",tracks:c,data:d},[d.buffer])},c.probeTs=function(c){var d=c.data,h=(c="number"!=typeof(h=c.baseStartTime)||isNaN(h)?void 0:h*Yt,ni(d,c));c=null;h&&((c={hasVideo:h.video&&2===h.video.lent=h.vidion:"probeTs",result:c,data:d},[d.buffer])},c.clearAllMp4Captionss=function(){this.captint8Array(cr.push(ctampOffset||0,muxer.setAudioApransmuxer.setRemux(cAlignWithself)),c.data&&c.data.action&&"init"!==c.data.action&&this.messageHandlers[c.data.action]&&this.messageHandlers[c.data.action](c.data))}}))))),Fl=function(c){c.currentTransmux=null,c.transmuxQueue.length&&(c.currentT("CodecUtilsn"===p.loaderType_&&p.timelineChangeController_.on("ll,d.transmuxQmestamps:!spose"),thiufferTimrSyncInfots(),this.pendingndingTimotaExceededErr|this.pendingSegment_.requestId!==c:(this.state="READY",!0)},d.error=function(c){return void 0!==c&&(this.logger_("error occurred:",c),this.error_=c),this.pendingSegment_=null,this.error_},d.endOfStream=function(){this.ended_=!0,this.transmuxer_&&jl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},d.buffered_=function(){var c=this.r_.videoBuffetes:c.bytes,tracks:c.y=functsolvedUri},p&&(c.bytes=p.bytes),c},d.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},d.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},d.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},d.playlist=function(c,d){if(void 0===d&&(d={}),c){var h=this.playlist_,p=this.pendingSegment_;this.playlist_=c,this.xhrOptions_=d,"INIT"===this.state&&(c.syncInfo={mediaSequence:c.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(c));var f=null;if(h&&(h.id?f=h.id:h.uri&&(f=h.uri)),this.logger_("playlist update ["+f+" => "+(c.id||c.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!h||h.uri!==c.uri)return null!==this.mediaIndex&&(c.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");d=c.mediaSequence-h.mediaSequence,this.logger_("live window shift ["+d+"]"),null!==this.mediaIndex&&(this.mediaIndex-=d,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(f=this.playlist_.segments[this.mediaIndex],!this.partIndex||f.parts&&f.parts.length&&f.parts[this.partIndex]||(f=this.mediaIndex,this.logger_("currently processing part (index "+this.parex=null,pments[p.mediaIndexut_=null)},d.paused=function(){return null===this.checkBufferTimeout_},d.resetEveryt){this.transmuxer_&&jl(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),tansmuxer_.postMessage({action:"clearParsedMp4Captions"})},d.remove=function(c,d,h,p){if(void 0===h&&(h=function(){}),void 0===p&&(p=!1),(d=d===1/0?this.duration_():d)<=c)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var f,E=1,s=function(){0==--E&&h()};for(f in!p&&this.audioDisabled_||(E++,this.sourceUpdater_.removeAudio(c,d,s)),!p&&"main"!==this.loaderType_||(this.gopBuffer_=function(c,d,h,p){for(var f=Math.ceil((d-p)*Go),E=Math.ceil((h-p)*Go),k=(p=c.slice(),c.length);k--&&!(c[k].pts<=E););if(-1===k)return p;for(var C=k+1;C--&&!(c[C].pts<=f);nbandTextTracks_[f]);ckBufferTimeouk_.bind(this),500)},d.fillBuffer_=function(){var c;this.sourceUpdater_.updating()||(c=this.chooseNextRequest_())&&("number"==typeof c.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:c.timeline})),this.loadSegment_(c))},d.isEndOfStream_=function(c,d,h){if(void 0===c&&(c=this.mediaIndex),void 0===d&&(d=this.playlist_),void 0===h&&(h=this.partIndex),!d||!this.mediaSource_)return!1;var p="number"==typeof c&&d.segments[c];c=c+1===d.segments.length,p=!p||!p.parts||h+1===p.parts.length;return d.endList&&"open"===this.mediaSource_.readyState&&c&&p},d.chooseNextRequest_=function(){var c,d,h=eu(c=this.buffered_())||0,p=tu(c,this.currentTime_()),f=!this.hasPlayed_()&&1<=p,E=p>=this.goalBufferLength_();if(!(c=this.playlirrentTime_()),(f={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)}).isSyncRequest?f.mediaIndex=function(c,d,h){d=d||[];for(var p=[],f=0,E=0;E<d.length;E++){var k=d[E];if(c===k.timeline&&(p.push(E),h<(f+=k.duration)))return E}return 0===p.length?0:p[p.length-1]}(this.currentTimeline_,c,h):null!==this.mediaIndex?(E=c[this.mediaIndex],d="number"==typeof this.partIndex?this.partIndex:-1,f.startOfSegment=E.end||h,E.parts&&E.parts[d+1]?(f.mediaIndex=this.mediaIndex,f.partIndex=d+1):f.mediaIndex=this.mediaIndex+1):(d=(C=Ku.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?h:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,k=C.startTime,C=C.partIndex,f.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+h:"currentTime "+this.currentTime_(),f.mediaIndex=d,f.startOfSegment=k,f.partIndex=C);var k=c[f.mediaIndex],C=k&&"number"==typeof f.partIndex&&k.parts&&k.parts[f.partIndex];return!k||"number"==typeof f.partIndex&&!C?null:("number"!=typeof f.partIndex&&k.parts&&(f.partIndex=0,C=k.parts[0]),p||!C||C.independent||(0===f.partIndex?(C=(p=c[f.mediaIndex-1]).parts&&p.parts.length&&p.parts[p.parts.length-1])&&C.independent&&(--f.mediaIndex,f.partIndex=p.parts.length-1,f.independent="previous segment"):k.parts[f.partIndex-1].independent&&(--f.partIndex,f.independent="previous part")),k=this.mediaSource_&&"ended"===this.mediaSource_.readyState,f.mediaIndex>=c.length-1&&k&&!this.seeking_()?null:this.generateSegmentInfo_(f))},d.generateSegmentInfo_=function(c){var d=c.independent,h=c.playlist,p=c.mediaIndex,f=c.startOfSegment,E=c.isSyncRequest,k=c.partIndex,C=c.forceTimestampOffset,I=c.getMediaInfoForTime,x=h.segments[p];c="number"==typeof k&&x.parts[k],d={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||x.resolvedUri,mediaIndex:p,partIndex:c?k:null,isSyncRequest:E,startOfSegment:f,playlist:h,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:x.timeline,duration:c&&c.duration||x.duration,segment:x,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:I,independent:d},C=void 0!==C?C:this.isPendingTimestampOffset_;return d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:x.timeline,currentTimeline:this.currentTimeline_,startOfSegment:f,buffered:this.buffered_(),overrideCheck:C}),"number"==typeof(C=eu(this.sourceUpdater_.audioBuffered()))&&(d.audioAppendStart=C-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(c,d,h){if(null==d||!c.length)return[];for(var p=Math.ceil((d-h+3)*Go),f=0;f<c.length&&!(c[f].pts>p);f++);return c.slice(f)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},d.timestampOffsetForSegment_=function(c){return h=(d=c).segmentTimeline,p=d.currentTimeline,f=d.startOfSegment,c=d.buffered,d.overrideCheck||h!==p?h<p||!c.length?f:c.end(c.length-1):null;var d,h,p,f},d.earlyAbortWhenNeeded_=function(c){var d,h,p,f,E,k,C,I,x,A,P,L,O;!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&(Date.now()-(c.firstBytesReceivedAt||Date.now())<1e3||(d=this.currentTime_(),f=c.bandwidth,E=this.pendingSegment_.duration,O=Ku.estimateSegmentRequestTime(E,f,this.playlist_,c.bytesReceived),h=this.buffered_(),p=d,void 0===(c=this.vhs_.tech_.playbackRate())&&(c=1),O<=(c=((h.length?h.end(h.length-1):0)-p)/c-1)||(E=(f={master:this.vhs_.playlists.master,currentTime:d,bandwidth:f,duration:this.duration_(),segmentDuration:E,timeUntilRebufferne_,syncController:this.syncController_}).master,k=f.cu=(E=(f=E.plompatibl((function(c){return!Ku.isDisabled(c)}))).filter(Ku.hasAttribute.bind(null,"BANDWIDTH")).map((function(c){var d=L.getSyncPoint(c,I,P,k)?1:2;return{playlist:c,rebufferingImpact:Ku.estimateSegmentRequestTime(x,C,c)*d-A}}))).filter((function(c){return c.rebufferingImpact<=0})),pl(E,(function(c,d){return fl(d.playlist,cpact-d.rebuffering1:.5)||(this.bandwi}return!0}(this.currs.hasEnoughInfoToACue,U.forEach((function(c){var d=c.stream;L[d].addCue(new P(c.startTime+O,c.endTime+O,c.text))})))})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,c,d)):this.logger_("SegmentLoader received no captions from a caption event"))},d.handleId3_=function(c,d,h){var p,f,E,k;this.earlyAbortWhenNeeded_(c.stats),this.checkForAbort_(c.requestId)||(this.pendingSegment_.hasAppendedData_?(p=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),f=this.inbandTextTracks_,E=h,k=this.vhs_.tech_,f.metadate.id is deprecated. Use cue.value.key instead."),h.value.key}},value:{get:function(){return ir.log.war}},privateData:{get:functionta is deprecated. Use cue.value.data instead."),h.value.data}}}),k.addCue(p)}))})),k.cues&&k.cues.length)){for(var C=k.cues,I=[],x=0;x<C.length;x++)C[x]&&I.push(C[x]);var A=I.reduce((function(c,d){var h=c[d.startTime]||[];return h.push(d),c[d.startTime]=h,c}),{}),P=Object.keys(A).sort((function(c,d)stampOffset:p,videoDuration:this.duration_()})):this.metadataQueue_.id3.push(this.handleId3_.bind(this,c,d,h)))},d.processMetadataQueue_.caption.forEach(asEnoughInfoToLoad_=funCurrentMediaInfoimeline:c.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},d.getCurrentMediaInfo_=function(c){return(c=void 0===c?this.pendingSegment_:c)&&c.trackInfo||this.currentMediaInfo_},d.getMediaInfo_=function(c){return void 0===c&&(c=this.pendingSegment_),this.getCurrentMediaInfo_(c)||this.startingMediaInfo_},d.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var c=this.pendingSegment_,d=this.getCurrentMediaInfo_();if(!c||!d)return!NextRequest_();if(f.mediaIndex!=p,d)}}else this.callQueue_.push(nction(c){var d=c.type,h=c.initSegment,p=c.map,f=c.playlist;if(p){if(c=Nu(p),this.activeInitSegmentId_===c)return null;h=this.initSegmentForMap(p,!0).bytes,this.activeInitSegmentId_=c}return h&&this.appendInitSegment_[d]?(this.playlistOfLastInitSegment_[d]=f,this.appendInitSegment_[d]=!1,this.activeInitSegmentId_=null,h):null},d.handleQuotaExceededError_=function(c,d){var h=this,p=c.segmentInfo,f=c.type,E=c.bytes,k=this.sourceUpdater_.audioBuffered(),C=this.sourceUpdater_.videoBuffered();1<k.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Zo(k).join(", ")),1<C.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Zo(C).join(", "));var I=k.length?k.start(0):0,x=k.length?k.end(k.length-1):0,A=C.length?C.start(0):0;c=C.length?C.end(C.length-1):0;if(x-I<=1&&c-A<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+E.byteLength+", audio buffer: "+Zo(k).join(", ")+", video buffer: "+Zo(C).join(", ")+", "),this.error({message:"Quota exceedaudio/video from 0 to "+E),this.remove(0,E,(function(){h.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),h.waitingOnRemove_=!1,h.quotaExceededErrorRetryTimeout_=window.setTimeout((function(){h.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),h.quotaExceededErrorRetryTimeout_=null,h.processCallQueue_()}),1e3)}),!0)},d.handleAppendError_=function(c,d){var h=c.se.bytes;C||(c=[k],k=k.byteLement)[c+="Timie=h.baseMediaDethis.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(c):this.loadQueue_.push((function(){var h=L({},c,{forceTimestampOffset:!0});L(c,d.generateSegmentInfo_(h)),d.isPendingTimestampOffset_=!1,d.updateTransmuxerAndRequestSegment_(c)}))},d.updateTransmuxerAndRequestSegment_=function(c){var d=this;this.shouldUpdateTransmuxerTimestampOffset_(c.timestampOffset)&&(this.gopBuffer_.length=0,c.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:c.timestampOffset}));var h=this.createSimplifiedSegmentObj_(c),p=this.isEndOfStream_(c.mediaIndex,c.playlist,c.partIndex),f=null!==this.mediaIndex,E=c.timeline!==this.currentTimeline_&&0<c.timeline;E=p||f&&E;this.logger_("Requesting "+_l(c)),h.map&&!h.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),c.abortRequests=sl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:h,abortFn:this.handleAbort_.bind(this,c),progressFn:this.handleProgress_.bind(this),trackInfoFn:TimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",c.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",c.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:E,endedTimelineFn:function(){d.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(h){var p=h.message,f=h.level;h=h.stream;d.logger_(_l(c)+" logged from transmuxer stream "+h+" as a "+f+": "+p)}})},d.trimBackBuffer_=function(c){var d,h,p,f;0<(f=(d=this.seekable_(),h=this.currentTime_(),p=this.playlist_.targetDuration||10,f=h-kl.BACK_BUFFER_LENGTH,d.length&&(f=Math.max(f,d.start(0))),Math.min(h-p,f)))&&this.remove(0,f)},d.createSimplifiedSegmentObj_=function(c){var d,h=c.segment,p={resolvedUri:((d=c.part)||h).resolvedUri,byterange:(d||h).byterange,requestId:c.requestId,transmuxer:c.transmuxer,audioAppendStart:c.audioAppendStart,gopsToAlignWith:c.gopsToAlignWith,part:c.part};return(d=c.playlist.segments[c.mediaIndex-1])&&d.timeline===h.timeline&&(d.videoTimindeEnd)),h.key&&(c=h.key.iv||ntesReceived,this.1/60?this.logger_("Ignorinuests=d.endOfAllRequests,h.gopInfo&&(this.gopBuffer_=function(c,d,h){if(!d.length)return c;if(h)return d.slice();for(var p=d[0].pts,f=0;rigger("appending"),this.waitForAppendsToeof c.start&&"number"==typeof c.end?this.mediaSecondsLoaded+=c.end-c.start:this.mediaSecondsLoaded+=c.duration},d.shouldUpdateTransmuxerTimestampOffset_=function(c){return null!==c&&("main"===this.loaderType_&&c!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&c!==this.sourceUpdater_.audioTimestampOffset())},d.trueSegmentStart_=function(c){var d=c.currentStart,h=c.playlist,p=c.mediaIndex,f=c.firstVideoFrameTimeForData,E=c.currentVideoTimestampOffset,k=c.useVideoTimingInfo,C=c.videoTimingInfo;c=c.audioTimingInfo;return void 0!==d?d:k?(h=h.segments[p-1],0!==p&&h&&void 0!==h.start&&h.end===f+E?C.start:f):c.start},d.waitForAppendsToComplete_=function(c){if(!(p=this.getCurrentMediaInfo_(c)))return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var d=p.hasAudio,h=p.hasVideo,p=p.isMuxed;h="main"===this.loaderType_&&h,p=!this.audioDisabled_&&d&&!p;if(c.waitingOnAppends=0,!c.hasAppendedData_)return c.timingInfo||"number"!=typeof c.timestampOffset||(this.isPendingTimestampOffset_=!0),c.timingInfo={start:0},c.waitingOnAppends++,this.isPendingTimestampOffset_||(thnds++,p&&c.waitingOnAppends++,h&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,c)),p&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,c))},d.checkAppendsDone_=function(c){this.checkForAbort_(c.requestId)||(c.waitingOnAppends--,0===c.waitingOnAppends&&this.handleAppendsDone_())},d.checkForIllegalMediaSwitch=function(c){var d,h;return!!(c=(d=this.loaderType_,h=this.getCurrentMediaInfo_(),"main"===d&&h&&c?c.hasAudio||c.hasVideo?h.hasVideo&&!c.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!h.hasVideo&&c.hasVideo?"Video found in segment when we e),c.changedTimestampOffset=!0,c.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(c.timestampOffset),d=!0),c.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(c.timestampOffset),d=!0),d&&this.trigger("timestampoffset"))},d.getSegmentStartTimeForTimestampOffsetCalculation_=function(c){var d=c.videoTimingInfo,h=c.audioTimingInfo;c=c.timingInfo;return this.useDtsForTimestampOffset_?d&&"number"==typeof d.transmuxedDecodeStart?d.transmuxedDecodeStart:h&&"number"==typeof h.transmuxedDecodeStart?h.transmuxedDecodeStart:c.start:c.start},d.updateTimingInfoEnd_=function(c){c.timingInfo=c.timingInfo||{};var d=this.getMediaInfo_();(d="main"===this.loaderType_&&d&&d.hasVideo&&c.videoTimingInfo?c.videoTimingInfo:c.audioTimingInfo)&&(c.timingInfo.end="number"==typeof d.end?d.end:d.start+c.duration)},d.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var c=this.pendingSegment_;this.updateTimingInfoEnd_(c),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:c,shouldSaveTimelineMapping:"main"===this.loaderType_});var d=function(c,d){if("hls"!==d)return null;var h,p,f=(h={audioTimingInfo:c.audioTimingInfo,videoTimingInfo:c.videoTimingInfo},p=0,["video","audio"].forEach((function(c){var d,f=h[c+"TimingInfo"];f&&(c=f.start,f=f.end,"bigint"==typeof c||"bigint"==typeof f?d=window.BigInt(f)-window.BigInt(c):"number"==typeof c&&"number"==typeof f&&(d=f-c),void 0!==d&&p<d&&(p=d))})),p="bigint"==typeof p&&p<Number.MAX_SAFE_INTEGER?Number(p):p);if(!f)return null;var E=wl({segmentDuration:f,maxDuration:2*(k=c.playlist.targetDuration)}),k=(d=wl({segmentDuration:f,maxDuration:k}),"Segment with index "+c.mediaIndex+" from playlist "+c.playlist.id+" has a duration of "+f+" when the reported duration is "+c.duration+" and the target duration is "+k+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1");return E||d?{severity:E?"warn":"info",message:k}:null}(c,this.sourceType_);if(d&&("warn"===d.severity?ir.log.warn(d.message):this.logger_(d.message)),this.recordThroughput_(c),this.pendingSegment_=null,this.state="READY",!c.isSyncRequest||(this.trigger("syncinfoupdate"),c.hasAppendedData_)){this.logger_("Appended "+_l(c)),this.addSegmentMetadataCue_(c),this.fetchAtBuffer_=!0,this.currentTimeline_!==c.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:c.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:c.timeline})),this.currentTimeline_=c.timeline,this.trigger("syncinfoupdate");var h=c.segment;d=c.part,h=h.end&&this.currentTime_()-h.end>3*c.playlist.targetDuration,d=d&&d.end&&this.currentTime_()-d.end>3*c.playlist.partTargetDuration;if(h||d)return this.logger_("bad "+(h?"segment":"part")+" "+_l(c)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progr))},d.recordThroughput_=ft,dateTimeString:d.dateTimeString,bneFn&&p.doneFn(),$l("audio",d),$l("video",d))}}function Jl(c,d){var h=d[c+"Buffer"],p=Yl(c);h&&(h.removeEventListener("updateendrCode.apply(null,c)))}function nd(c,d){c.abort(),c.pause(),d&&d.activePlaylistLoader&&(d.activePlaylistLoader.pause(),d.activePlaylistLoader=null)}function rd(c,d){(d.activePlaylistLoader=c).load()}function ad(c,d){for(var h=0;h<c.length;h++){if(gu(d,c[h]))return!0;if(c[h].playlists&&ad(c[h].playlists,d))return!0}return!1}function od(c,d,h){var p,f,E,k,C=c.masterPlaylistController_,I=C[(c.optioice must be a function!")}functar D_Eh+"er_g "_("Calling mediaSource endOfStream("+(c||"")+")");try{d.mediaSource.endOfStream(c)}catch(d){ir.log.warn("Failed to call media source endOfStream",d)}}}},gd=function(c){return function(d){d.logger_("Setting mediaSource duration to "+c);try{d.mediaSource.duration=c}catch(d){ir.log.warn("Failed",h mediaSource");={audio:null,video:null},h.delayedAudioAppendQueueEnd_=td("video",ft(h)),h.onAudioUpdateEnd_=td("audio",ft(h)),h.onVideoError_=function(c){h.videoError_=c},h.onAudioError_=function(c){h.audioE}mt(e,c);var d=e.protoalizedAnyEme=fuhis.hasInitializedceBuffers,action:vd(c,d),nameogger_("calling abort onSource",sourceUpunction(){returnow.MediaSourcurceBuffer&&window.SourceBu!")},d.addOrCha{mediaIndex:-1},d),doneFn:d,name:"appendBuffer"}),"video"===f&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length&&(f=this.dyedAudioAppendQueue_.length=0,f.forEach((function(c){h.appendBuffer.apply(h,c)}))))},d.audioBuffered=function(){return Zl(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||ir.createTimeRange()},d.videoBuffered=function(){return Zl(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||ir.createTimeRange()},d.buffered=function(){var c=Zl(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,d=Zl(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return d&&!c?this.audioBuffered():c&&!d?tr h=null,p=null,f=0,E=[],k=[];if(!(c&&c.length&&d&&d.length))return ir.createTimeRange();for(var C=c.length;C--;)E.push({time:c.start(C),type:"start"}),E.push({time:c.end(C),type:"end"});for(C=d.length;C--;)E.push({time:d.start(C),type:"srt"===E[C].typ.videoBuffered())},d.setDuration=function(c,d){void 0===d&&(d=Kl),ed({type:"mediaSource",sourceUpdater:this,action:gd(c),name:"duration",doneFn:d})},d.endOfStream=function(c,d){void 0===d&&(d=Kl),ed({type:.audioBuffedio",sourceUpdater:this,action:hd(c,d),doneFn:h,name:"remove"}):h()},d.removeVideo=function(c,d,h){void 0===h&&(h=Kl),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?ed({type:"video",sourceUpdater:this,action:hd(c,d),doneFn:h,name:"remove"}):h()},ion:pd(c),name:"timestampOffset"}),this.audioTimestampOffset_=c),this.audioTimestampOffset_},d.videoTimestampOffset=function(c){return void n:pd(c),nadispose"),Rl.forEach((function(d){c.abort(d),c.canRemoveSouc[d+"QueueCallbackventTarget),Ml=new Uint8Array("\n\n".split("").map((function(c){return c.charCodeAt(0)}))),Ul=function(c){function e(d,h){return(h=c.call(this,d,h=void 0===h?{}:h)||this).mediaSource_=null,h.subtitlesTrack_=null,h.loaderType_="subtitle",h.featuresNativeTextTracks_=d.featuresNativeTextTracks,h.shouldSaveSegmentTimingInfo_=!1,h}mt(e,c);var d=e.prot[[c,d]])},d.initSegmep=this.iint8ArracouldBegithis.subtitlestitlesTrack_)},d.fillBuffer_=this.chooseNextRequesn this.syncControllerents_(c.prototyment.empty;){if(c.mediaIndction(c){var d=c.cues;if(d)for(var h=0;h<d.length;h++){for(var p=[],f=0,E=0;E<dc.cues=[],c.timestampon(c,d,h){var p,f,E=c.segment;d&&(c.cues.length?(f=c.timestampmap,p=f.MPEGTS/Go-f.LOCAL+d.mapping,c.cues.forEach((function(c){c.startTime+=p,c.endTime+=p})),h.syncInfo||(f=c.cues[0].startTime,d=c.cues[c.cues.length-1].startTime,h.syncInfo={mediaSequence:h.mediaSequence+c.mediaIndex,time:Math.min(f,d-E.duration)})):E.empty=!0)},e}(Ol),Bl=[{name:"VOD",run:function(c,d,h,p,f){return h===1/0?null:{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function(c,d,h,p,f){if(!Object.keys(c.timelineToDatetimeMappings).length)return null;var E=null,k=null,C=nu(d);f=f||0;for(var I=0;I<C.length;I++){var x=C[d.endList||0===f?I:C.length-(I+1)],A=x.segment,P=c.timelineToDatetimeMappings[A.timeline];if(P&&A.dateTimeObject){var L=A.dateTimeObject.getTime()/1e3+P;if(A.parts&&"number"==typeof x.partIndex)for(var O=0;O<x.partIndex;O++)L+=A.parts[O].duration;if(P=Math.abs(f-L),null!==k&&(0===P||k<P))break;k=P,E={time:L,segmentIndex:x.segmentIndex,partIndex:x.partIndex}}}return E}},{name:"Segment",run:function(c,d,h,p,f){var E=null,k=null;f=f||0;for(var C=nu(d),I=0;I<C.length;I++){var x=C[d.endList||0===f?I:C.length-(I+1)],A=x.segment,P=x.part&&x.part.start||A&&A.start;if(A.timeline===p&&void 0!==P){if(A=Math.abs(f-P),null!==k&&k<A)break;(!E||null===k||A<=k)&&(k=A,E={time:P,segmentIndex:x.segmentIndex,partIndex:x.partIndex})}}return E}},{name:"Discontinuity",run:function(c,d,h,p,f){var E=null;if(f=f||0,d.discontinuityStarSequence+C+1,A=c.rn E}},{name:"Playlist",run:function(c,d,h,p,f){return d.syncInfo?{time:d.syncInfo.time,segmentIndex:d.syncInfo.mediaSequence-d.mediaSequence,partIndex:null}:null}}],Hl=function(c)},d.getExpiredTim})).segmentIndex&&([0].strategy,E=1;E<c.lenginfo. Media sequence gap "+h+mediaSequence: "+d.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},d.setDateTimeMappingForStart=function(c){var d;this.timelineToDatetimeMappings={},c.segments&&c.segments.length&&c.segments[0].dateTimeObject&&(c=(d=c.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[d.timeline]=-c)},d.saveSegmentTimingInfo=function(c){var d=c.segmentInfo,h=c.shouldSaveTimelineMapping,p=this.calculateSegmentTimeMapping_(d,d.timingInfo,h);c=d.segment;p&&(this.saveDiscontinuitySyncInfo_(d),d.playlist.sydex,time:c.start})),d=c.dateTimmelines[c.timeline]=C,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+c.timeline+": [time: "+C.time+"] [mapping: "+C.mapping+"]")),p=c.startOfSegment,f=d.end+C.mapping;else{if(!C)return!1;p=d.start+C.mapping,f=d.end+C.mapping}return k&&(k.start=p,k.end=f),(!E.start||p<E.start)&&(E.start=p),E.end=f,!0},d.saveDiscontinuitySyncInfo_=function(c){var d=c.playlist,h=c.segment;if(h.discontinuity)this.discontinuities[h.timeline]={time:h.start,accuracy:0};else if(d.discontinuityStarts&&d.discontinuityStarts.length)for(var p=0;p<d.discontinuityStarts.length;p++){var f,E=d.discontinuityStarts[p],k=d.discontinuitySequence+p+1,C=E-c.mediaIndex,I=Math.abs(C);(!this.discontinuivoid 0,f=C<0?h.start-lu({defaultDuuration:d.targetDuration,durationList:d.segments,startIndex:ction(){this.trigger("dispose"),this.off()},e}(ir.EventTarget),Vl=function(c){function e(){var d=c.call(this)||this;return d.pendingTimelineChanges_={},d.lastTimelineChanges_={},d}mt(e,c);var d=e.prototype;return d.clearPendingTimelineChange=function(c){this.pendingTimelineChanges_[c]=null,this.trigger("pendingtimelinechange")},d.pendingTimelineChange=function(c){var d=c.type,h=c.from;c=c.to;return"number"==typeof h&&"number"==typeof c&&(this.pendingTimelineChanges_[d]={type:d,from:h,to:c},this.trigger(.from;c=c.to;return"number"==typeof h&&"number"==typeof c&&(this.lastTimelineChanges_[d]={type:d,from:h,to:c},delete this.pendingTimelineChanges_[d],this.trigger("timelinechange")),this.lastTalThis:"},h.expurn d&&nctir=function(c){var d=thx=c.slice(0),A=[];for(this._key=[x,A],d=C;d<4*C+28;d++)p=x[d-1],(d%C==0||8===C&&d%C==4)&&(p=f[p>>>24]<<24^f[p>>16&255]<<16^f[p>>8&255]<<8^f[255&p],d%C==0&&(p=p<<8^p>>>24^I<<24,I=I<<1^283*(I>>7))),x[d]=x[d-C]^p;for(h=0;d;h++,d--)p=x[3&h?d:d-4],A[h]=d<=4||h<4?p:k[0][f[p>>>24]]^k[1][f[p>>16&255]]^k[2][f[p>>8&255]]^k[3][f[255&p]]}return e.prototype.decrypt=function(c,d,h,p,f,E){for(var k,C,I,x=this._key[1],A=c^x[0],P=p^x[1],L=h^x[2],O=d^x[3],D=x.length/4-2,R=4,N=(d=this._tables[1])[0],M=d[1],U=d[2],B=d[3],F=d[4],j=0;j<D;j++)k=N[A>>>24]^M[P>.delasJob_=functioam_=new C,this.asyncStream_.push(this.decryptChunk_(E.subarray(I,I+f),d,h,k)),I=f;I<E.length;I+=f)h=new Uint32Array([g(E[I-4]),g(E[I-3]),g(E[I-2]),g(E[I-1])]),this.asyncStream_.push(this.decryptChunk_(E.subarray(I,I+f),d,h,k));this.asyncStream_.push((function(){var c;p(null,(c=k).subarray(0,c.byteLength-c[c.byteLength-1]))}))}return u.prototype.decryptChunk_=function(c,d,h,p){return function(){var f=function(c,d,h){for(var p,f,E,C,I=new Int32Array(c.buffer,c.byteOffset,c.byteLength>>2),x=new k(Array.prototype.slice.call(d)),A=(c=new Uint8Array(c.byteLength),new Int32Array(c.buffer)),P=h[0],L=h[1],O=h[2],D=h[3],R=0;R<I.length;R+=4)p=g(I[R]),f=g(I[R+1]),E=g(I[R+2]),C=g(I[R+3]),x.decrypt(p,f,E,C,A,R),A[R]=g(A[R]^P),A[R+1]=g(A[R+1]^L),A[R+2]=g(A[R+2]^O),A[R+3]=g(A[R+3]^D),P=p,L=f,O=E,D=C;return c}(c,d,h);p.set(f,c.byteOffset)}},d(u,null,[{key:"STEP",get:function(){return 32e3}}]),u}();(c=(c="undefined"!=typeof window?window:void 0!==c?c:"undefined"!=typeof self?self:{}).BigInt||Number)("0x1"),c("0x100"),c("0x10000"),c("0x1000000"),c("0x100000000"),c("0x10000000000"),c("0x1000000000000"),c("0x10000000000byteOffset,d.iv.byteLength/4);new I(h,p,c,(function(c,h){self.postMessage(function(c){var d={};return Object.keys(c).forEach((function(h){var p,f=c[h];p=f,("function"===ArrayBuffer.isView?ArrayBuffer.isView(p):p&&p.buffer instanceof ArrayBuffer)?d[h]={bytes:f.buffer,byteOffset:f.byteOffset,byteLength:f.byteLength}:d[h]=f})),d}({source:d.source,decrypted:h}),[h.buffer])}))}})))),Wl={AUDIO:function(c,d){return function(){var h=d.segmentLoaders[c],p=d.mediaTypes[c],f=d.blacklistCurrentPlaylist;nd(h,p);var E=p.activeTrack(),k=(h=((h=p.activeGroup()).filter((function(c){return c.default}))[0]||h[0]).id,p.tracks[h]);if(E!==k){for(var C in ir.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),p.tracks)p.tracks[C].enabled=p.tracks[C]===k;p.onTrackChanged()}e}}},Gl={AUr p=h.tech,f=h.requestOptions,E=h.segmentLoaders[c],k=h.mediaTypes[c];d.on("loadedmetadata",(function(){var c=d.media();E.playlist(c,f),E.track(k.activeTrack()),(!p.paused()||c.endList&&"none"!==p.preload())&&E.load()})),d.on("loadedplaylist",(function(){E.playlist(d.media(),f),p.paused()||E.load()})),d.on("error",Wl[c](c,h))}},zl={AUDIO:function(c,d){var h,p,f=d.vhs,E=d.sourceType,k=d.segmentLoaders[c],C=d.requestOptions,I=d.master.mediaGroups,x=d.mediaTypes[c],A=x.groups,P=x.tracks,L=x.logger_,O=d.masterPlaylistLoader,D=vu(O.master);for(h in I[c]&&0!==Object.keys(I[c]).length||(I[c]={main:{default:{default:!0}}},D&&(I[c].main.default.playlists=O.master.playlists)),I[c])for(var R in A[h]||(A[h]=[]),I[c][h]){var N=I[c][h][R],M=void 0;M=D?(L("AUDIO group '"+h+"' label '"+R+"' is a master playlist"),N.isMasterPlaylist=!0,null):"vhs-json"===E&&N.playlists?new rl(N.playlists[0],f,C):N.resolvedUri?new rl(N.resolvedUri,f,C):N.playlists&&"dash"===E?new El(N.playlists[0],f,C,O):null,N=ir.mergeOptions({id:R,playlistLoader:M},N);Gl[c](c,N.playlse"vhs-json"===E&&(R=new rl(D.playlists?D.playlists[0]:D.resolvedUri,f,C));D=ir.mergeOptions({id:O,playlistLoader:R},D),Gl[c](c,D.playlistLoader,d),A[h].push(D),void 0===P[O]&&(D=p.addRemoteTextTrack({id:O,kind:"subtitles",default:D.default&&D.autoselect,language:D.language,label:O},!1).track,P[O]=D)}k.on("error",Wl[c](c,d))},"CLOSED-CAPTIONS":function(c,d){var h,p=d.tech,f=d.master.mediaGroups,E=(d=d.mediaTypes[c]).groups,k=d.tracks;for(h in f[c])for(var C in E[h]||(E[h]=[]),f[c][h]){var I,x,A=f[c][h][C];/^(?:CC|SERVICE)/.test(A.instreamId)&&(void 0===(x=(I=p.options_.vhs&&p.options_.vhs.captionServices||{})[(x={label:C,language:A.language&&delete xlanguage,label:x.label},!1).track,k[C]=x))}}},Xl={AUDIO:function(c,d){return function(){var h,p=d.mediaTypes[c].tracks;for(h in p)if(p[h].enabled)return p[h];return null}},SUBTITLES:function(c,d){return function(){var h,p=d.mediaTypes[c].tracks;for(h in p)if("showing"===p[h].mode||"hidden"===p[h].mode)return p[h];return null}}},ec=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],tc=function(c){function e(d){var h=c.call(this)||this,p=d.src,f=d.handleManifestRedirects,E=d.withCredentials,k=d.tech,C=d.bandwidth,I=d.externVhs,x=d.useCueTags,A=d.blacklistDuration,P=d.enableLowInitialPlaylist,L=d.sourceType,O=d.cacheEncryptionKeys,D=d.experimentalBufferBasedABR,R=d.experimentalLeastPixelDiffSelector,N=d.captionServices;if(!p)throw new Error("A non-empty playlist URL or JSON manifest string is required");var M,U=d.maxPlaylistRetries;return null!=U||(U=1/0),Dl=I,h.experimentalBufferBasedABR=Boolean(D),h.experimentalLeastPixelDiffSelector=Boolean(R),h.withCredentials=E,h.tech_=k,h.vhs_=k.vhs,h.sourceType_=L,h.useCueTags_=x,h.blacklistDuration=A,h.maxPlaylistRetries=U,h.enableLowInitialPlaylPlaylistRetries:U,timeout:null},h.on("error",h.pauseLoading),h.mediaTypes_=(M={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(c){M[c]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Kl,activeTrack:Kl,getActiveGroup:Kl,onGroupChanged:Kl,onTrackChanged:Kl,lastTrack_:null,logger_:Ko("MediaGroups["+c+"]")}})),M),h.mediaSource=new window.MediaSource,h.handleDurationChange_=h.handleDurationChange_.bind(ft(h)),h.handleSourceOpen_=h.handleSourceOpen_.bind(ft(h)),h.handleSourceEnded_=h.handleSourceEnded_.bind(ft(h)),h.mediaSource.addEventListener("durationchange",h.handleDurationChange_),h.mediaSource.addEventListener("sourceopen",h.handleSourceOpen_),h.mediaSource.addEventListener("sourceended",h.handleSourceEnded_),h.seekable_=ir.createTimeRanges(),h.hasPlayed_=!1,h.syncController_=new Hl(d),h.segmentMetadataTrack_=k.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,h.decrypter_=new ql,h.sourceUpdater_=new Nl(h.mediaSource),h.inbandTextTracks_={},h.timelineChangeController_=new Vl,O={vhs:h.vhs_,parse708captions:d.parse708captions,useDtsForTimestampOffset:d.useDtsForTimestampOffset,captionServices:N,mediaSource:h.mediaSource,currentTime:h.tech_.currentTime.bind(h.tech_),seekable:function(){return h.seekable()},seeking:function(){return h.tech_.seeking()},duration:function(){return h.duration()},hasPlayed:function(){return h.hasPlayed_},goalBufferLength:function(){return h.goalBufferLength()},bandwidth:C,syncController:h.syncController_,decrypter:h.decrypter_,sourceType:h.sourceType_,inbandTextTracks:h.inbandTextTracks_,cacheEncryptionKeys:O,sourceUpdater:h.sourceUpdater_,timelineChangeController:h.timelineChangeController_,experimentalExactManifestTimings:d.experimentalExactManifestTimings},h.masterPlaylistLoader_=new("dash"===h.sourceType_?El:rl)(p,h.vhs_,h.requestOptions_),h.setupMasterPlaylistLoaderListeners_(),h.mainSegmentLoader_=new Ol(ir.mergeOptions(O,{segmentMetadataTrack:h.segmentMetadataTrack_,loaderType:"main"}),d),h.audioSegmentLoader_=new Ol(ir.mergeOptions(O,{loaderType:"audio"}),d),h.subtitleSegmentLoader_=new Ul(ir.mergeOptions(O,{loaderType:"vtt",featuresNativeT(h.masterPlaylistLoader_.one("loadedplaylist",(function(){return h.startABRTimer_()})),hch_.on("play",(function(){return h.startABRTimer_()}))),ec.forEach((function(c){h[c+"_"]=function(c){return this.audioSegmentLoader_[c]+this.mainSegmentLoader_[c]}.bind(ft(h),c)})),h.logger_=Ko("MPC"),h.triggeredFmp4_=-1,h.audioAppendsToLoadedData__=-1,d="none"===h.tech_.preload()?"play":"loadstart",h.tech_.one(d,(function(){var c=Date.now();h.tech_.one("loadeddata",(function(){h.timeToLoadedData__=Date.now()-c,h.mainAppendsToLo),h}mt(e,c);var d=e.prototype;return d.mainAppendsToLoadedData_=function(){.appendsToLoadedData_=function(){var c=this.mainAppendsToLoadedData_(),d=this.audioAppendsToLoadedData_();return-1===c||-1===d?-1:c+d},d.timeToLoadedData_=function(){return this.timeToLoadedData__},d.checkABR_=function(c){void 0===c&&(c="abr");var d=this.selectPlaylistid||f.uri),f=c.indition-change-"+d})),thisurn d;var C,I=[];for(C in p)if(p[C][h.label]){var x=p[C][h.label];if(x.playlists&&x.playlists.length)I.push.apply(I,x.playlists);else if(x.uri)I.push(x);else if(c.playlists.length)for(var A=0;A<c.playlists.length;A++){var P=c.playlists[A];P.attributes&&P.attributes.AUDIO&&P.attributes.AUDIO===C&&I.push(P)}}return I.length?I:d},d.setupMasterPlaylistLoaderListeners_=function(){var c=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var d=c.masterPlaylistLoader_.media(),h=;mu(c.masterPlaylistLoader_.master,c.masterPlaylistLoader_.media())?c.requestOptions_.timeout=0:c.reque),function(c){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(d){zl[d](d,c)}));var d,h=c.mediaTypes,p=c.masterPlaylistLoader,f=c.tech,E=c.vhs,k=c.segmentLoaders,C=k.AUDIO,I=k.main;function l(){h.AUDIO.onTrackChanged(),f.trigger({type:"usage",name:"vhs-audio-change"}),f.trigger({type:"usage",name:"hls-audio-change"})}for(d in["AUDIO","SUBTITLES"].forEach((function(d){var p,f,E,k,C,I,x,A,P,L;h[d].activeGroup=(p=d,f=c,function(c){var d=f.masterPlaylistLoader,h=f.mediaTypes[p].groups,E=d.media();if(!E)return null;var k=null;E.attributes[p]&&(k=h[E.attributes[p]]);var C=Object.keys(h);if(!k)if("AUDIO"===p&&1<C.length&&vu(f.master))for(var I=0;I<C.length;I++){var x=h[C[I]];if(ad(x,E)){k=x;break}}else h.main?k=h.main:1===C.length&&(k=h[C[0]]);return void 0===c?k:null!==c&&k&&k.filter((function(d){return d.id===c.id}))[0]||null}),h[d].activeTrack=Xl[d](d,c),h[d].onGroupChanged=(E=d,k=c,function(){var c=C=h.activePlaylistLoader,I=h.lastGroup_;f&&I&&f.id===I.id||(h.lastGroup_=f,h.lastTrack_=p,nd(c,h),f&&!f.isMasterPlaylist&&(f.playlistLoader?(c.resyncLoader(),rd(f.playlistLoader,h)):C&&d.resetEverything()))}),h[d].onGroupChanging=(C=d,I=c,function(){var c=I.segmentLoaders[C];I.mediaTypes[C].lastGroup_=null,c.abort(),c.pause()}),h[d].onTrackChanged=(x=d,A=c,function(){var c=A.masterPlaylistLoader,d=(P=A.segmentLoaders)[x],h=P.main,p=A.mediaTypes[x],f=p.activeTrack(),E=p.getActiveGroup(),k=p.activePlaylistLoader,C=p.lastTrack_;if((!C||!f||C.id!==f.id)&&(p.lastGroup_=E,p.lastTrack_=f,nd(d,p),E)){if(E.isMasterPlaylist){if(!f||!C||f.id===C.id)return;var I=A.vhs.masterPlaylistController_,P=I.selectPlaylist();return I.media()===P?void 0:(p.logger_("track change. Switching master audio tyChange_(P))}if("AUDIO"===x){if(!E.playlistLoader)return h.setAudio(!0),void h.resetEverything();d.setAudio(!0),h.setAudio(!1)}k!==E.playlistLoader&&(d.track&&d.track(f),d.resetEverything()),rd(E.playlistLoader,p)}}),h[d].getActiveGroup=(P=d,L=c.mediaTypes,function(){var c=L[P].activeTrack();return c?L[P].activeGroup(c):null})})),(k=h.AUDIO.activeGroup())&&(k=(k.filter((function(c){reUDIO.onTrackChanged(),h.AUDIO.getActiveGroup().playlistLoader?(I.setAudio(!1),C.setAudio(!0)):I.setAudio(!0)),p.on("mediachange",(functionrEach((function(c){return h[c].onGroupChanging()}))})),f.audioTracks().addEventListener("change",l),f.remoteTextTracks().addEventListener("change",h.SUBTITLES.onTrackChanged),E.on("dispose",(function(){f.audioTracks().removeEventListener("change",l),f.remoteTextTracks().removeEventListener("change",h.SUBTITLES.onTrackChanged)})),f.clearTracks("audio"),h.AUDIO.tracks)f.audioTracks().addTrack(h.AUDIO.tracks[d])}({sourceType:c.sourceType_,segmentLoaders:{AUDIO:c.audioSegmentLoader_,SUBTITLES:c.subtitleSegmentLoader_,main:c.mainSegmentLoader_},tech:c.tech_,requestOptions:c.requestOptions_,masterPlaylistLoader:c.masterPlaylistLoader_,vhs:c.vhs_,master:c.master(),mediaTypes:c.mediaTypes_,blacklistCurrentPlaylist:c.blacklistCurrentPlaylist.bind(c)}),c.triggerPresenceUsage_(c.master(),d),c.setupFirstPlay(),!c.mediaTypes_.AUDIO.activePlaylistLoader||c.mediaTypes_.AUDIO.activePlaylistLoader.media()?c.trigger("selectedinitialmedia"):c.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){c.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){c.loadOnPlay_&&c.tech_.off("play",c.loadOnPlay_);var d,h=c.masterPlaylistLoader_.media();if(!h){if(c.excludeUnsupportedVariants_(),!(d=(dlist())||!c.shouldSwitchToMedia_(d))return;if(c.ic.sourceType_||!c.initialMedia_.segments)returnistLoader_.media(),h=1.5*d.targetDuration*1e3;mu(c.maachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var d=c.masterPlaylistLoader_.media();"playlist-unchanged"!==d.lastExcludeReason_&&c.stuckAtPlaylistEnd_(d)&&(c.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),c.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){c.tech_.triggepe:"usage",name:"hls-rendition-enabled"})}))},d.handleUpdatedMediaPlaylist=function(c){this.useCueTags_&&this.updateAdCues_(c),this.mainSegmentLoader_.playlist(c,this.requestOptions_),this.updateDuration(!c.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},d.triggerPresenceUsage_=function(c,d){var h,p=c.mediaGroups||{},f=!0;c=Object.keys(p.AUDIO);for(h in p.AUDIO)for(var E in p.AUDIO[h])p.AUDIO[h][E].uri||(f=!1);f&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(p.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Dl.Playlist.isAes(d)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),c.length&&1<Object.keys(p.AUDIO[c[0]]).length&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},d.shouldSwitchToMedia_=function(c){var d=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,h=this.tech_.currentTime(),p=this.bufferLowWaterLine(),f=this.bufferHighWaterLine();return function(c){var d=c.currentPlaylist,h=c.buffered,p=c.currentTime,f=c.nextPlaylist,E=c.bufferLowWaterLine,k=c.bufferHighWaterLine,C=c.duration,I=c.experimentalBufferBasedABR,x=c.log;if(!f)return ir.log.warn("We received no playlist to switch to. Please check your stream."),!1;var A="allowing switch "+(d&&d.id||"null")+" -> "+f.id;return d?f.id!==d.id&&(c=Boolean(Qo(h,p).length),d.endList?(h=tu(h,p),C<(p=I?kl.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:kl.MAX_BUFFER_LOW_WATER_LINE)?(x(A+" as duration < max low water line ("+C+" < "+p+")"),!0):(p=f.attributes.BANDWIDTH)<(f=d.attributes.BANDWIDTH)&&(!I||h<k)?(d=A+" as next bandwidth < current bandwidth ("+p+" < "+f+")",I&&(d+=" and forwardBuffer < bufferHighWaterLine ("+h+" < "+k+")"),x(d),!0):(!I||f<p)&&E<=h?(E=A+" as forwardBuffer >= bufferLowWaterLine ("+h+" >= "+E+")",I&&(E+=" and next bandwidth > current bandwidth ("+p+" > "+f+")"),x(E),!0):(x("not "+A+" as no switching criteria met"),!1)):c||"number"!=typeof d.partTargetDuration?(x(A+" as current playlist is live"),!0):(x("not "+A+" as current playlist is live llhls, but currentTime isn't in buffered."),tion:this.duration(),experimentalBufferBasedAteners_=function(){var c=this;function eSourceBuffers_();var d=c.getCodecsOrExclude_();d&&c.sourceUpdater_.addOrChangeSourceBuffers(d)}this.mainSegmentLoader_.on("bandwidthupdate",(funct")})),this.mainSegmentLoader_.on("timeout",(function(){c.experimentalBufferBasedABR&&c.mainSegmentLoader_.load()})),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",(function(){c.trigger("progress")})),this.mainSegment(function(){c.error=c.mainSegmentLoader_.error_,c.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){c,(function(){c.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),c.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmtion(){c.logger_("main segment loader ended"),c.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(d){c.experimentalBufferBasedABR||(c.delegateLoaders_("all",["abort"]),c.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebufferidFmp4Usage||(c.tech_.trigger({type:"usa),c.triggeredFmp4Usage=!0mp4"}),_=function(){return MataSecondsLoaded)},d.loylistLostQualityChange br h=this.seekable();if(!h.length)return!1;if(ir.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){c.trigger("firstplay"),c.tech_.setCurrentTime(h.end(0)),c.hasPlayed_=!0})),!1;this.ts.tech_.play())&&"function"==typeof c.then&&c.then(null,(function(c){})),this.trigger("soe_=function(){this.tech_.trigger("durationchange")},d.onEndOfStream=function(){var c,d=this.mainSegmentLoader_.ended_;(d=this.mediaTypes_.AUDIO.activePlaylistLoader?((c=this.mainSegmentLoader_.getCurrentMediaInfo_())&&!c.hasVideo||d)&&this.audioSegmentLoader_.ended_:d)&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},d.stuckAtPlaylistEnd_=function(c){if(!this.seekable().length)return!1;if(null===(d=this.syncController_.getExpiredTime(c,this.duration())))return!1;var d,h=Dl.Playlist.playlistEnd(c,d);c=this.tech_.currentTime();return(d=this.tech_.buffered()).length?(d=d.end(d.length-1))-c<=.1&&h-d<=.1:h-c<=.1},d.blacklistCurrentPlaylist=function(c,d){var h=(c=void 0===c?{}:c).playlist||this.masterPlaylistLoader_.media();if(d=d||c.blacklistDuration||this.blacklistDuration,!h)return this.error=c,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));h.playlistErrors_++;var p,f=this.masterPlaylistLoader_.master.playlists,E=f.filter(pu),k=1===E.length&&E[0]===h;return 1===f.length&&d!==1/0?(ir.log.warn("Problem encountered with playlist "+h.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(k)):(k&&(p=!1,f.forEach((function(c){var d;c===h||void 0!==(d=c.excludeUntil)&&d!==1/0&&(p=!0,delete c.excludeUntil)})),p&&(ir.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))),E=h.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*d,h.excludeUntil=E,c.reason&&(h.lastExcludeReason_=c.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),(f=this.selectPlaylist())?(d=c.internal?this.logger_:ir.log.warn,E=c.message?" "+c.message:"",d((c.internal?"Internal problem":"Problem")+" encountered with playlist "+h.id+"."+E+" Switching to playlist "+f.id+"."),f.attributes.AUDIO!==h.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==h.attributes.SUBTITLES&&this.delegateLoaders_("subtitlDuration/2*1e3||5e3,E="number"==typeof f.lastRequest&&Date.now()-f.lastRequest<=E,this.switchMedia_(f,"exclude",k||E)):(this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error")))}BRTimer_()},d.delegateLoaders_=functionistLoader_);vAPTIONS"),E.push("SU_.resetEverITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEvend(0)?this.seekabthis.mediateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.uphandleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},d.master=function(){return this.masterPlaylistLoader_.master},d.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},d.areMediaTypesKnown_=function(){var c=!!this.mediaTypes_.AUDIO.activePlaylistLoader,d=!!this.mainSegmentLoader_.getCurrentMediaInfo_();c=!c||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return d&&c},d.getCodecsOrExclude_=function(){var c=this,d={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};d.video=d.main;var h=dl(this.master(),this.media()),p={},f=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(d.main.hasVideo&&(p.video=h.video||d.main.videoCodec||"avc1.4d400d"),d.main.isMuxed&&(p.video+=","+(h.audio||d.main.audioCodec||Qr)),(d.main.hasAudio&&!d.main.isMuxed||d.audio.hasAudio||f)&&(p.audio=h.audio||d.main.audioCodec||d.audio.audioCodec||Qr,d.audio.isFmp4=(d.main.hasAudio&&!d.main.isMuxed?d.main:d.audiop.hasOwnProperty(c)&&!(d[c].isFmp4?gr:yr)(h=p[c])&&(h=d[c].isFmp4?"browser":"muxer",C[h]=C[h]||[],C[h].push(p[c]),"audio"===c&&(E=h))})),f&&E&&this.media().attributes.AUDIO&&(k=this.media().attributes.AUDIO,this.master().playlists.forEach((functionength){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var I=[];if(["video","audio"].forEach((function(d){var h=(pr(c.sourceUpdater_.codecs[d]||"")[0]||{}).type,f=(p_.codecs[d]+'" -> "'+p[d]+'"')})),I.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+I.join(", ")+".",blacklistDuration:1/0,internal:!0})}return p}f=Object.keys(C).reduce((function(c,d){return c&&(c+=", ")n:1/0})},d.tryToCreateSourceBuush(E.id),f=[],!(p=dl(c.master,E)).audio||yr(p.audio)||gr(p.audio)||f.push("audio codec "+p.audio),!p.video||yr(p.video)||gr(p.video)||f.push("video codec "+p.video),p.text&&"stpp.ttml.im1t"===p.text&&f.push("text codec "+p.text),f.length&&(E.excludeUntil=1/0,c.logger_("excluding "+E.id+" for unsupported: "+f.join(", "))))}))},d.excludeIncompatibleVariants_=function(c){var d=this,h=[],p=this.master().playlists,f=ll(c=ul(pr(c))),E=c.video&&pr(c.video)[0]||null,k=c.audio&&pr(c.audio)[0]||null;Object.keys(p).forEach((function(c){var C,I,x=p[c];-1===h.indexOf(x.id)&&x.excludeUntil!==1/0&&(h.push(x.id),C=[],c=ll(I=dl(d.masterPlaylistLoader_.master,x)),(I.audio||I.video)&&(c!==f&&C.push('codec count "'+c+'" !== "'+f+'"'),d.sourceUpdater_.canChangeType()||(c=I.video&&pr(I.video)[0]||null,I=I.audio&&pr(In I&&((C=new window0],k=k[1],(C=new windX_GOAL_BUFFER_LENGTH);return Math.min(d+c*h,p)},d.bufferLowWaterLine=function(){var c=this.tech_.currentTime(),d=kl.BUFFER_LOW_WATER_LINE,h=kl.BUFFER_LOW_WATER_LINE_RATE,p=Math.max(d,kl.MAX_BUFFER_LOW_WATER_LINE),f=Math.max(d,kl.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(d+c*h,this.expeighWaterLine=function(){return kl.BUFFER_HIGH_WATER_LINE},e}(ir.EventTarget),ic=["seeking","seeked","pause","playing","error"],nc=function(){function e(c){var d=this;function t(){return d.monitorCurrentTime_()}function n(){return d.monitorCurrentTime_()}function r(){return d.techWaiting_()}function a(){return d.cancelTimer_()}this.masterPlaylistController_=c.masterPlaylistController,this.tech_=c.tech,this.seekable=c.seekable,this.allowSeeksWithinUnsafeLiveWindow=c.allowSeeksWithi,this.lastppended",d.seekingAppendChen(){return d.checkSegmentDownlr_"].on("appendsdone",f[cdate",f[c].reset),d.tech_.on(["seeked","seeking"],f[c].reset)})),this.seekingAppendCheck_=function(){d.fixesBadSeeks_()&&(d.consecutiveUpdates=0,d.lastRecordedTime=d.tech_.currentTime(),l("off"))},this.clearSeekingApg_),d.tech_.off("seeked",d.clearSeekingAppendChmeout_&&window.clearTimeout_=window.setTimeout(thih.playlist_.id,buffeTime(),d=this.ttiveUpdates&&c===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):c===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=c)}},c.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},c.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var c,d=this.seekable(),h=this.tech_.currentTime();if(this.afterSeekableWindow_(d,h,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(c=d.end(d.length-1)),void 0!==(c=this.beforeSeekableWindow_(d,h)?(E=d.start(0))+(E===d.end(0)?0:.1):c))return this.logger_("Trying to seek outside of seekable at time "+h+" with seekable range "+Jo(d)+". Seeking to "+c+"."),this.tech_.setCurrentTime(c),!0;for(var p=this.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),E=p.audioBuffer?p.audioBuffered():null,k=(d=p.videoBuffer?p.videoBuffered():null,(p=this.media()).partTargetDuration||2*(p.targetDuration-Bu)),C=[E,d],I=0;I<C.length;I++)if(C[I]&&tu(C[I],h)<k)return!1;return 0!==(f=$o(f,h)).length&&(c=f.start(0)+.1,this.logger_("Buffered region starts ("+f.start(0)+")  just beyond seek point ("+h+"). Seeking to "+c+"."),this.tech_.setCurrentTime(c),!0)},c.waiting_=function(){var c,d;this.techWaiting_()||(c=this.tech_.currentTime(),(d=Qo(d=this.tech_.buffered(),c)).length&&c+3<=d.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(c),this.logger_("Stopped at "+c+" while inside a buffered region ["+d.start(0)+" -> "+d.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))},c.techWaiting_=function(){var c=this.seekable(),d=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(c,d)){var h=c.end(c.length-1);return this.logger_("Fell out of live window at time "+d+". Seeking to live point (seekable end) "+h),this.cancelTimer_(),this.tech_.setCurrentTime(h),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}return c=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,h=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:c.audioBuffered(),videoBuffered:c.videoBuffered(),currentTime:d})?(this.cancelTimer_(),this.tech_.setCurrentTime(d),this.tech_.trigger({type:"u"Stopped at "+d+", settiis.skipTheGap_.binf=c.audioBuffered,E=c.currentTime;if(p)return p.length&&f.length?(h=Qo(p,E-3),c=Qo(p,E),(f=Qo(f,E)).length&&!c.length&&h.length&&(d={start:h.end(0),end:f.end(0)})):$o(p,E).length||(d=this.gapFromVideoUnderflow_(p,E)),!!d&&(this.logger_("Encountered a gap in video from "+d.start+" to "+d.end+". Seeking to current time "+E),!0)},c.skipTheGap_=function(c){var d=this.tech_.buffered(),h=this.tech_.currentTime();d=$o-gap-skip"}))},c.gapFromVideoUnderfl<c.length;h++){var p=c.end(h-1),f=c.start(h);d.push([p,f])}return ir.createTimeRanges(d)}(c),p=0;p<htUseThisInPlugins:!0}).currentSource_||this.currentSourcmBandwidth,h=this.systemBandwidth),0<this.systemBandwiibutes.RESN.width?d.attributes.RESect.defineProperty(ac,cs UNSAFE be sure you know what you are doing"),"number"!=typeof d||d<0?ir.log.warn("value of Vhs."+c+" must be greater than or equal to 0"):kl[ocument.createElement)return!1;var c=document.createElement("video");return!!ir.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mly/i.test(c.canted())&&/maybe|prober_.checkABR_()})),f.on(f.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),f.on(f.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),f.on(f.tech_,"play",f.play),f}mt(e,c);var d=e.prototype;return d.setOptions_=function(){var c,d=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((c=qd())&&c.bandwidth&&(this.options_.bandwidth=c.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),c&&c.throughput&&(this.options_.throughput=c.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=kl.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===kl.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagPaionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(c){void 0!==d.source_[c]&&(d.options_[c]=d.source_[c])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},d.src=function(c,d){var h=this;c&&(this.setOptions_(),this.options_.src=0===(c=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(c.substring(c.indexOf(",")+1)):c,this.options_.tech=this.tech_,this.options_.externVhs=ac,this.options_.sourceType=vr(d),this.options_.seekTo=function(c){h.tech_.setCurrentTime(c)},this.options_.smoothQualityChange&&ir.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistCler_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new nc(d),this.masterPlaylistController_.on("error",(function(){var c=ir.players[h.tech_.options_.playerId],d=h.masterPlaylistController_.error;"object"!=typeof d||d.code?"string"==typeof d&&(d={message:d,code:3}):d.code=3,c.error(d)})),d=this.options_.experimentalBufferBasedABR?ac.movingAverageBandwidthSelector(.55):ac.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||d).bind(this),this.masterind(this),this.plster:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegm||window.navigator.mozd.dostController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),d=0<0;return Math.floor(1/(c+d))},set:function(){ir.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return h.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return h.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return h.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return h.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return h.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return h.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return h.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return h.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return h.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return h.m,audioAppendsToLoadedData:{get:function(){return h.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return h.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return h.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Zo(rrentTime:{get:function(){return h.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return h.tecech:{get:function(){return h.tech_.name_},enumerable:!0},duration:{get:function(){return h.tech_.durah.playlists.master},enumerable:!0},playerDimensions:{get:function(){return h.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Zo(h.tecd(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){h.options_.useBandwidthFromLocalStorage&&function(c){if(window.localStorage){var d=(d=qd())?ir.mergeOptions(d,c):c;try{window.localStorage.setItem(sc,JSON.stringify(ddwidth:oughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var c;(c=h).representations=function(){var d;return(d=vu(d=c.masterPlaylistConer_.getAudioTrackPlaylists_():d.playlists)?d.filter((function(c){return!hu(c)})).map((function(d,h){return new od(c,d,d.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){h.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},d.createKeySessions_=functdioMedia;if(c=c.mainPlaylists,!d.eme.intion[h];return p&&p.pssh&&(c[h]={pssh:p.pssh}),c}),{});return Object.keys(h).length&&c.push(h),c}),[]);var f,E=[],k=[];return c.forEach((function(c){k.push(new Promise((function(c,h){d.tech_unction(cia:d&&d.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){c.logger_("created EME key session"),c.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(d){c.logger_("error while creating EME key session",d),c.player_.error({message:"Failed to in&(p.audio=h.attributes.CODECS);var f,E=mr(p.video),k=mr(p.audio),C={};for(f in c)C[f]={},k&&(C[f].audioContentType=k),E&&(C[f].videoContentType=E),d.contentProtection&&d.contentProtection[f]&&d.contentProtection[f].pssh&&(C[f].pssh=d.contentProtection[f].pssh),"string"==typeof c[f]&&(C[f].url=c[f]);return ir.mergeOptions(c,C((d=ir.log).warn.apply(d,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat!this.qualevels_,(h=c).representations().forEach((function(c){d.addQualityLevel(c)})),Bd(d,h.playlists)})),this.playlists.on("mediachange",(function(){Bd(c.qualityLevels_,c.playlists)})))},e.version=function(){return{"@videojs/http-streaming":"2.15.1","mux.js":"6.0.1","mpd-parser":"0.22.1","m3u8-parser":"4.8.0","aes-decrypter":"3.1.3"}},d.version=function(){return this.constructor.version()},d.canChangeTypeis.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.medn));f++);var E=d.segments[d.segments.length-1];if(E.videoTimingInfo&&E.videoTimingInfo.transmuxedPresentationEnd<c)return null;if(p<c){if(c>p+.25*E.duration)return null;h=E}return{segment:h,estimatedStart:h.videoTimingInfo?h.videoTimingInfo.transmuxedPresentationStart:p-h.duration,type:h.videoTimingInfo?"accurate":"estimate"}}(p,d))?"estimate"===c.type?h({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:c.estimatedStart}):(d={mediaSeconds:p},(c=function(c,d){if(!d.dateTimeObject)return null;var h=d.videoTimingInfo.transmuxerPrependedSeconds;return h=c-(d.videoTimingInfo.transmuxedPre provided"})}({playlist:this.masterPlaylistController_.media(),time:c,callback:d})},d.seekToProgramhis.masterPlaleSource:function(c,d,h){return h=ir.mergeOptions(ir.options,h=void 0===h?{}:h),d.vhs=new oc(c,d,h),ir.hasOwnProperty("hls")||Object.defineProperty(d,"hls",{get:function(){return ir.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),d.vhs},configurable:!0}),d.vhs.xhr=Pu(),d.vhs.src(c.src,c.type),d.vhs},canPlayType:function(c,d){var h=ir.mergeOptions(ir.options,d=void 0===d?{}:d);d=void 0===(d=(d=void 0===(d=h.vhs)?{}:d).overrideNative)?!ir.browser.IS_ANY_SAFARI:d,h=void 0!==(h=(h=void 0===(h=h.hls)?{}:h).overrideNative)&&h;return(c=vr(c))&&(!ac.supportsTypeNatively(c)||h||d)?"maybe":""}};return gr("avc1.4d400d,mp4a.40.2")&&ir.getTech("Html5").registerSourceHandler(uc,0),ir.VhsHandler=oc,Object.defineProperty(ir,"HlsHandler",{get:function(){return ir.log.warn("videojs.HlsHeHandler=uc,Object.defineProperty(ir,"HlsSourceHandler",{get:function(){return ir.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),uc},configurable:!0}),ir.Vhs=ac,Object.defineProperty(ir,"Hls",{get:function(){return ir.loeprecated. Use videojs.Vhs instead."),ac},configurable:!0}),ir.use||(ir.registerComponent("Hls",ac),ir.registerComponent("Vhs",ac)),ir.options.vhs=ir.options.vhs||{},ir.options.hls=ir.options.hls||{},ir.getPlugin&&ir.getPlugin("reloadSourceOnError")||(ir.registerPlugin||ir.plugin)("reloadSourceOnError",(function(c){ud(this,c)})),ir}));