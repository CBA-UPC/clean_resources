"use strict";(self.webpackChunkxhh=self.webpackChunkxhh||[]).push([[70031],{51899:
/*!*******************************************************************************!*\
  !*** ./webapp-static/lux/components/Applicant/JobSearchStatus/ChangeForm.tsx ***!
  \*******************************************************************************/(e,n,t)=>{t.d(n,{Z:()=>E});var s,r=t(/*! @babel/runtime/helpers/slicedToArray */61785),i=t(/*! @babel/runtime/helpers/defineProperty */71909),o=t(/*! react */17390),a=t(/*! @hh.ru/analytics-js-events/build/xhh/applicant/user_status/user_status_select_button_click */94884),c=t.n(a),l=t(/*! @hh.ru/analytics-js-events/build/xhh/applicant/user_status/user_status_select_element_shown */37754),u=t.n(l),p=t(/*! bloko/blocks/radio */79161),d=t.n(p),v=t(/*! bloko/blocks/text */49500),m=t.n(v),y=t(/*! bloko/blocks/vSpacing */45163),f=t.n(y),h=t(/*! lux/components/Form */87226),b=t(/*! lux/components/translation */74664),g=t(/*! lux/models/applicantUserStatuses */16944),j=t(/*! lux/components/Applicant/JobSearchStatus/useSetJobSearchStatus */85221),S=t(/*! react/jsx-runtime */16763),R=[g.Lx.ActiveSearch,g.Lx.LookingForOffers,g.Lx.HasJobOffer,g.Lx.AcceptedJobOffer,g.Lx.NotLookingForJob],x=(s={},(0,i.Z)(s,g.Lx.ActiveSearch,"jobSearchStatus.change.version2.active_search"),(0,i.Z)(s,g.Lx.LookingForOffers,"jobSearchStatus.change.version2.looking_for_offers"),(0,i.Z)(s,g.Lx.HasJobOffer,"jobSearchStatus.change.version2.has_job_offer"),(0,i.Z)(s,g.Lx.AcceptedJobOffer,"jobSearchStatus.change.version2.accepted_job_offer"),(0,i.Z)(s,g.Lx.NotLookingForJob,"jobSearchStatus.change.version2.not_looking_for_job"),s),_=function(e){var n=e.onSuccess,t=e.currentStatus,s=e.setDisabled,i=e.isCompact,a=e.statusesList,l=e.formId,p=e.trls,v=(0,o.useState)(t||g.Lx.Unknown),y=(0,r.Z)(v,2),b=y[0],_=y[1],E=(0,j.Z)(l),O=(0,o.useRef)(b),Z=(0,o.useRef)(null);(0,o.useEffect)((function(){Z.current&&u()(Z.current)}),[]);var L=function(e){_(e),function(e){null==s||s(O.current===e)}(e),c()({jobSearchStatus:e.toUpperCase()})},k=i?3:4,w=a||R;return(0,S.jsx)(h.Z,{name:"job-search-status-form",id:l,onSubmit:function(e){null==s||s(!0),e.preventDefault(),E(b).then(().catch(()},"data-qa":"job-search-status-form",ref:Z,children:w.map((function(e){var n=b===e;return(0,S.jsxs)(o.Fragment,{children:[(0,S.jsx)(d(),{value:b,checked:n,wrapperProps:{"data-qa":"job-search-change_".concat(e)},onChange:function(){return L(e)},children:(0,S.jsx)(m(),{children:p[x[e]]})}),(0,S.jsx)(f(),{base:k})]},e)}))})};_.displayName="Applicant/JobSearchStatus/ChangeForm/ChangeForm";const E=(0,b.Z)(_)},52065:
/*!**********************************************************************************!*\
  !*** ./webapp-static/lux/components/Applicant/JobSearchStatus/useMarkAsRead.tsx ***!
  \**********************************************************************************/(e,n,t)=>{t.d(n,{Z:()=>a});var s=t(/*! react */17390),r=t(/*! HHC/Debug */64619),i=t(/*! lux/modules/fetcher */9311),o=t(/*! lux/modules/useSelector */42343);const a=function(e){var n=(0,o.v)((function(e){return e.applicantUserStatusesTrigger})),t=e||n;return(0,s.useCallback)((function(){t?i.Z.put("/shards/user_statuses/job_search_status_notification_read",void 0,{params:{triggerName:t}}).catch(console.error):r.default.log("error out","No user status triggerName provided")}),[t])}},85221:
/*!*****************************************************************************************!*\
  !*** ./webapp-static/lux/components/Applicant/JobSearchStatus/useSetJobSearchStatus.ts ***!
  \*****************************************************************************************/(e,n,t)=>{t.d(n,{Z:()=>S});var s,r=t(/*! @babel/runtime/helpers/defineProperty */71909),i=t(/*! react */17390),o=t(/*! react-redux */89643),a=t(/*! @hh.ru/analytics-js-events/build/xhh/applicant/user_status/user_status_select_form_submit */62912),c=t.n(a),l=t(/*! @hh.ru/redux-create-reducer */26421),u=t(/*! lux/models/applicant/jobSearchStatus */15736),p=t(/*! lux/models/applicantUserStatuses */16944),d=t(/*! lux/modules/fetcher */9311),v=t(/*! lux/modules/useSelector */42343),m=t(/*! lux/requests/notifications/showDefaultError */80624);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=(s={},(0,r.Z)(s,p.QZ.VacancyResponseNotification,"RESPONSE_SENT"),(0,r.Z)(s,p.QZ.RenewNotification,"USER_STATUS_NOTIFICATION"),(0,r.Z)(s,p.QZ.MyResumesXsModal,"RESUME_LIST_XS"),(0,r.Z)(s,p.QZ.MyResumesDesktop,"RESUME_LIST_LARGE"),(0,r.Z)(s,p.QZ.ResponsesPageBanner,"RESPONSE_OFFER_USER_STATUS"),s),b=g=(0,l.makeSetStoreField)("applicantUserStatuses"),j=function(e){return e)?h[e]:"RESUME_LIST_LARGE"};const S=function(e){var n=(0,o.useDispatch)(),t=(0,v.v)((function(e){return e.applicantUserStatuses}));return(0,i.useCallback)((function(s){return c()({jobSearchStatus:s.toUpperCase(),formSource:j(e)}),d.Z.put("/shards/user_statuses/job_search_status",void 0,{params:{status:s}}).then((function(){n(g(f(f({},t),{},{jobSearchStatus:{name:s}}))),s===p.Lx.AcceptedJobOffer&&n((0,u.TT)(b(e))),s===p.Lx.HasJobOffer&&n((0,u.TT)(b(e)))}),(function(e){throw n((0,m.Z)(e)),e}))}),[t,n,e])}},46848:
/*!*********************************************************************!*\
  !*** ./webapp-static/lux/components/VacancyResponseError/index.tsx ***!
  \*********************************************************************/(e,n,t)=>{t.d(n,{V:()=>r,Z:()=>v});var s,r,i=t(/*! @babel/runtime/helpers/defineProperty */71909),o=t(/*! bloko/blocks/translateGuard */76498),a=t.n(o),c=t(/*! bloko/common/trl */27687),l=t(/*! lux/components/translation */74664),u=t(/*! react/jsx-runtime */16763);!r||(r={}));var p=(s={},(0,i.Z)(s,r.Unknown,"vacancy.response.popup.unknown.error"),(0,i.Z)(s,r.LetterRequired,"vacancy.response.popup.letter.error"),(0,i.Z)(s,r.TestRequired,"vacancy.response.popup.test.error"),(0,i.Z)(s,r.TestServiceDown,"vacancy.response.popup.testServiceDown.error"),(0,i.Z)(s,r.NegotiationsLimitExceeded,"vacancy.response.popup.negotiationsLimitExceeded.error"),(0,i.Z)(s,r.TooLongLetter,"vacancy.response.popup.letter.tooLong"),(0,i.Z)(s,r.ChangeResumeVisibilityDenied,"vacancy.response.popup.changeResumeVisibilityDenied.error"),(0,i.Z)(s,r.AlreadyApplied,"vacancy.response.popup.alreadyApplied.error"),(0,i.Z)(s,r.SpamDetected,"vacancy.response.popup.spamDetected"),(0,i.Z)(s,r.ResourcePolicyViolation,"vacancy.response.popup.resourcePolicyViolation"),(0,i.Z)(s,r.InappropriateLanguage,"vacancy.response.popup.inappropriateLanguage"),s),d=function(e){var n=e.trls,t=e.code,s=void 0===t?r.Unknown:t,i=e.letterMaxLength;return s?(0,u.jsx)(a(),{children:s===r.TooLongLetter?(0,c.format)(n[p[s]],{"{0}":i}):n[p[s]]}):null};d.displayName="components/VacancyResponseError/index/VacancyResponseError";const v=(0,l.Z)(d)},1012:
/*!******************************************************************************************!*\
  !*** ./webapp-static/lux/components/VacancyResponseForm/JobSearchStatusNotification.tsx ***!
  \******************************************************************************************/(e,n,t)=>{t.d(n,{Z:()=>k,_:()=>L});var s=t(/*! @babel/runtime/helpers/slicedToArray */61785),r=t(/*! react */17390),i=t(/*! react-redux */89643),o=t(/*! @hh.ru/analytics-js-events/build/xhh/applicant/user_status/after_response/response_sent_element_shown */47319),a=t.n(o),c=t(/*! bloko/blocks/button */53203),l=t.n(c),u=t(/*! bloko/blocks/notificationManager/NotificationFooter */59963),p=t.n(u),d=t(/*! bloko/blocks/notificationManager/NotificationHeading */52656),v=t.n(d),m=t(/*! bloko/blocks/vSpacing */45163),y=t.n(m),f=t(/*! lux/components/Applicant/JobSearchStatus/ChangeForm */51899),h=t(/*! lux/components/Applicant/JobSearchStatus/useMarkAsRead */52065),b=t(/*! lux/components/Notifications/ApplicantJobSearchStatusSuccess */78680),g=t(/*! lux/components/translation */74664),j=t(/*! lux/models/applicantUserStatuses */16944),S=t(/*! lux/requests/notifications/addNotification */51795),R=t(/*! react/jsx-runtime */16763),x=j.QZ.VacancyResponseNotification,_="vacancy.view.notify.response.title",E="notification.applicant.job.search.status.afterResponse.subtitle",O="notification.applicant.job.search.status.save",Z=function(e){var n=e.trls,t=e.removeNotification,o=e.vacancyId,u=(0,r.useState)(!0),d=(0,s.Z)(u,2),m=d[0],g=d[1],Z=(0,i.useDispatch)(),L=(0,r.useRef)(null),k=(0,r.useRef)(!1),w=(0,r.useRef)((0,h.Z)(j.Nr.AfterVacancyResponse));return(0,r.useEffect)((function(){L.current&&a()(L.current,{vacancyId:o})}),[o]),(0,r.useEffect)((function(){var e=w.current;return ),[]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(v(),{children:n[_]}),(0,R.jsx)("div",{ref:L,children:n[E]}),(0,R.jsx)(y(),{base:4}),(0,R.jsx)(f.Z,{isCompact:!0,statusesList:[j.Lx.ActiveSearch,j.Lx.LookingForOffers],formId:x,setDisabled:g,onSuccess:function(){k.current=!0,Z((0,S.Z)(b.r)),t(!0)}}),(0,R.jsx)(p(),{children:(0,R.jsx)(l(),{type:c.ButtonType.Submit,kind:c.ButtonKind.Success,form:x,disabled:m,children:n[O]})})]})};Z.displayName="components/VacancyResponseForm/JobSearchStatusNotification/JobSearchStatusNotification";var L={Element:(0,g.Z)(Z),kind:"ok",autoClose:!1},k="JOB_SEARCH_STATUS_AFTER_RESPONSE"},15384:
/*!*****************************************************************************************!*\
  !*** ./webapp-static/lux/components/VacancyResponseForm/ResumeAutoHideNotification.tsx ***!
  \*****************************************************************************************/(e,n,t)=>{t.d(n,{l:()=>L,n:()=>Z});var s,r=t(/*! @babel/runtime/helpers/defineProperty */71909),i=t(/*! @hh.ru/redux-spa-middleware */16069),o=t(/*! bloko/blocks/button */53203),a=t.n(o),c=t(/*! bloko/blocks/notificationManager/NotificationFooter */59963),l=t.n(c),u=t(/*! bloko/blocks/notificationManager/NotificationHeading */52656),p=t.n(u),d=t(/*! bloko/blocks/text */49500),v=t.n(d),m=t(/*! bloko/blocks/vSpacing */45163),y=t.n(m),f=t(/*! bloko/common/trl */27687),h=t(/*! lux/components/translation */74664),b=t(/*! lux/models/resume/resumeCommon.types */63125),g=t(/*! react/jsx-runtime */16763),j="resume.publish.notify.resumeAutoHide.title",S="vacancy.view.notify.response.title",R="resume.publish.notify.resumeAutoHide.subtitle",x="rb.visibility.autoHideTime.prefix.notification",_=(s={},(0,r.Z)(s,b.Nw.FiveYears,"rb.visibility.autoHideTime.suffix.year_5"),(0,r.Z)(s,b.Nw.ThreeYears,"rb.visibility.autoHideTime.suffix.year_3"),(0,r.Z)(s,b.Nw.TwoYears,"rb.visibility.autoHideTime.suffix.year_2"),(0,r.Z)(s,b.Nw.TwelveMonths,"rb.visibility.autoHideTime.suffix.month_12"),(0,r.Z)(s,b.Nw.TenMonths,"rb.visibility.autoHideTime.suffix.month_10"),(0,r.Z)(s,b.Nw.EightMonths,"rb.visibility.autoHideTime.suffix.month_8"),s),E="vacancy.view.notify.response.resumeAutoHide.button",O=function(e){var n=e.trls,t=e.resumeHash,s=e.autoHideTime,r=void 0===s?b.Nw.TwelveMonths:s,c=e.isVacancyResponse,u=void 0===c||c;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p(),{children:u?n[S]:n[j]}),(0,g.jsx)(y(),{base:1}),!u&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v(),{children:n[R]}),(0,g.jsx)(y(),{base:5})]}),(0,g.jsx)(v(),{children:(0,f.format)(n[x],{"{0}":n[_[r]]})}),(0,g.jsx)(y(),{base:2}),(0,g.jsx)(l(),{children:(0,g.jsx)(a(),{Element:i.Link,to:"/applicant/resumes/edit/visibility?resume=".concat(t),appearance:o.ButtonAppearance.Outlined,children:n[E]})})]})};O.displayName="components/VacancyResponseForm/ResumeAutoHideNotification/ResumeAutoHideNotification";var Z={Element:(0,h.Z)(O),kind:"ok",autoCloseDelay:1e4,autoClose:!0},L="RESUME_AUTO_HIDE"},98216:
/*!******************************************************************************************!*\
  !*** ./webapp-static/lux/components/VacancyResponseForm/VacancyResponseNotification.tsx ***!
  \******************************************************************************************/(e,n,t)=>{t.d(n,{dJ:()=>A,eX:()=>P,sc:()=>C});var s=t(/*! @babel/runtime/helpers/defineProperty */71909),r=t(/*! react */17390),i=t(/*! @hh.ru/analytics-js */91188),o=t.n(i),a=t(/*! @hh.ru/analytics-js-events/build/xhh/applicant/user_status/after_response/response_sent_element_shown */47319),c=t.n(a),l=t(/*! @hh.ru/redux-spa-middleware */16069),u=t(/*! bloko/blocks/link */12023),p=t.n(u),d=t(/*! bloko/blocks/notificationManager/NotificationFooter */59963),v=t.n(d),m=t(/*! bloko/blocks/notificationManager/NotificationHeading */52656),y=t.n(m),f=t(/*! bloko/common/storage/LocalStorageWrapper */26789),h=t.n(f),b=t(/*! bloko/common/trl */27687),g=t(/*! HHC/Analytics */75502),j=t(/*! lux/components/translation */74664),S=t(/*! lux/modules/fetcher */9311),R=t(/*! lux/requests/notifications/addNotification */51795),x=t(/*! lux/components/VacancyResponseForm/JobSearchStatusNotification */1012),_=t(/*! lux/components/VacancyResponseForm/ResumeAutoHideNotification */15384),E=t(/*! react/jsx-runtime */16763);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var L="vacancy-response-first",k="vacancy.view.notify.response.title",w="vacancy.view.notify.response.stats",I="vacancy.view.notify.response.noStats",N="vacancy.view.notify.response.show",T=function(e){var n=e.trls,t=e.readPercent,s=e.topicId,i=e.vacancyId;(0,r.useEffect)((,[]);var o=(0,r.useRef)(null);return(0,r.useEffect)((function(){o.current&&c()(o.current,{vacancyId:i})}),[i]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(y(),{children:n[k]}),(0,E.jsx)("div",{ref:o,children:t>0?(0,b.format)(n[w],{"{0}":t}):n[I]}),"SPAM"!==s&&(0,E.jsx)(v(),{children:(0,E.jsx)(p(),{Element:l.Link,to:"/applicant/negotiations/item?topicId=".concat(s),children:n[N]})})]})};T.displayName="components/VacancyResponseForm/VacancyResponseNotification/VacancyResponseNotification";var A={Element:(0,j.Z)(T),kind:"ok",autoClose:null!==h().getItem(L)},P="VACANCY_RESPONSE",C=function(e){var n=e.dispatch,t=e.data,s=e.employerId,r=e.setResponseData,i=e.publishedForResponseResumeHash,a=e.isZarplata,c=function(e){var s,c=Number(t.vacancy_id);t.sendGAAnalyticsToStorage?g.default.eventToStorage("applicant","response-sent-complete",t.response_label):(o().sendEvent("applicant","response-sent-complete",t.response_label,void 0,void 0,{product_id:c}),a&&o().addEventPixels("ZP_PURCHASE"));var l=t.respondedWithResume;if(l&&i===l.hash&&null!==(s=l.autoHideTime)&&void 0!==s&&s.length)n((0,R.Z)(_.l,{resumeHash:i,autoHideTime:l.autoHideTime[0].string}));else{var u={readPercent:e,topicId:t.topic_id,vacancyId:c};if(r){var p=t.responseStatus.negotiations.topicList.find(();r(Z(Z({},u),{},{hasResponseLetter:!(null==p||!p.hasResponseLetter)}))}else t.askJobSearchStatus?n((0,R.Z)(x.Z,{vacancyId:c},!0)):n((0,R.Z)(P,u))}};!s||i?c(null):S.Z.get("/employer/stats",{params:{employerId:s}}).then((,()}},78306:
/*!********************************************************************************!*\
  !*** ./webapp-static/lux/components/VacancyResponseForm/index.jsx + 7 modules ***!
  \********************************************************************************/(e,n,t)=>{t.d(n,{Z:()=>Ie,O:()=>Oe});var s=t(61785),r=t(83014),i=t(17390),o=t(65581),a=t(89643),c=t(28366),l=t(98344),u=t.n(l),p=t(26421),d=t(45163),v=t.n(d),m=t(59758),y=t.n(m),f=t(26789),h=t.n(f),b=t(89270),g=t(87226),j=t(46848),S=t(32209),R=t(59131),x=t(7411),_=t(10971),E=t(39258),O=t(71619),Z=t(75365),L=t(9311),k=t(52234),w=t(42343),I=t(16365),N=t(31138),T=t(16069),A=t(12023),P=t.n(A),C=t(74664),F=t(16763),V=function e(n){var t=n.visible,s=n.topics,r=n.resumes,i=n.trls,o=s.filter(();if(!t||!o.length)return null;var a=o.find((function(e){return e.invited})),c=a||o[0],l=i[a?e.trls.invited.text:e.trls.applied.text],u=i[a?e.trls.invited.link:e.trls.applied.link];return(0,F.jsxs)("div",{className:"vacancy-response",children:[l," ",(0,F.jsx)(P(),{disableVisited:!0,Element:T.Link,to:1===o.length?"/applicant/negotiations/item?topicId=".concat(c.id):"/applicant/negotiations",children:u})]})};V.displayName="components/VacancyResponseForm/AlreadyRespondedPlate/AlreadyRespondedPlate",V.trls={applied:{text:"vacancy.response.resumes.applied",link:"vacancy.response.resumes.applied.link"},invited:{text:"vacancy.response.resumes.invitation",link:"vacancy.response.resumes.invitation.link"}},V.propTypes={visible:u().bool,topics:u().array.isRequired,resumes:u().object.isRequired,trls:u().object};const D=(0,C.Z)(V);var H=t(91188),q=t.n(H),U=t(64495),M=t.n(U),B=t(88538),J=t.n(B),Q=t(27687),W=function e(n){var t,s,r,o=n.inconsistencies,a=n.selectedResumeId,c=n.resumes,l=n.vacancyId,u=n.trls,p=null==o||null===(t=o.resume)||void 0===t?void 0:t.find((function(e){return String(e.id)===String(a)})),d=null==p||null===(s=p.inconsistencies)||void 0===s||null===(r=s.inconsistency)||void 0===r?void 0:r[0],v=(0,i.useRef)();if((0,i.useEffect)((function(){v.current&&q().sendHHEventElementShown(v.current,{name:"vacancy_response_inconsistency",resumeId:a,vacancyId:l,type:null==d?void 0:d.type})}),[v,d,a,l]),null==o||!o.resume||!p||!d)return null;var m=c.find(();if(!m)return null;var y=m.title[0].string;return(0,F.jsx)(M(),{top:!0,children:(0,F.jsx)("div",{ref:v,children:(0,F.jsxs)(J(),{children:[(0,F.jsx)("strong",{children:"".concat(u[e.trls.caption]," ")}),(0,Q.format)(u[e.trls.inconsistencies[d.type]],{"{0}":"".concat(d.languageTrl," ").concat(u[e.trls.lang]),"{1}":y})]})})})};W.displayName="components/VacancyResponseForm/Inconsistencies/Inconcistencies",W.trls={caption:"vacancy.response.popup.inconsistency",lang:"vacancy.response.popup.inconsistency.lang",inconsistencies:{LANGUAGE:"vacancy.response.popup.inconsistency.language",AREA:"vacancy.response.popup.inconsistency.area",DISTANCE:"vacancy.response.popup.inconsistency.distance",EXPERIENCE:"vacancy.response.popup.inconsistency.experience"}},W.propTypes={inconsistencies:u().shape({resume:u().array}),selectedResumeId:u().string,vacancyId:u().number,resumes:u().array,trls:u().object};const G=(0,C.Z)(W);var X=t(49500),Y=t.n(X),z=t(55175),K=t.n(z),$=t(94954),ee="vacancy.response.popup.lastLetter",ne="vacancy.response.popup.letterWasUsed",te=function(e){var n=e.setLetter,t=e.trls,r=(0,w.v)((function(e){var n;return null===(n=e.lastVacancyResponseInfo)||void 0===n?void 0:n.letter})),o=(0,$.Z)(!1),a=(0,s.Z)(o,2),c=a[0],l=a[1],u=(0,i.useRef)(null);if((0,i.useEffect)((function(){u.current&&q().sendHHEventElementShown(u.current,{name:"use_letter_from_previous_response"})}),[]),!r)return null;return(0,F.jsxs)("div",{className:"vacancy-response-popup-letter",children:[(0,F.jsx)(v(),{base:2}),c?(0,F.jsx)(Y(),{importance:X.TextImportance.Tertiary,children:t[ne]}):(0,F.jsx)(P(),{appearance:A.LinkAppearance.Pseudo,onClick:function(){l(),n(r),q().sendHHEventButtonClick("use_letter_from_previous_response")},"data-qa":"vacancy-response-use-last-letter",ref:u,children:t[ee]})]})};te.displayName="components/VacancyResponseForm/LastLetterLink/LastLetterLink";const se=(0,C.Z)(te);var re=function e(n){var t=n.value,r=n.onChange,o=n.required,a=n.maxLength,c=n.isBottomSheet,l=n.defaultExpanded,u=n.trls,p=(0,i.useState)(!!l||!!o||!!t),d=(0,s.Z)(p,2),v=d[0],m=d[1];return v?(0,F.jsxs)(F.Fragment,{children:[!c&&(0,F.jsx)("div",{className:"vacancy-response-popup-subtitle",children:(0,F.jsx)(Y(),{strong:!0,children:u[e.trls.title]})}),(0,F.jsx)(K(),{maxLength:a,noresize:!0,autogrow:!0,minHeight:100,maxHeight:c?400:0,value:t,placeholder:c?u[e.trls[o?"letterRequired":"placeholder"]]:null,"data-qa":"vacancy-response-popup-form-letter-input",onChange:),c&&(0,F.jsx)(se,{setLetter:r})]}):(0,F.jsx)("div",{className:"vacancy-response-popup-letter",children:(0,F.jsx)(P(),{appearance:A.LinkAppearance.Pseudo,onClick:function(){m(!0),q().sendHHEventButtonClick("vacancy_response_letter_toggle")},"data-qa":"vacancy-response-letter-toggle",children:u[c?e.trls.addLetter:e.trls.expand]})})};re.displayName="components/VacancyResponseForm/Letter/Letter",re.trls={expand:"vacancy.response.popup.letter",title:"vacancy.response.popup.letter",addLetter:"applicant.negotiations.write",placeholder:"vacancy.response.popup.letter.placeholder",letterRequired:"vacancy.response.popup.letter.required.placeholder"},re.propTypes={value:u().string,onChange:u().func,required:u().bool,maxLength:u().number,isBottomSheet:u().bool,defaultExpanded:u().bool,trls:u().object};const ie=(0,C.Z)(re);var oe=t(27395),ae=t(71909),ce=t(88175),le=t.n(ce),ue=t(79161),pe=t.n(ue),de=t(64619),ve=t(98239),me=t(70313),ye=function e(n){var t=n.resume,s=n.visibility,r=n.vacancy,i=n.hidden,o=n.trls;if(!s||i)return null;var a,c,l,u,p=t.hash;return s.accessType===ve.U4&&(a=s.whitelist.containsEmployer?(0,Q.format)(o[e.trls.noOne.employerToWhitelist],{"{0}":r.company.visibleName}):!s.whitelist.containsEmployer&&s.whitelist.canAdd<=0?o[e.trls.noOne.whitelistIsFull]:(0,Q.format)(o[e.trls.noOne.toWhitelist],{"{0}":r.company.visibleName})),s.accessType!==ve.zd||s.whitelist.containsEmployer||(a=s.whitelist.canAdd<=0?(0,Q.format)(o[e.trls.whitelist.whitelistIsFull],{"{0}":s.whitelist.limit}):(0,Q.format)(o[e.trls.whitelist.addEmployer],{"{0}":r.company.visibleName})),s.accessType===ve.hl&&s.connectedEmployers.length&&(a=1===s.connectedEmployers.length?(0,Q.format)(o[e.trls.blacklist.removeEmployerCurrent],{"{0}":r.company.visibleName}):(0,Q.format)(o[e.trls.blacklist.removeEmployerMany],{"{0}":r.name,"{1}":(c=s.connectedEmployers,l=o[e.trls.and],u=c.map((})),(0,me.l)(u,l))})),a?(0,F.jsx)("div",{className:"vacancy-response-popup-resume__hint",children:(0,F.jsxs)(oe.FormHint,{children:[a," ",(0,F.jsx)(P(),{disableVisited:!0,Element:T.Link,to:"/applicant/resumes/edit/visibility?resume=".concat(p),target:"_blank",children:o[e.trls.changeVisibility]})]})}):null};ye.displayName="components/VacancyResponseForm/VisibilityHint/VisibilityHint",ye.trls={noOne:{toWhitelist:"vacancy.response.popup.visibility.noOne",employerToWhitelist:"vacancy.response.popup.visibility.noOne.companyInWhiteList",whitelistIsFull:"vacancy.response.popup.visibility.noOne.responseDisabled"},whitelist:{addEmployer:"vacancy.response.popup.visibility.addToWhiteList",whitelistIsFull:"vacancy.response.popup.visibility.limitExceeded"},blacklist:{removeEmployerMany:"vacancy.response.popup.visibility.removeFromBlackList.many",removeEmployerCurrent:"vacancy.response.popup.visibility.removeFromBlackList"},changeVisibility:"vacancy.response.popup.visibility.changeVisibility",and:"abstract.and"},ye.propTypes={resume:u().object,visibility:u().object,vacancy:u().object,hidden:u().bool,trls:u().object};const fe=(0,C.Z)(ye);function he(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}var be=function e(n){var t,s,r=n.resume,i=n.selected,o=n.single,a=n.hidden,c=n.setSelected,l=n.visibility,u=n.vacancy,p=n.trls;if(null===(t=r.title)||void 0===t||null===(s=t[0])||void 0===s||!s.string){var d,v,m,y,f,}({id:r.id,isIncomplete:r.isIncomplete,title:r.title,titleFirst:null===(d=r.title)||void 0===d?void 0:d[0],titleString:null===(v=r.title)||void 0===v||null===(m=v[0])||void 0===m?void 0:m.string,accessType:null===(y=r.accessType)||void 0===y||null===(f=y[0])||void 0===f?void 0:f.string},r._attributes);de.default.log("out error",new Error("Empty resume title"),{resume:h})}var b=r.hash,g=r.title[0].string,j=r.isIncomplete;return(0,F.jsxs)("div",{className:le()("vacancy-response-popup-resume",{"vacancy-response-popup-resume_selected":i}),children:[(0,F.jsxs)("div",{className:"vacancy-response-popup-resume__title",children:[(0,F.jsx)(M(),{right:!0,children:o?(0,F.jsx)("span",{"data-qa":"resume-title",children:g}):(0,F.jsx)(pe(),{checked:i,onChange:c,id:"resume_".concat(b),labelProps:{"data-qa":"resume-title"},disabled:a,children:g})}),a?(0,F.jsx)(P(),{disableVisited:!0,Element:T.Link,to:"/applicant/resumes/edit/visibility?resume=".concat(b),target:"_blank",children:p[e.trls.resumeLink.toSettings]}):(0,F.jsx)(P(),{disableVisited:!0,Element:T.Link,to:"/resume/".concat(b),target:"_blank",className:"vacancy-response-popup-resume__link","data-qa":"vacancy-response-view-resume",children:(0,F.jsx)(Y(),{Element:"span",size:X.TextSize.Small,children:p[e.trls.resumeLink.view]})})]}),(0,F.jsx)(fe,{resume:r,visibility:l,vacancy:u,hidden:a}),j&&(0,F.jsx)("div",{className:"vacancy-response-popup-resume__hint",children:(0,F.jsx)(oe.FormHint,{children:p[e.trls.incompleteHint]})})]})};be.displayName="components/VacancyResponseForm/Resume/Resume",be.trls={resumeLink:{view:"vacancy.response.popup.resume.link",toSettings:"vacancy.response.popup.resume.settings"},incompleteHint:"vacancy.response.popup.unfinished.hint"},be.propTypes={resume:u().object,selected:u().bool,single:u().bool,hidden:u().bool,setSelected:u().func,visibility:u().object,vacancy:u().object,trls:u().object};const ge=(0,C.Z)(be);var je="vacancy.response.popup.resumes",Se="vacancy.response.popup.hidden.resumes",Re=function(e){var n=e.trls,t=e.responseStatus,s=e.resumes,r=e.selectedResume,i=e.setSelectedResume,o=t.shortVacancy,a=t.hiddenResumeIds.length>0,c=1===s.length;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:"vacancy-response-popup-subtitle",children:(0,F.jsx)(Y(),{strong:!0,children:n[je]})}),(0,F.jsxs)("div",{className:"vacancy-response-popup-resume-list","data-qa":"vacancy-response-resume-list",children:[a&&(0,F.jsx)(oe.FormItem,{children:n[Se]}),s.map((function(e){var n;return(0,F.jsx)(ge,{resume:e,selected:e.id===r.id,single:c,hidden:t.hiddenResumeIds.includes(String(e.id)),setSelected:function(){return i(e)},visibility:null===(n=t.resumeVisibility)||void 0===n?void 0:n[e.id],vacancy:o},e.hash)}))]})]})};Re.displayName="components/VacancyResponseForm/ResumeSelector/ResumeSelector";const xe=(0,C.Z)(Re);var _e=t(98216),Ee=y()}),100),Oe=function(e){return[].concat((0,r.Z)(e.unusedResumeIds),(0,r.Z)(e.hiddenResumeIds)).map((function(n){return e.resumes[n]}))},Ze=(0,p.makeSetStoreField)("applicantActivity"),Le=[(0,k.Z)({name:"vacancy_response"})],ke="RESPONSE_MODAL_FORM_ID",we=function(e){var n,t=e.vacancyId,r=e.resumes,l=e.submitting,u=e.setSubmitting,p=e.onResponse,d=e.errorCode,m=e.onError,y=e.vacancyBodyFooterNodeRef,f=e.vacancySource,k=e.needRedirect,T=e.isBottomSheet,A=e.setResponseData,P=e.selectedResume,C=e.setSelectedResume,V=e.postponedActions,H=e.render,q=void 0===H?function(){}:H,U=e.renderContent,M=void 0===U?function(){}:U,B=e.renderSubmit,J=void 0===}:B,Q=(0,a.useDispatch)(),W=(0,w.v)})),X=(0,w.v)((function(e){return e.publishedForResponseResumeHash})),Y=(0,w.v)((function(e){return e.countriesProfileVisibilityAgreement})),z=W.negotiations.topicList,K=W.shortVacancy,$=W.usedResumeIds.length>0,ee=(0,R.Z)(),ne="vacancy_response_letter_".concat(t),te=(0,i.useState)(h().getItem(ne)||(null===(n=ee(t))||void 0===n?void 0:n.value)||""),se=(0,s.Z)(te,2),re=se[0],oe=se[1],ae=(0,i.useRef)(),ce=(0,w.v)})).hhtmFromLabel,le=f===S.Z.RelatedVacancies?"suitable_vacancies":void 0,ue=ee(t),pe=(0,x.Q0)();(0,i.useEffect)((function(){d===j.V.LetterRequired&&re.trim().length&&m(null),Ee(ne,re)}),[d,re,ne,m]),(0,i.useEffect)}),[ue]);var de=function(e){T?V.current.push(e):e()},ve=function(e){if(!K["@responseLetterRequired"]||re.trim().length){u(!0),m(null);var n=!(null==e||!e.skipTest),s=new FormData(!n&&ae.current||void 0),i={vacancy_id:t,resume_hash:P.hash,ignore_postponed:!0,incomplete:P.isIncomplete,mark_applicant_visible_in_vacancy_country:!0===(null==Y?void 0:Y.confirmed),letter:re,lux:!0,withoutTest:n?"yes":"no",hhtmFromLabel:ce,hhtmSourceLabel:le};Object.keys(i).forEach})),L.Z.post("/applicant/vacancy_response/popup",s).then((function(e){var n=e.data;h().removeItem(ne),p&&p();var s=[(0,E.Ec)({vacancyId:t,data:n.responseStatus}),(0,O.t5)({vacancyId:t,labels:[I.Z.Response]}),Ze(n.applicantActivity)];if("SPAM"!==n.topic_id){if(k){var i,o="";"responsesStreak"in n&&(o="?responsesCount=".concat(n.responsesStreak.responsesCount,"&responsesRequired=")+"".concat(n.responsesStreak.responsesRequired)),n.sendGAAnalyticsToStorage=!0,(0,_e.sc)({dispatch:Q,data:n,employerId:null===(i=K.company)||void 0===i?void 0:i.id,publishedForResponseResumeHash:X,isZarplata:pe}),Q((0,c.push)("/vacancy/".concat(t).concat(o)))}else if("responsesStreak"in n){var a;n.sendGAAnalyticsToStorage=!1,(0,_e.sc)({dispatch:Q,data:n,employerId:null===(a=K.company)||void 0===a?void 0:a.id,setResponseData:T?A:void 0,publishedForResponseResumeHash:X,isZarplata:pe}),s.push((0,_.q$)({vacancyId:t,data:n.responsesStreak}))}var l=r.filter}));l.length>0&&C(l[0]),N.U.sendEvent("vacancy_response_action"),de})),k||de((function(){return e=y,void setTimeout((function(){null!=e&&e.current&&(0,b.default)(e.current,{topOffset:0,centered:!1})}),0);var e}))}}),(function(e){var n,t,s,r=e.response,i=null==r||null===(n=r.data)||void 0===n?void 0:n.error;return"need-login"===(null==r||null===(t=r.data)||void 0===t?void 0:t.type)&&null!=r&&null!==(s=r.data)&&void 0!==s&&s.redirect_uri?Q((0,c.push)(r.data.redirect_uri)):r&&"resume-incomplete"===i&&"redirectUrl"in r.data?Q((0,c.push)(r.data.redirectUrl)):m(i||"unknown")})).finally}))}else m(j.V.LetterRequired)};return q({renderForm:function(){return(0,F.jsx)(o.l0,{onSubmit:ve,initialValues:{skipTest:!1},decorators:Le,render:function(e){var n=e.handleSubmit,s=e.form;return(0,F.jsxs)(g.Z,{onSubmit:n,ref:ae,name:"vacancy_response",id:ke,children:[M(s),(0,F.jsxs)("div",{className:"vacancy-response-popup-body",children:[(0,F.jsx)(D,{visible:$&&!l,topics:z,resumes:W.resumes}),!!r.length&&(0,F.jsxs)("div",{children:[(0,F.jsx)(v(),{base:2}),!T&&(0,F.jsx)(xe,{responseStatus:W,resumes:r,selectedResume:P,setSelectedResume:C}),(0,F.jsx)(ie,{value:re,onChange:oe,required:K["@responseLetterRequired"],maxLength:W.letterMaxLength,isBottomSheet:T,defaultExpanded:(null==ue?void 0:ue.id)===Z.Rm.Other}),!T&&(0,F.jsx)(G,{inconsistencies:W.resumeInconsistencies,selectedResumeId:P.id,vacancyId:t,resumes:r})]}),J({form:s})]})]})}})},formId:ke,isLetterTextEmpty:!re.length})};we.propTypes={vacancyId:u().number,resumes:u().arrayOf(u().object),submitting:u().bool,setSubmitting:u().func,onResponse:u().func,errorCode:u().string,onError:u().func,vacancyBodyFooterNodeRef:u().object,submitTriggerRef:u().object,needRedirect:u().bool,isBottomSheet:u().bool,setResponseData:u().func,selectedResume:u().object,setSelectedResume:u().func,trls:u().object,children:u().node,onSubmit:u().func,vacancySource:u().oneOf(Object.values(S.Z))};const Ie=we},71542:
/*!********************************************************************************!*\
  !*** ./webapp-static/lux/components/VacancyResponsePopup/AdvertisingPopup.tsx ***!
  \********************************************************************************/(e,n,t)=>{t.d(n,{C:()=>y,Z:()=>j});var s=t(/*! @hh.ru/analytics-js */91188),r=t.n(s),i=t(/*! bloko/blocks/button */53203),o=t.n(i),a=t(/*! bloko/blocks/modal */15580),c=t.n(a),l=t(/*! HH/SendHHAnalytics */47575),u=t(/*! HHC/Debug */64619),p=t(/*! lux/components/translation */74664),d=t(/*! lux/hooks/usePlatform */7411),v=t(/*! lux/modules/useSelector */42343),m=t(/*! react/jsx-runtime */16763),y=function(e){(0,l.default)({data:{goal:"vacancy-response-company-url"}}),(0,l.StatisticsProcessing)({data:{action:"vacancy_response_perform",label:e}}),r().sendEvent("applicant","response-sent-complete","ad-vacancy",void 0,void 0,{product_id:e})},f="vacancy.advertising.title",h="vacancy.advertising.text",b="vacancy.advertising.goforward",g=function(e){var n=e.visible,t=e.onClose,s=e.trls,l=(0,v.v)})),p=(0,d.Q0)();return null!=l&&l.companyUrl?(0,m.jsxs)(c(),{visible:n,onClos},useBottomSheet:!0,children:[(0,m.jsx)(a.ModalHeader,{children:(0,m.jsx)(a.ModalTitle,{children:s[f]})}),(0,m.jsx)(a.ModalContent,{children:(0,m.jsx)("div",{className:"vacancy-response-popup-body",children:s[h]})}),(0,m.jsx)(a.ModalFooter,{children:(0,m.jsx)(o(),{kind:i.ButtonKind.Success,Element:"a",rel:"nofollow",href:l.companyUrl,"data-qa":"vacancy-response-link-advertising",onClick:function(){y(l.vacancyId),p&&r().addEventPixels("ZP_PURCHASE")},children:s[b]})})]}):(u.default.log("out error",new Error("Advertising vacancy without companyUrl"),{id:null==l?void 0:l.vacancyId}),null)};g.displayName="components/VacancyResponsePopup/AdvertisingPopup/AdvertisingPopup";const j=(0,p.Z)(g)},32209:
/*!******************************************************************!*\
  !*** ./webapp-static/lux/components/VacancySearchItem/Source.ts ***!
  \******************************************************************/(e,n,t)=>{var s;t.d(n,{Z:()=>r}),function(e){e.RelatedVacancies="related_vacancies_on_vacancy_page",e.VacancySearch="vacancies",e.VacancySearchMap="vacancies_on_search_map",e.ApplicantNegotiations="applicant_negotiations",e.RecommendedVacanciesOnMain="recommended_vacancies_on_main",e.EmployerRelatedVacancies="related_employer_vacancies_on_vacancy_page"}(s||(s={}));const r=s},59131:
/*!*******************************************************************************!*\
  !*** ./webapp-static/lux/components/VacancyView/hooks/useResponseQuestion.ts ***!
  \*******************************************************************************/(e,n,t)=>{t.d(n,{O:()=>p,Z:()=>d});var s=t(/*! @babel/runtime/helpers/defineProperty */71909),r=t(/*! react */17390),i=t(/*! bloko/common/storage/LocalStorageWrapper */26789),o=t.n(i),a=t(/*! lux/models/vacancyResponseQuestions */75365),c=t(/*! lux/modules/useSelector */42343),l="vacancy_response_questions_store",u={},p=function(e){var n=e.vacancyId,t=e.question,r=e.questionId,i=e.dispatch,c={id:r,value:t};o().setItem("".concat(l,"_").concat(n),JSON.stringify(c)),i((0,a.Yi)((0,s.Z)({},String(n),c)))};const d=function(){var e=(0,c.v)}));return(0,r.useCallback)((function(n){return e[String(n)]||function(e){if(void 0===e)return null;if(e in u)return u[e];var n=o().getItem("".concat(l,"_").concat(e)),t=null;if(n)try{t=JSON.parse(n)}catch(e){}return u[e]=t,t}(n)}),[e])}},94954:
/*!***************************************************!*\
  !*** ./webapp-static/lux/hooks/useToggleState.ts ***!
  \***************************************************/(e,n,t)=>{t.d(n,{Z:()=>i});var s=t(/*! @babel/runtime/helpers/slicedToArray */61785),r=t(/*! react */17390);const i=function(e){var n=(0,r.useState)(e),t=(0,s.Z)(n,2),i=t[0],o=t[1];return[i,(0,r.useCallback)}),[]),(0,r.useCallback)}),[])]}},98239:
/*!***************************************************************!*\
  !*** ./webapp-static/lux/models/resume/resumeAccess.types.ts ***!
  \***************************************************************/(e,n,t)=>{t.d(n,{Eo:()=>a,U4:()=>p,c3:()=>v,g5:()=>s,hl:()=>l,qd:()=>u,uH:()=>o,zd:()=>c});var s,r=t(/*! prop-types */98344),i=t.n(r)}(s||(s={}));var o=s.Everyone,a=s.Clients,c=s.WhiteList,l=s.BlackList,u=s.Direct,p=s.NoOne,d=[o,a,c,l,u,p],v=i().oneOf(d)},14294:
/*!**************************************************************************!*\
  !*** ./webapp-static/lux/models/vacancyResponsePopup/popupType.types.ts ***!
  \**************************************************************************/(e,n,t)=>{var s;t.d(n,{Z:()=>r}}(s||(s={}));const r=s},52234:
/*!*******************************************************************!*\
  !*** ./webapp-static/lux/modules/finalForm/scrollToFirstError.ts ***!
  \*******************************************************************/(e,n,t)=>{t.d(n,{Z:()=>l});var s=t(/*! @babel/runtime/helpers/toConsumableArray */83014),r=t(/*! @babel/runtime/helpers/defineProperty */71909),i=t(/*! final-form */60375),o=t(/*! Utils/ScrollTop */81373const l=function(e){var n=e.name;return function(e){var t={},r=e.subscribe((function(e){var n=e.submitErrors&&"string"!=typeof e.submitErrors?e.submitErrors:{};t=c(c({},e.errors),n)}),{errors:!0,submitErrors:!0}),a=e.submit;return e.submit=function(){var r=a.call(e)||Promise.resolve(void 0);return r.then((function(){if(t&&Object.keys(t).length){var e=document.forms.namedItem(n);if(e){var r=[].concat((0,s.Z)(e.querySelectorAll("[data-form-error-name]")),(0,s.Z)(e.elements)).find((function(e){var n=e,s=n.getAttribute("data-form-error-name")||n.getAttribute("name");return s&&(0,i.u9)(t,s)&&n.offsetWidth}))||document.querySelector('[data-form-error="true"]');if(r){var a=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top-20;(0,o.default)({top:a})}}}})),r}}}},70313:
/*!********************************************************!*\
  !*** ./webapp-static/lux/modules/humanReadableList.ts ***!
  \********************************************************/(e,n,t)=>{t.d(n,{l:()=>s});var s=function(e,n){return e.length>1?"".concat(e.slice(0,-1).join(", ")," ").concat(n," ").concat(e.slice(-1)[0]):e.join(", ")}},16365:
/*!*************************************************!*\
  !*** ./webapp-static/lux/modules/userLabels.ts ***!
  \************************************************},31138:
/*!*************************************************!*\
  !*** ./webapp-static/lux/modules/uxfeedback.ts ***!
  \*************************************************/(e,n,t)=>{t.d(n,{s});var s={sendEven}}}}]);
//# sourceMappingURL=70031.8721864da19354500ec2.js.map