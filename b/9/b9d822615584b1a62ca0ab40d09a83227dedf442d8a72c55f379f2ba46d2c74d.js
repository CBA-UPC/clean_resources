/*! For license information please see _app-behavior.pkg.js.LICENSE.txt */
![,function(e,t,n){"use strict";(function(e){var t=n(2);n(22),n(19),n(18),n(33),n(34),n(14),n(13),n(17),n(57);var i=t(n(98));n(28),n(26),n(36);var r=t(n(114));n(9),n(8),n(5),n(170),n(15),n(49);var a=t(n(21)),o=t(n(0)),s=t(n(1)),l=t(n(23));n(10);var u,c=t(n(11)),d=t(n(52)),f=t(n(204)),p=t(n(75)),h=n(24),m=t(n(280)),v=t(n(368)),g=n(281),y=n(234),b=n(282),_=n(286),w=n(376),k=t(n(177)),S=t(n(121)),O=n(377),E=n(159),P=n(122),T=t(n(113)),x=n(48),C=t(n(381));function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}u=function(){var e,t=x.STORAGE_KEYS.TRACKING_ID_KEY_LOGGED_OUT.name,u=x.STORAGE_KEYS.TOKEN.name,A=x.STORAGE_KEYS.ARD_LOGIN_KEY.name,D=x.STORAGE_KEYS.THIRD_PARTY_KEY.name,j=x.STORAGE_KEYS.THIRD_PARTY_STATE.name,L=x.STORAGE_KEYS.THIRD_PARTY_LOGIN_ATTEMPTS.name,N=x.STORAGE_KEYS.REDIRECT_AFTER_AGE_VERIFICATION.name,M=x.STORAGE_KEYS.REDIRECT_AFTER_THIRD_PARTY_LOGIN.name,R=x.STORAGE_KEYS.AGE_VERIFICATION_KEY.name,F=x.STORAGE_KEYS.CHECK_AGE_VERIFICATION_NOTIFICATION_KEY.name,z=x.STORAGE_KEYS.TRACKING_DISABLED_KEY.name,U=x.STORAGE_KEYS.TRACKING_INIT_KEY.name,H=[t,u,A,D,D,j,L,N,M,R,F,z,U],B=n(383),V=n(178),W=n(561),$=T.default.local,q=T.default.session,G=window.rb,K=window.rb.$,Y=window.zdfsite,Z={track:"track",login:"login",logout:"logout",silentLogout:"silentLogout",deletePersonalData:"deleteUserData",deleteUserHistory:"deleteUserData",deleteUserData:"deleteUserData",register:"register",activate:"activate",lostPassword:"lostPassword",resetPassword:"resetPassword",updatePassword:"updatePassword",updateUserInfo:"updateUserInfo",updateUserPersonalInfo:"updateUserPersonalInfo",changeEmailRequest:"changeEmailRequest",activateChangedEmail:"activateChangedEmail",deleteAccountRequest:"deleteAccountRequest",deleteAccount:"deleteAccount",deleteAccountWithToken:"deleteAccountWithToken",createSubProfile:"createSubProfile",updateSubProfile:"updateSubProfile",activateSubProfile:"activateSubProfile",deleteSubProfile:"deleteSubProfile",deleteSubProfiles:"deleteSubProfiles",addComment:"addComment",sharing_open:"sharing_open",trackingDisabled:"trackingDisabled",trackingEnabled:"trackingEnabled",setTrackingId:"setTrackingId",deactivateTracking:"deactivateTracking",updateBookmarkList:"updateBookmarkList"},Q=(e=function(){function e(){var t=this;(0,o.default)(this,e),this.public={getState:function(){return{info:t.mainUser.getUserInfo(),profile:t.mainUser.getProfile(),mode:t.mainUser.isLoggedIn()?"logged_in":"anonymous",isLoggedIn:t.mainUser.isLoggedIn(),token:t.token,mainUserId:t.mainUser.get("id"),activeSubProfile:t.activeSubUser?t.activeSubUser.getProfile():null,hasSubprofiles:t.mainUser.isLoggedIn()&&t.mainUser.get("subProfiles").length>0,isTiviUser:function(){return t.isTiviUserActive()},getUserId:function(){return t.getActiveUserId()},getTrackingId:function(){return t.getTrackingId()},getUserProfile:function(){return t.getActiveProfile()},getUserInfo:},showLogin:function(){return t.showLogin()},getViewHistory:function(){return t.getViewHistory()},getPlaybackHistory:function(){return t.getPlaybackHistory()},deleteHistory:function(){return t.deleteUserData()},deletePersonalData:function(){return t.deleteUserData()},deleteUserData:function(){return t.deleteUserData()},removeAllUserHistory:function(){return t.removeAllUserHistory()},ready:G.deferred(),track:function(e){return t.track(e)},isLoggedIn:function(){return t.mainUser.isLoggedIn()},isArdUser:function(){return t.mainUser.isLoggedIn()&&!0===$.get(A)},startAgeVerification:function(e){t.startAgeVerification(e)},verifyAge:function(){return t.verifyAge()},setPin:function(e,n){return t.setFskPin(e,n)},completeAgeVerification:function(){return t.completeAgeVerification()},getAgeVerification:function(){return t.getAgeVerification()},validatePin:function(e){return t.validateFskPin(e)},ardLogin:function(){return t.ardLogin()},fetchUserDetails:function(){return t.fetchUserDetails()},applyUserDataDiff:function(e,n){return t.applyUserDataDiff(e,n)},getMainUser:function(){return t.mainUser},userEvents:I({},Z,{},E.profileKeys.reduce((,{})),getAllStorageKeys:function(){return t.getAllStorageKeys()}},this.public.ready.then((function(){t.public.isReady=!0,(0,C.default)(t.mainUser),t.activateSubProfile(),t.triggerProfileEvents(),t.getViewHistory(),t.getPlaybackHistory(),Y.userReady._res(),Y.externalId&&!Y.noInitTracking&&t.track({eventType:"view"}),!0===q.get(F)&&(q.remove(F),!t.mainUser.get("showAgeVerificationDialog")||location.href.match(/altersverifikation$/)||Y.isTiviLocation||"http://zdf.de/rels/content/page-video-portal-delivery"===Y.profile||t.public.isArdUser()&&!Y.enableArdFsk||t.getAgeVerification().then((function(e){e.data.verified||G.getComponent(document.getElementById("aria-fsk-auth-notification-dialog")).open()}))),(t.mainUser.isAnonUser()||t.public.isArdUser())&&G.$((function(){t.checkActivation()})),t.mainUser.isAnonUser()?K(".js-requires-user").length&&t.showLogin():(t.migrateAnonymousProfile(),y.store.dispatch((0,b.updateNotifications)()))})),Y.enableArdFsk?this.checkForArdPinVerification():!0===$.get(A)&&(Y.isFskVerification||Y.isRegistration)&&this.silentLogout(),(0,f.default)(this,{topicSeparator:!1}),this.pub=(0,f.default)(this.public,{privatePublish:!0}),this.public.dispatch=this.publish,this.getUserData(),this.installCommands(),this.loginInProgress=!1,Y.isTiviApp||(this.profileCheckInterval=setInterval((function(){t.loginInProgress||(t.getStoredToken()?t.mainUser.get("id")!==t.getStoredUserId()?(G.logInfo("reloading because user ids do not match"),t.profileChanged()):t.mainUser.get("lastActiveSubProfileId")!==t.mainUser.getStored("lastActiveSubProfileId")?(G.logInfo("reloading because active subprofile ids do not match",t.mainUser.get("lastActiveSubProfileId"),"!=",t.mainUser.getStored("lastActiveSubProfileId")),t.profileChanged()):t.didSubprofileChange()&&(G.logInfo("reloading because subprofile was changed"),t.profileChanged()):t.mainUser.isAnonUser()||(G.logInfo("reloading because user did logout"),t.profileChanged()))}),5e3))}return(0,s.default)(e,null,[{key:"deleteHistoriesForNonActiveUser",value:]),(0,s.default)(e,[{key:"getViewHistory",value:function(){return this.viewHistory=this.viewHistory||new m.default(this.public),this.viewHistory}},{key:"getPlaybackHistory",value:function(){return this.playbackHistory=this.playbackHistory||new v.default(this.public),this.playbackHistory}},{key:"profileChanged",value:function(){clearInterval(this.profileCheckInterval);try{window.sessionStorage.setItem(U,"true")}catch(e){}document.location.reload()}},{key:"didSubprofileChange",value:function(){if(this.activeSubUser&&!this.activeSubUser.isAnonUser()){var e=this.activeSubUser.get("id"),t=this.mainUser.getStoredProfile().subProfiles.find((function(t){return t.id===e}))||{},n=this.activeSubUser.getProfile();return t.avatar!==n.avatar||t.name!==n.name}return!1}},{key:"showLogin",value:function(){this.silentLogout(!0),G.getComponent(document.getElementById("aria-login-dialog")).open()}},{key:"isTiviUserActive",value:function(){var e=!!this.activeSubUser;return Y.isTiviLocation&&e}},{key:"isAnonymousTiviAppUser",value:function(){return Y.isTiviApp&&this.activeSubUser.isAnonUser()}},{key:"getActiveUserId",value:,{key:"getActiveUser",value:,{key:"triggerProfileEvents",value:function(){var e=this,t=this.getActiveProfile(),n=function(n){var i=n,r=t[n],a=(0,E.getIdKey)(i);Array.isArray(r)?r.forEach((function(t){var n="string"==typeof t?t:t[a];e.pub("".concat(i,":/").concat(n,":/add"),{value:t,action:"add"},!0)})):e.pub(i,r,!0)};for(var i in t)n(i)}},{key:"installCommands",value:function(){var e=this;E.profileKeys.forEach((function(t){e.subscribe(t,(function(n){var i=e.mainUser?i():e.public.ready.then(i)}))})),Object.entries(Z).forEach((function(t){var n=(0,r.default)(t,2),i=n[0],a=n[1];e.subscribe(i,(function(t){e[a](t)}))}))}},{key:"deleteUserData",value:function(){var e=this;return new Promise((function(t,n){e.mainUser.isAnonUser()?e.resolveDeleteUserDataRequest(t):k.default.deleteUserData().then((function(n){if(200!==n.status)throw new Error("deleteUserData failed with status ".concat(n.status));e.resolveDeleteUserDataRequest(t)})).catch((function(e){G.logError("Error deleting usage data:",e),n&&n()}))}))}},{key:"resolveDeleteUserDataRequest",value:function(e){this.deleteLocalUserData(),this.pub("deleteUserData",null),this.pub("deleteUserHistory",null),e()}},{key:"deleteLocalUserData",value:function(){var t=this;this.mainUser.get("id")!==this.getActiveUserId()&&e.deleteHistoriesForNonActiveUser(this.mainUser.get("id")),$.remove(x.STORAGE_KEYS.GUIDED_TOURS.name),$.remove(x.STORAGE_KEYS.GUIDED_TOURS_LAST_INTERACTION.name),this.mainUser.get("subProfiles").forEach((function(n){n.id!==t.getActiveUserId()&&e.deleteHistoriesForNonActiveUser(n.id),n.bookmarks=[],n.likes=[],n.subscriptions=[]})),this.mainUser.update({subscriptions:[],likes:[],bookmarks:[],subProfiles:this.mainUser.get("subProfiles")},!0),this.getPlaybackHistory().removeAll(!1),this.getViewHistory().removeAll(!1)}},{key:"removeAllUserHistory",value:function(){var e=this;this.removeUserHistories(this.mainUser.get("id")),this.mainUser.get("subProfiles").forEach((function(t){return e.removeUserHistories(t.id)})),this.getPlaybackHistory().removeAll(!1),this.getViewHistory().removeAll(!1)}},{key:"fetchUserInfo",value:function(){var e=this;return k.default.getUserInfo().then((function(t){e.mainUser.update(t.data,!1),e.pub("info",e.mainUser.getUserInfo(),!0)})).catch(()}},{key:"migrateUserDetail",value:function(e,t){var n=this,i=(e.get(t)||[])[t],r=void 0===i?[]:i,o=(this.mainUser.get(t)||[]).map((function(e){return e.externalId}));r.forEach((function(e){!1===o.includes(e.externalId)&&n.change({actionName:t,data:{action:"add",value:e,checked:!0}})})),e.update((0,a.default)({},t,[]))}},{key:"migrateAnonymousProfile",value:function(){Y.enableJavascriptLogging&&console.groupCollapsed("migrating anon user data");var e=new O.AnonymousUser;this.migrateUserDetail(e,"bookmarks"),this.migrateUserDetail(e,"subscriptions"),Y.enableJavascriptLogging&&console.groupEnd()}},{key:"login",value:function(e){var t=this;this.pub("login:/fetching",e),this.loginInProgress=!0,q.remove(R);var n=e.loginSideEffect,r=(0,i.default)(e,["loginSideEffect"]);k.default.login(r).then((function(i){if(n)return n(i).then((function(n){t.handleLoginSuccess(I({},e,{},n),i)}));t.handleLoginSuccess(e,i)})).catch((function(n){G.logError("Error doing login:",n),$.remove(u),t.pub("login:/failed",n),e.onFail&&e.onFail(n),t.loginInProgress=!1}))}},{key:"handleLoginSuccess",value:function(e,t){var n=this,i=t.data.token;if($.set(u,i),e.selectedSubProfile){var r=this.getTokenId(i);r&&(0,E.storeSettingsForUserId)({lastActiveSubProfileId:e.selectedSubProfile},r)}setTimeout((function(){n.pub("login:/success",t),q.set(F,!0),e.onSuccess&&e.onSuccess(t);var r=e.redirect_url,a=location.href;r&&("string"==typeof r?a=r+i:"object"===(0,c.default)(r)&&(a=!1!==r.addToken?r.url+i:r.url)),a.indexOf("openDialog=login-panel")&&(a=(0,w.cleanHash)(a,"openDialog")),a===location.href?location.reload():location.href=a,n.loginInProgress=!1}),500)}},{key:"register",value:function(e){k.default.register(e)}},{key:"lostPassword",value:function(e){k.default.lostPassword(e)}},{key:"resetPassword",value:function(e){k.default.resetPassword(e)}},{key:"updatePassword",value:function(e){var t=this;k.default.updatePassword(e).then((function(e){t.silentLogout(!0),G.getComponent(document.getElementById("aria-login-dialog")).open()}))}},{key:"deleteAccountRequest",value:function(e){k.default.deleteAccountRequest(e)}},{key:"deleteAccount",value:function(e){k.default.deleteAccount(e)}},{key:"deleteAccountWithToken",value:function(e){k.default.deleteAccountWithToken(e)}},{key:"startAgeVerification",value:function(e){var t=e||window.location.href;q.set(N,t),window.location.href="/mein-zdf/altersverifikation"}},{key:"verifyAge",value:,{key:"setFskPin",value:,{key:"checkForArdPinVerification",value:function(){var e=this;(0,_.checkForArdVerification)().then((,(function(){})).catch(()}},{key:"setFskPinForArdUser",value:function(e,t,n){k.default.setFskPinForArdUser({redirect_uri:Y.ardRedirectUrl,code:t,pin:e}).then((function(e){G.log("setFskPinForArdUser - success!",e),G.$(()}),(function(e){G.log("setFskPinForArdUser - failed!",e),G.$((function(){var e=G.getComponent(document.getElementById("aria-change-dialog"));e.open(),e.expandPanelWithSelector("#change-dialog-historydelete-error",{animationPrevented:!1,setFocus:!0})}))}))}},{key:"validateFskPin",value:,{key:"completeAgeVerification",value:function(){var e=q.get(N)||"";return q.remove(N),e}},{key:"getAgeVerification",value:function(){var e=q.get(R);return!0===e?Promise.resolve({data:{verified:e}}):k.default.getAgeVerification().then((function(e){return q.set(R,e.data.verified),e}))}},{key:"checkActivation",value:function(){var e=this,t=(0,d.default)(location.search),n=(0,d.default)(location.hash.replace("#","")),i=Object.assign({},n,t),r=i.registryKey,a=i.email||i.registryEmail;a&&r&&(this.silentLogout(!0),setTimeout((function(){e.activate({email:a,key:r,onSuccess:function(){window.history&&window.history.replaceState(null,"",location.pathname)},onFail:function(){window.history&&window.history.replaceState(null,"",location.pathname)}})}),66))}},{key:"activate",value:function(e){k.default.activateAccount(e)}},{key:"updateUserInfo",value:function(e){var t=this;k.default.updateUserInfo(e).then((function(){G.rIC((function(){t.fetchUserInfo()}))}))}},{key:"updateUserPersonalInfo",value:function(e){var t=this;k.default.updateUserPersonalInfo(e).then((function(){G.rIC((function(){t.fetchUserInfo()}))}))}},{key:"updateBookmarkList",value:function(e){var t=this;e.forEach((function(n,i){t.change({actionName:"bookmarks",data:n,useMainProfile:!0,isSilent:i<e.length-1})}))}},{key:"changeEmailRequest",value:function(e){k.default.changeEmailRequest(e)}},{key:"activateChangedEmail",value:function(e){var t=this;k.default.activateChangedEmail(e).then(()}},{key:"handleLoginWithToken",value:function(e){var t=q.get(M);if(q.remove(M),$.set(u,e.data.token),$.set(A,!0),this.pub("login:/success",e),t&&location.href.split("#")[0]!==t+location.search){var n=-1===t.indexOf("?")?location.search:location.search.replace("?","&");location.href=t+n+location.hash}else location.reload()}},{key:"checkThirdPartyLoginParam",value:function(){if("ard"===q.get(D)){var e=(0,d.default)(location.search),t=e.code,n=e.state,i=q.get(j);if(i&&i===n&&t)return this.loginWithArdCode(t),!0;this.removeThirdPartyKeys(),this.pub("login:/failed",n)}return!1}},{key:"getRedirectURLForARDLogin",value:,{key:"ardLogin",value:function(){var e=this;return new Promise((function(t,n){var i=Y.ardRedirectUrl,r=Math.random().toString(36).substr(2,12),a={client_id:Y.ardClientId,redirect_uri:i,response_type:"code",scope:"openid nickname",state:r};e.silentLogout(),q.set(D,"ard"),q.set(j,r),q.set(M,e.getRedirectURLForARDLogin()),q.set(L,0),t(Y.ardLoginUrl+(0,p.default)(a))}))}},{key:"loginWithArdCode",value:function(e){var t=this,n=arguments,i=q.get(L);i<3?(q.set(L,i+1),k.default.loginWithArdCode({redirect_uri:Y.ardRedirectUrl,code:e}).then(().catch((function(e){t.silentLogout(),t.pub("ardLogin:/failed",null,!0),G.log("login of ARD user failed",n)}))):(console.error("Failed to perform ARD login with code; three calls were unsuccessful."),this.removeThirdPartyKeys(),this.pub("ardLogin:/failed",null,!0))}},{key:"removeThirdPartyKeys",value:,{key:"silentLogout",value:function(e){this.removeThirdPartyKeys(),$.remove(u),$.remove(A),(0,E.clearUserData)(),y.store.dispatch((0,b.resetNotifications)()),y.persistor.purge(),this.activeSubUser=null,e&&(G.rAFQueue((),this.dispatchActiveSubProfileChange(),this.getUserData())}},{key:"logout",value:function(){var e=this;k.default.logout().then((function(t){G.log("identity-service logout - success!",t),e.clearStorageAndReload()})).catch((function(t){G.log("identity-service logout - failed!",t),e.clearStorageAndReload()}))}},{key:"clearStorageAndReload",value:function(){this.silentLogout();var e=(0,w.cleanHash)(location.href,"access_token","expires_in");e===location.href?location.reload():location.href=e}},{key:"getTrackingId",value:function(){var e=this.getActiveUserId(),n=e&&this.mainUser.isLoggedIn()?(0,x.getDynamicKey)(x.STORAGE_KEYS.TRACKING_ID_KEY_LOGGED_IN,e):t,i=$.get(n);return i||(i=(0,E.generateId)("t-"),Y.consentManagementSettings.enableConsentManagement?$.set(n,i):Y.trackingDisabled||$.set(n,i)),i}},{key:"track",value:function(e){(0,g.track)(e)}},{key:"changeUser",value:function(e,t,n,i){var r=e.get(t),o=JSON.stringify(r),s=t,l=n&&n.action;if((0,E.isArrayAction)(l)){var u=(0,E.getIdKey)(t),c=void 0,d=void 0;switch(n.value?(c="string"==typeof n.value?n.value:n.value[u],d=B(r,n.value,u)):"clear"!==l&&G.logError("you need an id for action: ".concat(l)),"toggle"===l&&(l=-1===d?"add":"remove",n.action=l),l){case"clear":for(;r.length;){var f=r[0];this.change({actionName:t,data:{value:f.id||f,action:"remove"},useMainProfile:e===this.mainUser,isSilent:!0})}break;case"remove":-1!==d&&(s+=":/".concat(c,":/remove"),r.splice(d,1));break;case"add":-1===d&&(s+=":/".concat(c,":/add"),n.value.date=(0,S.default)(),r.unshift(n.value));break;case"update":-1!==d&&(s+=":/".concat(c,":/update"),r[d]=n.value)}e.update((0,a.default)({},t,r),i)}else Array.isArray(r)?G.logError("changeUser: unknown arrayAction!",t,n):e.update((0,a.default)({},t,n),i);return o===JSON.stringify(e.get(t))&&(G.log("changeUser: nothing changed"),s=null),!Y.isTiviApp||"subscriptions"!==t&&"bookmarks"!==t||(n.checked?this.postBookmarkCoordinatesToTiviApp(n):this.postBookmarkRemoveToTiviApp(n)),s}},{key:"change",value:function(e){G.log("change:",e);var t=e.actionName,n=e.data,i=e.isSilent,r=e.useMainProfile,a=E.mainUserOnlyProfileKeys.includes(t),o=r||a?this.mainUser:this.getActiveUser();this[t]&&G.logError("change() called with user function: ".concat(t));var s=this.changeUser(o,t,n,!i);s&&!i&&(this.trackProfileChange(t,n.action,n.value),this.pub(s,n,!0))}},{key:"changeMainProfile",value:,{key:"trackProfileChange",value:function(e,t,n){var i=(0,E.getUserDataTrackingEvent)(e,t);i&&this.track({eventType:i,asset:n.externalId})}},{key:"_dispatchProfileDiff",value:function(e){var t=this,n=this.mainUser.getProfile(),i=function(e,t){this.array.includes(e)||this.that.pub("".concat(this.event,":/").concat(e,":/").concat(this.action),{value:this.fullArray[t],action:this.action})},r=function(r){if(Array.isArray(e[r])&&Array.isArray(n[r])){var a=n[r].map((function(e){return e.id})),o=e[r].map((function(e){return e.id}));o.forEach(i,{event:r,that:t,array:a,fullArray:e[r],action:"remove"}),a.forEach(i,{event:r,that:t,array:o,fullArray:n[r],action:"add"}),n[r].forEach((function(n){var i=o.indexOf(n.id);n.id&&-1!==i&&JSON.stringify(n)!==JSON.stringify(e[r][i])&&t.pub("".concat(r,":/").concat(n.id,":/").concat("update"),{value:n,action:"update"})}))}else"object"!==(0,c.default)(e[r])&&"object"!==(0,c.default)(n[r])&&e[r]!==n[r]&&t.pub(r,n[r],!0)};for(var a in e)r(a)}},{key:"getUserData",value:function(){var e=this;if(this.token=this.getStoredToken(),k.default.init(this.token,this.pub),this.token){var t=this.getTokenId(this.token);this.mainUser=new O.LoggedInUser(t);var n=this.mainUser.get("id");if(n&&n!==t)return G.logWarn("user ids do not match, logging out"),void this.silentLogout(!0)}else this.checkThirdPartyLoginParam()||this.silentLogout(),this.mainUser=new O.AnonymousUser;if(G.rAFQueue((function(){e.updateHTML()})),this.token){if(!this.mainUser.get("id")||!this.mainUser.get("lastSync")||k.default.areDetailsOutdated()||window.zdfsite.isUserPage)return void Promise.all([this.fetchUserInfo(),this.fetchUserDetails()]).then(();this.pub("info",this.mainUser.getUserInfo(),!0)}this.public.ready.resolve(this.public)}},{key:"updateHTML",value:function(){var e=void 0;e=$.supported?this.mainUser.isAnonUser()?"m-anonymous":"m-logged-in":"m-private",G.$root.addClass(e),!0===$.get(A)&&G.$root.addClass("m-logged-in-ard-user")}},{key:"getStoredUserId",value:,{key:"getStoredToken",value:function(){var e=$.get(u);return this.getTokenId(e)?e:null}},{key:"getTokenId",value:function(e){if(e)try{return W(e).id}catch(e){G.logWarn("token cannot be decoded!")}return null}},{key:"toString",value:,{key:"removeUserHistories",value:function(e){"Bearer ".concat(this.token),"Bearer ".concat(Y.apiToken),m.default.clear(e,!1),v.default.clear(e,!1)}},{key:"fetchUserDetails",value:function(){var e=this;return k.default.getUserDetails().then((function(t){e.mainUser.initRemoteProfile(t.data),e.mainUser.update({lastSync:(0,S.default)()}),e.pub("profile:/success",t,!0)})).catch((function(t){G.logError("getUserDetails failed!",t),e.silentLogout(!0),e.pub("profile:/failed",t,!0)}))}},{key:"applyUserDataDiff",value:,{key:"getActiveProfile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.mainUser.getProfile():this.getActiveUser().getProfile()}},{key:"createSubProfile",value:function(e){G.logInfo("createSubProfile"),this.changeMainProfile({actionName:"subProfiles",data:{action:"add",value:e}})}},{key:"updateSubProfile",value:function(e){G.logInfo("updateSubProfile"),this.changeMainProfile({actionName:"subProfiles",data:{action:"update",value:e}}),this.activeSubUser&&this.activeSubUser.get("id")===e.id&&(this.activeSubUser.update(e,!1),this.dispatchActiveSubProfileChange())}},{key:"deleteSubProfile",value:function(e){G.logInfo("deleteSubProfile"),this.changeMainProfile({actionName:"subProfiles",data:{action:"remove",value:e}}),this.removeUserHistories(e.id),this.activeSubProfile&&this.activeSubProfile.id===e.id&&(this.mainUser.update({lastActiveSubProfileId:null}),this.activateSubProfile())}},{key:"deleteSubProfiles",value:function(){this.changeMainProfile({actionName:"subProfiles",data:{action:"clear"}}),this.activeSubProfile=null,(0,E.clearSubUserData)(),this.dispatchActiveSubProfile()}},{key:"activateSubProfile",value:function(e){this.activeSubProfile=null,(0,E.clearSubUserData)();var t=this.mainUser.get("subProfiles");if(!e&&this.mainUser.get("lastActiveSubProfileId")&&(G.logInfo("activating last active subProfile"),e=this.mainUser.get("lastActiveSubProfileId")),e&&t.length){var n=B(t,e,"id");-1!==n?(G.logInfo("found subProfile with id "+e+" @ index "+n+", activating it"),this.activeSubUser=new O.LoggedInSubUser(this,e,t[n])):(G.logError("subProfile with id "+e+" not found!"),this.activeSubUser=null)}!this.activeSubUser&&t.length>0&&(G.logInfo("using first subProfile in list"),this.activeSubUser=new O.LoggedInSubUser(this,t[0].id,t[0])),this.activeSubUser||(G.logInfo("no subprofile found to activate!"),Y.isTiviApp&&(this.activeSubUser=new O.AnonymousSubUser(this),G.log("using anonymous tiviapp profile"))),this.activeSubUser&&!this.activeSubUser.isAnonUser()&&G.$root.addClass("x-tivi-profile"),this.dispatchActiveSubProfile()}},{key:"dispatchActiveSubProfile",value:function(){var e=this.activeSubUser?this.activeSubUser.get("id"):"";this.changeMainProfile({actionName:"lastActiveSubProfileId",data:e,isSilent:!0}),this.dispatchActiveSubProfileChange()}},{key:"dispatchActiveSubProfileChange",value:function(){this.pub("activeSubProfileChanged")}},{key:"addComment",value:function(e){var t=this,n={"Content-Type":"application/json;charset=UTF-8"},r=e.commentData,a=(r.notice,(0,i.default)(r,["notice"]));this.mainUser.isLoggedIn()&&(n.Authorization="Bearer "+this.token),V({url:e.apiUrl,headers:n,contentType:!1,type:"POST",data:JSON.stringify(a)}).then((,(function(e){t.pub("commentError",{response:e})}))}},{key:"sharing_open",value:function(e){this.pub("sharing_open",e)}},{key:"setTrackingId",value:function(e){$.set(t,e)}},{key:"deactivateTracking",value:,{key:"trackingDisabled",value:function(){Y.trackingDisabled=!0,$.set(z,1),$.remove(t),this.mainUser.isAnonUser()&&this.getViewHistory().disable(),this.pub("trackingDisabled")}},{key:"trackingEnabled",value:function(){Y.trackingDisabled=!1,$.remove(z),this.getTrackingId(),this.pub("trackingEnabled")}},{key:"postBookmarkCoordinatesToTiviApp",value:function(e){(0,P.sendMessageToTiviApp)("bookmarkSet",I({},e.clientCoordinates,{externalId:e.value.externalId}))}},{key:"postBookmarkRemoveToTiviApp",value:function(e){(0,P.sendMessageToTiviApp)("bookmarkRemove",{externalId:e.value.externalId})}},{key:"getAllStorageKeys",value:function(){return H}}]),e}(),(0,l.default)(e.prototype,"migrateAnonymousProfile",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"migrateAnonymousProfile"),e.prototype),(0,l.default)(e.prototype,"handleLoginSuccess",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"handleLoginSuccess"),e.prototype),e);return Y.user=(new Q).public,Y.user},"object"===(0,c.default)(e)&&e.exports?e.exports=u():u()}).call(this,n(12)(e))},,function(e,t,n){var i=n(80)("wks"),r=n(60),a=n(27).Symbol,o="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=o&&a[e]||(o?a:r)("Symbol."+e))}).store=i},function(e,t){e.exports=,function(e,t,n){"use strict";n.r(t);var i=Object.defineProperty;function r(e,t,n){var r=n.configurable,a=n.enumerable,o=n.initializer,s=n.value;return{configurable:r,enumerable:a,get:set:P(t)}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(r,t)}var o,s,l,u,c,d,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};nction m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols;function _(e,t){return t[t.length-1])?e.apply(void 0,m(t).concat([[]])):var w=(s=h((o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"debounceTimeoutIds",s,this),p(this,"throttleTimeoutIds",l,this),p(this,"throttlePreviousTimestamps",u,this),p(this,"throttleTrailingArgs",c,this),p(this,"profileLastRan",d,this)}).prototype,"debounceTimeoutIds",[a],{enumerable:!0,initializer:function(){return{}}}),l=h(o.prototype,"throttleTimeoutIds",[a],{enumerable:!0,initializer:function(){return{}}}),u=h(o.prototype,"throttlePreviousTimestamps",[a],{enumerable:!0,initializer:function(){return{}}}),c=h(o.prototype,"throttleTrailingArgs",[a],{enumerable:!0,initializer:function(){return null}}),d=h(o.prototype,"profileLastRan",[a],{enumerable:!0,initializer:function(){return null}}),o),k="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function S(e){return!1===e.hasOwnProperty(k)&&v(e,k,{value:new w}),e[k]}var O=b?y;function E(e){var t={};return O(e).forEach((),t}r x="object"===("undefined"==typeof console?"undefined":f(console))&&console&&"function"==typeof console.warn?T(console.warn,console):function(){},C={};function A(e){!0!==C[e]&&(C[e]=!0,x("DEPRECATION: "+e))}var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var j=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/,L=function(){eturn D(e,[{key:"_getTopic",value:,{key:"_extractTopicSignature",value:function(e){switch(void 0===e?"undefined":I(e)){case"function":return this._extractFunctionSignature(e);default:return this.key}}},{key:"_extractFunctionSignature",value:function(e){var t=this;return e.toString().replace(j,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,i=arguments[2];return n+i}))}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:,{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:]),D(e,[{key:"assert",value:,{key:"error",value:]),e}();nction R(e,t,n){var i=N(e),r=N(t);switch(i!==r&&n.error('descriptor types do not match. {parent} is "'+i+'", {child} is "'+r+'"'),r){case"data":!function(e,t,n){var i=I(e.value),r=I(t.value);switch("undefined"===i&&"undefined"===r&&n.error("descriptor values are both undefined. (class properties are are not currently supported)'"),i!==r&&("function"===r&&void 0===i||void 0!==i)&&n.error('value types do not match. {parent} is "'+i+'", {child} is "'+r+'"'),r){case"function":M(e.value,t.value,n);break;default:n.error('Unexpected error. Please file a bug with: {parent} is "'+i+'", {child} is "'+r+'"')}}(e,t,n);break;case"accessor":!function(e,t,n){var i="function"==typeof e.get,r="function"==typeof t.get,a="function"==typeof e.set,o="function"==typeof t.set;(i||r)&&(!i&&a&&n.error("{parent} is setter but {child} is getter"),!r&&o&&n.error("{parent} is getter but {child} is setter"),M(e.get,t.get,n)),(a||o)&&(!a&&i&&n.error("{parent} is getter but {child} is setter"),!o&&r&&n.error("{parent} is setter but {child} is getter"),M(e.set,t.set,n))}(e,t,n)}}var F=[function(e){return e.toLowerCase()},function(e){return e.toUpperCase()},;function z(e,t,n){n.key=t;var i=Object.getPrototypeOf(e),r=Object.getOwnPropertyDescriptor(i,t),a=new L(i,e,r,n);if(void 0===r){var o=i,t),s=o?'\n\n  Did you mean "'+o+'"?':"";a.error("No descriptor matching {child} was found on the prototype chain."+s)}return R(r,n,a),n}function U(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(z,t)}var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function V(e,t,n,i){var r=B(i,2),a=r[0],o=void 0===a?"This function will be removed in future versions.":a,s=r[1],l=void 0===s?{}:s;if("function"!=typeof n.value)throw new SyntaxError("Only functions can be marked as deprecated");var u=e.constructor.name+"#"+t;return l.url&&(o+="\n\n    See "+l.url+" for more details.\n\n"),H({},n,{value:function(){return x("DEPRECATION "+u+": "+o),n.value.apply(this,arguments)}})}function W(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(V,t)}var $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function G(){}function K(e,t,n){if("object"===("undefined"==typeof console?"undefined":q(console))){var i=console.warn;console.warn=G;var r=t.apply(e,n);return console.warn=i,r}return t.apply(e,n)}function Y(e,t,n){return $({},n,{value:function(){return K(this,n.value,arguments)}})}function Z(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(Y,t)}var Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};unction X(e,t,n,i,r){var a=t.apply(e,n);return i[r]=a,a}function ee(e,t,n){var i=function(e){var t=void 0,n=void 0;return e.value?(t=e.value,n="value"):e.get?(t=e.get,n="get"):e.set&&(t=e.set,n="set"),{fn:t,wrapKey:n}}(n),r=i.fn,a=i.wrapKey,o=new WeakMap,s=Object.create(null),l=Object.create(null),u=0;return Q({},n,{},a,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i="0",a=0,c=t.length;a<c;a++){var d=t[a],f=J(l,d),p=o.get(f);void 0===p&&(p=++u,o.set(f,p)),i+=p}return s[i]||X(this,r,arguments,s,i)})))}function te(){A("@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(ee,t)}function ne(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ie=Object.defineProperty,re=Object.getPrototypeOf,ae=void 0;function oe(e){for(var t=E(e.prototype),n=O(t),i=0,r=n.length;i<r;i++){var a=n[i],o=t[a];"function"==typeof o.value&&"constructor"!==a&&ie(e.prototype,a,se(e.prototype,a,o))}}function se(e,t,n){var i=n.value,r=n.configurable,a=n.enumerable;if("function"!=typeof i)throw new SyntaxError("@autobind can only be used on functions, not: "+i);var o=e.constructor;return{configurable:r,enumerable:a,get:function(){if(this===e)return i;if(this.constructor!==o&&re(this).constructor===o)return i;if(this.constructor!==o&&t in this.constructor.prototype)return function(e,t){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");ae||(ae=new WeakMap),!1===ae.has(e)&&ae.set(e,new WeakMap);var n=ae.get(e);return!1===n.has(t)&&n.set(t,T(t,e)),n.get(t)}(this,i);var n=T(i,this);return ie(this,t,{configurable:!0,writable:!0,enumerable:!1,value:n}),n},set:P(t)}}nction ce(e,t,n){return n.writable=!1,n}function de(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(ce,t)}function fe(e,t,n){return n.enumerable=!0,n}function pe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(fe,t)}function he(e,t,n){return n.enumerable=!1,n}function me(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(he,t)}unction ge(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(ve,t)}var ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},be=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _e(e,t,n,i){var r=be(i,2),a=r[0],o=void 0===a?300:a,s=r[1],l=void 0!==s&&s,u=n.value;if("function"!=typeof u)throw new SyntaxError("Only functions can be debounced");return ye({},n,{value:function(){var e=this,n=S(this),i=n.debounceTimeoutIds,r=i[t],a=l&&!r,s=arguments;clearTimeout(r),i[t]=setTimeout((,o),a&&u.apply(this,s)}})}function we(){A("@debounce is deprecated and will be removed shortly. Use @debounce from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(_e,t)}var ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Se=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Oe(e,t,n,i){var r=Se(i,2),a=r[0],o=void 0===a?300:a,s=r[1],l=void 0===s?{}:s,u=n.value;if("function"!=typeof u)throw new SyntaxError("Only functions can be throttled");return!1!==l.leading&&(l.leading=!0),!1!==l.trailing&&(l.trailing=!0),ke({},n,{value:function(){var e=this,n=S(this),i=n.throttleTimeoutIds,r=n.throttlePreviousTimestamps,a=i[t],s=r[t]||0,c=Date.now();l.trailing&&(n.throttleTrailingArgs=arguments),s||!1!==l.leading||(s=c);var d=o-(c-s);d<=0?(clearTimeout(a),delete i[t],r[t]=c,u.apply(this,arguments)):!a&&l.trailing&&(i[t]=setTimeout((,d))}})}function Ee(){A("@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(Oe,t)}var Pe=Object.defineProperty;function Te(e,t,n,i){var r,a=(r=i,Array.isArray(r)?r:Array.from(r)),o=a[0],s=a.slice(1),l=n.configurable,u=n.enumerable,c=n.writable,d=n.get,f=n.set,p=n.value,h=!!d;return{configurable:l,enumerable:u,get:function(){var e=h?d.call(this):p,n=o.call.apply(o,[this,e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s)));if(h)return n;var i={configurable:l,enumerable:u};return i.value=n,i.writable=c,Pe(this,t,i),n},set:h?f:P()}}function xe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(Te,t)}var Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae=Object.defineProperty,Ie=Object.getPrototypeOf;function De(e,t){if(n=e,"[object Symbol]"===Object.prototype.toString.call(n)&&"object"===(void 0===n?"undefined":Ce(n))){do{if(t===Object.prototype)return void 0!==t[e];if(t.hasOwnProperty(e))return!0}while(t=Ie(t));return!1}return e in t;var n}function je(e,t){if(!t.length)throw new SyntaxError("@mixin() class "+e.name+" requires at least one mixin as an argument");for(var n=0,i=t.length;n<i;n++)for(var r=E(t[n]),a=O(r),o=0,s=a.length;o<s;o++){var l=a[o];De(l,e.prototype)||Ae(e.prototype,l,r[l])}}function Le(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return A("@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators"),"function"==typeof t[0]?je(t[0],[]):function(e){return je(e,t)}}var Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Me=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Re={},Fe={time:console.time?console.time.bind(console):timeEnd:console.timeEnd?console.timeEnd.bind(console):,ze=0;unction He(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(Ue,t)}var Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ve=Object.getPrototypeOf,We=Object.getOwnPropertyDescriptor;unction qe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _($e,t)}var Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ke=Ye=(console,{profile:console.profile?T(console.profile,console):function(){},profileEnd:console.profileEnd?T(console.profileEnd,console):function(){},warn:x});function Ze(e,t,n,i){var r=Ke(i,3),a=r[0],o=void 0===a?null:a,s=r[1],l=void 0!==s&&s,u=r[2],c=void 0===u?Ye:u;if(!Qe.__enabled)return Qe.__warned||(c.warn("console.profile is not supported. All @profile decorators are disabled."),Qe.__warned=!0),n;var d=n.value;if(null===o&&(o=e.constructor.name+"."+t),"function"!=typeof d)throw new SyntaxError("@profile can only be used on functions, not: "+d);return Ge({},n,{value:function(){var e=Date.now(),t=S(this);(!0===l&&!t.profileLastRan||!1===l||"number"==typeof l&&e-t.profileLastRan>l||"function"==typeof l&&l.apply(this,arguments))&&(c.profile(o),t.profileLastRan=e);try{return d.apply(this,arguments)}finally{c.profileEnd(o)}}})}e.__enabled=!!console.profile,Qe.__warned=!1;var Je=Object.defineProperty,Xe=Object.getOwnPropertyDescriptor;function et(e,t){var n=e.prototype;for(var i in t)for(var r=t[i],a=0,o=r.length;a<o;a++){var s=r[a];Je(n,i,s(n,i,Xe(n,i)))}return e}n.d(t,"override",(function(){return U})),n.d(t,"deprecate",(function(){return W})),n.d(t,"deprecated",(function(){return W})),n.d(t,"suppressWarnings",(function(){return Z})),n.d(t,"memoize",(function(){return te})),n.d(t,"autobind",(function(){return ue})),n.d(t,"readonly",(function(){return de})),n.d(t,"enumerable",(function(){return pe})),n.d(t,"nonenumerable",(function(){return me})),n.d(t,"nonconfigurable",(function(){return ge})),n.d(t,"debounce",(function(){return we})),n.d(t,"throttle",(function(){return Ee})),n.d(t,"decorate",(function(){return xe})),n.d(t,"mixin",(function(){return Le})),n.d(t,"mixins",(function(){return Le})),n.d(t,"lazyInitialize",(function(){return a})),n.d(t,"time",(function(){return He})),n.d(t,"extendDescriptor",(function(){return qe})),n.d(t,"profile",(function(){return Qe})),n.d(t,"applyDecorators",(function(){return et}))},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(32)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},,function(e,t,n){var i=n(31),r=n(126),a=n(73),o=Object.defineProperty;t.f=n(29)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(50),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){"use strict";var i,r,a;r=[t,n(231),n(279)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}i.default.rb||(i.default.rb={version:r.default});var o=i.default.rb;e.default=o})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){var i=n(37),r=n(63);e.exports=n(29)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";e.exports=n(603)},function(e,t,n){var i=n(51);e.exports=function(e){return Object(i(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addConsentChangedCallback=h,t.addConsentChangedListener=function(e){window.rb.root.addEventListener(a.OT_EVENTS.CONSENT_CHANGED,e)},t.handleConsentChanged=v,t.hasFacebookConsent=c,t.hasInstagramConsent=d,t.hasPersonalizationConsent=l,t.hasThirdPartyConsent=f,t.hasTrackingConsent=s,t.hasTwitterConsent=u,t.openCMPSettings=m,t.removeConsentChangedListener=var i=n(110),r=n(263),a=n(135);function o(e){(0,r.isNativeAppWorkspaceAvailable)()?(0,r.setConsentInNativeAppForGroup)(e).then((0,r.createNativeAppResolveHandler)(e,!0),(0,r.createNativeAppRejectHandler)("setConsent")):(0,i.getOTAppInstance)().setConsentForGroup(e)}function s(){return(0,i.getOTAppInstance)().hasConsentForGroup(a.OT_CONSENT_GROUPS.REQUIRED_PERFORMANCE_MEASUREMENT)}function l(){return(0,i.getOTAppInstance)().hasConsentForGroup(a.OT_CONSENT_GROUPS.PERSONALISATION_AND_RECOMMENDATIONS)}function u(){return(0,i.getOTAppInstance)().hasConsentForGroup(a.OT_CONSENT_GROUPS.TWITTER)}function c(){return(0,i.getOTAppInstance)().hasConsentForGroup(a.OT_CONSENT_GROUPS.FACEBOOK)}function d(){return(0,i.getOTAppInstance)().hasConsentForGroup(a.OT_CONSENT_GROUPS.INSTAGRAM)}function f(){return(0,i.getOTAppInstance)().hasConsentForGroup(a.OT_CONSENT_GROUPS.THIRD_PARTY_PROVIDERS)}nction m(){if((0,r.isNativeAppWorkspaceAvailable)())(0,r.openCMPSettingsInNativeApp)().catch((0,r.createNativeAppRejectHandler)("openCMPSettings"));else{var e=window.rb;e.events.dispatch(e.root,a.OT_EVENTS.TOGGLE_INFO_DISPLAY)}}function v(){(0,i.getOTAppInstance)().handleExternalConsentChanged()}zdfsite.cmp={isActive:zdfsite.consentManagementSettings.enableConsentManagement,hasTrackingConsent:s,setTrackingConsent:function(){o(a.OT_CONSENT_GROUPS.REQUIRED_PERFORMANCE_MEASUREMENT)},hasPersonalizationConsent:l,setPersonalizationConsent:function(){o(a.OT_CONSENT_GROUPS.PERSONALISATION_AND_RECOMMENDATIONS)},hasTwitterConsent:u,setTwitterConsent:function(){o(a.OT_CONSENT_GROUPS.TWITTER)},hasFacebookConsent:c,setFacebookConsent:function(){o(a.OT_CONSENT_GROUPS.FACEBOOK)},hasInstagramConsent:d,setInstagramConsent:hasThirdPartyConsent:f,setThirdPartyConsent:p,setThirdPartyProviderConsent:p,openCMPSettings:m,addConsentChangedCallback:h,handleConsentChanged:v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_KEYS=void 0,t.findKey=t.getAllKeysForGroup=t.getDynamicKey=function(e,t){return e.name.replace(r,t)},n(15),n(9),n(8),n(5),n(97),n(17),n(82),n(10),n(28),n(26);var i=n(135),r="%PLACEHOLDER%",a={ZDFUSER:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdfuser"),USER_SETTINGS:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_settings_"+r),USER_DETAILS:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_details_"+r),USER_INFO:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_logged_in_user_info"),VIDEO_OPTIONS:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"video_options"),IS_ARD_PIN_VERIFICATION:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf-pin-verification-ard"),ARD_PIN_VERIFICATION_ID:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf-pin-verification-id"),ARD_PIN_VERIFICATION_REDIRECT:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf-pin-verification-redirect"),ARD_PIN_VERIFICATION_PIN:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf-pin-verification-pin"),IS_FRESH_ETAG:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_is_fresh"),ETAG_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_etag"),CAMPAIGNS_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf-completed-campaigns"),REGISTRATION_STATE:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf-registration-state"),TOKEN:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_token"),ARD_LOGIN_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_ard_login"),THIRD_PARTY_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_third_party"),THIRD_PARTY_STATE:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_third_party_state"),THIRD_PARTY_LOGIN_ATTEMPTS:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_third_party_login_attempts"),REDIRECT_AFTER_AGE_VERIFICATION:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_redirecturi_after_age_verification"),REDIRECT_AFTER_THIRD_PARTY_LOGIN:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_redirecturi_after_thirdparty_login"),AGE_VERIFICATION_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_age_verification"),CHECK_AGE_VERIFICATION_NOTIFICATION_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_check_age_verification_notification"),WEATHER_STATION:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_weather_station"),IS_STATION_RELOAD:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_is_station_reload"),STATION_SELECT_BY_KEYBOARD:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"station_select_by_keyboard"),ZDFCHEN_GROUP_DATA:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf-zdfchen-group-data"),VIDEO_QUALITY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdfplayer-video-quality"),CHROMECAST_ENABLED:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdfplayer-chromecast-enabled"),PHOTO_MATRIX_ORIGIN:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_photoMatrixOrigin"),FSK_AUTH:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"fsk-auth"),TIVI_SCROLL_HINT:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"tivi-scroll-hint"),GUIDED_TOURS:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_user_guided_tours"),GUIDED_TOURS_LAST_INTERACTION:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"lastGuidedTourInteractionTimestamp"),TRACKING_DISABLED_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_tracking_disabled"),TRACKING_INIT_KEY:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_no_init_tracking"),USE_DARKMODE:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_use_darkmode"),CMP_DIALOG_SHOWN:s(i.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,"zdf_cmp_dialog_"+r+"_shown"),USER_HISTORY:s(i.OT_CONSENT_GROUPS.PERSONALISATION_AND_RECOMMENDATIONS,"zdf_user_"+r+"_history"),USER_VIEW_HISTORY:s(i.OT_CONSENT_GROUPS.PERSONALISATION_AND_RECOMMENDATIONS,"zdf_user_"+r+"_view_history"),TRACKING_ID_KEY_LOGGED_IN:s(i.OT_CONSENT_GROUPS.PERSONALISATION_AND_RECOMMENDATIONS,"zdf_user_tracking_id-"+r),TRACKING_ID_KEY_LOGGED_OUT:s(i.OT_CONSENT_GROUPS.PERSONALISATION_AND_RECOMMENDATIONS,"zdf_user_tracking_id")};function o(){return this.name.includes(r)}function s(e,t){return{name:t,consentGroup:e,isDynamicKey:o,regex:new RegExp(t.replace(r,"[a-zA-Z0-9-]+"))}}t.STORAGE_KEYS=a},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var i,r,a;n(17),n(14),r=[t,n(68),n(40)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=/^\?/,s=/\+/g,l=/\[]$/,u=function(e){if(e){e=e.split("=");var t=decodeURIComponent(e[0]),n=decodeURIComponent(e[1]||"");l.test(t)&&((t=t.replace(l,""))in this||(this[t]=[]));var r=(0,i.default)(this[t]);t in this&&"string"==r&&(this[t]=[this[t]],r="object"),"object"==r?this[t].push(n):this[t]=n}};r.default.deserialize=function(e){var t={};return(e||"").replace(o,"").replace(s," ").split("&").forEach(u,t),t},e.default=r.default.deserialize})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){var i=n(92),r=n(51);e.exports=function(e){return i(r(e))}},,function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t,n){var i=n(132),r=n(96);e.exports=Object.keys||function(e){return i(e,r)}},,function(e,t,n){"use strict";(function(e){var t=n(2);n(22),n(19),n(9),n(8),n(18),n(15),n(14),n(49);var i=t(n(98));n(28),n(26);var r=t(n(21));n(13),n(57),n(34),n(5),n(17);var a,o=t(n(0)),s=t(n(1)),l=t(n(23)),u=t(n(11)),c=n(24),d=n(294),f=n(301),p=n(281),h=n(233),m=n(47);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}a=function(){var e,t=window.rb,n=t.$,a=window.zdfsite,u="."+["js","track","click"].join(t.nameSeparator),g="."+["js","track","change"].join(t.nameSeparator),y=!1,b=0,_=0,w=void 0,k={element:"",action:"",actionDetail:"",trackAT:!0,trackSZM:!0},S={type:"action",element:"{textContent}",action:"Click",actionDetail:"",trackView:!1,trackAT:!0,trackSZM:!0,trackATView:!0,trackSZMView:!0},O=(e=function(){function e(){(0,o.default)(this,e),this.public={trackClick:this.trackClick,trackView:this.trackView,trackViewCustom:this.trackViewCustom,trackPlusButtonClick:this.trackPlusButtonClick,triggerPageView:this.triggerPageView,escapeForTracking:e.escapeForTracking,getPageEventData:e.getPageEventData,tryResumeOriginal:this.tryResumeOriginal,getSearchInfos:this.getSearchInfos,fillPlaceholders:this.fillPlaceholders,trackSZMMultiIdentifierPageView:d.trackSZMMultiIdentifierPageView,getPublishData:f.getPublishData,sendAtDeltaEvent:f.sendAtDeltaEvent},a.tracking||(a.trackingDisabled=!0),(0,d.trackPageViewSZM)()}return(0,s.default)(e,[{key:"getSearchInfos",value:function(){return n(".b-search-list")?{searchResultsCount:n(".b-search-list [data-loadmore-result-count]").attr("data-loadmore-result-count"),searchParams:window.location.search.toString().replace("?","")}:null}},{key:"trackClick",value:function(e,n){var i=this;if(a.consentManagementSettings.enableConsentManagement){if(!(0,m.hasTrackingConsent)()||a.trackingDisabled||!a.tracking)return}else if(a.trackingDisabled||!a.tracking)return;var o=void 0,s=void 0,l=void 0;if("getAttribute"in e?(o=t.jsonParse(e.getAttribute("data-track")),s=t.jsonParse(e.getAttribute("data-publish-data")),l=t.jsonParse(e.getAttribute("data-track-te21")),!o&&e.matches(".m-clickarea-action")&&(e=e.closest("[data-track].m-clickarea")||e.closest("[data-track]"))&&(o=t.jsonParse(e.getAttribute("data-track")),s=t.jsonParse(e.getAttribute("data-publish-data")),l=t.jsonParse(e.getAttribute("data-track-te21")))):o=e,o&&!a.isHeuteApp&&!this.checkIfClickOnOptionToUpdate(e)&&n&&(w=(0,h.delayEventAndStartTimer)(n,e)),b=0,_=0,s){var u=e.getAttribute("data-publish-data-title")||"",c=e.getAttribute("data-publish-data-url")||"",g=Object.assign({},s,{title:u,url:c});(0,f.trackPublish)(g)}if(o||l){o&&void 0!==o.teaserTracking&&(0,f.trackPublishElement)(o,e);var y=Object.assign({},S,o,l||{}),k=["element","action","actionDetail","clickedClusterPosition","clickedTeaserPosition","targetAssetId","nodeId","actionDetailTe21","vpos","elementState"].reduce((function(t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,(0,r.default)({},n,i.fillPlaceholders(y[n],e)))}),y);"null"===k.nodeId&&delete k.nodeId,k.chapter1=a.tracking.atInternet.page.chapter1||"",o&&(0,p.sendZDFClickTrack)(k,e),y.trackAT&&(b++,(0,f.sendATClickTrack)(k,o,e,n,_)),t.jsonParse(y.trackView)&&(y.trackSZM&&y.trackSZMView&&(b++,(0,d.sendSZMViewWhenReady)(k)),y.trackAT&&y.trackATView&&(b++,(0,f.sendATViewWithAttributes)(k))),o&&o.trackView&&(0,f.debouncedImpression)()}else t.logWarn("trackClick | missing trackData, check format of data-track",e,o)}},{key:"checkIfClickOnOptionToUpdate",value:function(e){if(!e||!e.getAttribute)return!1;var t=e.getAttribute("data-track");return!!t&&["Suche_Angebotsfilter","WetterModul","A/B-Gruppen-Auswahl"].some((function(e){return t.includes(e)}))}},{key:"tryResumeOriginal",value:function(){if(0!==b&&(_++,b<=_&&0!==b&&w)){var e=w;w={},(0,h.resumeOriginalEvent)(e)}}},{key:"trackPlusButtonClick",value:function(e){if(a.consentManagementSettings.enableConsentManagement||!a.trackingDisabled){var n=e.elem,r=(0,i.default)(e,["elem"]);r?((0,p.sendZDFClickTrack)(r),(0,f.sendPlusButtonClick)(e)):t.logWarn("trackClick | missing trackData, check format of data-track",n,r)}}},{key:"trackView",value:function(e){if(a.consentManagementSettings.enableConsentManagement||!a.trackingDisabled){var n="getAttribute"in e?t.jsonParse(e.getAttribute("data-track-view")):e;if(n){var i=Object.assign({},k,n||{});i.element=this.fillPlaceholders(i.element,e),i.action=this.fillPlaceholders(i.action,e),i.actionDetail=this.fillPlaceholders(i.actionDetail,e),i.trackSZM&&(0,d.sendSZMViewWhenReady)(i),i.trackAT&&(0,f.sendATViewWithAttributes)(i),(0,f.trackImpression)()}else t.logWarn("trackView | missing trackData, check format of data-track-view")}}},{key:"trackViewCustom",value:function(e){if(a.consentManagementSettings.enableConsentManagement||!a.trackingDisabled){var t=e.szmng||a.tracking.szmng;(0,d.sendSZMViewWithAttributes)(t,e),(0,f.trackViewCustom)(e)}}},{key:"triggerPageView",value:function(){a.noInitTracking=!1,a.userReady.then((),(0,d.trackPageViewSZM)(!0),(0,f.trackPageViewAT)()}},{key:"fillPlaceholders",value:function(n,i){return n&&i?((n.match(/{[^{}]{0,}?}/g)||[]).forEach((function(r){if(r){var a=void 0,o=r.replace("{","").replace("}",""),s=-1!==o.indexOf("?"),l=o.match(/\w+\(.{0,}\)/g);if(s){var u=o.split("?");o=u[0],a=(u[1]||"").split(":")}if(l&&l[0])return c=e.applyHelperFunction(l[0],i),c=e.escapeForTracking(c),void(n=n.replace(r,c));var c=-1!==o.indexOf("-")?i.getAttribute(o):i[o];if(s&&(c=JSON.parse(c)?a[0]:a[1]),!c&&""!==c)return t.logWarn("tracking value unknown",n,i);c&&c.trim&&(c=c.replace(/\s+/g," ").trim(),c=e.escapeForTracking(c)),n=n.replace(r,c)}})),n):n}}],[{key:"getPageEventData",value:function(e){return[e.element,e.action,e.actionDetail].reduce((function(e,t){return e+(e?"::"+t:t||"")}),"")}},{key:"applyHelperFunction",value:function(n,i){var r=e.helperFunctions,a=n.replace(/\)$/,"").split("("),o=a[0],s=a.splice(1).join("(").split(", ").map((function(e){e=e.trim();var n=t.jsonParse(e);return void 0===n?""===e?void 0:e:n}));if(o in r)return r[o].apply(i,s);t.logWarn("missing helperFunction with name:",o)}},{key:"escapeForTracking",value:function(e){var t=e;return e&&(t=encodeURIComponent(e)),t}},{key:"helperFunctions",get:function(){return{siblingPos:function(e,n){return n=n||".b-cluster",t.$(this).parents(n).find(e).index(t.$(this).parents(e))+1},clusterPos:function(e){e=e||".b-cluster:not(.hide)";var n=t.$(this).parent().parents(".sb-page").children(e).index(t.$(this).parents(e));return-1===n?1:n+1},teaserPos:function(e,n){return t.$(this).closest(e).find(n).index(t.$(this).parents(n))+1},valueReplaceWhitespacesWithUnderscores:getSelectedOptionText:parentProp:function(e){return t.$(this).parent().attr(e)},heuteTeaser:function(e,n){var i=void 0;return-1===(i=n?t.$(this).parents(".sb-page").find(e).index(t.$(this).parents(e)):t.$(this).parents(".sb-page").find(e).index(t.$(this)))?1:i+1},clusterTitle:function(e){e=e||".b-cluster";var n=t.$(this).parent().parents(e).find(".cluster-title");if(n.length>0){var i=n.elements[0];if(i.getAttribute("data-tracking-title")&&i.getAttribute("data-tracking-title").length>0)return i.getAttribute("data-tracking-title").trim();var r=i.textContent.trim();return r=r.replace(/\s+/g,"_")}return""},nodeId:function(e){e=e||".b-cluster";var n=t.$(this).parent().parents(e);return n.length>0?n.elements[0].getAttribute("data-node-id"):""}}}}]),e}(),(0,l.default)(e.prototype,"getSearchInfos",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"getSearchInfos"),e.prototype),(0,l.default)(e.prototype,"trackClick",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"trackClick"),e.prototype),(0,l.default)(e.prototype,"tryResumeOriginal",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"tryResumeOriginal"),e.prototype),(0,l.default)(e.prototype,"trackPlusButtonClick",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"trackPlusButtonClick"),e.prototype),(0,l.default)(e.prototype,"trackView",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"trackView"),e.prototype),(0,l.default)(e.prototype,"trackViewCustom",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"trackViewCustom"),e.prototype),(0,l.default)(e.prototype,"triggerPageView",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"triggerPageView"),e.prototype),e);return document.addEventListener("click",(function(e){if(!y||e.isTrusted){var n=e.target,i=n.tagName,r=n.textContent,o=n.href,s=a.trackingHelper;if("true"!==n.getAttribute("data-no-tracking")){if("A"===i&&!n.matches(u)){var l={};try{l=t.jsonParse(n.getAttribute("data-track")||"{}")}catch(e){}var c=l,d=c.trackAT,f=void 0===d?S.trackAT:d,p=c.trackSZM,h=void 0===p?S.trackSZM:p;s.trackClick({element:"Textlink",action:"click",actionDetail:"".concat(s.escapeForTracking(r),"|Linkziel:").concat(s.escapeForTracking(o)),domElement:n,domEvent:e,trackAT:f,trackSZM:h})}var m=n.closest(u);for(null!==e&1===e.which&&(e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&m&&(e.preventDefault(),window.open(m.href,"_blank")),m&&e.isTrusted&&(y=!0,setTimeout((function(){y=!1})));m;)s.trackClick(m,e),(m=m.parentNode)&&m.closest&&(m=m.closest(u)),m&&!m.closest&&(m=null)}else t.log("not tracking click because data-no-tracking is set on target:",n)}}),!0),document.addEventListener("change",(,!0),a.trackingHelper=(new O).public,a.trackingHelper},"object"===(0,u.default)(e)&&e.exports?e.exports=a():a()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28),n(26),n(13);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=window.rb,u=l.$,c=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isLoading=!1,l.rAFs(i,{that:i},"fail","success","changedLoadingState"),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{errorItemSel:".error-item",loadingClass:"m-loading",fallbackToLastErrorMessageOnFail:!0}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,o.default)(t,[{key:"submit",value:function(e){this.logInfo("needs to be implemented by the subclass component",e),this.isLoading=!0}},{key:"success",value:,{key:"getInvalidValueMissingElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element;return u(e.elements).filter((function(e,t){return t.validity&&!t.validity.valid&&t.validity.valueMissing}))}},{key:"mergeErrorMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduceRight((function(e,t){var n=t.message||t;return{status:t.status||e.status||0,message:(n?e.message+" "+n:e.message).trim(),errorElements:e.errorElements.concat(t.errorElements||[])}}),{status:400,message:"",errorElements:[]})}},{key:"getValidationErrorsForInvalidValueMissingElements",value:function(e){var t=[];if("checkValidity"in e&&!e.checkValidity()){var n=this.getInvalidValueMissingElements(e);n.length&&t.push({status:400,message:"Please fill all required fields.",errorElements:n.get()})}return t}},{key:"checkInvalidityOfElementForTypes",value:function(e,t){var n=e.validity,i=[].concat(t);return!!n&&i.reduce((,!1)}},{key:"fail",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},t,t.data),i=(n.message||"").trim(),r=n.status||0,a=void 0,o=this.$queryAll(this.options.errorItemSel),s=u(n.errorElements||[]);o.removeAttr("id"),this.isLoading=!1,i&&(a=o.filter((function(t,n){var a=u(n),o=(a.attr("data-message")||"").trim(),l=a.attr("data-status")||"",c=a.attr("data-error-elements"),d=o&&-1!==i.indexOf(o)||l&&r&&l.includes(r);return d&&c&&(s=u(s.get().concat(e.queryAll(c)))),d}))),a&&a.length&&(a=a.eq(0)).attr("id","error_label"),!this.options.fallbackToLastErrorMessageOnFail||a&&a.length||(a=o.eq(o.length-1),this.logWarn("did not found a matching error message, will fallback to default error message",n,a)),o.filter((function(e){return"none"!=u(this).css("display")&&"hidden"!=u(this).css("visibility")})).stop().each((),u(this.element.elements).not(s).removeClass("error").removeAttr("aria-invalid"),a.stop().rbSlideDown(),s&&s.length&&(s.addClass("error").attr({role:"input","aria-describedby":"error_label"}),s.get(0)&&("password"!==u(s.get(0)).attr("type")&&u(s.get(0)).attr({"aria-invalid":"true"}),l.rAFQueue(()))}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=!!e,this.changedLoadingState()}}]),t}(l.Component);t.default=c},function(e,t,n){var i=n(38);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(37).f,r=n(46),a=n(20)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,n){"use strict";var i,r,a;n(17),n(10),r=[t,n(68),n(40)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=r.default.$,s=/%20/g,l=/\[]$/;function u(e,t,n){var r=void 0;if(Array.isArray(t))t.forEach((function(t,r){l.test(e)?n(e,t):u(e+"["+("object"===(void 0===t?"undefined":(0,i.default)(t))&&null!=t?r:"")+"]",t,n)}));else if("object"==(void 0===t?"undefined":(0,i.default)(t)))for(r in t)u(e+"["+r+"]",t[r],n);else n(e,t)}var c=o&&o.param||function(e){var t=void 0,n=[],i=if(Array.isArray(e))e.forEach(();else for(t in e)u(t,e[t],i);return n.join("&").replace(s,"+")};r.default.param=c,o&&!o.param&&(o.param=c),e.default=c})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(i){var r,a,o;n(14),n(33),n(56),n(10),n(49),n(284),n(76),n(13),n(17),a=[t,n(66),n(68),n(40),n(206),n(140),n(386),n(571),n(236),n(387),n(385),n(237),n(300),n(209),n(572)],void 0===(o="function"==typeof(r=function(e,t,n,r,a,o,s,l,u,c,d){Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var f=k(t),p=k(n),h=k(r),m=k(a),v=k(o),g=k(s),y=k(l),b=k(u),_=k(c),w=k(d);function k(e){return e&&e.__esModule?e:{default:e}}h.default.getCSSNumbers=w.default,!h.default.jsonParse||!("cssConfig"in h.default)||h.default.parsePseudo,h.default.$||(h.default.$=window.jQuery),(0,_.default)(h.default,(void 0!==i&&i.env,1)),void 0!==i&&i.env,function(e,t,n){var i,r,a,s=/\{-}/g,l=/\s*?,\s*?|\s+?/g,u=Array.prototype.slice,c=h.default.$;h.default.root=t.documentElement,h.default.$root=c(h.default.root),h.default.$win=c(e),h.default.$doc=c(t),h.default.templates={},h.default.statePrefix="is-",h.default.utilPrefix="u-",h.default.jsPrefix="",h.default.nameSeparator="-",h.default.elementSeparator="-",h.default.attrSel="",c.fn.rbToggleState=function(e,t){return this.length&&(e=h.default.statePrefix+e.replace(s,h.default.nameSeparator),this.toggleClass(e,t)),this},c.fn.rbChangeState=c.fn.rbToggleState,["addClass","removeClass","toggleClass","append","appendTo","prepend","prependTo","after","before","insertAfter","insertBefore","html","text","remove","removeAttr","attr","prop","css","rbToggleState"].forEach((function(e){c.fn[e+"Raf"]=function(){var t=this,n=arguments;return this.length&&(0,v.default)((function(){t[e].apply(t,n)}),!0),this}})),h.default.getScrollingElement=function(){return t.scrollingElement},h.default.getPageScrollingElement=h.default.getScrollingElement,h.default.getScrollingEventObject=function(t){return t||(t=h.default.getPageScrollingElement()),t.matches&&t.ownerDocument&&t.matches("html, body")?t.ownerDocument.defaultView:"addEventListener"in t?t:e};var d,f=h.default.root;h.default.resize=Object.assign(h.default.$.Callbacks(),{_setup:function(){a||(a=!0,(0,o.afterframePhase)((function(){i=innerWidth,r=f.clientHeight})),e.removeEventListener("resize",this._run),e.addEventListener("resize",this._run))},_teardown:function(){a&&!this.has()&&(a=!1,e.removeEventListener("resize",this._run))},on:function(e){this.add(e),this._setup()},off:function(e){this.remove(e),this._teardown()}}),h.default.resize._run=(0,y.default)((function(){i==innerWidth&&r==f.clientHeight||(i=innerWidth,r=f.clientHeight,this.fire())}),{that:h.default.resize,read:!0}),h.default.memoize=function(e,t){var n={};return t?function(t){return t in n||(n[t]=e.call(this,t)),n[t]}:function(){var t=u.call(arguments),i=t.join(",");return i in n||(n[i]=e.apply(this,t)),n[i]}},h.default.parseValue=(d=/^-{0,1}\+{0,1}\d+?\.{0,1}\d*?$/,function(e){if("true"==e)e=!0;else if("false"==e)e=!1;else if("null"==e)e=null;else if(d.test(e))e=parseFloat(e);else if(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]"))try{e=JSON.parse(e)}catch(e){}return e}),c.fn.rbComponent=function(e,t){var n,i=this.get(0);return i&&(n=h.default.getComponent(i,e,t)),n};var m,g,b,_,w,k,S,O,E,P,T,x=void 0,C={ease:"0.25,0.1,0.25,1",linear:"0,0,1,1","ease-in":"0.42,0,1,1","ease-out":"0,0,0.58,1","ease-in-out":"0.42,0,0.58,1"},A=/([0-9.]+)/g;h.default.addEasing=function(t,n){var i=void 0;if("string"==typeof t)return C[t]&&(n=t,t=C[t]),(x=x||h.default.BezierEasing||e.BezierEasing)&&!c.easing[t]&&(i=t.match(A))&&4==i.length&&(i=i.map((function(e){return parseFloat(e)})),c.easing[t]=x.apply(this,i),"object"==(0,p.default)(c.easing[t])&&"function"==typeof c.easing[t].get&&(c.easing[t]=c.easing[t].get),n&&!c.easing[n]&&(c.easing[n]=c.easing[t])),c.easing[t]||c.easing.swing||c.easing.linear},h.default.setFocus=(w=[],k=/^(?:input|textarea)$/i,S={button:1,submit:1,reset:1,image:1,file:1},O=function(){b=!0},E=function(){m=null,g=0,b=!1,t.removeEventListener("focus",O,!0),_&&(clearTimeout(_),_=null)},P=function(){if(!m||b||g>9)E();else if("hidden"!=h.default.getStyles(m).visibility&&(m.offsetHeight||m.offsetWidth)){h.default.isScriptFocus=!0,h.default.$doc.trigger("rbscriptfocus"),function(){for(var e=m.parentNode;e;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&w.push([e,e.scrollTop,e.scrollLeft]),e=e.parentNode;e=t.scrollingElement,w.push([e,e.scrollTop,e.scrollLeft])}(),c.prop(m,"tabIndex")<0&&!m.getAttribute("tabindex")&&(m.setAttribute("tabindex","-1"),m.classList.add("js"+h.default.nameSeparator+"rb"+h.default.nameSeparator+"scriptfocus"));try{m.focus()}catch(e){}!function(){var e;for(e=0;e<w.length;e++)w[e][0].scrollTop=w[e][1],w[e][0].scrollLeft=w[e][2];w=[]}(),h.default.isScriptFocus=!1,E()}else 2==g&&t.addEventListener("focus",O,!0),g++,T(150)},T=function(e){m!==t.activeElement&&(_=setTimeout(P,e||40))},function(e,n){e&&e!==t.activeElement&&m!==e&&(E(),m=e,k.test(m.nodeName)&&!S[m.type]?P():T(n))});var I=[],D=function(){var e=["js","rb","click"].join(h.default.nameSeparator),n="."+e,i=function(t,n){var i,r,a,o;for(i=0,r=I.length;i<r;i++)if(null!=(a=t.getAttribute(I[i].attr))){o=!0,I[i].fn(t,n,a);break}o||t.classList.remove(e)};return D=h.default.$.noop,t.addEventListener("keydown",(function(t){var n=t.target;40!=t.keyCode&&32!=t.keyCode&&13!=t.keyCode||!n.classList.contains(e)||i(n,t)}),!0),t.addEventListener("change",(function(t){var n=t.target;n.classList.contains(e)&&i(n,t)}),!0),t.addEventListener("click",(function(e){if(!e.button)for(var t=e.target.closest(n);t;)i(t,e),(t=t.parentNode)&&t.closest&&(t=t.closest(n)),t&&!t.closest&&(t=null)}),!0),e};h.default.click={cbs:I,add:function(e,t){var n=this;I.push({attr:"data-"+e,fn:t}),1==I.length&&h.default.ready.then(()}};var j=/:(\d)+\s*$/,L=/^\s*?\.?([a-z0-9_$]+)\((.*?)\)\s*?/i,N=/^@(.+)/;h.default.getElementsByString=function(n,i){var r,a,o,s,u,d;if(n){switch((u=n.match(j))&&(n=n.replace(u[0],""),u=u[1]),n){case"window":o=[e];break;case"document":o=[t];break;case"scrollingElement":o=[h.default.getPageScrollingElement()];break;case"scrollingEventObject":o=[h.default.getScrollingEventObject()];break;default:if((d=n.match(N))&&d[1]in i)o="length"in(o=i[d[1]])&&!o.nodeType&&o.length-1 in o?Array.from(o):[o];else if(d=n.match(L))"$"==d[1]||"$$"==d[1]||"sel"==d[1]?o=Array.from(t.querySelectorAll(d[2])):c.fn[d[1]]&&(d[2]||(d[2]=null),o=c(i)[d[1]](d[2]).get());else for(o=[],r=0,a=(n=n.split(l)).length;r<a;r++)(s=n[r]&&t.getElementById(n[r]))&&o.push(s)}u&&o&&(o=o[u]?[o[u]]:[])}return o||[]},h.default.elementFromStr=h.default.getElementsByString,h.default.parseDataAttrs=function(e,t,n,i){var r=void 0,a=void 0,o=e.attributes,s=o.length;for(t||(t={}),n="data-"+(n=n?n+"-":""),r=0;r<s;r++)(a=o[r].nodeName)!=i&&a.startsWith(n)&&(t[c.camelCase(a.replace(n,""))]=h.default.parseValue(o[r].nodeValue));return t};var M=Object.getOwnPropertyDescriptor;h.default.getPropertyDescriptor=function(e,t){var n,i=e;if(t in i)for(;i&&!(n=M(i,t));)i=Object.getPrototypeOf(i);return n}}(window,document),function(e,t){var n,r,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,f={},p=[],h=e.rb,g=h.$,b=h.Symbol("_rbComponent"),_=h.Symbol("_rbCreated"),w=h.root,k={},S={},O={},E=h.Symbol("_CssCfgExpando"),P=function e(t,n){var i=void 0,r=n.shift();if(r)for(i in r)t[i]||(t[i]=[]),Array.isArray(r[i])?t[i]=r[i].concat(t[i]):t[i].unshift(r[i]);return n.length&&e(t,n),t},T=function(e,t,n,i){var r,a=n[i]==e[i]?null:e[i];r="events"==i?P({},[n[i],t[i],a]):g.extend(!0,{},n[i],t[i],a),Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:r}),t[i]&&Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:null})},x=function(){x=g.noop,h.click.add("module",(function(e){h.getComponent(e),(0,v.default)((function(){e.classList.remove(h.click.clickClass),e.classList.contains(u)||(e.classList.add(l),f.searchModules())}),!0),s.run()}))},C=function(){C=g.noop;var e=t.getElementsByClassName(u),n=t.getElementsByClassName(c);h.checkCssCfgs=function(){var t=void 0,i=void 0,r=void 0,a=e.length;for(t=0;t<a;t++)(r=(i=e[t])&&i[b])&&r.origName&&r.parseOptions&&h.hasComponentCssChanged(i,r.origName)&&r.parseOptions();for(t=0,a=n.length;t<a;t++)(r=(i=n[t]).getAttribute("data-module"))&&h.hasComponentCssChanged(i,r)&&f.import(r,i,!0)},h.resize.on(h.checkCssCfgs)},A=function(e){e&&["statePrefix","utilPrefix","jsPrefix","nameSeparator","elementSeparator","attrSel"].forEach((function(t){t in e&&"string"==typeof e[t]&&(h[t]=e[t])}))},I=function(){var n,i,r,s,d,p,m,v,g;e.removeEventListener("click",I,!0),I=!1,A(h.cssConfig),l=["js","rb","live"].join(h.nameSeparator),u=["js","rb","attached"].join(h.nameSeparator),c=["js","rb","watchcss"].join(h.nameSeparator),a=t.getElementsByClassName(l),n=void 0,i=void 0,r=0,s=function e(){var t=void 0,a=void 0,o=void 0,s=Date.now();for(t=f._attached.length;r<t&&Date.now()-s<3;r++)(o=f._attached[r])&&(a=o[b])&&!w.contains(o)&&(o.classList.add(l),f.destroyComponent(a,r,o),r--,t--);i=r<t&&setTimeout(e,40),n=!1},v=function(){n||(n=!0,r=0,i&&clearTimeout(i),setTimeout(s,99))},g=function(e){var t=void 0,n=void 0,i=e.length;for(t=0;t<i;t++)(n=e[t]).addedNodes.length&&f.searchModules(),n.removedNodes.length&&v()},!o&&e.MutationObserver?new MutationObserver(g).observe(w,{subtree:!0,childList:!0}):(w.addEventListener("DOMNodeInserted",f.searchModules),t.addEventListener("DOMContentLoaded",f.searchModules),w.addEventListener("DOMNodeRemoved",(p=[d={addedNodes:[]}],m=function(e){d.removedNodes||(d.removedNodes=[],setTimeout(m,9)),1==e.target.nodeType&&d.removedNodes.push(e.target)}))),x(),C(),h.ready.resolve()};h._extendEvts=P,h.ready=(0,m.default)(),h.live=f,f.autoStart=!0,f.expando=_,f.componentExpando=b,f._failed={},h.components={},f._attached=[],f.customElements=!1,f.init=function(t){var n,i,r;d||(d=!0,t&&(o=t.useMutationEvents||!1,A(t)),I&&e.addEventListener("click",I,!0),n=void 0,i=[],s={run:r=add:function(e){i.push(e)},timedRun:,f.searchModules._rbUnthrotteled())},f.register=function(e,t,n){var r=t.prototype,o=Object.getPrototypeOf(r).constructor;return r instanceof h.Component&&(T(t,r,o,"defaults"),T(t,r,o,"events"),r.hasOwnProperty("name")||(r.name=e)),h.components[e]&&!n&&h.log(e+" already exists."),h.components[e]=t,void 0!==i&&i.env,O[e]&&O[e].resolve(t),a&&"_"!=e.charAt(0)&&f.searchModules(),t},f.addImportHook=function(e,t){var n=function(n){S[n]&&h.log("overrides "+n+" import hook",e,t),S[n]=t};"function"==typeof e&&(t=e,e="*"),Array.isArray(e)?e.forEach(n):n(e)},f.import=function(e,t,n){var i=S[e]||S["*"];if(O[e]||!i&&!h.components[e]||(O[e]=(0,m.default)(),h.components[e]&&O[e].resolve()),!h.components[e]&&i){if(!k[e]){var r=t&&n&&h.parseComponentCss(t,e);r&&r.switchedOff?t.classList.contains(c)||(0,v.default)((function(){t.classList.add(c)}),!0):(k[e]=!0,i(e,e,())}}else f._failed[e]=!0;return O[e]},f.create=function(e,t,n){var i=void 0;return I&&I(),(i=e[b])||(i=new t(e,n),e[b]=i),(0,v.default)((,!0),!e[_]&&i&&(i.attached||i.detached)&&(-1==f._attached.indexOf(e)&&f._attached.push(e),i.attached&&s.add((function(){i.attached()})),s.timedRun()),e[_]=!0,i._created=!0,i},f.searchModules=(n=h.rAF((function(){for(;p.length;)p.shift().classList.remove(l)})),r=function(e,t){f._failed[t]=!0,p.push(e),h.logError("failed",t,e)},(0,y.default)((function(){var e,t=void 0,o=void 0,l=void 0,u=void 0;if(I&&I(),e=a.length){for(void 0!==i&&i.env,l=0;l<e;l++)(t=a[l])[_]?p.push(t):(o=t.getAttribute("data-module")||"",h.components[o]||(u=f.import(o,t,!0)),h.components[o]?(f.create(t,h.components[o]),p.push(t)):f._failed[o]?r(t,o):u||r(t,o));void 0!==i&&i.env,n(),s.run()}}),{delay:50,read:!0})),f.destroyComponent=function(e,t,n){n||(n=e.element),null==t&&(t=f._attached.indexOf(n)),n.classList.remove(u),n[_]&&delete n[_],e.detached&&e.detached(n,e),f._attached.splice(t,1)},h.hasComponentCssChanged=function(e,t){return h.hasPseudoChanged(e,E)},h.parseComponentCss=function(e,t){return h.parsePseudo(e,E)||null}}(window,document),function(e,t,n,r){var a,s=e.rb,l=s.$,u=n.componentExpando,c=/\.{(htmlName|name)}(.+?)(?=(\s|$|\+|\)|\(|\[|]|>|<|~|\{|}|,|'|"|:))/g,d=/\{name}/g,h=/\{jsName}/g,m=/\{htmlName}/g,y=/\{-}/g,w=/\{e}/g,k=/\{u}/g,S=/\{is}/g,O=s.Symbol("handlerOptions"),E=s.memoize((a=function(e,t,n){return"["+s.attrSel+'~="{htmlName}'+n+'"]'},function(e){return e.replace(c,a)}),!0);s.parseEventString=s.memoize((function(e){var t,n,i,r,a,o=[],s=1,l="",u="",c=0,d="";for(t=0,n=e.length;t<n;t++)if(a=e[t],i||(r=(i={event:"",opts:{}}).opts),3==s||4==s||","!=a)if(1==s)":"==a?s=2:i.event&&" "==a?s=4:" "!=a&&(i.event+=a);else if(2==s)"("==a?(s=3,c++):":"==a?l&&(r[l]=" ",l=""):" "==a?s=4:l+=a;else if(3==s){if("("==a)c++;else if(")"==a&&!--c){r[l]=u||" ",l="",u="",s=2;continue}u+=a}else 4==s&&(d+=a);else o.push(i),2==s&&(r[l]=u||" ",l="",u=""),!i.event&&r.event&&(i.event=r.event),i=null,s=1;if(i&&(o.push(i),l&&(r[l]=u||" "),!i.event&&r.event&&(i.event=r.event),d))for(t=0,n=o.length;t<n;t++)o[t].opts.closest||(o[t].opts.closest=d);return o}),!0),s.getComponent=function(e,t,i){var r=e&&e[u];return!r&&e&&(t||(t=e.getAttribute("data-module")||""),s.components[t]&&(r=n.create(e,s.components[t],i))),r||(t&&n.import(t),s.logInfo("component not found",e,t)),r||null},n.getComponent=s.getComponent;var P=function(){function e(t,n){(0,f.default)(this,e);var r=this.name;this.element=t,this.$element=l(t),this.options={},this._initialDefaults=n,this._stickyOpts={},t[u]=this,this.origName=r,this.parseOptions(this.options),this.name=this.options.name||s.jsPrefix+r,this.jsName=this.options.jsName||r,this._evtName=this.jsName+"changed",this._beforeEvtName=this.jsName+"change",(0,_.default)(this,null==this.options.debug?s.isDebug:this.options.debug),this.templates=s.templates[this.jsName]||s.templates[r]||{},this.beforeConstruct(),function(e){var t,n,r=[],a=e.constructor.events;for(t in a)e.replaceEventKey&&(t=e.replaceEventKey(t)),function(t,n){var a=function t(){if(!e.options.switchedOff||t[O].neverSwitchOff){var r=0,a=Array.from(arguments),o=function(){var t=n[r];return"string"==typeof t&&(t=e[t]),r++,void 0!==i&&i.env,t?t.apply(e,a):null};return a.push(o),o()}};t.forEach((function(t){var n,i,o={};for(n in i=e.interpolateName(t.event,!0),t.opts)o[n]=e.interpolateName(t.opts[n]);a[O]=o,o["@"]?r.push([null,i,a,o]):s.events.add(e.element,i,a,o)}))}(s.parseEventString(t),a[t]);r.length&&(n={attached:e.attached,detached:e.detached},[["attached","add"],["detached","remove"]].forEach((function(t){e[t[0]]=function(){var i,a,o;for(i=0,a=r.length;i<a;i++)o=r[i][3],r[i][0]||(r[i][0]=e.getElementsByString(o["@"])||r[i][0],r[i][0]&&r[i][0].length<2&&(r[i][0]=r[i][0][0])),r[i][0]?Array.isArray(r[i][0])?r[i][0].forEach((function(e){s.events[t[1]](e,r[i][1],r[i][2],o)})):s.events[t[1]](r[i][0],r[i][1],r[i][2],o):s.logInfo("element not found",o["@"],e),"remove"==t[0]&&(r[i][0]=null);if(n[t[0]])return n[t[0]].apply(this,arguments)}})))}(this)}return e.prototype.beforeConstruct=function(){},e.prototype.component=function(e,t,n){return"string"==typeof e&&(e=this.interpolateName(e),e=s.getElementsByString(e,this.element)[0]||this.query(e)),s.getComponent(e,t,n)},e.prototype.rAFs=function(){return g.default.apply(void 0,[this].concat(Array.prototype.slice.call(arguments)))},e.prototype.mutationPhase=e.prototype.measurePhase=e.prototype.afterframePhase=function(e){return(0,o.afterframePhase)(e)},e.prototype.getId=function(e,t){var n=void 0;return"boolean"==typeof e&&(t=e,e=null),e||(e=this.element),null==t&&(t=!0),(n=e.id)||(n="js"+s.nameSeparator+(0,b.default)(),t?(0,v.default)((,!0):e.id=n),n},e.prototype.trigger=function(e,t){var n=void 0;return"object"==(void 0===e?"undefined":(0,p.default)(e))&&(e=(t=e).type),null==e?e=this._evtName:e.startsWith(this.jsName)||(e=this.jsName+e),n={detail:t||{}},t&&("bubbles"in t&&(n.bubbles=t.bubbles),"cancelable"in t&&(n.cancelable=t.cancelable)),s.events.dispatch(this.element,e,n)},e.prototype.triggerRaf=function(){var e=this,t=arguments;(0,v.default)((function(){e.trigger.apply(e,t)}),!0)},e.prototype.getElementsByString=function(e,t){return s.getElementsByString(this.interpolateName(e),t||this.element)},e.prototype._trigger=function(){return this.logInfo("_trigger is deprecated use trigger instead"),this.trigger.apply(this,arguments)},e.prototype.setFocus=function(){return s.setFocus.apply(s,arguments)},e.prototype.interpolateName=function(e,t){return!t&&s.attrSel&&(e=E(e)),e.replace(d,t?this.jsName:this.name).replace(h,this.jsName).replace(m,this.name).replace(y,s.nameSeparator).replace(w,s.elementSeparator).replace(k,s.utilPrefix).replace(S,s.statePrefix)},e.prototype.query=function(e,t){return(t||this.element).querySelector(this.interpolateName(e))},e.prototype._qSA=function(e,t){return(t||this.element).querySelectorAll(this.interpolateName(e))},e.prototype.queryAll=e.prototype.$queryAll=e.prototype.parseOptions=function(e){var t=l.extend(!0,e||{},this.constructor.defaults,this._initialDefaults,s.parseComponentCss(this.element,this.origName),this.parseHTMLOptions(),this._stickyOpts);this.setOptions(t)},e.prototype.setOptions=function(e,t){if(e!==this.options){var n=void 0,i=void 0;for(var r in e)(i=e[r])===(n=this.options[r])||n&&"object"==(void 0===i?"undefined":(0,p.default)(i))&&"object"==(void 0===n?"undefined":(0,p.default)(n))&&JSON.stringify(i)==JSON.stringify(n)||this.setOption(r,i,t)}},e.prototype.setOption=function(e,t,n){this.options[e]=t,n&&(this._stickyOpts[e]=t),"debug"==e?this.isDebug=t:("name"==e||"jsName"==e)&&this.name&&this.jsName&&this.logWarn&&this.logWarn("don't change name after init.")},e.prototype.render=function(e,t){return"object"==(void 0===e?"undefined":(0,p.default)(e))&&(t=e,e=""),t.name||(t.name=this.name),t.component||(t.component=this.component),this.templates[e]?this.templates[e](t):e||"function"!=typeof this.templates?"":this.templates(t)},e.prototype.parseHTMLOptions=function(e){if(e)return s.logError("use `rb.parseDataAttrs` instead of parseHTMLOptions."),{};var t=this.element,n="data-"+this.origName+"-options",i=s.jsonParse(t.getAttribute(n))||{};return s.parseDataAttrs(t,i,this.origName,n)},e.prototype.destroy=e.prototype.log=function(){},e}();Object.assign(P,{defaults:{debug:null,switchedOff:!1,name:"",jsName:""},events:{},register:n.register,$:l}),P.prototype.getElementsFromString=P.prototype.getElementsByString,s.Component=P}(window,document,h.default.live),e.Component=h.default.Component,e.default=window.rb})?r.apply(t,a):r)||(e.exports=o)}).call(this,n(99))},function(e,t,n){var i=n(59),r=n(27),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(64)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";(function(i){var r,a,o;n(13),n(14),n(284),a=[t,n(68),n(206)],void 0===(o="function"==typeof(r=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n},a=window.rb,o=a.$,s=/\?/,l=function(e,t){if(t.xhr=e,t.data=e.response||e.responseXML||e.responseText,t.text=e.responseText,t.xml=e.responseXML,t.status=e.status,"object"!=(0,r.default)(t.data)&&(e.getResponseHeader("Content-Type")||"").split(";")[0].endsWith("json"))try{t.data=JSON.parse(e.responseText)||t.data}catch(e){}};a.fetch=function(e,t){"object"==(void 0===e?"undefined":(0,r.default)(e))&&(e=(t=e).url),t=Object.assign({type:"get",username:void 0,password:void 0,processData:!0,contentType:!0,rejectAbort:!0},t);var n=void 0,u=new XMLHttpRequest,c=a.deferred();return function(){var d=void 0,f=!1,p=t.data||null,h={opts:t},m=function(){var e=o.Callbacks();n=function(){u&&(l(u,h),f=!0,u.abort(),h.status="canceled",c.catch(a.logWarn),e.fire(h),t.rejectAbort&&c.reject(h))},c.abort=n,c.onAbort=e.add,c.offAbort=e.remove};if(u.addEventListener("load",(function(){var e=u.status,t=e>=200&&e<300||304==e;f||(l(u,h),c.catch(a.logWarn),t?c.resolve(h,u):c.reject(h,u),u=null)})),u.addEventListener("error",(function(){f||(l(u,h),c.catch(a.logWarn),c.reject(h,u),u=null)})),t.type=t.type.toUpperCase(),t.processData&&p&&"object"==(void 0===p?"undefined":(0,r.default)(p))&&!(p instanceof window.FormData)){var v=o&&o.param||a.param;v?p=v(p):void 0!==i&&i.env,"GET"==t.type&&(e+=(s.test(e)?"&":"?")+p,p=null)}if(u.open(t.type,e,!0,t.username,t.password),t.headers&&t.headers["Content-type"]||!t.contentType||"POST"==t.type&&"string"==typeof p&&u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.headers)for(d in t.headers)u.setRequestHeader(d,t.headers[d]);t.beforeSend&&t.beforeSend(u),c.abort=function(){return m(),c.abort.apply(c,arguments)},c.onAbort=function(){return m(),c.onAbort.apply(c,arguments)},c.offAbort,c.getXhr=function(){return u},u.send(p)}(),c},e.default=a.fetch})?r.apply(t,a):r)||(e.exports=o)}).call(this,n(99))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.handleKeyFocus=function(e){if(9===e.keyCode){var t=document.querySelector(".guided-tour--overlay").querySelectorAll("a[href], button:not(:disabled)");if(t.length){var n=t[0],i=t[t.length-1];e.shiftKey?e.target===n&&(i.focus(),e.preventDefault()):e.target===i&&(n.focus(),e.preventDefault())}}},t.redirect=function(e){window.zdfsite.isTiviApp?((0,a.sendMessageToTiviApp)("guidedTour","ended"),(0,a.sendLinkToTiviApp)(e)):window.location.href=e},t.removeGuidedTour=function(){var e=document.getElementsByClassName("guided-tour")[0];document.body.classList.remove("no-scroll"),e.parentNode.removeChild(e),document.body.classList.remove("guided-tour--height"),(0,a.sendMessageToTiviApp)("guidedTour","ended")},t.setFocus=function(e){(window.innerHeight||document.body.clientHeight)<=630?document.body.classList.add("guided-tour--height"):document.body.classList.remove("guided-tour--height");var t=e.querySelectorAll("a[href], button:not(:disabled)")[0];window.rb.setFocus(t),window.rb.$("html, body").scrollTop(1)},t.setLocalStorage=function(e){var t=window.rb.storage.local.get(l)||[],n=new Date;t.includes(e)||("string"==typeof e?t.push(e):t.push.apply(t,(0,r.default)(e)),window.rb.storage.local.set(l,t),window.rb.storage.local.set(u,n))},t.trackView=function(e){var t=window.zdfsite,n=Object.assign({},t.tracking.atInternet.page.customObject,{chapter1:"Onboarding",level2:t.tracking.atInternet.page.level2}),i={atInternet:{page:{name:e,level2:t.tracking.atInternet.page.level2,chapter1:"Onboarding",chapter2:"Overlay",chapter3:t.tracking.atInternet.page.chapter3,customObject:n}}};(0,o.trackViewGuidedTour)(i)};var r=i(n(53));n(28),n(26),n(13),n(10);var a=n(122),o=n(301),s=n(48),l=s.STORAGE_KEYS.GUIDED_TOURS.name,u=s.STORAGE_KEYS.GUIDED_TOURS_LAST_INTERACTION.name},,,,function(e,t,n){var i=n(80)("keys"),r=n(60);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(25),r=n(195)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){e.exports=n(84)},function(e,t,n){"use strict";var i,r,a;n(10),r=[t,n(68),n(66),n(70),n(78),n(71),n(77),n(589),n(392)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o){Object.defineProperty(e,"__esModule",{value:!0});var s=p(t),l=p(n),u=p(i),c=p(r),d=p(a),f=p(o);function p(e){return e&&e.__esModule?e:{default:e}}var h=o.Component.$,m=/^(?:input|textarea)$/i,v=function(e){function t(n,i){(0,l.default)(this,t);var r=(0,u.default)(this,e.call(this,n,i));return r.isOpen=!1,r.$backdrop=h(document.createElement("div")).addClass(r.name+f.default.elementSeparator+"backdrop"),r.contentElement=r.query(".{name}{e}content"),r.rAFs({that:r,throttle:!0},"_setup","_addContent","_setDisplay"),r.rAFs({throttle:!0},"_open","_close"),r.options.open?r._setup():setTimeout(r._setup,99+999*Math.random()),r}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"defaults",get:function(){return{open:!1,closeOnEsc:!0,closeOnBackdropClick:!0,appendToBody:!0,contentId:"",backdropClass:"",setDisplay:!0,scrollPadding:"paddingRight",trapKeyboard:!0,setFocus:"force",contentUrl:"",xhrOptions:null}}},{key:"events",get:function(){return{"click:closest(.{name}{e}close)":function(e){this.close(),e.preventDefault(),e.stopPropagation()}}}}]),t.prototype._setup=function(){if(!this.isReady&&this.element.parentNode){var e=void 0,t=void 0,n=this.element.parentNode,i=this.name+f.default.elementSeparator+"backdrop"+f.default.nameSeparator+"document";this.trapKeyboardElemBefore=h(document.createElement("span")).attr({class:this.name+"keyboardtrap",tabindex:this.options.trapKeyboard?0:-1}).get(0),this.trapKeyboardElemAfter=this.trapKeyboardElemBefore.cloneNode(),this.isReady=!0,n&&n.classList.contains(i)?n&&(e=n.parentNode)&&e.classList.contains(this.name+f.default.elementSeparator+"backdrop")&&(this.$backdrop=h(e),t=!0):((n=document.createElement("div")).className=i,this.$backdrop.append(n)),this.backdropDocument=n,h(this.backdropDocument).before(this.trapKeyboardElemBefore).after(this.trapKeyboardElemAfter),this.options.backdropClass&&this.$backdrop.addClass(this.options.backdropClass),this.options.appendToBody?document.body.appendChild(this.$backdrop.get(0)):t||this.$element.before(this.$backdrop.get(0)),t||n.appendChild(this.element),this.element.getAttribute("tabindex")||this.element.setAttribute("tabindex","-1"),this.element.getAttribute("role")||this.element.setAttribute("role","group"),this._setUpEvents(),this.options.open?this.open():this.options.setDisplay&&this.$backdrop.css({display:"none"})}},t.prototype._open=function(e){var t=void 0;this.contentElement&&e&&e.contentId&&this._curContentId!=e.contentId&&(t=document.getElementById(e.contentId))&&(this._curContentId=e.contentId,this.contentElement.innerHTML=t.innerHTML),this._xhr&&(this.contentElement.innerHTML="",this.$backdrop.addClass(f.default.statePrefix+"loading")),this.$backdrop.css({display:""}),this.$backdrop.rbToggleState("open",!0),f.default.$root.rbToggleState("open{-}"+this.name+"{-}within",!0).rbToggleState("open{-}dialog{-}within",!0),this._setScrollPadding&&this.options.scrollPadding&&(document.body.style[this.options.scrollPadding]=this._setScrollPadding+"px"),e.focusElement?this.setComponentFocus(e.focusElement):this.storeActiveElement(),this.$backdrop.rbToggleStateRaf("opened",this.isOpen),this.trigger(e)},t.prototype.open=function(e){var t=void 0,n=this.options;return!this.isOpen&&!this.trigger(this._beforeEvtName,e).defaultPrevented&&(this.isReady||this._setup(),this.isOpen=!0,e||(e={}),"object"!=(0,s.default)(e.focusElement)&&(e.focusElement||n.setFocus)&&(e.focusElement=this.getFocusElement(e.focusElement||"force"==n.setFocus)),e.contentUrl&&(this._xhr=f.default.fetch(e.contentUrl,"xhrOptions"in e?e.xhrOptions:n.xhrOptions).then(this._addContent)),this.options.setDisplay&&this._displayTimer&&(clearTimeout(this._displayTimer),this._displayTimer=null),this._setScrollPadding=this.options.scrollPadding&&f.default.root.clientHeight+1<f.default.root.scrollHeight&&(t=f.default.scrollbarWidth)&&parseFloat(f.default.getStyles(document.body)[this.options.scrollPadding])+t,this._setScrollPadding&&(this._oldPaddingValue=document.body.style[this.options.scrollPadding]),!this.options.setDisplay&&e.focusElement&&m.test(e.focusElement.nodeName)?this._open._rbUnrafedFn.call(this,e):this._open(e),!0)},t.prototype._close=function(e){this.restoreFocus(!0),this._setScrollPadding&&null!=this._oldPaddingValue&&(document.body.style[this.options.scrollPadding]=this._oldPaddingValue,this._setScrollPadding=0,this._oldPaddingValue=null),this.$backdrop.rbToggleState("open",!1).rbToggleState("opened",this.isOpen),f.default.$root.rbToggleState("open{-}"+this.name+"{-}within",!1).rbToggleState("open{-}dialog{-}within",!1),this.options.setDisplay&&(clearTimeout(this._displayTimer),this._displayTimer=setTimeout(this._setDisplay,5e3)),this.trigger(e)},t.prototype.close=function(e){return!(!this.isOpen||this.trigger(this._beforeEvtName,e).defaultPrevented||(this.isOpen=!1,this._xhr=null,this._close(e),0))},t.prototype.toggle,t.prototype._addContent=function(e){this._xhr&&this.contentElement&&(this.contentElement.innerHTML=e.data),this.$backdrop.removeClass(f.default.statePrefix+"loading"),this._xhr=null},t.prototype._setDisplay=function(){this.$backdrop.css({display:this.isOpen?"":"none"}),this._displayTimer=null},t.prototype._setUpEvents=function(){var e=this,t=this.options;this.$backdrop.on("click",(function(n){!t.closeOnBackdropClick||n.target!=n.currentTarget&&n.target!=e.backdropDocument||(e.close(),n.preventDefault(),n.stopPropagation())})),this.$backdrop.on("keydown",(function(n){27==n.keyCode&&t.closeOnEsc&&!n.defaultPrevented&&(e.close(),n.preventDefault(),n.stopPropagation())})),this.trapKeyboardElemBefore.addEventListener("focus",(function(n){if(t.trapKeyboard){var i=e.queryAll(".{name}{e}close");n.preventDefault();try{i[i.length-1].focus()}catch(e){f.default.logInfo("Focus error",e)}}}),!0),this.trapKeyboardElemAfter.addEventListener("focus",(function(n){if(t.trapKeyboard){n.preventDefault();try{e.element.focus()}catch(e){f.default.logInfo("Focus error",e)}}}),!0)},t}(f.default.components._focus_component);f.default.ready.then((function(){f.default.click.add("dialog",(function(e,t,n){var i=void 0,r=f.default.jsonParse(n);"string"==typeof r&&(r={id:r}),i=document.getElementById(r.id),r.event=t,i&&(i=f.default.getComponent(i))&&(i.open(r),t.preventDefault(),r.event=t)}))})),o.Component.register("dialog",v),e.default=v})?i.apply(t,r):i)||(e.exports=a)},,,,,,function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentConsentGroups,t.getOTAppInstance=y,t.removeConsentForGroup=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];y().removeConsentForGroup(e,t)},t.setConsentForGroup=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,m.isNativeAppWorkspaceAvailable)()?(0,m.setConsentInNativeAppForGroup)(e).then((0,m.createNativeAppResolveHandler)(e,t),(0,m.createNativeAppRejectHandler)("setConsent")):y().setConsentForGroup(e,t)},n(28),n(26),n(9),n(8),n(97),n(14),n(36),n(5);var r,a=i(n(0)),o=i(n(1)),s=i(n(23)),l=n(24),u=n(262),c=n(345),d=(n(347),n(197)),f=i(n(113)),p=n(48),h=n(135),m=n(263),v=[h.OT_ERRORS.BLOCKED,h.OT_ERRORS.NOT_VISIBLE],g=nullvar b=(r=function(){function e(){var t=this;(0,a.default)(this,e),this.consentChangeCBForGroup={},this.currentConsentGroups=[],this.consentChangedCallbackList=[],this.purposeIds={},this.rbSetCBs=[],this.initialConsentHandled=!1,this.isDefaultConsent=!0,this.initPromisePending=!0,this.initIntervalCount=0,this.initPromise=new Promise())}return(0,o.default)(e,[{key:"initPromiseFinished",value},{key:"init",value:function(){return this.sdkCheckIntervalId||(this.sdkCheckIntervalId=setInterval(this.checkForSDKInit,25)),this.initPromise}},{key:"checkForSDKInit",value:function(){var e=this,t=window,n=(t.zdfsite,t.zdfcmp);n?(console.log("CMP initialized!"),clearInterval(this.sdkCheckIntervalId),n.isPopupClosed()?(console.log("initial consent is set, starting mediathek"),this.handleInitialConsent()):(console.log("waiting for initial consent"),n.addConsentChangedCallback((function(t){e.handleInitialConsent()})),this.checkInitialConsent())):window.zdfsite.cmpError?this.handleScriptBlocked():(this.initIntervalCount++,25*this.initIntervalCount>1e4&&(console.log("CMP max waiting time reached, stopping checks"),clearInterval(this.sdkCheckIntervalId),this.handleScriptTimeout()))}},{key:"checkInitialConsent",value:function(){var e=this;setTimeout((function(){if(!e.initialConsentHandled){var t=document.getElementById("zdf-cmp-consent-sdk");(0,d.isElementVisible)(t)?e.checkInitialConsent():(console.log("cmp dialog not visible"),window.zdfsite.cmpError=h.OT_ERRORS.NOT_VISIBLE,e.handleScriptBlocked())}}),2e3)}},{key:"initWithoutSdk",value:function(){var e=window.zdfsite.consentManagementSettings.otWhitelistConsentGroups;this.initialConsentHandled=!0,this.currentConsentGroups=(null==e?void 0:e.split(","))||h.OT_WHITELIST_CONSENT_GROUPS,this.resolveInitPromise()}},{key:"handleInitialConsent",value:function(){if(!this.initialConsentHandled){this.initialConsentHandled=!0,this.isDefaultConsent=!1;try{this.currentConsentGroups=window.zdfcmp._lib.getClientConsents().filter((function(e){return e.value})).map((function(e){return e.id}))}catch(e){this.logWarn("CMP Error:",e)}if(this.initPromisePending)this.resolveInitPromise();else{var e=this.getErrorDialog();e&&e.isOpen&&e.close(),startOTSDK()}}}},{key:"handleScriptTimeout",value:function(){this.setDefaultConsentGroups(),this.rejectInitPromise()}},{key:"handleScriptBlocked",value},{key:"start",value:function(){var e=this;this.initConsentHandler(),this.publishCurrentConsent(),window.zdfcmp.addConsentChangedCallback((function(t){e.handleConsentChange(t)})),rb.root.addEventListener(h.OT_EVENTS.TOGGLE_INFO_DISPLAY,window.zdfcmp.openCMPSettings)}},{key:"initConsentHandler",value:function(){var e=n(348).handleConsent,t=n(349).handleConsent,i=n(350).handleConsent,r=n(384).handleConsent,a=n(296).handleConsent,o=n(297).handleConsent,s=n(298).handleConsent,l=n(299).handleConsent;this.addConsentHandler(h.OT_CONSENT_GROUPS.STRICTLY_NECESSARY,e),this.addConsentHandler(h.OT_CONSENT_GROUPS.REQUIRED_PERFORMANCE_MEASUREMENT,t),this.addConsentHandler(h.OT_CONSENT_GROUPS.PERSONALISATION_AND_RECOMMENDATIONS,i),this.addConsentHandler(h.OT_CONSENT_GROUPS.SOCIAL_MEDIA_AND_THIRD_PARTY_PROVIDERS,r),this.addConsentHandler(h.OT_CONSENT_GROUPS.TWITTER,a),this.addConsentHandler(h.OT_CONSENT_GROUPS.FACEBOOK,o),this.addConsentHandler(h.OT_CONSENT_GROUPS.INSTAGRAM,s),this.addConsentHandler(h.OT_CONSENT_GROUPS.THIRD_PARTY_PROVIDERS,l)}},{key:"addConsentHandler",value:function(e,t){var n=this;this.consentChangeCBForGroup[e]}},{key:"handleConsentChange",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentConsentGroups=e.filter((function(e){return e.value})).map((function(e){return e.id})),this.isDefaultConsent=!1,t&&this.publishCurrentConsent()}},{key:"publishCurrentConsent",value:function(){var e=this;this.applyConsentChange(),this.consentChangedCallbackList.forEach()),rb.events.dispatch(rb.root,h.OT_EVENTS.CONSENT_CHANGED,{detail:this.currentConsentGroups})}},{key:"applyConsentChange",value:function(){var e=this;(0,u.resetUserAgentPostfix)(),Object.values(h.OT_CONSENT_GROUPS).forEach((function(t){if(void 0!==e.consentChangeCBForGroup[t])try{e.consentChangeCBForGroup[t](e.hasConsentForGroup(t))}catch(t){e.logWarn("Error calling group consent change callback:",t)}})),(0,c.handleConsentChange)()}},{key:"hasConsentForGroup",value},{key:"parseGroups",value:function(e){var t=[];return e.split(",").forEach()),t}},{key:"setConsentForGroup",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.changeConsentForGroup(e,!0,t)}},{key:"removeConsentForGroup",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.changeConsentForGroup(e,!1,t)}},{key:"changeConsentForGroup",value:function(e,t,n){console.log("changeConsentForGroup",e,t,n);try{window.zdfcmp._lib.setConsent({id:e,value:t}),window.zdfcmp._lib.persistConsentChanges()}catch(t){this.logWarn("changeConsentForGroup '".concat(e,"' failed: Error"),t)}rb.logInfo("changeConsentForGroup '".concat(e,"' done"))}},{key:"addConsentChangedCallback",value:function(e){var t=this;this.consentChangedCallbackList.push())}},{key:"setDefaultConsentGroups",value:function(){this.isDefaultConsent=!0;var e=window.zdfsite.consentManagementSettings.otDefaultConsentGroups;this.currentConsentGroups=(null==e?void 0:e.split(","))||h.OT_DEFAULT_CONSENT_GROUPS}},{key:"initMissingOTSDK",value:function(){this.initConsentHandler(),this.publishCurrentConsent(),this.shouldDisplayErrorDialog()&&(this.setErrorDialogShown(),this.showErrorDialog()),rb.root.addEventListener(h.OT_EVENTS.TOGGLE_INFO_DISPLAY,this.showPreferenceCenter)}},{key:"showErrorDialog",value},{key:"getErrorDialog",value:function(){switch(window.zdfsite.cmpError){case h.OT_ERRORS.BLOCKED:var e;return null===(e=rb)||void 0===e?void 0:e.getComponent(document.getElementById("aria-dialog-cmp-error-script"));case h.OT_ERRORS.NOT_VISIBLE:var t;return null===(t=rb)||void 0===t?void 0:t.getComponent(document.getElementById("aria-dialog-cmp-error-dialog"));default:console.log('unknown cmp error "'.concat(window.zdfsite.cmpError,'", cannot show info dialog'))}return null}},{key:"shouldDisplayErrorDialog",value:function(){if(window.zdfsite.isTiviApp3)return!1;if(v.includes(window.zdfsite.cmpError)){var e=this.getStorageKeyForCMPError(window.zdfsite.cmpError);return!f.default.session.get(e)}return!0}},{key:"setErrorDialogShown",value:function(){if(v.includes(window.zdfsite.cmpError)){var e=this.getStorageKeyForCMPError(window.zdfsite.cmpError);f.default.session.set(e,!0)}}},{key:"getStorageKeyForCMPError",value:function(e){return(0,p.getDynamicKey)(p.STORAGE_KEYS.CMP_DIALOG_SHOWN,e)}},{key:"showPreferenceCenter",value:function(){v.includes(window.zdfsite.cmpError)?this.showErrorDialog():window.zdfcmp.openCMPSettings()}},{key:"logWarn",value:function(){for(var e,t=(null===(e=rb)||void 0===e?void 0:e.logWarn)||console.warn,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i)}}]),e}(),(0,s.default)(r.prototype,"checkForSDKInit",[l.autobind],Object.getOwnPropertyDescriptor(r.prototype,"checkForSDKInit"),r.prototype),(0,s.default)(r.prototype,"handleScriptTimeout",[l.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleScriptTimeout"),r.prototype),(0,s.default)(r.prototype,"handleScriptBlocked",[l.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleScriptBlocked"),r.prototype),(0,s.default)(r.prototype,"showPreferenceCenter",[l.autobind],Object.getOwnPropertyDescriptor(r.prototype,"showPreferenceCenter"),r.prototype),r)},function(e,t,n){"use strict";var i,r,a;n(34),n(5),r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=window.rb;t.storage={},["session","local"].forEach((function(e){var n=void 0,i=t.getID&&t.getID()||"test"+Date.now().toString(36);try{n=window[e+"Storage"]}catch(e){n={}}t.storage[e]={set:function(e,t){try{n.setItem(e,JSON.stringify(t))}catch(e){return!1}},get:function(e){var t=void 0;try{t=JSON.parse(n.getItem(e))}catch(e){return!1}return t},remove:function(e){try{n.removeItem(e)}catch(e){return!1}}},Object.defineProperty(t.storage[e],"supported",{value:!1!==t.storage[e].set(i,i)&&t.storage[e].get(i)==i,configurable:!0}),t.storage[e].remove(i)})),e.default=t.storage})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(e){var t=n(2);n(34),n(5),n(10);var i,r=t(n(0)),a=t(n(1)),o=t(n(11)),s=t(n(283)),l=t(n(156)),u=t(n(372));i=function(){var e=window.rb,t=e.$,i=window.zdfsite,o=n(157);return function(){function n(e,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.PARALLEL;(0,r.default)(this,n),this.options=t.extend(!0,{fallbackContent:[],fetch:{maxRequests:2}},a),this.name=e,this.promises={},this.createFetchManager(o,this.options.fetch),i.fetchServices||(i.fetchServices={}),i.fetchServices[e]=this}return(0,a.default)(n,[{key:"createFetchManager",value:function(e,t){switch(e){case l.default.PARALLEL:this.fetchManager=new s.default(t);break;case l.default.SEQUENTIAL:this.fetchManager=new u.default(t);break;default:this.fetchManager=new s.default(t)}}},{key:"setFetchOptions",value},{key:"success",value:function(e,t,n){e=this.processData(e,t,n);var i=this.promises[n]?n:t;this.promises[i].resolve(e)}},{key:"error",value:function(){}},{key:"fetch",value:function(e,t){var n=this,i={url:e,headers:this.generateRequestHeaders(e),type:"GET"};this.fetchManager.fetch(i).then((function(i){n.success(i.data,e,t)}),(function(i){(n.promises[t]||n.promises[e]).resolve(n.options.fallbackContent),n.error(n.options.fallbackContent,e,t)}))}},{key:"processData",value:function(e){return e}},{key:"generateUrl",value:function(e){return e.toString()}},{key:"generateRequestHeaders",value},{key:"clearData",value},{key:"getData",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=r?"".concat(i.apiService).concat(t):this.generateUrl(t),this.promises[t]||(this.promises[t]=e.deferred(),this.fetch(t,t)),this.promises[t]}}]),n}()},"object"===(0,o.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},,function(e,t,n){"use strict";var i=n(11);e.exports=function(e){var t=-(e=e?"object"==i(e)?e:new Date(e):new Date).getTimezoneOffset(),n=t>=0?"+":"-",r;return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+n+r(t/60)+":"+r(t%60)}},function(e,t,n){"use strict";var i=n(2);n(22),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.sendLinkToTiviApp=w,t.sendMessageToTiviApp=_,n(76),n(14);var r=i(n(21));n(10),n(33),n(56),n(158),n(19),n(9);var a,o=i(n(0)),s=i(n(1)),l=i(n(23)),u=n(24),c=n(294),d=n(48);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=n(295),m=window.zdfsite,v=window.rb,g=function(){_("fullscreenEnter")},y=function(){_("fullscreenExit")},b=(a=function(){function e(){(0,o.default)(this,e),(m.isIOS?window:document).addEventListener("message",this.onMessage),this._fullscreenButtons=[],this.injectionBlockingFunc(),this.addPlayerListeners(),this.initThirdPartyContent(),this.changeLazyLoadBehaviour()}return(0,s.default)(e,[{key:"addPlayerListeners",value:function(){m.playerReady.then((function(){zdfplayer.on("Player::FULLSCREEN",(function(){v.log("fullscreen: got Player::FULLSCREEN"),g()})),zdfplayer.on("Player::NORMALSCREEN",));var e=!1,t=new MutationObserver((function(t){var n=!0,i=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if("attributes"===s.type&&"class"===s.attributeName){var l=s.target.classList.contains("zdfplayer-fullwindow");e!==l&&((e=l)?(v.log("fullscreen: fullwindow class added"),g()):(v.log("fullscreen: fullwindow class removed"),y()))}}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}));zdfplayer.on("Player::INITIALIZED",(function(e){var n=e.id,i=e.element;v.log("fullscreen: adding observer to player:",n),t.observe(i,{attributes:!0})}))}))}},{key:"initThirdPartyContent",value:function(){var e=document.querySelector(".b-thirdparty");e&&(this.addThirdPartyMutationObserver(e),this.initThirdPartySlideShow(e))}},{key:"addThirdPartyMutationObserver",value:function(e){var t=this;new MutationObserver((function(e){var n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t.initThirdPartySlideShow(s.target)}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}})).observe(e,{attributes:!0,childList:!0,subtree:!0})}},{key:"initThirdPartySlideShow",value:function(e){var t=this,n=e.querySelectorAll(".slideshowblogitem .fullscreen-toggle");n&&n.length>0&&n.forEach((function(e){return t.addSlideShowFullscreenButton(e)}))}},{key:"addSlideShowFullscreenButton",value},{key:"addSlideShowFullscreenClickListener",value:function(e){e.addEventListener("click",))}},{key:"changeLazyLoadBehaviour",value:function(){var e=document.querySelectorAll(".lazyload.b-cluster[data-module]");console.warn("------------------ lazyClusters",e),e.forEach())}},{key:"onMessage",value:function(e){var t=void 0;try{t=JSON.parse(e.data)}catch(t){return void v.logError("failed to parse message from react-native, error: ".concat(t,", message:"),e.data)}v.log("message received:",t);var n=t,i=n.triggerFunction,r=n.args;if(i)if(Array.isArray(r)||(r=[r]),i in this)try{this[i].apply(this,r)}catch(e){v.logError("failed to execute function '".concat(i,"', error: ").concat(e))}else v.logWarn("function '".concat(i,"' not available in TiviAppScripts!"))}},{key:"injectionTrackClickFunc",value:function(e){v.logInfo("injected track click: ",e),m.trackingHelper.trackClick(e)}},{key:"injectionTrackViewFunc",value},{key:"injectionBlockingFunc",value:function(){function e(e,t){w(e,"true"===t.showTwoClickVerification,t.useInAppBrowser&&"true"===t.useInAppBrowser,t)}!function(){var e=!!window.postMessageNative,t=[],ne||Object.defineProperty(window,"postMessageNative",{configurable:!0,enumerable:!0,get:function(){return n},set:function(t){n=t,e=!0,setTimeout(i,0)}})}(),document.body.addEventListener("click",(function(t){var n=t.target;do{if(n.tagName&&n.dataset.scrollTop&&"true"===n.dataset.scrollTop&&_("scrollToTop"),n.classList.contains("js-rb-click")&&n.dataset.stageoverlaypanel){t.preventDefault(),t.stopImmediatePropagation(),v.log("link BLOCKED for processing in tivi app",n),e(JSON.parse(n.dataset.stageoverlaypanel).teaserLink,n.dataset);break}if("a"===n.tagName.toLowerCase()&&"true"!==n.dataset.dontBlockAppNavigation){t.preventDefault(),t.stopImmediatePropagation(),v.log("link BLOCKED for processing in tivi app",n),e(n.href,n.dataset);break}n=n.parentNode}while(n!==document)}),!1),_("init",{url:location.href})}},{key:"injectionUserReadyFunc",value:function(){var e=this,t=window.zdfsite;t.userReady.then((function(){e.triggerUserReady(),t.user.subscribe("activeSubProfileChanged",(function(){return e.triggerUserReady()})),t.user.subscribe("commentSuccess",(function(){return e.triggerCommentSuccess()}))}))}},{key:"injectionLogoutFunc",value},{key:"getPlayerCommandInjection",value:function(e,t){(e.constructor!==Array?[e]:e).forEach((function(e){window.zdfplayer.fireEvent("".concat(e),{id:"".concat(t)})})),Array.from(document.getElementsByTagName("video")).forEach((function(e){e.webkitExitFullscreen()}))}},{key:"getSZMTrackPageView",value},{key:"triggerUserReady",value:function(){var e=m.user.getState();e.id=m.user.getState().getUserId(),_("userReady",e)}},{key:"triggerCommentSuccess",value:function(){_("commentSuccess")}},{key:"setVideoQuality",value:function(e){var t=h["VIDEO_QUALITY_"+e.toUpperCase()];try{localStorage.setItem(d.STORAGE_KEYS.VIDEO_QUALITY.name,t)}catch(e){}m.playerReady.then())}},{key:"setZDFchenEnabled",value:function(e){m.userReady.then((function(){return m.user.dispatch("zdfchenEnabled",e)}))}},{key:"setSubtitlesEnabled",value:function(e){m.userReady.then((function(){return m.user.dispatch("useSubtitles",e)}))}},{key:"setAudioDescriptionEnabled",value:function(e){m.userReady.then((function(){return m.user.dispatch("useAudioDescription",e)}))}},{key:"setSignLanguageEnabled",value:function(e){m.userReady.then((function(){return m.user.dispatch("defaultStreamVariantDgs",e)}))}},{key:"setPreferredLanguage",value:function(e){m.userReady.then())}},{key:"onPinEntered",value:function(e){m.user.dispatch("activateSubProfile",e),v.events.dispatch(v.root,"closeDialog")}},{key:"setChromecastEnabled",value:function(e){v.events.dispatch(v.root,"setChromecastEnabled",{detail:{enabled:e}})}}]),e}(),(0,l.default)(a.prototype,"onMessage",[u.autobind],Object.getOwnPropertyDescriptor(a.prototype,"onMessage"),a.prototype),a);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(m.isTiviApp){v.logInfo("sendMessageToTiviApp: ".concat(e," with data:"),t);var i=null!==n?n:"data";try{var a=JSON.stringify((0,r.default)({name:e},i,t));window.postMessageNative(a)}catch(e){v.logWarn("couldn't send message, error:",e)}}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.split("#")[0],a={id:i.targetId,profile:i.targetProfile,contentType:i.targetContentType,videoType:i.targetVideoType},o=p({url:r,external:t,inApp:n},a);_("navigationBlocked",o)}m.isTiviApp&&!window.location.pathname.startsWith("/mein-zdf")&&new b},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).logo="/static/"+zdfsite.build+"/img/guided-tour/Berti.svg",n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"guided-tour--landscape grid-container"},u.default.createElement("div",{className:"guided-tour--landscape-container"},u.default.createElement("div",{className:"guided-tour--img"},u.default.createElement("img",{src:this.logo,alt:"Berti"})),u.default.createElement("div",{className:"guided-tour--landscape-inner"},u.default.createElement("div",{className:"guided-tour--landscape-text"},"Der aktuelle Inhalt kann nur im Hochformat angezeigt werden.",u.default.createElement("br",null),"Bitte dafür das Gerät um 90° drehen."))))}}]),t}(u.Component);t.default=c},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),n(76);var r=i(n(21)),a=i(n(0)),o=i(n(1)),s=i(n(139)),l=i(n(75));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=window.rb.$,f=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,null,[{key:"generateTeaser",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],a={element:r,id:t,style:n,teaserData:i,type:"cluster-s",sourceModuleType:i.sourceModuleType||"cluster-s",configuration:i.configuration};return e.teaserAttributes(a)}},{key:"writeReady",va")}},{key:"generatePlaceholderTeaser",value:function(e,t,n){var i={sophoraId:e.id};n=c({},n,{sophoraId:e.id,engine:e.engine,recoId:e.recoId});var r=document.createElement("article"),a=(t=s.default.parse(t)).expand(i);return d(r).attr({class:"b-cluster-teaser m-placeholder lazyload js-impression-track","data-teaser-attributes":JSON.stringify(n),"data-teaser-template":"".concat(a)}),r.innerHTML='<div class="loader"></div>',r}},{key:"generateStageTeaser",value:function(e,t,n){var i={sophoraId:e.id};n=c({},n,{sophoraId:e.id,engine:e.engine,recoId:e.recoId});var r=document.createElement("div"),a=(t=s.default.parse(t)).expand(i);return d(r).attr({class:"stage-item js-stageitemscroller-cell m-placeholder lazyload js-impression-track","data-teaser-attributes":JSON.stringify(n),"data-teaser-template":"".concat(a)}),r.innerHTML='<div class="loader"></div>',r}},{key:"teaserAttributes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.createElement("div"),i=e.teaserData,r=e.id,a=e.label,o=e.type,s=e.tiviContext,u=e.structureNodePath,c=e.style,f=e.configuration,p=void 0,h=!0,m=i&&"group-cluster-poster"===i.teaserType?"cluster-poster":e.sourceModuleType||"cluster-s",v={sophoraId:r,sourceModuleType:m,configuration:f};switch(o){case"profile-list":p={class:"b-content-teaser-item cell","data-teaser-id":r,"data-source-module-type":"content-teaser-list"};break;case"seamless-viewing-cluster":var g="";v.recoId=i.recoId||"",s&&(g=" has-tivi-context"),p={class:"b-cluster-teaser".concat(g),"data-teaser-id":r};break;case"view-history-list":v.contextStructureNodePath=u,p={class:"b-content-teaser-item cell","data-teaser-id":r};break;case"playback-history-list":p={class:"b-content-teaser-item cell","data-teaser-id":r};break;case"notification-list":a&&(v.manualLabel=a),p={class:"b-content-teaser-item cell","data-teaser-id":r,"data-source-module-type":"content-teaser-list"};break;default:h=!1,v.trackingTitle=i.trackingTitle||"",i.structureNodePath&&i.structureNodePath.startsWith("/zdf/nachrichten")&&i.newsOverline&&(v.renderNewsOverline="true",v.newsOverline=i.newsOverline),i.trackingContext&&(v.trackingContext=i.trackingContext),i.showSubtitles&&(v.showSubtitles="true"),i.showAudioDescription&&(v.audioOption="AD"),i.sourceVariant&&(v.sourceVariant=i.sourceVariant),c||(this.autoStyle="m1"===this.autoStyle?"m2":"m1");var y="group-cluster-poster"===i.teaserType?"b-cluster-poster-teaser":"b-cluster-teaser";p={class:y,"data-publish-data":i.publishData?JSON.stringify(i.publishData):""}}var b="".concat(p.class," m-placeholder lazyload js-impression-track"),_=Object.keys(p)[1],w=Object.keys(p)[2],k={class:b,"data-teaser-attributes":JSON.stringify(v)};if(i&&i.recoId&&(k["data-teaser-reco-id"]=i.recoId),!h){var S=i.engine;S&&(k["data-teaser-engine"]=S)}return t&&(k["data-teaser-xhr-url"]="/teaserElement?".concat((0,l.default)(v))),k[_]=p[_],w&&(k[w]=p[w]),d(n).attr(k),n.innerHTML='<div class="loader"></div>',n}}]),e}();e.exports=}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OT_WHITELIST_CONSENT_GROUPS=t.OT_EVENTS=t.OT_ERRORS=t.OT_DEFAULT_CONSENT_GROUPS=t.OT_CONSENT_GROUPS=void 0,n(196);var i=Object.freeze({TOGGLE_INFO_DISPLAY:"OTToggleInfoDisplay",CONSENT_CHANGED:"OTConsentChanged",REQUEST_DOMAIN_DATA:"OTRequestDomainData",DOMAIN_DATA_AVAILABLE:"OTDomainDataAvailable"});t.OT_EVENTS=i;var r=Object.freeze({STRICTLY_NECESSARY:"erforderlich",REQUIRED_PERFORMANCE_MEASUREMENT:"erfolgsmessung",PERSONALISATION_AND_RECOMMENDATIONS:"personalisierung",SOCIAL_MEDIA_AND_THIRD_PARTY_PROVIDERS:"socialMedia",TWITTER:"twitter",INSTAGRAM:"instagram",FACEBOOK:"facebook",THIRD_PARTY_PROVIDERS:"drittsysteme"});t.OT_CONSENT_GROUPS=r;var a=Object.freeze({BLOCKED:"OT_ERRORS_BLOCKED",NOT_VISIBLE:"OT_ERRORS_NOT_VISIBLE"});t.OT_ERRORS=a;var o=[r.STRICTLY_NECESSARY,r.REQUIRED_PERFORMANCE_MEASUREMENT];t.OT_DEFAULT_CONSENT_GROUPS=o;var s=[r.STRICTLY_NECESSARY];t.OT_WHITELIST_CONSENT_GROUPSn)},function(e,t,n){e.exports=functio"'}var t={parse:function(t,i){var r={uriTemplate:function(){var e,t,n;n=a,e=[],null===(t=v())&&(t=u());for(;null!==t;)e.push(t),null===(t=v())&&(t=u());null!==e&&(e=new b(e));null===e&&(a=n);return e},expression:u,op:c,pathExpression:function(){var e;"{/"===t.substr(a,2)?(e="{/",a+=2):(e=null,l('"{/"'));return e},paramList:d,param:f,cut:p,listMarker:h,substr:m,nonexpression:v,extension:g};if(void 0!==i){if(void 0===r[i])throw new Error("Invalid rule name: "+e(i)+".")}else i="uriTemplate";var a=0,o=0,s))}function u(){var e,n,i,r,o,s,u,f;return o=a,s=a,123===t.charCodeAt(a)?(e="{",a++):(e=null,l('"{"')),null!==e&&null!==(n=c())&&null!==(i=d())?(125===t.charCodeAt(a)?(r="}",a++):(r=null,l('"}"')),null!==r?e=[e,n,i,r]:(e=null,a=s)):(e=null,a=s),null!==e&&(u=e[1],f=e[2],e=_(u,f)),null===e&&(a=o),e}function c(){var e;return/^[\/;:.?&+#]/.test(t.charAt(a))?(e=t.charAt(a),a++):(e=null,l("[\\/;:.?&+#]")),null===e&&(e=""),e}function d(){var e,n,i,r,o,s,u,c,d,p;if(o=a,s=a,null!==(e=f())){for(n=[],u=a,c=a,44===t.charCodeAt(a)?(i=",",a++):(i=null,l('","')),null!==i&&null!==(r=f())?i=[i,r]:(i=null,a=c),null!==i&&(i=i[1]),null===i&&(a=u);null!==i;)n.push(i),u=a,c=a,44===t.charCodeAt(a)?(i=",",a++):(i=null,l('","')),null!==i&&null!==(r=f())?i=[i,r]:(i=null,a=c),null!==i& t}(0,i[1])),null===i&&(a=u);null!==n?e=[e,n]:(e=null,a=s)}else e=null,a=s;return null!==e&&(d=e[0],(p=e[1]).unshift(d),e=p),null===e&&(a=o),e}function f(){var e,n,i,r,o,s,u,c;for(r=a,o=a,e=[],/^[a-zA-Z0-9_.%]/.test(t.charAt(a))?(n=t.charAt(a),a++):(n=null,l("[a-zA-Z0-9_.%]"));null!==n;)e.push(n),/^[a-zA-Z0-9_.%]/.test(t.charAt(a))?(n=t.charAt(a),a++):(n=null,l("[a-zA-Z0-9_.%]"));return null!==e?(null===(n=p())&&(n=h()),null!==(n=null!==n?n:"")&&null!==(i=null!==(i=g())?i:"")?e=[e,n,i]:(e=null,a=o)):(e=null,a=o),null!==e&&(s=e[0],u=e[1],c=e[2],u=u||{},e={name:s.join(""),explode:u.listMarker,cut:u.cut,extended:c}),null===e&&(a=r),e}function p(){var e,t;return t=a,null!==(e=m())&&(e={cut:e}),null===e&&(a=t),e}function h(){var e,n;return n=a,42===t.charCodeAt(a)?(e="*",a++):(e=null,l('"*"')),null!==e&&(e={listMarker:e}),null===e&&(a=n),e}function m(){var e,n,i,r,o,s;if(r=a,o=a,58===t.charCodeAt(a)?(e=":",a++):(e=null,l('":"')),null!==e){if(/^[0-9]/.test(t.charAt(a))?(i=t.charAt(a),a++):(i=null,l("[0-9]")),null!==i)for(n=[];null!==i;)n.push(i),/^[0-9]/.test(t.charAt(a))?(i=t.charAt(a),a++):(i=null,l("[0-9]"));else n=null;null!==n?e=[e,n]:(e=null,a=o)}else e=null,a=o;return null!==e&&(s=e[1],e=parseInt(s.join(""))),null===e&&(a=r),e}function v(){var e,n,i;if(i=a,/^[^{]/.test(t.charAt(a))?(n=t.charAt(a),a++):(n=null,l("[^{]")),null!==n)for(e=[];null!==n;)e.push(n),/^[^{]/.test(t.charAt(a))?(n=t.charAt(a),a++):(n=null,l("[^{]"));else e=null;return null!==e&&(e=e.join("")),null===e&&(a=i),e}function g(){var e,n,i,r,o;if(r=a,o=a,40===t.charCodeAt(a)?(e="(",a++):(e=null,l('"("')),null!==e){if(/^[^)]/.test(t.charAt(a))?(i=t.charAt(a),a++):(i=null,l("[^)]")),null!==i)for(n=[];null!==i;)n.push(i),/^[^)]/.test(t.charAt(a))?(i=t.charAt(a),a++):(i=null,l("[^)]"));else n=null;null!==n?(41===t.charCodeAt(a)?(i=")",a++):(i=null,l('")"')),null!==i?e=[e,n,i]:(e=null,a=o)):(e=null,a=o)}else e=null,a=o;return null!==e&&(e=e[1].join("")),null===e&&(a=r),e}var y=n(547),b=y.Template,_=y.expression,w=r[i]();if(null===w||a!==t.length){var k=Math.max(a,o),S=k<t.length?t.charAt(k):null,O=function(){for(var e=1,n=1,i=!1,r=0;r<Math.max(a,o);r++){var s=t.charAt(r);"\n"===s?(i||e++,n=1,i=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e++,n=1,i=!0):(n++,i=!1)}return{line:e,column:n}}();throw new this.SyntaxError(function(e){e.sort();for(var t=null,n=[],i=0;i<e.length;i++)e[i]!==t&&(n.push(e[i]),t=e[i]);return n}(s),S,k,O.line,O.column)}return w},toSource:function(){return this._source},SyntaxError:function(t,n,i,r,a){this.name="SyntaxError",this.expected=t,this.found=n,this.message=function(t,n){var i;switch(t.length){case 0:i="end of input";break;case 1:i=t[0];break;default:i=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return"Expected "+i+" but "+(n?e(n):"end of input")+" found."}(t,n),this.offset=i,this.line=r,this.column=a}};return t.SyntaxError.prototype=Error.prototype,t}()},function(e,t,n){"use strict";var i,r,a;n(36),n(5),r=[t,n(40),n(206)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.afterframePhase=e.measurePhase=e.mutationPhase=void 0,e.default=h;var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=void 0,s=void 0,l=[],u=[],c=Promise.resolve(),d=!1},p=function(){if(d.length){for(s=d,d=l.length?u:l,o=!0;s.length;)s.shift()();c.then(f)}};function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&o?c.then(e):(d.push(e),1==d.length&&(document.hidden?setTimeout:requestAnimationFrame)(p))}var m=void 0,v=void(e.mutationPhase=function(e){return e?h(e,!0):m&&!m.isResolved||h((m=(0,r.default)()).resolve,!0),m}),g=new MessageChannel;g.port1.onmessage=function(){v&&v.resolve&&v.resolve()},e.measurePhase=function(e){var t=void 0;return o?(v&&!v.isResolved||(v=(0,r.default)(),g.port2.postMessage(void 0)),t=v):t=c,e&&t.then(e),t};var y=void 0,b=new MessageChannel;function _(){b.port2.postMessage(void 0)}b.port1.onmess()},e.afterframePhase=function(e){return y&&!y.isResolved||(y=(0,r.default)(),o?_():h(_,!0)),e&&y.then(e),y},i.default.rAFQueue=h})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(76),r=[t,n(66),n(70),n(78),n(71),n(77),n(416),n(161),n(632),n(417)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0});var o=d(t),s=d(n),l=d(i),u=d(r),c=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var f=a.Component.$,p=c.default.live,h=p.componentExpando,m=c.default.components,v=function(){var e={display:""};this.style.height.startsWith("0")||(e.height="",e.overflow=""),f(this).css(e)},g=function(e){function t(n,i){(0,o.default)(this,t);var r=(0,s.default)(this,e.call(this,n,i));return r.options.multiple&&!r.options.toggle&&(r.options.toggle=!0),r.$element=f(n),r.selectedIndexes=[],r.selectedItems=[],r.closingItems=[],r.openingItems=[],c.default.rAFs(r,"setSelectedState","setSwitchedOffClass"),r._onOutSideInteraction=r._onOutSideInteraction.bind(r),r.setOption("easing",r.options.easing),r.options.switchedOff?r.setSwitchedOffClass():r.setOption("switchedOff",!1),r}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{multiple:!1,toggle:!0,animation:"",easing:"",duration:400,closeOnFocusout:!1,selectedIndex:-1,adjustScroll:!1,scrollIntoView:!1,setFocus:!0,switchedOff:!1,resetSwitchedOff:!0,panelSel:"find(.{name}{e}panel)",btnSel:"find(.{name}{e}btn)",groupBtnSel:"find(.{name}{e}ctrl{-}btn)",panelWrapperSel:"find(.{name}{e}panel{-}wrapper):0",btnWrapperSel:"find(.{name}{e}btn{-}wrapper):0",itemWrapper:"",setDisplay:!1,closeOnEsc:!1}}}]),t.prototype.setSwitchedOffClass=function(){this.element.classList[this.options.switchedOff?"add":"remove"](c.default.statePrefix+"switched"+c.default.nameSeparator+"off")},t.prototype._handleAnimation=function(e){"adaptHeight"==e.animation&&(e.panel.isOpen?this.animateWrapper(e.panel.element):this._closedByOpen||this.animateWrapper())},t.prototype.animateWrapper=function(e){var t,n=this,i=this.$panels.get(),r=this.$panelWrapper.get(0),a=e?i.indexOf(e):0,o=[],s=-1,l=r.offsetHeight;this.$panelWrapper.stop(),r.style.height="auto",this.closingItems.forEach((function(e){e.style.display="none",s=i.indexOf(e),o.push(e)})),e&&(e.style.display="block",e.style.position="relative"),t=r.offsetHeight,this.closingItems.forEa""})),e&&(e.style.display="",e.style.position=""),f(o).addClass(c.default.statePrefix+"closing"),this.$panelWrapper.attr({"data-direction":a>s?"up":"down"}).css({overflow:"hidden",height:l+"px"}).animate({height:t},{duration:this.options.duration,easing:this.options.easing,always:function(){n.$panels.removeClass(c.default.statePrefix+"closing"),n.$panelWrapper.removeClass(c.default.statePrefix+"fx").attr({"data-direction":""}),v.call(this)}}).addClass(c.default.statePrefix+"fx")},t.prototype.setSelectedState=function(){this.element.classList.toggle(c.default.statePrefix+"selected"+c.default.nameSeparator+"within",!!this.selectedIndexes.length)},t.prototype._updatePanelInformation=function(){var e=this;this.selectedIndexes.length=0,this.selectedItems.length=0,this.$panels.each((function(t){this[h].isOpen&&(e.selectedIndexes.push(t),e.selectedItems.push(this))})),this.options.closeOnFocusout&&this._addRemoveFocusOut(),this.setSelectedState()},t.prototype._addRemoveFocusOut=function(){var e=this.options.closeOnFocusout&&this.selectedItems.length,t={passive:!0,capture:!0};document.removeEventListener("focus",this._onOutSideInteraction,!0),document.removeEventListener("mousedown",this._onOutSideInteraction,t),document.removeEventListener("touchstart",this._onOutSideInteraction,t),e&&(document.addEventListener("focus",this._onOutSideInteraction,!0),document.addEventListener("mousedown",this._onOutSideInteraction,t),document.addEventListener("touchstart",this._onOutSideInteraction,t))},t.prototype._onOutSideInteraction=function(e){var t="touchstart"==e.type?(e.changedTouches||e.touches||[e])[0].target:e.target;!t||"focus"==e.type&&-1==t.tabIndex||c.default.contains(this.element,t)||!document.body.contains(t)||this.closeAll()},t.prototype._getElements=function(){var e=this,t=void 0,n=this,i=this.options,r=this.getElementsFromString(i.btnWrapperSel)[0];this.$panelWrapper=f(this.getElementsFromString(i.panelWrapperSel)),this.$panels=f(this.getElementsFromString(i.panelSel,this.$panelWrapper.get(0))),this.createChildComponents("panel",this.$panels.get(),[{name:"itemWrapper",computeVa")}},"resetSwitchedOff","setFocus","closeOnEsc","adjustScroll","scrollIntoView","setDisplay","autofocusSel","switchedOff"]).forEa=n})),t=this.$panels,this.$buttons=f(this.getElementsFromString(i.btnSel,r)),this.createChildComponents("panelbutton",this.$buttons.get(),[{name:"toggle",childName:"type",computeVan"}},"preventDefault","switchedOff"]).forEach((function(e,n){t.get(n)&&e._setTarget(t.get(n))})),this.$groupButtons=f(this.getElementsFromString(i.groupBtnSel)),this.createChildComponents("panelgroupbutton",this.$groupButtons.get(),[{name:"target",computeValue:function(){return e.element}},"preventDefault","switchedOff"])},t.prototype.closeAll=function(e){this.selectedItems.length&&this.$panels.get().forEach((function(t,n){var i=p.getComponent(t);i&&i!=e&&t!=e&&n!==e&&i.close()}))},t.prototype.openAll=function(e){this.$panels.get().forEach((function(t,n){var i=p.getComponent(t);i&&i!=e&&t!=e&&n!==e&&i.open()}))},t.prototype.toggle()},t.prototype._triggerOnce=function(){if(!this._isTriggering){var e=this;this._isTriggering=!0,setTimeout((function(){e._isTriggering=!1,e.trigger()}))}},t.prototype.panelChangeCB=function(e,t){var n=this.options;t.startsWith("before")?("beforeopen"==t&&!n.multiple&&this.selectedItems.length&&(this._closedByOpen=!0,this.closeAll(e),this._closedByOpen=!1),this["beforeopen"==t?"openingItems":"closingItems"].push(e.element),this._updatePanelInformation()):t.startsWith("after")&&(this.openingItems.length&&(this.openingItems.length=0),this.closingItems.length&&(this.closingItems.length=0),this._triggerOnce())},t.prototype.next=function(e){var t=this.selectedIndexes[0];(t=null==t?0:t+1)>=this.$panels.get().length&&(t=0),this.selectIndex(t,e)},t.prototype.prev=function(e){var t=this.selectedIndexes[0];(t=null==t?0:t-1)<0&&(t=this.$panels.get().length-1),this.selectIndex(t,e)},t.prototype.getComponentByIndexOrDOM=function(e){null==e&&(e=0);var t="number"==typeof e?this.$panels.get(e):e;return!(!t||!t[h])&&t[h]},t.prototype.selectIndex=function(e,t){var n=this.getComponentByIndexOrDOM(e);return n&&n.open(t)},t.prototype.deselectInt)},t.prototype._switchOff=function(){this.setSwitchedOffClass()},t.prototype._switchOn=function(){this.$panelWrapper&&this.$panels.length||this._getElements(),this._updatePanelInformation(),this.setSwitchedOffClass(),this.selectedIndexes.length||this.selectIndex(this.options.selectedIndex,{animationPrevented:!0,setFocus:!1})},t.prototype.setOption=function(t,n,i){var r=this;e.prototype.setOption.call(this,t,n,i),"multiple"==t&&n&&!this.options.toggle?this.setOption("toggle",!0,i):"easing"==t&&n&&"string"==typeof n?c.default.addEasing(n):"closeOnFocusout"==t?this._addRemoveFocusOut():"switchedOff"==t&&(n?this._switchOff():this._switchOn()),"toggle"!=t&&"multiple"!=t||!this.options.multiple||this.options.toggle||setTimeout((function(){r.options.multiple&&!r.options.toggle&&r.setOption("toggle",!0,i)}))},t}(c.default.components._composer_component);a.Component.register("panelgroup",g),e.default=g;var y=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),t}(m.button);a.Component.register("panelgroupbutton",y);var b=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults","}}}]),t}(m.panelgroup);a.Component.register("tabs",b);var _=function))}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults","}}}]),t}(m.panelgroup);a.Component.register("accordion",_)})?i.apply(t,r):i)||(e.exports=a))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(196);var i=Object.freeze({PARALLEL:1,SEQUENTIAL:2});t.default=i},function(e,t,n){"use strict";n(9),n(8),n(5),n(18),n(76),e.exports=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=window.zdfsite,r=n(7),a={};if(e.startsWith(i.apiService)&&(a["Api-Auth"]="Bearer "+i.apiToken),Object.keys(r).length>0&&t){var o=r.getState().token;o&&(a.Authorization="Bearer ".concat(o))}return ")},function(e,t,n){"use strict";var i=n(2);n(22),n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.USER_TYPE=t.STORAGE=t.ANONYMOUS_ID=void 0,t.clearSubUserData=P,t.clearUserData=function(){p.remove(w(v.MAIN)),p.remove(k()),P()},t.filterSubUserDetailsData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S(e,u.default.defaults,t)},t.filterUserDetailsData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S(e,o.default.defaults,t)},t.filterUserInfoData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S(e,s.default.defaults,t)},t.filterUserSettingsData=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S(e,l.default.defaults,t)},t.generateId=E,t.generateSubUse()},t.getDetailsStorageKey=w,t.getHistoryStoragee)},t.getIdKey=function(e){return"bookmarks"===e?"externalId":"id"},t.getInfoStorageKey=k,t.getSettingsStorageKey=_,t.getUserDataTrackingEvent=function(e,t){var n=m[e];if(n)return n[t];return null},t.isAnonUser=b,t.isArrayActe]},t.isLoggeUB},t.profileKeys=t.mainUserOnlyProfileKeys=void 0,t.storeSettingsForUserId=function(e,t){var n=_(v.MAIN,t),i=p.get(n),r=Object.assign({},i,e);p.set(n,r)},t.updateSubProfiles=function(e,t){var n=e.get("subProfiles");if(!n||0===n.length)return n;return n.map((function(e){return e.id===t.get("id")?t.getUserDetails():e}))},n(560),n(34),n(13),n(10);var r=i(n(21));n(9),n(8),n(5),n(18);var a=i(n(113)),o=i(n(289)),s=i(n(287)),l=i(n(288)),u=i(n(290)),c=n(48);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=a.default.local;t.STORAGE=p;var h={add:!0,remove:!0,clear:!0,toggle:!0,update:!0},m={likes:{remove:"unlike",add:"like"},bookmarks:{remove:"unbookmark",add:"bookmark"},subscriptions:{add:"subscribe",remove:"unsubscribe"}},v={MAIN:"main",SUB:"sub",ANON:"anon",ANON_SUB:"anon_sub"};t.USER_TYPE=v;var g=Object.keys(f({},s.default.defaults,{},o.default.defaults,{},l.default.defaults,{},u.default.defaults));t.profileKeys=g;var y=Object.keys(f({},o.default.mainUserOnly,{},l.default.mainUserOnly));t.mainUserOnlyProfileKeyUB}function _(e,t){return(0,c.getDynamicKey)(c.STORAGE_KEYS.USER_SETTINGS,b(e)?ee}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.keys(e).reduce((function(i,r){return O(t.hasOwnProperty(r),n)&&(i[r]=e[r]),i}),{});return i}function O(e,t){return e&&!t||t&&!e}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat(e).concat([Date.now().toString(36),Math.round(1e16*Math.random()).toString(36),rb.getID()].join("-"));try{t+="-"+(1*crypto.getRandomValues(new Uint32Array(3)).join("")).toString(36)}catch(e){t+="-"+rb.getID()+Math.round(1e16*Math.random()).toString(36)}return t}function P(){p.remove(w(v.SUB))}t.ANONYMOUS_ID="anonymous"},function(e,t,n){"use strict";var i,r,a;n(17),n(10),r=[t,n(180)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.cssHooks=void 0,e.default=function(e,t,n,o){var s=void 0,l=void 0;return a[t]&&a[t].get?s=a[t].get(e):(o=o||(0,i.default)(e,null),s=o.getPropertyValue(t)||o[t]),s&&r.test(s)&&(s=s.replace(",",".")),n&&(l=parseFloat(s),!0!==n&&isNaN(l)||(s=l||0)),s};var n,i=(n=t)&&n.__esModule?n:{default:n},r=/^\d+,\d+(px|em|rem|%|deg)$/,a=e.cssHooks={}})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[t,n(66),n(70),n(78),n(71),n(77),n(416),n(392),n(615),n(417)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0});var o=d(t),s=d(n),l=d(i),u=d(r),c=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var f=a.Component.$,p=/^(?:input|textarea)$/i,h=function(e){function t(n,i){(0,o.default)(this,t);var r=(0,s.default)(this,e.call(this,n,i));return r.isOpen=r.element.classList.contains(c.default.statePrefix+"open"),r.isDefaultOpen=r.isOpen,r._role=r.element.getAttribute("role"),r._onBodyClick=r._onBodyClick.bind(r),r._onOutSideAction=r._onOutSideAction.bind(r),c.default.rAFs(r,{throttle:!0},"_opened","_closed","_switchOn","_switchOff"),c.default.rAFs(r,{throttle:!0,that:r},"_setDisplay"),r.setOption("easing",r.options.easing),r.options.switchedOff?c.default.rAFQueue((function(){n.classList.add(c.default.statePrefix+"switched"+c.default.nameSeparator+"off")}),!0):r.setOption("switchedOff",!1),r}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{animation:"",duration:400,easing:"",setFocus:!0,closeOnOutsideClick:!1,resetSwitchedOff:!0,switchedOff:!1,closeOnEsc:!1,closeOnFocusout:!1,scrollIntoView:!1,adjustScroll:!1,itemWrapper:"",setDisplay:!1,displayTimer:5e3}}}]),t.prototype._switchOff=function(){this.element.removeAttribute("aria-hidden"),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.options.resetSwitchedOff&&(this.isOpen=this.isDefaultOpen),this.isDefaultOpen||this.element.classList.remove(c.default.statePrefix+"open"),this.element.classList.add(c.default.statePrefix+"switched"+c.default.nameSeparator+"off"),this.$element.css({visibility:"",height:"",overflow:"",display:""})},t.prototype._switchOn=function(){this.isOpen&&this.element.classList.add(c.default.statePrefix+"open"),this.element.classList.remove(c.default.statePrefix+"switched"+c.default.nameSeparator+"off"),this.element.setAttribute("aria-hidden",""+!this.isOpen),this.$element.attr({role:this._role||"group",tabindex:"-1"})},t.prototype._setDisplay=function(){this.isOpen?"none"==this.element.style.display&&(this.element.style.display="string"==typeof this.options.setDisplay?this.options.setDisplay:""):this.element.style.display="none",this._displayTimer=null},t.prototype._shouldTeardown=function(){if(!this.isOpen&&!this.options.closeOnOutsideClick&&this.options.closeOnFocusout||!c.default.root.contains(this.element))return this.teardownOnOpenEvts(),!0},t.prototype._onBodyClick=function(e){var t;this.options.closeOnOutsideClick&&!this._shouldTeardown()&&document.body.contains(e.target)&&!c.default.contains(this.element,e.target)&&(t=this,this._closeTimer=setTimeout((function(){t.close()}),44))},t.prototype._onOutSideAction=function(e){var t,n;if(this.options.closeOnFocusout&&("focus"!=e.type||-1!=e.target.tabIndex)&&document.body.contains(e.target)&&!this._shouldTeardown()){if((n=this.component(e.target))&&n.getTarget&&n.getTarget()==this.element)return;t=[this.element],this.buttonComponent&&t.push(this.buttonComponent.element),this.activeButtonComponent&&t.push(this.activeButtonComponent.element),c.default.contains(t,e.target)||this.close()}},t.prototype.setupOnOpenEvts=function(){this.teardownOnOpenEvts(),(this.options.closeOnFocusout||this.options.closeOnOutsideClick)&&(document.addEventListener("click",this._onBodyClick,!0),document.addEventListener("mousedown",this._onOutSideAction,!0),document.addEventListener("focus",this._onOutSideAction,!0))},t.prototype.teardownOnOpenEvts=function(){clearTimeout(this._closeTimer),document.removeEventListener("click",this._onBodyClick,!0),document.removeEventListener("mousedown",this._onOutSideAction,!0),document.removeEventListener("focus",this._onOutSideAction,!0)},t.prototype.setOption=function(t,n,i){e.prototype.setOption.call(this,t,n,i),"easing"==t&&n&&"string"==typeof n?c.default.addEasing(n):"switchedOff"==t&&(n?this._switchOff():this._switchOn())},t.prototype.getAnimationData=function(){var e,t={panel:this,options:{}};return this.options.animation?e=this:!1!==this.options.animation&&this.groupComponent&&(e=this.groupComponent),e&&(t.component=e,t.options={duration:e.options.duration,easing:e.options.easing},t.animation=e.options.animation),t},t.prototype._handleAnimation=function(e){var t,n={};return e.defaultPrevented||!e.detail||e.detail.animationPrevented?n:(n=this.getAnimationData(),t=this.$element,n.component?(this.groupComponent&&this.groupComponent._handleAnimation&&this.groupComponent._handleAnimation(n),"slide"==n.animation&&(t.stop(),this.isOpen?(n.options.getHeight=!0,n.height=t.rbSlideDown(n.options)):(n.height=0,t.rbSlideUp(n.options))),n):n)},t.prototype.open=function(e){if(this.isOpen)return!1;var t,n=this.options,i=this.trigger(this._beforeEvtName,e);return e||(e={}),!i.defaultPrevented&&(t="setFocus"in e?e.setFocus:n.setFocus,this.isOpen=!0,this.groupComponent&&this.groupComponent.panelChangeCB(this,"beforeopen"),clearTimeout(this._closeTimer),this._displayTimer&&clearTimeout(this._displayTimer),e.animationData=this._handleAnimation(i),t&&!e.focusElement&&(e.focusElement=this.getFocusElement("force"==t)),e.focusElement&&p.test(e.focusElement.nodeName)?this._opened._rbUnrafedFn.call(this,e):this._opened(e),!0)},t.prototype._getFocusDelay=function(e){var t=this.options;return e&&e.focusDelay||t.animation&&t.duration||this.groupComponent&&this.groupComponent.options.animation&&this.groupComponent.options.duration||t.focusDelay||0},t.prototype._opened=function(e){if(this.isOpen){var t=this._getFocusDelay(e);this.element.classList.add(c.default.statePrefix+"open"),this.element.setAttribute("aria-hidden","false"),this.options.setDisplay&&this._setDisplay(),this.options.itemWrapper&&f(this.element.closest(this.interpolateName(this.options.itemWrapper))).rbToggleState("selected{-}within",!0),this.groupComponent&&this.groupComponent.panelChangeCB(this,"afteropen"),e.focusElement?this.setComponentFocus(e.focusElement,t):this.storeActiveElement(),clearTimeout(this._closeTimer),this.options.closeOnOutsideClick&&this.setupOnOpenEvts(),this.scrollIntoView(e),this.trigger()}},t.prototype.toge)},t.prototype.close=function(e){if(!this.isOpen)return!1;var t=this.trigger(this._beforeEvtName,e);return!t.defaultPrevented&&(this.isOpen=!1,this.groupComponent&&this.groupComponent.panelChangeCB(this,"beforeclose"),this.adjustScroll(),this._handleAnimation(t),this._closed(e),clearTimeout(this._closeTimer),!0)},t.prototype._closed=function(e){this.isOpen||(this.element.classList.remove(c.default.statePrefix+"open"),this.element.setAttribute("aria-hidden","true"),this.options.itemWrapper&&f(this.element.closest(this.interpolateName(this.options.itemWrapper))).rbToggleState("selected{-}within",!1),this.groupComponent&&this.groupComponent.panelChangeCB(this,"afterclose"),this.trigger(),clearTimeout(this._closeTimer),this.options.closeOnOutsideClick&&this.teardownOnOpenEvts(),e&&!1===e.setFocus||!(this.options.setFocus||e&&e.setFocus)||this.restoreFocus(!0),this._displayTimer&&clearTimeout(),this.options.setDisplay&&(this._displayTimer=setTimeout(this._setDisplay,this.options.displayTimer||5e3)))},t.prototype._scroll=function(e,t){var n,i;e&&(n=c.default.getPageScrollingElement(),i=Math.max(n.scrollTop+e,0),t.animation?f(n).animate({scrollTop:i},t.options):n.scrollTop=i)},t.prototype.scrollIntoView=function(e){var t,n,i,r,a,o,s,l=this.options;l.scrollIntoView&&(t=document.activeElement)&&t.compareDocumentPosition&&(a=t.compareDocumentPosition(this.element))&&(4==a||2==a)&&(n=e.animationData,i=this.element.getBoundingClientRect(),r=c.default.root.clientHeight,o=n.height||i.height,4==a&&i.top+o>r?s=i.top+Math.min(o,r-9)-r:2==a&&i.top<0&&(s=i.top),s&&("number"==typeof l.scrollIntoView&&(s+=l.scrollIntoView),this._scroll(s,n)))},t.prototype.adjustScroll=function(){var e,t,n,i=this.options.adjustScroll;i&&(e=document.activeElement)&&e.compareDocumentPosition&&2==e.compareDocumentPosition(this.element)&&(t=this.getAnimationData(),n=this.$element.outerHeight(),"number"==typeof i&&(n-=e.getBoundingClientRect().top-i),n>0&&this._scroll(-1*n,t))},(0,l.default)(t,null,[{key:"events",get:function(){return{"click .{name}{e}close":function(e){this.close(),e&&(e.stopPropagation(),e.preventDefault())},"keydown:keycodes(27)":function(e){this.options.closeOnEsc&&!e.defaultPrevented&&(this.close(),e.preventDefault(),e.stopPropagation())}}}}]),t}(c.default.components._focus_component);a.Component.register("panel",h),e.default=h})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18);var r=i(n(21));n(85);var a=i(n(0)),o=i(n(1)),s=n(47);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var u=n(7e)},d=functioe)}return(0,o.default)(e,null,[{key:"generateListItemsFromBookmarks",value:function(){var e=u.getState().profile.bookmarks.sort((function(e,t){var n=e.date,i=t.date;return c(n,i)}));return JSON.stringify(e.slice(0,10).map((function(e){return{externalId:e.externalId,eventDate:e.date}})))}},{key:"generateListItemsFromViewHistory",value:function(){var e=u.getViewHistory().getItems().sort((function(e,t){var n=e.eventDate,i=t.eventDate;return c(n,i)}));return JSON.stringify(e.slice(0,10).me}})))}},{key:"generateListItemsFromPlaybackHistory",value:function(){var e=u.getPlaybackHistory().getItems().soi)}));return JSON.stringify(e.slice(0,10).mn}})))}},{key:"evaluatePreferences",value:function(){var e=[],t=u.getState().profile,n=t.useSubtitles,i=t.useAudioDescription,r=t.defaultStreamVariantDgs;return n&&e.push("UT"),i&&e.push("AD"),r&&e.push("DGS"),0===e.length?null:e.toString()}},{key:"getUserDataForRequest",value:function(){var e=(0,s.hasPersonalizationConsent)();return{preferences:e?this.evaluatePreferences():"[]",bookmarks:e?this.generateListItemsFromBookmarks():"[]",views:e?this.generateListItemsFromViewHistory():"[]",plays:e?this.generateListItemsFromPlaybackHistory():"[]"}}},{key:"getABDataForRequest",value:function(){var e=u.getState().profile;return{abName:e.abConfigName,abGroup:e.abGroupName,appId:zdfsite.appId}}},{key:"getCompleteRequestData",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.getABDataForRequest(),{},this.getUserDataForRequest())}}]),e}();e.exports=d},,=i},function(e,t,n){"use strict";var i,r,a;n(33),n(56),r=[t,n(40)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n,i=(n=t)&&n.__esModule?n:{default:n};function r(e){e&&i.default.log("not supported: "+e);var t=[];return{add:function(e){t.push(e)},rem1)},fire:function(){this.fireWith(this,Array.from(arguments))},fireWith:function(e,n){var i,r=void 0;for(r=0,i=t.length;r<i;r++)t[r]&&t[r].apply(e,[].concat(n))},th}}}i.default.$&&!i.default.$.Callbacks&&(i.default.$.Callbacks=r)})?i.apply(t,r):i)||(e.exports=s)},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(34),n(5),n(13);var r=i(n(21)),a=i(n(98)),o=i(n(11));n(10);var s=i(n(113)),l=i(n(178)),u=n(e}var f=u.STORAGE_KEYS.IS_FRESH_ETAG.name,p=u.STORAGE_KEYS.ETAG_KEY.name,h=s.default.session,m=window.zdfsite,v={"Content-Type":"application/json;charset=UTF-8"},g=void 0,y=void 0;function b(e){var t=e.endpoint,n=e.broadcastId,i=e.data,r=e.stringifyData,s=void 0===r||r,u=e.processData,c=void 0!==u&&u,f=e.requestType,p=void 0===f?"POST":f,h=e.withApiToken,b=void 0!==h&&h,_=e.alwaysBroadcast,w=void 0===_||_,k=e.additionalHeaders,S=void 0===k?null:k;n&&y("".concat(n,":/fetching"),i),(null===i||"object"!==(0,o.default)(i)||Array.isArray(i))&&(i={value:i});var O=i,E=(O.onSuccess,O.onFail,O.onError,(0,a.default)(O,["onSuccess","onFail","onError"])),P=E.hasOwnProperty("value")?E.value:E,T=b?d({},v,{},S,{Authorization:"Bearer ".concat(g)}):d({},v,{},S),x=rb.deferred();return(0,l.default)({url:"".concat(m.identityService,"/").concat(t),data:s?JSON.stringify(P):P,type:p,contentType:!1,headers:T,processData:c}).then((function(e){n&&w&&y("".concat(n,":/success"),e),i&&i.onSuccess?i.onSuccess(e):n&&!w&&y("".concat(n,":/success"),e),x.resolve(e)})).catch((function(e){if(n&&w&&y("".concat(n,":/failed"),e),i&&i.onError&&i.onError(e),i&&i.onFail?i.onFail(e):n&&!w&&y("".concat(n,":/failed"),e),401===e.status&&e.data.state&&"undefined"!==e.data.state){var t=rb.getComponent(document.getElementById("aria-logout-"+e.data.state+"-dialog"));m.user.dispatch("silentLogout"),t.isOpen||t.open()}x.reject(e)})),x}var _={init:function(e,t){g=e,y=t},updatePassword:function(e){return b({endpoint:"update-password",broadcastId:"updatePassword",withApiToken:!0,data:e})},register:function(e){return b({endpoint:"register",broadcastId:"register",alwaysBroadcast:!1,data:e})},lostPassword:function(e){return b({endpoint:"lost-password",broadcastId:"lostPassword",data:e})},resetPassword:function(e){return b({endpoint:"change-password",broadcastId:"resetPassword",data:e})},deleteAccountRequest:function(e){return b({endpoint:"send-delete-mail",broadcastId:"deleteAccountRequest",data:e})},deleteAcco})},deleteAccountWithToken:function(e){return b({endpoint:"delete-without-email",broadcastId:"deleteAccountWithToken",withApiToken:!0,data:e})},changeEmailRequest:function(e){return b({endpoint:"send-change-email",broadcastId:"changeEmailRequest",withApiToken:!0,data:e})},activateChangedEmail:function(e){return b({endpoint:"change-email",broadcastId:"activateChangedEmail",withApiToken:!0,data:e})},deleteUserData:function(e){return b({endpoint:"usagedata",withApiToken:!0,requestType:"DELETE",data:e})},activateAccount:function(e){return b({endpoint:"activate",broadcastId:"activate",withApiToken:!1,data:e})},checkBlacklist:function(e){return b({endpoint:"check-blacklist?name="+e,withApiToken:!0,requestType:"GET"})},login:function(e){return b({endpoint:"login",withApiToken:!1,stringifyData:!1,processData:!0,data:e=Object.assign({grant_type:"password"},e),additionalHeaders:{"Content-Type":"application/x-www-form-urlencoded"}})},loginWithArdCode:function(e){return b({endpoint:"thirdparty/ard/login",withApiToken:!1,data:e})},logout:function(){return b({endpoint:"logout",withApiToken:!0,requestType:"POST"})},verifyAge:function(e){return b({endpoint:"fsk/verification",withApiToken:!0,requestType:"PUT",data:e})},getAgeVerification:function(e){return b({endpoint:"fsk/verification",withApiToken:!0,requestType:"GET",data:e,additionalHeaders:{"Content-Type":"application/x-www-form-urlencoded"}})},setFskPin:function(e,t){var n=rb.deferred(),i=new URLSearchParams({pin:e,password:t}).toString();return(0,l.default)({url:"".concat(m.apiService,"/identity/fsk/pin"),headers:{Authorization:"Bearer ".concat(g),"Content-Type":"application/x-www-form-urlencoded"},data:i,type:"PUT"}).then((function(e){n.resolve(e)})).catch((function(e){n.reject(e)})),n},validateFskPin:function(e){return b({endpoint:"fsk/pin",withApiToken:!0,stringifyData:!1,processData:!0,data:e,additionalHeaders:{"Content-Type":"application/x-www-form-urlencoded"}})},setFskPinForArdUser:function(e){return b({endpoint:"thirdparty/ard/pin",withApiToken:!1,data:e})},getUserInfo:function(e){return b({endpoint:"userinfo",withApiToken:!0,requestType:"GET",data:e})},updateUserInfo:function(e){return b({endpoint:"userinfo",broadcastId:"updateUserInfo",withApiToken:!0,requestType:"PATCH",data:e})},updateUserPersonalInfo:function(e){return b({endpoint:"userPersonalInfo",broadcastId:"updateUserPersonalInfo",withApiToken:!0,requestType:"PATCH",data:e})},getUserDetails:function(e){return b({endpoint:"userdetails",withApiToken:!0,requestType:"GET",broadcastId:null,data:e}).then((function(e){var t=e.xhr.getResponseHeader("x-origin-etag");return h.set(f,!0),h.set(p,t),e}))},updateUserDetails:function(e){var t={},n=h.get(p);return n&&(t["If-Match"]=n),b({endpoint:"userdetails",broadcastId:"patchUserDetails",withApiToken:!0,requestType:"PATCH",data:e,additionalHeaders:t}).then((function(e){var t=e.xhr.getResponseHeader("x-origin-etag");return t?h.set(p,t):h.set(f,!1),e}))},areDetailsOutdaf)}};t.default=_},function(e,t,n){"use strict";var i=n(2);n(13);var r=i(n(11)),a=i(n(86));e.exports=function(e,t){var i=n(157);"object"===(0,r.default)(e)&&(e=(t=e).url);var o=i(e),s=t||{};return s.hasOwnProperty("headers")?s.headers=Object.assign(o||{},s.headers):s.headers=o,(0,a.default)(e,st}},function(e,t,n){"use strict";var i,r,a;r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var n=e.ownerDocument.defaultView;return n.opener||(n=window),n.getComputedStyle(e,t||null)||{getPropertyValue:rb.$&&rb.$.noop,isNull:!0}}})?i.apply(t,r):i)||(e.exports=))},function(e,t,n){"use strict";(function(e){var t=n(2);n(22),n(19),n(18);var i=t(n(100)),r=t(n(21));n(17),n(36),n(9),n(8),n(5),n(33);var a=t(n(53));n(84);var o=t(n(101));n(28),n(26),n(15);var s,l=t(n(0)),u=t(n(3)),c=t(n(1)),d=t(n(4)),f=t(n(11)),p=t(n(139)),h=t(n(183)),m=n(47),v=n(433),g=t(n(315)),y=n(434);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}s=function(){var e=window.rb,t=e.$,r=n(124),s=(n(7),window.zdfsite,function(n){function s(t,n){var i;return(0,l.default)(this,s),(i=(0,u.default)(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,n))).hasTeaser=!1,e.rAFs(i,"writeReady","writeTeasers","showFallbackTeaser","addFallbackTeaser","removeFallbackTeaser"),i.scrollList=i.query(".js-scrollbox-list"),i.fallbackTeaser=i.query(".b-cluster-teaser"),i.fallbackTeasers=i.queryAll(".b-cluster-teaser"),i.stageList=i.query(".stage-list"),i.fallbackStageTeasers=i.queryAll(".stage-item.m-placeholder"),i.autoStyle="m2",e.rAFQue")})),i}return(0,d.default)(s,n),(0,c.default)(s,null,[{key:"defaults",get:function(){return{maxTeaser:48}}},{key:"events",get:function(){return{clearTeaserList:"clearCluster"}}}]),(0,c.default)(s,[{key:"generateTeaser",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];return r.generateTeaser(e,t,n,i)}},{key:"generatePlaceholderTeaser",value:function(e,t,n){return r.generatePlaceholderTeaser(e,t,n)}},{key:"generateStageTeaser",value:function(e,t,n){return r.generateStageTeaser(e,t,n)}},{key:"updatePlaceholderTeasers",value:function(n,i){var r=this;if(this.writeReady(),n&&n.length){var a=[],o=".b-cluster-teaser.teaser-placeholder.m-placeholder";this.fallbackTeasers.forEach((function(e){var t=e.getAttribute("data-teaser-template"),n=JSON.parse(e.getAttribute("data-teaser-attributes"));t&&t.length>0&&a.push({template:t,attributes:n})})),h.default.filterItems(n).then((function(s){s.forEach((function(e,n){if(n<a.length){var s=a[n].template,l=a[n].attributes,u=t(r.scrollList).children(o).get().find((function(e){return JSON.parse(e.dataset.teaserAttributes).position===l.position}));if(void 0!==i&&i.includes(e.id))return void u.remove();var c=r.generatePlaceholderTeaser(e,s,l);r.scrollList.insertBefore(c,u),u.remove()}})),a.length>n.length&&t(r.scrollList).children(o).get().forEach((function(e){e.remove()})),(0,m.hasPersonalizationConsent)()||r.removePlaceholderTeaser(a),r.scrollList.lastElementChild&&e.events.dispatch(r.scrollList,"domchanged"),lazySizes.loader.checkElems(!0)}))}}},{key:"writeTeasers",value:function(t,n){var i=this;this.writeReady(),t&&t.length&&(this.removeFallbackTeaser(),n=n||"id",h.default.filterItems(t).then((function(t){t.forEach((function(e,t){if(t<i.options.maxTeaser&&e[n]){var r=i.generateTeaser(e[n],"m2",e,i.element);i.scrollList.appendChild(r)}})),i.scrollList.lastElementChild&&e.events.dispatch(i.scrollList,"domchanged"),lazySizes.loader.checkElems(!0)})))}},{key:"writeStageTeasers",value:function(n){var r=this;if(this.writeReady(),n&&n.length){var s,l=this.fallbackStageTeasers.map((function(e){return{template:e.getAttribute("data-teaser-template"),attributes:JSON.parse(e.getAttribute("data-teaser-attributes"))}}));h.default.filterItems(n).then((s=(0,o.default)(i.default.mark((function n(s){var u,c,d,f,h,m,b,w,k,S;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=l.length,0!==(c=[].concat((0,a.default)(s))).length){n.next=4;break}return n.abrupt("return");case 4:d=[],f=l[0],h=f.template,m=f.attributes;case 6:if(!(d.length<u)){n.next=16;break}if(0!==c.length){n.next=9;break}return n.abrupt("break",16);case 9:return b=c.splice(0,u-d.length),n.next=12,Promise.all(b.map(function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.default.parse(h).expand({sophoraId:t.id}).replace("sophoraId=","assetId="),r=_({dataXhrUrl:n,sophoraId:t.id},m),e.next=4,g.default.getData(r);case 4:return e.t0=e.sent,e.t1=t,e.abrupt("return",{htmlData:e.t0,teaser:e.t1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()));case 12:w=n.sent,d=d.concat(w.filter((function(e){return!!e.htmlData}))),n.next=6;break;case 16:if(0!==d.length){n.next=18;break}return n.abrupt("return");case 18:k=t(r.stageList).children(".js-stageitemscroller-cell.m-placeholder").get(),d.forEach((function(e,t){var n=e.htmlData,i=e.teaser,a=k[t],o=m;(null==a?void 0:a.getAttribute("data-teaser-attributes"))&&(o=JSON.parse(a.getAttribute("data-teaser-attributes")));var s=document.createElement("div");s.innerHTML=n.trim();var l=s.firstElementChild;(0,y.setTrackingDataOnElement)(l,{sophoraId:i.id,recoId:i.recoId,engine:i.engine,nodeId:o.nodeId,position:o.position,stageSize:o.stageSize}),l.style.order=a.style.order,r.stageList.insertBefore(l,a),a.remove()})),S=r.removeFallbackStageTeasers(),(0,v.updateItemScroller)(r.stageList,!0,S>0),r.stageList.lastElementChild&&e.events.dispatch(r.stageList,"domchanged"),lazySizes.loader.checkElems(!0);case 24:case"end":return n.stop()}}),n,this)}))),function(e){return s.apply(this,arguments)}))}}},{key:"removeFallbackStageTeasers",value:function(){return this.removePlaceholderTeaser(this.fallbackStageTeasers)}},{key:"removePlaceholderTeaser",value:function(e){var t=0;return this.hasTeaser=!0,this.$element.addClass("m-has-teaser"),e&&(t=e.length,e.forEach((function(e){e.remove()}))),t}},{key:"removeFallbackTeaser",value:function(){this.hasTeaser=!0,this.$element.addClass("m-has-teaser"),this.fallbackTeaser&&this.fallbackTeaser.remove()}},{key:"writeReady",value:function(){this.$element.addClass("m-ready")}},{key:"addFallbackTeaser",value:function(){var e=this;this.fallbackTeaser.classList.add("m-hide-teaser"),this.$element.removeClass("m-has-teaser"),this.scrollList.innerHTML="",this.scrollList.appendChild(this.fallbackTeaser),this.hasTeaser=!1,setTimeout((function(){e.showFallbackTeaser()}))}},{key:"showFallbackTeaser",value:function(){this.fallbackTeaser.classList.remove("m-hide-teaser")}},{key:"clearCluster",value:function(){this.addFallbackTeaser()}}]),s}(e.Component));return e.live.register("_clusterdynamicbase",s),s},"object"===(0,f.default)(e)&&e.exports?e.exports=s():s()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(103),n(15);var r=i(n(100));n(9),n(8),n(33),n(84);var a=i(n(101));n(36),n(5);var o=i(n(0)),s=i(n(1)),l=i(n(23));n(10);var u,c=n(24),d=n(48),f=window.zdfsite,p=n(432),h=window.rb,m=n(7),v=n(295),g=d.STORAGE_KEYS.ZDFCHEN_GROUP_DATA.name,y=new(u=function(){function e(t){var n=this;(0,o.default)(this,e),m.ready.th()})),window.addEventListener("beforeunload",this.beforeUnloadHandler)}var t;return(0,s.default)(e,[{key:"profileChangedHandler",value:function(){var e=m.getState();this.isTiviUser=e.isTiviUser(),this.profile=e.getUserProfile()}},{key:"beforeUnloadHandler",value:function(){m.unsubscribe("activeSubProfileChanged",this.profileChangedHandler),window.removeEventListener("beforeunload",this.beforeUnloadHandler)}},{key:"doesListContainId",value:function(e,t){return e.so=t}))}},{key:"getTeaserElement",value:function(e,t){return t.querySelector("[data-teaser-attributes='".concat(e.id,"']"))||t.querySelector("[data-teaser-attributes='".concat(e.externalId,"']"))||t.querySelector("[data-teaser-id='".concat(e.id,"']"))||t.querySelector("[data-teaser-id='".concat(e.externalId,"']"))||void 0}},{key:"getSophoraIdFromElement",value:function(e){var t=void 0,n=void 0;return e.hasAttribute("data-teaser-attributes")?(t=e.getAttribute("data-teaser-attributes"),n=JSON.parse(t).sophoraId):n=e.getAttribute("data-teaser-id"),n}},{key:"updateTeaserList",value:function(e,t,n){var i=this,r=void 0,a=!0===this.useZDFchenFilter()?t:n;return n.forEach((function(t){if(r=i.getTeaserElement(t,e)){var n=i.getSophoraIdFromElement(r);!0===i.doesListContainId(a,n)?r.classList.remove("hide"):r.classList.add("hide")}})),a}},{key:"filterItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(i){!0===t.useZDFchenFilter()||!0===n?t.fetchDataForItems(e).then((function(n){var r=t.processResult(e,n);r.forEach((function(e){return t.saveItem(e)})),i(r)})):i(e)}))}},{key:"fetchDataForItems",value:(t=(0,a.default)(r.default.mark((function e(t){var n,i,a,o,s,l=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e){return l.hasCachedDataForItem(e)})),i=t.filte)})).mid})),a=n.map((function(e){return l.fetchCachedDataForItem(e)})),e.next=5,this.getItemPromisesForIDs(i);case 5:return o=e.sent,s=a.concat(o),e.abrupt("return",Promise.all(s));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getItemPromisesForIDs",value:function(e){var t=this;return new Promise((function(n){p.filterIdsByAgeGroup(e,v.AGE_GROUP.zdfchen).then((function(e){var i=e.map((function(e){return t.getPromiseForID(e)}));n(i)}))}))}},{key:"getPromiseForID",value:function(e){return new Promi})}))}},{key:"hasCachedDataForItem",value:function(e){var t=this.getCachedDataForItem(e);return!!t&&!this.isCachedDataOutdated(t)}},{key:"fetchCachedDataForItem",value:function(e){var t=this;return new Promi))}))}},{key:"processResult",value:function(e,t){var n=this;return e.filt))}))}},{key:"compareIds",value:function(e,t){var n=!1,i=e.id,r=e.externalId,a=[t.id,t.externalId];return[i,r].forEach((function(e){a.forEach((function(t){e&&t&&e===t&&(n=!0)}))})),n}},{key:"useZDFchenFilter",value:function(){var e=(this.profile||{}).zdfchenEnabled;return!0===this.isTiviUser&&!0===e}},{key:"saveItem",value:function(e){var t={id:e.id,externalId:e.externalId,cacheTimestamp:Date.now()},n=this.getCachedDataForItem(e);if(void 0===n)try{h.storage.local.set(g,this.getAllCachedData().concat(t))}catch(e){}else!0===this.isCachedDataOutdated(n)&&this.updateResult(e)}},{key:"updateResult",value:function(e){var t=this.getCachedDataForItem(e),n=this.getAllCachedData(),i=this.getIndexOfCachedData(t);if(i>-1){n[i].cacheTimestamp=Date.now();try{h.storage.local.set(g,n)}catch(e){}}}},{key:"getIndexOfCachedData",va))}},{key:"getCachedDataForItem",value:function(e){var t=this,n=this.getAllCachedData().find((function(n){return t.compareIds(e,n)}));return n&&(n.tiviAgeGroup=v.AGE_GROUP.zdfchen),n}},{key:"getAllCachedData",value:function(){var e=void 0;try{e=h.storage.local.get(g)}catch(e){}return e||[]}},{key:"isCachedDataOutdated",value:function(e){return void 0===e.cacheTimestamp||e.cacheTimestamp+v.ZDFCHEN_CACHE_TIMEOUT_DURATION<Date.now()}},{key:"generateUrl",vae)}}]),e}(),(0,l.default)(u.prototype,"profileChangedHandler",[c.autobind],Object.getOwnPropertyDescriptor(u.prototype,"profileChangedHandler"),u.prototype),(0,l.default)(u.prototype,"beforeUnloadHandler",[c.autobind],Object.getOwnPropertyDescriptor(u.prototype,"beforeUnloadHandler"),u.prototype),u)("zdfchen-filter");t.default=y},,0}},function(e,t,n){"use strict";var i=n(111),r=n(63),a=n(74),o={};n(41)(o,n(20)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(o,{next:r(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var i=n(37),r=n(31),a=n(65);e.exports=n(29)?Object.defineProperties:function(e,t){r(e);for(var n,o=a(t),s=o.length,l=0;s>l;)i.f(e,n=o[l++],t[n]);return ))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeScriptTags=function(e){e instanceof Node&&Array.from(e.querySelectorAll("script")).forEae)}))},t.isElementVisible=function(e){if(!(e instanceof Element))return!1;var t=getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(t.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;var n={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(n.x<0)return!1;if(n.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(n.y<0)return!1;if(n.y>(document.documentElement.clientHeight||window.innerHeight))return!1;var i=document.elementFromPoint(n.x,n.y);do{if(!i)return!1;if(i===e)return!0}while(i=i.parentNode);return!1},t.setPageScrollingEnabled=function(e){var t=e?"remove":"add";document.querySelector("html").classList[t]("no-scroll")},n(10),n(33),n(5=l},function(e,t,n){var i=n(172);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";(function(i){var r,a,o;n(13),n(14),n(36),n(5),a=[t,n(40),n(175)],void 0===(o="function"==typeof(r=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),a=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=r.default.events&&r.default.events.special||{};r.default.createPubSub=function(e,t){var n={},o={},l=function(e,t,i){n[e]&&n[e].fireWith(t,[t]),i?o[e]=t:e in o&&r.default.log("memoize once, memoize always")},u=function(e,n,i){var r=void 0,a=void 0;return 3==arguments.length&&"boolean"!=typeof i&&(a=n,n=i,i=a),l("",n,i),t.topicSeparator&&(r=e.split(t.topicSeparator)).length>1&&(e=r.reduce((function(e,r){return e&&l(e,n,i),e+t.topicSeparator+r}))),e&&l(e,n,i),this};return t=Object.assign({privatePublish:!1,topicSeparator:":/"},t||{}),Object.assign(e,{subscribe:function(e,i,r){var s,l,u,c,d,f,p,h,m=void 0;return"function"==typeof r&&(m=i,i=r,r=m),e||(e=""),n[e]||(n[e]=(0,a.default)(),t.throttle&&(n[e]._throttle=(s=n[e].fireWith,l=void 0,u=void 0,c=void 0,d=Promise.resolve(),f=[c)()},{throttled:function(){u=this,c=arguments,l?f.length&&h():(l=!0,d.then(p))},after()}}),n[e].fireWith=n[e]._throttle.throttled)),t.throttle?n[e]._throttle.afterRun((function(){n[e].add(i)})):n[e].add(i),r&&e in o&&i.call(o[e],o[e]),this},unsubscribe:function(e,t){return e||(e=""),n[e]&&n[e].remove(t),this}}),t.privatePublish||(e.publish=u),t.eventName&&(void 0!==i&&i.env,s[t.eventName]={},[["add","subscribe"],["remove","unsubscribe"]].forEach((function(n){s[t.eventName][n[0]]=function(r,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};void 0!==i&&i.env;var s=function(){e[n[1]](t.topic,a,o.getStored)};o.eventPromise&&!o.eventPromise.isDone?o.eventPromise.then(s):s()}}))),u},r.default.createPubSub(r.default),e.default=r.default.createPubSub})?r.apply(t,a):r)||(e.exports=o)}).call(this,n(99))},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.clear=function(e,t){try{c.remove(e),t&&fetch(t.url,t.options).catch((function(e){return rb.logWarn(e)}))}catch(e){rb.logError(e)}},t.getAllItemsForUser=void 0,t.getAuthHeaders=function(e){return{Accept:"application/vnd.de.zdf.v1.0+json;charset=utf-8","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(e),"Api-Auth":"Bearer ".concat(d.apiToken)}},t.isValidVideoType=f,t.itemsToSortedArray=function(e){return Object.values(e).sort((function(e,t){var n=e.eventDate,i=t.eventDate;return-1*(new Date(n)-new Date(i))}))},t.load=void 0,t.mergeItems=g,t.migre)},t.removeFromStorage=function(e){c.remove(e)},n(34),n(102),n(545);var r=i(n(98)),a=i(n(100));n(97),n(85);var o=i(n(21));n(9),n(8),n(5),n(84);var s=i(n(101));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(28),n(176);var c=i(n(113)).default.local,d=window.zdfsite;function f(e){if(e){return!["http://zdf.de/rels/not-found"].includes(e.profile)&&((!e.hasOwnProperty("structureNodePath")||!0!==["/zdf/fehler"].includes(e.structureNodePath))&&((!e.hasOwnProperty("excludeFromLastViewed")||"true"!==e.excludeFromLastViewed&&!0!==e.excludeFromLastViewed)&&(!e.hasOwnProperty("currentVideoType")||!1!==["clip","episode"].includes(e.currentVideoType))))}return!1}var p,h=(p=(0,s.default)(a.default.mark((function e(t,n){var i,r,o,s,l,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.get(t)||{},r=i.entries,o=void 0===r?{}:r,e.next=3,v(u({},n,{method:"GET",limit:999}));case 3:return s=e.sent,l=s.entries||[],d=g(o,l),e.abrupt("return",Object.values(d).sort((function(e,t){var n=e.eventDate,i=t.eventDate;return new Date(i)-new Date(n)})));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)});t.getAllItemsForUser=h;var m,v=(m=(0,s.default)(a.default.mark((function e(t){var n,i,o,s,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,i=t.limit,o=t.errorHandler,s=(0,r.default)(t,["url","limit","errorHandler"]),l=new URL(n),Number.isInteger(i)&&l.searchParams.set("limit",i),u=l.toString(),e.abrupt("return",fetch(u,s).then((function(e){if(404===e.status)return{};if(e.ok)return e.json();throw o&&o(e),Error("".concat(e.status," - ").concat(e.statusText," (for url ").concat(u,")"))})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)});function g(e,t){var n=t.reduce((function(t,n){var i=e[n.externalId];if(i){var r=new Date(i.eventDate),a=new Date(n.eventDate);t[n.externalId]=a>r?u({},n):u({},n,{},i)}else t[n.externalId]=u({},n);return t}),{});return Object.values(u({},e,{},n)).reduce((function(e,t){var n=t["http://zdf.de/rels/target"],i=(0,r.default)(t,["http://zdf.de/rels/target"]);return f(n)&&(e[i.externalId]=u({},i)),n||(e[i.externalId]=u({},i)),e}),{})}t.load=v},function(e,t,n){"use strict";var i,r,a;n(13),n(36),n(5),r=[t,n(40)],void 0===(a="function"==typeof(i=function(e,t){function n(){var e={isResolved:!1,isRejected:!1,isDone:!1},t=new Promise((function(n,i){e.resolve=function(e){return t.isResolved=!0,t.isDone=!0,t.value=e,n(e)},e.reject=function(e){return t.isRejected=!0,t.isDone=!0,t.value=e,t.catch((function(e){return e})),i(e)}}));return Object.assign(t,e),t}var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,(i=t,i&&i.__esModule?i:{default:i}).default.deferred=n})?i.apply(t,r):i)||(e.exports=n}},function(e,t,n){"use strict";var i,r,a;n(13),n(17),r=[t,n(40),n(180)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=void 0,s=/^"?'?"?/,l=/"?'?"?$/,u=/\\"/g,c=function(e){return e&&e.replace(s,"").replace(l,"").replace(u,'"')};i.default.jsonParse=function(e){var t=void 0;if(e)try{t=JSON.parse(e)}catch(e){}return t},i.default.parsePseudo=function(e,t){var n="string"==typeof e,r=n?e:o(e);return e&&!n&&t&&(e[t]=r),i.default.jsonParse(c(r))},i.default.getPseudo=function(e){var t=i.default.getStyles(e,"::before"),n=t.content,r="none"==n;return!r&&n||!e||(n=r?t.fontFamily:i.default.getStyles(e).content),n},i.default.hasPseudoChanged=function(e,t){var n=e[t];return o(e)!=n},i.default.getStyles=r.default;var d={mqs:{},currentMQ:"",beforeMQ:""};Object.defineProperty(i.default,"cssConfig",{configurable:!0,enumerable:!0,get:function(){var e,t,n,r,a,o,s,l,u;return n=void 0,r=document.documentElement,a=i.default.parsePseudo(r)||{},o=i.default.getStyles(r,"::after"),s="",l=function(){var e=o.content;s!=e&&(s=e,i.default.cssConfig.beforeMQ=i.default.cssConfig.currentMQ,i.default.cssConfig.currentMQ=c(s),i.default.$&&i.default.$.Callbacks&&i.default.cssConfig.mqChange.fireWith(i.default.cssConfig))},e=!!1},u=function(){e||(e=!0,setTimeout(t,9))},Object.defineProperty(i.default,"cssConfig",{configurable:!0,enumerable:!0,writable:!0,value:Object.assign(d,a)}),Object.defineProperty(d,"mqChange",{configurable:!0,enumerable:!0,get:function(){return n||(i.default.resize.on(l),n=i.default.$.Callbacks()),n}}),document.addEventListener("DOMContentLoaded",u),window.addEventListener("load",u),l(),d}}),o=i.default.getPseudo,e.default=i.default})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){},a=r,o=r;var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"warn",value:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=o("WARNING: "+e+" "+t+" http://tinyurl.com/jxryd3s#"+e.toLowerCase(),i);a("warn",s)}},{key:"error",value:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=o("ERROR: "+e+" "+t+" http://tinyurl.com/jxryd3s#"+e.toLowerCase(),i);a("error",s)}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.formFieldError=t.default=t.PasswordInput=t.NicknameInput=t.FormField=t.EmailInput=void 0,n(34),n(305),n(611),n(9),n(8),n(5);var a=r(n(409));n(10);var o=r(n(114)),s=i(n(43)),l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,u=/^(?!.*\s)(?=.*[A-Z])(?=.*[0-9]).{8,}$/,c=function(e,t){var n="invalid"===e.errorStatus?{"data-error-elements":'[name="email"]'}:"all"===e.errorStatus?{"data-status":"500,501,502,503,504,403","data-error-elements":'[name="email"],[name="password"]'}:"401"===e.errorStatus?{"data-status":"401","data-error-elements":'[name="email"],[name="password"]'}:"agree"===e.errorStatus?{"data-error-elements":'[name="agree"]'}:"terms"===e.errorStatus?{"data-error-elements":'[name="terms"]'}:"privacy"===e.errorStatus?{"data-error-elements":'[name="privacy"]'}:"data"===e.errorStatus?{"data-error-elements":'[name="data"]'}:"passwordverification"===e.errorStatus?{"data-error-elements":'[name="newpassword"],[name="passwordverification"]'}:"newpassword"===e.errorStatus?{"data-error-elements":'[name="newpassword"]'}:"oldpassword"===e.errorStatus?{"data-error-elements":'[name="oldpassword"]'}:"invalid"===e.errorCode?{"data-error-code":"INVALID"}:"incomplete"===e.errorCode&&{"data-error-code":"INCOMPLETE"},i=void 0!==e.modifier?e.modifier:"";return s.default.createElement("p",(0,a.default)({key:t,className:"form-field-error error-item ".concat(i),role:"alert","data-message":e.label,"aria-labelledby":e.labelledby},n),s.default.createElement("span",{className:"error-msg",dangerouslySetInnerHTML:{__html:e.message}}))};t.formFieldError=c;var d=function(e){var t=e.onEmailChange,n=e.handleEmailBlur,i=e.values,r=e.inputValue,a=e.error,o=e.inputEmail,l=void 0!==i.labelModifier?i.labelModifier:"",u=void 0!==i.inputModifier?i.inputModifier:"";return s.default.createElement("label",{className:"form-field ".concat(l)},!0===i.showLabel&&s.default.createElement("span",{id:"label-".concat(i.id),className:"form-field-label ".concat(a?"has-error":"")},i.labelText),s.default.createElement("div",{className:"form-field-input-wrap"},s.default.createElement("input",{ref:o,value:r,id:i.id,className:"input ".concat(u),name:i.name,title:i.title,type:"email",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]{2,}",placeholder:i.placeholder,"data-profile-key":"email",onChange:function(e){t(e)},onB()}})),a&&s.default.createElement("p",{className:"form-field-error-detail",dangerouslySetInnerHTML:{__html:i.errorMsg}}))};t.EmailInput=d;var f=function(e){var t=e.onPasswordChange,n=e.handlePasswordBlur,i=e.values,r=e.inputValue,a=e.inputPassword,o=e.error,l=e.showText,u=void 0===l||l;return s.default.createElement("label",{className:"form-field"},!0===i.showLabel&&s.default.createElement("span",{id:"label-".concat(i.id),className:"form-field-label ".concat(o?"has-error":"")},i.labelText),s.default.createElement("div",{className:"password-input js-rb-live","data-module":"password-input"},s.default.createElement("div",{className:"form-field-input-wrap"},s.default.createElement("input",{ref:a,value:r,id:i.id,className:"input ".concat(i.customClass?i.customClass:""),title:i.title,type:"password",name:i.name,required:!0,placeholder:i.placeholder,onChange:function(e){t(e)},onB()}})),s.default.createElement("div",{className:"unmask-toggle",title:"Passwort einblenden","data-title-masked":"Passwort einblenden","data-title-unmasked":"Passwort ausblenden"},s.default.createElement("span",{className:"icon-308_view","aria-hidden":"true"}))),o&&u&&s.default.createElement("p",{className:"form-field-error-detail",dangerouslySetInnerHTML:{__html:i.errorMsg}}))};t.PasswordInput=f;var p=function(e){var t=e.onNicknameChange,n=e.values;return s.default.createElement("label",{className:"form-field",htmlFor:n.id},s.default.createElement("span",{id:"label-".concat(n.id),className:"form-field-label ".concat(n.showLabel?"":"visuallyhidden")},n.labelText),s.default.createElement("div",{className:"form-field-input-container"},s.default.createElement("div",{className:"form-field-input-wrap"},s.default.createElement("input",{className:"form-field-input input ".concat(n.inputModifier),name:n.name,id:n.id,type:"text",title:n.title,required:n.attributes,placeholder:n.placeholder,"data-profile-key":"name",onChange:function(e){t(e)}}))))};t.NicknameInput=p;t.FormField=function(e,t,n,i,r,o,l,u,c,d){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"text",p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",h=arguments[12],m=arguments[13],v=arguments[14],g=l&&{"data-module":"form-field-character-count"},y=!0===l?"show-remaining-characters js-rb-live":"".concat(l,"-show-remaining-characters js-rb-live"),b=l&&{"data-module":"form-field-character-count","data-remaining-characters":"0"},_=d&&{"data-next-field":d};return s.default.createElement("label",(0,a.default)({key:t,className:"form-field ".concat(l&&"js-rb-live"),htmlFor:e},g),s.default.createElement("span",{id:"label-".concat(e),className:"form-field-label ".concat(!o&&"visuallyhidden")},i),s.default.createElement("div",(0,a.default)({className:"form-field-input-container ".concat(y)},b),u&&s.default.createElement("span",{"aria-hidden":"true",className:"form-field-index"},t+1),s.default.createElement("div",{className:"form-field-input-wrap"},s.default.createElement("input",(0,a.default)({className:"form-field-input input ".concat(p),name:n,id:e,type:f,title:h,value:r,placeholder:m},c[0],_)))),s.default.createElement("div",{className:"form-field-error-detail hide",dangerouslySetInnerHTML:{__html:v}}))};var h=function(e){var t=e.classes,n=e.name,i=e.tracking,r=e.text,a=e.error,o=void 0!==a&&a,l=e.value1,u=void 0===l?"":l,c=e.value2,d=void 0===c?"":c,f=e.value3,p=void 0===f?"":f,h=e.scrollTop,m=void 0===h?"":h;return s.default.createElement("button",{className:t,type:"submit",name:n,"data-scroll-top":m,"data-track":i,disabled:o||!u||!d||!p},r)},m=function(e){var t=e.onAvatarChange;return new Array(26).fill(0).map((function(e,n){var i="avatar".concat((n+1).toString().padStart(2,"0"));return s.default.createElement("div",{key:n,className:"cell text-center"},s.default.createElement("div",{className:"b-avatar-item"},s.default.createElement("input",{name:"avatar",id:i,className:"avatar-input",type:"radio",value:i,onChange:t}),s.default.createElement("label",{className:"avatar-label",htmlFor:i},s.default.createElement("span",{className:"avatar-image js-rb-live","data-module":"avatar-image","data-avatar-image-avatar-id":i}))))}))},v=function(e){var t=(0,s.useState)({error:!1,value:""}),n=(0,o.default)(t,2),i=n[0],r=n[1],a=(0,s.useState)(""),v=(0,o.default)(a,2),g=v[0],y=v[1],b=(0,s.useState)({error:!1,value:""}),_=(0,o.default)(b,2),w=_[0],k=_[1],S=(0,s.useState)({error:!1,value:""}),O=(0,o.default)(S,2),E=O[0],P=O[1],T=(0,s.useState)(e.nicknameinput||""),x=(0,o.default)(T,2),C=x[0],A=x[1],I=(0,s.useState)(!1),D=(0,o.default)(I,2),j=D[0],L=D[1],N=(0,s.useState)(!1),M=(0,o.default)(N,2),R=M[0],F=M[1],z=(0,s.useState)(""),U=(0,o.default)(z,2),H=U[0],B=U[1],V=(0,s.useState)(!1),W=(0,o.default)(V,2),$=W[0],q=W[1],G=(0,s.useState)(!1),K=(0,o.default)(G,2),Y=K[0],Z=K[1],Q=e.errorfields.map((function(e,t){return c(e,t)})),J=function(e){var t=e.target.value.trim().toLowerCase(),n=l.test(t);r({value:t,error:!n}),$&&n&&q(!1)},X=function(){i.error&&i.value.length>0?q(!0):q(!1)},ee=function(e){y(e.target.value)},te=function(e){var t=e.target.value.trim(),n=u.test(t);k({value:t,error:!n}),$&&n&&q(!1)},ne=function(e){var t=e.target.value.trim(),n=u.test(t);P({value:t,error:!n}),Y&&n&&Z(!1)},ie=function(){w.error?q(!0):q(!1)}1)},ae=function(e){A(e.target.value)},oe=function(e){"agree"===e.target.name?L(e.target.checked):F(e.target.checked)},se=(0,s.useRef)(null),le=(0,s.useRef)(null),ue=function(e){e.preventDefault(),"email"===e.target.getAttribute("id")?se.current.focus():le.current.focus()};return s.default.createElement(s.default.Fragment,null,"login-form"===e.type?s.default.createElement("fieldset",null,s.default.createElement("input",{type:"hidden",name:"redirect_url",value:""}),$&&s.default.createElement("p",{className:"form-field-error error-item",role:"alert",style:{display:"block"}},s.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine"," ",s.default.createElement("a",{href:"",id:"email",title:"Link zum Formularfehler",onClick:ue},"E-Mail-Adresse"))),Q,s.default.createElement(d,{onEmailChange:J,handleEmailBlur:X,values:e.emailinput,inputValue:i.value,error:$,inputEmail:se}),s.default.createElement(f,{onPasswordChange:ee,values:e.passwordinput,inputValue:g}),"login-form"===e.type&&s.default.createElement("div",null,s.default.createElement("div",{className:"text-left"},s.default.createElement("button",{className:"button text-only small text-left js-rb-click js-track-click","aria-controls":"logindialog-password","data-module":"panelbutton",type:"button","data-track":JSON.stringify({deltaType:"click.navigation",action:e.button1,actionDetail:null,atiDeltaData:{page:"Mein ZDF - Login",page_title:"Mein ZDF - Login",page_chapter1:"Mein_ZDF",page_subsection:"Mein_ZDF",page_chapter2:"overlay",page_chapter3:null,page_type:"overlay",page_sophora_id:null,page_doc_id:null,page_broadcast:null,page_url:null,site_level2:"5",page_section:"5",click:"Passwort vergessen?",target_title:"Passwort vergessen?",click_chapter1:"Mein_ZDF",target_subsection:"Mein_ZDF",click_chapter2:"overlay",click_chapter3:null,target_sophora_id:null,target_type:"overlay",target_section:"5",target_url:null}})},e.button1)),s.default.createElement("div",{className:"content-right"},s.default.createElement(h,{classes:"login-submit button primary medium round js-track-click",tracking:'{"element": "Anmeldungsoverlay", "action": "Öffnen", "actionDetail": "Anmelden_abschicken", "targetAssetId": "'.concat(e.targetassetid,'"}'),text:e.submit,error:i.error,value1:i.value,value2:g,value3:"callback"})))):"pw-request-form"===e.type?s.default.createElement("fieldset",null,$&&s.default.createElement("p",{className:"form-field-error error-item",role:"alert",style:{display:"block"}},s.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine"," ",s.default.createElement("a",{href:"",id:"email",title:"Link zum Formularfehler",onClick:ue},"E-Mail-Adresse"))),Q,s.default.createElement(d,{onEmailChange:J,handleEmailBlur:X,values:e.emailinput,inputValue:i.value,error:$,inputEmail:se}),s.default.createElement("div",{className:"content-right"},s.default.createElement(h,{classes:"password-btn button primary round medium",name:"password-submit",scrollTop:!0,text:e.submit,error:i.error,value1:i.value,value2:"callback",value3:"callback"}))):"changepass-form"===e.type?s.default.createElement("fieldset",null,$&&s.default.createElement("p",{className:"form-field-error error-item",role:"alert",style:{display:"block"}},s.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine"," ",s.default.createElement("a",{href:"",id:"password",title:"Link zum Formularfehler",onClick:ue},"Passwort-Eingabe"))),Q,s.default.createElement(f,{onPasswordChange:ee,values:e.passwordinput[0],inputValue:g}),s.default.createElement(f,{onPasswordChange:te,handlePasswordBlur:ie,values:e.passwordinput[1],inputValue:w.value,inputPassword:le,error:$}),s.default.createElement(f,{onPasswordChange:ne,handlePasswordBlur:re,values:e.passwordinput[2],inputValue:E.value,error:Y}),s.default.createElement("p",{className:"pass-text"},e.infotext),s.default.createElement("div",{className:"text-left"},s.default.createElement("button",{className:"button text-only small text-left js-rb-click js-dialog-close","aria-controls":"logindialog-password","data-dialog":'{"id": "aria-login-dialog", "openPanel": "logindialog-password"}',type:"button"},e.button1)),s.default.createElement("div",{className:"content-right"},s.default.createElement(h,{classes:"password-btn button primary round medium",name:"password-submit",scrollTop:!0,text:e.submit,error:w.error,value1:g,value2:w.value,value3:E}))):"tivi-registration"===e.type?s.default.createElement("fieldset",{className:"checkbox-wrap left clearfix","aria-required":"true",role:"radiogroup"},Q,s.default.createElement("input",{name:"agree",id:"tivi-agree",className:"checkbox-input",type:"checkbox",value:"1",onChange:oe}),s.default.createElement("label",{id:"label-tivi-agree",className:"checkbox-label",htmlFor:"tivi-agree"},e.button1),s.default.createElement("input",{name:"data",id:"tivi-data",className:"checkbox-input",type:"checkbox",value:"1",onChange:oe}),s.default.createElement("label",{id:"label-tivi-data",className:"checkbox-label",htmlFor:"tivi-data"},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.button2}})),s.default.createElement(h,{classes:"reg-btn button primary round medium js-rb-click js-track-click",tracking:'{"element": "Anmeldungsoverlay", "action": "Öffnen", "actionDetail": "Datenschutzbedingungen_akzeptieren", "targetAssetId": "'.concat(e.targetassetid,'"}'),text:e.submit,value1:j,value2:R,value3:"callback"})):"tivi-registration-nick"===e.type?s.default.createElement(s.default.Fragment,null,Q,s.default.createElement(p,{onNicknameChange:ae,values:e.nicknameinput}),s.default.createElement("p",null,e.infotext),s.default.createElement("div",{className:"content-right"},s.default.createElement(h,{classes:"reg-btn button primary round medium js-rb-click js-track-click",tracking:'{"element": "Anmeldungsoverlay", "action": "Öffnen", "actionDetail": "Spitzname_auswählen", "targetAssetId": "'.concat(e.targetassetid,'"}'),text:e.submit,value1:C,value2:"callback",value3:"callback"}))):"tivi-registration-avatar"===e.type?s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"clearfix"},s.default.createElement("p",{className:"tivi-half"},e.tiviavatar),s.default.createElement(h,{classes:"reg-btn button primary round medium show-only-in-app js-track-click",tracking:'{"element": "Anmeldungsoverlay", "action": "Öffnen", "actionDetail": "Kinderprofil_abschicken", "targetAssetId": "'.concat(e.targetassetid,'"}'),text:e.submit,value1:H,value2:"callback",value3:"callback",scrollTop:!0})),Q,s.default.createElement("fieldset",{className:"checkbox-wrap","aria-required":"true",role:"radiogroup"},s.default.createElement("div",{className:"grid-x small-up-3"},s.default.createElement(m,{onAvatarChange:function(e){B(e.target.value)}}))),s.default.createElement("p",null,e.infotext),s.default.createElement(h,{classes:"reg-btn button primary round medium hide-only-in-app js-track-click",tracking:'{"element": "Anmeldungsoverlay", "action": "Öffnen", "actionDetail": "Kinderprofil_abschicken", "targetAssetId": "'.concat(e.targetassetid,'"}'),text:e.submit,value1:H,value2:"callback",value3:"callback",scrollTop:!0})):"changedata-form"===e.type?s.default.createElement("fieldset",null,$&&s.default.createElement("p",{className:"form-field-error error-item",role:"alert",style:{display:"block"}},s.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine"," ",s.default.createElement("a",{href:"",id:"email",title:"Link zum Formularfehler",onClick:ue},"E-Mail-Adresse"))),Q,s.default.createElement(p,{onNicknameChange:ae,values:e.nicknameinput}),s.default.createElement(d,{onEmailChange:J,handleEmailBlur:X,values:e.emailinput,inputValue:i.value,error:$,inputEmail:se}),s.default.createElement(f,{onPasswordChange:ee,values:e.passwordinput,inputValue:g}),s.default.createElement("div",{className:"text-left m-hide-email-change-disabled"},s.default.createElement("button",{className:"button text-only js-rb-click js-dialog-close",type:"button","data-dialog":'{"id": "aria-login-dialog", "openPanel": "logindialog-password"}'},e.button1)),s.default.createElement(h,{classes:"save-btn button primary round medium",name:"change-submit",text:e.submit,error:i.error,value1:C,value2:i.value,value3:g})):"passwordreset-form"===e.type&&s.default.createElement("fieldset",null,$&&s.default.createElement("p",{className:"form-field-error error-item",role:"alert",style:{display:"block"}},s.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine"," ",s.default.createElement("a",{href:"",id:"password",title:"Link zum Formularfehler",onClick:ue},"Passwort-Eingabe"))),Q,s.default.createElement(f,{onPasswordChange:te,handlePasswordBlur:ie,values:e.passwordinput[0],inputValue:w.value,inputPassword:le,error:$}),s.default.createElement("div",{className:"form-field-caption ".concat(w.error?"has-error":""),dangerouslySetInnerHTML:{__html:e.infotext}}),s.default.createElement(f,{onPasswordChange:ne,handlePasswordBlur:re,values:e.passwordinput[1],inputValue:E.value,error:Y}),s.default.createElement("div",{className:"form-field-caption ".concat(E.error?"has-error":""),dangerouslySetInnerHTML:{__html:e.infotext}}),s.default.createElement("div",{className:"content-right"},s.default.createElement(h,{classes:"password-btn button primary round medium",name:"password-submit",text:e.submit,error:w.error,value1:w,value2:E,value3:"callback"}))))};t.default=v},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=i(n(104)),c=window.rb,d=function(e){function t(e,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{name:"dialog"}}},{key:"events",get:function(){return{closeDialog:"closeDialog"}}}]),(0,s.default)(t,[{key:"closeDialog",value:function(){this.close()}},{key:"close",value:function(){this.resetValidation(),this.resetInput(),(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),this.trigger("close")}},{key:"resetValidation",value:function(){}},{key:"resetInput",value:function(){}}]),t}(u.default);c.live.register("dialog-base",d);var f=d;t.d(e,t){e.exports=!0},function(e,t){e.exports=function(e){try{return!!e()}c+i).toString(36))}},function(e,t,n){"use strict";(function(n){var i,r,a,o;o=function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="undefined"!=typeof window?window:void 0!==n?n:{};e.default=t},r=[t],void 0===(a="function"==typeof(i=o)?i.apply(t,r):i)||(e.exports=a)}).call(this,n(120))},function(e,t,n){"use strict";var i=n(42),r=n(2);n(22),n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15);var a=r(n(53));n(28),n(26),n(18),n(36);var o=r(n(100));n(84);var s=r(n(101));n(85),n(97);var l=r(n(21));n(9),n(8),n(5);var u=r(n(0)),c=r(n(1));n(176);var d=r(n(204)),f=r(n(113)),p=i(n(205));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=window.rb,g=f.default.local,y=function(){function e(t,n){var i=this;(0,u.default)(this,e),this.options={http:{},limit:50},this.restored=!1,this.state={entrie.entries[e]||rn i.state.entries}y(i.state.entries)},(0,d.default)(this),this.options=m({},this.options,{},n),this.storageKey=t,this.init()}var t,n,i,r;return(0,c.default)(e,[{key:"init",value:function(){var e=this;this.restore(),this.options.loadRemoteData&&(this.load().then((function(t){if(null==t?void 0:t.entries){var n=t.entries,i=p.mergeItems(e.state.entries,n);e.setState({entries:i})}else e.setState({entries:{}})})).catch((function(e){v.logWarn(e)})),this.setState({lastPullDate:(new Date).toISOString()})),this.publish("change",{items:this.getItemsArray()})}},{key:"restore",value:function(){try{var e=g.get(this.storageKey);this.state.entries={},this.state=m({},this.state,{},e),this.restored=!0}catch(e){v.logError(e)}}},{key:"setOptions",value:function(e){this.options=m({},this.options,{},e)}},{key:"setState",value:function(e){var t=m({},this.state);this.state=m({},t,{},e);try{g.set(this.storageKey,this.state)}catch(e){v.logError(e)}JSON.stringify(t.entries)!==JSON.stringify(e.entries)&&this.publish("change",{items:this.getItemsArray()})}},{key:"addItem",value:function(e){var t=this.state.entries[e.externalId]||{};return this.setState({entries:m({},this.state.entries,(0,l.default)({},e.externalId,m({},t,{},e,{eventDate:e.eventDate||(new Date).toISOString()})))}),this.applyLimit(),this}},{key:"applyLimit",value:function(){var e=Object.values(this.state.entries);if(e.length>this.options.late(i)-new Date(n)})).slice(0,this.options.limit);this.setState({entries:t.reduce((function(e,t){return m((0,l.default)({},t.externalId,t),e)}),{})})}}},{key:"getAllItemsArray",value:(r=(0,s.default)(o.default.mark((function e(){var t,n=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return n.getItemsArray()},e.abrupt("return",this.load(999).then((function(e){if(!e.entries)return t();var i=e.entries;return p.itemsToSortedArray(p.mergeItems(n.state.enn v.logWarn(e),t()})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"load",value:(i=(0,s.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.http&&this.options.http.url){e.next=2;break}return e.abrupt("return",Promise.resolve({}));case 2:return n=m({method:"GET",limit:t},this.options.http),e.abrupt("return",p.load(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"removeAll",value:(n=(0,s.default)(o.default.mark((function e(){var t,n,i=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(i.length>0&&void 0!==i[0])||i[0],this.setState({entries:{}}),this.options.http.deleteUrl&&!1!==t){e.next=4;break}return e.abrupt("return");case 4:return n={method:"DELETE",headers:m({},this.options.http.headers)},e.abrupt("return",fetch(this.options.http.deleteUrl,n).catch((function(e){return v.logWarn(e)})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"removeItems",value:(t=(0,s.default)(o.default.mark((function e(t,n){var i,r,s,l,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options.http.deleteUrl&&!1!==n){e.next=5;break}return i=this.state.entries,r=Obj(n)||(e[n]=i[n]),e}),{}),this.setState({entries:r}),e.abrupt("return",Promise.resolve());case 5:return s={method:"DELETE",headers:m({},this.options.http.headers),body:JSON.stringify({entries:[].concat((0,a.default)(t))})},(l=fetch(this.options.http.deleteUrl,s).catch((function(e){return v.logWarn(e)}))).then((function(){var e=Object.values(u.state.entries).filter((function(e){var n=e.externalId;return!1===t.inc[t.externalId]=t,e}),{});u.setState({entries:e})})),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"save",value:function(){var e=this;if(this.options.http.saveUrl){var t={method:"PATCH",headers:m({},this.options.http.headers),body:JSON.stringify({entries:Object.values(this.state.entries)})};fetch(this.options.htstatus?{}:e.json()})).then((function(t){if(t.dropped&&t.dropped.length){var n=Object.values(e.state.entries).reduce((function(e,n){return t.dropped.find((function(e){return e.externalId===n.externalId}))||(e[n.externalId]=m({},n)),e}),{});e.setState({entries:n})}})).catch((function(e){v.logWarn(e)})),this.setState({lastPushDate:(new Date).toISOString(),nextPushDate:null})}}}]),e}();t.default=y},function(e,t,n){"use strict";function i(e){clearTimeout(e.timeout),!e.originalEventWasPrevented&&e.originalTarget?(e.originalTarget.setAttribute("data-no-tracking",!0),e.originalTarget.click(),e.originalTarget.setAttribute("data-no-tracking",!1)):rb.logWarn("original click was prevented, doing nothing")}Object.defineProperty(t,"__esModule",{value:!0}),t.delayEventAndStartTimer=function(e,t){var n=Object;return n.originalTarget=t,n.originalEventWasPrevented=e.defaultPrevented,e.preventDefault(),e.stopPropagation(),n.ING TIMEOUT"),i(n)}),1500),n},t.delayOriginalEvent=function(e,t){return t=e.defaultPrevented,e.preventDefault(),e.stopPropagllYear()-Number(fault:return null}},t.resumeOriginalEvent=i,n(102)},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.store=t.persistor=void 0;var r=n(189),a=i(n(551)),o=n(982),s=n(554),l=i(n(555)),u=n(556),c=[l.default];if(window.zdfsite.enableJavascriptLogging){var d=(0,s.createLogger)({level:"info",collapsed:!0});c.push(d)}var f={keyPrefix:"zdf",key:"user",storage:a.default},p=(0,o.persistReducer)(f,u.rootReducer),h=(0,r.createStore)(p,void 0,(0,r.compose)(r.applyMiddleware.apply(void 0,c)));t.store=h;var m=(0,o.persistStore)(h);t.persistor=m},function(e,t,n){"use strict";(function(e){n(85),n(36),n(9),n(8),n(5),n(33),n(28),n(26),n(14);var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11);t=function(){var e=n(115),t=n(373),s=n(374),l=n(285),u=[].concat;return new(function(e){function n(e,r){var o;i(this,n),o=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,r));var l={maxRequests:6};return t.setFetchOptions(l),s.setFetchOptions(l),o}return o(n,e),r(n,[{key:"fetch",value:function(e,n){var i=this,r=zdfsite.user.getState().getUserProfile().subscriptions||[],a=this.getBookmarksToUpdate().map((function(e){return s.getData(e)})),o=r.filter((function(e){if("string"!=typeof e.path)return rb.logWarn("subscription has no path",e),!1;var t=e.path.split("/");t.pop();var n=t.map((function(e,t,n){return n.slice(0,t+1).join("/")}));return!r.some((function(e){return n.includes(e.path)}))})).map((function(e){return t.getData(e)}));Promise.all(a).then((function(t){Promise.all(o).then((function(r){i.success({bookmarkData:t,subscriptionData:r},e,n)})).catch((function(e){rb.logError("error loading subscriptions",e),i.promises[n].reject()}))}))}},{key:"getBookmarksToUpdate",value:function(){var e=zdfsite.user.getState().profile.bookmarks||[],t=Date.now()-1728e5;return e.filter((function(e){var n=l(e.lastUpdated||e.date).getTime()||0;return!n||n<t}))}},{key:"generateUrl",value:function(){var e=zdfsite.user.getState().profile;return e.subscriptions.map((function(e){return e.path})).join(",")+e.lastNotificationsHintDelete+e.lastNotificationsDelete}},{key:"getLastChanceBookmarks",value:function(){var e=zdfsite.user,t=Date.now(),n=t+1728e5,i=e.getState().profile,r=(new Date(i.lastNotificationsDelete||0).getTime()||0)+1728e5,a=[];return i.bookmarks.forEach((function(e){var i=new Date(e.endDate||0).getTime()||0;i>t&&i<=n&&i>r&&a.push({timeStamp:i,id:e.id,externalId:e.externalId,lastChance:!0})})),a}},{key:"addLastBookmarks",value:function(e){var t=zdfsite.user.getState().profile,n=(l(t.lastNotificationsHintDelete||0).getTime()||0)+1728e5,i=this.getLastChanceBookmarks().sort((function(e,t){return e.timeStamp-t.timeStamp})),r=i.filter((function(e){return e.timeStamp>n}));e.full=[].concat(i,e.full),e.hint=[].concat(r,e.hint)}},{key:"processData",value:function(e){var t=e.bookmarkData,n=e.subscriptionData;zdfsite.user.dispatch("updateBookmarkList",t);var i=zdfsite.user.getState().profile,r=l(i.lastNotificationsHintDelete).getTime()||0,a={},o=u.apply([],n),s={};return a.full=o.filter((function(e){return!0!==s[e.externalId]&&(s[e.externalId]=!0,!0)})),a.full.sort((function(e,t){return t.timeStamp-e.timeStamp})),a.hiturn e.timeStamp>r})):a.full,this.addLastBookmarks(a),a}}]),n}(e))("notifications")},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i,r,a;n(34),n(5),r=[t,n(40)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n,i=(n=t)&&n.__esModule?n:{default:n},r=Math.round(Date.now()*Math.random());function a(){return(r+=Math.round(1e3*Math.random())).toString(36)}i.default.getID=a})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[t,n(40),n(236)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}i.default.Symbol=window.Symbol,i.default.Symbol||(i.default.Symbol=function(e){return(e=e||"_")+(0,r.default)()}),e.default=i.default.Symbol})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(13),r=[t,n(40),n(140)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}i.default.debounce=function(e,t){var i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=function d(){var f=Date.now()-o;f<t.delay||c<t.minFrame?(l=!1,u=!1,s=setTimeout(d,Math.max(t.delay-f,17*(t.minFrame-c)))):l?u||t.write?(s=null,e.apply(a,i)):(u=!0,(0,n.measurePhase)().then(d)):(l=!0,(0,r.default)(d))},f=function e(){c++,s&&t.minFrame<c&&(0,r.default)(e)};return(t=Object.assign({delay:100,minFrame:0},t)).delay=Math.max(40,t.delay)-18,function(){o=Date.now(),c=0,i=arguments,a=t.that||this,s||(t.minFrame&&(0,r.default)(f),s=setTimeout(d,t.delay))}},e.default=i.default.debounce})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getColorSchema=function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem(i),n=!1;"true"===t?n=!0:"false"===t?n=!1:e&&(n=!0);return n?"dark":"light"},n(10);var i=n(48).STORAGE_KEYS.USE_DARKMODE.name},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.createTrackingObjectForClickEvents=function(e,t,n,i,r,a,o,c,d,f,p,h,m,v){var g=v||null;"faktenbox"===(null==i?void 0:i.toLowerCase())&&l.externalId&&(g=l.externalId);return s({click:(null==e?void 0:e.page.name)||t.page.name,click_chapter1:(null==e?void 0:e.page.chapter1)||t.page.chapter1,click_chapter2:(null==e?void 0:e.page.chapter2)||t.page.chapter2,click_chapter3:(null==e?void 0:e.page.chapter3)||t.page.chapter3,target_sophora_id:(null==e?void 0:e.customVars.site.chapter3)||t.customVars.site.chapter3,target_title:(null==e?void 0:e.page.name)||t.page.name,target_subsection:(null==e?void 0:e.page.chapter1)||t.page.chapter1,target_section:(null==e?void 0:e.page.level2)||t.page.level2,target_type:(null==e?void 0:e.page.chapter2)||t.page.chapter2,target_url:n||window.location.href,function:i,function_detail:r,vpos:a,hpos:o,page:t.page.name,page_chapter1:t.page.chapter1,page_chapter2:t.page.chapter2,page_chapter3:t.page.chapter3,site_level2:t.page.level2,page_sophora_id:t.customVars.site.chapter3,page_title:t.page.name,page_subsection:t.page.chapter1,page_section:t.page.level2,page_type:t.page.chapter2,page_url:window.location.href,page_dark_mode:c,page_broadcast:t.event.customObject.broadcast,page_doc_id:l.docId,page_external_sophora_id:l.externalId,page_referrer_url:document.referrer,target_external_sophora_id:g},u(),{ab_config:d,ab_group:f},p||{},{},h||{},{},m||{})},t.createTrackingObjectForOnSiteAdsEvent=function(e,t,n,i,r,a,o,c,d,f,p){return s({onsitead_type:"Self promotion",onsitead_campaign:e,onsitead_advertiser:t||n.event.customObject.broadcast||"ZDF",target_sophora_id:null==i?void 0:i.customVars.site.chapter3,target_title:null==i?void 0:i.page.name,target_subsection:null==i?void 0:i.page.chapter1,target_section:null==i?void 0:i.page.level2,target_type:null==i?void 0:i.page.chapter2,target_url:r,function:e,function_detail:a,page:n.page.name,page_chapter1:n.page.chapter1,page_chapter2:n.page.chapter2,page_chapter3:n.page.chapter3,site_level2:n.page.level2,page_sophora_id:n.customVars.site.chapter3,page_title:n.page.name,page_subsection:n.page.chapter1,page_section:n.page.level2,page_type:n.page.chapter2,page_url:window.location.href,page_dark_mode:o,page_broadcast:n.event.customObject.broadcast,page_doc_id:l.docId,page_external_sophora_id:l.externalId,page_referrer_url:document.referrer},u(),{ab_config:c,ab_group:d},f||{},{},p||{})},t.createTrackingObjectForPageDisplayEvent=function(e,t,n,i,r){var a=r;(null==r?void 0:r.atInternetDeltaPageView)&&(a=r.atInternetDeltaPageView);return s({page:e.page.name,page_chapter1:e.page.chapter1,page_chapter2:e.page.chapter2,page_chapter3:e.page.chapter3,site_level2:e.page.level2,page_sophora_id:e.customVars.site.chapter3,page_title:e.page.name,page_subsection:e.page.chapter1,page_section:e.page.level2,page_type:e.page.chapter2,page_url:window.location.href,page_referrer_url:document.referrer,page_dark_mode:t,page_broadcast:e.event.customObject.broadcast,page_doc_id:l.docId,page_external_sophora_id:"/altersverifikation"===r.page_chapter1&&"overlay"===r.page_type?null:l.externalId},u(),{ab_config:n,ab_group:i},a)},t.formatStringToJson=function(e){for(var t={},n=e.split("|"),i=0;i<n.length;i++){var r=n[i].split(":");2===r.length?t[r[0]]=r[1]:t[r[0]]=""}return t},t.getUser*)*$","i").test(e)},t.sanitizeData=function(e){for(var t in e)["",null].includes(e[t])&&delete e[t];return e},n(14),n(82),n(10);var r=i(n(21));n(28),n(26);var a=n(233);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}window.rb;var l=window.zdfsite;function u(){var e=l.user.getState(),t=e.isLoggedIn,n=e.profile;if(!t)return{};var i=n.id,r=n.gender,o=n.yearOfBirth,s={user_id:i,user_g:null,user_a:null};return r&&(s.user_g=(0,a.getGenderCode)(r)),o&&(s.user_a=(0,a.getAge)(o)),s}},function(e,t,n){"use strict";var i,r,a;r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments[3],r=arguments[4],a=void 0,o=void 0,s=!1,l=e.getBoundingClientRect();if(l.top||l.left||l.right||l.bottom||e.getClientRects().length){var u=0,c=0,d=i||window.innerWidth,f=r||window.innerHeight;t&&(u-=t,c-=t,d+=t,f+=t),(a=l.top<=f&&l.bottom>=u&&l.left<=d&&l.right>=c)&&(s=a,1==n?s=l.top>=u&&l.bottom<=f&&l.left>=c&&l.right<=d:n&&(o=Math.min(l.width,d)*Math.min(l.height,f),s=(Math.min(l.bottom,f)-Math.max(l.top,u))*(Math.min(l.right,d)-Math.max(l.left,c))/o>=n))}return s}})?i.apply(t,r)[s[d]])}}return l}},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.yearIsInAllowedRange=c,n(10);var a=r(n(114));n(9),n(8),n(5),n(102);var o=i(n(43)),s=n(413),l=(new Date).getFullYear(),u=l-150;function c(e){return"number"==typeof Number(e)&&(e>=u&&e<=l)}var d=function(e){var t=e.onChange,n=e.values,i=e.defaultValue,r=void 0===i?"":i,d=(0,o.useState)(!1),f=(0,a.default)(d,2),p=f[0],h=f[1],m=(0,o.useState)("string"==typeof r?r.length:0),v=(0,a.default)(m,2),g=v[0],y=v[1],b=(0,o.useState)(r),_=(0,a.default)(b,2),w=_[0],k=_[1];return o.default.createElement(s.FormFieldWrapper,{values:n,error:p},o.default.createElement("div",{className:"form-field-input-wrap form-field-birth-year-input-wrap"},o.default.createElement("input",{value:w,id:n.id,className:"input birth-year-input",name:n.name,type:"number",min:u,max:l,maxLe.preventDefault()},onChange:function(e){var n=e.target.value,i=n.length;y(Math.min(i,4)),i<5&&(k(n),null==t||t(n))},onBlur:function(e){var t=e.target.value;h(!!t&&!c(t))},placeholder:n.placeholder}),o.default.createElement("span",{className:"birth-year-input-counter ".concat(p?"has-error":"")},g,"/4")))};t.default=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.genderMap=t.default=void 0;var r=i(n(114));n(170),n(9),n(8),n(5);var a=i(n(43)),o=i(n(414)),s={"no-selection":"keine Angabe",WEIBLICH:"weiblich",MAENNLICH:"männlich",DIVERS:"divers"};t.genderMap=s;var l=function(e){var t=e.onChange,n=e.values,i=e.defaultChecked,l=void 0===i?"no-selection":i;return a.default.createElement(o.default,{options:Oblabel:t[1],value:n}})),defaultChecked:l,onChange:t,values:n})};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.passwordsMatch=t.passwordQuality=t.notEmpty=t.inputChecked=void 0,n(n(e,t){return e===t};t.passwordQuality=function(e){var t=[],n=e.value;return!n||n.length<8?(t.push("Password must be at least 8 characters in length."),t):/[A-ZÄÖÜ]/.test(n)?(/\d/.test(n)||t.push("Password must contain at least 1 digit characters."),t):(t.push("Password must contain at least 1 uppercase character){return!!e&&e.checked};t.notEmpty=function(e){return!!e&&e.value.replace(/\s/g,"").length>0}},function(e,t,n){"use strict";var i,r,a;n(15),n(17),n(102),n(10),r=[t,n(66),n(70),n(78),n(71),n(77),n(429),n(430),n(723),n(724)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o){Object.defineProperty(e,"__esModule",{value:!0});var s=p(t),l=p(n),u=p(i),c=p(r),d=p(a),f=p(o);function p(e){return e&&e.__esModule?e:{default:e}}var h=a.Component.$,m=/\{index}/g,v=d.default.prefixed("order")||d.default.prefixed("flexOrder"),g=!!v,y=d.default.prefixed("transform"),b=(0,f.default)("transform","translate3d(0,0,0)"),_=function(e){function t(n,i){(0,s.default)(this,t);var r=(0,l.default)(this,e.call(this,n,i));return r.usesTransform=r.options.useTransform&&!!y,r._pos=0,r._selectedIndex=r.options.selectedIndex,r.scroller=r.query(".{name}{e}content"),r.$scroller=h(r.scroller),r.viewport=r.query(".{name}{e}viewport"),r.$pagination=h(r.query(".{name}{e}pagination")),r.$pageLength=h(r.query(".{name}{e}page{-}length")),r.$currentIndex=h(r.query(".{name}{e}current{-}index")),r.$paginationBtns=h([]),r.onslide=h.Callbacks(),r.setOption("easing",r.options.easing),r.setOption("dragEasing",r.options.dragEasing),r.setOption("duration",r.options.duration),r.calculateLayout=r.calculateLayout.bind(r),r.throttledCalculateLayout=d.default.throttle(r.calculateLayout),r.reflow=r.throttledCalculateLayout,r.setPos=d.default.rAF(r._setPos,{that:r,throttle:!0}),d.default.rAFs(r,{throttle:!0},"_writeLayout","_createPagination","_switchOff","setSwitchedOffClass","_updateControls"),r._slideProgress=r._slideProgress.bind(r),r._slideComplete=r._slideComplete.bind(r),r._dragStart=r._dragStart.bind(r),r._dragEnd=r._dragEnd.bind(r),r._dragMove=r._dragMove.bind(r),r._generateHelper(),r._setupEvents(),r.options.switchedOff?r.setSwitchedOffClass():r.setOption("switchedOff",!1),r}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"defaults",get:function(){return{switchedOff:!1,centerMode:!1,selectedIndex:0,scrollStep:"auto",mouseDrag:!0,dragExclude:!1,easing:"ease-in-out",dragEasing:"0.1, 0.25, 0.1, 1.03",duration:600,paginationItemTpl:'<span class="{name}{e}pagination{-}btn"></span>',excludeCell:!1,excludeHiddenCells:!0,useTransform:!0,carousel:!1,mandatorySnap:!1,startOrder:-1,endOrder:99,usePx:!1,wheel:!0}}}]),t.prototype.setOption=function(t,n,i){switch(e.prototype.setOption.call(this,t,n,i),t){case"centerMode":case"scrollStep":case"carousel":this._calculatePages(),this._writeLayout(),"carousel"==t&&n&&this.$queryAll(".{name}{e}btn{-}next, .{name}{e}btn{-}prev").prop({disabled:!1}).removeClass(d.default.statePrefix+"disabled");break;case"easing":this._easing=d.default.addEasing(n),this.easing=this._easing;break;case"dragEasing":this._dragEasing=d.default.addEasing(n);break;case"duration":this.duration=n,this.maxDuration=1.2*n,this.minDuration=n/1.2;break;case"switchedOff":n?this._switchOff():this._switchOn();break;case"excludeCell":case"excludeHiddenCells":this.updateCells()}},t.prototype._switchOff=function(){h.fn.draggy&&h(this.viewport).draggy("destroy");var e={};this.$cells.rbToggleState("active{-}done",!1).rbToggleState("active",!1).rbToggleState("activated{-}done",!1).rbToggleState("activated",!1),e[v]="",this.$cells.css(e),this.$scroller.css({position:"",left:"",transform:""}),h(this.viewport).css({position:""}),this.helperElem.style.display="none",this.$pagination.html(""),this.$paginationBtns=h([]),this.setSwitchedOffClass()},t.prototype.setSwitchedOffClass=function(){this.element.classList.toggle(d.default.statePrefix+"switched"+d.default.nameSeparator+"off",this.options.switchedOff).setSwitchedOffClass()},t.prototype._generateHelper=function(){this.helperElem=h(document.createElement("div")).attr({class:"js"+d.default.nameSeparator+this.name+d.default.elementSeparator+"helper",style:"width:0;padding:0;margin:0;visibility:hidden;border:0;height:100%;min-height:9px"}).css({webkitFlexGrow:0,flexGrow:0,display:this.options.switchedOff?"none":""}).get(0),this._setOrder(this.helperElem,this.options.startOrder)},t.prototype._mainSetup=function(){var e=this;d.default.rAFQueue((function(){h(e.viewport).css({position:"relative"}),e.$scroller.css({position:"relative"}),e.helperElem.style.display="",e._updateControls(),e._slideComplete()}),!0)},t.prototype._setupEvents=function(){this._setupFocusScroll()},t.prototype._setupFocusScroll=function(){var e=this,t="."+this.name+d.default.elementSeparator+"cell",n=!1,i=d.default.utilPrefix+"keyboardfocus"+d.default.nameSeparator+"within",r={capture:!0,passive:!0},a=function(){e.viewport.scrollLeft=0},o=function(r){var o,s,l;e.options.switchedOff||(n||(l="focus"==r.type?r.target:document.activeElement)&&l.closest&&d.default.root.classList.contains(i)&&(o=l.closest(t))&&!0!==e.isCellVisible(o)&&(s=e.getPageIndexOfCell(o))!=e._selectedIndex&&(e.selectedIndex=s),setTimeout(a),a()n=!0,setTimeout(s,99))};this.scroller.addEventListener("mousedown",l,r),this.scroller.addEventListener("touchstart",l,r),this.scroller.addEventListener("touchend",l,r),this.scroller.addEventListener("click",l,r),this.scroller.addEventListener("focus",o,r),this.viewport.addEventListener("scroll",o)},t.prototype._snapTo=function(e,t,n){var i,r=t+Math.abs(e);n=Math.abs(n),this.easing=this._dragEasing,e&&(r>33||r>9&&n>99||r>3&&n>200)?(t>240&&!this.options.mandatorySnap&&n>99?(t=(t-230)/250*this.velUnit,e<0&&(t*=-1)):t=0,i=this[e<0?"getNext":"getPrev"](t),this.selectIndex(i)):this.selectNearest()},t.prototype.getNearest=function(){var e,t,n=Number.MAX_VALUE,i=0,r=this.selectedIndex,a={prev:this.getPrev()+this.baseIndex,next:this.getNext()+this.baseIndex};for(e in a.next-a.prev>1&&(a.cur=a.next-1),a)((t=Math.abs(this._pos-this._getPosition(a[e])))<n||r==a[e]&&t-.9<=n)&&(n=t,i=a[e]);return i-this.baseIndex},t.prototype.selectNearest=function(e){return this.selectIndex(this.getNearest(),e)},t.prototype._getPosition=function(e){var t=this.viewportWidth/2,n=this.pageData[e],i=n.l;return this.options.centerMode?i=t+-1*i-(n.r-i)/2:i*=-1,!this.isCarousel&&i<this.minScroll&&(i=this.minScroll),i||0},t.prototype.getNext=function(e){var t,n,i=-1*(this._pos+(e||0))+1,r=this.pageData.length-1;for(t=0,n=r+1;t<n;t++)if(-1*this._getPosition(t)>i){r=t;break}return r-this.baseIndex},t.prototype.selectNext=function(e){return this.selectIndex(this.getNext(),e)},t.prototype.getPrev=function(e){for(var t=-1*(this._pos+(e||0))-1,n=0,i=this.pageData.length-1;i>=0;){if(-1*this._getPosition(i)<t){n=i;break}i--}return n-this.baseIndex}ndex(this.getPrev(),e)},t.prototype.getPageIndexOfCell=function(e){"number"!=typeof e&&(e=this.$cells.index(e));var t=this.cellData[e];return t?t[t.isSide?"uIndex":"pageIndex"]:-1}tPageIndexOfCell(e),t)},t.prototype.isCellVisible=function(e,t){var n,i=void 0,r=void 0,a=void 0,o=!1,s=-1*("number"==typeof t?t:t&&null!=this._endPos?this._endPos:this._pos),l=s+this.viewportWidth,u=s,c=l;return"number"!=typeof e&&(e=this.$cells.index(e)),(n=this.cellData[e])&&(s-=a=.6*e+1,l+=a,u+=a,c-=a,i=n.isSide?n.ul:n.l,r=n.isSide?n.ur:n.r,s<=i&&l>=r?o=!0:(u<=i&&c>=i||u<=r&&c>=r)&&(o="partial")),o},t.prototype._slideProgress=function(e,t){this._setPos((this._animEnd-this._animStart)*this.easing(t)+this._animStart)},t.prototype._slideComplete=function(){var e=this.pageData[this._selectedIndex+this.baseIndex],t=d.default.statePrefix+"active"+d.default.nameSeparator+"done";this.isAnimated=!1,this.$cells.removeClass(t),this.easing=this._easing,e&&(e.$cellElems||(e.$cellElems=h(e.cellElems))).addClass(t).addClass(d.default.statePrefix+"activated"+d.default.nameSeparator+"done"),this.trigger(this._evtName+"completed")},t.prototype.selectNextIndex=function(){var e=this._selectedIndex+1+this.baseIndex;e<this.pageData.length&&(e-=this.baseIndex,this.selectedIndex=e)},t.prototype.selectPrevIndex=function(){var e=this._selectedIndex-1+this.baseIndex;e>=0&&(e-=this.baseIndex,this.selectedIndex=e)},t.prototype.selectIndex=function(e,t){var n,i,r,a,o=e+this.baseIndex;if(!arguments.length||o<0||o>=this.pageData.length||!this.$cells.length)return this._selectedIndex;if(!this.options.switchedOff){if(a=this._selectedIndex||0,r=this._getPosition(o),e<0?e=this.baseLength+e:e>=this.baseLength&&(e-=this.baseLength),this.isCarousel||(r=Math.max(Math.min(r,this.maxScroll),this.minScroll)),r!=this._pos){if(a!=e){if(this.trigger(this._beforeEvtName,{nextIndex:e}).defaultPrevented)return this._selectedIndex;n=!0,this._selectedIndex=e}this._animStart=!1,this._animEnd=r,this.scroller.rbItemscrollerPos=this._pos,this.$scroller.stop(),i=this.duration*(r<this._pos?this._pos-r:r-this._pos)/this.viewportWidth,i=Math.max(Math.min(i,this.maxDuration),this.minDuration),this._endPos=r,t?(this.setPos(r),this.isAnimated=!1):(this.isAnimated=!0,this._animStart=this._pos,this.$scroller.animate({rbItemscrollerPos:r},{easing:"linear",start:this._pos,progress:this._slideProgress,duration:i,complete:this._slideComplete})),this._updateControls(r),n&&(this.trigger({prevIndex:a}),t&&this._slideComplete())}return this._selectedIndex=e,this._selectedIndex}},t.prototype.isStartReached=function(e){return null==e&&(e=this._pos),!this.isCarousel&&e>=this.maxScroll},t.prototype.isEndReached=function(e){return null==e&&(e=this._pos),!this.isCarousel&&e<=this.minScroll},t.prototype._updateControls=function(e){var t,n,i=this.pageData[this._selectedIndex+this.baseIndex];this.isCarousel&&!this.isCarouselChanged||(t=this.isEndReached(e),n=this.isStartReached(e),this.isCarouselChanged=!1,this.$queryAll(".{htmlName}{e}btn{-}next").prop({disabled:t}).rbToggleState("disabled",t),this.$queryAll(".{htmlName}{e}btn{-}prev").prop({disabled:n}).rbToggleState("disabled",n)),this.element.setAttribute("data-current-index",this._selectedIndex+1),this.$currentIndex.html(this._selectedIndex+1),this.$cells.removeClass(d.default.statePrefix+"active"),i&&(i.$cellElems||(i.$cellElems=h(i.cellElems))).addClass(d.default.statePrefix+"activated").addClass(d.default.statePrefix+"active"),this.$paginationBtns.removeClass(d.default.statePrefix+"selected").eq(this._selectedIndex).addClass(d.default.statePrefix+"selected")},t.prototype._dragStart=function(){this.isAnimated=!1,h(this.scroller).stop()},t.prototype._dragMove=function(e){e.relPos.x&&this._setRelPos(e.relPos.x,!0)},t.prototype._dragEnd=function(e){if(e.movedPos.x){var t=e.lastPos.x-e.velPos.x;e.horizontalVel<9&&(t=0,e.horizontalVel<9&&e.horizontalVel<9&&e.allowClick()),this._snapTo(t,e.horizontalVel,e.movedPos.x)}else this.selectNearest()},t.prototype._setupTouch=function(){h.fn.draggy&&h(this.viewport).draggy({vertical:!1,useMouse:this.options.mouseDrag,useWheel:this.options.wheel,exclude:this.options.dragExclude,start:this._dragStart,end:this._dragEnd,move:this._dragMove})},t.prototype._setRelPos=function(e,t){var n,i,r,a,o=this._pos+e;t&&!this.isCarousel&&(r=(n=Math.abs(Math.min(0,o-this.minScroll)))>(i=Math.abs(Math.max(0,o-this.maxScroll)))?n:i,a=this.viewportWidth/1.5,r&&(o=this._pos+e*(1-(r/a+.05)))),this._pos=o,this.setPos(o)tion(e,t){e.style[v]=t},t.prototype._changeWrap=function(e,t){var n,i,r,a,o,s=this.posPages[e],l=this.posPages[e].rbCells;if(this.isWrap="ul"==t?e:"",a="left"==this.isWrap?this.options.startOrder:"right"==this.isWrap?this.options.endOrder:"",o=this.options.usePx?s._helperLeft+"px":s._helperLeft/this.viewportWidth*100+"%",this.helperElem.style.marginLeft=this.isWrap?o:"",this._isPageDirty)for(this._isPageDirty=!1,n=0,i=this.$cells.length;n<i;n++)this.$cells.get(n).style[v]="";for(n=0,i=l.length;n<i;n++)(r=l[n]).isSide=this.isWrap,this._setOrder(r.elem,a)},t.prototype._setPos=function(e){var t,n,i,r,a;this.isCarousel&&((e>=this.maxWrapLeft||e<=this.minWrapRight)&&(e>=this.maxWrapLeft?e-=this.carouselWidth:e<=this.minWrapRight&&(e+=this.carouselWidth)),t=e>=this.minWrapLeft&&e<=this.maxWrapLeft,n=e>=this.minWrapRight&&e<=this.maxWrapRight,i="left"==this.isWrap&&!t&&this.maxUnwrapLeft<=e&&this.minUnwrapLeft>=e,r="right"==this.isWrap&&!n&&this.maxUnwrapRight<=e&&this.minUnwrapRight>=e,i?this._changeWrap("left","l"):r&&this._changeWrap("right","l"),"left"!=this.isWrap&&t?this._changeWrap("left","ul"):"right"!=this.isWrap&&n&&this._changeWrap("right","ul")),this._pos=e,this.scroller.rbItemscrollerPos=this._pos,a=this.options.usePx?e+"px":e/this.viewportWidth*100+"%",this.usesTransform?this.scroller.style[y]=b?"translate3d("+a+", 0, 0)":"translateX("+a+")":this.scroller.style.left=a,this.onslide.fireWith(this)},t.prototype.updateCells=function(){var e=this,t=":not(.js"+d.default.nameSeparator+this.name+d.default.elementSeparator+"helper)";this.options.excludeCell&&(t+=":not("+this.options.excludeCell+")"),this.$cells=this.$scroller.children(t),this.options.excludeHiddenCells&&(this.$cells=this.$cells.filter((function(){return"none"!=d.default.getStyles(this).display}))),this.calculateLayout(),d.default.rAFQueue((function(){e.$scroller.prepend(e.helperElem),e.$cells.addClass(e.name+d.default.elementSeparator+"cell")}))},t.turn h(e).outerWidth()},t.prototype.calculateLayout=function(){this.options.switchedOff||(!this.cellData||this.scroller.offsetWidth||this.scroller.offsetHeight)&&(this.viewportWidth=this.$scroller.width(),this._calculateCellLayout(),this._calculatePages(),this._writeLayout())},t.prototype._calculateCellLayout=function(){var e=this,t=0;this.cellData=this.$cells.map((function(){var n=t,i=e._getCellWidth(this);return{w:i,elem:this,r:t=n+i+d.default.getCSSNumbers(this,["margin-left","margin-right"]),l:n}})).get(),this.cellData.push({l:t,w:0,r:t,index:"last",elem:null}),this.maxWrapRight=-1*(t-this.viewportWidth),this.maxWrapRight>0&&(this.maxWrapRight=0)},t.prototype._writeLayout=function(){if(!this.options.switchedOff){var e=this._pos;this.isWrap&&this._changeWrap(this.isWrap,this.isCarousel?"ul":"l"),this.selectIndex(this._selectedIndex,!0),e==this._pos&&(this._setPos(e),this._updateControls(this._pos))}},t.prototype._calculatePages=function(){var e,t,n,i,r,a,o,s,l,u,c=this.options.scrollStep,d=this.pageLength,f=0;if(this.pageData=this.cellData,this.$cells.length){if("auto"==c&&(c=this.options.centerMode?1:"view"),c.indexOf&&-1!=c.indexOf("cell")&&(c=1),this.options.carousel||!this.options.centerMode){for(a=-1*this.maxWrapRight,i=0;i<this.cellData.length;i++)n=i+1,this.cellData[i].l+n>=a&&this.cellData[i].l-n<=a&&(this.maxWrapRight=-1*this.cellData[i].l);this.minWrapLeft=0}for(this.options.centerMode?(t=this.viewportWidth/2,this.minScroll=t+-1*this.cellData[this.cellData.length-2].l-(this.cellData[this.cellData.length-1].l-this.cellData[this.cellData.length-2].l||1)/2,this.maxScroll=t-(this.cellData[1].l||1)/2):(this.minScroll=this.maxWrapRight,this.maxScroll=this.minWrapLeft||0),e=-1*this.minScroll,this.pageData=[],o=0,this._isPageDirty=!0,i=0,r=this.cellData.length-1;i<r;i++)n=.5*i+.5,u=this.cellData[i],!l||this.cellData[i+1].l>=o+n?(!this.options.centerMode&&l&&e-n<l.l&&f++,l={l:u.l,cells:[u],cellElems:[u.elem],i:l?l.i+1:0},this.pageData.push(l),o=u.l+this.viewportWidth,"view"!=c&&((s=i+c)>r&&(s=r),o>this.cellData[s].l&&(o=this.cellData[s].l))):(l.cells.push(u),l.cellElems.push(u.elem)),l.r=this.cellData[i+1].l,this.cellData[i].pageIndex=l.i;this.baseIndex=0,this.baseLength=this.pageData.length,this.carouselWidth=this.pageData[this.baseLength-1].r,this.velUnit=Math.max(Math.min(this.carouselWidth/this.baseLength,999),400),this._createCarouselPages(),this.pageLength=this.baseLength-f,this.pageLength!=d&&(null!=d&&this._adjustSelectedIndex(),this._createPagination(),d>-1&&this.trigger("pagelengthchanged"))}},t.prototype._adjustSelectedIndex=function(){var e=this.$cells.filter("."+d.default.statePrefix+"active").get(0);e?this._selectedIndex=this.getPageIndexOfCell(e):this.pageLength<this.selectedIndex&&(this.selectedIndex=this.pageLength-1)},t.prototype._addPosCorrect=function(e,t,n,i){var r,a,o;for(r=0,a=e.cells.length;r<a;r++)(o=e.cells[r]).uIndex=i>-1?o.pageIndex+i:i,o.ul=o.l+n,o.ur=o.r+n,t.push(o);return{carouselWidth:n,ol:e.l,or:e.r,l:e.l+n,r:e.r+n,i:e.i,cells:e.cells,cellElems:e.cellElems}},t.prototype._createCarouselPages=function(){var e,t,n,i,r,a,o,s=this.viewportWidth,l=this.isCarousel;if(this.posPages={left:[],right:[]},this.posPages.right.rbCells=[],this.posPages.left.rbCells=[],this.isCarousel=!1,g&&this.options.carousel&&this.pageData.length>1&&this.cellData[this.cellData.length-1].l/1.99>=this.viewportWidth&&(this.isCarousel=this.cellData[this.cellData.length-1].l/2.4>this.viewportWidth,!this.isCarousel&&this.cellData[0].w>this.viewportWidth-1&&this.cellData[1].w>this.viewportWidth-1&&(this.isCarousel=!0)),this.isCarouselChanged=l!=this.isCarousel,this.isCarousel){for(this.maxWrapLeft=s,this.minWrapRight=this.maxWrapRight-s,r=this.carouselWidth,e=0,t=this.pageData.length;e<t&&(n=this.pageData[e],this.posPages.right.push(this._addPosCorrect(n,this.posPages.right.rbCells,r,this.baseLength)),!(n.r>=s));e++);for(r*=-1,a=0,e=this.pageData.length-1,i=0;e>=0&&(i+=(n=this.pageData[e]).r-n.l,a--,this.posPages.left.push(this._addPosCorrect(n,this.posPages.left.rbCells,r,a)),!(i>=s));e--);this.minUnwrapRight=s,o=this.posPages.right[this.posPages.right.length-1],this.posPages.right._helperLeft=o.or,this.maxUnwrapRight=-1*o.or-s,o=this.posPages.left[this.posPages.left.length-1],this.posPages.left._helperLeft=o.l,this.minUnwrapLeft=-1*o.ol+s,this.maxUnwrapLeft=-1*this.posPages.left[0].or-s,this.pageData.unshift.apply(this.pageData,this.posPages.left.reverse()),this.pageData.push.apply(this.pageData,this.posPages.right),this.baseIndex=this.posPages.left.length}},t.prototype._createPagination=function(){var e,t,n=this.pageLength,i=this.interpolateName(this.options.paginationItemTpl);if(this.element.setAttribute("data-page-length",n),this.$pageLength.html(n),this.$pagination.length&&this.$paginationBtns.length!=n){for(e=[],t=0;t<n;t++)e.push(i.replace(m,""+(t+1)));this.$pagination.html(e.join("")),this.$paginationBtns=this.$pagination.find("."+this.name+d.default.elementSeparator+"pagination"+d.default.nameSeparator+"btn"),this.$paginationBtns.eq(this._selectedIndex).addClass(d.default.statePrefix+"selected")}},(0,u.default)(t,[{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(e){this.selectIndex(e)}}],[{key:"events",get:function(){return{"click:closest(.{name}{e}btn{-}next)":function(){this.options.switchedOff||(this.isCarousel?this.selectNext():this.selectNextIndex())},"click:closesthis.selectPrevIndex())},"click:closest(.{name}{e}pagination{-}btn)":function(e){if(!this.options.switchedOff){var t=this.$paginationBtns.index(e.delegatedTarget||e.currentTarget);this.selectedIndex=t}},"rb_resize:width()":"calculateLayout"}}}]),t}(a.Component);a.Component.register("itemscroller",_),e.default=_})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(103);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(35)),l=i(n(4)),u=i(n(728)),c=i(n(431)),d=window.zdfsite,f=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).paginationDotWidth=16,i.animatedDot=void 0,i.hasDotAnimationEnabled=!1,i.hasAnimationLock=!1,i.dots=i.$pagination.elements[0],i.prevButton=i.query(".".concat(i.jsName,"-btn-prev")),i.nextButton=i.query(".".concat(i.jsName,"-btn-next")),i.hasDotAnimationEnabled=!!i.dots&&!d.isTiviApp,rb.events.add(i.element,"click",i.handlePaginationBtnClick.bind(i),{closest:".".concat(i.jsName,"-pagination-btn")}),i}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getPaginationElements",value:function(){var e=this.$paginationBtns.get(),t=void 0,n=[];return e.forEach((function(e){e.classList.contains("m-selected")?t=e:n.push(e)})),{selectedElement:t,unselectedElements:n}}},{key:"_createPagination",value:function(){}},{key:"createPagination",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.originalPageLength;if(this.hasAnimationLock=!1,c.default.createPagination(this,e),this.hasDotAnimationEnabled){var t=document.createElement("span"),n=this.dots;if(!n)return;t.className="animated-dot",n.appendChild(t),this.animatedDot=t,this.$paginationBtns.elements[0]&&(this.paginationDotWidth=this.$paginationBtns.elements[0].getBoundingClientRect().width),this.setPaginationWidth(this.originalPageLength)}}},{key:"selectNext",value:function(e){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectNext",this).call(this,e),this.hasDotAnimationEnabled&&this.animateDotToIndex(this.selectedIndex)}},{key:"selectPrev",value:function(e){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectPrev",this).call(this,e),this.hasDotAnimationEnabled&&this.animateDotToIndex(this.selectedIndex)}},{key:"_snapTo",value:function(e,n,i){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_snapTo",this).call(this,e,n,i),this.hasDotAnimationEnabled&&this.animateDotToIndex(this.selectedIndex)}},{key:"_updateControls",value:function(e){void 0===e&&this.createPagination(),c.default.updateControls(this,e);var t=this.getPaginationElements(),n=t.selectedElement,i=t.unselectedElements;this.hasDotAnimatie("animated-color")}))}),300),setTimeout((function(){n.classList.add("animated-color")}),500))}},{key:"animateDotToIndex",value:function(e){if(this.hasDotAnimationEnabled&&!this.hasAnimationLock){this.hasAnimationLock=!0,e%=this.originalPageLength;var t=this.$paginaticontains("m-selected")})),n=this.paginationDotWidth*this.$paginationBtns.length,i=this.paginationDotWidth*(t+1),r=e*this.paginationDotWidth;if(t<e){var a=i-6,o=r+14;this.animationLeftToRight(o,a,n,this.animatedDot)}else{var s=i-3,l=r+10;this.animationRightToLeft(l,s,n,this.animatedDot)}this.setAnimateClass(this.animatedDot)}}},{key:"handlePaginationBtnClick",value:function(e){var t=this.$paginationBtns.index(e.delegatedTarget||e.currentTarget);this.animateDotToIndex(t)}},{key:"animationLeftToRight",value:function(e,t,n,i){i.style.setProperty("--leftStart","".concat(t,"px")),i.style.setProperty("--rightStart","".concat(n-t,"px")),i.style.setProperty("--leftMiddle","".concat(t,"px")),i.style.setProperty("--rightMiddle","".concat(n-e,"px")),i.style.setProperty("--leftEnd","".concat(e,"px")),i.style.setProperty("--rightEnd","".concat(n-e,"px"))}},{key:"animationRightToLeft",value:function(e,t,n,i){i.style.setProperty("--leftStart","".concat(t,"px")),i.style.setProperty("--rightStart","".concat(n-t,"px")),i.style.setProperty("--leftMiddle","".concat(e,"px")),i.style.setProperty("--rightMiddle","".concat(n-t,"px")),i.style.setProperty("--leftEnd","".concat(e,"px")),i.style.setProperty("--rightEnd","".concat(n-e,"px"))}},{key:"setAnimateClass",value:function(e){var t=this,n=this.getPaginationElements(),i=n.selectedElement,r=n.unselectedElements;if(e.classList.contains("underlined-animated"))return r.forEach((function(e){e.classList.remove("animated-color")})),void i.classList.add("animated-color");e.classList.add("underlined-animated"),e.addEventL,t.hasAnimationLock=!1}),{once:!0})}},{key:"setPaginationWidth",value:function(e){e*=this.paginationDotWidth,this.dots.style.width=e+"px"lt.setPosition(this,e)}}]),t}(u.default);t.default=f},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.LOAD_TYPE_CONSUMER_ID=void 0,t.getLoadTypeForConsumerID=function(e){var t=r.default.PARALLEL;zdfsite.loadBehaviours&&zdfsite.loadBehaviours.loadTypes&&zdfsite.loadBehaviours.loadTypes[e]&&(t=zdfsite.loadBehaviours.loadTypes[e]);return t=parseInt(new URLSearchParams(window.location.search).get("loadType"))||t},n(196),n(57);var r=i(n(156));var a=Object.freeze({RECOMMENDATION_CLUSTER:"recommendationCluster",FETCH_RECOMMENDATION_SERVICE:"fetchRecommendationService",FETCH_TEASER_SERVICE:"fetchTeaserService"});t.LOAD_TYPE_CO!==/./.exec},{exec:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendString=function(e){"string"==typeof e&&-1===r.indexOf(e)&&(r+=e)},t.removeString=function(e){"string"==typeof e&&-1!==r.indexOf(e)&&r.replace(e,"")},ostfix=function(){r=""},n(17);var i=navigator.userAgent,r="";Object.defineProperty(navigator,"userAgent",{get:function(){return"".concat(i).concat(r)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNativeAppRejectHandler=function(e){return function(t){console.error('NativeApp method "'.concat(e,'" not defined : '),t);var n=window.rb;n.events.dispatch(n.root,r.OT_EVENTS.TOGGLE_INFO_DISPLAY)}},t.createNativeAppResolveHandler=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){n&&t&&(0,i.getOTAppInstance)().setConsentForGroup(e,t)}},t.isNativeAppWorkspaceAvailable=s,t.opep.openCMPSettings()}))},t.setConsentInNativeAppForGrouativeApp.setConsent(e)}))},n(36),n(5);var i=n(tion(t,n){u(e,t,n)}))}function u(e,t,n){if(s())try{t(e())}catch(e){n(e)}else!function(e){a.push(e)}({action:e,resolve:t,reject:n}),!1===o&&(o=!0,window.requestAnimationFrame(c))}function c(){s()?(o=!1,function(){for(;a.length>0;){var e=a.shift();u(e.action,e.resolve,e.reject)}}()):window.requrable:!0,get:n(112)})},function(e,t,n){var i=n(38),r=n(31),a=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(54)(Function.call,n(119).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:i(e,n),e}}({tion(e,t){e.exports={}},function(e,t,n){var i=n(203),r=n(520),a=n(274),o=n(272)("IE_PROTO"),s=function(){},l=function(){var e,t=n(357)("iframe"),i=a.length;for(t.style.display="none",n(525).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[a[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[o]=e):n=l({}.propertyIsEnumerable},function(e,t,n){"use strict";var i,r,a;r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default="2.9.2"})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(100));n(36),n(5),n(84);var o=r(n(101)),s=r(n(0)),l=r(n(1));n(176);var u=r(n(204)),c=r(n(232)),d=i(n(205)),f=n(47),p=window.zdfsite,h=n(367),m=function(){function e(t){var n=this;(0,s.default)(this,e),(0,u.default)(this),this.user=t,this.initialize(),t.subscribe("activeSubProfileChanged",(function(){n.initialize()}))}var t,n;return(0,l.default)(e,null,[{key:"getSdeNestedObjects=false")}},{key:"getStncat(e,"_view_histororageKeyForUserId(t),nserId(n);d.migrate(i,r)}}]),(0,l.default)(e,[{key:"initialize",value:function(){var t=this,n=this.user.getState(),i=n.getUserId(),r={};if(n.isLoggedIn&&(r={http:{url:e.getServerUrlForUserId(i),saveUrl:"".concat(p.apiService,"/identity/user-histories/").concat(i,"/viewHistory/entries"),deleteUrl:"".concat(p.apiService,"/identity/user-histories/").concat(i,"/viewHistory"),headers:d.getAuthHeadetus&&t.user.showLogin()}},loadRemoteData:p.shouldFetchUserdata}),(0,f.hasPersonalizationConsent)()){var a=e.getStorageKeyForUserId(i);this.collection=new c.default(a,r),this.collecish("change",{items:n})})),this.addToViewHistory()s.collection.addItem(e)}},{key:"removeAll",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!h.onlySaveViewHistoryInLocalStage())return this.collection&&this.collection.removeAll(e)}},{key:"getItem",value:function(e){if(!h.onlySaveViewHistoryInLocalStage())return this.collection&&this.collection.getItem(e)}},{key:"getItems",value:function(){return h.onlySaveViewHistoryInLocalStage()?[]:this.collection?this.collection.getItemsArray():[]}},{key:"getAllItems",value:(n=(0,o.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.collection?t.collection.getAllItemsArray().then((fuview-history:",t),e([])})):e([])})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getAllItemsForSubprofile",value:(t=(0,o.default)(a.default.mark((function t(n){var i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={url:e.getServerUrlForUserId(n),headers:d.getAuthHeaders(this.user.getState().token)},t.abrupt("return",d.getAllItemsForUser(e.getStorageKeyForUserId(n),i));case 2:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"disable",value:function(){this.removeAll(),this.collection&&d.removeFromStorage(this.collection.storageKey)}},{key:"addToViewHistory",value:function(){var e=p.externalId;h.saveViewHistory()||(this.addItem({externalId:e,eventDate:(new Date).toISOString()}),this.user.isLoggedIn()&&this.collection&&this.collection.save())}}]),e}();t.default=m},function(e,t,n){"use strict";var i=n(2);n(22),n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.sendZDFClickTrack=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{var n="getAttribute"in t,i=l({},d.tracking.atInternet.customVars,{},e);i.page=i.page||d.tracking.atInternet.page,i.event=d.trackingHelper.getPageEventData(e);var r=n?c(t.closest(".inner")).find("img").get(0):"";if(r){var a=r.getAttribute("data-image-id");a&&(i.abTestImage=a)}p(i)}catch(e){u.logError("Error in sendZDFClickTrack:",e)}},t.track=p,n(9),n(8),n(18),n(49),n(14),n(57),n(17),n(34),n(5),n(15);var r=i(n(21)),a=n(47),o=n(233);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=window.rb,c=u.$,d=window.zdfsite,f=n(139);function p(e){var t=d.trackingDisabled,n=d.disableZdfTracking,i=d.tracking;if(d.consentManagementSettings.enableConsentManagement){if(!(0,a.hasPersonalizationConsent)()||n||!i)return}else if(t||n||!i)return;var r=d.user.getState(),s=r.getUserProfile(),p=s.abConfigName,m=s.abGroupName,v=s.yearOfBirth,g=s.gender,y=l({},e,{cb:Date.now(),appId:d.appId,loggedIn:r.isLoggedIn,subprofile:!!r.activeSubUser,assetId:d.externalId,trackingId:r.getTrackingId()},p&&m&&{abName:p,abGroup:m});"view"===y.eventType&&function(e){var t={},n=void 0;if(h()){var i=window.location.hash.toString();if(!i)return;n=i.replace("#","")}else n=window.location.search.toString().replace("?","");n.split("&").forEach((function(e){var n=e.split("="),i=n[0],r=n[1];"at_campaign"===i&&r.match(/^\d+$/)?t[i]=r:"at_custom1"!==i&&"at_medium"!==i||!r.match(/^[a-zA-Z0-9_-]{1,20}$/)||(t[i]=r)})),Object.keys(t).length>0&&(t.at_custom2=" ",t.at_custom3=" ",t.at_custom4=" ",t.at_custom1=t.at_custom1||" ",t.at_medium=t.at_medium||" ",t.at_campaign=t.at_campaign||" ",e.campaign=JSON.stringify(t))}(y);var b=function(){if(h())return{searchResultsCount:c(".b-search-list [data-loadmore-result-count]").attr("data-loadmore-result-count"),searchParams:window.location.search.toString().replace("?","")};return null}();b&&b.searchResultsCount&&(y.searchResultsCount=b.searchResultsCount),b&&b.searchParams&&(y.searchParams=b.searchParams),y.token&&"false"!==y.token&&"undefined"!==y.token&&""!==y.token||delete y.token,g&&(y.userGender=(0,o.getGenderCode)(g)),v&&(y.userAge=(0,o.getAge)(v));var _=e.eventType||e.action&&e.action.toLowerCase();if(_){var w=d.tracking.zdf["templates-v2"][_];if(w){var k=f.parse(w);document.createElement("img").src=k.expand(y)}else u.log("not tracking event ".concat(_,", it has no template (searching in zdfsite.tracki-search-list").length>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateNotifications=t.resetNotificationsHint=t.resetNotifications=t.receiveNotificationsError=t.receiveNotifications=t.loadNotifications=t.UPDATE_NOTIFICATIONS=t.RESET_NOTIFICATIONS_HINT=t.RESET_NOTIFICATIONS=t.RECEIVE_NOTIFICATIONS_ERROR=t.RECEIVE_NOTIFICATIONS=t.LOAD_NOTIFICATIONS=void 0;t.UPDATE_NOTIFICATIONS="UPDATE_NOTIFICATIONS";t.LOAD_NOTIFICATIONS="LOAD_NOTIFICATIONS";t.RECEIVE_NOTIFICATIONS="RECEIVE_NOTIFICATIONS";t.RECEIVE_NOTIFICATIONS_ERROR="RECEIVE_NOTIFICATIONS_ERROR";t.RESET_NOTIFICATIONS_HINT="RESET_NOTIFICATIONS_HINT";t.RESET_NOTIFICATIONS="RESET_NOTIFICATIONS";var i=n(235);t.updateNotifications=function(){return function(e,t){var n=t().notifications.dateUpdated;Date.now()-n>unction(tatch((function(){e(a())})),e(r()))}};var r=function(){return{type:"LOAD_NOTIFICATIONS"}};t.loadNotifications=r;var a=function(){return{type:"RECEIVE_NOTIFICATIONS_ERROR"}};t.receiveNoONS",payload:{items:e}}};t.receiveNotifications=o;t.resetNotificationsHint=function(){return{type:"RESET_NOTIFICATIONS_HINT"}};t.resetNotifications=function(){return{type:"RESET_NOTIFICATIONS"}}},function(e,t,n){"use strict";var i,r,a;n(10),n(103),n(36),n(9),n(8),n(5),n(33),n(13),r=[t,n(68),n(86),n(206),n(175),n(370)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0});var o=d(t),s=d(n),l=d(i),u=d(r),c=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var f=window.rb,p=function e(t,n){return this instanceof e?("object"==(void 0===t?"undefined":(0,o.default)(t))&&(n=t,t=null),e.managers[t]?(n&&e.managers[t].setOptions(n),f.logWarn(t+"already exists. extending options",e.managers[t]),e.managers[t]):(t&&(e.managers[t]=this),this.requestingPromises=[],this.waitingPromises=[],this.promises={},this.lastFetch=0,void(this.options=Object.assign({maxRequests:1,type:"queue",fetchOpts:{},preventDouble:!0,staggering:0},n)))):new e(t,n)};function h(e){return e.id==this}Object.assign(p.prototype,{fetch:function(e,t){var n=void 0,i=this.options;if("object"==(void 0===e?"undefined":(0,o.default)(e))&&(e=t=e),t=t||{},"string"==typeof e&&(t.url=e),t=Object.assign({},i.fetchOpts,t),n=this.generateId(t),this.promises[n]){if(i.preventDouble)return this.promises[n];n+=f.getID()}return this.generateFetchPromise(n,t),this.startFetch(),this.promises[n]},getCombindedPromise:function(e){var t=this.requestingPromises;return e&&(t=t.concat(this.waitingPromises)),Promise.all(t).catch((function(e){return e}))},generateFetchPromise:function(e,t){var n=this,i=this,r=(0,l.default)();Object.assign(r,{id:e,options:t,abortCb:(0,u.default)(),abort:function(){i.abort(e)}}),r.onAbort=r.abortCb.add,r.offAbort=r.abortCb.remove,this.waitingon(){n.onComplete(e,!0)}),(function(){i.onComplete(e)})),this.p(e,t),this.startFetch()},removePromise:function(e,t){var n=this,i=this.requestingPromises.findIndex(h,e),r=this.waitingPromises.findIndex(h,e);this.promises[e]&&(t&&this.options.cache?"number"==typeof this.opon(){n.promises[e]=null}),1e3*this.options.cache):this.promises[e]=null),-1!=i&&this.requestingPromises.splice(i,1),-1!=r&&this.requestingPromises.splice(r,1)},startFetch:function(){var e=this,t=void 0,n=void 0,i=this.options;if(this.waitingPromises.length){var r=Date.now();if(this.requestingPromises.length<i.maxRequests||i.staggering&&r-this.lastFetch>i.staggering)return n=this,t=this.waitingPromises.shift(),this.lastFetch=r,this.requestingPromises.push(t),t.fetch=(0,s.default)(t.options),t.onAbort((function(){n.onComplete(t.id)})),void t.fetch.then((funatch(f.log),t.reject(e)}));i.staggering&&setTimeout((function(){e.startFetch()}),i.staggering+9),"clear"==i.type&&this.waitingPromises.length>1&&this.waitingPromises.shift(),"abort"==i.type&&this.requestingPromises[0]&&this.requestingPromises[0].fetch&&(this.requestingPromises[0].fetch.abort(),this.onComplete(this.requestingPromises[0].id))}},_onOptionChange:function(){var e=this.options;do{this.startFetch()}while(this.waitingPromises.length&&this.requestingPromises.length<e,this._onOptionChange()},setOptions:function(e){(0,c.default)(!0,this.options,e),this._onOptionChange()},abort:function(e){this.promises[e]&&(this.promises[e].fetch&&this.promises[e].fetch.abort(),this.onComplete(e))},generateId:function(e){var t=[e.url];if(e.data)try{t.push(JSON.stringify(e.data))}catch(e){}if(e.headers)try{t.push(JSON.stringify(e.headers))}catch(e){}return t.join(",")}}),p.managers={},p.fetch=function(e,t,n){var i=p.managers[e];return i&&i.fetch(t,n)},p.setOption=function(e,t,n){var i=p.managers[e];return i&&i.setOption(t,n)},f.fetchManager=p,e.default=p})?i.applyce(s-l.length,s)===l}})},function(e,t,n){"use strict";e.exports=function(e){var t=e;return e=new Date(e),isNaN(e.getTime())&&"string"==typeof e&&rb.log(e,t),e}},function(e,t,n){"use strict";var i=n(2);n(57),n(36),n(34),n(5),n(10);var r=i(n(75)),a=i(n(52)),o=i(n(113)),s=n(48),l=window.rb,u=s.STORAGE_KEYS.IS_ARD_PIN_VERIFICATION.name,c=s.STORAGE_KEYS.ARD_PIN_VERIFICATION_ID.name,d=s.STORAGE_KEYS.ARD_PIN_VERIFICATION_REDIRECT.name,f=s.STORAGE_KEYS.ARD_PIN_VERIFICATION_PIN.name;e.exports={checkForArdVerification:function(){return new Promise((function(e,t){var n=(0,a.default)(location.search),i=n.code,r=n.state,s=!0===o.default.session.get(u),p=r===o.default.session.get(c),h=o.default.session.get(d),m=o.default.session.get(f);o.default.session.remove(u),o.default.session.remove(c),o.default.session.remove(d),o.default.session.remove(f),s&&p?(l.log("ARD verification!"),e({code:i,pin:m,redirect:h})):t()}))},verifyPinWithArdLogin:function(e,t){var n=Math.random().toString(36).substr(2,12),i={client_id:zdfsite.ardClientId,redirect_uri:zdfsite.ardRedirectUrl,response_type:"code",scope:"openid nickname",state:n};o.default.session.set(u,!0),o.default.session.set(c,n),o.default.session.set(d,t),o.default.session.set(f,e),location.href=zdfsite.ardLoginUrl+(0,r.default)(i)}}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13);var r=i(n(0)),a=i(n(1)),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,r.default)(this,e),this.info=Object.assign({},e.defaults,t)}return(0,a.default)(e,null,[{key:"defaults",get:function(){return{id:"",name:"",email:"",yearOfBirth:"",gender:""}}}]),(0,a.default)(e,[{key:"update",value:function(e){this.info=Object.assign({},this.info,e)}}]),e}();t.default=o},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13);var r=i(n(21)),a=i(n(0)),o=i(n(1));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,a.default)(this,e),this.settings=Object.assign({},e.defaults,t)}return(0,o.default)(e,null,[{key:"mainUserOnly",get:function(){return{lastActiveSubProfileId:"",showAgeVerificationDialog:!0,lastSync:""}}},{key:"defaults",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.mainUserOnly,{useSubtitles:!1,useAudioDescription:!1,defaultStreamVariantDgs:!1,videoNoAutoplay:!1,noObtrusiveAnimation:!1,useHighContrast:!1,lastNotificationsDelete:"",lastNotificationsHintDelete:"",showNotificationNew:!0,showNotificationExpiration:!0,migration:0,preferredLanguage:null})}}]),(0,o.default)(e,[{key:"update",value:function(e){this.settings=Object.assign({},this.settings,e)}}]),e}();t.default=l},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13);var r=i(n(21)),a=i(n(0)),o=i(n(1));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,a.default)(this,e),this.details=Object.assign({},e.defaults,t)}return(0,o.default)(e,null,[{key:"mainUserOnly",get:function(){return{preferredWeatherStation:"",subProfiles:[],abConfigName:"",abGroupName:"",abTestExpirationDate:"",deactivateParentChildSwitchAlert:!1}}},{key:"defaults",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.mainUserOnly,{likes:[],subscriptions:[],bookmarks:[]})}}]),(0,o.default)(e,[{key:"update",value:function(e){this.details=Object.assign({},this.details,e)}}]),e}();t.default=l},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13);var r=i(n(0)),a=i(n(1)),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,r.default)(this,e),this.details=Object.assign({},e.defaults,t)}return(0,a.default)(e,null,[{key:"defaults",get:function(){return{id:"",name:"",avatar:"",zdfchenEnabled:!1,likes:[],subscriptions:[],bookmarks:[]}}}]),(0,a.defaultsign({},this.details,[s],s+=d,l+=d;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}){s(a.tracking.szmng,e)},t.sendSZMViewWithAttributes=s,t.trackPageViewSZM=function(e){!l()||!a.initTrackingEnabled||a.noInitTracking||a.isTiviApp||a.isHeuteApp&&!e||(0,r.staticStartTracking)()},t.trackSZMMultiIdentifierPageView=function(e){try{window.iom&&l()&&!a.pageIsAtInternetTrackingDisabledOnPageLoad&&(o.log("track SZM multiIdentifier:",e),(0,r.staticStartTracking)())}catch(e){o.logError("Could not track nielsen: "+e)}};var i=n(47),r=n(380),a=window.zdfsite,o=window.rb;function s(e,t){if(!1!==l()){try{(0,r.staticStartTracking)()}catch(e){o.logError("Could not track nielsen: "+e)}a.trackingHelper.tryResumeOriginal()}else a.trackingHelper.tryResumeOriginal()}function l(){return a.consentManagementSettings.enableConsentManagement?(0,i.hasTrackingConsent)():!1===a.trackingDisabled}},function(e,t,n){"use strict";n(196),e.exports={VIDEO_QUALITY_AUTO:"auto",VIDEO_QUALITY_HIGH:"hd",VIDEO_QUALITY_MEDIUM:"med",VIDEO_QUALITY_LOW:"low",ZDFCHEN_CACHE_TIMEOUT_DURATION:6048e5,AGE_GROUP:Object.freeze({zdfchen:"2-5"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e){}},function(e,t,n){"use strict";(function(i){var r,a,o;n(14),a=[t,n(40),n(237)],void 0===(o="function"==typeof(r=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),a=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=/\s*?,\s*?|\s+?/g,a.default)("_fnProxy")},Event:function(e,t){var n=void 0;return t||(t={}),null==t.bubbles&&(t.bubbles=!0),null==t.cancelable&&(t.cancelable=!0),n=new CustomEvent(e,t),void 0!==i&&i.env,n},dispatch:function(e,t,n){var i=this.Event(t,n);return e.dispatchEvent(i),i},proxy:function(e,t,n,i){if(!i)return e[this.proxyKey]&&e[this.proxyKey][t]&&e[this.proxyKey][t][n];e[this.proxyKey]||(e[this.proxyKey]={}),e[this.proxyKey][t]||(e[this.proxyKey][t]={}),e[this.proxyKey][t][n]||(e[this.proxyKey][t][n]=i),e!=i&&this.proxy(i,t,n,i)},_runDelegate:function(e,t,n,i,r){if(t){var a,o=e.delegatedTarget,s=e.delegateTarget;return e.delegatedTarget=t,e.delegateTarget=t,a=n.apply(i,r),e.delegatedTarget=o,e.delegateTarget=s,a}},proxies:{closest:function(e,t){var n=r.default.events.proxy(e,"closest",t);return n||(n=function(n){return r.default.events._runDelegate(n,n.target.closest(t),e,this,arguments)},r.default.events.proxy(e,"closest",t,n)),n},matches:function(e,t){var n=r.default.events.proxy(e,"matches",t);return n||(n=function(n){return r.default.events._runDelegate(n,n.target.matches(t)?n.target:null,e,this,arguments)},r.default.events.proxy(e,"matches",t,n)),n},keycodes:function(e,t){var n=void 0,i=r.default.events.proxy(e,"keycodes",t);return i||(i=function(i){if(n||(n=tn(e,t){return e[t]=!0,e}),{})),n[i.keyCode])return e.apply(this,arguments)},r.default.events.proxy(e,"keycodes",t,i)),i},once:function(e,t,n,i){var a=r.default.events.proxy(e,"once","");return a||(a=function(t){var a=e.apply(this,arguments);return r.default.events.remove(t&&t.target||this,i,e,n),a},r.default.events.proxy(e,"once","",a)),a}},applyProxies:function(e,t,n){var i=void 0;if(t){for(i in t)this.proxies[i]&&"once"!=i&&(e=this.proxies[i](e,t[i],t,n));"once"in t&&(e=this.proxies.once(e,t.once,t,n))}return e},special:{}},r.default.events.proxies.delegate=r.default.events.proxies.closest,[["add","addEventListener"],["remove","removeEventListener"]].forEach((function(e){r.default.events[e[0]]=function(t,n,a,o){if(this.special[n]&&!1===this.special[n].applyProxies||(a=r.default.events.applyProxies(a,o,n)),this.special[n])this.special[n][e[0]](t,a,o);else{var s=!(!o||!o.capture&&!o.passive)&&{passive:!!o.passive,capture:!!o.capture};t[e[1]](n,a,s),void 0!==i&&i.env}}})),r.default.events._init(),e.default=r.default.events})?r.apply(t,a):r)||(e.exports=o)}).call(this,n(99))},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.debouncedImpression=void 0,t.escapeForTracking=R,t.getPublishData=C,t.sendATClickTrack=function(e,t,n,i){if(!1===z())return void h.trackingHelper.tryResumeOriginal();h.tags.piano.then((function(){!function(e,t){if(j(),window.zdfsite.pianoConfig.isInitialized){var n,i;if(null===(n=e.element)||void 0===n?void 0:n.includes("Teaser")){var r=T(t,"self_promotion.click",null);(0,l.sendPianoAnalyticsEvent)("self_promotion.click",{deltaType:"self_promotion.click",atiDeltaData:r})}else{var a=e.action.toLowerCase();if((a.startsWith("click")||a.startsWith("suche")||a.startsWith("öffnen"))&&("navigation"===e.type&&(e.deltaType="click.navigation"),"action"===e.type&&(e.deltaType="click.action"),"exit"===e.type&&(e.deltaType="click.exit"),"click.action"===e.deltaType)){var o=(0,c.formatStringToJson)(e.actionDetail);for(var s in o)"Linkziel"===s&&((0,c.isValidUrl)(o.Linkziel)?e.deltaType="click.exit":e.deltaType="click.navigation")}e.deltaType&&(0,l.sendPianoAnalyticsEvent)(e.deltaType,e)}"special-page-search"===h.tracking.atInternet.page.chapter2&&(null===(i=e.element)||void 0===i?void 0:i.includes("Teaser"))&&(e.deltaType="internal_search_result.click",(0,l.sendPianoAnalyticsEvent)(e.deltaType,e))}}(e,n),h.trackingHelper.tryResumeOriginal()})),h.tags.at.then((function(){var t,n,i,r;t=e,n=JSON.parse(JSON.stringify(h.tracking.atInternet.event||{})),i=D(),r=t.deltaType,i&&(r?(0,s.sendDeltaTaggingEvent)(t.deltaType,i,t):t.actionDetail&&(n.type=t.type,n.chapter2=t.element||"",t.actionDetail.includes("Stage")?n.name=t.name:n.name=h.tracking.atInternet.page.name||"",n.chapter1=t.chapter1||"",t.actionDetail?n.chapter3=t.action+":"+t.actionDetail:n.chapter3=t.action,t.brokerSource&&(n.customObject.brokerSource=t.brokerSource),t.callback&&(n.callback=t.callback),F(n.customObject),N(i),i.click.send(n)),t.actionDetailTe21&&(n.type=t.type,n.chapter2=t.elementTe21||"",n.name=h.tracking.atInternet.page.name||"",n.chapter1=t.chapter1||"",n.chapter3=t.actionDetailTe21,F(n.customObject),i.click.send(n))),h.trackingHelper.tryResumeOriginal()}))},t.sendATViewWithAttributes=function(e){if(!1===z())return void h.trackingHelper.tryResumeOriginal();h.tags.at.then((function(){var t=D();if(t){if(e.atInternetDeltaPageView)return(0,s.sendDeltaTaggingEvent)("page.display",t,e.atInternetDeltaPageView);var n=Object.assign({},h.tracking.atInternet.customVars);n.page=n.page||{},n.page.event=h.trackingHelper.getPageEventData(e),N(t),F(h.tracking.atInternet.page.customObject),t.page.set(h.tracking.atInternet.page),t.customVars.set(n),t.dispatch()}h.trackingHelper.tryResumeOriginal()}))},t.sendAtDeltaEvent=function(e,t){if(!1===z())return;h.tags.piano.then((function(){j(),window.zdfsite.pianoConfig.isInitialized&&(0,l.sendPianoAnalyticsEvent)(e,t)})),h.tags.at.then((function(){var n=D();n&&(0,s.sendDeltaTaggingEvent)(e,n,t)}))},t.sendPlusButtonClick=function(e){if(!1===z())return;var t=M(e);t&&(t.name=h.tracking.atInternet.page.name);h.tags.piano.then((function(){("Plusbutton"!==t.chapter2||"öffnen"!==decodeURIComponent(t.chapter3).toLowerCase()&&"schließen"!==decodeURIComponent(t.chapter3).toLowerCase())&&(j(),window.zdfsite.pianoConfig.isInitialized&&(F(t.customObject),t.deltaType="click.action",(0,l.sendPianoAnalyticsEvent)(t.deltaType,t)))})),h.tags.at.then((function(){var e=D();e&&(F(t.customObject),e.click.send(t))}))},t.trackImpression=P,t.trackPageViewAT=L,t.trackPublnt=function(e,t){A(C(e,t))},t.trackViewCustom=function(e){if(!1===z())return;var t=void 0;t=e.atInternet?e.atInternet:h.tracking.atInternet;var n=Object.assign({},t.customVars);n.page=n.page||{},F(t.page.customObject),e.atInternetDeltaPageView&&h.tags.piano.then((function(){j(),window.zdfsite.pianoConfig.isInitialized&&(0,l.sendPianoAnalyticsEvent)("page.display",e.atInternetDeltaPageView)}));h.tags.at.then((function(){!function(){var i=D();if(i){if(e.atInternetDeltaPageView)return(0,s.sendDeltaTaggingEvent)("page.display",i,e.atInternetDeltaPageView);N(i),i.page.set(t.page),i.customVars.set(n),i.dispatch()}}()}))},t.trackViewGuidedTour=function(e){if(!1===z())return;h.tags.piano.then((function(){if(j(),window.zdfsite.pianoConfig.isInitialized){var t={};e.atInternet&&(t.atInternet=e.atInternet),(0,l.sendPianoAnalyticsEvent)("page.display",t)}})),h.tags.at.then((function(){var t=void 0;t=e.atInternet?e.atInternet:h.tracking.atInternet;var n=Object.assign({},t.customVars);n.page=n.page||{};var i=D();i&&(F(t.page.customObject),i.page.set(t.page),i.dispatch())}))};var r=i(n(11));n(9),n(8),n(5),n(97),n(13),n(76),n(14);var a=i(n(21));n(28),n(26),n(15),n(10);i(n(238)),i(n(52));var o=n(47),s=n(388),l=n(390),u=n(239),c=n(240);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var f=window.rb,p=f.$,h=window.zdfsite,m=["js","impression","track"].join(f.nameSeparator),v="."+m,g=0,y=(new Date).getTime(),b=void 0,_=null,w=null,k=(0,u.getColorSchema)(),S=f.debounce(P,{delay:400});function O(){_=p(ments}function E(){O(),S()}function P(){!0===z()&&h.tags.at.then((function(){!function(){var e=!1,t=D();if(t){try{_=_.filter((function(n){if(x(n)&&!n.classList.contains("m-placeholder")){var i=p(n).find(".js-track-click").first(),r=f.jsonParse(i.attr("data-track"));if("Bilderserie"===r.element||r.element.includes("Wahlgrafik")){var a=function(e){var t=void 0!==e.dataset.galleryId?e:p(e).find("div[data-gallery-id]").get()[0];if(t){var n=t.dataset.currentIndex-1,i=t.dataset.galleryId,r=h.tracking&&h.tracking.trackingRepo&&h.tracking.trackingRepo.galleries&&h.tracking.trackingRepo.galleries[i];if(r){var a=r.items[n];return{function:r.type,onsitead_campaign:r.type,function_detail:a.title,gallery_name:r.name,hpos:a.hpos,withPosition:"Wahltool"!==repo.type}}}}(n);if(a){var o="self_promotion.display";(0,s.sendDeltaTaggingEvent)(o,t,{deltaType:o,atiDeltaData:a})}n.classList.remove(m)}if(!r||!r.format)return f.logWarn("trackImpression: no data found, check data-track attribute of element ",n),!1;var l=C(r,i.get(0)),u=l.campaignId,c=l.creation,d=l.variant,v=l.format,g=l.generalPlacement,y=l.detailedPlacement,b=l.advertiserId,_=l.url;return t.publisher.add({impression:{campaignId:I(u),creation:I(c),variant:I(d),format:I(v),generalPlacement:I(g),detailedPlacement:I(y),advertiserId:I(b),url:I(_)}}),e=!0,n.classList.remove(m),!1}return!0}))}catch(e){f.log("error adding impression elements to ATI tag",e)}e&&t.dispatch()}}()}))}function T(e,t,n){var i={};if(n){var r=n.campaignId,o=n.creation,s=n.variant,l=n.format,u=n.generalPlacement,m=n.detailedPlacement,v=n.advertiserId,g=n.url;i={onsitead_type:"Publisher",onsitead_advertiser:I(v),onsitead_campaign:I(r),onsitead_category:"",onsitead_creation:I(o),onsitead_detailed_placement:I(m),onsitead_format:I(l),onsitead_general_placement:I(u),onsitead_url:I(g),onsitead_variant:I(s)}}else{var y=p(e),b=y.find("a[data-track]").get()[0];b||(b=y.get()[0]);var _=f.jsonParse(b.getAttribute("data-track"));if(b&&_){var w=h.trackingHelper.fillPlaceholders(_.actionDetail,e),k=(0,c.formatStringToJson)(w);i={onsitead_type:"self_promotion.display"===t?"Self promotion":"Publisher",onsitead_advertiser:h.tracking.atInternet.page.customObject.broadcast,function:"Teaser-Tracking",onsitead_campaign:null,function_detail:null,target_title:b.getAttribute("title"),target_subsection:"/"+b.getAttribute("title"),target_type:"",target_sophora_id:b.getAttribute("data-target-id"),target_external_sophora_id:_.targetAssetId,target_section:"",target_url:b.getAttribute("href"),vpos:k.VPos,hpos:k.HPos,withPosition:!0},_.element.toLowerCase().includes("teaser")&&(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{teaser_type:_.format,teaser_band:w.split("|")[0],teaser_reco:"",teaser_context:null}))}}return i}function x(e){if(p(e).closest(".hide").length>0)return!1;var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function C(e,t){for(var n=h.trackingHelper.fillPlaceholders(e.actionDetail,t).split(/[:|]/),i=t.getAttribute("href")?" | ".concat(location.origin).concat(t.getAttribute("href")):" | ".concat(location.origin),r=h.tracking?"".concat(h.tracking.atInternet.page.name).concat(R(i)):"",a=void 0,o=void 0,s=void 0,l=void 0,u="",c=0;c<n.length;c++)(n[c].includes("modul")||"Stage"===n[c])&&(a=n[c]),"HPos"===n[c]&&(o=n[c+2]),"Cluster"===n[c]&&(u=n[c+1]),"HPos"===n[c]&&(s=R("HPos: "+(s=n[c+1]))),"VPos"===n[c]&&(l=R("VPos: "+(l=n[c+1])));return"RecoStageTeaser"===e.element&&(a="RecoStage"),{campaignId:"Teaser-Tracking",creation:o,variant:a,format:e.format,generalPlacement:u,detailedPlacement:s,advertiserId:l,url:r}}function A(e){z()&&e&&(h.tags.piano.then((function(){!function(e,t){if(j(),window.zdfsite.pianoConfig.isInitialized&&window.zdfsite.pianoConfig.pianoFlagImpressionTrack)try{w=w.filter((function(n){if(x(n)&&!n.classList.contains("m-placeholder")){var i=e||"self_promotion.impression",r=T(n,i,t);return(0,l.sendPianoAnalyticsEvent)(i,{deltaType:i,atiDeltaData:r}),n.classList.remove(m),!1}return!0}))}catch(e){console.error("error adding impression elements to piano analytics",e),f.log("error adding impression elements to piano analytics",e)}}("publisher.click",e)})),h.tags.at.then((function(){var t=e.campaignId,n=e.creation,i=e.variant,r=e.format,a=e.generalPlacement,o=e.detailedPlacement,s=e.advertiserId,l=e.url,u=D();u&&(u.publisher.set({click:{campaignId:I(t),creation:I(n),variant:I(i),format:I(r),generalPlacement:I(a),detailedPlacement:I(o),advertiserId:I(s),ure){return"[".concat(e,"]")}function D(){if(!b)if("undefined"!=typeof ATInternet){var e={},t={};window.AtTrackingUserId&&(e.ClientSideUserId={clientSideMode:"always"},t.userIdentifier=window.AtTrackingUserId),b=new ATInternet.Tracker.Tag(e,t)}else console.warn("getATInternetTag called but ATI lib not initialized");return b}function j(){return window.zdfsite.tags.piano?(pa.setConfiguration("site",window.zdfsite.pianoConfig.siteId),pa.setConfiguration("collectDomain",window.zdfsite.pianoConfig.collectDomain),window.zdfsite.pianoConfig.isInitialized=!0,!0):(console.warn("Piano Analytics Tag not initialized"),!1)}function L(){var e=h.trackingDisabled,t=h.initTrackingEnabled,n=h.noInitTracking,i=h.atPageTrackData;!e&&t&&!n&&i&&h.userReady.then((function(){h.tags.piano.then((function(){j(),window.zdfsite.pianoConfig.isInitialized&&(0,l.sendPianoAnalyticsEvent)("page.display",h.atInternetDeltaPageView)})),h.tags.at.then((function(){if(!1!==z()){var e=D();if(e){if(h.atInternetDeltaPageView)return(0,s.sendDeltaTaggingEvent)("page.display",e,h.atInternetDeltaPageView);if(F(h.atPageTrackData.pageData.customObject),e.page.set(h.atPageTrackData.pageData),h.atPageTrackData.searchKeyword&&"internalSearch"in e&&e.internalSearch.set({keyword:h.atPageTrackData.searchKeyword}),h.user&&h.user.isReady&&"identifiedVisitor"in e){var t=h.user.getState();t.isLoggedIn&&e.identifiedVisitor.set({id:t.info.id})}e.setProps&&e.setProps({dark_mode:k});var n="page-picture-gallery"===h.tracking.atInternet.page.chapter2,i=h.tracking.trackingRepo&&h.tracking.trackingRepo.galleries;if(n&&i){var r=Object.values(i)[0],a=r.items[0],o={function:r.type,onsitead_campaign:r.type,function_detail:a.imageTitle,gallery_name:r.name,hpos:a.hpos,withPosition:"Wahltool"!==r.type},u="self_promotion.display";window.zdfsite.pianoConfig.isInitialized&&(0,l.sendPianoAnalyticsEvent)(u,o),(0,s.sendDeltaTaggingEvent)(u,e,{deltaType:u,atiDeltaData:o})}e.dispatch()}}}))}))}function N(e){h.user&&h.user.isReady&&"identifiedVisitor"in e&&h.user.isLoggedIn()&&e.identifiedVisitor.set({id:h.user.getState().getUserId()})}function M(e){var t=void 0;if("object"===(0,r.default)(e))for(var n in t={},e)e.hasOwnProperty(n)&&(t[n]=M(e[n]));else if(Array.isArray(e)){t=[];for(var i=0;i<e.length;i++)t.push(M(e[i]))}else t=R(e);return t}function R(e){var t=e;return e&&(t=encodeURIComponent(e)),t}function F(e){if(h.user&&h.user.isReady){var t=h.user.getState().profile,n=t.abConfigName,i=t.abGroupName;e.ab_config=n||"none",e.ab_group=i||"none"}}function z(){return h.consentManagementSettings.enableConsentManagement?(0,o.hasTrackingConsent)():!1===h.trackingDisabled}t.debouncedImpression=S,h.tracking&&(h.tracking.atInternet=M(h.tracking.atInternet)),L(),O(),S(),document.addEventListener("domchanged",E),document.addEventListener("lazyunveilread",E),document.addEventListener("scroll",(function(){if(!1!==z()){var e=document.body.clientHeight,t=window.innerHeight+document.documentElement.scrollTop,n=e/4,i=e/4,r=void 0;if(P(),!(t<g)){if(g+i<t)for(;g+i<t;)g=parseInt(g+i);g=parseInt(g+i),r=t/e*100>=99?100:Math.round(t/e*4)/4*100;var a=(new Date).getTime()-y;t>n&&function(e,t){if(!1===z())return;var n="";t<15001?n="< 0.25m":t<60001?n="0.25m - 1m":t<180001?n="1m - 3m":t<300001?n="3m - 5m":t>3e5&&(n="> 5m");h.tags.at.then((function(){var t=R("Scroll-Tracking"),i=R(e+"%"),r=R(n),a=h.tracking.atInternet.page.name,o=D();o&&o.publisher.send({impression:{campaignId:"["+t+"]",creation:"["+i+"]",variant:"["+r+"]",generalPlacement:,"String",{repeat:n(393)})},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(304)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).accessibilityInspiration=n.accessibilityInspiration.bind(n),n.accessibilitySearchProgram=n.accessibilitySearchProgram.bind(n),n.setAccessibility=n.setAccessibility.bind(n),n.removeGuidedTourAndSetStorage=n.removeGuidedTourAndSetStorage.bind(n),n.startLogo="/static/"+zdfsite.build+"/img/guided-tour/0-Anton-mit-Filmklappe.png",n.state={id:e.id,accessibility:!1,inspiration:!1,searchProgram:!1,isBoxVisible:!1,start:e.start,texts:e.texts,setLocalStorage:e.setLocalStorage,accessibilityTexts:e.accessibilityTexts,type:e.type,accessibilityTour:e.accessibilityTour},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",etState({isBoxVisible:!0})}.bind(this),500),(0,c.trackView)("Start-Screen")}},{key:"lassList.remove("overlay")}},{key:"accessibilityInspiration",value:function(){"user-type"===this.state.type?this.state.accessibilityTour?this.setState({accessibility:!0,inspiration:!0,searchProgram:!1}):(this.setState({accessibility:!1,inspiration:!0,searchProgram:!1,isBoxVisible:!1}),this.setAccessibility(!1)):this.removeGuidedTourAndSetStorage()}},{key:"accessibilitySearchProgram",value:function(){"user-type"===this.state.type?this.state.accessibilityTour?this.setState({accessibility:!0,inspiration:!1,searchProgram:!0}):(this.setState({accessibility:!1,inspiration:!1,searchProgram:!0,isBoxVisible:!1}),this.setAccessibility(!1)):this.props.step("dynamic")}},{key:"setAccessibility",value:function(e){this.setState({isBoxVisible:!1}),this.props.accessibility(e),this.state.inspiration&&!e?this.props.step("inspiration"):this.state.searchProgram&&!e?this.props.step("searchProgram"):(this.props.step("accessibility"),this.state.inspiration?this.props.step("inspiration"):this.props.step("searchProgram"))}},{key:"removeGuidedTourAndSetStorage",value:function(){(0,c.removeGuidedTour)(),this.state.setLocalStorage&&(0,c.setLocalStorage)(this.state.id)}},{key:"renderPrimaryBtn",value:function(e){var t=void 0;return t="user-type"===this.state.type?void 0!==e?e:void 0!==this.state.texts.btn1?this.state.texts.btn1:"Mehr erfahren":void 0!==e?e:"Mehr erfahren",u.default.createElement("div",{className:"guided-tour-btn-container"},u.default.createElement("button",{className:"button medium round guided-tour--btn",onClick:this.accessibilitySearchProgram,title:t},t))}},{key:"renderSecondaryBtn",value:function(e){var t=void 0;return t="user-type"===this.state.type?void 0!==e?e:void 0!==this.state.texts.btn2?this.state.texts.btn2:"Nein, Danke":void 0!==e?e:"Nein, Danke",u.default.createElement("div",{className:"guided-tour-btn-container"},u.default.createElement("button",{className:"button medium ".concat("user-type"!==this.state.type?"secondary":""," round guided-tour--btn"),onClick:this.accessibilityInspiration,title:t},t))}},{key:"render",value:function(){var e=this,t=this.state.start,n=void 0===t?{}:t,i=n.title,r=n.text,a=n.image,o=n.primaryCallToActionLabel,s=n.secondaryCallToActionLabel,l=void 0!==i?i:"Willkommen in der ZDFmediathek",c=void 0!==r?r:"\n                            Über <strong>10.000 Filme</strong> entdecken<br/>\n                            <strong>3.000 Dokus</strong> sowie aktuelle <strong>Nachrichten</strong><br/>\n                            Mehr als <strong>500 Serien</strong><br/>\n                            Vieles davon <strong>barrierefrei</strong>";return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"guided-tour--intro-overlay"}),u.default.createElement("div",{className:"guided-tour--intro ".concat(this.state.isBoxVisible?"active":"")},u.default.createElement("h2",{className:"big-headline guided-tour--intro-headline"},l),u.default.createElement("div",{className:"guided-tour--intro-text",dangerouslySetInnerHTML:{__html:c}}),u.default.createElement("div",{className:"guided-tour--intro-btns"},u.default.createElement(d.default,{image:a,fallbackImage:this.startLogo,altText:"Anton mit Filmklappe",tourType:this.state.type}),!0===this.state.accessibility?u.default.createElement("div",{className:"guided-tour--intro-container accessibility"},u.default.createElement("h3",{className:"guided-tour--intro-btns-headline"},this.state.accessibilityTexts.question),u.default.createElement("div",{className:"guided-tour-btn-container"},u.default.createElement("button",{className:"button medium round guided-tour--btn",onClick:function(){return e.setAccessibility(!0)},title:this.state.accessibilityTexts.btn1},this.state.accessibilityTexts.btn1)),u.default.createElement("div",{className:"guided-tour-btn-container"},u.default.createElement("button",{className:"button medium secondary routurn e.setAccessibility(!1)},title:this.state.accessibilityTexts.btn2},this.state.accessibilityTexts.btn2))):u.default.createElement("div",{className:"guided-tour--intro-container ".concat("user-type"!==this.state.type?"standard":"")},"user-type"===this.state.type&&u.default.createElement("h3",{className:"guided-tour--intro-btns-headline"},this.state.texts.userType),this.renderPrimaryBtn(o),this.renderSecondaryBtn(s))),"user-type"===this.state.type&&u.default.createElement("div",{className:"guided-tour--intro-cancel"},u.default.createElement("button",{className:"button text-only",title:"Dialog schließen",onClick:this.removeGuidedTourAndSetStorage},"Ausblenden"))))}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).key=0,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e){var t,n,i=null===(t=this.props.image)||void 0===t?void 0:t.self;return(null===(n=e.image)||void 0===n?void 0:n.self)!==i&&(this.key++,!0)}},{key:"renderImage",value:function(){var e=this.props.image;return u.default.createElement("picture",null,u.default.createElement("source",{className:"m-desktop",srcSet:e.layouts["768x432"],media:"(min-width: 1024px)"}),u.default.createElement("source",{className:"m-tablet",srcSet:e.layouts["768x432"],media:"(min-width: 640px)"}),u.default.createElement("source",{className:"m-mobile",srcSet:e.layouts["384x216"],media:"(min-width: 1px)"}),u.default.createElement("img",{src:e.layouts["768x432"],"data-sizes":"auto",alt:e.altText}))}},{key:"renderFallbackImage",value:function(){var e=this.props,t=e.fallbackImage,n=e.altText;return u.default.createElement("img",{src:t,alt:n})}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.fallbackImage,i="user-type"===e.tourType,r=t?this.renderImage():n&&i?this.renderFallbackImage():null;return u.default.createElement("div",{className:"guided-tour--img",key:this.key},r)}}])"').length>3})),"String",n)}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(161)),u=i(n(241)),c=window.rb,d=(c.$,function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isOpen&&i.renderCalendar(),i}return(0,s.default)(t,e),(0,o.default0,scrollCalendarIntoView:!0}}},{key:"events",get:functiondered||this.renderCalendar()},"{name}changed":function(e){var t=this;if(this.isOpen){var n=this.query('[tabindex="0"].calendar-cellbox');n&&(setTimeout((function(){t.isOpen&&t.options.scrollCalendarIntoView&&!(0,u.default)(n)&&t.element.getBoundingClientRect().top>120&&t.$element.scrollIntoView({offsetTop:-110})}),200),this.setFocus(n))}}}}}]),(0,o.default)(t,[{key:"renderCalendar",value:function(){if(!this.isCalendarRendered){this.isCalendarRendered=!0;var e=this.component(".calendar-outerbox");console.log("RENDER CALENDAR",e),e&&e.setOption("allowRender",!0)}}}]),t}(l.default));c.live.register("_calendarbase",d);var f=d;t.default=f},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.text,n=void 0===t?"":t,i=e.editorComment;return(!0===(void 0!==i&&i)?r.default.sanitize(n):a.escape(n)).replace(/\n/g,"<br>")},n(17);var r=i(n(623)),a=window.rb;r.default.setConfig({ALLOWED_TAGS:["a"]})},function(e,t,n){"use strict";n(13),e.exports=function(e){if(!e)return{};var t=Object.assign({},e);return"http://zdf.de/rels/content/ugcEditor"===e.profile&&e.avatar&&e.avatar[0]&&(t.avatar=(((e.avatar[0]||{})["http://zdf.de/rels/target"]||{}).layouts||{})["314x314"],t.avatarAltText=((e.avatar[0]||{})["http://zdf.de/rels/target"]||{}).altText),t}},function(e,t,n){"use strict";var i=n(0),r=n(1),a=n(3),o=n(4);!function(){n(141),n(161);var t=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),eturn{toggle:!0,multiple:!0}}}]),t}(rb.components.panelgroup);rb.live.register("js-panelgroup",t);var s=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),{selectedIndex:-1,toggle:!0}}}]),t}(rb.components.accordion);rb.live.register("js-accordion",s);var l=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(rb.components.tabs);rb.live.register("js-tabs",l);var u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),r(t,null,[{key:"defaults",get:function(){return{animation:"slide"}}}]),t}(rb.components.panel);rb.live,arguments))}return o(t,e),t}(rb.components.panelbutton);rb.live.register("js-panelbutton",c),e.exports.JSPanel=u,e.exports.JSPanelButton=c,e.exports.JSPanelGroup=t,e.exports.JSAccordion=s,e.exports.JSTabs=l}()},function(e,t,n){"use strict";var i=n(11),r=n(7),a=window.zdfsite,o=window.rb.$,s=[];function l(){var e="Dieses Video mit Audiodeskription starten.";return(a.isTiviApp?r.getState().getUserProfile():r.getState().profile).useAudioDescription&&(e="Dieses Video starten."),e}function u(e){switch(e.key){case"Enter":s[e.target]&&s[e.target].acceptCallback&&s[e.target].acceptCallback()}}e.exports={addADTabHelper:function(e,t){if(e){var n=o(e);s[e]={acceptCallback:t,hasTabIndex:!0},null===n.attr("tabindex")&&(n.attr({tabindex:"0"}),s[e].hasTabIndex=!1),n.attr({role:"button","aria-label":l()}),n.on("keydown",u)}},removeADTabHelper:function(e){if(e&&s[e]){var t=o(e);!1===s[e].hasTabIndex&&t.removeAttr("tabindex"),t.removeAttr("role aria-label"),t.off("keydown",u),s[e]=void 0}},setAriaLabelFromElements:function(e,t){if(e&&t){var n="";e.each((function(e,t){n+="".concat(o(t).text()," ")})),t.each((function(e,t){o(t).attr("aria-label",n)}))}},removeAriaLabels:function(e){e&&e.each((function(e,t){o(t).removeAttr("aria-label")}))},setAriaDescFromElements:function(e,t){if(e&&t){var n="";e.each((function(e,t){e>0&&(n+=" ");var r=o(t).attr("id");if(i(r)!==i(void 0)&&!1!==r&&i(r)!==i(null))n+=r;else{var a=function(){var e=0;for(;null!==document.querySelector("#ariaDescLabel".concat(e));)e++;return"ariaDescLabel".concat(e)}();o(t).).attr("aria-describedby",n)}))}},removeArmoveAttr("aria-describedby")}))}}},function(e,t,n){"use strict";var i=n(2),r=i(n(0)),a=i(n(1)),o=n(286),s=n(311),l=n(7),u=window.rb,c=u.$,d=function(){function e(t,n){(0,r.default)(this,e),this.rbComponent=t,this.trackingCall=n,this.pinInputComponent=u.getComponent(this.rbComponent.query('[data-module="pin-input"]'))}return(0,a.default)(e,[{key:"onSuccess",value:function(){this.rbComponent.$element.removeClass("is-processing"),this.track(!0);var e=this.rbComponent.options.successPanelId;e?u.getComponent(document.querySelector(e)).open():window.location.href=this.rbComponent.query(".js-btn-submit").getAttribute("data-link")}},{key:"onError",value:function(e){if(this.rbComponent.$element.removeClass("is-processing"),this.track(!1),"pin-incomplete"!==e.data.message)if("password-missing"!==e.data.message)switch(e.status){case 401:this.showError(".error-item.http-401","#pin-password-input");break;case 409:this.showError(".error-item.http-409")}else this.showError(".error-item.http-401","#pin-password-input");else this.showError(".error-item.pin-incomplete","#pin-ziffer-".concat(this.pinInputComponent.options.id,"-1"))}},{key:"showError",value:function(e,t){this.rbComponent.$queryAll(e).stop().rbSlideDown();var n=this.rbComponent.element.querySelector(t);n&&((0,s.setAriaDescFromElements)(this.rbComponent.$queryAll(e),c(n)),this.rbComponent.setFocus(n))}},{key:"resetErrorMessages",value:function(){this.rbComponent.$queryAll(".error-item").filter((function(){return"none"!==c(this).css("display")&&"hidden"!==c(this).css("visibility")})).stop().rbSlideUp()}},{key:"validateInput",value:function(e,t){return!e||e.length<4||isNaN(e)?(this.onError({data:{message:"pin-incomplete"}}),!1):!(!t&&!l.isArdUser())||(this.onError({data:{message:"password-missing"}}),!1)}},{key:"verifyPinWithZdf",value:function(){var e=this;(0,s.removeAriaDesc)(this.rbComponent.$queryAll("#pin-ziffer-".concat(this.pinInputComponent.options.id,"-1"))),(0,s.removeAriaDesc)(c(this.rbComponent.query("[name=password-input]"))),this.resetErrorMessages();var t=this.pinInputComponent.value,n=this.rbComponent.query("[name=password-input]").value;if(this.validateInput(t,n))try{l.ready.then((function(i){!1===i.isLoggedIn()?(e.track(!1),i.showLogin()):(e.rbComponent.$element.addClass("is-processing"),i.setPin(t,n).then((function(t){e.onSuccess(t)})).catch((function(t){e.onError(t)})))}))}catch(e){this.track(!1),this.onError(e)}else this.track(!1)}},{key:"verifyPinWithArd",value:function(e){this.resetErrorMessages();var t=u.getComponent(this.rbComponent.query('[data-module="pin-input"]')).value;this.validateInput(t)?(0,o.verifyPinWithArdLogin)(t,e):this.tngCall&&this.trackingCall(e)}}]),e}();e.exports=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getWeatherDataWithDotNotation=function(e,t,n,i,o){var s=t["http://zdf.de/rels/target"],l=e.match(/\/([^\/]+)\/?$/)[1],u=s.match(/\/([^\/]+)\/?$/)[1],c=e.replace(l,u);(0,r.default)(c).then((function(e){!function(e,t,n){var i=a.$(t),r=n.outputAs;if(!e)return void a.logWarn("weather output: no value to output",t,r,n);if(r)switch(r){case"text":t.textContent=e;break;case"value":i.prop({value:e});break;default:var o={};o[r]=e,i.attr(o)}else a.logWarn("weather output: no output property specified",t,r,n)}(function e(t,n){if(Array.isArray(n)){if(n.length){var i=void 0;return i="temperature"===n[0]?Math.floor(t[n[0]]):t[n[0]],e(i,n.slice(1))}return t}return e(t,n.split("."))}(e.dd of weather data failed",e)}))},n(17),n(49),n(14);var r=i(n(86)),a=window.rb},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11);t=function(){var etotypeOf(n)).call(this,e,t))}return o(n,t),r(n,[{key:"writeTeasers",value:function(t){var n=this;this.writeReady(),t&&t.length?(this.$element.addClass("m-has-teaser"),this.removeFallbackTeaser(),t.slice(0,this.options.maxTeaser).forEach((function(e){var t=n.generateTeaser(e.id,"m2",e,n.element);n.scrollList.appendChild(t)})),this.scrollList.lastElementChild&&e.events.dispatch(this.scrollList,"domchanged"),lazySizes.loader.checkElems(!0)):this.hideClusteris.$element.addClass("hide")}}]),n}(n(182))},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(57),n(76);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=i(n(75)),u=n(248),c=(i(n(156)),window.rb.$,new(function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"generateUrl",value:function(e){if(e.dataXhrUrl){var t=e.dataXhrUrl;if(zdfsite.localMode&&t.startsWith("http")){var n=new URL(t);return n.pathname+n.search}return t}return"/teaserElement?".concat((0,l.default)(e))}}]),t}(n(115)))("teaser",{fallbackContent:"",fetch:{maxRequests:6}},(0,u.getLoadTypeForConsumerID)(u.LOAD_TYPE_CONSUMER_ID.FETCH_TEASER_SERVICE)));t.default=c},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(21));n(28),n(26),n(14);var a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(75));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var d=n(115),f=n(121),p=window.rb,h=p.$,m=new(function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,h.extend(!0,t.defaults,n)))).subscriptionObjects={},i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{defaultSubscriptionItemsToFetch:64}}}]),(0,s.default)(t,[{key:"getSubscriptions",value:function(e,t){var n=this;return this.maxSubscriptionItemsToFetch=t||this.options.defaultSubscriptionItemsToFetch,e.filter((function(t){if("string"!=typeof t.path)return p.logWarn("subscription has no path",t),!1;var n=t.path.spurn n.slice(0,t+1e){return ction(e){return n.getData(e)}))}},{key:"generateUrl",value:function(e){var t=new Date;t.setTime(Date.now()+864e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0);var n=f(t.getTime());null===e.path&&p.logWarn("subscription has no path",e);var i="".concat(zdfsite.apiService,"/search/documents").concat(zdfsite.rootNode).concat(e.path,"?").concat((0,u.default)({to:n,hasVideo:"true",types:"page-video",limit:this.maxSubscriptionItemsToFetch,sortBy:"date",sortOrder:"desc",q:"*",includeNestedObjects:!1}));return this.subscriptionObjects[i]=e,i}},{key:"processData"Descriptor(n,t))}))}return e}({},e,{title:this.subscriptionObjects[n].title})}}]),t}(d))("subscriptions");t.default=m},function(e,t,n){"use strict";(function(e){var t=n(2),i=t(n(21));n(13),n(15);var r,a=t(n(0)),o=t(n(3)),s=t(n(1)),l=t(n(4)),u=t(n(23)),c=t(n(11)),d=n(24),f=(t(n(75)),t(n(183))),p=t(n(124));r=function(){var e,t=window.rb,r=(t.$,n(marks"===e?"externalId":"id"},m=(e=function(e){function n(e,i){var r;return(0,a.default)(this,n),(r=(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i))).listWrapper=r.query(".{name}-content")||r.query(".js-content"),r.scrollingElement=t.getPageScrollingElement(),r.profileKey=r.options.type,t.rAFs(r,"render","hideTeaser","removeTeaser","addTeaser","showTeaser"),r.start(),r}return(0,l.default)(n,e),(0,s.defaultrn{type:"",hideDuraclearTeaserList:"clearList"}}}]),(0,s.default)(n,[{key:"start",value:function(){var e=this;r.ready.then((function(){var t=r.getState();e.isTiviUser=t.isTiviUser(),e.profile=t.getUserProfile(),e.element.classList.add("m-ready"),e.checkBeforeRender()}))}},{key:"checkBeforeRender",value:function(e,t){var n=this;(e=e||this.profile[this.profileKey])&&function(e){n.renderList(e,t)}))}},{key:"renderList",value:function(e,n){var i=this;this.listWrapper.innerHTML="",n=n||h(this.profileKey),e&&e.length?(this.element.classList.ahild(i.generateTeaser(e[n]))}))):this.element.classList.remove("m-has-teaser"),this.initShowmore(),t.events.dispatch(this.listWrapper,"domchanged")}},{key:"generateTeaser",value:function(e){var t={element:this.element,id:e,type:"profile-list",sourceModuleType:"content-teaser-list"};return p.default.teaserAttributes(t)}},{key:"initShowmore",valueist-showmore").rbComponent()}))}},{key:"addTeaser",value:function(e){var t=this,n=this.scrollingElement.scrollHeight,i=this.generateTeaser(e);i.classList.add("m-hide-teaser"),this.listWrappfunction(){t.showTeaser(i,n)}))}},{key:"showTeaser",value:function(e,n){var i=this;e.classList.remove("m-hide-teaser"),this.element.classList.add("m-has-teaser"),t.events.dispatch(this.listWrapper,"domchanged"),this.scrollingElement.scrollTop&&document.activeElement&&document.activeElement.getBoundingClientRect().top<e.getBoundingClientRect().top&&setTimeout((function(){i.compensateScrollDiff(n)}),this.options.hideDuration)}},{key:"hideTeaser",value:function(e){var t=this;e.classList.add("m-hide-teaser"),e.classList.rfunction(){t.removeTeaser(e)}),this.options.hideDuration)}},{key:"removeTeaser",value:function(e){e.remove(),this.hasTeaser()||this.element.classList.remove("m-has-teaser"),t.events.dispatch(this.listWrapper,"domchanged")}},{key:"compensateScrollDiff",value:function(e){var t=this.scrollingElement.scrollHeight-e;this.scrollingElement.scrollTop-=t}},{key:"clearList",value:function(){var e=this;if(this.isTiviUser){var t=Object.assign({},this.profile,(0,i.default)({},this.profileKey,[]));r.dispatch("updateSubProfile",t)}else this.profile[this.profileKey].concat([]).forEach((function(t,n){r.dispatch(e.profileKey,{value:t,action:"remove"})}))}},{key:"profileChange",value:function(e){var t=h(this.profileKey),n=e&&e.value&&e.value[t];if(n)if("remove"===e.action){var i=this.query('[data-teaser-id="'.concat(n,'"]'));i&&!i[c]&&(i[c]=!0,this.hideTeaser(i))}else"add"===e.action&&this.addTeaser(n)}},{key:"subProfileChange",value:function(){var e=r.getState();e.isTiviUser()&&(this.isTiviUser=!0,this.profile=e.getUserProfile(),this.checkBeforeRende-fallback-teaser)").length>0}},{key:"installProfileListener",value:function(){var e=this;r.ready.then((function(){e.deinstallProfileListener(),r.subscribe("activeSubProfileChanged",e.subProfileChange),r.subscribe(e.profileKey,e.profileChange)}))}},{key:"deinstallProfileListener",value:function(){r.unsubscribe("activeSubProfileChanged",this.subProfileChange),r.unsubscribe(this.profileKey,this.profileChange)}},{key:"detached",value:function(){this.deinstallProfileListehis.installProfileListener()}}]),n}(t.Component),(0,u.default)(e.prototype,"profileChange",[d.autobind],Object.getOwnPropertyDescriptor(e.prototype,"profileChange"),e.prototype),(0,u.default)(e.prototype,"subProfileChange",[d.autobind],Object.getOwnPropertyDescriptor(e.prototype,"subProfileChange"),e.prototype),e);return t.live.register("profilelist",m),m},"object"===(0,c.default)(e)&&e.exports?e.exports=r():r()}).call(this,n(12)(e))},function(e,t,n){"use strict";n(49),e.exports=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>=0||!!eurn e(this,"a","name",t)}}))},function(e,t,n){"use strict";n(82),n(49);var i={ANDROID:"Android",IOS:"iOS",WINDOWS_PHONE:"Windows Phone",UNKNOWN:"unknown",IPHONE:"iPhone",IPAD:"iPad",IPOD:"iPod",getMobileOs:function(){var e=i.getUserAgent();return/windows phone/i.test(e)?i.WINDOWS_PHONE:/android/i.test(e)?i.ANDROID:/iPad|iPhone|iPod/.test(e)&&!window.MSStream?i.IOS:i.UNKNOWN},getDevice:function(){var e=i.getUserAgent();return/iPhone/.test(e)&&!window.MSStream?i.IPHONE:/iPad/.test(e)&&!window.MSStream?i.IPAD:/iPod/.test(e)&&!window.MSStream?i.IPOD:void 0},getAndroidVersion:function(){var e=i.getUserAgent().match(/android\s([0-9\.]*)/i);return e?e[1]:0},getChromeVersion:function(){var e=i.getUserAgent().match(/chrome\/([0-9\.]*)/i);tor.vendor||window.opera||""},isKindle2013Device:function(){var e=i.getUserAgent();return["KFAPWI ","KFAreturn new RegExp(t).test(e)}))}};e.ee.exports=i&&i.userAgent||""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsentChange=function(){e=(0,i.hasTrackingConsent)()&&(0,i.hasPersonalizationConsent)(),zdfsite.trackingDiction(){n(1)})),"Object",o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCookies=function(){if(!window.OnetrustActiveGroups||!window.Optanon)return void console.warn("deleteCookies: OneTrust not initialized, no cookies changed");!function(e){var t=JSON.parse(JSON.stringify(Optan)<=-1&&n.push(e[i]);return n}(e,OnetrustActiveGroups);if(0!=n.length&&0!=t.length)for(var i=0;i<t.length;i++){if(""!=t[i].CustomGroupId&&n.includes(t[i].CustomGroupId))for(var a=0;a<t[i].Cookies.length;a++)r(t[i].Cookies[a].Name);if(0!=t[i].Hosts.length)for(a=0;a<t[i].Hosts.length;a++)if(n.includes(t[i].Hosts[a].HostId)&&0!=t[i].Hosts[a].Cookies.length)for(var o=0;o<t[i].Hosts[a].Cookies.length;o++)r(t[i].Hosts[a].Cookies[o].Name)}}(Object.values(i.OT_CONSENT_GROUPS).join(","))},n(9),n(8),n(5),n(97),n(17),n(14),n(28),n(26);var i=n(135);function r(e){var t=window.location.hostname,n=t.split(".");document.cookie=e+"=; Max-Age=-99999999; Path=/;Domain="+t,document.cookie=e+"=; Max-Age=-99999999; Path=/;",n.forEach((function(i,r){0===r?(t=t.replace(i,""),document.cookie=e+"=; Max-Age=-99999999; Path=/;Domain="+t):1===r&&(t=t.replace(n[0],"").replace("."+i,""),document.cookie=e+"=; Max-Age=-99999999; Path=/;Domain="+t)})),t=window.location.hostname;for(var i=window.location.pathname.split("/"),r=0;r<i.length;r++)if(i[r]){var a=i.slice(0,r+1).join("/");document.cookie=e+"=; Max-Age=-99999999; Path="+a+";Domain="+t,document.cookie=e+"=; Max-Age=-99999999; Path="+a+";",document.cookie=e+"=; Max-Age=-99999999; Path="+a+"/;Domain="+t,document.cookie=e+"=; Max-Age=-99999999; Path="+a+"/;"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e){}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e,t,n){(0,r.handleConsent)(e),o.default.ready.then((function(){o.default.dispatch("personalizationConsentChanged",e),e||n||((0,a.removeDataForConsentGroup)(t),o.default.removeAllUserHistory())}))};var r=n(351),a=n(505),o=i(n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e){}},function(e,t,n){t.f=n(20)},function(e,t,n){var i=n(27),r=n(59),a=n(64),o=n(352),s=n(37).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";var i=n(227),r=n(202),a=n(358),o=n(171),s=n(269),l=n(519),u=n(275),c=n(526),d=n(174)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,v,g){l(n,t,h);var y,b,_,w=function(e){if(!f&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",S="values"==m,O=!1,E=e.prototype,P=E[d]||E["@@iterator"]||m&&E[m],T=P||w(m),x=m?S?w("entries"):T:void 0,C="Array"==t&&E.entries||P;if(C&&(_=c(C.call(new e)))!==Object.prototype&&_.next&&(u(_,k,!0),i||"function"==typeof _[d]||o(_,d,p)),S&&P&&"values"!==P.name&&(O=!0,T=function(){return P.call(this)}),i&&!g||!f&&!O&&E[d]||o(E,d,T),s[t]=T,s[k]=p,m)if(y={values:S?T:w("values"),keys:v?T:w("keys"),entries:x},g)for(b in y)b in E||a(E,b,y[b]);else r(r.P+r.F*(f||O),t,y);return y}},function(e,t,n){var i=n(518);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=!n(154)&&!n(228)((function(){return 7!=Object.defineProperty(n(357)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(172),r=n(138).document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){e.exports=n(171)},function(e,t,n){var i=n(155),r=n(173),a=n(522)(!1),o=n(272)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,u=[];for(n in s)n!=o&&i(s,n)&&u.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},function(e,t){var n={}.toString;e.exports=function(e){rtion(e){return Object(i(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(359),r=n(274).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(278),r=n(229),a=n(173),o=n(268),s=n(155),l=n(356),u=Object.getOwnPropertyDescriptor;t.f=n(154)?u:function(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))re ᠎             　\u2028\u2029\ufeff"},function(e,t,n){"use strict";(function(e){var t=n(2);n(76),n(28),n(26);var i,r=t(n(0)),a=t(n(1)),o=t(n(23)),s=t(n(11)),l=n(24),u=n(47);i=function(){var e,t=window.zdfsite,n=["http://zdf.de/rels/content/page-home","http://zdf.de/rels/content/special-page-search","http://zdf.de/rels/content/special-page-my-zdf","http://zdf.de/rels/content/page-index","http://zdf.de/rels/content/page-index-news"];return(new(e=function(){function e(){(0,r.default)(this,e),this.public={onlySaveViewHistoryInLocalStage:this.onlySaveViewHistoryInLocalStage,saveViewHistory:this.saveViewHistory}}return(0,a.default)(e,[{key:"onlySaveViewHistoryInLocalStage",value:function(){return t.user.getState(),this.disabled=!t.consentManagementSettings.enableConsentManagement&&t.trackingDisabled||!1===(0,u.hasPersonalizationConsent)(),this.disabled}},{key:"saveViewHistory",value:function(){var e=t.userViewHistoryBlacklist,n=t.profile,i=t.externalId,r=t.excludeFromLastViewed;return!!this.onlySaveViewHistoryInLocalStage()||(i?!!this.noViewHistoryEntryShouldExistFor(n)||!!e.includes(location.pathname)||"true"===r||!0===r:void 0)}},{keysome((function(t){return function(e,t){return t.startsWith(e)}(t,e)}))}}]),e}(),(0,o.default)(e.prototype,"onlySaveViewHistoryInLocalStage",[l.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onlySaveViewHistoryInLocalStage"),e.prototype),(0,o.default)(e.prototype,"saveViewHistory",[l.autobind],Object.getOwnPropertyDescriptor(e.prototype,"saveViewHistory"),e.prototype),e)).public},"object"===(0,s.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t=n(42),i=n(2),r=i(n(100));n(84);var a=i(n(101));n(36),n(5);var o=i(n(0)),s=i(n(1)),l=i(n(11));n(176);var u,c=i(n(204)),d=i(n(232)),f=t(n(205)),p=n(47);u=function(){var e=window.zdfsite,t=e.seamlessViewPullRate,i=n(369);return function(){function n(e){var t=thi.getItem=function(e){if(t.collection)return t.collection.getItem(e)},this.getItems=function(){return t.collection?t.collection.getItemsArray().filter((function(e){return e.currentPosition<e.duration-5})):[]},(0,c.default)(this),this.user=e,this.initialize(),e.subscribe("activeSubProfileChanged",(function(){t.initialize()})),e.subscribe("personalizationConsentChanged",(function(){t.initialize()}))}var l,u;return(0,s.default)(n,null,[{key:"getServerUrlForUserId",value:function(t){return"".concat(e.apiService,"/identity/user-histories/").concat(t,"/playbackHistory?profile=current-video-type&includeNestedObjects=false")}},{key:"getStorageKeyForUserId",value:function(e){return"zdf_user_".concat(e,"_history")}},{key:"clear",value:function(e,t){f.c,value:function(e){f.removeFromStorage(n.getStorageKeyForUserId(e))}}]),(0,s.default)(n,[{key:"initialize",value:function(){var t=this,i=this.user.getState(),r=i.getUserId();this.syncWithIdentityService=i.isLoggedIn&&(0,p.hasPersonalizationConsent)();var a={};if(this.syncWithIdentityService&&(a={http:{url:n.getServerUrlForUserId(r),saveUrl:"".concat(e.apiService,"/identity/user-histories/").concat(r,"/playbackHistory/entries"),deleteUrl:"".concat(e.apiService,"/identity/user-histories/").concat(r,"/playbackHistory"),headers:f.getAuthHeaders(i.token),errorHandler:function(e){401===e.status&&t.user.showLogin()}},loadRemoteData:e.shouldFetchUserdata}),!e.cmp.isActive||e.cmp.isActive&&(0,p.hasPersonalizationConsent)()){var o=n.getStorageKeyForUserId(r);thcribe("change",(function(){t.publish("change",{items:t.getItems()})}))}}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!i.onlySavePlaybackHistoryInLocalStage()&&this.collection&&(this.collection.addItem(e),this.save(t))}},{key:"removeAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.syncWithIdentityService;this.collection&&this.collection.removeAll(e)}},{key:"removeItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.syncWithIdentityService;s.collection.removeItems(e,t):new Promise((function(e){return e([])}))}},{key:"fetchHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!i.onlySavePlaybackHistoryInLocalStage()&&this.collection){var n=new Date(this.state.lastPullDate).getTime(),r=(new Date).getTime();r-n<t&&!1===e||(this.collection.load(),this.collection.setState({lastPullDate:(new Date).toISOString()}))}}},{key:"getAllItems",value:(u=(0,a.default)(r.default.mark((function e(){var t=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.collection?t.collection.getAllItemsArray().then((function(t){e(t)})).catch((function(t){rb.logWarn("Error getting playback-history:",t),e([])})):e([])})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getAllItemsForSubprofile",value:(l=(0,a.default)(r.default.mark((function e(t){var i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={url:n.getServerUrlForUserId(t),headers:f.getAuthHeaders(this.user.getState().token)},e.abrupt("return",f.getAllItemsForUser(n.getStorageKeyForUserId(t),i));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getItemHistory",value:function(e){var t=this;return new Promise((function(n,i){t.collection.getItem(e)?n(t.collection.getItem(e)):i&&i("item does not exist")}))}},{key:"enablePolling",value:function(){!i.onlySavePlaybackHistoryInLocalStage()&&this.collection&&(this.pollingEnabled=!0,this.startFetchTimer())}},{key:"disablePolling",value:function(){this.pollingEnabled=!1,this.stopFetchTimer()}},{key:"startFetchTimer",value:function(){var e=this;this.stopFetchTimer();var n=this.collection.state.lastPullDate,i=new Date(n).getTime(),r=Date.now()-i,erId=setTimeout((function(){e.collection.load(),e.startFetchTimer()}),a))}},{key:"stopFetchTimer",value:function(){this.fetchTimerId&&(clearTimeout(this.fetchTimerId),this.fetchTimerId=null)}},{key:"save",value:function(e){!i.onlySavePlaybackHistoryInLocalStage()&&this.collection&&i.savePlaybackHistory(e,this.collection)}}]),n}()},"object"===(0,l.default)(e)&&e.exports?e.exports=u():u()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t,i=n(2),r=i(n(0)),a=i(n(1)),o=i(n(23)),s=i(n(11)),l=n(24),u=n(47);t=function(){var e,t=window.zdfsite.seamlessViewPushRate;return(new(e=function(){function e(){(0,r.default)(this,e),this.public={onlySavePlaybackHistoryInLocalStage:this.onlySavePlaybackHistoryInLocalStage,savePlaybackHistory:this.savePlaybackHistory}}rettage",value:function(){return!1===(0,u.hasPersonalizationConsent)()}},{key:"savePlaybackHistory",value:function(e,n){if(e)this.stopPushTimer(),n.save();else{var i=void 0,r=Date.now(),a=n.state,o=a.nextPushDate,s=a.lastPushDate;if(o){var l=new Date(o).getTime()-r;i=Math.max(1,Math.min(t,l))}else{var u=new Date(s).getTime()||Date.now();if(r-u>t)i=1;else{var c=r+(i=t-(r-u));n.setState({nextPushDate:new Date(c).toISOString()})}}this.startPushTimer(i,n)}}},{key:"startPushTimer",value:function(e,t){this.stopPushTimer(),this.pushTimerpushTimerId&&(clearTimeout(this.pushTimerId),this.pushTimerId=null)}}]),e}(),(0,o.default)(e.prototype,"onlySavePlaybackHistoryInLocalStage",[l.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onlySavePlaybackHistoryInLocalStage"),e.prototype),(0,o.default)(e.prototype,"savePlaybackHistory",[l.autobind],Object.getOwnPropertyDescriptor(e.prototype,"savePlaybackHistory"),e.prototype),e)).public},"object"===(0,s.default)(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i,r,a;n(10),r=[t,n(68),n(371)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function e(){var t=void 0,n=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=arguments[0]||{},c=1,d=!1,f=arguments.length;for("boolean"==typeof u&&(d=u,u=arguments[c]||{},c++),"object"!==(void 0===u?"undefined":(0,i.default)(u))&&"function"!=typeof u&&(u={}),c===f&&(u=this,c--);c<f;c++)if(null!=(t=arguments[c]))for(n in t)a=u[n],o=t[n],u!==o&&(d&&o&&((0,r.default)(o)||(s=Array.isArray(o)))?(s?(s=!1,l=a&&Array.isArray(a)?a:[]):l=a&&(0,r.default)(a)?a:{},u[n]=e(d,l,o)):void 0!==o&&(u[n]=o));return u};var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(34),n(5),r=[t],void 0===(a="function"==typeof(i=fu"==typeof(s=i.call(t,"constructor")&&t.constructor)&&r.call(s)===o)};var t={},n=t.toString,i=t.hasOwnProperty,r=i.toString,a=Object.getPrototypeOf,o=r.call(Object)})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(36),n(5);var r=i(n(0)),a=i(n(1)),o=i(n(283)),s=function(){function e(t){(0,r.default)(this,e),this._loadingQueue=[],this._loading=!1,this.fetchManager=new o.default(t)}return(0,a.default)(e,[{key:"setOption",value:function(){var e;(e=loadingQueue.push({options:e,resolve:n,reject:i}),t._fetchNext()}))}},{key:"_fetchNext",value:function(){!1===this._loading&&this._loadingQueue.length>ntinueFetching",value:function(){this._loading=!1,this._fetchNext()}},{key:"_fetch",value:function(){var e=this,t=this._loadingQueue.shift();t?this.fetchManager.fetch(t.options).then((function(n){t.resolve(n),e._continueFetching()})).catch((function(n){t.reject(n),e._continueFetching()})):this._continueFetching()}}]),e}();t.default=s},function(e,t,n){"use strict";(function(e){var t=n(2);n(158),n(19),n(9);var i,r=t(n(0)),a=t(n(1)),o=t(n(3)),s=t(n(4)),l=t(n(11)),u=t(n(75));i=function(){var e=window.rb,t=window.zdfsite,i=n(115),l=n(121),c=n(285);return new(function(n){function i(){var e,t;(0,r.default)(this,i);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=(0,o.default)(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(a)))).subscriptionObjects={},t}return(0,s.default)(i,n),(0,a.default)(i,[{key:"normalizeDate",value:function(e){for(var t=(e=new Date(e)).getDate(),n=0,i=[20,10,1];n<i.length;n++){var r=i[n];if(t>=r){e.setDate(r);break}}return e.setHours(0,0,0,0),e.getTime()}},{key:"generateUrl",value:function(n){var i=c(n.date).getTime()||0,r=t.user.getState().profile,a=c(r.lastNotificationsDelete).getTime()||0,o=l(this.normalizeDate(a)),s=void 0;a>i?(i=a,s=o):s=l(this.normalizeDate(i));var d=new Date;d.setTime(Date.now()+864e5),d.setHours(0),d.setMinutes(0),d.setSeconds(0);var f=l(d.getTime()),p={path:n.path,timeStamp:i,formattedStartDate:s};null==n.path&&e.logWarn("subscription has no path",n);var h="".concat(t.apiService,"/search/documents").concat(t.rootNode).concat(n.path,"?").concat((0,u.default)({from:p.formattedStartDate,to:f,hasVideo:"true",types:"page-video",limit:64,sortBy:"date",sortOrder:"desc",q:"*"}));return this.subscriptionObjects[h]=p,h}},{key:"processData",value:function(e,t,n){var i=[],r=this.subscriptionObjects[n],a=Date.now();if(r){e=e&&e["http://zdf.de/rels/search/results"]||[];var o=!0,s=!1,l=void 0;try{for(var u,d=e[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var f=u.value,p=(f=f["http://zdf.de/rels/target"]).endDate?c(f.endDate).getTime():0;if(f&&f.editorialDate&&f.id&&f.externalId&&!(p&&p<=a)){var h=new Date(f.editorialDate).getTime();if(!(h>a)){if(h<r.timeStamp)break;i.push({timeStamp:h,externalId:f.externalId,id:f.id,newContent:!0})}}}}catch(e){s=!0,l=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}}return i}},{key:"fetch",value:function(e,n){var i=this,r={url:e,headers:this.generateRequestHeaders(e)};t.shouldFetchUserdata&&this.fetchManager.fetch(r).then((function(t){i.success(t.data,e,n)}),(function(t){var r=i.promises[n]||i.promises[e];r?r.resolve(i.options.fallbackContent):i.error(i.options.fallbackContent,e,n)}))}}]),i}(i))("notification")},"object"===(0,l.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){n(13);var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11);t=function(){var e=window.zdfsite,t=n(115),s=n(121),l=n(285);return new(function(t){function n(e,t){var r;return i(this,n),(r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))).bookmarkObjects={},r}return o(n,t),r(n,[{key:"generateUrl",value:function(t){var n=e.apiService+"/content/documents/"+t.id+".json?profile=pd-bookmark";return this.bookmarkObjects[n]=t,n}},{key:"processData",value:function(e,t,n){var i=void 0,r=Date.now(),a=this.bookmarkObjects[n],o=e.endDate,u=e.hasVideo&&e.mainVideoContent&&e.mainVideoContent["http://zdf.de/rels/target"]||null;u&&(i=u.visibleTo);var c=[o,i].filter((function(e){return!!e}))=l(e);return!isNaN(t.getTime())&&t})).filter((function(e){return!!e})),d=!!c.length&&Math.min.apply(null,c),f=d?s(d):"";return{action:!d||d>r?"update":"remove",value:Object.assign({},a,{endDate:f,errors:0,lastUpdated:s(r)})}}},{key:"error",value:function(e,t,n){var i=Date.now(),r=this.bookmarkObjects[n],a=r.endDate?l(r.endDate).getTime():0,o=Object.assign({},r,{errors:(r.errors||0)+1,lastUpdated:s(i)}),u={action:a<i||r.errors>2?"remove":"update",value:o},c=this.promises[n]?n:t;this.promises[c].resolve(u)}},{key:"fetch",value:function(e,t){var n=this,i={headers:this.generateRequestHeaders(e),type:"GET",url:e};this.fetchManager.fetch(i).then((function(i){n.success(i.data,e,t)}),(function(i){n.error(i,e,t)}))}}]),n}(t))("bookmark")},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.completeMyProgramIntro=function(){return{type:"COMPLETE_MY_PROGRAM_INTRO"}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"COMPLETE_MY_PROGRAM_INTRO":return o({},e,{myProgramIntroComplete:!0});default:return e}};var r=i(n(21));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={myProgramIntroComplete:!1}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.cleanHash=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=e,s=e.split("#");if(s.length>1){var l=(0,r.default)(s[1]),u=Object.keys(l).reduce((function(e,t){return n.includes(t)||(e[t]=l[t]),e}),{}),c=Object.keys(u).length?"#".concat((0,a.default)(u)):"";o="".concat(s[0]).concat(c).replace(/=\s*$/,"")}return o},t.getPlainHashValue=functioe.replace("#","")),n=Object.keys(t).filter((function(e){return!t[e]}));return n.length?n[0]:null},n(17),n(28),n(26),n(9),n(8),n(5),n(18),n(14);var r=i(n(52)),a=i(n(75))},function(e,t,n){"use strict";var i=n(2);n(22),n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.LoggedInUser=t.LoggedInSubUser=t.AnonymousUser=t.AnonymousSubUser=void 0,n(10);var r=i(n(3)),a=i(n(4));n(9),n(8),n(5),n(18);var o=i(n(11));n(13),n(15);var s=i(n(21)),l=i(n(0)),u=i(n(1)),c=i(n(121)),d=i(n(177)),f=i(n(287)),p=i(n(288)),h=i(n(289)),m=i(n(290)),v=i(n(378)),g=i(n(379)),y=n(159);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((0,l.default)(this,e),this.type=t,this.initModels(),this.importStoredData(n),i){var r=_({},i,{},this.userSettings.settingault,this.userSettings=new p.default,this.userDetails=new h.default}},{key:"importStoredData",value:function(e){this.type===y.USER_TYPE.MAIN&&this.userInfo.update(y.STORAGE.get(this.getInfoStorageKey())),this.userDetails.update(y.STORAGE.get(this.getDetailsStorageKey())),this.userSettings.update(y.STORAGE.get(this.getSettingsStorageKey(e)))}},{key:"get",value:function(e){var t=this.getProfile();return t.hasOwnProperty(e)||rb.logWarn("UserData: key '".concat(e,"' does not exist")),t[e]}},{key:"getProfile",value:function(){return _({},this.userInfo.info,{},this.userDetails.details,{},this.userSettings.settings)}},{key:"getUserInfo",value:function(){return this.userInfo.info}},{key:"getSubUserById",value:function(e){var t=(this.get("subProfiles")||[]).find((function(t){return t.id===e}));return t?new k(!0,e,t):(rb.logWarn("subukey:"getStored",value:function(e){return this.getStoredProfile()[e]}},{key:"getStoredProfile",value:function(){var e={};return this.type===y.USER_TYPE.MAIN&&Object.assign(e,y.STORAGE.get(this.getInfoStorageKey())),Object.assign(e,y.STORAGE.get(this.getDetailsStorageKey())),Object.assign(e,y.STORAGE.get(this.getSettingsStorageKey())),e}},{key:"getSettingsStorageKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,y.getSettingsStorageKey)(this.type,e||this.get("id"))}},{key:"getDetailsStorageKey",value:function(){return(0,y.getDetailsStorageKey)(this.type)}},{key:"getInfoStorageKey",value:function(){return(0,y.getInfoStorageKey)()}},{key:"updateSubProfile",value:function(e,t){var n=(0,y.updateSubProfiles)(this,e);this.update({subProfiles:n},t)}},{key:"initRemoteProfile",value:function(e){var t=(0,y.filterUserDetailsData)(e),n=parseInt(this.getStored("migration"),10)||0,i=(0,v.default)(t,n);this.update(i,!1)}},{key:"update",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(rb.log("UserData: update with data:",e),"object"===(0,o.default)(e)&&Object.keys(e).length){var n=(0,y.filterUserDetailsData)(e),i=(0,y.filterUserInfoData)(e),r=(0,y.filterUserSettingsData)(e);this.userDetails.update(n),this.userInfo.update(i),this.userSettings.update(r),this.save(),t&&(Object.keys(n).length&&this.syncDetails(n),Object.keys(i).length&&this.updateUserInfo(i))}}},{key:"save",value:function(){var e=this.getSettingsStorageKey();y.STORAGE.set(e,this.userSettings.settings);var t=this.getDetailsStorageKey();if(y.STORAGE.set(t,this.userDetails.details),this.type===y.USER_TYPE.MAIN){var n=this.getInfoStorageKey();y.STORAGE.set(n,this.userInfo.info)}}},{key:"syncDetails",value:function(e){var t=this;rb.log("UserData.syncDetails:",e),this.isAnonUser()g.default)(e).then((function(){t.update({lastSync:(0,c.default)()})})).catch((function(e){rb.logWarn("Error in syncUserDetails:",e)}))}},{key:"updateUserInfo",value:function(e){rb.log("UserData.updateUserInfo:",e),d.default.updateUserInfo(e)}},{key:"isAnonUser",value:fukey:"isLoggedIn",value:value:function(){return JSON.stringify(this.getProfile(),null,"\t")}},{key:"toJSON",value:function(){return this.getProfile()}}]),e}(),k=function(e){function t(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,l.default)(this,t),(i=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,a,o))).mainUser=eon(){this.userSettings=new p.default,this.userDetails=new m.default}},{key:"importStoredData",value:function(e){this.userDetails.update(y.STORAGE.get(this.getDetailsStorageKey())),this.userSettings.update(y.STORAGE.get(this.getSettingsStorageKey(e)))}},{key:"getProfile",value:function(){return _({},this.userDetails.details,{},this.userSettings.settings)}},{key:"getUserInfo",value:function(){var e=this.getProfile();return{id:e.id,name:e.name,avatar:e.avatar}}},{key:"getUserDetails",value:funcction(e){return rb.logWarn("getSubUserById called on subuser"),null}},{key:"update",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(rb.log("SubUserData: update with data:",e),"object"===(0,o.default)(e)&&Object.keys(e).length){var n=(0,y.filterSubUserDetailsData)(e),i=(0,y.filterUserSettingsData)(e);this.userDetails.update(n),this.userSettings.update(i),this.save(),t&&!this.isAnonUser()&&Object.keys(n).length&&this.mainUser.updateSubProfile(this.getProfile(),!0)}}}]),t}(w),S=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,l.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,y.USER_TYPE.MAIN,e,n))}return(0,a.default)(t,e),t}(w);t.LoggedInUser=S;var O=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,l.default)(this,t);var n=y.ANONYMOUS_ID;return(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,y.USER_TYPE.ANON,n,_({},e,{id:n})))}return(0,a.default)(t,e),t}(w);t.AnonymousUser=O;var E=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,l.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,y.USER_TYPE.SUB,n,i))}return(0,a.default)(t,e),t}(k);t.LoggedInSubUser=E;var P=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,l.default)(this,t);var i=y.ANONYMOUS_ID;return(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,y.USER_TYPE.ANON_SUB,i,_({},n,{id:i})))}return(0,a.default)(t,e),t}(k);t.AnonymousSubUser=P},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=s.length-1;return t=Math.max(0,Math.min(n,t)),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s[t](e),{migration:n})};var r=i(n(21)),a=n(159);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enn(e){return e},function(e){return(0,a.filterUserSettingsData)(e,!0)}]},function(e,t,n){"use strict";var i=n(2);n(22),n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=i(n(53)),a=i(n(21));n(9),n(8),n(5),n(18);var o=i(n(177));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=window.rb,c=[],d=[],f=!1,p=0;function h(e,t){for(var n=e?"resolve":"rp()[n](t)}function m(){f=!1,c.length&&v().then((function(e){h(!0,e)})).catch((function(e){u.logWarn("Error in subsequent syncUserDetails:",e),h(!1,e)}))}function v(e){u.log("syncUserDetails with data:",e);var t=n(7),i=u.deferred();if(e&&Object.keys(e).length&&c.push(e),!c.length)return u.log("nothing to sync"),i.reject("nothing to sync"),i;if(f)return u.log("sync in progress, waiting..."),d.push(i),i;f=!0;var s=c.splice(0),h=t.getMainUser(),v=h.getProfile(),g={};return s.forEach((function(e){g=l({},g,{},Object.keys(e).reduce((function(e,t){return l({},e,(0,a.default)({},t,h.get(t)))}),{}))})),o.default.updateUserDetails(g).then((function(e){u.log("successfully synced details:",e),p=0,i.resolve(e),m()})).catch((function(e){u.logError("error syncing details:",e),f=!1,p++;var n=!0;409===e.status&&"http://zdf.de/rels/invalid-resource"!==e.data.profile&&(n=!1,t.fetchUserDetails().then((function(){t.applyUserDataDiff(v,g)}))),n?(c.unshift.apply(c,(0,r.default)(s)),d.push(i),429!==e.status&&p<10?setTimeout((function(){return m()}),20):(u.log("no more sync retries"),p=0)):(u.log("not retrying sync"),p=0,i.reject(e))})),i}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.staticStartTracking=function(){if(zdfsite.nielsenAppId){var e=zdfsite.tracking.nielsen;if(e)NOLBUNDLE.nlsQ(zdfsite.nielsenAppId,"nlsnInstance").ggPM("staticstart",e)}};var r=i(n(11));!function(e,t){function n(e){return"objectog("Error: Cannot register event in Nielsen SDK queue.")}}},e[t][r]}}}(window,"NOLBUNDLE")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getProfile();if(zdfsite.useABLibrary){if(!(0,i.hasValidAbConfig)(t)){if(!window.abselector||!window.abselector.getGroup)return void rb.log("cannot get new a/b config from abselector, library not initialized!");var n=window.abselector.getGroup();rb.log("getting new a/b config from abselector:",n);var r=n||{},a=r.name,o=void 0===a?"":a,s=r.group,l=void 0===s?"":s,u=r.expirationDate,c=void 0===u?"":u;e.update({abConfigName:o,abGroupName:l,abTestExpirationDate:c})}}else(0,i.getAbConfig)(t).then((function(t){e.get("abConfigName")===t.abConfigName&&e.get("abGroupName")===t.abGroupName&&e.get("abTestExpirationDate")===t.abTestExpirationDate||e.update(t)}))},n(10);var i=n(382)},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.getAbConfig=void 0,t.hasValidAbConfig=d,n(10);var r=i(n(100));n(84);var a,o=i(n(101)),s=(a=(0,o.default)(r.default.mark((function e(t){var n,i,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(t)){e.next=2;break}return e.abrupt("return",u());case 2:return n=t.abConfigName,i=t.abGroupName,a=t.abTestExpirationDate,e.abrupt("return",{abConfigName:n,abGroupName:i,abTestExpirationDate:a});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)});t.getAbConfig=s;var l,u=(l=(0,o.default)(r.default.mark((function e(){var t,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c).then((function(e){return e.json()}));case 2:return t=e.sent,e.next=5,fetch(t.abGroupEndpoint).then((function(e){return e.json()}));case 5:return n=e.sent,e.abrupt("return",{abConfigName:n.name,abGroupName:n.group,abTestExpirationDate:n.expirationDate});case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)}),c=zdfsite.abTestingUrl;function d(e){var t=e.abConfigName,n=e.abGroupName,i=e.abTestExpirationDate,r=new Date(i)<new Date;return!(!(t&&n&&i)||r)}},function(e,t,n){"use strict";n(103);var i=n(11);e.exports=function(e,t,n){var r=-1;return e&&-1==(r=e.ind"==i(t)&&n in t&&(t=t[n]),r=e.findIndex((function(e){return e[n]==t}))),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleConsent=function(e){(0,i.handleConsent)(e),(0,r.handleConsent)(e),(0,a.handleConsent)(e),(0,o.handleConsent)(e)};var i=n(296),r=n(297),a=n(298),o=n(299)},function(e,t,n){"use strict";var i,r,a;r=[t,n(160),n(180)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,n){var a=0,o=(0,r.default)(e);Array.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++){var l=(0,i.default)(e,t[s],!0,o);(!n||l>0)&&(a+=l)}return a};var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(13),n(33),n(56),r=[t,n(68),n(40),n(140)],void 0===(a="function"==typeof(i=function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.rAF=l,e.rAFs=u,e.rafDecorator=function(e){return function(t,n,i){return"function"==typeof i.value&&(i.value=l(i.value,e)),i}},e.default=function(e){return"function"==typeof e?l.apply(void 0,arguments):u.apply(void 0,arguments)};var r=s(t),a=s(n),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=void 0,i=void 0,r=void 0,s=void 0,l=[],u=function(){if(n=!1,t.throttle)e.apply(r,i);else for(;l.length;)i=l.shift(),e.apply(i[0],i[1])},c=function(){i=arguments,r=t.that||this,t.throttle||l.push([r,i]),n||(n=!0,(0,o.default)(u,s))};return t||(t={}),s=!t.queue,e._rbUnrafedFn&&a.default.log&&a.default.log("double rafed",e),c._rbUnrafedFn=e,c}function u(e){var t=void 0,n=Array.from(arguments);n.shift(),"object"==(0,r.default)(n[0])&&(t=n.shift());var i=t&&t.nameAppendix||"";n.forEach((function(n){e[n+i]=l(e[n],t)}))}Object.assign(a.default,{rAF:l,rAFs:u})})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(10),r=[t,n(231),n(40)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=i.default.console||{},s=(o.log&&o.log.bind?o.log:r.default.$.noop,["error","warn","info","log"].map((function(e,t){return{name:"log"==e?"log":"log"+e.charAt(0).toUpperCase()+e.substr(1),errorLevel:t,fn:(o[e]&&o[e].bind?o[e]:r.default.$.noop).bind(o)}})));function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function(){},i=function(){var t=e.__isDebug;s.forEach((function(i){var r=!1!==t&&(!0===t||t>=i.errorLevel)?i.fn:n;e[i.name]=r}))};return e.__isDebug=t,i(),Object.defineProperty(e,"isDebug",{n e.__isDebug},set:function(t){e.__isDebug!==t&&(e.__isDebug=t,i())}}),e}r.default.addLog=l})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.sendDeltaTaggingEvent=function(e,t,n){if(console.log("sendDeltaTaggingEvent",e,t,n),!f.pianoConfig.pianoFlagOldDeltaTaggingImplementation)return void console.log("Old delta tagging has been switched off.");var i=c({},n,{deltaType:e});switch(!0){case/^page\./.test(e):!function(e,t){var n=t.passportOptions,i=(t.deltaType,(0,a.default)(t,["passportOptions","deltaType"])),r=f.user.getState().profile,u=r.abConfigName,d=r.abGroupName,p=f.tracking.atInternet,h=(0,o.getColorSchema)();n&&(i=c({},i,{},(0,s.getPageFSKFlag)(n)));var m=(0,l.sanitizeData)((0,l.createTrackingObjectForPageDisplayEvent)(p,h,u,d,i));e.events.send("page.display",m)}(t,i);break;case/^click\./.test(e):!function(e,t){var n=f.user.getState().profile,i=n.abConfigName,r=n.abGroupName,u=t.atiTrackingData,d=t.href,p=t.action,h=t.actionDetail,m=t.vpos,v=t.hpos,g=t.element,y=t.elementState,b=t.atiDeltaData;if("Faktenbox"===g&&"open"===y)return;var _=function(e,t,n,i,r,u,d,p,h){var m=(0,o.getColorSchema)(),v={},g=f.atInternetDeltaClickData,y=(g=void 0===g?{}:g).passportOptions,b=(0,a.default)(g,["passportOptions"]),_=f.tracking.atInternet;y&&(v=c({},v,{},(0,s.getPageFSKFlag)(y)));return(0,l.sanitizeData)((0,l.createTrackingObjectForClickEvents)(e,_,t,n,i,r,u,m,d,p,h,v,b))}(u,d,p,h,m,v,i,r,b);e.events.send(t.deltaType,_)}(t,i);break;case/^(publisher|self_promotion)\./.test(e):!function(e,t){var n=f.user.getState().profile,i=n.abConfigName,r=n.abGroupName,s=f.tracking.atInternet,u=(0,o.getColorSchema)(),c=t.action,d=t.actionDetail,p=t.onSiteAdAdvertiser,h=t.deltaType,m=t.atiTrackingData,v=t.href,g=t.atiDeltaData,y=(g=void 0===g?{}:g).withPosition,b=(0,a.default)(g,["withPosition"]),_={};if(y){var w=document,k=w.documentElement,S=w.body,O=k.scrollTop/(S.scrollHeight-k.clientHeight);_.page_pos=O.toFixed(2)}var E=(0,l.sanitizeData)((0,l.createTrackingObjectForOnSiteAdsEvent)(c,p,s,m,v,d,u,i,r,b,_));e.events.send(h,E)}(t,i);break;default:d.logWarn("Unknown Tagging-Type: ".concat(e))}};var r=i(n(21)),a=i(n(98)),o=n(239),s=n(389),l=n(240);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=window.rb,f=window.zdfsite},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageFSKFlag=void 0;t.getPageFSKFlag=function(e){var t=new URLSearchParams(window.location.hash.substring(1)),n={};if(e&&t.get("country-passport"))switch(t.get("country-passport")){case"german":"id-new"===t.get("date-passport")?n.page_fsk_doc=e["id-new"]:n.page_fsk_doc=e["id-with-version"];break;case"passport":n.page_fsk_doc=e.passport;break;case"residence-title":n.page_fsk_doc=e["residence-title"]}return n}},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.sendPianoAnalyticsEvent=function(e,t){var n=c({},t,{deltaType:e});switch(!0){case/^page\./.test(e):window.zdfsite.pianoConfig.pianoFlagViewTrack&&function(e){var t=e.passportOptions,n=e.deltaType,i=(0,a.default)(e,["passportOptions","deltaType"]),r=p.user.getState().profile,u=r.abConfigName,d=r.abGroupName,f=i.atInternet?i.atInternet:p.tracking.atInternet,m=(0,o.getColorSchema)();t&&(i=c({},i,{},(0,s.getPageFSKFlag)(t)));var v=(0,l.createTrackingObjectForPageDisplayEvent)(f,m,u,d,i);"special-page-search"===v.page_chapter2&&h(v);var g=(0,l.sanitizeData)(v),y=n||"page.display";pa.sendEvent(y,g)}(n);break;case/^click\./.test(e):window.zdfsite.pianoConfig.pianoFlagClickTrack&&function(e){var t=p.user.getState().profile,n=t.abConfigName,i=t.abGroupName,r=e.atiTrackingData,u=e.href,d=e.action,f=e.actionDetail,h=e.vpos,m=e.hpos,v=e.element,g=e.elementState,y=e.atiDeltaData,b=e.targetAssetId;if("Faktenbox"===v&&"open"===g)return;var _=(0,o.getColorSchema)(),w={},k=p.atInternetDeltaClickData,S=(k=void 0===k?{}:k).passportOptions,O=(0,a.default)(k,["passportOptions"]),E=p.tracking.atInternet;S&&(w=c({},w,{},(0,s.getPageFSKFlag)(S)));var P=(0,l.sanitizeData)((0,l.createTrackingObjectForClickEvents)(r,E,u,d,f,h,m,_,n,i,y,w,O,b));pa.sendEvent(e.deltaType,P)}(n);break;case/^(self_promotion\.click)/.test(e):window.zdfsite.pianoConfig.pianoFlagClickTrack&&function(e){var t=p.user.getState().profile,n=t.abConfigName,i=t.abGroupName,r=p.tracking.atInternet,s=(0,o.getColorSchema)();if(e.hasOwnProperty("onsitead_type")){e.withPosition&&(e.page_pos=m());var u=(0,l.sanitizeData)(e);return void pa.sendEvent(e.deltaType,u)}var c=e.action,d=e.actionDetail,f=e.onSiteAdAdvertiser,h=e.deltaType,v=e.atiTrackingData,g=e.href,y=e.atiDeltaData,b=(y=void 0===y?{}:y).withPosition,_=(0,a.default)(y,["withPosition"]),w={};b&&(w.page_pos=m());var k=(0,l.sanitizeData)((0,l.createTrackingObjectForOnSiteAdsEvent)(c,f,r,v,g,d,s,n,i,_,w));pa.sendEvent(h,k)}(n);break;case/^internal_search_result\./.test(e):window.zdfsite.pianoConfig.pianoFlagClickTrack&&function(e){var t=p.user.getState().profile,n=t.abConfigName,i=t.abGroupName,r=e.atiTrackingData,u=e.href,d=e.action,f=e.actionDetail,m=e.vpos,v=e.hpos,g=e.element,y=e.elementState,b=e.atiDeltaData;if("Faktenbox"===g&&"open"===y)return;var _=(0,o.getColorSchema)(),w={},k=p.atInternetDeltaClickData,S=(k=void 0===k?{}:k).passportOptions,O=(0,a.default)(k,["passportOptions"]),E=p.tracking.atInternet;S&&(w=c({},w,{},(0,s.getPageFSKFlag)(S)));var P=(0,l.createTrackingObjectForClickEvents)(r,E,u,d,f,m,v,_,n,i,b,w,O);h(P);var T=(0,l.sanitizeData)(P);pa.sendEvent(e.deltaType,T)}(n);break;default:console.error("Unknown Tagging-Type: ",e),d.logWarn("Unknown Tagging-Type: ${type}",e)}},n(28),n(26),n(15);var r=i(n(21)),a=i(n(98)),o=n(239),s=n(389),l=n(240);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=window.rb,f=d.$,p=window.zdfsite;function h(e){var t,n,i,r,a,o;e.ise_keyword=f(window.document).find('input[type="hidden"][name="q"]').get()[0]?f(window.document).find('input[type="hidden"][name="q"]').get()[0].value:"",e.ise_AD=!!(null===(t=f(window.document).find('input[type="hidden"][name="attrs"]').get()[0])||void 0===t?void 0:t.value.includes("AD")),e.ise_UT=!!(null===(n=f(window.document).find('input[type="hidden"][name="attrs"]').get()[0])||void 0===n?void 0:n.value.includes("UT")),e.ise_DGS=!!(null===(i=f(window.document).find('input[type="hidden"][name="attrs"]').get()[0])||void 0===i?void 0:i.value.includes("DGS")),e.ise_result=(null===(r=f(window.document).find('input[type="hidden"][name="resultCount"]').get()[0])||void 0===r?void 0:r.value)>0,e.ise_n_results=(null===(a=f(window.document).find('input[type="hidden"][name="resultCount"]').get()[0])||void 0===a?void 0:a.value)?null===(o=f(window.document).find('input[type="hidden"][name="resultCount"]').get()[0])||void 0===o?void 0:o.value:0,e.ise_content_filter="Alle Inhalte"}function m(){var e=document,t=e.documentElement,n=e.body;return(t.scrollTop/(n.scrollHeight-t.clientHeight)).toFixed(2)}},function(e,t,n){"use strict";var i=n(21);n(13),n(9),n(8),n(5),n(18),Object.filterKeys=function(e t(e)})).reduce((function(t,n){return Object.assign(t,i({},n,e[n]))}),{})}},function(e,t,n){"use strict";var i,r,a;r=[t,n(66),n(78),n(70),n(71)],void 0===(a="function"==typeof(i=function(e,t,n,i,r){Object.defineProperty(e,"__esModule",{value:!0});var a=u(t),o=u(n),s=u(i),l=u(r);function u(e){return e&&e.__esModule?e:{default:e}}var c=void 0,d=void 0,f=window.rb,p=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.beforeConstruct=function(){e.prototype.beforeConstruct.call(this),c||(c=["js","rb","autofocus"].join(f.nameSeparator),d="."+c)},t.prototype.getFocusElement=function(e){var t=void 0;return e&&!0!==e?1==e.nodeType?t=e:"string"==typeof e&&(t=f.elementFromStr(e,this.element)[0]):t=this.options.autofocusSel&&this.query(this.options.autofocusSel)||this.query(d),t||!0!==e&&!this.element.classList.contains(c)||(t=this.element),t},t.prototype.setComponentFocus=function(e,t){var n;"number"==typeof e&&(t=e,e=null),n=e&&1==e.nodeType?e:this.getFocusElement(e),this.storeActiveElement(),n&&this.setFocus(n,t||this.options.focusDelay)},t.prototype.storeActiveElement=function(){var e=document.activeElement;return this._activeElement=e&&e.nodeName?e:null,this._activeElement},t.prototype.restoreFocus=function(e,t){var n=this._activeElement;n&&("number"==typeof e&&(t=e,e=null),this._activeElement=null,e&&this.element!=document.activeElement&&!this.element.contains(document.activeElement)||this.setFocus(n,t||this.options.focusDelay))},(0,o.default)(t,null,[{key:"defaults",get:function(){return{focusDelay:0,autofocusSel:""}}}]),t}(f.Component);f.live.registercan't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=o(n(602)),a=o(n(210));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"==typeof e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];e.call.apply(e,[t].concat(i))}}var l=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!window||!window&&!window.document)throw new Error("React Habitat requires a window but cannot see one :(");this.componentSelector="data-component",this.__container__=null}return i(e,[{key:"_apply",value:function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[],o=function(n){var o=e[n];if(r.default.hasHabitat(o))return"continue";var s=o.getAttribute(t.componentSelector);i.push(t.__container__.resolve(s,t).then((function(e){var n=r.default.parseProps(o);e.meta.defaultProps&&(n=Object.assign({},e.meta.defaultProps,n));var i=e.meta.options||{};t.__container__.factory.inject(e.component,n,r.default.create(o,t.__container__.id,i))})).catch((function(e){a.default.error("RHW01",'Cannot resolve component "'+s+'mise.all(i.map((function(e){return return e}))}))).then((function(){s(n)})).catch((function(e){throw e}))}},{key:"setContainer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===this.__container__?e.factory&&"function"==typeof e.factory.inject&&"functioy.dispose?(this.__container__=e,this.update(null,(function(){s(n,t)}))):a.default.error("RHE10","Incompatible factory"):a.default.error("RHW02","A container is already set. Please call dispose() before assigning a new one.")}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.__container__){var i=e||window.document.body,r=i.querySelectorAll("["+this.componentSelector+"]");r.length&&("function"!=typeof this.shouldUpdate||!1!==this.shouldUpdate(i,r)?("function"==typeof this.willUpdate&&this.willUpdate(i,r),this._apply(r,(function(){"function"==typeof t.didUpdate&&t.didUpdate(i),s(n,t)}))):s(n,this))}else s(n)}},{key:"unmountHabitats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"function"==typeof this.willUnmountHabitats&&this.willUnmountHabitats();for(var t=r.default.listHabitats(this.__container__.id),n=0;n<t.length;++n)this.__container__.factory.dispose(t[n]),r.default.destroy(t[n]);"function"==typeof this.didUnmountHabitats&&this.didUnmountHabitats(),s(e,this)}},{key:"dispose",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.unmountHabitats((function(){e.__container__=null,"function"==typeof e.didDispose&&e.didDispose(),s(t,e)}))}},{key:"container",get:function(){return this.__container__}}]),e}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(396),o=(i=a)&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))tll a class as a function")}var l,u=(l=0,function(){return"C"+(l+=1)}),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this._id=u(),this._registrations=n||{},this._factory=t}return r(e,[{key:"resolve",value:function(e){var t=this;return new Promise((function(n,i){var r=t._registrations[e];if(!r||!r.operator)return i(new Error("Cannot resolve registration.")),null;r.operator().then((function(e){var t=e;return e.__esModule&&e.default&&(t=e.default),n({component:t,meta:r.meta}),t})).catch(i)}))}},{key:"id",get:function(){return this._id}},{kngth",get:function(){return Object.keys(this._registrations).length}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(43)),a=s(n(604)),o=s(n(210));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"inject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];n?a.default.render(r.default.createElement(e,t||{}),n):o.default.warn("R:"dispose",value:function(e){e&&a.default.unmountComponentAtNode(e)}}]),e}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(210)),a=l(n(608)),o=l(n(tanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u(this,e),this._registrations=[],this._defaultOptions=t,this._factory=s.default}return i(e,[{key:"registerAsync",value:function(e){var t=new a.default(e);return this._defaultOptions&&t.withOptions(this._defaultOptions),this._registrations.push(e){return this.registerAsync((function(){return Promise.resolve(e)}))}},{key:"build",value:function(){return new o.default(this._factory,this._registrations.reduce((function(e,t){return t.key?(e[t.key]&&r.default.warn("RHW12","Duplicate key",t.key),e[t.key]=t,e):(r.default.error("RHE11","Missing key for registration."),e)}),{}))}},{key:"factory",set:function(e){this._factory=e}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(34),n(5),n(17),n(76),n(28),n(26),n(10);var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=r(n(399)),d=r(n(7)),f=r(n(52)),p=r(n(400)),h=r(n(303)),m=r(n(403)),v=r(n(404)),g=r(n(405)),y=r(n(406)),b=r(n(407)),_=r(n(408)),w=n(87),k=n(122),S=n(48),O=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).handleSteps=n.handleSteps.bind(n),n.handleNext=n.handleNext.bind(n),n.handleBack=n.handleBack.bind(n),n.accessibility=n.accessibility.bind(n),n.updateViewSize=n.updateViewSize.bind(n),n.onTouchStart=n.onTouchStart.bind(n),n.onTouchEnd=n.onTouchEnd.bind(n),n.removeGuidedTourAndSetStorage=n.removeGuidedTourAndSetStorage.bind(n),n.topbar=document.getElementsByClassName("top-bar-section")[0],n.dropdown=document.getElementsByClassName("dropdown")[0],n.state={activeStep:0,searchProgram:!1,inspiration:!1,isLoaded:!1,tour:[],accessibility:!1,introductionTexts:{},accessibilityTexts:{},route1Slide1Texts:{},route1Slide2Texts:{},route1Slide3Texts:{},route1Slide4Texts:{},route1Slide5Texts:{},route2Slide1Texts:{},route2Slide2Texts:{},route2Slide3Texts:{},route2Slide4Texts:{},route2Slide5Texts:{},accessibilityTourInspiration:[],accessibilityTourSearchProgram:[],setStorage:!0,innerStep:0,broadcastComponent:!1,missedProgram:!1,dynamicTour:!1,accessibilityTour:!0,disableLoggedInTours:[],hide:!1},n.setTexts(),n.isTourActive=!1,n.isTourFinished=!1,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){if(this.updateViewSize(),!zdfsite.isTiviApp3){window.addEventListener("resize",this.updateViewSize);var e=(new Date).toISOString(),t=(new Date).toISOString(),n=window.rb.storage.local.get(S.STORAGE_KEYS.GUIDED_TOURS_LAST_INTERACTION.name);n&&(e=new Date(new Date(n).getTime()+1728e5).toISOString()),this.showGuidedTourWithHash(e,t)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize)}},{key:"componentDidUpdate",value:function(e){zdfsite.isTiviApp&&(!this.state.isLoaded||this.isTourActive||this.isTourFinished||(this.isTourActive=!0,(0,k.sendMessageToTiviApp)("guidedTour","started"),document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),setTimeout((function(){document.scrollingElement.scrollTop=0}),500)),this.isTourActive&&this.isTourFinished&&(this.isTourActive=!1,(0,w.removeGuidedTour)()),0===this.state.activeStep&&this.handleSteps("dynamic"))}},{key:"updateViewSize",value:function(){var e=window.innerHeight||document.body.clientHeight;e<568&&window.matchMedia("(orientation: landscape)").matches?(document.body.style.height=e+"px",this.setState({landscape:!0})):(document.body.style.height="100%",this.setState({landscape:!1}))}},{key:"setTexts",value:function(){this.state.introductionTexts.userType=this.props.texts.questionUserType,this.state.introductionTexts.btn1=this.props.texts.questionCta1,this.state.introductionTexts.btn2=this.props.texts.questionCta2,this.state.accessibilityTexts.question=this.props.texts.questionAccessibility,this.state.accessibilityTexts.btn1=this.props.texts.questionAccessibilityCta1,this.state.accessibilityTexts.btn2=this.props.texts.questionAccessibilityCta2,this.state.route1Slide1Texts.headline=this.props.texts.route1Slide1Headline,this.state.route1Slide1Texts.textDesktop=this.props.texts.route1Slide1TextDesktop,this.state.route1Slide1Texts.textPhone1=this.props.texts.route1Slide1TextPhone1,this.state.route1Slide1Texts.textPhone2=this.props.texts.route1Slide1TextPhone2,this.state.route1Slide2Texts.headline=this.props.texts.route1Slide2Headline,this.state.route1Slide2Texts.text=this.props.texts.route1Slide2Text,this.state.route1Slide3Texts.headline=this.props.texts.route1Slide3Headline,this.state.route1Slide3Texts.text=this.props.texts.route1Slide3Text,this.state.route1Slide4Texts.headline=this.props.texts.route1Slide4Headline,this.state.route1Slide4Texts.text=this.props.texts.route1Slide4Text,this.state.route1Slide5Texts.headline=this.props.texts.route1Slide5Headline,this.state.route1Slide5Texts.text=this.props.texts.route1Slide5Text,this.state.route1Slide5Texts.btn1=this.props.texts.route1Slide5Cta1,this.state.route1Slide5Texts.btn2=this.props.texts.route1Slide5Cta2,this.state.route2Slide1Texts.headline=this.props.texts.route2Slide1Headline,this.state.route2Slide1Texts.textDesktop1=this.props.texts.route2Slide1TextDesktop1,this.state.route2Slide1Texts.textDesktop2=this.props.texts.route2Slide1TextDesktop2,this.state.route2Slide1Texts.textPhone1=this.props.texts.route2Slide1TextPhone1,this.state.route2Slide1Texts.textPhone2=this.props.texts.route2Slide1TextPhone2,this.state.route2Slide1Texts.textPhone3=this.props.texts.route2Slide1TextPhone3,this.state.route2Slide2Texts.headline=this.props.texts.route2Slide2Headline,this.state.route2Slide2Texts.text=this.props.texts.route2Slide2Text,this.state.route2Slide3Texts.headline=this.props.texts.route2Slide3Headline,this.state.route2Slide3Texts.text=this.props.texts.route2Slide3Text,this.state.route2Slide4Texts.headline=this.props.texts.route1Slide4Headline,this.state.route2Slide4Texts.text=this.props.texts.route2Slide4Text,this.state.route2Slide5Texts.headline=this.props.texts.route2Slide5Headline,this.state.route2Slide5Texts.text=this.props.texts.route2Slide5Text,this.state.route2Slide5Texts.btn1=this.props.texts.route2Slide5Cta1,this.state.route2Slide5Texts.btn2=this.props.texts.route2Slide5Cta2}},{key:"setActiveTour",value:function(){var e=this,t=this.props.tours,n=window.rb.storage.local.get("zdf_user_guided_tours")||[],i=d.default.getState();if(0!==t.length){t=i.isLoggedIn?t.filter((function(t){return!e.state.disableLoggedIndentifier)})):t.filter((function(e){return!n.includes(e.identifier)}));var r=t.filter((function(e){return"guided-tour-barrierefreiheit-inspiration"!==(t=e).identifier&&"guided-tour-barrierefreiheit-bestimmte-sendung"!==t.identifier;var t})).filter((function(e){return(t=e).type.includes("rws")&&!zdfsite.isTiviApp||t.type.includes("tivi")&&zdfsite.isTiviApp||!t.type.includes("tivi")&&!t.type.includes("rws");var t})).filter((function(t){return!(zdfsite.isHeuteApp&&e.props.structurenogth){var a=r.reduce((function(e,t){return e.priority>t.priority?e:t})),o=zdfsite.apiService+"/content/documents/"+a.id+".json?profile="+this.props.profile;this.fetchData(o),this.setActiveTourAccessibility()}}}},{key:"showGuidedTourWithHash",value:function(e,t){var n=(0,f.default)(location.hash.replace("#","")),i=n.guidedTour;if(i){var r=zdfsite.apiService+"/content/documents/"+i+".json?profile="+this.props.profile;this.fetchData(r,n),this.setActiveTourAccessibility(),this.setState({setStorage:!1})}else t>=e&&this.setActiveTour()}},{key:"fetchData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=d.default.getState(),r={"Api-Auth":"Bearer ".concat(zdfsite.apiToken)};fetch(e,{headers:r}).then((function(e){return e.json()})).then((function(e){i.isLoggedIn?(t.setState({isLoaded:!1}),t.state.disableLoggedInTours.includes(e.identifier)||n||"user-type"!==e.type?t.setState({isLoaded:!0,tour:e}):(t.state.disableLoggedInTours.push(eLoaded:!0,tour:e})}),(function(e){t.setState({isLoaded:!1,error:e})}))}},{key:"getSteps",value:function(e){return 5===e?["0","1","2","4","5"]:["0","1","2","4"]}},{key:"getSearchProgramStepContent",value:function(e){switch(e){case 0:return u.default.createElement(h.default,null);case 1:return u.default.createElement(v.default,{texts:this.state.route1Slide2Texts,landscape:this.state.landscape});case 2:return u.default.createElement(m.default,{texts:this.state.route1Slide1Texts,innerStep:this.state.innerStep,landscape:this.state.landscape});case 3:return u.default.createElement(y.default,{texts:this.state.route1Slide3Texts,trackRoute:"Route1",landscape:this.state.landscape});case 4:return u.default.createElement(b.default,{texts:this.state.route1Slide4Texts,trackRoute:"Route1",landscape:this.state.landscape});default:return u.default.createElement(_.default,{id:[this.state.tour.identifier,"guided-tour-barrierefreiheit-inspiration","guided-tour-barrierefreiheit-bestimmte-sendung"],texts:this.state.route1Slide5Texts,localStorage:this.state.setStorage,trackRoute:"Route1",landscape:this.state.landscape})}}},{key:"getInspirationStepContent",value:function(e){switch(e){case 0:return u.default.createElement(h.default,null);case 1:return u.default.createElement(g.default,{texts:this.state.route2Slide1Texts,innerStep:this.state.innerStep,landscape:this.state.landscape});case 2:return u.default.createElement(y.default,{texts:this.state.route2Slide3Texts,trackRoute:"Route2",landscape:this.state.landscape});case 3:return u.default.createElement(b.default,{texts:this.state.route2Slide4Texts,trackRoute:"Route2",landscape:this.state.landscape});default:return u.default.createElement(_.default,{id:[this.state.tour.identifier,"guided-tour-barrierefreiheit-inspiration","guided-tour-barrierefreiheit-bestimmte-sendung"],texts:this.state.route2Slide5Texts,localStorage:this.state.setStorage,trackRoute:"Route2",landscape:this.state.landscape})}}},{key:"handleNext",value:function(){this.setMultiStep()?this.setState({activeStep:this.state.activeStep+1}):this.setState({innerStep:this.state.innerStep+1})}},{key:"handleBack",value:function(){var e=Math.max(this.state.activeStep-1,1);this.setState({activeStep:e,innerStep:0})}},{key:"setMultiStep",value:function(){var e=window.innerWidth||document.body.clientWidth;return this.updateViewSize(),this.state.inspiration?(this.state.broadcastComponent=1===this.state.activeStep,0===this.state.innerStep&&e<1024&&this.state.broadcastComponent&&this.topbar.classList.add("active"),1===this.state.innerStep&&e<1024&&this.state.broadcastComponent&&this.dropdown.classList.add("show"),!(this.state.broadcastComponent&&this.state.innerStep<2)):this.state.searchProgram?(this.state.missedProgram=2===this.state.activeStep,0===this.state.innerStep&&e<1024&&this.state.missedProgram&&this.topbar.classList.add("active"),!(this.state.missedProgram&&this.state.innerStep<1)):void 0}},{key:"handleSteps",value:function(e){"searchProgram"===e?this.setState({activeStep:this.state.activeStep+1,searchProgram:!0,inspiration:!1,dynamicTour:!1}):"inspiration"===e?this.setState({activeStep:this.state.activeStep+1,searchProgram:!1,inspiration:!0,dynamicTour:!1}):"dynamic"===e?this.setState({activeStep:this.state.activeStep+1,searchProgram:!1,inspiration:!1,dynamicTour:!0}):"skip"===e?this.setState({activeStep:this.state.activeStep+1,searchProgram:!1,inspiration:!1,dynamicTour:!1}):this.setState({activeStep:this.state.activeStep+1,searchProgram:!1,inspiration:!1,dynamicTour:!1,hide:!0}),this.updateViewSize()}},{key:"setSteps",value:function(e,t){var n=this.getSteps(t),i=e<n.length?e:"done",r=window.rb.$.q('[data-module="js-stageitemscroller"]').rbComponent(),a=n.map((function(e){return u.default.createElement("li",{key:e.toString()})}));n.length>0&&r&&r.setOption("autoplay",!1);var o=window.innerWidth||document.body.clientWidth;if(this.state.inspiration&&o>=1024&&0===this.state.innerStep&&this.setState({innerStep:1}),this.state.searchProgram&&o>=1024&&0===this.state.innerStep&&this.setState({innerStep:1}),!this.state.landscape)return u.default.createElement("div",{className:"guided-tour--steps"},u.default.createElement("button",{className:"guided-tour--steps-back",title:"zurück scrollen",disabled:1===e,onClick:this.handleBack},u.default.createElement("span",{className:"icon-201_slide-left","aria-hidden":"true"})),u.default.createElement("ol",{className:"guided-tour--step-"+i},a),u.default.createElement("button",{className:"guided-tour--steps-next",title:"vorwärts scrollen",disabled:"done"===i,onClick:this.handleNext},u.default.createElement("span",{className:"icon-202_slide-right","aria-hidden":"true"})),u.default.createElement("div",{className:"guided-tour--cancel"},u.default.createElement("button",{className:"button text-only",title:"Dialog schließen",onClick:this.removeGuidedTourAndSetStorage},"Ausblenden")))}},{key:"renderIntroduction",value:function(){return u.default.createElement(h.default,{skip:this.state.tour.abortGuidedTourSlide,id:this.state.tour.identifier,start:this.state.tour.startSlide,step:this.handleSteps,accessibility:this.accessibility,type:this.state.tour.type,texts:this.state.introductionTexts,setLocalStorage:this.state.setStorage,accessibilityTexts:this.state.accessibilityTexts,accessibilityTour:this.state.accessibilityTour})}},{key:"renderAccessibility",value:function(){return u.default.createElement(p.default,{id:[this.state.tour.identifier,"guided-tour-barrierefreiheit-inspiration","guided-tour-barrierefreiheit-bestimmte-sendung"],tour:this.state.searchProgram?this.state.accessibilityTourSearchProgram:this.state.accessibilityTourInspiration,localStorage:this.state.setStorage,landscape:this.state.landscape})}},{key:"renderInner",value:function(){return this.state.searchProgram?u.default.createElement("div",{className:"guided-tour--overlay",role:"dialog",onTouchStart:this.onTouchStart,onMouseDown:this.onTouchStart,onTouchEnd:this.onTouchEnd,onMouseUp:this.onTouchEnd},u.default.createElement(c.default,{rightHandler:this.handleBack,leftHandler:this.handleNext},this.getSearchProgramStepContent(this.state.activeStep),this.setSteps(this.state.activeStep,5))):this.state.inspiration?u.default.createElement("div",{className:"guided-tour--overlay",role:"dialog",onTouchStart:this.onTouchStart,onMouseDown:this.onTouchStart,onTouchEnd:this.onTouchEnd,onMouseUp:this.onTouchEnd},u.default.createElement(c.default,{rightHandler:this.handleBack,leftHandler:this.handleNext},this.getInspirationStepContent(this.state.activeStep),this.setSteps(this.state.activeStep,4))):this.state.dynamicTour?u.default.createElement(p.default,{id:this.state.tour.identifier,tour:this.state.tour,localStorage:this.state.setStora"accessibility",value:function(e){e&&this.setState({accessibility:!0})}},{key:"setActiveTourAccessibility",value:function(){var e=this,t=window.rb.storage.local.get("zdf_user_guided_tours")||[],n=zdfsite.apiService+"/content/documents/guided-tour-barrierefreiheit-inspiration-100.json?profile="+this.props.profile,i=zdfsite.apiService+"/content/documents/guided-tour-barrierefreiheit-bestimmte-sendung-100.json?profile="+this.props.profile,r={"Api-Auth":"Bearer ".concat(zdfsite.apiToken)};t.includes("guided-tour-barrierefreiheit-inspiration")&&t.includes("guided-tour-barrierefreiheit-bestimmte-sendung")?this.setState({accessibilityTour:!1}):(fetch(n,{headers:r}).then((function(e){return e.json()})).then((function(t){e.setState({accessibilityTourInspiration:t})}),(function(t){e.setState({error:t})})),fetch(i,{headers:r}).then((function(e){return e.json()ccessibilityTourSearchProgram:t})}),(function(t){e.setState({error:t})})))}},{key:"onTouchEnd",value:function(e){this.clientX<e.clientX?this.handleBack():this.clientX>e.clientX&&this.handleNext()}},{key:"onTouchStart",value:function(e){this.clientX=e.clientX}},{key:"removeGuidedTourAndSetStorage",value:function(){(0,w.removeGuidedTour)(),this.state.setStorage&&(0,w.setLocalStorage)(this.state.tour.identifier)}},{key:"render",value:function(){var e=void 0;return this.state.isLoaded?(e=0===this.state.activeStep?this.renderIntroduction():this.state.accessibility?this.renderAccessibility():this.renderInner(),e||(this.isTourFinished=!0),u.default.createElement("article",{className:"guided-tour"},u.default.createElement("div",{className:"guided-tour--container"},e))):u.default.createElement("article",{className:"gues=3)}([function(eototype.showLastDownDeltas=function(){return this.lastDownDeltas},e}()}).call(this)},functiohasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symb&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configuypeOf:function(ototype,{constructor:{value:e,nstruct(i,arguments,r)}else e=i.apply(this,arguments);return m(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=o.call(this,e)).componentDidMount=function(){t.props.disableKeyboard||document.addEventListener("keydown",t.handleKeyPress,{passive:!0}),t.containerRef.current&&t.containerRef.current.addEventListener("wheel",t.handleWheelScroll,{passive:!1})},t.componentWillUnmount=function(){t.props.disableKeyboard||document.removeEventListener("keydown",t.handleKeyPress,{passive:!0}),t.containerRef.current&&t.containerRef.current.removeEventListener("wheel",t.handleWheelScroll),t.timer&&clearTimeout(t.timer)},t.startTimemeout=!0,t.timer=setTimeout((function(){t.onTimeout=!1,t.firedEvent=!1}),e)},t.handleWheelScroll=function(e){e.stopPropagation(),t.props.preventScroll&&e.preventDefault();var n=t.props,i=n.pauseListeners,r=n.timeout,a=n.upHandler,o=n.downHandler,s=t.Lethargy.check(e);if(!1!==s&&!t.firedEvent&&!i)return t.firedEvent=!0,r&&t.startTimeout(),s>0?void(a&&a(e)):void(s<0&&o&&o(e));i||r&&t.onTimeout||(t.firedEvent=!1)},t.handleKeyPress=function(e){var n=t.props,i=n.upHandler,r=n.downHandler,a=n.leftHandler,o=n.rightHandler,s=n.timeout;n.pauseListeners||t.onTimeout||(38===e.keyCode&&(i&&i(),s&&t.startTimeout()),37===e.keyCode&&(o&&o(),s&&t.startTimeout()),39===e.keyCode&&(a&&a(),s&&t)))},t.unify=function(e){return e.changedTouches?e.changedTouches[0]:e},t.handleSwipeStart=function(e){t.startX=t.unify(e).clientX,t.startY=t.unify(e).clientY},t.sign=function(e){return e?e<0?-1:1:0},t.handleSwipeEnd=function(e){var n=t.props,i=n.leftHandler,r=n.rightHandler,a=n.upHandler,o=n.downHandler,s=n.timeout,l=n.pauseListeners,u=0,c=0;if(!t.onTimeout&&!l){if((t.startX||0===t.startX)&&(u=t.unify(e).clientX-t.startX),(t.startY||0===t.startY)&&(c=t.unify(e).clientY-t.startY),Math.abs(u)>Math.abs(c)){var d=t.sign(u);d<0&&i&&i(),d>0&&r&&r()}else{var f=t.sign(c);f<0&&o&&o(),f>0&&a&&a()}s&&t.startTimeout(),t.startY=null,t.startX=null}},t.firedEvent=!1,t.onTimeout=!1,t.Lethargy=c(s.Lethargy,d(t.props.wheelConfig)),t.containerRef=r.a.createRef(),t}return i=f,(a=[{key:"render",value:function(){var e=this.props,t=e.CustomComponent,n=e.children,i=(e.upHandler,e.downHandler,e.leftHandler,e.rightHandler,e.pauseListeners,e.disableKeyboard,e.|Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["CustomComponent","children","upHandler","downHandler","leftHandler","rightHandler","pauseListeners","disableKeyboard","preventScroll","wheelConfig","disableSwipe","disableSwipeWithMouse"]),s=i?null:this.handleSwipeStart,c=i?null:this.handleSwipeEnd,d={onKeyPress:this.handleKeyPress,tabIndex:"0",onTouchStart:s,onMouseDown:a?null:s,onMouseUp:a?null:c,onTouchEnd:c,ref:this.containerRef};return"object"===u(t)?r.a.createElement(t,l({},o,d),n):r.a.createElement("div",l({},o,d),n)}}])&&p(i.prototype,a),f}(i.Component);y.propTypes={upHandler:o.a.func,downHandler:o.a.func,leftHandler:o.a.func,rightHandler:o.a.func,CustomComponent:o.a.object,pauseListeners:o.a.bool.isRequired,timeout:o.a.number,disableKeyboard:o.a.bool.isRequired,disableSwipe:o.a.bool.isRequired,disableSwipeWithMouse:o.a.bool.isRequired,preventScroll:o.a.bool.isRequired,wheelConfig:o.a.array},y.defaultProps={pauseListeners:!1,timeout:700,disableKeyboard:!1,disableSwipe:!1{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(34),n(5);var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=r(n(399)),d=r(n(303)),f=r(n(401)),p=n(87),h=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).handleNext=n.handleNext.bind(n),n.handleBack=n.handleBack.bind(n),n.onTouchStart=n.onTouchStart.bind(n),n.onTouchEnd=n.onTouchEnd.bind(n),n.removeGuidedTourAndSetStorage=n.removeGuidedTourAndSetStorage.bind(n),n.state={steps:[],activeStep:1,id:e.id,setLocalStorage:e.localStorage,track:!1},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=[];this.props.tour.slides.forEach((function(t,n){return e.push(n)})),this.setState({steps:e}),document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),(0,p.trackView)("Screen1")}},{key:"setSteps",value:function(e){var t=this.state.steps,n=e<t.length?e:"done",i=window.rb.$.q('[data-module="js-stageitemscroller"]').rbComponent(),r=t.map((function(e){return u.default.createElement("li",{key:e.toString()})}));if(t.length>0&&i&&i.setOption("autoplay",!1),!this.props.landscape)return u.default.createElement("div",{className:"guided-tour--steps"},u.default.createElement("button",{className:"guided-tour--steps-back",title:"zurück scrollen",disabled:1===e,onClick:this.handleBack},u.default.createElement("span",{className:"icon-201_slide-left","aria-hidden":"true"})),u.default.createElement("ol",{className:"guided-tour--step-"+n},r),"done"===n?u.default.createElement("button",{className:"guided-tour--steps-next",title:"vorwärts scrollen",onClick:this.removeGuidedTourAndSetStorage},u.default.createElement("span",{className:"icon-202_slide-right","aria-hidden":"true"})):u.default.createElement("button",{className:"guided-tour--steps-next",title:"vorwärts scrollen",onClick:this.handleNext},u.default.createElement("span",{className:"icon-202_slide-right","aria-hidden":"true"})))}},{key:"setCancelBtn",value:function(e){this.state.steps.length;if(!this.props.landscape)return u.default.createElement("div",{className:"guided-tour--cancel"},u.default.createElement("button",{className:"icon",title:"Dialog schließen",onClick:this.removeGuidedTourAndSetStorage},u.default.createElement("span",{className:"icon-209_close","aria-hidden":"true"})))}},{key:"handleNext",value:function(){var e=this,t=Math.min(this.state.activeStep+1,this.state.steps.length);this.setState({activeStep:t,animation:!0,track:!0}),setTimeout((function(){e.setState({animation:!1,track:!1})}),1e3)}},{key:"handleBack",value:function(){var e=this,t=Math.max(this.state.actin:!0,track:!0}),setTimeout((function(){e.setState({animation:!1,track:!1})}),1e3)}},{key:"getStepContent",value:function(e,t){switch(e){case 0:return u.default.createElement(d.default,null);case 1:return this.stepOne(t);case 2:return this.stepTwo(t);case 3:return this.stepThree(t);case 4:return this.stepFour(t);default:return this.stepFive(t)}}},{key:"stepOne",value:function(e){return this.state.track&&(0,p.trackView)("Screen1"),u.default.createElement(f.default,{id:e,item:this.props.tour.slides[0],animation:this.state.animation,localStorage:this.state.setLocalStorage,slides:this.props.tour.slides,landscape:this.props.landscape})}},{key:"stepTwo",value:function(e){return this.state.track&&(0,p.trackView)("Screen2"),u.default.createElement(f.default,{id:e,item:this.props.tour.slides[1],animation:this.state.animation,localStorage:this.state.setLocalStorage,landscape:this.props.landscape})}},{key:"stepThree",value:function(e){return this.state.track&&(0,p.trackView)("Screen3"),u.default.createElement(f.default,{id:e,item:this.props.tour.slides[2],animation:this.state.animation,localStorage:this.state.setLocalStorage,landscape:this.props.landscape})}},{key:"stepFour",value:function(e){return this.state.track&&(0,p.trackView)("Screen4"),u.default.createElement(f.default,{id:e,item:this.props.tour.slides[3],animation:this.state.animation,localStorage:this.state.setLocalStorage,landscape:this.props.landscape})}},{key:"stepFive",value:function(e){return this.state.track&&(0,p.trackView)("Screen5"),u.default.createElement(f.default,{id:e,item:this.props.tour.slides[4],animation:this.state.animation,localStorage:this.state.setLocalStorage,landscape:this.props.landscape})}},{key:"onTouchEnd",value:function(e){this.clientX<e.clientX?this.handleBandleNext()}},{key:"onTouchStart",value:function(e){this.clientX=e.clientX}},{key:"removeGuidedTourAndSetStorage",value:function(){(0,p.removeGuidedTour)(),this.state.setLocalStorage&&(0,p.setLocalStorage)(this.state.id)}},{key:"render",value:function(){return u.default.createElement("div",{className:"guided-tour--overlay",role:"dialog",onTouchStart:this.onTouchStart,onMouseDown:this.onTouchStart,onTouchEnd:this.onTouchEnd,onMouseUp:this.onTouchEnd},u.default.createElement(c.default,{rightHandler:this.handleBack,leftHandler:this.handleNext},this.getStepContent(this.state.activeStep,this.state.id),this.setSteps(this.state.activeStep),this.setCancelBtn(this.state.activeStep)))}}]),t}(u.Component);t.default=h},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(304)),f=r(n(402)),p=r(n(123)),h=window.rb.$,m=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).setContainerHeight=n.setContainerHeight.bind(n),n.updateViewSize=n.updateViewSize.bind(n),n.state={id:e.id,setLocalStorage:e.localStorage,slides:e.slides},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMsetState({animation:!0}),setTimeout((function(){e.setState({animation:!1})}),1e3),this.setContainerHeight(),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),window.addEventListener("resize",this.setContainerHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setContainerHeight),this.overlay.removeEventListener("keydown",c.handleKeyFocus)}},{key:"redirectToPage",value:function(e){this.state.setLocalStorage&&(0,c.setLocalStorage)(this.state.id),void 0!==e.htmlAnchor&&e.htmlAnchor.href!==window.location.pathname?(0,c.redirect)("".concat(location.origin).concat(e.htmlAnchor.href)):(0,c.removeGuidedTour)()}},{key:"setContainerHeight",value:function(){var e=this;this.height=0,this.width=window.innerWidth||document.body.clientWidth;var t=window.innerHeight||document.body.clientHeight,n=void 0;this.state.slides.forEach((function(i){var r=e.get_text_size(i.title,"28px Uniwidth","576");n=e.width<=640?e.get_text_size(i.text,"18px Uniwidth","300"):e.get_text_size(i.text,"18px Uniwidth","576");var a=Math.ceil(r+n+40);if(i.primaryCallToActionLink||i.secondaryCallToActionLink){var o=1;e.width<=640&&i.primaryCallToActionLink&&i.secondaryCallToActionLink&&(o=2),a+=115*o}t<=860?h(".guided-tour").css({padding:0}):h(".guided-tour").css({"padding-top":"80px"}),e.height=a>e.height?a:e.height})),h(".guided-tour--dynamic-inner").css({height:this.height+"px"})}},{key:"get_text_size",value:function(e,t,n){var i=document.createElement("canvas");i.width=n;var r=i.getContext("2d");return r.font=t,r.measureText(e).width/parseInt(r.font)}},{key:"updateViewSize",value:function(){this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){var e=this;return this.props.landscape?u.default.createElement(p.default,null):u.default.createElement("div",{className:"guided-tour--dynamic grid-container ".concat(this.props.animation||this.state.animation?"active":"")},u.default.createElement("div",{className:"guided-tour--dynamic-container"},this.props.item.video?u.default.createElement(f.default,{document:this.props.item.video}):u.default.createElement(d.default,{image:this.props.item.image}),u.default.createElement("div",{className:"guided-tour--dynamic-inner"},this.props.item.title&&u.default.createElement("h3",{className:"guided-tour---dynamic-headline"},this.props.item.title),this.props.item.text&&u.default.createElement("div",{className:"guided-tour--dynamic-text"},this.props.item.text),u.default.createElement("div",{className:"guided-tour--dynamic-btns"},this.props.item.primaryCallToActionLink&&this.props.item.primaryCallToActionLink.title&&u.default.createElement("button",{onClick:function(){return e.redirectToPage(e.props.item.primaryCallToActionLink)},className:"button medium round guided-tour--btn",title:this.props.item.primaryCallToActionLink.title},this.props.item.primaryCallToActionLink.title),this.props.item.secondaryCallToActionLink&&this.props.itemfunction(){return e.redirectToPage(e.props.item.secondaryCallToActionLink)},className:"button medium round secondary guided-tour--btn",title:this.props.item.secondaryCallToActionLink.title},this.props.item.secondaryCallToActionLink.title)))))}}]),t}(u.Component);t.default=m},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).key=0,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.document.target.id;return e.document.target.id!==t&&(this.key++,!0)}},{key:"render",value:function(){var e=this.props.document,t=window.zdfsite,n=t.zdfPlayerPaths,i=n.config,r=n.configTiviAppIos,a=n.configTiviAppAndroid,o=n.configHeuteAppIos,s=n.configHeuteAppAndroid,l=e.target,c=l.mainVideoContent["http://zdf.de/rels/target"],d=l["http://zdf.de/rels/player-content"],f=l.id,p=l.externalId,h=c.fsk,m=c.geoLocation,v={};return v.config=i,v.configTiviAppIos=r,v.configTiviAppAndroid=a,v.configHeuteAppIos=o,v.configHeuteAppAndroid=s,v.content="".concat(t.apiService).concat(d),v.embed_content=l["http://zdf.de/rels/embed-url"],v.autoplay=!1,v.apiToken=t.player.apiToken,v.preload=!1,v.primary=!1,v.aspectRatio=c.aspectRatio,u.default.createElement("div",{className:"guided-tour--video",key:this.key},u.default.createElement("div",{className:"b-playerbox b-ratiobox js-rb-live","data-module":"zdfplayer","data-embed-id":f,"data-zdfplayer-fsk":h,"data-zdfplayer-id":f,"data-zdfplayer-ext-id":p,"data-zdfplayer-geolocation":m,"data-zdfplayer-enable-pip":"true","data-zdfplayer-jsb":JSON.stringify(v)}))}}]),t}(u.Component);t.default=c},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(123)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).updateViewSize=n.updateViewSize.bind(n),n.logoSecond="/static/"+zdfsite.build+"/img/guided-tour/1-Mainzelmaennchen-zeigt-rechts-0370_18.gif",n.topbar=document.getElementsByClassName("top-bar-section")[0],n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),(0,c.trackView)("Route1|Screen2")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize),this.overlay.removeEventListener("keydown",c.handleKeyFocus),this.topbar.classList.remove("active")}},{key:"updateViewSize",value:function(){this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){return this.props.landscape?u.default.createElement(d.default,null):0===this.props.innerStep?u.default.createElement("div",{className:"guided-tour--missed-program grid-container"},u.default.createElement("div",{className:"icon-101_burger clearfix"},"Menü"),u.default.createElement("div",{className:"guided-tour--missed-program-container"},u.default.createElement("div",{className:"guided-tour--imgs"},u.default.createElement("div",{className:"guided-tour--img img-second"},u.default.createElement("img",{src:this.logoSecond,alt:"Mainzelmaennchen zeigt links"}))),u.default.createElement("div",{className:"guided-tour--missed-program-inner"},u.default.createElement("h3",{className:"guided-tour---missed-program-headline"},this.props.texts.headline),u.default.createElement("div",{className:"hide-for-large"},u.default.createElement("div",{className:"guided-tour--missed-program-text text-first"},this.props.texts.textPhone1))))):1===this.props.innerStep?u.default.createElement("div",{className:"guided-tour--missed-program grid-container"},u.default.createElement("div",{className:"icon-301_clock"},"Sendung verpasst"),u.default.createElement("div",{className:"guided-tour--missed-program-container"},u.default.createElement("div",{className:"guided-tour--imgs"},u.default.createElement("div",{className:"guided-tour--img img-first"},u.default.createElement("img",{src:this.logoSecond,alt:"Mainzelmaennchen zeigt links"}))),u.default.createElement("div",{className:"guided-tour--missed-program-inner"},u.default.createElement("h3",{className:"guided-tour---missed-program-headline"},this.props.texts.headline),u.default.createElement("div",{className:"show-for-large"},u.default.createElement("div",{className:"guided-tour--missed-program-text"},this.props.texts.textDesktop)),u.default.createElement("div",{className:"hide-for-large"},u.default.createElement("div",{className:"guided-tour--missed-program-text text-second"},this.props.texts.textPhone2))))):void 0}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(123)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).updateViewSize=n.updateViewSize.bind(n),n.logo="/static/"+zdfsite.build+"/img/guided-tour/2-Mainzelmaennchen-zeigt-links-rechts-0237_19.gif",n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){document.getElementsByClassName("guided-tour")[0].classList.remove("active"),document.body.classList.add("no-scroll"),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),(0,c.trackView)("Route1|Screen1")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize),this.overlay.removeEventListener("keydown",c.handleKeyFocus)}},{key:"updateViewSize",value:function(){this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){return this.props.landscape?u.default.createElement(d.default,null):u.default.createElement("div",{className:"guided-tour--search grid-container"},u.default.createElement("div",{className:"icon-106_suche clearfix"},"Suche"),u.default.createElement("div",{className:"guided-tour--search-container"},u.default.createElement("div",{className:"guided-tour--img"},u.default.createElement("img",{src:this.logo,alt:"Mainzelmaennchen zeigt links rechts"})),u.default.createElement("div",{className:"guided-tour--search-inner"},u.default.createElement("h3",{className:"guided-tour---search-headline"},this.props.texts.headline),u.default.createElement("div",{className:"guided-tour--search-text"},this.props.texts.text))))}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(123)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).updateViewSize=n.updateViewSize.bind(n),n.dropdown=document.getElementsByClassName("dropdown")[0],n.logoFirst="/static/"+zdfsite.build+"/img/guided-tour/2-Mainzelmaennchen-zeigt-links-rechts-0237_19.gif",n.logoSecond="/static/"+zdfsite.build+"/img/guided-tour/1-Mainzelmaennchen-zeigt-rechts-0370_18.gif",n.state={texts:e.texts},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),this.timer=setTimeout((function(){e.dropdown.classList.add("active")}),10),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),(0,c.trackView)("Route2|Screen1")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize),this.overlay.removeEventListener("keydown",c.handleKeyFocus),clearInterval(this.timer),document.body.classList.remove("no-scroll"),this.dropdown.classList.remove("active")}},{key:"updateViewSize",value:function(){this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){return this.props.landscape?u.default.createElement(d.default,null):0===this.props.innerStep?u.default.createElement("div",{className:"guided-tour--broadcasts grid-container"},u.default.createElement("div",{className:"icon-101_burger clearfix"},"Menü"),u.default.createElement("div",{className:"guided-tour--broadcasts-container"},u.default.createElement("div",{className:"guided-tour--imgs"},u.default.createElement("div",{className:"guided-tour--img img-first"},u.default.createElement("img",{src:this.logoSecond,alt:"Mainzelmaennchen zeigt links"}))),u.default.createElement("div",{className:"guided-tour--broadcasts-inner"},u.default.createElement("h3",{className:"guided-tour---broadcasts-headline"},this.state.texts.headline),u.default.createElement("div",{className:"hide-for-large"},u.default.createElement("div",{className:"guided-tour--broadcasts-text text-second"},this.state.texts.textPhone1))))):1===this.props.innerStep?u.default.createElement("div",{className:"guided-tour--broadcasts grid-container"},u.default.createElement("div",{className:"icon-103_rubrik"},"Rubriken"),u.default.createElement("div",{className:"guided-tour--broadcasts-container"},u.default.createElement("div",{className:"guided-tour--imgs"},u.default.createElement("div",{className:"guided-tour--img img-first"},u.default.createElement("img",{src:this.logoSecond,alt:"Mainzelmaennchen zeigt links"}))),u.default.createElement("div",{className:"guided-tour--broadcasts-inner"},u.default.createElement("h3",{className:"guided-tour---broadcasts-headline"},this.state.texts.headline),u.default.createElement("div",{className:"show-for-large"},u.default.createElement("div",{className:"guided-tour--broadcasts-text text-second"},this.props.texts.textDesktop1)),u.default.createElement("div",{className:"hide-for-large"},u.default.createElement("div",{className:"guided-tour--broadcasts-text text-third"},this.props.texts.textPhone2))))):2===this.props.innerStep?u.default.createElement("div",{className:"guided-tour--broadcasts grid-container"},u.default.createElement("div",{className:"guided-tour--broadcasts-container"},u.default.createElement("div",{className:"guided-tour--broadcasts-btn-container"},u.default.createElement("div",{className:"guided-tour--broadcasts-btn"},"Sendungen A-Z")),u.default.createElement("div",{className:"guided-tour--imgs"},u.default.createElement("div",{className:"guided-tour--img img-second show-for-large"},u.default.createElement("img",{src:this.logoFirst,alt:"Mainzelmaennchen zeigt rechts"})),u.default.createElement("div",{className:"guided-tour--img img-first hide-for-large"},u.default.createElement("img",{src:this.logoSecond,alt:"Mainzelmaennchen zeigt links"}))),u.default.createElement("div",{className:"guided-tour--broadcasts-inner"},u.default.createElement("h3",{className:"guided-tour---broadcasts-headline"},this.state.texts.headline),u.default.createElement("div",{className:"show-for-large"},u.default.createElement("div",{className:"guided-tour--broadcasts-text text-second"},this.props.texts.textDesktop2)),u.default.createElement("div",{className:"hide-for-large"},u.default.createElement("div",{className:"guided-tour--broadcasts-text text-third"},this.props.texts.textPhone3))))):void 0}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(123)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).updateViewSize=n.updateViewSize.bind(n),n.logo="/static/"+zdfsite.build+"/img/guided-tour/3-Mainzelmaennchen-in-Haengesessel-Weiterschauen-0143_20.gif",n.state={route:e.trackRoute},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),(0,c.trackView)("".concat(this.state.route,"|Screen3"))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize),this.overlay.removeEventListener("keydown",c.handleKeyFocus)}},{key:"updateViewSize",value:function(){this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){return this.props.landscape?u.default.createElement(d.default,null):u.default.createElement("div",{className:"guided-tour--programs grid-container"},u.default.createElement("div",{className:"guided-tour--programs-container"},u.default.createElement("div",{className:"guided-tour--img"},u.default.createElement("img",{src:this.logo,alt:"Mainzelmaennchen in Haengesessel"})),u.default.createElement("div",{className:"guided-tour--programs-inner"},u.default.createElement("h3",{className:"guided-tour---programs-headline"},this.props.texts.headline),u.default.createElement("div",{className:"guided-tour--programs-text"},this.props.texts.text))))}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(123)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).updateViewSize=n.updateViewSize.bind(n),n.logo="/static/"+zdfsite.build+"/img/guided-tour/4-Mainzelmaennchen-in-Marilyn-Kostuem-FSK-0485_16.gif",n.state={route:e.trackRoute},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),(0,c.trackView)("".concat(this.state.route,"|Screen4"))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize),this.overlay.removeEventListener("keydown",c.handleKeyFocus)}},{key:"updateViewSize",value:function(){this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){return this.props.landscape?u.default.createElement(d.default,null):u.default.createElement("div",{className:"guided-tour--video-protection grid-container"},u.default.createElement("div",{className:"guided-tour--video-protection-container"},u.default.createElement("div",{className:"guided-tour--img"},u.default.createElement("img",{src:this.logo,alt:"Mainzelmaennchen in Marilyn Kostuem"})),u.default.createElement("div",{className:"guided-tour--video-protection-inner"},u.default.createElement("h3",{className:"guided-tour---video-protection-headline"},this.props.texts.headline),u.default.createElement("div",{className:"guided-tour--video-protection-text"},this.props.texts.text))))}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(123)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).removeGuidedTourAndSetStorage=n.removeGuidedTourAndSetStorage.bind(n),n.redirectToHelpPage=n.redirectToHelpPage.bind(n),n.updateViewSize=n.updateViewSize.bind(n),n.logo="/static/"+zdfsite.build+"/img/guided-tour/5-Mainzelmaennchen-Sofa-Abschluss-0889_19.gif",n.state={id:e.id,setLocalStorage:e.localStorage,route:e.trackRoute},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),(0,c.trackView)("".concat(this.state.route,"|Screen5"))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize),this.overlay.removeEventListener("keydown",c.handleKeyFocus)}},{key:"redirectToHelpPage",value:function(){this.state.setLocalStorage&&(0,c.setLocalStorage)(this.state.id),(0,c.redirect)("".concat(location.origin,"/mein-zdf/registrierung"))}},{key:"removeGuidedTourAndSetStorage",value:function(){(0,c.removeGuidedTour)(),this.state.setLocalStorage&&(0,c.setLocalStorage)(this.state.id)}},{key:"updateViewSize",value:function(){(window.innerHeight||document.body.clientHeight)<=630?document.body.classList.add("guided-tour--height"):document.body.classList.remove("guided-tour--height"),this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){return this.props.landscape?u.default.createElement(d.default,null):u.default.createElement("div",{className:"guided-tour--done grid-container"},u.default.createElement("div",{className:"guided-tour--done-container"},u.default.createElement("div",{className:"guided-tour--img"},u.default.createElement("img",{src:this.logo,alt:"Mainzelmaennchen Sofa"})),u.default.createElement("div",{className:"guided-tour--done-inner"},u.default.createElement("h3",{className:"guided-tour---done-headline"},this.props.texts.headline),u.default.createElement("div",{className:"guided-tour--done-text"},this.props.texts.text),u.default.createElement("div",{className:"guided-tour--done-btns"},u.default.createElement("button",{onClick:this.redirectToHelpPage,className:"button medium round guided-tour--btn",title:this.props.texts.btn1},this.props.texts.btn1),u.default.createElement("button",{onClick:this.removeGuidedTourAndSetStorage,className:"button medium round secondary guided-tour--btn",title:this.roperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var i=n(42),r=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(409));n(612);var o=r(n(21));n(10);var s=r(n(114)),l=i(n(43)),u=n(211);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.onPinChange,n=e.id,i=e.modifier,r=e.inputValue,a=e.name,o=e.text,s=e.handleResetInput;return i=void 0===i?"":i,l.default.createElement("label",{htmlFor:"pin-ziffer-".concat(n)},l.default.createElement("span",{className:"visuallyhidden"},o),l.default.createElement("input",{id:"pin-ziffer-".concat(n),value:r,className:"input ".concat(i),type:"password",name:a,required:!0,maxLength:"1",onChange:function(e){return t(e)},onFocus:function(e){return s(e)}}))},p=function(e){var t=e.classes,n=e.text,i=e.tracking,r=e.module,o=e.ariaControls,s=e.dialog,u=i&&r&&o?{"data-track":i,"data-module":r,"aria-controls":o}:s&&i?{"data-track":i,"data-dialog":s}:s&&{"data-dialog":s};return l.default.createElement("button",(0,a.default)({className:t,type:"button"},u),n)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.errorfields.map((function(e,t){return(0,u.formFieldError)(e,t)})),i=(0,l.useState)(t),r=(0,s.default)(i,2),a=r[0],c=r[1],h=(0,l.useState)(""),m=(0,s.default)(h,2),v=m[0],g=m[1],y=function(e){var t=e.target.value,n=e.target.name;c((function(e){return d({},e,(0,o.default)({},n,t))}))},b=function(e){g(e.target.value)},_=function(e){history.back()},w=function(e){var t=e.target.name;c((function(e){return d({},e,(0,o.default)({},t,""))}))};return l.default.createElement(l.default.Fragment,null,"player"===e.type?l.default.createElement("form",{className:"b-pin-form clearfix"},l.default.createElement("fieldset",{className:"pin-fieldset clearfix"},l.default.createElement("legend",{id:"pin-title",className:"pin-title"},e.title),n,l.default.createElement("div",{className:"pin-input js-rb-live","data-module":"pin-input","data-pin-input-id":e.inputid},l.default.createElement(f,{id:"".concat(e.inputid,"-1"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin1||"",name:"pin1",text:"Feld 1: Pin Eingabe, Ziffer eins."}),l.default.createElement(f,{id:"".concat(e.inputid,"-2"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin2||"",name:"pin2",text:"Feld 2 : Pin Eingabe, Ziffer zwei."}),l.default.createElement(f,{id:"".concat(e.inputid,"-3"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin3||"",name:"pin3",text:"Feld 3 : Pin Eingabe, Ziffer drei."}),l.default.createElement(f,{id:"".concat(e.inputid,"-4"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin4||"",name:"pin4",text:"Feld 4 : Pin Eingabe, Ziffer vier."}))),l.default.createElement("div",{className:"cell text-left"},l.default.createElement(p,{classes:"button text-only small js-rb-click js-track-click",text:"PIN vergessen?",module:"panelbutton",ariaControls:"player-pin-reset-form-panel",tracking:'{"element": "FSKPINEingabeOverlay", "action": "click", "actionDetail": "ClickButtonPINvergessen", "targetAssetId": "'.concat(e.targetassetid,'"}')})),l.default.createElement("div",{className:"cell content-right"},l.default.createElement("a",{href:e.link,className:"button primary medium round js-validate-pin js-track-click pin-input-next ".concat(a.pin1&&a.pin2&&a.pin3&&a.pin4?"":"disabled"),"data-track":JSON.stringify({element:"FSKPINEingabeOverlay",deltaType:"click.navigation",action:e.submit,actionDetail:"PIN-Eingabe erfolgreich",atiDeltaData:{page_chapter2:"overlay",page_type:"overlay",page:"Jugendschutz-PIN eingeben & Video sofort schauen",page_title:"Jugendschutz-PIN eingeben & Video sofort schauen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null,click:zdfsite.tracking.atInternet.page.name,click_chapter1:zdfsite.tracking.atInternet.page.chapter1,click_chapter2:zdfsite.tracking.atInternet.page.chapter2,click_chapter3:zdfsite.tracking.atInternet.page.chapter3,target_title:zdfsite.tracking.atInternet.page.name,target_type:zdfsite.tracking.atInternet.page.chapter2,target_section:zdfsite.tracking.atInternet.page.level2,target_subsection:zdfsite.tracking.atInternet.page.chapter1,target_sophora_id:zdfsite.tracking.atInternet.page.chapter3,target_url:window.location.href}}),title:e.submit},e.submit))):"passport-pin"===e.type?l.default.createElement("section",{className:"b-passport-pin ".concat(e.classes," small-bottom-space-medium js-rb-live"),"data-module":"passport-pin","data-passport-pin-success-panel-id":e.successpanelid},l.default.createElement("div",{className:"form-wrap clearfix"},l.default.createElement("form",{className:"b-pin-form clearfix",autoComplete:"off"},n,l.default.createElement("fieldset",{className:"pin-fieldset"},l.default.createElement("legend",{id:"pin-title",className:"pin-title"},e.title),l.default.createElement("div",{className:"pin-input js-rb-live","data-module":"pin-input","data-pin-input-id":e.inputid},l.default.createElement(f,{id:"".concat(e.inputid,"-1"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin1||"",name:"pin1",text:"Feld 1: Pin Eingabe, Ziffer eins."}),l.default.createElement(f,{id:"".concat(e.inputid,"-2"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin2||"",name:"pin2",text:"Feld 2 : Pin Eingabe, Ziffer zwei."}),l.default.createElement(f,{id:"".concat(e.inputid,"-3"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin3||"",name:"pin3",text:"Feld 3 : Pin Eingabe, Ziffer drei."}),l.default.createElement(f,{id:"".concat(e.inputid,"-4"),modifier:e.modifier,onPinChange:y,handleResetInput:w,inputValue:a.pin4||"",name:"pin4",text:"Feld 4 : Pin Eingabe, Ziffer vier."}))),l.default.createElement("fieldset",{className:"pass-fieldset hide-for-ard-users"},l.default.createElement(u.PasswordInput,{onPasswordChange:b,values:e.passwordinput,inputValue:v}))),l.default.createElement("div",{className:"hide-for-ard-users"},l.default.createElement("div",{className:"text-left"},l.default.createElement(p,{classes:"button text-only small js-rb-click js-dialog-close",text:e.passwordtext,dialog:'{"id": "aria-login-dialog", "openPanel": "logindialog-password"}'})),l.default.createElement("div",{className:"content-right"},l.default.createElement("a",{href:e.link,className:"button small round js-btn-submit primary ".concat(a.pin1&&a.pin2&&a.pin3&&a.pin4&&v?"":"disabled"),title:e.submit},e.submit))),e.enableardlogin&&e.enableardfskverification&&l.default.createElement("button",{className:"ard-btn show-for-ard-users button round medium js-track-click",type:"button"},e.ardbuttontext))):"reg-passport-pin"===e.type&&l.default.createElement("form",{autoComplete:"off",className:"js-requires-user js-rb-live","data-module":"pin-form"},l.default.createElement("div",{className:"panel-base-opaque small-bottom-space-medium"},l.default.createElement("p",{className:"form-required-note"},"Mit * markierte Felder sind Pflichtfelder"),l.default.createElement("div",{className:"small-text-center"},n),l.default.createElement("fieldset",{className:"small-bottom-space-small"},l.default.createElement("legend",{id:"fsk-pin-title",className:"small-bottom-space-small"},e.title),l.default.createElement("div",{className:"pin-input js-rb-live","data-module":"pin-input","data-pin-input-id":e.inputid},l.default.createElement(f,{id:"".concat(e.inputid,"-1"),onPinChange:y,handleResetInput:w,inputValue:a.pin1||"",name:"pin1",text:"Feld 1: Pin Eingabe, Ziffer eins."}),l.default.createElement(f,{id:"".concat(e.inputid,"-2"),onPinChange:y,handleResetInput:w,inputValue:a.pin2||"",name:"pin2",text:"Feld 2 : Pin Eingabe, Ziffer zwei."}),l.default.createElement(f,{id:"".concat(e.inputid,"-3"),onPinChange:y,handleResetInput:w,inputValue:a.pin3||"",name:"pin3",text:"Feld 3 : Pin Eingabe, Ziffer drei."}),l.default.createElement(f,{id:"".concat(e.inputid,"-4"),onPinChange:y,handleResetInput:w,inputValue:a.pin4||"",name:"pin4",text:"Feld 4 : Pin Eingabe, Ziffer vier."}))),l.default.createElement("fieldset",{className:"hide-for-ard-users"},l.default.createElement("legend",{className:"small-bottom-space-small"},e.passwordinput.labelText),l.default.createElement(u.PasswordInput,{onPasswordChange:b,values:e.passwordinput,inputValue:v})),l.default.createElement(p,{classes:"button text-only hide-for-ard-users js-rb-click js-track-click",text:e.passwordtext,dialog:'{"id": "aria-login-dialog", "openPanel": "logindialog-password"}',tracking:JSON.stringify({element:"Verifikations-Formular",deltaType:"click.navigation",action:e.passwordtext,actionDetail:null,atiDeltaData:{page:"Schritt 3: Jugendschutz-PIN erstellen",page_title:"Schritt 3: Jugendschutz-PIN erstellen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Passwort vergessen?",click_chapter1:"Mein_ZDF",click_chapter2:"overlay",click_chapter3:null,target_title:"Passwort vergessen?",target_type:"overlay",target_section:"5",target_subsection:"Mein_ZDF",target_sophora_id:null,target_url:null}})})),e.enableardlogin&&e.enableardfskverification&&l.default.createElement("button",{className:"ard-btn show-for-ard-users button round medium js-track-click",type:"button"},e.ardbuttontext),l.default.createElement("div",{className:"content-right"},l.default.createElement("button",{className:"button medium round secondary is-inverted js-track-click",type:"button",onClick:_,"data-track":JSON.stringify({element:"fsk-pin-input-button-back",deltaType:"click.navigation",action:"Zurück",actionDetail:null,atiDeltaData:{page:"Schritt 3: Jugendschutz-PIN erstellen",page_title:"Schritt 3: Jugendschutz-PIN erstellen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Schritt 2: Prüfnummern eintragen",click_chapter1:"/altersverifikation",click_chapter2:"article",click_chapter3:null,target_title:"Schritt 2: Prüfnummern eintragen",target_type:"article",target_section:"5",target_subsection:"/altersverifikation",target_sophora_id:null,target_url:null}})},"Zurück"),l.default.createElement("button",{"data-link":e.link,"data-trackingdata":JSON.stringify(e.trackingdata),className:"button primary medium hide-for-ard-users js-btn-submit round ".concat(a.pin1&&a.pin2&&a.pin3&&a.pin4&&v?"":"disabled"),title:e.submit},e.submit))))};t.default=h},function(e,t,n){"use strict";var i=n(42),r=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28),n(26),n(10);var a=r(n(21)),o=i(n(43)),s=n(211),l=r(n(52));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var c=function(e){var t=e.passportType,n=e.buildVersion,i=e.infoText,r=e.errorLink,c=e.nextLink,p=e.nextButtonText,h=e.errorMsg,m=e.nextLinkTrackingData,v=e.errorLinkTrackingData,g=function(e){history.back()},y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,l.default)(window.location.hash.substr(1)));return t.map((function(e,t){var a=e.fields.map((function(t,n){var i=e.type+n,r=t.name,a=t.label,o=t.value,l=null===t.showLabel||void 0===t.showLabel||t.showLabel,u=t.showRemainingCharacters,c=null===t.showIndex||void 0===t.showIndex||t.showIndex,d=t.attributes,f=t.next,p=t.placeholder;return(0,s.FormField)(i,n,r,a,o,l,u,c,d,f,"text","","",p,h)})),l=e.errors.map((function(e,t){return(0,s.formFieldError)(e,t)})),u=!e.formValidator.includes("passport")&&e.formValidator.includes("german")&&e.type===y["date-passport"],b=e.type.includes("passport")&&e.formValidator.includes("german")&&e.type===y["date-passport"],_=!e.type.includes("residence-title")&&(e.type===y["country-passport"]||e.type.includes(y["country-passport"]))&&"mrz"===e.formValidator&&!y["date-passport"],w=e.type.includes("residence-title")&&e.type===y["country-passport"];return o.default.createElement("div",{key:t,className:"passport-selection-panel".concat(u||b||_||w?" m-open":""),type:e.type},o.default.createElement("span",{tabIndex:"-1","aria-hidden":"true",className:"hide"},o.default.createElement(f,{id:e.type})),o.default.createElement("div",{className:"passport-dark-wrap grid-x"},o.default.createElement("div",{className:"cell small-12 large-8 large-offset-4"},o.default.createElement(d,{type:e.type,buildversion:n}))),o.default.createElement("form",{action:"#",className:"js-rb-live","data-module":"passport-form","data-passport-form-validator":e.formValidator,autoComplete:"off",noValidate:!0},o.default.createElement("div",{className:"passport-dark-wrap grid-x"},o.default.createElement("div",{className:"cell small-12 large-8 large-offset-4"},e.description&&o.default.createElement("p",null,e.description),o.default.createElement("p",{className:"form-required-note"},"Mit * markierte Felder sind Pflichtfelder"),l,o.default.createElement("fieldset",{className:"passport-numbers-wrap small-bottom-space-medium"},o.default.createElement("p",{className:"form-field-error error-item",role:"alert"},o.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine Eingabe")),a,o.default.createElement("div",{className:"content-left"},o.default.createElement("button",{className:"button text-only inverse js-rb-click js-track-click",title:"Datenverarbeitung und Datenschutz",type:"button","data-module":"button","aria-controls":"aria-data-dialog","data-track":JSON.stringify({element:"Verifikations-Formular",action:i,actionDetail:null,deltaType:"click.action",atiDeltaData:{page:"Schritt 2: Prüfnummern eintragen",page_title:"Schritt 2: Prüfnummern eintragen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Schritt 2: Prüfnummern eintragen",click_chapter1:"/altersverifikation",click_chapter2:"article",click_chapter3:null,target_title:"Schritt 2: Prüfnummern eintragen",target_type:"article",target_section:"5",target_subsection:"/altersverifikation",target_sophora_id:null,target_url:null}})},o.default.createElement("span",{className:"link-label"},i)))))),o.default.createElement("div",{className:"content-right is-password"},o.default.createElement("button",{className:"button medium round secondary is-inverted js-track-click",type:"button",onClick:g,"data-track":JSON.stringify({element:"fsk-country-button-back",deltaType:"click.navigation",action:"Zurück",actionDetail:null,atiDeltaData:{page:"Schritt 2: Prüfnummern eintragen",page_title:"Schritt 2: Prüfnummern eintragen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Schritt 1: Ausweis-Land und Dokument wählen",click_chapter1:"/altersverifikation",click_chapter2:"article",click_chapter3:null,target_title:"Schritt 1: Ausweis-Land und Dokument wählen",target_type:"article",target_section:"5",target_subsection:"/altersverifikation",target_sophora_id:null,target_url:null}})},"Zurück"),o.default.createElement("button",{className:"button primary medium round",name:"submitButton",type:"submit","data-error-page":r,"data-next-link":c,"data-next-link-tracking-data":JSON.stringify(m),"data-error-link-tracking-data":JSON.stringify(v),title:p,disabled:!0},p))))}))},d=function(e){var t=e.type,n=e.buildversion,i="id-new"===t?"Personalausweis ausgestellt bis 01.08.2021, markiert sind die Zahlenfolgen, die in die Eingabefelder 1, 2, 3, 4 eingegeben werden müssen. Im unteren Bereich ihrer Personalausweis-Rückseite befinden sich drei Textzeilen, welche Nummern bzw. Codes enthalten, die in den vier folgenden Textfeldern eingetragen werden sollten.":"id-with-version"===t?"Personalausweis ausgestellt ab 02.08.2021, markiert sind die Zahlenfolgen, die in die Eingabefelder 1, 2, 3, 4, 5 eingegeben werden müssen. Im unteren Bereich ihres Personalausweises befinden sich zwei Textzeilen, welche Nummern bzw. Codes enthalten, die in den fünf folgenden Textfeldern eingetragen werden sollten.":"passport-german"===t||"passport-with-version"===t?"Reisepass, markiert sind die Zahlenfolgen, die in die Eingabefelder 1, 2, 3, 4 eingegeben werden müssen. Schlagen Sie ihren Reisepass auf die laminierte Seite mit ihrem Foto auf.  Im unteren Bereich befinden sich zwei Textzeilen, welche Nummern bzw. Codes enthalten, die in den vier folgenden Textfeldern eingetragen werden sollten.":"residence-title"===t?"Deutscher Aufenthaltstitel, markiert sind die Zahlenfolgen, die in die Eingabefelder 1, 2, 3, 4 eingegeben werden müssen. Im unteren Bereich ihrer Personalausweis-Rückseite befinden sich drei Textzeilen, welche Nummern bzw. Codes enthalten, die in den vier folgenden Textfeldern eingetragen werden sollten.":"";return o.default.createElement("div",{className:"passport-image-wrap"},o.default.createElement("img",{tabIndex:"0",src:"/static/".concat(n,"/img/passports/").concat(t,".svg"),alt:i}))},f=function(e){var t=e.type;return o.default.createElement(o.default.Fragment,null,"id-new"===t?o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{id:"idNewIdnr1"},"Die erste Zeile startet mit I D D. Tragen Sie die darauf folgenden 10 Zahlen aus der ersten Zeile hier ein."),o.default.createElement("span",{id:"idNewIdnr2"},"Die zweite Zeile startet mit 7 Zahlen, tragen Sie diese hier ein."),o.default.createElement("span",{id:"idNewIdnr3"},"In der zweiten Zeile ihres Personalausweises folgen nach einem Trennungszeichen sieben weitere Zahlen. Tragen Sie diese hier ein."),o.default.createElement("span",{id:"idNewIdnr4"},"Am Ende der zweiten Zeile befindet sich eine weitere Zahl, geben Sie diese hier ein.")):"id-with-version"===t?o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{id:"idWithVersionIdnr1"},"Die erste Zeile startet mit I D D. Tragen Sie die darauf folgenden 10 Zahlen aus der ersten Zeile hier ein."),o.default.createElement("span",{id:"idWithVersionIdnr2"},"Die zweite Zeile startet mit 7 Zahlen, tragen Sie diese hier ein."),o.default.createElement("span",{id:"idWithVersionIdnr3"},"In der zweiten Zeile ihres Personalausweises folgen nach einem Trennungszeichen sieben weitere Zahlen. Tragen Sie diese hier ein."),o.default.createElement("span",{id:"idWithVersionIdnr4"},"In der zweiten Zeile ihres Personalausweises folgen nach zwei Trennungszeichen vier weitere Zahlen. Tragen Sie diese hier ein."),o.default.createElement("span",{id:"idWithVersionIdnr5"},"Am Ende der zweiten Zeile befindet sich eine weitere Zahl, geben Sie diese hier ein.")):"passport-german"===t?o.default.createElement(o.default.Fragment,null,o.default.createElement("label",{id:"passportGermanIdnr1"},"Die unterste Zeile ihres Personalausweises startet mit einer Zahlenkette von 10 Ziffern. Geben Sie diese hier ein."),o.default.createElement("label",{id:"passportGermanIdnr2"},"Nach einem Trennzeichen folgen 7 weitere Ziffern, tragen Sie diese bitte hier ein."),o.default.createElement("label",{id:"passportGermanIdnr3"},"Nach einem weiteren Trennzeichen folgt eine dritte Zahlenkette, bitte tragen Sie diese hier ein."),o.default.createElement("label",{id:"passportGermanIdnr4"},"Am Ende der Zeile folgt eine letzt Ziffer, tippen sie diese hier ein.")):"residence-title"===t&&o.default.createElement(o.default.Fragment,null,o.default.createElement("label",{id:"residenceTitleIdnr1"},"Die erste Zeile startet mit I D D. Tragen Sie die darauf folgenden 10 Zahlen aus der ersten Zeile hier ein."),o.default.createElement("label",{id:"residenceTitleIdnr2"},"Die zweite Zeile startet mit 7 Zahlen, tragen Sie diese hier ein."),o.default.createElement("label",{id:"residenceTitleIdnr3"},"In der zweiten Zeile ihres Personalausweises folgen nach einem Trennungszeichen sieben weitere Zahlen. Tragen Sie diese hier ein."),o.default.createElement("label",{id:"residenceTitleIdnr4"},"Am Ende der zweiten Zeile befindet sich eine weitere Zahl, geben Sie diese hier ein.")))},p=function(e){return o.default.createElement("div",{className:"passport-form grid-container grid-x small-bottom-space-small small-only-x-space-standard"},o.default.createElement("div",{className:"cell large-8 large-offset-2"},o.default.createElement(c,{passportType:e.passporttype,buildVersion:e.buildversion,targetAssetId:e.targetassetid,infoText:e.infotext,errorLink:e.errorlink,nextLink:e.nextlink,nextButtonText:e.nextbuttontext,errorMsg:e.error,errorLinkTrackingData:e.errorlinktrackingdata,nextLinkTrackingData:e.nextlinktrackingdata})))};t.default=p},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var a=r(n(114)),o=i(n(43)),s=n(211),l=i(n(243)),u=r(n(244)),c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,d=/^(?!.*\s)(?=.*[A-Z])(?=.*[0-9]).{8,}$/,f=function(e){var t,n=e.data.fieldsets,i=e.data.footer,r=(0,o.useState)({error:!1,value:""}),f=(0,a.default)(r,2),p=f[0],h=f[1],m=(0,o.useState)(!1),v=(0,a.default)(m,2),g=v[0],y=v[1],b=(0,o.useState)(!1),_=(0,a.default)(b,2),w=_[0],k=_[1],S=(0,o.useState)({error:!1,value:""}),O=(0,a.default)(S,2),E=O[0],P=O[1],T=(0,o.useState)(""),x=(0,a.default)(T,2),C=x[0],A=x[1],I=(0,o.useState)(!1),D=(0,a.default)(I,2),j=D[0],L=D[1],N=(0,o.useState)(!1),M=(0,a.default)(N,2),R=M[0],F=M[1],z=(0,o.useState)(""),U=(0,a.default)(z,2),H=U[0],B=U[1],V=function(e){var t=e.target.value.trim().toLowerCase(),n=c.test(t);h({value:t,error:!n}),g&&n&&y(!1)},W=function(e){P(e.target.value);var t=e.target.value.trim(),n=d.test(t);P({value:t,error:!n}),w&&n&&k(!1)},$=function(){p.error?(y(!0),setTimeout((function(){window.rb.setFocus(dor?(k(!0),setTimocus(document.querySelector(".show.js-rb-autofocus"))}),10)):k(!1)},G=function(e){A(e.target.value)},K=function(e){"terms"===e.target.name?L(e.target.checked):F(e.target.checked)},Y=(0,o.useRef)(null),Z=(0,o.useRef)(null),Q=function(e){e.preventDefault(),"email"===e.target.getAttribute("name")?Y.current.focus():Z.current.focus()},J=n.map((var n,i=null===(n=e.errors)||void 0===n?void 0:n.map((function(e,t){return(0,s.formFieldError)(e,t)})),r={name:e.name,id:e.id,showLabel:!0,placeholder:e.placeholder,labelText:e.label,errorMsg:e.errorMsg};return o.default.createElement("div",{key:t,className:"form-inputs"},i&&o.default.createElement(o.default.Fragment,null,i),!e.noInput&&o.default.createElement(o.default.Fragment,null,"email"===e.type?o.default.createElement(s.EmailInput,{onEmailChange:V,handleEmailBlur:$,values:r,inputValue:p.value,error:g,inputEmail:Y}):"password"===e.type?o.default.createElement(s.PasswordInput,{onPasswordChange:W,handlePasswordBlur:q,values:r,inputValue:E.value,inputPassword:Z,error:w,showText:!1}):"gender"===e.type?o.default.createElement(u.default,{values:r}):"birthYear"===e.type?o.default.createElement(l.default,{values:r,onChange:B}):"checkbox"===e.type?o.default.createElement("div",{className:"form-field checkbox-wrap"},o.default.createElement("input",{name:r.name,id:r.id,className:"checkbox-input",type:"checkbox",value:e.value,onChange:K}),o.default.createElement("label",{id:"label-".concat(r.id),className:"checkbox-label",htmlFor:r.id},o.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.labelText}}))):o.default.createElement(s.NicknameInput,{onNicknameChange:G,values:r})),e.caption&&o.default.createElement("div",{className:"form-field-caption".concat(E.error?" has-error":"").concat(e.wideCaption?" wide":""),dangerouslySetInnerHTML:{__html:e.caption}}),e.dialog&&e.dialogText&&o.default.createElement("button",{className:"button text-only inverse js-rb-click js-track-click",type:"button","data-module":"button","aria-controls":e.dialog},o.default.createElement("span",{className:"link-label"},e.dialogText)))}))})),X=!(p.value&&E.value&&j&&R),ee=!C,te=H&&!(0,l.yearIsInAllowedRange)(H),ne=null===(t=e.data.footer)||void 0===t?void 0:t.type,ie="first"===ne&&X||"second"===ne&&ee||"third"===ne&&te;return o.default.createElement("div",{className:"form-panel is-white"},o.default.createElement("div",{className:"grid-x"},o.default.createElement("div",{className:"cell large-8 large-offset-4 registration-main-content"},o.default.createElement("div",{className:"form-inner"},o.default.createElement("fieldset",{className:"fieldset"},n[0].legend&&o.default.createElement("legend",{className:"legend wide"},n[0].legend),"third"!==ne&&o.default.createElement("p",{className:"form-required-note"},"Mit * markierte Felder sind Pflichtfelder"),o.default.createElement("p",{className:"form-field-error error-item js-rb-autofocus ".concat(g?"show":""),role:"alert"},o.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine"," ",o.default.createElement("a",{href:"",id:"email",title:"Link zum Formularfehler",onClick:Q},"E-Mail-Adresse"))),o.default.createElement("p",{className:"form-field-error error-item js-rb-autofocus ".concat(w?"show":""),role:"alert"},o.default.createElement("span",{className:"error-msg"},"Bitte überprüfe deine"," ",o.default.createElement("a",{href:"",id:"password",title:"Link zum Formularfehler",onClick:Q},"Passwort-Eingabe"))),J)),o.default.createElement("footer",null,o.default.createElement("div",{className:"content-right"},i.back&&o.default.createElement("button",{type:"button",className:"button secondary is-inverted medium round js-btn-back"},i.back),o.default.createElement("button",{type:"submit",className:"button primary medium round",disabled:ie},i.submit)))),"first"===i.type&&o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"registration-login-footer"},o.default.createElement("h2",null,i.headline),o.default.createElement("button",{className:"register-btn button secondary is-inverted text-left js-rb-click js-track-click","aria-controls":"aria-login-dialog","data-module":"panelbutton",type:"button","data-track":'{"element": "Anmeldungsoverlay", "action": "Öffnen", "actionDetail": "Jetzt_registrieren", "trackView": "true", "targetAssetId": "'.concat(i.targetassetid,'"}')},i.button)))))};t.default=f},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.FormFieldWrapper=void 0,n(9),n(8),n(5);var r=i(n(43));t.FormFieldWrapper=function(e){var t=e.values,n=e.children,i=e.labelModifier,a=e.error;return r.default.createElement("label",{className:"form-field ".concat(i)},!0===t.showLabel&&r.default.createElement("span",{id:"label-".concat(t.id),className:"form-field-label ".concat(a?"has-error":"")},t.labelText),n,a&&!!t.errorMsg&&r.default.createElement("p",{className:"form-field-error-detail"},t.errorMsg))}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10),n(9),n(8),n(5);var r=i(n(43)),a=function(e){var t=e.onChange,n=e.options,i=e.values,a=e.defaultChecked;return r.default.createElement("label",{className:"form-field",htmlFor:i.id},r.default.createElement("span",{id:"label-".concat(i.id),className:"form-field-label ".concat(i.showLabel?"":"visuallyhidden")},i.labelText),r.default.createElement("div",{className:"form-field-input-container"},r.default.createElement("fieldset",{onChange:t,className:"radio-group left clearfix",role:"radiogroup"},n.map((function(e,t){var n=i.name+e.value;return r.default.createElement("div",{className:"radio-wrap",key:e.value+t},r.default.createElement("input",{type:"radio",id:n,name:i.name,value:e.value,className:"radio-input",defaultChecked:a===e.value}),r.default.createElement("label",{htmlFor:n,className:"radio-label"},e.label))})))))};t.default=a},function(e,t,n){"use strict";var i=n(2),r=n(42);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(21)),o=i(n(114)),s=r(n(43)),l=i(n(244)),u=r(n(243));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=(0,s.useState)({yearOfBirth:"",gender:"",loaded:0}),n=(0,o.default)(t,2),i=n[0],r=n[1],a=e.data;(0,s.useEffect)((function(){var e=function(e){var t=e.yearOfBirth,n=void 0===t?"":t,i=e.gender;returate.now()})};return zdfsite.user.subscribe("info",e,!0),function(){zdfsite.user.unsubscribe("info",e,!0)}}),[]);var c=(0,s.useCallback)((function(e){var t=e.target.value;r((function(e){return d({},e,{gender:"no-selection"!==t?t:""})}))}),[]),f=(0,s.useCallback)((function(e){r((function(t){return d({},t,{yearOfBirth:e||""})}))}),[]),p=(0,s.useRef)(!1),h=(0,s.useCallback)((function(e){e.preventDefault(),p.current||i.yearOfBirth&&!(0,u.yearIsInAllowedRange)(i.yearOfBirth)||(p.current=!0,zdfsite.user.dispatch("updateUserPersonalInfo",{yearOfBirth:i.yearOfBirth,gender:i.gender,onSuccess:function(){p.current=!1,rb.$("#aria-change-optionaldata-dialog").rbComponent().close()},onFail:function(e){(void 0).logError("updateUserPersonalInfo failed",e),p.current=!1,rb.$("#aria-change-optionaldata-dialog").rbComponent().close()}}))}),[i]);return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"form-panel"},s.default.createElement("form",{className:"form-inner",onSubmit:h},s.default.createElement("fieldset",{className:"fieldset"},s.default.createElement(l.default,{values:d({},a.genderInfo,{id:"reg-flow-gender",name:"gender",type:"gender",errors:[],showLabel:!0}),defaultChecked:i.gender||"no-selection",key:i.loaded+"gender",onChange:c}),s.default.createElement(u.default,{values:d({},a.birthYearInfo,{showLabel:!0,id:"reg-flow-birth-year",name:"yearOfBirth"}),defaultValue:i.yearOfBirth,onChange:f,key:i.loaded+"yearOfBirth"}),a.birthYearInfo.caption&&s.default.createElement("div",{className:"form-field-caption",dangerouslySetInnerHTML:{__html:a.birthYearInfo.caption}}),s.default.createElement("div",{className:"content-right"},s.default.createElement("button",{type:"submit",className:"button round medium primary delete-optionaldata-btn"},a.save))))))};t.default=f},function(e,t,n){"use strict";var i,r,a;r=[t,n(66),n(70),n(78),n(71),n(77),n(614)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0});var o=c(t),s=c(n),l=c(i),u=c(r);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n,i){(0,o.default)(this,t);var r=(0,s.default)(this,e.call(this,n,i));return r.rAFs({that:r,throttle:!0},"updatePanelButtonState"),r}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{openTitle:"",closedTitle:""}}}]),t.prototype.updatePanelButtonState=function(){var e=this.options,t=this.panelComponent.isOpen,n=!(!t||!this.panelComponent.groupComponent||!1!==this.panelComponent.groupComponent.options.toggle);this.element.setAttribute("aria-expanded",""+t),this.element.disabled=n,e.closedTitle&&e.openTitle&&(this.element.title=e[t?"openTitle":"closedTitle"]),this._isFakeBtn&&(this.element.setAttribute("aria-disabled",n),this.element.setAttribute("tabindex",n?-1:0))},t.prototype._switchOff=function(){e.prototype._switchOff.call(this),this.element.removeAttribute("aria-expanded"),this._isFakeBtn&&(this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.element.removeAttribute("aria-disabled"))},t.prototype._switchOn=function(){e.prototype._switchOn.call(this),this.panelComponent?this.updatePanelButtonState():this.associatePanel()},t.prototype._setTarget=function(t){var n=e.prototype._setTarget.call(this,t);return this.target&&this.associatePanel(),n},t.prototype.associatePanel=function(){var e,t=this.getTarget();t&&(e=this.component(t))&&"isOpen"in e&&this.panelComponent!=e&&(this.panelComponent&&(this.panelComponent.buttonComponent==this&&(this.panelComponent.buttonComponent=null),this.panelComponent.$element.off(this.panelComponent._evtName,this.updatePanelButtonState)),this.panelComponent=e,e.buttonComponent=this,e.$element.on(this.panelComponent._evtName,this.updatePanelButtonState),this.updatePanelButtonState())},t}(c(a).default.components.button);a.Component.register("panelbutton",d),e.default=d})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(15),r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=window.rb,n=function(e){return e==this||e.contains(this)};t.contains=function(e,t){return Array.isArray(e)?e.find(n,t):n.call(t,e)?e:null},t.contains._contains=n,e.default=t.contains})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(e){var t=n(2);n(15),n(10),n(17);var i,r=t(n(0)),a=t(n(3)),o=t(n(1)),s=t(n(4)),l=t(n(23)),u=t(n(11)),c=n(245),d=n(24);i=function(){var e,t=window.rb,i=t.$,u=window.zdfsite,f=u.apiService,p=n(7),h=(e=function(e){function n(e,i){var o;return(0,r.default)(this,n),o=(0,a.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i)),t.rAFs(o,{that:o},"handleSuccess","handleError","changedLoadingState"),o.isLoading=!1,o.btnSubmit=o.element.querySelector('button[type="submit"]'),o.btnReset=o.element.querySelector('button[type="reset"]'),o.textarea=o.element.querySelector("textarea.comment-textarea"),o.guestnameInput=o.element.querySelector('input[name="visitor"]'),o.guestnameInput&&o.guestnameInput.addEventListener("input",o.handleInputChanged),o.handleInputChanged(),p.ready.then((ts",get:function(){return{postCommentUrl:"",list:"",newCommentNotice:"",debug:1,guestCommentsAllowed:!1}}},{key:"events",get:function(){return{submit:"handleSubmit",textareaChanged:"handleInputChanged"}}}]),(0,o.default)(n,[{key:"handleInputChanged",value:function(){var e=u.user&&u.user.isReady&&u.user.isLoggedIn();this.btnSubmit.disabled=!this.validateForm(e),i(this.btnReset).toggleClass("hide",this.isFormEmpty(e))}},{key:"validateForm",value:function(e){var t=(0,c.notEmpty)(this.textarea),n=!e&&this.options.guestCommentsAllowed&&!1===(0,c.notEmpty)(this.guestnameInput);return t&&!n}},{key:"isFormEmpty",value:function(e){var t=!!this.textarea.value,n=!e&&this.options.guestCommentsAllowed&&!!this.guestnameInput.value;return!t&&!n}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.resetErrorMessages(),!(p.isLoggedIn()||this.element.visitor.value&&0!==this.element.visitor.value.replace(/\s/g,"").length))return this.handleError({response:{status:"guestname"}}),!1;this.addComment({comment:(this.element.comment||{value:""}).value.trim(),notice:this.options.newCommentNotice})}},{key:"addComment",value:function(e){var t=p.getState(),n={commentData:e};n.apiUrl=this.getApiUrl(),t.isTiviUser()&&t.isLoggedIn?e.userId=t.activeSubProfile.name:t.isLoggedIn||(e.userId=(this.element.visitor||emptyValue).value.trim()),this.log("addComment",n),this.isLoading=!0,this.installListeners(),p.dispatch("addComment",n)}},{key:"getApiUrl",value:function()isteners(),p.subscribe("commentSution(){p.unsubscribe("commentSuccess",this.handleSuccess),p.unsubscribe("commentError",this.handleError)}},{key:"detached",value:function(){this.deinstallListeners()}},{key:"handleError",value:function(e){var t=e.response,n=t.status;401===t.status&&p.showLogin(),t.data&&"Comment longer than 2048 Chars"===t.data.message&&(n="max-length-comment"),t.data&&"The given guestname is too long!"===t.data.message&&(n="max-length-guestname"),this.logError("handleError | post of comment failed",t),this.isLoading=!1;var i=this.$element.find(".m-error-"+n);i.length||(i=this.$element.find(".m-error")),this.resetErrorMessages(n),this.$element.attr({"data-error":n}),i.stop().rbSlideDown(),this.deinstallListeners()}},{key:"resetErrorMessages",value:function(e){this.$element.find(".error-item:not(.m-error-"+e+")").filter((function(){return"none"!=i(this).css("display")&&"hidden"!=i(this).css("visibility")})).stop().rbSlideUp(),e||this.$element.removeAttr("data-error")}},{key:"handleSuccess",value:function(e){t.logInfo("handleSuccess | comment posted",e);var n=e.commentData;this.isLoading=!1,this.resetErrorMessages(),this.element.reset(),this._trigger(n),this.deinstallListeners()}},{key:"changedLoadingState",value:function(){this.log("changedLoadingState",this.isLoading),this.$element.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=!!e,this.changedLoadingState()}}]),n}(t.Component),(0,l.default)(e.prototype,"handleInputChanged",[d.autobind],Object.getOwnPropertyDescriptor(e.prototype,"handleInputChanged"),e.prototype),e);return t.live.register("commentform",h),h},"object"===(0,u.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(1),a=n(3),o=n(35),s=n(4),l=n(11);t=function(){var e=window.zdfsite,t=n(115),l=n(7);return new(function(t){function n(e,t){return i(this,n),atypeOf(n)).call(this,e,t))}return s(n,t),r(n,[{key:"generateUrl",value:function(t){return e.apiService+t}},{key:"generateRequestHeaders",value:function(e){var t=o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"generateRequestHeaders",this).call(this,e)||{},i=l.getState();return i.isLoggedIn&&(t.Authorization="Bearer "+i.token),t}},{key:"processData",value:function(e,t,n){return e["http://zdf.de/rels/comments"]}}]),n}(t))("comment")},"objecte(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;")}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(102),n(14),n(10);var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=window.rb,c=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)))._gridTabbable=null,i._value=null,i._valueData=null,i.formats=window.rb.i18n.formats.de,u.rAFs(i,{throttle:!0},"renderWrapper","renderMonth","setMonthGridProps","setGridFocus"),i.setOption("min",i.options.min),i.setOption("max",i.options.max),i.renderWrapper(),i.options.value?i.setValue(i.options.value):i.renderMonth(new Date),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{debug:!0,value:null,range:!1,max:NaN,min:NaN,popoverName:"",allowRender:!1}}}]),(0,s.default)(t,[{key:"setOption",value:function(e,n){(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setOption",this).call(this,e,n),"min"==e||"max"==e?(this[e]=n?this.getDate(n):null,this.mainElement&&this.renderMonth(this._value)):"allowRender"==e&&n&&(this.mainElement||this.renderWrapper(),this.renderMonth(new Date(this.selectedDate&&this.selectedDate.time)))}},{key:"getPreviousMonth",value:function(e){var t=1*e.month,n=1*e.year;return 1==t?this.addLeasingZero(n-1)+"-12":e.year+"-"+this.addLeasingZero(t-1)}},{key:"getNextMonth",value:function(e){var t=1*e.month,n=1*e.year;return 12==t?this.addLeasingZero(n+1)+"-01":e.year+"-"+this.addLeasingZero(t+1)}},{key:"previous",value:function(e){this.isStartReached()||(this.renderMonth(this.getPreviousMonth(this.selectedDate)),e&&this.setGridFocus())}},{key:"next",value:function(e){this.isEndReached()||(this.renderMonth(this.getNextMonth(this.selectedDate)),e&&this.setGridFocus())}},{key:"setValue",value:function(e){e!==this._value&&(this._valueData=this.getDate(e),this._value=this._valueData.dateStr,this.selectedDate=this._valueData,this.query('[data-date="'+this._valueData.dateStr+'"].{name}-):this.renderMonth(this._value||new Date))}},{key:"addLeasingZero",value:function(e){return e<=9?"0"+e:e}},{key:"_getDate",value:function(e){return e.getFullYear||(e=e.split("T")[0].split("-"),e=new Date(e[0],e[1]-1,e[2]||1)),e}},{key:"getDate",value:function(e){var t=void 0,n=void 0;return e&&(n={dateArray:t=[(e=this._getDate(e)).getFullYear(),e.getMonth()+1,e.getDate()],yearNumber:t[0],monthNumber:1*(t[0]+""+t[1]),time:e.getTime(),year:t[0],month:t[1],date:t[2],day:e.getDay(),dateStr:[t[0],this.addLeasingZero(t[1]),this.addLeasingZero(t[2])].join("-")}),e&&!isNaN(n.yearNumber)||(n={dateArray:[],dateStr:""}),n}},{key:"renderWrapper",value:function(){if(this.options.allowRender){var e=this.render("wrapper",{formats:this.formats});this.element.innerHTML=e,this.mainElement=this.query(".{name}-main"),this.headerElement=this.query(".{name}-btn-header"),this.prevBtn=this.query(".{name}-btn-prev"),this.nextBtn=this.query(".{name}-btn-next")}}},{key:"moveGridFocus",value:function(e,t){if(this._gridTabbable){var n=void 0,i=this._gridTabbable.parentNode,r=i.cellIndex;if(33==e||t&&37==e)this.previous(!0);else if(34==e||t&&39==e)this.next(!0);else switch(e){case 37:(n=i.previousElementSibling)||(n=i.parentNode.previousElementSibling)&&(n=n.lastElementChild);break;case 38:n||(n=i.parentNode.previousElementSibling);break;case 40:n||(n=i.parentNode.nextElementSibling);break;case 39:(n=i.nextElementSibling)||(n=i.parentNode.nextElementSibling)&&(n=n.firstElementChild)}!n||38!=e&&40!=e||(n=n.querySelector("td:nth-child("+(r+1)+")")),!n||n.classList.contains(u.statePrefix+"othermonth")?40==e||39==e?this.next(!0):37!=e&&38!=e||this.previous(!0):n&&(n=n.querySelector("button"))&&this.setGridFocus(n)}}},{key:"setGridFocus",value:function(e){(e=e||this._gridTabbable)&&!e.disabled&&(e!=this._gridTabbable&&(this._gridTabbable&&this._gridTabbable.setAttribute("tabindex","-1"),e.setAttribute("tabindex","0"),this._gridTabbable=e),this.setFocus(e))}},{key:"setMonthGridProps",value:function(){this._gridTabbable&&this._gridTabbable.setAttribute("tabindex","-1");var e=this.query('[aria-selected="true"].{name}-cellbox');e&&e.setAttribute("aria-selected","false"),this._gridTabbable=null,this._valueData&&(this._gridTabbable=this.query(":not(."+u.statePrefix+'othermonth) > [data-date="'+this._valueData.dateStr+'"].{name}-cellbox'),this._gridTabbable&&this._gridTabbable.setAttribute("aria-selected","true")),this._gridTabbable&&this._valueData||(this._gridTabbable=this.query(":not(."+u.statePrefix+"othermonth) > .{name}-cellbox:not(:disabled)")),this._gridTabbable&&this._gridTabbable.setAttribute("tabindex","0"),this.prevBtn&&(this.prevBtn.disabled=this.isStartReached()),this.nextBtn&&(this.nextBtn.disabled=this.isEndReached())}},{key:"renderMonth",value:function(e){e=this._getDate(e||new Date);var t=this.getDate(e);if(this.selectedDate=t,this.options.allowRender){var n={title:this.formats.monthNames[t.month-1]+" "+t.year,formats:this.formats,body:this.getMonthData(e,t),selected:t},i=this.render("month",n);this.headerElement.innerHTML=n.title,this.mainElement.innerHTML=i,this.setMonthGridProps._rbUnrafedFn.call(this)}}},{key:"isStartReached",value:function(){var e,t,n=!1;return this.selectedDate&&this.min&&((t=new Date(this.selectedDate.year,this.selectedDate.month-1,this.selectedDate.date)).setDate(1),(e=new Date(t.getTime())).setDate(e.getDate()-1),n=e.getTime()<this.min.time),n}},{key:"isEndReached",value:function(){var e=void 0,t=void 0,n=!1;return this.selectedDate&&this.max&&((t=new Date(this.selectedDate.year,this.selectedDate.month-1,this.selectedDate.date)).setDate(1),t.setMonth(t.getMonth()+1),(e=new Date(t.getTime())).setDate(e.getDate()-1),n=e.getTime()>this.max.time),n}},{key:"getMonthData",value:function(e,t){var n,i=void 0,r=void 0,a=void 0,o=void 0,s=this.min?this.min.time:Number.MIN_VALUE,l=this.max?this.max.time:Number.MAX_VALUE,u=[];for(e.setDate(1),(n=e.getDay())!=this.formats.firstDay&&((i=n-this.formats.firstDay)<0&&(i+=7),e.setDate(e.getDate()-i)),r=0;r<50;r++){if((o=this.getDate(e)).otherMonth=o.monthNumber!=t.monthNumber,o.isRangeoverflow=o.time<s||o.time>l,!(r%7)){if(u.length>5&&o.otherMonth&&(o.yearNumber>t.yearNumber||o.monthNumber>t.monthNumber&&o.yearpushu}},{key:"value",get:function(){return this._value||""},set:function(e){this.setValue(e),this._trigger()}}],[{key:"events",get:function(){return{"click:closest(.{name}-btn-prev)":function(e){e.target.disabled||this.previous(!0)},"click .{name}-btn-next":function(e){e.target.disabled||this.next(!0)},"click .{name}-cellbox":function(e){var t=e.delegatedTarget.getAttribute("data-date");this.value=t,this.setGridFocus(e.delegatedTarget)},"keydown:keycodes(33 34 37 38 39 40):matches(.{name}-cellbox)":function(e){e.shiftKey||(this.moveGridFocus(e.keyCode,e.ctrlKey||e.altKey),e.preventDefault())}}}}]),t}(u.Component);u.live.register("datepicker",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(104)),u="last-known-tivi-location",c=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).handleIncomingBroadcastault)(t,null,[{key:"defaults",get:function(){return{name:"dialog",closeOnEsc:!1,closeOnBackdropClick:!1}}},{key:"events",get:function(){return{"click:closest(.stay-btn)":function(){this.handleBackToTivi()},"click:closest(.leave-btn)":function(){this.handleDeliberateEscape()},"click:closest(.di]),(0,o.default)(t,[{key:"addActiveTivithis.open()}},{key:"removeActiveTiviLdleDeliberateEscape",value:function(){t.broadcastDeliberateEscapeEvent(),this.removeActiveTiviLocation()}},{key:"handleBackToTivi",value:function(){this.open(),window.location=t.lastKnownTiviLocation}},{key:"handleIncomingBroadcasts",value:function(e){if(!zdfsite.isTiviLocation){var n=e.key,i=e.newValue;"tivi-escape-protection-channel"===n&&null!==i&&t.lastKnownTiviLocation!==i&&("tivi-protection-buster"===i?this.removeActiveTiviLocation():this.addActiveTiviLocation(i))}}},{key:"attached",value:function(){window.addEventListener("storage",this.handleIncomingBroadcasts),t.lastKnownTiviLocation&&this.open()}},{key:"detached",value:function(){window.removeEventListener("storage",this.handleIncomingBroadcasts)}}],[{key:"broadcastTiviLocation",value:function(e){window.localStorage.setItem("tivi-escape-protection-channel",e),window.localStorage.removeItem(peEvent",value:function(){t.broadcocation=null}},{key:"lastKnownTiviLocation",get:function(){return window.sessionStorage.getItem(u)||null},set:function(e){null===e?window.sessionStorage.removeItem(u,e):window.sessionStorage.setItem(u,e)}}]),t}(l.default);rb.live.register("dialog-tivi-escape-protection",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(11);n(14),function(){var t=void 0,n=void 0,r=window.rb,a=r.$;function o(e,i){n||(t=document.querySelector(".b-header"))&&(n=r.getStyles(t));var o=n&&"fixed"===n.position?t.offsetHeight:0;a(e).scrollIntoView({offsetTop:-1*(o+(i||0)),focus:e,hash:e.id,forcePosition:!0,easing:"ease-in-out",scrollingElement:null,durationMax:800,durationBase:350,durationMultiplier:.3})}r.click.add("scrollto",(function(e,t){var n=e.getAttribute("href").split("#")[1],i=n?document.getElementById(n):null;i&&(o(i),t.preventDefault())})),window.addEventListener("message",(function(e){var t="string"==typeof e.data?r.jsonParse(e.data):"object"===i(e.data)?e.data:{};if(t&&t.type&&"scrollTo"===t.type&&!t.id){var n=t.x,a=void 0===n?0:n,o=t.y,s=void 0===o?0:o,l=!1;try{l=matchMedia("(prefers-reduced-motion: reduce)").matches}catch(e){}if(window.scroll)return void window.scroll({left:a,top:s,behavior:l?"auto":"smooth"});window.scrollTo(a,s)}}),!1),e.exports.scrollTo=o}()},function(e,t,n){"use strict";var i=n(0),r=n(1),a=n(3),o=n(35),s=n(4);!function(){var t=window.rb,n=t.$,l=function(e){function l(e,n){var r;return i(this,l),(r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e,n))).isAtStart=null,r.isAtEnd=null,r.list=r.query(".{name}-list"),r.$list=t.$(r.list),r.overflowHeight=0,r.reflow=t.throttle(r.calcLayout,{that:r}),r.resize=t.throttle(r.onResize,{that:r}),t.rAFs(r,"setState"),r.setOption("easing",r.options.easing),r.calcLayout(),r.setupEvents(),r}return s(l,e),r(l,[{key:"attached",value:function(){t.resize.on(this.resize),this.mutationObserver=new MutationObserver(this.reflow),this.mutationObserver.observe(this.element,{childList:!0,subtree:!0}),this.options.scrollToPosition&&this.scrollToPosition("li.item.current"),this.options.initialPageSelector&&this.scrollToPage(this.options.initialPageSelectolItem)}},{key:"setScrollPosition",value:function(e){this.curScroll=e,this.list.scrollLeft=this.curScroll}},{key:"scrollToPosition",value:function(e){this.currentItem=this.query(e),this.curScroll=this.currentItem.offsetLeft-this.currentItem.offsetWidth,this._animateScroll()}},{key:"scrollToPage",value:function(e){var t=this.$list.width(),n=Math.floor(this.query(e).offsetLeft/t);this.curScroll=n*t,this._animateScroll()}},{key:"scrollToItem",value:function(e){var t=this.options,n=t.cellWidth,i=t.centerCurrentItem;if(n||!i){var r=this.$list.width(),a=this.query(e);if(a){var o=a.offsetLeft,s=Math.floor(o/n);this.curScroll=s*n-(i?Math.floor(r/n/2)*n:0),this._animateScroll()}}else console.warn("Can not calculate center because of missing cellWidth option")}},{key:"selectItem",value:function(e){var t=this.options,i=t.currentItemSelector,r=t.currentItemModifier,a=t.centerCuroItem(i)}},{key:"detached",value:function(){t.resize.off(this.resize),this.mutationObserver.disconnect()}},{key:"setupEvents",value:function(){if(!this.isHiddenScroll){var e=!1;this.list.addEventListener("focus",(function(){!e&&t.root.classList.contains(t.statePrefix+"keyboardfocus-within")&&(e=!0)}),!0)}}},{key:"setOption",value:function(e,n){o(l.prototype.__proto__||Object.getPrototypeOf(l.protg=t.addEasing(n))}},{key:"onResize",value:function(){this.calcLayout(),this.scrollToItem("li.is-active")}},{key:"calcLayout",value:function(){this.curScroll=this.list.scrollLeft,this.maxScroll=this.list.scrollWidth-this.list.offsetWidth,this.setState()}},{key:"_animateScroll",value:function(){this.$list.stop().animate({scrollLeft:this.curScroll},{duration:this.options.duration,easing:this.options.easing})}},{key:"selectPrev",value:function(){this.curScroll=Math.max(this.curScroll-this.options.scrollStep,0),this._animateScroll()}},{key:"selectNext",value:function(){this.curScroll=Math.min(this.curScroll+this.options.scrollStep,this.maxScroll),this._animateScroll()}},{key:"setState",value:function(){var e=0===this.maxScroll||this.curScroll-this.options.scrollTolerance<1,t=0===this.maxScroll||this.curScroll+this.options.scrollTolerance>=this.maxScroll;this.isAtStart!=e&&(this.isAtStart=e,(this.query(".{name}-prev")||{}).disabled=e),this.isAtEnd!=t&&(this.isAtEnd=t,(this.query(".{name}-next")||{}).disabled=t)}},{key:"enableScroll",value:function(){this.$element.removeClass("scroll-disabled")}},{key:"disableScroll",value:function(){this.$element.addClass("scroll-disabled")}}],[{key:"defaults",get:function(){return{scrollStep:980,wheelDivide:5,easing:"ease-in-out",duration:400,scrollTolerance:5,scrollToPosition:!1,initialPageSelector:null,initialItem:null,cellWidth:null,celectPrev","click:closest(.{name}-next)":"selectNext","scroll:capture():matches(.{name}-list)":"reflow"}}}]),l}(t.Component);t.live.register("js-scrollbox",l),e.exports.ScrollBox=l}()},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CheckDigit",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"DateOfBirth",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"DateOfExpiry",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"DocumentCode",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"IssuingState",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Nationality",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"OptionalData",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"PassportNction(){return f.default}}),Object.defineProperty(t,"Sex",{enumerable:!0,get:function(){return p.default}});var r=i(n(685)),a=ion(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAvatarImages=t.getAvatarImage=void 0;var i=void 0,r=function(){if(!i){var e=document.createElement("div"),t=document.getEleme,i=e)}return i};t.getAvatarImages=r;t.getAvatarImage=function(e){return r().querySelector(".".concat(e))}},function(e,t,n){"use strict";var i,r,a;r=[t],void 0===(a="function__esModule",{value:!0});var t=window.CSS,n=t&&t.supports?function(){return t.supports.apply(t,arguments)}:function(){return""};window.rb&&(rb.cssSupports=n),e.default=n})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[t,n(722)],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=window.rb,n=t.$,i=t.Symbol("resize");function r(e){var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=e.target,c=u[i];c&&(t=u.clientWidth,n=u.clientHeight,r=u.offsetWidth,a=u.offsetHeight,s=t!=c.width||r!=c.offsetWidth,l=n!=c.height||a!=c.offsetHeight,(s||l)&&(c.width=t,c.height=n,c.offsetWidth=r,c.offsetHeight=a,o=[{target:e.target,originalEvent:e,width:t,height:n,type:"rb_resize",offsetWidth:r,offsetHeight:a}],l&&c.heightCbs.fireWith(u,o),s&&c.widthCbs.fireWith(u,o),c.cbs.fireWith(u,o)))}t.events.special.rb_resize={add:function(e,a,o){var s=e[i];s||(s={width:e.clientWidth,height:e.clientHeight,offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight,cbs:n.Callbacks(),widthCbs:n.Callbacks(),heightCbs:n.Callbacks()},e[i]=s,t.events.add(e,"rb_layoutchange",r,o)),o&&(o.height||o.width)?(o.height&&s.heightCbs.add(a),o.width&&s.widthCbs.add(a)):s.cbs.add(a)},remove:function(e,n,a){var o=e[i];o&&(a&&(a.height||a.width)?(a.height&&o.heightCbs.remove(n),a.width&&o.widthCbs.remove(n)):o.cbs.remove(n),o.heightCbs.has()||o.widthCbs.has()||o.cbs.has()||(e[i]=null,t.events.remove(e,"rb_layoutchange",r,a)))}},e.default=r})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";n(10),n(15),n(17);var i={},r=window.rb,a=r.$;i.createPagination=function(e,t){var n=[],i=t||e.originalPageLength,a=e.interpolateName(e.options.paginationItemTpl),o=/\{index}/g;if(e.element.setAttribute("data-page-length",i),e.$pageLength.html(i),e.$pagination.length&&e.$paginationBtns.length!==i){for(var s=0;s<i;s++)n.push(a.replace(o,""+(s+1)));e.$pagination.html(n.join("")),e.$paginationBtns=e.$pagination.find("."+e.name+r.elementSeparator+"pagination"+r.nameSeparator+"btn"),e.$paginationBtns.eq(e._selectedIndex).addClass(r.statePrefix+"selected")}},i.updateControls=function(e,t){var n=e.pageData[e._selectedIndex+e.baseIndex];if(!e.isCarousel||e.isCarouselChanged){var i=e.isEndReached(t),o=e.isStartReached(t);e.isCarouselChanged=!1,e.$queryAll(".{htmlName}{e}btn{-}next").prop({disabled:i}).rbChangeState("disabled",i),e.$queryAll(".{htmlName}{e}btn{-}prev").prop({disabled:o}).rbChangeState("disabled",o)}e.element.setAttribute("data-current-index",e._selectedIndex+1),e.$currentIndex.html(e._selectedIndex+1),e.$cells.removeClass(r.statePrefix+"active"),n&&(n.$cellElems||(n.$cellElems=a(n.cellElems))).addClass(r.statePrefix+"activated").addClass(r.statePrefix+"active");var s=e._selectedIndex%e.originalPageLength;e.$paginationBtns.removeClass(r.statePrefix+"selected").eq(s).addClass(r.statePrefix+"selected")},i.setPosition=function(e,t){var n,i=void 0,r=void 0,a=void 0,o=void 0;e.isCarousel&&((t>=e.maxWrapLeft||t<=e.minWrapRight)&&(t>=e.maxWrapLeft?t-=e.carouselWidth:t<=e.minWrapRight&&(t+=e.carouselWidth)),i=t>=e.minWrapLeft&&t<=e.maxWrapLeft,r=t>=e.minWrapRight&&t<=e.maxWrapRight,a="left"===e.isWrap&&!i&&e.maxUnwrapLeft<=t&&e.minUnwrapLeft>=t,o="right"===e.isWrap&&!r&&e.maxUnwrapRight<=t&&e.minUnwrapRight>=t,a?e._changeWrap("left","l"):o&&e._changeWrap("right","l"),"left"!==e.isWrap&&i?e._changeWrap("left","ul"):"right"!==e.isWrap&&r&&e._changeWrap("right","ul")),e._pos=t,e.scroller.rbItemscrollerPos=e._pos,n=t-.1+"px",e.usesTransform?e.scroller.style.transform="translate3d("+n+", 0, 0)":e.scroller.style.left=n,e.onslide.fireWith(e)},e.exports=i},function(e,t,n){"use strict";(function(e){n(34),n(5),n(10);var t,i=n(0),r=n(1),a=n(11);t=function(){var e=window.zdfsite,t=window.rb,a=n(157);return new(functioey:"generateUrl",value:function(){return"".concat(e.apiService,"/search/documents/id-by-tivi-age-group")}},{key:"success",value:function(e,t,n){var i=this.promises[n]?n:t;this.promises[i].resolve(e)}},{key:"error",value:function(e,t){(this.promises[t]||this.promises[e]).resolve([])}},{key:"filterIdsByAgeGroup",value:function(e,n){var i=this.generateUrl(),r=e.join("");if(!this.promises[r]){this.promises[r]=t.deferred();var a=JS(e){function t(t,n,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){var i=this,r=a(e);r["Content-Type"]="application/json;charset=UTF-8",r.Accept="application/vnd.de.zdf.v1.0+json;charset=utf-8",fetch(e,{method:"POST",headers:r(404!==n.status&&403!==n.status&&n.ok)return n.json();i.error(e,t)})).then((function(n){i.success(n,e,t)}))}))}]),n}())("ageGroupFilter")},"object"===a(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateItemScroller=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var r=i.$(e).get(0).closest('[data-module="js-stageitemscroller"]'),a=i.getComponent(r);t&&a.updateCells(),n&&a.createPagination()}catch(e){i.logError(e)}};var i=window.rb},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.setTrackingDataOnElement=f;var r=i(n(21)),a=i(n(98));n(28),n(26),n(82),n(34),n(5),n(17),n(15);var o=n(433),s=i(n(315));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var u=n(7),c=window.rb,d=c.$;function f(e,t){var n=d(e).find(".js-track-click:not(.js-cteaser-open):not(.js-cteaser-close)"),i=c.jsonParse(n.attr("data-track"));if(i){i.element=i.element.replace("ClusterTeaser","RecoClusterTeaser"),i.element=i.element.replace("StageTeaser","RecoStageTeaser");var r=t.recoId,a=t.trackingContext,o=t.engine,s=t.configuration,l=t.position;if(a&&(i.actionDetail=i.actionDetail.replace("Clustermodul",a)),i.recoEngine=o,i.recoId=r,i.configuration=s,l){var u=(parseInt(l)+1).toString();i.clickedTeaserPosition=u;var f=new RegExp(/HPos:(\w+)/);i.actionDetail=i.actionDetail.replace(f,"HPos:"+u)}n.attr("data-track",JSON.stringify(i))}else console.warn("No 'data-track' defined.")}var p=c.rAF((function(e,t,n,i){var r=document.createElement("div");r.innerHTML=e.trim();var a=r.firstElementChild;if(a){a.setAttribute("data-teaser-id",n);var s=t.getAttribute("data-lazyload-method");if(t.classList.contains("m-showmore-item")&&a.classList.add("m-showmore-item"),"merge"===s){a.getAttribute("id")&&t.setAttribute("id",a.getAttribute("id"));var l=t.className;for(var p in t.className=a.className,l.includes("selected")&&t.classList.add("selected"),a.dataset)t.dataset[p]=a.dataset[p];a.classList.remove("m-placeholder"),t.innerHTML=a.innerHTML,c.events.dispatch(t,"_lazyloaded",{bubbles:!1,cancelable:!1})}else c.$(t).before(a),c.events.dispatch(t,"_lazyloaded",{bubbles:!1,cancelable:!1}),t.remove();!function(e){try{var t=e.getElementsByClassName("lazyload");t.length&&c.rIC((function(){var e=t[0];e&&e.offsetWidth&&lazySizes.loader.unveil(e)}))}catch(e){c.logWarn(e)}}(a);var m=d(a).get(0).closest(".b-cluster");m&&m.classList.contains("is-tivi-context")&&(d(a).get(0).classList.contains("has-tivi-context")?m.classList.remove("hide"):m.classList.add("hide")),u.ready.then((function(){u.getPlaybackHistory().getItemHistory(n).then((function(e){var n=e.duration,i=e.currentPosition,r=Math.round(100/n*i),o=c.$("merge"===s?t:a);o.addClass("m-seamless"),o.find(".seamless-percent")ass("m-active"),o.find(".percent-progress").first().css({width:"".concat(r,"%")})})).catch((function(e){}))})),f(a,i),i.stageSize&&(0,o.updateItemScroller)(a,!0,!1)}else h(t)})),h=c.rAF((function(e){c.events.dispatch(e,"_lazyloaded",{bubbles:!1,cancelable:!1}),c.events.dispatch(e,"teaserloaderror",{cancelable:!1});var t=e.closest('[data-module="js-stageitemscroller"]');if(e.remove(),t){var n=c.getComponent(t);n&&(n.updateCells(),n.createPagination())}}));document.addEventListener("lazyunveilread",(function(e){var t=e.target,n=t.getAttribute("data-teaser-attributes"),i=t.getAttribute("data-teaser-xhr-url")||t.getAttribute("data-teaser-template");i&&(i=i.replace("sophoraId=","assetId="));var o={};try{o=JSON.parse(n)||{}}catch(e){c.logError("fetch-teaser: failed to parse data-teaser-attributes to JSON",e,t)}o.recoId=t.getAttribute("data-teaser-reco-id")||o.recoId||"",o.engine=t.getAttribute("data-teaser-engine")||o.engine||"";var u=o.sophoraId;if(u){var d=o,f=(d.engine,d.score,d.recoId,(0,a.default)(d,["engine","score","recoId"]));if(!i.includes("contextStructureNodePath=")&&location.pathname)i+="&contextStructureNodePath="+location.pathname;var m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f,{dataXhrUrl:i});e.detail.firesLoad=!0,s.default.getData(m).then((function(e){e?p(e,t,u,o):h(t)}),(function(){h(t)}))}}))},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(4),o=n(11);t=function(){window.rb;var e=n(314),t=n(741);return function(e){function n(e,a,o){var s;i(this,n);var l=document.createElement("div");l.innerHTML=t({title:"Neue Videos von ".concat(a.title),buttonText:o});var u=l.firstChild;return e.appendChild(u),(s=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,u,{}))).writeTeasers(a["http://zdf.de/rels/search/results"]),s}return a(n,e),n}(e)},"object"===o(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";n(10),n(17);var i,r=n(0),a=n(1),o=n(3),s=n(4),l=n(23),u=window.rb,c=n(24).autobind,d=n(7),f=n(420),p=(l((i=function(e){function t(e,n){var i;return r(this,t),(i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).list=i.query(".profile-wrap"),i.createTemplate(),d.ready.then(i.createProfileList),i}return s(t,e),a(t,[{key:"attached",value:function(){var e=this;d.ready.then((function(){d.sud",value:function(){var e=this;d,{key:"createTemplate",value:function(){this.itemTemplate=document.getElementById("subprofile-template")}},{key:"applyTemplate",value:function(e){var t=document.createElement("div"),n=this.itemTemplate.innerHTML;return n=(n=(n=n.replace(/%NAME%/g,f(e.name||""))).replace(/%AVATAR-ID%/g,e.avatar)).replace(/%PROFILE-ID%/g,e.id),t.innerHTML=n,t.children[0]}},{key:"createProfilML="",(d.getState().profile.subProfiles||[]).forEach((function(t){e.list.appendChild(e.applyTemplate(t))}))}}]),t}(u.Component)).prototype,"createProfileList",[c],Object.getOwnPropertyDescriptor(i.prototype,"createProfileList"),i.prototype),i);u.live.register("subprofile-list",p),e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addElementToQueue=function(e){var t=argumens[1]?arguments[1]:void 0;i.push({value:e,isNextCB:t})},t.getNextItemInQueue=function(){return i[0].value},t.isNextInQueue=function(e){return i[0].value===e},t.sh&i[0].isNextCB&&i[0].isNextCB()},t.sortQueue=function(e){i.sort((function(t,n){return e(t.value,n.value)}))},n(85);var i=[]},function(e,t,n){"use strict";(function(e){var t=n(2);n(14),n(57),n(49),n(34),n(5);var i,r=t(n(0)),a=t(n(1)),o=t(n(3)),s=t(n(4)),l=t(n(11)),u=t(n(75)),c=n(248);t(n(156));i=function(){var e=n(115),t=n(7),i=n(121),l=JSON.parse(window.zdfsite.tiviPaths),d=window.zdfsite.enabledAdditionalRecommendation,f=n(157);return new(function(e){function n(){return(0,r.default)(this,n),(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return(0,s.default)(n,e),(0,a.default)(n,[{key:"generateUrl",value:function(e){var t=e.toString(),n=new Date,r=new Date;r.setTime(n.getTime()+24*zdfsite.myZdfDaysInFuture*60*60*1e3),r.setHours(23),r.setMinutes(59),r.setSeconds(59);var a=new Date;a.setTime(n.getTime()-24*zdfsite.myZdfDaysInPast*60*60*1e3),a.setHours(0),a.setMinutes(0),a.setSeconds(0);var o={types:"page-video,page-picture-gallery",from:i(a),to:i(r)},s=zdfsite.contentType;s&&(o.pageContentType=s);var l=window.location.search.toString().match(/(\?|&)previewDate=(\d+)/);l&&(o.previewDate=parseInt(l[2],10));var c=window.location.search.toString().match(/(\?|&)tuning=([^&]+)/);if(c&&(o.tuning=decodeURIComponent(c[2])),d){var f=this.getBasePath(location.pathname),p=this.getParamPath(f);p&&(o.paths="/zdf"+p)}var h=window.location.search.toString().match(/(\?|&)recommendationUrl=([^&]+)/);h&&(t=h[2]);var m=(0,u.default)(o),v=t.indexOf("?")>-1?"&":"?";return"".concat(zdfsite.apiService).concat(t).concat(v).concat(m)}},{key:"generateRequestHeaders",value:function(e){var n=f(e),i=t.getState().token;return i&&(n.Authorization="Bearer "+i),n}},{key:"getBasePath",value:function(e){return e.split("/").length>1?e.split("/")[1]:null}},{key:"getParamPath",value:function(e){ifeturn l[t];return null}},{key:"isItemViewed",value:function(e){return!!t.getPlaybackHistory().getItem(e)}},{key:"isItemAvailable",value:function(e){return!e["http://zdf.de/rels/target"]||"http://zdf.de/rels/not-found"!==e["http://zdf.de/rels/target"].profile}},{key:"processData",value:function(e){var t=this,n=[],i=e||{},r=i.title,a=void 0===r?"":r,o=i.configuration,s=void 0===o?"":o;if(e&&e["http://zdf.de/rels/recommendation/results"]){var l=e.profile,u=e.abTestName,c=e.recoId;e["http://zdf.de/rels/recommendation/results"].forEach((function(e){try{var i=e.id,r=e.score,a=e.configuration,o=e.engine,s=e.enginePosition;if(i&&!1===t.isItemViewed(i)&&!0===t.isItemAvailable(e)){var d=null;"http://zdf.de/rels/broker/recommendation/result"===l&&(d={campaignId:u,creation:a,variant:o,position:s}),n.push({id:i,score:r,configuration:a,engine:o,publishData:d,recoId:c})}}catch(e){}}))}return{title:a,items:n,configuration:s}}}]),n}(e))("recommendation",{},(0,c.getLoadTypeForConsumerID)(c.LOAD_TYPE_CONSUMER_ID.FETCH_RECOMMENDATION_SERVICE))},"object"===(0,l.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasValidViewingProgress=function(e){var t=e.currentPosition,n=e.duration,i=t<30;return!(t/n>.98||i)}},function(e,t,n){"use strict";var i,r,a;n(13),n(319),r=[t,n(66),n(70),n(78),n(71),n(77),n(160),n(161),n(770)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o){Object.defineProperty(e,"__esModule",{value:!0});var s=p(t),l=p(n),u=p(i),c=p(r),d=p(a),f=p(o);function p(e){return e&&e.__esModule?e:{default:e}}var h=d.default.Position,m=function(e){function t(n,i){(0,s.default)(this,t);var r=(0,l.default)(this,e.call(this,n,i));return r.reflow=d.default.throttle(r._reflow,{that:r}),r.scrollRepostion=r.scrollRepostion.bind(r),r.options.positioned&&r.setOption("positioned",!0),r}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"defaults",get:function(){return{positioned:!0,my:"center bottom",at:"center top",collision:"flip",anchor:"button",updateOnResize:!0,closeOnOutsideClick:!0,closeOnEsc:!0,setDisplay:!0}}}]),t.prototype.setOption=function(t,n,i){var r=this.options;e.prototype.setOption.call(this,t,n,i),"positioned"==t?n?this.position?this.$element.css({position:"absolute"}):this.initPositionedElement():this.$element.css({position:"",left:"",top:""}):(this.position&&"my"==t||"at"==t||"collision"==t)&&this.position.setOptions({my:r.my,at:r.at,collision:r.collision})},t.prototype.initPositionedElement=function(){this.position=new h(this.element),this.$element.cssRaf({display:"block"}),this.setOption("my",this.options.my)},t.prototype._reflow=function(e){d.default.root.contains(this.element)?e&&!this.options.updateOnResize||this.connect(!1,this.lastOpeningOptions):this.teardownPopoverResize()},t.prototype.scrollRepostion=function(e){d.default.root.contains(this.element)?(!e||this.options.updateOnResize&&e.target.contains&&this.getAnchor(this.lastOpeningOptions))&&this._reflow():this.teardownPopoverResize()},t.prototype.setupPopoverResize=function(){this.teardownPopoverResize(),window.addEventListener("resize",thremoveEventListener("resize",this.reflow),document.removeEventListener("scroll",this.scrollRepostion,!0)},t.prototype.getAnchor=function(e){var n=e&&e.anchor||this.options.anchor||"";return 1!=n.nodeType&&("activeButton"==n?n=this.activeButtonComponent&&this.activeButtonComponent.element||this.buttonComponent&&this.buttonComponent.element:t.mainbutton[n]?n=this.buttonComponent&&this.buttonComponent.element||this.activeButtonComponent&&this.activeButtonComponent.element:"string"==typeof n&&(n=d.default.elementFromStr(n,this.element)[0])),n},t.prototype.connect=function(e,t){var n=(e||this.isOpen)&&this.getAnchor(t);n&&this.position&&this.position.connect(n)},t.prototype.open=function(t){var n=e.prototype.open.call(this,t);return this.lastOpeningOptions=t,this.options.positioned&&("none"==(0,f.default)(this.element,"display")&&(this.element.style.display="string"==typeof this.options.setDisplay?this.options.setDisplay:"block"),this.connect(n,t),n&&this.options.updateOnResize&&this.setupPopoverResize()),n},t.prototype.close=function(t){var n=e.prototype.close.call(this,t);return this.options.positioned&&n&&(this.lastOpeningOptions=null,this.teardownPopoverResize()),n},t}(d.default.components.panel);Object.assign(m,{mainbutton:{button:1,mainrts=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";(function(e){n(15);var t=n(0),i=n(1),r=n(3),a=n(4),o=n(100);n(84);var s=n(101);n(9),n(8),n(5),n(170),n(85);var l,u=n(11);l=function(){var e,l=(e=s(o.mark((function e(t,n){var i,r,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".documenters:h(i),(function(e){return e.json()})).then((function(e){return e})).catch((function(e){return"nicht verfügbar"}));case 4:if(a=e.sent,n&&(m=!1),!a._source){e.next=10;break}return e.abrupt("ret"return",a);case 11:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)}),c=window.rb,d=n(443),f=n(7),p=window.zdfsite,h=n(157),m=!0,v=function(e){rn(e){return!!e[1]&&"object"!==u(e[1])&&"externalId"!==e[0]})).sort((function(e){return"title"===e[0]?-1:1})).map((function(e){return"".concat(e[0],": ").concat(c.escape(e[1]))})).join("<br>")},g=function(e){function n(){return t(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,e),i(n,[{key:"render",value:function(e){var t=this,n=this.options.locales;e.forEach((function(e){var i=e.username,r=e.gender,a=e.yearOfBirth,o=e.data,s=document.createElement("h2");if(s.className="big-headline",s.textContent=i,t.$element.append(s),r||a){var l=document.createElement("h3");l.className="cell small-12 small-headline",l.textContent=n.optionalData,t.$element.append(l);var u=function(e){var n=document.createElement("div");n.className="cell small-12",n.textContent=e,n.style.marginBottom="12px",t.$element.append(n)};r&&u("".concat(n.gender,": ").concat(r)),a&&u("".concat(n.yearOfBirth,": ").concat(a));var c=document.createElement("button");c.className="reset-optionaldata-btn button primary medium round js-rb-click js-track-click",c.type="button",c.dataset.dialog='{"id": "aria-reset-optionaldata-dialog"}',c.title=n.resetOptionalData,c.textContent=n.resetOptionalData,c.style.marginBottom="24px",t.$element.append(c)}var d=!0;if(o.forEach((function(e){var n=e.title,i=e.items;if(i.length>0){var r=document.createElement("h3");r.className="cell small-12 small-headline",r.textContent=n,t.$element.append(r);var a=document.createElement("ul");a.className="cell small-12",t.$element.append(a),i.forEach((function(e){t.renderItems(e,a)})),d=!1}})),d){var f=document.createElement("h3");f.className="cell small-12 small-headline",f.textContent=n.noData,t.$element.append(f)}})),this.query(".js-download").setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)))}},{key:"renderItems",value:function(e,t,n){if(e.externalId)l(e.externalId,n).then((function(n){e.title=n;var i=document.createElement("li");i.className="showmore-item",i.style.marginBottom="20px",i.innerHTML=v(e),t.appendChild(i)}));else{var i=document.createElement("li");i.className="showmore-item",i.style.marginBottom="20px",i.innerHTML=v(e),t.appendChild(i)}}},{key:"renderError",value:function(){var e=document.createElement("h3");e.className="small-headline",e.textContent="Es ist ein Fehler aufgetreten",this.$element.append(e),this.query(".js-download").classList.add("hide")}},{key:"attached",va;f.ready.ndow.scrollTo(0,0),d(t).then((function(t){e.render(t)})).catch((function(t){c.logError(t),e.renderError()}))}));var t=setInterval((function(){var n=e.$element.find('[data-module="showmore"]').rbComponent();n&&!m&&(n.initializeVisibleItems(),eturn{show:"",locales:""}}},{key:"events",get:function(){return{"click:.download-btn":"downloadUserData"}}}]),n}(c.Component);return c.live.register("user-data-summary",g),g},"object"===u(e)&&e.exports?e.exports=l():l()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){n(22),n(19),n(18),n(36),n(9),n(8),n(5),n(33),n(10);var t=n(100),i=n(53),r=n(98);n(84);var a,o=n(101),s=n(21),l=n(11);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=in)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a=function(){var e,a,l=(e=o(t.mark((function e(n,a,o){var s,l,u,d,h;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],!o){e.next=11;break}return l=f.getViewHistory(),u=f.getPlaybackHistory(),e.next=6,l.getAllItemsForSubprofile(n.id);case 6:return d=e.sent,e.next=9,u.getAllItemsForSubprofile(n.id);case 9:h=e.sent,s.push({title:a.viewHistory,items:d.map((function(e){return e.duration,e.eventType,c({},r(e,["duration","eventType"]))}))},{title:a.playbackHistory,items:h.map((function(e){return e.duration,e.eventType,c({},r(e,["duration","eventType"]))}))});case 11:return p.forEach((function(e){var t=e.key;n[t]&&n[t].length&&s.push({title:a[t],items:[].concat(i(n[t].map((function(e){return e.twitterTitle,e.path,e.endDate,e.eventType,e.errors,c({},r(e,["twitterTitle","path","endDateturn",s);case 13:case"end":return e.stop()}}),e,this)}))),function(t,n,i){return e.apply(this,arguments)}),u=(a=o(t.mark((function e(n){var a,s,u,d,p,v,g,y,b,_,w,k=arguments;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k.length>1&&void 0!==k[1]?k[1]:[],s=f.getViewHistory(),u=f.getPlaybackHistory(),d=f.getState().profile,p=f.isLoggedIn()?f.getState().getUserInfo().name:"Anonymer Nutzer",v=f.isLoggedIn()?f.getState().getUserInfo().yearOfBirth:null,g=f.isLoggedIn()?f.getState().getUserInfo().gender:null,e.next=9,s.getAllItems();case 9:return y=e.sent,e.next=12,u.getAllItems();case 12:return b=e.sent,e.next=15,l(d,n,!1);case 15:return _=e.sent,w=[{username:"".concat(p," (").concat(n.mainAccountHint,")"),yearOfBirth:v,gender:g,data:[{title:n.viewHistory,items:y.map((function(e){return e.duration,e.eventType,c({},r(e,["duration","eventType"]))}))},{title:n.playbackHistory,items:b.map((function(pe"]))}))},{title:n.comments,items:a.filter((function(e){return e["http://zdf.de/rels/identity"].name===p})).map((function(e){return m(e)}))}].concat(i(_),[{title:n.settings,items:h(d)}])}],e.next=19,Promise.all(d.subProfiles.map(function(){var e=o(t.mark((function e(r){var o;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=i(o),[{filter((function(e){return e["http://zdf.de/rels/identity"].na))}])});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()));case 19:return e.abrupt("return",w);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)}),d=window.zdfsite,f=n(7),p=[{key:"likes",title:"Likes"},{key:"subscriptions",title:"Abos"},{key:"bookmarks",title:"Bookmarks"}];function h(e){return[[{key:"deactivateParentChildSwitchAlert",title:"Hinweis auf Wechsel zum Kinderprofil unterdrücken"},{key:"lastActiveSubProfileId",title:"Zuletzt aktiviertes Kinderprofil"},{key:"lastNotificationsDelete",title:"Benachrichtigungen zuletzt gelöscht"},{key:"lastNotificationsHintDelete",title:"Benachrichtigungen zuletzt gesehen"},{key:"lastSync",title:"Profildaten zuletzt mit dem Server synchronisiert"},{key:"preferredWeatherStation",title:"Bevorzugter Ort für Wetterdaten"ey]?"Ja":e[n.key]))}),{})]}function m(e){return{createdDate:e.createdDate,text:e.text,commentId:e.commentId}}return function(e){var t=f.getState(),n=t.mainUserId,i=t.token,r=t.isLoggedIn,a={Accept:"application/vnd.de.zdf.v1.0+json;charset=utf-8","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(i),"Api-Auth":"Bearer ".concat(d.apiToken)},o="".concat(d.apiService,"/user-feedback/").concat(n,"/comments");return new Promise((function(t){r?fetch(o,{headers:a}).then((function(e){return e.json()}i).then((function(e){return t(e)}))})).catch((function(e){rb.logWarn("Error aggregating user data:",e),t({})})):u(e).then((function(e){return t(e)}))}))}},"object"===l(e)&&e.exports?e.exports=a():a()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t=n(53);n(15);var i,r=n(0),a=n(3),o=n(35),s=n(1),l=n(4),u=n(11);i=function(){var e=window.rb,n=e.$,i=window.zdfsite,u=function(u){function c(t,i){var o;return r(this,c),(o=a(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t,i))).$wrapper=n(o.query(o.options.itemsWrapper)),o.active=!0,o.hasVisibleBtn=!0,o.fallbackTeaser=o.query(".b-content-teaser-item.x-fallback"),o.$teaserLarge=o.$element.find(".b-news-teaser-large"),o.$teaserBriefing=o.$element.find(".b-news-teaser-briefing"),o.separator=o.query(".b-news-ticker-sFs(o,"hideShowButton","hideShowFallback"),e.rAFQueue((function(){o.fallbackTeaser&&o.fallbackTeaser.remove()})),o.initialize(),o.animateOpts={duration:o.options.duration,easing:o.options.easing,always:function(){o.$wrapper.css({height:"",overflow:""})}},o}return l(c,u),s(c,null,[{key:"defaults",get:function(){return{items:".{name}-item",itemsWrapper:".{name}ButtonClicked",elementsfiltered:"elementsFiltered",domchanged:"onDomChanged",teaserloaderror:"onDomChanged"}}}]),s(c,[{key:"attached",value:function(){(this.$teaserLarge.length||this.$teaserBriefing.length)&&e.resize.on(this.resize)}},{key:"detached",value:function(){e.resize.off(this.resize)}},{key:"initialize",value:function(){this.initializeVisibleItems()}},{key:"setOption",value:function(e,t){o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"setOption",this).call(this,e,t),"count"==e&&this.initializeVisibleItems()}},{key:"initializeVisibleItems",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this.queryAll(this.options.items+":not(.m-showmore-item)"),o=void 0;if(!0===i){var s=Math.min(a.length,r*this.options.count);o=this.getItemsToShow({showLength:s})}else o=this.options.countItems?this.getItemsToShow({showLength:this.options.count}):a.filter((function(e){return e.offsetWidth||e.offt.hideShowButton(!0),a.forEach((function(e){e.classList.contains("m-showmore-item")||e.classList.add("hide")})),t.options.separator&&t.separator.nextElementSibling.firstElementChild.classList.contains("hide")&&t.separator.classList.add("hide")})):this.hideShowButton(!0)}},{key:"hideShowFallback",value:function(){this.fallbackTeaser&&(this.fallbackTeaser.classList.add("m-hide-teaser"),this.query(this.options.items+".m-showmore-item:not(.m-hidden):not(.m-hide-teaser)")?this.fallbackTeaser.remove():(this.$wrapper.append(this.fallbackTeaser),this.fallbackTeaser.classList.remove("m-hide-teaser")))}},{key:"hideShowButton",value:function(e){var t=n(this.queryAll(".{name}-btn")).closest(".load-more-container"),i=!!this.query(this.options.items+":not(.m-showmore-item):not(.m-hidden):not(.m-hide-teaser):not(.x-last)");i||this.query(this.options.items+":not(.m-showmore-item)")?this.hasVisibleBtn!=i&&(this.hasVisibleBtn=i,this.active=!0,e&&!i?t.css({display:"none"}):t[i?"rbSlideDown":"rbSlideUp"]()):(this.active=!1,this.hasVisibleBtn=!1,e?t.css({display:"none"}):t.rbSlideUp()),this.hideShowFallback()}},{key:"onDomChanged",value:function(){this.initializeVisibleItems()}},n(){this.showNext({setFocus:!i.isTiviApp})}},{key:"showAll",value:function(){this.showNext({showLength:1e3})}},{key:"getItemsToShow",value:function(e){var t=0,i=0,r=0,a=e&&e.showLength||this.options.count,o=this.queryAll(this.options.items+":not(.m-showmore-item)");return o.forEach((function(e,n){t||(e.matches(".m-hidden")||(r++,i=n+1),r>=a&&(t=i))})),n(o.slice(0,t||i))}},{key:"elementsFiltered",value:function(){if(this.active){var e=this.queryAll(this.options.items+".m-showmore-item:not(.m-hidden)").length;e<this.options.count?this.showNext({showLength:this.options.count-e}):this.hideShowButton()}else this.hideShowFallback()}},{key:"showNext",value:function(t){var n=this;if(this.active){var i=parseFloat(this.$wrapper.css("height"));this.$wrapper.stop(!0,!0),e.rAFQueue((function(){var r=void 0,a=n.getItemsToShow(t);n.options.custom&&n.showNextCustom(),a.addClass("m-showmore-item"),a.removeClass("hide"),n.options.separator&&(n.separator.nextElementSibling.firstElementChild.classList.contains("hide")||n.separator.classList.remove("hide"));var o=n.$wrapper.css("height");n.$wrapper.css({height:i+"px",overflow:"hidden"}).animate({height:parseFloat(o)},n.animateOpts),t&&t.setFocus&&(r=a.filter(":not(.m-hidden)").get(0))&&(n.setFocus(r),e.events.dispatch(r,"rbflowchild")),n.hideShowButton()}))}}},{key:"showNextCustom",value:function(){var n=this,i=[].concat(t(this.options.nextitems),t(this.options.removeditems)),r=this.$element.find("ul").get(0),a=this.element.closest('[data-module="user-data-summary"]'),o=e.getComponent(a);this.options.nextitems.forEach((function(e,t){if(n.options.show>t){var i=t+1;o.renderItems(e,r,n.options.show===i),n.options.removeditems.push(e)}else{var a=document.createElement("li");a.clams=i.filter((function(e){return!n.options.removeditems.some((function(t){return t.eventDate===e.eventDate}))}))}},{key:"onResize",value:function(){var e=this.$element.find(this.options.items+".m-showmore-item").length,t=this.$element.find(this.options.items+".m-showmore-item").last(),n=t.next();if(this.isTabletView(window.innerWidth))e%2==0&&n.addClass("m-showmore-item");else if(window.innerWidth>=1024)switch((e-2)%4){cam");break;case 3:n.addClass("m-showmore-item")}}},{key:"isTabletView",value:function(e){return e>640&&e<1024}}]),c}(e.Component);return e.live.register("showmore",u),u},"object"===u(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";!function(){var t=window.rb,n=void 0,i=void 0,r=void 0,a=void 0,o=void 0;function s(){r.removeEventListener("loadedmetadata",u)aying",l),r.removeEventListener("error",d),clearTimeout(i)}function l(){a=!0,o&&c()}function u(){o=!0,a&&c()}function c(){s(),r.pause(),r.currentTime=0,n.resolve(!0)}function d(){s(),n.reject(!1)}e.exports=function(e){return n||(n=t.deferred(),r=e,i=setTimeout(d,1e3),r.addEventListener("loadedmetadata",u),r.addEventListener("playing",l),r.addEventListener("error",d),r.readyState?c():r.play()),n}}()},function(e,t,n){"use strict";(function(e){n(22),n(19),n(9),n(8),n(5),n(18);var t,i=n(21),r=n(0),a=n(1),o=n(23),s=n(11);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t=function(){var e,t=n(320),s=n(318),l=n(828).isSafari,c=n(24).autobind;function d(e){if(e){var t=e.classList.contains("miniplayer-disabled"),n=function(e){if(e)try{var t=JSON.parse(e.dataset.jsb);if(t.aspectRatio)return"16:9"!==t.aspectRatio}catch(e){console.warn("could not read player options to get display format")}return!1}(e);return t||n}return!1}function f(e){var t=e.enabled,n=e.player;return t&&!d(n)}function p(e){var t=e.id,n=e.player,i=e.playerBox,r=e.closed,a=e.playing;document.getElementById("mini-player-container").classList.remove("m-active"),i.appendChild(n),window.dispatchEvent(new Event("resize")),!0===a&&!1===r&&zdfplayer.fireEvent("Player::PLAY",{id:t})}function h(e){var t=e.playerBox,n=e.fullscreen,i=t.getBoundingClientRect().top+t.offsetHeight/2;return n||i>0&&i<window.innerHeight}var m={player:null,playerBox:null,id:null,sticky:!1,enabled:!0,playing:!1,closed:!1,fullscreen:!1};return new(e=function(){function e(){var t=this;r(this,e),this.state={},this.state=u({},m),!0!==s()&&(this.initFullscreenButton(),zdfsite.playerReady.then((function(){t.addEvents()})))}return a(e,[{key:"initFullscreenButton",value:function(){if(l()){var e=document.querySelector(".b-miniplayer");e&&e.classList.add("no-fullscreen-btn")}}},{key:"addEvents",value:function(){var e=this;this.closeButton=document.getElementById("mini-player-close-button"),this.closeButton&&(this.closeButton.addEventListener("click",(function(){e.closeMiniPlayer()})),t.getDevice()===t.IPHONE&&zdfplayer.on("Player::DISPLAY_INITIALIZED",(function(t){var n="#"+t.id+" video";document.querySelector(n).addEventListener("webkitendfullscreen",(function(){var t=document.querySelector(n);e.setState({playing:!t.paused})}),!1)})),zdfplayer.on("Player::PLAYING",(function(t){var n=t.id;e.handlePlayerPlay(n)})),zdfplayer.on("Player::PAUSE",(function(t){var n=t.id;e.handlePlayerStop(n)})),zdfn=t.id;e.handlePlayerStop(n)})),zdfplayer.on("Player::STOPPED",(function(t){var n=t.id;e.handlePlayerStop(n)})),zdfplayer.on("Player::FULLSCREEN",(function(){e.setState({fullscreen:!0})})),zdfplayer.on("Player::NORMALSCREEN",(function(){e.setState({fullscreen:!1})})))}},{key:"handlePlayerPlay",value:function(e){if(e!==this.state.id&&!1===function(e){var t=!1;if(e){var n=e.getElementsByTagName("video")[0],i=!n.getAttribute("controls");t=n.webkitSupportsPresentationMode&&n.webkitSupportsPresentationMode("picture-in-picture")&&!1===i||!1}return t}(document.getElementById(e))){var t=document.getElementById(e),n=t.parentElement,i=!h({id:e,player:t,playerBox:n});this.setState({playing:!1}),zdfplayer.fireEvent("Player::PAUSE",{id:this.state.id}),this.setState({id:e,player:t,playerBoxd:!1,playing:!0})}},{key:"handlePlayerStop",value:function(e){e===this.state.id&&this.setState({playing:!1})}},{key:"closeMiniPlayer",value:function(){zdfplayer.fireEvent("Player::PAUSE",{id:this.state.id}),this.setState({closed:!0})}},{key:"stateChanged",value:function(e,t){e.playerBox&&t.playerBox!==e.playerBox&&this.startScrollTracker(),e.playerBox||this.stopScrollTracker(),!1===e.enabled&&e.enabled!==t.enabled&&e.playerBox&&(t.sticky&&p(e),this.stopScrollTracker()),!e.sticky||e.sticky===t.sticky&&e.playerBox===t.playerBox||function(e){if(f(e)){var t=e.id,n=e.player,i=e.playing,r=document.getElementById("mini-player-container");r.classList.add("m-active"),r.appendChild(n),window.dispatchEvent(new Event("resize")),!0===i&&zdfplayer.fireEvent("Player::PLAY",{id:t})}}(e),e.enabled&&e.enabled!==t.enabled&&!0===e.playing&&(this.startScrollTracker(),this.checkPlayerPosition()),t.playerBox&&t.playerBox!==e.playerBox&&p(t),!e.sticky&&e.playerBox&&e.sticky!==t.sticky&&p(e),!0===e.closed&&e.closed!==t.closed&&p(e)}},{key:"startScrollTracker",value:function(){f(this.state)&&!this.isTracking&&(thllTracker",value:function(){this.isTracking=!1,window.removeEventListener("scroll",this.checkPlayerPosition)}},{key:"checkPlayerPosition",value:function(){var e=this.state,t=e.sticky,n=e.closed,i=e.playing;if(!e.fullscreen){var r=!0===t&&!1===i;this.setState({sticky:!h(this.state)&&(!1===n&&!0===i||!0===r)})}}},{key:"setState",value:function(e){var t=this,n=Object.keys(e).reduce((function(n,r){return t.state[r]===e[r]?n:u({},n,i({},r,e[r]))}),{});if(Object.keys(n).length>0){var r=u({},this.state);this.state=u({},this.state,{},e),this.stateChanged(this.state,r)}}},{key:"enable",value:function(){this.setState({enabled:!0})}},{key:"disable",value:function(){this.setState({enabled:!1})}}]),e}(),o(e.prototype,"stateChanged",[c],Object.getOwnPropertyDescriptor(e.prototype,"stateChanged"),e.prototype),o(e.prototype,"startScrollTracker",[c],Object.getOwnPropertyDescriptor(e.prototype,"startScrollTracker"),e.prototype),o(e.prototype,"stopScrollTracker",[c],Object.getOwnPropertyDescriptor(e.prototype,"stopScrollTracker"),e.prototype),o(e.prototype,"checkPlayerPosition",[c],Object.getOwnPropertyDescriptor(e.prototype,"checkPlayerPosition"),e.prototype),o(e.prototype,"setState",[c],Object.getOwnPropertyDescriptor(e.prototype,"setState"),e.prototype),e)},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decorate=function(e){window.zdfsite.isTiviLocation&&function(e){var t=e.querySelector("#".concat("onetrust-policy-text"));t&&(t.innerHTML="".concat("Wenn du noch nicht 18 Jahre alt bist, zeige diesen Text bitte deinen Eltern und lasse sie rvable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=nr=i(n(500)),a=i(n(564)),o=n(110),s=n(840);(0,r.default)().then((function(){(0,a.default)(),(0,s.startOTSDK)()}),(function(){(0,a.default)(),zdfsite.consentManagementSettings.enableConsentManagement&&rb.ready.then((function(){(0,o.getOTAppInstance)().initMissingOTSDK()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,i.getOTAppInstance)();zdfsite.consentManagementSettings.enableConsentManagement?zdfsite.consentManagementSettings.isWhitelistedPage?(console.log("................... WHITELISTED CMP PAGE ......................"),e.initWithoutSdk(),a()):((0,r.setPageScrollingEnabled)(!1),e.init().then((function(){a()})).catch((function(){o()})))oupexports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeDataForConsentGroup=function(e){(0,r.getAllKeysForGroup)(e).forEach((function(e){e.isDynamicKey()?(u(e,window.localStorage),u(e,window.sessionStorage)):(window.localStorage.removeItem(e.name),window.sessionStorage.removeItem(e.name))}))},n(9),n(8),n(5),n(18),n(10),n(28),n(26);var i=n(110),r=n(48),a=Storage.prototype.setItem;Object.defineProperty(Storage.prototype,"setItem",{value:function(e,t){try{if(l(e))return a.apply(this,arguments)}catch(t){console.warn("Cannot write key '".concat(e,"'"),t)}return!1}});var o=Storage.prototype.removeItem;Object.defineProperty(Storage.prototype,"removeItem",{value:function(e){return o.apply(this,arguments)}});var s=window.zdfsite;function l(e){if(!s.consentManagementSettings.enableConsentManagement)return!0;var t=(0,r.findKey)(e),n=(null==t?void 0:t.consentGroup)||"unknownGroup"entG,a=n(31),o=n(27).Reflect;e.exports=o&&o.ownKeys||function(e){var t=i.f(a(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){var i=n(65),r=n(137),a=n(81);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var o,s=n(e),l=a.f,u=0;s.length>u;)l.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,n){var i=n(55),r=n(83).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(ength!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invae,t,n){e.exports={default:n(515),__esModule:!0}},function(e,t,n){n(516),n(527),e.exports=n(276).f("iterator")},function(e,t,n){"use strict";var i=n(517)(!0);n(354)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(266),r=n(267);e.exports=function(e){return function(t,n){var a,o,s=String(r(t)),l=i(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},fbject.defineProperties:function(e,t){r(e);for(var n,o=a(t),s=o.length,l=0;s>l;)i.f(e,n=o[l++],t[n]);return e}},function(e,t,n){var i=n(360);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(173),r=n(523),a=n(524);e.exports=function(e){return function(t,n,o){var s,l=i(t),u=r(l.length),c=a(o,u);if(e&&n!=n)e&&-1}}},function(e,t,n){var i=n(266),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(266),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):a(e,t)}},function(e,t,n){var i=n(138).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(155),r=n(361),a=n(272)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,a)?e[a]:"fuTouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=i[u],d=c&&c.prototype;d&&!d[o]&&r(d,o,u),a[u]=a.Array}},function(e,t,n){"use strict";var i=n(529),r=n(530),a=n(269),o=n(173);e.exports=n(354)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):n]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,te.exports={default:n(532),__esModule:!0}},function(e,t,n){n(533),n(538),n(539),n(540),e.exports=n(152).Symbol},function(e,t,n){"use strict";var i=n(138),r=n(155),a=n(154),o=n(202),s=n(358),l=n(534).KEY,u=n(228),c=n(273),d=n(275),f=n(230),p=n(174),h=n(276),m=n(277),v=n(535),g=n(536),y=n(203),b=n(172),_=n(361),w=n(173),k=n(268),S=n(229),O=n(270),E=n(537),P=n(364),T=n(362),x=n(153),C=n(271),A=P.f,I=x.f,D=E.f,j=i.Symbol,L=i.JSON,N=L&&L.stringify,M=p("_hidden"),R=p("toPrimitive"),F={}.propertyIsEnumerable,z=c("symbol-registry"),U=c("symbols"),H=c("op-symbols"),B=Object.prototype,V="function"==typeof j&&!!T.f,W=i.QObject,$=!W||!W.prototype||!W.prototype.findChild,q=a&&u((function(){return 7!=O(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=A(B,t);i&&delete B[t],I(e,t,n),i&&e!==B&&I(B,t,i)}:I,G=function(e){var t=U[e]=O(j.prototype);return t._k=e,t},K=V&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},Y=function(e,t,n){return e===B&&Y(H,t,n),y(e),t=k(t,!0),y(n),r(U,t)?(n.enumerable?(r(e,M)&&e[M][t]&&(e[M][t]=!1),n=O(n,{enumerable:S(0,!1)})):(r(e,M)||I(e,M,S(1,{})),e[M][t]=!0),q(e,t,n)):I(e,t,n)},Z=function(e,t){y(e);for(var n,i=v(t=w(t)),r=0,a=i.length;a>r;)Y(e,n=i[r++],t[n]);return e},Q=function(e){var t=F.call(this,e=k(e,!0));return!(this===B&&r(U,e)&&!r(H,e))&&(!(t||!r(this,e)||!r(U,e)||r(this,M)&&this[M][e])||t)},J=function(e,t){if(e=w(e),t=k(t,!0),e!==B||!r(U,t)||r(H,t)){var n=A(e,t);return!n||!r(U,t)||r(e,M)&&e[M][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=D(w(e)),i=[],a=0;n.length>a;)r(U,t=n[a++])||t==M||t==l||i.push(t);return i},ee=function(e){for(var t,n=e===B,i=D(n?H:w(e)),a=[],o=0;i.length>o;)!r(U,t=i[o++])||n&&!r(B,t)||a.push(U[t]);return a};V||(s((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(H,n),r(this,M)&&r(this[M],e)&&(this[M][e]=!1),q(this,e,S(1,n))};return a&&$&&q(B,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),P.f=J,x.f=Y,n(363).f=E.f=X,n(278).f=Q,T.f=ee,a&&!n(227)&&s(B,"propertyIsEnumerable",Q,!0),h.f=function(e){return G(p(e))}),o(o.G+o.W+o.F*!V,{Symbol:j});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var ie=C(p.store),re=0;ie.length>re;)m(ie[re++]);o(o.S+o.F*!V,"Symbol",{for:function(e){return r(z,e+="")?z[e]:z[e]=j(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),o(o.S+o.F*!V,"Object",{create:function(e,t){return void 0===t?O(e):Z(O(e),t)},defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:ee});var ae=u((function(){T.f(1)}));o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function(e){return T.f(_(e))}}),L&&o(o.S+o.F*(!V||u((function(){var e=j();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),i[1]=t,N.apply(L,i)}}),j.prototype[R]||n(171)(j.prototype,R,j.prototype.valueOf),d(j,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(230)("meta"),r=n(172),a=n(155),o=n(153).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(228)((function(){return l(Object.preventExtensions({}))})),c=function(e){o(e,i,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},getWeak:function(e,t){if(!a(e,i)){if(!l(ction(e){var t=i(e),n=r.f;if(n)for(var o,s=n(e),l=a.f,u=0;s.length>u;)l.call(e,o=s[u++])bject Window]"==a.call(e)?function(e){try{return r(e)}catch(e){return o.slice()var i=n(32);e.exports=function(e,t){return!!e&&i((function(){t?e:n(546)})},function(e,t,n){var i=n(38),r=Math.floor;e.exn(e,t,n){(function(){v]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};f=n(548),d=d=function(){function e(e){var t,n=this;this.expressions=[],this.prefix="string"==typeof e[0]?e.shift():"",t=0,e.forEach((function(e){switch(typeof e){case"object":return n.expressions[t++]=e;case"string":return n.expressions[t-1].suffix=e}}))}return e.prototype.expand=functio{return t.expand(e)})).join("")},e.prototype.toString=function(){return tdeArray,this),this.stringifySingle=p(this.stringifySingle,this),t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.stringifySingle=function(e,n){return n=(n=t.__super__.stringifySingle.apply(+n},t.prototype.explodeArray=function(e,t){var n=this;return t.map((function(t){return e.name+"="+n.encode(t)})).join(this.sep)},t}(c=function(){var e;function t(e){this.params=e,this.explodeObject=p(this.explodeObject,this),this.explodeArray=p(this.explodeArray,this),this._expandPair=p(this._expandPair,this),this.stringifySingle=p(this.stringifySingle,this),this.encode=p(this.encode,this),null==this.params&&(this.params=[]),this.suffix=""}return t.prototype.first="",t.prototype.sep=",",t.prototype.named=!1,t.prototype.empty="",t.prototype.allow="U",t.prototype.encode=function(e){return f[this.allow](e)},t.prototype.stringifySingle=function(e,t){var n,i,r;if("string"===(i=typeof t)||"boolean"===i||"number"===i)return t=t.toString(),this.encode(t.substring(0,e.cut||t.length));if(Array.isArray(t)){if(e.cut)throw new Error("Prefixed Values do not support lists. Check "+e.name);return t.map(this.encode).join(",")}if(e.cut)throw new Error("Prefixed Values do not support maps. Check "+e.name);return function(){var e;for(n in e=[],t)r=t[n],e.push([n,r].map(this.encode).join(","));reand=function(t){var n,i,r=this;return(i=(n=e(this.params,t)).map((function(e){return r._expandPair.apply(r,e)})).join(this.sep))?ty&&n.length?this.empty+this.suffix:this.suffix},e=function(e,t){return e.map((function(e){return[e,t[e.name]]})).filter((function(e){var t,n;switch(typeof(n=e[1])){case"undefined":return!1;case"object":for(t in Array.isArray(n)&&n.length,n)if(n[t])return!0;return!1;default:return!0}}))},t.prototype._expandPair=function(e,t){return e.name,e.explode?Array.isArray(t)?this.explodeArray(e,t):"string"==typeof t?this.stringifySingle(e,t):this.explodeObject(t):this.stringifySingle(e,t)},t.prototype.explodeArray=function(e,t){return t.map(this.encode).join(this.sep)},t.prototype.explodeObject=function(e){var t,n,i,r,a,o;for(t in n=[],e)if(i=e[t],t=this.encode(t),Array.isArray(i))for(a=0,o=i.length;a<o;a++)r=i[a],n.push([t,this.encode(r)]);else n.push([t,this.encode(i)]);return n.map((funhis.sep)},t.prototype.toString=function(){var e;return e=this.params.map((function(e){return e.name+e.explode})).join(","),"{"+this.first+e+"}"+this.suffix},t.prototype.toJSON=function(){return this.toString()},t}()),u=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.encode=function(e){return f["U+R"](e)},t.prototype.toString=function(){return"{+"+t.__super__.toString.apply(this,arguments).substring(1)},t}(c),r=function(e){function t(){return t.__super__.)}return m(t,e),t.prototype.first="#",t.prototype.empty="#",t.prototype.encode=function(e){return f["U+R"](e)},t}(c),a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.first=".",t.prototype.sep=".",t.prototype.empty=".",t}(c),l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.first="/",t.prototype.sep="/",t}(c),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.first=";",t.prototype.sep=";",t}(o),i=function(e){function t(){return t.__super__.constructon(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.first="&",t}(i),e.exports={Template:d,SimpleExpression:c,NamedExpression:o,ReservedExpression:u,FragmentExpression:r,LabelExpression:a,PathSegmentExpression:l,PathParamExpression:s,FormStartExpression:i,FormContinuationExpression:t,expression:function(e,n){return new(function(){switch(e){case"":return c;case"+":return u;case"#":return r;case".":return a;case"/":return l;case";":return s;case"?":return i;case"&":return t}}())(n)}}}).call(this)},function(e,t,n){(function(){var e;e=n(549),t.U=e(/[^\w~.-]/g),t["U+R"]=e(/[^\w.~:\/\?#\[\]@!\$&'()*+,;=%-]|%(?!\d\d)/g)}).call(this)},function(e,t){e.exports=function(e){return e=e||/\W/g,function(t){return(t=String(t)).replace(e,(function(e){var t=e[0].charCodeAt(0),n=[];return t<128?n.push(t):128<sh(t>>12|224),n.pte;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}n.r(t);var r=i();r.withExtraArgument=i,t.default=r},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.rootReducer=void 0;var r=n(189),a=i(n(557)),o=i(n(375)),s=(0,r.combineReducers)({notifications:a.default,user:o.default});t.rootReducer=s},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(21)),a=n(282);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={count:0,items:[],dateUpdated:null,dateDeleted:null,loading:!1},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.UPDATE_NOTIFICATIONS:return e;case a.LOAD_NOTIFICATIONS:return s({},e,{items:[],count:0,loading:!0});case a.RECEIVE_NOTIFICATIONS:return s({},e,{loading:!1,count:t.payload.items.length,dateUpdated:Date.now()});case a.RECEIVE_NOTIFICATIONS_ERROR:case urn e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t,n){n(291)("Uint32",4,(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){"use strict";var(.)/g,(functiooString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return i(t)}}},function(e,t){functi%4)?s+=String.fromCharCode(255&i>>(-2*a&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,i.setPageScrollingEnabled)(!0),n(565),window.BezierEasing=n(566),n(567),n(77),n(52),n(69),n(262),n(391),n(122),n(573),window.zdfsite.localMode&&n(574);n.p=window.zdfsite.jsPath,rb.isDebug="appLog"in rb.deserialize(location.hash)||window.zdfsite.enableJavascriptLogging||1,rb.live.autoStart=!1,rb.ready.then((function(){zdfsite.componentsReady._res(),document.querySelector(".lazyload")&&lazySizes.init(),setTimeout((function(){window.lazySizesConfig.loadMode<2&&(window.lazySizesConfig.loadMode=2)}),1500)})),n(75),n(575),n(86),n(576),n(577),n(578),n(104),n(590),n(591),n(592),n(593),n(832),n(838),rb.$zySizes.rAF._lsFlush(),window.lazySizesConfig)){var i=function(){window.lazySizesConfig.loadMoloadMode=2)};setTimeout((function(){window.lazySizesConfig.lofunction a(e){return 3*e}function o(e,t,n){return((i(t,n)*e+r(t,n))*e+a(t))*e}function s(e,t,n){return 3*i(t,n)*e*e+2*r(t,n)*e+a(t)}function l(e,t,i,r){if(4===arguments.length)return new l([e,t,i,r]);if(!(this instanceof l))return new l(e);if(!e||4!==e.length)throw new Error("BezierEasing: points must contains 4 values");for(var a=0;a<4;++a)if("number"!=typeof e[a]||isNaN(e[a])||!isFinite(e[a]))throw new Error("BezierEasing: points should be integers.");if(e[0]<0||e[0]>1||e[2]<0||e[2]>1)throw new Error("BezierEasing x values must be in [0, 1] range.");this._str="BezierEasing("+e+")",this._css="cubic-bezier("+e+"is._p[1],i=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),t===n&&i===r?e:0===e?0:1===e?1:o(this._getecompute:function(his._calcS):0===u?l:function(e,t,n,i,r){var a,s,l=0;do{(a=o(s=t+(n-t)/2,i,r)-e)>0?n=s:t=s}while(Math.abs(a)>1e-7&&++l<10);return s}(e,r,r+.1,t,n)}},l.css={ease:l.ease=l(.25,.1,.25,1),linear:l.linear=l(0,0,1,1),"ease-in":l.easeIn=l(.42,0,1,1),"ease-out":l.easeOut=l(0,0,.58,1),"ease-in-out":l.easeInOut=l(.42,0,.58,1)},e.exports=l},function(e,t,n){"use strict";var i,r,a;r=[t,n(568),n(40),n(570)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=t)&&n.__esModule?n:{default:n};e.default=i.default})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(28),n(26),n(14),n(10),n(17),n(13),n(33),n(56),n(15),r=[t,n(68),n(40),n(371),n(370),n(175),n(569),n(160)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o,s){Object.defineProperty(e,"__esModule",{value:!0});var l=m(t),u=m(n),c=m(i),d=m(r),f=m(a),p=m(o),h=m(s);function m(e){return e&&e.__esModule?e:{default:e}}var v,g,y=void 0,b=void 0,_=function e(t,n){if(!(this instanceof e))return new e(t,n);if("string"==typeof t)if(k.test(t))t=e.parseHTML(t,n);else{if(n&&n.length>1&&n instanceof e)return n.find(t);t=Array.from((n||document).querySelectorAll(t))}else if("function"==typeof t)return void(e.isReady?t(e):document.addEventListener("DOMContentLoaded",(function(){t(e)})));Array.isArray(t)||(t=t?t.nodeName||!("length"in t)||t==window?[t]:Array.from(t.elements||t):[]),this.elements=t,this.length=this.elements.length||0},w=/\s+/g,k=/^\s*</,S=_.prototype;function O(e){var t=e;return e.nodeType||(e instanceof _&&(e=e.get()),1==e.length?t=e[0]:(t=document.createDocumentFragment(),Array.from(e).forEach((function(e){t.appendChild(e)})))),t}function E(e,t){y||(y=u.default.Symbol("_rb$data"));var n=e[y];return n||(n={_:{},isAttr:!1},e[y]=n),!n.isAttr&&t&&Object.assign(n._,Object.assign(u.default.parseDataAttrs(e),n._)),n}Object.assign(_,{isPlainObject:c.default,extend:d.default,cssHooks:s.cssHooks,event:{special:{}},fn:_.prototype,cssNumber:{opacity:!0},support:{},isReady:"loading"!=document.readyState,parseHTML:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t.createElement("div");return n.innerHTML=e,new _(n.childNodes).remove().get()},noop:function(){},q:function(e,t){return new _((t||document).querySelectorAll(e))},Event:function(e,t){var n=u.default.events.Event(e,t);return n.isDefaultPrevented&&!n.isDefaultvented=function(){return n.defaultPrevented}),n},Callbacks:f.default,camelCase:(v=/-([\da-z])/gi,g=function(e,t){return t.toUpperCase()},function(e){return e.replace(v,g)}),propHooks:{},prop:function(e,t,n){var i=_.propHooks[t];if(void 0===n)return i&&i.get?i.get(e):e[t];i&&i.set?i.set(e,n):e[t]=n}}),Object.assign(S,{get:function(e){return arguments.length?this.elements[e]:this.elements},eq:function(e){return new _(this.elements[e]?[this.elements[e]]:[])},css:function(e,t){var n=void 0;if("string"==typeof e){var i;if(1==arguments.length)return(n=this.elements[0])&&(0,h.default)(n,e);(i={})[e]=t,e=i}return this.elements.forEach((function(t){var n=void 0,i=t.style;for(n in e)if(_.cssHooks[n]&&_.cssHooks[n].set)_.cssHooks[n].set(t,e[n]);else{var r=_.cssNumber[n]||"number"!=typeof e[n]?e[n]:e[n]+"px";i[n]=r}})),this},prop:function(e,t){var n=void 0;if("string"==typeof e){var i;if(1==arguments.length)return(n=this.elements[0])&&_.prop(n,e);(i={})[e]=t,e=i}return this.elements.forEach((function(t){var n=void 0;for(n in e)_.prop(t,n,e[n])})),this},attr:function(e,t){var n=void 0;if("string"==typeof e){var i;if(1==arguments.length)return(n=this.elements[0])&&n.getAttribute(e);(i={})[e]=t,e=i}return this.elements.forEach((function(t){var n=void 0;for(lements.forEach((function(t){t.removeAttribute(e)})),this},is:function(e){retuion(t){return t.matches(e)}))},html:function(e){var t=void 0;return arguments.length?(this.elements.forEach((function(e){e.innerHTML=""})),tlements[0])&&t.innerHTML||""},text:function(e){var t=void 0;return arguments.length?(this.elements.forEach((function(t){t.textContent=e})),this):(t=this.elements[0])&&t.textContent||""},before:function(e){var t="object"!=(void 0===e?"undefined":(0,l.default)(e));return(t?this:this.first()).elements.forEach((function(n){var i=void 0;t?n.insertAdjacentHTML("beforebegin",e):(i=n.parentNode)&&i.insertBefore(O(e),n)})),this},prepend:function(e){var t="object"!=(void 0===e?"undefined":(0,l.default)(e));return(t?this:this.first()).elements.forEach((function(n){t?n.insertAdjacentHTML("afterbegin",e):n.insertBefore(O(e),n.firstChild)})),this},prependTo:function(e){return new _(e).prepend(this),this},append:function(e){var t="object"!=(void 0===e?"undefined":(0,l.default)(e));return(t?this:this.last()).elements.forEach((function(n){t?n.insertAdjacentHTML("beforeend",e):n.insertBefore(O(e),null)})),this},appendTo:function(e){return new _(e).append(this),this},after:function(e){var t="object"!=(void 0===e?"undefined":(0,l.default)(e));return(t?this:this.last()).elements.forEach((function(n){var i=void 0;t?n.insertAdjaceentNode)&&i.insertBefore(O(e),n.nextElementSibling)})),t.call(t,n,t)})),this},remove:function(){return this.elements.forEach((function(e){var t=e.parentNode;t&&t.removeChild&&t.removeChild(e)})),this},trigger:function(e,t){var n=void 0;return"object"==(void 0===e?"undefined":(0,l.default)(e))&&(e=(n=e).type),t||(t={}),null==t.bubbles&&(t.bubbles=!0),this.elements.forEach((function(i){var r=n||new CustomEvent(e,t);n=null,i.dispatchEvent(r)})),this},index:function(e){return!e.nodeName&&e.get&&(e=efunction(e){return this.elements&&-1==this.elements.indexOf(e)&&this.elements.push(e),this},first:function(){return _(this.elements[0])},last:function(){return _(this.elements[this.elements.length-1])},data:function(e,t){var n=void 0;if("object"==(void 0===e?"undefined":(0,l.default)(e))||null!=t){var i="string"!=typeof e;n=this,this.elements.forEach((function(n){var r=E(n,!0)._;i?Object.assign(r,e):r[e]=t}))}else if(this.elements[0]){var r=E(this.elements[0],!0)._;n=e?r[e]:r}return n}}),["scrollTop","scrollLeft"].forEach((function(e){S[e]=function(t){var n=void 0,i=this;return null==t?(i=0,(n=this[0])&&(i=(n==window||n==document?document.scrollingElement:n)[e])):this.elements.forEach((function(n){n!=window&&n!=document||(n=document.scrollingElement),n[e]=t})),i}})),[["find","querySelectorAll",!0],["children","children"]].forEach((function(e){var t=!!e[2],n=!!e[2];S[e[0]]=function(i){var r=[];return this.elements.forEach((function(a,o){var s,l=void 0,u=n?a[e[1]](i):a[e[1]];for(l=0,s=u.length;l<s;l++)!t&&i&&!u[l].matches(i)||o&&-1!=r.indexOf(u[l])||r.push(u[l])})),new _(r)}})),[["closest","closest",!0,!1,!0],["next","nextElementSibling",!1,!0],["prev","previousElementSibling",!1,!0],["parent","parentNode"]].forEach((function(e){var t=!!e[2],n=!!e[3],i=!!e[4];S[e[0]]=function(r){var a=[];return this.elements.forEach((function(o,s){var l=i?o[e[1]](r):o[e[1]];!l||!t&&r&&!l.matches(r)||!n&&s&&-1!=a.indexOf(l)||a.push(l)})),new _(a)}})),[["prevAll","previousElementSibling"],["nextAll","nextElementSibling"],["parents","parentNode"]].forEach((function(e){S[e[0]]=function(t){var n=[];return this.elements.forEach((function(i,r){for(var a=i[e[1]];a&&1==a.nodeType;)t&&!a.matches(t)||r&&-1!=n.indexOf(a)||n.push(a),a=a[e[1]]})),new _(n)}})),S.detach=S.remove,["add","remoe"==e;S[e+"Class"]=function(n){var i=t?arguments:n.split(w);return this.elements.forEach((function(t){var n=t.classList;n[e].apply(n,i)})),this}})),["map","filter","not"].forEach((function(e){var t,n=e;(t="not"==e)&&=void 0,r=void 0===e?"undefined":(0,l.default)(e);return"function"!=r&&(i=e,this.length?"string"==r?e=function(){return this.matches(i)}:"object"==r&&("number"!=typeof i.length||i.nodeType?e=function(){return this==i}:(Array.isArray(i)||(i=i instanceof _?i.get():Array.from(i)),e=function(){return i.includei,n);return t?!r:r})))}})),["slice"].forEach((function(e){S[e]=function(){return new _(this.elements[e].apply(this.elements,arguments))}})),[["on","addEventListener"],["off","removeEventListener"]].forEach((function(e){_.fn[e[0]]=function(t,n,i){if("object"==(void 0===t?"undefined":(0,l.default)(t)))this.elements.forEach((function(n){var i=void 0;for(i in t)n[e[1]](i,t[i],!1)}));else{var r=void 0;"function"==typeof n&&(i=n,n=null),r=n?u.default.events.proxies.delegate(i,n):i,this.elements.forEach((function(n){n[e[1]](t,r,!1)}))}return this}})),_.data=function(e,t,n){var i=E(e),r="object"==(void 0===t?"undefined":(0,l.default)(t));return r?Object.assign(i._,t):void 0!==n&&(i._[t]=n),t&&!r?i._[t]:i._},(0!==document.createElement("a").tabIndex||-1!=document.createElement("i").tabIndex)&&(b=/^(?:a|area|input|select|textarea|button)$/i,_.propHooks.tabIndex={get:function(e){var t=e.getAttribute(eInt(t,10):b.test(e.nodeName)?0:-1}}),(0,p.default)(_),_.isReady||document.addEventListener("DOMContentLoaded",(function(){_.isReady=!0})),u.default.param&&(_.param=u.default.param),u.default.$=_,e.default=_})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[t,n(40),n(140),n(180),n(160),n(385)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){var n=void 0,i=void 0,r=documenttion(){var e=void 0;null==i&&r&&(e=parseFloat((0,l.default)(r).width),i=e<4.02&&e>3.98,(0,s.default)((function(){r&&(r.remove(),r=null)}),!0))},f=function(){n||(n=!0,document.documentElement.appendChild(r),setTimeout(d,0))},p=function(){return null==i&&(f(),d()),i};r.style.cssText="position:absolute;top:0;visibility:hidden;width:4px;border:0;padding:1px;box-sizing:border-box;",window.CSS&&CSS.supports&&CSS.supports("box-sizing","border-box")?i=!0:(0,s.default)(f,!0),e.support.boxSizingReliable=p,[["height","Height"],["width","Width"]].forEach((function(n){var i=n[0],r="height"==i?["Top","Bottom"]:["Left","Right"];["inner","outer",""].forEach((function(d){var f=d?d+n[1]:n[0],h=a[f],m="outer"+n[1];a[f]=function(a){for(var v=arguments.length,g=Array(v>1?v-1:0),y=1;y<v;y++)g[y-1]=arguments[y];var b="sync"==a;if(h&&("async"!=a&&!t||b))return h.apply(this,b?g:arguments);var _=void 0,w=void 0,k=void 0,S=void 0,O=0,E=this.get(0);if("async"==a&&(a=g&&g[0]),null!=a&&"number"==typeof a)return this.each((function(){var t=new e(E),n=t[m]()-t[f]();(0,s.default)((function(){var e;t.css(((e={})[i]=a+n,e))}),!0)})),this;if(E)if(9==E.nodeType)S=E.documentElement,O=Math.max(E.body["scroll"+n[1]],S["scroll"+n[1]],E.body["offset"+n[1]],S["offset"+n[1]],S["client"+n[1]]);else if(E.nodeType)switch(_=(0,l.default)(E),O=(0,u.default)(E,i,!0,_),k="border-box"==_.boxSizing&&p(),d){case"":k&&(w=["border"+r[0]+"Width","border"+r[1]+"Width","padding"+r[0],"padding"+r[1]],O-=(0,c.default)(E,w,!0));break;case"inner":k?(w=["border"+r[0]+"Width","border"+r[1]+"Width"],O-=(0,c.default)(E,w,!0)):(w=["padding"+r[0],"padding"+r[1]],O+=(0,c.default)(E,w,!0));break;case"outer":k||(w=["border"+r[0]+"Width","border"+r[1]+"Width","padding"+r[0],"padding"+r[1]],O+=(0,c.default)(E,w,!0)),!0===a&&(O+=(0,c.default)(E,["margin"+r[0],"margin"+r[1]],!0));break;default:window.rb&&window.rb.logWarn&&o.default.logWarn("no modifiert",d)}else"innerWidth"in E&&(O="outer"==d?E["inner"+n[1]]:E.document.documentElement["client"+n[1]]);return O}}))})),o.default.$||(o.default.$=e)};var o=d(t),s=d(n),l=d(i),u=d(r),c=d(a);function d(e){return e&&e.__esModule?e:{default:e}}})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(49),n(13),r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=window.rb,n=t&&t.$||window.jQuery,i={},r=/^\d+\.*\d*(px|em|rem|%|deg)$/,a=function e(t,r,a){var o,s,l,u,c=!1,d=Date.now(),f=t.style,p={},h={},m=function(){a.always&&a.always.call(t),n.dequeue&&!1!==a.queue&&n.dequeue(t,a.queue)},v=function(e){var r,l,u;if(!s){for(r in u=o(e),p)l=(p[r].end-p[r].start)*u+p[r].start,a.step&&a.step.call(t,l),r in i?(p[r].pos=u,p[r].now=l,i[r](p[r])):r in f?(n.cssNumber[r]||(l+=p[r].unit),f[r]=l):t[r]=l;a.progress&&a.progress.call(t,h,e)}},g=function e(){if(!c){var n=(Date.now()-d)/u;(n>1||l)&&(n=1),v(n),n<1?s?m():requestAnimationFrame(e):(t._rbTweenStop&&delete t._rbTweenStop,a.complete&&!s&&a.complete.call(t),m())}};return a=Object.assign({duration:400,easing:"ease"},a||{}),u=n.fx.off?0:a.duration,e.createPropValues(t,f,p,r,a),o=n.easing[a.easing]||n.easing.ease||n.easing.swing,t._rbTweenStop=function(e,i){s=!0,i&&(l=!0),e&&n.fn.clearQueue&&!1!==a.queue&&new n(t).clearQueue(a.queue),g(),c=!0},h.opts=a,h.props=r,a.stopped||requestAnimationFrame(g),{tweenObj:h,element:t,step:g,setPos:v,options:a,duration:u}};a.createPropValues=function(e,i,a,o,s){var l,u,c,d=t.getStyles(e);for(l in o)a[l]={elem:e,options:s},"string"==typeof o[l]?(u=o[l].match(r),c=parseFloat(o[l]),a[l].end=isNaN(c)?o[l]:c):a[l].end=o[l]||0,a[l].unit=u&&u[1]||"px",n.cssHooks[l]&&n.cssHooks[l].get?a[l].start=n.cssHooks[l].get(e):a[l].start=l in i?d.getPropertyValue(l)||d[l]:e[l]||0,c=parseFloa:c},t.$tween=a,n.fx||(n.fx={step:i}),n.easing||(n.easing={linear:function(e){return e},swing:function(e){.PI)/2}}),n.fn.animate&&n.fn.stop||Object.assign(n.fn,{animate:function(e,t){var i=(!t||!1!==t.queue)&&n.queue,r=function(){a(this,e,t)};return this.each((function(){var o=this,s=t&&t.queue;i?1==n.queue(o,s,r).length&&(n.queue(o,s,(function(){n.dequeue(o,s)})),s&&"fx"!=s||n.dequeue(o,s)):a(o,e,t)})),this},stop:function(e,t){return this.each((function(){this._rbTweenStop&&this._rbTweenStop(e,t)})),this}}),e.default=n.fx})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(36),n(5),r=[t,n(40),n(140)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=Promi,a=void 0,s=void 0,l=0,u=function(){i=!1,l=Date.now();var t=a,n=s;a=null,s=null,e.apply(t,n)},c=function(){(0,n.measurePhase)().then(u)},d=function(){if(a=t.that||this,s=arguments,!i){var e=t.delay;if(i=!0,t.unthrottle)u();else{if-l),e<0&&(e=0),!e){if(t.read||t.write)return void f();if(t.micro)return void o.then(f)}setTimeout(f,e)}}},f=function(){(0,r.default)(c)};return t||(t={}),t.delay||(t.delay=200),t.write?c=u:t.read||(f=u),d._rbUnthrotteled=e,d}i.default.throttle=s})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(i){var r,a,o;n(13),n(34),n(5),a=[e,n(40)],void 0===(o="function"==typeof(r=function(e,t){var n;(n=t)&&n.__esModule,void 0!==i&&i.env})?r.apply(t,a):r)||(e.exports=o)}).call(this,n(99))},function(e,t,n){"use strict";n(14),n(33),n(56),function(){var e=window.rb;e.ready.then((function(){try{Array.from(document.querySelectorAll('[href^="js:"]')).map((function(t){var n=t.getAttribute("href").split(":")[1];if(e.components[n]){e.log('found js link handler "'.concat(t,'"'));try{new e.components[n](t)}catch(t){e.logWarn("error calling handler: ".concat(t))}}else e.log('js link handler "'.concat(t,'" is not a known component'))}))}catch(t){e.logWarn("error checking js links: ".concat(t))}}))}()},function(e,t,n){"use strict";var i=n(2);n(33),n(56);var r=i(n(86)),a=n(197);function o(e){e instanceof Node&&Array.from(e.querySelectorAll("esi\\:include")).forEach((function(e){var t=e.getAttribute("src");(0,r.default)(t).n",t.data),n.removeChild(e),(0,a.executeScriptTags)(n)}))gWarn('esi-include: cannot fetch "'.concat(t,'":'),e)}))}))}o(document),document.addEventListener("domupdated",(function(e){o(e.target)}))},function(e,t,n){"use strict";var i,r,a;n(14),r=[],void 0===(a="function"==typeof(i=function(){var e=/\s*?,\s*?|\s+?/g,t=window.rb.$;t.fn.closestFind=function(n){var i=void 0,r=void 0,a=void 0,o=this.get(0);return o&&(r=(i=n.split(e)).shift(),a=i.join(" "),(o=o.closest(r))&&(o=o.querySelector(a))),t(o||[])}})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(n){var i,r,a;r=[],void 0===(a="function"==typeof(i=function(){window.rb.ready.then((function(){var e="function"==typeof window.MouseEvent,t="."+rb.utilPrefix+"clickarea",n="."+rb.utilPrefix+"clickarea"+rb.nameSeparator+"action",i="a[href], a[href] *, button *, "+n+", "+n+" *",r=window.getSelection||function(){return{}},a=/^(?:input|select|textarea|button|a)$/i;document.addEventListener("click",(function(o){if(!(o.defaultPrevented||2==o.button||a.test(o.target.nodeName||"")||o.target.matches(i))){var s=o.target.closest(t),l=s&&s.querySelector(n);if(l){var u=r();if(u.anchorNode&&!u.isCollapsed&&s.contains(u.anchorNode))return;if(e&&l.dispatchEvent){var c=new MouseEvent("click",{cancelable:!0,bubbles:!0,shiftKey:o.shiftKey,altKey:o.altKey,ctrlKey:o.ctrlKey,metaKey:o.metaKey,button:o.button,which:o.which,clientX:o.clientX,clientY:o.clientY,pageX:o.pageX,pageY:o.pageY});l.dispatchEvent(c)}else l.click&&l.click()}}}))})),void 0!==n&&n.env})?i.apply(t,r):i)||(e.exports=a)}).call(this,n(99))},function(e,t,n){"use strict";var i,r,a;n(10),n(13),r=[t,n(68)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=t)&&n.__esModule?n:{default:n},r=/^#/,a=window.rb.$||window.jQuery;a.fn.scrollIntoView=function(e){var t=void 0,n=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=this.get(0);return c&&(e=e||{},t=c.getBoundingClientRect(),n=Math.max(Math.abs(t.top),Math.abs(t.left)),o=e.scrollingElement||rb.getPageScrollingElement(),u={scrollTop:t.top+(e.offsetTop||0),scrollLeft:t.left+(e.offsetLeft||0)},e.scrollingElement&&!e.scrollingElement.contains(c)||(u.scrollTop+=o.scrollTop,u.scrollLeft+=o.scrollLeft),e.easing&&rb.addEasing(e.easing),e.duration||(e.duration=Math.min(e.durationMax||700,(e.durationBase||350)+n*(e.durationMultiplier||.2))),s=Object.assign({},e,{always:function(){var t=void 0,n=void 0,a=void 0;if(e.forcePosition&&(t=o.scrollTop,n=o.scrollLeft),l=e.focus){var s=void 0===l?"undefined":(0,i.default)(l);"boolean"==s?l=c:"string"==s&&(l=r.test(l)?document.querySelector(l):document.getElementById(l)),l&&rb.setFocus(l)}e.hash&&(a="string"==typeof e.hash?e.hash:c.id||c.name)&&(location.hash=a),e.forcePosition&&(o.scrollTop=t,o.scrollLeft=n),e.always&&e.always.call(c)}}),a(o).animate(u,s)),this},a.fn.rbScrollIntoView=a.fn.scrollIntoView,e.default=a.fn.scrollIntoView})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){return setTimeout(rts=function(e,t,n){return i.defineProperty(e,t,n)}},functt,n){e.exports={default:n(587),__esModule:!0}},function(e,t,n){n(588);var i=n(152).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){var i=n(202);i(i.S,"Object",{create:n(270)})},function(e,t,n){"use strict";var i,r,a;r=[t,n(140)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n=void 0,i=void 0,r=window.rb,a=r.$,o=document.createElement("div"),s=r.rAF((function(){var e=i||0,t=r.statePrefix+"scrollbarwidth"+r.nameSeparator+Math.round(e);r.root.style.setProperty("--rb-scrollbar-width",e+"px",""),r.root.classList.add(t),o.remove(),o=null}),{throttle:!0}),l=function(){null==i&&(i=o.offsetWidth-o.clientWidth,r.ready.then(s))},u=function(){n||(n=!0,o.className="js"+r.nameSeparator+"rb"+r.nameSeparator+"scrollbarobserve",(document.body||r.root).appendChild(o),(0,t.afterframePhase)(l))},c=function(){return null==i&&(u(),l()),i};a(o).css({width:"99px",height:"99px",paddingLeft:"0px",paddingRight:"0px",borderLeftWidth:"0px",borderRightWidth:"0px",overflow:"scroll",position:"absolute",visibility:"hidden",top:"0px",left:"0px",zIndex:"-1"}),r.rAFQueue(u),Object.defineProperty(r,"scrollbarWidth",{get:c,enumerable:!0,configurable:!0}),e.default=c})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(17),n(49),n(13),r=[n(68),n(66),n(70),n(78),n(71),n(77),n(160)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o){var s=h(e),l=h(t),u=h(n),c=h(i),d=h(r),f=h(a),p=h(o);function h(e){return e&&e.__esModule?e:{default:e}}var m=a.Component.$,v=f.default.Symbol("childfxPseudo"),g=function(e){function t(n,i){(0,l.default)(this,t);var r=(0,urn r.progress=-2,r.updateChilds=f.default.n(e){return parseFloat(e)||0},(0,c.default)(t,null,[{key:"defaults",get:function(){return{switchedOff:!1,childSel:"find(.{name}{e}fx)"}}}]),t.prototype.getCssValue=function(e,n,i,r){var a={},o=i.end[n];return"object"==(void 0===o?"undefined":(0,s.default)(o))&&(Object.assign(a,o),i.end[n]=o.value||o.end||0,"start"in o&&(a.value=o.start)),a.value=null!=a.value?a.value:(0,p.default)(e,n,1,r),"string"==typeof a.value&&"string"==typeof i.end[n]&&(a.template=a.value,a.value=(a.value.match(t.regNumber)||[0]).map(t.toNumber),i.end[n]=(i.end[n].match(t.regNumber)||[0]).map(t.toNumber)),a},t.prototype.setupChilds=function(){var e=this;this.childs=this.getElementsByString(this.options.childSel,this.element),this.childAnimations=this.childs.map((function(t){var n=void 0,i=f.default.getStyles(t),r={start:{},end:Object.assign({},f.default.parsePseudo(t,v),f.default.parseDataAttrs(t)),from:0,to:1};for(n in r.end)"easing"==n?r.easing=f.default.addEasing(r.end[n]):"from"==n||"to"==n?r[n]=r.end[n]:r.start[n]=e.getCssValue(t,n,r,i);return r}))},t.prototype.checkChildReflow=function(){var e=!1;return this.childs&&this.childs.length&&!this.options.switchedOff&&this.childs.forEach((function(t){!e&&f.default.hasPseudoChanged(t,v)&&(e=!0)})),e&&(this.updateChilds._rbUnrafedFn.call(this,!0),this.progress=-2),e},t.prototype.updateChilds=function(e){var n,i=void 0,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h=void 0;if(e=!0===e,!this.childs||!this.childAnimations){if(e)return;this.setupChilds()}for(r=0,n=this.childs.length;r<n;r++)for(l in o=this.childs[r],a=this.childAnimations[r],h=this.progress,s=o.style,e||(a.from>h?h=0:a.to<h?h=1:(a.to<1||a.from>0)&&(h-=a.from,h*=1/(1-(1-a.to)-a.from)),i=a.easing?a.easing(h):h),a.start)u=(c=a.start[l]).value,e||((d=c.template)?(f=0,p||(p=function(){var e=(a.end[l][f]-c.value[f])*i+c.value[f];return f++,"backgroundColor"==l&&(e=Math.round(e)),e}),u=c.template.replace(t.regNumber,p)):u=(a.end[l]-c.value)*i+c.value),l in s?(d||m.cssNumber[l]||(u+="px"),s[l]=e?"":u):o[l]=u;e&&(this.childs=null,this.childAnimations=null)},t}(a.Component);g.regNumber=/(-*\d+[.\d]*)/g,g.regWhite=/\s/g,a.Component.register("_childfx",g)})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(13),n(102),r=[t,n(66),n(70),n(78),n(71),n(77),n(160)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o){Object.defineProperty(e,"__esModule",{value:!0});var s=p(t),l=p(n),u=p(i),c=p(r),d=p(a),f=p(o);function p(e){return e&&e.__esModule?e:{default:e}}var h=a.Component.$,m={scroll:1,auto:1},v={parent:"parentNode",positionedParent:"offsetParent"},g=document.documentElement;d.default.components._childfx||d.default.log("_childfx not included");var y=function(e){function t(n,i){(0,s.default)(this,t);var r=(0,l.default)(this,e.call(this,n,i));return r.isFixed=!1,r.isScrollFixed=!1,r.checkTime=666+666*Math.random(),r.isProgressDone=!1,r.onprogress=h.Callbacks(),r._throttleOptions={that:r,unthrottle:!0},r.updateChilds=r.updateChilds||h.noop,r.onprogress.fireWith=d.default.rAF(r.onprogress.fireWith,{throttle:!0}),d.default.rAFs(r,{throttle:!0},"updateLayout","_setProgressClass","setSwitchedOffClass"),r.calculateLayout=r.calculateLayout.bind(r),r.checkPosition=d.default.throttle(r.checkPosition,r._throttleOptions),r.reflow=d.default.throttle((function(){this.checkChildReflow&&this.checkChildReflow(),this.calculateLayout()}),{that:r}),r._getElements(),r.calculateLayout(),r.options.switchedOff&&r.setSwitchedOffClass(),r}return(0,c.default)(t,e),t.filterPos=function(e){return null!=e&&e>-1&&e<Number.MAX_VALUE},(0,u.default)(t,null,[{key:"defaults",get:function(){return{container:".is{-}{name}{-}parent",switchedOff:!1,topOffset:!1,bottomOffset:!1,offsetElements:"",progress:0,setWidth:!0,resetSwitchedOff:!0,autoThrottle:!0,scrollContainer:""}}}]),t.prototype.setOption=function(t,n,i){e.prototype.setOption.call(this,t,n,i),"switchedOff"==t||"resetSwitchedOff"==t&&this.options.switchedOff&&this.options.resetSwitchedOff?(this._unfix(),this.updateChilds(!0),this.progress=-2):"offsetElements"==t||"bottomOffset"==t||"topOffset"==t||"switchedOff"==t&&!n?(this._unfix(),this.element.style.top="",this.element.style.bottom="",this._getElements(),this.calculateLayout()):"autoThrottle"!=t||n||this._throttleOptions.unthrottle?"scrollContainer"==t&&this._setScrollingElement():this._throttleOptions.unthrottle=!0,"switchedOff"==t&&this.setSwitchedOffClass()},t.prototype.setSwitchedOffClass=function(){this.element.classList.toggle(d.default.statePrefix+"switched"+d.default.nameSeparator+"off",this.options.switchedOff)},t.prototype._getElements=function(){var e,t=this.options;this.isContainerScroll=!1,this.elemStyles=d.default.getStyles(this.element),this.offsetElements=t.offsetElements?this.getElementsByString(t.offsetElements):[],this.posProp=!1!==t.bottomOffset?"bottom":"top",e=this.posProp+"Offset",this.offset=0,!1!==t[e]&&(this.offset-=t[e]),t.container?(this.container=this.element[t.container]||this.element[v[t.container]]||this.element.closest(this.interpolateName(t.container)),this.container&&(this.isContainerScroll=!!m[(0,f.default)(this.container,"overflowY",!1,this.containerStyles)||(0,f.default)(this.container,"overflow",!1,this.containerStyles)],this.containerStyles=d.default.getStyles(this.container))):this.container=document.body,this.calcedOffset=this.offset,this._setScrollingElement()},t.prototype._setScrollingElement=function(){var e=void 0,t=this.$scrollEventElem&&this.$scrollEventElem.get(0);this.options.scrollContainer&&(this.$scrollEventElem=h(this.element).closest(this.options.scrollContainer),e=this.$scrollEventElem.get(0),this.scrollingElement=e),this.options.scrollContainer&&this.scrollingElement||(e=window,this.$scrollEventElem=h(e),this.scrollingElement=document.scrollingElement),t!=e&&(t&&h(t).off("scroll",this.checkPosition),this.$scrollEventElem.on("scroll",this.checkPosition))},t.prototype.getCalculatedLayout=function(){var e,t,n=void 0,i={minFixedPos:-1,maxFixedPos:Number.MAX_VALUE,minScrollPos:-1,maxScrollPos:Number.MAX_VALUE};return(e=(this.isFixed?this.clone:this.element).getBoundingClientRect()).right||e.bothis.scroll,this.offsetElements.length&&(this.calcedOffset=this.offset-this.offsetElements.reduce((function(e,t){return e+t.offsetHeight}),0)),this.options.setWidth&&(this.elemWidth=(this.isFixed?this.clone:this.element).offsetWidth),"top"==this.posProp?(i.minFixedPos=t+this.calcedOffset,this.options.progress&&(i.minProgressPos=i.minFixedPos,i.maxProgressPos=i.minFixedPos+this.options.progress)):(i.maxFixedPos=t-this.calcedOffset-this.viewportheight,this.options.progress&&(i.minProgressPos=i.maxFixedPos-this.options.progress,i.maxProgressPos=i.maxFixedPos)),this.container&&(n=this.container.getBoundingClientRect()["top"==this.posProp?"bottom":"top"]+this.scroll,"top"==this.posProp?(i.maxFixedPos=n+this.calcedOffset,i.minScrollPos=i.maxFixedPos-e.height-(0,f.default)(this.container,"padding-bottom",!0,this.containerStyles)-(0,f.default)(this.element,"margin-bottom",!0,this.elemStyles),i.maxFixedPos+=9-this.calcedOffset,i.maxScrollPos=i.maxFixedPos):(i.minFixedPos=n-g.clientHeight-this.calcedOffset,i.maxScrollPos=i.minFixedPos+e.height+(0,f.default)(this.container,"padding-top",!0,this.containerStyles)+(0,f.default)(this.element,"margin-top",!0,this.elemStyles),i.minFixedPos+=9+this.calcedOffset,i.minScrollPos=i.minFixedPos)),i):i},t.prototype.calculateLayout=function(){this.scroll=this.scrollingElement.scrollTop,this.viewportheight=g.clientHeight,this.lastCheck=Date.now(),Object.assign(this,this.getCalculatedLayout()),this._poses=[this.minScrollPos,this.minFixedPos,this.maxFixedPos,this.maxScrollPos,this.minProgressPos,this.maxProgressPos].filter(t.filterPos),this.checkPosition()},t.prototype._isNearScroll=function(e){var t=this.scroll-e;return t<700+this.viewportheight&&t>-700-this.viewportheight},t.prototype.checkPosition=function(){if(!this.options.switchedOff){var e,t,n,i=void 0,r=void 0;if(this.scroll=this.scrollingElement.scrollTop,Date.now()-this.lastCheck>this.checkTime)this.calculateLayout();else if(t=(e=this.scroll>=this.minFixedPos&&this.scroll<=this.maxFixedPos)&&this.scroll>=this.minScrollPos&&this.scroll<=this.maxScrollPos,this.options.autoThrottle&&(this._throttleOptions.unthrottle=this._poses.some(this._isNearScroll,this)),e&&!this.isFixed&&(this.elemHeight=this.element.offsetHeight,this.options.setWidth&&(this.elemWidth=this.element.offsetWidth)),n=e&&this.isFixed&&this.options.setWidth&&this.element.offsetWidth!=this.elemWidth,(e!=this.isFixed||t||this.isScrollFixed||n||this.isFixed&&this._setCalcedOffset!=this.calcedOffset)&&this.updateLayout(e,t,n),this.options.progress&&(e&&this.scroll>=this.minProgressPos&&this.scroll<=this.maxProgressPos||0!==this.progress&&1!==this.progress)){if(i=Math.max(Math.min((this.scroll-this.minProgressPos)/(this.maxProgressPos-this.minProgressPos),1),0),r=this.progress,!e&&-2==r)return;r!=i&&(this.progress=i,1==i?this.isProgressDone||(this.isProgressDone=!0,this._setProgressClass()):this.isProgressDone&&(this.isProgressDone=!1,this._setProgressClass()),this.updateChilds(),this.onprogress.fireWith(this,[i]))}}},t.prototype._setProgressClass=function(){this.element.classList.toggle(d.default.statePrefix+"fixed"+d.default.nameSeparator+"progressed",this.isProgressDone)},t.prototype.updateLayout=function(e,t,n){var i=void 0,r=void 0;this.options.switchedOff||(n&&(this.element.style.width=this.elemWidth+"px"),e?(this.isFixed||(this._fix(),r=!0),t?(this.isScrollFixed=!0,i=-1*this.calcedOffset,"top"==this.posProp?i+=this.minScrollPos-this.scroll:i-=this.maxScrollPos-this.scroll,this.element.style[this.posProp]=i+"px"):(this.isScrollFixed||this._setCalcedOffset!=this.calcedOffset)&&(this.isScrollFixed=!1,this.element.style[this.posProp]=-1*this.calcedOffset+"px")):this.isFixed&&(this._unfix(),r=!0),this._setCalcedOffset=this.calcedOffset,r&&this.trigger())},t.prototype._unfix=function(){this.isFixed&&(this.isFixed=!1,this.isScrollFixed=!1,this.element.classList.remove(d.default.statePrefix+"fixed"),this.detachClone(),this.element.style.position="",this.element.style.width="",this.element.style[this.posProp]="")},t.prototype._fix=function(){this.isFixed||(this.isFixed=!0,this.isScrollFixed=!1,this.attachClone(),this.element.classList.add(d.default.statePrefix+"fixed"),this.element.style.position="fixed",this.options.setWidth&&(this.element.style.width=this.elemWidth+"px"),this.element.style[this.posProp]=-1*this.calcedOffset+"px")},t.prototype.attachClone=function(){this.$clone||(this.clone=this.element.cloneNode(),this.$clone=h(this.clone),this.$clone.css({visibility:"hidden"}).removeClass("js"+d.default.nameSeparator+"rb"+d.default.nameSeparator+"live").addClass("js"+d.default.nameSeparator+"sticky"+d.default.nameSeparator+"clone").attr({"data-moss({height:this.elemHeight+"px"}),this.$element.after(this.clone)},t.prototype.detachClone=function(){this.$clone&&this.$clone.detach()},t.prototype.attached=function(){this._setScrollingElement(),d.default.resize.on(this.reflow),clearInterval(this.layoutInterval),this.layoutInterval=setInterval(this.reflow,Math.round(999*Math.random()+9999))},t.prototype.detached=function(){this.$scrollEventElem.off("scroll",this.checkPosition),d.default.resize.off(this.reflow),clearInterval(this.layoutInterval),this.$scrollEventElem=null},t}(d.default.components._childfx||a.Component);e.default=a.Component.register("sticky",y)})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(13),n(17),n(102),r=[t,n(66),n(70),n(78),n(71),n(77),n(140)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o){Object.defineProperty(e,"__esModule",{value:!0});var s=f(t),l=f(n),u=f(i),c=f(r),d=f(a);function f(e){return e&&e.__esModule?e:{default:e}}var p=a.Component.$,h=d.default.root,m=function(e){function t(n,i){(0,s.default)(this,t);var r=(0,l.default)(this,e.call(this,n,i));return r.minScroll=Number.MAX_VALUE,r.maxScroll=-1,r.checkTime=4e3+999*Math.random(),r.entered=!1,r.onprogress=p.Callbacks(),r.updateChilds=r.updateChilds||p.noop,d.default.rAFs(r,{throttle:!0},"changeState","setSwitchedOffClass","updateScrollFixedElement","changePrepareState"),d.default.rAFs(r.onprogress,"fireWith"),r.checkPosition=r.check(r.options.throttleDelay),r.reflow=d.default.throttle((function(){this.checkChildReflow&&this.checkChildReflow(),this.calculateLayout()}),{that:r}),r._setScrollinElement(),r.parseOffsets(),r.calculateLayout(),r.options.switchedOff&&r.setSwitchedOffClass(),r}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"defaults",get:function(){return{switchedOff:!1,from:"-100eh",to:"100vh",once:!1,restSwitchedOff:!0,throttleDelay:0,fixedSel:"find(.{name}{e}scrollfixed)",setFixedWidth:!0,preparePadding:0,scrollContainer:!1}}}]),t.prototype._setupThrottleDelay=function(e){this.throtteldCheckPosition=e&&e>30?d.default.throttle(this.checkPosition,{delay:e}):this.checkPosition},t.prototype.setOption=function(t,n,i){e.prototype.setOption.call(this,t,n,i),"switchedOff"==t||"restSwitchedOff"==t&&this.options.switchedOff&&this.options.restSwitchedOff?(this.changeState(!1),this.updateChilds(!0),this.progress=-2):"from"==t||"to"==t||"switchedOff"==t&&!n?(this.parseOffsets(),this.calculateLayout()):"throttleDelay"==t?(this.detached(),this._setupThrottleDelay(n),d.default.root.contains(this.element)&&this.attached()):"scrollContainer"==t&&(this._setScrollinElement(),this.calculateLayout()),"switchedOff"==t&&this.setSwitchedOffClass()},t.prototype.setSwitchedOffClass=function(){this.element.classList[this.options.switchedOff?"add":"remove"](d.default.statePrefix+"switched"+d.default.nameSeparator+"off")},t.prototype.parseOffsets=function(){this.parsedFrom=this.parseOffset(this.options.from),this.parsedTo=this.parseOffset(this.options.to)},t.prototype.parseOffset=function(e){e=(""+e).replace(t.regWhite,"");for(var n=t.regCalc.exec(e),i={};null!=n;)i[t.knownUnits[n[3]]?n[3]:"px"]=parseFloat(n[2]),n=t.regCalc.exec(e);return i},t.prototype.addOffset=function(e){var t=void 0,n=void 0,i=0;for(t in e)"eh"==t||"ev"==t?n=this.element:"vw"!=t&&"vh"!=t||(n=h),i+=n?n["w"==t.charAt(1)?"clientWidth":"clientHeight"]/100*e[t]:e[t];return i},t.prototype.calculateLayout=function(){if(!this.options.switchedOff){var e=this.element.getBoundingClientRect();this.lastCheck=Date.now(),(e.top||e.bottom||e.right||e.left)&&(this.boxTop=e.top+this.scrollingElement.scrollTop,this.boxWidth=e.width,this.scrollPos=this.scrollingElement.scrollTop,this.minScroll=this.boxTop,this.maxScroll=this.minScroll,this.minScroll-=this.addOffset(this.parsedTo),this.maxScroll-=this.addOffset(this.parsedFrom),this.minFixed=this.minScroll-666,this.maxFixed=this.maxScroll+666,this.minPrepareScroll=this.minScroll-this.options.preparePadding,this.maxPrepareScroll=this.maxScroll+this.options.preparePadding,this.scrollFixedElement=this.getElementsByString(this.options.fixedSel)[0],this.checkPosition())}},t.prototype.checkPosition=function(){var e,t,n=void 0,i=void 0,r=void 0,a=void 0;if(!this.options.switchedOff){var s=this.scrollingElement.scrollTop;if(this.scrollPos=s,Date.now()-this.lastCheck>this.checkTime&&(this.lastCheck=Date.now(),(0,o.afterframePhase)(this.calculateLayout)),e=this.minFixed<=s&&this.maxFixed>=s,(r=(t=this.minPrepareScroll<=s&&this.maxPrepareScroll>=s)&&e&&this.minScroll<=s&&this.maxScroll>=s)||0!==this.progress&&1!==this.progress){if(a=Math.max(Math.min((s-this.minScroll)/(this.maxScroll-this.minScroll),1),0),i=this.progress,this.progress=a,i==a||-2==i&&!a)return;this.updateChilds(),this.onprogress.fireWith(this,[a]),!0===this.options.once&&1===this.progress&&(n=this,r=!0,d.default.rAFQueue((function(){n.destroy()}),!0))}this.scrollFixedElement&&(e||e!=this.enteredFixed)&&this.updateScrollFixedElement(e),this.prepareEntered!=t&&(this.prepareEntered=t,this.changePrepareState()),this.entered!=r&&this.changeState(r)}},t.prototype.updateScrollFixedElement=function(e){var t=this.scrollFixedElement.style;this.enteredFixed!=e&&(this.scrollFixedElement.classList.toggle(d.default.statePrefix+"fixed-entered",e),e&&(t.position="fixed")),e?(t.top=this.boxTop-this.scrollPos+"px",this.options.setFixedWidth&&this.boxWidth!=this.setBoxWidth&&(this.setBoxWidth=this.boxWidth,t.width=this.boxWidth+"px")):(t.position="",t.top="",this.options.setFixedWidth&&(this.setBoxWidth="",t.width="")),this.enteredFixed=e},t.prototype.changePrepareState=function(){this.element.classList.toggle(d.default.statePrefix+"scrollrange"+d.default.nameSeparator+"prepared",this.prepareEntered)},t.prototype.changeState=function(e){var t=this.options.once;this.entered!=e&&(this.entered=e,this.element.classList[e?"add":"remove"](d.default.statePrefix+"in"+d.default.nameSeparator+"scrollrange"),this.trigger(),"entered"!=t&&(!t||this.childs&&this.childs.length)||this.destroy())},t.prototype._setScrollinElement=function(){var e=this.scrollingEvtElement;this.options.scrollContainer&&(this.scrollingElement=this.element.closest(this.options.scrollContainer)),this.scrollingElement&&this.options.scrollContainer||(this.scrollingElement=d.default.getPageScrollingElement()),this.scrollingEvtElement=this.scrollingElement.matches("html, body")?window:this.scrollingElement,e&&e.removeEventListener("scroll",this.throtteldCheckPosition),this.scrollingEvtElement.addEventListener("scroll",this.throtteldCheckPosition)},t.prototype.attached=function(){this.detached(),this._setScrollinElement(),d.default.resize.on(this.reflow),clearInterval(this.layoutInterval),this.layoutInterval=setInterval(this.reflow,Math.round(9999+5e3*Math.random()))},t.prototype.detached=function(){this.scrollingEvtElement&&this.scrollingEvtElement.removeEventListener("scroll",this.throtteldCheckPosition),d.default.resize.off(this.reflow),clearInterval(this.layoutInterval)},t}(d.default.components._childfx||a.Component);Object.assign(m,{regWhite:/\s/g,regCalc:/(([+-]*\d+[.\d]*)(px|vh|eh|vw|ew))/g,knownUnits:{vh:1,eh:1,vw:1,ew:1}}),a.Component.register("scrolly",m),e.default=m})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){e.exports={"../../../templates/components/accessibility/set-aria-label.js":n(594),"../../../templates/components/alert/alert.js":n(595),"../../../templates/components/App.js":n(600),"../../../templates/components/calendar/urlcalendarpanel.js":n(613),"../../../templates/components/calendarbase/calendarbase.js":n(307),"../../../templates/components/calendarpicker/calendarpicker.js":n(616),"../../../templates/components/checkboxarray/checkboxarray.js":n(617),"../../../templates/components/clearsearch/clearsearch.js":n(618),"../../../templates/components/cluster/cluster-teaser-extension.js":n(619),"../../../templates/components/cluster/news-infoline.js":n(620),"../../../templates/components/collapse-text/collapse-text.js":n(621),"../../../templates/components/comments/commentform.js":n(418),"../../../templates/components/comments/commentReply.js":n(622),"../../../templates/components/comments/commentReplyForm.js":n(625),"../../../templates/components/comments/CommentSettingsForArdUsers.js":n(626),"../../../templates/components/comments/commentsList.js":n(627),"../../../templates/components/comments/escapeCommentText.js":n(308),"../../../templates/components/comments/getCommentIdentity.js":n(309),"../../../templates/components/comments/growingtextarea.js":n(629),"../../../templates/components/comments/maxlengthpanel.js":n(630),"../../../templates/components/content-module/gallerypanelgroup.js":n(631),"../../../templates/components/dateformatter/dateformatter.js":n(633),"../../../templates/components/datepicker/datepicker.js":n(421),"../../../templates/components/datepicker/index.js":n(634),"../../../templates/components/debug-alert/debugalert.js":n(639),"../../../templates/components/dialog/_dialog-base.js":n(212),"../../../templates/components/dialog/ChangeOptionalData.js":n(415),"../../../templates/components/dialog/dialog-adult.js":n(640),"../../../templates/components/dialog/dialog-change.js":n(641),"../../../templates/components/dialog/dialog-download.js":n(642),"../../../templates/components/dialog/dialog-fsk-auth-notification.js":n(644),"../../../templates/components/dialog/dialog-gallery.js":n(645),"../../../templates/components/dialog/dialog-login-error.js":n(646),"../../../templates/components/dialog/dialog-login.js":n(647),"../../../templates/components/dialog/dialog-logout.js":n(648),"../../../templates/components/dialog/dialog-player-pin.js":n(649),"../../../templates/components/dialog/dialog-profile.js":n(650),"../../../templates/components/dialog/dialog-reset-optionaldata.js":n(651),"../../../templates/components/dialog/dialog-tivi-escape-protection.js":n(422),"../../../templates/components/dialog/dialog-tivi.js":n(652),"../../../templates/components/dropdown/dropdown.js":n(653),"../../../templates/components/dynamicpage/dynamicpage.js":n(654),"../../../templates/components/epg-program/epg-program.js":n(655),"../../../templates/components/epg-program/epg-tabs.js":n(657),"../../../templates/components/epg-timeline/epg-timeline-scrollbox.js":n(658),"../../../templates/components/forms/changedataform/changedataform.js":n(660),"../../../templates/components/forms/changepassform/changepassform.js":n(661),"../../../templates/components/forms/FormIndex.js":n(211),"../../../templates/components/forms/historydeleteform/historydeleteform.js":n(662),"../../../templates/components/forms/login/login-profile-list.js":n(663),"../../../templates/components/forms/login/login-with-ard-account.js":n(664),"../../../templates/components/forms/login/login.js":n(665),"../../../templates/components/forms/login/registration-link.js":n(666),"../../../templates/components/forms/passwordreset/passwordreset.js":n(667),"../../../templates/components/forms/profiledeleteform/profiledeleteform.js":n(668),"../../../templates/components/forms/react-form-fields/BirthYearInput.js":n(243),"../../../templates/components/forms/react-form-fields/common.js":n(413),"../../../templates/components/forms/react-form-fields/GenerSelectInput.js":n(244),"../../../templates/components/forms/react-form-fields/RadioSelectInput.js":n(414),"../../../templates/components/forms/react-form-fields/types.js":n(669),"../../../templates/components/forms/registration-flow/registration-flow.js":n(670),"../../../templates/components/forms/registration-flow/Registration.js":n(412),"../../../templates/components/forms/registration/passwordrequest.js":n(671),"../../../templates/components/forms/registration/registration-tivi.js":n(672),"../../../templates/components/forms/registration/registration.js":n(673),"../../../templates/components/forms/smart-tv-login/smart-tv-login.js":n(674),"../../../templates/components/forms/subprofile-delete-form/subprofile-delete-form.js":n(675),"../../../templates/components/forms/validatingform/validatingform.js":n(72),"../../../templates/components/fsk/country-selection/country-selection.js":n(676),"../../../templates/components/fsk/fsk-progress/fsk-progress.js":n(677),"../../../templates/components/fsk/passport-selection/passport-form.js":n(678),"../../../templates/components/fsk/Passport.js":n(411),"../../../templates/components/fsk/pin/pin-form.js":n(705),"../../../templates/components/fsk/success/fsk-validation-result.js":n(706),"../../../templates/components/group-persons/group-persons.js":n(707),"../../../templates/components/guided-tour/components/dynamic-tour/DynamicTour.js":n(400),"../../../templates/components/guided-tour/components/dynamic-tour/Slide.js":n(401),"../../../templates/components/guided-tour/components/introduction-broadcasts/IntroductionBroadcasts.js":n(405),"../../../templates/components/guided-tour/components/introduction-done/IntroductionDone.js":n(408),"../../../templates/components/guided-tour/components/introduction-missed-program/IntroductionMissedProgram.js":n(403),"../../../templates/components/guided-tour/components/introduction-most-viewed/IntroductionMostViewed.js":n(708),"../../../templates/components/guided-tour/components/introduction-programs/IntroductionPrograms.js":n(406),"../../../templates/components/guided-tour/components/introduction-search/IntroductionSearch.js":n(404),"../../../templates/components/guided-tour/components/introduction-video-protection/IntroductionVideoProtection.js":n(407),"../../../templates/components/guided-tour/components/introduction/Introduction.js":n(303),"../../../templates/components/guided-tour/components/media/GuidedTourImage.js":n(304),"../../../templates/components/guided-tour/components/media/GuidedTourVideo.js":n(402),"../../../templates/components/guided-tour/components/overlay/MobileLandscapeOverlay.js":n(123),"../../../templates/components/guided-tour/GuidedTourIndex.js":n(398),"../../../templates/components/guided-tour/helpers/Helpers.js":n(87),"../../../templates/components/guided-tour/helpers/reload-guided-tour.js":n(709),"../../../templates/components/header/header-avatar.js":n(710),"../../../templates/components/header/header-subscription-count.js":n(711),"../../../templates/components/header/MeinZdfLogoutLink.js":n(712),"../../../templates/components/header/SlimHeader.js":n(713),"../../../templates/components/helper/ui/filter-rb-keyinput.js":n(714),"../../../templates/components/heute/slideshow/wahltool-gallery.js":n(715),"../../../templates/components/heute/top5-weather-module/top5-weather-display.js":n(719),"../../../templates/components/heute/top5-weather-module/weather-default.js":n(720),"../../../templates/components/heute/top5-weather-module/weather-helper.js":n(313),"../../../templates/components/itemscroller/itemscroller.js":n(721),"../../../templates/components/itemscroller/itemScrollerWithPaginationAnimation.js":n(247),"../../../templates/components/lazyload-loader/lazyload-loader.js":n(730),"../../../templates/components/live-module/live-module.js":n(731),"../../../templates/components/live-tv/live-tv-scroller.js":n(735),"../../../templates/components/loadmore/loadmore.js":n(736),"../../../templates/components/logout-button/logout-button.js":n(737),"../../../templates/components/mein-tivi/_cluster-new-videos.js":n(314),"../../../templates/components/mein-tivi/avatar-image.js":n(738),"../../../templates/components/mein-tivi/change-profile.js":n(739),"../../../templates/components/mein-tivi/cluster-new-favorites.js":n(740),"../../../templates/components/mein-tivi/cluster-subscription.js":n(435),"../../../templates/components/mein-tivi/new-favorites-list.js":n(742),"../../../templates/components/mein-tivi/nickname-label.js":n(743),"../../../templates/components/mein-tivi/switch-profile-button.js":n(744),"../../../templates/components/mein-tivi/tivi-profile-switch.js":n(745),"../../../templates/components/mein-zdf/cluster-dynamic-base.js":n(182),"../../../templates/components/mein-zdf/clusterprofile.js":n(747),"../../../templates/components/mein-zdf/clusterrecommendation.js":n(748),"../../../templates/components/mein-zdf/clusterSeamlessViewing.js":n(749),"../../../templates/components/mein-zdf/contentclusterrecommendation.js":n(750),"../../../templates/components/mein-zdf/fsk-status.js":n(751),"../../../templates/components/mein-zdf/lists/myzdf-teaser-grid.js":n(752),"../../../templates/components/mein-zdf/notificationlist.js":n(753),"../../../templates/components/mein-zdf/playbackHistoryList.js":n(754),"../../../templates/components/mein-zdf/profilelist.js":n(317),"../../../templates/components/mein-zdf/UserNameLabel.js":n(755),"../../../templates/components/mein-zdf/viewHistoryList.js":n(756),"../../../templates/components/my-program/my-program-cluster.js":n(757),"../../../templates/components/my-program/my-program-info-panel.js":n(758),"../../../templates/components/newsticker/newsticker-accordion.js":n(759),"../../../templates/components/newsticker/newsticker-slider.js":n(760),"../../../templates/components/oauthlogin/oauthlogin.js":n(761),"../../../templates/components/offcanvas/offcanvas.js":n(762),"../../../templates/components/onboarding/onboardingdialog.js":n(763),"../../../templates/components/onboarding/onboardingpanel.js":n(764),"../../../templates/components/panelgroup/index.js":n(310),"../../../templates/components/parent-child-switch-alert/parent-child-switch-alert.js":n(765),"../../../templates/components/passport-pin/passport-pin.js":n(766),"../../../templates/components/photo-matrix/photo-matrix.js":n(767),"../../../templates/components/picture/js-picture.js":n(768),"../../../templates/components/pin-change/pin-change.js":n(312),"../../../templates/components/plus-button-tooltip/plusbuttontooltip.js":n(769),"../../../templates/components/plus-button/plus-button.js":n(771),"../../../templates/components/post-header/post-header.js":n(774),"../../../templates/components/profiledata/profiledata.js":n(775),"../../../templates/components/profileform/profileform.js":n(776),"../../../templates/components/ratiobox/ratiofitarea.js":n(777),"../../../templates/components/recommendations/ab-test-cluster-container.js":n(778),"../../../templates/components/recommendations/personalized-cluster-request-values.js":n(162),"../../../templates/components/recommendations/recommendation-cluster-list.js":n(782),"../../../templates/components/recommendations/recommendation-fetcher.js":n(783),"../../../templates/components/recommendations/teaser-writer.js":n(124),"../../../templates/components/reloading-image/reloading-image.js":n(784),"../../../templates/components/removepanel/removepanel.js":n(785),"../../../templates/components/resizeable-iframe/resizeable-iframe.js":n(786),"../../../templates/components/score-explanations/score-explanations.js":n(787),"../../../templates/components/scrollbox/scrollbox.js":n(424),"../../../templates/components/scrollnav/scrollnav.js":n(788),"../../../templates/components/scrollto/scrollto.js":n(423),"../../../templates/components/search-bar/search-bar.js":n(790),"../../../templates/components/selectbox/selectbox.js":n(791),"../../../templates/components/settings/modules/cmp-action.js":n(793),"../../../templates/components/settings/modules/darkmode/darkmode-switcher.js":n(794),"../../../templates/components/settings/modules/personalization-summary.js":n(795),"../../../templates/components/settings/modules/subprofile-list/subprofile-list.js":n(436),"../../../templates/components/settings/modules/tivi-sub-profiles.js":n(796),"../../../templates/components/settings/modules/user-data-summary.js":n(442),"../../../templates/components/settings/settings-navigation-bar.js":n(797),"../../../templates/components/settings/tivi-user-data.js":n(798),"../../../templates/components/showmore/showmore-filter.js":n(799),"../../../templates/components/showmore/showmore.js":n(444),"../../../templates/components/social-media-quote/social-media-quote-cmp.js":n(800),"../../../templates/components/stage/canautoplay.js":n(445),"../../../templates/components/stage/stage-sharing.js":n(802),"../../../templates/components/stage/stage-teaser-controls.js":n(803),"../../../templates/components/stage/stageoverlaypanel.js":n(804),"../../../templates/components/stageitemscroller/index.js":n(805),"../../../templates/components/stageitemscroller/zdfitemscroller.js":n(431),"../../../templates/components/station-filter/itemfilter.js":n(806),"../../../templates/components/sticky-logo/sticky-logo.js":n(807),"../../../templates/components/stopautoplay/stopautoplay.js":n(808),"../../../templates/components/styleswitcher/styleswitcher.js":n(809),"../../../templates/components/thirdparty/thirdparty.js":n(810),"../../../templates/components/tivi-scroll-hint/tivi-scroll-hint.js":n(811),"../../../templates/components/typeahead/typeahead.js":n(812),"../../../templates/components/ui-components/form-fields/form-field-character-count.js":n(814),"../../../templates/components/ui-components/form-fields/password-input.js":n(815),"../../../templates/components/ui-components/form-fields/pin-input.js":n(816),"../../../templates/components/ui-components/form-fields/PinInput.js":n(410),"../../../templates/components/ui-components/scroller-paging/scroller-paging.js":n(817),"../../../templates/components/ui-components/switch/switch.js":n(818),"../../../templates/components/ui-components/teaser-title.js":n(819),"../../../templates/components/video-module/video-download.js":n(820),"../../../templates/components/weather-local/weather-local.js":n(821),"../../../templates/components/weather-maps/weather-maps.js":n(822),"../../../templates/components/weather-radar/weather-radar.js":n(823),"../../../templates/components/weatherdisplay/weatherdisplay.js":n(827),"../../../templates/components/zdfplayer/pip.js":n(446),"../../../templates/components/zdfplayer/zdfplayer.js":n(829)}},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11);t=function(){var e=window.rb,t=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),r(t,[{key:"attached",value:function(){if(!1===this.element.hasAttribute("aria-label")){var e="".concat(this.options.prefix).concat(this.element.innerText||this.element.textContent||"");this.element.setAttribute("aria-label",e)}}}],[{key:"defaults",get:function(){return{prefix:""}}}]),t}(e.Component);return e.live.register("set-aria-label",t),t},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";n(302);var i=n(0),r=n(3),a=n(35),o=n(1),s=n(4);!function(){n(598),n(599);var t=n(7),l=window.rb,u=l.$,c=function(e){function n(e,t){var a;return i(this,n),(a=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))).width=NaN,a.divider=1,a._curPos=0,a.alertsWrapper=a.query(".{name}-item"),a.alertBox=a.query(".{name}-box"),l.rAFs(a,"initRender","setAnimation","renderScrollable"),a.setPos=a.setPos.bind(a),a.onComplete=a.onComplete.bind(a),a.calculateSpeed=a.calculateSpeed.bind(a),a.onnoObtrusiveAnimaticulateSpeed(),a.calculateDivider(),a.initRenlts",get:function(){return{speed:80,autoplay:!0}}}]),o(n,[{key:"onnoObtrusiveAnimation",value:function(e){this.setOption("autoplay",!e)}},{key:"setOption",value:function(e,t){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setOption",this).call(this,e,t),"speed"==e&&this.width&&this.setAnimation(this.width),"autoplay"==e&&!1===t&&this.renderScrollable()}},{key:"calculateDivider",value:function(){this.divider=Math.min(2*Math.ceil(window.innerWidth/this.alertBox.offsetWidth),2)}},{key:"calculateSpeed",value:function(){var e=this.alertBox.offsetWidth;e!==this.width&&this.setAnimation(e)}},{key:"initRender",value:function(){var e=this;this.options.autoplay&&(this.alertsWrapper.innerHTML=this.alertsWrapper.innerHTML.repeat(this.divider),this.alertBox=this.query(".{name}-box"),l.ion(){this.paused=!0,u(this.alertsWrapper).stop()}},{key:"resume",value:function(){this.options.autoplay&&this.setAnimation(this.width)}},{key:"setPos",value:function(e,t){var n=(e.props.marqueePos-e.opts.start)*t+e.opts.start;this._curPos=n,this.alertsWrapper.style.transform="translate(".concat(n,"px)")}},{key:"onComplete",value:function(){this._curPos=0,this.alertsWrapper.style.transform="translate(0px)",this.paused||(this.paused=!0,this.setAnimation(this.width))}},{key:"renderScrollable",value:function(){u(this.alertsWrapper).stop(),this.alertsWrapper.style.transform="",this.$element.toggleClass("m-scrollable",!this.options.autoplay)}},{key:"setAnimation",value:function(e){if(this.options.autoplay&&(e!==this.width||this.paused))if(this.width=e,this.paused=!1,u(this.alertsWrapper).stop(),e){var t=1/(e/(-1*this._curPos)),n=e/this.options.speed*(1-t);u(this.alertsWrapper).animate({marqueePos:-1*e},{easing:"linear",start:this._curPos,progress:this.setPos,duration:1e3*n,complete:this.onComplete})}else this.alertsWrapper.classList.remove("m-marquee")}},{key:"attached",value:function(){l.resize.on(this.calculateSpeed),t.subscribe("noObtrusiveAnimation",this.onnoObtrusiveAnimation,!0)}},{key:"detached",value:function(){l.resize.off(this.calculateSpeed),t.unsubscribe("noObtrusiveAnimation",this.onnoOter:"pause",mouseleave:"resume",rb_focusenter:"pause",rb_focusleave:function(){this.alertsWrapper.parentNode.scrollLeft=0,this.resume()},"rb_intersect:margin(50)":function(e){e.originalEvent&&"initturn e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";var i,r,a;r=[],void 0===(a="function"==typeof(i=function(){var e=window.rb,t=e.$||window.jQuery,n=e.Symbol("focusEnterLeave");["rb_focusenter","rb_focusleave"].forEach((function(i){e.events.special[i]={setup:function(e){var i=void 0,r=void 0,a=void 0,o=void 0,s=e[n];return s||(a=function(){return document.activeElement&&(e==document.activeElement||e.contains(document.activeElement))},r=function(){a()||(o=!1,s.rb_focusleaveCbs.fireWith(i.target,[{target:i.target,type:"n(e){o||(o=!0,s.rb_focusenterCbs.fireWith(e.target,[{target:e.target,type:"rb_focusenter"}]))},leave:function(e){o&&(i=e,setTimeout(r))},rb_focusenterCbs:t.Callbacks(),rb_focusleaveCbs:t.Callbacks()},o=a(),e.addEventListener("focus",s.enter,!0),e.addEventListener("blur",s.leave,!0),e[n]=s),s},add:function(e,t){this.setup(e)[i+"Cbs"].add(t)},remove:function(e,t){var r=e[n];r&&r.cbs&&(r[i+"Cbs"].remove(t),r.rb_focusenterCbs.has()||r.rb_focusleaveCbs.has()||(e.removeEventListener("focus",r.enter,!0),e.removeEventListener("blur",r.leave,!0),e[n]=null))}}}))})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(36),n(5),r=[t,n(40),n(241),n(175),n(237),n(300)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0});var o=d(t),s=d(n),l=d(i),u=d(r),c=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,u.default)("intersect"),p=Promise.resolve();function h(e){var t=void 0,n=void 0,i=void 0,r=void 0,a=e.target,o=a[f];if(o)for(t in o)if(o[t])for(i in o[t])(n=o[t][i])&&(r=(0,s.default)(a,n.margin,n.intersect),n.value!=r&&(n.value=r,n.cbs.fireWith(a,[{target:a,type:"rb_intersect",inViewport:r,originalEvent:e}])))}o.default.intersects=function(e,t,n){var i=e[f];return t=parseInt(t,10)||0,n=parseFloat(n)||0,i&&i[t]&&i[t][n]?i[t][n].value:(0,s.default)(e,t,n)},c.default.special.rb_intersect={add:function(e,t,n){var i=e[f],r=n&&n.margin&&parseInt(n.margin,10)||0,a=n&&n.intersect&&parseFloat(n.intersect)||0;i||(i={},e[f]=i,c.default.add(e,"rb_layoutchange",h)),i[r]||(i[r]={}),i[r][a]||(i[r][a]={value:(0,s.default)(e,r,a),margin:r,intersect:a,cbs:(0,l.default)()}),i[r][a].cbs.add(t),i[r][a].value&&p.then((function(){i[r][a].value&&t.call(e,{target:e,type:"rb_intersect",inViewport:!0,originalEvent:c.default.Event("initial")})}))},remove:function(e,t,n){var i=void 0,r=void 0,a=!0,o=e[f];if(o&&(i=n&&n.margin&&parseInt(n.margin,10)||0,r=n&&n.intersect&&parseFloat(n.intersect)||0,o[i]&&o[i][r]&&(o[i][r].cbs.remove(t),!o[i][r].cbs.has()))){for(i in o[i][r]=null,o)for(r in o[i])if(o[i][r]){a=!1;break}a&&(e[f]=null,c.default.remove(e,"rb_layoutchange",h))}}},e.default=o.default.intersects})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(2);n(158),n(19),n(9);var r=i(n(0)),a=i(n(3)),o=i(n(4)),s=i(n(601)),l=i(n(398)),u=i(n(211)),c=i(n(410)),d=i(n(411)),f=i(n(412)),p=i(n(415)),h=window.rb,m=[{id:"GuidedTourIndex",component:l.default},{id:"FormIndex",component:u.default},{id:"PinInput",component:c.default},{id:"Passport",component:d.default},{id:"Registration",component:f.default},{id:"ChangeOptionalData",component:p.default}],v=function(e){function t(){var e;(0,r.default)(this,t),e=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var n=new s.default.ContainerBuilder,i=!0,o=!1,l=void 0;try{for(var u,c=m[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value;n.register(d.component).as(d.id)}}catch(e){o=!0,l=e}finally{try{i||nullrn()}finally{if(o)throw l}}return e.setContainer(n.build()),e}return(0,o.default)(t,e),t}(s.default.Bootstrapper);h.$((function(){new v}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(394)),r=s(n(395)),a=s(n(397)),o=n(609);function s(e){return e&&e.__esModule?e:{default:e}}t.default={Bootstrapper:i.default,Container:r.default,ContainerBuilder:a.default,createBootstrapper:o.createBootstrapper},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HABITAT_PROP_urable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(210),o=(i=a)&&i.__esModule?i:{default:i};var s=t.HABITAT_HOST_KEY="habitatHostElement",l=t.HABITAT_NAMESPACE="data-habitat",u=t.ACTIVE_HABITAT_FLAG="data-has-habitat",c=t.HABITAT_PROP="data-prop-",d=t.HABITAT_PROP_JSON="data-props",f=t.HABITAT_PROP_NUMBER="data-n-prop-",p=t.HABITAT_PROP_REF="data-r-prop-",h=!1;function m(e){return(e.currentStyle||window.getComputedSty,v)}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"parseProps",value:function(e){for(var t={proxy:e},n=0;n<e.attributes.length;n++){var i=e.attributes[n];if(0===i.name.indexOf(c)){var r=g(c,i.name),a=i.value||"";"string"==typeof a&&"false"===a.toLowerCase()&&(a=!1),"string"==typeof a&&"true"===a.toLowerCase()&&(a=!0),"string"==typeof a&&a.length>=2&&("{"===a[0]&&"}"===a[a.length-1]||"["===a[0]&&"]"===a[a.length-1])&&(a=JSON.parse(a)),"string"==typeof a&&"null"===a.toLowerCase()&&(a=null),t[r]=a}else if(i.name===d)Object.assign(t,JSON.parse(i.value));else if(0===i.name.indexOf("data-n-prop-")){t[g(f,i.name)]=parseFloat(i.value)}else if(window&&0===i.name.indexOf(p)){t[g(p,i.name)]=window[i.value]}}return t}},{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(window.document.body===e||null==e)return o.default.warn("RHW04","Cannot open a habitat for element.",e),null;var i=e.getAttribute("data-habitat-tag")||n.tag||null;i||(i="span","block"===m(e)&&(i="div"));var r=window.document.createElement(i),a=e.getAttribute("data-habitat-class")||n.className||null,c="boolean"==typeof n.replaceDisabled&&n.replaceDisabled;if(null!==e.getAttribute("data-habitat-no-replace")&&(c="true"===e.getAttribute("data-habitat-no-replace").toLocaleLowerCase()),r.setAttribute(l,t),a&&(r.className=""+a),e.parentNode.insertBefore(r,e.nextSibling),"INPUT"!==e.tagName){if(!c){var d=e.parentNode.removeChild(e);try{r[s]=d}catch(e){h&&(o.default.warn("RHW06","Arbitrary properties are disabled. The container may not dispose correctly.",e),h=!0)}}}elseribute("type")&&e.setAttribute("style","display: none;");return r}},{key:"hasHabitat",value:function(e){return null!==e.getAttribute(u)}},{key:"destroy",value:function(e){try{void 0!==e[s]&&e.parentNode.insertBefore(e[s],e)}finally{e.parentNode.removnTime||o()},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(210),o=(i=a)&&i.__esModule?i:{default:i};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._operator=t,this._key=null,this._meta={}}return r(e,[{key:"as",value:function(e){if("string"==typeof e)return this._key=e,this;o.default.error("RHE13","Unexpected key ttProps",value:function(e){return this._meta.defaultProps=e,this}},{key:"withOptions",value:function(e){return this._meta.options=e,this}},{key:"operator",get:function(){return this._operator}},{key:"key",get:function(){return this._key}},{key:"meta",get:function(){return this._meta}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Mixin=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&n),i&&e(t,i),t}}();t.createBootstrapper=function(e){var t=arguments.length>1&&v new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=t._Mixin=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e.container)return console.warn('"Container" property was not supplied'),s(i);e.componentSelector&&(i.componentSelector=e.componentSelector),"boolean"==typeof e.enableWatcher&&(i.enableWatcher=e.enableWatcher);for(var r=new a.default(e.defaultOptions||null),o=0;o<e.container.length;o++){var l=void 0;l=e.container[o].forAsync?r.registerAsync(e.container[o].forAsync).as(e.container[o].register):r.register(e.container[o].for).as(e.container[o].register),e.container[o].withDefaultProps&&l.withDefaultProps(e.container[o].withDefaultProps),e.container[o].withOptions&&l.withOptions(e.container[o].withOptions)}return i._shouldUpdateProxy=e.shouldUpdate||null,i._willUpdateProxy=e.willUpdate||null,i._didUpdateProxy=e.didUpdate||null,i._willUnmountProxy=entProxy=e.d,{constructor:{value:e,enumerable:!1setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldUpdate",value:function(e){this._shouldUpdateProxy&&this._shouldUpdateProxy(e)}},{key:"willUpdate",value:function(){this._willUpdateProxy&&this._willUpdateProxy()}},{key:"didUpdate",value:function(){this._didUpdateProxy&&this._didUpdateProxy()}},{key:"willUnmountHabitats",value:function(){this._willUnmountProxy&&this._on(){this._didUnmoeil(d/u.length));return f.length>d&&(f=f.slice(0,d)),o?f+s:s+f}},function(e,t,n){var i=n(25);i(i.P,"Array",{fill:n(179)}),n(94)("fill")},function(e,t,n){"use strict";n(306)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(17),n(14);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"navigateTo",value:function(e){var t=(e||"").split("-"),n=this.options.urlPattern;t&&3==t.length&&n&&(n=(n=(n=n.replace("{yy}",t[0])).replace("{mm}",t[1])).replace("{dd}",t[2]),this._trigger("navigate",{url:n}).defaultPrevented||(location.href=n));this.close()}}],[{key:"defaults",get:function(){return{urlPattern:""}}},{key:"events",get:function(){return{datepickerchanged:function(e){this.navigateTo(this.component(e.target).value)}}}}]),t}(i(n(307)).default);rb.live.register("urlcalenderpanel",l);var u=l;t.default=u},function(e,t,n){"use strict";var i,r,a;r=[t,n(66),n(70),n(78),n(71),n(77)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0});var o=d(t),s=d(n),l=d(i),u=d(r),c=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,i){(0,o.default)(this,t);var r=(0,s.default)(this,e.call(this,n,i));return r._isFakeBtn=!r.element.matches("input, button"),r._resetPreventClick=r._resetPreventClick.bind(r),c.default.rAFs(r,{throttle:!0},"_switchOff","_switchOn","_setAriaControls"),r.setOption("args",r.options.args),r.options.switchedOff||r.setOption("switchedOff",!1),r}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{target:"",type:"toggle",args:null,switchedOff:!1}}}]),t.prototype._delegateFakeClick=function(e){this.options.switchedOff||!this._isFakeBtn||32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),("keyup"==e.type&&32==e.keyCode||"keydown"==e.type&&13==e.keyCode)&&(this._onClick(e),this._preventClick=!0,setTimeout(this._resetPreventClick,33)))},t.prototype._resetPreventClick=function(){this._preventClick=!1},t.prototype._simpleFocus=function(){try{this.element!=document.activeElement&&this.element.focus()}catch(e){}},t.prototype._onClick=function(e){var t=void 0;if(!(this.options.switchedOff||this._preventClick||this.element.disabled)){var n=this.getTarget(),i=n&&this.component(n);i&&(e&&this.options.preventDefault&&e.preventDefault&&e.preventDefault(),this.options.type in i&&(t=this.args,this._simpleFocus(),i.activeButtonComponent=this,"function"==typeof i[this.options.type]?i[this.options.type].apply(i,t):i[this.options.type]=t))}},t.prototype.setOption=function(t,n,i){switch(e.prototype.setOption.call(this,t,n,i),t){case"target":this._setTarget(n);break;case"args":()}},t.prototype._swit.prototype._switchOn=function(){this._isFakeBtn&&(this.element.setAttribute("role","button"),this.element.setAttribute("tabindex","0"))},t.prototype._setAriaControls=function(){this.target&&this.$element.attr({"aria-controls":this.getId(this.target)})},t.prototype._setTarget=function(e){e||(e=this.options.target),e||this.options.target||(e=this.element.getAttribute("aria-controls")),this.target="string"==typeof e?this.getElementsByString(e)[0]:e,this.targetAttr=e,this._setAriaControls()},t.prototype.getTarget=function(){var e=this.options.target||this.element.getAttribute("aria-controls");return(!this.target||e!=this.targetAttr&&e)&&this._setTarget(),this.target},(0,l.default)(t,null,[{key:"events",get:function(){return{click:"_onClick",keydown:function(e){if(!this.options.switchedOff){var t=void 0,n=this.panelComponent||(t=this.getTarget())&&this.component(t);n&&40==e.keyCode&&"true"==this.element.getAttribute("aria-haspopup")?("isOpen"in n&&n.isOpen?n.setComponentFocus():this._onClick(e),e.preventDefault()):this._delegateFakeClick(e)}},keyup:"_delegateFakeClick"}}}]),t}(a.Component);a.Component.register("button",f),e.default=f})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(i){var r,a,o;n(13),a=[],void 0===(o="function"==typeof(r=function(){var e=window.rb.$||window.jQuery||{fn:{}};function t(e,t,n){return Math.min((n.durationBase||350)+(t-e)*(n.durationMultiplier||.3),n.durationMax||900)}e.fn.rbSlideUp=function(n){var i=this;if(n||(n={}),this.length){var r=Object.assign({},n,{always:function(){if(this.style.display=n.display?"none":"",this.style.visibility="hidden",n.always)return n.always.apply(this,arguments)}});r.easing&&rb.addEasing(r.easing),this.stop().each((function(){var a=e(i);"auto"==n.duration&&(r.duration=t(0,a.innerHeight(),n)),a.animate({height:0},r)})).css({overflow:"hidden",display:"block",visibility:"inherit"})}return this},e.fn.rbSlideDown=function(n){var r,a=this;return n||(n={}),this.length&&(r=Object.assign({},n,{always:function(){if(this.style.overflow="",this.style.height="auto",n.always)return n.always.apply(this,arguments)}})).easing&&!rb.$.easing[r.easing]&&rb.addEasing(r.easing),this.each((function(){var o,s=e(this),l=s.innerHeight();s.css({overflow:"hidden",display:"block",height:"auto",visibility:"inherit"}),n.beforeCalculation&&n.beforeCalculation(s),o=s.innerHeight(),n.getHeight&&(a=o),void 0!==i&&i.env,"auto"==n.duration&&(r.duration=t(l,o,r)),s.css({height:l}).animate({height:o},r)})),a}})?r.apply(t,a):r)||(e.exports=o)}).call(this,n(99))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14),n(15);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=function(e){function t(e,n){var i;(0,r.default)(this,t);var o=(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).$element.closest(".js-calendar-group");return rb.rAFs(i,"dateChange","clear"),i.$input=o.find(".js-daterange-main"),i.$label=o.find(".label").eq(0),i.datepicker=i.component(".calendar-outerbox"),i.options.maxId&&(i.maxDatepicker=i.component(document.getElementById(i.options.maxId))),i.options.minId&&(i.minDatepicker=i.component(document.getElementById(i.options.minId))),i.datepicker.value&&i.dateChange(),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:funcefaultLabel:"",scrollCalendarIntoView:!1}}}]),(0,o.default)(t,[{key:"clear",value:function(){this.datepicker.value="",this.dateChange()}},{key:"dateChange",value:function(){var e=void 0,t=void 0,n=this.datepicker.value;n?((e=n.split("-")).reverse(),e=e.join("."),t=new Date(n).toISOString()):(t="",e=this.options.defaultLabel),this.maxDatepicker&&this.maxDatepicker.setOption("max",n),this.minDatepicker&&this.minDatepicker.setOption("min",n),this.$input.prop({value:t}),this.$label.html(e),this.close()}}],[{key:"events",get:function(){return{datepickerchanged:"dateChange","click:closest(.calendar-close)":"clear"}}}]),t}(i(n(307)).default);rb.live.register("calendarpicker",l);var u=l;t.default=u},function(e,t,n){"use strict";(function(e){n(14);var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=(e.$,function(t){function n(t,a){var o;return i(this,n),o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,a)),e.rAFs(o,"writeToUI","writeToApi"),o.getElements(),o.writeToUI(),o}return "}}}]),a(n,[{key:"getElements",value:function(){this.$fields=this.$queryAll(".{htmlName}-input"),this.api=this.query(".{htmlName}-api")}},{key:"writeToUI",value:function(){var e=this.api.value.split(",");this.$fields.get().forEach((function(t){t.checked=~e.indexOf(t.value)}))}},{key:"writeToApi",value:function(){var e=this.$fields.filter(":checked").get().map((function(e){return e.value})).join(",");this.api.value=e}}]),n}(e.Component));return e.live.register("js-checkboxarray",t),t},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(0),r=n(3),a=n(1),o=n(4),s=window.rb,l=(s.$,function(e){function t(e,n){var a;return i(this,t),(a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).hasValue=void 0,a.input=a.query(a.options.input),a.btn=a.query(a.options.clearButton),s.rAFs(a,{throttle:!0},"updateState","clearSearch"),a.reflow=s.throttle(a.updateState),a.input&&a.btn?a.updateState():a.logWarn("input or btn not found"),a}return o(t,e),a(t,null,[{key:"defaults",get:function(){return{input:".{name}-input",clearButton:".{name}-btn",placeholderAttributeName:"data-seartion(){return{"click:closest(.{name}-btn)":"clearSearch",input:"reflow","reset:@(closest(form)":function(){setTimeout(this.updateState)}}}}]),a(t,[{key:"updatePlaceholder",value:function(e){var t=e.getAttribute(this.options.placeholderAttributeName);this.input.setAttribute("placeholder",t)}},{key:"updateState",value:function(){var e=!!this.input.value;e!==this.hasValue&&(this.hasValue=e,this.$element.rbChangeState("value-within",e),this.btn.disabled=!this.hasValue)}},{key:"clearSearch",value:function(){this.input.value="",this.updateState(),this.input.focus()}}]),t}(s.Component));s.live.register("js-clearsearch",l),e.exports=l},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.activeTeaser=h,t.default=void 0,t.logViewport=p,n(15);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(241)),u=window.rb,c=u.$,d=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).resize=u.throttle(p,{that:i}),p(),i.scrollbox=u.getComponent(i.$element.find('[data-module="js-scrollbox"]').get(0)),i.scrollboxList=c(i.$element).find(".js-scrollbox-list").get(0),i.scrollboxList.addEventListener("scroll",i.scrol)":"openTeaserExtension","click:closest(.js-cteaser-close)":"closeTeaserExtension","keydown:keycodes(9(0,o.default)(t,[{key:"attached",value:function(){u.resize.on(this.resize)}},{key:"detached",value:function(){u.resize.off(this.resize)}},{key:"openTeaserExtension",value:function(e){var t=e.target.closest(".js-teaser-extend");t.classList.add("is-expanded"),this.element.classList.add("is-expanded"),(t.closest(".b-cluster")||t.closest(".cluster-poster")).classList.add("is-expanded"),this.animateCluster(),this.animateScroll(),this.addTe21Tracking(t),setTimeout((function(){var e=t.querySelector(".js-rb-autofocus");u.setFocus(e);var n=window.PointerEvent?"pointerup":"mouseup";u.events.dispatch(e,n)}),10)}},{key:"closeTeaserExtension",value:function(e){var n=e.target.closest(".js-teaser-extend");c(".b-cluster").removeClass("is-expanded"),n.classList.remove("is-expanded"),this.element.classList.remove("is-expanded"),t.removeTe21Tracking(n)}},{key:"closeTeaserExtensionWithTab",value:function(e){var t=e.target;t.classList.contains("js-cteaser-close")&&this.closeTeaserExtension(e),e.shiftKey&&t.classList.contains("m-clickarea-action")&&this.closeTeaserExtension(e)}},{key:"animateCluster",value:function(){var e=document.querySelector(".b-header").offsetHeight,t=(this.element.parentNode.classList.contains("b-cluster")||this.element.parentNode.classList.contains("b-cluster-poster")?this.element.parentNode:this.element).offsetTop;c([document.documentElement,document.body]).animate({scrollTop:t-e},200)}},{key:"animateScroll",value:function(){var e=this,t=c(this.scrollboxList).find(".js-teaser-extend"),n=this.element.classList.contains("lazyload-content")?1:0;t.get().forEach((function(t,i){if(t.classList.contains("is-expanded")){var r=t.offsetWidth,a=c(t).css("margin-left"),o=(r+parseInt(a.slice(0,a.length-2)))*(i+n);window.innerWidth<640?e.curScroll=o-(e.scrollboxList.offsetWidth-320)/2:window.innerWidth<1024?t.classList.contains("b-cluster-poster-teaser")?e.curScroll=o-(e.scrollboxList.offsetWidth-480)/2:e.curScroll=o-(e.scrollboxList.offsetWidth-320)/2:t.classList.contains("b-cluster-poster-teaser")?e.curScroll=o-(e.scrollboxList.offsetWidth-480)/2:e.curScroll=o-(e.scrollboxList.offsetWidth-350)/2}})),c(this.scrollboxList).stop().animate({scrollLeft:this.curScroll})}},{key:"scrollTeaserExtension",value:function(){var e=this;c(this).find(".js-teaser-extend").get().forEach((function(n){if(n.classList.contains("is-expanded")){var i=n.getBoundingClientRect(),r={};if(r.left=i.right<0,r.right=i.left>(e.innerWidth||e.clientWidth),r.any=r.left||r.right,r.any)(n.closest(".cluster")||n.closest(".cluster-poster")).classList.remove("is-expanded"),n.classList.remove("is-expanded"),t.removeTe21Tracking(n)}}))}},{key:"addTe21Tracking",value:function(e){var t=c(e).find(".m-clickarea-action"),n=t.get(0).getAttribute("data-placeholder-track-te21");t.get(0).setAttribute("data-track-te21",n),t.get(0).removeAttribute("data-placeholder-track-te21")}}],[{key:"removeTe21Tracking",value:function(e){var t=c(e).find(".m-clickarea-action"),n=t.get(0).getAttribute("data-track-te21");t.get(0).setAttribute("data-placeholder-track-te21",n),t.get(0).removeAttribute("data-track-te21")}}]),t}(u.Component);u.live.register("cluster-teaser-extension",d);var f=d;function p(){var e=document.querySelector(".cluster.is-expanded")||document.querySelector(".b-cluster.is-expanded")||document.querySelector(".cluster-poster.is-expanded");if(null!==e&&!(0,l.default)(e)){var t=c(e).find(".js-teaser-extend.is-expanded").get(0);t.classList.remove("is-expanded"),e.classList.remove("is-expanded"),d.removeTe21Tracking(t)}}function h(e){var t=null!==document.querySelector(".js-teaser-extend.is-expanded"),n=document.querySelector(".js-teaser-extend.is-expanded");if(t&&e.target!==n&&e.target.closest(".js-teaser-extend.is-expanded")!==n){var i=n.closest(".cluster")||n.closest(".cluster-poster")||n.closest(".b-cluster");n.classList.remove("is-expanded"),i.classList.remove("is-expanded"),d.removeTe21Tracking(n)}}t.default=f,window.addEventListener("scroll",p,!1),window.addEventListener("mouseup",h)},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14),n(28),n(26);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=window.rb,u=l.$,c=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).checkRecoCluster(),i}return(0,s.default)(t,e),(0,a.default)(t,[{key:"checkRecoCluster",value:function(){var e=u(this.element).parents(".b-cluster");if(e.length>0){var t=e.attr("data-contentclusterrecommendation-structure-node-path");t&&t.includes("/zdf/nachrichten")&&this.replaceInfoline()}}},{key:"replaceInfoline",value:function(){var e=this.options.text;if(e.includes("min")){var t=e.split(" ")[0]+" "+e.split(" ")[1];this.element.innerHTML='<dd class="teaser-info" aria-label="'+t+'">'+t+"</dd>"}else this.element.classList.add("hide")}}],[{key:"defaults",get:function(){return{text:""}}}]),t}(l.Component);l.live.register("news-infoline",c);var d=c;t.default=d},function(e,t,n){"use strict";var i,r,a=n(0),o=n(1),s=n(3),l=n(4);i=rb.$,r=function(e){function t(e,n){var r;return a(this,t),(r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).textElement=r.query(".js-text"),r.$textElement=i(r.textElement),r.closed=!0,r}return l(t,e),o(t,[{key:"animateDimension",value:function(e,t){var n=this.textElement.offsetHeight;this.$element[e?"addClass":"removeClass"]("m-active"),this.$textElement.stop(),this.textElement.style.height="";var i=this.textElement.offsetHeight;this.$element[e?"removeClass":"addClass"]("m-active"),this.$textElement.css({height:n+"px"}),this.$textElement.animate({height:i},{duration:this.options.duration,easing:this.options.easing,always:t})}},{key:"close",value:function(){var e=this;this.closed=!0,this.animateDimension(!1,(function(){e.element.classLiseight=""}))}},{key:"open",value:function(){var e=this;this.closed=!1,this.animateDimension(!0,(function(){e.textElement.style.height=""})),this.$element.addClass("m-active")}},{key:"toggle",value:function(){this.closed?this.open():this.close()}}],[{key:"defaul"ease-out"}}},{key:"events",get:function(){return{click:"toggle","keydown:keycodes(13 32)":function(e){this.toggle(),e.preventDefault()}}}}]),t}(rb.Component),rb.live.register("js-collapse-text",r),e.exports.CollapseText=r},function(e,t,n){"use strict";(function(e){var t=n(2);n(10),n(13),n(15);var i,r=t(n(0)),a=t(n(3)),o=t(n(1)),s=t(n(4)),l=t(n(11)),u=t(n(308));i=function(){var e=window.rb,t=n(419),i=n(7),l=n(420),c=n(309);e.templates.commentreply=e.templates.commentreply||{reply:n(624)};var d=function(n){function d(e,t){var n;return(0,r.default)(this,d),(n=(0,a.default)(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,t))).$listContainer=n.$element.fin,hideClass:"hide",ammoutClass:".replies-amount",commentTextClass:".comment-textarea",commentForm:"comment-replyform",newReplyNotice:""}}},{key:"events",get:function(){return{"click .reply-open":function(e){this.hideShowElement(this.$element.find(this.options.replyContainer))},"click .hide-all":function(e){this.hideReplies()},"click .show-all":function(e){this.showReplies()}}}}]),(0,o.default)(d,[{key:"getReplyCommentForm",value:function(){var e=this.$element.find("."+this.options.commentForm).elements[0];this.commentForm=e?this.component(e):null,e&&this.commentForm&&e.addEventListener("comment-replyformchanged",this.handleNewFormComment.bind(this)),this.commentForm||this.logWarn("commentsList not found",this.options.list)}},{key:"detached",value:function(){this.commentForm&&this.commentForm.element.removeEventListener("comment-replyformchanged",this.handleNewFormComment.bind(this))}},{key:"handleNewFormComment",value:function(t){var n=i.getState();if(t.detail){var r=Object.assign(t.detail,{commentId:e.getID(),newReplyNotice:this.options.newReplyNotice,createdDate:(new Date).toISOString(),text:t.detail.comment||""});void 0!==r.userId?r["http://zdf.de/rels/identity"]={name:r.userId}:r["http://zdf.de/rels/identity"]={name:n.info.name},this.appendReplyComments(r,!0)}}},{key:"getReplyComments",value:function(){var e=this,n="/user-feedback/comments?object="+this.$element.attr(this.options.objectIdAttr)+"&parentId="+this.$element.attr(this.options.commentIdAttr),i=this;t.getData(n).then((function(t){t&&(t.length>0?(i.appendReplyComments(t,!1),e.$element.find(e.options.ammoutClass).html(t.length)):.options.hideClass))}),(function(){error(container)}))}},{key:"hideShowElement",value:function(e){e.toggleClass(this.options.hideClass)}},{key:"hideReplies",value:function(e){this.$element.find(this.options.replyList).addClass(this.options.hideClass),this.$element.find(this.options.showAllButton).removeClass(this.options.hideClass),this.$element.find(this.options.hideAllButton).addClass(this.options.hideClass)}},{key:"showReplies",value:function(e){this.$element.find(this.options.replyList).removeClass(this.options.hideClass),this.$element.find(this.options.hideAllButton).removeClass(this.options.hideClass),this.$element.find(this.options.showAllButton).addClass(this.options.hideClass)}},{key:"appendReplyComments",value:function(e,t){var n=[].concat(e);n.length?t?this.renderReplyComments(this.getHtmlForReplyComments(n,!0),!0):this.renderReplyComments(this.getHtmlForReplyComments(n,!1),!1):this.log("No Comments to render.")}},{key:"getHtmlForReplyComments",value:function(e,t){var n=this,i=t;return e.map((function(e){var t=c(e["http://zdf.de/rels/identity"]);return"name"in t&&(t.name=l(t.name)),n.render("reply",Object.assign({},e,{replyId:e.commentId,showTemporal:i,identity:t,reply:e.reply,newReplyNotice:n.options.newReplyNotice,text:(0,u.default)(e)}))})).reduce((function(e,t){return e+t}),"")}},{key:"renderReplyComments",value:function(e,t){t?(this.$listContainer.prepend(e),this.$listContainer.removeClass("hide")):this.$listContainer.append(e)}}]),d}(e.Component);return e.live.register("commentreply",d),d},"object"===(0,l.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,i=Object.getPrototypeOf,r=Object.get,o=Object.seal,s=Object.create,l="undefined"!=typeof Reflect&&Refll].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var d,f=k(Array.prototype.forEach),p=k(Array.prototype.pop),h=k(Array.prototype.push),m=k(String.prototype.toLowerCase),v=k(String.prototype,k(n.get);if("function"==typeof n.value)return k(n.value)}e=i(e)}return function(e){return console.warn("fallback value for",e),null}}var P=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),x=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),C=a(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),I=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=a(["#text"]),j=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),M=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=o(/\{\{[\s\S]*|[\s\S]*\}\}/gm),F=o(/<%[\s\S]*|[\s\S]*%>/gm),z=o(/^data-[\-\w.\u00B7-\uFFFF]/),U=o(/^aria-[\-\w]+$/),H=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=o(/^(?:\w+script|data):/i),V=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?functmbol",nreatePolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),n=function(t){return e(t)};if(n.version="2.3.4",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,r=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,l=t.Node,u=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,k=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,K=t.HTMLFormElement,Y=t.DOMParser,Z=t.trustedTypes,Q=u.prototype,J=E(Q,"cloneNode"),X=E(Q,"nextSibling"),ee=E(Q,"childNodes"),te=E(Q,"parentNode");if("function"==typeof s){var ne=r.createElement("template");ne.content&&ne.content.ownerDocument&&(r=ne.content.ownerDocument)}var ie=G(Z,i),re=ie&&Me?ie.createHTML(""):"",ae=r,oe=ae.implementation,se=ae.createNodeIterator,le=ae.createDocumentFragment,ue=ae.getElementsByTagName,ce=i.importNode,de={};try{de=O(r).documentMode?r.documentMode:{}}catch(e){}var fe={};n.isSupported="function"==typeof te&&oe&&void 0!==oe.createHTMLDocument&&9!==de;var pe=R,he=F,me=z,ve=U,ge=B,ye=V,be=H,_e=null,we=S({},[].concat($(P),$(T),$(x),$(A),$(D))),ke=null,Se=S({},[].concat($(j),$(L),$(N),$(M))),Oe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,Pe=null,Te=!0,xe=!0,Ce=!1,Ae=!1,Ie=!1,De=!1,je=!1,Le=!1,Ne=!1,Me=!1,Re=!0,Fe=!0,ze=!1,Ue={},He=null,Be=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,We=S({},["audio","video","img","source","image","track"]),$e=null,qe=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1ext(He,e.FORBID_CONTENTS)),Fe&&(_e["#text"]=!0),Ie&&S(_e,["html","head","body"]),_e.table&&(S(_e,["tbody"]),delete Ee.tbody),a&&a(e),nt=e)},ot=S({},["mi","mo"etun])attnt;bodtio?"ued"(t,f("t||nodnextNode();)gt("uponSanitizeShadowNode",n,null),yt(n)||(n.content instanceof o&&e(n.content),wt(n));gt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var a=void 0,s=void 0,u=void 0,c=void 0,d=void 0;if((Qe=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!vt(e)){if("function"!=typeof e.toString)throw w("toString is not a function");if("string"!=typeof(e=e.toString()))throw w("dirty is not a string, aborting")}if(!n.isSupported){if("object"===W(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(vt(e))return t.toStaticHTML(e.outerHTML)}return e}if(De||at(r),n.removed=[],"string"==typeof e&&(ze=!1),ze);else if(e instanceof l)1===(s=(a=pt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!Le&&!Ae&&!Ie&&-1===e.indexOf("<"))return ie&&Me?ie.createHTML(e):e;if(!(a=pt(e)))return Le?null:re}a&&je&&dt(a.firstChild);for(var f=ht(ze?e:a);u=f.nextNode();)3===u.nodeType&&u===c||yt(u)||(u.content instanceof o&&kt(u.content),wt(u),c=u);if(c=null,ze)return e;if(Le){if(Ne)for(d=le.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return ke.shadowrootar p=Ie?a.outee&&(p=g(p,pe," "),pat(e),De=!tion(e,t,n){n;return bt(i,runction"==typeof ],h(fe[e],t))},n.removeHook=function(e){fe[e]&&p(fe[e])},n.removeHooks=function(e){fe[e]&&(fe[e]=[])},n.removeAllHooks=function(){fe={}},n}()}()},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<li id="reply-'+(null==(__t=replyId)?"":__t)+'" class="b-comment-reply reply-item" data-reply-id="'+(null==(__t=replyId)?"":__t)+'">\n    <div class="comment-content">\n        <div class="comment-head',identity.avatar&&(__p+=" m-avatar"),__p+='">\n            ',identity.avatar&&(__p+='\n                <img class="avatar lazyload" data-src="'+(null==(__t=identity.avatar)?"":__t)+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="'+(null==(__t=identity.avatarAltText)?"":__t)+'">\n            '),__p+="\n            ",identity.name&&(__p+='\n                <div class="name">'+(null==(__t=identity.name)?"":__t)+"</div>\n            "),__p+="\n            ",createdDate&&(__p+='\n                <time class="comment-date lazyload" datetime="'+(null==(__t=createdDate)?"":__t)+'" data-module="dateformatter"></time>\n            '),__p+='\n        </div>\n\n        <blockquote id="comment-text-'+(null==(__t=commentId)?"":__t)+'" class="comment js-rb-live" data-module="maxheighttextdisplay">\n            '+(null==(__t=text)?"":__t)+"\n        </blockquote>\n        ",showTemporal&&(__p+='\n            <em class="comment-notice" aria-live="polite">'+(null==(__t=newReplyNotice)?"":__t)+"</em>\n        "),__p+="\n    </div>\n</li>\n";return __p}},function(e,t,n){"use strict";(function(e){n(15);var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11);t=function(){var e=window.rb,t=(e.$,window.zdfsite.apiService),s=function(e){function n(){return i(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),r(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.resetErrorMessages(),this.addComment({comment:(this.$element.find(".comment-textarea").elements[0].value||{value:""}).trim()})}},{key:"getApiUrl"et:function(){return{newCommentNotice:"",commentMessage:".comment-reply",commentReplyAttr:"data-comment-reply",guestCommentsAllowed:!1}}},{key:"events",get:function(){return{submit:"handleSubmit"}}}]),n}(n(418));return e.live.register("comment-replyform",s),s},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){n(10);var t,i=n(0),r=n(3),a=n(4),o=n(11);t=function(){var e=window.rb,t=(window.rb.$,n(7)),o=function(e){function n(e,a){var o;return i(this,n),o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,a)),t.ready.then((function(){t.isArdUser()&&0===t.getState().info.name.length?(o.$queryAll(".register-please").removeClass("hide-for-logged-in"),o.$queryAll(".register-please").addClass("show-for-ard-users")):t.isArdUser()&&o.$queryAll(".comment-form-submit").removeClass("hide-for-ard-users")})),o}return a(n,e),n}(e.Component);return e.live.register("comment-settings-for-ard-users",o),o},"object"===o(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t=n(2),i=t(n(53));n(10),n(13),n(82);var r,a=t(n(0)),o=t(n(3)),s=t(n(35)),l=t(n(1)),u=t(n(4)),c=t(n(11)),d=t(n(308));r=function(){var e=window.rb,t=e.$,r=window.zdfsite.apiService,c=n(178),f=n(7),p=n(309);e.templates.commentslist=e.templates.commentslist||{comment:n(628)};var h=function(n){function h(n,i){var r;return(0,a.default)(this,h),(r=(0,o.default)(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,n,i))).apiNext=r.options.first,r._isLoading=!1,r.commentForm=null,r.listPanel=null,r.initialRender=!0,r.showFull=r.options.showFull,r.reloadInterval=null,r.displayedCommentIds=[],r.$listContainer=t(r.query(r.options.listContainerSel)),e.rAFs(r,"changedLoadingState","hideShowMoreButton","renderNewComments"),r.handleNewFormComment=r.handleNewFormComment.bind(r),r.objectId=r.getQueryString("object",r.options.first),r.commentsPerPage=r.getQueryString("limit",r.options.first)||4,r.fadeOutTimeouts=[],r.animateOpts={duration:r.options.duration,easing:r.options.easing},r.defaultAddCommentsOpts={fast:!1,prepend:!1,openPanel:!1,fadeOut:!1},r.getListPanel(),r.getCommentForm(),r.options.enableReload&&r.options.reloadInterval&&(r.options.answersEnabled=!1,r.reloadInterval=setInterval((function(){return r.reload()}),1e3*r.options.reloadInterval)),r.loadNext(),r}return(0,u.default)(h,n),(0,l.default)(h,null,[{key:"defaults",get:function(){return{commentsUrl:"",first:"",apiService:r,showFull:"Kommentar vollständig anzeigen",duration:500,easing:"ease-in-out",fadeOutTimeout:1e4,commentForm:"",guestCommentsAllowed:"",answersEnabled:"",replyPlaceholder:"",newReplyNotice:"",refuseReplyText:"",guestNameTitle:"",guestNamePlaceholder:"",listPanel:'find([data-module="js-panel"])',enableReload:!1,reloadInterval:5,listContainerSe,loadingClass:"m-loading"}}},{key:"events",get:function(){return{"click .{name}-btn-more":function(e){e.target.disabled||this.loadNext()}}}}]),(0,l.default)(h,[{key:"detached",value:function(){this.commentForm&&this.commentForm.element.removeEventListener("commentformchanged",this.handleNewFormComment),this.reloadInterval&&clearInterval(this.reloadInterval),this.fadeOutTimeouts.forEach((function(e){return clearTimeout(e)}))}},{key:"getQueryString",value:function(e,t){var n=t||window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(n);return i?i[1]:null}},{key:"setOption",value:function(e,t){(0,s.default)(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"setOption",this).call(this,e,t),"commentForm"==e&&this.getCommentForm(),"listPanel"==e&&this.getListPanel()}},{key:"getCommentForm",value:function(){var e=this.getElementsByString(this.options.commentForm)[0];this.commentForm=e?this.component(e):null,e&&this.commentForm&&e.addEventListener("commentformchanged",this.handleNewFormComment),this.commentForm||this.logWarn("commentsList not found",this.options.list)}},{key:"handleNewFormComment",value:function(t){var n=f.getState();if(t.detail){var i=Object.assign(t.detail,{commentId:e.getID(),createdDate:(new Date).toISOString(),text:t.detail.comment||"",replyPlaceholder:this.options.replyPlaceholder,newReplyNotice:this.options.newReplyNotice,refuseReplyText:this.options.refuseReplyText,guestNameTitle:this.options.guestNameTitle,guestNamePlaceholder:this.options.guestNamePlaceholder,isTemporary:!0});void 0!==i.userId?i["http://zdf.de/rels/identity"]={name:e.escape(i.userId||"")}:i["http://zdf.de/rels/identity"]={name:e.escape(n.info.name||"")},this.renderNewComments(this.getHtmlForComments([i]),{prepend:!0,openPanel:!0,fadeOut:!0})}}},{key:"getListPanel",value:function(){var e=this.getElementsByString(this.options.listPanel)[0];return this.listPanel=e?this.component(e):null,!e||this.listPanel,this.listPanel}},{key:"loadCommentsFromApi",value:function(e,t,n){var i=this;this.isLoading=!0,-1===e.indexOf("://")&&(e=this.options.apiService+e),c(e).then((function(e){i.processData(e.data,t,n),i.isLoading=!1}),(function(e){i.logError("load of data failed",e),n&&(i.logInfo("still showing merge data"),i.addComments(n,t)),i.isLoading=!1}))}},{key:"loadNext",value:function(){if(this.options.commentsUrl){var e=Math.floor(this.displayedCommentIds.length/this.commentsPerPage)+1,t=-1===this.options.commentsUrl.indexOf("?")?"?":"&",n="".concat(this.options.commentsUrl).concat(t,"page=").concat(e,"&limit=").concat(this.commentsPerPage);this.loadCommentsFromApi(n)}else this.logError("no comments base url specified!")}},{key:"reload",value:function(){this.options.first?this.loadCommentsFromApi(this.getApiUrl(this.options.first,!0),!0):this.logError("no comments url specified",this.options.first)}},{key:"loadMore",value:function(e,t,n){this.loadCommentsFromApi(this.getApiUrl(e,n),n,t)}},{key:"getApiUrl",value:function(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+"cacheTime=liveReload":e}},{key:"processData",value:function(e,t,n){if(t||(e.next?this.apiNext=e.next:this.apiNext=""),"http://zdf.de/rels/comments"in e){var r=e["http://zdf.de/rels/comments"],a=!!e.next,o=!!t&&a&&this.displayedCommentIds.length>0;if(this.displayedCommentIds.length>0)for(var s=0;s<r.length;s++)-1!==this.displayedCommentIds.indexOf(r;if(n){var l=n.map((function(e){return e.commentId}));n.push.apply(n,(0,i.default)(r.filter((function(e){return l.indexOf(e.commentId)<0}))))}var u=n||r;if(t||(u.length>=this.commentsPerPage&&(o=!1,u.splice(this.commentsPerPage)),u.length<this.commentsPerPage&&(o=a)),o)return void this.loadMore(e.next,u,t);this.addComments(u,t)}else this.logError("no comments found in given data"),n&&(this.logInfo("but rendering other comments"),this.addComments(n,t))}},{key:"addComments",value:function(e,t,n){var r,a=[].concat(e);a.length?(t&&(n={prepend:!0}),this.renderNewComments(this.getHtmlForComments(a),n),(r=this.displayedCommentIds).push.apply(r,(0,i.default)(a.map((function(e){return e.commentId}))))):this.log("no comments to render.")}},{key:"getHtmlForComments",value:function(e){var t=this,n=this;return e.map((function(e){return t.render("comment",Object.assign({},e,{identity:p(e["http://zdf.de/rels/identity"]),objectId:n.objectId,reply:e.reply,text:(0,d.default)(e),showFull:n.showFull,guestCommentsAllowed:n.options.guestCommentsAllowed,answersEnabled:n.options.answersEnabled,replyPlaceholder:n.options.replyPlaceholder,newReplyNotice:n.options.newReplyNotice,refuseReplyText:n.options.refuseReplyText,guestNameTitle:n.options.guestNameTitle,guestNamePlaceholder:n.optioLoggedUser:f.isLoggedIn(),isTemporary:e.isTemporary||!1,notice:e.notice||!1,isPinned:e.pinned||!1}))})).reduce((function(e,t){return e+t}),"")}},{key:"renderNewComments",value:function(e,n){var i=this,r=Object.assign({},this.defaultAddCommentsOpts,n),a=r.prepend?"prepend":"append";if(r.openPanel&&this.listPanel&&this.listPanel.open({animationPrevented:!0}),this.initialRender&&this.$listContainer.children().remove(),r.fast)this.$listContainer[a](e);else{var o=document.createElement("div");if(o.innerHTML=e,this.$listContainer[a](o),r.fadeOut){var s=t(o).children().get();this.fadeOutTimeouts.push(setTimeout((function(){i.fadeOutTimeouts.shift(),s&&i.animateCommentsOut(s)}),this.options.fadeOutTimeout))}this.animateCommentsIn(o)}this.initialRender=!1,this.hideShowMoreButton()}},{key:"animateCommentsIn",value:function(e){var n=t(e),i=n.css("height");n.stop(!0,!0),n.css({height:"0px",overflow:"hidden"}).animahis.animateOpts,{always:function(){n.css({height:"",overflow:""}),n.children().get().forEach((function(t){e.parentNode.insertBefore(t,e)})),n.remove()}}))}},{key:"animateCommentsOut",value:function(e){var n=this;e.forEach((function(e){var i=t(e);i.stop(!0,!0),i.animate({opacity:0},Object.assign({},n.animateOpts,{always:function(){i.remove()}}))}))}},{key:"hideShowMoreButton",value:function(){var e=this.query(this.options.moreBtnSel),n=this.isLoading||!this.apiNext;t(e).toggleClass("m-hidden",n)}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=!!e,this.changedLoadingState()}}]),h}(e.Component);return e.live.register("commentslist",h),h},"object"===(0,c.default)(e)&&e.exports?e.exports=r():r()}).call(this,n(12)(e))},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='\n\n\n\n\n    <li id="comment-'+(null==(__t=commentId)?"":__t)+'" class="comment-item',notice&&(__p+=" m-pending"),__p+='" ',isPinned&&(__p+=' style="order: -1;" '),__p+='>\n        <div class="comment-content">\n\n            <div class="comment-head',identity.avatar&&(__p+=" m-avatar"),__p+='">\n                ',identity.avatar&&(__p+='\n                    <img class="avatar lazyload" data-src="'+(null==(__t=identity.avatar)?"":__t)+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="'+(null==(__t=identity.avatarAltText)?"":__t)+'">\n                '),__p+="\n                ",identity.name&&(__p+='\n                    <div class="name">'+(null==(__t=identity.name)?"":__t)+"</div>\n                "),__p+="\n                ",createdDate&&(__p+='\n                    <time class="comment-date lazyload" datetime="'+(null==(__t=createdDate)?"":__t)+'" data-module="dateformatter"></time>\n                '),__p+='\n            </div>\n\n            <blockquote id="comment-text-'+(null==(__t=commentId)?"":__t)+'" class="comment js-rb-live" data-module="maxheighttextdisplay">\n                '+(null==(__t=text)?"":__t)+'\n            </blockquote>\n\n            <button class="toggle-comment js-rb-live js-track-click" data-module="js-panelbutton"\n                    title="'+(null==(__t=showFull)?"":__t)+'" aria-controls="comment-text-'+(null==(__t=commentId)?"":__t)+'"\n                    data-track=\'{"element": "Kommentar-Modul", "action": "{aria-expanded?Zuklappen:Aufklappen}"}\'>\n                <span class="comment-toggle icon-203_arrow-down" aria-hidden="true"></span>\n            </button>\n\n            ',notice&&(__p+='\n                <em class="comment-notice" aria-live="polite">'+(null==(__t=notice)?"":__t)+"</em>\n            "),__p+='\n\n            \x3c!-- <button class="delete-comment icon-209_close" title="Kommentar löschen" aria-label="Kommentar löschen" data-id="{{commentId}}"></button> --\x3e\n        </div>\n        ',answersEnabled&&!isTemporary&&(__p+='\n            <div class="b-comment-reply js-rb-live" data-comment-id="'+(null==(__t=commentId)?"":__t)+'" data-object-id="'+(null==(__t=objectId)?"":__t)+'" data-commentreply-new-reply-notice="'+(null==(__t=newReplyNotice)?"":__t)+'" data-module="commentreply">\n            ',guestCommentsAllowed?__p+='\n                <div class="reply reply-open">Antwort <button class="button text-only js-rb-click" type="button" title="Eine Antwort auf den Kommentar schreiben">schreiben</button></div>\n                <div class="reply hide-for-logged-in"><button class="button text-only js-rb-click" type="button" title="Melden Sie sich an" data-module="button" aria-controls="aria-login-dialog" data-scroll-top="true">Anmelden</button></div>\n            ':__p+='\n                <div class="reply hide-for-anonymous reply-open">Antwort <button class="button text-only js-rb-click" type="button" title="Eine Antwort auf den Kommentar schreiben">schreiben</button></div>\n                <div class="reply hide-for-logged-in">Antwort schreiben -  bitte <button class="button text-only js-rb-click" type="button" title="Melden Sie sich an" data-module="button" aria-controls="aria-login-dialog" data-scroll-top="true">anmelden</button>.</div>\n            ',__p+='\n\n                <div class="reply-wrap hide">\n                    <form class="comment-form js-rb-click comment-replyform clearfix" data-comment-reply="'+(null==(__t=reply)?"":__t)+'" data-module="comment-replyform" data-comment-replyform-guest-comments-allowed='+(null==(__t=guestCommentsAllowed)?"":__t)+'>\n                        <p class="form-title">Antwort</p>\n                        <p class="error-item m-error" role="alert">\n                            <span class="error-msg">\n                                Beim Speichern des Kommentars ist ein Fehler aufgetreten. Bitte versuchen Sie es später noch einmal.\n                            </span>\n                        </p>\n                        <p class="error-item m-error-404" role="alert">\n                            <span class="error-msg">\n                                Diese Antwort können wir (zur Zeit) leider nicht annehmen.\n                            </span>\n                        </p>\n                        ',guestCommentsAllowed&&!isLoggedUser&&(__p+='\n                            <label class="form-field" for="visitor-'+(null==(__t=commentId)?"":__t)+'">\n                                <span class="form-field-label">'+(null==(__t=guestNameTitle)?"":__t)+'</span>\n                                <div class="form-field-input-wrap">\n                                    <input id="visitor-'+(null==(__t=commentId)?"":__t)+'" class="input hide-for-logged-in js-rb-autofocus" name="visitor" title="'+(null==(__t=guestNameTitle)?"":__t)+'" type="text" placeholder="'+(null==(__t=guestNamePlaceholder)?"":__t)+'" value="" required>\n                                </div>\n                            </label>\n                        '),__p+='\n\n                        <label class="textarea-label" for="reply-textarea-'+(null==(__t=commentId)?"":__t)+'">Deine Antwort</label>\n                        <textarea id="reply-textarea-'+(null==(__t=commentId)?"":__t)+'" name="comment-reply" class="comment-textarea js-rb-live" placeholder="'+(null==(__t=replyPlaceholder)?"":__t)+'" data-module="growingtextarea" required></textarea>\n\n                        <div class="comment-form-submit">\n                            <button class="comment-stop button secondary is-inverted round medium" type="reset">'+(null==(__t=refuseReplyText)?"":__t)+'</button>\n                            <button class="comment-submit button primary round medium js-track-click" type="submit"\n                                    data-track=\'{"element": "Antwort-Modul", "action": "Antwort_abschicken"}\'>\n                                Abschicken\n                            </button>\n                        </div>\n                    </form>\n                </div>\n                <div class="reply-count show-all-replies"><span class="replies-amount"></span> ',1==totalResponseCount?__p+="Antwort":__p+="Antworten",__p+=' <button class="show-all button text-only js-rb-click" type="button" title=" anzeigen">anzeigen</button></div>\n                <div class="reply-count hide hide-all-replies">Alle Antworten <button class="hide-all button text-only js-rb-click" type="button" title="Antworten verbergen">verbergen</button></div>\n                <ul class="hide comment-reply-list"></ul>\n            </div>\n        '),__p+="\n    </li>\n";return __p}},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=e.$,n=function(n){function s(t,n){var a;return i(this,s),a=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,n)),e.rAFs(a,"setNewHeight"),a.handleFormReset=a.handleFormReset.bind(a),a.updateTextarea=e.throttle(a.updateTextarea,{that:a,read:!0}),a}return o(s,n),a(s,null,[{key:"defaults",events",get:function(){return{input:"updateTextarea",focusin:"updateTextarea",focusout:function(){this.updateTextarea("withLayoutThrashing")}}}}]),a(s,[{key:"updateTextarea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.textareaHasText=!!this.element.value,"withLayoutThrashing"===t&&(this.element.style[this.options.heightStyle]="0px"),this.setNewHeight(this.textareaHasText?this.element.scrollHeight:0),e.events.dispatch(this.element,"textareaChanged")}},{key:"setNewHeight",value:function(e){void 0!==e?this.element.style[this.options.heightStyle]=e?e+"px":"":this.log("no newHeight given")}},{key:"handleFormReset",value:function(){this.updateTextarea()}},{key:"attached",value:function(){this.element.form&&t(this.element.form).on("reset",this.handleFormReset)}},{key:"detached",value:function(){this.element.form&&t(this.element.form).off("reset",this.handleFormReset)}}]),s}(e.Component);return e.live.register("growingtextarea",n),n},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=(e.$,function(t){function n(t,a){var o;return i(this,n),o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,a)),e.rAFs(o,"open","close","disable"),o.isOpen=o.element.classList.contains(o.getStateClass(o.options.stateOpen)),setTimeout((function(){o.hasOverflow=o.checkForOverflow(),o.hasOverflow?o.close():o.disable()}),66),o}return o(n,t),a(n,null,[{key:"defaults",get:function(){return{maxHeightThreshold:10,stateOpen:"open",stateDisabled:"disabled"}}},{key:"events",get:function(){}}]),a(n,[{key:"toggle",value:function(e){return this[this.isOpen?"close":"open"](e)}},{key:"checkForOverflow",value:function(){return this.hasOverflow=Math.max(0,this.element.scrollHeight-this.options.maxHeightThreshold)>parseFloat(this.$element.css("height")),this.hasOverflow}},{key:"disable",value:function(e){this.open(e),this.disabled=!0,this.$element.addClass(this.getStateClass(this.options.stateDisabled))}},{key:"open",value:function(e){this.isOpen=!0,this.$element.addClass(this.getStateClass(this.options.stateOpen)),this.trigger()}},{key:"close",value:function(e){this.isOpen=!1,this.$element.removeClass(this.getStateClass(this.options.stateOpen)),this.trigger()}},{key:"openCloseAnimat:"getStateClass",value:function(t){return e.statePrefix+t}},{key:"isOpen",get:function(){return this._isOpen},set:function(e){this._isOpen=e}}]),n}(e.Component));return e.live.register("maxheighttextdisplay",t),t},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=i(n(141)),u=rb.$,c=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,null,[{key:"defaults",get:function(){return{multiple:!0,setFocus:!1}}},{key:"events",get:function(){return{"click .{name}-opener-btn":function(e){var t=u(e.target).closest(".js-scroller-cell").find(".item-title, .teaser-title").get(0);this.openAll(),t&&this.setFocus(t,99)},"click .{name}-close-btn":function(e){var t=u(e.target).closest(".js-scroller-cell").find(this.interpolateName(".{name}-opener-btn")).get(0);this.closeAll(),t&&this.setFocus(t,99)}}}}]),t}(l.default);rb.live.register("js-gallerypanelgroup",c);var d=c;t.default=d},function(e,t,n){"use strict";var i,r,a;n(10),r=[t,n(66),n(70),n(71)],void 0===(a="function"==typeof(i=function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0});var r=s(t),a=s(n),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var l=window.rb,u=l.Symbol("childOptionExpando"),c=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,o.default)(t,e),t.prototype._createChildOptions=function(e,t,n){var i=this,r={};return n||(r.jsName=this.interpolateName("{name}{e}"+e,!0),r.name=this.interpolateName("{name}{e}"+e)),this[u]||(this[u]={}),t.forEach((function(t){var n=void 0,a=void 0,o=t.computeValue;"string"==typeof t?(n=t,a=t):(n=t.name,a=t.childName||n),r[a]=o?o(i.options[n],n,i):i.options[n],i[u][n]||(i[u][n]={}),i[u][n][e]||(i[u][n][e]={components:[],compute:o,childName:a})})),r},t.prototype._createChildComponent=function(e,t,n,i){var r=this,a=l.getComponent(t,e,n);return i.forEach((function(t){var n="string"==typeof t?t:t.name;r[u][n][e].components.push(a)})),a},t.prototype.createChildComponent=function(e,t,n,i){var r=this._createChildOptions(e,n,i);return this._dComponents=function(e,t,n,i){var r=this,a=this._createChildOptions(e,n,i);return t.map((function(t){return r._createChildComponent(e,t,a,n)}))},t.prototype.setOptithis[u][t]){var a=function(e){var a=r[u][t][e],o=a.compute?a.compute(n,t,r):n;a.components.forEach((function(e){e.setOption(a.childName,o,i)}))};for(var o in this[u][t])a(o)}e.prototype.setOption.call(this,t,n,i)},t}(l.Component);l.live.register("_composer_component",c),e.default=c})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(e){n(17),n(9),n(8),n(5),n(18),n(85);var t,i=n(0),r=n(3),a=n(35),o=n(1),s=n(4),l=n(11);t=function(){var e=window.rb,t=function(t){function n(t,a){var o;return i(this,n),o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,a)),e.rAFs(o,"render"),o.updateDisplay=o.updateDisplay.bind(o),o.date=new Date(o.$element.attr("datetime")),o.updateDisplayRequest=null,o.minInterval=null,o.maxInterval=null,o.activeIntervalKeysLongestFirst=null,o.intervals={second:1e3,minute:6e4,hour4e5,decade:290304e6,century:290304e7},o.intervalKeysSorted=Object.keys(o.intervals).sort((function(e,t){return o.intervals[e]-o.intervals[t]})),o.updateMinMaxIntervals(),o.updateDisplay(),o}return s(n,t),o(n,null,[{key:"defaults",get:function(){return{format:"",minInterval:"minute",maxInterval:"year",sinceLabels:{second:{zero:"vor Kurzem",single:"vor einer Sekunde",multiple:"vor %1 Sekunden"},minute:{zero:"vor Kurzem",single:"vor einer Minute",multiple:"vor %1 Minuten"},hour:{zero:"innerhalb der letzten Stunde",single:"vor einer Stunde",multiple:"vor %1 Stunden"},day:{zero:"Heute",single:"Gestern",multiple:"vor %1 Tagen"},week:{zero:"innerhalb der letzten Woche",single:"vor einer Woche",multiple:"vor %1 Wochen"},month:{zero:"innerhalb des letzten Monats",single:"vor einem Monat",multiple:"vor %1 Monaten"},year:{zero:"innerhalb des letzten Jahres",single:"vor einem Jahr",multiple:"vor %1 Jahren"},decade:{zero:"innerhalb der letzten Dekade",single:"vor einer Dekade",multiple:"vor %1 Dekaden"},century:{zero:"innerhalb des letzten Jahrhunderts",single:"vor einem Jahrhundert",multiple:"vor %1 Jahrhunderten"}}}}},{key:"events",get:function(){return{}}}]),o(n,[{key:"setOption",value:function(e,t){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setOption",this).call(this,e,t),this.log(e,t),"minInterval"!=e&&"maxInterval"!=e||this.updateMinMaxIntervals()&&this.updateDisplay()}},{key:"updateMinMaxIntervals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.minInterval,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.maxInterval,n=this.minInterval,i=this.maxInterval,r=e in this.intervals&&t in this.intervals,a=Object.keys(this.intervals),o=!0;return r||(this.logError("given new newMinInterval or newMaxInterval are invalid valid keys are:",a),o=!1),this.intervals[e]>this.intervals[t]&&(this.logError("minInterval needs to be smaller than maxInterval"),o=!1),this.minInterval=o?e:n||a[0],this.maxInterval=o?t:i||a[a.length-1],this.activeIntervalKeysLongestFirst=this.intervalKeysSorted.slice(this.intervalKeysSorted.indexOf(this.minInterval),this.intervalKeysSorted.indexOf(this.maxInterval)+1).reverse(),o}},{key:"updateDisplay",value:function(){var e=new Date-this.date;clearTimeout(this.updateDisplayRequest);var t=this.findLongesMatchingInterval(e);if(t){var n=this.calcExpiresIn(e,this.intervals[t.intervalKey]);n&&n<this.intervals.week&&(this.updateDisplayRequest=setTimeout(this.updateDisplay,n));var i=this.getTextToRender(t.intervalKey,t.counts);this.render(i)}else this.logWarn("did not find any matching interval for",e,this.activeIntervalKeysLongestFirst)}},{key:"getTextToRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.options.sinceLabels,i=n[e],r=void 0;return(r=t>1?i.multiple:t?i.single:i.zero)||(r="%1 ".concat(e," ago")),r.replace("%1",t)}},{key:"findLongesMatchingInterval",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeIntervalKeysLongestFirst,n=t[0],i=this.calcPassedIntervalCounts(e,this.intervals[n]);return i||t.length<=1?{intervalKey:n,counts:i||0}:this.findLongesMatchingInterval(e,t.slice(1))}},{key:"calcPassedIntervalCounts",value:function,{key:"calcExpiresIn",value:function(e,t){return Math.floor(t-Math.abs(e)%t)||t}},{key:"render",value:function(e){this.element.textContent=e}},{key:"detached",value:function(){this.log("detached"),clearTimeout(this.updateDisplayRequest)}}]),n}(e.Component);return e.live.register("dateformatter",t),t},"object"===l(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";!function(){n(635),n(421),n(636);rb.templates.d8)}}()},function(e,t,n){"use strict";var i,r,a;r=[t,n(40)],void 0===(a="function"==typeof(i=function(e,t){function n(e,t,n){return e?t:n||""}var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,(i=t,i&&i.__esModule?i:{default:i}).default.if=n})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[],void 0===(a="function"==typeof(i=function(){window.rb||(window.rb={}),window.rb.i18n||(window.rb.i18n={}),window.rb.i18n.formats||(window.rb.i18n.formats={}),window.rb.i18n.formats.de={numberFormat:{",":".",".":","},timeSigns:":. ",numberSigns:",",dateSigns:".",patterns:{d:"dd.mm.yy"},clear:"Löschen",previous:"Zurück",next:"Vor",today:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],dayNamesShort:["Mo","Di","Mi","Do","Fr","Sa","So"],dayNamesMin:["Mo","Di","Mi","Do","Fr","Sa","So"],weekHeader:"KW",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}})?i.apply(t,r):i)||(e.exports=a)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="'+(null==(__t=name)?"":__t)+'-document" role="application">\n\t<div class="'+(null==(__t=name)?"":__t)+'-box" role="group">\n\t\t<div class="'+(null==(__t=name)?"":__t)+'-caption">\n\t\t\t<button type="button" class="'+(null==(__t=name)?"":__t)+'-btn-prev" aria-label="'+(null==(__t=formats.previous)?"":__t)+'" title="vorheriger Monat">\n\t\t\t    <span class="icon-201_slide-left" aria-hidden="true"></span>\n\t\t\t</button>\n\t\t\t<span class="'+(null==(__t=name)?"":__t)+'-btn-header" type="button">\n\t\t\t</span>\n\n\t\t\t<button type="button" class="'+(null==(__t=name)?"":__t)+'-btn-next" aria-label="'+(null==(__t=formats.next)?"":__t)+'" title="nächster Monat">\n\t\t\t    <span class="icon-202_slide-right" aria-hidden="true"></span>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="'+(null==(__t=name)?"":__t)+'-main">\n\n\t\t</div>\n\t\t<div class="'+(null==(__t=name)?"":__t)+'-controls">\n\t\t\t<button type="button" class="'+(null==(__t=name)?"":__t)+'-btn-close calendar-close urlcalenderpanel-close" title="Kalendar schließen" arial-label="schließen">\n\t\t\t    <span class="icon-209_close" aria-hidden="true"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<table class="'+(null==(__t=name)?"":__t)+'-grid is-daygrid" role="grid" aria-label="'+(null==(__t=title)?"":__t)+'">\n\t<thead>\n\t\t<tr>\n\t\t\t',formats.dayNamesShort.forEach((function(e,t){__p+='\n\t\t\t\t<th>\n\t\t\t\t\t<abbr title="'+(null==(__t=formats.dayNames[t])?"":__t)+'">'+(null==(__t=e)?"":__t)+"</abbr>\n\t\t\t\t</th>\n\t\t\t"})),__p+="\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t",body.forEach((function(e){__p+="\n\t\t\t<tr>\n\t\t\t\t",e.forEach((function(e){__p+='\n\t\t\t\t\t<td class="'+(null==(__t=rb.if(e.otherMonth,rb.statePrefix+"othermonth "))?"":__t)+" day-"+(null==(__t=e.day)?"":__t)+" "+(null==(__t=name)?"":__t)+'-cell" role="presentation">\n\t\t\t\t\t\t<button type="button" class="'+(null==(__t=name)?"":__t)+'-cellbox js-track-click"\n\t\t\t\t\t\t\t\tdata-date="'+(null==(__t=e.dateStr)?"":__t)+'"\n\t\t\t\t\t\t\t\tdata-track=\'{"element": "EPG-Modul_Kalender", "action": "Tag_auswählen", "type": "navigation"}\'\n                                role="gridcell"\n                            '+(null==(__t=rb.if(e.isRangeoverflow,'disabled=""'))?"":__t)+'\n                                tabindex="-1">'+(null==(__t=e.date)?"":__t)+"</button>\n\t\t\t\t\t</td>\n\t\t\t\t"})),__p+="\n\t\t\t</tr>\n\t\t"})),__p+="\n\t</tbody>\n</table>\n";return __p}},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=(e.$,n(7)),s=function(n){function s(n,a){var o;return i(this,s),o=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,n,a)),e.rAFs(o,"addContent"),t.ready.then((function(){o.addContent()})),o}return o(s,n),a(s,null,[{key:"defaults",get:function(){return{}}},{key:"events",get:function(){return{"click:closest(.user-profile-link)":function(){var e=JSON.stringify(t.getState(),null," "),n="<html>\n                                    <head>\n                                    <title>User Details</title>\n                                    </head>\n                                    <body>\n                                    <pre>\n                                    ".concat(e,"\n                                    </pre>\n                                    </body>\n                                    </html>"),i=window.screen.width,r=window.screen.height,a=window.screen.width-50,o=window.screen.height-200,s=i/2-a/2,l=r/2-(o+50)/2;window.open("about:blank","","width="+a+",height="+o+",location=0,directories=0,status=0,left="+s+",top="+l+",screenX="+s+",screenY="+l+",").document.write(n)}}}}]),a(s,[{key:"addContent",value:function(){var e=t.getState(),n='<a class="link user-profile-link"><strong>mainUserId</strong> '.concat(e.mainUserId,'</a>\n                <span class="alert-divide"></span><a class="link user-profile-link"><strong>activeId</strong> ').concat(e.getUserId(),'</a>\n                <span class="alert-divide"></span><a class="link user-profile-link"><strong>found subprofile</strong> ').concat(!!e.activeSubProfile,"</a>");e.info&&(n+='<span class="alert-divide"></span>\n                <a class="link user-profile-link"><strong>Username</strong> '.concat(e.info.email,"</a>")),n+='<span class="alert-divide"></span>\n            <a class="link user-profile-link"><strong>Bookmarks</strong> '.concat(e.profile.bookmarks.length,"</a>"),n+='<span class="alert-divide"></span>\n            <a class="link user-profile-link"><strong>lastPatchRequest</strong> '.concat(e.profile.lastPatchRequest,"</a>"),this.$queryAll(".alert-item").append(n)}}]),s}(e.Component);return e.live.register("debugalert",s),s},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(104)),u=window.rb,c=window.zdfsite,d=n(69),f=n(7),p=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isOpen=!1,i.forceSubmit=!1,i.currentLocation=i.getBasePath(location.pathname),i._handlerSearchClick=i.handlerSearchClick.bind(i),i._checkSelectedLink=i.checkSelectedLink.bind(i),i.searchButton=document.getElementsByClassName(i.options.searchButton)[0],i}return(0,s.default)(t,e),(0,o.default)(t,[{key:"attached",value:function(){window.zdfsite.isTiviApp||(c.isTiviLocation||document.body.addEventListener("click",this._checkSelectedLink),this.searchButton&&this.searchButton.addEventListener("click",this._handlerSearchClick))}},{key:"detached",value:function(){window.zdfsite.isTiviApp||(c.isTiviLocation||document.body.removeEventListener("click",this._checkSelectedLink),this.searchButton&&this.searchButton.removeEventListener("click",this._handlerSearchClick))}}],[{key:"defaults",get:function(){return{name:"dialog",validationAttribute:"data-show-two-click-verification",searchPathAttr:"data-search-paths",searchButton:"search-submit",trackDataView:{element:"2_Klick_Overlay_tivi",action:"Öffnen"}}}},{key:"events",get:function(){return{"click:closest(.js-my-tivi)":"proceed"}}}]),(0,o.default)(t,[{key:"getBasePath",value:function(e){var t=e.split("/");return t.length>1&&t[1]||"/"}},{key:"proceedToLink",value:function(){d.trackClick(this.options.trackDataView),"_blank"===this.targetType?window.open(this.currentTarget,this.targetType):window.location.href=this.currentTarget}},{key:"performSubmit",value:function(){this.forceSubmit=!0,this.searchButton.click()}},{key:"forceValidation",value:function(e){var t=e.getAttribute(this.options.validationAttribute);return null!==t&&JSON.parse(t)}},{key:"handlerSearchClick",value:function(e){f.getState().activeSubProfile&&(this.forceSubmit?this.forceSubmit=!1:"true"===e.currentTarget.getAttribute(this.options.validationAttribute)&&(e.preventDefault(),this.handleOpenModal(!0)))}},{key:"checkSelectedLink",value:function(e){var t=f.getState(),n=t.activeSubProfile,i=t.profile;if(n&&!i.deactivateParentChildSwitchAlert){var r=e.target.closest("a[href]");if(r){if(r.classList.contains("top-link")||r.hasAttribute("download")||-1!==this.getBasePath(r.pathname).indexOf(this.currentLocation))return;if("false"===r.getAttribute(this.options.validationAttribute))return;c.checkTiviLocation(r)&&(e.preventDefault(),this.currentTarget=r.href,this.targetType=r.target,this.handleOpenModal(!1))}}}},{key:"handleOpenModal",value:function(e){this.isOpen||this.open(),this.openBySearch=!!e}},{key:"proceed",value:function(e){var t=this;this.openBySearch?this.performSubmit():(this.close(),window.open(this.currentTarget,this.targetType)),u.rAFQueue((function(){t.element.classList.add("m-loading")}))}}]),t}(l.default);u.live.register("dialog-adult",p);var h=p;t.default=h},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(17),n(57),n(33),n(56),n(13);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(212)),u=i(n(52)),c=window.rb,d=c.$,f=n(7),p=n(69),h=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isLoading=!1,i.panelGroupComponent=null,i.getPanelGroupComponent(),f.ready.then((function(){i.checkForHash()})),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{name:"dialog",loadingClass:"m-loading",closeOnBackdropClick:!1}}},{key:"events",get:function(){return{"{name}changed":function(e){var t=this;clearTimeout(this._resetPanelGroup),this.isOpen&&("openPanel"in e.detail||"openPanelSel"in e.detail)&&this.expandPanelWithSelector(e.detail.openPanelSel||"#"+e.detail.openPanel,Object.assign(e.detail,{animationPrevented:!0,setFocus:!0})),!this.isOpen&&this.panelGroupComponent&&this.panelGroupComponent.selectedIndexes&&this.panelGroupComponent.selectedIndexes[0]&&(this._resetPanelGroup=setTimeout((function(){t.panelGroupComponent.selectIndex(0,{animationPrevented:!0,setFocus:!1})}),500))},"click:closest(.js-{name}{e}close)":function(e){this.close(),e.preventDefault(),e.stopPropagation()},"click:closest(.{name}{e}close)":function(e){this.resetValidation(),this.close(),e.preventDefault(),e.stopPropagation()},openChangeDialogDeleteSuccess:"openChangeDialogDeleteSuccess"}}}]),(0,o.default)(t,[{key:"resetValidation",value:function(){Array.from(document.getElementsByClassName("error-item")).forEach((function(e){e.removeAttribute("style")})),Array.from(document.getElementsByClassName("input")).forEach((function(e){e.classList.remove("error")}))}},{key:"checkForHash",value:function(){var e=(0,u.default)(location.search),t=(0,u.default)(location.hash.replace("#","")),n=Object.assign({},t,e),i=n.openDialog?"#"+n.openDialog:"",r=n.changeEmailKey||!1,a=n.deleteKey||!1,o=n.email||!1,s=n.hashAfterSuccess||!1;if(r)this.activateNewEmail(r,{hashAfterSuccess:s});else if(a)this.deleteAccountWithKey(a,o,{hashAfterSuccess:s});else if(i){var l=this.query(i);(this.$element.is(i)||l)&&(this.isOpen||this.open()),l&&(this.expandPanelWithSelector(i,{animationPrevented:!0,setFocus:!0}),this.dispatchPointerEvent())}}},{key:"dispatchPointerEvent",value:function(){var e=window.PointerEvent?"pointerup":"mouseup";c.events.dispatch(c.root,e)}},{key:"getPanelGroupComponent",value:function(){var e=this.query('[data-module="js-panelgroup"]');this.panelGroupComponent=e?this.component(e):null,this.panelGroupComponent||this.logWarn("missing panelGroupComponent")}},{key:"expandPanelWithSelector",value:function(e,t){if(!this.panelGroupComponent)return this.logError("panelGroupComponent missing, cannot open panel",e,this.panelGroupComponent,this.panelGroupComponent.$panels),!1;var n=this.query(e),i=this.panelGroupComponent.$panels.elements.indexOf(n);if(!n||-1===i)return this.logError("panel missing, cannot open panel",n,e),!1;n.hasAttribute("data-track-view")&&p.trackView(n);var r=this.query(".js-focus-on-opening",n);r||(r=this.query(".dialog-close")),t.focusElement=r,this.panelGroupComponent.selectIndex(i,t);var a=d(this.query('[data-module="subprofiledeleteform"]')).rbComponent();return a&&a.setProfileId(t.profileId),!0}},{key:"activateNewEmail",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return this.logError("missing changeEmailKey",e);this.isLoading=!0,this.isOpen||this.open(),this.expandPanelWithSelector(".m-emailchange-pending",{animationPrevented:!0,setFocus:!0}),this.dispatchPointerEvent(),f.dispatch("activateChangedEmail",Object.assign({key:e},{onSuccess:function(e){t.expandPanelWithSelector(".m-emailchange-success",{animationPrevented:!0,setFocus:!0}),t.isLoading=!1,n.hashAfterSuccess&&(location.hash=n.hashAfterSuccess)},onFail:function(e){t.logError("changeEmailRequest failed",e),t.expandPanelWithSelector(".m-emailchange-fail",{animationPrevented:!0,setFocus:!0}),t.isLoading=!1}}))}},{key:"deleteAccountWithKey",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return this.logError("missing deleteKey",e);t||this.logError("missing email for deleteAccountWithKey"),this.isLoading=!0,this.isOpen||this.open(),this.expandPanelWithSelector("#change-dialog-profiledelete-success",{animationPrevented:!0,setFocus:!0}),this.dispatchPointerEvent(),f.dispatch("deleteAccount",Object.assign({key:e||"",email:t||""},{onSuccess:function(){n.isLoading=!1,f.dispatch("silentLogout",!0),i.hashAfterSuccess&&(location.hash=i.hashAfterSuccess)},onFail:function(e){n.logError("deleteAccountWithKey failed",e),n.expandPanelWithSelector("#change-dialog-profiledelete-fail",{animationPrevented:!0,setFocus:!0}),n.isLoading=!1}}))}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading),this.$backdrop.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"openChangeDialogDeleteSuccess",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector("#change-dialog-form-success",{animationPrevented:!1,setFocus:!0})}},{key:"openPinChangeSuccess",value:function(e){var t=this;this.isOpen||this.open(),this.expandPanelWithSelector("#change-dialog-changepin-success",{animationPrevented:!1,setFocus:!0}),d(this.query("#pin-changed-back-btn")).attr({href:e}),setTimeout((function(){t.dispatchPointerEvent()}),500)}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=!!e,this.changedLoadingState()}}]),t}(l.default);c.live.register("dialog-change",h);var m=h;t.default=m},function(e,t,n){"use strict";var i=n(2);n(22),n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(18);var r=i(n(21));n(9),n(8),n(33),n(17),n(36),n(5);var a=i(n(98));n(28),n(26);var o,s=i(n(0)),l=i(n(1)),u=i(n(3)),c=i(n(35)),d=i(n(4)),f=i(n(23)),p=i(n(104)),h=n(122),m=n(24);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=window.rb,b=y.$,_=window.zdfsite,w=n(643),k=n(7),S=function(e,t){return!e&&t?t:e&&!t||new Date(e).getTime()<new Date(t).getTime()?e:t},O=!1,E=(o=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,l.default)(t,[{key:"isProperSourceType",value:function(e){var t="h264_aac_mp4_http_na_na"===e.type,n=!e.facets||!Array.isArray(e.facets)||!e.facets.length||e.facets.includes("progressive");return t&&n}},{key:"filterQualitiesForWebsite",value:function(e){var t=e.qualities;return{qualities:{high:t.hd,middle:t.veryhigh,low:t.high},subtitles:e.subtitles}}},{key:"filterQualitiesForOldTiviApp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n=this.filterAllQualities(e,t),i=n.qualities,r=i.hd,a=i.veryhigh,o=i.high,s={qualities:{high:r,middle:a,low:o},subtitles:n.subtitles};return s}},{key:"filterAllQualities",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i={qualities:{},subtitles:[]};try{(e.priorityList||[]).forEach((function(e){e.formitaeten.forEach((function(e){t.isProperSourceType(e)&&e.qualities.forEach((function(e){var t=e.quality;e.audio.tracks.forEach((function(e){e.class===n&&"deu"===e.language&&(i.qualities[t]=e.uri)}))}))}))})),(e.captions||[]).forEach((function(e){if("webvtt"===e.format){e.profile;var t=(0,a.default)(e,["profile"]);i.subtitles.push(t)}}))}catch(e){this.logWarn(e)}return i}},{key:"request",value:function(e,t,n){return e?y.fetch({headers:{"Api-Auth":"Bearer "+t},url:e,sourceVariant:n}):Promise.resolve(null)}},{key:"open",value:function(e){var n=this,i=e.contentUrl,r=e.contentUrlDgs,o=e.apiToken,s=(0,a.default)(e,["contentUrl","contentUrlDgs","apiToken"]),l=e.title,u=void 0===l?"":l,d=e.docId,f=void 0===d?"":d,p=e.externalId,m=void 0===p?"":p,v=e.duration,b=void 0===v?"":v,w=e.brand,k=void 0===w?"":w,E=e.teaserImages,P=void 0===E?"":E,T=e.endDate,x=void 0===T?"":T,C=e.visibleTo,A=void 0===C?"":C,I=_.isTiviApp&&_.tiviAppVersion.major>=2&&_.tiviAppVersion.minor>=66?"tivi_app_1":"zdf_pd_download_1",D=i&&i.replace("{playerId}",I),j=r&&r.replace("{playerId}",I),L=O&&j?j:D,N={};if(!_.isTiviApp)return Promise.all([this.request(D,o,"default"),this.request(j,o,"dgs")]).then((function(e){var t={};e.forEach((function(e){if(e){var i=e.data,r=e.opts.sourceVariant;t[r]=n.filterAllQualities(i);var a=n.filterQualitiesForWebsite(t[r]).qualities;N[r]=a}})),n._addContent({qualitiesData:N,title:u})})),(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,s);var M={id:f,expiresOn:S(A,x),teaserImages:JSON.parse(P)||{},title:u,externalId:m,duration:b,brand:k},R=_.tiviAppVersion,F=R.major,z=R.minor;F<=2&&z<66?this.request(L,o).then((function(e){var t=e.data,i=n.filterQualitiesForOldTiviApp(t).qualities;n.sendDataToTiviApp(g({},M,{},i))})):Promise.all([this.request(D,o,"default"),this.request(j,o,"dgs")]).then((function(e){var t={};e.forEach((function(e){if(e){var i=e.data,r=e.opts.sourceVariant;if(t[r]=n.filterAllQualities(i),"default"===r){var a=n.filterAllQualities(i,"ad");Object.keys(a.qualities).length>0&&(t.ad=a)}}})),n.sendDataToTiviApp(g({},M,{videoFiles:t}))})).catch((function(e){y.logWarn("Download Dialog: request to PTMD failed",e),(0,h.sendMessageToTiviApp)("downloadVideoError",e,"error")}))}},{key:"sendDataToTiviApp",value:function(e){var t=_.tiviAppVersion.version;y.log("sending download data for tiviAppVersion ".concat(t,":"),e),(0,h.sendMessageToTiviApp)("downloadVideo",e)}},{key:"_addContent",value:function(e){return this._xhr=1,(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addContenttached",value:function(){_.playerReady.then((function(){window.zdfplayer.on("Player::SOURCE_VARIANT_CHANGED",(function(e){var t=e.variant;O="dgs"===t}))})),k.ready.then((function(){var e=k.getState().profile;O=e.defaultStreamVariantDgs||O}))}},{key:"onInputChange",value:function(e){var t=e.target.checked,n=this.$queryAll(".download-list");t?(b(n.elements[0]).removeClass("show"),b(n.elements[0]).addClass("hide"),b(n.elements[1]).addClass("show"),b(n.elements[1]).removeClass("hide")):(b(n.elements[0]).addClass("show"),b(n.elements[0]).removeClass("hide"",get:function(){return{name:"dialog"}}},{key:"events",get:function(){return{"keyup:.input":"onInputChange","change:.checkbox-input":"onInputChange"}}}]),t}(p.default),(0,f.default)(o.prototype,"onInputChange",[m.autobind],Object.getOwnPropertyDescriptor(o.prototype,"onInputChange"),o.prototype),o);y.live.register("dialogdownload",E);var P=E;t.default=P},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<h2 class="modal-headline">Download</h2>\n<p>Video „'+(null==(__t=title)?"":__t)+"“ herunterladen:</p>\n",null!=qualitiesData.dgs&&(__p+='\n    <p class="checkbox-wrap">\n        <input type="checkbox" id="dgs" name="dgs" value="mit DGS" class="checkbox-input">\n        <label for="dgs" class="checkbox-label">mit DGS</label>\n    </p>\n'),__p+='\n<ol class="download-list show">\n    ',"string"==typeof qualitiesData.default.low&&(__p+='\n    <li class="download-item">\n        <a href="'+(null==(__t=qualitiesData.default.low)?"":__t)+'"  download="Video mit niedriger Qualität" class="download-link"><span class="icon-404_download" aria-hidden="true"></span>niedrige Qualität</a>\n    </li>\n    '),__p+="\n    ","string"==typeof qualitiesData.default.middle&&(__p+='\n    <li class="download-item">\n        <a href="'+(null==(__t=qualitiesData.default.middle)?"":__t)+'" download="Video mit mittlerer Qualität" class="download-link"><span class="icon-404_download" aria-hidden="true"></span>mittlere Qualität</a>\n    </li>\n    '),__p+="\n    ","string"==typeof qualitiesData.default.high&&(__p+='\n    <li class="download-item">\n        <a href="'+(null==(__t=qualitiesData.default.high)?"":__t)+'" download="Video mit hoher Qualität" class="download-link"><span class="icon-404_download" aria-hidden="true"></span>hohe Qualität</a>\n    </li>\n    '),__p+="\n</ol>\n",null!=qualitiesData.dgs&&(__p+='\n    <ol class="download-list hide">\n        ',"string"==typeof qualitiesData.dgs.low&&(__p+='\n        <li class="download-item">\n            <a href="'+(null==(__t=qualitiesData.dgs.low)?"":__t)+'"  download="Video mit niedriger Qualität" class="download-link"><span class="icon-404_download" aria-hidden="true"></span>niedrige Qualität</a>\n        </li>\n        '),__p+="\n        ","string"==typeof qualitiesData.dgs.middle&&(__p+='\n        <li class="download-item">\n            <a href="'+(null==(__t=qualitiesData.dgs.middle)?"":__t)+'" download="Video mit mittlerer Qualität" class="download-link"><span class="icon-404_download" aria-hidden="true"></span>mittlere Qualität</a>\n        </li>\n        '),__p+="\n        ","string"==typeof qualitiesData.dgs.high&&(__p+='\n        <li class="download-item">\n            <a href="'+(null==(__t=qualitiesData.dgs.high)?"":__t)+'" download="Video mit hoher Qualität" class="download-link"><span class="icon-404_download" aria-hidden="true"></span>hohe Qualität</a>\n        </li>\n        '),__p+="\n    </ol>\n"),__p+="\n<p>Hinweis: Falls das Video beim Klicken nicht automatisch gespeichert wird, können Sie mit der rechten Maustaste klicken und „Ziel speichern unter ...“ auswählen.</p>\n";return __p}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=i(n(104)),u=window.rb,c=(u.$,n(7)),d=n(69),f=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"savePreference",value:function(e){e.preventDefault(),e.stopPropagation(),c.dispatch("showAgeVerificationDialog",!e.target.checked)}}],[{key:"defaults",get:function(){return{name:"dialog"}}},{key:"events",get:function(){return{"change:closest(#fsk-auth-notification-checkbox)":"savePreference","click:closest(.close-button)":"close","{name}changed":function(){this.isOpen&&d.trackViewCustom({atInternetDeltaPageView:{page_chapter2:"overlay",page_type:"overlay",page:"Altersprüfung durchführen?",page_title:"Altersprüfung durchführen?",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}})}}}}]),t}(l.default);u.live.register("dialog-fsk-auth-notification",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(104)),u=n(69),c=function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getProtault)(t,e),(0,o.default)(t,null,[{key:"defaults",getller)",insideScroller:"find(.js-scroller)",displayRatio:1.7}}},{key:"events",get:function(){return{"{name}change":function(){this.isOpen?this.teardownRatio():this.setupRatio()},"{name}changed":function(){var e=this;this.manageScrollers(),this.element.hasAttribute("data-track")&&rb.rAFQueue((function(){e.element.setAttribute("aria-hidden",!e.isOpen),u.trackClick(e.element)}))}}}}]),(0,o.default)(t,[{key:"setRatio",value:function(){this.element.style.maxWidth=this._dialogMaxWidth||""}},{key:"calcRatio",value:function(){var e=rb.root.clientHeight;this._dialogMaxWidth=parseInt(Math.max(e*this.options.displayRatio,756),10)+"px",this.setRatio()}this.calcRatio():this.teardownRatio()}},{key:"setupRatio",value:function(){this.options.displayRatio&&(this.calcRatio(),window.addEventListener("resize",this.calcRatioChange))}},{key:"teardownRatio",value:function(){this.options.displayRatio&&(this._dialogMaxWidth="",window.removeEventListener("resize",this.calcRatioChange))}},{key:"getScrollers",value:function(){if(!this.insideScroller||!this.outsideScroller){var e=this.getElementsFromString(this.options.insideScroller)[0],t=this.getElementsFromString(this.options.outsideScroller)[0];this.insideScroller=e&&this.component(e),this.outsideScroller=t&&this.component(t)}this.insideScroller&&this.outsideScroller||this.log("insideScroller or outsideScroller not found.",this)}},{key:"manageScrollers",value:function(){if(this.getScrollers(),this.insideScroller&&this.outsideScroller)if(this.isOpen){this.insideScroller.selectIndex(this.outsideScroller.selectedIndex,!0);var e=this.getFocusElement();e&&this.setFocus(e)}else this.outsideScroller.selectIndex(this.insideScroller.selectedIndex,!0),this.setFocus(this.outsideScroller.$cells.get(this.insideScroller.selectedIndex))}},{key:"getFocusElement",value:function(e){var t;if(!e||1!=e.nodeType){if(this.getScrollers(),!this.insideScroller||!this.outsideScroller)return;e=(t=this.queryAll(".js-scroller-cell")[this.outsideScroller.selectedIndex])&&t.querySelector(".item-title")||e}return e}},{key:"restoreFocus",value:function(){}}]),t}(l.default);rb.live.register("dialog-gallery",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(104)),u=window.rb,c=(u.$,n(7)),d=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)))._openOnFail=i._openOnFail.bind(i),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{name:"dialog",loadingClass:"m-loading"}}}]),(0,o.default)(t,[{key:"_openOnFail",value:function(){this.open()}},{ken(){c.subscribe("profile:/failed",e._openOnFail,!0)}))}},{key:"detached",value:function(){var e=this;c.ready.then((function(){c.unsubscribe("profile:/failed",e._openOnFail,!0)}))}}]),t}(l.default);u.live.register("dialog-login-error",d);var f=d;t.default=f},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28),n(26),n(13),n(17),n(57);var r,a=i(n(0)),o=i(n(3)),s=i(n(35)),l=i(n(1)),u=i(n(4)),c=i(n(23)),d=i(n(212)),f=i(n(52)),p=n(24),h=window.rb,m=n(7),v=n(69),g=window.zdfsite,y=(r=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeonent(),i.checkForHash(),i}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{name:"dialog",loadingClass:"m-loading",closeOnBackdropClick:!1}}},{key:"events",get:function(){return{"js-panelgroup-panelchanged":function(){var e=this.panelGroupComponent.selectedIndexes[0],t=this.panelGroupComponent.selectedItems[0];this.isOpen&&t.hasAttribute("data-track-view")&&this.preventTrackingOnIndex!==e&&(this.preventTrackingOnIndex=e,v.trackView(t))},"{name}changed":function(e){var t=this;if(clearTimeout(this._resetPanelGroup),this.isOpen&&("openPanel"in e.detail||"openPanelSel"in e.detail)&&this.expandPanelWithSelector(e.detail.openPanelSel||"#"+e.detail.openPanel,{animationPrevented:!0,setFocus:!0}),this.isOpen){var n=this.panelGroupComponent.selectedItems[0];n.hasAttribute("data-track-view")&&v.trackView(n)}!this.isOpen&&this.panelGroupComponent&&this.panelGroupComponent.selectedIndexes&&this.panelGroupComponent.selectedIndexes[0]&&(this._resetPanelGroup=setTimeout((function(){t.panelGroupComponent.selectIndex(0,{animationPrevented:!0,setFocus:!1})}),500)),"isTiviRegistration"in e.detail&&"true"===e.detail.isTiviRegistration?(this.element.classList.add("m-tivi-registration"),window.zdfsite.isTiviRegistration=!0):(this.element.classList.remove("m-tivi-registratiome}{e}close)":function(e){e.preventDefault(),e.stopPropagation(),this.close()},"click:closest(.{name}{e}close)":function(e){e.preventDefault(),e.stopPropagation(),this.close()},openTiviDialogAvatar:"openTiviDialogAvatar",openTiviDialogNickname:"openTiviDialogNickname",openRegistrationDialog:"openRegistrationDialog",openTiviDialogSuccess:"openTiviDialogSuccess"}}}]),(0,l.default)(t,[{key:"resetValidation",value:function(){this.$queryAll(".error-item").attr({style:""}),this.$queryAll(".input").removeClass("error")}},{key:"resetInput",value:function(){this.$queryAll(".input").prop({value:""}),this.$queryAll(".checkbox-input").prop({checked:!1}),this.$queryAll(".radio-input").prop({checked:!1})}},{key:"checkForHash",value:function(){var e=(0,f.default)(location.search),t=(0,f.default)(location.hash.replace("#","")),n=Object.assign({},t,e),i=n.openDialog?"#"+n.openDialog:"";if(i)if("#login-panel"===i&&m.isLoggedIn())h.log("ignoring param to open login because user is already logged in");else{var r=this.query(i);(this.$element.is(i)||r)&&(this.isOpen||this.open()),r&&this.expandPanelWithSelector(i,{animationPrevented:!0,setFocus:!0})}}},{key:"getPanelGroupComponent",value:function(){var e=this.query(".zdf-login-wrap");this.panelGroupComponent=e?this.component(e):null,this.panelGroupComponent||this.logWarn("missing panelGroupComponent")}},{key:"attached",value:function(){var e=this;m.ready.then((function(){m.subscribe("register:/success",e.handleRegistrationSuccess,!0),m.subscribe("activate:/fetching",e.handleActivationFetching,!0),m.subscribe("activate:/failed",e.handleActivationFail,!0),m.subscribe("activate:/success",e.handleActivationSuccess,!0),m.subscribe("lostPassword:/fetching",e.handlePasswordRequestFetching,!0),m.subscribe("lostPassword:/failed",e.handlePasswordRequestFail,!0),m.subscribe("lostPassword:/success",e.handlePasswordRequestSuccess,!0),m.subscribe("resetPassword:/fetching",e.handlePasswordResetFetching,!0),m.subscribe("resetPassword:/failed",e.handlePasswordResetFail,!0),m.subscribe("resetPassword:/success",e.handlePasswordResetSuccess,!0),m.subscribe("ardLogin:/failed",e.handleArdLoginFail,!0),e.handleTiviOverlayNoSubprofile()}));var t=window.location.href,n=new URLSearchParams(t);t.includes("/mein-zdf#")&&n.has("email")&&(this.query("#login-email").value=n.get("email"),this.query(".registry-area").style.display="none")}},{key:"detached",value:function(){m.unsubscribe("register:/success",this.handleRegistrationSuccess),m.unsubscribe("activate:/fetching",this.handleActivationFetching),m.unsubscribe("activate:/failed",this.handleActivationFail),m.unsubscribe("activate:/success",this.handleActivationSuccess),m.unsubscribe("lostPassword:/fetching",this.handlePasswordRequestFetching),m.unsubscribe("lostPassword:/failed",this.handlePasswordRequestFail),m.unsubscribe("lostPassword:/success",this.handlePasswordRequestSuccess),m.unsubscribe("resetPassword:/fetching",this.handlePasswordResetFetching),m.unsubscribe("resetPassword:/failed",this.handlePasswordResetFail),m.unsubscribe("resetPassword:/success",this.handlePasswordResetSuccess),m.unsubscribe("ardLogin:/failed",this.handleArdLoginFail)}},{key:"handleRegistrationSuccess",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector(".m-registration-success",{animationPrevented:!1,setFocus:!0})}},{key:"handleActivationFetching",value:function(){this.isLoading=!0,this.isOpen||this.open(),this.expionFail",value:function(){var e=this;this.isOpen||this.open(),setTimeout((function(){return e.expandPanelWithSelector(".m-activation-fail",{animationPrevented:!0,setFocus:!0})}),2e3),this.isLoading=!1}},{key:"handleActivationSuccess",value:function(){var e=this;this.isOpen||this.open();var t=window.zdfsite.isTiviRegistration;setTimeout((function(){return e.expandPanelWithSelector(t?".m-activation-tivi-success":".m-activation-success",{animationPrevented:!0,setFocus:!0})}),2e3),this.isLoading=!1}},{key:"handlePasswordRequestFetching",value:function(){this.isLoading=!0}},{key:"handlePasswordRequestFail",value:function(){this.isLoading=!1}},{key:"handlePasswordRequestSuccess",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector(".m-passwordreques:!0,setFocus:!0}),this.isLoading=!1}},{key:"handlePasswordResetFetching",value:function(){this.isLoading=!0}},{key:"handlePasswordResetFail",value:function(){this.isLoading=!1}},{key:"handlePasswordResetSuccess",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector(".m-passwordreset-success",{animationPrevented:!0,setFocus:!0}),this.isLoading=!1}},{key:"handleTiviOverlayNoSubprofile",value:function(){var e=m.getState().activeSubProfile;g.isTiviLocation&&g.isUserPage&&m.isLoggedIn()&&!e&&(this.isLoading=!0,this.isOpen||this.open(),this.expandPanelWithSelector("#logindialog-tivi",{animationPrevented:!0,setFocus:!0}))}},{key:"handleArdLoginFail",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector(".m-ard-login-fail",{animationPrevented:!0,setFocus:!1}),this.isLoading=!1}},{key:"expandPanelWithSelector",value:function(e,t){if(!this.panelGroupComponent)return this.logError("panelGroupComponent missing, cannot open panel",e,this.panelGroupComponent,this.panelGroupComponent.$panels),!1;var n=this.query(e),i=this.panelGroupComponent.$panels.elements.indexOf(n);return n&&-1!==i?(this.panelGroupComponent.selectIndex(i,t),!0):(this.logError("panel missing, cannot open panel",n,e),!1)}},{key:"openTiviDialogAvatar",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector("#logindialog-tivi-avatar",{animationPrevented:!1,setFocus:!0})}},{key:"openTiviDialogNickname",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector("#logindialog-tivi-nick",{animationPrevented:!1,setFocus:!0})}},{key:"openRegistrationDialog",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector("#logindialog-registration",{animationPrevented:!1,setFocus:!0})}},{key:"openTiviDialogSuccess",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector("#logindialog-tivi-success",{animationPrevented:!1,setFocus:!0})}},{key:"openWithoutArdButton",value:function(){this.isOpen||this.open(),this.setArdLoginVisibility(!1)}},{key:"close",value:function(){this.setArdLoginVisibility(!0),(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"setArdLoginVisibility",value:function(e){var t=this.query("#ard-login");t&&(t.style.display=e?"block":"none")}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading),this.$backdrop.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=!!e,this.changedLoadingState()}}]),t}(d.default),(0,c.default)(r.prototype,"handleRegistrationSuccess",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleRegistrationSuccess"),r.prototype),(0,c.default)(r.prototype,"handleActivationFetching",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleActivationFetching"),r.prototype),(0,c.default)(r.prototype,"handleActivationFail",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleActivationFail"),r.prototype),(0,c.default)(r.prototype,"handleActivationSuccess",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleActivationSuccess"),r.prototype),(0,c.default)(r.prototype,"handlePasswordRequestFetching",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handlePasswordRequestFetching"),r.prototype),(0,c.default)(r.prototype,"handlePasswordRequestFail",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handlePasswordRequestFail"),r.prototype),(0,c.default)(r.prototype,"handlePasswordRequestSuccess",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handlePasswordRequestSuccess"),r.prototype),(0,c.default)(r.prototype,"handlePasswordResetFetching",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handlePasswordResetFetching"),r.prototype),(0,c.default)(r.prototype,"handlePasswordResetFail",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handlePasswordResetFail"),r.prototype),(0,c.default)(r.prototype,"handlePasswordResetSuccess",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handlePasswordResetSuccess"),r.prototype),(0,c.default)(r.prototype,"handleTiviOverlayNoSubprofile",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleTiviOverlayNoSubprofile"),r.prototype),(0,c.default)(r.prototype,"handleArdLoginFail",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"handleArdLoginFail"),r.prototype),r);h.live.register("dialog-login",y);var b=y;t.default=b},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=function(e){function t(e,n){return(0,r.default)(this,t),(0,a.default)(thisefault)(t,null,[{key:"defaults",get:function(){return{name:"dialog"}}},{key:"events",get:function(){return{closeDialog:"closeDialog","click:closest(.login-btn)":"closeDialog"}}}]),(0,s.default)(t,[{key:"open",value:function(){(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this)}},{key:"close",value:function(){(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}}]),t}(i(n(212)).default);rb.live.register("dialog-logout-logout-all-devices",u),rb.live.register("dialog-logout-logout-device",u),rb.live.register("dialog-logout-user-deleted",u);var c=u;t.default=c},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(35)),l=i(n(4)),u=i(n(104)),c=window.rb,d=window.zdfsite,f=n(7),p=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"validatePin",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=c.getComponent(this.query('[data-module="pin-input"]')),i=n.value;f.validatePin(i).then((function(e){200===e.status?(n.value="",t.close({success:!0})):t.handleError(e)})).catch((function(e){t.handleError(e)}))}},{key:"handleError",value:function(e){409===e.status?this.openPanel("#player-pin-reset-form-panel"):this.renderError(e)}},{key:"renderError",value:function(){this.$queryAll(".pin-invalid").addClass("m-show"),this.focus()}},{key:"attached",value:function(){var e=this;f.ready.then((function(t){if(e.$element.addClass("is-ready"),!1===t.isLoggedIn())return e.openPanel("#player-pin-register-panel"),d.trackingHelper.trackViewCustom({atInternetDeltaPageView:{page_chapter2:"overlay",page_type:"overlay",page:"Video jetzt schon schauen oder bis später warten?",page_title:"Video jetzt schon schauen oder bis später warten?",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}}),d.trackingHelper.trackClick({deltaType:"self_promotion.display",action:"FSK-Overlay",actionDetail:"Kostenlos anmelden & sofort schauen",atiDeltaData:{target_section:"5",target_title:"Mein ZDF - Login",target_subsection:"Mein_ZDF",target_type:"overlay",page_chapter2:"overlay",page_type:"overlay",page:"Video jetzt schon schauen oder bis später warten?",page_title:"Video jetzt schon schauen oder bis später warten?",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}}),void(e.trackingId="FSKInfoOverlay_nichtAngemeldet");f.getAgeVerification().then((function(t){var n=t.data;!0===n.verified&&(e.openPanel("#player-pin-form-panel"),d.trackingHelper.trackViewCustom({atInternetDeltaPageView:{page_chapter2:"overlay",page_type:"overlay",page:"Jugendschutz-PIN eingeben & Video sofort schauen",page_title:"Jugendschutz-PIN eingeben & Video sofort schauen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}}),e.trackingId="FSKPINEingabeOverlay"),!1===n.verified&&(e.openPanel("#player-pin-setup-panel"),d.trackingHelper.trackViewCustom({atInternetDeltaPageView:{page_chapter2:"overlay",page_type:"overlay",page:"Jetzt Alter prüfen lassen & Video sofort schauen",page_title:"Jetzt Alter prüfen lassen & Video sofort schauen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}}),d.trackingHelper.trackClick({deltaType:"self_promotion.display",action:"FSK-Overlay",actionDetail:"Kostenlos freischalten & sofort schauen",atiDeltaData:{target_section:"5",target_title:"Schritt 1: Ausweis-Land und Dokument wählen",target_subsection:"/altersverifikation",target_type:"article",page_chapter2:"overlay",page_type:"overlay",page:"Jetzt Alter prüfen lassen & Video sofort schauen",page_title:"Jetzt Alter prüfen lassen & Video sofort schauen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}}),e.trackingId="FSKInfoOverlay_Angemeldet_nichtVerifiziert")})).catch((function(t){e.openPanel("#player-pin-register-panel"),d.trackingHelper.trackViewCustom({atInternetDeltaPageView:{page_chapter2:"overlay",page_type:"overlay",page:"Video jetzt schon schauen oder bis später warten?",page_title:"Video jetzt schon schauen oder bis später warten?",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}}),d.trackingHelper.trackClick({deltaType:"self_promotion.display",action:"FSK-Overlay",actionDetail:"Kostenlos anmelden & sofort schauen",atiDeltaData:{target_section:"5",target_title:"Mein ZDF - Login",target_subsection:"Mein_ZDF",target_type:"overlay",page_chapter2:"overlay",page_type:"overlay",page:"Video jetzt schon schauen oder bis später warten?",page_title:"Video jetzt schon schauen oder bis später warten?",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",site_level2:"5",page_section:"5",page_broadcast:"ZDF",page_chapter3:null,page_sophora_id:null,page_url:null,page_doc_id:null}}),e.trackingId="FSKInfoOverlay_nichtAngemeldet"}))}))}},{key:"detached",value:function(){}},{key:"openPanel",value:function(e){var t=this;setTimeout((function(){t.activePanel=t.query(e),c.getComponent(t.activePanel).open()}),10)}},{key:"focus",value:function(){c.setFocus(this.activePanel.querySelector(".js-rb-autofocus")),this.dispatchPointerEvent()}},{key:"dispatchPointerEvent",value:function(){var e=window.PointerEvent?"pointerup":"mouseup";c.events.dispatch(c.root,e)}},{key:"close",value:function(e){e||d.trackingHelper.trackClick({f(t.prototype),"close",this).call(this,e)}}],[{key:"defaults",get:function(){return{name:"dialog-player-pin",loadingClass:"m-loading",appendToBody:!1,closeOnEsc:!0,closeOnBackdropClick:!0}}},{key:"events",gealidatePin","keydown:keycod:"validatePin","click:closest(.js-setup-age-verification)":function(e){e.preventDefault(),e.stopPropagation(),f.startAgeVerification()},"click:closest(.js-close)":function(e){this.close(e)},"click:closest(.login-btn)":function(e){var t=c.getComponent(document.getElementById("aria-login-dialog"));e.target.classList.contains("no-ard")?t.openWithoutArdButton():t.open()},"js-panelgroup-panelchanged":function(e){var t=e.target,n=t.id,i=t.className,r=this.query("#".concat(n)),a=i.indexOf("m-open")>-1;r&&a&&(this.activePanel=r,this.focus())}}}}]),t}(u.default);c.live.register("dialog-player-pin",p);var h=p;t.default=h},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(33),n(56),n(13);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(104)),u=window.rb,c=u.$,d=n(69),f=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isLoading=!1,i.panelGroupComponent=null,i.getPanelGroupComponent(),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{name:"dialog",loadingClass:"m-loading"}}},{key:"events",get:function(){return{"{name}changed":function(e){var t=this;clearTimeout(this._resetPanelGroup),this.isOpen&&("openPanel"in e.detail||"openPanelSel"in e.detail)&&this.expandPanelWithSelector(e.detail.openPanelSel||"#"+e.detail.openPanel,Object.assign(e.detail,{animationPrevented:!0,setFocus:!0})),!this.isOpen&&this.panelGroupComponent&&this.panelGroupComponent.selectedIndexes&&this.panelGroupComption(){t.panelGroupComponent.selectIndex(0,{animationPrevented:!0,setFocus:!1})}),500))},"click:closest(.js-{name}{e}close)":function(e){this.close:closest(.{name}{e}close)":function(e){this.resetValidation(),this.close(),e.preventDefault(),e.stopPropagation()},"click:closest(.js-close":function(e){this.resetValidation(),this.close()},openChangeDialogAvatar:"openChangeDialohangeDialogNickname"}}}]),(0,o.default)(t,[{key:"resetValidationtElementsByClassName("error-item")).forEach((function(e){e.removeAttribute("style")})),Array.from(document.getElementsByClassName("input")).forEach((function(e){e.classList.remove("error")}))}},{key:"openChangeDialogAvatar",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector("#profiledialog-change-avatar",{animationPrevented:!1,setFocus:!0})}},{key:"openChangeDialogNickname",value:function(){this.isOpen||this.open(),this.expandPanelWithSelector("#profiledialog-change-nick",{animationPrevented:!0,setFocus:!0})}},{key:"getPanelGroupComponent",value:function(){var e=this.query('[data-module="js-panelgroup"]');this.panelGroupComponent=e?this.component(e):null,this.panelGroupComponent||this.logWarn("missing panelGroupComponent")}},{key:"expandPanelWithSelector",value:function(e,t){if(!this.panelGroupComponent)return this.logError("panelGroupComponent missing, cannot open panel",e,this.panelGroupComponent,this.panelGroupComponent.$panels),!1;var n=this.query(e),i=this.panelGroupComponent.$panels.elements.indexOf(n);if(!n||-1===i)return this.logError("panel missing, cannot open panel",n,e),!1;n.hasAttribute("data-track-view")&&d.trackView(n);var r=this.query(".js-focus-on-opening",n);r||(r=this.query(".dialog-close")),t.focusElement=r,this.panelGroupComponent.selectIndex(i,t);var a=c(this.query('[data-module="change-profile"]')).rbComponent();return t.profileId&&a&&a.setProfileId(t.profileId),!0}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading),this.$backdrop.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=!!e,this.changedLoadingState()}}]),t}(l.default);u.live.register("dialog-profile",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=i(n(212)),d=i(n(7)),f=n(24),p=window.rb,h=(p.$,r=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isLoading=!1,i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{name:"dialog",loadingClass:"m-loading"}}},{key:"events",get:function(){return{"click:closest(.delete-optionaldata-btn)":"deleteOptionalDataFreleteOpt.dispatch("updateUserPersonalInfo",{yearOfBirth:"",gender:"",onSuccess:function(){e.isLoading=!1,e.close()},onFail:function(t){e.logError("updateUserPersonalInfo failed",t),e.isLoading=!1}})}},{key:"changedL$elehis.$backdrop.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"isLoading",get:function(){return this._isLoading},set:function(e){this._isLoading=!!e,this.changedLoadingState()}}]),t}(c.default),(0,u.default)(r.prototype,"deleteOptionalDataFromUser",[f.autobind],Object.getOwnPropertyDescriptor(r.prototype,"deleteOptionalDataFromUser"),r.prototype),r);p.live.register("dialog-reset-optionaldata",h);var m=h;t.default=m},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(104)),u=i(n(422)),c=window.rb,d=window.zdfsite,f=n(69),p=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isOpen=!1,i.forceSubmit=!1,i.currentLocation=i.getBasePath(location.pathname),i._handlerSearchClick=i.handlerSearchClick.bind(i),i._checkSelectedLink=i.checkSelectedLink.bind(i),i.searchButton=document.getElementsByClassName(i.options.searchButton)[0],i}return(0,s.default)(t,e),(0,o.default)(t,[{key:"attached",value:function(){window.zdfsite.isTiviApp||(u.default.broadcastTiviLocation(window.location.href),d.isTiviLocation&&document.body.addEventListener("click",this._checkSelectedLink),this.searchButton&&this.searchButton.addEventListener("click",this._handlerSearchClick))}},{key:"detached",value:function(){window.zdfsite.isTiviApp||(d.isTiviLocation&&document.body.removeEventListener("click",this._checkSelectedLink),this.searchButton&&this.searchButton.removeEventListener("click",this._handlerSearchClick))}}],[{key:"defaults",get:function(){return{name:"dialog",validationAttribute:"data-show-two-click-verification",searchPathAttr:"data-search-paths",specialLinkClass:"b-cluster-teaser",searchseOnEsc:!1,closeOnBackdropClick:!1,trackDataView:{element:"2_Klick_Overlay_tivi",action:"Öffnen"}}}},{key:"events",get:function(){return{"click:closest(.stay-btn)":function(e){this.close()},"click:closest(.leave-btn)":function(e){u.default.broadcastDeliberateEscapeEvent(),this.openBySearch?this.performSubmit():this.proceedToLink()}}}}]),(0,o.default)(t,[{key:"getBasePath",value:function(e){var t=e.split("/");return t.length>1&&t[1]||""}},{key:"proceedToLink",value:functthis.targetType?window.open(this.currentTarget,this.targetType):window.location.href=this.currentTarget}},{key:"performSubmit",value:function(){this.forceSubmit=!0,this.searchButton.click()}},{key:"forceValidation",value:function(e){var t=e.getAttribute(this.options.validationAttribute);return null!==t&&JSON.parse(t)}},{key:"handlerSearchClick",value:function(e){this.forceSubmit?this.forceSubmit=!1:"true"===e.currentTarget.getAttribute(this.options.validationAttribute)&&(e.preventDefault(),this.handleOpenModal(!0))}},{key:"checkSelectedLink",value:function(e){var t=e.target.closest("a[href]");if(t){if(t.classList.contains("top-link")||t.classList.contains("zdfplayer-next-video-link")||t.classList.contains("back-to-photo-matrix")||t.hasAttribute("download"))return;if("false"===t.getAttribute(this.options.validationAttribute))return;d.checkTiviLocation(t)||(e.preventDefault(),this.currentTarget=t.href,this.targetType=t.target,this.handleOpenModal(!1))}}},{key:"handleOpenModal",value:function(e){this.isOpen||this.open(),this.openBySearch=!!e}}]),t}(l.default);c.live.register("dialog-tivi",p);var h=p;t.default=h},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=function(e)ult)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,null,[{key:"defaults",get:function(){return{hover:!1}}},{key:"events",get:function(){return{"{name}-panelchange":function(e){var t=thi._closedByMouse;n?(this._blockClose=!0,this._closedByMouse=!1,clearTimeout(this._blockTimer),this._blockTimer=setTimeout((function(){t._blockClose=!1,t._openedByMouse=!1,t._closedByMouse=!1}),450)):this._openedByMouse=!1,i&&this._blockClose&&!r&&e.preventDefault()},mouseleave:function(){var e=this;this.options.hover&&this._openOnMouseEnterTimer=null),clearTimeout(this._closeOnMouseLeaveTimer),this._closeOnMouseLeaveTimer=setTimeout((function(){e.selectedIndexes.length&&(e._closedByMouse=!0,e.closeAll())}),200))},mouseenter:function(){var e=this;this.options.hover&&(this._closeOnMouseLeaveTimer&&(clearTimeout(this._closeOnMouseLeaveTimer),this._closeOnMouseLeaveTimer=null),clearTimeout(this._openOnMouseEnterTimer),this._openOnMouseEnterTimer=setTimeout((function(){e.selectedIndexes.length||(e._openedByMouse=!0,e.openAll())}),99))}}}}]),t}(i(n(141)).default);rb.live.register("js-dropdown",l);var u=l;t.default=u},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15);var r,a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=n(24),d=n(376),f=window.rb,p=f.$,h=(r=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrions.nav)[0]),f.rAFs(i,"renderTemplate"),i}returet:function(){return{startPage:"start",nav:"$(.right-nav)",activeClass:"m-active"}}}]),(0,s.default)(t,[{key:"isValidTmplate",value:function(e){return e&&"page/tmpl"==e.getAttribute("type")}},{key:"_hashChange",value:function(){var e=(0,d.getPlainHashValue)(window.location.hash),t=void 0;e||(e=this.options.startPage),e&&(t=document.getElementById(e)),this.isValidTmplate(t)||this.rendered||(e=this.options.startPage,t=document.getElementById(e)),this.isValidTmplate(t)&&this.renderTemplate(t.innerHTML,e)}},{key:"renderTemplate",value:function(e,t){window.location.href===window.zdfsite.myTiviUrl?this.updateNavigation(window.location.pathname):this.updateNavigation("#".concat(t)),this.query(".{name}-box").innerHTML=e,this.rendered=t,this._trigger("changed")}},{key:"updateNavigation",vaind('a[href$="'.concat(e,'"]')).closest("li").addClass(this.options.activeClass)}},{key:"attached",value:function(){window.addEventListener("hashchange",this._hashChange),this._hashChange()}},{key:"detached",value:function(){window.removeEventListener("hashchange",this._hashChange)}}]),t}(f.Component),(0,u.default)(r.prototype,"_hashChange",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"_hashChange"),r.prototype),r);f.live.register("dynamicpage",h);var m=h;t.default=m},function(e,t,n){"use strict";(function(e){n(49),n(13),n(15),n(17);var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(23),l=n(11);t=function(){var e,t=window.rb,l=t.$,u=(n(656),n(24).autobind),c=n(69),d=(e=function(e){function n(e,a){var o;return i(this,n),(o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,a))).isLoading=!1,o.div=document,"changeState","_animateTeasersInTransition"),t}return o(n,e),a(n,null,[{key:"defaults",get:function(){return{dayTextSelector:".{name}-day-text",dayTextFormat:"{yyyy}-{mm}-{dd}",teaserSel:".epg-teaser",easing:"ease-in-out",duration:700}}},{key:"events",get:function(){return{"click:closest(.{name}-btn)":function(e){this.loadContent(e.target.href),e.preventDefault(),this.element.hasAttribute("data-track-view")&&c.trackView(this.element)},urlcalenderpanelnavigate:function(e){this.loadContent(e.detail.url),e.preventDefault(),this.),a(n,[{key:"attached",value:function(){window.addEventListener("popstate",this._historyChange)}},{key:"detached",value:function(){window.removeEventListener("popstate",this._historyChange)}},{key:"loadContent",value:function(e){if(e)return this.loadingUrl===e?this.log("url was already loaded",e):void(this.isLoading||(this.loadingUrl=e,this.isLoading=!0,this.curHeight=this.$element.height(),this.changeState(),t.fetch(this.loadingUrl).then(this.addContent,this.loadError),window.history.pushState("",document.title,this.loadingUrl.replace(location.origin,"")),this._prepareTransition()));console.error("missing url to load content from")}},{key:"addContent",value:function(e,t){var n=this,i=this.$element.find(".b-epg-program");this.div.innerHTML=e.data;var r=l(this.div).find(".b-epg-program"),a=this.$element.css("height");if(this.$element.prepend(r.get()[0]),this.div.innerHTML="",this.isLoading=!1,!this.curHeight)return this.changeState(),void i.remove();i.addClass("m-disappearing"),this.$element.stop(!0,!0),this.$element.css({heiidden"}).animate({height:parseFloat(t.css({height:"",overflow:""}),i.remove(),setTimeout((function(){return n.changeState()}),50)}}))}},{key:"changeState",value:function(){this.$element.toggleClass("m-loading",this.isLoading)}},{key:"_prepareTransition",value:function(){if(!this.loadingUrl)return this.log("_prepareTransition | missing loadingUrl with date",this.loadingUrl),!1;var e=l(this.query(this.options.dayTextSelector)),t=this.loadingUrl.match(/(\d{4})-(\d{2})-(\d{2})/),n=this.options.dayTextFormat;t&&4===t.length?(n=(n=(n=(n=n.replace("{yy}",t[1].substring(2))).replace("{yyyy}",t[1])).replace("{mm}",t[2])).replace("{dd}",t[3]),e.animate({opacity:0},{duration:300,always:function(){e.html(n).animate({opacity:1},{duration:300})}}),this._animateTeasersInTransition(this.$element.find(this.options.teaserSel))):this.log("_prepareTransition | dateFragments found do not match expected format")}},{key:"_animateTeasersInT{for(var n=Math.ceil(e.length/3),i=0;i<n;i++)e.eq(Math.floor(e.length*Math.random())).toggleClass("m-loading-highlight");setTimeout((function(){t.isLoading&&t._animateTeasersInTransition(e)}),500)}}},{kor",this.loadingUrl),this.isLoading=!1,this.changeState(),location.href=this.loadingUrl,this.loadingUrl=""}},{key:"_historyChange",value:function(e){this.loadContent(document.location.href)}}]),n}(t.Component),s(e.prototype,"loadError",[u],Object.getOwnPropertyDescriptor(e.prototype,"loadError"),e.prototype),s(e.prototype,"_historyChange",[u],Object.getOwnPropertyDescriptor(e.prototype,"_historyChange"),e.prototype),e);return t.live.register("epg-program",d),d},"object"===l(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i,r,a;n(76),n(15),n(28),n(26),n(10),n(14),n(284),n(34),n(49),n(5787)],void 0===(a="function"==typeof(i=function(e,t,n,i,r){Object.defineProperty(e,"__esMoModule?e:{default:e}}var c=/\+/g,d=/^\//,f=/\/$/,p=/#(.*)$/,h=/\*$/,m=Promise.resolve(),v=window.history,g=0,y=function(){return!0};function b(e){return decodeURIComponent(e.replace(c," "))}a.default.Router=(0,l.default)({routes:{},mode:"history",current:"",options:{regHash:/#!(.*)$/,regIndex:/\/index\.htm[l]*$/,supportRelativeRoutes:!1,samePathStrategy:"replace"},noNavigate:!1,history:null,activeHistoryIndex:-1,storageKey:"rb_routerguments[0]?arguments[0]:{},t=e.options,n=e.listen,i=e.routes;this.config(t),this.initHistory(),i&&this.map(i),n&&this.listen()},config:function(e){return Object.assign(this.options,e),this},getFragment:function(){var e=argumenid 0,n=this.options,i=n.regHash,r=n.mode;return"hash"!=r?decodeURI(e.pathname+e.search):(t=e.href.match(i))?t[1]:""},clearSlashes:function(e){return e.toString().replace(d,"").replace(f,"")},createRouteMatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.path,i=h.test(n);n=this.clearSlashes(n),i&&(n=n.replace(h,"")),t&&!t.endsWith("/")&&n&&(t+="/"),n=t+n,e.path=n,e.matcher=n?n.split("/").map((function(e){var t=":"==e[0];return{type:t?"placeholder":"strict",name:t?e.slice(1):e}})):[],i?e.matcher.push({type:"wildcard"}):e.matcher.length||e.matcher.push({type:"strict",name:""})},extendRoutes:function(e,t){var n=void 0;for(n in e){var i=e[n];"function"==typndler||(i.handler=y),n.endsWith("*")||(n+="*")),i.path=n,this.createRouteMatcher(i,t),i.subRoutes&&this.extendRoutes(i.subRoutes,i.path)}},map:function(e){this.extendRoutes(e),this.routes=e},flush:function(){return this.routes={},this.mode=null,this},matches:function(e,t){var n=t.length+1;if(e.length>n||n-2>e.length&&"wildcard"!=e[e.length-1].type)return null;for(var i={},r=0;r<n;r++){var a=e[r],o=t[r];if(a){if("wildcard"==a.type){o&&(i["*"]=b(t.slice(r).join("/")));break}"placeholder"==a.type?o?i[a.name]=b(o):i=null:a.name!=o&&(i=null)}else o&&(i=null);if(!i)break}return i},findMatchingRoutes:function(e,t,n,i){for(var r in e){r=e[r];var a=void 0,o=this.matches(r.matcher,t);if(o){if(null==(a=r.handler(o,i,n)))return null;if(!0===a&&r.subRoutes&&!1!==(a=this.findMatchingRoutes(r.subRoutes,t,n,i)))return null}}return!1},_saveState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"unknown/initial"},n={fragment:null==e?this.getFragment():e},i=n.fragment.split("?");return e=this.clearSlashes((i[0]||"").replace(this.options.regIndex,"")),this.before=this.current,this.beforeRoute=this.currentRoute,this.beforeOptions=this.currentOptions||"",this.current=n.fragment,this.currentRoute=e,this.currentOptions=i[1]||"",n.fragment=e,n.changedRoute=this.beforeRoute!=this.currentRoute,n.changedOptions=this.beforeOptions!=this.currentOptions,n.history=this.history,n.activeHistoryIndex=this.activeHistoryIndex,n.event=t,n},applyRoutes:function(e,t){var n=this._saveState(e,t),i=(0,o.default)(this.currentOptions);return e=n.fragment.split("/"),this.noNavigate&&this.logError("Router.applyRoutes called while routes are already applied."),this.noNavigate=!0,this.findMatchingRoutes(this.routes,e,n,i),this.noNavigate=!1,this},unlisten:function(){return this._listener&&(window.removeEventListener("hashchange",this._listener),window.removeEventListener("popstate",this._listener)),(this._listener||this.interval)&&clearInterval(this.interval),this},applyRoutesIfNeeded:function(e){this.getFragment()!==this.current&&this.onRouteChanged(e)},onRouteChanged:function(e){var t=this.getFragment();return t===this.current&&this.options.samePathStrategy.includes("stop")?e&&e.original&&"popstate"===e.original.type&&(this.logWarn("route did not change, but pop event occurred"),this.updateActiveHistoryIndex()):(this.updateActiveHistoryIndex(),this.applyRoutes(t,e)),this},initHistory:function(){var e=this,t=v.state,n=t&&t.historyKey,i=void 0;this.history=null;try{i=JSON.parse(window.sessionStorage.getItem(this.storageKey))}catch(e){}i&&(this.sessionHistories=i.sessionHistories,n&&this.sessionHistories.length&&(this.history=this.sessionHistories.find((function(t){var i=t.indexOf(n);if(i>-1)return e.activeHistoryIndex=i,!0})))),n||(n=this.getHistoryKey(),v.replaceState({state:t,historyKey:n},"")),this.sessionHistories=this.sessionHistories||[],this.history||(this.history=[n],this.activeHistoryIndex=0,this.sessionHistories.push(this.history))},updateActiveHistoryIndex:function(){var e=v.state&&v.state.historyKey;if(!e)return this.logWarn("missing currentHistoryKey");this.activeHistoryIndex=this.history.indexOf(e),-1===this.activeHistoryIndex&&(this.logWarn("did not find key in history",e,this.history,this.sessionHistories),this.history=[e],this.activeHistoryIndex=0,this.sessionHistories.push(this.history)),this.saveRouterState()},getHistoryKey:function(){return(g+=1)+"-"+(0,s.default)()},addToHistory:function(e,t){t?this.history[this.activeHistoryIndex]=e:(this.history.length-1>this.activeHistoryIndex&&(this.history.length=this.activeHistoryIndex+1),this.history.push(e),this.activeHistoryIndex=this.history.length-1),this.saveRouterState()},saveRouterState:function(){window.sessionStorage.setItem(this.storageKey,JSON.stringify({sessionHistories:this.sessionHistories}))},listen:function(){var e=this;return this.last=this.current,this.current=this.getFragment(),this.unlisten(),this._listener||(this._listener=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"interval"},n="interval"!=t.type||e.getFragment()!==e.current;n&&e.onRouteChanged({type:"popstate",original:{type:t.type,state:t.state}})}),this.interval=setInterval(this._listener,999),"hash"==this.mode?window.addEventListener("hashchange",this._listener):window.addEventListener("popstate",this._listener),this},normalizePath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=e.replace(f,"")).startsWith(".")||(e="/"+e.replace(d,"")),e},changedPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location,n=void 0;return this.options.supportRelativeRoutes?(e=this.normalizePath(e),n=this.current!==this.getFragment(new URL(e,t.href))):(e.startsWith(".")&&this.logError("we do not support relative path: "+e),n=this.clearSlashes(e)!==this.clearSlashtion(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,i=arguments,r=arguments[2],a=arguments[3];if(this.noNavigate)return m.then((function(){n.navigate.apply(n,i)})),this.logWarn("Router.navigate called while routes are already applied."),this;if(e=this.normalizePath(e||""),"boolean"==typeof t&&(a=r,r=t,t=null),!a&&!this.changedPath(e)){var o=this.options.samePathStrategy;if(o.includes("reload"))return void window.location.reload();o.includes("replace")&&!1!==a&&(a=!0)}var s={type:"navigate",replace:a};if(t&&t.historyKey&&t.state||(t={state:t,historyKey:this.getHistoryKey()}),this.addToHistory(t.historyKey,a),"history"===this.mode)v[!0===a?"replaceState":"pushState"](t,"",e);else{var l=window.location.href.replace(p,"")+"#"+e;!0===a?location.replace(l):window.location.href=l}return r?this._saveState(s):this.onRouteChanged(s),setTimeout((functies:!0,cancelable:!1,detail:{event:s,state:t}});window.dispatchEvent(e)}),0),this},push:function(e,t,n){return this.navigate(e,t,n,!1)},replace:function(e,t,n){return this.navigate(e,t,n,!0)}},2),e.default=n(0),r=n(1),a=n(3),o=n(35),s=n(4),l=n(11);t=function(){var e=window.rb,t=(e.$,function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"setSwitchedOffClass",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setSwitchedOffClass",this).call(this),this.$queryAll(".station-list").attr({"aria-hidden":this.options.switchedOff})}}],[{key:"defaults",get:function(){return{name:"js-tabs",jsName:"js-tabs"}}}]),t}(n(310).JSTabs));return e.live.register("epgtabs",t),t},"object"===l(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(114);n(85),n(659),n(14),n(15);var r=n(0),a=n(1),o=n(3),s=n(35),l=n(4);!function(){var t=window.rb,u=n(423),c=function(e){function n(e,i){var a;return r(this,n),(a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i))).viewportElement||(a._verticalScroll=0,a.viewportElement=t.getScrollingElement()),t.rAFs(a,{that:a},"minimizeSmallTeaser","enlargeSmallTeaser","updatePagination","changePlusBtn","disableEnablePagination"),a._onResize=t.throttle(a._onResize,{that:a}),a._onScroll=t.throttle(a._onScroll,{that:a}),a.calcDaytimeModule(),a.createTimePagination(),a.scrollToCurrentDate(),a.calcDisableEnablePagination(),a}return l(n,e),a(n,[{key:"updateScrollListener",value:function(){var e=this._onScroll.bind(this);this.isHorizontal?window.removeEventListener("scroll",e):verticalScroll=this.viewportElement.scrollTop||0,this.updatePagination()}},{key:"disableEnablePagination",value:function(e,t){t?e.setAttribute("tabindex","-1"):e.removeAttribute("tabindex")}},{key:"calcDisableEnablePagination",value:function(){var e=this;this.$timePagination&&this.$timePagination.find(".time-bar-link").get().forEach((function(t){var n=t.closest("[data-scroll-value]"),i="-1"===t.getAttribute("tabindex"),r=!e.getDayTimeTeaser(n.getAttribute("data-scroll-value"),!0);i!=r&&e.disableEnarollToCurrentDate",value:function(){var e=this,n=new Date,i=60*n.getHours()+n.getMinutes()-330;i<0?(n.setDate(n.getDate()),i=10*i+this.list.scrollWidth,t.rIC((function(){e.list.scrollLeft=i}))):n.toJSON().split("T")[0]===this.options.date&&t.rIC((function(){e.list.scrollLeft=i/15*100}))}},{key:"_installTouchOut",value:function(e){var t=this;docuhout"},e),document.removeEventListener("touchend",n)}))}},{key:"_onResize",value:function(){this.calcDaytimeModule(),this.updatePagination(),this.reflow(),this.calcDisableEnablePagination()}},{key:"attached",value:function(){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attached",this).call(this),t.resize.on(this._onResize)}},{key:"detached",value:function(){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"detached",this).call(this),t.resize.off(this._onResize)}},{key:"_onEnter",value:function(e,n){if(this.isHorizontal){var i=!1;return this.options.switchedOff||"focus"==e.type&&!t.root.classList.contains(t.statePrefix+"keyboardfocus-within")||(n._isGettingSmaller&&(n._stopGettingSmaller=!0,n._isEnlarged=!0),i=this.checkSmallTeaser(n)),i}}},{key:"_onExit",value:function(e,t){if(this.isHorizontal){if(t.classList.contains("m-plus-button-extended-within"))return!1;!this.options.switchedOff&&t._isEnlarged&&(t._isGettingSmaller=!0,delete t._isEnlarged,t._stopGettingSmaller&&delete t._stopGettingSmaller,this.minimizeSmallTeaser(t))}}},{key:"calcDaytimeModule",value:function(){var e1>this.list.offsetWidth;this.isHorizontal!==n&&(thise.changePlusBtn()}))),this.calcDaytimes()}},{key:"changePlusBtn",value:function(){this.$queryAll(".b-epg-timeline:first-child .b-plus-button").toggleClass("m-extend-down",this.isHorizontal)}},{key:"createTimePagination",value:function(){var e=this;this.options.timePagination&&(this.$timePagination=t.$(this.getElementsFromString(this.options.timePagination)),this.$timePagination.on("click",".time-bar-link",(function(t){t.preventDefault();var n=t.delegatedTarget.closest("[data-scroll-value]");n&&"-1"!==t.delegatedTarget.getAttribute("tabindex")&&e.scrollToDaytime(n.getAttribute("data-scroll-value"),!0)})))}},{key:"scrollToDaytime",value:function(e,t){if(e in this.daytimes){var n=void 0;this.isHorizontal?(this.curScroll=this.daytimes[e],this._animateScroll(),n=t&&this.element.querySelector(".js-daytime-"+e)):un.querySelector("a, button"))&&this.setFocus(n)}}},{key:"getDayTimeTeaser",value:function(e,t){var n=this.queryAll(".js-daytime-"+e),i=n.sort((function(e,t){return e.offsetLeft-t.offsetLeft})).find((function(e){return e.offsetWidth}));return i||t||(i=n[0]),i}},{key:"getDaytimePosition",value:function(e){var t=this.getDayTimeTeaser(e);return t?this.isHorizontal?wportElement.scrollTop:0}},{key:"calcDaytimes",value:function(){var e=this;this.daytimes||(this.daytimes={}),this.options.daytimes.forEach((function(t){e.daytimes[t]=e.getDaytimePosition(t)}))}},{key:"calcLayout",value:function(){s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"calcLayout",this).call(this),this.viewportElement||(this._verticalScroll=0,this.viewportElement=t.getScrollingElement()),this.daytimes?this.isHorizontal||this.calcDaytimes():this.calcDaytimeModule(),this.updatePagination()}},{key:"updatePaginationLayout",value:function(){this.$timePagination&&(this.$timePagination.find(".m-current").removeClass("m-current"),this.$timePagination.find('[data-scroll-value="'+this.currentDaytime+'"]').addClass("m-current"))}},{key:"updatePagination",value:function(){var e=void 0,t=(this.isHorizontal?this.curScroll:this._verticalScroll)-1+this.options.offset;for(var n in this.daytimes){if(t<=this.daytimes[n]){e||(e=n);break}e=n}e!==this.currentDaytime&&(this.currentDaytime=e,this.updatePaginationLayout())}},{key:"minimizeSmallTeaser",value:function(e){e._isGettingSmaller&&delete e._isGettingSmaller,e._stopGettingSmaller?delete e._stopGettingSmaller:(e.style.minWidth="",e.classList.remove("m-enlarged"))}},{key:"enlargeSmallTeaser",value:function(e,t){e.classList.add("m-enlarged"),e.style.minWidth=t+"px"}},{key:"getWidthDifference",value:function(e,t){var n=e.querySelector(t),i=n.offsetWidth;return[n.scrollWidth-i,i]}},{key:"checkSmallTeaser",value:function(e){var t=!1,n=this.getWidthDifference(e,this.options.measureSel),r=i(n,2),a=r[0];return r[1]<150&&a<140&&(a=Math.max(this.getWidthDifference(e,this.options.measureSmallSel)[0],a)),a>1&&(e._isEnlarged=!0,t=!0,this.enlargeSmallTeaser(e,e.offsetWidth+a+5)),t}}],[{key:"defaults",get:function(){return{daytimes:["morgens","mittags","abends","nachts"],measureSel:".overlay-link",measureSmallSel:".overlay-link-time",offset:300,ter:capture():matches(.epg-teaser)":function(e){var t=e.delegatedTarget;this._onEnter(e,t)},"mouseleave:capture():matches(.epg-teaser)":function(e){var t=e.delegatedTarget;this._onExit(e,t)},"focus:capture():closest(.epg-teaser)":function(e){var t=this,n=e.delegatedTarget;setTimeout((function(){n.contains(document.activeElement)&&t._onEnter(e,n)}))},"blur:capture():closest(.epg-teaser)":function(e){var t=this,n=e.delegatedTarget;setTimeout((function(){n.contains(document.activeElement)||t._onExit(e,n)}))},"touchend:closest(.epg-teaser)":function(e){if(this.isHorizontal){var t=e.delegatedTarget;t._isEnlarged&&!e.target.closest(".b-plus-button")?this._onExit(e,t):this._onEnter(e,t)&&(e.preventDefault(),e.stopPropagation(),this._installTouchOut(t))}},'js-tabschantoJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=r(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15),n(13),n(36),n(9),n(8),n(5),n(33),n(10);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(72)),u=window.rb,c=u.$,d=n(7),f=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).userInfo=null,i.dataChanged=null,u.rAFs(i,{that:i},"preFillFormWithUserData"),d.ready.then((function(){i.preFillFormWithUserData()})),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{emailDisabledClass:"m-email-change-disabled",emailChangedClass:"m-email-changed"}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,o.default)(t,[{key:"preFillFormWithUserData",value:function(){var e=this;this.userInfo=d.getState().info,this.userInfo&&(this.queryAll("input[data-profile-key]").forEach((function(t){var n=t.getAttribute("data-profile-key");n in e.userInfo&&(t.value=e.userInfo[n]||"")})),this.emailChangeDisabled=!this.userInfo.email,this.$element.toggleClass(this.options.emailDisabledClass,!this.userInfo.email))}},{key:"submit",value:function(e){var t=this;e&&e.preventDefault();var n={value:""},i=[],r=u.deferred(),a=u.deferred();this.userInfo=d.getState().info,this.dataChanged=[];var o={name:(this.element.username||n).value,email:(this.element.email||n).value,password:(this.element.password||n).value},s={name:o.name};if(this.emailChangeDisabled||(s.password=o.password),i=i.concat(this.getValidationErrorsForInvalidValueMissingElements(this.element)),this.emailChangeDisabled||o.password||i.push({message:"Please fill all required fields.",errorElements:this.element.password}),this.emailChangeDisabled||o.email||i.push({message:"Please fill all required fields.",errorElements:this.element.email}),!this.emailChangeDisabled&&o.email&&this.checkInvalidityOfElementForTypes(this.element.email,["typeMismatch","patternMismatch"])&&i.push("E-Mail has an invalid format."),i.length)return this.fail(this.mergeErrorMessages(i)),!1;Promise.all([r,a]).then((function(e){t.success(e)}),(function(e){t.fail(e)})),o.name?d.dispatch("updateUserInfo",Object.assign(s,{onSuccess:function(e){t.dataChanged.push("userInfo"),a.resolve(e),t.sendChangeEmailRequest(o,r)},onFail:function(e){a.reject(e)}})):a.reject({}),u.rAFQueue((function(){t.element.classList.add("m-loading")}))}},{key:"sendChamailChangeDisabled||e.email===this.userInfo.email?t.resolve({}):d.dispatch("changeEmailRequest",Object.assign({email:e.email},{onSuccess:function(e){n.dataChanged.push("email"),t.resolve(e)},onFail:function(e){t.reject(e)}}))}},{key:"success",value:function(){var e=this.$element.attr("action"),t=this.dataChanged,n=t&&-1!==t.indexOf("email");if(0===e.indexOf("#")){var i=c(e),r=i.rbComponent();if(r&&"open"in r){var a=r.query(".js-focus-on-opening");return a||(a=r.groupComponent.$element.parent().find(".dialog-close")),r.open({focusElement:a&&a.get(0)||null}),void i.toggleClass(this.options.emailChangedClass,n)}}location.href=e}}]),t}(l.default);u.live.register("changedataform",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15),n(13);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(72)),u=window.rb,c=u.$,d=n(7),f=function(e){function t(e,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,o.default)(t,[{key:"checkPasswords",value:function(e,t){return e===t}},{key:"submit",value:function(e){var t=this;e&&e.preventDefault();var n={value:""},i=[],r={oldPassword:(this.element.oldpassword||n).value,newPassword:(this.element.newpassword||n).value,passwordVerification:(this.element.passwordverification||n).value};if(i=i.concat(this.getValidationErrorsForInvalidValueMissingElements(this.element)),this.checkPasswords(r.newPassword,r.passwordVerification)||i.push("Passwords must match."),i.length)return this.fail(this.mergeErrorMessages(i)),!1;d.dispatch("updatePassword",Object.assign(r,{onSuccess:this.success,onFail:this.fail})),u.rAFQueue((function(){t.element.classList.add("m-loading")}))}},{key:"success",value:function(e){e.data;var t=this.$element.attr("action");if(0===t.indexOf("#")){var n=c(t).rbComponent();if(n&&"open"in n){var i=n.query(".js-focus-on-opening");return i||(i=n.groupComponent.$element.parent().find(".dialog-close")),void n.open({focusElement:i&&i.get(0)||null})}}location.href=t}}]),t}(l.default);u.live.register("changepassform",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(72)),u=window.rb,c=u.$,d=n(7),f=function(e){function t(e,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{}}},{key:"events",get:function(){return{submit:"svar t=this;e&&e.preventDefault(),d.deleteUserData().then((function(e){t.showPanel(t.$element.attr("data-success-view"))})).catch((function(e){t.showPanel(t.$element.attr("data-error-view"))}))}},{key:"showPanel",value:function(e){var t=c(e).rbComponent();if(t&&"open"in t){var n=t.query(".js-focus-on-opening");return n||(n=t.groupComponent.$element.parent().find(".dialog-close")),void t.open({focusElement:n&&n.get(0)||null})}location.href=e}}]),t}(l.default);u.live.register("historydeleteform",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var r,a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(23)),c=n(24),d=window.rb,f=(r=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setProfiles",value:function(e){var t=e.map((function(e){var t=e.id,n=e.name,i=e.avatar;return n=d.escape(n||""),'\n                <div class="cell">\n                    <div class="b-avatar-item" data-profile-id="'.concat(t,'">\n                        <button class="avatar-label" aria-label="').concat(n,'">\n                            <span class="avatar-image js-rb-live" data-module="avatar-image" data-avatar-image-avatar-id="').concat(i,'"></span>\n                            <span class="name ellipsis">').concat(n,"</span>\n                        </button>\n                    </div>\n                </div>\n            ")}));this.element.innerHTML=t.join("")}},{key:"onSelect",value:function(e){if(this.selectionHandler){e.preventDefault();var t=e.delegatedTarget.getAttribute("data-profile-id");this.selectionHandler(t)}}}],[{key:"events",get:function(){return{"click:closest([data-profile-id])":"onSelect"}}}]),t}(d.Component),(0,u.default)(r.prototype,"onSelect",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"onSelect"),r.prototype),r);d.live.register("login-profile-list",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=n(7),u=window.rb,c=function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),/\/mein-zdf#registryKey/.test(location..default)(t,null,[{key:"events",get:function(){return{"click:closest(.ard-btn)":"login"}}}]),(0,o.default)(t,[{key:"login",value:function(){l.ardLogin().then((function(e){location.href=e}))}}]),t}(u.Component);u.live.register("login-with-ard-account",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(2),r=n(42);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var a=i(n(53)),o=i(n(21)),s=i(n(100));n(84);var l=i(n(101));n(36),n(5);var u,c=i(n(0)),d=i(n(3)),f=i(n(1)),p=i(n(4)),h=i(n(23)),m=i(n(72)),v=n(24),g=i(n(232)),y=i(n(280)),b=r(n(205)),_=(i(n(178)),n(159)),w=window.rb,k=n(7),S=(u=function(e){function t(e,n){var i;return(0,c.default)(this,t),(i=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).panelGroup=w.getComponent(i.query('[data-module="panelgroup"]')),i.panelGroup.next(),i.profileList=w.getComponent(i.query('[data-module="login-profile-list"]')),i}return(0,p.default)(t,e),(0,f.default)(t,null,[{key:"defaults",get:function(){return{showProfileSelection:!0}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,f.default)(t,[{key:"installFailListener",value:function(){this.deinstallFailListener(),k.subscribe("login:/failed",this.fail)}},{key:"deinstallFailListener",value:function(){k.unsubscribe("login:/failed",this.fail)}},{key:"submit",value:function(e){var t=this;e&&e.preventDefault(),this.installFailListener();var n={value:""},i=[];if((i=i.concat(this.getValidationErrorsForInvalidValueMissingElements(this.element))).length)return this.fail(this.mergeErrorMessages(i)),!1;var r={username:(this.element.email||n).value,password:(this.element.password||n).value,loginSideEffect:this.loginSideEffect};k.dispatch("login",r),w.rAFQueue((function(){t.element.classList.add("m-loading")}))}},{key:"loginSideEffect",value:function(e){var t,n=this;return new Promise((t=(0,l.default)(s.default.mark((function t(i,r){var u,c,d,f,p,h,m,v,k,S,O,E,P,T,x,C,A,I;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c=null==e||null===(u=e.data)||void 0===u?void 0:u.token)){t.next=29;break}return n.isLoading=!0,p={headers:{"Api-Auth":"Bearer ".concat(zdfsite.apiToken),Authorization:"Bearer ".concat(c)}},h=zdfsite.identityService,t.next=7,fetch("".concat(h,"/userinfo"),p).then((function(e){return e.json()}));case 7:return m=t.sent,t.next=10,fetch("".concat(h,"/userdetails"),p).then(function(){var e=(0,l.default)(s.default.mark((function e(t){var n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.json(),e.t0=t.headers.get("etag"),e.next=4,n;case 4:return e.t1=e.sent,e.abrupt("return",{etag:e.t0,userDetails:e.t1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}());case 10:if(v=t.sent,k=v.etag,S=v.userDetails,O=(0,_.getDetailsStorageKey)(_.USER_TYPE.ANON),((E=_.STORAGE.get(O)).bookmarks.length>0||E.subscriptions.length>0)&&(P={"Content-Type":"application/json"},(0,o.default)(P,"If-Match",k),(0,o.default)(P,"Authorization","Bearer ".concat(c)),(0,o.default)(P,"Api-Auth","Bearer ".concat(zdfsite.apiToken)),T=P,x=JSON.stringify({bookmarks:[].concat((0,a.default)((null==E?void 0:E.bookmarks)||[]),(0,a.default)((null==S?void 0:S.bookmarks)||[])),subscriptions:[].concat((0,a.default)((null==E?void 0:E.subscriptions)||[]),(0,a.default)((null==S?void 0:S.subscriptions)||[]))}),fetch("".concat(h,"/userdetails"),{method:"PATCH",headers:T,body:x}),_.STORAGE.remove(O)),C=(0,_.getHistoryStorageKey)(_.ANONYMOUS_ID),!!_.STORAGE.get(C)&&(A={method:"PATCH",http:{url:y.default.getServerUrlForUserId(m.id),saveUrl:"".concat(zdfsite.apiService,"/identity/user-histories/").concat(m.id,"/playbackHistory/entries"),headers:b.getAuthHeaders(c),errorHandler:function(e){w.logError("Error while merging user playback history",e)}}},new g.default(C,A).save(),_.STORAGE.remove(C)),n.isLoading=!1,!zdfsite.isTiviApp||1!==(null==S||null===(d=S.subProfiles)||void 0===d?void 0:d.length)){t.next=24;break}return i(),t.abrupt("return");case 24:1===document.getElementsByClassName("m-oauth").length&&(n.options.showProfileSelection=!1),!0===n.options.showProfileSelection&&(null==S||null===(f=S.subProfiles)||void 0===f?void 0:f.length)?(I=[].concat((0,a.default)(S.subProfiles)),zdfsite.isTiviApp||I.unshift({id:m.id,name:m.name,avatar:"avatar-dett"}),n.panelGroup.selectIndex(1,{setFocus:!0}),w.$('[data-module="dialog-login"]').on("dialog-loginchanged",(function(e){w.getComponent(e.target).isOpen||i()})),n.profileList.setProfiles(I),n.profileList.selectionHandler=function(e){e===m.id?i():setTimeout((function(){i({redirect_url:{url:zdfsite.myTiviUrl,addToken:!1},selectedSubProfile:e})}),1e3)},n.element.nextElementSibling.classList.add("hide")):i(),t.next=30;break;case 29:r(e);case 30:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)}))}},{key:"detached",value:function(){this.deinstallFailListener()}}]),t}(m.default),(0,h.default)(u.prototype,"loginSideEffect",[v.autobind],Object.getOwnPropertyDescriptor(u.prototype,"loginSideEffect"),u.prototype),u);w.live.register("login",S);var O=S;t.default=O},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(4)),s=n(7),l=window.rb,u=window.rb.$,c=function(e){function t(e,n){var i;(0,r.default)(this,t);var o=void 0,l=(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).query('[data-role="registration-link"]');if(l&&!1===zdfsite.isHeuteApp&&!1===zdfsite.isTiviApp)u(l).removeClass("hide"),o=l;else{var c=i.query(".register-btn");u(c).removeClass("hide"),o=c}return o.addEventListener("click",(function(){s.isArdUser()&&s.dispatch("silentLogout",!0)})),i}return(0,o.default)(t,e),t}(l.Component);l.live.register("registration-link",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13),n(17);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(72)),u=i(n(52)),c=window.rb,d=(c.$,n(7)),f=function(e){function t(e,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,o.default)(t,[{key:"installFailListener",value:function(){this.deinstallFailListener(),d.subscribe("resetPassword:/failed",this.fail)}},{key:"deinstallFailListener",value:function(){d.unsubscribe("resetPassword:/failed",this.fail)}},{key:"checkPasswords",value:function(e,t){return e===t}},{key:"submit",value:function(e){var t=this;e&&e.preventDefault(),this.installFailListener();var n={value:""},i=[],r=(0,u.default)(location.hash.replace("#","")),a=r.passwordChangeKey||"",o={email:r.email||"",key:a,newPassword:(this.element.newpassword||n).value,passwordVerification:(this.element.passwordverification||n).value};if(this.checkPasswords(o.newPassword,o.passwordVerification)||i.push("Passwords must match."),i.length)return this.fail({status:400,message:i.join(" ")}),!1;d.dispatch("resetPassword",Object.assign(o,{onSuccess:function(){window.history&&window.history.replaceState(null,"",location.pathname)}})),c.rAFQueue((function(){t.element.classList.add("m-loading")}))}},{key:"detached",value:function(){this.deinstallFailListener()}}]),t}(l.default);c.live.register("passwordreset",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(72)),u=window.rb,c=u.$,d=n(7),f=function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),u.rAFs(i,{that:i},"successOAuth"),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{actionOauth:""}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,o.default)(t,[{key:"submit",value:function(e){e&&e.preventDefault(),d.dispatch("deleteAccountWithToken",{onSuccess:this.successOAuth,onFail:this.fail})}},{key:"success",value:function(){var e=this.$element.attr("action");if(0===e.indexOf("#")){var t=c(e).rbComponent();if(t&&"open"in t){var n=t.query(".js-focus-on-opening");return n||(n=t.groupComponent.$element.parent().find(".dialog-close")),void t.open({focusElement:n&&n.get(0)||null})}}location.href=e}},{key:"successOAuth",value:function(){var e=this.options.actionOauth;if(d.dispatch("silentLogout",!0),location.reload(),0===e.indexOf("#")){var t=c(e).rbComponent();if(t&&"open"in t){var n=t.query(".js-focus-on-opening");return n||(n=t.groupC}]),t}(l.default);u.live.register("profiledeleteform",f);var p=f;t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTypes=void 0;t.NoopTypes={}},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(8),n(33),n(36),n(5);var r=i(n(21)),a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23));n(10);var c,d=i(n(113)),f=i(n(72)),p=n(24),h=n(245),m=n(48),v=n(243);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=m.STORAGE_KEYS.REGISTRATION_STATE.name,_=window.rb,w=(window.rb.$,n(7)),k=(c=function(e){function t(e,n){var i;(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).state={step:1};var r=d.default.session.get(b)||{};return i.state=y({},i.state,{},r,{gender:void 0,yearOfBirth:void 0}),i.steps=i.queryAll("[data-step]"),i.progress=_.getComponent(document.querySelector('[data-module="fsk-progress"]')),i.panelGunction(){return{"keyup:.input":"onInputChange","change:.checkbox-input":"onInputChange","click:closest(.js-btn-back)":"onBack",submit:"onSubmit","click:closest(.js-btn-retalue:function(){this.nextStep()}},{key:"nextStep",value:function(){window.scrollTo(0,0),this.panelGroup.next()}},{key:"prevStep",value:function(){window.scrollTo(0,0),this.panelGroup.prev()}},{key:"startOver",value:function(){this.panelGroup.selectIndex(0)}},{key:"updateView",value:function(){var e=this.panelGroup.selectedIndexes[0]||0;this.progress.setStep(e+1)}},{key:"onInputChange",value:function(e){var t=e.target,n=t.name,i=t.value,a=t.type,o=t.checked,s="checkbox"===a?o:i;("yearOfBirth"===n&&!(0,v.yearIsInAllowedRange)(i)||"gender"===n&&"no-selection"===i)&&(s=""),this.state=y({},this.state,(0,r.default)({},n,s)),d.default.session.set(b,this.state)}},{key:"validateInput",value:function(e){var t=this;return new Promise((function(n,i){if(e===t.element.email)(0,h.notEmpty)(t.element.email)?t.checkInvalidityOfElementForTypes(t.element.email,["typeMismatch","patternMismatch"])?i(["E-Mail has an invalid format."]):n():i(["E-Mail must not be empty."]);else{if(e===t.element.password){var r=(0,h.passwordQuality)(t.element.password);r.length&&i(r)}e!==t.element.privacy||(0,h.inputChecked)(t.element.privacy)||i(["Please accept the data privacy statement."]),e!==t.element.terms||(0,h.inputChecked)(t.element.terms)||i(["Please accept the terms of service."]),e!==t.element.username||(0,h.notEmpty)(t.element.username)||i(["Username must not be empty."]),n()}}))}},{key:"validate",value:function(){var e=this,t=this.panelGroup.selectedItems[0],n=this.queryAll("input",t).map((function(t){return e.validateInput(t)}));return Promise.all(n)}},{key:"onBack",value:function(){var e,t,n=this.panelGroup.$panels.get(),i=this.panelGroup.selectedIndexes[0];(null==n||null===(e=n[i-1])||void 0===e||null===(t=e.classList)||void 0===t?void 0:t.contains("form-panel"))&&this.prevStep()}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.validate().then((function(){var e,n,i=t.panelGroup.$panels.get(),r=t.panelGroup.selectedIndexes[0];if(null==i||null===(e=i[r+1])||void 0===e||null===(n=e.classList)||void 0===n?void 0:n.contains("form-panel")){var a={};0===r&&(a={page:"ZDF-Konto erstellen - Schritt 1",page_title:"ZDF-Konto erstellen - Schritt 1",click:"ZDF-Konto erstellen - Schritt 2",target_title:"ZDF-Konto erstellen - Schritt 2"}),1===r&&(a={page:"ZDF-Konto erstellen - Schritt 2",page_title:"ZDF-Konto erstellen - Schritt 2",click:"ZDF-Konto erstellen - Schritt 3",target_title:"ZDF-Konto erstellen - Schritt 3"}),zdfsite.trackingHelper.trackClick({deltaType:"click.navigation",action:"Weiter",actionDetail:null,atiDeltaData:y({page_chapter1:"Mein_ZDF",page_subsection:"Mein_ZDF",page_chapter2:"article",page_type:"article",site_level2:"5",page_section:"5",click_chapter1:"Mein_ZDF",target_subsection:"Mein_ZDF",click_chapter2:"article",click_chapter3:null,target_sophora_id:null,target_type:"article",target_section:"5",target_url:null},a)}),t.nextStep(),setTimeout((function(){var e={};0===r&&(e={page:"ZDF-Konto erstellen - Schritt 2",page_title:"ZDF-Konto erstellen - Schritt 2"}),1===r&&(e={page:"ZDF-Konto erstellen - Schritt 3",page_title:"ZDF-Konto erstellen - Schritt 3"}),zdfsite.trackingHelper.trackViewCustom({atInternetDeltaPageView:y({},e,{page_chapter1:"Mein_ZDF",page_subsection:"Mein_ZDF",page_chapter2:"article",page_type:"article",site_level2:"5",page_section:"5"})})}),100)}else t.sendRegistrationRequest()})).catch((function(e){var n,i,r=t.panelGroup.$panels.get(),a=t.panelGroup.selectedIndexes[0];(null==r||null===(n=r[a+1])||void 0===n||null===(i=n.classList)||void 0===i?void 0:i.contains("form-panel"))&&zdfsite.trackingHelper.trackClick({deltaType:"click.action",action:"Weiter",actionDetail:"Registrierung Email und Passwort nicht valide + FEHLER"}),t.fail(t.mergeErrorMessages(e))}))}},{key:"sendRegistrationRequest",value:function(){var e=this,t=this.state,n=t.username,i=t.password,r=t.email,a=t.gender,o=t.yearOfBirth;w.dispatch("register",{username:n,password:i,email:r,gender:a,yearOfBirth:o,onSuccess:function(){zdfsite.trackingHelper.trackClick({deltaType:"click.navigation",action:"Registrierung abschließen",actionDetail:null,atiDeltaData:{page:"ZDF-Konto erstellen - Schritt 3",page_title:"ZDF-Konto erstellen - Schritt 3",page_chapter1:"Mein_ZDF",page_subsection:"Mein_ZDF",page_chapter2:"article",page_type:"article",site_level2:"5",page_section:"5",click:"ZDF-Konto erstellen - Schritt 4",target_title:"ZDF-Konto erstellen - Schritt 4",click_chapter1:"Mein_ZDF",target_subsection:"Mein_ZDF",click_chapter2:"article",click_chapter3:null,target_sophora_id:null,target_type:"article",target_section:"5",target_url:null}}),e.success(),d.default.session.set(b,{})},onFail:function(t){zdfsite.trackingHelper.trackClick({deltaType:"click.navigation",action:"Registrierung abschließen",actionDetail:"Account bereits vergeben",atiDeltaData:{page:"ZDF-Konto erstellen - Schritt 3",page_title:"ZDF-Konto erstellen - Schritt 3",page_chapter1:"Mein_ZDF",page_subsection:"Mein_ZDF",page_chapter2:"article",page_type:"article",site_level2:"5",page_section:"5",click:"ZDF-Konto erstellen - Schritt 1",target_title:"ZDF-Konto erstellen - Schritt 1",click_chapter1:"Mein_ZDF",target_subsection:"Mein_ZDF",click_chapter2:"article",click_chapter3:null,target_sophora_id:null,target_type:"article",target_section:"5",target_url:null}}),setTimeout((function(){zdfsite.trackingHelper.trackViewCustom({atInternetDeltaPageView:{page:"ZDF-Konto erstellen - Schritt 1",page_title:"ZDF-Konto erstellen - Schritt 1",page_chapter1:"Mein_ZDF",page_subsection:"Mein_ZDF",page_chapter2:"article",page_type:"article",site_level2:"5",page_section:"5"}})}),0);var n=t.data.message,i=void 0===n?"":n;e.failed(i)}})}},{key:"openPanelByCssSelector",value:function(e){var t=this.panelGroup.$panels.get(),n=this.query(e),i=t.indexOf(n);this.panelGroup.selectIndex(i)}},{key:"success",value:function(){setTimeout((function(){zdfsite.trackingHelper.trackViewCustom({atInternetDeltaPageView:{page:"ZDF-Konto erstellen - Schritt 4",page_title:"ZDF-Konto erstellen - Schritt 4",page_chapter1:"Mein_ZDF",page_subsection:"Mein_ZDF",page_chapter2:"article",page_type:"article",site_level2:"5",page_section:"5",goal_type:"Registrierung abgeschlossen 1/2"}})}),100),this.openPanelByCssSelector(".success-panel"),this.updateView()}},{key:"findPanelByErrorMessage",value:function(e){return this.$queryAll('[data-message="'.concat(e,'"]')).parents(".form-panel").get(0)}},{key:"failed",value:function(e){var t=this.findPanelByErrorMessage(e);if(t){var n=this.panelGroup.$panels.get().indexOf(t);this.panelGroup.selectIndex(n)}else this.openPanelByCssSelector(".error-panel");this.fail(this.mergeErrorMessages([e])),this.updateView(),"Error with E-Mail, Username or Password occurred."===e&&this.startOver()}}]),t}(f.default),(0,u.default)(c.prototype,"startOver",[p.autobind],Object.getOwnPropertyDescriptor(c.prototype,"startOver"),c.prototype),(0,u.default)(c.prototype,"onInputChange",[p.autobind],Object.getOwnPropertyDescriptor(c.prototype,"onInputChange"),c.prototype),(0,u.default)(c.prototype,"onBack",[p.autobind],Object.getOwnPropertyDescriptor(c.prototype,"onBack"),c.prototype),(0,u.default)(c.prototype,"onSubmit",[p.autobind],Object.getOwnPropertyDescriptor(c.prototype,"onSubmit"),c.prototype),c);_.live.register("registration-flow",k);var S=k;t.default=S},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(72)),u=window.rb,c=(u.$,n(7)),d=function(e){function t(e,n){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,o.default)(t,[{key:"installFailListener",value:function(){this.deinstallFailListener(),c.subscribe("lostPassword:/failed",this.fail)}},{key:"deinstallFailListener",value:function(){c.unsubscribe("lostPassword:/failed",this.fail)}},{key:"submit",value:function(e){var t=this;e&&e.preventDefault(),this.installFailListener();var n=[],i={email:(this.element.email||{value:""}).value};if(i.email||n.push("E-Mail must not be empty."),(n=n.concat(this.getValidationErrorsForInvalidValueMissingElements(this.element))).length)return this.fail(this.mergeErrorMessages(n)),!1;c.dispatch("lostPassword",i),u.rAFQueue((function(){t.element.classList.add("m-loading")}))}},{key:"detached",value:function(){this.deinstallFailListener()}}]),t}(l.default);u.live.register("passwordrequest",d);var f=d;t.default=f},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13),n(17),n(10);var r,a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(23)),c=i(n(72)),d=n(24),f=n(159),p=i(n(177)),h=n(245),m=window.rb,v=m.$,g=n(7),y=(r=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"resetValidation",value:function(){this.isLoading=!1,this.options.userInput.name="",this.options.userInput.avatar="",this.$queryAll(".error-item").removeAttr("style"),this.$queryAll(".input").removeClass("error")}},{key:"installSuccessListener",value:function(){this.deinstallSuccessListener(),g.subscribe("subProfiles",this.onSubProfileCreated)}},{key:"deinstallSuccessListener",value:function(){g.unsubscribe("subProfiles",this.onSubProfileCreated)}},{key:"detached",value:function(){this.deinstallSuccessListener()}},{key:"verifyNicknameNotEmpty",value:function(e){return!!e&&e.replace(/\s/g,"").length>0}},{key:"verifyNicknameNotOverlength",value:function(e){return!!e&&e.replace(/\s/g,"").length<=256}},{key:"validatePolicy",value:function(){var e=!0,t=[];return(0,h.inputChecked)(this.element.agree)||(t.push("Please accept the agreement."),e=!1),e&&!(0,h.inputChecked)(this.element.data)&&(t.push("Please accept the data privacy statement."),e=!1),t.length?this.fail(this.mergeErrorMessages(t)):this.isLoading=!1,e}},{key:"validateNicknameAndProceedToAvatars",value:function(){var e=this,t=this.element.nickname.value;this.verifyNicknameNotEmpty(t)?this.verifyNicknameNotOverlength(t)?p.default.checkBlacklist(t).then((function(n){"allowed"===n.data.status&&(e.options.userInput.name=t,m.events.dispatch(e.element,"openTiviDialogAvatar")),"forbidden"===n.data.status&&e.fail({status:0,message:"The chosen username contains blacklisted items.",errorElements:[]})})).catch((function(t){console.log("Checking the username blacklist failed: "+t),e.fail({errorElements:e.element.nickname})})):this.fail({status:0,message:"Username too long.",errorElements:[]}):this.fail({status:0,message:"Please enter a nickname.",errorElements:[]})}},{key:"validateAvatar",value:function(){var e=!0,t=v(this.element.avatar).filter(":checked").prop("value");return t?this.options.userInput.avatar=t:(this.fail({status:0,message:"Please choose an avatar.",errorElements:[]}),e=!1),e}},{key:"submit",value:function(e){null==e||e.preventDefault();var t=this.query('[aria-hidden="false"]').getAttribute("id");"logindialog-tivi"===t&&this.validatePolicy()&&m.events.dispatch(this.element,"openTiviDialogNickname"),"logindialog-tivi-nick"===t&&this.validateNicknameAndProceedToAvatars(),"logindialog-tivi-avatar"===t&&this.validateAvatar()&&this.createRegisterRequest()}},{key:"createRegisterRequest",value:function(){var e=Object.assign({},this.options.userInput,{id:(0,f.generateSubUserId)()});if(zdfsite.isTiviRegistration){var t=Object.assign({},zdfsite.userInfo,{userDetails:JSON.stringify({subProfiles:[e]})});this.sendRegistrationRequest(t)}else this.sendProfileCreationRequest(e)}},{key:"sendRegistrationRequest",value:function(e){g.dispatch("register",e)}},{key:"sendProfileCreationRequest",value:function(e){this.installSuccessListener(),this.subProfileId=e.id,g.dispatch("createSubProfile",e)}},{key:"onSubProfileCreated",value:function(){this.isLoading=!1,this.deinstallSuccessListener(),m.eventspatch(this.element,"openTiviDialogSuccess"),g.dispatch("activateSubProfile",this.subProfileId),this.resetValidation()}}],[{key:"defaults",get:function(){return{userInput:{name:"",avatar:""}}}},{key:"events",get:function(){return{submit:"submit"}}}]),t}(c.default),(0,u.default)(r.prototype,"onSubProfileCreated",[d.autobind],Object.getOwnPropertyDescriptor(r.prototype,"onSubProfileCreated"),r.prototype),r);m.live.register("registration-tivi",y);var b=y;t.default=b},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var r=i(n(53)),a=i(n(0)),o=i(n(3)),s=i(n(35)),l=i(n(1)),u=i(n(4)),c=i(n(72)),d=n(245),f=window.rb,p=(f.$,window.zdfsite),h=n(7),m=(n(178),function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).registerButton=i.element.querySelector(".reg-btn"),i}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{}}},{key:"events",get:function(){return{submit:"submit"}}}]),(0,l.default)(t,[{key:"installFailListener",value:function(){this.deinstallFailListener(),h.subscribe("register:/failed",this.fail)}},{key:"deinstallFailListener",value:function(){h.unsubscribe("register:/failed",this.fail)}},{key:"checkPasswordsMatch",value:function(e,t){return e===t}},{key:"submit",value:function(e){var t=this;e&&e.preventDefault();var n={value:""},i={username:(this.element.username||n).value,email:(this.element.email||n).value,password:(this.element.password||n).value,passwordVerification:(this.element.password||n).value,terms:this.isChecked("terms"),privacy:this.isChecked("privacy"),tiviTerms:this.isChecked("tivi-terms"),tiviPrivacy:this.isChecked("tivi-privacy"),accountType:p.isTiviRegistration?"meinTivi":"melFailListener(),p.isTiviRegistration?(p.userInfo=i,f.events.dispatch(t.element,"openTiviDialogNickname")):t.sendRegistrationRequest(i)}),(function(e){return t.fail(t.mergeErrorMessages(e)),!1}))}},{key:"validateInput",value:function(e){var t=f.deferred(),n=[];return this.isLoading=!0,n.push.apply(n,(0,r.default)((0,d.passwordQuality)(this.element.password))),e.terms||n.push("Please accept the terms of service."),e.privacy||n.push("Please accept the data privacy statement."),e.email&&this.checkInvalidityOfElementForTypes(this.element.email,["typeMismatch","patternMismatch"])&&n.push("E-Mail has an invalid format."),p.isTiviRegistration&&(e.tiviTerms||n.push("Please accept the terms of service for 'MeinZDFtivi'."),e.tiviPrivacy||n.push("Please accept the data privacy statement for 'MeinZDFtivi'.")),n.push.apply(n,(0,r.default)(this.getValida),n.length?t.reject(n):t.resolve(),t}},{key:"sendRegistrationRequest",value:function(e){h.dispatch("register",e)}},{key:"isChecked",value:function(e){return(0,d.inputChecked)(this.element[e])}},{key:"changedLoadingState",value:function(){this.registerButton&&this.registerButton.classList[this.isLoading?"add":"remove"]("m-loading"),(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"changedLoadingState",this).call(this)}},{key:"fail",value:function(e){p.isTiviRegistration&&f.events.dispatch(this.element,"openRegistrationDialog"),(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fail",this).call(this,e)}},{key:"detached",value:function(){this.deinstallFailListener()}}]),t}(c.default));f.live.register("registration",m);var v=m;t.default=v},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4));n(176);var l=window.rb,u=n(7),c=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"attached",value:function(){u.ready.then((function(e){!1===e.isLoggedIn()&&e.showLogin()}))}},{key:"showError",value:function(e){this.$queryAll(e).stop().rbSlideDown(),this.query(".js-btn-submit").removeAttribute("disabled")}},{key:"submit",value:function(e){var t=this;if(e.preventDefault(),!1!==u.isLoggedIn()){this.query(".js-btn-submit").setAttribute("disabled","disabled");var n=zdfsite.user.getState(),i=this.query("[name=device-key]").value,r={Accept:"application/vnd.de.zdf.v1.0+json;charset=utf-8","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(n.token),"Api-Auth":"Bearer ".concat(zdfsite.apiToken)};fetch("".concat(zdfsite.apiService,"/identity/device/auth-sessions/").concat(i,"/authorize"),{headers:r,method:"POST"}).then((function(e){if(!e.ok){switch(e.status){case 401:t.showError(".error-item.http-401");break;case 404:t.showError(".error-item.http-404");break;defaultt.query("form").getAttribute("data-success-url")})).catch((function(e){}))}else u.showLogin()}}],[{key:"events",get:function(){return{"click:closest(.js-btn-submit)":"submit",submit:"submit"}}}]),t}(l.Component);l.live.register("smart-tv-login",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15);var r,a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(23)),c=i(n(72)),d=n(24),f=window.rb,p=n(7),h=(r=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"installSuccessListener",value:function(){this.deinstallSuccessListener(),p.subscribe("subProfiles",this.profileChanged)}},ue:function(){p.unsubscribe("subProfiles",this.profileChanged)}},{key:"detached",value:function(){this.deinstallSuccessListener()}},{key:"setProfileId",value:function(e){e&&(this.profileId=e)}},{key:"submit",value:function(e){var t=this;e&&e.preventDefault();var n=null;this.profileId&&(n=p.getState().profile.subProfiles.find((function(e){return e.idile found to delete.",errorElements:[]})}},{key:"profileChanged",value:function(){f.events.dispatch(this.element,"closeDialog"),f.events.dispatch(this.element,"openChangeDialogDeleteSuccess")}}],[{key:"events",get:function(){return{submit:"submit"}}}]),t}(c.default),(0,u.default)(r.prototype,"profileChanged",[d.autobind],Object.getOwnPropertyDescriptor(r.prototype,"profileChanged"),r.prototype),r);f.live.register("subprofiledeleteform",h);var m=h;t.default=m},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18);var r=i(n(21)),a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4));n(10);var u=n(48),c=i(n(52));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=window.rb,h=p.$,m=n(7),v=u.STORAGE_KEYS.FSK_AUTH.name,g=function(e){function t(e,n){var i;(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).selectedValue="",i.passportValue="",i.countryPassport=!1,i.datePassport=!1,i.disableSubmit=!1,i.query(".document-date-box.is-german").classList.add("hide"),i.select=i.query(".js-country-selection-select");var r=i.select.value;return i.selectedValue=r||null,i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"events",get:function(){return{"change .js-country-selection-select":function(e){var t=e.target.options[e.target.selectedIndex];this.selectedValue=t.value,this.$queryAll('input[name="country-passport"]').prop({checked:!1}),this.$queryAll('input[name="date-passp]').setAttribute("disabled","disabled")},'click input[name="country-passport"]':"selectCountryPassport",'click input[name="date-passport"]':function(e){this.disableSubmit=!1,this.updateView()},submit:"submit"}}}]),(0,s.default)(t,[{key:"selectCountryPassport",value:function(e){"de"===this.selectedValue?(this.query(".document-date-box.is-german").classList.remove("hide"),this.passportValue=e.target.value,"german"===this.passportValue?(this.$queryAll(".country-passport-item.is-perso").removeClass("hide"),this.$queryAll(".country-passport-item.is-pass").addClass("hide"),this.disableSubmit=!0,this.updateView()):"passport"===this.passportValue?(this.$queryAll(".country-passport-item.is-pass").removeClass("hide"),this.$queryAll(".country-passport-item.is-perso").addClass("hide"),this.disableSubmit=!0,this.updateView()):(this.$queryAll('input[name="date-passport"]').prop({checked:!1}),this.query(".document-date-box.is-german").classList.add("hide"),this.disableSubmit=!1,this.updateView())):(this.countryPassport=e.target.checked,this.disableSubmit=!1,this.updateView())}},{key:"updateView",value:function(){this.selectedValue&&!this.disableSubmit?this.query('[type="submit"]').removeAttribute("disabled"):this.query('[type="submit"]').setAttribute("disabled","disabled")}},{key:"submit",value:function(e){var t=this;e.preventDefault(),m.ready.then((function(e){if(!1===e.isLoggedIn())e.showLogin();else if(t.selectedValue){var n,i,a=t.query("[type=submit]").getAttribute("data-next-link"),o=void 0;p.storage.session.set(v,{coul('input[name="country-passport"]').get().filter((function(e){if(e.checked)return e.value})),u=t.$queryAll('input[name="date-passport"]').get().filter((function(e){if(e.checked)return e.value})),d=null===(n=l[0])||void 0===n?void 0:n.value,m=null===(i=u[0])||void 0===i?void 0:i.value;if(d&&m)o=f({},(0,c.default)(window.location.hash.substr(1)),(s={},(0,r.default)(s,"country-passport",d),(0,r.default)(s,"date-passport",m),s));else o=f({},(0,c.default)(window.location.hash.substr(1)),(0,r.default)({},"country-passport",d));window.location.href="".concat(a,"#").concat(h.param(o))}}))}}]),t}(p.Component);p.live.register("country-selection",g),e.exports=g},function(e,t,n){"use strict";var i=n(0),r=n(1),a=n(3),o=n(4),s=window.rb,l=s.$,u=function(e){function t(e,n){var r;return i(this,t),(r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).stepCount=r.$queryAll("li").get().length,r}return o(t,e),r(t,[{key:"setStep",value:function(e){var t=e<=this.stribute("data-step",t),this.updateView()}},{key:"attached",value:function(){var e=this;this.elements=this.queryAll("a, button"),l(this.elements).on("click",(function(t){e.trackClick(t.target)})),this.updateView()}},{key:"updateView",value:function(){var e=this.$element.attr("data-step")-1;this.elements.forEach((function(t,n){t.tabIndex=n<e?"":-1}))}},{key:"trackClick",value:function(e){var t=this.$element.attr("data-step"),n=zdfsite.trackingHelper.escapeForTracking(e.text);zdfsite.trackingHelper.trackClick({element:"MultistepperFSK",action:"click",type:"action",actionDetail:"Schritt_".concat(t,"|").concat(n)})}}]),t}(s.Component);s.live.register("fsk-progress",u),e.exports=u},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(34),n(5),n(28),n(26),n(302),n(15);var r,a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=i(n(86)),d=i(n(72)),f=n(24),p=n(679),h=n(311),m=n(7),v=window.rb,g=v.$,y=n(702);function b(e){return Math.floor(((new Date).getTime()-e.getTime())/1e3/60/60/24/365)}var _=(r=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).blacklist=[],i.blacklist=[],(0,c.default)("/perso-blacklist-md5.json").then((function(e){i.blacklist=e.data})).catch((function(e){})),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"events",get:function(){return{"click:closest(.js-btn-submit)":"submit",submit:"submit","input:matches(input)":"onInputChange"}}}]),(0,s.default)(t,[{key:"onInputChange",value:function(e){var t=e.target.getAttribute("maxlength");if(e.target.value.length>=t){e.preventDefault(),e.target.value=e.target.value.slice(0,t);var n=e.target.getAttribute("data-next-field");if(n){var i=v.getComponent(e.target.closest('[data-module="form-field-character-count"]'));i&&i.updateView&&i.updateView(),this.setFocus(this.query("[name=".concat(n,"]")))}}var r=e.target.getAttribute("minlength");if("1"===r||"2"===r){var a=this.query("[name=part1]"),o=this.query("[name=part2]"),s=this.query("[name=part3]"),l=this.query("[name=part4]"),u=this.query("[name=part5]");a&&a.value.length>0&&!o||o&&o.value.length>0&&s&&s.value.length>0&&l&&l.value.length>0&&!u||a&&a.value.length>0&&o&&o.value.length>0&&s&&s.value.length>0&&l&&l.value.length>0&&u&&u.value.length>0?this.query("[name=submitButton]").disabled=!1:this.query("[name=submitButton]").disabled=!0}else if("44"===r){var c=this.query("[name=part1]");this.query("[name=submitButton]").disabled=!(c&&44===c.value.length)}g(e.target).on("blur",(function(e){e.target.value.length<t&&r===t?(e.target.closest(".form-field").classList.add("has-error"),g(e.target.closest(".form-field")).find(".form-field-error-detail").get(0).classList.remove("hide")):(e.target.closest(".form-field").classList.remove("has-error"),g(e.target.closest(".form-field")).find(".form-field-error-detail").get(0).classList.add("hide"))}))}},{key:"verifyAgeWithMrz",value:function(e){var t,n=void 0,i=void 0,r=void 0,a=void 0,o=void 0;if(t=this.query("[name=part1]").value.toUpperCase(),"german-passport-with-version"===this.options.validator||"german-passport"===this.options.validator){n=this.query("[name=part2]").value.toUpperCase(),i=this.query("[name=part3]").value.toUpperCase(),r=this.query("[name=part4]").value.toUpperCase();var s="<".repeat(44-(t+"D<<"+n+"X"+i+r).length);o="PIUSATRAVELER<<HAPPY<PERSON<<<<<<<<<<<<<<<<<\n"+t+"D<<"+n+"X"+i+s+r}else"td1"===e&&"mrz"!==this.options.validator?(n=this.query("[name=part2]").value.toUpperCase(),i=this.query("[name=part3]").value.toUpperCase(),r=this.query("[name=part4]").value.toUpperCase(),"german-id-with-version"===this.options.validator?(a=this.query("[name=part5]").value.toUpperCase(),o="IDLIE"+t+"<<<<<<<<<<<<<<<\n"+n+"<"+i+"D<<"+r+"<<<<<<<"+a+"\nSOME<<NAME<<<<<<<<<<<<<<<<<<<<"):o="IDLIE"+t+"<<<<<<<<<<<<<<<\n"+n+"<"+i+"D<<<<<<<<<<<<<"+r+"\nSOME<<NAME<<<<<<<<<<<<<<<<<<<<"):o="PIUSATRAVELER<<HAPPY<PERSON<<<<<<<<<<<<<<<<<\n"+t;if(this.blacklist.filter((function(e){return e.includes(y(t))})).length>0)return{errorCode:"INVALID"};try{var l="td1"===e&&"mrz"!==this.options.validator?(0,p.verifyMrzTD1)(o):(0,p.verifyMrz)(o);if(!l.isOk())throw new Error("cannot verify mrz code: ".concat(l.errors.map((function(e){return e.toString()}))));return{age:b(l.passport.dateOfBirth.toDate())}}catch(e){return v.log("Error validating passport: ".concat(e)),{errorCode:"INVALID"}}}},{key:"verifyPassport",value:function(){return this.options.validator.includes("passport")?this.verifyAgeWithMrz("td3"):this.verifyAgeWithMrz("td1")}},{key:"submit",value:function(e){var t=this;e.preventDefault();var n;if(this.$queryAll(".error-item").removeAttr("style"),this.$queryAll("[name^=part]").removeClass("error").removeAttr("aria-invalid"),(0,h.removeAriaDesc)(this.$queryAll("[name^=part]")),!m.isLoggedIn())return this.trackSubmit(!1),void m.showLogin();if(n=("german"===this.options.validator||"german-passport-with-version"===this.options.validator||"german-passport"===this.options.validator?["part1","part2","part3","part4"]:"german-id-with-version"===this.options.validator?["part1","part2","part3","part4","part5"]:["part1"]).find((function(e){var n=t.query("[name=".concat(e,"]")).validity;return n.valueMissing||n.tooShort}))){var i=this.query("[name=".concat(n,"]"));return this.trackSubmit(!1),this.$queryAll('.error-item[data-error-code="INCOMPLETE"]').stop().rbSlideDown(),void(i&&(v.$(i).addClass("error").attr({"aria-invalid":"true"}),(0,h.setAriaDescFromElements)(this.$queryAll('.error-item[data-error-code="INCOMPLETE"]'),g(i)),this.setFocus(i)))}var r=this.verifyPassport(),a=r.age,o=r.errorCode;if(o){this.trackSubmit(!1),this.$queryAll('.error-item[data-error-code="'.concat(o,'"]')).stop().rbSlideDown();var s=this.query("[name=part1]");s&&(v.$(s).addClass("error").attr({"aria-invalid":"true"}),(0,h.setAriaDescFromElements)(this.$queryAll('.error-item[data-error-code="'.concat(o,'"]')),g(s)),this.setFocus(s))}else{var l=this.query('[type="submit"]'),u=l.getAttribute("data-next-link"),c=l.getAttribute("data-error-page");a>=16?m.verifyAge().then((function(){t.trackSubmit(!0),window.location.href=u})).catch((function(e){t.trackSubmit(!1,{isErrorPage:!0}),401===e.status?m.showLogin():window.location.href=c})):(this.trackSubmit(!1,{isErrorPage:!0}),window.location.href=c)}}},{key:"attached",value:function(){m.ready.then((function(e){!1===e.isLoggedIn()&&e.showLogin()}))}},{key:"trackSubmit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.isErrorPage,this.query('[type="submit"]'),{element:"Verifikations-Formular",action:"Weiter"});e?(n.atiDeltaData={page:"Schritt 2: Prüfnummern eintragen",page_title:"Schritt 2: Prüfnummern eintragen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Schritt 3: Jugendschutz-PIN erstellen",click_chapter1:"/altersverifikation",click_chapter2:"article",click_chapter3:null,target_title:"Schritt 3: Jugendschutz-PIN erstellen",target_type:"article",target_section:"5",target_subsection:"/altersverifikation",target_sophora_id:null,target_url:null},n.actionDetail="Prüfnummern eintragen erfolgreich",n.deltaType="click.navigation"):(n.atiDeltaData={page:"Schritt 2: Prüfnummern eintragen",page_title:"Schritt 2: Prüfnummern eintragen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Schritt 2: Prüfnummern eintragen",click_chapter1:"/altersverifikation",click_chapter2:"article",click_chapter3:null,target_title:"Schritt 2: Prüfnummern eintragen",target_type:"article",target_section:"5",target_subsection:"/altersverifikation",target_sophora_id:null,target_url:null},n.actionDetail="Prüfnummern eintragen gescheitert: Ausweisabgleich gescheitert",n.deltaType="click.action"),zdfsite.trackingHelper.trackClick(n)}}]),t}(d.default),(0,u.default)(r.prototype,"onInputChange",[f.autobind],Object.getOwnPropertyDescriptor(r.prototype,"onInputChange"),r.prototype),r);v.live.register("passport-form",_);var w=_;t.default=w},function(e,t,n){"use strict";var i=i(n(0)),s=i(n(1)),l=i(n(680)),u=i(n(697)),c=i(n(181)),d=function(){function e(t){var n=arguments.length>1&&void 0!==argumthis,e),this.errors=t,this.passport=n}return(0,s.default)(e,[{key:"isOk",value:function(){return!this.hasErrors()&&null!==this.passport}},{key:"hasErrors",value:function(){return this.errors.length>0}}]),e}();t.verifyMrz=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.match(/[^\r\n]+/g),i=(0,a.default)(n,2),o=i[0],s=i[1];if(!o||!s)return new d(["Failed to split given mrz string into two lines."]);var u=(new l.default).addLineOne(o).addLineTwo(s).build(),f=(0,a.default)(u,2),p=f[0],h=f[1];return p?(h.push.apply(h,(0,r.default)(p.verifyCheckDigits())),t&&h.push.apply(h,(0,r.default)(p.verifyExpiration())),p.name.secondary||h.push(c.default.MissingSecondaryNamePart),p.name.isTruncated&&h.push(c.default.TruncatedName),new d(h,p)):new d(h)};t.verifyMrzTD1=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.match(/[^\r\n]+/g),i=(0,a.default)(n,3),o=i[0],s=i[1],l=i[2];if(!o||!s||!l)return new d(["Failed to split given mrz string into three lines."]);var f=(new u.default).addLineOne(o).addLineTwo(s).addLineThree(l).build(),p=(0,a.default)(f,2),h=p[0],m=p[1];return h?(m.push.apply(m,(0,r.default)(h.verifyDocumentCheckDigit())),m.push.apply(m,(0,r.default)(h.verifyOtherCheckDigits())),m.push.apply(m,(0,r.default)(h.verifyCompositeCheckDigit())),t&&m.push.apply(m,(0,r.default)(h.verifyExpiration())),h.name.isTruncated&&m.push(c.default.TruncatedName),new d(m,h)):new d(m)}},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(53)),o=r(n(0)),s=r(n(1));n(10);var l=r(n(681)),u=i(n(425)),c=function(){function e(){(0,o.default)(this,e),this.errors=[]}return(0,s.default)(e,[{key:"addLineOne",value:function(e){return this.withDocumentCode(e.substring(0,2)).withIssuingState(e.substring(2,5)).withName(e.substring(5,44))}},{key:"addLineTwo",value:function(e){return this.withPassportNumber(e.substring(0,9)).withCheckDigit1(e.charAt(9)).withNationality(e.substring(10,13)).withDateOfBirth(e.substring(13,19)).withCheckDigit2(e.charAt(19)).withSex(e.charAt(20)).withDateOfExpiry(e.substring(21,27)).withCheckDigit3(e.charAt(27)).withOptionalData(e.substring(28,42)).withCheckDigit4(e.charAt(42)).withCheckDigit5(e.charAt(43))}},{key:"withDocumentCode",value:function(e){try{this.documentCode=new u.DocumentCode(e)}catch(e){this.errors.push("documentCode: ".concat(e.message))}return this}},{key:"withIssuingState",value:function(e){try{this.issuingState=new u.IssuingState(e)}catch(e){this.errors.push("issuingState: ".concat(e.message))}return this}},{key:"withName",value:function(e){try{this.name=new u.Name(e)}catch(e){this.errors.push("name: ".concat(e.message))}return this}},{key:"withPassportNumber",value:function(e){try{this.passportNumber=new u.PassportNumber(e)}catch(e){this.errors.push("passportNumber: ".concat(e.message))}return this}},{key:"withCheckDigit1",value:function(e){try{this.checkDigit1=new u.CheckDigit(e)}catch(e){this.errors.push("checkDigit1: ".concat(e.message))}return this}},{key:"withNationality",value:function(e){try{this.nationality=new u.Nationality(e)}catch(e){this.errors.push("nationality: ".concat(e.message))}return this}},{key:"withDateOfBirth",value:function(e){try{this.dateOfBirth=new u.DateOfBirth(e)}catch(e){this.errors.push("dateOfBirth: ".concat(e.message))}return this}},{key:"withCheckDigit2",value:function(e){try{this.checkDigit2=new u.CheckDigit(e)}catch(e){this.errors.push("checkDigit2: ".concat(e.message))}return this}},{key:"withSex",value:function(e){try{this.sex=new u.Sex(e)}catch(e){this.errors.push("sex: ".concat(e.message))}return this}},{key:"withDateOfExpiry",value:function(e){try{this.dateOfExpiry=new u.DateOfExpiry(e)}catch(e){this.errors.push("dateOfExpiry: ".concat(e.message))}return this}},{key:"withCheckDigit3",value:function(e){try{this.checkDigit3=new u.CheckDigit(e)}catch(e){this.errors.push("checkDigit3: ".concat(e.message))}return this}},{key:"withOptionalData",value:function(e){try{this.optionalData=new u.OptionalData(e)}catch(e){this.errors.push("optionalData: ".concat(e.message))}return this}},{key:"withCheckDigit4",value:function(e){try{this.checkDigit4=new u.CheckDigit(e)}catch(e){this.errors.push("checkDigit4: ".concat(e.message))}return this}},{key:"withCheckDigit5",value:function(e){try{this.checkDigit5=new u.CheckDigit(e)}catch(e){this.errors.push("checkDigit5: ".concat(e.message))}return this}},{key:"build",value:function(){var e;return[0===this.errors.length?(e=this,new l.default(e.documentCode,e.issuingState,e.name,e.passportNumber,e.checkDigit1,e.nationality,e.dateOfBirth,e.checkDigit2,e.sex,e.dateOfExpiry,e.checkDigit3,e.optionalData,e.checkDigit4,e.checkDigit5)):null,[].concat((0,a.default)(this.errors))]}}]),e}();t.default=c},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var r=i(n(0)),a=i(n(1));n(34),n(5);var o=n(181),s=function(){function e(t,n,i,a,o,s,l,u,c,d,f,p,h,m){(0,r.default)(this,e),this.documentCode=t,this.issuingState=n,this.name=i,this.passportNumber=a,this.checkDigit1=o,this.nationality=s,this.dateOfBirth=l,this.checkDigit2=u,this.sex=c,this.dateOfExpiry=d,this.checkDigit3=f,this.optionalData=p,this.checkDigit4=h,this.compositeCheckDigit=m}return(0,a.default)(e,[{key:"verifyExpiration",value:function(){var e=this.dateOfExpiry.toDate(),t=new Date,n=[];e.setDate(e.getDate()+1),t.setHours(0,0,0),e<t&&n.push(o.Errors.Expired),e<this.dateOfBirth.toDate()&&n.push(o.Errors.ExpiryPriorToBirth);var i=new Date(t);return i.setFullYear(t.getFullYear()+15),t.getFullYear()%4&&29===t.getDate()&&1===t.getMonth()&&(i.setMonth(2),i.setDate(1)),e>i&&n.push(o.Errors.ExpiryInMoreThanFifteenYears),n}},{key:"verifyCheckDigits",value:function(){var e,t=[];return this.checkDigit1.verify(this.passportNumber.toString())||t.push(o.Errors.CheckDigit1),this.checkDigit2.verify(this.dateOfBirth.toString())||t.push(o.Errors.CheckDigit2),this.checkDigit3.verify(this.dateOfExpiry.toString())||t.push(o.Errors.CheckDigit3),this.checkDigit4.verify(this.optionalData.toString())||t.push(o.Errors.CheckDigit4),this.compositeCheckDigit.verify((e=this).passportNumber.toString()+e.checkDigit1.toString()+e.dateOfBirth.toString()+e.checkDigit2.toString()+e.dateOfExpiry.toString()+e.checkDigit3.toString()+e.optionalData.toString()+e.checkDigit4.toString())||t.push(o.Errors.CompositeCheckDigit),t}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={Afghanistan:"AFG","Aland Islands":"ALA",Albania:"ALB",Algeria:"DZA","American Samoa":"ASM",Andorra:"AND",Angola:"AGO",Anguilla:"AIA",Antarctica:"ATA","Antigua And Barbuda":"ATG",Argentina:"ARG",Armenia:"ARM",Aruba:"ABW",Australia:"AUS",Austria:"AUT",Azerbaijan:"AZE",Bahamas:"BHS",Bahrain:"BHR",Bangladesh:"BGD",Barbados:"BRB",Belarus:"BLR",Belgium:"BEL",Belize:"BLZ",Benin:"BEN",Bermuda:"BMU",Bhutan:"BTN",Bolivia:"BOL","Bonaire, Sint Eustatius And Saba":"BES","Bosnia And Herzegovina":"BIH",Botswana:"BWA","Bouvet Island":"BVT",Brazil:"BRA","British Indian Ocean Territory":"IOT",Brunei:"BRN",Bulgaria:"BGR","Burkina Faso":"BFA",Burundi:"BDI","Cabo Verde":"CPV",Cambodia:"KHM",Cameroon:"CMR",Canada:"CAN","Cayman Islands":"CYM","Central African Republic":"CAF",Chad:"TCD",Chile:"CHL",China:"CHN","Christmas Island":"CXR","Cocos Islands":"CCK",Colombia:"COL",Comoros:"COM",Congo:"COG","Democratic Republic Of The Congo":"COD","Cook Islands":"COK","Costa Rica":"CRI","Ivory Coast":"CIV",Croatia:"HRV",Cuba:"CUB","Curaçao":"CUW",Cyprus:"CYP","Czech Republic":"CZE",Denmark:"DNK",Djibouti:"DJI",Dominica:"DMA","Dominican Republic":"DOM",Ecuador:"ECU",Egypt:"EGY","El Salvador":"SLV","Equatorial Guinea":"GNQ",Eritrea:"ERI",Estonia:"EST",Ethiopia:"ETH","Falkland Islands":"FLK","Faroe Islands":"FRO",Fiji:"FJI",Finland:"FIN",France:"FRA","French Guiana":"GUF","French Polynesia":"PYF","French Southern Territories":"ATF",Gabon:"GAB",Gambia:"GMB",Georgia:"GEO",Germany:"D",Ghana:"GHA",Gibraltar:"GIB",Greece:"GRC",Greenland:"GRL",Grenada:"GRD",Guadeloupe:"GLP",Guam:"GUM",Guatemala:"GTM",Guernsey:"GGY",Guinea:"GIN","Guinea Bissau":"GNB",Guyana:"GUY",Haiti:"HTI","Heard Island And Mcdonald Islands":"HMD",Honduras:"HND","Hong Kong":"HKG",Hungary:"HUN",Iceland:"ISL",India:"IND",Indonesia:"IDN",Iran:"IRN",Iraq:"IRQ",Ireland:"IRL","Isle Of Man":"IMN",Israel:"ISR",Italy:"ITA",Jamaica:"JAM",Japan:"JPN",Jersey:"JEY",Jordan:"JOR",Kazakhstan:"KAZ",Kenya:"KEN",Kiribati:"KIR","North Korea":"PRK","South Korea":"KOR",Kuwait:"KWT",Kyrgyzstan:"KGZ","Lao Democratic Republic":"LAO",Latvia:"LVA",Lebanon:"LBN",Lesotho:"LSO",Liberia:"LBR",Libya:"LBY",Liechtenstein:"LIE",Lithuania:"LTU",Luxembourg:"LUX",Macao:"MAC",Macedonia:"MKD",Madagascar:"MDG",Malawi:"MWI",Malaysia:"MYS",Maldives:"MDV",Mali:"MLI",Malta:"MLT","Marshall Islands":"MHL",Martinique:"MTQ",Mauritania:"MRT",Mauritius:"MUS",Mayotte:"MYT",Mexico:"MEX",Micronesia:"FSM",Moldova:"MDA",Monaco:"MCO",Mongolia:"MNG",Montenegro:"MNE",Montserrat:"MSR",Morocco:"MAR",Mozambique:"MOZ",Myanmar:"MMR",Namibia:"NAM",Nauru:"NRU",Nepal:"NPL",Netherlands:"NLD","Netherlands Antilles":"ANT","Neutral Zone":"NTZ","New Caledonia":"NCL","New Zealand":"NZL",Nicaragua:"NIC",Niger:"NER",Nigeria:"NGA",Niue:"NIU","Norfolk Island":"NFK","Northern Mariana Islands":"MNP",Norway:"NOR",Oman:"OMN",Pakistan:"PAK",Palau:"PLW",Palestine:"PSE",Panama:"PAN","Papua New Guinea":"PNG",Paraguay:"PRY",Peru:"PER",Philippines:"PHL",Pitcairn:"PCN",Poland:"POL",Portugal:"PRT","Puerto Rico":"PRI",Qatar:"QAT",Reunion:"REU",Romania:"ROU",Russia:"RUS",Rwanda:"RWA","Saint Barthelemy":"BLM","Saint Helena, Ascension And Tristan Da Cunha":"SHN","Saint Kitts And Nevis":"KNA","Saint Lucia":"LCA","Saint Martin":"MAF","Saint Pierre And Miquelon":"SPM","Saint Vincent And The Grenadines":"VCT",Samoa:"WSM","San Marino":"SMR","Sao Tome And Principe":"STP","Saudi Arabia":"SAU",Senegal:"SEN",Serbia:"SRB",Seychelles:"SYC","Sierra Leone":"SLE",Singapore:"SGP","Sint Maarten":"SXM",Slovakia:"SVK",Slovenia:"SVN","Solomon Islands":"SLB",Somalia:"SOM","South Africa":"ZAF","South Georgia And The South Sandwich Islands":"SGS","South Sudan":"SSD",Spain:"ESP","Sri Lanka":"LKA",Sudan:"SDN",Suriname:"SUR","Svalbard And Jan Mayen":"SJM",Swaziland:"SWZ",Sweden:"SWE",Switzerland:"CHE",Syria:"SYR",Taiwan:"TWN",Tajikistan:"TJK",Tanzania:"TZA",Thailand:"THA","East Timor":"TLS",Togo:"TGO",Tokelau:"TKL",Tonga:"TON","Trinidad And Tobago":"TTO",Tunisia:"TUN",Turkey:"TUR",Turkmenistan:"TKM","Turks And Caicos Islands":"TCA",Tuvalu:"TUV",Uganda:"UGA",Ukraine:"UKR","Arab Emirates":"ARE","United Kingdom":"GB",British:"GBR","British Overseas Territories":"GBD","British National Overseas":"GBN","British Overseas Citizen":"GBO","British Protected":"GBP","British Subject":"GBS","United States":"USA","United States Minor Outlying Islands":"UMI",Uruguay:"URY",Utopia:"UTO",Uzbekistan:"UZB",Vanuatu:"VUT",Venezuela:"VEN",Vietnam:"VNM","Virgin Islands":"VGB","Virgin Islands Of The United States":"VIR","Wallis And Futuna":"WLF","Western Sahara":"ESH",Yemen:"YEM",Zambia:"ZMB",Zimbabwe:"ZWE","European Union":"EUE","United Nations Organization":"UNO","United Nations Agency":"UNA",Kosovo:"UNK","African Development Bank":"XBA",Afrexim:"XIM",Caricom:"XCC",Comesa:"XCO",Ecowas:"XEC",Interpol:"INP","Military Order Of Malta":"XOM",Stateless:"XXA",Refugee:"XXA","Refugee B":"XXB",Unknown:"XXX"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(158),n(19);var i={Expired:Symbol("passport_expired"),ExpiryPriorToBirth:Symbol("expiry_date_prior_to_birth"),ExpiryInMoreThanFifteenYears:Symbol("expiry_in_more_than_fifteen_years"),ExpiryInMoreThanTenYears:Symbol("expiry_in_more_than_ten_years"),CheckDigit1:Symbol("invalid_check_digit1"),CheckDigit2:Symbol("invalid_check_digit2"),CheckDigit3:Symbol("invalid_check_digit3"),CheckDigit4:Symbol("invalid_check_digit4"),CompositeCheckDigit:Symbol("invalid_composite_check_digit"),MissingSecondaryNamePart:Symbol("missing_secondary_name_part"),TruncatedName:Symbol("truncated_name")};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["MR","SIR","JR","MRS","MISS","MS","MADAM","DAME","DR","LADY","LORD","MX","ESQ","HE","HON","PROF","MEP","MP","BT","HON","QC","KC","HH","HAH","HE","HMEH","REVD","REV","FR","PR","BR","IMAN","MUFTI","HAFIZ","HAFIZAH","QARI","MAWLANA","HAJI","SAYYID","SAYYIDAH","SHARIF","SRI","SREE","SHRI","SHREE","SIRI","SERI","SMT","KUM","HER","FRAU","SIE","EXCMO","ILMO"]},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(34),n(5),n(26),n(17),n(14);var r=i(n(0)),a=i(n(1)),o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",s=[7,3,1],l=function(){function e(t){(0,r.default)(this,e),this.value="<"===t?"0":t}return(0,a.default)(e,[{key:"verify",value:function(e){var t=e.toUpperCase().replace(/</g,"0").split("").reduce((function(t,n,i){if(!o.includes(n))throw new Error("".concat(e," contains invalid characters -> ").concat(n));return t+o.indexOf(n)*s[i%3]}),0);return this.value===(t%10).toString()}},{key:"toString",value:function(){return this.value}}]),e}();t.default=l},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(305),n(687),n(426),n(102),n(49);var r=i(n(0)),a=i(n(1)),o=function(){function e(t){(0,r.default)(this,e);var n=t.match(/\d{2,2}/g);if(3!==n.length)throw new Error("Invalid date of birth: unexpected length for given date -> ".concat(t));var i=Number(n[0]);if(Number.isNaN(i)||i<0||i>99)throw new Error("Invalid date of birth: unexpected value for year -> ".concat(i));var a=Number(n[1]);if(Number.isNaN(a)||a<1||a>12)throw new Error("Invalid date of birth: unexpected value for month -> ".concat(a));var o=Number(n[2]);if(Number.isNaN(o)||o<1||o>31)throw new Error("Invalid date of birth: unexpected value for day -> ".concat(o));var s=new Date,l=Number.parseInt(String(s.getFullYear()).substr(2,2),10),u=String(s.getFullYear()).substr(0,2);i>=l&&(u-=1),this.year=String(u).padStart(2,"0")+String(i).padStart(2,"0"),this.month=String(a).padStart(2,"0"),this.day=String(o).padStart(2,"0")}return(0,a.default)(e,[{key:"toDate",value:function(){var e=new Date(nt:r})},function(e,t,n){var i=n(27).parseInt,r=n(365).trim,a=n(366),o=/^[-+]?0[xX]/;e.exports=8!==i(a+"08")||22!==i(a+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(o.test(n)?16:10))}:i},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(305),n(426),n(102),n(49);var r=i(n(0)),a=i(n(1)),o=function(){function e(t){(0,r.default)(this,e);var n=t.match(/\d{2,2}/g);if(3!==n.length)throw new Error("Invalid date of expiry: unexpected length for given date -> ".concat(t));var i=Number(n[0]);if(Number.isNaN(i)||i<0||i>99)throw new Error("Invalid date of birth: unexpected value for year -> ".concat(i));var a=Number(n[1]);if(Number.isNaN(a)||a<1||a>12)throw new Error("Invalid date of birth: unexpected value for month -> ".concat(a));var o=Number(n[2]);if(Number.isNaN(o)||o<1||o>31)throw new Error("Invalid date of birth: unexpected value for day -> ".concat(o));var s=new Date,l=String(s.getFullYear()).substr(0,2);this.year=String(l).padStart(2,"0")+String(i).padStart(2,"0"),this.month=String(a).padStart(2,"0"),this.day=String(o).padStart(2,"0")}return(0,a.default)(e,[{key:"toDate",value:function(){var e=new Date(this.year,this.month,this.day);return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e}},{key:"toString",value:function(){return[this.year.substr(2,2),this.month,this.day].join("")}}]),e}();t.default=o},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=function(){function e(t){(0,r.default)(this,e);var n=t.toUpperCase();if("P"!==n[0])throw new Error("Invalid document code: expected P got ".concat(n,"."));this.value=n}return(0,a.default)(e,[{key:"toString",value:function(){return this.value}}]),e}();t.default=o},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(8),n(5),n(97),n(28),n(26);var r=i(n(0)),a=i(n(1)),o=n(181),s=function(){function e(t){(0,r.default)(this,e);var n=t.toUpperCase();if(!Object.values(o.Countries).includes(n))throw new Error("Invalid issuing state: unknown value -> ".concat(n));this.value=n}return(0,a.default)(e,[{key:"toString",value:function(){return this.value}}]),e}();t.default=s},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1));n(17);var o=i(n(114));n(28),n(302),n(26),n(14);var s=n(181),l=function(e){for(var t,n=e.split("<"),i=!0,r=0;r<n.length;r+=1)if((t=n[r])&&s.Titles.includes(t)){i=!1;break}return i},u=function(e){var t=e.replace(/<+$/g,""),n=t.split("<<").filter((function(e){return e}));ifer((function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ<".includes(e)})).length}(e))throwns invalid characters."));if(function(e){return e==="<".repeat(e.length)}(e))throw new Error("Invalid name: ".concat(e," contains solely filler chars."));if(function(e){return![1,2].includes(e.length)}(n))throw new Error("Invalid name: ".concat(e," does not have enough nameparts."));if(function(e)=t[1];return"<"===n.charAt(0)||"<"===i.charAt(0)}(n))throw new Error("Invalid name: illegal left padding found within ".concat(e,"."));return[n[0],2===n.length?n[1]:"",function(e,t){return!e[t.length]}(e,t),function(e){return e.filter(l).length<e.length}(n)]},c=function(){function e(t){(0,r.defaul0],s=i[1],l=i[2],c=i[3];this.primary=a,this.secondary=s,this.isTruncated=l,this.hasPrefixOrSuffixViolations=c}return(0,a.default)(e,[{key:"toString",value:function(){return this.primary+this.secondary}}]),e}();t.default=c},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(8),n(5),n(97),n(28),n(26),n(17);var r=i(n(0)),a=i(n(1)),o=n(181),s=function(){function e(t){(0,r.default)(this,e);var n=t.replace(/</g,"").toUpperCase();if(!Object.values(o.Countries).includes(n))throw new Error("Invalid nationality: unknown value -> ".concat(n));this.value=n}return(0,a.default)(e,[{key:"toString",value:function(){return this.value}}]),e}();t.default=s},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1));n(26),n(14);var o=function(){function e(t){if((0,r.default)(this,e),function(e){return e.length>e.split("").filter((function(e){return"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ<".includes(e)})).length}(t))throw new Error("Invalid optional data: ".concat(t," contains invalid characters."));this.value=t}return(0,a.default)(e,[{key:"toString",value:function(){return this.value}}]),e}();t.default=o},function(e,t,n){"use strict";var i=n(2);Obje(0)),a=i(n(1));n(26),n(14);var o=function(){function e(t){if((0,r.default)(this,e),function(e){return e.length>e.split("").filter((function(e){return"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ<".includes(e)})).length}(t))throw new Error("Invalid passport number: invalid chars within -> ".concat(t));if("<"===t.charAt(0))throw new Error("Invalid passport number: starting char may not be a filler -> ".concat(t));this.value=t}return(0,a.default)(e,[{key:"toString",value:function(){return this.value}}]),e}();t.default=o},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(26);var r=i(n(0)),a=i(n(1)),o=function(){function e(t){(0,r.default)(this,e);var n=t.toUpperCase();if(!"MFX".includes(n))throw new Error("Invalid sex: unknown value -> ".concat(n));this.value=n}return(0,a.default)(e,[{key:"toString",value:function(){return this.value}}]),e}();t.default=o},functifineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(53)),o=r(n(0)),s=r(n(1));n(10);var l=r(n(698)),u=i(n(699)),c=i(n(425)),d=function(){function e(){(0,o.default)(this,e),this.errors=[]}return(0,s.default)(e,[{key:"addLineOne",value:function(e){return this.withDocumentCode(e.substring(0,2)).withIssuingState(e.substring(2,5)).withPassportNumber(e.substring(5,14)).withCheckDigit1(e.charAt(14)).withOptionalData1(e.substring(15,30))}},{key:"addLineTwo",value:function(e){return this.withDateOfBirth(e.substring(0,6)).withCheckDigit2(e.charAt(6)).withSex(e.charAt(t3(e.charAt(14)).withNationality(e.substring(15,18)).withOptionalData2(e.substring(18,29)).withCheckDigit4(e.charAt(29))}},{key:"addLineThree",value:function(e){return this.withName(e.substring(0,30))}},{key:"withDocumentCode",value:function(e){try{this.documentCode=new u.DocumentCode(e)}catch(e){this.errors.push("documentCode: ".concat(e.message))}return this}},{key:"withIssuingState",value:function(e){try{this.issuingState=new c.IssuingState(e)}catch(e){this.errors.push("issuingState: ".concat(e.message))}return this}},{key:"withPassportNumber",value:function(e){try{this.passportNumber=new c.PassportNumber(e)}catch(e){this.errors.push("passportNumber: ".concat(e.message))}return this}},{key:"withCheckDigit1",value:function(e){try{this.checkDigit1=new c.CheckDigit(e)}catch(e){this.errors.push("checkDigit1: ".concat(e.message))}return this}},{key:"withOptionalData1",value:function(e){try{this.optionalData1=new c.OptionalData(e)}catch(e){this.errors.push("optionalData1: ".concat(e.message))}return this}},{key:"withDateOfBirth",value:function(e){try{this.dateOfBirth=new c.DateOfBirth(e)}catch(e){this.errors.push("dateOfBirth: ".concat(e.message))}return this}},{key:"withCheckDigit2",value:function(e){try{this.checkDigit2=new c.CheckDigit(e)}catch(e){this.errors.push("checkDigit2: ".concat(e.message))}return this}},{key:"withSex",value:function(e){try{this.sex=new u.Sex(e)}catch(e){this.errors.push("sex: ".concat(e.message))}return this}},{key:"withName",value:function(e){try{this.name=new c.Name(e)}catch(e){this.errors.push("name: ".concat(e.message))}return this}},{key:"withDateOfExpiry",value:function(e){try{this.dateOfExpiry=new c.DateOfExpiry(e)}catch(e){this.errors.push("dateOfExpiry: ".concat(e.message))}return this}},{key:"withCheckDigit3",value:function(e){try{this.checkDigit3=new c.CheckDigit(e)}catch(e){this.errors.push("checkDigit3: ".concat(e.message))}return this}},{key:"withNationality",value:function(e){try{this.nationality=new c.Nationality(e)}catch(e){this.errors.push("nationality: ".concat(e.message))}return this}},{key:"withOptionalData2",value:function(e){try{this.optionalData2=new c.OptionalData(e)}catch(e){this.errors.push("optionalData2: ".concat(e.message))}return this}},{key:"withCheckDigit4",value:function(e){try{this.checkDigit4=new c.CheckDigit(e)}catch(e){this.errors.push("checkDigit4: ".concat(e.message))}return this}},{key:"build",value:function(){var e;return[0===this.errors.length?(e=this,new l.default(e.documentCode,e.issuingState,e.passportNumber,e.checkDigit1,e.optionalData1,e.dateOfBirth,e.checkDigit2,e.sex,e.dateOfExpiry,e.checkDigit3,e.nationality,e.optionalData2,e.checkDigit4,e.name)):null,[].concat((0,a.default)(this.errors))]}}]),e}();t.default=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var r=i(n(0)),a=i(n(1));n(34),n(5);var o=n(181),s=function(){function e(t,n,i,a,o,s,l,u,c,d,f,p,h,m){(0,r.default)(this,e),this.documentCode=t,this.issuingState=n,this.passportNumber=i,this.checkDigit1=a,this.optionalData1=o,this.dateOfBirth=s,this.checkDigit2=l,this.sex=u,this.dateOfExpiry=c,this.checkDigit3=d,this.nationality=f,this.optionalData2=p,this.compositeCheckDigit=h,this.name=m}return(0,a.default)(e,[{key:"verifyDocumentCheckDigit",value:function(){var e=[];return this.checkDigit1.verify(this.passportNumber.toString())||e.push(o.Errors.CheckDigit1),e}},{key:"verifyOtherCheckDigits",value:function(){var e=[];return this.checkDigit2.verify(this.dateOfBirth.toString())||e.push(o.Errors.CheckDigit2),this.checkDigit3.verify(this.dateOfExpiry.toString())||e.push(o.Errors.CheckDigit3),e}},{key:"verifyCompositeCheckDigit",value:function(){var e,t=[];return this.compositeCheckDigit.verify((e=this).passportNumber.toString()+e.checkDigit1.toString()+e.optionalData1.toString()+e.dateOfBirth.toString()+e.checkDigit2.toString()+e.dateOfExpiry.toString()+e.checkDigit3.toString()+e.optionalData2.toString())||t.push(o.Errors.CompositeCheckDigit),t}},{key:"verifyExpiration",value:function(){var e=this.dateOfExpiry.toDate();e.setMonth(e.getMonth()-1);var t=new Date(Date.now()),n=[];e.setDate(e.getDate()+1),t.setHours(0,0,0),e<t&&n.push(o.Errors.Expired);var i=this.dateOfBirth.toDate();e<i&&n.push(o.Errors.ExpiryPriorToBirth);var r=t.getFullYear()-i.getFullYear(),a=t.getMonth()-i.getMonth();(a<0||0===a&&t.getDate()<i.getDate())&&(r=r--);var s=new Date(t),l=new Date(t);return s.setFullYear(t.getFullYear()+10),l.setFullYear(t.getFullYear()+6),t.getFullYear()%4&&29===t.getDat0}),Object.defineProperty(t,"DocumentCode",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Sex",{enumerable:!0,get:function(){return a.default}});var r=i(n(700)),a=i(n(701))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=function(){function e(t){(0,r.default)(this,e);var n=t.toUpperCase();if("A"!==n[0]&&"C"!==n[0]&&"I"!==n[0])throw new Error("Invalid document code: expected A, C or I got ".concat(n,"."));this.value=n}return(0,a.default)(e,[{key:"toString",value:function(){return this.value}}]),e}();t.default=o},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(26);var r=i(n(0)),a=i(n(1)),o=function(){function e(t){(0,r.default)(this,e);var n=t.toUor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var i=n(2),r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(312)),u=window.rb,c=function(e){function t(e,n){var i;(0,r.default)(this,t);return(i=(0,a.defSubmit(e)})),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"events",get:function(){return{"click:closest(.js-btn-submit)":"submit","click:closest(.ard-btn)":"verifyPinWithArd",submit:"submit"}}}]),(0,o.default)(t,[{key:"submit",value:function(e){e.preventDefault(),this.pinChanger.verifyPinWithZdf()}},{key:"verifyPinWithArd",value:function(){var e=this.query(".js-btn-submit").getAttribute("data-link");this.pinChanger.verifyPinWithArd(e)}},{key:"trackSubmit",value:function(e){var t={element:"Verifikations-Formular",action:"Fertigstellen"};e?(t.atiDeltaData={page:"Schritt 3: Jugendschutz-PIN erstellen",page_title:"Schritt 3: Jugendschutz-PIN erstellen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Schritt 4: Geschafft - Alter erfolgreich überprüft",click_chapter1:"/altersverifikation",click_chapter2:"article",click_chapter3:null,target_title:"Schritt 4: Geschafft - Alter erfolgreich überprüft",target_type:"article",target_section:"5",target_subsection:"/altersverifikation",target_sophora_id:null,target_url:null},t.actionDetail="PIN erstellen erfolgreich",t.deltaType="click.navigation"):(t.atiDeltaData={page:"Schritt 3: Jugendschutz-PIN erstellen",page_title:"Schritt 3: Jugendschutz-PIN erstellen",page_chapter1:"/altersverifikation",page_subsection:"/altersverifikation",page_chapter2:"article",page_type:"article",page_url:window.location.href,site_level2:"5",page_section:"5",page_broadcast:"ZDF",click:"Schritt 3: Jugendschutz-PIN erstellen",click_chapter1:"/altersverifikation",click_chapter2:"article",click_chapter3:null,target_title:"Schritt 3: Jugendschutz-PIN erstellen",target_type:"article",target_section:"5",target_subsection:"/altersverifikation",target_sophora_id:null,target_url:null},t.actionDetail="PIN erstellen gescheitert: Falsches Passwort",t.deltaType="click.action"),zdfsite.trackingHelper.trackClick(t)}}]),t}(u.Component);u.live.register("pin-form",c),e.exports=c},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(21));n(28),n(26);var a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var c=n(7),d=window.rb,f=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"attached",value:function(){var e=c.completeAgeVerification();e.includes("/mein-zdf")?d.$(this.query(".x-back-myzdf")).removeClass("hide"):e?d.$(this.query(".x-back-default")).removeClass("hide"):(d.$(this.query(".x-back-default")).removeClass("hide"),e="/mein-zdf?age-verification=success");var t=this.query(".back-btn");t.setAttribute("href",e),t.setAttribute("data-track",JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},JSON.parse(t.getAttribute("data-track")),{href:e})))}}]),t}(d.Component);d.live.register("fsk-validation-result",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(35)),l=i(n(4)),u=i(n(141)),c=rb.$,d=function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),rb.rAFs(i,{throttle:!0},"_setItemWrapperMargin"),i._getItemWrapperMargin=rb.throttle(i._getItemWrapperMargin,{that:i}),i.itemWrapper=i.queryAll(i.options.itemWrapper),i}return(0,l.default)(t,e),(0,a.default)(t,[{key:"_getPanelAutoHeight",value:function(e){var t=e.style.height;e.style.height="auto";var n=e.offsetHeight;return e.style.height=t,n}},{key:"_getItemWrapperMargin",value:function(){null!=this.selectedIndexes[0]&&this._setItemWrapperMargin(this.selectedItems[0].offsetHeight)}},{key:"_setItemWrapperMargin",value:function(e){var t=this.selectedIndexes[0];this.itemWrapper[t]&&(this.itemWrapper[t].style.marginBottom=e+"px")}},{key:"_handleAnimation",value:function(e){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handleAnimation",this).call(this,e);var n=e.panel,i=this.$panels.index(n.element),r=n.isOpen?this._getPanelAutoHeight(n.element):0;c(this.itemWrapper[i]).stop().animate({marginBottom:r+"px"},e.options)}},{key:"attached",value:function(){window.addEventListener("resize",this._getItemWrapperMargin)}},{key:"detached",value:function(){window.removeEventListener("resize",this._getItemWrapperMargin)}}],[{key:"defaults",get:function(){return{selectedIndex:-1,toggle:!0,multiple:!1,animation:"slide",itemWrapper:".js-guests-itemwrapper"}}},{key:"events",get:function(){return{"{name}changed":function(){var e=this.selectedIndexes[0];c(this.query(".{name}-itemwrapper."+rb.statePrefix+"active")).removeClass(rb.statePrefix+"active"),null!=e&&this.$panels.eq(e).closest(this.interpolateName(".{name}-itemwrapper")).addClass(rb.statePrefix+"active")}}}}]),t}(u.default);rb.live.register("js-guests",d);var f=d;t.default=f},function(e,t,n){"use strict";var i=n(42),r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),o=r(n(1)),s=r(n(3)),l=r(n(4)),u=i(n(43)),c=n(87),d=r(n(123)),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).updateViewSize=n.updateViewSize.bind(n),n.dropdown=document.getElementsByClassName("dropdown")[0],n.topbar=document.getElementsByClassName("top-bar-section")[0],n.logoFirst="/static/"+zdfsite.build+"/img/guided-tour/2-Mainzelmaennchen-zeigt-links-rechts-0237_19.gif",n.logoSecond="/static/"+zdfsite.build+"/img/guided-tour/1-Mainzelmaennchen-zeigt-rechts-0370_18.gif",n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;document.body.classList.contains("no-scroll")||document.body.classList.add("no-scroll"),this.timer=setTimeout((function(){e.dropdown.classList.add("show")}),10),this.topbar.classList.add("show"),this.updateViewSize(),this.overlay.addEventListener("keydown",c.handleKeyFocus),window.addEventListener("resize",this.updateViewSize),(0,c.trackView)("Route2|Screen2")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewSize),this.overlay.removeEventListener("keydown",c.handleKeyFocus),clearInterval(this.timer),this.dropdown.classList.remove("show"),this.topbar.classList.remove("show"),this.topbar.classList.remove("active")}},{key:"updateViewSize",value:function(){this.overlay=document.getElementsByClassName("guided-tour--overlay")[0],(0,c.setFocus)(this.overlay)}},{key:"render",value:function(){return this.props.landscape?u.default.createElement(d.default,null):u.default.createElement("div",{className:"guided-tour--most-viewed grid-container"},u.default.createElement("div",{className:"guided-tour--most-viewed-container"},u.default.createElement("div",{className:"guided-tour--most-viewed-btn-container"},u.default.createElement("div",{className:"guided-tour--most-viewed-btn"},"Meist gesehen")),u.default.createElement("div",{className:"guided-tour--imgs"},u.default.createElement("div",{className:"guided-tour--img img-first hide-for-large"},u.default.createElement("img",{src:this.logoSecond,alt:"Mainzelmaennchen zeigt links"})),u.default.createElement("div",{className:"guided-tour--img img-second show-for-large"},u.default.createElement("img",{src:this.logoFirst,alt:"Mainzelmaennchen zeigt rechts"}))),u.default.createElement("div",{className:"guided-tour--most-viewed-inner"},u.default.createElement("h3",{className:"guided-tour---most-viewed-headline"},this.props.texts.headline),u.default.createElement("div",{className:"guided-tour--most-viewed-text"},this.props.texts.text))))}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";n(28),n(26);var i=n(0),r=n(1),a=n(3),o=n(4),s=window.rb,l=function(e){function t(e,n){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),r(t,null,[{key:"events",get:function(){return{"click a.teaser-title-link":function(e){var t=e.delegatedTarget.getAttribute("href");t.includes("#guidedTour")&&(window.location.href=t,window.location.reload(!0))}}}}]),t}(s.Component);s.live.register("reload-guided-tour",l),e.exports=l},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(23)),c=n(24),d=n(428),f=window.rb,p=n(7),h=(r=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).updateAvatar=f.rAF(i.updateAvatar,{that:i}),p.ready.then(i.updateAvatar),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"updateAvatar",value:function(){if(p.isLoggedIn()){var e,t=null===(e=p.getState().profile)||void 0===e?void 0:e.avatar;t||(t="avatar-dett");var n=(0,d.getAvatarImage)(t);n&&(this.$queryAll(".avatar-image").attr("src",n.src),this.$queryAll(".avatar-image").removeClass("hide"))}else this.$queryAll(".avatar-image").addClass("hide")}}]),t}(f.Component),(0,u.default)(r.prototype,"updateAvatar",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"updateAvatar"),r.prototype),r);f.live.register("header-avatar",h);var m=h;t.default=m},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(23)),c=n(24),d=n(234),f=window.rb,p=(r=function(e){function t(e,n){var i;return(0,a.default)(this,t),i=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),d.store.subscribe(i.update),i.update(),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"update",value:function(){var e=d.store.getState().notifications.count,t=Math.min(e,99),n=99===t?t+"+":t;this.element.innerHTML=0===e?"":n}}]),t}(f.Component),(0,u.default)(r.prototype,"update",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"update"),r.prototype),r);f.live.register("header-subscription-count",p);var h=p;t.default=h},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var r=i(n(0)),a=i(n(3)),o=i(n(4)),s=window.rb,l=(window.rb.$,n(7)),u=function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),l.ready.then((function(){var e=l.getState();e.isLoggedIn&&0===e.info.name.length&&i.$queryAll(".login-btn.hide-for-anonymous .link-label").addClass("capitalize")})),i}return(0,o.default)(t,e),t}(s.Component);s.live.register("mein-zdf-logout-link",u);var c=u;t.default=c},function(e,t,n){"use strict";var i,r=n(0),a=n(3),o=n(1),s=n(4);i=function(e){function t(e,n){var i;return r(this,t),(i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).isSlim=!1,i.toggi,read:!0}),i}return s(t,e),o(t,null,[{key:"defaults",get:function(){return{offset:90,className:"m-slim"}}}]),o(t,[{key:"toggleClass",value:function(){this.element.classList.toggle(this.options.className)}},{key:"reflow",value:function(){var e=window.pageYOffset>this.options.offset;e!=this.isSlim&&(this.isSlim=e,this.toggleClass())}},{key:"attached",value:function(){window.addEventListener("scroll",this.reflow),this.reflow()}},{key:"detached",value:function(){window.removeEventListener("scroll",this.reflow)}}]),t}(rb.Component),rb.live.register("slimheader",i),e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(1),a=n(3),o=n(4);!function(){var t=window.rb,n="."+["js","rb","click"].join(t.nameSeparator),s=function(e){function s(){var e,t;i(this,s);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=a(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(r)))).attributeHandlerMap={"data-dialog":t.openDialog},t}return o(s,e),r(s,[{key:"checkAttributes",value:function(e,t){for(var n=void 0,i=0;i<t.attributes.length;i++)n=t.attributes[i],this.attributeHandlerMap[n.nodeName]&&this.attributeHandlerMap[n.nodeName](e,t,n.nodeValue)}},{key:"openDialog",value:function(e,n,i){var r,a=t.jsonParse(i);if("string"==typeof a&&(a={id:a}),r=document.getElementById(a.id),a.event=e,r){var o=t.getComponent(r);o&&(o.open(a),e.preventDefault())}}}],[{key:"events",get:function(){return{change:function(e){this.checkAttributes(e,e.target)},click:function(e){if(!e.button){var t=e.target.closest(n)||e.currentTarget;t&&this.checkAttributes(e,t)}},"keydown:keycodes(32 13)":function(e){this.checkAttributes(e,e.target)}}}}]),s}(t.Component);t.live.register("filter-rb-keyinput",s),e.exports.FilterRbKeyinput=s}()},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(103),n(57);var r=i(n(21));n(13),n(716),n(33),n(56),n(15);var a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(86)),c=i(n(52)),d=i(n(717));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var p=window.rb,h=p.$;p.templates.wahltoolgallery=p.templates.wahltoolgallery||{slideshow:n(718)};var m=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).pickerDetail=i.options.pickerDetail,i.api=i.pickerDetail.imageGallery,i.slideshow=null,i.slideshowData={},i.reloadIntervalInSeconds=i.pickerDetail.reloadIntervalInSeconds,i.$pagination=i.$element.find(".slideshow-pagination"),i.$paging=i.$element.closest(".js-scroller-paging"),i.slideItems=Array.from(i.element.querySelectorAll(".slider-item")),i.scrollerPaging=i.$element.closest('[data-module="js-scroller-paging"]').rbComponent(),i.fullscreen=i.options.fullScreen,i.galleryId=i.options.id,i.$paging.elements[0].addEventListener("js-scroller-pagingchanged",i.updateShareUrl.bind(i)),i.scrollLayout(),i.setNextReload(",get:function(){return{pickerDetail:"",outputContainersSel:".{name}-output",fullScreen:!0,id:""}}}]),(0,s.default)(t,[{key:"detached",value:function(){this.reloadTimeout&&clearTimeout(this.reloadTimeout)makey:"loadImageGallery",value:function(e){var t=this;(0,u.default)(e).then((function(e){t.processData(e.data),t.setNextReload()}),(function(e){t.logError("load of image gallery failed",e),t.setNextReload()}))}},{key:"setNextReload",value:function(){var e=this;this.reloadIntervalInSeconds&&(this.reloadTimeout=setTimeout((function(){return e.reload()}),1e3*this.reloadIntervalInSeconds))}},{key:"processData",value:function(e){var t=this;if((0,d.default)(e,this.slideshowData))p.logWarn("wahltool data unchanged");else{p.logWarn("wahltool data changed"),this.slideshow=[],this.slideshowData=e;var n=e.texts,i=e.slideshow["384x216"],r=e.slideshow["768x432"];e.slideshow["1280x720"].forEach((function(e,a){var o=e.key,s=e.url,l=i[a].url,u=r[a].url,c=n[o],d=e.alt+" - "+c.sub+". "+c.txt;t.slideshow.push({srcsetMobile:l,srcsetTabl.fullscreen,galleryId:t.galleryId,name:e.alt})})),this.updateDisplay()}}},{key:"getHtmlForSlideshow",value:function(e){var t=this;return e.map((function(e){return t.render("slideshow",Object.assign({},e))})).reduce((function(e,t){return e+t}),"")}},{key:"updateDisplay",value:function(){var e=this.queryAll(this.options.outputContainersSel)[0],t=this.slideshow.length,n=this.$paging.attr("data-current-index");e.innerHTML=this.getHtmlForSlideshow(this.slideshow),this.$pagination.text("("+n+"/"+t+")"),this.scrollerPaging.updateCells()}},{key:"updateShareUrl",value:function(){var e=this.scrollerPaging.selectIndex();try{var t=this.slideItems[e],n=t.getAttribute("data-wahltoolgallery-wahltool-key"),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,c.default)(window.location.hash.substr(1)),(0,r.default)({},"slide",n)),a="".concat(location.origin).concat(location.pathname,"?").concat(h.param(i));history.replaceState({},"",a),h.q('[data-module="plusbar"]').parents(".js-scroller-paging").find('){p.logError(e)}}},{key:"updateScrollElement",value:function(){var e=(0,c.default)(location.search).slide,t=this.slideItems.findIndex((function(t){return h(t).attr("data-wahltoolgallery-wahltool-key")===e}));retuging.selectIndex(e,!0)}}]),t}(p.Component);p.live.register("wahltoolgallery",m);var v=m;t.default=v},function(e,t,n){"use strict";n(306)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){(function(e,n){var i="[object Arguments]",r="[object Map]",a="[object Object]",o="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[r]=u["[object Number]"]=u[a]=u["[object RegExp]"]=u[o]=u["[object String]"]=u["[object WeakMap]"]=!1;var c="object"==typeof e&&e&&e.Obje&&self,f=c||d||Functionction _(e,t){return e.has(t)}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function k(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var S,O,E,P=Array.prototype,T=Function.prototype,x=Object.prototype,C=f["__core-js_shared__"],A=T.toString,I=x.hasOwnProperty,D=(S=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",j=x.toString,L=RegExp("^"+A.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=m?f.Buffer:void 0,M=f.Symbol,R=f.Uint8Array,F=x.propertyIsEnumerable,z=P.splice,U=M?M.toStringTag:void 0,H=Object.getOwnPropertySymbols,B=N?N.isBuffer:void 0,V=(O=Object.keys,E=Object,function(e){return O(E(e))}),W=ye(f,"DataView"),$=ye(f,"Map"),q=ye(f,"Promise"),G=ye(f,"Set"),K=ye(f,"WeakMap"),Y=ye(Object,"create"),Z=ke(W),Q=ke($),J=ke(q),X=ke(G),ee=ke(K),te=M?M.prototype:void 0,ne=te?te.valueOf:void =i||"r["string"==typeof t:e[t]}(e,t);returs.has(e)&&delete n(e){var t=this._nction(e){var t=thit,e)},ie.prototype.sined__":t,this},rpe.delete=function<0)&&(n==t.lengte);return n<0?void pe.set=function(e,t)])):n[i][1]=t,this},ae.prototype.clear=function(){this.size=0,this.__dat:new ie}},ae.protpe.get=function(e){return ge(this,eype.set=function(e,t){var n=ge(this,e),i=n.size;return n.set(e,t),this.size+=type.push=function(eype.has=function(e){return this.__data__.has(e)},se.prototype.clear=functioprototype.delete=et=functin(e){r99254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ke(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}functr t=ce(e),n=t==a?e.constructor:void 0,i=n?ke(nr;case J:return"[object Promise]";case X:return t}fun%1=e&&"objec(e){return function(t){return e(t)}}(y):function(e){return Ae(e)&&xe(e.length)&&!!u[ce(e)]};function De(e){return null!=(t=e)&&xe(t.length)&&!Te(t)?le(e):he(e);var t}n.exports=function(e,t){return fe(e,t)}}).call(this,n(120),n(12)(e))},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="js-scroller-paging-cell slider-item" data-wahltoolgallery-wahltool-key="'+(null==(__t=key)?"":rb.escape(__t))+'" data-wahltoolgallery-wahltool-name="'+(null==(__t=name)?"":rb.escape(__t))+'">\n    <picture class="artdirect">\n        <source class="m-mobile m-16-9" data-srcset="'+(null==(__t=srcsetMobile)?"":rb.escape(__t))+' 384w 216h" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" media="(min-width: 1px)">\n        <source class="m-tablet m-16-9" data-srcset="'+(null==(__t=srcsetTablet)?"":rb.escape(__t))+' 768w 432h" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" media="(min-width: 1px)">\n        <source class="m-desktop m-16-9" data-srcset="'+(null==(__t=srcsetDesktop)?"":rb.escape(__t))+' 1280w 720h" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" media="(min-width: 1px)">\n        <img class="lazyload js-artdirect slider-item-img" data-src="'+(null==(__t=srcDesktop)?"":rb.escape(__t))+'" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-sizes="auto" alt="'+(null==(__t=altText)?"":rb.escape(__t))+'" sizes="auto">\n    </picture>\n\n    ',fullscreen&&(__p+='\n        <button title="Bilderserie vergrößern" aria-label="Bilderserie vergrößern" type="button" class="expand-btn js-rb-click js-rb-live" data-dialog=\'{"id": "dialog-uuid-'+(null==(__t=galleryId)?"":rb.escape(__t))+'", "contentId": "dialog-gallery-content-uuid-'+(null==(__t=galleryId)?"":rb.escape(__t))+'"}\' data-module="filter-rb-keyinput"><span class="icon-207_fullscreen" aria-hidden="true"></span></button>\n    '),__p+="\n</div>\n";return __p}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13),n(85),n(34),n(5),n(17);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(86)),u=n(313),c=window.rb,d=c.$,f=n(7),p=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).api=i.options.url+"?origin="+encodeURIComponent(document.location.toString().replace(/^([^\/]+\/\/[^\/]+\/)(.+)$/,"$1")),i.isLoading=!1,i.willChange=!1,i.currentStation=i.options.initialStation||0,i.weatherData=null,i.outputContainerDefaults={output:"",outputAs:i.options.outputAs},c.rAFs(i,"updateDisplay","updateSelectWithStations","changedLoadingState","changedWillChangeState","updateOutputContainer"),i.api?i.loadWeatherData(i.api):i.logError("missing url to load weather info from"),f.ready.thenitialStation:"K2613",duration:500,delayAfterAnimateOut:50,selectBoxSel:".b-selectbox",selectSel:".{name}-select",outputContainersSel:".{name}-output",loadingClass:"m-loading",willChangeClass:"m-will-change"}}},{key:"events",get:function(){return{"change:find(.{name}-select)":function(e){var t=e.target.value;t&&(-1===t.indexOf("://")?(this.selectWeatherStation(e.target.value),this.profileChange(e)):location.href=t)}}}}]),(0,o.default)(t,[{key:"loadWeatherData",value:function(e){var t=this;this.isLoading=!0,this.changedLoadingState(),(0,l.default)(e).then((function(e){t.processData(e.data.forecastLocations)}),(function(e){t.logError("load of weather data failed",e),t.isLoading=!1}))}},{key:"processData",value:function(e){var t=[];for(var n in this.weatherData=e,e){var i=e[n];t.push({label:i.displayText,value:n})}this.updateSelectWithStations(t),this.selectWeatherStationate()}},{key:"updateSelectWithStations",value:function(e){var t=this.query(this.options.selectSel),n=this.query(this.options.selectBoxSel),i=e.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}));t.innerHTML=i.rlue,i=t.label,r=void 0===i?"":i;return e+'<option value="'.concat(c.escape(n),'">').concat(c.escape(r.replace(" *","")),"</option>")}),""),t.value=this.currentStation,setTimeout((function(){d(n).rbComponent()}))}},{key:"selectWeatherStation",value:function(e){this.currentStation=e,this.weatherData&&this.updateDisplay(this.weatherData[e])}},{key:"updateDisplay",value:function(e){var t=this,n=this.query(this.options.selectSel),i=this.queryAll(this.options.outputContainersSel);this.willChange=!0,this.changedWillChangeState(),setTimeout((function(){i.forEach((function(n){t.updateOutputContainer(n,e)})),t.willChange=!1,t.changedWillChangeState()}),this.options.duration+this.options.delayAfterAnimateOut),n.value=this.currentStation}},{key:"updateOutputContainer",value:function(e,t){var n=t||{},i=Object.assign({},this.outputContainerDefaults,c.parseDataAttrs(e)),r=i.output;(0,u.getWeatherDataWithDotNotation)(this.api,n,r,e,i)}},{key:"changedWillChangeState",value:function(){this.$element.toggleClass(this.options.willChangeClass,this.willChange)}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"profileChange",value:function(e){var t=void 0,n=e.delegatedTarget||e.target,i=n.getAttribute("data-profile-key"),r=this.profile;i in this.profile?("string"==typeof r[i]&&(t=n.value),f.dispatch(i,t)):this.logWarn("unknown profileKey! will not save.",i)}}]),t}(c.Component);c.live.register("top-five-weather-display",p);var h=p;t.default=h},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13),n(34),n(5),n(17);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(86)),u=n(313),c=window.rb,d=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).api=i.options.url+"?origin="+encodeURIComponent(document.location.toString().replace(/^([^\/]+\/\/[^\/]+\/)(.+)$/,"$1")),i.isLoading=!1,i.willChange=!1,i.currentStation=i.options.initialStation||0,i.weatherData=null,i.outputContainerDefaults={output:"",outputAs:i.options.outputAs},c.rAFs(i,"updateDisplay","changedLoadinefaults",get:function(){return{url:"",outputAs:"text",initialStation:"K2613",duration:500,delayAfterAnimateOut:50,outputContainersSel:".{namm-will-change"}}}]),(0,o.default)(t,[{key:"loadWeatherData",value:function(e){var t=this;this.isLoading=!0,this.changedLoadingState(),(0,l.default)(e).then((function(e){t.processData(e.data.forecastLocations)}),(function(e){t.logError("load of weather data failed",e),t.isLoading=!1}))}},{key:"processData",value:function(e){this.weatherData=e,this.selectWeatherStation(this.currentStation),this.isLoading=!1,this.changedLoadingState()}},{key:"selectWeatherStation",value:function(e){this.weatherData&&this.updateDisplay(this.weatherData[e])}},{key:"updateDisplay",value:function(e){var t=this,n=this.queryAll(this.options.outputContainersSel);this.willChange=!0,this.changedWillChangeState(),setTimeout((function(){n.forEach((function(n){t.updateOutputContainer(n,e)})),t.willChange=!1,t.changedWillChangeState()}),this.options.duration+this.options.delayAfterAnimateOut)}},{key:"updateOutputContainer",value:function(e,t){var n=t||{},i=Object.assign({},this.outputContainerDefaults,c.parseDataAttrs(e)),r=i.output;tate",value:function(){this.$element.toggleClass(this.options.willChangeClass,this.willChange)}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading)}}]),t}(c.Component);c.live.register("weather-default",d);var f=d;t.default=f},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(21));n(14),n(15),n(28),n(26),n(17),n(10);var a=i(n(0)),o=i(n(3)),s=i(n(35)),l=i(n(1)),u=i(n(4)),c=i(n(246)),d=i(n(52)),f=i(n(247));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=n(69);c.default.defaults.mandatorySnap=!0;var v=window.rb,g=v.$,y={function:"Bildergalerie",onsitead_campaign:"Bildergalerie",withPosition:!0};function b(){this.options.autoplay&&this.setOption("autoplay",!1)}var _=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).arrowPrev=i.element.querySelector(".scroll-arrow.x-prev"),i.arrowNext=i.element.querySelector(".scroll-arrow.x-next"),i.options.defaultSelectHash&&i.selectFromHash(i.options.defaultSelectHash),i}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{mand},{key:"events",get:function(){return{touchstart:b,click:b,"{name}changed":function(e){var t=this;!this.options.autoplay&&this.element.hasAttribute("data-track-view")&&v.rIC((function(){m.trackView(t.element)}))}}}}]),(0,l.default)(t,[{key:"updateCells",value:function(){var e=":not(.js-"+this.name+"-helper)",n=this.$scroller.children(e);this.originalPageLength=n.length,(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateCells",this).call(this)}},{key:"playNextVideo",value:function(e){var t=this,n=this.extIdByPlayerId[e],i=this.playerTransitions[n].nextExtId,r=zdfsite.user.getState().getUserProfile();if(i){var a=this.playerTransitions[n].nextIndex,o=this.playerIdByExtId[i];zdfplayer.fireEvent("Player::SET_NORMALSCREEN",{id:e}),setTimeout((function(){t.selectIndex(a),r.videoNoAutoplay||t.videoHasSeamlessViewingData(i)||zdfplayer.fireEvent("Player::PLAY_REQUESTED",{id:o})}),1e3)}}},{key:"videoHasSeamlessViewingData",value:function(e){var t=zdfsite.user.getPlaybackHistory().getItem(e);return t&&t.duration>0}},{key:"selectFromHash",value:function(e){if(location.hash){var t=(0,d.default)(location.hash.replace("#",""));if(e&&e in t){var n=parseInt(t[e]);(n||0===n)&&this.selectIndex(n,!0)}}}},{key:"_updateControls",value:function(e){var n=this;(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateControls",this).call(this,e),setTimeout((function(){var e,t,i,r,a=JSON.parse(n.element.getAttribute("data-track-view"));if(a&&a.element.includes("Vollbild")){var o=n.$cells.elements,s=parseInt(n.element.getAttribute("data-current-index"),10)-1,l=s+1,u=s-1;l>o.length-1&&(l=0),u<0&&(u=o.length-1);var c=o[s],d=o[u],f=o[l],p=JSON.parse(n.arrowPrev.getAttribute("data-track")),m=JSON.parse(n.arrowNext.getAttribute("data-track"));if(c&&d&&f){var v,b,_,w,k,S,O=null===(v=g(f).find(".normal-space"))||void 0===v||null===(b=v.get(0))||void 0===b||null===(_=b.textContent)||void 0===_?void 0:_.trim(),E=null===(w=g(d).find(".normal-space"))||void 0===w||null===(k=w.get(0))||void 0===k||null===(S=k.textContent)||void 0===S?void 0:S.trim(),P=p.actionDetail.split("|"),T=m.actionDetail.split("|");P[1]=E,T[1]=O,p.actionDetail=P.join("|"),p.name="".concat(u+1,"/").concat(o.length),m.actionDetail=T.join("|"),m.name="".concat(l+1,"/").concat(o.length);var x=P[0];p.deltaType="self_promotion.display",p.atiDeltaData=h({},y,{function_detail:E,gallery_name:x,hpos:u}),m.deltaType="self_promotion.display",m.atiDeltaData=h({},y,{function_detail:O,gallery_name:x,hpos:l}),n.arrowPrev.setAttribute("data-track",JSON.stringify(p)),n.arrowNext.setAttribute("data-track",JSON.stringify(m))}}var C=null===(e=n.$cells.filter(".m-active"))||void 0===e||null===(t=e.find(".normal-space"))||void 0===t||null===(i=t.get(0))||void 0===i||null===(r=i.textContent)||void 0===r?void 0:r.trim();if(a&&a.actionSZMnG){var A=a.actionSZMnG.split("/");A[2]=C,a.actionSZMnG=A.join("/"),n.element.setAttribute("data-track-view",JSON.stringify(a))}}),0)}}]),t}(f.default);v.live.register("js-scroller",_);var w=_;t.default=w},function(e,t,n){"use strict";(function(i){var r,a,o;a=[t,n(40),n(175),n(237),n(140),n(300)],void 0===(o="function"==typeof(r=function(e,t,n,r,a,o)(e,"__esModule",{value:!0});var s=f(t),l=f(n),u=f(r),c=f(a),d=f(o);function f(e){return e&&e.__esModule?e:{default:e}}lt)("layoutObserve"),v=!1,g=0,y=0,b=function(){g==y&&_()},_=function(e){for(var t=void 0,n=void 0,i=void 0,r=void 0,o=h.length;y<o;y++){if(t=h[y]){if(!(i=t[m])){(0,c.default)((function(){t.classList.re}r=[{target:t,type:"rb_layoutchange",originalEvent:e}],i.cbs.fireWith(t,r)}if(n){if(Date.now()-n>3)return y++,g=y,void(0,a.afterframePhase)(b)}else n=Date.now()}y=0},w=s.default.throttle((function(e){y=0,_(e)}),{read:!0,delay:400});d.default.special.rb_layoutchange=d.default.special.rb_layoutchange||{add:function(e,t,n){var i=e[m];i||(i={cbs:(0,l.default)()},e[m]=i,v||(v=!0,p=["js","rb","layoutobserve"].join(s.default.cssConfig.nameSeparator||s.default.nameSeparator),h=document.getElementsByClassName(p),window.addEventListener("scroll",w,!0),window.addEventListener("resize",w),window.MutationObserver?new MutationObserver(w).observe(s.default.root,{childList:!0,subtree:!0,attributes:!0}):(s.default.root.addEventListener("DOMNodeInserted",w,!0),s.defau),setInterval(w,999)),window.addEventListener("hashchange",w,!0),["focus","click","mouseover","load","transitionend","animationend","webkitAnimationEnd"].forEach((function(e){document.addEventListener(e,w,!0)}))),(0,c.default)((function(){e.classList.add(p)}),!0)),i.cbs.add(t)},remove:function(e,t,n){var i=e[m];i&&(i.cbs.remove(t),i.cbs.has()||(delete e[m],(0,c.default)((function(){e.classList.remove(p)}),!0)))}},d.default.special.rb_layoutobserve=d.default.special.rb_layoutchange,e.default=d.default.special.rb_layoutchange,void 0!==i&&i.env})?r.apply(t,a):r)||(e.exports=o)}).call(this,n(99))},function(e,t,n){"use strict";var i,r,a;r=[t],void 0===(a="function"==typeof(i=function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=document.createElement("b").style,n=window.rb,i=n.$,r=["Webkit","webkit","Moz","moz","Ms","ms","O","o"];n.prefixed=function(e,n){n=n||t;var a=void 0,o=void 0,s=void 0,l="";if((e=i.camelCase(e))in n&&(l=e),!l)for(o=i.camelCase("-"+e),a=0;a<r.length&&!l;a++)if((s=r[a]+o)in n){l=s;break}return l},e.default=n.prefixed})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[t,n(725),n(726),n(727),n(238)],void 0===(a="function"==typeof(i=function(e,t,n,i,r){Object.defineProperty(e,"__esModule",{value:!0});vfunction u(e){return e&&e.__esModule?e:{default:e}}a.default.extend({useWheel:!1},(function(e,t){var n=this;t.useWheel&&(this._wheelReset(),["wheelEnded","wheelHandler"].forEach((function(e){n[e]=n[e].bind(n)})),this.debouncedWheelEnded=(0,l.default)(this.wheelEnded,{delay:99}),this.wheelDirEnded=(0,l.default)(this.wheelDirEnded,{delay:88}),this.wheelAnalyzr=new s.default,o.default.add(e,this.wheelHandler),this.wheelAnalyzr.subscribe("interrupted",this.wheelEnded).subscribe("ended",this.wheelEnded).subscribe("recognized",this.wheelEnded))}),{transformWheelEvent:function(e){var t=e.clientX,n=e.clientY,i=e.pageX,r=e.pageY,a=e.deltaX,o=e.deltaY;return{draggyX:this.wheelPageX,draggyY:this.wheelPageY,pageX:i,pageY:r,clientX:t,clientY:n,deltaX:a,deltaY:o}},wheelEnded:function(){if(!this.isWheelEnded&&this.isWheelStarted){var e=this.lastWheelEvent;this.isWheelEnded=!0,this.end(this.transformWheelEvent(e),e)}},wheelDirEnded:function(){this._wheelReset()},isAllowedWheelDir:function(e){if("undecided"==this._isAllowedWheelDir){var t=this.options,n=t.horizontal,i=t.vertical;if(n&&i)this._isAllowedWheelDir=!0;else{var r=Math.abs(e[i?"deltaY":"deltaX"]),a=Math.abs(e[i?"deltaX":"deltaY"]);r!=a&&(this._isAllowedWheelDir=r>a)}}return this._isAllowedWheelDir||this.wheelDirEnded(),this._isAllowedWheelDir},wheelHandler:function(e){0===e.deltaMode&&this.isAllowedForType("wheel")&&this.isAllowedWheelDir(e)&&(this.lastWheelEvent=e,e.preventDefault(),this.wheelAnalyzr.feedWheel(e),this.debouncedWheelEnded(),this.wheelAnalyzr.isMomentum?!this.isWheelEnded&&this.isWheelStarted&&this.wheelEnded():(this.wheelPageX-=e.deltaX,this.wheelPageY-=e.deltaY,this.isWheelStarted?this.move(this.transformWheelEvent(e),e):(this.isWheelStarted=!0,this.isType="wheel",this.isTechnicalType="wheel",this.technicalVelFactor=.65,this.start(this.transformWheelEvent(e),e))))},_wheelReset:function(){this.isWheelStarted=!1,this.isWheelEnded=!1,this.isWheelStarted=!1,this._isAllowedWheelDir="undecided",this.wheelPageX=0,this.wheelPageY=0},reset:function e(){var t=e.superFn.apply(this,arguments);return this._wheelReset(),t}}),e.default=a.default})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(10),n(9),n(8),n(5),n(170),n(13),r=[t,n(429),n(236),n(386)],void 0===(a="function"==typeof(i=function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0});var r=o(t),a=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=window.rb||{},l=s.$,u=function(){},c={image:1,file:1,button:1,submit:1},d=/^(?:input|textarea)$/i,f=window.PointerEvent&&(!window.TouchEvent||!window.Touch||!window.TouchList),p=(0,r.default)("(touch-action: pan-y)")&&(0,r.default)("(touch-action: none)"),h=!f&&p&&function(){var e=!1,t="test"+(0,a.default)();try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener(t,u,n),window.removeEventListener(t,u,n)}catch(e){}return e}(),m=h||f,v=!p&&/iphone|ipad/i.test(navigator.userAgent||"");function g(e,t){var n=this;this.element=e,this.options=Object.assign({},g._defaults,t),this.destroyed=!1,this.noop=function(){},this.velocitySnapShot=this.velocitySnapShot.bind(this),(0,i.rAFs)(this,{throttle:!0},"setTouchAction"),this.touchOpts=this.options.usePassiveEventListener&&m?{passive:!0}:{passiveis.setupEvents(),this.setTouchAction(),this.options.useMouse&&this.setupMouse(),this.options.useTouch&&(f?this.setupPointer():this.setupTouch()),g.constructs.forEach((function(e){e.call(n,n.element,n.options)}))}Object.assign(g,{_defaults:{move:u,start:u,end:u,cancelTouch:u,horizontal:!0,vertical:!0,exclude:!1,excludeNothing:!1,preventClick:!0,preventMove:!0,useTouch:!0,useMouse:!0,usePointerMouse:!1,stopPropagation:!0,usePassiveEventListener:!0,usePointerOnActive:!1,catchMove:!1,handleDefaultPrevented:!1,velocityBase:333},supportsTouchAction:m,constructs:[],extend:function(e,t,n){g.constructs.push(t),Object.entries(n).forEach((function(e){var t=e[0],n=e[1];"function"==typeof g.prototype[t]?(n.superFn=g.prototype[t],g.prototype[t]=n):g.prototype[t]=n})),Object.assign(g._defaults,e)}}),Object.assign(g.prototype,{setTouchAction:function(){var e=this.options,t=e.usePointerOnActive,n=e.usePassiveEventListener;if(e.preventMove&&m&&(n||t&&f)){var i="";this.destroyed||(i=this.options.horizontal?this.options.vertical?"pan-x pan-y":"pan-y":"pan-x"),this.element.style.touchAction=i}},hasRelevantChange:function(){var e=this.options,t=!0;if(e.horizontal!=e.vertical){var n={horizontal:{cur:Math.abs(this.curPos.x-this.lastPos.x),abs:Math.abs(this.curPos.x-this.startPos.x)},vertical:{cur:Math.abs(this.curPos.y-this.lastPos.y),abs:Math.abs(this.curPos.y-this.startPos.y)}},i=e.horizontal?["horizontal","vertical"]:["vertical","horizontal"],r=i[0],a=i[1];!(t=.8*n[r].cur>n[a].cur||n[r].cur<n[r].abs&&.85*n[r].abs>n[a].abs)&&n.horizontal.cur<2&&n.vertical.cur<2&&n.horizontal.abs<9&&n.vertical.abs<9&&(t="undecided")}return t},reset:function(){this.isType="",this.technicalVelFactor=1,this.isTechnicalType="",this.startPos={},this.lastPos={},this.relPos={},this.curPos={},this.velTime=null,this.horizontalVel=0,this.verticalVel=0,this.allowClick=u},technicalVelFactor:1,velocitySnapShot:function(){var e=void 0;this.velTime&&((e=Date.now()-this.velTime)>80||!this.horizontalVel&&!this.verticalVel)&&(e=(e/this.options.velocityBase||1)*(1/this.technicalVelFactor),this.velPos=this._velPos,this.horizontalVelDir=(this.curPos.x-this.velPos.x)/e,this.verticalVelDir=(this.curPos.x-this.velPos.x)/e,this.horizontalVel=Math.abs(this.horizontalVelDir)||1e-8,this.verticalVel=Math.abs(this.verticalVelDir)||1e-8),this._velPos=this.curPos,this.velTime=Date.now()},getPos:function(e){return{x:"draggyX"in e?e.draggyX:e.clientX,y:"draggyY"in e?e.draggyY:e.clientY,pX:e.pageX,pY:e.pageY,time:Date.now()}},start:function(e,t){var n=this.options;this.startPos=this.getPos(e),this.movedPos={x:0,y:0},this.curPos=this.startPos,this.relevantChange=!1,n.stopPropagation&&t.stopImmediatePropagation(),clearInterval(this._velocityTimer),this._velocityTimer=setInterval(this.velocitySnapShot,200),this.velocitySnapShot(),n.start(this,t)},move:function(e,t){var n=this.options;this.lastPos=this.curPos,this.curPos=this.getPos(e),!0===this.relevantChange||(this.relevantChange=this.hasRelevantChange())?(!n.preventMove||"undecided"==this.relevantChange||h&&n.usePassiveEventListener||t.preventDefault(),n.stopPropagation&&t.stopImmediatePropagation(),this.movedPos.x=this.curPos.x-this.startPos.x,this.movedPos.y=this.curPos.y-this.startPos.y,this.relPos.x=this.curPos.x-this.lastPos.x,this.relPos.y=this.curPos.y-this.lastPos.y,n.move(this,t)):this.end(e,t)},end:function(e,t){var n=this.options,i=n.preventClick;clearInterval(this._velocityTimer),this.velocitySnapShot(),this.allowClick=function(){i=!1},this._destroyTouch?this._destroyTouch():this._destroyPointer&&this._destroyPointer(),this._destroyMouse&&this._destroyMouse(),this.movedPos.x=this.curPos.x-this.startPos.x,this.movedPos.y=this.curPos.y-this.startPos.y,"x"in this.relPos||"y"in this.lastPos||(this.lastPos=this.curPos,this.relPos.x=this.curPos.x-this.lastPos.x,this.relPos.y=this.curPos.y-this.lastPos.y),n.end(this,t),(Math.abs(this.movedPos.x)>15||Math.abs(this.movedPos.y)>15)&&(n.stopPropagation&&t.stopImmediatePropagation(),i&&this.preventClick(t)),this.reset()},preventClick:function(e){var t=this;this.isClickPrevennction(){t.isClickPrpEvents:function(){var e=this;this._onclick=function(t){e.isClickPrevented&&(t.preventDefault(),t.stopImmediatePropagation())},this._onSelectStart=function(t){e.allowedDragTarget(t.target)&&t.preventDefault()},this.element.addEventListener("click",this._onclick,!0),this.element.addEventListener("selectstart",this._onSelectStart,!0)},allowedDragTarget:function(e){var t=this.options,n=t.excludeNothing,i=t.exclude;return n||c[e.type]||!d.test(e.nodeName||"")&&(!i||!e.closest(i))},isAllowedlType||this.isTechnicalType==e},setupMouse:function(){var e=this,t=this.options,n=function(t){if(!t.buttons&&!t.which)return i(t),void e._destroyMouse();e.move(t,t)},i=function(t){e._destroyMouse(),e.end(t,t)};this._destroyMouse=function(){clearTimeout(void 0),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)},this._onmousedown=function(r){e._destroyMouse();var a=e.options,o=a.handleDefaultPrevented,s=a.useMouse;r.defaultPrevented&&!o||r.button||!s||!e.isAllowedForType("mouse")||!e.allowedDragTarget(r.target)||t.cancelTouch(r,r)||("SELECT"!=r.target.nodeName&&r.preventDefault(),e.isType="mouse",e.isTechnicalType="mouse",document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),e.start(r,r))},this.element.addEventListener("mousedown",this._onmousedown)},setupTouch:function(){var e=this,t=void 0,n=this.options,i=function(e){var n,i=void 0,r=void 0;for(i=0,n=e.length;i<n;i++)if(e[i].identifier==t){r=e[i];break}return r},r=function(t){var n=i(t.changedTouches||t.touches);n&&e.move(n,t)},a=function(n){var r=i(n.changedTouches||n.touches);r&&(e._destroyTouch(),e.end(r,n),e.options.catchMove&&e.element.addEventListener("touchmove",e._ontouchstart,e.touchOpts),t=void 0)};this._destroyTouch||(this._destroyTouch=function(){e.element.removeEventListener("touchmove",r,e.touchOpts),e.element.removeEventListener("touchend",a),e.element.removeEventListener("touchcancel",a,e.touchOpts)}),this._ontouchstart||(this._ontouchstart=function(i){if(1==i.touches.length){var o=n.handleDefaultPrevented,s=n.useTouch;e._destroyTouch(),(!i.defaultPrevented||o)&&s&&e.isAllowedForType("touch")&&i.touches[0]&&e.allowedDragTarget(i.target)&&!n.cancelTouch(i.touches[0],i)&&(t=i.touches[0].identifier,e.isType="touch",e.isTechnicalType="touch",e.element.addEventListener("touchmove",r,e.touchOpts),e.element.addEventListener("touchend",a),e.element.addEventListener("touchcancel",a,e.touchOpts),e.options.catchMove&&e.element.removeEventListener("touchmove",e._ontouchstart,e.touchOpts),e.start(i.touches[0],i))}}),this.element.addEventListener("touchstart",this._ontouchstart,this.touchOpts),v&&!this.element.ontouchmove&&n.prenoop),this.options.catchMove&&this.element.addEventListener("touchmove",this._ontouchstart,this.touchOpts)},setupPointer:function(){var e=this,t=void 0,n=this.options,i=function(n){n.pointerId==t&&e.move(n,n)},r=function(n){n.pointerId==t&&(e._destroyPointer(),e.end(n,n))};this._destroyPointer=function(){t=void 0,document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",r),document.removeEventListener("pointercancel",r)},this._pointerdown=this._pointerdown||function(a){if(!t){var o="mouse"==a.pointerType,s=n.handleDefaultPrevented,l=n.useTouch,u=n.useMouse;e._destroyPointer(),a.defaultPrevented&&!s||!1===a.isPrimary||o&&!u||a.button||!l||!e.isAllowedForType("pointer")||!e.allowedDragTarget(a.target)||n.cancelTouch(a,a)||(!o||n.usePointerMouse?("SELECT"!=a.target.nodeName&&a.preventDefault(),t=a.pointerId,e.isType=o?"mouse":"touch",e.isTechnicalType="pointer",document.addEventListener("pointermove",i),document.addEventListener("pointerup",r),document.addEventListener("pointercancel",r),e.start(a,a)):u&&n.stopPropagation&&a.stopImmediatePropagation())}},this.element.addEventListener("pointerdown",this._pointerdown)},destroy:function(){clearInterval(this._velocityTimer),this.destroyed=!0,this._ontouchstart&&this.element.removeEventListener("touchstart",this._ontouchstart,this.touchOpts),this._pointerdown&&this.element.removeEventListener("pointerdown",this._pointerdown),this._onmousedown&&this.element.removeEventListener("mousedown",this._onmousedown),v&&this.element.ontouchmove==this.noop&&(this.element.ontouchmove=""),this.element.removeEventListener("click",this._onclick,!0),this.element.removeEventListener("selectstart",this._onSelectStart,!0),this.setTouchAction(),this.element._rbDraggy==this&&delete this.element._rbDraggy}}),s.Draggy=g,l&&l.fn&&(l.fn.draggy=function(e){var t=void 0;return this.each((function(){"destroy"==e?this._rbDraggy&&this._rbDraggy.destroy():this._rbDraggy||(this._rbDraggy=new g(this,e||{})),t||(t=this._rbDraggy)})),t||this}),e.default=g})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(158),n(19),r=[t,n(40),n(175),n(238)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=(i.default.Symbol||Symbol)("rbWheel"),s=i.default.events&&i.default.events.special||{};e.default=s.rb_wheelintent={handler:function(e){var t=this[o];t&&t.cbs&&t.cbs.fireWith(this,[e])},enterHandler:function(e){var t=this[o];t?(this.addEventListener("mousemove",s.rb_wheelintent.moveHandler),t._page=[e.pageX,e.pageY],this.removeEventListener("wheel",s.rb_wheelintent.handler)):this.removeEventListener("mouseenter",s.rb_wheelintent.enterHandler)},leaveHandler:function(){this.removeEventListener("mousemove",s.rb_wheelintent.moveHandler),this.removeEventListener("wheel",s.rb_wheelintent.handler)},moveHandler:function(e){var t=this[o];t&&t._page&&!t.intent?Math.max(Math.abs(t._page[0]-e.pageX),Math.abs(t._page[1]-e.pageY))>5&&(this.removeEventListener("wheel",s.rb_wheelintent.handler),this.addEventListener("wheel",s.rb_wheelintent.handler),this.removeEventListener("mousemove",s.rb_wheelintent.moveHandler)):this.removeEventListener("mousemove",s.rb_wheelintent.moveHandler)},add:function(e,t,n){var i=e[o];i||(i={cbs:(0,r.default)(),intentCbs:(0,r.default)(),intent:!1},e[o]=i,e.addEventListener("mouseenter",s.rb_wheelintent.enterHandler),e.addEventListener("mouseleave",s.rb_wheelintent.leaveHandler)),i.cbs.add(t)},remove:function(e,t,n){var i=e[o];i&&(i.cbs.remove(t),i.cbs.has()||(delete e[o],e.removeEventListener("wheel",s.rb_wheelintent.handler),e.removeEventListener("mouseenter",s.rb_wheelintent.enterHandler),e.removeEventListener("mouseleave",s.rb_wheelintent.leaveHandler),e.removeEventListener("mousemove",s.rb_wheelintent.moveHandler)))}}})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;n(13),r=[t,n(40),n(238),n(204)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o={isDebug:!0},s=function e(t){if(!(this instanceof e))return new e(t);this.isScrolling=!1,this.isMomentum=!1,this.isInterrupted=!1,this.willEndSoon=!1,this.lastAbsDelta=1/0,this.deltaVelocity=0,this.deltaTotal=0,this.scrollPoints=[],this.scrollPointsToMerge=[],this.overallDecreasing=[],this._debouncedEndScroll=(0,r.default)(this._endScroll,{delay:50}),i.default.createPubSub(this),this.options=Object.assign(o,t)};Object.assign(s.prototype,{feedWheel:function(e){var t=this;e&&(Array.isArray(e)?e.forEach((function(e){t._addWheelEvent(e)})):this._addWheelEvent(e))},_addWheelEvent:function(e){if(0===e.deltaMode){this.isScrolling||this._beginScroll(e),this._debouncedEndScroll(e);var t=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,n=Math.abs(t);n>this.lastAbsDelta&&(this._endScroll(e),this._beginScroll(e)),this.deltaTotal=this.deltaTotal+t,this.lastAbsDelta=n,this.scrollPointsToMerge.push({currentDelta:t,currentAbsDelta:n,timestamp:e.timeStamp||Date.now()}),2===this.scrollPointsToMerge.length&&(this.scrollPoints.push({currentDelta:Math.round(this.scrollPointsToMerge.reduce((function(e,t){return e+t.currentDelta}),0)/2),currentAbsDelta:Math.round(this.scrollPointsToMerge.reduce((function(e,t){return e+t.currentAbsDelta}),0)/2),timestamp:Math.round(this.scrollPointsToMerge.reduce((function(e,t){return e+t.timestamp}),0)/2)}),this.scrollPointsToMerge.length=0,this.scrollPoints.length>3&&(this.updateVelocity(),!this.isMurrentState:function(){return{willEndSoon:this.willEndSoon,isScrolling:this.isScrolling,isMomentum:this.isMomentum,isInterrupted:this.isInterrupted,deltaVelocity:this.deltaVelocity,deltaTotal:this.deltaTotal}},_beginScroll:function(){this.willEndSoon=!1,this.isScrolling=!0,this.isMomentum=!1,this.isInterrupted=!1,this.lastAbsDelta=1/0,this.deltaVelocity=0,this.deltaTotal=0,this.scrollPoints=[],this.overallDecreasing.length=0,this.scrollPointsToMerge.length=0},_endScroll:function(e){this.isMomentum&&(this.isMomentum=!1,this._momentumEnded(e)),this.isScrolling=!1},_momentumEnded:function(){this.willEndSoon?this.publish("ended",this.getCurrentState()):(this.isInterrupted=!0,this.publish("interrupted",this.getCurrentState()))},updateVelocity:function(){var e=this.scrollPoints.slice(-3),t=e.reduce((function(e,t){return e+t.currentDelta}),0)/(Math.abs(e[e.length-1].timestamp-e[0].timestamp)||1)*1e3;this.deltaVelocity=this.deltaVelocity?.8*t+.2*this.deltaVelocity:t},_checkForMomentum:function(){if(this.isMomentum)return this.isMomentum;var e=this.scrollPoints.slice(-3),t=e.map((function(e){return e.currentAbsDelta}));if(e.length<3)return i.default.logError("not enough points.");var n=Math.min.apply(null,t),r=n<Math.max.apply(null,t)&&n===t[t.length-1];return this.overallDecreasing.push(r),this._checkDecreases(this.overallDecreasing)&&(this.isMomentum=!0),this.isMomentum},_checkForEnding:function(){var e=this.scrollPoints.slice(-3).map((functilta}));return e.reduce((function(e,t){return e+t}))/e.length<1.3&&(this.willEndSoon=!0),this.willEndSoon},_checkDecreases:function(e){var t=e.slice(-3);return!(t.length<3)&&t.reduce((function(e,t){return e&&t}))}}),i.default.WheelAnalyzer=s,e.default=s})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i,r,a;r=[t,n(66),n(70),n(78),n(71),n(77),n(246),n(729)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0});var o=d(t),s=d(n),l=d(i),u=d(r),c=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,i){(0,o.default)(this,t);var r=(0,s.default)(this,e.call(this,n,i));return r._setAutoremoveClass"](c.default.statePrefix+"autoplay")}),{that:r}),r}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{autoplay:!1,autoplayDelay:2e3,pauseOnHover:!0,jumpToStart:!0}}}]),t.prototype.setOption=function(t,n,i){switch(e.prototype.setOption.call(this,t,n,i),t){case"autoplay":this[n?"startAutoplay":"stopAutoplay"]();break;case"autoplayDelay":this.options.autoplay&&this.startAutoplay()}},t.prototype.stopAutoplay=function(){clearInterval(this._autoplayTimer),this._onenterAutoplay&&this.$element.off("mouseenter",this._onenterAutoplay),this._onleaveAutoplay&&this.$element.off("mouseleave",this._onleaveAutoplay),this.options.autoplay||this._setAutoplayUI()}ons,n="."+c.default.utilPrefix+c.default.nameSeparator+"keyboardfocus";t.autoplay&&(this.stopAutoplay(),this._onenterAutoplay||(this._onenterAutoplay=function(){t.pauseOnHover&&clearInterval(e._autoplayTimer)}),this._onleaveAutoplay||(this._onleaveAutoplay=function(){t.pauseOnHover&&t.autoplay&&(clearInterval(e._autoplayTimer),e._autoplayTimer=setInterval(e._autoplayHandler,t.autoplayDelay))}),this._autoplayHandler||(this._autoplayHandler=function(){e.element.querySelector(n)||(e.isCarousel||e.selectedIndex+1<e.baseLength?e.selectNext():e.selectIndex(0,t.jumpToStart))}),this.$element.on("mouseenter",this._onentutoplay),clearInterval(e._autoplayTimer),e._autoplayTimer=setInterval(this._autoplayHandler,t.autoplayDelay),this._setAutoplayUI())},t.prototype.attachedtotype.detached=function(){this.stopAutoplay()},(0,l.default)(t,null,[{key:"events",get:function(){return{"click:closest(.{name}{e}autoplay{-}btn)":function(){this.setOption("autoplay",!this.options.autoplay)}}}}]),t}(c.default.components.itemscroller);a.Component.register("itemscroller",f,!0),e.default=f})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(n){var i,r,a;r=[],void 0===(a="fu=window.rb;e.ready.then((function(){var t,n=!1,i=!1,r={passive:!0,capture:!0},a=e.root,o=e.utilPrefix+"keyboardfocus",s=e.utilPrefix+"keyboardfochin",l=function(e){9==e.keyCode&&(i=!1)},u=function(){t&&t!=document.activeElement&&(t.classList.remove(o),t=null)},c=e.rAF((function(){n=!1,u(),a.classList.remove(s)}),{throttle:!0}),d=function(){i=!0,n&&c()},f=e.rAF((function(){i&&!n||(t!=document.activeElement&&(u(),(t=List?t.classList.add(o):t=null),=!0)}),{throttle:!0}),p=window.PointerEvent?["pointerdown","pointerup"]:["mousedown","mouseup"];a.addEventListener("blur",(function(){t&&e.rAFQueue(u,!0)}),r),a.addEventListener("focus",(function(){i&&!n||f()}),r),a.addEventListener("keydown",l,r),a.addEventListener("keypress",l,r),p.forEach((function(e){document.addEventListener(e,d,r)}))})),void 0!==n&&n.env})?i.apply(t,r):i)||(e.exports=a)}).call(this,n(99))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(196);var r,a,o=i(n(0)),s=i(n(3)),l=i(n(1)),u=i(n(4)),c=i(n(23)),d=n(24),f=((a=function(e){function t(e,n){var i;if((0,o.default)(this,t),(i=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).loadState=t.LAZY_LOAD_STATE.EMPTY,i.lazyloadElement=i.query(".lazyload"),i.hiddenElement=i.query(".".concat("lazyload-hide")),i.hiddenElement&&i.hiddenElement.classList.add("lazyload-element"),i.loader=document.createElement("div"),i.loader.classList.add("lazyload-loader","lazyload-element"),"center"===i.options.autoPosition){var r="50%",a="50%";if(i.hiddenElement)try{var l=getComputedStyle(i.hiddenElement),u=l.height,c=l.width;r=i.getCenterPosition(u),a=i.getCenterPosition(c)}catch(e){i.logWarn("cannot auto-position lazy loader for element:",i.hiddenElement,e)}i.loader.style.top=r,i.loader.style["margin-left"]=a}return i.element.appendChild(i.loader),i}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{autoPosition:!1}}}]),(0,l.default)(t,[{key:"attached",value:function(){this.loadState=t.LAZY_LOAD_STATE.LOADING,this.lazyloadElement.addEventListener("lazyloaded",this.onLazyloadComplete)}},{key:"detached",value:function(){this.loadState=t.LAZY_LOAD_STATE.EMPTY,this.lazyloadElement.removeEventListener("lazyloaded",this.onLazyloadComplete)}},{key:"onLazyloadComplete",value:function(){this.loadState=t.LAZY_LOAD_STATE.LOADED,this.hiddenElement&&this.hiddenElement.classList.remove("lazyload-hide"),this.loader.classList.add("lazyload-hide")}},{key:"getCenterPosition",value:function(e){return"auto"===e?"50%":"".concat(parseInt(e)/2,"px")}},{key:"showHiddenElement",value:function(){this.loadState===t.LAZY_LOAD_STATE.LOADED&&this.hiddenElement&&(this.hiddenElement.classList.add("lazyload-element"),this.hiddenElement.classList.remove("lazyload-hide"))}},{key:"hideHiddenElement",value:function(){this.loadState===t.LAZY_LOAD_STATE.LOADED&&this.hiddenElement&&(this.hiddenElement.classList.remove("lazyload-element"),this.hiddenElement.classList.add("lazyload-hide"))}}]),t}(rb.Component)).LAZY_LOAD_STATE=Object.freeze({EMPTY:0,LOADING:1,LOADED:2}),r=a,(0,c.default)(r.prototype,"onLazyloadComplete",[d.autobind],Object.getOwnPropertyDescriptor(r.prototype,"onLazyloadComplete"),r.prototype),r);rb.live.register("lazyload-loader",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(103);var r=i(n(21));n(13),n(14),n(17),n(28),n(26),n(15),n(33),n(56);var a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(86));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=window.rb,p=f.$;f.templates["js-live-module"]=f.templates["js-live-module"]||{teaserSmall:n(732),teaserContent:n(733),teaserLive:n(734)};var h=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).livetvScroller=p(i.query('[data-module="js-livetv-scroller"]')).rbComponent(),i.api=i.options.url,i.reloadIntervalInSeconds=i.options.interval,i.isPlaying=!1,i.teaser=i.queryAll(".js-livetv-scroller-cell"),i.smallTeaser=i.queryAll(".livestream-teaser-item"),i.playingLabels=i.element.querySelectorAll(".js-teaser-label"),i.teaserInfoElements=i.element.querySelectorAll(".teaser-info"),i.livetvScrollerContainer=i.queryAll(".js-livetv-scroller-content")[0],i.teaserSmallContainers=i.queryAll(".livestream-teaser-nav")[0],i.seamlessPercent=i.queryAll(".js-seamless-percent"),i.apiVideoToken=i.options.token,i.teaserHashes=[],i.showMoreActions=0,i.currentIndex=0,i.demoMode=location.hash.indexOf("demoMode=true")>0,i.demoReloadCounter=0,i.demoJsonMap=["01-start.json","02-2-teaser.json","03-3-teaser.json","04-4-teaser.json","05-5-teaser.json","06-6-teaser.json","07-5-teaser.json","08-4-teaser.json","09-3-teaser.json","10-2-teaser.json","11-1-teaser.json","12-3-teaser.json","13-6-teaser.json","14-focus-change.json","15-1-livestream-teaserinfos-change.json","16-2-livestream-teaserinfos-change.json","17-1-livestream-fortschrittsbalken-weg.json","18-1-livestream-offline.json","19-3-geplanter-livestream-teaserinfos-change.json","20-weitere-laden-button.json","21-1-livestream-wieder-online-vor-fokusteaser.json","22-1-livestream-im-focus.json","23-1-livestream-offline.json","24-2-livestream-focus-1-livestream-weg.json","25-3-4-5-livestream-weg.json","26-1-livestream-offline.json"],i.demoMode&&f.logInfo("------ STARTING LIVE MODUL DEMO MODE"),i.teaser.length>0&&(i.zdfPlayerPaths=JSON.parse(i.teaser[0].getAttribute("data-zdfPlayerPaths")),i.setNextReload()),i.setHashObject(),zdfsite.playerReady.then((function(){zdfplayer.on("Player::PLAYING",(function(e){vaayingState(!0))})),zdfplayer.on("Player::PAUSED",(function(e){e.id===i.activePlayerId&&i.updatePlayingState(!0)})),zdfplayer.on("Player::STOPPED",(function(e){e.id===i.activePlayerId&&i.updatePlayingState(!1)}))})),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{url:"",interval:"",self:"",version:"",token:"",epgServiceBaseUrl:null}}},{key:"events",get:function(){return{"click:closest(.js-livestream-teaser-item)":"jumpToSlide","click:closest(.showmore-btn)":"increaseShowMoreActions"}}}]),(0,s.default)(t,[{key:"detached",value:function(){this.reloadTimeout&&clearTimeout(this.reloadTimeout)}},{key:"reload",value:function(){if(this.demoMode){var e="static/statics/live-modul/"+this.demoJsonMap[this.demoReloadCounter];f.log("The live module is reloading demo data from "+e),this.demoReloadCounter===this.demoJsonMap.length-1?this.demoReloadCounter=0:this.demoReloadCounter++,this.loadLiveData(e)}else this.api?(f.log("The live module is reloading live data..."),this.loadLi",value:function(e){var t=this,n={"Api-Auth":"Bearer ".concat(zdfsite.apiToken)};(0,u.default)(e,{headers:n}).then((function(e){t.updateCurrentItems(e.data),t.updatePlayingState(t.isPlaying),t.setNextReload()})).catch((function(e){f.logError("load of live module failed",e),t.setNextReload()}))}},{key:"setNextReload",value:function(){var e=this;this.reloadIntervalInSeconds&&(this.reloadTimeout=setTimeout((function(){return e.reload()}),1e3*this.reloadIntervalInSeconds))}},{key:"setHashObject",value:function(){var e=this;this.teaser.forEach((function(t,n){var i=t.getAttribute("data-title"),r=t.getAttribute("data-externalId"),a=t.getAttribute("data-start"),o=t.getAttribute("data-stop"),s=t.getAttribute("data-id"),l={hour:"numeric",minute:"numeric"},u=new Date(a).toLocaleTimeString("de-DE",l),c=new Date(o).toLocaleTimeString("de-DE",l),d=e.teaserHash(i,r,u,c),f=e.getCurrentIndex()===n;e.teaserHashes.push({hash:d,teaser:e.teaser[n],teaserId:s,index:n,isActiveVideo:f})}))}},{key:"teaserHash",value:function(e,t,n,i){var r={title:e,externalId:t,start:n,stop:i},a=JSON.stringify(r);return this.hashCode(a)}},{key:"resetTeaserHighlights",value:function(){Array.from(this.playingLabels).forEach((function(e){e.style.display="none"})),Array.from(this.teaserInfoElements).forEach((function(e){e.classList.remove("hide"),e.classList.add("show")})),Array.from(this.seamlessPercent).forEach((function(e){e.classList.remove("hide"),e.classList.add("show")}))}},{key:"setActiveTeaserHighlights",value:function(e){var t=this.playingLabels[e],n=p(this.teaser[e]).find(".js-seamless-percent").get(0);t&&(t.style.display="flex"),n&&n.classList.add("hide")}},{key:"getCurrentIndex",value:function(){if(this.livetvScroller){var e=this.livetvScroller,t=e.$cells,n=e._selectedIndex,i=t.get(n);return parseInt(i.getAttribute("data-slide-index"),10)}return 0}},{key:"updatePlayingState",value:function(e){thSelectorAll(".js-teaser-label"),this.resetTeaserHighlights(),e&&this.setActiveTeaserHighlights(this.getCurrentIndex()),this.isPlaying=e}},{key:"increaseShowMoreActions",value:function(){this.showMoreActions++}},{key:"jumpToSlide",value:function(e){var t=zdfsite.user.getState().getUserProfile(),n=parseInt(e.delegateTarget.getAttribute("data-index"));if(n!==this.getCurrentIndex()||!this.isPlaying){var i=this.element.querySelector(".js-livetv-scroller-cell"),r=i.offsetLeft+i.offsetWidth/2,a=i.offsetTop+i.offsetHeight/2;this.livetvScroller.selectIndex(n,!0);var o=p('.b-playerbox, [data-module="zdfplayer"]');o.each((function(e,t){var n=p(t).rbComponent();n&&n.pause()})),this.resetTeaserHighlights();var s=p(o.get(n)).rbComponent();s&&!t.videoNoAutoplay&&s.play(),this.setActiveTeaserHighlights(n),window.scrollTo(r,a)}}},{key:"addScheduledLivestreamsTeaser",value:function(e){var t=this;e.forEach((function(e,n){var i,r=void 0,a=void 0,o=void 0,s=void 0;e.hasOwnProperty("image")?(r=e.image.layouts["240x270"],a=e.image.layouts["384x216"],o=e.image.altText):(r="/static/".concat(t.options.version,"/img/bgs/zdf-typical-fallback-8x9.jpg"),a="/static/".concat(t.options.version,"/img/bgs/zdf-typical-fallback-16x9.jpg"),o="");var l=e.overline,u=e.target.htmlAnchor.href,c=e.target.htmlAnchor.title,d=e.target.externalId,f=n+1,h=p("h2.title").text(),m=e.target.id,v=e.title,g=e.infoline.headline;s=e.infoline.title.includes(" · ")?e.infoline.title.replace(" · "," <span aria-hidden='true'>·</span> "):e.infoline.title,i="".concat(e.infoline.headline," ").concat(e.infoline.title),t.teaserContent.push({imageSrcMobile:r,imageSrcDesktop:a,altText:o,overline:l,teaserLink:u,teaserLinkTitle:c,useInAppBrowserValue:!1,targetAssetId:d,hPos:f,clusterTitle:h,link:m,title:v,headline:g,teaserInfolineHeadline:e.infoline.headline,teaserInfolineTitle:s,ariaLabel:i})}))}},{key:"getImages",value:function(e){var t={};for(var n in e){var i=n.split("x");"1.78"===(parseInt(i[0])/parseInt(i[1])).toFixed(2)&&(t[n]=e[n])}return t}},{key:"changeExistingTeaser",value:function(e,t){var n=p(e).find(".normal-space").get(0),i=p(e).find(".teaser-foot").get(1);void 0!==n&&t.teaserInfolineTitle&&(n.innerHTML=t.title+'<span class="hyphens-helper">&nbsp;</span>',i.innerHTML='<dt class="visuallyhidden">'.concat(t.teaserInfolineHeadline,'</dt><dd class="teaser-info" aria-label="').concat(t.ariaLabel,'">').concat(t.teaserInfolineTitle,"</dd>"))}},{key:"setTeaserAttributes",value:function(e,t,n){var i=[],r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h="",m="",v="",g="";if(void 0!==e.target){e.hasOwnProperty("image")?(r=e.image.layouts["240x270"],a=e.image.altText):(r="/static/".concat(this.options.version,"/img/bgs/zdf-typical-fallback-8x9.jpg"),a=""),o=e.hasOwnProperty("livestreamPercentPlayed")?e.livestreamPercentPlayed:null,e.target.hasOwnProperty("mainVideoContent")?(s=e.target.mainVideoContent["http://zdf.de/rels/target"].geoLocation,l=e.target.mainVideoContent["http://zdf.de/rels/target"].start,u=e.target.mainVideoContent["http://zdf.de/rels/target"].stop,f={hour:"numeric",minute:"numeric"},c=new Date(l).toLocaleTimeString("de-DE",f),d=new Date(u).toLocaleTimeString("de-DE",f)):(o=null,l=null,u=null,c=null,d=null);var y=e.target.id,b=e.target.htmlAnchor.href,_=e.target.htmlAnchor.title,w=e.overline,k=e.title,S=e.target["http://zdf.de/rels/player-content"],O=e.target["http://zdf.de/rels/embed-url"],E=e.target.currentVideoType,P=e.image?JSON.stringify(this.getImages(e.image.layouts)):"",T=e.label&&e.label.title||"",x=e.target.externalId;for(var C in p=e.infoline.title.includes(" · ")?e.infoline.title.replace(" · "," <span aria-hidden='true'>·</span> "):e.infoline.title,e.infoline.screenReaderTexts){var A=e.infoline.screenReaderTexts[C];"Rubrik"===A.text&&(h=A.title),A.text.includes("Staffel")&&(m=A.text),(A.title.includes("min")||A.title.includes("Uhr"))&&(v=A.text+" "+A.title)}return 0===(g=m+" "+v+" "+h).trim().length&&(g="".concat(e.infoline.headline," ").concat(e.infoline.title)),i.push({teaserId:y,teaserLink:b,percentPlayed:o,overline:w,title:k,imageSrc:r,altText:a,teaserInfolineHeadline:e.infoline.headline,ariaLabel:g,geolocation:s,embedContent:O,currentVideoType:E,layouts:P,teaserLinkTitle:_,startTime:c,stopTime:d,teaserInfolineTitle:p,labelTeaser:T,slideIndex:t,videoId:y,embedId:y,sophoraId:y,externalId:x,playerContent:n+S}),i}}},{key:"replaceSmallTeaserElements",value:function(e,t,n){var i=this.getHtmlForTeaser(this.teaserSmall,"teaserSmall"),r=this.smallTeaser,a=e>0?e-1:0;e===n&&a++,a>=r.length&&(a=r.length-1),e<n?r[r.length-1].insertAdjacentHTML("beforebegin",i):(e===r.length-1&&(a=r.length-1),r[a].insertAdjacentHTML("afterend",i)),this.smallTeaser=this.queryAll(".livestream-teaser-item"),this.teaserSmall.pop()}},{key:"replaceTeaserLiveElements",value:function(e){var t=this.getHtmlForTeaser(this.teaserLive,"teaserLive"),n=this.teaser;this.teaser.forEach((function(i,r){r===e&&0===r?n[0].insertAdjacentHTM"afterend",t)})),this.teaser=this.queryAll(".js-livetv-scroller-cell"),this.teaserLive.pop()}},{key:"getHtmlForTeaser",value:function(e,t){var n=this;return e.map((function(e){return n.render(t,Object.assign({},e))})).reduce((function(e,t){return e+t}),"")}},{key:"updateDisplay",value:function(){this.teaser=this.queryAll(".js-livetv-scroller-cell:not(.is-clone)"),this.smallTeaser=this.queryAll(".livestream-teaser-item"),this.playingLabels=this.element.querySelectorAll(".js-teaser-label"),this.teaserInfoElements=this.element.querySelectorAll(".teaser-info"),this.seamlessPercent=this.queryAll(".js-seamless-percent");var e=this.teaser.length,t=this.queryAll(".livestream-teaser-nav")[0],n=this.queryAll(".scroll-arrow"),i=this.query(".scroll-pagination");(this.smallTeaser.length>1?(t.parentElement.classList.remove("hide"),n.forEach((function(e){e.classList.remove("hide")})),i.classList.remove("hide"),this.$element.find(".live-tv-slider").get(0).classList.remove("is-single-slide")):(t.parentElement.classList.add("hide"),n.forEach((function(e){e.classList.add("hide")})),i.classList.add("hide"),this.$element.find(".live-tv-slider").get(0).classList.add("is-single-slide")),this.livetvScroller.updateCells(),this.livetvScroller._createPagination(),this.$element.find(".live-tv-slider").attr("data-page-length",e),this.teaser.forEach((function(e,t){e.setAttribute("data-slide-index",t)})),this.smallTeaser.forEach((function(e,t){e.setAttribute("data-index",t)})),this.teaserContent.length>0)&&(this.queryAll(".b-content-teaser-list .js-content")[0].innerHTML=this.getHtmlForTeaser(thisrbComponent(),this.showMore.initializeVisibleItems(this.showMoreActions>0,this.showMoreActions+1))}},{key:"hashCode",value:function(e){var t=0,n=e.length,i=0;if(n>0)for(;i<n;)t=(t<<5)-t+e.charCodeAt(i++)|0;return t}},{key:"updateCurrentItems",value:function(e){var t=this.getCurrentItems(),n=this.getNextItems(e),i=this.mergeItems(t,n),r=this.fixItemsIndex(i);this.updateSmallTeasers(r),this.updateScheduledTeasers(e),this.updateUi(r)}},{key:"updateScheduledTeasers",value:function(e){this.teaserContent=[],this.teaserLive=[];var t=e.module.find((function(e){return e.profile.indexOf("group-index-live")})).scheduledLivestreamsTeaser;void 0!==t&&this.addScheduledLivestreamsTeaser(t)}},{key:"updateSmallTeasers",value:function(e){var t=this,n=this.getCurrentIndex();this.smallTeaser=this.queryAll(".livestream-teaser-item"),this.teaserSmall=[],this.smallTeaser.forEach((function(e,t){n!==t&&e.remove()})),this.smallTeaser=this.queryAll(".livestream-teaser-item"),e.forEach((function(e){0===e.oldIndex&&1===n&&e.index<0&&(n=0)})),e.forEach((function(e){-1===e.oldIndex&&0===n&&0===e.index&&(n=1)})),e.forEach((function(e){e.index>-1&&!e.isActiveVideo&&(t.teaserSmall.push(d({},e.attributes,{index:e.index,label:t.label})),t.replaceSmallTeaserElements(e.index,e.oldIndex,n))}))}},{key:"updateUi",value:function(e){var t=this;e.forEach((function(e){-1===e.oldIndex?t.addNewItem(e):-1===e.index?t.removeOldItem(e):e.hashChanged&&t.updateExistingItem(e)})),this.updateDisplay()}},{key:"addNewItem",value:function(e){this.teaserLive.push(d({},this.zdfPlayerPaths,{},e.apiVideoToken,label:e.attributes.epgServiceBaseUrl})),this.replaceTeaserLiveElements(e.index)}},{key:"removeOldItem",value:function(e){e.teaser.remove()}},{key:"updateExistingItem",value:function(e){this.changeExistingTeaser(e.teaser,e.attributes)}},{key:"getCurrentItems",value:function(){var e=this,t=[],n={hour:"numeric",minute:"numeric"},i=this.queryAll(".js-livetv-scroller-cell:not(.is-clone)"),r=this.getCurrentIndex();return i.forEach((function(i,a){var o=i.getAttribute("data-title"),s=i.getAttribute("data-externalId"),l=i.getAttribute("data-start"),u=i.getAttribute("data-stop"),c=i.getAttribute("data-id"),d=new Date(l);!isNaN(d.valueOf())||(d=d.toLocaleTimeString("de-DE",n));var f=new Date(u);!isNaN(f.valueOf())||(f=f.toLocaleTimeString("de-DE",n));var p=e.teaserHash(o,s,d,f),h=r===a;t.push({teaserId:c,hash:p,teaser:i,index:a,isActiveVideo:h})})),t}},{key:"getNextItems",value:function(e){var t=this,n=zdfsite.apiService,i=[];return e.module.find((function(e){return e.profile.indexOf("group-index-live")})).livestreamsTeaser.forEach((function(e,r){var a=t.setTeaserAttributes(e,r,n)[0],o=t.teaserHash(a.title,a.externalId,a.startTime,a.stopTime);i.push({teaserId:a.teaserId,index:r,hash:o,attributes:a,teaser:null,isActiveVideo:!1})})),i}},{key:"mergeItems",value:function(e,t){var n=[];return t.forEach((function(t){var i=e.findi.isActiveVideo);n.push(d({},t,{oldIndex:i?i.index:-1,isActiveVideo:!!i&&i.isActiveVideo,teaser:i?i.teaser:null,hashChanged:r}))})),e.filter((function(e){return!t.some((function(t){return t.teaserId===e.teaserId}))})).forEach((function(e){n.push(d({},e,{index:e.sIndex",value:functioush(d({},r));else{var a=e.findIndex((function(e){return function(e,t){return e.index===t.index&&e.teaserId!==t.teaserId}(r,e)}));if(a>-1){if(!function(e){return n.some((function(t){return e.teaserId===t.teaserId}))}(r)){var o=e[a];t.handleDoubleIndex(r,o,n,i),i++}}else n.push(d({},r,{index:i}))}i++})),n}},{key:"handleDoubleIndex",value:function(e,t,n,i){e.isActiveVideo?(n.push(d({},e,{index:i})),n.push(d({},t,{index:i+1}))):t.isActiveVideo?(n.push(d({},t,{index:i})),n.push(d({},e,{index:i+1}))):(f.logWarn("LIVEMODULE: double index but no active video found!"),n.push(d({},e,{index:i})),n.push(d({},t,{index:i+1})))}}]),t}(f.Component);f.live.register("js-live-module",h);var m=h;t.default=m},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<li class="livestream-teaser-item js-livestream-teaser-item" data-index="'+(null==(__t=index)?"":rb.escape(__t))+'">\n    <article class="b-cluster-teaser-small m-clickarea js-cluster-teaser-small" data-teaser-id="'+(null==(__t=teaserId)?"":rb.escape(__t))+'" data-teaser-link="'+(null==(__t=teaserLink)?"":rb.escape(__t))+'">\n        <div class="ratio-wrap">\n            <div class="b-ratiobox">\n                ',null!=percentPlayed&&(__p+='\n                    <span class="seamless-percent m-active">\n                        <span class="percent-progress" style="width: '+(null==(__t=percentPlayed)?"":rb.escape(__t))+'%;"></span>\n                    </span>\n                '),__p+='\n\n                <picture>\n                    <source class="m-8-9" srcset="'+(null==(__t=imageSrc)?"":rb.escape(__t))+'" media="(min-width: 1px)">\n                    <img class="preview-image ratiobox-item" src="'+(null==(__t=imageSrc)?"":rb.escape(__t))+'" data-sizes="auto" alt="'+(null==(__t=altText)?"":rb.escape(__t))+'" sizes="auto">\n                </picture>\n            </div>\n        </div>\n        <div class="box">\n            <div class="box-table-wrap">\n                <div class="box-table-inner">\n                    <h3 class="teaser-title">\n                        ',null!=overline&&(__p+='\n                            <span class="teaser-cat">\n                                <span class="teaser-cat-category">\n                                    '+(null==(__t=overline)?"":rb.escape(__t))+"\n                                </span>\n                            </span>\n                        "),__p+='\n\n                        <span class="normal-space">\n                            '+(null==(__t=title)?"":rb.escape(__t))+'\n                        </span>\n                    </h3>\n                    <div class="teaser-label js-teaser-label">\n                        ',null!=label?__p+="\n                            "+(null==(__t=label)?"":rb.escape(__t))+"\n                        ":__p+="\n                            Spielt ab\n                        ",__p+="\n                    </div>\n                    ",null!=teaserInfolineTitle&&(__p+='\n                        <dl class="teaser-foot">\n                            <dt class="visuallyhidden">'+(null==(__t=teaserInfolineHeadline)?"":rb.escape(__t))+'</dt>\n                            <dd class="teaser-info" aria-label="'+(null==(__t=ariaLabel)?"":rb.escape(__t))+'">'+(null==(__t=teaserInfolineTitle)?"":__t)+"</dd>\n                        </dl>\n                    "),__p+="\n                </div>\n            </div>\n        </div>\n    </article>\n</li>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<article class="b-content-teaser-item b-content-teaser-item-new cell js-impression-track">\n    <div class="inner m-clickarea">\n        <div class="ratio-wrap">\n            <div class="b-ratiobox">\n                <picture class="artdirect">\n                    <source class="m-8-9" data-srcset="'+(null==(__t=imageSrcMobile)?"":rb.escape(__t))+'" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" media="(min-width: 1px)" />\n                    <source class="m-16-9" data-srcset="'+(null==(__t=imageSrcDesktop)?"":rb.escape(__t))+'" srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" media="(min-width: 1px)" />\n                    <img class="preview-image ratiobox-item lazyload js-artdirect" src="'+(null==(__t=imageSrcDesktop)?"":rb.escape(__t))+'" data-sizes="auto" alt="'+(null==(__t=altText)?"":rb.escape(__t))+'" sizes="auto">\n                </picture>\n            </div>\n        </div>\n        <div class="box m-tags">\n            <h3 class="teaser-title ',null!=overline&&(__p+=" m-cat"),__p+='">\n                <span class="teaser-cat">\n                    <span class="teaser-cat-category">\n                        '+(null==(__t=overline)?"":rb.escape(__t))+'\n                    </span>\n                </span>\n                <span class="visuallyhidden"> - </span>\n\n                <a href="'+(null==(__t=teaserLink)?"":rb.escape(__t))+'" title="'+(null==(__t=teaserLinkTitle)?"":rb.escape(__t))+'" class="teaser-title-link m-clickarea-action js-track-click"\n                   data-use-in-app-browser=\''+(null==(__t=useInAppBrowserValue)?"":rb.escape(__t))+'\'\n                   data-track=\'{\n                    "element": "ContentTeaser",\n                    "action": "Click",\n                    "format": "Small",\n                    "teaserTracking": "true",\n                    "targetAssetId": "'+(null==(__t=targetAssetId)?"":rb.escape(__t))+'",\n                    "clickedClusterPosition": "1",\n                    "clickedTeaserPosition": "'+(null==(__t=hPos)?"":rb.escape(__t))+'",\n                    "actionDetail": "Context:Inline|VPos:1|HPos:'+(null==(__t=hPos)?"":rb.escape(__t))+"|Cluster:"+(null==(__t=clusterTitle)?"":rb.escape(__t))+"|Teaser:"+(null==(__t=title)?"":rb.escape(__t))+"|Linkziel:"+(null==(__t=link)?"":rb.escape(__t))+"\"\n                    }'\n                >\n                    "+(null==(__t=title)?"":rb.escape(__t))+"\n                </a>\n            </h3>\n\n            ",null!=teaserInfolineHeadline&&(__p+='\n                <dl class="teaser-foot">\n                    <dt class="visuallyhidden">'+(null==(__t=teaserInfolineHeadline)?"":rb.escape(__t))+'</dt>\n                    <dd class="teaser-info" aria-label="'+(null==(__t=ariaLabel)?"":rb.escape(__t))+'">'+(null==(__t=teaserInfolineTitle)?"":__t)+"</dd>\n                </dl>\n            "),__p+="\n        </div>\n    </div>\n</article>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="item js-livetv-scroller-cell video-carousel-item" tabindex="0"\n     data-teaser-link="'+(null==(__t=teaserLink)?"":rb.escape(__t))+'"\n     data-slide="'+(null==(__t=videoId)?"":rb.escape(__t))+'"\n     data-slide-index="'+(null==(__t=slideIndex)?"":rb.escape(__t))+'"\n     data-title="'+(null==(__t=title)?"":rb.escape(__t))+'"\n     data-externalId="'+(null==(__t=externalId)?"":rb.escape(__t))+'"\n     data-start="'+(null==(__t=startTime)?"":rb.escape(__t))+'"\n     data-stop="'+(null==(__t=stopTime)?"":rb.escape(__t))+'"\n     data-id="'+(null==(__t=teaserId)?"":rb.escape(__t))+'">\n    <div class="b-playerbox b-ratiobox js-rb-live"\n         data-module="zdfplayer"\n         data-embed-id="'+(null==(__t=embedId)?"":rb.escape(__t))+'"\n         data-zdfplayer-id="'+(null==(__t=sophoraId)?"":rb.escape(__t))+'"\n         data-zdfplayer-ext-id="'+(null==(__t=externalId)?"":rb.escape(__t))+'"\n         data-zdfplayer-geolocation="'+(null==(__t=geolocation)?"":rb.escape(__t))+'"\n         data-zdfplayer-jsb=\'{\n            "config": "'+(null==(__t=config)?"":rb.escape(__t))+'",\n            "configTiviAppIos": "'+(null==(__t=configTiviAppIos)?"":rb.escape(__t))+'",\n            "configTiviAppAndroid": "'+(null==(__t=configTiviAppAndroid)?"":rb.escape(__t))+'",\n            "configHeuteAppIos": "'+(null==(__t=configHeuteAppIos)?"":rb.escape(__t))+'",\n            "configHeuteAppAndroid": "'+(null==(__t=configHeuteAppAndroid)?"":rb.escape(__t))+'",\n            "content": "'+(null==(__t=playerContent)?"":rb.escape(__t))+"&videoId="+(null==(__t=videoId)?"":rb.escape(__t))+'",\n            "embed_content": "'+(null==(__t=embedContent)?"":rb.escape(__t))+'",\n            "autoplay": false,\n            "apiToken": "'+(null==(__t=apiVideoToken)?"":rb.escape(__t))+'",\n            ',epgServiceBaseUrl&&(__p+='"epgServiceBaseUrl": "'+(null==(__t=epgServiceBaseUrl)?"":rb.escape(__t))+'",'),__p+='\n            "preload": false,\n            "endScreen": false,\n            "nextVideoTeaser": false,\n            "nextButton": false,\n            "primary": false,\n            "enablePip": true,\n            "isLivestream": '+(null==(__t="live"==currentVideoType)?"":rb.escape(__t))+',\n            "isMyViewPlayer": false,\n            "fsk16ErrorDisabled": false,\n            "aspectRatio": "16:9"\n         }\'\n        data-zdfplayer-teaser-image="'+(null==(__t=layouts)?"":rb.escape(__t))+'"\n        data-zdfplayer-auto-init="false"\n    ></div>\n\n    <div class="inner">\n        <div class="box-title-wrap">\n            <div class="title-table">\n                <div class="box',null!=label&&(__p+=" m-label"),__p+='">\n                    <h3 class="teaser-title">\n                        ',null!=overline&&(__p+='\n                            <span class="teaser-cat">\n                                <span class="teaser-cat-category">\n                                    '+(null==(__t=overline)?"":rb.escape(__t))+"\n                                </span>\n                            </span>\n                        "),__p+='\n                        <span class="normal-space">\n                            '+(null==(__t=teaserLinkTitle)?"":rb.escape(__t))+"\n                        </span>\n                    </h3>\n\n                    ",null!=teaserInfolineTitle&&(__p+='\n                        <dl class="teaser-foot">\n                            <dl class="teaser-foot">\n                                <dt class="visuallyhidden">'+(null==(__t=teaserInfolineHeadline)?"":rb.escape(__t))+'</dt>\n                                <dd class="teaser-info" aria-label="'+(null==(__t=ariaLabel)?"":rb.escape(__t))+'">'+(null==(__t=teaserInfolineTitle)?"":__t)+"</dd>\n                            </dl>\n                        </dl>\n                    "),__p+="\n\n                    ",null!=label&&(__p+='\n                        <div class="teaser-label">\n                            '+(null==(__t=label)?"":rb.escape(__t))+"\n                        </div>\n                    "),__p+="\n\n                    ",null!=percentPlayed&&(__p+='\n                        <span class="seamless-percent m-active js-seamless-percent">\n                            <span class="percent-progress" style="width: '+(null==(__t=percentPlayed)?"":rb.escape(__t))+'%;"></span>\n                        </span>\n                    '),__p+="\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n";return __p}},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14),n(103),n(17),n(10);var r=i(n(21));n(15);var a=i(n(53));n(57);var o=i(n(0)),s=i(n(3)),l=i(n(35)),u=i(n(1)),c=i(n(4)),d=i(n(52)),f=i(n(247));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=n(69),v=window.rb,g=v.$,y=n(7),b=!!(v.prefixed("order")||v.prefixed("flexOrder")),_=function(e){function t(e,n){var i;(0,o.default)(this,t),(i=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).wasLastPlayerPlaying=!0,i.setIndex=!1,i.onVideoNoAutoplay=i.onVideoNoAutoplay.bind(i),i.cellByPlayerId={},i.playerOffHandlers=[];var r=new URLSearchParams(window.location.search||window.location.hash);return i.autoplayUrlParam="true"===r.get("autoplay"),zdfsite.playerReady.then((function(){i.addPlayerListener("Player::INITIALIZED",(function(e){var t=e.id,n=e.element;if(i.element.contains(n)){var r=g(n).parents(".item");i.cellByPlayerId[t]=r;var o=g([].concat((0,a.default)(r.find(".teaser-foot").get()),(0,a.default)(r.find(".seamless-percent"lass("show-info"),i.addPlayerListener("Player::PLAY",(function(e){i.onVideoPlay(e.id),o.removeClass("show-info")}),{id:t}),i.addPlayerListener("Player::STOP",(function(e){i.onVideoStop(e.id),o.addClass("show-info")}),{id:t})}}))})),i.scrollLayout(),i.setInitialHashUrl(),i.setCurrentSlide(),i}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"defaults",get:function(){return{minClone:3,carousel:!0,centerMode:!0,mandatorySnap:!0,userAllowsAutoplay:!0,autoplayActiveVideo:!0,liveModule:!1}}},{key:"events",get:function(){return{"{name}change":"_stopActiveVideo","{name}changed":function(){var e=this;this._startActiveVideo(),this.setHashFromUrl(),this.updateShareUrl(),this.setCurrentSlide(),this.isInitialized&&this.element.hasAttribute("data-track")&&v.rIC((function(){m.trackClick(e.element)}))}}}}]),(0,u.default)(t,[{key:"addPlayerListhis.playerOffHandlers.push(i)}},{key:"onVideoPlay",value:function(e){this.cellByPlayerId[e].addClass("m-player-started")}},{key:"onVideoStop",value:function(e){this.cellByPlayerId[e].removeClass("m-player-started")}},{key:"getCellPlayer",value:function(e){var t=this.$cells.eq(null==e?this.selectedIndex:e).find(".b-playerbox").rbComponent();return t&&t.play||(t=null),t}},{key:"_startActiveVideo",value:function(){var e=this.getCellPlayer();if(e){var t=this.options.userAllowsAutoplay&&this.options.autoplayActiveVideo&&this.autoplayUrlParam&&this.wasLastPlayerPlaying&&!v.root.classList.contains("m-keyboardfocus-within");e.setOption("dontAllowAutoPlay",!t),e.initPlayer(),t&&e.play()}}},{key:"_stopActiveVideo",value:function(){var e=this.getCellPlayer();e&&e.isInitialized&&(this.wasLastPlayerPlaying=!e.paused,e.stop())}},{key:"updateShareUrl",value:function(){if(!0===this.options.shareSlide&&0!==g.q('[data-module="plusbar"]').length){var e=h({},(0,d.default)(window.location.hash.substr(1))),t="".concat(location.origin).concat(location.pathname).concat(location.search||"","#").concat(g.param(e));history.replaceState({},"",t),g.q('[data-module="plusbar"]').first().rbComponent().updateBaseData({url:t})}}},{key:"updateCells",value:function(){var e=":not(.js-"+this.name+"-helper):not(.is-clone)",n=this.ginalPageLength=n.length,this.options.liveModule){var i=null;this.cloneCells&&(i=this.cloneCells.find((function(e){return e.classList.contains("m-active")})),this.cloneCells.forEach((function(e,t){e!==i&&e.remove()})),this.cloneCells=[]);var r=2===this.originalPageLength?3:3===this.originalPageLength?4:0;if(this.cloneCells=this.updateCloneCells(n,r,i),!this.cloneCells.length&&i){var a=parseInt(i.getAttribute("data-slide-index"),10);n.get(a).replaceWith(i),i.classList.remove("is-clone")}}else this.updateCloneCells(n,this.options.minClone);(0,l.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateCells",this).call(this)}},{key:"updateCloneCells",value:function(e,t,n){var i=this,r=[],a=n&&n.getAttribute("data-slide-index"),o=parseInt(a,10);return e.length<t&&(e.get().forEach((function(e,t){if(n&&e.getAttribute("data-slide-index")===a)r.push(n);else{var s=e.cloneNode(!0);s.setAttribute("aria-hidden","true"),s.removeAttribute("tabindex"),s.classList.add("is-clone"),s.classList.remove("m-active"),g(".b-zdfplayer",s).remove(),n&&t<o?n.before(s):i.scroller.appendChild(s),r.push(s)}})),this.cellLengthBeforeClone=e.length),r}},{key:"onVideoNoAutoplay",value:function(e){this.setOption("userAllowsAutoplay",!e)}},{key:"selectFromHash",value:ame||"slide",t=(0,d.default)(location.hash.replace("#",""));if(e){var n=t.videoId,i=this.queryAll(".".concat(this.interpolateName("{name}-cell"))).findIndex((function(t){return t.getAttribute("data-".concat(e))===n}));if(i>=0)return i}}return 0}},{key:"scrollLayout",value:function(){var e=this.selectFromHash();this.selectIndex(e,!0),this.setIndex=!0}},{key:"setInitialHashUrl",value:function(){0===location.hash.replace("#","").length&&this.setHashFromUrl(),this.updateShareUrl()}},{key:"setHashFromUrl",value:function(){if(!0===this.setIndex){var e=this.cellData[this.selectedIndex].elem,t=this.hashParams(e);if(!t)return;var n=h({},t),i="".concat(location.origin).concat(location.pathname).concat(location.search||"","#").concat(g.param(n));history.replaceState({},"",i),t.pop()}}},{key:"hashParams",value:function(e){if(e.hasAttribute("data-teaser-link")){var t=[],n=e.getAttribute("data-teaser-link").split("#")[1]||"",i=e.getAttribute("data-slide"),r=n.split("=")[1];return-1!==n.indexOf("scene")?(e.setAttribute("data-scene",r),t.scene=r):-1!==n.indexOf("highlights")?(e.setAttribute("data-highlights",r),t.highlights=r):-1!==n.indexOf("sourceVariant")&&(e.setAttribute("data-source-variant",r),t.sourceVariant=r),t.videoId=i,t}}},{key:"attached",value:function(){y.subscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0),this.scrollLayout()||this._startActiveVideo(),this.isInitialized=!0}},{key:"detached",value:function(){y.unsubscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0),this.playerOffHandlers.forEach((function(e){return e()})),this.cellByPlayerId={},this.playerOffHandlers=[]}},{key:"_createCarouselPages",value:function(){var e=void 0,t=void 0,n=this.viewportWidth,i=this.isCarousel;if(this.posPages={left:[],right:[]},this.posPages.right.rbCells=[],this.posPages.left.rbCells=[],this.isCarousel=!1,b&&this.options.carousel&&this.pageData.length>1&&(this.isCarousel=this.cellData[this.cellData.length-1].l>this.viewportWidth,!this.isCarousel&&this.cellData[0].w>this.viewportWidth-1&&this.cellData[1].w>this.viewportWidth-1&&(this.isCarousel=!0)),this.isCarouselChanged=i!==this.isCarousel,this.isCarousel){this.maxWrapLeft=n,this.minWrapRight=this.maxWrapRight-n,e=this.carouselWidth;for(var r=0;r<this.pageData.length;r++){var a=this.pageData[r];if(this.posPages.right.push(this._addPosCorrect(a,this.posPages.right.rbCells,e,this.baseLength)),a.r>=n)break}e*=-1;for(var o=0,s=0,l=this.pageData.length-1;l>=0;l--){var u=this.pageData[l];if(s+=u.r-u.l,o--,this.posPages.left.push(this._addPosCorrect(u,this.posPages.left.rbCells,e,o)),s>=n)break}this.minUnwrapRight=n,t=this.posPages.right[this.posPages.right.length-1],this.posPages.right._helperLeft=t.or,this.maxUnwrapRight=-1*t.or-n,t=this.posPages.left[this.posPages.left.length-1],this.posPages.left._helperLeft=t.l,this.minUnwrapLeft=-1*t.ol+n,this.maxUnwrapLeft=-1*this.posPages.left[0].or-n,this.pageData.unshift.apply(this.pageData,this.posPages.left.reverse()),this.pageData.push.apply(this.pageData,this.posPages.right),this.baseIndex=this.posPages.left.length}}},{key:"setCurrentSlide",value:function(){var e=this.selectedIndex,t=this.selectedIndex+2,n=this.$scroller.children(),i=this.cellLengthBeforeClone?this.cellLengthBeforeClone+1:n.length,r=this.cellLengthBeforeClone?this.cellLengthBeforeClone:n.length-1;this.arrowPrev=this.element.querySelector(".scroll-arrow.x-prev"),this.arrowsNext=this.element.querySelector(".scroll-arrow.x-next");var a=v.jsonParse(this.arrowPrev.getAttribute("data-track")),o=v.jsonParse(this.arrowsNext.getAttribute("data-track"));0===e?(a.actionDetail="Stream_"+r,o.actionDetail="Stream_"+t):t===i?(a.actionDetail="Stream_"+e,o.actionDetail="Stream_1"):t>=this.cellLengthBeforeClone+1?(e>=this.cellLengthBeforeClone+1?a.actionDetail="Stream_"+(e-this.cellLengthBeforeClone):a.actionDetail="Stream_"+e,t>=n.length?o.actionDetail="Stream_1":o.actionDetail="Stream_"+(t-this.cellLengthBeforeClone)):(a.actionDetail="Stream_"+e,o.actionDetail="Stream_"+t),this.arrowPrev.setAttribute("data-track",JSON.stringify(a)),this.arrowsNext.setAttribute("data-track",JSON.stringify(o))}}]),t}(f.default);v.live.register("js-livetv-scroller",_);var w=_;t.default=w},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(34),n(5),n(14),n(76),n(15),n(17);var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=i(n(86)),c=(i(n(113)),window.rb),d=window.zdfsite,f=c.$,p=/^#/,h=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).div=document.createElement("div"),i.btnClass=i.interpolateName("{name}-btn"),i.wrapperClass=i.interpolateName(i.options.itemsWrapper).replace(".",""),i.$wrapper=f(i.query(i.options.itemsWrapper)),i.loadedTeaserStr="",c.rAFs(i,{that:i},"addContent","addStaticContent","changeState","setVisibleClass"),i.loadError.bind(i),i.visibleSel=i.options.itemSel+".m-loadmore-item",i.inVisibleSel=i.options.itemSel+":not(.m-loadmore-item)",i.addSessionContent(),i.setVisibleClass(i.options.restrictSize),i.animateOpts={duration:i.options.duration,easing:i.options.easing,always:function(){i.$wrapper.css({height:"",overflow:""})}},i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{itemsWrapper:".{name}-wrapper",easing:"ease-in-out",duration:700,useHistory:!0,size:24,resultCount:144,restrictSize:!1,itemSel:".b-content-teaser-item"}}},{key:"events",get:function(){return{"click:closest(.{name}-btn)":"loadContent"}}}]),(0,s.default)(t,[{key:"setOption",value:function(e,n){(0,o.default)(t.prototype.__proto__||Object.getProton",this).call(this,e,n),"restrictSize"!=e||n||this.setVisibleClass()}},{key:"hideButton",value:function(){this.$queryAll(".{name}-btn").closest(".load-more-container").rbSlideUp({always:function(){f(this).remove()}})}},{key:"setVisibleClass",value:function(e){var t=this.queryAll(this.options.itemSel);e&&(t=t.slice(0,e)),f(t).addClass("m-loadmore-item"),this.shouldHideButton()&&this.hideButton()}},{key:"animateContent",value:function(e){if(this.curHeight){var t=this.$wrapper.css("height"),n=e.length&&(e[0]||e.get(0));this.$wrapper.stop(!0,!0),this.$wrapper.css({height:this.curHeight+"px",overflow:"hidden"}).animate({height:parseFloat(t)},this.animateOpts),n&&(d.isTiviApp||this.setFocus(n),c.events.dispatch(n,"rbflowchild"))}}},{key:"addContent",value:function(e,t){var n=this;this.div.innerHTML=e.data;var i=f(this.div).find(".js-loadmore"),r=i.find(this.interpolateName(this.options.itemsWrapper)),a=r.html(),o=r.children().get(),s=i.find(this.interpolateName(".{name}-btn")).prop("href");o.forEach((function(e,i){(t||!n.options.restrictSize||n.options.restrictSize>i)&&e.classList.add("m-loadmore-item"),n.$wrapper.append(e)})),this.isLoading=!1,t||this.animateContent(o),!s||this.shouldHideButton(o)?this.hideButton():this.$queryAll(".{name}-btn").prop({href:s}),this.setStorage(a,s),this.changeState()}},{key:"shouldHideButton",value:function(e){var t=this.options;return e&&e.length<t.size&&(!t.restrictSize||e.length<t.restrictSize)||this.queryAll(this.visibleSel).length>=t.resultCount}},{key:"addStaticContent",value:function(e){var t=f(e.slice(0,this.options.restrictSize)).addClass("m-loadmore-item");this.animateContent(t),this.shouldHideButton(t)&&this.hideButton()}},{key:"addSessionContent",value:function(){if(this.options.useHistory){var e=location.hash;if((e=e.replace(p,"")).startsWith("searchappend")){var t=c.storage.session.get(e);t&&this.addContent({data:t,options:{url:""}},!0)}}}},{key:"setStorage",value:function(e,t){if(this.loadingUrl&&this.options.useHistory){var n=encodeURIComponent("searchappend"+this.loadingUrl);this.loadedTeaserStr+=e;var i='<div class="js-loadmore">\n                <div class="'.concat(this.wrapperClass,'">').concat(this.loadedTeaserStr,'</div>\n                <a href="').concat(t,'" class="').concat(thistory&&history.replaceSthistory.replaceState(null,"",r[0]+"#"+n)}}}},{key:"changeState",value:function(){this.$element[this.isLoading?"addClass":"removeClass"]("m-loading")}},{key:"loadError",value:function(){location.href=this.loadingUrl}},{key:"loadContent",value:function(e){var t=this.options.restrictSize&&this.queryAll(this.inVisibleSel);this.curHeight=this.$wrapper.height(),t&&t.length?this.addStaticContent(t):this.isLoading||(this.loadingUrl=this.query(".{name}-btn").href,this.isLoading=!0,this.changeState(),(0,u.default)(this.loadingUrl).then(this.addContent,this.loadError)),e&&e.preventDefault&&e.preventDefault()}}]),t}(c.Component);c.live.register("loadmore",h);var m=h;t.default=m},function(e,t,n){"use strict";var i=n(7);rb.click.add("logout",(function(){i.dispatch("logout")}))},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=n(7),s=void 0,l=function(n){function l(n,a){var o;return i(this,l),(o=r(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,n,a))).updateAvatar=e.rAF(o.updateAvatar,{that:o}),"userAvatar"===o.options.avatarId?t.ready.then(o.updateAvatar):o.updateAvatar(),o}return o(l,n),a(l,null,[{key:"defaults",get:function(){return{avatarId:"userAvatar"}}}]),a(l,[{key:"updateAvatar",value:function(){this.element.innerHTML="";var n=this.options.avatarId;if("userAvatar"===n){var i=t.getState().activeSubProfile;i?n=i.avatar:(e.logWarn("cannot get user avatar, no subprofile active!"),n=null)}if(1===document.getElementsByClassName("m-oauth").length&&(n=void 0),n){var r=function(){if(!s){var e=document.createElement("div"),t=document.getElementById("avatar-template");t&&(e.innerHTML=t.innerHTML,s=e)}return s}().querySelector(".".concat(n));if(r){var a=r.cloneNode();a.disabled=!0,this.element.appendChild(a)}}}},{key:"attached",value:function(){"userAvatar"===this.options.avatarId&&t.subscribe("activeSubProfileChanged",this.updateAvatar)}},{key:"detached",value:function(){"userAvatar"===this.options.avatarId&&t.unsubscribe("activeSubProfileChanged",this.updateAvatar)}}]),l}(e.Component);return e.live.register("avatar-image",l),l},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);n(13),n(17),n(15),n(10);var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=i(n(72)),c=i(n(177)),d=window.rb,f=d.$,p=n(7),h=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).profileChangedHandler=function(){i.profileChanged()},i.initProfile(),i.hasUserChangedNickname=!1,i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"events",get:function(){return{submit:"submit","click #btn-nickname-profile":"clickNicknameButton"}}}]),(0,s.default)(t,[{key:"initProfile",value:function(){var e=this;p.ready.then((function(){e.profile=e.getProfileToChange(),t.querySelectorAll("input[value=".concat(e.currentAvatar,"]"))[0].checked=!0}))}},{key:"installSuccessListener",value:function(){this.deinstallSuccessListener(),p.subscribe("subProfiles",this.profileChalue:function(){p.unsubscribe("subProfiles",this.profileChangedHandler)}},{key:"detached",value:function(){this.deinstallSucces:function(e){this.profileId=e,this.initProfile()}},{key:"getProfileToChange",value:function(){var e=this,t=null;return this.profileId&&(t=p.getState().profile.subProfiles.find((function(t){return t.id===e.profileId}))),t||(t=p.getState().activeSubProfile),t}},{key:"verifyNicknameNotEmpty",value:function(e){return!!e&&e.replace(/\s/g,"").length>0}},{key:"verifyNicknameNotOverlength",value:function(e){return!!e&&e.replace(/\s/g,"").length<=256}},{key:"fail",value:function(e){(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fail",this).call(this,{status:0,message:e,errorElements:[]})}},{key:"clickNicknameButton",value:function(e){var t=this,n=this.element.nickname.value;this.verifyNicknameNotEmpty(n)?this.verifyNicknameNotOverlength(n)?c.default.checkBlacklist(n).then((function(e){"allowed"===e.data.status&&(d.events.dispatch(t.element,"openChangeDialogAvatar"),t.hasUserChangedNickname=!0),"forbidden"===e.data.status&&(t.fail("The chosen username contains blacklisted items."),d.events.dispatch(t.element,"openChangeDialogNickname"))})).catch((function(e){console.log("Checking the username blacklist failed: "+e),t.fail({errorElements:t.element.nickname})})):this.fail("Username too long."):this.fail("Please enter a nickname.")}},{key:"submit",value:function(e){if(e&&e.preventDefault(),this.hasUserChangedNickname){if(!f(this.element.avatar).filter(":checked").prop("value"))return this.fail("Please choose an avatar."),!1;this.changeProfile()}else this.clickNicknameButton(e)}},{key:"changeProfile",value:function(){var e=this,t=this.element.nickname.value,n=f(this.element.avatar).filter(":checked").prop("value");if(t!==this.currentName||n!==this.currentAvatar){var i=Object.assign({},this.profile,{avatar:n,name:t});this.installSuccessListener(),p.dispatch("updateSubProfile",i),d.rAFQueue((function(){e.element.classList.add("m-loading")}))}else this.profileChanged()}},{key:"profileChanged",value:function(){d.events.dispatch(this.element,"closeDialog"),this.initProfile()}}]),t}(u.default);d.live.register("change-profile",h),e.exports=h},function(e,t,n){"use strict";(function(e){var t=n(2);n(85);var i=t(n(53));n(36),n(9),n(8),n(5),n(33);var r,a=t(n(0)),o=t(n(3)),s=t(n(1)),l=t(n(4)),u=t(n(23)),c=t(n(11)),d=t(n(316)),f=t(n(183)),p=n(24),h=n(47);r=function(){var e,t=window.rb,r=window.zdfsite,c=n(7),m=(e=function(e){function n(e,i){var s;return(0,a.default)(this,n),s=(0,o.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i)),r.consentManagementSettings.enableConsentManagement&&!(0,h.hasPersonalizationConsent)()?(t.log("hiding NewFavoritesCluster, no consent given"),s.hideCluster(),(0,o.default)(s)):(c.ready.then((function(){s.initList()})),s)}return(0,l.default)(n,e),(0,s.default)(n,null,[{key:"defaults",get:function(){return{maxSubscriptionItems:4}}}]),(0,s.default)(n,[{key:"initList",value:function(){this.$element.addClass("hide");var e=c.getState().activeSubProfile;if(e){var n=e.subscriptions;n&&n.length&&0!==n.length?this.fetchSubscriptions(n):(t.log("no subscriptions, hiding cluster"),this.hideCluster())}else t.logWarn("no active subprofile found!"),this.hideCluster()}},{key:"fetchSubscriptions",value:function(e){var n=this;Promise.all(d.default.getSubscriptions(e,this.options.maxSubscriptionItems)).then((function(e){t.rAFQueue((function(){n.scrollList.innerHTML="",n._unfilteredData=n.prepareTeasers(e),f.default.filterItems(n._unfilteredData,r.isTiviApp).then((function(e){n._filteredData=e,n._unfilteredData.length>0?(n.$element.removeClass("hide"),n.writeTeasers(n._unfilteredData),n.filterScrollList()):n.hideCluster()}))}),!0)})).catch((function(){n.hideCluster()}))}},{key:"filterScrollList",value:function(){var e=this;this.$element.addClass("hide"),t.rAFQueue((function(){f.default.updateTeaserList(e.element,e._filteredData,e._unfilteredData).length>0&&e.$element.removeClass("hide")}))}},{key:"prepareTeasers",value:function(e){var t=[];return e.forEach((function(e){t.push.apply(t,(0,i.default)(e["http://zdf.de/rels/search/results"]))})),t.sort(this.teaserSort),t}},{key:"teaserSort",value:function(e,t){var n=e["http://zdf.de/rels/target"].editorialDate,i=t["http://zdf.de/rels/target"].editorialDate;return n<i?1:n>i?-1:0}},{key:"attached",value:function(){var e=this;c.ready.then((function(){c.unsubscribe("zdfchenEnabled",e.filterScrollList),c.subscribe("zdfchenEnabled",e.filterScrollList)}))}},{key:"detached",value:function(){c.unsubscribe("zdfchenEnabled",this.filterScrollList)}}]),n}(n(314)),(0,u.default)(e.prototype,"filterScrollList",[p.autobind],Object.getOwnPropertyDescriptor(e.prototype,"filterScrollList"),e.prototype),e);return t.live.register("clusternewfavorites",m),m},"object"===(0,c.default)(e)&&e.exports?e.exports=r():r()}).call(this,n(12)(e))},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<article class="b-cluster js-cluster-extend" data-module="cluster-teaser-extension">\n    <header class="cluster-title-row x-row x-column js-title">\n        <div class="cluster-title-wrap">\n            <h2 class="cluster-title" aria-label="Beiträge zum Thema: '+(null==(__t=title)?"":__t)+'"  tabindex="0"><span class="icon-304_highlight" aria-hidden="true"></span>'+(null==(__t=title)?"":rb.escape(__t))+'</h2>\n        </div>\n    </header>\n\n    <div class="cluster-showmore js-rb-live" data-module="showmore">\n\n        <div class="cluster-content scroll-box js-rb-live" data-module="js-scrollbox">\n            <div class="tile-box-wrap showmore-wrapper js-scrollbox-list">\n                <article class="b-cluster-teaser">\n                </article>\n            </div>\n            <button type="button" class="scroll-arrow x-prev js-scrollbox-prev hide-for-small-only js-track-click"\n                    title="zurück scrollen" tabindex="-1"\n                    data-track=\'{\n                                "element": "Cluster_Lieblingssendungen_SB",\n                                "action": "Blättern_links",\n                                "trackView": true\n                            }\'>\n                    <span class="icon-201_slide-left" aria-hidden="true"></span>\n            </button>\n            <button type="button" class="scroll-arrow x-next js-scrollbox-next hide-for-small-only js-track-click"\n                    title="vorwärts scrollen" tabindex="-1"\n                    data-track=\'{\n                                "element": "Cluster_Lieblingssendungen_SB",\n                                "action": "Blättern_rechts",\n                                "trackView": true\n                            }\'>\n                   <span class="icon-202_slide-right" aria-hidden="true"></span>\n            </button>\n        </div>\n\n        <div class="load-more-container show-for-small-only">\n            <button class="button medium round load-more showmore-btn js-track-click js-rb-live"\n                    title=\'{ getDisplayText("general.showMore", "Weitere laden") | raw }\'\n                    data-module="scrolly"\n                    data-track=\'{"element": "'+(null==(__t=JSON.stringify(title))?"":rb.escape(__t))+'", "action": "Weitere Laden", "type": "action", "trackView": true}\'>\n                '+(null==(__t=buttonText)?"":rb.escape(__t))+"\n            </button>\n        </div>\n\n    </div>\n\n</article>\n";return __p}},function(e,t,n){"use strict";(function(e){var t=n(2);n(13),n(36),n(9),n(8),n(5),n(33);var i,r=t(n(0)),a=t(n(3)),o=t(n(1)),s=t(n(4)),l=t(n(23)),u=t(n(11)),c=t(n(316)),d=t(n(183)),f=n(24),p=n(47);i=function(){var e,t=window.rb,i=n(7),u=n(435),h=(e=function(e){function n(e,o){var s;return(0,r.default)(this,n),s=(0,a.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,o)),t.rAFs(s,"writeClusters"),zdfsite.consentManagementSettings.enableConsentManagement&&!(0,p.hasPersonalizationConsent)()?(t.log("hiding NewFavoritesList, no consent given"),s.hideList(),(0,a.default)(s)):(i.ready.then((function(){s.initList()})),s)}return(0,s.default)(n,e),(0,o.default)(n,null,[{key:"defaults",get:function(){return{maxSubscriptionItems:8,buttonText:"Weitere laden"}}}]),(0,o.default)(n,[{key:"initList",value:function(){var e=i.getState().activeSubProfile;if(e){var n=e.subscriptions;n&&n.length&&0!==n.length?this.fetchSubscriptions(n):(t.log("no subscriptions, hiding list"),this.hideList())}else ()}},{key:"fetchSubscriptions",value:function(e){var n=this;Promise.all(c.default.getSubscriptions(e,this.options.maxSubscriptionItems)).then((function(e){t.rAFQueue((function(){n.element.in(e)}),!0)})).catch((function(){n.hideList()}))}},{key:"writeClusters",value:function(e){var t=this;e=e||[],Promise.all(e.map((function(e){return t.checkCluster(e)}))).then((function(e){e.filter((function(e){return!0===e})).length>0?(t.$element.removeClass("hide"),t.$element.addClass("m-has-teaser")):t.hideList()}))}},{key:"checkCluster",value:function(e){var t=this;return new Promise((function(n){var i=e["http://zdf.de/rels/se.assign(r,e),r["http://zdf.de/rels/search/results"]=i,new u(t.element,r,t.options.buttonText),n(!0)})):n(!1)}))}},{key:"hideList",value:function(){this.$element.removeClass("m-has-teaser"),this.$element.addClass("hide")}},{key:"attached",value:function(){var e=this;i.ready.then((function(){i.unsubscribe("activeSubProfileChanged",e.initList),i.subscribe("activeSubProfileChanged",e.initList)}))}},{key:"detached",value:function(){i.unsubscribe("activeSubProfileChanged",this.initList)}}]),n}(t.Component),(0,l.default)(e.prototype,"initList",[f.autobind],Object.getOwnPropertyDescriptor(e.prototype,"initList"),e.prototype),e);return t.live.register("newfavoriteslist",h),h},"object"===(0,u.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){n(10);var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11);t=function(){var e=window.rb,t=n(7),s=function(e){function n(e,r){var o;return i(this,n),(o=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,r))).updateNicknameHandler=function(){o.updateNickname()},t.ready.then(o.updateNicknameHandler),o}return o(n,e),r(n,[{key:"updateNickname",value:function(){var e=t.getState().activeSubProfile;if(e){var n=this.options.header?"(":"",i=this.options.header?")":"";this.element.textContent="".concat(n).concat(e.name).concat(i)}else this.element.textContent=""}},{key:"attached",value:function(){t.subscribe("activeSubProfileChanged",this.updateNicknameHandler)}},{key:"detached",value:function(){t.unsubscribe("activeSubProfileChanged",this.updateNicknameHandler)}}]),n}(e.Component);return e.live.register("nicknamelabel",s),s},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(0),r=n(1),a=n(3),o=n(4),s=window.rb,l=n(7),u=function(e){function t(e,n){var r;return i(this,t),(r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).updateShowButton=function(){r.checkProfiles()},l.ready.then(r.updateShowButton),r}return o(t,e),r(t,[{key:"attached",value:function(){l.subscribe("subProfiles",this.updateShowButton)}},{key:"detached",value:function(){l.unsubscribe("subProfiles",this.updateShowButton)}},{key:"checkProfiles",value:function(){(l.getState().profile.subProfiles||[]).length>1?this.$element.removeClass("hide"):this.$element.addClass("hide")}}]),t}(s.Component);s.live.register("switch-profile-button",u),e.exports=u},function(e,t,n){"use strict";var i=n(2);n(15);var r,a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(23)),c=n(122),d=window.rb,f=d.$,p=n(24).autobt(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"createTemplate",value:function(){this.itemTemplate=n(746)}},{key:"applyTemplate",value:function(e){var t=document.createElement("div");return t.innerHTML=this.itemTemplate(e),t.firstChild}},{key:"pinRequestNeeded",value:function(e){if(!1===window.zdfsite.isTiviApp)return!1;var t=h.getMainUser().get("subProfiles"),n=h.getState().activeSubProfile||{},i=t.find((function(t){return t.id===e}))||{};return!0===n.zdfchenEnabled&&!1===i.zdfchenEnabled}},{key:"checkPin",value:function(e){var t={successParams:{profileId:e}};(0,c.sendMessageToTiviApp)("checkPin",t)}},{key:"switchProfile",value:function(e){h.dispatch("activateSubProfile",e),d.events.dispatch(this.element,"closeDialog")}},{key:"submit",value:function(e){e&&e.preventDefault();var t=f(this.element.profile).filter(":checked").prop("value");if(!t)return this.fail({status:0,message:"Please choose a profile.",errorElements:[]}),!1;this.pinRequestNeeded(t)?this.checkPin(t):this.switchProfile(t)}}],[{key:"events",get:function(){return{submit:"submit"}}}]),t}(n(436)),(0,u.default)(r.prototype,"submit",[p],Object.getOwnPropertyDescriptor(r.prototype,"submit"),r.prototype),r);d.live.register("tivi-profile-switch",m),e.exports=m},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<li class="profile-item cell text-center">\n    <div class="b-avatar-item">\n        <input name="profile" id="'+(null==(__t=id)?"":rb.escape(__t))+'" class="avatar-input" type="radio" value="'+(null==(__t=id)?"":rb.escape(__t))+'">\n        <label class="avatar-label" for="'+(null==(__t=id)?"":rb.escape(__t))+'">\n            <span class="avatar-image js-rb-live" data-module="avatar-image" data-avatar-image-avatar-id="'+(null==(__t=avatar)?"":rb.escape(__t))+'"></span>\n            <span class="name">'+(null==(__t=name)?"":rb.escape(__t))+"</span>\n        </label>\n    </div>\n</li>\n";return __p}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=window.rb,u=l.$,c=n(7),d=l.Symbol("removeing"),f=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).generateProfileKeys(),l.rAFs(i,"hideTeaser","removeTeaser","addTeaser","showTeaser"),i.checkContent=l.debounce(i.checkContent,{delay:i.options.hideDuration+30}),i.profileChange=i.profileChange.bind(i),c.ready.then((function(){i.writeTeasers(c.getState().profile[i.profileKey])})),i}return(0,s.default)(t,e),(0,o.){return{teaserLength:48,type:"",hideDuration:400}}},{key:"events",get:function(){return{teaserloaderror:"checkContent"}}}]),(0,o.default)(t,[{key:"generateProfileKeys",value:function(){this.profileKey=this.options.type}},{key:"clearCluster",value:function(){var e=this,t=0;c.getState().profile[this.profileKey].concat([]).forEach((function(n,i){var r=i>5?50:100;setTimeout((function(){c.dispatch(e.profileKey,{value:n,action:"remove"})}),t),t<500&&(t+=r)}))}},{key:"hideTeaser",value:function(e){var t=this;this.scrollBeforeTeaserRemove=document.body.scrollHeight,e.classList.add("m-hide-teaser"),e.classList.remove("lazyload"),setTimeout((function(){t.removeTeaser(e)}),this.options.hideDuration)}},{key:"removeTeaser",value:function(e){var t=this;document.body.scrollTop&&document.activeElement&&document.activeElement.getBoundingClientRect().top>e.getBoundingClientRect().top&&setTimeout((function(){var e=document.body.scrollHeight-t.scrollBeforeTeaserRemove;document.body.scrollTop+=e||0,t.scrollBeforeTeaserRemove=null}),this.options.hideDuration+50),e.remove()}},{key:"addTeaser",value:function(e){var t=this,n=this.generateTeaser(e);this.scrollBeforeTeaserAdd=document.body.scrollHeight,n.classList.add("m-hide-teaser"),u(this.scrollList).prepend(n),setTimeout((function(){t.showTeaser(n)}))}},{key:"showTeaser",value:function(e){if(e.classList.remove("m-hide-teaser"),this.removeFallbackTeaser(),document.body.scrollTop&&document.activeElement&&document.activeElement.getBoundingClientRect().top>e.getBoundingClientRect().top){var t=document.body.scrollHeight-this.scrollBeforeTeaserAdd;document.body.scrollTop+=t||0,this.scrollBeforeTeaserAdd=null}}},{key:"profileChange",value:function(e){var t=void 0;try{t=e.value.id}catch(e){}if(t){if("remove"==e.action){var n=this.query('[data-teaser-id="'.concat(t,'"]'));n&&!n[d]&&(n[d]=!0,this.hideTeaser(n))}else"add"==e.action&&this.addTeaser(t);this.checkContent()}}},{key:"checkContent",value:function(){var e=this,t=this.query(".b-cluster-teaser:not(.m-hide-teaser):not(.m-fallback-teaser)");this.hasTeaser&&!t?(this.hasTeaser=!0,seallbackTeaser(),l.events.dispatch(this.scrnction(){var e=this;c.ready.then((function(){e.deinstallProfileListener(),c.subscribe(e.profileKey,e.profileChange)}))}},{key:"deinstallProfileListener",value:function(){c.unsubscribe(this.profileKey,this.profileChange)}},{key:"detached",value:function(){this.deinstallProfileListener()}},{key:"attached",value:function(){this.installProfileListener()}}]),t}(l.components._clusterdynamicbase);l.live.register("clusterprofile",f);var p=f;t.default=p},function(e,t,n){"use strict";(function(e){var t=n(2);n(22),n(19),n(9),n(8),n(5),n(18),n(15),n(28),n(26);var i=t(n(21));n(14);var r,a=t(n(0)),o=t(n(3)),s=t(n(1)),l=t(n(4)),u=t(n(11)),c=t(n(52)),d=n(47),f=t(n(156)),p=n(437),h=n(248);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r=function(){var e=window.rb,t=n(7),i=n(438),r=n(182),u=n(139),m=window.zdfsite,g=n(162),y=function(n){function r(n,i){var s;(0,a.default)(this,r),(s=(0,o.default)(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n,i))).isStage=!1,s.hasPlaceholders=!1;var l=s.options.template.split("?"),u=(0,c.default)(l[1]);s.loadType=(0,h.getLoadTypeForConsumerID)(h.LOAD_TYPE_CONSUMER_ID.RECOMMENDATION_CLUSTER);var f=Array.prototype.slice.call(n.parentElement.children);return s.elementIndex=f.indexOf(n),s.queueElement={index:s.elementIndex,element:n},(0,p.addElementToQueue)(s.queueElement,(function(){s.fetchRecommendations()})),(0,p.sortQueue)((function(e,t){return e.index-t.index})),void 0!==u.teaserType&&("group-stage"===u.teaserType&&(s.isStage=!0),"group-cluster-poster"!==u.teaserType&&"cluster-s"!==u.teaserType||(s.hasPlaceholders=!0)),void 0!==u.sourceModuleType&&("group-cluster-poster"!==u.sourceModuleType&&"cluster-s"!==u.sourceModuleType||(s.hasPlaceholders=!0)),s.profileChangeHandler=function(){s.profileChange()},t.ready.then((function(){var n=t.getState();(0,d.hasPersonalizationConsent)()||s.isStage||s.options.automation?(s.isTiviUser=n.isTiviUser(),s.userId=n.getUserId(),t.subscribe("activeSubProfileChanged",s.profileChangeHandler),e.rAFQueue((function(){s.startFetching()})),t.getViewHistory().subscribe("change",(function(){s.startFetching()}))):s.handleClusterError()})),s}return(0,l.default)(r,n),(0,s.default)(r,null,[{key:"defaults",get:function(){return{minLength:3,template:"",automation:!1,showsubtitles:!1,showaudiodescription:!1,sourcevariant:"",teaserType:"default"}}}]),(0,s.default)(r,[{key:"startFetching",value:function(){switch(this.loadType){case f.default.SEQUENTIAL:this.continueFetching();break;case f.default.PARALLEL:this.fetchRecommendations();break;default:this.fetchRecommendations()}}},{key:"continueFetching.ready.then((function(){(0,p.isNextInQueue)(e.queueElement)&&e.fetchRecommendations()}))}},{key:"fetchCompleted",value:function(){switch(this.loadType){case f.default.SEQUENTIAL:e.rAFQueue((function(){(0,p.shiftQueue)()}))}}},{key:"fetchRecommendations",value:function(){var e=this;t.ready.then((function(){var t=void 0,n=!e.options.automation;t=n?u.parse(m.apiService+e.options.template):u.parse(e.options.template);var i=e.prepareUrl(t,n);n?e.fetchRecommendationsByPost(i,{method:"POST"}):e.fetchRecommendationsByGet(i)}))}},{key:"prepareUrl",value:function(e,t){var n=v({teaserType:this.options.teaserType},g.getABDataForRequest());return t&&(n=v({},n,{},g.getUserDataForRequest())),e.expand(n)}},{key:"fetchRecommendationsByPost",value:function(n,i){var r=this,a={},o=n.split("?");a["Api-Auth"]="Bearer "+m.apiToken;var s=t.getState().token;s&&(a.Authorization="Bearer ".concat(s)),a["Content-Type"]="application/x-www-form-urlencoded",i.headers=a,i.body=o[1];var l=o[0],u=o[1].includes("editorialIds")?(0,c.default)(o[1]):"";fetch(l,i).then((function(e){if(404===e.status)return{};if(e.ok)return e.json();throw Error("".concat(e.status," - ").concat(e.statusText," (for url ").concat(l,")"))})).then((function(e){r.isStage?r.generateStage(e):r.generateCluster(e,u),r.fetchCompleted()})).catch((function(t){e.logWarn(t),r.isStage?r.handleStageError():r.handleClusterError(),r.writeReady(),r.fetchCompleted()}))}},{key:"handleStageError",value:function(){this.$element.find(".stage-item.m-placeholder").get().forEach((function(e){e.remove()}));v$element.get(0).closest('[data-module="js-stageitemscroller"]'),r=e.getComponent(i);r.updateCells(),r.createPagination(),i.setAttribute("data-page-length",n),t.forEach((function(e,t){e.setAttribute("data-slide-index",t)}))}},{key:"handleClusterError",value:function(){this.hasPlaceholders?(this.$element.find(".b-cluster-teaser.teaser-placeholder").get().forEach((function(e){e.remove()})),0===this.$element.find(".b-cluster-teaser").length&&this.$element.addClass("hide")):this.$element.addClass("hide")}},{key:"generateCluster",value:function(t,n){var i=this;this.hasPlaceholders||(this.scrollList.innerHTML="");var r=t["http://zdf.de/rels/recommendation/results"];r&&r.length>=this.options.minLength?e.rAFQueue((function(){var e=i.addClusterAttributes(r,t.recoId,t.configuration);i.hasPlaceholders?i.updatePlaceholderTeasers(e,n.editorialIds):(i.updateTitle(t.title),i.writeTeasers(e))}),!0):this.handleClusterError(),this.writeReady()}},{key:"generateStage",value:function(t){var n=this,i=t["http://zdf.de/rels/recommendation/results"];i&&i.length?e.rAFQueue((function(){var e=n.addClusterAttributes(i,t.recoId,t.configuration);n.writeStageTeasers(e)}),!0):(e.log("generateStage: no recommendations to show"),this.handleStageError()),this.writeReady()}},{key:"fetchRecommendationsByGet",value:function(t){var n=this;i.getData(t,"GET",!!this.options.automation).then((function(t){var i=t.title,r=t.items,a=t.configuration;n.sc{n.updateTitle(i),n.writeTeasers(n.addClusterAttributes(r,void 0,a))}),!0):n.$element.addClass("hide"),n.writeReady(),n.fetchCompleted()})).catch((function(){n.$element.addClass("hide"),n.writeReady(),n.fetchCompleted()}))}},{key:"addClusterAttributes",value:function(e,t,n){var i=this;return e.map((function(e){return e.teaserType=i.options.teaserType,t&&(e.recoId=t),e.showSubtitles=i.options.showsubtitles,e.showAudioDescription=i.options.showaudiodescription,e.sourceVariant=i.options.sourcevariant,n&&(e.configuration=n),e}))}},{key:"profileChange",value:function(){var e=t.getState(),n=(0,d.hasPersonalizationConsent)();if(n||!this.isStage)if(n||this.options.automation){if(e.isTiviUser()){this.isTiviUser=!0;var i=e.getUserId();i!==this.userId&&(this.userId=i,this.fetchRecommendations())}}else this.handleClusterError()}},{key:"detached",value:function(){t.unsubscribe("activeSubProfileChanged",this.profileChangeHandler)}},{key:"updateTitle",value:function(e){e&&(this.query(".cluster-title").innerHTML=e)}}]),r}(r);return e.live.register("clusterrecommendation",y),y},"object"===(0,u.default)(e)&&e.exports?e.exports=r():r()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t=n(2),i=t(n(53));n(33),n(56),n(17),n(10),n(9),n(8),n(5);var r,a=t(n(0)),o=t(n(3)),s=t(n(1)),l=t(n(4)),u=t(n(11)),c=t(n(183)),d=t(n(124));r=function(){var e=window.rb,t=e.$,r=n(7),u=function(n){function u(e,t){var n;return(0,a.default)(this,u),(n=(0,o.default)(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e,t))).oldEntries=[],n.entries=[],n.defaultTeaser=[],n.profileChanged=function(){var e=r.getPlaybackHistory().getItems();n.historyChanged({items:e}),n.displayUsername()},n.historyChanged=function(e){var t=e.items;c.default.filterItems(t).then((function(e){n.oldEntries=n.entries,n.entries=e,n.entries.length?(n.needsRender(n.entries,n.oldEntries)?n.renderList(n.entries):n.patchTeaser(),n.element.classList.remove("hide")):n.element.classList.add("hide")}))},window.zdfsite.userReady.then((function(){var e=r.getPlaybackHistory();r.isLoggedIn()?(n.getDefaultIds(),n.displayUsername(),e.subscribe("change",n.historyChanged),e.enablePolling(),n.historyChanged({items:e.getItems()}),r.subscribe("activeSubProfileChanged",n.profileChanged)):n.element.classList.add("hide")})),n}return(0,l.default)(u,n),(0,s.default)(u,null,[{key:"defaults",get:function(){return{minLength:3,defaultTitleText:"Weiterschauen",tiviContext:!1}}}]),(0,s.default)(u,[{key:"displayUsername",value:function(){var n=r.getState().getUserInfo().name,i=this.element.querySelector(".cluster-title"),a=e.escape(n||"");i.innerHTML=this.options.defaultTitlelabel").replace("${name}",n))}},{key:"getDefaultIds",value:function(){this.defaultTeaser=Array.from(this.element.querySelectorAll("[data-teaser-id]")).map((function(e){return{externalId:e.getAttribute("data-teaser-id")}}))}},{key:"needsRender",value:function(e,t){return e.length!==t.length||!(!e.length||!t.length||e[0].externalId===t[0].externalId)}},{key:"patchTeaser",value:function(){var e=this;this.entries.forEach((function(t){var n=t.duration,i=t.currentPosition,r=t.externalId,a=Math.round(100/n*i),o=e.scrollList.querySelector('[data-teaser-id="'.concat(r,'"] .percent-progress'));o&&(o.style.width="".concat(a,"%"))}))}},{key:"generateTeaser",value:function(e,t,n,i){var r={element:i,id:e,style:t,teaserData:n,type:"seamless-viewing-cluster",sourceModuleType:"seamless-viewing-cluster",tiviContext:this.optioy:"renderList",value:function(t){var n=this;this.scrollList.innerHTML="",t.length<4&&(t=[].concat((0,i.default)(t),(0,i.default)(this.defaultTeaser))),e.rAFQueue((function(){n.writeTeasers(t,"externalId"),n.writeReady()}))}},{key:"detached",value:function(){r.unsubscribe("activeSubProfileChanged",this.profileChanged),r.getPlaybackHistory().unsubscribe("change",this.historyChanged)}}]),u}(n(182));return e.live.register("clustersv",u),u},"object"===(0,u.default)(e)&&e.exports?e.exports=r():r()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t,i=n(2),r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(23)),u=i(n(11)),c=i(n(183)),d=n(24);t=function(){var e,t=window.rb,i=window.zdfsite,u=n(7),f=n(115),p=n(182),h=n(139),m=(e=function(e){function n(e,t){var i;return(0,r.default)(this,n),(i=(0,a.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))).$element.addClass("hide"),u.ready.then((function(){i.fetchCluster()})),i}return(0,s.default)(n,e),(0,o.default)(n,null,[{key:"defaults",get:function(){return{minLength:3,template:""}}}]),(0,o.default)(n,[{key:"isItemAvailable",value:function(e){return e["http://zdf.de/rels/target"]&&"http://zdf.de/rels/not-found"!==e["http://zdf.de/rels/target"].profile}},{key:"fetchCluster",value:function(){var e=this,n=h.parse(i.apiService+this.options.template),r=u.getState().profile,a=r.abConfigName,o=r.abGroupName,s=i.appId,l=n.expand({abGroup:o,abName:a,appId:s}),d=new f("contentclusterrecommendation-"+t.getID()),p=this.options.structureNodePath||"";d.getData(l,"POST").then((function(n){var r=[];if(n&&n["http://zdf.de/rels/recommendation/results"]){var a=n.profile,o=(n.configuration,n.abTestName);n["http://zdf.de/rels/recommendation/results"].forEach((function(n){try{var i=n.id,s=n.score,l=n.configuration,u=n.engine,c=n.enginePosition,d=n["http://zdf.de/rels/target"].newsOverline||"";if(i&&!0===e.isItemAvailable(n)){var f=null;"http://zdf.de/rels/broker/recommendation/result"===a&&(f={campaignId:o,creation:l,variant:u,position:c}),r.push({id:i,score:s,structureNodePath:p,configuration:l,engine:u,publishData:f,newsOverline:d})}}catch(e){t.log("error",e)}}))}n&&n["http://zdf.de/rels/search/results"]&&n["http://zdf.de/rels/search/results"].forEach((function(n){try{var i=n.id,a=n.score,o=n["http://zdf.de/rels/target"].newsOverline||"";i&&!0===e.isItemAvailable(n)&&r.push({id:i,score:a,structureNodePath:p,newsOverline:o})}catch(e){t.log("error",e)}})),r.length>=1?(e._unfilteredData=r,c.default.filterItems(r,i.isTiviApp).then((function(n){e._filteredData=n,e._unfilteredData.length>=1?(t.rAFQueue((function(){e.scrollList.innerHTML="",e.writeTeasers(e._unfilteredData),e.filterScrollList()}),!0),e.$element.removeClass("hide")):e.$element.addClass("hide")}))):e.$element.addClass("hide")})).catch((function(){e.writeReady()}))}},{key:"filterScrollList",value:function(){var e=this;this.$element.addClass("hide"),t.rAFQueue((function(){c.default.updateTeaserList(e.element,e._filteredData,e._unfilteredData).length>0&&e.$element.removeClass("hide")}))}},{key:"attached",value:function(){var e=this;u.ready.then((function(){u.unsubscribe("zdfchenEnabled",e.filterScrollList),u.subscribe("zdfchenEnabled",e.filterScrollList)}))}},{key:"detached",value:function(){u.unsubscribe("zdfchenEnabled",this.filterScrollList)}}]),n}(p),(0,l.default)(e.prototype,"filterScrollList",[d.autobind],Object.getOwnPropertyDescriptor(e.prototype,"filterScrollList"),e.prototype),e);return t.live.register("contentclusterrecommendation",m),m},"object"===(0,u.default)(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=(e.$,n(7)),s=function(n){function s(t,n){var a;return i(this,s),a=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,n)),e.rAFs(a,{that:a},"render"),an(){return{}}},{key:"events",get:function(){return{"click:closest(.js-setup-age-verification)":function(){t.startAgeVerification()},"click:closest(.js-get-zdf-account)":function(){location.href="/mein-zdf/registrierung"}}}}]),a(s,[{key:"render",value:function(){var e=this;t.isLoggedIn()&&t.getAgeVerification().then((function(t){!0===t.data.verified?(e.$queryAll(".{name}-verification").addClass("is-verified"),e.$queryAll(".{name}-pin").addClass("is-set")):(e.$queryAll(".{name}-verification").removeClass("is-verified"),e.$queryAll(".{name}-pin").removeClass("is-set"))}))}},{key:"attached",value:function(){t.subscribe("info",this.render,!0)}},{key:"detached",value:function(){t.unsubscribe("info",this.render,!0)}}]),s}(e.Component);return e.live.register("fsk-status",s),s},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);n(22),n(19),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(13),n(17),n(97),n(9),n(8),n(18);var r=i(n(98)),a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23));n(15);var c=i(n(53));n(85);var d=i(n(21));n(36),n(5);var f,p=n(24),h=i(n(121)),m=n(234),v=n(282),g=i(n(75)),y=n(47),b=n(439);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=window.rb,S=k.$,O=function(e,t){return-1*(new Date(e)-new Date(t))},E=n(7),P=n(235),T="empty",x="ready",C="edit",A="confirm-delete",I={selectedItems:{},mode:"loading"},D={notifications:{retrieve:function(){return new Promise((function(e,t){P.getData().then((function(t){E.dispatch("lastNotificationsHintDelete",(0,h.default)()),m.store.dispatch((0,v.resetNotificationsHint)()),e(t.full)}))}))},subscribe:function(e){},delete:function(){return new Promise((function(e,t){E.dispatch("lastNotificationsDelete",(0,h.default)()),e()}))}},bookmarks:{retrieve:function(){return new Promise((function(e,t){var n=E.getState().getUserProfile(),i=n.bookmarks,r=void 0===i?[]:i,a=n.subscriptions,o=void 0===a?[]:a,s=r.map((function(e){return w({},e,{type:"bookmark"})})),l=o.map((function(e){return w({},e,{type:"subscription"})}));e([].concat((0,c.default)(s),(0,c.default)(l)).sort((function(e,t){var n=e.date,i=t.date;return O(n,i)})))}))},subscribe:function(e){E.ready.then((function(){E.subscribe("bookmarks",(function(){var t=E.getState().getUserProfile(),n=t.bookmarks,i=void 0===n?[]:n,r=t.subscriptions,aventDate,i=t.eventDate;return O(n,i)})).map((function(e){return w({},e,{type:"bookmark"})})),s=a.sort((function(e,t){var n=e.eventDate,i=t.eventDate;return O(n,i)})).map((function(e){return w({},e,{type:"subscription"})})),l=[].concat((0,c.default)(s),(0,c.default)(o));e(l)}))}))},delete:function(e){return new Promise((function(t,n){var i=E.getState().getUserProfile(),r=i.bookmarks,a=void 0===r?[]:r,o=i.subscriptions,s=void 0===o?[]:o;e.map((function(e){var t=a.find((function(t){return t.externalId===e})),n=s.find((function(t){return t.externalId===e}));return w({},n||t,{context:n?"subscriptions":"bookmarks"})})).forEach((function(e,t){E.dispatch(e.context()}))}},"(function(e,t){e(E.getPlaybackHistory().getItems())}))},subscribe:function(e){E.getPlaybackHistory().subscribe("change",(function(t){var n=t.items;e(n)}))},delete:function(e){return E.getPlaybackHistory().removeItems(e)}}},j=(f=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).state=w({},I),i.items=[],i.selectedElements={},i.listContent=i.query(".js-content"),i.showMore=k.getComponent(i.query('[data-module="showmore"]')),i.deleteButton=S(i.query('[data-role="confirm-delete"]')),i.deleteSelectionButton=S(i.query('[data-role="delete"]')),i.confirmDialogTitle=S(i.query(".confirm-delete-dialog-title")),E.ready.then((function(e){var t=!e.getState().isLoggedIn,n=-1===["playback-history","bookmarks"].indexOf(i.options.type);if(t&&n)return i.element.setAttribute("data-list-mode","empty"),i.element.parentNode.classList.contains("activate-playback-history")&&S(i.element.parentNode).removeClass("hide"),voery('[data-module="sttent,"domchanged")}));i.adapter=D[i.options.type],i.adapter.retrieve().then((function(e){var n=e,r=e.every((function(e){return"play"===e.eventType}));t&&r&&(n=e.filter((function(e){return(0,b.hasValidViewingProgress)(e)}))),i.setItems(n),i.setState(w({},I,{mode:n.length?x:T}))})),i.adapter.subscribe((function(e){i.setItems(e),i.setState(w({},I,{mode:e.length?x:T}))}))})),i.updateView(),document.addEventListener("keydown",i.tabNavigation),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"events",get:function(){return{"click:closest([data-teaser-id])":"onItemSelect",'click:closest([data-role="delete"])':"deleteSelection",'click:closest([data-role="confirm-delete"])':"confirmDelete",'click:closest([data-role="enable-edit-mode"])':function(){this.options.selectable?this.setState({mode:C}):this.confirmDelete()},'click:closest([data-role="disable-edit-mode"])':function(){this.setState({mode:x,selectedItems:{}});var e=S(this.element).find('button[data-role="disable-edit-mode"]').get(0),t=S(this.element).find('button[data-role="enable-edit-mode"]').gelur()},'click:closest([data-role="select-all"])':"selectAll",'click:closest([data-role="deselect-all"])':"deselectAll"}}}]),(0,s.default)(t,[{key:"setItems",value:function(e){this.items=e,this.render(),this.updateView()}},{key:"onItemSelect",value:function(e){if(this.state.mode===C){var t=e.delegatedTarget.getAttribute("data-teaser-id");e.preventDefault();var n=this.state.selectedItems;if(n[t]){n[t];var i=(0,r.deate({selectedItems:w({},n,(0,d.default)({},t,e.delegatedTarget))})}}},{key:"selectAll",value:function(){-teaser-id]").reduce((function(e,t){ret{}),n=S(this.element).find('button[data-role="deselect-all"]').get(0);this.setState({selectedItems:t},(function(){e.showMore.showAll()})),n.focus()}},{key:"deselectAll",value:function(){this.setState({selectedItems:{}})}},{key:"setState",value:function(e,t){this.state=w({},this.state,{},e),this.updateView(),t&&t(this.state)}},{key:"de=S(this.element).find('button[data-role="enable-edit-mode"]').get(0),n=this.state.selectedItems,i=Object.keys(n);this.adapter.delete(i).then((function(){e.items=e.items.filter((function(e){var t=e.externalId;return!n[t]})),i.forEach((function(t){try{e.query('[data-teaser-id="'.concat(t,'"]')).remove()}catch(e){}}));var t=e.items.length?x:T;e.setState({mode:t,selectedItems:{}})})),t.focus()}},{key:"confirmDelete",value:function(){var e=S(this.element).find('button[data-role="delete"]').get(0);!1===this.options.selectable&&this.selectAll(),this.setState({mode:A}),e.focus()}},{key:"updateView",value:function(){var e=this.state,t=e.selectedItems,n=e.mode;this.element.setAttribute("data-list-mode",n);var i=this.$queryAll("[data-teaser-id]");i.removeClass("selected");var r=Object.values(t);r.forEach((function(e){e.classList.add("selected")}));var a=this.$queryAll("[data-teaser-id].selected"),o=a.length;this.element.setAttribute("data-list-selection",a.length===i.length?"all":"some");var s=o<2?"data-label-single":"data-label-multi",l=this.deleteButton.attr(s).replace("{n}",o),u=this.confirmDialogTitle.attr(s).replace("{n}",o);this.deleteButton.html(l),this.deleteButton.attr("title",l),this.deleteSelectionButton.attr("title",l),this.confirmDialogTitle.html(u),this.deleteButton.toggleClass("hide",0===o);var c=this.element.getAttribute("data-list-mode"),d=S(this.element).find(".teaser-block-grid-container .b-content-teaser-item .teaser-title-link").get(0);"edit"===c&&0===r.length&&d.focus()}},{key:"tabNavigation",value:function(e){if(9===e.keyCode){var t=this.state.selectedItems,n=S(this.element).find('button[data-role="select-all"]').get(0),i=this.element.querySelector('button[data-role="deselect-all"]'),r=this.element.querySelector('button[data-role="confirm-delete"]'),a=this.element.querySelector('button[data-role="disable-edit-mode"]');if(i.classList.contains("m-keyboardfocus")||r.classList.contains("m-keyboardfocus")||a.classList.contains("m-keyboardfocus"))return;if(0===Object.keys(t).length)return;JSON.stringify(this.selectedElements)!==JSON.stringify(t)&&(e.preventDefault(),n.focus(),this.selectedElements=Object.assign({},t))}}},{key:"render",value:function(){var e=this;this.listContent.innerHTML=this.items.reduce((function(e,t){var n={sophoraId:t.externalId,sourceModuleType:"editable-list"};t.newContent?n.manualLabel="Neues Video":t.lastChance&&(n.manualLabel="Letzte Chance");var i="/teaserElement?".concat((0,g.default)(n));return e+'\n                <div class="b-content-teaser-item cell m-placeholder lazyload js-impression-track" data-teaser-id="'.concat(t.externalId,'" data-lazyload-method="merge" data-teaser-xhr-url=\'').concat(i,"' data-teaser-attributes='").concat(JSON.stringify(n),' \'>\n                    <div class="loader"></div>\n                </div>\n           ')}),""),!1===(0,y.hasPersonalizationConsent)()?this.element.parentNode.classList.contains("deactivate-playback-history")&&S(this.element.parentNode).removeClass("hide"):this.element.parentNode.classList.contains("activate-playback-history")&&S(this.element.parentNode).removeClass("hide"),S(this.element).toggleClass("hide",0===this.items.length&&!0===this.options.hideWhenEmpty),k.rIC((function(){k.getComponent(e.query('[data-module="sticky"]')).updateLayout(),k.events.dispatch(e.listContent,"domchanged")}))}}]),t}(k.Component),(0,u.default)(f.prototype,"setItems",[p.autobind],Object.getOwnPropertyDescriptor(f.prototype,"setItems"),f.prototype),(0,u.default)(f.prototype,"onItemSelect",[p.autobind],Object.getOwnPropertyDescriptor(f.prototype,"onItemSelect"),f.prototype),(0,u.default)(f.prototype,"selectAll",[p.autobind],Object.getOwnPropertyDescriptor(f.prototype,"selectAll"),f.prototype),(0,u.default)(f.prototype,"deselectAll",[p.autobind],Object.getOwnPropertyDescriptor(f.prototype,"deselectAll"),f.prototype),(0,u.default)(f.prototype,"deleteSelection",[p.autobind],Object.getOwnPropertyDescriptor(f.prototype,"deleteSelection"),f.prototype),(0,u.default)(f.prototype,"confirmDelete",[p.autobind],Object.getOwnPropertyDescriptor(f.prototype,"confirmDelete"),f.prototype),(0,u.default)(f.prototype,"tabNavigation",[p.autobind],Object.getOwnPropertyDescriptor(f.prototype,"tabNavigation"),f.prototype),f);k.live.register("myzdf-teaser-grid",j);var L=j;t.default=L},function(e,t,n){"use strict";(function(e){var t=n(2);n(15);var i,r=t(n(0)),a=t(n(3)),o=t(n(1)),s=t(n(4)),l=t(n(11));t(n(124));i=function(){var e=window.rb,t=(e.$,n(7)),i=n(121),l=n(235),u=n(124),c=function(n){function c(n,o){var s;return(0,r.default)(this,c),(s=(0,a.default)(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,n,o))).listWrapper=s.query(".js-content"),e.rAFs(s,"render","hideTeaser","removeTeaser"),t.dispatch("lastNotificationsHintDelete",i()),s.fetch(),s}return(0,s.default)(c,n),(0,o.default)(c,null,[{key:"defaults",get:function(){return{label:"Neu im Abo"}}},{key:"events",get:function(){return{clearTeaserList:"clearList"}}}]),(0,o.default)(c,[{key:"fetch",value:function(){var e=this;t.ready.then((function(){l.getData().then((function(t){e.element.classList.add("m-ready"),t.full.length?e.render(t.full):e.initShowmore()}))}))}},{key:"generateTeaser",value:function(e,t){var n={element:this.element,id:e,type:"notification-list",sourceModuleType:"content-teaser-list",label:t};return u.teaserAttributes(n,!1)}},{key:"render",value:function(e){var t=this;this.element.classList.add("m-has-teaser"),e.forEach((function(e){t.listWrapper.appendChild(t.generateTeaser(e.id,e.newContent))})),this.initShowmore()}},{key:"initShowmore",value:function(){var t=this;e.rIC((function(){t.$element.find(".js-content").rbComponent(),e.events.dispatch(t.listWrapper,"domchanged")}))}},{key:"hideTeaser",value:function(e){var t=this;e.classList.add("m-hide-teaser"),setTimeout((function(){t.removeTeaser(e)}),400)}},{key:"removeTeaser",value:function(e){e.remove()}},{key:"clearList",value:function(){var n=this;t.dispatch("lastNotificationsDelete",i()),this.queryAll(".b-content-teaser-item").forEach((function(e){n.hideTeaser(e)})),setTimeout((function(){n.element.classList.remove("m-has-teaser"),e.events.dispatch(n.listWrapper,"domchanged")}),400)}}]),c}(e.Component);return e.live.register("notificationlist",c),c},"object"===(0,l.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t=n(2);n(17),n(10);var i,r=t(n(0)),a=t(n(3)),o=t(n(1)),s=t(n(4)),l=t(n(23)),u=t(n(11)),c=n(24),d=(t(n(75)),n(47)),f=t(n(124));i=function(){var e,t=window.rb,i=(t.$,n(317)),u=n(7),p=(e=function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),u.ready.then((function(){var e=u.getPlaybackHistory();u.isLoggedIn()&&(0,d.hasPersonalizationConsent)()?(i.displayUsername(),e.subscribe("change",(function(e){var t=e.items;i.element.classList.add("m-ready"),i.checkBeforeRender(t,"externalId")})),i.checkBeforeRender(e.getItems(),"externalId"),i.element.classList.remove("hide")):i.element.classList.add("hide")})),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"events",get:function(){return{clearTeaserList:"clearList"}}}]),(0,o.default)(t,[{key:"displayUsername",value:function(){var e=u.getState().getUserInfo().name,t=this.element.querySelector(".title"),n=t.innerHTML;this.defaultTitleText||(this.defaultTitleText=n),t.innerHTML=this.defaultTitleText.replace("${name}",e)}},{key:"generateTeaser",value:function(e){var t={element:this.element,id:e,type:"playback-history-list",sourceModuleType:"seamless-viewing-list"};return f.default.teaserAttributes(t)}},{key:"subProfileChange",value:function(){var e=u.getPlaybackHistory(),t=u.getState();this.isTiviUser=t.isTiviUser(),this.profile=t.getUserProfile(),this.checkBeforeRender(e.getItems(),"externalId"),this.displayUsername()}},{key:"clearList",value:function(e){u.getPlaybackHistory().removeAll()}},{key:"installProfileListener",value:function(){var e=this;u.ready.then((function(){e.deinstallProfileListener(),u.subscribe("activeSubProfileChanged",e.subProfileChange)}))}},{key:"deinstallProfileListener",value:function(){u.unsubscribe("activeSubProfileChanged",this.subProfileChange)}}]),t}(i),(0,l.default)(e.prototype,"subProfileChange",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"subProfileChange"),e.prototype),e);return t.live.register("playback-history-list",p),p},"object"===(0,u.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";n(10);var i=n(0),r=n(1),a=n(3),o=n(4);!function(){var t=n(7),s=window.rb,l=function(e){function n(e,r){var o;return i(this,n),o=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,r)),t.ready.then((function(){var e=t.getState();e.isLoggedIn&&(o.element.textContent=s.escape(e.info.name))})),o}return o(n,e),r(n,[{key:"attached",value:function(){}},{key:"detached",value:function(){}}]),n}(s.Component);s.live.register("usernamelabel",l),e.exports=l}()},function(e,t,n){"use strict";(function(e){var t,i=n(2),r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=i(n(11)),d=n(24),f=i(n(124));t=function(){var e,t=window.rb,i=(t.$,n(317)),c=efault)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),c.ready.then((function(){var e=c.getViewHistory();e.subscribe("change",(function(e){var t=e.items;i.renderList(t,"externalId")})),i.renderList(e.getItems(),"externalId")})),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{sourceModuleType:"content-teaser-list"}}},{key:"events",get:function(){return{clearTeaserList:"clearList"}}}]),(0,s.default)(t,[{key:"generateTeaser",value:function(e){var t={element:this.element,id:e,type:"view-history-list",sourceModuleType:this.options.sourceModuleType,structureNodePath:this.options.structureNodePath};return f.default.teaserAttributes(t)}},{key:"renderList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];c.getState().isLoggedIn&&(this.element.classList.add("m-ready"),(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype&&this.element.classList.remove("hide"))}},{key:"subProfileChange",value:alue:function(e){c.getViewHistory().removeAll()}},{key:"installProfileListener",value:function(){var e=this;c.ready.then((function(){e.deinstallProfileListener(),c.subscribe("activeSubProfileChanged",e.subProfileChange)}))}},{key:"deinstallProfileListener",value:function(){c.unsubscribe("activeSubProfileChanged",this.subProfileChange)}}]),t}(i),(0,u.default)(e.prototype,"subProfileChange",[d.autobind],Object.getOwnPropertyDescriptor(e.prototype,"subProfileChange"),e.prototype),e);return t.live.register("view-history-list",p),p},"object"===(0,c.default)(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(21));n(9),n(8),n(5),n(14),n(17),n(10);var a,o=i(n(0)),s=i(n(1)),l=i(n(3)),u=i(n(4)),c=i(n(23)),d=n(24),f=i(n(139));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var h=window.rb,m=h.$,v=n(7),g=n(182),y=n(162),b=function(e){return 1===e?"data-label-single":"data-label-multi"},_=window.zdfsite,w=(a=function(e){function t(e,n){var i;return(0,o.default)(this,t),(i=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).avatar=i.query(".my-program-avatar").cloneNode(!0),i.infoPanel=i.query('[data-module="my-program-info-panel"]'),i.playbackHistoryLink=i.query('[data-id="playback-history"]',i.avatar),i.bookmarksLink=i.query('[data-id="bookmarks"]',i.avatar),i.subscriptionsLink=i.query('[data-id="subscriptions"]',i.avatar),i.greeting=i.query('[data-id="greeting"]',i.avatar),i.hiddenContent=i.query(".lazyload-content"),i.load(),i}return(0,u.default)(t,e),(0,s.default)(t,[{key:"load",value:function(){var e=this;v.ready.then((function(t){t.isLoggedIn()&&(e.updateAvatar(),v.getPlaybackHistory().subscribe("change",e.playbackHistoryChanged),e.fetchCluster())})),this.scrollbox=h.getComponent(this.query('[data-module="js-scrollbox"]')),this.scror",value:function(){this.clearScrollList(),this.updateAvatar()}},{key:"clearScrollList",value:function(){var e=this;Array.prototype.slice.call(this.scrollList.childNodes).forEach((function(t){t!==e.infoPanel&&t.remove()}))}},{key:"playbackHistoryChanged",value:function(e){var t=this;e.items.forEach((function(e){var n=e.duration,i=e.currentPosition,r=e.externalId,a=Math.round(100/n*i),o=t.query('[data-teaser-id="'.concat(r,'"] .percent-progress'));o&&!isNaN(a)&&(o.style.width="".concat(a,"%"))}))}},{key:"updateAvatar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_.user.getState().getUserInfo(),n=t.name,i=void 0===n?"":n,r=e.playbacks,a=void 0===r?0:r,o=e.bookmarks,s=void 0===o?0:o,l=e.subscriptions,u=void 0===l?0:l,c=h.escape(i||"");this.playbackHistoryLink.innerHTML=this.playbackHistoryLink.getAttribute(b(a)).replace("${n}",a||0),this.bookmarksLink.innerHTML=this.bookmarksLink.getAttribute(b(s)).replace("${n}",s||0),this.subscriptionsLink.innerHTML=this.subscriptionsLink.getAttribute(b(u)).replace("${n}",u||0),0===v.getState().info.name.length?this.greeting.innerHTML=this.greeting.getAttribute("data-text").replace(", ${username}",""):this.greeting.innerHTML=this.greetingd(this.scrollList.qscrollList).prepend(this.avatar.cloneNode(!0))}},{key:"show",value:function(){this.hiddenContent.classList.remove("hide"),this.scrollbox.setState()}},{key:"hide",value:function(){this.hiddenContent.classList.add("hide")}},{key:"fetchCluster",value:function(){var e=this;v.ready.then((function(){var t=v.getState().token,n=_.apiService,i=_.apiToken,a=f.default.parse(n+e.options.url),o={"Api-Auth":"Bearer ".concat(i),Authorization:"Bearer ".concat(t)},s={headers:o},l=y.getCompleteRequestData();o["Content-Type"]="application/x-www-form-urlencoded",s.method="POST";var u=a.expand(l);s.body=u.split("?")[1],u=u.split("?")[0],fetch(u,s).then((function(e){if(404===e.status)return{};if(401===e.status){var t=h.getComponent(document.getElementById("aria-logout-logout-device-dialog"));_.user.dispatch("silentLogout"),t.isOpen||t.open()}if(e.ok)return e.json();throw Error("".concat(e.status," - ").concat(e.statusText," (for url ").concat(u,")"))})).then((function(t){h.log("RECEIVED CLUSTER",t);var n=t.entries,i=void 0===n?[]:n,a=t.summary,o=void 0===a?{}:a,s=i.map((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{sourceModuleType:"play"===e.eventType?"seamless-viewing-cluster":"clusterxt="Weiterschauen"),t}));h.log("ENTRIES",s),s.length&&(e.clearScrollList(),e.writeTeasers(s,"externalId"),e.scrollbox.enableScroll()),e.updateAvatar(o),e.show()})).catch((function(t){h.logWarn(t),e.hide(),e.writeReady()}))}))}}]),t}(g),(0,c.default)(a.prototype,"clearCluster",[d.autobind],Object.getOwnPropertyDescriptor(a.prototype,"clearCluster"),a.prototype),(0,c.default)(a.prototype,"playbackHistoryChanged",[d.autobind],Object.getOwnPropertyDescriptor(a.prototype,"playbackHistoryChanged"),a.prototype),a);h.live.register("my-program-cluster",w);var k=w;t.default=k},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=i(n(161)),d=n(234),f=n(375),p=n(24),h=(r=function(e){function t(e,n){return(0,a.default)(this,t),(0,o.default)(this,(t._n(0,l.default)(t,e),(0,s.default)(t,null,[{key:"events",get:function(){return{"click:closest(.js-close)":"closeHandler"}}}]),(0,s.default)(t,[{key:"attached",valukey:"update",value:function(){var e=d.store.getState().user.myProgramIntroComplete;e&&this.isOpen&&this.close(),!1===e&&this.open()}},{key:"closeHandler",value:function(){d.store.dispatch((0,f.completeMyProgramIntro)())}}]),t}(c.default),(0,u.default)(r.prototype,"update",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"update"),r.prototype),(0,u.default)(r.prototype,"closeHandler",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"closeHandler"),r.prototype),r);rb.live.register("my-program-info-panel",h);var m=h;t.default=m},function(e,t,n){"use strict";n(15);var i=n(0),r=n(3),a=n(1),o=n(4);!function(){var t=window.rb,n=t.$,s=function(e){function s(e,a){var o;return i(this,s),(o=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,a))).$btns=n(o.queryAll(".{name}-btn")),o.$filterBtns=n(o.queryAll(".{name}-filter-btn")),o.elements=o.queryAll(".{name}-item"),t.rAFs(o,{that:o},"showElements","hideElekey:"defaults",get:function(){return{filterType:"ticker"}}},{key:"events",get:function(){return{"click:closest(.{name}-filter-btn)":function(e){var t=e.delegatedTarget.getAttribute("data-filter");t&&this.toggleFilter(t)},"click:closest(.{name}-panel-close)":function(e){this.queryAll(".{name}-panel-wrapper.m-open").forEach((function(e,n){t.getComponent(e).close()}))}}}}]),a(s,[{key:"toggleFilter",value:function(e){if(this.activeFilter!==e){var t=this.$element.find("[data-"+this.options.filterType+"]:not(.m-hidden):not([data-"+this.options.filterType+'="'+e+'"])'),n=this.$element.find("[data-"+this.options.filterType+'="'+e+'"].m-hidden');this.activeFilter=e,this.showElements(n),this.hideElements(t)}this.triggerSubComponents(),this.updateBtns()}},{key:"triggerSubComponents",value:function(){this.updateShowMore()}},{key:"updateShowMore",value:function(){var e=this.query('[data-module="showmore"]');e&&t.events.dispatch(e,"elementsfiltered")}},{key:"updateBtns",value:function(){var e=n(this.$filterBtns.get().concat(this.$btns.get()));e.removeClass("m-active").attr({"aria-pressed":"false"}),this.$element.toggleClass("m-filtered",!!this.activeFilter),this.activeFilter&&e.filter('[data-filter="'+this.activeFilter+'"]').toggleClass("m-active").attr({"aria-pressed":"true"})}},{key:"showElements",value:function(e){e.css({display:""}).removeClass("m-hidden")}},{key:"hideElements",value:function(e){e.addClass("m-hidden").css({display:"none"})}}]),s}(t.Component);t.live.register("newsticker-accordion",s),e.exports.NewsTicker=s}()},function(e,t,n){"use strict";n(15);var i=n(0),r=n(3),a=n(1),o=n(4);!function(){var t=window.rb,n=t.$,s=function(e){function s(e,a){var o;i(this,s),(o=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,a))).$btns=n(o.queryAll(".{name}-btn")),o.$filterBtns=n(o.queryAll(".{name}-filter-btn"));var l=o.getElementsFromString(o.options.scroller)[0];return o.scroller=l&&o.component(l),t.rAFs(o,{that:o},"showElements","hideElements","updateBtns","triggerSubComponents","showFirstVisiblePanel"),o.activeFilter="",o}return o(s,e),a(s,null,[{key:"defaults",get:function(){return{selectedIndex:-1,filterType:"ticker",toggle:!0,scroller:"find(.newsticker-scroller)"}}},{key:"events",get:function(){return{"{name}changed":function(){var e=this;this.stopVideos(),this.queryAll(".js-scroller-cell").forEach((function(t,n){t.classList[e.selectedIndexes[0]==n?"add":"remove"]("m-selected")}))},"click:closest(.{naeos();var t=e.delegatedTarget.getAttribute("data-filter");t&&this.toggleFilter(t)},"js-scrollerchanged":function(){this.stopVideos(),this.queryAll(".{name}-panel.m-open").forEach((function(e,n){t.getComponent(e).close()}))}}}}]),a(s,[{key:"stopVideos",value:function(){this.queryAll(".zdfplayer-playing").forEach((function(e){t.getComponent(n(e).parents('[data-module="zdfplayer"]').get(0)).pause()}))}},{key:"toggleFilter",value:function(e){if(this.activeFilter!==e){var t=this.$element.find("[data-"+this.options.filterType+"]:not(.m-hidden):not([data-"+this.options.filterType+'="'+e+'"])'),n=this.$element.find("[data-"+this.options.filterType+'="'+e+'"].m-hidden');this.activeFilter=e,this.showElements(n),this.hideElements(t)}this.triggerSubComponents(),this.updateBtns(),this.showFirstVisiblePanel()}},{key:"triggerSubComponents",value:function(){this.updateCluster(),this.updateScroller()}},{key:"updateScroller",value:function(){this.scroller.updateCells(),this.scroller.selectIndex(0,!0)}},{key:"updateCluster",value:function(){var e=this.query(".cluster-showmore");e&&t.events.dispatch(e,"elementsfiltered")}},{key:"showFirstVisiblePanel",value:function(){if(this.selectedIndexes.length&&this.activeFilter){var e=this.$element.find("[data-"+this.options.filterType+"]:not(.m-hidden)"),t=n(this.query(".{name}-btn",e.first().get(0))).rbComponent();t&&t.panelComponent&&t.panelComponent.open()}}},{key:"updateBtns",value:function(){var e=n(this.$filterBtns.get().concat(this.$btns.get()));e.removeClass("m-active").attr({"aria-pressed":"false"}),this.$element.toggleClass("m-filtered",!!this.activeFilter),this.activeFilgleClass("m-active").attr({"aria-pressed":"true"})}},{key:"showElements",value:function(e){e.css({display:""}).removeClass("m-hidden")}},{key:"hideElements",value:function(e){e.addClass("m-hidden").css({display:"none"})}}]),s}(t.components.tabs);t.live.register("newsticker-slider",s),e.exports.NewsTicker=s}()},function(e,t,n){"use strict";(function(e){n(15);var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=n(7),t=window.rb,s=(t.$,function(n){function s(n,a){var o;return i(this,s),o=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,n,a)),t.rAFQueue((function(){o.$element.find('[name="redirect_url"]').prop({value:o.options.next})})),o.moveToNext(),e.ready.then((function(){o.moveToNext()})),o}return o(s,n),a(s,null,[{key:"defaults",get:function(){return{next:""}}}]),a(s,[{key:"moveToNext",value:function(){var t=e.getState().token;t&&this.options.next&&!/[?&\/]error/.test(location.href)&&(location.href=this.options.next+t)}}]),s}(t.Component));return t.live.register("oauthlogin",s),s},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(35)),l=i(n(4)),u=i(n(141)),c=window.rb,d=c.$,f=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).saveInnerGroup(),i.focusOutHandler=i.focusOutHandler.bind(i),c.rAFs(i,{throttle:!0},"movePanel","updateOffcanvasComponent","setupCatcher"),i.setupCatcher(),i}return(0,l.default)(t,e),(0,a.default)(t,[{key:"saveInnerGroup",value:function(){var e=void 0;!this.innerGroup&&(e=this.getElementsFromString(this.options.innerGroup)[0])&&(this.innerGbuttons.get(0)],e.target)&&this.closfocusOutHandler,!0)}},{key:"installFocusOutEvents",value:function(){this.teardownFocusOutEvents(),document.addEventListener("mousedown",this.focusOutHandler,!0),document.addEventListener("focus",this.focusOutHandler,!0)}},{key:"setupCatcher",value:function(){var e=this,t=document.createElement("div");t.className=this.interpolateName("{name}-backdrop"),document.body.appendChild(t),t.addEventListener("click",(function(){e.closeAll()}))}},{key:"movePanel",value:function(){var e=this.$panels.get(0);this.saveInnerGroup(),this.options.switchedOff?this.element.appendChild(e):d("#skiplinks").after(e)}},{key:"updateOffcanvasComponent",value:function(){var e=!this.options.switchedOff&&this.selectedIndexes.length?"add":"remove";c.root.classList[e](this.interpolateName("m-{name}-within")),/IEMobile/i.test(navigator.userAgent)&&document.querySelector(".b-header").classList.toggle("ie-mobile-support"),"remove"==e&&this.innerGroup&&this.innerGroup.closeAll()}},{key:"_switchOn",value:function(){var e=this;(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_switchOn",this).call(this),this.movePanel._rbUnrafedFn?this.movePanel():c.rAFQueue((function(){e.movePanel()}))}},{key:"_switchOff",_proto__||Object.getPrototypeOf(t.prototype),"_switchOff",this).call(this),this.movePanel._rbUnrafedFn?(this.movePanel(),this.updateOfrn{innerGroup:"find(.js-dropdown)"}}},{key:"events",get:function(){return{"{name}changed":function(){this.updateOffcanvasComponent(),this.selectedIndexes.length?this.installFocusOutEvents():this.teardownFocusOutEvents()},"dynamicpagechanged:@(window)":function(){this.closeAll()}}}}]),t}(u.default);c.live.register("js-offcanvas",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=window.rb,u=l.$,c=funthis,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,null,[{key:"events",get:function(){return{click:function(e){u("#aria-onboarding-dialog").rbComponent().close()}}}}]),t}(l.Component);l.live.register("on-boarding-close-dialog",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28),n(26);var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4));n(10);var u=i(n(161)),c=n(48),d=rb.$,f=c.STORAGE_KEYS.CAMPAIGNS_KEY.name,p=function(e){function t(e,n){var i;(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));try{var o=rb.storage.local.get(f)||[],s=i.options.campaign;o.includes(s)||i.open()}catch(e){}return i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"events",get:function(){return{"click:closest(.js-close)":function(e){this.close()},"click:closest(.js-start-campaign)":function(e){var t=e.delegatedTarget.getAttribute("data-target");d("#".concat(t)).rbComponent().open(),this.close()}}}}]),(0,s.default)(t,[{key:"close",value:function(){(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this);try{var e=JSON.parse(rb.storage.local.get(f))||[],n=this.options.campaign;e.includes(n)||(e.push(n),rb.storage.local.set(f,JSON.stringify(e)))}catch(e){console.error(e)}}}]),t}(u.default);rb.live.register("on-boarding-panel",p);var h=p;t.default=h},function(e,t,n){"use strict";var i=n(7);document.addEventListener("change",(function(e){e.target.matches("[data-deactivate-parent-child-switch-alert]")&&i.dispatch("deactivateParentChildSwitchAlert",e.target.checked)}))},function(e,t,n){"use strict";(function(e){var t,i=n(2),r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(11)),u=i(n(312));t=function(){var e=window.rb,t=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).pinChanger=new u.default(i),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"eve,"click:closest(.ard-btn)":"verbtn-submit":"submit"}}}]),(0,o.default)(t,[{key:"submit",value:function(e){e.preventDefault(),this.pinChanger.verifyPinWithZdf()}},{key:"verifyPinWithArd",value:function(){this.pinChanger.verifyPinWithArd(location.href)}}]),t}(e.Component);return e.live.register("passport-pin",t),t},"object"===(0,l.default)(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(10);var r=i(n(21)),a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=n(48);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var d=window.rb,eOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"attached",value:function(){this.images=this.queryAll(".photo-matrix-item"),this.columns=this.queryAll(".photo-matrix-col"),this.distribute()}},{key:"setOptions",value:function(e){this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}returte()}},{key:"distribute",value:function(){var e=this,t=this.options.columns;this.images&&this.images.forEach((function(n,i){e.columns[i%t].appendChild(n)}))}}],[{key:"defaults",get:function(){return{options:{columns:3}}}},{key:"events",get:function(){return{"click:.photo-matrix-link":function(){f.set(u.STORAGE_KEYS.PHOTO_MATRIX_ORIGIN.name,!0)}}}}]),t}(d.Component);d.live.register("photo-matrix",p);var h=p;t.default=h},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=n(318),u=function(e){function t(){return(0,r.default)(tbject.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"attached",value:function(){if(!0===l()){var e=this.queryAll("source");e&&e.forEach((function(e){e.parentNode.removeChild(e)}))}}}]),t}(rb.Component);rb.live.register("js-picture",u);var c=u;t.default=c},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(440)),u=window.rb,c=(u.$,function(e){function t(e,n){var ieOf(t)).call(this,e,n))).tooltipAutoClose=i.tooltipAutoClose.bind(i),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{my:"right bottom",at:"left top",setDisplay:!0,displayTimer:600}}},{key:"events",get:function(){return{"{name}changed":function(){clearTimeout(this.autocloseTimer),document.removeEventListener("mousedown",this.tooltipAutoClose,!0),document.removeEventListener("focus",this.tooltipAutoClose,!0),this.isOpen&&(document.addEventListener("mousedown",this.tooltipAutoClose,!0),document.addEventListener("focus",this.tooltipAutoClose,!0),this.autocloseTimer=setTimeout(this.tooltipAutoClose,1800))}}}}]),(0,o.default)(t,[{key:"tooltipAutoClose",value:function(){this.close()}}]),t}(l.default));u.live.register("plusbuttontooltips",c);var d=c;t.default=d},function(e,t,n){"use strict";var i,r,a;n(319),n(14),n(13),r=[t,n(40),n(160)],void 0===(a="function"==typeof(i=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(t),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=i.default.$,s=function e(t,n){return t[e.expando]?(this.log("is already positioned"),t[e.expando]):this instanceof e?(this.element=t,this.$element=o(t),this.elemCstyle=i.default.getStyles(this.element),this.position=i.default.rAF(this._position,{that:this}),this.options={},this.pos={top:0,left:0},this.flipped={x:"",y:""},this.flippedXClass="is"+i.default.nameSeparator+"flipped"+i.default.nameSeparator+"x",this.flippedYClass="is"+i.default.nameSeparator+"flipped"+i.default.nameSeparator+"y",this.setOptions(n),this.position(this.element,{left:"-999px",position:"absolute",bottom:"auto",right:"auto"}),void(t[e.expando]=this)):new e(t,n)};Object.assign(s,{regWhite:/\s+/g,expando:i.default.Symbol("_rbPosition"),labels:{top:"0",left:"0",center:"50",middle:"50",right:"100",bottom:"100"},isHorizontal:{left:1,right:1},margins:["marginTop","marginLeft","marginBottom","marginRight"],posType:{top:{dim:"height",rootDim:"clientHeight",margins:["marginTop","marginBottom"],axisIndex:1,axis:"y"},left:{dim:"width",rootDim:"clientWidth",margins:["marginLeft","marginRight"],axisIndex:0,axis:"x"}}}),Object.assign(s.prototype,{_position:function(e,t){var n=void 0,i=void 0,r=e.style;for(n in t)"number"==typeof(i=t[n])&&(i+="px"),r[n]=i;this.element.classList[this.flipped.x?"add":"remove"](this.flippedXClass),this.element.classList[this.flipped.y?"add":"remove"](this.flippedYClass)},parsePosOption:function(e,t){var n=void 0;for((e=e.split(s.regWhite))[1]||(e[1]=e[0]),s.isHorizontal[e[1]]&&this.log('use horizontal position values before vertical ones: "left top", instead of "top left"'),n=0;n<2;n++)e[n]in s.labels&&(e[n]=s.labels[e[n]]),t&&(e[n]=parseFloat(e[n])||0);return e},setOptions:function(e){var t=this.options,n=t.my,i=t.at,r=t.collision;return this.options=Object.assign({my:"0 0",at:"0 100",collision:"flip",anchor:null,using:this.position},this.options,e),n!==this.options.my&&(this.my=this.parsePosOption(this.options.my,1)),i!==this.options.at&&(this.at=this.parsePosOption(this.options.at,1)),r!==this.options.collision&&(this.collision=this.parsePosOption(this.options.collision)),this},getBoxLayout:function(e,t,n){var a=void 0,o=void 0,l=e.getBoundingClientRect();if(l={top:l.top,left:l.left,height:l.height,width:l.width},n)for(o=i.default.getStyles(e),a=0;a<4;a++)l[s.margins[a]]=(0,r.default)(e,s.margins[a],!0,o);return l},addOffset:function(e,t,n,i){var r=void 0,a=s.posType[e],o=t[e]+t[a.dim]*(n[a.axisIndex]/100);return i&&(n[a.axisIndex]<25||n[a.axisIndex]>75)&&(1==(r=n[a.axisIndex]<50?0:1)?o+=t[a.margins[r]]:o-=t[a.margins[r]]),o},calculatePosition:function(e,t,n,r,a,o){var l=void 0,u=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h=s.posType[e],m=this.addOffset(e,t,r)-this.addOffset(e,n,a,!0)+this.pos[e];return"flip"==this.collision[h.axisIndex]&&(l=i.default.root[h.rootDim],c=(u=n[e]+(m-this.pos[e]))<0,d=u+n[h.dim]>l,(c||d)&&(this.flipped[h.axis]=!0,null!=o?(this.flipped[h.axis]=!1,m=o):(c&&a[h.axisIndex]>50&&r[h.axisIndex]<=50||d&&a[h.axisIndex]<50&&r[h.axisIndex]>=50)&&(p={},(f={})[h.axisIndex]=Math.abs(r[h.axisIndex]-100),p[h.axisIndex]=Math.abs(a[h.axisIndex]-100),m=this.calculatePosition(e,t,n,f,p,m)))),m},connect:function(e,t){var n,i,a,o=this.options;return this.pos.top=(0,r.default)(this.element,"top",1,this.elemCstyle),this.pos.left=(0,r.default)(this.element,"left",1,this.elemCstyle),this.flipped.x=!1,this.flipped.y=!1,"number"!=typeof this.pos.top&&(this.pos.top=0,this.element.style.top="0px"),"number"!=typeof this.pos.left&&(this.pos.left=0,this.element.style.left="0px"),i=this.getBoxLayout(e||o.anchor,this.at),a=this.getBoxLayout(this.element,this.my,!0),n={top:this.calculatePosition("top",i,a,this.at,this.my),left:this.calculatePosition("left",i,a,this.at,this.my)},this.pos.top=n.top,this.pos.left=n.left,t&&this.options.using._rbUnrafedFn?this.options.using._rbUnrafedFn.call(this,this.element,this.pos):this.options.using.call(this,this.element,this.pos,this.flipped),this}}),i.default.Position=s,e.default=s})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14);var r=i(n(21));n(17);var a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(141)),c=n(122);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=n(7),h=n(772),m=n(773),v=rb.$,g=window.zdfsite,y=/\..{3,6}$/,b=function(e){return"bookmarks"===e?"externalId":"id"},_=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).generateBaseData(),i.generateActions(),i.initEmbedFeature(),i.setOption("isHeuteApp",g.isHeuteApp),i.setOption("isTiviAppSharingEnabled",!!g.tiviAppVersion&&g.tiviAppVersion.minor>70),i.trackingData=rb.jsonParse(i.element.getAttribute("data-tracking"))||null,i.trackDataTe21=rb.jsonParse(i.element.getAttribute("data-track-te21"))||null,i.element.classList.contains("js-rb-click")&&i.render(),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{toggle:!0,multiple:!0,selectedIndex:-1,closeOnFocusout:!0,setFocus:!g.isTiviApp,isSubscription:!1,isLikable:!1,isEmbeddable:!1,title:"",twitterTitle:"",id:"",externalId:"",url:"",endDate:"",extendDirection:"up",shareOnFacebook:"",shareOnTwitter:"",shareOnPinterest:"",shareOnWhatsapp:"",isHeuteApp:!1,isTiviAppSharingEnabled:!1,translations:{subscribe:g.plusButton.translations.subscribe,endSubscription:g.plusButton.translations.endSubscription,addFavorite:g.plusButton.translations.addFavorite,removeFavorite:g.plusButton.translations.removeFavorite,share:g.plusButton.translations.share,mailSubject:g.plusButton.translations.mailSubject,recommend:g.plusButton.translations.recommend,embed:g.plusButton.translations.embed}}}},{key:"events",get:function(){return{"{name}arget;this.component(n).isOpen&&this.queryAll(".{name}-panel",n).filter((function(e){var n=t.component(e),i=n.isOpen;return n.close(),i})).length&&(e.preventDefault(),setTimeout((function(){t.component(e.target).close()}),160))},"click:closest([data-add-tooltip].plus-child-btn)":function(e){var t=e.delegatedTarget,n=t.classList.contains("m-checked")?"data-remove-tooltip":"data-add-tooltip",i=t.getAttribute(n);this.showToolTip(i,t)},"click .js-mail-button":function(e){var t=e.delegatedTarget;this.trackClick(t,"E-Mail")},"click .plus-main-btn.js-plus-btn":function(e){var t=this,n=this.component(e.delegatedTarget),i=e.delegatedTarget;setTimeout((function(){t.trackClick(i,n.panelComponent.isOpen?"Öffnen":"Schließen")}),160)},"click .plus-child-btn.js-plus-btn":function(e){var t=this.component(e.delegatedTarget),n=e.delegatedTarget;this.trackClick(n,"Teilen",t.panelComponent.isOpen?"Teilen_öffnen":"Teilen_schließen")},"click:closest([data-action])":function(e){var t=e.delegatedTarget.getAttribute("data-action"),n=e.delegatedTarget.getAttribute("data-action-detail")||"";this[t]&&this[t](e,n)}}}}]),(0,s.default)(t,[{key:"trackClick",value:function(e,t,n){if(this.trackingData&&this.trackingData.atInternet){var i=JSON.parse(JSON.stringify(this.trackingData.atInternet.event||{}));if(i.elem=e,i.type="navigation",i.chapter2="Plusbutton",i.chapter3=n?t+":"+n:t,g.trackingHelper.trackPlusButtonClick(i),this.trackDataTe21){var r=g.trackingHelper.fillPlaceholders(this.trackDataTe21.actionDetailTe21,e),a="Schließen"===t?"plus_schliessen":"E-Mail"===t?"plus_mail":"Merken_beendet"===n||"Abonnieren_beendet"===n?"plus_entmerken":"gemerkt"===n||"abonniert"===n?"plus_merken":"Teilen_öffnen"===n?"plus_teilen_auf":"Teilen_schließen"===n?"plus_teilen_zu":"Facebook"===n?"plus_teilen_fb":"Twitter"===n?"plus_teilen_tw":"Pinterest"===n?"plus_teilen_pin":"WhatsApp"===n?"plus_teilen_wa":"plus_öffnen";r=r.replace("plus_öffnen",a),i.type="action",i.chapter2=this.trackDataTe21.elementTe21||"",i.chapter1=g.tracking.atInternet.page.chapter1||"",i.chapter3=r,g.trackingHelper.trackPlusButtonClick(i)}}}},{key:"updateBaseData",value:function(e){this.baseData=f({},this.baseData,{},e),this.options.escapedTitle=encodeURIComponent(this.baseData.title||""),this.options.unescapedTitle=this.baseData.title||"",this.options.escapedTwitterTitle=encodeURIComponent(this.baseData.twitterTitle||""),this.options.encodedUrl=encodeURIComponent(this.baseData.url||""),this.options.whatsAppMessage=encodeURIComponent("".concat(this.baseData.title,"\n").concat(this.baseData.url)),this.render()}},{key:"generateBaseData",value:function(){var e=this.options;if(e.path&&y.test(e.path)){e.path=e.path.split("/");var t=e.path.pop();e.path=e.path.join("/"),e.isSubscription&&this.logWarn("removed file suffix",t)}this.baseData={id:this.options.id,externalId:this.options.externalId,title:this.options.title,twitterTitle:this.options.twitterTitle,url:this.options.url,path:this.options.path,endDate:this.options.endDate},this.options.unescapedTitle=this.baseData.title||"",this.options.escapedTitle=encodeURIComponent(this.options.title||""),this.options.escapedTwitterTitle=encodeURIComponent(this.options.twitterTitle||""),this.options.encodedUrl=encodeURIComponent(this.options.url||""),this.options.whatsAppMessage=encodeURIComponent("".concat(this.options.title,"\n").concat(this.options.url))}},{key:"generateActions",value:function(){var e=this;this.actions.forEach((function(t){e[t]=function(n,i){var r=n.delegatedTarget,a=r.classList.contains("m-checked");"bookmarks"===t&&e.trackClick(r,"Merken",a?"Merken_beendet":"gemerkt"),"subscriptions"===t&&e.trackClick(r,"Abonnieren",a?"Abonnieren_beendet":"abonniert"),p.dispatch(t,{value:e.baseData,action:"toggle",checked:!a,clientCoordinates:{clientX:n.clientX,clientY:n.clientY}})},e[t+"Change"]=function(n){e.changeState(t,n)}}))}},{key:"addAppClasses",value:function(){var e=this.query('[data-action="bookmarks"]')||this.query('[data-action="subscriptions"]');e&&(g.isTiviApp||g.isHeuteApp)&&e.classList.add("in-app")}},{key:"initEmbedFeature",value:function(){if(this.options.isEmbeddable){var e=document.querySelector("[data-embed-id='"+this.options.embedId+"']");e&&(this.player=v(e).rbComponent()),this.player||(rb.logInfo("PlusButton: supposed to show embed button, but cannot find matching player - embedId: "+this.options.embedId),rb.logInfo("hiding embed button for "+this.options.id),this.options.isEmbeddable=!1)}}},{key:"share",value:function(e,t){var n=e.delegatedTarget,i=n.href;if(e.preventDefault(),this.trackClick(n,"Teilen",t),this.options.isHeuteApp)p.dispatch("sharing_open",{value:this.baseData,action:t}),n.setAttribute("data-action-detail","open"===t?"close":"open");else if(this.options.isTiviAppSharingEnabled){var r=f({},this.baseData,{subject:"".concat(this.options.translations.mailSubject,": ").concat(this.options.escapedTitle),unescapedSubject:"".concat(this.options.translations.mailSubject,": ").concat(this.options.unescapedTitle),body:"".concat(this.options.encodedUrl).concat(encodeURIComponent("#xtor=CS5-95"))});(0,c.sendMessageToTiviApp)("shareItem",r)}else i&&window.open(i,"_blank","width=580,height=500"),p.dispatch("track",{asset:this.options.externalId,eventType:"share"})}},{key:"embed",value:function(e){var t=this;if(this.player){this.trackClick(e.delegatedTarget,"Einbetten");var n=document.scrollingElement.scrollTop,i=zdfplayer.on("Portal::COPY_EMBED_CODE",{embedId:this.options.embedId},(function(e){document.scrollingElement.scrollTop=n;var r=t.query('[data-action="embed"]'),a=r.getAttribute("data-copied-tooltip");t.showToolTip(a,r),i()}));this.player.fireCommand("Player::SEND_EMBED_CODE",{embedId:this.options.embedId})}else rb.logError("PlusButton: embed button clicked without matching player!")}},{key:"changeState",value:function(e,t){var n=t.action,i=this.query('[data-action="'.concat(e,'"]')),r="add"===n||"update"===n,a=i.getAttribute(r?"data-remove-label":"data-add-label");i.classList.toggle("m-checked",r),v(i).attr({"aria-label":a,title:a})}},{key:"render",value:function(){var e=this.query(".js-plus-panel"),t="plus"==this.options.template?h:m;if(e){v(e).remove(),this.$element.append(t(this.options));var n=this.query(".js-plus-panel");this.$buttons.eq(0).rbComponent().setOption("target",n),this._getElements()}else this.$element.append(t(this.options)),this._getElements()}},{key:"installUserListener",value:function(){var e=this;this.uninstallUserListener(),this.actions.forEach((function(t){var n=e.options[b(t)];p.subscribe("".concat(t,":/").conalue:function(){var e=this;this.actions.forEach((function(t){var n=e.options[b(t)];p.unsubscribe("".concat(t,":/").concat(n),e[t+"Change"],!0)}))}},{key:"attached",value:function(){this.installUserListener(),this.addAppClasses()}},{key:"detached",value:function(){this.uninstallUserListener()}},{key:"showToolTip",value:function(e,t){var n=document.getElementById(e),i=n&&this.component(n);if(i){switch(tions({my:"center top",at:"center bottom"}),rb.rAFQueue((reak;default:i.setOptions({my:"center bottom",at:"center top"}),rb.rAFQueue((function(){n.classList.remove("m-extend-down")}))}i.setOption("anchor",t),i.open()}}},{key:"actions",get:function(){return["bookmarks","subscriptions"]}}]),t}(u.default);rb.live.register("plusbar",_);var w=_;t.default=w},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<ul class="js-plus-panel button-group m-level-1">\n    ',isSubscription&&path?__p+='\n        <li class="plus-child-item">\n            <button type="button"\n                    data-add-tooltip="notice-subscription-add"\n                    data-remove-tooltip="notice-subscription-remove"\n                    class="plus-child-btn"\n                    data-remove-label="'+(null==(__t=translations.endSubscription)?"":__t)+'"\n                    data-add-label="'+(null==(__t=translations.subscribe)?"":__t)+'"\n                    aria-label="'+(null==(__t=translations.subscribe)?"":__t)+'"\n                    data-action="subscriptions"\n                    title="'+(null==(__t=translations.subscribe)?"":__t)+'">\n                <span class="icon-304_highlight" aria-hidden="true"></span>\n            </button>\n        </li>\n    ':isSubscription||(__p+='\n        <li class="plus-child-item">\n            <button type="button"\n                    data-add-tooltip="notice-fav-add"\n                    data-remove-tooltip="notice-fav-remove"\n                    class="plus-child-btn"\n                    aria-label="'+(null==(__t=translations.addFavorite)?"":__t)+'"\n                    data-remove-label="'+(null==(__t=translations.removeFavorite)?"":__t)+'"\n                    data-add-label="'+(null==(__t=translations.addFavorite)?"":__t)+'"\n                    data-action="bookmarks"\n                    title="'+(null==(__t=translations.addFavorite)?"":__t)+'">\n                <span class="icon-304_highlight" aria-hidden="true"></span>\n            </button>\n        </li>\n    '),__p+="\n    ",isTiviAppSharingEnabled?__p+='\n        <li class="plus-child-item">\n            <button type="button"\n                    class="plus-child-btn"\n                    aria-label="'+(null==(__t=translations.share)?"":__t)+'"\n                    title="'+(null==(__t=translations.share)?"":__t)+'"\n                    data-action="share"\n                    data-action-detail="open">\n                <span class="icon-402_share" aria-hidden="true"></span>\n            </button>\n        </li>\n    ':(shareOnTwitter||shareOnFacebook||shareOnPinterest||shareOnWhatsapp)&&(__p+="\n        ",isHeuteApp?__p+='\n            <li class="plus-child-item">\n                <button type="button"\n                        class="plus-child-btn"\n                        aria-label="'+(null==(__t=translations.share)?"":__t)+'"\n                        title="'+(null==(__t=translations.share)?"":__t)+'"\n                        data-action="share"\n                        data-action-detail="open">\n                    <span class="icon-402_share" aria-hidden="true"></span>\n                </button>\n            </li>\n        ':(__p+='\n            <li class="plus-child-item">\n                <button type="button" class="plus-child-btn js-plus-btn" aria-label="'+(null==(__t=translations.share)?"":__t)+'" title="'+(null==(__t=translations.share)?"":__t)+'" aria-expanded="false">\n                    <span class="icon-402_share" aria-hidden="true"></span>\n                </button>\n                <ul class="js-plus-panel button-group m-level-2">\n                ',shareOnFacebook&&(__p+='\n                    <li class="plus-child-item">\n                        <a href="http://www.facebook.com/share.php?u='+(null==(__t=encodedUrl)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-22"))?"":rb.escape(__t))+'"\n                           class="plus-child-btn"\n                           aria-label="'+(null==(__t=shareOnFacebook)?"":__t)+'"\n                           data-action="share"\n                           data-action-detail="Facebook"\n                           title="'+(null==(__t=shareOnFacebook)?"":__t)+'">\n                            <span class="icon-601_facebook" aria-hidden="true"></span>\n                        </a>\n                    </li>\n                '),__p+="\n                ",shareOnTwitter&&(__p+='\n                    <li class="plus-child-item">\n                        <a href="https://twitter.com/share?text='+(null==(__t=escapedTwitterTitle)?"":__t)+"&url="+(null==(__t=encodedUrl)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-21"))?"":rb.escape(__t))+'"\n                           class="plus-child-btn"\n                           aria-label="'+(null==(__t=shareOnTwitter)?"":__t)+'"\n                           data-action="share"\n                           data-action-detail="Twitter"\n                           title="'+(null==(__t=shareOnTwitter)?"":__t)+'">\n                           <span class="icon-602_twitter" aria-hidden="true"></span>\n                        </a>\n                    </li>\n                '),__p+="\n                ",shareOnPinterest&&(__p+='\n                    <li class="plus-child-item">\n                        <a href="https://pinterest.com/pin/create/button/?url='+(null==(__t=encodedUrl)?"":rb.escape(__t))+(null==(__t=encodeURIComponent("#xtor=CS5-139"))?"":rb.escape(__t))+'"\n                           class="plus-child-btn"\n                           data-action="share"\n                           data-action-detail="Pinterest"\n                           aria-label="'+(null==(__t=shareOnPinterest)?"":__t)+'"\n                           title="'+(null==(__t=shareOnPinterest)?"":__t)+'">\n                           <span class="icon-920_pinterest" aria-hidden="true"></span>\n                        </a>\n                    </li>\n                '),__p+="\n                ",shareOnWhatsapp&&(__p+='\n                    <li class="plus-child-item m-whatsapp">\n                        <a href="whatsapp://send?text='+(null==(__t=whatsAppMessage)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-134"))?"":rb.escape(__t))+'"\n                           class="plus-child-btn"\n                           data-action="share"\n                           data-dont-block-app-navigation="true"\n                           data-action-detail="WhatsApp"\n                           aria-label="'+(null==(__t=shareOnWhatsapp)?"":__t)+'"\n                           title="'+(null==(__t=shareOnWhatsapp)?"":__t)+'">\n                            <span class="icon-606_whatsapp" aria-hidden="true"></span>\n                        </a>\n                    </li>\n                '),__p+="\n                </ul>\n            </li>\n        "),__p+="\n    "),__p+="\n\n    ",isHeuteApp||isTiviAppSharingEnabled||(__p+='\n        <li class="plus-child-item">\n            <a href="mailto:?subject='+(null==(__t=translations.mailSubject)?"":__t)+"%3A%20"+(null==(__t=unescapedTitle)?"":__t)+"&amp;body="+(null==(__t=encodedUrl)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-95"))?"":rb.escape(__t))+'" class="plus-child-btn js-mail-button" aria-label="'+(null==(__t=translations.recommend)?"":__t)+'" title="'+(null==(__t=translations.recommend)?"":__t)+'">\n                <span class="icon-403_mail" aria-hidden="true"></span>\n            </a>\n        </li>\n    '),__p+="\n    ",isEmbeddable&&(__p+='\n        <li class="plus-child-item x-mobile-hidden">\n            <button\n                data-copied-tooltip="notice-embed-copied"\n                type="button"\n                data-action="embed"\n                class="plus-child-btn"\n                aria-label="'+(null==(__t=translations.embed)?"":__t)+'"\n                title="'+(null==(__t=translations.embed)?"":__t)+'">\n                <strue"></span>\n            </button>\n        </li>\n    '),__p+="\n</ul>\n";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){if(__p+='<ul class="js-plus-panel button-group m-level-1">\n    ',"undefined"!=typeof subscription&&(__p+='\n        <li class="plus-child-item">\n            <button\n                data-add-tooltip="notice-subscription-add"\n                data-remove-tooltip="notice-subscription-remove"\n                type="button"\n                data-action="subscriptions"\n                class="plus-child-btn"\n                aria-label="label'+(null==(__t=subscription.subscribeTitle)?"":__t)+'"\n                data-remove-label="'+(null==(__t=subscription.unsubscribeTitle)?"":__t)+'"\n                data-add-label="'+(null==(__t=subscription.subscribeTitle)?"":__t)+'"\n                title="'+(null==(__t=subscription.subscribeTitle)?"":__t)+'">\n                <span class="icon-304_highlight" aria-hidden="true"></span>\n            </button>\n        </li>\n    '),__p+="\n    ","undefined"!=typeof bookmark&&(__p+='\n        <li class="plus-child-item">\n            <button type="button"\n                    data-add-tooltip="notice-fav-add"\n                    data-remove-tooltip="notice-fav-remove"\n                    class="plus-child-btn"\n                    data-action="bookmarks"\n                    aria-label="label'+(null==(__t=bookmark.addBookmarkTitle)?"":__t)+'"\n                    data-remove-label="'+(null==(__t=bookmark.removeBookmarkTitle)?"":__t)+'"\n                    data-add-label="'+(null==(__t=bookmark.addBookmarkTitle)?"":__t)+'"\n                    title="'+(null==(__t=bookmark.addBookmarkTitle)?"":__t)+'">\n                <span class="icon-304_highlight" aria-hidden="true"></span>\n            </button>\n        </li>\n    '),__p+="\n    ",isTiviAppSharingEnabled)__p+='\n        <li class="plus-child-item">\n            <button type="button"\n                    class="plus-child-btn"\n                    aria-label="'+(null==(__t=translations.share)?"":__t)+'"\n                    title="'+(null==(__t=translations.share)?"":__t)+'"\n                    data-action="share"\n                    data-action-detail="open">\n                <span class="icon-402_share" aria-hidden="true"></span>\n            </button>\n        </li>\n    ';else if("undefined"!=typeof sharingItems){if(__p+="\n        ",isHeuteApp)__p+='\n            <li class="plus-child-item">\n                <button type="button"\n                        class="plus-child-btn"\n                        aria-label="'+(null==(__t=translations.share)?"":__t)+'"\n                        title="'+(null==(__t=translations.share)?"":__t)+'"\n                        data-action="share"\n                        data-action-detail="open">\n                    <span class="icon-402_share" aria-hidden="true"></span>\n                </button>\n            </li>\n        ';else{__p+='\n            <li class="plus-child-item">\n                <button type="button" class="plus-child-btn js-plus-btn" aria-label="'+(null==(__t=translations.share)?"":__t)+'" title="'+(null==(__t=translations.share)?"":__t)+'" aria-expanded="false">\n                    <span class="icon-402_share" aria-hidden="true"></span>\n                </button>\n                <ul class="js-plus-panel button-group m-level-2">\n                ';for(var i=0;i<sharingItems.length;i++)__p+='\n                    <li class="plus-child-item',"whatsapp"===sharingItems[i].type&&(__p+=" m-whatsapp"),__p+='">\n                        <a ',"facebook"===sharingItems[i].type?__p+='\n                            href="http://www.facebook.com/share.php?u='+(null==(__t=encodedUrl)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-22"))?"":rb.escape(__t))+'"\n                           ':"twitter"===sharingItems[i].type?__p+='\n                            href="https://twitter.com/share?text='+(null==(__t=escapedTwitterTitle)?"":__t)+"&url="+(null==(__t=encodedUrl)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-21"))?"":rb.escape(__t))+'"\n                           ':"pinterest"===sharingItems[i].type?__p+='\n                            href="https://pinterest.com/pin/create/button/?url='+(null==(__t=encodedUrl)?"":rb.escape(__t))+(null==(__t=encodeURIComponent("#xtor=CS5-139"))?"":rb.escape(__t))+'"\n                           ':"whatsapp"===sharingItems[i].type&&(__p+='\n                            href="whatsapp://send?text='+(null==(__t=whatsAppMessage)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-134"))?"":rb.escape(__t))+'"\n                           '),__p+='\n                           aria-label="'+(null==(__t=sharingItems[i].hint)?"":__t)+'"\n                           data-action="share"\n                           ',"facebook"===sharingItems[i].type?__p+='\n                           data-action-detail="Facebook"\n                           ':"twitter"===sharingItems[i].type?__p+='\n                           data-action-detail="Twitter"\n                           ':"google+"===sharingItems[i].type?__p+='\n                           data-action-detail="Google"\n                           ':"pinterest"===sharingItems[i].type?__p+='\n                           data-action-detail="Pinterest"\n                           ':"whatsapp"===sharingItems[i].type?__p+='\n                           data-action-detail="WhatsApp"\n                           ':__p+='\n                           data-action-detail="Unknown"\n                           ',__p+='\n                           class="plus-child-btn"\n                           title="'+(null==(__t=sharingItems[i].hint)?"":__t)+'">\n                              <span\n                              ',"facebook"===sharingItems[i].type?__p+='\n                             class="icon-601_facebook"\n                             ':"twitter"===sharingItems[i].type?__p+='\n                             class="icon-602_twitter"\n                             ':"google+"===sharingItems[i].type?__p+='\n                             class="icon-603_google"\n                             ':"pinterest"===sharingItems[i].type?__p+='\n                             class="icon-920_pinterest"\n                             ':"whatsapp"===sharingItems[i].type?__p+='\n                             class="icon-606_whatsapp"\n                             ':__p+="",__p+=' aria-hidden="true">\n                             </span>\n                           </a>\n                    </li>\n                ';__p+="\n                </ul>\n            </li>\n        "}__p+="\n    "}__p+="\n    ",isHeuteApp||isTiviAppSharingEnabled||(__p+='\n        <li class="plus-child-item">\n            <a href="mailto:?subject='+(null==(__t=translations.mailSubject)?"":__t)+"%3A%20"+(null==(__t=unescapedTitle)?"":__t)+"&amp;body="+(null==(__t=encodedUrl)?"":__t)+(null==(__t=encodeURIComponent("#xtor=CS5-95"))?"":rb.escape(__t))+'" class="plus-child-btn js-mail-button" aria-label="'+(null==(__t=emailShare.title)?"":__t)+'" title="'+(null==(__t=emailShare.title)?"":__t)+'">\n                <span class="icon-403_mail" aria-hidden="true"></span>\n            </a>\n        </li>\n    '),__p+="\n    ",isEmbeddable&&(__p+='\n    <li class="plus-child-item x-mobile-hidden">\n        <button\n            data-copied-tooltip="notice-embed-copied"\n            type="button"\n            data-action="embed"\n            class="plus-child-btn"\n            aria-label="'+(null==(__t=translations.embed)?"":__t)+'"\n            title="'+(null==(__t=translations.embed)?"":__t)+'">\n            <span class="icon-309_embed" aria-hidden="true"></span>\n        </button>\n    </li>\n    '),__p+="\n</ul>\n"}return __p}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28),n(26),n(14),n(57);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4));n(10);i(n(52));var l=n(48),u=window.rb,c=u.$,d=u.storage.session,f=l.STORAGE_KEYS.PHOTO_MATRIX_ORIGIN.name,p=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).updateShareUrl(),i}return(0,s.default)(t,e),(0,a.default)(t,[{key:"attached",value:function(){var e=d.get(f),t=this.query(".back-to-photo-matrix");e&&(window.addEventListener("unload",(function(){d.remove(f)})),t&&(window.zdfsite.checkTiviLocation(t)&&t.setAttribute("data-dont-block-app-navigation","true"),t.href="javascript:history.back()"))}},{key:"updateShareUrl",value:function(){try{var e="".concat(location.origin).concat(location.pathname).concat(location.search).concat(window.location.hash),t=e.split("#");void 0===t[1]||t[1].includes("passport")||(history.replaceState({},"",e),c.q('[data-module="plusbar"]').first().rbComponent().updateBaseData({url:e}))}catch(e){u.logError(e)}}}]),t}(u.Component);u.live.register("post-header",p);var h=p;t.default=h},function(e,t,n){"use strict";(function(e){var t=n(2);n(9),n(8),n(5),n(18);var i,r=t(n(0)),a=t(n(3)),o=t(n(1)),s=t(n(4)),l=t(n(11)),u=n(244);i=function(){var e=window.rb,t=(e.$,n(7)),i=function(n){function i(t,n){var o;return(0,r.default)(this,i),o=(0,a.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,n)),e.rAFs(o,{that:o},"renderUserInfo"),o}return(0,s.default)(i,n),(0,o.default)(i,null,[{key:"defaults",get:function(){return{}}}]),(0,o.default)(i,[{key:"renderUserInfo",value:function(t){var n=this;Object.keys(t).forEach((function(i){var r=t[i];"gender"===i&&(r=u.genderMap[t[i]]||"keine Angabe"),"yearOfBirth"!==i||r||(r="keine Angabe"),n.$queryAll(".{name}-".concat(i," span")).html(e.escape(r))})),t.gender||t.yearOfBirth?this.$queryAll(".reset-optionaldata-btn").removeClass("dass("disabled"),this.$element.toggleClass("m-oauth-login",t&&!t.email)}},{key:"attached",value:function(){t.subscribe("info",this.renderUserInfo,!0)}},{key:"detached",value:function(){t.unsubscribe("info",this.renderUserInfo,!0)}}]),i}(e.Component);return e.live.register("profiledata",i),i},"object"===(0,l.default)(e)&&e.exports?e.exports=i():i()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(3)),o=i(n){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(thit.getPrototypeOf(t)).call(this,e,n)),l.rAFs(i,"setFormFields"),u.ready.then((function(){i.profile=u.getState().profile,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{}}},{key:"events",get:function(){return{"change:matches(input[data-profile-key])":"profileChange","keydown:keycodes(13)":function(e){e.preventDefault()}}}}]),(0,o.default)(t,[{key:"setFormFields",value:function(){var e=this,t=this.profile;this.queryAll("input[data-profile-key]").forEach((function(n){var i=n.getAttribute("data-profile-key");i in t&&"useDarkMode"!==i&&(e.updateField(n,t[i]),u.subscribe(i,(function(t){e.updateField(n,t)})))}))}},{key:"updateField",value:function(e,t){if(Array.isArray(t)){var n=e.getAttribute("data-id");e.checked=-1!=c(t,n,"id")}else"boolean"==typeof t&&(e.checked=t)}},{key:"profileChange",value:function(e){var t=void 0,n=e.delegatedTarget,i=n.getAttribute("data-profile-key"),r=this.profile;i in this.profile&&(Array.isArray(r[i])?t={value:{id:n.getAttribute("data-id"),externalId:n.getAttribute("data-external-id"),title:n.getAttribute("data-title")},action:n.checked?"add":"remove"}:"boolean"==typeof r[i]&&(t=n.checked),u.dispatch(i,t))}}]),t}(l.Component);l.live.register("profileform",d);var f=d;t.default=f},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14);var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=(i(n(430)),function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),rb.rAFs(i,"updaio(),i._maxWidth=0,i.currentAreaWidth=0,i.currentAreaHeight=0,i.contentContainer=i.query(".{name}-container"),i.requestRelayout(),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{ratio:16/9}}},{key:"events",get:function(){return{rb_resize:"requestRelayout"}}}]),(0,s.default)(t,[{key:"setOption",value:function(e,n){(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setOption",this).call(this,e,n),"ratio"===e&&this.updateRatio(n)}},{key:"updateRatio",value:function(){var e=arguments.length>0&&voiing"==typeof e&&(t=(t=e.split("/"))[0]/t[1]),t=t||e,this.contentContainer&&this._ratio!==t&&this.requestRelayout(),this._ratio=t}},{key:"requestRelayout",value:function(){this.readLayout(),this.calcMaxWidth(),this.updateLayout()}},{key:"readLayout",value:function(){var e=this.element.getBoundingClientRect();this.currentAreaWidth=e.width,this.currentAreaHeight=e.height,this.currentAreaRatio=this.currentAreaWidth/this.currentAreaHeight}},{key:"calcMaxWidth",value:function(){var e=void 0;return e=this.currentAreaRatio>this._ratio?this.currentAreaHeight*this._ratio:this.currentAreaWidth,this._maxWidth=e}},{key:"updateLayout",value:function(){this.contentContainer.style.maxWidth=this._maxWidth+"px"||!1}}]),t}(rb.Component));rb.live.register("ratiofitarea",u);var c=u;t.default=c},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(158),n(19),n(9),n(8),n(5),n(33),n(779);var r=i(n(53)),a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=window.rb,c=n(7),d=function(e){function t(e,n){var i;return(0,a.default)(this,t),i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),c.ready.then((function(){var e=i.getNodeIdsForUser();if(e&&0!==e.length)i.renderClusters(e);else if(i.element.firstElementChild){var t=i.element.firstElementChild.getAttribute("id"),n="#".concat(t),r=i.element.querySelector(n);i.updateCluster(r)}})),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{id:"",minLength:3}}}]),(0,s.default)(t,[{key:"getNodeIdsForUser",value:function(){var e,t,n,i=this,a=c.getState().profile.abGroupName;a||(console.warn("abGroup is not available, using default fallback"),a="default");var o=zdfsite.abGroupToNodesMapping,s=null==o||null===(e=o[0])||void 0===e||null===(t=e.pages)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.groups;if(!s)return console.warn("AB-Test Cluster Container will be empty, because no mapping is available.")return e.group===a}));if(0===l.length&&(console.warn("AB-Test Cluster Container will be empty. No mapping is available for the given abGroup: "+a+", using default fallback"),a="default",l=s.filter((function(e){return e.group===a}))),0===l.length)return console.warn("AB-Test Cluster Container willoup: "+a),[];if(l.length>1)return console.warn("AB-Test Cluster Container will be empty: There is more than one mapping for the given abGroup: "+a),[];var u=l[0].containers.filter((function(e){return e.containerId===i.options.id}));return 0===u.length?(console.warn("AB-Test Cluster Container will be empty. No mapping is available for the given abGroup and containerId."),[]):u.length>1?(console.warn("AB-Test Cluster Container will be empty: There is more than one mapping for the given abGroup and containerId."),[]):(console.debug("According to the AB-Group-to-Nodes Mapping, the clusters with the following nodeIds should be rendered: "),console.debug(u[0].nodeIds),[].concat((0,r.default)(new Set(u[0].nodeIds))))}},{key:"updateCluster",value:function(e){var t=e.querySelector("script");t&&(e.innerHTML=t.innerHTML,t.remove())}},{key:"renderClusters",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value,s="#node-".concat(o).constructor=b),(P||x)&&(S("delete"),S("has"),v&&S("get")),(x||E)&&S(_),g&&w.clear&&delete w.clear}else b=m.getConstructor(t,e,v,_),o(b.prototype,n),s.NEED=!0;return p(b,e),k[e]=b,r(r.G+r.W+r.F*(b!=y),k),g||m.setStrong(b,e,v),b}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(36),n(9),n(8),n(5),n(33),n(14);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4));n(76);var l=n(47),u=n(7),c=window.rb,d=n(139),f=window.zdfsite,p=n(162),h=n(124);function m(e,t,n){var i=!!document.structureNodePath&&document.structureNodePath.startsWith("/zdf"+f.heuteDeStructureNode),r=i?"":"box-wrap-new ",a=i?"":"box-hide-for-small-only ";return'\n        <article class="b-cluster js-cluster-extend js-rb-live" '.concat(n,' data-module="cluster-teaser-extension">\n           <header class="cluster-title-row grid-container js-title">\n                <div class="cluster-title-wrap">\n                    <h2 class="cluster-title" aria-label="Beiträge zum Thema: ').concat(e,'" tabindex="0">').concat(e,'</h2>\n                </div>\n           </header>\n           <div class="cluster-showmore js-rb-live" data-module="showmore">\n                <div class="cluster-content ').concat(r,'scroll-box js-rb-live" data-module="js-scrollbox">\n                    <div class="tile-box-wrap showmore-wrapper js-scrollbox-list">\n                        ').concat(t,'\n                    </div>\n                    <button type="button" class="scroll-arrow x-prev js-scrollbox-prev ').concat(a,'js-track-click" title="zurück scrollen" tabindex="-1" data-track=\'{ "element": "Cluster_R","action": "Blättern_links","trackView": true }\'>\n                        <span class="icon-201_slide-left" aria-hidden="true"></span>\n                    </button>\n                    <button type="button" class="scroll-arrow x-next js-scrollbox-next ').concat(a,'js-track-click" title="vorwärts scrollen" tabindex="-1" data-track=\'{ "element": "Cluster_R","action": "Blättern_rechts","trackView": true }\'>\n                        <span class="icon-202_slide-right" aria-hidden="true"></span>\n                    </button>\n                </div>\n                <div class="load-more-container show-for-small-only">\n                   <button class="button medium round load-more showmore-btn js-track-click js-rb-live" title=\'{{ getDisplayText("general.showMore", "Weitere laden") | raw }}\' data-module="scrolly" data-track=\'{"element": "').concat(e,'", "action": "Weitere Laden", "type": "action", "trackView": true}\'> Mehr anzeigen </button>\n                </div>\n           </div>\n        </article>')}var v=function(e){function t(e,n){var i;return(0,r.default)(this,t),"web_only"===(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).options.type&&f.isTiviApp?(0,a.default)(i):(u.ready.then((function(){var e=i.generateUrlFromTemplate(),t={method:"POST"};t.headers=i.getHeaders(),t.body=e.split("?")[1],e=e.split("?")[0],fetch(e,t).then((function(t){if(404===t.status)return{};if(t.ok)return t.json();throw Error("".concat(t.status," - ").concat(t.statusText," (for url ").concat(e,")"))})).then((fune fetching cluster list with POST: "),console.warn(e),h.writeReady(i.element)}))})),i)}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{uri:f.recommendationClusterListUriTemplate,nodeid:"",type:""}}}]),(0,o.default)(t,[{key:"renderPostData",value:function(e){var t=this;return ForList(e)).then((function(n){for(var i=0,r="",a=0;a<e.clusters.length;a++){var o=e.clusters[a],s=o.recommendations["http://zdf.de/rels/recommendation/results"].length,l=n.slice(i,i+s);i+=s;var u=l.map((function(e){return e.outerHTML})).join("");r+=m(o.label,u,t.getNodeIdPropValueString(t.options.nodeid))}h.writeReady(t.element),t.element.insertAdjacentHTML("afterend",r)}))}},{key:"generateUrlFromTemplate",value:function(){var e=d.parse(f.apiService+this.options.uri),t=p.getCompleteRequestData();return e.expand(t)}},{key:"getHeaders",value:function(){var e={};e["A).token;return t&&(0,l.hasPersonalizationConsent)()&&(e.Authorization="Bearer ".concat(t)),e["Content-Type"]="application/x-www-form-urlencoded",e}},{key:"getNodeIdPropValueString}},{key:"generateTeasersForList",value:function(e){for(var t=this,n=[],i=function(t){var i=e.clusters[t],r=i.recommendations["http://zdf.de/rels/recommendation/results"];r.forEach((function(e){return e.recoId=i.recommendations.recoId})),n=n.concat(r)},r=0;r<e.clusters.length;r++)i(r);return n.map((function(e){var n=e.id;return h.generateTeaser(n,"m2",e,t.element)}))}}]),t}(c.Component);c.live.register("recommendation-cluster-list",v);var g=v;t.default=g},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendationRequestUrlBuilder=t.RecommendationRequestParamsBuilder=t.RecommendationFetcher=t.RecommendationClusterFetcher=void 0,n(36);var r=i(n(3)),a=i(n(4));n(14),n(57),n(34),n(5),n(49);var o=i(n(21)),s=i(n(0)),l=i(n(1)),u=i(n(75)),c=(i(n(156)),n(248));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var f=n(162),p=n(139),h=n(115),m=n(7),v=n(121),g=n(157),y={profile:"http://zdf.de/rels/broker/reco-cluster-list/result",self:"/broker/reco-cluster-list?brokerConfiguration=gruppe-a&docs=SCMS_cdf9e8dd-2cd9-46be-afc2-5ed530429%3A1.0,SCMS_cdf9e8dd-2cd9-46be-afc2-8b55e%3A1.0&limit=100",first:"/broker/reco-cluster-list?brokerConfiguration=gruppe-a&docs=SCMS_cdf9e8dd-2cd9-46be-afc2-5ed530429%3A1.0,SCMS_cdf9e8dd-2cd9-46be-afc2-8b55e%3A1.0&limit=100",totalResultsCount:20,totalExecutionTimeInMs:548,configuration:"default",abTestName:"",retrievalResults:[{retrievalTimeInMs:206,responseStatus:"OK",brokerRequestUrl:"/reco-cluster-list/fingerprint?docs=SCMS_cdf9e8dd-2cd9-46be-afc2-5ed530429%3A1.0%2CSCMS_cdf9e8dd-2cd9-46be-afc2-8b55e%3A1.0&",documentIds:["SCMS_cdf9e8dd-2cd9-46be-afc2-5ed530429"],engineId:"fingerprints",numberOfResults:0},{retrievalTimeInMs:206,responseStatus:"OK",brokerRequestUrl:"/reco-cluster-list/fingerprint?docs=SCMS_cdf9e8dd-2cd9-46be-afc2-5ed530429%3A1.0%2CSCMS_cdf9e8dd-2cd9-46be-afc2-8b55e%3A1.0&",documentIds:["SCMS_cdf9e8dd-2cd9-46be-afc2-8b55e"],engineId:"fingerprints",numberOfResults:0},{retrievalTimeInMs:253,responseStatus:"OK",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",engineId:"most-viewed",numberOfResults:20}],"http://zdf.de/rels/reco-cluster-list/suggestions":[],"http://zdf.de/rels/reco-cluster-list/results":[{title:"Cluster 1",items:[{id:"SCMS_ca4d6b86-9701-4165-9e49-ceb9bf2f0235",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_a59f6b72-2a7d-4685-8e5e-dee6e6a52f69",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_41402874-7f50-4573-9710-8f46d620c64a",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_e4b0cfc4-ea51-4b4f-9a08-2a826e987f84",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_ca4d6b86-9701-4165-9e49-ceb9bf2f0235",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"}]},{title:"Cluster 2",items:[{id:"SCMS_a664f943-7128-45e5-b59e-115cddf9f0e3",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_d8cd20a9-6261-410f-a02a-f5d7eb12d772",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_26895c5f-a431-42c5-a889-87a8c2ed2606",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_e4d8a690-ae45-43ac-af5d-2e0c840e3fed",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_032721d4-8533-4178-89cd-f4e835340e2b",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"}]},{title:"Cluster 3",items:[{id:"SCMS_2c1e2939-a5d0-48ef-8d2d-781c222569ed",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_ca4d6b86-9701-4165-9e49-ceb9bf2f0235",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_8348849f-5d0e-448e-930e-c5ecd2c0c51a",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_cc6898be-823e-42db-98fb-51446e14d67c",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",configuration:"default",brokerRequestUrl:"/search/documents?sortBy=views&sortOrder=desc&q=*&&from=2019-10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"},{id:"SCMS_3de12ff6-b5ff-4a40-a4dd-44bba76c76a7",score:null,"http://zdf.de/rels/target":"/content/documents/zdf/sendungen-a-z?profile=teaser",viewCount:351,ratingCount:0,engine:"most-viewed",enginePosition:0,trackingIdentifier:"broker-0.57.65535-SNAPSHOT-default-most-viewed-0.57.394",conf10-02T09%3A44%3A07.473%2B02%3A00&to=2019-10-16T09%3A44%3A07.477%2B02%3A00",profile:"http://zdf.de/rels/search/result"}]}]},b=function(){function e(t,n,i){(0,s.default)(this,e),this.siteSettings=t,this.userProfile=n,this.viewHistory=i}return(0,l.default)(e,[{key:"build",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({types:"page-video,page-picture-gallery"},this.from(),{},this.to(),{},this.pageContentType(),{},this.previewDate(),{},this.tuning(),{},this.paths())}},{key:"from",value:function(){var e=this.daysFromNow(-this.siteSettings.myZdfDaysInPast);return e.setHours(0),e.setMinutes(0),e.setSeconds(0),{from:v(e)}}},{key:"to",value:function(){var e=this.daysFromNow(this.siteSettings.myZdfDaysInFuture);return e.setHours(23),e.setMinutes(59),e.setSeconds(59),{to:v(e)}}},{key:"pageContentType",value:function(){return this.siteSettings.contentType?{pageContentType:this.siteSettings.contentType}:{}}},{key:"previewDate",value:function(){var e=window.location.search.toString().match(/(\?|&)previewDate=(\d+)/);return e?{previewDate:parseInt(e[2],10)}:{}}},{key:"tuning",value:function(){var e=window.location.search.toString().match(/(\?|&)tuning=([^&]+)/);return e?{tuning:decodeURIComponent(e[2])}:{}}},{key:"paths",value:function(){var e=null;if(this.siteSettings.enabledAdditionalRecommendation){vaame),n=this.getParamPath(t);n&&(e="/zdf".concat(n))}return e?{paths:e}:{}}},{key:"daysFromNow",value:function(e){return new Date((new Date).getTime()+this.daysToMillis(e))}},{key:"day4*e*60*60*1e3}},{key:"getBasePath",value:function(e){return e.split("/").leN.parse(this.siteSettings.tiviPaths).filter((function(t){return-1!==t.indexOf(e)})).shift()}}]),e}();t.RecommendationRequestParamsBuilder=b;var _=function(){function e(t,n){(0,s.default)(this,e),this.siteSettings=t,this.userProfile=n}return(0,l.default)(e,[{key:"build",value:function(e,t){var n=p.parse(this.siteSettings.apiService+(t||this.siteSettings.recommendationRetrievalUrl)),i=this.expandAbTestingUrlTemplate(n,this.userProfile),r=i.indexOf("?")>-1?"&":"?";return i+r+(0,u.default)(e)}},{key:"expandAbTestingUrlTemplate",value:function(e,t){var n=window.location.search.toString().match(/(\?|&)recommendationUrl=([^&]+)/);if(n)return n[2];var i=f.getCompleteRequestData();return e.expand(i)}}]),e}();t.RecommendationRequestUrlBuilder=_;var w=function(e){function t(){return(0,s.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,a.default)(t,e),(0,l.default)(t,[{key:"generateUrl",value:function(e){var t=new b(window.zdfsite,m.getState().getUserProfile(),m.getViewHistory()).build();m.ready.then((function(){return new _(window.zdfsite,m.getState().getUserProfile()).build(t,e)}))}},{key:"generateRequestHeaders",value:function(e){var t=g(e),n=m.getState().token;return n&&(t.Authorization="Bearer ".concat(n)),t}},{key:"processData",value:function(e){var tn/results"]){var n=e.profile,i=e.abTestName;return e["http://zdf.de/rels/recommendation/results"].filter((function(e){return e.id&&!t.hasItemBeenViewed(e.id)&&t.isItemAvailable(e)})).map((function(e){return t.mapRecommendation(e,n,i)}))}return[]}},{key:"mapRecommendation",value:function(e,t,n){var i=e.configuration,r=e.engine,a=e.enginePosition,o=null;return"http://zdf.de/rels/broker/recommendation/result"===t&&(o={campaignId:n,creation:i,variant:r,position:a}),{configuration:i,engine:r,id:e.id,publishData:o,score:e.score,trackingIdentifier:e.trackingIdentifier}}},{key:"hasItemBeenViewed",value:function(e){try{returels/target"]&&"http://zdf.de/rels/not-found"!==e["http://zdf.de/rels/target"].profile}}]),t}(h),k=function(e)his,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,a.default)(t,e),(0,l.default)(t,[{key:"getDataMocked",value:function(){var e=this;return new Promise((function(t,n){t(e.processData(y))}))}},{key:"generateUrl",value:function(e){var t=new b(window.zdfsite,m.getState().getUserProfile(),m.getViewHistory()).build();return new _(window.zdfsite,m.getState().getUserProfile()).build(t,e)}},{key:"generateRequestHeaders",value:function(e){var t=g(e),n=m.getState().token;return n&&(t.Authorization="Bearer ".concat(n)),t}},{key:"processData",value:function(e){var t=this;if(e&&e["http://zdf.de/rels/recommendation-cluster-list/results"ts"].map((function(e){return{title:e.title,items:e.items.filter((function(e){return e.id&&!t.hasItemBeenViewed(e.id)&&t.isItemAvailable(e)})).map((function(e){return{sophoraId:e.id,score:e.score,brokerEngine:e.engine,recoId:e.recoId}}))}}))}return[]}},{key:"mapRecommendation",value:function(e,t,n){var i=e.configuration,r=e.engine,a=e.enginePosition,o=null;return"http://zdf.de/rels/broker/recommendation/result"===t&&(o={campaignId:n,creation:i,variant:r,position:a}),{configuration:i,engine:r,id:e.id,publishData:o,score:e.score}}},{key:"hasItemBeenViewed",value:function(e){try{return!!m.getPlaybackHistory().getItem(e)}catch(e){return!1}}},{key:"isItemAvailable",value:function(e){return e["http://zdf.de/rels/target"]&&"http://zdf.de/rels/not-found"!==e["http://zdf.de/rels/target"].profile}}]),t}(h),S=(0,c.getLoadTypeForConsumerID)(c.LOAD_TYPE_CONSUMER_ID.FETCH_RECOMMENDATION_SERVICE),O=new w("recommendation",{},S);t.RecommendationFetcher=O;var E=new k("recommendation",{},S);t.RecommendationClusterFetcher=E},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=window.rb,u=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"replaceReloadParam",value:function(e){e=e.split("?")[0];return"".concat(e,"?reload=").concat(Math.round(Date.now()/1e3/this.options.interval%100))}},{key:"replaceSrcSetUrls",value:function(e){var t=this;return e?e.split(", ").map((function(e){var n=e.split(" ");return n.length?(n[0]=t.replaceReloadParam(n[0].trim()),n.join(" ")):[]})).join(", "):""}},{key:"attached",value:function(){var e=this;this.options.interval&&(this.interval=setInterval((function(){e.queryAll("img").forEach((function(t){t.setAttribute("src",e.replaceReloadParam(t.getAttribute("src"))),t.setAttribute("data-src",e.replaceReloadParam(t.getAttribute("data-src"))),t.setAttribute("data-srcset",e.replaceSrcSetUrls(t.getAttribute("data-srcset"))),t.setAttribute("srcset",e.replaceSrcSetUrls(t.getAttribute("srcset"))),t.classList.contains("lazyloaded")&&(t.classList.remove("lazyloaded"),t.classList.add("lazyload"))})),e.queryAll("source").forEach((function(t){t.setAttribute("data-srcset",e.replaceSrcSetUrls(t.getAttribute("data-srcset"))),t.setAttribute("srcset",e.replaceSrcSetUrls(t.getAttribute("srcset")))}));var t=e.element.closest(".js-bg-container.lazyloaded");t&&t.classList.contains("lazyloaded")&&(t.classList.remove("lazyloaded"),t.classList.add("lazyload"))}),1e3*this.options.interval))}}]),t}(l.Component);l.live.register("reloading-image",u);var c=u;t.default=c},function(e,t,n){"use strict";(function(e){var t,i=n(0),ndow.zdfsite,n=function(n){function s(){return i(this,s),a(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return o(s,n),r(s,[{key:"removeCluster",value:function(){e.events.dispatch(this.element,"clearTeaserList")}}],[{key:"defaults",get:function(){return{closeOnEsc:!0,closeOnFocusout:!0,setFocus:!t.isTiviApp,type:""}}},{key:"events",get:function(){return{"click:closest(.yes-btn):capture()":"removeCluster"}}}]),s}(e.components.panelgroup);return e.live.register("js-removepanel",n),n},"object"===s(e)&&e.exports?(n(141),e.exports=t()):t()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t=n(2);n(22),n(19),n(9),n(8),n(18);var i=t(n(21));n(34),n(5);var r,a=t(n(0)),o=t(n(3)),s=t(n(1)),l=t(n(4)),u=t(n(11)),c=n(110);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}r=function(){var e=window.rb,t="postFrameId",n="postCMPSettings",r=function(r){function f(t,n){var i;return(0,a.default)(this,f),i=(0,o.default)(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,n)),e.rAFs(i,{throttle:!0},"handleSizeSet"),i.iframeId=i.getId(),i.intervals={},i.startPostFrameId(),i.startPostCMPSettings(),i}return(0,l.default)(f,r),(0,s.default)(f,null,[{key:"events",get:function(){return{"message:@(window)":"handlePostMessage",load:function(){ththis.postFrameId(),this.intehis;this.postCMPSettings(),this.intervals[n]=setInterval((function(){e.postCMPSettings()}),2e3)}},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){this.intervals[e]&&(clearInterval(this.intervals[e]),this.intervals[e]=null)}))},{key:"handlePostMessage",value:function(t){try{var n="string"==typeof t.data?e.jsonParse(t.data)||{}:"object"===(0,u.default)(t.data)?t.data:{},i=n.id,r=void 0===i?"":i,a=n.type,o=void 0===a?"":a;if(r==this.iframeId)switch(o){case"size:set":this.handleSizeSet(n);break;case"scrollTo":this.handleScrollTo(n);break;case"consent:set":this.handleConsentSet();break;default:e.log("iframe communication: unknown iframe message '".concat(o,"'"))}}catch(t){e.logError(t)}}},{key:"handleSizeSet",value:function(n){if(e.log("iframe communication: handleSizeSet"),this.clearInterval(t),n.height){var i="".concat(n.height,"px");this.$element.css({height:i,minHeight:i,maxHeight:i})}}},{key:"handleScrollTo",value:function(e){var t=e.x,n=void 0===t?0:t,i=e.y,r=void 0===i?0:i,a=(e.type,e.offset),o=void 0===a?0:a;if("iframe-offsetTop"==r){var s=document.querySelector(".b-header").getBoundingClientRect().height;r=document.querySelector("#".concat(this.iframeId)).getBoundingClientRect().top-document.body.g reduce)").matches}catch(er)}},{key:"handleConsentSet",value:function(){e.log("iframe communication: handleConsentSet"),this.clearInterval(n)}},{key:"postFrameId",value:function(){e.log("iframe communication: postFrameId"),this.postMessage({type:"size:init"})}},{key:"postCMPSettings",value:function(){e.log("iframe communication: postCMPSettings"),zdfsite.consentManagementSettings.enableConsentManagement?this.postMessage({type:"consent:init",consentGroups:(0,c.getCurrentConsentGroups)()}):this.handlePostMessage({data:{type:"consent:set",id:this.iframeId}})}},{key:"postMessage",value:function(t){var n=this.element.contentWindow;if(null==n?void 0:n.postMessage){var r=JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{id:this.iframeId}));n.postMessage(r,"*")}else e.logWarn("iframe communication: no contentWindow.postMessage")}}]),f}(e.Component);return e.live.register("resizeable-iframe",r),r},"object"===(0,u.default)(e)&&e.exports?e.exports=r():r()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){n(14);var t,i=n(0),r=n(3),a=n(4),o=n(11);t=function(){var e=n(178),t=window.rb,o=function(t){function n(t,a){var o;i(this,n),o=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,a));var s=document.querySelectorAll(".js-sr-explain-link");return s&&e(s[0].getAttribute("href")).then((function(e){var t=e.data["http://zdf.de/rels/debug"];t&&t.response.hits.hits.forEach((function(e){var n=e._source.target.substr(e._source.target.lastIndexOf("/")+1).split(".")[0],i=document.querySelectorAll('.b-search-list div[data-plusbar-id="'+n+'"]');if(i[0]){var r=i[0].parentNode.querySelectorAll(".result-score")[0];if(r){var a=t.tuning["elasticsearch.query.typeBoostingFunctionWeight"]+t.tuning["elasticsearch.query.gaussDecayFunctionWeight"],o=(e._explanation.value,e._explanation.details[0].details[0].value),s=e._explanation.details[0].details[1].value,l=e._explanation.details[0].details[1].details[0].details[0].value,u=l/a,c=e._explanation.details[0].details[1].details[0].details[1].value,d=c/a,f=Math.round(o/(o+s)*100),p=Math.round(s/(o+s)*100),h=Math.round(u/s*p),m=Math.round(d/s*p),v=100-f-h-m,g=document.createElement("div");g.title="Promotions ("+v+"%)",g.style.width="90%",g.style.height="9px",g.style.lineHeight="8px",g.style.display="inline-block",g.style.position="absolute",g.style.right="5%",g.style.left="5%",g.style.bottom="50px",g.style.backgroundColor="#777777";var y=['<span class="score-fields" title="Fields Score: '+o+" ("+f+'%)" style="width: '+f+'%; height: 10px; display: inline-block; background-color: #f0f"></span>','<span class="score-time" title="Editorial Date Score: '+l+"/"+a+" ("+h+'%)" style="width: '+h+'%; height: 10px; display: inline-block; background-color: #ff0"></span>','<span class="score-types" title="Types Score: '+c+"/"+a+" ("+m+'%)" style="width: '+m+'%; height: 10px; display: inline-block; background-color: #0ff"></span>'];g.innerHTML=y.join(""),r.parentNode.parentNode.appendChild(g)}}}))})),o}return a(n,t),n}(t.Component);return t.live.register("score-explanations",o),o},"object"===o(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){n(102),n(789);var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=e.$,n=function(n){function s(t,n){var a;return i(this,s),(a=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,n))).curPosition=-1,a.scrollRoot=e.getScrollingElement(),e.rAFs(a,{that:a},"updatePositionInfo"),a.getElements(),a.calculatePosition=e.throttle(a.calculatePosition,{that:a}),a.calculatePositionInfo=e.throttle(a.calculatePositionInfo,{that:a}),a}return o(s,n),a(s,null,[{key:"defaults",get:function(){return{offset:50}}}]),a(s,[{key:"getElements",value:function(){this.items=this.queryAll(".{nunction(e){var t=e.getAttribute("data-scroll-value");return t&&document.getElementById(t)||null})),this.$items=t(this.items),this.calculatePosition()}},{key:"getScrollPos",value:function(){return Math.max(this.scrollRoot.scrollTop,0)}},{key:"updatePositionInfo",value:function(){this.$items.removeClass("m-current"),this.$items.eq(this.curPosition).addClass("m-current")}},{key:"calculatePositionInfo",value:function(){for(var e=void 0,t=this.getScrollPos()-1+this.options.offset+window.innerHeight/1.8,n=0;n<this.areaInfos.length;n++){if(t<=this.areaInfos[n]){null==e&&(e=n);break}e=n}e!==this.curPosition&&(this.curPosition=e,this.updatePositionInfo())}},{key:"calculatePosition",value:function(){var e=this.getScrollPos();this.areaInfos=this.areas.map((function(t){return t?t.getBoundingClientRect().top+e:Number.MAX_SAFE_INTEGER})),this.calculatePositionInfo()}},{key:"attached",value:function(){t(window).on("scroll",this.calculatePositionInfo).on("resize",this.calculatePosition).on("js-itemfilterchanged",this.calculatePosition)}},{key:"detached",value:function(){t(window).off("scroll",this.calculatePosalculatePositionInfo)}}]),s}(e.Component);return e.live.register("js-scrollnav",n),n},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){var i=n(25);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";(function(e){var t=n(2);n(10),n(15);var i,r=t(n(0)),a=t(n(3)),o=t(n(35)),s=t(n(1)),l=t(n(4)),u=t(n(23)),c=t(n(11)),d=n(24);i=function(){var e,t=n(318),i=window.rb,c=i.$,f=n(241).default,p=zdfsite.isIOS,h=n(69),m=n(7),v=(e=function(e){function n(e,t){var o;(0,r.default)(this,n),(o=(0,a.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))).scrollEventElement=null,o.lastScrollTop=0,o.twoClickValidationNeeded=!1,o.searchButton=o.query(".search-submit"),o.placeholder=o.$element.find(".search-clearinput"),o.typeahead=o.$element.find('[data-module="typeahead"]').rbComponent(),o.scrollDetect=i.throttle(o.scrollDetect,{that:o}),o.options.scrollExpand&&o.addScroll(),o.isOpen&&o.initChildComponents();var s=document.getElementsByClassName(o.options.selectToListen)[0];return s.addEventListener("change",o.selectChangeHandler.bind(o)),o.setSearchParams(s),m.ready.then((function(){var e=m.getState().profile,t=e.abConfigName,n=e.abGroupName;t&&n&&(o.abGroupName=n,o.abConfigName=t,o.applyABSettings())})),o}return(0,l.default)(n,e),(0,s.default)(n,null,[{key:"defaults",get:function(){return{scrollExpand:!1,scrollContainerUpdate:"",classForSearchOpen:"m-search-open",classForFilterOpen:"m-filter-open",selectToListen:"select-category",openClass:"m-op"data-search-paths",teilbereichAttr:"data-search-teilbereich"}}},{key:"events",get:function(){return{"{name}change":"initChin(e){this.toggleFilterSn)},"{name}changed":function(e){this.scrollTopFixed(),this.toggleOpenStatus(this.options.classForSearchOpen)},typeaheadselected:function(e){this.searchButton.click()},"submit:closest(form)":function(e){h.trackClick(this.searchButton)}}}}]),(0,s.default)(n,[{key:"applyABSettings",value:function(){var e=document.createElement("input");e.type="hidden",e.name="abGroup",e.value=this.abGroupName;var t=document.createElement("input");t.type="hidden",t.name="abName",t.value=this.abConfigName;var n=this.query("form");n.appendChild(t),n.appendChild(e)}},{key:"selectChangeHandler",value:function(e){var t=e.currentTarget.options[e.currentTarget.selectedIndex],n=JSON.parse(t.getAttribute(this.options.twoClickValidationAttr));this.placeholder.rbComponent().updatePlaceholder(t),this.searchButton.setAttribute(this.options.twoClickValidationAttr,this.getTwoClickValidationFlag(n)),this.typeahead.setOption("teilbereich",t.getAttribute(this.options.teilbereichAttr)||!1)}},{key:"setSearchParams",value:function(e){var t=e.options[e.selectedIndex],n=t.getAttribute(this.options.twoClickPathAttr),i=JSON.parse(t.getAttribute(this.options.twoClickValidationAttr));this.placeholder.rbComponent().updatePlaceholder(t),this.typeahead.setOption("teilbereich",t.getAttribute(this.options.teilbereichAttr)||!1),thisbute(this.options.twoClickPathAttr,n),this.searchButton.setAttribute(this.options.twoClickValidationAttr,this.getTwoClickValidationFlag(i))}},{key:"getTwoClickValidationFlag",value:function(e){return this.twoClickValidationNeeded!==e}},{key:"initChildComponents",value:function(){var e=this;this.isChildComponentsInitialized||(this.isChildComponentsInitialized=!0,this.queryAll(".js-search-bar-component").forEach((function(t){e.component(t)})))}},{key:"toggleFilterStatus",value:function(e,t){e.className.indexOf(this.options.openClass)>-1?(c("body").addClass(t),c(".search-trigger").addClass("m-active")):(c("body").removeClass(t),c(".search-trigger").removeClass("m-active"))}},{key:"toggleOpenStatus",value:function(e){this.isOpen?(c("body").addClass(e),c(".search-trigger").addClass("m-active").attr("aria-expanded","true")):(c("body").removeClass(e),c(".search-trigger").removeClass("m-active").attr("aria-expanded","false"))}},{key:"_switchOn",value:function(){(0,o.default)(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_switchOn",this).call(this),!0===t()&&this.element.setAttribute("aria-hidden","true")}},{key:"_opened",value:function(e){(0,o.default)(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_opened",this).call(this,e),!0===t()&&this.element.setAttribute("aria-hidden","true")}},{key:"_closed",value:function(e){(0,o.default)(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_closed",this).call(this,e),!0===t()&&this.element.setAttribute("aria-hidden","true")}},{key:"_scrollTopFixed",value:function(){this.isOpen&&!f(this.element)&&c(i.getPageScrollingElement()).animate({scrollTop:0})}},{key:"scrollTopFixed",value:function(){this.isOpen&&p&&i.getPageScrollingElement().scrollTop&&setTimeout(this._scrollTopFixed,450)}},{key:"setOption",value:function(e,t){(0,o.default)(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setOption",this).call(this,e,t),"scrollExpand"==e&&(this.removeScroll(),t&&this.addScroll()),"scrollContainerUpdate"==e&&(this.removeScroll(),this.options.scrollExpand&&this.addScroll())}},{key:"scrollDetect",value:function(){var e,t=i.getPageScrollingElement().scrollTop,n=t;e=n>this.lastScrollTop?t>200&&this.isOpen:t<200&&!this.isOpen,this.lastScrollTop=n,e&&this.toggle({setFocus:!1})}},{key:"getScrollEvtElement",value:function(){var e=i.getPageScrollingElement();return e.matches("html, body")?window:e}},{key:"addScroll",value:function(){this.scrollEventElement&&this.removeScroll(),this.scrollEventElement=this.getScrollEvtElement(),this.scrollEventElement.addEventListener("scroll",this.scrollDetect)}},{key:"removeScroll",value:function(){(this.scrollEventElement||this.getScrollEvtElement()).removeEventListener("scroll",this.scrollDetect),this.scrollEventElement=null}}]),n}(i.components["js-panel"]),(0,u.default)(e.prototype,"_scrollTopFixed",[d.autobind],Object.getOwnPropertyDescriptor(e.prototype,"_scrollTopFixed"),e.prototype),e);return i.live.register("searchbar",v),v},"object"===(0,c.default)(e)&&e.exports?(n(310),e.exports=i()):i()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(103),n(49),n(82),n(15);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4));n(33),n(56);var l=i(n(53)),u=i(n(792)),c=window.rb,d=c.$,f=function(e,t){var n=e.selected?c.statePrefix+"checked":"",i=e.disabled?c.statePrefix+"disabled":"",r=e.disabled?0:Math.round(666*Math.random()),a=t.strikeFake?'<span class="listbox-extra">'.concat(r,"</span>"):"",o=e.getAttribute("class")||"";return o.length>0?'<hr class="listbox-item '.concat(n," ").concat(i," ").concat(o,'">'):'<li class="listbox-item '.concat(n," ").concat(i," ").concat(o,'" data-label="').concat(e.label,'"><span class="listbox-value">').concat((0,u.default)(e.text),"</span>").concat(a,"</li>")},p=function(e,t){return'<li class="listbox-header"><span class="listbox-value">'.concat((0,u.default)(e.label),"</span></li>")},h=function(e){function t(e,n){var i;return(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),c.rAFs(i,{that:i},"_renderMain","_generateList","updateSelectedValue","updateExpanded","_setSearchPosition"),i._onOutsideAction=i._onOutsideAction.bind(i),i._handleSearchBoxKeyPress=i._handleSearchBoxKeyPress.bind(i),i.select=i.query("select"),i._generateElements(),i._setupEvents(),i._renderMain(),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:functionable:!1,searchPlaceholder:"Suche",needle:"",noNeedleItems:"all",focusSearch:!1,focusBeforeSearchSel:"",focusAfterSearchSel:""}}},{key:"events",get:function(){return{"click:selectbox-input":function(e){e.preventDefault(),this.toggle()},"keydown:keycodes(32)":function(eefault(),this.toggle())},"keydown:keycodes(38 40)":function(e){e.preventDefault(),this.popover.open()},"keydown:keycodes(27)":function(){this.popover.close()}}}}]),(0,o.default)(t,[{key:"toggle",value:function(){this.popover.toggle()}},{key:"_setSearchPosition",value:function(){var e=this;this.searchBoxContainer&&setTimeout((function(){e.popoverElement.classList.contains("is-flipped-y")?e.popover.$element.append(e.searchBoxContainer):e.popover.$element.prepend(e.searchBoxContainer)}),300)}},{key:"_generateList",value:function(){var e=Array.from(this.select.children),t=function e(t,n){return t.map((function(t){return"OPTGROUP"===t.nodeName?[p(t,n)].concat((0,l.default)(e(Array.from(t.children),n))).join(""):f(t,n)})).join("")}(Array.from(e),this.options);this.listboxElement.innerHTML="<ul>"+t+"</ul>",this.listbox._getElements(),this.allListboxElements=this.listbox.$queryAll("[data-label]").elements}},{key:"_onOutsideAction",value:function(e){document.body.contains(e.target)&&!c.contains([this.element,this.popoverElement],e.target)&&this.popover.close()}},{key:"_setupEvents",value:function(){var e=this;this.listboxElement.addEventListener("listboxchanged",(function(t){e.select.selectedIndex=e.listbox.selectedIndex,e.updateSelectedValue(),e.popover.close(),e.setFocus(e.element),c.events.dispatch(e.select,"change")})),this.popoverElement.addEventListener("popoverchange",(function(t){e.popover.isOpen||e.setListDimensions(e.element.offsetWidth,c.root.clientHeight/2),e.showFilteredResults(),e._setSearchPosition()})),this.popoverElement.addEventListener("popoverchanged",(function(t){document.removeEventListener("mousedown",e._onOutsideAction),document.removeEventListener("focusin",e._onOutsideAction),e.popover.isOpen&&(document.addEventListener("mousedown",e._onOutsideAction),document.addEventListener("focusin",e._onOutsideAction),e.options.focusSearch&&setTimeout((function(){e.searchBoxElement.focus()}),600)),e.listbox.setOption("disconnected",!e.popover.isOpen),e.updateExpanded()}))}},{key:"setListDimensions",value:function(e,t){this.popoverElement.style.width=e+"px",d(this.popoverElement).find(".".concat(this.interpolateName("{name}-listbox"))).css({maxHeight:t+"px"})}},{key:"updateExpanded",value:function(){this.popover.isOpen||this.element.removeAttribute("aria-activedescendant"),this.element.setAttribute("aria-expanded",this.popover.isOpen),this._setSearchPosition()}},{key:"showFilteredResults",value:function(){if(this.options.searchable){this.selectedSearchIndex=-1;var e=this.options,t=e.needle,n=e.noNeedleItems,i=this.listbox.$queryAll("[data-label]");if(""===t.trim()&&"none"===n)return i.addClass("m-hide"),void this.listbox.$element.addClass("m-no-result");if(""===t.trim()&&"all"===n)return i.removeClass("m-hide"),void this.listbox.$element.removeClass("m-no-result");if(""!==t.trim())i.addClass("m-hide"),0===i.filter((function(e,n){var i=n.getAttribute("data-label").toLowerCase(),r=new RegExp("(?:^|\\s)"+t,"gi");return!!i.match(r)})).removeClass("m-hide").length?this.listbox.$element.addClass("m-no-result"):this.listbox.$element.removeClass("m-no-result")}}},{key:"_generateElements",value:function(){var e=this;this.inputElement=document.createElement("span"),this.inputElement.className=this.interpolateName("{name}-input"),this.popoverElement=d(document.createElement("div")).prop({className:this.interpolateName("{name}-popover")}).get(0),this.listboxElement=d(document.createElement("div")).prop({className:this.interpolateName("{name}-listbox")}).get(0),this.popover=this.component(this.popoverElement,"popover",{my:"left top",at:"left bottom",anchor:this.element,collision:"none",setDisplay:!0,displayTimer:600}),this.listbox=this.component(this.listboxElement,"listbox",{focusElement:this.element,disconnected:!0,checkWithSpace:!0}),this.options.searchable&&(this.searchBoxContainer=d(document.createElement("div")).prop({className:"".concat(this.interpolateName("{name}-search"))}).get(0),this.searchBoxElement=d(document.createElement("input")).prop({className:"input ".concat(this.interpolateName("search-input")),name:"search",placeholder:this.options.searchPlaceholder,type:"text",autocomplete:"off",value:""}).attr({tabindex:-1}).get(0),this.searchResetButton=d(document.createElement("button")).prop({className:"".concat(this.interpolateName("search-clearbtn icon-209_close"))}).attr({tabindex:-1,"aria-label":"Eingabe löschen"}).get(0),this.searchBoxContainer.appendChild(this.searchBoxElement),this.searchBoxContainer.appendChild(this.searchResetButton),this.searchBoxElement.addEventListener("keydown",this._handleSearchBoxKeyPress),this.searchBoxElement.addEventListener("input",(function(t){e.options.needle=t.target.value.toLowerCase(),e.showFilteredResults()})),this.searchResetButton.addEventListener("mouseup",(function(t){e.options.needle="",e.searchBoxElement.value="",e.searchBoxElement.focus(),e.showFilteredResults()})),this.popoverElement.appendChild(this.searchBoxContainer)),this._generateList(),this.popoverElement.appendChild(this.listboxElement)}},{key:"_handleSearchBoxKeyPress",value:function(e){var t=e.keyCode;if(38===t||40===t){var n=this.listbox.$queryide)").elements,i=38===t?this.selectedSearchIndex-1:this.selectedSearchIndex+1;this.selectedSearchIndex=Math.max(0,Math.min(n.length-1,i));var r=n[this.selectedSearchIndex],a=this.allListboxElements.findIndex((function(e){return e===r}));this.listbox.select(Math.max(0,a)),this.listbox.scrollIntoView(r)}if(13===t&&(c.events.dispatch(this.select,"keyboardSelect"),this.listbox.checkSelected()),9===t){var o=e.shiftKey?this.options.focusBeforeSearchSel:this.options.focusAfterSearchSel;if(o){var s=document.querySelector(o);s&&(e.preventDefault(),s.focus())}}}},{key:"_renderMain",value:function(){this.$element.attr({tabindex:0,role:"combobox"}),this.$element.prepend(this.inputElement),(this.element.closest(this.options.appendTo)||document.body).appendChild(this.popoverElement),this.updateSelectedValue()}},{key:"setSelectedIndex",value:function(e){return this.select.options[e].selected=!0,this.listbox.select(e),this.listbox.checkSelected(),this.updateSelectedValue(),this}},{key:"reset",value:function(){return this.setSelectedIndex(0),this.searchBoxElement&&(this.searchBoxElement.value=""),this}},{key:"resetSearch",value:function(){return this.searchBoxElement&&(this.searchBoxElement.value="",this.options.needle="",this.showFilteredResults()),this}},{key:"setSelectedValue",value:function(e){var t=Math.max(Array.from(this.select.options).findIndex((function(t){return t.value===e})),0);return this.setSelectedIndex(t),this}},{key:"updateSelectedValue",value:function(){var e=c.escape(this.valueText);this.valueDataHtml?this.inputElement.innerHTML=this.valueDataHtml+'<span class="icon-203_arrow-down" aria-hidden="true"></span>':this.inputElement.inn"></span>',this.$element.attr({"aria-valuetext":e,"aria-value":e})}},{key:"enable",value:function(){return this.$element.removeClass("m-disabled"),this}},{key:"disable",value:function(){return this.$element.addClass("m-disabled"),this}},{key:"valueText",get:function(){var e=this.select.options[this.select.selectedIndex];return e&&e.text||""}},{key:"valueDataHtml",get:function(){var e=this.select.options[this.select.selectedIndex];return e&&e.getAttribute("data-html")?e.getAttribute("data-html"):null}},{key:"value",get:function(){var e=this.select.options[this.select.selectedIndex];return e&&e.value||""}}]),t}(c.Component);c.live.register("selectbox",h);var m=h;t.default=m},function(e,t,n){"use strict";var i,r,a;n(17),n(82),n(9),n(8),n(5),n(18),n(49),r=[t,n(40)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,i,r,a:"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(e){return i[e]},a="(?:"+Object.keys(i).join("|")+")",o=new RegExp(a),s=new RegExp(a,"g"),function(e){return e=null==e?"":""+e,o.test(e)?e.replace(s,r):e}),window._||(window._={}),_.escape||(_.escape=l.default.escape),e.default=l.default.escape})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11),l=n(47).openCMPSettings;t=function(){var e=window.rb,t=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),r(t,[{key:"onClick",value:function(e){switch(this.options.clickAction){case"openPreferenceCenter":l()}}}],[{key:"events",get:function(){return{"click:closest(.cmp-action)":"onClick"}}}]),t}(e.Component);return e.live.register("cmp-action",t),t},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);n(15);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4));n(10);var l=n(48),u=window.rb,c=l.STORAGE_KEYS.USE_DARKMODE.name,d=function(e){function t(e,n){var i;(0,r.default)(this,t),i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));var o=u.$(".b-switch");return o.length>0&&(i.darkModeSwitch=o.find(".switch-input-with-icon").get(0),i.darkModeSwitchTextActivate=o.get(0).nextElementSibling,i.darkModeSwitchTextDeactivate=i.darkModeSwitchTextActivate.nextElementSibling),i.input=i.query("input"),i.initSwitchField(),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"events",get:function(){return{"change:closest(input)":"updateToggle"}}}]),(0,o.default)(t,[{key:"updateToggle",value:function(e){var t=this,n=this.input.checked;u.$(le-key")&&(e.checked=n,t.updateDarkModeClass(n),t.updateDarkMode(n))})),u.storage.local.set(c,n)}},{key:"updateDarkModeClass",value:function(e){e?document.body.classList.add("is-darkmode"):document.body.classList.remove("is-darkmode")}},{key:"updateDarkMode",value:function(e){var t,n,i,r,a;e?(null===(n=this.darkModeSwitchTextDeactivate)||void 0===n||n.classList.remove("hide"),null===(i=this.darkModeSwitchTextActivate)||void 0===i||i.classList.add("hide")):(null===(r=this.darkModeSwitchTextDeactivate)||void 0===r||r.classList.add("hide"),null===(a=this.darkModeSwitchTextActivate)||void 0===a||a.classList.remove("hide"));null===(t=this.darkModeSwitch)||void 0===t||t.setAttribute("title","Anzeigemodus ändern")}},{key:"initSwitchField",value:function(){var e=document.body.classList.contains("is-darkmode");this.input.checked=e,this.updateDarkMode(e)}}]),t}(u.Component);u.live.register("darkmode-switcher",d)},function(e,t,n){"use strict";(function(e){var t=n(2);n(22),n(19),n(9),n(8),n(5),n(18);var i=t(n(53)),r=t(n(21)),a=t(n(98));n(10);var o,s=t(n(0)),l=t(n(3)),u=t(n(1)),c=t(n(4)),d=t(n(11)),f=t(n(442)),p=t(n(113));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o=function(){var e=window.rb,t=e.$,r=n(7),o=n(159),d=n(162),h=function(n){function f(t,n){var i;return(0,s.default)(this,f),i=(0,l.default)(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,n)),e.rAFs(i,"updateSelectWithAbGroups"),r.ready.then((function(){i.profile=r.getState().profile,i.profile.abGroupName&&i.selectAbGroup(i.profile.abGroupName),i.updateSelectWithAbGroups()})),i}return(0,c.default)(f,n),(0,u.default)(f,null,[{key:"events",get:function(){return{"click:.download-btn":"downloadPersonalizationData","change:find(.abgroup-select)":function(e){var t=e.target.value;t&&(-1===t.indexOf("://")&&this.selectAbGroup(e.target.value),window.location.reload(!1))}}}}]),(0,u.default)(f,[{key:"updateSelectWithAbGroups",value:function(){var n=this.query(".abgroup-select"),i=this.query(".b-selectbox"),r=zdfsite.abGroupToNodesMapping[0].pages[0].groups.map((function(e){return e.group}));n.innerHTML=r.reduce((function(t,n){return t+'<option value="'.concat(e.escape(n),'">').concat(e.escape(n),"</option>")}),""),n.value=this.currentAbGroup,setTimeout((function(){t(i).rbComponent()}))}},{key:"selectAbGroup",value:function(e){this.currentAbGroup=e,r.getMainUser().update({abGroupName:e})}},{key:"getPersonalizationData",value:function(t){var n="Anonym",s=r.getState();r.isLoggedIn()&&(n=s.getUserInfo().name+" (".concat(t.mainAccountHint,")"),n=e.escape(n));var l=r.isLoggedIn()?t.userId:t.trackingId,u=r.isLoggedIn()?s.getUserId():s.getTrackingId(),c={};c[l]=u;var f=[{Benutzername:n},c,{"App-ID":zdfsite.appId}],h=r.getMainUser().getProfile(),v=[{"A/B-Test-Name":h.abConfigName},{"Verfallsdatum des A/B-Tests":h.abTestExpirationDate},{"A/B-Gruppe":h.abGroupName}],g=r.getViewHistory(),y=r.getPlaybackHistory(),b=d.evaluatePreferences(),_=[{"Präferenzen":b||t.noData}],w=[];r.getAllStorageKeys().forEach((function(e){if(p.default.local.get(e)){var t={};t[e]=p.default.local.get(e),w.push(t)}}));var k=r.isLoggedIn()?"main":"anon",S=p.default.local.get(o.getSettingsStorageKey(k,u));this.addPropsToLocalStorageItems(S,w);var O=p.default.local.get(o.getDetailsStorageKey(k,u));this.addPropsToLocalStorageItems(O,w);var E=p.default.local.get(o.getInfoStorageKey(k,u));return this.addPropsToLocalStorageItems(E,w),[{data:[{title:t.userInfo,items:f},{title:t.abTestInfo,items:v},{title:t.viewHistory,items:g.getItems().map((function(e){return e.duration,e.eventType,m({},(0,a.default)(e,["duration","eventType"]))}))},{title:t.playbackHistory,items:y.getItems().map((function(e){return e.duration,e.eventType,m({},(0,a.default)(e,["duration","eventType"]))}))},{title:t.bookmarks,items:[].concat((0,i.default)(h.bookmarks.map((function(e){return e.twitterTitle,e.path,e.endDate,m({},(0,a.default)(e,["twitterTitle","path","endDate"]))}))))},{title:t.subscriptions,items:[].concat((0,i.default)(h.subscriptions.map((function(e){return e.twitterTitle,e.path,e.endDate,m({},(0,a.default)(e,["twitterTitle","path","endDate"]))}))))},{title:t.preferences,items:_},{title:t.localStorage,items:w}]}]}},{key:"addPropsToLocalStorageItems",value:function(e,t){for(var n in e){var i={},r=e[n];r&&r.constructor!==[].constructor&&r.constructor!=={}.constructor?i[n]=r+" ":i[n]=JSON.stringify(r),t.push(i)}}},{key:"attached",value:function(){var e=this;r.ready.then((function(){var t=e.options.locales;window.scrollTo(0,0);var n=e.getPersonalizationData(t);try{e.render(n)}catch(t){e.renderError()}}))}}]),f}(f.default);return e.live.register("personalization-summary",h),h},"object"===(0,d.default)(e)&&e.exports?e.exports=o():o()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(4),o=n(11);t=function(){var e=function(e){function t(e,n){var a;i(this,t),a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));var o=document.documentElement;return window.navigator.userAgent.indexOf("TiviApp/")>-1&&o.classList.add("m-tivi-settings"),a}return a(t,e),t}(rb.Component);return rb.live.register("tivi-sub-profiles",e),e},"object"===o(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(28),n(26),n(15);var r,a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(23)),c=n(24),d=window.rb,f=d.$,p=(r=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).items=i.queryAll(".navigation-bar-item"),windoreturn(0,l.default)(t,e),(0,o.default)(t,[{key:"updateView",value:function(){var e,t;f(this.items).removeClass("active");var n=window.location.href;null===(e=this.items.find((function(e){var t=e.getAttribute("href");return n.includes(t)})))||void 0===e||null===(t=e.classList)||void 0===t||t.add("active")}}]),t}(d.Component),(0,u.default)(r.prototype,"updateView",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"updateView"),r.prototype),r);d.live.register("settings-nav-bar",p);var h=p;t.default=h},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(4),o=n(11);t=function(){var e=window.rb,t=(e.$,function(e){function t(e,n){var a;i(this,t),a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));var o=document.documentElement;return window.navigator.userAgent.indexOf("TiviApp/")>-1&&o.classList.add("m-tivi-settings"),a}return a(t,e),t}(e.Component));return e.live.register("tivi-user-data",t),t},"object"===o(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(1),a=n(3),o=n(35),s=n(4),l=n(11);t=function(){var e=window.rb,t=e.$,l=function(e){function n(e,t){var r;return i(this,n),(r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))).isInitialized=!1,r.maxItems=r.options.count,r}return s(n,e),r(n,[{key:"initialize",value:function(){}},{key:"elementsFiltered",value:function(){if(this.isInitialized){if(!this.active)return void this.hideShowFallback();var e=this.queryAll(this.options.items+".m-showmore-item:not(.m-hidden)");e.length>this.maxItems?(t(e.slice(this.maxItems)).removeClass("m-showmore-item"),this.hideShowButton()):e.length<this.maxItems?this.showNext({showLength:this.maxItems-e.length}):this.hideShowButton()}else this.initializeVisibleItems(),this.isInitialized=!0}},{key:"onShowMoreButtonClicked",value:function(){this.maxItems+=this.options.count,o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onShowMoreButtonClicked",this).call(this)}},{key:"getItemsToShow",value:function(e){var n=e&&e.showLength||this.options.count,i=this.queryAll(this.options.items+":not(.m-showmore-item):not(.m-hidden)"),r=i.length>n?n:i.length;return t(i.slice(0,r))}}]),n}(n(444));return e.live.register("showmore-filter",l),l},"object"===l(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=n(110),d=n(24),f=n(47),p=n(135);n(801);var h=window.rb,m=(r=function(e){function t(e,n){var i;switch((0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).contentWrapper=i.query(i.options.contentSelector),i.contentTemplate=i.query(i.options.contentTemplateSelector),i.options.type){case"twitter":i.consentGroup=p.OT_CONSENT_GROUPS.TWITTER,i.scriptUrl=i.options.twitterScriptUrl;break;case"facebook":i.consentGroup=p.OT_CONSENT_GROUPS.FACEBOOK,i.scriptUrl=i.options.facebookScrctor:"#social-media-quote-content",twitterScriptUrl:"//platform.twitter.com/widgets.js",facebookScriptUrl:"//connect.facebook.net/de_DE/sdk.js#xfbml=1&version=v2.10",instagramScriptUrl:"//platform.instagram.com/en_US/embeds.js",type:""}}},{key:"events",get:function(){return{"click:closest(.agree-btn)":"onAgreeClick"}}}]),(0,s.default)(t,[{key:"attached",value:function(){(0,f.addConsentChangedListener)(this.updateConsent)}},{key:"detached",value:function(){this.removeConsentListener()}},{key:"onAgreeClick",value:function(){(0,c.setConsentForGroup)(this.consentGroup)}},{key:"updateConsent",value:function(){if(this.hasConsent())try{this.contentWrapper.innerHTML=this.contentTemplate.innerHTML,h.loadScriror("Error in rawblock:",e)}}},{key:"hasConsent",value:function(){return(0,c.getCurrentConsentGroups)().indexOf(this.consentGroup)>-1}},{key:"removeConsentListener",value:function(){(0,f.removeConsentChangedListener)(this.updateConsent)}}]),t}(h.Component),(0,u.default)(r.prototype,"updateConsent",[d.autobind],Object.getOwnPropertyDescriptor(r.prototype,"updateConsent"),r.prototype),r);h.live.register("social-media-quote-cmp",m);var v=m;t.default=v},function(e,t,n){"use strict";var i,r,a;r=[t,n(206)],void 0===(a="function"==typeof(i=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=t)&&n.__esModule?n:{default:n},r=window.rb,a={};r.loadScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a[e]){var n=document.createElement("script"),o=function(){(document.body||document.documentElement).appendChild(n),n=null};a[e]=(0,i.default)(),n.addEventListener("load",(function(){a[e].resolve()})),n.addEventListener("error",(function(){r.logWarn("load script error. Configure rb.packageConfig? src: "+e),a[e].resolve()})),n.src=e,n.async=!!t.async,n.defer=!!t.defer,document.body&&!t.instantInject?(r.rAFQueue||requestAnimationFrame)(o):o()}return a[e]},r.loadScript.rb_promises=a,e.default=r.loadScript})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14);var r=i(n(21));n(57);var a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(4)),u=i(n(52));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var d=window.rb,f=d.$,p=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).updateShareUrl(),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"updateShareUrl",value:function(){try{var e=void 0,t=-1!==window.location.hash.indexOf("feed-item-"),n=-1!==window.location.search.indexOf("slide"),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,u.default)(window.location.hash.substr(1))),a=(e=t?"".concat(location.origin).concat(location.pathname).concat(window.location.hash):n?"".concat(location.origin).concat(location.pathname).concat(window.location.search):"".concat(location.origin).concat(location.pathname,"#").concat(f.param(i))).split("#");if(a[1]&&a[1].length>0){var o=f.q('[data-module="plusbar"]').first().rbComponent();o&&(history.replaceState({},"",e),o.updateBaseData({url:e}))}}catch(e){d.logError(e)}}}]),t}(d.Component);d.live.register("js-stage-sharing",p);var h=p;t.default=h},function(e,t,n){"use strict";(function(e){n(10);var t,i=n(0),r=n(1),a=n(3),o=n(4),s=n(11);t=function(){var e=window.rb,t=e.$,s=n(445),l=n(7),u=function(e){function n(e,r){var o;return i(this,n),(o=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,r))).video=o.query(".motion-graphic"),o.image=o.query(".artdirect"),o.selectedSliderElement=null,o.playEventTimeout=null,o.metaDataLoaded=!1,o.$clickArea=o.query(".video-clickarea"),o.isSlider=t(e).closest(".x-slider").length>0,o.isSlider&&(o.$slider=t(e).closest(".x-slider"),o.$sliderItem=t(e).closest("."+o.$slider.rbComponent().name+"-cell").elements[0]),o.togglePlayState=o.togglePlayState.bind(o),o.onVideoNoAutoplay=o.onVideoNoAutoplay.bind(o),o.onSliderChange=o.onSliderChange.bind(o),o.onSliderChangeComplete=o.onSliderChangeComplete.bind(o),o}return o(n,e),r(n,[{key:"setup",value:function(){var e=this;this.video&&this.options.videoAutoplay?s(this.video).then((function(){e.activateVideo()})).catch((function(){e.activateImage()})):this.activateImage()}},{key:"activateVideo",value:function(){if(this.isSlider){var e=this.$slider.rbComponent();this.$slider.on(e.name+"changed",this.onSliderChange),this.$slider.on(e.name+"changedcompleted",this.onSliderChangeComplete)}t(this.video.parentNode).removeClass("visuallyhidden"),this.image.hidden=!0,t(this.$clickArea).addClass("x-click"),t(this.$clickArea).on("click",this.togglePlayState),t(this.video).on("click",this.togglePlayState),this.stopAndRewindVideo(),this.isSlider?this.onSliderChange():this.video.play()}},{key:"activateImage",value:function(){if(this.isSlider){var e=this.$slider.rbComponent();this.$slider.off(e.name+"changed",this.onSliderChange),this.$slider.off(e.name+"changedcompleted",this.onSliderChais.image.hidden=!1,t(this.$clickAk",this.togglePlayState),this.stopAndRewindVideo()}},{key:"togglePlayState",value:function(){this.video.paused?this.video.play():this.video.pause()}},{key:"stopAndRewindVideo",value:function(){this.video.pause(),this.video.currentTime=0}},{key:"onSliderChange",value:function(){var e=this.$slider.rbComponent();this.selectedSliderElement=e.cellData[e.selectedIndex].elem,this.selectedSliderElement==this.$sliderItem&&this.video.play()}},{key:"onSliderChangeComplete",value:function(){this.selectedSliderElement==this.$sliderItem||this.video.paused||(this.video.pause(),this.video.currentTime=0)}},{key:"onVideoNoAutoplay",value:function(e){this.setOption("videoAutoplay",!e),this.setup()}},{key:"attached",value:function(){l.subscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0)}},{key:"detached",value:function(){l.unsubscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0)}}],[{key:"defaults",get:function(){return{videoAutoplay:!0}}}]),n}(e.Component);return e.live.register("stage-teaser-controls",u),u},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(15);var r=i(n(0)),a=i(n(3)),o=i(n(35)),s=i(n(1)),l=i(n(4)),u=i(n(161)),c=window.rb,d=c.$,f=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)))._curContentId="",i.relatedElementHeight=0,i.relatedHeightElement=i.getElementsByString(i.options.rel},"updateHeight"),i.getHeight=i.getHeight.bind(i),i.getHeight(),i.installHeight(),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{closeOnEsc:!0,relatedHeightElement:"prevAll(.b-stage)",setFocus:!0}}},{key:"events",get:function(){return{}}}]),(0,s.default)(t,[{key:"updateHeight",value:function(){this.relatedElementHeight&&(this.element.style.height=this.relatedElementHeight+"px")}},{key:"getHeight",value:function(){if(this.relatedHeightElement){var e=this.relatedHeightElement.getBoundingClientRect().bottom+c.getPageScrollingElement().scrollTop;e&&e!==this.relatedElementHeight&&(this.relatedElementHeight=e,this.updateHeight())}}},{key:"installHeight",value:function(){this.relatedHeightElement?c.events.add(this.relatedHeightElement,"rb_resize",this.getHeight):this.logWarn("no related height element found",this.options.relatedHeightElement)}},{key:"open",value:function(e){var n=this,i=void 0,r=function(){n.startVideo()};this.contentElement&&e&&e.contentId&&this._curContentId!=e.contentId&&(i=document.getElementById(e.contentId))?(this._curContentId=e.contentId,c.rAFQueue((function(){n.contentElement.innerHTML=i.innerHTML,c.rIC(r)}))):c.rIC(r),(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,e)}},{key:"close",value:function(e){this.pauseVideo(),(0,o.default)(t.prototype.__proto__||Object.getPrototypeOf(tgetPlayer",value:function);return e&&e.play||(this.logWarn("player not found or ready",e),e=null),e}},{key:"startVideo",value:function(){var e=this.getPlayer();e&&e.play()}},{key:"pauseVideo",value:function(){var e=this.getPlayer();e&&e.isInitialized&&e.pause()}}]),t}(u.default);c.ready.then((function(){c.click.add("stageoverlaypanel",(function(e,t,n){var i=void 0,r=c.jsonParse(n);zdfsite.isTiviApp||("string"==typeof r&&(r={id:r}),(i=document.getElementById(r.id))&&(i=c.getComponent(i))&&(i.open(r),t.preventDefault()))}))})),c.live.register("stageoverlaypanel",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.JSScroller=void 0,n(17),n(34),n(5),n(82),n(15),n(10);var r,a=i(n(0)),o=i(n(3)),s=i(n(35)),l=i(n(1)),u=i(n(4)),c=i(n(23)),d=i(n(246)),f=n(24),p=i(n(247)),h=n(69),m=n(7),v=window.rb,g=v.$;function y(){this.options.autoplay&&this.setOption("autoplay",!1)}d.default.defaults.mandatorySnap=!0;var b=(r=function(e){function t(e,n){var i;return(0eOf(t)).call(this,e,n))).isCloned=!1,i.onNoObtrusiveAnimation=i.onNoObtrusiveAnimation.bind(i),i}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"defaults",get:function(){return{mandatorySnap:!0,autoplay:!0,centerMode:!0,minClone:3}}},{key:"events",get:function(){return{"touchstart:capture()":y,"mousedown:capture()":y,"focus:capture()":y,click:y,"{name}changed":function(e){var t=this;!this.options.autoplay&&this.element.hasAttribute("data-track-view")&&v.rAFQueue((function(){h.trackView(t.element)}))},updateStagePagination:"updateStagePagination"}}}]),(0,l.default)(t,[{key:"onNoObtrusiveAnimation",value:function(e){this.setOption("autoplay",!e)}},{key:"attached",value:function(){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),m.subscribe("noObtrusiveAnimation",this.onNoObtrusiveAnimation,!0)}},{key:"detached",value:function(){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),m.unsubscribe("noObtrusiveAnimation",this.onNoObtrusiveAnimation,!0)}},{key:"_setupTouch",value:function(){g.fn.draggy&&g(this.viewport).draggy({vertical:!1,useMouse:this.options.mouseDrag,useWheel:this.options.wheel,exclude:this.options.dragExclude,start:this._dragStart,end:this._dragEnd,move:this._dragMove,preventMove:!1})}},{key:"_dragMove",value:function(e,n){e.relPos.y||(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_dragMove",this).call(this,e,n)}},{key:"updateStagePagination",value:function(e){var t=this;e.stopImmediatePropagation();var n=e.detail.numberOfRemovedTeasers,i=this.originalPageLength-n;if(i!==this.originalPageLength){this.originalPageLength=i,this.createPagination(i),this.updateCells(!0);var r=":not(.js-"+this.name+"-helper)";this.$scroller.children(r).find(".teaser-title-link").get().forEach((function(e,n){t.setTrackPosition(e,i,n)}))}}},{key:"setTrackPosition",value:function(e,t,n){var i=JSON.parse(e.getAttribute("data-track"));if(i.clickedTeaserPosition>t){var r=n+1,a=new RegExp(/HPos:(\w+)/);i.clickedTeaserPosition=r.toString(),i.actionDetail=i.actionDetail.replace(a,"HPos:"+r),e.setAttribute("data-track",JSON.stringify(i))}}},{key:"_updateControls",value:function(e){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateControls",this).call(this,e),this.hasDotAnimationEnabled&&this.addHoverClass()}},{key:"updateCells",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=":not(.js-"+this.name+"-helper)",r=this.$scroller.children(i);this.originalPageLength=r.length,r.length===this.options.minClone&&!1===n&&r.get().forEach((function(t,n){var i=t.cloneNode(!0);i.setAttribute("aria-hidden","true"),i.removeAttribute("tabindex"),g(".b-zdfplayer",i).addClass("js-rb-live"),e.scroller.appendChild(i)})),(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateCells",this).call(this)}},{key:"addHoverClass",value:function(){var e=this,t=this.$cells.elements;t.forEach((function(e){e.classList.remove("hover-transition-next"),e.classList.remove("hover-transition-prev")})),t.forEach((function(n,i){if(n.classList.contains("m-active"))if(0===i)t[e.$paginationBtns.length-1].classList.add("hover-transition-prev"),n.nextElementSibling.classList.add("hover-transition-next");else if(i===e.$paginationBtns.length-1)n.previousElementSibling.classList.add("hover-transition-prev"),t[0].classList.add("hover-transition-next");else{var r,a;null===(r=n.nextElementSibling)||void 0===r||r.classList.add("hover-transition-next"),null===(a=n.previousElementSibling)||void 0===a||a.classList.add("hover-transition-prev")}}));var n=t.find((function(e){return e.classList.contains("m-active")}));n&&(n.classList.contains("hover-transition-prev")?n.classList.remove("hover-transition-prev"):n.classList.contains("hover-transition-next")&&n.classList.remove("hover-transition-next"))}}]),t}(p.default),(0,c.default)(r.prototype,"updateStagePagination",[f.autobind],Object.getOwnPropertyDescriptor(r.prototype,"updateStagePagination"),r.prototype),r);t.JSScroller=b,v.live.register("js-stageitemscroller",b)},function(e,t,n){"use strict";(function(e){n(15);var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=e.$,n=function(n){function s(n,a){var o;return i(this,s),(o=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,n,a))).$btns=t(o.queryAll(".{name}-btn")),e.rAFs(o,{that:o},"showElements","hideElements","updateBtns","triggerSubComponents","updateEvenClass"),o.activeFilter="",o}return o(s,n),a(s,null,[{key:"defaults",get:function(){return{filterType:"station",duration:400}}},{key:"events",get:function(){return{"click:closest(.{name}-btn)":function(e){var t=e.delegatedTarget.getAttribute("data-filter");t&&this.toggleFilter(t)}}}}]),a(s,[{key:"toggleFilter",value:function(e){if(this.activeFilter==e)this.activeFilter="",this.showElements(this.$element.find("[data-"+this.options.filterType+"].m-hidden"));else{var t=this.$element.find("[data-"+this.options.filterType+"]:not(.m-hidden):not([data-"+this.options.filterType+'~="'+e+'"])'),n=this.$element.find("[data-"+this.options.filterType+'~="'+e+'"].m-hidden');this.activeFilter=e,this.hideElements(t),this.showElements(n)}this.updateEvenClass(),this.triggerSubComponents(),this._trigger(),this.updateBtns()}},{key:"triggerSubComponents",value:function(){this.updateShowMore(),this.updateScroller()}},{key:"updateScroller",value:function(){var t(e);this.$queryAll(".js-scrollbox-list").prop({scrollLeft:0}),t.reflow()}}},{key:"updateShowMore",value:function(){var t=this.queryAll('[data-module="showmore"]');t.length&&t.forEach((function(t){e.events.dispatch(t,"elementsfiltered")}))}},{key:"updateBtns",value:function(){this.$btns.removeClass("m-active").attr({"aria-pressed":"false"}),this.$element.toggleClass("m-filtered",!!this.activeFilter),this.activeFilter&&this.$btns.filter('[data-filter="'+this.activeFilter+'"]').addClass("m-active").attr({"aria-pressed":"true"})}},{key:"showElements",value:function(e){e.css({display:""}).removeClass("m-hidden")}},{key:"hideElements",value:function(e){e.addClass("m-hidden").css({display:"none"})}},{key:"updateEvenClass",value:function(){this.queryAll(".b-cluster-teaser:not(.m-hidden)").forEach((function(e,t){var n=t%2;e.classList.toggle("m-even",n),e.classList.toggle("m-odd",!n)}))}}]),s}(e.Component);return e.live.register("js-itemfilter",n),n},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i=n(0),r=n(3),a=n(1),o=n(4);!function(){var t=window.rb,n=t.$,s=function(e){function t(e,n){var a;return i(this,t),(a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)))._scrollHandler=a.scrollHandler.bind(a),a.element=e,a.extendedElements=a.getExtendedElements(),a.logoHeight=a.element.clientHeight,a.logoOffset=a.cumulativeOffset(a.element),a.lastScrollTop=0,a}return o(t,e),a(t,null,[{key:"defaults",get:function(){return{tolerance:40,extendedElements:[".x-notitle",".b-content-teaser-list",".b-cluster",".b-footer"],slowTransitionClass:"slow-transition",normalTransitionClass:"mid-transition",fastTransitionClass:"fast-transition",fixedScroll:150}}}]),a(t,[{key:"attached",value:function(){window.addEventListener("scroll",this._scrollHandler)}},{key:"selectTransition",value:function(e){e<10?this.$element.addClass(this.options.slowTransitions.$element.addClass(this.options.fastTransitionClass)}},{key:"hide",value:function(e){this.selectTransition(e),this.$element.addClass("m-hide")}},{key:"show",value:function(e){this.selectTransition(e),this.$element.removeClass("m-hide")}},{key:"detached",value:function(){window.removeEventListener("scroll",this._scrollHandler)}},{key:"cumulativeOffset",value:function(e){var t=0;do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t}},{key:"getExtendedElements",value:function(){for(var e=[],t=0;t<this.options.extendedElements.length;t++)e.push.apply(e,n(this.options.extendedElements[t]).elements);return e}},{key:"isOverlappingElement",value:function(e,t){for(var n=0;n<this.extendedElements.length;n++){var i=this.extendedElements[n],r=this.cumulativeOffset(i),a=r,o=r+i.offsetHeight,s=e+this.logoOffset;if(s+this.logoHeight>a-this.options.tolerance&&s<o+this.options.tolerance)return!0}return!1}},{key:"checkScrollSpeed",value:function(e){var t=e,n=0;return 0!==this.lastScrollTop&&(n=t-this.lastScrollTop),this.lastScrollTop=t,Math.abs(n)}},{key:"scrollHandler",value:function(e){var t=document.documentElement,n=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),i=!1;n>this.options.fixedScroll?(this.isFixed=!0,this.$element.addClass("x-sticky"),this.logoOffset=this.cumulativeOffset(this.element)):this.isFixed&&(this.$element.removeClass("x-sticky"),this.isFixed=!1),n>this.lastScrollTop&&(i=!0);var r=this.checkScrollSpeed(n);this.isOverlappingElement(n,i)?this.hide(r):this.show(r)}}]),t}(t.Component);t.live.register("sticky-logo",s),e.exports.StickyLogo=s}()},function(e,t,n){"use strict";(function(e){var t,i=n(0),r=n(3),a=n(1),o=n(4),s=n(11);t=function(){var e=window.rb,t=e.$,s=n(7),l=function(n){function l(t,n){var a;return i(this,l),a=r(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t,n)),e.rAFs(a,"disable"),a.isStopped=!1,a.onVideoNoAutoplay=a.onVideoNoAutoplay.bind(a),a}return o(l,n),a(l,null,[{key:"events",get:function(){return{click:"stopPlayers"}}}]),a(l,[{key:"stopPlayers",value:fuped=!0,s.dispatch("videoNoAutoplbox, [data-module="zdfplayer"]').each((function(e,n){var i=t(n).rbComponent();i&&i.isInitialized&&i.stop()})))}},{key:"disable",value:function(){this.element.disabled=!0}},{key:"onVideoNoAutoplay",value:function(e){e&&this.stopPlayers()}},{key:"attached",value:function(){s.subscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0)}},{key:"detached",value:function(){s.unsubscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0)}}]),l}(e.Component);return e.live.register("stopautoplay",l),l},"object"===s(e)&&e.exports?e.exports=t():t()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i,r,a,o,s;i=n(7),r=window.rb.$,a=void 0,o=void 0,s=!1,i.subscribe("useHighContrast",(function(e){e!=s&&(s=e,a&&o||(o=r("link[data-contrast-styles]"),(a=document.createElement("link")).href=o.attr("data-contrast-styles"),a.rel="stylesheet"),e?(document.body.classList.add("is-high-contrast"),o.after(a)):(document.body.classList.remove("is-high-contrast"),a.remove()))}))},function(e,t,n){"use strict";var i,r=n(2),a=r(n(0)),o=r(n(3)),s=r(n(1)),l=r(n(4)),u=r(n(23)),c=n(24),d=n(47),f=n(110),p=n(197),h=n(135),m=!1,v=(i=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).consentGroup=h.OT_CONSENT_GROUPS.THIRD_PARTY_PROVIDERS,i.contentWrapper=i.query(i.options.contentSelector),i.contentTemplate=i.query(i.options.contentTemplateSelector),i.polyfillTemplateTag(),i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{contentSelector:".thirdparty-wrap",contentTemplateSelector:"#thirdparty-content"}}},{key:"events",get:function(){return{"click:closest(.agree-btn)":"onAgreeClick"}}}]),(0,s.default)(t,[{key:"attached",value:function(){(0,d.addConsentChangedListener)(this.updateConsent)}},{key:"detached",value:function(){this.removeConsentListener()}},{key:"polyfillTemplateTag",value:function(){if("content"in document.createElement("template")||m)return!1;m=!0;for(var e=document.getElementsByTagName("template"),t=e.length,n=void 0,i=void 0,r=void 0,a=0;a<t;a++){for(i=(n=e[a]).childNodes,r=document.createDocumentFragment();i[0];)r.appendChild(i[0]);n.content=r}}},{key:"onAgreeClick",value:function(){(0,f.setConsentForGroup)(this.consentGroup)}},{key:"updateConsent",value:function(){this.hasConsent()&&(this.setTemplateContent(this.contentWrapper,this.contentTemplate.content.cloneNode(!0)),this.removeConsentListener())}},{key:"hasConsent",value:function(){return(0,f.getCurrentConsentGroups)().indexOf(this.consentGroup)>-1}},{key:"removeConsentListener",value:function(){(0,d.removeConsentChangedListener)(this.updateConsent)}},{key:"setTemplateContent",value:function(e,t){e.innerHTML="",e.appendChild(t),(0,p.executeScriptTags)(e),rb.events.dispatch(e,"domupdated")}}]),t}(rb.Component),(0,u.default)(i.prototype,"updateConsent",[c.autobind],Object.getOwnPropertyDescriptor(i.prototype,"updateConsent"),i.prototype),i);rb.live.register("thirdparty",v)},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(35)),l=i(n(4)),u=i(n(23));n(10);var c,d=n(24),f=n(48),p=window.rb,h=f.STORAGE_KEYS.TIVI_SCROLL_HINT.name,m=(c=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"setOption",value:function(e,n){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setOption",this).call(this,e,n),this.updateView()}},{key:"scroll",value:function(){var e=!1;this.saveAndHide();try{e=matchMedia("(prefers-reduced-motion: reduce)").matches}catch(e){}window.scroll?window.scroll({top:400,behavior:e?"auto":"smooth"}):window.scrollTo(0,400)}},{key:"attached",value:function(){this.updateView(),p.$(window).on("scroll",this.saveAndHide)}},{key:"saveAndHide",value:function(){p.storage.session.set(h,!0),this.hide()}},{key:"hide",value:function(){this.$element.removeClass("fade-in"),this.$element.addClass("fade-out")}},{key:"updateView",value:function(){var e=this;this.options.enabled?p.storage.session.get(h)||(this.$element.removeClass("hide"),this.$element.addClass("fade-in"),setTimeout((function(){e.hide()}),this.options.timeToHide)):this.$element.addClass("hide")}}],[{key:"events",get:function(){return{"click:closest(.button)":"scroll"}}},{key:"defaults",get:function(){return{enabled:!1,timeToHide:1e4}}}]),t}(p.Component),(0,u.default)(c.prototype,"saveAndHide",[d.autobind],Object.getOwnPropertyDescriptor(c.prototype,"saveAndHide"),c.prototype),(0,u.default)(c.prototype,"hide",[d.autobind],Object.getOwnPropertyDescriptor(c.prototype,"hide"),c.prototype),c);p.live.register("tivi-scroll-hint",m);var v=m;t.default=v},function(e,t,n){"use strict";(function(e){n(319),n(10),n(15),n(82);var t=n(0),i=n(3),r=n(1),a=n(4);n(17);var o,s=n(11);o=function(){var e=n(157),o=window.rb,s=o.$,l=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,u=window.zdfsite.trackingHelper.escapeForTracking,c=n(7),d=function(n){function d(e,n){var r;return t(this,d),(r=i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,n))).circuitBreak=!1,r.$searchInput=null,r.$resultList=null,r.$resultListItems=null,r._decodeHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,e=0===t.childNodes.length?"":t.childNodes[0].nodeValue},c.ready.then((function(){r.fetchManager=new o.fetchManager({type:"clear"}),o.rAFs(r,{that:r},"_renderMain","setListDimensions","_fillList"),r.onChange=o.throttle(r._onChange,{that:r,delay:700}),r._onOutsideAction=r._onOutsideAction.bind(r),r._generateElements(),r._setupEvents(),r._renderMain(),r._createList()})),r}return a(d,n),r(d,null,[{key:"defaults",get:function(){return{appendTo:".b-header",minLength:2,url:"",q:"q",teilbereich:!1}}},{key:"events",get:function(){return{input:"onChange"}}}]),r(d,[{key:"_onChange",value:function(){var e=this.element.value;this._resetSearchInputAria(),e.length>=this.options.minLength?this.fetch(encodeURIComponent(e)):this.popover.close()}},{key:"mapData",value:function(e){return(e.data&&e.data["http://zdf.de/rels/search/typeahead-suggestions"]||[]).map((function(e){return{label:e.text,value:e.text}}))}},{key:"fetch",value:function(t){var n=this;if(this.circuitBreak)o.logWarn("TYPEAHEAD TEMPORARILY DISABLED");else{this.options.teilbereich&&(t+="&teilbereich="+this.options.teilbereich);var i=c.getState().profile,r=i.abConfigName,a=i.abGroupName;r&&a&&(t+="&abName=".concat(r,"&abGroup=").concat(a));var s=Date.now();this._lastEscQuery=new RegExp(o.escape(t).replace(l,"\\$&"),"gi");var u={headers:e(this.options.url)},d=this.options.url+t;this.xhr=this.fetchManager.fetch(d,u).then((function(e){n.xhr=null;var i=n.mapData(e);Date.now()-s>=zdfsite.typeAheadTimeout&&(n.circuitBreak=!0),i&&i.length?(n._fillList(i,t),n.popover.isOpen||(n.popover.open(),n.$searchInput.attr("aria-expanded","true"))):n.popover.close()})),this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.timerId=seTYPEAHEAD ABORTED"),n.circuitBreak=!0,n.fetchManager.abort(d))}),zdfsite.typeAheadTimeout)}}},{key:"addMark",value:function(e){return'<span aria-hidden="true">'.concat(e.replace(this._lastEscQuery,(function(e){return"<mark>"+e+"</mark>"})),"</span>")}},{key:"_fillList",value:function(e,t){var n=this,i=u(t);this._cleanupList(),e.slice(0,20).forEach((function(e,t){var r=n.addMark(o.escape(e.label)),a=o.escape(e.value),s="Context:Suche|Pos:".concat(t+1,"|Search:").concat(i,"|Teaser:").concat(u(e.label));n.$resultListItems.eq(t).attr({"data-value":a,"data-track":'{"element": "autocomplete", "action": "Click", "actionDetail": "'.concat(s,'"}')}).removeAttr("aria-disabled").find("button").attr({title:"Suchvorschlag ".concat(a," auswählen"),"aria-label":"Suchvorschlag ".concat(n._decodeHTML(a)," auswählen")}).html(r),n.$resultListItems.get(t).hidden=!1}))}},{key:"_cleanupList",value:function(){this.$resultListItems.each((function(){s(this).attr({"aria-disabled":"true"}).removeAttr("data-track").removeAttr("data-value").find("button").removeAttr("aria-label").removeAttr("title").html(""),this.hidden=!0}))}},{key:"_createList",value:function(){for(var e=this,t=this.name+"-listbox-item js-typeahead-result",n="",i=0;i<20;i++)n+='<li class="'.concat(t,'" ')+'id="typeahead-option-'.concat(i,'" role="option">')+'<button class="listbox-value" /></li>';this.listboxElement.innerHTML='<ul id="results" class="js-typeahead-results" role="listbox" tabindex="-1">'+n+"</ul>",this.listbox._getElements(),o.rAFQueue((function(){e.$resultList=s("#results"),e.$resultListItems=e.$resultList.find("li")}))}},{key:"_onOutsideAction",value:function(e){document.body.contains(e.target)&&!o.contains([this.elemenarchInputAria(),this.popover.close())}},{key:"_setupEvents",value:function(){var e=this;this.$searchInput.on("keyup",(function(t){if("38"==t.keyCode||"40"==t.keyCode){e.$resultListItems.each((function(){s(this).removeAttr("aria-selected")}));var n=e.$resultList.find("li.m-selected");n.attr("aria-selected","true"),e.$searchInput.attr("aria-activedescendant",n.attr("id"))}})),this.listboxElement.addEventListener("listboxchanged",(function(t){var n="";e.listbox.selectedItem&&(n=e.listbox.selectedItem.getAttribute("data-value")||"",zdfsite.trackingHelper.trackClick(e.listbox.selectedItem)),e._resetSearchInputAria(),e.setValue(n),e.popover.close(),o.events.dispatch(e.element,"typeaheadselected")})),this.popoverElement.addEventListener("popoverchange",(function(t){var n=e.popover.isOpen;n||e.setListDimensions(e.element.offsetWidth,o.root.clientHeight/2),e.listbox.setOption("disconnected",n)})),this.popoverElement.addEventListener("popoverchanged",(function(t){document.removeEventListener("mousedown",e._onOutsideAction),document.removeEventListener("focus",e._onOutsideAction,!0),e.popover.isOpen&&(document.addEventListener("mner("focus",e._onOutsideAction,!0))}))}},{key:"_resetSearchInputAria",value:function(){this.$searchInput.attr({"aria-activedescendant":"","aria-expanded":"false"})}},{key:"setValue",value:function(e){this.element.value=this._decodeHTML(e)}},{key:"setListDimensions",value:function(e,t){this.popoverElement.style.minWidth=e+"px",s(this.popoverElement).find("."+this.name+"-listbox").css({maxHeight:t+"px"})}},{key:"_generateElements",value:function(){this.popoverElement=s(document.createElement("div")).prop({className:this.interpolateName("{name}-popover")}).get(0),this.listboxElement=s(document.createElement("div")).prop({className:this.interpolateName("{name}-listbox")}).get(0),this.popover=this.component(this.popoverElement,"popover",{my:"left top",at:"left bottom",anchor:this.element,name:this.name+"-popover",closeOnOutsideClick:!1,closeOnFocusout:!1});var e=this.popover.position.connect;this.popover.position.connect=function(t,n){0!==(t||this.options.anchor).getBoundingClientRect().height&&e.call(this,t,n)},this.listbox=this.component(this.listboxElement,"listbox",{focusElement:this.element,disconnected:!0,name:this.name+"-listbox",defaultSelected:-1}),this.$searchInput=s("#top-search-input"),this.popoverElement.appendChild(this.listboxElement)}},{key:"_renderMain",value:function(){this.element.setAttribute("autocomplete","off"),(this.element.closest(this.options.appendTo)||document.body).appendChild(this.popoverElement)}}]),d}(o.Component);return o.live.register("typeahead",d),d},"object"===s(e)&&e.exports?(n(813),n(440),n(283),e.exports=o()):o()}).call(this,n(12)(e))},function(e,t,n){"use strict";var i,r,a;n(13),r=[t,n(68),n(66),n(70),n(78),n(71),n(77)],void 0===(a="function"==typeof(i=function(e,t,n,i,r,a,o){Object.defineProperty(e,"__esModule",{value:!0});var s=p(t),l=p(n),u=p(i),c=p(r),d=p(a),f=p(o);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(n,i){(0,l.default)(this,t);var r=(0,u.default)(this,e.call(this,n,i));return r.selectedIndex=-1,r.selectedItem=null,r.checkedIndex=-1,r.checkedItem=null,r.isList=t.regList.test(n.nodeName),r.rAFs({throttle:!0},"_changeSelecr._onkeyboardInput=r._onkeyboardInput.bind(r),r.setFocusElement(),r._getElements(),r}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"defaults",get:function(){return{focusElement:"",defaultSelected:0,checkWithSpace:!0,disconnected:!1}}}]),t.prototype.setOption=function(t,n,i){switch(e.prototype.setOption.call(this,t,n,i),t){case"focusElement":this.setFocusElement();break;case"disconnected":this[n?"_disconnect":"_connect"]()}},t.prototype._setInitialMarkup=function(){this.$items.attr({role:"option"}).parent().attr({role:"listbox"}),this.$items.filter("."+f.default.statePrefix+"disabled").attr({"aria-disabled":"true"}),this.checkedItem&&this.checkedItem.setAttribute("aria-checked","true"),this._isStatic&&(this.element.style.position="relative")},t.prototype._getElements=function(){this.$items=this.$queryAll(".{name}{e}item"),this.checkedItem=this.$items.filter("."+f.default.statePrefix+"checked").get(0)||null,this.checkedIndex=this.checkedItem?this.$items.index(this.checkedItem):-1,this._isStatic="static"==this.$element.css("position"),this._setInitialMarkup(),this.options.disconnected||this._connect()},t.prototype._onkeyboardInput=function(e){var t;this.options.disconnected||(40==e.keyCode?(t=!0,this.selectNext(),this.scrollIntoView(this.selectedIis.selectPrev(),this.scrollIntoView(this.selectedItem)):this.selectedItem&&(13==e.keyCode||32==e.keyCode&&this.options.checkWithSpace)&&(t=!0,this.checkSelected()),t&&e.preventDefault())},t.prototype._disconnect=function(){this.select(-1)},t.prototype._connect=function(){var e=this.focusElement.getAttribute("aria-activedescendant");e&&(e=this.query("#"+e)),this.select(this.checkedItem||e||this.options.defaultSelected),this.scrollIntoView(this.checkedItem||e,!0)},t.prototype.setFocusElement=function(){var e=this.options.focusElement,t=this.focusElement;this.focusElement="object"==(void 0===e?"undefined":(0,s.default)(e))?e:e&&this.getElementsFromString(e)[0]||this.element,t&&t!=this.focusElement?t.removeEventListener("keydown",this._onkeyboardInput):t=null,this.focusElement.addEventListener("keydown",this._onkeyboardInput),this._setFocusElement(t)},t.prototype._setFocusElement=function(e){e&&(e.removeAttribute("aria-activedescendant"),e.removeAttribute("tabindex")),-1!=this.focusElement.tabIndex||this.focusElement.getAttribute("tabindex")||this.focusElement.setAttribute("tabindex","0")},t.prototype._selectCheck=function(e,n){var i,r=t.type[n];-1==e||null==e?(e=-1,i=null):"number"==typeof e?i=this.$items.get(e):(i=e,e=this.$items.index(i)),e!=this[r.index]&&(this[r.index]=e,this[r.item]=i,this[r.change]())},t.prototype.scrollIntoView=function(e,t){if(e&&!(this.element.scrollHeight-1<=this.element.offsetHeight)){var n,i=this.element.scrollTop,r=this.element.offsetHeight+i,a=e.offsetTop,o=a+e.offsetHeight;(a<i||o>r)&&(n=a,this.$element[t?"prop":"animate"]({scrollTop:n},{duration:200}))}},t.prototype.select=function(e){this._selectCheck(e,"select")},t.prototype._changeSelected=function(){this.$items.removeClass(f.default.statePrefix+"selected"),this.selectedItem&&(this.selectedItem.classList.add(f.default.statePrefix+"selected"),this.focusElement.setAttribute("aria-activedescendant",this.getId(this.selectedItem))),this.trigger("selectedchanged")},t.prototype.getSelectableIndex=function(e){for(var t,n=-1,i=f.default.statePrefix+"disabled",r=this.selectedIndex+e;r>-1&&this.$items.length>r;){if(!(t=this.$items.get(r)).classList.contains(i)&&"true"!=t.getAttribute("aria-disabled")){n=r;break}r+=e}return n},t.prototype.selectNext=function(){var e=this.getSelectableIndex(1);e>-1&&this.select(e)},t.prototype.selectPrev=function(){var e=this.getSelectableIndex(-1);e>-1&&this.select(e)},t.prototype._changeChecked=function(){this.$items.filter("."+f.default.statePrefremoveAttr("aria-checked")statePrefix+"checked"),this.checkedItem.setAttribute("aria-checked","true")),this.trigger()},t.prototype.check=function(e){this._selectCheck(e,"check")},t.prototype.chis.check(this.selectedItem)},t.prototype.postRendekey:"events",get:function(){return{"mousedown:closest(.{name}{e}item)":function(e){this.select(e.delegatedTarget)},'click .{name}{e}item:not([aria-disabled="true"])':function(e){this.select(e.delegatedTarget),this.check(e.delegatedTarget)}}}}]),t}(o.Component);Object.assign(h,{regList:/^(?:ol|ul)$/i,type:{select:{index:"selectedIndex",item:"selectedItem",change:"_changeSelected"},check:{index:"checkedIndex",item:"checkedItem",change:"_changeChecked"}}}),o.Component.register("listbox",h),e.default=h})?i.apply(t,r):i)||(e.exports=a)},function(e,t,n){"use strict";var i=n(0),r=n(3),a=n(1),o=n(4),s=window.rb,l=s.$,u=function(e){function t(e,n){var a;return i(this,t),(a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).input=a.query(".form-field-input"),a.maxCount=parseInt(l(a.input).attr("maxlength"),10),a.minCount=parseInt(l(a.input).attr("minlength"),10),a.updateView(),a}return o(t,e),a(t,null,[{key:"defaults",get:function(){return{masked:!0}}},{key:"events",get:function(){return{"keyup:closest(.form-field-input)":"updateView"}}}]),a(t,[{key:"attached",value:function(){this.updateView()}},{key:"updateView",value:function(){if(this.maxCount){var e=this.input.value.length;this.minCount===this.maxCount?(this.element.setAttribute("data-remaining-characters",e),this.element.setAttribute("data-max-characters",this.maxCount)):this.element.setAttribute("data-remaining-characters","*")}}}]),t}(s.Component);s.live.register("form-field-character-count",u),e.exports={FormField:u}},function(e,t,n){"use strict";var i=n(0),r=n(3),a=n(1),o=n(4),s=window.rb,l=function(e){function t(e,n){var a;return i(this,t),(a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).updateView(),a}ret,{key:"events",get:function(){return{"click:closest(.unmask-toggle)":"toggleMask"}}}]),a(t,[{key:"attached",value:function(){this.updateView()}},{key:"toggleMask",value:function(){this.options.masked=!this.options.masked,this.updateView()}},{key:"updateView",value:function(){this.query(".input").setAttribute("type",this.options.masked?"password":"text");var e=this.query(".unmask-toggle"),t=e.getAttribute("data-title-masked")||"",n=e.getAttribute("data-title-unmasked")||"";e.setAttribute("title",this.options.masked?t:n)}}]),t}(s.Component);s.live.register("password-input",l),e.exports={PasswordInput:l}},function(e,t,n){"use strict";var i=n(2);n(14),n(17),n(33),n(56);var r,a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=n(24),d=window.rb,f=(r=function(e){function t(e,n){var i;(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).parts=Array.from(i.element.querySelectorAll(".input")),i.next=null;var r=i.element.closest("form");r&&r.querySelectorAll(".pin-input-next").forEach((function(e){null===i.next&&"none"!==window.getComputedStyle(e).display&&(i.next=e)}));return i}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"defaults",get:function(){return{id:""}}},{key:"events",get:function(){return{"keyup:.input":"onKeyUp","focus:capture()::closest(.input)":"onFocus"}}}]),(0,s.default)(t,[{key:"getKeyboardEventInput",value:function(e){var t=e.key;return"Unidentified"===t&&(t=e.target.value),t}},{key:"onKeyUp",value:function(e){var t=this.getKeyboardEventInput(e);if(t=t.replace(/\s/g,""),isNaN(t)||0===t.length)e.target.value="";elh-1;if(n===i&&this.next)this.next.focus();else{var r=Mus()}}}},{key:"onFocus",value:function(e){e.target.value=""}},{key:"value",get:function(){return this.parts.reduce((function(e,t){return e+t.value}),"")},set:function(e){var t=e.split("");this.parts.forEach((function(e,n){e.value=t[n]||""}))}}]),t}(d.Component),(0,u.default)(r.prototype,"onKeyUp",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"onKeyUp"),r.prototype),(0,u.default)(r.prototype,"onFocus",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"onFocus"),r.prototype),r);d.live.register("pin-input",f),e.exports={PinInput:f}},function(e,t,n){"use strict";var i=n(2);n(22),n(19),n(9),n(8),n(5),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(21));n(14),n(33),n(56);var a=i(n(0)),o=i(n(1)),s=i(n(3)),l=i(n(35)),u=i(n(4));n(10);var c,d=i(n(246));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={function:"Wahltool",onsitead_campaign:"Wahltool",gallery_name:null===(c=zdfsite.tracking)||void 0===c?void 0:c.atInternet.page.name},m=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).pagination=i.query(".js-scroller-paging-container"),i.arrowPrev=i.element.querySelector(".scroll-arrow.x-prev"),i.arrowNext=i.element.querySelector(".scroll-arrow.x-next"),i.slideItems=Array.from(i.element.querySelectorAll(".slider-item")),i}return(0,u.default)(t,e),(0,o.default)(t,[{key:"_updateControls",value:function(e){(0,l.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_updateControls",this).call(this,e);var n=parseInt(this.element.getAttribute("data-current-index"),10),i=parseInt(this.element.getAttribute("data-page-length"),10);this.pagination.innerText="("+n+"/"+i+")",this.updateControlsTracking(n)}},{key:"updateControlsTracking",value:function(e){var t=JSON.parse(this.arrowPrev.getAttribute("data-track")),n=JSON.parse(this.arrowNext.getAttribute("data-track")),i=e-1,r=i+1,a=i-1;r>this.slideItems.length-1&&(r=0),a<0&&(a=this.slideItems.length-1);var o=this.slideItems[i],s=this.slideItems[a],l=this.slideItems[r];if(o&&s&&l){var u="data-wahltoolgallery-wahltool-key",c="data-wahltoolgallery-wahltool-name",d=o.getAttribute(u),f=o.getAttribute(c).replaceAll(" ","_"),m=t.actionSZMnG.split("/"),v=n.actionSZMnG.split("/"),g=l.getAttribute(u),y=l.getAttribute(c).trim().replaceAll(" ","_"),b=s.getAttribute(u),_=s.getAttribute(c).trim().replaceAll(" ","_");m[1]=d,m[2]=f,v[1]=d,v[2]=f,t.actionDetail=b+"|"+_,t.actionSZMnG=m.join("/"),n.actionDetail=g+"|"+y,n.actionSZMnG=v.join("/"),t.deltaType="self_promotion.display",t.atiDeltaData=p({},h,{function_detail:_,hpos:a}),n.deltaType="self_promotion.display",n.atiDeltaData=p({},h,{function_detail:y,hpos:r}),this.arrowPrev.setAttribute("data-track",JSON.stringify(t)),this.arrowNext.setAttribute("data-track",JSON.stringify(n))}}}]),t}(d.default);rb.live.register("js-scroller-paging",m);var v=m;t.default=v},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=i(n(0)),o=i(n(3)),s=i(n(1)),l=i(n(4)),u=i(n(23)),c=n(24),d=window.rb,f=(d.$,r=function(e){function t(e,n){var i;return(0,a.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).label=i.query(".label"),i.description=i.query(".description"),i.input=i.query("input"),i.updateView(),i}revents",get:function(){return{"change:closest(input)":"updateView"}}}]),(0,s.default)(t,[{key:"select",value:function(e){this.input.checked=!1!==e,this.updateView()}},{key:"deselect",value:function(){this.input.checked=!1,this.updateView()}},{key:"updateView",value:function(e){this.input.checked?(this.label.innerHTML=this.options.labelSelected||this.options.label,this.description&&(this.description.innerHTML=this.options.descriptionSelected||this.options.description)):(this.label.innerHTML=this.options.labelDeselected||this.options.label,this.description&&(this.description.innerHTML=this.options.descriptionDeselected||this.options.description))}}]),t}(d.Component),(0,u.default)(r.prototype,"updateView",[c.autobind],Object.getOwnPropertyDescriptor(r.prototype,"updateView"),r.prototype),r);d.live.register("switch",f);var p=f;t.default=p},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(17),n(14);var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=window.rb,u=l.$,c=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).updateTitle(),i}return(0,s.default)(t,e),(0,a.default)(t,[{key:"updateTitle",value:function(){if(!("undefined"!==(window.CSS||{}).supports)&&!window.CSS.supports("(hyphens: auto)")){u(".hyphens-helper").remove();var e=this.$element.text().split(" ");this.element.innerHTML=e.map((function(e){return e.length>14&&(e=e.replace(e,e.substr(0,13)+"&#173;"+e.substr(13,e.length))),e})).join(" ")}}}]),t}(l.Component);l.live.register("teaser-title",c);var d=c;t.default=d},function(e,t,n){"use strict";(function(e){var t=n(2),i=t(n(0)),r=t(n(1)),a=t(n(3)),o=t(n(4)),s=t(n(23)),l=t(n(11));n(176);var u,c=n(24);u=function(){var e,t=window.rb,n=window.zdfsite,l={de:"//ssl.zdf.de/geo/de/geo.txt",dach:"//ssl.zdf.de/geo/dach/geo.txt",ebu:"//ssl.zdf.de/geo/ebu/geo.txt"},u=(e=function(e){function s(e,t){return(0,i.default)(this,s),(0,a.default)(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t))}return(0,o.default)(s,e),(0,r.default)(s,[{key:"attached",value:function(){var e=this;n.isTiviApp3?this.disable("video download disabled for TiviApp 3"):n.isTiviApp&&n.tiviAppVersion.major>=2&&n.tiviAppVersion.minor>=66?this.options.offlineViewable?(t.log("video download: enable offline view button for tivi app"),this.geoCheck().then((function(){e.query(".js-button-text").textContent="Video Offline schauen",e.$element.removeClass("hide")})).catch(this.disable)):t.log("video download: not showing offline view button for tivi app, no video available or lo download: download allowed"),this.geoCheck().then((function(){e.$element.removeClass("hide")})).catch(this.disable)):this.dtion(e){t.log(e),this.$element.remove()}},{key:"geoCheck",value:function(){var e=t.deferred(),n=this.options.geolocation;return l.hasOwnProperty(n)?fetch(l[n]).then((function(t){t.ok?e.resolve():e.reject("video download: geocheck failed")})).catch((function(t){e.reject("video download: cannot fetch geo file")})):e.resolve(),e}}]),s}(t.Component),(0,s.default)(e.prototype,"disable",[c.autobind],Object.getOwnPropertyDescriptor(e.prototype,"disable"),e.prototype),e);return t.live.register("video-download",u),u},"object"===(0,l.default)(e)&&e.exports?e.exports=u():u()}).call(this,n(12)(e))},function(e,t,n){"use strict";n(15),n(57),n(34),n(5);var i=n(0),r=n(1),a=n(3),o=n(4),s=n(23);n(10);var l=n(48).STORAGE_KEYS;!function(){var t,u=window.rb,c=u.$,d=l.WEATHER_STATION.name,f=l.IS_STATION_RELOAD.name,p=l.STATION_SELECT_BY_KEYBOARD.name,h=n(24).autobind,m=(t=function(e){function t(e,n){var r;i(this,t),r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));try{var o=u.storage.session.get(f);o&&"true"===o.toString()&&(u.storage.session.set(f,!1),r.focusAfterStationReload())}catch(e){}return r}return o(t,e),r(t,[{key:"focusAfterStationReload",value:function(){var e=this;window.scroll(0,this.element.getBoundingClientRect().top||0);var t=u.storage.session.get(p);if(t&&"true"===t.toString()){var n=this._getWeatherLocalTabContainer();u.storage.session.set(p,!1),n&&setTimeout((function(){e.setFocus(n)}),200)}}},{key:"loadStation",value:function(e){try{u.storage.local.set(d,e),u.storage.session.set(f,!0)}catch(e){}var t=new URL(window.location.href),n=new URLSearchParams(t.search);n.set("weatherLocationCode",e),t.search=n.toString(),window.location.href=t.toString()}},{key:"_getWeatherLocalTabContainer",value:function(){var e=this.element.closest(".b-weather-local");return c(e).find(".weather-local-tab-container").get(0)}}],[{key:"events",get:function(){return{"keyboardSelect:find(.js-weatherstation-select)":function(e){try{u.storage.session.set(p,!0)}catch(e){}},"change:find(.js-weatherstation-select)":function(e){var t=e.target.options[e.target.selectedIndex].value;this.loadStation(t)}}}}]),t}(u.Component),s(t.prototype,"loadStation",[h],Object.getOwnPropertyDescriptor(t.prototype,"loadStation"),t.prototype),t);u.live.register("weather-local",m),e.exports.WeatherLocal=m}()},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=i(n(1)),o=i(n(3)),s=i(n(4)),l=i(n(141)),u=window.rb,c=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"onPanelChange",value:function(e){this.performActionOnCollection("hideHiddenElement",e.target.querySelectorAll(".lazyload-container"))}},{key:"onPanelChanged",value:function(e){var t=0;this.activeScrollbox&&(t=this.activeScrollbox.curScroll),this.activePanel=this.query(".js-panelgroup-panel.m-open"),this.activeScrollbox=u.getComponent(this.activePanel.querySelector('[data-module="js-scrollbox"]')),this.perfoanel.querySelectorAll(".lazyload-container")),this.activeScrollbox.reflow(),this.activeScrollbox.setScrollPosition(t)}},{key:"performActionOnCollection",value:function(e,t){t&&t.forEach((function(t){var n=u.getComponent(t);n&&n[e]&&n[e]()}))}}],[{key:"events",get:function(){return{"js-panelgroupchanged":"onPanelChanged","js-panelgroup-panelchange .js-panelgroup-panel":"onPanelChange"}}}]),t}(l.default);u.live.register("weather-maps",c);var d=c;t.default=d},function(e,t,n){"use strict";var i=n(2);n(824);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(23)),u=n(24);!function(){var t,n=window.rb,i=n.$,c=(t=function(e){function t(e,o){var s;if((0,r.default)(this,t),(s=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o))).state={imageId:0,isSeeking:!1,isPaused:!0},s.duration=10,s.selectBox=n.getComponent(s.query(".b-my-view-selectbox")),s.tabsSelector={list:s.query(".js-tab-container"),selectBox:s.selectBox},s.tabs=s.queryAll(".js-weather-radar-tab"),s.selects=s.queryAll(".js-weather-radar-select"),s.activeTab=s.getActivetab(),!s.activeTab)throw Error("unable to initialize active tab");return s.images=s.options.regions[0].availableTimePointsPerRegion,s.imageDisplay=s.query(".weather-radar-image"),s.progressbarInput=s.query('.seekbar input[type="range"]'),s.progressbar=s.query('.seekbar div[role="progressbar"]'),s.steps=Math.fround(100/s.images.length),s.step",s.steps),s.bigPlayButton=i(s.query(".big-play-btn")),s.playButton=i(s.query(".play-btn")),s.playIcon=s.query(".play-btn").children[0],s}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{regions:[]}}},{key:"events",get:function(){return{"click:closest(.js-weather-radar-images)":"onPlay","click:closest(.js-play-btn)":"onPlay","click:closest(.js-weather-radar-tab)":"handleTabClick","change:find(.js-weather-radar-select)":"handleSelect",input:"onProgressbarChange"}}}]),(0,o.default)(t,[{key:"getActivetab",value:function(){var e=this.tabsSelector.list.getElementsByClassName("is-active");return e.length?e[0]:null}},{key:"handleTabClick",value:function(e){var t=e.target.getAttribute("data-panel-id"),n=this.tabs.indexOf(e.target);this.toggleRadarPanels(t,n)}},{key:"handleSelect",value:function(e){var t=e.target.selectedOptions[0].getAttribute("data-panel-id"),n=this.selects.indexOf(e.target.selectedOptions[0]);this.toggleRadarPanels(t,n)}},{key:"toggleRadarPanels",value:function(e,t){this.pause(),this.$element.addClass("m-state-initial"),this.activeTab.classList.remove("is-active"),this.activeTab=this.tabsSelector.list.querySelectorAll("[data-panel-id=".concat(e,"]"))[0],this.activeTab.classList.add("is-active"),this.images=this.options.regions[t].availableTimePointsPerRegion,this.bigPlayButton.removeClass("visuallyhidden"),this.state.imang?this.restartTimer():(this.state.imageId++,this.state.imageId===this.images.length&&(this.state.imageId=0),this.updateImage())}},{key:"restartTimer",value:function(){clearTimeout(this.timer),this.timer=setTimeout(this.onTimerUpdate,500)}},{key:"pause",value:function(){this.state.isPaused=!0,this.timer&&(clearTimeout(this.timer),this.timer=null),this.playIcon.classList.remove("icon-901_pause-circle"),this.playIcon.classList.add("icon-502_play")}},{key:"play",value:function(){this.state.isPaused=!1,this.bigPlayButton.addClass("visuallyhidden"),this.playIcon.classList.remove("icon-502_play"),this.playIcon.classList.add("icon-901_pause-circle"),this.$element.removeClass("m-state-initial"),this.restartTimer()}},{key:"onPlay",value:function(){this.state.isPaused?this.play():this.pause()}},{key:"updateImage",value:function(){var e=this,t=parseInt(this.state.imageId,10)/(this.images.length-1)*100;this.progressbar.style.width=t+"%",this.progressbar.setAttribute("aria-valuenow",t),this.progressbarInput.value=t,this.imageIsLoading=!0,this.imageDisplay.onload=function(){e.imageIsLoading=!1},this.imageDisplay.src=this.getImagePath(),this.state.isPaused||this.restartTimer()}},{key:"onProgressbarChange",value:function(e){var t=e.target.value;this.state.imageId=Math.floor(t*this.images.length/100),this.updateImage(),this.progressbar.style.width=t+"%",this.progressbar.setAttribute("aria-valuenow",t)}},{key:"getImagePath",value:function(){var e=this.element.clientWidth*window.devicePixelRatio,t="xs",n=parseInt(this.state.imageId,10);return e>=423&&e<=768&&(t="s"),e>=720&&e<=1280&&(t="m"),e>=1280&&e<=1920&&(t="l"),e>=1920&&(t="xl"),this.images[n][t]}},{key:"percentToTime",value:function(e){return e/100*this.duration}}]),t}(n.Component),(0,l.default)(t),l=r(2,-126);e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),u=i(e);return r<l?u*(r/l/o+1/a-1/a)*l*o:(n=(t=(1+o/a)*r)-(t-r))>s||n!=n?u*(1/0):u*n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(14),n(13),n(10),n(34),n(5),n(17);var r=i(n(0)),a=i(n(3)),o=i(n(1)),s=i(n(4)),l=i(n(86)),u=window.rb,c=u.$,d=n(7),f=function(e){function t(e,n){var i;return(0,r.default)(this,t),(i=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))).api=i.options.url+"?origin="+encodeURIComponent(document.location.toString().replace(/^([^\/]+\/\/[^\/]+\/)(.+)$/,"$1")),i.isLoading=!1,i.willChange=!1,i.currentStation=i.options.initialStation||0,i.weatherData=null,i.outputContainerDefaults={output:"",outputAs:i.options.outputAs},u.rAFs(i,"updateDisplay","updateSelectWithStations","changedLoadingState","changedWillChangeState","updateOutputContainer"),i.api?i.loadWeatherData(i.api):i.logError("missing url to load weather info from"),d.ready.then((function(){i.profile=d.getState().profile,i.profile.preferredWeatherStation&&i.selectWeatherStation(i.profile.preferredWeatherStation)})),i}return(0,s.default)(t,e),(0,o.default)(t,null,[{key:"defaults",get:function(){return{url:"",outputAs:"text",initialStation:0,linkHref:"",linkLabel:"",duration:500,delayAfterAnimateOut:50,selectBoxSel:".b-selectbox",selectSel:".{name}-select",outputContainersSel:".{name}-output",loadingClass:"m-loading",willChangeClass:"m-will-change"}}},{key:"events",get:function(){return{"change:find(.{name}-select)":function(e){var t=e.target.value;t&&(-1===t.indexOf("://")?(this.selectWeatherStation(e.target.value),this.profileChange(e)):location.href=t)}}}}]),(0,o.default)(t,[{key:"loadWeatherData",value:function(e){var t=this;this.isLoading=!0,this.changedLoadingState(),(0,l.default)(e).then((function(e){t.processData(e.data.data)}),(function(e){t.logError("load of weather data failed",e),t.isLoading=!1}))}},{key:"processData",value:function(e){this.weatherData=e;var t=e.map((function(e,t){return{label:e.name.trim(),value:t}}));this.options.linkHref&&t.unshift({label:this.options.linkLabel||this.options.linkHref,value:this.options.linkHref}),this.updateSelectWithStations(t),this.selectWeatherStation(this.currentStation),this.isLoading=!1,this.changedLoadingState()}},{key:"updateSelectWithStations",value:function(e){var t=this.query(this.options.selectSel),n=this.query(this.options.selectBoxSel),i="";e.forEach((function(e){i+='<option value="'.concat(u.escape(e.value),'">').concat(u.escape(e.label),"</option>")})),t.innerHTML=i,t.value=this.currentStation,setTimeout((function(){c(n).rbComponent()}))}},{key:"selectWeatherStation",value:function(e){this.currentStation=e,this.weatherData&&this.updateDisplay(this.weatherData[e])}},{key:"updateDisplay",value:function(e){var t=this,n=this.query(this.options.selectSel),i=this.queryAll(this.options.outputContainersSel);this.willChange=!0,this.changedWillChangeState(),setTimeout((function(){i.forEach((function(n){t.updateOutputContainer(n,e)})),t.willChange=!1,t.changedWillChangeState()}),this.options.duration+this.options.delayAfterAnimateOut),n.value=this.currentStation}},{key:"updateOutputContainer",value:function(e,t){var n=c(e),i=t||{},r=Object.assign({},this.outputContainerDefaults,u.parseDataAttrs(e)),a=r.outputAs,o=r.output,s=this.getDataWithDotNotation(i,o);if(s)if(a)switch(a){case"text":e.textContent=s;break;case"value":n.prop({value:s});break;default:var l={};l[a]=s,n.attr(l)}else this.logWarn("no output property specified",e,a,r);else this.logWarn("no value to output",e,a,r)}},{key:"changedWillChangeState",value:function(){this.$element.toggleClass(this.options.willChangeClass,this.willChange)}},{key:"changedLoadingState",value:function(){this.$element.toggleClass(this.options.loadingClass,this.isLoading)}},{key:"profileChange",value:function(e){var t=void 0,n=e.delegatedTarget||e.target,i=n.getAttribute("data-profile-key"),r=this.profile;i in this.profile?("string"==typeof r[i]&&(t=n.value),d.dispatch(i,t)):this.logWarn("unknown profileKey! will not save.",i)}},{key:"getDataWithDotNotation",value:function(e,t){return Ars.getDataWithDotNotation(e,t.split("."))}}]),t}(u.Component);u.live.register("weatherdisplay",f);var p=f;t.default=p},function(e,t,n){"use strict";var i={isSafari:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},isDesktopSafari:function(){return!!window.safari}};e.exports=i},function(e,t,n){"use strict";(function(e){var t=n(2);n(22),n(19),n(28),n(26),n(82),n(13),n(85),n(103);var i=t(n(100));n(9),n(8),n(18);var r=t(n(21));n(14),n(84);var a=t(n(101));n(57),n(15),n(10);var o=t(n(0)),s=t(n(3)),l=t(n(35)),u=t(n(1)),c=t(n(4)),d=t(n(23));n(36),n(5);var f,p=t(n(11)),h=n(24),m=t(n(52)),v=n(122),g=n(48),y=n(47),b=n(439);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}f=function(){var e,t=window.rb,r=window.zdfsite,f=n(7),p=n(311),_=n(320),k=n(295),S=n(446),O=n(162);function E(e){if(r.isTiviApp||r.isHeuteApp)S.disable();else{var t=e.pipEnabled,n=e.enablePip,i=t&&n;i!==S.state.enabled&&(i?S.enable():S.disable())}}n(830);var P=!1,T=(e=function(e){function d(e,n){var i;(0,o.default)(this,d),(i=(0,s.default)(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,n))).calculatePreviewImage=function(e,t){for(var n=this.getOptimizedDPR(),i=Math.round(t*n),r=0;r<e.length;r++)if(e[r].width>i||r===e.length-1)return e[r]},i.getOptimizedDPR=function(){var e=window.devicePixelRatio||1;return e=Math.round(.8*e*100)/100,Math.max(Math.min(e,2),1)};var a=i.getPreviewImage();a&&a.url&&(e.style.backgroundImage="url("+a.url+")",e.style.backgroundSize="cover");var l=e.closest(".js-accordion-panel"),u=e.closest(".newsticker-slider-panel");l&&i.addPlayerPauseToPanel(l,"js-accordion-panelchanged"),u&&i.addPlayerPauseToPanel(u,"newsticker-slider-panelchanged"),null===i.options.jsb&&(i.options.jsb={}),"string"==typeof i.options.jsb&&(i.options.jsb=JSON.parse(i.options.jsb)),i.playerVersion="defaultPlayerVersion",i.isInitialized=!1,i.isPlayerDisabled=!1,i.isReady=!1,i.readyCommandQueue=[],i.audioChannelLabels={},i.jsbOffHandlers=[],i._isPaused=!0,i.pauseTime=0,i.isIpadOrAndroid=_.getDevice()===_.IPAD||_.getMobileOs()===_.ANDROID,i.id="zdf-player-"+t.getID(),i._progress=t.throttle(i._progress,{that:i}),i.chromecastEnabled=!1;try{var c=localStorage.getItem(g.STORAGE_KEYS.CHROMECAST_ENABLED.name);i.chromecastEnabled=!!c&&JSON.parse(c)}catch(e){}return t.rAFs(i,"initPlayer"),i._playerFns(["initPlayer"]),document.addEventListener("zdfplayerready",i.initPlayerVersion),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ebu",t="".concat(e,"Geoblock"),n=new Promise((function(n,i){r.geoSignalFiles.hasOwnProperty(e)?fetch(r.geoSignalFiles[e]).thenn(e){i(r.geoBlockConfig[t])})):n()}));return n}(i.options.geolocation||"").then((function(e){i.isFsk16Blocked()&&!i.isFskDisabledByPreviewDate()?i.checkFskAuthorization().then((function(e){i.options.jsb.fsk16ErrorDisabled=e,i.initPlayer()})):r.isTiviApp&&!i.options.androidFullWindowPlayer||(i.options.autoInit?i.initPlayer():i.addInitEvents()),r.isTiviApp&&(t.root.addEventListener("setChromecastEnabled",i.onChromecastEnabledEvent),i.updatePlayInterceptor()),i.setAccessiblityDialog(),{var t=e.image,n=e.alt,r=i.element.getBoundingClientRect().width,a=[{key:"maxi",minWidth:768},{key:"normal",minWidth:700},{key:"small",minWidth:440},{key:"mini",minWidth:340},{key:"nano",minWidth:0}].find((function(e){return r>=e.minWidth}));i.$element.append('<img src="'.concat(t[a.key],'" alt="').concat(n,'" width="100%">'))})),i}var h;return(0,c.default)(d,e),(0,u.default)(d,null,[{key:"defaults",get:function(){return{id:"",extId:"",jsb:null,autoInit:!0,dontAllowAutoPlay:!1,allowMobileAutoplay:!0,fsk:"none",teaserImage:null,teaserImageOverwrite:null,androidFullWindowPlayer:!1,enablePip:!0,pipEnabled:!0,showInPlayerFskDialog:!1,nextVideoSources:nuToPanel",value:function(e,t){var n=this;e.addEventListener(t,(function(e){n.isInitialized&&e.target.contains(n.element)&&!n.component(e.target).isOpen&&n.pause()}))}},{key:"isFsk16Blocked",value:function(){return this.isDateFsk16Blocked()}},{key:"isFskDisabledByPreviewDate",value:function(){if(/previewDate/.test(location.search)&&/preview/.test(location.hostname)&&("fsk12"===this.options.fsk||"fsk16"===this.options.fsk)){var e=(0,m.default)(location.search).previewDate,t=new Date(parseInt(e,10));if(!isNaN(t.valueOf()))return!this.isDateFsk16Blocked(t)}return!1}},{key:"isDateFsk16Blocked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;if("fsk12"===this.options.fsk||"fsk16"===this.options.fsk){var t="fsk12"===this.options.fsk?20:22,n=e.getHours();return n>=6&&n<t}return!1}},{key:"initPlayerVersion",value:function(){document.removeEventListener("zdfplayerready",this.initPlayerVersion);try{this.playerVersion=zdfplayer.getPlayerVersion()}catch(e){}this.logInfo("playerversion:",this.playerVersion)}},{key:"addPlayerListener",value:function(e,t){var n=zdfplayer.on(e,{id:this.id},t);n.dontLeak(),this.jsbOffHandlers.push(n)}},{key:"setOption",value:function(e,t){(0,l.default)(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"setOption",this).call(this,e,t),E(this.options)}},{key:"playerNeedsFullscreenWindow",value:function(){if(r.isTiviApp&&!this.options.androidFullWindowPlayer&&_.getMobileOs()===_.ANDROID){var e=5;try{e=parseInt(_.getAndroidVersion(),10)}catch(e){}if(e<5)return!0}return!1}},{key:"onHashChange",value:function(){var e=-1!==window.location.hash.indexOf("disablePlayerBecauseOfWifi=true");this.isInitialized&&e===this.isPlayerDisabled||this.setPlayerEnabled(!e)}},{key:"setPlayerEnabled",value:function(e){if(this.isPlayerDisabled=!e,e)this.addUserEvents(),this.initPlayer();else{this.removePlayerEvents(n(){this.element.addEventListener("click",this.initPlayer),this.element.addEventListener("mousedown",this.initPlayer),this.element.addEventListener("touchstart",this.initPlayer),this.element.addEventListener("pointerdown",this.initPlayer)}},{key:"initPlayer",value:(h=(0,a.default)(i.default.mark((function e(){var n,a,o,s,l,u,c,d,p,h,v,g,k,S,O,E,P;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInitialized&&!this.isPlayerDisabled){e.next=2;break}return e.abrupt("return");case 2:this.element.removeEventListener("click",this.initPlayer),this.element.removeEventListener("mousedown",this.initPlayer),this.element.removeEventListener("touchstart",this.initPlayer),this.element.removeEventListener("pointerdown",this.initPlayer),zdfplayer.on("Player::INITIALIZED",{id:this.id},this.onPlayerReady),this.isInitialized=!0,this._progressDuration=0,this._progressCurrentPosition=0,(n=this.options.jsb||{}).id=this.id,_.isKindle2013Device()&&(n.preferredMimeType="video/mp4"),this.options.dontAllowAutoPlay&&n.autoplay&&(n.autoplay=!1),this.options.teaserImageOverwrite&&(n.teaserImageOverwrite=this.options.teaserImageOverwrite),this.options.useAudioDescription&&(n.useAudioDescription=!0),this.options.aspectRatio&&(n.aspectRatio=this.options.aspectRatio),n.allowMobileAutoplay=this.options.allowMobileAutoplay,r.isTiviApp&&(n.config=r.isIOS?n.configTiviAppIos:n.configTiviAppAndroid,n.preload=!0,n.selectedVideoQuality=this.getSelectedVideoQualityFromLocalStorage(),n.playsInline=!0,r.tiviAppVersion.minor<68&&(n.forceGuiOnMobile=!1)),r.isHeuteApp&&(n.config=r.isIOS?n.configHeuteAppIos:n.configHeuteAppAndroid,(a=r.player.defaultVideoQuality||this.getSelectedVideoQualityFromLocalStorage())&&(n.selectedVideoQuality=a)),delete n.configHeuteAppIos,delete n.configHeuteAppAndroid,delete n.configTiviAppIos,delete n.configTiviAppAndroid,o=!this.options.jsb.isLivestream,n.seamlessViewingControls=o,o&&(s=f.getPlaybackHistory().getItem(this.options.extId),l=!f.isLoggedIn(),s&&(!l||(0,b.hasValidViewingProgress)(s))&&(n.seamlessStartTime=s.currentPosition)),this.isFskDisabledByPreviewDate()&&(n.fsk16ErrorDisabled=!0),u=void 0,c=void 0,this.element.parentNode.hasAttribute("data-teaser-link")&&(d=this.element.parentNode.getAttribute("data-teaser-link"),(p=d.split("#")).length>1&&(c=(0,m.default)(p[1]))),(u=this.options.teaserHashParameters?this.options.teaserHashParameters:void 0!==c?c:(0,m.default)(window.location.hash.substr(1))).highlights&&(n.highlights=u.highlights),u.scene&&(n.scene=u.scene),u.audioOption&&(n.audioOption=u.audioOption),u.sourceVariant?n.sourceVariant=u.sourceVariant:(h=r.isTiviApp?f.getState().getUserProfile():f.getState().profile,v=h.defaultStreamVariantDgs,n.sourceVariant=v?"dgs":"default"),u.showSubtitles&&(this.options.forceSubtitles=!0),(g=this.getPreviewImage())&&g.url&&(n.startImage=g.url),r.trackingDisabled&&!r.consentManagementSettings.enableConsentManagement&&(n.noTracking=!0),n.ZdfTracking=this.getZdfTrackingSettings(),n.ZdfUser=this.getZdfUserInfo(),(k=this.getNextVideoSource())&&(n.nextVideoSource=k),S={},O={enabled:!1},this.hasConsentForTracking()||(S={atInternet:O,szmng:O,nielsen:O,gfk:O,npaw:O}),(0,y.hasPersonalizationConsent)()||(S=w({},S,{zdfTracking:O})),Object.keys(S).length&&(n.tracking=S),E=w({},n);try{E=JSON.stringify(E)}catch(e){t.logError("Cannot stringify JSB data for player!")}P=this.options.enablePip?"miniplayer-enabled":"miniplayer-disabled",this.element.innerHTML='<figure class="b-zdfplayer zdfplayer_ zdfplayer_core/Player ratiobox-item '.concat(P,'"\n                data-playerid="').concat(this.id,"\"\n                data-jsb='").concat(E,"'></figure>"),this.addPlayerEvents(),zdfplayer.applyBehaviour(this.element);case 54:case"end":return e.stop())},{key:"addPlayerEvents",value:function(){var e=this;["PAUSED","STOPPED","FINISHED"].forEach((function(t){e.addPlayerListener("Player::"+t,e._paused)})),["PLAY","PLAYING"].forEach((function(t){e.addPlayerListener("Player::"+t,e._playing)})),this.addPlayerListener("Player::LOAD_VIDEO_SOURCE",(function(t){e.video=t.vide.forceSubtitles&&this.addPlayerListener("Player::STARTED",this.showSubtitles),this.addPlayerListener("Player::CHECK_FSK",(function(){e.checkFskAuthorization().then((function(t){e.fireCommand("Player::FSK_CHECK_COMPLETED",{userVerified:t})}))})),r.isTiviApp&&(this.addPlayerListener("Player::STATE_CHANGED",(function(t){(0,v.sendMessageToTiviApp)("PlayerStateChanged",{id:e.id,externalId:e.options.extId,state:t.state,duration:e._progressDuration,time:e._progressCurrecode()})})),this.isIpadOrAndroid&&(this.addPlayerListener("Player::PLAY",this._onPlay),this.addPlayerListener("Player::FINISHED",this._onPlayFinished)),this.addPlayerListener("Player::LOAD_VIDEO_SOURCE",(function(t){e.currentVideo=t.video})),this.addPlayerListener("Player::VrrentVariant].subtitles}catch(t){e.logWarn("could not get subtitles of current video",t),e.subtitleTracks=null}})))}},{key:"removePlayerEvents",value:function(){this.jsbOffHandlers.forEach((function(e){return e()})),this.jsbOffHandlers=[]}},{key:"flushQueue",value:function(){for(var e;this.readyCommandQueue.length;)e=this.readyCommandQueue.shift(),this.fireCommand.apply(this,e)}},{key:"fireCommand",value:function(e,t){if(this.isReady){var n=w({},t,{id:this.id});zdfplayer.fireEvent(e,n)}else this.readyCommandQueue.push(arguments),this.initPlayer()}},{key:"play",value:function(){this.fireCommand("Player::PLAY_REQUESTED")}},{key:"pause",value:function(){this.fireCommand("Player::PAUSE")}},{key:"stop",value:function(){this.fireCommand("Player::STOP")}},{key:"showSubtitles",value:function(){var e={track:0};if(r.isTiviApp){var t=f.getState().getUserProfile().preferredLanguage;if(this.log("showSubtitles - preferredLanguage:",t,"subtitleTracks:",this.subtitleTracks),t&&this.subtitleTracks&&this.subtitleTracks.length){var n=this.subtitleTracks.findIndex((function(e){return e.language===t}));n>0&&(e.track=n)}}this.log("sending Subtitles::SHOW with param:",e),this.fireCommand("Subtitles::SHOW",e)}},{key:"onPlayerReady",value:function(e,t){var n=this;this.player=document.getElementById(this.id),this.audioChannelLabels=e.options.audioChannelLabels,setTimeout((function(){n.isReady=!0,n.flushQueue()})),zdfplayeZED",{id:this.id},this.onPlayerReady)}},{key:"_onPlayerReady",value:function(e,n){var i=void 0,a=void 0,o=function(){e.apply(i,a)};return function(){i=n||this,a=arguments,r.playerReady.isDone?o():(r.playerReady.then((function(){return o()})),P||(P=!0,t.rAFQueue(r.loadPlayer)))}}},{key:"_playerFns",value:function(e,t){var n=this;e.forEach((function(e){n[e]=n._onPlayerReady(n[e],t?n:void 0)}))}},{key:"_playing",value:function(){this._isPaused=!1;var e=t.$(this.element).parent().find(".content-label");e.length>0&&e.addClass("hide-label")}},{key:"_onPlay",value:function(){this.fireCommand("Player::SET_FULLSCREEN")}},{key:"_onPlayFinished",value:function(){this.fireCommand("Player::SET_NORMALSCREEN")}},{key:"_paused",value:function(){if(!this._isPaused){var e=!0,t=Date.now();t-this.pauseTime<1e3&&(e=!1),this.pauseTime=t,this._isPaused=!0,!1===this.video.is_livestream&&e&&f.getPlaybackHistory().addItem({externalId:this.options.extId,currentPosition:this._progressCurrentPosition,duration:this._progressDuration,eventType:"play"},!0)}}},{key:"_progress",value:function(e){var t=Math.round(e.duration)||0;this._progressCurrentPosition=Math.round(e.current_time)||0,this._progressDuration=t,this._isPaused||!1!==this.video.is_livestream||f.getPlaybackHistory().addItem({externalId:this.options.extId,currentPosition:e.VideoNoAutoplay",value:alue:function(e){this.setOption("forceSubtitles",e)}},{key:"onUseAudioDescription",value:function(e){this.setOption("useAudioDescription",e)}},{key:"attached",value:function(){r.isTiviApp?this.initHashChangedHandler():this.addUserEvents()}},{key:"initHashChangedHandler",value:function(){window.addEventListener("hashchange",this.onHashChange),this.onHashChange()}},{key:"addUserEvents",value:function(){f.subscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0),f.subscribe("useSubtitles",this.onUseSubtitles,!0),f.subscribe("useAudioDescription",this.onUseAudioDescription,!0)}},{key:"detached",value:function(){r.isTiviApp&&(window.removeEventListener("hashchange",this.onlayer::DESTROY")}},{key:"removeUserEvents",value:function(){f.unsubscribe("videoNoAutoplay",this.onVideoNoAutoplay,!0),f.unsubscribe("useSubtitles",this.onUseSubtitles,!0),f.unsubscribe("useAudioDescription",this.onUseAudioDescription,!0)}},{key:"checkFskAuthorization",value:function(){var e=this;return new Promise((function(n,i){try{var r=document.querySelector(".js-dialog-player-pin"),a=t.$(r),o=a.rbComponent();if(!o)return e.logWarn("cannot find FSK dialog to open!"),void n(!1);o.open(),e.options.showInPlayerFskDidocument.querySelector(".dialog-player-pin-backdrop");n.style.position="absolute",e.$element.append(t.$(n)),t.root.classList.remove("m-open-dialog-within"),o.focus()}),100),a.on("dialog-player-pinchange",(function(e){n(!!e.detail.success)}))}catch(t){e.logError("checkFskAuthorization failed:",t),n(!1)}}))}},{key:"getPreviewImage",value:function(){var e=this.options.teaserImageOverwrite?this.options.teaserImageOverwrite:this.options.teaserImage,t=[];if(e){for(var n in e),t){return e.width-t.width}))}var a=this.element.getBoundingClientRect().width;return this.calculatePreviewImage(t,a)}},{key:"onChromecastEnabledEvent",value:function(e){this.chromecastEnabled=e.detail.enabled,this.updatePlayInterceptor()}},{key:"toggleChromecastControls",value:function(){try{this.chromecastEnabled?this.element.getElementsByTagName("video")[0].removeAttribute("controls"):this.element.getElementsByTagName("video")[0].setAttribute("controls","controls")}catch(e){}}},{key:"updatePlayInterceptor",value:function(){var e=this.chromecastEnabled||this.playerNeedsFullscreenWindow();e||this.element.removeEventListener("click",this.playInterceptor,!0),e&&this.element.addEventListener("click",this.playInterceptor,!0)}},{key:"playInterceptor",value:function(e){if(e.stopImmediatePropagation(),this.chromecastEnabled){var t={id:this.id,video:this.getVideoForJsonEncode()};(0,v.sendMessageToTiviApp)("PlayerClicked",t)}else window.location.href="".concat(r.androidPlayerUrl,"?sophoraId=").concat(this.options.id)}},{key:"getVideoForJsonEncode",value:function(){if(this.video){var e=Object.assign({},this.video);if(this.video.hasOwnProperty("currentSourceVariant")){var t=this.video.currentSourceVariant,n=t.duration,i=t.sources.map((function(e){var t=e.qualities.map((function(e){var t=e.audio.tracks.map((function(e){return w({},e,{uri:e.uri.split("?")[0]})}));return w({},e,{audio:w({},e.audio,{tracks:t})})}));return w({},e,{qualities:t})}));e.currentSourceVariant={duration:n,sources:i}}return e}return this.video}},{key:"getSelectedVideoQualityFromLocalStorage",value:function(){var e=k.VIDEO_QUALITY_AUTO;try{e=localStorage.getItem(g.STORAGE_KEYS.VIDEO_QUALITY.name)||k.VIDEO_QUALITY_AUTO}catch(e){}return e}},{key:"getZdfTrackingSettings",value:function(){var e=f.getState(),t=e.profile,n=t.abConfigName,i=t.abGroupName,a=r.externalId,o=r.appId;return(0,y.hasPersonalizationConsent)()?{enable:!0,trackingId:e.getTrackingId(),videoAssetId:this.options.extId,assetId:a,abName:n,abGroup:i,appId:o}:{enable:!1,trackingId:"",videoAssetId:"",assetId:"",abName:"",abGroup:i,appId:o}}},{key:"getZdfUserInfo",value:function(){var e={loggedIn:f.isLoggedIn(),subprofile:!!f.getState().activeSubProfile};if((0,y.hasPersonalizationConsent)()){var t=O.generateListItemsFromBookmarks(),n=O.generateListItemsFromViewHistory(),i=O.generateListItemsFromPlaybackHistory(),r=O.evaluatePreferences()||"";return w({},e,{auth:e.loggedIn?"Authorization: Bearer ".concat(f.getState().token):"",plays:i,views:n,bookmarks:t,preferences:r})}return w({},e,{auth:"",plays:[],views:[],bookmarks:[],preferences:[]})}},{key:"hasConsentForTracking",value:function(){return r.consentManagementSettings.enableConsentManagement?(0,y.hasTrackingConsent)():!r.trackingDisabled}},{key:"setAccessiblityDialog",value:function(){var e=this;if(this.options.jsb.primary&&this.options.attrs&&this.options.attrs.indexOf("AD")>-1){var t=document.createElement("button");t.style.display="block",t.style.outline="0px",t.style.outlineOffset="0px",t.setAttribute("type","button"),this.element.parentNode.insertBefore(t,this.element),p.addADTabHelper(t,(function(){var t=r.isTiviApp?f.getState().getUserProfile():f.getState().profile;if(e.isInitialized){if(!t.useAudioDescription){var n=e.audioChannelLabels.ad||e.audioChannelLabels.AD;n&&e.fireCommand("Player::SET_AUDIO_CHANNEL",{audio_channel:n})}e.fireCommand("Player::PLAY")}else t.useAudioDescription||e.setOption("useAudioDescription",!0),e.setOption("dontAllowAutoPlay",!1),e.options.jsb.autoplay=!0,e.initPlayer()}))}}},{key:"getNextVideoSource",value:function(){var e,t=(null===(e=(r.abGroupToNodesMapping||[])[0])||void 0===e?void 0:e.path)||[],n=(null==t?void 0:t.filter((function(e){var t;return(null===(t=e.pathPatterns)||void 0===t?void 0:t.filter((function(e){return new RegExp(e.slice(1,-1)).test(location.href)})).length)>0})).map((function(e){return e.groups})))||[];if((null==n?void 0:n.length)>0){var i,a,o=f.getState().profile.abGroupName;return(null===(a=((null===(i=n[0])||void 0===i?void 0:i.filter((functioa?void 0:a["next-video"])||"editorial"}var s=this.options.nextVideoSources;if(s&&0!==s.length){var l=s.slice(1,-1).split(", "),u=l.some((function(e){return e.includes("editorial")})),c=l.some((function(e){return e.includes("personalized")}));return!u&&c?"personalized":"editorial"}}},{key:"paused",get:function(){return this._isPaused}}]),d}(t.Component),(0,d.default)(e.prototype,"initPlayerVersion",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"initPlayerVersion"),e.prototype),(0,d.default)(e.prototype,"onHashChange",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onHashChange"),e.prototype),(0,d.default)(e.prototype,"initPlayer",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"initPlayer"),e.prototype),(0,d.default)(e.prototype,"showSubtitles",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"showSubtitles"),e.prototype),(0,d.default)(e.prototype,"onPlayerReady",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onPlayerReady"),e.prototype),(0,d.default)(e.prototype,"_playing",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"_playing"),e.prototype),(0,d.default)(e.prototype,"_onPlay",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"_onPlay"),e.prototype),(0,d.default)(e.prototype,"_onPlayFinished",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"_onPlayFinished"),e.prototype),(0,d.default)(e.prototype,"_paused",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"_paused"),e.prototype),(0,d.default)(e.prototype,"_progress",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"_progress"),e.prototype),(0,d.default)(e.prototype,"onVideoNoAutoplay",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onVideoNoAutoplay"),e.prototype),(0,d.default)(e.prototype,"onUseSubtitles",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onUseSubtitles"),e.prototype),(0,d.default)(e.prototype,"onUseAudioDescription",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onUseAudioDescription"),e.prototype),(0,d.default)(e.prototype,"checkFskAuthorization",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"checkFskAuthorization"),e.prototype),(0,d.default)(e.prototype,"onChromecastEnabledEvent",[h.autobind],Object.getOwnPropertyDescriptor(e.prototype,"onChromecastEnabledEvent"),e.prototype),(0,d.default)(e.p":"gruppe-a","next-video":"personalized" das Anschauen von Videos nur im WLAN. Du bist gerade nicht im WLAN und kannst das Video deswegen nicht anschauen. Deine Eltern können im Elternbereich das Anschauen von Videos auch außerhalb vom WLAN erlauben.</div>\n</div>\n';return __p}},function(e,t,n){e.exports={"../modules/consent-management/consentHandler/facebook-consent-handler.js":n(297),"../modules/consent-management/consentHandler/instagram-consent-handler.js":n(298),"../modules/consent-management/consentHandler/performance-consent-handler.js":n(349),"../modules/consent-management/consentHandler/personalisation-and-recommendation-consent-handler.js":n(350),"../modules/consent-management/consentHandler/social-media-consent-handler.js":n(384),"../modules/consent-management/consentHandler/strictly-necessary-consent-handler.js":n(348),"../modules/consent-management/consentHandler/third-party-consent-handler.js":n(299),"../modules/consent-management/consentHandler/twitter-consent-handler.js":n(296),"../modules/consent-management/consentHandler/zdfTracking-consent-handler.js":n(351),"../modules/consent-management/OT_legacy_handler.js":n(345),"../modules/consent-management/OT-consent-management-app.js":n(110),"../modules/consent-management/OT-constants.js":n(135),"../modules/consent-management/OT-cookie-helper.js":n(347),"../modules/consent-management/OT-interface.js":n(47),"../modules/consent-management/OT-native-app-interface.js":n(263),"../modules/consent-management/OT-storage-map.js":n(48),"../modules/consent-management/ui/decorator/tivi-location-decorator.js":n(447),"../modules/consent-management/ui/OT-SDK-container.js":n(833),"../modules/fetch-services/_fetch-service.js":n(115),"../modules/fetch-services/_load-type.js":n(156),"../modules/fetch-services/_queue.js":n(437),"../modules/fetch-services/_sequential-fetch-manager.js":n(372),"../modules/fetch-services/fetch-age-group-filter.js":n(432),"../modules/fetch-services/fetch-bookmark.js":n(374),"../modules/fetch-services/fetch-comments.js":n(419),"../modules/fetch-services/fetch-notification.js":n(373),"../modules/fetch-services/fetch-notifications.js":n(235),"../modules/fetch-services/fetch-recommendations.js":n(438),"../modules/fetch-services/fetch-subscriptions.js":n(316),"../modules/fetch-services/fetch-teaser.js":n(315),"../modules/fetch-teaser/fetch-teaser-component.js":n(434),"../modules/ios-standalone/ios-standalone.js":n(834),"../modules/tivi-app/tivi-app.js":n(122),"../modules/tracking-helper/atinternet-delta-helper.js":n(388),"../modules/tracking-helper/atinternet-helper.js":n(301),"../modules/tracking-helper/atinternet-utils.js":n(240),"../modules/tracking-helper/nielsen-helper.js":n(380),"../modules/tracking-helper/piano-analytics-helper.js":n(390),"../modules/tracking-helper/szmng-helper.js":n(294),"../modules/tracking-helper/tracking-helper.js":n(69),"../modules/tracking-helper/tracking-utils.js":n(233),"../modules/tracking-helper/zdftracking-helper.js":n(281),"../modules/user/avatar-images.js":n(428),"../modules/user/collections/collection-helper.js":n(205),"../modules/user/collections/user-data-aggregator.js":n(443),"../modules/user/collections/user-history-collection.js":n(232),"../modules/user/collections/user-playback-history.js":n(368),"../modules/user/collections/user-view-history.js":n(280),"../modules/user/collections/visible-playback-history.js":n(369),"../modules/user/collections/visible-view-history.js":n(367),"../modules/user/third-party-auth.js":n(286),"../modules/user/toggle-akamai-tracking.js":n(835),"../modules/user/user-api.js":n(177),"../modules/user/user.js":n(7),"../modules/user/userdata/models/Migrations.js":n(378),"../modules/user/userdata/models/SubUserDetails.js":n(290),"../modules/user/userdata/models/UserDetails.js":n(289),"../modules/user/userdata/models/UserInfo.js":n(287),"../modules/user/userdata/models/UserSettings.js":n(288),"../modules/user/userdata/syncUserDetails.js":n(379),"../modules/user/userdata/UserData.js":n(377),"../modules/user/userdata/UserDataHelper.js":n(159),"../modules/user/utils/abTestsUtils.js":n(382),"../modules/user/utils/updateAbInfo.js":n(381),"../modules/utils/object-filter.js":n(391),"../modules/utils/ui-utils.js":n(239),"../modules/utils/user-agent-util.js":n(262)}},function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(158),n(19),n(9);var r=i(n(0)),a=i(n(1)),o=n(447),s=function(){function e(){(0,r.default)(this,e),this.observer=null,this.sdkContainerElementAdded=!1,this.init()}return(0,a.default)(e,[{key:"init",value:function(){var e=this;this.decorators=[o.decorate],this.getSDKContainerElement()?(this.sdkContainerElementAdded=!0,this.applyDecorators()):(this.observer=new MutationObserver((function(t){return e.observerForSDKContainer(t)})),this.observer.observe(document.querySelector("body"),{childList:!0}))}},{key:"observerForSDKContainer",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value,s=!0,l=!1,u=void 0;try{for(var c,d=o.addedNodes[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){"zdf-cmp-banner-sdk"!==c.value.id||this.sdkContainerElementAdded||(this.sdkContainerElementAdded=!0,this.applyDecord.return||d.return()}finally{if(l)throw u}}}}catch(e){n=!0,i=e}finally{try{t|}},{key:"getSDKContainerElement",value:function(){return document.querySelector("#".concat("zdf-cmp-banner-sdk"))}},{key:"applyDecorators",value:function(){var e=this;this.decorators.forEach((function(t){return t(e.getSDKContainerElement())}))}}]),e}();t.default=s},function(e,t,n){"use strict";n(76),n(57),function(e,t,n){if("standalone"in t&&t.standalone){var i=window.location,r="".concat(i.protocol,"//").concat(i.host),a="".concat(r).concat(i.pathname).concat(i.search,"#");e.addEventListener("click",(function(e){if(!e.isDefaultPrevented){var t=e.target.closest("a[href]");if(t){var n=t.href,o=t.target;!n.startsWith(r)||n.startsWith(a)||o&&"self"!=o||(i.href=n,e.preventDefault())}}}),!1)}}(document,window.navigator)},function(e,t,n){"use strict";n(102),n(14);var i=n(0),r=n(1),a=n(3),o=n(4);!function(){var t=n(836),s=n(837),l=window.rb,u=window.zdfsite,c=n(7),d="zdfplayer-akamai-tracking-disabled",f=function(e){function n(e,t){var r;return i(this,n),(r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))).labelText=r.element.text,r.handleTrackingEnabled=r.handleTrackingEnabled.bind(r),r.handleTrackingDisabled=r.handleTrackingDisabled.bind(r),r.initialize(),r}return o(n,e),r(n,[{key:"initialize",value:function(){var e={trackingIdentifier:"AkamaiTrackingEinstellung",labelText:this.labelText,switchId:"akamai-tracking-switch",isChecked:this.isTrackingDisabled()},t=document.createElement("div");t.innerHTML=s(e);var n=t.children[0];this.element.parentNode.insertBefore(n,this.element),this.element.parentNodestener",value:function(){var e=this;this.element.addEventListener("click",(function(){e.toggle()})),u.userReady.then((functiongDisabled),c.subscribe("trackingEnabled",e.handleTrackingEnabled)}))}},{key:"handleTrackingDisabled",value:function(){this.handleGlobalTrackingEnabled(!1)}},{key:"handleTrackingEnabled",value:function(){this.handleGlobalTrackingEnabled(!0)}},{key:"handleGlobalTrackingEnabled",value:function(e){var t=this.query(".switch-input"),n=this.query(".switch-label");e?(t.disabled=!1,n.textContent=this.labelText,this.isTrackingDcked=!0,t.disabled=!0,n.innerHTML="".concat(this.labelText,"<br/>(").concat("Diese Einstellung kann nicht geändert werdenaktiviert ist.",")"))}},{key:"isTrackingDisabled",value:function(){return"true"===t.get(d)}},{key:"getDomain",value:function(){try{var e=window.location.hostname.split("."),t=e.length;return 1===t||4===t&&e.every((function(e){return!isNaN(e)}))?window.location.hostname:"".concat(e[t-2],".").concat(e[t-1])}catch(e){return l.logWarn(e),""}}},{key:"toggle",value:function(){var e=this.isTrackingDisabled();t.set(d,!e,{domain:this.getDomain(),path:"/",expires:new Date(Number(new Date)+31536e7).toUTCString()})}},{key:"detached",value:function(){c.unsubscribe("trackingDisabled",this.handleTrackingDisabled),c.unsubscribe("trackingEnabled",this.handleTrackingEnabled)}}]),n}(l.Component);l.live.register("toggle-akamai-tracking",f),e.exports=f}()},function(e,t,n){"use strict";n(49),n(14),n(9),n(8),n(5),n(18),e.exports={ge\s*/),n=t.length,i=void 0;n--;){var r=t[n];try{var a=r.indexOf("="),o=r.length;if(r.substring(0,a)===e){if((r.substring(a,o).match(/=/g)||[]).length>1)i={},r.substring(a+1,o).split("&").forEach((function(e){i[e.split("=")[0]]=e.split("=")[1]}));else i=r.substring(a+1,o);break}}catch(e){}}return i},set:function(e,t,n){n=n||{};var i="".concat(e,"=").concat(t);Object.keys(n).forEach((function(e){i="".concat(i,"; ").concat(e,"=").concat(n[e])})),document.cookie=i}}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="b-switch">\n    <div class="inner">\n        <input id="switch-input-'+(null==(__t=switchId)?"":__t)+'" ',isChecked&&(__p+=" checked"),__p+=' class="switch-input js-track-click" type="checkbox" value="" data-track=\'{"element": "'+(null==(__t=trackingIdentifier)?"":__t)+'", "action": "Klick", "actionDetail": "{checked?Aktiviert:Deaktiviert}"}\'>\n        <label for="switch-input-'+(null==(__t=switchId)?"":__t)+'" class="switch-label">'+(null==(__t=labelText)?"":__t)+"</label>\n    </div>\n</div>";return __p}},function(e,t,n){e.exports={"../feature-detection/feature-detect-mobile.js":n(839)}},function(e,t,n){"use strict";var i=n(320),r=i.getMobileOs(),a=i.getDevice();(r===i.ANDROID||r===i.IOS&&a===i.IPHONE)&&document.documentEleme"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startOTSDK=function(){var e=zdfsite.consentManagementSettings,t=e.enableConsentManagement,n=e.,"REHYDRATE",(function(){return r})),n.d(t,"PAUSE",(function(){return a})),n.d(t,"PERSIST",(function(){return o})),n.d(t,"PURGE",(function(){return s})),n.d(t,"REGISTER",(function(){return l})),n.d(t,"DEFAULT_VERSION",(function(){return-1}))}]);
//# sourceMappingURL=_app-behavior.pkg.js.map