(window["webpackJsonp_help-center"]=window["webpackJsonp_help-center"]||[]).push([[5],{"+BLz":function(e,a,t){"use strict";t.r(a);var r=t("cDcd"),i=t.n(r),o=t("Ty5D"),n=t("LDlK"),c=t("Vfxo"),l=t("YA6S"),d=t("KzUQ"),s=t("549i"),m=t("9F/L"),g=t("xIwN"),u=t("k/Of"),v=t("wuUx"),_=t("tJVT"),p=t("TSYQ"),y=t.n(p),b=t("9kvl"),f=t("jkix"),w=t("4M2M"),I=t("Bqjs"),N=t("EQxi"),O=t("6fDs"),j=t("BhN1"),E=t("s4jm"),C=t("B+39"),k=t.n(C),L={id:0};function T(e){return Array.isArray(e.subDirInfo)&&e.subDirInfo.length>0?e.subDirInfo[0]:L}function S(e){var a=Object(s["c"])(),t=a.frontendId,o=Object(m["a"])(),n=o.levelOneCategoryId,c=o.levelOneCategoryName,l=o.levelTwoCategoryId,d=e.items,g=void 0===d?[]:d,v=Object(r["useState"])({id:n||g[0]&&g[0].id||0,categoryName:c,number:0,iconUrl:"",quantity:0,subDirInfo:[],categoryUrl:{pcUrl:"",appUrl:""}}),p=Object(_["a"])(v,2),C=p[0],L=p[1],S=Object(r["useState"])(l),x=Object(_["a"])(S,2),U=x[0],A=x[1],D=j["a"].useContainer(),W=D.setSecondLevelInfo,h=Object(r["useCallback"])(((e,a)=>{a&&a.id&&W(a),b["e"].replace(Object(N["c"])(e,a))}),[W]),F=Object(r["useCallback"])((e=>{var a=T(e);L(e),A(a.id),h(e,a)}),[h]),P=Object(r["useCallback"])((e=>{if(null!==e&&void 0!==e&&e.categoryUrl){var a=null===e||void 0===e?void 0:e.categoryUrl,t=a.appUrl,r=void 0===t?"":t;if(r){var i=new RegExp("^(rn/)");return void(i.test(r)?Object(O["a"])(r).catch(():Object(O["b"])(r))}}F(e)}),[F]);function V(e){U===e.id?A(0):(A(e.id),h(C,e))}function q(e){return i.a.createElement(w["a"],{key:e,categoryId:e,isMobile:!0})}function B(){return i.a.createElement("div",{className:"".concat(k.a.categoryList," g-dflex")},g.map((e=>{var a;return i.a.createElement("div",{className:k.a.itemWrap,key:e.id,onClick:()=>P(e),"data-id":e.id},i.a.createElement("div",{className:y()("g-dflex","g-direction-column","g-justify-center","g-align-center",{[k.a.item]:!0,[k.a.itemActive]:e.id===C.id})},i.a.createElement("div",null,i.a.createElement("img",{src:null===(a=e.iconUrlObj)||void 0===a?void 0:a.large,alt:""})),i.a.createElement("h2",{className:y()(k.a.itemName,"g-justify-center","g-align-center")},e.categoryName)))})),i.a.createElement("div",{className:k.a.itemLastPadding}," "))}function J(){return C.hasSubCategories?(C.subDirInfo||[]).map((e=>{var a=U===e.id;return i.a.createElement("div",{className:k.a.dropdownItem,key:e.id},i.a.createElement("div",{className:y()(k.a.itemTitle,"g-dflex","g-align-center"),onClick:,i.a.createElement("div",{className:y()("g-flex1",k.a.categoryName)},e.categoryName),i.a.createElement(I["a"],{className:y()(k.a.arrow,{[k.a.arrowActive]:a})})),a?q(String(e.id)):null)})):q(String(C.id))}return Object(r["useEffect"])((()=>{var e=g.find((e=>e.id===Number(C.id)));if(e){var a=T(e);if(L(e),l){var r=(e.subDirInfo||[]).find((e=>e.id===U));r&&W(r);var i=!(e.subDirInfo||[]).find((e=>e.id===l));i&&(f["d"].info({message:"".concat(E["b"].LogInfo," ").concat(JSON.stringify({info:"Category id not exist",frontendId:String(t),categoryId:l}))}),b["e"].push(u["d"]))}else a.id>0&&(A(a.id),h(e,a))}setTimeout((()=>{var e;null===(e=document.querySelector('[data-id="'.concat(C.id,'"]')))||void 0===e||e.scrollIntoView({block:"nearest"})}))}),[C,g,l,h,W,U,t]),i.a.createElement("div",{className:"categoryWrap"},B(),i.a.createElement("div",{className:k.a.dropdownWrap},J()))}var x=S,U=t("aHHE"),A=t("xZQq"),D=t("LTxv"),W=t.n(D);function h(e){var a,t,o=Object(s["c"])(),n=o.frontendId,c=Object(m["a"])(),l=c.levelOneCategoryId,d=c.levelOneCategoryName,g=c.levelTwoCategoryId,v=e.items,p=void 0===v?[]:v,C=Object(r["useState"])({id:l||p[0]&&p[0].id||0,categoryName:d,number:0,iconUrl:"",quantity:0,subDirInfo:[],categoryUrl:{pcUrl:"",appUrl:""}}),k=Object(_["a"])(C,2),L=k[0],T=k[1],S=Object(r["useState"])(),x=Object(_["a"])(S,2),D=x[0],h=x[1],F=Object(r["useState"])(!(null===(a=p[0])||void 0===a||null===(t=a.categoryUrl)||void 0===t||!t.appUrl)),P=Object(_["a"])(F,2),V=P[0],q=P[1],B=j["a"].useContainer(),J=B.setSecondLevelInfo,H=Object(r["useCallback"])(((e,a)=>{a&&a.id&&J(a),b["e"].replace(Object(N["c"])(e,a))}),[J]),M=Object(r["useCallback"])((,[H]),Y=Object(r["useCallback"])((e=>{var a,t=null===e||void 0===e||null===(a=e.categoryUrl)||void 0===a?void 0:a.appUrl;if(t)return q(!1),T(e),void Object(O["i"])(t);q(!0),M(e),setTimeout((()=>{var e;"function"===typeof(null===(e=window)||void 0===e?void 0:e.scrollTo)&&window.scrollTo({top:0,behavior:"smooth"})}),100)}),[M]);function Z(e,a){D===e.id?h(0):(h(e.id),H(L,e),setTimeout((()=>{var e,t=48,r=t*a;"function"===typeof(null===(e=window)||void 0===e?void 0:e.scrollTo)&&window.scrollTo({left:0,top:r,behavior:"smooth"})}),100))}function K(e){return i.a.createElement("div",{className:W.a.articleListWrap},i.a.createElement(w["a"],{key:e,categoryId:e,comingSoonVisible:V,categoryName:L.categoryName,isMobile:!0}))}function Q(){return L.hasSubCategories?(L.subDirInfo||[]).map(((e,a)=>{var t=D===e.id;return i.a.createElement("div",{className:W.a.dropdownItem,key:e.id},i.a.createElement("div",{className:y()(W.a.itemTitle,"g-dflex","g-align-center",{[W.a.sticky]:!U["e"],[W.a.stickyForApp]:U["e"]}),onClick:,i.a.createElement("div",{className:y()("g-flex1",W.a.categoryName)},e.categoryName),i.a.createElement(I["a"],{className:y()(W.a.arrow,{[W.a.arrowActive]:t})})),t?K(String(e.id)):null)})):K(String(L.id))}return Object(r["useEffect"])((()=>{var e=p.find(();if(e&&(T(e),g)){var a=(e.subDirInfo||[]).find((e=>e.id===D));a&&J(a);var t=!(e.subDirInfo||[]).find(();t&&(f["d"].info({message:"".concat(E["b"].LogInfo," ").concat(JSON.stringify({info:"Category id not exist",frontendId:String(n),categoryId:g}))}),b["e"].push(u["d"]))}}),[L,p,g,J,D,n]),i.a.createElement("div",{style:{position:"relative"}},i.a.createElement(A["a"],{className:U["e"]?W.a.categoryListForApp:W.a.categoryList,categories:p,onCategoryClick:Y,activeId:L.id}),i.a.createElement("div",{className:W.a.dropdownWrap},Q()))}var F=h;a["default"]=Object(o["i"])((()=>{var e,a=Object(m["a"])(),t=a.levelOneCategoryId,r=g["b"].abTestConfig,o=null===r||void 0===r||null===(e=r.find(())||void 0===e?void 0:e.parameter,_=Object(u["m"])(o),p=Object(l["a"])({error2Redirect:!0,changeOrder:!1,page:s["a"].Category,categoryId:t}),y=p.loading,b=p.categories;return i.a.createElement(c["a"],{entryPage:v["d"].CategoryPage,pageId:_?s["a"].Category:0},i.a.createElement(d["a"],{loading:y},_?i.a.createElement(F,{items:b||[]}):i.a.createElement(x,{items:b||[]}),i.a.createElement(n["a"],{actionPageType:v["a"].CategoryPage})))}))},"B+39":LTxv:]);
//# sourceMappingURL=mobile_category.ece259f2.async.js.map