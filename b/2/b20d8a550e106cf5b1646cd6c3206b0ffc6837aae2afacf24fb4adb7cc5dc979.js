!this,(function(){"use strict";const e=[],t=[];function n(){const e="undefined"!=typeof document&&"undefined"!=typeof window,t=e?navigator.userAgent:"",n=/iP(hone|od)/i.test(t)&&!/iPad/.test(t)&&!/IEMobile/i.test(t),o=/Android/.test(t)&&!/Firefox/.test(t),r=/^((?!chrome|android).)*safari/i.test(t),i=/SamsungBrowser/.test(t),s=i&&/SMART-TV/.test(t);return{controls:!n,video:function(t){return e&&document.createElement("video").canPlayType(t)},lang:e&&window.navigator.language,android:o,iphone:n,safari:r,ios:e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,samsung:i,samsung_tv:i&&s,touch:"ontouchstart"in window,tizen:"tizen"in window,webOS:"webos"in window}}const o="click",r="dblclick",i="load",s="mouseenter",a="mouseleave",l="mousemove",c="touchmove",u="touchend",d="fullscreenenter",p="fullscreenexit",f="loadedmetadata",m="loadeddata",h="progress",y="loadstart",v="pause",_="playing",g="waiting",E="canplay",w="ended",S="seeked",b="seeking",O="recover",T="reap",N="config",A="landscape",I="portrait",L="retry";var R=Object.freeze({__proto__:null,MOUNT:"mount",ERROR:"error",CONTEXT_MENU:"contextmenu",CLICK:o,DBL_CLICK:r,KEYUP:"keyup",KEYDOWN:"keydown",LOAD:i,MOUSE_ENTER:s,MOUSE_LEAVE:a,MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:l,TOUCH_START:"touchstart",TOUCH_MOVE:c,TOUCH_END:u,TOUCH_CANCEL:"touchcancel",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_ENTER:d,FULLSCREEN_EXIT:p,FULLSCREEN_CHANGE:"fullscreenchange",WEBKIT_NEEDKEY:"webkitneedkey",METADATA:f,DATA:m,PROGRESS:h,TIME_UPDATE:"timeupdate",LOAD_START:y,VOLUME_CHANGE:"volumechange",PAUSE:v,PLAYING:_,PLAY:"play",WAITING:g,CAN_PLAY:E,ENDED:w,SEEKED:S,SEEKING:b,DURATION_CHANGE:"durationchange",BEFORE_PLAY:"beforeplay",BEFORE_PAUSE:"beforepause",STATE:"state",CUEPOINTS:"cuepoints",CUEPOINT_START:"cuepointstart",CUEPOINT_END:"cuepointend",VIEW_ENTER:"viewenter",VIEW_LEAVE:"viewleave",SOURCE:"src",RECOVER:O,REAP:T,CONFIG:N,QUALITIES:"qualities",SET_QUALITY:"quality:set",NON_RECOVERABLE_ERROR:"error:fatal",RECOMMENDATIONS_READY:"recommendationsready",AUDIO_ONLY_SOURCE:"audioonlysource",LANDSCAPE:A,PORTRAIT:I,RENDER_PLUGIN:"renderplugin",DVR:"dvr",LIVE:"live",SEEK_QUEUED:"seek:queued",SEEK_CANCEL:"seek:cancel",PLUGIN_REGISTERED:"plugin:registered",REMOTE_SESSION_STARTED:"remotesession:started",REMOTE_SESSION_ENDED:"remotesession:ended",INTERSECTIONCHANGE:"intersectionchange",RETRY:L});const k="flowplayer-ui",C="flowplayer-logo",D="flowplayer-control",x="flowplayer-live-status",M="flowplayer-elapsed-time",U="flowplayer-timeline-bar",P="flowplayer-volume-bar",F="flowplayer-header",B="flowplayer-middle",G="flowplayer-middle-zone",H="flowplayer-wait",j="flowplayer-play-icon",q="flowplayer-pause-icon",W="flowplayer-rewind-icon",z="flowplayer-volume-icon";var V=Object.freeze({__proto__:null,SUBTITLES_MENU:"flowplayer-subtitles-menu",SHARE_MENU:"flowplayer-share-menu",SPEED_MENU:"flowplayer-speed-menu",QUALITY_MENU:"flowplayer-quality-menu",AUDIO_MENU:"flowplayer-audio-menu",UI:k,LOGO:C,CONTROL:D,CONTROL_BUTTONS:"flowplayer-control-buttons",LIVE_STATUS:x,ELAPSED:M,TIMELINE:U,CONTROL_DURATION:"flowplayer-control-duration",VOLUME_CONTROL:"flowplayer-volume-control",VOLUME_BAR:P,HEADER:F,HEADER_LEFT_ZONE:"flowplayer-header-left-zone",HEADER_RIGHT_ZONE:"flowplayer-header-right-zone",HEADER_DURATION:"flowplayer-header-duration",MIDDLE:B,MIDDLE_ZONE:G,WAIT:H,MIDDLE_BUTTONS:"flowplayer-middle-buttons",MIDDLE_LEFT_ZONE:"flowplayer-middle-left-zone",MIDDLE_RIGHT_ZONE:"flowplayer-middle-right-zone",ENDSCREEN_INTERSTITIAL:"flowplayer-endscreen-interstitial",ENDSCREEN_UP_NEXT:"flowplayer-endscreen-up-next",ENDSCREEN_GRID:"flowplayer-endscreen-grid",PLAYLIST_INTERSTITIAL:"flowplayer-playlist-interstitial",AIRPLAY_ICON:"flowplayer-airplay-icon",CHROMECAST_ICON:"flowplayer-chromecast-icon",SMALL_PLAY_ICON:"flowplayer-small-play-icon",SMALL_PAUSE_ICON:"flowplayer-small-pause-icon",PLAY_ICON:j,PAUSE_ICON:q,FULLSCREEN_ENTER_ICON:"flowplayer-fullscreen-enter-icon",FULLSCREEN_EXIT_ICON:"flowplayer-fullscreen-exit-icon",SKIP_NEXT_ICON:"flowplayer-skip-next-icon",SKIP_PREVIOUS_ICON:"flowplayer-skip-previous-icon",FAST_FORWARD_ICON:"flowplayer-fast-forward-icon",REWIND_ICON:W,SHARE_ICON:"flowplayer-share-icon",VOLUME_ICON:z,MUTE_ICON:"flowplayer-mute-icon",UNMUTE_ICON:"flowplayer-unmute-icon",CLOSE_ICON:"flowplayer-close-icon",FACEBOOK_ICON:"flowplayer-facebook-icon",TWITTER_ICON:"flowplayer-twitter-icon",LINK_ICON:"flowplayer-link-icon",EMBED_ICON:"flowplayer-embed-icon",LIVE_COUNTDOWN:"flowplayer-live-countdown",PLAYLIST_CONTROLS:"flowplayer-playlist-controls",THUMBNAILS_CAROUSEL:"flowplayer-thumbnails-carousel",ERROR_COMPONENT:"flowplayer-error",TV_MENU:"flowplayer-tv-menu",CUE_COMPONENT:"flowplayer-cue"});const K="is-playing",Y="is-paused",X="is-loaded",Z="is-loading",Q="is-starting",J="is-seeking",$="is-ended",ee="is-live",te="is-waiting",ne="is-live-seeked",oe="no-timeline",re="is-touched",ie="is-in-viewport",se="is-source-processing";var ae=Object.freeze({__proto__:null,PLAYING:K,FULLSCREEN:"is-fullscreen",PAUSED:Y,MUTED:"is-muted",LOADED:X,LOADING:Z,STARTING:Q,SEEKING:J,GRABBING:"is-grabbing",DISABLED:"is-disabled",SMALL:"is-small",TINY:"is-tiny",RTL:"is-rtl",TV:"is-tv",ENDED:$,LIVE:ee,ERRORED:"is-error",WAITING:te,AUTOPLAY:"is-autoplay",NO_AUTOPLAY:"no-autoplay",SEAMLESS:"is-seamless",TOGGLING:"is-toggling",LIVE_SEEKED:ne,NO_DVR:oe,HAS_POSTER:"has-poster",MENU_OPENED:"has-menu-opened",TOUCHED:re,HOVERED:"is-hovered",TOUCH_DEVICE:"is-touch-device",WILL_SEEK:"will-seek",SEEKABLE:"is-seekable",IN_VIEWPORT:ie,NO_CONTROLS:"no-controls",DESTROYED:"is-destroyed",IS_SOURCE_PROCESSING:se});function le(e){this.message=e}le.prototype=new Error,le.prototype.name="InvalidCharacterError";var ce="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||var ue=function de(e){this.message=e}de.prototype=new Error,de.prototype.name="InvalidTokenError";var pe=pe.InvalidTokenError=de;const fe=new Map,me=(e,t)=>new(((e,t)=>{const n=e.get(t);if(!n)throw new Error(`no flowplayer component with the name ${t} exists`);const o=window.customElements.get(t);if(!o)throw new Error(`no default flowplayer component with the name ${t} exists`);const r=window.customElements.get(n);return"function"!=typeof r?o:r})(e._customElements,t))(e),he=(e,t,n)=>{window.customElements.get(t)||window.customElements.define(t,n),e.customElements.get(t)||e.customElements.set(t,t)};var ye,ve;!function(e){e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=4]="HIGH"}(ye||(ye={})),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.AUDIO_REQUIRED=2]="AUDIO_REQUIRED"}(ve||(ve={}));function _e(e,t,n){const o="boolean"==typeof n;if("boolean"!=typeof n&&(n=e.paused),function(e,t,n){const o=e.poll(t?"beforeplay":"beforepause",{forced:n});return o&&o.defaultPrevented}(e,n,o))return Promise.resolve();if(!n)return Promise.resolve(e.pause());if(0==e.reaper)return Promise.resolve();const r=e.reaper.get("__pending_play");return 0!=e.paused||r?r?(r.src!==Ee(e.original_src)&&ge(e),r):(e)&&ge(e),(e=>e.autoplay&&ve.AUDIO_REQUIRED&e.autoplay)(t)?function(e){e.muted=!1,0==e.volume&&(e.volume=1);return e.play().catch(}(e):(e.setState(Q,!1),e.play().catch(t=>(console.warn("[flowplayer/play] attempting muted autoplay\n%s",t.message),e.muted=!0,e.volume=0,e.play())))):Promise.resolve()}unction Ee(e){const t=document.createElement("a");return t.href=e,t.href}st Oe=unction Ne(e){var{src:t,type:n}=e,o=we(e,["src","type"]);return t&&n?[Object.assign({src:t,type:n},o)]:n&&!t?[Object.assign({type:n},o)]:Oe(Object.assign({src:t},o))}var Ae;function Ie(e,t,n,o={safari:!1}){const r=n);return[J,K,Y,Z,X,ne].forEach(,!e.hasState("is-playlist")&&e.setState(Q,!t.autoplay),Array(...Array(r.length)).map((e,t)=>t).some(n=>{const i=r[n];if(Ae.Ok==function(e,t,n){e.emit("src",n),"string"==typeof n.src&&(e.original_src=n.src);const o=function(e,t,n){return e.plugins.filter(e=>{return(t=e)&&"wants"in t;var t}).find(e=>e.wants(n.src||"",n,t))}(e,t,n);return e.setOpts({is_native:!o}),o?(o.onload(t,e.root,e,n),Ae.Ok):Ae.Err}(e,t,i)||Ae.Ok==function(e,t,n,o={safari:!1}){var r;/^audio\//.test(n.type||"")&&e.emit("audioonlysource");t.start_time&&(n.src=n.src+"#t="+t.start_time);if(""==e.canPlayType(n.type||""))return Ae.Err;if(n.drm&&(!n.drm["com.apple.fps.1_0"]||!o.safari))return Ae.Err;"string"==typeof n.src&&(e.preload=t.autoplay?"auto":null!==(r=t.preload)&&void 0!==r?r:"auto",e.src=n.src,t.autoplay&&o.safari&&e.load(),"none"!==e.preload&&e.setState(Z,!0));return Ae.Ok}(e,t,i,o))return!0;n==r.length-1&&"string"==typeof i.src&&(e.src=i.src)}),function(e,t){!e,t)}(e,t),e}!function(e){e[e.Err=0]="Err",e[e.Ok=1]="Ok"}(Ae||(Ae={}));const Le=[T,b,"src","seek:cancel"];var Re;nction De(e,t){const n=e._customElements.get(t);return n&&e.root.querySelector(n)||void 0}unction Me(...e){const t=document.createElement("div");return 0==e.length||t.classList.add(...e),t}function Ue(e,t,n){const o=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(t);for(;o.length;){if(null==e)return n;const t=o.shift();if("string"!=typeof t)return n;e=e[t]}return null==e?n:e}unction(e){e.FORWARD="forward",e.BACKWARD="backward"}(Re||(Re={}));const Be=navigator.languages||[navigator.language];function Ge(e,t,n){const o={};return n=t.lang||n,e[n]&&(o[n]=e[n]),function(){try{return Be.reduce((e,t)=>~t.indexOf("-")?e.concat(t,t.split("-")[0]):e.concat(t),[])}catch(e){return[]}}().forEach((),Object.values(o)}const He=[1e7]+""+-1e3+-4e3+-8e3+-1e11,je=()=>"undefined"==typeof crypto?"":He.replace(/[018]/g,;let qe="";!function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}}();const We=["touchstart","touchmove"];function ze(e,t){const n=new CustomEvent(e,{detail:t,cancelable:!0});return t&&Object.defineProperty(n,"data",{get:()=>t}),n}function Ve(e,t,n){const o=ze(t,n);return e.dispatchEvent(o),e}function Ke(e,t,n){const o=ze(t,n);return e.dispatchEvent(o),o}function Ye(e,t,n,o){Array.isArray(t)?t.forEach(:Xe(e,t,n,o)}function Xe(e,t,n,o){if(r=t,!~We.indexOf(r))return e.addEventListener(t,n,o),e;var r;const i=Object.assign(o||{},{passive:!0});return e.addEventListener(t,n,i),e}function Ze(e,t,n,o){return Ye(e,t,n,Object.assign(o||{},{once:!0}))}class PlayerStorage{constructor(e,t){this.implementation=e,t&&t.keys().forEach(e=>{"string"==typeof t.implementation[e]&&this.implementation.setItem(e,t.implementation[e])})}keys(){var e;const t=[];for(var n=0;n<this.implementation.length;n++)(null===(e=this.implementation.key(n))||void 0===e?void 0:e.startsWith("flowplayer/"))&&t.push(this.implementation.key(n));return t}removeItemetItem(e){try{return this.implementation.getItem("flowplayer/"+e)}catch(e){return null}}setItem(e,t){try{this.implementation.setItem("flowplayer/"+e,t)}catch(e){}}clear(){try{this.keys().forEach(}catch(e){}}get length(){try{return this.keys().length}catch(e){return 0}}class InMemoryStorage{constructor(){this.pairs=[]}tItem(e){var t;return(null===(t=this.pairs.find()||void 0===t?void 0:t[1])||null}key(e){return this.pairs[e][0]||null}removeItem(e){this.pairs=this.pairs.filter(}setItem(e,t){this.removeItem(e),this.pairs.push([e,t])}}const Qe={preload:"none",rtl:!1,controls:!0},Je=["loop","muted","preload"];function $e(e,o,r){let i;r.live_state={dvr_window:void 0,get dvr(){return i},set dvr(t){i=t;const n=!(!e.live||t);r.hasState(oe)!=n&&r.setState(oe,n)}},r._storage=new PlayerStorage(["localStorage","sessionStorage"].map(e=>{try{const t=window[e];return t.getItem(""),t}catch(t){return console.debug(`Access to window.${e} denied, trying next option`),null}}).find(||new InMemoryStorage),r.toJSON=r.setSrc=r.playerState=r.playerState||{},r.setState=function(e,t){if(r.playerState[e]===!!t)return r;const n=Object.assign({},r.playerState,{[e]:t});return n[te]&&(n[K]=!1),r.playerState=n,Ve(r,"state",r.playerState),r},r.createComponents=function(...e){return Array.from({length:e.length}).map((t,n)=>me(this,e[n]))},r.hasState=r.transitionState=function(e,t,n){!r.hasState(e)&&r.hasState(t)||(n=0),n&&r.setState("is-toggling",!0),r.setState(t,!1),r.setState(e,!0),n&&setTimeout((function(){r.setState("is-toggling",!1)}),n)},r.emit=(e,t)=>(Ve(r,e,t),r),r.on=(e,t)=>(Ye(r,e,t),r),r.once=r.off=(e,t)=>{var n,o;return n=e,o=t,r.removeEventListener(n,o),r},r.poll=r.togglePlay=r.toggleMute=function(e){e=null==e?!r.muted:!!e,r.muted=e,r.muted||r.volume||(r.volume=1),Ve(r,"volumechange")},r.toggleDisable=r.destroy=function(){r.pause();const e=t.indexOf(r);~e&&t.splice(e,1),setTimeout((function(){r.setSrc([]),r.reaper&&r.reaper.clear(),Ve(r,T),r.setState("is-destroyed",!0)}),0)},r.setAttrs=function(e){return Je.forEach(t=>{if(!(t in e))return;const n=e[t];n?r.setAttribute(t,n.toString()):r.removeAttribute(t)}),r},r.opt=function(t,n){return n=void 0===n?Ue(Qe,t):n,Ue(e,t,n)},r.i18n=function(e,t){if(!r.reaper)return"";const n=r.reaper.get("translations");return n?n,e,t||""):t||""},r.setOpts=function(t){Object.assign(e,t),e.live&&!r.hasState(ee)&&(r.setState(oe,!0),Ve(r,"live")),"disabled"in t&&void 0!==t.disabled&&r.toggleDisable(t.disabled),"muted"in t&&void 0!==t.muted&&r.toggleMute(t.muted),"dvr"in e&&(r.live_state.dvr=r.opt("dvr"));const n=!!e.autoplay&&!r.hasState("no-autoplay");r.setState("is-autoplay",n),r.setState("is-rtl",r.opt("rtl",o))),r.setState(ee,!!e.live),r.setState("has-poster","string"==typeof e.poster&&e.poster.length>0),r.setState("is-seekable",!!e.seekable),r.setState("no-controls",0==e.controls),o.style.backgroundImage=r.hasState("has-poster")?"url('"+e.poster+"')":"",Ve(r,N,e)},r.renderPlugin=function(e){Ke(r,"renderplugin",e).defaultPrevented||r.root.appendChild(e)};const s={offset:0,timer:0};var a,l;l=s,(a=r).on(Le,(),r.enqueueSeek=r.deviceId=function(){return function(e){if(qe)return qe;try{const t=e.getItem("flowplayer/uuid");if(t)return t;const n=je();return e.setItem("flowplayer/uuid",n),n}catch(e){return qe=je()}}(r._storage)}}function et(e,t){const n=t.querySelector("video"),o=n||(e._video_element_callback?e._video_element_callback(e):document.createElement("video"));return o.classList.add("fp-engine"),o.playsInline=!0,n||t.append(o),o}var tt="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function nt(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;if(null===document.currentScript)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});const n=e.flowplayer;return"function"==typeof n?(n(t),t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t),t)}function ot(){return"undefined"!=typeof window?window:void 0!==tt?tt:{}}const rt=["localhost","127.0.0.1","0.0.0.0","s.codepen.io","cdpn.io","try.flowplayer.com"];t.check_whitelist=const st="production";function at(e,t){const n={valid_jwt:!1,raw:"",data:{acl:0},exp:0};let o={c:"{}",exp:0};t=t||{};try{o=pe(e),n.valid_jwt=!0}catch(e){}return n.raw=e,n.data=JSON.parse(o.c),n.exp=o.exp,t.require_valid_token&&at.validate(n),n}function lt(e){try{return at.validate(e),{success:!0,message:""}}catch(e){return{success:!1,message:e.message}}}var ct;function ut(e){return{grant:e,is_granted:t=>(e&t)===t}}function dt({root:e,video:t,data:n}){t&&t.destroy(),console.error(new Error(n.details||n.reason)),e.innerHTML="",e.classList.remove("flowplayer"),e.classList.add("flowplayer-fatal"),e.style.removeProperty("background-image");const o=document.createElement("h2");o.textContent="Playback Error";const r=document.createElement("p");r.textContent="Are you the site owner?";const i=document.createElement("a");i.classList.add("troubleshoot"),i.target="_blank",i.href="https://docs.flowplayer.com/troubleshooting/player#"+n.reason,i.textContent="Troubleshoot?";const s=document.createElement("img");s.src="https://flowplayer.com/user/pages/images/logo-white.png",e.append(o,r,i,s)}at.validate=function(e){if("string"==typeof e&&(e=at(e)),!e||!e.raw){if(it.check_whitelist(window.location.hostname)||"dev"===st.toString())return!0;throw new Error("No token provided in configuration")}if(!e.valid_jwt)throw new Error("Invalid token provided");const t=window.location.hostname,n=it.bind(null,t);if("dev"!==st.toString()&&e.data.domain&&e.data.domain.length&&!e.data.domain.some(n))throw new Error("Domain not allowed");if("dev"!==st.toString()&&1e3*e.exp-Date.now()<0)throw new Error("Expired token");return!0},at.id=function(e){if(e)return"string"==typeof e&&(e=at(e)),e.data.id},ct||(ct={})),ut.of=ut,ut.from_token=function(e){const t=at(e,{require_valid_token:!0});return ut.of(t.data.acl)},ut.permissions=ct;function pt(e,t){const n=t.clientWidth;t.classList.toggle("is-small",n<600),t.classList.toggle("is-tiny",n<400)}function ft(e,t,o){let r=!0;t.classList.add("flowplayer"),pt(0,t),Ye(o,[y,"resize"],(),Ye(o,"state",(function(){Object.entries(o.playerState).forEach((function([e,n]){t.classList.toggle(e,n)}))})),Ye(o,"timeupdate",(function(){o.setState(te,!o.hasState("is-casting")&&!o.hasState(Q)&&o.readyState<3)})),Ye(o,w,(function(t){setTimeout((function(){if(!t.defaultPrevented){if(e.rewind&&!o.loop){const t=o.src;e.autoplay&&(e.autoplay=0,o.setState("is-autoplay",!1)),o.setState(J,!0),Ze(o,S,(function(){t===o.src&&(o.setState(J,!1),o.pause(),o.setState(Q,!0))})),o.currentTime=0}Ze(o,"timeupdate",(function(){o.setState($,!1)})),o.transitionState($,K,e.loop||e.rewind?0:300)}}),0)})),Ye(o,[b,S],(function(e){o.setState(J,e.type==b),o.setState(Y,o.paused),o.setState(K,!o.paused)})),Ye(o,"remotesession:ended",(function(e){setTimeout(0)})),Ye(o,w,(function(){o.setState(K,!1),r=!0})),Ye(o,h,()=>{if(!o.opts.live||!o.opts.is_native)return;const e=o.seekable;0!=e.length&&o.emit("dvr/window",e.end(e.length-1)-e.start(0))}),Ye(o,n().ios?f:m,(function(){var e,t;o.setState(X,!0),o.setState(Z,!1);const n=o;0===(null===(e=n.videoTracks)||void 0===e?void 0:e.length)&&(null===(t=n.audioTracks)||void 0===t?void 0:t.length)>0&&o.emit("audioonlysource")})),Ye(o,[g,E,y],(function(t){if(!o.hasState(J)&&(t.type!=E||e.autoplay||o.setState(te,!1),t.type!=y||"none"!=o.opt("preload")||e.autoplay)){if(t.type==y&&e.autoplay)return Ze(o,_,();t.type==g&&([K,Y,Q].forEach((),o.hasState(X)||o.setState(Z,!0)),o.setState($,!1),o.setState(te,t.type==g)}})),Ye(o,[_,v],(function(t){setTimeout(()=>{const e=new CustomEvent("flowplayer/"+t.type,{detail:o});document.dispatchEvent(e)},0);const n=t.type==_,i=o.currentTime==o.duration,s=n&&r&&e.autoplay||o.hasState(te);if(n&&(o.started=!0,r=!1),o.setState(te,!1).setState(Q,!1),i||o.hasState(J))return;const a=n?K:Y,l=n?Y:K;o.transitionState(a,l,s?0:300),n&&o.setState("no-autoplay",!1)}))}const mt=[0].concat(Array.from({length:100}).map((e,t)=>(t+1)/100));function ht(e,t,n){if(!window.IntersectionObserver)return;const r={should_resume:!!e.autoplay,has_user_gesture:!1,locked:!1};[u,o].forEach(e=>Ze(n,e,),Ye(n,"play",(function(){r.locked||(r.should_resume=!0)})),Ye(n,"src",(),Ye(n,v,();const i=()=>{setTimeout(()=>{n.setState(Q,!0),n.setState("is-autoplay",!1)},100)};Ye(n,E,()=>{if(e.autoplay)return n.hasState(ie)&&r.should_resume?n.togglePlay(!0).catch(i):void(e.autopause||n.hasState(ie)||!r.should_resume||Ze(n,"viewenter",()=>{e.autoplay&&r.should_resume&&n.togglePlay(!0).catch(i)}))});const s=new IntersectionObserver(e=>{e.forEach(e=>{setTimeout(()=>{const t=e.intersectionRatio,o=n.hasState(ie);if(n.setState(ie,t>=.2),n.emit("intersectionchange",{ratio:t}),o===n.hasState(ie))return;const r=n.hasState(ie)?"viewenter":"viewleave";n.emit(r)},0)})},{threshold:mt});s.observe(t),n.on(T,()=>s.disconnect()),Ye(n,"viewenter",(function(){r.should_resume&&e.autopause&&!yt()&&n.togglePlay(!0)})),Ye(n,"viewleave",(function(){if(!e.autopause||yt())return;const t=!n.paused;r.locked=!0,n.pause(),setTimeout((,0)}))}function yt(){return t.find(}function vt(e,t){if(!window.ResizeObserver)return;const n=new ResizeObserver(e=>{const n=e[e.length-1];t.emit("resize",n)});n.observe(e),t.on(T,()=>n.disconnect())}function _t(e){if("number"==typeof e&&!isNaN(e))return Number(e);if("string"==typeof e){const t=e.split(":");return Number(t[1])/Number(t[0])}return e}function gt(e,t,n){const o=!!e.ratio,r=document.createElement("div");r.classList.add("fp-ratio"),t.append(r);let i=_t(e.ratio||.5625);r.style.paddingTop=100*i+"%";const s=[m,f];n.on(s,(function(){if(o)return;const e=n.videoHeight&&n.videoWidth&&n.videoHeight/n.videoWidth;e&&n.setOpts({ratio:e})})),n.on(N,(function(){const t=n.videoHeight&&n.videoWidth&&n.videoHeight/n.videoWidth,o=_t((null==e?void 0:e.ratio)||t||.5625);i!==o&&(i=o,r.style.paddingTop=100*o+"%")}))}class ExplorerPlan{nit(e,t,n){this.root=t,this.player=n,this.wireUp()}wireUp(){var e,t;this.cleanUp(),null===(e=this.player)||void 0===e||e.once(_,this.render),null===(t=this.player)||void 0===t||t.once(w,this.wireUp)}cleanUp(){var e,t,n,o;null===(t=null===(e=this._logo)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this._logo),null===(n=this.player)||void 0===n||n.off(_,this.render),null===(o=this.player)||void 0===o||o.off(w,this.wireUp)}render(){var e,t,n;null===(t=null===(e=this._logo)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this._logo);const o=(null===(n=this.root)||void 0===n?void 0:n.querySelector(".fp-ui"))||this.root;if(!o)return;const r=this._logo=document.createElement("a");r.href="https://explorer.flowplayer.com",r.target="_blank",Object.entries(Et).forEach(([e,t])=>{r.style.setProperty(e,t,"important")}),o.appendChild(r)}}const Et={display:"block",opacity:"1",visibility:"visible",width:"33%","padding-top":"9%",position:"absolute","z-index":"9999",bottom:"25%",left:"10%","background-size":"cover","background-image":"url(https://static.flowplayer.com/explorer/explorer.svg)"},wt="flowplayer/"+_;function St(e){const t=t=>{t.detail!==e&&!1===e.opt("multiplay")&&e.togglePlay(!1)};e.on(T,,document.addEventListener(wt,t)}function bt(e,t){const n=[];e.addEventListener("contextmenu",o=>{const r=o.timeStamp;for(n.push(r);n.length>3;)n.shift();n.length>=3&&n.every(&&(console.debug("flowplayer/debug rendering info"),function(e,t){var n;!function(e){const t=e.querySelector(".debug-info");null==t||t.remove()}(e);const o=document.createElement("div");o.classList.add("debug-info");const r=Ot("flowplayer.version","3.5.0");o.append(r);const i=null===(n=null==t?void 0:t.hls)||void 0===n?void 0:n.constructor;if(i&&i.version){const e=Ot("hls.version",i.version);o.append(e)}e.appendChild(o)}(e,t))})}const Ot=(e,t)=>{const n=document.createElement("div");n.classList.add("row",e);const o=document.createElement("span");o.classList.add("attr"),o.textContent=e;const r=document.createElement("span");return r.textContent=t,r.classList.add("value"),n.append(o,r),n};function Tt(e,t){const n=function(){try{return localStorage.getItem("flowplayer/debug")}catch(e){return""}}(),o=(o,...r)=>{try{const i=(null==t?void 0:t.debug)||n;i&&e.match(i)&&console.log(`flowplayer/${e} -- ${o}`,...r)}catch(e){console.warn(e)}};return o.log=o,o}const Nt=Tt("core/retry");function At(e,t){const n={pending:void 0,count:0};e.on("error",o=>{t.retry&&void 0===n.pending&&(++n.count,n.pending=function(e,t){return setTimeout(()=>{e.hasState("is-destroyed")||(t.pending=void 0,[O,L].forEach(t=>e.emit(t)),Nt("%s try",t.count))},3e3*t.count)}(e,n))}),e.on(_,()=>{n.count=0}),e.on(["src",O],}const It=);function Lt(n,o){if("function"==typeof n)return e.push(...[...arguments].filter(),Lt;"string"==typeof o&&(o={src:o}),o||(o={}),o.token||"string"!=typeof window.__FLOWPLAYER_TOKEN||(o.token=window.__FLOWPLAYER_TOKEN);const r="string"==typeof n?document.querySelector(n):n;if(!r)return console.error(new Error("Flowplayer: '"+n.toString()+"' not found"));const i=r.querySelector("video.fp-engine");if(i)return i;const s=lt(o.token);if(!s.success)return dt({root:r,data:{reason:"token",details:s.message}});const a=new Map,l=et(o,r);l.reaper=a,l._customElements=fe,Object.defineProperty(l,"token",{value:"string"==typeof o.token?at.id(o.token):"",writable:!1}),l.addEventListener(T,()=>{a.clear(),l.reaper=0,delete l.root}),l.root=r,o.token&&ut.from_token(o.token).is_granted(ut.permissions.DEVELOPER_PLAN)&&e.push(ExplorerPlan),!~t.indexOf(l)&&t.push(l),$e(o,r,l),l.setAttrs(o),l.plugins=Lt.extensions.map(,ft(o,r,l),ht(o,r,l),vt(r,l),gt(o,r,l),St(l),bt(r,l),At(l,o),l.plugins.forEach(e=>{try{e.init(o,r,l)}catch(t){console.log("Error(plugin/%s)",e.constructor.name,t)}}),l.setOpts(o),l.opts=o,o.src&&l.setSrc(o.src);const c=l.readyState;return c>0&&l.currentSrc&&l.emit(f),c>2&&l.currentSrc&&l.emit(E),l.emit("mount"),l.on("error:fatal",(function(e){dt({root:r,video:l,data:e.data||{}})})),l}Object.assign(Lt,It),function(o){Array.isArray(o.extensions)&&o.extensions.forEach(,o.customElements=fe,o.defaultElements=V,o.version="3.5.0",o.commit="edba17692e1780f526125015f68c0ab3dbd22a5b",o.instances=t,o.extensions=e,o.support=n,o.events=R,o.states=ae,o.jwt=pe,o.autoplay=ve,o.quality=ye}(Lt),"object"==typeof document&&setTimeout(Ve,0,document,"flowplayer:umd",Lt);var Rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ar Ct=kt((),Dt=kt((),xt=kt((),Mt=kt((),Ut=kt((),Pt=kt((),Ft=kt((),Bt=kt((),Gt="ping",Ht="display",jt="view";const qt=["sitegroup_id","session_id","media_id","site_id","player_id","video_type"],Wt=["created","position"],zt=["player_version","created","source","category","category_id","autoplay","muted","customer_user_id"];function Vt(e,t){return e.duration/1===e.duration&&Object.assign(t,function(e){const t=e/100;return{segment_duration:t,breakpoints:Array(...Array(100)).map(()}}(e.duration))}function Kt(e,t,n){if(!t.segment_duration&&!Vt(e,t))return;const o=function(e,t,n){const o=t.last_idx,r=n?99:Yt(e,t);return t.last_idx=r,r<=o?[]:t.breakpoints.slice(o,99==r?100:r).map(()}(e,t,n);0!=o.length&&e.emit(Gt,{position:o})}function Yt(e,t){return Math.min(Math.floor(e.currentTime/t.segment_duration),99)}onst Zt="vod",Qt="live",Jt=[Ht,Gt,jt];function $t(e,t,n){switch(null==t?void 0:t.kind){case"live":return function(e,t){const n=Date.now();n-t.last_tracked_ts<6e4||(t.last_tracked_ts=n,++t.ticks,e.emit(Gt,{position:60*t.ticks}))}(e,t);case"vod":return Kt(e,t,"boolean"==typeof n&&n)}}lass Analytics{init(e,t,n){if(!ut.from_token(e.token||"").is_granted(ut.permissions.ANALYTICS))return;if(n.hasState("consent-no-tracking"))return;if(n.analytics)return;const o=n.analytics={ticker:void 0,last_media_id:"",ended:!1},r={locked:!1,ttl:6e3,task:;const i={session_id:n.deviceId(),autoplay:n.autoplay,muted:n.muted,player_id:e.player_id,customer_user_id:e.customer_user_id,player_version:"3.5.0"},s=Bt.Tracker.of(n,{verb:Bt.Tracker.verb.POST,url:"https://ptm.flowplayer.com/:video_type/:sitegroup_id/:event_type",events:Jt,required_keys:qt,optional_keys:zt.concat(Wt).slice(0),metadata:i});n.on(T,(function(){s&&s.destroy()})),n.on(N,(function(t){if(!s)return;const r=Ue(t,"data.metadata",{});if(!r.media_id)return;const i=Ue(s,"metadata.media_id");if(i&&r.media_id==i)return;const a=Ue(e,"analytics",{});s.put(r),s.put(a);const l=Ue(e,"metadata.live_start_time",e.live)?Qt:Zt;s.put({video_type:l,source:e.source||Xt()||""}),o.ticker=e.live?{ticks:0,last_tracked_ts:Date.now(),kind:"live"}:{last_idx:0,segment_duration:0,breakpoints:[],kind:"vod"},o.ended=!1,n.emit(Ht)}));let a=0;n.on(_,(function(){if(!s)return;if(a||s,o))return;s.put({muted:n.muted});const e=en(n);if(e)return a=Promise.resolve(e).then((function(){o.last_media_id=s.metadata.media_id,n.emit(jt),a=0})).catch(();o.last_media_id=s.metadata.media_id,n.emit(jt)})),n.on("timeupdate",(function(){var t;s&&(a||en(n)||o.ended||(!e.live&&n.currentTime+.25>=n.duration&&$t(n,o.ticker,!0),(t=r).locked||(t.locked=setTimeout((function(){return t.task(),t)}),t.ttl))))})),n.on(S,(function(){s&&o.ticker&&"vod"==o.ticker.kind&&function(e,t){Vt(e,t),t.last_idx=Yt(e,t)}(n,o.ticker)})),n.on(w,(function(){s&&function(e,t){t.ended||(t.ended=!0,$t(e,t.ticker))}(n,o)}))}}var tn;unction on(){}t(ot(),Analytics),"undefined"!=typeof window&&window.matchMedia&&[A,I].forEach((),tn||(tn={}));function sn(e,t){if(t.message)return t.message;if(t.stack)return t.stack;const n=t.code||-1,o=nn(n);return e.i18n("media_errors."+n,o)}const an=()=>!0===(navigator||{}).onLine;unction cn(e,t,n){const o=n.togglePlay;n.on("error",(function(e){const t=e.data||n.error,r="Error: %s\n"+(null===(i=(new Error).stack)||void 0===i?void 0:i.split("\n").slice(2).join("\n"));var i;setTimeout((function(){const i=De(n,k);if(e.defaultPrevented||!i||n.root.querySelector("#qul_error"))return;if("AbortError"==t.name)return;n.setState("is-error",!0),n.togglePlay=on;const s=function(e,t){return{code:"http:0"===t.code?dn(e):t.code,message:sn(e,t)}}(n,t);console.error(r,s.message);let a=De(n,"flowplayer-error");a||(a=me(n,"flowplayer-error"),i.append(a)),Ve(a,"error",{data:t,formatted_data:s}),n.once(y,}))})),n.on(O,()=>un(n,o))}function un(e,t){const n=De(e,"flowplayer-error");e.togglePlay=t,e.opt("retry")&&e.setState(te,!0),e.setState("is-error",!1),null==n||n.remove()}function dn(e){return ln(e.original_src)?{code:tn.MIXED_CONTENT}:an()?{code:tn.MEDIA_ERR_NETWORK}:an()?{code:tn.UNKNOWN}:{code:tn.NO_INTERNET}}var pn=Object.freeze({__proto__:null,NO_FULLSCREEN:1,NO_VOLUME_CONTROL:2,NO_MUTE:4,LOGO_ON_RIGHT:8,USE_DRAG_HANDLE:16,USE_PLAY_2:32,USE_PLAY_3:64,USE_THIN_CONTROLBAR:128,NO_TITLE:256,NO_DESCRIPTION:512,NO_CONTROLS:1024,NO_DURATION:2048,NO_HEADER:4096,AUDIO_ONLY:8192,NO_TOUCH_ZONES:16384,LOGO_ON_BOTTOM:32768});function fn(e,t,n){let o=()=>document.fullscreenElement,i="fullscreenchange";if(!Element.prototype.requestFullscreen){const e=Element.prototype,t=document;e.webkitRequestFullScreen&&(e.requestFullscreen=e.webkitRequestFullScreen,t.fullscreenEnabled=!0),t.webkitCancelFullScreen&&(document.exitFullscreen=t.webkitCancelFullScreen),i="webkit"+i,o=()=>t.webkitCurrentFullScreenElement}const s=n.toggleFullScreen=function(e,t){if(n.ios_fullscreen_disabled)return;if("boolean"!=typeof e&&(e=!n.hasState("is-fullscreen")),mn(n)&&(e?n):function(e,t){e.getAttribute("playsinline")||e.setAttribute("playsinline","");e.getAttribute("webkit-playsinline")||e.setAttribute("webkit-playsinline","");t||e.webkitExitFullScreen();e.togglePlay(!1),e.hasState(re)||e.setState(re,!0)}(n,t)),!document.fullscreenEnabled)return;const r=s();if(e)return r.requestFullscreen();o()===r&&document.exitFullscreen()},mn(n)&&(n.ios_fullscreen_disabled=!0,n.once("beforeplay",(function(){n.ios_fullscreen_disabled=!1})),n.on("webkitendfullscreen",()),setTimeout(()=>{const e=s();e.addEventListener(i,(function(){const t=o(),r=t===e||t==n;n.emit(r?d:p),n.setState("is-fullscreen",r)}))},0),!1!==e.doubleclick&&t.addEventListener(r,(function(e){var t;e.target&&(null===(t=e.target)||void 0===t?void 0:t.classList.contains("fp-ui"))&&n.toggleFullScreen()}))}function mn(e){return n().ios&&"function"==typeof e.webkitEnterFullScreen&&"function"==typeof e.webkitExitFullScreen}function hn(e,t){const n=e.seekable;if("object"!=typeof e.opts||0==n.length)return{head:0,tail:0};const o=n.end(n.length-1),r=t||e.live_state.dvr_window;return{head:o,tail:"number"!=typeof r||o-r<0?n.start(0):o-r}}unction vn(e){return isFinite(e.duration)?e.duration:0==e.seekable.length?0:hn(e).head}function _n(e){return e)-.5}function gn(e,t,n){if(!n.reaper)return;const o=document.createDocumentFragment(),r=me(n,k),i=me(n,C);t.append(i),o.append(r),n.reaper.set("ui",r),~t.className.indexOf("use-play-")||t.classList.add("use-play-1"),function(e,t,n){const o=Me("fp-footer");t.append(o),n.on(N,(function(e){var t,n;const r=null===(t=e.data)||void 0===t?void 0:t.description,i=null===(n=e.data)||void 0===n?void 0:n.title;if(o.innerHTML="","string"==typeof i){const e=Me("fp-title");e.innerText=i,o.append(e)}if("string"==typeof r){const e=r.split(" "),t=Me("fp-desc");for(t.innerText=e.join(" "),o.append(t);e.length>1&&t.scrollHeight>t.offsetHeight;)e.pop(),t.innerText=e.join(" ")+"..."}}))}(0,t,n),cn(0,0,n),t.appendChild(o),[s,a].forEach(e=>{t.addEventListener(e,(function(e){n.setState("is-hovered",e.type==s),n.setState("is-accessibility",!1)}))}),fn(e,t,n),n.on("volumechange",(function(){const e=0==n.volume||n.muted;n.setState("is-muted",e),n._storage.setItem("mute",e.toString())})),"true"==n._storage.getItem("mute")&&(n.muted=!0,n.setState("is-muted",n.muted));const u=n._storage.getItem("volume");u&&!isNaN(Number(u))&&(n.volume=Number(u)),n.emit("volumechange"),n.on("dvr/window",t=>{e.live&&(n.live_state.dvr=n.seekable.length>0&&function(e,t,n){if(0==t)return!0;const o=hn(e,n);return o.head-o.tail>=t}(n,e.seconds_to_dvr||60,t.detail),n.live_state.dvr_window=t.detail)}),n.on("live",()=>{const e=setInterval(()=>{if(n.opts.live&&!n.hasState("is-error")&&0!=n.reaper||(n.setState(ee,!1),clearInterval(e)),0==n.seekable.length)return;const t=function(e){var t;const n=e.currentTime,o=hn(e),r=!e.hasState("is-chromecast-playing")&&(null===(t=e.hls)||void 0===t?void 0:t.liveSyncPosition);return{progress:Math.min(100,Math.max(0,(n-o.tail)/(o.head-o.tail)*100)),is_live:n-(r||o.head)>=-10}}(n);n.hasState(ne)==t.is_live&&n.setState(ne,!t.is_live),n.live_state.dvr&&n.emit("dvr",t.progress)},200)}),n.on(f,(),n.on("durationchange",(function(e){const t=yn(n),o=t?vn(n):e.data||n.duration;isNaN(o)||n.setOpts({live:t,duration:o})})),n.on(["playlist/advance","src"],t=>{if(n.root.classList.contains("is-livecountdown"))return En(n,e);n.currentSrc&&("src"===t.type&&["is-playlist",se].some(||En(n,e))}),n.on(N,(function(n){var o,r;e.seekable=void 0===(null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.seekable)||n.data.seekable;const i=null===(r=n.data)||void 0===r?void 0:r.ui;if("number"!=typeof i)return;const s=t.classList;s.toggle("use-play-1",!(32&i||64&i)),s.toggle("use-play-2",(32&i)>0),s.toggle("use-play-3",(64&i)>0),s.toggle("use-thin-controlbar",(128&i)>0),s.toggle("no-title",(256&i)>0),s.toggle("no-description",(512&i)>0),s.toggle("logo-on-right",(8&i)>0),s.toggle("logo-on-bottom",(32768&i)>0),s.toggle("use-drag-handle",(16&i)>0),s.toggle("no-controls",(1024&i)>0),s.toggle("no-duration",(2048&i)>0),s.toggle("no-header",(4096&i)>0),s.toggle("no-mute",(4&i)>0),s.toggle("no-volume",(2&i)>0),s.toggle("no-fullscreen",(1&i)>0),s.toggle("no-touch-zones",(16384&i)>0)}));let d=null;[l,c].forEach(e=>r.addEventListener(e,(function(e){n.hasState("is-touch-device")&&e.type===l||("number"==typeof d&&clearTimeout(d),n.setState("is-hovered",!0),d=0==n.paused&&setTimeout((function(){n.setState("is-hovered",!1)}),2e3))})))}function En(e,t){delete t.live_start_time,e.setOpts({live:!1}),e.live_state.dvr=void 0,e.live_state.dvr_window=void 0,delete t.live,delete t.poster,delete t.duration,delete t.title,delete t.description}function wn(e,t,n){if(ut.from_token(e.token||"").is_granted(ut.permissions.NO_METERING))return;at.id(e.token||"")&&n.once(_,async()=>await async function e(t,n){const o=at.id(n||"");t.once("src",;if(401==(await fetch("https://pmi.flowplayer.com/in",{method:"POST",body:JSON.stringify({token_id:o,factor:1,rnd:Math.random().toString(36).substring(2)})})).status)return t.emit("error:fatal",{reason:"token",details:"The token online validation failed"});if(!n))return;if(function(e){try{return new URL(e).hostname.endsWith(".wowza.com")}catch(e){return!1}}(t.original_src))return;return t.emit("error:fatal",{reason:"token",details:"This token only allows wowza video sources"})}(n,e.token||""))}var Sn={ads:{ad:"Ad",ads:"Ads",advertisement:"Advertisement"},audio:{button_txt:"Audio",menu_title:"Audio"},core:{exit_fullscreen:"Exit fullscreen",fullscreen:"Fullscreen",mute:"Mute",pause:"Pause",play:"Play",unmute:"Unmute",volume:"Volume"},ovp:{starting_in:"Countdown"},playlist:{cancel:"Cancel",up_next:"Up next"},qsel:{menu_title:"Quality"},share:{clipboard_failure:"Access to clipboard failed",clipboard_success:"The text is now on your clipboard",embed:"Embed",link:"Link",menu_title:"Share"},speed:{menu_title:"Speed"}};class I18n{init(e,t,n){n.reaper&&n.reaper.set("translations",Ge(I18n,e,"en"))}}I18n.en=Sn;const bn="rebuffer";var On=Object.freeze({__proto__:null,RECORD:"health:record",REBUFFER:bn,DISPLAY:"display"});const Tn=navigator;function Nn(e){var t,n;const o=null===(t=e.hls)||void 0===t?void 0:t.bandwidthEstimate;return o?1e-6*o:(null===(n=Tn.connection)||void 0===n?void 0:n.downlink)||-1}function An(e,t){return async function(e,t){try{await fetch(e,{body:t,method:"POST",mode:"no-cors"})}catch(e){}}(e,JSON.stringify({events:t}))}const In="https://ljsp.lwcdn.com".concat("/web/public/countdown/time.json"),Ln=window,Rn=Ln._flowplayerTimekeeper||(Ln._flowplayerTimekeeper={});const kn=e=>{switch(e){case!0:return ve.ON;case!1:return ve.OFF;default:return e}},Cn=[],Dn="https://ihi.flowplayer.com/v1/health/events";function xn(e){if(e.suspended)return;const t=Cn.slice(0);Cn.length=0,0!=t.length&&(e.logger.log(`:dispatch events={${t.length}}`),An(function(){try{return"undefined"==typeof window?Dn:window.__FLOWPLAYER_INSIGHTS_URL?window.__FLOWPLAYER_INSIGHTS_URL:Dn}catch(e){return Dn}}(),t))}async function Mn(e,t,n){const o=await Pn();Cn.push(Object.assign(t,o)),e.logger.log(":enqueue",t.event,t),Cn.length<10&&!n||xn(e)}const Un=()=>{var e,t;try{const n=window;return null===(t=null===(e=null==n?void 0:n.google)||void 0===e?void 0:e.ima)||void 0===t?void 0:t.VERSION}catch(e){return}},Pn=async()=>{const e=Date.now();try{return{adjusted_time:e-await async function(){const e=Rn.cachedServerOffset;if(e)return e;const t=Rn.pendingRequest||(Rn.pendingRequest=fetch(In)),n=await t,o=parseInt(n.headers.get("age")||"0"),r=await n.json(),i=Date.now()-r.millisUtc-1e3*o;return Rn.cachedServerOffset=i,Rn.cachedServerOffset}(),client_time:e}}catch(t){return{client_time:e}}},Fn=Bn=(e,{event:t,media_session_id:n,session_id:o})=>({event:t,media_session_id:n,session_id:o,device_id:e.deviceId(),version:"3.5.0",commit:"edba17692e1780f526125015f68c0ab3dbd22a5b",ima_sdk_version:Un(),preload:e.opt("preload"),autoplay:kn(e.opt("autoplay")),live:e.opt("live"),dvr:!!e.live_state.dvr,source:e.original_src,downlink_mbs:Nn(e),page_url:Xt(),player_id:e.opt("metadata.player_id"),media_id:e.opt("metadata.media_id"),site_id:e.opt("metadata.site_id"),category_id:e.opt("metadata.category_id"),sitegroup_id:e.opt("metadata.sitegroup_id"),token:e.token,plugins:e.plugins.map(.sort(,current_time:e.currentTime,external_media_id:e.opt("external_media_id")}),Gn=e=>({bitrate:null==e?void 0:e.bitrate,resolution:null==e?void 0:e.attrs.RESOLUTION,frame_rate:null==e?void 0:e.attrs["FRAME-RATE"]});function Hn(e,t,n,o){const r=Bn(t,e.eventInfo(n)),{before:i,after:s}=o;Mn(e,((e,t,n)=>Object.assign(e,{state:{before:t,after:n}}))(r,Gn(i),Gn(s)))}const jn=(e,t)=>{let n=null;return(...o)=>{null!==n&&(clearTimeout(n),n=null),n=setTimeout(e)}},qn=je();class Health{constructor(e,t){this.session_id=qn,this.suspended=!1,this.logger=Tt("health",t.opts),this.media_session_id=je(),this.analyticsLoop=setInterval(()=>xn(this),2e3),t.on(T,;const n=this;if(t.health={get media_session_id(){return n.media_session_id},set media_session_id(e){n.media_session_id=e},get session_id(){return n.session_id},set session_id(e){n.session_id=e},toggle,!Health._UNLOAD_SUBSCRIBED){Health._UNLOAD_SUBSCRIBED=!0;const t=document.addEventListener("visibilitychange",,window.addEventListener("pagehide",t)}}eventInfosume(){this.suspended=!1,this.analyticsLoop=setInterval(2e3)}init(e,t,n){!function(e){e.on(g,(function(t){e.seeking||e.networkState===e.NETWORK_LOADING&&e.readyState!==e.HAVE_NOTHING&&e.emit(bn)}))}(n),n.on("display",e=>{Mn(this,Bn(n,this.eventInfo(e.type)),!0)}),n.on("health:record",({detail:e})=>{const t=Bn(n,this.eventInfo(e.event));Object.assign(t,e.detail||{}),Mn(this,t)}),[E,y,i,f,m,h,g,bn].forEach(e=>{n.on(e,e=>{Mn(this,Bn(n,this.eventInfo(e.type)))})}),[_,v,b,S,w,d,p].forEach(e=>{n.on(e,e=>{Mn(this,Bn(n,this.eventInfo(e.type)))})}),n.on("volumechange",jn(800,e=>{const t=Bn(n,this.eventInfo(e.type));Mn(this,Fn(t,{volume:parseFloat(n.volume.toFixed(2)),muted:n.muted}))})),n.on("resize",jn(800,e=>{const o=Bn(n,this.eventInfo(e.type));Mn(this,Fn(o,{height:t.clientHeight,width:t.clientWidth}))})),n.on("hls/failover",e=>{const t=Bn(n,this.eventInfo(e.type)),o=e.detail,{reason:r,from:i}=o;Mn(this,Fn(t,{reason:r,from:i}))}),n.on("qualitychange",({type:e,detail:t})=>{switch(t.kind){case"hls":return Hn(this,n,e,t)}});let o=Date.now()+5e3;n.on("timeupdate",e=>{if(Date.now()<o)return;o=Date.now()+5e3;const t=Bn(n,this.eventInfo(e.type));var r;Mn(this,Fn(t,{duration:(r=n.duration,Number.isFinite(r)?r:r===1/0?-1:void 0)}))}),n.addEventListener("error",e=>{const t=Bn(n,this.eventInfo(e.type)),o=e.error||n.error;if(!o)return Mn(this,t,!0);const r=o.code,i={error_message:o.message||nn(r),error_code:r,error_stack:o.stack||""};return Mn(this,Fn(t,i),!0)}),n.on("src",e=>{var t;const o=null===(t=e.detail)||void 0===t?void 0:t.src;if("string"!=typeof o)return;if(!rn(n.original_src))return;if(!rn(o))return;if(o==n.original_src)return;this.media_session_id=je();Mn(this,Bn(n,this.eventInfo(e.type))),xn(this)}),n.on("visibilitychange",e=>{Mn(this,Bn(n,this.eventInfo(e.type))),xn(this)})}}Health.events=On,Health._UNLOAD_SUBSCRIBED=!1,nt(window,Health);lass FlowplayerLogo extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-logo");const t={logo:""};e.on(N,e=>{var n,o;const r=t.logo,i=(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.logo)||"";r!=i&&(t.logo=i,this.set_logo(i,null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.logo_href))})}set_logo(e,t){if(this.innerHTML="",!e)return;const n=document.createElement("img");if(n.src=e,!t)return this.append(n);const o=document.createElement("a");o.href=t,o.append(n),this.append(o)}}class FlowplayerHeaderDuration extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-duration"),e.on(N,e=>{var t;const n=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.duration)||NaN;this.innerText=isFinite(n)?Fe(n):""})}}const Wn={name:"fp-fullscreen",translation_key:"core.fullscreen"},zn={name:"fp-fullscreen-exit",translation_key:"core.exit_fullscreen"},Vn={name:"fp-play",translation_key:"core.play"},Kn={name:"fp-pause",translation_key:"core.pause"},Yn={translation_key:"core.mute",name:"fp-volume-mute-unmute"},Xn={translation_key:"core.play",name:"fp-small-play"},Zn={translation_key:"core.pause",name:"fp-small-pause"},Qn={name:"fp-fast-forward"},Jn={name:"fp-rewind"};class FlowplayerIcon extends FlowplayerComponent{constructor(e,t){super(e),this.classList.add("fp-icon",t.name),t.title&&this.setAttribute("title",t.title),t.title&&this.setAttribute("aria-label",t.title),t.translation_key&&this.setAttribute("aria-label",e.i18n(t.translation_key)),this.setAttribute("tabindex","0"),this.setAttribute("focusable","true")}}document.addEventListener(o,(function(e){this.active_menu&&!e.composedPath().includes(this.active_menu)&&(Array.from(document.querySelectorAll(".fp-engine")).forEach(e=>{var t;const n=e.root.querySelector("details[open].fp-menu-container");n&&(n.open=!1,null===(t=n.querySelector("summary"))||void 0===t||t.removeAttribute("aria-expanded"),e.root.classList.toggle("has-menu-opened",!1))}),this.active_menu=void 0)}));const $n={passive:!0};var eo;function to(e,t){let n=0,o=-1,r=-1;const i=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),s=e.classList;e.id=i,s.remove(eo.GRABBING),s.remove(eo.TOUCHING);const a=t.onseek||on,d=t.onstart||on,p=t.onend||on,f=t.onmouse||on,m=t.ontouch||on,h=t.ontouchend||on;function y(t){!function(){const t=e.getBoundingClientRect();n=t.left,o=t.width}();let r=(t)?t.changedTouches[0].pageX:t.pageX)-n;return r>o&&(r=o),r<0&&(r=0),r/o*100}function v(t){const n=y(t);n!=r&&(a(e,n),r=n)}return e.addEventListener("touchstart",(function(t){no(e,t)&&(s.add(eo.TOUCHING),oo(e.parentElement)&&(s.add(eo.GRABBING),m(e,y(t)),d(e,y(t)),v(t)))}),$n),e.addEventListener(c,(function(t){v(t),f(e,y(t))}),$n),e.addEventListener(u,(function(t){setTimeout((,500),no(e,t)&&(s.remove(eo.GRABBING),h(e,y(t)),p(e,y(t)),o=0)}),$n),e.addEventListener("touchcancel",(function(){s.remove(eo.GRABBING,eo.TOUCHING),o=0}),$n),e.addEventListener("mousedown",(function(t){s.contains(eo.TOUCHING)||(document.addEventListener(l,v),s.add(eo.GRABBING),d(e,y(t)),t.preventDefault(),v(t))})),e.addEventListener(l,(function(t){s.contains(eo.TOUCHING)||f(e,y(t))})),document.addEventListener("mouseup",(function(t){s.contains(eo.TOUCHING)||(document.removeEventListener(l,v),s.contains(eo.GRABBING)&&(s.remove(eo.GRABBING),p(e,y(t)),o=0))})),e}function no(e,t){const n=t.target;return!!n&&(n&&!n.closest(e.id)||!oo(e.parentElement)||!e.classList.contains(eo.TOUCHING))}function oo(e){if(!e)return!1;const t=window.getComputedStyle(e);return"0"!==t.width&&"0"!==t.height&&"0"!==t.opacity&&"none"!==t.display&&"hidden"!==t.visibility}!eo||(eo={}));class FlowplayerVolumeBar extends FlowplayerComponent{constructor(e){super(e),this.className="fp-volume";const t=e.root.classList,n=t.contains("is-tiny")?6:t.contains("is-small")?8:10,o=Array.from({length:n}).map(;this.append(...o),to(this,{onseek:(t,n)=>{n>0&&(e.muted=!1,e._storage.removeItem("mute")),e._storage.setItem("volume",(e.volume=n/100).toString()),this.adjustVolumeSlider(e.volume)}}),this.setAttribute("tabindex","0"),this.setAttribute("role","slider"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","1"),this.setAttribute("aria-label",e.i18n("core.volume","volume")),e.on("volumechange",()=>{const t=0==e.volume||e.muted;t&&this.adjustVolumeSlider(0);const n=e.opt("ui");this.classList.contains(eo.GRABBING)||t&&"number"==typeof n&&(4&n)>0||this.adjustVolumeSlider(e.volume)})}adjustVolumeSlider(e){this.setAttribute("aria-valuenow",e.toString()),this.setAttribute("aria-valuetext",Math.round(100*e)+"%");const t=Array.from(this.querySelectorAll(".fp-tick")),n=Math.round(e*t.length);t.forEach((e,t)=>{e.classList.toggle("fp-color",t<n)})}}function ro(e,t){if(!e.parentElement)return;const n=e.clientWidth/e.parentElement.clientWidth*100/2;e.style.left=t-n+"%",e.style.display="block"}function io(e,t){if(isNaN(e.duration))return;const n=e.buffered;n.length&&(t.style.width=Math.min(n.end(n.length-1)/e.duration*100,100)+"%")}function so(e,t){e.style.width="0",t.style.display="none"}function ao(e,t,n){if(!t.seekable||0==t.seekable.length)return;ro(n,e);const o=hn(t),r=(100-Math.max(0,Math.min(e,100)))/100*(o.head-o.tail);n.innerText="-"+Fe(r)}function lo(e,t){e/=100,t.currentTime=function(e,t){if(t>1||t<0)return console.warn("cannot calculate a percent outside of range(0..1)"),0;const n=hn(e);return n.tail+t*(n.head-n.tail)}(t,e)}function co(e,t){e.style.width="0",t.style.display="none"}class FlowplayerTimelineBar extends FlowplayerComponent{constructor(e){let t;super(e),this.bufferEle=Me("fp-buffer"),this.progress=Me("fp-progress","fp-color"),this.tooltipEle=Me("fp-timestamp"),this.proposedSeekBar=Me("fp-hover"),this.dragger=Me("fp-dragger","fp-color"),this.classList.add("fp-timeline","fp-bar"),this.tooltipEle.style.display="none",this.setAttribute("role","slider"),this.setAttribute("tabindex","0"),this.setAttribute("aria-label",e.i18n("timeline","Timeline")),this.setAttribute("aria-valuenow","0"),this.progress.append(this.dragger),this.append(this.bufferEle,this.progress,this.proposedSeekBar,this.tooltipEle);let n=!1;const o=requestAnimationFrame;let r=void 0;const i=()=>{var n;0==e.reaper||t.live||(n=e,this.progress.style.width=n.currentTime/n.duration*100+"%",r=void 0,e.paused||this.classList.contains(eo.GRABBING)||r||(r=setTimeout(i,200)))},s=()=>!!this.player.opt("seekable",!0)&&!isNaN(this.player.duration);to(this,{onseek:(n,o)=>{if(s())switch(!!t.live){case!0:ao(o,e,this.tooltipEle);break;case!1:!function(e,t,n){const o=t.duration*(e/100);if(t.disabled&&o>t.currentTime)return!1;n.style.width=e+"%",t.currentTime=o}(o,e,this.progress),ro(this.tooltipEle,o)}},onstart:()=>{s()&&(e.emit("timeline/gesture/start"),!e.hasState("is-casting")&&e.setState(J,!0),t.live||this.tooltipEle))},onend:function(n,r){o(i),0!=t.seekable&&t.live&&lo(r,e)},ontouch:ontouchend:()=>{n&&(n=!1,e.play()),t.live?co(this.proposedSeekBar,this.tooltipEle):so(this.proposedSeekBar,this.tooltipEle),setTimeout(0)},onmouse:(n,o)=>{if(s()&&(e.emit("timeline/gesture/move",{percent:o}),!this.classList.contains(eo.GRABBING)))switch(!!t.live){case!0:!function(e,t){t.style.width=e+"%"}(o,this.proposedSeekBar),ao(o,e,this.tooltipEle);break;case!1:!o,this.proposedSeekBar),function(e,t,n){if(isNaN(e)||isNaN(t.duration))return;ro(n,e),n.innerHTML="";const o=document.createElement("span");o.innerText=Fe(e/100*t.duration),n.append(o)}(o,e,this.tooltipEle)}}}),e.on(N,(),e.on(_,,e.on(h,()=>{0==e.reaper||t.live||io(e,this.bufferEle)}),e.on("dvr",e=>{this.progress.style.width=e.detail+"%"}),e.on("timeupdate",()=>{0!=e.reaper&&(o(i),this.setAttribute("aria-valuenow",e.currentTime+""),this.setAttribute("aria-valuetext",Math.round(e.currentTime)+e.i18n("core.sec","sec")),t.live||io(e,this.bufferEle))}),e.on(f,()=>{0!=e.reaper&&(t.live||io(e,this.bufferEle))}),e.on("durationchange",t=>{if(0==e.reaper)return;const n=yn(e)?vn(e):t.data||e.duration;isNaN(n)||(this.setAttribute("aria-valuemax",n+""),this.setAttribute("aria-valuemin","0"))}),this.addEventListener(a,()=>{e.emit("timeline/gesture/end"),t.live?co(this.proposedSeekBar,this.tooltipEle):so(this.proposedSeekBar,this.tooltipEle)})}}class FlowplayerChaptersTimelineBar extends FlowplayerTimelineBar{andleChapters(e){const t=document.createElement("div");let n;this.addEventListener("chapters:new",e=>{t.innerText="",this.querySelectorAll(".fp-chapter").forEach(,e.data&&e.data.forEach(e=>{const o=document.createElement("div");o.className="fp-chapter",o.style.left=e.left,o.style.bottom=o.style.top="0",o.style.width=e.width,o.title=e.title,o.onmouseover=o.onmouseleave=()=>{t.innerText=n||""},this.appendChild(o)})}),this.addEventListener("chapter:changed",o=>{var r;const i=o.data;i&&(t.parentNode||(null===(r=De(e,D))||void 0===r||r.insertAdjacentElement("beforebegin",t),t.classList.toggle("fp-togglable",!0),t.classList.toggle("fp-chapter-info",!0)),n=i,t.innerText=i)})}}class FlowplayerLiveStatus extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-live-status");const t=Me("fp-live-text"),n=Me("fp-live-indicator","fp-color");t.textContent="live",this.setAttribute("tabindex","0"),this.setAttribute("role","button"),this.append(n,t),this.addEventListener(o,(function(){!function(e){try{e.dvr_offset=0,e.currentTime=_n(e)}catch(e){console.warn("failed to seek to now: %j",e)}}(e)}))}}class FlowplayerDuration extends FlowplayerComponent{constructor(e){let t;super(e),this.classList.add("fp-duration"),this.setAttribute("aria-hidden","true"),e.on(N,n=>{if(0==e.reaper||!n.data)return;t=n.data;const o=yn(e)?NaN:n.data.duration||0;if(isNaN(o)||o>=Number.MAX_SAFE_INTEGER)return this.style.display="none";this.style.display="inline-block",this.innerText=Fe(o)}),e.on(f,()=>{var n,o;0==e.reaper||t.live||(o=this,(n=e).duration&&(o.innerText=Fe(n.duration)))})}}class FlowplayerElapsedTime extends FlowplayerComponent{constructor(e){let t;super(e),this.classList.add("fp-elapsed"),this.innerText=Fe(0),this.setAttribute("aria-hidden","true"),e.on(N,,e.on("timeupdate",()=>{var n;0!=e.reaper&&(t.live?(n=e,this.innerText=Fe(n.currentTime)):e,this))})}}class FlowplayerControlButtons extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-btns","fp-small-switch");const t=me(e,"flowplayer-small-pause-icon"),n=me(e,"flowplayer-small-play-icon");t.addEventListener("click",(function(){e.togglePlay(),setTimeout((function(){n.focus&&n.focus()}),100)})),n.addEventListener("click",(function(){e.togglePlay(),setTimeout((,100)})),this.append(t,n)}}class FlowplayerLeftRightZone extends FlowplayerComponent{constructor(e,t){super(e),this.classList.add(t);const n=this.classList.contains("fp-left-zone")?-1:1,o=document.createElement("span"),r=me(e,this.classList.contains("fp-left-zone")?W:"flowplayer-fast-forward-icon");r.removeAttribute("tabindex"),o.classList.add("fp-zone-seconds"),this.append(o,r);e.on(S,,e.on("seek:queued",e=>{const t=e.data;if(!t)return;if("number"!=typeof t.offset)return;const n=t.offset;if(0==n)return this.reset_zone();n>0&&this.classList.contains("fp-right-zone")||n<0&&!this.classList.contains("fp-right-zone")?this.render_zone_state(n):this.reset_zone()}),e.on("seek:cancel",,this.reset_zone(),this.addEventListener(u,(function(t){isNaN(e.duration)||isNaN(e.currentTime)||16384&e.opt("ui")||e.hasState(oe)||!e.hasState("will-seek")&&!e.hasState(re)||e.enqueueSeek(5*n)&&(t.stopPropagation(),t.preventDefault())}))}reset_zone(){const e=this.querySelector(".fp-zone-seconds");e&&(e.innerText="")}render_zone_state(e){const t=this.querySelector(".fp-zone-seconds");t&&(t.innerText=Math.abs(e)+"")}}class FlowplayerError extends FlowplayerComponent{constructor(e){super(e),this.className="fp-error",this.message=document.createElement("p"),this.message.className="error-message",this.append(this.message),this.addEventListener("error",e=>{const t=e.detail;t&&(this.message.textContent=t.formatted_data.message)})}}class FlowplayerHeaderLeftRight extends FlowplayerComponent{constructor(e,t,...n){super(e),this.className=t;const r=e.createComponents(...n);this.append(...r),"fp-left"!==t&&r.forEach(}}class FlowplayerMiddleWait extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-wait"),Array(...Array(4)).map(.forEach(}}class FlowplayerMiddleZone extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-middle-zone");const t=e.createComponents(H,"flowplayer-middle-buttons");this.append(...t)}}class FlowplayerMiddleButtons extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-switch"),[j,q].forEach(t=>{const n=me(e,t);n.removeAttribute("tabindex"),this.append(n)})}}class FlowplayerVolumeControl extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-volume-control");const t=me(e,z);this.append(t),!n().ios&&this.append(me(e,P)),t instanceof FlowplayerIcon&&t.addEventListener(o,()}}class FlowplayerHeader extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-header"),this.append(...e.createComponents("flowplayer-header-left-zone","flowplayer-header-right-zone")),e.reaper&&e.reaper.set("header",this)}}class FlowplayerControls extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-controls","fp-togglable"),this.append(...e.createComponents("flowplayer-control-buttons",x,M,U,"flowplayer-control-duration","flowplayer-volume-control"))}}class FullscreenIcon extends FlowplayerIcon{constructor(e,t){super(e,t),this.setAttribute("role","button")}}class FlowplayerMiddle extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-middle"),this.append(...e.createComponents("flowplayer-middle-left-zone",G,"flowplayer-middle-right-zone")),this.setAttribute("tabindex","0"),e.reaper&&e.reaper.set("middle",this),this.handleClick(e),this.handleTouch(e),e.once("beforeplay",()=>{this.removeAttribute("tabindex"),this.removeAttribute("role"),this.removeAttribute("aria-label")})}handleClick(e){[o,r].forEach(t=>this.addEventListener(t,(function(n){if(!(n.defaultPrevented||e.root.classList.contains("is-endscreen")||t===r&&e.root.classList.contains("no-fullscreen")))return n.preventDefault(),e.emit(n.type),!1}))),e.on(o,(),e.on(r,()}handleTouch(e){let t=!1;this.addEventListener(u,(function(t){t.cancelable&&!e.hasState("is-endscreen")&&(t.preventDefault(),e.emit(t.type,{source:t}))})),e.on(u,(function(n){setTimeout((function(){if(n.defaultPrevented)return;if(e.hasState(te))return;if(e.ended)return e.togglePlay(!0);const o=e.hasState(Q);t&&clearTimeout(t),(o||e.hasState(re)||e.hasState("no-autoplay"))&&(e.hasState(re)&&(e.setState(re,!1),e.setState("is-hovered",!1)),e.togglePlay(),o)||(e.setState(re,!0),e.paused||(t=setTimeout((function(){t=!1,e.setState(re,!1),e.setState("is-hovered",!1)}),2e3)))}),0)}))}}class FlowplayerUi extends FlowplayerComponent{constructor(e){super(e),this.classList.add("fp-ui"),this.append(...e.createComponents(F,B,D))}}return Lt.extensions.unshift.apply(Lt.extensions,[I18n,Analytics,Health,class Default{constructor(e){he(e,k,FlowplayerUi),he(e,"flowplayer-error",FlowplayerError),he(e,D,FlowplayerControls),he(e,x,FlowplayerLiveStatus),he(e,"flowplayer-control-duration",FlowplayerDuration),he(e,U,e.extensions.find(?FlowplayerChaptersTimelineBar:FlowplayerTimelineBar),he(e,M,FlowplayerElapsedTime),he(e,P,FlowplayerVolumeBar),he(e,"flowplayer-volume-control",FlowplayerVolumeControl),he(e,"flowplayer-control-buttons",FlowplayerControlButtons),he(e,F,FlowplayerHeader),he(e,C,FlowplayerLogo),he(e,"flowplayer-header-duration",FlowplayerHeaderDuration),he(e,"flowplayer-header-left-zone",class extends FlowplayerHeaderLeftRight{),he(e,"flowplayer-header-right-zone",class extends FlowplayerHeaderLeftRight{constructor(e){super(e,"fp-right fp-togglable","flowplayer-fullscreen-enter-icon","flowplayer-fullscreen-exit-icon")}}),he(e,B,FlowplayerMiddle),he(e,G,FlowplayerMiddleZone),he(e,H,FlowplayerMiddleWait),he(e,"flowplayer-middle-buttons",FlowplayerMiddleButtons),he(e,"flowplayer-middle-right-zone",class extends FlowplayerLeftRightZone{constructor(e){super(e,"fp-right-zone")}}),he(e,"flowplayer-middle-left-zone",,he(e,"flowplayer-small-play-icon",class extends FlowplayerIcon{constructor(e){super(e,Xn),this.setAttribute("role","button")}}),he(e,"flowplayer-small-pause-icon",class extends FlowplayerIcon{constructor(e){super(e,Zn),this.setAttribute("role","button")}}),he(e,j,class extends FlowplayerIcon{constructor(e){super(e,Vn),this.setAttribute("role","button")}}),he(e,q,class extends FlowplayerIcon{constructor(e){super(e,Kn),this.setAttribute("role","button")}}),he(e,"flowplayer-fullscreen-enter-icon",class extends FullscreenIcon{constructor(e){super(e,Wn)}}),he(e,"flowplayer-fullscreen-exit-icon",class extends FullscreenIcon{constructor(e){super(e,zn)}}),he(e,"flowplayer-fast-forward-icon",class extends FlowplayerIcon{constructor(e){super(e,Qn)}}),he(e,W,,he(e,z,class extends FlowplayerIcon{constructor(e){super(e,Yn),this.classList.add("fp-volumebtn"),this.setAttribute("role","switch"),e.on("volumechange",()=>{const t=0==e.volume||e.muted;this.setAttribute("aria-label",e.i18n("core.muted","Muted")),this.setAttribute("aria-checked",t?"true":"false")})}})}init(e,t,n){var o;wn(e,0,n),gn(e,t,n),o=n,"undefined"!=typeof window&&"ontouchstart"in window&&o.setState("is-touch-device",!0),o.setState("is-accessibility",!1)}}]),Object.assign(Lt,{ui:pn,i18n:I18n})}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).flowplayer=e.flowplayer||{},e.flowplayer.keyboard=t())}(this,(function(){"use strict";function e(e,t,n){const r=t);for(;r.length;){if(null==e)return n;const t=r.shift();if("string"!=typeof t)return n;e=e[t]}return null==e?n:e}var t={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",F:"f",H:"h",J:"j",K:"k",L:"l",M:"m"};function n(){Array.from(document.querySelectorAll(".fp-engine")).forEach(e=>{var t;const n=e.root.querySelector("details[open].fp-menu-container");n&&(n.open=!1,null===(t=n.querySelector("summary"))||void 0===t||t.removeAttribute("aria-expanded"),e.root.classList.toggle("has-menu-opened",!1))})}document.addEventListener("click",(function(e){this.active_menu&&!e.composedPath().includes(this.active_menu)&&(n(),this.active_menu=void 0)}));let r=void 0;function o(e){e.setState("is-kb-active",!0),clearTimeout(r),r=setTimeout((,2500)}function i(e,t){e.enqueueSeek(t)&&o(e)}const u="flowplayer-ad-ui";let a=void 0;const s=[t.ARROW_UP,t.ARROW_RIGHT,t.ARROW_LEFT,t.ARROW_DOWN],l=[t.SPACE,t.F,t.ESCAPE,t.M,t.ARROW_UP,t.ARROW_DOWN,t.ARROW_RIGHT,t.ARROW_LEFT,t.H,t.J,t.K,t.L];function c(e,t){e.volume=e.volume+t,1,0),o(e)}unction d(r){var o,a;const d=r.key,R=p(),A=document.activeElement;if(!A)return;if(d===t.TAB){if(!R)return;if(R.setState("is-hovered",!0),R.setState("is-accessibility",!0),!function(e){var t,n;return!(!e.hasState("ad-paused")&&!e.hasState("ad-playing")||!(null===(n=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.adapter)||void 0===n?void 0:n.isLinearAd()))}(R)||y(A,u))return;const e=R.root.querySelector(u);if(!e)return;if(R.hasState("ad-playing"))return null===(o=e.querySelector(".fp-small-pause"))||void 0===o?void 0:o.focus();if(R.hasState("ad-paused"))return null===(a=e.querySelector(".fp-small-play"))||void 0===a?void 0:a.focus()}if((d===t.SPACE||d===t.ENTER)&&A.hasAttribute("tabindex")&&(y(A,".flowplayer")||y(A,"flowplayer-playlist-controls"))){const e=y(A,".fp-menu")||!y(A,".fp-menu-container")?A:m(A,".fp-menu-container");return null==e||e.dispatchEvent(new MouseEvent("click",{bubbles:!0})),f(r)}if((d===t.ARROW_DOWN||d===t.ARROW_UP||d===t.ESCAPE)&&(y(A,".fp-menu-container")||y(A,"flowplayer-playlist-controls"))){if(d===t.ARROW_DOWN&&A.nextSibling)return A.nextSibling.focus();if(d===t.ARROW_UP&&A.previousSibling)return A.previousSibling.focus();if(d===t.ESCAPE)return n()}if(!R)return;let v=e(R,"opts.keyboard.seek_step",5);if(v<1&&(v=Math.round(v*R.duration)),~s.indexOf(d)&&A.hasAttribute("aria-valuenow")){const e=~[t.ARROW_UP,t.ARROW_RIGHT].indexOf(d);if(A.matches(".fp-volume"))return c(R,e?.15:-.15),f(r);if(A.matches(".fp-timeline"))return i(R,e?v:-1*v),f(r)}if(!1===function(e,t){return!(t.altKey||t.shiftKey||t.metaKey||t.ctrlKey)&&(!!(e&&e.hasState("is-in-viewport")&&e.started)&&(!!e.root&&void 0))}(R,r))return;const E=!R.hasState("no-timeline");switch(~l.indexOf(d)&&r.preventDefault(),d){case t.SPACE:return R.togglePlay();case t.F:return R.toggleFullScreen();case t.ESCAPE:return R.hasState("is-fullscreen")?R.toggleFullScreen(!1):(null==A||A.blur(),R.setState("is-hovered",!1),R.setState("is-accessibility",!1));case t.M:return R.toggleMute();case t.ARROW_UP:case t.K:return c(R,.15);case t.ARROW_DOWN:case t.J:return c(R,-.15);case t.ARROW_RIGHT:case t.L:return E&&i(R,v);case t.ARROW_LEFT:case t.H:return E&&i(R,-1*v)}}function R(e){setTimeout((,0)}function p(){return A().find(e=>function(e){let t=document.activeElement;for(;t;){if(t===e)return!0;t=t.parentElement}return!1}(e.root))||A().find(e=>document.activeElement===document.body&&e.root.hasFocus)}ument.addEventListener("keydown",(function(e){if(e.key===t.TAB)return R(e);if(a=p(),a)return function(e,n){const r=document.activeElement;if(e.key===t.F&&n.root.classList.contains("no-fullscreen"))return;if([t.SPACE,t.ARROW_DOWN,t.ARROW_UP,t.ARROW_RIGHT,t.ARROW_LEFT].includes(e.key)||r&&y(r,".fp-menu-container")&&e.key===t.ENTER)return e.preventDefault(),d(e);R(e)}(e,a);const n=document.activeElement;[t.SPACE,t.ENTER,t.ARROW_DOWN,t.ARROW_UP,t.ARROW_RIGHT,t.ARROW_LEFT].includes(e.key)&&n&&y(n,"flowplayer-playlist-controls")&&(e.preventDefault(),d(e))})),document.addEventListener("click",(function(e){const t=e.composedPath();A().forEach(e=>{e.root.hasFocus=t.includes(e.root)})}));class Keyboard{return function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;if(null===document.currentScript)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});const n=e.flowplayer;"function"==typeof n?n(t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t))}(window,Keyboard),Keyboard}));
!this,(function(){"use strict";const e={name:"fp-facebook"},t={name:"fp-link"},n={name:"fp-share"},s={name:"fp-embed"},o={name:"fp-twitter"};unction r(){try{return(document.querySelector("meta[name='description']")||{content:""}).content}catch(e){return""}}function l(e){if("string"==typeof e.link)return e.link;const t=document.querySelector("link[rel=canonical]");return t?t.href:window.location.toString()}class FlowplayerComponent extends HTMLElement{constructor(e){super(),this.player=e}}class FlowplayerIcon extends FlowplayerComponent{constructor(e,t){super(e),this.classList.add("fp-icon",t.name),t.title&&this.setAttribute("title",t.title),t.title&&this.setAttribute("aria-label",t.title),t.translation_key&&this.setAttribute("aria-label",e.i18n(t.translation_key)),this.setAttribute("tabindex","0"),this.setAttribute("focusable","true")}}const a=(e,t)=>new(((e,t)=>{const n=e.get(t);if(!n)throw new Error(`no flowplayer component with the name ${t} exists`);const s=window.customElements.get(t);if(!s)throw new Error(`no default flowplayer component with the name ${t} exists`);const o=window.customElements.get(n);return"function"!=typeof o?s:o})(e._customElements,t))(e),c=(e,t,n)=>{window.customElements.get(t)||window.customElements.define(t,n),e.customElements.get(t)||e.customElements.set(t,t)},u="flowplayer-share-menu",m="fp-on",p="fp-invis";class FlowplayerMenu extends FlowplayerComponent{constructor(e){super(e),this.player=e,this.menuContainer=document.createElement("details"),this.summaryEle=document.createElement("summary"),this.olEle=document.createElement("ol"),this.olEle.id=h(),this.menu=document.createElement("div"),this.closeEle=document.createElement("span"),this.menu.classList.add("fp-menu"),this.menu.append(this.closeEle,this.olEle),this.closeEle.classList.add("fp-close"),this.closeEle.textContent="Ã—",this.menuContainer.append(this.summaryEle,this.menu),this.menuContainer.addEventListener("click",t=>{t.preventDefault();const n=this.menuContainer.open;n||(d(),document.active_menu=this.menuContainer),this.menuContainer.open=!n,e.root.classList.toggle("has-menu-opened",!n),this.olEle.setAttribute("aria-expanded",n?"false":"true")}),this.append(this.menuContainer),this.summaryEle.setAttribute("aria-haspopup","true"),this.summaryEle.setAttribute("aria-controls",this.olEle.id),this.summaryEle.setAttribute("tabindex","0"),this.summaryEle.setAttribute("role","button")}get options(){return this.olEle.querySelectorAll("li")}setMenuAttrs(e){if(this.summaryEle.id||(this.summaryEle.id=e.id||h()),this.className=e.class,this.menuContainer.classList.add("fp-menu-container"),this.toggle_visibility(!0),this.olEle.setAttribute("aria-labelledby",this.summaryEle.id),this.olEle.setAttribute("role","menu"),this.summaryEle.setAttribute("aria-label",e.menuTitle||"Menu"),e.summaryTitle&&(this.summaryEle.textContent=e.summaryTitle),e.summaryIcon){const t=a(this.player,e.summaryIcon);t.setAttribute("tabindex",""),this.summaryEle.append(t)}if(e.menuTitle){const t=document.createElement("h3");t.textContent=e.menuTitle,this.menu.prepend(t)}this.menu.classList.toggle("fp-icons",!!e.icons),this.addEventListener(e.options_event,e=>{this.render(e.data)}),e.item_selected_event&&this.addEventListener(e.item_selected_event,e=>{void 0!==e.data&&this.select_item(e.data.selected_index)})}render(e){this.olEle&&(this.olEle.innerHTML="",e&&e.forEach(this.menuOption,this),this.toggle_visibility(!(null==e?void 0:e.length)))}menuOption(e,t){const n=document.createElement("li");n.setAttribute("role","menuitem"),n.setAttribute("tabindex","0"),e.icon&&n.append(e.icon);const s=document.createElement("span");s.textContent=e.text,n.append(s),n.addEventListener("click",()=>{this.select_item(t),"function"==typeof e.onclick&&e.onclick()}),this.olEle.appendChild(n)}select_item(e){this.options.forEach((t,n)=>{t.classList.toggle(m,n===e&&("flowplayer-subtitles-menu"!==this.localName||!t.classList.contains(m)))})}unselect_item(){this.options.forEach(e=>{e.classList.remove(m)})}toggle_visibility(e){this.classList.toggle(p,e),this.menu.style.setProperty("display",e?"none":"block")}}function d(){Array.from(document.querySelectorAll(".fp-engine")).forEach(e=>{var t;const n=e.root.querySelector("details[open].fp-menu-container");n&&(n.open=!1,null===(t=n.querySelector("summary"))||void 0===t||t.removeAttribute("aria-expanded"),e.root.classList.toggle("has-menu-opened",!1))})}function h(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function f(e,t,n){const s=function(e,t){const n=new CustomEvent(e,{detail:t,cancelable:!0});return t&&Object.defineProperty(n,"data",{get:()=>t}),n}(t,n);return e.dispatchEvent(s),e}function y(e,t){const n=e._customElements.get(t);return n&&e.root.querySelector(n)||void 0}document.addEventListener("click",(function(e){this.active_menu&&!e.composedPath().includes(this.active_menu)&&(d(),this.active_menu=void 0)})),function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}}();class Share{constructor(i){this.umd=i,this.share_options=[],c(i,u,FlowplayerMenu),c(this.umd,"flowplayer-facebook-icon",class extends FlowplayerIcon{constructor(t){super(t,e)}}),c(this.umd,"flowplayer-twitter-icon",class extends FlowplayerIcon{constructor(e){super(e,o)}}),c(this.umd,"flowplayer-link-icon",class extends FlowplayerIcon{constructor(e){super(e,t)}}),c(this.umd,"flowplayer-embed-icon",class extends FlowplayerIcon{constructor(e){super(e,s)}}),c(this.umd,"flowplayer-share-icon",class extends FlowplayerIcon{constructor(e){super(e,n)}})}init(e,t,n){const s=a(n,u);s instanceof FlowplayerMenu&&s.setMenuAttrs({menuTitle:n.i18n("share.menu_title"),class:"fp-share-menu fp-togglable",summaryIcon:"flowplayer-share-icon",icons:!0,options_event:Share.events.OPTIONS});const o={prev_config:0,webshare_listener:0};n.on("mount",(function(){var e;null===(e=y(n,"flowplayer-header-left-zone"))||void 0===e||e.append(s),s instanceof FlowplayerMenu&&s.menuContainer.addEventListener("toggle",(function(){t.classList.toggle("is-share-menu",this.open);const e=y(n,"flowplayer-control");this.open&&(t.classList.contains("is-small")?n.pause():e&&function(e,t){if(!t)return;e.menu.style.maxHeight=t.getBoundingClientRect().top+parseFloat(window.getComputedStyle(t).getPropertyValue("padding"))-e.menuContainer.getBoundingClientRect().bottom+"px"}(s,e))}))})),n.on("config",t=>{const c=i(t,"data.share",{});if(!1===c)return s instanceof FlowplayerMenu&&void s.classList.remove("webshare-enabled");if(o.prev_config===c)return;if(o.prev_config=c,s instanceof FlowplayerMenu&&function(){try{return"https:"===window.location.protocol&&"function"==typeof navigator.share}catch(e){return!1}}()&&i(c,"web_share",!0))retu)}(s),o.webshare_listener||function(e,t,n){n.webshare_listener=!0,t.addEventListener("click",(function(){if(!t.classList.contains("webshare-enabled"))return;t.menuContainer.open=!1;navigator.share({title:i(e,"share.title",document.title),text:i(e,"share.text",r()),url:l(i(e,"share",{}))}).catch((function(){}))}))}(e,s,o);this.share_options=[];const u="string"==typeof c.link?c.link:window.location.toString();if(c.iframe){const e="string"==typeof c.iframe?c.iframe:u;this.share_options.push(w(n,s,"share.embed",E.bind(null,e,n),a(n,"flowplayer-embed-icon")))}c.link&&this.share_options.push(w(n,s,"share.link",_.bind(null,u),a(n,"flowplayer-link-icon"))),c.facebook&&this.share_options.push(w(n,s,"Facebook",v.bind(null,u),a(n,"flowplayer-facebook-icon"))),c.twitter&&this.share_options.push(w(n,s,"Twitter",x.bind(null,u),a(n,"flowplayer-twitter-icon"))),f(s,Share.events.OPTIONS,this.share_options)})}add_options(e,...t){const n=e.root.querySelector(u);n&&t.forEach(t=>{const s=w(e,n,t.text,t.onclick,t.icon);n.menuOption(s,n.options.length)})}}function w(e,t,n,s,o){return{text:b(e,n),icon:o,onclick:g.bind(null,e,t,s)}}function b(e,t){return 0===t.indexOf("share.")?e.i18n(t):t}function g(e,t,n){t instanceof FlowplayerMenu&&t.unselect_item();const s=n();s.success&&s.message&&e.message&&e.emit(e.message.events.SHOW_MESSAGE,{message:s.message})}function E(e,t){const n=t.videoHeight/t.videoWidth;return _('<div style="position:relative;width:100%;display:inline-block;"><iframe src="__IFRAME_SRC__" allowfullscreen style="border:none;position:absolute;top:0;left:0;width:100%;height:100%;"></iframe><div style="padding-top: __RATIO__%;"></div></div>'.replace("__IFRAME_SRC__",encodeURI(e)).replace("__RATIO__",""+100*n))}function _(e){const t=document.createElement("textarea");t.setAttribute("style","position:absolute;opacity:0"),t.value=e;const n=document.body;n.append(t),t.select();const s=document.execCommand("copy");return n.removeChild(t),{success:s,message:s?"<trans share.clipboard_success trans>":"<trans share.clipboard_failure trans>"}}function v(e){return A("https://www.facebook.com/sharer.php?u="+encodeURIComponent(e)),{success:!0}}function x(e){return A("https://twitter.com/intent/tweet?url="+encodeURIComponent(e)),{success:!0}}function A(e){let t;const n=screen.height,s=screen.width,o=Math.round(s/2-275);t=0,n>420&&(t=Math.round(n/2-210)),window.open(e,"sharer","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left="+o+",top="+t)}return Share.events={OPTIONS:"share:options"},function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;if(null===document.currentScript)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});const n=e.flowplayer;"function"==typeof n?n(t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t))}(window,Share),Share}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).flowplayer=e.flowplayer||{},e.flowplayer.qsel=t())}(this,(function(){"use strict";function e(e,t,n){const s=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(t);for(;s.length;){if(null==e)return n;const t=s.shift();if("string"!=typeof t)return n;e=e[t]}return null==e?n:e}const t=(e,t)=>new(((e,t)=>{const n=e.get(t);if(!n)throw new Error(`no flowplayer component with the name ${t} exists`);const s=window.customElements.get(t);if(!s)throw new Error(`no default flowplayer component with the name ${t} exists`);const i=window.customElements.get(n);return"function"!=typeof i?s:i})(e._customElements,t))(e);class FlowplayerComponent extends HTMLElement{constructor(e){super(),this.player=e}}const n="fp-on",s="fp-invis";class FlowplayerMenu extends FlowplayerComponent{constructor(e){super(e),this.player=e,this.menuContainer=document.createElement("details"),this.summaryEle=document.createElement("summary"),this.olEle=document.createElement("ol"),this.olEle.id=o(),this.menu=document.createElement("div"),this.closeEle=document.createElement("span"),this.menu.classList.add("fp-menu"),this.menu.append(this.closeEle,this.olEle),this.closeEle.classList.add("fp-close"),this.closeEle.textContent="Ã—",this.menuContainer.append(this.summaryEle,this.menu),this.menuContainer.addEventListener("click",t=>{t.preventDefault();const n=this.menuContainer.open;n||(i(),document.active_menu=this.menuContainer),this.menuContainer.open=!n,e.root.classList.toggle("has-menu-opened",!n),this.olEle.setAttribute("aria-expanded",n?"false":"true")}),this.append(this.menuContainer),this.summaryEle.setAttribute("aria-haspopup","true"),this.summaryEle.setAttribute("aria-controls",this.olEle.id),this.summaryEle.setAttribute("tabindex","0"),this.summaryEle.setAttribute("role","button")}get options(){return this.olEle.querySelectorAll("li")}setMenuAttrs(e){if(this.summaryEle.id||(this.summaryEle.id=e.id||o()),this.className=e.class,this.menuContainer.classList.add("fp-menu-container"),this.toggle_visibility(!0),this.olEle.setAttribute("aria-labelledby",this.summaryEle.id),this.olEle.setAttribute("role","menu"),this.summaryEle.setAttribute("aria-label",e.menuTitle||"Menu"),e.summaryTitle&&(this.summaryEle.textContent=e.summaryTitle),e.summaryIcon){const n=t(this.player,e.summaryIcon);n.setAttribute("tabindex",""),this.summaryEle.append(n)}if(e.menuTitle){const t=document.createElement("h3");t.textContent=e.menuTitle,this.menu.prepend(t)}this.menu.classList.toggle("fp-icons",!!e.icons),this.addEventListener(e.options_event,e=>{this.render(e.data)}),e.item_selected_event&&this.addEventListener(e.item_selected_event,e=>{void 0!==e.data&&this.select_item(e.data.selected_index)})}render(e){this.olEle&&(this.olEle.innerHTML="",e&&e.forEach(this.menuOption,this),this.toggle_visibility(!(null==e?void 0:e.length)))}menuOption(e,t){const n=document.createElement("li");n.setAttribute("role","menuitem"),n.setAttribute("tabindex","0"),e.icon&&n.append(e.icon);const s=document.createElement("span");s.textContent=e.text,n.append(s),n.addEventListener("click",()=>{this.select_item(t),"function"==typeof e.onclick&&e.onclick()}),this.olEle.appendChild(n)}select_item(e){this.options.forEach((t,s)=>{t.classList.toggle(n,s===e&&("flowplayer-subtitles-menu"!==this.localName||!t.classList.contains(n)))})}unselect_item(){this.options.forEach(e=>{e.classList.remove(n)})}toggle_visibility(e){this.classList.toggle(s,e),this.menu.style.setProperty("display",e?"none":"block")}}function i(){Array.from(document.querySelectorAll(".fp-engine")).forEach(e=>{var t;const n=e.root.querySelector("details[open].fp-menu-container");n&&(n.open=!1,null===(t=n.querySelector("summary"))||void 0===t||t.removeAttribute("aria-expanded"),e.root.classList.toggle("has-menu-opened",!1))})}function o(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function l(e,t,n){const s=function(e,t){const n=new CustomEvent(e,{detail:t,cancelable:!0});return t&&Object.defineProperty(n,"data",{get:()=>t}),n}(t,n);return e.dispatchEvent(s),e}document.addEventListener("click",(function(e){this.active_menu&&!e.composedPath().includes(this.active_menu)&&(i(),this.active_menu=void 0)})),function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}}();class Qsel{constructor(e){((e,t,n)=>{window.customElements.get(t)||window.customElements.define(t,n),e.customElements.get(t)||e.customElements.set(t,t)})(e,"flowplayer-quality-menu",FlowplayerMenu)}init(n,s,i){if(!1===n.qsel)return;const o=t(i,"flowplayer-quality-menu");o instanceof FlowplayerMenu&&o.setMenuAttrs({summaryTitle:"HD",menuTitle:i.i18n("qsel.menu_title"),class:"fp-qsel",options_event:Qsel.events.TRACKS,item_selected_event:Qsel.events.SWITCH}),i.on("mount",(function(){var e;null===(e=function(e,t){const n=e._customElements.get(t);return n&&e.root.querySelector(n)||void 0}(i,i.hasState("is-tv")?"flowplayer-tv-menu":"flowplayer-control"))||void 0===e||e.append(o)})),i.on("qualities",t=>{if(!Array.isArray(t.detail))return;const s=t.detail,a=e(n,"qsel.labels",[]);l(o,Qsel.events.TRACKS,s.flatMap((e,t)=>{if("boolean"==typeof a[t]&&!a[t])return[];let n=e.height?e.height+"p":e.text;return"number"==typeof e.height&&e.height>719&&(n+=" HD"),{text:a[t]||n,onclick:r.bind(0,i,e)}}",t)}return Qsel.events={TRACKS:"quality:tracks",SWITCH:"quality:update"},function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;if(null===document.currentScript)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});const n=e.flowplayer;return"function"==typeof n?(n(t),t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t),t)}(window,Qsel)}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).flowplayer=e.flowplayer||{},e.flowplayer.asel=t())}(this,(function(){"use strict";var e={SET:"audio:set",SWITCH:"audio:update",TRACKS:"audio:tracks"};function t(e,t,n){const s=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(t);for(;s.length;){if(null==e)return n;const t=s.shift();if("string"!=typeof t)return n;e=e[t]}return null==e?n:e}const n=navigator.languages||[navigator.language];function s(t,n){t.emit(e.SET,n),n.autoselect&&t._storage.setItem("@flowplayer/audio/track",n.se()}function o(e,s,o){s=s.slice(0);const l={},r=e.getItem("@flowplayer/audio/track");let a=function(){try{return n.reduce((e,t)=>~t.indexOf("-")?e.concat(t,t.split("-")[0]):e.concat(t),[])}catch(e){return[]}}().map(i),u=-1;if("number"==typeof o)return o;for("string"==typeof o&&(o=o.toLowerCase(),~a.indexOf(o)&&a.splice(a.indexOf(o),1),a.unshift(i(o))),Array.isArray(o)&&(a=o.map(i));s.length;){++u;const e=s.shift();if(null==e?void 0:e.autoselect){if(r==e.lang)return console.debug("restoring lang from previous session: ",r),u;if(e.default&&(l.fallback=[u,e]),e.lang&&~a.indexOf(e.lang.toLowerCase())){const n=a.indexOf(e.lang);if(n<t(l,"by_lang.2",1/0)&&(l.by_lang=[u,e,n]),0===n)break}}}return t(l,"by_lang.0",t(l,"fallback.0",void 0))}const l=(e,t)=>new(((e,t)=>{const n=e.get(t);if(!n)throw new Error(`no flowplayer component with the name ${t} exists`);const s=window.customElements.get(t);if(!s)throw new Error(`no default flowplayer component with the name ${t} exists`);const i=window.customElements.get(n);return"function"!=typeof i?s:i})(e._customElements,t))(e);class FlowplayerComponent extends HTMLElement{constructor(e){super(),this.player=e}}const r="fp-on",a="fp-invis";class FlowplayerMenu extends FlowplayerComponent{constructor(e){super(e),this.player=e,this.menuContainer=document.createElement("details"),this.summaryEle=document.createElement("summary"),this.olEle=document.createElement("ol"),this.olEle.id=c(),this.menu=document.createElement("div"),this.closeEle=document.createElement("span"),this.menu.classList.add("fp-menu"),this.menu.append(this.closeEle,this.olEle),this.closeEle.classList.add("fp-close"),this.closeEle.textContent="Ã—",this.menuContainer.append(this.summaryEle,this.menu),this.menuContainer.addEventListener("click",t=>{t.preventDefault();const n=this.menuContainer.open;n||(u(),document.active_menu=this.menuContainer),this.menuContainer.open=!n,e.root.classList.toggle("has-menu-opened",!n),this.olEle.setAttribute("aria-expanded",n?"false":"true")}),this.append(this.menuContainer),this.summaryEle.setAttribute("aria-haspopup","true"),this.summaryEle.setAttribute("aria-controls",this.olEle.id),this.summaryEle.setAttribute("tabindex","0"),this.summaryEle.setAttribute("role","button")}get options(){return this.olEle.querySelectorAll("li")}setMenuAttrs(e){if(this.summaryEle.id||(this.summaryEle.id=e.id||c()),this.className=e.class,this.menuContainer.classList.add("fp-menu-container"),this.toggle_visibility(!0),this.olEle.setAttribute("aria-labelledby",this.summaryEle.id),this.olEle.setAttribute("role","menu"),this.summaryEle.setAttribute("aria-label",e.menuTitle||"Menu"),e.summaryTitle&&(this.summaryEle.textContent=e.summaryTitle),e.summaryIcon){const t=l(this.player,e.summaryIcon);t.setAttribute("tabindex",""),this.summaryEle.append(t)}if(e.menuTitle){const t=document.createElement("h3");t.textContent=e.menuTitle,this.menu.prepend(t)}this.menu.classList.toggle("fp-icons",!!e.icons),this.addEventListener(e.options_event,e=>{this.render(e.data)}),e.item_selected_event&&this.addEventListener(e.item_selected_event,e=>{void 0!==e.data&&this.select_item(e.data.selected_index)})}render(e){this.olEle&&(this.olEle.innerHTML="",e&&e.forEach(this.menuOption,this),this.toggle_visibility(!(null==e?void 0:e.length)))}menuOption(e,t){const n=document.createElement("li");n.setAttribute("role","menuitem"),n.setAttribute("tabindex","0"),e.icon&&n.append(e.icon);const s=document.createElement("span");s.textContent=e.text,n.append(s),n.addEventListener("click",()=>{this.select_item(t),"function"==typeof e.onclick&&e.onclick()}),this.olEle.appendChild(n)}select_item(e){this.options.forEach((t,n)=>{t.classList.toggle(r,n===e&&("flowplayer-subtitles-menu"!==this.localName||!t.classList.contains(r)))})}unselect_item(){this.options.forEach(e=>{e.classList.remove(r)})}toggle_visibility(e){this.classList.toggle(a,e),this.menu.style.setProperty("display",e?"none":"block")}}function u(){Array.from(document.querySelectorAll(".fp-engine")).forEach(e=>{var t;const n=e.root.querySelector("details[open].fp-menu-container");n&&(n.open=!1,null===(t=n.querySelector("summary"))||void 0===t||t.removeAttribute("aria-expanded"),e.root.classList.toggle("has-menu-opened",!1))})}function c(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function d(e,t,n){const s=function(e,t){const n=new CustomEvent(e,{detail:t,cancelable:!0});return t&&Object.defineProperty(n,"data",{get:()=>t}),n}(t,n);return e.dispatchEvent(s),e}document.addEventListener("click",(function(e){this.active_menu&&!e.composedPath().includes(this.active_menu)&&(u(),this.active_menu=void 0)})),function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}}();class Asel{constructor(e){((e,t,n)=>{window.customElements.get(t)||window.customElements.define(t,n),e.customElements.get(t)||e.customElements.set(t,t)})(e,"flowplayer-audio-menu",FlowplayerMenu)}init(n,i,r){if(!1===n.asel)return;let a=[];const u=l(r,"flowplayer-audio-menu");u instanceof FlowplayerMenu&&u.setMenuAttrs({summaryTitle:r.i18n("audio.button_txt"),menuTitle:r.i18n("audio.menu_title"),class:"fp-asel",options_event:Asel.events.TRACKS,item_selected_event:Asel.events.SWITCH});const c=function(t){const n={tracks:[],events:e};return Object.assign(n,{set:function(s){if(!("number"!=typeof s||s<0||s>n.tracks.length-1))return t.emit(e.SET,n.tracks[s]),n},get:function(e){if("number"==typeof e)return n.tracks[e]}}),n}(r);r.asel=c,r.on("mount",(function(){var e;null===(e=function(e,t){const n=e._customElements.get(t);return n&&e.root.querySelector(n)||void 0}(r,r.hasState("is-tv")?"flowplayer-tv-menu":"flowplayer-control"))||void 0===e||e.append(u)})),r.on(e.TRACKS,(function(e){if(!Array.isArray(e.data)||e.data.length===a.length&&e.data.every((e,t)=>e===a[t]))return;a=e.data,c.tracks=a.slice();const i=t(n,"asel.sort");"function"==typeof i&&c.tracks.sort(i),d(u,Asel.events.TRACKS,Array.from({length:c.tracks.length}).map((e,t)=>{const n=c.tracks[t];return{text:n.name||n.label||n.lang,onclick:s.bind(0,r,n)}}));const l=c.tracksenabled}))[0];l&&d(u,Asel.events.SWITCH,{selected_index:c.tracks.indexOf(l)});const m=o(r._storage,c.tracks,t(n,"asel.default_lang",!1));return u instanceof FlowplayerMenu&&u.toggle_visibility(e.data.length<2),void 0!==m?c.set(m):void 0})),r.on(e.SWITCH,(function(e){r.asel.tracks.find((t,n)=>{var s,i;t!==e.detail&&t.id!==(null!==(i=null===(s=e.detail)||void 0===s?void 0:s.id)&&void 0!==i?i:-1)||(r.asel.active_track=t,d(u,Asel.events.SWITCH,{selected_index:n}))})})),r.audioTracks&&(r.audioTracks.addEventListener("addtrack",(function(){r.hls||r.emit(e.TRACKS,Array.from(r.audioTracks))})),r.on(e.SET,(function(e){r.hls||Array.from(r.audioTracks).forEach((t,n)=>{var s;t.enabled=(null===(s=e.data)||void 0===s?void 0:s.id)===t.id,t.enabled&&d(u,Asel.events.SWITCH,{selected_index:n})})})))}}return Asel.events={TRACKS:e.TRACKS,SWITCH:e.SWITCH},function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;if(null===document.currentScript)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});const n=e.flowplayer;"function"==typeof n?n(t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t))}(window,Asel),Asel}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).flowplayer=e.flowplayer||{},e.flowplayer.speed=t())}(this,(function(){"use strict";function e(e,t,n){const s=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(t);for(;s.length;){if(null==e)return n;const t=s.shift();if("string"!=typeof t)return n;e=e[t]}return null==e?n:e}class FlowplayerComponent extends HTMLElement{constructor(e){super(),this.player=e}}const t="flowplayer-speed-menu",n=(e,t)=>new(((e,t)=>{const n=e.get(t);if(!n)throw new Error(`no flowplayer component with the name ${t} exists`);const s=window.customElements.get(t);if(!s)throw new Error(`no default flowplayer component with the name ${t} exists`);const i=window.customElements.get(n);return"function"!=typeof i?s:i})(e._customElements,t))(e),s="fp-on",i="fp-invis";class FlowplayerMenu extends FlowplayerComponent{constructor(e){super(e),this.player=e,this.menuContainer=document.createElement("details"),this.summaryEle=document.createElement("summary"),this.olEle=document.createElement("ol"),this.olEle.id=l(),this.menu=document.createElement("div"),this.closeEle=document.createElement("span"),this.menu.classList.add("fp-menu"),this.menu.append(this.closeEle,this.olEle),this.closeEle.classList.add("fp-close"),this.closeEle.textContent="Ã—",this.menuContainer.append(this.summaryEle,this.menu),this.menuContainer.addEventListener("click",t=>{t.preventDefault();const n=this.menuContainer.open;n||(o(),document.active_menu=this.menuContainer),this.menuContainer.open=!n,e.root.classList.toggle("has-menu-opened",!n),this.olEle.setAttribute("aria-expanded",n?"false":"true")}),this.append(this.menuContainer),this.summaryEle.setAttribute("aria-haspopup","true"),this.summaryEle.setAttribute("aria-controls",this.olEle.id),this.summaryEle.setAttribute("tabindex","0"),this.summaryEle.setAttribute("role","button")}get options(){return this.olEle.querySelectorAll("li")}setMenuAttrs(e){if(this.summaryEle.id||(this.summaryEle.id=e.id||l()),this.className=e.class,this.menuContainer.classList.add("fp-menu-container"),this.toggle_visibility(!0),this.olEle.setAttribute("aria-labelledby",this.summaryEle.id),this.olEle.setAttribute("role","menu"),this.summaryEle.setAttribute("aria-label",e.menuTitle||"Menu"),e.summaryTitle&&(this.summaryEle.textContent=e.summaryTitle),e.summaryIcon){const t=n(this.player,e.summaryIcon);t.setAttribute("tabindex",""),this.summaryEle.append(t)}if(e.menuTitle){const t=document.createElement("h3");t.textContent=e.menuTitle,this.menu.prepend(t)}this.menu.classList.toggle("fp-icons",!!e.icons),this.addEventListener(e.options_event,e=>{this.render(e.data)}),e.item_selected_event&&this.addEventListener(e.item_selected_event,e=>{void 0!==e.data&&this.select_item(e.data.selected_index)})}render(e){this.olEle&&(this.olEle.innerHTML="",e&&e.forEach(this.menuOption,this),this.toggle_visibility(!(null==e?void 0:e.length)))}menuOption(e,t){const n=document.createElement("li");n.setAttribute("role","menuitem"),n.setAttribute("tabindex","0"),e.icon&&n.append(e.icon);const s=document.createElement("span");s.textContent=e.text,n.append(s),n.addEventListener("click",()=>{this.select_item(t),"function"==typeof e.onclick&&e.onclick()}),this.olEle.appendChild(n)}select_item(e){this.options.forEach((t,n)=>{t.classList.toggle(s,n===e&&("flowplayer-subtitles-menu"!==this.localName||!t.classList.contains(s)))})}unselect_item(){this.options.forEach(e=>{e.classList.remove(s)})}toggle_visibility(e){this.classList.toggle(i,e),this.menu.style.setProperty("display",e?"none":"block")}}function o(){Array.from(document.querySelectorAll(".fp-engine")).forEach(e=>{var t;const n=e.root.querySelector("details[open].fp-menu-container");n&&(n.open=!1,null===(t=n.querySelector("summary"))||void 0===t||t.removeAttribute("aria-expanded"),e.root.classList.toggle("has-menu-opened",!1))})}function l(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function r(e,t,n){const s=function(e,t){const n=new CustomEvent(e,{detail:t,cancelable:!0});return t&&Object.defineProperty(n,"data",{get:()=>t}),n}(t,n);return e.dispatchEvent(s),e}document.addEventListener("click",(function(e){this.active_menu&&!e.composedPath().includes(this.active_menu)&&(o(),this.active_menu=void 0)})),function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}}();class Speed{constructor(e){((e,t,n)=>{window.customElements.get(t)||window.customElements.define(t,n),e.customElements.get(t)||e.customElements.set(t,t)})(e,t,FlowplayerMenu)}init(s,i,o){let l=void 0;const u=n(o,t);u instanceof FlowplayerMenu&&u.setMenuAttrs({menuTitle:o.i18n("speed.menu_title"),summaryTitle:"1x",class:"fp-speed",options_event:Speed.events.OPTIONS}),o.on("config",()=>{const t=e(s,"speed",!0);if(t===l)return;if(l=t,0==t)return r(u,Speed.events.OPTIONS,[]);const n=e(s,"speed.options",Speed.DEFAULT_SPEED_OPTIONS),i=e(s,"speed.labels",[]);r(u,Speed.events.OPTIONS,Array.from({length:n.length}).map((e,t)=>{const s=n[t];return{text:i[t]||s+"x",onclick:a.bind(0,o,s)}}))}),o.on("mount",(function(){var e;null===(e=function(e,t){const n=e._customElements.get(t);return n&&e.root.querySelector(n)||void 0}(o,o.hasState("is-tv")?"flowplayer-tv-menu":"flowplayer-control"))||void 0===e||e.append(u)}))}}function a(e,n){var s;const i=null===(s=e.root.querySelector(t))||void 0===s?void 0:s.summaryEle;i&&(i.textContent=n+"x"),isNaN(n)||(e.playbackRate=n)}return Speed.DEFAULT_SPEED_OPTIONS=[.2,.5,1,2,10],Speed.events={OPTIONS:"speed:options"},function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;if(null===document.currentScript)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});const n=e.flowplayer;return"function"==typeof n?(n(t),t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t),t)}(window,Speed)}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).flowplayer=e.flowplayer||{},e.flowplayer.subtitles=t())}(this,(function(){"use strict";function e(e,t,n){const i=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(t);for(;i.length;){if(null==e)return n;const t=i.shift();if("string"!=typeof t)return n;e=e[t]}return null==e?n:e}function t(e,t){e.innerHTML="",t.forEach((function(t){const n=document.createElement("pre");n.classList.add("fp-cue"),function(e,t){const n=e.style,i=t.size;n.setProperty("--caption-size",i.toString());const s=t.position;s&&"auto"!==s&&t?n.setProperty("--caption-position",s.toString()):n.removeProperty("--caption-position");const o="captions-align-"+t.align;Array.from(e.classList).forEach((function(n){n!=o&&("captions-vertical"==n&&t.vertical||n.startsWith("captions")&&e.classList.remove(n))})),e.classList.add(o),e.classList.toggle("captions-vertical",!!t.vertical)}(e,t),n.appendChild(t.getCueAsHTML()),e.appendChild(n)}))}var n;functioncludes(e)}(t=t||n.Anonymous))return e instanceof HTMLVideoElement&&(e.poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),"crossOrigin"in e?e.crossOrigin=t:e.setAttribute("crossoe,t.origin}function o(e,t){const n=document.createElement("track");n.className="fp-track renderable",n.kind=t.kind||"captions",n.id=["fp",t.lang].join("-");const o=n.track;return"string"!=typeof t.crossorigin&&function(e,t){try{return e.src.startsWith("blob:"),s(e.src)!==s(t)}catch(e){return console.error(e),!0}}(e,t.src)&&(i(e),t.crossorigin=e.getAttribute("crossorigin")),"crossorigin"in t&&i(e,t.crossorigin),Object.keysn[e]=t[e])}),o.mode=t.default?"hidden":"disabled",n.onload=function(){},o.oncuechange=function(t){e.emit(t.type,{track:t.target})},e.appendChild(n),n}!function(e){e.Anonymous="anonymous",e.UseCredentials="use-credentials",e.Empty=""}(n||(n={}));const r="is-source-processing",l=(e,t)=>new(((e,t)=>{const n=e.get(t);if(!n)throw new Error(`no flowplayer component with the name ${t} exists`);const i=window.customElements.get(t);if(!i)throw new Error(`no default flowplayer component with the name ${t} exists`);const s=window.customElements.get(n);return"function"!=typeof s?i:s})(e._customElements,t))(e);class FlowplayerComponent extends HTMLElement{constructor(e){super(),this.player=e}}const c="fp-on",a="fp-invis";class FlowplayerMenu extends FlowplayerComponent{constructor(e){super(e),this.player=e,this.menuContainer=document.createElement("details"),this.summaryEle=document.createElement("summary"),this.olEle=document.createElement("ol"),this.olEle.id=d(),this.menu=document.createElement("div"),this.closeEle=document.createElement("span"),this.menu.classList.add("fp-menu"),this.menu.append(this.closeEle,this.olEle),this.closeEle.classList.add("fp-close"),this.closeEle.textContent="Ã—",this.menuContainer.append(this.summaryEle,this.menu),this.menuContainer.addEventListener("click",t=>{t.preventDefault();const n=this.menuContainer.open;n||(u(),document.active_menu=this.menuContainer),this.menuContainer.open=!n,e.root.classList.toggle("has-menu-opened",!n),this.olEle.setAttribute("aria-expanded",n?"false":"true")}),this.append(this.menuContainer),this.summaryEle.setAttribute("aria-haspopup","true"),this.summaryEle.setAttribute("aria-controls",this.olEle.id),this.summaryEle.setAttribute("tabindex","0"),this.summaryEle.setAttribute("rctorAll("li")}setMenuAttrs(e){if(this.summaryEle.id||(this.summaryEle.id=e.id||d()),this.className=e.class,this.menuContainer.classList.add("fp-menu-container"),this.toggle_visibility(!0),this.olEle.setAttribute("aria-labelledby",this.summaryEle.id),this.olEle.setAttribute("role","menu"),this.summaryEle.setAttribute("aria-label",e.menuTitle||"Menu"),e.summaryTitle&&(this.summaryEle.textContent=e.summaryTitle),e.summaryIcon){const t=l(this.player,e.summaryIcon);t.setAttribute("tabindex",""),this.summaryEle.append(t)}if(e.menuTitle){const t=document.createElement("h3");t.textContent=e.menuTitle,this.menu.prepend(t)}this.menu.classList.toggle("fp-icons",!!e.icons),this.addEventListener(eender(e.data)}),e.item_selected_event&&this.addEventListener(e.item_selected_event,e=>{void 0!==e.data&&this.select_item(e.data.selected_index)})}render(e){this.olEle&&(this.olEle.innerHTML="",e&&e.forEach(this.menuOption,this),this.toggle_visibility(!(null==e?void 0:e.length)))}menuOption(e,t){const n=document.createElement("li");n.setAttribute("role","menuitem"),n.setAttribute("tabindex","0"),e.icon&&n.append(e.icon);const i=document.createElement("span");i.textContent=e.text,n.append(i),n.addEventListener("click",()=>{this.select_item(t),"function"==typeof e.onclick&&e.onclick()}),this.olEle.appendChild(n)}select_item(e){this.options.forEach((t,n)=>{t.classList.toggle(c,n===e&&("flowplayer-subtitles-menu"!==this.localName||!t.classList.contains(c)))})}unselect_item(){this.oist.remove(c)})}toggle_visibility(e){this.classList.toggle(a,e),this.menu.style.setProperty("display",e?"none":"block")}}function u(){Array.from(document.querySelectorAll(".fp-engine")).forEach(e=>{var t;const n=e.root.querySelector("details[open].fp-menu-container");n&&(n.open=!1,null===(t=n.querySelector("summary"))||void 0===t||t.removeAttribute("aria-expanded"),e.root.classList.toggle("has-menu-).substr(0,5)}function m(e,t,n){const i=function(e,t){const n=new CustomEvent(e,{detail:t,cancelable:!0});return t&&Object.defineProperty(n,"data",{get:()=>t}),n}(t,n);return e.dispatchEvent(i),e}function p(e,t){const n=e._customElements.get(t);return n&&e.root.querySelector(n)||void 0}document.addEventListener("click",(function(e){this.active_menu&&!e.composedPath().includes(this.active_menu)&&(u(),this.active_menu=void 0)})),function(){let e=!1;try{const t=Object.defineProperty({},nction(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}}();class FlowplayerSubtitlesMenu extends FlowplayerMenu{constructor(e){super(e),e.on(Subtitles.events.TRACK_UPDATED,e=>this.summaryEle.classList.toggle("fp-color-text",!!e.detail))}}class Subtitles{constructor(e){((e,t,n)=>{window.customElements.get(t)||window.customElements.define(t,n),e.customElements.get(t)||e.customElements.set(t,t)})(e,"flowplayer-subtitles-menu",FlowplayerSubtitlesMenu)}init(n,i,s){const c=l(s,"flowplayer-subtitles-menu");c instanceof FlowplayerMenu&&c.setMenuAttrs({class:"fp-cc",summaryTitle:s.i18n("cc.button","CC"),menuTitle:s.i18n("cc.menu_title","Subtitles"),options_event:Subtitles.events.TRACKS,item_selected_event:Subtitles.events.SWITCH});const a=function(e){const t=document.createElement("div");return t.classList.add("fp-captions"),t.ontouchend=t=>e.emit(t.type),t.onclick=t=>e.emit(t.type),t}(s);let u,d=[],f=[];function h(e){if(e==u)return y();y(),e.mode="hidden",u=e,s.emit("cuechange",{track:e}),s.emit("tracks:text:updated",u)}function y(){u&&(s.emit("tracks:text:updated"),u.mode="disabled",u=void 0,t(a,[]))}!function(e){if(!function(){const e="undefined"!=typeof document&&"undefined"!=typeof window,t=e?navigator.userAgent:"",n=/iP(hone|od)/i.test(t)&&!/iPad/.test(t)&&!/IEMobile/i.test(t),i=/Android/.test(t)&&!/Firefox/.test(t),s=/^((?!chrome|android).)*safari/i.test(t),o=/SamsungBrowser/.test(t),r=o&&/SMART-TV/.test(t);return{conanPlayType(t)},lang:e&&window.navigator.language,android:i,iphone:n,safari:s,ios:e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,samsung:o,samsung_tv:o&&r,touch:"ontouchstart"in window,tizen:"tizen"in window,webOS:"webos"in window}}().ios)return;e.on("webkitbede="showing")}),e.on("webkitendfullscreen",()=>{const e=f.find(e=>"showing"===e.mode);if(e&&(e.mode="hidden"),e!==u){if(!e)return y();h(e),m(c,Subtitles.events.SWITCH,{selected_index:f.indexOf(e)})}})}(s),s.on("mount",(function(){var e,t;const n=p(s,"flowplayer-control");if(!n)return null===(e=p(s,"flowplayer-ui"))||void 0===e?void 0:e.appendChild(a);n.insertAdjacentElement("beforebegin",a),null===(t=s.hasState("is-tv")?p(s,"flowplayer-tv-menu"):n)||void 0===t||t.append(c),c instanceof FlowplayerMenu&&c.menuContainer.addEventListener("click",()=>{var e;1===f.length&&(null===(e=c.querySelector("li"))||void 0===e||e.click())})})),s.on("config",(function(e){var t,n;const i=null===(n=null===(t=e.data)||void 0===t?void 0:t.subtitles)||void 0===n?void 0:n.tracks;i&&d!==i&&(d=i,0===d.length&&(m(c,Subtitles.events.TRACKS,[]),y(),f=[]),Array.from(s.querySelectorAll(".fp-track")).forEach(e=>{["captions","subtitles","descriptions"].includes(e.kind)&&s.removeChild(Each(e=>o(s,e)))})),s.textTracks.addEventListener("addtrack",()=>{const t=Array.from(s.textTracks).filter((function(e){return~["captions","subtitles","descriptions"].indexOf(e.kind)}));if(f.length===t.le,n)=>e===t[n]))return;let i;t.map((function(e){return~["showing","hidden"].indexOf(e.mode)&&(i=e,e.mode="disabled"),e.oncuechange=ck:e.target})},e})),m(c,Subtitles.events.TRACKS,t.map((function(e){return{text:e.label,onclick:h.bind(0,e)}}))),f=t.slice();const o=e(n,"subtitles.show");if(i=(!1!==o?i:void 0:u.label)),!i)return y();h(i),m(c,Subtitles.events.SWITCH,{selected_index:f.indexOf(i)})}),s.on("cuechange",(function(n){var i;const s=null===(i=n.data)||void 0===i?void 0:i.track;if(!s||!["captions","subtitles","descriptions"].includes(s.kind))return;const o=Array.from(e(s,"activeCue=>e.id===t.id)).sort((e,t)=>"number"!=typeof e.line||"number"!=typeof t.line?0:e.line-t.line);t(a,o)})),s.on(["playlist/advance","src"],e=>{s.currentSrc&&("src"===e.type&&["is-playlist",r].some(e=>s.root.classList.contains(e))||(delete s.opts.subtitles,d=[],f=[],y(),m(c,Subtitles.events.TRACKS,[])))})}}return Subtitles.events={TRACKS:"subs:tracks",SWITCH:"subs:change",TRACK_UPDATED:"tracks:text:updated"},function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;if(null===document.currentScript)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});const n=e.flowplayer;"function"==typeof n?n(t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t))}(window,Subtitles),Subtitles}));
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).flowplayer=t.flowplayer||{},t.flowplayer.hls=e())}(this,(function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typ)?t.defts),e.exports}((function(t,e){var r;"undefined"!=typeof window&&(r=()=>(()=>{var t={"./src/config.ts":
/*!***********************!*\
	  !*** ./src/config.ts ***!
	  \***********************/(t,e,r)=>{r.r(e),r.d(e,{enableStreamingMode:()=>A,hlsDefaultConfig:()=>L,mergeConfig:()=>D});var i=r(/*! ./controller/abr-controller */"./src/controller/abr-controller.ts"),n=r(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.ts"),a=r(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.ts"),s=r(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.ts"),o=r(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.ts"),l=r(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.ts"),u=r(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.ts"),d=r(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.ts"),c=r(/*! ./controller/fps-controller */"./src/controller/fps-controller.ts"),h=r(/*! ./controller/eme-controller */"./src/controller/eme-controller.ts"),f=r(/*! ./controller/cmcd-controller */"./src/controller/cmcd-controller.ts"),g=r(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.ts"),v=r(/*! ./utils/fetch-loader */"./src/utils/fetch-loader.ts"),p=r(/*! ./utils/cues */"./src/utils/cues.ts"),m=r(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts"),y=r(/*! ./utils/logger */"./src/utils/logger.ts");function E(){return(E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(t}):t[e]=r,t}var L=S(S({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:g.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:i.default,bufferController:l.default,capLevelController:d.default,fpsController:c.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:m.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:p.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:s.SubtitleStreamController,subtitleTrackController:o.default,timelineController:u.TimelineController,audioStreamController:n.default,audioTrackController:a.default,emeController:h.default,cmcdControlltchLoader"))}},"./src/controller/abr-controller.ts":
/*!******************************************!*\
	  !*** ./src/controller/abr-controller.ts ***!
	  \******************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.ts"),a=r(/*! ../events */"./src/events.ts"),s=r(/*! ../errors */"./src/errors.ts"),o=r(/*! ../types/loader */"./src/types/loader.ts"),l=r(/*! ../utils/logger */"./src/utils/logger.ts");function u(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}conserListeners()}var e,r,d,c=t.prototype;return c.registerListeners=function(){var t=this.hls;t.on(a.Events.FRAG_LOADING,this.onFragLoading,this),t.on(a.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(a.Events.ERROR,this.onError,this)},c.unregisterListeners=function(){var t=this.hls;t.off(a.Events.FRAG_LOADING,this.onFragLoading,this),t.off(a.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this),t.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(a.Events.ERROR,this.onError,thtCurrent=null},cnCheck,100)))},crEwmaFastVoD)},c._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,n=r.autoLevelEnabled;r.config;var s=r.media;if(t&&s){var o=e?e.stats:t.stats,u=e?e.duration:t.duration;if(o.aborted||o.loaded&&o.loaded===o.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(n&&!s.paused&&s.playbackRate&&s.readyState){var d=r.mainForwardBufferInfo;if(null!==d){var c=performance.now()-o.loading.start,h=Math.abs(s.playbackRate);if(!(c<=500*u/h)){var f=o.loaded&&o.loading.first,g=this.bwEstimator.getEstimate(),v=r.levels,p=r.minAutoLevel,m=v[t.level],y=o.total||Math.max(o.loaded,Math.round(u*m.maxBitrate/8)),E=f?1e3*o.loaded/c:0,T=E?(y-o.loaded)/E:8*y/g,S=d.len/h;if(!(T<=S)){var b,L=Number.POSITIVE_INFINITY;for(b=t.level-1;b>p;b--){var D=v[b].maxBitrate;if((L=E?u*D/(6.4*E):u*D/g)<S)break}L>=T||(l.logger.warn("Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+b+"\n      Current BW estimate: "+((0,i.isFiniteNumber)(g)?(g/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+T.toFixed(3)+" s\n      Estimated load time for the next fragment: "+L.toFixed(3)+" s\n      Time to underbuffer: "+S.toFixed(3)+" s"),r.nextLoadLevel=b,f&&this.bwEstimator.sample(c,o.loaded),this.clearTimer(),t.loader&&(this.fragCurrent=this.partCurrent=null,t.loader.abort()),r.trigger(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:o}))}}}}}},BUFFERED,h)}}},c.eTestDelayclearTimer()}.timer=void 0},c.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,i=r.maxAutoLevel,n=r.config,a=r.minAutoLevel,s=r.media,o=e?e.duration:t?t.duration:0;s&&s.currentTime;var u=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,c=r.mainForwardBufferInfo,h=(c?c.len:0)/u,f=this.findBestLevel(d,a,i,h,n.abrBandWidthFactor,n.abrBandWidthUpFactor);if(f>=0)return f;l.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var g=o?Math.min(o,n.maxStarvationDelay):n.maxStarvationDelay,v=n.abrBandWidthFactor,p=n.abrBandWidthUpFactor;if(!h){var m=this.bitrateTestDelay;m&&(g=(o?Math.min(o,n.maxLoadingDelay):n.maxLoadingDelay)-m,l.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=p=1)}return f=this.findBestLevel(d,a,i,h+g,v,p),Math.max(f,0)},cn m}}return-1},e=t,(r=[{key:"next.min(t,r)),r)},set:function(t){this._nextAutoLevel=t}}])&&u(e.prototype,r),d&&u(e,d),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/controller/audio-stream-controller.ts":
/*!***************************************************!*\
	  !*** ./src/controller/audio-stream-controller.ts ***!
	  \***************************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>E});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),a=r(/*! ../events */"./src/events.ts"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),o=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),l=r(/*! ../types/level */"./src/types/level.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts"),d=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),c=r(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts"),h=r(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),f=r(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),g=r(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),v=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),p=r(/*! ../errors */"./src/errors.ts");function m(){return(m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}const E=functListeners(),i}r=t,(e=E).prototype=Object.create(r.prototype),e.prototype.constructor=e,y(e,r);var T=E.prototype;return T.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},T._registerListeners=function(){var t=this.hls;t.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(a.Events.ERROR,this.onError,this),t.on(a.Events.BUFFER_RESET,this.onBufferReset,this),t.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),t.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T._unregisterListeners=function(){var t=this.hls;t.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(a.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(a.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(a.Events.ERROR,this.onError,this),t.off(a.Events.BUFFER_RESET,this.onBufferReset,this),t.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),t.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(a.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T.&this.tick()t,this.tis.onTickEnd()},T.clearWn.State.IDLE)},T.resetLoadingState=function(){this.clearWaitingFragment(),t.prototype.resetLoadingState.call(this.currentTime}ushed=!0}}}}}},T.getMth.max(r,e):r},T.onng.call(this)},T.onAudil.Level(t)}))},T.onAudioD,this.tick()},T.onMferFlushed=!1},TdedData=null)},T.onAukLoadedData=e},T._handleFragmebe buffered")},T._handleFragme.call(this,e)},Tedmetadata=!1},T.obuffer||null)},T.mplete(r,idingState()}}},T.oerFlushed=!0)},T._handleTrUSERDATA,L)}}},T._bufthis.tick()}}},this,e,r,a)))},T.complTCHED,{id:i})},E}(n.default)},"./src/controller/audio-track-controller.ts":
/*!**************************************************!*\
	  !*** ./src/controller/audio-track-controller.ts ***!
	  \**************************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var i=r(/*! ../events */"./src/events.ts"),n=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),s=r(/*! ../types/loader */"./src/types/loader.ts");function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t}itable:!1}),a}(a.default)},"./src/controller/base-playlist-controller.ts":
/*!****************************************************!*\
	  !*** ./src/controller/base-playlist-controller.ts ***!
	  \****************************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../types/level */"./src/types/level.ts"),a=r(/*! ./level-helper */"./src/controller/level-helper.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=r(/*! ../errors */"./src/errors.ts""),this.hls=t}var e=t.prototype;rehis.warn=n.clearTimer()this.timer=-oadPlaylist.clearTimer()},HlsSkip.No)}}},e.loadPlaylist=function(t){},e.sdetails.live)},e.playlistLoaded=function(t,e,r){var i=this,n=e.details,s=e.stats,o=s.loading.end?Math.max(0,self.performance.now()-s.loading.end):0;if(n.advancedDateTime=Date.now()-o,n.live||null!=r&&r.live){if(n.reloaded(r),r&&this.log("live playlist "+t+" "+(n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:"MISSED")),r&&n.fragments.length>0&&(0,a.mergeDetails)(r,n),!this.canLoad||!n.live)return;var l,u=void 0,d=void 0;if(n.canBlockReload&&n.endSN&&n.advanced){var c=this.hls.config.lowLatencyMode,h=n.lastPartSn,f=n.endSN,g=n.lastPartIndex,v=h===f;-1!==g?(u=v?f+1:h,d=v?c?0:g:g+1):u=f+1;var p=n.age,m=p+n.ageHeader,y=Math.min(m-n.partTarget,1.5*n.targetduration);if(y>0){if(r&&y>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+y+" with playlist age: "+n.age),y=0;else{var E=Math.floor(y/n.targetduration);u+=E,void 0!==d&&(d+=Math.round(y%n.targetduration/n.partTarget)),this.log("CDN Tune-in age: "+n.ageHeader+"s last advanced "+p.toFixed(2)+"s goal: "+y+" skip sn "+E+" to part "+d)}n.tuneInGoal=y}if(l=this.getDeliveryDirectives(n,e.deliveryDirectives,u,d),c||!v)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(n,e.deliveryDirectives,u,d);var T=(0,a.computeReloadInterval)(n,s);void 0!==u&&n.canBlockReload&&(T-=n.partTarget||1),this.log("reload live playlist "+t+" in "+Math.round(T)+" ms"),this.timer=self.setTimeout((function(){return i.loadPlaylist(l)}),T)}else this.clearTimer()},e.getDelimeters(r,i,a)},e.retrl=!0;return n},t}()},"./src/controller/base-stream-controller.ts":
/*!**************************************************!*\
	  !*** ./src/controller/base-stream-controller.ts ***!
	  \**************************************************/(t,e,r)=>{r.r(e),r.d(e,{State:()=>b,default:()=>L});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../task-loop */"./src/task-loop.ts"),a=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),o=r(/*! ../utils/logger */"./src/utils/logger.ts"),l=r(/*! ../events */"./src/events.ts"),u=r(/*! ../errors */"./src/errors.ts"),d=r(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),c=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),h=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),f=r(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),g=r(/*! ./level-helper */"./src/controller/level-helper.ts"),v=r(/*! ../loader/fragment-loader */"./src/loader/fragment-loader.ts"),p=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),m=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.ts"),y=r(/*! ../types/loader */"./src/types/loader.ts");function E(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.definePropered");return t}function S(t,e){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var b={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},L=functching,T(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,S(e,r);var L,D,A,R=n.prototype;return R.doTick=function(){this.onTickEnd()},R.onTickEnd=function(){},R.startLoad=function(tate=b.STOPPED},e.OK}return!1},R.otartPosition)},R.onis.stopLoad()},R.onMediaSeeking=function(){var t=this.config,e=this.fragCurrent,r=this.media,n=this.mediaBuffer,a=this.state,o=r?r.currentTime:0,l=s.BufferHelper.bufferInfo(n||r,o,t.maxBufferHole);if(this.log("media seeking to "+((0,i.isFiniteNumber)(o)?o.toFixed(3):o)+", state: "+a),a===b.ENDED)this.resetLoadingState();else if(e&&!l.len){var u=t.maxFragLookUpTolerance,d=e.start-u,c=o>e.start+e.duration+u;(o<d||c)&&(c&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.loader.abort()),this.resetLoadingState())}r&&(this.lastCurrentTime=o),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()},CurrentTime=0}.frag.start)}},R.onagLoadError=0},R.onHanng.call(this)},R.onHaed.call(thING,{frag:t})},ayback(t,e,r)},R._loadFoading(t))}))},R.f_FLUSHING,i)}},R._loading(t))}))},R.fraglId!==e.urlId},R.fragBufferedComplete=function(t,e){var r,i,n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level+" "+(n?m.default.toString(s.BufferHelper.getBuffered(n)):"(detached)")),this.state=b.IDLE,n&&(!this.loadedmetadata&&n.buffered.length&&(null===(r=this.fragCurrent)||void 0===r?void 0:r.sn)===(null===(i=this.fragPrevious)||void 0===i?void 0:i.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},R.seekToStartPos=function(){},R._handleFragme);e.flush(s)}},R._handleFragmentLoadProgress=function(t){}adError(t)}))},R.dtch(s)}(r)}))},R.handlERROR,e),null},R._handleTstate=b.IDLE)},R.getlevel:a}:null},R.buffufferGap(e)}}},R.er(0,t.start)},R.gele))}return a},R.getMBufferLength)},R.reduceMngth+"s"),!0)},R.genRequired(n)},R.mapToInitFrt.initSegment},n=u}return i},R.loart&&r.loaded},R.getIniti,t))}return i},R.getFragull}}return i},R.synchroentTime=i))}}},R.o),c}return l},R.wat.partTarget)},R.seoadPosition=r},R.gadPosition),e},R.handleFntLoading(t))},R.resetFstate=b.IDLE)},R.onFragmentte=b.ERROR)}}},R.afteadingState()}},R.res.state=b.IDLE},R.resetStartartPosition}},R.updag:t,part:e})},R.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},L=n,(D=[{key:"state",get:function(){return thog(e+"->"+t))}}])&&E(L.prototype,D),A&&E(L,A),Object.defineProperty(L,"prototype",{writable:!1}),n}(n.default)},"./src/controller/buffer-controller.ts":
/*!*********************************************!*\
	  !*** ./src/controller/buffer-controller.ts ***!
	  \*********************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>f});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ../errors */"./src/errors.ts"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),u=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),d=r(/*! ./buffer-operation-queue */"./src/controller/buffer-operation-queue.ts"),c=(0,l.getMediaSource)(),h=/([ha]vc.)(?:\.[^.,]+)+erListeners()}var e=t.prototype;return e.cks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null},e.registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(n.Events.BUFFER_RESET,this.onBufferReset,this),t.on(n.Events.BUFFER_APPENDING,this.onBufferAppending,this),t.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),t.on(n.Events.BUFFER_EOS,this.onBufferEos,this),t.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(n.Events.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(n.Events.FRAG_PARSED,this.onFragParsed,this),t.on(n.Events.FRAG_CHANGED,this.onFragChanged,this)},e.unregChanged,this)},e._inudiovideo:[]}},e.ons) expected")},e.onectUrl=r.src}},e.onACHED,void 0)},eourceBuffer()},e.dingTracks())},e.api.append(n,t)},e.onBl.append(S,c)},e.onnd(s(t),t)}))},i.type})}),o)},ehBackBuffer()}OfStream()}))},e.ntDuration())},e.fe:r}))}}))}}}},e.updateMediaE.duration=s)}},e.updatleRange(i,n)}},e.checteNext(t)}))}},e.creatthis.tracks})},e._o(t).onStart()},e.xecuteNext(t)},e._o&r.onError(e)},e.removeExecutor=function(t,e,r){var n=this.media,s=this.mediaSource,o=this.operationQueue,l=this.sourceBuffer[t];if(!n||!s||!l)return a.logger.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void o.shiftAndExecuteNext(t);var u=(0,i.isFiniteNumber)(n.duration)?n.duration:1/0,d=(0,i.isFiniteNumber)(s.duration)?s.duration:1/0,c=Math.max(0,e),h=Math.min(r,u,d);h>c?(a.logger.log("[buffer-controller]: Removing ["+c+","+h+"] from the "+t+" SourceBuffer"),console.assert(!l.updating,t+" sourceBuffer must not be updating"),l.remove(c,h)):o.shiftAndExecuteNext(t)},e.pendBuffer(t)},Next(t)}))}))},e.getSousourceBuffer)},e.addistener(e,n)}},e.removeB.listener)}))},t}()},"./src/controller/buffer-operation-queue.ts":
/*!**************************************************!*\
	  !*** ./src/controller/buffer-operation-queue.ts ***!
	  \************************************s[t][0]},t}()},"./src/controller/cap-level-controller.ts":
/*!************************************************!*\
	  !*** ./src/controller/cap-level-controller.ts ***!
	  \************************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>a});var i=r(/*! ../events */"./src/events.ts");function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.kitable:!1}),t}()},"./src/controller/cmcd-controller.ts":
/*!*******************************************!*\
	  !*** ./src/controller/cmcd-controller.ts ***!
	  \*******************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var i=r(/*! ../events */"./src/events.ts"),n=r(/*! ../types/cmcd */"./src/types/cmcd.ts"),a=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts");function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{w[r];return i}function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arrn""+t+r+e},t}()},"./src/controller/eme-controller.ts":
/*!******************************************!*\
	  !*** ./src/controller/eme-controller.ts ***!
	  \******************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var i=r(/*! ../events */"./src/events.ts"),n=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ../utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts");function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}conserListeners()}var e,r,l,u=t.prototype;reemAccess=null},u._registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this)},u._unregtParsed,this)},u.getLitem "'+t+'"')},u._attemptKccess:',e)}))},u._onMediaKeySystemeys:",t)})),n},u._onMesSession))}))},u._onNewMessage)}),!1)},u._onKeyd: "+t)}))}))},u.onn(r).catch(r)},u._attemMediaKeys=!0}},u._generateRequestWithPrefeatal:!1})}))}},u._cr"+t)}return i},u._onLicenseRequestReicense(r,s)}}},u._generateLicenseReSystemDomain)},u._D,fatal:!0})}},u.oiaEncrypted)}},u.onction(){})))},u.onIDEVINE,r,i)}},e=t,(r=[{key:"requestMediaKeySysySystemAccess}}])&&o(e.prototype,r),l&&o(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/controller/fps-controller.ts":
/*!******************************************!*\
	  !*** ./src/controller/fps-controller.ts ***!
	  \******************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>a});var i=r(/*! ../events */"./src/events.ts"),n=r(/*! ../utils/logger */"./src/utils/loggerameCount)},t}()},"./src/controller/fragment-finders.ts":
/*!********************************************!*\
	  !*** ./src/controller/fragment-finders.ts ***!
	  \********************************************/(t,e,r)=>{r.r(e),r.d(e,{findFragWithCC:()=>u,findFragmentByPDT:()=>a,findFragmentByPTS:()=>s,fragmentWithinToleranceTest:()=>o,pdtWithinToleranceTest:()=>l});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../utils/binary-search */"./src/utils/binae?-1:0}))}},"./src/controller/fragment-tracker.ts":
/*!********************************************!*\
	  !*** ./src/controller/fragment-tracker.ts ***!
	  \********************************************/(t,e,r)=>{r.r(e),r.d(e,{FragmentState:()=>i,FragmentTracker:()=>s});var i,n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../types/loader */"./src/types/loader.ts");!function(t){t.NOT_LOADED="NOT_LOADED",t.APPENDING="APPENDING",t.PARTIAL="PARTIAL",t.OK="OK"}(i|PalId+"_"+t.sn}},"./src/controller/gap-controller.ts":
/*!******************************************!*\
	  !*** ./src/controller/gap-controller.ts ***!
	  \******************************************/(t,e,r)=>{r.r(e),r.d(e,{MAX_START_GAP_JUMP:()=>l,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>u,SKIP_BUFFER_RANGE_START:()=>d,STALL_MINIMUM_DURATION_MS:()=>o,default:()=>c});var i=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),n=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ../events */"./src/events.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=250,l=atal:!0})}},t}()},"./src/controller/id3-track-controller.ts":
/*!************************************************!*\
	  !*** ./src/controller/id3-track-controller.ts ***!
	  \************************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),s=r(/*! ../demux/id3 */"./src/demux/id3.ts"),o=r(/*! ../loader/date-range */"./src/loader/date-range.ts"),l=r(/*! ../types/demuxer */"./src/type.TextTItTime()/1e3-e}conserListeners()}var e=t.prototype;rethis.hls=null},e._registerListeners=function(){var t=this.hls;t.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(n.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},e._unregUpdated,this)},e.onMediaAttached=function(t,e){this.media=e.media},e.onsAppended={})},e.onMesAppended={}}de="hidden",e}data","id3")}},e.onFragPCue(y)}}}}}}}},e.upn.endTime=t)}},e.one)(s,r,i,u))}},e.th;S++)T(S)}}},t}()},"./src/controller/latency-controller.ts":
/*!**********************************************!*\
	  !*** ./src/controller/latency-controller.ts ***!
	  \**********************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>o});var i=r(/*! ../errors */"./src/errors.ts"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts");function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,iitable:!1}),t}()},"./src/controller/level-controller.ts":
/*!********************************************!*\
	  !*** ./src/controller/level-controller.ts ***!
	  \********************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>g});var i=r(/*! ../types/level */"./src/types/level.ts"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../errors */"./src/errors.ts"),s=r(/*! ../utils/codecs */"./src/utils/codecs.ts"),o=r(/*! ./level-helper */"./src/controller/level-helper.ts"),l=r(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts");function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function c(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var f=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),g=functListeners(),r}r=t,(e=l).prototype=Object.create(r.prototype),e.prototype.constructor=e,h(e,r);var g,v,p,m=l.prototype;return m._registerListeners=function(){var t=this.hls;t.on(n.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(n.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(n.Events.FRAG_LOADED,this.onFragLoaded,this),t.on(n.Events.ERROR,this.onError,this)},m._unregisterListeners=function(){var t=this.hls;t.off(n.Events.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.off(n.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(n.Events.FRAG_LOADED,this.onFragLoaded,this),t.off(n.Events.ERROR,this.onError,thoy.call(thisad.call(this)},m.onn manifestel(r,o,l,d)}}},utoLevel=o)}}},m.redthis.level=t}},loadError=0)}},mateFailed=!0)},m.onAudistartLoad())}},es:t||null})}}D,{levels:i})},g=l,(v=[{ke:this._levels}},{key:"level",get:function(){return this.currentLPlaylist(h)}}}},{key:"manualLevel",get:function(){return this.manualLthis.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"ss._startLevel},set:function(t){this._startLevel=t}},{key:"nextnexttAutoLevel=t)}}])&&c(g.prototype,v),p&&c(g,p),Object.defineProperty(g,"prototype",{writable:!1}),l}(l.default)},"./src/controller/level-helper.ts":
/*!****************************************!*\
	  !*** ./src/controller/level-helper.ts ***!
	  \****************************************/(t,e,r)=>{r.r(e),r.d(e,{addGroupId:()=>o,addSliding:()=>p,adjustSliding:()=>v,assignTrackIdsByGroup:()=>l,computeReloadInterval:()=>m,getFragmentWithSN:()=>y,getPartWith:()=>E,mapFragmentIntersection:()=>g,mapPartIntersection:()=>f,mergeDetails:()=>h,updateFragPTSDTS:()=>c,updatePTS:()=>u});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../utils/logger */"./src/utils/logger.ts"),a=r(/*! ../loader/date-range */"./src/loader/date-range.ts");function s(){return(s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(tl}},"./src/controller/stream-controller.ts":
/*!*********************************************!*\
	  !*** ./src/controller/stream-controller.ts ***!
	  \*********************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),a=r(/*! ../is-supported */"./src/is-supported.ts"),s=r(/*! ../events */"./src/events.ts"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts"),d=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),c=r(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),h=r(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),f=r(/*! ./gap-controller */"./src/controller/gap-controller.ts"),g=r(/*! ../errors */"./src/errors.ts");function v(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var m=functListeners(),i}r=t,(e=m).prototype=Object.create(r.prototype),e.prototype.constructor=e,p(e,r);var y,E,T,S=m.prototype;return S._reguffered,this)},S._unreguffered,this)},S.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching(State.STOPPad.call(ts.onTickEnd(mentChanged()dKey(y,g))}}}},llFragments()},S.g?e.fragment:e},S.gvelType.MAIN)},S.followi.end+.5):null},S.immediIVE_INFINITY)},S.n_INFINITY)}}}},S.aboadPosition()},S.f"video":null)},S.oker,this.hls)},S.onng.call(this)},S.onMediaPlaying=function(){this.tick()},S),this.tick()},S.onMFragment=null},S.ongRequested=!1},S.ITING_LEVEL)}},Sng level "+a)},S._handleFragmebe buffered")},S.onAudioCHED,{id:n})}},S.onAudii,this.tick()},S.oer=this.media},S.omplete(r,dingState()}}}.currentTime}},S.onFragLoadEmckImmediate()},S.oelType.MAIN)}},S.onLevelsUpdated=function(t,e){this.levels=e.levels},S.udioCodecSwap},S.rrentTime=r}}},S.mp4a.40.5"),e},S._loadBteTest=!1}}))},S._handleTrUSERDATA,O)}}},S._buf,this.tick()}},S.getMaivelType.MAIN=n.State.IDLE},S.checkFgPlaying=e)}}},y=m,(E=[{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"cuentTime):null}},{key:"currentProgra}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufdFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&v(y.prototype,E),T&&v(y,T),Object.defineProperty(y,"prototype",{writable:!1}),m}(n.default)},"./src/controller/subtitle-stream-controller.ts":
/*!******************************************************!*\
	  !*** ./src/controller/subtitle-stream-controller.ts ***!
	  \******************************************************/(t,e,r)=>{r.r(e),r.d(e,{SubtitleStreamController:()=>g});var i=r(/*! ../events */"./src/events.ts"),n=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),a=r(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),s=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),o=r(/*! ./level-helper */"./src/controller/level-helper.ts"),l=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),u=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),d=r(/*! ../types/loader */"./src/types/loader.ts"),c=r(/*! ../types/level */"./src/types/level.ts");function h(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var g=functListeners(),i}r=t,(e=g).prototype=Object.create(r.prototype),e.prototype.constructor=e,f(e,r);var p,m,y,E=g.prototype;return E.onHannDetails=null},E._registerListeners=function(){var t=this.hls;t.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),t.on(i.Events.ERROR,this.onError,this),t.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(i.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(i.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(i.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},E._unreglushing,this),this.tick()},E.onMllFragments()},E.onLevelLoaded=function(t,e){this.mainDetails=e.details},E.onSubtitlBuffered(r)}}},E.onpe.SUBTITLu.State.IDLE)},E.onSubtitliaBuffer=null},E.onSubtiearInterval()},E.onSubtitleTrackLoaded=function(t,e){var r,i=e.details,n=e.id,l=this.currentTrackId,d=this.levels;if(d.length){var c=d[l];if(!(n>=d.length||n!==l)&&c){if(this.mediaBuffer=this.mediaBufferTimeRanges,i.live||null!==(r=c.details)&&void 0!==r&&r.live){var h=this.mainDetails;if(i.deltaUpdateFailed||!h)return;var f=h.fragments[0];c.details?0===this.alignPlaylists(i,c.details)&&f&&(0,o.addSliding)(i,f.start):i.hasProgramDateTime&&h.hasProgramDateTime?(0,s.alignMediaPlaylistByPDT)(i,h):f&&(0,o.addSliding)(i,f.start)}c.details=i,this.levelLastLoaded=n,this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===u.State.IDLE&&((0,a.findFragmentByPTS)(null,i.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0))}}},E._handleFragmerypt:r}})}))}},E.doTick=function(){if(this.media){if(this.state===u.State.IDLE){var t=this.currentTrackId,e=this.levels;if(!e.length||!e[t]||!e[t].details)return;var r=e[t].details,i=r.targetduration,s=this.config,o=this.media,d=n.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o.currentTime-i,s.maxBufferHole),c=d.end;if(d.len>this.getMaxBufferLength()+i)return;console.assert(r,"Subtitle track details are defined on idle subtitle stream controller tick");var h,f=r.fragments,g=f.length,v=r.edge,p=this.fragPrevious;if(c<v){var m=s.maxFragLookUpTolerance;!(h=(0,a.findFragmentByPTS)(p,f,Math.max(f[0].start,c),m))&&p&&p.start<f[0].start&&(h=f[0])}else h=f[g-1];if(!(h=this.mapToInitFragWhenRequired(h)))return;if(this.fragmentTracker.getState(h)!==l.FragmentState.NOT_LOADED)return;h.encrypted?this.loadKey(h,r):this.loadFragment(h,r,c)}}else this.state=u.State.IDLE},l(this,e,r,i)},p=g,(m=[{key:"mediaBufferTTrackId]||[])}}])&&h(p.prototype,m),y&&h(p,y),Object.defineProperty(p,"prototype",{writable:!1}),gr,t.length)}}}},"./src/controller/subtitle-track-controller.ts":
/*!*****************************************************!*\
	  !*** ./src/controller/subtitle-track-controller.ts ***!
	  \*****************************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var i=r(/*! ../events */"./src/events.ts"),n=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),a=r(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),s=r(/*! ../types/loader */"./src/types/loader.ts");function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__prot[r])}return e}const d=functListeners(),r}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,l(e,r);var d,c,h,f=a.prototype;reoy.call(this)},f.registerListeners=function(){var t=this.hls;t.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),t.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(i.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(i.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(i.Events.ERROR,this.onError,this)},f.unregonError,this)},f.oTrackChange))},f.pgeListener,t)},f.ons.media=null)},f.onMfaultTrack=!0},f.onubtitleTracks},f.onSubtitrack id "+r)},f.onLevelLoading=function(t,e){this.switchLevel(e.level)},f.onevel(e.level)}eTrack(s,n)}}}i.id}returdingOrFail(r)},es:t||null})}},f.tog":"hidden")}},f.seefaultTrack=t},f.onTexitleTrack=t)}},d=a,(c=[{key:"subtitleDisplay",get:function(){return this._subtitthis.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return thitleTrack(t,e)}}])&&o(d.prototype,c),h&&o(d,h),Object.defineProperty(d,"prototype",{writable:!1}),a}(a.default)},"./src/controller/timeline-controller.ts":
/*!***********************************************!*\
	  !*** ./src/controller/timeline-controller.ts ***!
	  \***********************************************/(t,e,r)=>{r.r(e),r.d(e,{TimelineController:()=>f});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.ts"),s=r(/*! ../utils/output-filter */"./src/utils/output-filter.ts"),o=r(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.ts"),l=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),u=r(/*! ../utils/imsc1-ttml-parser */"./src/utils/imsc1-ttml-parser.ts"),d=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),c=r(/*! ../types/loader */"./src/types/loader.ts"),h=r(/*! ../utils/logger */"./src/utils/logger.ts"lushing,this)}var e=t.prototype;re8Parser2=n:v,track:t})}},e.LOADED,t)})))},e.gei}return null},e.creatativeTrack(t)},e.cre=!0,r[t]=u)}}},e.createracks:[r]})}}},e.ctTrack(t,e,r)},e.oncleanTracks()},e.onionsTracks={}},e.onMser2.reset())},tCues)(e[r])}},e.onSubtitl{tracks:d})}}},e._captionsOrSubtitlesFromCrn"subtitles"},e.on.media=t)}}))},e.closedCaED-CAPTIONS"]},etPartIndex=u}},e payload")})},error:e})})),error:r})}))},e._fdec="wvtt"}))}:t,track:s})}},e.oAG_LOADED,e)}},e.onSubtitlionsTracks={}},e.onFragP.pts,l[1])}}}},e.on[t],r,n)}))}}},e.exto))}}t.textTrack2)}},"./src/crypt/aes-crypto.ts":
/*!*********************************!*\
	  !*** ./src/crypt/aes-crypto.ts ***!
	  \*******************V},e,t)},t}()},"./src/crypt/aes-decryptor.ts":
/*!************************************!*\
	  !*** ./src/crypt/aes-decryptor.ts ***!
	  \************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>a,removePadding:()=>n});var i=r(/*! ../utils/typed-array */"./src/utils/ty8)(t,n w.buffer},t}()},"./src/crypt/decrypter.ts":
/*!********************************!*\
	  !*** ./src/crypt/decrypter.ts ***!
	  \********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var i=r(/*! ./aes-crypto */"./src/crypt/aes-crypto.ts"),n=r(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.ts"),a=r(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=r(/*! ../utils/typed-array */"./src/utils/typenabled=!1)},t}()},"./src/crypt/fast-aes-key.ts":
/*!***********************************!*\
	  !*** ./src/crypt/fast-aes-key.ts ***!
	  \*********************rypt"])},t}()},"./src/demux/aacdemuxer.ts":
/*!*********************************!*\
	  !*** ./src/demux/aacdemuxer.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var i=r(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),n=r(/*! ./adts */"./src/demux/adts.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ../demux/id3 */"./src/demux/id3.ts");function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t}g)return i},i}(i.default)},"./src/demux/adts.ts":
/*!***************************!*\
	  !*** ./src/demux/adts.ts ***!
	  \***************************/(t,e,r)=>{r.r(e),r.d(e,{appendFrame:()=>m,canGetFrameLength:()=>d,canParse:()=>h,getAudioConfig:()=>s,getFrameDuration:()=>v,getFullFrameLength:()=>u,getHeaderLength:()=>l,initTrackConfig:()=>g,isHeader:()=>c,isHeaderPattern:()=>o,parseFrameHeader:()=>p,probe:()=>f});var i=r(/*! ../utils/logger */"./src/utils/logger.ts"),n=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ../events */"./s<t.length}function c(t,e){return e+1<t.sing:-1}}},"./src/demux/base-audio-demuxer.ts":
/*!*****************************************!*\
	  !*** ./src/demux/base-audio-demuxer.ts ***!
	  \***************************0)};const c=u},"./src/demux/chunk-cache.ts":
/*!**********************************!*\
	  !*** ./src/demux/chunk-cache.ts ***!
	  \********************ength=0},t}()},"./src/demux/dummy-demuxed-track.ts":
/*!******************************************!*\
	  !*** ./src/demux/dummy-demuxed-track.ts ***!
	  \**************************************[],dropped:0}}r.r(e),r.d(e,{dummyTrack:()=>i})},"./src/demux/exp-golomb.ts":
/*!*********************************!*\
	  !*** ./src/demux/exp-golomb.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});var i=r(/*! ../utils/logger */"./src/utils/logge.readUEG()},t}()},"./src/demux/id3.ts":
/*!**************************!*\
	  !*** ./src/demux/id3.ts ***!
	  \**************************/(t,e,r)=>{r.r(e),r.d(e,{canParse:()=>l,decodeFrame:()=>f,getID3Data:()=>s,getID3Frames:()=>h,getTimeStamp:()=>u,isFooter:()=>a,isHeader:()=>n,isTimeStampFrame:()=>d,testables:()=>E,utf8ArrayToStr:()=>y});var i,n=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&8&bar|0<)ramra=1[0taty.tat<0)}}return u},E={decor("utf-8")),i}},"./src/demux/mp3demuxer.ts":
/*!*********************************!*\
	  !*** ./src/demux/mp3demuxer.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var i=r(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),n=r(/*! ../demux/id3 */"./src/demux/id3.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! ./mpegaudio */"./src/demux/mpegaudio.ts");function o(t,e){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t}rameIndex)},i}(i.default)},"./src/demux/mp4demuxer.ts":
/*!*********************************!*\
	  !*** ./src/demux/mp4demuxer.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../types/demuxer */"./src/types/demuxer.ts"),a=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),s=r(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts"),o=/\/emsg[-/unction(){},t}()},"./src/demux/mpegaudio.ts":
/*!********************************!*\
	  !*** ./src/demux/mpegaudio.ts ***!
	  \********************************/(t,e,r)=>{r.r(e),r.d(e,{appendFrame:()=>l,canParse:()=>h,isHeader:()=>c,isHeaderPattern:()=>d,parseHeader:()=>u,probe:()=>f});var i=null,n=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],s=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12return!1}},"./src/demux/sample-aes.ts":
/*!*********************************!*\
	  !*** ./src/demux/sample-aes.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>a});var i=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),n=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tool)return}}}},t}()},"./src/demux/transmuxer-interface.ts":
/*!*******************************************!*\
	  !*** ./src/demux/transmuxer-interface.ts ***!
	  \*******************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>c});var i=r(/*! ./webworkify-webpack */"./src/demux/webworkify-webpack.js"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=r(/*! ../errors */"./src/errors.ts"),l=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),u=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),d=(0,l.getMediaSource)()||{ion(omplete(t)},t}()},"./src/demux/transmuxer-worker.ts":
/*!****************************************!*\
	  !*** ./src/demux/transmuxer-worker.ts ***!
	  \****************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>o});var i=r(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../utils/logger */"./src/utils/logger.ts"),s=r(/*! eventemitter3 */"./node_modules/eventemitt",data:r})}},"./src/demux/transmuxer.ts":
/*!*********************************!*\
	  !*** ./src/demux/transmuxer.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{TransmuxConfig:()=>y,TransmuxState:()=>E,default:()=>v,isPromise:()=>m});var i,n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../errors */"./src/errors.ts"),s=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),o=r(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.ts"),l=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.ts"),u=r(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.ts"),d=r(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.ts"),c=r(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),h=r(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.ts"),f=r(/*! ../utils/logger */"./src/utils/logger.ts");try{i=self.performance.now.bind(self.performance)}catch(t){f.logger.debug("Unable to use Performance API on this environment"),i=self.Date.now}var g=[{demux:u.default,remux:c.default},{demux:l.default,remux:h.default},{demux:o.default,remux:c.default},{demux:d.default,remuxconfceof augmentChange=a}},"./src/demux/tsdemuxer.ts":
/*!********************************!*\
	  !*** ./src/demux/tsdemuxer.ts ***!
	  \********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>y});var i=r(/*! ./adts */"./src/demux/adts.ts"),n=r(/*! ./mpegaudio */"./src/demux/mpegaudio.ts"),a=r(/*! ./exp-golomb */"./src/demux/exp-golomb.ts"),s=r(/*! ./sample-aes */"./src/demux/sample-aes.ts"),o=r(/*! ../events */"./src/events.ts"),l=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),u=r(/*! ../utils/logger */"./src/utils/logger.ts"),d=r(/*! ../errors */"./src/errors.ts"),c=r(/*! ../types/demuxer */"./src/types/demuxer.ts");function h(){return(h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(t+t.debug)}conspeSuppot "+r),-1!==r},t.syncOffset=function(t){for(var e=Math.min(940,t.length-376)+1,r=0;r<e;){if(71===t[r]&&71===t[r+188])return r;r++}return-1}==t?e:void 0}};var e=t.prototype;return e.res._duration=n},e.resetTimeStamp=function(){},e.rnderData=null},e.demux=function(e,r,i,n){var a;void 0===i&&(i=!1),void 0===n&&(n=!1),i||(this.sampleAes=null);var s=this._avcTrack,c=this._audioTrack,h=this._id3Track,f=this._txtTrack,m=s.pid,y=s.pesData,E=c.pid,T=h.pid,S=c.pesData,b=h.pesData,L=null,D=this.pmtParsed,A=this._pmtId,R=e.length;if(this.remainderData&&(R=(e=(0,l.appendUint8Array)(this.remainderData,e)).length,this.remainderData=null),R<188&&!n)return this.remainderData=e,{audioTrack:c,videoTrack:s,id3Track:h,textTrack:f};var k=Math.max(0,t.syncOffset(e));(R-=(R-k)%188)<e.byteLength&&!n&&(this.remainderData=new Uint8Array(e.buffer,R,e.buffer.byteLength-R));for(var I=0,_=k;_<R;_+=188)if(71===e[_]){var C=!!(64&e[_+1]),w=((31&e[_+1])<<8)+e[_+2],O=void 0;if((48&e[_+3])>>4>1){if((O=_+5+e[_+4])===_+188)continue}else O=_+4;switch(w){case m:C&&(y&&(a=p(y))&&this.parseAVCPES(s,f,a,!1),y={data:[],size:0}),y&&(y.data.push(e.subarray(O,_+188)),y.size+=_+188-O);break;case E:if(C){if(S&&(a=p(S)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,a);break;case"mp3":this.parseMPEGPES(c,a)}S={data:[],size:0}}S&&(S.data.push(e.subarray(O,_+188)),S.size+=_+188-O);break;case T:C&&(b&&(a=p(b))&&this.parseID3PES(h,a),b={data:[],size:0}),b&&(b.data.push(e.subarray(O,_+188)),b.size+=_+188-O);break;case 0:C&&(O+=e[O]+1),A=this._pmtId=g(e,O);break;case A:C&&(O+=e[O]+1);var x=v(e,O,this.typeSupported,i);(m=x.avc)>0&&(s.pid=m),(E=x.audio)>0&&(c.pid=E,c.segmentCodec=x.segmentCodec),(T=x.id3)>0&&(h.pid=T),null===L||D||(u.logger.log("unknown PID '"+L+"' in TS found"),L=null,_=k-188),D=this.pmtParsed=!0;break;case 17:case 8191:break;default:L=w}}else I++;I>0&&this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+I+" TS packet/s that do not start with 0x47"}),s.pesData=y,c.pesData=S,h.pesData=b;var P={audioTrack:c,videoTrack:s,id3Track:h,textTrack:f};return n&&this.extractRemainingSamples.sampleAes):t},e.extractRe):n.pesData=l},e..decrypt(i(){r(t)}))s._duration=0}cSample=null)},e.h-1]}return r},naluState=a,o}(f,r);r++);}}},unknown PTS")}unknown PTS")},t}()},"./src/demux/webworkify-webpack.js":
/*!*****************************************!*\
	  !*** ./src/demux/webworkify-webpack.js ***!
	  \*****************************************/(t,e,r)=>{r.r(e),r.d(e,{default|-]/g,"\\$&")}function a(t,e,i){var a={};a[i]=[];var s=e.toString(),o=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||s.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!o)return a;for(var l,u=o[1],d=new RegExp("(\\\\n|\\W)"+n(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=d.exec(s);)"dll-reference"!==l[3]&&a[i].push(l[3]);for(d=new RegExp("\\("+n(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=d.exec(s);)t[l[2]]||(a[i].push(l[1]),t[l[2]]=r(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var c,h=Object.keys(a),f=0;f<h.length;f++)for(var g=0;g<a[h[f]].length;g++)c=a[h[f]][g],isNaN(1*c)||(a[h[f]][g]=1*a[h[f]jectURL=d,c}i.toString()},"./src/errors.ts":
/*!***********************!*\
	  !*** ./src/errors.ts ***!
	  \***********************/(t,e,r)=>{var i,n;r.r(e),r.d(e,{ErrorDetails:()=>n,Erro="otherErroOWN="unknown"}(n||(n={}))},"./src/events.ts":
/*!***********************!*\
	  !*** ./src/events.ts ***!
	  \*********"}(i||(i={}))},"./src/hls.ts":
/*!********************!*\
	  !*** ./src/hls.ts ***!
	  \********************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>y});var i=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),n=r(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.ts"),a=r(/*! ./loader/key-loader */"./src/loader/key-loader.ts"),s=r(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.ts"),o=r(/*! ./controller/latency-controller */"./src/controller/latency-controller.ts"),l=r(/*! ./controller/level-controller */"./src/controller/level-controller.ts"),u=r(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.ts"),d=r(/*! ./controller/stream-controller */"./src/controller/stream-controller.ts"),c=r(/*! ./is-supported */"./src/is-supported.ts"),h=r(/*! ./utils/logger */"./src/utils/logger.ts"),f=r(/*! ./config */"./src/config.ts"),g=r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),v=r(/*! ./events */"./src/events.ts"),p=r(/*! ./errors */"./src/errors.ts");function m(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}vaeComponents=IsSupported)()};var e,r,y,E=t.prototype;return E.cri}return null},E.on=function(t,e,r){void 0===r&&(r=this),this._emitter.on(r.once(t,e,r)},E.remolListe.off(t,e,r,i)},E.listeners=function(t){return this._emitter.listenr.emit(t,e:e})}return!1},EtenerCountents.length=0}NG,{media:t})}s._media=nullDING,{url:t}artLoad(t)}stopLoad()}))},E.pAudioCodec()},E.recttachMedia(t)}oveLevel(t,e)},e=t,y=[{keyreturn"1.2.7"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return p.ErrorTypes}},{key:"Err.ErrorDetails}},{key:"DefaDefafaultConfig=e}}],(r=[{ke;return t||[]}},{key:"currentLevel",get:function(){return this.streamController.curLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.LevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){h.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"fminA.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.s.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevvelCapping=t)}},{key:"bandwidtstimate():NaN}},{key:"autoLevr.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minrn i;return 0}},{key:"max?t.length-1:e}},{key:"nextmaxAnAutoLevel,t)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBdBufferInfo()}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtiitleTracks:[]}},{key:"subttitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitbtittleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLaLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&m(e.prototype,r),y&&m(e,y),Object.defineProperty(e,"prototype",{writable:!1}),t}();y.defaultConfig=void 0},"./src/is-supported.ts":
/*!*****************************!*\
	  !*** ./src/is-supported.ts ***!
	  \*****************************/(t,e,r)=>{r.r(e),r.d(e,{changeTypeSupported:()=>s,isSupported:()=>a});var i=r(/*! ./utils/mediasource-helper */"./src/utils/mediasourchangeType)}},"./src/loader/date-range.ts":
/*!**********************************!*\
	  !*** ./src/loader/date-range.ts ***!
	  \**********************************/(t,e,r)=>{r.r(e),r.d(e,{DateRange:()=>u,DateRangeAttribute:()=>i});var i,n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),a=r(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),s=r(/*! ../utils/logger */"./src/utiis,arguments)}function l(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.definePropertN="SCTE35-IN"}(i|itable:!1}),t}()},"./src/loader/fragment-loader.ts":
/*!***************************************!*\
	  !*** ./src/loader/fragment-loader.ts ***!
	  \***************************************/(t,e,r)=>{r.r(e),r.d(e,{LoadError:()=>f,default:()=>c});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../errors */"./s){return!1}}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__protypeOf(t)})(t)}var d=Ma.drangeor=e,l(e,r),i}(a(Error))},"./src/loader/fragment.ts":
/*!********************************!*\
	  !*** ./src/loader/fragment.ts ***!
	  \********************************/(t,e,r)=>{r.r(e),r.d(e,{BaseSegment:()=>f,ElementaryStreamTypes:()=>i,Fragment:()=>g,Part:()=>v});var i,n=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),a=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=r(/*! ./level-key */"./src/loader/level-key.ts"),l=r(/*! ./load-stats */"./src/loader/l_=e,t})(t,e)}function c(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProper="audiovideo"}(i|._urta.urovideo)}}]),e}(f)},"./src/loader/key-loader.ts":
/*!**********************************!*\
	  !*** ./src/loader/key-loader.ts ***!
	  \**********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>s});var i=r(/*! ../events */"./src/events.ts"),n=r(/*! ../errors */"./src/errors.ts"),a=r(/*! ../utils/logger */"./src/utils1,frag:r})},t}()},"./src/loader/level-details.ts":
/*!*************************************!*\
	  !*** ./src/loader/level-details.ts ***!
	  \*************************************/(t,e,r)=>{r.r(e),r.d(e,{LevelDetails:()=>a});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts");function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}va{},this.url=t}var e,r,a;return t.protlabilityDelay},e=t,(r=[{key:"hasProgragramDateTime)}},{key:"levelTargetduration||10}},{kiftStart)/t:1}},{s.fragmentEnd}},{keys.fragmentEnd}},{key:"frngth-1].end:0}},Time,0)/1e3:0}},{key:"lasth-1].index:-1}},{key:"lsn:this.endSN}}])&&n(e.prototype,r),a&&n(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/loader/level-key.ts":
/*!*********************************!*\
	  !*** ./src/loader/level-key.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{LevelKey:()=>a});var i=r(/*! url-toolkit */"./node_modules/url-toolkit/src/ury(t,i.key,i)}}vamalize:!0}):t}var e,r,a;rern new t(eturn new t(e)},e=t,(r=[urn this._uri}}])&&n(e.prototype,r),a&&n(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},"./src/loader/load-stats.ts":
/*!**********************************!*\
	  !*** ./src/loader/load-stats.ts ***!
	  \********************rst:0,end:0}}},"./src/loader/m3u8-parser.ts":
/*!***********************************!*\
	  !*** ./src/loader/m3u8-parser.ts ***!
	  \***********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),a=r(/*! ./date-range */"./src/loader/date-range.ts"),s=r(/*! ./fragment */"./src/loader/fragment.ts"),o=r(/*! ./level-details */"./src/loader/level-details.ts"),l=r(/*! ./level-key */"./src/loader/level-key.ts"),u=r(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),d=r(/*! ../utils/logger */"./src/utils/logger.ts"),c=r(/*! ../utils/codecs */"./src/utils/codecs.ts"),h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,g=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),v=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),p=/\.(mp4|m4s|m4v|m4a)$/function t(){}retu==e)return i}},t.conve(-4)}returormalize:!0})},t.parseata:o?s:null}},t.parseMaste(d)}}return s},t.pars,r=n}gment=null}},"./src/loader/playlist-loader.ts":
/*!***************************************!*\
	  !*** ./src/loader/playlist-loader.ts ***!
	  \***************************************/(t,e,r)=>{r.r(e),{default:()=>h});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../events */"./src/events.ts"),a=r(/*! ../errors */"./src/errors.ts"),s=r(/*! ../utils/logger */"./src/utils/logger.ts"),o=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=r(/*! ./m3u8-parser */"./src/loader/m3u8-parser.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts"),d=r(/*! ../utils/attr-list */"./src/utils/||(r=e.url),r}conserListeners()}var e=t.prototype;retu=function(trnalLoaders()},e.registerListeners=function(){var t=this.hls;t.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),t.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),t.on(n.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(n.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregLoading,this)},e.creates[t.type]=n,n},e.getaders[t.type]},e.resetis.loaders[t]},e.destroyInalLoader(rnalLoaders()},e.onMctives:null})},e.irectives:a})},e.onAudioTrackLoading=function(t,e){var r=e.id,i=e.groupId,n=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:i,level:null,responseType:"text",type:u.PlaylistContextType.AUDIO_TRACK,url:n,deliveryDirectives:a})},e.onSubtitirectivd.load(t,g,v)}delimiter",iror(e,r,!1,t)}Error(e,r,!0)},e.handle manifest",i)},e.handleTrackOevel:void 0})},e.han)+"@0")}}))}}},e.handleManiferkDetails:i})},e.handents.ERROR,c)},e.handle duration",i)},t}()},"./src/polyfills/number.ts":
/*!*********************************!*\
	  !*** ./src/polyfills/number.ts ***!
	  \*******************7199254740991},"./src/remux/aac-helper.ts":
/*!*********************************!*\
	  !*** ./src/remux/aac-helper.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{default:(0,90,94])}},t}()},"./src/remux/mp4-generator.ts":
/*!************************************!*\
	  !*** ./src/remux/mp4-generator.ts ***!
	  \**********************d 0;const a=n},"./src/remux/mp4-remuxer.ts":
/*!**********************************!*\
	  !*** ./src/remux/mp4-remuxer.ts ***!
	  \**********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>g,flushTextTrackMetadataCueSamples:()=>p,flushTextTrackUserdataCueSamples:()=>m,normalizePts:()=>v});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ./aac-helper */"./src/remux/aac-helper.ts"),a=r(/*! ./mp4-generator */"./src/remux/mp4-generator.ts"),s=r(/*! ../events */"./src/events.ts"),o=r(/*! ../errors */"./src/errors.ts"),l=r(/*! ../utils/logger */"./src/utils/logger.ts"),u=r(/*! ../types/loader */"./src/types/loader.ts"),d=r(/*! ../utils/timescale-conversion */"./src/utils/timescale-conversion.ts");function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var h=null,f=nuleInt(a[1]):0}}var e=t.prototype;return e.destroy=function(){},e.is._initDTS=t},e.reseContiguous=!1},e.reSGenerated=!1},e.ge detectetext:f,id3:g}},e.generateIS=function(t,e,r){var n,s,o,l=t.samples,u=e.samples,d=this.typeSupported,c={},h=!(0,i.isFiniteNumber)(this._initPTS),f="audio/mp4";if(h&&(n=s=1/0),t.config&&l.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":d.mpeg?(f="audio/mpeg",t.codec=""):d.mp3&&(t.codec="mp3")}c.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&d.mpeg?new Uint8Array(0):a.default.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(o=t.inputTimeScale,n=s=l[0].pts-Math.round(o*r))}if(e.sps&&e.pps&&u.length&&(e.timescale=e.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:a.default.initSegment([e]),metadata:{width:e.width,height:e.height}},h)){o=e.inputTimeScale;var g=this.getVideoStartPts(u),p=Math.round(o*r);s=Math.min(s,v(u[0].dts,g)-p),n=Math.min(n,g-p)}if(Object.keys(c).length)return this.ISGenerated=!0,h&&(this._initPTS=n,this._initDTS=s),{tracks:c,initPTS:n,timescale:o} be zero"),Et be zero"),J}},e.raudiosamlaNonSync=t?0:1}},"./src/remux/passthrough-remuxer.ts":
/*!******************************************!*\
	  !*** ./src/remux/passthrough-remuxer.ts ***!
	  \******************************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ./mp4-remuxer */"./src/remux/mp4-remuxer.ts"),a=r(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),s=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),o=r(/*! ../utils/logger */"./src/uti":"mp4a(s,l,D)),h},t}()},"./src/task-loop.ts":
/*!**************************!*\
	  !*** ./src/task-loop.ts ***!
	  \************tion(){},t}()},"./src/types/cmcd.ts":
/*!***************************!*\
	  !*** ./src/types/cmcd.ts ***!
	  \*************"}(a||(a={}))},"./src/types/demuxer.ts":
/*!******************************!*\
	  !*** ./src/types/demuxer.ts ***!
	  \****************"}(i||(i={}))},"./src/types/level.ts":
/*!****************************!*\
	  !*** ./src/types/level.ts ***!
	  \****************************/(t,e,r)=>{function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,iv2:n.Yes:n.No}r.r(e),r.d(e,{HlsSkip:()=>n,HlsUrlParameters:()=>s,Level:()=>o,getSkipValue:()=>a}),function(t){t.No="",t.Yes="YES",t.v2="v2"}(n|toStitable:!1}),t}()},"./src/types/loader.ts":
/*!*****************************!*\
	  !*** ./src/types/loader.ts ***!
	  \***************"}(n||(n={}))},"./src/types/transmuxer.ts":
/*!*********************************!*\
	  !*** ./src/types/transmuxer.ts ***!
	  \*******************is.partial=a}},"./src/utils/attr-list.ts":
/*!********************************!*\
	  !*** ./src/utils/attr-list.ts ***!
	  \******************eturn r},t}()},"./src/utils/binary-search.ts":
/*!************************************!*\
	  !*** ./src/utils/binary-search.ts ***!
	  \**********************return null}}},"./src/utils/buffer-helper.ts":
/*!************************************!*\
	  !*** ./src/utils/buffer-helper.ts ***!
	  \**********************",t),n}},t}()},"./src/utils/cea-608-parser.ts":
/*!*************************************!*\
	  !*** ./src/utils/cea-608-parser.ts ***!
	  \*************************************/(t,e,r)=>{r.r(e),r.d(e,{CaptionScreen:()=>m,Row:()=>p,default:()=>S});var i,n=r(/*! ../utils/logger */"./src/utils/logger.ts"),a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:94omCharCode(e)},o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},c=["white","green","blue","cyan","red","yellow","magenta","black","ATA=3]="DATA"}(i|+t+"16thissDefrPen thirt==t&&rAtTime(t)}},t}()},"./src/utils/codecs.ts":
/*!*****************************!*\
	  !*** ./src/utils/codecs.ts ***!
	  \*****************************/(t,e,r)=>{r.r(e),r.d(e,{isCodecSupportedInMp4:()=>a,isCodecType:()=>n});var i={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpcs="'+t+'"')}},"./src/utils/cues.ts":
/*!***************************!*\
	  !*** ./src/utils/cues.ts ***!
	  \***************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>o});var i=r(/*! ./vttparser */"./src/utils/vttparser.ts"),n=r(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts"),a=r(/*! ./texttrack-utils */"./src/utils/texttrack-utils.ts"),s=/\s/;ck)(t,e)}))),f}}},"./src/utils/discontinuities.ts":
/*!**************************************!*\
	  !*** ./src/utils/discontinuities.ts ***!
	  \**************************************/(t,e,r)=>{r.r(e),r.d(e,{adjustSlidingStart:()=>d,alignMediaPlaylistByPDT:()=>f,alignPDT:()=>h,alignStream:()=>c,findDiscontinuousReferenceFrag:()=>l,findFirstFragWithCC:()=>s,shouldAlignOnDiscontinuities:()=>o});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ./logger */"./src/utils/logger.ts"),a=r(/*! ../controller/level-helper */"./src/controller/lev),t)}}}},"./src/utils/ewma-bandwidth-estimator.ts":
/*!***********************************************!*\
	  !*** ./src/utils/ewma-bandwidth-estimator.ts ***!
	  \*********************************tion(){},t}()},"./src/utils/ewma.ts":
/*!***************************!*\
	  !*** ./src/utils/ewma.ts ***!
	  \*************timate_},t}()},"./src/utils/fetch-loader.ts":
/*!***********************************!*\
	  !*** ./src/utils/fetch-loader.ts ***!
	  \***********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>p,fetchSupported:()=>h});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),a=r(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts");function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return o(t,arguments,d(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u(i,t)})(t)}function o(t,e,r){return(o=l()?Reflect.construct.bind():function(t,e,r){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return r&&u(n,r.prototype),n}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(t(t){}return!1}vaw n.LoadStats}var e=t.prototype;reortInternal()},eller.abort())},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.resils:null)}}))}null}return t},e.loaejectuest(or=e,u(e,r),i}(s(Error));const p=f},"./src/utils/imsc1-ttml-parser.ts":
/*!****************************************!*\
	  !*** ./src/utils/imsc1-ttml-parser.ts ***!
	  \****************************************/(t,e,r)=>{r.r(e),r.d(e,{IMSC1_CODEC:()=>d,parseIMSC1:()=>g});var i=r(/*! ./mp4-tools */"./src/utils/mp4-tools.ts"),n=r(/*! ./vttparser */"./src/utils/vttparser.ts"),a=r(/*! ./vttcue */"./src/utils/vttcue.ts"),s=r(/*! ../demux/id3 */"./src/demux/id3.ts"),o=r(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),l=r(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts");function u(){return(u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var d="stpp.ttml.im1t",c=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,h=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,f={left:"start",center:"center",right:"end",start:"start",end:"end"};function g(t,e,r,n,d){var c=(0,i.findBox)(new Uint8Array(t),["mdat"]);if(0!==c.lengthrrayToStr)(t)})),g=(0,o.toTimescaleFromScale)(e,1,r);try{h.forEach((function(t){return n(function(t,e){var r=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},n=Object.k:"+e)||i[e],t}),{}),s="preserve"!==r.getAttribute("xml:space"),o=p(v(r,"styling","style")),d=p(v(r,"layout","region")),c=v(r,"body","[begin]");return[].map.call(c,(funContent}),"")}(t,s);if(!r||!t.hasAttribute("begin"))return null;var i=E(t.getAttribute("begin"),n),c=E(t.getAttribute("dur"),n),h=E(t.getAttribute("end"),n);if(null===i)throw y(t);if(null===h){if(null===c)throw y(t);h=i+c}var g=new a.default(i-e,h-e,r);g.id=(0,l.generateCueId)(g.startTime,g.endTime,g.text);var v=d[t.getAttribute("region")],p=o[t.getAttribute("style")];g.position=10,ga]=s),r}),{})}(v,p,o),S=T.textAlign;if(S){var b=f[S];b&&(g.lineAlign=b),g.align=S}return u(g,T),g})).filter((function(t){return null!==t}))}(t,g))}))}catch(t){d(t)}}else d(new Error("Could not parse(t,e))),r}},"./src/utils/logger.ts":
/*!*****************************!*\
	  !*** ./src/utils/logger.ts ***!
	  \*****************************/(t,e,r)=>{r.r(e),r.d(e,{enableLogs:()=>o,logger:()=>l});var i=function(){},n={trace:i,debug:i,log:i,warn:i,info:=n}}else a=n}var l=n},"./src/utils/mediakeys-helper.ts":
/*!***************************************!*\
	  !*** ./src/utils/mediakeys-helper.ts ***!
	  \***************************************/(t,e,r)=>{var i;r.r(e),r.d(e,{KeySystems:()=>i,requestMediaKeySystemAccess:()=>n}),function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(i||(i={}));var n="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":
/*!*****************************************!*\
	  !*** ./src/utils/mediasource-helper.ts ***!
	  \*****************************************/(t,e,r)=>{function i(){return self.MediaSource||self.WebKitMediaSource}r.r(e),r.d(e,{getMediaSource:()=>i})},"./src/utils/mp4-tools.ts":
/*!********************************!*\
	  !*** ./src/utils/mp4-tools.ts ***!
	  \********************************/(t,e,r)=>{r.r(e),r.d(e,{RemuxerTrackIdConfig:()=>l,appendUint8Array:()=>b,bin2str:()=>u,computeRawDurationFromSamples:()=>E,discardEPB:()=>R,findBox:()=>g,getDuration:()=>y,getStartDTS:()=>m,offsetStartDTS:()=>T,parseEmsg:()=>k,parseInitSegment:()=>p,parseSEIMessageFromNALu:()=>A,parseSamples:()=>L,parseSegmentIndex:()=>v,readSint32:()=>h,readUint16:()=>d,readUint32:()=>c,segmentValidRange:()=>S,writeUint32:()=>f});var i=r(/*! ./typed-array */"./src/utils/typed-array.ts"),n=r(/*! ../loader/fragment */"./src/loader/fragment.ts"),a=r(/*! ../demux/id3 */"./src/demux/id3.ts"),s=Math.pow(2,32)-1,o=[].push,l={video:1,audio:2/src/utils/output-filter.ts":
/*!************************************!*\
	  !*** ./src/utils/output-filter.ts ***!
	  \**********************me=null},t}()},"./src/utils/texttrack-utils.ts":
/*!**************************************!*\
	  !*** ./src/utils/texttrack-utils.ts ***!
	  \**************************************/(t,e,r)=>{r.r(e),r.d(e,{addCueToTrack:()=>a,clearCurrentCues:()=>s,getCuesInRange:()=>l,removeCuesInRange:()=>o,sendAddTrackEvent:()=>n});var i=r(/*! ./logger */"./src/uti}return i}},"./src/utils/time-ranges.ts":
/*!**********************************!*\
	  !*** ./src/utils/time-ranges.ts ***!
	  \********************]";return e}}},"./src/utils/timescale-conversion.ts":
/*!*******************************************!*\
	  !*** ./src/utils/timescale-conversion.ts ***!
	  \***************************************t,9e4,1/e)}r.r(e),r.d(e,{toMpegTsClockFromTimescale:()=>s,toMsFromMpegTsClock:()=>a,toTimescaleFromBase:()=>i,toTimescaleFromScale:()=>n})},"./src/utils/typed-array.ts":
/*!**********************************!*\
	  !*** ./src/utils/typed-array.ts ***!
	  \******************************.call(t,e,r))}r.r(e),r.d(e,{sliceUint8:()=>i})},"./src/utils/vttcue.ts":
/*!*****************************!*\
	  !*** ./src/utils/vttcue.ts ***!
	  \***************s.text)},a}()},"./src/utils/vttparser.ts":
/*!********************************!*\
	  !*** ./src/utils/vttparser.ts ***!
	  \********************************/(t,e,r)=>{r.r(e),r.d(e,{VTTParser:()=>h,fixLineBreaks:()=>c,parseTimeStamp:()=>a});var i=r(/*! ./vttcue */"./src/utilspo3],r[0}e(s[0],s[1])}}var l=new i.default(0,0,""),u="middle"===l.align?"mi)?>/s.onflush(),this},t}()},"./src/utils/webvtt-parser.ts":
/*!************************************!*\
	  !*** ./src/utils/webvtt-parser.ts ***!
	  \************************************/(t,e,r)=>{r.r(e),r.d(e,{generateCueId:()=>c,parseWebVTT:()=>h});var i=r(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),n=r(/*! ./vttparser */"./src/utils/vttparser.ts"),a=r(/*! ../demux/id3 */"./src/demux/id3.ts"),s=r(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),o=r(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),l=e((e.toString())+d(r)}function h(t,e,r,d,h,f,g,v){var p,m=new n.VTTParser,y=(0,a.utf8ArrayToStr)(new Uint8Array(t)).trim().replace(l,"\n").split("\n"),E=[],T=(0,s.toMpegTsClockFromTimescale)(e,r),S="00:00.000",ndTime>0&&E.push(ror=functiction(){p?v(p):g(E)},y.forEach((function(t){if(D){if(u(t,"X-TIMESTAMP-MAP=")){D=!1,t.slice(16)rseInt(t,e+=6e4*n,e+=36e5*a}(S)/1e3}catch(t){p=t}return}""===t&&(D=!1)}m.parse(t+"\n")})),m.flush()}},"./src/utils/xhr-loader.ts":
/*!*********************************!*\
	  !*** ./src/utils/xhr-loader.ts ***!
	  \*********************************/(t,e,r)=>{r.r(e),r.d(e,{default:()=>s});var i=r(/*! ../utils/logger */"./src/utils/logger.ts"),n=r(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),a=/^age:\s*e):null}return t},t}()},"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
	  !*** ./node_modules/eventemitter3/index.js ***!
	  \*************************itter=o,t.exports=o},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
	  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
	  \*********************************gment}},t.exports=a}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,r)turnrablwnPrModule",{value:!0})};var i=r("./src/hls.ts");return i=i.default})(),t.exports=r())})));var r=Object.freeze({__proto__:null,ATTACHED:"hls:attached"});const i="com.widevine.alpha";const n="application/vnd.apple.mpegURL",a=[n,"application/x-mpegurl"],s=document.createElement("video").canPlayType(n);function o();return e.href=t,e}(t);return e.endsWith(".m3u8")}function l({src:t="",type:e="",drm:r},n){const l=(null==n?void 0:n.hls)||{},u="native"in l&&l.native;return(!s||!u)&&(!(r&&!Object.keys(r).find(t=>{reion(t){return t===e})).length;var e}))&&(!(!e||!a.includes(e))||o(t)))}var u="audio:set",d="audio:update",c="audio:tracks";const h=[e.Events.SUBTITLE_TRACKS_UPDATED,e.Events.SUBTITLE_TRACK_SWITCH,e.Events.LEVEL_SWITCHED];function f(t,e){h.forEach((function(r){t.on(r,(function(){!function(t,e){var r;const i=t.levels[t.currentLevel];if(!i||!t.subtitleTracks.length||i.attrs.SUB)return;const n=null===(r=null==i?void 0:i.attrs)||void 0===r?void 0:r.SUBTITLES;if(!n)return e.emit("tracks:text:all",[]);const a=t.sureturn  e.textTracks[t.id]}));e.emit("tracks:text:all",a)}(t,e)}))}))}var g=Object.assign(Object.assign({},{"http.404":"the video was not found","http.403":"access to this video was denied","http.410":"the video no longer exists","http.live.404":"stream is offline","http.0":"no internet connection detected"}),{keySystemNoKeys:"no keys",keySystemNoAccess:"no access to key system",keySystemNoSession:"no session for key system",keySystemLicenseRequestFailed:"license request failed",keyLoadError:"decrypt key load failed",keyLoadTimeOut:"decrypt key load timed outs"});var v,p;fun}catch(t){return""}}(),i=(i,...n)=>{try{const a=(null==e?void 0:e.debug)||r;a&&t.match(a)&&console.log(`flowplayer/${t} -- ${i}`,...n)}catch(t){console.warn(t),t[t.HIGH=41]="STALE_MANIFEST"}(p||(p={}));const y=m("hls:failover");class FailtFailures={},this}failover(t){var e;this.reset();const r=this.hls;if(!r)return;const i=r.levels[r.currentLevel];if(!i)return;if(i.url.length<2)return;const n=r.levels[r.currentLevel].details;r.levelController.redundantFailover(r.currentLevel),null===(e=r.media)||void 0===e||e.dispatchEvent(new CustomEvent("hls/failover",{detail:{reason:t,from:null==n?void 0:n.url}}))}currentLevel(){var t;return null===(t=this.hls)||void 0===t?void 0:t.levels[this.hls.currentLevel]}nextTTL(){var t;const e=Date.now()+this.ttlMilliseconds,r=this.currentLevel();if(!r)return e;const i=null===(t=r.details)||void 0===t?void 0:t.averagetargetduration;return i?Date.now()+500*i:e}ensurePlaylistUpdating(t,e){this.playlistCounts[t]||(this.playlistCounts[t]={checksum:e,count:0,ttl:this.nextTTL()});const r=this.playlistCounts[t];Date.now()<r.ttl||(r.count=r.checksum===e?r.count+1:0,r.ttl=this.nextTTL(),r.checksum=e,r.count<3||(y(`${t} / no change in ${r.count} tries`,this.playlistCounts),this.failover(p.STALE_MANIFEST)))}trackFragmentError(t){const e=this.fragmentFailures[t]||0;this.fragmentFailures[t]=e+1,this.fragmentFailures[t]>2&&this.failover(p.FRAGMENT_ERRORS)}createPlaylistLoader(){const t=this;return class extends e.DefaultConfig.loader{load(e,r,i){const n=i.onSuccess;i.onSuccess=({data:e,url:r},...i)=>{t.ensurePlaylistUpdating(r,e),n({data:e,url:r},...i)},super.load(e,r,i)}}}createFragmentLoader(){const t=this;return class extends e.DefaultConfig.loader{load(e,r,i){const n=i.onError;i.onError=e=>{t.trackFragmentError(e.url),n(...arguments)},super.load(e,r,i)}}}}const E=m("hls");function T(t,r,i){if(!t.reaper||!i.src)return;t.hls&&t.hls.destroy();const n="live"in r==0,a={is_audio_only:!1,fragDuration:-1,media_recovers:0,audio_swaps:0};if(i.drm&&"https:"!==location.protocol&&"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname)return t.emit("error",{message:"Secure page required for DRM"});const s=new FailoverLoaderController,o=function(t){return Object.assign(Object.assign({autoStartLoad:!1,levelLoadingMaxRetry:1},t.hls),{startPosition:t.start_time||-1})}(r);o.pLoader=s.createPlaylistLoader(),o.fLoader=s.createFragmentLoader();const l=t.hls=new e(o);s.setHls(l),l.subtitleDisplay=!1,l.attachMedia(t),l.loadSource(i.src),t.emit("hls:attached",{hls:l}),function(t,r){t.on(e.Events.Ait(c,e.audioTracks)})),t.on(e.Events.AUon(t,e){r.emit(d,e)})),t.on(e.Eveit(c,e.audioTracks)})),t.on(e.Events.LEVEL_SWITCHED,(function(e,i){const n=t.levels[i.level];n&&r.emit(c,t.audioTracks.filter((function(t){return t.groupId&&~(n.audioGroupIds||[]).indexOf(t.groupId)})))}))}(l,t),f(l,t);const h=function(t){var e;const r=null===(e=t.data)||void 0===e?void 0:e.level;"number"==typeof r&&(l.levels[r]||-1===r?l.nextLevel=r:console.error(new Error("skipping invalid quality: "+t.data)))},p=function(t){var e;const r=null===(e=t.data)||void 0===e?void 0:e.id;"number"==typeof r&&r!=l.audioTrack&&setTimeout((function(){l.audioTrack=r}),0)};t.on("quality:set",h),t.on(u,p),t.on("src",(function(){t.hls&&t.hls.destroy(),t.off("quality:set",h),t.off(u,p)})),t.o{a.is_audio_onlon(){l&&l.destroy()})),t.on("res&&t.hls.stopLoad()}),t.on("d",()=>{t.hls&&S(t)}),t.on("retry",()=>{i.src&&l.loadSource(t.original_src),t.togglePlay(!0)}),n&&l.on(e.ve:r.details.live})})),l.on(e.Events.MANIFEST_PARSED,(function(e,i){const n=i.levels.slice(0).reduce((t,e,r)=>[...t,{level:r,text:e.name||e.width+"",width:e.width,height:e.height,videoCodec:e.videoCodec||""}],[{text:"AUTO",level:-1,width:0,height:0,v,e)=>e.width-t.width);t.emit("qualities",n),function(t,e,r){var i,n;if(!t.hls)return;E("Initializer::maybe_start_load_with_quality (start_quality, preload): (%d, %s)",e.start_quality,e.preload),void 0!==e.start_quality&&(v.HIGH&e.start_quality&&(t.hls.startLevel=r[0].level),v.LOW&e.start_quality&&(t.hls.startLevel=r[r.length-1].level),v.MEDIUM&e.start_quality&&(t.hls.startLevel=r[Math.ceil(r.length/2)-1].level));const a=(null===(i=e.hls)||void 0===i?void 0:i.maxBufferSize)||1024,s=(null===(n=e.hls)||void 0===n?void 0:n.maxBufferLength)||30;E("Setting maxBufferSize to %d",a),t.hls.config.maxBufferSize=a,"metadata"===e.preload&&E("preload === metadata, setting maxBufferLength to 1sec");if(t.hls.config.maxBufferLength="metadata"===e.preload?1:s,t.once("playing",()=>{E("Playback started, set maxBufferLenght to %d",s),t.hls&&(t.hls.config.maxBufferLength=s)}),"none"===e.preload&&!e.autoplay)return;S(t,e.start_time||-1)}(t,r,n.slice(0nd(t=>!!t.videoCodec);a||t.emit("audioonlysource"),!t.opt("ratio")&&a&&0!=a.width&&0!=a.height&&t.setOpts({ratio:a.width+":"+a.height})})),l.on(e.Evion=e.frag.duration})),l.on(e.Events.ERROR,(function(r,i){!function(t,r,i){var n,a,s,o;if(0==t.reaper)return;if(0==r.fatal)return;switch(r.type){case e.ErrorTypes.MEDIA_ERROR:return E("recovering from "+r.type),i.media_recovers+5e3>Date.now()&&0==i.audio_swaps?(null===(n=t.hls)||void 0===n||n.swapAudioCodec(),E(`calling swapAudioCodec() : {count=${i.audio_swaps}}`),i.audio_swaps++,i.media_recovers=Date.now(),null===(a=t.hls)||void 0===a?void 0:a.recoverMediaError()):(i.media_recovers=Date.now(),i.audio_swaps=0,null===(s=t.hls)||void 0===s?void 0:s.recoverMediaError());case e.ErrorTypes.NETWORK_ERROR:return function(t,e){var r;const i=(null===(r=e.networkDetails)||void 0===r?void 0:r.status)||e.details;let n=t.opts.live?"http.live.":"http.";n+=i.toString();const a=t.i18n("error."+n,g[n]||"an error occurred while loading this video");t.emit("error",{code:n,message:a,fatal:!0})}(t,r);case e.ErrorTypes.KEY_SYSTEM_ERROR:return function(t,e){var r;t.emit("error",{fatal:!0,message:g[e.details]||"an error occurred while accessing this video"}),null===(r=t.hls)||void 0===r||r.destroy()}(t,r);default:null===(o=t.hls)||void 0===o||o.destroy()}}(t,i,a)})),l.on(e.Events.LEVEL_PTS_UPDATED,(function(e,r){var i;if("video"!==r.type&&(!a.is_audio_only||"audio"!==r.type))return;const n=null===(i=null==r?void 0:r.details)||void 0===i?void 0:i.fragments;if(!n)return;const s=n[0].start||0,o=n[n.length-1].start+n[n.length-1].duration;t.emit("dvr/window",o-s)})),l.on(e.Events.LEVEL_SWITCHING,(e,r)=>{const i=l.levels[l.currentLevel],n=l.levels[r.level];t.emit("qualitychange",{before:i,after:n,kind:"hls"})});const m=t.opt("start_time");m&&t.onn(){t.currentTime=m})),"none"!==r.preload||r.autoplay||t.once("beforeplay",()=>{t.hasState("is-casting")||S(t,r.start_time||-1)})}function S(t,e){var r;!t.hasState("is-loaded")&&t.setState("is-loading",!0),null===(r=t.hls)||void 0===r||r.st)}clad(t,e,r,i){T(r,t,i)}wants(t,r,i){return e.isSupported()&&l(r,i)}}return HLS.events=r,HLS.version=e.version,HLS.failover={Reasons:p},function(t,e){if("object"==typeof exports&&"undefined"!=typeof module)return e;if(null===document.currentScript)return e;"flowplayer"in t||(t.flowplayer={extensions:[]});const r=t.flowplayer;"function"==typeof r?r(e):(Array.isArray(r.extensions)||(r.extensions=[]),~r.extensions.indexOf(e)||r.extensions.push(e))}(window,HLS),HLS}));
