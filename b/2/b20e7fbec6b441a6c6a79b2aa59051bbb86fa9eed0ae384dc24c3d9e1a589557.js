(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[5909],{10793:(e,t,r)=>{"use strict";r.d(t,{f:()=>c});var a=r(76955),n=r(52377),o=r(5154),i=r.n(o),s=r(54285);class c extends a.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:i(),viewLogger:i()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:r,subCategoryId:a,contentId:n,displayPosition:o,pageId:i,entryId:s,orderId:c,sectionId:p,serviceId:d,tagName:l}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:r,subCategoryId:a,contentId:n,displayPosition:o,pageId:i,entryId:s,orderId:c,sectionId:p,serviceId:d,tagName:l}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(c.intersectionListener||(c.intersectionListener=(0,s.T)({})),this.stopListen(),this.trigger=n.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=c.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=a.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=a.cloneElement(e,{onClick:this.handleClick})),e}}c.displayName="Tracker"},18958:35874:(e,t,r)=>{"use strict";r.d(t,{Vx:()=>d});var a=r(66062),n=r(18274),o=r(55752),i=r.n(o),s=r(82548),c=p=(e,t,r,a)=>({type:s.Ic,payload:{blogId:e,themeId:t,error:a,page:r},error:!0}),d=(0,n.H)((function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return function(){var o=(0,a.Z)((function*(a,o,d){var{fetchr:l}=d,g=r>0?(r-1)*n:0,h=parseInt(r,10),m=n,u=o(),b=u.themesState.themePageMap["".concat(t,"/").concat(h)];if(b&&b.data)return null;try{var y={amebaId:i()(u,["bloggerState","blogMap",e,"blog_name"],""),blogId:e,page:h,themeId:t,offset:g,limit:m};a({type:s._P,payload:y});var I=yield l.read("blogThemeEntries").params(y).end();return a(c(e,t,h,I.data))}catch(f){return a(p(e,t,h,f))}}));return function(e,t,r){return o.apply(this,arguments)}}()}))},63455:(e,t,r)=>{"use strict";r.d(t,{IM:()=>d,kt:()=>l});var a=r(66062),n=r(18274),o=r(55752),i=r.n(o),s=r(5663),c=r.n(s),p=r(61863),d=(0,n.H)((e=>function(){var t=(0,a.Z)((function*(t,r,a){var{fetchr:n}=a;if(!e)return null;var o=r();if(!c()(i()(o,["themesState","bloggerThemeIdsMap",e])))return null;try{var s=i()(o,["bloggerState","blogMap",e,"blog_name"],""),d=yield n.read("themes").params({amebaId:s,blogId:e}).end(),{themeIds:l,themeMap:g}=d.data;return t(((e,t,r)=>({type:p.vR,payload:{blogId:e,themeIds:t,themeMap:r}}))(e,l,g))}catch(h){return t((e=>({type:p.fl,payload:{error:e},error:!0}))(h))}}));return function(e,r,a){return t.apply(this,arguments)}}())),l=(0,n.H)(((e,t)=>function(){var r=(0,a.Z)((function*(r,a,n){var{fetchr:o}=n,s=a();if(-1!==i()(s,["themesState","bloggerThemeIdsMap",e],[]).indexOf(t))return null;try{var c=i()(s,["bloggerState","blogMap",e,"blog_name"],""),d=yield o.read("themeInfo").params({amebaId:c,blogId:e,themeId:t}).end(),{themeMap:l}=d.data;return r(((e,t,l))}catch(g){return r((e=>({type:p.tf,payload:{error:e},error:!0}))(g))}}));return ()))},39954:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var a=r(91938),n=r.n(a),o=r(76955);function i(e){var{children:t,placeholder:r=null}=e,[a,n]=(0,o.useState)(!1);return(0,o.useEffect)((,[]),a?t:r}i.propTypes={children:n().node.isRequired,placeholder:n().node};var s=(0,o.memo)(i)},89921:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a,n,o,i=r(3e4),s=r(41185),c=r(66062),p=(r(91938),r(76955)),d=r(55752),l=r.n(d),g=r(29466),h=r.n(g),m=r(66948),u=r(97175),b=r(35874),y=r(63455),I=r(73614),f=r(62986),v=r(81454),w=r(12942),T=r(5563),Z=r(13248),k=r(96216),P=r(82282);class _ extends p.Component{static get defaultProps(){return{blog:{},entries:[],paging:{},seoSetting:{}}}shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.pageType!==e.pageType||this.props.themeId!==e.themeId||this.props.themeName!==e.themeName||!h()(this.props.blog,e.blog)||!h()(this.props.paging,e.paging)||!h()(this.props.seoSetting,e.seoSetting)}render(){var e=this.props.paging.current_page||1,t=e>1?" -".concat(e||1,"\u30da\u30fc\u30b8\u76ee"):"",r=this.props.themeName?"".concat(this.props.themeName,"\uff5c"):"",a=(0,P.Z)(this.props.pageType,{amebaId:this.props.amebaId,seoSetting:this.props.seoSetting||{},paging:this.props.paging,themeId:this.props.themeId});return(0,i.Z)(k.ql,{},void 0,(0,i.Z)("title",{},void 0,"".concat(r).concat(this.props.blog.blog_title||"").concat(t)),a)}}nction A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}_.displayName="Head";var E=function(){var e=(0,c.Z)((function*(e){var{dispatch:t,getState:r,match:a}=e,{params:n}=a,o=n.amebaId,i=n.themeId,s=yield t((0,I.Rs)(o));if(s&&s.error)"Not Found"===l()(s,"payload.error.message")?t((0,w.Qn)(o)):t((0,w.$F)(o));else{var c=l()(r(),["bloggerState","bloggerMap",o,"blog"]),p=r().bloggerState.blogMap[c];if(p&&p.blog_id){var d=A(n.page);yield Promise.all([t((0,y.kt)(c,i)),t((0,b.Vx)(c,i,d,10)),t((0,f.Pi)(p.blog_id))])}else t((0,w.Qn)(o))}}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,c.Z)((function*(e){var{dispatch:t,getState:r,match:a}=e,{params:n}=a,o=n.amebaId,i=n.themeId,s=l()(r(),["bloggerState","bloggerMap",o,"blog"]),c=A(n.page),p=(r().themesState.themePageMap["".concat(i,"/").concat(c)]||{}).data||[];t((0,v.l1)(s,p))}));return (),x=(0,m.$j)(((e,t)=>{var{match:r}=t,{params:a,route:n}=r,o=a.amebaId,i=a.themeId,s=e.bloggerState,c=e.entryState,p=c.entryMap,d=e.themesState,g=s.bloggerMap[o]||{},h=g.seo_setting||{},m=g.attribute||{},u=s.blogMap[g.blog]||{},b=(d.themeMap[i]||{}).theme_name||"",y=(e.skinState.spSkinMap[g.blog]||{}).layout,I=n.pageType,f=l()(g,"official.image_protection_type")||"",v=A(a.page),w=d.themePageMap["".concat(i,"/").concat(v)]||{},T=(w.data||[]).map((e=>S(S({},p[e]),c.entryReactionsMap[e]))),Z=void 0===w.loading||w.loading,k=w.paging||{};return{amebaId:o,blog:u,bloggerAttribute:m,currentPage:v,entries:T,entryMap:p,imageProtectionType:f,layoutType:y,pageType:I,paging:k,seoSetting:h,themeId:i,themeName:b,themesLoading:Z}}),{trackTapLog:T.XI,trackViewLog:T.iG,fetchThemeEntriesRequest:b.Vx})(a=(0,u.provideHooks)({defer:E,done:M})((o=n=class extends p.Component{houldComponentUpdate(e){return!(this.props.amebaId===e.amebaId&&this.props.currentPage===e.currentPage&&this.props.fetchThemeEntriesRequest===e.fetchThemeEntriesRequest&&this.props.imageProtectionType===e.imageProtectionType&&this.props.layoutType===e.layoutType&&this.props.pageType===e.pageType&&this.props.themeId===e.themeId&&this.props.themeName===e.themeName&&this.props.themesLoading===e.themesLoading&&this.props.trackTapLog===e.trackTapLog&&this.props.trackViewLog===e.trackViewLog&&h()(this.props.bloggerAttribute,e.bloggerAttribute)&&h()(this.props.blog,e.blog)&&h()(this.props.entries,e.entries)&&h()(this.props.paging,e.paging))}render(){return(0,i.Z)("div",{},void 0,(0,i.Z)(_,{amebaId:this.props.amebaId,blog:this.props.blog,pageType:this.props.pageType,paging:this.props.paging,seoSetting:this.props.seoSetting,themeId:this.props.themeId,themeName:this.props.themeName}),(0,i.Z)(Z.X,{amebaId:this.props.amebaId,blog:this.props.blog,bloggerAttribute:this.props.bloggerAttribute,bloggerType:this.props.bloggerAttribute.bloggerType,entries:this.props.entries,imageProtectionType:this.props.imageProtectionType,layoutType:this.props.layoutType,loading:this.props.themesLoading&&this.props.entries.length<1,pageType:this.props.pageType,paging:this.props.paging,queryForFrm:"?frm=theme",themeId:this.props.themeId,trackTapLog:this.props.trackTapLog,trackViewLog:this.props.trackViewLog}))}},n.displayName="SpThemeEntryList",a=o))||a)||a},36509:(e,t,r)=>{"use strict";r.d(t,{IT:()=>m,O4:()=>u,WW:()=>I,oK:()=>b});var a=r(5663),n=r.n(a),o=r(43177),i=r.n(o),s=r(12943),c=r.n(s),p=r(16884),d=r(75457),l=r(77948),g=r(18958),h=r(19008);function m(e,t){return"amember"===t.publish_flg||"2"===t.publish_flg?(0,p.Z)(d.Z.AmemberEntry,{amebaId:e,entryId:t.entry_id}):(0,p.Z)(d.Z.Entry,{amebaId:e,entryId:t.entry_id})}function u(e,t){var r=m(e,t);return"https://cs.ameba.jp/inq/inquiry/vio?targetAmebaId=".concat(e,"&url=").concat(r,"&service=blog")}function b(e,t){if(n()(e)||!t)return!1;if(!n()(e)&&!e.entry_created_datetime)return!1;var r=i()(new Date,l.Z.DEFAULT_DATE),a=i()(e.entry_created_datetime,l.Z.DEFAULT_DATE);return c()(r,a)>t}function y(e){!function(e){window.YT&&window.YT.Player?e():(window.onYouTubeIframeAPIReady=()=>{window.YT.loaded&&window.YT.Player?e():window.YT.ready&&"function"==typeof window.YT.ready&&window.YT.ready(()},(0,h.v)("https://www.youtube.com/iframe_api").catch((e=>{console.warn(e)})))}((()=>{!function(e){var t=e.querySelectorAll('iframe[src^="https://www.youtube.com/embed/"]'),r=[],a=e=>{e.data===window.YT.PlayerState.PLAYING&&r.forEach((t=>{t!==e.target&&t.pauseVideo()}))};t.forEach((e=>{var t=new window.YT.Player(e,{events:{onStateChange:a}});r.push(t)}))}(e)}))}function I(e){e&&(null!==e.querySelector("blockquote.twitter-tweet")&&(0,h.v)("https://platform.twitter.com/widgets.js").then((()=>{window.twttr&&window.twttr.widgets&&window.twttr.widgets.load()})).catch((e=>{console.warn(e)})),null!==e.querySelector('blockquote[class="instagram-media"]')&&(0,h.v)("https://platform.instagram.com/en_US/embeds.js").then((()=>{window.instgrm&&window.instgrm.Embeds&&window.instgrm.Embeds.process()})).catch((e=>{console.warn(e)})),null!==e.querySelector(".pickCreative_root")&&(0,h.v)("".concat(window.process.env.HTTP_PATH_STAT,"/ameblo/pick/pick_sdk-").concat(g.C,".js")).then(().catch((),null!==e.querySelector('iframe[src^="https://www.youtube.com/embed/"]')&&y(e))}},82282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var a=r(3e4),n=(r(76955),r(16884)),o=r(75457);function i(e,t){var{amebaId:r,entryId:i,themeId:s,entryYm:c}=t;if(!r)return[];var p="";switch(e){case o.Z.BlogTop:p=(0,n.Z)(o.Z.BlogTop,{amebaId:r});break;case o.Z.Entry:i&&(p=(0,n.Z)(o.Z.Entry,{amebaId:r,entryId:i}));break;case o.Z.Theme:s&&(p=(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:s}));break;case o.Z.Archive:c&&(p=(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:c}))}var d=[];return p&&d.push((0,a.Z)("link",{href:p,rel:"canonical"},"seo_canonical")),d}function s(e,t){var{amebaId:r,paging:i,entryYm:s,themeId:c}=t;if(!i||!r)return[];var p=i.prev_page,d=i.next_page,l=i.current_page,g=p<l&&p>0,h=d>l,m="",u="";switch(e){case o.Z.BlogTop:m=g?(0,n.Z)(o.Z.BlogTop,{amebaId:r,page:p}):"",u=h?(0,n.Z)(o.Z.BlogTop,{amebaId:r,page:d}):"";break;case o.Z.Archive:m=g?(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:s,page:p}):"",u=h?(0,n.Z)(o.Z.Archive,{amebaId:r,entryYm:s,page:d}):"";break;case o.Z.Theme:m=g?(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:c,page:p}):"",u=h?(0,n.Z)(o.Z.Theme,{amebaId:r,themeId:c,page:d}):"";break;case o.Z.Reader:m=g?(0,n.Z)(o.Z.Reader,{amebaId:r,page:p}):"",u=h?(0,n.Z)(o.Z.Reader,{amebaId:r,page:d}):""}var b=[];return m&&b.push((0,a.Z)("link",{href:m,rel:"prev"},"seo_prev")),u&&b.push((0,a.Z)("link",{href:u,rel:"next"},"seo_next")),b}function c(e,t){var{seoSetting:r={},prFlg:n,paging:i,totalReaders:s}=t,c="";if(r.noindex||!1)c="noindex,nofollow";else switch(e){case o.Z.Entry:c="1"===n?"noindex":"2"===n?"nofollow,max-image-preview:large":"3"===n?"noindex,nofollow":"max-image-preview:large";break;case o.Z.Reader:(0===s||i&&1===i.current_page)&&(c="noindex,nofollow");break;case o.Z.Theme:case o.Z.BlogTop:case o.Z.Archive:0===i.total_count&&(c="noindex,nofollow");break;case o.Z.AmemberEntry:c="noindex,follow";break;case o.Z.VideoList:i&&0===i.total_count&&(c="noindex,nofollow")}var p=[];return c&&p.push((0,a.Z)("meta",{content:c,name:"robots"},"seo_robots")),p}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t.amebaId)return[];var r=c(e,t),a=s(e,t),n=[];return t.paging&&1!==t.paging.current_page||n.push(...i(e,t)),[...r,...a,...n]}},16884:(e,t,r)=>{"use strict";r.d(t,{Z:);var a=r(75457),n=e=>{var{amebaId:t,entryId:r,vnm:a}=e;return t&&r?"/".concat(t,"/video-").concat(r,".html").concat(a?"?vnm=".concat(a):""):""};function o(e,t){var{amebaId:r,entryId:o,themeId:i,entryYm:s,imageId:c,vnm:p,day:d,page:l=1}=t,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!r||!e)return"";var h="".concat(g,"/").concat(r),m="";switch(e){case a.Z.BlogTop:return m=l>1?"page-".concat(l,".html"):"","".concat(h,"/").concat(m);case a.Z.EntryList:return m=l>1?"-".concat(l):"","".concat(h,"/entrylist").concat(m,".html");case a.Z.AmemberEntryList:return m=l>1?"-".concat(l):"","".concat(h,"/amemberentrylist").concat(m,".html");case a.Z.ArchiveTop:return"".concat(h,"/archivetop.html");case a.Z.Archive:if(s)return m=l>1?"".concat(l):"","".concat(h,"/archive").concat(m,"-").concat(s,".html");console.error("PageType.Archive: entryYm is undefined.");break;case a.Z.Day:if(d)return m=l>1?"".concat(l):"","".concat(h,"/day").concat(m,"-").concat(d,".html");console.error("PageType.Day: day is undefined.");break;case a.Z.ThemeTop:return"".concat(h,"/themetop.html");case a.Z.Theme:if(i)return m=l>1?"".concat(l):"","".concat(h,"/theme").concat(m,"-").concat(i,".html");console.error("PageType.Theme: themeId is undefined.");break;case a.Z.PopularRecentList:return m=l>1?"-".concat(l):"","".concat(h,"/popularrecentlist").concat(m,".html");case a.Z.Entry:if(o)return m=l>1?"".concat(l):"","".concat(h,"/entry").concat(m,"-").concat(o,".html");console.error("PageType.Entry: entryId is undefined.");break;case a.Z.ImageList:return m=l>1?"-".concat(l):"",s?"".concat(h,"/imagelist-").concat(s).concat(m,".html"):"".concat(h,"/imagelist.html");case a.Z.Image:if(o&&c)return"".concat(h,"/image-").concat(o,"-").concat(c,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case a.Z.VideoList:return m=l>1?"-".concat(l):"","".concat(h,"/videolist").concat(m,".html");case a.Z.Video:if(o)return"".concat(g).concat(n({amebaId:r,entryId:o,vnm:p}));console.error("PageType.Video: entryId is undefined.");break;case a.Z.IineEntry:if(o)return"".concat(h,"/iine_entry-").concat(o,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case a.Z.Comment:if(m=l>1?"page-".concat(l,".html"):"",o)return"".concat(h,"/comment-").concat(o,"/").concat(m);console.error("PageType.Comment: entryId is undefined.");break;case a.Z.Reblog:if(m=l>1?"page-".concat(l,".html"):"",o)return"".concat(h,"/reblog-").concat(o,"/").concat(m);console.error("PageType.Reblog: entryId is undefined.");break;case a.Z.MessageBoard:return"".concat(h,"/message-board.html");case a.Z.Reader:return m=l>1?"-".concat(l):"","".concat(h,"/reader").concat(m,".html");case a.Z.Favorite:return m=l>1?"-".concat(l):"","".concat(h,"/favorite").concat(m,".html");case a.Z.Bookmark:return m=l>1?"-".concat(l):"","".concat(h,"/bookmark").concat(m,".html");case a.Z.AmemberEntry:if(o)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(r,"/amemberentry-").concat(o,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case a.Z.ImageEmbed:if(o&&c)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(r,"/image-").concat(o,"-").concat(c,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case a.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}},12943:52361:]);