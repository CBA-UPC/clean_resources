"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[708],{81952:(e,i,t)=>{t.d(i,{I:()=>P});var s=t(80552),l=t(50959),r=t(85648),n=(t(80378),t(58465),t(46758),t(53321),t(45205),t(27082),t(86277),t(2836),t(82187)),a=t.n(n),d=t(75802),c=t(69736),o=t(87025),u=t(80859),m=t(49857),x=t(2800),h=t(76981);var j=t(95841),p=t(79936),v=t(64569);const g="BkpKedcdaMGbvgXMlmcg",y="muYk5XIwKmqR9iNibk_f",f="OEFWODerafYHGp09iLlA",b="m20ShRDiGGDpJ5LSABTi",k="Hvv0e7WKQ4kyftgSQJhg",I="yxf_6IsQEmHjijEBUMTP",N="oaNVBli46GtVjaQKB15g",w="JdlKTdpMquftpMwwegZo",C="Nts_ArOCGeROTDZND3M6",E="FvDsfgxSvLvL3q8d7nQv";var R=t(11527);const A=e=>{let{items:i,activeItemId:t}=e;return(0,R.jsx)(p.v,{children:i.map((e=>e.disabled?(0,R.jsx)(v.s,{disabled:!0,role:"menuitemradio",className:I,onClick:e.handleClick,children:e.title},e.uri):(0,R.jsx)(v.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===t,className:e=>{let{isActive:i}=e;return a()(I,{[N]:i})},onClick:e.handleClick,children:e.title},e.uri)))})};var T=t(64634);const U=(0,l.memo)((function(e){let{isCentered:i,links:t,landmarkLabel:s,className:n}=e;const p=(0,l.useRef)(null),[v,I]=(0,l.useState)([]),[U,S]=(0,l.useState)(0),[O,B]=(0,l.useState)([]),M=function(){const[e,i]=(0,l.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,l.useContext)(x.VX),s=(0,m.y1)((e=>{null!=e&&e.width&&i(e.width)}),250);return(0,h.y)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:_}=(0,d.TH)(),P=t.find((e=>e.to===_));return(0,l.useEffect)((()=>{p.current&&S(p.current.clientWidth)}),[M]),(0,l.useEffect)((()=>{if(!p.current)return;const e=Array.from(p.current.children).map((e=>e.clientWidth));I(e)}),[t]),(0,l.useEffect)((()=>{if(!p.current)return;if(v.slice(0,-1).reduce(((e,i)=>e+i),0)<=U)return void B([]);const e=v.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;v.forEach(((e,s)=>{U>=t+e?t+=e:i.push(s)})),B(i)}),[U,v]),(0,R.jsx)("nav",{className:a()(n,g),"aria-label":s,children:(0,R.jsxs)("ul",{className:i?y:C,ref:p,children:[t.filter(((e,i)=>!O.includes(i))).map((e=>{const i=(null==e?void 0:e.render)??(e=>e);return(0,R.jsx)(l.Fragment,{children:i((0,R.jsx)("li",{className:f,children:e.disabled?(0,R.jsx)("div",{className:w,children:(0,R.jsx)(c.x,{variant:"bodySmallBold",children:e.title})}):(0,R.jsx)(T.O,{end:!0,className:e=>{let{isActive:i}=e;return a()(w,{[N]:i})},to:e.to,onClick:e.handleClick,children:(0,R.jsx)(c.x,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),O.length||0===v.length?(0,R.jsx)("li",{className:f,children:(0,R.jsx)(j.xV,{renderInline:!0,menu:(0,R.jsx)(A,{items:t.filter(((e,i)=>O.includes(i))),activeItemId:null==P?void 0:P.itemId}),children:(e,i,t)=>(0,R.jsxs)("button",{className:a()(b,{[k]:P}),type:"button",onClick:i,ref:t,children:[(0,R.jsx)(c.x,{variant:"bodySmallBold",children:P?P.title:r.ag.get("more")}),e?(0,R.jsx)(o.U,{size:"small",className:E,"aria-hidden":"true"}):(0,R.jsx)(u.i,{size:"small",className:E,"aria-hidden":"true"})]})})}):null]})})}));var S=t(8885),O=t(64847),B=t(98271);const M="vhW0kRN8JJD5UwW4TdXi",_=()=>{const e=(0,B.Y)(),i=(0,l.useCallback)((e=>(0,R.jsx)(O.v,{placement:"bottomEnd",arrow:"topStart",title:r.ag.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),t=(0,l.useMemo)((()=>[{title:r.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:r.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,i]);return(0,R.jsx)(S.w,{children:(0,R.jsx)(U,{className:M,links:t})})},P=e=>{let{children:i}=e;const t=(0,s.nF)();return(0,R.jsxs)("section",{className:"contentSpacing",children:[i,t&&(0,R.jsx)(_,{})]})}},77972:(e,i,t)=>{t.r(i),t.d(i,{default:()=>K});var s=t(80552),l=t(69736),r=t(85648),n=t(24096),a=t(89322),d=t(11527);const c=()=>(0,d.jsxs)("div",{className:a.Z.emptyContainer,children:[(0,d.jsx)(n.Y,{size:"xxlarge","aria-hidden":"true"}),(0,d.jsx)(l.x,{as:"h1",variant:"titleMedium",semanticColor:"textBase",className:a.Z.emptyContainerTitle,children:r.ag.get("history.empty-title")}),(0,d.jsx)("p",{children:r.ag.get("history.empty-description")})]});var o=t(50959),u=t(36199),m=t(17162),x=t(45438),h=t(95812),j=t(82857),p=t(70526),v=t(58912),g=(t(86277),t(11317)),y=t(64329),f=t(35014),b=t(86696),k=t(31360),I=t(13926),N=t(22523),w=t(10956),C=t(27565),E=t(44724),R=t(52993),A=t(3319),T=t(22527),U=t(74234),S=t(91939),O=t(42783),B=t(19968);const M=o.memo((function(e){var i,t;let{uri:s,name:l,duration_ms:n,index:a,imgUrl:c,artists:o,album:u,isExplicit:m,isMOGEFRestricted:h,contextItem:p,type:v}=e;const{isActive:M,isPlaying:_,triggerPlay:P,togglePlay:D}=(0,T.n)({uri:s,pages:[{items:[{...p}]}]},{featureIdentifier:"history"}),G=v===j.p.TRACK,L=v===j.p.EPISODE,F=v===j.p.CHAPTER,K=(0,A._)(s),Q=(0,O.k)(s),{badges:W,hasBadges:q}=(0,U.r)({downloadAvailability:K,isExplicit:m,isMOGEFRestricted:h}),Z=(null==o?void 0:o.map((e=>e.name)).join(r.ag.getSeparator()))||"";let H;return L?H=(0,d.jsx)(y.k,{uri:s,contextUri:s,showUri:u.uri}):F?H=(0,d.jsx)(S.r,{uri:s}):G&&(0,g.dB)(s)?H=(0,d.jsx)(f.N,{uri:s,contextUri:s}):G&&(H=(0,d.jsx)(b.$,{uri:s,contextUri:s,albumUri:u.uri,artists:o})),(0,d.jsx)(x.JL,{value:"row",index:a,children:(0,d.jsx)(w._,{menu:H,children:(0,d.jsxs)(N.c,{uri:s,contextUri:s,index:a,ariaRowIndex:a,onTriggerPlay:()=>{P()},isActive:M,isPlayable:Q,ageRestricted:h,dragMetadata:{name:l,createdBy:Z},children:[(0,d.jsxs)(k.vZ,{ariaColIndex:0,children:[(0,d.jsx)(k.VG,{uri:s,src:c,isPlaying:_,isActive:M,isLocked:!1,onClick:()=>{D()},isEpisode:(0,g.hn)(s),playAriaLabel:r.ag.get("tracklist.a11y.play",l,Z)}),(0,d.jsxs)(k.vm,{children:[(0,d.jsx)(k.Wh,{titleText:l,children:l}),q&&(0,d.jsxs)(k.g3,{children:[W.download&&(0,d.jsx)(C.G,{}),W.explicit&&(0,d.jsx)(E.N,{}),W.nineteen&&(0,d.jsx)(R.X,{className:I.Z.nineteen,size:16})]}),(0,d.jsx)(k.K9,{children:(0,g.wj)(s)?(0,d.jsx)(k.T6,{artists:o}):(null===(i=o[0])||void 0===i?void 0:i.name)??""})]})]}),(0,d.jsx)(k.UA,{ariaColIndex:2,children:(0,d.jsx)(k.BM,{nonInteractive:(0,g.dB)(s),uri:u.uri,name:u.name,creatorUri:null==o||null===(t=o[0])||void 0===t?void 0:t.uri,children:u.name})}),(0,d.jsxs)(k.mU,{ariaColIndex:1,children:[!F&&(0,d.jsx)(B.f,{uri:s,type:v}),(0,d.jsx)(k.A$,{duration:n}),(0,d.jsx)(k.Zv,{menu:H,label:r.ag.get("more.label.track",l,Z)})]})]})})})}),((e,i)=>e.uri===i.uri)),_=o.memo((function(e){let{items:i}=e;const t=(0,o.useCallback)(((e,i)=>{const t=(0,v.X)(e.images??[],{desiredSize:40});return(0,h.G_)(e)?(0,d.jsx)(M,{index:i,uri:e.isLocal?e.uri:(0,m.$)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==t?void 0:t.url)||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:j.p.TRACK},i+e.uri):(0,h.iw)(e)?(0,d.jsx)(M,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==t?void 0:t.url)||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.p.EPISODE},i+e.uri):(0,h.G7)(e)?(0,d.jsx)(M,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==t?void 0:t.url)||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.p.CHAPTER},i+e.uri):((0,h.k6)(e)||(0,h.RB)(e)||(0,p._)(e),(0,d.jsx)(u.hU,{height:`${u.dN}px`}))}),[]),s=(0,o.useMemo)((()=>[u.QD.TITLE_AND_ARTIST,u.QD.ALBUM_OR_PODCAST,u.QD.DURATION]),[]),l=(0,o.useCallback)((e=>({uri:e.uri})),[]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(x.JL,{value:"play-history-tracklist",children:(0,d.jsx)(u.Pv,{ariaLabel:"play-history",hasHeaderRow:!0,columns:s,renderRow:t,resolveItem:l,tracks:i,nrTracks:i.length,rowPlaceholder:u.hU,limit:50,columnPersistenceKey:"play-history-tracklist"})})})})),P="dt3fysZYdQ6hhWfpmjAu",D="n6LsTkKvpO88xeRyRTdw",G=()=>{const{isLoading:e,data:i}=(0,s.U5)();return e?null:null!=i&&i.items.length?(0,d.jsxs)("div",{className:P,children:[(0,d.jsx)(l.x,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:D,children:r.ag.get("view.recently-played")}),(0,d.jsx)(_,{items:i.items})]}):(0,d.jsx)(c,{})};var L=t(81952),F=t(96989);const K=()=>(0,s.nF)()?(0,d.jsx)(L.I,{children:(0,d.jsx)(G,{})}):(0,d.jsx)(F.InstrumentedRedirect,{to:"/"})}}]);
//# sourceMappingURL=xpui-routes-play-history-page.f14d7930.js.map