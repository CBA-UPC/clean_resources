!);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"redpop@b474a6ad4354f4ba5fde672fa4e9c2c267684761"};"use strict";(self.webpackChunk_tumblr_redpop=self.webpackChunk_tumblr_redpop||[]).push([[9147],{95469:(e,t,o)=>{o.d(t,{_:()=>f});var r=o(54138),l=o.n(r),a=o(5754),n=o.n(a),s=o(78994),i=o(90127),d=o(45546),c=o(93853),u=o(24755),p=o(54382),g=o(2629),m=e=>{var t=e.wrapperClassName,o=e.backgroundColor,r=e.onClick,a=()=>null==r?void 0:r();return(0,g.jsxs)("span",{className:n()("lEl3a",t),onClick:a,onKeyDown:e=>{e.key!==c.SV.Enter||e.nativeEvent.isComposing||a()},tabIndex:0,role:"button",style:l()({},o&&{background:o}),children:[(0,g.jsx)(u.Z,{}),(0,g.jsx)("span",{className:"R8cCR",children:(0,g.jsx)(p.ZP,{comment:"[TumblrMart] Label on a button that will allow folks to add badges to their profile.",children:"Add badges"})})]})},h=o(22183),b=e=>{var t=e.children,o=e.wrapperClassName,r=e.onClick,l=return(0,g.jsxs)("span",{className:n()("Rb2DY",o),onClick:l,onKeyDown:e=>{e.key!==c.SV.Enter||e.nativeEvent.isComposing||l()},tabIndex:0,role:"button",children:[t,(0,g.jsx)("span",{className:"MD1SL",children:(0,g.jsx)(h.Z,{size:{width:14,height:14}})})]})},v=o(25078),f=e=>{var t,o=e.tumblrmartAccessories,r=e.canShowBadges,a=e.wrapperClassName,c=e.backgroundColor,u=e.blogName,p=e.canEdit,h=e.isHoverCardDisabled,f=e.unwrapped,w=e.badgeClassName,x=(0,s.s0)(),C=()=>{u&&p&&x((0,i.cB)(u))};if(!(null!=o&&null!==(t=o.badges)&&void 0!==t&&t.length)||!r)return p?(0,g.jsx)(m,{wrapperClassName:v.Z.addWrapper,backgroundColor:c,onClick:C}):null;var k=(0,g.jsx)(d.a,{badgeClassName:w,canShowBadges:r,isHoverCardDisabled:h,tumblrmartAccessories:o,unwrapped:void 0!==f&&f});return(0,g.jsx)("span",{className:n()(v.Z.container,v.Z[a||"wrapper"]),style:l()({},c&&!p&&{background:c}),children:p?(0,g.jsx)(b,{onClick:C,wrapperClassName:v.Z.editWrapper,children:k}):k})}},27178:(e,t,o)=>{o.d(t,{Z:()=>k});var r=o(54138),l=o.n(r),a=o(33970),n=o.n(a),s=o(2843),i=o(54382),d=o(90127),c=o(95004),u=o(13883),p=o(42580),g=o(43523),m=o(42946),h=o(78667),b=o(58849),v=o(1e4),f=o(80328),w=o(63583),x=o.n(w),C=o(2629);let k=e=>{var t=e.title,o=e.subtitle,r=e.signupText,a=e.source,w=void 0===a?"explore_floating_sign_up":a,k=e.isDismissible,j=void 0===k||k,y=e.isFloating,N=void 0===y||y,S=e.avoidSidebar,P=e.fullWidth,T=e.textColor,_=void 0===T?x().white:T,B=e.backgroundColor,I=void 0===B?x().zunePurple:B,L=e.withLoginButton,A=(0,h.bp)(),Z=A.routeSet,R=A.isLoggedIn,O=A._t,E=A._c,U=A.getCookie,M=A.setCookie,D=A.logEvent,$=A.features,F=$.loggedOutImprovementsCtas,W=$.redpopDesktopVerticalNav,H=(0,b.h)().openLoginWall,V=(0,c.useState)(!1),G=n()(V,2),z=G[0],q=G[1],J="main"===Z?R:U(u.zC.LOGGED_IN)===u.Ox;(0,c.useEffect)(()=>{q(!0)},[]);var Y=E("This is a caption for a button indicating that the user doesn't want to sign up now, but we're optimistic that they will sign up later. Should be kept short to fit smaller form factors.","Maybe later"),K=null!=r?r:O(W&&!F?"Log in":"Sign me up"),X=null!=t?t:F?void 0:O("It's time to try Tumblr"),Q=(null!=o?o:F)?(0,C.jsx)(i.ZP,{comment:"Subtitle on a call to action bragging to a potential user about how great our content is",components:{strong:(0,C.jsx)("strong",{})},children:"Join over [strong]100 million[/strong] people using [strong]Tumblr[/strong] to find their [strong]communities[/strong] and make [strong]friends[/strong]."}):E("This is our website bragging to a potential user about how great our content is","You'll never be bored again."),ee=(0,c.useCallback)(()=>{var e=new Date(Date.now()+m.g.Week);M(u.zC.SIGN_UP_CTA_DISMISSED,u.Ox,{expires:e}),D({eventName:g.J.SignUpCTAClickDismiss})},[D,M]),et=(0,f.Z)(w),eo=(0,c.useCallback)(e=>{if(null==e||e.preventDefault(),D({eventName:g.J.SignUpCTAClickRegister,eventDetails:{loggedOutImprovementsCtas:!!F,isBottomBanner:N}}),"archive_floating_sign_up"===w){var t=(0,d.gZ)({formToShow:p.c.Register},{source:"archive_login_wall"});window.location.assign(`//${(0,v.Z)(window.location.host)}${t}`)}else H({form:p.c.Register,source:et})},[]);return(W||U(u.zC.SIGN_UP_CTA_DISMISSED)!==u.Ox)&&!J&&z?(0,C.jsx)(s.Z,l()(l()({title:X,subtitle:Q,floating:N,avoidSidebar:void 0!==S&&S,fullWidth:void 0!==P&&P,dismissButtonCallback:ee},j&&{dismissButtonCaption:Y}),{},{confirmButtonCaption:K,centered:!j,onConfirm:eo,color:_,source:et,background:I,withLoginButton:F&&void 0!==L&&L,wavy:!F})):null}},69068:(e,t,o)=>{o.d(t,{Z:()=>j});var r=o(54138),l=o.n(r),a=o(5754),n=o.n(a),s=o(60612),i=o(44009),d=o(98478),c=o(65),u=o(29180),p=o(78667),g=o(55015),m=o(63583),h=o.n(m),b=o(44856);let v={undockButton:"cybcx",wrapper:"h1D5S",cover:"GDWdm",postWrapper:"GIwnm"};var f=o(2629),w={[s.d0]:{opacity:1,transform:"translateY(0)"},[s.cn]:{opacity:1,transform:"translateY(0)"},[s.Ix]:{opacity:0,transform:"translateY(100%)"}},x={[s.d0]:{opacity:.75},[s.cn]:{opacity:.75},[s.Ix]:{opacity:0}},C={opacity:0,transform:"translateY(100%)",transition:"opacity ease-in-out 300ms, transform ease-in-out 300ms"},k={opacity:0,transition:"opacity ease-in-out 300ms"};let j=function(e){var t=e.noCover,o=e.postWrapperClassName,r=(0,b.T)(),a=r.undock,m=r.clearDockedInfo,j=r.isMediaDocked,y=r.dockedTimelineObject,N=r.reparentableMediaManager,S=(0,p.bp)()._t,P=y?(0,f.jsx)(u.Z,{timelineObject:y,presentationStyle:g.Z.radar,children:(0,f.jsx)(c.$,{shouldRenderContent:j,reparentableContent:N})},y.id):null,T=S("Undock post"),_=(0,f.jsx)(i.Z,{label:T,title:T,wrapperClassName:v.undockButton,onClick:a,children:(0,f.jsx)(d.Z,{size:{width:10,height:10},colors:{primary:h().paletteWhite}})});return(0,f.jsx)(s.ZP,{timeout:300,in:j,mountOnEnter:!0,unmountOnExit:!0,onExited:m,children:e=>{var r=(0,f.jsxs)("div",{className:n()(v.postWrapper,o),style:l()(l()({},C),w[e]),children:[P,_]});return t?r:(0,f.jsxs)("div",{className:v.wrapper,children:[(0,f.jsx)("button",{className:v.cover,style:l()(l()({},k),x[e]),onClick:a,"aria-label":T,title:T}),r]})}})}},24755:(e,t,o)=>{o.d(t,{Z:()=>l});var r=(0,o(36343).q)("badge-add");r.defaultProps={size:{width:24,height:24}};let l=r},55397:(e,t,o)=>{o.d(t,{Z:()=>l});var r=(0,o(36343).q)("info");r.defaultProps={size:{width:24,height:24}};let l=r},50293:(e,t,o)=>{o.d(t,{Z:()=>d});var r=o(45222),l=o(17287),a=o(54382),n=o(37236);let s={credit:"kckjF",blogCredit:"CrU4O"};var i=o(2629);let d=function(e){var t=e.avatarUrl,o=e.blogName,d=e.postUrl,c=e.postId,u=e.conciseAttribution,p=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:s.blogCredit,children:(0,i.jsx)("span",{children:(0,i.jsx)(a.ZP,{comment:"Post attribution displayed on the bottom of a banner image. Variable is a blog name so it reads 'Posted by some-cool-blog-name'. You can move it around inside the translated string, but please do not modify the actual [boldBlog][blogName][/boldBlog] token. On smaller screens, the blogname is replaced with just the user's avatar",params:{blogName:u?"":o},components:{boldBlog:(0,i.jsx)("strong",{children:o})},children:"Posted by [boldBlog][blogName][/boldBlog]"})})}),(0,i.jsx)(r.Z,{dimension:24,avatarShape:n.o.Square,imageResponse:[{width:128,height:128,url:t}]})]});return d?(0,i.jsx)("a",{href:d,className:s.credit,children:p}):(0,i.jsx)(l.Z,{blogName:o,postId:c,className:s.credit,showBlogCard:!1,children:p})}},62001:(e,t,o)=>{o.d(t,{$:()=>s,P:()=>i});var r=o(95004),l=o(32415),a=o(14544),n=o(12885),s=e=>!(null!=e&&e.isLoggedIn)||!1!=!!e.user.viewWithBlogTheme,i=e=>{var t=(0,a.M)().name,o=s((0,l.Pc)().data);return(0,r.useMemo)(()=>e?(0,n.Z)(e,{isNewPeepr:!0,useBlogTheme:o,palette:t}):{},[e,o,t])}},31569:(e,t,o)=>{o.d(t,{Z:()=>s});var r=o(5754),l=o.n(r);let a={sidebarItem:"FZkjV",hasRightSlotItem:"I1qRl",sidebarTitle:"hF8Wr",headerWithRightSlot:"shOJA"};var n=o(2629);let s=e=>{var t=e.className,o=e.title,r=e.titleClassName,s=e.children,i=e.titleRightSlot;return(0,n.jsxs)("div",{className:l()(a.sidebarItem,t,{[a.hasRightSlotItem]:i}),children:[(0,n.jsxs)("div",{className:l()({[a.headerWithRightSlot]:i}),children:[o&&(0,n.jsx)("h1",{className:l()(a.sidebarTitle,r),children:o}),i]}),s]})}},56968:(e,t,o)=>{o.r(t),o.d(t,{default:()=>U});var r=o(33970),l=o.n(r),a=o(5754),n=o.n(a),s=o(95004),i=o(54382),d=o(32415),c=o(43523),u=o(84976),p=o(78667),g=o(12736),m=o(31569),h=o(73850),b=o(54138),v=o.n(b),f=o(85394),w=o(22979),x=o(22424),C=o(2629),k=e=>{var t=e.FallbackAdComponent,o=e.fallbackAdProps,r=e.onPeepr,a=(0,x.wL)().logEvent,n=(0,s.useRef)(0),i=(0,s.useState)("initializing"),d=l()(i,2),u=d[0],p=d[1],g="prebid_rightrail",m=()=>(0,f.Yu)(g),h=e=>{a({eventName:c.J.PrebidAdFilled,eventDetails:{slotId:g,event:e}})},b=()=>{a({eventName:c.J.PrebidAdUnfilled,eventDetails:{slotId:g}})},k=()=>{var e,t,o,r=m();if(r.length){var l=window;null===(e=l.PWT)||void 0===e||e.removeKeyValuePairsFromGPTSlots(r),null===(t=l.PWT)||void 0===t||t.requestBids(null===(o=l.PWT)||void 0===o?void 0:o.generateConfForGPT(r),function(e){null===(t=l.PWT)||void 0===t||t.addKeyValuePairsToGPTSlots(e);var t,o,r=m();r.length&&(null===(o=l.googletag)||void 0===o||o.pubads().refresh(r))})}};return"empty"!==u&&"error"!==u?(0,C.jsx)(f.ZP,{slotId:g,adUnitId:f.Q9,adSizes:[[300,600],[300,250],[272,340],[256,256],[250,360],[250,250],[160,600],[120,600]],beforeDisplay:()=>{var t,o,r=window;null===(t=r.PWT)||void 0===t||t.requestBids(null===(o=r.PWT)||void 0===o?void 0:o.generateConfForGPT(m()),function(t){var o,l;t.length>0?t.forEach(t=>{if(h(t),g===t.divId){var o,r,l,a,n={adProviderId:w.hZ.Prebid,adId:null==t||null===(o=t.bidData)||void 0===o||null===(o=o.kvp)||void 0===o?void 0:o.hb_adid,advertiserName:null==t||null===(r=t.bidData)||void 0===r||null===(r=r.kvp)||void 0===r?void 0:r.hb_bidder,adBody:null==t||null===(l=t.bidData)||void 0===l||null===(l=l.wb)||void 0===l?void 0:l.adHtml};null===(a=e.updateAdInstance)||void 0===a||a.call(e,n)}}):b(),null===(o=r.PWT)||void 0===o||o.addKeyValuePairsToGPTSlots(t),null===(l=r.googletag)||void 0===l||l.display(g)})},disableAutoDisplay:!0,onPeepr:void 0!==r&&r,onEmpty:()=>{p("empty")},onError:onImpressionViewable:e=>{e.slot.getSlotElementId()==g&&(n.current=window.setTimeout(k,31e3))},onCleanUp:updateAdInstance:e.updateAdInstance}):t?(0,C.jsx)(t,v()({},o)):null},j=o(96834),y=o(92183),N=o(96033),S=(0,s.memo)(e=>(0,C.jsx)(j.ZP,{slotId:"house_rightrail",supplyProviderId:y.E.RIGHT_RAIL,houseAd:!0,logRightRailData:!0,updateAdInstance:e.updateAdInstance})),P=o(36485),T="word-ads-pubmine-script",_={[y.E.RIGHT_RAIL]:101,[y.E.DASHBOARD]:101,[y.E.EXPLORE]:202,[y.E.COMMUNITY_HUB]:203,[y.E.PEEPR_RIGHT_RAIL]:204,[y.E.RIGHT_RAIL_SLIM]:301,[y.E.BLOG_PAGE]:1,[y.E.POST_PERMALINK]:1,[y.E.RECOMMENDED]:1,[y.E.TAKEOVER]:1,[y.E.LOGGED_OUT_LANDING]:1,[y.E.PREMIUM]:1,[y.E.TUMBLR_TV]:1},B={[y.E.RIGHT_RAIL]:101,[y.E.DASHBOARD]:101,[y.E.EXPLORE]:102,[y.E.COMMUNITY_HUB]:103,[y.E.PEEPR_RIGHT_RAIL]:104,[y.E.RIGHT_RAIL_SLIM]:301,[y.E.BLOG_PAGE]:1,[y.E.POST_PERMALINK]:1,[y.E.RECOMMENDED]:1,[y.E.TAKEOVER]:1,[y.E.LOGGED_OUT_LANDING]:1,[y.E.PREMIUM]:1,[y.E.TUMBLR_TV]:1},I=let L=e=>{var t=e.supplyProviderId,o=void 0===t?y.E.RIGHT_RAIL:t,r=e.logRightRailData,l=e.updateAdInstance,a=(0,p.bp)(),n=a.tumblrIponwebUserId,i=a.cspNonce,d=a.wwwBaseUrl,u=a._t,g=a.isLoggedIn,m=a.logEvent,h=a.features,b=I(o),v=window,f=()=>{"undefined"!=typeof __tcfapi&&__tcfapi("ping",2,(e,t)=>{if(t&&e.gdprApplies)return __tcfapi("showUi",2,;window.location.replace((0,P.Z)(`${d}/privacy`,{redirect:window.location.href}))})},x=k=()=>{var e,t=g?B[o]:_[o];h.redpopDesktopVerticalNav&&o!=y.E.PEEPR_RIGHT_RAIL&&(t=B[y.E.RIGHT_RAIL_SLIM]),v.__ATA_PP={pt:t,ht:1,tn:h.redpopDesktopVerticalNav?"tumblr-test":"tumblr",amp:!1,ad:{label:{text:u("Advertisements")},reportAd:{text:u("Report this ad")},privacySettings:{text:u("Privacy"),onClick:f}},siteid:174375630,id_hash:n},null!==(e=v.__ATA)&&void 0!==e&&e.pageParams&&(v.__ATA.pageParams.pt=v.__ATA_PP.pt),v.__ATA||(v.__ATA={cmd:[],criteo:{cmd:[]}})},j=()=>{var e=document.createElement("script");e.src="https://c0.pubmine.com/2.20.01613588427137/head.js",e.id=T,e.nonce=i,document.body.appendChild(e)},N=()=>{var e;null===(e=v.__ATA)||void 0===e||e.cmd.push(()=>{var e,t;null===(e=v.__ATA)||void 0===e||null===(t=e.initDynamicSlot)||void 0===t||t.call(e,{id:b,location:110,formFactor:"002"})})};return(0,s.useEffect)(()=>{k(),N(),r&&m({eventName:c.J.RightRailAdRender,eventDetails:{reason:"word-ads"}}),null==l||l({adProviderId:w.db.IponWeb}),x()||j()},[]),(0,C.jsx)("div",{id:b,className:"RO9wQ"})};var A=e=>{var t,o=e.supplyProviderId,r=void 0===o?y.E.RIGHT_RAIL:o,a=e.updateAdInstance,n=(0,p.bp)().features,i=n.prebidAdRightrail,d=n.rightRailForceWordAdsAd,c=(0,N.d)().isNsfwPostInView,u=(0,s.useRef)({}),g=(0,s.useRef)({}),m=(0,s.useState)(0),h=l()(m,2)[1],b=(0,s.useCallback)(()=>{u.current[r]||(u.current[r]=setTimeout(()=>{u.current[r]=null,g.current[r]=!1,h(},3e4))},[r]),f=(0,s.useCallback)(()=>{u.current[r]&&(clearTimeout(u.current[r]||void 0),u.current[r]=null)},[r]);return((0,s.useEffect)(()=>(!c&&g.current[r]&&b(),f),[c,r,b,f]),c)?(g.current[r]=!0,(0,C.jsx)(S,{updateAdInstance:a})):g.current[r]?(0,C.jsx)(S,{updateAdInstance:a}):(g.current[r]=!1,d)?(0,C.jsx)(L,v()({},e)):i?(t=v()({FallbackAdComponent:j.ZP,fallbackAdProps:v()({FallbackAdComponent:L,fallbackAdProps:v()({},e)},e)},e),(0,C.jsx)(k,v()({},t))):(t=v()({FallbackAdComponent:L},e),(0,C.jsx)(j.ZP,v()({},t)))},Z=o(93613),R=o(1337);let O={mrecContainer:"Yc2Sp",usesNewDimensions:"KLXOg",adContainer:"uOpMe",ccpaLink:"Ji4Ux",innerContent:"ilSRe",links:"QUxI1",emptyAdSlot:"u4K7k",emptyAdSlotHeader:"WIwsU",emptyAdSlotNotice:"bneI9",sidebarItemAdMeatballs:"sCA8b"};function E(e){var t=e.reason;return"production"===u.Z.Development?(0,C.jsxs)("div",{className:n()(O.mrecContainer,O.emptyAdSlot),children:[(0,C.jsx)("h3",{className:O.emptyAdSlotHeader,children:"Empty Ad Slot"}),(0,C.jsx)("p",{className:O.emptyAdSlotReason,children:t}),(0,C.jsx)("p",{className:O.emptyAdSlotNotice,children:"Normally this would be an ad, but no ad was provided. This is only for debugging. Empty ad slots do not render in production."})]}):null}let U=e=>{var t,o=e.supplyProviderId,r=e.blog,a=e.onPeepr,u=void 0!==a&&a,b=(0,p.bp)(),v=b._t,f=b._c,w=b.features,x=b.isLoggedIn,k=b.wwwBaseUrl,j=b.logEvent,y=(0,g.z)(),N=y.isPeeprShowing,S=y.isModalShowing,P=(0,d.Pc)().data,T=(0,s.useRef)(null),_=(0,s.useState)(!1),B=l()(_,2),I=B[0],L=B[1],U=(0,Z.V)().toggleToast;if((0,s.useEffect)(()=>{var e=function(e,t,o){return e.redpopMrec?e.wordAdsWebAdSource?null!=o&&o.name&&!o.isBrandSafe?"not-brand-safe":null!=o&&o.name&&e.ccpa&&!t?"not-logged-in":"":"wordAdsWebAdSource-disabled":"redpopMrec-disabled"}(w,x,r);e&&j({eventName:c.J.RightRailAdNoRender,eventDetails:{rendered:"false",reason:e}})},[r,w,x,j]),!w.redpopMrec)return(0,C.jsx)(E,{reason:"The redpopMrec feature is disabled."});if(!w.wordAdsWebAdSource)return(0,C.jsx)(E,{reason:"The wordAdsWebAdSource feature is disabled."});if((N||S)&&!u)return(0,C.jsx)(E,{reason:"Peepr or overlay is showing."});if(null!=r&&r.name){if(!r.isBrandSafe)return(0,C.jsx)(E,{reason:"No demand due to brand safety."});if(w.ccpa&&!x)return(0,C.jsx)(E,{reason:"CCPA is active and the user is logged out."})}var M=null==P||null===(t=P.user)||void 0===t?void 0:t.hasTumblrPremium;return I?null:(0,C.jsx)("div",{className:n()(O.mrecContainer,{[O.usesNewDimensions]:!u&&w.redpopDesktopVerticalNav}),children:(0,C.jsx)(m.Z,{title:v("Sponsored"),titleRightSlot:(0,C.jsx)(h.Z,{showAdFree:!M,onAdReported:e=>{(0,R.G)(e,T.current,j,U,f),L(!0)},showReportAd:!0,meatballsClassName:O.sidebarItemAdMeatballs}),children:(0,C.jsxs)("div",{className:O.innerContent,children:[(0,C.jsx)("div",{className:O.adContainer,children:(0,C.jsx)(A,{supplyProviderId:o,logRightRailData:!0,onPeepr:u,updateAdInstance:)}),w.ccpa&&(0,C.jsx)("div",{className:O.links,children:(0,C.jsx)("a",{href:x&&w.ccpaOptOutSwitch?`${k}/settings/privacy`:"https://tumblr.zendesk.com/hc/articles/360041012973",target:"_blank",className:O.ccpaLink,children:(0,C.jsx)(i.ZP,{children:"Do not sell my personal information"})})})]})})})}},29180:(e,t,o)=>{o.d(t,{Z:()=>g});var r=o(50209),l=o.n(r),a=o(9156),n=o(95004),s=o(71017),i=o(32156),d=o(74446),c=o(59215),u=o(2629);class p extends n.Component{constructor(){var e;super(...arguments),e=this,l()(this,"state",{post:this.props.timelineObject}),l()(this,"getMemoizedTimelineContextValue",(0,a.Z)(),l()(this,"onFollow",function(t){var o,r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.props.overrideTimelineContextValue?e.setState({post:(0,i.dQ)(e.state.post,t,r)}):null===(o=e.props.dockableContext.getTimelineContext())||void 0===o?void 0:o.onFollow(t,r)}),l()(this,"onLike",(e,t)=>{var o;return this.props.overrideTimelineContextValue?this.setState({post:(0,i.bX)(this.state.post,t)}):null===(o=this.props.dockableContext.getTimelineContext())||void 0===o?void 0:o.onLike(e,t)}),l()(this,"onNotesUpdate",(e,t)=>{var o,r=t.totalNotes;return this.props.overrideTimelineContextValue?this.setState({post:(0,i.Pl)(this.state.post,{totalNotes:r})}):null===(o=this.props.dockableContext.getTimelineContext())||void 0===o?void 0:o.onNotesUpdate(e,{totalNotes:r})}),l()(this,"onPromote",(e,t)=>{var o;return this.props.overrideTimelineContextValue?this.setState({post:(0,i.ST)(this.state.post,t)}):null===(o=this.props.dockableContext.getTimelineContext())||void 0===o?void 0:o.onPromote(e,t)})}ender(){var e=this.state.post,t=this.props,o=t.presentationStyle,r=t.children;return(0,u.jsx)(d.k.Provider,{value:this.getMemoizedTimelineContextValue(),children:(0,u.jsx)("div",{className:"oNZY7",children:(0,u.jsx)(s.Z,{timelineObject:e,presentationStyle:o,isNarrow:!0,children:r})})})}}let g=(0,c.X9)(p,{dockableContext:!0})},64756:(e,t,o)=>{o.d(t,{$3:()=>p,cP:()=>u});var r=o(54138),l=o.n(r),a=o(17276),n=o.n(a),s=o(33590),i=o(1308),d=o(78667),c=o(83436);function u(e,t){return["blog-info",e,t]}var p=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,d.bp)().apiFetch;return(0,s.a)(l()({queryKey:u(e,t),queryFn:()=>n()().async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",function(e,t,o){var r,a;return n()().async(function(s){for(;;)switch(s.prev=s.next){case 0:return r=function(e){switch(e){case"peepr":return l()(l()({},(0,i.n9)(["admin","advertiserName","allowSearchIndexing","analyticsUrl","ask","askPageTitle","avatar","blogViewUrl","canAddTipMessage","canBeFollowed","canMessage","canMessage","canSubmit","canSubscribe","descriptionNpf","followed","isAdult","isBrandSafe","isBlockedFromPrimary","isBloglessAdvertiser","isHiddenFromBlogNetwork","isMember","isPasswordProtected","isPaywallOn","name","paywallAccess","primary","shareFollowing","shareLikes","shouldShowGift","shouldShowTumblrmartGift","shouldShowTip","subscribed","subscriptionPlan","theme","title","topTags","url","uuid","created","liveNow","liveStreamingUserId","tumblrmartAccessories","showBadgeManagement","canShowBadges"])),{},{reblog_info:!0});case"blogSettings":return(0,i.n9)(["admin","canMessage","canOnboardToPaywall","canOnboardToTipping","descriptionNpf","tumblrmartAccessories","canShowTip","canSubmit","isAdult","isGroupChannel","isPremiumPartner","isPasswordProtected","isPrivateChannel","isTippingOn","isTumblrpayOnboarded","primary","replyConditions","showAuthorAvatar","supportsReplies","timezone","tippingPostsDefault","url","blogViewUrl","showBadgeManagement","canShowBadges"]);case"avatar":return l()({},(0,i.n9)(["avatar"]));default:return(0,c.m)(e)}}(o),s.next=3,n()().awrap(e(`/v2/blog/${t}/info`,{queryParams:r}));case 3:return a=s.sent,s.abrupt("return",a.response.blog);case 5:case"end":return s.stop()}},null,null,null,Promise)}(r,e,t));case 1:case"end":return o.stop()}},null,null,null,Promise),refetchOnWindowFocus:!1,retry:(e,t)=>!t.response&&e>3,staleTime:6e4},o))}},94713:(e,t,o)=>{o.d(t,{Z:()=>v});var r=o(54138),l=o.n(r),a=o(78667),n=o(2629);let s=()=>{var e=(0,a.bp)().wwwBaseUrl;return(0,n.jsx)("div",{className:"mPgv9",children:(0,n.jsxs)("div",{className:"jFhAx",children:[(0,n.jsx)("h1",{children:"Bad request."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("a",{href:`${e}/docs/error_troubleshooting#error`,target:"_docs",children:"Find out why"})," ","you may have encountered this error, or let us know if the problem persists. Include your IP address and a short description of what you were doing when you encountered the error."]})]})})},i=()=>{var e=(0,a.bp)().wwwBaseUrl;return(0,n.jsx)("div",{className:"S2_TW",children:(0,n.jsxs)("div",{className:"wnTVb",children:[(0,n.jsx)("h1",{children:"Error."}),(0,n.jsx)("p",{children:"There was an error processing your request. Our engineers have been alerted and will work quickly to correct any issues."}),(0,n.jsxs)("p",{children:[(0,n.jsx)("a",{href:`${e}/docs/error_troubleshooting#error`,target:"_docs",children:"Find out why"})," ","you may have encountered this error."]})]})})};var d=o(30862),c=o(50293),u=o(23670),p=o(25190);let g={bigText:"U3dUM",notFound:"wfmnE",message:"C_9U_",smallText:"Iw0rt",link:"brNDl",credit:"Lo5j0"},m=function(e){var t=e.image,o=e.explicit,r=(0,a.bp)(),s=r._c,i=r._t,m=(0,p.v$)().isMobile,h=!!(null!=o&&o.isExplicit),b={bigText:h?i("This Tumblr may contain sensitive media."):s("Error page message.","There's nothing here."),smallText:h&&null!=o&&o.blogName?(0,n.jsx)(u.Z,{className:g.link,to:`/dashboard/blog/${o.blogName}`,children:i("Go to my dashboard")}):i("Whatever you were looking for doesn't currently exist at this address. Unless you were looking for this error page, in which case: Congrats! You totally found it.")};return(0,n.jsxs)("div",{className:g.notFound,style:{"--error-background-image":`url(${null!=o&&o.isExplicit?o.image:null==t?void 0:t.imageUrl})`},children:[(0,n.jsx)(d.Z,{headerTheme:"light",showLimitedHeader:!0,transparentBackground:!0,hideLoggedOutButtons:m,hardLinkNavigation:!0}),(0,n.jsxs)("div",{className:g.message,children:[(0,n.jsx)("h1",{className:g.bigText,children:b.bigText}),(0,n.jsx)("div",{className:g.smallText,children:b.smallText})]}),!h&&!!t&&(0,n.jsx)("div",{className:g.credit,children:(0,n.jsx)(c.Z,l()({},t))})]})};var h=o(29860),b=o(72250);let v=e=>{var t=e.status,o=e.image,r={pageName:b.HJ.analyticsPageName};return 404===t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,l()({title:"Not found.",redirectToExplore:!0},r)),(0,n.jsx)(m,{image:o})]}):400===t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,l()({title:"Bad request."},r)),(0,n.jsx)(s,{})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,l()({title:"Error."},r)),(0,n.jsx)(i,{})]})}},32817:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v,getBackgroundImage:()=>b});var r=o(54138),l=o.n(r),a=o(33970),n=o.n(a),s=o(50899);let i=[{postUrl:"https://mrdiv.tumblr.com/post/55896884040/design-takes-time",imageUrl:`//${s.$5}/27e74919b57a323010e051aff8c7c4fe/tumblr_mq7a3vfsKu1qzw1qyo1_500.gif`,blogName:"mrdiv",avatarUrl:`//${s.$5}/avatar_092d79dc6937_128.png`,blogUrl:"https://mrdiv.tumblr.com/"},{postUrl:"https://berrymetal.tumblr.com/post/134065552975",imageUrl:`//${s.$5}/0a9a8c13b2b8f7c8b20002d807363ada/tumblr_nyhgvtMHLU1qiratvo1_400.gif`,blogName:"berrymetal",avatarUrl:`//${s.$5}/avatar_e03842ba6749_128.png`,blogUrl:"https://berrymetal.tumblr.com"},{postUrl:"https://looopism.tumblr.com/post/137094548496",imageUrl:`//${s.$5}/cb1fbb540a77acbbaacf533345bad82f/tumblr_o0srtfoyaa1tjhgrfo1_1280.gif`,blogName:"looopism",avatarUrl:`//${s.$5}/avatar_b425a472511d_128.png`,blogUrl:"https://looopism.tumblr.com"},{postUrl:"https://challenger23.tumblr.com/post/50172533016/higher-higher-hard-to-believe-its-been-a",imageUrl:`//${s.$5}/tumblr_m6eu89zSRs1rpmo4ho1_500.gif`,blogName:"challenger23",avatarUrl:`//${s.$5}/avatar_0a2d70eecc7d_128.png`,blogUrl:"https://challenger23.tumblr.com"},{postUrl:"https://dvdp.tumblr.com/post/29122608238/120810",imageUrl:`//${s.$5}/tumblr_m8jk6nInJO1qzt4vjo1_r1_500.gif`,blogName:"dvdp",avatarUrl:`//${s.$5}/avatar_8ade00b0bf51_128.png`,blogUrl:"https://dvdp.tumblr.com"},{postUrl:"https://dvdp.tumblr.com/post/30930983823/me-in-a-magnetic-field-and-pulses-of-radio-wave",imageUrl:`//${s.$5}/tumblr_m9vnbwxeKy1qzt4vjo1_500.gif`,blogName:"dvdp",avatarUrl:`//${s.$5}/avatar_8ade00b0bf51_128.png`,blogUrl:"https://dvdp.tumblr.com"},{postUrl:"http://jesselucas.com/post/42680218734/cash-infiniteeye",imageUrl:`//${s.$5}/738982bf60bc01e007fd2249f77cb0e2/tumblr_mhytt5EpNd1qzp2qco1_500.gif`,blogName:"jesselucas",avatarUrl:`//${s.$5}/avatar_9935678ab27d_128.png`,blogUrl:"http://jesselucas.com"},{postUrl:"https://mrdiv.tumblr.com/post/48618427039/disco-sphere",imageUrl:`//${s.$5}/7ed2dab49586c00956a0bb491d1b5538/tumblr_mlnzx84Ur21qzw1qyo1_500.gif`,blogName:"mrdiv",avatarUrl:`//${s.$5}/avatar_092d79dc6937_128.png`,blogUrl:"https://mrdiv.tumblr.com/"},{postUrl:"https://mrdiv.tumblr.com/post/26634486527/cycloid",imageUrl:`//${s.$5}/tumblr_m6qyybDaS11qzw1qyo1_500.gif`,blogName:"mrdiv",avatarUrl:`//${s.$5}/avatar_092d79dc6937_128.png`,blogUrl:"https://mrdiv.tumblr.com/"},{postUrl:"https://rrrrrrrroll.tumblr.com/post/43566853423/r-73",imageUrl:`//${s.$5}/5865a129ed7251379b9eefdaed2fbe86/tumblr_miidckSoFJ1rt0g8wo1_500.gif`,blogName:"rrrrrrrroll",avatarUrl:`//${s.$5}/avatar_e9fd800d4dd0_128.png`,blogUrl:"https://rrrrrrrroll.tumblr.com"},{postUrl:"https://parallelteeth.tumblr.com/post/143893384310/yellow-face-loop",imageUrl:`//${s.$5}/d7076844afc4e31d41fbf29a70f722f9/tumblr_o6pjqaxIyp1qlcv4no1_500.gif`,blogName:"parallelteeth",avatarUrl:`//${s.$5}/avatar_77fe76bee697_128.png`,blogUrl:"https://parallelteeth.tumblr.com"},{postUrl:"https://omnidaily.tumblr.com/post/157149851135/927-43",imageUrl:`//${s.$5}/2b5ac9ed275dc844f2037c1e21403c4c/tumblr_ol9sm8Hj2B1tpia39o1_500.gif`,blogName:"omnidaily",avatarUrl:`//${s.$5}/avatar_dff512375f2a_128.png`,blogUrl:"https://omnidaily.tumblr.com"},{postUrl:"https://jdashscott.tumblr.com/post/161558473085",imageUrl:`//${s.$5}/cd0018c36fbf319096deff66d1b21f01/tumblr_or75fbI2Bi1uau21io1_1280.gif`,blogName:"jdashscott",avatarUrl:`//${s.$5}/avatar_7abff5b09819_128.png`,blogUrl:"https://jdashscott.tumblr.com"},{postUrl:"https://kenaim.tumblr.com/post/164834196520",imageUrl:`//${s.$5}/2b1509ca4c026822ee9cdf08163e8dc5/tumblr_nou70gfGyp1sp6lajo1_500.gif`,blogName:"kenaim",avatarUrl:`//${s.$5}/avatar_ff0b5edebd6b_128.png`,blogUrl:"https://kenaim.tumblr.com"}];var d=o(48352),c=o(95004),u=o(78667),p=o(68782),g=o(72250),m=o(94713),h=o(2629),b=let v=()=>{var e=(0,u.bp)().getBootstrap,t=(0,c.useState)(e(g.Rn)),o=n()(t,1)[0];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{page:g.HJ.analyticsPageName}),(0,h.jsx)(m.Z,l()({},o))]})}},36016:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ou});var r=o(50209),l=o.n(r),a=o(46742),n=o(54138),s=o.n(n),i=o(33970),d=o.n(i),c=o(48352),u=o(34438),p=o(64756),g=o(32415),m=o(95004),h=o(78994),b=o(5754),v=o.n(b),f=o(52980),w=o(39541),x=o(36535),C=o(2474),k=o(57921),j=o(10381),y=o(78667),N=o(6259),S=o(96467),P=o.n(S);let T={drawer:"raBdW",drawerContent:"q5M3M",container:"RkANE",newDesktopLayout:"r1Zq6",controls:"a5Orv",scrollToTopIcon:"rQZCM",controlIcon:"opmPA"};var _=o(2629);let B=e=>{var t=e.blogThemeStyle,o=e.children,r=e.glassCallback,l=e.hasHistory,a=e.isOpen,n=e.onBackButtonClick,i=e.onScrollToTopButtonClick,d=e.scrollToTopEnabled,c=e.theme,u=(0,y.bp)(),p=u._c,g=u.features.redpopDesktopVerticalNav,m=(0,N._)().shouldRenderPeeprOrSsrModalOnModal,h=(0,j.pG)().width,b={backgroundColor:null==c?void 0:c.linkColor,color:null==c?void 0:c.backgroundColor},P=s()(s()({},b),{},{label:p("Go back to the previous page","Return"),onClick:n,text:(0,_.jsx)(C.Mq,{className:T.controlIcon})}),B=s()(s()({},b),{},{label:p("Scroll back to the top of the page","Back to top"),onClick:i,text:(0,_.jsx)(k.I,{size:{width:17,height:17},className:T.scrollToTopIcon}),small:!0}),I=l?[P]:[],L=d?[B]:[];return m?(0,_.jsx)(w.Z,{position:"center",glassCallback:r,isOpen:a,drawerClassName:T.drawer,drawerContentClassName:T.drawerContent,drawerInlineStyle:t,animateIn:!0,showCloseButton:!0,controlsLeft:I,controlsRight:L,controlsPosition:h>S.newPeeprLargeModalBreakpoint?"outside":"inside",theme:c,children:o}):(0,_.jsx)(f.Z,{children:(0,_.jsxs)("div",{className:v()(T.container,{[T.newDesktopLayout]:g}),style:t,children:[[...I,...L].length>0&&(0,_.jsx)("div",{className:T.controls,children:[...I,...L].map((e,t)=>(0,_.jsx)(x.Z,s()({},e),t))}),o]})})};var I=o(93799),L=o(50899),A=o(43523),Z=o(5700),R=o(58849),O=o(44561),E=o(39069),U=o(98641);let M=var D=()=>M((0,h.UO)().peeprBlogname),$=o(66134),F=o(21283),W=o(34501),H=o(69068),V=o(63836),G=o(56968),z=o(74754),q=o(29030),J=o(25190),Y=o(36913),K=o(8293),X=o(92183),Q=o(55673),ee=o(45222),et=o(17287),eo=o(91181),er=o(29425),el=o(62773),ea=o(70648),en=o(1033),es=o(26673),ei=o(18488),ed=o(54382),ec=o(90127),eu=o(43906),ep=o(63583),eg=o.n(ep);let em=e=>{var t=e.blogSettings,o=t.name,r=t.isMember,l=e.onDoLater,a=(0,y.bp)(),n=a.wwwBaseUrl,s=a.isLoggedIn,i=a.logEvent,d=(0,eu.g)(),c=d.shouldShowOwnBlogDiscovered,u=d.ownBlogDiscovered,p=c(),g=s&&p&&r;return((0,m.useEffect)(()=>{g&&i({eventName:A.J.Shown,page:"TourGuideOwnBlogDiscovered"})},[i,g]),g)?(0,_.jsxs)("div",{className:"m8KRx",children:[(0,_.jsx)("h1",{className:"IrRTg",children:(0,_.jsx)(ed.ZP,{comment:"[Tour guide] Heading for user discovers their own blog",children:"You found your blog \uD83D\uDE4C"})}),(0,_.jsx)("p",{className:"Iij_y",children:(0,_.jsx)(ed.ZP,{comment:"[Tour guide] Body for user discovers their own blog",components:{colorful:(0,_.jsx)("span",{className:"PMQ3n"})},children:"This is where posts you make or reblog show up. Oh, and guess what? You get to choose how it looks: [colorful]colors[/colorful], fonts, title, description, header, and avatar."})}),(0,_.jsxs)("div",{className:"Z4JA5",children:[(0,_.jsx)(ei.Z,{isRounded:!0,theme:"border",borderColor:ep.paletteAccent,textColor:ep.paletteAccent,onClick:()=>{u(),l(),i({eventName:A.J.Dismissed,page:"TourGuideOwnBlogDiscovered"})},children:(0,_.jsx)(ed.ZP,{children:"I'll do it later"})}),(0,_.jsx)(ei.Z,{isRounded:!0,feature:!1,onClick:()=>{u(),i({eventName:A.J.CustomizeClicked,page:"TourGuideOwnBlogDiscovered"})},href:`${n}${(0,ec.BR)({blogName:o})}`,children:(0,_.jsx)(ed.ZP,{children:"Customize my blog \uD83C\uDFA8"})})]})]}):null};var eh=o(5784),eb=o(9358);function ev(e){var t=e.recipient,o=e.backgroundColor,r=e.borderColor,l=e.onClick,a=e.textColor,n=(0,y.bp)(),s=n._t,i=n.isLoggedIn,c=n.logEvent,u=(0,m.useState)(!1),p=d()(u,2),g=p[0],h=p[1],b=()=>h(!0),v=t.shouldShowTumblrmartGift;return i&&v?(0,_.jsxs)(_.Fragment,{children:[g&&(0,_.jsx)(eb.Z,{closeModal:()=>h(!1),recipient:t,source:"blog-view"}),(0,_.jsx)(ei.Z,{theme:"border",textColor:a||eg().paletteBlack,backgroundColor:o||eg().paletteAccent,borderColor:r||eg().paletteBlack,onClick:e=>{b(),null==l||l(e),c({eventName:A.J.TumblrMartGiveGiftClick,eventDetails:{source:"blog-view"}})},wrapperClassName:"aUBlR",label:s("TumblrMart"),title:s("TumblrMart"),isRounded:!0,children:(0,_.jsx)(eh.Z,{colors:{primary:a||eg().paletteBlack},size:{width:25,height:24}})})]}):null}var ef=o(85060),ew=o(17276),ex=o.n(ew),eC=o(48810),ek=o(44009),ej=o(4721);function ey(e){var t=e.liveStreamingUserId,o=e.className,r=e.children,l=(0,ej.g)().data,a=(0,y.bp)().apiFetchWithSchema,n=()=>{var e,t;return ex()().async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ex()().awrap((0,ej._)(a));case 2:t=o.sent.token,null==l||null===(e=l.tmgWebSDK)||void 0===e||e.setNewAuthToken(t);case 5:case"end":return o.stop()}},null,null,null,Promise)};return(0,m.useEffect)(()=>{null!=l&&l.tmgWebSDK&&l.tmgWebSDK.setNewSessionHandler(n)},[l]),(0,_.jsx)(ek.Z,{wrapperClassName:v()(o),onClick:()=>{t&&(null==l||l.tmgWebSDK.getLivePreviewBroadcastsForUsers([t],{},(e,t)=>{var o=t.broadcasts,r=d()(o,1)[0];r&&window.location.assign((0,eC.Gn)(ec.o_.liveBroadcast,{broadcastId:r.broadcastId}))}))},children:r})}var eN=o(85768),eS=o(61702);let eP={header:"uYpYy",isModal:"feCof",headerBanner:"gIm1l",isStretched:"ZClcM",image:"LZlfJ",bottomHalf:"F8bg3",headerContent:"u2YPL",withAvatarAndBanner:"wFAw8",noAvatarOrBanner:"p2Ecs",title:"vfPi2",blogLinks:"mFd_o",url:"Da0mp",avatar:"bQi4_",isCircle:"bdrjP",liveNow:"VDLhT",description:"guc04",controls:"uk9FI",meatballButton:"wWci6",askButton:"TKirj",primaryButton:"MvA0k",circleIconButton:"oIdtb",expandButton:"YyGIV",miniLayout:"Vi52h",isInSidebar:"WFEAx",liveBadgeNoBanner:"TT1wk"},eT=e=>{var t=(0,y.bp)(),o=t._t,r=t.logEvent,l=t.isLoggedIn,a=(0,h.s0)(),n=e.blogSettings,i=e.iconOnly,d=n.ask,c=n.askPageTitle,u=n.name;if(!d)return null;var p=!c||(0,eS.Y)(c,K.pT)?o("Ask"):c,g=()=>{r({eventName:A.J.BlogAskClick}),l&&a(`/new/ask/${u}`)};return void 0!==i&&i?(0,_.jsx)(ei.Z,s()(s()({theme:"border",wrapperClassName:eP.circleIconButton,textColor:eg().blogLinkColor,backgroundColor:eg().blogLinkColor,borderColor:eg().blogLinkColor40,title:p,onClick:g},!l&&{"data-login-wall-type":"ask","data-login-wall-blog-name":u}),{},{children:(0,_.jsx)(eN.Z,{size:{width:20,height:20}})})):(0,_.jsx)(ei.Z,s()(s()({theme:"default",className:eP.askButton,textColor:eg().blogBackgroundColor,backgroundColor:eg().blogLinkColor,isRounded:!0,onClick:g},!l&&{"data-login-wall-type":"ask","data-login-wall-blog-name":u}),{},{children:p}))};var e_=o(77865),eB=o(20103),eI=o(6135),eL=o(50213),eA=o(23326),eZ=o(78222);let eR=e=>{var t=e.blogSettings,o=t.name,r=t.followed,l=t.url,a=t.canBeFollowed,n=e.onFollow,s=(0,y.bp)(),i=s._c,c=s._t,u=s.features.embedPost2022,p=(0,eZ.Z)(),g=(0,m.useState)(!1),h=d()(g,2),b=h[0],v=h[1];if((0,m.useEffect)(()=>{"follow"===p&&!r&&a&&v(!0)},[]),!b||!u)return null;var f=()=>{v(!1)},w=[{text:c("Cancel"),onClick:f,buttonStyle:eA.X.Neutral},{text:(0,_.jsx)(eB.Z,{following:!!r,blogName:o,blogUrl:l,onFollow:(e,t)=>{v(!1),null==n||n(e,t)},wrapperClassName:"es5fe",children:,"follow-button"),buttonStyle:eA.X.Custom}];return(0,_.jsx)(eL.Z,{onGlassClick:glassIsClickable:!1,children:(0,_.jsx)(eA.O,{title:i("Confirming if user wants to follow a blog, placeholder is for a blog name","Do you want to follow %1$s?",[o]),buttons:w})})};function eO(e){var t=(0,y.bp)()._t,o=(0,e_.NL)(),r=e.blogSettings,l=e.iconOnly,a=r.name,n=r.url,s=(0,m.useState)(!!r.followed),i=d()(s,2),c=i[0],u=i[1],g=(0,m.useState)(!1),h=d()(g,2),b=h[0],v=h[1],f=(e,t)=>{u(t),v(e=>!e),o.invalidateQueries({queryKey:(0,p.cP)(e,"peepr")})};return((0,m.useEffect)([r]),r.canBeFollowed)?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(eB.Z,{callOnFollowAfterApiFetch:!0,onFollowBeforeApiFetch:disabled:b,following:c,style:{color:eg().blogBackgroundColor},blogName:a,blogUrl:n,className:"nh7eU",isPeeprHeader:!0,isRounded:!0,isStyledButton:!0,onFollow:f,iconOnly:l,children:e=>b?(0,_.jsx)(eI.Z,{small:!0}):e?t("Following"):t("Follow")}),(0,_.jsx)(eR,{blogSettings:r,onFollow:f})]}):null}var eE=o(53451),eU=o(94742),eM=o(53);function eD(e){var t=(0,y.bp)(),o=t._c,r=t.isLoggedIn,l=t.getUserInfo,a=t.logEvent,n=(0,eM.h)().openConversationWindow,s=e.blogSettings,i=e.iconOnly,d=s.primary,c=o("Button label (verb) to send a message to a blog","Message"),u=()=>(a({eventName:A.J.BlogMessageIconClick}),l().then(eU.$).then();return r&&!d&&s.canMessage?i?(0,_.jsx)(ei.Z,{wrapperClassName:eP.circleIconButton,theme:"border",textColor:eg().blogLinkColor,borderColor:eg().blogLinkColor40,backgroundColor:eg().blogLinkColor,label:c,title:c,onClick:u,children:(0,_.jsx)(eE.Z,{filled:!1,emptyIconColors:{primary:eg().blogLinkColor},size:{width:20,height:20}})}):(0,_.jsx)(ei.Z,{wrapperClassName:eP.circleIconButton,theme:"border",textColor:eg().blogLinkColor,borderColor:eg().blogLinkColor40,backgroundColor:eg().blogLinkColor,label:c,title:c,onClick:u,children:(0,_.jsx)(eE.Z,{filled:!1,emptyIconColors:{primary:eg().blogLinkColor}})}):null}var e$=o(97013),eF=o(52153);function eW(e){var t=(0,y.bp)(),o=t._t,r=t.logEvent,l=t.features.paywallConsumption,a=e.blogSettings,n=e.iconOnly,s=a.isPaywallOn,i=a.paywallAccess,d=a.subscriptionPlan,c=i&&i===eF.bv.Member,p=i&&i===eF.bv.Creator,g=()=>{c||p||r({eventName:A.J.PostpSupportTap,eventDetails:{source:eF.Xh.Peepr}})};return l&&s&&d?void 0!==n&&n?(0,_.jsx)(ei.Z,{title:o(c?"Supporting":"Support"),wrapperClassName:eP.circleIconButton,theme:"border",textColor:eg().blogLinkColor,borderColor:eg().blogLinkColor40,backgroundColor:eg().blogLinkColor,onClick:g,children:(0,_.jsx)(e$.Z,{colors:{primary:eg().blogLinkColor},size:{width:20,height:20}})}):(0,_.jsxs)(ei.Z,{className:eP.primaryButton,textColor:eg().blogBackgroundColor,backgroundColor:eg().blogLinkColor,href:(0,u.SS)({peeprBlogname:a.name},{peeprMembershipsParams:{isSupport:!0}}),onClick:g,isRounded:!0,children:[(0,_.jsx)(e$.Z,{colors:{primary:eg().blogBackgroundColor},size:{width:20,height:20}}),o(c?"Supporting":"Support")]}):null}var eH=o(16558),eV=o(41524);let eG=e=>{var t=e.blogSettings,o=e.showCustomisationTooltip,r=e.iconOnly,l=(0,y.bp)(),a=l._t,n=l.wwwBaseUrl,s=l.isLoggedIn,i=l._c,d=l.logEvent,c=t.admin,u=t.name;return s&&c?(0,_.jsx)(eV.Z,{isOpen:void 0!==o&&o,content:i("[Tour Guide] Text that is shown as a tooltip to nudge the user to customise their blog.","When you’re ready, you can tap on this to customize your blog 🎨"),popoverProps:{usePortals:!0,skipClickToClose:!1},onFirstShow:()=>{d({page:"TourGuideCustomizeTooltip",eventName:A.J.Shown})},onDisd})},children:void 0!==r&&r?(0,_.jsx)(ei.Z,{title:a("Settings"),wrapperClassName:eP.circleIconButton,theme:"border",textColor:eg().blogLinkColor,borderColor:eg().blogLinkColor40,backgroundColor:eg().blogLinkColor,onClick:()=>{location.href=`${n}${(0,ec.BR)({blogName:u})}`},children:(0,_.jsx)(eH.Z,{colors:{primary:eg().blogLinkColor},size:{width:20,height:20}})}):(0,_.jsxs)(ei.Z,{className:eP.primaryButton,textColor:eg().blogBackgroundColor,backgroundColor:eg().blogLinkColor,href:(0,ec.BR)({blogName:u}),isRounded:!0,feature:!0,style:{height:P().newPeeprControlSize},children:[(0,_.jsx)(eH.Z,{colors:{primary:eg().blogBackgroundColor},size:{width:20,height:20}}),a("Blog settings")]})}):null};var ez=o(33951),eq=o(93613),eJ=o(399);function eY(e){var t=(0,h.s0)(),o=(0,eq.V)().toggleToast,r=(0,y.bp)(),l=r._c,a=r._t,n=r.features.tippingBlogLevel,s=e.blogSettings,i=e.iconOnly,d=s.shouldShowTip,c=(0,h.UO)().peeprPostId,p=()=>{if(s.isMember){o((0,eJ.iI)(l),"tumblrbot");return}var e=(0,u.SS)({peeprBlogname:s.name},{peeprTippingParams:{isTipping:!0}});c?t(e,{state:{fromPostPermalinkPage:!0}}):t(e)};return n&&d?void 0!==i&&i?(0,_.jsx)(ei.Z,{title:a("Tip"),wrapperClassName:eP.circleIconButton,theme:"border",textColor:eg().blogLinkColor,borderColor:eg().blogLinkColor40,backgroundColor:eg().blogLinkColor,onClick:p,children:(0,_.jsx)(ez.Z,{colors:{primary:eg().blogLinkColor},size:{width:20,height:20}})}):(0,_.jsxs)(ei.Z,{className:eP.primaryButton,textColor:eg().blogBackgroundColor,backgroundColor:eg().blogLinkColor,isRounded:!0,label:a("Tip button"),onClick:p,children:[(0,_.jsx)(ez.Z,{colors:{primary:eg().blogBackgroundColor},size:{width:20,height:20}}),a("Tip")]}):null}var eK=o(95469),eX=o(70505);function eQ(e){var t,o=(0,y.bp)(),r=o._c,l=o.wwwBaseUrl,a=o.features,n=a.liveStreamingWeb,s=a.redpopDesktopVerticalNav,i=e.blogSettings,c=e.initialLayout,p=void 0===c?"full":c,g=e.isInSidebar,h=void 0!==g&&g,b=(0,N._)().shouldRenderPeeprOrSsrModalOnModal,f=i.avatar,w=i.descriptionNpf,x=i.name,C=i.theme,k=i.url,j=i.liveStreamingUserId,S=i.tumblrmartAccessories,P=(0,m.useState)(!1),T=d()(P,2),B=T[0],I=T[1],Z=(0,m.useState)(!1),R=d()(Z,2),O=R[0],E=R[1],U=(0,m.useState)(p),M=d()(U,2),D=M[0],$=M[1],F=(null==C?void 0:C.showHeaderImage)&&("full"===D||h),W=null==C?void 0:C.showAvatar,H="mini"===D,V=n&&e.blogSettings.liveNow,G=new URL(k).origin,z=G===l||G===L.Cw;(0,m.useEff(p)},[p]),F&&(t=(0,_.jsx)(et.Z,{className:v()(eP.headerBanner,{[eP.isStretched]:null==C?void 0:C.headerStretch}),blog:i,showBlogCard:!1,blogNetwork:!1,krakenEventName:A.J.BlogHeaderLinkClick,children:(0,_.jsx)("img",{src:null!=C&&C.headerStretch?null==C?void 0:C.headerImageFocused:null==C?void 0:C.headerImageScaled,className:eP.image,"data-testid":"peepr-header-banner",alt:""})}));var q=W?(0,_.jsx)(ee.Z,{className:v()(eP.avatar,{[eP.isCircle]:(null==C?void 0:C.avatarShape)==="circle",[eP.liveNow]:V}),avatarShape:null==C?void 0:C.avatarShape,imageResponse:f,dimension:H&&!h?64:96,liveNow:V}):null,J=(i.theme||{}).backgroundColor,Y=void 0===J?eg().white:J,X=(0,eX.eO)(Y),ei=H?null:(0,_.jsx)(eK._,{tumblrmartAccessories:S,wrapperClassName:"peeprHeaderBadgesWrapper",canShowBadges:i.canShowBadges,backgroundColor:X?ep.transparentWhite40:ep.transparentBlack40,canEdit:i.admin&&i.showBadgeManagement,blogName:x,isHoverCardDisabled:!!i.admin});return(0,_.jsxs)("header",{className:v()(eP.header,{[eP.isModal]:b,[eP.isInSidebar]:h,[eP.miniLayout]:H,[eP.newDesktopLayout]:s}),children:[t,!W&&(0,_.jsx)(ey,{liveStreamingUserId:j,className:eP.liveBadgeOnly,children:(0,_.jsx)(en.b,{className:v()({[eP.liveBadgeNoBanner]:!F}),liveNow:V})}),(0,_.jsxs)("div",{className:v()(eP.headerContent,{[eP.noAvatarOrBanner]:!W&&!F,[eP.withAvatarAndBanner]:W&&F}),children:[W&&(V?(0,_.jsx)(ey,{liveStreamingUserId:j,children:q}):(0,_.jsx)(et.Z,{className:eP.avatarWrapper,blog:i,showBlogCard:!1,blogNetwork:!1,krakenEventName:A.J.BlogAvatarLinkClick,children:q})),(0,_.jsxs)("div",{className:eP.bottomHalf,children:[(null==C?void 0:C.showTitle)&&!H&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("h1",{className:eP.title,style:{fontFamily:C.titleFont&&`"${C.titleFont}"`,fontWeight:"bold"===C.titleFontWeight?"bold":"normal"},children:e.blogSettings.title})}),(0,_.jsxs)("p",{className:eP.blogLinks,children:[(0,_.jsxs)(Q.rU,{className:eP.url,to:(0,u.SS)({peeprBlogname:x}),children:["@",x]}),!z&&" / ",!z&&(0,_.jsxs)(et.Z,{className:eP.url,blog:i,showBlogCard:!1,krakenEventName:A.J.BlogHeaderNetworkLinkClick,blogNetwork:!0,href:k,children:[(0,_.jsx)(ea.Z,{})," ",(0,el.T)(k)]})]}),ei,(null==C?void 0:C.showDescription)&&w&&!H&&(0,_.jsx)("div",{className:eP.description,children:(0,_.jsx)(eo.Z,{size:K.U0.Medium,description:w,expanded:"mini"===p})}),(0,_.jsxs)("div",{className:eP.controls,children:[(0,_.jsx)(eW,{blogSettings:i,iconOnly:H}),(0,_.jsx)(eY,{blogSettings:i,iconOnly:H}),(0,_.jsx)(eG,{blogSettings:i,showCustomisationTooltip:B,iconOnly:H}),(0,_.jsx)(eT,{blogSettings:i,iconOnly:H}),(0,_.jsx)(eO,{blogSettings:i,iconOnly:H}),(0,_.jsx)(ef.Z,{content:r("[TumblrMart] Blog view header gift button tooltip encouraging users to send a gift to this blog.","You can now give back to the people you love."),isOpen:O,children:(0,_.jsx)(ev,{borderColor:eg().blogLinkColor40,backgroundColor:eg().blogBackgroundColor,onClick:()=>E(!1),recipient:i,textColor:eg().blogLinkColor})}),(0,_.jsx)(eD,{blogSettings:i,iconOnly:H}),(0,_.jsx)(es.Z,{blogName:x,blogUrl:k,subscribed:i.subscribed,canSubscribe:i.canSubscribe,showFollowing:i.shareFollowing,isBlockedFromPrimary:i.isBlockedFromPrimary,analyticsUrl:i.analyticsUrl,showArchive:!i.advertiserName&&!i.isHiddenFromBlogNetwork,showSubmission:i.canSubmit,meatballsClassName:eP.meatballButton,renderExportItems:!0,showAsk:!1,openTumblrMartToo1e3)})]}),"mini"===p&&(0,_.jsx)(er.Z,{className:eP.expandButton,isExpanded:!H,onCi")}})]})]}),(0,_.jsx)(em,{blogSettings:i,onDoLater:()=>{I(!0)}})]})}var e0=o(54236),e1=o(29860),e2=o(86225),e5=o(46978),e3=o(60857),e4=o(16234),e8=o(93675);function e9(e){var t,o="article";if(!(null!==(t=e.communityLabels)&&void 0!==t&&t.hasCommunityLabel)){var r=(0,e4.AO)(e);r&&((0,Z._P)(r)?o="music":(0,Z.gD)(r)&&(o="video"))}return o}let e7=function(e){var t,o,r,l,a,n,i,d,c,u,p,g=e.blogSettings,m=e.searchTerm,h=e.tag,b=e.post,v=(0,y.bp)()._c,f=g.name,w=g.theme,x=null!=w&&w.showTitle&&g.title?g.title:f,C=(null==w?void 0:w.showDescription)&&(0,e5.y)(g.descriptionNpf)||v("Fallback text for blog link previews; placeholder is blog name","Follow @%1$s and get more of the good stuff by joining Tumblr today. Dive in!",[f]),k=!1===g.allowSearchIndexing,j=g.url===g.blogViewUrl,N=[null==b?void 0:b.trail.map(e=>e.content),null==b?void 0:b.content];a=(null==N?void 0:N.flat()).eage")&&b&&Array.isArray(b.tags)&&b.tags.length>0?v("Prefix for title including tags","Image tagged with")+" "+(null==b||null===(n=b.tags)||void 0===n?void 0:n.slice(0,3).join(" ")):x;var S=v("Window title for blog; placeholder is blog title/name","%1$s on Tumblr",[a]),P=C,T="profile",B="summary",I=null!==(t=g.theme)&&void 0!==t&&t.showAvatar?g.avatar&&(0,e4.OL)(g.avatar,256):void 0,L=x,A=g.url,R=e=>g.url.replace(/\/+$/,"")+e;if(m)S=v("Window title for blog search page; first placeholder is blog title/name, second placeholder is search term","%1$s on Tumblr - search: %2$s",[x,m]),P=v("Meta description for blog search page","Search results for %1$s",[m]),L=v("Share title for blog search page; first placeholder is search term, second placeholder is blog title/name","Search: %1$s | %2$s",[m,x]),A=R((0,ec.W8)(m));else if(h)S=v("Window title for blog tag page; first placeholder is blog title/name, second placeholder is tag","%1$s on Tumblr - #%2$s",[x,h]),P=v("Meta description for blog tag page","Posts tagged with #%1$s",[h]),L=v("Share title for blog tag page; first placeholder is tag, second placeholder is blog title/name","#%1$s | %2$s",[h,x]),A=R((0,ec.fO)(h));else if(b){if(T=e9(b),!(null!==(p=b.communityLabels)&&void 0!==p&&p.hasCommunityLabel)&&(null==b?void 0:b.classification)!=="explicit"){var O=(0,e4.vz)(b),E=(0,e4.aq)(b),U=(0,e4.AO)(b);I=void 0,A=b.postUrl,b.summary&&(P=b.summary),O&&(L=O,u=""),E&&(u=(0,e8.Z)(E,200)),U&&((I=(0,e4.Co)(U))&&(B="summary_large_image"),(0,Z._P)(U)?i=U.media:(0,Z.gD)(U)&&(d=U.media))}c=(0,_.jsx)(e0.rU,{rel:"alternate",type:"application/json+oembed",href:`https://www.tumblr.com/oembed/1.0?url=${b.postUrl}`,title:b.summary},"oembed")}var M=null!=b&&b.date?(0,e2.Z)(b.date):null,D=null!=g&&g.created?new Date(1e3*g.created):null;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(e1.Z,s()(s()({title:S,description:P,canonicalUrl:A,openGraph:s()(s()(s()({},void 0!==L&&{title:L}),void 0!==u&&{description:u}),{},{type:T,image:I,audio:i,video:d,username:f}),structuredData:"video"===T?s()(s()(s()({},void 0!==L&&{title:L}),void 0!==u&&{description:u}),{},{type:T,image:I,video:d}):void 0,twitterCardType:B,pageName:Y.HJ.analyticsPageName,decodedTag:`page:${Y.HJ.analyticsPageName}, ${null!=b&&b.tags?null==b||null===(o=b.tags)||void 0===o?void 0:o.join(","):null!=g&&g.topTags?null==g||null===(r=g.topTags)||void 0===r?void 0:r.map(e=>e.tag).join(","):""}`,imageUrl:null===(l=I)||void 0===l?void 0:l.url,author:f},k&&{robots:"noindex"}),{},{type:b?"post":"index",pubDate:M?null==M?void 0:M.toISOString():D?null==D?void 0:D.toISOString():""})),j&&(0,_.jsx)(e0.rU,{rel:"sitemap",href:R("/sitemap.xml")},"sitemap"),!g.isHiddenFromBlogNetwork&&(0,_.jsx)(e0.rU,{rel:"alternate",type:"application/rss+xml",href:`${(0,e3.Z)(f)}/rss`},"rss"),(0,_.jsx)(e0.rU,{rel:"alternate",href:`android-app://com.tumblr/tumblr/x-callback-url/blog?blogName=${f}${null!=b&&b.id?"%26postID="+(null==b?void 0:b.id):""}`},"android-app"),(0,_.jsx)(e0.rU,{rel:"alternate",href:`ios-app://305343404/tumblr/x-callback-url/blog?blogName=${f}${null!=b&&b.id?"&postID="+(null==b?void 0:b.id):""}`},"ios-app"),c]})};var e6=o(62001),te=o(42580),tt=o(4870),to=o(37607),tr=o(68782),tl=o(88926);let ta={container:"xMd0G",viewPostsButton:"IOeE7",subscribeButton:"dzk9W",isHorizontal:"pG6la",cancelLabel:"OnzZj",errorMessage:"VlAYH"},tn=e=>{var t=e.className,o=e.blogName,r=e.plan,l=e.postId,a=e.useBlogColors,n=e.isHorizontal,s=e.showCancelLabel,i=(0,y.bp)(),c=i._t,u=i.apiFetch,p=i.isLoggedIn,g=i.logEvent,h=i._getPriceInCurrency,b=(0,m.useState)(!1),f=d()(b,2),w=f[0],x=f[1],C=(0,m.useState)(!1),k=d()(C,2),j=k[0],N=k[1],S=r.monthlyPrice,P=r.currencyCode,T=r.checkoutLabels.monthly.replace("%s",(0,tl.T4)(S,P,h));(0,m.useEffect)(()=>{var e=e=>{e.persisted&&(x(!1),N(!1))};return window.addEventListener("pageshow,e)}},[]);var B=(0,m.useM(c)),[c]),I=p?void 0:(0,ec.gZ)({formToShow:te.c.Login},{redirect_to:l?`/creator/${o}/${l}`:location.pathname}),L=a?eg().blogBackgroundColor:eg().paletteAccent,Z=a?eg().blogContrastingLinkColor:eg().paletteAccentTransparent15;return(0,_.jsxs)("div",{className:v()(ta.container,t,{[ta.isHorizontal]:void 0!==n&&n}),children:[j&&(0,_.jsx)("p",{className:ta.errorMessage,children:B}),(0,_.jsx)(ei.Z,{className:ta.viewPostsButton,theme:"border",size:"entireWidth",textColor:Z,backgroundColor:Z,isRounded:!0,href:`/creator/${o}`,onCp})},children:c("View +Posts by %1$s",[o])}),(0,_.jsx)(ei.Z,{wrapperClassName:ta.subscribeButton,label:c("Monthly subscription"),theme:"default",size:"entireWidth",textColor:L,backgroundColor:Z,disabledBackgroundColor:Z,disabledTheme:"default",isRounded:!0,onClick:()=>{p&&(g({eventName:A.J.PostpSubscribeTap,eventDetails:{monthly_price:r.monthlyPrice}}),N(!1),x(!0),(0,to.Z)(u,o,tt.zF.Month,window.location.host).fetch().then(e=>{var t=e.response;window.location.assign(t.url)}).c!0)}))},href:I,disabled:w,children:w?(0,_.jsxs)(_.Fragment,{children:[" ",(0,_.jsx)(eI.Z,{color:L})]}):T}),(void 0===s||s)&&(0,_.jsx)("p",{className:ta.cancelLabel,children:c("Cancel anytime")})]})},ts=e=>{var t=e.className,o=e.plan;return(0,_.jsxs)("div",{className:v()("_72ef2",t),children:[(0,_.jsx)("h2",{className:"eAxoR",children:(0,_.jsx)(ed.ZP,{children:"About Me"})}),(0,_.jsx)("p",{className:"dexNf",children:o.description})]})},ti=e=>{var t=e.className,o=e.blogName,r=e.useBlogColors,l=e.isHorizontal,a=e.hideManageSubscriptionsButton,n=(0,y.bp)()._t,s=r?eg().blogBackgroundColor:eg().paletteAccent,i=r?eg().blogContrastingLinkColor:eg().paletteAccentTransparent15;return(0,_.jsxs)("div",{className:v()("XuT0g",t,{HqCuZ:void 0!==l&&l}),children:[(0,_.jsx)(ei.Z,{className:"Rtfxi",theme:"border",size:"entireWidth",textColor:i,backgroundColor:i,isRounded:!0,href:`/creator/${o}`,children:n("View +Posts by %1$s",[o])}),!(void 0!==a&&a)&&(0,_.jsx)(ei.Z,{theme:"default",size:"entireWidth",textColor:s,backgroundColor:i,isRounded:!0,href:"/settings/subscriptions",children:n("Manage Post+ subscription")})]})};var td=o(26321);let tc=e=>{var t=e.className,o=e.pillClassName,r=e.plan;return(0,_.jsxs)("div",{className:v()("Rn2ZH",t),children:[(0,_.jsx)("h2",{className:"bB8Oi",children:(0,_.jsx)(ed.ZP,{comment:"For showing a list of perks a user gets by becoming a creators supporter",children:"Perks"})}),(0,_.jsx)("p",{className:"hPL4D",children:(0,_.jsx)(ed.ZP,{comment:"description of the list of perks the user gets by becoming a creator's supporter",children:"By becoming my supporter you’ll get access to these great perks:"})}),r.memberPerks.map((e,t)=>(0,_.jsx)(td.Z,{className:v()("UJXiH",o),noHover:!0,children:e},t))]})},tu={drawer:"TP9ou",modal:"_l9x2",header:"ksC5R",avatar:"DdtBW",blogName:"gy7mN",supportTitle:"CH3p9",perks:"DQNXx",perkPill:"gTJ3p",dividerLine:"iib2j",checkout:"SeVXx"},tp=e=>{var t=e.blogSettings,o=e.onClose,r=(0,y.bp)()._t,l=(0,e6.P)(t),a=t.name,n=t.avatar,s=t.subscriptionPlan,i=t.theme,d=t.paywallAccess,c=d===eF.bv.Creator,u=d===eF.bv.Member,p=i||{},g=p.titleFont,m=p.titleFontWeight;return(0,_.jsx)(w.Z,{position:"center",glassCallback:o,isOpen:!0,animateIn:!1,drawerClassName:tu.drawer,drawerInlineStyle:l,showCloseButton:!0,controlsPosition:"inside",children:(0,_.jsxs)("div",{className:tu.modal,style:l,"data-testid":"postplus-modal",children:[(0,_.jsxs)("header",{className:tu.header,children:[(null==i?void 0:i.showAvatar)&&(0,_.jsx)(ee.Z,{className:tu.avatar,avatarShape:null==i?void 0:i.avatarShape,imageResponse:n,dimension:96}),(0,_.jsx)("span",{className:tu.blogName,children:a}),(0,_.jsx)("h1",{className:tu.supportTitle,style:{fontFamily:g&&`'${g}'`,fontWeight:"bold"===m?"bold":"normal"},children:r("Post+ Subscription")})]}),(0,_.jsx)(ts,{className:tu.description,plan:s}),(0,_.jsx)(tc,{className:tu.perks,pillClassName:tu.perkPill,plan:s}),(0,_.jsx)("hr",{className:tu.dividerLine}),u||c?(0,_.jsx)(ti,{className:tu.checkout,blogName:a,useBlogColors:!0,isHorizontal:!0}):(0,_.jsx)(tn,{className:tu.checkout,blogName:a,plan:s,useBlogColors:!0,isHorizontal:!0,showCancelLabel:!1})]})})};var tg=o(54589),tm=o.n(tg),th=o(55397),tb=o(98724),tv=o(91264),tf=o(39191),tw=o(18551),tx=o(61512),tC=o(22979),tk=o(60023),tj=o(1308),ty=o(37016),tN=o(19937),tS=(e,t,o,r,l,a,n)=>(0,tN.J)(e,{postId:l,shouldIncludeBlogSummary:o,blogIdentifier:t,extraBlogQueryParams:["admin","theme","canMessage","askPageTitle","canBeFollowed","followed","analyticsUrl","topTags","allowSearchIndexing","isHiddenFromBlogNetwork","shouldShowTip","shouldShowGift","shouldShowTumblrmartGift","canAddTipMessage","liveNow"],includePinnedPosts:!0,queryParams:s()(s()(s()({},r&&{postType:r}),a&&{beforeId:a}),n)}),tP=o(55015),tT=o(43423),t_=o(19299);let tB=e=>{var t=e.tabsList,o=e.currentView,r=e.blog,l=e.onViewClick;return(0,_.jsx)("div",{className:"KdHnq",children:t.map(e=>{var t=e.key===o,a=(0,u.SS)({peeprBlogname:r.name},{peeprLikesParams:{showLikes:e.key===tx.AO.Likes},peeprFollowingParams:{showFollowing:e.key===tx.AO.Following}});return(0,_.jsxs)(Q.rU,{role:"link",(e.key),className:v()("MLzKD",{PqK1Y:t}),to:a,children:[e.hasLock&&(0,_.jsx)(t_.Z,{className:"lockIcon",size:{height:13,width:17}}),e.translate]},e.key)})})};var tI=o(13883).zC.BLOG_VIEW_TIMELINE_DISPLAY_MODE,tL=tC.mt.List;let tA=()=>{var e=(0,y.bp)(),t=e.setCookie,o=e.getCookie,r=(0,m.useState)(o(tI)||tL),l=d()(r,2),a=l[0],n=l[1];return{timelineDisplayMode:a,onChangeTimelineDisplayMode:function(e){var o=!(arguments.length>1)||void 0===arguments[1]||arguments[1];n(e),o&&t(tI,e)}}},tZ={bannerView:"WZh3t",bannerChangeBtn:"c3_cw"};function tR(e){var t=e.bannerStr,o=e.url,r=(0,y.bp)(),l=r._c,a=r._t,n=null!=t?t:(0,tr.U)((0,eJ.Pk)(a));return(0,_.jsxs)("div",{className:tZ.bannerView,children:[(0,_.jsx)("span",{children:n}),o&&(0,_.jsx)("a",{className:tZ.bannerChangeBtn,href:`${L.Cw}${o}`,children:l("Button redirect to page to change blog settings","Change")})]})}let tO={main:"gp1sd",followingTimeline:"qN8sP",toolbar:"tUznf",activeIconButton:"nm8Or",inactiveIconButton:"wxF59",banner:"XLWxA",emptyView:"H4bQ8",errorView:"Q4af_",blogTimeline:"EYjNC",ownBlogTimeline:"gC8eT",isPermalinkPage:"M56Om",explicitBannerReview:"V9405",explicitBannerNotice:"Hsbsh",explicitBannerReviewLink:"ue5Wf",moreContent:"oFuUq",moreContentTitle:"VNh6c",moreContentLink:"kDr0N"};function tE(e){var t,o=e.blogName,r=e.isPostPermalink,l=e.searchTerm,a=e.isExplicit,n=(0,y.bp)(),s=n._t,i=n._c,c=(0,m.useState)(!1),u=d()(c,2),p=u[0],g=u[1];if((0,m.use{g(!0)},[]),void 0!==r&&r){if(void 0!==a&&a)return(0,_.jsx)("div",{className:v()(tO.banner,tO.emptyView),children:(0,_.jsx)(ed.ZP,{comment:"Error message for missing explicit post.",components:{link:(0,_.jsx)("a",{target:"_blank",rel:"noopener",href:"https://help.tumblr.com/hc/en-us/articles/9807936690711-Mature-Content"})},children:"This content has been hidden due to its potentially sensitive nature. For more information read our [link]Sexually Explicit Content Policy[/link]."})});t=(0,tr.U)((0,eJ.qg)(s,i,o))}else t=l?(0,tr.U)((0,eJ.$G)(i,l)):(0,tr.U)((0,eJ.MM)(s));return(0,_.jsx)("div",{className:v()(tO.banner,tO.emptyView),children:p?t:(0,_.jsx)(eI.Z,{color:ep.blogContrastingTitleColor,centerOrientation:"horizontal",small:!0})})}function tU(e){var t=e.errorStr,o=(0,y.bp)()._t,r=null!=t?t:(0,tr.U)((0,eJ.Pk)(o));return(0,_.jsx)("div",{className:v()(tO.banner,tO.errorView),children:r})}function tM(e){var t,o=e.postId,r=e.blogName,l=e.endpointApiRequest,a=e.scrollRef,n=e.getObjectsFromResponse,s=e.getInitialPageFromResponse,i=e.isObjectOmittedFromRender,c=e.overridePresentationStyle,u=e.loader,p=e.getNextLink,g=e.errorView,h=e.displayMode,b=void 0===h?tC.mt.List:h,v=e.gridChildren,f=e.hoverContent,w=e.setRefreshCallback,x=e.title,C=(0,m.useState)(null),k=d()(C,2),j=k[0],y=k[1];return((0,m.useEffect)(()=>{y(null);var e=()=>l.fetch(s(e))});return null==w||w(e),e(),()=>{null==w||w(void 0)}},[o]),null!=j&&null!==(t=j.objects)&&void 0!==t&&t.length)?(0,_.jsxs)("aside",{className:tO.moreContent,children:[(0,_.jsx)("h2",{className:tO.moreContentTitle,children:x||(0,_.jsx)(ed.ZP,{components:{blogLink:(0,_.jsxs)(et.Z,{blogName:r,children:["@",r]})},children:"More from [blogLink /]"})}),(0,_.jsx)(tv.ZP,{id:`more-posts-${r}-${o}`,scrollContainer:a,getInitialPage:()=>j,endpointApiRequest:l,getObjectsFromResponse:n,isObjectOmittedFromRender:i,displayMode:b,overridePresentationStyle:c,errorView:g,getNextLink:p,loader:u,manualPaginatorButtonCss:{prevButtonStyle:{color:eg().blogLinkColor,background:eg().blogLinkColor15}},gridChildren:v,hoverContent:f,setRefreshCallback:w})]}):null}var tD=["peeprPostId","peeprPostSlug","peeprSearchTerm","peeprTag"];function t$(e){var t,o,r,l=e.blogSettings,a=e.initialTimeline,n=e.onPostsLoaded,i=e.scrollContainer,c=(0,y.bp)(),p=c._t,g=c._c,b=c.apiFetch,f=c.apiFetchWithSchema,w=c.isLoggedIn,x=(0,J.v$)().isMobile,C=()=>a,k=(0,U.Z)(),j=tA(),N=j.timelineDisplayMode,S=j.onChangeTimelineDisplayMode,P=(0,m.useState)(tx.AO.Posts),T=d()(P,2),B=T[0],I=T[1],L=(0,e6.P)(l),A=[tC.mt.Masonry,tC.mt.List],R=[tC.mt.List],O=(0,m.useState)(void 0===a||((null==a?void 0:a.objects)||[]).length>1?[tC.mt.Masonry,tC.mt.List]:[tC.mt.List]),M=d()(O,2),$=M[0],F=M[1],W=(0,h.s0)(),H=D(),V=(0,h.UO)(),G=V.peeprPostId,z=V.peeprPostSlug,q=V.peeprSearchTerm,Y=V.peeprTag,K=tm()(V,tD),X=l.primary,Q=l.shareLikes,ee=l.shareFollowing,eo=l.isMember,er=!!(X&&w),el=(0,E.Z)(K),ea=el.peeprSearchMode,en=el.peeprSelectedPostType,es=el.peeprPostRole;(0,m.useEffect)(()=>{if((0,u.vr)(k)||(0,u.M)(k)||(0,u.zu)(k)){I(tx.AO.Posts);return}if((0,u.h2)(k)){er||Q?I(tx.AO.Likes):(W((0,u.SS)({peeprBlogname:H}),{replace:!0}),I(tx.AO.Posts));return}(0,u.ZV)(k)&&(er||ee?I(tx.AO.Following):(W((0,u.SS)({peeprBlogname:H}),{replace:!0}),I(tx.AO.Posts)))},[H,er,W,k,ee,Q]);var eu=!!G,ep=(0,m.useState)(eu&&(null==a?void 0:a.objects[0])||null),em=d()(ep,2),eh=em[0],eb=em[1];(0,m.useEffect)(()=>{if((k===u.kU||k===u.b4)&&eh){var e=H===eh.blogName,t=G===eh.id,o=!z&&!!eh.slug;e&&t&&o&&W((0,u.SS)({peeprBlogname:H,peeprPostId:G,peeprPostSlug:eh.slug}),{replace:!0})}},[H,l,G,W,k,eh,z]);var ev=e=>{e.length<=1?(F(R),S(tC.mt.List,!1)):(F(A),S(N))},ef=Y?(0,tN.J)(f,{blogIdentifier:H,queryParams:{postType:en,tag:Y}}):q?(t=encodeURIComponent(q),o={postRole:es,postType:en,postSort:"top"===ea?Z.H_.PopularityDesc:Z.H_.CreatedDesc},new tk.x(b,`/v2/blog/${H}/search/${t}`,{method:"GET",queryParams:s()(s()({reblog_info:!0},(0,tj.n9)(tj.TP)),{},{post_type:(0,Z.Je)(null==o?void 0:o.postType),npf:!0,post_role:o?o.postRole&&o.postRole.toUpperCase():"ANY",sort:o?o.postSort:Z.H_.CreatedDesc},void 0)})):G?(0,ty.t)(b,H,G):tS(f,H,!1,en,G),ew=e=>{var t=[];return G&&(0,tw.Hm)(e)?t=e.response.timeline.elements:(0,tw.R$)(e)&&(t=e.response.posts),ev(t),eu&&t.length?eb(t[0]):eb(null),null==n||n(t),t},ex=new tk.x(b,`/v2/blog/${H}/likes`,{method:"GET",queryParams:s()(s()({},(0,tj.n9)(tj.TP)),{},{reblog_info:!0})}),eC=new tk.x(b,`/v2/blog/${H}/following`,{method:"GET",queryParams:s()({},(0,tj.n9)(["name","avatar","title","url","blogViewUrl","uuid","descriptionNpf","updated","followed","isFollowingYou","durationBlogFollowingYou","durationFollowingBlog"]))}),ek=e=>{var t=[];return ev(t=e.response.likedPosts),t},ej=e=>{var t;return null===(t=e.response.links)||void 0===t?void 0:t.next},ey=e=>{var t=[];return ev(t=e.response.blogst.next},eS=e=>{var t;return(0,tw.R$)(e)?null===(t=e.response.links)||void 0===t?void 0:t.next:void 0},eP=(0,m.uerm:q}),[H,eu,q]),eT=(0,m.useMemo)(()=>(0,_.jsx)(tE,{blogName:H,isPostPermalink:eu,isExplicit:!0}),[H,eu]),e_=eu&&eh&&e9(eh),eB={"--color-primary-link":`rgb(${L["--override-posts--color-primary-link"]})`},eI=[{key:"Posts",translate:g("Navigational tab at the top of a blog view","Posts")},...l.shareLikes||er?[{key:"Likes",translate:g("Navigational tab at the top of a blog view","Likes"),hasLock:er&&!l.shareLikes}]:[],...l.shareFollowing||er?[{key:"Following",translate:g("Navigational tab at the top of a blog view","Following"),hasLock:er&&!l.shareFollowing}]:[]],eL=null;eu&&(eL="video"===e_?(0,_.jsx)("aside",{className:v()(tO.moreContent,tO.moreContentLink),children:(0,_.jsx)(et.Z,{blogName:H,className:tO.moreContentTitle,children:(0,_.jsx)(ed.ZP,{components:{blogName:(0,_.jsxs)("span",{children:["@",H]})},children:"More from [blogName /]"})})}):(0,_.jsx)(tM,{postId:G,blogName:l.name,scrollRef:i,getObjectsFromResponse:ew,getInitialPageFromResponse:e=>{var t;return{objects:e.response.posts,nextLink:null===(t=e.response.links)||void 0===t?void 0:t.next}},overridePresentationStyle:x?tP.Z.newPeeprMobile:tP.Z.newPeeprDesktop,errorView:(0,_.jsx)(tU,{}),getNextLink:eS,endpointApiRequest:tS(f,H,!1,en,void 0,G),loader:(0,_.jsx)(tb.w,{color:eg().blogContrastingLinkColor,condensed:!0})}));var eA=(0,m.useMemo)(()=>eu&&(null==eh?void 0:eh.classification)==="explicit"?eo?null!=eh&&eh.trail&&(null==eh?void 0:eh.trail.length)>0?void 0:(0,_.jsxs)("div",{className:tO.explicitBannerReview,children:[(0,_.jsxs)("div",{className:tO.explicitBannerNotice,children:[(0,_.jsx)(th.Z,{colors:{primary:eg().paletteRed}}),(0,_.jsx)("h1",{children:p("Want to see all your flagged posts for this Tumblr?")})]}),(0,_.jsx)(ei.Z,{theme:"default",className:tO.explicitBannerReviewLink,textColor:eg().paletteWhite,backgroundColor:eg().paletteRed,href:(0,ec.eR)({blogName:H}),children:g("Button that takes you to view a list of your flagged posts","Take me there")})]}):eT:void 0,[g,p,H,eo,eu,null==eh?void 0:eh.classification,null==eh?void 0:eh.trail,eT]);return(0,_.jsxs)(_.Fragment,{children:[!eu&&(0,_.jsxs)("div",{className:tO.toolbar,children:[(0,_.jsx)(tT.Z,{blogSettings:l,hasOriginalPostFilter:!0}),(0,_.jsx)(tB,{tabsList:eI,blog:l,currentView:B,onViewClick:I}),!x&&(0,_.jsx)(tf.Z,{viewsShown:$,currentView:void 0===a||((null==a?void 0:a.objects)||[]).length>1?N:tC.mt.List,onViewClick:S,activeButtonClass:tO.activeIconButton,inactiveButtonClass:tO.inactiveIconButton})]}),(0,_.jsxs)("main",{className:v()(tO.main,{[tO.isListView]:x||N===tC.mt.List,[tO.isMobile]:x}),children:[eA,(0,_.jsxs)("div",{style:eB,className:v()(er&&B!=tx.AO.Posts?tO.ownBlogTimeline:tO.blogTimeline,{[tO.isPermalinkPage]:eu}),"data-testid":"timeline"+B,children:[B==tx.AO.Likes&&(0,_.jsx)(_.Fragment,{children:er&&(0,_.jsx)(tR,{bannerStr:l.shareLikes?p("Everyone can see this page"):p("Only you can see this page"),url:(0,ec.BR)({blogName:H})})}),(0,_.jsxs)("div",{className:tO.followingTimeline,children:[B==tx.AO.Following&&(0,_.jsx)(_.Fragment,{children:er&&(0,_.jsx)(tR,{bannerStr:l.shareFollowing?p("Everyone can see this page"):p("Only you can see this page"),url:(0,ec.BR)({blogName:H})})}),(r=s()(s()({},x||N===tC.mt.Masonry?tP.Z.newPeeprMobile:tP.Z.newPeeprDesktop),{},{expandNotesOnMount:eu&&"video"!==e_,showsAvatarInline:x&&eu,showsPosterAvatar:x&&eu}),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(tv.ZP,{id:`posts-${H}-${G}-${B}`,scrollContainer:i,endpointApiRequest:(e=>{switch(e){case tx.AO.Likes:return ex;case tx.AO.Following:return eC;default:return ef}})(B),getInitialPage:(e=>{switch(e){case tx.AO.Likes:case tx.AO.Following:return;default:return C}})(B),getObjectsFromResponse:(e=>{switch(e){case tx.AO.Likes:return ek;case tx.AO.Following:return ey;default:return ew}})(B),displayMode:!x&&(void 0===a||((null==a?void 0:a.objects)||[]).length>1)?N:tC.mt.List,overridePresentationStyle:r,masonryRendersWithSidebar:!0,masonryColumnWidth:260,maximumNumberOfColumns:2,emptyView:eP,errorView:(0,_.jsx)(tU,{errorStr:(e=>{switch(e){case tx.AO.Likes:return g("Message for the error view displayed when there are no liked posts to show to the user","No Liked posts");case tx.AO.Following:return p("This blog does not follow anyone");default:return}})(B)}),getNextLink:(e=>{switch(e){case tx.AO.Likes:return ej;case tx.AO.Following:return eN;default:return eS}})(B),manualPaginatorButtonCss:{prevButtonStyle:{color:eg().blogLinkColor,background:eg().blogLinkColor15}},doesNotRemoveUnfollowedObjects:!0,loader:(0,_.jsx)(tb.w,{color:eg().blogContrastingLinkColor,condensed:!0})}),B===tx.AO.Posts&&eL]}))]})]})]})]})}var tF=o(31569),tW=o(79740),tH=o(85795),tV=e=>{var t=e.length;return t=Math.min(t=3*Math.floor(t/3),9),e.slice(0,t)};function tG(e){var t=e.blogSettings,o=e.postId,r=e.isPermalinkPage,l=(0,y.bp)(),a=l._t,n=l.apiFetch,s=(0,m.useState)(),i=d()(s,2),c=i[0],u=i[1];return((0,m.useEffect)(()=>{(0,tH.ZP)(n).getRelatedPosts(o,t.name,r?"post_permalink":"blog_view").fetchents))})},[o]),null!=c&&c[0])?(0,_.jsx)(tF.Z,{title:a("More like this"),children:(0,_.jsx)("div",{className:"rD_LN",children:c.map(e=>(0,_.jsx)(tW.Z,{chiclet:e,blog:e.blog,className:"oZ_9P"},e.id))})}):null}var tz=o(25321),tq=o(75891),tJ=o(33590);function tY(e){var t,o=e.blogSettings,r=(0,y.bp)()._c,l=o.name,a=(0,e6.P)(o),n=(t=(0,y.bp)().apiFetch,(0,tJ.a)({queryKey:["related-blogs",l],queryFn:()=>{var e;return ex()().async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ex()().awrap(t("/v2/related/blogs",{queryParams:s()(s()({tumblelog:l,format:"blog_cards"},(0,tj.n9)(tj.$b)),{},{reblog_info:!0,include_followed_blogs:!0})}));case 2:return e=o.sent.response,o.abrupt("return",e);case 5:case"end":return o.stop()}},null,null,null,Promise)}})).data,i=n&&(0,tq.Z)({elements:n.timeline.elements,objectType:tC.TE.Carousel,id:"id"},r("Title for the sidebar section with blogs related to a blog","Blogs like this one"));return i?(0,_.jsx)("div",{style:a,children:(0,_.jsx)(tz.D,{timelineObject:i,displayMode:tC.mt.Masonry,rowTheme:"blog",collapseSpacingInMobile:!1})}):null}var tK=o(75376);let tX=e=>{var t=e.blogSettings,o=e.onClose,r=t.name,l=t.canAddTipMessage,a=(0,e6.P)(t);return(0,_.jsx)(w.Z,{position:"center",glassCallback:o,isOpen:!0,animateIn:!1,drawerClassName:"WdbXP",drawerInlineStyle:a,showCloseButton:!1,controlsPosition:"inside",children:(0,_.jsx)("div",{className:"RBKda",style:a,"data-testid":"tipping-modal",children:(0,_.jsx)(tK.Z,{blogname:r,canDoReply:!!l,onClose:o})})})};var tQ=o(27178);let t0={scrollContainer:"DCCfo",isModal:"kXP4L",newDesktopLayout:"ZmMA3",layout:"pKQCB",sidebar:"vM8CJ",body:"Q05ZE",sidebarTopContainer:"gJ6yV",livePreview:"udvMJ"},t1=function(e){var t,o,r,l=e.blogStyles,a=e.blogSettings,n=e.scrollContainer,s=e.setScrollContainer,i=e.onContainerScroll,c=(0,y.bp)(),p=c.features,g=c.isLoggedIn,b=c.getBootstrap,f=(0,h.s0)(),w=(0,h.TH)(),x=(0,U.Z)(),C=(0,h.UO)(),k=C.peeprPostId,S=C.peeprSearchTerm,T=C.peeprTag,B=a.liveNow,I=a.liveStreamingUserId;(0,m.useEffect)(()=>{null==n||n.focus({preventScroll:!0})},[n]);var L=(0,N._)().shouldRenderPeeprOrSsrModalOnModal,A=(0,m.useRef)(b(Y.Rn,{initialTimeline:void 0})),Z=L?void 0:null===(t=A.current)||void 0===t?void 0:t.initialTimeline,R=k&&null!=Z&&null!==(o=Z.objects)&&void 0!==o&&o.length?Z.objects[0]:void 0,O=(0,m.useState)(!1),E=d()(O,2),M=E[0],D=E[1],$=(0,m.useState)(!1),F=d()($,2),Q=F[0],ee=F[1],et=(0,m.useState)(k||(null==Z||null===(r=Z.objects)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.id)),eo=d()(et,2),er=eo[0],el=eo[1],ea=!!k;(0,m.useEffect)(()=>{if(!(0,u.s6)(x)){D(!1);return}a.isPaywallOn&&(0,K.w1)(a)?D(!0):f((0,u.SS)({peeprBlogname:a.name}),{replace:!0})},[a,f,x]),(0,m.useEffect)(()=>{if(!(0,u.M1)(x)){ee(!1);return}a.isMember?f((0,u.SS)({peeprBlogname:a.name}),{replace:!0}):ee(!0)},[a,f,x]);var en=(0,J.v$)().isMobile,es=(0,j.pG)().width>(!L&&p.redpopDesktopVerticalNav?P().newLayoutPeeprBreakpoint:P().newPeeprLargeModalBreakpoint),ei=es&&ea;return(0,_.jsx)(q.Z,{children:(0,_.jsx)(W.Z,{children:(0,_.jsxs)("div",{className:v()(t0.scrollContainer,{[t0.isModal]:L,[t0.newDesktopLayout]:p.redpopDesktopVerticalNav}),"data-testid":"scroll-container",onScroll:i,ref:s,style:l,tabIndex:-1,children:[(0,_.jsx)(e7,{blogSettings:a,post:R,searchTerm:S,tag:T}),(0,_.jsxs)("div",{className:t0.layout,children:[(0,_.jsx)(z.ZP.Provider,{value:e=>(0,u.SS)({peeprBlogname:a.name},{peeprFilterParams:{peeprTag:e}}),children:(0,_.jsxs)("div",{className:t0.body,children:[!ei&&!(en&&ea)&&(0,_.jsx)(eQ,{blogSettings:a,initialLayout:ea?"mini":"full"}),(0,_.jsx)(t$,{blogSettings:a,scrollContainer:L?n:null,initialTimeline:Z,onPostsLoaded:e=>{var t;null!==(t=e[0])&&void 0!==t&&t.id&&el(`${e[0].id}`)}}),M&&(0,K.w1)(a)&&(0,_.jsx)(tp,{blogSettings:a,onClose:()=>f((0,u.SS)({peeprBlogname:a.name}))}),Q&&(0,_.jsx)(tX,{blogSettings:a,onClose:()=>{var e;null!==(e=w.state)&&void 0!==e&&e.fromPostPermalinkPage?f(-1):f((0,u.SS)({peeprBlogname:a.name}))}})]})}),es&&(0,_.jsxs)("div",{className:t0.sidebar,children:[(0,_.jsxs)("div",{className:t0.sidebarTopContainer,children:[ei&&(0,_.jsx)(eQ,{blogSettings:a,initialLayout:"mini",isInSidebar:!0}),!g&&(0,_.jsx)(tQ.Z,{source:"blog_view_floating_sign_up",backgroundColor:eg().betamaxOrange,isFloating:!1,isDismissible:!1}),(0,_.jsx)(tY,{blogSettings:a}),!!er&&(0,_.jsx)(tG,{blogSettings:a,postId:er,isPermalinkPage:ea}),(0,_.jsx)(G.default,{supplyProviderId:X.E.PEEPR_RIGHT_RAIL,blog:a,onPeepr:!0})]}),!en&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(H.Z,{}),(0,_.jsx)(V.i,{liveNow:B,networkUserId:I,className:t0.livePreview})]})]}),!es&&(0,_.jsx)(V.i,{liveNow:B,networkUserId:I,className:t0.livePreview}),!g&&(0,_.jsx)(tQ.Z,{source:"blog_peepr_view_floating_sign_up",isDismissible:!1,fullWidth:!0,withLoginButton:p.loggedOutImprovementsCtas})]})]})})})};var t2=o(42104),t5=o(23670),t3=o(26963);let t4={container:"S3E1Y",isModal:"ZI59C",loadingContainer:"u0mGc",title:"RyODF",actions:"iXtS0",adultBlogWallHeading:"hIBHZ",adultBlogWall:"enK1h",adultBlogWallHeader:"MRoAY",adultBlogWallBlogName:"EyE5r",adultBlogWallSubheading:"znyo1",adultBlogWallRoundedButton:"u5Mic",adultBlogWallDashboardButton:"Ej6jD"},t8=function(e){var t=e.user,o=e.onClickView,r=(0,y.bp)()._t,l=(0,h.TH)(),a=l.pathname,n=l.search,i=(0,h.s0)(),d=D();return(0,m.useEffect)(function(){return i({search:new URLSearchParams(s()(s()({},(0,t3.b)(n)),{},{redirect_to:a,source:"content_warning_wall"})).toStrion(){}},[]),(0,_.jsxs)("div",{className:t4.adultBlogWall,children:[(0,_.jsx)("h1",{className:t4.adultBlogWallBlogName,children:(0,_.jsx)(ed.ZP,{comment:"Header shown on the adult blog community label page where [blogName] is the name of the blog the user is attempting to access",components:{span:(0,_.jsx)("span",{})},params:{blogName:d},children:"[span][blogName][/span] is on Tumblr"})}),(0,_.jsxs)("div",{className:t4.adultBlogWallHeader,children:[(0,_.jsx)("h1",{className:t4.adultBlogWallHeading,"data-testid":"peepr-adult-screen-title",children:(0,_.jsx)(ed.ZP,{comment:"Title of warning screen that appears when a user opens an adult blog",children:"Mature Content"})}),(0,_.jsx)("p",{className:t4.adultBlogWallSubheading,children:(0,_.jsx)(ed.ZP,{comment:"Text on warning screen that appears when a user opens an adult blog",children:"This content has been hidden due to its potentially mature nature."})})]}),t&&!Object.keys(t).length&&(0,_.jsx)(t2.default,{title:r("To view this blog sign up or login:"),form:te.c.LoginOrRegister,options:{smallTitle:!0,glassOverlay:!1}}),(null==t?void 0:t.canModifySafeMode)&&(0,_.jsxs)("p",{className:t4.actions,children:[(0,_.jsx)("button",{type:"button",className:t4.adultBlogWallRoundedButton,onClick:o,children:r("View blog")}),(0,_.jsx)(t5.Z,{className:t4.adultBlogWallDashboardButton,to:"/dashboard",children:r("Go to my dashboard")})]})]})},t9=function(e){var t=e.children,o=e.styles,r=(0,N._)().shouldRenderPeeprOrSsrModalOnModal;return(0,_.jsx)("div",{className:v()(t4.container,{[t4.isModal]:r}),style:o,children:t})},t7=function(e){var t=e.onClickView,o=(0,y.bp)()._t;return(0,_.jsxs)(t9,{children:[(0,_.jsx)("h1",{className:t4.title,"data-testid":"peepr-blocked-screen-title",children:o("You have this Tumblr blocked, so we've hidden it from your view.")}),(0,_.jsx)("p",{className:t4.actions,children:(0,_.jsx)(ei.Z,{textColor:eg().paletteWhite,backgroundColor:eg().paletteAccent,onClick:t,children:o("View this Tumblr")})})]})},t6=function(){var e=(0,y.bp)()._t;return(0,_.jsx)(t9,{children:(0,_.jsx)("h1",{className:t4.title,"data-testid":"peepr-error-screen-title",children:(0,tr.U)((0,eJ.Pk)(e))})})},oe=function(){return(0,_.jsx)(t9,{children:(0,_.jsx)("div",{className:t4.loadingContainer,"data-testid":"peepr-loading-screen",children:(0,_.jsx)(eI.Z,{color:ep.paletteWhiteOnDark})})})};var ot=o(32817);let oo=function(){var e=(0,y.bp)()._c,t=(0,ot.getBackgroundImage)();return(0,_.jsx)(t9,{styles:{"--background-image":`url(${t.imageUrl})`},children:(0,_.jsx)("h1",{className:t4.title,"data-testid":"peepr-nonexistent-screen-title",children:e("Error message shown in the blog view when the requested blog does not exist","Ghost blog! This blog does not exist.")})})},or=()=>{var e=(0,m.useState)(!1),t=d()(e,2),o=t[0],r=t[1],l=(0,m.useState)(null),a=d()(l,2),n=a[0],s=a[1],i=(0,F.Z)(()=>{n&&r(n.scrollTop>2e3)},150);return{setScrollContainer:s,scrollContainer:n,scrollToTopEnabled:o,onContainerScroll:i,onScrollToTop:()=>{null==n||n.scroll({top:0,behavior:"smooth"})}}},ol=function(e){var t,o,r,l,a,n,i=e.onClose,b=e.isOpen,v=e.onBackButtonClick,f=e.hasHistory,w=(0,y.bp)(),x=w.isLoggedIn,C=w.routeSet,k=w.logEvent,j=D(),N=(0,h.UO)(),S=(0,E.Z)(N).peeprSelectedPostType,P=(0,m.useState)(!1),T=d()(P,2),M=T[0],W=T[1],H=(0,m.useState)(!1),V=d()(H,2),G=V[0],z=V[1],q=or(),J=q.scrollToTopEnabled,Y=q.onScrollToTop,K=q.onContainerScroll,X=q.scrollContainer,Q=q.setScrollContainer,ee=(0,g.Pc)().data,et=null!=ee&&ee.isLoggedIn?null==ee?void 0:ee.user:void 0,eo=(0,R.h)().openLoginWall,er=(0,m.useRef)(1),el=(0,m.useRef)(!1),ea=(0,p.$3)(j,"peepr"),en=ea.isPending,es=ea.isError,ei=ea.data,ed=ea.error,ec=(0,e6.P)(ei),eu=(0,U.Z)(),ep=(0,h.TH)(),eg=(0,h.s0)(),em=(eu===u.fL||eu===u.s9||eu===u.At)&&S&&!(0,Z.XY)(S);(0,m.useEffect)(()=>{em&&eg((0,u.SS)({peeprBlogname:j}),{replace:!0})},[j,em,eg]),em&&ei||en?a=(0,_.jsx)(oe,{}):es?(null==ed?void 0:ed.status)===404?ep.pathname.toLowerCase()!==ep.pathname?eg(ep.pathname.toLowerCase(),{replace:!0}):(null==ed||null===(n=ed.detailedErrors)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.code)===I.Z.HiddenBlog?(window.location.assign(`${L.Cw}/login_required/${j}`),a=(0,_.jsx)(oe,{})):a=(0,_.jsx)(oo,{}):a=(0,_.jsx)(t6,{}):a=ei?!M&&null!=ei&&ei.isBlockedFromPrimary?(0,_.jsx)(t7,{onClickView:()=>W(!0)}):G||ei.admin||null==ei||!ei.isAdult?(0,_.jsx)(t1,{blogSettings:ei,blogStyles:ec,onContainerScroll:()=>{x||eh(),!x&&eb()&&ev(),K()},scrollContainer:X,setScrollContainer:Q}):(0,_.jsx)(t8,{user:et,onCl=>z(!0)}):(0,_.jsx)(oo,{});var eh=(0,F.Z)(()=>{((null==X?void 0:X.scrollTop)||0)>1e3*er.current&&(k({eventName:A.J.LoggedOutBlogViewModalScroll,eventDetails:{scrolledDistancePage:er.current}}),er.current+=1)},250),eb=(0,F.Z)(()=>!el.current&&((null==X?void 0:X.scrollTop)||0)>5e3,250),ev=()=>{el.current=!0,eo(s()(s()({action:{type:"scroll"},options:{glassOverlay:!0,isDismissible:!1}},window.location.pathname&&{redirect:`${window.location.pathname}`}),{},{source:"blog_peepr_view_login_wall"})),k({eventName:A.J.LoginWallPeeprViewScroll})};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(c.Z,{page:(o=(0,$.Om)(ep.pathname,void 0===C?"main":C),r=x&&(0,O.g)(j,(null==ee||null===(t=ee.user)||void 0===t?void 0:t.blogs)||[]),l=(0,u.h2)(o)?"BlogPagesLikes":(0,u.ZV)(o)?"BlogPagesFollowing":"Blog",r?`User${l}`:l)}),(0,_.jsx)(B,{isOpen:b,glassCallback:i,blogThemeStyle:a instanceof t1?ec:{},onBackButtonClick:v,onScrollToTopButtonClick:Y,scrollToTopEnabled:J,hasHistory:f,theme:null==ei?void 0:ei.theme,children:a})]})};var oa=o(71417),on=o(59215),os=o(11384),oi=o(67657),od=o(78093);class oc extends oa.lb{constructor(e){super(e),l()(this,"state",{drawerIsOpen:!0,prevPaths:[],igniteSuccessPopoverIsOpen:!1,igniteTransactionId:""}),l()(this,"goBack",()=>{var e=this.props,t=e.location,o=e.navigate,r=e.navigationType,l=this.state.prevype:r});l.length?a():this.setState({drawerIsOtionMs))}),l()(this,"close",e=>()=>{var t=e.hash,o=e.pathname,r=e.search,l=e.state;this.props.navigate({hash:t,pathname:o,search:r},{state:l})}),this.toggleIgniteSuccessPopover=this.toggleIgniteSuccessPopover.bind(this)}componentDidMount(){var e=this.props.params.peeprPostId,t=(0,t3.b)(this.props.location.search);if(t.ignite_tid&&e){var o=(0,oi.uG)(e,"transactionUuid");if(t.ignite_tid!==o)return;this.setState({igniteSuccessPopoverIsOpen:!this.state.igniteSuccessPopoverIsOpen,igniteTransactionId:t.ignite_tid})}}componentDidUpdate(e){var t=e.location.pathname,o=this.props.location.pathname,r=this.state.prevPaths,l=e.params.peeprPostId===this.props.params.peeprPostId&&!e.params.peeprPostSlug&&!!this.props.params.peeprPostSlug,a=r[r.length-1];l||t===o||this.setState({prevPaths:a===o?r.slice(0,-1):[..pen}))}render(){var e=this.props.modalRouteContext,t=this.state,o=t.prevPaths,r=t.drawerIsOpen,l=t.igniteSuccessPopoverIsOpen,n=t.igniteTransactionId;return(0,_.jsxs)(_.Fragment,{children:[l&&n&&(0,_.jsx)(a.Z,{successPopoverIsOpen:l,toggleSuccessPopoverIsOpen:this.toggleIgniteSuccessPopover,transactionUuid:n}),(0,_.jsx)(ol,{isOpen:r,onClose:this.close(e),onBackButtonClick:this.goBack,hasHistory:o.length>0})]})}}let ou=(0,on.Bg)(oc,{appContext:!0,modalRouteContext:!0})},1e4:(e,t,o)=>{o.d(t,{Z:()=>r}t[1]:e}},11384:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(68280),l=o(68859);function a(e){var t=e.location,o=e.navigate,a=e.navigationType,n=e.fallbackPath,s=(0,l.Z)(document.referrer),i="default"!==t.key;"production"===r.Z.Development&&"REPLACE"===a&&console.warn("Beware! This route was entered with REPLACE navigation type. Going back to a previous route might not result in what you expect. Please test it carefully!"),i||s?o(-1):o(void 0===n?"/dashboard":n,{replace:!0})}},16234:(e,t,o)=>{o.d(t,{AO:()=>c,Co:()=>d,OL:()=>n,VT:()=>i,aq:()=>g,vz:()=>p});var r=o(44027),l=o.n(r),a=o(5700);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1200;return e.find(e=>e.width<=t&&e.height<=t)||e[e.length-1]}function s(e){var t,o=l()(e);try{for(o.s();!(t=o.n()).done;){var r,s=t.value;if((0,a.RD)(s))return n(s.media);if(((0,a.gD)(s)||(0,a._P)(s))&&null!==(r=s.poster)&&void 0!==r&&r.length)return n(s.poster)}}catch(e){o.e(e)}finally{o.f()}}function i(e){var t,o,r;return null!==(t=e.content)&&void 0!==t&&t.length&&(r=s(e.content)),!r&&null!==(o=e.trail)&&void 0!==o&&o.length&&(r=function(e){var t,o=l()(e);try{for(o.s();!(t=o.n()).done;){var r=t.value,a=s(r.content);if(a)return a}}catch(e){o.e(e)}finally{o.f()}}(e.trail)),r}function d(e){var t=(0,a.RD)(e)?e.media:e.poster;if(void 0!==t)return n(t)}function c(e){var t,o,r,l=[...e.trail?e.trail.content):[],...null!==(t=e.content)&&void 0!==t?t:[]];return null!==(o=null!==(r=l.find(a.gD))&&void 0!==r?r:l.find(a._P))&&void 0!==o?o:l.find(a.RD)}var u=e=>{var t=e.subtype;return t===a.lr.Heading1||t===a.lr.Heading2||t===a.lr.Quote};function p(e){var t,o=0!==e.content.length,r=0!==e.trail.length,n=(!o&&r?e.trail[0]:e).content,s=l()(n);try{for(s.s();!(t=s.n()).done;){var i=t.value;if((0,a.LX)(i))return;if((0,a.dz)(i)&&u(i))return i.text.trim();if((0,a.R0)(i)&&i.title)return i.title.trim()}}catch(e){s.e(e)}finally{s.f()}}function g(e){var t,o=0!==e.content.length,r=0!==e.trail.length,n=(!o&&r?e.trail[0]:e).content,s=n.filter(a.dz).find(u),i=[],d=l()(n);try{for(d.s();!(t=d.n()).done;){var c=t.value;if(c!==s){if((0,a.LX)(c))break;if((0,a.dz)(c)&&i.push(c.text),(0,a.R0)(c)&&c.description&&i.push(c.description),(0,a._P)(c)){var p=c.artist,g=c.title;p&&g?i.push(`${p} - ${g}`):p?i.push(p):g&&i.push(g)}}}}catch(e){d.e(e)}finally{d.f()}return 0!==i.lengt.trim()).join("\n\n"):void 0}},75891:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(54138),l=o.n(r),a=o(22979);function n(e,t){return(0,a.eO)(e)?l()(l()({},e),{},{display:l()(l()({},e.display),{},{title:t})}):e}},61702:(e,t,o)=>{oY:()=>r});var r=(e,t)=>!(e.length<=t)&&RegExp(`^.{${t+1},}`,"u").test(e)}}]);