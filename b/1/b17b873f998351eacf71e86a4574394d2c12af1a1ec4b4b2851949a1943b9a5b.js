(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[6043],{97243:90857:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,h:()=>a});var o=n(55263);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:o.a,payload:{entryId:e,opendModalName:t,data:n}}},73887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var o,a,r,i,c=n(66877),s=n(3e4),l=n(15329),d=(n(91938),n(76955)),p=n(72791),m=n.n(p),u=n(55382),h=n.n(u),g=n(5154),f=n.n(g),y=n(29466),b=n.n(y),v=n(22006),w=n.n(v),_=n(45525),O=n(1558),I=n.n(O),x=n(29205),C=n.n(x),T=(0,_.w1)(C())((r=a=class extends d.Component{static get defaultProps(){return{children:null,className:C().Block,closeButtonClassName:"",contentLabel:"",overlayClassName:"",onAfterOpen:f(),onRequestClose:f()}}houldComponentUpdate(e,t){return this.props.children!==e.children||this.props.className!==e.className||this.props.closeButtonClassName!==e.closeButtonClassName||this.props.contentLabel!==e.contentLabel||this.props.overlayClassName!==e.overlayClassName||this.state.isOpen!==t.isOpen||!b()(this.props.onAfterOpen,e.onAfterOpen)||!b()(this.props.onRequestClose,e.onRequestClose)}componentWillUnmount(){w().off(),this.setState({isOpen:!1})}handleAfterOpen(e){this.props.onAfterOpen&&this.props.onAfterOpen(e),w().on(),this.setState({isOpen:!0})}handleRequestClose(e){this.props.onRequestClose&&this.props.onRequestClose(e),w().off(),this.setState({isOpen:!1})}render(){var e=this.props,{className:t,children:n}=e,o=(0,l.Z)(e,["className","children"]),a=this.props.overlayClassName||{base:C().Overlay,afterOpen:C().Overlay_afterOpen,beforeClose:C().Overlay_beforeClose};return d.createElement(m(),(0,c.Z)({},o,{className:h()({[C().Block_open]:this.state.isOpen},t),closeTimeoutMS:200,contentLabel:this.props.contentLabel,overlayClassName:a,onAfterOpen:this.handleAfterOpen,onRequestClose:this.handleRequestClose}),d.createElement("div",{"aria-hidden":!this.state.isOpen,className:C().Contents,ref:e=>{this.input=e},role:"dialog",tabIndex:"0"},n,(0,s.Z)("button",{"aria-label":"\u9589\u3058\u308b",className:h()(C().CloseButton,this.props.closeButtonClassName),onClick:this.handleRequestClose},void 0,i||(i=(0,s.Z)(I(),{})))))}},a.displayName="PcModal",o=r))||o},36043:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var o=n(3e4),a=n(41185),r=n(66062),i=(n(91938),n(76955)),c=n(29835),s=n(66948),l=n(97175),d=n(90174),p=n(45525),m=n(73614),u=n(90857),h=n(75457),g=n(97243),f=n(16884),y=n(73887),b=n(86229),v=n.n(b),w=n(78168);r I={done:"\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\uff01",error:"\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3057\u307e\u3057\u305f",waiting:"\u57cb\u3081\u8fbc\u307f\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30fc"};function x(){return(x=(0,r.Z)((function*(e){var{dispatch:t,match:n}=e,{params:o}=n,a=o.amebaId;t((0,m.Rs)(a))}))).apply(this,arguments)}class C extends i.Component{static getDerivedStateFromProps(e,t){return e.isOpen&&(e.imageId!==t.imageId||e.entryId!==t.entryId)?O(O({},t),{},{entryId:e.entryId,entryTitle:e.entryTitle,imageHeight:e.imageHeight,imageId:e.imageId,imageWidth:e.imageWidth}):null}constructor(e){super(e),this.calcFittedEmbedWidth=(0,d.Z)(((e,t,n,o)=>{var a=t+2,r=.5*o,i=a*(.7*n)/(e+58),c=Math.min(a,r);return Math.min(i,c)})),this.state={copyState:"waiting",entryId:e.entryId,entryTitle:e.entryTitle,imageHeight:e.imageHeight,imageId:e.imageId,imageWidth:e.imageWidth},this.handleReceiveMessage=this.handleReceiveMessage.bind(this)}componentDidMount(){window.addEventListener("message",this.handleReceiveMessage,!1)}shouldComponentUpdate(e,t){return this.props.amebaId!==e.amebaId||this.props.blogTitle!==e.blogTitle||this.props.closeModal!==e.closeModal||this.props.isOpen!==e.isOpen||this.state.copyState!==t.copyState||this.state.entryId!==t.entryId||this.state.entryTitle!==t.entryTitle||this.state.imageHeight!==t.imageHeight||this.state.imageId!==t.imageId||this.state.imageWidth!==t.imageWidth}andleClickCopy(){if("waiting"===this.state.copyState){var e=document.createElement("pre");e.style.position="fixed",e.style.left="100%",e.textContent=this.textarea.value,document.body.appendChild(e),document.getSelection().selectAllChildren(e);var t=document.execCommand("copy");document.body.removeChild(e),this.setState({copyState:t?"done":"error"}),setTimeout((,2e3)}}handleReceiveMessage(e){var t=e.data||{};e.origin===window.process.env.HTTP_PATH_EMBED&&"EmbeddedImageSize"===t.type&&this.setState({imageHeight:t.imageHeight,imageWidth:t.imageWidth})}renderImageEmbed(e){var{amebaId:t,blogTitle:n}=this.props,{entryId:a,entryTitle:r,imageHeight:i,imageId:c,imageWidth:s}=this.state;return a&&c?(0,o.Z)("div",{style:{maxWidth:s+2,position:"relative"}},void 0,(0,o.Z)("div",{style:{paddingTop:"calc(".concat(100*i/s,"% + ").concat(58,"px)")}}),(0,o.Z)("iframe",{frameBorder:"0",sandbox:e?void 0:"allow-popups allow-scripts",src:(0,f.Z)(h.Z.ImageEmbed,{amebaId:t,entryId:a,imageId:c}),style:{height:"100%",left:"0",position:"absolute",top:"0",width:"100%"},title:"".concat(r," \u306e\u8a18\u4e8b\u5185\u753b\u50cf | ").concat(n)})):null}renderContent(){var{imageHeight:e,imageWidth:t}=this.state,n=this.calcFittedEmbedWidth(e,t,window.innerHeight,window.innerWidth),a=this.renderImageEmbed(!0),r=c.renderToStaticMarkup(this.renderImageEmbed(!1));return(0,o.Z)("div",{className:v().Block},void 0,(0,o.Z)("div",{className:v().PreviewBlock},void 0,(0,o.Z)("div",{style:{margin:"auto",maxWidth:"".concat(n,"px")}},void 0,a)),(0,o.Z)("div",{className:v().EmbedCodeBlock},void 0,i.createElement("textarea",{className:v().EmbedCodeArea,readOnly:!0,ref:value:r,onClick:()=>{this.textarea.focus(),document.execCommand("selectAll")}}),(0,o.Z)("button",{className:v().CopyButton,onClick:,void 0,I[this.state.copyState]),(0,o.Z)("p",{className:v().TermsText},void 0,"\u3053\u306e\u57cb\u3081\u8fbc\u307f\u30b3\u30fc\u30c9\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001Ameba\u306e",(0,o.Z)("a",{className:v().TermsLink,href:"".concat(window.process.env.HTTP_PATH_HELPS,"/rules/post_104.html"),rel:"noreferrer noopener",target:"_blank"},void 0,"\u5229\u7528\u898f\u7d04"),"\u306b\u540c\u610f\u3059\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002")))}render(){return(0,o.Z)(y.Z,{contentLabel:"PcEntryImageEmbed",isOpen:this.props.isOpen,onRequestClose:,void 0,this.renderContent())}}C.displayName="Presenter";var T=(0,w.ee)((0,p.w1)(v()),(0,l.provideHooks)({done:),(0,s.$j)((function(e,t){var{match:n}=t,{params:o}=n,a=o.amebaId,r=e.bloggerState,i=r.bloggerMap,c=(r.blogMap[(i[a]||{}).blog]||{}).blog_title||"",s=e.pcModalState,l=s.opendModalName===g.rl,d="".concat(s.entryId)||"",p=s.data.imageHeight||0,m=s.data.imageId||"",u=s.data.imageWidth||0;return{amebaId:a,blogTitle:c,entryId:d,entryTitle:(e.entryState.entryMap[d]||{}).entry_title||"",imageHeight:p,imageId:m,imageWidth:u,isOpen:l}}),{closeModal:u.M}))(C)},16884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(75457),a=e=>{var{amebaId:t,entryId:n,vnm:o}=e;return t&&n?"/".concat(t,"/video-").concat(n,".html").concat(o?"?vnm=".concat(o):""):""};function r(e,t){var{amebaId:n,entryId:r,themeId:i,entryYm:c,imageId:s,vnm:l,day:d,page:p=1}=t,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!n||!e)return"";var u="".concat(m,"/").concat(n),h="";switch(e){case o.Z.BlogTop:return h=p>1?"page-".concat(p,".html"):"","".concat(u,"/").concat(h);case o.Z.EntryList:return h=p>1?"-".concat(p):"","".concat(u,"/entrylist").concat(h,".html");case o.Z.AmemberEntryList:return h=p>1?"-".concat(p):"","".concat(u,"/amemberentrylist").concat(h,".html");case o.Z.ArchiveTop:return"".concat(u,"/archivetop.html");case o.Z.Archive:if(c)return h=p>1?"".concat(p):"","".concat(u,"/archive").concat(h,"-").concat(c,".html");console.error("PageType.Archive: entryYm is undefined.");break;case o.Z.Day:if(d)return h=p>1?"".concat(p):"","".concat(u,"/day").concat(h,"-").concat(d,".html");console.error("PageType.Day: day is undefined.");break;case o.Z.ThemeTop:return"".concat(u,"/themetop.html");case o.Z.Theme:if(i)return h=p>1?"".concat(p):"","".concat(u,"/theme").concat(h,"-").concat(i,".html");console.error("PageType.Theme: themeId is undefined.");break;case o.Z.PopularRecentList:return h=p>1?"-".concat(p):"","".concat(u,"/popularrecentlist").concat(h,".html");case o.Z.Entry:if(r)return h=p>1?"".concat(p):"","".concat(u,"/entry").concat(h,"-").concat(r,".html");console.error("PageType.Entry: entryId is undefined.");break;case o.Z.ImageList:return h=p>1?"-".concat(p):"",c?"".concat(u,"/imagelist-").concat(c).concat(h,".html"):"".concat(u,"/imagelist.html");case o.Z.Image:if(r&&s)return"".concat(u,"/image-").concat(r,"-").concat(s,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case o.Z.VideoList:return h=p>1?"-".concat(p):"","".concat(u,"/videolist").concat(h,".html");case o.Z.Video:if(r)return"".concat(m).concat(a({amebaId:n,entryId:r,vnm:l}));console.error("PageType.Video: entryId is undefined.");break;case o.Z.IineEntry:if(r)return"".concat(u,"/iine_entry-").concat(r,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case o.Z.Comment:if(h=p>1?"page-".concat(p,".html"):"",r)return"".concat(u,"/comment-").concat(r,"/").concat(h);console.error("PageType.Comment: entryId is undefined.");break;case o.Z.Reblog:if(h=p>1?"page-".concat(p,".html"):"",r)return"".concat(u,"/reblog-").concat(r,"/").concat(h);console.error("PageType.Reblog: entryId is undefined.");break;case o.Z.MessageBoard:return"".concat(u,"/message-board.html");case o.Z.Reader:return h=p>1?"-".concat(p):"","".concat(u,"/reader").concat(h,".html");case o.Z.Favorite:return h=p>1?"-".concat(p):"","".concat(u,"/favorite").concat(h,".html");case o.Z.Bookmark:return h=p>1?"-".concat(p):"","".concat(u,"/bookmark").concat(h,".html");case o.Z.AmemberEntry:if(r)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(n,"/amemberentry-").concat(r,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case o.Z.ImageEmbed:if(r&&s)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(n,"/image-").concat(r,"-").concat(s,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case o.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}},1558:function(e,t,n){"use strict";var o=this&&this.__assign||a=this&&this.__createBinding||(Object.create?,r=this&&this.__setModuleDefault||(Object.create?,i=this&&this.__importStar||Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(76955));t.default=,90174:22006:19192:(e,t,n)=>{var o=n(18300)((function(e){return e[1]}));o.push([e.id,"._nZFAapOg{background-color:#fff;border-radius:6px;bottom:auto;left:50%;opacity:0;outline:none;position:absolute;top:50%;transform:translate(-50%,-50%);transition:opacity .2s ease-out;width:70%;z-index:5000}._27c-K1gd{opacity:1}._299YTSbq{background:rgba(0,0,0,.25);bottom:0;left:0;opacity:0;position:fixed;right:0;-webkit-tap-highlight-color:rgba(0,0,0,0);top:0;transition:opacity .2s ease-out;z-index:5000}._ku7Iyda-{opacity:1}._2QWxRU6Z{opacity:0}._3fTIJoBl{background:#999;border:2px solid #fff;border-radius:50%;color:#fff;cursor:pointer;font-size:16px;height:26px;line-height:26px;padding:0;position:absolute;right:-9px;top:-9px;width:26px;z-index:5000}._3fTIJoBl:focus{outline:5px auto -webkit-focus-ring-color}._lBFY-fLS{outline:none}",""]),o.locals={Block:"_nZFAapOg",Block_open:"_27c-K1gd",Overlay:"_299YTSbq",Overlay_afterOpen:"_ku7Iyda-",Overlay_beforeClose:"_2QWxRU6Z",CloseButton:"_3fTIJoBl",Contents:"_lBFY-fLS"},e.exports=o},93546:(e,t,n)=>{var o=n(18300)(();o.push([e.id,"._8dJkUXs2{display:table}._1taiSAD8{background-color:#f8f8f8;padding:32px;width:65%}._1sCCZNm2,._1taiSAD8{box-sizing:border-box;display:table-cell;vertical-align:middle}._1sCCZNm2{background-color:#efefef;padding:24px;width:35%}._tqgnlJFL{border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:14px;min-height:15em;padding:1em;resize:none;vertical-align:bottom;width:100%;word-break:break-all}._kA6BDf4z{background-color:#2d8c3c;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:16px;font-weight:700;margin-top:24px;outline:none;padding:.8em;width:100%}._kA6BDf4z:focus{box-shadow:0 0 0 2px #49c755}._kA6BDf4z:hover{opacity:.85}._ADpezMMg{color:#666;font-size:12px;margin-top:24px;max-width:100%;text-align:left}._6oad_8w9,._6oad_8w9:active,._6oad_8w9:hover,._6oad_8w9:visited{color:#4290c6;text-decoration:none}._6oad_8w9:active,._6oad_8w9:hover{text-decoration:underline}",""]),o.locals={Block:"_8dJkUXs2",PreviewBlock:"_1taiSAD8",EmbedCodeBlock:"_1sCCZNm2",EmbedCodeArea:"_tqgnlJFL",CopyButton:"_kA6BDf4z",TermsText:"_ADpezMMg",TermsLink:"_6oad_8w9"},e.exports=o},29205:(e,t,n)=>{var o=n(19192),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=Object.defineProperty||function(e,t,n){e[t]=n.value};"string"==typeof o&&(o=[[e.id,o,""]]),e.exports=function(e){var t=a({},e.locals||{});return r(t,"_",{value:function(){return e}}),r(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(o)},86229:(e,t,n)=>{var o=n(93546),a=Object.assign||r=Object.defineProperty||"string"==typeof o&&(o=[[e.id,o,""]]),e.exports=function(e){var t=a({},e.locals||{});return r(t,"_",{value:),r(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(o)}}]);