(()=>{"use strict";var e={5160:(e,t,i)=>{i.d(t,{default:()=>n});class n{indComponentElements(){if(0===Object.keys(this.component.ui).length)return;let e,t,i;for(e in this.component.ui)Object.prototype.hasOwnProperty.call(this.component.ui,e)&&(i=this.component.ui[e],t="#"===i.charAt(0)&&-1===i.indexOf(" "),t?(this.component.el[e]=document.getElementById(i.substring(1)),this.component.elExists[e]=!!this.component.el[e]):(this.component.el[e]=this.component.node?this.component.node.querySelectorAll(i):null,this.component.elExists[e]=!!(this.component.el[e]&&this.component.el[e].length>0)))}bindComponentEvents(){if(0===Object.keys(this.component.events).length)return;let e,t,i,n,s;for(e in this.component.events)if(Object.prototype.hasOwnProperty.call(this.component.events,e)){if(i=e.split(" ")[0],n=e.split(" ")[1],s=this.component.events[e],t=void 0!==n&&Object.prototype.hasOwnProperty.call(this.component.el,n)?this.component.el[n]:this.component.node,!t)continue;if(this.isNodeList(t)){let e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].addEventListener(i,this.component[s].bind(this.component))}else t.addEventListener(i,this.component[s].bind(this.component))}}isNodeList(e){let t=Object.prototype.toString.call(e);return/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)}}},7023:(e,t,i)=>{i.d(t,{default:()=>o});var n=i(5160);lass o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.id=e,this.className=t,this.props={},this.ui={},this.events={},this.el={},this.elExists={}}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.ui=this.defineUi(),this.events=this.defineEvents(),this.props=this.defineProps(),s(this.props,e),this.node=""!==this.id?document.getElementById(this.id):document;const t=new n.default(this);t.bindComponentElements(),t.bindComponentEvents(),this.afterInit()}efineUi(){return{}}defineEvents(){return{}}},4674:(e,t,i)=>{i.d(t,{default:()=>n});class n{tatic createObserver(e,t){new IntersectionObserver((,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).observe(e)}}},9741:(e,t,i)=>{i.d(t,{default:()=>n});class n{constructor(e){return n.exists?n.resolveOrQueue():(n.playerId=e,n.exists=!0,n.instance=this,n.queue=[],this.setupApi)}tatic resolveOrQueue(){return n.isApiReady()?tatic runResolveQueue(){n.queue.forEach(()}setupApi(){let e=document.createElement("script");return e.setAttribute("src",`https://geo.dailymotion.com/libs/player/${n.playerId}.js`),document.head.appendChild(e),new Promise((e=>{n.isApiReady()?e(window.dailymotion):(n.queueResolve(e),window.dailymotion={onScriptLoaded:)}))}}}},t={};.d=i.o=var n={};(()=>{i.d(n,{default:);var e=i(9741),t=i(7023),s=i(4674);const o=[0,1];class r extends t.default{defineProps(){return{player:{},ads_enabled_for_article:!0,ads:{},playerParams:{"subtitles-default":"pl",mute:!0},videoIsOn:"",playerId:"",stickyVideoPinEventName:"stickyVideoPinEventName"}}afterInit(){window.matchMedia("(pointer: coarse)").matches&&screen.width<768?this.setupLoadObserver():this.initVideo()}setupLoadObserver(){s.default.createObserver(this.node,((e,t)=>{e.forEach((e=>{let{isIntersecting:i}=e;i&&(t.disconnect(),this.initVideo())}))}),{threshold:0,rootMargin:"0px 0px 200px 0px"})}async initVideo(){!this.isBlockedAds()&&this.props.ads_enabled_for_article&&await this.initAdsIntegration(),await new e.default(this.props.playerId)(),this.mountVideo()}nitAdsIntegration(){return new Promise((e=>{window.PPAds=window.PPAds||{},window.PPAds.queue=window.PPAds.queue||[],window.PPAds.queue.push((()=>{window.PPAds.listenTo(window.PPAds.event.SLOTS_READY,(t=>{let{detail:{slots:i,globalTargeting:n}}=t;const s=i[this.props.ads.slot],{video:o}=window.PPAds,r=o.getAdUnitPath(s),a=o.getCustomParams(s,n);void 0!==s&&(this.props.playerParams.customConfig={dynamiciu:r,keyvalues:a}),e()}))}))}))}async mountVideo(){await window.dailymotion.createPlayer(this.id,{video:this.props.player.video,player:this.props.playerId,referrerPolicy:"no-referrer-when-downgrade",params:this.props.playerParams}),this.node=document.getElementById(this.id),this.iframe=this.node.querySelector("iframe");const e=new CustomEvent(this.props.stickyVideoPinEventName);document.dispatchEvent(e),this.setupStateChangeIntersection()}async setupStateChangeIntersection(){const e=await window.dailymotion.getPlayer(this.id);s.default.createObserver(this.iframe,(t=>{t.forEach((async t=>{const i=await this.isAnyPlayerPlaying(),{playerIsPlaying:n}=await e.getState();i&&!n||(n&&!t.isIntersecting&&e.pause(),!n&&t.isIntersecting&&e.play())}))}),{threshold:o})}async isAnyPlayerPlaying(){const e=await window.dailymotion.getAllPlayers(),t=i=await function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return (t,(,t)(e);return i.some(()}}})(),(window.Content=window.Content||{})["atoms/video/player-dailymotion"]=n.default})();