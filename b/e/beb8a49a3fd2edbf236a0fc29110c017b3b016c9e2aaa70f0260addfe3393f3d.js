"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[4674],{34674:(e,t,r)=>{r.r(t),r.d(t,{default:()=>B});var a=r(66062),n=r(76955),o=r(97175),i=r(73614),s=r(31289),u=r(78168),c=r(51650),l=r(74039),p=r(66948),d=r(55752),f=r.n(d),g=e=>f()(e,["historyState","browsingHistoryMap","browsingHistoryList"],[]),v="bd-npv",y=()=>{var e=(0,p.v9)(();(0,n.useEffect)((()=>{var t=window.sessionStorage.getItem(v),r=document.referrer.startsWith(window.process.env.HTTP_PATH_AMEBLO),a=e||r?"0":"1";"0"!==t&&t!==a&&window.sessionStorage.setItem(v,a)}),[e])},b="page-transition-count",h=()=>{var e=(0,p.I0)(),{location:t}=(0,c.tv)()||{},r=f()(t,"pathname",""),a=(0,p.v9)(();(0,n.useEffect)((()=>{var t=0,r=window.sessionStorage.getItem(b),n=r?Number(r):0;if(0!==a){var o=document.referrer.startsWith(window.process.env.HTTP_PATH_AMEBLO);(a>1||o)&&(t=n+1),window.sessionStorage.setItem(b,"".concat(t)),e((0,s.et)(t))}}),[r,a,e])},w=r(93064);var m=r(85940),S=r(68858),O=r(84596),P=r(64439),j=r(57275),I=()=>{var e=(0,p.I0)(),t=(0,p.v9)(O.dS),r=(0,p.v9)(w.t)[m.jU],a=(0,p.v9)(w.q);(0,n.useEffect)((()=>{if(!(null===a&&(0,j.uy)()||a===P.h.LOADING||t)){var n=[m.Yh,m.LC].includes(r),o=[m.zh,m.cK].includes(r);n?e((0,s.uM)(S.X4.Interstitial)):o&&e((0,s.uM)(S.X4.Reward))}}),[t,r,a,e])};function _(){return(_=(0,a.Z)((function*(e){var{dispatch:t,match:r,location:a}=e,{params:n,route:o}=r,{pathname:u}=a,{pageType:c}=o,{amebaId:l}=n;yield t((0,i.Rs)(l)),yield t((0,s.O4)(u,c,n))}))).apply(this,arguments)}function T(){return(T=(0,a.Z)((function*(e){var{dispatch:t}=e;t((0,l.J)())}))).apply(this,arguments)}var A=e=>{var{useBaiduBrowserBackFlag:t=y,usePageTransitionCounter:r=h,useFullPageAdType:a=I}=e;return t(),r(),a(),null};const B=(0,u.ee)((0,o.provideHooks)({defer:function(e){return _.apply(this,arguments)},done:function(e){return T.apply(this,arguments)}}),(0,c.lB)(["match","location"]))((0,n.memo)(A))},84596:(e,t,r)=>{r.d(t,{$V:()=>s,CB:()=>c,JZ:()=>p,PY:()=>l,dS:()=>d,jj:()=>u,ly:()=>i});var a=r(55752),n=r.n(a),o=r(35613),i=(e,t)=>n()(e,["raichoAdState","requestStatusMap",...(0,o.E)(t)]),s=(e,t)=>{var{blogId:r,adKey:a}=t;return n()(e,["adState","adIdsMap",r,a])},u=c=e=>n()(e,["adState","attribute","hasBillboardPanel"],!1),l=e=>n()(e,["adState","attribute","canBillboardPanelRequest"],!1),p=e=>n()(e,["adState","pageTransitionCount"],0),d=e=>n()(e,["adState","fullPageAdType"],"")},57275:(e,t,r)=>{r.d(t,{z:()=>T,uy:);var a=r(41185),n=r(66062),o=r(22811),i=r(18274),s=r(55752),u=r.n(s),c=r(5953),l=r.n(c),p=r(85940),d=r(85029),f=r(89702);function g(){return(g=(0,n.Z)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=Object.assign(Object.assign({},e),e.blogger_ameba_id?null:{blogger_ameba_id:""}),a=yield(0,f.Z)("getRaichoSpot",r,t);return a.data}))).apply(this,arguments)}var v=r(37870),y=r(9325),b=r(70317),h=r(90926),w=r(30434);r O=function P(){var e=window.localStorage.getItem(p.cc)||"[]";try{e=JSON.parse(e)}catch(t){e=[]}return e}function j(e){window.localStorage.setItem(p.cc,JSON.stringify(e))}(0,i.H)((e=>function(){var t=(0,n.Z)((function*(t,r){try{var a=JSON.parse(window.localStorage.getItem(p.oX)),n=(0,v.ZM)(u()(r(),["landingState","referrer"],null)),o=u()(r(),["bloggerState","bloggerMap",e,"attribute","isOfficial"],!0)?p.yT:p.DB,i=a?a.value:p.Xx,s=-1!==P().indexOf(e)?p.qq:p.C3,c=(0,y.nk)()%p.l4;return t(O(S(S({},i),{},{[p.ej]:o,[p.BB]:n,[p.nw]:s,[p.jm]:c})))}catch(l){return null}}));return function(e,r){return t.apply(this,arguments)}}())),(0,i.H)((()=>function(){var e=(0,n.Z)((function*(e,t){try{var r=u()(t(),["approachTypes","attributes"],{}),a=JSON.parse(window.localStorage.getItem(p.oX)),n=a?a.value:{};return e(O(S(S({},r),n)))}catch(o){return null}}));return function(t,r){return e.apply(this,arguments)}}()));var I=()=>o.parse(document.cookie).P||null,_=T=(0,i.H)((e=>function(){var t=(0,n.Z)((function*(t,r){var{landingState:a}=r();try{if(!_())return null;t({type:w.xA});var n=r(),o=u()(a,["blogger","amebaId"]),i=u()(a,["referrer"]),s=u()(n,["deviceState","osName"],""),c={token:(0,d.R)(n),spot:"GK8VhR89",rver:1,uid:{lance:I()},blogger_ameba_id:e,landing_blogger_ameba_id:o,landing_route:i,os:s.toLowerCase()},f=yield c);if(!f||200!==f.status)throw new Error("Failed fetchApproachTypesRequest");var v=u()(f,["userAttr"],{}),{status:y,errMessage:m,classified:O}=v;if(200!==y)throw new Error(m);var T=l()(O,(e=>{var t=Number(e);return Number.isNaN(t)?e:t}));yield t((0,h.wn)());var A={[p.nl]:(0,b.jl)(r())?p.H:p._r};window.localStorage.setItem(p.oX,JSON.stringify({value:S(S({},T),A)}));var B=P(),N=T[p.PE],E=B.indexOf(e);return N===p.JX&&-1===E?j(B=[...B,e]):N!==p.JX&&-1!==E&&(B.splice(E,1),j(B)),t({type:w.tG})}catch(H){return t({type:w.If})}}));return ()))}}]);