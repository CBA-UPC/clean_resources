(()=>{var e={109:(e,t)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.q={DMPWeight:1,onetrustToDMPMapping:{C0001:1,C0002:2,C0003:2,C0004:3},DMPWeightConsentAll:3,weightsToModes:{1:"opt-out",2:"essential",3:"opt-in"},hookIntoOneTrust:function(){console.log("PMC: Cxense:","Consent Initialization.."),window.pmc.hooks.add_action("pmc_onetrust_consent_data_ready",this.determineDMPMode.bind(this))},determineDMPMode:function(e){var t,r=e.groupsConsentedTo,o=this;if(console.log("PMC: Cxense:","pmc_onetrust_consent_data_ready","OneTrust groups consented to",r),0<r.length){var i=r.length>=Object.keys(o.onetrustToDMPMapping).length,s=r.filter((function(e){return o.onetrustToDMPMapping[e]})).map(();o.DMPWeight=Math.max.apply(Math,(t=s,t)||t)||t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([i?o.DMPWeightConsentAll:o.DMPWeight])),console.log("PMC: Cxense:","DMPWeight",o.DMPWeight)}window.cX.callQueue.push(["invoke",o.setDMPMode.bind(o)])},setDMPMode:function(){var e;window.pdl=window.pdl||{},window.pdl.requireConsent=!0,["ESP","Social Flow","COMPOSER","ID","PA","VX","DL"].forEach((),window.cX.consent.set("DMP",{mode:null!==(e=this.weightsToModes[this.DMPWeight])&&void 0!==e?e:"opt-out"}),console.log("PMC: Cxense:","cX.consent.get()",window.cX.consent.get())}}},293:(e,t,n)=>{var r;,l=n(109).q,d=window.cX=window.cX||{};window.cookie3PSupported=null,window.cxpmc={custom_parameters:pmc_cxense_data.custom_parameters,initialized:!1,is_proxied:!1,modules:pmc_cxense_data.modules,page_location:pmc_cxense_data.page_location,paywall_parameters:pmc_cxense_data.paywall_parameters,site_id:pmc_cxense_data.site_id,current_url:window.location.href,utms:null===(r=window)||void 0===r||null===(r=r.pmc)||void 0===r||null===(r=r.tracking)||void 0===r?void 0:r.get_properties_string(),get_page_location:function(){var e,t=this.current_url;return this.page_location.length&&(t=this.page_location),e=/#/i.test(t),this.utms&&e&&(t=t.split("#")[0]+(window.location.search?"&":"?")+this.utms),this.is_proxied?pmc.reverse_proxy_url(t):t},get_page_view_parameters:function(){return["sendPageViewEvent",null,null,{location:this.get_page_location()}]},initialize:function(){var e=this;window.pmc.is_proxied()&&(e.is_proxied=!0,e.page_location=e.get_page_location()),e.set_user_default_data();var t=new Promise((function(e,t){window.pmc.subscription_v2.on_subscriber_data_loaded((,()}));Promise.all([t]).then((function(t){try{var n,r=s(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;"object"===i(o)&&e.subscriber.check_subscriber_data(o)}}catch(e){r.e(e)}finally{r.f()}}catch(e){console.log("Error loading subscriber_data "+e)}e.run(),e.load_modules()})),e.initialized=!0},load_cce:function(e){var t=document.createElement("script");t.type="text/javascript",t.async="async",t.src="https://scdn.cxense.com/cx.cce.js",t.onload=e,t.onerror=document.getElementsByTagName("head")[0].appendChild(t)},load_modules:function(){this.modules.length&&this.modules.forEach((function(e){document.getElementById(e.targetElementId)&&d.CCE.callQueue.push(["run",e,{context:{url:window.cxpmc.get_page_location()}}])}))},shouldSendPageView:function(){var e=new URL(this.get_page_location()),t=!0,n=new URLSearchParams(e.search),r=n.has("pmc_sitemap"),o=n.has("preview");return(r||o)&&(t=!1),t},report_gallery_pv:function(){d.callQueue.push(["initializePage"]),this.run()},run:function(){this.site_id.length&&(this.update_custom_parameters(),d.callQueue.push(["setSiteId",this.site_id]),Object.keys(this.custom_parameters).length&&d.callQueue.push(["setCustomParameters",JSON.parse(JSON.stringify(this.custom_parameters))]),this.shouldSendPageView()&&d.CCE.callQueue.push(this.get_page_view_parameters()))},update_custom_parameters:function(){if(this.custom_parameters["pmc-logged-in"]=this.subscriber.logged_in,this.custom_parameters["pmc-subscriber-type"]=this.subscriber.subscriber_type,this.custom_parameters["pmc-concurrency_rest"]=this.subscriber.concurrency_restricted,this.utms){var e,t=s(new URLSearchParams(this.utms).entries());try{for(t.s();!(e=t.n()).done;){var n=o(e.value,2),r=n[0],i=n[1];this.custom_parameters[r]=i}}catch(e){t.e(e)}finally{t.f()}}},set_user_default_data:days_ago:function(e){var t=new Date(e),n=new Date;return parseInt((n-t)/864e5,10)},subscriber:{logged_in:"no",subscriber_type:"free",concurrency_restricted:"no",object_combine:check_subscriber_data:function(e){var t;if(this.logged_in="yes",window.pmc.subscription_v2.has_entitlements()&&this.translate_subscriber_entitlements(e.user.entitlements),null!==(t=e.session)&&void 0!==t&&t.hasOwnProperty("concurrency_restricted")&&!0===e.session.concurrency_restricted&&(this.concurrency_restricted="yes"),e.user.hasOwnProperty("acct")){var n={},r={};if(e.user.acct.hasOwnProperty("type")&&null!==e.user.acct.type&&(r.pmc_account_type=e.user.acct.type),e.user.acct.hasOwnProperty("contact_id")&&null!==e.user.acct.contact_id&&(n={id:e.user.acct.contact_id,type:"pmc"}),window.pmc.subscription_v2.is_registered_user()){var o=window.pmc.subscription_v2.get_registered_user_data();r.pmc_campaign=o.cam,r.pmc_reg_date=o.date,r.pmc_days_since_reg=window.cxpmc.days_ago(o.date)}n=this.object_combine(n,r),window.cxpmc.custom_parameters=this.object_combine(window.cxpmc.custom_parameters,r),d.callQueue.push(["addExternalId",n]),d.callQueue.push(["setUserProfileParameters",n]),d.callQueue.push(["sendEvent","user-login",n])}},pmc_hook_helper_functions:function(e){return{entitlements:e,has:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(){return n.filter(().length===n.length}},or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return t.filter(().length>0}},exec:function(e){var t;return null===(t=Object.entries(e).filter((function(e){var t=o(e,2);return t[0],(0,t[1])()})))||void 0===t||null===(t=t.pop())||void 0===t?void 0:t.shift()}}},translate_subscriber_entitlements:function(e){this.subscriber_type=pmc.hooks.apply_filters("cxense_entitlements",this.subscriber_type,this.pmc_hook_helper_functions(e))}}},d.callQueue=d.callQueue||[],d.CCE=d.CCE||{},d.CCE.callQueue=d.CCE.callQueue||[],window.shouldCxensePollActivity=function(){var e=!1;d.hasConsent("pv")&&(e=!0),d.callQueue.push(["shouldPollActivity",e])},window.initialize_cxense=function(){l.hookIntoOneTrust(),window.cxpmc.load_cce(()},window.cxense_dependencies_exist=function(){return void 0!==window.pmc&&void 0!==window.pmc.subscription_v2&&"undefined"!=typeof pmc_fastly_geo_data},cxense_dependencies_exist()?initialize_cxense(window.cxpmc):u=window.setInterval((function(){cxense_dependencies_exist()&&(window.clearInterval(u),initialize_cxense(window.cxpmc))}),500),e.exports=window.cxpmc,window.testCookieSupport=function(){if(null===window.cookie3PSupported){var e=document.createElement("iframe");e.id="3pc",e.src="https://subscriptions-static.pmc.com/cookies/read-cookie.html",e.style.display="none",e.style.position="fixed",e.setAttribute("sandbox","allow-same-origin allow-scripts"),document.body.appendChild(e),window.addEventListener("message",(function(e){"https://subscriptions-static.pmc.com"===e.origin&&("3pc.supported"!==e.data&&"3pc.unsupported"!==e.data||(window.cookie3PSupported="3pc.supported"===e.data))}),!1)}},window.sendGAEvent=function(e,t,n){window.ga&&ga("send","event",e,t,n),"undefined"!=typeof gtag&&gtag("event",String(e+"-"+t).substring(0,39),{eventCategory:String(e).substring(0,99),eventAction:String(t).substring(0,99),eventLabel:String(n).substring(0,99)})},window.loginRedirectUrl=function(e,t){var n=document.querySelector(e);if(null!=n&&n.href){var r=new URL(n.href),o=new URLSearchParams(r.search),i=o.get("returnTo");return i&&(-1===i.indexOf("?")?i+="?utm_source=cxense":i+="&utm_source=cxense",o.set("returnTo",i),r.search=o.toString()),r.toString()}return t}}},t={};!293)})();