/**
 * Copyright 2019 Adobe. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */

!function(){"use strict";if(document.documentMode&&document.documentMode<11)console.warn("The Adobe Experience Cloud Web SDK does not support IE 10 and below.");else{var e="Chrome",n="Edge",t="EdgeChromium",r="Unknown",o=i=[e,n,t,"IE",r],a=function(e){return o(i,e)},c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,d=)?Object.assign:f=d,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g=Ei((),p={get:g.get,set:g.set,remove:g.remove};p.get,p.set,p.remove;var v=m=h=y=w=b=C=E=),I=D=R=k=S=O="BODY",P="IFRAME",x="IMG",q="STYLE",N="SCRIPT",A=M=function(e){return"function"==typeof e},T=j=U=/^\s*>/,L=B=F=":shadow",_=H=V=z=J={childList:!0,subtree:!0},W=Q=X=function(e){return M(e.MutationObserver)},$=Y=function(e){return"visible"===e.visibilityState},G=K=Z=ee=ne={name:"Adobe Alloy"},te={style:{display:"none",width:0,height:0}},re=oe=ie=ae="com.adobe.alloy.",ce=ae+"getTld",ue=se=de=fe=le=ge=function(e){return"boolean"==typeof e},pe=ve=me=he=ye=function(){},we=be=Ce=Ee=Ie=De=Ei(();De.decode,De.parse,De.encode,De.stringify;for(var Re=ke=Se=Oe=Pe=xe=qe=Ei((),Ne=[],Ae=0;Ae<256;++Ae)Ne[Ae]=(Ae+256).toString(16).substr(1);var Me=Te=je=Ue=Le=Be=function(e,n){return Le(ge(e),e,n,"true or false"),e},Fe=function(e,n){return Le(M(e),e,n,"a function"),e},_e=He=Ve=ze=/^[a-z0-9.-]{1,}$/i,Je=We=function(e,n){return Le(ve(e),e,n,"an integer"),e},Qe=function(e,n){return Le(pe(e),e,n,"a number"),e},Xe=$e=Ye=Ge=function(e){return e};Ge.default=Ge.required=function(){return je(this,$e)};var Ke=function(){return Ue(this,Je)},Ze=function(e){return Ue(this,_e("an integer",e))},en=nn=tn=function(){return Ue(this,He("a non-empty string"))},rn=function(){return Ue(this,He("a non-empty array"))},on=an=function(){return Ue(this,Xe)},cn=un=sn=bind(Ge),dn=function(){return Ue(this,Ge)}.bind(Ge),fn=bind(Ge),ln=function(){return Ue(this,Be)}.bind(Ge),gn=bind(Ge),pn=bind(Ge);(.bind(Ge);var vn=bind(Ge),mn=bind(Ge),hn=bind(Ge),yn=wn=vn(fn(mn({authenticatedState:yn("ambiguous","authenticated","loggedOut"),id:hn(),namespace:mn({code:hn()}).noUnknownFields(),primary:ln(),xid:hn()}).noUnknownFields()).required()),bn=mn({}),Cn=En=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick"],In=Dn=Rn=kn="in",Sn="pending",On="general",Pn="declinedConsent",xn="default",qn="initial",Nn="new",An=Mn=Tn=jn="configure",Un="setDebug",Ln=Bn=function(e){var n=e.eventManager,t=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return {options:e})},run:,applyResponse:{documentationUri:"",optionsValidator:run:}}};Bn.namespace="DataCollector",Bn.configValidators={};var Fn=_n={clickCollectionEnabled:ln().default(!0),downloadLinkQualifier:hn().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$"),onBeforeLinkClickSend:gn()},Hn=Vn=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,zn=Jn=Wn=/^(HEADER|MAIN|FOOTER|NAV)$/i,Qn=Xn=$n={window:window,getLinkName:getLinkRegion:getAbsoluteUrlFromAnchorElement:findSupportedAnchorElement:determineLinkType:),Yn=Yn.namespace="ActivityCollector",Yn.configValidators=_n,Yn.buildOnInstanceConfiguredExtraParams=var Gn,Kn,Zn,et=nt={thirdPartyCookiesEnabled:ln().default(!0),idMigrationEnabled:ln().default(!0)},tt=mn({namespaces:fn(pn("ECID")).nonEmpty().uniqueItems().default(["ECID"]),edgeConfigOverrides:bn}).noUnknownFields().default({namespaces:["ECID"]}),rt=mn({url:hn().required().nonEmpty(),edgeConfigOverrides:bn}).required().noUnknownFields(),ot=it=at="ECID",ct=ut=(Gn=Zn=new Map,,st=dt=ft=lt=gt=pt=vt=mt=ht="clientId",yt=wt=bt=/^([^?#]*)(\??[^#]*)(#?.*)$/,Ct=function(e){var n=e.config,t=e.logger,r=e.consent,o=e.fireReferrerHideableImage,i=e.sendEdgeNetworkRequest,c=e.apexDomain,u=n.orgId,s=n.thirdPartyCookiesEnabled,d=n.edgeConfigOverrides,l={config:n,getEcidFromVisitor:it({logger:t,orgId:u,awaitVisitorOptIn:ot}),apexDomain:c,cookieJar:C({logger:t,cookieJar:p}),isPageSsl:"https:"===window.location.protocol}),g=de({orgId:u}),v={sendEdgeNetworkRequest:i,createIdentityRequestPayload:wt,createIdentityRequest:yt,globalConfigOverrides:d}),m={thirdPartyCookiesEnabled:s,areThirdPartyCookiesSupportedByDefault:a}),h={getLegacyEcid:l.getEcid,addEcidToPayload:st}),y={locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:u,logger:t}),w={doesIdentityCookieExist:g,orgId:u}),b={doesIdentityCookieExist:g,setDomainForInitialIdentityPayload:m,addLegacyEcidToPayload:h,awaitIdentityCookie:w,logger:t}),E={fireReferrerHideableImage:o,logger:t}),I={processIdSyncs:E}),D={dateProvider:orgId:u,globalConfigOverrides:d});return {addEcidQueryToPayload:ct,addQueryStringIdentityToPayload:y,ensureSingleIdentity:b,setLegacyEcid:l.setEcid,handleResponseForIdSyncs:I,getEcidFromResponse:dt,getIdentity:v,consent:r,appendIdentityToUrl:D,logger:t,config:n})};Ct.namespace="Identity",Ct.configValidators=nt;var Et=It=Dt=Dt.namespace="Audiences",Dt.configValidators={};var Rt,kt="web",St="://",Ot=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Pt=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,xt=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,qt=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Nt=At=Mt=Tt=jt="__view__",Ut="https://ns.adobe.com/personalization/default-content-item",Lt="https://ns.adobe.com/personalization/dom-action",Bt="https://ns.adobe.com/personalization/html-content-item",Ft="https://ns.adobe.com/personalization/redirect-item",_t=Ht=Vt={propositions:[]},zt=Jt=Wt=Ei((})),Qt=/:eq\((\d+)\)/g,X},$t=/(#|\.)(-?\w+)/g,Y},G},K},Z},e},nr=function(e,n){return e.getAttribute(n)},tr=function(e){return e.parentNode},r},o},ir=function(e){var n=e.childNodes;return n?j(n):[]},ar=function(e){return e.firstElementChild},c},ur="alloy-prehiding",sr={},d},f},l},g},pr="src",v},m},h},y},wr=setTimeout;Ti.prototype.catc},Ti.prototype.the},Ti.prototype.finall},Ti.al},Ti.resolv},Ti.rejec},Ti.rac},Ti._immediateFn="function"==typeof setImmediate}||function(e){wr(e,0)},Ti._unhandledRejectionF};var br,Cr=(br=Object.freeze({__proto__:null,default:Ti}))&&br.default||br,Er="undefined"!=typeof window&&window.Promise||void 0!==l&&l.Promise||Cr.default||Cr,I},D},R},k},S},O},P},x},qr=function(e,n){var t=Jt(n);yr(t);var r=ir(t),o=Sr(t),i=Or(t);return mr(t),r.forEach((function(n){R(e,n)})),Pr(e,o),xr(i)},N},A},Mr=function(e,n){var t=Jt(n);yr(t);var r=ir(t),o=Sr(t),i=Or(t);return mr(t),r.forEach((function(n){or(e,n)})),Pr(e,o),xr(i)},T},j},Ur=["priority"],L},B},F},_},H},V},z},Jr}],W},Qr="display",Xr="interact",$r=function(e){return e},Y},G},K},Z},e},n},t},r},o},i},a},c},u},s},f},l},g},p},v},mo=[Lt,Bt],h},y};yo.namespace="Personalization",yo.configValidators={prehidingStyle:hn().nonEmpty(),targetMigrationEnabled:ln().default(!1)};var wo,bo="2.16.0",Co=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]],E}(window),I}(window),D}(window),Ro=(wo=function(){return new Date}),k}((function(){return new Date})),So={web:Eo,device:Io,environment:Do,placeContext:Ro},Oo={highEntropyUserAgentHint}(navigator)},Po=Di(Di({},So),Oo),xo=[k}],q};qo.namespace="Context",qo.configValidators={context:fn(hn()).default(Object.keys(So))};var N},A},Mo=["standard","version"],T},j},Uo=function(e){return lt({payload:e,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},L},Bo=mn({consent:fn(dn()).required().nonEmpty(),identityMap:wn,edgeConfigOverrides:bn}).noUnknownFields().required(),Fo=function(e){var n,t,r=e.config,o=e.consent,i=e.sendEdgeNetworkRequest,a=e.createNamespacedStorage,c=r.orgId,u=r.defaultConsent,}({parseConsentCookie:Lo,orgId:c,cookieJar:p}),d=(n=0,t=Promise.resolve(),{addTas},get length(){return n}}),}({createConsentRequestPayload:jo,createConsentRequest:Uo,sendEdgeNetworkRequest:i,edgeConfigOverrides:r.edgeConfigOverrides}),}({storage:a(ue(c)+".consentHashes.").persistent}),g=de({orgId:c});retur}({storedConsent:s,taskQueue:d,defaultConsent:u,consent:o,sendSetConsentRequest:f,validateSetConsentOptions:Bo,consentHashStore:l,doesIdentityCookieExist:g})};Fo.namespace="Privacy";var _},H};Ho.namespace="EventMerge",Ho.configValidators={};var V};Vo.namespace="LibraryInfo";var z},J};Jo.namespace="MachineLearning",Jo.configValidators={};var Wo,Qo,Xo=[Bn,Yn,Ct,Dt,yo,qo,Fo,Ho,Vo,Jo],$},Y},G},K},Zo="Event was canceled because the onBeforeEventSend callback returned false.",e},n},t},ri="The server responded with a",o},ii=[429,503,502,504],a},c},ui=(Wo=windo}),si=window,di=si.console,fi=si.fetch,li=si.navigator,gi=si.XMLHttpRequest,pi=function(){return window.__alloyMonitors||[]},vi={debugEnabled:ln().default(!1),defaultConsent:yn(kn,"out",Sn).default(kn),edgeConfigId:hn().unique().required(),edgeDomain:hn().domain().default("edge.adobedc.net"),edgeBasePath:hn().nonEmpty().default("ee"),orgId:hn().unique().required(),onBeforeEventSend:gn().default(ye),edgeConfigOverrides:bn},m}(window,p),hi=M(fi}({fetch:fi}}({XMLHttpRequest:gi}),y}(),w}({window:window,createNamespacedStorage:ui}),bi=function(e){var n=e.instanceName,t=e.logController,r=t.setDebugEnabled,o=t.logger,i=t.createComponentLogger,a=Rn(),c=In(a),u=C({logger:o,cookieJar:p}),s=Go({errorPrefix:"["+n+"]",logger:o}),}({logger:o,configureCommand:function(e){var t=$o({options:e,componentCreators:Xo,coreConfigValidators:vi,createConfig:Yo,logger:o,setDebugEnabled:r}),s=t.orgId,d=t.targetMigrationEnabled,f=ei({orgId:s,targetMigrationEnabled:d}),}({cookieJar:u,shouldTransferCookie:f,apexDomain:mi,dateProvider:function(){return new Date}}),g=M(li.sendBeacon}({sendBeacon:li.sendBeacon.bind(li),sendFetchRequest:hi,logger:o}):hi,}({logger:o,sendFetchRequest:hi,sendBeaconRequest:g,isRequestRetryable:ai,getRequestRetryDelay:ci}),}({logger:o}),}({logger:o}),}({extractEdgeInfo:h}),w=oi({orgId:s,cookieJar:p}),}({config:t,lifecycle:c,cookieTransfer:l,sendNetworkRequest:v,createResponse:y,processWarningsAndErrors:m,getLocationHint:w,getAssuranceValidationTokenParams:wi}),}({lifecycle:c,cookieTransfer:l,createResponse:y,processWarningsAndErrors:m}),}({generalConsentState:Mn({logger:o}),logger:o}),}({config:t,logger:o,lifecycle:c,consent:I,createEvent:Tn,createDataCollectionRequestPayload:mt,createDataCollectionRequest:gt,sendEdgeNetworkRequest:C,applyResponse:E});retur}({componentCreators:Xo,lifecycle:c,componentRegistry:a,getImmediatelyAvailableTool}})},setDebugComman},handleError:s,validateCommandOptions:Ln});return d};(Qo=window.__alloyNS)&&Qo.forEach})