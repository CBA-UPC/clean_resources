"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[142],{1142:(e,t,n)=>{n.r(t),n.d(t,{Aggregate:);var i=n(9599),r=n(5277),s=n(4539),o=n(5569),h=n(6621),a=n(5970),c=n(8025),d=n(8438);class u extends c.W{constructor(e,t){var n;super(e,t),n=this,this.eventsPerMinute=240,this.harvestTimeSeconds=(0,a.Mt)(this.agentIdentifier,"ins.harvestTimeSeconds")||30,this.eventsPerHarvest=this.eventsPerMinute*this.harvestTimeSeconds/60,this.referrerUrl,this.currentEvents,this.events=[],this.att=(0,a.C5)(this.agentIdentifier).jsAttributes,d.il&&document.referrer&&(this.referrerUrl=(0,h.f)(document.referrer)),(0,s.X)("api-addPageAction",(function(){return n.addPageAction(...arguments)}),void 0,this.ee);var i=new o.o("ins",{onFinished:function(){return n.onHarvestFinished(...arguments)}},this);i.harvest.on("ins",(),i.startTimer(this.harvestTimeSeconds,0),this.ee.on("block-ins",(()=>{this.blocked=!0,i.harvest.stopTimer()}))}onHarvestStarted(e){const{userAttributes:t,atts:n}=(0,a.C5)(this.agentIdentifier);var i={qs:{ua:t,at:n},body:{ins:this.events}};return e.retry&&(this.currentEvents=this.events),this.events=[],i}onHarvestFinished(e){e&&e.sent&&e.retry&&this.currentEvents&&(this.events=this.events.concat(this.currentEvents),this.currentEvents=null)}}}]);