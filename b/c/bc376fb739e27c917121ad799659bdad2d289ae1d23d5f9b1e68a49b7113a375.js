(()=>{var FW=Object.defineProperty,WW=Object.defineProperties;var jW=Object.getOwnPropertyDescriptors;var lc=Object.getOwnPropertySymbols;var Db=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable;var Mb=(Nn,Un,je)=>Un in Nn?FW(Nn,Un,{enumerable:!0,configurable:!0,writable:!0,value:je}):Nn[Un]=je,Wn=(Nn,Un)=>{for(var je in Un||(Un={}))Db.call(Un,je)&&Mb(Nn,je,Un[je]);if(lc)for(var je of lc(Un))Ab.call(Un,je)&&Mb(Nn,je,Un[je]);return Nn},zo=(Nn,Un)=>WW(Nn,jW(Un));var lo=(Nn,Un)=>{var je={};for(var ra in Nn)Db.call(Nn,ra)&&Un.indexOf(ra)<0&&(je[ra]=Nn[ra]);if(Nn!=null&&lc)for(var ra of lc(Nn))Un.indexOf(ra)<0&&Ab.call(Nn,ra)&&(je[ra]=Nn[ra]);return je};var VW=var wl=(Nn,Un,je)=>new Promise((ra,H)=>{var E=f=>{try{t(je.next(f))}catch(s){H(s)}},e=f=>{try{t(je.throw(f))}catch(s){H(s)}},t=t((je=je.apply(Nn,Un)).next())});var KW=VW(Rf=>{(();var HW=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};HW.SENTRY_RELEASE={id:"substack@9ed60d2"};(()=>{var Nn={28599:H=>{"use strict";const{AbortController:E,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;H.exports=E,H.exports.AbortSignal=e,H.exports.default=E},21924:55559:(H,E,e)=>{"use strict";var t=e(58612),f=e(40210),s=e(67771),g=f("%TypeError%"),P=f("%Function.prototype.apply%"),y=f("%Function.prototype.call%"),C=f("%Reflect.apply%",!0)||t.call(y,P),u=f("%Object.defineProperty%",!0),p=f("%Math.max%");if(u)try{u({},"a",{value:1})}catch(w){u=null}H.exports=var d=u?u(H.exports,"apply",{value:d}):H.exports.apply=d},94184:(H,E)=>{var e,t;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(()},98767:H=>{H.exports=E;function E(t){if(t)return e(t)}.prototype.on=E.prototype.addEventListener=E.prototype.once=E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=E.prototype.emit=E.prototype.listeners=E.prototype.hasListeners=,27484:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E="millisecond",e="second",t="minute",f="hour",s="day",g="week",P="month",y="quarter",C="year",u="date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},D=M={s:D,z:m:a:p:u:,c="en",l={};l[c]=w;var i=function(S){return S instanceof I},v=O=T=M;T.l=v,T.i=i,T.w=var I=function(){ar N=S.prototype;return N.parse=N.init=N.$utils=function(){return T},N.isValid=N.isSame=N.isAfter=N.isBefore=N.$g=N.unix=N.valueOf=function(){return this.$d.getTime()},N.startOf=N.endOf=N.$set=N.set=function(R,U){return this.clone().$set(R,U)},N.get=N.add=N.subtract=N.format=N.utcOffset=N.diff=N.daysInMonth=N.$locale=N.locale=N.clone=N.toDate=N.toJSON=N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},S}(),L=I.prototype;return O.prototype=L,[["$ms",E],["$s",e],["$m",t],["$H",f],["$W",s],["$M",P],["$y",C],["$D",u]].forEach(,O.extend=O.locale=v,O.isDayjs=i,O.unix=O.en=l[c],O.Ls=l,O.p={},O})},80790:function(H,E,e){(function(t,f){H.exports=f(e(27484))})(this,},67763:function(H,E,e){(function(t,f){H.exports=f(e(27484))})(this,},96023:function(H,E,e){(function(t,f){H.exports=f(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var f={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(s){return""+s+(s===1?"er":"")}};return t.locale(f,null,!0),f})},15551:function(H,E,e){(function(t,f){H.exports=f(e(27484))})(this,},15001:function(H,E,e){(function(t,f){H.exports=f(e(27484))})(this,},28734:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var f=e.prototype,s=f.format;t.en.ordinal=f.format=function(g){var P=this,y=this.$locale(),C=this.$utils(),u=(g||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,;return s.bind(this)(u)}}})},90850:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var f=e.prototype,s=f.parse;f.parse=function(g){g.date=function(P){var y=P.date,C=P.utc;return Array.isArray(y)?C?y.length?new Date(Date.UTC.apply(null,y)):new Date:y.length===1?t(String(y[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(y))):y}.bind(this)(g),s.bind(this)(g)}}})},94712:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var f="h:mm A",s={lastDay:"[Yesterday at] "+f,sameDay:"[Today at] "+f,nextDay:"[Tomorrow at] "+f,nextWeek:"dddd [at] "+f,lastWeek:"[Last] dddd [at] "+f,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(g,P){var y=P||this.$locale().calendar||s,C=t(g||void 0).startOf("d"),u=this.diff(C,"d",!0),p=u<-6?"sameElse":u<-1?"lastWeek":u<0?"lastDay":u<1?"sameDay":u<2?"nextDay":u<7?"nextWeek":"sameElse",d=y[p]||s[p];return typeof d=="function"?d.call(this,t()):this.format(d)}}})},10285:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,f=/\d\d/,s=/\d\d?/,g=/\d*[^\s\d-_:/()]+/,P={},y=C=[/[+-]\d\d:?(\d\d)?/,function(D){(this.zone||(this.zone={})).offset=function(M){if(!M)return 0;var c=M.match(/([+-]|\d\d)/g),l=60*c[1]+(+c[2]||0);return l===0?0:c[0]==="+"?-l:l}(D)}],u=p=d={A:[g,function(D){this.afternoon=p(D,!1)}],a:[g,,S:[/\d/,function(D){this.milliseconds=100*+D}],SS:[f,,SSS:[/\d{3}/,,s:[s,y("seconds")],ss:[s,y("seconds")],m:[s,y("minutes")],mm:[s,y("minutes")],H:[s,y("hours")],h:[s,y("hours")],HH:[s,y("hours")],hh:[s,y("hours")],D:[s,y("day")],DD:[f,y("day")],Do:[g,,M:[s,y("month")],MM:[f,y("month")],MMM:[g,,MMMM:[g,,Y:[/[+-]?\d+/,y("year")],YY:[f,,YYYY:[/\d{4}/,y("year")],Z:C,ZZ:C},w=function(D,M,c){try{var l=function(Z){for(var q=(Z=e(Z,P&&P.formats)).match(t),V=q.length,j=0;j<V;j+=1){var Y=q[j],ie=d[Y],ce=ie&&ie[0],de=ie&&ie[1];q[j]=de?{regex:ce,parser:de}:Y.replace(/^\[|\]$/g,"")}return (M)(D),i=l.year,v=l.month,O=l.day,T=l.hours,I=l.minutes,L=l.seconds,S=l.milliseconds,N=l.zone,R=new Date,U=O||(i||v?1:R.getDate()),W=i||R.getFullYear(),K=0;i&&!v||(K=v>0?v-1:R.getMonth());var G=T||0,re=I||0,$=L||0,F=S||0;return N?new Date(Date.UTC(W,K,U,G,re,$,F+60*N.offset*1e3)):c?new Date(Date.UTC(W,K,U,G,re,$,F)):new Date(W,K,U,G,re,$,F)}catch(Z){return new Date("")}};return function(D,M,c){c.p.customParseFormat=!0;var l=M.prototype,i=l.parse;l.parse=function(v){var O=v.date,T=v.utc,I=v.args;this.$u=T;var L=I[1];if(typeof L=="string"){var S=I[2]===!0,N=I[3]===!0,R=S||N,U=I[2];N&&(U=I[2]),P=this.$locale(),!S&&U&&(P=c.Ls[U]),this.$d=w(O,L,T),this.init(),U&&U!==!0&&(this.$L=this.locale(U).$L),R&&O!==this.format(L)&&(this.$d=new Date("")),P={}}else if(L instanceof Array)for(var W=L.length,K=1;K<=W;K+=1){I[1]=L[K-1];var G=c.apply(this,I);if(G.isValid()){this.$d=G.$d,this.$L=G.$L,this.init();break}K===W&&(this.$d=new Date(""))}else i.call(this,v)}}})},92997:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e){e.prototype.dayOfYear=function(t){var f=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return t==null?f:this.add(t-f,"day")}}})},1646:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E,e,t=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,s={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},g=P=y=C=u=p=d=function(){function w(M,c,l){var i=this;if(this.$d={},this.$l=l,c)return P(M*s[y(c)],this);if(typeof M=="number")return this.$ms=M,this.parseFromMilliseconds(),this;if(typeof M=="object")return Object.keys(M).forEach(,this.calMilliseconds(),this;if(typeof M=="string"){var v=M.match(f);if(v)return this.$d.years=v[2],this.$d.months=v[3],this.$d.weeks=v[4],this.$d.days=v[5],this.$d.hours=v[6],this.$d.minutes=v[7],this.$d.seconds=v[8],this.calMilliseconds(),this}return this}var D=w.prototype;return D.calMilliseconds=D.parseFromMilliseconds=D.toISOString=function(){var M=p(this.$d.years,"Y"),c=p(this.$d.months,"M"),l=+this.$d.days||0;this.$d.weeks&&(l+=7*this.$d.weeks);var i=p(l,"D"),v=p(this.$d.hours,"H"),O=p(this.$d.minutes,"M"),T=this.$d.seconds||0;this.$d.milliseconds&&(T+=this.$d.milliseconds/1e3);var I=p(T,"S"),L=M.negative||c.negative||i.negative||v.negative||O.negative||I.negative,S=v.format||O.format||I.format?"T":"",N=(L?"-":"")+"P"+M.format+c.format+i.format+S+v.format+O.format+I.format;return N==="P"||N==="-P"?"P0D":N},D.toJSON=function(){return this.toISOString()},D.format=D.as=D.get=function(M){var c=this.$ms,l=y(M);return l==="milliseconds"?c%=1e3:c=l==="weeks"?u(c/s[l]):this.$d[l],c===0?0:c},D.add=D.subtract=function(M,c){return this.add(M,c,!0)},D.locale=D.clone=D.humanize=D.milliseconds=function(){return this.get("milliseconds")},D.asMilliseconds=function(){return this.as("milliseconds")},D.seconds=function(){return this.get("seconds")},D.asSeconds=function(){return this.as("seconds")},D.minutes=function(){return this.get("minutes")},D.asMinutes=function(){return this.as("minutes")},D.hours=function(){return this.get("hours")},D.asHours=function(){return this.as("hours")},D.days=function(){return this.get("days")},D.asDays=function(){return this.as("days")},D.weeks=function(){return this.get("weeks")},D.asWeeks=function(){return this.as("weeks")},D.months=function(){return this.get("months")},D.asMonths=function(){return this.as("months")},D.years=function(){return this.get("years")},D.asYears=w}();return )},66607:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){e.prototype.isBetween=function(f,s,g,P){var y=t(f),C=t(s),u=(P=P||"()")[0]==="(",p=P[1]===")";return(u?this.isAfter(y,g):!this.isBefore(y,g))&&(p?this.isBefore(C,g):!this.isAfter(C,g))||(u?this.isBefore(y,g):!this.isAfter(y,g))&&(p?this.isAfter(C,g):!this.isBefore(C,g))}}})},10423:function(H){(function(E,e){H.exports=e()})(this,},79212:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e){e.prototype.isSameOrAfter=function(t,f){return this.isSame(t,f)||this.isAfter(t,f)}}})},37412:function(H){(function(E,e){H.exports=e()})(this,},96671:function(H){(function(E,e){H.exports=e()})(this,},84110:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){E=E||{};var f=e.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};.en.relativeTime=s,f.fromToBase=function(y,C,u,p,d){for(var w,D,M,c=u.$locale().relativeTime||s,l=E.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],i=l.length,v=0;v<i;v+=1){var O=l[v];O.d&&(w=p?t(y).diff(u,O.d,!0):u.diff(y,O.d,!0));var T=(E.rounding||Math.round)(Math.abs(w));if(M=w>0,T<=O.r||!O.r){T<=1&&v>0&&(O=l[v-1]);var I=c[O.l];d&&(T=d(""+T)),D=typeof I=="string"?I.replace("%d",T):I(T,C,O.l,M);break}}if(C)return D;var L=M?c.future:c.past;return typeof L=="function"?L(D):L.replace("%s",D)},f.to=f.from=var P=f.toNow=function(y){return this.to(P(this),y)},f.fromNow=})},29387:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(t,f,s){var g,P=s().utcOffset(),y=function(d,w,D){D===void 0&&(D={});var M=new Date(d);return w,D).formatToParts(M)},C=u=f.prototype;u.tz=function(d,w){d===void 0&&(d=g);var D=this.utcOffset(),M=this.toDate().toLocaleString("en-US",{timeZone:d}),c=Math.round((this.toDate()-new Date(M))/1e3/60),l=s(M).$set("millisecond",this.$ms).utcOffset(P-c,!0);if(w){var i=l.utcOffset();l=l.add(D-i,"minute")}return l.$x.$timezone=d,l},u.offsetName=var p=u.startOf;u.startOf=s.tz=s.tz.guess=s.tz.setDefault=function(d){g=d}}})},70178:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";return function(E,e,t){var f=e.prototype;t.utc=f.utc=f.local=var s=f.parse;f.parse=var g=f.init;f.init=var P=f.utcOffset;f.utcOffset=function(p,d){var w=this.$utils().u;if(w(p))return this.$u?0:w(this.$offset)?P.call(this):this.$offset;var D=Math.abs(p)<=16?60*p:p,M=this;if(d)return M.$offset=D,M.$u=p===0,M;if(p!==0){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(M=this.local().add(D+c,"minute")).$offset=D,M.$x.$localOffset=c}else M=this.utc();return M};var y=f.format;f.format=f.valueOf=f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=var C=f.toDate;f.toDate=var u=f.diff;f.diff=})},55183:function(H){(function(E,e){H.exports=e()})(this,function(){"use strict";var E="week",e="year";return function(t,f,s){var g=f.prototype;g.week=function(P){if(P===void 0&&(P=null),P!==null)return this.add(7*(P-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var C=s(this).startOf(e).add(1,e).date(y),u=s(this).endOf(E);if(C.isBefore(u))return 1}var p=s(this).startOf(e).date(y).startOf(E).subtract(1,"millisecond"),d=this.diff(p,E,!0);return d<0?s(this).startOf("week").week():Math.ceil(d)},g.weeks=})},6833:function(H){((this,},10251:(H,E,e)=>{var t=Array.prototype.slice,f=e(41705),s=e(45539),g=H.exports=function(u,p,d){return d||(d={}),u===p?!0:u instanceof Date&&p instanceof Date?u.getTime()===p.getTime():!u||!p||typeof u!="object"&&typeof p!="object"?d.strict?u===p:u==p:C(u,p,d)};function P(u){return u==null}unction C(u,p,d){var w,D;if(P(u)||P(p)||u.prototype!==p.prototype)return!1;if(s(u))return s(p)?(u=t.call(u),p=t.call(p),g(u,p,d)):!1;if(y(u)){if(!y(p)||u.length!==p.length)return!1;for(w=0;w<u.length;w++)if(u[w]!==p[w])return!1;return!0}try{var M=f(u),c=f(p)}catch(l){return!1}if(M.length!=c.length)return!1;for(M.sort(),c.sort(),w=M.length-1;w>=0;w--)if(M[w]!=c[w])return!1;for(w=M.length-1;w>=0;w--)if(D=M[w],!g(u[D],p[D],d))return!1;return typeof u==typeof p}},45539:(H,E)=>{var e=)=="[object Arguments]";E=H.exports=e?t:f,E.supported=t;.unsupported=f;function f(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},41705:(H,E)=>{E=H.exports=typeof Object.keys=="function"?Object.keys:e,E.shim=e;,9996:H=>{"use strict";var E=function e(i){return!!i&&typeof i=="object"}ar f=typeof Symbol=="function"&&Symbol.for,s=f?Symbol.for("react.element"):60103;=c;H.exports=l},12296:(H,E,e)=>{"use strict";var t=e(31044)(),f=e(40210),s=t&&f("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch(C){s=!1}var g=f("%SyntaxError%"),P=f("%TypeError%"),y=e(27296);H.exports=,65987:H=>{"use strict";var E={single_source_shortest_paths:extract_shortest_path_from_predecessor_list:find_path:PriorityQueue:{make:default_sorter:function(e,t){return e.cost-t.cost},push:pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};H.exports=E},17837:97220:function(H,E,e){"use strict";var t=this&&this.__assign||function(){return t=Object.assign||function(I){for(var L,S=1,N=arguments.length;S<N;S++){L=arguments[S];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(I[R]=L[R])}return I},t.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(I,L,S,N){N===void 0&&(N=S),Object.defineProperty(I,N,{enumerable:!0,get:function(){return L[S]}})}:function(I,L,S,N){N===void 0&&(N=S),I[N]=L[S]}),s=this&&this.__setModuleDefault||(Object.create?function(I,L){I.default=L}),g=this&&this.__importStar||Object.defineProperty(E,"__esModule",{value:!0});var P=g(e(99960)),y=e(45863),C=e(17837),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function p(I,L){if(I)return Object.keys(I).map(function(S){var N,R,U=(N=I[S])!==null&&N!==void 0?N:"";return L.xmlMode==="foreign"&&(S=(R=C.attributeNames.get(S))!==null&&R!==void 0?R:S),!L.emptyAttrs&&!L.xmlMode&&U===""?S:S+'="'+(L.decodeEntities!==!1?y.encodeXML(U):U.replace(/"/g,"&quot;"))+'"'}).join(" ")}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);.default=w;ar M=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),c=new Set(["svg","math"]);function l(I,L){var S;L.xmlMode==="foreign"&&(I.name=(S=C.elementNames.get(I.name))!==null&&S!==void 0?S:I.name,I.parent&&M.has(I.parent.name)&&(L=t(t({},L),{xmlMode:!1}))),!L.xmlMode&&c.has(I.name)&&(L=t(t({},L),{xmlMode:"foreign"}));var N="<"+I.name,R=p(I.attribs,L);return R&&(N+=" "+R),I.children.length===0&&(L.xmlMode?L.selfClosingTags!==!1:L.selfClosingTags&&d.has(I.name))?(L.xmlMode||(N+=" "),N+="/>"):(N+=">",I.children.length>0&&(N+=w(I.children,L)),(L.xmlMode||!d.has(I.name))&&(N+="</"+I.name+">")),N}function i(I){return"<"+I.data+">"}function v(I,L){var S=I.data||"";return L.decodeEntities!==!1&&!(!L.xmlMode&&I.parent&&u.has(I.parent.name))&&(S=y.encodeXML(S)),S}99960:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Doctype=E.CDATA=E.Tag=E.Style=E.Script=E.Comment=E.Directive=E.Text=E.Root=E.isTag=E.ElementType=void 0;var e;((e=E.ElementType||(E.ElementType={}));.isTag=t,E.Root=e.Root,E.Text=e.Text,E.Directive=e.Directive,E.Comment=e.Comment,E.Script=e.Script,E.Style=e.Style,E.Tag=e.Tag,E.CDATA=e.CDATA,E.Doctype=e.Doctype},47915:function(H,E,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(C,u,p,d){d===void 0&&(d=p),Object.defineProperty(C,d,{enumerable:!0,get:function(){return u[p]}})}:function(C,u,p,d){d===void 0&&(d=p),C[d]=u[p]}),f=this&&this.__exportStar||function(C,u){for(var p in C)p!=="default"&&!Object.prototype.hasOwnProperty.call(u,p)&&t(u,C,p)};Object.defineProperty(E,"__esModule",{value:!0}),E.DomHandler=void 0;var s=e(97790);f(e(97790),E);var g=/\s+/g,P={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},y=function(){function C(u,p,d){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof p=="function"&&(d=p,p=P),typeof u=="object"&&(p=u,u=void 0),this._callback=u!=null?u:null,this._options=p!=null?p:P,this._elementCB=d!=null?d:null}return C.prototype.onparserinit=function(u){this._parser=u},C.prototype.onreset=function(){var u;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(u=this._parser)!==null&&u!==void 0?u:null},C.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},C.prototype.onerror=function(u){this.handleCallback(u)},C.prototype.onclosetag=function(){this._lastNode=null;var u=this._tagStack.pop();!u||!this._parser||(this._options.withEndIndices&&(u.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(u))},C.prototype.onopentag=C.prototype.ontext=function(u){var p=this._options.normalizeWhitespace,d=this._lastNode;if(d&&d.type==="text")p?d.data=(d.data+u).replace(g," "):d.data+=u;else{p&&(u=u.replace(g," "));var w=new s.Text(u);this.addNode(w),this._lastNode=w}},C.prototype.oncomment=function(u){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=u;return}var p=new s.Comment(u);this.addNode(p),this._lastNode=p},C.prototype.oncommentend=function(){this._lastNode=null},C.prototype.oncdatastart=C.prototype.oncdataend=function(){this._lastNode=null},C.prototype.onprocessinginstruction=function(u,p){var d=new s.ProcessingInstruction(u,p);this.addNode(d)},C.prototype.handleCallback=function(u){if(typeof this._callback=="function")this._callback(u,this.dom);else if(u)throw u},C.prototype.addNode=C.prototype.addDataNode=C}();E.DomHandler=y,E.default=y},97790:function(H,E){"use strict";var e=this&&this.__extends||),t=this&&this.__assign||function(){return t=Object.assign||function(D){for(var M,c=1,l=arguments.length;c<l;c++){M=arguments[c];for(var i in M)Object.prototype.hasOwnProperty.call(M,i)&&(D[i]=M[i])}return D},t.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.cloneNode=E.Element=E.NodeWithChildren=E.ProcessingInstruction=E.Comment=E.Text=E.DataNode=E.Node=void 0;var f=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),s=function(){function D(M){this.type=M,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(D.prototype,"nodeType",{get:function(){var M;return(M=f.get(this.type))!==null&&M!==void 0?M:1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"parentNode",{get:function(){return this.parent},set:function(M){this.parent=M},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"previousSibling",{get:function(){return this.prev},set:function(M){this.prev=M},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"nextSibling",{get:function(){return this.next},set:function(M){this.next=M},enumerable:!1,configurable:!0}),D.prototype.cloneNode=function(M){return M===void 0&&(M=!1),d(this,M)},D}();E.Node=s;var g=function(D){e(M,D);function M(c,l){var i=D.call(this,c)||this;return i.data=l,i}return Object.defineProperty(M.prototype,"nodeValue",{get:function(){return this.data},set:function(c){this.data=c},enumerable:!1,configurable:!0}),M}(s);E.DataNode=g;var P=function(D){e(M,D);function M(c){return D.call(this,"text",c)||this}return M}(g);E.Text=P;var y=function(D){e(M,D);eturn M}(g);E.Comment=y;var C=function(D){e(M,D);eturn M}(g);E.ProcessingInstruction=C;var u=function(D){e(M,D);function M(c,l){var i=D.call(this,c)||this;return i.children=l,i}return Object.defineProperty(M.prototype,"firstChild",{get:function(){var c;return(c=this.children[0])!==null&&c!==void 0?c:null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"childNodes",{get:function(){return this.children},set:function(c){this.children=c},enumerable:!1,configurable:!0}),M}(s);E.NodeWithChildren=u;var p=function(D){e(M,D);function M(c,l,i){i===void 0&&(i=[]);var v=D.call(this,c==="script"?"script":c==="style"?"style":"tag",i)||this;return v.name=c,v.attribs=l,v.attribs=l,v}return Object.defineProperty(M.prototype,"tagName",{get:function(){return this.name},set:function(c){this.name=c},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"attributes",{get:enumerable:!1,configurable:!0}),M}(u);E.Element=p;function d(D,M){switch(M===void 0&&(M=!1),D.type){case"text":return new P(D.data);case"directive":{var c=D;return new C(c.name,c.data)}case"comment":return new y(D.data);case"tag":case"script":case"style":{var l=D,i=M?w(l.children):[],v=new p(l.name,t({},l.attribs),i);return i.forEach(function(I){return I.parent=v}),v}case"cdata":{var O=D,i=M?w(O.children):[],T=new u("cdata",i);return i.forEach(function(L){return L.parent=T}),T}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}E.cloneNode=d;function w(D){for(var M=D.map(function(l){return d(l,!0)}),c=1;c<M.length;c++)M[c].prev=M[c-1],M[c-1].next=M[c];return M}},16996:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getFeed=void 0;var t=e(43346),f=e(23905);.getFeed=s;unction P(M){var c,l,i=(l=(c=p("channel",M.children))===null||c===void 0?void 0:c.children)!==null&&l!==void 0?l:[],v={type:M.name.substr(0,3),id:"",items:(0,f.getElementsByTagName)("item",M.children).map(};w(v,"title","title",i),w(v,"link","link",i),w(v,"description","description",i);var O=d("lastBuildDate",i);return O&&(v.updated=new Date(O)),w(v,"author","managingEditor",i,!0),v}var y=["url","type","lang"],C=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];ction w(M,c,l,i,v){v===void 0&&(v=!1);var O=d(l,i,v);O&&(M[c]=O)}function D(M){return M==="rss"||M==="feed"||M==="rdf:RDF"}},74975:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.uniqueSort=E.compareDocumentPosition=E.removeSubsets=void 0;var t=e(63317);.removeSubsets=f;function s(P,y){var C=[],u=[];if(P===y)return 0;for(var p=(0,t.hasChildren)(P)?P:P.parent;p;)C.unshift(p),p=p.parent;for(p=(0,t.hasChildren)(y)?y:y.parent;p;)u.unshift(p),p=p.parent;for(var d=Math.min(C.length,u.length),w=0;w<d&&C[w]===u[w];)w++;if(w===0)return 1;var D=C[w-1],M=D.children,c=C[w],l=u[w];return M.indexOf(c)>M.indexOf(l)?D===y?20:4:D===P?10:2}E.compareDocumentPosition=s;function g(P){return P=P.filter(,P.sort(function(y,C){var u=s(y,C);return u&2?-1:u&4?1:0}),P}E.uniqueSort=g},89432:function(H,E,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(g,P,y,C){C===void 0&&(C=y),g[C]=P[y]}),f=this&&this.__exportStar||function(g,P){for(var y in g)y!=="default"&&!Object.prototype.hasOwnProperty.call(P,y)&&t(P,g,y)};Object.defineProperty(E,"__esModule",{value:!0}),E.hasChildren=E.isDocument=E.isComment=E.isText=E.isCDATA=E.isTag=void 0,f(e(43346),E),f(e(85010),E),f(e(26765),E),f(e(98043),E),f(e(23905),E),f(e(74975),E),f(e(16996),E);var s=e(63317);Object.defineProperty(E,"isTag",{enumerable:!0,get:function(){return s.isTag}}),Object.defineProperty(E,"isCDATA",{enumerable:!0,get:function(){return s.isCDATA}}),Object.defineProperty(E,"isText",{enumerable:!0,get:function(){return s.isText}}),Object.defineProperty(E,"isComment",{enumerable:!0,get:function(){return s.isComment}}),Object.defineProperty(E,"isDocument",{enumerable:!0,get:function(){return s.isDocument}}),Object.defineProperty(E,"hasChildren",{enumerable:!0,get:function(){return s.hasChildren}})},23905:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getElementsByTagType=E.getElementsByTagName=E.getElementById=E.getElements=E.testElement=void 0;var t=e(63317),f=e(98043),s={tag_name:tag_type:tag_contains:;stElement=C;.getElements=u;.getElementById=p;function d(D,M,c,l){return c===void 0&&(c=!0),l===void 0&&(l=1/0),(0,f.filter)(s.tag_name(D),M,c,l)}E.getElementsByTagName=d;.getElementsByTagType=w},26765:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.prepend=E.prependChild=E.append=E.appendChild=E.replaceElement=E.removeElement=void 0;.removeElement=e;.replaceElement=t;.appendChild=f;.append=s;.prependChild=g;.prepend=P},98043:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.findAll=E.existsOne=E.findOne=E.findOneChild=E.find=E.filter=void 0;var t=e(63317);function f(u,p,d,w){return d===void 0&&(d=!0),w===void 0&&(w=1/0),Array.isArray(p)||(p=[p]),s(u,p,d,w)}E.filter=f;.find=s;.findOneChild=g;function P(u,p,d){d===void 0&&(d=!0);for(var w=null,D=0;D<p.length&&!w;D++){var M=p[D];if((0,t.isTag)(M))u(M)?w=M:d&&M.children.length>0&&(w=P(u,M.children));else continue}return w}E.findOne=P;.existsOne=y;function C(u,p){for(var d,w=[],D=p.filter(t.isTag),M;M=D.shift();){var c=(d=M.children)===null||d===void 0?void 0:d.filter(t.isTag);c&&c.length>0&&D.unshift.apply(D,c),u(M)&&w.push(M)}return w}E.findAll=C},43346:85010:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.prevElementSibling=E.nextElementSibling=E.getName=E.hasAttrib=E.getAttributeValue=E.getSiblings=E.getParent=E.getChildren=void 0;var t=e(63317),f=[];function s(w){var D;return(D=w.children)!==null&&D!==void 0?D:f}E.getChildren=s;.getParent=g;.getSiblings=P;.getAttributeValue=y;.hasAttrib=C;function u(w){return w.name}E.getName=u;function p(w){for(var D,M=w.next;M!==null&&!(0,t.isTag)(M);)D=M,M=D.next;return M}E.nextElementSibling=p;.prevElementSibling=d},63317:function(H,E,e){"use strict";var t=this&&this.__createBinding||(Object.create?,f=this&&this.__exportStar||Object.defineProperty(E,"__esModule",{value:!0}),E.DomHandler=void 0;var s=e(99960),g=e(50943);f(e(50943),E);var P=/\s+/g,y={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},C=function(){eturn u.prototype.onparserinit=function(p){this.parser=p},u.prototype.onreset=u.prototype.onend=u.prototype.onerror=function(p){this.handleCallback(p)},u.prototype.onclosetag=u.prototype.onopentag=u.prototype.ontext=u.prototype.oncomment=u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=u.prototype.oncdataend=u.prototype.onprocessinginstruction=u.prototype.handleCallback=u.prototype.addNode=u}();E.DomHandler=C,E.default=C},50943:62378:H=>{"use strict";H.exports=,44076:26:87322:45863:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.decodeXMLStrict=E.decodeHTML5Strict=E.decodeHTML4Strict=E.decodeHTML5=E.decodeHTML4=E.decodeHTMLStrict=E.decodeHTML=E.decodeXML=E.encodeHTML5=E.encodeHTML4=E.escapeUTF8=E.escape=E.encodeNonAsciiHTML=E.encodeHTML=E.encodeXML=E.encode=E.decodeStrict=E.decode=void 0;var t=e(44076),f=e(87322);function s(u,p){return(!p||p<=0?t.decodeXML:t.decodeHTML)(u)}E.decode=s;function g(u,p){return(!p||p<=0?t.decodeXML:t.decodeHTMLStrict)(u)}E.decodeStrict=g;.encode=P;var y=e(87322);Object.defineProperty(E,"encodeXML",{enumerable:!0,get:function(){return y.encodeXML}}),Object.defineProperty(E,"encodeHTML",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(E,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return y.encodeNonAsciiHTML}}),Object.defineProperty(E,"escape",{enumerable:!0,get:function(){return y.escape}}),Object.defineProperty(E,"escapeUTF8",{enumerable:!0,get:function(){return y.escapeUTF8}}),Object.defineProperty(E,"encodeHTML4",{enumerable:!0,get:function(){return y.encodeHTML}}),Object.defineProperty(E,"encodeHTML5",{enumerable:!0,get:function(){return y.encodeHTML}});var C=e(44076);Object.defineProperty(E,"decodeXML",{enumerable:!0,get:function(){return C.decodeXML}}),Object.defineProperty(E,"decodeHTML",{enumerable:!0,get:function(){return C.decodeHTML}}),Object.defineProperty(E,"decodeHTMLStrict",{enumerable:!0,get:function(){return C.decodeHTMLStrict}}),Object.defineProperty(E,"decodeHTML4",{enumerable:!0,get:function(){return C.decodeHTML}}),Object.defineProperty(E,"decodeHTML5",{enumerable:!0,get:function(){return C.decodeHTML}}),Object.defineProperty(E,"decodeHTML4Strict",{enumerable:!0,get:function(){return C.decodeHTMLStrict}}),Object.defineProperty(E,"decodeHTML5Strict",{enumerable:!0,get:function(){return C.decodeHTMLStrict}}),Object.defineProperty(E,"decodeXMLStrict",{enumerable:!0,get:function(){return C.decodeXML}})},14531:82626:(H,E,e)=>{"use strict";e.d(E,{Substitutions:()=>t});const t={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",SUBSCRIBE_URL:"%%subscribe_url%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACTIVITY_PAGE_URL:"%%activity_page_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",LEADERBOARD_URL:"%%leaderboard_url%%",SURVEY_TOKEN:"%%survey_token%%",SURVEY_URL_PREFIX:"%%survey_url_prefix%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(H,E,e)=>{"use strict";e.d(E,{B8:()=>re,BZ:()=>K,I:()=>T,O1:()=>$,Po:()=>G,Ui:()=>U,Vn:()=>R,WZ:()=>W,Wn:()=>I,b6:()=>N,lc:()=>L,sn:()=>S});var t=e(86575),f=e(3258),s=e(90304),g=e(17025),P=e.n(g),y=e(52743),C=e(70444),u=e(83322),p=e(59009),d=Object.defineProperty,w=Object.defineProperties,D=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(F,Z,q)=>Z in F?d(F,Z,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[Z]=q,v=(F,Z)=>{for(var q in Z||(Z={}))c.call(Z,q)&&i(F,q,Z[q]);if(M)for(var q of M(Z))l.call(Z,q)&&i(F,q,Z[q]);return F},O=(F,Z)=>w(F,D(Z));function T(F,Z,q){const{shareUrl:V,post:j,pub:Y,selectionId:ie,utm_campaign:ce,utm_medium:de,event:z=f.EVENTS.SHARE_LINK_CLICKED}=q;(0,f.track)(z,O(v({name:F,post_id:j?j.id:null},ie?{selection_id:ie}:{}),{source:ce,utm_medium:de}));const Q=Z(V);Q&&typeof Q=="string"&&(Q.startsWith("http")?window.open(Q,"_blank"):document.location.href=Q),(0,s.ex)(`${Y==null?void 0:Y.subdomain} shared`,!0)}function I(F){const{pub:Z,post:q,sharingSelfPub:V,shareName:j}=F,Y=(Z==null?void 0:Z.twitter_screen_name)||Z&&u.twitterScreenNames[Z.subdomain];let ie=j;Z&&V?ie="I just started a Substack! You can subscribe to it here":(Z&&!q&&(ie=`Subscribe to ${ie}`),Y&&(!q||Z&&(!q.publishedBylines.length||q.publishedBylines.some(ce=>ce.id===Z.author_id)))&&(ie+=`, by @${Y}`)),T("twitter",F)}function L(F){T("linkedin",Z=>(0,y.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:Z}),F)}function S(F){T("reddit",Z=>(0,y.pathWithQuery)("https://www.reddit.com/submit/",{url:Z,title:F.shareName}),F)}function N(F){T("hackernews",Z=>(0,y.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:Z,title:F.shareName}),F)}function R(F){T("pinterest",Z=>(0,y.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:Z,description:F.shareName}),F)}function U(F){var Z;const{iString:q}=I18N.i(((Z=F.pub)==null?void 0:Z.language)||"en");T("copy",F),F.skipToast||(0,t.ZP)(q("Link copied to clipboard"))}function W(F){T("email",Z=>(0,y.pathWithQuery)("mailto:",{subject:F.shareName,body:Z}),F)}function K(F){T("notes",F)}function G(F){T("facebook",Z=>(0,y.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Z}),F)}function re(F={}){const{post:Z,pub:q,profile:V}=F;return Z?Z.title:q?q.name:V?`${V.name} on Substack`:document.title}function $(F,Z={}){const{pub:q,post:V,clip:j,comments:Y,commentId:ie,selectionId:ce,profile:de,user:z,utm_campaign:Q,medium:ae,referral_token:te,useCustomDomainOverOpen:oe,params:ue}=Z,ee=v(v(v({r:z!=null&&z.id?(0,u.userReferralKey)(z):te,selection:ce,utm_campaign:Q||(V?"post":de?"profile":q?"pub":j?"clip":"unknown"),utm_medium:ae||p.UTM_MEDIUM.web,utm_source:F},{comments:Y!=null&&Y.length?!0:void 0,commentId:ie}),j?{clipId:j.id}:{}),ue);return q!=null&&q.subdomain&&(V!=null&&V.slug)&&!j?(0,y.getPostAppLinkUrl)(q.subdomain,V.slug,{params:ee,hostOverride:oe&&q.custom_domain?(0,y.getBaseUrl)(q):null}):(0,y.pathWithQuery)(`${V?(0,y.getPostUrl)(q,V,{comments:!!(Y!=null&&Y.length),commentId:ie,clipId:j==null?void 0:j.id}):q?`${q.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,ee)}},35570:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(30396);const f=({root:s=null,threshold:g=0,rootMargin:P}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[y,C]=(0,t.eJ)(null),[u,p]=(0,t.eJ)(null),d=(0,t.sO)(new IntersectionObserver({root:s,threshold:g,rootMargin:P}));return(0,t.d4)(()=>{var w;const D=(w=u==null?void 0:u.base)!=null&&w.addEventListener?u.base:u!=null&&u.addEventListener?u:null,{current:M}=d;return M.disconnect(),D&&M.observe(D),()=>M.disconnect()},[u]),[p,y]}},36487:(H,E,e)=>{"use strict";e.d(E,{u:()=>f});var t=e(83322);function f(s){let g;try{g=new URL(s)}catch(C){return console.error("Failed to parse URL",s,C),s}g.hostname=g.hostname.replace(/^www\./,""),g.pathname=g.pathname.replace(/\/+$/,""),g.hash="";const P=[];g.hostname.includes("youtube")&&P.push("v"),g.searchParams.forEach(;const y=g.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return y?(0,t.truncateText)(y,40):s}},55687:(H,E,e)=>{"use strict";e.d(E,{u:()=>f});const t=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function f(P){return t.format(P)}const s=new Intl.NumberFormat(void 0,{maximumSignificantDigits:3,notation:"compact"});function g(P){return s.format(P)}},80076:(H,E,e)=>{"use strict";e.d(E,{d:()=>t});function t(f){return Array.from(f.items).filter(s=>s.kind==="file"&&s.type.startsWith("image/")).length>0}},62952:(H,E,e)=>{"use strict";e.d(E,{h:()=>s});var t=e(30396),f=e(80076);function s({onAddFiles:g}){const P=(0,t.sO)(),y=(0,t.sO)(),[C,u]=(0,t.eJ)(!1),p=M=>{M instanceof DragEvent&&!M.defaultPrevented&&M.dataTransfer&&(0,f.d)(M.dataTransfer)&&(M.preventDefault(),g(Array.from(M.dataTransfer.files)),u(!1))},d=M=>{const{current:c}=P,{target:l}=M;!C&&c&&l&&l instanceof HTMLElement&&(c===l||c.contains(l))&&M.dataTransfer&&(0,f.d)(M.dataTransfer)&&(M.preventDefault(),y.current=l,u(!0))},w=D=M=>{const{current:c}=y,{relatedTarget:l}=M,i=P.current;c&&M.relatedTarget!==c&&!(l instanceof Node&&(i!=null&&i.contains(l)))&&(y.current=void 0,u(!1))};return{isDragging:C,props:{onDragEnter:d,onDragOver:w,onDragLeave:D,onDragEnd:D,onDrop:p,ref:P}}}},95406:(H,E,e)=>{"use strict";e.d(E,{Z:()=>Z});var t=e(30396),f=e(45895);const s=["listItem","codeBlock","heading","paragraph"];function g(j){var Y,ie;let ce=0;if(j)if(j.content&&j.content.length>0)for(const de of j.content)ce+=g(de);else ce+=(ie=(Y=j.text)==null?void 0:Y.length)!=null?ie:0;return ce}function P(j){let Y=0;return(0,f.forEachNode)(j,ie=>{s.includes(ie.type)&&(ie.type==="codeBlock"&&ie.content?ie.content.forEach(ce=>{var de,z;ce.type==="text"&&(Y+=((z=((de=ce.text)!=null?de:"").match(/\n/g))!=null?z:[]).length+1)}):Y++)}),Y}var y=e(83322),C=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(j,Y,ie)=>Y in j?C(j,Y,{enumerable:!0,configurable:!0,writable:!0,value:ie}):j[Y]=ie,c=(j,Y)=>{for(var ie in Y||(Y={}))w.call(Y,ie)&&M(j,ie,Y[ie]);if(d)for(var ie of d(Y))D.call(Y,ie)&&M(j,ie,Y[ie]);return j},l=(j,Y)=>u(j,p(Y));function i(j,{limit:Y=420}={}){var ie,ce,de,z;let Q=null,ae=0,te=!1;if(j)if(Y<=0)te=!0;else if(j.content&&j.content.length>0){Q=l(c({},j),{content:[]});for(const oe of j.content){const ue=i(oe,{limit:Y-ae});if(ue.doc){if((ie=Q.content)==null||ie.push(ue.doc),ae+=ue.length,ue.isTruncated){te=!0;break}}else{te=!0;break}}}else Q=l(c({},j),{text:(ce=(0,y.truncateText)(j.text,Y))!=null?ce:void 0}),ae+=(z=(de=Q.text)==null?void 0:de.length)!=null?z:0,j.text!==Q.text&&(te=!0);return{doc:Q,length:ae,isTruncated:te}}function v(j,Y){var ie;const ce=[];let de=!1,z=0;for(const ae of(ie=j.content)!=null?ie:[]){if(ae.type&&s.includes(ae.type)){if(z++,z===Y){de=!0,ce.push(ae);break}}else if(ae.content){const te=v(ae,Y-z);if(z+=te.blockCount,te.isTruncated){ce.push(te.doc),de=!0;break}}ce.push(ae)}const Q=l(c({},j),{content:ce});return j.text&&(Q.text=j.text.split(/\n/g).slice(0,Y).join(`
`)),{doc:Q,blockCount:z,isTruncated:de}}var O=e(36487),T=Object.defineProperty,I=Object.defineProperties,L=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,U=(j,Y,ie)=>Y in j?T(j,Y,{enumerable:!0,configurable:!0,writable:!0,value:ie}):j[Y]=ie,W=(j,Y)=>{for(var ie in Y||(Y={}))N.call(Y,ie)&&U(j,ie,Y[ie]);if(S)for(var ie of S(Y))R.call(Y,ie)&&U(j,ie,Y[ie]);return j},K=(j,Y)=>I(j,L(Y));const G=420,re=380,$=9,F=12;function Z(j,{characterTruncationLimit:Y=G,characterTruncationThreshold:ie=re,lineTruncationLimit:ce=$,lineTruncationThreshold:de=F}={}){return(0,t.Ye)(()=>{var z;const Q=(z=j==null?void 0:j.body_json)!=null?z:j!=null&&j.body?q(j.body):null,ae=V(Q),te=g(ae)>ie,oe=P(ae)>de;if(!ae||!(te||oe))return{bodyJson:ae,truncatedBodyJson:ae,isTruncated:!1};let ue=ae,ee=!1;if(te){const se=i(ue,{limit:Y});ue=se.doc,ee=se.isTruncated}let le=!1;if(oe&&ue){const se=v(ue,ce);ue=se.doc,le=se.isTruncated}return{bodyJson:ae,truncatedBodyJson:ue,isTruncated:ee||le}},[j==null?void 0:j.body,j==null?void 0:j.body_json])}function q(j){return{type:"doc",attrs:{schemaVersion:"v1"},content:j.split(`

`).map(Y=>({type:"paragraph",content:[{type:"text",text:Y}]}))}}function V(j){var Y,ie;let ce=null;if(j)if(ce=K(W({},j),{content:void 0,text:void 0}),j!=null&&j.content){ce.content=[];for(const de of j.content){const z=V(de);z&&ce.content.push(z)}}else{const de=(Y=j.marks)==null?void 0:Y.find(z=>z.type==="link");(ie=de==null?void 0:de.attrs)!=null&&ie.href?ce.text=(0,O.u)(de.attrs.href):ce.text=j.text}return ce}},41487:(H,E,e)=>{"use strict";e.d(E,{Q:()=>C});var t=e(30396),f=e(8479),s=e(76193),g=e(17025),P=e.n(g),y=(u,p,d)=>new Promise((w,D)=>{var M=i=>{try{l(d.next(i))}catch(v){D(v)}},c=i=>{try{l(d.throw(i))}catch(v){D(v)}},l=i=>i.done?w(i.value):Promise.resolve(i.value).then(M,c);l((d=d.apply(u,p)).next())});function C(u){const[p,d]=(0,t.eJ)(""),[w,D]=(0,t.eJ)(""),[M,c]=(0,t.eJ)({}),[l,i]=(0,t.eJ)(!1);(0,t.d4)(()=>{(0,s.isMobile)()&&navigator.share&&navigator.canShare(M)&&i(!0)},[M]),(0,t.d4)(()=>{function T(){return y(this,null,function*(){var I;d("");const L=u.imageUrl;if((0,g.preloadImage)(u.imageUrl,,(0,s.isMobile)()){const S=yield fetch(u.imageUrlSameOrigin||L),N=["instagram","instagram-stories"].includes((I=u.shareApp)!=null?I:"");c({title:N?void 0:u.shareTitle,text:N?void 0:u.shareText,files:[new File([yield S.blob()],"image.png",{type:"image/png"})],url:N?void 0:u.shareUrl})}})}T()},[u.imageDownloadUrl,u.imageUrl,u.shareApp,u.shareText,u.shareTitle,u.shareUrl]);const{refetch:v}=(0,f.Q1)({method:"post",pathname:"/api/v1/press_kit/notification",body:{title:u.shareText,imageUrl:u.imageUrl,shareApp:u.shareApp},deps:[u.shareText,u.imageUrl,u.shareApp]}),O=(0,t.I4)(()=>y(this,null,function*(){const T=yield v();return T instanceof Error?!1:T.success}),[v]);return{img:p,imgDownload:w,sendPushNotification:O,shareData:M,useNativeShare:l}}},95582:(H,E,e)=>{"use strict";e.d(E,{L:()=>s});var t=e(30396),f=(g,P,y)=>new Promise((C,u)=>{var p=D=>{try{w(y.next(D))}catch(M){u(M)}},d=D=>{try{w(y.throw(D))}catch(M){u(M)}},w=D=>D.done?C(D.value):Promise.resolve(D.value).then(p,d);w((y=y.apply(g,P)).next())});function s(g,P,y){const[C,u]=(0,t._Y)(g,P,y),p=(0,t.sO)(C);p.current=C;const d=(0,t.Ye)(()=>w=>f(this,null,function*(){if(typeof w=="function")return yield w(d,()=>p.current);u(w)}),[]);return[C,d]}},20964:(H,E,e)=>{"use strict";e.d(E,{M:()=>s});var t=e(26686);unction s(){var g,P;const{data:y}=f();return(P=y==null?void 0:y.userSettings.some()!=null?P:typeof window!="undefined"?(g=window._preloads)==null?void 0:g.userSettings.explicitContentEnabled:!1}},92298:(H,E,e)=>{"use strict";e.d(E,{j:()=>u,l:()=>p});var t=Object.defineProperty,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(d,w,D)=>w in d?t(d,w,{enumerable:!0,configurable:!0,writable:!0,value:D}):d[w]=D,y=(d,w)=>{for(var D in w||(w={}))s.call(w,D)&&P(d,D,w[D]);if(f)for(var D of f(w))g.call(w,D)&&P(d,D,w[D]);return d};let C={};8461:(H,E,e)=>{"use strict";e.d(E,{IU:()=>C});var t=e(52743),f=e(83322),s=e(86405),g=e(28876),P=e(32081);function y(w,D,{quantity:M=1,plan:c,isSubscription:l,coupon:i}){var v;const O=(w/100).toFixed(2),T=(w/M/100).toFixed(2);D=D.toUpperCase(),C();const I=getConfig(),L=getPublicationFbPixelId();L&&(new Image().src=`https://www.facebook.com/tr?id=${L}&ev=Purchase&cd[value]=${O}&cd[currency]=${D}`),L&&l&&(new Image().src=`https://www.facebook.com/tr?id=${L}&ev=Subscribe&cd[value]=${O}&cd[currency]=${D}`),recordTwitterEvent("purchase",{price:Number(T),quantity:M});const S=randomString(),N=((v=c.amount)!=null?v:0)*M;let R;i&&i.percent_off?R=Math.round(N*((i.percent_off_precise||i.percent_off)/100)):i&&i.amount_off&&(R=Math.max(0,i.amount_off));const U=c.name;sendPublisherGa4Event("purchase",{transaction_id:S,value:O,currency:D,coupon:(i==null?void 0:i.name)||(i==null?void 0:i.id),items:[{item_id:c&&c.id,item_name:c&&(U||c.nickname||c.id)||"subscription",coupon:(i==null?void 0:i.name)||(i==null?void 0:i.id),discount:R,index:0,price:T,quantity:M}]}),sendPublisherGaEvent("transaction",{ti:S,tr:O,cu:D}),sendPublisherGaEvent("item",{ti:S,in:c&&(U||c.nickname||c.id)||"subscription",ip:T,iq:M,ic:c&&c.id,cu:D});const W="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",I!=null&&I.adwordsAccountId&&(I!=null&&I.adwordsEventSendTo)?{send_to:`${I.adwordsAccountId}/${W}`}:{});const K=p();if(K){const{id:G,label:re}=K;new Image().src=`//www.googleadservices.com/pagead/conversion/${G}/?value=${O}&currency_code=${D}&label=${re}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${c&&(U||c.nickname||c.id)||""} Subscription`),d()==="bankless"){const G=c?`paid_${c.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:G})),page()}}function C(){const w=(0,g.iE)();if(w.properties.is_free_subscribed)return;w.properties.is_free_subscribed=!0,(0,g.Hx)("sign_up"),(0,g.XY)("event",{ec:"Signup",ea:"Signup Success"});const D="Yo9oCMOM1MYDEKuN5pYB";(0,g.NA)("conversion",w!=null&&w.adwordsAccountId&&(w!=null&&w.adwordsEventSendTo)?{send_to:`${w.adwordsAccountId}/${D}`}:{});const M=(0,g.xL)();M&&(new Image().src=`https://www.facebook.com/tr?id=${M}&ev=CompleteRegistration`),(0,s.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),d()==="bankless"&&(window.history.replaceState({},document.title,(0,t.updateQuery)({plan:"free"})),(0,P.Md)())}function u(w={}){sendLocalGaEvent("Publication Created",w)}function p(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function d(){var w;const D=typeof window!="undefined"&&((w=window._preloads)==null?void 0:w.pub);return D==null?void 0:D.subdomain}},3258:(H,E,e)=>{"use strict";e.d(E,{EVENTS:()=>s.FP,getIframeVisitId:()=>s.A,initAnalytics:()=>g.S,notifyUrlChangeForAnalytics:()=>s.jA,sendPublisherGaEvent:()=>f.XY,signup:()=>t.IU,track:()=>s.j,trackPostBottomSeen:()=>s.xG,trackPostSeen:()=>s.jJ,trackPublicationVisit:()=>s.x6,triggerPostPagePingBacks:()=>s.K8});var t=e(8461),f=e(28876),s=e(32081),g=e(31256)},31256:(H,E,e)=>{"use strict";e.d(E,{S:()=>y});var t=e(17025),f=e.n(t),s=e(28876),g=e(32081);let P=null;function y(){var C;typeof window!="undefined"&&((C=window==null?void 0:window.navigator)!=null&&C.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,s.LH)(),(0,s.dl)(),(0,s.jP)(),(0,g.Md)(),(0,t.windowReady)(()=>{const u=P;P=null,u&&u.length>0&&(0,g.At)(u)})}},31032:(H,E,e)=>{"use strict";e.d(E,{W:()=>f});var t=e(83322);const f=(0,t.randomString)()},28876:(H,E,e)=>{"use strict";e.d(E,{Hx:()=>i,LH:()=>T,NA:()=>v,XY:()=>O,dl:()=>c,iE:()=>l,jP:()=>I,xL:()=>S});var t=e(52743),f=e(39776),s=e(17025),g=e.n(s),P=e(31032),y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(N,R,U)=>R in N?y(N,R,{enumerable:!0,configurable:!0,writable:!0,value:U}):N[R]=U,w=(N,R)=>{for(var U in R||(R={}))u.call(R,U)&&d(N,U,R[U]);if(C)for(var U of C(R))p.call(R,U)&&d(N,U,R[U]);return N};function D(N,{toHead:R=!1}={}){(0,s.windowReady)(()=>{const U=document.createElement("script");if(U.async=!0,U.src=N,R)document.head.appendChild(U);else{const W=document.getElementsByTagName("script")[0];W.parentNode&&W.parentNode.insertBefore(U,W)}})}function M(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function c(){var N,R,U;if(typeof window=="undefined")return;const W=(R=(N=window==null?void 0:window._preloads)==null?void 0:N.pub)==null?void 0:R.google_tag_manager_token;if(!W)return;const K=M();if(W===K)return;window.dataLayer=window.dataLayer||[],(0,f.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const G=l();(U=G.user)!=null&&U.id&&window.dataLayer.push({userId:G.user.id.toString()}),D(`https://www.googletagmanager.com/gtm.js?id=${W}`,{toHead:!0})}function l(){let N;return typeof window!="undefined"&&(N=window._analyticsConfig),N||(N={}),N.properties||(N.properties={}),N.properties.browserSessionId=P.W,N}function i(N,R={}){var U;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const W=l();(U=W.user)!=null&&U.id&&(R.user_id=W.user.id.toString()),window.publisherGA4gtag("event",N,R)}function v(N,R){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",N,R)}function O(N,R={}){var U;const W=l(),K=L();if(!K)return;const G=(0,t.parseQuery)(window.location.href);R=Object.assign({v:1,t:N,tid:K,cid:W.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:G.utm_campaign,cs:G.utm_source,cm:G.utm_medium,ck:G.utm_term,cc:G.utm_content,ci:G.utm_id},R),(U=W.user)!=null&&U.id&&(R.uid=W.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,t.serializeQuery)(R)}`}function T(){var N;if(typeof window=="undefined")return;const R=M();if(!R)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var W;(W=window.GA4DataLayer)==null||W.push(arguments)},window.publisherGA4gtag("js",new Date);const U=l();window.publisherGA4gtag("config",R,w({send_page_view:!1},U.user&&{user_id:(N=U==null?void 0:U.user)==null?void 0:N.id.toString()}))}function I(){var N;if(typeof window=="undefined")return;const R=l();!R.localGaPixelId&&!R.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var U;(U=window==null?void 0:window.localGaDataLayer)==null||U.push(arguments)},window.gtag("js",new Date),R.localGaPixelId&&window.gtag("config",R.localGaPixelId),R.adwordsAccountId&&window.gtag("config",R.adwordsAccountId),(N=R.user)!=null&&N.id&&window.gtag("userId",R.user.id.toString()),D(`https://www.googletagmanager.com/gtag/js?id=${R.localGaPixelId||R.adwordsAccountId}&l=localGaDataLayer`))}function L(){const N=typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id;return N&&N.startsWith("UA-")?null:N},32081:(H,E,e)=>{"use strict";e.d(E,{A:()=>R,At:()=>V,FP:()=>T,K8:()=>$,Md:()=>Z,j:()=>U,jA:()=>F,jJ:()=>K,x6:()=>W,xG:()=>re});var t=e(85928),f=e.n(t),s=e(44043),g=e(52743),P=e(63830),y=e(86405),C=e(17025),u=e.n(C),p=e(92298),d=e(31032),w=e(28876),D=Object.defineProperty,M=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(Y,ie,ce)=>ie in Y?D(Y,ie,{enumerable:!0,configurable:!0,writable:!0,value:ce}):Y[ie]=ce,v=(Y,ie)=>{for(var ce in ie||(ie={}))c.call(ie,ce)&&i(Y,ce,ie[ce]);if(M)for(var ce of M(ie))l.call(ie,ce)&&i(Y,ce,ie[ce]);return Y},O;const T=s.F,I=10,L=typeof window!="undefined"&&window!=window.top&&(0,P.l)(C.uuidV4);let S="browser";typeof window!="undefined"&&(navigator.standalone||(O=window.matchMedia)!=null&&O.call(window,"(display-mode: standalone)").matches)&&(S="standalone");const N=null;function R(){return L}function U(Y,ie={}){var ce;if(["development","test"].includes((ce="production")!=null?ce:"")&&!Y)throw new Error("`undefined` event passed to FRONTEND track call");q(Y,Object.assign({},ie))}function W(Y,ie,ce={}){U(T.PUBLICATION_VISITED,v({visited_publication_id:Y.id,visited_publication_subdomain:Y.subdomain,source:ie},ce))}function K({post:Y,hasPaywall:ie,surface:ce,markRead:de}){U(T.POST_SEEN,{post_id:Y.id,post_audience:Y.audience,post_type:Y.type,has_paywall:ie,post_age_minutes:Y.post_date&&f()().diff(Y.post_date,"minute"),surface:ce}),de&&G(Y.id)}function G(Y){return fetch(`/api/v1/posts/${Y}/seen`,{method:"POST"})}function re({post:Y,hasPaywall:ie,surface:ce}){U(T.POST_BOTTOM_SEEN,{post_id:Y.id,post_audience:Y.audience,post_type:Y.type,has_paywall:ie,surface:ce})}function $({post:Y}){Y!=null&&Y.id&&(U(T.POST_PAGE_PINGBACK,{seconds:0,post_id:Y.id}),setTimeout(()=>{U(T.POST_PAGE_PINGBACK,{seconds:10,post_id:Y.id})},1e4))}function F({previous:Y,url:ie}){Y&&(ie.includes("_no_an=true")||Z())}function Z(Y={}){var ie,ce;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((ce=(ie=window==null?void 0:window._preloads)==null?void 0:ie.pub)!=null&&ce.embed_tracking_disabled))return;q(T.PAGES,Object.assign(j(),Y));const de=(0,w.xL)();de&&(new Image().src=`https://www.facebook.com/tr?id=${de}&ev=PageView`),(0,y.g)("pageview"),(0,w.XY)("pageview"),(0,w.Hx)("page_view"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function q(Y,ie={}){var ce,de;if(typeof window=="undefined")return;const z={event:Y,properties:Object.assign({browserSessionId:d.W,iframeVisitId:L,r:(0,g.getQueryItem)("r")},ie),context:{client_type:"web",displayMode:S,page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,p.l)()}},Q=(0,C.base64encode)(JSON.stringify(z));N&&N.length<I?N.push(Q):new Image().src=(0,g.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:Q}),(de=(ce=window==null?void 0:window._preloads)==null?void 0:ce.user)!=null&&de.is_global_admin&&console.log(`EVENT: ${Y}`,ie)}function V(Y){typeof window!="undefined"&&(new Image().src=(0,g.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:Y.join(",")}))}function j(){const Y={};if(typeof window!="undefined"){const ie=window._preloads&&window._preloads.post,ce=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);ce&&ie&&ce[1]===ie.slug&&(Y.post_id=ie.id,Y.post_audience=ie.audience,Y.post_type=ie.type)}return Y}},52032:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});function t(s,g){return s&&`rgba(${s.join(",")},${g})`}const f=({palette:s,withDefault:g=!0})=>{var P,y,C,u;if(!s&&!g)return null;const p=(y=t((P=s==null?void 0:s.Vibrant)==null?void 0:P.rgb,.66))!=null?y:"var(--color-bg-tertiary)",d=(u=t((C=s==null?void 0:s.DarkVibrant)==null?void 0:C.rgb,.66))!=null?u:"var(--color-bg-tertiary)";return{background:`linear-gradient(180deg, ${p}, ${d})`}}},66141:(H,E,e)=>{"use strict";e.d(E,{Z:()=>C});var t=e(30396),f=e(3258),s=e(85928),g=e.n(s),P=e(90304);const y=()=>{};function C(p,d=null,w=y){const[D,M]=(0,t.eJ)(p?u(p,d):!1);return(0,t.d4)(()=>{const i=()=>{M(!0)};return p&&document.addEventListener(`dismiss: ${p}`,i,!1),,[p]),p?[D,()=>{w(),(0,f.track)(f.EVENTS.DASHBOARD_ACTION_BOX_DISMISSED,{key:p});const i=new Date;(0,P.ex)(p,i.toString()),M(!0);const v=new Event(`dismiss: ${p}`);document.dispatchEvent(v)}]:[!0,y]}function u(p,d){let w;const D=typeof window=="undefined"?new Date().toString():(0,P.mM)(p);return D&&d?w=g()(D).add(d,"second").isAfterNow():w=!!D,w}},66219:(H,E,e)=>{"use strict";e.d(E,{z:()=>C});var t=e(30396),f=e(80569),s=e.n(f),g=e(17025),P=e.n(g),y=(u,p,d)=>new Promise((w,D)=>{var M=i=>{try{l(d.next(i))}catch(v){D(v)}},c=i=>{try{l(d.throw(i))}catch(v){D(v)}},l=i=>i.done?w(i.value):Promise.resolve(i.value).then(M,c);l((d=d.apply(u,p)).next())});const C=({mediaUploadId:u})=>{const[p,d]=(0,t.eJ)(null),[w,D]=(0,t.eJ)(!0),[M,c]=(0,t.eJ)(null);return(0,t.d4)(()=>{u?(()=>y(void 0,null,function*(){try{const i=yield s().get(`/api/v1/video/upload/${u}`);d(i.body),D(!1)}catch(i){console.error("Failed to load media upload:",i),c((0,g.getNetworkErrorMessage)(i)),D(!1)}}))():(d(null),D(!1))},[u,M]),{mediaUpload:p,loading:w,error:M}}},3313:(H,E,e)=>{"use strict";e.d(E,{VL:()=>g,lp:()=>D});var t=e(74806),f=e(83322);const s=new Set([138155578,137086721,135978166,138762631,138967817,140425637,140631625,140852480,141087379]);function g({pub:c,includeTheRampart:l}){return l&&c.id===1620566?!0:c.id===87281}function P({pub:c}){return c.id===228030}function y({pub:c}){return c.id===1711696}function C({pub:c}){return c.id===500230}function u({pub:c}){return c.id===2047147}function p({pub:c}){return C({pub:c})||u({pub:c})}function d({pub:c,sub:l}){var i,v,O,T,I;return!c||!l||!w({pub:c})||!l.totalAmount||l.is_group_parent?null:g({pub:c})?!l.is_founding||!l.plan?null:(i=l.plan)!=null&&i.amount&&l.plan.amount>=12e4||((v=l.plan)==null?void 0:v.interval)==="month"&&l.plan.amount&&l.plan.amount>=1e4?{numSeats:6,couponCode:"0af6dce7"}:(O=l.plan)!=null&&O.amount&&l.plan.amount>=25e3?{numSeats:3,couponCode:"b2f6a20f"}:null:c.subdomain==="pinespayments"?(T=l.plan)!=null&&T.amount&&l.plan.amount>=12e4?{numSeats:6,couponCode:"0371e499"}:(I=l.plan)!=null&&I.amount&&l.plan.amount>=3e4?{numSeats:3,couponCode:"557e2314"}:null:null}function w({pub:c}){return g({pub:c})||c.subdomain==="pinespayments"}function D({post:c}){return c?(0,t.hasFreePodcastUrl)({post:c})?!0:s.has(c.id)&&!!c.podcast_preview_upload_id:!1}function M({pub:c,benefits:l,plan:i}){if(!g({pub:c})||!isFoundingPlan(i))return l;const v=[];return planFromPubIsClassicFounding({plan:i})?v.push({benefit:"Navigator memberships help to fuel our growth and ensure our longevity. ",checked:!0}):v.push({benefit:"Founding memberships help to keep The Bulwark available to the widest possible audience.",checked:!0}),v.push({benefit:"Unlimited access to our newsletters, ad-free and member-only podcasts, weekly livestreams and more\u2026",checked:!0}),planFromPubIsClassicFounding({plan:i})?v.push({benefit:"6 free gift memberships to give to friends and family",checked:!0}):v.push({benefit:"3 free gift memberships to give to friends and family",checked:!0}),v.push({benefit:"2 Bulwark virtual town hall meetings with Bulwark editors and staff and invites to informal meet-ups before Bulwark live shows.",checked:!0}),v}},63030:(H,E,e)=>{"use strict";e.r(E),e.d(E,{getInitialPodcast:()=>T,getNewPubPodcastSettings:()=>i,getNewSectionPodcastSettings:()=>c,getPodcastEpisodeImageUrl:()=>v,getPodcastsForDisplay:()=>O,getPubPodcastSettings:()=>l,getSectionPodcastSettings:()=>M});var t=e(52743),f=e(83322),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(I,L,S)=>L in I?s(I,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):I[L]=S,d=(I,L)=>{for(var S in L||(L={}))C.call(L,S)&&p(I,S,L[S]);if(y)for(var S of y(L))u.call(L,S)&&p(I,S,L[S]);return I},w=(I,L)=>g(I,P(L));const D=I=>{if(!I)return[];const L=[];for(const S of I){if(L.length===2)break;const N=S.toLowerCase();for(const[R,U]of Object.entries(f.PODCAST_CATEGORIES)){if(L.length===2)break;if(R.toLowerCase()===N||R.toLowerCase().split(" & ").includes(N)){L.push({category:R});break}for(const W of U){if(L.length===2)break;if(W.toLowerCase()===N||W.toLowerCase().split(" & ").includes(N)){L.push({category:R,subcategory:W});break}}}}return L},M=({pub:I,section:L})=>{var S,N,R,U,W,K,G,re;const $=L==null?void 0:L.podcastSettings,F=(N=(S=$==null?void 0:$.podcast_title)!=null?S:L==null?void 0:L.name)!=null?N:null,Z=(U=(R=$==null?void 0:$.podcast_description)!=null?R:L==null?void 0:L.description)!=null?U:null,q=(W=$==null?void 0:$.itunes_podcast_primary_category)!=null?W:null,V=(K=$==null?void 0:$.itunes_podcast_primary_subcategory)!=null?K:null,j=(G=$==null?void 0:$.itunes_podcast_secondary_category)!=null?G:null,Y=(re=$==null?void 0:$.itunes_podcast_secondary_subcategory)!=null?re:null,ie=($==null?void 0:$.itunes_explicit)||!1,ce=($==null?void 0:$.podcast_art_url)||(0,t.getDefaultPodcastArtUrlCDN)(),de=($==null?void 0:$.paid_podcast_episode_art_url)||null,z=($==null?void 0:$.podcast_byline)||I.podcast_byline||I.author_name||"",Q=($==null?void 0:$.language)||I.podcast_language||"",ae=!!$&&!!$.podcast_feed_url,te=ae?$.podcast_feed_url:(0,t.getPodcastRssUrl)({pub:w(d({},I),{section:L})});return{title:F,description:Z,primaryCategory:q,primarySubcategory:V,secondaryCategory:j,secondarySubcategory:Y,isExplicit:ie,artUrl:ce,byline:z,language:Q,isRedirected:ae,podcastRssUrl:te,paidEpisodeArtUrl:de}},c=({pub:I,section:L})=>{var S,N;const R=(S=L==null?void 0:L.name)!=null?S:null,U=(N=L==null?void 0:L.description)!=null?N:null,W=null,K=null,G=null,re=null,$=!1,F=(0,t.getDefaultPodcastArtUrlCDN)(),Z=I.podcast_byline||I.author_name||"",q=I.podcast_language||"";return{title:R,description:U,primaryCategory:W,primarySubcategory:K,secondaryCategory:G,secondarySubcategory:re,isExplicit:$,artUrl:F,byline:Z,language:q,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},l=({pub:I})=>{var L,S;const N=I.podcast_title||I.name,R=I.podcast_description||I.hero_text,U=I.itunes_podcast_primary_category,W=I.itunes_podcast_primary_subcategory,K=I.itunes_podcast_secondary_category,G=I.itunes_podcast_secondary_subcategory,re=(L=I.itunes_explicit)!=null?L:!1,$=I.podcast_art_url||(0,t.getDefaultPodcastArtUrlCDN)(),F=I.podcast_byline||I.author_name,Z=I.podcast_language||"",q=!!I.show_pub_podcast_tab,V=!!I.podcast_feed_url,j=d({},I);delete j.section;const Y=V?I.podcast_feed_url:(0,t.getPodcastRssUrl)({pub:j});return{title:N,description:R,primaryCategory:U,primarySubcategory:W,secondaryCategory:K,secondarySubcategory:G,isExplicit:re,artUrl:$,byline:F,language:Z,isRedirected:V,podcastRssUrl:Y,showPodcastTab:q,paidEpisodeArtUrl:(S=I.paid_podcast_episode_art_url)!=null?S:null}},i=({pub:I,publication:L})=>{var S,N,R;const[U,W]=D(L.tags.map(({canonical_name:ce})=>ce)),K=`${I.name} Podcast`,G=I.hero_text,re=U==null?void 0:U.category,$=(S=U==null?void 0:U.subcategory)!=null?S:null,F=W==null?void 0:W.category,Z=(N=W==null?void 0:W.subcategory)!=null?N:null,q=I.explicit||!1,V=(0,t.getDefaultPodcastArtUrlCDN)(),j=I.author_name;return{title:K,description:G,primaryCategory:re,primarySubcategory:$,secondaryCategory:F,secondarySubcategory:Z,isExplicit:q,artUrl:V,byline:j,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(R=I.paid_podcast_episode_art_url)!=null?R:null}};function v(I,L){return(L==null?void 0:L.cover_image)||(L==null?void 0:L.podcast_art_url)||(I==null?void 0:I.podcast_art_url)}const O=I=>{var L,S;const N=(S=(L=I.sections)==null?void 0:L.filter(({is_podcast:R})=>R).map(R=>{var U;const W=M({pub:I,section:R});return{slug:R.slug,podcastTitle:(U=W.title)!=null?U:"",sectionId:R.id}}))!=null?S:[];return[...I.podcast_enabled?[{podcastTitle:I.podcast_title||I.name,slug:I.subdomain,sectionId:null}]:[],...N]},T=({podcasts:I,urlSlug:L,isSection:S,defaultPodcastSlug:N})=>{if(!I.length)return null;if(L){const R=I.find(({sectionId:U,slug:W})=>W===L&&S===!!U);if(R)return R;typeof window!="undefined"&&window.alert("No podcast was found at that URL")}return N&&I.find(||I[0]}},69229:(H,E,e)=>{"use strict";e.d(E,{b:()=>g});var t=e(85928),f=e.n(t);function s(P){var y;return`${[P.is_primary,((y=P.publication)==null?void 0:y.author_id)===P.user_id,P.role==="admin",P.role==="contributor"].map(.join("")}-${f()(P.created_at).valueOf()}`}function g(P){return P.slice(0).sort(}},16527:(H,E,e)=>{"use strict";e.d(E,{Q:()=>f});var t=e(20042);function f(s,g,{native:P=!1,newTab:y=!1,replace:C,state:u}={}){s.defaultPrevented||(s.preventDefault(),P?y||s.metaKey||s.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:g}).click():window.location.assign(g):((0,t.route)(g,C),u!==void 0&&history.replaceState(u,"")))}},90304:(H,E,e)=>{"use strict";e.d(E,{ex:()=>g,mM:()=>s});var t=e(79546),f=e.n(t);const s=(y,C=null)=>typeof window!="undefined"?f().get(y,C):C,g=(y,C)=>{if(typeof window!="undefined")return f().set(y,C)},P=y=>{if(typeof window!="undefined")return store.remove(y)}},86405:(H,E,e)=>{"use strict";e.d(E,{g:()=>C});var t=e(20501);const f=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,s=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,g=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,P=(u,p=null)=>{const d=f();if(!d)return;const w={p_id:"Twitter",p_user_id:0,txn_id:d,events:JSON.stringify([[u,p]]),tw_sale_amount:(p==null?void 0:p.value)||0,tw_order_quantity:(p==null?void 0:p.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};y(w)},y=u=>{new Image().src=`https://t.co/i/adsct?${(0,t.serializeQuery)(u)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,t.serializeQuery)(u)}`},C=(u,{quantity:p,price:d}={})=>{if(u==="purchase"){const w=g();w&&typeof window.twq=="function"&&window.twq("event",w),P("purchase",{num_items:p,value:d})}else if(u==="signup"){const w=s();w&&typeof window.twq=="function"&&window.twq("event",w),P("signup")}else P("pageview")}},8479:(H,E,e)=>{"use strict";e.d(E,{Kt:()=>Z,NL:()=>G,Q1:()=>U,Wf:()=>S,do:()=>L,i:()=>F,ib:()=>K,kp:()=>$,rd:()=>re,x8:()=>N});var t=e(30396),f=e(28599),s=e.n(f),g=e(73955),P=e.n(g),y=e(80569),C=e.n(y),u=e(17025),p=e.n(u),d=Object.defineProperty,w=Object.defineProperties,D=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(q,V,j)=>V in q?d(q,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):q[V]=j,v=(q,V)=>{for(var j in V||(V={}))c.call(V,j)&&i(q,j,V[j]);if(M)for(var j of M(V))l.call(V,j)&&i(q,j,V[j]);return q},O=(q,V)=>w(q,D(V)),T=(q,V)=>{var j={};for(var Y in q)c.call(q,Y)&&V.indexOf(Y)<0&&(j[Y]=q[Y]);if(q!=null&&M)for(var Y of M(q))V.indexOf(Y)<0&&l.call(q,Y)&&(j[Y]=q[Y]);return j},I=(q,V,j)=>new Promise((Y,ie)=>{var ce=Q=>{try{z(j.next(Q))}catch(ae){ie(ae)}},de=Q=>{try{z(j.throw(Q))}catch(ae){ie(ae)}},z=Q=>Q.done?Y(Q.value):Promise.resolve(Q.value).then(ce,de);z((j=j.apply(q,V)).next())});const L={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:clearError:()=>{},setResult:()=>{}};function S(q,V,{auto:j,initialResult:Y}={}){const[ie,ce]=(0,t.eJ)({result:Y||null,isLoading:!!j,hasLoadedOnce:!1,error:null,promise:null}),de=()=>{ce(O(v({},ie),{error:null}))},z=(ae={})=>{var te=ae,{abortController:oe=new(s())}=te,ue=T(te,["abortController"]);const ee=q(O(v({},ue),{signal:oe.signal})).then(le=>{if(!oe.signal.aborted)return ce({isLoading:!1,hasLoadedOnce:!0,error:null,result:le,promise:null}),le},le=>{if(!oe.signal.aborted)return console.error("There was an error fetching resource",le),ce(se=>O(v({},se),{isLoading:!1,error:le,result:null,promise:null})),le});return ce(le=>O(v({},le),{isLoading:!0,error:null,promise:ee})),ee},Q=ae=>{ce(te=>O(v({},te),{error:null,result:ae,isLoading:!1,promise:null}))};return(0,t.d4)(()=>{if(j){const ae=new(s());return z({abortController:ae}),()=>{ae.abort()}}},V||[]),O(v({},ie),{refetch:z,setResult:Q,clearError:de})}function N(q,V){switch(V.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const j=q.slice(),{page:Y,id:ie}=V.payload;return j[Y]={result:null,id:ie,isLoading:!0,error:null},j}case"page_load":{const{id:j,result:Y}=V.payload;return q.map(ie=>ie.id===j?O(v({},ie),{isLoading:!1,result:Y,error:null}):ie)}case"page_error":{const{id:j,error:Y}=V.payload;return q.map(ie=>ie.id===j?O(v({},ie),{isLoading:!1,result:null,error:Y}):ie)}}return q}function R(q,V,{auto:j,initialResult:Y,pages:ie,dispatch:ce}={}){var de;const[z,Q]=(0,t._Y)(N,[{result:Y||null,isLoading:!!j,error:null}]),ae=ie!=null?ie:z,te=ce!=null?ce:Q,oe=(fe={})=>{var ve=fe,{abortController:ge=new(s()),page:be=ae.length}=ve,ne=T(ve,["abortController","page"]);const me=ae[be-1],Le=P()();return te({type:"page_start",payload:{page:be,id:Le}}),q({options:ne,signal:ge.signal,page:be,lastPage:me}).then(Re=>{if(!ge.signal.aborted)return te({type:"page_load",payload:{page:be,id:Le,result:Re}}),Re},Re=>{if(!ge.signal.aborted)return te({type:"page_error",payload:{page:be,id:Le,error:Re}}),Re})},ue=fe=>(te({type:"page_reset"}),oe(O(v({},fe),{page:0})));(0,t.d4)(()=>{if(j){const fe=new(s());return ue({abortController:fe}),()=>{fe.abort()}}},V||[]);let ee=!1;const le=()=>I(this,null,function*(){if(!ee){const fe=ae[ae.length-1];if(!fe.isLoading&&!fe.error)return ee=!0,yield oe()}}),se=ae[ae.length-1];return{pages:ae,page:ae.length,lastPage:se,fetchMore:le,canFetchMore:se&&!se.isLoading&&!se.error,fetchFirstPage:ue,hasLoadedOnce:!!((de=ae[0])!=null&&de.result)}}function U(q){var V=q,{auto:j,initialResult:Y,deps:ie}=V,ce=T(V,["auto","initialResult","deps"]);return S(de=>I(this,null,function*(){var z=de,{signal:Q}=z,ae=T(z,["signal"]);const{pathname:te="",query:oe,body:ue,method:ee="get"}=v(v({},ce),ae),le=C()(ee.toUpperCase(),te);oe&&le.query(oe),ue&&le.send(ue),Q.addEventListener("abort",()=>{le.abort()});const se=yield le;if(Q.aborted)return;const fe=se.error;if(fe)throw fe;return se.body}),ie||[],{auto:j,initialResult:Y})}const W=new Map;function K(q){var V=q,{pathname:j,auto:Y,initialResult:ie,deps:ce,cacheTtl:de}=V,z=T(V,["pathname","auto","initialResult","deps","cacheTtl"]);const Q=S(te=>{var oe=te,{pathname:ue}=oe,ee=T(oe,["pathname"]);if(!j)throw new Error("useFetch requires a pathname");if(de){const se=W.get(j);if(se){const{ts:fe,ttl:ve,promise:ge}=se;if(fe+ve>Date.now())return ge}}const le=re(ue!=null?ue:j,v(v({},z),ee));return de&&W.set(j,{ts:Date.now(),ttl:de,promise:le}),le},ce||[],{auto:Y,initialResult:ie}),ae=te=>{j&&de&&W.set(j,{ts:Date.now(),ttl:de,promise:Promise.resolve(te)}),Q.setResult(te)};return O(v({},Q),{setResult:ae})}function G(q){var V=q,{pathname:j,auto:Y,initialResult:ie,deps:ce,getPageInit:de,pages:z,dispatch:Q}=V,ae=T(V,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return R(({page:te,lastPage:oe,options:ue})=>{if(!j)throw new Error("useFetch requires a pathname");const ee=de({init:v(v({},ae),ue),page:te,lastPage:oe});return re(j,ee)},ce||[],{auto:Y,initialResult:ie,pages:z,dispatch:Q})}function re(q){return I(this,arguments,function*(V,j={}){var Y;const ce=v({cache:"no-cache"},j),{query:de,json:z}=ce,Q=T(ce,["query","json"]);let ae=V;if(de){let oe;de instanceof URLSearchParams?oe=de:oe=new URLSearchParams(Object.entries(de).reduce((ee,[le,se])=>(se!==void 0&&(Array.isArray(se)?se.forEach(fe=>{fe!==void 0&&ee.push([`${le}[]`,fe])}):ee.push([le,se])),ee),[]));const ue=oe.toString();ue&&(V.indexOf("?")!==-1?ae+=`&${ue}`:ae+=`?${ue}`)}z&&(Q.body=JSON.stringify(z),Q.headers instanceof Headers||(Q.headers=new Headers(Q.headers)),Q.headers.set("Content-Type","application/json"));const te=yield fetch(ae,Q);if(!te.ok){let oe;try{oe=yield te.json()}catch(ue){oe={}}throw new $(te,oe)}return(Y=te.headers.get("Content-Type"))!=null&&Y.startsWith("application/json")?te.json():te.text()})}class $ extends Error{unction F(q,V="Something went wrong."){return q instanceof $?q.getMessage():V}function Z(q,V,j){const[Y,ie]=(0,t.eJ)(null);return(0,t.I4)((...ce)=>{clearTimeout(Y),ie(null),ie(setTimeout(V))},[Y,...j])}},11533:(H,E,e)=>{"use strict";e.d(E,{js:()=>s,tv:()=>g});var t=e(30396),f=e(20042);function s(y,C){(0,t.d4)(()=>{const u=p=>{y(p)};return f.subscribers.push(u),()=>{f.subscribers.splice(f.subscribers.indexOf(u)>>>0,1)}},C)}function g({path:y}={}){const[C,u]=(0,t.eJ)({}),p=(0,t.sO)(null);s(D=>{p.current=D,u({})},[]);const d=p.current||(0,f.getCurrentUrl)(),w=d.replace(/\?.+$/,"");return p.current=null,[{url:d,path:w,matches:y&&(0,f.exec)(w,y,{})||null},f.route]},26686:(H,E,e)=>{"use strict";e.d(E,{_:()=>u});var t=e(95591),f=e(8479),s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,y=(p,d)=>{var w={};for(var D in p)g.call(p,D)&&d.indexOf(D)<0&&(w[D]=p[D]);if(p!=null&&s)for(var D of s(p))d.indexOf(D)<0&&P.call(p,D)&&(w[D]=p[D]);return w},C=(p,d,w)=>new Promise((D,M)=>{var c=v=>{try{i(w.next(v))}catch(O){M(O)}},l=v=>{try{i(w.throw(v))}catch(O){M(O)}},i=v=>v.done?D(v.value):Promise.resolve(v.value).then(c,l);i((w=w.apply(p,d)).next())});function u(p,d={},w){var D=d,{deps:M,auto:c=!0,massage:l=v=>C(this,null,function*(){return v})}=D,i=y(D,["deps","auto","massage"]);return(0,t.ZP)(c?M?[...M,p]:p:null,()=>(0,f.rd)(p,i).then(l),w)}},6742:(H,E,e)=>{"use strict";e.d(E,{UM:()=>P,th:()=>y});var t=e(30396),f=e(17025),s=e.n(f);function g(C,u,{root:p,threshold:d=0,rootMargin:w,disabled:D=!1}={}){(0,t.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!C.current||D)return;const M=new IntersectionObserver({root:p,threshold:d,rootMargin:w});M.observe(C.current);function c(){M.disconnect()}return c},[C,u,p,d,w,D])}function P(C,u,{root:p,threshold:d=0,rootMargin:w,disabled:D=!1}={}){const M=(0,t.sO)(!1),c=(0,t.I4)(l=>{l&&!M.current&&(M.current=!0,u())},[u,M]);g(C,c,{root:p,threshold:d,rootMargin:w,disabled:D||M.current})}function y(C){const[u,p]=(0,t.eJ)(!1);return(0,t.d4)(()=>{const d=()=>{const w=(0,f.isWindowVisible)();p(w),C==null||C(w)};return(0,f.onWindowVisibilityChange)(d),,[C]),u}},36868:(H,E,e)=>{"use strict";e.d(E,{P:()=>t});const t=(f,s)=>s.payments_state==="enabled"?f.is_subscribed:f.is_free_subscribed},25018:(H,E,e)=>{"use strict";e.d(E,{qU:()=>I,uj:()=>S,v9:()=>T});var t=e(30396),f=e(18446),s=e.n(f),g=e(1852),P=e.n(g),y=e(80569),C=e.n(y),u=e(76193),p=Object.defineProperty,d=Object.defineProperties,w=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(R,U,W)=>U in R?p(R,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[U]=W,i=(R,U)=>{for(var W in U||(U={}))M.call(U,W)&&l(R,W,U[W]);if(D)for(var W of D(U))c.call(U,W)&&l(R,W,U[W]);return R},v=(R,U)=>d(R,w(U)),O=(R,U,W)=>new Promise((K,G)=>{var re=Z=>{try{F(W.next(Z))}catch(q){G(q)}},$=Z=>{try{F(W.throw(Z))}catch(q){G(q)}},F=Z=>Z.done?K(Z.value):Promise.resolve(Z.value).then(re,$);F((W=W.apply(R,U)).next())});const T=()=>{const R=(0,g.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),U=(0,g.useMediaQuery)({query:"only screen and (max-width: 768px)"});let W;return typeof window=="undefined"?W=(0,u.isMobile)()?"mobile":"desktop":W=U?"mobile":R?"tablet":"desktop",{breakpoint:W,isMobile:W==="mobile",isTablet:W==="tablet",isDesktop:W==="desktop"}},I=({pubId:R,preloads:U={}})=>{var W,K,G,re,$,F,Z,q,V,j,Y,ie,ce;const[de,z]=(0,t.eJ)((W=U.contentBlocks)!=null?W:[]),[Q,ae]=(0,t.eJ)((K=U.contributors)!=null?K:[]),[te,oe]=(0,t.eJ)((G=U.latestPodcastPosts)!=null?G:null),[ue,ee]=(0,t.eJ)((re=U.latestPostByContributorId)!=null?re:{}),[le,se]=(0,t.eJ)(($=U.homepageLinks)!=null?$:[]),[fe,ve]=(0,t.eJ)((F=U.newPosts)!=null?F:[]),[ge,be]=(0,t.eJ)((Z=U.pinnedPosts)!=null?Z:[]),[ne,me]=(0,t.eJ)((q=U.recommendations)!=null?q:[]),[Le,Re]=(0,t.eJ)((V=U.topPosts)!=null?V:[]),[Me,Ee]=(0,t.eJ)(!!U.newPosts),[we,Te]=(0,t.eJ)((j=U.postsBySectionId)!=null?j:{}),[De,Be]=(0,t.eJ)((Y=U.postsByTagId)!=null?Y:{}),[Ke,tt]=(0,t.eJ)((ie=U.postTagsById)!=null?ie:{}),[Ot,et]=(0,t.eJ)((ce=U.sectionsById)!=null?ce:{});return(0,t.d4)(()=>{var it;U.homepageLinks?((it=U.homepageLinks)==null?void 0:it.length)>le.length&&se(U.homepageLinks):C().get("/api/v1/homepage_links").then(({body:bt})=>se(bt))},[R,U.homepageLinks]),(0,t.d4)(()=>{var it;U.newPosts?((it=U.newPosts)==null?void 0:it.length)>fe.length&&ve(U.newPosts):C().get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:bt})=>{ve(bt),Ee(!0)})},[R,U.newPosts]),(0,t.d4)(()=>{var it;U.pinnedPosts?((it=U.pinnedPosts)==null?void 0:it.length)>ge.length&&be(U.pinnedPosts):C().get("/api/v1/archive").query({sort:"pinned"}).then(({body:bt})=>be(bt))},[R,U.pinnedPosts]),(0,t.d4)(()=>{var it;U.recommendations?((it=U.recommendations)==null?void 0:it.length)>ne.length&&me(U.recommendations):C().get(`/api/v1/recommendations/from/${R}`).query({limit:5}).then(bt=>{me(bt.body)})},[R,U.recommendations]),(0,t.d4)(()=>{var it;U.topPosts?((it=U.topPosts)==null?void 0:it.length)>Le.length&&Re(U.topPosts):C().get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:bt})=>Re(bt))},[R,U.topPosts]),(0,t.d4)(()=>{var it;(!U.postsBySectionId||!U.postsByTagId||!U.contributors)&&C().get("/api/v1/homepage_data").then(bt=>{Te(bt.body.postsBySectionId),Be(bt.body.postsByTagId),ae(bt.body.contributors),oe(bt.body.latestPodcastPosts),ee(bt.body.latestPostByContributorId),z(bt.body.contentBlocks),tt(bt.body.postTagsById),et(bt.body.sectionsById)}),U.contributors&&((it=U.contributors)==null?void 0:it.length)>Q.length&&ae(U.contributors),U.postsBySectionId&&!s()(U.postsBySectionId,we)&&Te(U.postsBySectionId),U.postsByTagId&&!s()(U.postsByTagId,De)&&Be(U.postsByTagId),U.contentBlocks&&!s()(U.contentBlocks,de)&&z(U.contentBlocks),U.postTagsById&&!s()(U.postTagsById,Ke)&&tt(U.postTagsById),U.sectionsById&&!s()(U.sectionsById,Ot)&&et(U.sectionsById)},[R,U.contributors,U.postsBySectionId,U.postsByTagId,U.contentBlocks,U.sectionsById,U.postTagsById]),(0,t.Ye)([de,te,ue,Q,le,fe,ge,we,De,Me,ne,Le,Ke,Ot])},L=()=>{const[R,U]=useState([]),[W,K]=useState({}),[G,re]=useState({});return useEffect(()=>{(()=>O(void 0,null,function*(){for(const F of R){if(F.post_source==="section"&&F.section_id&&!W[F.section_id]){const{body:Z}=yield request.get("/api/v1/archive").query({section_id:F.section_id,sort:"new",limit:13});K(q=>v(i({},q),{[String(F.section_id)]:Z}))}if(F.post_source==="tag"&&F.post_tag_id&&!G[F.post_tag_id]){const{body:Z}=yield request.get("/api/v1/archive").query({post_tag_id:F.post_tag_id,sort:"new",limit:13});re(q=>v(i({},q),{[String(F.post_tag_id)]:Z}))}}}))()},[R,W,G]),{contentBlocks:R,onChangeContentBlocks:U,postsBySectionId:W,postsByTagId:G}},S=R=>{const[U,W]=(0,t.eJ)(R.newPosts),[K,G]=(0,t.eJ)(R.pinnedPosts),[re,$]=(0,t.eJ)(R.topPosts),[F,Z]=(0,t.eJ)(R.postsLoaded),q=new Set((K||[]).map(Y=>Y.id)),V=(K||[]).concat((U||[]).filter();(0,t.d4)(()=>{var Y,ie;((Y=R.newPosts)==null?void 0:Y.length)!==U.length&&W(R.newPosts),((ie=R.pinnedPosts)==null?void 0:ie.length)!==K.length&&G(R.pinnedPosts),(R.topPosts||[]).length!==(re||[]).length&&$(R.topPosts),R.postsLoaded&&Z(!0)},[R.newPosts,R.pinnedPosts,R.topPosts,U.length,K.length,re,R.postsLoaded]);const j=(0,t.I4)(({post:Y})=>{if(!Y)return;const ie=[{list:re,setter:$},{list:K,setter:G},{list:U,setter:W}];for(const ce of ie){if(!ce.list)return;const de=ce.list.findIndex(z=>z.id===Y.id);if(de!==-1){const z=[...ce.list];z.splice(de,1,Y),ce.setter(z)}}},[U,K,re]);return{posts:V,topPosts:re||[],onChange:j,postsLoaded:F}},N=({bodyId:R})=>{const[U,W]=useState(null),[K,G]=useState(null);return useEffect(()=>{R==="grid-groups"&&(K||O(void 0,null,function*(){try{const $=yield request.get("/api/v1/publication/sections");G($.body)}catch($){console.error($)}}),U||O(void 0,null,function*(){try{const $=yield request.get("/api/v1/publication/post-tag");W($.body)}catch($){console.error($)}}))},[R,U,K]),{postTags:U,sections:K}}},62246:21958:(H,E,e)=>{"use strict";e.d(E,{L:()=>c});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,w=(l,i,v)=>i in l?P(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,D=(l,i)=>{for(var v in i||(i={}))p.call(i,v)&&w(l,v,i[v]);if(u)for(var v of u(i))d.call(i,v)&&w(l,v,i[v]);return l},M=(l,i)=>y(l,C(i));function c(l,i="div",v){return(0,f.forwardRef)((O,T)=>(0,t.createElement)(i,M(D(D({},v),O),{ref:T,className:g()(l,O==null?void 0:O.className)})))}},13045:(H,E,e)=>{"use strict";e.d(E,{HZ:()=>f.H,xu:()=>P.xu,zx:()=>s.zx,hE:()=>g.h,XZ:()=>O.X,ji:()=>I,iz:()=>C.i,o6:()=>s.o6,hs:()=>u.hs,tu:()=>u.tu,gq:()=>u.gq,hU:()=>s.hU,aN:()=>d.a,Tz:()=>y.Tz,v2:()=>D.v2,sN:()=>D.sN,u_:()=>w.u_,fe:()=>w.fe,mz:()=>w.mz,xB:()=>w.xB,gu:()=>U.g,rs:()=>c.r,xv:()=>l.xv,oi:()=>re.o,gx:()=>F.g,FN:()=>v.FN,u:()=>i.u,kG:()=>s.kG,E7:()=>P.E7,oB:()=>P.oB,yK:()=>P.yK,pm:()=>v.pm,dd:()=>v.dd});var t=e(11059),f=e(83787),s=e(84040),g=e(91041),P=e(4508),y=e(15187),C=e(48960),u=e(51126),p=e(94016),d=e(56288),w=e(62246),D=e(12876),M=e(92106),c=e(65414),l=e(43887),i=e(92630),v=e(75425),O=e(53570),T=e(6400);const I=({contentBelow:q,details:V,disabled:j,label:Y,name:ie,paddingBottom:ce,paddingTop:de,testid:z,track:Q,value:ae,onChange:te,usePublicationTheme:oe})=>(0,T.h)(u.gq,{as:"label",gap:8,paddingBottom:ce,paddingTop:de},(0,T.h)(O.X,{as:"div",checked:ae,name:ie!=null?ie:z,"data-track-input":Q,disabled:j,size:"small",onChange:te}),(0,T.h)(u.tu,{flex:"grow"},(0,T.h)(l.xv.B4,{as:"span",color:j?oe?"secondary-theme":"secondary":oe?"primary-theme":"primary"},Y),V&&(0,T.h)(l.xv.Detail,{color:oe?"secondary-theme":"secondary"},V),q));var L=e(72657),S=e(75328);const N={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},R=({children:q,label:V})=>h(FlexColumn,null,V&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},V),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},q));var U=e(2019),W=e(96427);const K=({details:q,helpText:V,label:j,name:Y,options:ie,paddingBottom:ce,paddingTop:de,value:z,onChange:Q})=>h(Field,{label:j,details:q,helpText:V,paddingTop:de,paddingBottom:ce,wrapWithLabel:!0},h(Select,{name:Y,value:z,onChange:Q},ie.map());var G=e(30396),re=e(34394);const $=({details:q,disabled:V,errors:j,helpText:Y,inputRef:ie,label:ce,name:de,paddingBottom:z,paddingTop:Q,value:ae,onChange:te})=>{const oe=useCallback(ue=>{te(ue.target.value)},[te]);return h(Field,{label:ce,details:q,errors:j,helpText:Y,paddingTop:Q,paddingBottom:z,wrapWithLabel:!0},h(TextInput,{ref:ie,error:!!(j!=null&&j.length),disabled:V,name:de,value:ae,onChange:oe}))};var F=e(27885);const Z=({details:q,disabled:V,helpText:j,label:Y,paddingBottom:ie,paddingTop:ce,value:de,onChange:z})=>{const Q=useCallback(ae=>{z(ae.target.value)},[z]);return h(Field,{details:q,helpText:j,label:Y,paddingBottom:ie,paddingTop:ce,wrapWithLabel:!0},h(Textarea,{disabled:V,value:de,onChange:Q}))}},53150:(H,E,e)=>{"use strict";e.d(E,{V:()=>P});var t=e(85928),f=e.n(t),s=e(8111);const g=(y,C)=>{var u,p,d,w,D;let M=dayjs((u=y==null?void 0:y.postSchedule)==null?void 0:u.trigger_at).diff(dayjs(),"day");const{iString:c,iPlural:l}=I18N.i(C);if(M>0)switch((p=y==null?void 0:y.postSchedule)==null?void 0:p.post_audience){case"founding":return l("Your founding list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your founding list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",M);case"only_paid":return l("Your paid list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your paid list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",M);case"only_free":return l("Your free list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your free list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",M);default:return l("Your whole list will receive your post in %1 day. Spread the word and tease your upcoming post to find new readers!","Your whole list will receive your post in %1 days. Spread the word and tease your upcoming post to find new readers!",M)}else if(M=dayjs((d=y==null?void 0:y.postSchedule)==null?void 0:d.trigger_at).diff(dayjs(),"hour"),M>0)switch((w=y==null?void 0:y.postSchedule)==null?void 0:w.post_audience){case"founding":return l("Your founding list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your founding list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",M);case"only_paid":return l("Your paid list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your paid list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",M);case"only_free":return l("Your free list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your free list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",M);default:return l("Your whole list will receive your post in %1 hour. Spread the word and tease your upcoming post to find new readers!","Your whole list will receive your post in %1 hours. Spread the word and tease your upcoming post to find new readers!",M)}else switch((D=y==null?void 0:y.postSchedule)==null?void 0:D.post_audience){case"founding":return c("Your founding list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!");case"only_paid":return c("Your paid list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!");case"only_free":return c("Your free list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!");default:return c("Your whole list will receive your post in less than an hour. Spread the word and tease your upcoming post to find new readers!")}},P=(y,C)=>{const{iString:u}=s.I18N.i(C);switch(y){case"square":return u("Square");case"instagram":return"instagram";case"stories":return u("stories")}}},50292:(H,E,e)=>{"use strict";e.d(E,{SJ:()=>P});var t=e(6400),f=e(30396);const s=(0,t.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function g(y,{shouldShowGetAppPill:C=!0,style:u,alwaysPinTitle:p,backAction:d,onRefresh:w}={}){const D=P();return useLayoutEffect(()=>{D.setChildOptions({title:y,style:u,alwaysPinTitle:p,backAction:d,shouldShowGetAppPill:C,onRefresh:w})},[D,y,u,d,C,w]),useLayoutEffect([]),D}function P(){return(0,f.qp)(s)}},56472:(H,E,e)=>{"use strict";e.d(E,{I0:()=>P});var t=e(6400),f=e(30396);const s={user:null,inbox:{threads:[],isLoading:!0,filter:"all"},users:new Map,communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map,conversations:new Map},g=(0,t.createContext)(()=>Promise.resolve());function P(){return(0,f.qp)(g)}const y=(0,t.createContext)(s);function C(){return useContext(y)}},19696:41474:(H,E,e)=>{"use strict";e.d(E,{CD:()=>L,Gv:()=>W,Kr:()=>U,MJ:()=>I,iI:()=>i,qG:()=>T,rw:()=>M,zi:()=>D});var t=e(69371),f=e(3258),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(K,G,re)=>G in K?s(K,G,{enumerable:!0,configurable:!0,writable:!0,value:re}):K[G]=re,d=(K,G)=>{for(var re in G||(G={}))C.call(G,re)&&p(K,re,G[re]);if(y)for(var re of y(G))u.call(G,re)&&p(K,re,G[re]);return K},w=(K,G)=>g(K,P(G));function D(K,G,{extraEventProps:re={},tabId:$,primaryItem:F}={}){O("seen",K,G,{extraEventProps:re,tabId:$,primaryItem:F})}function M(K,G,re,{extraEventProps:$={},tabId:F,primaryItem:Z}={}){O("clicked",K,G,{extraEventProps:w(d({clicked_element:re},$),{tabId:F,primaryItem:Z})})}function c(K,G,{primaryItem:re}={}){var $,F,Z,q,V,j,Y;return{item_primary_entity_key:re&&"entity_key"in re?re.entity_key:"entity_key"in K?K.entity_key:"",item_entity_key:"entity_key"in K?K.entity_key:"",item_type:K.type,item_context_type:"context"in K?K.context.type:"",item_context_type_bucket:"context"in K&&($=K.context.typeBucket)!=null?$:"",item_context_timestamp:new Date("context"in K?K.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in K?(F=K.context.users[0])==null?void 0:F.id:void 0,item_context_user_ids:"context"in K&&((q=(Z=K.context.users)==null?void 0:Z.length)!=null?q:0)>0?K.context.users.map(({id:ie})=>ie):[],item_publication_id:"publication"in K?(V=K.publication)==null?void 0:V.id:void 0,item_post_id:(j=K.post)==null?void 0:j.id,item_comment_id:(Y=K.comment)==null?void 0:Y.id,item_can_reply:"canReply"in K?K.canReply:!0,tab_id:G!=null?G:void 0,item_module_id:"id"in K?K.id:void 0}}function l(K,G,{primaryItem:re}={}){return K.type==="comment"||K.type==="post"||K.type==="featuredCollection"||K.type==="featuredPublication"||K.type==="postLeaderboard"||K.type==="recommendedPosts"?K.trackingParameters:c(K,G,{primaryItem:re})}function i(K,{primaryItem:G}={}){return w(d({},K),{trackingParameters:c(K,null,{primaryItem:G})})}const v=new Map([["postLeaderboard","leaderboard"],["recommendedPosts","recommended"],["featuredCollection","featured_collection"],["featuredPublication","featured_publication"]]);function O(K,G,re,{extraEventProps:$={},tabId:F,primaryItem:Z}={}){const q=l(G,F!=null?F:null,{primaryItem:Z}),V=v.get(G.type);(0,f.track)(K==="seen"?f.EVENTS.FEED_ITEM_SEEN:f.EVENTS.FEED_ITEM_CLICKED,d(d({surface:re,tabId:F,module:V},q),$))}function T(K,G,re,{extraEventProps:$={},tabId:F,primaryItem:Z}={}){const q=l(G,F!=null?F:null,{primaryItem:Z}),V=v.get(G.type);(0,f.track)(K==="seen"?f.EVENTS.FEED_MODULE_ITEM_SEEN:f.EVENTS.FEED_MODULE_ITEM_CLICKED,d(d({surface:re,tabId:F,module:V},q),$))}function I(K,G,{extraEventProps:re={}}={}){S("seen",K,G,{extraEventProps:re})}function L(K,G,re,{extraEventProps:$={}}={}){S("clicked",K,G,{extraEventProps:d({clicked_element:re},$)})}function S(K,G,re,{extraEventProps:$={}}={}){var F,Z,q,V;(0,f.track)(K==="seen"?f.EVENTS.FEED_USER_SUGGESTION_SEEN:f.EVENTS.FEED_USER_SUGGESTION_CLICKED,d({suggested_user_id:G.user.id,suggested_publication_id:(Z=(F=G.publication)==null?void 0:F.id)!=null?Z:null,suggestion_source:(q=G.source)!=null?q:null,suggestion_id:(V=G.id)!=null?V:null,surface:re},$))}function N(K,{utm_source:G}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:G,tab_id:K})}function R(K,{utm_source:G}={}){const re=l(K,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,d({utm_source:G},re))}function U(K,G,{tabId:re,noteId:$}={}){(0,f.track)(f.EVENTS.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:K,reason:G,tabId:re,noteId:$})}function W(K,{props:G,isModuleItem:re}={}){const $=(0,t.rI)(),F=re?T:O;return Z=>{F("clicked",K,$,{extraEventProps:d({clicked_element:Z},G)})}}},91870:(H,E,e)=>{"use strict";e.d(E,{I0:()=>I,RR:()=>T,d6:()=>N,ev:()=>S,kc:()=>R});var t=e(6400),f=e(30396),s=e(70444),g=e(20501),P=e(95582),y=e(8479),C=e(17025),u=e.n(C),p=e(41474),d=Object.defineProperty,w=Object.defineProperties,D=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(V,j,Y)=>j in V?d(V,j,{enumerable:!0,configurable:!0,writable:!0,value:Y}):V[j]=Y,v=(V,j)=>{for(var Y in j||(j={}))c.call(j,Y)&&i(V,Y,j[Y]);if(M)for(var Y of M(j))l.call(j,Y)&&i(V,Y,j[Y]);return V},O=(V,j)=>w(V,D(j));const T=(0,t.createContext)({dispatch:()=>Promise.resolve()});function I(){return(0,f.qp)(T).dispatch}const L={isSigningIn:!1,signInNoExit:!1,pages:[],readingQueue:[],posts:new Map,publications:new Map,comments:new Map,inboxItems:new Map},S=(0,t.createContext)(L);function N({initialData:V={}}={}){return(0,P.L)(U,V,({feedItem:j,readingQueue:Y})=>{let ie=L;return j&&(ie=K(ie,j)),Y&&(ie=Z(ie,Y)),ie})}function R(){return(0,f.qp)(S)}function U(V,j){var Y,ie,ce,de;switch(j.type){case"sign_in":return O(v({},V),{lastDispatchType:j.type,isSigningIn:j.payload.isSigningIn,signInNoExit:(Y=j.payload.signInNoExit)!=null?Y:!1});case"page_load":{const{result:z}=j.payload;return O(v({},W(V,z.items)),{lastDispatchType:j.type,pages:(0,y.x8)(V.pages,j)})}case"post_load":{const{post:z,publication:Q}=j.payload;return F(V,{posts:[z],publications:[Q]})}case"post_like":{const{postId:z,isLiked:Q}=j.payload,ae=V.posts.get(z);return G(V,j.type,z,re(ae,Q))}case"post_restack":{const{postId:z,isRestacked:Q}=j.payload,ae=V.posts.get(z);return ae?G(V,j.type,z,$(ae,Q)):V}case"post_delete":{const{publication:z,post:Q}=j.payload,ae=new Map(V.posts);ae.delete(Q.id);const te=new Map([...V.comments].filter(([oe,ue])=>ue.post_id!==Q.id));return[(0,g.getFeedPostUrl)(Q.id,{noBase:!0}),(0,g.getFeedShortPostUrl)(z,Q,{noBase:!0})].includes(window.location.pathname)&&(0,C.redirect)(s.Ds,{replace:!0}),O(v({},V),{lastDispatchType:j.type,posts:ae,comments:te,pages:V.pages.map(oe=>O(v({},oe),{result:oe.result?O(v({},oe.result),{items:oe.result.items.filter(ue=>{var ee;return((ee=ue.post)==null?void 0:ee.id)!==Q.id})}):oe.result}))})}case"post_save":{const{postId:z,isSaved:Q}=j.payload;return V.posts.get(z)?G(V,j.type,z,{is_saved:Q}):V}case"comment_like":{const{commentId:z,isLiked:Q}=j.payload,ae=V.comments.get(z);return O(v({},V),{lastDispatchType:j.type,comments:q(V.comments,z,O(v({},ae),{reaction:Q?"\u2764":void 0,reactions:O(v({},ae.reactions),{"\u2764":(((ie=ae.reactions)==null?void 0:ie["\u2764"])||0)+(Q?1:-1)}),reaction_count:(ae.reaction_count||0)+(Q?1:-1)}))})}case"comment_restack":{const{commentId:z,isRestacked:Q}=j.payload,ae=V.comments.get(z);return O(v({},V),{lastDispatchType:j.type,comments:ae?q(V.comments,z,O(v({},ae),{restacked:Q,restacks:(ae.restacks||0)+(Q?1:-1)})):V.comments})}case"comment_delete":{const{comment:z}=j.payload,Q=new Map(V.posts),ae=new Map([...V.comments].filter(([ue,ee])=>ee.id!==z.id&&!new RegExp(`(^|.)${z.id}(.|$)`).test(ee.ancestor_path))),te=Q.get(z.post_id),oe=z.ancestor_path&&ae.get(Number(z.ancestor_path.split(".").pop()));return oe?ae.set(oe.id,O(v({},oe),{children_count:(oe.children_count||1)-1,children:(oe.children||[]).filter(ue=>ue.id!==z.id)})):te&&Q.set(te.id,O(v({},te),{child_comment_count:(te.child_comment_count||1)-1})),[(0,g.getFeedCommentUrl)(z,{noBase:!0})].includes(window.location.pathname)&&(0,C.redirect)(s.Ds,{replace:!0}),O(v({},V),{lastDispatchType:j.type,posts:Q,comments:ae,pages:V.pages.map(ue=>O(v({},ue),{result:ue.result?O(v({},ue.result),{items:ue.result.items.filter(ee=>{var le;return((le=ee.comment)==null?void 0:le.id)!==z.id&&!(ee.parentComments||[]).filter(Boolean).map(se=>se.id).includes(z.id)})}):ue.result}))})}case"new_post":return O(v({},V),{lastDispatchType:j.type,publications:new Map([...V.publications].concat([[j.payload.publication.id,j.payload.publication]])),posts:new Map([...V.posts].concat([[j.payload.post.id,j.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,s.vy)(j.payload.post.id),publication:j.payload.publication,post:j.payload.post,context:j.payload.context||{}}]}},...V.pages]});case"new_comment":{const{comment:z}=j.payload,Q=new Map(V.posts),ae=Q.get(z.post_id);ae&&Q.set(ae.id,O(v({},ae),{child_comment_count:(ae.child_comment_count||0)+1}));const te=new Map(V.comments);te.set(z.id,z);const oe=(((ce=z.ancestor_path)==null?void 0:ce.split("."))||[]).map(Number).filter(Boolean).map(,ue=(de=oe[oe.length-1])!=null?de:null;ue&&te.set(ue.id,O(v({},ue),{children_count:(ue.children_count||0)+1,children:[z].concat(ue.children||[])}));const le=[{error:null,isLoading:!1,result:{items:[(0,p.iI)({type:"comment",entity_key:(0,s.It)(z.id),comment:z,parentComments:oe,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}})]}},...V.pages];return O(v({},V),{lastDispatchType:j.type,posts:Q,comments:te,pages:le})}case"edit_comment":{const{comment:z}=j.payload,Q=new Map(V.comments);return Q.set(z.id,z),O(v({},V),{lastDispatchType:j.type,comments:Q})}case"comments_load":{const{comments:z}=j.payload,Q=[],ae=z.slice();for(;ae.length>0;){const te=ae.pop();Q.push(te),ae.push(...te.children||[])}return O(v({},V),{lastDispatchType:j.type,comments:new Map([...V.comments].concat(Q.map(te=>[te.id,te])))})}case"item_load":{const{item:z}=j.payload;return O(v({},K(V,z)),{lastDispatchType:j.type})}case"items_load":{const{items:z}=j.payload;return O(v({},W(V,z)),{lastDispatchType:j.type})}case"new_feed_items":{const z=[...V.pages];if(j.payload.insertLocation){const Q={error:null,isLoading:!1,result:{items:j.payload.feedItems}};j.payload.insertLocation==="prepend"?z.unshift(Q):j.payload.insertLocation==="append"&&z.push(Q)}return O(v({},W(V,j.payload.feedItems)),{lastDispatchType:j.type,pages:z})}case"inbox_load":return Z(V,j.payload);case"inbox_item_archive":{const{contentKey:z}=j.payload,Q=V.inboxItems.get(z);return O(v({},V),{inboxItems:q(V.inboxItems,z,O(v({},Q),{archived_at:new Date().toISOString()}))})}}return O(v({},V),{lastDispatchType:j.type,pages:(0,y.x8)(V.pages,j)})}function W(V,j){const Y=new Map(V.publications),ie=new Map(V.posts),ce=new Map(V.comments);for(const de of j){if("publication"in de&&de.publication&&Y.set(de.publication.id,de.publication),"post"in de){const{post:z}=de;z&&ie.set(z.id,z)}if("comment"in de){const{comment:z}=de;if(z&&(ce.set(z.id,z),z.attachments))for(const Q of z.attachments)Q.type==="post"&&(ie.set(Q.post.id,Q.post),Y.set(Q.publication.id,Q.publication))}if("parentComments"in de)for(const z of de.parentComments)z&&ce.set(z.id,z)}return O(v({},V),{publications:Y,posts:ie,comments:ce})}function K(V,j){var Y;return O(v({},V),{posts:j.post?q(V.posts,j.post.id,j.post):V.posts,publications:j.publication?q(V.publications,j.publication.id,j.publication):V.publications,comments:new Map([...V.comments].concat([j.comment,...(Y=j.parentComments)!=null?Y:[]].filter(Boolean).map(ie=>[ie.id,ie])))})}function G(V,j,Y,ie){const ce=new Map(V.posts),de=ce.get(Y);return de&&ce.set(de.id,v(v({},de),ie)),O(v({},V),{lastDispatchType:j,posts:ce})}function re(V,j){var Y;const ie=j!=null?j:!V.reaction,ce="\u2764";return{reaction:ie,reactions:{[ce]:(((Y=V.reactions)==null?void 0:Y[ce])||0)+(j?1:-1)}}}function $(V,j){return{restacked:j,restacks:(V.restacks||0)+(j?1:-1)}}function F(V,{posts:j,publications:Y}){const ie=new Map(V.posts);for(const de of j)ie.set(de.id,v(v({},ie.get(de.id)),de));const ce=new Map(V.publications);for(const de of Y)ce.set(de.id,v(v({},ce.get(de.id)),de));return O(v({},V),{posts:ie,publications:ce})}function Z(V,j){return O(v({},F(V,j)),{readingQueue:j.inboxItems.map(Y=>Y.content_key),inboxItems:new Map([...V.inboxItems].concat(j.inboxItems.map(Y=>[Y.content_key,Y])))})}function q(V,j,Y){const ie=new Map(V);return ie.set(j,Y),ie}},73413:(H,E,e)=>{"use strict";e.d(E,{L:()=>f});var t=e(30123);const f=document.location.origin===t.tE},15337:(H,E,e)=>{"use strict";e.d(E,{i:()=>g});var t=e(67963),f=e(3258),s=e(50292);function g(P){const y=(0,t.aF)(),{onboardingModalRef:C}=(0,s.SJ)();return(u,p)=>d=>{var w,D;if(!y){if(!C.current)return;d.preventDefault(),p?(w=C.current)==null||w.openForPub(u,p):(D=C.current)==null||D.openToPubSignup(u);return}(0,f.trackPublicationVisit)(u,P)}}},44396:(H,E,e)=>{"use strict";e.d(E,{XA:()=>y});var t=e(30396),f=e(1852),s=e.n(f),g=e(17025),P=e.n(g);nction u(){const[p,d]=useState(!1);return useLayoutEffect([]),p}},72307:(H,E,e)=>{"use strict";e.d(E,{Th:()=>l,Y0:()=>v,_V:()=>T,e:()=>c,lV:()=>M});var t=e(6400),f=e(30396),s=e(8479),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(I,L,S)=>L in I?g(I,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):I[L]=S,w=(I,L)=>{for(var S in L||(L={}))u.call(L,S)&&d(I,S,L[S]);if(C)for(var S of C(L))p.call(L,S)&&d(I,S,L[S]);return I},D=(I,L)=>P(I,y(L));function M(I){const L=(0,s.ib)({pathname:"/api/v1/subscriptions",auto:I,deps:[]});return(0,f.Ye)(()=>D(w({},L),{result:L.result?D(w({},L.result),{publicationMap:new Map(L.result.publications.map(N=>[N.id,N])),subscriptionMap:new Map(L.result.subscriptions.map(N=>[N.publication_id,N])),publicationUserMap:new Map(L.result.publicationUsers.map(N=>[N.publication_id,N]))}):null}),[L])}const c=(0,t.createContext)(s.do);function l(){return(0,f.qp)(c)}function i(I){var L;const{subscriptionMap:S,publicationUserMap:N,publicationsWithPledges:R}=(L=l().result)!=null?L:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},U=S.get(I),W=N.get(I);return{subscription:U,publicationUser:W,is_pledged:!!(R!=null&&R.includes(I))}}function v(I){const{subscription:L,publicationUser:S,is_pledged:N}=i(I),R=(L==null?void 0:L.membership_state)==="free_signup",U=(L==null?void 0:L.membership_state)==="subscribed",W=!!(L!=null&&L.is_founding),K=!!(S&&["contributor","admin"].includes(S.role));return{subscription:L,publicationUser:S,isFreeSubscribed:R,isPaid:U,isSubscribed:R||U,isAuthor:K,isFounding:W,isPledged:N}}function O(){var I,L,S;const{publicationUsers:N,publicationMap:R}=(I=l().result)!=null?I:{publicationMap:new Map,publicationUsers:[]},U=(S=(L=N.find(W=>W.is_primary))!=null?L:N.find(W=>W.role==="admin"))!=null?S:N.find(W=>W.role==="contributor");return U&&R.get(U.publication_id)}function T(I){var L,S;const{publicationUsers:N}=(L=l().result)!=null?L:{publicationUsers:[]};return(S=N.find(R=>R.publication_id===I))!=null?S:null}},42208:(H,E,e)=>{"use strict";e.d(E,{Mv:()=>L,U6:()=>U,a9:()=>re,nK:()=>Z,ty:()=>F});var t=e(39693),f=e.n(t),s=e(24350),g=e.n(s),P=e(86575),y=e(3258),C=e(63030),u=e(17025),p=e.n(u),d=e(52743),w=e(20501),D=Object.defineProperty,M=Object.defineProperties,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(q,V,j)=>V in q?D(q,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):q[V]=j,T=(q,V)=>{for(var j in V||(V={}))i.call(V,j)&&O(q,j,V[j]);if(l)for(var j of l(V))v.call(V,j)&&O(q,j,V[j]);return q},I=(q,V)=>M(q,c(V));const L=({pub:q,podcastUpload:V,section:j,thumbnailInfo:Y,useSection:ie})=>{if(ie){const oe=j?(0,w.getSectionUrl)(q,{section:j}):(0,w.getBaseUrl)(q);return j?{artUrl:j.logo_url,backgroundUrl:j.cover_photo_url,description:j.description,paidArtUrl:null,title:j.name,url:oe}:{artUrl:q.logo_url,backgroundUrl:q.cover_photo_url,description:null,paidArtUrl:null,title:q.name,url:oe}}const{title:ce,description:de,artUrl:z,paidEpisodeArtUrl:Q}=j&&!ie?(0,C.getSectionPodcastSettings)({pub:q,section:j}):(0,C.getPubPodcastSettings)({pub:q}),ae=j?(0,w.getSectionUrl)(q,{section:j}):(0,w.getBaseUrl)(q);let te=z;if(V&&Y&&Y.thumbnail_id>1){const oe=(0,d.getMediaUploadThumbnailUrlForPlayer)(I(T({},V),{id:Y.media_upload_id,post_id:Y.post_id,thumbnail_id:Y.thumbnail_id}));oe&&(te=oe)}else if(V&&V.thumbnail_id>1){const oe=(0,d.getMediaUploadThumbnailUrlForPlayer)(V);oe&&(te=oe)}return{artUrl:z,backgroundUrl:te,description:de,paidArtUrl:Q!=null?Q:null,title:ce,url:ae}},S=[{key:"apple_podcasts",label:"Apple Podcasts",fieldName:"apple_podcasts_url"},{key:"google_podcasts",label:"Google Podcasts",fieldName:"google_podcasts_url"},{key:"overcast",label:"Overcast",fieldName:"overcast_url"},{key:"pocket_casts",label:"Pocket Casts",fieldName:"pocket_casts_url"},{key:"spotify",label:"Spotify",fieldName:"spotify_url"},{key:"youtube",label:"YouTube",fieldName:"youtube_url"}],N=({platform:q,feedUrl:V,isApple:j,isMobile:Y})=>V?q==="apple_podcasts"&&j?`podcast://${(0,d.stripProtocol)(V)}`:q==="google_podcasts"&&Y?`googlepodcasts://subscribe-by-rss-feed?feed=${btoa(V)}`:q==="overcast"&&Y?`overcast://x-callback-url/add?url=${encodeURIComponent(V)}`:q==="pocket_casts"&&Y?`pktc://subscribe/${(0,d.stripProtocol)(V)}`:null:null,R=({feedUrl:q,isApple:V,isMobile:j,showLinks:Y,isPaid:ie})=>{var ce;const de=[];for(const z of S){let Q;ie&&z.key!=="youtube"?Q=N({platform:z.key,feedUrl:q,isApple:V,isMobile:j}):Q=(ce=Y[z.fieldName])!=null?ce:N({platform:z.key,feedUrl:q,isApple:V,isMobile:j}),Q&&de.push({platform:z.key,url:Q})}return de},U=({feedUrl:q,isApple:V,isMobile:j,render:Y,showLinks:ie,user:ce,analyticsSource:de="shows_episode_page"})=>{const z=g()(S,"key");return f()([...R({feedUrl:q,isApple:V,isMobile:j,showLinks:ie,isPaid:!!(ce!=null&&ce.is_subscribed)}).map(Q=>{const ae=z[Q.platform].label;return Y({key:Q.platform,label:ae,url:Q.url,onClick:()=>{(0,y.track)(y.EVENTS.PODCAST_APP_LINK_CLICK,{appName:ae,feedUrl:q,url:Q.url,source:de}),j||window.open(Q.url,"_blank")}})}),q&&Y({key:"rss",label:"RSS Feed",url:q,onClick:()=>{(0,y.track)(y.EVENTS.PODCAST_FEED_URL_COPIED,{feedUrl:q,source:de}),(0,P.ZP)("RSS feed URL copied"),(0,u.copyToClipboard)(q)}})])},W={apple_podcasts:["https://podcasts.apple.com/","https://itunes.apple.com/"],google_podcasts:["https://podcasts.google.com/"],overcast:["https://overcast.fm/"],pocket_casts:["https://pca.st/"],spotify:["https://open.spotify.com/"],youtube:["https://youtube.com/"]},K=({platform:q,url:V,language:j})=>{const{iString:Y,iTemplate:ie}=I18N.i(j),ce=W[q];return ce.every(de=>!V.startsWith(de))?{isValid:!1,message:ie`Invalid URL. URL should start with "${ce[0]}"`}:V.length>255?{isValid:!1,message:Y("URL can't be longer than 255 characters")}:{isValid:!0,message:null}},G=({showLinks:q,language:V="en"})=>{const j={};let Y=!1;for(const ie of S){const ce=q[ie.fieldName];if(!ce)continue;const{isValid:de,message:z}=K({platform:ie.key,url:ce,language:V});!de&&z&&(j[ie.fieldName]=z,Y=!0)}return Y?j:null},re=({pub:q,section:V})=>$(V?V.showLinks:q.show_links),$=q=>{const V={apple_podcasts_url:null,google_podcasts_url:null,overcast_url:null,pocket_casts_url:null,spotify_url:null,youtube_url:null};if(!q)return V;for(const j of q){const Y=`${j.platform}_url`;V[Y]=j.url}return V},F="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",Z="comments-for-scroll"},82622:(H,E,e)=>{"use strict";e.d(E,{COMMENT_STATUS:()=>u,Hz:()=>P,Ng:()=>d,Sh:()=>y,Zu:()=>g,_N:()=>w,hO:()=>C});var t=e(85200),f=e(46131);const s=1e4,g=9999,P=({likesEnabled:l=!0,language:i="en"}={})=>{const{iString:v}=I18N.i(i),O=[];return O.push({key:"most_recent_first",text:v("New First"),description:v("Newest first (good for live events)")}),l&&O.push({key:"best_first",text:v("Top First"),description:v("Top ranked first")}),O.push({key:"oldest_first",text:v("Chronological"),description:v("Chronological order (oldest first)")}),O},y=(l,i)=>P({language:i}).find(v=>v.key===l).text,C=function(l,i){if(Symbol.iterator in Object(l)){for(const v of l)if(i(v)===!1||C(v.children||[],i)===!1)return!1}},u={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required",reported:"reported"},p=new Set([u.review_required,u.edit_review_required,u.published,u.moderator_approved,u.new_commenter_approval_required,u.reported]),d=l=>l.deleted?!1:p.has(l.status);function w(l,i){const{attachments:v}=l;if(v&&v.length>0){for(const O of v)if(O.type==="post"){for(const T of O.post.publishedBylines)if(T.id===i)return!0;if((0,t.wN)(O.publication,i))return!0}else if(O.type==="comment"){if(O.comment.user_id===i)return!0}else if(O.type==="publication"&&(0,t.wN)(O.publication,i))return!0}return D(l).has(i)}function D(l){var i,v,O;const T=[];if(l.body_json)for(const I of(0,f.Z)(l.body_json))I.type==="substack_mention"&&(((i=I.attrs)==null?void 0:i.mentionType)==="user"||!((v=I.attrs)!=null&&v.mentionType))&&T.push((O=I.attrs)==null?void 0:O.id);return new Set(T)}function M(l){var i,v;const O=[];if(l.body_json)for(const T of traverse(l.body_json))T.type==="substack_mention"&&((i=T.attrs)==null?void 0:i.mentionType)==="pub"&&O.push((v=T.attrs)==null?void 0:v.id);return new Set(O)}function c(l){return l!=null&&l.body_json?!isEmptyNode(l.body_json):!1}},44043:(H,E,e)=>{"use strict";e.d(E,{F:()=>t});const t={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_MEDIA_CLICKED:"Add Episode Media Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",ADD_WATERMARK_CLICKED:"Add Watermark Clicked",ALL_FOLLOW_RECOMMENDATIONS_TOGGLED:"All Follow Recommendations Toggled",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_INSTALL_MODAL_OPENED:"App Install Modal Opened",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",APP_STORE_LINK_CLICKED:"App Store Link Clicked",APP_STORE_REDIRECT_CLICKED:"App Store Redirect Clicked",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIOGRAM_DOWNLOAD_CLICKED:"Audiogram Download Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BESTSELLER_SURVEY_MODAL_CLOSED:"Bestseller Survey Modal Closed",BESTSELLER_SURVEY_MODAL_SEEN:"Bestseller Survey Modal Seen",BESTSELLER_SURVEY_MODAL_SUBMITTED:"Bestseller Survey Modal Submitted",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_READER_PARTICIPATION_CHANGED:"Chat Reader Participation Changed",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_CLICKED:"Comments Clicked",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COOKIE_BANNER_CLICKED:"Cookie Banner Clicked",COOKIE_BANNER_SEEN:"Cookie Banner Seen",COOKIE_MANAGEMENT_MODAL_COOKIE_TOGGLED:"Cookie Management Modal Cookie Toggled",COOKIE_MANAGEMENT_MODAL_DISMISSED:"Cookie Management Modal Dismissed",COOKIE_MANAGEMENT_MODAL_SEEN:"Cookie Management Modal Seen",COOKIE_MANAGEMENT_MODAL_SUBMITTED:"Cookie Management Modal Submitted",COOKIE_PREFERENCES_SET:"Cookie Preferences Set",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_REFERRAL_VISIT:"Cover Page Referral Visit",COVER_PAGE_SHOWN:"Cover Page Shown",CREDIT_TOKEN_OPT_OUT_MODAL_CLOSED:"Credit Token Opt Out Modal Closed",CREDIT_TOKEN_OPT_OUT_MODAL_SEEN:"Credit Token Opt Out Modal Seen",CREDIT_TOKEN_READER_ONBOARDING_STARTED:"Credit Token Reader Onboarding Started",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DASHBOARD_ACTION_CTA_DISMISSED:"Dashboard Action Cta Dismissed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_AWARENESS_UPDATED:"Editor Awareness Updated",EDITOR_CONVERSION_SURVEY_SUBMITTED:"Editor Conversion Survey Submitted",EDITOR_MEDIA_DOWNLOAD_CLICKED:"Editor Media Download Clicked",EDITOR_MEDIA_REMOVE_CLICKED:"Editor Media Remove Clicked",EDITOR_MEDIA_SET_THUMBNAIL_FROM_TIMELINE_CLICKED:"Editor Media Set Thumbnail From Timeline Clicked",EDITOR_MEDIA_SET_THUMBNAIL_UPLOAD_IMAGE_CLICKED:"Editor Media Set Thumbnail Upload Image Clicked",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_DISABLED_PAGE_APP_UPSELL_CLICKED:"Email Disabled Page App Upsell Clicked",EMAIL_DISABLED_PAGE_SEEN:"Email Disabled Page Seen",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Follow Suggestions Screen Completed",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_VIEWED:"Facebook Follow Suggestions Screen Viewed",FACEBOOK_PROFILE_VISIBLE_TOGGLED:"Facebook Profile Visible Toggled",FACEBOOK_PUB_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Pub Suggestions Screen Completed",FACEBOOK_PUB_SUGGESTIONS_SCREEN_VIEWED:"Facebook Pub Suggestions Screen Viewed",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURED_COLLECTION_ITEM_CLICKED:"Featured Collection Item Clicked",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_MODULE_ITEM_CLICKED:"Feed Module Item Clicked",FEED_MODULE_ITEM_SEEN:"Feed Module Item Seen",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOLLOW_RECOMMENDATIONS_DISABLED:"Follow Recommendations Disabled",FOLLOW_RECOMMENDATIONS_ENABLED:"Follow Recommendations Enabled",FOLLOW_RECOMMENDATIONS_PICKER_CLOSED:"Follow Recommendations Picker Closed",FOLLOW_RECOMMENDATIONS_PICKER_OPENNED:"Follow Recommendations Picker Openned",FOLLOW_RECOMMENDATION_ADDED:"Follow Recommendation Added",FOLLOW_RECOMMENDATION_REMOVED:"Follow Recommendation Removed",FOLLOW_REFERRER_PROMPT_CTA_CLICKED:"Follow Referrer Prompt Cta Clicked",FOLLOW_REFERRER_PROMPT_DISMISSED:"Follow Referrer Prompt Dismissed",FOLLOW_REFERRER_PROMPT_REDIRECTED:"Follow Referrer Prompt Redirected",FOLLOW_REFERRER_PROMPT_SHOWN:"Follow Referrer Prompt Shown",FOLLOW_REFERRER_PROMPT_SIGNUP_FAILED:"Follow Referrer Prompt Signup Failed",FOLLOW_REFERRER_PROMPT_SIGN_IN_INITIATED:"Follow Referrer Prompt Sign In Initiated",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED:"Free Preview Paywall Restart Button Clicked",FREE_PREVIEW_PAYWALL_SHOWN:"Free Preview Paywall Shown",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GOOGLE_SIGN_IN_STARTED:"Google Sign In Started",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",GROW_TAB_CTA_CLICKED:"Grow Tab Cta Clicked",GROW_TAB_SUGGESTION_SHOWN:"Grow Tab Suggestion Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMAGE_CONTEXT_MENU_CLICKED:"Image Context Menu Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR:"Import Publication Error",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_FILE_UPLOAD_ERROR:"Import Publication File Upload Error",IMPORT_PUBLICATION_FILE_UPLOAD_STARTED:"Import Publication File Upload Started",IMPORT_PUBLICATION_FILE_UPLOAD_SUCCEEDED:"Import Publication File Upload Succeeded",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_LAYOUT_CHANGED:"Inbox Layout Changed",INBOX_POST_CLICKED:"Inbox Post Clicked",INBOX_TAB_CHANGED:"Inbox Tab Changed",INSTAGRAM_SHARE_MODAL_SEEN:"Instagram Share Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SEEN:"Internationalization Beta Optin Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SUBMITTED:"Internationalization Beta Optin Modal Submitted",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_CREDIT_SHARE_SCREEN_SHOWN:"Invite Friends Credit Share Screen Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",INVITE_FRIENDS_PAGE_SEEN:"Invite Friends Page Seen",INVITE_FRIENDS_SIGNIN_MODAL_SEEN:"Invite Friends Signin Modal Seen",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LIKE_UPSELL_SHARE_CLICKED:"Like Upsell Share Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",LIST_MANAGEMENT_MODAL_CLOSED:"List Management Modal Closed",LIST_MANAGEMENT_MODAL_ERROR:"List Management Modal Error",LIST_MANAGEMENT_MODAL_PUBLICATION_ADDED:"List Management Modal Publication Added",LIST_MANAGEMENT_MODAL_PUBLICATION_REMOVED:"List Management Modal Publication Removed",LIST_MANAGEMENT_MODAL_PUBLICATION_SEARCHED:"List Management Modal Publication Searched",LIST_MANAGEMENT_MODAL_PUBLICATION_SUGGESTION_ADDED:"List Management Modal Publication Suggestion Added",LIST_MANAGEMENT_MODAL_SEEN:"List Management Modal Seen",LIST_MANAGEMENT_MODAL_SUBMITTED:"List Management Modal Submitted",LIST_PAGE_EDIT_CLICKED:"List Page Edit Clicked",LIST_PAGE_POST_CLICKED:"List Page Post Clicked",LIST_PAGE_POST_SHOWN:"List Page Post Shown",LIST_PAGE_SEEN:"List Page Seen",LIST_PAGE_SHARE_CLICKED:"List Page Share Clicked",LIST_PAGE_SIDEBAR_PUBLICATIONS_CLICKED:"List Page Sidebar Publications Clicked",LIST_PAGE_SIDEBAR_PUBLICATIONS_SUBSCRIBE_CLICKED:"List Page Sidebar Publications Subscribe Clicked",LIST_PAGE_SUBSCRIBE_CLICKED:"List Page Subscribe Clicked",LIST_PAGE_SUBSCRIBE_MODAL_DISMISSED:"List Page Subscribe Modal Dismissed",LIST_PAGE_SUBSCRIBE_MODAL_ERROR:"List Page Subscribe Modal Error",LIST_PAGE_SUBSCRIBE_MODAL_PUBLICATION_CLICKED:"List Page Subscribe Modal Publication Clicked",LIST_PAGE_SUBSCRIBE_MODAL_SEEN:"List Page Subscribe Modal Seen",LIST_PAGE_SUBSCRIBE_MODAL_SUBMITTED:"List Page Subscribe Modal Submitted",LIST_PROFILE_TAB_LIST_CLICKED:"List Profile Tab List Clicked",LIST_PROFILE_TAB_SEEN:"List Profile Tab Seen",LOCAL_CURRENCY_MODAL_SEEN:"Local Currency Modal Seen",LOCAL_CURRENCY_MODAL_TURN_OFF_CLICKED:"Local Currency Modal Turn Off Clicked",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Milestone Media Assets Image Downloaded",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",NOT_YOU_BANNER_DISMISSED:"Not You Banner Dismissed",NOT_YOU_BANNER_TAPPED:"Not You Banner Tapped",NOT_YOU_BANNER_VIEWED:"Not You Banner Viewed",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SKIPPED:"Payment Pledge Note Screen Skipped",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PAYWALL_UNLOCK_CTA_CLICKED:"Paywall Unlock Cta Clicked",PAYWALL_UNLOCK_CTA_VIEWED:"Paywall Unlock Cta Viewed",PAYWALL_UNLOCK_OPT_OUT_MODAL_CLOSED:"Paywall Unlock Opt Out Modal Closed",PAYWALL_UNLOCK_OPT_OUT_MODAL_SEEN:"Paywall Unlock Opt Out Modal Seen",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Pledge Note Media Assets Image Downloaded",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EDITOR_CTA_CLICKED:"Podcast Editor Cta Clicked",PODCAST_EDITOR_CTA_DISMISSED:"Podcast Editor Cta Dismissed",PODCAST_EDITOR_CTA_SEEN:"Podcast Editor Cta Seen",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_IMPORT_ERROR:"Podcast Import Error",PODCAST_IMPORT_SCRAPE_ERROR:"Podcast Import Scrape Error",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAGE_VISIT_TRACKED:"Post Page Visit Tracked",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_STATS_ANNOUNCEMENT_CLICKED:"Post Stats Announcement Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFERRED_LANGUAGE_SET:"Preferred Language Set",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_MEDIA_CLICKED:"Processing Episode Media Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_MORE_MENU_TAPPED:"Profile More Menu Tapped",PROFILE_PEOPLE_LIST_VIEWED:"Profile People List Viewed",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Publication Media Assets Image Downloaded",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_SHARE_BUTTON_CLICKED:"Publication Share Button Clicked",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLIC_LEADERBOARD_VIEWED:"Public Leaderboard Viewed",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_FLOATING_CTA_HOVERED:"Reader Floating Cta Hovered",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_APP_UPSELL_SHOWN:"Reader Onboarding App Upsell Shown",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_INVITE_FRIENDS_PAID_REFERRAL_STEP_SHOWN:"Reader Onboarding Invite Friends Paid Referral Step Shown",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",READER_SURVEY_LINKED_IN_POST:"Reader Survey Linked In Post",READER_SURVEY_ONBOARDING_MODAL_SEEN:"Reader Survey Onboarding Modal Seen",READER_SURVEY_ONBOARDING_MODAL_SUBMITTED:"Reader Survey Onboarding Modal Submitted",READER_SURVEY_SEEN:"Reader Survey Seen",READER_SURVEY_SUGGESTED_QUESTION_ADDED:"Reader Survey Suggested Question Added",READING_QUEUE_ITEM_CLICKED:"Reading Queue Item Clicked",READING_QUEUE_ITEM_DISMISSED:"Reading Queue Item Dismissed",READING_QUEUE_ITEM_SEEN:"Reading Queue Item Seen",RECENT_EPISODE_ITEM_CLICKED:"Recent Episode Item Clicked",RECENT_EPISODE_ITEM_SEEN:"Recent Episode Item Seen",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REDIRECTED_PAYMENT_SCREEN_SHOWN:"Redirected Payment Screen Shown",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",REMOVE_WATERMARK_CLICKED:"Remove Watermark Clicked",REPLY_ACTIVITY_SCREEN_VIEWED:"Reply Activity Screen Viewed",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",RESTACK_SELECTION_CLICKED:"Restack Selection Clicked",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SAVE_WATERMARK_CLICKED:"Save Watermark Clicked",SCHEDULED_POST_SEEN:"Scheduled Post Seen",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_DELETION_INITIATED:"Section Deletion Initiated",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SEND_NOTE_AS_EMAIL_CONFIRMATION_CONFIRMED:"Send Note As Email Confirmation Confirmed",SEND_NOTE_AS_EMAIL_CONFIRMATION_REJECTED:"Send Note As Email Confirmation Rejected",SEND_NOTE_AS_EMAIL_PUBLICATION_SELECTED:"Send Note As Email Publication Selected",SEND_NOTE_AS_EMAIL_TOGGLE_CLICKED:"Send Note As Email Toggle Clicked",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_PLANS_PAGE_FAILED:"Setup Plans Page Failed",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_CENTER_CUSTOMIZE_ASSETS_MODAL_OPENED:"Share Center Customize Assets Modal Opened",SHARE_CENTER_CUSTOMIZE_ASSETS_PREVIEW_TEXT_TOGGLED:"Share Center Customize Assets Preview Text Toggled",SHARE_CENTER_DISPLAY_WELCOME_PAGE_SETTING_CLICKED:"Share Center Display Welcome Page Setting Clicked",SHARE_CENTER_INSTAGRAM_MODAL_OPENED:"Share Center Instagram Modal Opened",SHARE_CENTER_MEDIA_ASSETS_EMAILED:"Share Center Media Assets Emailed",SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED:"Share Center Media Assets Emailed Failed",SHARE_CENTER_SEEN:"Share Center Seen",SHARE_CENTER_VIDEO_DOWNLOADED:"Share Center Video Downloaded",SHARE_CENTER_VIDEO_SELECT_QUOTE_CLICKED:"Share Center Video Select Quote Clicked",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",SHARE_PUBLICATION_MODAL_OPENED:"Share Publication Modal Opened",SHARE_SELECTION_EDIT_MODAL_OPENED:"Share Selection Edit Modal Opened",SHARE_SELECTION_IMAGE_DOWNLOADED:"Share Selection Image Downloaded",SHARE_SELECTION_INSTAGRAM_MODAL_OPENED:"Share Selection Instagram Modal Opened",SHARE_SELECTION_MODAL_OPENED:"Share Selection Modal Opened",SHARE_SELECTION_RESTACK_CLICKED:"Share Selection Restack Clicked",SIGN_IN_APP_UPSELL_CLICKED:"Sign In App Upsell Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_ERROR:"Subscriber Referrals Setup Error",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_NOTE_SCREEN_FAILED:"Subscribe Note Screen Failed",SUBSCRIBE_NOTE_SCREEN_SEEN:"Subscribe Note Screen Seen",SUBSCRIBE_NOTE_SCREEN_SKIPPED:"Subscribe Note Screen Skipped",SUBSCRIBE_NOTE_SCREEN_SUBMITTED:"Subscribe Note Screen Submitted",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PAGE_REFERRAL_VISIT:"Subscribe Page Referral Visit",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_STEP_SHOWN:"Subscribe Screen Step Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Subscription Note Media Assets Image Downloaded",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TRANSCRIPTION_PAGE_VIEWED:"Transcription Page Viewed",TRANSCRIPTION_TOGGLED:"Transcription Toggled",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_INVITE_FRIENDS_CLICKED:"User Menu Invite Friends Clicked",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_CLIP_BUTTON_CLICKED:"Video Clip Button Clicked",VIDEO_CLIP_CREATE_BUTTON_CLICKED:"Video Clip Create Button Clicked",VIDEO_CLIP_CREATE_MODAL_CLOSED:"Video Clip Create Modal Closed",VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED:"Video Clip Download Button Clicked",VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN:"Video Clip Instagram Share Modal Seen",VIDEO_CLIP_LOOP_BUTTON_CLICKED:"Video Clip Loop Button Clicked",VIDEO_CLIP_MODAL_CLOSED:"Video Clip Modal Closed",VIDEO_CLIP_NUX_CLICKED:"Video Clip Nux Clicked",VIDEO_CLIP_NUX_DISMISSED:"Video Clip Nux Dismissed",VIDEO_CLIP_NUX_SEEN:"Video Clip Nux Seen",VIDEO_CLIP_SEEKED:"Video Clip Seeked",VIDEO_CLIP_SEEN:"Video Clip Seen",VIDEO_CLIP_SHARE_BUTTON_CLICKED:"Video Clip Share Button Clicked",VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED:"Video Clip Watch Full Episode Button Clicked",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_NEXT_VIDEO_BUTTON_CLICKED:"Video Next Video Button Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_PLAY_BUTTON_CLICKED:"Video Play Button Clicked",VIDEO_QUOTE_TEXT_SELECTED:"Video Quote Text Selected",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WEB_PUSH_NOTIFICATIONS_PERMISSION_SET:"Web Push Notifications Permission Set",WRITER_DASHBOARD_POSTS_SEARCHED:"Writer Dashboard Posts Searched",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},f={ANDROID_AUTO_CONNECTED:"Android Auto Connected",ANDROID_AUTO_DISCONNECTED:"Android Auto Disconnected",APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",CONTACT_SYNC_INITIATED:"Contact Sync Initiated",CONTACT_SYNC_PERMISSIONS_SCREEN_COMPLETED:"Contact Sync Permissions Screen Completed",CONTACT_SYNC_PERMISSIONS_SCREEN_VIEWED:"Contact Sync Permissions Screen Viewed",CONTACT_SYNC_SCREEN_DISMISSED:"Contact Sync Screen Dismissed",CONTACT_SYNC_SCREEN_VIEWED:"Contact Sync Screen Viewed",CONTACT_SYNC_SUGGESTIONS_SCREEN_COMPLETED:"Contact Sync Suggestions Screen Completed",CONTACT_SYNC_SUGGESTIONS_SCREEN_VIEWED:"Contact Sync Suggestions Screen Viewed",DEFAULT_TAB_CHANGED:"Default Tab Changed",DENIED_CONTACTS_ACCESS:"Denied Contacts Access",DIRECT_MESSAGE_CONVERSATION_VIEWED:"Direct Message Conversation Viewed",DIRECT_MESSAGE_REQUESTS_VIEWED:"Direct Message Requests Viewed",DIRECT_MESSAGE_SEARCH_VIEWED:"Direct Message Search Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",FOLLOW_MODAL_VIEWED:"Follow Modal Viewed",GRANTED_CONTACTS_ACCESS:"Granted Contacts Access",HIDDEN_PUBLICATIONS_VIEWED:"Hidden Publications Viewed",IAP_PAYMENT_PROCESSED:"Iap Payment Processed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_INTERESTS_VIEWED:"Manage Interests Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_MANAGE_SUBSCRIPTION_ITEM_TAPPED:"Mobile Manage Subscription Item Tapped",MOBILE_MANAGE_SUBSCRIPTION_SCREEN_VIEWED:"Mobile Manage Subscription Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",MOBILE_SUBSCRIBE_CTA_TAPPED:"Mobile Subscribe Cta Tapped",MOBILE_SUBSCRIBE_SCREEN_COMPLETED:"Mobile Subscribe Screen Completed",MOBILE_SUBSCRIBE_SCREEN_OPTION_SELECTED:"Mobile Subscribe Screen Option Selected",MOBILE_SUBSCRIBE_SCREEN_VIEWED:"Mobile Subscribe Screen Viewed",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_CATEGORIES_SCREEN_COMPLETED:"Onboarding Categories Screen Completed",ONBOARDING_CATEGORIES_SCREEN_VIEWED:"Onboarding Categories Screen Viewed",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PHONE_VERIFICATION_CODE_SCREEN_COMPLETED:"Phone Verification Code Screen Completed",PHONE_VERIFICATION_CODE_SCREEN_VIEWED:"Phone Verification Code Screen Viewed",PHONE_VERIFICATION_SCREEN_COMPLETED:"Phone Verification Screen Completed",PHONE_VERIFICATION_SCREEN_VIEWED:"Phone Verification Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PRIVACY_SETTINGS_SCREEN_VIEWED:"Privacy Settings Screen Viewed",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",REQUESTING_CONTACTS_ACCESS:"Requesting Contacts Access",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SHARE_HANDLE_TO_TWITTER_BUTTON_CLICKED:"Share Handle To Twitter Button Clicked",SHARE_HANDLE_TO_TWITTER_MODAL_DISMISSED:"Share Handle To Twitter Modal Dismissed",SHARE_HANDLE_TO_TWITTER_MODAL_OPENED:"Share Handle To Twitter Modal Opened",SHARE_PUBLICATION_EDIT_MODAL_OPENED:"Share Publication Edit Modal Opened",SHOW_EXPLICIT_CONTENT_TAPPED:"Show Explicit Content Tapped",SIGN_IN_WITH_SUBSTACK_DOT_COM_FAILED:"Sign In With Substack Dot Com Failed",SIGN_IN_WITH_SUBSTACK_DOT_COM_SUCCEEDED:"Sign In With Substack Dot Com Succeeded",SIGN_IN_WITH_SUBSTACK_DOT_COM_TAPPED:"Sign In With Substack Dot Com Tapped",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed",WIDGETS_INSTALLED:"Widgets Installed"}},8111:(H,E,e)=>{"use strict";e.r(E),e.d(E,{I18N:()=>U,I18N_EXPERIMENT_ROUTES:()=>v,I18N_MARKETING_PAGES:()=>i,I18N_MARKETING_REDIRECTS:()=>l,defaultTemplateTranslate:()=>I,getLanguage:()=>L,i:()=>S,l:()=>R,p:()=>N,serializeStringTemplate:()=>T,supportedLanguages:()=>M,supportedNonEnglishLanguages:()=>c});let t;const f=e(41595);f&&f.hasOwnProperty("default")?t=f.default:t=f;const s=t();s.setLocale("de");const g=t();g.setLocale("de");const P=t();P.setLocale("fr");const y=t();y.setLocale("es");const C=t();C.setLocale("pt");const u=t();u.setLocale("pt");const p=t();p.setLocale("it");const d=t();t().setLocale("en");const D="en",M=["en","de","es","fr","pt","pt-br","it","de-machine"],c=["de","es","fr","pt","pt-br","it","de-machine"],l={"/":"/home-i","/going-paid":"/going-paid-i","/about":"/about-i"},i=[...new Set([...Object.keys(l),...Object.values(l),"/signup","/get-started"])],v=["/subscribe","/"],O=W=>({de:s,es:y,fr:P,pt:C,"pt-br":u,it:p,"de-machine":g})[W]||d,T=W=>(Array.isArray(W)?(W[0]||"")+W.slice(1).map(.join(""):W).toString(),I=(W,...K)=>{const G=T(W);return d.gettext(G,...K)},L=({pub:W,locale:K,forceLocale:G=!1}={})=>{let re;switch(K==null?void 0:K.language){case"de":re="de";break;case"es":re="es";break;case"fr":re="fr";break;case"pt":re="pt";break;case"pt-br":re="pt-br";break;case"it":re="it";break;case"de-machine":re="de-machine";break;default:re="en"}return G?re:(W==null?void 0:W.language)||re||D},S=(W=D)=>{const K=typeof W=="string"?W:W?L({pub:W.pub}):D,G=O(K),re=return{iString:(F,...Z)=>re(G.gettext(F,...Z)),iPlural:(F,Z,q,...V)=>re(G.ngettext(F,Z,q,...V)),iContext:(F,Z,...q)=>re(G.pgettext(F,Z,...q)),iTemplate:(F,...Z)=>{const q=T(F);return re(G.gettext(q,...Z))},iCombo:(F,Z,q,V,...j)=>re(G.dcnpgettext(null,F,Z,q,V,...j))}},N=R=(W,K)=>{const G=O(W),re=JSON.parse(JSON.stringify(K));G.loadJSON(re,"messages")},U={i:S,p:N,l:R};if(typeof window=="undefined"){const W=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-de.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("de",W);const K=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-de-machine.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("de-machine",K);const G=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-es.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("es",G);const re=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-fr.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("fr",re);const $=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-it.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("it",$);const F=e(Object(function(){var V=new Error("Cannot find module '@/lib/translations/build/translations-pt.json'");throw V.code="MODULE_NOT_FOUND",V}()));U.l("pt",F);const Z=e(Object()));U.l("pt-br",Z)}typeof window!="undefined"?window.I18N=U:e.g.I18N=U},61782:74806:(H,E,e)=>{"use strict";e.r(E),e.d(E,{canSubscribeToPubPodcast:()=>Q,canSubscribeToSectionPodcast:()=>ae,canSyndicateVoiceoverDraft:()=>q,feedUrlBelongsToSamePub:()=>ie,filterForPublicSections:()=>ue,getAspectRatioFromBucketeerUrl:()=>j,getCouponType:()=>le,getEmailSetting:()=>te,getFoundingTierMinimum:()=>G,getFoundingTierName:()=>re,getFoundingTierPlan:()=>K,getLogo:()=>W,getMediaDuration:()=>L,getMediaFileSize:()=>S,getNewslettersForSubscribeFromPub:()=>ee,getPaidOrFoundingTierNameForPost:()=>F,getPodcastFeedDestinations:()=>z,getSectionPodcasts:()=>w,getSectionsForPost:()=>ge,hasCustomThemeContext:()=>be,hasFreePodcastUrl:()=>U,hasMultiplePodcasts:()=>C,hasOnePodcast:()=>d,hasPodcast:()=>p,hasPodcastPreview:()=>R,hasVoiceover:()=>Z,isSectionedPub:()=>y,mediaUploadHasProblem:()=>$,paymentsAreEnabled:()=>T,planFromPubIsClassicFounding:()=>fe,planIsFixedPriceFounding:()=>ve,podcastPostIsFreePreview:()=>N,pubCouldHavePublicPodcastUrl:()=>M,sectionCouldHavePublicPodcastUrl:()=>c,subIsOnClassicFoundingPlan:()=>se,userCouldSeePublicPodcastUrls:()=>l,userCouldSubscribeToPodcast:()=>i,userIsFreeOnly:()=>v,userIsPaidSubscriber:()=>O});var t=e(3313),f=e(68842),s=e(83322),g=e(52743),P=e(20501);const y=ne=>{var me;return!!(ne!=null&&ne.sections)&&((me=ne.sections)==null?void 0:me.length)>0},C=ne=>ne?u(ne)>1:!1,u=ne=>{if(!ne)return 0;let me=[];return y(ne)&&(me=w(ne)),(ne.podcast_enabled?1:0)+me.length},p=ne=>ne?u(ne)>0:!1,d=w=ne=>!ne||!y(ne)?[]:ne.sections.filter(me=>me.is_podcast),D=M=ne=>D(ne.podcast_feed_url),c=ne=>{var me;return D((me=ne.podcastSettings)==null?void 0:me.podcast_feed_url)},l=ne=>{if(!ne)return!1;if(M(ne))return!0;if(C(ne)&&y(ne)){const me=w(ne);for(const Le of me)if(c(Le))return!0}return!1},i=(ne,me)=>!me||!p(me)||me.hide_podcast_feed_link?!1:me.has_free_podcast?!0:me.has_subscriber_only_podcast?O(ne):!1,v=ne=>ne?!!(ne.is_free_subscribed&&!ne.is_subscribed):!1,O=ne=>ne?!!ne.is_subscribed:!1,T=ne=>ne?ne.payments_state==="enabled":!1,I=(ne,{usePreview:me=!1,useDraft:Le=!1}={})=>{switch(ne==null?void 0:ne.type){case"newsletter":return Le?ne.draftVoiceoverUpload:ne.voiceoverUpload;case"podcast":return me?Le?ne.draftPodcastPreviewUpload:ne.podcastPreviewUpload:Le?ne.draftPodcastUpload:ne.podcastUpload;case"video":return Le?ne.draftVideoUpload:ne.videoUpload;default:return null}},L=(ne,{usePreview:me=!1,useDraft:Le=!1}={})=>{var Re;if(!ne)return null;const Me=I(ne,{usePreview:me,useDraft:Le});if(Me)return(Re=Me.duration)!=null?Re:null;if((ne==null?void 0:ne.type)==="podcast"&&!me){const Ee=Le?ne.draft_podcast_duration:ne.podcast_duration;return Ee!=null?Ee:null}return null},S=(ne,{usePreview:me=!1,useDraft:Le=!1}={})=>{var Re,Me;if(!ne)return null;const Ee=I(ne,{usePreview:me,useDraft:Le});return Ee?(Re=Ee.primary_file_size)!=null?Re:null:(ne==null?void 0:ne.type)==="podcast"&&!me&&!Le&&(Me=ne.legacy_podcast_file_size)!=null?Me:null},N=ne=>!ne||ne.type!=="podcast"||!ne.podcastUpload?!1:!!ne.podcastUpload.is_free_preview,R=ne=>!!ne&&!!ne.podcast_preview_upload_id,U=({post:ne})=>{var me;return!!ne&&!!((me=ne.podcastFields)!=null&&me.free_podcast_url)},W=ne=>{var me,Le;return ne.is_www?(me=ne.logo_url)!=null?me:void 0:ne.logo_url||ne.cover_photo_url||ne.author_photo_url||((Le=ne.author)==null?void 0:Le.photo_url)},K=ne=>{var me;return!ne||!("plans"in ne)||!Array.isArray(ne==null?void 0:ne.plans)?null:(me=ne.plans.find()!=null?me:null},G=({pub:ne,currency:me})=>{const Le=K(ne);if(!Le)return null;const Re=Le;return(0,f.vq)(Re,me)},re=ne=>{var me,Le;if((0,t.VL)({pub:ne}))return"Founders";const Re=K(ne);return(Le=(me=Re==null?void 0:Re.metadata)==null?void 0:me.short_description)!=null?Le:null},$=ne=>!ne||!ne.state?!1:ne.state==="error"||ne.state==="cancelled",F=(ne,me)=>(me==null?void 0:me.audience)==="founding"&&re(ne)||"paid",Z=q=(ne,me)=>!ne||!me||!p(ne)?!1:!!me.draft_voiceover_upload_id,V=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i,j=ne=>{const me=ne.match(V);return me?parseInt(me[1])/parseInt(me[2]):null},Y=({pub:ne,url:me})=>{var Le,Re;if(!me.includes("api.substack.com"))return null;if(me.includes(`/feed/podcast/${ne.id}.rss`))return ne.podcast_title||ne.name;if(me.includes(`/feed/podcast/${ne.id}/s/`)){const Me=(Re=(Le=me.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:Le.groups)==null?void 0:Re.sectionId;if(!Me)return"Unknown section";const Ee=ne.sections.find(;return Ee?Ee.name:"Unknown Section"}return"another podcast"},ie=({pub:ne,url:me})=>me.includes("api.substack.com")?me.includes(`/feed/podcast/${ne.id}/s/`)||me.includes(`/feed/podcast/${ne.id}.rss`):!1,ce=ne=>{if(!ne)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!ne.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!ne.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const me=Y({pub:ne,url:ne.podcast_feed_url});return me?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${me}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${ne.podcast_feed_url}.`}},de=({pub:ne,section:me})=>{var Le;if(!me.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const Re=((Le=me.podcastSettings)==null?void 0:Le.podcast_feed_url)||null;if(!Re)return{can_syndicate:!0,hover_text:null};const Me=Y({pub:ne,url:Re});return Me?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${Me}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${Re}.`}},z=({pub:ne})=>{var me;const Le=[];if(ne.podcast_enabled||ne.podcast_title){const Re=ce(ne);Le.push({name:ne.podcast_title||ne.name,description:ne.podcast_description||"",can_publish_to:Re.can_syndicate,hover_text:Re.hover_text,publication_id:ne.id,section_id:null})}for(const Re of(me=ne.sections)!=null?me:[]){if(!Re.is_podcast)continue;const Me=de({pub:ne,section:Re});Le.push({name:Re.name,description:Re.description,can_publish_to:Me.can_syndicate,hover_text:Me.hover_text,publication_id:ne.id,section_id:Re.id})}return Le},Q=ne=>!ne||!ne.podcast_enabled?!1:ne.podcast_feed_url?!ie({pub:ne,url:ne.podcast_feed_url}):!0,ae=({pub:ne,section:me})=>{var Le;if(!me.is_podcast)return!1;const Re=((Le=me.podcastSettings)==null?void 0:Le.podcast_feed_url)||null;return Re?!ie({pub:ne,url:Re}):!0},te=(ne,me=0)=>me?oe(ne,me):ne.email_disabled?"none":ne.receive_podcast_emails?"all":"allButPodcasts",oe=(ne,me)=>{var Le;return!ne.email_settings||!ne.email_settings[me]?null:ne.email_settings[me]==="disabled"?"none":(Le=ne.section_podcasts_enabled)!=null&&Le.includes(me)?"all":"allButPodcasts"},ue=ee=({pub:ne,includeMainPub:me,excludePodcasts:Le})=>{var Re;if(!ne)return[];const Me=[];return me&&Me.push({name:ne.name,description:ne.hero_text,logoUrl:ne.logo_url,sectionId:null,linkUrl:(0,g.getArchiveUrl)(ne),defaultOn:!0}),(Re=ne.sections)==null||Re.forEach(Ee=>{Le&&Ee.is_podcast&&!(0,s.sectionIsSpecificallyMarkedAsNewsletter)({section:Ee,pub:ne})||Me.push({name:Ee.name,description:Ee.description,logoUrl:Ee.logo_url,sectionId:Ee.id,linkUrl:(0,P.getSectionUrl)(ne,{section:Ee}),defaultOn:Ee.is_default_on})}),Me},le=ne=>ne.trial_period_days>0?"FREE_TRIAL":ne.extra_seats>0?"EXTRA_SEATS":"PERCENT_OFF";function se({sub:ne}){return!ne||!ne.plan||!ne.is_founding||!ne.plan.metadata?!1:!ne.plan.metadata.fixed_price}function fe({plan:ne}){return ne.metadata?!!ne.metadata.founding&&!ne.metadata.fixed_price:!1}function ve({plan:ne}){return!ne||!ne.metadata?!1:!!ne.metadata.founding&&!!ne.metadata.fixed_price}const ge=(ne,me)=>{if(y(ne)){if(["newsletter","thread","podcast","video"].includes(me))return ne.sections}else return null;return null},be=ne=>{var me;return(typeof window!="undefined"?((me=window._preloads)==null?void 0:me.customPublicationThemeContext)||[]:[]).includes(ne)}},22434:(H,E,e)=>{"use strict";e.d(E,{H:()=>t});function t({category:f}){switch(f){case"hate":return"Hate";case"private_information":return"Private information";case"plagiarism":return"Plagiarism";case"impersonation":return"Impersonation";case"illegal_activity":return"Illegal activity";case"spam":return"Spam";case"pornography":return"Pornography";case"other":return"Other";default:return console.error("unrecognized category",f),"Other"}}},48971:(H,E,e)=>{"use strict";e.r(E),e.d(E,{DEFAULT_MINIMUM_RATES:()=>s,MAX_MONTHLY_RATE:()=>g,MAX_YEARLY_RATE:()=>P,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>f,currencyFormattedPledgePriceString:()=>C,validatePledgePrices:()=>y});var t=e(83322);const f={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},s={month:5,year:50,founding:50},g=99999999,P=99999999,y=u=>{const{value:p,interval:d,is_founding:w,currency:D}=u,M=(f[D.toLowerCase()]||s)[w?"founding":d],c=d==="month"?g:P;return p<M?`${(0,t.toTitleCase)(d)}ly plan price must be at least ${C(M,D)}`:p>c?`${(0,t.toTitleCase)(d)}ly${u.is_founding?" founding":""} plan price must be less than ${C(c,D)}`:null},C=(u,p)=>(0,t.centsToPriceString)(u*((0,t.isZeroDecimalCurrency)(p)?1:100),p)},6385:(H,E,e)=>{"use strict";e.r(E),e.d(E,{getAllAudiences:()=>M,getAudiencesForPublicListing:()=>c,getCommentAuthor:()=>$,getCoverImageUrl:()=>F,getFoundingAudiences:()=>i,getFreePodcastUrl:()=>Z,getPaidAudiences:()=>l,getPostAuthor:()=>re,isFoundingAudience:()=>O,isPaidAudience:()=>v,previewSubHasFullAccessToPost:()=>G,pubRoleHasFullAccessToPost:()=>W,pubRolesHaveFullAccessToPost:()=>K,shouldShowPaidPodcastArt:()=>q,subHasFullAccessToPost:()=>N,subHasFullAccessToPostAudience:()=>R,userHasFullAccessToPost:()=>L});var t=e(74806),f=Object.defineProperty,s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,y=(V,j,Y)=>j in V?f(V,j,{enumerable:!0,configurable:!0,writable:!0,value:Y}):V[j]=Y,C=(V,j)=>{for(var Y in j||(j={}))g.call(j,Y)&&y(V,Y,j[Y]);if(s)for(var Y of s(j))P.call(j,Y)&&y(V,Y,j[Y]);return V},u=(V,j)=>{var Y={};for(var ie in V)g.call(V,ie)&&j.indexOf(ie)<0&&(Y[ie]=V[ie]);if(V!=null&&s)for(var ie of s(V))j.indexOf(ie)<0&&P.call(V,ie)&&(Y[ie]=V[ie]);return Y};const p=["founding","only_paid","everyone","only_free"],d=["founding","only_paid","everyone"],w=["founding","only_paid"],D=["founding"];function M(){return[...p]}function c(){return[...d]}function l(){return[...w]}unction v(V){return l().includes(V)}function O(V){return i().includes(V)}function T(V,j){if(!j||(V==null?void 0:V.subscription_publication_id)===j){if(V!=null&&V.is_founding||V!=null&&V.is_contributor)return"founding";if(V!=null&&V.is_subscribed)return"paid"}return"free"}function I(V){switch(V){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${V}`)}}function L(V,j,Y){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const ie=T(V,j.publication_id);return I(j.audience).includes(ie)}function S(V,j){if(!j||(V==null?void 0:V.publication_id)===j){if((V==null?void 0:V.membership_state)==="subscribed"&&(V!=null&&V.is_founding))return"founding";if((V==null?void 0:V.membership_state)==="subscribed")return"paid"}return"free"}function N(V,j){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const Y=S(V,j.publication_id);return I(j.audience).includes(Y)}function R(V,j){const Y=S(V);return I(j).includes(Y)}function U(V){return(V==null?void 0:V.role)==="admin"||(V==null?void 0:V.role)==="contributor"||(V==null?void 0:V.membership_state)==="subscribed"&&(V!=null&&V.is_founding)?"founding":(V==null?void 0:V.membership_state)==="subscribed"?"paid":"free"}function W(V,j){if(!j)return!1;if(!j.audience)throw new Error("Post has no audience");const Y=U(V);return I(j.audience).includes(Y)}function K(V,j){return!!(j&&W(V==null?void 0:V[j.publication_id],j))}function G(V,j,{audienceOverride:Y}){if(!j)return!1;if(!j.audience&&!Y)throw new Error("Post has no audience");const ie=V;return I(Y!=null?Y:j.audience).includes(ie)}function re(V,j){var Y;const ie=(Y=j==null?void 0:j.publishedBylines)==null?void 0:Y[0];if(ie)return ie;const ce=V.contributors.find(z=>z.owner);if(ce){const z=ce,{user_id:Q}=z,ae=u(z,["user_id"]);return C({id:Q},ae)}const de=V.contributors.find(;if(de){const z=de,{user_id:Q}=z,ae=u(z,["user_id"]);return C({id:Q},ae)}return{id:V.author_id,name:V.author_name,photo_url:V.author_photo_url,bio:V.author_bio}}function $(V){var j,Y,ie,ce,de,z,Q,ae,te,oe,ue,ee,le,se,fe;return{id:(ie=(Y=(j=V.user)==null?void 0:j.id)!=null?Y:V.user_id)!=null?ie:-1,name:(z=(de=(ce=V.user)==null?void 0:ce.name)!=null?de:V.name)!=null?z:"",handle:(ae=(Q=V.user)==null?void 0:Q.handle)!=null?ae:V.handle,photo_url:(oe=(te=V.user)==null?void 0:te.photo_url)!=null?oe:V.photo_url,bestseller_tier:(le=(ee=(ue=V.user)==null?void 0:ue.bestseller_tier)!=null?ee:V.user_bestseller_tier)!=null?le:null,primary_publication:(fe=(se=V.user)==null?void 0:se.primary_publication)!=null?fe:V.user_primary_publication}}function F(V){return!V.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(V.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(V.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(V.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(V.cover_image)?null:V.cover_image}function Z({post:V}){var j,Y;return(Y=(j=V.podcastFields)==null?void 0:j.free_podcast_url)!=null?Y:null}function q({post:V,user:j}){return!V||!(j!=null&&j.is_subscribed)&&(0,t.hasFreePodcastUrl)({post:V})?!1:v(V.audience)}},85200:(H,E,e)=>{"use strict";e.d(E,{FV:()=>p,Im:()=>y,ab:()=>C,wN:()=>u});var t=e(39693),f=e.n(t),s=e(52743),g=e(83322);const P=function(d){const w=d.trim();return(0,g.endsWithPunctuation)(w)?w:`${w}.`},y=function(d,w=3){if(!(d!=null&&d.length)||!d[0].owner)return null;const D=d[0].name;if(d.length===1)return{owner:D,others:null};let M=d.slice(1);if(M.length>w&&(M=M.filter(c=>c.role==="admin")),M.length&&M.length<=w){const c=M.map(l=>l.name);return{owner:D,others:(0,g.oxfordComma)(c).toString()}}return{owner:D,others:null}},C=function(d,w,D,M,c){const l=d?P(d):"";let i;w&&!w.others?M.toLowerCase().includes(w.owner.toLowerCase())?i="":i=` by ${w.owner},`:i="";let v;return D?v=` a Substack publication with ${D}.`:c?v=` a Substack publication. ${c}.`:v=" a Substack publication.",P(`${l} Click to read ${M},${i}${v}`)};function u(d,w){if(d){if(d.author_id===w)return!0;for(const D of d.contributors)if(D.user_id===w)return!0}return!1}const p=d=>{const w=d.podcast_enabled?{title:d.podcast_title,subtitle:d.podcast_description,podcast_art_url:d.podcast_art_url,url:(0,s.getPodcastLandingUrl)({pub:d,section:null}),section_id:null}:null,D=d.sections.filter(M=>M.is_podcast).map(M=>{var c,l;return{title:M.name,subtitle:(c=M.podcastSettings)==null?void 0:c.podcast_description,podcast_art_url:(l=M.podcastSettings)==null?void 0:l.podcast_art_url,url:(0,s.getPodcastLandingUrl)({pub:d,section:M}),section_id:M.id}});return f()([w,...D])}},91613:(H,E,e)=>{"use strict";e.d(E,{x:()=>f});var t=e(6385);const f=(s,g,P,y,C)=>!(!C&&!(s!=null&&s.has_publication)||y.invite_only||(0,t.isPaidAudience)(P.audience)||!g.enable_restacking)},95788:(H,E,e)=>{"use strict";e.d(E,{H:()=>g});var t=e(71171),f=e.n(t);const s=(P,{softMax:y=32,hardMax:C=48,extension:u=!1,extensionSeparator:p="-"}={})=>{let d=g(P);if(d.length>y){const D=d.indexOf("-",y);D!==-1&&(d=d.substr(0,D))}d.length>C&&(d=d.substr(0,C));const w=u&&typeof u=="string"?u:uuid().substr(0,3);return d?u&&(d+=`${p}${w}`):d=w,d},g=(P,{hashIfEmpty:y=!1,allowUnicode:C=!1}={})=>{const u=(P||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(C?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return P&&typeof P=="string"&&!u&&y?Array.from(P).map(.map(p=>{var d;return(d=p==null?void 0:p.toString(16))!=null?d:""}).join("").substring(0,12):u}},68842:(H,E,e)=>{"use strict";e.d(E,{vq:()=>d});var t=e(27484),f=e.n(t),s=e(18029),g=e.n(s),P=e(83322);const y={"This customer has no attached payment source":"Please enter payment details"},C=({amount:O,currency:T,interval:I,interval_count:L=1})=>{let S;return I==="month"&&L===3?S="quarter":I==="month"&&L===6&&(S="semiannual"),`${centsToPriceString(O,T)} ${S?`${S}ly`:`a ${I}`}`},u=O=>{const{source:T,payment_method_details:I}=O,L=T||(I==null?void 0:I.card);if(!L){const R=i(I==null?void 0:I.type),U=v(I);return R?`${R}${U?` (${U})`:""}`:"n/a"}const{brand:S,last4:N}=L;return`${S} (\u2013${N})`},p=(O,T)=>{var I;let L;if(!T||T===O.currency)L=O.object==="price"?O.unit_amount:O.amount;else{if(!((I=O.currency_options)!=null&&I[T]))return;L=O.currency_options[T].unit_amount}return L!=null?L:0},d=(O,T)=>{var I;return!T||T===O.currency?O.metadata.minimum:(I=O.metadata.minimum_local)==null?void 0:I[T]},w=O=>O.billing==="send_invoice",D=(O,T)=>{if(O==="open"&&dayjs(T).isBeforeNow())return"Overdue";switch(O){case"open":return"Unpaid";default:return startCase(O)}},M=(O,{language:T})=>{const{iString:I}=I18N.i(T!=null?T:"en");switch(O){case"active":return I("Active");case"canceled":return I("Canceled");case"incomplete":return I("Incomplete");case"incomplete_expired":return I("Incomplete Expired");case"past_due":return I("Past Due");case"trialing":return I("Trialing");case"unpaid":return I("Unpaid");default:return startCase(O)}},c=O=>y[O]?y[O]:O.includes("Set an `address` on the customer object and verify with the `tax[automatic_tax]` status.")?"Please enter your billing details and try again":null,l=(O,T)=>{if(T)return"Refunded";switch(O){case"succeeded":return"Paid";default:return startCase(O)}},i=O=>{switch(O){case"card":return"Card";case"bancontact":return"Bancontact";case"ideal":return"iDEAL";case"sofort":return"Sofort";case"sepa_debit":return"SEPA Direct Debit";default:return startCase(O)}},v=O=>{var T,I,L,S,N;return O!=null&&O.card?(T=O.card)==null?void 0:T.last4:O!=null&&O.ach_debit?(I=O.ach_debit)==null?void 0:I.last4:O!=null&&O.bancontact?(L=O.bancontact)==null?void 0:L.iban_last4:O!=null&&O.sepa_debit?(S=O.sepa_debit)==null?void 0:S.last4:O!=null&&O.us_bank_account?(N=O.us_bank_account)==null?void 0:N.last4:null}},86418:(H,E,e)=>{"use strict";e.d(E,{P:()=>s});const t=new Set(["subscribed","free_signup"]);function f(g){return t.has(g)}function s(g,P){if(!g)return!1;if(!P)return!0;const y=["unsubscribed","free_signup","subscribed"];return y.indexOf(g)>=y.indexOf(P)}},46131:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});function*t(f){if(yield f,f.content)for(const s of f.content)yield*t(s)}},85870:(H,E,e)=>{"use strict";e.d(E,{bP:()=>f,sC:()=>t});var t=((t||{});onst s=null},19072:(H,E,e)=>{"use strict";e.d(E,{Ic:()=>p,YJ:()=>w,js:()=>C,ky:()=>d,pt:()=>u});var t=Object.defineProperty,f=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,P=(c,l,i)=>l in c?t(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,y=(c,l)=>{for(var i in l||(l={}))s.call(l,i)&&P(c,i,l[i]);if(f)for(var i of f(l))g.call(l,i)&&P(c,i,l[i]);return c};const C={SUBSTACK:"substack",PUBLISHER:"publisher"},u={NECESSARY:"Necessary",PERFORMANCE:"Performance",FUNCTIONALITY:"Functionality"},p={ANONYMOUS_ID:"ajs_anonymous_id",AB_TESTING_ID:"ab_testing_id",LIKELY_LOGGED_IN:"substack.lli",VISIT_ID:"visit_id",HIDE_COOKIE_BANNER:"hideCookieBanner",INTRO_POPUP_LAST_HIDDEN_AT:"intro_popup_last_hidden_at",LIKE_UPSELL_LAST_SHOWN_AT:"like_upsell_last_shown_at",SESSION_SID:"substack.sid",DISABLE_HTML_PIXELS:"disable_html_pixels",DISABLE_EXPERIMENTS:"disable_experiments"},d=y({GA_TRACKING:"_ga_tracking-substack",GA_TAG_MANAGER:"_ga_tag_manager-substack",EXPERIMENTS:"experiments-substack",AWSALB:"AWSALB-substack",MUX_DATA:"muxData-substack",DATADOG_S:"_dd_s-substack",CF_CLEARENCE:"cf_clearance-substack",CF_BM:"__cf_bm-substack",FULLSTORY_UID:"fs_uid-substack",ZENDESK_ID:"__zlcmid-substack"},p),w={GA_TRACKING:"_ga_tracking-publisher",GA_TAG_MANAGER:"_ga_tag_manager-publisher",FB_PIXEL:"fb_pixel-publisher",TWITTER_PIXEL:"twitter_pixel-publisher",PARSELY_PIXEL:"parsely_pixel-publisher"},D=[d.FULLSTORY_UID,d.GA_TRACKING,d.GA_TAG_MANAGER,w.GA_TRACKING,w.GA_TAG_MANAGER,w.PARSELY_PIXEL,w.TWITTER_PIXEL,w.FB_PIXEL,d.DATADOG_S],M=y(y({},d),w)},20501:(H,E,e)=>{"use strict";e.d(E,{CDN_URL:()=>s.L4,_getUrl:()=>s.JD,extractDimensionsFromImageUrl:()=>Re,getBaseAppLinkUrl:()=>s.ZX,getBaseUrl:()=>s.SV,getCancelOrUncancelUrl:()=>cr,getChatUrl:()=>Zt,getCommunityCommentAppLinkUrl:()=>fe,getCommunityPostAppLinkUrl:()=>se,getConnectFacebookUrl:()=>Ht,getConnectTwitterUrl:()=>Mt,getDashboardHomeUrl:()=>V,getDonateSubscriptionUrl:()=>I,getEditPostUrlById:()=>P.AN,getFeedCommentUrl:()=>g.Sg,getFeedPostUrl:()=>g.rc,getFeedShortPostUrl:()=>g.mx,getFeedUrl:()=>g.E2,getGroupManagementUrl:()=>Z,getHostname:()=>s.Fo,getInviteFriendsCreditPageUrl:()=>Rn,getLeaderboardUrl:()=>Hr,getLikelyLoggedInParam:()=>P._N,getLinkToVideo:()=>P.ws,getLinkableElementIdForVideo:()=>P.jn,getManageGroupSubscriptionUrl:()=>G,getMeetingOrderUrl:()=>ie,getMeetingsUrl:()=>ce,getMentionsUrl:()=>Be,getNavigationBarItemUrl:()=>qe,getNoteCommentPreviewUrl:()=>g.IY,getPodcastArchiveUrl:()=>ne,getPodcastRssUrlFromIds:()=>qr,getPostDashboardUrl:()=>q,getPostDetailsPageUrl:()=>wr,getPostDetailsShareCenterUrl:()=>Br,getPostTagUrl:()=>tt,getPostUrl:()=>P.uR,getPostUrlBySlug:()=>P.Mo,getProfileUrlById:()=>y.GR,getPubAccountSettingsUrl:()=>P.mG,getPubConnectTwitterUrl:()=>yt,getPublicationAppLinkUrl:()=>ee,getPublicationChatAppLinkUrl:()=>le,getPublishBaseUrl:()=>re,getPublishSettingsUrl:()=>$,getReaderCollectionUrl:()=>Ln,getReaderPostUrl:()=>Gt,getReaderProfileUrl:()=>y.NN,getSectionUrl:()=>Ze,getSubscribeUrl:()=>v,getSubscriberDashboardUrl:()=>Y,getSubstackUrl:()=>s.ZJ,getSubstackUrlWithDomain:()=>s.y,getWebChatUrl:()=>T,imginary:()=>me,parseUrl:()=>De,pathWithQuery:()=>s.n1,serializeQuery:()=>s.Y$,stripeBaseUrl:()=>xe,substackDomain:()=>s.T9,unimginary:()=>Le});var t=e(82626),f=e(95788),s=e(30123),g=e(70444),P=e(36250),y=e(2731),C=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=($e,at,ke)=>at in $e?C($e,at,{enumerable:!0,configurable:!0,writable:!0,value:ke}):$e[at]=ke,c=($e,at)=>{for(var ke in at||(at={}))w.call(at,ke)&&M($e,ke,at[ke]);if(d)for(var ke of d(at))D.call(at,ke)&&M($e,ke,at[ke]);return $e},l=($e,at)=>u($e,p(at));const i=($e,at={})=>{const ke=c({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},at),Qe=getBaseUrl($e);return pathWithQuery(Qe,c(c({},ke),at))};function v($e,{root:at,user:ke,addBase:Qe,skipToken:dt=!1,params:Lt={}}={}){var gt;if(at?/[&?]$/.test(at)||(at.includes("?")||at.endsWith("%%")?at+="&":at+="?"):at=Qe?`${(0,s.SV)($e)}/subscribe?`:"/subscribe?",ke!=null&&ke.email)Lt.autoSubmit=!0,Lt.email=ke==null?void 0:ke.email;else if(!Lt.token&&!dt){const{getQueryItem:ct}=e(52743),Qt=typeof window!="undefined"&&((gt=window._preloads)!=null&&gt.original_url)?ct(window._preloads.original_url,"token"):null;Lt.token=Qt}return at+(0,s.Y$)(Lt)}function O({pub:$e,section:at}){const ke=`/s/${at.slug}/welcome`;return`${getBaseUrl($e)}${ke}`}function T({pubId:$e,postId:at,commentId:ke,params:Qe}){return(0,s.n1)(`${(0,s.ZJ)()}/chat${$e?`/${$e}`:""}${at?`/post/${at}`:""}${ke?`/reply/${ke}`:""}`,Qe)}function I($e,{root:at,addBase:ke,params:Qe={}}={}){return at?/[&?]$/.test(at)||(at.includes("?")||at.endsWith("%%")?at+="&":at+="?"):at=ke?`${(0,s.SV)($e)}/donate?`:"/donate?",at+(0,s.Y$)(Qe)}function L($e,{root:at,user:ke,addBase:Qe,offerCode:dt,params:Lt={}}){return at?/[&?]$/.test(at)||(at.includes("?")||at.endsWith("%%")?at+="&":at+="?"):at=Qe?`${getBaseUrl($e)}/subscribe/offer/${dt}?`:`/subscribe/offer/${dt}?`,ke!=null&&ke.email&&(Lt.autoSubmit=!0,Lt.email=ke==null?void 0:ke.email),at+serializeQuery(Lt)}function S($e,{utm_source:at}={}){return pathWithQuery(`${getBaseUrl($e)}/account/billing?details`,{utm_source:at})}function N($e,{utm_source:at}={}){return pathWithQuery(`${getBaseUrl($e)}/account/receipts`,{utm_source:at})}function R($e,{utm_source:at}={}){return pathWithQuery(`${getBaseUrl($e)}/account/email-test`,{utm_source:at})}function U({pub:$e}){return`${getBaseUrl($e)}/account/gifts`}function W({utm_source:$e}={}){return pathWithQuery(`${getSubstackUrl()}/account/email`,{utm_source:$e})}function K($e){return`${getBaseUrl($e)}/account`}const G=($e,at={})=>(0,s.n1)(`${(0,s.SV)($e)}/account/group`,at);function re($e,{addBase:at,baseUrlOptions:ke}={}){return`${at?(0,s.SV)($e,ke):""}/publish`}function $($e,{addBase:at=!1,baseUrlOptions:ke={},section:Qe="",params:dt}={}){let Lt=(0,s.n1)(`${re($e,{addBase:at,baseUrlOptions:ke})}/settings`,dt);return Qe&&(Lt+=`#${Qe}`),Lt}function F($e,{addBase:at=!1,baseUrlOptions:ke={},params:Qe}={}){return pathWithQuery(`${re($e,{addBase:at,baseUrlOptions:ke})}/settings/reader_referrals`,Qe)}function Z($e,{addBase:at=!1,baseUrlOptions:ke={},params:Qe}={}){return(0,s.n1)(`${re($e,{addBase:at,baseUrlOptions:ke})}/groups`,Qe)}function q($e,{addBase:at,params:ke}={}){const dt=`${at?(0,s.SV)($e):""}/publish`;return ke?(0,s.n1)(dt,ke):dt}function V($e,{addBase:at,params:ke}={}){const dt=`${at?(0,s.SV)($e):""}/publish/home`;return ke?(0,s.n1)(dt,ke):dt}function j($e,at="published",{addBase:ke,params:Qe}={}){const Lt=`${ke?getBaseUrl($e):""}/publish/posts/${at}`;return Qe?pathWithQuery(Lt,Qe):Lt}function Y($e,{addBase:at,params:ke}={}){const dt=`${at?(0,s.SV)($e):""}/publish/subscribers`;return ke?(0,s.n1)(dt,ke):dt}function ie($e,at,{addBase:ke,params:Qe,referrer:dt}={}){const gt=`${ke?(0,s.SV)($e):""}/meetings/book/${at}`,ct=l(c({},Qe),{referrer:dt});return Qe||dt?(0,s.n1)(gt,ct):gt}function ce($e,{addBase:at,params:ke,referrer:Qe}={}){const Lt=`${at?(0,s.SV)($e):""}/meetings`,gt=l(c({},ke),{referrer:Qe});return ke||Qe?(0,s.n1)(Lt,gt):Lt}function de($e,{addBase:at,params:ke,filter:Qe}={}){const Lt=`${at?getBaseUrl($e):""}/publish/meetings/${Qe!=null?Qe:"upcoming"}`;return ke?pathWithQuery(Lt,ke):Lt}function z({utm_source:$e,utm_campaign:at,redirect:ke}){return pathWithQuery(`${getBaseAppLinkUrl()}/inbox`,{utm_source:$e,utm_campaign:at,redirect:ke})}function Q({user_id:$e,user_name:at,utm_source:ke,utm_campaign:Qe,redirect:dt}){let Lt=`${(0,s.ZX)()}/users/${$e}`;const gt=(0,f.H)(at,{hashIfEmpty:!0});return gt&&(Lt+=`-${gt}`),(0,s.n1)(Lt,{utm_source:ke,utm_campaign:Qe,redirect:dt})}function ae({utm_source:$e,utm_campaign:at}){return pathWithQuery(`${getBaseAppLinkUrl()}/chat`,{utm_source:$e,utm_campaign:at})}function te({utm_source:$e,utm_campaign:at,deepLink:ke}){return pathWithQuery(`${getBaseAppLinkUrl()}/contact-sync`,{utm_source:$e,utm_campaign:at,deepLink:ke})}function oe({utm_source:$e,utm_campaign:at}={}){return pathWithQuery("substack://contact-sync",{utm_source:$e,utm_campaign:at})}function ue({tab:$e,utm_source:at,utm_campaign:ke,redirect:Qe}){return pathWithQuery(`${getBaseAppLinkUrl()}/${$e}`,{utm_source:at,utm_campaign:ke,redirect:Qe})}function ee({subdomain:$e,utm_source:at,utm_campaign:ke,redirect:Qe}){return(0,s.n1)(`${(0,s.ZX)()}/pub/${$e}`,{utm_source:at,utm_campaign:ke,redirect:Qe})}function le({pubKey:$e,utm_source:at,utm_campaign:ke,r:Qe,redirect:dt,modal:Lt}){return(0,s.n1)(`${(0,s.ZX)()}/pub/${$e}/chat`,{utm_source:at,utm_campaign:ke,redirect:dt,modal:Lt,r:Qe})}function se({postId:$e,utm_source:at,utm_campaign:ke,redirect:Qe,modal:dt}){return(0,s.n1)(`${(0,s.ZX)()}/chat/posts/${$e}`,{utm_source:at,utm_campaign:ke,redirect:Qe,modal:dt})}function fe({commentId:$e,targetReplyId:at,utm_source:ke,utm_campaign:Qe,redirect:dt,modal:Lt}){return(0,s.n1)(`${(0,s.ZX)()}/chat/replies/${$e}`,{target_reply_id:at,utm_source:ke,utm_campaign:Qe,redirect:dt,modal:Lt})}function ve($e,{urlParams:at}={}){return getFeedCommentUrl($e,{baseUrl:getBaseAppLinkUrl(),urlParams:at})}function ge({pub:$e,postId:at,modal:ke,query:Qe}){return pathWithQuery(`${getBaseUrl($e)}/chat${at?`/posts/${at}`:""}`,c({modal:ke},Qe))}function be({pub:$e,commentId:at,targetReplyId:ke,modal:Qe,query:dt}){return pathWithQuery(`${getBaseUrl($e)}/chat${at?`/replies/${at}`:""}`,c({modal:Qe,target_reply_id:ke},dt))}function ne({pub:$e,params:at,section:ke}){return ke?(0,s.n1)(`${(0,s.SV)($e)}/listen/${ke.slug}/archive`,at):(0,s.n1)(`${(0,s.SV)($e)}/podcast/archive`,at)}function me($e,at,{quality:ke="auto:good",format:Qe="auto",crop:dt="limit",lossy:Lt=!1,attachment:gt=!1,filename:ct=null,gravity:Qt=null,height:He=null,aspect:ft=null,backgroundColor:St,version:Vt=null,smartCrop:Yt=!1,portraitCrop:pr=!1,skipDomainValidation:dr=!1,leadingSegments:vr=[],trailingSegments:nr=[]}={}){var Ar;if(!$e)return $e;$e.startsWith("/")&&!$e.startsWith("//")&&($e=(0,s.ZJ)()+$e),$e=Le($e);try{if(new URL($e).hostname.endsWith(".localhost"))return $e}catch(dn){}if(typeof window!="undefined"&&((Ar=window==null?void 0:window.location)!=null&&Ar.hostname)&&["subwit.com","herokuapp.com"].reduce((dn,vn)=>dn||window.location.hostname.endsWith(vn),!1)&&($e=$e.replace("//substack.com",`//${window.location.hostname}`)),$e.startsWith("https://substackcdn.com")||$e.startsWith(s.L4))return $e;if($e.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return $e.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,s.L4);if($e.startsWith("https://res.cloudinary.com"))return $e.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,s.L4);if(!dr&&!$e.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return $e;if(Yt&&at&&He){const dn=Re($e);if(dn){const vn=at/He,Zr=dn.width/dn.height;(vn<1&&Zr>=1||vn>=1&&Zr<1||vn===1&&Zr>=1||vn===1&&Zr<=1)&&Math.abs(vn-Zr)>=.5&&(dt="fill",Qt=Qt!=null?Qt:"auto")}}if(Yt&&(dt="fill",Qt=Qt!=null?Qt:"auto"),ft&&at&&He==null){const[dn,vn]=ft.split(":").map(Number);He=Math.round(at*vn/dn)}const sn=[at&&`w_${at}`,He&&`h_${He}`,dt&&(at||He)&&`c_${dt}`,Qe&&`f_${Qe}`,ke&&`q_${ke}`,`fl_${Lt?"lossy":"progressive:steep"}`,Qt&&`g_${Qt}`,gt&&`fl_attachment${ct?`:${ct}`:""}`,St&&`b_rgb:${St}`].filter(Boolean).join(","),Nr=[at&&`w_${at}`,Qe&&`f_${Qe}`,ke&&`q_${ke}`,`fl_${Lt?"lossy":"progressive:steep"}`,gt&&`fl_attachment${ct?`:${ct}`:""}`,St&&`b_rgb:${St}`].filter(Boolean).join(","),Gr=[dt&&(at||He)&&`c_${dt}`,Qt&&`g_${Qt}`,ft?`ar_${ft}`:"ar_1"].filter(Boolean).join(","),pn=pr?[Nr,"/if_ar_lt_1.0/",Gr,"/if_end"].join(""):[sn].filter(Boolean).join(",");return`${s.L4}/image/fetch/${vr.concat([pn]).concat(nr).join("/")}/${encodeURIComponent($e+(Vt?`${$e.indexOf("?")!==-1?"&":"?"}version=${Vt}`:""))}`}function Le($e){if(!$e)return $e;const at=[/^https:\/\/substackcdn\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i];for(const ke of at){const Qe=ke.exec($e);if(Qe)return decodeURIComponent(Qe[1])}return $e}function Re($e){const at=$e.match(/(\d+)x(\d+)\.\w+$/);return at?{width:+at[1],height:+at[2]}:null}function Me($e,at){return`${getBaseUrl($e)}/api/v1/custom-publication-theme/${at.id}/preview`}function Ee($e){return`${getBaseUrl($e)}/api/v1/custom-publication-theme/disable-preview`}const we="https://substack.link/chat-faq",Te="https://substack.link/chat-examples";function De($e){const at=$e.trim();if(/\s/.test(at))return null;try{const ke=new URL(at);return["http:","https:"].includes(ke.protocol)?ke:null}catch(ke){return null}}const Be=($e,at,ke,Qe)=>{switch($e){case"user":default:return Q({user_id:at,user_name:ke,utm_source:"mentions"});case"pub":return Qe?(0,s.n1)(Qe,{utm_source:"mentions"}):""}};function Ke($e){var at;const ke=De($e);if(!ke)return null;const Qe=(at=ke.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:at[1];if(!Qe)return null;let dt,Lt;return ke.hostname.endsWith(`.${substackUrl.hostname}`)?dt=ke.hostname.split(".")[0]:Lt=ke.hostname,{slug:Qe,subdomain:dt,customDomain:Lt}}function tt($e,at,{addBase:ke=!1,query:Qe={}}={}){return(0,s.n1)(`${ke?(0,s.SV)($e):""}/t/${at.slug}`,Qe)}const Ot=et=it=({pub:$e,addBase:at})=>`${at?getBaseUrl($e):""}/publish/settings/podcast/edit`,bt=({pub:$e,section:at,addBase:ke,referrer:Qe})=>at?`${ke?getBaseUrl($e):""}/publish/settings/podcast/${at.id}${Qe?`?referrer=${Qe}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),xe="https://dashboard.stripe.com",Oe=($e,at)=>`${xe}/${$e.stripe_user_id}/prices/${at}`,Ie=($e,at)=>`${xe}/${$e.stripe_user_id}/invoices/${at}`;function We($e){const at=$e.html.map(ke=>{var Qe;const dt=(Qe=ke.match(/href="([^"]+)"/))==null?void 0:Qe[1];return dt?ke.replace(dt,me(dt)):ke});return l(c({},$e),{html:at})}function Ge($e){return $e?$e.startsWith("https://images.unsplash.com/"):!1}function Xe($e){if($e){if($e.startsWith(CDN_URL)||$e.startsWith("https://res.cloudinary.com")||$e.startsWith("https://bucketeer"))return!0;const{getPostMediaBucketName:at}=e(83322),ke=`https://${at()}.s3.amazonaws.com`;if($e.startsWith(ke))return!0}return!1}function st($e){if(!$e)return!1;let at;try{at=new URL($e)}catch(dt){return!1}const{hostname:ke,pathname:Qe}=at;return ke.startsWith("open.substack.com")?Qe.startsWith("/pub/")&&Qe.includes("/p/"):!1}function qe($e,at,{addBase:ke}={}){var Qe,dt;return at.section?Ze($e,{addBase:ke,section:at.section}):at.post?(0,P.uR)($e,at.post,{noBase:!ke}):at.postTag?tt($e,at.postTag,{addBase:ke}):ke&&/^\/[^/]/.test((Qe=at.link_url)!=null?Qe:"")?`${(0,s.SV)($e)}${at.link_url}`:(dt=at.link_url)!=null?dt:""}function Ze($e,{addBase:at,section:ke}={}){if(ke=ke||($e==null?void 0:$e.section),!ke)throw new Error("Section not found");return`${at?(0,s.SV)($e):""}/s/${ke.slug||ke.id}`}function mt($e,{addBase:at,section:ke}={}){if(ke=ke||($e==null?void 0:$e.section),!ke)throw new Error("Section not found");const Qe=at?getBaseUrl($e):"";return pathWithQuery(`${Qe}/publish/settings/preamble`,{section:ke.id})}const yt=($e,{addBase:at,params:ke}={})=>{const Qe=at&&$e?Rf.getBaseUrl($e):"";return Mt(c({base:Qe},ke))},Mt=$e=>{var at;const ke=`${(at=$e==null?void 0:$e.base)!=null?at:""}/api/v1/twitter/authorize`;return $e?(0,s.n1)(ke,$e):ke},Ht=$e=>{var at;const ke=`${(at=$e==null?void 0:$e.base)!=null?at:""}/api/v1/fb/auth`;return $e?(0,s.n1)(ke,$e):ke};function Gt($e,at){return(0,s.n1)(`${(0,s.SV)()}/inbox/post/${$e}`,at)}function zt($e){const at=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,ke=/^https?:\/\/([^\.]+)\.substack\.com/;let Qe=$e.match(at);return!Qe&&(Qe=$e.match(ke),!Qe)?null:Qe[1]}function Kt($e){$e=($e||"").toLowerCase();const at=$e.match(/^\s*(\w+)\s*$/);if(at)return at[1];const ke=$e.match(/\w+(\.\w+)+/);if(ke){let Qe=ke[0];return Qe.includes("substack")&&(Qe=Qe.split(".")[0]),Qe}}function Ir({url:$e,currentSubdomain:at,currentCustomDomain:ke}){return st($e)?at===zt($e):ke?ke===Kt($e):at===zt($e)}function or($e){return`${getSubstackUrl()}/profile/${$e}/hc-violation-form`}const cr=($e,{addBase:at,params:ke}={})=>{const Qe=at?(0,s.SV)($e):"";return(0,s.n1)(`${Qe}/account/cancel`,ke)},Tt=wr=($e,at,{addBase:ke,referrer:Qe,params:dt}={})=>{const gt=`${ke?(0,s.SV)($e):""}/publish/posts/detail/${at}`,ct=l(c({},dt),{referrer:Qe});return dt||Qe?(0,s.n1)(gt,ct):gt},Br=($e,at,{addBase:ke,referrer:Qe,params:dt,selectionForQuote:Lt}={})=>{const ct=`${ke?(0,s.SV)($e):""}/publish/posts/detail/${at}/share-center`,Qt=l(c({},dt),{referrer:Qe,selectionForQuote:Lt});return dt||Qe||Lt?(0,s.n1)(ct,Qt):ct},Hr=($e,at,{addBase:ke,params:Qe}={})=>{if(!($e!=null&&$e.id))return"";const dt=ke?(0,s.SV)($e):"";return(0,s.n1)(`${dt}/leaderboard?`,c(c({},Qe),(at==null?void 0:at.id)&&{referrer_token:at.id.toString(36)}))},Wr=($e,at)=>{if(!($e!=null&&$e.id))return"";const ke=getBaseUrl($e);return`${Substitutions.SURVEY_URL_PREFIX}${ke}/survey/${at}?token=${Substitutions.SURVEY_TOKEN}`},Rr=($e,at,{popup:ke})=>{const Qe=getBaseUrl($e);return pathWithQuery(`${Qe}/publish/stats/reader-surveys-editor/${at}${ke?"?popup=true":""}`)};function qr({pubId:$e,sectionId:at,token:ke}){if(at){let dt=`${(0,s.SV)({subdomain:"api"})}/feed/podcast/${$e}/s/`;return ke?dt+=`${at}/private/${ke}.rss`:dt+=`${at}.rss`,dt}let Qe=`${(0,s.SV)({subdomain:"api"})}/feed/podcast/${$e}`;return ke?Qe+=`/private/${ke}.rss`:Qe+=".rss",Qe}function Xr({subdomain:$e,sectionId:at}){return pathWithQuery(`https://${$e}.substack.com/feed`,{sectionId:at!=null?at:void 0})}const tn=({pub:$e,postId:at,params:ke={type:"newsletter",mediaType:"video"},addBase:Qe})=>{const dt=`${Qe?getBaseUrl($e):""}/publish/collab`;return pathWithQuery(at?`${dt}/${at}`:dt,ke)},Cn=($e,{addBase:at,baseUrlOptions:ke,params:Qe}={})=>{const dt=at?getBaseUrl($e,ke):"";return pathWithQuery(`${dt}/publish/stats/pledges`,Qe)},rn=($e,{addBase:at,baseUrlOptions:ke,params:Qe}={})=>{const dt=at?getBaseUrl($e,ke):"";return pathWithQuery(`${dt}/publish/stats/notes`,Qe)};function En($e){return`${getSubstackUrl()}/browse/${$e}`}function mn(){return`${getSubstackUrl()}/browse/recommendations`}unction Rn($e={}){return(0,s.n1)(`${(0,s.ZJ)()}/invite-friends`,$e)}function wn($e={}){return pathWithQuery(`${getSubstackUrl()}/credit-invite-accepted`,$e)}function Jn($e,at={}){return pathWithQuery(`${getSubstackUrl()}/reader-onboarding?credit_token_referring_user=${$e}`,at)}function nt($e,at={}){return pathWithQuery(`${getSubstackUrl()}/accept-pub-credit?credit_token_referring_user=${$e}`,at)}function Nt($e,at={}){return pathWithQuery(`${getSubstackUrl()}/accept-pub-credit-signup?credit_token_referring_user=${$e}`,at)}function Zt($e){return(0,s.Q2)("/chat",$e)}function rr($e){return`${getSubstackUrl()}/api/v1/list/cover_image/${$e.id}.jpg`}function Pr($e){return`${getSubstackUrl()}/list/${$e.slug}`}function Mr($e){return`${getSubstackUrl()}/img/publication_placeholders/pub_placeholder_${$e%5}.png`}},52743:(H,E,e)=>{"use strict";e.r(E),e.d(E,{DEFAULT_PHOTO_URL:()=>p.zU,DIRECT_APPLE_APP_STORE_DEEPLINK_URL:()=>gr,DIRECT_APPLE_APP_STORE_URL:()=>Er,DIRECT_GOOGLE_PLAY_STORE_DEEPLINK_URL:()=>Tr,DIRECT_GOOGLE_PLAY_STORE_URL:()=>Or,EMAIL_CONTENT_WIDTH:()=>Wo,IMPORT_FILE_TOO_LARGE_URL:()=>K,LARGE_IMAGE_WIDTH:()=>Pi,MAX_GIF_WIDTH:()=>Eo,MAX_REASONABLE_SCREEN_WIDTH:()=>qa,MIN_GIF_WIDTH:()=>ba,TWITTER_CARD_HEIGHT:()=>R,TWITTER_CARD_LOGO_SIZE:()=>U,TWITTER_CARD_WIDTH:()=>N,USER_BAN_APPEAL_URL:()=>W,WEB_CONTENT_WIDTH:()=>Xa,WEB_CONTENT_WIDTH_MOBILE:()=>Ea,WEB_RESPONSIVE_IMAGE_WIDTHS:()=>Qa,addClaritasPrefix:()=>cr,addGumballPrefix:()=>wr,addPodscribePrefix:()=>Tt,addSpotifyAnalyticsPrefix:()=>or,cdnSvg:()=>V,extractDimensionsFromImageUrl:()=>d.extractDimensionsFromImageUrl,getAboutUrl:()=>be,getAddSubscriberUrl:()=>Te,getAllMilestoneAssetUrl:()=>uo,getAppMarketingUrl:()=>en,getAppStoreRedirectUrl:()=>Qr,getAppStoreUrl:()=>hn,getAppWriterFaqUrl:()=>zr,getArchiveUrl:()=>ve,getAsChartableUrl:()=>Ir,getBaseAppLinkUrl:()=>d.getBaseAppLinkUrl,getBaseArchiveUrl:()=>ge,getBaseReaderUrl:()=>de,getBaseUrl:()=>d.getBaseUrl,getBestsellerAssetUrl:()=>No,getBestsellerShareCardUrl:()=>ya,getBrowseCategoryUrl:()=>nt,getCallbackUrl:()=>Z,getCancelOrUncancelUrl:()=>d.getCancelOrUncancelUrl,getCdnUrl:()=>zt,getCdnUrlForAudio:()=>Br,getCheckoutUrl:()=>Oe,getClientReadyPodcastUrl:()=>Hr,getConnectTwitterUrl:()=>d.getConnectTwitterUrl,getCreateMarketingPostUrl:()=>Ee,getCreatePostUrl:()=>Me,getCurrentUrlForLoginRedirect:()=>Rr,getDashboardHomeUrl:()=>d.getDashboardHomeUrl,getDashboardUrlForSubdomain:()=>me,getDefaultPodcastArtPalette:()=>kn,getDefaultPodcastArtUrl:()=>$n,getDefaultPodcastArtUrlCDN:()=>no,getDefaultUserPhotoById:()=>p.I4,getDeprecatedPostAppLinkUrl:()=>ue,getDiscoverSearchUrl:()=>Nt,getDomainApexConfigUrl:()=>tt,getDomainConfigUrl:()=>Ke,getDomainMigrateUrl:()=>Ot,getDomainStatusUrl:()=>et,getDonateSubscriptionUrl:()=>d.getDonateSubscriptionUrl,getEditPostUrlById:()=>d.getEditPostUrlById,getEditProfileUrl:()=>wn,getEditSectionUrl:()=>fe,getFeedUrl:()=>y.E2,getFindTwitterPubsUrl:()=>Le,getFoundingCheckoutUrl:()=>Ie,getGlobalAccountRedirectForPub:()=>Xe,getGlobalAccountSettingsUrl:()=>Ze,getGlobalNotificationSettingsUrl:()=>mt,getGoingPaidUrl:()=>Cn,getGroupDetailsUrl:()=>bt,getGroupManagementUrl:()=>d.getGroupManagementUrl,getHomeUrl:()=>En,getHostname:()=>d.getHostname,getIgnoreImportDoubleOptinUrl:()=>Be,getImportUrl:()=>$e,getInfoCollectionUrl:()=>rn,getInstagramAccountUrl:()=>pn,getInviteUrl:()=>He,getLatexImageUrl:()=>Ao,getLatexUrl:()=>Fo,getLegalUrls:()=>Rn,getLibraryUrl:()=>te,getLikelyLoggedInParam:()=>d.getLikelyLoggedInParam,getLinkRedirectUrl:()=>Et,getLoginChallengeDeepUrl:()=>er,getLoginUrl:()=>We,getManageBlurbsUrl:()=>Lt,getManageGroupSubscriptionUrl:()=>d.getManageGroupSubscriptionUrl,getManageGroupsUrl:()=>xe,getManageReaderReferralSettingsUrl:()=>gt,getManageSubscriptionsUrl:()=>yt,getMediaUploadThumbnailUrl:()=>da,getMediaUploadThumbnailUrlForPlayer:()=>ut,getMfaUrl:()=>Ge,getMigrateFromTwitterUrl:()=>Mr,getMilestoneAssetImageUrl:()=>Xn,getMilestoneAssetUrl:()=>eo,getNotificationsUrl:()=>ae,getPlayStoreUrl:()=>bn,getPledgeNoteAssetImageUrl:()=>to,getPledgeNoteAssetUrl:()=>Vn,getPodcastLandingUrl:()=>se,getPodcastOnboardingUrl:()=>mo,getPodcastRssUrl:()=>Vt,getPodcastRssUrlFromIds:()=>d.getPodcastRssUrlFromIds,getPodcastingUrl:()=>Re,getPodcatcherSetupUrl:()=>Gt,getPodcatcherSetupUrlForAllPodcasts:()=>Ht,getPostAppLinkUrl:()=>ee,getPostCommentInContextUrl:()=>le,getPostCommentsUrl:()=>C.tk,getPostDashboardUrl:()=>d.getPostDashboardUrl,getPostDetailsShareCenterUrl:()=>d.getPostDetailsShareCenterUrl,getPostSelectionMediaImageUrl:()=>Nr,getPostSelectionMediaUrl:()=>sn,getPostSelectionPreviewImageUrl:()=>vr,getPostSelectionPreviewUrl:()=>dr,getPostSlug:()=>ao,getPostUrl:()=>d.getPostUrl,getPostUrlBySlug:()=>d.getPostUrlBySlug,getPressKitDownloadUrl:()=>ko,getPressKitImageUrl:()=>$r,getPressKitUrl:()=>Sr,getPreviewInAppUrl:()=>pt,getProfileSetupUrl:()=>u.Nh,getProfileSlug:()=>ft,getProfileUrl:()=>St,getProfileUrlById:()=>d.getProfileUrlById,getPubAccountSettingsUrl:()=>d.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>d.getPubConnectTwitterUrl,getPubUrl:()=>F,getPublicationAssetImageUrl:()=>yo,getPublicationAssetUrl:()=>ho,getPublicationPodcastUrl:()=>Qt,getPublishBaseUrl:()=>d.getPublishBaseUrl,getPublishModerationUrl:()=>ct,getPublishSettingsRecommendationsUrl:()=>Qe,getPublishSettingsUrl:()=>d.getPublishSettingsUrl,getPublishStatsRecommendationsUrl:()=>dt,getPublishStatsUrl:()=>ke,getPublishStripeAccountImportUrl:()=>at,getPublisherPrivacyUrl:()=>Ln,getPublisherTermsUrl:()=>tn,getQueryItem:()=>$,getReaderOnboardingUrl:()=>Jn,getReaderProfileUrl:()=>d.getReaderProfileUrl,getReaderSignupUrl:()=>z,getReaderUrl:()=>Q,getRecommendationsPageUrl:()=>rr,getSavedPostsUrl:()=>oe,getSharePubUrl:()=>Mt,getSigninUrl:()=>qr,getSignoutUrl:()=>Kn,getSitemapUrl:()=>ne,getStartPublishingUrl:()=>Pr,getStockLandingUrl:()=>ie,getSubscribeUrl:()=>Zt,getSubscriberDashboardUrl:()=>d.getSubscriberDashboardUrl,getSubscriberDetailsUrl:()=>it,getSubscriberStatsUrl:()=>we,getSubscriptionNoteAssetImageUrl:()=>Qn,getSubscriptionNoteAssetUrl:()=>jn,getSubstackMarketingUrl:()=>Dr,getSubstackPrivacyUrl:()=>mn,getSubstackTermsUrl:()=>Xr,getSubstackUrl:()=>d.getSubstackUrl,getSubstackUrlWithDomain:()=>d.getSubstackUrlWithDomain,getSupportEmail:()=>Yt,getSupportUrl:()=>pr,getThreadDeepLinkUrl:()=>na,getTiktokAccountUrl:()=>dn,getTld:()=>q,getTwitterAccountUrl:()=>Gr,getTwitterPreviewImageUrl:()=>Ar,getTwitterPreviewUrl:()=>nr,getTwitterShareUrl:()=>io,getTwitterSubscribeCardSvgUrl:()=>Bn,getTwitterSubscribeCardUrl:()=>Zr,getUndergroundUrl:()=>Y,getUrlExtension:()=>ro,getUserPhotoUrl:()=>p.SM,getUserUndergroundUrl:()=>ce,getVerifyImportDoubleOptinUrl:()=>De,getWebLoginDeepUrl:()=>hr,getWriterReferralSettingsUrl:()=>qe,getWriterReferralUrl:()=>st,getYoutubeAccountUrl:()=>vn,imginary:()=>d.imginary,isPublishPath:()=>oa,looksLikePostCommentsUrl:()=>Lo,looksLikePostUrl:()=>To,parseQuery:()=>re,parseUrl:()=>d.parseUrl,pathWithQuery:()=>d.pathWithQuery,serializeQuery:()=>d.serializeQuery,stripProtocol:()=>j,stripeBaseUrl:()=>d.stripeBaseUrl,unimginary:()=>d.unimginary,updateQuery:()=>G,urlIsRegularlyShownInIframe:()=>Wr});var t=e(14293),f=e.n(t),s=e(22850),g=e(57397),P=e(95788),y=e(70444),C=e(36250),u=e(2731),p=e(96702),d=e(20501),w=e(59009),D=Object.defineProperty,M=Object.defineProperties,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(Fe,ot,_t)=>ot in Fe?D(Fe,ot,{enumerable:!0,configurable:!0,writable:!0,value:_t}):Fe[ot]=_t,T=(Fe,ot)=>{for(var _t in ot||(ot={}))i.call(ot,_t)&&O(Fe,_t,ot[_t]);if(l)for(var _t of l(ot))v.call(ot,_t)&&O(Fe,_t,ot[_t]);return Fe},I=(Fe,ot)=>M(Fe,c(ot)),L=(Fe,ot)=>{var _t={};for(var Wt in Fe)i.call(Fe,Wt)&&ot.indexOf(Wt)<0&&(_t[Wt]=Fe[Wt]);if(Fe!=null&&l)for(var Wt of l(Fe))ot.indexOf(Wt)<0&&v.call(Fe,Wt)&&(_t[Wt]=Fe[Wt]);return _t};const S=[/\/embed\/podcast\//],N=504,R=264,U=70,W="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",K="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=18072253847444&tf_18071211318676=my_import_file_is_too_large_";function G(Fe,ot,{skipHash:_t=!1}={}){typeof Fe=="object"&&(ot=Fe,Fe=document.location.pathname+document.location.search+document.location.hash);let Wt=(0,d.pathWithQuery)(Fe.split("?")[0].split("#")[0],Object.assign(re(Fe),ot));return Fe.indexOf("#")!==-1&&!_t&&(Wt+=Fe.substr(Fe.indexOf("#"))),Wt}function re(Fe){const ot={},_t=((Fe==null?void 0:Fe.split("?")[1])||"").split("#")[0].trim();if(_t){const Wt=_t.split("&");for(let _r=0;_r<Wt.length;_r++){const Ur=Wt[_r].split("=");ot[decodeURIComponent(Ur[0])]=decodeURIComponent(Ur.slice(1).join("="))}}return ot}const $=(Fe,ot)=>{if(typeof ot!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;ot=Fe,Fe=window.location.href}const _t=re(Fe);if(String(ot)in _t)return _t[String(ot)]},F=(Fe,{params:ot={},signedIn:_t=!1}={})=>{const Wt=(0,d.getLikelyLoggedInParam)(_t,Fe);return(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe)}/`,T({lli:Wt},ot))},Z=Fe=>`${(0,d.getBaseUrl)({subdomain:"callback"})}${Fe}`,q=Fe=>{if(f()(Fe))return null;try{return new URL(Fe).hostname.split(".").slice(-2).join(".")}catch(ot){return null}},V=Fe=>!Fe||!Fe.startsWith("/")||Fe.startsWith("//")||!/\.svg(\?|#|$)/.test(Fe)?Fe:`${d.CDN_URL}/${Fe}`,j=Y=Fe=>{const ot=d.substackDomain,_t=(0,d._getUrl)(`admin.${ot}`);return Fe?`${_t}/publications/${Fe}`:_t},ie=Fe=>{const ot=d.substackDomain;return`${(0,d._getUrl)(`${ot}`)}/discover/stocks/${Fe}`},ce=Fe=>{const ot=d.substackDomain,_t=(0,d._getUrl)(`admin.${ot}`);return Fe?`${_t}/users/${Fe}`:_t},de=({utm_source:Fe}={})=>{const ot=d.substackDomain,_t="reader";return(0,d.pathWithQuery)((0,d._getUrl)(`${_t}.${ot}`),{utm_source:Fe})},z=Fe=>(0,d.pathWithQuery)(`${(0,d._getUrl)(d.substackDomain)}/browse/staff-picks`,I(T({},Fe),{action:"signup"})),Q=(Fe,{query:ot}={})=>{const _t=d.substackDomain;return(0,d.pathWithQuery)(`${(0,d._getUrl)(_t)}${Fe}`,ot)},ae=Fe=>Q("/activity",{query:Fe}),te=oe=ue=(Fe,ot,{params:_t={},redirect:Wt=null,source:_r=null,postUuid:Ur=null}={})=>{const ln=Ur?`${(0,d.getSubstackUrl)()}/app-link/publications/${Fe}/drafts/${Ur}`:`${(0,d.getSubstackUrl)()}/app-link/post`,Dn=T({publication_id:Fe,post_id:ot,utm_source:_r,redirect:Wt},_t);return(0,d.pathWithQuery)(ln,Dn)},ee=(Fe,ot,{params:_t={},redirect:Wt=null,source:_r=null,postUuid:Ur=null,inbox:ln=null,hostOverride:Dn=null}={})=>{if(!Fe||!ot)return"";const An=Dn?Ur?`${Dn}/p/${Ur}`:`${Dn}/p/${ot}`:Ur?`${(0,d.getBaseAppLinkUrl)()}/pub/${Fe}/drafts/${Ur}`:`${(0,d.getBaseAppLinkUrl)()}/pub/${Fe}/p/${ot}`,oo=T({utm_source:_r,redirect:Wt,inbox:ln},_t);return(0,d.pathWithQuery)(An,oo)};function le(Fe,ot,_t,Wt=3){if(!_t||!_t.ancestor_path)return(0,C.tk)(Fe,ot,_t);const _r=_t.ancestor_path.split("."),Ur=_r.length<Wt?0:_r.length-Wt;return(0,d.getPostUrl)(Fe,ot,{comments:!0,commentId:_t.id,commentContextId:_r[Ur]})}const se=({pub:Fe,section:ot,addBase:_t=!0})=>{var Wt;ot=(Wt=ot!=null?ot:Fe.section)!=null?Wt:null;const _r=_t?(0,d.getBaseUrl)(Fe):"";return ot?`${_r}/listen/${ot.slug||ot.id}`:`${_r}/podcast`},fe=(Fe,{addBase:ot,type:_t,id:Wt}={})=>`${ot?(0,d.getBaseUrl)(Fe):""}/publish/settings/${_t}/${Wt}`,ve=(Fe,{params:ot}={})=>{const _t=Fe.section?`/s/${Fe.section.slug||Fe.section.id}`:"";return(0,d.pathWithQuery)(`${_t}/archive`,ot)},ge=(Fe,{addBase:ot,params:_t}={})=>{const Wt=ot?(0,d.getBaseUrl)(Fe):"";return(0,d.pathWithQuery)(`${Wt}/archive`,_t)},be=(Fe,{addBase:ot,params:_t}={})=>{const Wt=ot?(0,d.getBaseUrl)(Fe):"";return(0,d.pathWithQuery)(`${Wt}/about`,_t)},ne=(Fe,{addBase:ot,params:_t}={})=>{const Wt=ot?(0,d.getBaseUrl)(Fe):"";return(0,d.pathWithQuery)(`${Wt}/sitemap`,_t)},me=(Fe,{params:ot}={})=>{const _t=`${(0,d.getBaseUrl)({subdomain:Fe})}/publish/home`;return(0,d.pathWithQuery)(_t,ot)},Le=Fe=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/twitter/find-pubs`,Fe),Re=(Fe,{addBase:ot,params:_t,slug:Wt,isSection:_r}={})=>{let ln=`${ot?(0,d.getBaseUrl)(Fe):""}/publish/podcasting`;return Wt&&(_r?ln=`${ln}/s/${Wt}`:ln=`${ln}/${Wt}`),_t?(0,d.pathWithQuery)(ln,_t):ln},Me=(Fe,ot={})=>{var _t=ot,{baseUrl:Wt=null}=_t,_r=L(_t,["baseUrl"]);return(0,d.pathWithQuery)(`${Wt!=null?Wt:(0,d.getBaseUrl)(Fe)}/publish/post`,_r)},Ee=(Fe,ot)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe)}/publish/post/marketing`,ot),we=(Fe,{addBase:ot,params:_t}={})=>{const Wt=ot?(0,d.getBaseUrl)(Fe):"";return(0,d.pathWithQuery)(`${Wt}/publish/subscribers`,_t)},Te=Fe=>"/publish/subscribers/add",De=(Fe,ot)=>`${(0,d.getBaseUrl)(Fe)}/publish/subscribers/add?conditional_import_id=${ot}`,Be=Ke=(Fe,{payment:ot}={})=>`/publish/domain${ot?"/pay":""}`,tt=()=>"/publish/domain/apex",Ot=()=>"/publish/domain/migrate",et=()=>"/publish/domain/status",it=(Fe,ot,{addBase:_t,tab:Wt}={})=>{const _r=_t?(0,d.getBaseUrl)(Fe):"";return(0,d.pathWithQuery)(`${_r}/publish/subscribers/legacy`,{email:ot,tab:Wt})},bt=Fe=>`/publish/groups/${Fe}`,xe=()=>"/publish/groups",Oe=function(Fe,ot={}){const _t=(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe)}/subscribe`,ot);return _t.indexOf("?")===-1?`${_t}?`:_t},Ie=function(Fe){return`${(0,d.getBaseUrl)(Fe)}/subscribe?plan=founding&`},We=(Fe={})=>(0,d.pathWithQuery)("/account/login",Fe),Ge=(Fe={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/sign-in/mfa`,Fe),Xe=(Fe,ot,_t)=>{const Wt=Fe==null?void 0:Fe.subdomain;return(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}${ot}`,{redirect:_t,for_pub:Wt})},st=(Fe,ot={})=>Fe?(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/refer/${Fe}`,ot):null,qe=({utm_source:Fe,utm_content:ot}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/referral`,{utm_source:Fe,utm_content:ot}),Ze=({utm_source:Fe,section:ot,highlightNotification:_t}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/settings`,{utm_source:Fe,section:ot,highlightNotification:_t}),mt=({highlight:Fe,utm_source:ot}={})=>Ze({section:"notifications",highlightNotification:Fe,utm_source:ot}),yt=({utm_source:Fe}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/settings/subscriptions`,{utm_source:Fe}),Mt=Fe=>`${(0,d.getBaseUrl)(Fe)}/?utm_source=${w.UTM_SOURCE.substack}&utm_medium=${w.UTM_MEDIUM.email}&utm_content=${w.UTM_CONTENT.share}&action=share`,Ht=(Fe,ot)=>{var _t=ot,{startAtSubscribeFlow:Wt}=_t,_r=L(_t,["startAtSubscribeFlow"]);let Ur=`${(0,d.getBaseUrl)(Fe)}/listen`;if(_r){const ln=(0,d.serializeQuery)(_r);ln&&(Ur+=`?${ln}`)}return Wt?Zt(Fe,T({addBase:!0,next:Ur,skipPodcastSetupPage:!0},_r)):Ur},Gt=(Fe,{addBase:ot,params:_t,noSection:Wt,section:_r,user:Ur,startAtSubscribeFlow:ln}={})=>{var Dn;let An="";if(ot&&(An+=(0,d.getBaseUrl)(Fe)),_r=(Dn=_r!=null?_r:Fe==null?void 0:Fe.section)!=null?Dn:null,_r&&!Wt&&(An+=`/s/${_r.slug||_r.id}`),An+="/account/add-podcast",Ur&&Ur.email&&(_t=I(T({},_t),{email:Ur.email}),An+="/email"),_t){const oo=(0,d.serializeQuery)(_t);oo&&(An+=`?${oo}`)}return ln?Zt(Fe,T({addBase:!0,next:An,skipPodcastSetupPage:!0},_t)):An},zt=(Fe,{cdnUrl:ot=d.CDN_URL}={})=>{var _t;return(_t=Fe==null?void 0:Fe.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,ot))!=null?_t:"undefined"},Kt="https://",Ir=(Fe,ot)=>Fe?`${Kt}chrt.fm/track/${encodeURIComponent(Fe)}/${j(ot)}`:ot,or=Fe=>`${Kt}prfx.byspotify.com/e/${j(Fe)}`;onst Tt=wr=Br=(Fe,ot,{token:_t}={})=>{let Wt=zt(ot);return Wt&&(Fe!=null&&Fe.id&&(Wt=G(Wt,{post_id:Fe.id})),_t&&(Wt=G(Wt,{podcast_rss_token:_t})),Wt)},Hr=(Fe,ot,{rssToken:_t})=>{if(ot.podcast_upload_id){let Wt=G(`${(0,d.getBaseUrl)({subdomain:"api"})}/api/v1/audio/upload/${ot.podcast_upload_id}/src`,{token:_t});return Fe!=null&&Fe.chartable_token&&(Wt=Ir(Fe.chartable_token,Wt)),Wt}if(ot.podcast_url){let Wt=Br(ot,ot.podcast_url,{token:_t});return Fe!=null&&Fe.chartable_token&&(Wt=Ir(Fe.chartable_token,Wt)),Wt}return null},Wr=Rr=({useOriginalUrl:Fe})=>{if(Fe&&typeof window!="undefined"&&window._preloads.original_url)try{const ot=new URL(window._preloads.original_url);return`${ot.pathname}${ot.search}${ot.hash}`}catch(ot){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},qr=(Fe={})=>{const{for_pub:ot,email:_t,with_password:Wt,error:_r,message:Ur,change_user:ln,justTrying:Dn,useOriginalUrl:An}=Fe;let{redirect:oo}=Fe;return typeof oo!="string"&&(oo=Rr({useOriginalUrl:An!=null?An:!1})),(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/sign-in`,{redirect:oo,for_pub:ot,email:_t,with_password:Wt,error:_r,message:Ur,change_user:ln,justTrying:Dn})},Xr=({utm_source:Fe}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/tos`,{utm_source:Fe}),tn=({pub:Fe,utm_source:ot}={})=>Fe?(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe)}/tos`,{utm_source:ot}):Xr({utm_source:ot}),Cn=rn=({utm_source:Fe}={})=>`${(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/ccpa`,{utm_source:Fe})}#personal-data-collected`,En=({utm_source:Fe}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/welcome`,{utm_source:Fe}),mn=({utm_source:Fe,hash:ot=null}={})=>{const _t=ot?`#${ot}`:"";return`${(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/privacy`,{utm_source:Fe})}${_t}`},Ln=({pub:Fe,utm_source:ot,hash:_t=null}={})=>{if(!Fe)return`${mn({utm_source:ot,hash:_t})}`;const Wt=_t?`#${_t}`:"";return`${(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe)}/privacy`,{utm_source:ot})}${Wt}`},Rn=wn=({params:Fe}={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/profile/edit`,Fe),Jn=({isAbbreviated:Fe,redirect:ot,postRedirectToast:_t,pubId:Wt=null,referringUserKey:_r=null,params:Ur={}}={})=>{let ln=null;if(ot)try{ln=new URL(ot),_t&&ln.searchParams.set("profile-setup-message",_t)}catch(An){ln=new URL((0,d.getSubstackUrl)())}const Dn=T({isAbbreviated:Fe,redirect:ln?ln.toString():null,pubId:Wt},Ur);return _r&&(Dn.r=_r),(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/reader-onboarding`,Dn)},nt=(Fe,ot)=>`${(0,d.getSubstackUrl)()}/discover${Fe?`/category/${Fe.slug}`:"/recomendations"}${ot==="all"?"/all":""}`,Nt=({query:Fe,params:ot={}}={})=>{let _t=`${(0,d.getSubstackUrl)()}/search`;return Fe&&(_t=`${(0,d.getSubstackUrl)()}/search/${encodeURIComponent(Fe)}`),G(_t,ot)};function Zt(Fe,ot={}){var _t=ot,{signedIn:Wt=!1,addBase:_r=!1,root:Ur=void 0,user:ln=void 0}=_t,Dn=L(_t,["signedIn","addBase","root","user"]);const An=(0,d.getLikelyLoggedInParam)(Wt,Fe);return(0,d.getSubscribeUrl)(Fe,{root:Ur,user:ln,addBase:_r,params:T(T({},An===void 0?{}:{lli:An}),Dn)})}const rr=(Fe,ot={})=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe)}/recommendations`,ot),Pr=(Fe={})=>G(`${(0,d.getSubstackUrl)()}/signup`,Fe),Mr=(Fe={})=>G(`${(0,d.getSubstackUrl)()}/twitter-quitter`,Fe),$e=(Fe={})=>G(`${(0,d.getSubstackUrl)()}/signup/import`,Fe),at=(Fe,{addBase:ot=!1,baseUrlOptions:_t={},params:Wt=void 0}={})=>(0,d.pathWithQuery)(`${(0,d.getPublishBaseUrl)(Fe,{addBase:ot,baseUrlOptions:_t})}/stripe-import`,Wt),ke=(Fe,{addBase:ot,baseUrlOptions:_t,params:Wt}={})=>{const _r=ot?(0,d.getBaseUrl)(Fe,_t):"";return(0,d.pathWithQuery)(`${_r}/publish/stats`,Wt)},Qe=(Fe,{addBase:ot,baseUrlOptions:_t,params:Wt}={})=>{const _r=ot?(0,d.getBaseUrl)(Fe,_t):"";return(0,d.pathWithQuery)(`${_r}/publish/settings/recommendations`,Wt)},dt=(Fe,{addBase:ot,baseUrlOptions:_t,params:Wt}={})=>{const _r=ot?(0,d.getBaseUrl)(Fe,_t):"";return(0,d.pathWithQuery)(`${_r}/publish/recommendations`,Wt)},Lt=(Fe,{addBase:ot,baseUrlOptions:_t,params:Wt}={})=>{const _r=ot?(0,d.getBaseUrl)(Fe,_t):"";return(0,d.pathWithQuery)(`${_r}/publish/settings/blurbs`,Wt)},gt=Fe=>{const ot=(0,d.getBaseUrl)(Fe);return(0,d.pathWithQuery)(`${ot}/publish/settings/`,{search:"referral"})},ct=(Fe,{addBase:ot=!1,baseUrlOptions:_t={}}={})=>`${(0,d.getPublishBaseUrl)(Fe,{addBase:ot,baseUrlOptions:_t})}/moderation`,Qt=He=ft=Fe=>{let ot=`${Fe.author_id||Fe.id}`;const _t=(0,P.H)(Fe.author_id?Fe.author_name:Fe.name,{hashIfEmpty:!0});return _t&&(ot+=`-${_t}`),ot},St=(Fe,ot,{utm_source:_t}={})=>(0,d.getReaderProfileUrl)(Fe,{utm_source:_t}),Vt=({pub:Fe,token:ot=null})=>{var _t;if(Fe.section){const{section:_r}=Fe;if((_t=_r.podcastSettings)!=null&&_t.podcast_feed_url)return _r.podcastSettings.podcast_feed_url;let Ur=`${(0,d.getBaseUrl)({subdomain:"api"})}/feed/podcast/${Fe.id}/s/`;return ot?Ur+=`${_r.id}/private/${ot}.rss`:Ur+=`${_r.id}.rss`,Ur}else if(Fe.podcast_feed_url)return Fe.podcast_feed_url;let Wt=`${(0,d.getBaseUrl)({subdomain:"api"})}/feed/podcast/${Fe.id}`;return ot?Wt+=`/private/${ot}.rss`:Wt+=".rss",Wt},Yt=(Fe,{noOverride:ot}={})=>{if(Fe){if(Fe.support_email&&!ot)return Fe.support_email}else return"support@substack.com";return`support+${Fe.subdomain}@substack.com`},pr=(Fe,ot)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(Yt(Fe,ot))}`,dr=(Fe,ot,_t,Wt)=>{const _r=vr(Fe,ot,_t,Wt);return(0,d.imginary)(_r,null,{skipDomainValidation:!0,quality:"auto:best",version:9})},vr=(Fe,ot,_t,Wt)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/post_selection_preview/${ot.id}/${_t}.jpg`,T({},Wt)),nr=(Fe,ot)=>{const _t=Ar(Fe,ot);return(0,d.imginary)(_t,null,{skipDomainValidation:!0,quality:"auto:best",version:4})},Ar=(Fe,ot)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/post_preview/${ot.id}/twitter.jpg`,{isDraft:ot.is_draft||ot.is_scheduled}),sn=(Fe,ot,_t,Wt,_r)=>{const Ur=Nr(Fe,ot,_t,Wt);return(0,d.imginary)(Ur,null,{skipDomainValidation:!0,quality:"auto:best",version:11,attachment:!!_r,filename:_r})},Nr=(Fe,ot,_t,Wt)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/post_selection_image/${ot.id}/${_t}.jpg`,T({},Wt)),Gr=Fe=>`https://twitter.com/${Fe}`,pn=Fe=>`https://instagram.com/${Fe}`,dn=Fe=>`https://tiktok.com/@${Fe}`,vn=Fe=>`https://youtube.com/channel/${Fe}`,Zr=Fe=>(0,d.imginary)(`${Bn(Fe)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),Bn=Fe=>{const{hashString:ot}=e(83322);let _t=`${(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const Wt=`${Fe.logo_url}:${Fe.hero_text}:${Fe.name}:${Fe.author_name}:${Fe.subdomain}`,_r=ot(Wt);return _r?_t+=`?v=${_r}`:_t+="?v=bust",_t},Sr=(Fe,ot,_t,Wt)=>{const _r=$r(Fe,ot,_t);return(0,d.imginary)(_r,null,{quality:"auto:best",skipDomainValidation:!0,version:13,attachment:!!Wt,filename:Wt})},$r=(Fe,ot,_t)=>{const{hashString:Wt}=e(83322),_r=Wt(`${ot.social_title+ot.title+ot.description+ot.cover_image}`);return(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/press_kit/${ot.id}.jpg`,I(T({},_t),{isDraft:"is_draft"in ot?ot.is_draft:!1,hash:_r}))},eo=(Fe,ot,_t,Wt,{useRootDomain:_r=!1}={})=>{const Ur=Xn(Fe,ot,_t,{useRootDomain:_r});return(0,d.imginary)(Ur,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Wt,filename:Wt})},uo=(Fe,ot)=>{let _t=null;if(Object.values(g.dD).includes(ot))_t="arr";else if(Object.values(g.bq).includes(ot))_t="subscribers";else throw Error(`endpoint for milestone not found [${ot}]`);return(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/milestone_assets/all/${_t}`,{milestone:ot})},Xn=(Fe,ot,_t,{useRootDomain:Wt=!1}={})=>{let _r=null;if(Object.values(g.dD).includes(ot))_r="arr";else if(Object.values(g.bq).includes(ot))_r="subscribers";else throw Error(`endpoint for milestone not found [${ot}]`);return(0,d.pathWithQuery)(`${Wt?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/milestone_assets/${_r}.jpg`,T(T({milestone:ot},_t),Wt&&{subdomain:Fe.subdomain}))},jn=(Fe,ot,_t,{fileToDownload:Wt="",useRootDomain:_r=!1}={})=>{const Ur=Qn(Fe,ot,_t,{useRootDomain:_r});return(0,d.imginary)(Ur,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Wt,filename:Wt})},Qn=(Fe,ot,_t,{useRootDomain:Wt=!1}={})=>(0,d.pathWithQuery)(`${Wt?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/subscription_note_assets/${ot.id}.jpg`,T(T({},_t),Wt&&{subdomain:Fe.subdomain})),Vn=(Fe,ot,_t,{fileToDownload:Wt="",useRootDomain:_r=!1}={})=>{const Ur=to(Fe,ot,_t,{useRootDomain:_r});return(0,d.imginary)(Ur,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!Wt,filename:Wt})},to=(Fe,ot,_t,{useRootDomain:Wt=!1}={})=>(0,d.pathWithQuery)(`${Wt?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/pledge_note_assets/${ot.id}.jpg`,T(T({},_t),Wt&&{subdomain:Fe.subdomain})),ho=(Fe,ot,_t,{fileToDownload:Wt="",useRootDomain:_r=!1}={})=>{const Ur=yo(Fe,_t,{useRootDomain:_r});return(0,d.imginary)(Ur,null,{quality:"auto:best",skipDomainValidation:!0,version:11,attachment:!!Wt,filename:Wt})},yo=(Fe,ot,{useRootDomain:_t=!1}={})=>(0,d.pathWithQuery)(`${_t?(0,d.getBaseUrl)():(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/publication_assets/image.jpg`,T(T({},ot),_t&&{subdomain:Fe.subdomain})),ko=(Fe,ot,_t)=>(0,d.pathWithQuery)(`${(0,d.getBaseUrl)(Fe,{forceSubdomain:!0})}/api/v1/press_kit/all/${ot.id}`,{aspectRatio:_t,isDraft:ot.is_draft}),Fo=Fe=>{const ot=Ao(Fe);return(0,d.imginary)(ot,null,{quality:"auto:best",version:9})},Ao=Fe=>(0,d.pathWithQuery)("/api/v1/latex/jpeg",{expression:Fe}),No=Fe=>{const ot=`${(0,d.getBaseUrl)(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Fe.id}-bestseller.jpg`;return(0,d.imginary)(ot,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},ya=Fe=>{const ot=`${(0,d.getBaseUrl)(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Fe.id}-bestseller-share-card.jpg`;return(0,d.imginary)(ot,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},na=oa=To=Fe=>{const ot=(0,d.parseUrl)(Fe);return ot?ot.pathname.startsWith("/p/"):!1},ao=Fe=>{var ot,_t;return To(Fe)&&(_t=(ot=(0,d.parseUrl)(Fe))==null?void 0:ot.pathname.split("/")[2])!=null?_t:null},Lo=Fe=>{if(!To(Fe))return!1;const ot=(0,d.parseUrl)(Fe);if(!ot)return!1;const _t=ot.pathname.split("/");return _t.length===4&&_t[3]==="comments"},Kn=({redirect:Fe,for_pub:ot,utm_source:_t}={})=>(Fe=Fe||"",(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/sign-out`,{redirect:Fe,for_pub:ot,utm_source:_t})),mo=(Fe,ot)=>{const _t=new URLSearchParams;return _t.set("referrer",encodeURIComponent(Fe)),ot&&_t.set("initialSectionId",String(ot)),`/publish/podcast/new?${_t.toString()}`},ro=Fe=>{try{const _t=new URL(Fe).pathname.match(/\.(\w+)$/);return _t?_t[0]:null}catch(ot){return null}},Wo=550,Xa=728,Ea=424,Qa=[Ea,Ea*2,Ea*3,Xa*2],Pi=1200,qa=2880,ba=320,Eo=550,da=(Fe,{post:ot}={})=>{var _t,Wt;if(!Fe)return;const Ur="substack-video";return Fe.media_type==="audio"&&(f()(Fe.thumbnail_id)||Fe.thumbnail_id===1)?(_t=ot==null?void 0:ot.podcast_episode_image_info)==null?void 0:_t.url:`https://${Ur}.s3.amazonaws.com/video_upload/post/${Fe.post_id}/${Fe.id}/transcoded-${((Wt=Fe.thumbnail_id)!=null?Wt:1).toString().padStart(5,"0")}.png`},ut=(Fe,{pub:ot,isStatic:_t,variant:Wt,post:_r}={})=>{var Ur,ln;const{colorLuma:Dn,videoPlayerDimensions:An}=e(83322),{height:oo,width:bo}=An(Fe,{isStatic:_t}),Ro=bo/oo<1920/1080?"pad":"fill",Ba=Wt==="shows"?"#E2E0E0":((Ur=ot==null?void 0:ot.theme)==null?void 0:Ur.background_pop_color)||(ot==null?void 0:ot.theme_var_background_pop)||s.Hu,ei=Wt==="shows"?"#161718":Dn(Ba)>.6?"#1a1a1a":"#ffffff",Pa=Wt==="shows"?120:152;return(0,d.imginary)((ln=da(Fe,{post:_r}))!=null?ln:"",bo*2,{crop:Ro,height:oo*2,trailingSegments:_t?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${Ba.slice(1)}`,`l_video_play_icon_c75z6z,w_${Pa},e_colorize:100,co_rgb:${ei.slice(1)}`]:[]})},pt=(Fe,ot,_t={})=>(0,d.pathWithQuery)(`https://substack.com/app-link/publications/${Fe.id}/drafts/${ot}`,_t),Et=(Fe,{userIdJwt:ot,domain:_t}={})=>`${_t?(0,d.getSubstackUrlWithDomain)(_t):(0,d.getSubstackUrl)()}/redirect/${Fe}?j=${ot||""}`,er=Fe=>(0,d.pathWithQuery)("substack://sign-in/challenge",{token:Fe}),hr=Er="https://apps.apple.com/us/app/substack-reader/id1581650857",Or="https://play.google.com/store/apps/details?id=com.substack.app",gr="itms-apps://apps.apple.com/us/app/substack-reader/id1581650857",Tr="intent://play.google.com/store/apps/details?id=com.substack.app#Intent;scheme=https;action=android.intent.action.VIEW;package=com.android.vending;end",Dr=(Fe={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/home`),en=(Fe={})=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app`,Fe),zr=(Fe={})=>(0,d.pathWithQuery)("https://on.substack.com/p/writerfaq",Fe),Qr=Fe=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app/app-store-redirect`,Fe),hn=Fe=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app/get-ios`,Fe),bn=Fe=>(0,d.pathWithQuery)(`${(0,d.getSubstackUrl)()}/app/get-android`,Fe),$n=({pathOnly:Fe=!1}={})=>{const ot="/img/podcast/generic.png";return Fe?ot:`${(0,d.getSubstackUrl)()}${ot}`},kn=()=>({Vibrant:{rgb:[244.1949152542373,162.0762711864407,10.805084745762711],population:0},DarkVibrant:{rgb:[126.9813559322034,84.27966101694916,5.618644067796606],population:0},LightVibrant:{rgb:[250,212,142],population:31},Muted:{rgb:[92,158,148],population:4},DarkMuted:{rgb:[146.51694915254237,97.24576271186443,6.483050847457638],population:0},LightMuted:{rgb:[164,204,196],population:3}}),no=()=>{const Fe=$n({pathOnly:!0});return(0,d.imginary)(Fe,1400)},io=,30123:(H,E,e)=>{"use strict";e.d(E,{Fo:()=>p,JD:()=>y,L4:()=>g,Q2:()=>i,SV:()=>D,T9:()=>t,Y$:()=>d,ZJ:()=>M,ZX:()=>l,n1:()=>w,tE:()=>C,y:()=>c});const t="substack.com",f=null,g="https://substackcdn.com",P=null;function y(v){let O="https://",T="";return O+v+T}const C=y(t),u=new URL(C);function p(v,{forceSubdomain:O=!1}={}){if(v&&"custom_domain"in v&&v.custom_domain&&!v.custom_domain_optional&&!O)return v.custom_domain;let T=t;return v&&v.subdomain!=="www"&&(T=`${v.subdomain}.${T}`),T}function d(v){return Object.keys(v).filter(O=>typeof v[O]!="undefined"&&v[O]!==null).map(.join("&")}function w(v,O){if(!v)return"";if(!O)return v;const T=d(O),I=T?v.indexOf("?")===-1?"?":"&":"";return`${v}${I}${T}`}function D(v,{forceSubdomain:O=!1}={}){if(v&&"rss_website_url"in v&&v.rss_website_url)try{return new URL(v.rss_website_url).origin}catch(I){return v.rss_website_url}else if(v&&"base_url"in v&&v.base_url&&!O)return v.base_url;const T=p(v,{forceSubdomain:O});return y(T)}ction i(v,{noBase:O,urlParams:T}={}){const I=O?"":D();return w(`${I}${v}`,T)}},70444:(H,E,e)=>{"use strict";e.d(E,{Ds:()=>w,E2:()=>Z,IY:()=>ve,It:()=>ae,NZ:()=>ie,Oi:()=>de,Sg:()=>j,TK:()=>fe,kM:()=>q,mx:()=>V,rc:()=>ce,vy:()=>te});var t=e(6385),f=e(30123),s=e(2731),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,u=(ge,be,ne)=>be in ge?g(ge,be,{enumerable:!0,configurable:!0,writable:!0,value:ne}):ge[be]=ne,p=(ge,be)=>{for(var ne in be||(be={}))y.call(be,ne)&&u(ge,ne,be[ne]);if(P)for(var ne of P(be))C.call(be,ne)&&u(ge,ne,be[ne]);return ge};const w="/home",D="/notes",M=null;onst l=/^([cp])-(\d+)$/,i=/^\/note\/([cp])-(\d+)$/,v=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,O=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,T=/^\/@[^\/]+\/note\/c-(\d+)$/,I=/^\/@[^\/]+\/note\/p-(\d+)$/,L=new RegExp(`${w}/(short|post)/p-(\\d+)`);function S(ge){const be=K(ge);if(be)return be;const ne=W(ge);if(ne)return ne;const me=$(ge);return me||null}const N=new RegExp(`^${D}(/?)`);unction U(ge){return ge.replace(N,`${w}$1`)}function W(ge){const be=ge.match(O);if(be)return{type:"post",id:Number(be[3]),author:{id:Number(be[1]),name:be[2]}};const ne=ge.match(I);if(ne)return{type:"post",id:Number(ne[1])};const me=ge.match(L);return me?{type:me[1]==="short"?"post":"postViewer",id:Number(me[2])}:null}function K(ge){const be=ge.match(v);if(be)return{type:"comment",id:Number(be[3]),author:{id:Number(be[1]),name:be[2]}};const ne=ge.match(T);return ne?{type:"comment",id:Number(ne[1])}:null}const G=new RegExp(`^${D}/comment/(d+)$`);function re(ge){return ge.match(G)}function $(ge){const be=ge.match(i);return be?{type:be[1]==="c"?"comment":"post",id:Number(be[2])}:null}function F(ge){const be=ge.match(l);return be?{type:be[1]==="c"?"comment":"post",id:Number(be[2])}:null}function Z({baseUrl:ge,urlParams:be}={}){var ne;let me=w;const Le=ge!=null?ge:(0,f.ZJ)();return(typeof window=="undefined"||!((ne=window.location.href)!=null&&ne.startsWith(Le)))&&(me=Le+me),(0,f.n1)(me,be)}function q({baseUrl:ge,urlParams:be}={}){const ne=Z({baseUrl:ge});return(0,f.n1)(`${ne}/suggestions`,be)}function V(ge,be,{noBase:ne,urlParams:me}={}){var Le,Re;const Me=(Le=be.publishedBylines)!=null&&Le[0]?(Re=be.publishedBylines)==null?void 0:Re[0]:ge?(0,t.getPostAuthor)(ge,be):{id:0,name:"someone"};return(0,f.n1)(`${(0,s.NN)(Me,{noBase:ne})}/note/${te(be.id)}`,me)}function j(ge,{noBase:be,baseUrl:ne,urlParams:me,noHandle:Le}={}){return ge.user_id?(0,f.n1)(`${(0,s.NN)((0,t.getCommentAuthor)(ge),{baseUrl:ne,noBase:be,noHandle:Le})}/note/${ae(ge.id)}`,me):Z({baseUrl:ne})}function Y(ge,{noBase:be,baseUrl:ne,urlParams:me}={}){const Le=be?"":ne!=null?ne:getSubstackUrl();return pathWithQuery(`${Le}/note/${ge}`,me)}function ie(ge,{noBase:be,urlParams:ne}={}){const me=be?"":(0,f.SV)();return(0,f.n1)(`${me}/note/${ae(ge)}`,ne)}function ce(ge,{noBase:be,urlParams:ne}={}){const me=be?"":(0,f.SV)();return(0,f.n1)(`${me}${w}/post/${te(ge)}`,ne)}function de(ge,be){return(0,f.Q2)(`/note/${te(ge)}/restacks`,be)}function z(ge,be,ne){return buildUrl(`/note/${ge}/restacks${be==="notes"?"/notes":"/instants"}`,ne)}function Q(ge,be){return`${be==="comment"?"c":"p"}-${ge}`}function ae(ge){return`c-${ge}`}function te(ge){return`p-${ge}`}unction ue({utm_source:ge,utm_campaign:be}={}){return pathWithQuery("substack://notes",{utm_source:ge,utm_campaign:be})}function ee(ge){return`substack://notes/${ae(ge)}`}function le(ge){return`substack://activity/notes/${ae(ge)}/replies`}function se(ge){return`substack://notes/${te(ge)}`}function fe(ge){return(0,f.n1)(Z(),p({action:"compose"},ge))}function ve(ge,{noBase:be}={}){return`${be?"":(0,f.SV)()}/note/${ae(ge)}/preview.jpg`}},36250:(H,E,e)=>{"use strict";e.d(E,{AN:()=>c,Mo:()=>d,_N:()=>l,aE:()=>v,jn:()=>D,mG:()=>i,tk:()=>w,uR:()=>p,ws:()=>M});var t=e(30123),f=e(70444),s=Object.defineProperty,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(O,T,I)=>T in O?s(O,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):O[T]=I,u=(O,T)=>{for(var I in T||(T={}))P.call(T,I)&&C(O,I,T[I]);if(g)for(var I of g(T))y.call(T,I)&&C(O,I,T[I]);return O};function p(O,T,{noBase:I,edit:L,email:S,comments:N,commentId:R,commentInput:U,highlightComment:W,replyToComment:K,commentContextId:G,uuid:re,urlParams:$,signedIn:F=!1,feedViewer:Z=!1,clipId:q}={}){if((O==null?void 0:O.type)==="rss"&&T)return T.canonical_url||O.rss_website_url;const V=T?re?T.uuid:T.slug:null;if((L||!V)&&O&&(T!=null&&T.id)){const Y=I?"":(0,t.SV)(O),ie=!!(T!=null&&T.editor_v2);return`${Y}${c(O,T.id,ie,$)}`}if((T==null?void 0:T.type)==="restack"&&(T!=null&&T.id))return`${I?"":(0,t.SV)(O)}/cp/${T.id}`;if(Z||!O||!T||!V){const Y=I?"":(0,t.SV)();return R?(0,f.NZ)(R,{noBase:I,urlParams:$}):T&&q?(0,t.n1)(`${(0,t.SV)(O)}/p/${T.slug}`,$):T?(0,f.rc)(T.id,{noBase:I,urlParams:$}):(0,t.n1)(`${Y}${f.Ds}`,$)}const j=l(F,O);return d(O,V,{noBase:I,email:S,comments:N,commentId:R,commentInput:U,highlightComment:W,replyToComment:K,commentContextId:G,urlParams:u({lli:j},$)})}function d(O,T,{noBase:I,email:L,comments:S,commentId:N,commentInput:R,highlightComment:U,replyToComment:W,commentContextId:K,urlParams:G}={}){let re="";return I||(re+=(0,t.SV)(O)),re+=`/p/${T}`,S&&(!N||U)&&(re+="/comments"),N&&!U&&!K&&(re+=`/comment/${N}`),L&&(re+="/email"),G&&(re=(0,t.n1)(re,G)),N&&(U||W)?re+=`#comment-${N}${W?"-reply":""}`:R&&(re+="#input"),N&&K&&(re+=`/comment/${K}#comment-${N}`),re}function w(O,T,I,L){return p(O,T,u({comments:!0,commentId:I==null?void 0:I.id},L))}unction M({pub:O,post:T,mediaUploadId:I}){return`${p(O,T)}#${D({mediaUploadId:I})}`}function c(O,T,I,L){const S=I?"/publish/collab":"/publish/post";return(0,t.n1)(`${S}/${T}`,L)}function l(O,T){return T.custom_domain&&O?"1":void 0}function i(O,{addBase:T,params:I,signedIn:L}={}){const S=l(L,O),N=T?(0,t.SV)(O):"";return(0,t.n1)(`${N}/account`,u({lli:S},I))}function v(O,T,I,L){return T.post_id?w(I!=null?I:void 0,O!=null?O:void 0,T,L):(0,f.Sg)(T,L)}},2731:(H,E,e)=>{"use strict";e.d(E,{GR:()=>p,NN:()=>M,Nh:()=>v});var t=e(95788),f=e(30123),s=Object.defineProperty,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(O,T,I)=>T in O?s(O,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):O[T]=I,u=(O,T)=>{for(var I in T||(T={}))P.call(T,I)&&C(O,I,T[I]);if(g)for(var I of g(T))y.call(T,I)&&C(O,I,T[I]);return O};function p(O,T,{searchParams:I,noBase:L,baseUrl:S}={}){let R=`${L?"":S!=null?S:(0,f.ZJ)()}/profile/${O}`;const U=(0,t.H)(T,{hashIfEmpty:!0});return U&&(R+=`-${U}`),(0,f.n1)(R,I)}const d=(O,{searchParams:T,noBase:I,baseUrl:L}={})=>{const N=`${I?"":L!=null?L:(0,f.ZJ)()}/@${O}`;return(0,f.n1)(N,T)};function w(O,{searchParams:T,noBase:I,baseUrl:L}={}){const N=`${I?"":L!=null?L:getSubstackUrl()}/@${O}`;return pathWithQuery(N,T)}unction M(O,{utm_source:T,utm_content:I,noBase:L,baseUrl:S,noHandle:N,extraParams:R}={}){const U=T||I?{utm_source:T,utm_content:I}:void 0,W=u(u({},R),U),K=N?void 0:(O==null?void 0:O.handle)||(O==null?void 0:O.author_handle);return K?d(K,{noBase:L,baseUrl:S,searchParams:W}):p(O.author_id||O.user_id||O.id,O.user_profile_name||O.author_name||O.name,{noBase:L,baseUrl:S,searchParams:W})}function c(O){return`${M(O)}?follow`}unction i(O,T,I){return buildUrl(`${M(O,{noBase:!0})}/${T!=null?T:"subscribers"}`,I)}function v(O={}){return(0,f.n1)(`${(0,f.ZJ)()}/profile/start`,O)}},96702:(H,E,e)=>{"use strict";e.d(E,{I4:()=>P,SM:()=>s,ln:()=>g,zU:()=>y});var t=e(20501),f=e(30123);function s(C,u){const p=g(C,u);return p||y}function g(C,{preferAuthorPhoto:u}={}){return u&&(C!=null&&C.author_photo_url)&&(0,t.imginary)(C.author_photo_url)?(0,t.imginary)(C.author_photo_url):C!=null&&C.photo_url&&(0,t.imginary)(C.photo_url)?(0,t.imginary)(C.photo_url):(C==null?void 0:C.id)!=null?P(C.id):null}function P(C){const u=["purple","yellow","orange","green","black"];return`${(0,f.ZJ)()}/img/avatars/${u[C%5]}.png`}const y=`${(0,f.ZJ)()}/img/avatars/logged-out.png`},90030:(H,E,e)=>{"use strict";e.d(E,{Q1:()=>f,bu:()=>s});function t(g){return!!(g.email_confirmed||new Date(g.created_at)<new Date("2023-04-26T23:05:00.567Z"))}function f(g,{prependSpace:P=!1}={}){return g?(P?" ":"")+g.trim().split(/\s+/g)[0]:""}function s(g){return g?g.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}},76193:(H,E,e)=>{"use strict";e.r(E),e.d(E,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>f,MOBILE_USER_AGENT_PATTERN:()=>t,getIosVersion:()=>P,isAndroid:()=>p,isAndroidUserAgent:()=>u,isIos:()=>y,isMobile:()=>s,isMobileUserAgent:()=>g});const t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function s(d={}){let w=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!w&&typeof window!="undefined"&&(w=window.opera),w?g(w,d):!1}function g(d,{checkFirst4:w}={}){return t.lastIndex=0,f.lastIndex=0,!!(t.test(d)||w&&f.test(d.substr(0,4)))}function P(){if(typeof navigator=="undefined")return null;const d=navigator.userAgent;if(!d.match(/iPad/i)&&!d.match(/iPhone/i))return null;const w=d.indexOf("OS ");return w===-1?null:parseInt(d.substr(w+3,3).replace("_","."))||null}onst C=/Android/i;function u(d){return C.lastIndex=0,!!d&&C.test(d)}function p(){return typeof navigator=="undefined"?!1:u(navigator.userAgent)}},63830:(H,E,e)=>{"use strict";e.d(E,{l:()=>t});const t=(f,{utm_source:s}={})=>{const g={id:f(),timestamp:new Date};return s&&(g.utm_source=s),g}},83322:(H,E,e)=>{"use strict";e.r(E),e.d(E,{AUDIENCE_ADJECTIVES:()=>Ke,AppError:()=>yt,CENTS_PER_EMAIL:()=>qe,CONTENT_MODERATION_REASONS:()=>Ee,ChatError:()=>Mt,DEFAULT_MAX_BYLINES:()=>Sl,DEFAULT_PREVIEW_LIMIT:()=>le,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>se,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>ee,DEFAULT_THEME_COLORS:()=>Ie,EU_COUNTRIES:()=>rr,FIRST_ILLEGAL_POSTGRES_INTEGER:()=>Re,GIFT_LENGTH_MONTHS:()=>et,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>ue,GRACE_PERIOD_DAYS:()=>ae,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>Ot,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>te,MAX_BANK_PAYMENT_ATTEMPTS:()=>me,MAX_FILE_SIZE:()=>G,MAX_INT32:()=>Le,MAX_MEDIA_FILE_SIZE:()=>W,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>K,MAX_PODCAST_FIELD_LENGTH:()=>Me,MAX_PODCAST_FILE_SIZE:()=>U,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>fe,MISSING_IMAGE_HEIGHT:()=>be,MISSING_IMAGE_URL:()=>ge,MISSING_IMAGE_WIDTH:()=>ne,MONTH_NAMES:()=>xe,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>Xe,NO_REPLY_EMAIL:()=>Hr,NZD_COUNTRIES:()=>Pr,OLD_PODCAST_CATEGORIES:()=>bt,PODCAST_CATEGORIES:()=>it,PODCAST_SECTIONS_TO_MARK_AS_NEWSLETTERS:()=>Ze,PUBLICATION_TIER_DESCRIPTIONS:()=>uc,SECURITY_QUESTIONS:()=>Be,SPECIAL_SUBDOMAINS:()=>De,STRIPE_DAYS_UNTIL_DUE:()=>oe,STRIPE_TAX_ID_TYPES:()=>Oe,SUBSCRIPTION_WORDS:()=>Yo,SUBSTACK_PUBLICATION_IDS:()=>ce,SUBSTACK_PUBLICATION_ID_BETA:()=>V,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>q,SUBSTACK_PUBLICATION_ID_COMPANY:()=>$,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>F,SUBSTACK_PUBLICATION_ID_ON:()=>re,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>ie,SUBSTACK_PUBLICATION_ID_READ:()=>j,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>Z,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>Y,SUBSTACK_USER_ID:()=>de,SUBSTACK_USER_IDS:()=>Q,SUBSTACK_WRITERS_USER_ID:()=>z,SUPPORTED_CURRENCIES:()=>Mr,SUPPORTED_LANGUAGES:()=>We,SUPPORTED_SEARCH_LANGUAGES:()=>Ge,TERSE_AUDIENCE_ADJECTIVES:()=>tt,TRANSPARENT_IMAGE_URL:()=>ve,TWEET_PLACEHOLDER_DATA_URI:()=>T,WEEK_IN_SECONDS:()=>st,anonymousName:()=>Fa,areCommentsLocked:()=>Et,assertIsDefined:()=>I,assertIsError:()=>L,balanceTextWithCharacterWidths:()=>Nt,baschezScoreToEmojis:()=>$r,baschezToCategory:()=>Sr,canDeleteComment:()=>Or,canDeletePost:()=>Tr,canEditComment:()=>Er,canPostComments:()=>er,canReplyToPost:()=>Br,canReportComment:()=>Dr,canSeeCommenterEmails:()=>da,canSeeComments:()=>ut,canSeeTranscription:()=>pt,centsToDollarString:()=>ct,centsToPriceString:()=>gt,colorLightness:()=>pn,colorLuma:()=>dn,commentsEnabledForPost:()=>qa,couldPostCommentsIfSubscribed:()=>hr,coverPageFreeSubscriberCount:()=>Ao,currencySymbol:()=>dt,decimalToPercent:()=>oa,deep_equals:()=>Wo,defaultAudienceForPub:()=>Qr,defaultCommentLevelForPub:()=>$n,defaultSendEmailForPub:()=>kn,dollarFormatter:()=>Qt,dollarStringToCents:()=>He,endsWithPunctuation:()=>En,ensureInList:()=>Gn,escapeNewlines:()=>mo,flat:()=>Qa,flowTextBasedOnWidth:()=>vc,formatArray:()=>Zr,formatBytes:()=>Pa,formatEllipsis:()=>rn,formatPercentForDisplay:()=>na,formatPodcastDuration:()=>fc,formattedBytesToNumber:()=>ka,foundingMemberDescription:()=>ia,fromEnv:()=>Yi,getByLine:()=>Ht,getBylineUsers:()=>Dn,getCopyrightedContentBucketName:()=>Te,getCurrencyForCountry:()=>$e,getGiftValueText:()=>Vt,getInitalPayment:()=>St,getNext5HoursAfterMidnight:()=>ri,getNumberWithCommas:()=>Fo,getOpennodePaymentUrl:()=>Ci,getPlanTitle:()=>Dl,getPostCtaPresentParticiple:()=>Wt,getPostCtaText:()=>_t,getPostEmbedMeta:()=>Kt,getPostMediaBucketName:()=>we,getPrintedByline:()=>An,getPrintedPostType:()=>_r,getReadableAttribution:()=>wi,getReaderRecommendationEmailSubject:()=>Ml,getRestackEmailSubject:()=>Ur,getScheduledAt:()=>To,getSubscribeText:()=>zt,getSubscriptionSentenceWithCustomWords:()=>_n,getSubscriptionWord:()=>Jo,getSuperscriptNumberString:()=>co,getTrialEndOverride:()=>no,getWithIndefiniteArticle:()=>Zi,get_month_name:()=>io,group_by:()=>Pi,guessFirstName:()=>u.Q1,guessLastName:handleDocumentLinkClick:()=>Ba,hashString:()=>Tl,hexToHSV:()=>Ar,hexToRgb:()=>sn,hidePaidPostsFor:()=>Ir,isAppAttribution:()=>ti,isFoundingPlan:()=>mc,isNotMainEntry:()=>ei,isNotesAttribution:()=>Oa,isPaidPub:()=>zr,isPinnable:()=>xf,isProbablyEmail:()=>Si,isSearchEngineCrawlerQuick:()=>Zo,isSubstackNetworkAttribution:()=>_o,isTouchDevice:()=>Uf,isUUID:()=>oo,isValidCommentLevel:()=>bn,isZeroDecimalCurrency:()=>ke,joinLines:()=>eo,kFormatter:()=>Il,longestSetOfWordsBelowCost:()=>nt,mode:()=>ot,normalizeHex:()=>nr,numberToHumanFileSize:()=>Gi,numberToOrderOfMagnitude:()=>to,numberToOrderOfMagnitudeShortString:()=>yo,numberToOrderOfMagnitudeString:()=>ho,numberToOrdinal:()=>Qn,numberToRoughRankingString:()=>ko,numberToString:()=>Vn,objectMap:()=>ro,onlyOwnsRootComment:()=>gr,oxfordComma:()=>Fe,paymentPeriodToPlan:()=>cc,planBasePricing:()=>Yt,pluralize:()=>Lo,possessive:()=>Kn,postSocialDescription:()=>aa,profilePageFreeSubscriberCount:()=>No,profilePageFreeSubscriberCountString:()=>ya,pubCurrency:()=>at,pubHasPaymentsEnabled:()=>en,pubUsesZeroDecimalCurrency:()=>Qe,pubsWithCustomSubscriptionWords:()=>Oi,randomString:()=>uo,resolveTwitterShareText:()=>Gt,restacksEnabledForPost:()=>ba,rgbToHex:()=>Nr,roundPriceUp:()=>ft,sanitizeInlineText:()=>zi,satoshiToBitcoin:()=>Lt,secondsToHHMMSS:()=>dr,secondsToLargestUnit:()=>pr,sectionIsSpecificallyMarkedAsNewsletter:()=>mt,setDateToMidnightPST:()=>dc,shouldHidePostFromArchive:()=>ln,shouldUseInlineComments:()=>or,showCommentsOnPost:()=>Eo,simpleBalanceText:()=>Ln,sortSubscriptions:()=>Tt,spellOutNumber:()=>ao,splitArray:()=>Ea,streamToBuffer:()=>gc,stringCost:()=>Jn,stripInvalidBytes:()=>Wr,subscriptionTypeText:()=>wr,textLengthAlphaNumericMinimumValidator:()=>_c,toMap:()=>Xa,toMillis:()=>bo,toSentenceCase:()=>jn,toTitleCase:()=>Xn,transformDocumentLink:()=>Ro,truncAndFormatArray:()=>vn,truncateBytes:()=>Rr,truncateNumber:()=>Bn,truncateText:()=>Xr,truncateToValidBytes:()=>qr,truncateWords:()=>tn,twitterScreenNames:()=>O,userFromReferralKey:()=>Pn,userReferralKey:()=>yc,validCommentLevels:()=>hn,validateColor:()=>Gr,validateHex:()=>vr,videoPlayerDimensions:);var t=e(57824),f=e.n(t),s=e(82626);const g={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var P=((P||{}),y=((y||{}),C=e(6385),u=e(90030),p=Object.defineProperty,d=Object.defineProperties,w=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(he,Ue,rt)=>Ue in he?p(he,Ue,{enumerable:!0,configurable:!0,writable:!0,value:rt}):he[Ue]=rt,i=(he,Ue)=>{for(var rt in Ue||(Ue={}))M.call(Ue,rt)&&l(he,rt,Ue[rt]);if(D)for(var rt of D(Ue))c.call(Ue,rt)&&l(he,rt,Ue[rt]);return he},v=(he,Ue)=>d(he,w(Ue));const O=g,T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function I(he){if(he==null)throw new yt(`Expected value to be defined, but received ${he}`)}function L(he){if(!(he instanceof Error))throw new yt(`Expected value to be an Error, but received ${he}`)}const S="\u2026",N=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],R=["CA","AU","HK","NZ"],U=350*1024*1024,W=20*1024*1024*1024,K=50*1024*1024,G=700*1024*1024,re=1,$=46438,F=86696,Z=81318,q=87805,V=508885,j=737237,Y=1014268,ie=1056696,ce=[re,$,F,Z,q,V,j,Y,ie],de=81309935,z=41856304,Q=[de,z],ae=16,te=45,oe=30,ue=2/24,ee=1e3,le=356,se=256,fe=6,ve="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ge="/img/missing-image.png",be=455,ne=728,me=3,Le=2147483647,Re=Le+1,Me=25e4,Ee=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort();function we(){const he="substack-post-media";if(!he)throw new yt("postMediaBucketName is not defined");return he}onst De=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],Be=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],Ke={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},tt={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},Ot=new Date("2020-01-16"),et=1,it={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},bt={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},xe=["January","February","March","April","May","June","July","August","September","October","November","December"],Oe=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],Ie=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],We={de:"German",es:"Spanish",fr:"French",it:"Italian",pt:"Portuguese","pt-br":"Brazilian Portuguese"},Ge=["ar","cs","de","el","en","es","fr","hi","hu","id","it","ja","ko","la","nl","no","pl","pt","ro","ru","sv","th","tr","vi","zh"],Xe=["IN"],st=60*60*24*7,qe=.0064,Ze={therampart:{sectionNames:[],sectionIds:[62635]},thebulwark:{sectionNames:["Bulwark Goes to Hollywood"],sectionIds:[]}},mt=({section:he,pub:Ue})=>{var rt,lt;return!!((rt=Ze[Ue.subdomain])!=null&&rt.sectionNames.includes(he.name)||(lt=Ze[Ue.subdomain])!=null&&lt.sectionIds.includes(he.id))};class yt extends Error{constructor(Ue,{status:rt=500,userVisible:lt=!1,messageHtml:Pt=null,responseBody:$t=null}={}){super(Ue),this.name=this.constructor.name,this.status=rt,this.userVisible=!!$t||lt||!1,this.messageHtml=Pt,this.response={body:$t||(this.userVisible?Pt?{errors:[{msg:Ue,msgHTML:Pt}]}:{error:Ue}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Mt extends Error{constructor({status:Ue=500,errType:rt="SERVER_ERROR",errMessage:lt="",pub:Pt=null}){super(lt),this.name=this.constructor.name,this.status=Ue,this.response={body:{status:rt,error:lt}},Pt&&(this.response.body.publication=Pt),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function Ht(he,{skipMultiContributorCheck:Ue=!1}={}){var rt,lt,Pt,$t;if(he.subdomain==="popularinformation")return"Judd Legum";if(he.subdomain==="whyisthisinteresting")return"Noah & Colin";if(he.subdomain==="informant")return"Nick Martin";if(he.subdomain==="colinmeloy")return"Colin Meloy";if(he.subdomain==="petition"||he.subdomain==="russiandissent")return null;if(he.subdomain==="mattlabash")return"Matt Labash";if(he.subdomain==="wmbrown")return"Matt Hranek";if(he.subdomain==="bigtechontrial")return"Matt Stoller";if(he.subdomain==="thegreenspoon")return"Greta and Fanny";if(!Ue&&((rt=he.contributors)==null?void 0:rt.length)>1)return null;const ir=he.name||he.subdomain,fr=[(Pt=(lt=he.contributors)==null?void 0:lt[0])==null?void 0:Pt.name,he.author_name,he.email_from_name,($t=he==null?void 0:he.author)==null?void 0:$t.name];for(let yr of fr)if(yr&&(yr=yr.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),yr&&!yr.startsWith(ir)&&!ir.startsWith(yr)&&!yr.endsWith(ir)&&!ir.endsWith(yr)))return yr;return null}function Gt({pub:he,post:Ue}){var rt;const lt=(he==null?void 0:he.twitter_screen_name)||he&&O[he==null?void 0:he.subdomain];let Pt=(rt=Ue==null?void 0:Ue.title)!=null?rt:he==null?void 0:he.name;return he&&!Ue&&(Pt=`Subscribe to ${Pt}`),lt&&(!Ue||he&&(!Ue.publishedBylines.length||Ue.publishedBylines.some($t=>$t.id===he.author_id)))&&(Pt+=`, by @${lt}`),Pt}function zt(he,{now:Ue=!1,isFreeSubscribed:rt=!1,isMobile:lt=!1,isPledged:Pt=!1,pledgesEnabled:$t=!1,language:ir}={}){if(!he)return"Subscribe";const{iString:fr}=I18N.i(ir||he.language);return _n(he,()=>rt&&he.plans&&lt&&Ue?fr("Upgrade now"):rt&&he.plans&&lt&&!Ue?fr("Upgrade"):rt&&he.plans&&!lt&&Ue?fr("Upgrade to paid now"):rt&&he.plans&&!lt&&!Ue?fr("Upgrade to paid"):fr(rt&&$t&&!Pt&&Ue?"Pledge your support now":rt&&$t&&!Pt&&!Ue?"Pledge your support":Ue?"Subscribe now":"Subscribe"),yr=>(rt&&he.plans?jn(lt?yr.upgrade:yr.upgradeToPaid):rt&&$t&&!Pt?"Pledge your support":jn(Jo(he,"subscribe")))+(Ue?" now":""))}function Kt({date:he,bylines:Ue,like_count:rt,comment_count:lt,language:Pt="en"}){const{iPlural:$t}=I18N.i(Pt),ir=e(85928),fr=[];return fr.push(ir(he).locale(Pt).fromNow()),rt&&fr.push($t("1 like","%1 likes",rt)),lt&&fr.push($t("1 comment","%1 comments",lt)),Ue&&Ue.length&&fr.push(Zr(Ue.map(yr=>yr.name).filter(yr=>yr!==null),Pt)),fr.join(" \xB7 ")}const Ir=["astralcodexten"];function or(he,Ue){return he.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(he==null?void 0:he.subdomain)||(Ue==null?void 0:Ue.type)==="podcast"||(Ue==null?void 0:Ue.type)==="video")}const cr=function Tt(he){return he.sort((Ue,rt)=>{var lt,Pt;if(!Ue)return 1;if(!rt||Ue.membership_state==="subscribed"&&rt.membership_state!=="subscribed")return-1;if(rt.membership_state==="subscribed"&&Ue.membership_state!=="subscribed")return 1;const $t=cr((lt=Ue.publication)==null?void 0:lt.name),ir=cr((Pt=rt.publication)==null?void 0:Pt.name);return $t<ir?-1:$t>ir?1:0})}function wr(he){if(he.expiry&&new Date(he.expiry)>new Date)switch(he.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!he.email_disabled||he.email_settings&&Object.values(he.email_settings||{}).some(Ue=>Ue==="individual")?"Free Subscriber":he.digest_enabled||he.email_settings&&Object.values(he.email_settings||{}).some(Ue=>Ue==="digest")?"Follows in Digests":"Emails Disabled"}function Br({post:he,user:Ue}){return!!(he&&Ue&&Ue.has_publication&&!Ue.is_admin&&!Ue.is_contributor&&he.slug!=="coming-soon")}const Hr="no-reply@substack.com";function Wr(he){if(!he||typeof he!="string")return he;try{return encodeURIComponent(he),he}catch(Ue){}return he.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Ue=>Ue.length>1?Ue:" ")}function Rr(he,Ue){const rt=new TextEncoder().encode(he);return rt.length>Ue?new TextDecoder().decode(rt.slice(0,Ue)):he}function qr(he){for(;;)try{return encodeURIComponent(he),he}catch(Ue){he=he.substring(0,he.length-1)}}function Xr(he,Ue,{words:rt=null,ellipsis:lt=S,extension:Pt=null}={}){if(!he)return he;let $t=!1;if(rt){const ir=new RegExp(`^(\\w+\\W+){${rt-1}}\\w+`).exec(he);ir&&($t=!0,he=ir[0])}return Ue&&he.length>Ue&&($t=!0,he=he.substring(0,Ue-lt.length)),$t&&(he=qr(he),he+=lt,Pt&&(he+=Pt)),he}function tn(he,Ue,{ellipsis:rt=S,quotationMarks:lt=!1}={}){if(!he)return he;lt&&(Ue-=2);let Pt=he;if(he&&he.length>Ue){const $t=he.split(/\s+/),ir=[];let fr=0;for(;fr<=Ue;){const yr=$t.shift();if(!yr||fr+yr.length>Ue)break;ir.push(yr),fr+=yr.length+1}Pt=rn(ir.join(" "),rt)}return lt&&(Pt.endsWith(" ")||Pt.startsWith(" "))&&(Pt=Pt.trim()),lt?`"${Pt}"`:Pt}const Cn=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function rn(he,Ue=S){return`${he.replace(Cn,"")}${Ue}`}function En(he){return/[!.?](?:\s+)?$/.test(he)}const mn=new Set([" ","-"]);function Ln(he,{maxCharsPerLine:Ue=55,maxLines:rt=2,preferWide:lt=!1}={}){if(he.length<=Ue)return[he];const Pt=Ue*rt;if(he.length>Pt){let nn=Pt;for(;nn>=0&&he.charAt(nn)!==" ";)nn--;he=rn(he.slice(0,nn))}const $t=lt?Ue:Math.floor(he.length/rt);let ir=-1,fr=0;const yr=[];for(;fr+$t<he.length-1;){for(fr=fr+$t;fr<=he.length-1&&!mn.has(he.charAt(fr));)fr++;const nn=he.charAt(fr)==="-";yr.push(he.slice(ir+1,nn?fr+1:fr)),ir=fr}return fr<he.length-1&&yr.push(he.slice(ir+1)),yr}const Rn=he=>/[A-Z]/.test(he),wn=he=>/[\s-]/.test(he);function Jn(he,Ue){let rt=0;for(let lt=0;lt<he.length;lt+=1){const Pt=he[lt];Rn(Pt)?rt+=Ue:rt+=1}return rt}function nt(he,Ue,rt){const lt=[];let Pt=0,$t=!1;for(let yr=0;yr<he.length;yr+=1){const nn=he[yr];if(wn(nn)){$t=!0;continue}else $t&&(lt.push(he.slice(Pt,yr)),Pt=yr,$t=!1)}if(Pt<he.length&&lt.push(he.slice(Pt)),!lt.length)return"";const ir=[lt[0]];let fr=Jn(lt[0],Ue);for(const yr of lt.slice(1)){const nn=Jn(yr,Ue);if(fr+=nn,fr<=rt)ir.push(yr);else break}return ir.join("")}function Nt(he,{maxCostPerLine:Ue=55,maxLines:rt=2,capitalCost:lt=1.2}={}){const Pt=he;if(Jn(he,lt)<=Ue)return[he];const ir=[];for(let fr=0;fr<rt;fr+=1){const yr=nt(he,lt,Ue);if(yr)ir.push(yr),he=he.slice(yr.length);else break}return ir.reduce(0)<Pt.length&&(ir[ir.length-1]=rn(ir[ir.length-1].slice(0,ir[ir.length-1].length-1))),ir}const Zt=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],rr=[...Zt,"BG","CZ","DK","HU","PL","RO","SE"],Pr=["NZ","CK","NU","PN","TK"],Mr=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function $e(he){return he==="AU"?"aud":he==="BR"?"brl":he==="CA"?"cad":he==="LI"||he==="CH"?"chf":he==="DK"||he==="FO"||he==="GL"?"dkk":Zt.includes(he)?"eur":he==="GB"?"gbp":he==="MX"?"mxn":he==="BV"||he==="NO"||he==="SJ"?"nok":Pr.includes(he)?"nzd":he==="PL"?"pln":he==="SE"?"sek":he==="US"?"usd":null}const at=he=>{var Ue,rt;return((rt=(Ue=he.draft_plans)==null?void 0:Ue[0])==null?void 0:rt.currency)||"usd"};function ke(he){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(he.toUpperCase())}unction dt(he){return new Intl.NumberFormat("en-US",{style:"currency",currency:he,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const Lt=function gt(he,Ue,{forceDecimals:rt=!1}={}){let Pt=new Intl.NumberFormat("en-US",{style:"currency",currency:Ue,minimumFractionDigits:rt||he%100&&!ke(Ue)?2:0,maximumFractionDigits:Ue==="btc"?8:2}).format(Ue==="btc"?Lt(he):ke(Ue)?he:he/100);return Ue==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&R.includes(window._preloads.country)&&(Pt=`US${Pt}`),Pt}function ct(he){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(he/100)}const Qt=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function He(he){if(!he)return null;if(typeof he!="string")throw new Error("Bad type for dollar string");const Ue=he.replace(/[^0-9.]/g,"");return Ue?Math.round(Number(Ue)*100):null}function ft(he){let Ue=he/100;return Ue=Ue<50?Math.ceil(Ue):Math.ceil(Ue/5)*5,Ue*100}function St(he,{quantity:Ue=1,coupon:rt=null,noTrial:lt=!1,trial_end_override:Pt=null}={}){if(!lt&&(he.trial_period_days||rt&&rt.trial_period_days||Pt&&Pt>Date.now()/1e3+120))return 0;let $t=he.amount*Ue;return rt&&rt.percent_off?$t=Math.round($t*(1-(rt.percent_off_precise||rt.percent_off)/100)):rt&&rt.amount_off&&($t=Math.max(0,$t-rt.amount_off)),$t}function Vt(he,{interval:Ue="month",interval_count:rt=et,multiplier:lt=1,min:Pt=0}={}){let $t,ir,fr;for(const zn of he){if(!fr)fr=zn.currency;else if(fr!=zn.currency)continue;zn.interval=="month"?(!$t||zn.amount<$t)&&($t=zn.amount):zn.interval=="year"&&(!ir||zn.amount<ir)&&(ir=zn.amount)}let yr=$t;if(!yr&&ir&&(yr=ir/12),!yr)return null;let nn;switch(Ue){case"month":nn=yr;break;case"day":nn=yr/30;break;case"year":nn=ir||yr*12;break;default:throw new Error(`bad interval: ${Ue}`)}let jo=nn*rt*lt;return jo<Pt?null:(jo=Math.floor(jo/100)*100,gt(jo,fr))}function Yt(he,{amount:Ue,interval:rt="",language:lt="en"}={}){const Pt=gt(Ue!=null?Ue:he.amount,he.currency);if(he.interval!=="forever"){const $t=rt||he.interval,{iPlural:ir,iString:fr}=I18N.i(lt);if(he.interval_count===3){if($t==="day")return fr("%1/three days",Pt);if($t==="month")return fr("%1/three months",Pt);if($t==="week")return fr("%1/three weeks",Pt);if($t==="year")return fr("%1/three years",Pt)}if($t==="day")return ir("%2/day","%2/%1 days",he.interval_count,Pt);if($t==="month")return ir("%2/month","%2/%1 months",he.interval_count,Pt);if($t==="week")return ir("%2/week","%2/%1 weeks",he.interval_count,Pt);if($t==="year")return ir("%2/year","%2/%1 years",he.interval_count,Pt)}return Pt}function pr(he,{secondsCutoff:Ue,minutesCutoff:rt,hoursCutoff:lt,daysCutoff:Pt,weeksCutoff:$t,long:ir,noNumber:fr,noWord:yr,lessThanMinute:nn,language:jo="en",appendAgo:zn}={}){const{iCombo:Yr}=I18N.i(jo);he=Math.round(he);let Lr;return he<(Ue||60)?(Lr=Math.round(he),yr?Lr:fr&&ir?Yr("secondsToLargestUnit","second","seconds",Lr):fr&&!ir?Yr("secondsToLargestUnit","sec","secs",Lr):!ir&&zn?Yr("secondsToLargestUnit","%1 sec ago","%1 secs ago",Lr):ir?zn?Yr("secondsToLargestUnit","%1 second ago","%1 seconds ago",Lr):Yr("secondsToLargestUnit","%1 second","%1 seconds",Lr):Yr("secondsToLargestUnit","%1 sec","%1 secs",Lr)):he<(rt||3600)&&nn&&!yr&&!fr?(Lr=Math.round(he/60),!ir&&zn?Yr("secondsToLargestUnit","%1 min ago","%1 mins ago",Lr):ir?zn?Yr("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",Lr):Yr("secondsToLargestUnit","less than %1 minute","less than %1 minutes",Lr):Yr("secondsToLargestUnit","less than %1 min","less than %1 mins",Lr)):he<(rt||3600)?(Lr=Math.round(he/60),yr?Lr:fr&&ir?Yr("secondsToLargestUnit","minute","minutes",Lr):fr&&!ir?Yr("secondsToLargestUnit","min","mins",Lr):!ir&&zn?Yr("secondsToLargestUnit","%1 min ago","%1 mins ago",Lr):ir?zn?Yr("secondsToLargestUnit","%1 minute ago","%1 minutes ago",Lr):Yr("secondsToLargestUnit","%1 minute","%1 minutes",Lr):Yr("secondsToLargestUnit","%1 min","%1 mins",Lr)):he<(lt||86400)?(Lr=Math.round(he/60/60),yr?Lr:fr&&ir?Yr("secondsToLargestUnit","hour","hours",Lr):fr&&!ir?Yr("secondsToLargestUnit","hr","hrs",Lr):!ir&&zn?Yr("secondsToLargestUnit","%1 hr ago","%1 hrs ago",Lr):ir?zn?Yr("secondsToLargestUnit","%1 hour ago","%1 hours ago",Lr):Yr("secondsToLargestUnit","%1 hour","%1 hours",Lr):Yr("secondsToLargestUnit","%1 hr","%1 hrs",Lr)):he<(Pt||604800)?(Lr=Math.round(he/60/60),yr?Lr:fr?Yr("secondsToLargestUnit","day","days",Lr):zn?Yr("secondsToLargestUnit","%1 day ago","%1 days ago",Lr):Yr("secondsToLargestUnit","%1 day","%1 days",Lr)):he<($t||31557600)?(Lr=Math.round(he/60/60),yr?Lr:fr&&ir?Yr("secondsToLargestUnit","week","weeks",Lr):fr&&!ir?Yr("secondsToLargestUnit","wk","wks",Lr):!ir&&zn?Yr("secondsToLargestUnit","%1 wk ago","%1 wks ago",Lr):ir?zn?Yr("secondsToLargestUnit","%1 week ago","%1 weeks ago",Lr):Yr("secondsToLargestUnit","%1 week","%1 weeks",Lr):Yr("secondsToLargestUnit","%1 wk","%1 wks",Lr)):(Lr=Math.round(he/60/60/24/365.25),yr?Lr:fr&&ir?Yr("secondsToLargestUnit","year","years",Lr):fr&&!ir?Yr("secondsToLargestUnit","yr","yrs",Lr):!ir&&zn?Yr("secondsToLargestUnit","%1 yr ago","%1 yrs ago",Lr):ir?zn?Yr("secondsToLargestUnit","%1 year ago","%1 years ago",Lr):Yr("secondsToLargestUnit","%1 year","%1 years",Lr):Yr("secondsToLargestUnit","%1 yr","%1 yrs",Lr))}function dr(he){const Ue=Math.floor(he/60/60),rt=Math.floor(he/60)%60,lt=Math.floor(he%60);return`${(Ue?`${Ue}:`:"")+(Ue?`0${rt}`.slice(-2):rt)}:${`0${lt}`.slice(-2)}`}function vr(he){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(he)}function nr(he){return he[0]!=="#"&&(he=`#${he}`),he=he.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,,he}function Ar(he){he=nr(he);function Ue(Yr,Lr){typeof Yr=="string"&&Yr.indexOf(".")!=-1&&parseFloat(Yr)===1&&(Yr="100%");const Ts=typeof Yr=="string"&&Yr.indexOf("%")!=-1;return Yr=Math.min(Lr,Math.max(0,parseFloat(Yr))),Ts&&(Yr=parseInt(Yr*Lr,10)/100),Math.abs(Yr-Lr)<1e-6?1:Yr%Lr/parseFloat(Lr)}const rt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(he);let lt=parseInt(rt[1],16),Pt=parseInt(rt[2],16),$t=parseInt(rt[3],16);lt=Ue(lt,255),Pt=Ue(Pt,255),$t=Ue($t,255);const ir=Math.max(lt,Pt,$t),fr=Math.min(lt,Pt,$t);let yr;const nn=ir,jo=ir-fr,zn=ir===0?0:jo/ir;if(ir==fr)yr=0;else{switch(ir){case lt:yr=(Pt-$t)/jo+(Pt<$t?6:0);break;case Pt:yr=($t-lt)/jo+2;break;case $t:yr=(lt-Pt)/jo+4;break}yr/=6}return{h:yr,s:zn,v:nn}}function sn(he){const Ue=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(nr(he));return Ue?{r:parseInt(Ue[1],16),g:parseInt(Ue[2],16),b:parseInt(Ue[3],16)}:null}function Nr({r:he,g:Ue,b:rt}){return`#${he.toString(16).padStart(2,"0")}${Ue.toString(16).padStart(2,"0")}${rt.toString(16).padStart(2,"0")}`}function Gr(he){const Ue=Ar(he);if(Ue.h>.11&&Ue.h<.56)if(Ue.s>.25&&Ue.v>.5){if(Ue.s<.6&&Ue.v>.8)return!0;if(Ue.s>.6)return!0}else return!1;else if(Ue.s>.25&&Ue.v>.5)return!0;return!1}function pn(he,Ue){const rt=sn(he);return rt?(rt.r=Math.max(0,Math.min(255,Math.round(rt.r*Ue))),rt.g=Math.max(0,Math.min(255,Math.round(rt.g*Ue))),rt.b=Math.max(0,Math.min(255,Math.round(rt.b*Ue))),Nr(rt)):he}function dn(he){let{r:Ue,g:rt,b:lt}=sn(he);return Ue=Ue/255,rt=rt/255,lt=lt/255,Ue=Ue<=.03928?Ue/12.92:Math.pow((Ue+.055)/1.055,2.4),rt=rt<=.03928?rt/12.92:Math.pow((rt+.055)/1.055,2.4),lt=lt<=.03928?lt/12.92:Math.pow((lt+.055)/1.055,2.4),.2126*Ue+.7152*rt+.0722*lt}function vn(he,Ue,{name:rt=fr=>fr,restWord:lt="other",noNames:Pt="people",pluralizeRest:$t=!0,showRestCount:ir=!0}={}){const fr=he.map(rt).filter(Boolean).slice(0,Ue);if(fr.length===0)fr.push(Lo(he.length,Pt));else if(fr.length<he.length){const yr=he.length-fr.length;fr.push(`${ir?yr:""} ${lt}${yr>1&&$t?"s":""}`)}return Zr(fr)}function Zr(he,Ue="en"){const{iString:rt}=I18N.i(Ue);let lt="";return he.length===1?lt=he[0]:he.length===2?lt=he.join(` ${rt("and")} `):he.length>2&&(lt=`${he.slice(0,-1).join(", ")}, ${rt("and")} ${he.slice(-1)}`),lt}function Bn(he,{minSignificantDigits:Ue=1,language:rt="en"}={}){if(he<1e3)return he.toString();const{iTemplate:lt}=I18N.i(rt),Pt=$t=>{const ir=Math.max(Ue-1-Math.floor(Math.log10($t)),0);return Math.round($t*Math.pow(10,ir))/Math.pow(10,ir)};return Math.round(he/1e3)<1e3?(he/=1e3,lt`${Pt(he)}k`):Math.round(he/1e6)<1e3?(he/=1e6,lt`${Pt(he)}m`):Math.round(he/1e9)<1e3?(he/=1e9,lt`${Pt(he)}b`):(he/=1e12,lt`${Pt(he)}t`)}const Sr=he=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(he,1))/Math.LN10+1e-9))-1),$r=function eo(he,Ue,rt){const lt=(he||"").trim().split(/[\s\r]*\n[\s\r]*/g).map($t=>$t.trim()).filter($t=>$t),Pt=[];for(;lt.length>0;){const $t=lt.shift(),ir=Pt[Pt.length-1];ir&&ir.length<rt?Pt[Pt.length-1]+=Ue+$t:Pt.push($t)}return Pt.join(`
`)}unction Xn(he){return he.trim().split(/\s+/).filter(Boolean).map(.join(" ")}function jn(he,Ue){const rt=Ue?he.substr(1).toLowerCase():he.substr(1);return he[0].toUpperCase()+rt}unction Vn(he,{precision:Ue=0,language:rt="en"}={}){return typeof he=="string"&&(he=Number(he.replace(/,/g,""))),new Intl.NumberFormat(rt,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:Ue}).format(he)}function to(he){return Math.pow(10,Math.floor(Math.log10(he)))||0}function ho(he){return he<100?"tens":he<1e3?"hundreds":he<1e4?"thousands":he<1e5?"tens of thousands":he<1e6?"hundreds of thousands":he<1e7?"millions":he<1e8?"tens of millions":he<1e9?"hundreds of millions":he<1e10?"billions":he<1e11?"tens of billions":he<1e12?"hundreds of billions":he<1e13?"trillions":he<1e14?"tens of trillions":he<1e15?"hundreds of trillions":"gagillions"}function yo(he){const Ue=he.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:0,roundingMode:"floor"});return he>=1e3?`${Ue}+`:he>0?Ue:"0"}function ko(he){return he<=10?`#${he}`:he<=25?"Top 25":he<=50?"Top 50":he<=100?"Top 100":""}function Fo(he){if(he<1e3)return null;let lt=Math.floor(he/1e3)*1e3;return lt>=1e6&&(lt=Math.floor(he/1e5)*1e5),Vn(lt)}function Ao(he,Ue="en"){const{iTemplate:rt}=I18N.i(Ue),lt=Fo(he);return lt?rt`Over ${lt} subscribers`:null}function No(he){if(!he||he<100)return null;const Ue=he<1e3?100:1;return yo(Math.floor(he/Ue)*Ue)}function ya(he){return!he||he<100?"See subscribers":`${No(he)} subscribers`}const na=he=>he<1?"< 1%":`${he}%`;function oa(he,{rounded:Ue=!1,display:rt=!1,decimalPlaces:lt=-1}={}){let Pt=parseFloat(he)*100;return lt>=0&&(Pt=Pt.toFixed(lt)),Ue&&(Pt=Math.floor(Pt)),rt?na(Number(Pt)):Pt}function To(he){var Ue;if((Ue=he==null?void 0:he.postSchedules)!=null&&Ue.length&&he.postSchedules[0].trigger_at)return new Date(he.postSchedules[0].trigger_at);if("scheduled_at"in he&&!(!he||!he.scheduled_at)&&!(he.email_sent_at&&he.should_send_email))return new Date(Math.max(new Date(he.scheduled_at).getTime(),Date.now()))}function ao(he){return he===0?"zero":he===1?"one":he===2?"two":he===3?"three":he===4?"four":he===5?"five":he===6?"six":he===7?"seven":he===8?"eight":he===9?"nine":he===10?"ten":he===11?"eleven":he===12?"twelve":Vn(he)}function Lo(he,Ue,{zero_fallback:rt="",just_word:lt}={}){let Pt,$t;const ir=Ue.lastIndexOf(" ")+1,fr=Ue.substr(ir),yr=Ue.substr(0,ir);return["person","people"].includes(fr)?(Pt=`${yr}person`,$t=`${yr}people`):["reply","replies"].includes(fr)?(Pt=`${yr}reply`,$t=`${yr}replies`):["entry","entries"].includes(fr)?(Pt=`${yr}entry`,$t=`${yr}entries`):["match","matches"].includes(fr)?(Pt=`${yr}match`,$t=`${yr}matches`):(Pt=Ue,$t=`${Ue}s`),lt||(Pt=`${Vn(he)} ${Pt}`,$t=`${Vn(he)} ${$t}`),!he&&rt?rt:he==1?Pt:$t}function Kn(he){return`${he}\u2019${he[he.length-1]==="s"?"":"s"}`}onst ro=(he,Ue,rt)=>{const lt={};for(const Pt in he)lt[Pt]=Ue.call(rt,he[Pt],Pt,he);return lt};function Wo(he,Ue){if(isNaN(he))return isNaN(Ue);if(he===null)return Ue===null;switch(typeof he){case"undefined":case"boolean":case"number":case"string":return he===Ue}const rt=Object.keys(he).sort(),lt=Object.keys(Ue).sort();if(rt.length!==lt.length)return!1;for(let Pt=0;Pt<rt.length;Pt+=1){const $t=rt[Pt];if($t!==lt[Pt]||!Wo(he[$t],Ue[$t]))return!1}return!0}const Xa=(he,Ue="id")=>{const rt={};for(const lt of he)typeof Ue=="function"?rt[Ue(lt)]=lt:rt[lt[Ue]]=lt;return rt};function Ea(he,Ue){const rt=[],lt=[];for(const Pt of he)Ue(Pt)?rt.push(Pt):lt.push(Pt);return[rt,lt]}const Qa=(he,Ue=1)=>{const rt=[];function lt(Pt,$t){for(const ir of Pt)Array.isArray(ir)&&$t>0?lt(ir,$t-1):rt.push(ir)}return lt(he,Ue),rt},Pi=(he,Ue,rt)=>{if(typeof Ue=="string"){const lt=Ue.split(".");Ue=return[].reduce.call(he,(lt,Pt,$t)=>{const ir=Ue.call(rt,Pt,$t,he),fr=lt.get(ir);return fr?fr.push(Pt):lt.set(ir,[Pt]),lt},new Map)};function qa({publication:he,post:Ue}){return["adhoc_email","page"].includes(Ue==null?void 0:Ue.type)?!1:he.community_enabled&&Ue&&Ue.write_comment_permissions!=="none"}function ba({publication:he,post:Ue}){return!!(he.community_enabled&&Ue)}function Eo({publication:he,post:Ue}){return(Ue==null?void 0:Ue.type)==="adhoc_email"||(Ue==null?void 0:Ue.slug)==="coming-soon"?!1:Ue&&Ue.comment_count>0||qa({publication:he,post:Ue})}const da=function ut(he,Ue,{bypassContentAccessCheck:rt=!1}={}){const{userHasFullAccessToPost:lt}=e(6385);return he&&Ue.publishedBylines&&Ue.publishedBylines.find(Pt=>Pt.id===he.id)?!0:rt||lt(he,Ue)}function pt(he,Ue,{bypassContentAccessCheck:rt=!1}={}){const{userHasFullAccessToPost:lt}=e(6385);return he&&Ue.publishedBylines&&Ue.publishedBylines.find(Pt=>Pt.id===he.id)?!0:rt||lt(he,Ue)}const Et=function er(he,Ue,rt){const lt=he&&"id"in he?he.id:null;if(lt&&Ue.publishedBylines&&Ue.publishedBylines.find(Pt=>Pt.id===lt))return{canReply:!0};if(he&&he.is_contributor)return{canReply:!0};switch(Ue.write_comment_permissions||rt.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:P.comments_disabled};case"only_paid":{if((0,C.isFoundingAudience)(Ue.audience)){const $t=he?(0,C.userHasFullAccessToPost)(he,Ue,rt):!1;return{canReply:$t,repliesDisabledReason:$t?void 0:P.founding_subscription_required}}const Pt=!!(he&&he.is_subscribed);return{canReply:Pt,repliesDisabledReason:Pt?void 0:P.paid_subscription_required}}}return{canReply:!1}}function hr(he,Ue,rt){return er(v(i({},he),{is_subscribed:!0}),Ue,rt).canReply}const Er=(he,Ue)=>!!(Ue&&he&&he.id===Ue.user_id);function Or(he,Ue,{pub:rt,post:lt,parentComments:Pt}){if(!he||!Ue)return!1;if(he.is_contributor||he.id===Ue.user_id)return!0;if(Ue.publication_id&&Ue.post_id){if(Tr(he,rt,lt))return!0}else if(gr({user:he,comment:Ue,parentComments:Pt}))return!0;return!1}function gr({user:he,comment:Ue,parentComments:rt}){var lt;if(!he||!Ue||Ue.publication_id&&Ue.post_id||he.id===Ue.user_id||he.is_contributor)return!1;const Pt=Number((lt=Ue.ancestor_path)==null?void 0:lt.split(".").filter(Boolean)[0]);if(!Pt)return!1;const $t=rt==null?void 0:rt.find(;return he.id===($t==null?void 0:$t.user_id)}function Tr(he,Ue,rt){return he?!!(he.is_contributor||he.id===(Ue==null?void 0:Ue.author_id)||Ue!=null&&Ue.contributors.find(lt=>lt.user_id===he.id&&["admin","contributor"].includes(lt.role))):!1}function Dr(he,Ue){return!(!he||!Ue||he.id===Ue.user_id)}nction Qr(he,{type:Ue,coupon:rt}={}){return!he.plans||Ue==="page"?"everyone":rt?"only_free":"only_paid"}function hn(he,Ue,rt){if(Ue==="thread")switch(he){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(he){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return rt?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function bn(he,Ue,rt,lt){return he!=null&&hn(Ue,rt,lt).includes(he)}function $n(he,Ue,rt,lt){return bn(rt.default_write_comment_permissions,he,Ue,lt)?rt.default_write_comment_permissions:hn(he,Ue,lt)[0]}function kn(he,Ue,rt){return Ue==="page"?!1:rt==="only_free"?!0:!!he.default_post_publish_send_email}function no(he,Ue,rt){return Ue&&Ue.interval==="forever"?0:Math.max(0,...[he.trial_end_override>Date.now()/1e3?he.trial_end_override:0,Ue&&Ue.trial_period_days&&Math.round((Date.now()+Ue.trial_period_days*24*60*60*1e3)/1e3),rt&&rt.trial_period_days&&Math.round((Date.now()+rt.trial_period_days*24*60*60*1e3)/1e3)].filter(lt=>lt))}const io=he=>xe[new Date(he).getMonth()];function Fe(he,{noBreakSpace:Ue}={}){const rt=Ue?"\xA0":" ";let lt=[];if(he.length==1)lt=[he[0]];else if(he.length==2)lt=[he[0],`${rt}and${rt}`,he[1]];else if(he.length>=3)for(let Pt=0;Pt<he.length;Pt++)lt.push(he[Pt]),Pt<he.length-2?lt.push(`,${rt}`):Pt===he.length-2&&lt.push(`,${rt}and${rt}`);return lt.toString=()=>lt.join(""),lt}function ot(he){const Ue=new Map;for(const rt of he){let lt=Ue.get(rt);lt=(lt||0)+1,Ue.set(rt,lt)}return Array.from(Ue).sort((rt,lt)=>lt[1]-rt[1])[0][0]}function _t(he,Ue="en"){const{iString:rt}=I18N.i(Ue);return he.type==="thread"?rt("View thread"):he.type==="podcast"?rt("Listen"):rt("Read")}function Wt(he,{isFinalWord:Ue}={}){return he==="podcast"?`listening${Ue?"":" to"}`:he==="video"?"watching":"reading"}function _r(he){return he==="newsletter"?"post":he==="podcast"?"episode":he==="adhoc_email"?"email":he==="video"?"video":he}function Ur(he){return`${Xr(he.title||"Untitled post",115)}`}unction Dn(he,{isDraft:Ue=!1}={}){return he?((Ue?he.draftBylines:he.publishedBylines)||[]).filter(lt=>lt.name):[]}function An(he,Ue,{isDraft:rt=!1}={}){const lt=Dn(Ue,{isDraft:rt});return lt.length>0?Zr(lt.map(Pt=>Pt.name).filter(Pt=>Pt!==null)):null}const oo=he=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(he);function bo(he){return typeof he=="string"?f()(he)||0:typeof he=="number"?he:0}function Ro(he){const Ue=if(he){if(he.includes(s.Substitutions.CHECKOUT_URL))return he.replace(Ue(s.Substitutions.CHECKOUT_URL),"/subscribe?");if(he.includes(s.Substitutions.FOUNDING_CHECKOUT_URL))return he.replace(Ue(s.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(he.includes(s.Substitutions.REFERRAL_URL))return he.replace(Ue(s.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(he.includes(s.Substitutions.UNSUBSCRIBE_URL))return he.replace(Ue(s.Substitutions.UNSUBSCRIBE_URL),"/account?");if(he.includes(s.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return he.replace(Ue(s.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(he))return null}else return he;return he}function Ba(he){const Ue=Ro(he);if(Ue){const rt=window.open(Ue,"_blank");rt!=null&&rt.focus&&rt.focus()}}function ei(he){if(!he)return!0;const Ue=document.location&&document.location.pathname||"";return["publish","account"].includes(Ue.split("/")[1])}function Pa(he,Ue=2){if(he===0)return"0 Bytes";const rt=1024,lt=Ue<0?0:Ue,Pt=Math.floor(Math.log(he)/Math.log(rt));return`${parseFloat((he/Math.pow(rt,Pt)).toFixed(lt))} ${N[Pt]}`}function ka(he=""){if(!he)return 0;const[Ue,rt]=he.split(" "),lt=N.indexOf(rt);return lt<0?0:Number(Ue)*Math.pow(1024,lt)}function Zo(he){return/Googlebot/i.test(he||"")?"Google":/bingbot/i.test(he||"")||/BingPreview/i.test(he||"")?"Bing":/Slurp/i.test(he||"")?"Yahoo":/DuckDuckBot/i.test(he||"")?"DDG":/Baiduspider/i.test(he||"")?"Baidu":!1}function Fa(he,Ue,rt,lt){return he.name?he.name:(rt&&rt.author_id===lt.id||Ue&&Ue.publishedBylines&&Ue.publishedBylines.find(Pt=>Pt.id===lt.id))&&he.email||"Someone"}function aa(he,Ue,rt="en"){const{iTemplate:lt}=I18N.i(rt);return he&&he.description||Ue.hero_text||lt`Get ${Ue.name} in your inbox`}const Yo=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],so={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},Oi=Yo.flatMap(he=>he.pubs);function _n(he,Ue,rt){const lt=Yo.find($t=>$t.pubs.includes(he==null?void 0:he.subdomain))||null,Pt=lt?i(i({},so),lt):null;return Pt?rt(Pt):Ue()}function Jo(he,Ue){const rt=Yo.find(Pt=>Pt.pubs.includes(he==null?void 0:he.subdomain));let lt=rt&&rt[Ue];if(!lt&&(lt=so[Ue],!lt))throw new Error(`${Ue} is not a valid subscription word`);return lt}function co(he){const Ue={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${he}`).map(rt=>Ue[rt]))}const ia=he=>{var Ue,rt,lt;return(lt=(rt=(Ue=he==null?void 0:he.plans)==null?void 0:Ue.find(Pt=>{var $t;return($t=Pt.metadata)==null?void 0:$t.founding}))==null?void 0:rt.metadata)==null?void 0:lt.short_description},Ci=he=>`https://checkout.opennode.com/${he}`;function Gi(he=0){const Ue=he===0?0:Math.floor(Math.log(he)/Math.log(1024));return`${+(he/Math.pow(1024,Ue)).toPrecision(3)}${["B","KB","MB","GB","TB"][Ue]}`}function wi(he,Ue="en"){if(!he)return null;const{iString:rt}=I18N.i(Ue),lt=rt("Substack Network"),Pt=rt("Substack App");if(Oa(he))return Pt;const $t={"blog.substack.com":lt,"library.substack.com":lt,"substack-network":lt,"on.substack.com":lt,"post-end-cta":"Post Footer CTA","stories.substack.com":lt,"substack-app":Pt,"substack-boost":lt,"substack-categories-discovery":Pt,"substack-categories-discovery-search":Pt,"substack-comment-links":lt,"substack-country-leaderboards":Pt,"substack-cross-posts":lt,"substack-facepiles":lt,"substack-feed-item":Pt,"substack-follow-recommendations":Pt,"substack-homepage-recommendations":lt,"substack-ios-in-app-purchase":"Substack iOS In-App Purchase","substack-leaderboards":Pt,"substack-mentions":lt,"substack-notes":Pt,"substack-onboarding-discovery":Pt,"substack-post-embeds":lt,"substack-post-reply-comment":lt,"substack-presubscribe":Pt,"substack-publication-embeds":lt,"substack-reader-discovery":Pt,"substack-reader-profile-discovery":Pt,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":rt("Substack Network \u2014 Your Weekly Stack"),"substack-recommendation-email":lt,"substack-referral":lt,"substack-signup-flow":lt,"substack-subscriber-referral":lt,"substack-twitter-link":Pt,"substack-twitter-suggest":Pt,"substack-xp-post-template":lt,"substack-xp-read-next":lt,"substack.com":Pt,"t.co":"Twitter","www.substack.com":lt,external:rt("external form / api"),"googleads.g.doubleclick.net":"Google","score-upsell":rt("Boost upsell to engaged subscribers")}[he];return $t||(/(\b|\.)facebook\./.test(he)?"Facebook":/(\b|\.)instagram\./.test(he)?"Instagram":/(\b|\.)linkedin\./.test(he)?"LinkedIn":/(\b|\.)youtube\./.test(he)?"YouTube":/(\b|\.)duckduckgo\./.test(he)?"DuckDuckGo":/(\b|\.)medium\./.test(he)?"Medium":/(\b|\.)reddit\./.test(he)?"Reddit":/(\b|\.)bing\./.test(he)?"Bing":/(\b|\.)google\./.test(he)?"Google":he!=null&&he.includes(".")?he:Xn(he.replace(/-/g," ")))}function ti(he){return Oa(he)?!0:["substack-app","substack-categories-discovery","substack-categories-discovery-search","substack-country-leaderboards","substack-feed-item","substack-follow-recommendations","substack-ios-in-app-purchase","substack-leaderboards","substack-notes","substack-onboarding-discovery","substack-presubscribe","substack-reader-discovery","substack-reader-profile-discovery","substack-twitter-link","substack-twitter-suggest","substack.com"].includes(he)}function Oa(he){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(he)}onst Si=he=>/^\S+@\S+\.\S+$/.test(he),zi=he=>(he||"").replace(/\s+/g," "),uc={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function cc(he){return he?he<3456e3?"monthly":he<8121600?"quarterly":he<16070400?"semiannual":he<3456e4?"annual":he>3888e3?"lifetime":"other":"free"}onst Sl=35;function Po(he,{isStatic:Ue}={}){let rt,lt;return he.width>=he.height*1.7777777777777777?(rt=Ue?550:960,lt=Math.round(rt*(he.height/he.width))):he.width>=he.height?(rt=Ue?550:728,lt=Math.round(rt*(he.height/he.width))):rt=lt=Ue?550:728,{height:lt,width:rt}}function dc(he){const Ue=e(85928),rt=Ue(he);return Ue.utc([rt.year(),rt.month(),rt.date(),8,0,0]).toDate()}function ri({now:he}={}){const Ue=e(85928),rt=he?Ue(he):Ue();let lt=rt.utc().startOf("day").add(5,"hour");return lt.isBefore(rt)&&(lt=lt.utc().add(1,"day")),lt}function fc(he){const Ue=Math.round(he/60),rt=Math.floor(Ue/60),lt=Ue%60;return`${rt?`${rt}HR `:""}${lt}M`}function pc(he){const Ue=he.toLowerCase()[0];return["a","e","i","o","u"].includes(Ue)}function hc(he){return he.toLowerCase().startsWith("uni watch")?"a":pc(he)?"an":"a"}function Zi(he){return`${hc(he)} ${he}`}function Tl(he){return he.split("").reduce(0)}function Il(he,Ue="en"){const{iContext:rt}=I18N.i(Ue),lt=rt("thousandsAbbreviation","K");return Math.abs(he)>9999?`${Math.sign(he)*(Math.abs(he)/1e3).toFixed(1)}${lt}`:(Math.sign(he)*Math.abs(he)).toString()}function Ml({recommendedPubs:he}){let Ue=null;for(const rt of he){for(const lt of rt.recommendations)if(lt.hasOwnProperty("blurb")&&lt.blurb){Ue=`${lt.name} recommended ${rt.name}`;break}if(Ue)break}return Ue!=null?Ue:"Recommendations from your Substacks"}function Dl(he,Ue="en"){var rt,lt,Pt,$t,ir;const{iString:fr}=I18N.i(Ue);return((rt=he.metadata)==null?void 0:rt.short_description_english)==="Stammleser"||((lt=he.metadata)==null?void 0:lt.short_description_english)==="Gr\xFCndungsmitglied"?fr("Founding Member"):(Pt=he.metadata)!=null&&Pt.short_description_english?fr(($t=he.metadata)==null?void 0:$t.short_description_english):(ir=he.metadata)!=null&&ir.short_description?fr(he.metadata.short_description):he.interval==="year"?fr("Annual"):he.interval==="forever"?fr("Founding Membership"):he.interval==="month"&&he.interval_count===3?fr("Quarterly"):he.interval==="month"&&he.interval_count===6?fr("Semiannually"):he.interval==="day"?fr("Daily"):he.interval==="week"?fr("Weekly"):fr("Monthly")}function mc(he){var Ue;return((Ue=he==null?void 0:he.metadata)==null?void 0:Ue.founding)==="yes"}const _c=({minLength:he,maxLength:Ue,minAlphaNumeric:rt}={})=>lt=>{if(!lt)return"Missing input";if(he&&lt.length<he)return`Must be at least ${he} characters long`;if(Ue&&lt.length>Ue)return`Must be at most ${Ue} characters long`;const Pt=new RegExp("\\P{P}|`","gu"),$t=lt.match(Pt);if(!$t||($t==null?void 0:$t.length)<(rt!=null?rt:he))return`Must contain at least ${rt!=null?rt:he} non-punctuation characters`;const ir=["`"];let fr=0;return $t.forEach(yr=>{ir.includes(yr)&&(fr+=1)}),$t.length-fr<(rt!=null?rt:he)?`Must contain at least ${rt!=null?rt:he} non-punctuation characters`:null};function Yi(he,Ue){const rt=process.env[he],lt=typeof rt!="undefined",Pt=typeof Ue!="undefined";if(lt)return rt;if(Pt)return Ue;throw new Error(`Missing required env var ${he}`)}function gc(he){return new Promise((Ue,rt)=>{const lt=[];he.on("data",Pt=>lt.push(Pt)),he.once("end",,he.once("error",rt)})}function vc(he,{maxWidth:Ue=55,maxLines:rt=2,charWidth:lt=1}={}){const Pt=[];let $t="",ir=0;const fr=he.split(" ");for(const yr of fr){const nn=yr.length*lt;if(ir+nn<=Ue)$t?($t+=` ${yr}`,ir+=nn+lt):($t=yr,ir=nn);else if(Pt.push($t),$t=yr,ir=nn,Pt.length===rt)break}if(Pt.length===rt&&$t){const yr=Ue-ir;yr>=3?$t+="...":$t=`${$t.substring(0,$t.length-(3-yr))}...`,Pt[rt-1]=$t}else $t&&Pt.push($t);return Pt}function Uf(){return typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0)}function yc(he){return(he==null?void 0:he.id)&&he.id.toString(36)||null}function Pn(he){if(!he)return null;try{const Ue=parseInt(he,36);return isNaN(Ue)||Ue>Le?null:Ue}catch(Ue){return null}}function Gn(he,Ue){return typeof he!="string"?Ue[0]:Ue.includes(he)?he:Ue[0]}},17087:(H,E,e)=>{"use strict";e.d(E,{a:()=>t});const t=(f,s,g)=>{var P;return((P=g==null?void 0:g.preview_duration)!=null?P:0)>0||["everyone","only_free"].includes(s.audience)||["only_paid"].includes(s.audience)&&(f==null?void 0:f.is_subscribed)||["founding"].includes(s.audience)&&(f==null?void 0:f.is_founding)}},31163:(H,E,e)=>{"use strict";e.d(E,{DL:()=>s,Jk:()=>P,UB:()=>f,ZD:()=>y,fI:()=>g});function t(C){const u=e(85928);return u().diff(u(C),"hour")}const f=C=>{const u=Math.floor(C/60),p=Math.floor(C%60);return`${u}:${p.toString().padStart(2,"0")}`};function s(C,u=!1){if(C<0)return"0:00";const p=Math.floor(C),d=Math.floor(p/60),w=p%60;if(u){const D=Math.round((C-p)*10);return`${d}:${String(w).padStart(2,"0")}.${D}`}return`${d}:${String(w).padStart(2,"0")}`}const g=C=>/^[0-9.:]*$/.test(C),P=y=C=>{const[u="",p=""]=C.split("."),d=u.split(":").reverse().map(l=>parseInt(l)),w=d[0]||0,D=d[1]||0;return(d[2]||0)*3600+D*60+w+parseInt(p.padEnd(3,"0"))/1e3}},59009:(H,E,e)=>{"use strict";e.d(E,{UTM_CAMPAIGN:()=>f,UTM_CONTENT:()=>g,UTM_MEDIUM:()=>t,UTM_SOURCE:()=>s});const t={email:"email",menu:"menu",podcast:"podcast",reader2:"reader2",reader2Nav:"reader2-nav",rss:"rss",social:"social",web:"web"},f={CTA1:"CTA_1",CTA2:"CTA_2",CTA3:"CTA_3",CTA4:"CTA_4",CTA5:"CTA_5",CTA7:"CTA_7",about:"about",acceptCreditPage:"accept-credit-page",acceptPubCreditPage:"accept-pub-credit-page",androidChatLaunchEmail:"android-chat-launch-email",appMarketing:"app-marketing",appUpsellFaceCloud:"app-upsell-face-cloud",appUpsellFinishSubscribing:"app-upsell-finish-subscribing",appUpsellFollowAuthor:"app-upsell-follow-author",appUpsellFollowRecommendations:"app-upsell-follow-recommendations",appUpsellRedirect:"app-upsell-redirect",autoShare:"auto_share",autofilledFooter:"autofilled-footer",bestsellersDmsAnnouncement:"bestsellers-dms-announcement",book:"book",brand:"brand",bulletin:"bulletin",chatDigestEmail:"chat-digest-email",chatDripEmail:"chat-drip-email",chatMarketing:"chat-marketing",cohortPages:"cohort_pages",comment:"comment",commentListShareCta:"comment-list-share-cta",commentPage:"comment-page",comp:"comp",compExpiryNotice:"comp-expiry-notice",contactsSyncBlast:"contacts-sync-blast",continueYourSupport:"continue_your_support",creditAcceptedPage:"credit-accepted-page",creditAnnouncementEmail:"credit-announcement-email",creditGrantedEmail:"credit-granted-email",creditTokenInvitePage:"credit_token_invite_page",crossPost:"cross-post",cta:"cta",default:"default",discover:"discover",emailArchive:"email-archive",emailChat:"email-chat",emailCheckout:"email-checkout",emailComments:"email-comments",emailContinue:"email-continue",emailFoundingCheckout:"email-founding-checkout",emailHalfMagicComments:"email-half-magic-comments",emailHalfPost:"email-half-post",emailHome:"email-home",emailLeaderboard:"email-leaderboard",emailPlayOnSubstackUfi:"email-play-on-substack-ufi",emailPost:"email-post",emailPostAppLink:"email-post-app-link",emailPostTitle:"email-post-title",emailPublication:"email-publication",emailReaction:"email-reaction",emailRelatedPub:"email-related-pub",emailRestack:"email-restack",emailRestackComment:"email-restack-comment",emailSavePost:"email-save-post",emailShare:"email-share",emailSubscribe:"email-subscribe",emailThread:"email-thread",getChat:"get-chat",getStartedPage:"get_started_page",ghost:"ghost",giftExpiryNotice:"gift-expiry-notice",giftExpiryNoticeJudd:"gift-expiry-notice-judd",giveAnother:"give-another",growth:"growth",guestPostBio:"guest_post_bio",home:"home",internationalLeaderboard:"international-leaderboard",inviteFriendsCreditsShare:"invite-friends-credits-share",inviteFriendsPage:"invite-friends-page",inviteFriendsPostSubCreditsShareModal:"invite-friends-post-sub-credits-share-modal",inviteFriendsReaderOnboarding:"invite-friends-reader-onboarding",inviteFriendsReaderOnboardingCredit:"invite-friends-reader-onboarding-credit",lists:"lists",mentionNotification:"mention-notification",navbar:"navbar",newThreadEmail:"new-thread-email",notification:"notification",postEmbed:"post_embed",postFollowReferrerPrompt:"post-follow-referrer-prompt",postInstagramShareModal:"post-instagram-share-modal",postReplyComment:"post_reply_comment",postSelection:"post_selection",postShareCenter:"post-share-center",postShareSelection:"post-share-selection",postViewer:"post_viewer",profilePage:"profile_page",pss:"pss",pubShareChecklist:"pub-share-checklist",publicationEmbed:"publication_embed",publishSettings:"publish-settings",reaction:"reaction",reader2:"reader2",readerOnboarding:"reader-onboarding",readerTopNav:"reader-top-nav",referralsSubscribePageShareScreen:"referrals-subscribe-page-share-screen",restackNotification:"restack-notification",shareBestsellerBadge:"share_bestseller_badge",showNotesNoFreePreviewLanguage:"show-notes-no-free-preview-language",smartDeliveryPostDigestEmail:"smart-delivery-post-digest-email",subscribe:"subscribe",subscribePageShareScreen:"subscribe-page-share-screen",subscriberReferralsPubNotification:"subscriber_referrals_pub_notification",substackClips:"substack-clips",substackProfile:"substack_profile",threadEmail:"thread-email",threadPage:"thread-page",threadsPage:"threads-page",ttsModal:"tts-modal",twitterEmbed:"twitter-embed",twitterQuitter:"twitter-quitter",unbsubscribePage:"unbsubscribe-page",unifiedHomeEmailBlast:"unified-home-email-blast",uniqueShareLink:"unique-share-link",viralGiftTwoMonthsLeft1:"viral-gift-two-months-left-1",web:"web",welcome:"welcome",writerReferralButton:"writer_referral_button",xpPostEmbed:"xp_post_embed",xpReadNext:"xp_read_next"},s={about:"about",aboutPage:"about-page",acceptCreditPage:"accept_credit_page",account:"account",accountCard:"account-card",activationDrip:"activation_drip",activityItem:"activity_item",allPodcasts:"all-podcasts",allPodcastsSetupButton:"all_podcasts_setup_button",allYourSubscriptions:"all-your-subscriptions",amp:"amp",appDeckAppstoreButton:"app-deck-appstore-button",appPage:"app-page",appPageBottomAppStoreButton:"app-page-bottom-app-store-button",appPageHeaderButton:"app-page-header-button",audienceInsights:"audience-insights",authorNoteEmail:"author-note-email",badge:"badge",batchPublicationRecommendedEmail:"batchPublicationRecommendedEmail",chatChecklist:"chat-checklist",chatEmbed:"chat_embed",chatEnabledEmail:"chat_enabled_email",chatPostLanding:"chat-post-landing",commentEmbed:"comment_embed",confirmationEmail:"confirmation_email",continueYourSupport:"continue_your_support",coverPage:"cover_page",crossPost:"cross-post",discover:"discover",discoverSearch:"discover_search",dripEmail:"drip_email",editProfileVisibility:"edit-profile-visibility",email:"email",emailRedirect:"email-redirect",emailUfi:"email-ufi",embed:"embed",facebook:"facebook",feedCommentReplyRestriction:"feed-comment-reply-restriction",floatingSubscribeButton:"floating_subscribe_button",giftsPage:"gifts_page",goingPaid:"going-paid",google:"google",greatDiscussions:"great-discussions",handleNotification:"handle-notification",home:"home",homePage:"home-page",homeSitemap:"home-sitemap",homepageReaderOnboarding:"homepage-reader-onboarding",homepageRecommendations:"homepage_recommendations",import:"import",importBanner:"import_banner",instagram:"instagram",invitationEmail:"invitation_email",leaderboard:"leaderboard",likeButtonUpsell:"like-button-upsell",likeToast:"like_toast",listManagementModal:"list_management_modal",manageSubscriptions:"manage-subscriptions",mentions:"mentions",menu:"menu",menuDropdown:"menu-dropdown",messenger:"messenger",mobileSubscription:"mobile-subscription",multiplePersonalRecommendationsEmail:"multiple-personal-recommendations-email",navbar:"navbar",newThreadEmail:"new-thread-email",newsletterPage:"newsletter_page",notesInviteFriendsItem:"notes-invite-friends-item",notesShareAction:"notes-share-action",notification:"notification",paymentPledge:"payment-pledge",paymentPledgeConfirmPayment:"payment-pledge-confirm-payment",paywall:"paywall",paywallFreeTrial:"paywall-free-trial",personalizedRecommendationEmail:"personalized-recommendation-email",planPurchaseBox:"plan-purchase-box",pledged:"pledged",podcastEmail:"podcast-email",podcastPostHeader:"podcast_post_header",podcastSetupEmail:"podcast_setup_email",pollSubscribeModal:"poll-subscribe-modal",post:"post",postEmailTitle:"post-email-title",postEmbed:"post_embed",postEndCta:"post-end-cta",postReferralBanner:"post-referral-banner",postScheduledPage:"post-scheduled-page",postSubscribe:"post_subscribe",postSubscribePrompt:"post-subscribe-prompt",presubscribe:"presubscribe",profileCard:"profile-card",profileToast:"profile_toast",pubHomeSidebar:"pub-home-sidebar",pubHoverCard:"pub_hover_card",qr:"qr",readerCta:"reader-cta",readerSignupFullscreen:"reader_signup_fullscreen",readyForMore:"ready-for-more",receipt:"receipt",receiptPage:"receipt-page",recommendationsPage:"recommendations_page",referralLeaderboard:"referral-leaderboard",restackDigestEmail:"restack-digest-email",rewardEmail:"reward_email",share:"share",showsAudioPlayerHeader:"shows-audio-player-header",showsListenOnMobileDropdown:"shows-listen-on-mobile-dropdown",showsPaywall:"shows-paywall",signup:"signup",subscribe:"subscribe",subscribeContentBlock:"subscribe_content_block",subscribeEmail:"subscribe_email",subscribeLater:"subscribe_later",subscribeWidget:"subscribe-widget",subscribeWidgetPreamble:"subscribe-widget-preamble",subscriberBadge:"subscriber_badge",subscriberChats:"subscriber-chats",subscriptionNotification:"subscription-notification",substack:"substack",substackDigest:"substack-digest",substackFeedItem:"substack-feed-item",suggest:"suggest",thread:"thread",threadEmbed:"thread_embed",twitter:"twitter",twitterPubsTryChatEmail:"twitter-pubs-try-chat-email",upsell:"upsell",userMenu:"user-menu",web:"web",webChatNavigation:"web-chat-navigation",webChatPaywall:"web-chat-paywall",whatsapp:"whatsapp",worldClassWriting:"world-class-writing",writerDashboard:"writer-dashboard",writerOnboardingRecommendations:"writer-onboarding-recommendations",writerReferral:"writer_referral",writerReferralInviteEmail:"writer_referral_invite_email",writerReferralInvitePage:"writer_referral_invite_page",writerReferralSignupEmail:"writer_referral_signup_email",writerStatsEmail:"writer_stats_email"},g={account:"account",appUpsellFaceCloud:"app-upsell-face-cloud",appUpsellFinishSubscribing:"app-upsell-finish-subscribing",appUpsellFollowAuthor:"app-upsell-follow-author",appUpsellFollowRecommendations:"app-upsell-follow-recommendations",appUpsellRedirect:"app-upsell-redirect",authorPostInsert:"author-post-insert",bloggers:"bloggers",comicBookCreators:"comic-book-creators",comment:"comment",commentLink:"comment link",commentMetadata:"comment_metadata",commentShareCheckbox:"comment-share-checkbox",comments:"comments",communityPrograms:"community_programs",cta:"cta",dashboardActionBox:"dashboard_action_box",dashboardPubSwitcher:"dashboard_pub_switcher",defaultWelcomeEmail:"default-welcome-email",discoverTwitter:"discover-twitter",earningCalculator:"earning-calculator",email:"email",emailFooterButton:"email-footer-button",facepileRestacks:"facepile-restacks",feedFeaturedPublication:"feed_featured_publication",feedRecommendedCopyLink:"feed:recommended:copy_link",feedRecommendedViewPublication:"feed:recommended:view_publication",finance:"finance",firstNoteModal:"first-note-modal",foodWriters:"food_writers",footer:"footer",getMonth:"get-month",giveCredit:"give-credit",giveMonth:"give-month",giveMonthGetCredits:"give-month-get-credits",learnMore:"learn_more",like:"like",localNews:"local_news",newFromTwitter:"new-from-twitter",newFromTwitterWithPost:"new-from-twitter-with-post",noteShareModal:"note-share-modal",openInApp:"open-in-app",paywallPostUnlockPrompt:"paywall-post-unlock-prompt",podcasters:"podcasters",post:"post",postLink:"post link",postcta:"postcta",profile:"profile",reader:"reader",readerSurveySubscribePrompt:"reader-survey-subscribe-prompt",reads:"reads",renewheader:"renewheader",resackerItem:"resacker-item",revampedRecommendationsForReader:"revamped-recommendations-for-reader",scoreUpsell:"score-upsell",seeWhatElseYouMissed:"see-what-else-you-missed",share:"share",signInPage:"sign-in-page",signup:"signup",subscribes:"subscribes",substackFeedItem:"substack-feed-item",switchToSubstack:"switch-to-substack",unifiedHomeDashboardActionBox:"unified_home_dashboard_action_box",unsubscribePage:"unsubscribe-page",unubscribePageTooManyEmails:"unubscribe-page-too-many-emails",userMenuLink:"user-menu-link",userName:"user name",video:"video",webChatMobilePage:"web-chat-mobile-page",webFooterButton:"web-footer-button",writes:"writes",wwwFooter:"www-footer"},P={post:"post"},y={groupSubscriptionOffer:"group-subscription-offer"}},32542:H=>{"use strict";const E={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3",language:"en"};H.exports=E},45895:(H,E,e)=>{"use strict";e.d(E,{forEachNode:()=>t});function t(s,g,{nodeTypes:P}={}){var y,C;if(!s||(P&&!Array.isArray(P)&&(P=[P]),s.type&&(!P||P.includes(s.type)||P.includes(s.type.name))&&g(s)===!1))return;const u=((y=s.content)==null?void 0:y.length)>0?s.content:((C=s.content)==null?void 0:C.childCount)>0?s.content.content:[];for(const p of u)t(p,g,{nodeTypes:P})}function f(s,g){var P,y;if(!s||g(s)===!1)return;const C=((P=s.content)==null?void 0:P.length)>0?s.content:((y=s.content)==null?void 0:y.childCount)>0?s.content.content:[];for(let u=C.length-1;u>=0;u--)f(C[u],g)}},2181:(H,E,e)=>{"use strict";e.d(E,{Jg:()=>we,Q4:()=>zt,V8:()=>Gt,dI:()=>Lt,rk:()=>Hr,xn:()=>gt});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(28175),y=e.n(P),C=e(80587),u=e(98188),p=e(10293),d=e(45609),w=e(99869),D=e(19723),M=e(45570),c=e(65862),l=e(49770),i=e(17048),v=e(27194),O=e(13639),T=e(2564),I=e(80332),L=e(81066),S=e(20501),N=e(92604),R=e(16495),U=e(86602),W=e(21397),K=e(79786),G=e(63270),re=e(67963),$=e(3258),F=e(15748),Z=e(8479),q=e(17025),V=e.n(q),j=e(84040),Y=e(51126),ie=e(12876),ce=e(70925),de=e(43887),z=e(75425),Q=e(97868),ae=e(56472),te=e(33510),oe=e(72307),ue=e(9613),ee=e(1942),le=Object.defineProperty,se=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,ne=(He,ft,St)=>ft in He?le(He,ft,{enumerable:!0,configurable:!0,writable:!0,value:St}):He[ft]=St,me=(He,ft)=>{for(var St in ft||(ft={}))ge.call(ft,St)&&ne(He,St,ft[St]);if(ve)for(var St of ve(ft))be.call(ft,St)&&ne(He,St,ft[St]);return He},Le=(He,ft)=>se(He,fe(ft)),Re=(He,ft)=>{var St={};for(var Vt in He)ge.call(He,Vt)&&ft.indexOf(Vt)<0&&(St[Vt]=He[Vt]);if(He!=null&&ve)for(var Vt of ve(He))ft.indexOf(Vt)<0&&be.call(He,Vt)&&(St[Vt]=He[Vt]);return St},Me=(He,ft,St)=>new Promise((Vt,Yt)=>{var pr=nr=>{try{vr(St.next(nr))}catch(Ar){Yt(Ar)}},dr=nr=>{try{vr(St.throw(nr))}catch(Ar){Yt(Ar)}},vr=nr=>nr.done?Vt(nr.value):Promise.resolve(nr.value).then(pr,dr);vr((St=St.apply(He,ft)).next())});const Ee="ffe5d072-ae52-11ed-afa1-0242ac120002";function we({communityPost:He,author:ft,extras:St,withAttribution:Vt,flex:Yt,hideReply:pr,isReadOnly:dr,onReply:vr,onDelete:nr,pub:Ar}){var sn;const Nr=(0,f.sO)(null),Gr=(0,W.T)(),pn={type:"posts",id:He.id},{getConfigFor:dn}=(0,G.xR)(),vn=dn("report_chats_to_pub_admins"),Zr=(0,ae.I0)(),Bn=!(He.type==="media"&&He.media_assets),Sr=$r=>Me(this,[$r],function*({details:eo,reportCategory:uo,reportedToSubstack:Xn}){const{id:jn}=He;Zr(bt({id:jn,details:eo,reportCategory:uo,reportedToSubstack:Xn}))});return(0,t.h)(qr,{user:ft,flex:Yt,containerRef:Nr},Vt&&(0,t.h)(gt,{text:`From ${ft.name}\u2019s subscriber chat`}),(0,t.h)(Te,{actionMenuProps:{communityEntity:He,publicationId:He.publication_id,onReply:vr,onDelete:nr,onReport:()=>Gr({onSubmit:Sr,pub:Ar!=null?Ar:void 0,canReportToAdmins:!!(vn&&Ar&&Ar.moderation_enabled&&He.user_pub_role!=="admin")}),isReadOnly:dr,isFlagged:He.reported_by_user},flex:Yt},(0,t.h)(Zt,null,He.type==="media"&&He.media_assets&&(0,t.h)(L.c,{context:pn,reactions:He.reactions,currentReaction:He.reaction,onReactionClick:De(He.id,"posts",Zr,He.reaction),isReadOnly:dr},(0,t.h)(R.q,{assets:He.media_assets.map(,className:ue.Z.imageGroup,readOnly:dr})),He.link_url&&(0,t.h)(L.c,{context:pn,reactions:He.reactions,currentReaction:He.reaction,onReactionClick:De(He.id,"posts",Zr,He.reaction),setReactions:Bn,isReadOnly:dr},(0,t.h)(dt,{linkUrl:He.link_url,linkMetadata:(sn=He.link_metadata)!=null?sn:void 0,postId:He.id})),He.body&&(0,t.h)(L.c,{context:pn,reactions:He.reactions,currentReaction:He.reaction,onReactionClick:De(He.id,"posts",Zr,He.reaction),setReactions:Bn&&!He.link_url,isReadOnly:dr},(0,t.h)(Pr,{authorName:ft.name,communityEntity:He})))),!pr&&(0,t.h)(Nt,null,(0,t.h)(at,{commenters:He.recent_commenters,count:He.comment_count,audience:He.audience})),St)}function Te({children:He,actionMenuProps:ft,flex:St="grow"}){return(0,t.h)(Y.gq,{alignItems:"start",gap:12,flex:St},(0,t.h)(Y.tu,null,He),(0,t.h)(tn,me({},ft)))}const De=(He,ft,St,Vt)=>Yt=>Me(void 0,null,function*(){St(Vt===Yt?Ke(Yt,He,ft):Be(Yt,He,ft,Vt))}),Be=(He,ft,St,Vt)=>(Yt,pr)=>Me(void 0,null,function*(){Yt({type:`${St}-new_reaction`,payload:{id:ft,reaction:He}}),(yield Mt(He,ft,St))instanceof Error&&Yt(Vt?{type:`${St}-new_reaction`,payload:{id:ft,reaction:Vt}}:{type:`${St}-remove_reaction`,payload:{id:ft,reaction:He}})}),Ke=(He,ft,St)=>(Vt,Yt)=>Me(void 0,null,function*(){Vt({type:`${St}-remove_reaction`,payload:{id:ft,reaction:He}}),(yield Ht(He,ft,St))instanceof Error&&Vt({type:`${St}-new_reaction`,payload:{id:ft,reaction:He}})}),tt=(He,ft)=>(St,Vt)=>Me(void 0,null,function*(){St({type:"posts-delete_post",payload:{id:He,publication_id:ft}});const Yt=yield yt(He);Yt instanceof Error&&console.warn("error deleting thread",Yt)}),Ot=(He,ft,St)=>(Vt,Yt)=>Me(void 0,null,function*(){Vt({type:"comments-delete_comment",payload:{id:He,postId:ft}});const pr=yield qe(He);if(pr instanceof Error&&console.warn("error deleting comment",pr),St){const vr=yield Ze(St);vr instanceof Error||Vt({type:"comments-update_comment",payload:{id:St,comment:vr.comment}})}const dr=yield mt(ft);dr instanceof Error||Vt({type:"posts-update_post",payload:{id:ft,post:dr.communityPost}})}),et=(He,ft)=>(St,Vt)=>Me(void 0,null,function*(){St({type:"posts-lock_replies",payload:{id:He,isLocked:ft}});const Yt=yield Ie(He,ft);Yt instanceof Error&&(console.warn("error locking post",Yt),alert(`There was an error ${ft?"locking":"unlocking"} replies to this post. Please try again later.`),St({type:"posts-lock_replies",payload:{id:He,isLocked:!ft}}))}),it=(He,ft)=>(St,Vt)=>Me(void 0,null,function*(){St({type:"comments-lock_replies",payload:{id:He,isLocked:ft}});const Yt=yield We(He,ft);Yt instanceof Error&&(console.warn("error locking comment",Yt),alert(`There was an error ${ft?"locking":"unlocking"} replies to this comment. Please try again later.`),St({type:"comments-lock_replies",payload:{id:He,isLocked:!ft}}))}),bt=({id:He,details:ft,reportCategory:St,reportedToSubstack:Vt})=>(Yt,pr)=>Me(void 0,null,function*(){Yt({type:"posts-flag_post",payload:{id:He}});const dr=yield Xe({id:He,details:ft,reportCategory:St,reportedToSubstack:Vt});dr instanceof Error&&console.warn("error flagging post",dr)}),xe=({id:He,details:ft,reportCategory:St,reportedToSubstack:Vt})=>(Yt,pr)=>Me(void 0,null,function*(){Yt({type:"comments-flag_comment",payload:{id:He}});const dr=yield st({id:He,details:ft,reportCategory:St,reportedToSubstack:Vt});dr instanceof Error&&console.warn("error flagging comment",dr)}),Oe=(He,ft)=>(St,Vt)=>Me(void 0,null,function*(){St({type:"comments-ban_author",payload:{id:He,ban:ft}});const Yt=yield Ge(He,ft);Yt instanceof Error&&(console.warn("error toggling ban for comment author",Yt),alert(`There was an error ${ft?"banning":"unbanning"} this user. Please try again later.`),St({type:"comments-ban_author",payload:{id:He,ban:!ft}}))});function Ie(He,ft){return Me(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${He}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:ft})})}catch(St){return St}})}function We(He,ft){return Me(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${He}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:ft})})}catch(St){return St}})}function Ge(He,ft){return Me(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${He}/publication_bans?ban=${ft.toString()}`,{method:"POST"})}catch(St){return St}})}function Xe(He){return Me(this,arguments,function*({id:ft,details:St,reportCategory:Vt,reportedToSubstack:Yt}){try{return yield(0,Z.rd)(`/api/v1/community/posts/${ft}/reports`,{method:"POST",json:{postId:ft,details:St,reportCategory:Vt,reportedToSubstack:Yt}})}catch(pr){return pr}})}function st(He){return Me(this,arguments,function*({id:ft,details:St,reportCategory:Vt,reportedToSubstack:Yt}){try{return yield(0,Z.rd)(`/api/v1/community/comments/${ft}/reports`,{method:"POST",json:{commentId:ft,details:St,reportCategory:Vt,reportedToSubstack:Yt}})}catch(pr){return pr}})}function qe(He){return Me(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/comments/${He}`,{method:"DELETE",json:{commentId:He}})}catch(ft){return ft}})}function Ze(He){return Me(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/comments/${He}`,{method:"GET"})}catch(ft){return console.warn(ft),ft}})}function mt(He){return Me(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/posts/${He}`,{method:"GET"})}catch(ft){return console.warn(ft),ft}})}function yt(He){return Me(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/posts/${He}`,{method:"DELETE",json:{postId:He}})}catch(ft){return ft}})}function Mt(He,ft,St){return Me(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/${St}/${ft}/reaction`,{method:"POST",json:{reaction:He}})}catch(Vt){return Vt}})}function Ht(He,ft,St){return Me(this,null,function*(){try{return yield(0,Z.rd)(`/api/v1/community/${St}/${ft}/reaction`,{method:"DELETE",query:{reaction:He}})}catch(Vt){return Vt}})}function Gt({author:He,extras:ft,showReply:St=!0,analyticsParams:Vt,commenters:Yt,count:pr,audience:dr}){return(0,f.d4)(()=>{Vt&&(0,$.track)($.EVENTS.THREAD_PAYWALL_SCREEN_VIEWED,Vt)},[]),(0,t.h)(qr,{user:He},(0,t.h)(Zt,null,(0,t.h)(ke,{audience:dr}),St&&(0,t.h)(at,{isLocked:!0,commenters:Yt,count:pr})),ft)}function zt({author:He,extras:ft,showReply:St=!0,commenters:Vt,count:Yt}){return(0,t.h)(qr,{user:He},(0,t.h)(Zt,null,(0,t.h)(Qe,null),St&&(0,t.h)(at,{isLocked:!0,commenters:Vt,count:Yt})),ft)}unction Ir({text:He,rawText:ft,specialText:St,mentionMap:Vt,limit:Yt=600}){const[pr,dr]=(0,f.eJ)(!1);if(St)return(0,t.h)("em",null,St);if(!He)return(0,t.h)(t.Fragment,null);let vr=[{characters:He.length,message:He}];ft&&Vt&&(vr=Tt(ft,Vt));const{alwaysShow:nr,afterExpansion:Ar}=cr(vr,Yt),sn=Ar.length>0;return(0,t.h)(t.Fragment,null,nr.map(Nr=>Kt(Nr)?(0,t.h)(or,null,Nr.message):Nr.message),sn&&!pr&&(0,t.h)(t.Fragment,null,(0,t.h)("span",null," "),(0,t.h)(j.kG,{resetCss:!0,className:ue.Z.readMore,onClick:Nr=>{Nr.preventDefault(),dr(!0)}},"Read more")),sn&&pr&&(0,t.h)(t.Fragment,null,Ar.map(Nr=>Kt(Nr)?(0,t.h)(or,null,Nr.message):Nr.message)))}function or({children:He}){return(0,t.h)(y(),{options:{attributes:{rel:"nofollow ugc",onClick:ft=>ft.stopPropagation()}}},He)}function cr(He,ft){let St=0;const Vt=[],Yt=[];for(const pr of He){let dr=pr;if(St<ft){if(St+dr.characters>ft&&Kt(dr)){const vr=ft-St,nr={characters:vr,message:dr.message.slice(0,vr)},Ar={characters:dr.characters-vr,message:dr.message.slice(vr)};dr=nr,Yt.push(Ar)}St+=dr.characters,Vt.push(dr)}else Yt.push(dr)}return{alwaysShow:Vt,afterExpansion:Yt}}function Tt(He,ft){const St=/\$\{(\d+)\}/g;let Vt=St.exec(He);const Yt=He,pr=[];let dr=0;for(;Vt;){const vr=Number(Vt[1]),nr=ft[vr];nr?(Vt.index>dr&&pr.push({characters:Vt.index-dr,message:Yt.slice(dr,Vt.index)}),pr.push({characters:nr.text.length,message:Br(nr.user_id,wr(nr.text),nr.text)})):pr.push({characters:St.lastIndex-dr,message:Yt.slice(dr,St.lastIndex)}),dr=St.lastIndex,Vt=St.exec(He)}return dr<Yt.length&&pr.push({characters:Yt.length-dr,message:Yt.slice(dr)}),pr}function wr(He){return He.slice(1)}function Br(He,ft,St){return(0,t.h)(U.default,{name:ft,id:He,mentionText:St,type:"user",uuid:Ee,isStatic:!1,isEditorContext:!1})}function Hr(He){var ft=He,{communityComment:St,quoteReply:Vt,isTargeted:Yt,isBanned:pr,pubRole:dr,isNew:vr,error:nr}=ft,Ar=Re(ft,["communityComment","quoteReply","isTargeted","isBanned","pubRole","isNew","error"]);return(0,t.h)(Wr,me({isTargeted:Yt,isNew:vr,commentGroup:[{communityComment:St,quoteReply:Vt,isBanned:pr,pubRole:dr,isNew:vr,error:nr}]},Ar))}function Wr({commentGroup:He,author:ft,isNew:St,chatPublicationId:Vt,hideReply:Yt,onReply:pr,onNewQuote:dr,onQuoteReplyClick:vr,onDelete:nr,commentRef:Ar,isTargeted:sn,isReadOnly:Nr,chatAuthorNameAttribution:Gr,extras:pn,flex:dn,pub:vn}){const Zr=(0,ae.I0)(),Bn=(0,W.T)(),Sr=He[He.length-1].communityComment,{reply_count:$r=0,recent_commenters:eo=[]}=Sr!=null?Sr:{},{getConfigFor:uo}=(0,G.xR)(),Xn=uo("report_chats_to_pub_admins"),jn=Qn=>Me(this,[Qn],function*({details:Vn,reportCategory:to,entityId:ho,reportedToSubstack:yo}){Zr(xe({id:ho,details:Vn,reportCategory:to,reportedToSubstack:yo}))});return(0,t.h)(qr,{user:ft,pubRole:He[0].pubRole,containerRef:Ar,id:`comment-${Sr==null?void 0:Sr.id}`,flex:dn},Gr&&(0,t.h)(gt,{text:`Comment from ${Gr}\u2019s subscriber chat`}),(0,t.h)(Te,{actionMenuProps:{communityEntity:He[0].communityComment,isBanned:He[0].isBanned,isFlagged:He[0].communityComment.reported_by_user,onReply:pr,onDelete:nr,onNewQuote:dr,onReport:(Qn,Vn)=>Bn({onSubmit:canReportToAdmins:!!(Xn&&vn&&Vn&&vn.moderation_enabled),pub:vn!=null?vn:void 0}),isReadOnly:Nr,publicationId:Vt,isNew:St},flex:dn},(0,t.h)(Zt,null,He.map(({communityComment:{id:Qn,body:Vn,quote_id:to,media_uploads:ho,reactions:yo,reaction:ko,reported_by_user:Fo},quoteReply:Ao,isNew:No,error:ya},na)=>{var oa,To;return(0,t.h)(t.Fragment,{key:Qn},!No&&!Fo&&ho&&ho.length>0&&to===null&&(0,t.h)(L.c,{context:{type:"comments",id:Qn},reactions:yo,currentReaction:ko,onReactionClick:De(Qn,"comments",Zr,ko),isReadOnly:Nr||No},(0,t.h)(R.q,{assets:ho.map(ao=>ao.url),className:ue.Z.imageGroup,readOnly:Nr})),to&&Ao&&(0,t.h)(Mr,{authorName:(To=(oa=Ao.user)==null?void 0:oa.name)!=null?To:"Substack User",communityEntity:Ao.comment,onClick:vr}),Vn&&(0,t.h)(L.c,{context:{type:"comments",id:Qn},reactions:yo,currentReaction:ko,onReactionClick:De(Qn,"comments",Zr,ko),setReactions:!ho||ho.length===0,isReadOnly:Nr||No},(0,t.h)(Pr,{authorName:ft.name,communityEntity:He[na].communityComment,isTargeted:sn})),ya&&(0,t.h)(de.xv.Detail,{color:"error"},"\u{10005F} Not delivered."))}))),!Yt&&$r>0&&(0,t.h)(Nt,null,(0,t.h)(at,{commenters:eo,count:$r})),pn)}unction qr({user:He,children:ft,flex:St="grow",containerRef:Vt,id:Yt,pubRole:pr}){return(0,t.h)(Y.hs,{id:Yt,alignItems:"start",gap:12,flex:St,ref:Vt,className:g()(ee.Z.reactionsHoverZone,ue.Z.avatarContainer)},(0,t.h)(Y.hs,{paddingTop:4},He?(0,t.h)(ct,{user:He,pubRole:pr,size:40}):(0,t.h)(te.Vm,{type:"circle",size:40})),(0,t.h)(Y.tu,{flex:"grow",gap:4},ft))}function Xr(){return(0,t.h)(Y.hs,{className:ue.Z.actionButton,paddingX:4,alignItems:"center"},(0,t.h)(C.Z,null))}function tn({communityEntity:He,onReply:ft,onDelete:St,onReport:Vt,isReadOnly:Yt,publicationId:pr,isBanned:dr,isFlagged:vr,isNew:nr,onNewQuote:Ar}){const sn=(0,f.sO)(!1),Nr=Gr=>{sn.current=Gr};return nr?null:(0,t.h)(Y.hs,{alignItems:"center",className:ue.Z.actions},(0,t.h)(ce.J,{content:({closePopover:Gr})=>(0,t.h)(Cn,{communityEntity:He,onReply:ft,onDelete:St,onReport:Vt,closePopover:Gr,isReadOnly:Yt,publicationId:pr,isBanned:dr,isFlagged:vr,onNewQuote:Ar}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:ue.Z.actionMenuLayer,onOpen:()=>Nr&&Nr(!0),onClose:()=>Nr&&Nr(!1)},(0,t.h)(Xr,null)))}function Cn({communityEntity:He,onReply:ft,onDelete:St,onReport:Vt,isReadOnly:Yt,publicationId:pr,isBanned:dr,isFlagged:vr,closePopover:nr,onNewQuote:Ar}){const sn=(0,re.aF)(),{isAuthor:Nr}=(0,oe.Y0)(pr!=null?pr:0),Gr=pr&&Nr,pn=He&&sn&&He.user_id===sn.id,dn=He&&!Rr(He),vn=dn&&"parent_id"in He&&He.parent_id!==null,Zr=pn||Gr,Bn=pn||Gr,Sr=!pn&&!vr,$r=Gr&&dn&&!pn;return(0,t.h)(Y.tu,{className:ue.Z.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!Yt&&ft&&(0,t.h)(En,{disabled:!!(He!=null&&He.is_locked),onReply:ft}),!Yt&&Ar&&dn&&(0,t.h)(rn,{onNewQuote:Ar,communityComment:He,closePopover:nr}),He&&He.body&&(0,t.h)(mn,{communityEntity:He,closePopover:nr}),He&&(0,t.h)(Ln,{communityEntity:He,closePopover:nr}),!Yt&&He&&!vn&&Bn&&(0,t.h)(Rn,{communityEntity:He,closePopover:nr}),!Yt&&He&&Zr&&(0,t.h)(nt,{communityEntity:He,closePopover:nr,onDelete:St}),!Yt&&He&&Sr&&(0,t.h)(wn,{onReport:Vt,communityEntity:He,closePopover:nr}),!Yt&&He&&dr!==void 0&&$r&&(0,t.h)(Jn,{communityEntity:He,closePopover:nr,isBanned:dr}))}function rn({onNewQuote:He,communityComment:ft,closePopover:St}){return(0,t.h)(ie.sN,{icon:(0,t.h)(u.Z,null),onClick:,"Quote")}function En({disabled:He,onReply:ft}){return(0,t.h)(ie.sN,{icon:(0,t.h)(p.Z,null),onClick:ft,disabled:He},"Reply")}function mn({communityEntity:He,closePopover:ft}){const St=(0,z.pm)(),Vt=()=>{if(He){const{body:Yt}=He;(0,q.copyToClipboard)(Yt),St.popToast(pr=>(0,t.h)(z.FN,Le(me({},pr),{text:"Text copied",Icon:d.Z})))}ft()};return(0,t.h)(ie.sN,{icon:(0,t.h)(d.Z,null),onClick:Vt},"Copy Text")}function Ln({communityEntity:He,closePopover:ft}){const St=(0,F.g)(),{id:Vt}=He,Yt=Rr(He),pr=()=>{var dr;let vr;Yt?vr=(0,S.getCommunityPostAppLinkUrl)({postId:Vt}):vr=(0,S.getCommunityCommentAppLinkUrl)({commentId:(dr=He.parent_id)!=null?dr:Vt,targetReplyId:He.parent_id?Vt:void 0}),St(vr),ft()};return(0,t.h)(ie.sN,{icon:(0,t.h)(w.Z,null),onClick:pr},"Copy Link")}function Rn({communityEntity:He,closePopover:ft}){const St=(0,ae.I0)(),{id:Vt,is_locked:Yt}=He,pr=Rr(He),dr=()=>Me(this,null,function*(){St(pr?et(Vt,!Yt):it(Vt,!Yt)),ft()});return(0,t.h)(ie.sN,{icon:Yt?(0,t.h)(D.Z,null):(0,t.h)(M.Z,null),onClick:dr,priority:Yt?"primary":"destructive"},Yt?"Turn on replies":"Turn off replies")}function wn({closePopover:He,onReport:ft,communityEntity:St}){return(0,t.h)(t.Fragment,null,(0,t.h)(ie.sN,{icon:(0,t.h)(c.Z,null),onClick:()=>{ft(St.id,St.user_pub_role!=="admin"),He()},priority:"destructive"},"Report"))}function Jn({communityEntity:He,closePopover:ft,isBanned:St}){const Vt=(0,ae.I0)(),Yt=()=>Me(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:dr}=He;Vt(Oe(dr,!St)),ft()}});return(0,t.h)(ie.sN,{icon:St?(0,t.h)(l.Z,null):(0,t.h)(i.Z,null),onClick:Yt,priority:"destructive"},St?"Unban user":"Ban user")}function nt({communityEntity:He,closePopover:ft,onDelete:St}){const Vt=(0,ae.I0)(),Yt=Rr(He),pr=()=>Me(this,null,function*(){if(confirm(`Are you sure you want to delete this ${Yt?"thread":"comment"}?`)){const{id:vr}=He;if(Yt){const{publication_id:nr}=He;Vt(tt(vr,nr))}else{const{post_id:nr,parent_id:Ar}=He;Vt(Ot(vr,nr,Ar))}St&&setTimeout(St,500)}ft()});return(0,t.h)(ie.sN,{icon:(0,t.h)(v.Z,null),onClick:pr,priority:"destructive"},Yt?"Delete thread":"Delete reply")}function Nt(He){return(0,t.h)(Y.tu,me({className:ue.Z.replyContainer,alignItems:"start"},He))}function Zt(He){return(0,t.h)(Y.tu,me({className:ue.Z.bubbleStack,gap:4,alignItems:"start"},He))}function rr(He){var ft=He,{isTargeted:St}=ft,Vt=Re(ft,["isTargeted"]);return(0,t.h)(Y.hs,me({className:g()(ue.Z.bubble,St&&ue.Z.targetedAnimation),padding:12,bg:"secondary",minWidth:0},Vt))}function Pr({authorName:He,communityEntity:ft,isTargeted:St}){return(0,t.h)(rr,{isTargeted:St},(0,t.h)($e,{authorName:He,communityEntity:ft}))}function Mr({authorName:He,communityEntity:ft,onClick:St}){return(0,t.h)(Y.hs,{className:g()(ue.Z.bubble,ue.Z.quoteBox),onClick:St,padding:12,minWidth:0},(0,t.h)($e,{authorName:He,communityEntity:ft}))}function $e({authorName:He,communityEntity:ft}){var St,Vt,Yt,pr,dr,vr;let nr=null;const Ar=Rr(ft)?"thread":"reply";return ft.reported_by_user&&(nr=`You reported this ${Ar}`),(ft.status==="deleted"||!ft.body)&&(nr=`This ${Ar} is not available`),ft.body||(Rr(ft)?(St=ft.media_assets)!=null&&St.length?nr=`${ft.media_assets.length} ${ft.media_assets.length>1?"photos":"photo"}.`:ft.link_url&&(nr=`Link: ${ft.link_url}`,(Vt=ft.link_metadata)!=null&&Vt.title&&(nr=`Link: "${ft.link_metadata.title}"`)):(Yt=ft.media_uploads)!=null&&Yt.length&&(nr=`${ft.media_uploads.length} ${ft.media_uploads.length>1?"photos":"photo"}.`)),(0,t.h)(de.Zx,{isParagraph:!0,className:ue.Z.bubbleText},(0,t.h)(de.Zx,{weight:"semibold",className:ue.Z.authorName},He||"Substack user")," ",(ft.body||nr)&&(0,t.h)(Ir,{text:(pr=ft.raw_body)!=null?pr:ft.body,rawText:(dr=ft.raw_body)!=null?dr:"",specialText:nr,mentionMap:(vr=ft.mentions)!=null?vr:void 0}))}function at({isLocked:He,count:ft=0,commenters:St,audience:Vt}){const Yt=He?O.Z:T.Z;return(0,t.h)(rr,{alignSelf:"stretch"},(0,t.h)(Y.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,t.h)(Y.hs,{alignItems:"center",gap:8},St&&(0,t.h)(Y.hs,{className:ue.Z.facepile,alignItems:"center"},St.map(pr=>(0,t.h)(ct,{className:ue.Z.facepileAvatar,user:pr,size:24}))),(0,t.h)(de.Zx,{color:"secondary"},ft>0?`${ft.toLocaleString()} replies...`:"Reply...")),(0,t.h)(Y.hs,{gap:4,alignItems:"center"},He||!Vt||Vt==="all_subscribers"?void 0:(0,t.h)(de.Zx,{color:"secondary"},Vt==="only_founding"?"Founding":"Paid"),(0,t.h)(Yt,{size:20,stroke:"var(--color-secondary)"}))))}function ke({audience:He}){const ft=He==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,t.h)(Y.tu,{className:ue.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,t.h)(Y.hs,{alignItems:"center",gap:4},(0,t.h)(O.Z,{size:12,stroke:"var(--color-secondary)"}),(0,t.h)(de.xv.Meta,{weight:"semibold"},ft)))}function Qe(){return(0,t.h)(Y.tu,{className:ue.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,t.h)(Y.hs,{alignItems:"center",gap:4},(0,t.h)(O.Z,{size:12,stroke:"var(--color-secondary)"}),(0,t.h)(de.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function dt({linkUrl:He,linkMetadata:ft,postId:St}){var Vt,Yt,pr;const dr=(0,ae.I0)();let vr;try{const pn=new URL((Vt=ft==null?void 0:ft.url)!=null?Vt:He);vr=`${pn.host}${pn.pathname}${pn.search}${pn.hash}`}catch(pn){vr=He}const{result:nr,isLoading:Ar,error:sn}=(0,Z.ib)({pathname:"/api/v1/link-metadata",query:{url:He},auto:!ft,deps:[He]});nr&&!ft&&St&&dr({type:"posts-link_metadata",payload:{id:St,link_metadata:nr}});const Nr=(Yt=ft==null?void 0:ft.title)!=null?Yt:nr==null?void 0:nr.title,Gr=(pr=ft==null?void 0:ft.image)!=null?pr:nr==null?void 0:nr.image;return(0,t.h)(rr,null,(0,t.h)(Y.hs,{as:"a",href:He,target:"_blank",justifyContent:"space-between",gap:12,className:ue.Z.linkBubble,onClick:pn=>pn.stopPropagation()},(0,t.h)(Y.tu,{gap:4},Nr&&(0,t.h)(de.xv,{font:"serif",weight:"semibold",className:ue.Z.linkTitle},Nr),(0,t.h)(de.xv.Detail,{ellipsis:!0,className:ue.Z.linkUrl},vr)),Gr&&(0,t.h)(K.e,{className:ue.Z.linkImg,src:Gr,maxWidth:144})))}function Lt(He){return(0,t.h)(j.zx,me({className:ue.Z.ctaButton,priority:"primary-theme"},He))}function gt({text:He,isStatic:ft}){return(0,t.h)(Y.hs,{paddingX:8,paddingY:4},(0,t.h)(de.xv.Detail,{weight:"semibold"},(0,t.h)(N.Z,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:ft})," ",He))}function ct({user:He,size:ft,pubRole:St,className:Vt}){let Yt;(St==null?void 0:St.role)==="admin"||(St==null?void 0:St.role)==="contributor"?Yt="author":St!=null&&St.is_founding?Yt="founding":(St==null?void 0:St.membership_state)==="subscribed"&&(Yt="paid");const pr=(0,I.isUserProfileish)(He);return(0,t.h)(Y.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,S.getReaderProfileUrl)(He,{noBase:!0}),target:"_blank"},(0,t.h)(Q.YY,{showProfileHovercard:pr,className:Vt,size:ft,user:He,subscriptionType:Yt}))}function*Qt(He,ft,St=1){for(let Vt=He;Vt<ft;Vt+=St)yield Vt}},25597:(H,E,e)=>{"use strict";e.d(E,{Z:()=>y});var t=e(6400),f=e(13639),s=e(36377),g=e(11851);const y=({audience:C,className:u,size:p=16,isStatic:d,thin:w})=>C==="only_paid"?w?(0,t.h)(g.Z,{className:u,height:p,isStatic:d}):(0,t.h)(f.Z,{className:u,size:p}):C==="founding"?(0,t.h)(s.Z,{className:u,height:p,isStatic:d,strokeWidth:1}):null},68919:(H,E,e)=>{"use strict";e.d(E,{Z:()=>oe});var t=e(6400),f=e(94184),s=e.n(f),g=e(74806),P=e(52743),y=e(83322),C=e(28488),u=e(3258),p=e(90304),d=e(17025),w=e(7922),D=e(97737),M=e(14846),c=e(48093),l=e(34755),i=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=(ue,ee,le)=>ee in ue?i(ue,ee,{enumerable:!0,configurable:!0,writable:!0,value:le}):ue[ee]=le,N=(ue,ee)=>{for(var le in ee||(ee={}))I.call(ee,le)&&S(ue,le,ee[le]);if(T)for(var le of T(ee))L.call(ee,le)&&S(ue,le,ee[le]);return ue},R=(ue,ee)=>v(ue,O(ee)),U=(ue,ee)=>{var le={};for(var se in ue)I.call(ue,se)&&ee.indexOf(se)<0&&(le[se]=ue[se]);if(ue!=null&&T)for(var se of T(ue))ee.indexOf(se)<0&&L.call(ue,se)&&(le[se]=ue[se]);return le};const K=ue=>{var ee=ue,{fill:le="white"}=ee,se=U(ee,["fill"]);return(0,t.h)(l.l,R(N({},se),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:le}}),(0,t.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};var G=e(33705),re=e(59009),$=Object.defineProperty,F=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,Y=(ue,ee,le)=>ee in ue?$(ue,ee,{enumerable:!0,configurable:!0,writable:!0,value:le}):ue[ee]=le,ie=(ue,ee)=>{for(var le in ee||(ee={}))V.call(ee,le)&&Y(ue,le,ee[le]);if(q)for(var le of q(ee))j.call(ee,le)&&Y(ue,le,ee[le]);return ue},ce=(ue,ee)=>F(ue,Z(ee)),de=(ue,ee,le)=>new Promise((se,fe)=>{var ve=ne=>{try{be(le.next(ne))}catch(me){fe(me)}},ge=ne=>{try{be(le.throw(ne))}catch(me){fe(me)}},be=ne=>ne.done?se(ne.value):Promise.resolve(ne.value).then(ve,ge);be((le=le.apply(ue,ee)).next())});const z="AudioPlayer.playbackRate",Q=5,ae={utm_source:re.UTM_SOURCE.twitter,utm_medium:re.UTM_MEDIUM.social,utm_campaign:re.UTM_CAMPAIGN.twitterEmbed};class te extends t.Component{nder(){const{currentPlaybackRate:ee,setPlaybackRate:le}=this.props;return(0,t.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:,(0,t.h)("option",{value:"1",selected:ee===1},"1x"),(0,t.h)("option",{value:"1.25",selected:ee===1.25},"1.25x"),(0,t.h)("option",{value:"1.5",selected:ee===1.5},"1.5x"),(0,t.h)("option",{value:"1.75",selected:ee===1.75},"1.75x"),(0,t.h)("option",{value:"2",selected:ee===2},"2x"))}}class oe extends t.Component{constructor(ee,le){super(ee,le),this.setPlaybackRate=se=>{this.state.playbackRate!==se&&(this.player&&(this.player.playbackRate=se),this.setState({playbackRate:se}),(0,p.ex)(z,se))},this.maybeAppendIframeVisitId=se=>{var fe;const ve=(fe=(0,u.getIframeVisitId)())==null?void 0:fe.id;return ve&&(se=(0,P.updateQuery)(se,{src_iid:ve})),se},this.openEpisodePage=()=>{let se=this.props.post.canonical_url;se=this.maybeAppendIframeVisitId(se),se=(0,P.updateQuery)(se,ae),window.open(se,"_blank")},this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:ee.playbackRate||(0,p.mM)(z,1),currentTime:0,waiting:!0,duration:ee.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var ee,le;(ee=d.globalPlaybackNotifier)==null||ee.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((le=this.player)==null?void 0:le.duration)&&this.props.onGetDuration(this.player.duration),(0,d.preloadImage)((0,P.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var ee;(ee=d.globalPlaybackNotifier)==null||ee.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(ee,le){if(!this.state.playing&&typeof this.state.waiting=="number"&&typeof le.waiting!="number"&&this.track(u.EVENTS.AUDIO_BUFFERING_STARTED),this.state.playing&&!le.playing&&!this.state.waiting&&typeof le.waiting=="number"&&this.track(u.EVENTS.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-le.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(le.currentTime)&&Math.floor(this.state.currentTime)%Q===0&&this.track(u.EVENTS.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&le.playing&&this.player&&this.player.ended&&(this.props.onFinishAudio&&this.props.onFinishAudio(),this.track(u.EVENTS.AUDIO_PLAYBACK_COMPLETE)),this.props.updateOnEveryFrame&&this.state.playing&&!le.playing){const se=()=>{this.onTimeUpdate(),this.loopId=requestAnimationFrame(se)};this.loopId=requestAnimationFrame(se)}this.props.updateOnEveryFrame&&!this.state.playing&&le.playing&&cancelAnimationFrame(this.loopId)}onCanPlaynPlay(){var ee;(ee=d.globalPlaybackNotifier)==null||ee.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaitingMouseDown(ee){this.onDragStart(ee.clientX)}nTouchStart(ee){ee.touches&&ee.touches.length>0&&this.onDragStart(ee.touches[0].pageX)}onTouchMove(ee){typeof this.state.dragTime=="number"&&ee.preventDefault(),ee.touches&&ee.touches.length>0&&this.onDragMove(ee.touches[0].pageX)}onDragStart(ee){typeof this.state.dragTime!="number"&&this.setDragTime(ee)}onDragMove(ee){typeof this.state.dragTime=="number"&&this.setDragTime(ee)}onDragEnd(){this.clearDragTime()}onUnload(ee){const{iString:le}=this.context;this.state.playing&&(ee.returnValue=le("If you close this the audio will stop. Are you sure you want to navigate away from this page?"))}onGlobalPlay(ee){this!==ee&&this.player&&(this.track(u.EVENTS.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return de(this,null,function*(){const{iString:ee}=this.context;if(this.player)if(this.player.paused){this.track(u.EVENTS.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(le){if(le.name==="NotSupportedError")alert(ee("Failed to play this media: it may not be supported by this browser."));else throw le}}else this.track(u.EVENTS.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const ee=Math.max(0,this.state.currentTime-15);this.track(u.EVENTS.SEEKED_AUDIO,{new_time:ee,source:"skip"}),this.player.currentTime=ee}}skipForward(){if(this.player){const ee=Math.min(this.state.duration,this.state.currentTime+30);this.track(u.EVENTS.SEEKED_AUDIO,{new_time:ee,source:"skip"}),this.player.currentTime=ee}}setDragTime(ee){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const le=document.body.getBoundingClientRect(),se=this.progressBar.getBoundingClientRect(),fe=se.left-le.left,ve=se.right;let be=(Math.max(fe,Math.min(ve,ee))-fe)/(ve-fe)*this.state.duration;this.isDragTimeCloseToCurrentTime(be)&&(be=this.state.currentTime),this.setState({dragTime:be})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const ee=this.state.dragTime;this.track(u.EVENTS.SEEKED_AUDIO,{new_time:ee,source:"slider"}),this.isDragTimeCloseToCurrentTime(ee)?this.setState({dragTime:null}):(this.setState({currentTime:ee,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=ee))}isDragTimeCloseToCurrentTime(ee){if(this.props.preventSnappingToCurrentTime||typeof this.state.currentTime!="number")return!1;let le;return this.state.duration<10?le=0:this.state.duration<30?le=3:le=5,Math.abs(this.state.currentTime-ee)<le}track(ee,le={}){const se=this.props.metricsPost;se&&(0,u.track)(ee,Object.assign({post_id:se.id,publication_id:se.publication_id,is_podcast_free_preview:(0,g.podcastPostIsFreePreview)(se),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},le))}render({src:ee,autoPlay:le,pub:se,post:fe,isFancy:ve,showCTAs:ge,metricsPost:be,addToPodcastLink:ne,isPaywalled:me,render:Le}){const{iString:Re}=this.context;if(Le){const{dragTime:Me,duration:Ee,currentTime:we,playbackRate:Te}=this.state,De=typeof Me=="number"?Me:we;return(0,t.h)(t.Fragment,null,Le({isPaywalled:me,progress:Ee?(typeof Me=="number"?Me:we)/Ee:0,currentTime:Ee?(0,y.secondsToHHMMSS)(De):"--:--",dragTime:typeof Me=="number"?(0,y.secondsToHHMMSS)(Me):null,remainingTime:Ee?`-${(0,y.secondsToHHMMSS)(Ee-Math.min(De,Ee))}`:"--:--",isPlaying:this.state.playing,playbackRate:Te,progressBarOnMouseDown:Be=>{this.onMouseDown(Be)},progressBarRef:Be=>{this.progressBar=Be},setPlaybackRate:skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),ee&&!me&&(0,t.h)("audio",{ref:Be=>{this.player=Be},src:ee,autoPlay:le},Re("Audio playback is not supported on your browser. Please upgrade.")))}return ve?this.renderFancy({src:ee,autoPlay:le,pub:se,post:fe,metricsPost:be,showCTAs:ge}):this.renderOriginal({src:ee,autoPlay:le,pub:se,metricsPost:be,addToPodcastLink:ne})}renderFancy({src:ee,autoPlay:le,pub:se,post:fe,showCTAs:ve}){const{iString:ge}=this.context,be=(0,d.getPodcastEpisodeImageUrl)(se,fe);return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"audio-player-wrapper-fancy"},(0,t.h)("div",{className:"audio-player"},(0,t.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,t.h)(G.Z,{color:"#F8F8F8"})),(0,t.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},be&&(0,t.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,P.imginary)(be,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,t.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},fe.title),(0,t.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},fe.subtitle),ee&&(0,t.h)("audio",{"data-testid":"audio-element",ref:ne=>this.player=ne,src:ee,autoPlay:le},ge("Audio playback is not supported on your browser. Please upgrade.")),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),ve&&(0,t.h)("div",{className:"btn-group"},(0,t.h)(w.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},ge("View post")),(0,t.h)(w.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,P.getSubscribeUrl)(se,ce(ie({},ae),{simple:!0,next:(0,P.getPostUrl)(se,fe)}))),newTab:!0},(0,y.getSubscribeText)(se))))))}renderOriginal({src:ee,autoPlay:le,pub:se,addToPodcastLink:fe}){const{iString:ve}=this.context;return(0,t.h)("div",{className:"audio-player-wrapper"},(0,t.h)("div",{className:"audio-player"},ee&&(0,t.h)("audio",{ref:ge=>this.player=ge,src:ee,autoPlay:le},ve("Audio playback is not supported on your browser. Please upgrade.")),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),fe&&!se.hide_podcast_feed_link&&(0,t.h)("div",{className:"audio-player-add-to-podcast-link",href:fe},(0,t.h)("a",{href:fe,target:"_blank",rel:"noopener"},ve("Listen in podcast app"))))}renderButtonsFancy({src:ee,href:le},{playing:se,waiting:fe,playbackRate:ve}){return(0,t.h)("div",{className:"audio-player-buttons"},(0,t.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,t.h)(D.Z,{className:"skip-icon"})),(0,t.h)("button",{className:s()("audio-player-play",{pause:"playing",waiting:fe}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},se?(0,t.h)(c.Z,{className:"playback-icon pause",fill:"#1C110B"}):(0,t.h)(K,{className:"playback-icon play",fill:"#1C110B"})),(0,t.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,t.h)(M.Z,{className:"skip-icon"})))}renderButtons({src:ee,href:le,isStatic:se},{playing:fe,waiting:ve,playbackRate:ge}){return(0,t.h)("div",{className:"audio-player-buttons"},(0,t.h)("table",{className:"custom"},(0,t.h)("tr",null,(0,t.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,t.h)("td",{className:"audio-player-backward"},(0,t.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:le||"javascript:void(0)",onClick:()=>this.skipBack()},(0,t.h)(D.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:se}))),(0,t.h)("td",{className:`audio-player-play ${fe?"pause":""} ${ve?"waiting":""}`},(0,t.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:le||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,t.h)("img",{src:(0,P.imginary)(fe?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,t.h)("td",{className:"audio-player-forward"},(0,t.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:le||"javascript:void(0)",onClick:()=>this.skipForward()},(0,t.h)(M.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:se}))),(0,t.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),ee&&(0,t.h)(te,{currentPlaybackRate:ge,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:ee,currentTime:le,dragTime:se}){return(0,t.h)("div",{className:"audio-player-progress"},(0,t.h)("table",{className:"custom"},(0,t.h)("tr",null,(0,t.h)("td",{className:"audio-player-progress-past"},ee?(0,y.secondsToHHMMSS)(le):"--:--"),(0,t.h)("td",{ref:fe=>this.progressBar=fe,className:"audio-player-progress-bar",onMouseDown:fe=>this.onMouseDown(fe)},(0,t.h)("div",{className:"audio-player-progress-bar-track"}),(0,t.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${ee?100*(typeof se=="number"?se:le)/ee:0}%`}),(0,t.h)("div",{className:"audio-player-progress-bar-current",style:`left:${ee?100*le/ee:0}%`}),(0,t.h)("div",{className:"audio-player-progress-bar-button",style:`left:${ee?100*(typeof se=="number"?se:le)/ee:0}%`}),typeof se=="number"&&(0,t.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${ee?100*se/ee:0}%`},(0,y.secondsToHHMMSS)(se))),(0,t.h)("td",{className:"audio-player-progress-left"},ee?`-${(0,y.secondsToHHMMSS)(ee-Math.min(le,ee))}`:"--:--"))))}renderProgressFancy({},{duration:ee,currentTime:le,dragTime:se,lastDragClearedAt:fe}){const ve=typeof se=="number",ge=fe?performance.now()-fe<50:!1;return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"audio-player-progress"},(0,t.h)("div",{ref:be=>this.progressBar=be,className:"audio-player-progress-bar",onMouseDown:be=>this.onMouseDown(be)},(0,t.h)("div",{className:"audio-player-progress-bar-track"}),(0,t.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${ee?100*(ve?se:le)/ee:0}%`}}),(0,t.h)("div",{className:s()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":ve,"audio-player-progress-bar-current-disable-animations":ge}),style:`left:${ee?100*le/ee:0}%`}),ve&&(0,t.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${ee?100*se/ee:0}%`}),ve&&(0,t.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${ee?100*se/ee:0}%`},(0,y.secondsToHHMMSS)(se)))),(0,t.h)("div",{className:"audio-player-time-wrapper"},(0,t.h)("div",{className:"audio-player-progress-past"},ee?(0,y.secondsToHHMMSS)(le):"--:--"),(0,t.h)("div",{className:"audio-player-progress-left"},ee?`-${(0,y.secondsToHHMMSS)(ee-Math.min(le,ee))}`:"--:--")))}}oe.contextType=C.wj},55525:(H,E,e)=>{"use strict";e.d(E,{O:()=>De,Z:()=>Te});var t=e(6400),f=e(30396),s=e(81108),g=e(922),P=e(40423),y=e(80569),C=e.n(y),u=e(52743),p=e(31163),d=e(59009),w=e(91004),D=e(3258),M=e(66141),c=e(66219),l=e(17025),i=e(13045),v=e(32959),O=e(31058),T=e(94184),I=e.n(T),L=e(99869),S=e(71212),N=e(20501),R=e(71765),U=e(64484),W=e(36543),K=e(66839),G=e(75425),re=e(9e3),$=e(62246),F=e(592);const Z={step:"frontend-components-InstagramShareModals-module__step--Tmhvw"},q=({isOpen:Be,onClose:Ke,pub:tt,post:Ot,mediaCarousel:et})=>(useEffect(()=>{Be&&track(EVENTS.INSTAGRAM_SHARE_MODAL_SEEN,{source:"post-share-selection"})},[Be]),h(Modal,{isOpen:Be,onClose:Ke,fullscreenMobile:!0},h(FlexRow,{alignItems:"center",padding:16},h(IconButton,{size:40,fill:"filled",priority:"secondary",onClick:Ke},h(ArrowLeft,{size:20})),h(Text.H2,{paddingLeft:12},"Share To Instagram")),h(InstagramShareModalBody,{pub:tt,post:Ot,hideEmail:!0,hideAssetTitle:!0,smallAssetPadding:!0,mediaCarousel:et}))),V=({isOpen:Be,onClose:Ke,onCopyLinkClick:tt,mediaCarousel:Ot})=>((0,f.d4)(()=>{Be&&(0,D.track)(D.EVENTS.VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN,{source:"clip-share-modal"})},[Be]),(0,t.h)($.u_,{isOpen:Be,onClose:Ke,fullscreenMobile:!0},(0,t.h)($.xB,{includeClose:!0,onClose:Ke,title:"Share to Instagram"}),(0,t.h)($.fe,null,(0,t.h)(i.tu,{gap:32},(0,t.h)(i.gq,null,(0,t.h)(i.gq,{justifyContent:"center",className:Z.step},(0,t.h)(i.xv.H4,null,"1")),(0,t.h)(i.gq,null,(0,t.h)(i.tu,{gap:16},(0,t.h)(i.xv.H4,null,"Download clip"),(0,t.h)(i.tu,{bg:"secondary",radius:12,border:"detail"},Ot)))),(0,t.h)(i.gq,null,(0,t.h)(i.gq,{justifyContent:"center",className:Z.step},(0,t.h)(i.xv.H4,null,"2")),(0,t.h)(i.gq,null,(0,t.h)(i.tu,{gap:16},(0,t.h)(i.tu,{gap:4},(0,t.h)(i.xv.H4,null,"Copy a link to the post"),(0,t.h)(i.xv.B4,null,"Add a link to your Instagram story or bio.")),(0,t.h)(i.gq,null,(0,t.h)(i.zx,{priority:"secondary",onClick:leftIcon:(0,t.h)(L.Z,null)},"Copy Link"))))),(0,t.h)(i.gq,null,(0,t.h)(i.gq,{justifyContent:"center",className:Z.step},(0,t.h)(i.xv.H4,null,"3")),(0,t.h)(i.gq,null,(0,t.h)(i.tu,{gap:16},(0,t.h)(i.tu,{gap:4},(0,t.h)(i.xv.H4,null,"Post from Instagram"),(0,t.h)(i.xv.B4,null,"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"))))),(0,t.h)(i.gq,{justifyContent:"end",paddingTop:32,paddingX:16},(0,t.h)(i.zx,{priority:"primary-theme",onClick:Ke},"Done")))))),j={download:"frontend-components-ShareCenter-module__download--ZlokN",disabledButton:"frontend-components-ShareCenter-module__disabledButton--mnMti"};var Y=Object.defineProperty,ie=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,ae=(Be,Ke,tt)=>Ke in Be?Y(Be,Ke,{enumerable:!0,configurable:!0,writable:!0,value:tt}):Be[Ke]=tt,te=(Be,Ke)=>{for(var tt in Ke||(Ke={}))z.call(Ke,tt)&&ae(Be,tt,Ke[tt]);if(de)for(var tt of de(Ke))Q.call(Ke,tt)&&ae(Be,tt,Ke[tt]);return Be},oe=(Be,Ke)=>ie(Be,ce(Ke)),ue=(Be,Ke,tt)=>new Promise((Ot,et)=>{var it=Oe=>{try{xe(tt.next(Oe))}catch(Ie){et(Ie)}},bt=Oe=>{try{xe(tt.throw(Oe))}catch(Ie){et(Ie)}},xe=Oe=>Oe.done?Ot(Oe.value):Promise.resolve(Oe.value).then(it,bt);xe((tt=tt.apply(Be,Ke)).next())});function ee({shareUrl:Be,pub:Ke,post:tt,clip:Ot,selectionId:et,disabled:it,disabledInstagram:bt,disabledDownload:xe,onDownloadClick:Oe,isSharing:Ie}){const We=(0,G.pm)(),[Ge,Xe]=(0,f.eJ)(!1),st=(zt="copy",Kt="substack-clip",Ir="web")=>ue(this,null,function*(){qe(zt,Kt,Ir,or=>((0,l.copyToClipboard)(or),We.popToast(cr=>(0,t.h)(G.FN,oe(te({},cr),{text:"Link copied to clipboard"}))),!1))}),qe=(zt,Kt,Ir,or)=>{(0,w.I)(zt,or,{shareUrl:Be(zt,Kt,Ir),post:tt,pub:Ke,selectionId:et,utm_campaign:Kt,utm_medium:Ir,event:D.EVENTS.VIDEO_CLIP_SHARE_BUTTON_CLICKED})},Ze=()=>{(0,D.track)(D.EVENTS.VIDEO_CLIP_SHARE_BUTTON_CLICKED,{name:"instagram",post_id:tt?tt.id:null,utm_campaign:"substack-clips",utm_medium:"social"}),Xe(!0)},mt=()=>{Xe(!1)},yt=()=>ue(this,null,function*(){qe("facebook","substack-clips","social",zt=>(0,N.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:zt}))}),Mt=()=>ue(this,null,function*(){tt&&qe("twitter","substack-clips","social",zt=>(0,u.getTwitterShareUrl)({url:zt,text:tt.title}))}),Ht=()=>ue(this,null,function*(){qe("linkedin","substack-clips","social",zt=>(0,N.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:zt}))}),Gt=()=>{(0,w.BZ)({shareUrl:Be("notes","substack-clips","web"),pub:Ke,post:tt,utm_campaign:"substack-clips"})};return(0,t.h)(i.gq,{justifyContent:"space-between",flex:"fill"},Ie?(0,t.h)(i.gq,null,(0,t.h)(i.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:()=>st(),leftIcon:(0,t.h)(L.Z,null)},"Copy link")):(0,t.h)("div",null),(0,t.h)(i.gq,{gap:8},(0,t.h)(i.u,{text:xe?"Your clip will be ready to download shortly":"Download",hoverOptions:{delayEnter:0,delayLeave:0}},(0,t.h)(i.hU,{className:I()({[j.disabledButton]:xe}),fill:"outline",rounded:!1,onClick:Oe,disabled:xe},xe?(0,t.h)(i.aN,null):(0,t.h)(S.Z,{size:20}))),!Ie&&(0,t.h)(i.hU,{fill:"outline",rounded:!1,onClick:()=>st(),disabled:it},(0,t.h)(L.Z,{size:20})),(0,t.h)(i.hU,{fill:"outline",rounded:!1,onClick:Gt,disabled:it},(0,t.h)(re.Z,{height:24})),(0,t.h)(i.hU,{fill:"outline",rounded:!1,onClick:Ze,disabled:it||bt},(0,t.h)(W.Z,{height:20,width:20})),(0,t.h)(i.hU,{fill:"outline",rounded:!1,onClick:Mt,disabled:it},(0,t.h)(K.Z,{height:20,width:20})),(0,t.h)(i.hU,{fill:"outline",rounded:!1,onClick:yt,disabled:it},(0,t.h)(R.Z,{height:20,width:20})),(0,t.h)(i.hU,{fill:"outline",rounded:!1,onClick:Ht,disabled:it},(0,t.h)(U.Z,{height:20,width:20})),(0,t.h)(V,{isOpen:Ge,onClose:mt,onCopyLinkClick:st,mediaCarousel:(0,t.h)(i.gq,{gap:16,alignItems:"center",justifyContent:"center",padding:16,position:"relative"},(0,t.h)("img",{src:(0,u.getMediaUploadThumbnailUrlForPlayer)(Ot),width:"300px"}),(0,t.h)("div",{className:j.download},(0,t.h)(i.gq,{padding:32},(0,t.h)(i.hU,{fill:"filled",priority:"media",rounded:!1,onClick:,(0,t.h)(S.Z,{size:"16"})))))})))}var le=e(25346);const se={placeholder:"frontend-components-ClipModal-module__placeholder--C0lO7",placeholderMessage:"frontend-components-ClipModal-module__placeholderMessage--IeArY"};var fe=Object.defineProperty,ve=Object.defineProperties,ge=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,Le=(Be,Ke,tt)=>Ke in Be?fe(Be,Ke,{enumerable:!0,configurable:!0,writable:!0,value:tt}):Be[Ke]=tt,Re=(Be,Ke)=>{for(var tt in Ke||(Ke={}))ne.call(Ke,tt)&&Le(Be,tt,Ke[tt]);if(be)for(var tt of be(Ke))me.call(Ke,tt)&&Le(Be,tt,Ke[tt]);return Be},Me=(Be,Ke)=>ve(Be,ge(Ke)),Ee=(Be,Ke,tt)=>new Promise((Ot,et)=>{var it=Oe=>{try{xe(tt.next(Oe))}catch(Ie){et(Ie)}},bt=Oe=>{try{xe(tt.throw(Oe))}catch(Ie){et(Ie)}},xe=Oe=>Oe.done?Ot(Oe.value):Promise.resolve(Oe.value).then(it,bt);xe((tt=tt.apply(Be,Ke)).next())});function we({user:Be,pub:Ke,post:tt,mediaUploadId:Ot,isOpen:et,onClose:it}){var bt;const xe=(0,t.createRef)(),[Oe,Ie]=(0,f.eJ)(null),[We,Ge]=(0,f.eJ)(null),[Xe,st]=(0,f.eJ)(null),[qe,Ze]=(0,f.eJ)(null);(0,f.d4)(()=>{Ot&&(0,D.track)(D.EVENTS.VIDEO_CLIP_SEEN,{post_id:tt.id,clip_id:Ot})},[Ot]);const mt=()=>Ee(this,null,function*(){const cr=yield C().get(`/api/v1/video/upload/${Ot}/assets`),{mux_asset:Tt,mux_preview_asset:wr}=cr.body;st(Tt),Ze(wr)}),yt=()=>Ee(this,null,function*(){const cr=yield C().get(`/api/v1/video/upload/${Ot}`);Ie(cr.body);const{id:Tt,mux_rendition_quality:wr,state:Br}=cr.body;if(["uploaded","transcoded"].includes(Br)&&!We){const Hr=`/api/v1/video/upload/${Tt}/src.json?type=original`,{body:{src:Wr}}=yield C().get(Hr);Ge(Wr)}});(0,f.d4)([Ot]),(0,f.d4)(()=>{const cr=setInterval(()=>{const Tt=()=>Ee(this,null,function*(){const wr=yield C().get(`/api/v1/video/upload/${Ot}`),{id:Br,mux_rendition_quality:Hr,state:Wr}=wr.body;if(Ie(wr.body),Hr&&clearInterval(cr),["uploaded","transcoded"].includes(Wr)&&!We){const Rr=`/api/v1/video/upload/${Br}/src.json?type=original`,{body:{src:qr}}=yield C().get(Rr);Ge(qr)}else mt()});Oe!=null&&Oe.mux_rendition_quality?clearInterval(cr):Tt()},5e3);return()=>{clearInterval(cr)}},[Oe]);const Mt=()=>Ee(this,null,function*(){if(!Oe)return;const cr=`/api/v1/video/upload/${Oe.id}/src.json?type=original`,{body:{src:Tt}}=yield C().get(cr),Br=yield(yield fetch(Tt)).blob(),Hr=window.URL.createObjectURL(Br),Wr=document.createElement("a");Wr.href=Hr,Wr.download=`${Oe.name}`,Wr.target="_blank",Wr.rel="noopener noreferrer",Wr.style.display="none",document.body.appendChild(Wr),Wr.click(),document.body.removeChild(Wr),(0,D.track)(D.EVENTS.VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED,{name:"download",post_id:tt?tt.id:null,utm_campaign:d.UTM_CAMPAIGN.substackClips,utm_medium:d.UTM_MEDIUM.web})}),Ht=()=>{(0,D.track)(D.EVENTS.VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED,{name:"watch full episosde",post_id:tt?tt.id:null,utm_campaign:d.UTM_CAMPAIGN.substackClips,utm_medium:d.UTM_MEDIUM.web}),window.history.pushState({},"",(0,u.updateQuery)(window.location.href,{clipId:void 0,share:void 0})),it()};if(!Oe)return null;const zt=new URL(window.location.href).searchParams.get("share")!==null,Kt=["uploaded","transcoded"].includes(Oe.state),Ir=(0,l.isMobileBrowser)();let or="creating";return Oe.state==="error"?or="error":Oe.state==="transcoded"?or="transcoded":Oe.state==="uploaded"?or="uploaded":Oe.mux_preview_playback_id!==null&&(qe==null?void 0:qe.status)==="ready"&&(or="preview"),(0,t.h)(i.u_,{opacity:"dark",width:640,fullscreenMobile:!0,isOpen:et,onClose:it},(0,t.h)(i.xB,{includeClose:!0,title:zt?"Share Clip":"Clip",onClose:it,description:(0,t.h)(i.gq,null,(0,t.h)("span",null,`\u2702\uFE0F ${(0,p.UB)((bt=Oe.duration)!=null?bt:0)} | ${tt.title}`))}),(0,t.h)(i.fe,null,or==="transcoded"&&(0,t.h)(le.Z,{ref:xe,mediaUpload:Oe,pub:Ke,autoPlay:!1,isClip:!0}),or==="preview"&&(0,t.h)(le.Z,{ref:xe,mediaUpload:Oe,pub:Ke,autoPlay:!1,isClip:!0,usePreview:!0}),or==="uploaded"&&We&&(0,t.h)("div",{class:"video-player-wrapper"},(0,t.h)("div",{class:"video-player"},(0,t.h)("video",{src:We,type:"video/mp4",controls:!0}))),or==="creating"&&(0,t.h)(i.gq,null,(0,t.h)(i.tu,{className:se.placeholder,justifyContent:"center",alignItems:"center"},(0,t.h)(i.tu,{justifyContent:"center",alignItems:"center",className:se.placeholderMessage,gap:8},(0,t.h)(i.aN,null),(0,t.h)(i.xv.B3,{weight:"bold"},"Your clip is being processed"),(0,t.h)(i.xv.Button,{color:"secondary",textAlign:"center"},"Clips may take up to a minute to process. Meanwhile, ",(0,t.h)("b",null,"share your clip link below"))))),or==="error"&&(0,t.h)(i.gq,null,(0,t.h)(i.tu,{className:se.placeholder},(0,t.h)(s.Z,{color:"gray"}),(0,t.h)(i.xv.Button,{color:"secondary"},"Oops! There was an error creating the clip"))),or!=="error"&&(0,t.h)(i.tu,{paddingTop:16},(0,t.h)(i.iz,null),(0,t.h)(i.xu,null,(0,t.h)(i.gq,{justifyContent:"space-between",flex:"grow",paddingTop:16},!zt&&(0,t.h)(i.gq,null,Ir?(0,t.h)(i.hU,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:Ht},(0,t.h)(g.Z,null)):(0,t.h)(i.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:Ht},"Watch full episode")),(0,t.h)(ee,{shareUrl:(cr,Tt,wr)=>(0,w.O1)(cr,{clip:Oe,post:tt,pub:Ke,medium:wr,utm_campaign:Tt}),pub:Ke,clip:Oe,post:tt,selectionId:void 0,disabled:!1,disabledInstagram:!Kt,disabledDownload:!Kt,onDownloadClick:Mt,isSharing:zt}))))))}function Te(Be){const{user:Ke,pub:tt,post:Ot,mediaUploadId:et}=Be,[it,bt]=(0,f.eJ)(!0),[xe,Oe]=(0,f.eJ)(et);(0,f.d4)(()=>{const Xe=()=>{const qe=new URLSearchParams(window.location.search).get("clipId");Oe(qe),bt(!0)};return window.addEventListener("urlchange",Xe),window.addEventListener("popstate",Xe),Xe(),()=>{window.removeEventListener("urlchange",Xe),window.removeEventListener("popstate",Xe)}},[]);const{mediaUpload:Ie,loading:We}=(0,c.z)({mediaUploadId:xe});if(We||!Ie)return null;const Ge=()=>{bt(!1),(0,D.track)(D.EVENTS.VIDEO_CLIP_MODAL_CLOSED,{post_id:Ot==null?void 0:Ot.id,clip_id:xe})};return(0,t.h)(we,Me(Re({},Be),{mediaUploadId:xe,isOpen:it,onClose:Ge}))}const De=({post:Be,mediaUpload:Ke,disabled:tt,onClipClick:Ot,style:et})=>{var it;const[bt,xe]=(0,M.Z)(v.pc),Oe=((it=Ke==null?void 0:Ke.duration)!=null?it:0)>5,Ie=()=>{if(Oe){if(tt)return"upgrade in order to watch this video and be able to clip it"}else return"can't clip videos shorter than 5 seconds";return""},We=!Oe||tt,Ge=Xe=>{xe(),Oe&&Ot&&(Ot(Xe),(0,D.track)(D.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:Be.id}))};return(0,t.h)(O.Ng,{title:Ie(),isDisabled:We,style:et,onClick:Ge,icon:(0,t.h)(P.Z,{className:"icon",height:(0,O.Su)(et),strokeWidth:O.PA})})}},32959:(H,E,e)=>{"use strict";e.d(E,{pc:()=>u});var t=e(6400),f=e(30396),s=e(3258),g=e(66141),P=e(13045),y=e(86791),C=e(15233);const u="clip_web_nux_seen_at";function p({children:D,onClick:M,isDisabled:c,post:l}){const[i]=useDismissed(u);return!i&&!c?h(d,{post:l,onClick:M},D):D}function d({children:D,onClick:M,post:c}){const[l,i]=useState(!0),[,v]=useDismissed(u);useEffect([]);const O=()=>{i(!1),track(EVENTS.VIDEO_CLIP_NUX_DISMISSED,{post_id:c.id}),v()},T=L=>{track(EVENTS.VIDEO_CLIP_NUX_CLICKED,{post_id:c.id}),M(L),i(!1),v()},I=createRef();return useDismiss(I,O),h(w,{isOpen:l,containerRef:I,content:h(FlexColumn,{gap:16,padding:8},h(FlexColumn,{gap:8},h(Text.H3,{weight:"bold"},"Introducing clip sharing"),h(Text.B4,null,"Select your favorite moments from any video and instantly create a clip to share on your favorite social media platforms")),h(FlexColumn,{gap:8},h(Button,{fill:"filled",priority:"primary-theme",onClick:T},"Try it now"),h(Button,{fill:"empty",priority:"secondary",onClick:O},"Maybe later")))},D)}function w({containerRef:D,content:M,children:c,isOpen:l}){return h("div",{ref:D,className:css.mainContainer},l&&h("div",{className:css.speechBubble},h(FlexColumn,null,h(FlexRow,null,M))),h("div",{className:css.childrenContainer},c))}},9738:(H,E,e)=>{"use strict";e.d(E,{C:()=>s});var t=e(6400),f=e(4508);function s({children:g}){return(0,t.h)(f.xu,{display:"contents",className:"dark-theme"},g)}},45809:(H,E,e)=>{"use strict";e.d(E,{M:()=>s});var t=e(6400),f=e(28488);function s({array:g,limit:P,formatter:y=C=>C}){const C=g.map(y).filter(Boolean).slice(0,P),{iString:u,iPlural:p}=(0,f.M1)(),d=u("and");if(C.length===0)return g.length?p("one person","%1 people",g.length):u("zero people");if(C.length===1)return C[0];if(C.length===2)return(0,t.h)(t.Fragment,null,C[0]," ",d," ",C[1]);const w=C.slice(0,-1).map(M=>(0,t.h)(t.Fragment,null,M,", ")),D=g.length-C.length;return D>0?(0,t.h)(t.Fragment,null,w,d," ",D+1," ",p("other","others",D+1)):(0,t.h)(t.Fragment,null,w,d," ",C[C.length-1])}},16495:(H,E,e)=>{"use strict";e.d(E,{q:()=>w});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(47467),y=e(51126),C=e(43887),u=e(11688),p=e(79786),d=e(45048);function w({className:M,assets:c,readOnly:l,isRestack:i,isPreview:v,onClick:O,aspect:T}){const I=c.map(U=>typeof U=="string"?{src:U,explicit:!1}:U);let L=I;I.length>6&&(L=L.slice(0,5));const[S,N]=(0,f.eJ)(null),R=(U,W)=>{U.preventDefault(),N({index:W})};return(0,t.h)(y.hs,{className:g()(d.Z.imageGroup,d.Z[`size-${Math.min(I.length,6)}`],i&&d.Z.restack,v&&d.Z.preview,M),gap:4,radius:"medium"},L.map(({src:U,explicit:W},K)=>(0,t.h)(D,{key:U,asset:U,explicit:W,index:K,total:I.length,readOnly:l,aspect:T,onClick:l?void 0:G=>{G.defaultPrevented||(G.preventDefault(),O&&O(),R(G,K))}})),I.length>6&&(0,t.h)(D,{asset:I[6].src,explicit:I[6].explicit,index:5,total:6,count:I.length-L.length,readOnly:l,onClick:l?void 0:O,aspect:T}),!l&&(0,t.h)(u.cr,{module:"./ImageViewerModal",resolve:U=>U.ImageViewerModal,onRequest:showModal:!!S,modalContent:I.map(,onClose:()=>{N(null)},step:S?S.index:void 0,includeDownloadButton:!1}))}function D({asset:M,explicit:c,onClick:l,index:i,total:v,count:O,readOnly:T,aspect:I}){const{isHidden:L,onShow:S}=(0,P.Sl)(c);return(0,t.h)(y.hs,{position:"relative",className:g()(d.Z.image,!T&&d.Z.clickable,i===0&&d.Z.topLeft,(i===0&&v===1||i===1&&v===2||i===1&&v===4||i===2&&v!==4)&&d.Z.topRight,(i===0&&v<=3||i===2&&v===4||i===3&&v>4)&&d.Z.bottomLeft,(i+1===v||i==2&&v===5)&&d.Z.bottomRight),flex:"grow",radius:6,onClick:L?void 0:l},(0,t.h)(p.e,{src:M,maxWidth:1e3,imageProps:{aspect:I||"1:1",smartCrop:!0,portraitCrop:v===1}}),L?v===1?(0,t.h)(P.cD,{onShow:S,description:"This image was hidden by your settings."}):(0,t.h)(P.HU,{onShow:S}):O!=null&&(0,t.h)(y.hs,{className:d.Z.imageCount,justifyContent:"center",alignItems:"center"},(0,t.h)(C.xv.H2,{color:"bg-light"},"+",O)))}},55661:(H,E,e)=>{"use strict";e.r(E),e.d(E,{ImageViewerContents:()=>v,ImageViewerModal:()=>i});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(2564),y=e(56743),C=e(71375),u=e(71212),p=e(52743),d=e(17025),w=e(92271),D=e(51126),M=e(62246),c=e(15822);const l={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function i({showModal:I,modalContent:L,onClose:S,step:N,includeDownloadButton:R=!0}){const U=W=>{W.stopPropagation(),S()};return(0,t.h)(M.u_,{isOpen:I,onClose:S,position:"full",opacity:"dark",onEscape:U},(0,t.h)(v,{modalContent:L,onClose:S,stepDefault:N,includeDownloadButton:R}))}function v({modalContent:I=[],onClose:L,stepDefault:S,includeDownloadButton:N}){const[R,U]=(0,f.eJ)(S),[W,K]=(0,f.eJ)(!0),G=(0,d.isMobileBrowser)(),re=[$,F]=(0,f.eJ)(!1);(0,f.d4)(()=>{if(!G){let z;const Q=te=>{const{key:oe}=te;["ArrowRight","ArrowDown"].includes(oe)?(q(),te.stopPropagation()):["ArrowLeft","ArrowUp"].includes(oe)&&(Z(),te.stopPropagation())},ae=te=>{(te==null?void 0:te.type)==="keydown"&&Q(te),clearTimeout(z),F(!1),z=setTimeout(()=>{F(!0)},2e3)};return window.addEventListener("pointermove",ae,{capture:!0,passive:!0}),window.addEventListener("pointerdown",ae,{capture:!0,passive:!0}),window.addEventListener("keydown",ae,{capture:!0,passive:!0}),ae(),()=>{clearTimeout(z),window.removeEventListener("pointermove",ae,{capture:!0}),window.removeEventListener("pointerdown",ae,{capture:!0}),window.removeEventListener("keydown",ae,{capture:!0})}}},[G,R]);const Z=()=>{R!==0&&(U(R-1),K(!0))},q=()=>{R!==I.length-1&&(U(R+1),K(!0))},V=I[R],{attrs:{src:j,alt:Y,title:ie}}=V,ce=G?8:16,de="#FFFFFF";return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:g()(l.chrome,$&&l.inactive)},R<I.length-1&&(0,t.h)(O,{buttonFunction:q,style:{right:0,padding:ce},isSidebar:!0,icon:(0,t.h)(P.Z,{size:20,strokeWidth:2,stroke:de})}),R>0&&(0,t.h)(O,{buttonFunction:Z,style:{left:0,padding:ce},isSidebar:!0,icon:(0,t.h)(y.Z,{size:20,strokeWidth:2,stroke:de})}),(0,t.h)(O,{buttonFunction:L,style:{position:"absolute",right:ce,top:ce},isSidebar:!1,icon:(0,t.h)(C.Z,{size:20,strokeWidth:2,stroke:de})}),N&&(0,t.h)(O,{buttonFunction:style:{position:"absolute",left:ce,top:ce},isSidebar:!1,icon:(0,t.h)(u.Z,{size:20,strokeWidth:2,stroke:de})})),(0,t.h)("div",{className:l.imgContainer,onClick:re},(0,t.h)("img",{className:g()(l.img,W&&l.isLoading),onLoad:()=>{K(!1)},alt:Y,title:ie,src:(0,p.imginary)(j,void 0,{quality:"auto:good"}),key:j,onClick:re})),W&&(0,t.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,t.h)(c.S,{className:l.imgDrunkSpin})))}function O({buttonFunction:I,style:L,isSidebar:S,icon:N,tetherRef:R}){return(0,t.h)(D.hs,{className:g()(l.modalImageButtonContainer,S?l.modalImageSidebar:null),style:L,alignItems:"center",justifyContent:"center",onClick:I,ref:R},(0,t.h)(w.z,{className:l.modalImageButton,look:"circle"},N))}function T(I,L){const S=document.createElement("a");return document.body.appendChild(S),S.href=L,S.target="_blank",S.click(),document.body.removeChild(S),null}},35442:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Metadata:()=>D});var t=e(6400),f=e(53836),s=e.n(f),g=e(52743),P=e(63030),y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(c,l,i)=>l in c?y(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,w=(c,l)=>{for(var i in l||(l={}))u.call(l,i)&&d(c,i,l[i]);if(C)for(var i of C(l))p.call(l,i)&&d(c,i,l[i]);return c};function D({badge:c,title:l,socialTitle:i,searchDescription:v,description:O,themeColor:T,image:I,twitterImage:L,seoProps:S,isLargeImage:N=!1,imageWidth:R,imageHeight:U,isPodcast:W=!1,isVideo:K=!1,slug:G,pub:re,post:$,siteName:F,publishedTime:Z,meta:q=[],siteConfigs:V={}}){const j={meta:[...q,{property:"og:type",content:"article"}]};c&&(j.titleTemplate=`(${c}) %s`),l&&(j.title=l,j.meta.push({property:"og:title",content:i||l},{name:"twitter:title",content:i||l})),(O||v)&&j.meta.push({name:"description",content:v||O},{property:"og:description",content:O},{name:"twitter:description",content:O}),T&&j.meta.push({name:"theme-color",content:T});const Y=!!re&&re.invite_only,ie=!!$&&$.audience==="everyone",ce=!Y&&ie,de=ce&&V.twitter_player_card_enabled,z=(re==null?void 0:re.subdomain)&&M.includes(re.subdomain)&&ce;if(W&&re&&$){const Q=(0,P.getPodcastEpisodeImageUrl)(re,$);Q&&(I=(0,g.imginary)(Q,1200,{height:600,smartCrop:!0,format:"jpg"}),N=!0)}if(I){let Q="summary";N&&(Q="summary_large_image"),(W&&de||K&&z)&&(Q="player"),j.meta.push({property:"og:image",content:I},{name:"twitter:image",content:L||I},{name:"twitter:card",content:Q}),R&&j.meta.push({property:"og:image:width",content:R}),U&&j.meta.push({property:"og:image:height",content:U})}if(S){const Q=Object.entries(S).filter(.map(.join(", ");Q&&j.meta.push({name:"robots",content:Q})}return re!=null&&re.explicit&&j.meta.push({name:"rating",content:"adult"}),W&&de&&j.meta.push({name:"twitter:player",content:`${(0,g.getBaseUrl)(re)}/embed/podcast/${G}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),K&&z&&j.meta.push({name:"twitter:player",content:`${(0,g.getBaseUrl)(re)}/embed/video/${G}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),F&&j.meta.push({property:"og:site_name",content:F}),Z&&j.meta.push({property:"og:published_time",content:Z}),(0,t.h)(s(),w({},j))}const M=["pinespodcast","test1"]},74285:(H,E,e)=>{"use strict";e.d(E,{X:()=>P,h:()=>y});var t=e(6400),f=e(98661),s=e(30396);const g=(0,t.createContext)(null);function P({root:C,children:u}){const p=(0,s.sO)(C);return(0,t.h)(g.Provider,{value:p},u,!C&&(0,t.h)("div",{ref:p}))}function y({children:C}){const u=(0,s.qp)(g).current;return u?(0,f.createPortal)(C,u):null}},55489:(H,E,e)=>{"use strict";e.d(E,{s:()=>Y});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(31131),y=e(40423),C=e(28596),u=e(99869),p=e(7617),d=e(82626),w=e(68227),D=e(17835),M=e(9e3),c=e(66839),l=e(31058),i=e(91004),v=e(3258),O=e(90304),T=e(17025),I=e(13045),L=e(59009),S=e(28488),N=e(63270),R=e(72829);const U={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var W=Object.defineProperty,K=Object.defineProperties,G=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,Z=(Q,ae,te)=>ae in Q?W(Q,ae,{enumerable:!0,configurable:!0,writable:!0,value:te}):Q[ae]=te,q=(Q,ae)=>{for(var te in ae||(ae={}))$.call(ae,te)&&Z(Q,te,ae[te]);if(re)for(var te of re(ae))F.call(ae,te)&&Z(Q,te,ae[te]);return Q},V=(Q,ae)=>K(Q,G(ae)),j=(Q,ae,te)=>new Promise((oe,ue)=>{var ee=fe=>{try{se(te.next(fe))}catch(ve){ue(ve)}},le=fe=>{try{se(te.throw(fe))}catch(ve){ue(ve)}},se=fe=>fe.done?oe(fe.value):Promise.resolve(fe.value).then(ee,le);se((te=te.apply(Q,ae)).next())});function Y({post:Q,user:ae,pub:te,trigger:oe,onChange:ue,position:ee,showClipping:le,disableClipping:se,onClipClick:fe}){const{iString:ve}=(0,S.M1)(),{getConfigFor:ge}=(0,N.xR)(),be=(0,i.O1)(null,{post:Q,pub:te,user:ae,useCustomDomainOverOpen:!0}),ne=(0,i.B8)({post:Q,pub:te}),me={title:ne,url:be},Le=(0,T.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(me),[Re,Me]=(0,f.eJ)(Le),Ee=()=>j(this,null,function*(){var it;if((0,v.track)(v.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:ee}),Le&&Re)try{yield navigator.share(me),(0,v.track)(v.EVENTS.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(it=Q.id)!=null?it:null,utm_campaign:L.UTM_CAMPAIGN.default}),(0,O.ex)(`${te.subdomain} shared`,!0);return}catch(bt){if(!(bt instanceof Error)||bt.name==="AbortError")return;Me(!1),(0,v.track)(v.EVENTS.NATIVE_SHARE_FAILED,{errorName:bt.name,errorMessage:bt.message})}}),we=()=>{(0,i.Wn)({shareUrl:be,shareName:ne,pub:te,post:Q,utm_campaign:ee}),ue==null||ue()},Te=()=>{(0,i.Po)({shareUrl:be,pub:te,post:Q,utm_campaign:ee}),ue==null||ue()},De=()=>{(0,i.lc)({shareUrl:be,pub:te,post:Q,utm_campaign:ee}),ue==null||ue()},Be=()=>{(0,i.BZ)({shareUrl:be,pub:te,post:Q,utm_campaign:ee}),ue==null||ue()},Ke=()=>{(0,i.WZ)({shareUrl:be,shareName:ne,pub:te,post:Q,utm_campaign:ee}),ue==null||ue()},tt=()=>{(0,i.Ui)({shareUrl:be,pub:te,post:Q,utm_campaign:ee}),ue==null||ue()},Ot=it=>{(0,v.track)(v.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:Q.id,source:ee,type:Q.type}),fe==null||fe(it),ue==null||ue()};let et;if(de(oe))et=oe;else if(z(oe)){let it;Q.share_url_override?it=Q.share_url_override:oe.isStatic?Q?it=d.Substitutions.SHARE_URL:it=d.Substitutions.SHARE_PUB_URL:it="javascript:void(0)";const bt=oe.labelStyle==="none";et=(0,t.h)(l.Ng,{style:oe.style,icon:bt?(0,t.h)(P.Z,{className:"icon",height:(0,l.Su)(oe.style),strokeWidth:l.PA}):null,href:it,noLabel:oe.labelStyle==="none",className:g()(!bt&&"no-icon")},oe.labelStyle==="cta"&&ve("Share"))}return(0,t.h)(I.v2,{trigger:et,onOpen:Ee,useMobileBottomSheet:!0,disableMenu:Re,layerOptions:{placement:ee==="pub-preview"?"bottom-start":"bottom-end",preferX:ee==="pub-preview"?"right":"left"},className:U.dropdownMenu,maxHeight:"fit-content"},(0,t.h)(I.sN,{icon:(0,t.h)(M.Z,{height:24}),onClick:Be},(0,t.h)(I.gq,{justifyContent:"space-between",alignItems:"center"},ve("Share as a note"))),ge("enable_web_dms")&&(0,t.h)(ce,{url:be,onShare:ue}),(0,t.h)(I.sN,{icon:(0,t.h)(c.Z,{height:24}),onClick:we},ve("Share to Twitter")),(0,t.h)(I.sN,{icon:(0,t.h)(w.Z,{height:24}),onClick:Te},ve("Share to Facebook")),(0,t.h)(I.sN,{icon:(0,t.h)(D.Z,{height:24}),onClick:De},ve("Share to Linkedin")),(0,t.h)("div",{className:U.divider}),le&&fe&&(0,t.h)(I.sN,{disabled:se,icon:(0,t.h)(ie,null,(0,t.h)(y.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Ot},(0,t.h)(I.gq,{justifyContent:"space-between",alignItems:"center"},ve("Create a clip"),(0,t.h)(I.hs,{className:U.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,t.h)(I.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,t.h)(I.sN,{icon:(0,t.h)(ie,null,(0,t.h)(C.Z,{className:U.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Ke},ve("Send as email")),(0,t.h)(I.sN,{icon:(0,t.h)(ie,null,(0,t.h)(u.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:tt},ve("Copy link")))}function ie(Q){return(0,t.h)(I.hs,V(q({},Q),{className:U.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12}))}function ce({url:Q,onShare:ae}){const{iString:te}=(0,S.M1)(),oe=(0,R.b8)(),ue=()=>{oe.open({defaultValue:Q,source:"share_post"}),ae==null||ae()};return(0,t.h)(I.sN,{icon:(0,t.h)(ie,{style:{backgroundColor:"var(--color-accent-primary)"}},(0,t.h)(p.Z,{size:14,stroke:"var(--color-bg-primary)",strokeWidth:3})),onClick:ue},te("Send as message"))}unction z(Q){const ae=Q;return ae.style!==void 0&&ae.labelStyle!==void 0}},71278:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>re});var t=e(6400),f=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(13045),C=e(52743),u=e(76193),p=e(3258),d=e(28488),w=e(41487),D=e(33510),M=e(40946),c=e(96656),l=Object.defineProperty,i=Object.defineProperties,v=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,L=($,F,Z)=>F in $?l($,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):$[F]=Z,S=($,F)=>{for(var Z in F||(F={}))T.call(F,Z)&&L($,Z,F[Z]);if(O)for(var Z of O(F))I.call(F,Z)&&L($,Z,F[Z]);return $},N=($,F)=>i($,v(F)),R=($,F,Z)=>new Promise((q,V)=>{var j=ce=>{try{ie(Z.next(ce))}catch(de){V(de)}},Y=ce=>{try{ie(Z.throw(ce))}catch(de){V(de)}},ie=ce=>ce.done?q(ce.value):Promise.resolve(ce.value).then(j,Y);ie((Z=Z.apply($,F)).next())});const U=({pub:$,post:F,style:Z,text:q,translatedText:V,inline:j,sharePage:Y,withButtons:ie=!1,onShareFromApp:ce,source:de,fullHeight:z=!0})=>{const{img:Q,imgDownload:ae,sendPushNotification:te,shareData:oe,useNativeShare:ue}=(0,w.Q)({shareTitle:"Share this post",shareText:F.title,shareUrl:(0,C.getPostUrl)($,F),shareApp:ie?Z.aspectRatio==="stories"?"instagram-stories":"instagram":void 0,imageDownloadUrl:(0,C.getPressKitUrl)($,F,Z,`${V||q}${Z.aspectRatio?` - ${Z.aspectRatio}`:""}`),imageUrl:(0,C.getPressKitUrl)($,F,Z),imageUrlSameOrigin:(0,C.getPressKitImageUrl)($,F,Z)}),ee=(0,s.sO)(null),le=(0,s.sO)(null),[se,fe]=(0,s.eJ)(!1),[ve,ge]=(0,s.eJ)({right:0,bottom:0});(0,s.d4)(()=>{var me,Le;const Re=(me=ee.current)==null?void 0:me.getBoundingClientRect(),Me=(Le=le.current)==null?void 0:Le.getBoundingClientRect();Re&&Me&&ge({right:Me.right-Re.right,bottom:Me.bottom-Re.bottom})},[Z,ee,le,Q]);const be=(0,s.I4)(me=>R(void 0,null,function*(){var Le;if((0,p.track)(p.EVENTS.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:F.id,type:q,aspectRatio:Z.aspectRatio,share_center:Y,inline:!!j,source:de}),ue&&oe)try{yield navigator.share(oe)}catch(Re){}else{const Re=(Le=ee.current)==null?void 0:Le.getBoundingClientRect();if(Re){const Me=me.clientX,Ee=me.clientY;(Me<Re.left||Me>Re.right||Ee<Re.top||Ee>Re.bottom)&&me.preventDefault()}}}),[F,q,Z,Y,j,ue,oe,de]),ne=(0,s.I4)(()=>{(0,p.track)(p.EVENTS.IMAGE_CONTEXT_MENU_CLICKED,{post_id:F.id,clicked_from:"writer_media_assets",type:q,aspectRatio:Z.aspectRatio,share_center:Y,inline:!!j,source:de})},[F,q,Z,Y,j,de]);return ie&&!(0,u.isMobile)()?(0,t.h)(W,{inline:j,sharePage:Y,onShareFromApp:()=>{(0,p.track)(p.EVENTS.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:F.id,type:q,aspectRatio:Z.aspectRatio,share_center:Y,inline:!!j,source:de,via_app:!0}),ce==null||ce()},handleClick:be,img:Q,imgDownload:ae,sendPushNotification:te}):(0,t.h)("a",{onClick:be,href:ue?void 0:ae,alt:"Download Image",download:!0,className:P()(c.Z.link,se&&c.Z.linkHovered,{[c.Z.linkVariableHeight]:!z}),target:"_blank",rel:"noreferrer",onContextMenu:ne},(0,t.h)("div",{ref:le,className:P()(c.Z.root,{[c.Z.sharePage]:Y})},!(0,u.isMobile)()&&(0,t.h)("div",{className:c.Z.download,style:ve,onMouseEnter:()=>{fe(!0)}},(0,t.h)(M.Z,{stroke:"#404040",fill:"white"})),(0,t.h)(K,{img:Q,ref:ee,inline:j,sharePage:Y,onMouseEnter:()=>{fe(!0)},onMouseLeave:()=>{fe(!1)}})))},W=({inline:$,sharePage:F,onShareFromApp:Z,handleClick:q,img:V,imgDownload:j,sendPushNotification:Y})=>{const[ie,ce]=(0,s.eJ)(!1),{popToast:de}=(0,y.pm)(),{iString:z}=(0,d.M1)(),Q=(0,s.I4)(()=>R(void 0,null,function*(){(yield Y())?Z?Z():de(te=>(0,t.h)(y.FN,N(S({},te),{text:z("Notification sent!")}))):de(te=>(0,t.h)(y.FN,N(S({},te),{text:z("Something went wrong. Please try again.")})))}),[Z,Y,de]);return(0,t.h)("div",{className:P()(c.Z.root,c.Z.rootHover,{[c.Z.sharePage]:F}),onMouseEnter:()=>ce(!0),onMouseLeave:()=>ce(!1)},(0,t.h)(K,{img:V,inline:$,sharePage:F}),ie&&V&&(0,t.h)(y.tu,{className:c.Z.buttons,gap:8},(0,t.h)(y.u,{text:z("Send a push notification of this image to the Substack iOS app, where you can share directly to Instagram. Only works on iOS.")},(0,t.h)(y.zx,{className:c.Z.button,grow:!0,onClick:Q},z("Send to my phone"))),(0,t.h)(y.o6,{className:c.Z.button,download:!0,grow:!0,href:j,onClick:q,priority:"secondary"},z("Download image"))))},K=(0,f.forwardRef)(({img:$,inline:F,sharePage:Z,onMouseEnter:q,onMouseLeave:V},j)=>$?(0,t.h)("img",{src:$,className:P()(c.Z.image,{[c.Z.inline]:F,[c.Z.sharePage]:Z&&!F,[c.Z.secondaryBorder]:Z}),ref:j,onMouseEnter:q,onMouseLeave:V}):(0,t.h)("div",{className:P()(c.Z.image,c.Z.imageLoading,{[c.Z.secondaryBorder]:Z}),alt:"Loading"},(0,t.h)(D.Sv,null))),G=({pub:$,post:F,style:Z,downloadUrl:q})=>{const{iString:V}=useI18N();return h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:q||getPressKitUrl($,F,Z,"image"),alt:V("Download Image"),download:!0,target:"_blank",className:PressKitCss.link,rel:"noreferrer"},h("img",{src:getPressKitUrl($,F,Z),className:PressKitCss.imageEmail})))))},re=U},80332:(H,E,e)=>{"use strict";e.r(E),e.d(E,{ProfileCard:()=>Ee,ProfileHoverCard:()=>ee,isUserProfileish:()=>ue,useProfileHoverCard:()=>le});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(32224),y=e(77883),C=e(59009),u=e(52743),p=e(20501),d=e(76193),w=e(83322),D=e(4190),M=e(58718),c=e(28488),l=e(92643),i=e(67963),v=e(69518),O=e(60779),T=e(59386),I=e(3258),L=e(69229),S=e(84040),N=e(48960),R=e(51126),U=e(94016),W=e(43887),K=e(97868),G=e(55886),re=e(9178),$=e(44695),F=e(45809),Z=e(27797),q=Object.defineProperty,V=Object.defineProperties,j=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,de=(De,Be,Ke)=>Be in De?q(De,Be,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):De[Be]=Ke,z=(De,Be)=>{for(var Ke in Be||(Be={}))ie.call(Be,Ke)&&de(De,Ke,Be[Ke]);if(Y)for(var Ke of Y(Be))ce.call(Be,Ke)&&de(De,Ke,Be[Ke]);return De},Q=(De,Be)=>V(De,j(Be)),ae=(De,Be)=>{var Ke={};for(var tt in De)ie.call(De,tt)&&Be.indexOf(tt)<0&&(Ke[tt]=De[tt]);if(De!=null&&Y)for(var tt of Y(De))Be.indexOf(tt)<0&&ce.call(De,tt)&&(Ke[tt]=De[tt]);return Ke};const te=3,oe=1;unction ee(De){var Be=De,{dontStopPropagation:Ke,inline:tt,children:Ot}=Be,et=ae(Be,["dontStopPropagation","inline","children"]);const it=le(et);return(0,d.isMobile)()?(0,t.h)(t.Fragment,null,Ot):(0,t.h)("div",Q(z(z({className:g()("profile-hover-card-target",Z.Z.profileHoverCardTarget,tt&&Z.Z.inline,et.className&&et.className)},it.triggerProps),it.hoverProps),{onClick:),Ot,it.layer)}function le(De){var Be=De,{subject:Ke,utmSource:tt,placement:Ot}=Be,et=ae(Be,["subject","utmSource","placement"]);const{loading:it,refetch:bt,viewerProfile:xe,subjectProfile:Oe}=(0,l.Un)({subjectId:(Ke==null?void 0:Ke.author_id)||(Ke==null?void 0:Ke.user_id)||(Ke==null?void 0:Ke.id),subjectName:(Ke==null?void 0:Ke.name)||"Substack user",delayLoading:!0}),Ie=Ke&&xe&&(Ke==null?void 0:Ke.id)===xe.id,We=Ke==null?void 0:Ke.id,Ge=(0,f.I4)(()=>{var st;We&&!Oe&&bt(We);const qe=(((st=Oe==null?void 0:Oe.publicationUsers)==null?void 0:st.length)||0)>0;Oe&&(0,I.track)(I.EVENTS.ACCOUNT_CARD_SHOWN,{profile_user_id:Oe.id,is_self:!!Ie,has_publication:!!qe})},[bt,We,Oe,Ie]),Xe=(0,U.o)(z({className:Z.Z.profileHoverCard,onOpen:Ge,loading:it&&!Oe,hideOnScroll:!0,layerOptions:{placement:Ot!=null?Ot:"right-center"},content:Oe?(0,t.h)(Ee,{profile:Oe,subject:Ke,utmSource:tt,forceRefresh:()=>bt(We)}):null},et));return(0,d.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:Xe}const se=C.UTM_SOURCE.accountCard;function fe(De){let Be=[];De&&De.subscriptions&&(Be=(0,w.sortSubscriptions)(De.subscriptions.filter(tt=>!!tt)));let Ke=null;return Be.length>te&&(Ke=`See all (${(0,w.numberToString)(Be.length)})`),Be=Be.slice(0,te),{subscriptions:Be,moreSubsLabel:Ke}}function ve(De){let Be=[];De&&De.publicationUsers&&(Be=De.publicationUsers.filter(tt=>!!tt),Be=Be&&(0,L.b)(Be));let Ke=null;return Be.length>oe&&(Ke=`See all (${(0,w.numberToString)(Be.length)})`),Be=Be.slice(0,oe),{publications:Be,morePubsLabel:Ke}}function ge({pub:De,isWrites:Be,isFounding:Ke,isPaid:tt,utmSource:Ot}){const et=!!(0,i.aF)();if(!De)return null;const it=(0,u.getPubUrl)(De,{params:{utm_source:Ot||se,utm_content:Be?C.UTM_CONTENT.writes:C.UTM_CONTENT.reads},signedIn:et});return(0,t.h)("a",{href:it,target:"_blank",onClick:()=>{(0,I.track)(Be?I.EVENTS.ACCOUNT_CARD_WRITES_LINK_CLICKED:I.EVENTS.ACCOUNT_CARD_READS_LINK_CLICKED),(0,I.trackPublicationVisit)(De,"hover_profile")},className:Z.Z.hoverCardAvatar,rel:"noopener"},(0,t.h)(re.F,{pub:De,size:32,badgeType:Ke?"founder":tt?"subscribed":null}),(0,t.h)(W.xv.B4,{weight:"medium",title:De.name},De.name))}function be({pub:De,utmSource:Be}){const Ke=(0,u.getPubUrl)(De,{params:{utm_source:Be||se,utm_content:C.UTM_CONTENT.writes},signedIn:!!(0,i.aF)()}),tt=(0,w.getByLine)(De);return(0,t.h)(R.tu,{as:"a",href:Ke,target:"_blank",onClick:()=>{(0,I.track)(I.EVENTS.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,I.trackPublicationVisit)(De,"hover_profile")},rel:"noopener",padding:12,gap:12,className:Z.Z.writesCard,radius:12},(0,t.h)(R.gq,{gap:12},(0,t.h)(re.F,{pub:De,size:40}),(0,t.h)(R.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,t.h)(W.xv.B4,{weight:"semibold"},De.name),tt&&(0,t.h)(W.xv.B4,{translated:!0,color:"secondary"},"By ",I18N.p(tt)))),De.hero_text&&(0,t.h)(W.xv.B4,{color:"secondary",clamp:3},De.hero_text))}function ne({subject:De,subscriptions:Be,moreSubsLabel:Ke,utmSource:tt}){const{iString:Ot}=(0,c.M1)();return(0,t.h)(R.tu,null,(0,t.h)($.GF,{sectionTitle:Ot("Reads"),seeAllLabel:Ke,link:we(De,{utmSource:tt})}),(0,t.h)(R.tu,null,Be.map(et=>(0,t.h)(ge,{pub:et.publication,isPaid:et.membership_state==="subscribed",isFounding:et.is_founding,utmSource:tt}))))}function me({publication:De,utmSource:Be}){return De?(0,t.h)(be,{pub:De,utmSource:Be}):null}function Le({pub:De,profileId:Be,isSubscribed:Ke,user:tt,utmSource:Ot,forceRefreshCard:et}){const{iString:it}=(0,c.M1)(),{getExperimentVariant:bt,exposeExperiment:xe}=(0,D.jc)(),{isLoading:Oe,subscribe:Ie}=(0,y.G)({publication:De,profileId:Be,source:Ot!=null?Ot:"profile-card",onSuccess:()=>{et()}}),We=De?(0,p.getSubscribeUrl)(De,{user:tt,addBase:!0,params:{utm_source:Ot||se,utm_content:C.UTM_CONTENT.subscribes,next:document.location.href}}):"";return De&&(Ke?(0,t.h)(S.zx,{priority:"secondary",fill:"outline",href:We,rounded:!0,onClick:()=>{(0,I.track)(I.EVENTS.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,I.trackPublicationVisit)(De,"hover_profile")},title:De.name},it("Subscribed")):Ot==="feed"&&tt?(0,t.h)(S.zx,{priority:"primary",rounded:!0,onClick:Ge=>{Ge.preventDefault(),Ie()},title:De.name,disabled:Oe},(0,t.h)(R.gq,{alignItems:"center",gap:8},(0,t.h)(P.Z,{size:20}),it("Subscribe"))):(0,t.h)(S.zx,{priority:"primary",href:We,localNavigation:!1,rounded:!0,onClick:()=>{(0,I.track)(I.EVENTS.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,I.trackPublicationVisit)(De,"hover_profile")},title:De.name},(0,t.h)(R.gq,{alignItems:"center",gap:8},(0,t.h)(P.Z,{size:20}),it("Subscribe"))))}function Re({profile:De}){const{isFollowing:Be,buttonProps:Ke,css:tt}=(0,M.yr)(De,"hover-card");return(0,t.h)(S.hU,z({fill:"outline"},Ke),Be?(0,t.h)(t.Fragment,null,(0,t.h)(v.$,{className:tt.off}),(0,t.h)(T.m,{className:tt.on})):(0,t.h)(O.w,null))}function Me({profile:De}){const{isFollowing:Be,buttonProps:Ke}=(0,M.yr)(De,"hover-card"),{iString:tt}=(0,c.M1)();return(0,t.h)(S.zx,z({fill:"outline",priority:"primary",rounded:!0},Ke),Be?(0,t.h)(t.Fragment,null,(0,t.h)(M.OK,null,tt("Following")),(0,t.h)(M.Rc,null,tt("Unfollow"))):tt("Follow"))}function Ee({profile:De,subject:Be,themed:Ke,className:tt,utmSource:Ot,hideSubscribeButtons:et,forceRefresh:it}){var bt,xe;const Oe=(0,i.aF)(),{iString:Ie}=(0,c.M1)();if(!De)return null;const{subscriptions:We,moreSubsLabel:Ge}=fe(De),{publications:Xe}=ve(De),st=we(Be,{utmSource:Ot}),qe=(Be==null?void 0:Be.name)||"",Ze=De.primaryPublication&&((bt=De.publicationUsers.find(zt=>{var Kt;return zt.publication_id===((Kt=De==null?void 0:De.primaryPublication)==null?void 0:Kt.id)}))==null?void 0:bt.publication),mt=Be&&Be.id===(Oe==null?void 0:Oe.id),yt=mt&&De&&!De.profile_set_up_at,Mt=Xe.length>0&&!yt,Ht=We.length>0&&!yt&&!Mt,Gt=(xe=De==null?void 0:De.handle)!=null?xe:null;return(0,t.h)("div",{className:tt},(0,t.h)(R.tu,{gap:16,padding:8},(0,t.h)(R.gq,{justifyContent:"space-between"},(0,t.h)("a",{href:st},(0,t.h)(K.qE,{user:De,size:64})),yt?(0,t.h)(S.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,u.getProfileSetupUrl)({utm_source:Ot||se})},Ie("Set up profile")):mt?(0,t.h)(S.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,u.getEditProfileUrl)()},Ie("Edit profile")):et?null:(0,t.h)(R.hs,{gap:4},Ze?(0,t.h)(t.Fragment,null,(0,t.h)(Re,{profile:De}),(0,t.h)(Le,{pub:Ze,isSubscribed:De.isSubscribed,user:Oe,profileId:De.id,utmSource:Ot,forceRefreshCard:it})):(0,t.h)(Me,{profile:De}))),(0,t.h)(R.tu,{gap:6},(0,t.h)($.Sz,{themed:Ke,title:qe,handle:Gt,blurb:De.bio,url:st,userId:Be.id,bestsellerTier:De.bestseller_tier})),Mt&&(0,t.h)(me,{publication:Ze,utmSource:Ot}),Ht&&(0,t.h)(t.Fragment,null,(0,t.h)(N.i,null),(0,t.h)(ne,{subject:Be,subscriptions:We,moreSubsLabel:Ge,utmSource:Ot})),De.mutualsContext&&(0,t.h)(Te,{mutualsContext:De.mutualsContext,utmSource:Ot})))}function we(De,{utmSource:Be}={}){const Ke=typeof window!="undefined"&&window.location.href.startsWith((0,p.getSubstackUrl)());return(0,u.getReaderProfileUrl)(De,{noBase:Ke,utm_source:Be||se})}function Te({mutualsContext:De,utmSource:Be}){const{iString:Ot,iPlural:et}=(0,c.M1)(),it=De.users.sort(;return it.length===0?null:(0,t.h)(R.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,t.h)(R.hs,{style:{paddingLeft:6}},it.slice(0,3).map(bt=>(0,t.h)(R.hs,{as:"a",key:bt.id,href:(0,u.getReaderProfileUrl)(bt,{utm_source:C.UTM_SOURCE.profileCard})},(0,t.h)(G.t,{className:Z.Z.facepileFace,src:bt.photo_url||(0,u.getDefaultUserPhotoById)(bt.id),size:24})))),(0,t.h)(W.xv,{font:"text",color:"secondary",size:12},De.type==="followers"&&Ot("Followed by "),(0,t.h)(F.M,{array:it,limit:3,formatter:bt=>(0,t.h)(W.hh,{href:we(bt,{utmSource:Be})},bt.name)}),De.type==="subscribers"?et(" subscribes"," subscribe",it.length):"","."))}},39493:(H,E,e)=>{"use strict";e.d(E,{Z:()=>p});var t=e(6400),f=e(94184),s=e.n(f),g=e(52743),P=e(83322),y=e(79786);function C({href:d,linkify:w,children:D,openInNewTab:M}){return w?M?(0,t.h)("a",{href:d,target:"_blank"},D):(0,t.h)("a",{href:d,native:!0},D):D}const p=({pub:d,href:w="",logo_url:D,showHover:M=!1,byline:c=null,proof:l=null,size:i=196,linkify:v=!0,title:O=null,className:T="",noMargin:I=!1,openInNewTab:L=!1,isStatic:S=!1,belowTheFold:N=!1})=>{var R;return(0,t.h)("div",{className:s()("pub-icon",!I&&"pub-icon-margin",T),title:O},M&&(0,t.h)("div",{className:"logo-hover"},(0,t.h)("div",{className:"logo-hover-title"},(0,t.h)("a",{href:w||d.base_url,native:!0},(d.name||d.subdomain)+(c?` by ${c}`:""))),(0,t.h)("div",{className:"logo-hover-proof"},l),(0,t.h)("div",{className:"logo-hover-description"},d.hero_text)),(0,t.h)(C,{href:w||d.base_url,linkify:v,openInNewTab:L},D?S?(0,t.h)("img",{src:(0,g.imginary)(D,i*2,{height:i*2,crop:"fill"}),width:i,height:i,className:"custom",alt:d.name}):(0,t.h)(y.e,{className:"custom",alt:d.name,imageProps:{height:i,crop:"fill"},maxWidth:i,src:D,width:i,height:i,loading:N?"lazy":null,useRetinaSizing:!0,imageIsFixedWidth:!0}):(0,t.h)("span",{className:"placeholder",style:d.theme_var_background_pop?`border-color:${(0,P.colorLightness)(d.theme_var_background_pop,.7)} ${d.theme_var_background_pop} ${d.theme_var_background_pop} ${(0,P.colorLightness)(d.theme_var_background_pop,.7)}`:""},(R=d.name||d.subdomain)==null?void 0:R[0])))}},96098:(H,E,e)=>{"use strict";e.d(E,{h:()=>s});var t=e(6400),f=e(68262);function s({children:g}){return(0,t.h)("div",{className:f.Z.pubTheme},g)}},66254:(H,E,e)=>{"use strict";e.d(E,{R:()=>O,C:()=>v});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(23279),y=e.n(P),C=e(24840),u=e(51126);const p={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var d=Object.defineProperty,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,c=(T,I,L)=>I in T?d(T,I,{enumerable:!0,configurable:!0,writable:!0,value:L}):T[I]=L,l=(T,I)=>{for(var L in I||(I={}))D.call(I,L)&&c(T,L,I[L]);if(w)for(var L of w(I))M.call(I,L)&&c(T,L,I[L]);return T},i=(T,I)=>{var L={};for(var S in T)D.call(T,S)&&I.indexOf(S)<0&&(L[S]=T[S]);if(T!=null&&w)for(var S of w(T))I.indexOf(S)<0&&M.call(T,S)&&(L[S]=T[S]);return L};function v({items:T,getKeys:I,sort:L=!0,sortFunc:S,deps:N}){const R=($,F)=>{const Z=I($),q=I(F);for(let V=0;V<Math.min(Z.length,q.length);V++){const j=Z[V].localeCompare(q[V]);if(j!==0)return j}return Z.length-q.length},[U,W]=(0,f.eJ)(""),K=(0,f.Ye)([W]),G=U.trim(),re=(0,f.Ye)(()=>{if(!G)return T;let $=T.filter(F=>I(F).some();if(L||S){const F=S||R;$=$.sort(F)}return $},N?[G,...N]:[G,T]);return{setQuery:K,filteredItems:re,hasFiltered:G!==""}}function O(T){var I=T,{setQuery:L,placeholder:S="Search...",size:N="medium",value:R=void 0}=I,U=i(I,["setQuery","placeholder","size","value"]);const W=G=>{L(G.currentTarget.value)},K=(0,f.sO)(null);return(0,t.h)(u.hs,l({className:g()(p.searchContainer,p[N]),bg:"secondary",paddingX:N==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var G;return(G=K.current)==null?void 0:G.focus()}},U),(0,t.h)(C.Z,{size:N==="small"?16:20,color:"var(--color-secondary)"}),(0,t.h)("input",{type:"search",className:p.searchInput,ref:K,placeholder:S,onInput:W,value:R}))}},48042:(H,E,e)=>{"use strict";e.d(E,{$I:()=>l,ar:()=>c,fQ:()=>M,rn:()=>D,sl:()=>w});var t=e(6400),f=e(94184),s=e.n(f),g=e(25380),P=e(13045),y=e(76193),C=e(70073),u=e(27247),p=e(28488),d=e(78137);const w=["stories","square"],D=({isSelected:i,value:v,onClick:O,coverImageUrl:T,themeVariables:I})=>{let L=I.web_bg_color||I.cover_bg_color,S=I.print_on_web_bg_color||I.cover_print_primary||"#1a1a1a";return v==="accent"?(L=I.background_pop_color||I.background_pop,S=I.print_on_pop):v==="image"?(S="#ffffff",L="rgba(0,0,0,0.5)"):v==="black&white"&&(S="#404040",L="#ffffff"),(0,t.h)(P.kG,{className:s()(d.Z.customizeAssetButton,d.Z.themeButton,i&&d.Z.selected,v==="image"&&d.Z.image),onClick:N=>{N.preventDefault(),O()},style:{backgroundColor:L}},v==="image"&&(0,t.h)("div",{className:d.Z.imageBg,style:{backgroundImage:`url(${T})`}}),(0,t.h)("div",{className:s()(d.Z.inner,v==="image"&&d.Z.image)},i&&(0,t.h)(g.Z,{stroke:S,size:18})))};function M(i){const{iString:v}=(0,p.M1)(),O=(0,y.isMobile)({checkFirst4:!0}),T={square:v("Square"),stories:v("Vertical")};return(O?{square:"1:1",stories:"9:16"}:T)[i]}const c=({isSelected:i,value:v,onClick:O})=>{const T=M(v);return(0,t.h)(P.zx,{rounded:!0,priority:"secondary",className:s()(d.Z.customizeAssetButton,d.Z.aspectRatioButton,i&&d.Z.selected),onClick:I=>{I.preventDefault(),O()},leftIcon:v==="square"?(0,t.h)(u.Z,null):(0,t.h)(C.Z,null)},T)},l=({isSelected:i,value:v,label:O,onClick:T})=>(0,t.h)(P.zx,{rounded:!0,priority:"secondary",className:s()(d.Z.customizeAssetButton,d.Z.aspectTypeButton,i&&d.Z.selected),onClick:,O)},53919:(H,E,e)=>{"use strict";e.d(E,{i:()=>te});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(71212),y=e(4190),C=e(52743),u=e(28488),p=e(3258),d=e(17025),w=e(13045),D=e(57397),M=e(29910),c=e(41487),l=e(76193),i=e(15822),v=e(40946);const O={root:"frontend-components-AssetImage-module__root--AdF1k",fullSize:"frontend-components-AssetImage-module__fullSize--KURi3",tableRoot:"frontend-components-AssetImage-module__tableRoot--hy2UU",link:"frontend-components-AssetImage-module__link--KHWo2",linkHovered:"frontend-components-AssetImage-module__linkHovered--_nYpu",image:"frontend-components-AssetImage-module__image--kL8Z3",download:"frontend-components-AssetImage-module__download--c6WDg",imageLoading:"frontend-components-AssetImage-module__imageLoading--bVcGN"};var T=(oe,ue,ee)=>new Promise((le,se)=>{var fe=be=>{try{ge(ee.next(be))}catch(ne){se(ne)}},ve=be=>{try{ge(ee.throw(be))}catch(ne){se(ne)}},ge=be=>be.done?le(be.value):Promise.resolve(be.value).then(fe,ve);ge((ee=ee.apply(oe,ue)).next())});const I=({img:oe,imgDownload:ue,shareData:ee,useNativeShare:le,onClick:se})=>{const{iString:fe}=(0,u.M1)(),ve=(0,f.sO)(null),ge=(0,f.sO)(null),[be,ne]=(0,f.eJ)(!1),[me,Le]=(0,f.eJ)({right:0,bottom:0});(0,f.d4)(()=>{var Me,Ee;const we=(Me=ve.current)==null?void 0:Me.getBoundingClientRect(),Te=(Ee=ge.current)==null?void 0:Ee.getBoundingClientRect();we&&Te&&Le({right:Te.right-we.right,bottom:Te.bottom-we.bottom})},[ve,ge,oe]);const Re=(0,f.I4)(Me=>T(void 0,null,function*(){var Ee;if(se==null||se(),le&&ee)try{yield navigator.share(ee)}catch(we){}else{const we=(Ee=ve.current)==null?void 0:Ee.getBoundingClientRect();if(we){const Te=Me.clientX,De=Me.clientY;(Te<we.left||Te>we.right||De<we.top||De>we.bottom)&&Me.preventDefault()}}}),[se,le,ee]);return(0,t.h)("a",{onClick:Re,href:le?void 0:ue,alt:fe("Download Image"),download:!0,className:g()(O.link,be&&O.linkHovered,O.fullSize),target:"_blank"},(0,t.h)("div",{ref:ge,className:g()(O.root,O.fullSize)},!(0,l.isMobile)()&&oe&&(0,t.h)("div",{className:O.download,style:me},(0,t.h)(v.Z,{stroke:"#404040",fill:"white"})),!oe&&(0,t.h)("div",{className:g()(O.image,O.imageLoading),alt:fe("Loading")},(0,t.h)(i.S,null)),oe&&(0,t.h)("img",{ref:ve,src:oe,className:g()(O.fullSize,O.image),onMouseEnter:()=>{ne(!0)},onMouseLeave:()=>{ne(!1)}})))},L={tableRoot:"frontend-components-MilestoneAssetImage-module__tableRoot--NF3u_",link:"frontend-components-MilestoneAssetImage-module__link--EZ_6U",imageEmail:"frontend-components-MilestoneAssetImage-module__imageEmail--Q9MQ4"},S=({pub:oe,style:ue,milestone:ee})=>{const{iString:le,iTemplate:se}=(0,u.M1)(),fe=(0,M.Cq)();let ve;switch(ee){case D.dD.ARR10K:ve=se`${oe.name} has reached $10,000 in annual revenue`;break;case D.dD.ARR1K:ve=se`${oe.name} has reached $1,000 in annual revenue`;break;case D.bq.List100:ve=se`${oe.name} has reached 100 subscribers`;break;case D.bq.List1K:ve=se`${oe.name} has reached 1,000 subscribers`;break}const{img:ge,imgDownload:be,shareData:ne,useNativeShare:me}=(0,c.Q)({shareTitle:le("Share this milestone"),shareText:ve,shareUrl:(0,C.getBaseUrl)(oe),imageDownloadUrl:(0,C.getMilestoneAssetUrl)(oe,ee,ue,`${ee}${ue.aspectRatio?` - ${ue.aspectRatio}`:""}`),imageUrl:(0,C.getMilestoneAssetUrl)(oe,ee,ue,void 0),imageUrlSameOrigin:(0,C.getMilestoneAssetImageUrl)(oe,ee,ue,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,t.h)(I,{img:ge,imgDownload:be,shareData:ne,useNativeShare:me,onClick:()=>{(0,p.track)(p.EVENTS.MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{milestone:ee,aspectRatio:ue.aspectRatio,source:"image"})}})},N=({pub:oe,milestone:ue,style:ee,downloadUrl:le})=>{const{iString:se}=useI18N();return h("table",{className:MilestoneCss.tableRoot},h("tr",null,h("td",null,h("a",{href:le||getMilestoneAssetUrl(oe,ue,ee,"image"),alt:se("Download Image"),download:!0,target:"_blank",className:MilestoneCss.link},h("img",{src:getMilestoneAssetUrl(oe,ue,ee),className:MilestoneCss.imageEmail})))))};var R=e(71278);const U={tableRoot:"frontend-components-PublicationAssetImage-module__tableRoot--is5Cf",link:"frontend-components-PublicationAssetImage-module__link--aIAzf",imageEmail:"frontend-components-PublicationAssetImage-module__imageEmail--bECef"},W=({pub:oe,style:ue})=>{const{iString:ee}=(0,u.M1)(),le=(0,M.Cq)(),{img:se,imgDownload:fe,shareData:ve,useNativeShare:ge}=(0,c.Q)({shareTitle:ee("Share this publication"),shareText:oe.hero_text,shareUrl:(0,C.getBaseUrl)(oe),imageDownloadUrl:(0,C.getPublicationAssetUrl)(oe,null,ue,{fileToDownload:`Message${ue.aspectRatio?` - ${ue.aspectRatio}`:""}`}),imageUrl:(0,C.getPublicationAssetUrl)(oe,null,ue),imageUrlSameOrigin:(0,C.getPublicationAssetImageUrl)(oe,ue,{useRootDomain:le==null?void 0:le.isSubstack})});return(0,t.h)(I,{img:se,imgDownload:fe,shareData:ve,useNativeShare:ge,onClick:()=>{(0,p.track)(p.EVENTS.PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED,{aspectRatio:ue.aspectRatio,source:"image"})}})},K=({pub:oe,style:ue,downloadUrl:ee})=>{const{iString:le}=useI18N();return h("table",{className:PublicationCss.tableRoot},h("tr",null,h("td",null,h("a",{href:ee||getPublicationAssetUrl(oe,null,ue,{fileToDownload:"image"}),alt:le("Download Image"),download:!0,target:"_blank",className:PublicationCss.link},h("img",{src:getPublicationAssetUrl(oe,null,ue),className:PublicationCss.imageEmail})))))};var G=e(48042);const re={tableRoot:"frontend-components-SubscriptionNoteAssetImage-module__tableRoot--oiNnq",link:"frontend-components-SubscriptionNoteAssetImage-module__link--NPZBJ",imageEmail:"frontend-components-SubscriptionNoteAssetImage-module__imageEmail--_tLWE"},$=({pub:oe,user:ue,note:ee,style:le})=>{const{iString:se}=(0,u.M1)(),fe=(0,M.Cq)(),{img:ve,imgDownload:ge,shareData:be,useNativeShare:ne}=(0,c.Q)({shareTitle:se("Share this message"),shareText:(ee==null?void 0:ee.note)||"",shareUrl:(0,C.getBaseUrl)(oe),imageDownloadUrl:(0,C.getSubscriptionNoteAssetUrl)(oe,ue,le,{fileToDownload:`Message${le.aspectRatio?` - ${le.aspectRatio}`:""}`}),imageUrl:(0,C.getSubscriptionNoteAssetUrl)(oe,ue,le),imageUrlSameOrigin:(0,C.getSubscriptionNoteAssetImageUrl)(oe,ue,le,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,t.h)(I,{img:ve,imgDownload:ge,shareData:be,useNativeShare:ne,onClick:()=>{(0,p.track)(p.EVENTS.SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:ue.id,aspectRatio:le.aspectRatio,source:"image"})}})},F=({pub:oe,user:ue,style:ee,downloadUrl:le})=>{const{iString:se}=useI18N();return h("table",{className:SubscriptionNoteCss.tableRoot},h("tr",null,h("td",null,h("a",{href:le||getSubscriptionNoteAssetUrl(oe,ue,ee,{fileToDownload:"image"}),alt:se("Download Image"),download:!0,target:"_blank",className:SubscriptionNoteCss.link},h("img",{src:getSubscriptionNoteAssetUrl(oe,ue,ee),className:SubscriptionNoteCss.imageEmail})))))},Z=({pub:oe,user:ue,note:ee,style:le})=>{const{iString:se}=(0,u.M1)(),fe=(0,M.Cq)(),{img:ve,imgDownload:ge,shareData:be,useNativeShare:ne}=(0,c.Q)({shareTitle:se("Share this message"),shareText:(ee==null?void 0:ee.note)||"",shareUrl:(0,C.getBaseUrl)(oe),imageDownloadUrl:(0,C.getPledgeNoteAssetUrl)(oe,ue,le,{fileToDownload:`Message${le.aspectRatio?` - ${le.aspectRatio}`:""}`}),imageUrl:(0,C.getPledgeNoteAssetUrl)(oe,ue,le),imageUrlSameOrigin:(0,C.getPledgeNoteAssetImageUrl)(oe,ue,le,{useRootDomain:fe==null?void 0:fe.isSubstack})});return(0,t.h)(I,{img:ve,imgDownload:ge,shareData:be,useNativeShare:ne,onClick:()=>{(0,p.track)(p.EVENTS.PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:ue.id,aspectRatio:le.aspectRatio,source:"image"})}})},q=({pub:oe,user:ue,style:ee,downloadUrl:le})=>{const{iString:se}=useI18N();return h("table",{className:SubscriptionNoteCss.tableRoot},h("tr",null,h("td",null,h("a",{href:le||getPledgeNoteAssetUrl(oe,ue,ee,{fileToDownload:"image"}),alt:se("Download Image"),download:!0,target:"_blank",className:SubscriptionNoteCss.link},h("img",{src:getPledgeNoteAssetUrl(oe,ue,ee),className:SubscriptionNoteCss.imageEmail})))))},V={mobileContainer:"frontend-components-ShareableImageModal-module__mobileContainer--gqpNj",imageContainer:"frontend-components-ShareableImageModal-module__imageContainer--UoD0D",hRule:"frontend-components-ShareableImageModal-module__hRule--dPrHE",assetButtons:"frontend-components-ShareableImageModal-module__assetButtons--fv0fB",aspectRatioButton:"frontend-components-ShareableImageModal-module__aspectRatioButton--G9DrP",aspectRatioSelected:"frontend-components-ShareableImageModal-module__aspectRatioSelected--gdicf",aspectRatioSelectedIcon:"frontend-components-ShareableImageModal-module__aspectRatioSelectedIcon--EgZNS"};var j=Object.defineProperty,Y=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,de=(oe,ue,ee)=>ue in oe?j(oe,ue,{enumerable:!0,configurable:!0,writable:!0,value:ee}):oe[ue]=ee,z=(oe,ue)=>{for(var ee in ue||(ue={}))ie.call(ue,ee)&&de(oe,ee,ue[ee]);if(Y)for(var ee of Y(ue))ce.call(ue,ee)&&de(oe,ee,ue[ee]);return oe},Q=(oe,ue,ee)=>new Promise((le,se)=>{var fe=be=>{try{ge(ee.next(be))}catch(ne){se(ne)}},ve=be=>{try{ge(ee.throw(be))}catch(ne){se(ne)}},ge=be=>be.done?le(be.value):Promise.resolve(be.value).then(fe,ve);ge((ee=ee.apply(oe,ue)).next())});const ae=(oe,{postCoverImageUrl:ue,pubCoverImageUrl:ee,pub:le,themeVariables:se})=>{const fe=[],ve=[];let ge=!1;const be=se||le.theme,ne=(be==null?void 0:be.web_bg_color)||(be==null?void 0:be.cover_bg_color);switch(oe){case"post_asset":ue&&fe.push("image"),(be!=null&&be.background_pop_color||be!=null&&be.background_pop)&&fe.push("accent"),fe.push("primary"),ne.toLowerCase()!=="#ffffff"&&fe.push("black&white"),ge=!0;break;case"pub_shareable_image":{ee&&fe.push("image"),fe.push("primary"),ve.push({type:"logo",label:"Logo"}),le.has_posts&&ve.push({type:"posts",label:"Top posts"}),le.hero_text&&ve.push({type:"description",label:"Description"});break}case"paid_subscription":case"pledged_subscription":(be!=null&&be.background_pop_color||be!=null&&be.background_pop)&&fe.push("accent"),fe.push("primary")}return{assetThemes:fe,assetTypes:ve,includePreviewTextToggle:ge}};function te({pub:oe,item:ue,isOpen:ee,setOpen:le,themeVariables:se,width:fe}){var ve;const{iString:ge,iTemplate:be}=(0,u.M1)(),{getExperimentVariant:ne,exposeExperiment:me}=(0,y.jc)(),{type:Le,target_user:Re,target_user_id:Me,target_pledge_note:Ee,target_subscription_note:we,post:Te}=ue,De=oe.logo_url||oe.cover_photo_url||oe.author_photo_url||((ve=oe.author)==null?void 0:ve.photo_url),Be=Te==null?void 0:Te.cover_image,{assetThemes:Ke,assetTypes:tt,includePreviewTextToggle:Ot}=ae(Le,{postCoverImageUrl:Be,pubCoverImageUrl:De,pub:oe,themeVariables:se}),et=se||oe.theme,[it,bt]=(0,f.eJ)("stories"),[xe,Oe]=(0,f.eJ)(Ke.find(or=>or==="image")&&De?"image":Ke.find(&&(et!=null&&et.background_pop_color||et!=null&&et.background_pop)?"accent":"primary"),[Ie,We]=(0,f.eJ)("logo"),Ge=ne("share_center_default_hide_preview_text")==="treatment";(0,f.d4)(()=>{ee&&(me("share_center_default_hide_preview_text"),(0,p.track)(p.EVENTS.SHARE_CENTER_CUSTOMIZE_ASSETS_MODAL_OPENED))},[ee,me]);const[Xe,st]=(0,f.eJ)(Ge);let qe,Ze,mt,yt,Mt,Ht;const Gt=()=>{switch(xe){case"image":return z(z({aspectRatio:it,bgImage:!0},tt.length&&{type:Ie}),Ot&&Xe&&{hidePreviewText:!0});case"accent":return z(z({aspectRatio:it,bgColor:(et==null?void 0:et.background_pop_color)||(et==null?void 0:et.background_pop),textColor:et==null?void 0:et.print_on_pop},tt.length&&{type:Ie}),Ot&&Xe&&{hidePreviewText:!0});case"primary":return z(z({aspectRatio:it,bgColor:(et==null?void 0:et.web_bg_color)||(et==null?void 0:et.cover_bg_color),textColor:(et==null?void 0:et.print_on_web_bg_color)||(et==null?void 0:et.cover_print_primary)||"#1a1a1a"},tt.length&&{type:Ie}),Ot&&Xe&&{hidePreviewText:!0});case"black&white":default:return z(z({aspectRatio:it,bgColor:"#ffffff",textColor:"#404040"},tt.length&&{type:Ie}),Ot&&Xe&&{hidePreviewText:!0})}},zt=(0,d.isMobileBrowser)(),Kt=()=>{le(!1)};switch(Le){case"arr_10k_milestone":mt=D.dD.ARR10K,Ze=(0,t.h)(S,{pub:oe,milestone:mt,style:{aspectRatio:it}}),yt=(0,C.getMilestoneAssetUrl)(oe,mt,{aspectRatio:it},`${mt} - ${it==="stories"?"vertical":it}`);break;case"arr_1k_milestone":mt=D.dD.ARR1K,Ze=(0,t.h)(S,{pub:oe,milestone:mt,style:{aspectRatio:it}}),yt=(0,C.getMilestoneAssetUrl)(oe,mt,{aspectRatio:it},`${mt} - ${it==="stories"?"vertical":it}`);break;case"list_100_milestone":mt=D.bq.List100,Ze=(0,t.h)(S,{pub:oe,milestone:mt,style:{aspectRatio:it}}),yt=(0,C.getMilestoneAssetUrl)(oe,mt,{aspectRatio:it},`${mt} - ${it==="stories"?"vertical":it}`);break;case"list_1k_milestone":mt=D.bq.List1K,Ze=(0,t.h)(S,{pub:oe,milestone:mt,style:{aspectRatio:it}}),yt=(0,C.getMilestoneAssetUrl)(oe,mt,{aspectRatio:it},`${mt} - ${it==="stories"?"vertical":it}`);break;case"paid_subscription":Ze=(0,t.h)($,{pub:oe,note:we,user:Re||{id:Me||0},style:Gt()}),yt=(0,C.getSubscriptionNoteAssetUrl)(oe,Re||{id:Me||0},Gt(),{fileToDownload:`Message - ${it==="stories"?"vertical":it}`}),Ht=()=>{(0,p.track)(p.EVENTS.SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:(Re==null?void 0:Re.id)||Me,aspectRatio:it,source:"download-button"})};break;case"pledged_subscription":Ze=(0,t.h)(Z,{pub:oe,note:Ee,user:Re||{id:Me||0},style:Gt()}),yt=(0,C.getPledgeNoteAssetUrl)(oe,Re||{id:Me||0},Gt(),{fileToDownload:`Message - ${it==="stories"?"vertical":it}`}),Ht=()=>{(0,p.track)(p.EVENTS.PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{note_from_user_id:(Re==null?void 0:Re.id)||Me,aspectRatio:it,source:"download-button"})};break;case"pub_shareable_image":qe=zt?ge("Shareable images"):be`Shareable images for ${oe.name}`,Ze=(0,t.h)(W,{pub:oe,style:Gt()}),Mt=`${oe.name} - ${it==="stories"?"vertical":it}`,yt=(0,C.getPublicationAssetUrl)(oe,null,Gt(),{fileToDownload:Mt}),Ht=()=>{(0,p.track)(p.EVENTS.PUBLICATION_MEDIA_ASSETS_IMAGE_DOWNLOADED,{aspectRatio:it,source:"download-button"})};break;case"post_asset":{const or=Gt(),{text:cr,translatedText:Tt}=xe==="image"?{text:`Image${Xe?" - no preview":""}`,translatedText:ge(Xe?"Image - no preview":"Image")}:xe==="accent"?{text:`Accent Color${Xe?" - no preview":""}`,translatedText:ge(Xe?"Accent Color - no preview":"Accent Color")}:xe==="primary"?{text:`Background Color${Xe?" - no preview":""}`,translatedText:ge(Xe?"Background Color - no preview":"Background Color")}:{text:`Black and White${Xe?" - no preview":""}`,translatedText:ge(Xe?"Black and White - no preview":"Black and White")};qe=zt?ge("Shareable images"):be`Shareable images${Te!=null&&Te.title?` for ${Te.title}`:""}`,Ze=Te&&(0,t.h)(R.ZP,{pub:oe,post:Te,style:or,text:cr,translatedText:Tt}),Mt=`${Tt} - ${it==="stories"?"vertical":it}`,yt=Te&&(0,C.getPressKitUrl)(oe,Te,or,Mt),Ht=()=>{(0,p.track)(p.EVENTS.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:Te==null?void 0:Te.id,type:cr,aspectRatio:or.aspectRatio,share_center:!0,inline:!1,source:"download-button"})};break}}["arr_10k_milestone","arr_1k_milestone","list_100_milestone","list_1k_milestone"].includes(Le)?(qe=ge("Share milestone"),Mt=`${mt} - ${it==="stories"?"vertical":it}`,Ht=()=>{(0,p.track)(p.EVENTS.MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED,{milestone:mt,aspectRatio:it,source:"download-button"})}):["paid_subscription","pledged_subscription"].includes(Le)&&(qe=ge("Share message"),Mt=`Message - ${it==="stories"?"vertical":it}`);const Ir=()=>Q(this,null,function*(){Ht==null||Ht();const or=document.createElement("a");or.href=yt,or.download=Mt,or.target="_blank",or.rel="noopener noreferrer",or.style.display="none",document.body.appendChild(or),or.click(),document.body.removeChild(or)});return(0,t.h)(w.u_,{isOpen:ee,onClose:Kt,width:fe||630,overflow:"hidden",renderOverReactLaagPortal:!0,fullscreenMobile:!0},(0,t.h)(w.tu,{className:zt?V.mobileContainer:"",gap:20},(0,t.h)(w.xB,{onClose:Kt,title:qe,includeClose:!0}),(0,t.h)(w.tu,{className:zt?V.mobileContainer:"",gap:{desktop:32,mobile:8}},(0,t.h)("hr",{className:V.hRule}),zt?(0,t.h)(w.xv.B4,{align:"center",paddingTop:8,size:12,color:"secondary",translated:!0},"Long press to download image"):null,(0,t.h)(w.tu,{className:zt?V.mobileContainer:"",gap:24,paddingX:{desktop:24,mobile:16},paddingBottom:{mobile:16},justifyContent:{mobile:"space-between"}},(0,t.h)(w.hs,{className:g()(zt?V.mobileContainer:V.imageContainer),alignItems:"center",justifyContent:"center",paddingX:{desktop:64,mobile:0}},Ze),(0,t.h)(w.gq,{className:V.assetButtons,gap:32},Ke.length?(0,t.h)(w.tu,{gap:8},(0,t.h)(w.xv.B4,{weight:"medium",translated:!0},"Background"),(0,t.h)(w.gq,{gap:8},Ke.map(or=>(0,t.h)(G.rn,{value:or,isSelected:or===xe,onClick:()=>Oe(or),themeVariables:et,coverImageUrl:De})))):null,tt.length>1?(0,t.h)(w.tu,{gap:8},(0,t.h)(w.xv.B4,{weight:"medium",translated:!0},"Type"),(0,t.h)(w.gq,{gap:8},tt.map(({type:or,label:cr})=>(0,t.h)(G.$I,{value:or,label:cr,isSelected:or===Ie,onClick:()=>We(or)})))):null,(0,t.h)(w.tu,{gap:8},(0,t.h)(w.xv.B4,{weight:"medium",translated:!0},"Aspect Ratio"),(0,t.h)(w.gq,{gap:8},G.sl.map(or=>(0,t.h)(G.ar,{value:or,isSelected:or===it,onClick:()=>bt(or)})))),(0,t.h)(w.tu,{gap:8},(0,t.h)(w.xv.B4,{nowrap:!0,weight:"medium",translated:!0},"Preview Text"),(0,t.h)(w.hs,{flex:"grow",alignItems:"center"},(0,t.h)(w.rs,{color:"brand",checked:!Xe,onChange:or=>{st(!or),(0,p.track)(p.EVENTS.SHARE_CENTER_CUSTOMIZE_ASSETS_PREVIEW_TEXT_TOGGLED,{includePreviewText:or})}}))))),zt?null:(0,t.h)(w.tu,{gap:16},(0,t.h)("hr",{className:V.hRule}),(0,t.h)(w.xu,{paddingX:24,paddingBottom:24},(0,t.h)(w.zx,{grow:!0,leftIcon:(0,t.h)(P.Z,null),priority:"primary",onClick:Ir},ge("Download image")))))))}},66343:(H,E,e)=>{"use strict";e.d(E,{AM:()=>L,RF:()=>N,wb:()=>R});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(74691),y=e.n(P),C=e(31163),u=e(13045),p=e(51126),d=e(87336),w=Object.defineProperty,D=Object.defineProperties,M=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(q,V,j)=>V in q?w(q,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):q[V]=j,O=(q,V)=>{for(var j in V||(V={}))l.call(V,j)&&v(q,j,V[j]);if(c)for(var j of c(V))i.call(V,j)&&v(q,j,V[j]);return q},T=(q,V)=>D(q,M(V));const I=120,L=({videoElement:q,start:V,setStart:j,end:Y,setEnd:ie,onDurationChange:ce,storyboard:de,maxDuration:z,minDuration:Q,maxTimelineDuration:ae,minTimelineDuration:te,looping:oe=!1})=>{const[ue,ee]=(0,f.eJ)(0),[le,se]=(0,f.eJ)(0),[fe,ve]=(0,f.eJ)(0),[ge,be]=(0,f.eJ)(0),ne=(0,f.sO)(0),[me,Le]=(0,f.eJ)(!1),Re=De=>{Le(De)};(0,f.d4)(()=>{const De=()=>{if(q){ee(q.duration);const Be=[I,q.duration];ae&&Be.push(ae),ve(Math.min(...Be)),ce&&ce(q.duration)}};return q&&q.addEventListener("loadedmetadata",De),q!=null&&q.duration&&De(),()=>{q&&q.removeEventListener("loadedmetadata",De)}},[q]),(0,f.d4)(()=>{q&&(q.currentTime=V)},[V]),(0,f.d4)(()=>{const De=()=>{q&&be(q.currentTime)};if(q)return q.addEventListener("timeupdate",De),()=>{q.removeEventListener("timeupdate",De)}},[q]),(0,f.d4)(()=>{const De=Math.abs(ge-ne.current);if(ne.current=ge,De<1){oe&&q&&!me&&(ge>Y||ge<V)&&(q.currentTime=V);return}if(!me&&(ge>fe||ge<le)){const Be=fe-le,Ke=Math.min(ge,ue-Be);se(Ke),ve(Ke+Be)}},[ge]);const Me=De=>{De.preventDefault();const Be=De.currentTarget.getBoundingClientRect(),Ke=(De.clientX-Be.left)/Be.width,tt=fe-le,Ot=(De.deltaY>0?-1:1)*tt/4,et=tt-Ot,it=le+Ke*tt,bt=it-Ke*et,xe=it+(1-Ke)*et;ae&&xe-bt>ae||te&&xe-bt<te||(ve(Math.min(ue,xe)),se(Math.max(0,bt)))},Ee=we=De=>{if(Q&&De+Q>=Y){j(Y-Q);return}if(z&&De+z<=Y){j(Y-z);return}j(De)},Te=De=>{if(Q&&De-Q<=V){ie(V+Q);return}if(z&&De-z>=V){ie(V+z);return}ie(De)};return(0,t.h)("div",{className:d.Z.timeline,onWheel:Me},ue>0?(0,t.h)(U,{startTimeline:le,setStartTimeline:se,endTimeline:fe,setEndTimeline:ve,startPosition:V,setStartPosition:we,endPosition:Y,setEndPosition:Te,setPosition:Ee,playerPosition:ge,duration:ue,onDragging:Re,storyboard:de}):(0,t.h)(p.gq,{alignItems:"center",justifyContent:"center"},(0,t.h)(u.aN,null)))},S=({videoElement:q,start:V,setStart:j,onDurationChange:Y,storyboard:ie,maxTimelineDuration:ce,minTimelineDuration:de})=>{const[z,Q]=useState(0),[ae,te]=useState(0),[oe,ue]=useState(0),[ee,le]=useState(0),se=useRef(0),[fe,ve]=useState(!1),ge=me=>{ve(me)};useEffect(()=>{const me=()=>{if(q){Q(q.duration);const Le=[I,q.duration];ce&&Le.push(ce),ue(Math.min(...Le)),Y&&Y(q.duration)}};return q&&q.addEventListener("loadedmetadata",me),q!=null&&q.duration&&me(),,[q]),useEffect([V]),useEffect(()=>{const me=if(q)return q.addEventListener("timeupdate",me),()=>{q.removeEventListener("timeupdate",me)}},[q]),useEffect(()=>{const me=Math.abs(ee-se.current);if(se.current=ee,me<1){q&&!fe&&(q.currentTime=V);return}if(!fe&&(ee>oe||ee<ae)){const Le=oe-ae,Re=Math.min(ee,z-Le);te(Re),ue(Re+Le)}},[ee]);const be=me=>{me.preventDefault();const Le=me.currentTarget.getBoundingClientRect(),Re=(me.clientX-Le.left)/Le.width,Me=oe-ae,Ee=(me.deltaY>0?-1:1)*Me/4,we=Me-Ee,Te=ae+Re*Me,De=Te-Re*we,Be=Te+(1-Re)*we;ce&&Be-De>ce||de&&Be-De<de||(ue(Math.min(z,Be)),te(Math.max(0,De)))},ne=me=>{j(me)};return h("div",{className:css.timeline,onWheel:be},z>0?h(W,{startTimeline:ae,setStartTimeline:te,endTimeline:oe,setEndTimeline:ue,startPosition:V,setStartPosition:ne,playerPosition:ee,duration:z,onDragging:ge,storyboard:ie}):h(FlexRow,{alignItems:"center",justifyContent:"center"},h(Loader,null)))},N=({storyboard:q,imageUrl:V,x:j,y:Y,displayWidth:ie,displayHeight:ce,className:de})=>{const z=(j?j/q.tile_width:0)*ie,Q=(Y?Y/q.tile_height:0)*ce,ae={width:`${ie}px`,height:`${ce}px`,backgroundImage:`url(${V})`,backgroundPosition:`-${z}px -${Q}px`,backgroundSize:"500%"};return(0,t.h)("div",{className:de,style:ae})};function R(q,V){return q.reduce((j,Y)=>{const ie=Math.abs(Y.start-V),ce=Math.abs(j.start-V);return ie<ce?Y:j})}const U=({startTimeline:q,setStartTimeline:V,endTimeline:j,setEndTimeline:Y,startPosition:ie,setStartPosition:ce,endPosition:de,setEndPosition:z,setPosition:Q,playerPosition:ae,duration:te,storyboard:oe,onDragging:ue})=>{const ee=(0,f.sO)(null),le=(0,f.sO)(null),se=(0,f.sO)(de-ie),fe=(0,f.sO)(null),[ve,ge]=(0,f.eJ)(!1),be=j-q,ne=ie-q,me=de-q,Le=ae-q,Re=(0,f.Ye)(()=>ne/be*100,[be,ne]),Me=(0,f.Ye)(()=>me/be*100,[me,be]),Ee=(0,f.Ye)(()=>Le/be*100,[Le,be]),we=`linear-gradient(to right, 
    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(${Re}% + 6px), 
    rgba(0,0,0,0) calc(${Re}% + 6px), rgba(0,0,0,0) calc(${Me}% - 6px), 
    rgba(0,0,0,0.5) calc(${Me}% - 6px), rgba(0,0,0,0.5) 100%)`,Te=(0,f.I4)(Oe=>{const Ie=Oe/100*be;ce(Math.max(0,Ie+q))},[be,ce,q]),De=(0,f.I4)(Oe=>{const Ie=Oe/100*be;z(Math.min(te,Ie+q))},[te,be,z,q]);(0,f.d4)(()=>{ue(ve)},[ve]);const Be=Oe=>{if(Oe.stopPropagation(),Oe.preventDefault(),ve||!ee.current)return;le.current=Oe.clientX,se.current=de-ie;const Ie=ee.current.getBoundingClientRect().left,We=Oe.clientX-Ie,Ge=ee.current.getBoundingClientRect().width,Xe=We/Ge*100;if(!(Xe>=Re&&Xe<=Me)){const qe=q+Xe/100*be,Ze=y()(qe,0,te-se.current),mt=Ze+se.current;Q(Ze,mt)}},Ke=()=>{document.addEventListener("selectstart",Ot)},tt=()=>{document.removeEventListener("selectstart",Ot)},Ot=Oe=>{Oe.preventDefault(),Oe.stopPropagation()},et=Oe=>{if(!ee.current)return;Ke(),ge(!1),le.current=Oe.clientX,se.current=de-ie;const Ie=ee.current.getBoundingClientRect().left,We=Oe.clientX-Ie,Ge=ee.current.getBoundingClientRect().width,Xe=We/Ge*100,st=Xe>=Re&&Xe<=Me;fe.current=st,document.addEventListener("mousemove",bt),document.addEventListener("mouseup",it),document.addEventListener("pointerup",it)},it=()=>{setTimeout(()=>{ge(!1)},0),le.current=null,fe.current=null,tt(),document.removeEventListener("mousemove",bt),document.removeEventListener("mouseup",it),document.removeEventListener("pointerup",it)},bt=Oe=>{if(le.current===null)return;const Ie=Oe.clientX-le.current;if(Ie>5&&ge(!0),!ee.current)return;const We=ee.current.getBoundingClientRect().width,Ge=Ie/We*be,Xe=ie+Ge,st=Xe+se.current;fe.current?Xe<0?Q(0,se.current):st>te?Q(te-se.current,te):Q(Xe,st):q-Ge>0&&j-Ge<=te&&(V(Math.max(0,q-Ge)),Y(Math.min(te,j-Ge)))},xe=()=>{var Oe,Ie;if(!oe)return null;const We=(Ie=(Oe=ee==null?void 0:ee.current)==null?void 0:Oe.getBoundingClientRect().width)!=null?Ie:0;if(We===0)return null;function Ge(mt,yt,Mt){const Ht=[],Gt=Math.floor(mt/Mt)*Mt,zt=Math.ceil(yt/Mt)*Mt;for(let Kt=Gt;Kt<=zt;Kt+=Mt)Ht.push(Kt);return Ht}const Xe=60*(oe.tile_width/oe.tile_height),st=be/We*Xe,Ze=Ge(q,j,st).map(mt=>({time:mt,tile:R(oe.tiles,mt)}));return(0,t.h)(p.gq,{className:d.Z.storyboard},Ze.map(({time:mt,tile:yt},Mt)=>{const Ht=(mt-q)/be*100;return(0,t.h)("div",{style:{position:"absolute",left:`calc(${Ht}% + 6px)`}},(0,t.h)(N,{storyboard:oe,key:`${yt.x}-${yt.y}-${Mt}`,imageUrl:oe.url,displayHeight:60,displayWidth:oe.tile_width/oe.tile_height*60,x:yt.x,y:yt.y}))}))};return(0,t.h)("div",{className:d.Z.rail,ref:ee,onMouseDown:et,onClick:Be},xe(),(0,t.h)("div",{className:d.Z.nonSelectable,style:{background:we,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,t.h)("div",{className:d.Z.ticks},(0,t.h)($,{railDuration:be,startTimeline:q})),(0,t.h)("div",{className:g()(d.Z.ticks,d.Z.nonSelectable)},(0,t.h)("div",{className:d.Z.selection,style:{left:`calc(${Re}% + 6px)`,width:`calc(${Me-Re}% - 12px)`}})),(0,t.h)(Z,{divRef:ee,startTimeline:q,railDuration:j-q,active:!ve}),(0,t.h)("div",{className:d.Z.ticks},(0,t.h)(F,{className:`${d.Z.draggable} ${d.Z.draggableLeft}`,railRef:ee,label:(0,C.DL)(ie,!0),position:Re,maxPosition:Me,setPosition:Te,isDragging:ve,setIsDragging:ge}),(0,t.h)(F,{className:`${d.Z.draggable} ${d.Z.draggableRight}`,railRef:ee,label:(0,C.DL)(de,!0),position:Me,minPosition:Re,setPosition:De,isDragging:ve,setIsDragging:ge}),(0,t.h)(F,{className:d.Z.playback,railRef:ee,label:(0,C.DL)(ae,!0),position:Ee,isDragging:ve,setIsDragging:ge,disabled:!0})))},W=({startTimeline:q,setStartTimeline:V,endTimeline:j,setEndTimeline:Y,startPosition:ie,setStartPosition:ce,playerPosition:de,duration:z,storyboard:Q,onDragging:ae})=>{const te=useRef(null),oe=useRef(null),ue=useRef(null),[ee,le]=useState(!1),se=j-q,fe=ie-q,ve=de-q,ge=useMemo(()=>fe/se*100,[se,fe]),be=useMemo(()=>ve/se*100,[ve,se]),ne=useCallback(Be=>{const Ke=Be/100*se;ce(Math.max(0,Ke+q))},[se,ce,q]);useEffect(()=>{ae(ee)},[ee]);const me=Be=>{if(Be.stopPropagation(),Be.preventDefault(),ee||!te.current)return;oe.current=Be.clientX;const Ke=te.current.getBoundingClientRect().left,tt=Be.clientX-Ke,Ot=te.current.getBoundingClientRect().width,et=tt/Ot*100,it=q+et/100*se;ce(it)},Le=()=>{document.addEventListener("selectstart",Me)},Re=()=>{document.removeEventListener("selectstart",Me)},Me=Be=>{Be.preventDefault(),Be.stopPropagation()},Ee=Be=>{te.current&&(le(!1),oe.current=Be.clientX,Le(),document.addEventListener("mousemove",Te),window.addEventListener("mouseup",we))},we=()=>{setTimeout(()=>{le(!1)},0),oe.current=null,ue.current=null,Re(),document.removeEventListener("mousemove",Te),window.removeEventListener("mouseup",we)},Te=Be=>{if(oe.current===null)return;const Ke=Be.clientX-oe.current;if(Ke>5&&le(!0),!te.current)return;const tt=te.current.getBoundingClientRect().width,Ot=Ke/tt*se;q-Ot>0&&j-Ot<=z&&(V(Math.max(0,q-Ot)),Y(Math.min(z,j-Ot)))},De=()=>{var Be,Ke;if(!Q)return null;const tt=(Ke=(Be=te==null?void 0:te.current)==null?void 0:Be.getBoundingClientRect().width)!=null?Ke:0;if(tt===0)return null;function Ot(Oe,Ie,We){const Ge=[],Xe=Math.floor(Oe/We)*We,st=Math.ceil(Ie/We)*We;for(let qe=Xe;qe<=st;qe+=We)Ge.push(qe);return Ge}const et=60*(Q.tile_width/Q.tile_height),it=se/tt*et,xe=Ot(q,j,it).map(Oe=>({time:Oe,tile:R(Q.tiles,Oe)}));return h(FlexRow,{className:css.storyboard},xe.map(({time:Oe,tile:Ie},We)=>{const Ge=(Oe-q)/se*100;return h("div",{style:{position:"absolute",left:`calc(${Ge}% + 6px)`}},h(N,{storyboard:Q,key:`${Ie.x}-${Ie.y}-${We}`,imageUrl:Q.url,displayHeight:60,displayWidth:Q.tile_width/Q.tile_height*60,x:Ie.x,y:Ie.y}))}))};return h("div",{className:css.rail,ref:te,onMouseDown:Ee,onClick:me},De(),h("div",{className:css.ticks},h($,{railDuration:se,startTimeline:q})),h(Z,{divRef:te,startTimeline:q,railDuration:se,active:!ee}),h("div",{className:css.ticks},h(F,{className:`${css.draggable} ${css.draggableLeft}`,railRef:te,label:formatSecondsToMMSS(ie,!0),position:ge,setPosition:ne,isDragging:ee,setIsDragging:le}),h(F,{className:css.playback,railRef:te,label:formatSecondsToMMSS(de,!0),position:be,isDragging:ee,setIsDragging:le,disabled:!0})))},K=[{id:"lg",interval:60,tickClassName:d.Z.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["lg"]},{id:"md",interval:30,tickClassName:d.Z.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["md"]},{id:"sm",interval:5,tickClassName:d.Z.smTick,displayOnZoomLevels:["md","sm"],displayLabelsOnZoomLevels:["sm"]},{id:"xs",interval:1,tickClassName:d.Z.smTick,displayOnZoomLevels:["sm","xs"],displayLabelsOnZoomLevels:["xs"]}],G=q=>q>120?"lg":q>30?"md":q>5?"sm":"xs",re=(q,V,j)=>{const Y=Math.floor(q/j)*j,ie=Math.ceil(V/j)+1;return Array.from({length:ie}).map((ce,de)=>({label:(0,C.DL)(Y+j*de),time:Y+j*de-q}))},$=({railDuration:q,startTimeline:V})=>{const j=G(q),Y=K.map(ie=>T(O({},ie),{values:re(V,q,ie.interval)}));return(0,t.h)(t.Fragment,null,Y.map(ie=>ie.displayOnZoomLevels.includes(j)&&ie.values.map((ce,de)=>(0,t.h)("div",{key:de,className:g()(d.Z.tick,ie.tickClassName,d.Z.nonSelectable),style:{left:`${ce.time/q*100}%`}},ie.displayLabelsOnZoomLevels.includes(j)&&(0,t.h)("span",null,ce.label)))))},F=({railRef:q,position:V,disabled:j,setPosition:Y,label:ie,maxPosition:ce,minPosition:de,className:z,onDragStart:Q,onDragEnd:ae,showIcon:te=!0,isDragging:oe,setIsDragging:ue})=>{const ee=(0,f.sO)(null),[le,se]=(0,f.eJ)(!1),fe=()=>{document.addEventListener("selectstart",ge)},ve=()=>{document.removeEventListener("selectstart",ge)},ge=Le=>{Le.preventDefault(),Le.stopPropagation()},be=Le=>{j||(ue(!1),Le.stopPropagation(),se(!0),fe(),document.addEventListener("mousemove",me),document.addEventListener("mouseup",ne),document.addEventListener("pointerup",ne),Q&&Q())},ne=()=>{setTimeout(()=>{ue(!1)},0),se(!1),ve(),document.removeEventListener("mousemove",me),document.removeEventListener("mouseup",ne),document.removeEventListener("pointerup",ne),ae&&ae()},me=Le=>{if(ue(!0),!q.current||!ee.current)return;const Re=q.current.getBoundingClientRect().left,Me=q.current.getBoundingClientRect().width,Ee=(Le.clientX-Re)/Me*100;Y&&Y(ce!==void 0&&de!==void 0?Math.min(ce,Math.max(de,Ee)):ce!==void 0?Math.min(ce,Ee):de!==void 0?Math.max(de,Ee):Ee)};return(0,t.h)("div",{className:z,ref:ee,style:{left:`${V}%`},onMouseDown:be},te&&(0,t.h)("div",{className:d.Z.handle}),(0,t.h)("div",{className:`${d.Z.tooltip} ${le?d.Z.visible:d.Z.hidden} ${d.Z.nonSelectable}`},ie))},Z=({divRef:q,startTimeline:V,railDuration:j,active:Y})=>{const[ie,ce]=(0,f.eJ)(null),[de,z]=(0,f.eJ)(!1),Q=oe=>{if(q.current){const ue=q.current.getBoundingClientRect(),{left:ee,width:le}=ue,fe=(oe.clientX-ee)/le*100,ve=V+fe/100*j;ce({x:oe.clientX-ue.left,time:ve})}},ae=()=>z(!0),te=()=>z(!1);return(0,f.d4)(()=>(q.current&&(q.current.addEventListener("mousemove",Q),q.current.addEventListener("mouseenter",ae),q.current.addEventListener("mouseleave",te)),()=>{q.current&&(q.current.removeEventListener("mousemove",Q),q.current.removeEventListener("mouseenter",ae),q.current.removeEventListener("mouseleave",te))}),[V,j]),Y&&ie&&de?(0,t.h)("div",{className:g()(d.Z.shadowContainer,d.Z.nonSelectable),style:{left:ie.x}},(0,t.h)("div",{className:d.Z.shadow}),(0,t.h)("div",{className:d.Z.tooltip},(0,C.DL)(ie.time,!0))):null}},92379:(H,E,e)=>{"use strict";e.d(E,{ie:()=>re});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(80569),y=e.n(P),C=e(13045),u=e(52743),p=e(28488),d=e(3258),w=e(86791),D=e(88648),M=e(71054),c=Object.defineProperty,l=Object.defineProperties,i=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,I=(F,Z,q)=>Z in F?c(F,Z,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[Z]=q,L=(F,Z)=>{for(var q in Z||(Z={}))O.call(Z,q)&&I(F,q,Z[q]);if(v)for(var q of v(Z))T.call(Z,q)&&I(F,q,Z[q]);return F},S=(F,Z)=>l(F,i(Z)),N=(F,Z)=>{var q={};for(var V in F)O.call(F,V)&&Z.indexOf(V)<0&&(q[V]=F[V]);if(F!=null&&v)for(var V of v(F))Z.indexOf(V)<0&&T.call(F,V)&&(q[V]=F[V]);return q},R=(F,Z,q)=>new Promise((V,j)=>{var Y=de=>{try{ce(q.next(de))}catch(z){j(z)}},ie=de=>{try{ce(q.throw(de))}catch(z){j(z)}},ce=de=>de.done?V(de.value):Promise.resolve(de.value).then(Y,ie);ce((q=q.apply(F,Z)).next())});const U=5,W=60,K=600,G=5,re=F=>{const Z=F,{visible:q,onCancel:V}=Z,j=N(Z,["visible","onCancel"]),Y=()=>{var ie;q&&(0,d.track)(d.EVENTS.VIDEO_CLIP_CREATE_MODAL_CLOSED,{post_id:(ie=F.post)==null?void 0:ie.id}),V()};return(0,w.Z)(F.containerRef,Y),q?(0,t.h)(C.gq,{className:g()(M.Z.videoTrimmerSlider,{[M.Z.videoTrimmerSliderVisible]:q})},(0,t.h)($,S(L({},j),{onCancel:Y}))):null},$=({videoPlayerRef:F,videoUpload:Z,post:q,onCancel:V})=>{const j=(0,C.pm)(),{iString:Y}=(0,p.M1)();(0,f.d4)([]);const ie=ce=>R(void 0,null,function*(){var de,z;(0,d.track)(d.EVENTS.VIDEO_CLIP_CREATE_BUTTON_CLICKED,{post_id:q==null?void 0:q.id,media_upload_id:(de=q==null?void 0:q.videoUpload)==null?void 0:de.id,start_time:ce.start,end_time:ce.start+ce.duration}),F&&setTimeout(()=>F.pause(),100);try{const Q=yield y().post(`/api/v1/video/assets/${Z==null?void 0:Z.id}/clips`).send(ce);window.history.pushState({},"",(0,u.updateQuery)(window.location.href,{clipId:(z=Q.body.mediaUpload)==null?void 0:z.id,share:!0}));const ae=new Event("urlchange");return setTimeout(300),V(),ce}catch(Q){console.error(Q),j.popToast(ae=>(0,t.h)(C.FN,S(L({},ae),{text:Y("Error creating clip")})))}});return(0,t.h)(D.ZP,{videoPlayerRef:F,videoUpload:Z,post:q,onCancel:V,onSubmit:ie,onSubmitLabel:Y("Create clip"),minClipDuration:U,maxClipDuration:W,minTimelineDuration:G,maxTimelineDuration:K,showCaptionsButton:!0,elevated:!0})}},88648:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>S});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(74691),y=e.n(P),C=e(53716),u=e(75500),p=e(80569),d=e.n(p),w=e(66343),D=e(13045),M=e(31163),c=e(28488),l=e(3258),i=e(71054),v=(N,R,U)=>new Promise((W,K)=>{var G=F=>{try{$(U.next(F))}catch(Z){K(Z)}},re=F=>{try{$(U.throw(F))}catch(Z){K(Z)}},$=F=>F.done?W(F.value):Promise.resolve(F.value).then(G,re);$((U=U.apply(N,R)).next())});const O=5,T=60,I=600,L=5;function S({videoPlayerRef:N,videoUpload:R,post:U,onCancel:W,onSubmit:K,onSubmitLabel:G,minClipDuration:re=1,maxClipDuration:$=Number.MAX_VALUE,minTimelineDuration:F=0,maxTimelineDuration:Z=Number.MAX_VALUE,initialStart:q,initialEnd:V,showCaptionsButton:j,elevated:Y}){var ie,ce;const[de,z]=(0,f.eJ)(q!=null?q:0),[Q,ae]=(0,f.eJ)(V!=null?V:30),[te,oe]=(0,f.eJ)((0,M.DL)(de,!0)),[ue,ee]=(0,f.eJ)((0,M.DL)(Q,!0)),[le,se]=(0,f.eJ)(!1),[fe,ve]=(0,f.eJ)(),[ge,be]=(0,f.eJ)(),[ne,me]=(0,f.eJ)(),[Le,Re]=(0,f.eJ)(),[Me,Ee]=(0,f.eJ)(!1),[we,Te]=(0,f.eJ)(!0),De=!!((ce=(ie=U==null?void 0:U.podcastUpload)==null?void 0:ie.transcription)!=null&&ce.transcript_url),Be=(0,M.Jk)(te),Ke=(0,M.Jk)(ue),{iString:tt,iTemplate:Ot}=(0,c.M1)();(0,f.d4)(()=>{const st=qe=>v(this,null,function*(){const{body:{src:Ze}}=yield d().get(`/api/v1/video/upload/${qe}/storyboard`),mt=yield d().get(Ze);ve(mt.body)});R!=null&&R.id&&st(R.id)},[R]),(0,f.d4)(()=>{(0,M.ZD)(te)!==de&&oe((0,M.DL)(de,!0)),be(void 0)},[de]),(0,f.d4)(()=>{(0,M.ZD)(ue)!==Q&&ee((0,M.DL)(Q,!0)),me(void 0)},[Q]);const et=st=>{let qe=!1;return st<0?(Re(tt("Start time must be prior to end time")),qe=!0):st>$?(Re(tt("Clip can't be greater than 60 seconds")),qe=!0):st<re?(Re(tt("Clip must be at least 5 seconds")),qe=!0):Re(void 0),qe},it=(st,qe="start",Ze=!1)=>{const mt=(0,M.Jk)(st);if(Ze||(qe==="start"?oe(st):ee(st)),!mt)return(qe==="start"?be:me)(qe==="start"?Ot`Start time format must be 0:00.0`:Ot`End time format must be 0:00.01`),!1;const yt=(0,M.ZD)(st),Mt=qe==="start"?(0,M.ZD)(ue)-yt:yt-(0,M.ZD)(te);let Ht=!1;return Mt<=0?Ht=!0:(qe==="start"?be:me)(void 0),Ht=et(Mt)||Ht,!Ht&&!Ze&&(qe==="start"?(z(yt),ae((0,M.ZD)(ue))):(z((0,M.ZD)(te)),ae(yt))),!Ht},bt=(st,qe=!1)=>it(st,"start",qe),xe=(st,qe=!1)=>it(st,"end",qe),Oe=(0,f.I4)((st,qe)=>{(0,M.fI)(qe)&&(st==="start"?bt(qe):xe(qe))},[te,ue]),Ie=()=>v(this,null,function*(){var st;Ee(!0),yield K({start:de,duration:Q-de,render_transcript_as:le?"subtitles":void 0,podcast_id:(st=U==null?void 0:U.podcastUpload)==null?void 0:st.id}),Ee(!1)}),We=st=>{q||V||ae(y()(st/4,re,30))},Ge=()=>{var st;(0,l.track)(l.EVENTS.VIDEO_CLIP_LOOP_BUTTON_CLICKED,{post_id:U==null?void 0:U.id,media_upload_id:(st=U==null?void 0:U.videoUpload)==null?void 0:st.id,looping:!we}),Te(!we)};if(!N)return null;const Xe=!!ge||!!ne||!!Le;return(0,t.h)("div",null,(0,t.h)(D.hs,{className:g()("force-light-theme",Y?i.Z.containerElevated:i.Z.containerInline)},(0,t.h)(D.tu,{gap:16,paddingX:4,flex:"grow"},(0,t.h)(D.gq,{className:i.Z.videoTrimmerWrapper},(0,t.h)(w.AM,{videoElement:N,start:de,setStart:z,end:Q,setEnd:ae,minDuration:re,maxDuration:$,maxTimelineDuration:Z,minTimelineDuration:F,looping:we,onDurationChange:We,storyboard:fe})),(0,t.h)(t.Fragment,null,(0,t.h)(D.gq,{justifyContent:"space-between",alignItems:"center",disabled:Me,style:{opacity:Me?.5:1}},Me?(0,t.h)(D.gq,{justifyContent:"center",alignItems:"center",marginHeight:8},(0,t.h)(D.gq,{justifyContent:"center",alignItems:"center",gap:8},(0,t.h)(D.aN,null),(0,t.h)(D.xv.Button,{translated:!0,color:"secondary"},"Saving..."))):(0,t.h)(D.gq,{gap:16},(0,t.h)(D.gq,{gap:4,alignItems:"center",onClick:disabled:!De,className:`${De?i.Z.captionsAvailable:i.Z.captionsNotAvailable}`},(0,t.h)(D.hU,{title:"loop video",priority:we?"primary-theme":"secondary",onClick:Ge},(0,t.h)(C.Z,null)),(0,t.h)(D.hU,{disabled:!De||Me,priority:le?"primary-theme":"secondary"},(0,t.h)(u.Z,null))),(0,t.h)(D.gq,{gap:8},(0,t.h)(D.oi,{error:!Be,value:te,onChange:st=>Oe("start",st.currentTarget.value)}),(0,t.h)(D.oi,{error:!Ke,value:ue,onChange:)),(0,t.h)(D.gq,{gap:4,alignItems:"center",justifyContent:"space-between",className:i.Z.durationContainer},(0,t.h)(D.xv.Button,{size:16,color:"secondary"},(0,M.DL)(Q-de,!0)))),(0,t.h)(D.gq,{gap:8},(0,t.h)(D.zx,{priority:"primary-theme",fill:"empty",onClick:W},tt("Cancel")),(0,t.h)(D.zx,{priority:"primary-theme",onClick:Ie,disabled:Xe||Me},G))),Xe&&(0,t.h)(D.tu,null,ge&&(0,t.h)(D.gq,null,(0,t.h)(D.xv.Button,{color:"error"},ge)),ne&&(0,t.h)(D.gq,null,(0,t.h)(D.xv.Button,{color:"error"},ne)),Le&&(0,t.h)(D.gq,null,(0,t.h)(D.xv.Button,{color:"error"},Le)))))))}},50557:(H,E,e)=>{"use strict";e.d(E,{p:()=>v});var t=e(6400),f=e(94184),s=e.n(f),g=e(34755),P=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,w=(O,T,I)=>T in O?P(O,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):O[T]=I,D=(O,T)=>{for(var I in T||(T={}))p.call(T,I)&&w(O,I,T[I]);if(u)for(var I of u(T))d.call(T,I)&&w(O,I,T[I]);return O},M=(O,T)=>y(O,C(T)),c=(O,T)=>{var I={};for(var L in O)p.call(O,L)&&T.indexOf(L)<0&&(I[L]=O[L]);if(O!=null&&u)for(var L of u(O))T.indexOf(L)<0&&d.call(O,L)&&(I[L]=O[L]);return I};const i=O=>{var T=O,{fill:I}=T,L=c(T,["fill"]);return(0,t.h)(g.l,M(D({},L),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:I||"white"}}),(0,t.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:I||"white"}))},v=({name:O,label:T,info:I,checked:L,disabled:S,onChange:N,isRow:R=!0,className:U})=>{const W=(0,t.h)(t.Fragment,null,(0,t.h)("span",{className:s()("big-checkbox",{checked:L,disabled:S}),onClick:()=>!S&&(N==null?void 0:N(!L)),onKeyDown:K=>{K.key===" "&&(N==null||N(!L))},role:"checkbox","aria-checked":L,"aria-label":T||O,tabIndex:0},(0,t.h)(i,{fill:"#ffffff"})));return(0,t.h)("label",{className:s()("big-checkbox-input",U,{"big-checkbox-input-row":R})},!R&&W,(0,t.h)("div",{onClick:()=>{(T||I)&&!S&&(N==null||N(!L))}},T,I&&(0,t.h)("div",{className:"info"},I)),R&&W,(0,t.h)("input",{type:"hidden",name:O,"data-testid":O,value:String(L)}))}},7922:(H,E,e)=>{"use strict";e.d(E,{Z:()=>O,k:()=>T});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=e(17025),y=e.n(P),C=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(I,L,S)=>L in I?C(I,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):I[L]=S,c=(I,L)=>{for(var S in L||(L={}))w.call(L,S)&&M(I,S,L[S]);if(d)for(var S of d(L))D.call(L,S)&&M(I,S,L[S]);return I},l=(I,L)=>u(I,p(L)),i=(I,L)=>{var S={};for(var N in I)w.call(I,N)&&L.indexOf(N)<0&&(S[N]=I[N]);if(I!=null&&d)for(var N of d(I))L.indexOf(N)<0&&D.call(I,N)&&(S[N]=I[N]);return S};const O=I=>{var L=I,{children:S,className:N=void 0,disabled:R=void 0,loading:U=void 0,type:W="button",href:K=void 0,localNavigation:G=!1,onClick:re=void 0,forwardedRef:$=void 0,newTab:F=void 0,style:Z=void 0}=L,q=i(L,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab","style"]);const V=j=>{if(R||U){j&&j.preventDefault();return}re?re(j):K?(0,P.redirect)(K,{event:j,local_navigation:G,newTab:F}):W!=="submit"&&console.log("No onClick set!")};return(0,t.h)("button",l(c({tabIndex:0},q),{type:W,className:g()("button",N,{disabled:R}),disabled:R||U,onClick:V,ref:$,style:Z}),U?"Please wait...":S)},T=(0,f.forwardRef)((I,L)=>{var S=I,{onClick:N,href:R,localNavigation:U,newTab:W}=S,K=i(S,["onClick","href","localNavigation","newTab"]);const G=R?re=>{N&&(N.call(re.target,re),re.defaultPrevented)||(0,P.redirect)(R,{event:re,local_navigation:U,newTab:W})}:N;return(0,t.h)("button",l(c({tabIndex:0},K),{ref:L,onClick:G}))})},99105:(H,E,e)=>{"use strict";e.d(E,{Z:()=>P});var t=e(6400),f=(p,d,w)=>new Promise((D,M)=>{var c=v=>{try{i(w.next(v))}catch(O){M(O)}},l=v=>{try{i(w.throw(v))}catch(O){M(O)}},i=v=>v.done?D(v.value):Promise.resolve(v.value).then(c,l);i((w=w.apply(p,d)).next())});const s="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let g=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=C);class P extends t.Component{componentDidMount(){return f(this,null,function*(){yield u(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}enderfunction y(){const p=document.getElementsByTagName("script")[0],d=document.createElement("script");d.type="text/javascript",d.async=!0,d.defer=!0,d.src=s,p.parentNode.insertBefore(d,p)}function C(){if(g){const p=g;g=!0;for(const d of p)d()}}function u(){return new Promise(p=>{g===!0?p():g===!1?(g=[p],y()):g.push(p)})}},44454:(H,E,e)=>{"use strict";e.d(E,{EJ:()=>u.E,Fx:()=>D,ZP:()=>w});var t=e(6400),f=e(94184),s=e.n(f),g=e(17025),P=e.n(g),y=e(7922),C=e(26059),u=e(22939);const p="active",d=.7;class w extends t.Component{constructor(c,l){if(super(c,l),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const i=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:i.matches};const v=i.addEventListener?i.addEventListener("change",v):i.addListener&&i.addListener(v)}}componentDidMount(){document.addEventListener("mouseup",c=>this.onDocumentMouseUp(c)),document.addEventListener("keydown",c=>this.onDocumentKeyDown(c)),typeof window!="undefined"&&window.addEventListener("resize",()=>this.onWindowResize()),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",c=>this.onDocumentMouseUp(c)),document.removeEventListener("keydown",c=>this.onDocumentKeyDown(c)),typeof window!="undefined"&&window.removeEventListener("resize",()=>this.onWindowResize())}onDocumentMouseUp(c){!(0,g.isRootOrChild)(c.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(0))}onDocumentKeyDown(c){c.key==="Escape"&&this.state.active&&this.close()}onWindowResize(){this.placeDropdown()}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:c=null}={}){this.blockToggle||(0,g.stateTransaction)(this,l=>{c===null&&(c=!l.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[c?"add":"remove"]("modal-in"),this.setState({active:c},()=>{this.props.onToggle&&this.props.onToggle({active:c})})})}isOpen(){return!!this.state.active}aceDropdown(){var c,l;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const i=this.base.getBoundingClientRect(),v=i.width/(this.state.active?1:d),O=i.right+(v-i.width)/2,T=i.left-(v-i.width)/2,I=typeof window!="undefined"&&window.innerWidth;if(v>=I)return;const L=typeof window!="undefined"&&window.getComputedStyle(this.base),S=!isNaN(parseFloat(L.left))&&parseFloat(L.left),N=!isNaN(parseFloat(L.right))&&parseFloat(L.right),R=(c=this.state.originalLeft)!=null?c:L.left,U=(l=this.state.originalRight)!=null?l:L.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:R}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:U}),T<0?typeof this.state.left=="number"?this.setState({left:this.state.left-T,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+T}):typeof N=="number"?this.setState({left:null,right:N+T}):this.setState({left:(S||0)-T,right:null}):O>=I&&(typeof this.state.left=="number"?this.setState({left:this.state.left-O+I,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+O-I}):typeof S=="number"?this.setState({left:S-O+I,right:null}):this.setState({left:null,right:(N||0)+O-I}))}render({noTail:c,attachOnActive:l,noDrawerCloseButton:i},{active:v}){const O=(0,t.toChildArray)(this.props.children),T={},I={};typeof this.state.left=="number"?(T.left=`${this.state.left}px`,T.right="unset",I.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(T.left="unset",T.right=`${this.state.right}px`,I.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const L=this.useDrawerStyle();return(0,t.h)(t.Fragment,null,L&&(0,t.h)("div",{className:s()("dropdown-drawer-backdrop",{[p]:v}),onclick:S=>{S.stopPropagation(),this.drawerBackdropClicked()}}),(!l||v||L)&&(0,t.h)("ul",{className:s()("dropdown-menu",this.props.className,{[p]:v,"no-rect":this.props.noRectWhenClosed,drawer:L,tooltip:!L,"no-place":!!this.props.noPlace}),style:T},!c&&!this.useDrawerStyle()&&(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"dropdown-menu-tail",style:I}),(0,t.h)("div",{className:"dropdown-menu-tail-shadow",style:I})),(0,t.h)("div",{className:s()("dropdown-menu-wrapper",this.props.wrapperClassName)},L&&!i&&(0,t.h)(y.k,{className:"drawer-close-button",onClick:,(0,t.h)(C.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?O:O.map(S=>(0,t.h)("li",null,S)))))}}class D extends t.Component{componentDidMount(){document.addEventListener("mouseup",c=>this.onDocumentMouseUp(c)),document.addEventListener("keydown",c=>this.onDocumentKeyDown(c))}componentWillUnmount(){document.removeEventListener("mouseup",c=>this.onDocumentMouseUp(c)),document.removeEventListener("keydown",c=>this.onDocumentKeyDown(c))}constructor(c){super(c)}onDocumentMouseUp(c){!(0,g.isRootOrChild)(c.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}onDocumentKeyDownnWindowResize(){this.placeDropdown()}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:c=null}={}){this.blockToggle||(0,g.stateTransaction)(this,l=>{c===null&&(c=!l.active),this.setState({active:c},})}ender(){const c=(0,t.toChildArray)(this.props.children);return this.props.noList?(0,t.h)("div",{className:s()("dropdown-menu tooltip",this.props.className,{[p]:this.state.active}),ref:this.props.forwardedRef},(0,t.h)("div",{className:"dropdown-menu-wrapper"},c)):(0,t.h)("ul",{className:s()("dropdown-menu tooltip",this.props.className,{[p]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,t.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,t.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,t.h)("div",{className:"dropdown-menu-wrapper"},c.map())}}},22939:(H,E,e)=>{"use strict";e.d(E,{E:()=>f});var t=e(30396);function f(){const s=(0,t.sO)(null);return[s,()=>{var P;return(P=s.current)==null?void 0:P.toggle()}]}},43615:(H,E,e)=>{"use strict";e.d(E,{FF:()=>ue,Pn:()=>ae,ZP:()=>z});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(71375),y=e(49770),C=e(58718),u=e(52743),p=e(28488),d=e(67963),w=e(62017),D=e(17025),M=e(84040),c=e(51126),l=e(62246),i=e(43887),v=e(97868),O=e(33510),T=e(44695);const I=40,L=.5*I,S=.2,N=2;function R(se){return{width:(se-1)*I*(1-S)+I+2*N,height:I+2*N}}function U({faces:se}){const ve=se.slice(0).reverse().map(({id:ne,photo_url:me},Le)=>({id:ne,photo_url:me||getDefaultUserPhotoById(ne),x:(se.length-Le-1)*(1-S)*I+N})),{width:ge,height:be}=R(se.length);return h("svg",{version:"1.1",width:ge,height:be,viewBox:`0 0 ${ge} ${be}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,ve.map(({id:ne,photo_url:me,x:Le})=>h("pattern",{id:`image-${ne}`,x:Le,y:N,patternUnits:"userSpaceOnUse",height:I,width:I},h("image",{height:I,width:I,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:me})))),ve.map(({id:ne,x:me})=>h("circle",{cx:me+L,cy:L+N,r:L,fill:`url(#image-${ne})`,stroke:"#fff","stroke-width":N})))}var W=e(80332),K=e(79786),G=e(30105);const re={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var $=Object.defineProperty,F=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,Y=(se,fe,ve)=>fe in se?$(se,fe,{enumerable:!0,configurable:!0,writable:!0,value:ve}):se[fe]=ve,ie=(se,fe)=>{for(var ve in fe||(fe={}))V.call(fe,ve)&&Y(se,ve,fe[ve]);if(q)for(var ve of q(fe))j.call(fe,ve)&&Y(se,ve,fe[ve]);return se},ce=(se,fe)=>F(se,Z(fe)),de=(se,fe)=>{var ve={};for(var ge in se)V.call(se,ge)&&fe.indexOf(ge)<0&&(ve[ge]=se[ge]);if(se!=null&&q)for(var ge of q(se))fe.indexOf(ge)<0&&j.call(se,ge)&&(ve[ge]=se[ge]);return ve};function z(se){var fe=se,{faces:ve,secondaryFaces:ge,maximum:be=5,pileLabel:ne,modalLabel:me,secondaryLabel:Le,secondaryHref:Re,enableModal:Me,className:Ee,totalCount:we,detailUtmSource:Te,onDialogOpen:De,showFaces:Be=!0,showBlanks:Ke=!1,relativeLinks:tt=!1}=fe,Ot=de(fe,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","showBlanks","relativeLinks"]);const[et,it]=(0,f.eJ)(!1),[bt,xe]=(0,f.eJ)(!1),Ie=ve.concat((ge==null?void 0:ge.filter()||[]).filter(({photo_url:We})=>Ke?!0:!!We).slice(0,be);return(0,t.h)(c.hs,{alignItems:"center",gap:8,flex:"grow",className:g()("facepile",Ee)},Be&&(0,t.h)(Q,ce(ie({},Ot),{className:Ee,faces:Ie,maximum:be,showBlanks:Ke,relativeLinks:tt})),ne&&(0,t.h)(oe,{label:ne,clickable:!!(Me&&ve.length),onClick:()=>{!Me||!(ve!=null&&ve.length)||(it(!0),De&&De())}}),Le&&(0,t.h)(i.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),Le&&(0,t.h)(oe,{label:Le,clickable:!!(Me&&(ge!=null&&ge.length)),href:Re,onClick:Re?void 0:()=>{!Me||!(ge!=null&&ge.length)||(xe(!0),De&&De())}}),et&&(0,t.h)(ue,{isOpen:et,modalLabel:me,faces:ve,totalCount:we,onClose:()=>it(!1),utmSource:Te}),bt&&ge&&(0,t.h)(ue,{isOpen:bt,modalLabel:Le,faces:ge,totalCount:ge.length,onClose:()=>xe(!1),utmSource:Te}))}function Q({faces:se,loading:fe,className:ve,clickable:ge=!0,hoverProfiles:be,faceUtmSource:ne,elevated:me,showBlanks:Le=!1,maximum:Re=5,size:Me=40,relativeLinks:Ee=!1}){const we=(0,D.isMobileBrowser)(),Te=se.filter(({photo_url:De})=>Le?!0:!!De).slice(0,Re);return(0,t.h)(c.hs,{alignItems:"center"},!fe&&Te.length>0&&(0,t.h)(c.hs,{alignItems:"center",className:g()(re.faces,re[`size-${Me}`],ve)},Te.map(({id:De,name:Be,photo_url:Ke,className:tt,tooltipTitle:Ot,tooltipContent:et,noLink:it},bt)=>{const xe=(0,u.getReaderProfileUrl)({id:De,name:Be},{utm_source:ne,noBase:!!Ee}),Oe=(0,t.h)(K.e,{className:g()("facepile-face",re.face,re[`size-${Me}`],tt,bt===0&&re.first,bt===Te.length-1&&re.last,me&&re.elevated),style:{zIndex:Te.length-bt},maxWidth:Me*2,src:(0,u.imginary)(Ke||(0,u.getDefaultUserPhotoById)(De),64)});return it||!ge?Oe:(0,t.h)(W.ProfileHoverCard,{disabled:!be||we,key:De,subject:{id:De,name:Be,photo_url:Ke},utmSource:ne},(0,t.h)(G.L,{disabled:!Ot&&!et,title:Ot,content:et,className:"inverse bottom"},(0,t.h)(c.hs,{as:"a",flex:"auto",href:xe,target:"_blank",rel:"noopener"},Oe)))})),fe&&(0,t.h)(te,{maximum:Re,size:Me}))}function ae({pub:se,post:fe}){var ve;const ge=(0,u.imginary)(`${(0,u.getBaseUrl)(se)}/p/${fe.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:be,width:ne}=R((ve=fe==null?void 0:fe.publishedBylines)==null?void 0:ve.length);return(0,t.h)("img",{src:ge,width:ne,height:be})}function te({maximum:se,size:fe}){return(0,t.h)(c.hs,{gap:12},new Array(se).fill(null).map()}function oe({label:se,clickable:fe,href:ve,onClick:ge}){return(0,t.h)(i.xv.B4,null,(0,t.h)(w.hh,{className:fe?re.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:fe?"hover-underline":"none",onClick:ge,href:ve},se))}function ue(se){var fe=se,{isOpen:ve,onClose:ge}=fe,be=de(fe,["isOpen","onClose"]);return(0,t.h)(l.u_,{isOpen:!!ve,onClose:ge,width:500},(0,t.h)(ee,ie({onClose:ge},be)))}function ee({faces:se,modalLabel:fe,onClose:ve,openLinksInNewTab:ge,totalCount:be,utmSource:ne}){const{iString:me,iTemplate:Le,iPlural:Re}=(0,p.M1)(),Me=(be||0)-se.length;return(0,t.h)(t.Fragment,null,(0,t.h)(c.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,t.h)(i.xv.H2,null,fe),ve&&(0,t.h)(M.hU,{onClick:ve},(0,t.h)(P.Z,{height:20}))),(0,t.h)(c.tu,{overflowY:"auto",className:re.column},(0,t.h)(c.tu,{gap:4,padding:8,flex:"grow"},se.map(,Me>0&&(0,t.h)(c.hs,{gap:16,alignItems:"center",padding:8},(0,t.h)(c.hs,{className:re.avatarOther,alignItems:"center",justifyContent:"center"},(0,t.h)(y.Z,{className:re.avatarOtherIcon,size:20})),(0,t.h)(i.xv.B4,{color:"secondary"},"+",Re("%1 other reader","%1 other readers",Me))))))}function le({face:se,openLinksInNewTab:fe,utmSource:ve}){const{iString:ge,iTemplate:be}=(0,p.M1)(),{id:ne,name:me,photo_url:Le,primary_publication:Re,writes:Me,className:Ee,noLink:we}=se,Te=ve||"facepile-modal",De=(0,u.getReaderProfileUrl)({id:ne,name:me},{utm_source:Te}),Be=(0,d.aF)(),Ke=(0,C.Sv)(se,Te);return(0,t.h)(c.hs,{key:ne,flex:"grow"},we?(0,t.h)(c.hs,{gap:16,padding:8,radius:12,className:re.row,alignItems:"center",flex:"grow"},(0,t.h)(v.BG,{user:se,pub:Re,size:40,className:Ee}),(0,t.h)(c.tu,{minWidth:0,flex:"grow"},(0,t.h)(i.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(re.link,g()({"no-name":!(me||"").trim().length}))},me))):(0,t.h)(c.hs,ie({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:re.row,href:De},fe?{target:"_blank"}:{}),(0,t.h)(v.BG,{user:se,pub:Re,size:40,className:Ee}),(0,t.h)(c.tu,{minWidth:0,flex:"grow"},(0,t.h)(W.ProfileHoverCard,{disabled:(0,D.isMobileBrowser)(),subject:{id:ne,name:me,photo_url:Le},utmSource:Te,className:re.link},(0,t.h)(i.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(re.link,g()({"no-name":!(me||"").trim().length}))},me)),Me&&Re&&(0,t.h)(T.Sm,{disabled:(0,D.isMobileBrowser)(),publication_id:Re==null?void 0:Re.id,className:re.link},(0,t.h)(i.xv.B4,{color:"secondary",decoration:"hover-underline",className:g()(re.link,{"no-name":!(me||"").trim().length})},Me))),Be&&Be.id!==ne&&(0,t.h)(M.zx,{fill:"empty",priority:Ke.isFollowing?"secondary":"primary",className:re.button,onClick:tt=>{tt.preventDefault(),Ke.toggle()}},Ke.isFollowing?ge("Following"):ge("Follow"))))}},8925:(H,E,e)=>{"use strict";e.d(E,{GP:()=>I,UD:()=>O,ZP:()=>R,ew:()=>N,lQ:()=>i});var t=e(6400),f=e(94184),s=e.n(f),g=e(80569),P=e.n(g),y=e(83322),C=e(3258),u=Object.defineProperty,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(U,W,K)=>W in U?u(U,W,{enumerable:!0,configurable:!0,writable:!0,value:K}):U[W]=K,M=(U,W)=>{for(var K in W||(W={}))d.call(W,K)&&D(U,K,W[K]);if(p)for(var K of p(W))w.call(W,K)&&D(U,K,W[K]);return U},c=(U,W)=>{var K={};for(var G in U)d.call(U,G)&&W.indexOf(G)<0&&(K[G]=U[G]);if(U!=null&&p)for(var G of p(U))W.indexOf(G)<0&&w.call(U,G)&&(K[G]=U[G]);return K},l=(U,W,K)=>new Promise((G,re)=>{var $=q=>{try{Z(K.next(q))}catch(V){re(V)}},F=q=>{try{Z(K.throw(q))}catch(V){re(V)}},Z=q=>q.done?G(q.value):Promise.resolve(q.value).then($,F);Z((K=K.apply(U,W)).next())});function i(U,W){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const K={};return W&&W.stripe_user_id?y.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(W.stripe_country)&&(K.stripeAccount=W.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(U,K)}function v(U,W){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(W!=null&&W.stripe_user_id))return null;const K={stripeAccount:W.stripe_user_id};return window.Stripe(U,K)}function O(U){return U.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}function T(U,W,{email:K,name:G,country:re,themeVariables:{color_theme_accent:$,color_theme_bg_contrast_2:F,print_on_pop:Z,print_on_web_bg_color:q,print_secondary_on_web_bg_color:V}={}}={}){const j={theme:"flat",variables:{colorBackground:F||void 0,colorPrimary:$||void 0,colorPrimaryText:Z||void 0,colorText:q||void 0,colorTextPlaceholder:V||void 0,colorTextSecondary:V||void 0}},Y=U.elements({clientSecret:W,appearance:j,locale:window._preloads&&window._preloads.language||"auto"});return{elements:Y,paymentElement:Y.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{email:K,name:G,address:{country:re}}},terms:{card:"never"}})}}class I extends t.Component{omponentDidUpdate(W){this.props.element&&!W.element&&this.props.element.mount(this.elementContainer)}componentWillUnmount(){if(this.props.element)try{this.props.element.unmount(this.elementContainer)}catch(W){}}render({className:W,element:K,isPaymentElement:G}){if(!(!K&&!G))return(0,t.h)("div",{className:s()("fancy-stripe",W,{"payment-element":G})},(0,t.h)("div",{ref:re=>this.elementContainer=re}))}}class L extends t.Component{constructor(W,K){if(super(W,K),W.stripe&&W.pub.stripe_country){(0,C.track)(C.EVENTS.APPLE_PAY_SETUP_STARTED);try{const G=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),re=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:G});this.state={paymentRequest:G,stripeButton:re}}catch(G){console.error(G),(0,C.track)(C.EVENTS.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return l(this,null,function*(){let W=!1;if(this.state.paymentRequest){try{const K=yield this.state.paymentRequest.canMakePayment();K&&K.applePay&&(W=!0)}catch(K){console.error(K)}(0,C.track)(C.EVENTS.APPLE_PAY_SETUP_FINISHED,{success:W})}yield this.setState({canMount:W}),W?(this.button||(yield new Promise(K=>setTimeout(K,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",K=>this.onTokenReceived(K)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(W){let K=!1;for(const G of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(W[G]!==this.props[G]||G==="coupon"&&W[G]&&W[G].loading&&(!this.props[G]||!this.props[G].loading)){K=!0;break}K&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(W){}}onTokenReceived(W){return l(this,null,function*(){(0,C.track)(C.EVENTS.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:W.payerEmail,name:W.payerName,stripe_token:W.token}),W.complete("success"),(0,C.track)(C.EVENTS.APPLE_PAY_SUCCEEDED)}catch(K){console.error("Apple Pay submission failed:",W,K),W.complete("fail"),(0,C.track)(C.EVENTS.APPLE_PAY_FAILED,{reason:K.message})}})}getPaymentTotal(){var W;const{pub:K,plan:G,quantity:re,coupon:$,notRecurring:F,variableAmount:Z}=this.props;let q=0,V=Math.max(0,G.trial_period_days||0,$&&!$.error&&!$.loading&&$.trial_period_days||0,K.trial_end_override&&Math.ceil((K.trial_end_override-Date.now()/1e3)/60/60/24));F&&(V=0);const Y=(((W=G.metadata)==null?void 0:W.founding)&&Z||G.amount)*(re||1);let ie=Y;$&&!$.error&&!$.loading&&($.percent_off?ie=Math.round(ie*(1-($.percent_off_precise||$.percent_off)/100)):$.amount_off&&(ie=Math.max(0,ie-$.amount_off)),ie<=0&&(ie=Y,$.duration==="once"?G.interval==="year"?q+=12*G.interval_count:q+=G.interval_count:$.duration==="repeating"&&(q+=$.duration_in_months)));let ce;return F?ce="one-time":(ce=`${this.props.plan.interval}ly`,this.props.quantity>1&&(ce+=" per person"),q?(V>15&&(q+=parseInt(V/30)),ce+=` with ${q}-month trial`):V&&(ce+=` with ${V}-day trial`)),{label:ce,amount:ie}}render({children:W,className:K,error:G},{canMount:re}){if(!(typeof re!="undefined"&&!re&&typeof window!="undefined"))return(0,t.h)("div",{className:"apple-pay-parent-container"},re?(0,t.h)("div",{className:`apple-pay-element ${K||""}`,ref:$=>this.button=$}):(0,t.h)("p",{className:`apple-pay-loader ${K||""}`},"Loading\u2026"),G&&(0,t.h)("div",{className:"error"},G),W)}}class S extends t.Component{render(W,K){var G=W,{children:re,ref:$}=G,F=c(G,["children","ref"]);return(0,t.h)("div",{className:"fancy-input"},(0,t.h)("input",M({ref:Z=>this._input=Z},F)),re)}blur(){this._input&&this._input.blur()}}class N extends Error{constructor(W){super(W),this.response={body:{error:this.message}}}}class R extends t.Component{constructor(W,K){super(W,K),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=i(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this.props.useStripePaymentElement||(this._stripeCardOrPaymentElement=O(this._stripe)),this._connectedStripe=v(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const W=[];if(this.base){const K=Array.from(this.base.getElementsByTagName("*"));for(const G of K)["INPUT","TEXTAREA","SELECT"].includes(G.nodeName)&&G.getAttribute("name")&&G.id!=="g-recaptcha-response"&&W.push(G)}return W}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const W of this.getInputs())W.blur&&W.blur(),W.type==="checkbox"?W.checked=!1:W.type==="select"?W.selectedIndex=-1:W.type==="radio"?W.checked=!1:W.target?W.target.value="":W.value=""}handleStripeChange({error:W}){W?this.setState({_stripeError:W.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.addEventListener("change",W=>this.handleStripeChange(W))}componentDidUpdate(W){const{country:K,email:G,name:re,stripeClientSecret:$,themeVariables:F,useStripePaymentElement:Z,isPlatformCustomer:q}=this.props;Z&&$!==W.stripeClientSecret&&($?(this.setState({loading:!0}),{elements:this._stripeElements,paymentElement:this._stripeCardOrPaymentElement}=T(q?this._stripe:this._connectedStripe,$,{email:G,name:re,country:K,themeVariables:F}),this.setState({loading:!1})):W.stripeClientSecret&&(this._stripeCardOrPaymentElement.destroy(),this._stripeCardOrPaymentElement=null))}nInputBlur(W){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&W.target&&W.target.value&&!W.target._blurTracked&&((0,C.track)(`${this.props.analyticsName} Input Filled`,{name:W.target.name}),W.target._blurTracked=!0)}onPaymentRequestAttempt(W){return l(this,null,function*(){const K=yield this.handleSubmitAsync(null,W);if(K)throw K})}handleSubmit(W){W&&W.preventDefault(),this.handleSubmitAsync(W).catch(K=>{console.error(K)})}handleSubmitAsync(W){return l(this,arguments,function*(K,G={}){var re,$;if(K&&K.preventDefault(),this.props.analyticsName&&(0,C.track)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const F=this.props.method?this.props.method:"post";let Z=null;if(this.stripeElement&&!G.stripe_token&&!this.props.useStripePaymentElement){const{token:Y,error:ie}=this._stripe?yield this._stripe.createToken(this._stripeCardOrPaymentElement):{error:{message:""}};if(Y)Z=Y;else{this.setState({loading:!1,_stripeError:ie&&ie.message}),this.props.analyticsName&&(console.log("error",ie),(0,C.track)(`${this.props.analyticsName} Missing Payment`,{type:ie&&ie.type,code:ie&&ie.code,decline_code:ie&&ie.decline_code,reason:ie&&ie.message}));return}}let q={};for(const Y of this.getInputs())Y.blur&&Y.blur(),Y.type=="checkbox"?q[Y.name]=!!Y.checked:Y.type=="radio"?Y.checked&&(q[Y.name]=Y.value):Y.type==="select"?q[Y.name]=Y.options[Y.selectedIndex].value:q[Y.name]=Y.value;if(Object.keys(G).forEach(Y=>{!q[Y]&&G[Y]&&(q[Y]=G[Y])}),Z&&(q.stripe_token=Z),this.props.prepareData)try{const Y=yield this.props.prepareData(q,K);Y&&(q=Y)}catch(Y){throw this.setState({loading:!1}),Y}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let V,j;try{if(this.props.performSubmit)this.props.useStripePaymentElement?V=yield this.props.performSubmit(q,{confirmSetup:Y=>(this.props.isPlatformCustomer?this._stripe:this._connectedStripe).confirmSetup({elements:this._stripeElements,redirect:"if_required",confirmParams:Y})}):V=yield this.props.performSubmit(q);else if(this.props.action){const Y=P()[F](this.props.action);this.props.method&&this.props.method==="get"?V=yield Y.query(q):V=yield Y.send(q)}else this.props.onSubmit&&this.props.onSubmit(q)}catch(Y){j=Y}if((re=V==null?void 0:V.body)!=null&&re.confirmPaymentUrl&&V.body.clientSecret&&this._connectedStripe){(0,C.track)(C.EVENTS.PAYMENT_CONFIRMATION_STARTED);const Y=yield this._connectedStripe.confirmCardPayment(V.body.clientSecret);if(Y.error){(0,C.track)(C.EVENTS.PAYMENT_CONFIRMATION_FAILED,{error:($=Y.error)==null?void 0:$.message});const ie={error:Y.error.message||"Failed to confirm payment"};j={response:{body:ie,text:JSON.stringify(ie)}}}else(0,C.track)(C.EVENTS.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!j)this.props.onSuccess&&this.props.onSuccess(V,q);else if(this.processErrors(j.response),this.props.onError&&this.props.onError(j,q),!j.response)throw j;return j})}processErrors(W){const K={},G=[];if(W&&W.body&&W.body.errors){const re=this.getInputs();W.body.errors.forEach($=>{this.props.noInlineErrors!==!0&&$.param&&re.filter(.length>0?K[$.param]?(console.log("Discarding repeated error"),console.log($)):K[$.param]=$:G.push($)})}else W&&W.body&&typeof W.body.error=="string"?G.push({msg:W.body.error}):G.push({msg:"Something went wrong"});this.setState({_paramErrors:K,_otherErrors:G}),this.props.analyticsName&&(0,C.track)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(K),otherErrors:JSON.stringify(G)})}render(W,K){const G=W.autoLock&&K.loading||W.loading;let re=!1,$=!1;const F=Z=>{const q=[];return(0,t.toChildArray)(Z).forEach(V=>{if(!V)return null;if((V.type===S||V.type==="input"||V.type==="textarea"||V.type==="select")&&V.props&&V.props.name){const j=V.props.name;if(q.push((0,t.cloneElement)(V,{disabled:G||V.props.disabled,onChange:Y=>{var ie,ce;const de=((ie=V.props)==null?void 0:ie.onChange)||((ce=V.props)==null?void 0:ce.onInput);de&&de(Y),this.props.onChange&&this.props.onChange(Y)},onInput:Y=>{V.props&&V.props.onInput&&V.props.onInput(Y),this.props.onInput&&this.props.onInput(Y)},onBlur:Y=>{this.onInputBlur(Y),V.props&&V.props.onBlur&&V.props.onBlur(Y)}})),K._paramErrors[j]&&!G){const Y=K._paramErrors[j];Y.msgHTML?q.push((0,t.h)("div",{className:"error",name:j,dangerouslySetInnerHTML:{__html:Y.msgHTML}})):q.push((0,t.h)("div",{className:"error",name:j},Y.msg||"Invalid"))}}else if(V.props&&V.props.type==="submit")q.push((0,t.cloneElement)(V,{disabled:G||V.props.disabled,onClick:j=>{V.props&&V.props.onClick&&V.props.onClick(j)!==!1&&this.handleSubmit(j)}}));else if(V.props&&V.props.id==="error-container"){if(K._otherErrors&&!G){const j=K._otherErrors.map(Y=>Y.msgHTML?(0,t.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:Y.msgHTML}}):(0,t.h)("div",{className:"error other-error"},Y.msg)).concat(V.props&&V.props.children?(0,t.toChildArray)(V.props.children):[]);q.push((0,t.cloneElement)(V,{},j))}}else if(V.type===I){if(re)throw new Error("Can only handle one stripe element");re=!0,q.push((0,t.cloneElement)(V,{ref:j=>{V.props&&V.props.ref&&V.props.ref(j),this.stripeElement=j},element:this._stripeCardOrPaymentElement,isPaymentElement:this.props.useStripePaymentElement})),(K._stripeError||!this._stripeCardOrPaymentElement)&&!G&&typeof window!="undefined"&&q.push((0,t.h)("div",{className:s()("error",W.stripeErrorClassName),role:"alert"},K._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(V.type===L){if($)throw new Error("Can only handle one stripe payment request button");$=!0,q.push((0,t.cloneElement)(V,{ref:j=>{V.props&&V.props.ref&&V.props.ref(j),this.stripePaymentRequestButton=j},stripe:this._stripe,onSuccess:j=>(V.props&&V.props.onSuccess&&V.props.onSuccess(j),this.onPaymentRequestAttempt(j))}))}else V.props&&V.props.children?q.push((0,t.cloneElement)(V,{},F(V.props.children))):q.push(V)}),q};return(0,t.h)("form",M({className:`form ${W.className||""}`,action:W.noJsAction||W.action,method:W.method&&["get","post"].includes(W.method.toLowerCase())&&W.method.toLowerCase()||"post",autoComplete:W.autoComplete,onSubmit:Z=>this.handleSubmit(Z),noValidate:!0},W.enctype&&{enctype:W.enctype}),F(W.children))}}},3341:(H,E,e)=>{"use strict";e.d(E,{Z:()=>ae});var t=e(6400),f=e(94184),s=e.n(f),g=e(7922),P=e(8925),y=e(28488),C=e(78515),u=e(3258),p=e(72496),d=e(17025),w=e(30396),D=e(5285),M=e(92271),c=e(51126),l=e(43887);const i={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},v=({emailSuggestions:te,currentEmail:oe,onAccept:ue,onReject:ee})=>{const le=(0,d.isMobileBrowser)(),[se,fe]=(0,w.eJ)(!1),[ve,ge]=(0,w.eJ)(null),be=(0,w.sO)(null),ne=Me=>{fe(!1),(0,u.track)(u.EVENTS.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:oe,email_suggested:Me}),ee&&ee()},me=te&&oe&&te[oe]&&te[oe]!=oe.trim(),Le=Me=>{fe(!1),(0,u.track)(u.EVENTS.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:oe,email_suggested:Me}),ue(Me)};(0,w.d4)(()=>{if(me){const Me=te[oe];(0,u.track)(u.EVENTS.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:oe,email_suggested:Me}),ge(Me),fe(!0)}else fe(!1)},[me,te,oe]);const{iString:Re}=(0,y.M1)();return(0,t.h)("div",{className:i.animationWrapper},(0,t.h)(D.u,{show:se,enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:be},(0,t.h)(c.hs,{className:i.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,t.h)(c.tu,{className:i.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:6,alignItems:"start",gap:20},(0,t.h)(l.xv,{translated:!0,size:16,font:"display",className:i.secondaryText},"Did you mean"," ",(0,t.h)(l.xv,{as:"span",weight:"semibold",className:i.primaryText},I18N.p(ve||"")),"?"),(0,t.h)(c.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:i.buttonWrapper},(0,t.h)(M.z,{onClick:()=>Le(ve),className:i.buttonFill,variant:"themed-primary"},Re(le?"Yes":"Yes, Subscribe with correction")),(0,t.h)(M.z,{className:i.buttonFill,variant:"secondary",onClick:()=>ne(ve)},Re("No")))))))};var O=e(23279),T=e.n(O),I=e(80569),L=e.n(I),S=e(83868),N=e.n(S),R=(te,oe,ue)=>new Promise((ee,le)=>{var se=ge=>{try{ve(ue.next(ge))}catch(be){le(be)}},fe=ge=>{try{ve(ue.throw(ge))}catch(be){le(be)}},ve=ge=>ge.done?ee(ge.value):Promise.resolve(ge.value).then(se,fe);ve((ue=ue.apply(te,oe)).next())});const U=(te,oe)=>R(void 0,null,function*(){const ue=yield L().get("/api/v1/check-email").query({email:te});oe([te,ue.body])}),W=T()((te,oe)=>R(void 0,null,,200),K=te=>R(void 0,null,function*(){return N()(te)?new Promise(:[]});var G=e(52743),re=e(83322),$=e(46019),F=e(59009),Z=Object.defineProperty,q=Object.defineProperties,V=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ce=(te,oe,ue)=>oe in te?Z(te,oe,{enumerable:!0,configurable:!0,writable:!0,value:ue}):te[oe]=ue,de=(te,oe)=>{for(var ue in oe||(oe={}))Y.call(oe,ue)&&ce(te,ue,oe[ue]);if(j)for(var ue of j(oe))ie.call(oe,ue)&&ce(te,ue,oe[ue]);return te},z=(te,oe)=>q(te,V(oe)),Q=(te,oe,ue)=>new Promise((ee,le)=>{var se=ge=>{try{ve(ue.next(ge))}catch(be){le(be)}},fe=ge=>{try{ve(ue.throw(ge))}catch(be){le(be)}},ve=ge=>ge.done?ee(ge.value):Promise.resolve(ge.value).then(se,fe);ve((ue=ue.apply(te,oe)).next())});class ae extends t.Component{constructor(oe){super(oe),this.handleEmailChange=()=>{const ue=this.emailInput.value;ue&&(this.setState({currentEmail:ue}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(ue))&&K(ue).then(ee=>{const[le,se]=ee;this.setState({emailSuggestions:z(de({},this.state.emailSuggestions),{[le]:se})})}))},this._onSuccess=ue=>Q(this,null,function*(){const{iTemplate:ee}=this.context;ue.body.prompt_to_login||u.signup(),ue.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(ue):alert(ee`Confirmation required: we sent an email to ${ue.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==ue.body.email&&(0,C.a)({freeSignupEmail:ue.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(ue))}),this.onSuccess=ue=>Q(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,G.getQueryItem)("referralCode")?window.campaign.identify({email:ue.body.email},()=>this._onSuccess(ue)):yield this._onSuccess(ue)}),this.onAcceptSuggestion=ue=>{this.emailInput.value=ue,this.form.handleSubmit(null,!0)},this.state={emailSuggestions:{}}}etPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return Q(this,null,function*(){var oe;const{autoFocus:ue,disabled:ee}=this.props;this.getPrefilledEmail()?this.emailInput.value=this.getPrefilledEmail():ue&&!(this.getPrefilledEmail()||ee)&&!(0,d.isMobileBrowser)()&&((oe=this.emailInput)==null||oe.focus())})}nError(oe){oe.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(oe)}render({children:oe,className:ue,disabled:ee,expectTruncation:le,isWelcomePageColor:se,loginRedirect:fe,next:ve,onAccentBackground:ge,pub:be,referralCode:ne,showLogin:me,showTerms:Le,source:Re,submitButtonText:Me,useSubscribeLink:Ee,user:we,utm_campaign:Te,onMaybeLater:De,onPrepareData:Be,beforeSubmit:Ke},{loading:tt,requires_confirmation:Ot,currentEmail:et}){var it,bt,xe,Oe,Ie,We;const Ge=Re==="treatment_bold_fade",Xe=((xe=(bt=(it=(0,G.getQueryItem)("referring_pub_ids"))==null?void 0:it.split)==null?void 0:bt.call(it,","))==null?void 0:xe[0])||void 0,st=((We=(Ie=(Oe=(0,G.getQueryItem)("referring_pub_ids"))==null?void 0:Oe.split)==null?void 0:Ie.call(Oe,","))==null?void 0:We.slice(1))||void 0,qe=this.getPrefilledEmail(),{iString:Ze,language:mt}=this.context;return(0,t.h)("div",{className:$.Z.container},(0,t.h)(P.ZP,{ref:yt=>this.form=yt,className:s()(ue,$.Z.form),noInlineErrors:!0,action:(0,G.pathWithQuery)("/api/v1/free"),noJsAction:(0,G.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:yt=>{Ot&&(yt.resend_confirmation=!0),Be&&Be(yt)},onChangeLoadingState:this.onLoadingState.bind(this),onError:yt=>this.onError(yt),onSuccess:yt=>this.onSuccess(yt),typoFound:yt=>this.setState({emailSuggestion:yt}),disableSubmit:Ee},(0,t.h)("input",{type:"hidden",name:"first_url",value:p.xY}),(0,t.h)("input",{type:"hidden",name:"first_referrer",value:p.ip}),(0,t.h)("input",{type:"hidden",name:"current_url",value:p.UE}),(0,t.h)("input",{type:"hidden",name:"current_referrer",value:p.xU}),(0,t.h)("input",{type:"hidden",name:"referral_code",value:ne}),(0,t.h)("input",{type:"hidden",name:"source",value:Re}),(0,t.h)("input",{type:"hidden",name:"referring_pub_id",value:Xe}),(0,t.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:st}),(0,t.h)("div",{className:$.Z.sideBySideWrap},!!qe&&(0,d.inputPrefillHack)(),(0,t.h)("div",{className:s()($.Z.emailInputWrapper,{[$.Z.emailInputWrapperExpectTruncation]:le})},(0,t.h)("input",{className:s()("pencraft",$.Z.emailInput,{[$.Z.emailInputOnAccentBackground]:ge,[$.Z.emailInputExpectTruncation]:le,[$.Z.emailInputOnWelcomePage]:se}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:yt=>this.emailInput=yt,type:"email",name:Ge?"email-pop":"email",readOnly:!!(this.getSavedEmail()||tt||ee),disabled:!!(tt||ee),placeholder:Ze("Type your email..."),value:et||qe||null})),(0,t.h)(g.Z,{className:s()("rightButton primary subscribe-btn",$.Z.button,{pop:Ge,[$.Z.buttonOnAccentBackground]:ge}),type:"submit",disabled:!!(tt||ee),onClick:yt=>{Ke==null||Ke(),Ee&&(location.href=(0,G.getSubscribeUrl)(be,{addBase:!0,user:we,utm_source:F.UTM_SOURCE.substack,utm_medium:F.UTM_MEDIUM.web,utm_campaign:Te,next:ve}))}},(0,t.h)("span",{className:`button-text ${Ge?"pop":""}`},Me||(0,re.getSubscribeText)(be,{language:mt})))),Ot?(0,t.h)("div",null,(0,t.h)(l.xv,{translated:!0,className:"error other-error"},"This email address is not confirmed yet.",(0,t.h)("br",null),(0,t.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,t.h)("div",{id:"error-container"}),me||Le||oe?(0,t.h)("div",{className:s()("subtle-help-text below-input",$.Z.links)},me&&(this.getSavedEmail()?(0,t.h)("a",{className:"login-button",href:(0,G.getSignoutUrl)({for_pub:be.subdomain}),native:!0},Ze("Not you?")):(0,t.h)("a",{className:"login-button",href:(0,G.getSigninUrl)({for_pub:be.subdomain,redirect:fe}),native:!0},Ze("Login"))),Le&&[(0,t.h)("a",{className:"legal",href:(0,G.getPublisherPrivacyUrl)({pub:be}),target:"_blank",native:!0},Ze("Privacy")),(0,t.h)("a",{className:"legal",href:(0,G.getPublisherTermsUrl)({pub:be}),target:"_blank",native:!0},Ze("Terms")),(0,t.h)("a",{className:"legal",href:(0,G.getInfoCollectionUrl)(),target:"_blank",native:!0},Ze("Information collection notice"))],oe):null),(0,t.h)(v,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}ae.contextType=y.wj},86791:(H,E,e)=>{"use strict";e.d(E,{Z:()=>s});var t=e(30396);function f(g,P){(0,t.d4)(()=>{function y(u){const p=u.target;g.current&&!g.current.contains(p)&&P()}function C(u){(u.key==="Escape"||u.keyCode===27)&&P()}return document.addEventListener("mousedown",y),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",C)}},[g,P])}const s=f},45634:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{name:v,children:O}=i,T=D(i,["name","children"]);return(0,t.h)(f.l,w(d({},T),{name:v,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),O)}},32127:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,t.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,t.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},97737:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,t.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}))},1782:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,t.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,t.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{fill:v="#1C110B"}=i,O=D(i,["fill"]);return(0,t.h)(f.l,w(d({},O),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:v}}),(0,t.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},26059:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,t.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},32673:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,t.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,t.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}))},46595:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,t.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,t.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,t.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,t.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,t.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,t.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},40946:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,t.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:c.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,t.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:c.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,t.h)("path",{d:"M16 18.5V8.5",stroke:c.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}))},71765:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,t.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,t.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},14846:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,t.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}))},36377:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,t.h)("circle",{cx:"3.93749",cy:"5.97916",r:"3.4375"}),(0,t.h)("path",{d:"M8.39583 9.49273C8.39583 11.3912 6.85681 12.9302 4.95833 12.9302C3.05985 12.9302 1.52083 11.3912 1.52083 9.49273C1.52083 7.59425 3.05985 6.05523 4.95833 6.05523C6.85681 6.05523 8.39583 7.59425 8.39583 9.49273Z"}),(0,t.h)("path",{d:"M12.4792 9.49273C12.4792 11.3912 10.9402 12.9302 9.04172 12.9302C7.14324 12.9302 5.60422 11.3912 5.60422 9.49273C5.60422 7.59425 7.14324 6.05523 9.04172 6.05523C10.9402 6.05523 12.4792 7.59425 12.4792 9.49273Z"}),(0,t.h)("circle",{cx:"6.99999",cy:"3.9375",r:"3.4375"}),(0,t.h)("circle",{cx:"10.0625",cy:"5.97916",r:"3.4375"}))},51889:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,t.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,t.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,t.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,t.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,t.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},64484:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,t.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,t.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,t.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},11851:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{color:v="#262626"}=i,O=D(i,["color"]);return(0,t.h)(f.l,w(d({},O),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,t.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:v}),(0,t.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:v,stroke:v}))}},15440:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(13808),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(l,i,v)=>i in l?g(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,w=(l,i)=>{for(var v in i||(i={}))u.call(i,v)&&d(l,v,i[v]);if(C)for(var v of C(i))p.call(i,v)&&d(l,v,i[v]);return l},D=(l,i)=>P(l,y(i));function M(l){return(0,t.h)(s.l,D(w({},l),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(f.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))}const c=M},63295:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(7617),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(l,i,v)=>i in l?g(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,w=(l,i)=>{for(var v in i||(i={}))u.call(i,v)&&d(l,v,i[v]);if(C)for(var v of C(i))p.call(i,v)&&d(l,v,i[v]);return l},D=(l,i)=>P(l,y(i));const c=l=>(0,t.h)(s.l,D(w({},l),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(f.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},92604:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(84146),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(l,i,v)=>i in l?g(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,w=(l,i)=>{for(var v in i||(i={}))u.call(i,v)&&d(l,v,i[v]);if(C)for(var v of C(i))p.call(i,v)&&d(l,v,i[v]);return l},D=(l,i)=>P(l,y(i));const c=l=>(0,t.h)(s.l,D(w({},l),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(f.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},12650:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(8618),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(l,i,v)=>i in l?g(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,w=(l,i)=>{for(var v in i||(i={}))u.call(i,v)&&d(l,v,i[v]);if(C)for(var v of C(i))p.call(i,v)&&d(l,v,i[v]);return l},D=(l,i)=>P(l,y(i));const c=l=>(0,t.h)(s.l,D(w({},l),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(f.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},43498:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(4675),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(l,i,v)=>i in l?g(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,w=(l,i)=>{for(var v in i||(i={}))u.call(i,v)&&d(l,v,i[v]);if(C)for(var v of C(i))p.call(i,v)&&d(l,v,i[v]);return l},D=(l,i)=>P(l,y(i));const c=l=>(0,t.h)(s.l,D(w({},l),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(f.Z,{height:24,stroke:l.stroke,fill:l.fill,strokeWidth:l.strokeWidth}))},11628:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":c.strokeWidth,fill:c.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},73416:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,t.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:c.fill,stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:c.fill,stroke:"none"}))},31517:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:c.stroke,strokeWidth:c.strokeWidth}}),(0,t.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:c.stroke,strokeWidth:c.strokeWidth}}),(0,t.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:c.stroke,strokeWidth:c.strokeWidth}}),(0,t.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},70073:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{color:v="white"}=i,O=D(i,["color"]);return(0,t.h)(f.l,w(d({},O),{name:"PhoneOutline",svgParams:{height:24,width:24,stroke:v,fill:"none"}}),(0,t.h)("path",{d:"M16.7778 2.3877H8.22222C7.54721 2.3877 7 3.28313 7 4.3877V18.3877C7 19.4923 7.54721 20.3877 8.22222 20.3877H16.7778C17.4528 20.3877 18 19.4923 18 18.3877V4.3877C18 3.28313 17.4528 2.3877 16.7778 2.3877Z"}))}},11762:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,t.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,t.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,t.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,t.h)("g",null,(0,t.h)("g",null,(0,t.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},93830:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,t.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}))},97864:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,t.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}))},48093:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{fill:v="white"}=i,O=D(i,["fill"]);return(0,t.h)(f.l,w(d({},O),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:v}}),(0,t.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,t.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))}},65665:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,t.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,t.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,t.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},27247:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{color:v="white"}=i,O=D(i,["color"]);return(0,t.h)(f.l,w(d({},O),{name:"RoundedSquareOutline",svgParams:{height:24,width:24,stroke:v,fill:"none"}}),(0,t.h)("path",{d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z"}))}},32823:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{strokeWidth:v=1.5}=i,O=D(i,["strokeWidth"]);return(0,t.h)(f.l,w(d({},O),{strokeWidth:v,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,t.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))}},7775:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,t.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,t.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,t.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_14802_325807"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},36543:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareInstagramIcon",svgParams:{height:1e3,width:1e3}}),(0,t.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"1000",height:"1000",viewBox:"0 0 264.5833 264.5833","inkscape:version":"1.0.1 (3bc2e813f5, 2020-09-07)","sodipodi:docname":"Instagram_(2022).svg"},(0,t.h)("defs",null,(0,t.h)("radialGradient",{id:"f",cx:"158.429",cy:"578.088",r:"52.3515","xlink:href":"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -4.03418 4.28018 0 -2332.2273 942.2356)",fx:"158.429",fy:"578.088"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#b",id:"g",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.67441 -1.16203 1.51283 .87801 -814.3657 -47.8354)",cx:"172.6149",cy:"600.6924",fx:"172.6149",fy:"600.6924",r:"65"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#c",id:"h",cx:"144.012",cy:"51.3367",fx:"144.012",fy:"51.3367",r:"67.081",gradientTransform:"matrix(-2.3989 .67549 -.23008 -.81732 464.9957 -26.4035)",gradientUnits:"userSpaceOnUse"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#d",id:"e",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-3.10797 .87652 -.6315 -2.23914 1345.6503 1374.1983)",cx:"199.7884",cy:"628.4379",fx:"199.7884",fy:"628.4379",r:"52.3515"}),(0,t.h)("linearGradient",{"inkscape:collect":"always",id:"d"},(0,t.h)("stop",{offset:"0","stop-color":"#ff005f"}),(0,t.h)("stop",{offset:"1","stop-color":"#fc01d8"})),(0,t.h)("linearGradient",{id:"c"},(0,t.h)("stop",{offset:"0","stop-color":"#780cff"}),(0,t.h)("stop",{"stop-color":"#820bff",offset:"1","stop-opacity":"0"})),(0,t.h)("linearGradient",{"inkscape:collect":"always",id:"b"},(0,t.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,t.h)("stop",{offset:"1","stop-color":"#fc0","stop-opacity":"0"})),(0,t.h)("linearGradient",{id:"a"},(0,t.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,t.h)("stop",{offset:".1242","stop-color":"#fc0"}),(0,t.h)("stop",{offset:".5672","stop-color":"#fe4a05"}),(0,t.h)("stop",{offset:".6942","stop-color":"#ff0f3f"}),(0,t.h)("stop",{offset:"1","stop-color":"#fe0657","stop-opacity":"0"})),(0,t.h)("clipPath",{id:"clipCircle"},(0,t.h)("circle",{cx:"132",cy:"132",r:"132",fill:"#FFFFFF",stroke:"#000000"}))),(0,t.h)("g",null),(0,t.h)("g",{"inkscape:groupmode":"layer","clip-path":"url(#clipCircle)"},(0,t.h)("path",{d:"     M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#e)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#f)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#g)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#h)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M132.3452 33.973c-26.7167 0-30.0696.1167-40.5629.5939-10.4727.4792-17.6212 2.136-23.8762 4.567-6.4701 2.5107-11.9586 5.8693-17.4265 11.3352-5.472 5.464-8.8332 10.9483-11.354 17.4116-2.4389 6.2524-4.099 13.3976-4.5703 23.8585-.4693 10.4854-.5923 13.8379-.5923 40.5348 0 26.697.1189 30.0371.5943 40.5225.4817 10.465 2.1397 17.6082 4.5703 23.8585 2.5147 6.4654 5.8758 11.9497 11.3458 17.4136 5.466 5.468 10.9544 8.8349 17.4204 11.3456 6.259 2.4309 13.4097 4.0877 23.8803 4.567 10.4933.477 13.8441.5938 40.5588.5938 26.7188 0 30.0615-.1167 40.5547-.5939 10.4728-.4792 17.6295-2.136 23.8885-4.567 6.4681-2.5106 11.9484-5.8775 17.4143-11.3455 5.472-5.4639 8.8332-10.9482 11.354-17.4115 2.4183-6.2524 4.0784-13.3976 4.5703-23.8585.4713-10.4854.5943-13.8277.5943-40.5246 0-26.697-.123-30.0473-.5943-40.5328-.4919-10.465-2.152-17.6081-4.5703-23.8584-2.5208-6.4654-5.882-11.9498-11.354-17.4137-5.4721-5.468-10.9442-8.8266-17.4204-11.3353-6.2714-2.4309-13.424-4.0877-23.8967-4.5669-10.4933-.4772-13.8339-.5939-40.5588-.5939zm-8.825 17.7147c2.6193-.0041 5.5418 0 8.825 0 26.2659 0 29.379.0942 39.7513.5652 9.5915.4383 14.7971 2.0397 18.2648 3.3852 4.5908 1.7817 7.8638 3.9116 11.3048 7.3521 3.4431 3.4406 5.5745 6.7173 7.3617 11.3046 1.3465 3.461 2.9512 8.6628 3.3877 18.2472.4714 10.3625.5739 13.4754.5739 39.7095 0 26.234-.1025 29.347-.5739 39.7095-.4386 9.5843-2.0412 14.7861-3.3877 18.2471-1.783 4.5874-3.9186 7.8539-7.3617 11.2923-3.443 3.4406-6.712 5.5704-11.3048 7.3521-3.4636 1.3517-8.6733 2.949-18.2648 3.3873-10.3702.471-13.4854.5734-39.7513.5734-26.2679 0-29.381-.1024-39.7513-.5734-9.5914-.4423-14.797-2.0438-18.2668-3.3893-4.5908-1.7817-7.87-3.9116-11.313-7.3521-3.4431-3.4405-5.5745-6.709-7.3617-11.2985-1.3465-3.461-2.9512-8.6628-3.3877-18.2471-.4714-10.3626-.5657-13.4754-.5657-39.7259 0-26.2504.0943-29.347.5657-39.7095.4386-9.5844 2.0412-14.7861 3.3877-18.2512 1.783-4.5874 3.9186-7.8641 7.3617-11.3046 3.443-3.4406 6.7222-5.5704 11.313-7.3562 3.4677-1.3517 8.6754-2.949 18.2668-3.3894 9.075-.4096 12.5919-.5324 30.9264-.553zm61.3363 16.322c-6.5173 0-11.805 5.2776-11.805 11.792 0 6.5125 5.2877 11.7962 11.805 11.7962 6.5172 0 11.8049-5.2837 11.8049-11.7962 0-6.5124-5.2877-11.796-11.805-11.796zm-52.5113 13.7826c-27.8993 0-50.5191 22.6031-50.5191 50.4817 0 27.8786 22.6198 50.4714 50.5191 50.4714s50.511-22.5928 50.511-50.4714c0-27.8786-22.6137-50.4817-50.513-50.4817zm0 17.7147c18.109 0 32.7914 14.6694 32.7914 32.767 0 18.0956-14.6824 32.767-32.7914 32.767-18.111 0-32.7913-14.6714-32.7913-32.767 0-18.0976 14.6803-32.767 32.7913-32.767z","inkscape:connector-curvature":" 0",fill:" #fff"}))))},17835:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,t.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,t.h)("stop",{"stop-color":"#FF6719"}),(0,t.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,t.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,t.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,t.h)("clipPath",{id:"clip0_23936_14598"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_14802_325810"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},15516:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l});var t=e(6400),f=e(22850),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(i,v,O)=>v in i?g(i,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):i[v]=O,w=(i,v)=>{for(var O in v||(v={}))u.call(v,O)&&d(i,O,v[O]);if(C)for(var O of C(v))p.call(v,O)&&d(i,O,v[O]);return i},D=(i,v)=>P(i,y(v)),M=(i,v)=>{var O={};for(var T in i)u.call(i,T)&&v.indexOf(T)<0&&(O[T]=i[T]);if(i!=null&&C)for(var T of C(i))v.indexOf(T)<0&&p.call(i,T)&&(O[T]=i[T]);return O};const l=i=>{var v=i,{svgParams:O}=v,T=M(v,["svgParams"]);return(0,t.h)(s.l,D(w({},T),{name:"SubstackIcon",svgParams:w({height:1e3,width:1e3,fill:f.Hu,stroke:"none"},O)}),(0,t.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,t.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,t.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))}},33705:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l});var t=e(6400),f=e(22850),s=e(34755),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(i,v,O)=>v in i?g(i,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):i[v]=O,w=(i,v)=>{for(var O in v||(v={}))u.call(v,O)&&d(i,O,v[O]);if(C)for(var O of C(v))p.call(v,O)&&d(i,O,v[O]);return i},D=(i,v)=>P(i,y(v)),M=(i,v)=>{var O={};for(var T in i)u.call(i,T)&&v.indexOf(T)<0&&(O[T]=i[T]);if(i!=null&&C)for(var T of C(i))v.indexOf(T)<0&&p.call(i,T)&&(O[T]=i[T]);return O};const l=i=>{var v=i,{color:O=f.Hu}=v,T=M(v,["color"]);return(0,t.h)(s.l,D(w({},T),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:O,stroke:"none"}}),(0,t.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,t.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,t.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,t.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,t.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,t.h)("path",{d:"M16 0H0V2H16V0Z"}))},95950:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,t.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,t.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},51736:(H,E,e)=>{"use strict";e.d(E,{Z:()=>c});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(l,i,v)=>i in l?s(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,d=(l,i)=>{for(var v in i||(i={}))C.call(i,v)&&p(l,v,i[v]);if(y)for(var v of y(i))u.call(i,v)&&p(l,v,i[v]);return l},w=(l,i)=>g(l,P(i)),D=(l,i)=>{var v={};for(var O in l)C.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&y)for(var O of y(l))i.indexOf(O)<0&&u.call(l,O)&&(v[O]=l[O]);return v};const c=l=>{var i=l,{fill:v="#FF6719"}=i,O=D(i,["fill"]);return(0,t.h)(f.l,w(d({},O),{fill:v,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,t.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:v,stroke:"transparent"}),(0,t.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(H,E,e)=>{"use strict";e.d(E,{Z:()=>M});var t=e(6400),f=e(34755),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?s(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>g(c,P(l));const M=c=>(0,t.h)(f.l,w(d({},c),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,t.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,t.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},34755:(H,E,e)=>{"use strict";e.d(E,{l:()=>w});var t=e(6400),f=e(52743),s=e(25702),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,u=(D,M,c)=>M in D?g(D,M,{enumerable:!0,configurable:!0,writable:!0,value:c}):D[M]=c,p=(D,M)=>{for(var c in M||(M={}))y.call(M,c)&&u(D,c,M[c]);if(P)for(var c of P(M))C.call(M,c)&&u(D,c,M[c]);return D},d=(D,M)=>{var c={};for(var l in D)y.call(D,l)&&M.indexOf(l)<0&&(c[l]=D[l]);if(D!=null&&P)for(var l of P(D))M.indexOf(l)<0&&C.call(D,l)&&(c[l]=D[l]);return c};const w=D=>{var M=D,{name:c,svgParams:l,isStatic:i,height:v,fill:O,stroke:T,version:I=4,strokeWidth:L=1.8,strokeLinecap:S,strokeLinejoin:N,alt:R,additionalStaticParams:U={},children:W}=M,K=d(M,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const G=v?(l.width||1)*v/(l.height||1):l.width||1,re=v||l.height||1;return i?(0,t.h)(s.Z,p(p({src:(0,f.imginary)((0,f.pathWithQuery)(`/icon/${c}`,{v:I||4,height:re*2,fill:O,stroke:T,strokeWidth:L*2,strokeLinecap:S,strokeLinejoin:N}),G*2,{format:"png",crop:"scale"}),width:G,height:re,style:{maxWidth:`${G}px`},alt:R||""},U),K)):(0,t.h)("svg",p({role:"img",style:v?{height:`${re}px`,width:`${G}px`}:void 0,width:G,height:re,viewBox:l.viewBox||`0 0 ${l.width} ${l.height}`,fill:O||l.fill||"none",strokeWidth:L||typeof L=="number"?Number(L):typeof l.strokeWidth=="number"?l.strokeWidth:1,stroke:T||l.stroke||"#000",strokeLinecap:S,strokeLinejoin:N,xmlns:"http://www.w3.org/2000/svg"},K),(0,t.h)("g",null,(0,t.h)("title",null,R||""),W))}},25702:(H,E,e)=>{"use strict";e.d(E,{Z:()=>D});var t=e(6400),f=e(30396),s=e(46505),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,u=(M,c,l)=>c in M?g(M,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):M[c]=l,p=(M,c)=>{for(var l in c||(c={}))y.call(c,l)&&u(M,l,c[l]);if(P)for(var l of P(c))C.call(c,l)&&u(M,l,c[l]);return M},d=(M,c)=>{var l={};for(var i in M)y.call(M,i)&&c.indexOf(i)<0&&(l[i]=M[i]);if(M!=null&&P)for(var i of P(M))c.indexOf(i)<0&&C.call(M,i)&&(l[i]=M[i]);return l};const D=M=>{const c=M,{ampProps:l}=c,i=d(c,["ampProps"]);return(0,f.qp)(s.E).isAmp?(0,t.h)("amp-img",p(p({},l),i)):(0,t.h)("img",p({},i))}},49786:(H,E,e)=>{"use strict";e.d(E,{hF:()=>q,_q:()=>F,xt:()=>Z,G0:()=>re,RH:()=>$});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(36808),y=e(34988),C=e(19072),u=e(59009),p=e(85928),d=e.n(p),w=e(20501),D=e(83322),M=e(63270),c=e(3258),l=e(36868),i=e(17025),v=e(84040),O=e(51126),T=e(62246),I=e(43887);const L={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var S=Object.defineProperty,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,W=(V,j,Y)=>j in V?S(V,j,{enumerable:!0,configurable:!0,writable:!0,value:Y}):V[j]=Y,K=(V,j)=>{for(var Y in j||(j={}))R.call(j,Y)&&W(V,Y,j[Y]);if(N)for(var Y of N(j))U.call(j,Y)&&W(V,Y,j[Y]);return V};const G=C.Ic.LIKE_UPSELL_LAST_SHOWN_AT,re=()=>{const V=P.get(G);if(V){const j=d()(V),Y=d()().subtract(30,"days");if(j.isAfter(Y))return!1}return!0},$=V=>{P.set(G,d()().format(),K({expires:365*10},!V.custom_domain&&{domain:`.${new URL((0,w.getBaseUrl)()).hostname}`}))},F=({pub:V})=>{var j,Y;const ie=(0,M.xR)(),[ce,de]=(0,f.eJ)((j=V==null?void 0:V.plans)==null?void 0:j[0]),z=ie.getConfigFor("disable_monthly_subscriptions"),Q=ie.getConfigFor("disable_annual_subscriptions");return(0,t.h)(O.tu,{gap:20},(0,t.h)(O.tu,{gap:4},(0,t.h)(I.xv.H4,{weight:"semibold"},"Support ",V.name),(0,t.h)(I.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",V.name," with a subscription?")),(0,t.h)("form",{className:L.form},(0,t.h)(O.tu,{gap:12},(Y=V==null?void 0:V.plans)==null?void 0:Y.map(ae=>{if(!(ae.interval==="month"&&z)&&!(ae.interval==="year"&&Q))return(0,t.h)("label",{className:L.label,key:ae.id},(0,t.h)(O.gq,{gap:12,alignItems:"center"},(0,t.h)("input",{name:"plan",type:"radio",value:ae.id,onInput:()=>de(ae),checked:ce&&ce.id===ae.id,className:g()({[L.selectedInput]:ce&&ce.id===ae.id},L.input)}),(0,t.h)(O.gq,{gap:8},(0,t.h)(I.xv.B4,{as:"span",weight:"semibold",color:ce&&ce.id===ae.id?"primary":"secondary"},(0,D.getPlanTitle)(ae,V.language)),(0,t.h)(I.xv.B4,{as:"span",color:"secondary"},(0,D.planBasePricing)(ae)))))}))),(0,t.h)(v.zx,{onClick:()=>{(0,c.track)(c.EVENTS.LIKE_UPSELL_PLAN_SELECTED),(0,i.redirect)((0,w.getSubscribeUrl)(V,{params:K({utm_source:u.UTM_SOURCE.likeButtonUpsell},ce&&{selectedPlanId:ce.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},Z=({pub:V,onClose:j,shareDialogRef:Y})=>(0,t.h)(O.tu,{gap:20},(0,t.h)(O.tu,{gap:4},(0,t.h)(I.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,t.h)(I.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,t.h)(v.zx,{onClick:()=>{var ie;(0,c.track)(c.EVENTS.LIKE_UPSELL_SHARE_CLICKED),(ie=Y.current)==null||ie.open(),j==null||j()},grow:!0,priority:"primary-theme"},"Share")),q=({user:V,pub:j,post:Y})=>{const ie=(0,f.sO)(),ce=re(),[de,z]=(0,f.eJ)(ce),[Q,ae]=(0,f.eJ)(ce);(0,f.d4)(()=>{(!ce||V!=null&&V.is_contributor||V!=null&&V.is_admin)&&(0,i.removeQueryParam)("show_reaction_upsell")},[ce,V]),(0,f.d4)(()=>{Q&&de&&((0,c.track)(c.EVENTS.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,l.P)(V,j)?"share":"paid"}),$(j))},[Q,de,j,V]);const te=()=>{z(!de),ae(!1),(0,i.removeQueryParam)("show_reaction_upsell")};return V&&!V.is_contributor&&!V.is_admin&&Q?(0,t.h)(t.Fragment,null,(0,t.h)(T.u_,{isOpen:de,onClose:te},(0,t.h)(T.fe,null,(0,l.P)(V,j)?(0,t.h)(Z,{pub:j,onClose:te,shareDialogRef:ie}):(0,t.h)(F,{pub:j}))),(0,t.h)(y.ZP,{ref:ie,user:V,pub:j,post:Y})):null}},65726:(H,E,e)=>{"use strict";e.d(E,{Z:()=>d});var t=e(6400),f=Object.defineProperty,s=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,y=(w,D,M)=>D in w?f(w,D,{enumerable:!0,configurable:!0,writable:!0,value:M}):w[D]=M,C=(w,D)=>{for(var M in D||(D={}))g.call(D,M)&&y(w,M,D[M]);if(s)for(var M of s(D))P.call(D,M)&&y(w,M,D[M]);return w},u=(w,D)=>{var M={};for(var c in w)g.call(w,c)&&D.indexOf(c)<0&&(M[c]=w[c]);if(w!=null&&s)for(var c of s(w))D.indexOf(c)<0&&P.call(w,c)&&(M[c]=w[c]);return M};const d=w=>{var D=w,{children:M,href:c,onClick:l}=D,i=u(D,["children","href","onClick"]);return(0,t.h)("a",C(C({role:"button",tabIndex:0,href:c!=null?c:"javascript:void(0)"},l&&{onClick:),i),M)}},86602:(H,E,e)=>{"use strict";e.r(E),e.d(E,{chatMentionsSearch:()=>R,default:()=>I,mentionsSearch:()=>S});var t=e(6400),f=e(80569),s=e.n(f),g=e(20501),P=e(92643),y=e(44695),C=e(80332);const u={mention:"frontend-components-mention-module__mention--UisMf"};var p=Object.defineProperty,d=Object.defineProperties,w=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(U,W,K)=>W in U?p(U,W,{enumerable:!0,configurable:!0,writable:!0,value:K}):U[W]=K,i=(U,W)=>{for(var K in W||(W={}))M.call(W,K)&&l(U,K,W[K]);if(D)for(var K of D(W))c.call(W,K)&&l(U,K,W[K]);return U},v=(U,W)=>d(U,w(W)),O=(U,W,K)=>new Promise((G,re)=>{var $=q=>{try{Z(K.next(q))}catch(V){re(V)}},F=q=>{try{Z(K.throw(q))}catch(V){re(V)}},Z=q=>q.done?G(q.value):Promise.resolve(q.value).then($,F);Z((K=K.apply(U,W)).next())});const I=({id:U,type:W,name:K,url:G,photo_url:re,uuid:$,mentionText:F,isStatic:Z=!1,isEditorContext:q=!1})=>{if(Z)return(0,t.h)("span",{className:u.mention,"data-component-name":"MentionStatic"},(0,t.h)("a",{href:(0,g.getMentionsUrl)(W,U,K,G)},K||"Substack user"));if(W==="user"){const V={id:U,name:K||"Substack user",photo_url:re};return(0,t.h)(P.am,null,(0,t.h)(C.ProfileHoverCard,{subject:V,utmSource:"mention"},(0,t.h)("a",{className:u.mention,href:q?void 0:(0,g.getMentionsUrl)(W,U,K,G),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:K,id:U,type:W,url:G,photo_url:re,uuid:$}),onClick:j=>j.stopPropagation(),"data-component-name":"MentionUser"},F!=null?F:K)))}return W==="pub"?(0,t.h)(y.Sm,{publication_id:U,utmSource:"mention"},(0,t.h)("a",{className:u.mention,href:G,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:K,id:U,type:W,url:q?void 0:(0,g.getMentionsUrl)(W,U,K,G),uuid:$}),onClick:V=>V.stopPropagation(),"data-component-name":"MentionPub"},F!=null?F:K)):(0,t.h)("a",{className:u.mention,target:"_blank",rel:"noopener",href:(0,g.getMentionsUrl)(W,U,K,G),"data-attrs":JSON.stringify({name:K,id:U,type:W,url:G,photo_url:re,uuid:$}),"data-component-name":"Mention"},F!=null?F:K)},L={},S=(U,...W)=>O(void 0,[U,...W],function*(K,{pathname:G="/api/v1/posts/mention"}={}){if(L[K])return L[K];const re=yield s().get(G).query({query:K}),{profiles:$,publications:F}=re.body,Z=new Map;return $&&$.length&&Z.set("Writers",$.map(q=>v(i({},q),{type:"user"}))),F&&F.length&&Z.set("Publications",F==null?void 0:F.map(q=>v(i({},q),{type:"pub",url:(0,g.getPublicationAppLinkUrl)({subdomain:q.subdomain}),photo_url:q.logo_url}))),L[K]=Z,Z}),N={},R=(U,...W)=>O(void 0,[U,...W],function*(K,{pathname:G="/api/v1/community/mention"}={}){const re=`${G}-${K}`;if(N[re])return N[re];const $=yield s().get(G).query({query:K}),{results:F}=$.body,Z=new Map;return F&&Z.set("Writers",F.map(q=>v(i({},q),{type:"user",id:q.user_id}))),N[re]=Z,Z})},63397:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l,p:()=>i});var t=e(6400),f=e(94184),s=e.n(f),g=e(71375),P=e(17025),y=e.n(P),C=e(84040),u=Object.defineProperty,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(v,O,T)=>O in v?u(v,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):v[O]=T,M=(v,O)=>{for(var T in O||(O={}))d.call(O,T)&&D(v,T,O[T]);if(p)for(var T of p(O))w.call(O,T)&&D(v,T,O[T]);return v},c=(v,O,T)=>new Promise((I,L)=>{var S=U=>{try{R(T.next(U))}catch(W){L(W)}},N=U=>{try{R(T.throw(U))}catch(W){L(W)}},R=U=>U.done?I(U.value):Promise.resolve(U.value).then(S,N);R((T=T.apply(v,O)).next())});class l extends t.Component{constructor(O,T){super(O,T),this.onDocumentKeyDown=I=>{I.key==="Escape"&&!this.props.noExit&&!(0,P.isFocused)(this.base)&&this.close()},this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMountomponentWillUnmountpenImmediately(O){O&&(this._callback=O);const T=document.getElementsByTagName("html")[0];(0,P.hasClass)(T,"modal-in")||(0,P.addClass)(T,"modal-in"),this.setState({display:!0,open:!0})}open(O){return c(this,null,function*(){O&&(this._callback=O);const T=document.getElementsByTagName("html")[0];(0,P.hasClass)(T,"modal-in")||(0,P.addClass)(T,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(I=>{this.setState({display:!0},()=>{this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),I()})},50)})})})}close(O){return c(this,null,function*(){this.isOpen()&&this.onBeforeClose(O)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(O)===!1||((0,P.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(T=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(O),this.props.onClose&&this.props.onClose(O),this._callback&&this._callback(O),T()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(O){var T,I;O.stopPropagation(),(I=(T=this.props).onClick)==null||I.call(T,O),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&O.target&&this.container&&this.close()}onClickInner(O){var T,I;O.stopPropagation(),(I=(T=this.props).onClick)==null||I.call(T,O)}render(){const O=this.state.open?"in":"out",T=this.state.display===!1?"gone":"",I=this.props.variant==="structured",L=!this.state.open;return(0,t.h)("div",{className:s()("modal typography",O,T,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":I,popup:this.popup}),inert:L,onClick:S=>this.onClickOuter(S),"data-testid":this.props.testID,role:"dialog"},(0,t.h)("div",{className:"modal-table"},(0,t.h)("div",{className:"modal-row"},(0,t.h)("div",{ref:S=>this.content=S,className:s()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,t.h)("div",M({className:s()({container:!I}),ref:S=>this.container=S,onClick:S=>this.onClickInner(S)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,P.isMobileBrowser)())&&(I?(0,t.h)("div",{className:"structured-modal__close-button"},(0,t.h)(C.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,t.h)(g.Z,{size:20,color:"secondary"}))):(0,t.h)(C.hU,{"data-testid":"close-modal",className:s()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,t.h)(g.Z,{size:20,color:"secondary"}))),I?(0,t.h)("div",{className:"structured-modal__wrapper"},(0,t.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,t.h)("h3",null,this.props.modalTitle):(0,t.h)("h3",null,"\xA0")),(0,t.h)("div",{className:"structured-modal__body"},(0,t.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,t.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}enderChildren({children:O},T){return O}}class i extends l{},80012:(H,E,e)=>{"use strict";e.d(E,{l:()=>I,y:()=>T});var t=e(6400),f=e(30396),s=e(50308),g=e.n(s),P=e(80569),y=e.n(P),C=e(39776),u=e(52743),p=e(83322),d=e(3258),w=e(17025),D=e.n(w),M=e(44454),c=e(46595),l=e(22702),i=e(65726),v=e(20501),O=(L,S,N)=>new Promise((R,U)=>{var W=re=>{try{G(N.next(re))}catch($){U($)}},K=re=>{try{G(N.throw(re))}catch($){U($)}},G=re=>re.done?R(re.value):Promise.resolve(re.value).then(W,K);G((N=N.apply(L,S)).next())});class T extends t.Component{constructor(){super(...arguments),this.toggleTopExclusion=S=>(0,w.stateTransaction)(this,(N,R)=>O(this,[N,R],function*(U,{post:W,onChange:K}){if(U.topExcluding)return;this.setState({topExcluding:S.id});const G=W.top_exclusions.includes(S.id),re=`/api/v1/publication/${S.id}/exclusion/${W.id}`;try{G?(yield y().del(re),W.top_exclusions.splice(0)):(yield y().post(re),W.top_exclusions.splice(0),W.top_exclusions.push(S.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch($){console.error("Failed to exclude post:",$),alert((0,w.getNetworkErrorMessage)($));return}finally{this.setState({topExcluding:null})}K&&(yield K({post:W}))})),this.toggleSectionPin=(S,N)=>(0,w.stateTransaction)(this,(R,U)=>O(this,[R,U],function*(W,{post:K,onChange:G}){if(W.pinning)return;this.setState({sectionPinning:N});const re=`/api/v1/publication/${S.id}/section/${N}/pin/${K.id}`;try{K.is_section_pinned?(yield y().del(re),K.is_section_pinned=!1):(yield y().post(re),K.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch($){console.error("Failed to pin post:",$),alert((0,w.getNetworkErrorMessage)($));return}finally{this.setState({sectionPinning:null})}G&&(yield G({post:K}))})),this.togglePin=S=>(0,w.stateTransaction)(this,(N,R)=>O(this,[N,R],function*(U,{post:W,onChange:K}){if(U.pinning)return;this.setState({pinning:S.id});const G=W.pins.includes(S.id),re=`/api/v1/publication/${S.id}/pin/${W.id}`;try{G?(yield y().del(re),W.pins.splice(W.pins.indexOf(S.id),1)):(yield y().post(re),S.multiple_pins||W.pins.splice(0),W.pins.push(S.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch($){console.error("Failed to pin post:",$),alert((0,w.getNetworkErrorMessage)($));return}finally{this.setState({pinning:null})}K&&(yield K({post:W}))})),this.sendEmail=()=>O(this,null,function*(){const{post:S}=this.props,N={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[S.audience];if(!confirm(`Send this published post as an email to ${N}?`))return;const R=`/api/v1/drafts/${S.id}/publish`;try{yield y().post(R).send({send:!0,only_send:!0}),location.reload()}catch(U){console.error("Failed to send post:",U),alert((0,w.getNetworkErrorMessage)(U))}}),this.clearCache=()=>O(this,null,function*(){const{post:S}=this.props;try{yield y().put(`/api/v1/posts/${S.id}/clear_cache`),location.reload()}catch(N){console.error("Failed to clear post from cache"),alert((0,w.getNetworkErrorMessage)(N))}}),this.duplicatePost=()=>O(this,null,function*(){this.setState({duplicating:!0});const{pub:S,post:N}=this.props;try{const R=yield y().post(`/api/v1/posts/${N.id}/duplicate`);(0,w.redirect)((0,u.getEditPostUrlById)(S,R.body.id,R.body.editor_v2),{local_navigation:!1})}catch(R){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,w.getNetworkErrorMessage)(R))}})}oggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:S,post:N,hidePinning:R,user:U,emailSent:W,allowSendEmail:K,className:G,useDrawerOnMobile:re,handleCrossPost:$,onToggleMenu:F},{pinning:Z,sectionPinning:q,topExcluding:V,duplicating:j}){let Y=null;N.section_id&&S.sections&&S.sections.length&&(Y=S.sections.find(de=>de.id===N.section_id));let ie="";typeof window!="undefined"&&(ie=window.location.pathname);const ce=!!(0,C.default)("enable_post_summarization");return(0,t.h)(M.ZP,{attachOnActive:!0,ref:de=>this.editMenu=de,className:G,useDrawerOnMobile:re,onToggle:F},(0,t.h)(i.Z,{href:(0,u.getPostUrl)(S,N,{edit:!0}),onClick:g()},"Edit post"),(0,t.h)(i.Z,{href:(0,v.getPostDetailsPageUrl)(void 0,N.id,{referrer:ie}),onClick:g()},"View post stats"),!R&&N.slug&&[(0,p.isPinnable)(S)&&N.section_id&&(N.section_name||(Y==null?void 0:Y.name))&&(0,t.h)(i.Z,{onClick:,[N.is_section_pinned^q===N.section_id?"Unpin from":"Pin on",` ${N.section_name||(Y==null?void 0:Y.name)}`]),(0,p.isPinnable)(S)&&(0,t.h)(i.Z,{onClick:()=>this.togglePin(S)},[N.pins.includes(S.id)^Z===S.id?"Unpin from":"Pin on",Y?` ${S.name}`:" homepage"])],N.slug&&N.type!=="adhoc_email"&&[(0,t.h)(i.Z,{onClick:()=>this.toggleTopExclusion(S)},[N.top_exclusions.includes(S.id)^V===S.id?"Include in":"Exclude from"," Top"])],(0,t.h)(i.Z,{disabled:j,onClick:()=>this.duplicatePost()},j?"Duplicating":"Duplicate"," to drafts"),!W&&K&&N.is_published&&(0,t.h)(i.Z,{onClick:()=>this.sendEmail()},"Send as email"),(U==null?void 0:U.is_global_admin)&&(0,t.h)(i.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(U==null?void 0:U.is_global_admin)&&(0,t.h)(i.Z,{href:`${(0,u.getBaseUrl)({subdomain:"admin"})}/posts/${N.id}`},"View post in admin"),(0,t.h)(i.Z,{onClick:()=>{window.open((0,u.getPostDetailsShareCenterUrl)(S,N.id))}},"View shareable images"),!!(ce&&this.props.onSummaryOpen)&&(0,t.h)(i.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),$&&(0,t.h)(i.Z,{onClick:$},"Cross post"))}}T.state={duplicating:!1};function I({pub:L,post:S,iconHeight:N,hidePinning:R,user:U,emailSent:W,allowSendEmail:K,showUpdatedIcons:G,dropdownClassName:re,iconClassName:$}){const F=(0,f.sO)();return(0,t.h)(t.Fragment,null,(0,t.h)(i.Z,{onClick:()=>{F.current.isOpen()||(0,d.track)(d.EVENTS.EDIT_POST_DROPDOWN_MENU_OPENED),F.current.toggle()}},G?(0,t.h)(l.Z,{stroke:"#262626",height:N,className:$}):(0,t.h)(c.Z,{stroke:"#757575",height:N,className:$})),(0,t.h)(T,{ref:F,pub:L,post:S,hidePinning:R,user:U,emailSent:W,allowSendEmail:K,className:re}))}},31058:(H,E,e)=>{"use strict";e.d(E,{PA:()=>Ar,mt:()=>dn,_2:()=>Nr,Mp:()=>Pi,L9:()=>Qa,RY:()=>Ea,pD:()=>ya,yT:()=>qa,Ng:()=>ao,fh:()=>Wo,Su:()=>nr,TJ:()=>ho,z5:()=>Lo,Er:()=>Kn,Cz:()=>mo,F6:()=>ro,sV:()=>Zr,vk:()=>Vn,c1:()=>yo});var t=e(6400),f=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(12297),C=e.n(y),u=e(23493),p=e.n(u),d=e(80587),w=e(77951),D=e(95951),M=e(65207),c=e(13808),l=e(18794),i=e(8618),v=e(31131),O=e(67358),T=e(80569),I=e.n(T),L=e(66298),S=e(34755),N=Object.defineProperty,R=Object.defineProperties,U=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,re=(ut,pt,Et)=>pt in ut?N(ut,pt,{enumerable:!0,configurable:!0,writable:!0,value:Et}):ut[pt]=Et,$=(ut,pt)=>{for(var Et in pt||(pt={}))K.call(pt,Et)&&re(ut,Et,pt[Et]);if(W)for(var Et of W(pt))G.call(pt,Et)&&re(ut,Et,pt[Et]);return ut},F=(ut,pt)=>R(ut,U(pt));const q=ut=>(0,t.h)(S.l,F($({},ut),{name:"LucideArrowUpRight",svgParams:{height:24,width:24}}),(0,t.h)(L.Z,{height:24,stroke:ut.stroke,fill:ut.fill,strokeWidth:ut.strokeWidth}));var V=e(55489),j=e(34988),Y=e(17087),ie=e(59009),ce=e(82626),de=e(85928),z=e.n(de),Q=e(6385),ae=e(91613),te=e(52743),oe=e(20501),ue=e(83322),ee=e(2405),le=e(28488),se=e(85065),fe=e(32076),ve=e(63270),ge=e(18597),be=e(16181),ne=e(3258),me=e(8479),Le=e(35225),Re=e(36868),Me=e(17025),Ee=e(84040),we=e(51126),Te=e(12876),De=e(62246),Be=e(43887),Ke=e(75425),tt=e(16742),Ot=e(25597),et=e(55525),it=e(44454),bt=e(45634),xe=Object.defineProperty,Oe=Object.defineProperties,Ie=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,st=(ut,pt,Et)=>pt in ut?xe(ut,pt,{enumerable:!0,configurable:!0,writable:!0,value:Et}):ut[pt]=Et,qe=(ut,pt)=>{for(var Et in pt||(pt={}))Ge.call(pt,Et)&&st(ut,Et,pt[Et]);if(We)for(var Et of We(pt))Xe.call(pt,Et)&&st(ut,Et,pt[Et]);return ut},Ze=(ut,pt)=>Oe(ut,Ie(pt));const yt=ut=>(0,t.h)(bt.Z,Ze(qe({},ut),{name:"ActivationUsersIcon"}),(0,t.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));var Mt=e(15440),Ht=e(63295),Gt=e(12650),zt=e(43498),Kt=e(11628),Ir=Object.defineProperty,or=Object.defineProperties,cr=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertySymbols,wr=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable,Hr=(ut,pt,Et)=>pt in ut?Ir(ut,pt,{enumerable:!0,configurable:!0,writable:!0,value:Et}):ut[pt]=Et,Wr=(ut,pt)=>{for(var Et in pt||(pt={}))wr.call(pt,Et)&&Hr(ut,Et,pt[Et]);if(Tt)for(var Et of Tt(pt))Br.call(pt,Et)&&Hr(ut,Et,pt[Et]);return ut},Rr=(ut,pt)=>or(ut,cr(pt));const Xr=ut=>(0,t.h)(S.l,Rr(Wr({},ut),{name:"LucideShare2",svgParams:{height:24,width:24}}),(0,t.h)(v.Z,{height:24,stroke:ut.stroke,fill:ut.fill,strokeWidth:ut.strokeWidth}));var tn=e(31517),Cn=e(11762),rn=e(49786),En=e(80012),mn=e(80332),Ln=e(91801),Rn=e(13045),wn=e(96427),Jn=e(39493),nt=e(71943);const Nt={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var Zt=Object.defineProperty,rr=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable,$e=(ut,pt,Et)=>pt in ut?Zt(ut,pt,{enumerable:!0,configurable:!0,writable:!0,value:Et}):ut[pt]=Et,at=(ut,pt)=>{for(var Et in pt||(pt={}))Pr.call(pt,Et)&&$e(ut,Et,pt[Et]);if(rr)for(var Et of rr(pt))Mr.call(pt,Et)&&$e(ut,Et,pt[Et]);return ut},ke=(ut,pt,Et)=>new Promise((er,hr)=>{var Er=Tr=>{try{gr(Et.next(Tr))}catch(Dr){hr(Dr)}},Or=Tr=>{try{gr(Et.throw(Tr))}catch(Dr){hr(Dr)}},gr=Tr=>Tr.done?er(Tr.value):Promise.resolve(Tr.value).then(Er,Or);gr((Et=Et.apply(ut,pt)).next())});const Qe={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},dt={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},Lt={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},gt=({pub:ut,post:pt,user:Et,open:er,setOpen:hr,placeholderText:Er=""})=>{const Or=z()().add(2,"minutes"),[gr,Tr]=(0,s.eJ)(null),[Dr,en]=(0,s.eJ)(Er),[zr,Qr]=(0,s.eJ)(!1),[hn,bn]=(0,s.eJ)(!0),[$n,kn]=(0,s.eJ)(Qe.PREAMBLE),[no,io]=(0,s.eJ)(null),[Fe,ot]=(0,s.eJ)(null),[_t,Wt]=(0,s.eJ)(!0),[_r,Ur]=(0,s.eJ)(!0),[ln,Dn]=(0,s.eJ)(!1),[An,oo]=(0,s.eJ)(z()().add(1,"day").toDate()),[bo,Ro]=(0,s.eJ)(""),{getConfigFor:Ba}=(0,ve.xR)(),ei={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Fe],Pa=_t?"Send":"Publish",ka=ln&&An?z()(An).max(Or).fromNow():"",Fa=`${Pa} cross-post ${_t?ei:""} ${ka}`,aa=gr==null?void 0:gr.find(_n=>_n.id===no),Yo=(0,Ke.pm)();(0,s.d4)(()=>{er&&!gr&&hn&&(()=>ke(void 0,null,function*(){var Jo;try{const co=yield I().get("/api/v1/restack/restackable-pubs"),ia=((Jo=co==null?void 0:co.body)==null?void 0:Jo.publications)||[];Tr(ia),bn(!1),ia.length>0&&(io(ia[0].id),ot("everyone"))}catch(co){console.error("Failed to load user profile for restacking: ",co)}}))()},[er,Et,hn,bn,gr,Tr]),(0,s.d4)(()=>{er&&gr&&gr.length===0&&!hn&&(0,Me.redirect)((0,te.getStartPublishingUrl)())},[er,gr,hn]);const so=(_n,Jo)=>{hr(!er,Jo),kn(Qe.PREAMBLE),Ro(null),bn(!1),Jo&&(en(""),(0,ne.track)(ne.EVENTS.RESTACK_POST_SUBMITTED,{restacked_publication_id:ut.id,restacked_post_id:pt.id,restacking_user_id:Et.id,restacking_publication_id:aa.id,restacking_blurb:Dr}),Yo.popToast(co=>(0,t.h)(Ke.FN,at({text:ln?`This post is scheduled to cross-post ${ka}`:"This post was cross-posted to your subscribers"},co)))),(0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_CLOSED,{didRestack:Jo})},Oi=()=>ke(void 0,null,function*(){(0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_SUBMIT_CLICKED),bn(!0);try{if(ln){const _n=z()(An).max(Or).toDate();yield I().post(`/api/v1/restack/${pt.id}/schedule`).send({audience:Fe,restackingPubId:aa.id,introText:Dr,sendEmail:_t,publishToWeb:_r,scheduledAt:_n})}else yield I().post(`/api/v1/restack/${pt.id}`).send({audience:Fe,restackingPubId:aa.id,introText:Dr,sendEmail:_t,publishToWeb:_r});(0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_SUBMITTED),so({},!0);return}catch(_n){if((0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_SUBMIT_FAILED,{error:(0,Me.getNetworkErrorMessage)(_n,"Could not retrieve error message")}),console.error("Failed to restack post:",_n),_n instanceof TypeError)throw Ro("An unknown error ocurred. This post was not recommended."),bn(!1),_n;Ro((0,Me.getNetworkErrorMessage)(_n,"This post could not be recommended.")),bn(!1)}});return(0,t.h)(De.u_,{isOpen:er,onClose:so},(0,t.h)(De.xB,{includeClose:!0,onClose:so,title:"Cross-post to your Substack"}),(0,t.h)("div",{"data-testid":"modal-ref-id",className:Nt.modalWrap},$n===Qe.PREAMBLE?(0,t.h)(we.tu,{gap:24,paddingTop:12},(0,t.h)(we.tu,{gap:16},(0,t.h)("textarea",at({className:Nt.textarea,placeholder:"Say why this post is worth reading...",onChange:_n=>{zr||(Qr(!0),(0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_TYPING_STARTED)),en(_n.target.value)},value:Dr,maxLength:"800"},nt.J)),(0,t.h)(we.tu,{gap:12,className:Nt.postPreview,paddingX:16,paddingY:16},(0,t.h)(we.gq,{alignItems:"center",gap:8},(0,t.h)(Jn.Z,{pub:ut,size:24,logo_url:ut.logo_url,linkify:!1,className:Nt.pubIcon,noMargin:!0}),(0,t.h)(Be.xv.B4,{color:"primary",weight:"semibold",size:14},ut.name)),(0,t.h)(we.tu,{gap:4},(0,t.h)(Be.xv.H4,{weight:"semibold"},pt.title),(0,t.h)(Be.xv.B3,{color:"secondary"},(0,ue.formatEllipsis)(((pt.truncated_body_text||"").replace(ce.Substitutions.PUBLICATION_NAME,ut.name)||pt.subtitle||"").substring(0,100)))))),bo&&(0,t.h)(Be.xv.B4,{color:"accent-red"},bo),(0,t.h)(Ee.zx,{priority:"primary-theme",onClick:()=>{if((0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_CONTINUE_CLICKED),!Dr){Ro("Please write something to your subscribers to continue"),(0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_CONTINUE_FAILED);return}Ro(""),kn(Qe.AUDIENCE_SELECTION),(0,ne.track)(ne.EVENTS.CROSS_POST_MODAL_CONTINUED)},disabled:hn||!Dr,className:"restack-modal-button "},"Continue")):(0,t.h)(we.tu,{gap:24,paddingTop:12},(0,t.h)(we.tu,{gap:20},(0,t.h)(we.tu,{gap:8},(0,t.h)(Be.xv.B3,null,"Post to"),(0,t.h)(wn.P,{value:aa.id,onChange:_n=>{ot("everyone"),io(Number(_n))},className:Nt.select},gr.map()),(0,t.h)(we.tu,{gap:8},(0,t.h)(Be.xv.B3,null,"Send to"),(0,t.h)(wn.P,{value:Fe,onChange:_n=>ot(_n),className:Nt.select},((aa==null?void 0:aa.payments_state)==="enabled"?(0,Q.getAudiencesForPublicListing)():["everyone"]).map())),(0,t.h)(we.tu,{gap:12},(0,t.h)(Be.xv.B3,null,"Delivery"),(0,t.h)(Rn.ji,{value:_t,label:"Send cross-post via email",onChange:_n=>Wt(_n)}),(0,t.h)(Rn.ji,{value:_r,label:"Publish cross-post to web",onChange:_n=>Ur(_n)}),(0,t.h)(Rn.ji,{value:ln,label:"Schedule time to publish cross-post",onChange:_n=>Dn(_n),contentBelow:(0,t.h)(Rn.HZ,{expanded:ln},(0,t.h)(we.tu,{paddingTop:8},(0,t.h)(Rn.Tz,{value:An!=null?An:new Date,max:z()().add(92,"days").toDate(),onChange:)))})),bo&&(0,t.h)(Be.xv.B4,{color:"accent-red"},bo),(0,t.h)(Ee.zx,{priority:!_t&&!_r?"secondary":"primary-theme",onClick:Oi,disabled:hn||!_t&&!_r,className:"restack-modal-button "},Fa))))};var ct=Object.defineProperty,Qt=Object.defineProperties,He=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Yt=(ut,pt,Et)=>pt in ut?ct(ut,pt,{enumerable:!0,configurable:!0,writable:!0,value:Et}):ut[pt]=Et,pr=(ut,pt)=>{for(var Et in pt||(pt={}))St.call(pt,Et)&&Yt(ut,Et,pt[Et]);if(ft)for(var Et of ft(pt))Vt.call(pt,Et)&&Yt(ut,Et,pt[Et]);return ut},dr=(ut,pt)=>Qt(ut,He(pt)),vr=(ut,pt,Et)=>new Promise((er,hr)=>{var Er=Tr=>{try{gr(Et.next(Tr))}catch(Dr){hr(Dr)}},Or=Tr=>{try{gr(Et.throw(Tr))}catch(Dr){hr(Dr)}},gr=Tr=>Tr.done?er(Tr.value):Promise.resolve(Tr.value).then(Er,Or);gr((Et=Et.apply(ut,pt)).next())});function nr(ut,pt){return ut==="button"&&pt==="verbose"?16:ut==="button"?20:ut==="tabs"?24:ut==="compressed"?16:ut==="large-on-dark"?20:0}const Ar=2,sn=({isFullWidth:ut,children:pt})=>ut?(0,t.h)(we.gq,{className:"post-ufi-button-wrapper",gap:8},pt):pt;function Nr({post:ut,pub:pt,user:Et,style:er,justified:hr,isStatic:Er,hideReactions:Or,hideComments:gr,hideShare:Tr,hideSavePost:Dr,useShareLabel:en,allowEdit:zr,editButtonIsLast:Qr,onChange:hn,addedPodcastComments:bn,hidePinning:$n,showEmailSent:kn,allowSendEmail:no,footerHidden:io,onCommentsClick:Fe,onClipClick:ot,labelStyle:_t,showPreamble:Wt,preambleConfig:_r={},position:Ur,hideByDisabling:ln,showRestackButton:Dn,showRestackModal:An,showClipping:oo,hideFeedRestackButton:bo,onToggleMenu:Ro,postReactionToken:Ba}){const ei=(0,ge.Tf)(),{showPins:Pa,showAudience:ka,showDate:Zo,showDatetime:Fa,showAuthor:aa,showPublicationName:Yo,showCrossPostedPublicationName:so}=_r;Or=Or||!pt.community_enabled||!ut.slug||ut.is_draft;const Oi=C()(Object.values((ut==null?void 0:ut.reactions)||{})),_n=kn?!!ut.email_sent_at:null,Jo=(0,ee.LC)(),co=zr&&(Et==null?void 0:Et.is_contributor)&&!Jo,ia=Gr({post:ut,pub:pt,user:Et,defaultOpen:Dn&&An&&Ur!=="post-footer"&&Ur!=="post-footer-full-width"}),Ci=Et&&(0,t.h)(To,{style:er,pub:pt,post:ut,user:Et,hidePinning:$n,emailSent:_n!=null?_n:void 0,allowSendEmail:no,footerHidden:io,canBeCrossPosted:Dn,onToggleMenu:Ro}),Gi=!bo&&pt.community_enabled&&ut.slug&&!ut.is_draft,wi=Dn&&!Wt&&(ln||Or&&gr&&Tr&&!co),ti=_t==="counts-or-none"&&Oi?"count":_t==="labels"?"cta":"none",Oa=_t==="counts-or-none"&&ut.comment_count?"count":_t==="labels"?"cta":"none",_o=Et&&ut.videoUpload&&(0,Y.a)(Et,ut,ut.videoUpload),Si=Ur==="post-footer-full-width";return(0,t.h)("div",{className:P()("post-ufi",`style-${er}`,{justified:hr,themed:ei,"single-full-width-button":wi,"vertically-stacked":Ur==="shows-episode-player"})},(0,t.h)(sn,{isFullWidth:Si},Wt&&_r&&(0,t.h)(Xa,{pub:pt,post:ut,showPins:Pa,showAudience:ka,showDate:Zo,showDatetime:Fa,showEmailSent:kn,showAuthor:aa,showPublicationName:Yo,showCrossPostedPublicationName:so}),co&&!Qr&&Ci,oo&&ut.videoUpload&&(0,t.h)(et.O,{post:ut,mediaUpload:ut.videoUpload,disabled:!_o,onClipClick:ot,style:er}),(ln||!Or)&&(0,t.h)(Bn,{post:ut,pub:pt,user:Et,labelStyle:ln&&Or?"none":ti,style:er,onChange:hn,isStatic:Er,isDisabled:ln&&Or||Ur==="shows-episode-player"&&!Et,postReactionToken:Ba}),(ln||!gr)&&(0,t.h)(No,{post:ut,pub:pt,isStatic:Er,labelStyle:ln&&gr?"none":Oa,style:er,count:ut.comment_count+(bn||0),onClick:Fe,isDisabled:ln&&gr}),Gi&&Et&&(0,t.h)($r,{pub:pt,post:ut,onChange:hn,style:er,onToggleMenu:Ro}),!Tr&&(0,t.h)(V.s,{post:ut,pub:pt,user:Et,trigger:{style:er,labelStyle:en?"cta":"none",isStatic:Er},position:Ur})),(0,t.h)(sn,{isFullWidth:Si},!Dr&&!Dn&&Et&&(0,t.h)(Fo,{post:ut,labelStyle:Oa,position:Ur,style:er,onChange:hn}),co&&Qr&&Ci,Dn&&!co&&Ur==="post-header"&&(0,t.h)(t.Fragment,null,(0,t.h)(Te.v2,{trigger:(0,t.h)(Ee.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,t.h)(d.Z,{size:20}))},Et&&(0,t.h)(oa,{onClick:ia.open,post:ut,pub:pt,user:Et}),(0,t.h)(Ao,{post:ut,onChange:hn}))),Dn&&!co&&Si&&(0,t.h)(t.Fragment,null,!Dr&&(0,t.h)(Fo,{post:ut,labelStyle:"verbose",position:Ur,style:"button",onChange:hn}),Et&&(0,t.h)(na,{onClick:ia.open,post:ut,pub:pt,user:Et,style:"button"}))),ia.modal)}function Gr({pub:ut,user:pt,post:Et,defaultOpen:er=!1}){const[hr,Er]=(0,s.eJ)(er);return(0,s.d4)(()=>{er&&pt&&(0,ne.track)(ne.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:ut.id,restacked_post_id:Et.id,restacking_user_id:pt.id,is_from_email:!0})},[er,ut,Et,pt]),{open:()=>Er(!0),modal:(0,t.h)(gt,{pub:ut,user:pt,post:Et,open:hr,setOpen:Er})}}function pn(){const pt=typeof window=="undefined",Et=250,[er,hr]=(0,s.eJ)(pt?0:window.pageYOffset),[Er,Or]=(0,s.eJ)(!1),gr=100,Tr=(0,s.Ye)([]),Dr=(0,s.sO)(0);return(0,s.d4)(()=>{if(pt)return;const en=p()(()=>{const zr=Date.now(),Qr=(zr-Dr.current)/1e3,bn=(er-window.pageYOffset)/Qr;Dr.current=zr,!(window.pageYOffset<0)&&(zr<Tr?Or(!1):-bn>gr?Or(!0):bn>gr&&Or(!1),hr(window.pageYOffset))},Et);return window.addEventListener("scroll",en),,[pt,er,hr,Or,Tr,Dr,!1]),Er}function dn({post:ut,pub:pt,user:Et,isStatic:er,onChange:hr,allowEdit:Er,hidePinning:Or,showEmailSent:gr,allowSendEmail:Tr,hideComments:Dr,onCommentsClick:en,showRestackButton:zr,showRestackModal:Qr,setFooterShown:hn,postReactionToken:bn}){const $n=pn(),kn=(0,Ke.pm)();return(0,s.d4)(()=>{kn.addOffset(64*($n?1:-1)),hn&&hn(!$n)},[$n,hn]),(0,t.h)(we.hs,{alignItems:"center",padding:8,className:P()("mobile-footer-ufi",{hidden:$n})},(0,t.h)(Nr,{post:ut,pub:pt,user:Et,isStatic:er,justified:!0,style:"tabs",onChange:hr,allowEdit:Er,editButtonIsLast:!0,hidePinning:Or,showEmailSent:gr,allowSendEmail:Tr,footerHidden:$n,labelStyle:"counts-or-none",hideComments:Dr,onCommentsClick:en,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:Qr,showRestackButton:zr,postReactionToken:bn}))}function vn({post:ut,pub:pt,user:Et,surface:er,onChange:hr,subscribePromptRef:Er,postReactionToken:Or}){const gr=!!(ut!=null&&ut.reaction),Tr=(0,ee.LC)(),Dr=(0,me.ib)({pathname:(0,oe.pathWithQuery)(Tr?`/api/v1/cross-post/${ut==null?void 0:ut.id}/reaction`:`/api/v1/post/${ut==null?void 0:ut.id}/reaction`,{token:Or}),method:"POST",deps:[ut==null?void 0:ut.id]}),en=(0,Le.S)({user:Et,noBase:!1});return{isLiked:gr,toggle:()=>vr(this,null,function*(){var zr;if(Dr.isLoading)return"error";gr||!en()&&Et&&!Et.is_admin&&!Et.is_contributor&&(Er!=null&&Er.current)&&(0,rn.G0)()&&((0,ne.track)(ne.EVENTS.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:Et!=null&&Et.is_free_subscribed?(0,Re.P)(Et,pt)?"share":"paid":"free"}),Er.current.open(),(0,rn.RH)(pt));const{reaction:Qr,reactions:hn,reactor_names:bn}=(0,Ln.fS)(Et,ut);ut.reaction=Qr,ut.reactions=hn,ut.reactor_names=bn,hr==null||hr({post:ut});const $n=yield Dr.refetch(Qr?{method:"POST",json:{reaction:"\u2764",surface:er}}:{method:"DELETE"}),kn=(zr=$n==null?void 0:$n.response)==null?void 0:zr.status;if(kn){const{reaction:no,reactions:io,reactor_names:Fe}=(0,Ln.fS)(Et,ut);ut.reaction=no,ut.reactions=io,ut.reactor_names=Fe,hr==null||hr({post:ut})}return kn===401?"unauthorized":kn?"error":Qr?"liked":"unliked"})}}function Zr(){const ut=ko();return(Et,er,...hr)=>vr(this,[Et,er,...hr],function*(Er,Or,{tabId:gr}={}){yield(0,me.rd)(`/api/v1/post/${Er}/reaction`,Or?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:gr}}:{method:"DELETE",json:{tabId:gr}}),ut(Or)})}function Bn({post:ut,pub:pt,user:Et,style:er,labelStyle:hr,onChange:Er,isStatic:Or,isDisabled:gr,postReactionToken:Tr}){const Dr=C()(Object.values((ut==null?void 0:ut.reactions)||{})),en=hr==="count"?(0,ue.numberToString)(Dr||0):hr==="cta"?"Like":null;return(0,t.h)(Qn,{post:ut,pub:pt,user:Et,onChange:Er,isStatic:Or,style:er,postReactionToken:Tr},({isLiked:zr,handleLike:Qr})=>(0,t.h)(ao,{style:er,state:zr?"liked":void 0,icon:(0,t.h)(Gt.Z,{className:"icon",height:nr(er),strokeWidth:Ar}),onClick:gr?()=>{}:Qr,noLabel:hr==="none",isDisabled:gr},en))}function Sr({style:ut,onClick:pt}){return(0,t.h)(ao,{style:ut,state:void 0,icon:(0,t.h)(w.Z,{className:"icon",height:nr(ut),strokeWidth:Ar}),"aria-label":"menu",onClick:pt})}function $r({pub:ut,post:pt,style:Et,onChange:er,onToggleMenu:hr}){const{canRestack:Er,isRestacked:Or,restacks:gr,menuItems:Tr,nuxModal:Dr}=(0,tt.K)({pub:ut,post:pt,onRestack:Qr=>{er==null||er({post:dr(pr({},pt),{restacked:Qr,restacks:gr+(Qr?1:-1)})})}});if(!Er)return null;const en=!ut.community_enabled,zr=(0,t.h)(ao,{style:Et,state:Or?"restacked":void 0,icon:(0,t.h)(tn.Z,{className:"icon",height:nr(Et),strokeWidth:Ar}),noLabel:gr===0,"aria-label":"menu",isDisabled:en},gr.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,t.h)(t.Fragment,null,Dr,en?zr:(0,t.h)(Te.v2,pr({trigger:zr},hr&&{onOpen:()=>{hr({active:!0})},onClose:),Tr))}function eo({postId:ut,isOpen:pt,onClose:Et}){const er=(0,ve.xR)(),{iString:hr}=(0,le.M1)(),[Er,Or]=(0,s.eJ)(),gr=er.getConfigFor("enable_post_summarization")==!0,Tr=(0,s.sO)(!1),Dr=(0,s.I4)(()=>{Tr.current=!0,I().post(`/api/v1/posts/${ut}/summary`).then(en=>{var zr;(zr=en.body)!=null&&zr.summary&&Or(en.body.summary)}).finally(},[ut]);return(0,s.d4)(()=>{pt&&gr&&!Er&&!Tr.current&&Dr()},[pt,Dr,gr,Er]),gr?(0,t.h)(De.u_,{isOpen:pt,onClose:Et,width:750},(0,t.h)(De.xB,{includeClose:!0,title:hr("Reader guide"),onClose:Et}),(0,t.h)(we.tu,{padding:16,paddingBottom:32},Er?(0,t.h)("div",{dangerouslySetInnerHTML:{__html:Er}}):(0,t.h)(we.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,t.h)("div",{className:"embed-loader"})))):null}function uo({post:ut,pub:pt,user:Et,onChange:er,showRestackModal:hr,canBeCrossPosted:Er,onSummaryOpen:Or}){const gr="button",Dr=(0,ve.xR)().getConfigFor("enable_post_summarization")==!0,en=Gr({pub:pt,user:Et,post:ut,defaultOpen:hr&&Er}),zr=()=>{en.open(),(0,ne.track)(ne.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:pt.id,restacked_post_id:ut.id,restacking_user_id:Et.id,is_from_email:!1})};return(0,t.h)(t.Fragment,null,(0,t.h)(Te.v2,{trigger:(0,t.h)(ao,{style:gr,icon:(0,t.h)(d.Z,{className:"icon edit-icon",size:nr(gr),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},Et&&(0,t.h)(Ao,{post:ut,onChange:er,showIcon:!0}),Dr&&(0,t.h)(Te.sN,{icon:(0,t.h)(D.Z,{height:24,strokeWidth:2}),onClick:Or},"Reader guide"),Er&&(0,t.h)(Te.sN,{icon:(0,t.h)(zt.Z,null),onClick:zr},"Cross post"),Et&&(0,t.h)(Te.sN,{icon:(0,t.h)(M.Z,null),href:(0,oe.getReaderPostUrl)(ut.id)},"Substack Reader")),en.modal)}function Xn(ut){var pt;const Et=C()(Object.values(((pt=ut.post)==null?void 0:pt.reactions)||{}));return(0,t.h)(Bn,dr(pr({},ut),{labelStyle:Et>0?"count":"none"}))}const jn=({pub:ut,user:pt})=>{const[Et,er]=(0,s.eJ)(pt==null?void 0:pt.email),[hr,Er]=(0,s.eJ)(!1),{iString:Or}=(0,le.M1)();return(0,t.h)(we.tu,{gap:20},(0,t.h)(we.tu,{gap:4},(0,t.h)(Be.xv.H4,{translated:!0,weight:"semibold"},"Support ",I18N.p(ut.name)),(0,t.h)(Be.xv.B4,{translated:!0,color:"secondary"},"Since you liked this post, why not subscribe?")),(0,t.h)(we.tu,{gap:12},(0,t.h)("input",{disabled:!!(pt!=null&&pt.email),value:Et,onChange:gr=>er(gr.currentTarget.value)}),(0,t.h)(Ee.zx,{onClick:()=>vr(void 0,null,function*(){(0,ne.track)(ne.EVENTS.LIKE_UPSELL_FREE_SUBSCRIBED,{email:Et}),Er(!0);try{const gr=yield I().post("/api/v1/free").send({email:Et,source:"like-button-upsell"}),{referral_token:Tr}=gr.body;(0,ne.signup)(),(0,Me.redirect)((0,oe.getSubscribeUrl)(ut,{params:{utm_source:ie.UTM_SOURCE.likeButtonUpsell,just_signed_up:!0,referral_token:Tr}}),{local_navigation:!1})}catch(gr){alert((0,Me.getNetworkErrorMessage)(gr))}}),grow:!0,disabled:hr,priority:"primary-theme"},Or(hr?"Please wait...":"Subscribe"))))};function Qn({post:ut,pub:pt,user:Et,onChange:er,isStatic:hr,children:Er,style:Or,postReactionToken:gr}){const Tr=(0,s.sO)(),Dr=(0,s.sO)(),{isLiked:en,toggle:zr}=vn({post:ut,pub:pt,user:Et,subscribePromptRef:Tr,onChange:er,postReactionToken:gr}),Qr=(0,s.sO)(),[hn,bn]=(0,s.eJ)(!1),$n=(0,s.I4)(kn=>vr(this,null,function*(){var no;(no=kn==null?void 0:kn.stopPropagation)==null||no.call(kn),(yield zr())==="unauthorized"&&bn(!0)}),[zr]);return(0,s.d4)(()=>{!(Qr!=null&&Qr.current)||!hn||Qr.current.open()},[hn]),(0,t.h)("div",{className:P()("like-button-container","post-ufi-button",`style-${Or}`,en&&"state-liked")},Er({isLiked:en,handleLike:$n}),!hr&&hn&&(0,t.h)(Ln.oq,{modalRef:Qr,user:Et,pub:pt,onClose:()=>bn(!1),react:zr}),Et&&!Et.is_admin&&!Et.is_contributor&&(Or==="button"||Or==="tabs")&&(0,t.h)(it.Fx,{ref:Tr,className:P()("subscribe-prompt-dropdown",!(Et!=null&&Et.is_free_subscribed)&&"free"),hideMenuTail:!0},Et!=null&&Et.is_free_subscribed?(0,Re.P)(Et,pt)?(0,t.h)(rn.xt,{pub:pt,onClose:()=>{var kn;return(kn=Tr.current)==null?void 0:kn.close()},shareDialogRef:Dr}):(0,t.h)(rn._q,{pub:pt}):(0,t.h)(jn,{pub:pt,user:Et})),!hr&&(0,t.h)(j.ZP,{ref:Dr,user:Et,pub:pt,post:ut}))}function Vn({post:ut,defaultSaved:pt,isSaved:Et,trackSurface:er}){var hr;return to({postId:ut.id,defaultSaved:(hr=pt!=null?pt:ut.is_saved)!=null?hr:!1,isSaved:Et,trackSurface:er})}function to({postId:ut,defaultSaved:pt,isSaved:Et,trackSurface:er}){const[hr,Er]=(0,s.eJ)(pt),Or=Et!=null?Et:hr,{refetch:gr,isLoading:Tr}=(0,me.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:ut},deps:[ut]}),Dr=(0,se.yH)(),en=yo();return{isSaved:Or,onSave:()=>(Tr||(gr({method:Or?"DELETE":"POST"}).then(()=>{Dr.refetch()}),Er(!Or),en(!Or),(0,ne.track)(ne.EVENTS.POST_SAVED,{post_id:ut,surface:er})),!Or)}}function ho(ut,pt,Et){return vr(this,arguments,function*(er,hr,{surface:Er}){yield(0,me.rd)("/api/v1/posts/saved",{method:hr?"POST":"DELETE",json:{post_id:er}}),(0,ne.track)(ne.EVENTS.POST_SAVED,{post_id:er,surface:Er,is_saved:hr})})}function yo(){const ut=(0,Ke.pm)(),{iString:pt}=(0,le.M1)();return Et=>{Et?ut.popToast(er=>(0,t.h)(Ke.FN,dr(pr({},er),{text:pt("Post saved"),Icon:c.Z,cta:pt("View"),href:(0,te.getSavedPostsUrl)()}))):ut.popToast(er=>(0,t.h)(Ke.FN,dr(pr({},er),{text:pt("Post unsaved"),Icon:l.Z})))}}function ko(){const ut=(0,Ke.pm)(),{iString:pt}=(0,le.M1)();return Et=>{Et?ut.popToast(er=>(0,t.h)(Ke.FN,dr(pr({},er),{text:pt("Post liked"),Icon:i.Z}))):ut.popToast(er=>(0,t.h)(Ke.FN,dr(pr({},er),{text:pt("Post unliked"),Icon:i.Z})))}}function Fo({style:ut,post:pt,isSaved:Et,labelStyle:er,position:hr,onChange:Er}){const{isSaved:Or,onSave:gr}=Vn({defaultSaved:Et,post:pt,isSaved:pt.is_saved,trackSurface:hr}),{iString:Tr}=(0,le.M1)(),Dr=()=>{const en=gr();Er({post:dr(pr({},pt),{is_saved:en})})};return(0,t.h)(ao,{state:Or?"saved":void 0,style:ut,icon:(0,t.h)(Mt.Z,{className:"icon",height:nr(ut,er==="verbose"?"verbose":null),strokeWidth:Ar}),noLabel:er==="none",verboseLabel:er==="verbose",onClick:Dr},er==="cta"||er==="verbose"?Tr("Save"):null)}function Ao({post:ut,isSaved:pt,onChange:Et,showIcon:er}){const{onSave:hr}=Vn({defaultSaved:pt,post:ut,isSaved:ut.is_saved}),{iString:Er}=(0,le.M1)(),Or=()=>{const Tr=hr();Et({post:dr(pr({},ut),{is_saved:Tr})})},gr=ut.is_saved?"var(--color-accent-substack)":void 0;return(0,t.h)(Te.sN,{icon:er?(0,t.h)(c.Z,{style:{stroke:gr,fill:gr}}):void 0,onClick:Or},ut.is_saved?Er("Unsave"):Er("Save"))}function No({style:ut,count:pt,labelStyle:Et,post:er,pub:hr,isStatic:Er,onClick:Or,isDisabled:gr}){const{iString:Tr}=(0,le.M1)();let Dr;return er!=null&&er.comment_url_override?Dr=er.comment_url_override:Er?Dr=`${ce.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`:hr&&(Dr=(0,te.getPostUrl)(hr,er,{comments:!0})),(0,t.h)(ao,{style:ut,icon:(0,t.h)(Ht.Z,{className:"icon",height:nr(ut),strokeWidth:Ar}),href:gr?null:Dr,onClick:gr?()=>{}:en=>{Or?Or(en):(en==null||en.preventDefault(),window.location.href=Dr)},noLabel:Et==="none",className:"post-ufi-comment-button",isDisabled:gr},Et==="cta"&&Tr("Comment"),Et==="count"&&(0,ue.numberToString)(pt||0))}function ya({post:ut,user:pt,pub:Et,style:er,labelStyle:hr,isStatic:Er,onChange:Or,position:gr}){const Tr=(0,s.sO)(),Dr=(0,s.I4)(()=>{(0,ne.track)(ne.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:gr}),Tr.current.open()},[]),{iString:en}=(0,le.M1)();let zr;ut.share_url_override?zr=ut.share_url_override:Er?ut?zr=ce.Substitutions.SHARE_URL:zr=ce.Substitutions.SHARE_PUB_URL:zr="javascript:void(0)";const Qr=hr==="none";return(0,t.h)(t.Fragment,null,(0,t.h)(ao,{style:er,icon:Qr?(0,t.h)(v.Z,{className:"icon",height:nr(er),strokeWidth:Ar}):null,onClick:Dr,href:zr,noLabel:hr==="none",className:P()(!Qr&&"no-icon")},hr==="cta"&&en("Share")),!Er&&(0,t.h)(j.ZP,{ref:Tr,user:pt,pub:Et,post:ut,onChange:Or}))}function na({post:ut,user:pt,pub:Et,onClick:er,style:hr}){const{iString:Er}=(0,le.M1)();return(0,t.h)(t.Fragment,null,(0,t.h)(ao,{style:hr,icon:(0,t.h)(zt.Z,{className:"icon",height:nr(hr,"verbose"),strokeWidth:Ar}),onClick:()=>{(0,ne.track)(ne.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:Et.id,restacked_post_id:ut.id,restacking_user_id:pt.id,is_from_email:!1}),er()},noLabel:!1,verboseLabel:!0,title:Er("Cross-Post")},Er("Cross-post")))}function oa({post:ut,user:pt,pub:Et,onClick:er}){const hr=()=>{(0,ne.track)(ne.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:Et.id,restacked_post_id:ut.id,restacking_user_id:pt.id,is_from_email:!1}),er()},{iString:Er}=(0,le.M1)();return(0,t.h)(t.Fragment,null,(0,t.h)(Te.sN,{onClick:hr},Er("Cross-post")))}function To({style:ut,pub:pt,post:Et,user:er,hidePinning:hr,emailSent:Er,allowSendEmail:Or,footerHidden:gr,showRestackModal:Tr,canBeCrossPosted:Dr,onSummaryOpen:en,onToggleMenu:zr}){const Qr=(0,s.sO)();gr&&Qr.current&&Qr.current.close();const hn=Gr({post:Et,pub:pt,user:er,defaultOpen:Tr&&Dr}),bn=()=>{hn.open(),(0,ne.track)(ne.EVENTS.RESTACK_POST_CLICKED,{restacked_publication_id:pt.id,restacked_post_id:Et.id,restacking_user_id:er.id,is_from_email:!1})};return(0,t.h)("div",{className:P()("edit-button-container","post-ufi-button",`style-${ut}`)},(0,t.h)(ao,{onClick:style:ut,icon:(0,t.h)(d.Z,{className:"icon edit-icon",size:nr(ut),strokeWidth:2}),noLabel:!0}),(0,t.h)(En.y,{ref:Qr,pub:pt,post:Et,user:er,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:hr,emailSent:Er,allowSendEmail:Or,handleCrossPost:Dr&&bn,onSummaryOpen:en,onToggleMenu:zr}),hn.modal)}const ao=(0,f.forwardRef)(({icon:ut,children:pt,state:Et,style:er,onClick:hr,href:Er,noLabel:Or,verboseLabel:gr,noBorder:Tr,className:Dr,isDisabled:en,iconPosition:zr="left",title:Qr},hn)=>(0,t.h)("a",{role:"button",className:P()("post-ufi-button",`style-${er}`,Dr,Et?`state-${Et}`:void 0,en?"state-disabled":void 0,pt&&!Or?"has-label":"no-label",Tr?"no-border":"with-border",gr?"verbose-label":""),title:Qr,href:Er,onClick:ref:hn},zr==="left"&&ut,!Or&&pt&&(0,t.h)("div",{className:"label"},pt),zr==="right"&&ut)),Lo=({pub:ut,post:pt,showAuthor:Et})=>!!(Et&&ut.bylines_enabled&&(0,ue.getPrintedByline)(ut,pt)),Kn=({pub:ut,post:pt,showAuthor:Et,showPhoto:er,isMobileWidth:hr})=>Lo({pub:ut,post:pt,showAuthor:Et})&&!mo({pub:ut,post:pt,showAuthor:Et})&&!ro({pub:ut,post:pt,showAuthor:Et,showPhoto:er})&&!hr,mo=({pub:ut,post:pt,showAuthor:Et})=>Lo({pub:ut,post:pt,showAuthor:Et})&&(0,ue.getBylineUsers)(pt).length>1,ro=({pub:ut,post:pt,showAuthor:Et,showPhoto:er})=>{var hr;return Lo({pub:ut,post:pt,showAuthor:Et})&&er&&((hr=(0,ue.getBylineUsers)(pt)[0])==null?void 0:hr.photo_url)&&ut.byline_images_enabled};function Wo({post:ut,showDatetime:pt,isStatic:Et,fromPostPage:er,showReactions:hr,language:Er="en"}){const Or=ut.reactions?Object.values(ut.reactions).reduce(0):0,gr=er&&!Et&&hr&&Or>=70&&Or<100;return pt&&gr?z()(ut.post_date).locale(Er).standardDatetimeWithYear():pt&&!gr?z()(ut.post_date).locale(Er).standardDatetime():Et?z()(ut.post_date).locale(Er).standardDate():gr?z()(ut.post_date).locale(Er).standardDate({full:gr}):z()(ut.post_date).locale(Er).standardDateOrTime()}function Xa({pub:ut,post:pt,showPins:Et,showAudience:er,showDate:hr,showDatetime:Er,showEmailSent:Or,showAuthor:gr,showPublicationName:Tr,showCrossPostedPublicationName:Dr}){const en=(0,ge.Tf)(),zr=!!(gr&&ut.bylines_enabled&&(0,ue.getPrintedByline)(ut,pt)),Qr=!1,hn=hr&&pt.post_date&&!pt.is_draft,bn=Or?!!pt.email_sent_at:null,{iString:$n,iTemplate:kn,language:no}=(0,le.M1)();return(0,t.h)("div",{className:P()("ufi-preamble",{themed:en})},Dr&&pt.restacked_pub_name?(0,t.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},kn`Published on ${pt.restacked_pub_name}`):null,Or&&bn&&(0,t.h)("div",{className:"email-sent",title:$n("This post was sent as an email")},(0,t.h)(O.Z,{className:"post-ufi-preamble-icon",size:16})),Et&&pt.is_section_pinned&&(0,t.h)("div",{className:"pinned"},(0,t.h)(Cn.Z,{className:"post-ufi-preamble-icon"})),pt.type==="adhoc_email"?(0,t.h)("div",{className:"audience-adhoc"},(0,t.h)(yt,{className:"post-ufi-preamble-icon"})):er&&(0,Q.isPaidAudience)(pt.audience)&&(0,t.h)("div",{className:"audience-lock"},(0,t.h)(Ot.Z,{audience:pt.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),Kn({pub:ut,post:pt,showAuthor:zr,isMobileWidth:Qr})&&(0,t.h)("div",{className:"ufi-preamble-label author"},(0,ue.getBylineUsers)(pt).length>0?(0,ue.oxfordComma)((0,ue.getBylineUsers)(pt).map(io=>(0,t.h)(t.Fragment,null,(0,t.h)(mn.ProfileHoverCard,{subject:io,utmSource:"byline"},(0,t.h)("a",{href:(0,te.getProfileUrl)(io,ut,{base:!0}),onClick:Fe=>Fe.stopPropagation()},io.name))))):(0,ue.getPrintedByline)(ut,pt)),Tr&&(0,t.h)("div",{className:"post-publication-name"},ut.name),hn&&(0,t.h)("div",{className:"ufi-preamble-label post-date",title:z()(pt.post_date).toISOString()},(0,t.h)("time",{dateTime:z()(pt.post_date).toISOString()},Wo({post:pt,showDatetime:Er,language:no}))))}const Ea=({pub:ut,post:pt,user:Et,onChange:er,postReactionToken:hr})=>(0,ve.xR)().getConfigFor("like_posts_enabled")&&ut.community_enabled?(0,t.h)(Xn,{style:"button",post:pt,pub:ut,user:Et,onChange:er,postReactionToken:hr}):null,Qa=({pub:ut,post:pt,onClick:Et})=>{const er=(0,ue.showCommentsOnPost)({publication:ut,post:pt}),{comment_count:hr}=pt;return er?(0,t.h)(No,{post:pt,pub:ut,labelStyle:hr>0?"count":"none",style:"button",count:hr,onClick:Et}):null};function Pi({hideBottomBorder:ut,post:pt,pub:Et,user:er,onChange:hr,onCommentsClick:Er,onClipClick:Or,showRestackModal:gr=!1,showTranscriptionButton:Tr,onTranscriptionClick:Dr,themeVariables:en,postReactionToken:zr}){const Qr=(0,ee.LC)(),hn=(er==null?void 0:er.is_contributor)&&!Qr,{getSettingFor:bn}=(0,fe.So)(),$n=!pt.is_draft&&(0,ae.x)(er,{enable_restacking:!!bn("enable_restacking")},pt,Et,!1),[kn,no]=(0,s.eJ)(!1),io=er&&pt.videoUpload&&(0,Y.a)(er,pt,pt.videoUpload);return(0,t.h)(we.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:ut?void 0:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,t.h)(we.hs,{gap:8},(0,t.h)(Ea,{post:pt,pub:Et,user:er,onChange:hr,postReactionToken:zr}),(0,t.h)(Qa,{pub:Et,post:pt,onClick:Er}),(0,t.h)($r,{pub:Et,post:pt,onChange:hr,style:"button"}),Tr&&(0,t.h)(Sr,{style:"button",onClick:Dr})),(0,t.h)(we.hs,{gap:8},(0,t.h)(V.s,{post:pt,pub:Et,user:er,trigger:{style:"button",labelStyle:"cta"},showClipping:pt.type==="video",disableClipping:!io,onClipClick:Or}),hn?(0,t.h)(To,{style:"button",pub:Et,post:pt,user:er,showRestackModal:gr,canBeCrossPosted:$n,onSummaryOpen:()=>no(!0)}):(er||$n)&&(0,t.h)(uo,{post:pt,pub:Et,user:er,onChange:hr,showRestackModal:gr,canBeCrossPosted:$n,onSummaryOpen:()=>no(!0)})),(0,t.h)(eo,{postId:pt.id,isOpen:kn,onClose:()=>no(!1)}))}function qa({isFooter:ut,customization:{showAppUpsell:pt,showShare:Et,showComments:er,showReactions:hr,showListen:Er,showSave:Or,showRestack:gr,showCommentRestack:Tr}}){const Dr=ut?"email-ufi-2-bottom":"email-ufi-2-top",en=!ut&&(gr||Er||Or),zr=ut,{iString:Qr}=(0,le.M1)();return!ut&&!Et&&!er&&!hr&&!Er&&!Or&&gr?(0,t.h)(be.YF,{className:"email-ufi-2-empty",width:"100%"},(0,t.h)("tr",{height:1},(0,t.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,t.h)(be.YF,{className:Dr,width:"100%"},gr&&ut&&(0,t.h)(t.Fragment,null,(0,t.h)(ba,null),(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(be.YF,{width:"100%",className:"email-ufi-2-row"},(0,t.h)("tr",null,(0,t.h)("td",{width:"95%"},Et&&(0,t.h)(be._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:ce.Substitutions.SHARE_URL},(0,t.h)(Kt.Z,pr({},Eo)),(0,t.h)("span",{className:"email-button-text"},Qr("Share"))))),(0,t.h)(ba,null))))),(0,t.h)(ba,null),(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(be.YF,{width:"100%"},(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(be.zK,{gap:8,style:en?void 0:{margin:"0 auto"}},hr?zr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:ce.Substitutions.REACTION_URL},(0,t.h)(Gt.Z,pr({},Eo)),(0,t.h)("span",{className:"email-button-text"},Qr("Like"))):(0,t.h)(da,{href:ce.Substitutions.REACTION_URL},(0,t.h)(Gt.Z,pr({},Eo))):null,er?zr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:`${ce.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(Ht.Z,pr({},Eo)),(0,t.h)("span",{className:"email-button-text"},Qr("Comment"))):(0,t.h)(da,{href:`${ce.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(Ht.Z,pr({},Eo))):null,Et&&pt&&(zr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:ce.Substitutions.SHARE_URL},(0,t.h)(Xr,pr({},Eo)),(0,t.h)("span",{className:"email-button-text"},Qr("Share"))):(0,t.h)(da,{href:ce.Substitutions.SHARE_URL},(0,t.h)(Xr,pr({},Eo)))),Tr&&(zr?(0,t.h)(be._i,{aClassName:"email-button-outline",href:`${ce.Substitutions.RESTACK_COMMENT_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(tn.Z,pr({},Eo)),(0,t.h)("span",{className:"email-button-text"},Qr("Restack"))):(0,t.h)(da,{href:`${ce.Substitutions.RESTACK_COMMENT_URL}&utm_source=${ie.UTM_SOURCE.substack}&utm_medium=${ie.UTM_MEDIUM.email}`},(0,t.h)(tn.Z,pr({},Eo)))))),(0,t.h)("td",{align:"right"},(0,t.h)(be.zK,{gap:8},Et&&!pt&&!ut&&(0,t.h)(be._i,{aClassName:"email-button-outline",href:ce.Substitutions.SHARE_URL},(0,t.h)("div",{className:"email-button-spacer"}),(0,t.h)("span",{className:"email-button-text"},Qr("Share"))),pt&&!ut&&(0,t.h)(be._i,{aClassName:"email-button-outline",href:ce.Substitutions.POST_APP_LINK_URL},(0,t.h)("div",{className:"email-button-spacer"}),(0,t.h)("span",{className:"email-button-text",style:{marginRight:4}},Qr("READ IN APP")),(0,t.h)(q,dr(pr({},Eo),{className:P()("icon","text-icon")}))))))))),(0,t.h)(ba,null))}function ba(){return(0,t.h)("tr",{height:16},(0,t.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const Eo={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function da({size:ut=38,href:pt,children:Et}){return(0,t.h)(be.YF,{width:ut},(0,t.h)("tr",null,(0,t.h)("td",{align:"center"},(0,t.h)("a",{className:"email-icon-button",href:pt,style:{width:ut}},Et))))}},77190:(H,E,e)=>{"use strict";e.d(E,{_0:()=>Y,EB:()=>ie});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(80569),y=e.n(P),C=e(43887),u=e(52743),p=e(96702),d=e(28488),w=e(3258),D=e(17025),M=e(50557),c=e(7922),l=e(19237),i=(de,z,Q)=>new Promise((ae,te)=>{var oe=le=>{try{ee(Q.next(le))}catch(se){te(se)}},ue=le=>{try{ee(Q.throw(le))}catch(se){te(se)}},ee=le=>le.done?ae(le.value):Promise.resolve(le.value).then(oe,ue);ee((Q=Q.apply(de,z)).next())});const O=({photoUrl:de,newPhotoUrl:z,newPhotoOrientation:Q,updatePhoto:ae})=>{const te=(0,f.sO)(null),oe=()=>i(void 0,null,function*(){const ue=te.current.files[0];if(te.current.value="",!ue){ae({newPhotoUrl:null,newPhotoOrientation:null});return}let ee;try{ee=yield(0,D.getDataUrlFromFile)(ue)}catch(se){console.error("Failed to get data URL from file:",se),alert(se.message);return}let le;try{le=yield(0,D.getExifOrientationFromFile)(ue)}catch(se){console.error("Failed to extract EXIF data from file:",se)}ae({newPhotoUrl:ee,newPhotoOrientation:le})});return(0,t.h)("div",{className:"profile-photo-wrap"},de&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${z||(0,u.imginary)(de,144)})`,transform:(0,D.transformExifOrientation)(Q)}}),!de&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,u.imginary)(u.DEFAULT_PHOTO_URL,144)})`,transform:(0,D.transformExifOrientation)(Q)}}),(0,t.h)(c.Z,{onClick:()=>{((0,D.isIE)()||(0,D.isFirefox)())&&te.current.click()}},(0,t.h)("input",{ref:te,type:"file",name:"photo",accept:"image/*",onChange:oe}),(0,t.h)("div",{className:"add-photo-fab",onClick:ue=>{ue.preventDefault(),te.current.click()}},(0,t.h)(l.Z,{size:20,color:"var(--color-light-primary)"}))))};var T=e(8925),I=e(63397),L=e(39493),S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,G=(de,z,Q)=>z in de?S(de,z,{enumerable:!0,configurable:!0,writable:!0,value:Q}):de[z]=Q,re=(de,z)=>{for(var Q in z||(z={}))W.call(z,Q)&&G(de,Q,z[Q]);if(U)for(var Q of U(z))K.call(z,Q)&&G(de,Q,z[Q]);return de},$=(de,z)=>N(de,R(z)),F=(de,z)=>{var Q={};for(var ae in de)W.call(de,ae)&&z.indexOf(ae)<0&&(Q[ae]=de[ae]);if(de!=null&&U)for(var ae of U(de))z.indexOf(ae)<0&&K.call(de,ae)&&(Q[ae]=de[ae]);return Q},Z=(de,z,Q)=>new Promise((ae,te)=>{var oe=le=>{try{ee(Q.next(le))}catch(se){te(se)}},ue=le=>{try{ee(Q.throw(le))}catch(se){te(se)}},ee=le=>le.done?ae(le.value):Promise.resolve(le.value).then(oe,ue);ee((Q=Q.apply(de,z)).next())});const q=({sub:de,onSetVisibility:z,source:Q})=>{const ae=de.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:ae,logo_url:ae.logo_url||ae.author_photo_url}),h("span",null,ae.name)),h("div",{className:"right"},h(BigCheckbox,{checked:de.visibility==="public",onChange:()=>z(de.visibility==="public"?"private":"public")})))},V=({profile:de,onFinalizeVisibility:z,onSetVisibility:Q,source:ae})=>{const{iString:te}=useI18N();if(!de)return;const oe=de.subscriptions.every(,ue=()=>{Q(de.subscriptions.reduce((se,{publication:fe})=>$(re({},se),{[fe.id]:oe?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:de.subscriptions.length})},ee=se=>fe=>{Q(de.subscriptions.reduce((ve,{visibility:ge,publication:be})=>$(re({},ve),{[be.id]:be.id===se.id?fe:ge}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:fe})},le=h("button",{className:"small",onClick:ue},te(oe?"Hide all":"Show all"));return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},le),h("div",{className:"edit-sub-visibility-frame"},de.subscriptions.map(se=>h(q,{sub:se,onSetVisibility:ee(se.publication),source:ae}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:z},te("Done"))))};class j extends t.Component{constructor(z,Q){var ae;super(z,Q),this.formRef=(0,t.createRef)(),this.state={newName:null,newHandle:null,newBio:null,newEmail:z.user&&z.user.is_magic?z.user.email:null},z.isPostInvite&&!((ae=z.user)!=null&&ae.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var z,Q,ae;this.props.autoSubmit&&(this.isComplete()?(z=this.formRef.current)==null||z.handleSubmit():(ae=(Q=this.props).onAutoSubmitFailed)==null||ae.call(Q))}isComplete(){const{user:z,needsPhoto:Q}=this.props;return z&&!z.is_magic&&z.name&&(!Q||z.photo_url)}onFileInputChanged(){return Z(this,null,function*(){const z=this.fileInput.files[0];if(this.fileInput.value="",!z){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let Q;try{Q=yield(0,D.getDataUrlFromFile)(z)}catch(te){console.error("Failed to get data URL from file:",te),alert(te.message);return}let ae;try{ae=yield(0,D.getExifOrientationFromFile)(z)}catch(te){console.error("Failed to extract EXIF data from file:",te)}this.setState({newPhotoUrl:Q,newPhotoOrientation:ae})})}onError(z){var Q,ae;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(ae=(Q=this.props).onAutoSubmitFailed)==null||ae.call(Q)),this.setState({sentLoginEmail:!1}),z.status===401&&this.sendLoginEmail()}createDefaultPublication(z,Q){return Z(this,null,function*(){const{iTemplate:ae}=this.props;try{const te=yield y().get("/api/v1/publication/suggestion"),oe=Q||ae`${z} on Substack`;yield y().post("/api/v1/publication").send({name:z,subdomain:te.body.subdomain,hero_text:oe,tos:!0})}catch(te){(0,w.track)(w.EVENTS.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",te)}})}sendLoginEmail(){return Z(this,null,function*(){const z=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!z)){this.setState({loading:!0});try{yield y().post("/api/v1/email-login").send({email:z,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(Q){console.error("Failed send login email:",Q)}this.setState({loading:!1})}})}render({className:z,user:Q,numVisibleSubscriptions:ae,numSubscriptions:te,freeSignup:oe,freeSignupEmail:ue,initialPhotoUrl:ee,needsPhoto:le,optionalPhoto:se,showHandle:fe=!0,token:ve,text:ge,onSuccess:be,prepareData:ne,pageTitle:me,primaryEligiblePublications:Le,isPostInvite:Re,complete:Me,profileExists:Ee,onSkip:we,onEditReadVisibility:Te,barebones:De,onEditRecommendations:Be,numRecommendationsToMake:Ke,noSubscribeCta:tt,style:Ot,iString:et,iPlural:it},{newPhotoUrl:bt,newPhotoOrientation:xe,newName:Oe,newHandle:Ie,newEmail:We,loading:Ge,sentLoginEmail:Xe,sentAccountConfirmationEmail:st,newBio:qe,createPublication:Ze}){const mt=bt||ee||(0,p.ln)(Q,{noFallbackToSignedOut:!0}),yt=typeof me=="string"?me:this.isComplete()?et("Update your profile"):et("Create your profile"),Mt=Oe||Q&&Q.name||"",Ht=Ie||(Q==null?void 0:Q.handle)||"",Gt=typeof qe=="string"?qe:Q&&Q.bio||"",zt=(Kt,Ir)=>Z(this,null,function*(){if(Kt.body.emailConfirmationRequired){this.setState({sentAccountConfirmationEmail:!0});return}Ze&&(yield this.createDefaultPublication(Mt,Gt)),be(Kt,Ir)});return(0,t.h)("div",{className:g()("profile-updater",z),style:Ot},(0,t.h)("h2",{className:"page-title profile-updater-title"},yt),(mt||le||se)&&(0,t.h)(O,{photoUrl:mt,newPhotoUrl:bt,newPhotoOrientation:xe,updatePhoto:onFileInputChanged:()=>this.onFileInputChanged()}),(0,t.h)(T.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:ne,onSuccess:zt,onError:Kt=>this.onError(Kt),noInlineErrors:!0,loading:Ge,autoLock:!0},(0,t.h)("label",{htmlFor:"name"},et("Name (Required)")),(0,t.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:et("Type your name..."),name:"name",id:"name",value:Mt,onInput:Kt=>this.setState({newName:Kt.target.value})}),fe&&(0,t.h)(t.Fragment,null,(0,t.h)("label",{htmlFor:"handle"},et("Handle")),(0,t.h)("input",{type:"text",className:"profile-name",placeholder:et("Type your handle..."),name:"handle",id:"handle",value:Ht,onInput:Kt=>this.setState({newHandle:Kt.target.value})})),!De&&(0,t.h)("label",{htmlFor:"bio"},"Bio"),!De&&(0,t.h)("textarea",{className:"profile-bio",placeholder:et("Say something about yourself..."),name:"bio",id:"bio",value:Gt,onInput:Kt=>this.setState({newBio:Kt.target.value})}),Re&&(0,t.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),Re&&(0,t.h)("div",{className:"bio-guest-tip"},et("Tip: this will be shown at the bottom of your guest post")),Re&&Le&&(Q==null?void 0:Q.has_publication)&&Le.length>1&&(0,t.h)(t.Fragment,null,(0,t.h)("label",null,et("Publication to display")),(0,t.h)("div",{className:"primary-publication-selector"},Le.map((Kt,Ir)=>(0,t.h)("label",{className:"publication-selector-row",for:`primary-radio-${Kt.id}`},(0,t.h)("input",{id:`primary-radio-${Kt.id}`,type:"radio",name:"primary_publication_user_id",value:Kt.id,checked:Ir===0}),(0,t.h)(L.Z,{pub:Kt.publication,logo_url:(0,u.imginary)(Kt.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:Kt.publication.name}),(0,t.h)("div",{className:"primary-publication-name"},Kt.publication.name))))),(!Q||Q.is_magic)&&!ue&&!Re&&(0,t.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:We,onInput:Kt=>this.setState({newEmail:Kt.target.value})}),!tt&&!(Q&&(Q.is_subscribed||Q.is_free_subscribed)||oe)&&(0,t.h)("label",{className:"profile-signup-checkbox"},(0,t.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," ",et("Subscribe to the newsletter")),Re&&!(Q!=null&&Q.has_publication)&&(0,t.h)("label",{className:"profile-signup-checkbox"},(0,t.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:Ze,onChange:),et("Create a Substack publication for me")),(0,t.h)("input",{type:"hidden",name:"confirmation_redirect_pathname",value:document.location.pathname}),(0,t.h)("input",{type:"hidden",name:"photo_url",value:mt}),(0,t.h)("input",{type:"hidden",name:"user_id",value:(Q==null?void 0:Q.id)||""}),(0,t.h)("input",{type:"hidden",name:"needs_photo",value:!!le}),(0,t.h)("input",{type:"hidden",name:"token",value:ve}),Me&&(0,t.h)("input",{type:"hidden",name:"complete",value:!0}),(0,t.h)("div",{id:"error-container"},Xe&&(0,t.h)(C.xv,{as:"div",translated:!0,className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,t.h)("b",null,I18N.p(We))," with a link that you can use to sign in."),st&&(0,t.h)("div",{className:"error other-error"},et("We have sent you a confirmation email. Please check your inbox before continuing."))),(0,t.h)("p",{className:g()("left",{hidden:!(typeof ae=="number"&&te>0&&Te)})},Ee?it("1 subscription is displayed on your profile","%1 subscriptions are displayed on your profile",ae):it("1 subscription will be displayed on your profile","%1 subscriptions will be displayed on your profile",ae)," ","(",(0,t.h)("a",{onClick:Te},et("edit")),")"),!Ee&&Be&&Ke>0&&(0,t.h)("p",{className:"left second"},it("1 recommendation will be made on your publication","%1 recommendations will be made on your publication",Ke)," ","(",(0,t.h)("a",{onClick:Be},"edit"),")"),(0,t.h)("div",{className:"modal-ctas"},(0,t.h)("p",{className:g()("skip",{hidden:!we})},(0,t.h)("a",{className:"small",onClick:we||(()=>{})},et("Skip for now"))),(0,t.h)(c.Z,{className:"primary",type:"submit"},ge||et("Save")),Re&&(0,t.h)(t.Fragment,null,(0,t.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,t.h)(C.xv,{translated:!0,as:"div",className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,t.h)("a",{href:`${(0,u.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}const Y=(0,d.fz)(j);class ie extends I.p{renderChildren(){const z=this.props,{ref:Q,onBeforeClose:ae,contributor:te}=z,oe=F(z,["ref","onBeforeClose","contributor"]);return(0,t.h)("div",{className:"profile-updater-modal"},te?(0,t.h)(ce,$(re({},oe),{onSuccess:()=>this.close(!0)})):(0,t.h)(Y,$(re({},oe),{onSuccess:)))}}const ce=({profile:de,user:z,pub:Q,onSuccess:ae,isOwnProfile:te})=>{const oe=(0,f.sO)(),{iString:ue,iTemplate:ee}=(0,d.M1)(),[le,se]=(0,f.eJ)(null),[fe,ve]=(0,f.eJ)(null),ge=le||de&&de.photo_url,[be,ne]=(0,f.eJ)(de.name),[me,Le]=(0,f.eJ)(de.bio),Re=()=>Z(void 0,null,function*(){var Me;const Ee=(Me=oe.current)!=null&&Me.files?oe.current.files[0]:null;if(oe.value="",!Ee){se(null),ve(null);return}let we;try{we=yield(0,D.getDataUrlFromFile)(Ee)}catch(De){console.error("Failed to get data URL from file:",De),alert(De.message);return}let Te;try{Te=yield(0,D.getExifOrientationFromFile)(Ee)}catch(De){console.error("Failed to extract EXIF data from file:",De)}se(we),ve(Te)});return(0,t.h)("div",{className:"profile-updater"},(0,t.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,t.h)("div",{className:"profile-photo-wrap"},ge&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${le||(0,u.imginary)(de.photo_url,144)})`,transform:(0,D.transformExifOrientation)(fe)}}),(0,t.h)(c.Z,{onClick:()=>{((0,D.isIE)()||(0,D.isFirefox)())&&oe.click()}},!ge&&ue("Set photo"),(0,t.h)("input",{ref:oe,type:"file",name:"photo",accept:"image/*",onChange:))),(0,t.h)(T.ZP,{method:"patch",action:`/api/v1/publication/users/${de.id}`,onSuccess:ae,autoLock:!0},(0,t.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:be,onInput:Me=>ne(Me.target.value)}),(0,t.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:me,onInput:),(0,t.h)("input",{type:"hidden",name:"photo_url",value:ge}),(0,t.h)("span",{className:"notice"},(0,t.h)(C.xv,{translated:!0,as:"p"},(0,t.h)("b",null,"Note:")," This is a contributor profile, viewable by ",I18N.p(Q.name),"'s readers."),te&&(0,t.h)(C.xv,{translated:!0,as:"p"},"You may also edit your"," ",(0,t.h)("a",{native:!0,href:`${(0,u.getReaderProfileUrl)(z)}`},"personal profile"),".")),(0,t.h)(c.Z,{className:"primary",type:"submit"},ue("Update profile"))))}},91801:(H,E,e)=>{"use strict";e.d(E,{E6:()=>re,dJ:()=>j,fS:()=>$,oq:()=>Y,xl:()=>q});var t=e(6400),f=e(94184),s=e.n(f),g=e(12297),P=e.n(g),y=e(80569),C=e.n(y),u=e(82626),p=e(52743),d=e(83322),w=e(28488),D=e(78515),M=e(3258),c=e(17025),l=e.n(c),i=e(51126),v=e(43887),O=e(3341),T=e(12650),I=e(63397),L=Object.defineProperty,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,U=(ie,ce,de)=>ce in ie?L(ie,ce,{enumerable:!0,configurable:!0,writable:!0,value:de}):ie[ce]=de,W=(ie,ce)=>{for(var de in ce||(ce={}))N.call(ce,de)&&U(ie,de,ce[de]);if(S)for(var de of S(ce))R.call(ce,de)&&U(ie,de,ce[de]);return ie},K=(ie,ce,de)=>new Promise((z,Q)=>{var ae=ue=>{try{oe(de.next(ue))}catch(ee){Q(ee)}},te=ue=>{try{oe(de.throw(ue))}catch(ee){Q(ee)}},oe=ue=>ue.done?z(ue.value):Promise.resolve(ue.value).then(ae,te);oe((de=de.apply(ie,ce)).next())});const G="\u2764",re=(ie,ce,de)=>{const{reaction:z,reactions:Q,reactor_names:ae}=F(ie,ce,de);Z(ce,z,Q,ae)},$=(ie,ce)=>F(ie,ce,!ce.reaction),F=(ie,ce,de)=>{let{reaction:z,reactions:Q={},reactor_names:ae=[]}=ce;return Q=W({},Q),ae=[...ae],de&&!z?(z=G,Q[z]=Q[z]?Q[z]+1:1,ie&&ie.is_public_admin&&ae.push(ie.name||"author")):!de&&z&&(Q[G]=Q[G]?Q[G]-1:0,ie&&ie.is_public_admin&&(ae=ae.filter(te=>te!==(ie.name||"author"))),z=null),{reaction:z,reactions:Q,reactor_names:ae}},Z=(ie,ce,de,z)=>{ie.reaction=ce,ie.reactions=de,ie.reactor_names=z};function q(ie,ce,de,z){const Q=(0,p.pathWithQuery)(`/api/v1/${ce?"comment":"post"}/${ie.id}/reaction`,{token:z});return de?C().post(Q).send({reaction:G}):C().delete(Q)}class V extends t.Component{constructor(){super(...arguments),this.state={includeModal:!1},this.modalRef=(0,t.createRef)(null),this.react=ce=>K(this,null,function*(){if(this.props.isStatic)return;ce&&ce.stopPropagation();const z=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(z),this.props.noSelfUpdate)return;const Q=yield(0,c.stateLock)(this,"locked",(ae,te)=>K(this,null,function*(){const oe=te.comment||te.post,ue=q(oe,!!te.comment,z,te.token),{reaction:ee,reactions:le,reactor_names:se}=$(te.user,oe);this.notifyParent({reactions:le,reaction:ee,reactor_names:se});let fe;try{yield ue}catch(ve){fe=ve,this.notifyParent(oe)}return{error:fe,reaction:ee}}));return Q&&Q.error&&(Q.error.response&&Q.error.response.statusCode===401?yield this.reactionRejected(Q.reaction):alert((0,c.getNetworkErrorMessage)(Q.error))),!!Q&&!Q.error})}notifyParent({reaction:ce,reactions:de,reactor_names:z}){const Q=W({},this.props.post),ae=this.props.comment&&W({},this.props.comment);Z(ae||Q,ce,de,z),this.props.onChange&&this.props.onChange({post:Q,comment:ae})}reactionRejected(ce){return K(this,null,function*(){(0,M.track)(M.EVENTS.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!ce}),yield new Promise(de=>{this.state.includeModal?this.modalRef.current.open(de):this.setState({includeModal:!0},()=>this.modalRef.current.open(de))})})}render({className:ce,user:de,pub:z,comment:Q,height:ae,isStatic:te,post:oe,buttonStyle:ue,hideReactionCount:ee,countInParenthesesStyle:le,iString:se}){const fe=Q||oe,ve=fe.reaction,ge=fe.reactions||{},be=P()(Object.values(ge));let ne;return oe&&oe.reaction_url_override?ne=oe.reaction_url_override:te?ne=u.Substitutions.REACTION_URL:ne="javascript:void(0)",(0,t.h)(v.xv,{as:"span",decoration:"hover-underline",color:ve?"accent-red":"pub-secondary-text",className:ce},this.props.render?this.props.render({liked:ve,numReactions:be>0?(0,d.numberToString)(be):null,onClick:me=>{this.react(me)}}):(0,t.h)("a",{href:ne,className:s()("like-button",{button:ue,"post-meta-button":ue,liked:ve}),onClick:me=>this.react(me)},(0,t.h)(i.hs,{gap:6,alignItems:"center",className:ce},te?(0,t.h)(T.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:ae,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,t.h)(i.hs,{className:"reaction-container"},(0,t.h)(T.Z,{className:"animation"}),!ve&&(0,t.h)(T.Z,{strokeWidth:2,height:ae,fill:"transparent",stroke:"var(--color-secondary-themed)"}),ve&&(0,t.h)(T.Z,{height:ae,strokeWidth:2})),le?(0,t.h)(v.xv.Meta,{color:ve?"accent-red":"pub-secondary-text",className:"like-count"},se(ve?"Liked":"Like"),!ee&&be>0?` (${(0,d.numberToString)(be)})`:""):!ee&&be>0?(0,t.h)("span",{className:"like-count"},(0,d.numberToString)(be)):ue?(0,t.h)("span",{className:"like-count"},se("Like")):null)),!te&&this.state.includeModal&&(0,t.h)(Y,{modalRef:this.modalRef,user:de,pub:z,comment:Q,react:this.react}))}}const j=(0,w.fz)(V);function Y({comment:ie,pub:ce,user:de,modalRef:z,onClose:Q,react:ae}){const{iString:te}=(0,w.M1)();return(0,t.h)(I.Z,{ref:z,onClose:Q},(0,t.h)(i.tu,{alignItems:"center",paddingTop:80,gap:24},(0,t.h)(v.xv.H2,null,te(ie?"Subscribe to like this comment":"Subscribe to like this post")),(0,t.h)(O.Z,{user:de,pub:ce,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:oe=>K(this,null,function*(){const ue=oe&&oe.body&&oe.body.email;oe&&oe.body&&oe.body.prompt_to_login||!(yield ae())?window.location.href=(0,p.getSigninUrl)({for_pub:ce.subdomain,email:ue}):z!=null&&z.current&&((0,D.a)({freeSignup:!0,freeSignupEmail:ue}),yield z.current.close())})})))}},27667:(H,E,e)=>{"use strict";e.d(E,{u:()=>l});var t=e(6400),f=e(30396),s=e(65862),g=e(19723),P=e(26059),y=e(17025),C=e.n(y),u=e(13045),p=e(96427),d=e(22434),w=e(58047),D=(v,O,T)=>new Promise((I,L)=>{var S=U=>{try{R(T.next(U))}catch(W){L(W)}},N=U=>{try{R(T.throw(U))}catch(W){L(W)}},R=U=>U.done?I(U.value):Promise.resolve(U.value).then(S,N);R((T=T.apply(v,O)).next())});const M=["Select a reason","hate","private_information","plagiarism","impersonation","illegal_activity","spam","pornography","other"],c=({category:v})=>{switch(v){case"Select a reason":return"Select a reason";default:return(0,d.H)({category:v})}};function l({isOpen:v,pub:O,onClose:T,onSubmit:I=()=>Promise.resolve(),canReportToAdmins:L=!1}){const[S,N]=(0,f.eJ)(M[0]),[R,U]=(0,f.eJ)(null),[W,K]=(0,f.eJ)(!1),[G,re]=(0,f.eJ)(!1),[$,F]=(0,f.eJ)(!L),{popToast:Z}=(0,u.pm)();return(0,f.d4)(()=>{v&&(N(M[0]),F(!L))},[v,L]),(0,f.d4)(()=>{re($?S!==M[0]:!!R)},[$,S,R]),L&&!O?(console.error("Must supply pub if reporting to pub admins is possible"),null):(0,t.h)(t.Fragment,null,(0,t.h)(u.u_,{isOpen:v,onClose:T,disableCloseOnBackdropClick:W||$},(0,t.h)(u.tu,{paddingTop:16,paddingX:16,gap:16},(0,t.h)(u.gq,{justifyContent:"space-between",alignItems:"center"},(0,t.h)(u.tu,{className:w.Z.iconContainer,justifyContent:"center",alignItems:"center",radius:"circle"},(0,t.h)(s.Z,{size:20,color:"var(--color-accent-red)"})),(0,t.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:T,"aria-label":"close"},(0,t.h)(P.Z,null))),(0,t.h)(i,{onReportToSubstackClicked:()=>{F(!0)},reportingToSubstack:$,pub:O!=null?O:null}),$&&(0,t.h)(t.Fragment,null,(0,t.h)(u.tu,{gap:8},(0,t.h)(u.xv.B4,{weight:"bold"},"Reason"),(0,t.h)(p.P,{value:S,onChange:q=>{N(q)}},M.map(q=>(0,t.h)("option",{value:q,key:q},c({category:q})))))),(0,t.h)(u.tu,{gap:8},(0,t.h)(u.gq,{justifyContent:"space-between"},(0,t.h)(u.xv.B4,{weight:"bold"},$?"Additional details":"Reason"),$&&(0,t.h)(u.xv.B4,{color:"secondary"},"Optional")),(0,t.h)(u.gx,{onChange:placeholder:"Describe why you're reporting this..."}))),(0,t.h)(u.mz,{includeDivider:!1,alignment:"center",primaryButton:(0,t.h)(u.zx,{disabled:!G,priority:"destructive",onClick:()=>{K(!0)}},"Submit")})),(0,t.h)(u.u_,{className:w.Z.confirmModal,isOpen:W,onClose:()=>{K(!1)}},(0,t.h)(u.xB,{title:(0,t.h)(u.gq,{justifyContent:"center"},(0,t.h)(u.xv.H4,{weight:"bold"},"Submit report?")),description:(0,t.h)(u.tu,{className:w.Z.confirmDescription},$?(0,t.h)(u.xv.B3,{color:"secondary"},"Reported content will be reviewed and removed if it violates our Content Guidelines."):(0,t.h)(u.xv.B3,{color:"secondary"},"Your report and profile will be shared with the admins of ",(0,t.h)("strong",null,O==null?void 0:O.name),".")),includeClose:!1}),(0,t.h)(u.mz,{includeDivider:!1,alignment:"center",primaryButton:(0,t.h)(u.zx,{priority:"destructive",onClick:()=>D(this,null,function*(){K(!1);try{yield I({reportCategory:$?S:null,details:R,reportedToSubstack:$})}catch(q){console.error("could not submit report",q);const V=(0,y.getNetworkErrorMessage)(q),j=V&&V.startsWith("Something went wrong")?V:`Something went wrong: ${V}`;Z(;return}Z(})},"Report"),secondaryButton:(0,t.h)(u.zx,{priority:"secondary",onClick:()=>{K(!1)}},"Cancel")})))}function i({reportingToSubstack:v,pub:O,onReportToSubstackClicked:T}){return v?(0,t.h)(u.tu,{gap:8},(0,t.h)(u.xv.H4,null,"Report to Substack"),(0,t.h)(u.xv.B3,{color:"secondary"},"Report content that violate's Substack's"," ",(0,t.h)("a",{className:w.Z.link,href:"https://substack.com/content",target:"_blank",rel:"noreferrer"},"Content Guidelines")," ","below. Your report is only viewed by our staff. Find additional reporting options and information in our"," ",(0,t.h)("a",{className:w.Z.link,href:"https://support.substack.com/hc/en-us/articles/23248646000532",target:"_blank",rel:"noreferrer"},"Trust and Safety Help Center"),".")):(0,t.h)(t.Fragment,null,(0,t.h)(u.tu,{gap:8},(0,t.h)(u.xv.H4,null,"Report to the ",O==null?void 0:O.name," admins"),(0,t.h)(u.tu,{gap:16},(0,t.h)(u.xv.B3,{color:"secondary"},"Your report and profile will be shared with the admins of ",(0,t.h)("strong",null,O==null?void 0:O.name),", since at Substack we believe publication owners are best able to moderate their communities."),(0,t.h)(u.xv.B3,{color:"secondary"},"If you believe something violates Substack's"," ",(0,t.h)("a",{className:w.Z.link,href:"https://substack.com/content",target:"_blank",rel:"noreferrer"},"Content Guidelines"),", you can"," ",(0,t.h)("a",{className:w.Z.link,onClick:()=>{T()}},"report it to Substack")," ","instead."))))}},21397:(H,E,e)=>{"use strict";e.d(E,{T:()=>C});var t=e(6400),f=e(30396),s=e(27667),g=(u,p,d)=>new Promise((w,D)=>{var M=i=>{try{l(d.next(i))}catch(v){D(v)}},c=i=>{try{l(d.throw(i))}catch(v){D(v)}},l=i=>i.done?w(i.value):Promise.resolve(i.value).then(M,c);l((d=d.apply(u,p)).next())});const P=(0,t.createContext)(()=>{});function y({children:u}){const[p,d]=useState(null),w=()=>d(null);return h(P.Provider,{value:d},u,h(ReportContentModal,{isOpen:!!p,onClose:w,pub:p==null?void 0:p.pub,canReportToAdmins:p==null?void 0:p.canReportToAdmins,onSubmit:(...D)=>g(this,null,function*(){return w(),p==null?void 0:p.onSubmit(...D)})}))}function C(){return(0,f.qp)(P)}},79786:(H,E,e)=>{"use strict";e.d(E,{e:()=>O});var t=e(6400),f=e(94184),s=e.n(f),g=e(4508),P=e(52743),y=e(20501);const C={img:"frontend-components-responsive_img-module__img--Pgjj2","object-fit-cover":"frontend-components-responsive_img-module__object-fit-cover--l2ul8"};var u=Object.defineProperty,p=Object.defineProperties,d=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,c=(T,I,L)=>I in T?u(T,I,{enumerable:!0,configurable:!0,writable:!0,value:L}):T[I]=L,l=(T,I)=>{for(var L in I||(I={}))D.call(I,L)&&c(T,L,I[L]);if(w)for(var L of w(I))M.call(I,L)&&c(T,L,I[L]);return T},i=(T,I)=>p(T,d(I)),v=(T,I)=>{var L={};for(var S in T)D.call(T,S)&&I.indexOf(S)<0&&(L[S]=T[S]);if(T!=null&&w)for(var S of w(T))I.indexOf(S)<0&&M.call(T,S)&&(L[S]=T[S]);return L};function O(T){var I=T,{src:L,maxWidth:S,imageSizingCss:N,imageProps:R={},alt:U="",className:W,imageRef:K,ignorePicture:G,objectFit:re,radius:$,useRetinaSizing:F,imageIsFixedWidth:Z}=I,q=v(I,["src","maxWidth","imageSizingCss","imageProps","alt","className","imageRef","ignorePicture","objectFit","radius","useRetinaSizing","imageIsFixedWidth"]);const V=F?[S*2,S*3]:[],j=Math.max(...V,S);let Y=null;N?Y=N:Z?Y=`${S}px`:Y="100vw";const ie=Q=>{if(R!=null&&R.height){const ae=S/R.height;return{height:Math.floor(Q/ae),aspect:null}}return{}},ce=Array.from(new Set([...P.WEB_RESPONSIVE_IMAGE_WIDTHS,S,...V]));ce.sort((Q,ae)=>Q-ae);const de=ce.map(Q=>({width:Q,src:(0,y.imginary)(L,Q,l(l({},R),ie(Q)))})).filter(Q=>Q.width<=j),z=ce.map(Q=>({width:Q,src:(0,y.imginary)(L,Q,i(l(l({},R),ie(Q)),{format:"webp"}))})).filter(;return(0,t.h)("picture",{style:G?{display:"contents"}:void 0},z.length>1?(0,t.h)("source",{type:"image/webp",srcset:z.map(Q=>`${Q.src} ${Q.width}w`).join(", "),sizes:Y}):(0,t.h)("source",{type:"image/webp",srcset:(0,y.imginary)(L,S,i(l({},R),{format:"webp"}))}),(0,t.h)("img",i(l({className:s()(C.img,W,re&&C[`object-fit-${re}`],(0,g.yK)({radius:$})),src:(0,y.imginary)(L,S,R),sizes:Y,alt:U,srcset:de.length>1?de.map(.join(", "):void 0},q),{width:S,height:R==null?void 0:R.height,ref:K})))}},34988:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>ee});var t=e(6400),f=e(98661),s=e(91004),g=e(83322),P=e(52743),y=e(28488),C=e(3258),u=e(90304),p=e(17025),d=e.n(p),w=e(51126),D=e(12876),M=e(43887),c=e(7922),l=e(46595),i=e(51889),v=e(54813),O=e(64484),T=e(73416),I=e(21302),L=e(65665),S=e(7775),N=e(74957),R=e(41874),U=e(95950),W=e(63397),K=e(79786),G=e(37812),re=e(59009),$=Object.defineProperty,F=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,V=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,ie=Reflect.get,ce=(se,fe,ve)=>fe in se?$(se,fe,{enumerable:!0,configurable:!0,writable:!0,value:ve}):se[fe]=ve,de=(se,fe)=>{for(var ve in fe||(fe={}))j.call(fe,ve)&&ce(se,ve,fe[ve]);if(q)for(var ve of q(fe))Y.call(fe,ve)&&ce(se,ve,fe[ve]);return se},z=(se,fe)=>F(se,Z(fe)),Q=ae=(se,fe,ve)=>new Promise((ge,be)=>{var ne=Re=>{try{Le(ve.next(Re))}catch(Me){be(Me)}},me=Re=>{try{Le(ve.throw(Re))}catch(Me){be(Me)}},Le=Re=>Re.done?ge(Re.value):Promise.resolve(Re.value).then(ne,me);Le((ve=ve.apply(se,fe)).next())});const te=(0,f.forwardRef)((se,fe)=>(0,t.h)(c.Z,z(de({},se),{className:"share-action",forwardedRef:fe}),(0,t.h)("div",{className:"action-icon"},(0,t.h)(l.Z,null)),(0,t.h)(M.xv.B4,{translated:!0,color:"secondary"},"Other"))),oe=({pub:se,post:fe,profile:ve,comment:ge})=>{let be=typeof document!="undefined"?document.title:"",ne="",me="";const Le=(0,P.getBaseUrl)(se).replace(/^https?:\/\//,"").replace(/\/$/);return ge?(be=ge.name?`Comment by ${ge.name} on ${se.name}`:`Comment on ${se.name}`,ne=(0,g.truncateText)(ge.body,100),me=fe.cover_image||null):fe?(be=fe.title||fe.draft_title,ne=Le,me=fe.cover_image||null):se?(be=se.name,ne=Le,me=se.logo_url):ve&&(be=ve.name,ne=ve.bio,me=(0,P.getUserPhotoUrl)(ve)),(0,t.h)(w.gq,{className:`social-preview-box ${fe?"post":se?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,t.h)("div",{className:"social-image-box"},(fe||se)&&me&&(0,t.h)(K.e,{className:"social-image",src:me,alt:"",maxWidth:120,loading:"lazy"}),!fe&&!se&&me&&(0,t.h)(G.cy,{className:"social-image",imageUrl:me,size:52}),!me&&(0,t.h)(v.Z,{className:"social-image-default"})),(0,t.h)(w.tu,{paddingLeft:12,paddingY:8},(0,t.h)(M.xv.H4,null,be),(0,t.h)(M.xv.B4,{color:"secondary"},ne)))},ue=class extends W.p{constructor(se,fe){super(se,fe),this.noFullscreen=!0}open(){return ae(this,null,function*(){const se="direct",fe={title:(0,s.B8)(de({},this.props)),url:this.props.shareUrl||(0,s.O1)(se,de({medium:this.state.medium},this.props))};if((0,p.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(fe))try{yield navigator.share(fe),(0,C.track)(C.EVENTS.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||"default"}),(0,u.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(ve){if(ve.name==="AbortError")return;(0,C.track)(C.EVENTS.NATIVE_SHARE_FAILED,{errorName:ve.name,errorMessage:ve.message})}Q(ue.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}nOpen(){(0,C.track)(C.EVENTS.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||re.UTM_CAMPAIGN.default})}enderChildren({post:se,pub:fe,profile:ve,comments:ge,commentId:be,shareUrl:ne,sharePrompt:me}){const Le=ge||be?"discussion":se?"post":fe?"publication":ve?"profile":null,Re=me||(Le?this.context.iTemplate`Share this ${Le}`:this.context.iString("Share")),Me=ge&&be&&ge.find(Ee=>Ee.id===be);return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"share-dialog-title"},Re),(0,t.h)(w.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(se||fe||ve)&&(0,t.h)(oe,{post:se,pub:fe,profile:ve,comment:Me}),(0,t.h)(le,z(de({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,s.B8)(de({},this.props)),shareUrl:ne||(0,s.O1)(null,de({medium:this.state.medium},this.props))}))))}};let ee=ue;ee.contextType=y.wj;function le(se){const fe=return(0,t.h)(w.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,t.h)(c.Z,{onClick:()=>{(0,s.Ui)(de({},se)),fe()},className:"share-action"},(0,t.h)("div",{className:"action-icon"},(0,t.h)(S.Z,null)),(0,t.h)(M.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,t.h)(c.Z,{className:"share-action",onClick:()=>{(0,s.Po)(de({},se)),fe()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(R.Z,null)),(0,t.h)(M.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,t.h)(c.Z,{className:"share-action",onClick:()=>{(0,s.WZ)(de({},se)),fe()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(N.Z,null)),(0,t.h)(M.xv.B4,{translated:!0,color:"secondary"},"Email")),!se.disableNotes&&(0,t.h)(c.Z,{className:"share-action",onClick:()=>{(0,s.BZ)(de({},se)),fe()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(T.Z,null)),(0,t.h)(M.xv.B4,{color:"secondary"},"Note")),(0,t.h)(D.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,t.h)(te,null),onOpen:()=>{(0,C.track)(C.EVENTS.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:se.medium||"web",post_id:se.post?se.post.id:null,utm_campaign:se.utm_campaign||re.UTM_CAMPAIGN.default})}},(0,t.h)(D.sN,{onClick:()=>{(0,s.lc)(de({},se)),fe()},icon:(0,t.h)(O.Z,null)},"Linkedin"),(0,t.h)(D.sN,{onClick:()=>{(0,s.sn)(de({},se)),fe()},icon:(0,t.h)(L.Z,null)},"Reddit"),(0,t.h)(D.sN,{onClick:()=>{(0,s.b6)(de({},se)),fe()},icon:(0,t.h)(i.Z,null)},"Hacker News"),(0,t.h)(D.sN,{onClick:()=>{(0,s.Vn)(de({},se)),fe()},icon:(0,t.h)(I.Z,null)},"Pinterest"),(0,t.h)(D.sN,{onClick:()=>{(0,s.Wn)(de({},se)),fe()},icon:(0,t.h)(U.Z,null)},"Twitter")))}},30105:(H,E,e)=>{"use strict";e.d(E,{L:()=>g});var t=e(6400),f=e(94184),s=e.n(f);const g=({children:P,title:y="",content:C="",className:u="",showFirst:p=!1,disabled:d=!1})=>d?(0,t.h)(t.Fragment,null,P):(0,t.h)("div",{className:`popover-container ${u}`},(0,t.h)("div",{className:s()("popover typography",{showfirst:p})},(0,t.h)("div",{className:"content"},y&&(0,t.h)("strong",null,y),C&&(0,t.h)("section",null,C)),(0,t.h)("div",{className:"popover-tail"})),P)},71943:(H,E,e)=>{"use strict";e.d(E,{J:()=>D,Z:()=>M});var t=e(6400),f=e(83322),s=e(17025),g=e.n(s),P=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?P(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>{var i={};for(var v in c)C.call(c,v)&&l.indexOf(v)<0&&(i[v]=c[v]);if(c!=null&&y)for(var v of y(c))l.indexOf(v)<0&&u.call(c,v)&&(i[v]=c[v]);return i};const D={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class M extends t.Component{constructor(){super(...arguments),this.onWindowResize=this.onKeyDown=l=>(this.props.inline&&l.key==="Enter"&&l.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(l)),this.onInput=l=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(l)),this.onBlur=()=>{var l;if(this.props.inline){const i=(l=this.base)==null?void 0:l.value,v=(0,f.sanitizeInlineText)(i);i&&i!==v&&(this.base.value=v,this.props.onInput&&this.props.onInput(event))}}}mponentDidUpdatetAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,s.stateTransaction)(this,l=>{this.base.style.height="";const i=window.getComputedStyle(this.base),v=parseInt(i.getPropertyValue("height")),O=parseInt(i.getPropertyValue("padding-top"))+parseInt(i.getPropertyValue("padding-bottom")),T=parseInt(i.getPropertyValue("line-height")),I=Math.min(Math.round((this.base.scrollHeight-O)/T),this.props.maxLines||1/0);this.base.style.height=`${Math.max(I*T+O,v)}px`,this.base.style.height!==l.height&&this.setState({height:this.base.style.height})}))}render(l,{height:i}){var v=l,{children:O,ref:T,style:I,onKeyDown:L,onInput:S,inline:N,autoHeight:R,maxLines:U}=v,W=w(v,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return R&&(I=Object.assign({},I,{height:i})),(0,t.h)("textarea",d(d({style:I,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},D),W),O)}}},86575:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>l,g1:()=>D});var t=e(6400),f=e(30396),s=e(80569),g=e.n(s),P=e(85928),y=e.n(P),C=e(83322),u=e(3258),p=e(66141);const d=(i,{timeout:v=5e3,className:O="",dismissable:T=!1,beforeDismiss:I=null}={},L)=>{L=L||document.body;const S=document.createElement("div");S.setAttribute("id","toast"),S.setAttribute("role","alert"),O&&S.classList.add(O),L.appendChild(S);const N=()=>{I&&I(),S.classList.remove("in"),setTimeout(()=>{S.remove()},500)};(0,t.render)([(0,t.h)("p",null,i),T&&(0,t.h)("a",{className:"dismiss",onClick:N},"Dismiss")],S),setTimeout(()=>{S.classList.add("in")}),!T&&setTimeout(N,v)},w=({children:i,className:v,dismissKey:O,dismissDurationInSeconds:T,beforeDismiss:I,container:L})=>{const[S,N]=(0,p.Z)(O,T,I);if(!S)return d(i,{className:v,beforeDismiss:N,dismissable:!0},L)},D=({user:i,pub:v,container:O})=>{if(!(!i||!v||!i.is_subscribed))return(0,t.h)(c,{pub:v,container:O})},M=i=>{if(i&&i.cardExpiresAt){const v=y()(i.expiry).subtract(C.GRACE_PERIOD_DAYS,"day"),O=y()(i.cardExpiresAt),T=y()().add(12,"day");return O.isBefore(v)&&v.isBefore(T)}return!1},c=({pub:i,container:v})=>{const[O,T]=(0,f.eJ)(null);if((0,f.d4)(()=>{g().get("/api/v1/subscription").then(I=>T(I.body)).catch(},[]),M(O))return(0,t.h)(w,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*C.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,u.track)(u.EVENTS.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:v},"Your credit card is expiring soon."," ",(0,t.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,u.track)(u.EVENTS.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${i.name}`,".")},l=d},37812:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>N,cy:()=>re,m1:()=>R});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(52743),y=e(3258),C=e(11688),u=e(32127),p=e(1782),d=e(36377),w=e(25702),D=e(77190),M=e(79786),c=e(35570),l=e(83379),i=Object.defineProperty,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,I=($,F,Z)=>F in $?i($,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):$[F]=Z,L=($,F)=>{for(var Z in F||(F={}))O.call(F,Z)&&I($,Z,F[Z]);if(v)for(var Z of v(F))T.call(F,Z)&&I($,Z,F[Z]);return $};const S=33;class N extends t.Component{constructor(){super(...arguments),this.onClick=F=>{if(this.props.onClick)this.props.onClick(F);else if(this.props.modalProfile)F.preventDefault(),F.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,y.track)(y.EVENTS.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1}}static getSubject(F){return F?F.author_id?{id:F.author_id,name:F.author_name,photo_url:(0,P.getUserPhotoUrl)(F,{preferAuthorPhoto:!0}),publications:F.subdomain?[F]:[]}:F.user_id?{id:F.user_id,name:F.name,photo_url:(0,P.getUserPhotoUrl)(F),publications:[]}:{id:F.id,name:F.name,photo_url:(0,P.getUserPhotoUrl)(F),publications:[]}:{id:null,name:null,photo_url:P.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhotosSelf(){return this.props.user&&this.props.user.id===N.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.url?this.props.url:this.props.isAuthor?(0,P.getProfileUrl)(N.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,P.getReaderProfileUrl)(N.getSubject(this.props.subject))}onBeforeProfileClose(F){if(F)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:F,pub:Z,user:q,badge:V,freeSignup:j,freeSignupEmail:Y,token:ie,isStatic:ce,size:de,modalProfile:z,isBanned:Q,lazy:ae,tooltip:te,noLink:oe,className:ue}){de=de||S;const ee=N.getSubject(F);return(0,t.h)("div",{className:g()("user-head",{banned:Q},ue)},oe?(0,t.h)(R,{photo_url:ee.photo_url,size:de,isStatic:ce,isBanned:Q,lazy:ae,badge:V,tooltip:te,className:"default-pointer"}):(0,t.h)("a",{href:ce||!z?this.profileUrl():null,onClick:this.onClick},(0,t.h)(R,{photo_url:ee.photo_url,size:de,isStatic:ce,isBanned:Q,lazy:ae,badge:V,tooltip:te})),this.props.modalProfile&&!ce&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,t.h)(D.EB,{ref:le=>this.profile=le,user:q,freeSignup:j,freeSignupEmail:Y,needsPhoto:!0,token:ie,onBeforeClose:le=>this.onBeforeProfileClose(le)}):(0,t.h)(l.FI,{ref:le=>this.profile=le,profileUser:ee,pub:Z,isBanned:Q})))}}const R=({photo_url:$,size:F,isStatic:Z,isBanned:q,lazy:V,badge:j,tooltip:Y,style:ie,expandable:ce,children:de,className:z})=>{const[Q,ae]=(0,f.eJ)(!1),te=!$&&!!de,oe={founding:(0,t.h)(d.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:Y}),author:(0,t.h)(u.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:Y})}[j];return(0,t.h)("div",{onClick:()=>{ce&&ae(!0)},className:g()("profile-img-wrap",z)},te?de:V?(0,t.h)(W,L({},{photo_url:$,size:F,isStatic:Z,badge:j,style:ie})):(0,t.h)(K,L({},{photo_url:$,size:F,isStatic:Z,badge:j,style:ie})),oe&&(0,t.h)("div",{className:"profile-img-badge",title:Y},oe),q&&(0,t.h)(p.Z,null),(0,t.h)(C.cr,{module:"./ImageViewerModal",resolve:ue=>ue.ImageViewerModal,onRequest:()=>e.e(5661).then(e.bind(e,55661)),showModal:Q,modalContent:[{src:te?de:$,attrs:{src:te?de:$}}],onClose:()=>{ae(!1)},step:0,includeDownloadButton:!1}))},U=($,F)=>(0,P.imginary)($,F*2,{height:F*2,crop:"fill"}),W=({photo_url:$,size:F,isStatic:Z,badge:q,style:V})=>{const[j,Y]=(0,c.Z)({}),ie=!Y||Y.isIntersecting?$:P.DEFAULT_PHOTO_URL;return(0,t.h)(G,{url:U(ie,F),size:F,ref:j,badge:q,isStatic:Z,style:V})},K=({photo_url:$,size:F,isStatic:Z,badge:q,style:V})=>(0,t.h)(G,{url:U($,F),size:F,badge:q,isStatic:Z,style:V}),G=({url:$,size:F,isStatic:Z,ref:q,badge:V,className:j})=>Z?(0,t.h)(w.Z,{className:j,src:(0,P.imginary)($,F*2,{height:F*2,crop:"fill"}),ref:q,height:F,width:F,alt:V||""}):(0,t.h)(M.e,{className:j,src:$,imageProps:{height:F*2,crop:"fill"},maxWidth:F*2,ref:q,alt:V||""}),re=({imageUrl:$,alt:F,size:Z,className:q})=>(0,t.h)(G,{className:`user-photo ${q||""}`,url:$,badge:F,size:Z})},83379:(H,E,e)=>{"use strict";e.d(E,{FI:()=>S,fi:()=>R});var t=e(6400),f=e(94184),s=e.n(f),g=e(80569),P=e.n(g),y=e(85928),C=e.n(y),u=e(52743),p=e(83322),d=e(1782),w=e(63397),D=Object.defineProperty,M=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(U,W,K)=>W in U?D(U,W,{enumerable:!0,configurable:!0,writable:!0,value:K}):U[W]=K,v=(U,W)=>{for(var K in W||(W={}))c.call(W,K)&&i(U,K,W[K]);if(M)for(var K of M(W))l.call(W,K)&&i(U,K,W[K]);return U},O=(U,W)=>{var K={};for(var G in U)c.call(U,G)&&W.indexOf(G)<0&&(K[G]=U[G]);if(U!=null&&M)for(var G of M(U))W.indexOf(G)<0&&l.call(U,G)&&(K[G]=U[G]);return K},T=(U,W,K)=>new Promise((G,re)=>{var $=q=>{try{Z(K.next(q))}catch(V){re(V)}},F=q=>{try{Z(K.throw(q))}catch(V){re(V)}},Z=q=>q.done?G(q.value):Promise.resolve(q.value).then($,F);Z((K=K.apply(U,W)).next())});const I=92;class L extends t.Component{omponentDidUpdate(W){!this.props.manualLoad&&W.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return T(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const W=yield P().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:W.body})}catch(W){console.error("Failed to load profile:",W)}this.setState({loadingProfile:!1})}})}ender({pub:W}){var K;const G=((K=this.getProfileUser().publications)==null?void 0:K.filter(re=>re.id!==W.id))||[];return(0,t.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,t.h)(R,{photo_url:(0,u.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:W}),(0,t.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,t.h)("div",{className:"user-profile-status"},this.getProfileUser().id===W.author_id?(0,t.h)("b",null,"Author of ",W.name):this.getProfileUser().subscribed_at?`Subscriber to ${W.name} since ${C()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),G.length>0&&(0,t.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,p.oxfordComma)(G.map(re=>(0,t.h)("a",{href:re.base_url,native:!0},re.name)))),this.props.isBanned&&(0,t.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",W.name))}}class S extends w.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const W=this.props,{ref:K}=W,G=O(W,["ref"]);return(0,t.h)("div",{className:"user-profile-modal"},(0,t.h)(L,v({ref:re=>this.profile=re,manualLoad:!0},G)))}}const N=({children:U,email:W,pub:K})=>(0,t.h)("a",{target:"_blank",href:(0,u.getSubscriberDetailsUrl)(K,W)},U),R=({photo_url:U,size:W=I,banned:K=!1,email:G="",className:re="",pub:$=null,children:F=void 0})=>{const Z=(0,t.h)("img",{className:"user-profile-head",height:W,width:W,src:(0,u.imginary)(U,W*2,{height:W*2,crop:"fill"})});return(0,t.h)("div",{className:s()(re,"profile-image-wrapper")},G&&$?(0,t.h)(N,{email:G,pub:$},Z):Z,K&&(0,t.h)(d.Z,{height:W}),F)}},25346:(H,E,e)=>{"use strict";e.d(E,{Z:()=>G});var t=e(6400),f=e(94184),s=e.n(f),g=e(13045),P=e(52743),y=e(83322),C=e(3258),u=e(90304),p=e(17025),d=e.n(p),w=e(7922),D=e(93830),M=e(92379),c=Object.defineProperty,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(re,$,F)=>$ in re?c(re,$,{enumerable:!0,configurable:!0,writable:!0,value:F}):re[$]=F,T=(re,$)=>{for(var F in $||($={}))i.call($,F)&&O(re,F,$[F]);if(l)for(var F of l($))v.call($,F)&&O(re,F,$[F]);return re};const I=5,L="video:playback_location:",S=4*60,N=5,R=60,U=3,W=60,K={hls:"application/x-mpegURL",mp4:"video/mp4"};class G extends t.Component{constructor($,F){var Z;super($,F),this.player=null,this.previewHiddingTimeout=null,this.containerRef=(0,t.createRef)(),this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(3e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var V;(V=p.globalPlaybackNotifier)==null||V.emit("play",this),this.setState({playing:!0}),this.track(C.EVENTS.VIDEO_PLAY_BUTTON_CLICKED)},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.track(C.EVENTS.VIDEO_PAUSE_BUTTON_CLICKED),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:V=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),V&&this.player&&!(0,p.isIOs)()&&!this.props.doNotResetOnEnd&&(this.player.currentTime=0),(0,p.exitFullscreen)(),(0,p.exitPictureInPicture)(),this.props.onFinishVideo&&this.props.onFinishVideo()},this.onPreviewClick=()=>{var V,j;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(V=this.player)==null||V.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(j=this.player)==null||j.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3e3)))},this.onContextMenu=V=>{V.preventDefault()},this.onAllSourcesFailed=()=>{var V,j;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(j=(V=this.props).onPlaybackFailed)==null||j.call(V)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=V=>{this!==V&&this.player&&(this.track(C.EVENTS.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=V=>{var j;this.props.noKeyboardShortcuts||V.metaKey||V.altKey||V.ctrlKey||document.activeElement!==document.body||!this.player||((j=p.globalPlaybackNotifier)==null?void 0:j.listenerCount("play"))>1&&this.player.paused||(V.key==="f"?(0,p.isFullscreen)()?(0,p.exitFullscreen)()&&V.preventDefault():((0,p.goFullscreen)(this.player)&&V.preventDefault(),this.player.paused&&this.player.play()):V.key===" "&&!(0,p.isFullscreen)()?(V.preventDefault(),this.player.paused?this.player.play():this.player.pause()):V.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):V.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const q=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:q,currentTime:0,waiting:!0,duration:(Z=$.mediaUpload.duration)!=null?Z:null,autoPlay:$.autoPlay,playing:!1,attemptingToPlay:$.autoPlay,previewHidden:q!==null&&q>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1,failedAutoplay:!1}}componentDidMount(){var $;this._initHlsjs(),($=p.globalPlaybackNotifier)==null||$.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),!this.props.isStatic&&window&&window._preloads.mux_env_key&&e.e(4125).then(e.t.bind(e,54125,23)).then(F=>{const Z=F.default||F;Z.monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:Z.utils.now()}})})}componentWillUnmount(){var $;this.setPlaybackRestoreLocation(),($=p.globalPlaybackNotifier)==null||$.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate($,F){var Z,q,V;if((this.props.noPreview!==$.noPreview||this.props.noControls!==$.noControls||this.props.noKeyboardShortcuts!==$.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof F.waiting!="number"){const{useHLSJS:j,browserCanPlayHLS:Y,HLSerrored:ie}=this.state;this.track(C.EVENTS.VIDEO_BUFFERING_STARTED,{use_hlsjs:j,browser_can_play_hls:Y,hls_errored:ie})}this.state.playing&&!F.playing&&!this.state.waiting&&typeof F.waiting=="number"&&this.track(C.EVENTS.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-F.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(F.currentTime)&&Math.floor(this.state.currentTime)%I===0&&this.track(C.EVENTS.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),is_clip:(Z=this.props.isClip)!=null?Z:!1}),!this.state.playing&&F.playing&&((q=this.player)!=null&&q.ended)&&this.track(C.EVENTS.VIDEO_PLAYBACK_COMPLETED,{is_clip:(V=this.props.isClip)!=null?V:!1})}getPlaybackLocationKey(){return`${L}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>S){const $=(0,u.mM)(this.getPlaybackLocationKey());if(($==null?void 0:$.currentTime)>N&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-$.currentTime>R){const F=Date.now()-$.watchedAt>W?U:0,Z=Math.max(0,$.currentTime-F);if(Z)return Z}}return null}setPlaybackRestoreLocation(){var $;this.playbackEnabled()&&(($=this.player)!=null&&$.currentTime)&&(0,u.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track($,F={}){const Z=this.props.mediaUpload.post_id;Z&&(0,C.track)($,Object.assign({post_id:Z,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},F))}render($,F){var Z;const{height:q,width:V}=(0,y.videoPlayerDimensions)($.mediaUpload,{isStatic:$.isStatic}),j={paddingBottom:`${Math.min(60,100*q/V).toFixed(4)}%`},Y=s()("video-player",{"video-player-clip":$.clippingMode});return(0,t.h)("div",{ref:this.containerRef,className:s()("video-player-wrapper",$.className,{"with-preview":!F.previewHidden,"is-static":$.isStatic,"full-width":V>=960,"video-player-wrapper-clip":$.clippingMode}),onClick:this.onPreviewClick},this.href()?(0,t.h)("a",{className:Y,href:this.href(),style:j},this.renderPlayer(this.props,this.state)):(0,t.h)("div",{className:Y,style:j},this.renderPlayer(this.props,this.state)),(0,t.h)(M.ie,{visible:this.props.clippingMode,videoPlayerRef:this.player,containerRef:(Z=this.props.clippingModeRef)!=null?Z:this.containerRef,videoUpload:this.props.mediaUpload,post:this.props.post,onCancel:()=>{var ie,ce;return(ce=(ie=this.props).onClippingModeCancel)==null?void 0:ce.call(ie)}}))}renderPlayer({hidePlayButton:$,mediaUpload:F,podcastUpload:Z,pub:q,reaction_token:V=null,isStatic:j,noControls:Y,noPreview:ie,renderPlayButton:ce,startMuted:de,usePreview:z},{autoPlay:Q,attemptingToPlay:ae,previewHidden:te,useHLSJS:oe,browserCanPlayHLS:ue,HLSerrored:ee,failedAutoplay:le}){const se=!ie&&!te,fe=j||!this.playbackEnabled(),ve=(0,P.updateQuery)(`/api/v1/video/upload/${F.id}/src`,{token:V,override_publication_id:q==null?void 0:q.id,preview:z});let ge=[];return ue?ge=["hls","mp4"]:oe?ge=[]:(0,p.isAndroid)()?ge=["hls","mp4"]:ee?ge=["mp4"]:ge=["hls","mp4"],[this.playbackEnabled()&&!j&&typeof window!="undefined"&&(0,t.h)("video",{ref:be=>this.player=be,controls:!Y&&!se,controlsList:"nodownload",autoPlay:Q&&!le&&this.playbackEnabled(),poster:`${(0,P.getMediaUploadThumbnailUrl)(F)}?refresh=${F.updated_at}`,muted:de},ge.map((be,ne)=>(0,t.h)("source",{src:(0,P.updateQuery)(ve,{type:be}),type:K[be],onError:ne===ge.length-1?this.onAllSourcesFailed:void 0}))),se&&!$&&(0,t.h)(t.Fragment,null,fe&&(0,t.h)("img",{className:"video-player-preview","data-testid":j?"video-player-static-preview-image":"",width:550,src:(0,P.getMediaUploadThumbnailUrlForPlayer)(F,{pub:q,isStatic:j,variant:"shows"}),"data-component-name":"VideoPlayer-PreviewImg"}),!j&&!ce&&(0,t.h)("div",{className:s()("video-player-button",{"no-text":!this.cta()})},(0,t.h)("a",{className:"primary",href:this.href(),native:!0},(0,t.h)(w.Z,{className:s()({loading:ae&&this.playbackEnabled()})},(0,t.h)(D.Z,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,t.h)("span",null,this.cta())))),!j&&ce&&(0,t.h)(g.xu,{position:"absolute",style:{left:"50%",top:"50%",transform:"translate(-50%,-50%)"}},ce()))]}_initHlsjs(){const $=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if($){this.setState({browserCanPlayHLS:$});return}e.e(7631).then(e.t.bind(e,67631,23)).then(}_initHlsjsWrapped($){const F=this,Z=$.isSupported();if(!$.isSupported()){this.setState({useHLSJS:Z});return}this.hls!=null&&this.hls.destroy();const q={},V=new $(T({enableWorker:!1},q));this.player!=null&&V.attachMedia(this.player);const{mediaUpload:j,podcastUpload:Y,pub:ie,reaction_token:ce=null}=this.props,de=(0,P.updateQuery)(`/api/v1/video/upload/${j.id}/src`,{token:ce,override_publication_id:ie==null?void 0:ie.id,type:"hls",preview:this.props.usePreview});V.on($.Events.MEDIA_ATTACHED,()=>{V.loadSource(de),V.on($.Events.MANIFEST_PARSED,()=>{var z;this.state.autoPlay&&((z=this.player)==null||z.play().catch(()=>{console.log("Unable to autoplay prior to user interaction with the dom."),this.setState({failedAutoplay:!0,attemptingToPlay:!1})}))})}),V.on($.Events.ERROR,function(z,Q){if(Q.fatal)switch(Q.type){case $.ErrorTypes.NETWORK_ERROR:F.setState({useHLSJS:!1}),F.hls.destroy(),V.startLoad();break;case $.ErrorTypes.MEDIA_ERROR:V.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=V,this.hlsModule=$}}},61040:(H,E,e)=>{"use strict";e.d(E,{Yq:()=>z,CH:()=>ie,KG:()=>Y});var t=e(6400),f=e(30396),s=e(88812),g=e(83322),P=e(34755),y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(Q,ae,te)=>ae in Q?y(Q,ae,{enumerable:!0,configurable:!0,writable:!0,value:te}):Q[ae]=te,M=(Q,ae)=>{for(var te in ae||(ae={}))d.call(ae,te)&&D(Q,te,ae[te]);if(p)for(var te of p(ae))w.call(ae,te)&&D(Q,te,ae[te]);return Q},c=(Q,ae)=>C(Q,u(ae));const i=Q=>(0,t.h)(P.l,c(M({},Q),{name:"LucideMute",svgParams:{height:24,width:24,stroke:Q.stroke,strokeWidth:Q.strokeWidth}}),(0,t.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}));var v=e(8479),O=e(17025),T=e(13045),I=e(12876),L=e(67963),S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,G=(Q,ae,te)=>ae in Q?S(Q,ae,{enumerable:!0,configurable:!0,writable:!0,value:te}):Q[ae]=te,re=(Q,ae)=>{for(var te in ae||(ae={}))W.call(ae,te)&&G(Q,te,ae[te]);if(U)for(var te of U(ae))K.call(ae,te)&&G(Q,te,ae[te]);return Q},$=(Q,ae)=>N(Q,R(ae)),F=(Q,ae,te)=>new Promise((oe,ue)=>{var ee=fe=>{try{se(te.next(fe))}catch(ve){ue(ve)}},le=fe=>{try{se(te.throw(fe))}catch(ve){ue(ve)}},se=fe=>fe.done?oe(fe.value):Promise.resolve(fe.value).then(ee,le);se((te=te.apply(Q,ae)).next())});const Z={mutes:[],blocks:[],blocked:[]},q=(0,t.createContext)({result:Z,refetch:()=>null});q.displayName="UserBlockContext";function V({user:Q,children:ae}){var te;const oe=useFetch({pathname:"/api/v1/blocks/ids",deps:[Q],auto:!!Q});return h(q.Provider,{value:{result:(te=oe.result)!=null?te:Z,refetch:oe.refetch}},ae)}function j(){return(0,f.qp)(q)}function Y(Q){const{result:{mutes:ae,blocks:te,blocked:oe}}=(0,f.qp)(q);return Q?ae.includes(Q)?"muting":te.includes(Q)?"blocking":oe.includes(Q)?"blocked":null:null}function ie(Q,ae){const te=(0,L.aF)(),oe=!!(te&&Q&&te.id!==Q.id),ue=j(),ee=Y(Q==null?void 0:Q.id),le=(0,T.pm)(),se=(0,g.guessFirstName)((Q==null?void 0:Q.name)||""),fe=()=>F(this,null,function*(){if(Q){try{yield(0,v.rd)(`/api/v1/blocks/${Q.id}`,{method:"POST",json:{type:"mute",surface:ae}})}catch(me){le.popToast(Le=>(0,t.h)(T.FN,$(re({},Le),{text:(0,O.getNetworkErrorMessage)(me)})));return}ue.refetch(),le.popToast(me=>(0,t.h)(T.FN,$(re({},me),{text:`${Q.name||"User"} muted`,Icon:i})))}}),ve=()=>F(this,null,function*(){if(Q){try{yield(0,v.rd)(`/api/v1/blocks/${Q.id}`,{method:"DELETE",query:{surface:ae}})}catch(me){le.popToast(Le=>(0,t.h)(T.FN,$(re({},Le),{text:(0,O.getNetworkErrorMessage)(me)})));return}ue.refetch(),le.popToast(me=>(0,t.h)(T.FN,$(re({},me),{text:`${Q.name||"User"} unmuted`,Icon:i})))}}),ge=()=>F(this,null,function*(){if(Q){try{yield(0,v.rd)(`/api/v1/blocks/${Q.id}`,{method:"POST",json:{type:"block",surface:ae}})}catch(me){le.popToast(Le=>(0,t.h)(T.FN,$(re({},Le),{text:(0,O.getNetworkErrorMessage)(me)})));return}ue.refetch(),le.popToast(me=>(0,t.h)(T.FN,$(re({},me),{text:`${Q.name||"User"} blocked`,Icon:s.Z})))}}),be=()=>F(this,null,function*(){if(Q){try{yield(0,v.rd)(`/api/v1/blocks/${Q.id}`,{method:"DELETE",query:{surface:ae}})}catch(me){le.popToast(Le=>(0,t.h)(T.FN,$(re({},Le),{text:(0,O.getNetworkErrorMessage)(me)})));return}ue.refetch(),le.popToast(me=>(0,t.h)(T.FN,$(re({},me),{text:`${Q.name||"User"} unblocked`,Icon:s.Z})))}}),ne=[];return oe&&(ee!=="blocking"&&ne.push((0,t.h)(I.sN,{icon:(0,t.h)(i,null),onClick:ee==="muting"?ve:fe},ee==="muting"?"Unmute":"Mute")),ne.push((0,t.h)(I.sN,{icon:(0,t.h)(s.Z,null),onClick:ee==="blocking"?be:ge},ee==="blocking"?"Unblock":"Block"))),ne}const ce=(0,t.createContext)(!1);ce.displayName="MuteFreeZone";function de({muteFree:Q=!0,children:ae}){return h(ce.Provider,{value:Q},ae)}function z(){return(0,f.qp)(ce)}},2405:(H,E,e)=>{"use strict";e.d(E,{LC:()=>P,uL:()=>g});var t=e(6400),f=e(30396);const s=(0,t.createContext)(null);s.displayName="CrossPostContext";function g({crossPost:y=null,children:C}){return(0,t.h)(s.Provider,{value:y},C)}function P(){return(0,f.qp)(s)}},29910:(H,E,e)=>{"use strict";e.d(E,{Cq:()=>g,UN:()=>P,_j:()=>s});var t=e(6400),f=e(30396);const s=(0,t.createContext)({isSubstack:!1,customDomain:null});s.displayName="DomainInfoContext";function g(){return(0,f.qp)(s)}function P({value:y,children:C}){const u=(0,f.Ye)(()=>y,Object.values(y));return(0,t.h)(s.Provider,{value:u},C)}},4190:(H,E,e)=>{"use strict";e.d(E,{Vt:()=>N,f9:()=>U,jc:()=>R,kx:()=>S,ng:()=>L,xu:()=>O});var t=e(6400),f=e(98661),s=e(30396),g=e(80569),P=e.n(g),y=e(78515),C=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(W,K,G)=>K in W?C(W,K,{enumerable:!0,configurable:!0,writable:!0,value:G}):W[K]=G,c=(W,K)=>{for(var G in K||(K={}))w.call(K,G)&&M(W,G,K[G]);if(d)for(var G of d(K))D.call(K,G)&&M(W,G,K[G]);return W},l=(W,K)=>u(W,p(K)),i=(W,K,G)=>new Promise((re,$)=>{var F=V=>{try{q(G.next(V))}catch(j){$(j)}},Z=V=>{try{q(G.throw(V))}catch(j){$(j)}},q=V=>V.done?re(V.value):Promise.resolve(V.value).then(F,Z);q((G=G.apply(W,K)).next())}),v;const O={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},T=typeof window!="undefined"&&window._preloads||O,I=typeof window!="undefined"?(v=window._preloads)==null?void 0:v.siteConfigs:{},L=(W,K)=>{const G=j=>{if(!j||!W)return null;const Y=W[j];return Y===void 0?null:Y},re=j=>{if(!j)return null;const Y=G(j);if(Y&&typeof Y=="string"&&Y!=="experiment")return{intendedVariant:Y,shouldLog:!1};if(K.variantOverrides&&j in K.variantOverrides)return{intendedVariant:K.variantOverrides[j],shouldLog:!1};const ie=K.experimentExposures||{};if(ie[j])return{intendedVariant:ie[j],shouldLog:!1};const ce=K.experimentFeatures||{};return ce[j]?{intendedVariant:ce[j],shouldLog:!0}:null},$=F=j=>{if(!j)return null;const Y=G(j);if(Y&&typeof Y=="string"&&Y!=="experiment")return Y;if(K.variantOverrides&&j in K.variantOverrides)return K.variantOverrides[j];const ie=K.experimentExposures||{};return ie[j]?ie[j]:null},Z=(j,Y)=>i(void 0,null,function*(){if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const ie=window._preloads.experimentExposures;ie[j]=Y;try{yield P().post("/api/v1/experiment_exposure").send({experiment_name:j,variant_name:Y})}catch(ce){delete ie[j]}}});return{getExperimentVariant:$,exposeExperiment:j=>i(void 0,null,function*(){const{intendedVariant:Y,shouldLog:ie}=re(j)||{};return ie?(yield Z(j,Y),!0):!1}),getExposedVariant:F,refreshExperimentVariants:()=>i(void 0,null,function*(){var j;const Y=yield P().get("/api/v1/experiment_features");(j=Y.body)!=null&&j.features&&(0,y.a)({experimentFeatures:Y.body.features})})}},S=(0,t.createContext)(L(I,T));S.displayName="ExperimentsContext";function N({siteConfigs:W={},experimentInfo:K,children:G}){const re=K||T,$=(0,s.Ye)(()=>L(W,re),[W,...Object.values(re)]);return(0,t.h)(S.Provider,{value:$},G)}function R(){return(0,s.qp)(S)}const U=W=>{const K=(0,f.forwardRef)((G,re)=>{const $=R();return(0,t.h)(W,l(c(c({},$),G),{ref:re}))});return K.displayName=`withExperimentsContext(${W.displayName||W.name||"Anonymous"})`,K}},58718:(H,E,e)=>{"use strict";e.d(E,{OK:()=>de,Rc:()=>ce,oh:()=>j,Sv:()=>Y,yr:()=>ie,Xe:()=>Z,oJ:()=>q});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(82569),y=e.n(P),C=e(95591),u=e(69518),p=e(60779),d=e(59386),w=e(26686),D=e(4508),M=e(50292),c=e(83322),l=e(8479),i=e(17025),v=e(13045),O=e(12876),T=e(61040),I=e(67963);const L={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,G=(z,Q,ae)=>Q in z?S(z,Q,{enumerable:!0,configurable:!0,writable:!0,value:ae}):z[Q]=ae,re=(z,Q)=>{for(var ae in Q||(Q={}))W.call(Q,ae)&&G(z,ae,Q[ae]);if(U)for(var ae of U(Q))K.call(Q,ae)&&G(z,ae,Q[ae]);return z},$=(z,Q)=>N(z,R(Q)),F=(z,Q,ae)=>new Promise((te,oe)=>{var ue=se=>{try{le(ae.next(se))}catch(fe){oe(fe)}},ee=se=>{try{le(ae.throw(se))}catch(fe){oe(fe)}},le=se=>se.done?te(se.value):Promise.resolve(se.value).then(ue,ee);le((ae=ae.apply(z,Q)).next())});unction q(){const{mutate:z}=(0,C.kY)();returnfunction V(z,Q){const{data:ae}=Z(Q);return(ae!=null?ae:[]).includes(z!=null?z:0)}function j(z,Q){const{isFollowing:ae,toggle:te}=Y(z,Q),oe=(0,I.aF)(),ue=(0,T.KG)(z==null?void 0:z.id),ee=!!(oe&&z&&oe.id!==z.id)&&!ue,le=(0,c.guessFirstName)((z==null?void 0:z.name)||""),se=[];return ee&&se.push((0,t.h)(O.sN,{icon:ae?(0,t.h)(d.m,{stroke:"var(--color-primary)"}):(0,t.h)(p.w,{stroke:"var(--color-primary)"}),onClick:te},ae?`Unfollow ${le}`:`Follow ${le}`)),se}function Y(z,Q,ae){const te=(0,I.aF)(),{onboardingModalRef:oe}=(0,M.SJ)(),ue=V(z==null?void 0:z.id,ae),{mutate:ee,data:le}=Z(ae),se=(0,v.pm)(),fe=(0,c.guessFirstName)((z==null?void 0:z.name)||""),ve=be=>F(this,null,function*(){if(z){if(!te&&oe.current){oe.current.open();return}ee((ne=[])=>be?[...ne,z.id]:y()(ne,z.id),{revalidate:!1});try{yield(0,l.rd)(`/api/v1/feed/${z.id}/follow`,{method:be?"POST":"DELETE",json:{surface:Q}}),se.popToast(ne=>(0,t.h)(v.FN,$(re({},ne),{Icon:be?u.$:d.m,text:be?`Followed ${fe}`:`Unfollowed ${fe}`})))}catch(ne){se.popToast(me=>(0,t.h)(v.FN,$(re({},me),{text:(0,i.getNetworkErrorMessage)(ne)})));return}}});return{isFollowing:ue,toggle:()=>ve(!ue),isLoaded:!!le}}function ie(z,Q){const{isFollowing:ae,toggle:te}=Y(z,Q),[oe,ue]=(0,f.eJ)(!1);return{isFollowing:ae,buttonProps:{onClick:()=>{te(),ae||ue(!0)},onMouseLeave:()=>ue(!1),className:g()(L.followButton,oe&&L.justFollowed)},css:L}}const ce=(0,D.E7)({className:L.on,as:"span"}),de=(0,D.E7)({className:L.off,as:"span"})},28488:(H,E,e)=>{"use strict";e.d(E,{M1:()=>T,_7:()=>I,fz:()=>L,wj:()=>O});var t=e(6400),f=e(98661),s=e(30396),g=e(36808),P=e.n(g),y=e(3258),C=e(8111),u=Object.defineProperty,p=Object.defineProperties,d=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,c=(S,N,R)=>N in S?u(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,l=(S,N)=>{for(var R in N||(N={}))D.call(N,R)&&c(S,R,N[R]);if(w)for(var R of w(N))M.call(N,R)&&c(S,R,N[R]);return S},i=(S,N)=>p(S,d(N));const v="preferred_language",O=(0,t.createContext)({language:"en",baseLanguage:"en",preferredLanguage:P().get(v),iString:iContext:iPlural:iTemplate:(S,...N)=>(0,C.defaultTemplateTranslate)(S,...N),iCombo:(S,N,R,U,...W)=>N,setPreferredLanguage:);O.displayName="I18NContext";function T(){return(0,s.qp)(O)}function I({children:S,language:N="en",preferredLanguage:R}){const[U,W]=(0,s.eJ)(()=>R);(0,s.d4)(()=>{U?P().set(v,U):P().remove(v)},[U]);const K=(0,s.Ye)(()=>{const G=U||N;return l({language:G,baseLanguage:N,preferredLanguage:U,setPreferredLanguage:$=>{(0,y.track)(y.EVENTS.PREFERRED_LANGUAGE_SET,{from:G,to:$,surface:"writer-signup"}),W($)}},C.I18N.i(G))},[N,U]);return(0,t.h)(O.Provider,{value:K},S)}function L(S){const N=(0,f.forwardRef)((R,U)=>{const W=T();return(0,t.h)(S,i(l(l({},W),R),{ref:U}))});return N.displayName=`withI18NContext(${S.displayName||S.name||"Anonymous"})`,N}},85065:(H,E,e)=>{"use strict";e.d(E,{N$:()=>L,lR:()=>N,yH:()=>K});var t=e(6400),f=e(30396),s=e(80569),g=e.n(s),P=e(6742),y=e(35442),C=e(63503),u=e(8479),p=e(17025),d=e.n(p),w=Object.defineProperty,D=Object.defineProperties,M=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(re,$,F)=>$ in re?w(re,$,{enumerable:!0,configurable:!0,writable:!0,value:F}):re[$]=F,O=(re,$)=>{for(var F in $||($={}))l.call($,F)&&v(re,F,$[F]);if(c)for(var F of c($))i.call($,F)&&v(re,F,$[F]);return re},T=(re,$)=>D(re,M($)),I=(re,$,F)=>new Promise((Z,q)=>{var V=ie=>{try{Y(F.next(ie))}catch(ce){q(ce)}},j=ie=>{try{Y(F.throw(ie))}catch(ce){q(ce)}},Y=ie=>ie.done?Z(ie.value):Promise.resolve(ie.value).then(V,j);Y((F=F.apply(re,$)).next())});function L({defaultState:re,shouldLoad:$=!0,shouldPoll:F=!1,activityToken:Z,children:q}){return(0,t.h)(R,{defaultState:re==null?void 0:re.activity,shouldLoad:$,shouldPoll:F,activityToken:Z},(0,t.h)(G,{shouldLoad:$},q))}const S=(0,t.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>I(void 0,null,function*(){return!0}),markAllAsRead:()=>I(void 0,null,function*(){}),hasLoadedOnce:!1});S.displayName="NotificationsContext";function N(){return(0,f.qp)(S)}function R({defaultState:re,shouldLoad:$=!0,shouldPoll:F=!1,activityToken:Z,children:q}){const V=(0,u.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:$,initialResult:re,query:{token:Z}}),j=!(0,P.th)(),Y=()=>I(this,null,function*(){const ce=yield g().post("/api/v1/activity/unread").send({after:new Date().toISOString(),token:Z});V.setResult(ce.body)});(0,C.Z)(()=>I(this,null,function*(){var ce;if(F&&$&&(0,p.isWindowVisible)()){const de=((ce=V.result)==null?void 0:ce.count)||0,z=yield V.refetch(),Q=!(z instanceof Error)&&z.count||0;if(de!==Q)return!0}}),6e4);const ie=V.result!=null?V.result.count:0;return(0,f.d4)(()=>{var ce;try{(ce=navigator.setAppBadge)==null||ce.call(navigator,ie)}catch(de){console.warn(de)}},[ie]),(0,t.h)(S.Provider,{value:{lastViewedAt:V.result!=null?V.result.lastViewedAt:null,activityUnreadCount:ie,activityUnreadAtMax:V.result!=null?V.result.max:!1,refetch:V.refetch,markAllAsRead:Y,hasLoadedOnce:V.hasLoadedOnce}},(0,t.h)(y.Metadata,{badge:j?ie:void 0}),q)}const U={count:0,max:!1,refetch:()=>I(void 0,null,function*(){return!0}),markAllAsRead:hasLoadedOnce:!1},W=(0,t.createContext)(U);W.displayName="SavedPostsContext";function K(){return(0,f.qp)(W)}function G({shouldLoad:re=!0,children:$}){const F=(0,u.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:re,initialResult:U}),Z=return(0,t.h)(W.Provider,{value:T(O({},F.result),{refetch:F.refetch,markAllAsRead:Z,hasLoadedOnce:F.hasLoadedOnce})},$)}},92643:(H,E,e)=>{"use strict";e.d(E,{Un:()=>d,am:()=>p});var t=e(6400),f=e(30396),s=e(80569),g=e.n(s),P=e(95788),y=e(67963),C=(w,D,M)=>new Promise((c,l)=>{var i=T=>{try{O(M.next(T))}catch(I){l(I)}},v=T=>{try{O(M.throw(T))}catch(I){l(I)}},O=T=>T.done?c(T.value):Promise.resolve(T.value).then(i,v);O((M=M.apply(w,D)).next())});const u=(0,t.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});u.displayName="ProfileContext";function p({value:w,handle:D,children:M}){const[c,l]=(0,f.eJ)({profile:null,loading:!1}),[i,v]=(0,f.eJ)(new Map(w?[[D||w.id,{profile:w,loading:!1}]]:[])),O={viewerProfile:c,setViewerProfile:(0,f.I4)((T,I)=>{l(},[]),profiles:i,setProfile:(0,f.I4)((T,I,L)=>{v(S=>{var N,R;if(((N=S.get(T))==null?void 0:N.profile)===I&&((R=S.get(T))==null?void 0:R.loading)===L)return S;const U=new Map(S);return U.set(T,{profile:I,loading:L}),U})},[])};return(0,t.h)(u.Provider,{value:O},M)}function d({subjectId:w,subjectName:D,delayLoading:M}){const c=(0,y.aF)(),{viewerProfile:l,setViewerProfile:i,profiles:v,setProfile:O}=(0,f.qp)(u),[T,I]=(0,f.eJ)(null);if(typeof w=="string")if(w.includes("-")){const W=w.split("-");w=W[0],D=W.slice(1).join("-")}else w.startsWith("@")&&(w=w.slice(1));const L=v.get(w),S=(0,f.I4)(W=>C(this,null,function*(){i(l.profile,!0);const K=(0,P.H)(W.name,{hashIfEmpty:!0});try{const G=yield g().get(`/api/v1/user/${W.id}-${K}/public_profile/self`).then(re=>re.body);i(G,!1)}catch(G){G instanceof Error&&I(G),i(null,!1)}}),[l,i,I]),N=L==null?void 0:L.profile,R=l.profile,U=(0,f.I4)(W=>C(this,null,function*(){!R&&c&&S(c),O(W,N,!0);try{const K=D&&(0,P.H)(D,{hashIfEmpty:!0}),G=yield K?g().get(`/api/v1/user/${W}-${K}/public_profile`).then(re=>re.body):g().get(`/api/v1/user/${W}/public_profile`).then(re=>re.body);O(W,G,!1)}catch(K){K instanceof Error&&I(K),O(W,N,!1)}}),[N,O,D,R,S,c]);return(0,f.d4)(()=>{!M&&!(L!=null&&L.profile)&&!(L!=null&&L.loading)&&!T&&U(w),!M&&!l.loading&&!l.profile&&!T&&c&&S(c)},[M,w,U,L,T,l,S,c]),{loading:!!(L!=null&&L.loading),viewerProfile:l.profile,subjectProfile:L==null?void 0:L.profile,refetch:U,error:T}}},71720:(H,E,e)=>{"use strict";e.d(E,{G:()=>P,I:()=>y});var t=e(6400),f=e(30396),s;const g=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.pub:null,P=(0,t.createContext)(g);P.displayName="PubContext";function y(){return(0,f.qp)(P)}},32076:(H,E,e)=>{"use strict";e.d(E,{Iz:()=>I,So:()=>L,us:()=>T,vz:()=>O});var t=e(6400),f=e(98661),s=e(30396),g=e(8479),P=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,w=(S,N,R)=>N in S?P(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,D=(S,N)=>{for(var R in N||(N={}))p.call(N,R)&&w(S,R,N[R]);if(u)for(var R of u(N))d.call(N,R)&&w(S,R,N[R]);return S},M=(S,N)=>y(S,C(N)),c=(S,N,R)=>new Promise((U,W)=>{var K=$=>{try{re(R.next($))}catch(F){W(F)}},G=$=>{try{re(R.throw($))}catch(F){W(F)}},re=$=>$.done?U($.value):Promise.resolve($.value).then(K,G);re((R=R.apply(S,N)).next())}),l;const i=typeof window!="undefined"?(l=window._preloads)==null?void 0:l.publicationSettings:{},v=S=>({getSettingFor:R=>{if(!R||!S)return null;const U=S[R];return U===void 0?null:U}}),O=(0,t.createContext)(M(D({},v(i)),{changeSetting:));O.displayName="PublicationSettingsContext";const T=S=>{const N=(0,f.forwardRef)((R,U)=>{const W=L();return(0,t.h)(S,M(D(D({},W),R),{ref:U}))});return N.displayName=`withPubSettingsContext(${S.displayName||S.name||"Anonymous"})`,N};function I({settings:S={},children:N}){const[R,U]=(0,s.eJ)(S),W=G=>c(this,null,function*(){U(D(D({},R),G));try{yield(0,g.rd)("/api/v1/publication_settings",{method:"PUT",json:G})}catch(re){console.error(re)}}),K=(0,s.Ye)(()=>M(D({},v(R)),{changeSetting:W}),[R]);return(0,t.h)(O.Provider,{value:K},N)}function L(){return(0,s.qp)(O)}},63270:(H,E,e)=>{"use strict";e.d(E,{QA:()=>i,Xz:()=>l,vC:()=>v,xR:()=>T,xY:()=>O});var t=e(6400),f=e(98661),s=e(30396),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(I,L,S)=>L in I?g(I,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):I[L]=S,w=(I,L)=>{for(var S in L||(L={}))u.call(L,S)&&d(I,S,L[S]);if(C)for(var S of C(L))p.call(L,S)&&d(I,S,L[S]);return I},D=(I,L)=>P(I,y(L)),M;const c=typeof window!="undefined"?(M=window._preloads)==null?void 0:M.siteConfigs:{},l=I=>({allConfigs:I,getConfigFor:S=>{if(!S||!I)return null;const N=I[S];return N===void 0?null:N}}),i=(0,t.createContext)(l(c));i.displayName="SiteConfigsContext";function v({siteConfigs:I={},children:L}){const S=(0,s.Ye)(()=>l(I),[I]);return(0,t.h)(i.Provider,{value:S},L)}const O=I=>{const L=(0,f.forwardRef)((S,N)=>{const R=T();return(0,t.h)(I,D(w(w({},R),S),{ref:N}))});return L.displayName=`withSiteConfigContext(${I.displayName||I.name||"Anonymous"})`,L};function T(){return(0,s.qp)(i)}},18597:(H,E,e)=>{"use strict";e.d(E,{Tf:()=>g,ze:()=>P});var t=e(6400),f=e(30396);const s=(0,t.createContext)({hasThemedBackground:!1});s.displayName="ThemeContext";function g(){var y;return!!((y=(0,f.qp)(s))!=null&&y.hasThemedBackground)}function P({value:y,children:C}){const u=(0,f.Ye)(()=>y,Object.values(y));return(0,t.h)(s.Provider,{value:u},C)}},67963:(H,E,e)=>{"use strict";e.d(E,{SE:()=>N,St:()=>T,aF:()=>L,dr:()=>I});var t=e(6400),f=e(30396),s=e(8479),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(U,W,K)=>W in U?g(U,W,{enumerable:!0,configurable:!0,writable:!0,value:K}):U[W]=K,w=(U,W)=>{for(var K in W||(W={}))u.call(W,K)&&d(U,K,W[K]);if(C)for(var K of C(W))p.call(W,K)&&d(U,K,W[K]);return U},D=(U,W)=>P(U,y(W)),M=(U,W,K)=>new Promise((G,re)=>{var $=q=>{try{Z(K.next(q))}catch(V){re(V)}},F=q=>{try{Z(K.throw(q))}catch(V){re(V)}},Z=q=>q.done?G(q.value):Promise.resolve(q.value).then($,F);Z((K=K.apply(U,W)).next())}),c,l,i;const v=typeof window!="undefined"?(c=window._preloads)==null?void 0:c.user:null,O=(i=typeof window!="undefined"&&((l=window._preloads)==null?void 0:l.userSettings))!=null?i:{},T=(0,t.createContext)({user:v,setUser:()=>{},userSettings:O,changeSetting:()=>{}});T.displayName="UserContext";function I({defaultValue:U,userSettings:W,children:K}){const[G,re]=(0,f.eJ)(U||v),[$,F]=(0,f.eJ)(W!=null?W:O),Z=(V,j,Y)=>M(this,null,function*(){if(!G)return;const ie=$[V];F(D(w({},$),{[V]:j}));const ce=Y==="bool"||!Y&&typeof j=="boolean"?j:void 0,de=Y==="datetime"||!Y&&typeof j=="string"?j:void 0,z=Y==="text"?j:void 0;try{yield(0,s.rd)("/api/v1/user-setting",{method:"PUT",json:{type:V,value_bool:ce,value_datetime:de,value_text:z}})}catch(Q){if(Q instanceof s.kp)alert(Q.getMessage()),F(;else throw Q}}),q=(0,f.Ye)(()=>({user:G,setUser:re,userSettings:$,changeSetting:Z}),[G,$]);return(0,t.h)(T.Provider,{value:q},K)}nction N(){return(0,f.qp)(T)}const R=U=>{const W=K=>{const G=useContext(T);return h(U,w({user:G},K))};return W.displayName=`withUserContext(${U.name||U.displayName||"Anonymous"})`,W}},46505:(H,E,e)=>{"use strict";e.d(E,{E:()=>g});var t=e(6400),f=e(32076),s=e(63270);const g=(0,t.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function P({isAmp:y,isFreeSubscribed:C,isFreemail:u,siteConfigValues:p,children:d,isPledged:w,publicationSettings:D}){return h(g.Provider,{value:{isStatic:!0,isAmp:y,isFreeSubscribed:C!==!1,isFreemail:u,siteConfigValues:p,isPledged:w}},h(SiteConfigsProvider,{siteConfigs:p},h(PublicationSettingsProvider,{settings:D},d)))}},95504:(H,E,e)=>{"use strict";var t=e(6400),f=e(30396),s=e(94184),g=e(3258),P=e(59009),y=e(82626),C=e(52743),u=e(83322),p=e(25702),d=e(28488),w=e(43887),D=e(46505),M=e(16181);const c={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var l=Object.defineProperty,i=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,T=(q,V,j)=>V in q?l(q,V,{enumerable:!0,configurable:!0,writable:!0,value:j}):q[V]=j,I=(q,V)=>{for(var j in V||(V={}))v.call(V,j)&&T(q,j,V[j]);if(i)for(var j of i(V))O.call(V,j)&&T(q,j,V[j]);return q},L=(q,V)=>{var j={};for(var Y in q)v.call(q,Y)&&V.indexOf(Y)<0&&(j[Y]=q[Y]);if(q!=null&&i)for(var Y of i(q))V.indexOf(Y)<0&&O.call(q,Y)&&(j[Y]=q[Y]);return j};function S({pub:q,upsell:V,unsubscribe_url:j,unsubscribeOverrideText:Y,hasApp:ie,hideStartWriting:ce}){return h(N,{upsell:V,hasApp:ie,hideStartWriting:ce},h(W,{pub:q,unsubscribe_url:j,unsubscribeOverrideText:Y}))}function N({upsell:q,children:V,hasApp:j,hideStartWriting:Y}){return h("div",{className:classnames("footer",css.footer)},!j&&q&&h(Fragment,null,h("div",{className:css.footerSection},q),h("div",{className:css.divider})),V&&h("div",{style:{paddingBottom:24}},V),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!q&&!j&&h(K,null),!Y&&h(G,null)))}function R({primary:q,secondary:V,replaceAppButtonsWithCTA:j}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},q),h(Text.B4,{color:"secondary",style:{marginBottom:16}},V),!j&&h("div",null,h($,{utm_source:UTM_SOURCE.substack,utm_campaign:UTM_CAMPAIGN.appMarketing}),h(F,{utm_source:UTM_SOURCE.substack,utm_campaign:UTM_CAMPAIGN.appMarketing})),j&&h("div",null,h(ThemedEmailButtonMod,{href:j.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},j.text)))}function U({children:q}){return h("div",{className:classnames("footer")},q)}function W({pub:q,unsubscribe_url:V,unsubscribeOverrideText:j,extraLink:Y}){const{iString:ie}=useI18N(),ce=joinLines(q.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,q.copyright),ce&&ce.split(`
`).reduce((de,z)=>(de.push(h("br",null),z),de),[]),V!==!1&&[" ",h(Fragment,null,h("br",null),Y&&h("span",null,Y," \u2022 "),h("a",{href:V||Substitutions.UNSUBSCRIBE_URL},h("span",null,j||ie("Unsubscribe"))))])}function K(){const{iString:q,language:V}=useI18N(),j=`${getSubstackUrl()}/img/email/generic-app-button${V!=="en"?`-${V}`:""}.png`,Y={en:131,es:135,it:135,fr:135,de:147,"de-machine":147,pt:135,"pt-br":135};return h("a",{href:getAppStoreRedirectUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.emailFooterButton})},h(re,{alt:q("Get the app"),src:j,pixelRatio:3,width:Y[V],height:40}))}function G(){const{iString:q,language:V}=useI18N(),j=`${getSubstackUrl()}/img/email/publish-button${V!=="en"?`-${V}`:""}.png`,Y={en:135,es:182,it:164,fr:184,de:203,"de-machine":203,pt:184,"pt-br":184};return h("a",{href:Substitutions.START_WRITING_URL},h(re,{alt:q("Start writing"),src:j,pixelRatio:3,width:Y[V],height:40}))}function re(q){var V=q,{src:j,pixelRatio:Y,width:ie}=V,ce=L(V,["src","pixelRatio","width"]);let de;const{isAmp:z}=useContext(EmailRenderingContext);if(typeof URL=="undefined")de=null;else{let Q;try{Q=new URL(j)}catch(te){Q=new URL(getSubstackUrl()+j)}const ae=Array(Y).fill(0).map((te,oe)=>{if(oe===0)return imginary(j,ie);const ue=new URL(Q),[ee,le]=ue.pathname.split("."),se=oe+1;return ue.pathname=`${ee}@${se}x.${le}`,imginary(ue.toString(),ie*se)});z?j=ae[ae.length-1]:(j=ae[1]||ae[0],de=ae.map((te,oe)=>oe===0?te:`${te} ${oe+1}x`).join(", "))}return h(Img,I({src:j,srcset:de,width:ie},ce))}function $({utm_campaign:q,utm_source:V}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:q,utm_source:V}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:V,app_store:"ios"})}},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function F({utm_campaign:q,utm_source:V}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:q,utm_source:V}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:V,app_store:"android"})}},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const Z=({text:q="Tweet",href:V})=>h("a",{className:css.twitter,href:V},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},q))},57491:(H,E,e)=>{"use strict";var t=e(6400),f=e(30396),s=e(83322),g=e(46505),P=e(95504),y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(N,R,U)=>R in N?y(N,R,{enumerable:!0,configurable:!0,writable:!0,value:U}):N[R]=U,w=(N,R)=>{for(var U in R||(R={}))u.call(R,U)&&d(N,U,R[U]);if(C)for(var U of C(R))p.call(R,U)&&d(N,U,R[U]);return N},D=(N,R)=>{var U={};for(var W in N)u.call(N,W)&&R.indexOf(W)<0&&(U[W]=N[W]);if(N!=null&&C)for(var W of C(N))R.indexOf(W)<0&&p.call(N,W)&&(U[W]=N[W]);return U};const M="550",c=N=>{var R=N,{children:U,className:W}=R,K=D(R,["children","className"]);return h("table",w({role:"presentation",className:W,width:"auto"},K),U)},l=({children:N,className:R,width:U=M})=>(0,t.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,t.h)("tr",null,(0,t.h)("td",null),(0,t.h)("td",{className:"content",width:U}),(0,t.h)("td",null)),(0,t.h)("tr",null,(0,t.h)("td",null),(0,t.h)("td",{align:"left",className:R?`content ${R}`:"content",width:U},(0,t.h)("div",null,N)),(0,t.h)("td",null))),i=({text:N})=>(0,t.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},N," ","\xA0\u200C".repeat(200)),v=({children:N,className:R,description:U,title:W="Email from Substack"})=>h("html",null,h("head",null,h("title",null,W),h("meta",{charset:"utf-8"})),h("body",{className:R},U&&h(i,{text:U}),N)),O=({title:N,description:R,children:U,bodyClassName:W="email-body",className:K="",emailWidth:G=""})=>{const{isAmp:re}=(0,f.qp)(g.E);return(0,t.h)("html",w({},{amp4email:re?!0:void 0,"data-css-strict":re?!0:void 0}),(0,t.h)("head",null,(0,t.h)("meta",{charset:"utf-8"}),!re&&(0,t.h)("title",null,N),re&&(0,t.h)(t.Fragment,null,(0,t.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,t.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,t.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,t.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,t.h)("body",{className:W},R&&(0,t.h)(i,{text:R}),(0,t.h)(l,w({className:K},G&&{width:G}),U)))},T=({title:N,description:R,children:U,className:W,width:K})=>h("html",null,h("head",null,h("title",null,N),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},R&&h(i,{text:R}),h(l,{className:W,width:K},U))),I=()=>{const N=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},N)},L=({delta:N,className:R,withPercent:U})=>{const W=N<0?"negative":N>0?"positive":"neutral";return W==="neutral"?h("span",{className:`${R} neutral`},"\u2013"):h("span",{className:`${R} ${W}`},W==="positive"?`+${numberToString(N)}${U?"%":""}`:`${numberToString(N)}${U?"%":""}`)},S={EmailDocument:O}},16181:(H,E,e)=>{"use strict";e.d(E,{Bj:()=>V,NS:()=>Y,YF:()=>oe,_i:()=>q,b9:()=>j,i$:()=>z,zK:()=>Q});var t=e(6400),f=e(94184),s=e.n(f),g=e(39693),P=e.n(g),y=e(32542),C=e.n(y),u=e(14531),p=e(74806),d=e(52743),w=e(83322),D=e(45809),M=e(25702),c=e(19696),l=e(9178),i=e(57491),v=e(95504),O=e(21444),T=Object.defineProperty,I=Object.defineProperties,L=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,U=(se,fe,ve)=>fe in se?T(se,fe,{enumerable:!0,configurable:!0,writable:!0,value:ve}):se[fe]=ve,W=(se,fe)=>{for(var ve in fe||(fe={}))N.call(fe,ve)&&U(se,ve,fe[ve]);if(S)for(var ve of S(fe))R.call(fe,ve)&&U(se,ve,fe[ve]);return se},K=(se,fe)=>I(se,L(fe)),G=(se,fe)=>{var ve={};for(var ge in se)N.call(se,ge)&&fe.indexOf(ge)<0&&(ve[ge]=se[ge]);if(se!=null&&S)for(var ge of S(se))fe.indexOf(ge)<0&&R.call(se,ge)&&(ve[ge]=se[ge]);return ve};function re(se){return h($,K(W({},se),{unsubscribe_url:"%%unsubscribe_url%%"}))}function $({pub:se=wwwPub,description:fe,noPromo:ve,children:ge,noLogo:be,noFooter:ne,unsubscribe_url:me,extraFooterLink:Le,hasApp:Re}){const Me=(se.id===0||!!getLogo(se))&&!be;return h(te,{description:fe},h(z,{gap:16},compact([Me&&h(PubIcon,{pub:se.is_www?K(W({},se),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):se,size:40}),ge,ne?null:ve?h(Z,{pub:se,unsubscribe_url:me,extraLink:Le}):h(F,{pub:se,unsubscribe_url:me,hasApp:Re}),h(SignatureFoldBreaker,null)])))}function F(se){var fe=se,{pub:ve,unsubscribe_url:ge}=fe,be=G(fe,["pub","unsubscribe_url"]);return ve?h(EmailFooter,W({pub:ve,unsubscribe_url:ge==null?!1:ge},be)):null}function Z({pub:se,unsubscribe_url:fe,extraLink:ve}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:se,unsubscribe_url:fe==null?!1:fe,extraLink:ve}))}function q({children:se,href:fe,testId:ve,tableClassName:ge,tdClassName:be,aClassName:ne,alt:me,download:Le,target:Re,style:Me}){return(0,t.h)(oe,{className:ge,style:Me},(0,t.h)("tr",null,(0,t.h)("td",{className:be,align:"center"},fe?(0,t.h)("a",{href:fe,className:s()(ne),"data-test-id":ve,alt:me,download:Le,target:Re},se):(0,t.h)("span",{className:ne,"data-test-id":ve},se))))}function V(se={children:"",noUnderline:!1}){return(0,t.h)(q,K(W({},se),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function j(se){var fe=se,{fullWidth:ve,priority:ge="primary",aClassName:be}=fe,ne=G(fe,["fullWidth","priority","aClassName"]);return(0,t.h)(q,K(W({},ne),{tableClassName:ve?O.Z.fullWidth:void 0,aClassName:s()(ve&&O.Z.fullWidth,O.Z.emailButtonA,be),tdClassName:s()(ve&&O.Z.fullWidth,O.Z.emailButtonTd,O.Z[`priority_${ge}`])}))}function Y({src:se,size:fe,framed:ve}){return(0,t.h)(M.Z,{className:s()(u.A.avatar,O.Z.avatar,ve&&O.Z.framed),src:(0,d.imginary)(se),style:{width:fe,height:fe,minWidth:fe,minHeight:fe,objectFit:"cover",margin:0,display:"inline"},width:fe,height:fe})}function ie({src:se,size:fe}){return h(Img,{className:css.icon,src:imginary(se),style:{width:fe,height:fe,minWidth:fe,minHeight:fe,objectFit:"cover",margin:0},width:fe,height:fe})}const ce=(0,c.L)("email-text-button","a"),de=(0,c.L)("email-text-b4 email-text-secondary","div");function z({children:se,gap:fe=0,style:ve}){const ge=(0,t.toChildArray)(se),be=[];for(const me of ge.slice(0,-1))be.push((0,t.h)("tr",null,(0,t.h)("td",null,me))),fe>0&&be.push((0,t.h)("tr",{height:fe},(0,t.h)("td",null)));const ne=ge[ge.length-1];return ne&&be.push((0,t.h)("tr",null,(0,t.h)("td",null,ne))),(0,t.h)(oe,{style:ve},be)}function Q({children:se,gap:fe=0,style:ve,verticalAlign:ge="middle",growLastChild:be}){const ne=(0,t.toChildArray)(se),me=[];for(const Re of ne.slice(0,-1))me.push((0,t.h)("td",{style:{verticalAlign:ge}},Re)),fe>0&&me.push((0,t.h)("td",{width:fe,style:`min-width: ${fe}px`}));const Le=ne[ne.length-1];if(Le){const Re={verticalAlign:ge};be&&(Re.width="100%"),me.push((0,t.h)("td",{style:Re},Le))}return(0,t.h)(oe,{style:ve},(0,t.h)("tr",null,me))}function ae({users:se,post:fe,pub:ve,user:ge}){return h(FormattedArray,{array:se,limit:3,formatter:be=>h("a",{href:getReaderProfileUrl(be)},anonymousName(be,fe,ve,ge))})}function te({children:se,description:fe}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:fe},h(oe,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},se),h("td",{style:{color:"transparent"}},"\xA0"))))}function oe(se){var fe=se,{children:ve}=fe,ge=G(fe,["children"]);return(0,t.h)("table",W({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},ge),ve)}function ue(se){var fe=se,{src:ve}=fe,ge=G(fe,["src"]);return h(Img,W({src:getSubstackUrl()+ve},ge))}function ee(se){var fe=se,{src:ve,width:ge,height:be}=fe,ne=G(fe,["src","width","height"]);return h(Img,W({src:imginary(ve,ge*2,{height:be&&be*2})},ne))},78515:(H,E,e)=>{"use strict";e.d(E,{Z:()=>l,a:()=>v});var t=e(98661),f=e(6400),s=e(36808),g=e.n(s),P=e(8111),y=e(52743),C=e(3258),u=e(17025),p=e.n(u),d=e(37888),w=e(33291),D=e(19072);e(14369);const M="entry";let c;function l(N){var R,U,W;if(c)throw new Error("Cannot re-render the things");c=N,window._preloads&&(window._preloads.original_url=window.location.href),(0,C.initAnalytics)(),(0,d.j0)((U=(R=window._preloads)==null?void 0:R.user)==null?void 0:U.id),L(),O(),T(),(W=window._preloads)!=null&&W.language&&typeof window._preloads.customPublicationThemePreviewId=="undefined"&&P.supportedNonEnglishLanguages.indexOf(window._preloads.language)>-1&&window.fetch?i(I,window._preloads.language):I(),S()}function i(N,R){fetch(`/api/v1/i18n/translations?language=${R}`,{method:"GET"}).then(U=>U.json()).then(.finally(()=>{N()})}function v(N){let R=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const U in N)(typeof N[U]=="object"&&N[U]!==null||N[U]!==window._preloads[U])&&(window._preloads[U]=N[U],R=!0);R&&I()}function O(){const N=(0,y.parseQuery)(window.location.href);if(!N.token&&!N.lli||!window.history.replaceState)return;delete N.token,delete N.lli;const R=`${(0,y.pathWithQuery)(window.location.pathname,N)}${window.location.hash}`;window.history.replaceState({},document.title,R)}function T(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const N=window.history.pushState;history.pushState=function(R,U,W){var K;const G=N.apply(history,arguments);return((K=R==null?void 0:R.resetScroll)!=null?K:!0)&&W.indexOf("#")===-1&&window.scrollTo(0,0),G}}function I(){if(!c)return;const N=document.getElementById(M);(0,f.render)((0,f.h)(c,{initialData:window._preloads}),N||document.body)}function L(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let N;try{N=JSON.parse(s.get(D.Ic.ANONYMOUS_ID))}catch(R){}N||(N=(0,u.uuidV4)(),s.set(D.Ic.ANONYMOUS_ID,JSON.stringify(N),{expires:365})),window._analyticsConfig.anonymousId=N}}function S(){var N;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(N=window._preloads.user)!=null&&N.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},521:(H,E,e)=>{"use strict";e.d(E,{K:()=>i});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=e(84040),y=e(51126),C=e(16853),u=e(28967),p=Object.defineProperty,d=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(v,O,T)=>O in v?p(v,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):v[O]=T,c=(v,O)=>{for(var T in O||(O={}))w.call(O,T)&&M(v,T,O[T]);if(d)for(var T of d(O))D.call(O,T)&&M(v,T,O[T]);return v},l=(v,O)=>{var T={};for(var I in v)w.call(v,I)&&O.indexOf(I)<0&&(T[I]=v[I]);if(v!=null&&d)for(var I of d(v))O.indexOf(I)<0&&D.call(v,I)&&(T[I]=v[I]);return T};const i=(0,f.forwardRef)((v,O)=>{var T=v,{className:I,active:L,disabled:S,permalink:N,tooltip:R}=T,U=l(T,["className","active","disabled","permalink","tooltip"]);const W=(0,C.x)({text:R});return(0,t.h)(y.hs,c({flex:"grow",justifyContent:N?"center":"start",alignItems:"center"},W.triggerProps),W.layer,(0,t.h)(P.kG,c({className:g()(u.Z.actionButton,I,L&&u.Z.active,S&&u.Z.disabled,N&&u.Z.permalink),resetCss:!0,ref:O,disabled:S},U)))})},67565:(H,E,e)=>{"use strict";e.d(E,{k:()=>ae,y:()=>V});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(27484),y=e.n(P),C=e(65445),u=e(47467),p=e(18130),d=e(59009),w=e(85870),D=e(20501),M=e(16495),c=e(79786),l=e(84040),i=e(51126),v=e(43887),O=e(97868),T=e(41474),I=e(73413),L=e(44396),S=e(52543),N=e(66337),R=e(89447),U=e(62017),W=e(95406),K=e(28967),G=Object.defineProperty,re=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,Z=(te,oe,ue)=>oe in te?G(te,oe,{enumerable:!0,configurable:!0,writable:!0,value:ue}):te[oe]=ue,q=(te,oe)=>{for(var ue in oe||(oe={}))$.call(oe,ue)&&Z(te,ue,oe[ue]);if(re)for(var ue of re(oe))F.call(oe,ue)&&Z(te,ue,oe[ue]);return te};function V({attachments:te,readOnly:oe,isRestack:ue,onAttachmentClick:ee,onSavePostClick:le,utm_content:se}){if(te.length===0)return null;const fe=te.filter(ge=>ge.type==="image"),ve=te.filter(ge=>ge.type!=="image");return(0,t.h)(t.Fragment,null,fe.length>0&&(0,t.h)(M.q,{readOnly:oe,isRestack:ue,assets:fe.map(ge=>({src:ge.imageUrl,explicit:ge.explicit}))}),ve.map(ge=>(0,t.h)(j,{attachment:ge,readOnly:oe,isRestack:ue,onAttachmentClick:ee,onSavePostClick:le,utm_content:se})))}function j({attachment:te,readOnly:oe,isRestack:ue,onAttachmentClick:ee,onSavePostClick:le,utm_content:se}){var fe;return(0,w.bP)(te)?(0,t.h)(ie,{attachment:te,readOnly:oe,isRestack:ue,onAttachmentClick:ee,utm_content:se}):te.type==="image"?(0,t.h)(M.q,{readOnly:oe,isRestack:ue,assets:[te.imageUrl],onClick:ee}):te.type==="link"?(0,t.h)(z,q({readOnly:oe,onClick:ee,isExplicit:te.explicit},te.linkMetadata)):te.type==="comment"?(0,t.h)(ce,{readOnly:oe,publication:(fe=te.publication)!=null?fe:void 0,post:te.post,comment:te.comment,onAttachmentClick:ee,utm_content:se}):te.type==="post"?te.postSelection?(0,t.h)(R.s,{readOnly:oe,attachment:te,onClick:ee}):(0,t.h)(N.I,{readOnly:oe,publication:te.publication,post:te.post,onClick:ee,onSavePostClick:le}):te.type==="publication"?(0,t.h)(de,{readOnly:oe,publication:te.publication,onClick:ee}):(0,t.h)(Y,{attachment:te})}function Y({}){return(0,t.h)(i.hs,null)}function ie({attachment:te,readOnly:oe,isRestack:ue,onAttachmentClick:ee,utm_content:le}){const se=[w.sC.YouBlocked,w.sC.YouMuted].includes(te.reason)&&!!te.hidden_attachment,[fe,ve]=(0,f.eJ)(!1);return fe&&te.hidden_attachment?(0,t.h)(j,{attachment:te.hidden_attachment,readOnly:oe,isRestack:ue,onAttachmentClick:ee,utm_content:le}):(0,t.h)(i.hs,{bg:"elevated",border:"detail",justifyContent:se?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,t.h)(v.xv.B4,{color:"secondary",align:"center"},te.reason===w.sC.YouBlocked?"This note is from someone you blocked.":te.reason===w.sC.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),se&&(0,t.h)(l.kG,{resetCss:!0,onClick:()=>{var ge;(0,T.Kr)(te.id,te.reason,{noteId:(ge=te.hidden_attachment)==null?void 0:ge.id}),ve(!0)}},(0,t.h)(v.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function ce({comment:te,publication:oe,readOnly:ue,onAttachmentClick:ee,utm_content:le}){var se,fe,ve;const{truncatedBodyJson:ge}=(0,W.Z)(te,{characterTruncationLimit:280,characterTruncationThreshold:280});return(0,t.h)(i.tu,{className:K.Z.post,as:ue?"div":"a",bg:"elevated",border:"detail",radius:12,href:ue?void 0:(0,D.getFeedCommentUrl)(te),onClick:()=>ee==null?void 0:ee({commentId:te.id}),padding:12,gap:8},(0,t.h)(i.hs,{gap:8,alignItems:"center"},(0,t.h)(p.r,{href:(0,D.getReaderProfileUrl)(te.user,{noBase:I.L,utm_content:d.UTM_CONTENT.substackFeedItem,utm_source:le!=null?le:void 0}),showBack:!0},(0,t.h)(O.qE,{size:20,user:te.user})),(0,t.h)(i.hs,{alignItems:"center",gap:8},(0,t.h)(v.xv.B4,{weight:"medium"},ue?te.user.name:(0,t.h)(U.xG,{user:te.user,utm_source:d.UTM_SOURCE.substackFeedItem,utm_content:le},te.user.name)),(0,t.h)(Q,{comment:te}))),te.body&&(0,t.h)(v.xv.B4,{className:K.Z.feedCommentBodyInner},te.hidden?oe&&(0,t.h)("i",null,"This comment is only visible to paid subscribers of"," ",oe.name):ge&&(0,t.h)(S.x,{content:ge})),((fe=(se=te.attachments)==null?void 0:se.length)!=null?fe:0)>0&&(0,t.h)(V,{isRestack:!0,attachments:(ve=te.attachments)!=null?ve:[],onAttachmentClick:ee,utm_content:le}))}function de({publication:te,readOnly:oe,onClick:ue}){var ee;return(0,t.h)(z,{image:(ee=te.logo_url)!=null?ee:void 0,title:te.name,description:te.hero_text,url:te.base_url,onClick:ue,host:te.base_url.replace(/^https?:\/\//,""),readOnly:oe,isExplicit:te.explicit})}function z({image:te,title:oe,description:ue,url:ee,host:le,readOnly:se,isExplicit:fe,onClick:ve}){const ge=(0,L.XA)(),{isHidden:be,onShow:ne}=(0,u.Sl)(!!fe);return(0,t.h)(i.hs,{className:K.Z.post,position:"relative",padding:12,gap:12,as:se?"div":"a",bg:"elevated",border:"detail",radius:12,href:se?void 0:ee,onClick:ve,rel:"nofollow noopener ugc",target:"_blank"},(0,t.h)(i.tu,{gap:2,flex:"grow",minWidth:0},(0,t.h)(v.xv.Meta,{color:"secondary",ellipsis:!0},le),ge?(0,t.h)(v.xv.B4,{clamp:1},oe):(0,t.h)(v.xv.B3,{clamp:2,weight:"medium"},oe),ue&&(0,t.h)(v.xv.B4,{as:"p",color:"secondary",clamp:ge?1:2},ue)),te?(0,t.h)(c.e,{className:g()(K.Z.linkImage,ge&&K.Z.mobile),src:te,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}):(0,t.h)(i.hs,{alignItems:"center",justifyContent:"center",radius:12,className:g()(K.Z.linkImage,K.Z.linkImagePlaceholder,ge&&K.Z.mobile)},(0,t.h)(C.Z,null)),be&&(0,t.h)(u.HU,{onShow:ne}))}function Q({post:te,comment:oe}){return(0,t.h)(v.xv.B4,{color:"secondary"},y()((oe==null?void 0:oe.date)||(te==null?void 0:te.post_date)).fromNowShort())}function ae(te){var oe;switch(te.type){case"post":return te.postSelection?(0,D.getPostUrl)(te.publication,te.post,{urlParams:{selection:te.postSelection.id}}):te.post.canonical_url;case"comment":return(0,D.getFeedCommentUrl)(te.comment);case"publication":return te.publication.base_url;case"link":return(oe=te.linkMetadata.url)!=null?oe:null;default:return null}}},52543:(H,E,e)=>{"use strict";e.d(E,{x:()=>D});var t=e(6400),f=e(74691),s=e.n(f),g=e(36487),P=e(51041),y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(c,l,i)=>l in c?y(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,w=(c,l)=>{for(var i in l||(l={}))u.call(l,i)&&d(c,i,l[i]);if(C)for(var i of C(l))p.call(l,i)&&d(c,i,l[i]);return c};function D({content:c}){return(0,t.h)(M,{content:c})}function M({content:c}){var l,i,v,O,T,I,L;if(c.type==="text"){const N=(v=(i=(l=c.marks)==null?void 0:l.find(W=>W.type==="link"))==null?void 0:i.attrs)==null?void 0:v.href,R=N?(0,g.u)(N):c.text;let U=(0,t.h)(t.Fragment,null,R);if(c.marks)for(const W of c.marks)W.type==="link"?U=(0,t.h)("a",w({className:"note-link"},W.attrs),U):W.type==="bold"?U=(0,t.h)("strong",null,U):W.type==="italic"?U=(0,t.h)("em",null,U):W.type==="strike"?U=(0,t.h)("s",null,U):W.type==="code"&&(U=(0,t.h)("code",null,U));return U}const S=(O=c.content)==null?void 0:O.filter(N=>!!N).map(N=>(0,t.h)(M,{content:N}));if(c.type==="substack_mention"){const{id:N,label:R,mentionType:U,url:W}=(T=c.attrs)!=null?T:{};return N&&R?(0,t.h)(P.p,{id:N,label:R,type:U,url:W}):null}if(c.type==="doc")return(0,t.h)("div",{className:"ProseMirror FeedProseMirror"},S);if(c.type==="paragraph")return(0,t.h)("p",null,S);if(c.type==="heading"){const N=`h${s()(((L=(I=c.attrs)==null?void 0:I.level)!=null?L:1)+1,2,6)}`;return(0,t.h)(N,null,S)}return c.type==="blockquote"?(0,t.h)("blockquote",null,S):c.type==="codeBlock"?(0,t.h)("pre",null,(0,t.h)("code",null,S)):c.type==="orderedList"?(0,t.h)("ol",null,S):c.type==="bulletList"?(0,t.h)("ul",null,S):c.type==="listItem"?(0,t.h)("li",null,S):null}},47467:(H,E,e)=>{"use strict";e.d(E,{HU:()=>D,Sl:()=>d,cD:()=>w});var t=e(6400),f=e(30396),s=e(23260),g=e(20964),P=e(84040),y=e(9738),C=e(51126),u=e(43887),p=e(33970);function d(M){const c=(0,g.M)(),[l,i]=(0,f.eJ)(M&&!c);return{isHidden:l,onShow:()=>i(!1)}}function w({onShow:M,description:c}){return(0,t.h)(D,{onShow:M},(0,t.h)(y.C,null,(0,t.h)(C.tu,{gap:4,textAlign:"center"},(0,t.h)(u.xv.B4,{weight:"bold"},"Explicit content"),(0,t.h)(u.xv.B4,{color:"secondary"},c)),(0,t.h)(P.zx,{className:p.Z.showAnyway,priority:"secondary",outline:"none"},"Show anyway")))}function D({onShow:M,children:c}){return(0,t.h)(C.tu,{justifyContent:"center",alignItems:"center",position:"absolute",inset:0,bg:"glass-inverted-thick",gap:16,cursor:"pointer",onClick:l=>{l.preventDefault(),M()}},(0,t.h)(s.Z,{size:24,stroke:"var(--color-white)"}),c)}},60779:(H,E,e)=>{"use strict";e.d(E,{w:()=>f});var t=e(6400);function f({size:s=20,stroke:g="var(--color-light-secondary)"}){return(0,t.h)("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:g,xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(H,E,e)=>{"use strict";e.d(E,{$:()=>D});var t=e(6400),f=Object.defineProperty,s=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,u=(M,c,l)=>c in M?f(M,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):M[c]=l,p=(M,c)=>{for(var l in c||(c={}))y.call(c,l)&&u(M,l,c[l]);if(P)for(var l of P(c))C.call(c,l)&&u(M,l,c[l]);return M},d=(M,c)=>s(M,g(c)),w=(M,c)=>{var l={};for(var i in M)y.call(M,i)&&c.indexOf(i)<0&&(l[i]=M[i]);if(M!=null&&P)for(var i of P(M))c.indexOf(i)<0&&C.call(M,i)&&(l[i]=M[i]);return l};function D(M){var c=M,{size:l=20,stroke:i="var(--color-light-secondary)"}=c,v=w(c,["size","stroke"]);return(0,t.h)("svg",d(p({},v),{width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,xmlns:"http://www.w3.org/2000/svg"}),(0,t.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},75309:(H,E,e)=>{"use strict";e.d(E,{Ev:()=>be,vk:()=>Me});var t=e(6400),f=e(30396),s=e(27484),g=e.n(s),P=e(66440),y=e(59543),C=e(65862),u=e(80587),p=e(18794),d=e(13808),w=e(59009),D=e(6385),M=e(20501),c=e(83322),l=e(31058),i=e(21397),v=e(61040),O=e(58718),T=e(67963),I=e(69371),L=e(62017),S=e(50670),N=e(8479),R=e(17025),U=e.n(R),W=e(11059),K=e(84040),G=e(51126),re=e(12876),$=e(43887),F=e(75425),Z=e(95297),q=e(41474),V=e(91870),j=e(73413),Y=e(10174),ie=e(521),ce=e(11132),de=e(28967),z=Object.defineProperty,Q=Object.defineProperties,ae=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,ee=(Ee,we,Te)=>we in Ee?z(Ee,we,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Ee[we]=Te,le=(Ee,we)=>{for(var Te in we||(we={}))oe.call(we,Te)&&ee(Ee,Te,we[Te]);if(te)for(var Te of te(we))ue.call(we,Te)&&ee(Ee,Te,we[Te]);return Ee},se=(Ee,we)=>Q(Ee,ae(we)),fe=(Ee,we)=>{var Te={};for(var De in Ee)oe.call(Ee,De)&&we.indexOf(De)<0&&(Te[De]=Ee[De]);if(Ee!=null&&te)for(var De of te(Ee))we.indexOf(De)<0&&ue.call(Ee,De)&&(Te[De]=Ee[De]);return Te},ve=(Ee,we,Te)=>new Promise((De,Be)=>{var Ke=et=>{try{Ot(Te.next(et))}catch(it){Be(it)}},tt=et=>{try{Ot(Te.throw(et))}catch(it){Be(it)}},Ot=et=>et.done?De(et.value):Promise.resolve(et.value).then(Ke,tt);Ot((Te=Te.apply(Ee,we)).next())});const ge=["post_like","post_restack","comment_like"];function be({user:Ee,post:we,comment:Te,onClick:De,utm_content:Be,publication:Ke,item:tt,parentCommentUserId:Ot}){const et=(Te==null?void 0:Te.date)||(we==null?void 0:we.post_date);return(0,t.h)(S.KF,null,(0,t.h)(G.hs,{gap:8,alignItems:"center",flex:"grow"},(0,t.h)($.Zx,{weight:"medium"},(0,t.h)(L.xG,{user:Ee,onClick:De,utm_source:w.UTM_SOURCE.substackFeedItem,utm_content:Be},Ee.name)),(0,t.h)(Z.UserBadge,{className:de.Z.userBadge,tier:Ee.bestseller_tier,userId:Ee.id,tooltipOnHover:!0,size:"sm"}),et&&(0,t.h)(me,{timestamp:et,comment:Te})),(0,t.h)(G.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},(0,t.h)(Le,{publication:Ke!=null?Ke:void 0,post:we!=null?we:void 0,comment:Te,item:tt})))}const ne=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function me({timestamp:Ee,comment:we,post:Te,publication:De}){return(0,t.h)(L.hh,{href:we?(0,M.getFeedCommentUrl)(we,{noBase:j.L}):Te?(0,M.getFeedShortPostUrl)(De,Te):void 0,title:ne.format(g()(Ee).toDate()),ellipsis:!1,color:"secondary"},(0,t.h)(S.Ku,{timestamp:Ee}))}function Le({publication:Ee,post:we,comment:Te,item:De,permalink:Be}){var Ke,tt,Ot;const et=(0,F.pm)(),it=(0,I.rI)(),bt=(0,ce.F)(),xe=(0,V.I0)(),Oe=(0,V.kc)(),[Ie,We]=(0,f.eJ)(!1),Ge=(0,T.aF)(),Xe=(0,i.T)(),st=(tt=(Ke=Te==null?void 0:Te.ancestor_path)==null?void 0:Ke.split(".").filter(Boolean).map(Number).map()!=null?tt:[],qe=Te?(0,D.getCommentAuthor)(Te):Ee&&we?(0,D.getPostAuthor)(Ee,we):{id:0,name:"void"},Ze=(0,v.CH)(qe,it),mt=(0,O.oh)(qe,it),yt=(0,N.ib)({pathname:`/api/v1/comment/${(Ot=Te==null?void 0:Te.id)!=null?Ot:0}`,method:"DELETE",json:{publication_id:Ee==null?void 0:Ee.id}}),Mt=()=>ve(this,null,function*(){if(!Te||(We(!1),yt.isLoading))return;const or=yield yt.refetch();if(or instanceof Error){alert((0,R.getNetworkErrorMessage)(or));return}et.popToast(cr=>(0,t.h)(F.FN,se(le({},cr),{text:"Note deleted",Icon:P.Z}))),xe({type:"comment_delete",payload:{publication:Ee,post:we,comment:Te}})}),Ht=(0,Y.i3)(),Gt=()=>ve(this,null,,zt=()=>{De&&(0,q.rw)(De,it,"menu",{tabId:bt})},Kt=!!we&&De&&"context"in De&&ge.includes(De.context.type),Ir=[!Te&&we&&(0,t.h)(Re,{post:we}),...mt,(0,c.canEditComment)(Ge,Te)&&(0,t.h)(re.sN,{icon:(0,t.h)(y.Z,null),onClick:Gt},"Edit"),...Ze,Te&&(0,c.canReportComment)(Ge,Te)?(0,t.h)(re.sN,{icon:(0,t.h)(C.Z,null),priority:"destructive",onClick:()=>{const or=!!Te.publication_id;Xe({pub:Ee,canReportToAdmins:or,onSubmit:cr=>ve(this,[cr],function*({reportCategory:Tt,details:wr,reportedToSubstack:Br}){yield(0,N.rd)(`/api/v1/comment/${Te.id}/report`,{method:"POST",json:le({details:wr,reportCategory:Tt,reportedToSubstack:Br},or?{publication_id:Te.publication_id}:{})})})})}},"Report"):Kt?(0,t.h)(re.sN,{icon:(0,t.h)(C.Z,null),priority:"destructive",onClick:()=>{Xe({pub:Ee,canReportToAdmins:!1,onSubmit:or=>ve(this,[or],function*({reportCategory:cr,details:Tt}){yield(0,N.rd)(`/api/v1/publications/${Ee==null?void 0:Ee.id}/posts/${we.id}/report`,{method:"POST",json:{details:Tt,reportCategory:cr}})})})}},"Report"):null,(0,c.canDeleteComment)(Ge,Te,{pub:Ee,post:we,parentComments:st})&&(0,t.h)(re.sN,{icon:(0,t.h)(P.Z,null),priority:"destructive",onClick:()=>We(!0)},"Delete")].filter(Boolean);return Ir.length===0?null:(0,t.h)(t.Fragment,null,(0,t.h)(re.v2,{trigger:(0,t.h)(ie.K,{"aria-label":"share",permalink:Be,className:de.Z.more},(0,t.h)(u.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:zt},Ir),(0,t.h)(W.a,{isOpen:Ie,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,t.h)(K.zx,{priority:"destructive",onClick:Mt},"Delete"),secondaryButton:(0,t.h)(K.zx,{priority:"secondary",onClick:()=>We(!1)},"Cancel"),onClose:()=>We(!1)}))}function Re(Ee){var we=Ee,{post:Te}=we,De=fe(we,["post"]);const Be=Me(Te);return(0,t.h)(re.sN,le({icon:Te.is_saved?(0,t.h)(p.Z,null):(0,t.h)(d.Z,null),onClick:Be},De),Te.is_saved?"Unsave":"Save")}function Me(Ee){const we=(0,V.I0)(),Te=(0,l.c1)();return()=>{const Be=Ee.id,Ke=!Ee.is_saved;(0,l.TJ)(Be,Ke,{surface:"reader"}),Te(Ke),we({type:"post_save",payload:{postId:Be,isSaved:Ke}})}}},51041:(H,E,e)=>{"use strict";e.d(E,{p:()=>P});var t=e(6400),f=e(80332),s=e(44695),g=e(2731);function P({id:u,label:p,type:d,url:w}){return(0,t.h)("span",{className:"node-substack_mention"},d==="pub"?(0,t.h)(C,{id:u,url:w,label:p}):(0,t.h)(y,{id:u,label:p}))}function y({id:u,label:p}){return(0,t.h)(f.ProfileHoverCard,{inline:!0,subject:{id:u,name:p}},(0,t.h)("a",{className:"substack-mention",href:(0,g.GR)(u,p)},"@",p))}function C({id:u,url:p,label:d}){return(0,t.h)(s.Sm,{publication_id:u,inline:!0},(0,t.h)("a",{className:"substack-mention",href:p},"@",d))}},89447:(H,E,e)=>{"use strict";e.d(E,{s:()=>O});var t=e(6400),f=e(94184),s=e.n(f),g=e(2564),P=e(6385),y=e(20501),C=e(80332),u=e(16527),p=e(51126),d=e(43887),w=e(97868),D=e(73413),M=e(44396),c=e(70762),l=e(62017),i=e(28967);const v="notes_quote_attachment";function O({attachment:I,readOnly:L,onClick:S}){const N=(0,M.XA)(),{postSelection:R,post:U,publication:W,author:K}=I,G=K!=null?K:(0,P.getPostAuthor)(W,U),re=(0,c._)({publication:W,subscriptionSource:v,publicationName:W.name}),$=(0,t.h)(w.qE,{size:36,user:G});return(0,t.h)(p.tu,{className:i.Z.quote,as:L?"div":"a",border:"detail",radius:12,onClick:F=>{S&&S(),!N&&D.L&&!L&&(0,u.Q)(F,(0,y.getPostUrl)(W,U,{noBase:!N,feedViewer:!N,urlParams:{selection:R.id}}))},href:L?void 0:(0,y.getPostUrl)(W,U,{feedViewer:!1,urlParams:{selection:R.id}})},(0,t.h)(p.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,t.h)(d.xv,{font:"serif",className:s()(i.Z.quoteText,N&&i.Z.mobile)},"\u201C",T(R.text),"\u201D")),(0,t.h)(p.hs,{className:i.Z.quoteBottom,alignItems:"center",paddingX:N?12:16,paddingY:N?8:12,gap:12},(0,t.h)(p.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},L?$:(0,t.h)(C.ProfileHoverCard,{subject:G,dontStopPropagation:!0,utmSource:"feed"},$),(0,t.h)(p.tu,{minWidth:0,flex:"grow"},(0,t.h)(d.xv.B4,{weight:"medium",ellipsis:!0},L?G.name:(0,t.h)(l.Zg,{user:G,ellipsis:!0,utm_source:v})),(0,t.h)(p.hs,{gap:6,minWidth:0},(0,t.h)(d.xv.B4,{color:"secondary",ellipsis:!0},U.title),re.showCta&&(0,t.h)(t.Fragment,null,(0,t.h)(d.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,t.h)(d.xv.B4,{color:re.isSubscribed?"secondary":"substack"},(0,t.h)(l.hh,{href:"javascript:void",onClick:L?void 0:re.isSubscribed?re.unsubscribe:re.subscribe},re.isSubscribed?"Subscribed":"Subscribe")))))),(0,t.h)(g.Z,{size:24,color:"var(--color-secondary)"})))}")}},66337:(H,E,e)=>{"use strict";e.d(E,{I:()=>S});var t=e(6400),f=e(94184),s=e.n(f),g=e(13808),P=e(47467),y=e(72307),C=e(79675),u=e(67256),p=e(52743),d=e(20501),w=e(79786),D=e(16527),M=e(13045),c=e(51126),l=e(43887),i=e(73413),v=e(33510),O=e(9178),T=e(44396),I=e(75309),L=e(28967);function S({post:N,publication:R,readOnly:U,onClick:W,onSavePostClick:K}){var G,re;const $=(0,T.XA)(),F=(0,I.vk)(N),{isHidden:Z,onShow:q}=(0,P.Sl)(!!(R.explicit||N.explicit||N.cover_image_is_explicit||(G=N.videoUpload)!=null&&G.explicit)),{isPaid:V,isFreeSubscribed:j}=(0,y.Y0)(R.id),Y=N.cover_image,ie=N.videoUpload,ce=N.podcastUpload&&!N.videoUpload;let de;if(ie&&N.videoUpload)de=(0,t.h)(C.L,{disableAutoPlay:Z,isFreeSubscribed:j,isSubscribed:V,mediaUpload:N.videoUpload,post:N,pub:R,startMuted:!0});else if(ce){const z=N.section_id&&R.sections&&(re=R.sections.find(Q=>Q.id===N.section_id))!=null?re:null;de=(0,t.h)(u.lU,{isFreeSubscribed:j,isSubscribed:V,post:N,pub:R,section:z,variant:"notes-embed"})}else N.cover_image&&(de=(0,t.h)(M.xu,{position:"relative"},(0,t.h)(M.hU,{className:s()(L.Z.bookmarkIcon,N.is_saved&&L.Z.isSaved),size:24,onClick:z=>{z.preventDefault(),z.stopPropagation(),F(),K&&K(N.is_saved?"unsave":"save")}},(0,t.h)(g.Z,{size:12})),(0,t.h)(w.e,{className:s()(L.Z.postImage,$&&L.Z.mobile),imageProps:{smartCrop:!0,aspect:$?"3:2":"2:1"},src:N.cover_image,maxWidth:1e3})));return(0,t.h)(c.tu,{as:U?"div":"a",className:L.Z.post,position:"relative",bg:"elevated",border:"detail",radius:12,onClick:z=>{W&&W(),!U&&i.L&&(0,D.Q)(z,(0,d.getPostUrl)(R,N,{noBase:!0,feedViewer:!0}))},href:U?void 0:(0,d.getPostUrl)(R,N,{feedViewer:!1}),minWidth:0},de,!ce&&(0,t.h)(c.tu,{gap:4,padding:12,borderTop:Y?"detail":"transparent"},(0,t.h)(c.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,t.h)(O.F,{pub:R,size:20}),(0,t.h)(l.xv.Meta,{ellipsis:!0},U?R.name:(0,t.h)(v.zr,{href:(0,p.getPubUrl)(R)},R.name))),(0,t.h)(l.xv.B3,{clamp:$?1:2,color:"primary",weight:"medium"},N.title),(0,t.h)(l.xv.B4,{clamp:2,color:"secondary"},N.description)),Z&&(0,t.h)(P.cD,{onShow:q,description:"This post was hidden by your settings."}))}},11132:(H,E,e)=>{"use strict";e.d(E,{F:()=>g,q:()=>s});var t=e(98661),f=e(30396);const s=(0,t.createContext)(void 0);function g(){return(0,f.qp)(s)}},62017:(H,E,e)=>{"use strict";e.d(E,{xG:()=>S,Zg:()=>L,hh:()=>N});var t=e(6400),f=e(94184),s=e.n(f),g=e(2731),P=e(80332),y=e(67963),C=e(43887),u=e(73413),p=e(18130);const d={link:"frontend-feed-TextLink-module__link--VuuIc"};var w=Object.defineProperty,D=Object.defineProperties,M=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(R,U,W)=>U in R?w(R,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[U]=W,O=(R,U)=>{for(var W in U||(U={}))l.call(U,W)&&v(R,W,U[W]);if(c)for(var W of c(U))i.call(U,W)&&v(R,W,U[W]);return R},T=(R,U)=>D(R,M(U)),I=(R,U)=>{var W={};for(var K in R)l.call(R,K)&&U.indexOf(K)<0&&(W[K]=R[K]);if(R!=null&&c)for(var K of c(R))U.indexOf(K)<0&&i.call(R,K)&&(W[K]=R[K]);return W};function L(R){var U=R,{user:W,utm_source:K,utm_content:G,ellipsis:re,useYou:$,onClick:F}=U,Z=I(U,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const q=(0,y.aF)(),V=(W==null?void 0:W.id)||(W==null?void 0:W.user_id)||0,j=$&&(q==null?void 0:q.id)===V?"You":W.name;return(0,t.h)(S,O({user:W,utm_source:K,utm_content:G,ellipsis:re,onClick:F},Z),j)}function S(R){var U=R,{user:W,utm_source:K,utm_content:G,children:re,onClick:$}=U,F=I(U,["user","utm_source","utm_content","children","onClick"]);const Z=T(O({},W),{id:W.author_id||W.user_id||W.id,name:W.user_profile_name||W.author_name||W.name,handle:(W==null?void 0:W.handle)||(W==null?void 0:W.author_handle)});return(0,t.h)(P.ProfileHoverCard,{subject:Z,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,t.h)(N,O({href:(0,g.NN)(W,{noBase:u.L,utm_content:G,utm_source:K}),onClick:$,showBack:!0},F),re))}function N(R){var U=R,{weight:W,color:K,decoration:G="hover-underline",ellipsis:re,native:$,className:F}=U,Z=I(U,["weight","color","decoration","ellipsis","native","className"]);const q=Z.href,V=q==null?void 0:q.match(/^([a-z]+:)?\/\//),j=$!=null?$:V&&!(q!=null&&q.startsWith(document.location.origin));return(0,t.h)(C.Zx,{ellipsis:re,weight:W,color:K,decoration:G},j?(0,t.h)("a",T(O({},Z),{className:s()(F,d.link)})):(0,t.h)(p.r,T(O({},Z),{className:s()(F,d.link)})))}},59386:(H,E,e)=>{"use strict";e.d(E,{m:()=>D});var t=e(6400),f=Object.defineProperty,s=Object.defineProperties,g=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,u=(M,c,l)=>c in M?f(M,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):M[c]=l,p=(M,c)=>{for(var l in c||(c={}))y.call(c,l)&&u(M,l,c[l]);if(P)for(var l of P(c))C.call(c,l)&&u(M,l,c[l]);return M},d=(M,c)=>s(M,g(c)),w=(M,c)=>{var l={};for(var i in M)y.call(M,i)&&c.indexOf(i)<0&&(l[i]=M[i]);if(M!=null&&P)for(var i of P(M))c.indexOf(i)<0&&C.call(M,i)&&(l[i]=M[i]);return l};function D(M){var c=M,{size:l=20,stroke:i="var(--color-light-secondary)"}=c,v=w(c,["size","stroke"]);return(0,t.h)("svg",d(p({},v),{width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,xmlns:"http://www.w3.org/2000/svg"}),(0,t.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(H,E,e)=>{"use strict";e.d(E,{Fb:()=>re,KF:()=>W,Ku:()=>U,Zb:()=>K,oM:()=>S,sP:()=>G});var t=e(6400),f=e(94184),s=e.n(f),g=e(85928),P=e.n(g),y=e(20501),C=e(80332),u=e(51126),p=e(43887),d=e(97868),w=e(73413),D=e(18130),M=e(44396),c=e(28967),l=Object.defineProperty,i=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,T=($,F,Z)=>F in $?l($,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):$[F]=Z,I=($,F)=>{for(var Z in F||(F={}))v.call(F,Z)&&T($,Z,F[Z]);if(i)for(var Z of i(F))O.call(F,Z)&&T($,Z,F[Z]);return $},L=($,F)=>{var Z={};for(var q in $)v.call($,q)&&F.indexOf(q)<0&&(Z[q]=$[q]);if($!=null&&i)for(var q of i($))F.indexOf(q)<0&&O.call($,q)&&(Z[q]=$[q]);return Z};function S($){var F=$,{showGutter:Z=!1,hasAvatar:q=!0,hasContext:V=!1,onClick:j}=F,Y=L(F,["showGutter","hasAvatar","hasContext","onClick"]);const ie=j?ce=>{const{target:de}=ce;de instanceof Element&&de.closest("button, a")||ce.defaultPrevented||j(ce)}:void 0;return(0,t.h)(u.tu,I({className:s()(c.Z.feedUnit,Z?c.Z.showThreadGutter:void 0,V?c.Z.hasContext:void 0,j&&c.Z.hasAction,q?c.Z.hasAvatar:void 0),gap:4,onClick:ie},Y))}const N=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),R=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function U({timestamp:$}){const F=P()(),Z=P()($),q=F.diff(Z,"day"),V=F.diff(Z,"year");let j;return V>=1?j=R.format(Z.toDate()):q>7?j=N.format(Z.toDate()):j=Z.fromNowShort(),(0,t.h)(p.Zx,{color:"secondary"},$&&j)}function W({children:$}){return(0,t.h)(p.xv.B3,null,(0,t.h)(u.hs,{flex:"grow",minWidth:0},(0,t.h)(u.hs,{gap:8,alignItems:"center",flex:"grow"},$)))}function K({user:$,className:F}){const Z=(0,M.XA)();return(0,t.h)(d.qE,{size:Z?36:40,user:$,className:F})}function G({large:$,children:F}){return $?(0,t.h)(p.xv.B2,{className:c.Z.feedCommentBodyInner,color:"primary"},F):(0,t.h)(p.xv.B3,{className:c.Z.feedCommentBodyInner,color:"primary"},F)}function re({user:$,onClick:F,utm_content:Z}){const q=(0,D.c)({href:(0,y.getReaderProfileUrl)($,{noBase:w.L}),state:{showBack:!0},onClick:F,campaign:{content:Z}});return(0,t.h)(u.hs,I({as:"a",flex:"auto",alignSelf:"start"},q),(0,t.h)(C.ProfileHoverCard,{subject:$,dontStopPropagation:!0,utmSource:"feed"},(0,t.h)(K,{user:$})))}},69371:(H,E,e)=>{"use strict";e.d(E,{$U:()=>p,rI:()=>D});var t=e(6400),f=e(98661),s=e(30396),g=e(21288),P=e(9686),y=e(91870),C=e(50292),u=e(10174);function p({state:M,dispatch:c,surface:l,children:i}){const{onboardingModalRef:v}=(0,C.SJ)(),O=(0,s.c}),[]);return(0,t.h)(d.Provider,{value:l},(0,t.h)(y.RR.Provider,{value:O},(0,t.h)(y.ev.Provider,{value:M},(0,t.h)(u.Au,null,(0,t.h)(g.qS,null,i,M.isSigningIn&&(0,t.h)(P.I,{onCancel:()=>c({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{c({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var T;c({type:"sign_in",payload:{isSigningIn:!1}}),(T=v.current)==null||T.open()},noExit:M.signInNoExit}))))))}const d=(0,f.createContext)("feed");function w({surface:M,children:c}){return h(d.Provider,{value:M}d)}},77883:(H,E,e)=>{"use strict";e.d(E,{G:()=>L});var t=e(6400),f=e(71375),s=e(25380),g=e(58718),P=e(67963),y=e(72496),C=e(8479),u=e(75425),p=e(72307),d=e(3258),w=Object.defineProperty,D=Object.defineProperties,M=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(S,N,R)=>N in S?w(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,O=(S,N)=>{for(var R in N||(N={}))l.call(N,R)&&v(S,R,N[R]);if(c)for(var R of c(N))i.call(N,R)&&v(S,R,N[R]);return S},T=(S,N)=>D(S,M(N)),I=(S,N,R)=>new Promise((U,W)=>{var K=$=>{try{re(R.next($))}catch(F){W(F)}},G=$=>{try{re(R.throw($))}catch(F){W(F)}},re=$=>$.done?U($.value):Promise.resolve($.value).then(K,G);re((R=R.apply(S,N)).next())});function L({publication:S,profileId:N,onSuccess:R=()=>{},source:U}){const W=(0,P.aF)(),K=(0,p.Th)(),G=(0,g.oJ)(),{popToast:re}=(0,u.pm)(),{isLoading:$,refetch:F}=(0,C.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:{publication_id:S.id,email:W==null?void 0:W.email,visibility:"public",source:U,first_url:y.xY,first_referrer:y.ip,current_url:y.UE,current_referrer:y.xU}});return{isLoading:$,subscribe:()=>I(this,null,function*(){W||re(Z=>(0,t.h)(u.FN,T(O({},Z),{text:"Something went wrong. Please try again.",Icon:f.Z})));try{yield F(),re(Z=>(0,t.h)(u.FN,T(O({},Z),{text:`Subscribed to ${S.name}`,Icon:s.Z}))),R(),K.refetch(),N&&G((Z=[])=>Z.includes(N)?Z:[N,...Z],{revalidate:!1}),(0,d.track)(d.EVENTS.FEED_ONE_CLICK_SUBSCRIBE,{source:U,publication_id:S.id})}catch(Z){console.error(Z),re(q=>(0,t.h)(u.FN,T(O({},q),{text:"There was an issue subscribing to this profile.",Icon:f.Z})))}})}}},22850:(H,E,e)=>{"use strict";e.d(E,{Hu:()=>t});const t="#FF6719",f="#318631",s="#792BA9",g="#E07F69",P="#8BD1E0",y="#F7ED92",C="#39a5f7",u="#008080",p="#E06666",d="#FFB347",w="#444444",D="#F4F4F4",M="#AAAAAA",c=18,l=48},15748:(H,E,e)=>{"use strict";e.d(E,{g:()=>l});var t=e(6400),f=e(99869),s=e(75425),g=e(17025),P=e.n(g),y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(i,v,O)=>v in i?y(i,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):i[v]=O,M=(i,v)=>{for(var O in v||(v={}))d.call(v,O)&&D(i,O,v[O]);if(p)for(var O of p(v))w.call(v,O)&&D(i,O,v[O]);return i},c=(i,v)=>C(i,u(v));function l(){const i=(0,s.pm)();return v=>{(0,g.copyToClipboard)(v),i.popToast(O=>(0,t.h)(s.FN,c(M({},O),{text:"Link copied",Icon:f.Z})))}}},29542:(H,E,e)=>{"use strict";e.d(E,{$:()=>g});var t=e(52743),f=e(17025),s=e.n(f);const g=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:P=>{document.location.href=`itpc://${(0,t.stripProtocol)(P)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:P=>{document.location.href=`podcast://${(0,t.stripProtocol)(P)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:P=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(P).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:P=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(P)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:P=>{document.location.href=`pktc://subscribe/${(0,t.stripProtocol)(P)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:P=>{document.location.href=`downcast://${(0,t.stripProtocol)(P)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:P=>{document.location.href=`podcastaddict://${(0,t.stripProtocol)(P)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:P=>{(0,f.copyToClipboard)(P),document.location.href=`castros://subscribe/${(0,t.stripProtocol)(P)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:P=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(P)}`}}]},39776:(H,E,e)=>{"use strict";e.r(E),e.d(E,{SiteConfigGate:()=>P,default:()=>g,getConfigFor:()=>s});var t=e(6400),f=e(63270);function s(y){var C;if(!y||typeof window=="undefined"||!((C=window._preloads)!=null&&C.siteConfigs))return null;const u=window._preloads.siteConfigs[y];return u===void 0?null:u}const g=s;function P({configKey:y,children:C,value:u=!0}){return(0,f.xR)().getConfigFor(y)==u?(0,t.h)(t.Fragment,null,C):null}},35225:(H,E,e)=>{"use strict";e.d(E,{S:()=>L});var t=e(6400),f=e(8618),s=e(59009),g=e(85928),P=e.n(g),y=e(61782),C=e(52743),u=e(13833),p=e(75425),d=e(3258),w=e(90304),D=Object.defineProperty,M=Object.defineProperties,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(S,N,R)=>N in S?D(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,T=(S,N)=>{for(var R in N||(N={}))i.call(N,R)&&O(S,R,N[R]);if(l)for(var R of l(N))v.call(N,R)&&O(S,R,N[R]);return S},I=(S,N)=>M(S,c(N));function L({user:S,noBase:N}){const R=(0,p.pm)("});return()=>{const W="has_seen_like_nux",K=(0,w.mM)(W),G=y.L;return K&&S&&!S.has_seen_like_nux?(U(),!1):!S||!S.profile_set_up_at||S.subscription_visibility==="private"||!S.activity_likes_enabled||K||S.has_seen_like_nux||P()((S==null?void 0:S.profile_set_up_at)||0).unix()>G?!1:((0,d.track)(d.EVENTS.LIKE_NUX_SHOWN),(0,w.ex)(W,!0),U(),R.popToast(re=>(0,t.h)(p.Us,I(T({},re),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,t.h)(t.Fragment,null,(0,t.h)(p.lL,{href:(0,C.getReaderProfileUrl)(S,{utm_source:s.UTM_SOURCE.likeToast,noBase:N})},(0,t.h)(u.Av,null,"OK")),(0,t.h)(p.lL,{href:(0,C.getEditProfileUrl)({params:{utm_source:s.UTM_SOURCE.likeToast}})},(0,t.h)(u.Av,{color:"secondary"},"Settings"))),Icon:f.Z}))),!0)}}},17025:function(H,E,e){"use strict";var t=Object.defineProperty,f=Object.defineProperties,s=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(z,Q,ae)=>Q in z?t(z,Q,{enumerable:!0,configurable:!0,writable:!0,value:ae}):z[Q]=ae,u=(z,Q)=>{for(var ae in Q||(Q={}))P.call(Q,ae)&&C(z,ae,Q[ae]);if(g)for(var ae of g(Q))y.call(Q,ae)&&C(z,ae,Q[ae]);return z},p=(z,Q)=>f(z,s(Q)),d=(z,Q,ae)=>new Promise((te,oe)=>{var ue=se=>{try{le(ae.next(se))}catch(fe){oe(fe)}},ee=se=>{try{le(ae.throw(se))}catch(fe){oe(fe)}},le=se=>se.done?te(se.value):Promise.resolve(se.value).then(ue,ee);le((ae=ae.apply(z,Q)).next())});const{h:w,Fragment:D}=e(6400),{route:M}=e(20042),{getQueryItem:c,pathWithQuery:l,parseQuery:i,getGlobalAccountSettingsUrl:v,getPubAccountSettingsUrl:O,getCurrentUrlForLoginRedirect:T}=e(52743),{centsToPriceString:I,toTitleCase:L,pluralize:S,isZeroDecimalCurrency:N}=e(83322),R=e(8826),{isMobileUserAgent:U,getIosVersion:W}=e(76193),{validatePledgePrices:K}=e(48971),G=e(27484),{Metadata:re}=e(35442),{getPodcastEpisodeImageUrl:$}=e(63030),{I18N:F}=e(8111);E.getPodcastEpisodeImageUrl=$;const Z=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let q=typeof window=="undefined"||!window.addEventListener;q||window.addEventListener("lo!0},!1),typeof window!="undefined"&&window._preloads,E.globalPlaybackNotifier=typeof window!="undefined"?new R:null,E.windowReady=z=>{q?z():window.addEventListener("load",z,!1)},E.debounce=function(z,Q,ae=this){let te=null;return function(){clearTimeout(te),te=setTimets),Q)}},E.couponToString=(z,Q,{language:ae="en"}={})=>{const{iTemplate:te,iPlural:oe}=F.i(ae);if(!z||z.loading||z.error)return;let ue;if(z.trial_period_days)ue=te`${z.trial_period_days} day free trial`;else if(z.extra_seats)ue=oe("an additional seat","%1 additional seats",z.extra_seats);else if(z.percent_off)if(z.duration==="once")if(Q)switch(Q.interval){case"month":ue=te`${Math.round(z.percent_off_precise||z.percent_off)}% off first month`;break;case"year":ue=te`${Math.round(z.percent_off_precise||z.percent_off)}% off first year`;break;case"week":ue=te`${Math.round(z.percent_off_precise||z.percent_off)}% off first week`;break;case"day":ue=te`${Math.round(z.percent_off_precise||z.percent_off)}% off first day`;break}else ue=te`${Math.round(z.percent_off_precise||z.percent_off)}% off first payment`;else z.duration==="repeating"?z.duration_in_months%12===0?ue=oe("%2% off for 1 year","%2% off for %1 years",z.duration_in_months/12,Math.round(z.percent_off_precise||z.percent_off)):ue=oe("%2% off for 1 month","%2% off for %1 months",z.duration_in_months,Math.round(z.percent_off_precise||z.percent_off)):ue=te`${Math.round(z.percent_off_precise||z.percent_off)}% off forever`;else if(z.amount_off)if(z.duration==="once")if(Q)switch(Q.interval){case"month":ue=te`${I(z.amount_off,Q.currency)} off first month`;break;case"year":ue=te`${I(z.amount_off,Q.currency)} off first year`;break;case"week":ue=te`${I(z.amount_off,Q.currency)} off first week`;break;case"day":ue=te`${I(z.amount_off,Q.currency)} off first day`;break}else ue=te`${I(z.amount_off,Q.currency)} off first payment`;else z.duration==="repeating"?z.duration_in_months%12===0?ue=oe("%2 off for 1 year","%2 off for %1 years",z.duration_in_months/12,I(z.amount_off,Q.currency)):ue=oe("%2 off for 1 month","%2 off for %1 months",z.duration_in_months,I(z.amount_off,Q.currency)):ue=te`${I(z.amount_off,Q.currency)} off forever`;return ue},E.preloadImage=function(z,Q){const ae=new Image;ae.onload=()=>{ae.onload=ae.onerror=null,Q&&Q(ae)},ae.onerror=ae.onload,ae.src=z},E.getHostname=z=>{const Q=document.createElement("a");return Q.href=z,(Q.hostname||"").replace(/\.localhost$/,"")},E.getPathname=z=>{const Q=document.createElement("a");return Q.href=z,Q.pathname||""},E.getPath=z=>{const Q=document.createElement("a");return Q.href=z,(Q.pathname||"")+(Q.search||"")+(Q.hash||"")},E.getNetworkErrorMessage=(z,Q)=>{var ae;return E.getNetworkErrorMessageFromResponse((z==null?void 0:z.body)||((ae=z==null?void 0:z.response)==null?void 0:ae.body),Q)},E.getNetworkErrorBody=z=>{var Q;const ae=(z==null?void 0:z.body)||((Q=z==null?void 0:z.response)==null?void 0:Q.body);if(ae&&ae.error)return{msg:ae.error};if(ae&&ae.errors&&ae.errors.length>0)return{html:ae.errors[ae.errors.length-1].msgHTML,msg:ae.errors[ae.errors.length-1].msg}},E.getNetworkErrorMessageFromXhr=(z,Q)=>{let ae;try{ae=JSON.parse(z&&z.responseText)}catch(te){}return E.getNetworkErrorMessageFromResponse(ae,Q)},E.getNetworkErrorMessageFromResponse=(z,Q)=>(Q=Q||"Something went wrong",z&&z.error?z.error:z&&z.errors&&z.errors.length>0&&z.errors[z.errors.length-1].msg||Q),E.getNetworkErrorObjectFromResponse=z=>{var Q,ae;if(!((ae=(Q=z==null?void 0:z.response)==null?void 0:Q.body)!=null&&ae.errors)||z.response.body.errors.length===0)return null;const te={};for(const oe of z.response.body.errors)te[oe.param]=oe.msg;return te},E.getNetworkErrorObjectWithValuesFromResponse=z=>{var Q,ae;if(!((ae=(Q=z==null?void 0:z.response)==null?void 0:Q.body)!=null&&ae.errors)||z.response.body.errors.length===0)return null;const te={};for(const oe of z.response.body.errors)te[oe.param]={msg:oe.msg,value:oe.value};return te},E.inputPrefillHack=function(){return[w("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),w("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},E.isBrowd"},E.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const z=navigator.userAgent||navigator.vendor||window.opera;if(U(z,{checkFirst4:!0}))return!0}return!1},E.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),E.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),E.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),E.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),E.isn(),E.isMac=z=>(typeof window!="undefined"&&!z&&(z=window.navigator),z?z.userAgentData&&z.userAgentData.platform?/macOS/.test(z.userAgentData.platform):/Mac/.test(z.platform):!1),E.isSafari=()=>{var z;return typeof window=="undefined"||!((z=window.navigator)!=null&&z.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},E.getModKeyLabel=(z=E.isMac())=>z?"\u2318":"^",E.iosVersion=()=>typeof window=="undefined"?null:W(),E.fixSmsUrl=z=>{const Q=E.iosVersion();return Q?Q>=9?z.replace("?body=","&body="):z.replace("?body=",";body="):z};const V=z=>((Q,ae)=>{let te;const/i),ue=fe=>{te=Q.createElement("textArea"),te.value=fe,Q.body.appendChild(te)},ee=()=>{let fe,ve;oe()?(fe=Q.createRange(),fe.selectNodeContents(te),ve=z.getSelection(),ve.removeAllRanges(),ve.addRange(fe),te.setSelectionRange(0,999999)):te.select()},le=()=>{Q.execCommand("copy"),Q.body.removeChild(te)};return{c()}}})(document,navigator);E.copyToClipboard=z=>{if(typeof window=="undefined")return;V(window).copy(z);const Q=ae=>{ae&&ae.clipboardData?(ae.clipboardData.setData("text/plain",z),ae.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",z)};E.iosVersion()||window.addEventListener("copy",Q),setTimeout(()=>{try{const ae=document.createElement("input");ae.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(ae),ae.value=z,ae.contentEditable=!0,ae.readOnly=!1;const te=document.createRange();te.selectNodeContents(ae);const oe=window.getSelection();oe.removeAllRanges(),oe.addRange(te),ae.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(ae)}catch(ae){}window.removeEventListener("copy",Q)},0)},E.copyNodeToClipboard=z=>{try{E.selectNode(z),document.execCommand("copy")}catch(Q){console.error("Failed to copy text:",Q)}},E.selectNode=z=>{try{if(["INPUT","TEXTAREA"].includes(z.nodeName)&&z.select)z.select();else if(document.body.createTextRange){const Q=document.body.createTextRange();Q.moveToElementText(z),Q.select()}else if(window.getSelection){const Q=window.getSelection(),ae=document.createRange();ae.selectNodeContents(z),Q.removeAllRanges(),Q.addRange(ae)}else console.warn("Could not select text in node: Unsupported browser")}catch(Q){console.error("Failed to select node:",Q)}},E.deselectNode=z=>{try{const Q=window.getSelection?window.getSelection():document.selection;Q&&Q.anchorNode===z&&(Q.empty?Q.empty():Q.removeAllRanges&&Q.removeAllRanges())}catch(Q){console.error("Failed to deselect node:",Q)}},E.setMetaData=function(z){return w(re,u({},z))},E.getBodyOffset=(z,Q)=>{const ae=`offset${L(Q)}`;let te=0;for(;z&&z!==document.body;)te+=z[ae],z=z.offsetParent||z.parentNode;return te},E.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),E.scrollToHash=function(z){const Q=E.getUrlHash();if(!Q)return;const ae=document.getElementById(Q);ae&&(typeof z!="number"&&(z=-122),document.documentElement.scrollTop=Math.max(0,E.getBodyOffset(ae,"top")+z))},E.mightSupportApplePay=z=>!(!z||!z.stripe_country||z.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),E.addCl}`},E.removeClass=(z,Q)=>{z.className=z.className.replace(new RegExp(`\\b${Q}\\b`,"g"),"").trim()},E.hasClass=(z,Q)=>new RegExp(`\\b${Q}\\b`,"g").test(z.className),E.isFocused=(...z)=>E.isRootOrChild(document.activeElement,...z),E.isRootOrChild=(z,...Q)=>{for(;z;){for(const ae of Q)if(typeof ae=="function"?ae(z):z===ae)return!0;z=z.parentNode}return!1},E.getRootOrChild=(z,Q,{maxDepth:ae}={})=>{const te=[z];let oe=0;for(;te.length>0;){oe++;const ue=te.splice(0);for(const ee of ue)if(ee){if(Q(ee))return ee;(!ae||oe<ae)&&ee.children&&te.push(...ee.children)}}return null},E.getRootOrParent=(z,Q)=>z?Q(z)?z:E.getRootOrParent(z.parentNode,Q):null,E.getVisibilityApi=()=>{let z,Q;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(z="visibilitychange",Q="hidden"):typeof document.msHidden!="undefined"?(z="msvisibilitychange",Q="msHidden"):typeof document.webkitHidden!="undefined"&&(z="webkitvisibilitychange",Q="webkitHidden")),{visibilityChange:z,hidden:Q}},E.isWindowVisible=()=>{const{hidden:z}=E.getVisibilityApi();return z?!document[z]:!0},E.onWindowVisibilityChange=z=>{const{visibilityChange:Q}=E.getVisibilityApi();Q&&document.addEventListener(Q,z,!1)},E.offWindowVisibilityChange=z=>{const{visibilityChange:Q}=E.getVisibilityApi();Q&&document.removeEventListener(Q,z,!1)},E.disableBackspaceNavigation=()=>{document.addEventListener("keydown",j,!1)},E.enableBackspaceNavigat1)};function j(z){if(z.keyCode!==8)return;const Q=z.srcElement||z.target;if(!Q.readonly&&!Q.disabled){if(Q.isContentEditable)return;if(Q.nodeName==="TEXTAREA")return;if(Q.nodeName==="INPUT"&&Z.indexOf((Q.getAttribute("type")||"").toLowerCase())>-1)return}return z.preventDefault(),!1}E.getBlob=z=>new Promise((Q,ae)=>{const te=new XMLHttpRequest;te.open("GET",z,!0),te.responseType="blob",te.onerror=ae,te.onload=oe=>{te.status==200?Q(te.response):ae(new Error("Failed to fetch blob"))},te.send()}),E.getDataUrlFromFile=z=>new Promise((Q,ae)=>{if(!window.FileReader){ae(new TypeError("File reader API not found"));return}const te=new FileReader;te.onerror=ae,te.onload=()=>{Q(te.result)},te.readAsDataURL(z)}),E.getExifOrientationFromFile=z=>new Promise((Q,ae)=>{if(!window.FileReader){ae(new TypeError("File reader API not found"));return}if(!window.DataView){ae(new TypeError("DataView API not found"));return}const te=new FileReader;te.onerror=ae,te.onload=()=>{const oe=new DataView(te.result);if(oe.getUint16(0,!1)!=65496)return Q(-2);const ue=oe.byteLength;let ee=2;for(;ee<ue;){if(oe.getUint16(ee+2,!1)<=8)return Q(-1);const le=oe.getUint16(ee,!1);if(ee+=2,le==65505){if(oe.getUint32(ee+=2,!1)!=1165519206)return Q(-1);const se=oe.getUint16(ee+=6,!1)==18761;ee+=oe.getUint32(ee+4,se);const fe=oe.getUint16(ee,se);ee+=2;for(let ve=0;ve<fe;ve++)if(oe.getUint16(ee+ve*12,se)==274)return Q(oe.getUint16(ee+ve*12+8,se))}else{if((le&65280)!=65280)break;ee+=oe.getUint16(ee,!1)}}Q(-1)},te.readAsArrayBuffer(z)}),E.getImageDataFromFileInput=z=>d(this,null,function*(){let Q,ae;const te=z!=null&&z.files?z.files[0]:null;if(z.value="",te){try{Q=yield E.getDataUrlFromFile(te)}catch(oe){console.error("Failed to get data URL from file:",oe),alert(oe.message);return}try{ae=yield E.getExifOrientationFromFile(te)}catch(oe){console.error("Failed to extract EXIF data from file:",oe)}}return{url:Q,orientation:ae}}),E.transformExifOrientat"}},E.canScr)>0,E.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,E.getLoginRedirect=({redirect:z,email:Q,justTrying:ae,with_password:te=!1,useOriginalUrl:oe=!1}={})=>(typeof z!="string"&&(z=T({useOriginalUrl:oe})),l("/account/login",{redirect:z||"",email:Q||"",with_password:te?"1":"",justTrying:ae||""})),E.redirectToLogin=(z={})=>{document.location.href=E.getLoginRedirect(z)},E.redirectToAcco))},E.redirectToAccountSetti()},E.base64encode=z=>{const Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let ae="",te,oe,ue,ee,le,se,fe,ve=0;for(z=E.utf8Encode(z);ve<z.length;)te=z.charCodeAt(ve++),oe=z.charCodeAt(ve++),ue=z.charCodeAt(ve++),ee=te>>2,le=(te&3)<<4|oe>>4,se=(oe&15)<<2|ue>>6,fe=ue&63,isNaN(oe)?se=fe=64:isNaN(ue)&&(fe=64),ae=ae+Q.charAt(ee)+Q.charAt(le)+Q.charAt(se)+Q.charAt(fe);return ae},E.utf8Encode=z=>{let Q="";for(let ae=0;ae<z.length;ae++){const te=z.charCodeAt(ae);te<128?Q+=String.fromCharCode(te):te>127&&te<2048?(Q+=String.fromCharCode(te>>6|192),Q+=String.fromCharCode(te&63|128)):(Q+=String.fromCharCode(te>>12|224),Q+=String.fromCharCode(te>>6&63|128),Q+=String.fromCharCode(te&63|128))}return Q},E.redirectNoScroll=z=>{const Q=[window.scrollX,window.scrollY];E.redirect(z),window.scrollTo(...Q)},E.redirect=(z,{event:Q=null,local_navigation:ae=!0,replace:te=!1,newTab:oe=!1,state:ue=void 0}={})=>{var ee;if(Q&&Q.preventDefault(),z.trim().startsWith("javascript:"))return;if(z.startsWith("#")&&ae){window.location.hash!==z&&(te&&((ee=window.history)!=null&&ee.replaceState)?window.history.replaceState(ue!=null?ue:window.history.state,null,z):window.location.hash=z),E.scrollToHash();return}if(ae&&E.getHostname(z)&&E.getHostname(z)!==E.getHostname(window.location.href)&&(ae=!1),oe||Q&&(Q.metaKey||Q.ctrlKey)){window.open(z,"_blank");return}const le=history.state;if(ae&&M(E.getPath(z),te)){ue!==void 0?history.replaceState(ue,""):te&&le!==void 0&&history.replaceState(le,""),setTimeout(()=>E.scrollToHash(),0);return}window.location.href=z},E.setState=(z,Q)=>new Prome)}),E.stateTransaction=(z,Q)=>new Promise((ae,te)=>{z.setState((...oe)=>d(this,null,function*(){try{ae(yield Q.apply(z,oe))}catch(ue){te(ue)}}))}),E.stateLock=(z,Q,ae,...te)=>d(this,[z,Q,ae,...te],function*(oe,ue,ee,{force:le}={}){return typeof ue=="function"&&(ee=ue,ue="lock"),yield E.stateTransaction(oe,(se,...fe)=>d(this,null,function*(){if(se[ue]&&!le)return;yield E.setState(oe,{[ue]:!0});const ve=yield ee.call(oe,se,...fe);return yield E.setState(oe,{[ue]:!1}),ve}))}),E.getsMessageQuery=z=>Q=>{const ae=i(document.location.href),te=c("message");if(te){delete ae.message;const oe=`${l(document.location.pathname,ae)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,oe)}return w(z,u({message:te},Q))},E.uuidV4=()=>{const z=window.crypto||window.msCrypto;if(typeof(z==null?void 0:z.randomUUID)=="function")return z.randomUUID();if(z)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[01816));{let Q=new Date().getTime(),ae=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(te){let oe=Math.random()*16;return Q>0?(oe=(Q+oe)%16|0,Q=Math.floor(Q/16)):(oe=(ae+oe)%16|0,ae=Math.floor(ae/16)),(te==="x"?oe:oe&3|8).toString(16)})}},E.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,E.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",E.focusElement=z=>{z.focus&&z.focus(),z.select&&z.select()},E.getRoleOrOwner=(z,Q)=>z?z.user_id===Q.author_id?"owner":z.role:"byline",E.hexWithOpacity=(z,Q)=>{if(!z)return z;z=z.replace("#","");const ae=parseInt(z.substring(0,2),16),te=parseInt(z.substring(2,4),16),oe=parseInt(z.substring(4,6),16);return`rgba(${ae},${te},${oe},${Q/100})`},E.getSelectTheme=({primary:z,neutral0:Q="#f8f8f8",neutral20:ae="#d8d8d8",danger:te="var(--color-accent-red)",dangerLight:oe="var(--color-bg-accent-red)"})=>ue=>p(u({},ue),{colors:p(u({},ue.colors),{primary:z,primary25:E.hexWithOpacity(z,25),primary50:E.hexWithOpacity(z,50),primary75:E.hexWithOpacity(z,75),neutral0:Q,neutral20:ae,danger:te,dangerLight:oe})}),E.removeQueryParam=(z,{stripHash:Q=!1}={})=>{var ae;if(typeof window!="undefined"&&((ae=window.history)!=null&&ae.replaceState)){const te=i(window.location.href);if(!Array.isArray(z))delete te[z];else for(const ue of z)delete te[ue];const oe=`${l(window.location.pathname,te)}${Q?"":window.location.hash}`;window.history.replaceState(window.history.state,document.title,oe)}},E.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,E.goFullscreen=z=>typeof window=="undefined"?!1:z.requestFullScreen?(z.requestFullScreen(),!0):z.webkitRequestFullScreen?(z.webkitRequestFullScreen(),!0):z.mozRequestFullScreen?(z.mozRequestFullScreen(),!0):!1,E.exitFullscreen=()=>{if(!E.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},E.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),E.getVideoBlobDuration=(z,...Q)=>d(this,[z,...Q],function*(ae,{timeout:te=5e3}={}){const oe=document.createElement("video");oe.volume=0;const ue=Promise.race([new Promise((ee,le)=>{oe.onloadedmetadata=()=>{oe.onloadedmetadata=null,oe.duration===1/0?(oe.currentTime=Number.MAX_SAFE_INTEGER,oe.ontimeupdate=()=>{oe.ontimeupdate=null,ee(oe.duration),oe.currentTime=0}):ee(oe.duration)},oe.onerror=se=>le(se.target.error)}),new Promise((ee,le)=>{setTime))},te)})]);return oe.src=typeof ae=="string"||ae instanceof String?ae:window.URL.createObjectURL(ae),ue}),E.downloadSrc=z=>{const Q=document.createElement("a");document.body.appendChild(Q),Q.href=z,Q.target="_blank",Q.click(),document.body.removeChild(Q)},E.getCurrencyFormattedPledgePlans=(z,{skipFoundingPlan:Q=!1}={})=>{if(!(z!=null&&z.length))return[];const ae=[];for(const te of z)Q&&te.is_founding?ae.push(u({},te)):te.amount?ae.push(p(u({},te),{amount:te.amount})):ae.push(u({},te));return ae},E.validatePledgePlanValues=(z,Q,ae,te)=>{if(ae<=Q)return"Your founding price must be greater than your yearly price";const oe=K({value:z,interval:"month",is_founding:!1,currency:te});if(oe)return oe;const ue=K({value:Q,interval:"year",is_founding:!1,currency:te});if(ue)return ue;const ee=K({value:ae,interval:"year",is_founding:!0,currency:te});return ee||null},E.decimalToPercentString=z=>{let Q=z;return typeof z=="string"&&(Q=parseFloat(z)),`${Math.round(Q*100)}%`};const Y=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),ie=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),ce=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),de=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});E.formatPostDate=(z,{includeTime:Q,language:ae}={})=>{const te=G(z),oe=G(),{iTemplate:ue}=F.i(ae);return te.isBefore(oe.startOf("year"))?ce.format(te.toDate())+(Q?ue` at ${Y.format(te.toDate())}`:""):te.isBefore(oe.startOf("day"))?ie.format(te.toDate())+(Q?ue` at ${Y.format(te.toDate())}`:""):te.isAfter(oe.endOf("year"))?de.format(te.toDate())+(Q?ue` at ${Y.format(te.toDate())}`:""):te.isAfter(oe.endOf("day"))?ie.format(te.toDate())+(Q?ue` at ${Y.format(te.toDate())}`:""):Y.format(te.toDate())},E.getBanMessage=z=>{consam`;switch(z){case"hate":return Q("Hate policy");case"illegal":return Q("Illegal & Harmful Activities policy");case"impersonation":return Q("Impersonation policy");case"plagiarism":return Q("Plagiarism policy");case"porn":return Q("Nudity, Porn, & Erotica policy");case"private_information":return Q("Private Information policy");case"spam":return Q("Spam & Phishing policy");default:return Q("Content Guidelines, Terms of Service, or Publisher Agreement")}}},11059:(H,E,e)=>{"use strict";e.d(E,{a:()=>u});var t=e(6400),f=e(30396),s=e(4508),g=e(84040),P=e(34394),y=e(62246),C=e(43887);const u=({isOpen:p=!1,title:d,body:w,onClose:D,customPrimaryButton:M,secondaryButton:c,confirmationString:l})=>{const i=(0,f.sO)(null),[v,O]=(0,f.eJ)(!!l);return(0,f.0)},[p,l]),(0,t.h)(y.u_,{isOpen:p,onClose:D,initialFocus:i},d&&(0,t.h)(y.xB,{title:d,includeClose:!1}),(0,t.h)(y.fe,null,(0,t.h)(C.xv.B3,null,w),l&&(0,t.h)(s.xu,{paddingTop:16},(0,t.h)(P.o,{onChange:T=>{O(!0),l.toLowerCase()===T.target.value.toLowerCase()&&O(!1)}}))),(0,t.h)(y.mz,{primaryButton:M?(0,t.cloneElement)(M,{ref:i,disabled:v}):(0,t.h)(g.zx,{ref:i,onClick:D,priority:"primary",disabled:v},"OK"),secondaryButton:c}))}},83787:(H,E,e)=>{"use strict";e.d(E,{H:()=>g});var t=e(6400),f=e(30396);const s=150,g=({children:P,expanded:y,renderWhenCollapsed:C,onEnter:u,flex:p})=>{const d=(0,f.sO)(null),[w,D]=(0,f.eJ)(y?"expanded":"collapsed"),[M,c]=(0,f.eJ)(null);return(0,f.d4)(()=>{y&&w==="collapsed"&&D("startExpanding"),w==="startExpanding"&&d.current&&(c(d.current.offsetHeight),D("expanding"),setTime()},s)),!y&&w==="expanded"&&d.current&&(c(d.current.offsetHeight),D("startCollapsing")),w==="startCollapsing"&&(D("collapsing"),setTime")},s))},[y,w]),(0,t.h)("div",{style:{height:w==="collapsed"||w==="startExpanding"||w==="collapsing"?0:w==="expanding"||w==="startCollapsing"?M:null,transition:`height ${s}ms ease-in-out`,overflow:w==="expanded"?"visible":"hidden",display:p?"flex":"block",flexDirection:"column"}},(0,t.h)("div",{ref:d,style:{paddingTop:.05,paddingBottom:.05,display:p?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(w!=="collapsed"||C)&&P))}},4508:(H,E,e)=>{"use strict";e.d(E,{xu:()=>I,E7:()=>N,oB:()=>S,yK:()=>L});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=e(39693),y=e.n(P);const C={"border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-unset":"frontend-pencraft-Box-module__border-unset--Pgh1d","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-accent-themed":"frontend-pencraft-Box-module__border-accent-themed--wXyvv","border-top-accent-themed":"frontend-pencraft-Box-module__border-top-accent-themed--TV2H6","border-bottom-accent-themed":"frontend-pencraft-Box-module__border-bottom-accent-themed--o3hw6","border-left-accent-themed":"frontend-pencraft-Box-module__border-left-accent-themed--Zmywv","border-right-accent-themed":"frontend-pencraft-Box-module__border-right-accent-themed--ftXka","border-y-accent-themed":"frontend-pencraft-Box-module__border-y-accent-themed--XSy61","border-detail-dashed-themed":"frontend-pencraft-Box-module__border-detail-dashed-themed--oKBR4","border-top-detail-dashed-themed":"frontend-pencraft-Box-module__border-top-detail-dashed-themed--NPzSp","border-bottom-detail-dashed-themed":"frontend-pencraft-Box-module__border-bottom-detail-dashed-themed--n5yK3","border-left-detail-dashed-themed":"frontend-pencraft-Box-module__border-left-detail-dashed-themed--vhb5U","border-right-detail-dashed-themed":"frontend-pencraft-Box-module__border-right-detail-dashed-themed--DD1Ek","border-y-detail-dashed-themed":"frontend-pencraft-Box-module__border-y-detail-dashed-themed--cB5rf","border-detail-dashed":"frontend-pencraft-Box-module__border-detail-dashed--A7IFA","border-top-detail-dashed":"frontend-pencraft-Box-module__border-top-detail-dashed--O0bJ0","border-bottom-detail-dashed":"frontend-pencraft-Box-module__border-bottom-detail-dashed--iGmUH","border-left-detail-dashed":"frontend-pencraft-Box-module__border-left-detail-dashed--RRBPQ","border-right-detail-dashed":"frontend-pencraft-Box-module__border-right-detail-dashed--VlIJH","border-y-detail-dashed":"frontend-pencraft-Box-module__border-y-detail-dashed--CMeLF","border-radius-small":"frontend-pencraft-Box-module__border-radius-small--iH2PK","border-radius-medium":"frontend-pencraft-Box-module__border-radius-medium--xi5Gs","border-radius-large":"frontend-pencraft-Box-module__border-radius-large--UK0kl","border-radius-circle":"frontend-pencraft-Box-module__border-radius-circle--GTSy9","divider-detail":"frontend-pencraft-Box-module__divider-detail--PNqwC","bg-unset":"frontend-pencraft-Box-module__bg-unset--szbSw","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-tertiary":"frontend-pencraft-Box-module__bg-tertiary--TL9Xa","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7","bg-elevated-secondary":"frontend-pencraft-Box-module__bg-elevated-secondary--pms2j","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-glass-inverted-medium":"frontend-pencraft-Box-module__bg-glass-inverted-medium--uJdVK","bg-glass-inverted-thick":"frontend-pencraft-Box-module__bg-glass-inverted-thick--NJerh","bg-glass-thick":"frontend-pencraft-Box-module__bg-glass-thick--eAkjh","bg-accent-primary":"frontend-pencraft-Box-module__bg-accent-primary--xC4Fn","bg-accent-blue":"frontend-pencraft-Box-module__bg-accent-blue--TWseC","bg-action-blue":"frontend-pencraft-Box-module__bg-action-blue--YawFz",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflow-hidden":"frontend-pencraft-Box-module__overflow-hidden--aAMWF","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50","scrollBar-hidden":"frontend-pencraft-Box-module__scrollBar-hidden--fzF31",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"};var u=e(28614),p=Object.defineProperty,d=Object.defineProperties,w=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(K,G,re)=>G in K?p(K,G,{enumerable:!0,configurable:!0,writable:!0,value:re}):K[G]=re,i=(K,G)=>{for(var re in G||(G={}))M.call(G,re)&&l(K,re,G[re]);if(D)for(var re of D(G))c.call(G,re)&&l(K,re,G[re]);return K},v=(K,G)=>d(K,w(G)),O=(K,G)=>{var re={};for(var $ in K)M.call(K,$)&&G.indexOf($)<0&&(re[$]=K[$]);if(K!=null&&D)for(var $ of D(K))G.indexOf($)<0&&c.call(K,$)&&(re[$]=K[$]);return re};function T(K){var G,re;return K==null?[null,null]:typeof K=="object"?[(G=K.desktop)!=null?G:null,(re=K.mobile)!=null?re:null]:[K,null]}const I=(0,f.forwardRef)(function(G,re){var $=G,{display:F,as:Z,className:q,direction:V,flex:j,inline:Y,wrap:ie,gap:ce,opacity:de,width:z,height:Q,maxWidth:ae,maxHeight:te,minWidth:oe,minHeight:ue,margin:ee,padding:le,paddingX:se,paddingY:fe,paddingTop:ve,paddingBottom:ge,paddingLeft:be,paddingRight:ne,pointerEvents:me,userSelect:Le,justifyContent:Re,alignItems:Me,alignSelf:Ee,style:we,border:Te,borderTop:De,borderBottom:Be,borderLeft:Ke,borderRight:tt,borderY:Ot,radius:et,divider:it,shadow:bt,bg:xe,overflow:Oe,overflowY:Ie,overflowX:We,scrollBar:Ge,sizing:Xe,ellipsis:st,pullX:qe,textAlign:Ze,fontSize:mt,fontWeight:yt,color:Mt,decoration:Ht,font:Gt,fontStyle:zt,isParagraph:Kt,lineHeight:Ir,textTransform:or,nowrap:cr,clamp:Tt,position:wr,inset:Br,cursor:Hr,top:Wr}=$,Rr=O($,["display","as","className","direction","flex","inline","wrap","gap","opacity","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","pointerEvents","userSelect","justifyContent","alignItems","alignSelf","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","divider","shadow","bg","overflow","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position","inset","cursor","top"]);const qr=Z!=null?Z:"div";return(0,t.h)(qr,i({ref:re,className:g()(L({display:F,direction:V,flex:j,inline:Y,wrap:ie,gap:ce,opacity:de,width:z,height:Q,maxWidth:ae,maxHeight:te,minWidth:oe,minHeight:ue,margin:ee,padding:le,paddingX:se,paddingY:fe,paddingTop:ve,paddingBottom:ge,paddingLeft:be,paddingRight:ne,pointerEvents:me,userSelect:Le,justifyContent:Re,alignItems:Me,alignSelf:Ee,border:Te,borderTop:De,borderBottom:Be,borderLeft:Ke,borderRight:tt,borderY:Ot,radius:et,divider:it,shadow:bt,bg:xe,overflow:Oe,overflowY:Ie,overflowX:We,scrollBar:Ge,sizing:Xe,ellipsis:st,pullX:qe,textAlign:Ze,fontSize:mt,fontWeight:yt,color:Mt,decoration:Ht,font:Gt,fontStyle:zt,isParagraph:Kt,lineHeight:Ir,textTransform:or,nowrap:cr,clamp:Tt,position:wr,inset:Br,cursor:Hr,top:Wr}),q),style:we},Rr))});function L(K){var G=K,{reset:re=!0,color:$,bg:F,flex:Z,inline:q,border:V,borderTop:j,borderBottom:Y,borderLeft:ie,borderRight:ce,borderY:de,radius:z,divider:Q,overflow:ae,overflowY:te,overflowX:oe,scrollBar:ue,sizing:ee,ellipsis:le,pullX:se,textAlign:fe,decoration:ve,font:ge,fontSize:be,fontStyle:ne,fontWeight:me,isParagraph:Le,lineHeight:Re,textTransform:Me,nowrap:Ee,clamp:we}=G,Te=O(G,["reset","color","bg","flex","inline","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","divider","overflow","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","decoration","font","fontSize","fontStyle","fontWeight","isParagraph","lineHeight","textTransform","nowrap","clamp"]);const De=y()(Object.entries(Te).flatMap(([Be,Ke])=>{var tt;return Be=(tt=U[Be])!=null?tt:Be,Array.isArray(Be)?Be.Ke]):[[Be,Ke]]}).flatMap(([Be,Ke])=>{const[tt,Ot]=T(Ke).map(et=>{var it,bt;return(bt=(it=W[Be])==null?void 0:it.call(W,et))!=null?bt:et});return[tt!=null&&`pc-${Be}-${tt}`,Ot!=null&&`pc-mobile-${Be}-${Ot}`]})).join(" ");return g()("pencraft",De,{[C.flexGrow]:Z==="grow",[C.flexFill]:Z==="fill",[C.flexAuto]:Z==="auto"},re&&"pc-reset",F!=null&&C[`bg-${F}`],q&&"pc-display-inline-flex",V&&C[`border-${V}`],j&&C[`border-top-${j}`],Y&&C[`border-bottom-${Y}`],ie&&C[`border-left-${ie}`],ce&&C[`border-right-${ce}`],de&&C[`border-y-${de}`],z!=null&&`pc-borderRadius-${R(z)}`,Q!=null&&C[`divider-${Q}`],ae&&C[`overflow-${ae}`],te&&C[`overflowY-${te}`],oe&&C[`overflowX-${oe}`],ue&&C[`scrollBar-${ue}`],ee&&C[`sizing-${ee}`],le&&C.ellipsis,se&&C[`pullX-${se}`],$&&u.Z[`color-${$}`],fe&&u.Z[`align-${fe}`],Re&&u.Z[`line-height-${Re}`],ge&&u.Z[`font-${ge}`],be&&u.Z[`size-${be}`],ne&&u.Z[`font-style-${ne}`],me&&u.Z[`weight-${me}`],Me&&u.Z[`transform-${Me}`],Ee&&u.Z.nowrap,we&&`${u.Z.clamp} ${u.Z[`clamp-${we}`]}`,ve&&u.Z[`decoration-${ve}`],Le&&u.Z.paragraph)}const S=L;function N(K){var G=K,{className:re,displayName:$}=G,F=O(G,["className","displayName"]);const Z=(0,f.forwardRef)((q,V)=>{var j=q,{className:Y}=j,ie=O(j,["className"]);return(0,t.h)(I,v(i(i({},F),ie),{ref:V,className:g()(re,Y)}))});return Z.displayName=$,Z}function R(K){return K===6?"small":K===12?"medium":K===24?"large":K}const U={radius:"borderRadius",direction:"flexDirection",wrap:"flexWrap",paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],shadow:"boxShadow"},W={justifyContent:K=>K==="end"||K==="start"?`flex-${K}`:K,alignItems:K=>K==="end"||K==="start"?`flex-${K}`:K}},84040:(H,E,e)=>{"use strict";e.d(E,{hU:()=>S,kG:()=>I,o6:()=>N,zx:()=>L});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=e(17025),y=e.n(P),C=e(5668),u=e(43887),p=e(4924),d=Object.defineProperty,w=Object.defineProperties,D=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(R,U,W)=>U in R?d(R,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[U]=W,v=(R,U)=>{for(var W in U||(U={}))c.call(U,W)&&i(R,W,U[W]);if(M)for(var W of M(U))l.call(U,W)&&i(R,W,U[W]);return R},O=(R,U)=>w(R,D(U)),T=(R,U)=>{var W={};for(var K in R)c.call(R,K)&&U.indexOf(K)<0&&(W[K]=R[K]);if(R!=null&&M)for(var K of M(R))U.indexOf(K)<0&&l.call(R,K)&&(W[K]=R[K]);return W};const I=(0,f.forwardRef)((R,U)=>{var W=R,{onClick:K,href:G,localNavigation:re,newTab:$,className:F,resetCss:Z,state:q,replace:V}=W,j=T(W,["onClick","href","localNavigation","newTab","className","resetCss","state","replace"]);const Y=G?ie=>{K&&(K.call(ie.target,ie),ie.defaultPrevented)||(0,P.redirect)(G,{event:ie,local_navigation:re,newTab:$,replace:V,state:q})}:K;return(0,t.h)("button",O(v({tabIndex:0,type:"button"},j),{className:g()("pencraft",F,Z&&p.Z.buttonBase),ref:U,onClick:Y,"data-href":G}))});I.displayName="UnstyledButton";const L=(0,f.forwardRef)(function(U,W){var K=U,{className:G,priority:re="primary",size:$="medium",fill:F="filled",outline:Z,rounded:q,disabled:V,grow:j,leftIcon:Y,rightIcon:ie,allCaps:ce,children:de,hiddenInput:z,justifyContent:Q="center"}=K,ae=T(K,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,t.h)(I,v({className:g()(G,p.Z.buttonBase,p.Z.button,p.Z[`priority_${re}`],p.Z[`size_${$}`],p.Z[`fill_${F}`],Z&&p.Z.outline_none,q&&p.Z.rounded,j&&p.Z.grow,Y!=null&&p.Z.hasLeftIcon,ie!=null&&p.Z.hasRightIcon,Q&&"pc-justifyContent-center"),disabled:V,ref:W},ae),Y,ce?(0,t.h)(u.xv.Meta,null,de):de,ie,z&&(0,t.h)(C.U,null,z))}),S=(0,f.forwardRef)((R,U)=>{var W=R,{className:K,size:G=40,priority:re="secondary",color:$,fill:F="empty",rounded:Z=!0,inverted:q,grow:V,shadow:j}=W,Y=T(W,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,t.h)(I,v({ref:U,className:g()(K,p.Z.iconButton,G!=null&&p.Z[`size_${G}`],re&&p.Z[`priority_${re}`],$&&p.Z[`color_${$}`],F&&p.Z[`fill_${F}`],q&&p.Z.inverted,V&&p.Z.grow,Z&&p.Z.rounded,j&&p.Z[`shadow_${j}`])},Y))}),N=R=>{var U=R,{href:W,download:K,className:G,priority:re="primary",size:$="medium",fill:F="filled",outline:Z,rounded:q,grow:V}=U,j=T(U,["href","download","className","priority","size","fill","outline","rounded","grow"]);return(0,t.h)("a",v({href:W,download:K,className:g()(G,p.Z.buttonBase,p.Z.button,p.Z[`priority_${re}`],p.Z[`size_${$}`],p.Z[`fill_${F}`],Z&&p.Z.outline_none,q&&p.Z.rounded,V&&p.Z.grow)},j))}},91041:(H,E,e)=>{"use strict";e.d(E,{h:()=>T,a:()=>I});var t=e(6400),f=e(94184),s=e.n(f),g=e(49336),P=e(84040),y=e(51126),C=e(12876);const u={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var p=Object.defineProperty,d=Object.defineProperties,w=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(L,S,N)=>S in L?p(L,S,{enumerable:!0,configurable:!0,writable:!0,value:N}):L[S]=N,i=(L,S)=>{for(var N in S||(S={}))M.call(S,N)&&l(L,N,S[N]);if(D)for(var N of D(S))c.call(S,N)&&l(L,N,S[N]);return L},v=(L,S)=>d(L,w(S)),O=(L,S)=>{var N={};for(var R in L)M.call(L,R)&&S.indexOf(R)<0&&(N[R]=L[R]);if(L!=null&&D)for(var R of D(L))S.indexOf(R)<0&&c.call(L,R)&&(N[R]=L[R]);return N};const T=L=>{var S=L,{attached:N,gap:R=8}=S,U=O(S,["attached","gap"]);return(0,t.h)(y.gq,i({gap:N?0:R,className:s()({[u.attached]:N})},U))},I=L=>{var S=L,{children:N,menuItems:R,fill:U="filled",priority:W="primary",size:K="medium",rounded:G=!1,additionalMenuProps:re={}}=S,$=O(S,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,t.h)(T,{attached:!0},(0,t.h)(P.zx,v(i({},$),{priority:W,size:K,rounded:G,fill:U==="borderless"?"filled":U,outline:U==="borderless"?"none":void 0}),N),(0,t.h)(C.v2,v(i({},re),{trigger:(0,t.h)(P.hU,v(i({className:s()({[u.borderless]:U==="borderless"})},$),{priority:W,fill:U,rounded:G,size:K==="small"?32:40}),(0,t.h)(g.Z,{size:K==="small"?12:20}))}),R))}},15187:(H,E,e)=>{"use strict";e.d(E,{Tz:()=>I});var t=e(6400),f=e(94184),s=e.n(f),g=e(85928);const P={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(R,U,W)=>U in R?y(R,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[U]=W,M=(R,U)=>{for(var W in U||(U={}))d.call(U,W)&&D(R,W,U[W]);if(p)for(var W of p(U))w.call(U,W)&&D(R,W,U[W]);return R},c=(R,U)=>C(R,u(U)),l=(R,U)=>{var W={};for(var K in R)d.call(R,K)&&U.indexOf(K)<0&&(W[K]=R[K]);if(R!=null&&p)for(var K of p(R))U.indexOf(K)<0&&w.call(R,K)&&(W[K]=R[K]);return W};const i="YYYY-MM-DD",v="YYYY-MM-DDThh:mm";function O(R){var U=R,{className:W,min:K,max:G,value:re,onChange:$,disabled:F}=U,Z=l(U,["className","min","max","value","onChange","disabled"]);return h("input",c(M({},Z),{type:"date",className:cn(css.datePicker,W),value:re?dayjs(re).format(i):"",min:K?dayjs(K).format(i):"",max:G?dayjs(G).format(i):"",onChange:$,disabled:F}))}function T(R){var U=R,{className:W,min:K,max:G,value:re,onChange:$,disabled:F}=U,Z=l(U,["className","min","max","value","onChange","disabled"]);return h("input",c(M({},Z),{type:"datetime-local",className:cn(css.datePicker,W),value:re?dayjs(re).format(v):void 0,min:K?dayjs(K).format(v):void 0,max:G?dayjs(G).format(v):void 0,onChange:$,disabled:F}))}function I(R){var U=R,{className:W,min:K,max:G,value:re,onChange:$,disabled:F}=U,Z=l(U,["className","min","max","value","onChange","disabled"]);return(0,t.h)("input",c(M({},Z),{type:"datetime-local",className:s()(P.datePicker,W),value:S(re),min:S(K),max:S(G),onChange:$,disabled:F}))}function L(R){var U=R,{className:W,min:K,max:G,value:re,onChange:$,disabled:F}=U,Z=l(U,["className","min","max","value","onChange","disabled"]);return h("input",c(M({},Z),{type:"month",className:cn(css.datePicker,W),value:S(re),min:S(K),max:S(G),onChange:$,disabled:F}))}function S(R){return R instanceof Date?`${R.getFullYear()}-${N(R.getMonth()+1)}-${N(R.getDate())}T${N(R.getHours())}:${N(R.getMinutes())}`:R}function N(R){const U=String(R);return U.length<2?`0${U}`:U}},48960:(H,E,e)=>{"use strict";e.d(E,{i:()=>M});var t=e(6400),f=e(94184),s=e.n(f),g=e(51126);const P={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(c,l,i)=>l in c?y(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,w=(c,l)=>{for(var i in l||(l={}))u.call(l,i)&&d(c,i,l[i]);if(C)for(var i of C(l))p.call(l,i)&&d(c,i,l[i]);return c},D=(c,l)=>{var i={};for(var v in c)u.call(c,v)&&l.indexOf(v)<0&&(i[v]=c[v]);if(c!=null&&C)for(var v of C(c))l.indexOf(v)<0&&p.call(c,v)&&(i[v]=c[v]);return i};const M=c=>{var l=c,{className:i,weight:v=1,priority:O="detail"}=l,T=D(l,["className","weight","priority"]);return(0,t.h)(g.hs,w({className:s()(P.divider,i,P[`priority_${O}`],v&&P[`weight-${v}`]),flex:"grow"},T),(0,t.h)("hr",null))}},51126:(H,E,e)=>{"use strict";e.d(E,{X2:()=>l,gq:()=>c,hs:()=>M,sg:()=>v,tu:()=>i});var t=e(6400),f=e(98661),s=e(4508),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(O,T,I)=>T in O?g(O,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):O[T]=I,w=(O,T)=>{for(var I in T||(T={}))u.call(T,I)&&d(O,I,T[I]);if(C)for(var I of C(T))p.call(T,I)&&d(O,I,T[I]);return O},D=(O,T)=>P(O,y(T));const M=(0,f.forwardRef)(function(T,I){return(0,t.h)(s.xu,D(w({},T),{display:T.display||"flex",ref:I}))}),c=M,l=c,i=(0,f.forwardRef)(function(T,I){return(0,t.h)(s.xu,D(w({},T),{display:T.display||"flex",direction:"column",ref:I}))}),v=i},94016:(H,E,e)=>{"use strict";e.d(E,{z:()=>I,o:()=>L});var t=e(6400),f=e(30396),s=e(5285),g=e(94184),P=e.n(g),y=e(62372);const C={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var u=Object.defineProperty,p=Object.defineProperties,d=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,c=(S,N,R)=>N in S?u(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,l=(S,N)=>{for(var R in N||(N={}))D.call(N,R)&&c(S,R,N[R]);if(w)for(var R of w(N))M.call(N,R)&&c(S,R,N[R]);return S},i=(S,N)=>p(S,d(N)),v=(S,N)=>{var R={};for(var U in S)D.call(S,U)&&N.indexOf(U)<0&&(R[U]=S[U]);if(S!=null&&w)for(var U of w(S))N.indexOf(U)<0&&M.call(S,U)&&(R[U]=S[U]);return R};const O=500,T=250,I=S=>{var N=S,{className:R="",children:U,layerClassName:W,dontStopPropagation:K,as:G}=N,re=v(N,["className","children","layerClassName","dontStopPropagation","as"]);const $=L(l({className:W},re)),F=G!=null?G:"div";return(0,t.h)(F,i(l(l({className:R},$.triggerProps),$.hoverProps),{onClick:Z=>{K||Z.stopPropagation()}}),U,$.layer)};function L(S){var N=S,{disabled:R,onFetch:U,onOpen:W,content:K,className:G,layerOptions:re,hideOnScroll:$=!1}=N,F=v(N,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[Z,q,V]=(0,y.XI)({delayEnter:O,delayLeave:T,hideOnScroll:$}),j=(0,f.sO)(!1);(0,f.d4)(()=>{Z&&(!j.current&&U&&(j.current=!0,U()),W&&W())},[Z,U,W]);const[Y,ie]=(0,f.eJ)(!1),{triggerProps:ce,layerProps:de,renderLayer:z,layerSide:Q}=(0,y.sJ)(l({isOpen:R?!1:Z,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},re));return{triggerProps:ce,hoverProps:q,layer:(Z||Y)&&!R&&z((0,t.h)(s.u,{appear:!0,show:Z&&!F.loading,beforeEnter:()=>ie(!0),afterLeave:()=>ie(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",l(l({onClick:()=>{V()},className:P()(G,C.hoverCardBase)},de),q),K)))}}},56288:(H,E,e)=>{"use strict";e.d(E,{a:()=>D});var t=e(6400),f=e(94184),s=e.n(f);const g={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var P=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?P(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>{var i={};for(var v in c)C.call(c,v)&&l.indexOf(v)<0&&(i[v]=c[v]);if(c!=null&&y)for(var v of y(c))l.indexOf(v)<0&&u.call(c,v)&&(i[v]=c[v]);return i};const D=c=>{var l=c,{type:i="circular"}=l,v=w(l,["type"]);if(i==="circular")return(0,t.h)(M,d({},v));throw new Error("not implemented")},M=({className:c,size:l="md",dataTestId:i})=>(0,t.h)("div",{"data-testid":i,className:s()(g.circularLoader,g[`size_${l}`],c)})},12876:(H,E,e)=>{"use strict";e.d(E,{v2:()=>ce,sN:()=>de});var t=e(6400),f=e(98661),s=e(30396),g=e(5285),P=e(94184),y=e.n(P),C=e(44396),u=e(71375),p=e(84040),d=e(51126),w=e(5668);const D=(0,f.createContext)({useMobileBottomSheet:!0,close:()=>{}});function M(){return(0,f.useContext)(D)}var c=e(43887);const l={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc",relative:"frontend-pencraft-ActionSheet-module__relative--WOknO"};var i=Object.defineProperty,v=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,I=(oe,ue,ee)=>ue in oe?i(oe,ue,{enumerable:!0,configurable:!0,writable:!0,value:ee}):oe[ue]=ee,L=(oe,ue)=>{for(var ee in ue||(ue={}))O.call(ue,ee)&&I(oe,ee,ue[ee]);if(v)for(var ee of v(ue))T.call(ue,ee)&&I(oe,ee,ue[ee]);return oe},S=(oe,ue)=>{var ee={};for(var le in oe)O.call(oe,le)&&ue.indexOf(le)<0&&(ee[le]=oe[le]);if(oe!=null&&v)for(var le of v(oe))ue.indexOf(le)<0&&T.call(oe,le)&&(ee[le]=oe[le]);return ee};const N=(0,f.forwardRef)(({title:oe,subtitle:ue,onClose:ee,children:le,className:se},fe)=>(0,t.h)(d.tu,{className:l.root,onClick:ee},(0,t.h)(g.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,t.h)(d.tu,{className:y()(l.sheet,se),ref:fe,onClick:ve=>{ve.stopPropagation()}},(0,t.h)(d.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,t.h)(d.tu,null,(0,t.h)(c.xv.B3,{weight:"semibold"},oe),(0,t.h)(c.xv.B4,{color:"secondary"},ue)),(0,t.h)(p.hU,{fill:"empty",onClick:()=>{ee()},priority:"secondary"},(0,t.h)(u.Z,null))),(0,t.h)(d.tu,{paddingTop:8,overflowY:"auto",className:l.items},le))))),R=(0,f.forwardRef)((oe,ue)=>{var ee=oe,{children:le,onClick:se,closeMenu:fe,icon:ve,rightIcon:ge,className:be,priority:ne="primary",disabled:me,hiddenInput:Le}=ee,Re=S(ee,["children","onClick","closeMenu","icon","rightIcon","className","priority","disabled","hiddenInput"]);const Me=Re.href?"a":p.kG,{close:Ee}=M();return(0,t.h)(Me,L({className:y()(l.item,l[ne],be,{[l.disabled]:!!me,[l.relative]:!!Le}),resetCss:!0,onClick:we=>{se==null||se(we),Ee()},ref:ue},Re),ve&&(0,t.cloneElement)(ve,{size:20,stroke:"var(--color-primary)"}),ve&&" ",(0,t.h)(c.xv.B4,{color:ne==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},le),ge&&(0,t.h)(t.Fragment,null,(0,t.h)(d.hs,{flex:"grow"}),ge&&(0,t.cloneElement)(ge,{size:20,stroke:"var(--color-primary)"})),Le&&(0,t.h)(w.U,null,Le))});var U=e(89581);const W={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",relative:"frontend-pencraft-Menu-module__relative--tBxDI",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var K=Object.defineProperty,G=Object.defineProperties,re=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,q=(oe,ue,ee)=>ue in oe?K(oe,ue,{enumerable:!0,configurable:!0,writable:!0,value:ee}):oe[ue]=ee,V=(oe,ue)=>{for(var ee in ue||(ue={}))F.call(ue,ee)&&q(oe,ee,ue[ee]);if($)for(var ee of $(ue))Z.call(ue,ee)&&q(oe,ee,ue[ee]);return oe},j=(oe,ue)=>G(oe,re(ue)),Y=(oe,ue)=>{var ee={};for(var le in oe)F.call(oe,le)&&ue.indexOf(le)<0&&(ee[le]=oe[le]);if(oe!=null&&$)for(var le of $(oe))ue.indexOf(le)<0&&Z.call(oe,le)&&(ee[le]=oe[le]);return ee};function ie(oe){return typeof oe.type=="string"||oe.type.$$typeof===Symbol.for("react.forward_ref")}const ce=(0,f.forwardRef)((oe,ue)=>{var ee=oe,{trigger:le,children:se,ariaLabel:fe="View more",hideOnScroll:ve,layerOptions:ge,layerClassName:be,onOpen:ne,onClose:me,useMobileBottomSheet:Le=!1,mobileBottomSheetTitle:Re,mobileBottomSheetSubtitle:Me,stopPropagation:Ee=!1,maxHeight:we=295,padding:Te=8,disableMenu:De=!1}=ee,Be=Y(ee,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);ie(le)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const Ke=(0,C.XA)(),{triggerProps:tt,layerProps:Ot,renderLayer:et,isOpen:it,setOpen:bt}=(0,U.x)({layerOptions:V({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},ge),hideOnScroll:ve&&!(Le&&Ke),onClose:me}),[xe,Oe]=(0,s.eJ)(!1)()},We=(0,t.toChildArray)(se).map(Xe=>(0,t.cloneElement)(Xe,{useMobileBottomSheet:Le,closeMenu:Ie})),Ge=(0,f.useMee}),[me,Le]);return(0,t.h)(D.Provider,{value:Ge},(0,t.cloneElement)(le,j(V({},tt),{ariaLabel:fe,onClick:Xe=>{Xe.preventDefault(),Ee&&Xe.stopPropagation(),De||bt(!it),!it&&ne&&ne(),it&&me&&me()}})),(it||xe)&&et(Le&&Ke?(0,t.h)(g.u,{appear:!0,show:it,beforeEnter:()=>Oe(!0),afterLeave:()=>Oe(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",V(V({},Ot),Be),(0,t.h)(N,{title:Re,subtitle:Me,onClose:Ie,ref:ue,className:be},We))):(0,t.h)(g.u,{appear:!0,unmount:!1,show:it,beforeEnter:()=>Oe(!0),afterLeave:()=>Oe(!1),className:"tw-duration-fast"},(0,t.h)("div",V(V({},Ot),Be),(0,t.h)(g.u,{appear:!0,unmount:!1,show:it,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,t.h)(z,V({className:be,ref:ue,padding:Te},!ve&&{style:{maxHeight:we,overflowY:"auto"}}),We))))))}),de=(0,f.forwardRef)((oe,ue)=>{const{useMobileBottomSheet:ee}=M(),le=(0,C.XA)();return ee&&le?(0,t.h)(R,j(V({},oe),{ref:ue})):(0,t.h)(Q,j(V({},oe),{ref:ue}))}),z=(0,f.forwardRef)((oe,ue)=>{var ee=oe,{className:le}=ee,se=Y(ee,["className"]);return(0,t.h)(d.tu,V({className:y()(W.menu,"elevated",le),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:ue},se))}),Q=(0,f.forwardRef)((oe,ue)=>{var ee=oe,{children:le,onClick:se,closeMenu:fe,icon:ve,rightIcon:ge,suffix:be,priority:ne="primary",className:me,disabled:Le,href:Re,download:Me,hiddenInput:Ee}=ee,we=Y(ee,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download","hiddenInput"]);const Te=Re?"a":p.kG,{close:De}=M();return(0,t.h)(Te,V({className:y()(W.menuItem,W[ne],me,{[W.disabled]:!!Le,[W.relative]:!!Ee}),resetCss:!0,onClick:Be=>{Le||(se&&se(Be),De?De():fe&&fe())},href:Le?"javascript:void(0)":Re,download:Me,ref:ue},we),ve&&(0,t.cloneElement)(ve,{size:24,className:y()(W.icon,ve.props.className)}),(0,t.h)(c.xv.B4,{color:ne==="destructive"?"accent-red":"primary",className:W.text,weight:"semibold",align:"left"},le),be,ge&&(0,t.h)(t.Fragment,null,(0,t.h)(d.hs,{flex:"grow"}),ge&&(0,t.cloneElement)(ge,{size:24,className:y()(W.icon,ge.props.className)})),Ee&&(0,t.h)(w.U,null,Ee))});function ae({title:oe,children:ue}){return h(FlexColumn,{borderTop:"detail"},oe&&h(Text.Meta,{padding:8,flex:"auto",sizing:"border-box"},oe),ue)}const te=null},53940:(H,E,e)=>{"use strict";e.d(E,{u:()=>L,f:()=>T});var t=e(6400),f=e(98661),s=e(5285),g=e(81583),P=e(94184),y=e.n(P),C=e(50308),u=e.n(C),p=e(44396),d=e(4508),w=e(21958);const D={renderOverReactLaagPortal:"frontend-pencraft-Modal-Modal-module__renderOverReactLaagPortal--TqD1u",container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",bottom:"frontend-pencraft-Modal-Modal-module__bottom--YPMpX",hide:"frontend-pencraft-Modal-Modal-module__hide--a29WN",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f"};var M=Object.defineProperty,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(S,N,R)=>N in S?M(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,O=(S,N)=>{for(var R in N||(N={}))l.call(N,R)&&v(S,R,N[R]);if(c)for(var R of c(N))i.call(N,R)&&v(S,R,N[R]);return S};const T=(0,w.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),I=({children:S})=>(0,t.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},S),L=({isOpen:S,onClose:N=()=>{},children:R,includeBackdrop:U=!0,position:W="default",opacity:K="medium",radius:G="medium",testId:re="modal",className:$,onEscape:F,fullscreenMobile:Z,overflow:q,width:V=440,disableCloseOnBackdropClick:j=!1,initialFocus:Y,renderOverReactLaagPortal:ie=!1})=>{const ce=(0,p.XA)(),de=z=>{const{code:Q}=z;F&&Q==="Escape"&&F(z)};return(0,t.h)(s.u,{show:S,as:f.Fragment},(0,t.h)(g.V,{onMouseDown:z=>z.stopPropagation(),onMouseUp:z=>z.stopPropagation(),onClick:z=>z.stopPropagation(),"data-testid":re,as:"div",className:y()(ie&&D.renderOverReactLaagPortal,"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto"),onClose:j?u():N,onKeyDown:F?de:void 0,initialFocus:Y},(0,t.h)(I,null,U&&(0,t.h)(s.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",{className:K==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,t.h)(s.u.Child,{as:f.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,t.h)(g.V.Panel,{className:y()($,(0,d.yK)({display:"flex",radius:G}),D.container,D[W],Z?D.fullscreenMobile:D.dynamicMobile),style:O({width:ce||W==="full"?void 0:V,overflow:q},ce&&Z&&typeof window!="undefined"&&window.innerHeight&&{height:`${window.innerHeight}px`})},R)))))}},29354:(H,E,e)=>{"use strict";e.d(E,{m:()=>d});var t=e(6400),f=e(94184),s=e.n(f),g=Object.defineProperty,P=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,u=(M,c,l)=>c in M?g(M,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):M[c]=l,p=(M,c)=>{for(var l in c||(c={}))y.call(c,l)&&u(M,l,c[l]);if(P)for(var l of P(c))C.call(c,l)&&u(M,l,c[l]);return M};const d=M=>M.alignment==="center"?(0,t.h)(D,p({},M)):(0,t.h)(w,p({},M)),w=({primaryButton:M,secondaryButton:c,destructiveButton:l,includeDivider:i,className:v})=>(0,t.h)("div",{className:s()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":i},v)},l&&(0,t.cloneElement)(l,{className:s()("tw-mr-auto",l.props.className)}),c,M),D=({includeDivider:M,primaryButton:c,secondaryButton:l,className:i})=>(0,t.h)("div",{className:s()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":M},i)},c,l)},28079:(H,E,e)=>{"use strict";e.d(E,{r:()=>p,x:()=>u});var t=e(6400),f=e(81583),s=e(94184),g=e.n(s),P=e(26059),y=e(33705),C=e(21958);const u=({isModal:d=!0,onClose:w,includeClose:D=!1,bottomBorder:M,title:c,description:l,as:i="h2",usePubThemeForTitle:v=!1,className:O,pagination:T})=>(0,t.h)("div",{className:g()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",O,{"tw-px-4":!T,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":M})},!c&&!T&&(0,t.h)(y.Z,{alt:"Substack icon",height:24}),T&&(0,t.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},T[0]," OF ",T[1]),D&&(0,t.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:w,"aria-label":"close"},(0,t.h)(P.Z,null)),c&&d&&(0,t.h)(f.V.Title,{as:i,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${v?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},c),l&&d&&(0,t.h)(f.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},l),c&&!d&&(0,t.h)(p,{className:"tw-col-start-1 tw-row-start-1"},c)&&(0,t.createElement)(i,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${v?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},c),l&&!d&&(0,t.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},l)&&(0,t.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},l)),p=(0,C.L)("tw-my-0 tw-font-title","h2")},92106:(H,E,e)=>{"use strict";var t=e(6400),f=e(94184),s=e(51126),g=e(43887);const P={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(c,l,i)=>l in c?y(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,w=(c,l)=>{for(var i in l||(l={}))u.call(l,i)&&d(c,i,l[i]);if(C)for(var i of C(l))p.call(l,i)&&d(c,i,l[i]);return c},D=(c,l)=>{var i={};for(var v in c)u.call(c,v)&&l.indexOf(v)<0&&(i[v]=c[v]);if(c!=null&&C)for(var v of C(c))l.indexOf(v)<0&&p.call(c,v)&&(i[v]=c[v]);return i};const M=c=>{var l=c,{icon:i,text:v,textColor:O="secondary",bgColor:T="secondary",paddingX:I=24,paddingY:L=24,border:S,className:N,onClick:R}=l,U=D(l,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,w({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:I,paddingY:L,radius:12,border:S,className:cn(N,css.placeholder,css[`bg_${T}`],css[`text_${O}`],{[css.clickable]:!!R}),onClick:R},U),h(FlexColumn,{gap:8,alignItems:"center"},i,h(Text.B4,{color:O,className:css.text,weight:"bold"},v)))}},70925:(H,E,e)=>{"use strict";e.d(E,{J:()=>v});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(62372);const y={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var C=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(I,L,S)=>L in I?C(I,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):I[L]=S,c=(I,L)=>{for(var S in L||(L={}))w.call(L,S)&&M(I,S,L[S]);if(d)for(var S of d(L))D.call(L,S)&&M(I,S,L[S]);return I},l=(I,L)=>u(I,p(L)),i=(I,L)=>{var S={};for(var N in I)w.call(I,N)&&L.indexOf(N)<0&&(S[N]=I[N]);if(I!=null&&d)for(var N of d(I))L.indexOf(N)<0&&D.call(I,N)&&(S[N]=I[N]);return S};const v=I=>{var L=I,{className:S="",children:N,layerClassName:R,hideOnScroll:U=!1,onClose:W}=L,K=i(L,["className","children","layerClassName","hideOnScroll","onClose"]);const[G,re]=(0,f.eJ)(!1),$=T(c({open:G,onCl()},hideOnScroll:U,className:R},K));return O({hideOnScroll:U,setOpen:re,open:G}),(0,t.h)("div",l(c({className:S},$.triggerProps),{onCl()}}),typeof N=="function"?N({isOpen:G}):N,$.layer)};function O({hideOnScroll:I,setOpen:L,open:S}){const N=(0,f.I4)(R=>{requestAnimationFrame(()=>{var U;const K=(U=R.target.classList)==null?void 0:U.contains("popoverLayerForScrollDetection");S&&I&&!K&&L(!1)})},[I,L,S]);(0,f.d4)(()=>{if(I)return window.addEventListener("scroll",N,!0),()=>{window.removeEventListener("scroll",N,!0)}},[N,I])}function T({open:I,onClose:L,disabled:S,possiblePlacements:N=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:R,snap:U=!1,onOpen:W,content:K,className:G,layerOptions:re,closeOnOutsideClick:$=!0}){const F=(0,f.sO)(!1);(0,f.d4)(()=>{I&&!F.current&&W&&(F.current=!0,W())},[I,W]);const{triggerProps:Z,layerProps:q,renderLayer:V}=(0,P.sJ)(c(c(c({isOpen:S?!1:I,overflowContainer:!1,auto:!0,snap:U,possiblePlacements:N,placement:R,containerOffset:10,triggerOffset:8},$&&{onOutsideClick:()=>L()}),R&&{placement:R}),re));return{triggerProps:Z,layer:I&&V((0,t.h)("div",c({className:g()("popoverLayerForScrollDetection",y.popoverBase,G)},q),typeof K=="function"?K({closePopover:L}):K))}}},65414:(H,E,e)=>{"use strict";e.d(E,{r:()=>M});var t=e(6400),f=e(12395),s=e(94184),g=e.n(s),P=e(30058),y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(l,i,v)=>i in l?y(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,w=(l,i)=>{for(var v in i||(i={}))u.call(i,v)&&d(l,v,i[v]);if(C)for(var v of C(i))p.call(i,v)&&d(l,v,i[v]);return l},D=(l,i)=>{var v={};for(var O in l)u.call(l,O)&&i.indexOf(O)<0&&(v[O]=l[O]);if(l!=null&&C)for(var O of C(l))i.indexOf(O)<0&&p.call(l,O)&&(v[O]=l[O]);return v};const M=l=>{var i=l,{color:v="default",accessibilityLabel:O="Toggle setting",classNames:T,checked:I,small:L=!1,preflightClassName:S}=i,N=D(i,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const R=v==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return(0,t.h)(P.e,{className:S},(0,t.h)(f.r,w({className:g()(I?R:"tw-bg-neutral-400",L?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",T),checked:I},N),(0,t.h)("span",{className:"tw-sr-only"},O),(0,t.h)("span",{"aria-hidden":"true",className:g()(I?`${L?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",L?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))};var c=null},43887:(H,E,e)=>{"use strict";e.d(E,{Zx:()=>L,xv:()=>I,hh:()=>ue});var t=e(6400),f=e(94184),s=e.n(f),g=e(28488);consle},y=(ee,le,se)=>{let fe="";const ve=be=>Array.isArray(be)&&be.length===2&&be[1]===null;return(Array.isArray(ee)&&!ve(ee)?ee:[ee]).forEach(be=>{if(!be)fe+="";else if(be.type){const ne=le.length+1;le.push(be),fe+=`<C${ne}>${y(be.props.children||[],le,se)}</C${ne}>`}else if(ve(be)){const ne=be[0];fe+=`%${se.length+1}`,se.push(ne)}else fe+=be}),fe},C=(ee,le)=>{const se=P(ee),fe=ve=>{const ge=[];return ve.forEach(be=>{var ne,me;if((ne=be.nodeName)!=null&&ne.startsWith("C")){const Le=Number(be.nodeName.replace("C",""))-1,Re=le[Le];if(!Re)return;const Me=(me=be.childNodes)!=null&&me.length?fe(be.childNodes):[],Ee=(0,t.cloneElement)(Re,Re.props,Me);ge.push(Ee)}else{const Le=be.data||"";ge.push(Le)}}),ge};return fe(se.childNodes||[])};var u=e(4508),p=e(28614),d=Object.defineProperty,w=Object.defineProperties,D=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(ee,le,se)=>le in ee?d(ee,le,{enumerable:!0,configurable:!0,writable:!0,value:se}):ee[le]=se,v=(ee,le)=>{for(var se in le||(le={}))c.call(le,se)&&i(ee,se,le[se]);if(M)for(var se of M(le))l.call(le,se)&&i(ee,se,le[se]);return ee},O=(ee,le)=>w(ee,D(le)),T=(ee,le)=>{var se={};for(var fe in ee)c.call(ee,fe)&&le.indexOf(fe)<0&&(se[fe]=ee[fe]);if(ee!=null&&M)for(var fe of M(ee))le.indexOf(fe)<0&&l.call(ee,fe)&&(se[fe]=ee[fe]);return se};const I=ee=>{var le=ee,{className:se,align:fe,size:ve,weight:ge,transform:be}=le,ne=T(le,["className","align","size","weight","transform"]);ne=O(v({},ne),{textAlign:fe!=null?fe:ne.textAlign,textTransform:be!=null?be:ne.textTransform,fontSize:ve!=null?ve:ne.fontSize,fontWeight:ge!=null?ge:ne.fontWeight});const{iString:me,language:Le}=(0,g.M1)();let Re=ne.children;if(ne.translated&&Le!=="en"){const Me=[],Ee=[],we=y(ne.children,Me,Ee),Te=me(we,...Ee);if(Te&&Te!==we)try{Re=C(Te,Me)}catch(De){console.log(`Could not translate ${we}`,De)}}return(0,t.h)(u.xu,O(v({className:s()(p.Z.reset,se)},ne),{children:Re}))},L=ee=>(0,t.h)(I,v({as:"span"},ee)),S=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:s()(p.Z.header1,fe)},ve),se)},N=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:s()(p.Z.header2,fe)},ve),se)},R=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:s()(p.Z.header3,fe)},ve),se)},U=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:s()(p.Z.header4,fe)},ve),se)},W=(0,u.E7)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:p.Z.body1}),K=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:s()(p.Z.body2,fe)},ve),se)},G=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:s()(p.Z.body3,fe)},ve),se)},re=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:s()(p.Z.body4,fe)},ve),se)},$=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:s()(p.Z.meta,fe)},ve),se)},F=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:s()(p.Z.digit,fe)},ve),se)},Z=ee=>(0,t.h)(I,v({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},ee)),q=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:s()(fe)},ve),se)},V=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({font:"text",color:"primary",className:s()(p.Z.marketingBody,fe)},ve),se)},j=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h1",color:"primary",weight:"normal",className:s()(p.Z.marketingHeading1xl,fe)},ve),se)},Y=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h1",color:"primary",weight:"normal",className:s()(p.Z.marketingHeading1,fe)},ve),se)},ie=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h3",color:"primary",weight:"medium",className:s()(p.Z.marketingHeading2,fe)},ve),se)},ce=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h3",color:"primary",weight:"medium",className:s()(p.Z.marketingHeading3,fe)},ve),se)},de=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h4",color:"primary",weight:"medium",className:s()(p.Z.marketingHeading4,fe)},ve),se)},z=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h5",color:"primary",weight:"normal",className:s()(p.Z.marketingHeading5,fe)},ve),se)},Q=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h4",color:"primary",weight:"normal",align:"center",className:s()(p.Z.marketingQuote,fe)},ve),se)},ae=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h4",color:"primary",weight:"normal",size:28,className:s()(p.Z.marketingSubtitle,fe)},ve),se)},te=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({as:"h1",color:"primary",weight:"normal",className:s()(p.Z.stat,fe)},ve),se)},oe=ee=>{var le=ee,{children:se,className:fe}=le,ve=T(le,["children","className"]);return(0,t.h)(I,v({font:"mono",size:12,lineHeight:20,className:s()(p.Z.digit,fe)},ve),se)},ue=(0,u.E7)({as:"a",decoration:"hover-underline"});I.H1=S,I.H2=N,I.H3=R,I.H4=U,I.B1=W,I.B2=K,I.B3=G,I.B4=re,I.Detail=q,I.MarketingBody=V,I.MarketingHeading1xl=j,I.MarketingHeading1=Y,I.MarketingHeading2=ie,I.MarketingHeading3=ce,I.MarketingHeading4=de,I.MarketingHeading5=z,I.MarketingQuote=Q,I.MarketingSubtitle=ae,I.Meta=$,I.Stat=te,I.Digit=F,I.Button=Z,I.Mono=oe},75425:(H,E,e)=>{"use strict";e.d(E,{FN:()=>L,Us:()=>S,VW:()=>Z,dd:()=>q,lL:()=>N,pm:()=>V});var t=e(6400),f=e(98661),s=e(30396),g=e(5285),P=e(94184),y=e.n(P),C=e(71375),u=e(13833),p=e(21958),d=e(92271),w=e(51126),D=Object.defineProperty,M=Object.defineProperties,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(j,Y,ie)=>Y in j?D(j,Y,{enumerable:!0,configurable:!0,writable:!0,value:ie}):j[Y]=ie,T=(j,Y)=>{for(var ie in Y||(Y={}))i.call(Y,ie)&&O(j,ie,Y[ie]);if(l)for(var ie of l(Y))v.call(Y,ie)&&O(j,ie,Y[ie]);return j},I=(j,Y)=>M(j,c(Y));function L({text:j,cta:Y,onAccept:ie,href:ce,onClose:de,Icon:z,className:Q}){return(0,t.h)(U,{className:y()("tw-items-center",Q)},(0,t.h)(w.gq,{className:"tw-flex-1",gap:12},z&&(0,t.h)(re,{Icon:z}),(0,t.h)(W,null,j)),(0,t.h)(w.gq,{className:"tw-flex-none",gap:12},Y&&(typeof Y=="string"?(ce||ie)&&(0,t.h)(d.z,{look:"flex",onClick:ae=>{de==null||de(),ie==null||ie(ae)},href:ce},(0,t.h)(u.Av,{className:"tw-text-dark-secondary"},Y)):Y),(0,t.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,t.h)(G,{onClick:de})))}function S({title:j,body:Y,buttons:ie,onClose:ce,Icon:de}){return(0,t.h)(U,{className:"tw-max-w-md"},de&&(0,t.h)(re,{Icon:de}),(0,t.h)(w.tu,{className:"tw-flex-0-5",gap:8},(0,t.h)(w.tu,{className:"tw-flex-0-5",gap:4},(0,t.h)(W,null,j),(0,t.h)(K,null,Y)),ie&&(0,t.h)(w.gq,{gap:24},ie)),(0,t.h)(G,{onClick:ce}))}function N(j){return(0,t.h)(d.z,T({look:"flex",className:"tw-h-9 tw-items-center"},j))}function R(j){return h("div",{className:$},h(L,T({},j)))}const U=(0,p.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),W=(0,p.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",u.Hj),K=(0,p.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",u.Hj);function G({onClick:j}){return(0,t.h)(d.z,{look:"flex",onClick:j},(0,t.h)(C.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function re({Icon:j}){return(0,t.h)(j,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const $="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",F=(0,t.createContext)({popTo")},addOffset:()=>{}});function Z({children:j}){const[Y,ie]=(0,s.eJ)(null),[ce,de]=(0,s.eJ)("hidden"),[z,Q]=(0,s.eJ)(0),ae=(0,s.sO)(null),te=()=>{de("hidden")},oe=(ee,{ttl:le=5e3}={})=>{ie({element:ee({onClose:te}),ttl:le}),de("visible"),ae.current!=null&&clearTimeout(ae.current),ae.current=le===null?null:setTimeout(te,le)},ue=ee=>{Q(Math.min(z+ee,0))};return(0,t.h)(F.Provider,{value:{popToast:oe,addOffset:ue}},j,(0,t.h)("div",{className:$,style:{transform:`translateY(${z}px)`}},(0,t.h)(g.u,{appear:!0,show:!!Y&&ce==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>ae.current!=null&&clearTimeout(ae.current),onMouseLeave:()=>{ae.current!=null&&clearTimeout(ae.current),Y&&(ae.current=Y.ttl===null?null:setTimeout(te,Y.ttl))}},Y==null?void 0:Y.element)))}const q=j=>{const Y=(0,f.forwardRef)((ie,ce)=>{const de=V();return(0,t.h)(j,I(T(T({},de),ie),{ref:ce}))});return Y.displayName=`withToastContext(${j.name||j.displayName||"Anonymous"})`,Y};function V(){return(0,s.qp)(F)}},92630:(H,E,e)=>{"use strict";e.d(E,{u:()=>O,_:()=>T});var t=e(6400),f=e(51126),s=e(25666),g=e(43887);const P={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB",shortcutKeys:"frontend-pencraft-Tooltip-module__shortcutKeys--olyP3",shortcutKey:"frontend-pencraft-Tooltip-module__shortcutKey--gTb7r"};var y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(S,N,R)=>N in S?y(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,M=(S,N)=>{for(var R in N||(N={}))d.call(N,R)&&D(S,R,N[R]);if(p)for(var R of p(N))w.call(N,R)&&D(S,R,N[R]);return S},c=(S,N)=>C(S,u(N)),l=(S,N)=>{var R={};for(var U in S)d.call(S,U)&&N.indexOf(U)<0&&(R[U]=S[U]);if(S!=null&&p)for(var U of p(S))N.indexOf(U)<0&&w.call(S,U)&&(R[U]=S[U]);return R};const i=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],v=["left-start","left-center","left-end","right-start","right-center","right-end"],O=S=>{var N=S,{children:R,text:U,as:W="span",icon:K,hotkeys:G,preferPlacement:re="top-center",disabled:$,dangerouslySetTooltipZIndex:F,hoverOptions:Z={}}=N,q=l(N,["children","text","as","icon","hotkeys","preferPlacement","disabled","dangerouslySetTooltipZIndex","hoverOptions"]);const{layerProps:V,triggerProps:j,transitionProps:Y,renderLayer:ie,shouldShow:ce}=(0,s.l)({layerOptions:{placement:re,possiblePlacements:v.includes(re)?v:i},hoverOptions:Z}),de=V,{style:z}=de,Q=l(de,["style"]);return $?(0,t.h)(t.Fragment,null,R):(0,t.h)(t.Fragment,null,(0,t.h)(W,M(M({},j),q),R),ce&&ie((0,t.h)(T,{transitionProps:Y,tooltipProps:c(M({},Q),{style:c(M({},z),{maxWidth:350,zIndex:F||Number.MAX_SAFE_INTEGER})}),icon:K,text:U,hotkeys:G})))};function T({transitionProps:S,tooltipProps:N,icon:R,text:U,hotkeys:W}){const K=!!(W!=null&&W.length)&&(0,t.h)(I,null,W.,G)));return(0,t.h)("div",M({},N),(0,t.h)(s.x,M({},S),(0,t.h)("div",{className:P.tooltip},(0,t.h)(f.gq,{alignItems:"center",gap:8,className:P.tooltipContent},R&&(0,t.h)(t.Fragment,null,(0,t.cloneElement)(R,{size:20})," "),U,K))))}function I({children:S}){return(0,t.h)(g.xv,{as:"div",className:P.shortcutKeys,size:12,font:"text",weight:"medium",transform:"uppercase"},S)}function L({children:S}){return(0,t.h)(f.hs,{className:P.shortcutKey,alignItems:"center",justifyContent:"center"},(0,t.h)(g.xv.Meta,null,S))}},13833:(H,E,e)=>{"use strict";e.d(E,{xv:()=>O,Hj:()=>v,Av:()=>I,gx:()=>T});var t=e(6400),f=e(94184),s=e.n(f),g=e(19696);const P={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(L,S,N)=>S in L?y(L,S,{enumerable:!0,configurable:!0,writable:!0,value:N}):L[S]=N,M=(L,S)=>{for(var N in S||(S={}))d.call(S,N)&&D(L,N,S[N]);if(p)for(var N of p(S))w.call(S,N)&&D(L,N,S[N]);return L},c=(L,S)=>C(L,u(S)),l=(L,S)=>{var N={};for(var R in L)d.call(L,R)&&S.indexOf(R)<0&&(N[R]=L[R]);if(L!=null&&p)for(var R of p(L))S.indexOf(R)<0&&w.call(L,R)&&(N[R]=L[R]);return N};const i=(0,g.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),v=(0,g.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function O(L){var S=L,{className:N,color:R,as:U="span"}=S,W=l(S,["className","color","as"]);return(0,t.h)(U,c(M({},W),{className:s()(N,R&&P[`color-${R}`])}))}const T="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",I=(0,g.L)(T,O)},64927:(H,E,e)=>{"use strict";e.d(E,{X2:()=>s.X2,oB:()=>f.oB,sg:()=>s.sg,xv:()=>g.xv,zx:()=>t.zx});var t=e(84040),f=e(4508),s=e(51126),g=e(43887)},92271:(H,E,e)=>{"use strict";e.d(E,{z:()=>M});var t=e(6400),f=e(94184),s=e.n(f),g=e(84040),P=e(13833),y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(O,T,I)=>T in O?y(O,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):O[T]=I,w=(O,T)=>{for(var I in T||(T={}))u.call(T,I)&&d(O,I,T[I]);if(C)for(var I of C(T))p.call(T,I)&&d(O,I,T[I]);return O},D=(O,T)=>{var I={};for(var L in O)u.call(O,L)&&T.indexOf(L)<0&&(I[L]=O[L]);if(O!=null&&C)for(var L of C(O))T.indexOf(L)<0&&p.call(O,L)&&(I[L]=O[L]);return I};function M(O){var T=O,{className:I,variant:L,look:S="button",fill:N="outline",fixedHeight:R=!0,size:U="medium",leftIcon:W,rightIcon:K,noPadding:G=!1,forwardedRef:re,children:$}=T,F=D(T,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,t.h)(g.kG,w({className:s()(I,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!v.includes(S)&&"tw-bg-transparent",l.includes(S)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${P.gx}`,i.includes(S)&&!G&&"tw-px-5",R||S=="round"?U==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",S==="button"&&"tw-rounded",S==="round"&&["tw-rounded-full tw-px-4",W&&"tw-pl-[10px]",K&&"tw-pr-[10px]"],S==="circle"&&["tw-justify-center tw-rounded-full",U==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],S==="text"&&`tw-inline ${c}`,S==="reset"&&`tw-inline-block ${c}`,S==="flex"&&`tw-flex ${c}`,L==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:L==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:L==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(S)?N==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:L==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:L==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(S)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:L==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:L==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(S)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:re},F),W,$,K)}const c="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",l=["button","borderless","circle","round"],i=["button","borderless"],v=["button","circle","round"]},53570:(H,E,e)=>{"use strict";e.d(E,{X:()=>i});var t=e(6400),f=e(94184),s=e.n(f),g=e(25380);const P={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(v,O,T)=>O in v?y(v,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):v[O]=T,M=(v,O)=>{for(var T in O||(O={}))d.call(O,T)&&D(v,T,O[T]);if(p)for(var T of p(O))w.call(O,T)&&D(v,T,O[T]);return v},c=(v,O)=>C(v,u(O)),l=(v,O)=>{var T={};for(var I in v)d.call(v,I)&&O.indexOf(I)<0&&(T[I]=v[I]);if(v!=null&&p)for(var I of p(v))O.indexOf(I)<0&&w.call(v,I)&&(T[I]=v[I]);return T};const i=v=>{var O=v,{name:T,size:I="medium",checked:L,disabled:S=!1,error:N=!1,onChange:R,as:U="label",withTheme:W=!1}=O,K=l(O,["name","size","checked","disabled","error","onChange","as","withTheme"]);const G=U;return(0,t.h)(G,{className:s()("pencraft",P.container,P[I],S?P.disabled:P.enabled,L?W?P.checkedWithTheme:P.checked:P.unchecked,N?P.error:"")},L&&(0,t.h)(g.Z,{size:I==="small"?16:24}),(0,t.h)("input",c(M({},K),{className:"pencraft",type:"checkbox",name:T,"data-testid":T,checked:L,disabled:S,onChange:re=>{var $,F;!S&&R(!L,c(M({},re.target),{name:(F=($=re.target)==null?void 0:$.name)!=null?F:""}))}})))}},72657:(H,E,e)=>{"use strict";e.d(E,{D:()=>s});var t=e(6400),f=e(13045);const s=({errors:g})=>g?(0,t.h)(t.Fragment,null,g.map(P=>(0,t.h)(f.xv.B4,{color:"error",key:P},P))):null},75328:(H,E,e)=>{"use strict";e.d(E,{g:()=>v});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=e(67963),y=e(17025);const C={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"},u=300,p=8,d=100;class w extends t.Component{constructor(T,I){super(T,I),this.cardRef=(0,t.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,t.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimell},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTime1)})}render({content:T,preferPositionLeft:I,className:L,children:S},{attachCard:N,isOpen:R}){var U,W,K;let G={},re=!1;if(N&&((U=this.wrapperRef)!=null&&U.current)){const{top:$,left:F}=this.wrapperRef.current.getBoundingClientRect(),{height:Z,width:q}=(K=(W=this.cardRef.current)==null?void 0:W.getBoundingClientRect())!=null?K:{};re=I&&F-q>0,re?G={top:$-p-Z,left:F-q-p,"max-width":u}:G={top:$-p-Z,"max-width":u,left:F}}return(0,t.h)("div",{className:g()(C.portalWrapper,L),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:$=>this.onClick($),ref:this.wrapperRef},typeof S=="function"?S({}):S,N&&(0,f.createPortal)((0,t.h)("div",{className:g()(C.contentWrapper,{[C.contentWrapperShown]:R,"animate-opacity":!(0,y.isSafari)(),"position-left":re}),ref:this.cardRef,style:G,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},T),document.body))}}w.defaultProps={delay:d},w.contextType=P.St;const D=w,M={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},c=({content:O})=>(0,t.h)(D,{content:O},(0,t.h)("div",{className:M.learnMoreChip},"?"));var l=e(13045),i=e(72657);const v=(0,f.forwardRef)(({action:O,children:T,className:I,errors:L,helpText:S,details:N,label:R,paddingBottom:U,paddingTop:W,wrapWithLabel:K,disabled:G,compact:re},$)=>{const F=re?2:8;return(0,t.h)(l.tu,{ref:$,alignItems:"stretch",className:I,gap:F,paddingBottom:U,paddingTop:W,disabled:G},(0,t.h)(l.tu,{alignItems:"stretch",gap:F,as:K?"label":"div"},R&&(0,t.h)(l.gq,{gap:F,alignItems:"center"},(0,t.h)(l.xv.B4,{weight:"semibold",as:K?"div":"label",color:"primary"},R),S&&(0,t.h)(c,{content:S}),O&&(0,t.h)(l.gq,{flex:"grow",justifyContent:"end"},O)),T&&(0,t.h)("div",{className:g()({"has-error":L})},T)),N&&!Array.isArray(N)&&(0,t.h)(l.xv.Detail,null,N),N&&Array.isArray(N)&&N.length>0&&(0,t.h)(l.tu,{gap:4},N.map(Z=>(0,t.h)(l.xv.Detail,null,Z))),(0,t.h)(i.D,{errors:L}))})},92958:(H,E,e)=>{"use strict";e.d(E,{Y:()=>l});var t=e(6400),f=e(94184),s=e.n(f);const g={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP","radio--accent":"frontend-pencraft-form-Radio-module__radio--accent--GPQc_"};var P=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,w=(i,v,O)=>v in i?P(i,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):i[v]=O,D=(i,v)=>{for(var O in v||(v={}))p.call(v,O)&&w(i,O,v[O]);if(u)for(var O of u(v))d.call(v,O)&&w(i,O,v[O]);return i},M=(i,v)=>y(i,C(v)),c=(i,v)=>{var O={};for(var T in i)p.call(i,T)&&v.indexOf(T)<0&&(O[T]=i[T]);if(i!=null&&u)for(var T of u(i))v.indexOf(T)<0&&d.call(i,T)&&(O[T]=i[T]);return O};const l=i=>{var v=i,{color:O}=v,T=c(v,["color"]);return(0,t.h)("div",{className:s()(g.container)},(0,t.h)("input",M(D({},T),{type:"radio"})),(0,t.h)("span",{className:s()(g.radio,{[g["radio--accent"]]:O==="accent"})}))}},2019:(H,E,e)=>{"use strict";e.d(E,{g:()=>M});var t=e(6400),f=e(30396),s=e(51126),g=e(43887),P=e(75328),y=e(92958),C=Object.defineProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,w=(c,l,i)=>l in c?C(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,D=(c,l)=>{for(var i in l||(l={}))p.call(l,i)&&w(c,i,l[i]);if(u)for(var i of u(l))d.call(l,i)&&w(c,i,l[i]);return c};const M=({horizontal:c,label:l,labelProps:i,name:v,options:O,paddingBottom:T,paddingTop:I,size:L="medium",value:S,variant:N,onChange:R,color:U})=>{const W=(0,f.I4)(G=>{R(G.target.value)},[R]);let K;return N==="boxed"?K=(0,t.h)(s.tu,{gap:8},O.map(({value:G,label:re,disabled:$,track:F,testid:Z})=>{const q=G===S;return(0,t.h)(s.gq,{alignItems:"center",as:"label",border:q?"accent-themed":"detail-themed",gap:8,padding:16,radius:6},(0,t.h)(y.Y,{checked:q,color:"accent","data-testid":Z,"data-track-input":F,disabled:$,name:v,value:G,onClick:W}),(0,t.h)(g.xv.B4,{as:"span",weight:q?"semibold":"normal"},re))})):K=(0,t.h)(s.gq,{gap:L==="medium"?8:16,direction:c?"row":"column"},O.map(({value:G,label:re,disabled:$,track:F,testid:Z})=>(0,t.h)(s.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,t.h)(y.Y,{color:U,checked:G===S,"data-testid":Z,"data-track-input":F,disabled:$,name:v,value:G,onClick:W}),L==="medium"?(0,t.h)(g.xv.B4,D({as:"span"},i),re):(0,t.h)(g.xv.B3,D({},i),re)))),(0,t.h)(P.g,{label:l,paddingBottom:T,paddingTop:I},K)}},34394:(H,E,e)=>{"use strict";e.d(E,{o:()=>i});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=e(51220),y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(v,O,T)=>O in v?y(v,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):v[O]=T,M=(v,O)=>{for(var T in O||(O={}))d.call(O,T)&&D(v,T,O[T]);if(p)for(var T of p(O))w.call(O,T)&&D(v,T,O[T]);return v},c=(v,O)=>C(v,u(O)),l=(v,O)=>{var T={};for(var I in v)d.call(v,I)&&O.indexOf(I)<0&&(T[I]=v[I]);if(v!=null&&p)for(var I of p(v))O.indexOf(I)<0&&w.call(v,I)&&(T[I]=v[I]);return T};const i=(0,f.forwardRef)((v,O)=>{var T=v,{className:I,error:L=!1,type:S="text",width:N,background:R,font:U}=T,W=l(T,["className","error","type","width","background","font"]);return(0,t.h)("input",c(M({},W),{className:g()(I,P.Z.input,{[P.Z.error]:L},U&&P.Z[`font-${U}`]),style:{width:N,background:R},type:S,ref:O}))})},27885:(H,E,e)=>{"use strict";e.d(E,{g:()=>i});var t=e(6400),f=e(98661),s=e(94184),g=e.n(s),P=e(51220),y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(v,O,T)=>O in v?y(v,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):v[O]=T,M=(v,O)=>{for(var T in O||(O={}))d.call(O,T)&&D(v,T,O[T]);if(p)for(var T of p(O))w.call(O,T)&&D(v,T,O[T]);return v},c=(v,O)=>C(v,u(O)),l=(v,O)=>{var T={};for(var I in v)d.call(v,I)&&O.indexOf(I)<0&&(T[I]=v[I]);if(v!=null&&p)for(var I of p(v))O.indexOf(I)<0&&w.call(v,I)&&(T[I]=v[I]);return T};const i=(0,f.forwardRef)((v,O)=>{var T=v,{className:I,error:L=!1,font:S}=T,N=l(T,["className","error","font"]);return(0,t.h)("textarea",c(M({ref:O,className:g()(I,P.Z.input,P.Z.textarea,{[P.Z.error]:L},S&&P.Z[`font-${S}`])},N),{type:"text"}))})},5668:(H,E,e)=>{"use strict";e.d(E,{U:()=>s});var t=e(6400);const f={hiddenInput:"frontend-pencraft-internal-HiddenInputWrapper-module__hiddenInput--wQ_AN"},s=({children:g})=>(0,t.h)("div",{className:f.hiddenInput},g)},89581:(H,E,e)=>{"use strict";e.d(E,{x:()=>c});var t=e(30396),f=e(62372);let s=0;function g(l="",i=[]){return(0,t.Ye)(()=>(s++,s=s>Number.MAX_SAFE_INTEGER?1:s,`${l}${s}`),i)}var P=Object.defineProperty,y=Object.defineProperties,C=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,w=(l,i,v)=>i in l?P(l,i,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[i]=v,D=(l,i)=>{for(var v in i||(i={}))p.call(i,v)&&w(l,v,i[v]);if(u)for(var v of u(i))d.call(i,v)&&w(l,v,i[v]);return l},M=(l,i)=>y(l,C(i));const c=({layerOptions:l,hideOnScroll:i,onClose:v}={})=>{const[O,T]=(0,t.eJ)(!1),{triggerProps:I,layerProps:L,renderLayer:S}=(0,f.sJ)(D({isOpen:O,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideCl1)}},l)),N=g("trigger"),R=g("dialog");return(0,t.d4)(()=>{if(i){const U=()=>{requestAnimationFrame(()=>{open&&i&&T(!1)})};return window.addEventListener("scroll",U,!0),()=>{window.removeEventListener("scroll",U,!0)}}},[i]),{triggerProps:M(D({},I),{id:N,"aria-expanded":O,"aria-haspopup":"dialog","aria-controls":R}),layerProps:M(D({},L),{id:R,role:"dialog",tabIndex:0,"aria-labeledby":N}),renderLayer:S,isOpen:O,setOpen:T}}},25666:(H,E,e)=>{"use strict";e.d(E,{l:()=>w,x:()=>D});var t=e(6400),f=e(30396),s=e(5285),g=e(62372),P=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(M,c,l)=>c in M?P(M,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):M[c]=l,d=(M,c)=>{for(var l in c||(c={}))C.call(c,l)&&p(M,l,c[l]);if(y)for(var l of y(c))u.call(c,l)&&p(M,l,c[l]);return M};function w({hoverOptions:M,layerOptions:c}={}){const[l,i]=(0,f.eJ)(!1),[v,O]=(0,g.XI)(d({delayEnter:1e3,delayLeave:500},M)),{triggerProps:T,layerProps:I,renderLayer:L}=(0,g.sJ)(d({isOpen:v,auto:!0,triggerOffset:8},c));return{layerProps:I,triggerProps:d(d({},T),O),transitionProps:{show:v,beforeEnter:()=>i(!0),afterLeave:()=>i(!1)},renderLayer:L,shouldShow:v||l}}function D(M){return(0,t.h)(s.u,d({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},M))}},16853:(H,E,e)=>{"use strict";e.d(E,{x:()=>P});var t=e(6400),f=e(44396),s=e(92630),g=e(25666);function P({text:y,icon:C,hotkeys:u}){const p=(0,f.XA)(),{layerProps:d,triggerProps:w,transitionProps:D,renderLayer:M,shouldShow:c}=(0,g.l)();return{triggerProps:p||!y?null:w,layer:c&&M((0,t.h)(s._,{transitionProps:D,tooltipProps:d,text:y,icon:C,hotkeys:u}))}}},30058:(H,E,e)=>{"use strict";e.d(E,{e:()=>g});var t=e(6400),f=e(94184),s=e.n(f);const g=({className:P,children:y,displayContents:C})=>(0,t.h)("div",{className:s()("tailwind-preflight",P),style:C?{display:"contents"}:{}},y)},96427:(H,E,e)=>{"use strict";e.d(E,{P:()=>I});var t=e(6400),f=e(94184),s=e.n(f),g=e(28488),P=e(99758),y=e(84040),C=e(51126),u=e(12876),p=e(43887);const d={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr",error:"frontend-pencraft-unstable-Select-module__error--TVttO"};var w=Object.defineProperty,D=Object.defineProperties,M=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(S,N,R)=>N in S?w(S,N,{enumerable:!0,configurable:!0,writable:!0,value:R}):S[N]=R,O=(S,N)=>{for(var R in N||(N={}))l.call(N,R)&&v(S,R,N[R]);if(c)for(var R of c(N))i.call(N,R)&&v(S,R,N[R]);return S},T=(S,N)=>D(S,M(N));const I=({children:S,className:N,name:R,value:U,onChange:W,disabled:K=!1,placeholder:G="",error:re=!1})=>{var $;const F=S.find(Z=>Z.props.value===U);return F||console.error("Select: value not found in children. value:",U,"options:",S.map(Z=>Z.props.value)),(0,t.h)(C.gq,{className:s()(d.select,N,{[d.error]:re}),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,t.h)(p.xv,{className:s()(d.selectedOption,{[d.disabled]:K}),font:"text",size:14,color:re?"error":K||!U?"secondary":"primary"},($=F==null?void 0:F.props.children)!=null?$:G),(0,t.h)(P.Z,null),(0,t.h)("select",{name:R,value:U,onChange:Z=>{var q;W(Z.target.value,T(O({},Z.target),{name:(q=Z.target.name)!=null?q:""}))},disabled:K},S))};function L({value:S,options:N,onChange:R,fill:U,disabled:W,className:K,buttonClassName:G,priority:re,placeholder:$}){var F,Z,q;const{iString:V}=useI18N();return h(Menu,{className:K,trigger:h(Button,{priority:re!=null?re:"secondary",fill:U,disabled:W,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select",className:G},(q=(Z=(F=N.find(j=>j.value===S))==null?void 0:F.label)!=null?Z:$)!=null?q:V("Select"))},N.map(j=>h(MenuItem,{onClick:()=>R(j.value)},j.label)))}},95297:(H,E,e)=>{"use strict";e.r(E),e.d(E,{UserBadge:()=>K});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(62372),y=e(51736),C=e(47052),u=e(3258),p=e(51126),d=e(43887),w=e(92630);const D={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var M=Object.defineProperty,c=Object.defineProperties,l=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,T=(G,re,$)=>re in G?M(G,re,{enumerable:!0,configurable:!0,writable:!0,value:$}):G[re]=$,I=(G,re)=>{for(var $ in re||(re={}))v.call(re,$)&&T(G,$,re[$]);if(i)for(var $ of i(re))O.call(re,$)&&T(G,$,re[$]);return G},L=(G,re)=>c(G,l(re));const S=100,N={sm:16,md:20,lg:24},R={100:C.Z,1e3:y.Z,1e4:y.Z},U={1e4:{fill:"var(--color-accent-purple)"}},W={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},K=({className:G,isStatic:re=!1,inline:$=!1,size:F="lg",tier:Z,tooltipOnHover:q=!1,userId:V})=>{const[j,Y]=(0,P.XI)({delayEnter:S,delayLeave:S,hideOnScroll:!0}),ie=j&&!q,{triggerProps:ce,layerProps:de,renderLayer:z}=(0,P.sJ)({isOpen:ie,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),Q=de.style;(0,f.d4)(()=>{j&&(0,u.track)(u.EVENTS.BESTSELLER_INFO_SHOWN,{tier:Z,form:q?"tooltip":"popover",hovered_user_id:V})},[j,Z,q,V]);const ae=N[F];if(!Z)return null;const te=R[Z.toString()],oe=U[Z.toString()],ue=g()(G,$?D.inlineContainer:D.container);return re&&Z?(0,t.h)("div",{className:ue},(0,t.h)(te,L(I({},oe),{height:ae}))):(0,t.h)("div",L(I(I({},Y),ce),{className:ue}),(0,t.h)(w.u,{text:`${W[Z.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!q},(0,t.h)(te,L(I({},oe),{height:ae}))),ie&&z((0,t.h)("div",L(I(I({},de),Y),{style:Q,className:D.popover}),(0,t.h)(p.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,t.h)(te,L(I({},oe),{height:40})),(0,t.h)(p.tu,{alignItems:"center",gap:4},(0,t.h)(d.xv.H3,null,"Bestseller"),(0,t.h)(d.xv.B4,{align:"center"},W[Z.toString()]," of paid subscribers"))))))}},31845:(H,E,e)=>{"use strict";e.d(E,{o:()=>i});var t=e(6400),f=e(51736),s=e(47052),g=Object.defineProperty,P=Object.defineProperties,y=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(v,O,T)=>O in v?g(v,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):v[O]=T,w=(v,O)=>{for(var T in O||(O={}))u.call(O,T)&&d(v,T,O[T]);if(C)for(var T of C(O))p.call(O,T)&&d(v,T,O[T]);return v},D=(v,O)=>P(v,y(O));const M={sm:16,md:20,lg:24},c={100:s.Z,1e3:f.Z,1e4:f.Z},l={1e4:{fill:"var(--color-accent-purple)"}},i=({tier:v,size:O="sm"})=>{if(!v)return null;const T=c[v.toString()],I=l[v.toString()],L=M[O];return(0,t.h)(T,D(w({},I),{height:L}))}},18302:(H,E,e)=>{"use strict";e.d(E,{TB:()=>j,mj:()=>q,wO:()=>V});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(71212),y=e(80569),C=e.n(y),u=e(42208),p=e(52743),d=e(7922),w=e(44454),D=e(22939),M=e(99758),c=e(32673),l=e(32823),i=e(46209),v=e(65726),O=e(28488),T=e(3258),I=e(29542),L=e(17025),S=e.n(L),N=e(21136),R=Object.defineProperty,U=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,G=(ee,le,se)=>le in ee?R(ee,le,{enumerable:!0,configurable:!0,writable:!0,value:se}):ee[le]=se,re=(ee,le)=>{for(var se in le||(le={}))W.call(le,se)&&G(ee,se,le[se]);if(U)for(var se of U(le))K.call(le,se)&&G(ee,se,le[se]);return ee},$=(ee,le)=>{var se={};for(var fe in ee)W.call(ee,fe)&&le.indexOf(fe)<0&&(se[fe]=ee[fe]);if(ee!=null&&U)for(var fe of U(ee))le.indexOf(fe)<0&&K.call(ee,fe)&&(se[fe]=ee[fe]);return se},F=(ee,le,se)=>new Promise((fe,ve)=>{var ge=me=>{try{ne(se.next(me))}catch(Le){ve(Le)}},be=me=>{try{ne(se.throw(me))}catch(Le){ve(Le)}},ne=me=>me.done?fe(me.value):Promise.resolve(me.value).then(ge,be);ne((se=se.apply(ee,le)).next())});const Z=e(39776),q="hide_media_download_option",V=({feedUrl:ee,post:le,pub:se,sectionId:fe,hasAccessToPrivatePodcastFeed:ve,fileSrc:ge,icon:be})=>{const[ne,me]=(0,f.eJ)(!1),[Le,Re]=(0,D.E)(),{iString:Me}=(0,O.M1)();return(0,t.h)("div",{className:"tw-relative"},(0,t.h)("div",{className:g()("tw-font-sans audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",ne?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:Re},be,(0,t.h)("span",{className:"sm:tw-hidden"},Me("Open in player")),(0,t.h)("span",{className:"tw-hidden sm:tw-block"},Me("Listen on")),(0,t.h)(M.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,t.h)(Y,{feedUrl:ee,menuRef:Le,post:le,pub:se,sectionId:fe,onToggle:me,hasAccessToPrivatePodcastFeed:ve,fileSrc:ge}))},j=({feedUrl:ee,pub:le,post:se})=>{(0,T.track)(T.EVENTS.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:ee}),document.location.href=(0,p.getPostAppLinkUrl)(le==null?void 0:le.subdomain,se==null?void 0:se.slug,{redirect:"app-marketing",source:"podcast-dropdown"})},Y=({feedUrl:ee,menuRef:le,post:se,pub:fe,sectionId:ve,onToggle:ge,hasAccessToPrivatePodcastFeed:be,fileSrc:ne})=>{const me=(0,L.isMobileBrowser)(),Le=()=>{(0,T.track)(T.EVENTS.PODCAST_FEED_URL_COPIED),(0,L.copyToClipboard)(ee),alert("Copied")};return(0,t.h)(w.ZP,{ref:le,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:Re})=>{(0,T.track)(T.EVENTS.PODCAST_LISTEN_ON_CLICKED),ge(Re)}},me?(0,t.h)(z,{feedUrl:ee,pub:fe,onCopyFeed:Le,onClickSubstackApp:()=>j({feedUrl:ee,pub:fe,post:se}),hasAccessToPrivatePodcastFeed:be,fileSrc:ne}):(0,t.h)(Q,{feedUrl:ee,pub:fe,sectionId:ve,onCopyFeed:Le,onClickSubstacke}),hasAccessToPrivatePodcastFeed:be,fileSrc:ne}))},ie=({fileSrc:ee})=>Z.getConfigFor(q)?null:(0,t.h)(ae,{onClick:()=>{(0,L.downloadSrc)((0,p.updateQuery)(ee,{download:!0}))}},(0,t.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,t.h)(P.Z,null)),(0,t.h)("span",null,"Download MP3")),ce=()=>{const ee=["Podcast Addict"],le=["Apple Podcasts"];return I.$.filter(se=>(0,L.isIOs)()?le.includes(se.name):ee.includes(se.name))},de=()=>{const ee=["Apple Podcasts"],le=[];return I.$.filter(se=>(0,L.isMac)()?ee.includes(se.name):le.includes(se.name))},z=({feedUrl:ee,pub:le,onCopyFeed:se,onClickSubstackApp:fe,hasAccessToPrivatePodcastFeed:ve,fileSrc:ge})=>{var be;const{iString:ne}=(0,O.M1)();return(0,t.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,t.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},ne("Listen in app")),(0,t.h)(ae,{onClick:fe},(0,t.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,t.h)(i.Z,null)),(0,t.h)("span",null,ne("Substack App"))),ee&&ce().map(({name:me,icon:Le,onClick:Re})=>(0,t.h)(ae,{key:me,onClick:()=>{(0,T.track)(T.EVENTS.PODCAST_APP_LINK_CLICK,{appName:me,feedUrl:ee}),Re(ee)}},(0,t.h)("img",{src:Le,alt:`${me} logo`,className:"tw-w-6"}),(0,t.h)("span",{className:"tw-whitespace-nowrap"},me))),ge&&(0,t.h)(ie,{fileSrc:ge}),ee?(0,t.h)("div",{className:"tw-px-2 tw-pt-2"},(0,t.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},ne("Private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},ne("Listen to paid episodes on your favorite podcast app with your private RSS feed.")," ",(0,t.h)(oe,null)),(0,t.h)("div",null,(0,t.h)(te,{className:"tw-w-full",onClick:se},(0,t.h)(c.Z,{className:"tw-stroke-pub-secondary-text"}),(0,t.h)("span",null,ne("Copy link"))))):ve?(0,t.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},ne("Private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},ne("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,t.h)("div",null,(0,t.h)(ue,{pub:le}))):(0,t.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(be=le.podcast_title)!=null?be:"this podcast"),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},ne("Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app.")," ",(0,t.h)(oe,null)),(0,t.h)(N.Z,{className:"tw-w-full",pub:le,utmSource:"podcast_post_listen_on"})))},Q=({feedUrl:ee,pub:le,sectionId:se,onCopyFeed:fe,onClickSubstackApp:ve,hasAccessToPrivatePodcastFeed:ge,fileSrc:be})=>{const[ne,me]=(0,f.eJ)(!1),[Le,Re]=(0,f.eJ)(null),{iString:Me,iTemplate:Ee}=(0,O.M1)(),we=()=>F(void 0,null,function*(){try{(0,T.track)(T.EVENTS.PODCAST_EMAIL_LINK_CLICKED),yield C().post("/api/v1/subscription/send_podcast_email").send({section_id:se}),alert(Me("Email sent")),me(!0)}catch(Te){console.error("Failed to send podcast setup email:",Te),Re(Te)}});return(0,t.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,t.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,t.h)(ae,{onClick:ve},(0,t.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,t.h)(i.Z,null)),(0,t.h)("span",null,"Substack App")),ee&&de().map(({name:Te,icon:De,onClick:Be})=>(0,t.h)(ae,{key:Te,onClick:()=>{(0,T.track)(T.EVENTS.PODCAST_APP_LINK_CLICK,{appName:Te,feedUrl:ee}),Be(ee)}},(0,t.h)("img",{src:De,alt:`${Te} logo`,className:"tw-w-6"}),(0,t.h)("span",{className:"tw-whitespace-nowrap"},Te))),be&&(0,t.h)(ie,{fileSrc:be})),(0,t.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},ee?(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},Me("Your private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},Me("Copy your RSS link and paste it in your podcast app.")," ",(0,t.h)(oe,null)),(0,t.h)("div",{className:"tw-flex tw-gap-2"},(0,t.h)(te,{onClick:fe},(0,t.h)(c.Z,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,t.h)("span",null,Me("Copy link"))),(0,t.h)(te,{onClick:we,disabled:ne},(0,t.h)(l.Z,{className:"tw-stroke-pub-secondary-text"}),(0,t.h)("span",null,Me("Email link")))),Le&&(0,t.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,L.getNetworkErrorMessage)(Le))):ge?(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},Me("Your private RSS feed")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},Me("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,t.h)("div",null,(0,t.h)(ue,{pub:le}))):(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"tw-mb-2 tw-font-bold"},Me("Get a private RSS link for listening")),(0,t.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},le.podcast_title?Ee`Subscribe to ${le.podcast_title} to get a private link for listening in your favorite podcast player.`:Me("Subscribe to this podcast to get a private link for listening in your favorite podcast player.")," ",(0,t.h)(oe,null)),(0,t.h)(N.Z,{pub:le,utmSource:"podcast_post_listen_on"}))))},ae=ee=>{var le=ee,{children:se,href:fe}=le,ve=$(le,["children","href"]);const ge="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return fe?(0,t.h)("a",re({className:g()("tw-no-underline",ge),href:fe},ve),se):(0,t.h)("div",re({className:g()("tw-cursor-pointer",ge),role:"button"},ve),se)},te=({children:ee,className:le="",disabled:se=!1,onClick:fe})=>(0,t.h)(d.Z,{className:g()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",le),onClick:fe,disabled:se},ee),oe=()=>{const{iString:ee}=(0,O.M1)();return(0,t.h)("a",{href:u.ty,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},ee("Learn about RSS."))},ue=({pub:ee})=>{const{iString:le}=(0,O.M1)();return(0,t.h)(te,{className:"tw-w-full",onClick:()=>{}},(0,t.h)(v.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,p.getPodcatcherSetupUrl)(ee),onClick:()=>{}},le("Set up feed")))}},21136:(H,E,e)=>{"use strict";e.d(E,{Z:()=>u});var t=e(6400),f=e(94184),s=e.n(f),g=e(20501),P=e(83322),y=e(7922);const u=({className:p,pub:d,utmSource:w})=>{const D=typeof window!="undefined"?window.location.href:"",M=(0,g.getSubscribeUrl)(d,{params:{utm_source:w,simple:!0,next:D}});return(0,t.h)(y.Z,{className:s()("primary tw-text-sm tw-font-semibold",p),href:M},(0,P.getSubscribeText)(d))}},592:(H,E,e)=>{"use strict";var t=e(6400),f=e(98661),s=e(30396),g=e(67963),P=e(3258),y=e(59009),C=e(91004),u=e(86575),p=e(4190),d=e(8479),w=e(13045),D=e(62246),M=e(99574),c=(I,L,S)=>new Promise((N,R)=>{var U=G=>{try{K(S.next(G))}catch(re){R(re)}},W=G=>{try{K(S.throw(G))}catch(re){R(re)}},K=G=>G.done?N(G.value):Promise.resolve(G.value).then(U,W);K((S=S.apply(I,L)).next())});const l=({isOpen:I,onClose:L,pub:S,post:N,hideEmail:R,hideAssetTitle:U,smallAssetPadding:W,mediaCarousel:K,source:G})=>((0,s.d4)(()=>{I&&(0,P.track)(P.EVENTS.INSTAGRAM_SHARE_MODAL_SEEN,{source:G||(R?"post":"share center")})},[I,R,G]),(0,t.h)(D.u_,{isOpen:I,onClose:L,fullscreenMobile:!0},(0,t.h)(D.xB,{title:"Share to Instagram",onClose:L,includeClose:!0}),(0,t.h)(i,{pub:S,post:N,hideEmail:R,hideAssetTitle:U,smallAssetPadding:W,mediaCarousel:K,source:G}))),i=({pub:I,post:L,hideEmail:S,hideAssetTitle:N,smallAssetPadding:R,mediaCarousel:U,source:W})=>{const K=(0,g.aF)(),G=({step:$,title:F,subtitle:Z,children:q})=>(0,t.h)(w.gq,{gap:16},(0,t.h)(w.xv.H4,null,$),(0,t.h)(w.tu,{style:{width:"90%"},gap:12},(0,t.h)(w.tu,{gap:4},(0,t.h)(w.xv.H4,null,F),(0,t.h)(w.xv.B4,{color:"secondary"},Z)),q)),re=()=>{const[$,F]=(0,s.eJ)(!1);return(0,t.h)(w.tu,{bg:"secondary",radius:12,border:"detail"},(0,t.h)(w.tu,{gap:24,padding:R?8:20},(0,t.h)(w.gq,{gap:12,alignItems:"center"},!N&&(0,t.h)(w.xv.B4,{weight:"bold"},"Shareable images"),!S&&(0,t.h)(w.zx,{size:"small",disabled:$,priority:"secondary",style:{marginLeft:"auto",marginRight:0},onClick:()=>c(void 0,null,function*(){(0,P.track)(P.EVENTS.SHARE_CENTER_MEDIA_ASSETS_EMAILED,{post_id:L.id}),F(!0);try{(yield(0,d.rd)(`/api/v1/press_kit/${L.id}/email`)).success&&(0,u.ZP)("Emails sent successfully.")}catch(Z){(0,P.track)(P.EVENTS.SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED,{post_id:L.id}),(0,u.ZP)("Error sending emails. Please try again.")}finally{F(!1)}})},"Email me assets")),U))};return(0,t.h)(D.fe,null,(0,t.h)(w.tu,{gap:24},(0,t.h)(G,{step:1,title:"Download an image",subtitle:"Substack automatically creates assets from any post to share on Instagram."},(0,t.h)(re,null)),(0,t.h)(G,{step:2,title:"Copy a link to the post",subtitle:"Add a link to your Instagram story or bio."},(0,t.h)(w.zx,{priority:"secondary",onClick:()=>{(0,C.Ui)({shareUrl:(0,C.O1)(null,{pub:I,post:L,user:K}),pub:I,post:L,utm_campaign:W||(S?y.UTM_CAMPAIGN.postInstagramShareModal:y.UTM_CAMPAIGN.postShareCenter)})}},"Copy Link")),(0,t.h)(G,{step:3,title:"Share on Instagram",subtitle:"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"})))},v=(0,f.memo)(l,(I,L)=>I.post.id===L.post.id&&I.isOpen===L.isOpen),O=({isOpen:I,onClose:L,pub:S,post:N,themeVariables:R,hideEmail:U})=>{const{getExperimentVariant:W,exposeExperiment:K}=(0,p.jc)(),G=W("share_center_default_hide_preview_text")==="treatment";(0,s.d4)(()=>{I&&K("share_center_default_hide_preview_text")},[I,K]);const re=(0,M.E)(S,N,R,!0,{source:U?"instagram-modal-reader-share":"instagram-modal-share-center",hidePreviewText:G});return(0,t.h)(v,{isOpen:I,pub:S,post:N,onClose:L,mediaCarousel:(0,t.h)(M.H,{inline:!0},re),hideEmail:U})},T=(0,f.memopen)},99574:(H,E,e)=>{"use strict";e.d(E,{H:()=>U,E:()=>K});var t=e(6400),f=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(56743),C=e(2564),u=e(71278),p=e(28488),d=e(13045),w=e(8111),D=e(83322),M=e(76193),c=e(53150);const l={mediaCarousel:"frontend-publish-share_center-MediaAssetCarousel-module__mediaCarousel--yatYn",pressKitImageContainer:"frontend-publish-share_center-MediaAssetCarousel-module__pressKitImageContainer--qcOIf",scrollContainer:"frontend-publish-share_center-MediaAssetCarousel-module__scrollContainer--YjAQV",carouselParent:"frontend-publish-share_center-MediaAssetCarousel-module__carouselParent--mJlqW",carouselArrow:"frontend-publish-share_center-MediaAssetCarousel-module__carouselArrow--NOyGP",bg:"frontend-publish-share_center-MediaAssetCarousel-module__bg--lN6p2",fade:"frontend-publish-share_center-MediaAssetCarousel-module__fade--LwBBa",visible:"frontend-publish-share_center-MediaAssetCarousel-module__visible--nkiL7",left:"frontend-publish-share_center-MediaAssetCarousel-module__left--Gpyzo",bgSecondary:"frontend-publish-share_center-MediaAssetCarousel-module__bgSecondary--YZnYt",right:"frontend-publish-share_center-MediaAssetCarousel-module__right--VIM7J",containerArrows:"frontend-publish-share_center-MediaAssetCarousel-module__containerArrows--fQe5X"};var i=Object.defineProperty,v=Object.defineProperties,O=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=($,F,Z)=>F in $?i($,F,{enumerable:!0,configurable:!0,writable:!0,value:Z}):$[F]=Z,N=($,F)=>{for(var Z in F||(F={}))I.call(F,Z)&&S($,Z,F[Z]);if(T)for(var Z of T(F))L.call(F,Z)&&S($,Z,F[Z]);return $},R=($,F)=>v($,O(F));const U=({inline:$,children:F})=>{const Z=(0,D.isTouchDevice)(),q=(0,s.sO)(null),{state:V,handleArrowClick:j}=re(q),Y=$?"secondary":void 0;return(0,t.h)(d.hs,{className:l.scrollContainer,bg:Y,alignItems:"center",flex:"grow",paddingX:{desktop:32,mobile:0}},(0,t.h)(d.gq,{className:l.carouselParent,bg:Y},!Z&&V.showLeft&&(0,t.h)(d.hs,{bg:$?void 0:"secondary",className:P()(l.fade,l.visible,l.left,l.containerArrows)},(0,t.h)("div",{className:Y==="secondary"?l.bgSecondary:l.bg}),(0,t.h)(d.hU,{className:l.carouselArrow,rounded:!0,size:36,onClick:j(-1),fill:$?"filled":"empty"},(0,t.h)(y.Z,null))),(0,t.h)(d.hs,{ref:q,bg:Y,gap:$?8:16,justifyContent:"space-between",className:l.mediaCarousel,paddingY:4,paddingX:{mobile:32,desktop:4}},F),!Z&&V.showRight&&(0,t.h)(d.hs,{bg:$?void 0:"secondary",className:P()(l.fade,l.visible,l.right,l.containerArrows)},(0,t.h)("div",{className:Y==="secondary"?l.bgSecondary:l.bg}),(0,t.h)(d.hU,{className:l.carouselArrow,rounded:!0,size:36,onClick:j(1),fill:$?"filled":"empty"},(0,t.h)(C.Z,null)))))},W=(0,f.memo)(({pub:$,post:F,bgColor:Z,textColor:q,bgImage:V,hidePreviewText:j=!1,aspectRatio:Y,text:ie,inline:ce,withButtons:de,onShareFromApp:z,source:Q})=>{const{language:ae}=(0,p.M1)(),te={square:"1:1",stories:"9:16",instagram:"4:5"};return(0,t.h)(d.tu,{gap:ce?4:0,className:l.pressKitImageContainer},(0,t.h)(u.ZP,{pub:$,post:F,style:{bgColor:Z,textColor:q,aspectRatio:Y,bgImage:V,hidePreviewText:j},text:ie,inline:ce,sharePage:!0,withButtons:de,onShareFromApp:z,source:Q,fullHeight:!1}),(0,t.h)(d.xv.Meta,null,(0,c.V)(Y,ae).toUpperCase()," ",te[Y]))}),K=($,F,Z,q=!1,{withButtons:V,onShareFromApp:j,source:Y,hidePreviewText:ie}={})=>(0,s.Ye)(()=>Z?G($,F,Z).map((de,z)=>(0,t.h)(W,{key:z,pub:$,post:F,bgColor:de.bgColor,textColor:de.textColor,aspectRatio:de.aspectRatio,bgImage:de.bgImage,hidePreviewText:ie,text:de.text,inline:q,withButtons:V,onShareFromApp:j,source:Y})):[],[$,F,Z,q,Y]),G=($,F,Z)=>{const q=Z.web_bg_color||Z.cover_bg_color,V=[],j=[],{iString:Y}=w.I18N.i();(F.cover_image||$.cover_photo_url)&&j.push({bgImage:!0,textColor:"#ffffff",text:Y("Image")}),q.toLowerCase()!=="#ffffff"&&j.push({bgColor:"#ffffff",textColor:"#404040",text:Y("Black and White")}),j.push({bgColor:q,textColor:Z.print_on_web_bg_color||Z.cover_print_primary||"#1a1a1a",bgImage:!1,text:Y("Background Color")}),Z.background_pop&&j.push({bgColor:Z.background_pop,textColor:Z.print_on_pop,text:Y("Accent Color")});const ie=["stories","square"];if(j.length===1)for(const ce of ie)V.push(R(N({},j[0]),{aspectRatio:ce}));else{const ce=j.length;for(let de=0;de<ce;de++)V.push(R(N({},j[de]),{aspectRatio:ie[de%2]}));for(let de=0;de<ce;de++)V.push(R(N({},j[de]),{aspectRatio:ie[(de+1)%2]}))}return V},re=($,{initialState:F}={})=>{const[Z,q]=(0,s.eJ)(F||{showLeft:!1,showRight:!0});return(0,s.d4)(()=>{const{current:j}=$;if(j){const Y=()=>{q(ie=>{let ce=ie;!ce.showLeft&&j.scrollLeft>0?ce=R(N({},ie),{showLeft:!0}):ce.showLeft&&j.scrollLeft<=0&&(ce=R(N({},ie),{showLeft:!1}));const de=j.scrollWidth-j.offsetWidth-4;return!ce.showRight&&j.scrollLeft<de?ce=R(N({},ie),{showRight:!0}):ce.showRight&&j.scrollLeft>=de&&(ce=R(N({},ie),{showRight:!1})),ce})};return j.addEventListener("scroll",Y),setTimeout(()=>{Y()},1e3),()=>{j.removeEventListener("scroll",Y)}}},[$]),{state:Z,handleArrowClick:j=>()=>{const{current:Y}=$;Y&&Y.scrollBy({left:j*Math.min((0,M.isMobile)()?Y.offsetWidth-70:Y.offsetWidth-150,Y.scrollWidth-Y.offsetWidth),behavior:"smooth"})}}}},9686:(H,E,e)=>{"use strict";e.d(E,{I:()=>c});var t=e(6400),f=e(30396),s=e(99105),g=e(46209);function P(){const L=(0,f.sO)();return(0,f.()},[]),L}var y=e(63503),C=e(8479),u=e(17025),p=e(5131),d=e(19696),w=e(34518),D=e(33510),M=(L,S,N)=>new Promise((R,U)=>{var W=re=>{try{G(N.next(re))}catch($){U($)}},K=re=>{try{G(N.throw(re))}catch($){U($)}},G=re=>re.done?R(re.value):Promise.resolve(re.value).then(W,K);G((N=N.apply(L,S)).next())});function c({onCancel:L,onSuccess:S,onSignup:N,noCloseButton:R,noExit:U}){const[W,K]=(0,f.eJ)("email"),[G,re]=(0,f.eJ)(""),$=()=>{K("mfa")};return(0,t.h)(w.Yy,{className:"",isPopup:!0,onClose:L,noCloseButton:R,noExit:U},(0,t.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,t.h)(g.Z,{className:"reader-nav-logo modal-header-icon"}),(0,t.h)(D.y,null,"Sign in to Substack"),W==="email"?(0,t.h)(i,{onUsePassword:F=>{re(F),K("password")},onSuccess:F=>{re(F),K("poll")}}):W==="poll"?(0,t.h)(v,{email:G,onSuccess:S,onChangeMode:K}):W==="mfa"?(0,t.h)(O,{onSuccess:S}):(0,t.h)(l,{email:G,onMfa:$,onSuccess:S})),N&&(0,t.h)(D.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,t.h)("span",null,"First time here?"," ",(0,t.h)(p.zx,{variant:"primary",look:"text",onClick:N},"Create an account"))))}function l({email:L,onSuccess:S,onMfa:N}){const R=(0,C.ib)({pathname:"/api/v1/login",method:"post"}),U=(0,f.sO)(),W=G=>M(this,null,function*(){if(G.preventDefault(),R.isLoading)return;const re=I(G.currentTarget);U.current&&(re.captcha_response=U.current.getResponse());const $=yield R.refetch({json:re});$ instanceof Error||($.mfa_required?N():S())}),K=P();return(0,t.h)(t.Fragment,null,R.error instanceof C.kp&&R.error.response.status===401&&(0,t.h)(s.Z,{ref:U}),(0,t.h)(T,{onSubmit:W,disabled:R.isLoading},(0,t.h)(D.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:L}),(0,t.h)(D.II,{type:"password",name:"password",placeholder:"Your password",ref:K}),R.error&&(0,t.h)(D.Xq,null,(0,u.getNetworkErrorMessage)(R.error)),(0,t.h)(p.zx,{type:"submit",variant:"primary"},R.isLoading?"Signing in...":"Sign in")))}function i({onUsePassword:L,onSuccess:S}){const N=(0,C.ib)({pathname:"/api/v1/email-login",method:"POST"}),R=W=>{if(W.preventDefault(),N.isLoading)return;const K=W.currentTarget.email.value;N.refetch({json:{email:K,redirect:location.pathname}}).then(G=>{G instanceof C.kp||S(K)})},U=P();return(0,t.h)(T,{onSubmit:R,disabled:N.isLoading},(0,t.h)(D.II,{type:"email",name:"email",placeholder:"Your email",ref:U}),(0,t.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,t.h)(p.zx,{type:"submit",variant:"primary"},N.isLoading?"Signing in...":"Sign in with email"),(0,t.h)(p.zx,{variant:"secondary",look:"borderless",onCle)}},"or sign in with password")))}function v({email:L,onSuccess:S,onChangeMode:N}){return(0,y.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(R=>M(this,null,function*(){(yield R.json()).loggedIn&&S()}))},5e3),(0,t.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,t.h)("b",null,"Check your email"),(0,t.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,t.h)("b",null,L)," ","with a link that you can use to sign in."),(0,t.h)("div",null,"You can also"," ",(0,t.h)(p.zx,{look:"text",onClick:()=>N("email")},(0,t.h)("b",null,"try again"))," ","or"," ",(0,t.h)(p.zx,{look:"text",onClick:()=>N("password")},(0,t.h)("b",null,"sign in using your password")),"."))}function O({onSuccess:L}){const S=(0,C.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),N=R=>{R.preventDefault(),!S.isLoading&&S.refetch({json:I(R.currentTarget)}).then(U=>{U instanceof C.kp||L()})};return(0,t.h)(T,{onSubmit:N,disabled:S.isLoading},(0,t.h)(D.II,{type:"password",name:"code",placeholder:"Your MFA code"}),S.error&&(0,t.h)(D.Xq,null,(0,u.getNetworkErrorMessage)(S.error)),(0,t.h)(p.zx,{type:"submit",variant:"primary"},S.isLoading?"Signing in...":"Sign in"))}const T=(0,d.L)("tw-flex tw-flex-col tw-gap-3","form");function I(L){return Object.fromEntries(Array.from(L.elements).filent).ue]))}},97868:(H,E,e)=>{"use strict";e.d(E,{qE:()=>ne,BG:()=>Le,YY:()=>Re});var t=e(6400),f=e(94184),s=e.n(f),g=e(83322),P=e(34755),y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(Me,Ee,we)=>Ee in Me?y(Me,Ee,{enumerable:!0,configurable:!0,writable:!0,value:we}):Me[Ee]=we,M=(Me,Ee)=>{for(var we in Ee||(Ee={}))d.call(Ee,we)&&D(Me,we,Ee[we]);if(p)for(var we of p(Ee))w.call(Ee,we)&&D(Me,we,Ee[we]);return Me},c=(Me,Ee)=>C(Me,u(Ee)),l=(Me,Ee)=>{var we={};for(var Te in Me)d.call(Me,Te)&&Ee.indexOf(Te)<0&&(we[Te]=Me[Te]);if(Me!=null&&p)for(var Te of p(Me))Ee.indexOf(Te)<0&&w.call(Me,Te)&&(we[Te]=Me[Te]);return we};function i(Me){var Ee=Me,{fill:we="#FF6719"}=Ee,Te=l(Ee,["fill"]);const De=(0,g.colorLuma)(we)>.6?"black":"white";return(0,t.h)(P.l,c(M({},Te),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:we,stroke:"none"}),(0,t.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:De,stroke:"none"}),(0,t.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:De,stroke:"none"}),(0,t.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:De,stroke:"none"}))}const v=i;var O=Object.defineProperty,T=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,S=(Me,Ee,we)=>Ee in Me?O(Me,Ee,{enumerable:!0,configurable:!0,writable:!0,value:we}):Me[Ee]=we,N=(Me,Ee)=>{for(var we in Ee||(Ee={}))I.call(Ee,we)&&S(Me,we,Ee[we]);if(T)for(var we of T(Ee))L.call(Ee,we)&&S(Me,we,Ee[we]);return Me},R=(Me,Ee)=>{var we={};for(var Te in Me)I.call(Me,Te)&&Ee.indexOf(Te)<0&&(we[Te]=Me[Te]);if(Me!=null&&T)for(var Te of T(Me))Ee.indexOf(Te)<0&&L.call(Me,Te)&&(we[Te]=Me[Te]);return we};function U(Me){var Ee=R(Me,[]);return(0,t.h)(P.l,N({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},Ee),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,t.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const W=U;var K=Object.defineProperty,G=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,F=(Me,Ee,we)=>Ee in Me?K(Me,Ee,{enumerable:!0,configurable:!0,writable:!0,value:we}):Me[Ee]=we,Z=(Me,Ee)=>{for(var we in Ee||(Ee={}))re.call(Ee,we)&&F(Me,we,Ee[we]);if(G)for(var we of G(Ee))$.call(Ee,we)&&F(Me,we,Ee[we]);return Me},q=(Me,Ee)=>{var we={};for(var Te in Me)re.call(Me,Te)&&Ee.indexOf(Te)<0&&(we[Te]=Me[Te]);if(Me!=null&&G)for(var Te of G(Me))Ee.indexOf(Te)<0&&$.call(Me,Te)&&(we[Te]=Me[Te]);return we};function V(Me){var Ee=q(Me,[]);return(0,t.h)(P.l,Z({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},Ee),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,t.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,t.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_24306_47333"},(0,t.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const j=V;var Y=e(13045),ie=e(52743),ce=e(51126),de=e(11688),z=e(33510),Q=e(9178);const ae={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var te=Object.defineProperty,oe=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,fe=(Me,Ee,we)=>Ee in Me?te(Me,Ee,{enumerable:!0,configurable:!0,writable:!0,value:we}):Me[Ee]=we,ve=(Me,Ee)=>{for(var we in Ee||(Ee={}))le.call(Ee,we)&&fe(Me,we,Ee[we]);if(ee)for(var we of ee(Ee))se.call(Ee,we)&&fe(Me,we,Ee[we]);return Me},ge=(Me,Ee)=>oe(Me,ue(Ee)),be=(Me,Ee)=>{var we={};for(var Te in Me)le.call(Me,Te)&&Ee.indexOf(Te)<0&&(we[Te]=Me[Te]);if(Me!=null&&ee)for(var Te of ee(Me))Ee.indexOf(Te)<0&&se.call(Me,Te)&&(we[Te]=Me[Te]);return we};function ne({user:Me,size:Ee,className:we}){const Te=(0,ie.getUserPhotoUrl)(Me);return(0,t.h)(z.t5,{className:s()(ae.avatar,we),src:Te,size:Ee})}function me({user:Me,size:Ee,className:we,badge:Te,badgeShape:De="square",showProfileHovercard:Be}){return(0,ie.getUserPhotoUrl)(Me)?(0,t.h)(ce.gq,{className:ae.avatarContainer},(0,t.h)(de.cr,{module:"@/frontend/components/ProfileHoverCard",resolve:tt=>tt.ProfileHoverCard,onRequ2)),whileLoading:(0,t.h)(ne,{user:Me,size:Ee,className:we}),subject:ve({id:0,name:""},Me),dontStopPropagation:!1,disabled:!Be},(0,t.h)(ne,{user:Me,size:Ee,className:we})),Te&&(0,t.h)("div",{className:s()(ae.badge,De&&ae[De])},Te)):null}function Le(Me){var Ee=Me,{pub:we}=Ee,Te=be(Ee,["pub"]);return(0,t.h)(me,ge(ve({},Te),{badge:we&&(0,t.h)(Q.F,{pub:we,size:16})}))}function Re(Me){var Ee=Me,{subscriptionType:we}=Ee,Te=be(Ee,["subscriptionType"]);let De=null,Be;return we==="author"?(De=(0,t.h)(v,{height:16,className:ae.subscriptionBadge}),Be="Author"):we==="founding"?(De=(0,t.h)(W,{height:16,className:ae.subscriptionBadge}),Be="Founding member"):we==="paid"&&(De=(0,t.h)(j,{height:16,className:ae.subscriptionBadge}),Be="Paid subscriber"),De=De&&Be?(0,t.h)(Y.u,{text:Be},De):null,(0,t.h)(me,ge(ve({},Te),{badge:De,badgeShape:"circle"}))}},5131:(H,E,e)=>{"use strict";e.d(E,{zx:()=>M});var t=e(6400),f=e(94184),s=e.n(f),g=e(7922),P=e(19696),y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(i,v,O)=>v in i?y(i,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):i[v]=O,w=(i,v)=>{for(var O in v||(v={}))u.call(v,O)&&d(i,O,v[O]);if(C)for(var O of C(v))p.call(v,O)&&d(i,O,v[O]);return i},D=(i,v)=>{var O={};for(var T in i)u.call(i,T)&&v.indexOf(T)<0&&(O[T]=i[T]);if(i!=null&&C)for(var T of C(i))v.indexOf(T)<0&&p.call(i,T)&&(O[T]=i[T]);return O};function M(i){var v=i,{className:O,variant:T,rounded:I,look:L="button",fixedHeight:S=!0,size:N="medium",hasLeftIcon:R,hasRightIcon:U,forwardedRef:W}=v,K=D(v,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,t.h)(g.k,w({className:s()("reader2-button",O,`reader2-button-${L}`,S&&"fixedHeight",T&&(["text","borderless"].includes(L)?`reader2-button-text-${T}`:`reader2-button-${T}`),(I||L==="circle")&&"reader2-button-rounded",`reader2-button-${N}`,R&&"hasLeftIcon",U&&"hasRightIcon"),ref:W},K))}function c(i){var v=i,{isActive:O=!1,isSmall:T=!1,icon:I,children:L}=v,S=D(v,["isActive","isSmall","icon","children"]);return h("button",w({className:classnames("reader2-button-reset reader2-tab",O&&"active",T&&"small",I?"hasIcon":null)},S),I,L)}const l=(0,P.L)("reader2-button-row")},657:(H,E,e)=>{"use strict";e.d(E,{b4:()=>S,De:()=>N,eK:()=>L});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(2564),y=e(56743),C=e(51126),u=e(5131);const p={scrollBox:"frontend-reader2-Carousel-module__scrollBox--HIlKF",fade:"frontend-reader2-Carousel-module__fade--EqSH7",visible:"frontend-reader2-Carousel-module__visible--iu6OA",bg:"frontend-reader2-Carousel-module__bg--PNWMY",left:"frontend-reader2-Carousel-module__left--TFwbc",right:"frontend-reader2-Carousel-module__right--tgs0W",arrow:"frontend-reader2-Carousel-module__arrow--U6JnW"};var d=e(28967),w=Object.defineProperty,D=Object.defineProperties,M=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(R,U,W)=>U in R?w(R,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):R[U]=W,O=(R,U)=>{for(var W in U||(U={}))l.call(U,W)&&v(R,W,U[W]);if(c)for(var W of c(U))i.call(U,W)&&v(R,W,U[W]);return R},T=(R,U)=>D(R,M(U)),I=(R,U)=>{var W={};for(var K in R)l.call(R,K)&&U.indexOf(K)<0&&(W[K]=R[K]);if(R!=null&&c)for(var K of c(R))U.indexOf(K)<0&&i.call(R,K)&&(W[K]=R[K]);return W};const L=(R,{inset:U=0,pageSizeAdjust:W=0,initialState:K}={})=>{const[G,re]=(0,f.eJ)(K||{showLeft:!1,showRight:!1});return(0,f.d4)(()=>{const{current:F}=R;if(F){const Z=()=>{re(q=>{let V=q;!V.showLeft&&F.scrollLeft>U?V=T(O({},q),{showLeft:!0}):V.showLeft&&F.scrollLeft<=U&&(V=T(O({},q),{showLeft:!1}));const j=F.scrollWidth-F.offsetWidth-4-U;return!V.showRight&&F.scrollLeft<j?V=T(O({},q),{showRight:!0}):V.showRight&&F.scrollLeft>=j&&(V=T(O({},q),{showRight:!1})),V})};return F.addEventListener("scroll",Z),setTimeout(()=>{Z()},1e3),()=>{F.removeEventListener("scroll",Z)}}},[]),{state:G,handleArrowClick:F=>()=>{const{current:Z}=R;Z&&Z.scrollBy({left:F*(Z.offsetWidth-W),behavior:"smooth"})}}};function S({direction:R,isVisible:U=!0,onClick:W}){return(0,t.h)("div",{className:g()(p.fade,U&&p.visible,p[R],d.Z.peopleYouMayKnowArrows)},(0,t.h)("div",{className:p.bg}),(0,t.h)(u.zx,{look:"reset",className:p.arrow,onClick:W},R==="right"?(0,t.h)(P.Z,null):(0,t.h)(y.Z,null)))}function N(R){var U=R,{className:W,scrollRef:K}=U,G=I(U,["className","scrollRef"]);return(0,t.h)(C.hs,T(O({},G),{className:g()(p.scrollBox,W),ref:K,overflowX:"auto",scrollBar:"hidden",minWidth:0,onTouchStart:re=>{const{pageX:$}=re;$!==void 0&&($>10&&$<window.innerWidth-10||re.preventDefault())}}))}},55886:(H,E,e)=>{"use strict";e.d(E,{t:()=>D});var t=e(6400),f=e(4508),s=e(20501),g=e(79786),P=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(c,l,i)=>l in c?P(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,d=(c,l)=>{for(var i in l||(l={}))C.call(l,i)&&p(c,i,l[i]);if(y)for(var i of y(l))u.call(l,i)&&p(c,i,l[i]);return c},w=(c,l)=>{var i={};for(var v in c)C.call(c,v)&&l.indexOf(v)<0&&(i[v]=c[v]);if(c!=null&&y)for(var v of y(c))l.indexOf(v)<0&&u.call(c,v)&&(i[v]=c[v]);return i};function D(c){var l=c,{className:i,src:v,noStyle:O=!1,loading:T,onError:I}=l,L=w(l,["className","src","noStyle","loading","onError"]);let S,N;return"size"in L?(S=L.size,N=L.size):(S=L.width,N=L.height),(0,t.h)(g.e,{src:v,maxWidth:S*2,className:i,imageProps:{height:N*2,crop:"fill",gravity:"auto"},style:O?void 0:{width:S,height:N},objectFit:"cover",loading:T,onError:I})}function M(c){var l=c,{className:i,src:v,noStyle:O=!1,loading:T,onError:I}=l,L=w(l,["className","src","noStyle","loading","onError"]);let S,N;return"size"in L?(S=L.size,N=L.size):(S=L.width,N=L.height),h(Box,d({as:"img",src:imginary(v)},L))}},15822:(H,E,e)=>{"use strict";e.d(E,{S:()=>M});var t=e(6400),f=e(94184),s=e.n(f),g=e(51126);const P={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(c,l,i)=>l in c?y(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,w=(c,l)=>{for(var i in l||(l={}))u.call(l,i)&&d(c,i,l[i]);if(C)for(var i of C(l))p.call(l,i)&&d(c,i,l[i]);return c},D=(c,l)=>{var i={};for(var v in c)u.call(c,v)&&l.indexOf(v)<0&&(i[v]=c[v]);if(c!=null&&C)for(var v of C(c))l.indexOf(v)<0&&p.call(c,v)&&(i[v]=c[v]);return i};function M(c){var l=c,{className:i}=l,v=D(l,["className"]);return(0,t.h)(g.hs,w({justifyContent:"center",alignItems:"center",className:s()(P.container,i)},v),(0,t.h)("div",{className:P.drunkSpinner}))}},54520:(H,E,e)=>{"use strict";e.d(E,{SV:()=>d});var t=e(6400),f=e(30396),s=e(20042),g=e(79786),P=e(8479),y=e(11533),C=e(51126),u=e(43887);function p(){const{result:D}=(0,P.ry),[],{auto:!0});return(0,f.M)})}function d({children:D}){const[M,c]=p(),l=(0,f.sO)((0,s.getCurrentUrl)());return(0,y.js)(i=>{M&&l.current!==i&&c(),l.current=i},[]),M?(0,t.h)(w,null):D}function w(){return(0,t.h)(C.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,t.h)(g.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,t.h)(C.tu,{gap:8},(0,t.h)(u.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,t.h)(u.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},11688:(H,E,e)=>{"use strict";e.d(E,{Oe:()=>l,cr:()=>c});var t=e(6400),f=e(8479),s=Object.defineProperty,g=Object.defineProperties,P=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(I,L,S)=>L in I?s(I,L,{enumerable:!0,configurable:!0,writable:!0,value:S}):I[L]=S,d=(I,L)=>{for(var S in L||(L={}))C.call(L,S)&&p(I,S,L[S]);if(y)for(var S of y(L))u.call(L,S)&&p(I,S,L[S]);return I},w=(I,L)=>g(I,P(L)),D=(I,L)=>{var S={};for(var N in I)C.call(I,N)&&L.indexOf(N)<0&&(S[N]=I[N]);if(I!=null&&y)for(var N of y(I))L.indexOf(N)<0&&u.call(I,N)&&(S[N]=I[N]);return S},M=(I,L,S)=>new Promise((N,R)=>{var U=G=>{try{K(S.next(G))}catch(re){R(re)}},W=G=>{try{K(S.throw(G))}catch(re){R(re)}},K=G=>G.done?N(G.value):Promise.resolve(G.value).then(U,W);K((S=S.apply(I,L)).next())});function c(I){return(0,t.h)(i,w(d({},I),{key:I.module}))}function l({module:I,onRequest:L,fetchImmediately:S=!0}){const N=O.has(I),R=(0,f.Wf)(()=>T(I,L),[],{auto:S&&!N,initialResult:N?O.get(I):null});return R.error&&console.error(R.error),{error:R.error,isLoading:R.isLoading,result:R.result,fetch:R.refetch}}function i(I){var L=I,{onRequest:S,resolve:N,module:R,whileLoading:U,ifError:W}=L,K=D(L,["onRequest","resolve","module","whileLoading","ifError"]),G;const{error:re,isLoading:$,result:F}=l({module:R,onRequest:S});return(0,t.h)(t.Fragment,null,re?(G=W!=null?W:U)!=null?G:"Error":$||!F?U!=null?U:null:(0,t.h)(N(F),K))}function v(I){return h(c,w(d({},I),{resolve:L=>L.default}))}const O=new Map;function T(I,L){return M(this,null,function*(){let S=O.get(I);return S||(S=yield L(),O.set(I,S)),S})}},18130:(H,E,e)=>{"use strict";e.d(E,{c:()=>v,r:()=>i});var t=e(6400),f=e(98661),s=e(20042),g=e(92298),P=e(13045),y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(O,T,I)=>T in O?y(O,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):O[T]=I,M=(O,T)=>{for(var I in T||(T={}))d.call(T,I)&&D(O,I,T[I]);if(p)for(var I of p(T))w.call(T,I)&&D(O,I,T[I]);return O},c=(O,T)=>C(O,u(T)),l=(O,T)=>{var I={};for(var L in O)d.call(O,L)&&T.indexOf(L)<0&&(I[L]=O[L]);if(O!=null&&p)for(var L of p(O))T.indexOf(L)<0&&w.call(O,L)&&(I[L]=O[L]);return I};const i=(0,f.forwardRef)((O,T)=>{var I=O,{href:L,onClick:S,campaign:N,replace:R,state:U,showBack:W}=I,K=l(I,["href","onClick","campaign","replace","state","showBack"]);U=W?c(M({},U),{showBack:!0}):U;const G=v({href:L,onClick:S,campaign:N,replace:R,state:U});return(0,t.h)(P.xu,M(c(M({as:"a"},K),{ref:T}),G))});function v({onClick:O,href:T,campaign:I,replace:L,state:S}){if(T){let R;try{R=new URL(T)}catch(U){try{R=new URL(`${document.location.origin}${T}`)}catch(W){}}if(R){if(R.origin===document.location.origin&&!I){const U=new URLSearchParams,W={};for(const[K,G]of R.searchParams)K.startsWith("utm_")?K==="utm_campaign"?W.name=G:W[K.replace(/^utm_/,"")]=G:U.append(K,G);I=W,T=`${R.pathname}${U}`}else if(R.origin!==document.location.origin&&I){for(const[U,W]of Object.entries(I)){const K=U==="name"?"campaign":U;R.searchParams.set(`utm_${K}`,W)}T=R.toString()}}}return{href:T,onClick:R=>{O==null||O(R),!R.defaultPrevented&&!R.ctrlKey&&!R.shiftKey&&!R.metaKey&&T&&((0,g.j)(M({},I)),R.preventDefault(),R.stopPropagation(),(0,s.route)(T,L),S&&history.replaceState(S,""))}}}},42332:(H,E,e)=>{"use strict";e.d(E,{aw:()=>U,u:()=>W});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(74285),y=e(21958),C=e(5131),u=Object.defineProperty,p=Object.defineProperties,d=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,c=(K,G,re)=>G in K?u(K,G,{enumerable:!0,configurable:!0,writable:!0,value:re}):K[G]=re,l=(K,G)=>{for(var re in G||(G={}))D.call(G,re)&&c(K,re,G[re]);if(w)for(var re of w(G))M.call(G,re)&&c(K,re,G[re]);return K},i=(K,G)=>p(K,d(G)),v=(K,G)=>{var re={};for(var $ in K)D.call(K,$)&&G.indexOf($)<0&&(re[$]=K[$]);if(K!=null&&w)for(var $ of w(K))G.indexOf($)<0&&M.call(K,$)&&(re[$]=K[$]);return re};function O({hideOnScroll:K}={}){const[G,re]=useState(!1),$=useRef();return useEffect(()=>{if(G){const F=()=>{re(!1)1)};return window.addEventListener("click",F),window.addEventListener("keydown",Z),K&&window.addEventListener("scroll",F,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",F),window.removeEventListener("keydown",Z),window.removeEventListener("scroll",F,{capture:!0})}}},[G]),{ref:$,isOn:G,setIsOn:re,toggle:()=>{re(!G)}}}const T={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function I({tetherRef:K,fixTo:G=T,isFixed:re,offset:$={x:0,y:0},children:F,className:Z}){const q=(0,f.sO)();return(0,f.bt)(()=>{const V=K.current,j=q.current;if(!V||!j)return;const Y=V.getBoundingClientRect(),ie=j.getBoundingClientRect(),ce=l(l({},T),G);let de=ce.anchorY==="center"?Y.top+Y.height/2:Y[ce.anchorY];ce.tetherY==="bottom"&&(de=window.innerHeight-de),ce.tetherY==="center"&&(de-=ie.height/2);const z=ce.tetherY==="bottom"?"bottom":"top";let Q=ce.anchorX==="center"?Y.left+Y.width/2:Y[ce.anchorX];ce.tetherX==="right"&&(Q=window.innerWidth-Q),ce.tetherX==="center"&&(Q-=ie.width/2);const ae=ce.tetherX==="right"?"right":"left";z==="top"&&de+ie.height>window.innerHeight?(de=Y.top-ie.height,$.y&&(de-=$.y)):$.y&&(de+=$.y),$.x&&(Q+=$.x),re||(de+=window.scrollY,Q+=window.scrollX),Object.assign(j.style,{minWidth:`${Y.width}px`,[z]:`${de}px`,[ae]:`${Q}px`})},[]),(0,t.h)(P.h,null,(0,t.h)("div",{className:g()("dropdown3",Z),ref:q,style:{position:re?"fixed":"absolute"}},F))}const L=(0,y.L)("reader2-menu reader2-font-base");function S(K){var G=K,{priority:re}=G,$=v(G,["priority"]);const F=classnames("reader2-menu-item","reader2-text-button",re,$.className);return $.href?h("a",i(l({},$),{className:F})):h("div",i(l({},$),{className:F}))}function N({options:K,value:G,onChange:re,fixedHeight:$=!1}){var F;const Z=O({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:Z.toggle,forwardedRef:Z.ref,fixedHeight:$},(F=K.find(q=>q.value===G))==null?void 0:F.label,h(ChevronDown,{size:16}),Z.isOn&&h(I,{tetherRef:Z.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(L,null,K.map(q=>h(S,{key:q.value,onClick:()=>re(q.value),className:classnames("reader2-split-menu-item selectable",G===q.value&&"isSelected")},q.label,G===q.value&&h(Check,{className:"feather-icon"}))))))}function R(K){var G=K,{defaultValue:re,onChange:$}=G,F=v(G,["defaultValue","onChange"]);const[Z,q]=useState(re);return h(N,i(l({},F),{value:Z,onChaV)}}))}function U({onHover:K}={}){const[G,re]=(0,f.eJ)(!1),$=(0,f.sO)(),F=(0,f.sO)(),Z=(0,f.sO)(),q=j=>{j.pointerType==="mouse"&&(clearTimeout(Z.current),re(!0),K&&K())},V=j=>{j.pointerType==="mouse"&&(Z.current=setTimeout(()=>{re(!1)},200))};return(0,f.)}},[]),(0,f.d4)(()=>{const j=F.current,Y=$.current;if(G&&Y){const ie=()=>{re(!1)};return window.addEventListener("scroll",ie,{capture:!0,passive:!0}),j&&(j.addEventListener("pointerenter",q),j.addEventListener("pointerleave",V)),()=>{window.removeEventListener("scroll",ie,{capture:!0}),j&&(j.removeEventListener("pointerenter",q),j.removeEventListener("pointerleave",V))}}},[G]),{ref:$,tooltipRef:F,isHovering:G}}function W({tetherRef:K,children:G}){return(0,t.h)(I,{tetherRef:K,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,t.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},G,(0,t.h)("div",{className:"reader2-tooltip-arrow"},(0,t.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,t.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(H,E,e)=>{"use strict";e.d(E,{Yy:()=>w});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(26059),y=e(74285),C=e(17025),u=e.n(C),p=e(5131),d=e(19696);function w({children:l,className:i,onClose:v,hasClosePill:O,isPopup:T,noExit:I,noExitOnClick:L,noFullscreen:S,noCloseButton:N,testID:R}){const U=(0,f.sO)(),W=K=>{!I&&!L&&T&&(S||window.innerWidth>540)&&(K.stopPropagation(),K.preventDefault(),v())};return(0,t.h)(y.h,null,(0,t.h)("div",{className:g()("modal simple-modal wide typography","in",i,{"has-close-pill":O,popup:T}),"data-testid":R,role:"dialog"},(0,t.h)("div",{className:"modal-table"},(0,t.h)("div",{className:"modal-row"},(0,t.h)("div",{className:g()("modal-cell modal-content reader2-modal",{"no-fullscreen":S})},(0,t.h)("div",{className:"modal-clickspace",onClick:W}),(0,t.h)("div",{className:"container",ref:U},!I&&(!N||(0,C.isMobileBrowser)())&&(0,t.h)(p.zx,{className:g()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":O}),onClick:()=>v()},(0,t.h)(P.Z,null)),l))))))}function D({children:l,onCancel:i}){return h(w,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:i},h(M,null,l))}const M=(0,d.L)("simple-modal-pad reader2-confirm-modal"),c=(0,d.L)("buttons")},10174:(H,E,e)=>{"use strict";e.d(E,{Au:()=>z,i3:()=>Q,oC:()=>te,sA:()=>Y});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(13639),y=e(59009),C=e(82622),u=e(20501),p=e(77190),d=e(67963),w=e(62952),D=e(8479),M=e(84040),c=e(51126),l=e(62246),i=e(43887),v=e(97868),O=e(91870),T=e(11688),I=e(50292),L=e(44396),S=e(70762),N=e(7980),R=Object.defineProperty,U=Object.defineProperties,W=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,$=(ee,le,se)=>le in ee?R(ee,le,{enumerable:!0,configurable:!0,writable:!0,value:se}):ee[le]=se,F=(ee,le)=>{for(var se in le||(le={}))G.call(le,se)&&$(ee,se,le[se]);if(K)for(var se of K(le))re.call(le,se)&&$(ee,se,le[se]);return ee},Z=(ee,le)=>U(ee,W(le)),q=(ee,le)=>{var se={};for(var fe in ee)G.call(ee,fe)&&le.indexOf(fe)<0&&(se[fe]=ee[fe]);if(ee!=null&&K)for(var fe of K(ee))le.indexOf(fe)<0&&re.call(ee,fe)&&(se[fe]=ee[fe]);return se},V=(ee,le,se)=>new Promise((fe,ve)=>{var ge=me=>{try{ne(se.next(me))}catch(Le){ve(Le)}},be=me=>{try{ne(se.throw(me))}catch(Le){ve(Le)}},ne=me=>me.done?fe(me.value):Promise.resolve(me.value).then(ge,be);ne((se=se.apply(ee,le)).next())});function j(ee){var le=ee,{isOpen:se}=le,fe=q(le,["isOpen"]);return(0,t.h)(l.u_,{className:N.Z.composerModal,isOpen:se,onClose:fe.onClose,fullscreenMobile:!0},(0,t.h)(T.cr,Z(F({},fe),{module:"../feed/NoteComposer",resolve:ve=>ve.NoteComposer,onRequ8)),whileLoading:(0,t.h)("div",{style:{height:410}})})))}function Y({disabled:ee,parentPubId:le,parentPostId:se,parentCommentId:fe,placeholder:ve,tabId:ge}){const be=Q(),ne=(0,d.aF)(),me=(0,L.XA)(),{requireLogin:Le}=(0,I.SJ)(),Re=()=>{ee||(ne?be.open({parentPubId:le,parentPostId:se,parentCommentId:fe,tabId:ge}):Le==null||Le())},Me=(0,w.h)({onAddFiles:Ee=>{be.open({parentPubId:le,parentPostId:se,parentCommentId:fe,initialFiles:Ee,tabId:ge})}});return(0,t.h)(c.tu,F({},Me.props),(0,t.h)(c.gq,{gap:12,alignItems:"center",className:g()(N.Z.inlineComposer,{[N.Z.disabled]:ee})},ne?(0,t.h)(c.hs,{as:"a",flex:"auto",href:(0,u.getReaderProfileUrl)(ne,{noBase:!0})},(0,t.h)(v.qE,{size:me?36:40,user:ne})):(0,t.h)(c.hs,{flex:"auto"},(0,t.h)(v.qE,{size:me?36:40})),(0,t.h)(M.kG,{className:g()(N.Z.inlineComposerButton,{[N.Z.mobile]:me,[N.Z.disabled]:ee,[N.Z.isDropping]:Me.isDragging}),onClick:Re,disabled:ee,resetCss:!0},(0,t.h)(i.xv.B3,{size:me?14:16,align:"left",color:"secondary"},ve||"What's on your mind?")),!me&&(0,t.h)(M.zx,{disabled:!0,rounded:!0},"Post")))}function ie(){const ee=Q(),le=useUser()})};return le?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:se,shadow:"medium"},h(Plus,{size:24})):null}const ce={isOpen:!1,firstComment:void 0},de=(0,t.createContext)({state:ce,open:()=>V(void 0,null,function*(){throw new Error("Not implemented")})});function z({children:ee}){var le,se,fe;const ve=(0,d.aF)(),ge=!(ve!=null&&ve.name),be=(0,O.I0)(),[ne,me]=(0,f.eJ)(ce),{feedItem:Le}=ne,Re=te(Le),Me=(Le==null?void 0:Le.type)==="comment"?(se=(le=Le.parentComments)==null?void 0:le[0])!=null?se:Le.comment:null;(0,f.d4)(()=>{ve&&Promise.all([e.e(1055),e.e(4430),e.e(4679),e.e(4747),e.e(4041),e.e(8534),e.e(1619),e.e(5870),e.e(7031),e.e(3640),e.e(2892),e.e(662),e.e(3882),e.e(2502)]).then(e.bind(e,54248))},[ve]),(0,f.d4)(()=>{ne.isOpen&&Promise.all([e.e(4041),e.e(8534),e.e(1619),e.e(5870),e.e(7031),e.e(3640),e.e(2892),e.e(662),e.e(4495),e.e(5018)]).then(e.bind(e,83097))},[ne.isOpen]);const Ee=(0,f.Ye)(()=>({state:ne,open:De=>new Promise((Be,Ke)=>{me(Z(F(F({},ce),De),{isOpen:!0,resolve:Be,reject:Ke}))})}),[ne]),we=()=>{var De,Be;(Be=(De=document.activeElement)==null?void 0:De.blur)==null||Be.call(De),me(Z(F({},ne),{isOpen:!1}))},Te=!1;return(0,t.h)(de.Provider,{value:Ee},ee,ge?(0,t.h)(ae,{isOpen:ne.isOpen,onClose:we,onSuccess:()=>me(Z(F({},ne),{isOpen:!0}))}):Te?(0,t.h)(l.u_,{isOpen:ne.isOpen,onClose:we,width:316},(0,t.h)(ue,{onClose:we})):Re?(0,t.h)(l.u_,{isOpen:ne.isOpen,onClose:we,width:316},(0,t.h)(oe,{onClose:we,requirement:Re,writerId:(fe=Me==null?void 0:Me.user_id)!=null?fe:0})):(0,t.h)(j,Z(F({},ne),{isOpen:ne.isOpen,onClose:we,onSuccess:De=>{var Be,Ke;De.isFirstFeedCommentByUser?me(Z(F({},ne),{firstComment:De})):we(),be({type:ne.editComment?"edit_comment":"new_comment",payload:{comment:De}}),(Be=ne.onCompose)==null||Be.call(ne,De),(Ke=ne.resolve)==null||Ke.call(ne,De)},onError:ne.reject})),(0,t.h)(l.u_,{isOpen:ne.isOpen&&!!ne.firstComment},ne.firstComment&&(0,t.h)(T.cr,{module:"../feed/NuxModal",resolve:De=>De.FeedNuxShareFirstNote,onRequ7)),onClose:we,comment:ne.firstComment})))}function Q(){return(0,f.qp)(de)}function ae({isOpen:ee,onClose:le,onSuccess:se}){const fe=(0,d.SE)();return(0,t.h)(l.u_,{isOpen:ee,onClose:le,fullscreenMobile:!0},(0,t.h)(l.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:le}),(0,t.h)(p._0,{className:N.Z.setupProfileModalContent,pageTitle:"",user:fe.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSucc()}}))}function te(ee){var le,se;const fe=(0,d.aF)(),ve=ee==null?void 0:ee.post,ge=(ee==null?void 0:ee.type)=="comment"?(se=(le=ee.parentComments)==null?void 0:le[0])!=null?se:ee.comment:null,{user_id:be}=ge!=null?ge:{};let{reply_minimum_role:ne}=ge!=null?ge:{};const me=(0,S.K)(be!=null?be:0);if(ne==null&&(ve==null?void 0:ve.write_comment_permissions)==="only_paid"&&(ne="paid_subscriber"),!be||!ne||ee!=null&&ee.canReply||ge&&fe&&(0,C._N)(ge,fe.id))return null;if(ne){if(ne==="free_subscriber"&&(!me||!["free_subscription","subscribed"].includes(me)))return"free_subscriber";if(ne==="paid_subscriber"&&me!=="subscribed")return"paid_subscriber"}return null}function oe({requirement:ee,writerId:le,onClose:se}){var fe;const ve=(0,d.aF)(),{error:ge,result:be}=(0,D.ib)({pathname:`/api/v1/user/${le}/primary-publication`,deps:[le],auto:!0});return(0,t.h)(c.tu,{padding:16},(0,t.h)(c.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,t.h)(P.Z,{size:32,color:"var(--color-primary)"})),(0,t.h)(c.tu,{gap:20},(0,t.h)(c.tu,{gap:8,alignItems:"center"},(0,t.h)(i.xv.H3,{align:"center"},ee==="free_subscriber"?"Subscribers only":"Paid subscribers only"),be&&(0,t.h)(i.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",ee==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(fe=be.name)!=null?fe:"this publication",".")),(0,t.h)(c.tu,{gap:8},be&&(0,t.h)(M.zx,{priority:"primary",rounded:!0,href:(0,u.getSubscribeUrl)(be,{user:ve,addBase:!0,params:{utm_source:y.UTM_SOURCE.feedCommentReplyRestriction}})},"Subscribe"),(0,t.h)(M.zx,{priority:"secondary",rounded:!0,onClick:se},"Cancel"))))}function ue({onClose:ee}){return(0,t.h)(c.tu,{padding:16},(0,t.h)(c.tu,{gap:20},(0,t.h)(c.tu,{gap:8,alignItems:"center"},(0,t.h)(i.xv.H3,{align:"center"},"Confirm your email address"),(0,t.h)(i.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before posting a note.")),(0,t.h)(c.tu,{gap:8},(0,t.h)(M.zx,{priority:"primary",rounded:!0,onClick:ee},"Ok"),(0,t.h)(M.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(H,E,e)=>{"use strict";e.d(E,{t5:()=>I.t,Sv:()=>T.S,Xq:()=>bt,EU:()=>Xe,II:()=>ee,Uj:()=>j,y:()=>Te,zr:()=>st,mE:()=>Ee,pe:()=>me,Vm:()=>L.V,Hj:()=>it,_Y:()=>ie,mb:()=>ve,eK:()=>l.eK});var t=e(6400),f=e(98661),s=e(30396),g=e(94184),P=e.n(g),y=e(1852),C=e(59009),u=e(20501),p=e(16527),d=e(17025),w=e(51126),D=e(43887),M=e(44396),c=e(5131),l=e(657),i=e(19696),v=e(54520);const O={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3",tabContainerBorder:"frontend-reader2-Page-module__tabContainerBorder--xZFpY"};var T=e(15822),I=e(55886),L=e(23587),S=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,G=(qe,Ze,mt)=>Ze in qe?S(qe,Ze,{enumerable:!0,configurable:!0,writable:!0,value:mt}):qe[Ze]=mt,re=(qe,Ze)=>{for(var mt in Ze||(Ze={}))W.call(Ze,mt)&&G(qe,mt,Ze[mt]);if(U)for(var mt of U(Ze))K.call(Ze,mt)&&G(qe,mt,Ze[mt]);return qe},$=(qe,Ze)=>N(qe,R(Ze)),F=(qe,Ze)=>{var mt={};for(var yt in qe)W.call(qe,yt)&&Ze.indexOf(yt)<0&&(mt[yt]=qe[yt]);if(qe!=null&&U)for(var yt of U(qe))Ze.indexOf(yt)<0&&K.call(qe,yt)&&(mt[yt]=qe[yt]);return mt};function Z({children:qe}){const Ze=useMobile();return h(Le,null,Ze?h(Text.H2,null,qe):h(Text.H1,null,qe))}function q({className:qe,children:Ze,title:mt,hasTitle:yt}){return h("div",{className:classnames("reader2-page-section",(mt||yt)&&"withTitle",qe)},mt&&h(V,null,mt),Ze)}function V({children:qe,className:Ze,actions:mt}){return h("div",{className:classnames("reader2-section-title",Ze)},h("span",{className:"reader2-text-h3 reader2-section-title"},qe),mt&&h("div",{className:"reader2-header-actions"},mt))}const j=(0,f.forwardRef)((qe,Ze)=>{var mt=qe,{isPadded:yt=!0,className:Mt,linkClassName:Ht}=mt,Gt=F(mt,["isPadded","className","linkClassName"]);return(0,t.h)("div",{ref:Ze,className:P()(O.linkRow,yt&&O.isPadded,Mt)},(0,t.h)(Y,$(re({},Gt),{className:Ht})))});function Y(qe){var Ze=qe,{children:mt,className:yt,href:Mt,newTab:Ht,onClick:Gt,noAnchor:zt,native:Kt,utmCampaign:Ir,utmSource:or,isSelected:cr}=Ze,Tt=F(Ze,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const wr=typeof location!="undefined"?location.pathname:"",Br=!zt&&Mt!=null?"a":"div",Hr=Mt&&(0,u.pathWithQuery)(Mt,{utm_source:or||wr,utm_medium:C.UTM_MEDIUM.reader2,utm_campaign:Ir}),Wr=Rr=>{Gt&&Gt(Rr),!Rr.defaultPrevented&&zt&&Hr&&(0,p.Q)(Rr,Hr,{native:Kt,newTab:Ht})};return(0,t.h)(w.hs,re({as:Br,className:P()(O.linkRowA,yt,(Hr||Gt)&&cr==null&&O.isClickable,cr&&O.isSelected,cr!=null&&O.isSelectable),"data-selected":cr,href:Hr,target:Ht?"_blank":void 0,onClick:Wr},Tt),mt)}function ie({icon:qe,title:Ze,text:mt,action:yt,className:Mt}){return(0,t.h)(w.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:P()(O.zero,Mt)},qe,(0,t.h)(w.tu,{gap:4},(0,t.h)(D.xv.B4,{weight:"medium",color:"secondary"},Ze),(0,t.h)(D.xv.B4,{color:"secondary"},mt)),yt)}function ce(qe){var Ze=qe,{className:mt,variant:yt,size:Mt,serif:Ht,isConstrained:Gt,maxLines:zt=3}=Ze,Kt=F(Ze,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",re({className:classnames("reader2-paragraph",yt&&`reader2-${yt}`,Mt&&`reader2-font-${Mt}`,Ht&&"reader2-font-serif",Gt&&`reader2-clamp-lines reader2-${zt}-lines`,mt)},Kt))}function de({className:qe,children:Ze}){return h("div",{className:classnames("reader-nav-center",qe)},h("div",{className:"reader2-page reader2-font-base"},Ze))}function z({className:qe,scrollRef:Ze,children:mt}){return h(ue,{ref:Ze},h(de,{className:qe},mt))}function Q(qe){var Ze=qe,{scrollRef:mt}=Ze,yt=F(Ze,["scrollRef"]);return h(ue,{ref:mt},h(FlexBox,$(re({},yt),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function ae(qe){return useMediaQuery({minWidth:1100})?h(FlexColumn,re({className:"reader2-inbox-sidebar",paddingTop:20},qe)):null}function te(qe){return h(FlexBox,re({alignItems:"center",justifyContent:"space-between",paddingX:8},qe))}function oe(qe){return h(FlexColumn,re({gap:8},qe))}const ue=(0,f.forwardRef)((qe,Ze)=>(0,t.h)(v.SV,null,(0,t.h)("div",re({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:Ze},qe)))),ee=(0,f.forwardRef)((qe,Ze)=>{var mt=qe,{className:yt,hasError:Mt}=mt,Ht=F(mt,["className","hasError"]);return(0,t.h)("input",$(re({className:P()(O.input,Mt&&O.error,yt)},Ht),{ref:Ze}))});function le(qe){var Ze=qe,{className:mt,hasError:yt,textareaRef:Mt}=Ze,Ht=F(Ze,["className","hasError","textareaRef"]);return h("textarea",re({ref:Mt,className:classnames(css.input,css.textarea,yt&&css.error,mt)},Ht))}function se({error:qe}){return h(bt,null,getNetworkErrorMessage(qe))}const fe=({header:qe,icon:Ze,title:mt,text:yt,action:Mt})=>h(q,{title:qe},h(ve,{icon:Ze,title:mt,text:yt,action:Mt}));function ve(qe){return(0,t.h)(w.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,t.h)(ie,re({},qe)))}function ge({tabs:qe,value:Ze,onChange:mt,noBorder:yt=!1}){const Mt=useRef(),Ht=useMobile(),{state:Gt,handleArrowClick:zt}=useScrollArrows(Mt);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:classnames(css.tabContainer,!yt&&css.tabContainerBorder)},h(FlexRow,{className:"reader2-tab-bar-parent"},!Ht&&h(ArrowButton,{direction:"left",isVisible:Gt.showLeft,onClick:zt(-1)}),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:Mt},h(be,{tabs:qe,value:Ze,onChange:mt})),!Ht&&h(ArrowButton,{direction:"right",isVisible:Gt.showRight,onClick:zt(1)})))}function be({tabs:qe,value:Ze,onChange:mt}){return h(FlexRow,{gap:8},qe.map(yt=>h(PillButton,{key:yt.value,isActive:Ze===yt.value,onClick:()=>mt(yt.value),icon:yt.icon},yt.label)))}function ne({children:qe}){const Ze=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:Ze},qe)}function me(qe){var Ze=qe,{gap:mt=16}=Ze,yt=F(Ze,["gap"]);return(0,t.h)(w.tu,$(re({},yt),{className:P()(O.pageStack,O[`gap_${mt}`])}))}const Le=(0,i.L)("reader2-page-top"),Re=(0,i.L)(O.pageTopFixed),Me=(0,i.L)("reader2-page-body"),Ee=(0,i.L)(O.pageStack),we=(0,i.L)("reader2-page-center"),Te=(0,i.L)("reader2-modal-title-text"),De=(0,i.L)("reader2-column"),Be=(0,i.L)("reader2-text-h3"),Ke=(0,i.L)("reader2-text-h3 reader2-section-title"),tt=(0,i.L)("reader2-text-h4"),Ot=(0,i.L)("reader2-item-title"),et=(0,i.L)("reader2-item-meta"),it=(0,i.L)("reader2-text-b4"),bt=(0,i.L)("reader2-form-error"),xe=(0,i.L)("reader2-subtitle"),Oe=(0,i.L)("reader2-separator","hr"),Ie=(0,i.L)("reader2-page-section withTitle"),We=(0,i.L)("reader2-row reader2-split-row"),Ge=(0,i.L)("reader2-emphasis-box"),Xe=(0,i.L)(P()(O.hoverLink,"pencraft"),"a");function st(qe){return(0,t.h)(Xe,re({target:"_blank"},qe))}},23587:(H,E,e)=>{"use strict";e.d(E,{V:()=>v});var t=e(6400),f=e(94184),s=e.n(f),g=e(4508);const P={reader2Placeholder:"frontend-reader2-Placeholder-module__reader2Placeholder--x_akJ",travel:"frontend-reader2-Placeholder-module__travel--V9vAL",placeholder:"frontend-reader2-Placeholder-module__placeholder--BEl1f",bar:"frontend-reader2-Placeholder-module__bar--pzAh8",circle:"frontend-reader2-Placeholder-module__circle--u7Phw",elevated:"frontend-reader2-Placeholder-module__elevated--Af6iZ"};var y=Object.defineProperty,C=Object.defineProperties,u=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(O,T,I)=>T in O?y(O,T,{enumerable:!0,configurable:!0,writable:!0,value:I}):O[T]=I,M=(O,T)=>{for(var I in T||(T={}))d.call(T,I)&&D(O,I,T[I]);if(p)for(var I of p(T))w.call(T,I)&&D(O,I,T[I]);return O},c=(O,T)=>C(O,u(T)),l=(O,T)=>{var I={};for(var L in O)d.call(O,L)&&T.indexOf(L)<0&&(I[L]=O[L]);if(O!=null&&p)for(var L of p(O))T.indexOf(L)<0&&w.call(O,L)&&(I[L]=O[L]);return I};function i({className:O,style:T,type:I,width:L,height:S,size:N,maxWidth:R}){return N!=null&&(L=N,S=N),h("div",{className:classnames(css.reader2Placeholder,O,I),style:c(M({},T),{width:L,height:S,maxWidth:R})})}function v(O){var T=O,{className:I,style:L,type:S,width:N,height:R,size:U,maxWidth:W,elevated:K,radius:G=6}=T,re=l(T,["className","style","type","width","height","size","maxWidth","elevated","radius"]);U!=null&&(N=U,R=U);const $=S==="bar";return(0,t.h)(g.xu,c(M({},re),{className:s()(P.placeholder,I,K&&P.elevated,$&&P.bar,S==="circle"&&P.circle),radius:G,style:c(M({},L),{width:N,height:R,maxWidth:W})}))}},9178:(H,E,e)=>{"use strict";e.d(E,{F:()=>D});var t=e(6400),f=e(94184),s=e.n(f),g=e(51126),P=e(74806);const y="#FF6719";var C=e(34755);function u({className:M,type:c,accentColor:l}){return(0,t.h)(C.l,{name:"ReaderBadgeIcon",className:M,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,t.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,t.h)("circle",{cx:"11",cy:"11",r:"9",fill:l||y}),c==="subscribed"?(0,t.h)(t.Fragment,null,(0,t.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,t.h)(t.Fragment,null,(0,t.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,t.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,t.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,t.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,t.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const p=null;var d=e(55886);const w={custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function D({pub:M,logoUrl:c,publicationName:l,size:i=196,title:v,className:O,imgClassName:T,badgeType:I,belowTheFold:L}){var S;return M&&!c&&(c=(0,P.getLogo)(M)),M&&!l&&(l=M.name||M.subdomain),(0,t.h)(g.hs,{className:O,position:"relative",title:v,style:{width:i,height:i}},c?(0,t.h)(d.t,{className:s()(w.custom,T),src:c,size:i,alt:l,loading:L?"lazy":void 0}):(0,t.h)("span",{className:s()(w.placeholder,T),style:{width:i,height:i,backgroundColor:M&&(((S=M==null?void 0:M.theme)==null?void 0:S.background_pop_color)||(M==null?void 0:M.theme_var_background_pop)||null),color:null}},l==null?void 0:l[0]),I&&(0,t.h)(u,{className:"reader2-pub-badge",type:I,accentColor:M&&M.theme_var_background_pop}))}},44695:(H,E,e)=>{"use strict";e.d(E,{GF:()=>Y,Sm:()=>re,Sz:()=>j});var t=e(6400),f=e(94184),s=e.n(f),g=e(25380),P=e(59009),y=e(52743),C=e(83322),u=e(67963),p=e(3258),d=e(8479),w=e(84040),D=e(48960),M=e(51126),c=e(94016),l=e(43887),i=e(95297),v=e(97868),O=e(33510),T=e(9178),I=e(15337),L=e(27797),S=Object.defineProperty,N=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,W=(ie,ce,de)=>ce in ie?S(ie,ce,{enumerable:!0,configurable:!0,writable:!0,value:de}):ie[ce]=de,K=(ie,ce)=>{for(var de in ce||(ce={}))R.call(ce,de)&&W(ie,de,ce[de]);if(N)for(var de of N(ce))U.call(ce,de)&&W(ie,de,ce[de]);return ie},G=(ie,ce)=>{var de={};for(var z in ie)R.call(ie,z)&&ce.indexOf(z)<0&&(de[z]=ie[z]);if(ie!=null&&N)for(var z of N(ie))ce.indexOf(z)<0&&U.call(ie,z)&&(de[z]=ie[z]);return de};const re=ie=>{var ce=ie,{publication_id:de,inline:z,utmSource:Q}=ce,ae=G(ce,["publication_id","inline","utmSource"]);const{result:te,refetch:oe}=(0,d.ib)({pathname:`/api/v1/publication/public/${de}`,auto:!1,deps:[de]}),ue=(0,u.aF)();return(0,t.h)(c.z,K({className:s()(L.Z.publicationHoverCardTarget,z&&L.Z.inline),content:te?(0,t.h)($,{result:te,utmSource:Q}):(0,t.h)(V,null),onFetch:oe,layerClassName:L.Z.publicationHoverCard},ae))};function $({result:ie,utmSource:ce}){const{pub:de}=ie,z=(0,u.aF)();(0,p.track)(p.EVENTS.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:de.id});let Q=de.contributors,ae=null;Q&&Q.length>3&&(ae=`See all (${(0,C.numberToString)(Q.length)})`,Q=Q.slice(0,3));const te=`${de.base_url}?utm_source=${ce}`;return(0,t.h)(M.tu,{gap:16,padding:8},(0,t.h)(M.gq,null,(0,t.h)("a",{href:te},(0,t.h)(T.F,{pub:ie.pub,size:56}))),(0,t.h)(M.tu,{gap:6},(0,t.h)(j,{title:ie.pub.name,handle:void 0,blurb:ie.pub.hero_text,url:ie.pub.base_url}),de.rankingDetail&&de.rankingDetailFreeSubscriberCount&&(0,t.h)(l.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},de.rankingDetailFreeSubscriberCount.toUpperCase())),(0,t.h)(M.tu,null,(0,t.h)(F,{isContr:ie.isContributor,isSubs:ie.isSubscribed,pub:ie.pub,user:z,dashboardUrl:ie.pub.base_url,utmSource:ce})),(0,t.h)(D.i,null),(0,t.h)(M.tu,null,(0,t.h)(Z,{contributors:Q,seeAllLabel:ae,redirLink:ie.pub.base_url,utmSource:ce})))}function F({isContr:ie,isSubs:ce,pub:de,user:z,dashboardUrl:Q,utmSource:ae}){const te=(0,I.i)("profile");return(0,t.h)(M.tu,null,ie?(0,t.h)(t.Fragment,null,(0,t.h)(w.zx,{priority:"secondary",fill:"outline",href:`${Q}/publish`},"Dashboard")):ce?(0,t.h)(w.zx,{priority:"secondary",fill:"outline",href:(0,y.getSubscribeUrl)(de,{user:z,addBase:!0,utm_source:ae||P.UTM_SOURCE.pubHoverCard,utm_medium:P.UTM_MEDIUM.web,utm_campaign:P.UTM_CAMPAIGN.profilePage}),leftIcon:(0,t.h)(g.Z,null)},"Subscribed"):(0,t.h)(w.zx,{priority:"primary",href:(0,y.getSubscribeUrl)(de,{user:z,addBase:!0,utm_source:ae||P.UTM_SOURCE.pubHoverCard,utm_medium:P.UTM_MEDIUM.web,utm_campaign:P.UTM_CAMPAIGN.profilePage}),onClick:te(de)},"Subscribe"))}function Z({contributors:ie,seeAllLabel:ce,redirLink:de,utmSource:z}){return(0,t.h)(M.tu,null,(0,t.h)(Y,{sectionTitle:"Written by",seeAllLabel:ce,link:`${de}/about?sort=people`}),(0,t.h)(M.tu,null,ie.z}))))}function q({profile:ie,utmSource:ce}){return(0,t.h)("a",{href:(0,y.getProfileUrlById)(ie.user_id,ie.name,{searchParams:{utm_source:ce}}),className:L.Z.hoverCardAvatar},(0,t.h)(v.qE,{user:ie,size:32}),(0,t.h)(l.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},ie.name))}function V(){return(0,t.h)(M.tu,{padding:8,gap:8},(0,t.h)(O.Vm,{size:56,style:{borderRadius:4}}),(0,t.h)(O.Vm,{type:"bar",width:"100%",height:20}),(0,t.h)(O.Vm,{type:"bar",width:"20%",height:20}),(0,t.h)(O.Vm,{type:"bar",width:"60%",height:20}))}function j({title:ie,handle:ce,blurb:de,url:z,themed:Q,bestsellerTier:ae,userId:te}){return(0,t.h)(t.Fragment,null,(0,t.h)("a",{style:{textDecoration:"none"},href:z},(0,t.h)(l.xv.H3,{color:Q?"pub-primary-text":"primary",className:L.Z.hoverCardTitle},ie,!!ae&&!!te&&(0,t.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,t.h)(i.UserBadge,{inline:!0,tier:ae,userId:te,tooltipOnHover:!0,size:"md"})))),ce&&(0,t.h)(l.xv.Meta,null,`@${ce}`),de&&(0,t.h)(l.xv.B3,{color:Q?"pub-secondary-text":"secondary",clamp:4},de))}function Y({sectionTitle:ie,seeAllLabel:ce,link:de}){return(0,t.h)(M.gq,{justifyContent:"space-between"},(0,t.h)(l.xv.Meta,{color:"secondary"},ie),ce&&(0,t.h)("a",{className:L.Z.hoverCardSeeAll,href:de},(0,t.h)(l.xv.B4,{color:"accent-blue"},ce)))}},51415:(H,E,e)=>{"use strict";e.d(E,{Eb:()=>d,in:()=>w,r8:()=>u});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(21958),y=e(42332),C=e(46140);function u(D,M=(0,t.h)(p,null)){const[c,l]=(0,f.eJ)(D);return[c&&M,()=>{l(!1l)}function d({className:D}){const{isHovering:M,ref:c}=(0,y.aw)();return(0,t.h)(t.Fragment,null,(0,t.h)(w,{className:g()(D,"reader2-unread-dot"),ref:c}),M&&(0,t.h)(y.u,{tetherRef:c},"New since your last visit"))}const w=(0,P.L)(C.Z.unreadDot)},72829:(H,E,e)=>{"use strict";e.d(E,{b8:()=>C,pe:()=>y});var t=e(6400),f=e(98661),s=e(63270),g=e(11688);const P=(0,f.createContext)({open:()=>{}});function y({children:u}){const{getConfigFor:p}=(0,s.xR)(),d=!!p("enable_web_dms"),[{isOpen:w,defaultValue:D,source:M},c]=(0,f.useState)({isOpen:!1});(0,f.useEffect)(()=>{if(!d)return;const v=O=>{O.metaKey&&O.key};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[d]);const l=()=>{c({isOpen:!1})},i=(0,f.useMemo)(()=>({open:({defaultValue:v,source:O})=>c({defaultValue:v,source:O,isOpen:!0})}),[]);return(0,t.h)(P.Provider,{value:i},u,(0,t.h)(g.cr,{module:"@/frontend/reader2/chat/ComposerModal",resolve:v=>v.ComposerModal,onRequest:()=>Promise.all([e.e(1055),e.e(4437),e.e(8534),e.e(7031),e.e(9221),e.e(9721)]).then(e.bind(e,46827)),isOpen:w,onClose:l,defaultValue:D,source:M}))}function C(){return(0,f.useContext)(P)}},81066:(H,E,e)=>{"use strict";e.d(E,{c:()=>ee});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(66254),y=e(34755),C=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(le,se,fe)=>se in le?C(le,se,{enumerable:!0,configurable:!0,writable:!0,value:fe}):le[se]=fe,c=(le,se)=>{for(var fe in se||(se={}))w.call(se,fe)&&M(le,fe,se[fe]);if(d)for(var fe of d(se))D.call(se,fe)&&M(le,fe,se[fe]);return le},l=(le,se)=>u(le,p(se));const v=le=>(0,t.h)(y.l,l(c({},le),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,t.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,t.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var O=e(8479),T=e(13045),I=e(94016),L=e(70925),S=e(15822),N=e(1942);const R=3,U=6;function W({context:le,reactions:se,currentReaction:fe,onReactionClick:ve,isReadOnly:ge,showCounts:be=!0,maxReactions:ne}){const me=se&&Object.keys(se).s]>0),{result:Le,isLoading:Re}=(0,O.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),Me=(0,f.Ye)(()=>!se||!(Le!=null&&Le.reactionTypes)?[]:Object.entries(se).sort(([we,Te],[De,Be])=>Te===Be?we.localeCompare(De):Be-Te).filter(([we,Te])=>Te>0&&Le.reactionTypes[we]).slice(0,R),[se,Le]);return Le!=null&&Le.reactionTypes?(0,t.h)(T.tu,null,(0,t.h)(T.gq,{onClick:ie,className:g()(N.Z.reactionsContainer,{[N.Z.show]:me})},Me.map(([Ee,we])=>{const Te=Le.reactionTypes[Ee],De=Ee===fe||Te===fe,Be=(0,t.h)(T.gq,{key:Ee,className:g()(N.Z.reaction,{[N.Z.blue]:be&&De}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>Te&&ve&&ve(Ee,Te)},(0,t.h)(j,{reaction:Te}),be&&(0,t.h)(q,{count:we,textColor:De?"bg-light":"primary"}));return le.type==="direct-message"?Be:(0,t.h)(I.z,{key:Ee,layerClassName:N.Z.nameCard,content:(0,t.h)(re,{context:le,reaction:Ee}),layerOptions:{placement:"bottom-center"}},Be)}),!ge&&(!ne||!fe)&&(0,t.h)(L.J,{content:({closePopover:Ee})=>(0,t.h)(G,{emojis:Le,isLoading:Re,currentReaction:fe,onP()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:N.Z.emojiPickerLayer},(0,t.h)(K,null)))):null}function K(){return(0,t.h)(T.hs,{className:N.Z.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,t.h)(v,null))}function G({emojis:le,isLoading:se,currentReaction:fe,onPick:ve}){var ge;const be=(0,f.Ye)(()=>!(le!=null&&le.reactionTypes)||se?[]:Object.keys(le.reactionTypes),[le==null?void 0:le.reactionTypes,se]),{result:ne,isLoading:me}=(0,O.Wf)(()=>e.e(4695).then(e.t.bind(e,64695,19)),[],{auto:!0}),Le=(0,f.I4)(we=>[we,...(ne==null?void 0:ne[we])||[]],[ne]),{filteredItems:Re,setQuery:Me,hasFiltered:Ee}=(0,P.C)({items:be,getKeys:Le,deps:[be,Le]});return se||me?(0,t.h)(S.S,null):(0,t.h)(T.tu,{gap:12,className:N.Z.emojiPicker,onClick:ie,overflowY:"auto"},(0,t.h)(P.R,{setQuery:Me,placeholder:"Search emoji...",size:"small"}),Ee&&(Re&&Re.length>0?(0,t.h)(Z,{reactions:Re,currentReaction:fe,onPick:ve,emojiMap:le.reactionTypes,title:null}):(0,t.h)(T.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!Ee&&(0,t.h)(t.Fragment,null,(0,t.h)(Z,{reactions:le.suggestedReactionTypes,currentReaction:fe,onPick:ve,emojiMap:le.reactionTypes,title:"Suggested Reactions"}),(ge=le.categories)==null?void 0:ge.map(we=>(0,t.h)(Z,{reactions:we.reactionTypes,currentReaction:fe,onPick:ve,emojiMap:le.reactionTypes,title:we.title}))))}function re({reaction:le,context:se}){var fe;const ve=se.type==="posts"?`/api/v1/community/posts/${se.id}/reactions`:`/api/v1/community/comments/${se.id}/reactions`,{result:ge,isLoading:be}=(0,O.ib)({pathname:ve,method:"GET",auto:!0});if(be)return(0,t.h)(S.S,null);const me=((fe=ge==null?void 0:ge.reactions.filter(Me=>Me.reaction===le))!=null?fe:[]).map(Me=>Me.user.name),Le=me.slice(0,U),Re=Math.max(0,me.length-U);return(0,t.h)(T.tu,{gap:2,className:N.Z.emojiPicker,onClick:ie,overflowY:"auto"},Le.e})),Re>0&&(0,t.h)(V,{text:`+ ${Re} ${Re===1?"other":"others"}`}))}function $({title:le}){return(0,t.h)(T.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},le)}function F({reactions:le,currentReaction:se,onPick:fe,emojiMap:ve}){return(0,t.h)(T.gq,{className:N.Z.reactionSection,gap:8},le==null?void 0:le.map(ge=>(0,t.h)(T.hs,{key:ge,onCle]),className:g()(N.Z.reactionToPick,{[N.Z.blue]:ge===se}),bg:"primary",alignItems:"center"},(0,t.h)(Y,{reaction:ve[ge]}))))}function Z({reactions:le,currentReaction:se,onPick:fe,emojiMap:ve,title:ge}){return(0,t.h)(T.tu,{gap:12},ge&&(0,t.h)($,{title:ge}),(0,t.h)(F,{reactions:le,currentReaction:se,onPick:fe,emojiMap:ve}))}function q({count:le,textColor:se}){return(0,t.h)(T.xv,{className:N.Z.count,color:se,lineHeight:20},le)}function V({text:le}){return(0,t.h)(T.xv,{size:12,color:"primary",weight:"medium",font:"text"},le)}function j({reaction:le}){return(0,t.h)(T.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},le)}function Y({reaction:le}){return(0,t.h)(T.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},le)}const ie=le=>{le.stopPropagation(),le.preventDefault()};var ce=e(64927),de=Object.defineProperty,z=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,te=(le,se,fe)=>se in le?de(le,se,{enumerable:!0,configurable:!0,writable:!0,value:fe}):le[se]=fe,oe=(le,se)=>{for(var fe in se||(se={}))Q.call(se,fe)&&te(le,fe,se[fe]);if(z)for(var fe of z(se))ae.call(se,fe)&&te(le,fe,se[fe]);return le},ue=(le,se)=>{var fe={};for(var ve in le)Q.call(le,ve)&&se.indexOf(ve)<0&&(fe[ve]=le[ve]);if(le!=null&&z)for(var ve of z(le))se.indexOf(ve)<0&&ae.call(le,ve)&&(fe[ve]=le[ve]);return fe};function ee(le){var se=le,{children:fe,setReactions:ve=!0}=se,ge=ue(se,["children","setReactions"]);return ve?(0,t.h)(ce.X2,{className:N.Z.reactionsHoverZone,position:"relative"},fe,(0,t.h)(W,oe({},ge))):(0,t.h)(t.Fragment,null,fe)}},21288:(H,E,e)=>{"use strict";e.d(E,{KS:()=>y,qS:()=>P});var t=e(6400),f=e(30396);const s=(0,t.createContext)({registerVideo:()=>{},unregisterVideo:()=>{},updatePaywallState:()=>{}}),g=()=>(0,f.qp)(s),P=({children:C})=>{const[u,p]=(0,f.eJ)(0),d=(0,f.sO)([]),w=(0,f.sO)(new Map);(0,f.d4)(()=>{const l=new IntersectionObserver(i=>{i.forEach(v=>{const O=v.target;if(!v.isIntersecting){O.pause();return}w.current.get(O)||O.play()})},{threshold:1});return d.current.forEach(i=>{var v;(v=i.current)!=null&&v.player&&l.observe(i.current.player)}),()=>{d.current.forEach(i=>{var v;(v=i.current)!=null&&v.player&&l.unobserve(i.current.player)})}},[u]);const D=(0,f.I4)(l=>{l&&!d.current.includes(l)&&(d.current.push(l),p(i=>i+1))},[]),M=(0,f.I4)(l=>{d.current=d.current.fil==l),p(i=>i+1)},[]),c=(0,f.I4)(({videoPlayerRef:l,showPaywall:i})=>{var v;(v=l.current)!=null&&v.player&&w.current.set(l.current.player,i)},[]);return(0,t.h)(s.Provider,{value:{registerVideo:D,unregisterVideo:M,updatePaywallState:c}},C)},y=({disable:C,showPaywall:u,videoPlayerRef:p})=>{const{registerVideo:d,unregisterVideo:w,updatePaywallState:D}=g();(0,f.d4)(()=>{if(p.current&&!C)return d(p),()=>{w(p)}},[C,d,w,p]),(0,f.})},[u,D,p])}},16742:(H,E,e)=>{"use strict";e.d(E,{K:()=>q,y:()=>V});var t=e(6400),f=e(30396),s=e(81108),g=e(74655),P=e(36250),y=e(70444),C=e(20501),u=e(31517),p=e(1706),d=e(28488),w=e(67963),D=e(8479),M=e(17025),c=e.n(M),l=e(84040),i=e(51126),v=e(12876),O=e(62246),T=e(43887),I=e(75425),L=e(91870),S=e(10174),N=Object.defineProperty,R=Object.defineProperties,U=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,re=(ie,ce,de)=>ce in ie?N(ie,ce,{enumerable:!0,configurable:!0,writable:!0,value:de}):ie[ce]=de,$=(ie,ce)=>{for(var de in ce||(ce={}))K.call(ce,de)&&re(ie,de,ce[de]);if(W)for(var de of W(ce))G.call(ce,de)&&re(ie,de,ce[de]);return ie},F=(ie,ce)=>R(ie,U(ce)),Z=(ie,ce,de)=>new Promise((z,Q)=>{var ae=ue=>{try{oe(de.next(ue))}catch(ee){Q(ee)}},te=ue=>{try{oe(de.throw(ue))}catch(ee){Q(ee)}},oe=ue=>ue.done?z(ue.value):Promise.resolve(ue.value).then(ae,te);oe((de=de.apply(ie,ce)).next())});function q({pub:ie,post:ce,comment:de,feedItem:z,onRestack:Q,tabId:ae}){var te,oe;const ue=(0,w.aF)(),ee=(0,I.pm)(),le=!!ue,se=!!((te=de||ce)!=null&&te.restacked),fe=((oe=de||ce)==null?void 0:oe.restacks)||0,ve=(0,L.I0)(),ge=(0,S.i3)(),be=(0,D.ib)({pathname:"/api/v1/restack/feed"}),{iString:ne}=(0,d.M1)(),{nuxModal:me,showRestackNux:Le}=V(de&&!de.post_id?"note":de?"comment":"post"),Re=()=>Z(this,null,function*(){const we=yield be.refetch({method:"POST",json:{postId:de?null:ce==null?void 0:ce.id,commentId:(de==null?void 0:de.id)||null,tabId:ae}});if(we instanceof Error){alert((0,M.getNetworkErrorMessage)(we));return}ee.popToast(Te=>(0,t.h)(I.FN,F($({},Te),{text:we.comment?ne("Note restacked"):ne("Post restacked"),Icon:u.Z,cta:ne("View"),href:(0,y.E2)()}))),we.comment?ve({type:"comment_restack",payload:{commentId:we.comment.id,isRestacked:!0}}):ve({type:"post_restack",payload:{postId:we.post.id,isRestacked:!0}}),Le(),Q==null||Q(!0)}),Me=()=>Z(this,null,function*(){const we=yield be.refetch({method:"DELETE",json:{postId:de?null:ce==null?void 0:ce.id,commentId:(de==null?void 0:de.id)||null,tabId:ae}});if(we instanceof Error){alert((0,M.getNetworkErrorMessage)(we));return}ee.popToast(Te=>(0,t.h)(I.FN,F($({},Te),{text:ne("Restack undone"),Icon:s.Z}))),de?ve({type:"comment_restack",payload:{commentId:de.id,isRestacked:!1}}):ce&&ve({type:"post_restack",payload:{postId:ce.id,isRestacked:!1}}),Q==null||Q(!1)}),Ee=we=>Z(this,null,function*(){we.preventDefault();try{yield ge.open({feedItem:z,restackUrl:de?(0,P.aE)(ce,de,ie):(0,C.getPostUrl)(ie,ce),tabId:ae}),Le()}catch(Te){}});return{canRestack:le,isRestacked:se,restacks:fe,nuxModal:me,menuItems:[se?(0,t.h)(v.sN,{icon:(0,t.h)(s.Z,null),onClick:Me},ne("Undo restack")):(0,t.h)(v.sN,{icon:(0,t.h)(u.Z,null),onClick:Re},ne("Restack")),(0,t.h)(v.sN,{icon:(0,t.h)(p.Z,null),onClick:Ee},ne("Restack with a note"))]}}function V(ie){const ce=j({entityType:ie}),de=(0,D.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),z=()=>Z(this,null,function*(){var Q;const ae=(Q=de.result)!=null?Q:yield de.refetch();!(ae instanceof Error)&&(ae==null?void 0:ae.hasRestacked)===!1&&(ce.open(),de.setResult({hasRestacked:!0}))});return{nuxModal:ce.element,showRestackNux:z}}function j({entityType:ie}){const[ce,de]=(0,f.eJ)(!1),z=()=>{de(!1)};return{open:()=>{de(!0)},element:(0,t.h)(O.u_,{isOpen:ce,onClose:z},(0,t.h)(Y,{onClose:z,entityType:ie}))}}function Y({onClose:ie,entityType:ce}){const{iString:de}=(0,d.M1)();return(0,t.h)(i.tu,{paddingX:16},(0,t.h)(i.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,t.h)(g.Z,{size:40,stroke:"var(--color-primary)"})),(0,t.h)(i.tu,{gap:12},(0,t.h)(T.xv.H3,{align:"center"},ce==="comment"&&de("You restacked a comment"),ce==="note"&&de("You restacked a note"),ce==="post"&&de("You restacked a post")),(0,t.h)(T.xv.B3,{color:"secondary",align:"center"},ce==="comment"&&de("Restack comments that inspire you to share them with more people."),ce==="note"&&de("Restack notes that inspire you to share them with more people."),ce==="post"&&de("Restack posts that inspire you to share them with more people.")," ",de("Subscribers can see your restacks in the Notes tab and on your profile."))),(0,t.h)(i.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,t.h)(l.zx,{rounded:!0,href:(0,y.E2)()},de("View now")),(0,t.h)(l.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:ie},de("OK"))))}},70762:(H,E,e)=>{"use strict";e.d(E,{K:()=>S,_:()=>L});var t=e(6400),f=e(30396),s=e(58718),g=e(72496),P=e(86418),y=e(20501),C=e(67963),u=e(8479),p=e(75425),d=e(72307),w=Object.defineProperty,D=Object.defineProperties,M=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,v=(G,re,$)=>re in G?w(G,re,{enumerable:!0,configurable:!0,writable:!0,value:$}):G[re]=$,O=(G,re)=>{for(var $ in re||(re={}))l.call(re,$)&&v(G,$,re[$]);if(c)for(var $ of c(re))i.call(re,$)&&v(G,$,re[$]);return G},T=(G,re)=>D(G,M(re)),I=(G,re,$)=>new Promise((F,Z)=>{var q=Y=>{try{j($.next(Y))}catch(ie){Z(ie)}},V=Y=>{try{j($.throw(Y))}catch(ie){Z(ie)}},j=Y=>Y.done?F(Y.value):Promise.resolve(Y.value).then(q,V);j(($=$.apply(G,re)).next())});function L({publicationId:G,publication:re,publicationName:$,user:F,allowSecondaryPublications:Z=!0,subscriptionSource:q,sourceNoteId:V}){var j,Y,ie;G=(ie=(j=re==null?void 0:re.id)!=null?j:G)!=null?ie:(Y=F==null?void 0:F.primary_publication)==null?void 0:Y.id;const ce=(0,C.aF)(),de=(0,p.pm)(),z=(0,s.oJ)(),Q=(0,d.Th)(),[ae,te]=(0,f.eJ)(!1),oe=!!G&&R(ce,G,Q)||N(ce,F,Q,{allowSecondaryPublications:Z}),[ue,ee]=(0,f.eJ)(null),le=Q.isLoading||!!ue,se=ge=>I(this,null,function*(){var be;if(ge&&(ge.preventDefault(),ge.stopPropagation()),le||oe)return;ee("subscribing");const ne=yield W(G,q,{publication:re,user:ce,sourceNoteId:V}),me=`Subscribed to ${G?(be=$!=null?$:re==null?void 0:re.name)!=null?be:"publication":F?F.name:"profile"}`;if(ne.didAction){if(te(!0),de.popToast(Le=>(0,t.h)(p.FN,T(O({},Le),{text:me}))),ce)try{yield Q.refetch()}catch(Le){console.error("Failed to reload subscriptions:",Le)}F&&z((Le=[])=>Le.includes(F.id)?Le:[F.id,...Le],{revalidate:!1})}else ne.errorMessage&&de.popToast(Le=>{var Re;return(0,t.h)(p.FN,T(O({},Le),{text:(Re=ne.errorMessage)!=null?Re:""}))});ee(null)}),fe=ge=>I(this,null,function*(){var be;if(ge&&(ge.preventDefault(),ge.stopPropagation()),le||!oe)return;ee("unsubscribing");const ne=yield K(G,q),me=`Unsubscribed from ${G?(be=$!=null?$:re==null?void 0:re.name)!=null?be:"publication":F?F.name:"profile"}`;if(ne.didAction){if(te(!1),de.popToast(Le=>(0,t.h)(p.FN,T(O({},Le),{text:me}))),ce)try{yield Q.refetch()}catch(Le){console.error("Failed to reload subscriptions:",Le)}}else ne.errorMessage&&de.popToast(Le=>{var Re;return(0,t.h)(p.FN,T(O({},Le),{text:(Re=ne.errorMessage)!=null?Re:""}))});ee(null)}),ve=oe&&!ue||ue==="subscribing";return{showCta:!!G&&(!ce||Q.hasLoadedOnce)&&!(ce&&ce.id===(F==null?void 0:F.id))&&(!oe||ae||ue==="unsubscribing"),isSubscribed:ve,hasPublication:!!G,subscribe:se,unsubscribe:fe,toggle:ve?fe:se}}function S(G){var re;const $=(0,d.Th)(),F=(0,C.aF)();if((F==null?void 0:F.id)===G)return"subscribed";const{result:Z}=$;if(!Z)return null;const{subscriptions:q,publicationUsers:V}=Z;for(const Y of V)if(["admin","contributor"].includes(Y.role)&&U(G,Y.publication_id,$))return"subscribed";let j=null;for(const Y of q)U(G,Y.publication_id,$)&&(j=(re=(0,P.P)(Y.membership_state,j)?Y.membership_state:j)!=null?re:null);return j}function N(G,re,$,{allowSecondaryPublications:F}={}){if(!G||!re||!$.hasLoadedOnce||!$.result)return!1;const{subscriptions:Z,publicationUsers:q}=$.result;if(F){for(const V of Z)if(V.membership_state!=="unsubscribed"&&U(re.id,V.publication_id,$))return!0;for(const V of q)if(["admin","contributor"].includes(V.role)&&U(re.id,V.publication_id,$))return!0}return!1}function R(G,re,$){if(!G||!re||!$.hasLoadedOnce||!$.result)return!1;const F=$.result.subscriptionMap.get(re);if(F&&F.membership_state!=="unsubscribed")return!0;const Z=$.result.publicationUserMap.get(re);return!!(Z&&["admin","contributor"].includes(Z.role))}function U(G,re,$){if($.isLoading||!$.result)return!1;const F=$.result.publicationMap.get(re);if(F){if(F.author_id===G)return!0;for(const Z of F.contributors)if(Z.user_id===G)return!0}return!1}function W(G,re){return I(this,arguments,function*($,F,{publication:Z,user:q,sourceNoteId:V}={}){let j=!1,Y;if(q)try{(yield(0,u.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:$,email:q.email,source:F,noWelcomeEmail:!0,sourceNoteId:V,first_url:g.xY,first_referrer:g.ip,current_url:g.UE,current_referrer:g.xU}})).requires_confirmation?Y="Check your email to confirm subscription":j=!0}catch(ie){console.error(ie),Y="Failed to subscribe"}else if(!q){if(!Z)try{Z=yield(0,u.rd)(`/api/v1/reader/publication/${$}`)}catch(ie){console.error(ie)}if(Z){const ie=(0,y.getSubscribeUrl)(Z,{addBase:!0,user:q!=null?q:void 0});window.open(ie,"_blank")}}return{didAction:j,errorMessage:Y}})}function K(G,re){return I(this,null,function*(){let $=!1,F;try{yield(0,u.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:G,email_disabled:!0,digest_enabled:!1,disable_all:!0,receive_podcast_emails:!1,source:re}}),$=!0}catch(Z){console.error(Z),F="Failed to unsubscribe"}return{didAction:$,errorMessage:F}})}},57397:(H,E,e)=>{"use strict";e.d(E,{dD:()=>C,bq:()=>u});var t=e(6400),f=e(20501),s=e(83322);const g=({x:i,y:v,fill:O="#000"})=>h("g",{xmlns:"http://www.w3.org/2000/svg",transform:`translate(${i},${v})`,width:"16",height:"20",fill:"none"},h("path",{fill:O,"fill-opacity":".2","fill-rule":"evenodd",d:"M0 .552C0 .247.247 0 .552 0h14.896c.305 0 .552.247.552.552v1.596H0V.552Zm0 3.745h16v2.148H0V4.297Zm0 4.297V18.95c0 .444.498.706.864.455l6.823-4.692a.552.552 0 0 1 .626 0l6.823 4.692A.552.552 0 0 0 16 18.95V8.594H0Z","clip-rule":"evenodd"})),P=({color:i,width:v,height:O})=>h("svg",{version:"1.1",width:v,height:O,viewBox:"0 0 21 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("g",{xmlns:"http://www.w3.org/2000/svg",opacity:"0.5"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 0 0 h 21 v 2.5781 h -21 v -2.5781 z m 0 5.1562 h 21 v 2.5782 h -21 v -2.5782 z m 0 5.1563 v 13.6875 l 10.5 -7.25 l 10.5 7.25 v -13.6875 h -21 z",fill:i}))),y=null;var C=(i=>(i.ARR10K="arr10k",i.ARR1K="arr1k",i))(C||{}),i))(u||{});const p="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",d="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",w=24,D=({width:i,height:v,otherCss:O})=>`
  @import url('${p}');
  @import url('${d}');
  body { 
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 14px;
    line-height: 20px;
    font-weight: 700;
    color: rgba(51, 51, 51, 1);
    margin: 0;
  }
  .container {
    width: ${i-w*2}px;
    height: ${v-w*2}px;
    padding: ${w}px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: absolute;
    top: 0;
    overflow: hidden;
  }
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .copy {
    width: 300px;
  }
  h1 {
    font-weight: 800; 
    font-size: 30px;
    line-height: 36px;
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    color: rgba(51, 51, 51, 1);
  }
  p {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-weight: 400;
  }
  .content {
    width: ${i-w*2};
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .footer {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
  }
  .pub-url {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 9px;
    font-weight: 590;
    line-height: 11px;
    letter-spacing: 0.2px;
    text-align: left;
    opacity: 0.5;
    text-transform: uppercase;
  }
  ${O}
    `,M=({css:i})=>h("head",null,h("style",null,i.replace(/\n|\r/g,""))),c=({milestone:i,height:v,width:O,pub:T})=>{const I=getByLine(T);let L,S,N;switch(i){case"arr1k":L="1,000",S=`${getBaseUrl()}/img/milestone_assets/pencil-uprising.png`,N=`
  .content {
    margin-top: ${v===O?"6px":"126px"};
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/arr-1k-${v===O?"square":"stories"}-bg.png);
  }
  h1 {
    width: 278px;
  }
  p {
    width: 278px;
  }
  img {
    width: 149px;
  }
`;break;case"arr10k":L="10,000",S=v===O&&`${getBaseUrl()}/img/milestone_assets/friends.png`,N=`
  .content {
    margin-top: ${v===O?"-6px":"301px"};
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/arr-10k-${v===O?"square":"stories"}-bg.png);
  }
  h1 {
    width: 297px;
  }
  ${v===O?`p {
    width: 278px;
  }`:""}
  img {
    width: 180px;
  }
`;break}const R=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-top: ${v===O?"16px":"0"};
    margin-bottom: 0;
  }
  p {
    ${v===O?`font-size: 18px;
    line-height: 24px;
    letter-spacing: -0.45px;`:`font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;`}
    margin-top: ${v===O?"16px":"24px"};
    margin-bottom: 0;
  }
  ${v===O?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${N}
  `,U=D({width:O,height:v,otherCss:R}),W=getBaseUrl(T).split("/").slice(-1)[0];return h("html",null,h(M,{css:U}),h("body",null,h("div",{className:"container"},h("div",{className:"content"},S?h("img",{src:S}):null,h("div",{className:"copy"},h("h1",null,"You made your first $",L),h("p",null,O===v?"":"Thanks to direct support from readers, ",T.name,I?` by ${I}`:""," has made its first $",L," in annual subscription revenue."))),h("div",{className:"footer"},h("span",{className:"pub-url"},W),h(SubstackLogoSvg,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))},l=({milestone:i,height:v,width:O,pub:T})=>{const I=getByLine(T);let L,S,N,R;switch(i){case"list100":L="100",S="hundred",R=`
  .copy {
    margin-top: ${v===O?"151px":"298px"};
  }
  h1 {
    margin-top: 0;
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/subs-100-${v===O?"square":"stories"}-bg.png);
  }
`;break;case"list1k":L="1,000",S="thousand",N=`${getBaseUrl()}/img/milestone_assets/chairs.png`,R=`
  .content {
    margin-top: ${v===O?"38px":"151px"};
  }
  .container {
    background-image: url(${getBaseUrl()}/img/milestone_assets/subs-1k-${v===O?"square":"stories"}-bg.png);
  }
  h1 {
    margin-top: ${v===O?"16px":"24px"};
  }
  img {
    width: ${v===O?"128px":"165px"};
  }
`;break}const U=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-bottom: 0;
  }
  p {
    margin-top: ${v===O?"16px":"24px"};
    margin-bottom: 0;
    font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;
  }
  ${v===O?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${R}
  `,W=D({width:O,height:v,otherCss:U}),K=getBaseUrl(T).split("/").slice(-1)[0];return h("html",null,h(M,{css:W}),h("body",null,h("div",{className:"container"},h("div",{className:"content"},N?h("img",{className:"chairs",src:N}):null,h("div",{className:"copy"},h("h1",null,L," subscribers"),h("p",null,"You did it. ",T.name,I?` by ${I}`:""," has reached its first ",S," subscribers."))),h("div",{className:"footer"},h("span",{className:"pub-url"},K),h(SubstackLogoSvg,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))}},79675:(H,E,e)=>{"use strict";e.d(E,{L:()=>D});var t=e(6400),f=e(30396),s=e(25346),g=e(28488),P=e(13045),y=e(21288),C=e(26494),u=e(1622),p=e(6385),d=e(83322);const w={"preview-label-container":"frontend-shows-NotesVideoPlayer-module__preview-label-container--QHrI8"},D=({disableAutoPlay:M=!1,isFreeSubscribed:c,isSubscribed:l,mediaUpload:i,post:v,pub:O,rounded:T,startMuted:I})=>{var L,S;const{iString:N}=(0,g.M1)(),[R,U]=(0,f.eJ)(!1),W=(0,f.sO)(null),K=(0,p.isPaidAudience)(v.audience)&&!l,G=((L=i.preview_duration)!=null?L:0)>0,re=K&&(!G||R);(0,y.KS)({videoPlayerRef:W,showPaywall:re,disable:M});const $=()=>{var F;(F=W.current)!=null&&F.player&&(U(!1),W.current.player.currentTime=0,W.current.player.play())};return(0,t.h)(P.xu,{overflow:"hidden",position:"relative",radius:T?6:void 0,onClick:F=>{F.stopPropagation(),F.preventDefault()}},(0,t.h)(s.Z,{ref:W,doNotResetOnEnd:!0,hidePlayButton:re,mediaUpload:i,noControls:re&&!K,post:v,pub:O,startMuted:I,onFinishVideo:()=>{U(!0)}}),G&&!re&&!l&&(0,t.h)("div",{className:w["preview-label-container"]},(0,t.h)(u.l,null,N("Preview")," \u2022 ",(0,d.secondsToHHMMSS)((S=i.preview_duration)!=null?S:0))),re&&(0,t.h)(C.Y,{post:v,pub:O,isFreeSubscribed:c,variant:"video",onRestart:G?$:void 0}))}},67256:(H,E,e)=>{"use strict";e.d(E,{Fb:()=>N,lU:()=>S});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(68919),y=e(28488),C=e(3313),u=e(25018),p=e(13045),d=e(3198),w=e(72921),D=e(41785),M=e(26494),c=e(1622),l=e(80134),i=e(42208),v=e(74806),O=e(6385),T=e(31163),I=e(88711),L=e(57556);const S=({isFreeSubscribed:K,isSubscribed:G,isTesting:re,post:$,pub:F,section:Z,variant:q})=>{const[V,j]=(0,f.eJ)(!1),Y=(0,f.sO)(null),ie=!G&&(0,O.isPaidAudience)($.audience);if(!$.podcastUpload)return null;const ce=(0,C.lp)({post:$}),de=$.podcastUpload.is_free_preview||(0,v.hasFreePodcastUrl)({post:$}),z=!ce&&ie&&(V||!de&&q!=="notes-embed")&&!(0,v.hasFreePodcastUrl)({post:$}),Q=()=>{var ae;(ae=Y.current)!=null&&ae.player&&(j(!1),Y.current.player.currentTime=0,Y.current.player.play())};return(0,t.h)(t.Fragment,null,(0,t.h)(W,{audioFileUrl:$.podcast_url,audioPlayerRef:Y,metricsPost:$,hidePreviewUI:ce,paywallComponent:z?(0,t.h)(M.Y,{inlineIcon:q==="notes-embed",isFreeSubscribed:K,post:$,pub:F,variant:"audio",onRestart:de?Q:void 0}):void 0,podcastDuration:$.podcast_duration,podcastUpload:$.podcastUpload,post:$,postId:$.id,postTitle:$.title,pub:F,section:Z,showPaidLabel:ie&&!de,variant:q,onFinishAudio:()=>{j(!0)}}),re&&(0,t.h)("button",{onClick:()=>{j(!0)}},"finish audio"))},N=({audioPlayerRef:K,hasPaywall:G,feedUrl:re,isPrivateFeed:$,isServingFreePodcastUrl:F,post:Z,pub:q,section:V,ufiComponent:j,user:Y})=>{const[ie,ce]=(0,f.eJ)(!1);if(!Z.podcastUpload)return null;const de=(0,C.lp)({post:Z}),z=Z.podcastUpload.is_free_preview||(0,v.hasFreePodcastUrl)({post:Z}),Q=!de&&G&&(!z||ie)&&!(0,v.hasFreePodcastUrl)({post:Z}),ae=()=>{var te;(te=K.current)!=null&&te.player&&(ce(!1),K.current.player.currentTime=0,K.current.player.play())};return(0,t.h)(W,{audioFileUrl:Z.podcast_url,audioPlayerRef:K,feedUrl:re,hidePreviewUI:de,isPrivateFeed:$,isServingFreePodcastUrl:F,metricsPost:Z,paywallComponent:Q?(0,t.h)(M.Y,{isFreeSubscribed:!!(Y!=null&&Y.is_free_subscribed),post:Z,pub:q,variant:"audio",onRestart:z?ae:void 0}):void 0,podcastDuration:Z.podcast_duration,podcastUpload:Z.podcastUpload,post:Z,postId:Z.id,postTitle:Z.title,pub:q,section:V,ufiComponent:j,user:Y,variant:"episode-page",onFinishAudio:()=>{ce(!0)}})},R=({audioFileUrl:K,hasFreePodcastUrlSet:G,postTitle:re,podcastDuration:$,podcastPreviewUpload:F,podcastUpload:Z,pub:q,section:V,editComponent:j})=>h(W,{audioFileUrl:K,hasFreePodcastUrlSet:G,metricsPost:null,hidePreviewUI:!1,postId:null,postTitle:re,podcastDuration:$,podcastPreviewUpload:F,podcastUpload:Z,post:null,pub:q,section:V,variant:"editor",editComponent:j}),U={"episode-page":400,editor:320,"notes-embed":160,"notes-full":250},W=({audioFileUrl:K,audioPlayerRef:G,feedUrl:re,hasFreePodcastUrlSet:$,hidePreviewUI:F,hideUfi:Z,isPrivateFeed:q,isServingFreePodcastUrl:V,metricsPost:j,postId:Y,postTitle:ie,podcastDuration:ce,pub:de,podcastUpload:z,section:Q,showPaidLabel:ae,podcastPreviewUpload:te,post:oe,ufiComponent:ue,editComponent:ee,paywallComponent:le,variant:se,user:fe,onFinishAudio:ve})=>{var ge,be;const{isMobile:ne}=(0,u.v9)(),{iString:me}=(0,y.M1)(),Le=Q?(ge=Q.podcastPalette)!=null?ge:null:(be=de.podcastPalette)!=null?be:null,{title:Re,backgroundUrl:Me,artUrl:Ee}=(0,i.Mv)({pub:de,podcastUpload:z,section:Q,thumbnailInfo:z!=null&&z.full_podcast_info&&Y?{post_id:Y,media_upload_id:z.full_podcast_info.media_upload_id,thumbnail_id:z.full_podcast_info.thumbnail_id}:null}),we=U[se],Te=ne||se==="notes-embed",De=!!le,Be=Ee===Me,Ke=!!ee,tt=(z==null?void 0:z.is_free_preview)||te;return(0,t.h)(P.Z,{ref:G,duration:ce,metricsPost:j,src:K,preventSnappingToCurrentTime:!0,pub:de,updateOnEveryFrame:ce<5*60,onFinishAudio:ve,render:({currentTime:Ot,dragTime:et,isPlaying:it,playbackRate:bt,progress:xe,progressBarRef:Oe,progressBarOnMouseDown:Ie,remainingTime:We,setPlaybackRate:Ge,skipBack:Xe,skipForward:st,togglePlayback:qe})=>{var Ze;return(0,t.h)(p.xu,{position:"relative",style:{minHeight:ne?Math.min(200,we):we}},(0,t.h)(I.z,{backgroundUrl:Me,blurAmount:se==="notes-embed"?40:120,isBlurred:Be,palette:Le}),(0,t.h)(p.tu,{position:"absolute",inset:0,justifyContent:Te?"space-between":void 0},(0,t.h)(p.gq,{alignItems:"stretch",flex:Te?void 0:"grow",justifyContent:"space-between"},(!Te||!De)&&(0,t.h)(p.xu,{padding:Te||se==="notes-full"?16:24,paddingBottom:se==="notes-embed"?0:void 0,overflow:"hidden"},(0,t.h)(d.o,{isDisabled:De,pub:de,section:Q,post:oe,postTitle:ie,showUpgradeButton:V,showTitle:Re,user:fe,variant:se==="notes-embed"?"notes-embed":ne||se==="notes-full"?"mini":"regular"})),!Te&&!De&&!Z&&ue&&(0,t.h)(p.gq,{alignItems:"center",paddingX:24},ue),ee!=null?ee:null),!De&&se!=="notes-embed"&&(0,t.h)(p.tu,{paddingX:16,position:Te?void 0:"absolute",className:g()({[L.Z.controlsCentered]:!Te})},(0,t.h)(D.n,{audioFileUrl:K,feedUrl:re,isPlaying:it,isPrivateFeed:!!q,playbackRate:bt,sectionId:Q?Q.id:null,user:fe,onChangePlaybackRate:Ge,onSkipBack:Xe,onSkipForward:st,onTogglePlayback:qe})),(!Te||!De)&&(0,t.h)(p.gq,{className:g()(L.Z.track),alignItems:"center",gap:16,opacity:De?20:void 0,padding:Te||se==="notes-full"?16:24,paddingTop:se==="notes-embed"?8:void 0,pointerEvents:De?"none":void 0,onClick:mt=>{ae||(mt.stopPropagation(),mt.preventDefault())}},tt&&Ke&&te&&(0,t.h)(c.l,null,(0,T.DL)((Ze=te.duration)!=null?Ze:0)),tt&&!F&&!Ke&&(0,t.h)(c.l,null,me("Preview")),ae&&(0,t.h)(c.l,null,me("Paid")),$&&(0,t.h)(c.l,null,me("Free url set")),(0,t.h)(l.w,{containerRef:Oe,currentTime:Ot,dragTime:et,hideStartingTimestamp:ne,progress:xe,remainingTime:We,onMouseDown:Ie}),se==="notes-embed"&&(0,t.h)(w.D,{isPlaying:it,size:42,onTogglePlayback:qe}))),le)}})}},41785:(H,E,e)=>{"use strict";e.d(E,{n:()=>Z});var t=e(6400),f=e(97737),s=e(14846),g=e(25018),P=e(13045),y=e(72921),C=e(30396),u=e(80587),p=e(71212),d=e(51043),w=e(45609),D=e(67358),M=e(80569),c=e.n(M),l=e(86575),i=e(28488),v=e(3258),O=e(39776),T=e(17025),I=e(70925),L=e(18302),S=e(42208),N=e(52743);const R={icon:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__icon--M7qmF",popoverContainer:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__popoverContainer--GlAZR",popoverLayer:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__popoverLayer--zYMWv",dropdownItem:"frontend-shows-audio_player-ShowsAudioPlayerMoreOptions-module__dropdownItem--J_h5G"};var U=(q,V,j)=>new Promise((Y,ie)=>{var ce=Q=>{try{z(j.next(Q))}catch(ae){ie(ae)}},de=Q=>{try{z(j.throw(Q))}catch(ae){ie(ae)}},z=Q=>Q.done?Y(Q.value):Promise.resolve(Q.value).then(ce,de);z((j=j.apply(q,V)).next())});const W=({audioFileUrl:q,feedUrl:V,isPrivateFeed:j,sectionId:Y,user:ie})=>(0,t.h)(I.J,{className:R.popoverContainer,layerClassName:R.popoverLayer,content:(0,t.h)(K,{audioFileUrl:q,feedUrl:V,isPrivateFeed:j,sectionId:Y,user:ie}),preferPlacement:"bottom-start"},(0,t.h)(u.Z,{className:R.icon,size:24})),K=({audioFileUrl:q,feedUrl:V,isPrivateFeed:j,sectionId:Y,user:ie})=>{const{iString:ce}=(0,i.M1)(),[de,z]=(0,C.eJ)(!1),[Q,ae]=(0,C.eJ)(null),te=(0,O.default)(L.mj),oe=()=>U(void 0,null,function*(){try{(0,v.track)(v.EVENTS.PODCAST_EMAIL_LINK_CLICKED),yield c().post("/api/v1/subscription/send_podcast_email").send({section_id:Y}),(0,l.ZP)(ce("Email sent")),z(!0)}catch(ee){ae(ee)}}),ue=()=>{(0,v.track)(v.EVENTS.PODCAST_FEED_URL_COPIED),(0,T.copyToClipboard)(V),(0,l.ZP)(ce("RSS feed copied"))};return(0,t.h)(P.xu,{style:{maxWidth:285}},(0,t.h)(P.tu,{gap:4},q&&!te&&(0,t.h)(G,{icon:(0,t.h)(p.Z,{size:16}),onClick:()=>{(0,T.downloadSrc)((0,N.updateQuery)(q,{download:!0}))}},ce("Download MP3")),V&&(0,t.h)(G,{icon:(0,t.h)(d.Z,{size:16}),onClick:ue},ce(j?"Your private RSS feed":"RSS feed"))),ie&&V&&(0,t.h)(t.Fragment,null,(0,t.h)(P.iz,{paddingY:8,priority:"detail-themed"}),(0,t.h)(P.tu,{gap:12,padding:8},(0,t.h)(P.xv.B4,{color:"pub-primary-text"},ce("Copy your RSS link and paste it in your podcast app.")," ",(0,t.h)(re,null)),(0,t.h)(P.gq,{gap:8},(0,t.h)(P.zx,{fill:"outline",leftIcon:(0,t.h)(w.Z,{size:16}),priority:"secondary-theme",onClick:ue},ce("Copy link")),(0,t.h)(P.zx,{disabled:de,fill:"outline",leftIcon:(0,t.h)(D.Z,{size:16}),priority:"secondary-theme",onClick:oe},ce("Email link"))),Q&&(0,t.h)(P.xv.B4,{color:"error"},(0,T.getNetworkErrorMessage)(Q)))))},G=({children:q,icon:V,onClick:j})=>(0,t.h)(P.gq,{className:R.dropdownItem,alignItems:"center",color:"pub-primary-text",gap:12,padding:12,radius:6,onClick:j},V,(0,t.h)(P.xv.B4,{color:"pub-primary-text"},q)),re=()=>{const{iString:q}=(0,i.M1)();return(0,t.h)(P.xv.B4,{as:"a",href:S.ty,target:"_blank",rel:"noopener",color:"pub-accent"},q("Learn about RSS."))},$={"skip-button":"frontend-shows-ShowsAudioPlayerControls-module__skip-button--r2btg","skip-icon":"frontend-shows-ShowsAudioPlayerControls-module__skip-icon--dNKKv",playbackRate:"frontend-shows-ShowsAudioPlayerControls-module__playbackRate--_YZ0U"},F=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],Z=({audioFileUrl:q,feedUrl:V,isPlaying:j,isPrivateFeed:Y,playbackRate:ie,sectionId:ce,user:de,onChangePlaybackRate:z,onSkipBack:Q,onSkipForward:ae,onTogglePlayback:te})=>{const{isMobile:oe}=(0,g.v9)(),ue=oe?28:32,ee=F.findIn=ie);return(0,t.h)(P.gq,{gap:20,alignItems:"center",justifyContent:"space-between"},(0,t.h)(P.gq,{style:{width:60},justifyContent:"center",onClick:()=>{const le=(ee+1)%F.length;z(F[le].value)}},(0,t.h)(P.xv,{className:$.playbackRate,color:"always-white",font:"text",fontSize:18,fontWeight:"medium"},F[ee].display,"\xD7")),(0,t.h)(P.gq,{gap:oe?20:32,alignItems:"center"},Q&&(0,t.h)("div",{onClick:Q,role:"button",className:$["skip-button"]},(0,t.h)(f.Z,{className:$["skip-icon"],height:ue})),(0,t.h)(y.D,{size:oe?56:80,isPlaying:j,onTogglePlayback:te}),ae&&(0,t.h)("div",{onClick:ae,role:"button",className:$["skip-button"]},(0,t.h)(s.Z,{className:$["skip-icon"],height:ue}))),(0,t.h)(P.gq,{style:{width:60},justifyContent:"center",alignItems:"center"},(0,t.h)(W,{audioFileUrl:q,feedUrl:V,isPrivateFeed:Y,sectionId:ce,user:de})))}},19541:(H,E,e)=>{"use strict";e.d(E,{p:()=>p});var t=e(6400),f=e(94184),s=e.n(f),g=e(39493),P=e(13045),y=e(42208),C=e(6385);const u={"pub-logo":"frontend-shows-ShowsLogo-module__pub-logo--zPfoI","pub-logo--32":"frontend-shows-ShowsLogo-module__pub-logo--32--IDGlz","pub-logo--48":"frontend-shows-ShowsLogo-module__pub-logo--48--pzn1F","pub-logo--56":"frontend-shows-ShowsLogo-module__pub-logo--56--eB4_7","pub-logo--76":"frontend-shows-ShowsLogo-module__pub-logo--76--onTj6","pub-logo--border-white":"frontend-shows-ShowsLogo-module__pub-logo--border-white--M6zQh"},p=({border:d,isStatic:w,post:D,pub:M,section:c,size:l=48,url:i,user:v,useSection:O})=>{const{artUrl:T,paidArtUrl:I,url:L}=(0,y.Mv)({pub:M,section:c,useSection:O}),S=(0,C.shouldShowPaidPodcastArt)({post:D,user:v}),N=(0,P.yK)({shadow:"lg"});return(0,t.h)(g.Z,{className:s()(N,u["pub-logo"],{[u["pub-logo--32"]]:l===32,[u["pub-logo--48"]]:l===48,[u["pub-logo--56"]]:l===56,[u["pub-logo--76"]]:l===76,[u["pub-logo--border-white"]]:d==="white"}),href:i!=null?i:L,isStatic:w,pub:M,logo_url:S&&I!=null?I:T,noMargin:!0,size:l})}},26494:(H,E,e)=>{"use strict";e.d(E,{Y:()=>l});var t=e(6400),f=e(30396),s=e(94184),g=e.n(s),P=e(13639),y=e(25425),C=e(28488),u=e(3258),p=e(25018),d=e(13045),w=e(74806),D=e(52743),M=e(59009);const c={"container--audio":"frontend-shows-ShowsMediaPaywall-module__container--audio--C5WH2","container--video":"frontend-shows-ShowsMediaPaywall-module__container--video--DMiCz","container--animated":"frontend-shows-ShowsMediaPaywall-module__container--animated--KSvbo","container--animated-in":"frontend-shows-ShowsMediaPaywall-module__container--animated-in--bizfq","icon-container":"frontend-shows-ShowsMediaPaywall-module__icon-container--FO2D_","content-top":"frontend-shows-ShowsMediaPaywall-module__content-top--XWrzK","content-bottom":"frontend-shows-ShowsMediaPaywall-module__content-bottom--CjD4d",inlineIconContainer:"frontend-shows-ShowsMediaPaywall-module__inlineIconContainer--FfHru","restart-button":"frontend-shows-ShowsMediaPaywall-module__restart-button--m9bIg"},l=({inlineIcon:i,isFreeSubscribed:v,post:O,pub:T,variant:I,onRestart:L})=>{var S;const{iString:N,iTemplate:R}=(0,C.M1)(),{isMobile:U}=(0,p.v9)(),[W,K]=(0,f.eJ)(!1),G=!!L,re=(S=(0,w.getFoundingTierName)(T))!=null?S:"Founding Member",$=O.audience==="founding"?R`${re} episode`:N("Paid episode"),F=O.audience==="founding"?R`The full episode is only available to ${re} subscribers`:R`The full episode is only available to paid subscribers of ${T.name}`,Z=N(I==="video"?"Subscribe to watch":"Subscribe to listen"),q=N(I==="video"?"Upgrade to watch":"Upgrade to listen");return(0,f.d4)(()=>{(0,u.track)(u.EVENTS.FREE_PREVIEW_PAYWALL_SHOWN,{post_id:O.id})},[O.id]),(0,f.0)},[G]),(0,t.h)(d.gq,{className:g()(c.container,{[c["container--video"]]:I==="video",[c["container--audio"]]:I==="audio",[c["container--animated"]]:G,[c["container--animated-in"]]:W}),inset:0,justifyContent:"center",alignItems:"center",position:"absolute",onCl()},"data-testid":"paywall"},(0,t.h)(d.tu,{alignItems:"center",gap:U?12:16,paddingX:24},(0,t.h)(d.tu,{alignItems:"center",className:c["content-top"],gap:U?12:16},!i&&(0,t.h)(d.gq,{className:c["icon-container"],alignItems:"center",color:"always-white",justifyContent:"center",radius:6},(0,t.h)(P.Z,{size:U?16:24})),(0,t.h)(d.tu,{alignItems:"center",gap:U?0:4},(0,t.h)(d.gq,{alignItems:"center",gap:8},i&&(0,t.h)(d.gq,{className:c.inlineIconContainer,alignItems:"center",justifyContent:"center",radius:6},(0,t.h)(P.Z,{size:16})),(0,t.h)(d.xv.B3,{as:"h3",color:"always-white",weight:"semibold"},$)),(0,t.h)(d.xv.B4,{color:"always-white",opacity:80,textAlign:"center"},F))),(0,t.h)(d.gq,{className:c["content-bottom"],gap:16},L&&(0,t.h)(d.zx,{className:c["restart-button"],fill:"outline",onClick:()=>{(0,u.track)(u.EVENTS.FREE_PREVIEW_PAYWALL_RESTART_BUTTON_CLICKED,{post_id:O.id}),L()}},(0,t.h)(d.gq,{alignItems:"center",gap:12},(0,t.h)(y.Z,{size:16}),N("Restart"))),(0,t.h)(d.zx,{priority:"primary-theme",localNavigation:!1,href:(0,D.getCheckoutUrl)(T,{simple:!0,next:document.location.href,utm_source:M.UTM_SOURCE.showsPaywall,utm_medium:M.UTM_MEDIUM.web,utm_content:O.id})},v?q:Z))))}},1622:(H,E,e)=>{"use strict";e.d(E,{l:()=>g});var t=e(6400),f=e(13639),s=e(13045);const g=({children:P})=>(0,t.h)(s.gq,{alignItems:"center",bg:"glass-inverted-medium",color:"always-white",gap:8,paddingY:4,paddingX:8,radius:6,"data-testid":"audio-player-preview-label"},(0,t.h)(f.Z,{size:12}),(0,t.h)(s.xv.Meta,{color:"always-white"},P))},80134:(H,E,e)=>{"use strict";e.d(E,{w:()=>g});var t=e(6400),f=e(13045);const s={timestamp:"frontend-shows-ShowsProgressBar-module__timestamp--zfIYN","track-container":"frontend-shows-ShowsProgressBar-module__track-container--VvwNH",track:"frontend-shows-ShowsProgressBar-module__track--xj70O","track-played":"frontend-shows-ShowsProgressBar-module__track-played--y34h2","track-drag-time":"frontend-shows-ShowsProgressBar-module__track-drag-time--JHDBk","track-handle":"frontend-shows-ShowsProgressBar-module__track-handle--fK9DR"},g=({containerRef:P,currentTime:y,dragTime:C,hideStartingTimestamp:u,remainingTime:p,progress:d,onMouseDown:w})=>(0,t.h)(f.gq,{alignItems:"center",flex:"grow",gap:12},!u&&(0,t.h)(f.xv.Meta,{className:s.timestamp,color:"always-white"},y),(0,t.h)("div",{ref:P,className:s["track-container"],onMouseDown:w},(0,t.h)("div",{className:s.track}),(0,t.h)("div",{className:s["track-played"],style:{width:`${d*100}%`}}),C&&(0,t.h)(f.xv.Meta,{className:s["track-drag-time"],style:{left:`${d*100}%`}},C),(0,t.h)("div",{className:s["track-handle"],style:{left:`${d*100}%`}})),(0,t.h)(f.xv.Meta,{className:s.timestamp,color:"always-white"},p))},88711:(H,E,e)=>{"use strict";e.d(E,{z:()=>D});var t=e(6400),f=e(52032),s=e(13045),g=e(52743);const P={backgroundImage:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundImage--vzN4e",backgroundBlur:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundBlur--D2m4F",backgroundDarkenRight:"frontend-shows-audio_player-AudioPlayerBackground-module__backgroundDarkenRight--kd2vp"};var y=Object.defineProperty,C=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(c,l,i)=>l in c?y(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i,w=(c,l)=>{for(var i in l||(l={}))u.call(l,i)&&d(c,i,l[i]);if(C)for(var i of C(l))p.call(l,i)&&d(c,i,l[i]);return c};const D=({backgroundUrl:c,blurAmount:l,isBlurred:i,palette:v})=>(0,t.h)(t.Fragment,null,c&&(0,t.h)(M,{className:P.backgroundImage,style:c?{backgroundImage:`url(${(0,g.imginary)(c)})`}:void 0}),i&&(0,t.h)(M,{style:w({WebkitBackdropFilter:`blur(${l}px) brightness(0.85)`,backdropFilter:`blur(${l}px) brightness(0.85)`},(0,f.Z)({palette:v,withDefault:!1}))}),!i&&(0,t.h)(M,{className:P.backgroundDarkenRight})),M=(0,s.E7)({position:"absolute",inset:0,radius:12})},3198:(H,E,e)=>{"use strict";e.d(E,{o:()=>O});var t=e(6400),f=e(2564),s=e(28488),g=e(13045),P=e(19541),y=e(52743),C=e(59009);const u={header:"frontend-shows-audio_player-AudioPlayerHeader-module__header--GSsGB"};var p=Object.defineProperty,d=Object.defineProperties,w=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(T,I,L)=>I in T?p(T,I,{enumerable:!0,configurable:!0,writable:!0,value:L}):T[I]=L,i=(T,I)=>{for(var L in I||(I={}))M.call(I,L)&&l(T,L,I[L]);if(D)for(var L of D(I))c.call(I,L)&&l(T,L,I[L]);return T},v=(T,I)=>d(T,w(I));const O=({isDisabled:T,post:I,postTitle:L,pub:S,section:N,showTitle:R,showUpgradeButton:U,user:W,variant:K})=>{const{iString:G}=(0,s.M1)();return(0,t.h)(g.gq,{className:u.header,alignItems:"center",alignSelf:"start",gap:K==="mini"?12:16,opacity:T?20:void 0,pointerEvents:T?"none":void 0},(0,t.h)(P.p,{post:I,pub:S,section:N,size:K==="mini"?32:76,user:W}),(0,t.h)(g.tu,{minWidth:0},K!=="mini"&&(0,t.h)(g.xv.Meta,{color:"always-white",ellipsis:!0,overflow:"hidden",opacity:K==="notes-embed"?50:80},R),(0,t.h)(g.xv.B3,v(i({color:"always-white",ellipsis:!0,overflow:"hidden",weight:"semibold"},K==="mini"?{size:14,lineHeight:20}:null),{style:{maxWidth:460}}),L),U&&K!=="mini"&&(0,t.h)(g.gq,{paddingTop:8},(0,t.h)(g.zx,{"data-testid":"free-podcast-url-cta",localNavigation:!1,href:(0,y.getCheckoutUrl)(S,{simple:!0,next:document.location.href,utm_source:C.UTM_SOURCE.showsAudioPlayerHeader,utm_medium:C.UTM_MEDIUM.web,utm_content:I==null?void 0:I.id}),size:"small"},G("Listen ad-free"))),K==="notes-embed"&&(0,t.h)(g.gq,{alignItems:"center",gap:4},(0,t.h)(g.xv.B4,{opacity:50,color:"always-white",translated:!0},"View post"),(0,t.h)(f.Z,{style:{opacity:.5,color:"#fff"},size:16}))))}},72921:(H,E,e)=>{"use strict";e.d(E,{D:()=>y});var t=e(6400),f=e(97864),s=e(13045);const g={playButton:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__playButton--iBWFV",playButtonIcon:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__playButtonIcon--QwItT",pauseIcon:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__pauseIcon--Sw4O_",pauseIconBar:"frontend-shows-audio_player-AudioPlayerPlayPauseButton-module__pauseIconBar--iUfyi"},P={40:12,42:16,56:18,80:24},y=({isPlaying:C,isStatic:u,size:p,onTogglePlayback:d})=>{const w=P[p];return(0,t.h)(s.hs,{bg:"glass-thick",className:g.playButton,alignItems:"center",justifyContent:"center",onClick:d,style:{width:p,height:p},role:"button"},C?(0,t.h)("div",{className:g.pauseIcon,style:{width:w,height:w}},(0,t.h)("div",{className:g.pauseIconBar}),(0,t.h)("div",{className:g.pauseIconBar})):(0,t.h)(f.Z,{className:g.playButtonIcon,height:w,isStatic:u,fill:u?"#000":void 0,stroke:"none"}))}},8826:H=>{"use strict";H.exports=cl{}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,t,f=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([t,f]),t0)}off(e,t){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].fil==t))}emit(e,t){const f=this.callbacks[e];if(f){for(const[s,g]of f)if(g&&this.off(e,s),s(t)===!1)return!1;return!0}}}},63503:(H,E,e)=>{"use strict";e.d(E,{Z:()=>s});var t=e(30396);const s=(g,P)=>{const y=(0,t.sO)();(0,t.=g},[g]),(0,t.d4)((()}if(P!==null){const u=setInterval(C,P);return()=>clearInterval(u)}},[P])}},72496:(H,E,e)=>{"use strict";e.d(E,{UE:()=>p,ip:()=>u,xU:()=>d,xY:()=>C});var t=e(79546),f=e.n(t);const s="substack_ref_url",g="substack_ref";let P,y;typeof window!="undefined"&&window.location&&window.location.href&&(P=window.location.href,y=document.referrer,f().get(s)||(f().set(s,P),f().set(g,y)));const C=f().get(s),u=f().get(g),p=P,d=y},37888:(H,E,e)=>{"use strict";e.d(E,{j0:()=>j});var t=e(7436),f=e.n(t),s=e(62195),g=e.n(s),P=e(39627),y=e.n(P),C=e(8728),u=e.n(C),p=Object.defineProperty,d=Object.defineProperties,w=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(ie,ce,de)=>ce in ie?p(ie,ce,{enumerable:!0,configurable:!0,writable:!0,value:de}):ie[ce]=de,i=(ie,ce)=>{for(var de in ce||(ce={}))M.call(ce,de)&&l(ie,de,ce[de]);if(D)for(var de of D(ce))c.call(ce,de)&&l(ie,de,ce[de]);return ie},v=(ie,ce)=>d(ie,w(ce));const O=g().createStore([y(),u()],[]),T=".buffer",I="ss-version-backups-local",L=32,S=4,N=null,R=ie=>{var ce,de,z,Q;return(de=(ce=window._preloads)==null?void 0:ce.pub)!=null&&de.id?(Q=(z=window._preloads)==null?void 0:z.user)!=null&&Q.id?W().filter(ae=>!(ae.publication_id!==window._preloads.pub.id||ae.user_id&&ae.user_id!==window._preloads.user.id||ae.post_id!==ie||ae.local_version_saved_at&&Date.now()-new Date(ae.local_version_saved_at)>N)):[]:[]},U=ie=>{if(!(ie!=null&&ie.post_id)||!(ie!=null&&ie.draft_updated_at)||!(ie!=null&&ie.draft_body))return;const ce=W();if(ce.filter(Q=>Q.post_id===ie.post_id).length>=S){const Q=findLastIndex(ce,ae=>ae.post_id===ie.post_id);Q>=0&&ce.splice(Q,1)}const z=[ie].concat(ce.filter(Q=>Q.post_id!==ie.post_id||Q.draft_updated_at!==ie.draft_updated_at&&Q.draft_body&&Q.draft_body!==ie.draft_body)).slice(0,L);Y(I,z)},W=()=>O.get(I,[]).filter(Boolean),K=()=>O.get(I+T,{}),G=ie=>{var ce,de;(ce=window._preloads.pub)!=null&&ce.id&&(de=window._preloads.user)!=null&&de.id&&ie!=null&&ie.post_id&&ie!=null&&ie.draft_updated_at&&ie!=null&&ie.draft_body&&Y(I+T,v(i({},ie),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},re=()=>{O.remove(I+T)},$=ie=>{if(!(ie!=null&&ie.post_id)||!(ie!=null&&ie.draft_updated_at))return;const de=W().fil_at);Y(I,de)},F=({postId:ie,editorId:ce})=>!!W().find(z=>z.post_id===ie&&z.editor_id&&z.editor_id!==ce),Z=({postId:ie,editorId:ce})=>{const z=W().filter(Q=>Q.editor_id?Q.post_id!==ie||Q.editor_id!==ce:!1);Y(I,z)},q=()=>{const ie=K();ie!=null&&ie.draft_body&&(U(ie),re())I)},j=ie=>{(!ie||W().f=ie))&&V()},Y=(ie,ce)=>{try{if(O.set(ie,ce),JSON.stringify(O.get(ie))!==JSON.stringify(ce))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",ie)}catch(de){console.error("localStorage.setItem failed:",de),V()}}},94930:(H,E)=>{"use strict";E.isCouponValid=(e,{is_group:t,is_gift:f,paywallFreeTrialEnabled:s})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!t||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!s||f||t)),E.isCouponValidForPlan=(e,t)=>!e||!t||t.metadata.unlimited_group?!1:t.metadata.no_coupons?!!(e.founding_only&&t.metadata.founding):!(t.interval==="forever"||e.yearly_only&&t.interval!=="year"||e.monthly_only&&t.interval!=="month"||e.duration==="repeating"&&(t.interval==="month"&&e.duration_in_months%t.interval_count!==0||t.interval==="year"&&e.duration_in_months%(t.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==t.currency),E.isEmailValidEdu=(e,t)=>{const f=t.filter(P=>P.is_suffix);return t.filter(P=>!P.is_suffix).find(P=>e.split("@").pop().startsWith(P.pattern))||f.frn))},E.isCouponValidForEmail=(e,t,f)=>!(e.edu_only&&!E.isEmailValidEdu(t,f)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(g=>t.toLowerCase().endsWith(g.toLowerCase()))),E.getDiscountedAmount=(e,t)=>{let f=e.amount;return t&&E.isCouponValidForPlan(t,e)&&(t.percent_off?f=Math.round(f*(1-(t.percent_off_precise||t.percent_off)/100)):t.amount_off&&(f=Math.max(0,f-t.amount_off))),f}},85928:(H,E,e)=>{"use strict";var t=Object.defineProperty,f=Object.defineProperties,s=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,C=(D,M,c)=>M in D?t(D,M,{enumerable:!0,configurable:!0,writable:!0,value:c}):D[M]=c,u=(D,M)=>{for(var c in M||(M={}))P.call(M,c)&&C(D,c,M[c]);if(g)for(var c of g(M))y.call(M,c)&&C(D,c,M[c]);return D},p=(D,M)=>f(D,s(M));const d=e(27484);H.exports=d,d.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(w);function w(D,M,c){M.prototype.standardDateOrTime=function({long:q=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const V=this.locale(),{iString:j}=I18N.i(V),{secondsToLargestUnit:Y}=e(83322),ie=c().diff(this,"seconds");return ie<60?j("just now"):Y(ie,{long:q,language:V,appendAgo:!0})}},M.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},M.prototype.readerDateTime=function(){const q=this.locale(),{iString:V}=I18N.i(q),j=this.diff(c(),"day");let Y;return j===0?Y=this.format("h:mm a"):j===-1?Y=V("Yesterday"):j>-7?Y=this.standardDate():Y=this.standardDate(),Y},M.prototype.standardDate=function({full:q=!1}={}){return!q&&this.isSame(c(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},M.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===c().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},M.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===c().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},M.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},M.prototype.standardDatetimeWithYear=function(){const q=c().year();return this.year()!=q?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},M.prototype.min=function(...q){let V=this;for(let j of q)j=c(j),V.isAfter(j)&&(V=j);return V},M.prototype.max=function(...q){let V=this;for(let j of q)j=c(j),V.isBefore(j)&&(V=j);return V},M.prototype.minNow=function(){return this.min(c())},M.prototype.max))},M.prototype.isBeforeNow=function(q){return this.isBefore(c(),q)},M.prototype.isAfterNow=function(q){return this.isAfter(c(),q)},M.prototype.isSameq)};const l=c.en,i=p(u({},l),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),v=e(80790),O=p(u({},v),{relativeTime:{future:"an %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}}),T=p(u({},v),{relativeTime:{future:"an %s",past:"%s",s:"soeben",m:"1M",mm:"%dMin",h:"1S",hh:"%dS",d:"1T",dd:"%dT",M:"1Mon",MM:"%dMon",y:"1J",yy:"%dJ"}}),I=e(67763),L=p(u({},I),{relativeTime:{future:"en %s",past:"hace %s",s:"en este momento",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"}}),S=p(u({},I),{relativeTime:{future:"en %s",past:"%s",s:"en este momento",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1D",dd:"%dD",M:"1Mes",MM:"%dMes",y:"1A",yy:"%dA"}}),N=e(15551),R=p(u({},N),{relativeTime:{future:"tra %s",past:"%s",s:"proprio adesso",m:"1 minuto",mm:"%d minuti",h:"1 ora",hh:"%d ore",d:"1 giorno",dd:"%d giorni",M:"1 mese",MM:"%d mesi",y:"1 anno",yy:"%d anni"}}),U=p(u({},N),{relativeTime:{future:"tra %s",past:"%s",s:"proprio adesso",m:"1M",mm:"%dM",h:"1O",hh:"%dO",d:"1G",dd:"%dG",M:"1M",MM:"%dM",y:"1A",yy:"%dA"}}),W=e(15001),K=p(u({},W),{relativeTime:{future:"em %s",past:"%s",s:"agora h\xE1 pouco",m:"1 minuto",mm:"%d minutos",h:"1 hora",hh:"%d horas",d:"1 dia",dd:"%d dias",M:"1 m\xEAs",MM:"%d meses",y:"1 ano",yy:"%d anos"}}),G=p(u({},W),{relativeTime:{future:"em %s",past:"%s",s:"agora h\xE1 pouco",m:"1M",mm:"%dM",h:"1H",hh:"%dH",d:"1D",dd:"%dD",M:"1M",MM:"%dM",y:"1A",yy:"%dA"}}),re=e(96023),$=p(u({},re),{relativeTime:{future:"dans %s",past:"il y a %s",s:"tout \xE0 l'heure",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"une ann\xE9e",yy:"%d ann\xE9es"}}),F=p(u({},re),{relativeTime:{future:"dans %s",past:"%s",s:"tout \xE0 l'heure",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1J",dd:"%dJ",M:"1Mois",MM:"%dMois",y:"1A",yy:"%dA"}}),Z=c.locale();c.locale("enshort",i),c.locale("de",O),c.locale("deshort",T),c.locale("de-machine",O),c.locale("demachineshort",T),c.locale("es",L),c.locale("esshort",S),c.locale("fr",$),c.locale("frshort",F),c.locale("it",R),c.locale("itshort",U),c.locale("pt",K),c.locale("ptshort",G),c.locale("pt-br",K),c.locale("ptbrshort",G),c.locale(Z),M.prototype.fromNowShort=function(){switch(this.locale()){case"de":return this.locale("deshort").fromNow();case"de-machine":return this.locale("demachineshort").fromNow();case"es":return this.locale("esshort").fromNow();case"fr":return this.locale("frshort").fromNow();case"it":return this.locale("itshort").fromNow();case"pt":return this.locale("ptshort").fromNow();case"pt-br":return this.locale("ptbrshort").fromNow();default:return l?this.locale("enshort").fromNow():this.fromNow()}}}},42395:H=>{"use strict";H.exports=E=>(E||"").replace(/&#(\d+)(t))},17187:H=>{"use strict";var E=typeof Reflect=="object"?Reflect:null,e=E&&typeof E.apply=="function"?E.apS)},t;E&&typeof E.ownKeys=="function"?t=E.ownKeys:Object.getOwnPropertySymbol))}:t=function(I){return Object.getOwnPropertyNames(T)}var s=Number.isNs)}H.exports=g,H.exports.once=i,g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var PT)}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return P},=T}}),g.i 0},g.prototype.setMaxListenrs}g.prototype.getMaxListeners=function(){return C(this)},g.prototype.e T}g.prototype.addListener=function(I,L){return u(this,I,L,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListeN}g.prototype.once=function(I,L){return y(L),this.on(I,d(this,I,L)),this},g.prototype.prependOnceListeis},g.prototype.removeListeis},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListenh)}g.prototype.listeners=function(I){return w(this,I,!0)},g.prototype.rawListen1)},g.listenerCoI)},g.prototype.listenerCoun 0}g.prototype.eventNa4445:H=>{H.exports=g,g.default=g,g.stable=u,g.stableStringify=u;var E="[...]",e="[Circular]",t=[],fR}}function g(w,D,M,c){typeof c=="undefined"&&(c=s()),y(w,"",0,[],void 0,0,c);var l;try{f.length===0?l=JSON.stringify(w,D,M):l=JSON.stringify(w,d(D),M)}catch(v){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var i=t.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}retur))}function y(w,D,M,c,l,i,v){i+=1;var O;if(typeof w=="object"&&w!==null){for(O=0;O<c.length;O++)if(c[O]===w){P(e,w,D,l);return}if(typeof v.depthLimit!="undefined"&&i>v.depthLimit){P(E,w,D,l);return}if(typeof v.edgesLimit!="undefined"&&M+1>v.edgesLimit){P(E,w,D,l);return}if(c.push(w),Array.isArray(w))for(O=0;O<w.length;O++)y(w[O],O,O,c,w,i,v);else{var T=Object.keys(w);for(O=0;O<T.length;O++){var I=T[O];y(w[I],I,O,c,w,i,v)}}c.pop:0}function u(w,D,M,c){typeof c=="undefined"&&(c=s());var l=p(w,"",0,[],void 0,0,c)||w,i;try{f.length===0?i=JSON.stringify(l,D,M):i=JSON.stringify(l,d(D),M)}catch(O){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var v=t.pop();v.length===4?Object.defineProperty(v[0],v[1],v[3]):v[0][v[1]]=v[2]}}return i}function p(w,D,M,c,l,i,v){i+=1;var O;if(typeof w=="object"&&w!==null){for(O=0;O<c.length;O++)if(c[O]===w){P(e,w,D,l);return}try{if(typeof w.toJSON=="function")return}catch(S){return}if(typeof v.depthLimit!="undefined"&&i>v.depthLimit){P(E,w,D,l);return}if(typeof v.edgesLimit!="undefined"&&M+1>v.edgesLimit){P(E,w,D,l);return}if(c.push(w),Array.isArray(w))for(O=0;O<w.length;O++)p(w[O],O,O,c,w,i,v);else{var T={},I=Object.keys(w).sort(C);for(O=0;O<I.length;O++){var L=I[O];p(w[L],L,O,c,w,i,v),T[L]=w[L]}if(typeof l!="undefined")t.push([l,D,w]),l[D]=T;else return T}c.pop()}}function d(w){return w=typeof w!="undefinedM)}}},17648:H=>{"use strict";var E="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,f="[object Function] p p u};H.expo d}},58|t},40210:(H,E,e)=>{"use strict";var t,f=SyntaxError,s=Function,g=TypeErro{}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(re){y=null}va g},}}}():C,p=e(41405)(),d=e(28185)(),w=Object.getPrototypeOf||(d?function(re){return re.__proto__}:null),D={},M=typeof Uint8Array=="undefined"||!w?t:w(Uint8Array),c={"%AggregateError%":typeof AggregateError=="undefined"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?t:ArrayBuffer,"%ArrayIteratorPrototype%":p&&w?w([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":typeof Atomics=="undefined"?t:Atomics,"%BigInt%":typeof BigInt=="undefined"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?t:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?t:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":D,"%Int8Array%":typeof Int8Array=="undefined"?t:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?t:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&w?w(w([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map=="undefined"?t:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!p||!w?t:w(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?t:Promise,"%Proxy%":typeof Proxy=="undefined"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?t:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!p||!w?t:w(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&w?w(""[Symbol.iterator]()):t,"%Symbol%":p?Symbol:t,"%SyntaxError%":f,"%ThrowTypeError%":u,"%TypedArray%":M,"%TypeError%":g,"%Uint8Array%":typeof Uint8Array=="undefined"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?t:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?t:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?t:WeakSet};if(w)try{null.error}catch(re){var l=w(w(re));c["%Error.prototype%"]=l}va,F},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=e(58612),T=e(48824),I=O.call(Function.call,Array.prototype.concat),L=O.call(Function.apply,Array.prototype.splice),S=O.call(Function.call,String.prototype.replace),N=O.call(Function.call,String.prototype.slice),R=O.call(Function.call,RegExp.prototype.exec),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/,q")};H.expo Y}},41595:(H,E,e)=>{"use strict";e.r(E),e.d(E,{default:()=>f});/*! gettext.js - Guillaume Potier - MIT Licensed */var t=function(s){s=s||{},this&&(this.__version="1.1.1");var g={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(O){return{nplurals:2,plural:O!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},P={isObj!O},isAr]"}},y={},C=s.locale||g.locale,u=s.domain||g.domain,p={},d={},w=s.ctxt_delimiter||g.ctxt_delimiter;s.messages&&(p[u]={},p[u][C]=s.messages),s.plural_forms&&(d[C]=s.plural_forms);var D=function(O){var T=arguments;return O.replace(/%%/g,"%% ").replace(/%(\d+L]}).replace(/%% /g,"%")},M=function(O){if(O.indexOf(w)!==-1){var T=O.split(w);return T[1]}return O},c=function(O){for(var T=[O],I=O.lastIndexOf("-");I>0;)O=O.slice(0,I),T.push(O),I=O.lastIndexOf("-");return T},l=function(O){O=O.replace("_","-");var T=O.search(/[.@]/);return T!=-1&&(O=O.slice(0,T)),O},i=function(O){var T=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!T.test(O))throw new Error(D('The plural form "%1" is not valid',O));return new Function("n","var plural, nplurals; "+O+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},v=function(O,T,I){if(!I.plural_form)return D.apply(this,[M(O[0])].concat(Array.prototype.slice.call(arguments,3)));var L;return I.plural_func?L=I.plural_func(T):(y[C]||(y[C]=i(d[C])),L=y[C](T)),(typeof L.plural=="undefined"||L.plural>L.nplurals||O.length<=L.plural)&&(L.plural=0),D.apply(this,[M(O[L.plural]),T].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:D,expand_locale:c,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)}s)},setMessages:function(O,T,I,L){if(!O||!T||!I)throw new Error("You must provide a domain, a locale and messages");if(typeof O!="string"||typeof T!="string"||!P.isObject(I))throw new Error("Invalid arguments");return T=l(T),L&&(d[T]=L),p[O]||(p[O]={}),p[O][T]=I,this},loadJSON:function(O,T){if(P.isObject(O)||(O=JSON.parse(O)),!O[""]||!O[""].language||!O[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var I=O[""];return delete O[""],this.setMessages(T||g.domain,I.language,O,I["plural-forms"])},setLocis},getLocale:function(){return C},textdom:u},gettext:function(O){return this.dcnpgettext.apply(this,[void 0,void 0,O,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(O,T,I){return this.dcnpgettext.apply(this,[void 0,void 0,O,T,I].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(O,T){return this.dcnpgettext.apply(this,[void 0,O,T,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(O,T,I,L,S){if(O=O||u,typeof I!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',I));var N,R={plural_form:!1},U=T?T+w+I:I,W,K,G=c(C);for(var re in G)if(K=G[re],W=p[O]&&p[O][K]&&p[O][K][U],L?W=W&&typeof p[O][K][U]!="string":W=W&&typeof p[O][K][U]=="string",W)break;return W?N=p[O][K][U]:(N=I,R.plural_func=g.plural_func),L?(R.plural_form=!0,v.apply(this,[W?N:[I,L],S,R].concat(Array.prototype.slice.call(arguments,5)))):v.apply(this,[[N],S,R].concat(Array.prototype.slice.call(arguments,5)))}}};const f=t},27296:(H,E,e)=>{"use strict";var t=e(40210),f=t("%Object.getOwnPropertyDescriptor%",!0);if(f)try{f([],"length")}catch(s){f=null}H.exports=f},31044:(H,E,e)=>{"use strict";var t=e(40210),f=t("%Object.defineProperty%",!0!1};s.hasArrayLengthDefine0}},H.exports=s},28)}},41)}},550}},48f)},36808:(H,E,e)=>{var t,f;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license}})})},3312:H=>{"use strict";const E={},e=E.hasOwnProperty,t=(S,N)=>{for(const R in S)e.call(S,R)&&N(R,S[R])},f=(S,N)=>(N&&=U}),S),s=(S,N)=>{const R=S.length;let U=-1;for(;++U<R;)N(S[U])},g=S=>"\\u"+("0000"+S).slice(-4),P=(S,N)=>{let R=S.toString(16);return N?R:R.toUpperCase()},y=E.toString,C=Array.isArra(S),p=S=>y.call(S)=="[object Object]",d=S=>typeof S=="string"||y.call(S)=="[object String]",w=S=>typeof S=="number"||y.call(S)=="[object Number]",D=S=>typeof S=="function",M=S=>y.call(S)=="[object Map]",c=S=>y.call(S)=="[object Set]",l={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},i=/[\\\b\f\n\r\t]/,v=/[0-9]/,O=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,T=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,I=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,L=(S,N)=>{const R=()=>{F=$,++N.indentLevel,$=N.indent.repeat(N.indentLevel)},U={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},W=N&&N.json;W&&(U.quotes="double",U.wrap=!0),N=f(U,N),N.quotes!="single"&&N.quotes!="double"&&N.quotes!="backtick"&&(N.quotes="single");const K=N.quotes=="double"?'"':N.quotes=="backtick"?"`":"'",G=N.compact,re=N.lowercaseHex;let $=N.indent.repeat(N.indentLevel),F="";const Z=N.__inline1__,q=N.__inline2__,V=G?"":`
`;let j,Y=!0;const ie=N.numbers=="binary",ce=N.numbers=="octal",de=N.numbers=="decimal",z=N.numbers=="hexadecimal";if(W&&S&&D(S.toJSON)&&(S=S.toJSON()),!d(S)){if(M(S))return S.size==0?"new Map()":(G||(N.__inline1__=!0,N.__inline2__=!1),"new Map("+L(Array.from(S),N)+")");if(c(S))return S.size==0?"new Set()":"new Set("+L(Array.from(S),N)+")";if(u(S))return S.length==0?"Buffer.from([])":"Buffer.from("+L(Array.from(S),N)+")";if(C(S))return j=[],N.wrap=!0,Z&&(N.__inline1__=!1,N.__inline2__=!0),q||R(),s(S,ae=>{Y=!1,q&&(N.__inline2__=!1),j.push((G||q?"":$)+L(ae,N))}),Y?"[]":q?"["+j.join(", ")+"]":"["+V+j.join(","+V)+V+(G?"":F)+"]";if(w(S)){if(W)return JSON.stringify(S);if(de)return String(S);if(z){let ae=S.toString(16);return re||(ae=ae.toUpperCase()),"0x"+ae}if(ie)return"0b"+S.toString(2);if(ce)return"0o"+S.toString(8)}else return p(S)?(j=[],N.wrap=!0,R(),t(S,(ae,te)=>{Y=!1,j.push((G?"":$)+L(ae,N)+":"+(G?"":" ")+L(te,N))}),Y?"{}":"{"+V+j.join(","+V)+V+(G?"":F)+"}"):W?JSON.stringify(S)||"null":String(S)}const Q=N.escapeEverything?T:I;return j=S.replace(Q,(ae,te,oe,ue,ee,le)=>{if(te){if(N.minimal)return te;const fe=te.charCodeAt(0),ve=te.charCodeAt(1);if(N.es6){const ge=(fe-55296)*1024+ve-56320+65536;return"\\u{"+P(ge,re)+"}"}return g(P(fe,re))+g(P(ve,re))}if(oe)return g(P(oe.charCodeAt(0),re));if(ae=="\0"&&!W&&!v.test(le.charAt(ee+1)))return"\\0";if(ue)return ue==K||N.escapeEverything?"\\"+ue:ue;if(i.test(ae))return l[ae];if(N.minimal&&!O.test(ae))return ae;const se=P(ae.charCodeAt(0),re);return W||se.length>2?g(se):"\\x"+("00"+se).slice(-2)}),K=="`"&&(j=j.replace(/\$\{/g,"\\${")),N.isScriptContext&&(j=j.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,W?"\\u003C!--":"\\x3C!--")),N.wrap&&(j=K+j+K),j};L.version="3.0.2",H.exports=L},23059:(H,E)=>{function e(t){if(typeof t!="object")return t;var f,s,g=Object.prototype.toString.call(t);if(g==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){s=new t.constructor;for(f in t)t.hasOwnProperty(f)&&s[f]!==t[f]&&(s[f]=e(t[f]))}else{s={};for(f in t)f==="__proto__"?Object.defineProperty(s,f,{value:e(t[f]),configurable:!0,enumerable:!0,writable:!0}):s[f]=e(t[f])}return s}if(g==="[object Array]"){for(f=t.length,s=Array(f);f--;)s[f]=e(t[f]);return s}return g==="[object Set]"?(s=new Set,t.forE))}),s):g==="[object Map]"?(s=new Map,t.forE))}),s):g==="[object Date]"?new Date(+t):g==="[object RegExp]"?(s=new RegExp(t.source,t.flags),s.lastIndex=t.lastIndex,s):g==="[object DataView]"?new t.constructor(e(t.buffer)):g==="[object ArrayBuffer]"?t.slice(0):g.slice(-6)==="Array]"?new t.constructor(t):t}E.klona=e},87=l},8425:(H,E,e)=>{"use strict";E.__esModule=!0,E.tokenize=E.test=E.scanner=E.parser=E.options=E.inherits=E.find=void 0;var t=e(72227),f=e(47951),s=u(f),g=e(6417),P=u(g),y=e(45788),C=u(y);function u(D){if(D&&D.__esModule)return D;var M={};if(D!=null)for(var c in D)Object.prototype.hasOwnProperty.call(D,c)&&(M[c]=D[c]);return M.default=D,M}Array.isArray||(Array.isArray=function(D){return Object.prototype.toString.call(D)==="[object Array]"});va))},d=function(M){for(var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=p(M),i=[],v=0;v<l.length;v++){var O=l[v];O.isLink&&(!c||O.type===c)&&i.push(O.toObject())}return i},w=function(M){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=p(M);return l.length===1&&l[0].isLink&&(!c||l[0].type===c)};E.find=d,E.inherits=t.inherits,E.options=s,E.parser=C,E.scanner=P,E.test=w,E.tokenize=p},45788:(H,E,e)=>{"use strict";E.__esModule=!0,E.start=E.run=E.TOKENS=E.State=void 0;var t=e(25439),f=e(23370),s=P(f),g=e(63333);function P(ee){if(ee&&ee.__esModule)return ee;var le={};if(ee!=null)for(var se in ee)Object.prototype.hasOwnProperty.call(ee,se)&&(le[se]=ee[se]);return le.default=ee,le}var y=function(le){return new t.TokenState(le)},C=y(),u=y(),p=y(),d=y(),w=y(),D=y(),M=y(),c=y(f.URL),l=y(),i=y(f.URL),v=y(f.URL),O=y(),T=y(),I=y(),L=y(),S=y(),N=y(f.URL),R=y(f.URL),U=y(f.URL),W=y(f.URL),K=y(),G=y(),re=y(),$=y(),F=y(),Z=y(),q=y(f.EMAIL),V=y(),j=y(f.EMAIL),Y=y(f.MAILTOEMAIL),ie=y(),ce=y(),de=y(),z=y(),Q=y(f.NL);C.on(g.NL,Q).on(g.PROTOCOL,u).on(g.MAILTO,p).on(g.SLASH,d),u.on(g.SLASH,d),d.on(g.SLASH,w),C.on(g.TLD,D).on(g.DOMAIN,D).on(g.LOCALHOST,c).on(g.NUM,D),w.on(g.TLD,v).on(g.DOMAIN,v).on(g.NUM,v).on(g.LOCALHOST,v),D.on(g.DOT,M),F.on(g.DOT,Z),M.on(g.TLD,c).on(g.DOMAIN,D).on(g.NUM,D).on(g.LOCALHOST,D),Z.on(g.TLD,q).on(g.DOMAIN,F).on(g.NUM,F).on(g.LOCALHOST,F),c.on(g.DOT,M),q.on(g.DOT,Z),c.on(g.COLON,l).on(g.SLASH,v),l.on(g.NUM,i),i.on(g.SLASH,v),q.on(g.COLON,V),V.on(g.NUM,j);var ae=[g.DOMAIN,g.AT,g.LOCALHOST,g.NUM,g.PLUS,g.POUND,g.PROTOCOL,g.SLASH,g.TLD,g.UNDERSCORE,g.SYM,g.AMPERSAND],te=[g.COLON,g.DOT,g.QUERY,g.PUNCTUATION,g.CLOSEBRACE,g.CLOSEBRACKET,g.CLOSEANGLEBRACKET,g.CLOSEPAREN,g.OPENBRACE,g.OPENBRACKET,g.OPENANGLEBRACKET,g.OPENPAREN];v.on(g.OPENBRACE,T).on(g.OPENBRACKET,I).on(g.OPENANGLEBRACKET,L).on(g.OPENPAREN,S),O.on(g.OPENBRACE,T).on(g.OPENBRACKET,I).on(g.OPENANGLEBRACKET,L).on(g.OPENPAREN,S),T.on(g.CLOSEBRACE,v),I.on(g.CLOSEBRACKET,v),L.on(g.CLOSEANGLEBRACKET,v),S.on(g.CLOSEPAREN,v),N.on(g.CLOSEBRACE,v),R.on(g.CLOSEBRACKET,v),U.on(g.CLOSEANGLEBRACKET,v),W.on(g.CLOSEPAREN,v),K.on(g.CLOSEBRACE,v),G.on(g.CLOSEBRACKET,v),re.on(g.CLOSEANGLEBRACKET,v),$.on(g.CLOSEPAREN,v),T.on(ae,N),I.on(ae,R),L.on(ae,U),S.on(ae,W),T.on(te,K),I.on(te,G),L.on(te,re),S.on(te,$),N.on(ae,N),R.on(ae,R),U.on(ae,U),W.on(ae,W),N.on(te,N),R.on(te,R),U.on(te,U),W.on(te,W),K.on(ae,N),G.on(ae,R),re.on(ae,U),$.on(ae,W),K.on(te,K),G.on(te,G),re.on(te,re),$.on(te,$),v.on(ae,v),O.on(ae,v),v.on(te,O),O.on(te,O),p.on(g.TLD,Y).on(g.DOMAIN,Y).on(g.NUM,Y).on(g.LOCALHOST,Y),Y.on(ae,Y).on(te,ie),ie.on(ae,Y).on(te,ie);var oe=[g.DOMAIN,g.NUM,g.PLUS,g.POUND,g.QUERY,g.UNDERSCORE,g.SYM,g.AMPERSAND,g.TLD];D.on(oe,ce).on(g.AT,de),c.on(oe,ce).on(g.AT,de),M.on(oe,ce),ce.on(oe,ce).on(g.AT,de).on(g.DOT,z),z.on(oe,ce),de.on(g.TLD,F).on(g.DOMAIN,F).on(g.LOCALHOST,q);varve};E.State=t.TokenState,E.TOKENS=s,E.run=ue,E.start=C},6417:(H,E,e)=>{"use strict";E.__esModule=!0,E.start=E.run=E.TOKENS=E.State=void 0;var t=e(25439),f=e(63333),s=g,V}var P="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),y="0123456789".split(""),C="0123456789abcdefghijklmnopqrstuvwxyz".split(""),u=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],p=[V)},w=d(),D=d(f.NUM),M=d(f.DOMAIN),c=d(),l=d(f.WS);w.on("@",d(f.AT)).on(".",d(f.DOT)).on("+",d(f.PLUS)).on("#",d(f.POUND)).on("?",d(f.QUERY)).on("/",d(f.SLASH)).on("_",d(f.UNDERSCORE)).on(":",d(f.COLON)).on("{",d(f.OPENBRACE)).on("[",d(f.OPENBRACKET)).on("<",d(f.OPENANGLEBRACKET)).on("(",d(f.OPENPAREN)).on("}",d(f.CLOSEBRACE)).on("]",d(f.CLOSEBRACKET)).on(">",d(f.CLOSEANGLEBRACKET)).on(")",d(f.CLOSEPAREN)).on("&",d(f.AMPERSAND)).on([",",";","!",'"',"'"],d(f.PUNCTUATION)),w.on(`
`,d(f.NL)).on(u,l),l.on(u,l);for(var i=0;i<P.length;i++){var v=(0,t.stateify)(P[i],w,f.TLD,f.DOMAIN);p.push.apply(p,v)}var O=(0,t.stateify)("file",w,f.DOMAIN,f.DOMAIN),T=(0,t.stateify)("ftp",w,f.DOMAIN,f.DOMAIN),I=(0,t.stateify)("http",w,f.DOMAIN,f.DOMAIN),L=(0,t.stateify)("mailto",w,f.DOMAIN,f.DOMAIN);p.push.apply(p,O),p.push.apply(p,T),p.push.apply(p,I),p.push.apply(p,L);var S=O.pop(),N=T.pop(),R=I.pop(),U=L.pop(),W=d(f.DOMAIN),K=d(f.PROTOCOL),G=d(f.MAILTO);N.on("s",W).on(":",K),R.on("s",W).on(":",K),p.push(W),S.on(":",K),W.on(":",K),U.on(":",G);var re=(0,t.stateify)("localhost",w,f.LOCALHOST,f.DOMAIN);p.push.apply(p,re),w.on(y,D),D.on("-",c).on(y,D).on(C,M),M.on("-",c).on(C,M);for(var $=0;$<p.length;$++)p[$].on("-",c).on(C,M);c.on("-",c).on(y,M).on(C,M),w.defaultTransition=d(f.SYM);vaie},Z=w;E.State=t.CharacterState,E.TOKENS=s,E.run=F,E.start=Z},25439:(H,E,e)=>{"use strict";E.__esModule=!0,E.stateify=E.TokenState=E.CharacterState=void 0;var t=e(722l}}var s=f();s.prototype={defaultTransition:!1is},non},acce.T},t=p},emit:function(){return this.T}};var g=(0,t.inherits)(s,f(),{tu)}}),P=(0,t.inherits)(s,f(),{jump:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=this.next(new u(""));return d===this.defaultTransition?(d=new this.constructor(p),this.on(u,d)):p&&(d.T=p),d},t p,c}E.CharacterState=g,E.TokenState=P,E.stateify=y},9770:(H,E)=>{"use strict";E.__esModule)}}E.createTokenClass=e},23370:(H,E,e)=>{"use strict";E.__esModule=!0,E.URL=E.TEXT=E.NL=E.EMAIL=E.MAILTOEMAIL=E.Base=void 0;var t=e(9770),f=e(72227),s=e(633LD}var P=(0,t.createTokenClass)();P.prototype={type:"token",isLink:!1,toStr")},toH()},toObject:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(D)}}};var y=(0,f.inherits)(P,(0,t.createTokenClass)(),{type:"email",isLink:!0}),C=(0,f.inherits)(P,(0,t.createTokenClass)(),{type:"email",isLink:!0,toH()}}),u=(0,f.inherits)(P,(0,t.createTokenClass)(),{type:"text"}),p=(0,f.inherits)(P,(0,t.createTokenClass)(),{type:"nl"}),d=(0,f.inherits)(P,(0,t.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",M=!1,c=!1,l=this.v,i=[],v=0;l[v]instanceof s.PROTOCOL;)M=!0,i.push(l[v].toString().toLowerCase()),v++;for(;l[v]instanceof s.SLASH;)c=!0,i.push(l[v].toString()),v++;for(;g(l[v]);)i.push(l[v].toString().toLowerCase()),v++;for(;v<l.length;v++)i.push(l[v].toString());return i=i.join(""),M||c||(i=D+"://"+i),i},hasProtoOL}});E.Base=P,E.MAILTOEMAIL=y,E.EMAIL=C,E.NL=p,E.TEXT=u,E.URL=d},63333:(H,E,e)=>{"use strict";E.__esModule=!0,E.AMPERSAND=E.CLOSEPAREN=E.CLOSEANGLEBRACKET=E.CLOSEBRACKET=E.CLOSEBRACE=E.OPENPAREN=E.OPENANGLEBRACKET=E.OPENBRACKET=E.OPENBRACE=E.WS=E.TLD=E.SYM=E.UNDERSCORE=E.SLASH=E.MAILTO=E.PROTOCOL=E.QUERY=E.POUND=E.PLUS=E.NUM=E.NL=E.LOCALHOST=E.PUNCTUATION=E.DOT=E.COLON=E.AT=E.DOMAIN=E.Base=void 0;var t=e(9770),f=e(72227),s=(0,t.createTokenClass)();s.prototype={toStr"q)}var P=g(),y=g("@"),C=g(":"),u=g("."),p=g(),d=g(),w=g(`
`),D=g(),M=g("+"),c=g("#"),l=g(),i=g("mailto:"),v=g("?"),O=g("/"),T=g("_"),I=g(),L=g(),S=g(),N=g("{"),R=g("["),U=g("<"),W=g("("),K=g("}"),G=g("]"),re=g(">"),$=g(")"),F=g("&");E.Base=s,E.DOMAIN=P,E.AT=y,E.COLON=C,E.DOT=u,E.PUNCTUATION=p,E.LOCALHOST=d,E.NL=w,E.NUM=D,E.PLUS=M,E.POUND=c,E.QUERY=v,E.PROTOCOL=l,E.MAILTO=i,E.SLASH=O,E.UNDERSCORE=T,E.SYM=I,E.TLD=L,E.WS=S,E.OPENBRACE=N,E.OPENBRACKET=R,E.OPENANGLEBRACKET=U,E.OPENPAREN=W,E.CLOSEBRACE=K,E.CLOSEBRACKET=G,E.CLOSEANGLEBRACKET=re,E.CLOSEPAREN=$,E.AMPERSAND=F},72227:(H,E)=>{"use strict";E.__esModule=!0,E.inherits=e;function e(t,f){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Object.create(t.prototype);for(var P in s)g[P]=s[P];return g.constructor=f,f.prototype=g,f}},47951:(H,E)=>{"use strict";E.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},t={defaultProtocol:"http",events:null,format:g,formatHref:g,nl2br:!1,tagName:"a",target:P,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};E.defaults=t,E.Options=f,E.contain))}f.prototype={reso)}},chC)},get:function(C,u,p){var d=void 0,w=this[C];if(!w)return w;switch(typeof w=="undefined"?"undefined":e(w)){case"function":return w(u,p.type);case"object":return d=w.hasOwnProperty(p.type)?w[p.type]:t[C],typeof d=="function"?d(u,p.type):d}return w},getObject:function(C,u,p){var d=this[C];return typeof d=="function"?d(u,p.type):!1}function g(y){returll}},28lt},18552:(H,E,e)=>{var t=e(10852),f=e(55639),s=t(f,"DataView");H.exports=s},1989:(H,E,e)=>{var t=e(51789),f=e(80401),s=e(57667),g=e(21327),P=e(81866);function y(C){var u=-1,p=C==null?0:C.length;for(this.clear();++u<p;){var d=C[u];this.set(d[0],d[1])}}y.prototype.clear=t,y.prototype.delete=f,y.prototype.get=s,y.prototype.has=g,y.prototype.set=P,H.exports=y},38407:(H,E,e)=>{var t=e(27040),f=e(14125),s=e(82117),g=e(67518),P=e(54705);function y(C){var u=-1,p=C==null?0:C.length;for(this.clear();++u<p;){var d=C[u];this.set(d[0],d[1])}}y.prototype.clear=t,y.prototype.delete=f,y.prototype.get=s,y.prototype.has=g,y.prototype.set=P,H.exports=y},57071:(H,E,e)=>{var t=e(10852),f=e(55639),s=t(f,"Map");H.exports=s},83=y},53818:(H,E,e)=>{var t=e(10852),f=e(55639),s=t(f,"Promise");H.exports=s},58525:(H,E,e)=>{var t=e(10852),f=e(55639),s=t(f,"Set");H.exports=s},88=g},46=C},62705:(H,E,e)=>{var t=e(55639),f=t.Symbol;H.exports=f},11=f},70=s},96=E},44174: s}H.exports=E},34=E},47=f},1196:!1}H.exports=E},14=p},29=E},62=E},62=E},82=E},44=E},49=e},34=P},18=f},81=f},89=f},29750:,e}H.exports=E},20731:(H,E,e)=>{var t=e(88668),f=e(47443),s=e(1196),g=e(29932),P=e(7518),y=e(74757),C= v}H.exports=u},89881:(H,E,e)=>{var t=e(47816),f=e(99291),s=f(t);H.exports=s},41=E},21=s},28=f},47=s},97=s},68=s},44=C}=E},42=g},9=g},90=s},2=l},2=P},62=E},28=D},38re},67=y},=P},69=s},91=g},16=d},82689:(H,E,e)=>{var t=e(29932),f=e(97786),s=e(67206),g=e(69199),P=e(71131),y=e(7518),C=e(85022),u=e(6557),p=e(14})}H.exports=d},25=s},63=g},40371:H=>{function E(e){return function(t){return t==null?void 0:t[e]}}H.exports=E},79=f},18=E},5=g},10611:(H,E,e)=>{var t=e(34865),f=e(71811),s=e(65776),g=e(13218),P=e(403 C}H.exports=y},56=g},14=E},71=E},67762: f}H.exports=E},22=E},80=u},27=s},7=E},45652:(H,E,e)=>{var t=e(88668),f=e(47443),s=e(1196),g=e(74757),P=e(23593),y=e(21814),C= i}H.exports=u},74=E},54=f},71=P},40=f},26393:(H,E,e)=>{var t=e(334 0}H.exports=f},85022:(H,E,e)=>{var t=e(263ex}H.exports=f},14=f},55=P},99=f},25=E},98=P},35=y},23=P},69=s},38=f},67=y},18=S},16=P},99=g},31=t},58=g},45=f},1=s},10=s},89=y},99=y},64=T},47=E},=C},62=C},93=e},51=f},80=E},57=P},21=g},81=s},37=P},65=t},16=P},15=P},37=E},15=s},25=e},89=f},27=E},14=g},82=f},67=f},54=f},24=g},11=f},96e3:(H,E,e)=>{var t=e(45050);function f(s){return t(this,s).get(s)}H.exports=f},49=f},95=f},68=E},42=E},24=s},94=f},86=f},31=y},2=t},5=E},45=s},55=s},90=e},72385:H=>{function E(e){return this.__data__.has(e)}H.exports=E},21=E},30=s},21=f},37=f},63=E},67599:H=>{function E(e){return this.__data__.get(e)}H.exports=E},44=E},34=P},42=E},83140:(H,E,e)=>{var t=e(44286),f=e(62689),s=e(676);function g(P){return f(P)?s(P):t(P)}H.exports=g},55=g},40=s},80=t},67=e},=T},2de},48=s},8400:(H,E,e)=>{var t=e(14259),f=e(16612),s=e(40554),g=Math.ceil,P=Math. M}H.exports=y},74691:(H,E,e)=>{var t=e(29750),f=e(148y)}H.exports=s},39693: g}H.exports=E},75=E},23=C},53=d},77=E},7436:(H,E,e)=>{var t=e(41848),f=e(67206),s=e(40554),g=Math.max,P=Math.min;function y(C,u,p){var d=C==null?0:C.length;if(!d)return-1;var w=d-1;return p!==void 0&&(w=s(p),w=p<0?g(d+w,0):P(w,d-1)),t(C,f(u,3),w,!0)}H.exports=y},85=f},27=f},7739:(H,E,e)=>{var t=e(89465),f=e(55189),s=Object.prototype,g=s.hasOwnProperty,])});H.exports=P},79=s},6=E},35=y},1=E},98=s},29=s},44=u},18=f},23=C},41=e},14293:ll}H.exports=E},13=E},37=E},33=g},36=P},24350:(H,E,e)=>{var t=e(89465),f=e(55189),P)});H.exports=s},3=g},88=s},50=E},7=f},43174:(H,E,e)=>{var t=e(55189),]]});H.exports=f},78718:(H,E,e)=>{var t=e(25970),f=e(99021),P)});H.exports=s},39=P},89734:(H,E,e)=>{var t=e(21078),f=e(82689),s=e(5976),g=e(16612),])});H.exports=P},18=s},70=E},95=E},12297:(H,E,e)=>{var t=e(67762),f=e(65:0}H.exports=s},23=g},98913:(H,E,e)=>{var t=e(22545),f=e(54290),s=e(40554),g=9007199254740991,P=4294967295,y=Math. D}H.exports=C},18=g},40=f},14=p},79=f},44=f},73=s},11=f},82=g},58=P},87021:(H,E,e)=>{"use strict";e.d(E,{Z:()=>g});var t=e(6400);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */conse(),g=(P,y)=>{const C=l=>{var i=l,{color:u="currentColor",size:p=24,strokeWidth:d=2,absoluteStrokeWidth:w,children:D,class:M=""}=i,c=lo(i,["color","size","strokeWidth","absoluteStrokeWidth","children","class"]);return(0,t.h)("svg",Wn(zo(Wn({},f),{width:String(p),height:p,stroke:u,["stroke-width"]:w?Number(d)*24/Number(p):d,class:["lucide",`lucide-${s(P)}`,M].join(" ")}),c),[...y.,O)),...(0,t.toChildArray)(D)])};return C.displayName=`${P}`,C}},65])},4675:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},66298:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},88812:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},18794:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},19723:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},25380:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},49336:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},56743:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2564:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},45570:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]])},45609:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},84146:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]])},71212:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},65207:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},23260:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},77951:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]])},8618:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13])},67])},7617:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},95951:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]])},80587:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9528:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},84377:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},59543:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},922:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},32224:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98188:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]])},74655:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},53716:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]])},10293:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]])},25425:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},51043:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]])},40423:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]])},24])},28596:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},31131:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},75500:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Subtitles",[["path",{d:"M7 13h4",key:"1m1xj0"}],["path",{d:"M15 13h2",key:"vgjay3"}],["path",{d:"M7 9h2",key:"1q072n"}],["path",{d:"M13 9h4",key:"o7fxw0"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2Z",key:"5somay"}]])},27])},66440:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},17])},49])},98961:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(H,E,e)=>{"use strict";e.d(E,{Z:()=>f});var t=e(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=(0,t.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},71])},9613:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"}},1"}},15233:()=>{"use strict";var H={mainContainer:"frontend-components-ClipNux-module__mainContainer--BxA_d",speechBubble:"frontend-components-ClipNux-module__speechBubble--vHgss",childrenContainer:"frontend-components-ClipNux-module__childrenContainer--YhXer"}},45048:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"}},96"}},68262:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},78"}},87"}},71"}},46"}},58047:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={iconContainer:"frontend-components-reporting-reporting_shared-module__iconContainer--rnbfC",link:"frontend-components-reporting-reporting_shared-module__link--dWGqs",confirmModal:"frontend-components-reporting-reporting_shared-module__confirmModal--thDTw",confirmDescription:"frontend-components-reporting-reporting_shared-module__confirmDescription--LavbT"}},21"}},33970:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={showAnyway:"frontend-feed-ExplicitFilter-module__showAnyway--Kq9PY"}},4924:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP","priority_primary-empty":"frontend-pencraft-Button-module__priority_primary-empty--dJfoD",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto",textButton:"frontend-pencraft-Button-module__textButton--wjDyp",hiddenInput:"frontend-pencraft-Button-module__hiddenInput--IoYdR"}},28614:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-inherit":"frontend-pencraft-Text-module__size-inherit--svfip","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-mono":"frontend-pencraft-Text-module__font-mono--WHcWk","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-pub-accent-inverse":"frontend-pencraft-Text-module__color-pub-accent-inverse--v7Zhh","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","color-always-white":"frontend-pencraft-Text-module__color-always-white--IcZV4","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},28967:(H,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",feedPad:"frontend-reader2-FeedPage2-module__feedPad--Kgu2r",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",bookmarkIcon:"frontend-reader2-FeedPage2-module__bookmarkIcon--nJnXY",isSaved:"frontend-reader2-FeedPage2-module__isSaved--zg0nn"}},7"}},95"}},27"}},46"}},57"}},33291:()=>{"use strict";var H={darkTheme:"styles-base-module__darkTheme--yNZ7w"}},57824:H=>{var E=1e3,e=E*60,t=e*60,f=t*24,s=f*7,g=f*365.25;H.expo},27C}},70631:(H,E,e)=>{var t=typeof Map=="function"&&Map.prototype,f=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=t&&f&&typeof f.get=="function"?f.get:null,g=t&&Map.prototype.forEach,P=typeof Set=="function"&&Set.prototype,y=Object.getOwnPropertyDescriptor&&P?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,C=P&&y&&typeof y.get=="function"?y.get:null,u=P&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,d=p?WeakMap.prototype.has:null,w=typeof WeakSet=="function"&&WeakSet.prototype,D=w?WeakSet.prototype.has:null,M=typeof WeakRef=="function"&&WeakRef.prototype,c=M?WeakRef.prototype.deref:null,l=Boolean.prototype.valueOf,i=Object.prototype.toString,v=Function.prototype.toString,O=String.prototype.match,T=String.prototype.slice,I=String.prototype.replace,L=String.prototype.toUpperCase,S=String.prototype.toLowerCase,N=RegExp.prototype.test,R=Array.prototype.concat,U=Array.prototype.join,W=Array.prototype.slice,K=Math.floor,G=typeof BigInt=="function"?BigInt.prototype.valueOf:null,re=Object.getOwnPropertySymbols,$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,F=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Z=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===F||"symbol")?Symbol.toStringTag:null,q=Object.prototype.propertyIsEnumerable,V=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Oe){return Oe.__proto__}:nu")}var Y=e(24654),ie=Y.custom,ce=se(ie)?ie:null;H.expo)}function Q(Oe){return be(Oe)==="[object Array]"&&(!Z||!(typeof Oe=="object"&&Z in Oe))}function ae(Oe){return be(Oe)==="[object Date]"&&(!Z||!(typeof Oe=="object"&&Z in Oe))}function te(Oe){return be(Oe)==="[object RegExp]"&&(!Z||!(typeof Oe=="object"&&Z in Oe))}function oe(Oe){return be(Oe)==="[object Error]"&&(!Z||!(typeof Oe=="object"&&Z in Oe))}function ue(Oe){return be(Oe)==="[object String]"&&(!Z||!(typeof Oe=="object"&&Z in Oe))}function ee(Oe){return be(Oe)==="[object Number]"&&(!Z||!(typeof Oe=="object"&&Z in O}var ve=Object.prototype.hasOwnProperfunction Le(Oe){if(!s||!Oe||typeof Oe!="object")return!1;try{s.call(Oe);try{C.call(Oe)}catch(Ie){return!0}return Oe instanceof Map}catch(Ie){}return!1}function Re(Oe){if(!d||!Oe||typeof Oe!="object")return!1;try{d.call(Oe,d);try{D.call(Oe,D)}catch(Ie){return!0}return Oe instanceof WeakMap}catch(Ie){}retur4=e},41f)},69=f},21019:(H,E,e)=>{"use strict";let{isClean:t,my:f}=e(65513),s=e(94258),g=e(69932),P=e(65631),y,C,)}class D extend}every(c){return this.nodes.every,c}getProxyProcessor(){returnl]}!ules(c,l){return l?c instanceof RegExp?this.walk((i,v)=>{if(i.type==="atrule"&&c.test(i.name))return l(i,v)}):this.walk((i,v)=>{if(i.type==="atrule"&&i.name===c)return l(i,v)}):(l=c,this.walk((i,v)=>{if(i.type==="atrule")return l(i,v)})}walkDecls(c,l){return l?c instanceof RegExp?this.walk((i,v)=>{if(i.type==="decl"&&c.test(i.prop))return l(i,v)}):this.walk((i,v)=>{if(i.type==="decl"&&i.prop===c)return l(i,v)}):(l=c,this.walk((i,v)=>{if(i.type==="decl")return l(i,v)}}D.registerParse=M=>{y=M},D.registerRule=M=>{C=M},D.registerAtRule=M=>{u=M},D.registerR=M},H.exports=D,D.default=D,D.rebu})}},42671:(H,E,e)=>{"use strict";let t=e(74241),f=e(228P}}H.exports=s,s.default=s},94258:(H,E,e)=>{"use strict";let t=e(656"}}H.exports=f,f.default=f},26461:(H,E,e)=>{"use strict";let t=e(21019),)}}g.registerLazyResult=P=>{f=P},g.registerProcessor=P=>{s=P},H.exports=g,g.default=g},50250:(H,E,e)=>{"use strict";let t=e(94258),f=e(47981),s=e(69932),g=e(41353),P=e(5995),y=e(41025),C=e(316e)}H.exports=u,u.default=u},5995:(H,E,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:f}=e(70209),{fileURLToPath:s,pathToFileURL:g}=e(87414),{isAbsolute:P,resolve:y}=e(99830),{nanoid:C}=e(62961),u=e(22868),p=e(42671),d=e(47981),w=Symbol("fromOffsetCache"),D=!!(t&&f),M=!!(y&&P);clasI}fromOffset(i){let v,O;if(this[w])O=this[w];else{let I=this.css.split(`
`);O=new Array(I.length);let L=0;for(let S=0,N=I.length;S<N;S++)O[S]=L,L+=I[S].length+1;this[w]=O}v=O[O.length-1];let T=0;if(i>=v)T=O.length-1;else{let I=O.length-2,L;for(;T<I;)if(L=T+(I-T>>1),i<O[L])I=L-1;else if(i>=O[L+1])T=L+1;else{T=L;break}}return{col:i-O[T]+1,line:Ti)}origin(i,v,O,T){if(!this.map)return!1;let I=this.map.consumer(),L=I.originalPositionFor({column:v,line:i});if(!L.source)return!1;let S;typeof O=="number"&&(S=I.originalPositionFor({column:T,line:O}));let N;P(L.source)?N=g(L.source):N=new URL(L.source,this.map.consumer().sourceRoot||g(this.map.mapFile));let R={column:L.column,endColumn:S&&S.column,endLine:S&&S.line,line:L.line,url:N.toString()};if(N.protocol==="file:")if(s)R.file=s(N);else throw new Error("file: protocol is not available in this PostCSS build");let U=I.sourceContentFor(L.source);return U&&(R.source=Ud}}H.exports=c,c.default=c,u&&u.registerInput&&u.registerInput(c)},21939:(H,E,e)=>{"use strict";let{isClean:t,my:f}=e(65513),s=e(48505),g=e(67088),P=e(21019),y=e(26461),C=e(72448),u=e(83632),p=e(66939),d=e(41025);const w={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},D={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},M={Once:!0,postcssPlugin:!0,prepare:!0},]}function v(L){let S;return L.type==="document"?S=["Document",c,"DocumentExit"]:L.type==="root"?S=["Root",c,"RootExit"]:S=i(L),{eventIndex:0,events:S,iterator:0,node:L,visitorIndex:0,visitors:,L}let T={};class I{constructor(S,N,R){this.stringified=!1,this.processed=!1;let U;if(typeof N=="object"&&N!==null&&(N.type==="root"||N.type==="document"))U=O(N);else if(N instanceof I||N instanceof u)U=O(N.root),N.map&&(typeof R.map=="undefined"&&(R.map={}),R.map.inline||(R.map.inline=!1),R.map.prev=N.map);else{let W=p;R.syntax&&(W=R.syntax.parse),R.parser&&(W=R.parser),W.parse&&(W=W.parse);try{U=W(N,R)}catch(K){this.processed=!0,this.error=K}U&&!U[f]&&P.rebuild(U)}this.result=new u(S,U,R),this.helpers=zo(Wn({},T),{postcss:T,result:this.result}),this.plugins=this.processor.plugins.)g)}catch(S){return this.async().catch(S)}finally(S){return this.async().then(S,S)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async pluginen(S,N){return this.async().then(S,N)}toString(){return this.get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.procesot}get[Symbol.toStringTag](){return"LazyResult"}}I.registerPostcss=L=>{T=L},H.exports=I,I.default=I,d.registerLazyResult(I),y.registerLazyResult(I)},54715:H=>{"use strict";let E={c0)},st)},s,s}};H.exports=E,E.default=E},48505:(H,E,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:f}=e(70209),{dirname:s,relative:g,resolve:P,sep:y}=e(99830),{pathToFileURL:C}=e(87414),u=e(5995),p=!!(t&&f),d=!!(s&&P&&g&&y);clasenerateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let M=this.previous()[0].consumer();M.file=this.outputFile(),this.map=f.fromSourceMap(M)}else this.map=new f({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new f({file:this.outputFile()});let M=1,c=1,l="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},v,O;this.stringify(this.r)ath(M){if(this.mapOpts.absolute||M.charCodeAt(0)===60||/^\w+:\/\//.test(M))return M;let c=this.memoizedPaths.get(M);if(c)return c;let l=this.opts.to?s(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(l=s(P(l,this.mapOpts.annotation)));let i=g(l,M);return this.memoizedPaths.set(M,itoFileUrl(M){let c=this.memoizedFileURLs.get(M);if(c)return c;if(C){let l=C(M).toString();return this.memoizedFileURLs.set(M,l),l}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(M){let c=this.memoizedURLs.get(M);if(c)return c;y==="\\"&&(M=M.replace(/\\/g,"/"));let l=encodeURI(M).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(M,l),l}}H.exports=w},47647:(H,E,e)=>{"use strict";let t=e(48505),f=e(67088),s=e(72448),g=e(66939);const P=e(83632);class y{constructor(u,p,d){p=p.toString(),this.stringified=!1,this._processor=u,this._css=p,this._opts=d,this._map=void 0;let w,D=f;this.result=new P(this._processor,w,this._opts),this.result.css=p;let M=this;Object.defineProperty(this.result,"root",{get(){return M.root}});let c=new t(D,w,this._opts,p);if(c.isMap()){let[l,i]=c.generate();l&&(this.result.css=l),i&&(this.result.map=i)}else c.clearAnnotation(),this.result.css=c.oString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.[]}get opts(){return this.result.opts}get processor(){return this.result.proces"}}H.exports=y,y.default=y},65631:(H,E,e)=>{"use strict";let{isClean:t,my:f}=e(65513),s=e(42671),g=e(1062),P=e(670 d}clasp}after(p){return this.parent.insertAfter(this,p),tcloneAfter(p={}){let d=this.clone(p);return this.parent.insertAfter(this,d)}getProxyProcessor(){returnd]}!]}positionBy(p,d){let w=this.source.start;if(p.index)w=this.positionInside(p.index,d);else if(p.word){d=this.toString();let D=d.indexOf(p.word);D!==-1&&(w=this.positionInside(D,d))}return w}positionInside(p,d){let w=d||this.toString(),D=this.source.start.column,M=this.source.start.line;for(let c=0;c<p;c++)w[c]===`
`?(D=1,M+=1):D+=1;return{column:D,line1]}rangeBy(p){let d={column:this.source.start.column,line:this.source.start.line},w=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:d.column+1,line:d.line};if(p.word){let D=this.toString(),M=D.indexOf(p.word);M!==-1&&(d=this.positionInside(M,D),w=this.positionInside(M+p.word.length,D))}else p.start?d={column:p.start.column,line:p.start.line}:p.index&&(d=this.positionInside(p.index)),p.end?w={column:p.end.column,line:p.end.line}:p.endIndex?w=this.positionInside(p.endIndex):p.index&&(w=this.positionInside(p.index+1));return(w.line<d.line||w.line===d.line&&w.column<=d.column)&&(w={column:d.column+1,line:d.line}),{end:w,starttoJSON(p,d){let w={},D=d==null;d=d||new Map;let M=0;for(let c in this){if(!Object.prototype.hasOwnProperty.call(this,c)||c==="parent"||c==="proxyCache")continue;let l=this[c];if(Array.isArray(l))w[c]=l.):i);else if(typeof l=="object"&&l.toJSON)w[c]=l.toJSON(null,d);else if(c==="source"){let i=d.get(l.input);i==null&&(i=M,d.set(l.input,M),M++),w[c]={end:l.end,inputId:i,start:l.start}}else w[c]=l}return D&&(w.inputs=[...d.keys()].map(c=>c.toJSON())}H.exports=C,C.default=C},66g)},68867:(H,E,e)=>{"use strict";let t=e(94258),f=e(83852),s=e(69932),g=e(41353),P=e(41025),y=e(31675);const C={empty:!0,space:M}}clas}}}atrule(w){let D=new g;D.name=w[1].slice(1),D.name===""&&this.unnamedAtrule(D,w),this.init(D,w[2]);let M,c,l,i=!1,v=!1,O=[],T=[];for(;!this.tokenizer.endOfFile();){if(w=this.tokenizer.nextToken(),M=w[0],M==="("||M==="["?T.push(M==="("?")":"]"):M==="{"&&T.length>0?T.push("}"):M===T[T.length-1]&&T.pop(),T.length===0)if(M===";"){D.source.end=this.getPosition(w[2]),D.source.end.offset++,this.semicolon=!0;break}else if(M==="{"){v=!0;break}else if(M==="}"){if(O.length>0){for(l=O.length-1,c=O[l];c&&c[0]==="space";)c=O[--l];c&&(D.source.end=this.getPosition(c[3]||c[2]),D.source.end.offset++)}this.end(w);break}else O.push(w);else O.push(w);if(this.tokenizer.endOfFile()){i=!0;break}}D.raws.between=this.spacesAndCommentsFromEnd(O),O.length?(D.raws.afterName=this.spacesAndCommentsFromStart(O),this.raw(D,"params",O),i&&(w=O[O.length-1],D.source.end=this.getPosition(w[3]||w[2]),D.source.end.offset++,this.spaces=D.raws.between,D.raws.between="")):(D.raws.afterName="",D.params=""),v&&(D.nodes=[],this.currentdecl(w,D){let M=new t;this.init(M,w[0][2]);let c=w[w.length-1];for(c[0]===";"&&(this.semicolon=!0,w.pop()),M.source.end=this.getPosition(c[3]||c[2]||u(w)),M.source.end.offset++;w[0][0]!=="word";)w.length===1&&this.unknownWord(w),M.raws.before+=w.shift()[1];for(M.source.start=this.getPosition(w[0][2]),M.prop="";w.length;){let T=w[0][0];if(T===":"||T==="space"||T==="comment")break;M.prop+=w.shift()[1]}M.raws.between="";let l;for(;w.length;)if(l=w.shift(),l[0]===":"){M.raws.between+=l[1];break}else l[0]==="word"&&/\w/.test(l[1])&&this.unknownWord([l]),M.raws.between+=l[1];(M.prop[0]==="_"||M.prop[0]==="*")&&(M.raws.before+=M.prop[0],M.prop=M.prop.slice(1));let i=[],v;for(;w.length&&(v=w[0][0],!(v!=="space"&&v!=="comment"));)i.push(w.shift());this.precheckMissedSemicolon(w);for(let T=w.length-1;T>=0;T--){if(l=w[T],l[1].toLowerCase()==="!important"){M.important=!0;let I=this.stringFrom(w,T);I=this.spacesFromEnd(w)+I,I!==" !important"&&(M.raws.important=I);break}else if(l[1].toLowerCase()==="important"){let I=w.slice(0),L="";for(let S=T;S>0;S--){let N=I[S][0];if(L.trim().indexOf("!")===0&&N!=="space")break;L=I.pop()[1]+L}L.trim().indexOf("!")===0&&(M.important=!0,M.raws.important=L,w=I)}if(l[0]!=="space"&&l[0]!=="comment")break}w.snt")&&(M.raws.between+=i.[1]).join(""),i=[]),this.raw(M,"value",i.concat(w),D),M.value.includes(":")&&!D&&this.checkMissedSemicolonit(w,D){this.current.push(w),w.source={input:this.input,start:this.getPosition(D)},w.raws.before=this.spaces,this.spaces="",w.type!=="comment"&&(this.semicolon=)}precheckMissedSemicolonlosedBracket(w){throw this.input.error("Unclosed bracket",{offset:w[2]},{offset:w[2]+}}H.exports=p},50020:(H,E,e)=>{"use strict";let t=e(42671),f=e(94258),s=e(21939),g=e(21019),P=e(71723),y=e(67088),C=e(50250),u=e(26461),p=e(11728),d=e(69932),w=e(41353),D=e(83632),M=e(5995),c=e(66939),l=e(54715),i=e(31675),v=e(41025),O=e(656I)}T.plugin=function(L,S){let N=!1;function R(...W){console&&console.warn&&!N&&(N=!0,console.warn(L+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(L+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let K=S(...W);return K.postcssPlugin=L,K.postcssVersion=new P().version,K}let U;return Object.defineProperty(R,"postcss",,U}}),R.procK)},R},T.stringify=y,T.parse=c,T.fromJSON=C,T.list=l,T.comment=I=>new d(I),T.atRule=I=>new w(I),T.decl=I=>new f(I),T.rule=I=>new i(I),T.root=I=>new v(I),T.docum(I),T.CssSyntaxError=t,T.Declaration=f,T.Container=g,T.Processor=P,T.Document=u,T.Comment=d,T.Warning=p,T.AtRule=w,T.Result=D,T.Input=M,T.Rule=i,T.Root=v,T.Node=O,s.registerPostcss(T),H.exports=T,T.default=T},47981:(H,E,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:f}=e(70209),{existsSync:s,readFileSync:g}=e(14777),{dirname:P,join:y}=e(998p)}clasorts=u,u.default=u},71723:(H,E,e)=>{"use strict";let t=e(47647),f=e(21939),s=e(26461),g=e(41025);clasu}process(C,u={}){return!this.plugins.length&&!u.parser&&!u.stringifier&&!u.syntax?new t(this,C,u):new f(this,Cis}}H.exports=P,P.default=P,g.registerProcessor(P),s.registerProcessor(P)},83632:(H,E,e)=>{"use strict";let t=e(11728);clas 0}toString(){return this.)}get content(){return this.css}}H.exports=f,f.default=f},41025:(H,E,e)=>{"use strict";let t=e(21019),f,s;class g extends t{constructor(y){super(y),this.type="root",this.nodes||(this.nodes=}}g.registerLazyResult=P=>{f=P},g.registerProcessor=P=>{s=P},H.exports=g,g.default=g,t.registerRoot(g)},31s)},1062:H=>{"use strict";const E={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:1)}clasoreComment(s,g){let P;return s.walkComments(y=>{if(typeof y.raws.before!="undefined")return P=y.raws.before,P.includes(`
`)&&(P=P.replace(/[^\n]+$/,"")),!1}),typeof P=="undefined"?P=this.raw(g,null,"beforeDecl"):P&&(P=P.replace(/\S/g,"")rts=t,t.default=t},67=f},65")},83852:H=>{"use strict";const E="'".charCodeAt(0),e='"'.charCodeAt(0),t="\\".charCodeAt(0),f="/".charCodeAt(0),s=`
`.charCodeAt(0),g=" ".charCodeAt(0),P="\f".charCodeAt(0),y="	".charCodeAt(0),C="\r".charCodeAt(0),u="[".charCodeAt(0),p="]".charCodeAt(0),d="(".charCodeAt(0),w=")".charCodeAt(0),D="{".charCodeAt(0),M="}".charCodeAt(0),c=";".charCodeAt(0),l="*".charCodeAt(0),i=":".charCodeAt(0),v="@".charCodeAt(0),O=/[\t\n\f\r "#'()/;[\\\]{}]/g,T=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,I=/.[\r\n"'(/\\]/,L=/[\da-f]/i;H.expoQ}}},72448:H=>{"use strict";let E={};H.expo))}},11=E},53836:(H,E,e)=>{E.__esModule=!0;vaz}}(),f=Object.assign||function(de){for(var z=1;z<arguments.length;z++){var Q=arguments[z];for(var ae in Q)Object.prototype.hasOwnProperty.call(Q,ae)&&(de[ae]=Q[ae])}return de},s=e(6400),g=e(98278),P=w(g),y=e(10251),C=w(y),u=e(27418),p=w(u),d=e(79e}}function D(de,z){if(!(de instanceof z))throw new TypeError("Cannot call a class as a function")}function M(de,z){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:de}function c(de,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);de.prototype=Object.create(z&&z.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(de,z):de.__proto__=z)}function l(de,z,Q){return z in de?Object.defineProperty(de,z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):de[z]=Q,de}var i="data-preact-helmet")},O=function(z,Q){for(var ae=z.length-1;ae>=0;ae--){var te=z[ae];if(te[Q])return te[Q]}return null},T=function(z){var Q=O(z,"title"),ae=O(z,"titleTemplate");if(ae&&Q)return ae.replace(/%s/g,function(){return Q});var te=O(z,"defaultTitle");return Q||te||""{}})},S=function(z,Q){return Q.filter(function(ae){return typeof ae[d.TAG_NAMES.BASE]!="undefined"}).E]}).reverse().redae},[])},N=function(z,Q,ae){var te={};return ae.fild"}).map(function(oe){return oe[z]}).reverse().redoe},[]).reverse()},R=function(z,Q){document.title=z||document.title,U(d.TAG_NAMES.TITLE,Q)},U=function(z,Q){for(var ae=document.getElementsByTagName(z)[0],te=ae.getAttribute(i),oe=te?te.split(","):[],ue=[].concat(oe),ee=Object.keys(Q),le=0;le<ee.length;le++){var se=ee[le],fe=Q[se]||"";ae.setAttribute(se,fe),oe.indexOf(se)===-1&&oe.push(se);var ve=ue.indexOf(se);ve!==-1&&ue.splice(ve,1)}for(var ge=ue.length-1;ge>=0;ge--)ae.removeAttribute(ue[ge]);oe.length===ue.length?ae.removeAttribute(i):ae.setAttribute(i,oe.join(","))},W=function(z,Q){var ae=document.head||document.querySelector("head"),te=ae.querySelectorAll(z+"["+i+"]"),oe=Array.prototype.slice.call(te),ue=[],ee=void 0;return Q&&Q.length&&Q.forEach(function(le){var se=document.createElement(z);for(var fe in le)if(le.hasOwnProperty(fe))if(fe==="innerHTML")se.innerHTML=le.innerHTML;else if(fe==="cssText")se.styleSheet?se.styleSheet.cssText=le.cssText:se.appendChild(document.createTextNode(le.cssText));else{var ve=typeof le[fe]=="undefined"?"":le[fe];se.setAttribute(fe,ve)}se.setAttribute(i,"true"),oe.se)})?oe.splice(ee,1):ue.push(se)}),oe.forEach(function(le){return le.parentNode.removeChild(le)}),ue.forEach(function(le){return ae.appendChild(le)}),{oldTags:oe,newTags:ue}")},G=function(z,Q,ae){var te=K(ae);return te?"<"+z+" "+i+" "+te+">"+v(Q)+"</"+z+">":"<"+z+" "+i+">"+v(Q)+"</"+z+">"},re=function(z,Q){return Q.reduce(function(ae,te){var oe=Object.keys(te).fil")}).reduce(function(le,se){var fe=typeof te[se]=="undefined"?se:se+'="'+v(te[se])+'"';return le?le+" "+fe:fe},""),ue=te.innerHTML||te.cssText||"",ee=[d.TAG_NAMES.NOSCRIPT,d.TAG_NAMES.SCRIPT,d.TAG_NAMES.STYLE].indexOf(z)===-1;return ae+"<"+z+" "+i+" "+oe+(ee?">":">"+ue+"</"+z+">")},"")},$=function(z,Q,ae){var te=l({key:Q},i,!0),oe=Object.keys(ae).redue},te);return[(0,s.h)(d.TAG_NAMES.TITLE,oe,Q)]},F=function(z,Q){return Q.map(function(ae,te){var oe=l({key:te},i,!0);return Object.keys(ae).forEach(function(ue){var ee=ue;if(ee==="innerHTML"||ee==="cssText"){var le=ae.innerHTML||ae.cssText;oe.dangerouslySetInnerHTML={__html:le}}else oe[ee]=ae[ue]}),(0,s.h)(z,oe)})},Z=function(z,Q){switch(z){case d.TAG_NAMES.TITLE:return{toComponent:function(){return $(z,Q.title,Q.titleAttributes)},toStrs)}};case d.TAG_NAMES.HTML:return{toComponent:function(){return Q},toString:function(){return K(Q)}};default:return{toComponent:function(){return F(z,Q)},toStrQ)}}}},q=function(z){var Q=z.htmlAttributes,ae=z.title,te=z.titleAttributes,oe=z.baseTag,ue=z.metaTags,ee=z.linkTags,le=z.scriptTags,se=z.noscriptTags,fe=z.styleTags;return{htmlAttributes:Z(d.TAG_NAMES.HTML,Q),title:Z(d.TAG_NAMES.TITLE,{title:ae,titleAttributes:te}),base:Z(d.TAG_NAMES.BASE,oe),meta:Z(d.TAG_NAMES.META,ue),link:Z(d.TAG_NAMES.LINK,ee),script:Z(d.TAG_NAMES.SCRIPT,le),noscript:Z(d.TAG_NAMES.NOSCRIPT,se),style:Z(d.TAG_NAMES.STYLE,fe)}},V=function(z){var Q,ae;return ae=Q=function(te){c(oe,))}return t(oe,[{key:"shouldComponentUpdate",value:function(ee){var le=f({},ee);return(!le.children||!le.children.length)&&delete le.children,!(0,C.default)(this.props,le)}},{key:"render",value:function(){return(0,s.h)(z,this.props)}}],[{key:"canUseDOM",set:function(ee){z.canUseDOM=ee}}]),oe}(s.Component),Q.peek=z.peek,Q.rewind=function(){var te=z.rewind();return te||(te=q({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),te},ae},j=function(z){return{htmlAttributes:L(d.TAG_NAMES.HTML,z),title:T(z),titleAttributes:L("titleAttributes",z),baseTag:S([d.TAG_PROPERTIES.HREF],z),metaTags:N(d.TAG_NAMES.META,[d.TAG_PROPERTIES.NAME,d.TAG_PROPERTIES.CHARSET,d.TAG_PROPERTIES.HTTPEQUIV,d.TAG_PROPERTIES.PROPERTY,d.TAG_PROPERTIES.ITEM_PROP],z),linkTags:N(d.TAG_NAMES.LINK,[d.TAG_PROPERTIES.REL,d.TAG_PROPERTIES.HREF],z),scriptTags:N(d.TAG_NAMES.SCRIPT,[d.TAG_PROPERTIES.SRC,d.TAG_PROPERTIES.INNER_HTML],z),noscriptTags:N(d.TAG_NAMES.NOSCRIPT,[d.TAG_PROPERTIES.INNER_HTML],z),styleTags:N(d.TAG_NAMES.STYLE,[d.TAG_PROPERTIES.CSS_TEXT],z),onChangeClientState:I(z)}},Y=function(z){var Q=z.htmlAttributes,ae=z.title,te=z.titleAttributes,oe=z.baseTag,ue=z.metaTags,ee=z.linkTags,le=z.scriptTags,se=z.noscriptTags,fe=z.styleTags,ve=z.onChangeClientState;U("html",Q),R(ae,te);var ge={baseTag:W(d.TAG_NAMES.BASE,oe),metaTags:W(d.TAG_NAMES.META,ue),linkTags:W(d.TAG_NAMES.LINK,ee),scriptTags:W(d.TAG_NAMES.SCRIPT,le),noscriptTags:W(d.TAG_NAMES.NOSCRIPT,se),styleTags:W(d.TAG_NAMES.STYLE,fe)},be={},ne={};Object.keys(ge).forEs)}),ve(z,be,ne)},ie=function(){return null},ce=(0,P.default)(j,Y,q)(ie);E.default=V(ce),H.exports=E.default},7937:(H,E)=>{E.__esModule=!0;var e=E.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},t=E.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},f=E.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Link:()=>K,Route:()=>G,Router:()=>W,default:()=>re,exec:()=>g,getCurrentUrl:()=>i,route:()=>v,subscribers:()=>M});var t=e(6400),f={};function s($,F){for(var Z in F)$[Z]=F[Z];return $}function g($,F,Z){var q=/(?:\?([^#]*))?(#.*)?$/,V=$.match(q),j={},Y;if(V&&V[1])for(var ie=V[1].split("&"),ce=0;ce<ie.length;ce++){var de=ie[ce].split("=");j[decodeURIComponent(de[0])]=decodeURIComponent(de.slice(1).join("="))}$=C($.replace(q,"")),F=C(F||"");for(var z=Math.max($.length,F.length),Q=0;Q<z;Q++)if(F[Q]&&F[Q].charAt(0)===":"){var ae=F[Q].replace(/(^:|[+*?]+$)/g,""),te=(F[Q].match(/[+*?]+$/)||f)[0]||"",oe=~te.indexOf("+"),ue=~te.indexOf("*"),ee=$[Q]||"";if(!ee&&!ue&&(te.indexOf("?")<0||oe)){Y=!1;break}if(j[ae]=decodeURIComponent(ee),oe||ue){j[ae]=$.slice(Q).map(decodeURIComponent).join("/");break}}else if(F[Q]!==$[Q]){Y=!1;break}return Z.default!==!0&&Y===!1?!ex}function y($,F){return $.index=F,$.rank=d($),$.pr")}function u($){return $.charAt(0)==":"?1+"*+?".indexOf($.charAt($.length-1))||")}function d($){return $.props.default?0:p($.props.path)}var w=null,D=[],M=[],c={};function l($,F){F===void 0&&(F="push"),w&&w[F]?w[F]($):typeof history!="undefined"&&history[F+"State"]&&history[F+"State"](null,null,$)}function i(){var $;return w&&w.location?$=w.location:w&&w.getCurrentLocation?$=w.getCurrentLocation():$=typeof location!="undefined"?location:c,""+($.pathname||"")+($.search||"")}function v($,F){return F===void 0&&(F=!1),typeof $!="string"&&$.url&&(F=$.replace,$=$.url),O($)&&l($,F?"replace":"push"),T($)}function O($){for(var F=D.length;F--;)if(D[F].canRoute($))return!0;return!1}function T($){for(var F=!1,Z=0;Z<D.length;Z++)D[Z].routeTo($)===!0&&(F=!0);for(var q=M.length;q--;)M[q]($);return F}function I($){if(!(!$||!$.getAttribute)){var F=$.getAttribute("href"),Z=$.getAttribute("target");if(!(!F||!F.match(/^\//g)||Z&&!Z.match(/^_?self$/i)))return v(F)}}function L($){if(!($.ctrlKey||$.metaKey||$.altKey||$.shiftKey||$.button!==0))return I($.currentTarget||$.target||this),S!1}function N($){if(!($.ctrlKey||$.metaKey||$.altKey||$.shiftKey||$.button!==0)){var F=$.target;do if(String(F.nodeName).toUpperCase()==="A"&&F.getAttribute("href")){if(F.hasAttribute("native"))return;if(I(F))return S($)}while(F=F.parentNode)}}var R=!1;function U(){R||(typeof addEventListener=="function"&&(w||addEventListener("popsta))}),addEventListener("click",N)),R=!0)}var W=function($){function F(Z){$.call(this,Z),Z.history&&(w=Z.history),this.state={url:Z.url||i()},U()}return $&&(F.__proto__=$),F.prototype=Object.create($&&$.prototype),F.prototype.constructor=F,F.prototype.shouldComponentUpdate=function(q){return q.static!==!0?!0:q.url!==this.props.url||q.onChange!==this.props.onChange},F.prototype.canRo>0},F.prototype.rout,V},F.prototype.componentWillMo!0},F.prototype.componentDidMo!1},F.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),D.splice(D.indexOf(this),1)},F.prototype.componentWillUpdate=function(){this.updating=!0},F.prototype.componentDidUpdate=function(){this.updating=!1},F.prototype.getMatchingChildren=function(q,V,j){return q.filter(y).sort(P).map(function(Y){var ie=g(V,Y.props.path,Y.props);if(ie){if(j!==!1){var ce={url:V,matches:ie};return s(ce,ie),delete ce.ref,delete ce.key,(0,t.cloneElement)(Y,ce)}return Y}}).filter(Boolean)},F.prototype.render=function(q,V){var j=q.children,Y=q.onChange,ie=V.url,ce=this.getMatchingChildren((0,t.toChildArray)(j),ie,!0),de=ce[0]||null,z=this.previousUrl;return ie!==z&&(this.previousUrl=ie,typeof Y=="function"&&Y({router:this,url:ie,previous:z,active:ce,current:de})),de},F}(t.Component))$)};W.subscribers=M,W.getCurrentUrl=i,W.route=v,W.Router=W,W.Route=G,W.Link=K,W.exec=g;const re=W},56232:(H,E,e)=>{"use strict";var t;t={value:!0},t=E.qE=void 0;var f=Object.assign||function(w){for(var D=1;D<arguments.length;D++){var M=arguments[D];for(var c in M)Object.prototype.hasOwnProperty.call(M,c)&&(w[c]=M[c])}return w},s=e(6400),g=e(20042);function P(w,D){var M={};for(var c in w)D.indexOf(c)>=0||Object.prototype.hasOwnProperty.call(w,c)&&(M[c]=w[c]);return M}function y(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")}function C(w,D){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:w}function u(w,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);w.prototype=Object.create(D&&D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(w,D):w.__proto__=D)}var p=E.qE=function(w){u(D,w);function D(){var M,c,l;y(this,D);for(var i=arguments.length,v=Array(i),O=0;O<i;O++)v[O]=arguments[O];return l=(M=(c=C(this,w.call.apply(w,[this].concat(v))),c),c.upd})},M),C(c,l)}return D.prototype.componentDidMoe)},D.prototype.componentWillUnmo1)},D.prototype.render=function(c){var l=this.nextUrl||(0,g.getCurrentUrl)(),i=l.replace(/\?.+$/,"");return this.nextUrl=null,c.children({url:l,path:i,matches:(0,g.exec)(i,c.path,{})!==!1})},D}(s.Component),d=function(D){var M=D.activeClassName,c=D.path,l=P(D,["activeClassName","path"]);return(0,s.h)(p,{path:c||l.href},function(i){var v=i.matches;return(0,s.h)(g.Link,f({},l,{class:[l.class||l.className,v&&M].filter(Boolean).join(" ")}))})};t=d,t=p,p.Link=d},98278:(H,E,e)=>{"use strict";var t=e(64 u}function s(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a functio)}H.exports=function(C,u,p){if(typeof C!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof u!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p!="undefined"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a functiont"}return function(M){if(typeof M!="function")throw new Error("Expected WrappedComponent to be a React component.");var c=[],l=voi))}var v=function(O){P(T))}return T.peek=function(){return l},T.rew,L},T.prototype.shouldComponentUpdate=function(L){var S=L.children,N=f(L,["children"]);return S&&S.length&&(N.children=S),w(N,this.props)},T.prototype.componentWillMo()},T.prototype.componentDidUpd()},T.prototype.componentWillUnmo()},T.prototype.rens)},T}(t.Component);return v.displayName="SideEffect("+d(M)+")",v.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement)!1}}},98661:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Children:()=>D,Component:()=>t.Component,Fragment:()=>t.Fragment,PureComponent:()=>y,StrictMode:()=>ge,Suspense:()=>v,SuspenseList:()=>I,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>ae,cloneElement:()=>ee,createContext:()=>t.createContext,createElement:()=>t.createElement,createFactory:()=>oe,createPortal:()=>R,createRef:()=>t.createRef,default:()=>Me,findDOMNode:()=>se,flushSync:()=>ve,forwardRef:()=>d,hydrate:()=>Z,isValidElement:()=>ue,lazy:()=>T,memo:()=>C,render:()=>F,startTransition:()=>be,unmountComponentAtNode:()=>le,unstable_batchedUpdates:()=>fe,useCallback:()=>f.I4,useContext:()=>f.qp,useDebugValue:()=>f.Qb,useDeferredValue:()=>ne,useEffect:()=>f.d4,useErrorBoundary:()=>f.cO,useId:()=>f.Me,useImperativeHandle:()=>f.aP,useInsertionEffect:()=>Le,useLayoutEffect:()=>f.bt,useMemo:()=>f.Ye,useReducer:()=>f._Y,useRef:()=>f.sO,useState:()=>f.eJ,useSyncExternalStore:()=>Re,useTransition:()=>me,version:()=>te});var t=e(6400),f=e(30396);function s(Ee,we){for(var Te in we)Ee[Te]=we[Te];returne}function y(Ee){this.propsDe}(y.prototype=new t.Component).isPureReactComponent=!0,y.prototype.shouldComponentUpde)};var u=t.options.__b;t.options.e)};var p=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3we}va))},D={map:w,forEach:w,co:0},o0]},toArray:t.toChildArray},M=t.options.__e;t.options.e)};var c=t.options.unmooptions.unmoe)},(v.prototype=new t.Component).t)},v.prototype.componentWillUnmo[]},v.prototype.rene]};va}(I.prototype=new t.Component).)}},I.prototype.renen},I.prototype.componentDidUpdate=I.prototype.componentDidMo})};var U=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,W=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,K=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,G=/[A-Z0-9]/g,re=typeof document!="undefinedl}t.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forE})});var q=t.options.event;function V(){}function j(){return this.cancelBubed}t.options.evEe};var ie,ce={configurable:!0,get:function(){return this.class}},de=t.options.vnode;t.options.vnode=function(Ee){var we=Ee.type,Te=Ee.props,De=Te;if(typeof we=="string"){for(var Be in De={},Te){var Ke=Te[Be];if(!(Be==="value"&&"defaultValue"in Te&&Ke==null||re&&Be==="children"&&we==="noscript")){var tt=Be.toLowerCase();Be==="defaultValue"&&"value"in Te&&Te.value==null?Be="value":Be==="download"&&Ke===!0?Ke="":tt==="ondoubleclick"?Be="ondblclick":tt!=="onchange"||we!=="input"&&we!=="textarea"||$(Te.type)?tt==="onfocus"?Be="onfocusin":tt==="onblur"?Be="onfocusout":K.test(Be)?Be=tt:we.indexOf("-")===-1&&W.test(Be)?Be=Be.replace(G,"-$&").toLowerCase():Ke===null&&(Ke=void 0):tt=Be="oninput",tt==="oninput"&&De[Be=tt]&&(Be="oninputCapture"),De[Be]=Ke}}we=="select"&&De.multiple&&Array.isArray(De.value)&&(De.value=(0,t.toChildArray)(Te.children).forE-1})),we=="select"&&De.defaultValue!=null&&(De.value=(0,t.toChildArray)(Te.children).forEue})),Ee.props=De,Te.class!=Te.className&&(ce.enumerable="className"in Te,Te.className!=null&&(De.class=Te.className),Object.defineProperty(De,"className",ce))}Ee.$$typeof=U,de&&de(Ee)};var z=t.options.__r;t.options._c};var Q=t.options.diffed;t.options.difll};var ae={ReactCurrentDispatcher:{current:{readContue}}}},te="17.0ar fe=function(Ee,we){return Ee(we)}e)},ge=t.Fragm}var Le=fTe}var Me={useState:f.eJ,useId:f.Me,useReducer:f._Y,useEffect:f.d4,useLayoutEffect:f.bt,useInsertionEffect:Le,useTransition:me,useDeferredValue:ne,useSyncExternalStore:Re,startTransition:be,useRef:f.sO,useImperativeHandle:f.aP,useMemo:f.Ye,useCallback:f.I4,useContext:f.qp,useDebugValue:f.Qb,version:"17.0.2",Children:D,render:F,hydrate:Z,unmountComponentAtNode:le,createPortal:R,createElement:t.createElement,createContext:t.createContext,createFactory:oe,cloneElement:ee,createRef:t.createRef,Fragment:t.Fragment,isValidElement:ue,findDOMNode:se,Component:t.Component,PureComponent:y,memo:C,forwardRef:d,flushSync:ve,unstable_batchedUpdates:fe,StrictMode:ge,Suspense:v,SuspenseList:I,lazy:T,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ae}},14369:(H,E,e)=>{"use strict";e.r(E),e.d(E,{addHookName:()=>f});var t=e(6400);function f(s,g){return t.options.__a&&t.options.__a(g),s}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",t.options,{Fragment:t.Fragment,Component:t.Component})},6400:(H,E,e)=>{"use strict";e.r(E),e.d(E,{Component:()=>T,Fragment:()=>O,cloneElement:()=>ae,createContext:()=>te,createElement:()=>l,createRef:()=>v,h:()=>l,hydrate:()=>Q,isValidElement:()=>g,options:()=>f,render:()=>z,toChildArray:()=>W});var t,f,s,g,P,y,C,u,p,d={},w=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|iteron N(){var oe,ue,ee,le,se,fe,ve,ge;for(P.sort(u);oe=P.shift();)oe.__d&&(ue=P.length,le=void 0,se=void 0,ve=(fe=(ee=oe).__v).__e,(ge=ee.__P)&&(le=[],(se=M({},fe)).__v=fe.__v+1,V(ge,fe,se,ee.__n,ge.ownerSVGElement!==void 0,fe.__h!=null?[ve]:null,le,ve==null?I(fe):ve,fe.__h),j(le,fe),fe.__e!=ve&&L(fe)),P.length>ue&&P.sort(u));N.__r=0}function R(oe,ue,ee,le,se,fe,ve,ge,be,ne){var me,Le,Re,Me,Ee,we,Te,De=le&&le.__k||w,Be=De.length;for(ee.__k=[],me=0;me<ue.length;me++)if((Me=ee.__k[me]=(Me=ue[me])==null||typeof Me=="boolean"||typeof Me=="function"?null:typeof Me=="string"||typeof Me=="number"||typeof Me=="bigint"?i(null,Me,null,null,Me):Array.isArray(Me)?i(O,{children:Me},null,null,null):Me.__b>0?i(Me.type,Me.props,Me.key,Me.ref?Me.ref:null,Me.__v):Me)!=null){if(Me.__=ee,Me.__b=ee.__b+1,(Re=De[me])===null||Re&&Me.key==Re.key&&Me.type===Re.type)De[me]=void 0;else for(Le=0;Le<Be;Le++){if((Re=De[Le])&&Me.key==Re.key&&Me.type===Re.type){De[Le]=void 0;break}Re=null}V(oe,Me,Re=Re||d,se,fe,ve,ge,be,ne),Ee=Me.__e,(Le=Me.ref)&&Re.ref!=Le&&(Te||(Te=[]),Re.ref&&Te.push(Re.ref,null,Me),Te.push(Le,Me.__c||Ee,Me)),Ee!=null?(we==null&&(we=Ee),typeof Me.type=="function"&&Me.__k===Re.__k?Me.__d=be=U(Me,be,oe):be=K(oe,Me,Re,De,Ee,be),typeof ee.type=="function"&&(ee.__d=be)):be&&Re.__e==be&&be.parentNode!=oe&&(be=I(Re))}for(ee.__e=we,me=Be;me--;)De[me]!=null&&(typeof ee.type=="function"&&De[me].__e!=null&&De[me].__e==ee.__d&&(ee.__d=G(le).nextSibling),ce(De[me],De[me]));if(Te)for(me=0;me<Te.length;me++)ie(Te[me],Te[++me],Te[++mction Z(oe){return this.l[oe.type+!1](f.event?f.event(oe):e)}function V(oe,ue,ee,le,se,fe,ve,ge,be){var ne,me,Le,Re,Me,Ee,we,Te,De,Be,Ke,tt,Ot,et,it,bt=ue.type;if(ue.constructor!==void 0)return null;ee.__h!=null&&(be=ee.__h,ge=ue.__e=ee.__e,ue.__h=null,fe=[ge]),(ne=f.__b)&&ne(ue);try{e:if(typeof bt=="function"){if(Te=ue.props,De=(ne=bt.contextType)&&le[ne.__c],Be=ne?De?De.props.value:ne.__:le,ee.__c?we=(me=ue.__c=ee.__c).__=me.__E:("prototype"in bt&&bt.prototype.render?ue.__c=me=new bt(Te,Be):(ue.__c=me=new T(Te,Be),me.constructor=bt,me.render=de),De&&De.sub(me),me.props=Te,me.state||(me.state={}),me.context=Be,me.__n=le,Le=me.__d=!0,me.__h=[],me._sb=[]),me.__s==null&&(me.__s=me.state),bt.getDerivedStateFromProps!=null&&(me.__s==me.state&&(me.__s=M({},me.__s)),M(me.__s,bt.getDerivedStateFromProps(Te,me.__s))),Re=me.props,Me=me.state,me.__v=ue,Le)bt.getDerivedStateFromProps==null&&me.componentWillMount!=null&&me.componentWillMount(),me.componentDidMount!=null&&me.__h.push(me.componentDidMount);else{if(bt.getDerivedStateFromProps==null&&Te!==Re&&me.componentWillReceiveProps!=null&&me.componentWillReceiveProps(Te,Be),!me.__e&&me.shouldComponentUpdate!=null&&me.shouldComponentUpdate(Te,me.__s,Be)===!1||ue.__v===ee.__v){for(ue.__v!==ee.__v&&(me.props=Te,me.state=me.__s,me.__d=!1),me.__e=!1,ue.__e=ee.__e,ue.__k=ee.__k,ue.__k.forEe)}),Ke=0;Ke<me._sb.length;Ke++)me.__h.push(me._sb[Ke]);me._sb=[],me.__h.length&&ve.push(me);break e}me.componentWillUpdate!=null&&me.componentWillUpdate(Te,me.__s,Be),me.componentDidUpdate!=null&&me.__h.pe)})}if(me.context=Be,me.props=Te,me.__P=oe,tt=f.__r,Ot=0,"prototype"in bt&&bt.prototype.render){for(me.state=me.__s,me.__d=!1,tt&&tt(ue),ne=me.render(me.props,me.state,me.context),et=0;et<me._sb.length;et++)me.__h.push(me._sb[et]);me._sb=[]}else do me.__d=!1,tt&&tt(ue),ne=me.render(me.props,me.state,me.context),me.state=me.__s;while(me.__d&&++Ot<25);me.state=me.__s,me.getChildContext!=null&&(le=M(M({},le),me.getChildContext())),Le||me.getSnapshotBeforeUpdate==null||(Ee=me.getSnapshotBeforeUpdate(Re,Me)),it=ne!=null&&ne.type===O&&ne.key==null?ne.props.children:ne,R(oe,Array.isArray(it)?it:[it],ue,ee,le,se,fe,ve,ge,be),me.base=ue.__e,ue.__h=null,me.__h.length&&ve.push(me),we&&(me.__E=me.__=null),me.__e=!1}else fe==null&&ue.__v===ee.__v?(ue.__k=ee.__k,ue.__e=ee.__e):ue.__e=Y(ee.__e,ue,ee,le,se,fe,ve,be);(ne=f.diffed)&&ne(ue)}catch(xe){ue.__v=null,(be||fe!=null)&&(ue.__e=ge,ue.__h=!!be,fe[fe.indexOf(ge)]=null),f.__e(xe,ue,elice,f={oe}},s= 0},T.prototype.setSt))},T.prototype.forceUpd))},T.prototype.render=O,P=[],C=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeou_b},N.__r=0,p=0},30396:(H,E,e)=>{"use strict";e.d(E,{I4:()=>S,Me:()=>W,Qb:()=>R,Ye:()=>L,_Y:()=>i,aP:()=>I,bt:()=>O,cO:()=>U,d4:()=>v,eJ:()=>l,qp:()=>N,sO:()=>T});var t=e(6400),f,s,g,P,y=0,C=[],u=[],p=t.options.__b,d=t.options.__r,w=t.options.diffed,D=t.options.__c,M=t.options.unmoV)},t.options.=s},t.options.difll},t.options.j)},t.options.unmo))};var G=typeof requestAnimationFrame=="functi,92y}},45()},50=E},92592:(H,E,e)=>{const t=e(47138),f=e(95115),s=e(6907),g=e(937)}}E.create=f.create,E.toCanvas=P.bind(null,s.render),E.toDataURL=P.bind(null,s.renderToDataURL),E.toString=P.bind(nu)})},47138:H=>{H.expoen}},21845:(H,E,e)=>{const t=e(10242).getSymbolSize;E.getRowColCoo()},E.getPositi g}},8260:(H,E,e)=>{const t=e(76910),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(g){this.mode=t.ALPHANUMERIC,this.data=g}s.getBitsLen2)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.wr6)},H.exports=s},97245:=0}E.prototype={=1},1)},getLengthInBits:function(){return this.length},put++}},H.exports=E},73=E},43424:(H,E,e)=>{const t=e(62378),f=e(76910);function s(g){this.mode=f.BYTE,typeof g=="string"&&(g=t(g)),this.data=new Uint8Array(g)}s.getBitsLength=function(P){return P*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.wr8)},H.exports=s},26245:(H,E,e)=>{const t=e(64908),f=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];E.getBlocksCount=function(P,y){switch(y){case t.L:return f[(P-1)*4+0];case t.M:return f[(P-1)*4+1];case t.Q:return f[(P-1)*4+2];case t.H:return f[(P-1)*4+3];default:return}},E.getTotalCodewordsCon}}},64908:(H,E)=>{E.L={bit:1},E.M={bit:0},E.Q={bit:3},E.H={bit)}}E.isVa<4},E.from=function(f,s){if(E.isValid(f))return f;try{return e(f)}catch(g){return s}}},76526:(H,E,e)=>{const t=e(10242).getSymbolSize,f=7;E.getPositi]]}},61642:(H,E,e)=>{const t=e(10242),f=1335,s=21522,g=t.getBCHDigit(f);E.getEncodedBits=function(y,C){const u=y.bit<<3|C;let p=u<<10;for(;t.getBCHDigit(p)-g>=0;)p^=f<<t.getBCHDigit(p)-g;return(u<<10|p)^s}},69729:(H,E)=>{const e=new Uint8Array(512),t=new Uint8Array(255]})(),E.s]},E.exp=function(s){return e[s]},E.]]}},51018:(H,E,e)=>{const t=e(76910),f=e(102=g}s.getBitsLen13},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.wr)}},H.exports=s},27126:(H,E)=>{E.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};E.isVa=7},E.f 0},E.getPenalt P},E.getPenaltyN2=function(s){const g=s.size;let P=0;for(let y=0;y<g-1;y++)for(let C=0;C<g-1;C++){const u=s.get(y,C)+s.get(y,C+1)+s.get(y+1,C)+s.get(y+1,C+1);(u===4||u===0)&&P++}return P*e.N2},E.getPenaltyN3=function(s){const g=s.size;let P=0,y=0,C=0;for(let u=0;u<g;u++){y=C=0;for(let p=0;p<g;p++)y=y<<1&2047|s.get(u,p),p>=10&&(y===1488||y===93)&&P++,C=C<<1&2047|s.get(p,u),p>=10&&(C===1488||C===93)&&P++}return P*e.N3},E.getPenaltyN4=function(s){let g=0;const P=s.data.length;for(let C=0;C<P;C++)g+=s.data[C];return Math.abs(Math.ceil(g*100/P/5)-10)*e.)}}E.applyM))},E.getBestM y}},76910:(H,E,e)=>{const t=e(43114),f=e(7007);E.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},E.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},E.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},E.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},E.MIXED={bit:-1},E.getCharCountIndica2]},E.getBestModeForDTE},E.toStr")},E.isVa)}}E.fy}}},41085:(H,E,e)=>{const t=e(769()}f.getBitsLen0)},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLenh)},f.prototype.wr))},H.exports=f},26143:(H,E,e)=>{const t=e(69729);E. P},E. P},E.generateECPolynom g}},95115:(H,E,e)=>{const t=e(10242),f=e(64908),s=e(97245),g=e(73280),P=e(21845),y=e(76526),C=e(27126),u=e(26245),p=e(52882),d=e(23103),w=e(61642),D=e(76910),M=e(161}function v(N,R){const U=N.size,W=d.getEncodedBits(R);let K,G,re;for(let $=0;$<18;$++)K=Math.floor($/3),G=$%3+U-8-3,re=(W>>$&1)===1,N.set(K,G,re,!0),N.set(G,K,re,!0)}function O(N,R,U){const W=N.size,K=w.getEncodedBits(R,U);let G,re;for(G=0;G<15;G++)re=(K>>G&1)===1,G<6?N.set(G,8,re,!0):G<8?N.set(G+1,8,re,!0):N.set(W-15+G,8,re,!0),G<8?N.set(8,W-G-1,re,!0):G<9?N.set(8,15-G-1+1,re,!0):N.set(8,15-G-1,re,!0);N.set(W-8,8,1,!0)}function T(N,R){const U=N.size;let W=-1,K=U-1,G=7,re=0;for(let $=U-1;$>0;$-=2)for($===6&&$--;;){for(let F=0;F<2;F++)if(!N.isReserved(K,$-F)){let Z=!1;re<R.length&&(Z=(R[re]>>>G&1)===1),N.set(K,$-F,Z),G--,G===-1&&(re++,G=7)}if(K+=W,K<0||U<=K){K-=W,W=-W;breaR)}function L(N,R,U){const W=t.getSymbolTotalCodewords(R),K=u.getTotalCodewordsCount(R,U),G=W-K,re=u.getBlocksCount(R,U),$=W%re,F=re-$,Z=Math.floor(W/re),q=Math.floor(G/re),V=q+1,j=Z-q,Y=new p(j);let ie=0;const ce=new Array(re),de=new Array(re);let z=0;const Q=new Uint8Array(N.buffer);for(let ee=0;ee<re;ee++){const le=ee<F?q:V;ce[ee]=Q.slice(ie,ie+le),de[ee]=Y.encode(ce[ee]),ie+=le,z=Math.max(z,le)}const ae=new Uint8Array(W);let te=0,oe,ue;for(oe=0;oe<z;oe++)for(ue=0;ue<re;ue++)oe<ce[ue].length&&(ae[te++]=ce[ue][oe]);for(oe=0;oe<j;oe++)for(ue=0;ue<re;ue++)ae[te++]=de[ue][oe];returnK}}E.creG)}},52=f},7007:(H,E)=>{const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let f="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";f=f.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+f+`)(?:.|[\r
]))+`;E.KANJI=new RegExp(f,"g"),E.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),E.BYTE=new RegExp(s,"g"),E.NUMERIC=new RegExp(e,"g"),E.ALPHANUMERIC=new RegExp(t,"g");const g=new RegExp("^"+f+"$"),P=new RegExp("^"+e+"$"),y=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");E.testKanji=function(u){return g.test(u)},E.testNumeric=function(u){return P.test(u)},E.testAlphanumeu)}},16130:(H,E,e)=>{const t=e(76910),f=e(41085),s=e(8260),g=e(43424),P=e(51018),y=e(7007),C=e(10242),u=e(659th}function d(v,O,T){const I=[];let L;for(;(L=v.exec(T))!==null;)I.push({data:L[0],index:L.index,mode:O,length:L[0].length});returunction i(v,O){let T;const I=t.getBestModeForData(v);if(T=t.from(O,I),T!==t.BYTE&&T.bit<I.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(I));switch(T===t.KANJI&&!C.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new f(v);case t.ALPHANUMERIC:return new s(v);case t.KANJI:return new P(v);case t.BYTE:return new g(v)}}E.fromAr])},E.fromStr))},E.rawSp))}},10242:(H,E)=>{let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];E.getSymbolS17},E.getSymbolTotalCodewos]},E.getBCHDi s},E.setToSJISFunct=s},E.isKanjiModeEnabled=function(){return typeof e!="undefined"},E.toSJIS=function(s){return e(s)}},430}},23103:(H,E,e)=>{const t=e(10242),f=e(26245),s=e(64908),g=e(76910),P=e(43114),y=7973,C=t.getBCHDigitE.f:c},E.getCapac)}},E.getBestVersionForData=function(M,c){let l;const i=s.from(c,s.M);if(Array.isArray(M)){if(M.length>1)return w(M,i);if(M.length===0)return 1;l=M[0]}else l=M;return u(l.mode,l.getLength(),i)},E.getEncodedB|c}},6907:(H,E,e)=>{const t=e(896}}E.ren,p},E.renderToDatay)}},93776:(H,E,e)=>{const t=e(896}E.ren,v}},89653:(H,E)}}E.getOpti}}},E.getScle},E.getImageWig)},E.qrToImageDa}}},55798:H=>{"use strict";var E=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};H.exports={default:t.RFC3986,formatters:{RFC1738:function(f){return E.call(f,e,"+")},RFC3986:function(f){return String(f)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986}},80129:(H,E,e)=>{"use strict";var t=e(58261),f=e(55235),s=e(55798);H.exports={formats:s,parse:f,stringify:t}},55235:(H,E,e)=>{"use strict";var t=e(12769),f=Object.prototype.hasOwnProperty,s=Array.isArray,g={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},P=function(M){return M.replace(/&#(\d+);/g,function(c,l){return String.fromCharCode(parseInt(l,10))})},y=function(M,c){return M&&typeof M=="string"&&c.comma&&M.indexOf(",")>-1?M.split(","):M},C="utf8=%26%2310003%3B",u="utf8=%E2%9C%93 i},d=function(M,c,l,i){for(var v=i?c:y(c,l),O=M.length-1;O>=0;--O){var T,I=M[O];if(I==="[]"&&l.parseArrays)T=[].concat(v);else{T=l.plainObjects?Object.create(null):{};var L=I.charAt(0)==="["&&I.charAt(I.length-1)==="]"?I.slice(1,-1):I,S=parseInt(L,10);!l.parseArrays&&L===""?T={0:v}:!isNaN(S)&&I!==L&&String(S)===L&&S>=0&&l.parseArrays&&S<=l.arrayLimit?(T=[],T[S]=v):L!=="__proto__"&&(T[L]=v)}v=T}return v},w=function(c,l,i,v){if(c){var O=i.allowDots?c.replace(/\.([^.[]+)/g,"[$1]"):c,T=/(\[[^[\]]*])/,I=/(\[[^[\]]*])/g,L=i.depth>0&&T.exec(O),S=L?O.slice(0,L.index):O,N=[];if(S){if(!i.plainObjects&&f.call(Object.prototype,S)&&!i.allowPrototypes)return;N.push(S)}for(var R=0;i.depth>0&&(L=I.exec(O))!==null&&R<i.depth;){if(R+=1,!i.plainObjects&&f.call(Object.prototype,L[1].slice(1,-1))&&!i.allowPrototypes)return;N.push(L[1])}return L&&N.push("["+O.slice(L.index)+"]"),d(N,l,i,v)}},D=function(c){if(!c)return g;if(c.decoder!==null&&c.decoder!==void 0&&typeof c.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof c.charset!="undefined"&&c.charset!=="utf-8"&&c.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=typeof c.charset=="undefined"?g.charset:c.charset;return{allowDots:typeof c.allowDots=="undefined"?g.allowDots:!!c.allowDots,allowPrototypes:typeof c.allowPrototypes=="boolean"?c.allowPrototypes:g.allowPrototypes,allowSparse:typeof c.allowSparse=="boolean"?c.allowSparse:g.allowSparse,arrayLimit:typeof c.arrayLimit=="number"?c.arrayLimit:g.arrayLimit,charset:l,charsetSentinel:typeof c.charsetSentinel=="boolean"?c.charsetSentinel:g.charsetSentinel,comma:typeof c.comma=="boolean"?c.comma:g.comma,decoder:typeof c.decoder=="function"?c.decoder:g.decoder,delimiter:typeof c.delimiter=="string"||t.isRegExp(c.delimiter)?c.delimiter:g.delimiter,depth:typeof c.depth=="number"||c.depth===!1?+c.depth:g.depth,ignoreQueryPrefix:c.ignoreQueryPrefix===!0,interpretNumericEntities:typeof c.interpretNumericEntities=="boolean"?c.interpretNumericEntities:g.interpretNumericEntities,parameterLimit:typeof c.parameterLimit=="number"?c.parameterLimit:g.parameterLimit,parseArrays:c.parseArrays!==!1,plainObjects:typeof c.plainObjects=="boolean"?c.plainObjects:g.plainObjects,strictNullHandling:typeof c.strictNullHandling=="boolean"?c.strictNullHandling:g.strictNullHandling}};H.exports=function(M,c){var l=D(c);if(M===""||M===null||typeof M=="undefined")return l.plainObjects?Object.create(null):{};for(var i=typeof M=="string"?p(M,l):M,v=l.plainObjects?Object.create(null):{},O=Object.keys(i),T=0;T<O.length;++T){var I=O[T],L=w(I,i[I],l,typeof M=="string");v=t.merge(v,L,l)}return l.allowSparse===!0?v:t.compact(v)}},58261:(H,E,e)=>{"use strict";var t=e(37478),f=e(12769),s=e(55798),g=Object.prototype.hasOwnProperty,P={brackets:function(O){return O+"[]"},comma:"comma",indices:function(O,T){return O+"["+T+"]"},repeat:function(O){return O}},y=Array.isArray,C=String.prototype.split,u=Array.prototype.push,p=function(v,O){u.apply(v,y(O)?O:[O])},d=Date.prototype.toISOString,w=s.default,D={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:f.encode,encodeValuesOnly:!1,format:w,formatter:s.formatters[w],indices:!1,serializeDate:function(O){return d.call(O)},skipNulls:!1,strictNullHandling:!1},M=function(O){return typeof O=="string"||typeof O=="number"||typeof O=="boolean"||typeof O=="symbol"||typeof O=="bigint"},c={te},i=function(O){if(!O)return D;if(O.encoder!==null&&typeof O.encoder!="undefined"&&typeof O.encoder!="function")throw new TypeError("Encoder has to be a function.");var T=O.charset||D.charset;if(typeof O.charset!="undefined"&&O.charset!=="utf-8"&&O.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var I=s.default;if(typeof O.format!="undefined"){if(!g.call(s.formatters,O.format))throw new TypeError("Unknown format option provided.");I=O.format}var L=s.formatters[I],S=D.filter;return(typeof O.filter=="function"||y(O.filter))&&(S=O.filter),{addQueryPrefix:typeof O.addQueryPrefix=="boolean"?O.addQueryPrefix:D.addQueryPrefix,allowDots:typeof O.allowDots=="undefined"?D.allowDots:!!O.allowDots,charset:T,charsetSentinel:typeof O.charsetSentinel=="boolean"?O.charsetSentinel:D.charsetSentinel,delimiter:typeof O.delimiter=="undefined"?D.delimiter:O.delimiter,encode:typeof O.encode=="boolean"?O.encode:D.encode,encoder:typeof O.encoder=="function"?O.encoder:D.encoder,encodeValuesOnly:typeof O.encodeValuesOnly=="boolean"?O.encodeValuesOnly:D.encodeValuesOnly,filter:S,format:I,formatter:L,serializeDate:typeof O.serializeDate=="function"?O.serializeDate:D.serializeDate,skipNulls:typeof O.skipNulls=="boolean"?O.skipNulls:D.skipNulls,sort:typeof O.sort=="function"?O.sort:null,strictNullHandling:typeof O.strictNullHandling=="boolean"?O.strictNullHandling:D.strictNullHandling}};H.exports=function(v,O){var T=v,I=i(O),L,S;typeof I.filter=="function"?(S=I.filter,T=S("",T)):y(I.filter)&&(S=I.filter,L=S);var N=[];if(typeof T!="object"||T===null)return"";var R;O&&O.arrayFormat in P?R=O.arrayFormat:O&&"indices"in O?R=O.indices?"indices":"repeat":R="indices";var U=P[R];if(O&&"commaRoundTrip"in O&&typeof O.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var W=U==="comma"&&O&&O.commaRoundTrip;L||(L=Object.keys(T)),I.sort&&L.sort(I.sort);for(var K=t(),G=0;G<L.length;++G){var re=L[G];I.skipNulls&&T[re]===null||p(N,l(T[re],re,U,W,I.strictNullHandling,I.skipNulls,I.encode?I.encoder:null,I.filter,I.sort,I.allowDots,I.serializeDate,I.format,I.formatter,I.encodeValuesOnly,I.charset,K))}var $=N.join(I.delimiter),F=I.addQueryPrefix===!0?"?":"";return I.charsetSentinel&&(I.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),$.length>0?F+$:""}},12769:(H,E,e)=>{"use strict";var t=e(55798),f=Object.prototype.hasOwnProperty,s=Array.isArray,g=function(){for(var i=[],v=0;v<256;++v)i.push("%"+((v<16?"0":"")+v.toString(16)).toUpperCase());return i}(),P=function(v){for(;v.length>1;){var O=v.pop(),T=O.obj[O.prop];if(s(T)){for(var I=[],L=0;L<T.length;++L)typeof T[L]!="undefined"&&I.push(T[L]);O.obj[O.prop]=I}}},y=function(v,O){for(var T=O&&O.plainObjects?Object.create(null):{},I=0;I<v.length;++I)typeof v[I]!="undefined"&&(T[I]=v[I]);return T},C=function i(v,O,T){if(!O)return v;if(typeof O!="object"){if(s(v))v.push(O);else if(v&&typeof v=="object")(T&&(T.plainObjects||T.allowPrototypes)||!f.call(Object.prototype,O))&&(v[O]=!0);else return[v,O];return v}if(!v||typeof v!="object")return[v].concat(O);var I=v;return s(v)&&!s(O)&&(I=y(v,T)),s(v)&&s(O)?(O.forEach(function(L,S){if(f.call(v,S)){var N=v[S];N&&typeof N=="object"&&L&&typeof L=="object"?v[S]=i(N,L,T):v.push(L)}else v[S]=L}),v):Object.keys(O).reduce(function(L,S){var N=O[S];return f.call(L,S)?L[S]=i(L[S],N,T):L[S]=N,L},I)},u=function(v,O){return Object.keys(O).reduce(function(T,I){return T[I]=O[I],T},v)},p=function(i,v,O){var T=i.replace(/\+/g," ");if(O==="iso-8859-1")return T.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(T)}catch(I){return T}},d=function(v,O,T,I,L){if(v.length===0)return v;var S=v;if(typeof v=="symbol"?S=Symbol.prototype.toString.call(v):typeof v!="string"&&(S=String(v)),T==="iso-8859-1")return escape(S).replace(/%u[0-9a-f]{4}/gi,function(W){return"%26%23"+parseInt(W.slice(2),16)+"%3B"});for(var N="",R=0;R<S.length;++R){var U=S.charCodeAt(R);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||L===t.RFC1738&&(U===40||U===41)){N+=S.charAt(R);continue}if(U<128){N=N+g[U];continue}if(U<2048){N=N+(g[192|U>>6]+g[128|U&63]);continue}if(U<55296||U>=57344){N=N+(g[224|U>>12]+g[128|U>>6&63]+g[128|U&63]);continue}R+=1,U=65536+((U&1023)<<10|S.charCodeAt(R)&1023),N+=g[240|U>>18]+g[128|U>>12&63]+g[128|U>>6&63]+g[128|U&63]}return N},w=function(v){for(var O=[{obj:{o:v},prop:"o"}],T=[],I=0;I<O.length;++I)for(var L=O[I],S=L.obj[L.prop],N=Object.keys(S),R=0;R<N.length;++R){var U=N[R],W=S[U];typeof W=="object"&&W!==null&&T.indexOf(W)===-1&&(O.push({obj:S,prop:U}),T.push(W))}return P(O),v},D=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},M=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},c=function(v,O){return[].concat(v,O)},l=function(v,O){if(s(v)){for(var T=[],I=0;I<v.length;I+=1)T.push(O(v[I]));return T}return O(v)};H.exports={arrayToObject:y,assign:u,combine:c,compact:w,decode:p,encode:d,isBuffer:M,isRegExp:D,maybeMap:l,merge:C}},35639:(H,E,e)=>{"use strict";var t;t={value:!0};var f=Object.assign||function(I){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(I[N]=S[N])}return I},s=function(){function I(L,S){for(var N=0;N<S.length;N++){var R=S[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,R.key,R)}}return function(L,S,N){return S&&I(L.prototype,S),N&&I(L,N),L}}(),g=e(98661),P=u(g),y=e(45697),C=u(y);function u(I){return I&&I.__esModule?I:{default:I}}function p(I,L){var S={};for(var N in I)L.indexOf(N)>=0||Object.prototype.hasOwnProperty.call(I,N)&&(S[N]=I[N]);return S}function d(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function w(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function D(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var M={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth",Lrm},v=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):! 0},T=function(I){D(L,I),s(L,null,[{key:"getDerivedStateFromProps",vall}}]);function L(S){d(this,L);var N=w(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,S));return N.inputRef=function(R){N.input=R,typeof N.props.inputRef=="function"&&N.props.inputRef(R)},N.placeHolderSizerRef=function(R){N.placeHolderSizer=R},N.sizerRef=function(R){N.sizer=R},N.state={inputWidth:S.minWidth,inputId:S.id||O(),prevId:S.id},N}return s(L,[{key:"componentDidMount",va()}},{key:"componentDidUpdate",value:function(N,R){R.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var N=this.input&&window.getComputedStyle(this.input);N&&(i(N,this.sizer),this.placeHolderSizer&&i(N,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var N=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?N=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:N=this.sizer.scrollWidth+2;var R=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;N+=R,N<this.props.minWidth&&(N=this.props.minWidth),N!==this.state.inputWidth&&this.setState({inputWidth:N})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",vall}},{key:"render",value:function(){var N=[this.props.defaultValue,this.props.value,""].red:G}),R=f({},this.props.style);R.display||(R.display="inline-block");var U=f({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),W=p(this.props,[]);return l(W),W.className=this.props.inputClassName,W.id=this.state.inputId,W.style=U,P.default.createElement("div",{className:this.props.className,style:R},this.renderStyles(),P.default.createElement("input",f({},W,{ref:this.inputRef})),P.default.createElement("div",{ref:this.sizerRef,style:M},N),this.props.placeholder?P.default.createElement("div",{ref:this.placeHolderSizerRef,style:M},this.props.placeholder):null)}}]),L}(g.Component);T.propTypes={className:C.default.string,defaultValue:C.default.any,extraWidth:C.default.oneOfType([C.default.number,C.default.string]),id:C.default.string,injectStyles:C.default.bool,inputClassName:C.default.string,inputRef:C.default.func,inputStyle:C.default.object,minWidth:C.default.oneOfType([C.default.number,C.default.string]),onAutosize:C.default.func,onChange:C.default.func,placeholder:C.default.string,placeholderIsMinWidth:C.default.bool,style:C.default.object,value:C.default.any},T.defaultProps={minWidth:1,injectStyles:!0},E.Z=T},62372:(H,E,e)=>{"use strict";e.d(E,{XI:()=>it,sJ:()=>be});var t=e(98661);function f(xe,Oe){for(var Ie=0;Ie<Oe.length;Ie++){var We=Oe[Ie];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(xe,We.key,Wfunction C(xe,Oe){if(xe==null)return{};var Ie={},We=Object.keys(xe),Ge,Xe;for(Xe=0;Xe<We.length;Xe++)Ge=We[Xe],!(Oe.indexOf(Ge)>=0)&&(Ie[Ge]=xe[Ge]);return Ie}function u(xe,Oe){if(xe){if(typeof xe=="string")return p(xe,Oe);var Ie=Object.prototype.toString.call(xe).slice(8,-1);if(Ie==="Object"&&xe.constructor&&(Ie=xe.constructor.name),Ie==="Map"||Ie==="Set")return Array.from(xe);if(Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie))return p(xe,Oe)}}function p(xe,Oe){(Oe==null||Oe>xe.length)&&(Oe=xe.length);for(var Ie=0,We=new Array(Oe);Ie<Oe;Ie++)We[Ie]=xe[Ie];return`)}function w(xe){var Oe=(0,t.useRef)(null);function Ie(We){!We||We===Oe.current||(Oe.current=We,xe(We))}return Ie}function D(xe){var Oe=(0,t.useRef)(xe);return(0,t.useMemo)(function(){function Ie(Ge){typeof Ge=="function"?Oe.current=Ge(Oe.current):Oe.current=Ge}function We(){return Oe.current}return[We,Ie]},[])}function M(){var xe=(0,t.useRef)([]);return(0,t.useMemo)(functio>0}function Ie(){for(var Ge=d(xe.current),Xe;!(Xe=Ge()).done;){var st=Xe.value;st()}xe.currente)}return{hasEventSubscriptions:Oe,removeAllEventSubscriptions:Ie,addEventSubscription:We}},[])}var c=typeof window!="undefined"?t.useLayoutEffect:t.useEffect;function l(xe,Oe){var Ie=(0,t.useRef)(xe);return Oe?(Ie.current=xe,Ie):(Ie.current=null,Ie)}var i={top:0,left:0,right:1,bottom:1,width:1,height:1};function v(xe){var Oe=xe===void 0?{}:xe,Ie=Oe.enabled,We=Ie===void 0?!0:Ie,Ge=Oe.preventDefault,Xe=Ge===void 0?!0:Ge,st=useRef(null),qe=useState(i),Ze=qe[0],mt=qei)}var Mt=Ze!==i;function Ht(Gt){if(We){Xe&&Gt.preventDefault();var zt=Gt.clientX,Kt=Gt.clientY;mt({top:Kt,left:zt,width:1,height:1,right:zt+1,bottom:Kt+1})}}return{hasMousePosition:Mt,resetMousePosition:yt,handleMouseEvent:Ht,trigger:{getBounds:function(){return Ze},getParent:st.current?function(){return st.current}:void 0},parentRef:}function L(){for(var xe=arguments.length,Oe=new Array(xe),Ie=0;Ie<xe;Ie++)Oe[Ie]=arguments[Ie];return function(We){for(var Ge=d(Oe),Xe;!(Xe=Ge()).done;){var st=Xe.value;st&&(typeof st=="function"?st(We):st.current=We)}}}function S(xe,Oe){if(typeof xe!="undefined")return Oe||xe.ResizeObserver}function N(xe,Oe){var Ie=[];if(!xe||!Oe||xe===document.body)return Ie;var We=Oe.getComputedStyle(xe),Ge=We.overflow,Xe=We.overflowX,st=We.overflowY;return[Ge,Xe,st].se)})&&Ie.push(xe),[].concat(Ie,N(xe.parentElement,Oe))}function R(xe){return"react-laag: Could not find a valid reference for the "+xe+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+xe+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+xe+" when the isOpen prop is set to true"}function U(xe){var Oe=xe.enabled,Ie=xe.onChange,We=xe.environment,Ge=xe.ResizeObserverPolyfill,Xe=xe.overflowContainer,st=xe.triggerOption,qe=S(We,Ge);(0,t.useEffect)(function(){},[qe]);var Ze=(0,t.useRef)(null),mt=!!st,yt=D({scrollContainers:[],trigger:null,layer:null}),Mt=yt[0],Ht=yt[1],Gt=M(),zt=Gt.hasEventSubscriptions,Kt=Gt.addEventSubscription,Ir=Gt.removeAllEventSubscriptions,or=(0,t.useCallback)(function(){var qr=Mt(),Xr=qr.layer,tn=qr.trigger,Cn=qr.scrollContainers,rn=Cn[0];if(!Xr)throw new Error(R("layer"));if(!tn&&!mt)throw new Error(R("trigger"));var En={top:0,left:0};if(rn){var mn=rn.scrollLeft,Ln=rn.scrollTop;En={top:Ln,left:mn}}else{var Rn=We.scrollX,wn=We.scrollY;En={top:wn,left:Rn}}var Jn={left:0,top:0};if(rn){var nt=We.getComputedStyle(rn),Nt=nt.borderLeftWidth,Zt=nt.borderTopWidth;Jn={left:O(Nt)||0,top:O(Zt)||0}}Ie({layer:Xr,trigger:tn,scrollContainers:Cn,arrow:Ze.current},En,Jn)},[Mt,Ie,We,Ze,mt]),cr=(0,t.useCallback)(function(){var qr=Mt(),Xr=qr.trigger,tn=qr.layer,Cn=qr.scrollContainers;if(!tn)throw new Error(R("layer"));if(!Xr&&!mt)throw new Error(R("trigger"));if(qe){for(var rn=!1()},mn=new qe(En),Ln=0,Rn=[Xr,tn,document.body];Ln<Rn.length;Ln++){var wn=Rn[Ln];wn&&mn.observe(wn)()})}for(var Jn=[We].concat(Cn)})},Nt=d(Jn),Zt;!(Zt=Nt()).done;)nt()},[Mt,Kt,or,We,qe,mt]),Tt=(0,t.useCallba))},[Ir,cr,or,Oe]),wr=w((0,t.useCallback)(function(Rr){var qr=Mt(),Xr=qr.layer})}),Tt(Xr,Rr)},[Mt,Ht,Tt])),Br=(0,t.useCallback)(function(qr){var Xr=N(qr,We),tn=Xr[0];if(tn){var Cn=We.getComputedStyle(tn).position,rn=["relative","absolute","fixed"].includes(Cn)||Xe;rn||(tn.style.position="relative")}return Xr},[We,Xe]),Hr=w((0,t.useCallback)(function(Rr){var qr=Br(Rr),Xr=Mt(),tn=Xr.trigger})}),Tt(tn,Rr)},[Mt,Ht,Tt,Br])),Wr=st==null||st.getParent==null?void 0:st.getParent();retur})},[Wr,Ht,Br])}},[Oe,zt,cr,Ir]),c(function(){Oe&&or()}),{triggerRef:Hr,layerRef:wr,arrowRef:Ze,closestScrollContainer:Mt().scrollContainers[0]||null}}var W=(0,t.createContext)(e)}function G(xe,Oe){for(var Ie=d(xe),We;!(We=Ie()).done;){var Ge=We.value.shouldCloseWhenClickedOutside;if(!Ge(Oe))return!1}return!0}function re(xe){var Oe=xe.isOpen,Ie=xe.onOutsideClick,We=xe.onParentClose,Ge=(0,t.useRef)(null),Xe=(0,t.useRef)(null),st=(0,t.useRef)(new Set),qe=(0,t.useContext)(W),Ze=(0,t.useCallback)(function(yt){var Mt=yt.target,Ht=Ge.current&&Ge.current.contains(Mt),Gt=Xe.current&&Xe.current.contains(Mt),zt=G(st.current,yt);return Gt&&zt&&st.current.forEach(function(Kt){var Ir=Kt.closeChild;return Ir()}),!Ht&&!Gt&&zt},[Ge,Xe,st]);return(0,t.useEffect)(function(){if(typeof qe=="function")return qe({shouldCloseWhenClickedOutside:Ze,closeCh()}})},[qe,Ze,We,st]),(0,t.useEffect)(function(){var mt=typeof qe=="function",yt=!Oe||!Ie||mt;if(yt)ret()}return document.addEventListener("click",Mt,0)}},[Oe,Ie,Ze,qe]),(0,t.useEffect)(function(){Oe||st.current.forE()})},[Oe]),{closeOnOutsideClickRefs:{trigger:Ge,layer:Xe},registrations:st}}var $=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],F={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"xe}();function q(xe,Oe){Oe===void 0&&(Oe=!0);var Ie=["left","right"].includes(xe);return new Z(xe,Oe?q(F[xe],!1):null,Ie,Ie?"width":"height",Ie?"height":"width",Ie?"left":"top",Ie?"top":"left",xe==="center",!["right","bottom"].includes(xe))}var V={top:q("top"),bottom:q("bottom"),left:q("left"),right:q("right")},j=g({},V,{center:q("center")}),Y=["top","left","bottom","right"],ie=functioe)}return xe.mergeSmallestSides=function(Ie){var We=Ie[0],Ge=Ie.slice(1);if(!We)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Xe=Object.fromEntries(Y.map(function(Ht){return[Ht,We[Ht]]})),st=d(Ge),qe;!(qe=st()).done;)for(var Ze=qe.value,mt=d(Y),yt;!(yt=mt()).done;){var Mt=yt.value;Xe[Mt]=Math.min(Xe[Mt],Ze[Mt])}return new xe(Xe)},s(xe,[{key:"allSidesArePositive",})}},{key:"negativeSides",))}}]),xe}}var z={top:0,left:0,right:0,bottom:0,width:0,height:0},Q=function(){xe.create=function(We){return new xe(We)},xe.fromElement=function(We,Ge){Ge===void 0&&(Ge={});var Xe=Ge,st=Xe.withTransform,qe=st===void 0?!0:st,Ze=Xe.environment,mt=Ze===void 0?window:Ze,yt=Xe.withScrollbars,Mt=yt===void 0?!0:yt,Ht=de(We.getBoundingClientRect()),Gt=new xe(Ht);if(!qe){var zt=mt.getComputedStyle(We),Kt=zt.width,Ir=zt.height,or=zt.boxSizing,cr=zt.borderLeft,Tt=zt.borderRight,wr=zt.borderTop,Br=zt.borderBottom,Hr=zt.paddingLeft,Wr=zt.paddingRight,Rr=zt.paddingTop,qr=zt.paddingBottom,Xr=or==="border-box"?O(Kt):ce(Kt,cr,Tt,Hr,Wr),tn=or==="border-box"?O(Ir):ce(Ir,wr,Br,Rr,qr);Gt=new xe(g({},Gt,{width:Xr,height:tn}))}if(!Mt){var Cn=Gt.width-We.clientWidth,rn=Gt.height-We.clientHeight;return Gt.substract({right:Cn,bottom:rn})}return Gt},xe.empty=function(){return new xe},xe.fromWindow=function(We){var Ge,Xe=(Ge=We==null?void 0:We.document.scrollingElement)!=null?Ge:We==null?void 0:We.document.documentElement,st=Xe!=null?Xe:{},qe=st.clientWidth,Ze=qe===void 0?0:qe,mt=st.clientHeight,yt=mt===void 0?0:mt;return new xe({width:Ze,height:yt,right:Ze,bottom:yt})};function xe(Ie){return Ie===void 0&&(Ie={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,z,Ie)}var Oe=xe.prototype;return Oe.toObjs)},Oe.merge=function(We){var Ge=this.toObject();return new xe(g({},Ge,typeof We=="function"?We(Ge):We))},Oe.substract=function(We){for(var Ge=this.toObject(),Xe=Object.entries(We),st=0,qe=Xe;st<qe.length;st++){var Ze=qe[st],mt=Ze[0],yt=Ze[1];if(mt in V){var Mt=V[mt];Ge[mt]+=Mt.factor(yt),Ge[Mt.isHorizontal?"width":"height"]-=yt}else Ge[mt]-=yt||0}return new xe(Ge)},Oe.offset})},Oe.mapSides=function(We){for(var Ge=this.toObject(),Xe=Object.values(V),st=0,qe=Xe;st<qe.length;st++){var Ze=qe[st];Ge[Ze.prop]=We(Ze,Ge[Ze.prop])}return new xe(Ge)},s(xe,[{key:"surface",ht}}]),xe}(),ae=functioe)}var Oe=xe.prototype;return Oe.setSubjectsBounds=function(We,Ge){if(!Ge){this.subjectsBounds=We;return}var Xe=typeof Ge=="function"?Ge(this.primary.prop):Ge;this.subjectsBounds=We.merge({layer:g({},We.layer,Xe)})},Oe.getLayerBounds=function(We){if(We===void 0&&(We=0),this._cachedLayerBounds&&We===0)return this._cachedLayerBounds;var Ge=this.primary,Xe=this.secondary,st=this.subjectsBounds,qe=st.trigger,Ze=st.layer,mt=st.arrow,yt=Ge.isHorizontal,Mt=Ge.oppositeCssProp,Ht=Ge.oppositeSizeProp,Gt=Ge.prop,zt=Ge.opposite,Kt=Q.empty();Kt[zt.prop]=qe[Gt]-Ge.factor(this.offsets.trigger),Kt[Gt]=Kt[zt.prop]-Ge.factor(Ze[Ge.sizeProp]);var Ir=this.offsets.arrow*2,or=qe[Mt]-(Ze[Ht]-mt[Ht])+Ir,cr=qe[Mt]+(qe[Ht]-mt[Ht])-Ir;if(Xe.isPush||(or+=Ze[Ht],cr+=Ze[Ht]),Xe.isCenter){var Tt=(yt?V.top:V.left).prop,wr=(yt?V.bottom:V.right).prop;Kt[Tt]=T(qe[Tt]+qe[Ht]/2-Ze[Ht]/2+We,or,cr),Kt[wr]=Kt[Tt]+Ze[Ht]}else{var Br=Xe,Hr=qe[Br.prop],Wr=Hr<or?or-Hr:Hr>cr?cr-Hr:0;Kt[Br.prop]=T(Hr+We+Wr,or,cr),Kt[Br.opposite.prop]=Kt[Br.prop]+Xe.factor(Ze[Ht])}Kt.width=Kt.right-Kt.left,Kt.height=Kt.bottom-Kt.top;var Rr=Q.create(Kt);return We===0&&(this._cachedLayerBounds=Rr),Rr},Oe.getLayerCollisionBounds=function(){var We=this.offsets.container;return this.getLayerBounds().mapSides(function(Ge,Xe){return Xe-=Ge.factor(We)}).merge(function(Ge){var Xe=Ge.width,st=Ge.height;return{width:Xe+We*2,height:st+We*2}})},Oe.getContainerOffsXe},s(xe,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",st}},{key:"fitsContainer",ve}},{key:"visibleSurface",get:function(){var We=this.getLayerBounds(),Ge=this.getContainerOffsets(We),Xe=Ge.negativeSides;for(var st in Xe)Xe[st]=-Xe[st];return We.substract(Xe).surface}},{key:"secondaryOffsetSide",get:function(){var We,Ge,Xe=this,st=this.getContainerOffsets(),qe=(We=(Ge=Object.entries(st.negativeSides).t]}).filt)}).sort(function(mt,yt){var Mt=mt[1],Ht=yt[1];return Ht-Mt}))==null?void 0:Ge[0])!=null?We:[],Ze=qe[0];return Ze||null}}]),xe}(),te=function(xe){P(Oe,is}var Ie=Oe.prototype;return Ie.getLayerBouqe},Oe}(0)}var ue={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function ee(xe,Oe,Ie){var We;if(Oe.primary.isCenter)return ue;var Ge=xe.layer,Xe=xe.trigger,st=xe.arrow,qe=Oe.primary.oppositeSizeProp,Ze=Xe[qe]>Ge[qe],mt=Ie+st[qe]/2,yt=Ge[qe]-st[qe]/2-Ie,Mt=oe(xe,Oe,Ie),Ht=Oe.primary.prop,Gt=Oe.primary.oppositeCssProp,zt=Ze?Ge[qe]/2+Mt:Xe[Gt]+Xe[qe]/2-Ge[Gt];return g({},ue,(We={},We[Ht]="100%",We[Gt]=T(zt,mt,yt),We))}var le=functioGe}xe.getSidesFromPlacementType=function(We){var Ge=We.split("-"),Xe=Ge[0],st=Ge[1],qe=V[Xe],Ze;return st==="center"?Ze=j.center:qe.isHorizontal?Ze=st==="start"?j.top:j.bottom:Ze=st==="start"?j.left:j.right,[qe,Ze]},xe.create=function(We,Ge){var Xe={arrow:Ge.arrowOffset,container:Ge.containerOffset,trigger:Ge.triggerOffset};function st(qe){qe===void 0&&(qe=Ge.placement);var Ze=xe.getSidesFromPlacementType(qe),mt=Ze[0],yt=Ze[1],Mt=V[mt.isHorizontal?Ge.preferY:Ge.preferX],Ht=!mt.isHorizontal&&We.triggerHasBiggerWidth||mt.isHorizontal&&We.triggerHasBiggerHeie)}var zt=[];return zt[0]=Gt(mt,yt),zt[1]=Gt(mt,yt.isCenter?Mt:j.center),zt[2]=Gt(mt,j[(yt.opposite.isCenter?Mt.opposite:yt.opposite).prop]),zt[3]=Gt(Mt,Ht?mt:j[mt.opposite.prop]),zt[4]=Gt(Mt,j.center),zt[5]=Gt(Mt,Ht?j[mt.opposite.prop]:mt),zt[6]=Gt(V[Mt.opposite.prop],Ht?mt:j[mt.opposite.prop]),zt[7]=Gt(V[Mt.opposite.prop],j.center),zt[8]=Gt(V[Mt.opposite.prop],Ht?j[mt.opposite.prop]:mt),zt[9]=Gt(V[mt.opposite.prop],yt),zt[10]=Gt(V[mt.opposite.prop],yt.isCenter?Mt:j.center),zt[11]=Gt(V[mt.opposite.prop],j[(yt.opposite.isCenter?Mt.opposite:yt.opposite).prop]),zt=zt.file)}),zt}return Ge.placement==="center"?new xe([new te(j.center,j.center,We,Ge.layerDimensions,Xe)].concat(st(Ge.preferY+"-"+Ge.preferX)),Ge,We):new xe(st(),Ge,We)};var Oe=xe.prototype;return Oe.filterPlacementsByS})},Oe.findFirstPlacementThatF})},Oe.placementWithBiggestVisibleSurface=function(){var We=this.placements.e}}).sort(function(Xe,st){return st.surface-Xe.surface}),Ge=We[0].placement;return Ge},Oe.findSuitablePlacem0]},Oe.getSecondaryOffset=function(We){var Ge=this.config,Xe=Ge.auto,st=Ge.snap;if(!Xe||st||We instanceof te)return 0;var qe=this.filterPlacementsBySide(We.primary),Ze=qe.indexOf(We)===0;if(Ze&&We.fitsContainer)return 0;var mt=qe.find(function(Kt){return!Kt.fitsContainer});if(!mt)return 0;var yt=mt.secondaryOffsetSide;if(!yt)return 0;var Mt=We.getContainerOffsets(),Ht=We.secondary,Gt;We.triggerIsBigger||mt===We?Gt=yt.isPush?-1:1:Gt=Ht===j.left||[j.top,j.center].includes(Ht)&&yt.isPush?-1:1;var zt=Mt[yt.prop];return zt*Gt},Oe.getStyles=function(We,Ge,Xe,st){var qe={willChange:"top, left, width, height"},Ze=ee(this.subjectsBounds.merge({layer:We}),Ge,this.config.arrowOffset),mt=this.config.overflowContainer?g({},qe,{position:"fixed",top:We.top,left:We.left}):g({},qe,{position:"absolute",top:We.top-this.subjectsBounds.parent.top+Xe.top-st.top,left:We.left-this.subjectsBounds.parent.left+Xe.left-st.left});return{arrow:Ze,layer:mt}},Oe.getHasDisappeared=function(We){var Ge=this.config.overflowContainer?this.subjectsBounds.trigger:We,Xe=ie.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(Ge,!0)),st=Object.entries(Xe.negativeSides),qe=st.some(function(Ze){var mt=Ze[0],yt=Ze[1],Mt=V[mt];return yt<=-Ge[Mt.sizeProp]});return qe?"full":Xe.allSidesArePositive?null:"partial"},Oe.result=function(We,Ge){var Xe=this.findSuitablePlacement(),st=this.getSecondaryOffset(Xe),qe=Xe.getLayerBounds(st),Ze=this.getStyles(qe,Xe,We,Ge),mt=Xe.primary.prop;return{styles:Ze,layerSide:mt,placement:Xe,layerBounds:qe,hasDisappeared:this.getHasDisappeared(qe)}},xe}(),se=functioe)}xe.cret)};var Oe=xe.prototype;return Oe.mer)},Oe.offsetsToScrollContainers=function(We,Ge){Ge===void 0&&(Ge=!1);var Xe=this.overflowContainer&&!Ge?[this.window]:this.scrollContainers;return Xe.map(function(st){return st.offsetsTo(We)})},s(xe,[{key:"layerOffsetsToScrollContainers",r)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",ht}}]),xe}(),fe=null;function ve(xe){typeof document!="undefined"&&(typeof xe=="function"?fe=xe():typeof xe=="string"?fe=document.getElementById(xe):fe=xe)}var ge={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:$,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function be(xe){var Oe,Ie=xe.isOpen,We=Ie===void 0?!1:Ie,Ge=xe.overflowContainer,Xe=Ge===void 0?ge.overflowContainer:Ge,st=xe.environment,qe=st===void 0?typeof window!="undefined"?window:void 0:st,Ze=xe.ResizeObserver,mt=xe.placement,yt=mt===void 0?ge.placement:mt,Mt=xe.possiblePlacements,Ht=Mt===void 0?ge.possiblePlacements:Mt,Gt=xe.preferX,zt=Gt===void 0?ge.preferX:Gt,Kt=xe.preferY,Ir=Kt===void 0?ge.preferY:Kt,or=xe.auto,cr=or===void 0?ge.auto:or,Tt=xe.snap,wr=Tt===void 0?ge.snap:Tt,Br=xe.triggerOffset,Hr=Br===void 0?ge.triggerOffset:Br,Wr=xe.containerOffset,Rr=Wr===void 0?ge.containerOffset:Wr,qr=xe.arrowOffset,Xr=qr===void 0?ge.arrowOffset:qr,tn=xe.container,Cn=tn===void 0?ge.container:tn,rn=xe.layerDimensions,En=rn===void 0?null:rn,mn=xe.onDisappear,Ln=xe.onOutsideClick,Rn=xe.onParentClose,wn=xe.trigger,Jn=(0,t.useState)(function(){return{layerSide:yt==="center"?"center":le.getSidesFromPlacementType(yt)[0].prop,styles:{layer:{position:Xe?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),nt=Jn[0],Nt=Jn[1],Zt=(0,t.useRef)(null),rr=l(nt,We),Pr=(0,t.useRef)({cancelled:!1});(0,t.useEffe0}},[]);var Mr=(0,t.useCallback)(function(ft,St,Vt){var Yt=ft.arrow,pr=ft.layer,dr=ft.scrollContainers,vr=ft.trigger,nr=dr[0],Ar=se.create(qe,pr,vr,nr,Yt,dr,Xe,wn==null?void 0:wn.getBounds),sn={placement:yt,possiblePlacements:Ht,auto:cr,layerDimensions:En,arrowOffset:Xr,containerOffset:Rr,triggerOffset:Hr,preferX:zt,preferY:Ir,snap:wr,overflowContainer:Xe},Nr=le.create(Ar,sn).result(St,Vt),Gr=Nr.hasDisappeared,pn=Nr.layerSide,dn=Nr.styles,vn={layerSide:pn,styles:dn};if(!rr.current||ne(rr.current,vn)){rr.current=vn,Pr.current.cancelled=!0;var Zr={cancelled:!1};Pr.current=Zr,Promise.resolve().tn)})}I(Gr)&&I(mn)&&mn(Gr)},[Xr,cr,Rr,qe,En,mn,Xe,yt,Ht,zt,Ir,wr,Hr,rr,wn]),$e=U({ResizeObserverPolyfill:Ze,environment:qe,enabled:We,overflowContainer:Xe,onChange:Mr,triggerOption:wn}),at=$e.triggerRef,ke=$e.layerRef,Qe=$e.arrowRef,dt=$e.closestScrollContainer,Lt=re({isOpen:We,onOutsideClick:Ln,onParentClose:Rn}),gt=Lt.closeOnOutsideClickRefs,ct=Lt.registrations,Qt={triggerProps:wn?{}:{ref:L(at,gt.trigger,Zt)},layerProps:{ref:L(ke,gt.layer),style:nt.styles.layer},arrowProps:{ref:Qe,style:nt.styles.arrow,layerSide:nt.layerSide},layerSide:nt.layerSide,triggerBounds:We?wn?wn.getBounds():(Oe=Zt.current)==null?void 0:Oe.getBoundingClientRect():null,renderLayer:function(ft){return typeof document!="undefined"?(0,t.createPortal)((0,t.createElement)(K,{registrations:ct,children:ft}),Xe||!dt?Le(Cn):dt):null}};return Qt}function ne(xe,Oe){if(xe.layerSide!==Oe.layerSide)return!0;for(var Ie=["position","top","left","right","bottom"],We=0,Ge=Ie;We<Ge.length;We++){var Xe=Ge[We];if(xe.styles.layer[Xe]!==Oe.styles.layer[Xe]||xe.styles.arrow[Xe]!==Oe.styles.arrow[Xe])return!0}return!1}var me="layers";function Le(xe){var Oe;if(typeof xe=="function"){if(Oe=xe(),!Oe||!(Oe instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(xe instanceof HTMLElement)Oe=xe;else if(typeof xe=="string"){if(Oe=document.getElementById(xe),!Oe)throw new Error("react-laag: You've passed element with id '"+xe+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(fe instanceof HTMLElement)return fe;Oe=document.getElementById(me),Oe||(Oe=document.createElement("div"),Oe.id=me,Oe.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Oe))}return Oe}var Re=null,Me="left",Ee="top",we="bottom",Te="rigOe}function Be(xe,Oe,Ie,We){var Ge,Xe=(Ge={},Ge[we]="0 "+-We+" "+Oe+" "+xe,Ge[Ee]="0 0 "+Oe+" "+(xe+We),Ge[Te]=-We+" 0 "+xe+" "+Oe,Ge[Me]="0 0 "+(xe+We)+" "+Oe,Ge);return Xe[Ie.prop]}function Ke(xe,Oe,Ie,We,Ge){var Xe,st,qe,Ze=We/10*xe*2,mt=(Xe={},Xe[we]=[0,xe],Xe[Ee]=[0,0],Xe[Te]=[xe,Oe],Xe[Me]=[0,Oe],Xe)[Ie.prop].join(" "),yt=Ie.isHorizontal?"V 0":"H "+Oe,Mt=Oe/2,Ht=Oe/2+De(Ge,xe/8),Gt=xe/8,zt=(st={},st[we]=["C",Ht,Gt,Mt+Ze,0,Mt,0],st[Ee]=["C",Ht,xe-Gt,Mt+Ze,xe,Mt,xe],st[Te]=["C",Gt,Oe-Ht,0,Mt-Ze,0,Mt],st[Me]=["C",xe-Gt,Oe-Ht,xe,Mt-Ze,xe,Mt],st)[Ie.prop].join(" "),Kt=Oe/2-De(Ge,xe/8),Ir=xe/8,or=(qe={},qe[we]=["C",Mt-Ze,0,Kt,Ir,mt],qe[Ee]=["C",Mt-Ze,xe,Kt,xe-Ir,mt],qe[Te]=["C",0,Mt+Ze,Ir,Oe-Kt,mt],qe[Me]=["C",xe,Mt+Ze,xe-Ir,Oe-Kt,mt],qe)[Ie.prop].join(" ");return["M",mt,yt,zt,or].join("")}var Ot=null,E"})(et||(et={}));function it(xe){var Oe=xe===void 0?{}:xe,Ie=Oe.delayEnter,We=Ie===void 0?0:Ie,Ge=Oe.delayLeave,Xe=Ge===void 0?0:Ge,st=Oe.hideOnScroll,qe=st===void 0?!0:st,Ze=(0,t.useState)(!1),mt=Ze[0],yt=Ze[1],Mt=(0,t.useRef)(null),Ht=(0,t.useRef)(et.IDLE),Gt=(0,t.useRef)(!1),zt=(0,t.useCallbaLE},[]);function Kt(){Ht.current===et.LEAVING&&Mt.current&&zt(),!mt&&(Ht.current=et.ENTERING,Mt.current=window.setTimeout(function(){yt(!0),Mt.current=null,Ht.current=et.IDLE},We))}function Ir(cr,Tt){if(Ht.current===et.ENTERING&&Mt.current&&zt(),!!mt){if(Tt){yt(!1),Mt.current=null,Ht.current=et.IDLE;return}Ht.current=et.LEAVING,Mt.current=window.setTimeLE},Xe)}}(0,t.useEffe)}},[mt,qe,zt]);var or={onMouseEnter:Kt,onMouseLeave:Ir,onTouchStart:function(){Gt.current=!1},onTouchMove:function(){Gt.current=!0},onTouchEnd:function(){!Gt.current&&!mt&&yt(!0),Gt.current=!1}};return[mt0)}]}function bt(xe){var Oe=xe.isOpen,Ie=xe.children,We=useState({isOpenInternal:Oe,isLeaving:!1}),Ge=We[0],Xe=We[1],st=useRef(!1);return useEff})},[Oe,Xe]),useEffect(function(){},[Ie]),useEffect(function(){st.current=!0},[]),!Oe&&!Ge.isOpenInternal&&!Ge.isLeaving?null:Ie(Ge.isOpenInter})},Ge.isLeaving)}},67555:(H,E,e)=>{H.expo91)},function(t,f,s){var g;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var P={}.hasOwnProperty;function y(){for(var C=[],u=0;u<arguments.length;u++){var p=arguments[u];if(p){var d=typeof p;if(d==="string"||d==="number")C.push(p);else if(Array.isArray(p)&&p.length){var w=y.apply(null,p);w&&C.push(w)}else if(d==="object")for(var D in p)P.call(p,D)&&p[D]&&C.push(D)}}return C.join(" ")}t.exports?(y.default=y,t.exports=y):(g=function(){return y}.apply(f,[]))===void 0||(t.exports=g)})()},function(t,f,s){(function(g){var P=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt,d=typeof g=="object"&&g&&g.Object===Object&&g,w=typeof self=="object"&&self&&self.Object===Object&&self,D=d||w||Function("return this")(),M=Object.prototype.toString,c=D.Symbol,l=c?c.prototype:void 0,i=l?l.toString:void 0;function v(L){if(typeof L=="string")return L;if(T(L))return i?i.call(L):"";var S=L+"";return S=="0"&&1/L==-1/0?"-0":S}function O(L){var S=typeof L;return!!L&&(S=="object"||S=="function")}function T(L){return typeof L=="symbol"||function(S){return!!S&&typeof S=="object"}(L)&&M.call(L)=="[object Symbol]"}function I(L){return L?(L=function(S){if(typeof S=="number")return S;if(T(S))return NaN;if(O(S)){var N=typeof S.valueOf=="function"?S.valueOf():S;S=O(N)?N+"":N}if(typeof S!="string")return S===0?S:+S;S=S.replace(P,"");var R=C.test(S);return R||u.test(S)?p(S.slice(2),R?2:8):y.test(S)?NaN:+S}(L))===1/0||L===-1/0?17976931348623157e292*(L<0?-1:1):L==L?L:0:L===0?L:0}t.exports=function(L,S,N){var R,U,W,K;return L=(R=L)==null?"":v(R:0}(N),W=0,K=L.length,U==U&&(K!==void 0&&(U=U<=K?U:K),W!==void 0&&(U=U>=W?U:W)),N=U,S=v(S),L.slice(N,N+S.length)==S}}).call(this,s(3=s},function(t,f,s){(function(g){var P=/^\[object .+?Constructor\]$/,y=typeof g=="object"&&g&&g.Object===Object&&g,C=typeof self=="object"&&self&&self.Object===Object&&self,u=y||C||Function("return this")(),p,d=Array.prototype,w=Function.prototype,D=Object.prototype,M=u["__core-js_shared__"],c=(p=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",l=w.toString,i=D.hasOwnProperty,v=D.toString,O=RegExp("^"+l.call(i).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=d.splice,I=G(u,"Map"),L=G(Object,"create");function S(F){var Z=-1,q=F?F.length:0;for(this.clear();++Z<q;){var V=F[Z];this.set(V[0],V[1])}}function N(F){var Z=-1,q=F?F.length:0;for(this.clear();++Z<q;){var V=F[Z];this.set(V[0],V[1])}}function R(F){var Z=-1,q=F?F.length:0;for(this.clear();++Z<q;){var V=F[Z];this.set(V[0],V[1-1}function W(F){return!(!$(F)||(Z=F,c&&c in Z))&&(function(q){var V=$(q)?v.call(q):"";return V=="[object Function]"||V=="[object GeneratorFunction]"}( V}(F)?O:P).t""}(F));var Z}function K(F,Z){var q,V,j=F.__data__;return((V=typeof(q=Z))=="string"||V=="number"||V=="symbol"||V=="boolean"?q!=="__proto__":q===null)?j[typeof Z=="string"?"string":"hash"]:j.map}function G(F,Z){var q=function(V,j){return V==null?void 0:V[j]}(F,Z);return W(q)?q:void 0}function re(F,Z){if(typeof F!="function"||Z&&typeof Z!="function")throw new TypeError("Expected a function");var q=function(){var V=arguments,j=Z?Z.apply(this,V):V[0],Y=q.cache;if(Y.has(j))return Y.get(j);var ie=F.apply(this,V);return q.cache=Y.set(j,ie),ie};return q.cache=new(re.Cache||R),q}function $(F){var Z=typeof F;return!!F&&(Z=="object"||Z=="function")}S.prototype.clear=function(){this.__data__=L?L(null):{}},S.prototype.delete=function(F){return this.has(F)&&delete this.__data__[F]},S.prototype.get=function(F){var Z=this.__data__;if(L){var q=Z[F];return q==="__lodash_hash_undefined__"?void 0:q}return i.call(Z,F)?Z[F]:void 0},S.prototype.has=function(F){var Z=this.__data__;return L?Z[F]!==void 0:i.call(Z,F)},S.prototype.set=function(F,Z){return this.__data__[F]=L&&Z===void 0?"__lodash_hash_undefined__":Z,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(F){var Z=this.__data__,q=U(Z,F);return!(q<0)&&(q==Z.length-1?Z.pop():T.call(Z,q,1),!0)},N.prototype.get=function(F){var Z=this.__data__,q=U(Z,F);return q<0?void 0:Z[q][1]},N.prototype.has=function(F){return U(this.__data__,F)>-1},N.prototype.set=function(F,Z){var q=this.__data__,V=U(q,F);return V<0?q.push([F,Z]):q[V][1]=Z,this},R.prototype.clear=function(){this.__data__={hash:new S,map:new(I||N),string:new S}},R.prototype.delete=function(F){return K(this,F).delete(F)},R.prototype.get=function(F){return K(this,F).get(F)},R.prototype.has=function(F){return K(this,F).has(F)},R.prototype.set=function(F,Z){return K(this,F).set(F,Z),this},re.Cache=R,t.exports=re}).call(this,s(3))},function(t,f,s){(function(g){var P=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt,d=typeof g=="object"&&g&&g.Object===Object&&g,w=typeof self=="object"&&self&&self.Object===Object&&self,D=d||w||Function("return this")(),M=Object.prototype.toString,c=Math.max,l=Math.min,i=function(){return D.Date.now()};function v(T){var I=typeof T;return!!T&&(I=="object"||I=="function")}function O(T){if(typeof T=="number")return T;if(function(S){return typeof S=="symbot"}(S)&&M.call(S)=="[object Symbol]"}(T))return NaN;if(v(T)){var I=typeof T.valueOf=="function"?T.valueOf():T;T=v(I)?I+"":I}if(typeof T!="string")return T===0?T:+T;T=T.replace(P,"");var L=C.test(T);return L||u.test(T)?p(T.slice(2),L?2:8):y.test(T)?NaN:+T}t.exports=function(T,I,L){var S,N,R,U,W,K,G=0,re=!1,$=!1,F=!0;if(typeof T!="function")throw new TypeError("Expected a functioe)}function q(ce){return G=ce,W=setTimeout(j,I),re?Z(ce):U}function V(ce){var de=ce-K;return K===void 0||de>=I||de<0||$&&ce-G))}function Y(ce){return W=void 0,F&&S?Z(ce):(S=N=void 0,U}return I=O(I)||0,v(L)&&(re=!!L.leading,R=($="maxWait"in L)?c(O(L.maxWait)||0,I):R,F="trailing"in L?!!L.trailing:F),ie.cancel=function(){W!==void 0&&clearTimeout(W),G=0,S=K=N=W=void 0},ie.flush=function(){return W===void 0?U:Y(i())},ie}}).call(this,s(3))},function(t,f,s){(function(g,P){var y="[object Arguments]",C="[object Map]",u="[object Object]",p="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/,D=/^\./,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[y]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[C]=v["[object Number]"]=v[u]=v["[object RegExp]"]=v[p]=v["[object String]"]=v["[object WeakMap]"]=!1;var O=typeof g=="object"&&g&&g.Object===Object&&g,T=typeof self=="object"&&self&&self.Object===Object&&self,I=O||T||Function("return this")(),L=f&&!f.nodeType&&f,S=L&&typeof P=="object"&&P&&!P.nodeType&&P,N=S&&S.exports===L&&O.proces{}}(),U=R&&R.isTypedArfunction $(nt){var Nt=-1,Zt=Array(nt.size);return nt.forEach(function(rr,Pr){Zt[++Nt]=[Pr,rr]}),Zt}function F(nt){var Nt=-1,Zt=Array(nt.size);return nt.forEach(function(rr){Zt[++Nt]=rr}),Zt}var Z,q,V,j=Array.prototype,Y=Function.prototype,ie=Object.prototype,ce=I["__core-js_shared__"],de=(Z=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",z=Y.toString,Q=ie.hasOwnProperty,ae=ie.toString,te=RegExp("^"+z.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=I.Symbol,ue=I.Uint8Array,ee=ie.propertyIsEnumerable,le=j.splice,se=(q=Object.keys,V=Object,function(nt){return q(V(nt))}),fe=zt(I,"DataView"),ve=zt(I,"Map"),ge=zt(I,"Promise"),be=zt(I,"Set"),ne=zt(I,"WeakMap"),me=zt(Object,"create"),Le=Hr(fe),Re=Hr(ve),Me=Hr(ge),Ee=Hr(be),we=Hr(ne),Te=oe?oe.prototype:void 0,De=Te?Te.valueOf:void 0,Be=Te?Te.toString:void 0;function Ke(nt){var Nt=-1,Zt=nt?nt.length:0;for(this.clear();++Nt<Zt;){var rr=nt[Nt];this.set(rr[0],rr[1])}}function tt(nt){var Nt=-1,Zt=nt?nt.length:0;for(this.clear();++Nt<Zt;){var rr=nt[Nt];this.set(rr[0],rr[1}function bt(nt,Nt){var Zt=Xr(nt)||qr(Qe}(nt.length,String):[],rr=Zt.length,Pr=!!rr;for(var Mr in nt)!Nt&&!Q.call(nt,Mr)||Pr&&(Mr=="length"||Ir(Mr,rr))||Zt.push(Mr);return-1}Ke.prototype.cl{}},Ke.prototype.delt]},Ke.prototype. 0},Ke.prototype.t)},Ke.prototype.is},tt.prototype.clear=function(){this.__data__=[]},tt.prototype.del0)},tt.prototype.1]},tt.prototype.-1},tt.prototype.is},Ot.prototype.cle}},Ot.prototype.delete=function(nt){return Gt(this,nt).delete(nt)},Ot.prototype.get=function(nt){return Gt(this,nt).get(nt)},Ot.prototype.t)},Ot.prototype.is},et.prototype.add=et.prototype.pis},et.prototype.has=function(nt){return this.__data__.has(nt)},it.prototype.cltt},it.prototype.delete=function(nt){return this.__data__.delete(nt)},it.prototype.get=function(nt){return this.__data__.get(nt)},it.prototype.has=function(nt){return this.__data__.has(nt)},it.prototype.is};var Oe,Ie,We=nt}),Ge=function(nt){return function(Nt,Zt,rr){for(var Pr=-1,Mr=Object(Nt),$e=rr(Nt),at=$e.length;at--;){var ke=$e[nt?at:++Pr];if(Zt(Mr[ke],ke,Mr)===!1)break}return Nt}}();function Xe(nt,Nt){for(var Zt=0,rr=(Nt=or(Nt,nt)?[Nt]:Mt(Nt)).length;nt!=null&&Zt<rr;)nt=nt[Br(Nt[Zt++])];return Zt&&Zt==rr?nt:voit)}function qe(nt,Nt,Zt,rr,Pr){return nt===Nt||(nt==null||Nt==null||!En(nt)&&!mn(Nt)?nt!=nt&&Nt!=Nt:function(Mr,$e,at,ke,Qe,dt){var Lt=Xr(Mr),gt=Xr($e),ct="[object Array]",Qt="[object Array]";Lt||(ct=(ct=Kt(Mr))==y?u:ct),gt||(Qt=(Qt=Kt($e))==y?u:Qt);var He=ct==u&&!re(Mr),ft=Qt==u&&!re($e),St=ct==Qt;if(St&&!He)return dt||(dt=new it),Lt||Rn(Mr)?Ht(Mr,$e,at,ke,Qe,!1}(Mr,$e,ct,at,ke,Qe,dt);if(!(2&Qe)){var Vt=He&&Q.call(Mr,"__wrapped__"),Yt=ft&&Q.call($e,"__wrapped__");if(Vt||Yt){var pr=Vt?Mr.value():Mr,dr=Yt?$e.value():$e;return dt||(dt=new it),at(pr,dr,ke,Qe,dt)}}return St?(dt||(dt=new it),function(vr,nr,Ar,sn,Nr,Gr){var pn=2&Nr,dn=wn(vr),vn=dn.length,Zr=wn(nr).length;if(vn!=Zr&&!pn)return!1;for(var Bn=vn;Bn--;){var Sr=dn[Bn];if(!(pn?Sr in nr:Q.call(nr,Sr)))return!1}var $r=Gr.get(vr);if($r&&Gr.get(nr))return $r==nr;var eo=!0;Gr.set(vr,nr),Gr.set(nr,vr);for(var uo=pn;++Bn<vn;){Sr=dn[Bn];var Xn=vr[Sr],jn=nr[Sr];if(sn)var Qn=pn?sn(jn,Xn,Sr,nr,vr,Gr):sn(Xn,jn,Sr,vr,nr,Gr);if(!(Qn===void 0?Xn===jn||Ar(Xn,jn,sn,Nr,Gr):Qn)){eo=!1;break}uo||(uo=Sr=="constructor")}if(eo&&!uo){var Vn=vr.constructor,to=nr.constructor;Vn==to||!("constructor"in vr)||!("constructor"in nr)||typeof Vn=="function"&&Vn instanceof Vn&&typeof to=="function"&&to instanceof to||(eo=!1)}return Gr.delete(vr),Gr.delete(nr),eo}(Mr,$e,at,ke,Qe,dt)):!1}(nt,Nt,qe,Zt,rr,P))}function mt(nt){return typeof nt=="function"?nt:nt==null?Jn:typeof nt=="object"?Xr(nt)?function(rr,Pr){return or(rr)&&cr(Pr)?Tt(Br(rr),Pr):function(Mr){var $e=function(at,ke,Qe){var dt=at==null?void 0:Xe(at,ke);return dt===void 0?Qe:dt}(Mr,rr);return $e===void 0&&$e===Pr?function(at,ke){return at!=null&&function(Qe,dt,Lt){dt=or(dt,Qe)?[dt]:Mt(dt);for(var gt,ct=-1,Qt=dt.length;++ct<Qt;){var He=Br(dt[ct]);if(!(gt=Qe!=null&&Lt(Qe,He)))break;Qe=Qe[He]}return gt||!!(Qt=Qe?Qe.length:0)&&rn(Qt)&&Ir(He,Qt)&&(Xr(Qe)||qr(Qe))}(at,ke,st)}(Mr,rr):qe(Pr,$e,void 0,3)}}(nt[0],nt[1]):function(rr){var$e}(rr);return Pr.length==1&&Pr[0][2]?Tt(Pr[0][0],Pr[0][1]):function(Mr){return Mr===rr||function($e,at,ke,Qe){var dt=ke.length,Lt=dt,gt=!Qe;if($e==null)return!Lt;for($e=Object($e);dt--;){var ct=ke[dt];if(gt&&ct[2]?ct[1]!==$e[ct[0]]:!(ct[0]in $e))return!1}for(;++dt<Lt;){var Qt=(ct=ke[dt])[0],He=$e[Qt],ft=ct[1];if(gt&&ct[2]){if(He===void 0&&!(Qt in $e))return!1}else{var St=new it;if(Qe)var Vt=Qe(He,ft,Qt,$e,at,St);if(!(Vt===void 0?qe(ft,He,Qe,3,St):Vt))return!1}}return!0}(Mr,rr,Pr)}}(nt):or(Nt=nt)?(Zt=Br(t)}}(Nt);var Nt,Zt}function yt(nt){if(Zt=(Nt=nt)&&Nt.constructor,rr=typeof Zt=="function"&&Zt.prototype||ie,Nt!==rr)return se(nt);var Nt,Zt,rr,Pr=[];for(var Mr in Object(nt))Q.call(nt,Mr)&&Mr!="constructor"&&Pr.push(Mr);returnt)}function Ht(nt,Nt,Zt,rr,Pr,Mr){var $e=2&Pr,at=nt.length,ke=Nt.length;if(at!=ke&&!($e&&ke>at))return!1;var Qe=Mr.get(nt);if(Qe&&Mr.get(Nt))return Qe==Nt;var dt=-1,Lt=!0,gt=1&Pr?new et:void 0;for(Mr.set(nt,Nt),Mr.set(Nt,nt);++dt<at;){var ct=nt[dt],Qt=Nt[dt];if(rr)var He=$e?rr(Qt,ct,dt,Nt,nt,Mr):rr(ct,Qt,dt,nt,Nt,Mr);if(He!==void 0){if(He)continue;Lt=!1;break}if(gt){if(!Kt)})){Lt=!1;break}}else if(ct!==Qt&&!Zt(ct,Qt,rr,Pr,Mr)){Lt=!1;break}}return Mr.delete(nt),Mr.delete(Nt)0}var Kt=function(nt){return ae.call(nt)};function Ir(nt,Nt){return!!(Nt=Nt==null?9007199254740991:Nt)&&(typeof nt=="number"||i.test(nt))&&nt>-1&&nt%1==0&&nt<Nt}function or(nt,Nt){if(Xr(nt))return!1;var Zt=typeof nt;return!(Zt!="number"&&Zt!="symbol"&&Zt!="boolean"&&nt!=null&&!Ln(nt))||w.test(nt)||!d.test(nt)||Nt!=null&&nt in Object(t)}function Tt(nt,Nt){return function(Zt){return Zt!=null&&Zt[nt]===Nt&&(Nt!==void 0||nt in Object(Zt))}}(fe&&Kt(new fe(new ArrayBuffer(1)))!="[object DataView]"||ve&&Kt(new ve)!=C||ge&&Kt(ge.resolve())!="[object Promise]"||be&&Kt(new be)!=p||ne&&Kt(new ne)!="[object WeakMap]")&&Nt});var wr=Wr(function(nt){var Nt;nt=(Nt=nt)==null?"":function(rr){if(typeof rr=="string")return rr;if(Ln(rr))return Be?Be.call(rr):"";var Pr=rr+"";return Pr=="0"&&1/rr==-1/0?"-0":Pr}(Nt);var Zt=[];return D.test(nt)&&Zt.push(""),nt.replace(M,function(rr,Pr,Mr,$e){Zt.push(Mr?$e.replace(c,"$1"):Pr||rr)}),Zt});function Br(nt){if(typeof nt=="string"||Ln(nt))return nt;var Nt=nt+"";return Nt=="0"&&1/nt==-1/0?"-0":Nt}function Hr(nt){if(nt!=null){try{return z.call(nt)}catch(Nt){}try{return nt+""}catch(Nt){}}return""}function Wr(nt,Nt){if(typeof nt!="function"||Nt&&typeof Nt!="function")throw new TypeError("Expected a function");var$e};return Zt.cache=new(Wr.Cache||Ot))}Wr.Cache=Ot;var Xr=Array.isArray;function tn(nt){return nt!=null&&rn(nt.length)&&!Cn(]"}function rn(nt){return typeof nt=="number"&&nt>-1&&nt%1==0&&nt<=9007199254740}var R)}})]};function wn(nt){return tn(nt)?bt(nt):yt(nt)}function Jn(nt){return nt}P.expoe)}}).call(this,s(3),s(7)(ts}},function(t,f){String.prototype.padEnd||(String.prototype.padEnd=function(s,g){return s>>=0,g=String(g!==void 0?g:" "),this.length>s?String(this):((s-=this.length)>g.length&&(g+=g.repeat(s/g.length)),String(this)+g.slice(0,s))})},function(t,f,s){"use strict";function g(ie,ce,de){return ce in ie?Object.defineProperty(ie,ce,{value:de,enumerable:!0,configurable:!0,writable:!0}):ie[ce]=de)}function C(ie){if(Array.isArray(ie))return")}function p(ie,ce){if(!(ie instanceof ce))throw new TypeError("Cannot call a class as a functio)}function D(ie){return(D=typeof Symbol=="function"&&w(Symbol.iterator)==="symbol"?function(ce){return w(ce)})(ie)}function M(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return)}s.r(f);var i=s(0),v=s.n(i),O=s(5),T=s.n(O),I=s(4),L=s.n(I),S=s(6),N=s.n(S),R=s(2),U=s.n(R),W=s(1),K=s.n(W);s(8);function G(ie,ce){return C(i Q}(ie,ce)||u()}var re=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["C\xF4te d\u2019Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Cura\xE7ao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["R\xE9union",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],$=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barth\xE9lemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681de}function Z(ie,ce,de,z,Q){var ae,te,oe=[];return te=ce===!0,[(ae=[]).concat.apply(ae,y(ie.map(function(ue){var ee={name:ue[0],regions:ue[1],iso2:ue[2],countryCode:ue[3],dialCode:ue[3],format:F(de,ue[3],ue[4],z,Q),priority:ue[5]||0},le=[];return ue[6]&&ue[6].map(function(se){var fe=function(ve){for(var ge=1;ge<arguments.length;ge++){var be=arguments[ge]!=null?arguments[ge]:{},ne=Object.keys(be);typeof Object.getOwnPropertySymbols=="function"&&(ne=ne.concat(Object.getOwnPropertySymbols(be).filter(function(me){return Object.getOwnPropertyDescriptor(be,me).enumerable}))),ne.forEach(function(me){g(ve,me,be[me])})}return ve}({},ee);fe.dialCode=ue[3]+se,fe.isAreaCode=!0,fe.areaCodeLength=se.length,le.push(fe)}),le.length>0?(ee.mainCode=!0,te||ce.constructor.name==="Array"&&ce.includes(ue[2])?(ee.hasAreaCodes=!0,[ee].concat(le)):(oe=oe.concat(le),[ee])):[ee]}))),oe]}function q(ie,ce,de,z){if(de!==null){var Q=Object.keys(de),ae=Object.values(de);Q.forEach(function(te,oe){if(z)return ie.push([te,ae[oe]]);var ue=ie.findInte});if(ue===-1){var ee=[te];ee[ce]=ae[oe],ie.push(ee)}else ie[ue][ce]=ae[oe]})}}function V(ie,ce){return ce.length===0?ie:ie.map(function(de){var z=ce.findIn2]});if(z===-1)return de;var Q=ce[z];return Q[1]&&(de[4]=Q[1]),Q[3]&&(de[5]=Q[3]),Q[2]&&(de[6]=Q[2]),de})}var j=function ie(ce,de,z,Q,ae,te,oe,ue,ee,le,se,fe,ve,ge){p(this,ie),this.filterRegions=function(Te,De){if(typeof Te=="string"){var Be=Te;return De.filter(function(Ke){return Ke.regions.some(function(tt){return tt===Be})})}return De.fil})})},this.sortTerritorBe},this.getFilteredCountryList=function(Te,De,Be){return Te.length===0?De:Be?Te.tt}).filter(function(Ke){return Ke}):De.fil})})},this.localizeCountries=function(Te,De,Be){for(var Ke=0;Ke<Te.length;Ke++)De[Te[Ke].iso2]!==void 0?Te[Ke].localName=De[Te[Ke].iso2]:De[Te[Ke].name]!==void 0&&(Te[Ke].localName=De[Te[Ke].name]);return Be||Te.s:0}),Te},this.getCustomArBe},this.excludeCountries=function(Te,De){return De.length===0?Te:Te.fil2)})};varKe}(ue,ee,le),ne=V(JSON.parse(JSON.stringify(re)),be),me=V(JSON.parse(JSON.stringify($)),be),Le=G(Z(ne,ce,fe,ve,ge),2),Re=Le[0],Me=Le[1];if(de){var Ee=G(Z(me,ce,fe,ve,ge),2),we=Ee[0];Ee[1],Re=this.sortTerritories(we,Re)}z&&(Re=this.filterRegions(z,Re)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(Q,Re,oe.includes("onlyCountries")),te),se,oe.includes("onlyCountries")),this.preferredCountries=ae.length===0?[]:this.localizeCountries(this.getFilteredCountryList(ae,Re,oe.includes("preferredCountries")),se,oe.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(Q,Me),te)},Y=function(ie){function ce(ae){var te;p(this,ce),(te=function(ne,me){return!me||D(me)!=="object"&&typeof me!="function"?M(ne):me}(this,c(ce).call(this,ae))).getProbableCandidate=L()(function(ne){return ne&&ne.length!==0?te.state.onlyCountries.fil))},M(M(te)))[0]:null}),te.guessSelectedCountry=L()(function(ne,me,Le,Re){var Me;if(te.props.enableAreaCodes===!1&&(Re.s!0}),Me))return Me;var Ee=Le.find(function(Te){return Te.iso2==me});if(ne.trim()==="")return Ee;var we=Le.reduce(function(Te,De){return U()(ne,De.dialCode)&&(De.dialCode.length>Te.dialCode.length||De.dialCode.length===Te.dialCode.length&&De.priority<Te.priority)?De:Te},{dialCode:"",priority:10001},M(M(te)));return we.name?we:Ee}),te.updateCoun})},te.scrol}}},te.scrollTo0)},te.formatNumber=function(ne,me){if(!me)return ne;var Le,Re=me.format,Me=te.props,Ee=Me.disableCountryCode,we=Me.enableAreaCodeStretch,Te=Me.enableLongNumbers,De=Me.autoFormat;if(Ee?((Le=Re.split(" ")).shift(),Le=Le.join(" ")):we&&me.isAreaCode?((Le=Re.split(" "))[1]=Le[1].replace(/\.+/,"".padEnd(me.areaCodeLength,".")),Le=Le.join(" ")):Le=Re,!ne||ne.length===0)return Ee?"":te.props.prefix;if(ne&&ne.length<2||!Le||!De)return Ee?ne:te.props.prefix+ne;var Be,Ke=N()(Le,function(tt,Ot){if(tt.remainingText.length===0)return tt;if(Ot!==".")return{formattedText:tt.formattedText+Ot,remainingText:tt.remainingText};var et,it=C(et=tt.remainingText)||P(et)||u(),bt=it[0],xe=it.slice(1);return{formattedText:tt.formattedText+bt,remainingText:xe}},{formattedText:"",remainingText:ne.split("")});return(Be=Te?Ke.formattedText+Ke.remainingText.join(""):Ke.formattedText).includes("(")&&!Be.includes(")")&&(Be+=")"),Be},te.cursorToEnd=function(){var ne=te.numberInputRef;if(document.activeElement===ne){ne.focus();var me=ne.value.length;ne.value.charAt(me-1)===")"&&(me-=1),ne.setSelectionRange(me,me)}},te.getElem)]},te.getCountryD{}},te.handleFlagDropdownCl)}},te.handleInput=function(ne){var me=ne.target.value,Le=te.props,Re=Le.prefix,Me=Le.onChange,Ee=te.props.disableCountryCode?"":Re,we=te.state.selectedCountry,Te=te.state.freezeSelection;if(!te.props.countryCodeEditable){var De=Re+(we.hasAreaCodes?te.state.onlyCountries.fde}).dialCode:we.dialCode);if(me.slice(0,De.length)!==De)return}if(me===Re)return Me&&Me("",te.getCountryData(),ne,""),te.setState({formattedNumber:""});if(!(me.replace(/\D/g,"").length>15&&(te.props.enableLongNumbers===!1||typeof te.props.enableLongNumbers=="number"&&me.replace(/\D/g,"").length>te.props.enableLongNumbers))&&me!==te.state.formattedNumber){ne.preventDefault?ne.preventDefault():ne.returnValue=!1;var Be=te.props.country,Ke=te.state,tt=Ke.onlyCountries,Ot=Ke.selectedCountry,et=Ke.hiddenAreaCodes;if(Me&&ne.persist(),me.length>0){var it=me.replace(/\D/g,"");(!te.state.freezeSelection||Ot&&Ot.dialCode.length>it.length)&&(we=te.props.disableCountryGuess?Ot:te.guessSelectedCountry(it.substring(0,6),Be,tt,et)||Ot,Te=!1),Ee=te.formatNumber(it,we),we=we.dialCode?we:Ot}var bt=ne.target.selectionStart,xe=ne.target.selectionStart,Oe=te.state.formattedNumber,Ie=Ee.length-Oe.length;te.setState({formattedNumber:Ee,freezeSelection:Te,selectedCountry:we},function(){Ie>0&&(xe-=Ie),Ee.charAt(Ee.length-1)==")"?te.numberInputRef.setSelectionRange(Ee.length-1,Ee.length-1):xe>0&&Oe.length>=Ee.length?te.numberInputRef.setSelectionRange(xe,xe):bt<Oe.length&&te.numberInputRef.setSelectionRange(bt,bt),Me&&Me(Ee.replace(/[^0-9]+/g,""),te.getCountryData(),ne,Ee)})}},te.handleInputCl))},te.handleDoubleCle)},te.handleFlagItemCl)}},te.handleInputFo0)},te.handleInputB))},te.handleInputC)}},te.getHighlightCountryInme},te.searchCoun})},te.handleKeydown=function(ne){var me=te.props.keys,Le=ne.target.className;if(Le.includes("selected-flag")&&ne.which===me.ENTER&&!te.state.showDropdown)return te.handleFlagDropdownClick(ne);if(Le.includes("form-control")&&(ne.which===me.ENTER||ne.which===me.ESC))return ne.target.blur();if(te.state.showDropdown&&!te.props.disabled&&(!Le.includes("search-box")||ne.which===me.UP||ne.which===me.DOWN||ne.which===me.ENTER||ne.which===me.ESC&&ne.target.value==="")){ne.preventDefault?ne.preventDefault():ne.returnValue=!1;var})};switch(ne.which){case me.DOWN:Re(1);break;case me.UP:Re(-1);break;case me.ENTER:te.props.enableSearch?te.handleFlagItemClick(te.getSearchFilteredCountries()[te.state.highlightCountryIndex]||te.getSearchFilteredCountries()[0],ne):te.handleFlagItemClick([].concat(y(te.state.preferredCountries),y(te.state.onlyCountries))[te.state.highlightCountryIndex],ne);break;case me.ESC:case me.TAB:te.setState({showDropdown:!1},te.cursorToEnd);break;default:(ne.which>=me.A&&ne.which<=me.Z||ne.which===me.SPACE)&&te.setState({queryString:te.state.queryString+String.fromCharCode(ne.which)},te.state.debouncedQueryStingSearcher)}}},te.handleInputKeyDe)},te.handleClickOuts})},te.handleSearchChange=function(ne){var me=ne.currentTarget.value,Le=te.state,Re=Le.preferredCountries,Me=Le.selectedCountry,Ee=0;if(me===""&&Me){var we=te.state.onlyCountries;Ee=te.concatPreferredCountries(Re,we).findIndex(function(Te){return Te==Me}),setTime))},100)}te.setState({searchValue:me,highlightCountryIndex:Ee})},te.concatPreferredCountrme},te.getDropdownCountryNme},te.getSearchFilteredCountrEe},te.getCountryDropdownList=function(){var ne=te.state,me=ne.preferredCountries,Le=ne.highlightCountryIndex,Re=ne.showDropdown,Me=ne.searchValue,Ee=te.props,we=Ee.disableDropdown,Te=Ee.prefix,De=te.props,Be=De.enableSearch,Ke=De.searchNotFound,tt=De.disableSearchIcon,Ot=De.searchClass,et=De.searchStyle,it=De.searchPlaceholder,bt=De.autocompleteSearch,xe=te.getSearchFilteredCountries().map(function(We,Ge){var Xe=Le===Ge,st=K()({country:!0,preferred:We.iso2==="us"||We.iso2==="gb",active:We.iso2==="us",highlight:Xe}),qe="flag ".concat(We.iso2);return v.a.createElement("li",Object.assign({Ze},key:"flag_no_".concat(Ge),"data-flag-key":"flag_no_".concat(Ge),className:st,"data-dial-code":"1",tabIndex:we?"-1":"0","data-country-code":We.iso2,onCle)},role:"option"},Xe?{"aria-selected":!0}:{}),v.a.createElement("div",{className:qe}),v.a.createElement("span",{className:"country-name"},te.getDropdownCountryName(We)),v.a.createElement("span",{className:"dial-code"},We.format?te.formatNumber(We.dialCode,We):Te+We.dialCode))}),Oe=v.a.createElement("li",{key:"dashes",className:"divider"});me.length>0&&(!Be||Be&&!Me.trim())&&xe.splice(me.length,0,Oe);var Ie=K()(g({"country-list":!0,hide:!Re},te.props.dropdownClass,!0));return v.a.createElement("ul",{We},className:Ie,style:te.props.dropdownStyle,role:"listbox",tabIndex:"0"},Be&&v.a.createElement("li",{className:K()(g({search:!0},Ot,Ot))},!tt&&v.a.createElement("span",{className:K()(g({"search-emoji":!0},"".concat(Ot,"-emoji"),Ot)),role:"img","aria-label":"Magnifying glass"},"\u{1F50E}"),v.a.createElement("input",{className:K()(g({"search-box":!0},"".concat(Ot,"-box"),Ot)),style:et,type:"search",placeholder:it,autoFocus:!0,autoComplete:bt?"on":"off",value:Me,onChange:te.handleSearchChange})),xe.length>0?xe:v.a.createElement("li",{className:"no-entries-message"},v.a.createElement("span",null,Ke)))};var oe,ue=new j(ae.enableAreaCodes,ae.enableTerritories,ae.regions,ae.onlyCountries,ae.preferredCountries,ae.excludeCountries,ae.preserveOrder,ae.masks,ae.priority,ae.areaCodes,ae.localization,ae.prefix,ae.defaultMask,ae.alwaysDefaultMask),ee=ue.onlyCountries,le=ue.preferredCountries,se=ue.hiddenAreaCodes,fe=ae.value?ae.value.replace(/\D/g,""):"";oe=ae.disableInitialCountryGuess?0:fe.length>1?te.guessSelectedCountry(fe.substring(0,6),ae.country,ee,se)||0:ae.country&&ee.fry})||0;var ve,ge=fe.length<2&&oe&&!U()(fe,oe.dialCode)?oe.dialCode:"";ve=fe===""&&oe===0?"":te.formatNumber((ae.disableCountryCode?"":ge)+fe,oe.name?oe:void 0);var be=ee.findInoe});return te.state={showDropdown:ae.showDropdown,formattedNumber:ve,onlyCountries:ee,preferredCountries:le,hiddenAreaCodes:se,selectedCountry:oe,highlightCountryIndex:be,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:T()(te.searchCountry,250),searchValue:""},te}var de,z,Q;rete)}(ce,ie),de=ce,(z=[{key:"componentDidMount",var)}},{key:"componentWillUnmount",vae)}},{key:"componentDidUpdate",vae)}},{key:"updateFormattedNumber",value:function(ae){if(ae===null)return this.setState({selectedCountry:0,formattedNumber:""});var te=this.state,oe=te.onlyCountries,ue=te.selectedCountry,ee=te.hiddenAreaCodes,le=this.props,se=le.country,fe=le.prefix;if(ae==="")return this.setState({selectedCountry:ue,formattedNumber:""});var ve,ge,be=ae.replace(/\D/g,"");if(ue&&U()(ae,fe+ue.dialCode))ge=this.formatNumber(be,ue),this.setState({formattedNumber:ge});else{var ne=(ve=this.props.disableCountryGuess?ue:this.guessSelectedCountry(be.substring(0,6),se,oe,ee)||ue)&&U()(be,fe+ve.dialCode)?ve.dialCode:"";ge=this.formatNumber((this.props.disableCountryCode?"":ne)+be,ve||void 0),this.setState({selectedCountry:ve,formattedNumber:ge})}}},{key:"render",value:function(){var ae,te,oe,ue=this,ee=this.state,le=ee.onlyCountries,se=ee.selectedCountry,fe=ee.showDropdown,ve=ee.formattedNumber,ge=ee.hiddenAreaCodes,be=this.props,ne=be.disableDropdown,me=be.renderStringAsFlag,Le=be.isValid,Re=be.defaultErrorMessage,Me=be.specialLabel;if(typeof Le=="boolean")te=Le;else{var Ee=Le(ve.replace(/\D/g,""),se,le,ge);typeof Ee=="boolean"?(te=Ee)===!1&&(oe=Re):(te=!1,oe=Ee)}var we=K()((g(ae={},this.props.containerClass,!0),g(ae,"react-tel-input",!0),ae)),Te=K()({arrow:!0,up:fe}),De=K()(g({"form-control":!0,"invalid-number":!te,open:fe},this.props.inputClass,!0)),Be=K()({"selected-flag":!0,open:fe}),Ke=K()(g({"flag-dropdown":!0,"invalid-number":!te,open:fe},this.props.buttonClass,!0)),tt="flag ".concat(se&&se.iso2);return v.a.createElement("div",{className:"".concat(we," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},Me&&v.a.createElement("div",{className:"special-label"},Me),oe&&v.a.createElement("div",{className:"invalid-number-message"},oe),v.a.createElement("input",Object.assign({className:De,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:ve,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Ot){ue.numberInputRef=Ot,typeof ue.props.inputProps.ref=="function"?ue.props.inputProps.ref(Ot):typeof ue.props.inputProps.ref=="object"&&(ue.props.inputProps.ref.current=Ot)}})),v.a.createElement("div",{className:Ke,style:this.props.buttonStyle,Ot}},me?v.a.createElement("div",{className:Be},me):v.a.createElement("div",{onClick:ne?void 0:this.handleFlagDropdownClick,className:Be,title:se?"".concat(se.localName||se.name,": + ").concat(se.dialCode):"",tabIndex:ne?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!fe||void 0},v.a.createElement("div",{className:tt},!ne&&v.a.createElement("div",{className:Te}))),fe&&this.getCountryDropdownList()))}}])&&d(de.prototype,z),Q&&d(de,Q),ce}(v.a.Component);Y.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},f.default=Y}])},1852:function(H,E,))})(typeof self!="undefined"?self:this,function(t){ret7)}([function(f,s,g){"use strict";function P(G,re){return d(G)||p(G,re)||C(G,re)||y()}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method0}}function u(G,re){(re==null||re>G.length)&&(re=G.length);for(var $=0,F=new Array(re);$<re;$++)F[$]=G[$];return F}function p(G,re){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(G)){var $=[],F=!0,Z=!1,q=void 0;try{for(var V,j=G[Symbol.iterator]();!(F=(V=j.next()).done)&&($.push(V.value),!re||$.length!==re);F=!0);}catch(Y){Z=!0,q=Y}finally{try{F||j.return==null||j.return()}finally{if(Z)throw q}}return $}}function d(G){if(Array.isArray(G))return G}var w=g(1),D=g.n(w),M=g(8),c=g.n(M),l=g(2),i=g(10),v=g.n(i),O=g(3),T=g(6G)},L=function(G){if(!G)return null;var re=Object.keys(G);return re.length===0?null:re.red,$},{})nt,q,Z,q,F,V};s.a=K},function(f,s){f.exports=y},function(f,s,g){"use strict";var P=g(2),y=g(11w)},u=function(w,D){var M=Object(P.a)(w);return typeof D=="number"&&(D="".concat(D,"px")),D===!0?M:D===!1?C(M):"(".concat(M,": ").concat(D,")")")D)};s.a})},function(f,s,g){"use stri)}var C=g(9).match,u=typeof window!="undefined"?window.matchMedia:null;f.exports=y},function(f,s,g){"use strict";function P(l,i){return y(l).some(function(v){var O=v.inverse,T=v.type==="all"||i.type===v.type;if(T&&O||!T&&!O)return!1;var I=v.expressions.evR}});return I&&!O||!I&&s.match=P,s.parse=y;var d=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,w=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,D=/^(?:(min|max)-)?(.+)/,M=/(em|rem|px|cm|mm|in|pt|pc)?$/,c=/(dpi|dpcm|dppx)?=P},function(f,s,g){"use strict";function P(l,i){var v=Object.keys(l);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(l);i&&(O=O.filter(function(T){return Object.getOwnPropertyDescriptor(l,T).enumerable})),v.push.apply(v,O)}return v}function y(l){for(var i=1;i<arguments.length;i++){var v=arguments[i]!=null?arguments[i]:{};i%2?P(Object(v),!0).forEach(function(O){C(l,O,v[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(v)):P(Object(v)).forEach(function(O){Object.defineProperty(l,O,Object.getOwnPropertyDescriptor(v,O))})}retur,l}var u=g(12),p=g.n(u),d=p.a.oneOfType([p.a.string,p.a.number]),w={orientation:p.a.oneOf(["portrait","landscape"]),scan:p.a.oneOf(["progressive","interlace"]),aspectRatio:p.a.string,deviceAspectRatio:p.a.string,height:d,deviceHeight:d,width:d,deviceWidth:d,color:p.a.bool,colorIndex:p.a.bool,monochrome:p.a.bool,resolution:d},D=y({minAspectRatio:p.a.string,maxAspectRatio:p.a.string,minDeviceAspectRatio:p.a.string,maxDeviceAspectRatio:p.a.string,minHeight:d,maxHeight:d,minDeviceHeight:d,maxDeviceHeight:d,minWidth:d,maxWidth:d,minDeviceWidth:d,maxDeviceWidth:d,minColor:p.a.number,maxColor:p.a.number,minColorIndex:p.a.number,maxColorIndex:p.a.number,minMonochrome:p.a.number,maxMonochrome:p.a.number,minResolution:d,maxResolution:d},w),M={all:p.a.bool,grid:p.a.bool,aural:p.a.bool,braille:p.a.bool,handheld:p.a.bool,print:p.a.bool,projection:p.a.bool,screen:p.a.bool,tty:p.a.bool,tv:p.a.bool,embossed:p.a.bool},c=y(y({},M),D);w.type=Object.keys(M),s.a={all:c,types:M,matchers:w,features:0)},function(f,s,g){"use strict";(functio}function u(ne){return y(ne)===re}function p(ne){return y(ne)===K}function d(ne){return y(ne)==L}function D(ne){return y(ne)===$}function M(ne){return y(ne)===N}function c(ne){return y(ne)===V}function l(ne){return y(ne)===q}function i(ne){return y(ne)===S}function v(ne){return y(ne)===U}function O(ne){return y(ne)==F}var I=typeof Symbol=="function"&&Symbol.for,L=I?Symbol.for("react.element"):60103,S=I?Symbol.for("react.portal"):60106,N=I?Symbol.for("react.fragment"):60107,R=I?Symbol.for("react.strict_mode"):60108,U=I?Symbol.for("react.profiler"):60114,W=I?Symbol.for("react.provider"):60109,K=I?Symbol.for("react.context"):60110,G=I?Symbol.for("react.async_mode"):60111,re=I?Symbol.for("react.concurrent_mode"):60111,$=I?Symbol.for("react.forward_ref"):60112,F=I?Symbol.for("react.suspense"):60113,Z=I?Symbol.for("react.suspense_list"):60120,q=I?Symbol.for("react.memo"):60115,V=I?Symbol.for("react.lazy"):60116,j=I?Symbol.for("react.block"):60121,Y=I?Symbol.for("react.fundamental"):60117,ie=I?Symbol.for("react.responder"):60118,ce=I?Symbol.for("react.scope"):60119,de=G,z=re,Q=K,ae=W,te=L,oe=$,ue=N,ee=V,le=q,se=S,fe=U,ve=R,ge=F,be=!1;s.AsyncMode=de,s.ConcurrentMode=z,s.ContextConsumer=Q,s.ContextProvider=ae,s.Element=te,s.ForwardRef=oe,s.Fragment=ue,s.Lazy=ee,s.Memo=le,s.Portal=se,s.Profiler=fe,s.StrictMode=ve,s.Suspense=ge,s.isAsyncMode=C,s.isConcurrentMode=u,s.isContextConsumer=p,s.isContextProvider=d,s.isElement=w,s.isForwardRef=D,s.isFragment=M,s.isLazy=c,s.isMemo=l,s.isPortal=i,s.isProfiler=v,s.isStrictMode=O,s.isSuspense=T,s.isValidElementType=P,s.typeOf=y})()},function(f,s,g){"use strict";function P(){return null}var y=g(4),C=g(15),u=g(5),p=g(16),d=Function.call.bind(Object.prototype.hasOwnProperty),w=function(){};w=function(D){var M="Warning: "+D;typeof console!="undefined"&&console.error(M);try{throw new Error(M)}catch(c){}},f.exports=function(D}function v(Y){function ie(Q,ae,te,oe,ue,ee,le){if(oe=oe||V,ee=ee||te,le!==u){if(M){var se=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw se.name="Invariant Violation",se}if(typeof console!="undefined"){var fe=oe+":"+te;!ce[fe]&&de<3&&(w("You are manually calling a React.PropTypes validation function for the `"+ee+"` prop on `"+oe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ce[fe]=!0,de++)}}return ae[te]==null?Q?new i(ae[te]===null?"The "+ue+" `"+ee+"` is marked as required in `"+oe+"`, but its value is `null`.":"The "+ue+" `"+ee+"` is marked as required in `"+oe+"`, but its value is `undefined`."):null:Y(ae,te,oe,ue,ee)}var ce={},de=0,z=ie.bind(null,!1);return z.isRequired=ie.bind(null,!0e)}function T(Y){function ie(ce,de,z,Q,ae){if(typeof Y!="function")return new i("Property `"+ae+"` of component `"+z+"` has invalid PropType notation inside arrayOf.");var te=ce[de];if(!Array.isArray(te))return new i("Invalid "+Q+" `"+ae+"` of type `"+G(te)+"` supplied to `"+z+"`, expected an array.");for(var oe=0;oe<te.length;oe++){var ue=Y(te,oe,z,Q,ae+"["+oe+"]",u);if(ue instanceof Error)return ue}return null}return v(e)}function L(Y){function ie(ce,de,z,Q,ae){for(var te=ce[de],oe=0;oe<Y.length;oe++)if(l(te,Y[oe]))return null;var ue=JSON.stringifle});return new i("Invalid "+Q+" `"+ae+"` of value `"+String(te)+"` supplied to `"+z+"`, expected one of "+ue+".")}return Array.isArray(Y)?v(ie):(w(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),P)}function S(Y){function ie(ce,de,z,Q,ae){if(typeof Y!="function")return new i("Property `"+ae+"` of component `"+z+"` has invalid PropType notation inside objectOf.");var te=ce[de],oe=G(te);if(oe!=="object")return new i("Invalid "+Q+" `"+ae+"` of type `"+oe+"` supplied to `"+z+"`, expected an object.");for(var ue in te)if(d(te,ue)){var ee=Y(te,ue,z,Q,ae+"."+ue,u);if(ee instanceof Error)return ee}return null}return v(ie)}function N(Y){function ie(z,Q,ae,te,oe){for(var ue=0;ue<Y.length;ue++)if((0,Y[ue])(z,Q,ae,te,oe,u)==null)return null;return new i("Invalid "+te+" `"+oe+"` supplied to `"+ae+"`.")}if(!Array.isArray(Y))return w("Invalid argument supplied to oneOfType, expected an instance of array."),P;for(var ce=0;ce<Y.length;ce++){var de=Y[ce];if(typeof de!="function")return w("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+$(de)+" at index "+ce+"."),P}return v(ie)}function R(Y){function ie(ce,de,z,Q,ae){var te=ce[de],oe=G(te);if(oe!=="object")return new i("Invalid "+Q+" `"+ae+"` of type `"+oe+"` supplied to `"+z+"`, expected `object`.");for(var ue in Y){var ee=Y[ue];if(ee){var le=ee(te,ue,z,Q,ae+"."+ue,u);if(le)return le}}return null}return v(ie)}function U(Y){function ie(ce,de,z,Q,ae){var te=ce[de],oe=G(te);if(oe!=="object")return new i("Invalid "+Q+" `"+ae+"` of type `"+oe+"` supplied to `"+z+"`, expected `object`.");var ue=C({},ce[de],Y);for(var ee in ue){var le=Y[ee];if(!le)return new i("Invalid "+Q+" `"+ae+"` key `"+ee+"` supplied to `"+z+"`.\nBad object: "+JSON.stringify(ce[de],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Y),null,"  "));var se=le(te,ee,z,Q,ae+"."+ee,u);if(se)return se}return null}return v(ie)}function W(Y){switch(typeof Y){case"number":case"string":case"undefined":return!0;case"boolean":return!Y;case"object":if(Array.isArray(Y))return Y.every(W);if(Y===null||D(Y))return!0;var ie=c(Y);if(!ie)return!1;var ce,de=ie.call(Y);if(ie!==Y.entries){for(;!(ce=de.next()).done;)if(!W(ce.value))return!1}else for(;!(ce=de.next()).done;){var z=ce.value;if(z&&!W(z[1]))return!1}return!0;default:return!1}}function K(Y,ie){return Y==="symbol"||!!ie&&(ie["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ie instanceof Symbie}function re(Y){if(Y==null)return""+Y;var ie=G(Y);if(ie==="object"){if(Y instanceof Date)return"date";if(Y instanceof RegExp)return"regexp"}returnV}var Z=typeof Symbol=="function"&&Symbol.iterator,q="@@iterator",V="<<anonymous>>",j={array:O("array"),bool:O("boolean"),func:O("function"),number:O("number"),object:O("object"),string:O("string"),symbol:O("symbol"),P)}(),arrayOf:T,elemY)}(),elementTY)}(),instanceOf:I,nY)}(),objectOf:S,oneOf:L,oneOfType:N,shape:R,exact:U};return i.prototype=Error.prototype,j.checkPropTypes=p,j.resetWarningCache=p.resetWarningCache,j.PropTypes=j,j}},function(f,s,g){"use strict";function P(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;f.exports=function(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var d={},w=0;w<10;w++)d["_"+String.fromCharCode(w)]=w;if(Object.getOwnPropertyNames(d).map(function(M){return d[M]}).join("")!=="0123456789")return!1;var D={};return"abcdefghijklmnopqrst".split("").forEach(function(M){D[M]=M}),Object.keys(Object.assign({},D)).join("")==="abcdefghijklmnopqrst"}catch(M){return!1}}()?Object.ass M}},function(f,s,g){"use strict";function P(d,w,D,M,c){for(var l in d)if(p(d,l)){var i;try{if(typeof d[l]!="function"){var v=Error((M||"React class")+": "+D+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof d[l]+"`.");throw v.name="Invariant Violation",v}i=d[l](w,l,M,D,null,C)}catch(T){i=T}if(!i||i instanceof Error||y((M||"React class")+": type specification of "+D+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof i+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),i instanceof Error&&!(i.message in u)){u[i.message]=!0;var O=c?c():"";y("Failed "+D+" type: "+i.message+(O!=null?O:""))}}}var y=function(){},C=g(5),u={},p=Function.call.bind(Object.prototype.hasOwnProperty{}},P.resetWarningCa{}},f.exports=P},function(f,s,g){"use striM}function C(p){var d=p.children,w=p.device,D=p.onChange,M=P(p,["children","device","onChange"]),c=Object(u.a)(M,w,D);return typeof d=="function"?d(c):c?d:null}s.a=C;var u=g(0)}])})},91036:(H,E,e)=>{const t=e(35106),f=e(22997),{klona:s}=e(23059),{isPlainObject:g}=e(10977),P=e(9996),y=e(79430),{parse:C}=e(50020),u=e(8575),p=["img","audio","video","picture","svg","object","map","iframe","embed"],d=["script","styl.exports=v;const i=/^[^\0\t\n\f\r /<=>]+$/;function v(T,I,L){let S="",N)}}I?(I=Object.assign({},v.defaults,I),I.parser?I.parser=Object.assign({},O,I.parser):I.parser=O):(I=v.defaults,I.parser=O),d.forE`)});const U=I.nonTextTags||["script","style","textarea","option"];let W,K;I.allowedAttributes&&(W={},K={},w(I.allowedAttributes,function(ee,le){W[le]=[];const se=[];ee.forEe)}),K[le]=new RegExp("^("+se.join("|")+")$")}));const G={};w(I.allowedClasee});const re={};let $;w(I.transformTse});let F,Z,q,V,j,Y,ie=!1;de();const ce=new t.Parser({onopentag:function(ee,le){if(I.enforceHtmlBoundary&&ee==="html"&&de(),j){Y++;return}const se=new R(ee,le);Z.push(se);let fe=!1;const ve=!!se.text;let ge;if(D(re,ee)&&(ge=re[ee](ee,le),se.attribs=le=ge.attribs,ge.text!==void 0&&(se.innerText=ge.text),ee!==ge.tagName&&(se.name=ee=ge.tagName,V[F]=ge.tagName)),$&&(ge=$(ee,le),se.attribs=le=ge.attribs,ee!==ge.tagName&&(se.name=ee=ge.tagName,V[F]=ge.tagName)),(I.allowedTags&&I.allowedTags.indexOf(ee)===-1||I.disallowedTagsMode==="recursiveEscape"&&!c(q)||I.nestingLimit!=null&&F>=I.nestingLimit)&&(fe=!0,q[F]=!0,I.disallowedTagsMode==="discard"&&U.indexOf(ee)!==-1&&(j=!0,Y=1),q[F]=!0),F++,fe){if(I.disallowedTagsMode==="discard")return;N=S,S=""}S+="<"+ee,(!W||D(W,ee)||W["*"])&&w(le,function(be,ne){if(!i.test(ne)){delete se.attribs[ne];return}let me,Le=!1;if(!W||D(W,ee)&&W[ee].indexOf(ne)!==-1||W["*"]&&W["*"].indexOf(ne)!==-1||D(K,ee)&&K[ee].test(ne)||K["*"]&&K["*"].test(ne))Le=!0;else if(W&&W[ee]){for(const Re of W[ee])if(g(Re)&&Re.name&&Re.name===ne){Le=!0;let Me="";if(Re.multiple===!0){const Ee=be.split(" ");for(const we of Ee)Re.values.indexOf(we)!==-1&&(Me===""?Me=we:Me+=" "+we)}else Re.values.indexOf(be)>=0&&(Me=be);be=Me}}if(Le){if(I.allowedSchemesAppliedToAttributes.indexOf(ne)!==-1&&Q(ee,be)){delete se.attribs[ne];return}if(ee==="iframe"&&ne==="src"){let Re=!0;try{if(me=u.parse(be,!1,!0),me&&me.host===null&&me.protocol===null)Re=D(I,"allowIframeRelativeUrls")?I.allowIframeRelativeUrls:!I.allowedIframeHostnames&&!I.allowedIframeDomains;else if(I.allowedIframeHostnames||I.allowedIframeDomains){const Ee=(I.allowedIframeHostnames||[]).fme}),we=(I.allowedIframeDomains||[]).f`)});Re=Ee||we}}catch(Me){Re=!1}if(!Re){delete se.attribs[ne];return}}if(ne==="srcset")try{if(me=y(be),me.forE0)}),me=M(me,function(Re){return!Re.evil}),me.length)be=l(M(me,function(Re){return!Re.evil})),se.attribs[ne]=be;else{delete se.attribs[ne];return}}catch(Re){delete se.attribs[ne];return}if(ne==="class"){const Re=G[ee],Me=G["*"];if(Re&&Me?be=ue(be,P(Re,Me)):be=ue(be,Re||Me),!be.length){delete se.attribs[ne];return}}if(ne==="style")try{const Re=C(ee+" {"+be+"}"),Me=ae(Re,I.allowedStyles);if(be=te(Me),be.length===0){delete se.attribs[ne];return}}catch(Re){delete se.attribs[ne];return}S+=" "+ne,be&&be.length&&(S+='="'+z(be,!0)+'"')}else delete se.attribs[ne]}),I.selfClosing.indexOf(ee)!==-1?S+=" />":(S+=">",se.innerText&&!ve&&!I.textFilter&&(S+=z(se.innerText),ie=!0)),fe&&(S=N+z(S),N="")},onte}},onclosetag:function(ee){if(j)if(Y--,!Y)j=!1;else return;const le=Z.pop();if(!le)return;j=I.enforceHtmlBoundary?ee==="html":!1,F--;const se=q[F];if(se){if(delete q[F],I.disallowedTagsMode==="discard"){le.updateParentNodeText();return}N=S,S=""}if(V[F]&&(ee=V[F],delete V[F]),I.exclusiveFilter&&I.exclusiveFilter(le)){S=S.substr(0,le.tagPosition);return}if(le.updateParentNodeMediaChildren(),le.updateParentNodeText(),I.selfClosing.indexOf(ee)!==-1){se&&(S=N,N="");return}S+="</"+ee+">",se&&(S=N+z(S),N="")}},I.parser);return ce.write(T),ce.end(e}function Q(ee,le){le=le.replace(/[\x00-\x20]+/g,""),le=le.replace(/<!--.*?-->/g,"");const se=le.match(/^([a-zA-Z]+):/);if(!se)return le.match(/^[/\\]{2}/)?!I.allowProtocolRelative:!1;const fe=se[1].toLowerCase();return D(I.allowedSchemesByTag,ee)?I.allowedSchemesByTag[ee].indexOf(fe)===-1:!I.allowedSchemes||I.allowedSchemes.indexOf(fe)===-1}function ae(ee,le){if(!le)return ee;const se=s(ee),fe=ee.nodes[0];let ve;return le[fe.selector]&&le["*"]?ve=P(le[fe.selector],le["*"]):ve=le[fe.selector]||le["*"],ve&&(se.nodes[0].nodes=fe.nodes.reduce(oe(ve),[]))}}const O={decodeEntities:!0};v.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},v.simpleTransf}}}},22997:H=>{"use strict";H.expo")}},16691:function(H,E,e){"use strict";var t=this&&this.__extends||function(){var P=function(y,C){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var d in p)p.hasOwnProperty(d)&&(u[d]=p[d])},P(y,C)};return function(y,C){P(y,C);function u(){this.constructor=y}y.prototype=C===null?Object.create(C):(u.prototype=C.prototype,new u)}}(),f=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(E,"__esModule",{value:!0});var s=f(e(90819)),g=function(P){t(y,P);function y(C){C===void 0&&(C={});var u=P.call(tw)})||this;return u._cbs=C,u.events=[],u}return y.prototype.onre()},y.prototype.rest)}},y}(s.default);E.CollectingHandler=g},57613:function(H,E,e){"use strict";var t=this&&this.__extends||function(){var i=function(v,O){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var L in I)I.hasOwnProperty(L)&&(T[L]=I[L])},i(v,O)};return function(v,O){i(v,O);function T(){this.constructor=v}v.prototype=O===null?Object.create(O):(T.prototype=O.prototype,new T)}}(),f=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},s=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var v={};if(i!=null)for(var O in i)Object.hasOwnProperty.call(i,O)&&(v[O]=i[O]);return v.default=i,v};Object.defineProperty(E,"__esModule",{value:!0});var g=f(e(47915)),P=s(e(89432)),y=e(16666),C=function(i){t(v,i);function v(O,T){var I=this;return typeof O=="object"&&O!==null&&(O=void 0,T=O),I=i.call(this,O,T)||this,I}return v.prototype.onend=function(){var O={},T=p(M,this.dom);if(T)if(T.name==="feed"){var I=T.children;O.type="atom",D(O,"id","id",I),D(O,"title","title",I);var L=w("href",p("link",I));L&&(O.link=L),D(O,"description","subtitle",I);var S=d("updated",I);S&&(O.updated=new Date(S)),D(O,"author","email",I,!0),O.items=u("entry",I).,R})}else{var I=p("channel",T.children).children;O.type=T.name.substr(0,3),O.id="",D(O,"title","title",I),D(O,"link","link",I),D(O,"description","description",I);var S=d("lastBuildDate",I);S&&(O.updated=new Date(S)),D(O,"author","managingEditor",I,!0),O.items=u("item",T.children).,W})}this.feed=O,this.handleCallback(T?null:Error("couldn't find root of feed"))},v}(g.default);E.FeedHandle]}function d(i,v,O){return O===void 0&&(O=!1),P.getText(P.getElementsByTagName(i,v,O,1)).tri}var c={xmlMode:!0};function l(i,v){v===void 0&&(v=c);var O=new C(v);return new y.Parser(O,v).end(i),O.feed}E.parseFeed=l},90819:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});va,t}();E.default=e},16666:function(H,E,e){"use strict";var t=this&&this.__exten)}}(),f=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(E,"__esModule",{value:!0});var s=f(e(10034)),g=e(17187),P=new Set(["input","option","optgroup","select","button","datalist","textarea"]),y=new Set(["p"]),C={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:y,h1:y,h2:y,h3:y,h4:y,h5:y,h6:y,select:P,input:P,output:P,button:P,datalist:P,textarea:P,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:y,article:y,aside:y,blockquote:y,details:y,div:y,dl:y,fieldset:y,figcaption:y,figure:y,footer:y,form:y,header:y,hr:y,main:y,nav:y,ol:y,pre:y,section:y,table:y,ul:y,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},u=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),d=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),w=/\s|\//,D=function(M){t(c,v}return c.prototype._updatePosit()},c.prototype.ontl)},c.prototype.onopentagn})},c.prototype.onopentag""},c.prototype.onclosetag=function(l){if(this._updatePosition(1),this._lowerCaseTagNames&&(l=l.toLowerCase()),(p.has(l)||d.has(l))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!u.has(l))){var i=this._stack.lastIndexOf(l);if(i!==-1)if(this._cbs.onclosetag)for(i=this._stack.length-i;i--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=i;else l==="p"&&!this._options.xmlMode&&(this.onopentagname(l),this._closeCurrentTag())}else!this._options.xmlMode&&(l==="br"||l==="p")&&(this.onopentagname(l),this._closeCurrentTag())},c.prototype.onselfclosing()},c.prototype._closeCurrent))},c.prototype.onattribn=l},c.prototype.onattribd=l},c.prototype.onattrib""},c.prototype._getInstructionN,v},c.prototype.ondeclaration=function(l){if(this._cbs.onprocessinginstruction){var i=this._getInstructionName(l);this._cbs.onprocessinginstruction("!"+i,"!"+l)}},c.prototype.onprocessinginstruct)}},c.prototype.oncomm()},c.prototype.oncd")},c.prototype.onerl)},c.prototype.on()},c.prototype.res)},c.prototype.parseCompll)},c.prototype.write=function(l){this._tokenizer.write(l)},c.prototype.l)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c}(g.EventEmitter);E.Parser=D},10034:function(H,E,e){"use strict";var t=this&&this.__importDefauF}};Object.defineProperty(E,"__esModule",{value:!0});var f=t(e(26)),s=t(e(59323)),g=t(e(29591)),P=t(e(258}var p=C("C",23,16),d=C("D",24,16),w=C("A",25,16),D=C("T",26,16),M=C("A",27,16),c=u("R",34),l=u("I",35),i=u("P",36),v=u("T",37),O=C("R",39,1),T=C("I",40,1),I=C("P",41,1),L=C("T",42,1),S=u("Y",44),N=u("L",45),R=u("E",46),U=C("Y",48,1),W=C("L",49,1),K=C("E",50,1),G=C("#",52,53),re=C("X",55,54),$=functios)}return F.prototype.re!1},F.prototype._stateText=function(Z){Z==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&Z==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},F.prototype._stateBeforeTagName=function(Z){Z==="/"?this._state=5:Z==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):Z===">"||this._special!==1||y(Z)?this._state=1:Z==="!"?(this._state=15,this._sectionStart=this._index+1):Z==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(Z==="s"||Z==="S")?31:3,this._sectionStart=this._index)},F.prototype._stateInTagName=function(Z){(Z==="/"||Z===">"||y(Z))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},F.prototype._stateBeforeClosingTagName=function(Z){y(Z)||(Z===">"?this._state=1:this._special!==1?Z==="s"||Z==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},F.prototype._stateInClosingTagName=function(Z){(Z===">"||y(Z))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},F.prototype._stateAfterClosingTagName=function(Z){Z===">"&&(this._state=1,this._sectionStart=this._index+1)},F.prototype._stateBeforeAttributeName=function(Z){Z===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):Z==="/"?this._state=4:y(Z)||(this._state=9,this._sectionStart=this._index)},F.prototype._stateInSelfClosingTag=function(Z){Z===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):y(Z)||(this._state=8,this._index--)},F.prototype._stateInAttributeName=function(Z){(Z==="="||Z==="/"||Z===">"||y(Z))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},F.prototype._stateAfterAttributeName=function(Z){Z==="="?this._state=11:Z==="/"||Z===">"?(this._cbs.onattribend(),this._state=8,this._index--):y(Z)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},F.prototype._stateBeforeAttributeValue=function(Z){Z==='"'?(this._state=12,this._sectionStart=this._index+1):Z==="'"?(this._state=13,this._sectionStart=this._index+1):y(Z)||(this._state=14,this._sectionStart=this._index,this._index--)},F.prototype._stateInAttributeValueDoubleQuotes=function(Z){Z==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&Z==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},F.prototype._stateInAttributeValueSingleQuotes=function(Z){Z==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&Z==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},F.prototype._stateInAttributeValueNoQuotes=function(Z){y(Z)||Z===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&Z==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},F.prototype._stateBeforeDeclarat16},F.prototype._stateInDeclaration=function(Z){Z===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},F.prototype._stateInProcessingInstruction=function(Z){Z===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},F.prototype._stateBeforeComment=function(Z){Z==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},F.prototype._stateInComment=function(Z){Z==="-"&&(this._state=20)},F.prototype._stateAfterComment1=function(Z){Z==="-"?this._state=21:this._state=19},F.prototype._stateAfterComment2=function(Z){Z===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):Z!=="-"&&(this._state=19)},F.prototype._stateBeforeCdata6=function(Z){Z==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},F.prototype._stateInCdata=function(Z){Z==="]"&&(this._state=29)},F.prototype._stateAfterCdata1=function(Z){Z==="]"?this._state=30:this._state=28},F.prototype._stateAfterCdata2=function(Z){Z===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):Z!=="]"&&(this._state=28)},F.prototype._stateBeforeSpecial=function(Z){Z==="c"||Z==="C"?this._state=33:Z==="t"||Z==="T"?this._state=43:(this._state=3,this._index--)},F.prototype._stateBeforeSpecialEnd=function(Z){this._special===2&&(Z==="c"||Z==="C")?this._state=38:this._special===3&&(Z==="t"||Z==="T")?this._state=47:this._state=1},F.prototype._stateBeforeScript5=function(Z){(Z==="/"||Z===">"||y(Z))&&(this._special=2),this._state=3,this._index--},F.prototype._stateAfterScript5=function(Z){Z===">"||y(Z)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},F.prototype._stateBeforeStyle4=function(Z){(Z==="/"||Z===">"||y(Z))&&(this._special=3),this._state=3,this._index--},F.prototype._stateAfterStyle4=function(Z){Z===">"||y(Z)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},F.prototype._parseNamedEntityStr)}},F.prototype._parseLegacyEntity=function(){var Z=this._sectionStart+1,q=this._index-Z;for(q>6&&(q=6);q>=2;){var V=this._buffer.substr(Z,q);if(Object.prototype.hasOwnProperty.call(g.default,V)){this._emitPartial(g.default[V]),this._sectionStart+=q+1;return}else q--}},F.prototype._stateInNamedEntity=function(Z){Z===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(Z<"a"||Z>"z")&&(Z<"A"||Z>"Z")&&(Z<"0"||Z>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?Z!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},F.prototype._decodeNumericEntte},F.prototype._stateInNumericEnt-)},F.prototype._stateInHexEnt-)},F.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},F.prototype.wr()},F.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var Z=this._buffer.charAt(this._index);this._state===1?this._stateText(Z):this._state===12?this._stateInAttributeValueDoubleQuotes(Z):this._state===9?this._stateInAttributeName(Z):this._state===19?this._stateInComment(Z):this._state===8?this._stateBeforeAttributeName(Z):this._state===3?this._stateInTagName(Z):this._state===6?this._stateInClosingTagName(Z):this._state===2?this._stateBeforeTagName(Z):this._state===10?this._stateAfterAttributeName(Z):this._state===13?this._stateInAttributeValueSingleQuotes(Z):this._state===11?this._stateBeforeAttributeValue(Z):this._state===5?this._stateBeforeClosingTagName(Z):this._state===7?this._stateAfterClosingTagName(Z):this._state===31?this._stateBeforeSpecial(Z):this._state===20?this._stateAfterComment1(Z):this._state===14?this._stateInAttributeValueNoQuotes(Z):this._state===4?this._stateInSelfClosingTag(Z):this._state===16?this._stateInDeclaration(Z):this._state===15?this._stateBeforeDeclaration(Z):this._state===21?this._stateAfterComment2(Z):this._state===18?this._stateBeforeComment(Z):this._state===32?this._stateBeforeSpecialEnd(Z):this._state===38?O(this,Z):this._state===39?T(this,Z):this._state===40?I(this,Z):this._state===33?c(this,Z):this._state===34?l(this,Z):this._state===35?i(this,Z):this._state===36?v(this,Z):this._state===37?this._stateBeforeScript5(Z):this._state===41?L(this,Z):this._state===42?this._stateAfterScript5(Z):this._state===43?S(this,Z):this._state===28?this._stateInCdata(Z):this._state===44?N(this,Z):this._state===45?R(this,Z):this._state===46?this._stateBeforeStyle4(Z):this._state===47?U(this,Z):this._state===48?W(this,Z):this._state===49?K(this,Z):this._state===50?this._stateAfterStyle4(Z):this._state===17?this._stateInProcessingInstruction(Z):this._state===53?this._stateInNamedEntity(Z):this._state===22?p(this,Z):this._state===51?G(this,Z):this._state===23?d(this,Z):this._state===24?w(this,Z):this._state===29?this._stateAfterCdata1(Z):this._state===30?this._stateAfterCdata2(Z):this._state===25?D(this,Z):this._state===26?M(this,Z):this._state===27?this._stateBeforeCdata6(Z):this._state===55?this._stateInHexEntity(Z):this._state===54?this._stateInNumericEntity(Z):this._state===52?re(this,Z):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},F.prototype.pause=function(){this._running=!1},F.prototype.res()},F.prototype.()},F.prototype._fin()},F.prototype._handleTrailingData=function(){var Z=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(Z):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(Z):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(Z)},F.prototype.getAbsoluteInex},F.prototype._getSectx)},F.prototype._emitTo-1},F.prototype._emitPartial=function(Z){this._baseState!==1?this._cbs.onattribdata(Z):this._cbs.ontext(Z)},F}();E.default=$},35106:function(H,E,e){"use stri])}var f=this&&this.__importSt,D};Object.defineProperty(E,"__esModule",{value:!0});var s=e(16666);E.Parser=s.Parser;var g=e(47915);E.DomHandler=g.DomHandler,E.DefaultHandler=g.DomHandom}E.parseDOD)}E.createDomStream=y;var C=e(10034);E.Tokenizer=C.default;var u=f(e(99960));E.ElementType=u,E.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},t(e(57613)),t(e(18036)),t(e(16691));var p=f(e(89432));E.DomUtils=p;var d=e(57613);E.RssHandler=d.FeedHandler},10977:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.)}E.isPlainObject=t},67771:(H,E,e)=>{"use strict";var t=e(40210),f=e(12296),s=e(31044)(),g=e(27296),P=t("%TypeError%"),y=t("%Math.floor%");H.expo,u}},37L}},79546:(H,E,e)=>{var t=e(62195),f=[e(39627),e(58855),e(45580),e(8728)],s=[];H.exports=t.createStore(f,s)},62195:(H,E,e)=>{var t=e(69078),f=t.slice,s=t.pluck,g=t.each,P=t.bind,y=t.create,C=t.isList,u=t.isFunction,p=t.isObject;H.exports={createStore:D};var d={version:"2.0.12",enabled:!1,c)},set:function(M,c){return c===void 0?this.remove(M):(this.storage.write(this._namespacePrefix+M,this._serialize(c)),c)},remM)},e})},clear()},hasNamesp_"},createSts)},addPluM)},namespM)}};function w(){var M=typeof console=="undefined"?null:console;if(M){var c=M.warn?M.warn:M.log;c.apply(M,arguments)}}function D(M,c,l){l||(l=""),M&&!C(M)&&(M=[M]),c&&!C(c)&&(c=[c]);var i=l?"__storejs_"+l+"_":"",v=l?new RegExp("^"+i):null,O=/^[a-zA-Z0-9_\-]*$/;if(!O.test(l))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var T={_namespacePrefix:i,_namespaceRegexp:v,_testStor1}},_assignPluginFnP)}},_serialize:function(L){return JSON.stringify(L)},_deserialize:function(L,S){if(!L)return S;var N="";try{N=JSON.parse(L)}catch(R){N=L}return N!==void 0?N:S},_addStor0)},_addPlugin:function(L){var S=this;if(C(L)){g(L,function(U){S._addPlugin(U)});return}var N=s(this.plug=U});if(!N){if(this.plugins.push(L),!u(L))throw new Error("Plugins must be function values that return objects");var R=L.call(this);if(!p(R))throw new Error("Plugins must return an object of function properties");W)})}},addStorL)}},I=y(T,d,{plugins:[]});return I.raw={},))}),L)}),g(c,function(L){I._addPlugin(L)}),I}},69078:(H,E,e)=>{var t=P(),f=y(),s=C(),g=typeof window!="undefined"?window:e.g;H.exports={assign:t,create:f,trim:s,bind:u,slice:p,each:d,map:w,pluck:D,isList:M,isFunction:c,isObject:l,Globalv}}function y(){if(Object.create)ret))};{let v=function(){};var i=v;ret)nction M(i){return i!=null&&typeof i!="function"&&typeof i.length=="number"}function c(i){return i&&{}.toString.call(i)==="[object Functio]"}},45580:(H,E,e)=>{var t=e(69078),f=t.Global,s=t.trim;H.exports={name:"cookieStorage",read:P,write:C,each:y,remove:u,clearAll:p};var g=f.docum}function u(w){!w||!d(w)||(g.cookie=escape(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=)}},39627:(H,E,e)=>{var t=e(69078),f=t.Global;H.exports={name:"localStorage",read:g,write:P,each:y,remove:C,clearAll:u};function s(){return f.localStorage}function g(p){return s().getItem(p)}function P(p,d){return s().setItem(p,d)}function y(p){for(var d=s().length-1;d>=0;d--){var w=s().key(d);p(g(w),w)}}function C(p){return s().removeItem(p)}function u(){return s().clear()}},8728:H=>{H.exports={name:"memoryStorage",read:e,write:t,each:f,remove:s,clearAll:g};var E={};function e(P){return E},58855:(H,E,e)=>{var t=e(69078),f=t.Global;H.exports={name:"sessionStorage",read:g,write:P,each:y,remove:C,clearAll:u};function s(){return f.sessionStorage}function g(p){return s().getItem},37903:H=>{"use strict";function E(y){return s(y)||f(y)||t(y)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(y,C){if(y){if(typeof y=="string")return g(y,C);var u=Object.prototype.toString.call(y).slice(8,-1);if(u==="Object"&&y.constructor&&(u=y.constructor.name),u==="Map"||u==="Set")return Array.from(y);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return g(y,y)}function s(y){if(Array.isArray(y))return g(y)}function g(y,C){(C==null||C>y.length)&&(C=y.length);for(var u=0,p=new Array(C);u<C;u++)p[u]=y[u];retur[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEs}}),P.prototype._setDefau})},H.exports=P},80569:(H,E,e)=>{"use strict";function t(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(N){return typeof N}:t=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},t(L)}var f;typeof window!="undefined"?f=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),f=void 0):f=self;var s=e(98767),g=e(4445),P=e(80129),y=e(28899),C=e(54960),u=e(81097),p=e(37903);function d(){}H.exports=function(L,S){return typeof S=="function"?new E.Request("GET",L).end(S):arguments.length===1?new E.Request("GET",L):new E.Request(L,S)},E=H.exports;var w=E;E.Request=T,w.getXHR=function(){if(f.XMLHttpRequest&&(!f.location||f.location.protocol!=="file:"||!f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(L){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(L){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(L){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(L){}throw new Error("Browser-only version of superagent could not find XHR")};var D="".trim?function(L){return L.trim()}:function(L){return L.replace(/(^\s*|\s*$)/g,"")}function c(L,S,N){if(N!==void 0){if(N===null){L.push(encodeURI(S));return}if(Array.isArray(N))N.forEU)});else if(C(N))for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&c(L,"".concat(S,"[").concat(R,"]"),N[R]);else L.push(encodeURI(S)+"="+encodeURIComponent(N))}}w.serializeObject=M;function l(L){for(var S={},N=L.split("&"),R,U,W=0,K=N.length;W<K;++W)R=N[W],U=R.indexOf("="),U===-1?S[decodeURIComponent(R)]="":S[decodeURIComponent(R.slice(0,U))]=decodeURIComponent(R.slice(U+1));return S}w.parseString=l,w.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},w.serialize={"application/x-www-form-urlencoded":P.stringify,"application/json":g},w.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse};function i(L){for(var S=L.split(/\r?\n/),N={},R,U,W,K,G=0,re=S.length;G<re;++G)U=S[G],R=U.indexOf(":"),R!==-1&&(W=U.slice(0,R).toLowerCase(),K=D(U.slice(R+1)),N[W]=K);returL)}function O(L){this.req=L,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var S=this.xhr.status;S===1223&&(S=204),this._setStatusProperties(S),this.headers=i(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&L._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}u(O.prototype),O.prototype._parseBl)},O.prototype.toEr,U},w.Response=O;function T(L,S){var N=this;this._query=this._query||[],this.method=L,this.url=S,this.header={},this._header={},this.on("end",function(){var R=null,U=null;try{U=new O(N)}catch(K){return R=new Error("Parser is unable to parse the response"),R.parse=!0,R.original=K,N.xhr?(R.rawResponse=typeof N.xhr.responseType=="undefined"?N.xhr.responseText:N.xhr.response,R.status=N.xhr.status?N.xhr.status:null,R.statusCode=R.status):(R.rawResponse=null,R.status=null),N.callback(R)}N.emit("response",U);var W;try{N._isResponseOK(U)||(W=new Error(U.statusText||U.text||"Unsuccessful HTTP response"))}catch(K){W=K}W?(W.original=R,W.response=U,W.status=U.status,N.callback(W,U)):N.callback(null,U)})}s(T.prototype),y(T.prototype),T.prototype.type=function(L){return this.set("Content-Type",w.types[L]||L),this},T.prototype.accis},T.prototype.auth=function(L,S,N){arguments.length===1&&(S=""),t(S)==="object"&&S!==null&&(N=S,S=""),N||(N={type:typeof btoa=="function"?"basic":"auto"});var R=function(W){if(typeof btoa=="function")return btoa(W);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(L,S,N,R)},T.prototype.query=function(L){return typeof L!="string"&&(L=M(L)),L&&this._query.push(L),this},T.prototype.attis},T.prototype._getFormDta},T.prototype.callbS)},T.prototype.crossDomainError=function(){var L=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);L.crossDomain=!0,L.status=this.status,L.method=this.method,L.url=this.url,this.callback(L)},T.prototype.agis},T.prototype.ca=T.prototype.agent,T.prototype.buffer=T.prototype.ca,T.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},T.prototype.pipe=T.prototype.write,T.prototype._isH]"},T.prototype.()},T.prototype._setUploadTime))},T.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var L=this;this.xhr=w.getXHR();var S=this.xhr,N=this._formData||this._data;this._setTimeouts(),S.onreadystatechange=function(){var G=S.readyState;if(G>=2&&L._responseTimeoutTimer&&clearTimeout(L._responseTimeoutTimer),G===4){var re;try{re=S.status}catch($){re=0}if(!re)return L.timedout||L._aborted?void 0:L.crossDomainError();L.emit("end")}};var R=function(re,$){$.total>0&&($.percent=$.loaded/$.total*100,$.percent===100&&clearTimeout(L._uploadTimeoutTimer)),$.direction=re,L.emit("progress",$)};if(this.hasListeners("progress"))try{S.addEventListener("progress",R.bind(null,"download")),S.upload&&S.upload.addEventListener("progress",R.bind(null,"upload"))}catch(G){}S.upload&&this._setUploadTimeout();try{this.username&&this.password?S.open(this.method,this.url,!0,this.username,this.password):S.open(this.method,this.url,!0)}catch(G){return this.callback(G)}if(this._withCredentials&&(S.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof N!="string"&&!this._isHost(N)){var U=this._header["content-type"],W=this._serializer||w.serialize[U?U.split(";")[0]:""];!W&&v(U)&&(W=w.serialize["application/json"]),W&&(N=W(N))}for(var K in this.header)this.header[K]!==null&&Object.prototype.hasOwnProperty.call(this.header,K)&&S.setRequestHeader(K,this.header[K]);this._responseType&&(S.responseType=this._responseType),this.emit("request",this),S.send(typeof N=="undefined"?null:N)},w.ag p},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forER}}),p.prototype.del=p.prototype.delete,w.get=function(L,S,N){var R=w("GET",L);return typeof S=="function"&&(N=S,S=null),S&&R.query(S),N&&R.end(N),R},w.head=function(L,S,N){var R=w("HEAD",L);return typeof S=="function"&&(N=S,S=null),S&&R.query(S),N&&R.end(N),R},w.options=function(L,S,N){var R=w("OPTIONS",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R};function I(L,S,N){var R=w("DELETE",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R}w.del=I,w.delete=I,w.patch=function(L,S,N){var R=w("PATCH",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R},w.post=function(L,S,N){var R=w("POST",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R},w.put=function(L,S,N){var R=w("PUT",L);return typeof S=="function"&&(N=S,S=null),S&&R.send(S),N&&R.end(N),R}},54960:H=>{"use strict";function E(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(s){return typeof s}:E=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Et"}H.exports=e},28899:(H,E,e)=>{"use strict";function t(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(p){return typeof p}:t=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t(C)}var f=e(54960);H.exports=s;function s(C){if(C)return g(C)}function g(C){for(var u in s.prototype)Object.prototype.hasOwnProperty.call(s.prototype,u)&&(C[u]=s.prototype[u]);return C}s.prototype.clearTimeis},s.prototype.parse=function(C){return this._parser=C,this},s.prototype.responseType=function(C){return this._responseType=C,this},s.prototype.serialize=function(C){return this._serializer=C,this},s.prototype.timeout=function(C){if(!C||t(C)!=="object")return this._timeout=C,this._responseTimeout=0,this._uploadTimeout=0,this;for(var u in C)if(Object.prototype.hasOwnProperty.call(C,u))switch(u){case"deadline":this._timeout=C.deadline;break;case"response":this._responseTimeout=C.response;break;case"upload":this._uploadTimeout=C.upload;break;default:console.warn("Unknown timeout option",u)}return this},s.prototype.retry=function(C,u){return(arguments.length===0||C===!0)&&(C=1),C<=0&&(C=0),this._maxRetries=C,this._retries=0,this._retryCallback=u,this};var P=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),y=new Set([408,413,429,500,502,503,504,521,522,524]);s.prototype._shouldRetry=function(C,u){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var p=this._retryCallback(C,u);if(p===!0)return!0;if(p===!1)return!1}catch(d){console.error(d)}return!!(u&&u.status&&y.has(u.status)||C&&(C.code&&P.has(C.code)||C.timeout&&C.code==="ECONNABORTED"||C.crossDomain))},s.prototype._re()},s.prototype.then=function(C,u){var p=this;if(!this._fullfilledPromise){var d=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(w,D){d.on("abort",function(){if(!(p._maxRetries&&p._maxRetries>p._retries)){if(p.timedout&&p.timedoutError){D(p.timedoutError);return}var M=new Error("Aborted");M.code="ABORTED",M.status=p.status,M.method=p.method,M.url=p.url,D(M)}}),d.c)})})}return this._fullfilledPromise.then(C,u)},s.prototype.caC)},s.prototype.is},s.prototype.ok=function(C){if(typeof C!="function")throw new Error("Callback required");return this._okCallback=C,this},s.prototype._isResponseOK=function(C){return C?this._okCallback?this._okCallback(C):C.status>=200&&C.status<300:!1},s.prototype.get=function(C){return this._header[C.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.is},s.prototype.unis},s.prototype.field=function(C,u){if(C==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(f(C)){for(var p in C)Object.prototype.hasOwnProperty.call(C,p)&&this.field(p,C[p]);return this}if(Array.isArray(u)){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&this.field(C,u[d]);return this}if(u==null)throw new Error(".field(name, val) val can not be empty");return typeof u=="boolean"&&(u=String(u)),this._getFormData().append(C,u),this},s.prototype.abs)},s.prototype._auth=function(C,u,p,d){switch(p.type){case"basic":this.set("Authorization","Basic ".concat(d("".concat(C,":").concat(u))));break;case"auto":this.username=C,this.password=u;break;case"bearer":this.set("Authorization","Bearer ".concat(C));break;default:break}return this},s.prototype.withCredentials=function(C){return C===void 0&&(C=!0),this._withCredentials=C,this},s.prototype.redireis},s.prototype.maxResponseSize=function(C){if(typeof C!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=C,this},s.prototype.toJr}},s.prototype.send=function(C){var u=f(C),p=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(u&&!this._data)Array.isArray(C)?this._data=[]:this._isHost(C)||(this._data={});else if(C&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(u&&f(this._data))for(var d in C)Object.prototype.hasOwnProperty.call(C,d)&&(this._data[d]=C[d]);else typeof C=="string"?(p||this.type("form"),p=this._header["content-type"],p&&(p=p.toLowerCase().trim()),p==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(C):C:this._data=(this._data||"")+C):this._data=C;return!u||this._isHost(C)?this:(p||this.type("json"),this)},s.prototype.sortQuery=function(C){return this._sort=typeof C=="undefined"?!0:C,this},s.prototype._finalizeQueryString=function(){var C=this._query.join("&");if(C&&(this.url+=(this.url.includes("?")?"&":"?")+C),this._query.length=0,this._sort){var u=this.url.indexOf("?");if(u>=0){var p=this.url.slice(u+1).split("&");typeof this._sort=="function"?p.sort(this._sort):p.sort(),this.url=this.url.slice(0,u)+"?"+p.join("&")}}},s.prototype._appendQueryStr")},s.prototype._timeoutEr)}},s.prototype._setTimeo))}},81097:(H,E,e)=>{"use strict";var t=e(64506);H.exportg)}function s(g){for(var P in f.prototype)Object.prototype.hasOwnProperty.call(f.prototype,P)&&(g[P]=f.prototype[P]);return g}f.prototype.)]},f.prototype._setHeaderPropert{}},f.prototype._setStatusProperties=function(g){var P=g/100|0;this.statusCode=g,this.status=this.statusCode,this.statusType=P,this.info=P===1,this.ok=P===2,this.redirect=P===3,this.clientError=P===4,this.serverError=P===5,this.error=P===4||P===5?this.toError():!1,this.created=g===201,this.accepted=g===202,this.noContent=g===204,this.badRequest=g===400,this.unauthorized=g===401,this.notAcceptable=g===406,this.forbidden=g===403,this.notFound=g===404,this.unprocessableEntity=g===422}},64506:(H,E)=>{"use stri}}}function t(s,g){if(s){if(typeof s=="string")return f(s,g);var P=Object.prototype.toString.call(s).slice(8,-1);if(P==="Object"&&s.constructor&&(P=s.constructor.name),P==="Map"||P==="Set")return Array.from(s);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return f(s,g)}}function f(s,g){(g==null||g>s.length)&&(g=s.length);for(var P=0,y=new Array(g);P<g;P++)y[P]=s[P];return y}E.t()},E.params=function(s){var g={},P=e(s.split(/ *; */)),y;try{for(P.s();!(y=P.n()).done;){var C=y.value,u=C.split(/ *= */),p=u.shift(),d=u.shift();p&&d&&(g[p]=d)}}catch(w){P.e(w)}finally{P.f()}return g},E.parseLinks=function(s){var g={},P=e(s.split(/ *, */)),y;try{for(P.s();!(y=P.n()).done;){var C=y.value,u=C.split(/ *; */),p=u[0].slice(1,-1),d=u[1].split(/ *= */)[1].slice(1,-1);g[d]=p}}catch(w){P.e(w)}finally{P.f()}return g},E.cleanHea,s}},52511:function(H,E,e){H=e.nmd(H);var t;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(f){var s=E&&!E.nodeType&&E,g=H&&!H.nodeType&&H,P=typeof e.g=="object"&&e.g;(P.global===P||P.window===P||P.self===P)&&(f=P);var y,C=2147483647,u=36,p=1,d=26,w=38,D=700,M=72,c=128,l="-",i=/^xn--/,v=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=u-p,L=Math.floor,S=String.fromCharCodon:"1.4.1",ucs2:{decode:K,encode:G},decode:Z,encode:q,toASCII:j,toUnicode:V},t=function(){return y}.call(E,e,E,H),t!==void 0&&(H.exports=t)})(this)},396}},35t}},7325:(H,E,e)=>{"use strict";var t=e(19368),f=Object.prototype.hasOwnProperty,s=Array.isArray,g={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1}):M},C="utf8=%26%2310003%3B",u="utf8=%E2%9C%93 i v)}g}};H.expov)}},24730:(H,E,e)=>{"use strict";var t=e(37478),f=e(19368),s=e(39532),g=Object.prototype.hasOwnProperty,P={brack]"},comma:"comma",indi]"},repeat:function(v){return v}},y=Array.isArray,C=Array.prototype.pus])},p=Date.prototype.toISOString,d=s.default,w={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:f.encode,encodeValuesOnly:!1,format:d,formatter:s.formatters[d],indices:!1,serializeDate:function(v){return p.call(v)},skipNulls:!1,strictNullHandling:!1t"},M={deg}};H.expo""}},19368:(H,E,e)=>{"use strict";var t=e(39532),f=Object.prototype.hasOwnProperty,s=Array.isArra i}(}} TI)v)T} N,v]"))O)v)};H.exports={arrayToObject:y,assign:u,combine:c,compact:w,decode:p,encode:d,isBuffer:M,isRegExp:D,maybeMap:l,merge:C}},8575:(H,E,e)=>{"use strict";var t=e(525ll}var s=/^([a-z0-9.+-]+:)/i,g=/:[0-9]*$/,P=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,y=["<",">",'"',"`"," ","\r",`
`,"	"],C=["{","}","|","\\","^","`"].concat(y),u=["'"].concat(C),p=["%","/","?",";","#"].concat(u),d=["/","?","#"],w=255,D=/^[+a-z0-9A-Z_-]{0,63}$/,M=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,c={javascript:!0,"javascript:":!0},l={javascript:!0,"javascript:":!0},i={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=e(359,U}f.prototype.paS)}f.prototype.format=function(){var S=this.auth||"";S&&(S=encodeURIComponent(S),S=S.replace(/%3A/i,":"),S+="@");var N=this.protocol||"",R=this.pathname||"",U=this.hash||"",W=!1,K="";this.host?W=S+this.host:this.hostname&&(W=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(W+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(K=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var G=this.search||K&&"?"+K||"";return N&&N.substr(-1)!==":"&&(N+=":"),this.slashes||(!N||i[N])&&W!==!1?(W="//"+(W||""),R&&R.charAt(0)!=="/"&&(R="/"+R)):W||(W=""),U&&U.charAt(0)!=="#"&&(U="#"+U),G&&G.charAt(0)!=="?"&&(G="?"+G),R=R.replace(/[?#]/g,function(re){return encodeURIComponent(re)}),G=G.replace("#","%23"),N+W+R+GN)}f.prototype.reso:N}f.prototype.resolveObj,R},f.prototype.parseHS)},E.parse=O,E.resolve=I,E.resolveObject=L,E.format=T,E.Url=f},53:w},610)},45327:H=>{for(var E=[],e=0;e<256;++e)E[e]=(e+256).toString(16).substr]]}H.exports=t},85217:H=>{var E=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(E){var e=new Uint8Array(16);H.expo,e}}else{var t=new Array(16);H.expo t}}},71=s},93235:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=g;var t=f(e(65571));function f(P){return P&&P.__esModule?P:{default:P}}function s(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(C){return typeof C}:s=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},su)}H.exports=E.default,H.exports.default=E.default},83868:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=i;var t=y(e(65571)),f=y(e(84808)),s=y(e(93235)),g=y(e(10221)),P=y(e(61028));function y(v){return v&&v.__esModule?v:{default:v}}var C={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,w=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,D=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,M=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,c=!0}function i(v,O){if((0,t.default)(v),O=(0,f.default)(O,C),O.require_display_name||O.allow_display_name){var T=v.match(u);if(T){var I=T[1];if(v=v.replace(I,"").replace(/(^<|>$)/g,""),I.endsWith(" ")&&(I=I.substr(0,I.length-1)),!l(I))return!1}else if(O.require_display_name)return!1}if(!O.ignore_max_length&&v.length>c)return!1;var L=v.split("@"),S=L.pop(),N=S.toLowerCase();if(O.host_blacklist.includes(N))return!1;var R=L.join("@");if(O.domain_specific_validation&&(N==="gmail.com"||N==="googlemail.com")){R=R.toLowerCase();var U=R.split("+")[0];if(!(0,s.default)(U.replace(/\./g,""),{min:6,max:30}))return!1;for(var W=U.split("."),K=0;K<W.length;K++)if(!d.test(W[K]))return!1}if(O.ignore_max_length===!1&&(!(0,s.default)(R,{max:64})||!(0,s.default)(S,{max:254})))return!1;if(!(0,g.default)(S,{require_tld:O.require_tld})){if(!O.allow_ip_domain)return!1;if(!(0,P.default)(S)){if(!S.startsWith("[")||!S.endsWith("]"))return!1;var G=S.substr(1,S.length-2);if(G.length===0||!(0,P.default)(G))return!1}}if(R[0]==='"')return R=R.slice(1,R.length-1),O.allow_utf8_local_part?M.test(R):w.test(R);for(var re=O.allow_utf8_local_part?D:p,$=R.split("."),F=0;F<$.length;F++)if(!re.test($[F]))return!1;return!(O.blacklisted_chars&&R.search(new RegExp("[".concat(O.blacklisted_chars,"]+"),"g"))!==-1)}H.exports=E.default,H.exports.default=E.default},10221:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=P;var t=s(e(65571)),f=s(e(84808));function s(y){return y&&y.__esModule?y:{default:y}}var g={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function P(y,C){(0,t.default)(y),C=(0,f.default)(C,g),C.allow_trailing_dot&&y[y.length-1]==="."&&(y=y.substring(0,y.length-1)),C.allow_wildcard===!0&&y.indexOf("*.")===0&&(y=y.substring(2));var u=y.split("."),p=u[u.length-1];return C.require_tld&&(u.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(p)||/\s/.test(p))||!C.allow_numeric_tld&&/^\d+$/.test(p)?!1:u.ev))})}H.exports=E.default,H.exports.default=E.default},61028:(H,E,e)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=u;var t=f(e(65571));function f(p){return p&&p.__esModule?p:{default:p}}var s="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",g="(".concat(s,"[.]){3}").concat(s),P=new RegExp("^".concat(g,"$")),y="(?:[0-9a-fA-F]{1,4})",C=new RegExp("^("+"(?:".concat(y,":){7}(?:").concat(y,"|:)|")+"(?:".concat(y,":){6}(?:").concat(g,"|:").concat(y,"|:)|")+"(?:".concat(y,":){5}(?::").concat(g,"|(:").concat(y,"){1,2}|:)|")+"(?:".concat(y,":){4}(?:(:").concat(y,"){0,1}:").concat(g,"|(:").concat(y,"){1,3}|:)|")+"(?:".concat(y,":){3}(?:(:").concat(y,"){0,2}:").concat(g,"|(:").concat(y,"){1,4}|:)|")+"(?:".concat(y,":){2}(?:(:").concat(y,"){0,3}:").concat(g,"|(:").concat(y,"){1,5}|:)|")+"(?:".concat(y,":){1}(?:(:").concat(y,"){0,4}:").concat(g,"|(:").concat(y,"){1,6}|:)|")+"(?::((?::".concat(y,"){0,5}:").concat(g,"|(?::").concat(y,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function u(p){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,t.default)(p),d=String(d),!d)return u(p,4)||u(p,6);if(d==="4"){if(!P.test(p))return!1;var w=p.split(".").s-M});return w[3]<=255}return d==="6"?!!C.test(p):!1}H.exports=E.default,H.exports.default=E.default},65571:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.defaul}}H.exports=E.default,H.exports.default=E.default},84808:(H,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.defaul t}H.exports=E.default,H.exports.default=E.default},85277:(H,E)=>{(function(){var e={direction:"horizontal",snapToLines:!0,linePosition:"auto",lineAlign:"start",textPosition:"auto",positionAlign:"auto",size:100,alignment:"center"},t=function(y){y||(y={"&amp":"&","&lt":"<","&gt":">","&lrm":"\u200E","&rlm":"\u200F","&nbsp":"\xA0"}),this.entities=y,this.parse=function(C,u){C=C.replace(/\0/g,"\uFFFD");var p=/\r\n|\r|\n/,d=Date.now(),w=0,D=C.split(p),M=!1,c=[],l=[],i})}var O=D[w],T=O.length,I="WEBVTT",L=0,S=I.length;for(O[0]==="\uFEFF"&&(L=1,S+=1),(T<S||O.indexOf(I)!==0+L||T>S&&O[S]!==" "&&O[S]!=="	")&&v('No valid signature. (File needs to start with "WEBVTT".)'),w++;D[w]!=""&&D[w]!=null;){if(v("No blank line after the signature."),D[w].indexOf("-->")!=-1){M=!0;break}w++}for(;D[w]!=null;){for(var N;!M&&D[w]=="";)w++;if(!M&&D[w]==null)break;N=Object.assign({},e,{id:"",startTime:0,endTime:0,pauseOnExit:!1,direction:"horizontal",snapToLines:!0,linePosition:"auto",lineAlign:"start",textPosition:"auto",positionAlign:"auto",size:100,alignment:"center",text:"",tree:null});var R=!0;if(D[w].indexOf("-->")==-1){if(N.id=D[w],/^NOTE($|[ \t])/.test(N.id)){for(w++;D[w]!=""&&D[w]!=null;)D[w].indexOf("-->")!=-1&&v("Cannot have timestamp in a comment."),w++;continue}if(/^STYLE($|[ \t])/.test(N.id)){var U=[],W=!1;for(w++;D[w]!=""&&D[w]!=null;)D[w].indexOf("-->")!=-1&&(v("Cannot have timestamp in a style block."),W=!0),U.push(D[w]),w++;if(l.length){v("Style blocks cannot appear after the first cue.");continue}W||c.push(U.join(`
`));continue}if(w++,D[w]==""||D[w]==null){v("Cue identifier cannot be standalone.");continue}if(D[w].indexOf("-->")==-1){R=!1,v("Cue identifier needs to be followed by timestamp.");continue}}M=!1;var K=new f(D[w],v),G=0;if(l.length>0&&(G=l[l.length-1].startTime),R&&!K.parse(N,G)){for(N=null,w++;D[w]!=""&&D[w]!=null;){if(D[w].indexOf("-->")!=-1){M=!0;break}w++}continue}for(w++;D[w]!=""&&D[w]!=null;){if(D[w].indexOf("-->")!=-1){v("Blank line missing before cue."),M=!0;break}N.text!=""&&(N.text+=`
`),N.text+=D[w],w++}var re=new s(N.text,v,u,y);N.tree=re.parse(N.startTime,N.endTime),l.push(N)}return l.s:0}),{cues:l,errors:i,time:Date.now()-d,styles:c}}},f=function(d,C){var u=/[\u0020\t\f]/,p=/[^\u0020\t\f]/,d=d,w=1)},M=!0;function c(O){for(;d[w]!=null&&O.test(d[w]);)w++}function l(O){for(var T="";d[w]!=null&&O.test(d[w]);)T+=d[w],w++;return T}function i(){var O="minutes",T,I,L,S;if(d[w]==null){D("No timestamp found.");return}if(!/\d/.test(d[w])){D("Timestamp must start with a character in the range 0-9.");return}if(T=l(/\d/),(T.length>2||parseInt(T,10)>59)&&(O="hours"),d[w]!=":"){D("No time unit separator found.");return}if(w++,I=l(/\d/),I.length!=2){D("Must be exactly two digits.");return}if(O=="hours"||d[w]==":"){if(d[w]!=":"){D("No seconds found or minutes is greater than 59.");return}if(w++,L=l(/\d/),L.length!=2){D("Must be exactly two digits.");return}}else{if(T.length!=2){D("Must be exactly two digits.");return}L=I,I=T,T="0"}if(d[w]!="."){D('No decimal separator (".") found.');return}if(w++,S=l(/\d/),S.length!=3){D("Milliseconds must be given in three digits.");return}if(parseInt(I,10)>59){D("You cannot have more than 59 minutes.");return}if(parseInt(L,10)>59){D("You cannot have more than 59 seconds.");return}return parseInt(T,10)*60*60+parseInt(I,10)*60+parseInt(L,10)+parseInt(S,10)/1e3}function v(O,T){for(var I=O.split(u),L=[],S=0;S<I.length;S++)if(I[S]!=""){var N=I[S].indexOf(":"),R=I[S].slice(0,N),U=I[S].slice(N+1);if(L.indexOf(R)!=-1&&D("Duplicate setting."),L.push(R),U==""){D("No value for setting defined.");return}if(R=="vertical"){if(U!="rl"&&U!="lr"){D("Writing direction can only be set to 'rl' or 'rl'.");continue}T.direction=U}else if(R=="line"){if(/,/.test(U)){var W=U.split(",");U=W[0];var K=W[1]}if(!/^[-\d](\d*)(\.\d+)?%?$/.test(U)){D("Line position takes a number or percentage.");continue}if(U.indexOf("-",1)!=-1){D("Line position can only have '-' at the start.");continue}if(U.indexOf("%")!=-1&&U.indexOf("%")!=U.length-1){D("Line position can only have '%' at the end.");continue}if(U[0]=="-"&&U[U.length-1]=="%"){D("Line position cannot be a negative percentage.");continue}var G=U,re=!1;if(U[U.length-1]=="%"&&(re=!0,G=U.slice(0,U.length-1),parseInt(U,10)>100)){D("Line position cannot be >100%.");continue}if(G===""||isNaN(G)||!isFinite(G)){D("Line position needs to be a number");continue}if(K!==void 0){if(!["start","center","end"].includes(K)){D("Line alignment needs to be one of start, center or end");continue}T.lineAlign=K}T.snapToLines=!re,T.linePosition=parseFloat(G),parseFloat(G).toString()!==G&&(T.nonSerializable=!0)}else if(R=="position"){if(/,/.test(U)){var W=U.split(",");U=W[0];var $=W[1]}if(U[U.length-1]!="%"){D("Text position must be a percentage.");continue}if(parseInt(U,10)>100||parseInt(U,10)<0){D("Text position needs to be between 0 and 100%.");continue}if(G=U.slice(0,U.length-1),G===""||isNaN(G)||!isFinite(G)){D("Line position needs to be a number");continue}if($!==void 0){if(!["line-left","center","line-right"].includes($)){D("Position alignment needs to be one of line-left, center or line-right");continue}T.positionAlign=$}T.textPosition=parseFloat(G)}else if(R=="size"){if(U[U.length-1]!="%"){D("Size must be a percentage.");continue}if(parseInt(U,10)>100){D("Size cannot be >100%.");continue}var F=U.slice(0,U.length-1);if(F===void 0||F===""||isNaN(F)){D("Size needs to be a number"),F=100;continue}else if(F=parseFloat(F),F<0||F>100){D("Size needs to be between 0 and 100%.");continue}T.size=F}else if(R=="align"){var Z=["start","center","end","left","right"];if(Z.indexOf(U)==-1){D("Alignment can only be set to one of "+Z.join(", ")+".");continue}T.alignment=U}else D("Invalid setting.")}}this.parse=function(O,T){if(c(u),O.startTime=i(),O.startTime!=null){if(O.startTime<T&&D("Start timestamp is not greater than or equal to start timestamp of previous cue."),p.test(d[w])&&D("Timestamp not separated from '-->' by whitespace."),c(u),d[w]!="-"){D("No valid timestamp separator found.");return}if(w++,d[w]!="-"){D("No valid timestamp separator found.");return}if(w++,d[w]!=">"){D("No valid timestamp separator found.");return}if(w++,p.test(d[w])&&D("'-->' not separated from timestamp by whitespace."),c(u),O.endTime=i(),O.endTime!=null)return O.endTime<=O.startTime&&D("End timestamp is not greater than start timestamp."),p.test(d[w])&&(M=!1),c(u),v(d.substring(w),O),!0}},this.parseTimestamp=function(){var O=i();if(d[w]!=null){D("Timestamp must not have trailing characters.");return}return O}},s=function(w,C,u,p){this.entities=p;var d=this,w=w,D=0,M=function(l){u!="metadata"&&C(l,D+1)};this.parse=function(l,i){function v(K){const G=Wn({},K);return K.children&&(G.children=K.children.map(v)),G.parent&&delete G.parent,G}var O={children:[]},T=O,I}}for(;w[D]!=null;){var N=c();if(N[0]=="text")T.children.push({type:"text",value:N[1],parent:T});else if(N[0]=="start tag"){u=="chapters"&&M("Start tags not allowed in chapter title text.");var R=N[1];R!="v"&&R!="lang"&&N[3]!=""&&M("Only <v> and <lang> can have an annotation."),R=="c"||R=="i"||R=="b"||R=="u"||R=="ruby"||R=="rt"&&T.name=="ruby"?L(N):R=="v"?(S("v")&&M("<v> cannot be nested inside itself."),L(N),T.value=N[3],N[3]||M("<v> requires an annotation.")):R=="lang"?(L(N),T.value=N[3]):M("Incorrect start tag.")}else if(N[0]=="end tag")u=="chapters"&&M("End tags not allowed in chapter title text."),N[1]==T.name?T=T.parent:N[1]=="ruby"&&T.name=="rt"?T=T.parent.parent:M("Incorrect end tag.");else if(N[0]=="timestamp"){u=="chapters"&&M("Timestamp not allowed in chapter title text.");var U=new f(N[1],M),W=U.parseTimestamp();W!=null&&((W<=l||W>=i)&&M("Timestamp must be between start timestamp and end timestamp."),I.length>0&&I[I.length-1]>=W&&M("Timestamp must be greater than any previous timestamp."),T.children.push({type:"timestamp",value:W,parent:T}),I.push(W))}}for(;T.parent;)T.name!="v"&&M("Required end tag missing."),T=T.parent;return v(O)};function c(){for(var l="data",i="",v="",O=[];w[D-1]!=null||D==0;){var T=w[D];if(l=="data")if(T=="&")v=T,l="escape";else if(T=="<"&&i=="")l="tag";else{if(T=="<"||T==null)return["text",i];i+=T}else if(l=="escape")if(T=="<"||T==null){M("Incorrect escape.");let I;return(I=v.match(/^&#([0-9]+)$/))?i+=String.fromCharCode(I[1]):d.entities[v]?i+=d.entities[v]:i+=v,["text",i]}else if(T=="&")M("Incorrect escape."),i+=v,v=T;else if(/[a-z#0-9]/i.test(T))v+=T;else if(T==";"){let I;(I=v.match(/^&#(x?[0-9]+)$/))?i+=String.fromCharCode("0"+I[1]):d.entities[v+T]?i+=d.entities[v+T]:(I=Object.keys(p).find(L=>v.startsWith(L)))?i+=d.entities[I]+v.slice(I.length)+T:(M("Incorrect escape."),i+=v+";"),l="data"}else M("Incorrect escape."),i+=v+T,l="data";else if(l=="tag")if(T=="	"||T==`
`||T=="\f"||T==" ")l="start tag annotation";else if(T==".")l="start tag class";else if(T=="/")l="end tag";else if(/\d/.test(T))i=T,l="timestamp tag";else{if(T==">"||T==null)return T==">"&&D++,["start tag","",[],""];i=T,l="start tag"}else if(l=="start tag")if(T=="	"||T=="\f"||T==" ")l="start tag annotation";else if(T==`
`)v=T,l="start tag annotation";else if(T==".")l="start tag class";else{if(T==">"||T==null)return T==">"&&D++,["start tag",i,[],""];i+=T}else if(l=="start tag class")if(T=="	"||T=="\f"||T==" ")v&&O.push(v),v="",l="start tag annotation";else if(T==`
`)v&&O.push(v),v=T,l="start tag annotation";else if(T==".")v&&O.push(v),v="";else{if(T==">"||T==null)return T==">"&&D++,v&&O.push(v),["start tag",i,O,""];v+=T}else if(l=="start tag annotation"){if(T==">"||T==null)return T==">"&&D++,v=v.split(/[\u0020\t\f\r\n]+/).fil!0}).join(" "),["start tag",i,O,v];v+=T}else if(l=="end tag"){if(T==">"||T==null)return T==">"&&D++,["end tag",i];i+=T}else if(l=="timestamp tag"){if(T==">"||T==null)return T==">"&&D++,["timestamp",i];i+=T}else M("Never happens.");D++}}},g=function(){function y(w){const D=("00"+(w-Math.floor(w)).toFixed(3)*1e3).slice(-3);let M=0,c=0,l=0;return w>=3600&&(M=Math.floor(w/3600)),c=Math.floor((w-3600*M)/60),l=Math.floor(w-3600*M-60*c),(M?M+":":"")+(""+c).padStart(2,"0")+":"+(""+l).padStart(2,"0")+"."+D}function C(w){var D="";const M=Object.keys(e).filter(c=>w[c]!==e[c]);return M.includes("direction")&&(D+=" vertical:"+w.direction),M.includes("alignment")&&(D+=" align:"+w.alignment),M.includes("size")&&(D+=" size:"+w.size+"%"),(M.includes("lineAlign")||M.includes("linePosition"))&&(D+=" line:"+w.linePosition+(w.snapToLines?"":"%")+(w.lineAlign&&w.lineAlign!=e.lineAlign?","+w.lineAlign:"")),(M.includes("textPosition")||M.includes("positionAlign"))&&(D+=" position:"+w.textPosition+"%"+(w.positionAlign&&w.positionAlign!==e.positionAlign?","+w.positionAlign:"")),D}function u(w){for(var D="",M=0;M<w.length;M++){var c=w[M];if(c.type=="text")D+=c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");else if(c.type=="object"){if(D+="<"+c.name,c.classes)for(var l=0;l<c.classes.length;l++)D+="."+c.classes[l];c.value&&(D+=" "+c.value),D+=">",c.children&&(D+=u(c.children)),D+="</"+c.name+">"}else c.type=="timestamp"?D+="<"+y(c.value)+">":D+="<"+c.value+">"}return D}function p(w){return(w.id!==void 0?w.id+`
`:"")+y(w.startTime)+" --> "+y(w.endTime)+C(w)+`
`+u(w.tree.children)+`

`}function d(w){return`STYLE
`+w+`

`}this.serialize=function(w,D){var M=`WEBVTT

`;if(D)for(var c=0;c<D.length;c++)M+=d(D[c]);for(var c=0;c<w.length;c++)M+=p(w[c]);return =g}typeof window!="undefined"&&P(window),P(E)})()},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:H=>{let E="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict P s};H.exports={nanoid:t,customAlphabet:e}},39516:(H,E,e)=>{"use strict";e.d(E,{d:()=>M,f:()=>p});var t=e(98661),f=e(19946),s=e(12351),g=e(16723),P=e(23784),y=e(73781);let C=(0,t.createContext)(null);function u(){let c=(0,t.useContext)(C);if(c===null){let l=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(l,u),l}return c}function p(){let[c,l]=(0,t.useState)([]);return[c.length>0?c.join(" "):void 0,(0,t.useMemo)(()=>function(i){let v=(0,y.z)(T=>(l(I=>[...I,T]),()=>l(I=>{let L=I.slice(),S=L.indexOf(T);return S!==-1&&L.splice(S,1),L}))),O=(0,t.useMemo)(()=>({register:v,slot:i.slot,name:i.name,props:i.props}),[v,i.slot,i.name,i.props]);return t.default.createElement(C.Provider,{value:O},i.children)},[l])]}let d="p";function w(c,l){let i=(0,f.M)(),S=c,{id:v=`headlessui-description-${i}`}=S,O=lo(S,["id"]),T=u(),I=(0,P.T)(l);(0,g.e)(()=>T.register(v),[v,T.register]);let L=zo(Wn({ref:I},T.props),{id:v});return(0,s.sY)({ourProps:L,theirProps:O,slot:T.slot||{},defaultTag:d,name:T.name||"Description"})}let D=(0,s.yV)(w),M=Object.assign(D,{})},81583:(H,E,e)=>{"use strict";e.d(E,{V:()=>at});var t=e(98661),f=e(32984),s=e(12351),g=e(23784),P=e(61363),y=e(64103),C=e(19946),u=e(82180),p=e(46045),d=e(84575),w=e(73781),D=e(7815),M=(ke=>(ke[ke.Forwards=0]="Forwards",ke[ke.Backwards=1]="Backwards",ke))(M||{});function c(){let ke=(0,t.useRef)(0);return(0,D.s)("keydown",Qe=>{Qe.key==="Tab"&&(ke.current=Qe.shiftKey?1:0)},!0),ke}var l=e(14879),i=e(154])}var O=e(3855);function T(ke,Qe,dt,Lt){let gt=(0,O.E)(dt);(0,t.useEffect)(()=>{ke=ke!=null?ke:wint)}return ke.addEventListener(Qe,ct,Lt)},[ke,Qe,Lt])}var I=e(81021),L=e(96599),S=e(94192);function N(ke){function Qe(){document.readyState!=="loading"&&(ke(),document.removeEventListener("DOMContentLoaded",Qe))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",Qe),Qe])}function U(ke){if(!ke)return new Set;if(typeof ke=="function")return new Set(ke());let Qe=new Set;for(let dt of ke.current)dt.current instanceof HTMLElement&&Qe.add(dt.current);return Qe}let W="div";varke))(K||{});function G(ke,Qe){let dt=(0,t.useRef)(null),Lt=(0,g.T)(dt,Qe),nr=ke,{initialFocus:gt,containers:ct,features:Qt=30}=nr,He=lo(nr,["initialFocus","containers","features"]);(0,u.H)()||(Qt=1);let ft=v(dt);q({ownerDocument:ft},!!(Qt&16));let St=V({ownerDocument:ft,container:dt,initialFocus:gt},!!(Qt&2));j({ownerDocument:ft,container:dt,containers:ct,previousActiveElement:St},!!(Qt&8));let Vt=c(),Yt=(0,w.z)(Ar=>{let sn=dt.current;sn&&(Nr=>Nr())(()=>{(0,f.E)(Vt.current,{[M.Forwards]:()=>{(0,d.jA)(sn,d.TO.First,{skipElements:[Ar.relatedTarget]})},[M.Backwar})}})})}),pr=(0,S.G)(),dr=(0,t.useRef)(!1),vr={ref:Lt,onKeyDown(Ar){Ar.key=="Tab"&&(dr.current=!0,pr.requestAnimationFrame(()=>{dr.current=!1}))},onBlur(Ar){let sn=U(ct);dt.current instanceof HTMLElement&&sn.add(dt.current);let Nr=Ar.relatedTarget;Nr instanceof HTMLElement&&Nr.dataset.headlessuiFocusGuard!=="true"&&(Y(sn,Nr)||(dr.current?(0,d.jA)(dt.current,(0,f.E)(Vt.current,{[M.Forwards]:()=>d.TO.Next,[M.Backwarous})|d.TO.WrapAround,{relativeTo:Ar.target}):Ar.target instanceof HTMLElement&&(0,d.C5)(Ar.target)))}};return t.default.createElement(t.default.Fragment,null,!!(Qt&4)&&t.default.createElement(p._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Yt,features:p.A.Focusable}),(0,s.sY)({ourProps:vr,theirProps:He,defaultTag:W,name:"FocusTrap"}),!!(Qt&4)&&t.default.createElement(p._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Yt,features:p.A.Focusable}))}let re=(0,s.yV)(G),$=Object.assign(re,{features:K}),F=[];N(()=>{function ke(Qe){Qe.target instanceof HTMLElement&&Qe.target!==document.body&&F[0]!==Qe.target&&(F.unshift(Qe.target),F=F.filter(dt=>dt!=null&&dt.isConnected),F.splice(10))}window.addEventListener("click",ke,{capture:!0}),window.addEventListener("mousedown",ke,{capture:!0}),window.addEventListener("focus",ke,{capture:!0}),document.body.addEventListener("click",ke,{capture:!0}),document.body.addEventListener("mousedown",ke,{capture:!0}),document.body.addEventListener("focus",ke,{capture:!0})});function Z(ke=!0){let Qe=(0,t.useRef)(F.slice());return(0,L.q)(([dt],[Lt])=>{Lt===!0&&dt===!1&&(0,I0)}),Lt===!1&&dt===!0&&(Qe.current=F.slice())},[ke,F,Qe]),(0,w.z)(()=>{var dt;return(dt=Qe.current.find(Lt=>Lt!=null&&Lt.isConnected))!=null?dt:null})}function q({ownerDocument:ke},Qe){let dt=Z(Qe);(0,L.q)(()=>{Qe||(ke==null?void 0:ke.activeElement)===(ke==null?void 0:ke.body)&&(0,d.C5)(dt())},[Qe]))})}function V({ownerDocument:ke,container:Qe,initialFocus:dt},Lt){let gt=(0,t.useRef)(null),ct=(0,l.t)();return(0,L.q)(()=>{if(!Lt)return;let Qt=Qe.current;Qt&&(0,I.Y)(()=>{if(!ct.current)return;let He=ke==null?void 0:ke.activeElement;if(dt!=null&&dt.current){if((dt==null?void 0:dt.current)===He){gt.current=He;return}}else if(Qt.contains(He)){gt.current=He;return}dt!=null&&dt.current?(0,d.C5)(dt.current):(0,d.jA)(Qt,d.TO.First)===d.fE.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),gt.current=ke==null?void 0:ke.activeElement})},[Lt]),gt}function j({ownerDocument:ke,container:Qe,containers:dt,previousActiveElement:Lt},gt){let ct=(0,l.t)();T(ke==null?void 0:ke.defaultView,"foct)},!1}var ie=e(16723);let ce=(0,t.createContext)(!1);function de(){return(0,t.useContext)(n)}var Q=e(77896);function ae(ke){let Qe=de(),dt=(0,t.useContext)(ee),Lt=v(ke),[gt,ct]=(0,t.useState)(()=>{if(!Qe&&dt!==null||Q.O.isServer)return null;let Qt=Lt==null?void 0:Lt.getElementById("headlessui-portal-root");if(Qt)return Qt;if(Lt===null)return null;let He=Lt.createElement("div");return He.setAttribute("id","headlessui-portal-root"),Lt.body.appendChild(He)});return(0,t.useEffect)(()=>{gt!==null&&(Lt!=null&&Lt.body.contains(gt)||Lt==null||Lt.body.appendChild(gt))},[gt,Lt]),(0,t.useEffect)(()=>{Qe||dt!==null&&ct(dt.current)},[dt,ct,Qe]),gt}let te=t.Fragment;function oe(ke,Qe){let dt=ke,Lt=(0,t.useRef)(null),gt=(0,g.T)((0,gVt}),Qe),ct=v(Lt),Qt=ae(Lt),[He]=(0,t.useState)(()=>{var Vt;return Q.O.isServer?null:(Vt=ct==null?void 0:ct.createElement("div"))!=null?Vt:null}),ft=(0,t.useContext)(se),St=(0,u.H)();return(0,ie))},[Qt,He]),(0,iee)},[ft,He]),R(()=>{var Vt;!Qt||!He||(He instanceof Node&&Qt.contains(He)&&Qt.removeChild(He),Qt.childNodes.length<=0&&((Vt=Qt.parentElement)==null||Vt.removeChild(Qt)))}),St?!Qt||!He?null:(0,t.createPortal)((0,s.sY)({ourProps:{ref:gt},theirProps:dt,defaultTag:te,name:"Portal"}),He):null}let ue=t.Fragment,ee=(0,t.createContext)(null);function le(ke,Qe){let ct=ke,{target:dt}=ct,Lt=lo(ct,["target"]),gt={ref:(0,g.T)(Qe)};return t.default.createElement(ee.Provider,{value:dt},(0,s.sY)({ourProps:gt,theirProps:Lt,defaultTag:ue,name:"Popover.Group"}))}let se=(0,t.createContext)(null);function fe(){let ke=(0,t.useContext)(se),Qe=(0,t.useRef)([]),dt=(0,wt))),Lt=(0,w.z)(ct=>{let Qt=Qe.current.indexOf(ct);Qt!==-1&&Qe.current.splice(Qt,1),ke&&ke.unregister(ct)}),gt=(0,t.useMee}),[dt,Lt,Qe]);return[Qe,(0,t.useMemo)(()=>function({children:ct}){return t.default.createElement(se.Provider,{value:gt},ct)},[gt])]}let ve=(0,s.yV)(oe),ge=(0,s.yV)(le),be=Object.assign(ve,{Group:ge});var ne=e(39516),me=e(16567);let Le=(0,t.createContext)(()=>{});Le.displayName="StackContext";var Re=(ke=>(ke[ke.Add=0]="Add",ke[ke.Remove=1]="Remove",ke))(Re||{});function Me(){return(0,t.useContext)(Le)}function Ee({children:ke,onUpdate:Qe,type:dt,element:Lt,enabled:gt}){let ct=Me(),Qt=(0,w.z)((...He)=>{Qe==null||Qe(...He),ct(...He)});return(0,ie.e)(()=>{let He=gt===void 0||gt===!0;return He&&Qt(0,dt,t)}},[Qt,dt,Lt,gt]),t.default.createElement(Le.Provider,{value:Qt},ke)}var we=e(439Qe}const De=typeof Object.is=="function"?Object.is:Te,{useState:Be,useEffect:Ke,useLayoutEffect:tt,useDebugValue:Ot}=t;let et=null,it=n}const Ie=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",We=!Ie,Ge=We?Oe:bt,Xe=(ke=>ke.useSyncExternalStore)t)}var qe=e(9362);function Ze(ke,Qe){let dt=ke(),Lt=new Set;return{getSnapshot(){return dt},subsct)},dispatch(gt,...ct){let Qt=Qe[gt].call(dt,...ct);Qt&&(dt=Qt,Lt.forEach(He=>He()))}}}function mt(){let ke;return{before({doc:Qe}){var dt;let Lt=Qe.documentElement;ke=((dt=Qe.defaultView)!=null?dt:window).innerWidth-Lt.clientWidth},after({doc:Qe,d:dt}){let Lt=Qe.documentElement,gt=Lt.clientWidth-Lt.offsetWidth,ct=ke-gt;dt.style(Lt,"paddingRight",`${ct}px`)}}}var yt=e(78657);function Mt(){if(!(0,yt.gn)())return{};let ke;return{beet},after({doc:Qe,d:dt,meta:Lt}){function gt(Qt){return Lt.containers.flate()).some(He=>He.contains(Qt))}dt.style(Qe.body,"marginTop",`-${ke}px`),window.scrollTo(0,0);let ct=null;dt.addEventListener(Qe,"click",Qt=>{if(Qt.target instanceof HTMLElement)try{let He=Qt.target.closest("a");if(!He)return;let{hash:ft}=new URL(He.href),St=Qe.querySelector(ft);St&&!gt(St)&&(ct=St)}catch(He){}},!0),dt.addEventListener(Qe,"touchmove",Qt=>{Qt.target instanceof HTMLElement&&!gt(Qt.target)&&Qt.preventDefault()},{passive:!1}),dt.add(()=>{window.scrollTo(0,window.pageYOffset+ke),ct&&ct.isConnected&&(ct.scrollIntoView({block:"nearest"}),ct=null)})}}}function Ht(){return{before({doc:ke,d:Qe}){Qe.style(ke.documentElement,"overflow","hidden")}}}function Gt(ke){let Qe={};for(let dt of ke)Object.assign(Qe,dt(Qe));return Qe}let ztMap,{PUSH(ke,Qe){var dt;let Lt=(dt=this.get(ke))!=null?dt:{doc:ke,count:0,d:(0,qe.k)(),meta:new Set};return Lt.count++,Lt.meta.add(Qe),this.set(ke,Lt),this},POP(ke,Qe){let dt=this.get(ke);return dt&&(dt.count--,dt.meta.delete(Qe)),this},SCROLL_PREVENT({doc:ke,d:Qe,meta:dt}){let Lt={doc:ke,d:Qe,meta:Gt(dt)},gt=[Mt(),mt(),Ht()];gt.forEach(({before:ct})=>ct==null?void 0:ct(Lt)),gt.forEach(({after:ct})=>ct==null?void 0:ct(Lt))},SCROLL_ALLOW({d:ke}){ke.dispose()},TEARe)}});zt.subscribe(()=>{let ke=zt.getSnapshot(),Qe=new Map;for(let[dt]of ke)Qe.set(dt,dt.documentElement.style.overflow);for(let dt of ke.values()){let Lt=Qe.get(dt.doc)==="hidden",gt=dt.count!==0;(gt&&!Lt||!gt&&Lt)&&zt.dispatch(dt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",dt),dt.count===0&&zt.dispatch("TEARDOWN",dt)}});function Kt(ke,Qe,dt){let Lt=st(zt),gt=ke?Lt.get(ke):void 0,ct=gt?gt.count>0:!1;return(0,ie.e)(()=>{if(!(!ke||!Qe))return zt.dispatch("PUSH",ke,dt)},[Qe,ke]),ct}let Ir=new Map,or=new Map;function cr(ke,Qe=!0){(0,ie.e)(()=>{var dt;if(!Qe)return;let Lt=typeof ke=="function"?ke():ke.current;if(!Lt)return;function gt(){var Qt;if(!Lt)return;let He=(Qt=or.get(Lt))!=null?Qt:1;if(He===1?or.delete(Lt):or.set(Lt,He-1),He!==1)return;let ft=Ir.get(Lt);ft&&(ft["aria-hidden"]===null?Lt.removeAttribute("aria-hidden"):Lt.setAttribute("aria-hidden",ft["aria-hidden"]),Lt.inert=ft.inert,Ir.delete(Lt))}let ct=(dt=or.get(Lt))!=null?dt:0;return or.set(Lt,ct+1),ct!==0||(Ir.set(Lt,{"aria-hidden":Lt.getAttribute("aria-hidden"),inert:Lt.inert}),Lt.setAttribute("aria-hidden","true"),Lt.inert=!0),gt},[ke,Qe])}function Tt({defaultContainers:ke=[],portals:Qe}={}){let dt=(0,t.useRef)(null),Lt=v(dt),gt=(0,w.z)(()=>{var ct;let Qt=[];for(let He of ke)He!==null&&(He instanceof HTMLElement?Qt.push(He):"current"in He&&He.current instanceof HTMLElement&&Qt.push(He.current));if(Qe!=null&&Qe.current)for(let He of Qe.current)Qt.push(He);for(let He of(ct=Lt==null?void 0:Lt.querySelectorAll("html > *, body > *"))!=null?ct:[])He!==document.body&&He!==document.head&&He instanceof HTMLElement&&He.id!=="headlessui-portal-root"&&(He.contains(dt.current)||Qt.some(ft=>He.contains(ft))||Qt.push(He));return Qt});return{resolveContainers:gt,contains:(0,wt))),mainTreeNodeRef:dt,MainTreeNode:(0,t.useMemo)(()=>function(){return t.default.createElement(p._,{features:p.A.Hidden,ref:dt})},[dt])}}var ke))(wr||{}),ke))(Br||{});let Hr={[0](ke,Qe){return ke.titleId===Qe.id?ke:zo(Wn({},ke),{titleId:Qe.id})}},Wr=(0,t.createContext)(null);Wr.displayName="DialogConteQe}function qr(ke,Qedy]){Kt(ke,Qe,Lt=>{var gt;return{containers:[...(gt=Lt.containers)!=null?gt:[],dt]e)}let tn="div",Cn=s.AN.RenderStrategy|s.AN.Static;function rn(ke,Qe){var dt;let Lt=(0,C.M)(),Lo=ke,{id:gt=`headlessui-dialog-${Lt}`,open:ct,onClose:Qt,initialFocus:He,__demoMode:ft=!1}=Lo,St=lo(Lo,["id","open","onClose","initialFocus","__demoMode"]),[Vt,Yt]=(0,t.useState)(0),pr=(0,me.oJ)();ct===void 0&&pr!==null&&(ct=(pr&me.ZM.Open)===me.ZM.Open);let dr=(0,t.useRef)(null),vr=(0,g.T)(dr,Qe),nr=v(dr),Ar=ke.hasOwnProperty("open")||pr!==null,sn=ke.hasOwnProperty("onClose");if(!Ar&&!sn)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!Ar)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!sn)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof ct!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${ct}`);if(typeof Qt!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${Qt}`);let Nr=ct?0:1,[Gr,pn]=(0,t.useReducer)(Xr,{titleId:null,descriptionId:null,panelRef:(0,t.createRef)()}),dn=(0,w.z)(()=>Qt(!1)),vn=(0,wn})),Zr=(0,u.H)()?ft?!1:Nr===0:!1,Bn=Vt>1,Sr=(0,t.useContext)(Wr)!==null,[$r,eo]=fe(),{resolveContainers:uo,mainTreeNodeRef:Xn,MainTreeNode:jn}=Tt({portals:$r,defaultContainers:[(dt=Gr.panelRef.current)!=null?dt:dr.current]}),Qn=Bn?"parent":"leaf",Vn=pr!==null?(pr&me.ZM.Closing)===me.ZM.Closing:!1,to=(()=>Sr||Vn?!1:Zr)(),ho=(0,t.useCallback)(()=>{var Kn,mo;return(mo=Array.from((Kn=nr==null?void 0:nr.querySelectorAll("body > *"))!=null?Kn:[]).find(ro=>ro.id==="headlessui-portal-root"?!1:ro.contains(Xn.current)&&ro instanceof HTMLElement))!=null?mo:null},[Xn]);cr(ho,to);let yo=(()=>Bn?!0:Zr)(),ko=(0,t.useCallback)(()=>{var Kn,mo;return(mo=Array.from((Kn=nr==null?void 0:nr.querySelectorAll("[data-headlessui-portal]"))!=null?Kn:[]).find(ro=>ro.contains(Xn.current)&&ro instanceof HTMLElement))!=null?mo:null},[Xn]);cr(ko,yo);let Bn))();(0,we.O)(uo,dn,Fo);let Ao=(()=>!(Bn||Nr!==0))();T(nr==null?void 0:nr.defaultView,"keydown",Kn=>{Ao&&(Kn.defaultPrevented||Kn.key===P.R.Escape&&(Kn.preventDefault(),Kn.stopPropagation(),dn()))});let No=(()=>!(Vn||Nr!==0||Sr))();qr(nr,No,uo),(0,t.useEffect)(()=>{if(Nr!==0||!dr.current)return;let Kn=new ResizeObserver(mo=>{for(let ro of mo){let Wo=ro.target.getBoundingClientRect();Wo.x===0&&Wo.y===0&&Wo.width===0&&Wo.height===0&&dn()}});return Kn.observe(dr.current),()=>Kn.disconnect()},[Nr,dr,dn]);let[ya,na]=(0,ne.f)(),oa=(0,t.useMeGr],[Nr,Gr,dn,vn]),To=(0,t.useMemo)(()=>({open:Nr===0}),[Nr]),ao={ref:vr,id:gt,role:"dialog","aria-modal":Nr===0?!0:void 0,"aria-labelledby":Gr.titleId,"aria-describedby":ya};return t.default.createElement(Ee,{type:"Dialog",enabled:Nr===0,element:dr,onUpdate:(0,w.z)((Kn,mo)=>{mo==="Dialog"&&(0,f.E)(Kn,{[Re.A+1),[Re.Remo-1)})})},t.default.createElement(z,{force:!0},t.default.createElement(be,null,t.default.createElement(Wr.Provider,{value:oa},t.default.createElement(be.Group,{target:dr},t.default.createElement(z,{force:!1},t.default.createElement(na,{slot:To,name:"Dialog.Description"},t.default.createElement($,{initialFocus:He,containers:uo,features:Zr?(0,f.E)(Qn,{parent:$.features.RestoreFocus,leaf:$.features.All&~$.features.FocusLock}):$.features.None},t.default.createElement(eo,null,(0,s.sY)({ourProps:ao,theirProps:St,slot:To,defaultTag:tn,features:Cn,visible:Nr===0,name:"Dialog"}))))))))),t.default.createElement(jn,null))}let En="div";function mn(ke,Qe){let dt=(0,C.M)(),Vt=ke,{id:Lt=`headlessui-dialog-overlay-${dt}`}=Vt,gt=lo(Vt,["id"]),[{dialogState:ct,close:Qt}]=Rr("Dialog.Overlay"),He=(0,g.T)(Qe),ft=(0,w)}}),St=(0,t.useMemo)(()=>({open:ct===0}),[ct]);return(0,s.sY)({ourProps:{ref:He,id:Lt,"aria-hidden":!0,onClick:ft},theirProps:gt,slot:St,defaultTag:En,name:"Dialog.Overlay"})}let Ln="div";function Rn(ke,Qe){let dt=(0,C.M)(),St=ke,{id:Lt=`headlessui-dialog-backdrop-${dt}`}=St,gt=lo(St,["id"]),[{dialogState:ct},Qt]=Rr("Dialog.Backdrop"),He=(0,g.T)(Qe);(0,t.useEffect)(()=>{if(Qt.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[Qt.panelRef]);let ft=(0,t.useMemo)(()=>({open:ct===0}),[ct]);return t.default.createElement(z,{force:!0},t.default.createElement(be,null,(0,s.sY)({ourProps:{ref:He,id:Lt,"aria-hidden":!0},theirProps:gt,slot:ft,defaultTag:Ln,name:"Dialog.Backdrop"})))}let wn="div";function Jn(ke,Qe){let dt=(0,C.M)(),Vt=ke,{id:Lt=`headlessui-dialog-panel-${dt}`}=Vt,gt=lo(Vt,["id"]),[{dialogState:ct},Qt]=Rr("Dialog.Panel"),He=(0,g.T)(Qe,Qt.panelRef),ft=(0,t.useMemo)(()=>({open:ct===0}),[ct]),St=(0,w()});return(0,s.sY)({ourProps:{ref:He,id:Lt,onClick:St},theirProps:gt,slot:ft,defaultTag:wn,name:"Dialog.Panel"})}let nt="h2";function Nt(ke,Qe){let dt=(0,C.M)(),St=ke,{id:Lt=`headlessui-dialog-title-${dt}`}=St,gt=lo(St,["id"]),[{dialogState:ct,setTitleId:Qt}]=Rr("Dialog.Title"),He=(0,g.T)(Qe);(0,t.useEffel)),[Lt,Qt]);let ft=(0,t.useMemo)(()=>({open:ct===0}),[ct]);return(0,s.sY)({ourProps:{ref:He,id:Lt},theirProps:gt,slot:ft,defaultTag:nt,name:"Dialog.Title"})}let Zt=(0,s.yV)(rn),rr=(0,s.yV)(Rn),Pr=(0,s.yV)(Jn),Mr=(0,s.yV)(mn),$e=(0,s.yV)(Nt),at=Object.assign(Zt,{Backdrop:rr,Panel:Pr,Overlay:Mr,Title:$e,Description:ne.d})},61363:(H,E,e)=>{"use strict";e.d(E,{R:()=>t});var,f))(t||{})},12395:(H,E,e)=>{"use strict";e.d(E,{r:()=>re});var t=e(98661),f=e(12351),s=e(19946),g=e(61363),P=e(64103),y=e(16723),C=e(23784),u=e(73781);let p=(0,t.createContext)(null);function d(){let $=(0,t.useContext)(p);if($===null){let F=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(F,d),F}return $}function w(){let[$,F]=(0,t.useState)([]);return[$.length>0?$.join(" "):void 0,(0,t.useMemo)(()=>function(Z){let q=(0,u.z)(j=,j]),()=>F(Y=>{let ie=Y.slice(),ce=ie.indexOf(j);return ce!==-1&&ie.splice(ce,1),ie}))),V=(0,t.useMes}),[q,Z.slot,Z.name,Z.props]);return t.default.createElement(p.Provider,{value:V},Z.children)},[F])]}let D="label";function M($,F){let Z=(0,s.M)(),de=$,{id:q=`headlessui-label-${Z}`,passive:V=!1}=de,j=lo(de,["id","passive"]),Y=d(),ie=(0,C.T)(F);(0,y.e)(()=>Y.register(q),[q,Y.register]);let ce=zo(Wn({ref:ie},Y.props),{id:q});return V&&("onClick"in ce&&(delete ce.htmlFor,delete ce.onClick),"onClick"in j&&delete j.onClick),(0,f.sY)({ourProps:ce,theirProps:j,slot:Y.slot||{},defaultTag:D,name:Y.name||"Label"})}let c=(0,f.yV)(M),l=Object.assign(c,{});var i=e(39516),v=e(14157),O=e(46045),T=e(18689),I=e(31147),L=e(94192);let S=(0,t.createContext)(null);S.displayName="GroupContext";let N=t.Fragment;function R($){var F;let[Z,q]=(0,t.useState)(null),[V,j]=w(),[Y,ie]=(0,i.f)(),ce=(0,t.useMeY}),[Z,q,V,Y]),de={},z=$;return t.default.createElement(ie,{name:"Switch.Description"},t.default.createElement(j,{name:"Switch.Label",props:{htmlFor:(F=ce.switch)==null?void 0:F.id,onClick(Q){Z&&(Q.currentTarget.tagName==="LABEL"&&Q.preventDefault(),Z.click(),Z.focus({preventScroll:!0}))}}},t.default.createElement(S.Provider,{value:ce},(0,f.sY)({ourProps:de,theirProps:z,defaultTag:N,name:"Switch.Group"}))))}let U="button";function W($,F){let Z=(0,s.M)(),ne=$,{id:q=`headlessui-switch-${Z}`,checked:V,defaultChecked:j=!1,onChange:Y,name:ie,value:ce,form:de}=ne,z=lo(ne,["id","checked","defaultChecked","onChange","name","value","form"]),Q=(0,t.useContext)(S),ae=(0,t.useRef)(null),te=(0,C.T)(ae,F,Q===null?null:Q.setSwitch),[oe,ue]=(0,I.q)(V,Y,j),ee=(0,u.z)(()=>ue==null?void 0:ue(!oe)),le=(0,u()}),se=(0,ut)}),fe=(0,u.z)(me=>me.preventDefault()),ve=(0,t.useMemo)(()=>({checked:oe}),[oe]),ge={id:q,ref:te,role:"switch",type:(0,v.f)($,ae),tabIndex:0,"aria-checked":oe,"aria-labelledby":Q==null?void 0:Q.labelledby,"aria-describedby":Q==null?void 0:Q.describedby,onClick:le,onKeyUp:se,onKeyPress:fe},be=(0,L.G)();return(0,t.useEffect)(()=>{var me;let Le=(me=ae.current)==null?void 0:me.closest("form");Le&&j!==void 0&&be.addEventListener(Le,"reset",()=>{ue(j)})},[ae,ue]),t.default.createElement(t.default.Fragment,null,ie!=null&&oe&&t.default.createElement(O._,Wn({features:O.A.Hidden},(0,f.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:de,checked:oe,name:ie,value:ce}))),(0,f.sY)({ourProps:ge,theirProps:z,slot:ve,defaultTag:U,name:"Switch"}))}let K=(0,f.yV)(W),G=R,re=Object.assign(K,{Group:G,Label:l,Description:i.d})},5285:(H,E,e)=>{"use strict";e.d(E,{u:()=>Q});var t=e(98661),f=e(12351),s=e(16567),g=e(32984),P=e(14879),y=e(16723),C=e(3855),u=e(82180),p=e(237)}}var w=e(9362);function D(ae,...te){ae&&te.length>0&&ae.classList.add(...e)}function c(ae,te){let oe=(0,w.k)();if(!ae)return oe.dispose;let{transitionDuration:ue,transitionDelay:ee}=getComputedStyle(ae),[le,se]=[ue,ee].ge}),fe=le+se;if(fe!==0){oe.gr})});let ve=oe.addEventListener(ae,"transitione))})}else te();return oe.add(()=>te()),oe.dispose}function l(ae,te,oe,ue){let ee=oe?"enter":"leave",le=(0,w.k)(),se=ue!==void 0?d(ue):()=>{};ee==="enter"&&(ae.removeAttribute("hidden"),ae.style.display="");let fe=(0,g.E)(ee,{enter:()=>te.enter,leave:()=>te.leave}),ve=(0,g.E)(ee,{enter:()=>te.enterTo,leave:()=>te.leaveTo}),ge=(0,g.E)(ee,{enter:()=>te.enterFrom,leave:()=>te.leaveFrom});return M(ae,...te.enter,...te.enterTo,...te.enterFrom,...te.leave,...te.leaveFrom,...te.leaveTo,...te.entered),D(ae,...fe,...ge),le.nextFrame(()=>{M(ae,...ge),D(ae,...ve),c()))}),le.dispose}var i=e(94192);function v({container:ae,direction:te,classes:oe,onStart:ue,onStop:ee}){let le=(0,P.t)(),se=(0,i.G)(),fe=(0,C.E)(te);(0,y.e)(()=>{let ve=(0,w.k)();se.add(ve.dispose);let ge=ae.current;if(ge&&fe.current!=="idle"&&le.current)return ve.dispose(),ue.current(fe.current),ve.add(l(ge,oe.current,fe.current==="entt)})),ve.dispose},[te])}var O=e(73781),T=e(44067);function I(ae=0){let[te,oe]=(0,t.useState)(ae),ue=(0,P.t)(),ee=(0,t.useCallbae)},[te,ue]),le=(0,t.useCallbave),[te]),se=(0,t.useCallbae)},[oe,ue]),fe=(0,t.useCallbae)},[oe]);return{flags:te,addFlag:ee,hasFlag:le,removeFlag:se,toggleFlag:1)}let S=(0,t.createContext)(null);S.displayName="TransitionContext";var N=(ae=>(ae.Visible="visible",ae.Hidden="hidden",ae))(N||{});function R(){let ae=(0,t.useContext)(S);if(ae===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ae}function U(){let ae=(0,t.useContext)(W);if(ae===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ae}let W=(0,t.createContext)(null);W.displayName="NestingContext";function K(ae){return"children"in ae?K(ae.children):ae.current.filter(({el:te})=>te.current!==null).filter(({state:te})=>te==="visible").length>0}function G(ae,te){let oe=(0,C.E)(ae),ue=(0,t.useRef)([]),ee=(0,P.t)(),le=(0,i.G)(),se=(0,O.z)((Le,Re=f.l4.Hidden)=>{let Me=ue.current.findIndex(({el:Ee})=>Ee===Le);Me!==-1&&((0,g.E)(Re,{[f.l4.Unmo1)},[f.l4.Hidn"}}),le.microTask(()=>{var Ee;!K(ue)&&ee.current&&((Ee=oe.current)==null||Ee.call(oe))}))}),fe=(0,O.z)(Le=>{let Re=ue.current.find(({el:Me})=>Me===Le);return Re?Re.state!=="visible"&&(Re.state="visible"):ue.current.push({el:Le,state:"visiblent)}),ve=(0,t.useRef)([]),ge=(0,t.useRef)(Promise.resolve()),be=(0,t.useRef)({enter:[],leave:[],idle:[]}),ne=(0,O.z)((Le,Re,Me)=>{ve.current.splice(0),te&&(te.chains.current[Re]=te.chains.current[Re].fil=Le)),te==null||te.chains.current[Re].push([Le,new Prome)})]),te==null||te.chains.current[Re].push([Le,new Prom))})]),Re==="enter"?ge.current=ge.current.tent).then(()=>Me(Re)):Me(Re)}),me=(0,O.z)((Le,Re,Me)=>{Promise.all(be.current[Re].splice(0).map(([Ee,we])=>we)).then(()=>{var Ee;(Ee=ve.current.shift())==null||Ee()}).then(()=>Me(Re))});return(0,t.useMee}),[fe,se,ue,ne,me,be,ge])}function re(){}let $=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function F(ae){var te;let oe={};for(let ue of $)oe[ue]=(te=ae[ue])!=null?te:re;return oe}function Z(ae){let te=(0,t.useRef)(F(ae));return(0,t.useEffee)},[ae]),te}let q="div",V=f.AN.RenderStrategy;function j(ae,te){let yt=ae,{beforeEnter:oe,afterEnter:ue,beforeLeave:ee,afterLeave:le,enter:se,enterFrom:fe,enterTo:ve,entered:ge,leave:be,leaveFrom:ne,leaveTo:me}=yt,Le=lo(yt,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),Re=(0,t.useRef)(null),Me=(0,p.T)(Re,te),Ee=Le.unmount?f.l4.Unmount:f.l4.Hidden,{show:we,appear:Te,initial:De}=R(),[Be,Ke]=(0,t.useState)(we?"visible":"hidden"),tt=U(),{register:Ot,unregister:et}=tt,it=(0,t.useRef)(null);(0,t.useEffect)(()=>Ot(Re),[Ot,Re]),(0,t.useEffect)(()=>{if(Ee===f.l4.Hidden&&Re.current){if(we&&Be!=="visible"){Ke("visible");return}return(0,g.E)(Be,{hidden:()=>et(Re),visible:()=>Ot(Re)})}},[Be,Re,Ot,et,we,Ee]);let bt=(0,C.E)({enter:L(se),enterFrom:L(fe),enterTo:L(ve),entered:L(ge),leave:L(be),leaveFrom:L(ne),leaveTo:L(me)}),xe=Z({beforeEnter:oe,afterEnter:ue,beforeLeave:ee,afterLeave:le}),Oe=(0,u.H)();(0,t.useEffect)(()=>{if(Oe&&Be==="visible"&&Re.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Re,Be,Oe]);let Ie=De&&!Te,We=(()=>!Oe||Ie||it.current===we?"idle":we?"enter":"leave")(),Ge=I(0),Xe=(0,O.z)(Mt=>(0,g.E)(Mt,{enter:()=>{Ge.addFlag(s.ZM.Opening),xe.current.beforeEnter()},leave:()=>{Ge.addFlag(s.ZM.Closing),xe.current.beforeLeave()},idle:()=>{}})),st=(0,O}})),qe)},tt);v({container:Re,classes:bt,direction:We,onStart:(0,Ce)}),onStop:(0,C.E)(Mt=>{qe.onStop(Re,Mt,st),Mt==="leave"&&!K(qe)&&(Ke("hidden"),et(Re))})}),(0,t.useEffee)},[we,Ie,Be]);let Ze=Le,mt={ref:Me};return Te&&we&&De&&(Ze=zo(Wn({},Ze),{className:(0,T.A)(Le.className,...bt.current.enter,...bt.current.enterFrom)})),t.default.createElement(W.Provider,{value:qe},t.default.createElement(s.up,{value:(0,g.E)(Be,{visible:s.ZM.Open,hidden:s.ZM.Closed})|Ge.flags},(0,f.sY)({ourProps:mt,theirProps:Ze,defaultTag:q,features:V,visible:Be==="visible",name:"Transition.Child"})))}function Y(ae,te){let De=ae,{show:oe,appear:ue=!1,unmount:ee}=De,le=lo(De,["show","appear","unmount"]),se=(0,t.useRef)(null),fe=(0,p.T)(se,te);(0,u.H)();let ve=(0,s.oJ)();if(oe===void 0&&ve!==null&&(oe=(ve&s.ZM.Open)===s.ZM.Open),![!0,!1].includes(oe))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[ge,be]=(0,t.useState)(oe?"visible":"hidden"),ne=G(()=>{be("hidden")}),[me,Le]=(0,t.useState)(!0),Re=(0,t.useRef)([oe]);(0,y.e)(()=>{me!==!1&&Re.current[Re.current.length-1]!==oe&&(Re.current.push(oe),Le(!1))},[Re,oe]);let Me=(0,t.useMemo)(()=>({show:oe,appear:ue,initial:me}),[oe,ue,me]);(0,t.useEffect)(()=>{if(oe)be("visible");else if(!K(ne))be("hidden");else{let Be=se.current;if(!Be)return;let Ke=Be.getBoundingClientRect();Ke.x===0&&Ke.y===0&&Ke.width===0&&Ke.height===0&&be("hidden")}},[oe,ne]);let Ee={unmount:ee},we=(0,O.z)(()=>{var Be;me&&Le(!1),(Be=ae.beforeEnter)==null||Be.call(ae)}),Te=(0,O.z)(()=>{var Be;me&&Le(!1),(Be=ae.beforeLeave)==null||Be.call(ae)});return t.default.createElement(W.Provider,{value:ne},t.default.createElement(S.Provider,{value:Me},(0,f.sY)({ourProps:zo(Wn({},Ee),{as:t.Fragment,children:t.default.createElement(de,zo(Wn(Wn({ref:fe},Ee),le),{beforeEnter:we,beforeLeave:Te}))}),theirProps:{},defaultTag:t.Fragment,features:V,visible:ge==="visible",name:"Transition"})))}function ie(ae,te){let oe=(0,t.useContext)(S)!==null,ue=(0,s.oJ)()!==null;return t.default.createElement(t.default.Fragment,null,!oe&&ue?t.default.createElement(ce,Wn({ref:te},ae)):t.default.createElement(de,Wn({ref:te},ae)))}let ce=(0,f.yV)(Y),de=(0,f.yV)(j),z=(0,f.yV)(ie),Q=Object.assign(ce,{Child:z,Root:ce})},31147:(H,E,e)=>{"use strict";e.d(E,{q:()=>s});var t=e(98661),f=e(73781);function s(g,P,y){let[C,u]=(0,t.useState)(y),p=g!==void 0,d=(0,t.useRef)(p),w=(0,t.useRef)(!1),D=(0,t.useRef)(!1);return p&&!d.current&&!w.current?(w.current=!0,d.current=p,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!p&&d.current&&!D.current&&(D.current=!0,d.current=p,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[p?g:C,(0,f.z)(M=>(p||u(M),P==null?void 0:P(M)))]}},94192:(H,E,e)=>{"use strict";e.d(E,{G:()=>s});var t=e(98661),f=e(93,g}},73781:(H,E,e)=>{"use strict";e.d(E,{z:()=>s});var t=e(98661),f=e(3855);let s=function(g){let P=(0,f.E)(g);return t.default.useCallb.y),[P])}},19946:(H,E,e)=>{"use strict";e.d(E,{M:()=>y});var t=e(98661),f=e(16723),s=e(82180),g=e(77896),P;let y=(P=t.default.useId)!=null?P:function(){let C=(0,s.H)(),[u,p]=t.default.useState(C?()=>g.O.nextId():null);return(0,f.e)(()=>{u===null&&p(g.O.nextId())},[u]),u!=null?""+u:void 0}},14879:(H,E,e)=>{"use strict";e.d(E,{t:()=>s});var t=e(98661),f=e(167,g}},16723:(H,E,e)=>{"use strict";e.d(E,{e:()=>s});var t=e(98661),f=e(77896);leP)}},3855:(H,E,e)=>{"use strict";e.d(E,{E:()=>s});var t=e(98661),f=e(167,P}},43986:(H,E,e)=>{"use strict";e.d(E,{O:()=>y});var t=e(98661),f=e(84575),s=e(3855);function g(C,u,p){let d=(0,s.E)(u);(0,t.useEffect)(()=>{function w(D){d.current(D)}return document.addEventListener(C,w,p),()=>document.removeEventListener(C,w,p)},[C,p])}var P=e(7815);function y(C,u,p=!0){let d=(0,t.useRef)(!1);(0,t.useEffe})},[p]);function w(M,c){if(!d.current||M.defaultPrevented)return;let l=c(M);if(l===null||!l.getRootNode().contains(l))return;leO]}(C);for(let v of i){if(v===null)continue;let O=v instanceof HTMLElement?v:v.current;if(O!=null&&O.contains(l)||M.composed&&M.composedPath().includes(O))return}return!(0,f.sP)(l,f.tJ.Loose)&&l.tabIndex!==-1&&M.preventDefault(),u(M,l)}let D=(0,t.useRef)(null);g("mousedot)},!0),g("clil)},!0),(0,P.s)("blll),!0)}},14157:(H,E,e)=>{"use strict";e.d(E,{f:()=>g});var t=e(98661),f=e(167C}},82180:(H,E,e)=>{"use strict";e.d(E,{H:()=>s});var t=e(98661),f=e(77896);function s(){let[g,P]=(0,t.useState)(f.O.isHandoffComplete);return g&&f.O.isHandoffComplete===!1&&P(!1),(0,t.useEffect)(()=>{g!==!0&&P(!0)},[g]),(0,t.useEffect)(()=>f.O.handoff(),[]),g}},23784:(H,E,e)=>{"use strict";e.d(E,{T:()=>P,h:()=>g});var t=e(98661),f=e(73781);let s=Symbo})}function P(...y){let C=(0,t.useRef)(y);(0,t.useEffect)(()=>{C.current=y},[y]);let u=(0,f.z)(p=>{for(let d of C.current)d!=null&&(typeof d=="function"?d(p):d.current=p)});return y.every(p=>p==null||(p==null?void 0:p[s]))?void 0:u}},96599:(H,E,e)=>{"use strict";e.d(E,{q:()=>s});var t=e(98661),f=e(737])}},7815:(H,E,e)=>{"use strict";e.d(E,{s:()=>s});var t=e(98661),f=e(38])}},46045:(H,E,e)=>{"use strict";e.d(E,{A:()=>s,_:()=>P});var t=e(12351);let f="div";var s=(y=>(y[y.None=1]="None",y[y.Focusable=2]="Focusable",y[y.Hidden=4]="Hidden",y))(s||{});function g(y,C){let w=y,{features:u=1}=w,p=lo(w,["features"]),d={ref:C,"aria-hidden":(u&2)===2?!0:void 0,style:Wn({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(u&4)===4&&(u&2)!==2&&{display:"none"})};return(0,t.sY)({ourProps:d,theirProps:p,slot:{},defaultTag:f,name:"Hidden"})}let P=(0,t.yV)(g)},16567:(H,E,e)=>{"use strict";e.d(E,{ZM:()=>s,oJ:()=>g,up:()=>P});var t=e(98661);let f=(0,t.createContext)(null);f.displayName="OpenClosedContext";var s=(y=>(y[y.Open=1]="Open",y[y.Closed=2]="Closed",y[y.Closing=4]="Closing",y[y.Opening=8]="Opening",y))(s||{});function g(){return(0,t.useContext)C)}},64103:(H,E,e)=>{"use strict";e.d(E,{P:()=>t});function t(s){let g=s.parentElement,P=null;for(;g&&!(g instanceof HTMLFieldSetElement);)g instanceof HTMLLegendElement&&(P=g),g=g.parentElement;let y=(g==null?void 0:g.getAttribute("disabled"))==="";return y&&f(P)?!1:y}function f(s){if(!s)return!1;let g=s.previousElementSibling;for(;g!==null;){if(g instanceof HTMLLegendElement)return!1;g=g.previousElementSibling}return!0}},44067:(H,E,e)=>{"use strict";e.d(E,{A:()=>")}},9362:(H,E,e)=>{"use strict";e.d(E,{k:()=>f});var t=e(81021);function f(){let s=[],g={addEventList))},requestAnimationFrame(...P){let y=requestAnimationFrame(...P);return g.add(()=>cancelAnimationFrame(y))},nextFrame(...P){return g.requestAnimationFr.P))},setTim))},micro})},s})},g))},add(P){return s.push()}},dis()}};return g}},77896:(H,E,e)=>{"use strict";e.d(E,{O:()=>P});var t=Object.defineProperty,f=(y,C,u)=>C in y?t(y,C,{enumerable:!0,configurable:!0,writable:!0,value:u}):y[C]=,u);clasget isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"clie"}}let P=new g},84575:(H,E,e)=>{"use strict";e.d(E,{C5:()=>D,TO:()=>g,fE:()=>P,jA:()=>v,sP:()=>p,tJ:()=>u,z2:()=>l});var t=e(32984),f=e(15466);let s=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(O=>`${O}:not([tabindex='-1'])`).join(",");var g=(O=>(O[O.First=1]="First",O[O.Previous=2]="Previous",O[O.Next=4]="Next",O[O.Last=8]="Last",O[O.WrapAround=16]="WrapAround",O[O.NoScroll=32]="NoScroll",O))(g||{}),O))(P||{}),O))(y||{});function C(O=document.body){return O==null?[]:Array.from(O.querySelectorAll(s)).sR)))}var u=(O=>(O[O.Strict=0]="Strict",O[O.Loose=1]="Loose",O))(u||{});function p(O,T=0){var I;return O===((I=(0,f.r)(O))==null?void 0:I.body)?!1:(0,t.E)(T,{[0](){return O.matches(s)},[1](){let L=O;for(;L!==null;){if(L.matches(s))return!0;L=L.parentElement}return!1}})}function d(O){let T=m(O);b().nextFrO)})}var w=(O=>(O[O.Keyboard=0]="Keyboard",O[O.Mouse=1]="Mouse",O))(w||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydo")},!0),document.addEventListener("click",O=>{O.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:O.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function D(O){O==null||O.focus({preventScroll:!0})}let M=["textarea","input"].join(",");function c(O){var T,I;return(I=(T=O==null?void 0:O.matches)==null?void 0:T.call(O,M))!=null?I:!1}function l(O,T=I=>I){return O.slice().sort((I,L)=>{let S=T(I),N=T(L);if(S===null||N===null)return 0;let R=S.compareDocumentPosition(N);return R&Node.DOCUMENT_POSITION_FOLLOWING?-1:R&Node.DOCUMENT_POSITION_PRECEDING?1:})}function v(O,T,{sorted:I=!0,relativeTo:L=null,skipElements:S=[]}={}){let N=Array.isArray(O)?O.length>0?O[0].ownerDocument:document:O.ownerDocument,R=Array.isArray(O)?I?l(O):O:C(O);S.length>0&&R.length>1&&(R=R.filter(F=>!S.includes(F))),L=L!=null?L:N.activeElement;let U=(()=>{if(T&5)return 1;if(T&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),W=(()=>{if(T&1)return 0;if(T&2)return Math.max(0,R.indexOf(L))-1;if(T&4)return Math.max(0,R.indexOf(L))+1;if(T&8)return R.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),K=T&32?{preventScroll:!0}:{},G=0,re=R.length,$;do{if(G>=re||G+re<=0)return 0;let F=W+G;if(T&16)F=(F+re)%re;else{if(F<0)return 3;if(F>=re)return 1}$=R[F],$==null||$.focus(K),G+=U}while($!==N.activeElement);return T&6&&c($)&&$.select(),2}},18689:(H,E,e)=>{"use strict";e.d(E,{g:()=>g,t:()=>}function g(P){var y;let C=(y=P==null?void 0:P.form)!=null?y:P.closest("form");if(C){for(let u of C.elements)if(u.tagName==="INPUT"&&u.type==="submit"||u.tagName==="BUTTON"&&u.type==="submit"||u.nodeName==="INPUT"&&u.type==="image"){u.click();return}}}},32984:(H,E,e)=>{"use strict";e.d(E,{E:()=>t});function t(f,s,...g){if(f in s){let y=s[f];return typeof y=="function"?y(...g):y}let P=new Error(`Tried to handle "${f}" but there is no handler defined. Only defined handlers are: ${Object.keys(s).map(y=>`"${y}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(P,t),P}},81021:(H,E,e)=>{"use strict";e.d(E,{Y:()=>t});function t(f){typeof queueMicrotask=="function"?queueMicrotask(f):Promise.resolve().then(f).cas}))}},15466:(H,E,e)=>{"use strict";e.d(E,{r:()=>f});var t=e(77896);function f(s){return t.O.isServer?null:s instanceof Node?s.ownerDocument:s!=null&&s.hasOwnProperty("current")&&s.current instanceof Node?s.current.ownerDocument:document}},78657:(H,E,e)=>{"use strict";e.d(E,{gn:()=>t,tq:()=>}},12351:(H,E,e)=>{"use strict";e.d(E,{AN:()=>g,l4:()=>P,oA:()=>w,sY:()=>y,yV:()=>d});var t=e(98661),f=e(44067),s=e(32984),M))(g||{}),P=(M=>(M[M.Unmount=0]="Unmount",M[M.Hidden=1]="Hidden",M))(P||{});function y({ourProps:M,theirProps:c,slot:l,defaultTag:i,features:v,visible:O=!0,name:T}){let I=p(c,M);if(O)return C(I,l,i,T);let L=v!=null?v:0;if(L&2){let S=I,{static:R=!1}=S,U=lo(S,["static"]);if(R)return C(U,l,i,T)}if(L&1){let N=I,{unmount:R=!0}=N,U=lo(N,["unmount"]);return(0,s.E)(R?0:1,{[0](){return null},[1](){return C(zo(Wn({},U),{hidden:!0,style:{display:"none"}}),l,i,T)}})}return C(I,l,i,T)}function C(M,c={},l,i){let R=D(M,["unmount","static"]),{as:v=l,children:O,refName:T="ref"}=R,I=lo(R,["as","children","refName"]),L=M.ref!==void 0?{[T]:M.ref}:{},S=typeof O=="function"?O(c):O;"className"in I&&I.className&&typeof I.className=="function"&&(I.className=I.className(c));let N={};if(c){let U=!1,W=[];for(let[K,G]of Object.entries(c))typeof G=="boolean"&&(U=!0),G===!0&&W.push(K);U&&(N["data-headlessui-state"]=W.join(" "))}if(v===t.Fragment&&Object.keys(w(I)).length>0){if(!(0,t.isValidElement)(S)||Array.isArray(S)&&S.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(I).map(G=>`  - ${G}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(G=>`  - ${G}`).join(`
`)].join(`
`));let U=S.props,W=typeof(U==null?void 0:U.className)=="function"?(...G)=>(0,f.A)(U==null?void 0:U.className(...G),I.className):(0,f.A)(U==null?void 0:U.className,I.className),K=W?{className:W}:{};return(0,t.cloneElement)(S,Object.assign({},p(S.props,w(D(I,["ref"]))),N,L,u(S.ref,L.ref),K))}return(0,t.createElement)(v,Object.assign({},D(I,["ref"]),v!==t.Fragment&&L,v!==t.Fragment&&N),S)}function u(...M){return{ref:M.evull)?void 0:c=>{for(let l of M)l!=null&&(typeof l=="function"?l(c):l.current=c)}}}function p(...M){var c;if(M.length===0)return{};if(M.length===1)return M[0];let l={},i={};for(let v of M)for(let O in v)O.startsWith("on")&&typeof v[O]=="function"?((c=i[O])!=null||(i[O]=[]),i[O].push(v[O])):l[O]=v[O];if(l.disabled||l["aria-disabled"])return Object.assign(l,Object.fromEntries(Object.keys(i). 0])));for(let v in i)Object.assign(l,{[v](O,...T){let I=i[v];for(let L of I){if((O instanceof Event||(O==null?void 0:O.nativeEvent)instanceof Event)&&O.defaultPrevented)return;L(O,...T)}}});return l}function d(M){var c;return Object.assign((0,t.forwardRef)(M),{displayName:(c=M.displayName)!=null?c:M.name})}function w(M){let c=Object.assign({},M);for(let l in c)c[l]===void 0&&delete c[l];retur l}},11753:(H,E,e)=>{"use strict";e.d(E,{$l:()=>g,BN:()=>te,DY:()=>D,J$:()=>ne,JN:()=>T,LI:()=>Z,PM:()=>C,W6:()=>$,i_:()=>s,kY:()=>Ee,ko:()=>tt,kw:()=>F,mf:()=>y,o8:()=>P,qC:()=>j,s6:()=>Be,sj:()=>ae,u3:()=>ie,u_:()=>ve,w6:()=>re});var t=e(98661);const f=()=>{},s=f(),g=Objec==onit),u=et=>y(et.then),p=new WeakMap;let d=0;const w=et=>{const it=typeof et,bt=et&&et.constructor,xe=bt==Date;let Oe,Ie;if(g(et)===et&&!xe&&bt!=RegExp){if(Oe=p.get(et),Oe)return Oe;if(Oe=++d+"~",p.set(et,Oe),bt==Array){for(Oe="@",Ie=0;Ie<et.length;Ie++)Oe+=w(et[Ie])+",";p.set(et,Oe)}if(bt==g){Oe="#";const We=g.keys(et).sort();for(;!P(Ie=We.pop());)P(et[Ie])||(Oe+=Ie+":"+w(et[Ie])+",");p.set(et,Oe)}}else Oe=xe?et.toJSON():it=="symbol"?et.toString():it=="string"?JSON.stringify(et):""+et;return Oe},D=new WeakMap,M={},c={},l="undefined",i=typeof window!=l,v=typeof document!=!=M]};let I=!0;const L=()=>I,[S,N]=i&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[f,f],R=()=>{const et=v&&document.visibilityState;return P(et)||et!=="hidden")})}},K={isOnline:L,isVisible:R},G={initFocus:U,initReconnect:W},re=!t.default.useId,$=!i||"Deno"in windo,1),Z=$?t.useEffect:t.useLayoutEffect,q=typeof navigator!="undefined"&&navigator.connection,V=!$&&q&&(["slow-2g","2g"].includes(q.effectiveType)||q.saveData),j=et=>{if(y(et))try{et=et()}catch(bt){et=""}const it=et;return et=typeof et=="string"?et:(Array.isArray(et)?et.length:et)?w(et):"",[et,it]};let Y=0;const ie=()=>++Y,ce=0,de=1,z=2;var ae={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:ce,MUTATE_EVENT:z,RECONNECT_EVENT:de};function te(...et){return wl(this,null,function*(){const[it,bt,xe,Oe]=et,Ie=C({populateCache:!0,throwOnError:!0},typeof Oe=="boolean"?{revalidate:Oe}:Oe||{});let We=Ie.populateCache;const Ge=Ie.rollbackOnError;let Xe=Ie.optimisticData;const st=Ie.revalidate!==!1,qe=yt=>typeof Ge=="function"?Ge(yt):Ge!==!1,Ze=Ie.throwOnError;if(y(bt)){const yt=bt,Mt=[],Ht=it.keys();for(const Gt of Ht)!/^\$(inf|sub)\$/.test(Gt)&&yt(it.get(Gt)._k)&&Mt.push(Gt);return Promise.all(Mt.map(mt))}return mt(bt);function mt(yt){return wl(this,null,function*(){const[Mt]=j(yt);if(!Mt)return;const[Ht,Gt]=T(it,Mt),[zt,Kt,Ir,or]=D.get(it),cr=zt[Mt],Tt=()=>st&&(delete Ir[Mt],delete or[Mt],cr&&cr[0])?cr[0](z).tata):Ht().data;if(et.length<3)return Tt();let wr=xe,Br;const Hr=ie();Kt[Mt]=[Hr,0];const Wr=!P(Xe),Rr=Ht(),qr=Rr.data,Xr=Rr._c,tn=P(Xr)?qr:Xr;if(Wr&&(Xe=y(Xe)?Xe(tn,qr):Xe,Gt({data:Xe,_c:tn})),y(wr))try{wr=wr(tn)}catch(rn){Br=rn}if(wr&&u(wr))if(wr=yield wr.catch(rn=>{Br=rn}),Hr!==Kt[Mt][0]){if(Br)throw Br;return wr}else Br&&Wr&&qe(Br)&&(We=!0,wr=tn,Gt({data:wr,_c:s}));We&&(Br||(y(We)&&(wr=We(wr,tn)),Gt({data:wr,error:s,_c:s}))),Kt[Mt][1]=ie();const Cn=yield Tt();if(Gt({_c:s}),Br){if(Ze)throw Br;return}return We?Cn:wr})}})}constt)},ue=(et,it)=>{if(!D.has(et)){const bt=C(G,it),xe={},Oe=te.bind(s,et);let Ie=f;const We={}1)}t)},st=()=>{if(!D.has(et)&&(D.set(et,[xe,{},{},{},Oe,Xe,Ge]),!$)){const qe=bt.initFocus(setTimeout.bind(s,oe.bind(s,xe,ce))),Ze=bt.initReconnect(setTimeout.bind(s,oe.bind(s,xe,de)))t)}}};return st(),[et,Oe,st,Ie]}return[et,D.get(et)[4]]}e)}it),[se,fe]=ue(new Map),ve=C({onLoadingSlow:f,onSuccess:f,onError:f,onErrorRetry:ee,onDiscarded:f,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:V?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:V?5e3:3e3,compare:le,isPaused:()=>!1,cache:se,mutate:fe,fallback:{}},K)bt},be=(0,t.createContext)({})))},me=i&&window.__SWR_DEVTOOLS_USE__,Le=me?window.__SWR_DEVTOOLS_USE__:[]t)},Me=et=>y(et[1])?[et[0],et[1],et[2]||{}]:[et[0],null,(et[1]===null?et[2]:et[1])||{}]e))Ie},Te=et=>(it,bt,xe)=>et(it,be)}),xe),De=Le.concat(Te)e)},Ke=et=>{const it=useState({})[1],bt=useRef(!1),xe=useRef(et),Oe=useRef({data:!1,error:!1,isValidating:!1}),Ie=useCallback(We=>{let Ge=!1;const Xe=xe.current;for(const st in We){const qe=st;Xe[qe]!==We[qe]&&(Xe[qe]=We[qe],Oe.current[qe]&&(Ge=!0))}Ge&&!bt.current&&(re?it({}):React.startTransit{})))},[it]);retur0})),[xe,Oe.current,Ie]})}},Ot=(et,it)=>(...bt)=>{const[xe,Oe,Ie]=Me(bt),We=(Ie.use||[]).concat(it);return et(xe,Oe,zo(Wn({},Ie),{use:We}))};Re()},95591:(H,E,e)=>{"use strict";e.d(E,{ZP:()=>p,kY:()=>s.kY});var t=e(98661),f=e(61688),s=e(11753);cons[0],P=t.default.use||(d=>{if(d.status==="pending")throw d;if(d.status==="fulfilled")return d.value;throw d.status==="rejected"?d.reason:(d.status="pending",d.then(w=>{d.status="fulfilled",d.value=w}),d)}),y={dedupe:!0},C=(d,w,D)=>{const{cache:M,compare:c,suspense:l,fallbackData:i,revalidateOnMount:v,revalidateIfStale:O,refreshInterval:T,refreshWhenHidden:I,refreshWhenOffline:L,keepPreviousData:S}=D,[N,R,U,W]=s.DY.get(M),[K,G]=(0,s.qC)(d),re=(0,t.useRef)(!1),$=(0,t.useRef)(!1),F=(0,t.useRef)(K),Z=(0,t.useRef)(w),q=(0,t.useRef)(D),V=()=>q.currene(),[Y,ie,ce,de]=(0,s.JN)(M,K),z=(0,t.useRef)({}).current,Q=(0,s.o8)(i)?D.fallback[K]:i,ae=(Ee,we)=>{for(const Te in z){const De=Te;if(De==="data"){if(!c(Ee[De],we[De])&&(!(0,s.o8)(Ee[De])||!c(ge,we[De])))return!1}else if(we[De]!==Ee[De])return!1}return!0},te=(0,t.useMemo)(()=>{const Ee=(()=>!K||!w?!1:(0,s.o8)(v)?V().isPaused()||l?!1:(0,s.o8)(O)?!0:O:v)(),we=Ot=>{const et=(0,s.PM)(Ot);return delete et._k,Ee?Wn({isValidating:!0,isLoading:!0},et):et},Te=Y(),De=de(),Be=we(Te),Ke=Te===De?Be:we(De);let tt=Be;rett)},()=>Ke]},[M,K]),oe=(0,f.useSyncExternalStore)((0,t.useCallba)}),[M,K]),te[0],te[1]),ue=!re.current,ee=N[K]&&N[K].length>0,le=oe.data,se=(0,s.o8)(le)?Q:le,fe=oe.error,ve=(0,t.useRef)(se),ge=S?(0,s.o8)(le)?ve.current:le:se,be=(()=>ee&&!(0,s.o8)(fe)?!1:ue&&!(0,s.o8)(v)?v:V().isPaused()?!1:l?(0,s.o8)(se)?!1:O:(0,s.o8)(se)||O)(),ne=!!(K&&w&&ue&&be),me=(0,s.o8)(oe.isValidating)?ne:oe.isValidating,Le=(0,s.o8)(oe.isLoading)?ne:oe.isLoading,Re=(0,t.useCallback)(Ee=>wl(Rf,null,function*(){const we=Z.current;if(!K||!we||$.current||V().isPaused())return!1;let Te,De,Be=!0;const Ke=Ee||{},tt=!U[K]||!Ke.dedupeent,et={isValidating:!1,isLoading:!1},it=()=>{ie(et)}K]},xe={isValidating:!0};(0,s.o8)(Y().data)&&(xe.isLoading=!0);try{if(tt&&(ie(xe),D.loadingTimeout&&(0,s.o8)(Y().data)&&setTimeD)},D.loadingTimeout),U[K]=[we(G),(0,s.u3)()]),[Te,De]=U[K],Te=yield Te,tt&&setTimeout(bt,D.dedupingInterval),!U[K]||U[K][1]!==De)return tt&&Ot()&&V().onDiscarded(K),!1;et.error=s.i_;const Oe=R[K];if(!(0,s.o8)(Oe)&&(De<=Oe[0]||De<=Oe[1]||Oe[1]===0))return it(),tt&&Ot()&&V().onDiscarded(K),!1;const Ie=Y().data;et.data=c(Ie,Te)?Ie:Te,tt&&Ot()&&V().onSuccess(Te,K,D)}catch(Oe){bt();const Ie=V(),{shouldRetryOnError:We}=Ie;Ie.isPaused()||(et.error=Oe,tt&&Ot()&&(Ie.onError(Oe,K,Ie),(We===!0||(0,s.mf)(We)&&We(Oe))&&j()&&Ie.onErrorRetry(Oe,Ke)},{retryCount:(Ke.retryCount||0)+1,dedupe:!0})))}return Be=!1,it(),!0}),[K,M]),Me=(0,t.useCallbaEe),[]);if((0,s.e)}),(0,s.LI)(()=>{if(!K)return;const Ee=Re.bind(s.i_,y);let we=0;const)}},De=(0,s.ko)(K,N,Te);return $.current=!1,F.current=K,re.current=!0,ie({_k:G}),be&&((0,s.o8)(se)||s.W6?Ee():(0,s.kw)(Ee)),()=>{$.current=!0,De()}},[K]),(0,s.LI)(()=>{let Ee;function we(){const De=(0,s.mf)(T)?T(Y().data):T;De&&Ee!==-1&&(Ee=setTimeout(Te,D()}return w1)}},[T,I,L,K]),(0,t.useDebugValue)(ge),l&&(0,s.o8)(se)&&K){if(!s.w6&&s.W6)throw new Error("Fallback data is required when using suspense in SSR.");Z.current=w,q.current=D,$.current=!1;const Ee=W[K];if(!(0,s.o8)(Ee)){const we=Me(Ee);P(we)}if((0,s.o8)(fe)){const we=Re(y);(0,s.o8)(ge)||(we.status="fulfilled",we.value=!0),P(we)}else throw fe}return{mutate:Me,get data(){return z.data=!0,ge},get error(){return z.error=!0,fe},get isValidating(){return z.isValidating=!0,me},get isLoaLe}}},u=s.$l.defineProperty(s.J$,"defaultValue",{value:s.u_}),p=(0,s.s6)(C)},33600:H=>{"use strict";H.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:H=>{"use strict";H.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29')},2586:H=>{"use strict";H.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},Unts}je.m=Nn,j,f}})(),j})},je.f={},j])),je.u=H=>""+H+"."+{411:"652ca3b230d5f693c337",662:"a953e628ecc9e6c4f96b",1055:"bd4c330dc7109f4cd96c",1321:"303da539158aab564e71",1486:"01756d7fec1588b4d4d7",1619:"402df55766e4cfb833a9",1915:"6b4c056619f4abfc24bd",2301:"e0cc37e6f2a13f1fc6d6",2372:"adeb19188a2aad165e25",2502:"b2fd84986869f46aba97",2685:"3c7c50bb153741803cfb",2892:"3225a46fb7b1217029fa",2910:"7955b9a9ac0d6fa562ce",3565:"063a36ab4b4441b54cc1",3640:"21bb0880fdafb0eb48ef",3882:"ad6d8fa4b2f0332b91d7",4041:"89a41605d2895103ecd6",4125:"d2c1c66a01c29ead6876",4430:"49c3802e2820e4c5ac23",4437:"10452d781ef5ce452e84",4495:"9d91d75b283ff439b61b",4679:"ff6d8a89dd186919d322",4695:"71372132cb1fd898f38a",4747:"b929b25fd8632d150c90",5018:"c1b1a96ebc4d17a062a9",5156:"9569458494fac8bfba9d",5297:"651c3bf8f91e868035f6",5661:"e061d52f55bbf6fd3d5c",5870:"52f6891be18b23d14804",7031:"13833eeff198c7f46046",7264:"576bc3d713af96a44880",7465:"99faa2430101cbbe5652",7602:"d527ba77874ec7319cc6",7631:"980da812e87a9255153c",8376:"8f4d93909079aa675b68",8437:"41da705d70e41c034e43",8534:"c116f917d2b9cc4bb3e8",9221:"6777494aba6f57924ba4",9593:"b6950c51a38388a92cc9",9721:"66f86e5636c49b219d8e"}[H]+".chunk.js",je.miniCssF=H=>""+H+"."+{411:"6155c11039f07f8e1411",2502:"d3b5d93bb0a34fc99204",3565:"6e35de45468a1ad4b324",5018:"f9c10e93c89055f25179",5156:"100c17fa89277faa3856",5297:"cb4f73e78897616c9a89",5661:"2e367785f1455c7d6167",5870:"e5323e480f969512ce0b",7465:"ea4f223d0eb944aa53f1",7602:"909f4ed2d45cc533db63",8437:"1acd0712bdb39d48282e",9721:"dfe7096482408dba6b1c"}[H]+".css",jw}}(),je.,H),j,)}})(),j})},je.,H),je.j=179,je.p="https://substackcdn.com/bundle/",(()=>{if(typeof document!="undefined"){var H=(f,s,g,P,y)=>{var C=document.createElement("link");C.rel="stylesheet",C.type="text/css";var u=p=>{if(C.onerror=C.onload=null,p.type==="load")P();else{var d=p&&(p.type==="load"?"missing":p.type),w=p&&p.target&&p.target.href||s,D=new Error("Loading CSS chunk "+f+` failed.
(`+w+")");D.code="CSS_CHUNK_LOAD_FAILED",D.type=d,D.request=w,C.parentNode&&C.parentNode.removeChild(C),y(D)}};return C.onerror=C.onload=u,C.href=s,g?g.parentNode.insertBefore(C,g.nextSibling):document.head.appendChild(C),Cy})}),t={179:0,5297:0,7465:0,5661:0,3934:0,1055:0,9593:0,2685:0,4041:0,2372:0,8534:0,1619:0,5870:0,5812:0,7031:0,3640:0,2892:0,2910:0,6203:0,1321:0,2181:0};je.f.miniCss=(f,s)=>{var g={411:1,2502:1,3565:1,5018:1,5156:1,5297:1,5661:1,5870:1,7465:1,7602:1,8437:1,9721:1};t[f]?s.push(t[f]):t[f]!==0&&g[f]&&s.push(t[f]=e(f).t,P}))}}})(),(()=>{var H={179:0,5297:0,7465:0,5661:0,3934:0,1055:0,9593:0,2685:0,4041:0,2372:0,8534:0,1619:0,5870:0,5812:0,7031:0,3640:0,2892:0,2910:0,6203:0,1321:0,2181:0};je.)}};va=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(E.bind(null,0)),e.push=E.bind(null,e.push.bind(e))})();var ra={};(()=>{"use strict";var H=je(78515),E=je(72496),e=je(6400),t=je(30396),f=je(94184),s=je.n(f),g=je(1469),P=je.n(g),y=je(20042),C=je(56232),u=je(13045),p=je(52743),d=je(3258),w=je(90304);const D=1e3*60*60*24,M="domain-redirect-time";class c extends e.Component{constructor(r,o){super(r,o),this.state=r.initialData||{}}componentDidMount(){const r=this.loadedWithLikelyLoggedInParam()?"param":null;r&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:r}):this.useIframe()&&window.addEventListener("message",o=>this.handleFrameMessage(o))}shouldBlockLoginRedirect(){var r;const o=parseInt((0,w.mM)(M,0));return this.state.block_auto_login||!((r=this.state.pub)!=null&&r.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-o<=D||Object.prototype.hasOwnProperty.call((0,p.parseQuery)(window.location.toString()),"triedSigningIn")}handleFrameMessage(r){var o,a,_;if(((o=r.data)==null?void 0:o.type)!=="frame-state")return;const A=!this.shouldBlockLoginRedirect()&&((a=r.data)==null?void 0:a.loggedInAtSubstack);(0,d.track)(d.EVENTS.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(_=r.data)==null?void 0:_.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:A}),A&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:r}={}){var o;(0,d.track)(d.EVENTS.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:r==="param",source:r}),(0,w.ex)(M,`${Date.now()}`),location.href=(0,p.getSigninUrl)({for_pub:(o=this.state.pub)==null?void 0:o.subdomain,justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!Object.prototype.hasOwnProperty.call((0,p.parseQuery)(window._preloads.original_url),"lli")}useIframe(){var r,o;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((r=this.state.pub)!=null&&r.custom_domain)||(0,p.urlIsRegularlyShownInIframe)((o=window==null?void 0:window.location)==null?void 0:o.href))}render(){return this.useIframe()?(0,e.h)("iframe",{src:`${(0,p.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}):null}}var l=je(28488),i=je(43887),v=je(76193),O=je(18597),T=je(15516),I=je(33705),L=je(32076);function S(n,r){return[...Array(2*n.length-1)].map((o,a)=>a%2?r:n[a/2])}const N=({publication:n,className:r,utm_source:o})=>{switch(n==null?void 0:n.subdomain){case"activisionblizzard":return(0,e.h)(W,{className:r,utm_source:o});case"demographyunplugged":return(0,e.h)(K,{className:r,utm_source:o});default:return(0,e.h)(U,{pub:n,className:r,utm_source:o})}},R=({publication:n})=>{const{iString:r}=(0,l.M1)();if((n==null?void 0:n.subdomain)==="demographyunplugged")return(0,e.h)(e.Fragment,null,(0,e.h)(i.xv,{translated:!0,size:14,className:"tos"},"Substack's ",(0,e.h)(re,{href:(0,p.getSubstackPrivacyUrl)()},"Privacy"),","," ",(0,e.h)(re,{href:(0,p.getSubstackTermsUrl)()},"Terms")," and"," ",(0,e.h)(re,{href:(0,p.getInfoCollectionUrl)()},"Information Collection Notice")),(0,e.h)(i.xv,{translated:!0,size:14,className:"tos"},"Demography Unplugged's"," ",(0,e.h)(re,{href:"https://www.demographyunplugged.com/p/privacy-policy"},"Privacy")," and"," ",(0,e.h)(re,{href:"https://www.demographyunplugged.com/p/terms-of-service"},"Terms")));const o=[(0,e.h)(re,{href:(0,p.getSubstackPrivacyUrl)()},r("Privacy")),(0,e.h)(re,{href:(0,p.getSubstackTermsUrl)()},r("Terms")),(0,e.h)(re,{href:(0,p.getInfoCollectionUrl)()},r("Collection notice"))];return(n==null?void 0:n.subdomain)==="activisionblizzard"&&o.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)(re,{href:"https://www.activisionblizzard.com/legal/privacy-policy"},"Privacy Policy"))),(n==null?void 0:n.subdomain)==="demographyunplugged"&&(o.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)(re,{href:"https://www.demographyunplugged.com/p/privacy-policy"},"Privacy Policy"))),o.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)(re,{href:"https://www.demographyunplugged.com/p/terms-of-service"},"Terms")))),(0,e.h)(e.Fragment,null,S(o,(0,e.h)("span",null," \u2219 ")))},U=({pub:n,className:r,utm_source:o})=>{const{iString:a}=(0,l.M1)(),{getSettingFor:_}=(0,L.So)(),A=_("custom_tos_and_privacy");let B=null;return A&&(n.has_custom_tos&&n.has_custom_privacy?B=(0,e.h)(i.xv,{as:"span",translated:!0},"the publisher's ",(0,e.h)(re,{href:(0,p.getPublisherTermsUrl)({pub:n,utm_source:o})},"Terms of Service")," ","and ",(0,e.h)(re,{href:(0,p.getPublisherPrivacyUrl)({pub:n,utm_source:o})},"Privacy Policy")):n.has_custom_tos?B=(0,e.h)(i.xv,{as:"span",translated:!0},"the publisher's ",(0,e.h)(re,{href:(0,p.getPublisherTermsUrl)({pub:n,utm_source:o})},"Terms of Service")):n.has_custom_privacy&&(B=(0,e.h)(i.xv,{as:"span",translated:!0},"the publisher's ",(0,e.h)(re,{href:(0,p.getPublisherPrivacyUrl)({pub:n,utm_source:o})},"Privacy Policy")))),(0,e.h)(i.xv.B3,{size:14,color:"tertiary",className:r!=null?r:"tos"},a("By registering you agree to")," ",[B&&(0,e.h)(e.Fragment,null,B,", "),(0,e.h)(i.xv,{as:"span",translated:!0},"Substack's ",(0,e.h)(re,{href:(0,p.getSubstackTermsUrl)({utm_source:o})},"Terms of Service")),(0,e.h)(i.xv,{as:"span",translated:!0},", our ",(0,e.h)(re,{href:(0,p.getSubstackPrivacyUrl)({utm_source:o})},"Privacy Policy")),(0,e.h)(i.xv,{as:"span",translated:!0},", and our ",(0,e.h)(re,{href:(0,p.getInfoCollectionUrl)({utm_source:o})},"Information Collection Notice"))])},W=({className:n,utm_source:r})=>(0,e.h)(i.xv.B3,{translated:!0,size:14,color:"tertiary",className:n!=null?n:"tos"},"By registering you agree to Substack's"," ",(0,e.h)(re,{href:(0,p.getSubstackTermsUrl)({utm_source:r})},"Terms of Service"),", our"," ",(0,e.h)(re,{href:(0,p.getSubstackPrivacyUrl)({utm_source:r})},"Privacy Policy"),", our"," ",(0,e.h)(re,{href:(0,p.getInfoCollectionUrl)({utm_source:r})},"Information Collection Notice"),", and Activision's"," ",(0,e.h)(re,{href:"https://www.activisionblizzard.com/legal/privacy-policy"},"Privacy Policy")),K=({className:n,utm_source:r})=>(0,e.h)("div",{className:n!=null?n:"tos"},(0,e.h)(i.xv.B3,{translated:!0,size:14,color:"tertiary"},"By registering you agree to Substack's"," ",(0,e.h)(re,{href:(0,p.getSubstackTermsUrl)({utm_source:r})},"Terms of Service"),", our"," ",(0,e.h)(re,{href:(0,p.getSubstackPrivacyUrl)({utm_source:r})},"Privacy Policy"),", our"," ",(0,e.h)(re,{href:(0,p.getInfoCollectionUrl)({utm_source:r})},"Information Collection Notice"),"."),(0,e.h)(i.xv.B3,{translated:!0,size:14,color:"tertiary"},"You also agree to receive marketing emails from Hedgeye Risk Management, LLC pursuant to its"," ",(0,e.h)(re,{href:"https://www.demographyunplugged.com/p/privacy-policy"},"Privacy Policy")," and"," ",(0,e.h)(re,{href:"https://www.demographyunplugged.com/p/terms-of-service"},"Terms of Service"),"."),(0,e.h)(i.xv.B3,{translated:!0,size:14,color:"tertiary"},"You may unsubscribe at any time by clicking the unsubscribe link in one of the emails.")),G=({pub:n})=>{const r=[];return n.has_custom_privacy&&r.push((0,e.h)(re,{href:(0,p.getPublisherPrivacyUrl)({pub:n})},"Publisher Privacy")),n.has_custom_tos&&r.push((0,e.h)(re,{href:(0,p.getPublisherTermsUrl)({pub:n})},"Publisher Terms")),(0,e.h)("div",null,(0,e.h)(i.xv.B3,{size:14,color:"tertial"},S(r,(0,e.h)("span",null," \u2219 "))))},re=({children:n,href:r})=>(0,e.h)("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n),$=({hideTerms:n,pub:r,showIntrinioAttrib:o})=>{const{getSettingFor:a}=(0,L.So)(),_=a("custom_tos_and_privacy")&&(r.has_custom_tos||r.has_custom_privacy),A=(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",r&&r.copyright||"Substack Inc"),B=(0,e.h)(e.Fragment,null,o&&(0,e.h)(u.xv,{translated:!0,as:"div",className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!n&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(R,{publication:r})));return _?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"footer-blurbs"},A,!n&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(G,{pub:r}))),(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"Substack"),B)):(0,e.h)("div",{className:"footer-blurbs"},A,B)};var F=je(17025),Z=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});class q extends e.Component{constructor(){super(...arguments),this.checkVisibility=()=>{if(!this.ref)return;const r=this.ref.getBoundingClientRect(),o=this.props.threshold||0,a=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),_=!(r.bottom<0-o||r.top>=a+o);(0,F.stateTransaction)(this,(A,B)=>Z(this,null,function*(){if(A.isVisible!==_)this.setState({isVisible:_});else if(!B.noDedupe)return;const x=_?"hadFirstVisible":"hadFirstInvisible",J=!A[x];J&&this.setState({[x]:!0}),(yield Promise.all([_&&B.onVisible&&B.onVisible(),_&&B.onFirstVisible&&J&&B.onFirstVisible(),!_&&B.onInvisible&&B.onInvisible(),!_&&B.onFirstInvisible&&J&&B.onFirstInvisible()])).reduce((_e,ye)=>ye===!0||_e)&&this.checkVisibility()}))}}componentDidMount(){return Z(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Prom,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:r,children:o}){return(0,e.h)("div",{ref:a=>this.ref=a,className:s()("visibility-check",r)},o)}}const V={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu",phoneInput:"frontend-components-app_install_modal-module__phoneInput--WrXeR"};var j=je(59009);const Y=({publication:n,user:r,path:o,hideTerms:a,showIntrinioAttrib:_})=>{const{iString:A}=(0,l.M1)();typeof a=="undefined"&&(a=!1);const B=(0,O.Tf)(),k=(0,v.isMobile)(),x=(0,v.isIos)(),J=(0,v.isAndroid)(),pe=k&&(x||J),_e=r&&!r.reader_installed_at,ye=pe&&_e;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(q,{onVisible:()=>{(0,d.track)(d.EVENTS.PUBLICATION_FOOTER_SEEN,{publication_id:n==null?void 0:n.id,user_id:r==null?void 0:r.id,source:ie(o)})}}),(0,e.h)("div",{className:s()("footer",{"themed-background":B})},(0,e.h)("div",{className:"container"},(0,e.h)($,{hideTerms:a,pub:n,showIntrinioAttrib:_}),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:s()("footer-substack-cta","start-publishing",ye&&"app-upsell"),native:!0,href:r!=null&&r.has_publication?`${(0,p.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,p.getSubstackUrl)()}/signup?${(0,p.serializeQuery)({utm_source:j.UTM_SOURCE.substack,utm_medium:j.UTM_MEDIUM.web,utm_content:j.UTM_CONTENT.footer})}`},(0,e.h)(T.Z,null)," ",A("Start Writing")),!ye&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.webFooterButton})},A("Get the app")),ye&&x&&(0,e.h)("a",{className:V.appBadge,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.webFooterButton,force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,p.imginary)("/img/app_page/app-store.png",160*2)})),ye&&J&&(0,e.h)("a",{className:V.appBadge,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.webFooterButton,force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,p.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)(i.xv,{translated:!0,as:"div",className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,p.getSubstackUrl)()}`,native:!0},"Substack")," ","is the home for great writing"))))};function ie(n){return n?n==="/"?"pub-homepage":n.startsWith("/p")?"pub-post":n:"unknown"}const ce=({slug:n,categoriesMap:r,setExpandCategories:o,hide:a})=>{const{iString:_,iTemplate:A}=useI18N();return n==="collapse"?h("u",null,h("a",{onClick:()=>o(!1)},"See less categories")):n==="expand"?h("u",null,h("a",{onClick:()=>o(!0)},"See more categories")):r[n]?h("a",{href:`${getBaseUrl()}/top/${r[n].slug}`,native:!0,style:{display:a?"none":void 0}},A`Top in ${_(r[n].canonical_name)}`):null},de=({categories:n})=>{const{iString:r,iTemplate:o}=useI18N(),[a,_]=useState(!1),A={culture:`/discover/category/culture/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,"food & drink":`/discover/category/food/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,finance:`/discover/category/finance/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,sports:`/discover/category/sports/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,politics:`/discover/category/politics/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,technology:`/discover/category/technology/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,faith:`/discover/category/faith/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,business:`/discover/category/business/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`},B=["culture","food","finance","sports","politics","technology","faith","business"],k=(n==null?void 0:n.length)>0?n==null?void 0:n.lug).fil(J)):[],x={};if((n==null?void 0:n.length)>0)for(const J of n)J&&(x[J.slug]=J);return h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,r("Read")),h("a",{href:`/discover?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Discover")),h("a",{href:`/app?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Get the app")),h("a",{href:`https://on.substack.com/s/stories?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Featured")),h("a",{href:`https://reader.substack.com?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Substack Reader")),h("a",{href:`/discover/category/podcast/paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Top podcasts")),(n==null?void 0:n.length)>0?B.concat(k).concat(a?"collapse":"expand").filst").map(J=>h(ce,{slug:J,categoriesMap:x,setExpandCategories:_,hide:k.includes(J)&&!a})):Object.entries(A).map(([J,pe])=>h("a",{href:pe,native:!0},o`Top in ${J}`))),h("div",{className:"footer-info-col"},h("h3",null,r("Writers")),h("a",{href:`/switch?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Switch to Substack")),h("a",{href:`/ghost?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Switch from Ghost")),h("a",{href:`https://on.substack.com/p/start-a-substack-newsletter?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Get started")),h("a",{href:`/going-paid?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Go paid")),h("a",{href:`/podcasts?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For podcasts")),h("a",{href:`/for-bloggers?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For bloggers")),h("a",{href:`/investing-and-business?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For finance writers")),h("a",{href:`/book?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For authors")),h("a",{href:`/comic-book-creators?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For comic creators")),h("a",{href:`/food-writers?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For food writers")),h("a",{href:`/local-news?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("For local news"))),h("div",{className:"footer-info-col"},h("h3",null,r("Company")),h("a",{href:getAboutUrl(null,{params:{utm_source:UTM_SOURCE.substack,utm_medium:UTM_MEDIUM.web,utm_content:UTM_CONTENT.footer}}),native:!0},r("About")),h("a",{href:getSupportUrl()},r("Help")),h("a",{href:`/jobs?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Jobs")),h("a",{href:`https://on.substack.com?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Blog")),h("a",{href:`/vulnerability-disclosure?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Vulnerability Policy")),h("a",{href:`/contact?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Contact")),h("a",{href:"/sitemap",native:!0},r("Sitemap"))),h("div",{className:"footer-info-col"},h("h3",null,r("Resources")),h("a",{href:`/resources?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Resource center")),h("a",{href:`/going-paid-guide?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Guide to going paid")),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},r("Help center")),h("a",{href:`/community-and-programs?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Community and programs")),h("a",{href:`/brand?utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.web}&utm_content=${UTM_CONTENT.footer}`,native:!0},r("Brand assets")))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},r("Substack is the home for great writing"))))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.wwwFooter}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"web_footer",app_store:"ios"})}},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:UTM_CAMPAIGN.appMarketing,utm_content:UTM_CONTENT.wwwFooter}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"web_footer",app_store:"android"})}},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getSubstackPrivacyUrl(),native:!0},r("Privacy")),h("a",{className:"bottom-item",href:getSubstackTermsUrl(),native:!0},r("Terms")),h("a",{className:"bottom-item",href:getInfoCollectionUrl(),native:!0},r("Collection notice")))))},z={pageContainer:"frontend-components-html_page-module__pageContainer--EjWRc"};class Q extends e.Component{render({html:r,children:o,metadata:a}){return(0,e.h)("div",{className:s()(z.pageContainer,"container-border")},(0,F.setMetaData)(a),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},o,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:r}}))))}}var ae=je(36808);const te="balance-text",oe=100,ue=10,ee=4;function le(n){fe(n)&&(n.style.maxWidth="",se(n,n.clientHeight,0,n.clientWidth)),n.classList.add("visible")}function se(n,r,o,a){if(a-o<ee){n.clientHeight>r?n.style.maxWidth=`${a}px`:n.style.maxWidth=`${n.scrollWidth+1}px`;return}if(o>=a){n.style.maxWidth=`${a}px`;return}const _=(o+a)/2;n.style.maxWidth=`${_}px`,n.clientHeight>r?se(n,r,_,a):se(n,r,o,_)}function fe(n){var r;const o=n.innerHTML,a=n.textContent.split(" "),_=document.createElement("span");_.id="element-first-word",_.textContent=a.shift(),n.innerHTML="",n.appendChild(_),n.appendChild(document.createTextNode(` ${a.join(" ")}`));const A=((r=document.getElementById("element-first-word"))==null?void 0:r.offsetHeight)||_.offsetHeight,B=n.offsetHeight;return n.innerHTML=o,B-ue>A}class ve extends e.Component{constructor(r,o){super(r,o),this.debouncedRebalance=(0,F.debounce)(()=>this.rebalance(),oe)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,en}rebalance(){typeof window!="undefined"&&this.base&&le(this.base)}render({text:r}){return(0,e.h)("span",{"data-testid":"balanced-text",className:te,style:{display:"inline-block"}},r)}}var ge=je(7922),be=je(84040),ne=je(51126),me=je(8925);const Re=({allowAllDay:n,redirect:r,onCancel:o})=>{const[a,_]=(0,t.eJ)(!1);return(0,e.h)(me.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=r||"/",autoLock:!0},(0,e.h)(ne.tu,{gap:8},(0,e.h)(i.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(i.xv.H2,null,"Support Mode"),(0,e.h)(i.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),n&&(0,e.h)("label",null,(0,e.h)(ne.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:A=>_(A.target.checked)})," ",(0,e.h)(i.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),a&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:a?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(ne.gq,{gap:8,paddingTop:8},(0,e.h)(be.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),o&&(0,e.h)(be.zx,{priority:"secondary",onClick:o},"Cancel"))))};var Me=je(3341),Ee=je(26059),we=je(11851),Te=je(34755),De=Object.defineProperty,Be=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,it=(n,r,o)=>r in n?De(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bt=(n,r)=>{for(var o in r||(r={}))Ot.call(r,o)&&it(n,o,r[o]);if(tt)for(var o of tt(r))et.call(r,o)&&it(n,o,r[o]);return n},xe=(n,r)=>Be(n,Ke(r));const Ie=n=>(0,e.h)(Te.l,xe(bt({},n),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function We({text:n,maxLines:r,ellipsesText:o="..."}){const a=(0,t.sO)(null),[_,A]=(0,t.eJ)(n);return(0,t.d4)(()=>{(()=>{if(!a.current)return;a.current.innerText="-";const x=(a.current.clientHeight+1)*r+1;let J=0,pe=0,_e=n.length;for(;J<=_e;){if(pe=Math.floor((J+_e)/2),a.current.innerText=n.slice(0,pe),pe===n.length&&a.current.clientHeight<=x){a.current.innerText="",A(n);return}a.current.clientHeight<=x?J=pe+1:_e=pe-1}const ye=n.slice(0,pe-o.length-2);a.current.innerText="",A(ye+o)})()},[a,n,r,o]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,_),(0,e.h)("div",{ref:a,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var Ge=je(63397),Xe=je(79786),st=je(63270),qe=je(80569),Ze=je.n(qe),mt=je(94930),yt=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const Mt={};function Ht(n,r,o,a,_){return yt(this,arguments,function*(A,B,k,{required:x=!1,group:J=!1,gift:pe=!1},_e){if(!k){_e(null);return}k in Mt||(_e({id:k,required:x,loading:!0}),Mt[k]=yield zt(k));const ye=Mt[k],Pe=ye&&ye.type==="FREE_TRIAL"&&B&&(yield Kt(k));Pe&&Pe.length&&x?_e({id:ye&&ye.id||k,code:ye&&ye.code,name:ye&&ye.name,required:x,error:!0,message:"This coupon has already been redeemed by this user."}):(0,mt.isCouponValid)(ye,{is_group:J,is_gift:pe,paywallFreeTrialEnabled:A.paywall_free_trial_enabled})&&(A.plans||[]).filCe)).length>0?_e(Object.assign({required:x},ye)):_e(x?{id:ye&&ye.id||k,code:ye&&ye.code,name:ye&&ye.name,required:x,error:!0,message:"The coupon is not valid or has expired."}:null)})}function Gt(n){return yt(this,null,function*(){let r;try{if(r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,r&&r.length&&n){const a=yield Kt(r[0].id);if(a&&a.length)throw new Error("User has already redeemed this free trial coupon")}}catch(o){return console.error("Failed to fetch coupons:",o),null}return r.length>0?r[0]:null})}function zt(n){return yt(this,null,function*(){try{return(yield Ze().get(`/api/v1/coupon/${n}`)).body}catch(r){return console.error("Failed to fetch coupon:",r),null}})}function Kt(n){return yt(this,null,function*(){try{return(yield Ze().get(`/api/v1/coupon_redemption/${n}`).query()).body}catch(r){return console.error("Failed to fetch coupon redemptions:",r),null}})}function Ir(n){return yt(this,null,function*(){try{const o=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!o||o.length===0){const a={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(a)}else o[0].valid===!1?yield request.put(`/api/v1/coupon/${o[0].id}`).send(Object.assign({},o[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${o[0].id} already enabled but attempted to be enabled`);return 0}catch(r){return console.error("Failed to create free trial coupon:",r),1}})}function or(){return yt(this,null,function*(){try{const r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!r||r.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${r[0].id}`).send(Object.assign({},r[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(n){return console.error("Failed to disable free trial coupon:",n),null}})}var cr=je(6385),Tt=je(83322),wr=je(4190);const Br=({children:n,separator:r})=>{const o=[],a=(0,e.toChildArray)(n);return a.forEach((_,A)=>{o.push(_),A!==a.length-1&&o.push(r)}),(0,e.h)(e.Fragment,null,o)};var Hr=je(31845),Wr=je(11688),Rr=Object.defineProperty,qr=Object.defineProperties,Xr=Object.getOwnPropertyDescriptors,tn=Object.getOwnPropertySymbols,Cn=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable,En=(n,r,o)=>r in n?Rr(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,mn=(n,r)=>{for(var o in r||(r={}))Cn.call(r,o)&&En(n,o,r[o]);if(tn)for(var o of tn(r))rn.call(r,o)&&En(n,o,r[o]);return n},Ln=(n,r)=>qr(n,Xr(r)),Rn=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const wn="intro_popup_last_hidden_at";function Jn(n,{language:r}){const o=!n.disable_monthly_subscriptions&&n.plans&&n.plans.filter(A=>A.interval==="month").sort((A,B)=>A.amount-B.amount)[0],a=!n.disable_annual_subscriptions&&n.plans&&n.plans.filter(A=>A.interval==="year").sunt)[0],_=o||a;if(_)return(0,Tt.planBasePricing)(_,{language:r})}function nt(n,{includePrice:r=!0,includeRankingDetail:o=!0,includeByline:a=!0,includeBadge:_=!1,rankingDetailOverrideText:A=null,language:B="en"}={}){const k=B||n.language,{iTemplate:x}=I18N.i(B||n.language),J=(0,Tt.getByLine)(n);let pe=null;return o&&(pe=A||(n.rankingDetailByLanguage&&k!=="en"&&n.rankingDetailByLanguage[k]?n.rankingDetailByLanguage[k].rankingDetail:n.rankingDetail)),(0,e.h)(Br,{separator:" \xB7 "},a&&J?(0,e.h)(ne.hs,{inline:!0,gap:4},x`By ${J}`,_&&(0,e.h)(Wr.cr,{module:"../pencraft/unstable/UserBadge",resolve:_e=>_e.UserBadge,onRequest:()=>Promise.all([je.e(2372),je.e(5297)]).then(je.bind(je,95297)),size:"sm",tier:n.author_bestseller_tier,userId:n.author_id,whileLoading:n.author_bestseller_tier?(0,e.h)(ne.hs,{alignItems:"center"},(0,e.h)(Hr.o,{size:"sm",tier:n.author_bestseller_tier})):(0,e.h)(e.Fragment,null)})):null,pe,r&&Jn(n,{language:B}))}function Nt({publication:n,user:r,post:o,onHide:a,freeSignup:_,hidden:A,alwaysShow:B,showOnMount:k,freeSignupEmail:x,coupon:J,email:pe,referralCode:_e,noBalance:ye,blurbs:Pe,launchWelcomePage:Ce}){var Se,Ae;const{getConfigFor:Ne}=(0,st.xR)(),Ve=Ne("welcome_page_query_params"),[ze,Je]=(0,t.eJ)(null),[Ye,ht]=(0,t.eJ)(!1),[wt,Ct]=(0,t.eJ)(!!(Ce||B)),It=(kt,vt)=>{var Cr;return Ve&&(Cr=(0,p.getQueryItem)(kt))!=null?Cr:vt},[At,xt]=(0,t.eJ)(!1),[Dt]=(0,t.eJ)(It("no_skip",void 0)),[jt]=(0,t.eJ)(It("no_blurbs",!1)),[Jt]=(0,t.eJ)(()=>{const kt=It("hero_text",void 0);return kt?decodeURIComponent(kt):void 0}),{getExperimentVariant:lr,exposeExperiment:mr}=(0,wr.jc)();(0,t.d4)(()=>{if(Ce&&!qt()||ur()){if(typeof window!="undefined"&&((0,F.addClass)(document.documentElement,"has-intro-popup"),Ht(n,r,J,{required:!0},kt=>Je(kt))),(0,p.getQueryItem)("r")){const kt=(0,p.getQueryItem)("r");(!r||(0,Tt.userReferralKey)(r)!==kt)&&(0,d.track)(d.EVENTS.COVER_PAGE_REFERRAL_VISIT,{referral_key:kt,referring_user:(0,Tt.userFromReferralKey)(kt)})}Bt()}else a&&a(),(0,H.a)({hide_intro_popup:!0}),typeof window!="undefined"&&(0,F.removeClass)(document.documentElement,"has-intro-popup"),!B&&typeof window!="undefined"&&(0,F.hasClass)(document.documentElement,"show-intro-popup")&&(0,F.removeClass)(document.documentElement,"show-intro-popup");return["no_skip","no_blurbs","hero_text"].forEkt)),()=>{typeof window!="undefined"&&(0,F.removeClass)(document.documentElement,"has-intro-popup"),tr(!0)}},[]);const Xt=()=>{var kt;r&&typeof window!="undefined"&&(lr("call_stop_before_free_signup")==="treatment"&&((kt=window.stop)==null||kt.call(window),xt(!0)),mr("call_stop_before_free_signup"))},Bt=()=>{typeof window!="undefined"&&((0,F.addClass)(document.documentElement,"show-intro-popup"),(0,d.track)(d.EVENTS.COVER_PAGE_SHOWN,{has_cover_photo:!!n.cover_photo_url,has_free_signup_email:!!x,has_free_signup:!!_,functional_version:!0,launch_welcome_page:Ce,always_show:B,hidden:A,test_experiment_variant_v4:lr("test_experiment_v4"),test_experiment_variant_v4_run2:lr("test_experiment_v4_run2")}),mr("test_experiment_v4"),mr("test_experiment_v4_run2"),B||(0,d.sendPublisherGaEvent)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`})),Ct(!0)},ur=()=>B?!0:A?!1:k||Ye?!0:!(qt()||!(typeof o=="undefined"||o===null||o&&!(0,cr.isPaidAudience)(o.audience))||_||r&&(r.is_free_subscribed||r.is_subscribed)),tr=kt=>{kt||(Rt(),setTimeout(()=>{(0,H.a)({hide_intro_popup:!0})},500)),a&&a(),!B&&typeof window!="undefined"&&(0,F.hasClass)(document.documentElement,"show-intro-popup")&&(0,F.removeClass)(document.documentElement,"show-intro-popup")},qt=()=>{const kt=ae.get(wn);if(kt){const vt=new Date(kt),Cr=new Date(Date.now()-24*60*60*1e3);if(vt>Cr)return!0}return!1},Rt=()=>{ae.set(wn,new Date().toJSON(),{expires:365*10})},Ut=kt=>Rn(this,null,function*(){(0,d.track)(d.EVENTS.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!kt.body.prompt_to_login,has_plans:!!n.plans,functional_version:!0}),Rt(),ht(!0),(0,H.a)({freeSignup:!0,freeSignupEmail:kt.body.email});const vt=B?"/":document.location.href;kt.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,p.pathWithQuery)("/account/login",{redirect:vt,email:kt.body.email})},30):document.location.href=(0,p.pathWithQuery)("/subscribe",Ln(mn(mn({next:vt,later:!0,just_signed_up:!0},kt.body.subscription_id&&{subscription_id:kt.body.subscription_id}),kt.body.referral_token&&{referral_token:kt.body.referral_token}),{coupon:J,requires_confirmation:kt.body.requires_confirmation?"true":"",utm_source:j.UTM_SOURCE.coverPage,email:kt.body.email,skip_redirect_check:!0}))}),Ft=()=>{(0,d.track)(d.EVENTS.COVER_PAGE_MAYBE_LATER_CLICKED,{functional_version:!0}),At?(Rt(),location.reload()):tr()};return!wt||!ur()?null:(0,e.h)("div",{className:"intro-popup"},(0,e.h)("div",{className:"intro-popup-page"},(0,e.h)(rr,{source:"cover_page",email:pe,pub:n,user:r,freeSignup:_,freeSignupEmail:x,referralCode:_e,forceSignup:(Ae=(Se=(0,p.getQueryItem)("force"))!=null?Se:Dt)!=null?Ae:void 0,coupon:ze!=null?ze:void 0,onMaybeLater:Dt?void 0:Ft,onFreeSignup:Ut,markAsHidden:Rt,blurbs:Pe,noBalance:ye,hideBlurbs:jt,overrideSubtitle:Jt,beforeSubmit:Xt})))}const Zt=n=>h("div",{className:"intro-inline"},h(rr,mn({},n))),rr=({pub:n,user:r,email:o,freeSignup:a,freeSignupEmail:_,referralCode:A,source:B,coupon:k,forceSignup:x,submitButtonText:J,onMaybeLater:pe,onFreeSignup:_e,noBalance:ye,markAsHidden:Pe,blurbs:Ce,hideBlurbs:Se,overrideSubtitle:Ae,beforeSubmit:Ne})=>{const Ve=(0,t.qp)(L.vz),{iString:ze}=(0,l.M1)(),Je=(0,p.getQueryItem)("referralCode"),Ye=(0,p.getQueryItem)("refSource"),ht=ze("Learn More"),wt=(0,p.getAboutUrl)(n,{params:mn(mn({utm_source:j.UTM_SOURCE.subscribeEmail,utm_content:j.UTM_CONTENT.learnMore},Je&&{referralCode:Je}),Ye&&{refSource:Ye})});(0,t.d4)(()=>{B==="subscribe_page"&&(0,d.track)(d.EVENTS.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN,{functional_version:!0}),(0,d.track)(d.EVENTS.FULL_EMAIL_FORM_SHOWN,{source:B,functional_version:!0})},[B]);const Ct=Ce&&!Se?Ce.fil=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},pe&&!n.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:pe,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(Ee.Z,null)),(0,e.h)($e,{pub:n,noBalance:ye,overrideSubtitle:Ae}),k&&k.required&&(0,e.h)("p",{className:`coupon ${k.loading?"loading":""} ${k.error?"error":""}`},k.loading?ze("Loading coupon"):k.error?ze("Invalid coupon!"):ze("Valid coupon!"),` ${(k.name||k.id).toUpperCase()}`),n.invite_only&&(!r||!r.is_free_subscribed)?(0,e.h)(Mr,{pub:n,user:r,freeSignupEmail:_}):(0,e.h)(e.Fragment,null,(0,e.h)(ne.gq,{justifyContent:"center",style:{width:"100%"}},(0,e.h)(ne.tu,{gap:4,style:{width:"100%",maxWidth:"380px"}},(0,e.h)(Me.Z,{email:o,isWelcomePageColor:!0,freeSignup:a,freeSignupEmail:_,markWelcomePageAsHidden:Pe,pub:n,referralCode:A,source:B,submitButtonText:J,user:r,onConfirmationRequired:n.payments_state==="enabled"?()=>null:void 0,onMaybeLater:pe,onSuccess:_"/"),beforeSubmit:Ne,autoFocus:!0}))),!x&&(pe?(0,e.h)("a",{onClick:It=>It.preventDefault(),className:"no-styles"},(0,e.h)(ge.Z,{className:"maybe-later",onClick:pe},Ve.getSettingFor("welcome_page_opt_out_text")==="No thanks"?ze("No thanks"):Ve.getSettingFor("welcome_page_opt_out_text"),(0,e.h)(Ie,null))):(0,e.h)(ge.Z,{className:"maybe-later",href:wt},ht,(0,e.h)(Ie,null)))),!!(Ct!=null&&Ct.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(Ct!=null&&Ct.length)&&(0,e.h)(ne.gq,{className:"blurbs",gap:20},Ct.map(It=>(0,e.h)(ne.tu,{gap:8,className:"blurb"},(0,e.h)(i.xv.B4,{className:"blurb-text"},(0,e.h)(We,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${It.description}\u201D`})),(0,e.h)(i.xv.B4,{weight:"semibold",className:"blurb-text"},It.author_name||It.recommendingPublication.email_from_name||It.recommendingPublication.copyright,","," ",(0,e.h)("a",{href:(0,p.getBaseUrl)(It.recommendingPublication)},It.recommendingPublication.name)))))),(0,e.h)(N,{publication:n}))};class Pr extends e.Component{constructor(){super(...arguments),this.emailInput=null,this.customerSupportModeModal=null,this.form=null,this.canTurnOnCustomerSupportMode=()=>{const r=this.props.user;return(r==null?void 0:r.is_global_admin)&&!(r!=null&&r.is_admin)},this.showCustomerSupportModeModal=()=>{var r;this.canTurnOnCustomerSupportMode()&&((r=this.customerSupportModeModal)==null||r.open())}}componentDidMount(){var r;const o=this.props.freeSignupEmail||this.props.user&&this.props.user.email;o&&this.emailInput?this.emailInput.value=o:!o&&!(0,F.isMobileBrowser)()&&((r=this.emailInput)==null||r.focus())}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)(Ge.p,{className:"account-info-customer-support-mode-modal",ref:r=>this.customerSupportModeModal=r},(0,e.h)(Re,{redirect:(0,p.getQueryItem)("redirect")||"/publish/home",onCancel:r=>{var o;return(o=this.customerSupportModeModal)==null?void 0:o.close(r)},allowAllDay:!1}))}render({pub:r,user:o,freeSignupEmail:a,iString:_},{loading:A,success:B}){const k=a||o&&o.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(me.ZP,{className:"subscription-request-form",ref:x=>this.form=x,noInlineErrors:!0,action:(0,p.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,p.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSucc0}),onError:x=>{this.setState({loading:!1}),alert((0,F.getNetworkErrorMessage)(x,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:E.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:E.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:E.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:E.xU}),!!k&&(0,F.inputPrefillHack)(),(0,e.h)(ne.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:x=>this.emailInput=x,readOnly:!!(k||A),disabled:!!(A||B||k),placeholder:_("Type your email...")}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(ge.Z,{className:s()(B?"secondary":"primary"),type:"submit",disabled:!!(A||B),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},_(B?"Requested":"Subscribe"))))),(0,e.h)(ne.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(we.Z,{className:"private-lock-icon"}),(0,e.h)(ne.tu,{gap:2},(0,e.h)(i.xv.B4,{translated:!0,weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(i.xv.B4,{translated:!0,className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:r.subdomain,redirect:"/",change_user:!!(o||a)}),native:!0},(0,e.h)(i.xv,{as:"span",translated:!0},"Already a member?")," ",o||a?(0,e.h)(i.xv,{weight:"bold",as:"span",translated:!0},"Switch accounts"):(0,e.h)(i.xv,{weight:"bold",as:"span",translated:!0},"Sign in")))}}Pr.state={loading:!1,success:!1};const Mr=(0,l.fz)(Pr),$e=({pub:n,noBalance:r,overrideSubtitle:o})=>{var a;const{getSettingFor:_}=(0,L.So)(),{getConfigFor:A}=(0,st.xR)(),{language:B}=(0,l.M1)(),k=A("section_specific_welcome_pages");let x,J,pe,_e,ye,Pe;k&&n.section?(x=n.section.name,J=n.section.description,pe=(a=n.section.logo_url)!=null?a:n.logo_url,_e=n.section.cover_photo_url,ye=!!(_e&&n.section.hide_intro_title),Pe=!!(_e&&n.section.hide_intro_subtitle)):(x=n.name,J=n.hero_text,pe=n.logo_url,_e=n.cover_photo_url,ye=!!(_e&&n.hide_intro_title),Pe=!!(_e&&n.hide_intro_subtitle)),o&&(J=o);const Ce=_("display_welcome_page_details"),Se=_e&&(0,p.extractDimensionsFromImageUrl)(_e);return(0,e.h)(e.Fragment,null,_e?(0,e.h)(Xe.e,{className:"publication-cover-photo",src:_e,imageProps:{quality:"auto:best"},maxWidth:1360,loading:"eager",style:mn({},Se&&Se.width&&{height:`min(35vh, ${680*Se.height/Se.width}px)`})}):pe&&(0,e.h)(Xe.e,{className:"publication-logo",src:pe,imageProps:{quality:"auto:best"},maxWidth:264,loading:"eager"}),!ye&&(0,e.h)("h1",{className:s()("publication-name",{"no-logo":!pe,"with-cover":_e})},r?x:(0,e.h)(ve,{text:x})),!Pe&&J&&(0,e.h)("p",{className:s()("publication-tagline with-cover",{verbose:!0,"with-cover":_e})},r?J:(0,e.h)(ve,{text:J})),(0,e.h)("div",{className:"publication-meta"},nt(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:!!Ce,language:B})))};function at(n,r){for(const[o,a]of Object.entries(r))a!=null&&(n[o]=a);return n}function ke(n){return Object.fromEntries(Object.entries(n).filull))}function Qe(n){var r,o,a;return n.link_title||((r=n.postTag)==null?void 0:r.name)||((o=n.section)==null?void 0:o.name)||((a=n.post)==null?void 0:a.title)||""}function dt(n){var r;return n.postTag?"tag":n.section?"section":((r=n.post)==null?void 0:r.type)==="page"?"page":n.post?"post":"link"}function Lt(n,{isPodcastActive:r,isChatActive:o,isMeetingsActive:a,hasMultipleNewsletters:_,isChatEnabled:A,isFeedEnabled:B,isReaderReferralsLeaderboardActive:k,language:x="en"}){var J;const pe=n.filkey),_e=new Map(n.filter(Ce=>Ce.standard_key).Ce])),{iString:ye}=I18N.i(x);for(const Ce of pe)(J=Ce.section)!=null&&J.hide_from_navbar&&(Ce.is_hidden=!0);const Pe=[B&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},A&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!o},a&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...pe,{standard_key:"archive",link_title:ye("Archive"),link_url:"/archive"},_&&{standard_key:"newsletters",link_title:ye("Newsletters"),link_url:"/newsletters",is_hidden:!0},k&&{standard_key:"leaderboard",link_title:ye("Leaderboard"),link_url:"/leaderboard"},{standard_key:"about",link_title:ye("About"),link_url:"/about"}].filter(Ce=>!!Ce);for(const Ce of Pe)if(Ce.standard_key){const Se=_e.get(Ce.standard_key);Se&&at(Ce,Se)}return Pe}var gt=je(20501),ct=je(98661),Qt=Object.defineProperty,He=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,St=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable,pr=(n,r,o)=>r in n?Qt(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,dr=(n,r)=>{for(var o in r||(r={}))Vt.call(r,o)&&pr(n,o,r[o]);if(St)for(var o of St(r))Yt.call(r,o)&&pr(n,o,r[o]);return n},vr=(n,r)=>He(n,ft(r)),nr;const Ar=typeof window!="undefined"&&window._preloads||wr.xu,sn=typeof window!="undefined"?(nr=window._preloads)==null?void 0:nr.siteConfigs:{},Nr=(n,r)=>dr(dr({},(0,wr.ng)(n,r)),(0,st.Xz)(n)),Gr=(0,e.createContext)(Nr(sn,Ar));Gr.displayName="ExperimentsAndSiteConfigContext";function pn({siteConfigs:n={},experimentInfo:r,children:o}){const a=r||Ar,_=(0,t.,a),[n,a]);return(0,e.h)(Gr.Provider,{value:_},o)}function dn(){return useContext(Gr)}const vn=n=>{const r=forwardRef((o,a)=>{const _=dn();return h(n,vr(dr(dr({},_),o),{ref:a}))});return r.displayName=`withExperimentsAndSiteConfigContext(${n.displayName||n.name||"Anonymous"})`,r};var Zr=je(44396),Bn=je(85928),Sr=je.n(Bn),$r=je(87021);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=(0,$r.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=(0,$r.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=(0,$r.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var jn=je(97868),Qn=Object.defineProperty,Vn=Object.defineProperties,to=Object.getOwnPropertyDescriptors,ho=Object.getOwnPropertySymbols,yo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,Fo=(n,r,o)=>r in n?Qn(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ao=(n,r)=>{for(var o in r||(r={}))yo.call(r,o)&&Fo(n,o,r[o]);if(ho)for(var o of ho(r))ko.call(r,o)&&Fo(n,o,r[o]);return n},No=(n,r)=>Vn(n,to(r));const na=n=>(0,e.h)(Te.l,No(Ao({},n),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var oa=Object.defineProperty,To=Object.defineProperties,ao=Object.getOwnPropertyDescriptors,Lo=Object.getOwnPropertySymbols,Kn=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable,ro=(n,r,o)=>r in n?oa(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Wo=(n,r)=>{for(var o in r||(r={}))Kn.call(r,o)&&ro(n,o,r[o]);if(Lo)for(var o of Lo(r))mo.call(r,o)&&ro(n,o,r[o]);return n},Xa=(n,r)=>To(n,ao(r));const Qa=n=>(0,e.h)(Te.l,Xa(Wo({},n),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var Pi=Object.defineProperty,qa=Object.defineProperties,ba=Object.getOwnPropertyDescriptors,Eo=Object.getOwnPropertySymbols,da=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,pt=(n,r,o)=>r in n?Pi(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Et=(n,r)=>{for(var o in r||(r={}))da.call(r,o)&&pt(n,o,r[o]);if(Eo)for(var o of Eo(r))ut.call(r,o)&&pt(n,o,r[o]);return n},er=(n,r)=>qa(n,ba(r));const Er=n=>(0,e.h)(Te.l,er(Et({},n),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Or=Object.defineProperty,gr=Object.defineProperties,Tr=Object.getOwnPropertyDescriptors,Dr=Object.getOwnPropertySymbols,en=Object.prototype.hasOwnProperty,zr=Object.prototype.propertyIsEnumerable,Qr=(n,r,o)=>r in n?Or(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,hn=(n,r)=>{for(var o in r||(r={}))en.call(r,o)&&Qr(n,o,r[o]);if(Dr)for(var o of Dr(r))zr.call(r,o)&&Qr(n,o,r[o]);return n},bn=(n,r)=>gr(n,Tr(r));const kn=n=>(0,e.h)(Te.l,bn(hn({},n),{name:"LucideTabHome",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3.00034 9.4876C3.00034 9.17901 3.14281 8.88919 3.3864 8.69973L12.0003 2L20.6143 8.69973C20.8579 8.88919 21.0003 9.17923 21.0003 9.48782C21.0003 12.4545 21.0003 22 21.0003 22H15V15C15 13.3431 13.6569 12 12 12V12C10.3431 12 9 13.3431 9 15V22H3C3 22 3.00032 13.9501 3.00034 9.4876Z","stroke-linecap":"round","stroke-linejoin":"round"}));var no=Object.defineProperty,io=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,_r=(n,r,o)=>r in n?no(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ur=(n,r)=>{for(var o in r||(r={}))_t.call(r,o)&&_r(n,o,r[o]);if(ot)for(var o of ot(r))Wt.call(r,o)&&_r(n,o,r[o]);return n},ln=(n,r)=>io(n,Fe(r));const An=n=>(0,e.h)(Te.l,ln(Ur({},n),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"})),oo=(0,e.createContext)(!1);var bo=je(85065);function Ro(n,r){if(n){if(!n.has_publication&&!n.subdomain)return{type:"no-dashboard",url:(0,p.getStartPublishingUrl)(r)};if(n.subdomain)return{type:"dashboard",url:(0,p.getDashboardUrlForSubdomain)(n.subdomain,{params:r})}}return null}function Ba(n,r){return n!=null&&n.profile_set_up_at?(0,p.getReaderProfileUrl)(n,r):(0,p.getProfileSetupUrl)(r!=null&&r.utm_source?{utm_source:r.utm_source}:voids"}var Pa=je(22850),ka=je(51415),Zo=je(44454);const Fa={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function aa({className:n,responsive:r,count:o}){return(0,e.h)(ne.hs,{alignItems:"center",justifyContent:"center",radius:12,className:s()(Fa.badge,r&&Fa.responsive,!o&&Fa.binary,n)},o&&(0,e.h)(i.xv.Digit,{color:"bg-light"},o<100?o:"99+"))}var Yo=je(74285),so=je(67963),Oi=Object.defineProperty,_n=Object.defineProperties,Jo=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,Ci=Object.prototype.propertyIsEnumerable,Gi=(n,r,o)=>r in n?Oi(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,wi=(n,r)=>{for(var o in r||(r={}))ia.call(r,o)&&Gi(n,o,r[o]);if(co)for(var o of co(r))Ci.call(r,o)&&Gi(n,o,r[o]);return n},ti=(n,r)=>_n(n,Jo(r)),Oa=(n,r)=>{var o={};for(var a in n)ia.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&co)for(var a of co(n))r.indexOf(a)<0&&Ci.call(n,a)&&(o[a]=n[a]);return o};const _o=j.UTM_SOURCE.userMenu,Si=`https://support.substack.com/hc/en-us/?utm_source=${_o}`,zi=40;function uc(n){var r=n,{user:o,pub:a}=r,_=Oa(r,["user","pub"]);const{iString:A}=(0,l.M1)(),B=(0,t.qp)(oo);return(0,e.h)(e.Fragment,null,o?(0,e.h)(cc,ti(wi({},_),{user:o,pub:a})):(0,e.h)(ge.Z,{href:(0,p.getSigninUrl)({for_pub:a==null?void 0:a.subdomain}),native:"true",className:s()("sign-in-link outline-grayscale",{"force-desktop":B})},A("Sign in")))}function cc(n){var r=n,{className:o,user:a,pub:_,showBadge:A=!0}=r,B=Oa(r,["className","user","pub","showBadge"]);const{iString:k}=(0,l.M1)(),{activityUnreadCount:x}=(0,bo.lR)(),J=(0,t.qp)(oo),pe=(0,Zr.XA)()&&!J,{element:_e,toggle:ye}=Sl(ti(wi({},B),{user:a,pub:_}));return(0,e.h)(ge.Z,{className:s()(o,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":J}),onClick:ye},pe&&A&&x>0&&(0,e.h)(ka.in,{className:s()("user-indicator-badge",x<10&&"user-indicator-badge-circle")},(0,e.h)(u.hs,{alignItems:"center",justifyContent:"center"},x<100?x:"99+")),(0,e.h)(eo,{className:s()("user-indicator-icon",{"force-desktop":J}),size:20,strokeWidth:2}),(0,e.h)("img",{className:s()("menu-trigger-image",{"force-desktop":J}),src:(0,p.imginary)((0,p.getUserPhotoUrl)(a),2*zi,{height:2*zi,crop:"fill"})}),_e)}function xf(n){var r=n,{user:o}=r,a=Oa(r,["user"]);const{element:_,toggle:A}=Sl(ti(wi({},a),{user:o}));return h(Fragment,null,h(UnstyledButton,{resetCss:!0,onClick:A},h(Avatar,{user:o,size:36})),_)}function Sl({user:n,pub:r,enableCustomerServiceMode:o,disableCustomerServiceMode:a,freeSignup:_,fixedTooltip:A}){var B;const{iString:k}=(0,l.M1)(),{activityUnreadCount:x}=(0,bo.lR)(),[J,pe]=(0,Zo.EJ)(),_e=(0,st.xR)(),ye=(0,so.SE)(),{getExposedVariant:Pe}=(0,wr.jc)();let Ce="",Se="";n&&(Ce=n!=null&&n.profile_set_up_at&&n.name?n.name:n.email,Se=n!=null&&n.profile_set_up_at?n.name?n.email:null:k("Set up your profile"));const Ae=({active:Ye})=>{(0,d.track)(Ye?d.EVENTS.USER_MENU_OPENED:d.EVENTS.USER_MENU_DISMISSED)},Ne=n?Ro(n,{utm_source:_o}):null,Ve=r&&(_||n&&(n.is_subscribed||n.is_free_subscribed)),ze=Ba(n,{utm_source:_o});return{element:(0,e.h)(Yo.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(Zo.ZP,{className:s()({"fixed-tooltip":A}),ref:J,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:Ae},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:ze,className:"profile-header",onClED)},(0,e.h)("img",{className:"header-user-image",src:(0,p.imginary)((0,p.getUserPhotoUrl)(n),2*zi,{height:2*zi,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},Ce),Se&&(0,e.h)("div",{className:"h2"},Se))),(0,e.h)("hr",null),n&&(0,e.h)(e.Fragment,null,(0,e.h)(Po,{url:(0,p.getFeedUrl)({urlParams:{utm_source:_o}}),analyticsEvent:d.EVENTS.USER_MENU_FEED_CLICKED},(0,e.h)(ri,{Icon:kn})," ",k("Home")),(0,e.h)(Po,{url:(0,p.getBaseReaderUrl)({utm_source:_o}),analyticsEvent:d.EVENTS.USER_MENU_READER_CLICKED},(0,e.h)(ri,{Icon:An})," ",k("Inbox")),(0,e.h)(Po,{url:(0,p.getBrowseCategoryUrl)(),analyticsEvent:d.EVENTS.USER_MENU_DISCOVER_CLICKED},(0,e.h)(ri,{Icon:Er})," ",k("Explore")),(0,e.h)(Po,{url:(0,gt.getChatUrl)(),analyticsEvent:d.EVENTS.USER_MENU_CHAT_CLICKED},(0,e.h)(ri,{Icon:Qa})," ",k("Chat")),(0,e.h)(Po,{url:(0,p.getNotificationsUrl)({utm_source:_o}),analyticsEvent:d.EVENTS.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(ri,{Icon:na})," ",k("Activity"),x>0?(0,e.h)(aa,{className:"indicator-badge",count:x}):null),(0,e.h)(Po,{url:Ne.url},(0,e.h)(ri,{Icon:Ne.type==="no-dashboard"?uo:Xn,className:"start-writing-icon"})," ",Ne.type==="no-dashboard"?k("Start writing"):k("Writer dashboard"))),(0,e.h)("hr",null),Ve&&(0,e.h)(Po,{className:"secondary-item",url:(0,p.pathWithQuery)("/account",{utm_source:_o}),analyticsEvent:d.EVENTS.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},k("Manage subscription")),_e.getConfigFor("credit_tokens_enabled")&&(((B=ye.userSettings)==null?void 0:B.creditTokensTreatmentExposed)||n.has_credit_token||Pe("credit_tokens_post_subscribe_modal")==="treatment")&&(0,e.h)(Po,{className:"secondary-item",url:(0,gt.getInviteFriendsCreditPageUrl)({utm_source:_o}),analyticsEvent:d.EVENTS.USER_MENU_INVITE_FRIENDS_CLICKED},k("Invite friends")),(0,e.h)(Po,{className:"secondary-item",url:(0,p.getGlobalAccountSettingsUrl)({utm_source:_o}),analyticsEvent:d.EVENTS.USER_MENU_ACCOUNT_SETTINGS_CLICKED},k("Settings")),(0,e.h)(Po,{className:"secondary-item",url:Si},k("Support")),(0,e.h)(Po,{className:"secondary-item",url:(0,p.getSignoutUrl)({utm_source:_o,for_pub:r==null?void 0:r.subdomain})},k("Sign out")),o&&(0,e.h)(Po,{className:"secondary-item",onClick:()=>{var Ye;(Ye=J.current)==null||Ye.close(),o()}},"Enter support mode"),a&&(0,e.h)(Po,{className:"secondary-item",onClick:a},"Exit support mode"),r&&(n==null?void 0:n.is_global_admin)&&(0,e.h)(Po,{className:"secondary-item",url:`${(0,p.getBaseUrl)({subdomain:"admin"})}/publications/${r.id}`},"Open in underground"),!(n!=null&&n.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(Po,{className:"special-item",url:(0,p.getAppMarketingUrl)({utm_campaign:j.UTM_CAMPAIGN.appMarketing,utm_content:j.UTM_CONTENT.userMenuLink})},k("Get the app")," ",(0,e.h)(I.Z,{className:"item-badge branded",color:Pa.Hu}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,p.getHomeUrl)({utm_source:_o})},k("About")),(0,e.h)("a",{href:(0,p.getPublisherPrivacyUrl)({pub:r,utm_source:_o})},k("Privacy")),(0,e.h)("a",{href:(0,p.getPublisherTermsUrl)({pub:r,utm_source:_o})},k("Terms")),(0,e.h)("a",{href:(0,p.getInfoCollectionUrl)({utm_source:_o})},k("Collection notice"))))))),toggle:pe}}function Po({className:n,url:r,analyticsEvent:o,onClick:a,children:_}){return(0,e.h)("a",{className:`indicator-menu-item ${n}`,onClick:A=>{o&&(0,d.track)(o),a&&a(A)},href:r,native:!0},_)}const dc=20;function ri({Icon:n,className:r}){return(0,e.h)(n,{className:s()(r,"indicator-item-icon"),height:dc,stroke:"var(--color-primary)",strokeWidth:2})}var fc=Object.defineProperty,pc=Object.defineProperties,hc=Object.getOwnPropertyDescriptors,Zi=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,Il=Object.prototype.propertyIsEnumerable,Ml=(n,r,o)=>r in n?fc(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Dl=(n,r)=>{for(var o in r||(r={}))Tl.call(r,o)&&Ml(n,o,r[o]);if(Zi)for(var o of Zi(r))Il.call(r,o)&&Ml(n,o,r[o]);return n},mc=(n,r)=>pc(n,hc(r)),_c=(n,r)=>{var o={};for(var a in n)Tl.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Zi)for(var a of Zi(n))r.indexOf(a)<0&&Il.call(n,a)&&(o[a]=n[a]);return o};const Yi=(0,e.createContext)({country:"US"});Yi.displayName="LocaleContei)}function vc(n){var r=n,{children:o}=r,a=_c(r,["children"]);const _=(0,t.Ye)(()=>a,Object.values(a));return(0,e.h)(Yi.Provider,{value:_},o)}function Uf(n){const r=forwardRef((o,a)=>{const _=gc();return h(n,mc(Dl(Dl({},_),o),{ref:a}))});return r.displayName=`withLocaleContext(${n.displayName||n.name||"Anonymous"})`,r}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=(0,$r.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var Pn=je(8479),Gn=je(12876),he=je(5285),Ue=je(27484),rt=je.n(Ue);const lt={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},Pt=n=>{const r=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,d.track)(d.EVENTS.NOTIFICATIONS_ALERT_SHOWN,r.reduce((o,a)=>(o[a]=n==null?void 0:n[a],o),{}))};function $t(){var n;const{activityUnreadCount:r}=(0,bo.lR)(),{exposeExperiment:o,getExperimentVariant:a}=(0,wr.jc)(),{isLoading:_,result:A,refetch:B}=(0,Pn.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,t.()},[r]);const[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)(!1),{isLoading:_e,fetch:ye,result:Pe}=(0,Wr.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([je.e(9593),je.e(2685),je.e(8534),je.e(2910),je.e(1321),je.e(3565)]).then(je.bind(je,23525)),fetchImmediately:!1}),Ce=rt()(),{userSettings:Se,changeSetting:Ae}=(0,so.SE)(),Ne=(n=A==null?void 0:A.activityItems)==null?void 0:n[0],Ve=Ne!=null&&Ne.created_at?rt()(Ne==null?void 0:Ne.created_at):Ce.subtract(100,"year"),ze=Se!=null&&Se.last_notification_alert_shown_at?rt()(Se.last_notification_alert_shown_at):Ce.subtract(100,"year"),Je=Ce.diff(Ve,"day")<7&&Ve.diff(ze,"hour")>2,Ye=(0,t.sO)(null),ht=2e3,wt=6e3t)},It=()=>{Ct(),Ye.current=window.setTimeout(()=>{x(!1)},wt)};return(0,t.d4)(()=>{Je&&r>0&&(o("notification_alert_improved"),a("notification_alert_improved")==="treatment"&&(Pe&&!k?window.setTimeout(()=>{x(!0),Ae("last_notification_alert_shown_at",rt()().toISOString()),Pt(Ne),It()},ht):!Pe&&!_e&&ye()))},[_,A,r,_e,Je,k,x]),(0,e.h)(e.Fragment,null,(k||J)&&(0,e.h)(he.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:k,beforeEnter:()=>pe(!0),afterLeave:()=>pe(!1),enter:lt.transition,enterFrom:lt.enterFrom,enterTo:lt.enterTo,leave:lt.transition,leaveFrom:lt.leaveFrom,leaveTo:lt.leaveTo},(0,e.h)(ne.hs,{radius:12,border:"detail",className:lt.alert,onMouseEnter:Ct,onMouseLeave:It,shadow:"lg",bg:"elevated"},(0,e.h)(Wr.cr,{module:"./MiniNotificationsViewer",resolve:At=>At.MiniNotificationsStack,onRequest:()=>Promise.all([je.e(9593),je.e(2685),je.e(8534),je.e(2910),je.e(1321),je.e(3565)]).then(je.bind(je,23525)),result:A,isReadOnly:!0,closeMenu:()=>{x(!1)}}))))}var ir=je(95042);function fr({fill:n="outline",canShowAlerts:r=!1}){const o=(0,bo.lR)(),a=(0,Pn.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,t.d4)(()=>{o.activityUnreadCount>0&&(0,d.track)(d.EVENTS.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:o.activityUnreadCount})},[o.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(Gn.v2,{trigger:(0,e.h)(be.hU,{className:ir.Z.trigger,"aria-label":"View activity",size:40,fill:n,priority:"secondary",onMouseEnter:()=>Promise.all([je.e(9593),je.e(2685),je.e(8534),je.e(2910),je.e(1321),je.e(3565)]).then(je.bind(je,23525))},(0,e.h)(yc,{"aria-hidden":!0,size:20,strokeWidth:2}),o.activityUnreadCount>0&&(0,e.h)(ka.in,{className:s()(ir.Z.badge,o.activityUnreadCount<10&&ir.Z.circle)},(0,e.h)(ne.hs,{alignItems:"center",justifyContent:"center"},o.activityUnreadCount<100?o.activityUnreadCount:"99+"))),onOh(),maxHeight:"fit-content",padding:0},(0,e.h)(Wr.cr,{module:"./activity/MiniNotificationsViewer",resolve:_=>_.MiniNotificationsViewer,onRequ5)),resource:a,whileLoading:(0,e.h)(ne.hs,{style:{width:400}})})),r&&(0,e.h)($t,null))}var yr=je(91041),nn=je(75425);const jo={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"};var zn=je(24840),Yr=je(89581),Lr=je(33510),Ts=je(63295),Ec=je(12650),xn=je(31058);const Oo={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var Nb=Object.defineProperty,Lb=Object.defineProperties,Rb=Object.getOwnPropertyDescriptors,Bf=Object.getOwnPropertySymbols,xb=Object.prototype.hasOwnProperty,Ub=Object.prototype.propertyIsEnumerable,kf=(n,r,o)=>r in n?Nb(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ff=(n,r)=>{for(var o in r||(r={}))xb.call(r,o)&&kf(n,o,r[o]);if(Bf)for(var o of Bf(r))Ub.call(r,o)&&kf(n,o,r[o]);return n},Wf=(n,r)=>Lb(n,Rb(r));const jf=({pub:n,isSignedIn:r})=>{const[o,a]=(0,t.eJ)(!1),{triggerProps:_,layerProps:A,renderLayer:B,isOpen:k,setOpen:x}=(0,Yr.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}}),J=(0,t.I4)(_e=>{_e==="escape"&&(a(!1),x(!1))},[x]),pe=Bb({pub:n,onSearchChange:J,resultsLayerProps:A});return(0,t.0)},[pe.query,x]),(0,e.h)(e.Fragment,null,(0,e.h)(ne.gq,Wf(Ff({},_),{className:s()(Oo.searchWrapper,o&&Oo.active,r?Oo.marginLeft:Oo.marginRight),style:{width:o?"400px":"40px"},paddingLeft:o?16:0,alignItems:"center",justifyContent:o?"space-between":"center",onClick:o?void 0:()=>{a(!o),pe.focus()},gap:4}),(0,e.h)(zn.Z,{className:Oo.trigger,"area-hidden":!0,size:20,strokeWidth:2}),o&&pe.input),k&&B(pe.results))};function Bb({pub:n,onSearchChange:r,resultsLayerProps:o}){var a;const{getConfigFor:_}=(0,st.xR)(),A=!!((a=_("platform_searcher_enabled"))!=null&&a),{iString:B}=(0,l.M1)(),[k,x]=(0,t.eJ)(""),J=(0,t.sO)(null),pe=(0,Pn.ib)({pathname:"/api/v1/post/search",query:{query:k,focusedPublicationId:n.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(A)},deps:[k],auto:!1}),_e=(0,t.I4)(ye=>{ye.key==="Enter"?k&&(window.location.href=(0,p.getDiscoverSearchUrl)({query:k,params:{focusedPublicationId:n.id}})):ye.key==="Escape"&&(x(""),r==null||r("escape"))},[r,k,n]);return(0,t.()},[]),(0,t.d4)(()=>{if(k.length){const ye=setTimeout(pe.refetch,300);return()=>clearTimeout(ye)}},[k]),{query:k,fetch:pe,focus:()=>setTimeout(()=>{var ye;return(ye=J.current)==null?void 0:ye.focus()},0),input:(0,e.h)("input",{ref:J,className:s()(Oo.searcher),placeholder:B("Search..."),value:k,onChange:ye=>{x(ye.target.value),r==null||r("input")},onKeyDown:_e,autoFocus:!0}),results:(0,e.h)(kb,{pub:n,searchQuery:k,searchFetch:pe,layerProps:o})}}const kb=({pub:n,searchQuery:r,searchFetch:o,layerProps:a})=>{var _,A,B,k,x;const{getConfigFor:J}=(0,st.xR)(),pe=!!((_=J("platform_searcher_enabled"))!=null&&_),{iTemplate:_e}=(0,l.M1)(),ye=(pe?(A=o.result)==null?void 0:A.focused:(B=o.result)==null?void 0:B.results)||[],Pe=pe?((k=o.result)==null?void 0:k.results)||[]:[],Ce=((x=o.result)==null?void 0:x.publications)||[];return(0,e.h)(ne.tu,Wf(Ff({},a),{radius:12,className:Oo.dropdown,border:"detail-themed"}),!o.hasLoadedOnce||o.isLoading&&!ye.length&&!Pe.length?(0,e.h)(ne.gq,{radius:12,paddingY:20,className:Oo.loading,justifyContent:"center"},(0,e.h)(Lr.Sv,{size:40})):o.error?(0,e.h)(ne.gq,{radius:12,className:Oo.error,justifyContent:"start"},(0,e.h)(i.xv.B3,{translated:!0,color:"pub-primary-text"},"Something went wrong.")):!ye.length&&!Pe.length?(0,e.h)(ne.gq,{radius:12,padding:20,className:Oo.empty,justifyContent:"start"},(0,e.h)(i.xv.B3,{translated:!0,color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',I18N.p(r),'"'))):(0,e.h)(e.Fragment,null,ye.map((Se,Ae)=>(0,e.h)(Vf,{key:Se.id,pub:n,post:Se,isFirst:Ae===0,isLast:!Pe.length&&Ae===ye.length-1,hideBottomBorder:Pe.length>0})),Pe.length>0&&(0,e.h)(ne.gq,{className:Oo.more,paddingX:24,paddingY:8},(0,e.h)(i.xv.B4,{weight:"semibold",color:"pub-primary-text"},ye.length?_e`More results from across Substack`:_e`No results found on ${n.name}. More results from across Substack`)),Pe.map((Se,Ae)=>{const Ne=Ce.find(Ve=>Ve.id===Se.publication_id);return Ne?(0,e.h)(Vf,{key:Se.id,pub:Ne,post:Se,isLast:Ae===Pe.length-1,includePublication:!0}):null}),(0,e.h)(ne.gq,{className:Oo.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,p.getDiscoverSearchUrl)({query:r,params:{focusedPublicationId:n.id}})}},(0,e.h)(i.xv.B4,{translated:!0,color:"pub-primary-text",weight:"semibold"},"See more results..."))))},Vf=({pub:n,post:r,includePublication:o=!1,hideBottomBorder:a=!1,isLast:_=!1,isFirst:A=!1})=>{var B;const k=(B=r.reactions["\u2764"])!=null?B:0,{language:x}=(0,l.M1)();return(0,e.h)(ne.gq,{paddingX:12,onClick:()=>{window.location.href=(0,p.getPostUrl)(n,r)},width:"100%"},(0,e.h)(ne.tu,{marginHeight:4,paddingTop:A?12:8,paddingBottom:_?12:8,borderBottom:a?void 0:"detail-themed"},(0,e.h)(ne.gq,{className:Oo.result,gap:16,padding:12,radius:12},r.cover_image&&(0,e.h)("img",{src:(0,p.imginary)(r.cover_image,120,{height:80,smartCrop:!0}),alt:r.cover_image_alt||"",className:Oo.photo}),(0,e.h)(ne.tu,{gap:4,className:Oo.metadata},o&&(0,e.h)(i.xv.Meta,null,n.name),(0,e.h)(i.xv.H4,{color:"pub-primary-text"},r.title),!!r.subtitle&&(0,e.h)(i.xv.B4,{color:"pub-primary-text"},r.subtitle),(0,e.h)(ne.gq,{alignItems:"center",gap:4},(0,e.h)(i.xv.Meta,{color:"pub-secondary-text",className:s()(Oo.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:Sr()(r.post_date).toISOString()},(0,xn.fh)({post:r,showDatetime:!1,language:x}))),k>0&&(0,e.h)(e.Fragment,null,(0,e.h)(Ec.Z,{stroke:"var(--color-light-secondary)",fill:"transparent",height:16}),(0,e.h)(i.xv.Meta,{color:"pub-secondary-text",className:Oo.paddingRight},k)),r.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(Ts.Z,{stroke:"var(--color-light-secondary)",fill:"transparent",height:16}),(0,e.h)(i.xv.Meta,{color:"pub-secondary-text"},r.comment_count)))))))};var Al=je(96098);const Fb={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function Wb({children:n}){return(0,e.h)("div",{className:Fb.pubAccentTheme},n)}var Is=je(32224),Nl=je(31131),jb=je(65445),Vb=je(28596),Ji=je(99869),ni=je(91004),Hb=je(68227),Kb=je(17835),$b=je(9e3),Hf=je(66839),Gb=je(53919);const Ti={trigger:"frontend-components-NavbarShare-module__trigger--Q9Atc",divider:"frontend-components-NavbarShare-module__divider--b6jjb",offset:"frontend-components-NavbarShare-module__offset--kvTRt",shareIconContainer:"frontend-components-NavbarShare-module__shareIconContainer--TBJmh",dropdownMenu:"frontend-components-NavbarShare-module__dropdownMenu--BsGs1"};var zb=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});function Kf({pub:n,user:r}){const{iString:o}=(0,l.M1)(),[a,_]=(0,t.eJ)(!1),A=(0,gt.getBaseUrl)(n),B={utm_source:j.UTM_SOURCE.navbar,utm_medium:j.UTM_MEDIUM.web,r:r!=null&&r.id?r.id.toString(36):null},k=(0,gt.pathWithQuery)(A,B),x=()=>{(0,ni.Wn)({shareUrl:k,shareName:n.name,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},J=()=>{(0,ni.Po)({shareUrl:k,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},pe=()=>{(0,ni.lc)({shareUrl:k,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},_e=()=>{(0,ni.BZ)({shareUrl:k,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},ye=()=>{(0,ni.WZ)({shareUrl:k,shareName:`Subscribe to ${n.name}`,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},Pe=()=>{(0,ni.Ui)({shareUrl:k,pub:n,utm_campaign:j.UTM_CAMPAIGN.navbar})},Ce=()=>zb(this,nD)}),Se=(0,e.h)(be.hU,{className:s()(Ti.trigger),"aria-label":o("Share Publication"),size:40,fill:"borderless",priority:"secondary"},(0,e.h)(Nl.Z,{size:20}));return(0,e.h)(e.Fragment,null,(0,e.h)(u.v2,{trigger:Se,onOpen:Ce,useMobileBottomSheet:!0,layerOptions:{placement:"bottom-end",preferX:"left"},className:Ti.dropdownMenu,maxHeight:"fit-content"},(0,e.h)(u.sN,{icon:(0,e.h)($b.Z,{height:24}),onClick:_e},o("Share to Notes")),(0,e.h)(u.sN,{icon:(0,e.h)(Hf.Z,{height:24}),onClick:x},o("Share to Twitter")),(0,e.h)(u.sN,{icon:(0,e.h)(Hb.Z,{height:24}),onClick:J},o("Share to Facebook")),(0,e.h)(u.sN,{icon:(0,e.h)(Kb.Z,{height:24}),onClick:pe},o("Share to Linkedin")),(0,e.h)("div",{className:Ti.divider}),(0,e.h)(u.sN,{icon:(0,e.h)(u.hs,{className:Ti.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,e.h)(jb.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onCl0)}},o("View shareable images")),(0,e.h)(u.sN,{icon:(0,e.h)(u.hs,{className:Ti.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,e.h)(Vb.Z,{className:Ti.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:ye},o("Send as email")),(0,e.h)(u.sN,{icon:(0,e.h)(u.hs,{className:Ti.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,e.h)(Ji.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:Pe},o("Copy link"))),(0,e.h)(Gb.i,{pub:n,isOpen:a,setOpen:_,item:{type:"pub_shareable_image"},width:718}))}var fa=je(3313),Zb=Object.defineProperty,Yb=Object.defineProperties,Jb=Object.getOwnPropertyDescriptors,Ll=Object.getOwnPropertySymbols,$f=Object.prototype.hasOwnProperty,Gf=Object.prototype.propertyIsEnumerable,zf=(n,r,o)=>r in n?Zb(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bc=(n,r)=>{for(var o in r||(r={}))$f.call(r,o)&&zf(n,o,r[o]);if(Ll)for(var o of Ll(r))Gf.call(r,o)&&zf(n,o,r[o]);return n},Zf=(n,r)=>Yb(n,Jb(r)),Xb=(n,r)=>{var o={};for(var a in n)$f.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Ll)for(var a of Ll(n))r.indexOf(a)<0&&Gf.call(n,a)&&(o[a]=n[a]);return o},Rl=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const oi=je(74806),Qb=({baseRef:n,className:r,fixedTooltip:o=!0,freeSignup:a,freeSignupEmail:_,hideCta:A,hideNotifications:B,hideSearch:k,hideShare:x,hideUserIndicator:J,hide_subscribe_cta:pe,isAccountContext:_e=!1,isMeetingsActive:ye,isPublishContext:Pe,pub:Ce,showCustomerSupportModeModal:Se,user:Ae})=>{const{iString:Ne,language:Ve}=(0,l.M1)(),ze=(0,t.sO)(null),{getSettingFor:Je}=(0,L.So)(),[Ye,ht]=(0,t.eJ)(!1),[wt,Ct]=(0,t.eJ)(!1),It=(0,nn.pm)(),At=(Ae==null?void 0:Ae.is_global_admin)&&!(Ae!=null&&Ae.is_admin),xt=(Ae==null?void 0:Ae.is_global_admin)&&(Ae==null?void 0:Ae.is_admin)&&!(Ae!=null&&Ae.is_author),Dt=(0,wr.jc)(),jt=(0,t.I4)(()=>Rl(void 0,null,function*(){try{yield Ze().del("/api/v1/customer_support_mode"),document.location.href="/"}catch(Xt){alert((0,F.getNetworkErrorMessage)(Xt))}}),[]),Jt=()=>Rl(void 0,null,function*(){ht(!0);try{yield Ze().post("/api/v1/subscription/reactivate").send({}),Ct(!0),It.popToast(Xt=>(0,e.h)(nn.FN,Zf(bc({},Xt),{text:Ne("Your subscription has been renewed!")})))}catch(Xt){console.error("Failed to set to renew:",Xt),alert((0,F.getNetworkErrorMessage)(Xt))}finally{ht(!1)}}),lr=(0,t.I4)(()=>Rl(void 0,null,function*(){var Xt;(Xt=ze.current)==null||Xt.open()}),[ze]),mr=Pe||_e?Wb:Al.h;return(0,e.h)("div",{className:s()("navbar-buttons",r),ref:n},(0,e.h)(mr,null,(0,e.h)(st.QA.Consumer,null,Xt=>(0,e.h)(Yi.Consumer,null,Bt=>(0,e.h)(e.Fragment,null,!k&&!(0,F.isMobileBrowser)()&&!Ae&&(0,e.h)(jf,{pub:Ce,isSignedIn:!1}),!x&&!(0,F.isMobileBrowser)()&&!Ae&&(0,e.h)(Kf,{pub:Ce,user:Ae}),!A&&eP({pub:Ce,user:Ae,freeSignup:a,freeSignupEmail:_,hide_subscribe_cta:pe,viralGiftsConfig:Ce.viralGiftsConfig,isPublishContext:Pe,localeContext:Bt,siteConfigContext:Xt,isMeetingsActive:ye,getSettingFor:Je,renewing:Ye,renewed:wt,setToRenew:Jt,experiments:Dt,language:Ve}),!k&&!(0,F.isMobileBrowser)()&&Ae&&(0,e.h)(jf,{pub:Ce,isSignedIn:!0}),!x&&Ae&&!(0,F.isMobileBrowser)()&&(0,e.h)(Kf,{pub:Ce,user:Ae}),!B&&Ae&&!(0,F.isMobileBrowser)()&&(0,e.h)(fr,{fill:"borderless",canShowAlerts:!Ce||Pe}),!J&&(0,e.h)(uc,{pub:Ce,user:Ae,enableCustomerServiceMode:At?lr:null,disableCustomerServiceMode:xt?jt:null,fixedTooltip:o}))))),At&&(0,e.h)(Yo.h,null,(0,e.h)(Ge.p,{className:"account-info-customer-support-mode-modal",ref:ze,openByDefault:Se&&At},(0,e.h)(Re,{redirect:(0,p.getQueryItem)("redirect")||"/publish/home",onCant)}}))))},qb=({pub:n,dashboardPubs:r})=>{const o=(0,Zr.XA)(),{iString:a}=(0,l.M1)();return(0,e.h)(yr.a,{priority:"primary",fill:"outline",size:o?"small":"medium",menuItems:r.map(({logo_url:_,name:A,subdomain:B})=>(0,e.h)(Gn.sN,{className:jo.menuItem,href:(0,p.getDashboardUrlForSubdomain)(B,{params:{utm_source:j.UTM_SOURCE.substack,utm_content:j.UTM_CONTENT.dashboardPubSwitcher}}),icon:(0,e.h)("img",{className:jo.menuIcon,width:20,src:(0,p.imginary)(_||"/img/substack-nomargin.png",20)}),priority:n.subdomain===B?"selected":"primary"},A)),href:(0,gt.getDashboardHomeUrl)(n,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:a("Dashboard"),mobileBottomSheetSubtitle:a("Select a publication")}},a("Dashboard"))},Yf=({dashboardPubs:n,pub:r})=>{const{iString:o}=(0,l.M1)();return n.length>1?(0,e.h)(qb,{pub:r,dashboardPubs:n}):(0,e.h)(sa,{className:"outline",href:(0,gt.getDashboardHomeUrl)(r,{addBase:!0}),"data-testid":"menu-dashboard-button"},o("Dashboard"))};function eP({user:n,pub:r,freeSignup:o,freeSignupEmail:a,hide_subscribe_cta:_,isPublishContext:A,isMeetingsActive:B,siteConfigContext:k,getSettingFor:x,renewing:J,renewed:pe,setToRenew:_e,experiments:ye,language:Pe}){var Ce,Se,Ae,Ne,Ve,ze,Je,Ye,ht,wt;const{iString:Ct,iPlural:It}=I18N.i(Pe);r.invite_only&&!(n!=null&&n.subscription_id||n!=null&&n.is_free_subscribed)&&(_=!0);const At=n==null?void 0:n.is_contributor,xt=(n==null?void 0:n.is_subscribed)||At,Dt=(n==null?void 0:n.is_free_subscribed)||o,{getExperimentVariant:jt,exposeExperiment:Jt}=ye,lr=oi.paymentsAreEnabled(r)&&xt&&["gift","comp"].includes(n.subscription_type)&&Sr()(n.subscription_expiry).subtract(30,"days").isBeforeNow(),mr=oi.paymentsAreEnabled(r)&&oi.userIsFreeOnly(n)&&n.comp_expired_recently,Xt=(n==null?void 0:n.is_free_subscribed)&&(n==null?void 0:n.is_paused),Bt=((Ce=n==null?void 0:n.dashboard_pubs)==null?void 0:Ce.length)===1,ur=(n==null?void 0:n.subscription_type)==="ios_app";if(At){const tr=(n==null?void 0:n.dashboard_pubs)||[];return A&&tr.length===1?[]:!r.has_posts&&!(0,F.isMobileBrowser)()?[(0,e.h)(sa,{className:"primary fill new-post-btn",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,F.redirect)((0,p.getCreatePostUrl)(r,{type:"newsletter"}),{local_navigation:!1})}},Ct("New post")),(0,e.h)(Yf,{dashboardPubs:tr,pub:r,useNewDashLink:Bt})]:(0,e.h)(Yf,{dashboardPubs:tr,pub:r,useNewDashLink:Bt})}else{if(Xt)return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,F.redirect)((0,p.getCancelOrUncancelUrl)(r,{addBase:!0}),{local_navigation:!1})}},Ct("Unpause my subscription"));if(lr||mr){if(!_)return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,F.redirect)((0,p.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:lr&&(n!=null&&n.is_founding)?r.plans.find(tr=>tr.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},Ct("Subscribe")),(0,e.h)("span",{className:"desktop-only"},Ct("Continue your support")))}else if(oi.paymentsAreEnabled(r)&&Dt&&!xt&&!["thebulwark"].includes(r.subdomain)){if(!_)return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,F.redirect)((0,p.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,Tt.getSubscribeText)(r,{isFreeSubscribed:!0,isMobile:(0,F.isMobileBrowser)(),language:Pe}))}else if(oi.paymentsAreEnabled(r)?!xt:!(Dt||xt)){if(!_){const tr=(Ne=(Ae=(Se=(0,p.getQueryItem)("referring_pub_ids"))==null?void 0:Se.split)==null?void 0:Ae.call(Se,","))==null?void 0:Ne[0],qt=(Je=(ze=(Ve=(0,p.getQueryItem)("referring_pub_ids"))==null?void 0:Ve.split)==null?void 0:ze.call(Ve,","))==null?void 0:Je.slice(1);return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",onClick:()=>Rl(this,null,function*(){const Rt=n&&!n.is_magic&&n.email||a;if((0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),Rt){let Ut;try{Ut=(yield Ze().post("/api/v1/free").send({source:"menu",email:Rt,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU,referring_pub_id:tr,additional_referring_pub_ids:qt})).body.referral_token,(0,d.signup)()}catch(Ft){(0,d.track)(d.EVENTS.FREE_SIGNUP_FAILED,{reason:Ft.message,source:"menu"})}window.location.href=(0,p.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0,referral_token:Ut})}else window.location.href=(0,p.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,e.h)(u.gq,{alignItems:"center",gap:8},(0,e.h)(Is.Z,{size:20}),(0,Tt.getSubscribeText)(r,{isFreeSubscribed:Dt,isMobile:(0,F.isMobileBrowser)(),language:Pe})))}}else{if(r.invite_only&&xt&&n.invites<r.subscriber_invites)return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,F.redirect)((0,p.getInviteUrl)(r),{local_navigation:!1})}},(0,e.h)("span",null,It("1 invite left","%1 invites left",r.subscriber_invites-n.invites)));if(oi.paymentsAreEnabled(r)&&B&&!k.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,F.redirect)((0,gt.getMeetingsUrl)(r,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},Ct("Book meeting")),(0,e.h)("span",{className:"desktop-only"},Ct("Book a meeting")));if(oi.paymentsAreEnabled(r)&&n.is_subscribed&&!ur&&n.subscription_unsubscribed_at&&!["gift","comp"].includes(n.subscription_type))return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"renew"}),_e()},disabled:J||pe,style:{visibility:pe?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},Ct("Renew")),(0,e.h)("span",{className:"desktop-only"},Ct("Renew subscription")));if(oi.paymentsAreEnabled(r)&&((0,fa.VL)({pub:r})||!n.is_founding)&&!ur&&Sr()(n.subscription_first_payment_at).isBefore(Sr()().subtract(48,"hours"))&&((0,fa.VL)({pub:r})||r.subdomain==="pinespayments"||((wt=(ht=(Ye=r==null?void 0:r.plans)==null?void 0:Ye.find(tr=>tr.metadata.founding))==null?void 0:ht.metadata)==null?void 0:wt.short_description)==="Founding Member")){const tr=(0,p.getSubscribeUrl)(r,bc({utm_source:j.UTM_SOURCE.menu,next:document.location.href,addBase:!0},(0,fa.VL)({pub:r})?{plan:"yearly300usd",upgrade_to_founding:!0}:{selectedPlanId:r.plans.fing).id}));return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,F.redirect)(tr,{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},Ct("Upgrade")),(0,e.h)("span",{className:"desktop-only"},Ct("Upgrade to founding")))}else{if(r.payments_state==="disabled"&&!r.invite_only&&x("payment_pledges_enabled")&&Dt&&!(n!=null&&n.is_pledged))return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,F.redirect)((0,p.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.menu,next:document.location.href,addBase:!0}),{local_navigation:!1})}},Ct("Pledge your support"));if(r.is_on_substack&&!(n!=null&&n.has_publication))return(0,e.h)(sa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,d.track)(d.EVENTS.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,F.redirect)((0,p.getStartPublishingUrl)({utm_source:j.UTM_SOURCE.menu}),{local_navigation:!1})}},Ct("Start publishing"))}}}return null}function sa(n){var r=n,{className:o="primary subscribe-cta subscribe-btn"}=r,a=Xb(r,["className"]);const _=(0,t.qp)(oo),A=!1;return(0,e.h)(ge.Z,Zf(bc({},a),{className:s()(o,{"rounded-btn":A,"force-desktop":_})}))}const tP=Qb;var Jf=je(49336),rP=je(56743),Ms=je(2564),xl=je(65726);const Ds={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},Xf=10,nP=250;function oP({className:n,items:r,menuItemClassName:o,selectedMenuItemClassName:a,selectedSlug:_,pub:A}){const B=(0,t.sO)(null),[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)(!1);function _e(Ce){const{scrollLeft:Se,scrollWidth:Ae,clientWidth:Ne}=Ce;x(Se>Xf),pe(Ae-(Ne+Se)>Xf)}constet),Pe=Ce=>()=>{const{current:Se}=B;Se&&Se.scrollBy({left:Ce*nP,behavior:"smooth"})};return(0,t.t)},[]),(0,e.h)("div",{className:s()("overflow-list-container",n)},(0,e.h)("div",{className:s()("section-bar",{scroll:!0,"overflow-left":k,"overflow-right":J})},(0,e.h)("div",{className:"overflow-items",ref:B,onScroll:ye},r.map(({label:Ce,href:Se,slug:Ae,isNative:Ne,onClick:Ve,noFollow:ze,subItems:Je})=>Je?(0,e.h)(Gn.v2,{trigger:(0,e.h)("div",{className:s()("menu-item",{selected:Ae===_},o,a&&{[a]:Ae===_})},(0,e.h)(xl.Z,{className:Ds.subMenuTrigger,onClick:Ve,native:Ne,rel:ze?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Ce),(0,e.h)(Jf.Z,{className:Ds.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:Ce},Je.map(({label:Ye,href:ht,slug:wt,isNative:Ct,onClick:It,noFollow:At,logoUrl:xt})=>{const Dt=parseInt(wt)===(A==null?void 0:A.id);return(0,e.h)(Gn.sN,{icon:(0,e.h)("img",{className:Ds.logo,width:20,src:(0,p.imginary)(xt||"/img/substack-nomargin.png",40)}),href:ht,onClick:It,native:Ct,rel:At?"nofollow":void 0,priority:"primary",disabled:Dt,className:s()(Ds.subMenuItem,{[Ds.disabled]:Dt})},Ye)})):(0,e.h)("div",{className:s()("menu-item",{selected:Ae===_},o,a&&{[a]:Ae===_})},(0,e.h)(xl.Z,{href:Se,onClick:Ve,native:Ne,rel:ze?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Ce))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Pe(-1)},(0,e.h)(rP.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Pe(1)},(0,e.h)(Ms.Z,{strokeWidth:1.5})))))}const Qf=(n,r)=>n.subItems?new uP(n,r):n.base_url?new aP(n):n.name&&n.id&&n.url?new lP(n,r):n.isPodcast?new iP(n):new sP(n,r);class=o}truncated0)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemente")}isNative(){throw new Error("not implemente")}noFollow(){return!1}subItems(){return nbj}}class aP extends As{isNewsletter(){return this._obj.type==="newslettd}isNative(){retur)}}class iP extends!0}isSelected(r,o){return this._obj.id===o}isNative(){return!0}homepageUrl(){return(0,gt.getBaseUrl)(this._obj)}}class sP extends As{constructor(r,o){super(r,o),this._homepageUrl=(0,gt.getSectionUrl)(o,{section:r})}isPodcast(){return this._obj.is_podc=o}isNative(){return!0}homepageUrl(){return this._homepageUrl}logoUrl(){var r,o,a;if(this._obj.is_podcast){const _=(r=this._pub.sections)==null?void 0:r.find(A=>A.id===this._obj.id);return(a=(o=_==null?void 0:_.podcastSettings)==null?void 0:o.podcast_art_url)!=null?a:this._obj.logo_url}return this._obj.logo_url}}class lP extends As{constructor(r,o){super(r,o),this._maybeNoFollow=r.noFollow,this._pubTier=(o==null?void 0:o.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(r,o){return[this._obj.id,this._obj.url].includes(o)}isNative(){return!0}noFo<2}homepageUrl(){return this._obj.url}}class uP extends As{isNewsletter(){return!1}isPodcast(){return!1}isSelected(r,o){return[this._obj.id,this._obj.url].includes(o)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.ub))}}const cP=({pub:n,selectedSectionId:r,sectionRawItems:o,isPublishContext:a})=>{const _=o.map(B=>Qf(B,n)),A=B=>{var k,x;return{label:B.truncatedName(),href:B.homepageUrl(),slug:B.item.id,isNative:B.isNative(),noFollow:B.noFollow(),logoUrl:(k=B.logoUrl)==null?void 0:k.call(B),subItems:(x=B.subItems())==null?void 0:x.map(A)}};return(0,e.h)(oP,{items:_.map(A),className:s()("sections-overflow",{"publish-menu":a}),selectedSlug:r,useHorizontalScrolling:a,pub:n})};var dP=Object.defineProperty,qf=Object.getOwnPropertySymbols,fP=Object.prototype.hasOwnProperty,pP=Object.prototype.propertyIsEnumerable,ep=(n,r,o)=>r in n?dP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,hP=(n,r)=>{for(var o in r||(r={}))fP.call(r,o)&&ep(n,o,r[o]);if(qf)for(var o of qf(r))pP.call(r,o)&&ep(n,o,r[o]);return n},Pc,tp,Oc,rp;const mP=je(74806);class Ul extends e.Component{constructor(){super(...arguments),this.menuHeight=0,this.state={animated:!0,hiding:!!(typeof window!="undefined"&&((tp=(Pc=window.location.hash)==null?void 0:Pc.startsWith)!=null&&tp.call(Pc,"#footnote")||(rp=(Oc=window.location.hash)==null?void 0:Oc.startsWith)!=null&&rp.call(Oc,"#tiktok")))},this.onClick=r=>{var o,a;((o=r.target)!=null&&o.classList.contains("footnote-number")||(a=r.target)!=null&&a.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))},this.onResize=()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const r=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,o=document.body.clientWidth,a=this.buttonsContainer.getBoundingClientRect().width,_=o>630,A=_?24*2:12*2,B=_&&.5*o-a-A>.5*r;this.setState({buttonsContainerWidth:B?`${a}px`:"auto",centerTitle:B})},this.onScroll=()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const r=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const o=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,F.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,F.maxScroll)()))if(this.scrollTop<r){const a=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>o?(this.menuTop=o,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<a)&&(this.menuTop=a,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>r&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=o,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<o-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))},this.onHeadlineClD)},this.hide=()=>{const r=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=r-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})}}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResizr}isSubscribed(){return mP.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscrup}render({className:r,freeSignup:o,freeSignupEmail:a,hideNavbarSearch:_,hideTitle:A,hide_subscribe_cta:B,isAccountContext:k,isMeetingsActive:x,isPublishContext:J,lowChrome:pe,pub:_e,showCustomerSupportModeModal:ye,signupForFreeVariant:Pe,user:Ce},{animated:Se,buttonsContainerWidth:Ae,centerTitle:Ne}){const Ve=_e,ze=typeof window=="undefined",Je=!0;return(0,e.h)("div",{"data-testid":"navbar",className:s()("main-menu",r,{animated:Se,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":pe})},(0,e.h)("div",{className:"main-menu-content",ref:Ye=>this.menuContent=Ye},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},!pe&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:s()("navbar-logo-container",Ve.logo_url?"":"no-logo"),style:{width:Ae}},Ve.logo_url&&(0,e.h)("a",{href:k||J?(0,gt.getBaseUrl)(Ve):"/",onClick:this.onHeadlineClick,native:Je},(0,e.h)("img",{className:"navbar-logo",src:(0,gt.imginary)(Ve.logo_url,96)}))),!A&&(0,e.h)("h1",{className:s()("navbar-title",{"left-align":!Ne,loading:ze})},(0,e.h)("a",{className:"navbar-title-link",href:k||J?(0,gt.getBaseUrl)(Ve):"/",ref:Ye=>this.largeMenuPubTitle=Ye,native:Je},Ve.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${Ve?"":"substack-logo-wordmark"}`,src:(0,gt.imginary)(Ve?Ve.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:Ve?Ve.name:"Substack"}):Ve.name)),(0,e.h)(tP,{baseRef:Ye=>this.buttonsContainer=Ye,freeSignup:o,freeSignupEmail:a,hideSearch:J||!!_,hide_subscribe_cta:B,isAccountContext:k,isMeetingsActive:x,isPublishContext:J,pub:_e,showCustomerSupportModeModal:ye,signupForFreeVariant:Pe,user:Ce}))),this.shouldShowSectionsNavBar()&&(0,e.h)(_P,hP({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}Ul.contextType=Gr;const GW=({title:n})=>{const r=useMobile();return h(Text,{size:r?14:24,weight:"light",as:"span"},h("span",null," | "),n)};function _P({isPublishContext:n,pub:r,user:o,isChatActive:a,isMeetingsActive:_,hasMeetingsBooked:A,selectedSectionId:B}){const{language:k}=(0,l.M1)(),{getSettingFor:x}=(0,L.So)(),J=x("notes_feed_enabled"),pe=!!(x("reader_referrals_enabled")&&x("reader_referrals_leaderboard_enabled")),_e=x("group_sections_and_podcasts_in_menu_enabled"),ye=Lt(r.navigationBarItems||[],{isFeedEnabled:J,isPodcastActive:r.podcast_enabled&&r.show_pub_podcast_tab,isChatActive:a,isChatEnabled:!!r.threads_v2_enabled,isMeetingsActive:_,hasMultipleNewsletters:r.sections&&r.sections.length>0,isReaderReferralsLeaderboardActive:pe,language:k}).filter(Ce=>!Ce.is_hidden),Pe=n?gP({isAdmin:!!(o!=null&&o.is_admin),pub:r,showMeetings:_||A,language:k}):vP({groupNewsletters:_e,navBarItems:ye,pub:r,language:k});return(0,e.h)(cP,{pub:r,selectedSectionId:B,sectionRawItems:Pe,isPublishContext:n})}const gP=({isAdmin:n,pub:r,showMeetings:o,language:a})=>{const{iString:_}=I18N.i(a),A=[];return A.push({id:"/publish/home",url:(0,gt.getDashboardHomeUrl)(r,{addBase:!0}),name:_("Home")}),A.push({id:"/publish/posts",url:"/publish/posts",name:_("Posts")},{id:"/publish/podcasting",url:(0,p.getPodcastingUrl)(r,{addBase:!0}),name:_("Podcast")},{id:"/publish/subscribers",url:(0,p.getSubscriberStatsUrl)(r,{addBase:!0}),name:_("Subscribers")}),n&&(A.push({id:"/publish/stats",url:"/publish/stats",name:_("Stats")}),A.push({id:"/publish/recommendations",url:"/publish/recommendations",name:_("Recommendations")}),o&&A.push({id:"/publish/meetings",url:"/publish/meetings",name:_("Meetings")}),A.push({id:"/publish/settings",url:(0,gt.getPublishSettingsUrl)(r,{addBase:!0}),name:_("Settings")})),A},vP=({groupNewsletters:n=!1,navBarItems:r,pub:o,language:a})=>{const{iString:_}=I18N.i(a),A=[];let B=[];A.push({id:"/home",url:"/",name:_("Home")}),o.podcast_enabled&&o.show_pub_podcast_tab&&B.push({id:"/podcast",url:"/podcast",name:_("Podcast"),isPodcast:!0});for(const k of r){const x=dt(k);k.section?B.push(k.section):B.push({id:(0,gt.getNavigationBarItemUrl)(o,k,{addBase:!1}),url:(0,gt.getNavigationBarItemUrl)(o,k,{addBase:!k.standard_key}),name:Qe(k),noFollow:!k.standard_key&&x==="link"})}return n?B=np({items:B,groups:[{name:_("Newsletters"),condito})},{name:_("Podcasts"),condition:k=>EP(k)}]}):(0,fa.VL)({pub:o})&&(B=np({items:B,groups:[{name:_("Newsletters"),condition:k=>k.type==="newsletter"},{name:_("Podcasts"),condition:k=>k.type==="podcast"}]})),[...A,...B]},yP=({item:n,pub:r})=>(0,Tt.sectionIsSpecificallyMarkedAsNewsletter)({section:n,pub:r})?!0:!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&!n.is_podcast,EP=n=>n.isPodcast||!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&n.is_podcast,np=({items:n,groups:r})=>{const o=[];let a=n;for(const _ of r){const A=n.filter(_.condition);A.length>0&&(o.push({name:_.name,subItems:A}),a=a.filter(B=>!_.condition(B)))}return[...o,...a]};var Fn=je(74806),bP=Object.defineProperty,PP=Object.defineProperties,OP=Object.getOwnPropertyDescriptors,op=Object.getOwnPropertySymbols,CP=Object.prototype.hasOwnProperty,wP=Object.prototype.propertyIsEnumerable,ap=(n,r,o)=>r in n?bP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,SP=(n,r)=>{for(var o in r||(r={}))CP.call(r,o)&&ap(n,o,r[o]);if(op)for(var o of op(r))wP.call(r,o)&&ap(n,o,r[o]);return n},TP=(n,r)=>PP(n,OP(r));const ip=n=>(0,e.h)(Te.l,TP(SP({},n),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:n.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var Tn=je(25018);const go={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},IP=({newsletter:n,hideLink:r=!1,onToggle:o,onClick:a})=>{const{isMobile:_}=(0,Tn.v9)();a&&o&&console.error("you cannot pass both onToggle and onClick");const A=k=>{k.stopPropagation(),o==null||o({sectionId:n.sectionId,isSelected:!n.selected})},B=!!o;return _?(0,e.h)(MP,{newsletter:n,hideLink:r,onClick:a,onToggle:o}):(0,e.h)(u.tu,{className:s()(go.container,{[go.selectedContainer]:B&&n.selected,[go.selectableContainer]:B,[go.clickableContainer]:!!a}),justifyContent:"space-between",radius:12,padding:16,onClick:B?A:a!=null?a:void 0},B&&n.selected?(0,e.h)(ip,{className:s()(go.selector)}):B?(0,e.h)("div",{className:s()(go.unselected,go.selector)}):null,(0,e.h)(u.tu,{gap:24},n.logoUrl&&(0,e.h)("div",{className:go.img},n.logoUrl&&(0,e.h)("img",{className:go.img,src:(0,p.imginary)(n.logoUrl,64)})),(0,e.h)(u.tu,{gap:8},(0,e.h)(u.xv.H3,{paddingRight:n.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},n.name),(0,e.h)(u.xv.B4,{color:"pub-secondary-text",clamp:4},n.description))),!r&&(0,e.h)(u.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:go.seeLatest,href:n.linkUrl,native:!0},"See the latest")))},MP=({newsletter:n,hideLink:r,onClick:o,onToggle:a})=>{const _=!!a,A=B=>{B.stopPropagation(),a==null||a({sectionId:n.sectionId,isSelected:!n.selected})};return(0,e.h)(u.tu,{className:s()(go.containerMobile,{[go.selectedContainer]:_&&n.selected,[go.selectableContainer]:_,[go.clickableContainer]:!!A}),justifyContent:"space-between",radius:12,padding:16,onClick:_?A:o!=null?o:void 0},_&&n.selected?(0,e.h)(ip,{className:s()(go.selector)}):_?(0,e.h)("div",{className:s()(go.unselected,go.selector)}):null,(0,e.h)(u.tu,{gap:8},(0,e.h)(u.gq,{gap:8},n.logoUrl&&(0,e.h)("img",{className:go.imgMobile,src:(0,p.imginary)(n.logoUrl,64)}),(0,e.h)(u.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},n.name)),(0,e.h)(u.xv.B4,{color:"secondary",clamp:2,font:"text"},n.description)),!r&&(0,e.h)(u.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:n.linkUrl,native:!0},"See the latest")))},DP={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},AP=({newsletters:n,hideLinks:r,onNewsletterClick:o,justifyItems:a})=>{const{iString:_}=(0,l.M1)();return(0,e.h)(ne.gq,{className:DP.container,wrap:"wrap",justifyContent:a,gap:24},n.length===0&&(0,e.h)("div",null,_("No additional newsletters")),n.map((A,B)=>(0,e.h)(IP,{newsletter:A,key:B,hideLink:r,onToggl})}:void 0,onClick:r?voi})}})))},Cc={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var NP=Object.defineProperty,LP=Object.defineProperties,RP=Object.getOwnPropertyDescriptors,sp=Object.getOwnPropertySymbols,xP=Object.prototype.hasOwnProperty,UP=Object.prototype.propertyIsEnumerable,lp=(n,r,o)=>r in n?NP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,BP=(n,r)=>{for(var o in r||(r={}))xP.call(r,o)&&lp(n,o,r[o]);if(sp)for(var o of sp(r))UP.call(r,o)&&lp(n,o,r[o]);return n},kP=(n,r)=>LP(n,RP(r));const FP=({pub:n,user:r})=>{const o=(0,Fn.getNewslettersForSubscribeFromPub)({pub:n,includeMainPub:!0,excludePodcasts:(0,fa.VL)({pub:n})}).map(a=>kP(BP({},a),{linkUrl:(0,p.updateQuery)(a.linkUrl,{utm_source:j.UTM_SOURCE.newsletterPage}),selected:a.defaultOn}));return o.length===0?(typeof window!="undefined"&&(window.location.href=(0,gt.getBaseUrl)(n)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:s()("page","typography",Cc.container)},(0,e.h)(u.tu,null,(0,e.h)(u.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(u.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(u.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(u.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",n.name," in your inbox.",r!=null&&r.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:Cc.accountLink,href:(0,p.getPubAccountSettingsUrl)(n),native:!0},"account settings"),"."):"")),(!r||!r.is_subscribed)&&(0,e.h)(u.zx,{priority:"primary-theme",href:(0,p.getSubscribeUrl)(n,{addBase:!0,utm_source:j.UTM_SOURCE.newsletterPage}),localNavigation:!1},"Subscribe")),(0,e.h)(u.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:Cc.newsletterList},(0,e.h)(AP,{newsletters:o,hideLinks:!1,justifyItems:"start"}))))};var WP=je(72829),jP=je(92643),wc=je(71720),VP=Object.defineProperty,HP=Object.defineProperties,KP=Object.getOwnPropertyDescriptors,up=Object.getOwnPropertySymbols,$P=Object.prototype.hasOwnProperty,GP=Object.prototype.propertyIsEnumerable,cp=(n,r,o)=>r in n?VP(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ns=(n,r)=>{for(var o in r||(r={}))$P.call(r,o)&&cp(n,o,r[o]);if(up)for(var o of up(r))GP.call(r,o)&&cp(n,o,r[o]);return n},Bl=(n,r)=>HP(n,KP(r)),zP=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())}),dp;const ZP=typeof window!="undefined"?(dp=window._preloads)==null?void 0:dp.publicationUserSettings:{},fp=n=>({getSettingForPubUser:o=>{if(!o||!n)return null;const a=n[o];return a===void 0?null:a}}),Sc=(0,e.createContext)(Bl(Ns({},fp(ZP)),{changeUserSetting:()=>Promise.resolve(void 0)}));Sc.displayName="PublicationUserSettingsContext";const ZW=n=>{const r=forwardRef((o,a)=>{const _=JP();return h(n,Bl(Ns(Ns({},_),o),{ref:a}))});return r.displayName=`withPubUserSettingsContext(${n.displayName||n.name||"Anonymous"})`,r};function YP({preloadPubUserSettings:n={},children:r}){const[o,a]=(0,t.eJ)(n),_=(0,t.I4)((B,k)=>zP(this,null,function*(){a(x=>Bl(Ns({},x),{[B]:k}));try{yield(0,Pn.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:B,value:k}})}catch(x){console.error(x)}}),[a]),A=(0,t.Ye)(()=>Bl(Ns({},fp(o)),{changeUserSetting:_}),[o,_]);return(0,e.h)(Sc.Provider,{value:A},r)}function JP(){return useContext(Sc)}var Ls=je(10174),pp=je(72307);function XP({user:n=null,pub:r=null,children:o=void 0,siteConfigs:a={},hasThemedBackground:_=!1,language:A="en",preferredLanguage:B=null,country:k=void 0,experimentInfo:x={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},portalRoot:J=void 0,shouldLoad:pe=void 0,shouldPollNotifications:_e=!1,publicationSettings:ye={},userSettings:Pe=void 0,publicationUserSettings:Ce={},activityToken:Se}){pe===void 0&&(pe=!!n);const Ae=(0,pp.lV)(!!n);return(0,e.h)(vc,{country:k||"US"},(0,e.h)(l._7,{language:A||"en",preferredLanguage:B},(0,e.h)(O.ze,{value:{hasThemedBackground:_}},(0,e.h)(st.vC,{siteConfigs:a},(0,e.h)(wr.Vt,{siteConfigs:a,experimentInfo:x},(0,e.h)(pn,{siteConfigs:a,experimentInfo:x},(0,e.h)(L.Iz,{settings:ye},(0,e.h)(YP,{preloadPubUserSettings:Ce},(0,e.h)(bo.N$,{shouldLoad:pe,shouldPoll:_e,activityToken:Se},(0,e.h)(Yo.X,{root:J},(0,e.h)(so.dr,{defaultValue:n,userSettings:Pe},(0,e.h)(jP.am,null,(0,e.h)(nn.VW,null,(0,e.h)(pp.e.Provider,{value:Ae},(0,e.h)(Ls.Au,null,(0,e.h)(WP.pe,null,(0,e.h)(wc.G.Provider,{value:r},o)))))))))))))))))}var ai=je(86575);function QP(){return(0,e.h)(Wr.cr,{module:"../feed/PublicationPage",onRequest:()=>Promise.all([je.e(4495),je.e(8437)]).then(je.bind(je,48437)),resolve:n=>n.PublicationFeedPage,whileLoading:(0,e.h)(qP,null)})}function qP(){return(0,e.h)(Al.h,null,(0,e.h)(ne.hs,{bg:"primary",style:{minHeight:800}}))}var e2=Object.defineProperty,t2=Object.defineProperties,r2=Object.getOwnPropertyDescriptors,hp=Object.getOwnPropertySymbols,n2=Object.prototype.hasOwnProperty,o2=Object.prototype.propertyIsEnumerable,mp=(n,r,o)=>r in n?e2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,a2=(n,r)=>{for(var o in r||(r={}))n2.call(r,o)&&mp(n,o,r[o]);if(hp)for(var o of hp(r))o2.call(r,o)&&mp(n,o,r[o]);return n},i2=(n,r)=>t2(n,r2(r));function s2(){const n=(0,nn.pm)();return(0,t.d4)(()=>{const r=new URL(location.toString());r.searchParams.get("founding-member-confirmation")&&(r.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",r),n.popToast(a=>(0,e.h)(nn.FN,i2(a2({},a),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var Rs=je(63030),Xi=je(71375),_p=je(16527),la=je(92271);const Tc={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var l2=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const u2=(n,r,o,a,_)=>{if(!r)return null;switch(n){case"post-login":return r.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,p.getReaderProfileUrl)(r,{utm_source:j.UTM_SOURCE.profileToast,noBase:o}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return a?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,p.getReaderOnboardingUrl)({isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:a?a.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!a||!r.profile_set_up_at?null:{title:`Welcome to ${a?a.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:a?(0,p.getArchiveUrl)(a):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,p.getReaderProfileUrl)(r,{utm_source:j.UTM_SOURCE.profileToast,noBase:o}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(ne.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,gt.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(i.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(i.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,Tt.numberToOrdinal)(_)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,p.getStartPublishingUrl)({utm_source:j.UTM_SOURCE.profileToast}),ctaVariant:"themed-primary"};default:return null}};function c2({user:n,pub:r=null,noBase:o=!1}){const a=(0,nn.pm)();return(0,t.d4)(()=>{function _(){return l2(this,null,function*(){yield Ze().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const A=new URL(location.toString()),B=A.searchParams.get("profile-setup-message");if(!B)return;const k=B==="start-writing"?Number(A.searchParams.get("nthPub")):void 0;if(A.searchParams.delete("nthPub"),A.searchParams.delete("profile-setup-message"),history.replaceState({},"",A),!(B!=="post-subscribe-prompt"))return;const J=u2(B,n,o,r,k);J&&(B==="start-writing"&&_(),a.popToast(({onClose:pe})=>(0,e.h)(ne.tu,{className:Tc.wrapper,justifyContent:"space-between"},(0,e.h)(ne.tu,{gap:8},(0,e.h)(ne.gq,{className:Tc.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(la.z,{look:"flex",onClick:pe},(0,e.h)(Xi.Z,{size:20}))),(0,e.h)(i.xv.H3,{className:Tc.header},J.title),J.body),(0,e.h)(la.z,{variant:J.ctaVariant,fill:"filled",onClick:_e=>{(0,_p.Q)(_e,J.ctaLink,{native:!0}),pe()}},J.ctaText)),{ttl:null}))},[]),null}const d2=["sort"],f2=["sort","selection"];function gp(n,r){let o;try{o=new URL(`${location.protocol}//${location.host}${n}`)}catch(a){o=new URL(n)}for(const a of o.searchParams.keys())(r?f2:d2).includes(a)||o.searchParams.delete(a);return o.toString()}function p2({previous:n,url:r}){var o,a;if(typeof window=="undefined")return;const _=gp(r,!1),A=gp(r,!0),{head:B}=document;(o=B.querySelector("link[rel=canonical]"))==null||o.setAttribute("href",_),(a=B.querySelector('meta[property="og:url"]'))==null||a.setAttribute("content",A),(0,d.notifyUrlChangeForAnalytics)({previous:n,url:r})}var vp=je(35225),h2=je(3312),Ic=je.n(h2),m2=je(92592),_2=Object.defineProperty,g2=Object.defineProperties,v2=Object.getOwnPropertyDescriptors,yp=Object.getOwnPropertySymbols,y2=Object.prototype.hasOwnProperty,E2=Object.prototype.propertyIsEnumerable,Ep=(n,r,o)=>r in n?_2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Wa=(n,r)=>{for(var o in r||(r={}))y2.call(r,o)&&Ep(n,o,r[o]);if(yp)for(var o of yp(r))E2.call(r,o)&&Ep(n,o,r[o]);return n},bp=(n,r)=>g2(n,v2(r));function Pp(n,{name:r,url:o,description:a,potentialAction:_}={}){return _===void 0&&(_={"@type":"SearchAction",name:`Search ${n.name}`,target:`${n.base_url}${(0,p.getBaseArchiveUrl)(n)}?utm_source=${j.UTM_SOURCE.google}&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:r||n.name,publisher:Wa(Wa({"@type":"Organization",name:n.name,url:n.base_url},n.logo_url?{logo:{"@type":"ImageObject",url:n.logo_url}}:{}),n.twitter_screen_name?{sameAs:[`https://twitter.com/${n.twitter_screen_name}`]}:{}),url:o||n.base_url,mainEntityOfPage:{"@type":"WebPage",url:o||n.base_url},description:a||n.hero_text,potentialAction:_}}function b2(n,r){var o,a,_,A;const B=(0,Tt.getBylineUsers)(r),k=Wa(Wa(bp(Wa({"@type":"Organization",name:n.name,url:(0,p.getBaseUrl)(n),description:n.hero_text},n.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:n.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${n.id}`}),n.logo_url&&{logo:{"@type":"ImageObject",url:n.logo_url,contentUrl:(0,p.imginary)((o=n.logo_url)!=null?o:""),thumbnailUrl:(0,p.imginary)((a=n.logo_url)!=null?a:"",128,{height:128})},image:{"@type":"ImageObject",url:n.logo_url,contentUrl:(0,p.imginary)((_=n.logo_url)!=null?_:""),thumbnailUrl:(0,p.imginary)((A=n.logo_url)!=null?A:"",128,{height:128})}}),n.twitter_screen_name&&{sameAs:[`https://twitter.com/${n.twitter_screen_name}`]});return bp(Wa({"@context":"https://schema.org","@type":"NewsArticle",url:(0,p.getPostUrl)(n,r),mainEntityOfPage:(0,p.getPostUrl)(n,r),headline:r.search_engine_title||r.social_title||r.title,description:r.search_engine_description||r.description,image:r.cover_image?[{"@type":"ImageObject",url:r.cover_image}]:[],datePublished:Sr()(r.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:Sr()(r.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,cr.isPaidAudience)(r.audience)},r.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:B.length>0?B.map(x=>Wa(Wa({"@type":"Person",name:x.name,url:(0,p.getReaderProfileUrl)(x),description:x.bio,identifier:`user:${x.id}`},x.twitter_screen_name&&{sameAs:[`https://twitter.com/${x.twitter_screen_name}`]}),x.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,p.imginary)(x.photo_url),thumbnailUrl:(0,p.imginary)(x.photo_url,128,{height:128})}})):k,publisher:k})}function YW(n){return Wa({"@context":"https://schema.org","@type":"Person",image:(n==null?void 0:n.photo_url)&&imginary(n.photo_url),name:`${n==null?void 0:n.name}`,url:n&&getReaderProfileUrl(n),jobTitle:n==null?void 0:n.bio,description:n==null?void 0:n.bio},n!=null&&n.twitter_screen_name?{sameAs:[`https://twitter.com/${n.twitter_screen_name}`]}:{})}var Ca=je(2181),P2=je(67555),O2=je.n(P2);function C2(){const[n,r]=(0,t.eJ)(()=>typeof window!="undefined"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);return(0,t.d4)(()=>{conss)},a=window.matchMedia("(prefers-color-scheme: dark)");return a.addEventListener("change",o),()=>{a.removeEventListener("change",o)}},[]),{darkMode:n}}var xo=je(62246),w2=je(46019);function S2({utm_campaign:n,utm_source:r,utm_content:o,abTestingId:a,overrideTitle:_,subTitle:A}={}){const[B,k]=(0,t.eJ)(!1);return{open:(0,t.I4)(()=>{k(!0),(0,d.track)(d.EVENTS.APP_INSTALL_MODAL_OPENED,{utm_campaign:n,utm_source:r,utm_content:o})},[n,r,o]),modal:(0,e.h)(T2,{isOpen:B,onClose:()=>k(!1),utm_campaign:n,utm_source:r,utm_content:o,abTestingId:a,overrideTitle:_,subTitle:A})}}function Op({label:n}){return(0,e.h)(ne.hs,{gap:16,alignItems:"center",className:V.divider},(0,e.h)("hr",{className:V.dividerLine}),n&&(0,e.h)(e.Fragment,null,(0,e.h)(i.xv.Meta,null,n),(0,e.h)("hr",{className:V.dividerLine})))}function Cp({utm_campaign:n,utm_source:r,utm_content:o,hideQrInstructions:a=!0,darkMode:_=!1,abTestingId:A,size:B,gap:k=32,padding:x=32}){const{iString:J}=(0,l.M1)(),{getExperimentVariant:pe,exposeExperiment:_e}=(0,wr.jc)();let ye;["US","CA"].includes(window._preloads.country)&&(ye=pe("app_install_send_code"),_e("app_install_send_code"));const Pe=(0,Zr.XA)();return(0,e.h)(ne.tu,{justifyContent:"center",alignItems:"center",gap:k,padding:x},!Pe&&(0,e.h)(e.Fragment,null,!a&&(0,e.h)(i.xv.B3,{weight:"semibold",translated:!0},"Scan the QR code below"),(0,e.h)(ne.hs,{className:V.qrCode,padding:20},(0,e.h)(D2,{size:B,utm_campaign:n,utm_source:r,utm_content:o,abTestingId:A})),["text","email"].includes(ye)&&(0,e.h)(Op,{label:J("OR")})),ye==="text"&&(0,e.h)(M2,null),ye==="email"&&(0,e.h)(I2,null),Pe&&(0,e.h)(be.zx,{grow:!0,href:(0,p.getAppStoreRedirectUrl)({utm_campaign:n,utm_source:r})},J("Install the app")))}function JW({utm_campaign:n,utm_source:r,darkMode:o=!1}){return h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:n,utm_source:r}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"ios",utm_campaign:n,utm_source:r})}},h("img",{src:imginary(o?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:n,utm_source:r}),onClick:()=>{track(EVENTS.APP_STORE_LINK_CLICKED,{source:"app_install_upsell",app_store:"android",utm_campaign:n,utm_source:r})}},h("img",{src:imginary(o?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",160*2),height:48})))}function T2({isOpen:n,onClose:r,utm_campaign:o,utm_content:a,utm_source:_,abTestingId:A,overrideTitle:B,subTitle:k}){const{iString:x}=(0,l.M1)();return(0,e.h)(xo.u_,{isOpen:n,onClose:r,width:500},(0,e.h)(ne.tu,null,(0,e.h)(ne.hs,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:V.modalHeader},(0,e.h)(i.xv.H2,null,B||x("Download the Substack app")),(0,e.h)(be.hU,{size:40,onClick:r,rounded:!0,fill:"borderless","aria-label":"Close"},(0,e.h)(Xi.Z,{size:20}))),k?(0,e.h)(i.xv.B3,{align:"center",paddingTop:12,paddingX:12},k):null,(0,e.h)(Cp,{utm_campaign:o,utm_source:_,utm_content:a,abTestingId:A})))}function I2(){const{iString:n}=(0,l.M1)(),r=(0,so.aF)(),[o,a]=(0,t.eJ)((r==null?void 0:r.email)||""),[_,A]=(0,t.eJ)(!1),[B,k]=(0,t.eJ)(null),[x,J]=(0,t.eJ)(!1);return(0,e.h)(e.Fragment,null,(0,e.h)(ne.tu,{gap:8},(0,e.h)(ne.gq,{justifyContent:"center",alignItems:"center",gap:0,style:{border:"1px solid var(--color-accent-primary)",borderRadius:8}},(0,e.h)("input",{className:s()("pencraft",w2.Z.emailInput),type:"text",value:o,onInput:pe=>a(pe.currentTarget.value),style:{border:"none"}}),(0,e.h)(be.zx,{priority:"primary",disabled:_,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:()=>{A(!0),(0,Pn.rd)("/api/v1/send_app_download_link",{method:"POST",json:{email:o}}).catch(pe=>{k("Something went wrong")}),B||(J(!0),k(null)),A(!1)}},"Email link")),B&&(0,e.h)(i.xv.B4,{align:"center",style:{color:"red"}},B),x&&!B&&(0,e.h)(i.xv.B4,{align:"center"},"Message Sent")))}function M2(){const{iString:n}=(0,l.M1)(),[r,o]=(0,t.eJ)(""),[a,_]=(0,t.eJ)(!1),[A,B]=(0,t.eJ)(null),[k,x]=(0,t.eJ)(!1);return(0,e.h)(e.Fragment,null,(0,e.h)(ne.tu,{gap:8},(0,e.h)(ne.gq,{justifyContent:"center",alignItems:"center",gap:8,padding:16},(0,e.h)("div",{className:V.phoneInput},(0,e.h)(O2(),{onlyCountries:["us","ca"],country:"us",value:r,onChange:o})),(0,e.h)(be.zx,{priority:"primary",disabled:a,onClick:()=>{_(!0),(0,Pn.rd)("/api/v1/send_app_download_link",{method:"POST",json:{phone:`+${r}`}}).ca")}),A||(x(!0),B(null)),_(!1)}},"Send link")),A&&(0,e.h)(i.xv.B4,{align:"center",style:{color:"red"}},A),k&&!A&&(0,e.h)(i.xv.B4,{align:"center"},"Message Sent")))}function D2({utm_campaign:n,utm_source:r,utm_content:o,abTestingId:a,size:_=240,width:A,height:B}){const k=(0,t.sO)(null),x=(0,p.getAppStoreRedirectUrl)({utm_campaign:n,utm_source:r,utm_content:o,abti:a}),{darkMode:J}=C2(),pe=A2(_e=>{const ye=_e.devicePixelRatio,Pe=getComputedStyle(document.body),Ce=Pe.getPropertyValue("--color-primary"),Se=Pe.getPropertyValue("--color-bg-elevated");return{width:(A!=null?A:_)*ye,height:(B!=null?B:_)*ye,type:"canvas",data:x,dotsOptions:{color:Ce,type:"dots"},backgroundOptions:{color:Se},cornersSquareOptions:{color:Ce,type:"extra-rounded"},cornersDotOptions:{color:Ce,type:"dot"},qrOptions:{errorCorrectionLevel:"L"}}},[A,B,x,J]);return(0,t.d4)(()=>{const{current:_e}=k;if(!_e||!pe||!pe._canvas)return;const ye=pe._canvas;return ye.style.width=`${A!=null?A:_}px`,ye.style.height=`${B!=null?B:_}px`,_e.appendChild(ye),()=>{_e.removeChild(ye)}},[pe,A,B]),(0,e.h)("div",{ref:k})}function A2(n,r){const{result:o}=(0,Pn.Wf)(()=>je.e(1915).then(je.t.bind(je,91915,23)),[],{auto:!0}),a=o==null?void 0:o.default;return(0,t.Ye)(()=>a&&typeof window!="undefined"?new a(n(window)):null,[a,...r])}var N2=je(30058),wp=Object.getOwnPropertySymbols,L2=Object.prototype.hasOwnProperty,R2=Object.prototype.propertyIsEnumerable,x2=(n,r)=>{var o={};for(var a in n)L2.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&wp)for(var a of wp(n))r.indexOf(a)<0&&R2.call(n,a)&&(o[a]=n[a]);return o};const kl=n=>{var r=n,{size:o=32,shape:a="circle",badgePosition:_="top-right",badge:A,imageUrl:B,onClick:k,className:x,border:J}=r,pe=x2(r,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);const _e=s()("tw-inline-block","tw-object-cover",a==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":o===24,"tw-h-8 tw-w-8":o===32,"tw-h-10 tw-w-10":o===40,"tw-h-12 tw-w-12":o===48,"tw-h-[64px] tw-w-[64px]":o===64,"tw-h-[88px] tw-w-[88px]":o===88,"tw-border-4 tw-border-substack-bg tw-shadow-md":J},k?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null);return(0,e.h)(N2.e,{className:x},(0,e.h)("div",{onClick:k,className:s()("tw-relative","tw-inline-block")},B?(0,e.h)(Xe.e,{className:_e,src:B,maxWidth:88,loading:"lazy"}):(0,e.h)("img",{className:_e,src:void 0}),A!=null?(0,e.h)("span",{className:s()("tw-absolute",{"tw-top-0 tw-right-0":_==="top-right","tw-top-0 tw-left-0":_==="top-left","tw-bottom-0 tw-right-0":_==="bottom-right","tw-bottom-0 tw-left-0":_==="bottom-left"})},A):null))},Vo={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var U2=Object.defineProperty,Fl=Object.getOwnPropertySymbols,Sp=Object.prototype.hasOwnProperty,Tp=Object.prototype.propertyIsEnumerable,Ip=(n,r,o)=>r in n?U2(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,B2=(n,r)=>{for(var o in r||(r={}))Sp.call(r,o)&&Ip(n,o,r[o]);if(Fl)for(var o of Fl(r))Tp.call(r,o)&&Ip(n,o,r[o]);return n},k2=(n,r)=>{var o={};for(var a in n)Sp.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Fl)for(var a of Fl(n))r.indexOf(a)<0&&Tp.call(n,a)&&(o[a]=n[a]);return o};function Mc({children:n,pub:r,user:o,showHeader:a,layoutTop:_}){return(0,e.h)("div",{className:s()(Vo.pageContainer,_?Vo.layoutTop:Vo.layoutCentered)},(0,e.h)("div",{className:Vo.header},a&&r&&o&&(0,e.h)(Ul,{pub:r,user:o,hideSections:!0,hideTitle:!0})),n)}function F2({pub:n,utm_campaign:r}){return(0,e.h)(ne.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Ap,{utm_campaign:r}),(0,e.h)(i.xv.B4,{translated:!0,size:12,color:"secondary",className:Vo.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,p.getThreadDeepLinkUrl)(n)},"Open now")))}function W2({pub:n,utm_campaign:r}){return(0,e.h)(ne.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(Np,{utm_campaign:r}),(0,e.h)(i.xv.B4,{translated:!0,size:12,color:"secondary",className:Vo.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,p.getThreadDeepLinkUrl)(n)},"Open now")))}function Mp({pub:n,communityAction:r}){var o,a,_;const{iString:A,iTemplate:B}=(0,l.M1)(),k=r?B`${((o=r.author)==null?void 0:o.name)||A("Someone")} started a thread`:B`Join ${(0,Tt.possessive)(n.author_name)} subscriber chat `,x=r!=null&&r.communityPost?(a=r.communityPost.body)==null?void 0:a.slice(0,128):`Subscribe to ${n.name} and join the conversation.`,J=((_=r==null?void 0:r.communityPost)==null?void 0:_.type)==="media"&&!!(r!=null&&r.communityPost.media_assets),pe=J?r.communityPost.media_assets[0].url:n.logo_url,_e=(0,gt.getPublicationChatAppLinkUrl)({pubKey:n.subdomain});return(0,e.h)(e.Fragment,null,(0,F.setMetaData)({title:k,socialTitle:k,description:x,image:pe,isLargeImage:J}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Ic()(Pp(n,{name:k,url:_e,description:x,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function j2({publication:n,communityAction:r,user:o,showHeader:a}){return(0,e.h)(Mc,{pub:n,user:o,showHeader:a},(0,e.h)(ne.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(ne.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(K2,{publication:n,communityAction:r,publicationAuthor:n.author||{id:n.author_id||0,name:n.author_name||"",photo_url:n.author_photo_url},utm_campaign:j.UTM_CAMPAIGN.threadsPage}))))}function V2({publication:n,communityAction:r,user:o,layoutTop:a,appModalOpenByDefault:_}){const A=(0,Zr.XA)(),[B,k]=(0,t.eJ)(!A&&_),x=j.UTM_CAMPAIGN.threadPage,{iString:J}=(0,l.M1)(),pe=(0,e.h)(ne.tu,{gap:8},(0,e.h)(Ca.dI,{href:(0,gt.getCommunityPostAppLinkUrl)({postId:r.communityPost.id,utm_source:j.UTM_SOURCE.chatPostLanding,redirect:"app-store",utm_campaign:x}),onClick:A?null:_e=>{_e.preventDefault(),k(!0)}},J("Open in app")),(0,e.h)(Dc,{publication:n,postId:r.communityPost.id,text:J("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(Mc,{pub:n,user:o,layoutTop:a},(0,e.h)(ne.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(ne.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(ne.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},r.status==="open"?(0,e.h)(Ca.Jg,{communityPost:r.communityPost,author:r.author,withAttribution:!0,extras:A?null:pe,flex:"auto",isReadOnly:!0}):(0,e.h)(ne.tu,null,(0,e.h)(Ca.V8,{author:r.author,extras:A?null:pe,commenters:r.communityPost.recent_commenters,count:r.communityPost.comment_count,audience:r.communityPost.audience})))),A&&(0,e.h)(ne.tu,{className:Vo.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},pe),(0,e.h)(Mp,{pub:n,communityAction:r})),(0,e.h)(Lp,{utm_campaign:x,isOpen:B,postId:r.communityPost.id,onClose:()=>k(!1),subdomain:n.subdomain}))}function H2({publication:n,communityAction:r,user:o,layoutTop:a,appModalOpenByDefault:_}){var A;const{iString:B}=(0,l.M1)(),k=(0,Zr.XA)(),[x,J]=(0,t.eJ)(!k&&_),pe=j.UTM_CAMPAIGN.commentPage,_e=(A=r.communityComment.parent_id)!=null?A:r.communityComment.id,ye=r.communityComment.parent_id?r.communityComment.id:void 0,Pe=r.communityComment.post_id,Ce=(0,e.h)(ne.tu,{gap:8},(0,e.h)(Ca.dI,{href:(0,gt.getCommunityCommentAppLinkUrl)({commentId:_e,targetReplyId:ye,utm_source:j.UTM_SOURCE.chatPostLanding,redirect:"app-store",utm_campaign:pe}),onClick:k?null:Se=>{Se.preventDefault(),J(!0)}},B("Open in app")),(0,e.h)(Dc,{publication:n,postId:Pe,commentId:_e,targetReplyId:ye,showTarget:ye?!0:void 0,text:B("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(Mc,{pub:n,user:o,layoutTop:a},(0,e.h)(ne.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(ne.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(ne.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},r.status==="VISIBLE"||!r.status?(0,e.h)(Ca.rk,{chatPublicationId:n.id,communityComment:r.communityComment,author:r.author,extras:k?null:Ce,isReadOnly:!0,isBanned:!1,quoteReply:r.quote,chatAuthorNameAttribution:n.author_name,flex:"auto"}):r.status==="PAID_SUBSCRIPTION_REQUIRED"||r.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(ne.tu,null,(0,e.h)(Ca.V8,{author:r.author,extras:k?null:Ce,commenters:r.communityComment.recent_commenters,count:r.communityComment.reply_count,audience:r.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(ne.tu,null,(0,e.h)(Ca.Q4,{author:r.author,extras:k?null:Ce,commenters:r.communityComment.recent_commenters,count:r.communityComment.reply_count})))),k&&(0,e.h)(ne.tu,{className:Vo.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Ce)),(0,e.h)(Lp,{utm_campaign:pe,isOpen:x,postId:Pe,commentId:_e,targetReplyId:ye,onClose:()=>J(!1),subdomain:n.subdomain}))}function K2({publication:n,communityAction:r,publicationAuthor:o,noFallback:a,utm_campaign:_}){const A=(0,v.isMobile)(),B=(0,v.isAndroid)();return(0,e.h)(ne.tu,{gap:A?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(kl,{imageUrl:(0,p.getUserPhotoUrl)(o),size:88,border:!0,badge:(0,e.h)("div",{className:s()(Vo.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(ne.tu,{gap:8},(0,e.h)(i.xv.H2,{translated:!0,size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",I18N.p(o.name||"Substack user"),"'s subscriber chat")),!A&&(0,e.h)("div",{className:Vo.threadsLinkContainer},(0,e.h)(Dp,{utm_campaign:_,subdomain:n.subdomain})),A&&(B?(0,e.h)(W2,{pub:n,utm_campaign:_}):(0,e.h)(F2,{pub:n,utm_campaign:_})),(0,e.h)(Dc,{publication:n,source:"pub-nav-bar"}),(0,e.h)(Mp,{pub:n,communityAction:r}))}function Dc({publication:n,source:r,postId:o,commentId:a,targetReplyId:_,showTarget:A,text:B}){const{iString:k}=(0,l.M1)();return B||(B=k("Or open on web")),(0,e.h)("a",{href:(0,gt.getWebChatUrl)({pubId:n.id,postId:o,commentId:a,params:{utm_source:r,targetReplyId:_,showTarget:A}}),className:Vo.webChatLink},(0,e.h)(i.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},B))}function Dp({utm_campaign:n,postId:r,subdomain:o,commentId:a,targetReplyId:_}){return(0,e.h)(ne.tu,{gap:24,alignItems:"center"},(0,e.h)(ne.hs,{justifyContent:"center"},(0,e.h)(i.xv.B4,{translated:!0,as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(ne.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:Vo.qrCode},(0,e.h)($2,{utm_campaign:n,postId:r,subdomain:o,commentId:a,targetReplyId:_})),(0,e.h)(Op,{label:"OR"}),(0,e.h)(ne.hs,{gap:16,justifyContent:"center"},(0,e.h)(Ap,{utm_campaign:n}),(0,e.h)(Np,{utm_campaign:n})))}function $2({utm_campaign:n,postId:r,subdomain:o,commentId:a,targetReplyId:_}){const A=(0,t.sO)(),B=a?(0,gt.getCommunityCommentAppLinkUrl)({commentId:a,targetReplyId:_,utm_campaign:n}):r?(0,gt.getCommunityPostAppLinkUrl)({postId:r,utm_campaign:n}):(0,gt.getPublicationChatAppLinkUrl)({pubKey:o,redirect:"app-store",utm_campaign:n});return(0,t.d4)(()=>{const{current:k}=A;k&&m2.toCanvas(k,B,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:A})}function Ap({utm_campaign:n}){return(0,e.h)("a",{className:Vo.appBadge,href:(0,p.getAppStoreUrl)({utm_campaign:n,utm_source:j.UTM_SOURCE.substack}),onClick:()=>{(0,d.track)(d.EVENTS.APP_STORE_LINK_CLICKED,{app_store:"ios"})}},(0,e.h)("img",{src:(0,p.imginary)("/img/app_page/app-store.png",400),height:40}))}function Np({utm_campaign:n}){return(0,e.h)("a",{className:Vo.appBadge,href:(0,p.getPlayStoreUrl)({utm_campaign:n,utm_source:j.UTM_SOURCE.substack}),onClick:()=>{(0,d.track)(d.EVENTS.APP_STORE_LINK_CLICKED,{app_store:"android"})}},(0,e.h)("img",{src:(0,p.imginary)("/img/app_page/google-play.png",400),height:40}))}function Lp(n){var r=n,{postId:o,utm_campaign:a,subdomain:_,commentId:A,targetReplyId:B}=r,k=k2(r,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);const{iString:x}=(0,l.M1)();return(0,e.h)(xo.u_,B2({},k),(0,e.h)(xo.xB,{title:x("Open in the Substack app"),includeClose:!0,onClose:k.onClose,bottomBorder:!0}),(0,e.h)(ne.tu,{paddingY:32,paddingX:40},(0,e.h)(Dp,{utm_campaign:a,postId:o,subdomain:_,commentId:A,targetReplyId:B})))}var Qi=je(59543),Ac=je(1852),wa=je(80332),Nc=function(){return(Nc=Object.assign||function(n){for(var r,o=1,a=arguments.length;o<a;o++)for(var _ in r=arguments[o])Object.prototype.hasOwnProperty.call(r,_)&&(n[_]=r[_]);return n}).apply(this,arguments)},xs,Us,Lc=(0,ct.createContext)(void 0),Rp="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",xp="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",G2=function(pe){var r=pe.config,o=pe.version,o=o===void 0?3:o,a=pe.src,a=a===void 0?o===2?Rp:xp:a,_=pe.onStartup,A=pe.onLoad,B=pe.onError,k=pe.typesettingOptions,x=pe.renderMode,x=x===void 0?"post":x,J=pe.hideUntilTypeset,pe=pe.children,ye=(0,ct.useContext)(Lc);if((ye==null?void 0:ye.version)!==void 0&&(ye==null?void 0:ye.version)!==o)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(o===2&&Us!==void 0||o===3&&xs!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var _e=(0,ct.useRef)(ye),ye=(0,ct.useRef)((ye==null?void 0:ye.version)||null);if(ye.current===null)ye.current=o;else if(ye.current!==o)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var Pe=a||(o===2?Rp:xp);function Ce(Se,Ae){r&&(window.MathJax=r);var Ne=document.createElement("script");Ne.type="text/javascript",Ne.src=Pe,Ne.async=!1,Ne.addEventListener("lo()}),Ne.addEventListener("error",function(Ve){return Ae(Ve)}),document.getElementsByTagName("head")[0].appendChild(Ne)}return _e.current===void 0&&(ye={typesettingOptions:k,renderMode:x,hideUntilTypeset:J},o===2?xs===void 0&&(typeof window!="undefined"?(xs=new Promise(Ce)).catch(function(Se){if(!B)throw Error("Failed to download MathJax version 2 from '".concat(Pe,"' due to: ").concat(Se));B(Se)}):(xs=Promise.reject()).catch(function(Se){})):Us===void 0&&(typeof window!="undefined"?(Us=new Promise(Ce)).catch(function(Se){if(!B)throw Error("Failed to download MathJax version 3 from '".concat(Pe,"' due to: ").concat(Se));B(Se)}):(Us=Promise.reject()).catch(function(Se){})),_e.current=Nc(Nc({},ye),o===2?{version:2,promise:xs}:{version:3,promise:Us})),ct.default.createElement(Lc.Provider,{value:_e.current},pe)};const z2=G2;var Z2=je(23279),Rc=je.n(Z2)s)},Y2=function(n,r){var o={};for(_ in n)Object.prototype.hasOwnProperty.call(n,_)&&r.indexOf(_)<0&&(o[_]=n[_]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,_=Object.getOwnPropertySymbols(n);a<_.length;a++)r.indexOf(_[a])<0&&Object.prototype.propertyIsEnumerable.call(n,_[a])&&(o[_[a]]=n[_[a]]);return o},Bs=function(n){return"Typesetting failed: ".concat(n.message!==void 0?n.message:n.toString())},J2=function(n){function r(){var Ye;Se==="every"&&Ve&&Ae==="post"&&Pe.current!==null&&(Pe.current.style.visibility=(Ye=(Ye=_e.style)==null?void 0:Ye.visibility)!=null?Ye:"visible"),ze.current||(Se==="first"&&Pe.current!==null&&(Pe.current.style.visibility="visible"),_&&_(),ze.current=!0),A&&A(),Je.current=!1}var a=n.inline,o=a!==void 0&&a,a=n.hideUntilTypeset,_=n.onInitTypeset,A=n.onTypeset,B=n.text,k=n.dynamic,x=n.typesettingOptions,J=n.renderMode,pe=n.children,_e=Y2(n,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),ye=(0,ct.useRef)(""),Pe=(0,ct.useRef)(null),Ce=(0,ct.useContext)(Lc),Se=a!=null?a:Ce==null?void 0:Ce.hideUntilTypeset,Ae=J!=null?J:Ce==null?void 0:Ce.renderMode,Ne=x!=null?x:Ce==null?void 0:Ce.typesettingOptions,Ve=k!==!1&&(k||!1),ze=(0,ct.useRef)(!1),Je=(0,ct.useRef)(!1);return!Je.current&&Pe.current!==null&&Ve&&Se==="every"&&Ae==="post"&&(Pe.current.style.visibility="hidden"),(typeof window!="undefined"?ct.useLayoutEffect:ct.useEffect)(function(){if((Ve||!ze.current)&&Pe.current!==null){if(!Ce)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(Ae==="pre"){if(!(typeof(Ye=B)=="string"&&0<Ye.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(B,'"'));if(!x||!x.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(Ce.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}Ae!=="post"&&B===ye.current||Je.current||(Je.current=!0,Ce.version===3?Ce.promise.then(function(ht){var wt;Ae==="pre"?(wt=function(Ct){ye.current=B,ht.startup.document.clear(),ht.startup.document.updateDocument(),Pe.current!==null&&(Pe.current.innerHTML=Ct.outerHTML),r()},x.fn.endsWith("Promise")?ht.startup.promise.then(function(){return ht[Ne.fn](B,ii(ii({},(Ne==null?void 0:Ne.options)||{}),{display:!o}))}).then(wt).catch(function(Ct){throw r(),Error(Bs(Ct))}):ht.startup.promise.then(function(){var Ct=ht[Ne.fn](B,ii(ii({},(Ne==null?void 0:Ne.options)||{}),{display:!o}));wt(Ct)}).catch(function(Ct){throw r(),Error(Bs(Ct))})):ht.startup.promise.t])}).then(r).catch(function(Ct){throw r(),Error(Bs(Ct))})}).catch(function(ht){throw r(),Error(Bs(ht))}):Ce.promise.tr)}).ca))}))}var Ye}),ct.default.createElement("span",ii({},_e,{style:ii(ii({display:o?"inline":"block"},_e.style),{visibility:Se?"hidden":(n=_e.style)==null?void 0:n.visibility}),ref:Pe}),pe)};const X2=J2,Q2='!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();';var fo=je(82626),q2=je(42395),Co=je.n(q2),on=je(16181);const qi={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function eO({pub:n,subdomain:r}){const{iString:o}=(0,l.M1)();return(0,e.h)(ne.tu,{className:qi.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:xc(r),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)(kl,{size:64,imageUrl:(0,gt.imginary)(n.author_photo_url),border:!0}),(0,e.h)(ne.tu,{gap:4,alignItems:"center"},(0,e.h)(i.xv.H3,{translated:!0,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(i.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(ne.tu,{alignSelf:"stretch"},(0,e.h)(be.zx,{priority:"primary-theme",href:xc(r)},o("Join chat"))))}function tO({pub:n,subdomain:r}){const{iString:o}=(0,l.M1)();return(0,e.h)("a",{className:qi.emailWrapper,href:xc(r),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:qi.container},(0,e.h)(on.NS,{size:64,src:(0,gt.imginary)(n.author_photo_url),framed:!0}),(0,e.h)("div",{className:qi.text},(0,e.h)(i.xv.H3,{translated:!0,className:qi.title,as:"div",color:"pub-primary-text"},"Join ",I18N.p(n.author_name),"\u2019s subscriber chat"),(0,e.h)(i.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(on.Bj,{tableClassName:qi.button},o("Join chat")})}const Wl={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var rO=Object.defineProperty,Up=Object.getOwnPropertySymbols,nO=Object.prototype.hasOwnProperty,oO=Object.prototype.propertyIsEnumerable,Bp=(n,r,o)=>r in n?rO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,aO=(n,r)=>{for(var o in r||(r={}))nO.call(r,o)&&Bp(n,o,r[o]);if(Up)for(var o of Up(r))oO.call(r,o)&&Bp(n,o,r[o]);return n};function iO({communityPost:n,is_freemail:r,author:o,cta:a,withAttribution:_,attributionText:A,hideReply:B,truncateBodyAt:k}){var x;const J=!n||r&&n.audience==="only_paid";let pe=null;return!J&&n.body&&(pe=k?(0,Tt.truncateText)(n.body,k):n.body),(0,e.h)(on.zK,{gap:12,verticalAlign:"top"},(0,e.h)(on.NS,{src:(x=o==null?void 0:o.photo_url)!=null?x:"",size:40}),(0,e.h)(on.i$,{gap:4,style:{lineHeight:0}},_&&(0,e.h)(Ca.xn,{isStatic:!0,text:A||`From ${o!=null&&o.name?(0,Tt.possessive)(o.name):"Substack user"} subscriber chat`}),J?(0,e.h)(sO,null):[n.type==="media"&&n.media_assets?n.media_assets.slice(0,1).e})):n.type==="link"&&(0,e.h)(uO,{communityPost:n}),pe&&(0,e.h)(Uc,null,(0,e.h)("span",null,(0,e.h)(i.Zx,{weight:"bold"},o?o.name:"Substack writer")," ",pe))],!B&&(0,e.h)(Uc,null,(0,e.h)(on.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(i.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(Ms.Z,{size:20,stroke:"var(--color-secondary}"}))))),a&&(0,e.h)(on.b9,{fullWidth:!0,href:a.url},a.text),a&&a.blurb&&(0,e.h)("div",null,(0,e.h)(i.xv,{color:"secondary",align:"center",size:14,lineHeight:20},a.blurb))))}function Uc(n){return(0,e.h)("div",aO({className:Wl.bubble},n))}function sO(){return(0,e.h)("div",{className:Wl.paywallBubble,style:{backgroundImage:`url(${(0,gt.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(i.xv.Meta,null,"SUBSCRIBERS ONLY"))}function lO({asset:n}){var r;return(0,e.h)("img",{className:Wl.img,width:400,src:(0,gt.imginary)((r=n.url)!=null?r:"",400*2,{crop:"limit",height:400*2})})}function uO({communityPost:n}){var r,o;const{link_metadata:a,link_url:_}=n,A=(o=(r=a==null?void 0:a.url)!=null?r:_)!=null?o:"";let B;try{const k=new URL(A);B=`${k.host}${k.pathname}${k.search}${k.hash}`}catch(k){B=A}return(0,e.h)(Uc,null,(0,e.h)(on.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(a==null?void 0:a.title)&&(0,e.h)(i.xv,{font:"serif",lineHeight:24},a.title),(0,e.h)(i.xv.Meta,{color:"secondary"},B)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(a==null?void 0:a.image)&&(0,e.h)("img",{className:Wl.linkImg,src:(0,gt.imginary)(a.image,72*2,{height:72*2,smartCrop:!0})})))))}function XW({utm_campaign:n,utm_source:r,style:o}){const a="Chat is a place to hang out with your favorite writers. Every week we\u2019ll send a roundup of Chats you missed from writers you subscribe to.",_=getGlobalAccountSettingsUrl({utm_source:r,section:"notifications",highlightNotification:null}),A=getChatAppLinkUrl({utm_source:r,utm_campaign:n});return h(Box,{padding:12,border:"detail",bg:"secondary",radius:12,style:o},h(Text.H3,null,"Why am I getting this?"),h(Text.B4,{size:14,color:"secondary",style:{marginTop:8}},a,h("br",null),h("br",null),"You can change your notification settings on web ",h("a",{href:_}," here"),"."),h(EmailHStack,{gap:8,style:{marginTop:20}},h(ThemedEmailButtonMod,{priority:"primary",href:A},"Open App"),h(ThemedEmailButtonMod,{priority:"secondary",href:_},"Visit Settings")))}const Bc={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var cO=Object.defineProperty,dO=Object.defineProperties,fO=Object.getOwnPropertyDescriptors,kp=Object.getOwnPropertySymbols,pO=Object.prototype.hasOwnProperty,hO=Object.prototype.propertyIsEnumerable,Fp=(n,r,o)=>r in n?cO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,mO=(n,r)=>{for(var o in r||(r={}))pO.call(r,o)&&Fp(n,o,r[o]);if(kp)for(var o of kp(r))hO.call(r,o)&&Fp(n,o,r[o]);return n},_O=(n,r)=>dO(n,fO(r));function gO({postId:n}){var r;const{error:o,result:a}=(0,Pn.ib)({pathname:`/api/v1/community/posts/${n}`,auto:!0,deps:[n]}),_=o instanceof Pn.kp&&o.response.status===402&&((r=o.body)==null?void 0:r.status)==="PAID_SUBSCRIPTION_REQUIRED"?o.body:null;return(0,e.h)(ne.hs,{as:"a",className:Bc.container,target:"_blank",href:(0,gt.getCommunityPostAppLinkUrl)({postId:n,utm_source:j.UTM_SOURCE.threadEmbed}),"data-component-name":"CommunityPostEmbed"},_?(0,e.h)(Ca.V8,{author:_.user}):o?"Error":a&&(0,e.h)(Ca.Jg,{author:a.user,communityPost:a.communityPost,withAttribution:!0,isReadOnly:!0}))}function vO(n){const{postId:r}=n;return(0,e.h)("a",{className:Bc.emailWrapper,href:(0,gt.getCommunityPostAppLinkUrl)({postId:r,utm_source:j.UTM_SOURCE.threadEmbed,modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:Bc.container},(0,e.h)(iO,_O(mO({},n),{withAttribution:!0}))))}var es=je(31517),Wp=je(26240),jp=je(67565),yO=je(52543),jl=je(50670),EO=je(95406),Vp=je(6742),Hp=je(41474),Kp=je(55687);const kc={container:"frontend-feed-CommentEmbed-module__container--IBfEM",note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function bO({commentId:n}){const{isLoading:r,error:o,result:a}=(0,Pn.ib)({pathname:`/api/v1/reader/comment/${n}`,auto:!0,deps:[n]});return o instanceof Pn.kp?o.getMessage():!a||r?(0,e.h)(OO,null):(0,e.h)(PO,{feedItem:a.item})}function PO({feedItem:n}){var r,o,a,_,A;const{comment:B,parentComments:k}=n,{truncatedBodyJson:x}=(0,EO.Z)(B),J=k[k.length-1],pe=(r=B.attachments)==null?void 0:r.find(Pe=>Pe.type!=="image"),_e=(o=B.attachments)==null?void 0:o.filter(Pe=>Pe.type==="image"),ye=(0,t.sO)(null);return(0,Vp.UM)(ye,()=>(0,Hp.zi)(n,"post-embed"),{threshold:.2}),(0,e.h)(ne.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:kc.container},(0,e.h)(Al.h,null,(0,e.h)(ne.hs,{as:"a",target:"_blank",href:(0,gt.getFeedCommentUrl)(B),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:kc.note,ref:ye},(0,e.h)(ne.hs,{flex:"auto"},(0,e.h)(jl.Zb,{user:B})),(0,e.h)(ne.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(ne.tu,{minWidth:0,flex:"grow"},(0,e.h)(jl.KF,null,(0,e.h)(i.Zx,{weight:"semibold"},B.name),(0,e.h)(Hr.o,{tier:B.user_bestseller_tier}),(0,e.h)(jl.Ku,{timestamp:B.date})),J&&(0,e.h)(i.xv.Detail,null,"Replying to ",J.name),(0,e.h)(ne.tu,{gap:12,flex:"grow"},(0,e.h)(jl.sP,null,x&&(0,e.h)(yO.x,{content:x})),(0,e.h)(jp.y,{attachments:pe?[pe]:_e||[],readOnly:!0,onAttachmentClick:({commentId:Pe}={})=>(0,Hp.rw)(n,"post-embed","attachment",{extraEventProps:{commentId:Pe}}),utm_content:n.entity_key}))),(0,e.h)(ne.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(Vl,{icon:(0,e.h)(Ec.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(a=B.reaction_count)!=null?a:0}),(0,e.h)(Vl,{icon:(0,e.h)(Wp.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(_=B.children_count)!=null?_:0}),(0,e.h)(Vl,{icon:(0,e.h)(es.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(A=B.restacks)!=null?A:0}),(0,e.h)(Vl,{icon:(0,e.h)(Nl.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function Vl({icon:n,count:r}){return(0,e.h)(ne.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},n,(0,e.h)(i.xv.Digit,{color:"secondary"},r>0&&(0,Kp.u)(r)))}function OO(){return(0,e.h)(Al.h,null,(0,e.h)(ne.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(ne.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:kc.note},(0,e.h)(Lr.Vm,{type:"circle",size:48}),(0,e.h)(ne.tu,{gap:12,flex:"grow"},(0,e.h)(Lr.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Lr.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Lr.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Lr.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var CO=Object.defineProperty,wO=Object.defineProperties,SO=Object.getOwnPropertyDescriptors,$p=Object.getOwnPropertySymbols,TO=Object.prototype.hasOwnProperty,IO=Object.prototype.propertyIsEnumerable,Gp=(n,r,o)=>r in n?CO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,MO=(n,r)=>{for(var o in r||(r={}))TO.call(r,o)&&Gp(n,o,r[o]);if($p)for(var o of $p(r))IO.call(r,o)&&Gp(n,o,r[o]);return n},DO=(n,r)=>wO(n,SO(r));const AO=n=>(0,e.h)(Te.l,DO(MO({},n),{name:"MoreIcon",svgParams:{height:24,width:24,fill:n.fill,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var ts=je(4508);const NO={note:"frontend-feed-EmailFeedItem-module__note--vNa7N"};function qW({item:n,utmSource:r,hideUfi:o}){const{comment:a}=n;return h(zp,{comment:a,utmSource:r,hideUfi:o})}function zp({comment:n,utmSource:r,hideUfi:o,commentLinkUrl:a}){var _,A,B,k,x,J,pe,_e;if(!n)return(0,e.h)(i.xv.B3,{"data-component-name":"EmailCommentEmbedError"},"Could not load comment");const ye=(_=n.attachments)==null?void 0:_.find(Ne=>Ne.type==="image"),Pe=(A=n.attachments)==null?void 0:A.find(Ne=>Ne.type==="post"),Ce=Pe==null?void 0:Pe.postSelection,Se=(B=n.attachments)==null?void 0:B.find(Ne=>Ne.type!=="image"),Ae=Se&&(0,jp.k)(Se);return(0,e.h)(ts.xu,{as:"a",href:a!=null?a:(0,gt.getFeedCommentUrl)(n,{urlParams:{utm_source:r}}),padding:16,radius:12,border:"detail",className:NO.note,"data-component-name":"EmailCommentEmbed"},(0,e.h)(on.zK,{style:{width:"100%"},verticalAlign:"top",gap:12,growLastChild:!0},(0,e.h)(on.NS,{src:(x=n.photo_url)!=null?x:(0,p.getDefaultUserPhotoById)((k=n.user_id)!=null?k:0),size:48}),(0,e.h)(on.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(ts.xu,null,(0,e.h)(i.xv.B3,null,(0,e.h)(i.Zx,{weight:"semibold"},n.name)," ",(0,e.h)(i.Zx,{color:"secondary"},Sr()(n.date).fromNowShort())),(0,e.h)(i.xv.B3,null,(0,Tt.truncateWords)(n.body,420))),Pe&&Ce&&(0,e.h)(i.xv.B3,null,(0,e.h)(LO,{attachment:Pe,selection:Ce})),Ae&&!Pe&&(0,e.h)(i.xv.B4,{color:"accent-blue"},Ae),ye&&(0,e.h)(RO,{attachment:ye}),!o&&(0,e.h)(on.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(Ec.Z,{width:16,height:16,strokeWidth:1.5,stroke:ks,style:Hl,fill:"none",isStatic:!0}),(0,e.h)(Fc,{count:(J=n.reaction_count)!=null?J:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(Wp.Z,{height:16,width:16,strokeWidth:1.5,stroke:ks,style:Hl,isStatic:!0}),(0,e.h)(Fc,{count:(pe=n.children_count)!=null?pe:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(es.Z,{height:16,width:16,strokeWidth:1.5,stroke:ks,style:Hl,isStatic:!0}),(0,e.h)(Fc,{count:(_e=n.restacks)!=null?_e:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(AO,{height:16,width:16,strokeWidth:2,stroke:ks,fill:ks,style:Hl,isStatic:!0})))))))}const Hl={display:"inline-block",verticalAlign:"middle"};function Fc({count:n}){return(0,e.h)(i.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},n>0?(0,Kp.u)(n):" ")}const ks="#808080";function LO({attachment:n,selection:r}){return(0,e.h)(ts.xu,{padding:12,radius:12,bg:"secondary"},(0,e.h)(i.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},(0,Tt.truncateWords)(r.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014 ",(0,cr.getPostAuthor)(n.publication,n.post).name))}function RO({attachment:n}){return(0,e.h)(ts.xu,{as:"img",src:(0,gt.imginary)(n.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:12,style:{maxHeight:600,objectFit:"cover",margin:0}})}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=(0,$r.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),rs={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},UO=({avatarUrl:n,name:r,url:o})=>{const{iString:a}=(0,l.M1)();return(0,e.h)(on.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(on.zK,{gap:12},(0,e.h)(on.NS,{src:n,size:40}),(0,e.h)(on.i$,null,(0,e.h)(i.xv.H4,{translated:!0,size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(r)),(0,e.h)(i.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(on.Bj,{tableClassName:rs.emailButton,href:o},a("Book meeting")))},BO=({avatarUrl:n,name:r,url:o})=>{const{iString:a}=(0,l.M1)();return(0,e.h)(ne.hs,{direction:{mobile:"column",desktop:"row"},radius:12,padding:24,alignItems:"center",className:rs.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(ne.gq,{className:rs.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)(kl,{className:rs.avatar,imageUrl:n,size:40,badge:(0,e.h)("div",{className:rs.badge},(0,e.h)(xO,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(i.xv.H4,{translated:!0,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(r)),(0,e.h)(i.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(be.zx,{className:rs.cta,priority:"primary-theme",onCl})}},a("Book meeting")))};var Zp=je(94016),Kl=je(68919),kO=je(97737),FO=je(14846),WO=Object.defineProperty,jO=Object.defineProperties,VO=Object.getOwnPropertyDescriptors,Yp=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty,KO=Object.prototype.propertyIsEnumerable,Jp=(n,r,o)=>r in n?WO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,$O=(n,r)=>{for(var o in r||(r={}))HO.call(r,o)&&Jp(n,o,r[o]);if(Yp)for(var o of Yp(r))KO.call(r,o)&&Jp(n,o,r[o]);return n},GO=(n,r)=>jO(n,VO(r));const zO=n=>(0,e.h)(Te.l,GO($O({},n),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var Fs=je(97864),ZO=Object.defineProperty,YO=Object.defineProperties,JO=Object.getOwnPropertyDescriptors,Xp=Object.getOwnPropertySymbols,XO=Object.prototype.hasOwnProperty,QO=Object.prototype.propertyIsEnumerable,Qp=(n,r,o)=>r in n?ZO(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,qO=(n,r)=>{for(var o in r||(r={}))XO.call(r,o)&&Qp(n,o,r[o]);if(Xp)for(var o of Xp(r))QO.call(r,o)&&Qp(n,o,r[o]);return n},eC=(n,r)=>YO(n,JO(r));const tC=n=>(0,e.h)(Te.l,eC(qO({},n),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),rC={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var nC=Object.defineProperty,oC=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,qp=Object.getOwnPropertySymbols,iC=Object.prototype.hasOwnProperty,sC=Object.prototype.propertyIsEnumerable,eh=(n,r,o)=>r in n?nC(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,th=(n,r)=>{for(var o in r||(r={}))iC.call(r,o)&&eh(n,o,r[o]);if(qp)for(var o of qp(r))sC.call(r,o)&&eh(n,o,r[o]);return n},rh=(n,r)=>oC(n,aC(r)),lC=(n=>(n.Embed="Embed audio",n.Voiceover="Add voiceover",n.Podcast="Audio",n.PodcastPreview="Podcast free version",n.VideoPodcast="Video",n.ShareQuote="Share quote",n))(lC||{}),uC=(n=>(n.Embed="Upload or record an audio file embedded into the text.",n.Voiceover="Upload or record a new voiceover: an audio version of your post.",n.Podcast="Create a new audio post by uploading or recording an audio file.",n.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",n.VideoPodcast="Create a new video post by uploading or recording a video file. The audio from your video will be delivered to podcast players if selected in the publish settings.",n.ShareQuote="Upload or record an audio file that will be used as a share quote.",n))(uC||{}),cC=(n=>(n[n.PubAccent=0]="PubAccent",n[n.PubFull=1]="PubFull",n[n.Substack=2]="Substack",n))(cC||{});const Wc=({containerRef:n,currentTime:r,remainingTime:o,progress:a,onMouseDown:_,shouldCollapseOnMobile:A=!1,theme:B=1})=>(0,e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,e.h)("div",{className:s()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":A})},r),(0,e.h)("div",{ref:n,className:s()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":A}),onMouseDown:_},(0,e.h)("div",{className:s()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":B===1,"tw-bg-substack-detail":B!==1})}),(0,e.h)("div",{className:s()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":B!==2,"tw-bg-substack-accent":B===2}),style:{width:`${a*100}%`}}),(0,e.h)("div",{className:s()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":B===1,"tw-border-substack-bg":B!==1,"tw-bg-substack-accent":B===2,"tw-bg-pub-accent":B!==2}),style:{left:`${a*100}%`}})),(0,e.h)("div",{className:"tw-min-w-[40px]"},o)),$l=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],jc=({onSetPlaybackRate:n,playbackRate:r,className:o})=>{const a=$l.findIndex(({value:_})=>_===r);return(0,e.h)("div",{onClick:()=>{const _=(a+1)%$l.length;n($l[_].value)},className:o},$l[a].display,"\xD7")},rj=({togglePlayback:n,isPlaying:r,isDisabled:o=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:o}),o||n()},className:"tw-flex tw-justify-center tw-pb-8"},r?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!o,"tw-fill-pub-accent":!o,"tw-fill-substack-detail":o}),stroke:"none",height:28})),dC=({isPlaying:n,onSkipBack:r,onSkipForward:o,onTogglePlayback:a})=>(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},r&&(0,e.h)("div",{onClick:r,role:"button",className:"tw-cursor-pointer"},(0,e.h)(kO.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,e.h)("div",{className:s()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:a,role:"button"},n?(0,e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,e.h)(Fs.Z,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),o&&(0,e.h)("div",{onClick:o,role:"button",className:"tw-cursor-pointer"},(0,e.h)(FO.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),nh=n=>(0,e.h)(Kl.Z,rh(th({},n),{metricsPost:n.post,feature:"Embed audio",render:({currentTime:r,isPlaying:o,progress:a,progressBarRef:_,progressBarOnMouseDown:A,remainingTime:B,playbackRate:k,setPlaybackRate:x,togglePlayback:J})=>(0,e.h)("div",{"data-component-name":"AudioEmbedPlayer","data-drag-handle":"",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,e.h)(jc,{onSetPlaybackRate:x,playbackRate:k,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},n.label&&(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},n.label),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,e.h)(Wc,{currentTime:r,remainingTime:B,containerRef:_,progress:a,onMouseDown:A}))),(0,e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:J,role:"button"},o?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Fs.Z,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),oh=({pub:n,post:r,duration:o,label:a})=>{var _;const{iString:A}=(0,l.M1)();return(0,e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,e.h)("tr",null,(0,e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,e.h)("a",{href:r==null?void 0:r.canonical_url,className:s()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",rC.noUnderline)},(0,e.h)(zO,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(_=n.theme)==null?void 0:_.background_pop_color,isStatic:!0}),(0,e.h)("span",{className:"tw-align-middle"},(0,Tt.truncateText)(a,10)||A("Listen now")," \xB7 ",(0,Tt.secondsToHHMMSS)(o||0))))))},fC=n=>{const r=(0,Ac.useMediaQuery)({maxWidth:631}),o=`/api/v1/audio/upload/${n.mediaUploadId}/src`,{iString:a,iTemplate:_}=(0,l.M1)();return(0,e.h)(Kl.Z,rh(th({},n),{src:o,feature:"Add voiceover",metricsPost:n.post,render:({isPaywalled:A,currentTime:B,isPlaying:k,progress:x,progressBarRef:J,progressBarOnMouseDown:pe,remainingTime:_e,playbackRate:ye,setPlaybackRate:Pe,togglePlayback:Ce})=>(0,e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,e.h)(tC,{className:"tw-stroke-pub-secondary-text"})),(0,e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},A?(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},a("Upgrade to paid to play voiceover")):(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},a("Article voiceover")),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,e.h)(jc,{onSetPlaybackRate:Pe,playbackRate:ye,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)(Wc,{currentTime:B,remainingTime:_e,containerRef:J,progress:x,onMouseDown:pe,shouldCollapseOnMobile:!0}))),A?(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,e.h)(Fs.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:r?20:24})):(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Ce,role:"button"},k?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(Fs.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},nj=({pub:n,post:r,isPaywalled:o})=>{var a,_,A;const B=o?"Upgrade to paid for post voiceover":`Listen to post ${((a=r.voiceoverUpload)==null?void 0:a.duration)&&`\xB7 ${secondsToHHMMSS(r.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=${UTM_SOURCE.substack}&utm_medium=${UTM_MEDIUM.email}#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:o?(_=n.theme)==null?void 0:_.background_contrast_3:(A=n.theme)==null?void 0:A.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},B)))))},oj=({isOpen:n,onDismiss:r,onDeleteAudio:o})=>{const{iString:a}=useI18N();return h(Modal,{isOpen:n,onClose:r},h(ModalHeader,{includeClose:!1,title:a("Something went wrong...")}),h(ModalBody,null,a("Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience.")),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:o,variant:"primary"},a("Got it"))}))};var pC=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const(2),mC=({symbol:n,prependSymbol:r=!1,isStatic:o=!1})=>{const a=`/api/v1/price/${n}`,[_,A]=(0,t.eJ)(null),[B,k]=(0,t.eJ)(null),[x,J]=(0,t.eJ)(!1);return(0,t.d4)(()=>{(()=>pC(void 0,null,function*(){try{const _e=yield Ze().get(a);if(_e.body){if(_e.body.status==="not_found"){J(!0);return}A(_e.body.price),k(_e.body.change_pct)}}catch(_e){J(!0)}}))()},[a]),!r&&n.startsWith("$")&&(n=n.slice(1)),o?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,p.getStockLandingUrl)(n)}`},n," ")):x?(0,e.h)("span",null,n," "):(0,e.h)("a",{className:s()("cashtag",{neutral:B==0,positive:B&&parseFloat(B)>0,negative:B&&parseFloat(B)<0}),target:"_blank",rel:"noopener",href:`${(0,p.getStockLandingUrl)(n)}`,"data-attrs":JSON.stringify({symbol:n}),"data-component-name":"Cashtag"},`${n.toUpperCase()} `,(0,e.h)("span",null,(0,e.h)("span",null,(0,e.h)("span",{className:s()("delta")},`${hC(B||0)}%`,!B||parseFloat(B)>0?String.fromCharCode(8593):String.fromCharCode(8595)))))},_C=({href:n,children:r})=>n?(0,e.h)("a",{href:n,target:"_blank",rel:"noopener",style:{textDecoration:"none"}},r):r,Uo={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",placeholder:"frontend-components-document_body-image3-Image3-module__placeholder--WQYa0",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",inlineCaptionEditor:"frontend-components-document_body-image3-Image3-module__inlineCaptionEditor--vOSDN",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",mediaControlTextEditor:"frontend-components-document_body-image3-Image3-module__mediaControlTextEditor--jdcMY",hasCaption:"frontend-components-document_body-image3-Image3-module__hasCaption--Osk42",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz",pointer:"frontend-components-document_body-image3-Image3-module__pointer--u_ynD"},gC=({align:n,width:r})=>{const o={};if(n==="center"||r==="100%"||r>=p.EMAIL_CONTENT_WIDTH)return o;const a=n==="left"?"paddingRight":"paddingLeft";return o[a]=p.EMAIL_CONTENT_WIDTH-r,o},vC=({src:n,alt:r,title:o,width:a,height:_,align:A,href:B,captionHtml:k})=>{const x=a==="100%"?p.EMAIL_CONTENT_WIDTH:a;return(0,e.h)("div",{className:s()(Uo.staticView),"data-component-name":"Image3Static"},(0,e.h)(_C,{href:B},(0,e.h)("div",{style:gC({align:A,width:a}),className:s()(Uo.staticImageWrap)},(0,e.h)("img",{width:x,height:_,src:(0,p.imginary)(n,2*p.EMAIL_CONTENT_WIDTH),alt:r}),!k&&o&&(0,e.h)("div",{className:s()(Uo.caption,Uo.static)},o),!!k&&(0,e.h)("div",{className:s()(Uo.caption,Uo.static),dangerouslySetInnerHTML:{__html:k}}))))};var Vc=je(55661);const yC=({src:n,alt:r,title:o,width:a,size:_,align:A,href:B,captionHtml:k})=>{const x=(0,Fn.hasCustomThemeContext)("post"),J=B||(x?n:null),[pe,_e]=(0,t.eJ)(!1),ye=(0,t.sO)(null),Pe=()=>{B?window.open(B,"_blank"):x&&J?window.open(J,"_blank"):_e(!0)},Ce=()=>{switch(_){case"large":return p.LARGE_IMAGE_WIDTH;case"full":return typeof window!="undefined"?window.innerWidth:p.MAX_REASONABLE_SCREEN_WIDTH;default:return a==="100%"?p.WEB_CONTENT_WIDTH:a}};return(0,e.h)("figure",{className:s()(Uo.mediaNodeView,A&&Uo[`align-${A}`||""]),"data-component-name":"Image3Dynamic"},(0,e.h)(ne.gq,{className:s()(Uo.imageContainer,Uo[_],{[Uo.pointer]:J,[Uo.zoom]:!J}),onClick:Pe},(0,e.h)(ne.tu,{gap:8},(0,e.h)(Xe.e,{className:Uo[_],src:n,alt:r,title:o,maxWidth:Ce(),imageRef:ye,useRetinaSizing:!0,imageIsFixedWidth:!1}),!k&&!!o&&(0,e.h)("figcaption",{"data-component-name":"Image3DynamicTitle",className:Uo.caption},o),!!k&&(0,e.h)("figcaption",{"data-component-name":"Image3DynamicCaption",className:Uo.caption,dangerouslySetInnerHTML:{__html:k}}))),(0,e.h)(Vc.ImageViewerModal,{showModal:pe,modalContent:[{attrs:{src:n,alt:r,title:o}}],onClose:()=>_e(!1),step:0}))},Ho={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"};var EC=Object.defineProperty,bC=Object.defineProperties,PC=Object.getOwnPropertyDescriptors,ah=Object.getOwnPropertySymbols,OC=Object.prototype.hasOwnProperty,CC=Object.prototype.propertyIsEnumerable,ih=(n,r,o)=>r in n?EC(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,wC=(n,r)=>{for(var o in r||(r={}))OC.call(r,o)&&ih(n,o,r[o]);if(ah)for(var o of ah(r))CC.call(r,o)&&ih(n,o,r[o]);return n},SC=(n,r)=>bC(n,PC(r));const sh=(n,r)=>r===1?"large":r===2||r===4?"medium":r%3===0?"small":r===5||r===7?n<=2?"small":"medium":n<=5?"small":"medium",lh={small:237,medium:360,large:728},uh=({src:n,size:r,onSelectImage:o,useViewer:a=!1,alt:_})=>{cons()};return(0,e.h)(Xe.e,{src:n,alt:_,maxWidth:2*lh[r],className:s()(Ho.image,Ho[r],a&&Ho.zoom),onClick:A})},TC=(n,r="",o="")=>{const a=[];for(const _ in n){const A=n[_],{height:B=0,width:k=0}=(0,gt.extractDimensionsFromImageUrl)(A.src)||{},x=`(${Number(_)+1} of ${n.length})`,J={src:A.src,height:B,width:k,alt:`${o} ${x}`,title:`${r} ${x}`};a.push({attrs:J})}return a},IC=({onEditGallery:n,editGalleryRef:r})=>(0,e.h)(ne.hs,{justifyContent:"center",alignItems:"center",className:Ho.editGalleryWrap},(0,e.h)(Zo.Fx,{ref:r,noList:!0},(0,e.h)(ne.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Ho.editGallery},(0,e.h)(Qi.Z,{height:20})))),MC=({node:n,editor:r})=>{const{gallery:o}=n.attrs,a=n.attrs.isEditor||r,{caption:_,alt:A}=o,B=o.images.e})),k=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[x,J]=(0,t.eJ)(!1),[pe,_e]=(0,t.eJ)(0),ye=(0,t.sO)(null),Pe=B.length===1,Ce=TC(B,_)0)},Ae=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(B.length===0)return null;const Ne=ze=>{var Je,Ye;a&&(ze?(Je=ye.current)==null||Je.open():(Ye=ye.current)==null||Ye.close())},Ve=ch(B);return(0,e.h)("figure",{className:s()(Ho.imageGallery,a&&Ho.canEdit),onMouseEnter:()=>Ne(!0),onMouseLeave:()=>Ne(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},a&&o&&(0,e.h)(IC,{onEditGallery:Ae,editGalleryRef:ye}),(0,e.h)(ne.tu,{gap:8},Pe?(0,e.h)(uh,{src:B[0].src,alt:A,caption:_,size:sh(0,1),onSelectImage:()=>Se(0),useViewer:k}):Ve.map(ze=>(0,e.h)(ne.hs,{className:s()(Ho.imageRow,Ho[`length-${ze.length}`]),gap:8},ze.map(Je=>(0,e.h)(uh,{src:Je.src,alt:A,caption:_,size:sh(Je.idx,B.length),onSelectImage:()=>Se(Je.idx),useViewer:k})))),_&&(0,e.h)("figcaption",{className:Ho.imageCaption},_)),(0,e.h)(Vc.ImageViewerModal,{showModal:x,modalContent:Ce,onClose:()=>J(!1),step:pe}))},DC=({node:n})=>{const{gallery:r}=n.attrs;if(!r)return null;const{alt:o,staticGalleryImage:a,caption:_}=r;return a?(0,e.h)("div",{className:s()(Ho.static,Ho.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,gt.imginary)(a.src,2*lh.large),alt:o}),_&&(0,e.h)("div",{className:s()(Ho.imageCaption,Ho.static)},_)):null};function ch(n){const r=n.length===4?2:3;let o=[n.slice(0,r)];const a=n.slice(r);return a.length>0&&(o=o.concat(ch(a))),o}var Ii=(n=>(n.CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n))(Ii||{});const AC={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},ij={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365};var NC=Object.defineProperty,LC=Object.defineProperties,RC=Object.getOwnPropertyDescriptors,dh=Object.getOwnPropertySymbols,xC=Object.prototype.hasOwnProperty,UC=Object.prototype.propertyIsEnumerable,fh=(n,r,o)=>r in n?NC(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,BC=(n,r)=>{for(var o in r||(r={}))xC.call(r,o)&&fh(n,o,r[o]);if(dh)for(var o of dh(r))UC.call(r,o)&&fh(n,o,r[o]);return n},kC=(n,r)=>LC(n,RC(r));const ph=n=>(0,e.h)(Te.l,kC(BC({strokeLinecap:"round",strokeLinejoin:"round"},n),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}));var ja=je(39493);const FC={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var WC=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const jC=({tierNumber:n,rewardDescription:r,numReferralsRequired:o,pub:a})=>{const[_,A]=(0,t.eJ)([]),B=()=>WC(void 0,null,function*(){const{body:_e}=yield Ze().get("/api/v1/reader_referrals/tiers");A(_e.tiers)}),{iString:k}=(0,l.M1)();if((0,t.d4)(()=>{B()},[]),!n||!r||!a.id)return(0,e.h)("div",{"data-component-name":"ReferralsTierCardError"});const x=_[n-1],J=x?x.reward_type==="custom"?x.reward_description:k(AC[x.reward_type]):r,pe=x?x.num_referrals_required:o;return pe?(0,e.h)(ne.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((_e,ye)=>(0,e.h)(ph,{width:20,height:20,strokeWidth:2,stroke:a.theme_var_background_pop||"#FF6719",fill:a.theme_var_background_pop||"#FF6719",key:ye}))),(0,e.h)(ne.tu,{gap:4},(0,e.h)(i.xv.H4,null,J),(0,e.h)(i.xv.Meta,{translated:!0},"Tier ",I18N.p(n)," reward - ",I18N.p(pe)," Referrals")),(0,e.h)(ne.gq,{alignItems:"center"},(0,e.h)(ja.Z,{pub:a,logo_url:a.logo_url,size:24}),(0,e.h)(i.xv.Meta,{color:"primary",as:"a",href:(0,p.getBaseUrl)(a),decoration:"none",weight:"bold"},a.name))):(0,e.h)("div",{"data-component-name":"ReferralsTierCardError"})},VC=({tierNumber:n,pub:r})=>!n||!r.id?(0,e.h)("div",null):(0,e.h)("a",{href:`${fo.Substitutions.LEADERBOARD_URL}&utm_source=${j.UTM_SOURCE.rewardEmail}`,className:FC.referralsTierCard},(0,e.h)(on.i$,{gap:16},(0,e.h)(on.zK,{style:{lineHeight:0},gap:4},Array(n).fill(0).map((o,a)=>(0,e.h)(ph,{width:20,height:20,strokeWidth:2,key:a,stroke:r.theme_var_background_pop||"#FF6719",fill:r.theme_var_background_pop||"#FF6719",isStatic:!0}))),(0,e.h)(on.i$,{gap:4},(0,e.h)(i.xv.H4,null,fo.Substitutions.REWARD_DESCRIPTION),(0,e.h)(i.xv.Meta,{translated:!0},"Tier ",I18N.p(n)," reward - ",I18N.p(fo.Substitutions.NUM_REFERRALS_REQUIRED)," Referrals")),(0,e.h)(on.zK,{verticalAlign:"middle"},(0,e.h)(ja.Z,{isStatic:!0,pub:r,logo_url:r.logo_url,size:24}),(0,e.h)(i.xv.Meta,{color:"primary",as:"a",href:(0,p.getBaseUrl)(r),decoration:"none",weight:"bold"},r.name))));var HC=je(66219),si=je(25346);const Mi={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},KC=({mediaUploadId:n,post:r,pub:o,isEditor:a=!1})=>{const[_,A]=(0,t.eJ)(null),B=(0,t.sO)(null),{iString:k}=(0,l.M1)(),x=Pe=>{var Ce,Se;a&&(Pe?(Ce=B.current)==null||Ce.open():(Se=B.current)==null||Se.close())},{mediaUpload:J,loading:pe,error:_e}=(0,HC.z)({mediaUploadId:n});n&&!_&&J&&A(J);const ye=(0,t.))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,gt.getLinkableElementIdForVideo)({mediaUploadId:n}),className:Mi.videoScrollTarget},pe?(0,e.h)("div",{className:Mi.videoPlaceholder},k("Loading video")):_e||!_?(0,e.h)("div",{className:Mi.videoPlaceholder},k("Could not load video.")):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:s()(Mi.videoEmbed,a&&Mi.canEdit),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},a&&(0,e.h)($C,{onEditVideoEmbed:ye,menuRef:B}),(0,e.h)(si.Z,{mediaUpload:_,isStatic:!1,pub:o}))))},$C=({onEditVideoEmbed:n,menuRef:r})=>(0,e.h)(ne.hs,{justifyContent:"center",alignItems:"center",className:Mi.editVideoEmbedWrap},(0,e.h)(Zo.Fx,{ref:r,noList:!0},(0,e.h)(ne.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Mi.editVideoEmbed},(0,e.h)(Qi.Z,{height:20}))));var GC=je(91036),hh=je.n(GC);const In={digestPostEmbed:"frontend-components-document_body-digest_post-index-module__digestPostEmbed--sMA_c",menu:"frontend-components-document_body-digest_post-index-module__menu--NYCdz",caption:"frontend-components-document_body-digest_post-index-module__caption--WOwgk",captionEditor:"frontend-components-document_body-digest_post-index-module__captionEditor--Bjh6s",smSquare:"frontend-components-document_body-digest_post-index-module__smSquare--UVy3Q",mdSquare:"frontend-components-document_body-digest_post-index-module__mdSquare--Vjq_V",fullWidth:"frontend-components-document_body-digest_post-index-module__fullWidth--IqMXj",inheritColor:"frontend-components-document_body-digest_post-index-module__inheritColor--nZC_y",link:"frontend-components-document_body-digest_post-index-module__link--_wMsT",disableLink:"frontend-components-document_body-digest_post-index-module__disableLink--wRVkl"};var zC=Object.defineProperty,ZC=Object.defineProperties,YC=Object.getOwnPropertyDescriptors,mh=Object.getOwnPropertySymbols,JC=Object.prototype.hasOwnProperty,XC=Object.prototype.propertyIsEnumerable,_h=(n,r,o)=>r in n?zC(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,QC=(n,r)=>{for(var o in r||(r={}))JC.call(r,o)&&_h(n,o,r[o]);if(mh)for(var o of mh(r))XC.call(r,o)&&_h(n,o,r[o]);return n},qC=(n,r)=>ZC(n,YC(r));const Gl=n=>{n.stopPropagation()},ew=({editing:n,caption:r,onFocus:o,onSave:a,onCancel:_})=>{const A=r.replace(/<br\s*\/?>/gi,`
`),[B,k]=(0,t.eJ)(A);return n?(0,e.h)(u.tu,{flex:"grow"},(0,e.h)(u.gx,{name:"description",value:B,onChange:x=>{k(x.target.value)},className:In.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:Gl,onKeyDown:Gl,onCopy:Gl,onPaste:Gl}),(0,e.h)(u.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(u.zx,{priority:"secondary-theme",onClick:_},"Cancel"),(0,e.h)(u.zx,{priority:"primary-theme",onClick:()=>{const x=B.replace(/\n/g,"<br>"),J=hh()(x,qC(QC({},hh().defaults),{allowedTags:["br"]}));a(J)}},"Save"))):(0,e.h)("p",{onClick:o,className:In.caption,dangerouslySetInnerHTML:{__html:r}})};var gh=je(48960);const tw=({size:n,onOpen:r,onClose:o,onEditCaption:a,onSetLayout:_,onConvertToLink:A,onConvertToEmbeddedPost:B,onDelete:k})=>{const{iString:x}=(0,l.M1)();return(0,e.h)(u.hs,{className:In.menu,justifyContent:"end"},(0,e.h)(Gn.v2,{trigger:(0,e.h)(u.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(eo,{className:In.menuIcon,height:20})),onOpen:r,onClose:o,layerOptions:{placement:"bottom-end"}},(0,e.h)(Gn.sN,{disabled:n==="sm",onClick:()=>_("sm")},x("Small display")),(0,e.h)(Gn.sN,{disabled:n==="md",onClick:()=>_("md")},x("Medium display")),(0,e.h)(Gn.sN,{disabled:n==="lg",onClick:()=>_("lg")},x("Large display")),(0,e.h)(gh.i,null),(n==="lg"||n==="md")&&(0,e.h)(Gn.sN,{onClick:a},x("Edit caption")),(0,e.h)(Gn.sN,{onClick:()=>B()},x("Convert to default")),(0,e.h)(Gn.sN,{onClick:A},x("Convert to link")),(0,e.h)(Gn.sN,{priority:"destructive",onClick:k},x("Remove"))))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=(0,$r.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Hc=({post:n,href:r,isEditor:o,includeUfi:a=!1,paddingTop:_=0,paddingBottom:A=0})=>{const B=(0,so.aF)(),k=(0,wc.I)();return(0,e.h)(ne.gq,{gap:16,paddingTop:_,paddingBottom:A,alignItems:"center"},a&&k&&B&&n&&(0,e.h)(ne.gq,{gap:8,className:"post-ufi"},(0,e.h)(xn.RY,{post:n,pub:k,user:B}),(0,e.h)(xn.L9,{post:n,pub:k}),(0,e.h)(xn.pD,{post:n,pub:k,user:B,style:"button",labelStyle:"cta"})),(0,e.h)(u.xv.Button,{className:s()({[In.disableLink]:o}),as:"a",href:r,align:"center"},(0,e.h)(ne.gq,{gap:8,alignItems:"center",className:In.link},(0,e.h)(u.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(vh,{size:16}))))},yh=({href:n,includeUfi:r=!1,paddingTop:o=0,paddingBottom:a=0})=>(0,e.h)(on.zK,{gap:16,style:{paddingTop:o,paddingBottom:a}},(0,e.h)(u.xv.Button,{as:"a",href:n,align:"center"},(0,e.h)(on.zK,{gap:8},(0,e.h)(u.xv.B4,{color:"pub-accent",as:"span",size:14,className:In.link},"Read full story"))));var Kc=je(45809);const $c=({bylines:n,date:r,isEditor:o})=>(0,e.h)(ne.gq,{alignItems:"center",gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(u.xv.Meta,{className:s()({[In.disableLink]:o}),color:"pub-secondary-text"},(0,e.h)(Kc.M,{array:n||[],limit:3,formatter:({id:a,name:_})=>(0,e.h)("a",{className:In.inheritColor,href:(0,gt.getProfileUrlById)(a,_)},_)})),(0,e.h)(u.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(u.xv.Meta,{color:"pub-secondary-text"},(0,F.formatPostDate)(r))),Eh=({bylines:n,date:r})=>(0,e.h)(on.zK,{gap:4},n!=null&&n.length?(0,e.h)(on.zK,{gap:4},(0,e.h)(u.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(Kc.M,{array:n||[],limit:3,formatter:({id:o,name:a})=>(0,e.h)("a",{className:In.inheritColor,href:(0,gt.getProfileUrlById)(o,a)},a)})),(0,e.h)(u.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(u.xv.Meta,{color:"pub-secondary-text"},(0,F.formatPostDate)(r))),rw=({post:n,isEditor:r,children:o})=>{const{publishedBylines:a,title:_,canonical_url:A,post_date:B,section_name:k,cover_image:x,cover_image_alt:J}=n;return(0,e.h)(ne.tu,null,k&&(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(u.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(u.xv.H2,{color:"pub-primary-text"},_)),(0,e.h)($c,{bylines:a,date:B,isEditor:r}),x&&(0,e.h)(u.xu,{paddingTop:24},(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(Xe.e,{className:In.fullWidth,src:x,alt:J!=null?J:_,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(u.hs,{paddingTop:16,flex:"grow"},r?o:(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},o)),(0,e.h)(Hc,{post:n,href:A,includeUfi:!1,isEditor:r}))},bh=({post:n,children:r})=>{const{publishedBylines:o,title:a,canonical_url:_,post_date:A,section_name:B,cover_image:k,cover_image_alt:x}=n;return(0,e.h)(on.i$,null,B&&(0,e.h)("a",{href:_},(0,e.h)(u.xv.Meta,{color:"pub-primary-text",paddingBottom:8},B)),(0,e.h)("a",{href:_},(0,e.h)(u.xv.H2,{color:"pub-primary-text"},a)),(0,e.h)(Eh,{bylines:o,date:A}),k&&(0,e.h)(u.xu,{paddingTop:24},(0,e.h)("a",{href:_},(0,e.h)(Xe.e,{className:In.fullWidth,src:k,alt:x!=null?x:a,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:_},(0,e.h)(u.xu,{as:"p"},r)),(0,e.h)(yh,{href:_}))},nw=({post:n,isEditor:r,children:o})=>{const{publishedBylines:a,title:_,canonical_url:A,post_date:B,section_name:k,cover_image:x,cover_image_alt:J}=n,pe=(0,Zr.XA)();return(0,e.h)(ne.tu,null,k&&(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(u.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(u.xv.H2,{color:"pub-primary-text"},_)),(0,e.h)($c,{bylines:a,date:B,isEditor:r}),(0,e.h)(u.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},x&&(0,e.h)(u.xu,{style:{width:pe?"unset":140}},(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(Xe.e,{className:pe?In.fullWidth:In.mdSquare,src:x,alt:J!=null?J:_,maxWidth:pe?1300:280,imageProps:{height:Math.round(pe?1300:280),smartCrop:!0}}))),(0,e.h)(ne.tu,{flex:"grow"},r?o:(0,e.h)("a",{href:A,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},o),(0,e.h)(Hc,{post:n,href:A,isEditor:r}))))}r}),aw=({post:n,isEditor:r})=>{const{publishedBylines:o,title:a,canonical_url:_,post_date:A,cover_image:B,cover_image_alt:k}=n;return(0,e.h)("a",{href:_,className:s()({[In.disableLink]:r}),target:"_blank",rel:"noopener"},(0,e.h)(ne.gq,{gap:16},B&&(0,e.h)(u.xu,{style:{width:70,height:70}},(0,e.h)(Xe.e,{className:In.smSquare,src:B,alt:k!=null?k:a,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(ne.tu,null,(0,e.h)(u.xv.H4,{color:"pub-primary-text"},a),(0,e.h)($c,{bylines:o,date:A,isEditor:r}),(0,e.h)(Hc,{post:n,href:_,includeUfi:!1,isEditor:r}))))},iw=({post:n})=>{const{publishedBylines:r,title:o,canonical_url:a,post_date:_,cover_image:A,cover_image_alt:B}=n;return(0,e.h)(on.zK,{gap:16},A&&(0,e.h)(u.xu,{style:{width:70}},(0,e.h)("a",{href:a},(0,e.h)(Xe.e,{className:In.smSquare,src:A,alt:B!=null?B:o,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(on.i$,null,(0,e.h)(u.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:a},o)),(0,e.h)(Eh,{bylines:r,date:_}),(0,e.h)(yh,{href:a})))};var sw=Object.defineProperty,Ph=Object.getOwnPropertySymbols,lw=Object.prototype.hasOwnProperty,uw=Object.prototype.propertyIsEnumerable,Oh=(n,r,o)=>r in n?sw(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ch=(n,r)=>{for(var o in r||(r={}))lw.call(r,o)&&Oh(n,o,r[o]);if(Ph)for(var o of Ph(r))uw.call(r,o)&&Oh(n,o,r[o]);return n};const zl=n=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:n,bubbles:!0}))},cw=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:n,bubbles:!0}))},dw=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:n,bubbles:!0}))}))},pw=({nodeId:n,caption:r,size:o="lg",isEditor:a,title:_,publishedBylines:A,post_date:B,cover_image:k,cover_image_alt:x,canonical_url:J,section_name:pe,id:_e,type:ye,reaction_count:Pe,comment_count:Ce,publication_name:Se,publication_logo_url:Ae,editor:Ne,updateAttributes:Ve,deleteNode:ze,getPos:Je})=>{const[Ye,ht]=(0,t.eJ)(!1),[wt,Ct]=(0,t.eJ)(!1),[It,At]=(0,t.eJ)(!1),xt={title:_,publishedBylines:A,post_date:B,cover_image:k,cover_image_alt:x,canonical_url:J,section_name:pe,id:_e,type:ye,reaction_count:Pe,comment_count:Ce,publication_name:Se,publication_logo_url:Ae},Dt=()=>{Ct(!0),ht(!1),zl({nodeId:n,shouldDisableDrag:!0})},jt=(0,e.h)(ew,{editing:wt,caption:r,onFocus:Dt,onSave:Jt=>{Ct(!1),Ve?Ve({caption:Jt}):zl({nodeId:n,caption:Jt,shouldDisableDrag:!1})},onCancel:()=>{Ct(!1),zl({nodeId:n,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:s()(In.digestPostEmbed),onMouseEnter:()=>!wt&&ht(!0),onMouseLe!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,a&&Ye&&(0,e.h)(tw,{size:o,onOpen:()=>At(!0),onClose:()=>At(!1),onEditCaption:Dt,onSetLayout:Jt=>{Ve?Ve({size:Jt}):zl(Ch({nodeId:n,caption:r,size:Jt},xt))},onConvertToEmbeddedPost:()=>{Ne&&Je?Ne.commands.convertDigestPostEmbedToEmbeddedPostV2({pos:Je(),attrs:Ch({url:J},xt)}):dw({url:J})},onConvertToLink:()=>{Ne&&Je?Ne.commands.convertDigestPostEmbedToLinkV2({pos:Je(),url:J}):cw({url:J})},onDel()}}),o==="sm"&&(0,e.h)(aw,{post:xt,isEditor:a}),o==="md"&&(0,e.h)(nw,{post:xt,isEditor:a},a?jt:(0,e.h)("p",{className:In.caption,dangerouslySetInnerHTML:{__html:r}})),o==="lg"&&(0,e.h)(rw,{post:xt,isEditor:a},a?jt:(0,e.h)("p",{className:In.caption,dangerouslySetInnerHTML:{__html:r}}))))};var wh=je(14531),Sh=Object.getOwnPropertySymbols,hw=Object.prototype.hasOwnProperty,mw=Object.prototype.propertyIsEnumerable,_w=(n,r)=>{var o={};for(var a in n)hw.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Sh)for(var a of Sh(n))r.indexOf(a)<0&&mw.call(n,a)&&(o[a]=n[a]);return o};const gw=n=>{var r=n,{caption:o,size:a}=r,_=_w(r,["caption","size"]);return _?(0,e.h)("div",{className:s()(In.digestPostEmbed,wh.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},a==="sm"&&(0,e.h)(iw,{post:_}),a==="md"&&(0,e.h)(ow,{post:_},(0,e.h)("p",{className:In.caption,dangerouslySetInnerHTML:{__html:o}})),a==="lg"&&(0,e.h)(bh,{post:_},(0,e.h)("p",{className:In.caption,dangerouslySetInnerHTML:{__html:o}}))):null},vw=({mediaUpload:n,post:r,pub:o})=>{if(!n)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const a=(0,gt.getLinkToVideo)({pub:o,post:r,mediaUploadId:n.id});return(0,e.h)(si.Z,{mediaUpload:n,isStatic:!0,pub:o,href:a})};var yw=Object.defineProperty,Ew=Object.defineProperties,bw=Object.getOwnPropertyDescriptors,Th=Object.getOwnPropertySymbols,Pw=Object.prototype.hasOwnProperty,Ow=Object.prototype.propertyIsEnumerable,Ih=(n,r,o)=>r in n?yw(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,pa=(n,r)=>{for(var o in r||(r={}))Pw.call(r,o)&&Ih(n,o,r[o]);if(Th)for(var o of Th(r))Ow.call(r,o)&&Ih(n,o,r[o]);return n},Di=(n,r)=>Ew(n,bw(r));const Cw=(n,{pub:r,props:{isStatic:o,post:a,dataForEmailRender:_}})=>{var A,B;try{const k=n.getAttribute("data-attrs");if(k){const{mediaUploadId:x}=JSON.parse(Co()(k));return o?(0,e.h)(vw,{pub:r,post:a,mediaUpload:(B=(A=_.idToMediaUpload)==null?void 0:A[x])!=null?B:null}):(0,e.h)(KC,{pub:r,post:a,mediaUploadId:x})}}catch(k){console.error("Failed to parse video:",k)}return(0,e.h)(e.Fragment,null)},ww=(n,{pub:r,props:{isStatic:o}})=>{try{const a=n.getAttribute("data-attrs");if(a){const _=JSON.parse(Co()(a));return o?(0,e.h)(gw,Di(pa({},_),{isEditor:!1})):(0,e.h)(pw,Di(pa({},_),{isEditor:!1}))}}catch(a){console.error("Failed to parse digest post embed:",a)}return(0,e.h)(e.Fragment,null)},Sw=(n,{pub:r,props:{isStatic:o}})=>{try{const a=n.getAttribute("data-attrs"),_=JSON.parse(Co()(a));return o?(0,e.h)(VC,Di(pa({},_),{pub:r})):(0,e.h)(jC,Di(pa({},_),{pub:r}))}catch(a){console.error("Failed to parse referrals card:",a)}return(0,e.h)(e.Fragment,null)},Tw=(n,{props:{isStatic:r}})=>{var o;try{const a=n.getAttribute("data-attrs");if(a){const A=(o=JSON.parse(a))!=null?o:{};return r?(0,e.h)(vC,pa({},Di(pa({},A),{captionHtml:n.innerHTML}))):(0,e.h)(yC,pa({},Di(pa({},A),{captionHtml:n.innerHTML})))}}catch(a){console.error("Failed to parse image3:",a)}return(0,e.h)(e.Fragment,null)},Iw=(n,{pub:r,props:{isStatic:o,post:a}})=>{try{const _=n.getAttribute("data-attrs");if(_){const A=JSON.parse(_),k={node:{attrs:Di(pa({},A),{isEditor:!1})}};return o?(0,e.h)(DC,pa({},k)):(0,e.h)(MC,pa({},k))}}catch(_){console.error("Failed to parse image gallery embed:",_)}return(0,e.h)(e.Fragment,null)};var Mh=je(95788),Gc=je(46505),Mw=je(15748);function Dh(n,r){return(0,Mh.H)((0,Tt.truncateText)(n,500,{ellipsis:""}),{allowUnicode:r})}function Dw({text:n,post:r,pub:o,offsetTop:a,isAboutPage:_}){const{isStatic:A}=(0,t.qp)(Gc.E),B=Dh(n,!0),k=Dh(n,!1),x=(0,Mw.g)();if(!r&&!_||!o||A)return null;const J=_?`${(0,p.getAboutUrl)(o,{addBase:!0})}#\xA7${B}`:`${(0,p.getBaseUrl)(o)}/i/${r.id}/${B}`,pe=_e=>{location!=null&&location.href&&(_e.preventDefault(),(0,d.track)(d.EVENTS.HEADER_ANCHOR_WIDGET_CLICKED,{destination:J}),x(J))};return(0,e.h)("div",{id:`\xA7${B}`,className:s()("header-anchor-widget",{"offset-top":a})},(r==null?void 0:r.id)<66696300&&B!==k&&(0,e.h)("div",{id:`\xA7${k}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:J,onClick:pe},(0,e.h)(Ji.Z,{className:"header-anchor-widget-icon",size:20}))))}var Ah=je(86602),Aw=je(19723),Nw=je(84377),Lw=je(13639),Nh;const Rw=typeof window!="undefined"?(Nh=window._preloads)==null?void 0:Nh.freeSignup:!1,Lh=(0,e.createContext)(Rw);Lh.displayName="FreeSignupContext";function xw(){return(0,t.qp)(Lh)}var Rh=je(50557),Uw=Object.defineProperty,Bw=Object.defineProperties,kw=Object.getOwnPropertyDescriptors,xh=Object.getOwnPropertySymbols,Fw=Object.prototype.hasOwnProperty,Ww=Object.prototype.propertyIsEnumerable,Uh=(n,r,o)=>r in n?Uw(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Bh=(n,r)=>{for(var o in r||(r={}))Fw.call(r,o)&&Uh(n,o,r[o]);if(xh)for(var o of xh(r))Ww.call(r,o)&&Uh(n,o,r[o]);return n},jw=(n,r)=>Bw(n,kw(r));class Vw extends Ge.p{constructor(r,o){var a,_;super(r,o),this.state.email=(_=(a=this.props.user)==null?void 0:a.email)!=null?_:null}onOpen(){(0,d.track)(d.EVENTS.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,d.track)(d.EVENTS.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:r,post:o,user:a,audience:_,pollId:A}=this.props,{email:B}=this.state,k=_==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${r.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",k," can vote on this poll.")),(0,e.h)(me.ZP,{method:"post",action:(0,p.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:x=>{(0,d.signup)(),(0,d.track)(d.EVENTS.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:A,post_id:o.id}),r.plans||r.has_recommendations?document.location.href=(0,p.getSubscribeUrl)(this.props.pub,jw(Bh(Bh({utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.pollSubscribeModal,utm_content:o&&o.id,just_signed_up:!0,requires_confirmation:x.body.requires_confirmation?"true":""},x.body.subscription_id&&{subscription_id:x.body.subscription_id}),x.body.referral_token&&{referral_token:x.body.referral_token}),{next:(0,p.getPostUrl)(r,o)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:B,disabled:!!a.email,tabIndex:0,onCha})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!a.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,p.getSigninUrl)({for_pub:r.subdomain,redirect:(0,p.getPostUrl)(r,o)})},"Sign in")))}}var Hw=je(301r}var,npe}const Zw=zw;var zc="/*|*/",Yw=zc+")}var Zl={current:null})}},Qw=function(r){r===void 0&&(r={});var o=r.key||"css",a;r.prefix!==void 0&&(a={prefix:r.prefix});var _=new Zw(a),A={},B;{B=r.container||document.head;var k=document.querySelectorAll("style[data-emotion-"+o+"]");Array.prototype.forEach.cale)})}var x;if(_.use(r.stylisPlugins)(Xw0)},!1)var J,pe;var _e={key:o,sheet:new Gw({key:o,container:B,nonce:r.nonce,speedy:r.speedy}),nonce:r.nonce,inserted:A,registered:{},insert:x};return _e};const qw=Qw;var eS,a}var6)}const rS=tS;var nS={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const oS]}}const iS=aS;var lj=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,uj="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",sS=/[A-Z]|^ms/g,lS=/_EMO_([^_]+?)_([^]*?)_EMO_/g45}n"},Zc()}):o};if(!1)var cj,dj,fj,pj,hj,mj;var _ja}var Hh=/label:\s*([^\s;\n{]+)\s*;/g,gj,Sa,Yc=function(r,o,a){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var _=!0,A="";Sa=void 0;var B=r[0];B==null||B.raw===void 0?(_=!1,A+=Ws(a,o,B,!1)):A+=B[0];for(var k=1;k<r.length;k++)A+=Ws(a,o,r[k],A.charCodeAt(A.length-1)===46),_&&(A+=B[k]);var x;Hh.lastIndex=0;for(var J="",pe;(pe=Hh.exec(A))!==null;)J+="-"+pe[1];var _e=rS(A)+J;return{name:_e,styles:A,next:Sa}},Jc=Object.prototype.hasOwnProperty,Kh=(0,ct.createContext)(typeof HTMLElement!="undefined"?qw():null),$h=(0,ct.createContext)({}),vj=Kh.Providero)},yj=function(r){return r.replace(/\$/g,"-")},Xc="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ej="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",cS=function(r,o){var a={};for(var _ in o)Jc.call(o,_)&&(a[_]=o[_]);if(a[Xc]=r,!1)var A,B;return a},zh=function(r,o,a,_){var A=a===null?o.css:o.css(a);typeof A=="string"&&r.registered[A]!==void 0&&(A=r.registered[A]);var B=o[Xc],k=[A],x="";typeof o.className=="string"?x=kh(r.registered,k,o.className):o.className!=null&&(x=o.className+" ");var J=Yc(k);if(!1)var pe;var _e=Fh(r,J,typeof B=="string");x+=r.key+"-"+J.name;var ye={};for(var Pe in o)Jc.call(o,Pe)&&Pe!=="css"&&Pe!==Xc&&(ye[Pe]=o[Pe]);ye.ref=_,ye.className=x;var Ce=(0,ct.createElement)(B,ye);return Ce},dS=Gh(function(n,r,o){return typeof n.css=="function"?(0,ct.createElement)($h.Consumer,no)}):zh(r,n,null,or)}const Qc=fS;varA)},bj=!1,Pj=null,Oj=null}}}a)}var _S=Gh(function(n,r){return(0,ct.createElement)($h.Consumer,null,function(o){var a=!me))},B={css:_,cx:A,theme:o},k=n.children(B);return a=!0,k}ction ES(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() methodMS=je(35639),qh=function(){};function DS(n,r){return r?r[0]==="-"?n+r:n+"__"+")}var em=function(r){return Array.isArray(r)?r.filter(Boolean):Va(r)==="object"&&r!==null?[r]:[]};function Cj(n,r,o){if(o){var a=o(n,r);if(typeof a=="string")return a}retur}function NS(n){var r=getComputedStyle(n),o=r.position==="absolute",a=/(auto|scroll)/,_=document.documentElement;if(r.position==="fixed")return _;for(var A=n;A=A.parentElement;)if(r=getComputedStyle(A),!(o&&r.position==="static")&&a.test(r.overflow+r.overflowY+r.overflowX))return A;retur+r}function Jl(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qh,_=tm(n),A=r-_,B=10,n)}function nm(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,a)}return o}function om(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?nm(Object(o),!0).forEach(function(a){Io(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):nm(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}function am(n){var r=BS();return function(){var a=Mo(n),_;if(r){var A=Mo(this).constructor;_=Reflect.construct(a,arguments,A)}else _=a.apply(this,arguments);return Ni(this,_)}}function BS(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function kS(n){var r=n.maxHeight,o=n.menuEl,a=n.minHeight,_=n.placement,A=n.shouldScroll,B=n.isFixedPosition,k=n.theme,x=k.spacing,J=NS(o),pe={placement:"bottom",maxHeight:r};if(!o||!o.offsetParent)return pe;var _e=J.getBoundingClientRect(),ye=_e.height,Pe=o.getBoundingClientRect(),Ce=Pe.bottom,Se=Pe.height,Ae=Pe.top,Ne=o.offsetParent.getBoundingClientRect(),Ve=Ne.top,ze=window.innerHeight,Je=tm(J),Ye=parseInt(getComputedStyle(o).marginBottom,10),ht=parseInt(getComputedStyle(o).marginTop,10),wt=Ve-ht,Ct=ze-Ae,It=wt+Je,At=ye-Je-Ae,xt=Ce-ze+Je+Ye,Dt=Je+Ae-ht,jt=160;switch(_){case"auto":case"bottom":if(Ct>=Se)return{placement:"bottom",maxHeight:r};if(At>=Se&&!B)return A&&Jl(J,xt,jt),{placement:"bottom",maxHeight:r};if(!B&&At>=a||B&&Ct>=a){A&&Jl(J,xt,jt);var Jt=B?Ct-Ye:At-Ye;return{placement:"bottom",maxHeight:Jt}}if(_==="auto"||B){var lr=r,mr=B?wt:It;return mr>=a&&(lr=Math.min(mr-Ye-x.controlHeight,r)),{placement:"top",maxHeight:lr}}if(_==="bottom")return Yl(J,xt),{placement:"bottom",maxHeight:r};break;case"top":if(wt>=Se)return{placement:"top",maxHeight:r};if(It>=Se&&!B)return A&&Jl(J,Dt,jt),{placement:"top",maxHeight:r};if(!B&&It>=a||B&&wt>=a){var Xt=r;return(!B&&It>=a||B&&wt>=a)&&(Xt=B?wt-ht:It-ht),A&&Jl(J,Dt,jt),{placement:"top",maxHeight:Xt}}return{placement:"bottom",maxHeight:r};default:throw new Error('Invalid placement provided "'.concat(_,'".'))}returnm"}var:r},WS=function(r){var o,a=r.placement,_=r.theme,A=_.borderRadius,B=_.spacing,k=_.colors;return o={label:"menu"},Io(o,FS(a),"100%"),Io(o,"backgroundColor",k.neutral0),Io(o,"borderRadius",A),Io(o,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Io(o,"marginBottom",B.menuGutter),Io(o,"marginTop",B.menuGutter),Io(o,"position","absolute"),Io(o,"width","100%"),Io(o,"zIndex",1),o},im=(0,ct.createContext)({getPortalPlacement:null}),sm=function(n){ci(o,n);var r=am(o);function o(){var a;li(this,o);for(var _=arguments.length,A=new Array(_),B=0;B<_;B++)A[B]=arguments[B];return a=r.call.apply(r,[this].concat(A)),a.state={maxHeight:a.props.maxMenuHeight,placement:null},a.getPlacement=function(k){var x=a.props,J=x.minMenuHeight,pe=x.maxMenuHeight,_e=x.menuPlacement,ye=x.menuPosition,Pe=x.menuShouldScrollIntoView,Ce=x.theme;if(k){var Se=ye==="fixed",Ae=Pe&&!Se,Ne=kS({maxHeight:pe,menuEl:k,minHeight:J,placement:_e,shouldScroll:Ae,isFixedPosition:Se,theme:Ce}),Ve=a.context.getPortalPlacement;Ve&&Ve(Ne),a.setState(Ne)}},a.getUpdatedPr})},a}return ui(o,[{key:"render",va})}}]),o}(ct.Component);sm.contextType=im;varo)}"}}o)},lm=function(r){var o=r.theme,a=o.spacing.baseUnit,_=o.colors;return{color:_.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px"),textAlign:"center"}},KS=lm,$S=lm,um=function(r){var o=r.children,a=r.className,_=r.cx,A=r.getStyles,B=r.innerProps;return an("div",fn({css:A("noOptionsMessage",r),className:_({"menu-notice":!0,"menu-notice--no-options":!0},a)},B),o)};um.defaultProps={children:"No options"};varo)};cm.defaultProps={children:"Loading..."};var1}},zS=function(n){ci(o,n);var r=am(o);function o(){var a;li(this,o);for(var _=arguments.length,A=new Array(_),B=0;B<_;B++)A[B]=arguments[B];return a=r.call.apply(r,[this].concat(A)),a.state={placement:null},a.getPortalPlacem})},a}return ui(o,[{key:"render",value:function(){var _=this.props,A=_.appendTo,B=_.children,k=_.controlElement,x=_.menuPlacement,J=_.menuPosition,pe=_.getStyles,_e=J==="fixed";if(!A&&!_e||!k)return null;var ye=this.state.placement||nd(x),Pe=xS(k),Ce=_e?0:window.pageYOffset,Se=Pe[ye]+Ce,Ae={offset:Se,position:J,rect:Pe},Ne=an("div",{css:pe("menuPortal",Ae)},B);return an(im.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},A?(0,ct.createPortal)(Ne,A):Ne)}}]),o}(ct.Component),dm=Array.isArray,fm=Object.keys,ZS=Object.prototype.hasOwnProperty;function od(n,r){if(n===r)return!0;if(n&&r&&Va(n)=="object"&&Va(r)=="object"){var o=dm(n),a=dm(r),_,A,B;if(o&&a){if(A=n.length,A!=r.length)return!1;for(_=A;_--!==0;)if(!od(n[_],r[_]))return!1;return!0}if(o!=a)return!1;var k=n instanceof Date,x=r instanceof Date;if(k!=x)return!1;if(k&&x)return n.getTime()==r.getTime();var J=n instanceof RegExp,pe=r instanceof RegExp;if(J!=pe)return!1;if(J&&pe)return n.toString()==r.toString();var _e=fm(n);if(A=_e.length,A!==fm(r).length)return!1;for(_=A;_--!==0;)if(!ZS.call(r,_e[_]))return!1;for(_=A;_--!==0;)if(B=_e[_],!(B==="_owner"&&n.$$typeof)&&!od(n[B],r[B]))return!1;return!0}return n!==n&&r!o}}var"}}o)},QS=function(r){var o=r.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(o.baseUnit/2,"px ").concat(o.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}o)}0}}o)};function pm(){var n=IS([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return pm=function(){return n},n}function wj(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var rT={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"}))},ad=function(r){return an(hm,fn({size:20},r),an("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))}))},_m=function(r){var o=r.isFocused,a=r.theme,_=a.spacing.baseUnit,A=a.colors;return{label:"indicatorContainer",color:o?A.neutral60:A.neutral20,display:"flex",padding:_*2,transition:"color 150ms",":hover":{color:o?A.neutral80:A.neutral40}}},nT=_m,oT=function(r){var o=r.children,a=r.className,_=r.cx,A=r.getStyles,B=r.innerProps;return an("div",fn({},B,{css:A("dropdownIndicator",r),className:_({indicator:!0,"dropdown-indicator":!0},a)}),o||an(mm,null))},aT=_m))},sT=function(r){var o=r.isDisabled,a=r.theme,_=a.spacing.baseUnit,A=a.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:o?A.neutral10:A.neutral20,marginBottom:_*2,marginTop:_*2,width:1}}))},uT=pS(pm()),cT=function(r){var o=r.isFocused,a=r.size,_=r.theme,A=_.colors,B=_.spacing.baseUnit;return{label:"loadingIndicator",color:o?A.neutral60:A.neutral20,display:"flex",padding:B*2,transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"}}})}))};gm.defaultProps={size:4};var}}}o)};function vm(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,a)}return o}function pT(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?vm(Object(o),!0).forEach(function(a){Io(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):vm(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}var hT=function(r){var o=r.theme.spacing;return{paddingBottom:o.baseUnit*2,paddingTop:o.baseUnit*2}}))},_T=function(r){var o=r.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"}},gT=function(r){var o=r.className,a=r.cx,_=r.getStyles,A=r.theme,B=r.selectProps,k=Ai(r,["className","cx","getStyles","theme","selectProps"]);return an("div",fn({css:_("groupHeading",pT({theme:A},k)),className:a({"group-heading":!0},o)},k))};function ym(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,a)}return o}function vT(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?ym(Object(o),!0).forEach(function(a){Io(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ym(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}var0}}"}},bT=function(r){var o=r.className,a=r.cx,_=r.getStyles,A=r.innerRef,B=r.isHidden,k=r.isDisabled,x=r.theme,J=r.selectProps,pe=Ai(r,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return an("div",{css:_("input",vT({theme:x},pe))},an(MS.Z,fn({className:a({input:!0},o),inputRef:A,inputStyle:ET(B),disabled:k},pe)))};function Em(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,a)}return o}function sd(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Em(Object(o),!0).forEach(function(a){Io(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Em(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}var0}}"}}}}}o)},wT=bm,ST=bm;function TT(n){var r=n.children,o=n.innerProps;return an("div",o,r||an(ad,{size:14}))}var})};Pm.defaultProps={cropWithEllipsis:!0};var IT=function(r){var o=r.isDisabled,a=r.isFocused,_=r.isSelected,A=r.theme,B=A.spacing,k=A.colors;return{label:"option",backgroundColor:_?k.primary:a?k.primary25:"transparent",color:o?k.neutral20:_?k.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(B.baseUnit*2,"px ").concat(B.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!o&&(_?k.primary:k.primary50)}}}o)}"}}o)},NT=function(r){var o=r.isDisabled,a=r.theme,_=a.spacing,A=a.colors;return{label:"singleValue",color:o?A.neutral40:A.neutral80,marginLeft:_.baseUnit/2,marginRight:_.baseUnit/2,maxWidth:"calc(100% - ".concat(_.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}}o)};function Om(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,a)}return o}function Cm(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Om(Object(o),!0).forEach(function(a){Io(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Om(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}for(var RT={ClearIndicator:iT,Control:fT,DropdownIndicator:oT,DownChevron:mm,CrossIcon:ad,Group:mT,GroupHeading:gT,IndicatorsContainer:tT,IndicatorSeparator:lT,Input:bT,LoadingIndicator:gm,Menu:jS,MenuList:HS,MenuPortal:zS,LoadingMessage:cm,NoOptionsMessage:um,MultiValue:Pm,MultiValueContainer:wT,MultiValueLabel:ST,MultiValueRemove:TT,Option:MT,Placeholder:AT,SelectContainer:XS,SingleValue:LT,ValueContainer:qS}s)},ld=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],UT=new RegExp("["+ld.map(function(n){return n.letters}).join("")+"]","g"),wm={},ud=0;ud<ld.length;ud++)for(var cd=ld[ud],dd=0;dd<cd.letters.length;dd++)wm[cd.letters[dd]]=cd.base;var})};function Tm(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,a)}return o}function BT(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Tm(Object(o),!0).forEach(function(a){Io(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Tm(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}var")}e)},FT=function(r){return function(o,a){var _=BT({ignoreCase:!0,ignoreAccents:!0,stringify:kT,trim:!0,matchFrom:"any"},r),A=_.ignoreCase,B=_.ignoreAccents,k=_.stringify,x=_.trim,J=_.matchFrom,pe=x?Im(a):a,_e=x?Im(k(o)):k(o);return A&&(pe=pe.toLowerCase(),_e=_e.toLowerCase()),B&&(pe=Sm(pe),_e=Sm(_e)),J==="start"?_e.substr(0,pe.length)===pe:_e.indexOf(pe)>-1}};function Sj(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var WT={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"}))};function VT(n){var r=n.in,o=n.out,a=n.onExited,_=n.appear,A=n.enter,B=n.exit,k=n.innerRef,x=n.emotion,J=Ai(n,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return an("input",fn({ref:k},J,{css:Qc({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function HT(n){var r=KT();return function(){var a=Mo(n),_;if(r){var A=Mo(this).constructor;_=Reflect.construct(a,arguments,A)}else _=a.apply(this,arguments);return Ni(this,_)}}function KT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var,o}(ct.Component),Dm=["boxSizing","height","overflow","paddingRight","position"],Am={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Nm(n){n.preventDefaul}function $T(n){var r=GT();return function(){var a=Mo(n),_;if(r){var A=Mo(this).constructor;_=Reflect.construct(a,arguments,A)}else _=a.apply(this,arguments);return Ni(this,_)}}function GT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Um=!!(window.document&&window.document.createElement),js=0,Bm=function(n){ci(o,n);var r=$T(o);function o(){var a;li(this,o);for(var _=arguments.length,A=new Array(_),B=0;B<_;B++)A[B]=arguments[B];return a=r.call.apply(r,[this].concat(A)),a.originalStyles={},a.listenerOptions={capture:!1,passive:!1},a}return ui(o,[{key:"componentDidMount",va1}}},{key:"componentWillUnmount",va)}}},{key:"render",value:function(){return null}}]),o}(ct.Component);Bm.defaultProps={accountForScrollbars:."}function zT(n){var r=ZT();return function(){var a=Mo(n),_;if(r){var A=Mo(this).constructor;_=Reflect.construct(a,arguments,A)}else _=a.apply(this,arguments);return Ni(this,_)}}function ZT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var YT={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},JT=function(n){ci(o,n);var r=zT(o);function o(){var a;li(this,o);for(var _=arguments.length,A=new Array(_),B=0;B<_;B++)A[B]=arguments[B];return a=r.call.apply(r,[this].concat(A)),a.state={touchScrollTarget:null},a.getScrollTar})},a.blurSelectIn()},a}return ui(o,[{key:"render",va:A}}]),o}(ct.PureComponent);function XT(n){var r=QT();return function(){var a=Mo(n),_;if(r){var A=Mo(this).constructor;_=Reflect.construct(a,arguments,A)}else _=a.apply(this,arguments);return Ni(this,_)}}function QT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var qT=function(n){ci(o,n);var r=XT(o);function o(){var a;li(this,o);for(var _=arguments.length,A=new Array(_),B=0;B<_;B++)A[B]=arguments[B];return a=r.call.apply(r,[this].concat(A)),a.isBottom=!1,a.isTop=!1,a.scrollTarget=void 0,a.touchStart=void 0,a.cancelScroll=function(k){k.preventDefault(),k.stopPropagation()},a.handleEventDek)},a.onWhY)},a.onTouchSttY},a.onTouchMx)},a.getScrollTarget=function(k){a.scrollTarget=k},a}return ui(o,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",vat)}},{key:"startListening",value:function(_){_&&(typeof _.addEventListener=="function"&&_.addEventListener("wheel",this.onWheel,!1),typeof _.addEventListener=="function"&&_.addEventListener("touchstart",this.onTouchStart,!1),typeof _.addEventListener=="function"&&_.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(_){_&&(typeof _.removeEventListener=="function"&&_.removeEventListener("wheel",this.onWheel,!1),typeof _.removeEventListener=="function"&&_.removeEventListener("touchstart",this.onTouchStart,!1),typeof _.removeEventListener=="function"&&_.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",van)}}]),o}(ct.Component);function eI(n){var r=n.isEnabled,o=r===void 0?!0:r,a=Ai(n,["isEnabled"]);return o?ct.default.createElement(qT,a):a.children}var tI=function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.isSearchable,_=o.isMulti,A=o.label,B=o.isDisabled,k=o.tabSelectsValue;switch(r){case"menu":return"Use Up and Down to choose options".concat(B?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(k?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(A||"Select"," is focused ").concat(a?",type to refine list":"",", press Down to open the menu, ").concat(_?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}})}}")}")}")},iI=function(r){return r.label},sI=function(r){return r.label},lI=function(r){return r.value}ed};function Fm(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable})),o.push.apply(o,a)}return o}function uI(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Fm(Object(o),!0).forEach(function(a){_defineProperty(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Fm(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}var cI={clearIndicator:aT,container:JS,control:dT,dropdownIndicator:nT,group:hT,groupHeading:_T,indicatorsContainer:eT,indicatorSeparator:sT,input:yT,loadingIndicator:cT,loadingMessage:$S,menu:WS,menuList:VS,menuPortal:GS,multiValue:PT,multiValueLabel:OT,multiValueRemove:CT,noOptionsMessage:KS,option:IT,placeholder:DT,singleValue:NT,valueContainer:QS};function Ij(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=uI({},n);return Object.keys(r).forEa]}),o}var dI={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},fI=4,Wm=4,pI=38,hI=Wm*2,mI={baseUnit:Wm,controlHeight:pI,menuGutter:hI},fd={borderRadius:fI,colors:dI,spacing:n}function _I(n){var r=gI();return function(){var a=Mo(n),_;if(r){var A=Mo(this).constructor;_=Reflect.construct(a,arguments,A)}else _=a.apply(this,arguments);return Ni(this,_)}}function gI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var vI={backspaceRemovesValue:!0,blurInputOnSelect:rm(),captureMenuScroll:!rm(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:FT(),formatGroupLabel:iI,getOptionLabel:sI,getOptionValue:lI,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:km,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!US(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(r){var o=r.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},yI=1,Vm=function(n){ci(o,n);var r=_I(o);function o(a){var _;li(this,o),_=r.call(this,a),_.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},_.blockOptionHover=!1,_.isComposing=!1,_.clearFocusValueOnUpdate=!1,_.commonProps=void 0,_.components=void 0,_.hasGroups=!1,_.initialTouchX=0,_.initialTouchY=0,_.inputIsHiddenAfterUpdate=void 0,_.instancePrefix="",_.openAfterFocus=!1,_.scrollToFocusedOptionOnUpdate=!1,_.userIsDragging=void 0,_.controlRef=null,_.getControlRef=function(x){_.controlRef=x},_.focusedOptionRef=null,_.getFocusedOptionRef=function(x){_.focusedOptionRef=x},_.menuListRef=null,_.getMenuListRef=function(x){_.menuListRef=x},_.inputRef=null,_.getInputRef=function(x){_.inputRef=x},_.cacheCompone})},_.focus=_.focusInput,_.blur=_.blurInput,_.onCha))},_.setValue=function(x){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",pe=arguments.length>2?arguments[2]:void 0,_e=_.props,ye=_e.closeMenuOnSelect,Pe=_e.isMulti;_.onInputChange("",{action:"set-value"}),ye&&(_.inputIsHiddenAfterUpdate=!Pe,_.onMenuClose()),_.clearFocusValueOnUpdate=!0,_.onChange(x,{action:J,option:pe})},_.selectOpt()},_.removeVa()},_.clearVa})},_.popVa})},_.getVaue},_))},_.getOptionLabel=function(x){return _.props.getOptionLabel(x)},_.getOptionVax)},_.getStype},_.getElemenx)},_.getActiveDescendentId=function(){var x=_.props.menuIsOpen,J=_.state,pe=J.menuOptions,_e=J.focusedOption;if(!(!_e||!x)){var ye=pe.focusable.indexOf(_e),Pe=pe.render[ye];return Pe&&Pe.key}},_.announceAriaLiveSelect})},_.announceAriaLiveCont})},_.onMenuMouseDown=function(x){x.button===0&&(x.stopPropagation(),x.preventDefault(),_.focusInput())},_.onMenuMouseM!1},_.onControlMouseDown=function(x){var J=_.props.openMenuOnClick;_.state.isFocused?_.props.menuIsOpen?x.target.tagName!=="INPUT"&&x.target.tagName!=="TEXTAREA"&&_.onMenuClose():J&&_.openMenu("first"):(J&&(_.openAfterFocus=!0),_.focusInput()),x.target.tagName!=="INPUT"&&x.target.tagName!=="TEXTAREA"&&x.preventDefault()},_.onDropdownIndicatorMouseDown=function(x){if(!(x&&x.type==="mousedown"&&x.button!==0)&&!_.props.isDisabled){var J=_.props,pe=J.isMulti,_e=J.menuIsOpen;_.focusInput(),_e?(_.inputIsHiddenAfterUpdate=!pe,_.onMenuClose()):_.openMenu("first"),x.preventDefault(),x.stopPropagation()}},_.onClearIndicatorMouseDown=function(x){x&&x.type==="mousedown"&&x.button!==0||(_.clearValue(),x.stopPropagation(),_.openAfterFocus=!1,x.type==="touchend"?_.focusInput():setTime()}))},_.onScroll=function(x){typeof _.props.closeMenuOnScroll=="boolean"?x.target instanceof HTMLElement&&rd(x.target)&&_.props.onMenuClose():typeof _.props.closeMenuOnScroll=="function"&&_.props.closeMenuOnScroll(x)&&_.props.onMenuClose()},_.onCompositionStart=function(){_.isComposing=!0},_.onComposition!1},_.onTouchSt1)},_.onTouchMe}},_.onTouch0)},_.onControlTouchEnd=function(x){_.userIsDragging||_.onControlMouseDown(x)},_.onClearIndicatorTouchEnd=function(x){_.userIsDragging||_.onClearIndicatorMouseDown(x)},_.onDropdownIndicatorTouchx)},_.handleInputCha()},_.onInputFo!1},_.onInputB})},_.onOptionHo})},_.shouldHideSelectedOptions=function(){var x=_.props,J=x.hideSelectedOptions,pe=x.isMulti;return J===void 0?pe:J},_.onKeyDown=function(x){var J=_.props,pe=J.isMulti,_e=J.backspaceRemovesValue,ye=J.escapeClearsValue,Pe=J.inputValue,Ce=J.isClearable,Se=J.isDisabled,Ae=J.menuIsOpen,Ne=J.onKeyDown,Ve=J.tabSelectsValue,ze=J.openMenuOnFocus,Je=_.state,Ye=Je.focusedOption,ht=Je.focusedValue,wt=Je.selectValue;if(!Se&&!(typeof Ne=="function"&&(Ne(x),x.defaultPrevented))){switch(_.blockOptionHover=!0,x.key){case"ArrowLeft":if(!pe||Pe)return;_.focusValue("previous");break;case"ArrowRight":if(!pe||Pe)return;_.focusValue("next");break;case"Delete":case"Backspace":if(Pe)return;if(ht)_.removeValue(ht);else{if(!_e)return;pe?_.popValue():Ce&&_.clearValue()}break;case"Tab":if(_.isComposing||x.shiftKey||!Ae||!Ve||!Ye||ze&&_.isOptionSelected(Ye,wt))return;_.selectOption(Ye);break;case"Enter":if(x.keyCode===229)break;if(Ae){if(!Ye||_.isComposing)return;_.selectOption(Ye);break}return;case"Escape":Ae?(_.inputIsHiddenAfterUpdate=!1,_.onInputChange("",{action:"menu-close"}),_.onMenuClose()):Ce&&ye&&_.clearValue();break;case" ":if(Pe)return;if(!Ae){_.openMenu("first");break}if(!Ye)return;_.selectOption(Ye);break;case"ArrowUp":Ae?_.focusOption("up"):_.openMenu("last");break;case"ArrowDown":Ae?_.focusOption("down"):_.openMenu("first");break;case"PageUp":if(!Ae)return;_.focusOption("pageup");break;case"PageDown":if(!Ae)return;_.focusOption("pagedown");break;case"Home":if(!Ae)return;_.focusOption("first");break;case"End":if(!Ae)return;_.focusOption("last");break;default:return}x.preventDefault()}},_.buildMenuOptions=function(x,J){var pe=x.inputValue,_e=pe===void 0?"":pe,ye=x.options}}};return ye.redCe},{render:[],focusable:[]})};var A=a.value;_.cacheComponents=Qh(_.cacheComponents,YS).bind(ed(_)),_.cacheComponents(a.components),_.instancePrefix="react-select-"+(_.props.instanceId||++yI);var B=em(A);_.buildMenuOptions=Qh(_.buildMenuOptions,function(x,J){var pe=x,_e=Yh(pe,2),ye=_e[0],Pe=_e[1],Ce=J,Se=Yh(Ce,2),Ae=Se[0],Ne=Se[1];return Pe===Ne&&ye.inputValue===Ae.inputValue&&ye.options===Ae.options}).bind(ed(_));var k=a.menuIsOpen?_.buildMenuOptions(a,B):{render:[],focusable:[]};return _.state.menuOptions=k,_.state.selectValue=B,_}return ui(o,[{key:"componentDidMount",va()}},{key:"UNSAFE_componentWillReceiveProps",value:function(_){var A=this.props,B=A.options,k=A.value,x=A.menuIsOpen,J=A.inputValue;if(this.cacheComponents(_.components),_.value!==k||_.options!==B||_.menuIsOpen!==x||_.inputValue!==J){var pe=em(_.value),_e=_.menuIsOpen?this.buildMenuOptions(_,pe):{render:[],focusable:[]},ye=this.getNextFocusedValue(pe),Pe=this.getNextFocusedOption(_e.focusable);this.setState({menuOptions:_e,selectValue:pe,focusedOption:Pe,focusedValue:ye})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(_){var A=this.props,B=A.isDisabled,k=A.menuIsOpen,x=this.state.isFocused;(x&&!B&&_.isDisabled||x&&k&&!_.menuIsOpen)&&this.focusInput(),x&&B&&!_.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(RS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",va0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",va()}},{key:"onInputChange",vaA)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",va()}},{key:"openMenu",value:function(_){var A=this,B=this.state,k=B.selectValue,x=B.isFocused,J=this.buildMenuOptions(this.props,k),pe=this.props,_e=pe.isMulti,ye=pe.tabSelectsValue,Pe=_==="first"?0:J.focusable.length-1;if(!_e){var Ce=J.focusable.indexOf(k[0]);Ce>-1&&(Pe=Ce)}this.scrollToFocusedOptionOnUpdate=!(x&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:J,focusedValue:null,focusedOption:J.focusable[P})})}},{key:"focusValue",value:function(_){var A=this.props,B=A.isMulti,k=A.isSearchable,x=this.state,J=x.selectValue,pe=x.focusedValue;if(B){this.setState({focusedOption:null});var _e=J.indexOf(pe);pe||(_e=-1,this.announceAriaLiveContext({event:"value"}));var ye=J.length-1,Pe=-1;if(J.length){switch(_){case"previous":_e===0?Pe=0:_e===-1?Pe=ye:Pe=_e-1;break;case"next":_e>-1&&_e<ye&&(Pe=_e+1);break}Pe===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:k,isMulti:B}}),this.setState({inputIsHidden:Pe!==-1,focusedValue:J[Pe]})}}}},{key:"focusOption",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",A=this.props,B=A.pageSize,k=A.tabSelectsValue,x=this.state,J=x.focusedOption,pe=x.menuOptions,_e=pe.focusable;if(_e.length){var ye=0,Pe=_e.indexOf(J);J||(Pe=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:k}})),_==="up"?ye=Pe>0?Pe-1:_e.length-1:_==="down"?ye=(Pe+1)%_e.length:_==="pageup"?(ye=Pe-B,ye<0&&(ye=0)):_==="pagedown"?(ye=Pe+B,ye>_e.length-1&&(ye=_e.length-1)):_==="last"&&(ye=_e.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:_e[ye],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:km(_e[ye]),tabSelectsValue:k}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(fd):ns(ns({},fd),this.props.theme):fd}},{key:"getCommonProps",va)}}},{key:"getNextFocusedValue",value:function(_){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var A=this.state,B=A.focusedValue,k=A.selectValue,x=k.indexOf(B);if(x>-1){var J=_.indexOf(B);if(J>-1)return B;if(x<_.length)return _[x]}return null}},{key:"getNextFocusedOption",va0]}},{key:"hasValue",va>0}},{key:"hasOptions",vath}},{key:"countOptions",vath}},{key:"isClearable",value:function(){var _=this.props,A=_.isClearable,B=_.isMulti;return A===void 0?B:A}},{key:"isOptionDisabled",value:function(_,A){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(_,A):!1}},{key:"isOptionSelected",value:function(_,A){var B=this;if(A.indexOf(_)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(_,A);var k=this.getOptionValue(_);return A.s=k})}},{key:"filterOption",va!0}},{key:"formatOptionLabel",value:function(_,A){if(typeof this.props.formatOptionLabel=="function"){var B=this.props.inputValue,k=this.state.selectValue;return this.props.formatOptionLabel(_,{context:A,inputValue:B,selectValue:k})}else return this.getOptionLabel(_)}},{key:"formatGroupLabel",value:function(_){return this.props.formatGroupLabel(_)}},{key:"startListeningComposition",va))}},{key:"stopListeningComposition",va))}},{key:"startListeningToTouch",va))}},{key:"stopListeningToTouch",va))}},{key:"constructAriaLiveMessage",vaA)}},{key:"renderInput",value:function(){var _=this.props,A=_.isDisabled,B=_.isSearchable,k=_.inputId,x=_.inputValue,J=_.tabIndex,pe=_.form,_e=this.components.Input,ye=this.state.inputIsHidden,Pe=k||this.getElementId("input"),Ce={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!B)return ct.default.createElement(VT,fn({id:Pe,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qh,onFocus:this.onInputFocus,readOnly:!0,disabled:A,tabIndex:J,form:pe,value:""},Ce));var Se=this.commonProps,Ae=Se.cx,Ne=Se.theme,Ve=Se.selectProps;return ct.default.createElement(_e,fn({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:Ae,getStyles:this.getStyles,id:Pe,innerRef:this.getInputRef,isDisabled:A,isHidden:ye,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:Ve,spellCheck:"false",tabIndex:J,form:pe,theme:Ne,type:"text",value:x},Ce))}},{key:"renderPlaceholderOrValue",value:function(){var _=this,A=this.components,B=A.MultiValue,k=A.MultiValueContainer,x=A.MultiValueLabel,J=A.MultiValueRemove,pe=A.SingleValue,_e=A.Placeholder,ye=this.commonProps,Pe=this.props,Ce=Pe.controlShouldRenderValue,Se=Pe.isDisabled,Ae=Pe.isMulti,Ne=Pe.inputValue,Ve=Pe.placeholder,ze=this.state,Je=ze.selectValue,Ye=ze.focusedValue,ht=ze.isFocused;if(!this.hasValue()||!Ce)return Ne?null:ct.default.createElement(_e,fn({},ye,{key:"placeholder",isDisabled:Se,isFocused:ht}),Ve);if(Ae){var wt=Je.))});return wt}if(Ne)return null;var Ct=Je[0];return ct.default.createElement(pe,fn({},ye,{data:Ct,isDisabled:Se}),this.formatOptionLabel(Ct,"value"))}},{key:"renderClearIndicator",va))}},{key:"renderLoadingIndicator",va))}},{key:"renderIndicatorSeparator",va))}},{key:"renderDropdownIndicator",va))}},{key:"renderMenu",value:function(){var _=this,A=this.components,B=A.Group,k=A.GroupHeading,x=A.Menu,J=A.MenuList,pe=A.MenuPortal,_e=A.LoadingMessage,ye=A.NoOptionsMessage,Pe=A.Option,Ce=this.commonProps,Se=this.state,Ae=Se.focusedOption,Ne=Se.menuOptions,Ve=this.props,ze=Ve.captureMenuScroll,Je=Ve.inputValue,Ye=Ve.isLoading,ht=Ve.loadingMessage,wt=Ve.minMenuHeight,Ct=Ve.maxMenuHeight,It=Ve.menuIsOpen,At=Ve.menuPlacement,xt=Ve.menuPosition,Dt=Ve.menuPortalTarget,jt=Ve.menuShouldBlockScroll,Jt=Ve.menuShouldScrollIntoView,lr=Ve.noOptionsMessage,mr=Ve.onMenuScrollToTop,Xt=Ve.onMenuScrollToBottom;if(!It)return null;var))},ur;if(this.hasOptions())ur=Ne.render.map(function(Ft){if(Ft.type==="group"){var kt=Ft.type,vt=Ai(Ft,["type"]),Cr="".concat(Ft.key,"-heading");return ct.default.createElement(B,fn({},Ce,vt,{Heading:k,headingProps:{id:Cr,data:Ft.data},label:_.formatGroupLabel(Ft.data)}),Ft.options.r)}))}else if(Ft.type==="option")return Bt(Ft)});else if(Ye){var tr=ht({inputValue:Je});if(tr===null)return null;ur=ct.default.createElement(_e,Ce,tr)}else{var qt=lr({inputValue:Je});if(qt===null)return null;ur=ct.default.createElement(ye,Ce,qt)}var Rt={minMenuHeight:wt,maxMenuHeight:Ct,menuPlacement:At,menuPosition:xt,menuShouldScrollIntoView:Jt},Ut=ct.default.createElement(sm,fn({},Ce,))});return Dt||xt==="fixed"?ct.default.createElement(pe,fn({},Ce,{appendTo:Dt,controlElement:this.controlRef,menuPlacement:At,menuPosition:xt}),Ut):Ut}},{key:"renderFormField",value:function(){var _=this,A=this.props,B=A.delimiter,k=A.isDisabled,x=A.isMulti,J=A.name,pe=this.state.selectValue;if(!(!J||k))if(x)if(B){var _e=pe.map(function(Ce){return _.getOptionValue(Ce)}).join(B);return ct.default.createElement("input",{name:J,type:"hidden",value:_e})}else{var ye=pe.length>0?pe.})}):ct.default.createElement("input",{name:J,type:"hidden"});return ct.default.createElement("div",null,ye)}else{var Pe=pe[0]?this.getOptionValue(pe[0]):"";return ct.default.createElement("input",{name:J,type:"hidden",value:Pe})}}},{key:"renderLiveRegion",vall}},{key:"render",va))}}]),o}(ct.Component);Vm.defaultProps=vI;function EI(n){var r=bI();return function(){var a=Mo(n),_;if(r){var A=Mo(this).constructor;_=Reflect.construct(a,arguments,A)}else _=a.apply(this,arguments);return Ni(this,_)}}function bI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var PI={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},OI=function(r){var o,a;return a=o=function(_){ci(B,_);var A=EI(B);function B(){var k;li(this,B);for(var x=arguments.length,J=new Array(x),pe=0;pe<x;pe++)J[pe]=arguments[pe];return k=A.call.apply(A,[this].concat(J)),k.select=void 0,k.state={inputValue:k.props.inputValue!==void 0?k.props.inputValue:k.props.defaultInputValue,menuIsOpen:k.props.menuIsOpen!==void 0?k.props.menuIsOpen:k.props.defaultMenuIsOpen,value:k.props.value!==void 0?k.props.value:k.props.defaultValue},k.onCha})},k.onInputChange=function(_e,ye){var Pe=k.callProp("onInputChange",_e,ye);k.setState({inputValue:Pe!==void 0?Pe:_e})},k.onMenuOpen=function(){k.callProp("onMenuOpen"),k.setState({menuIsOpen:!0})},k.onMenuCl})},k}return ui(B,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(x){return this.props[x]!==void 0?this.props[x]:this.state[x]}},{key:"callProp",value:function(x){if(typeof this.props[x]=="function"){for(var J,pe=arguments.length,_e=new Array(pe>1?pe-1:0),ye=1;ye<pe;ye++)_e[ye-1]=arguments[ye];return(J=this.props)[x].apply(J,_e)}}},{key:"render",value:function(){var x=this,J=this.props,pe=J.defaultInputValue,_e=J.defaultMenuIsOpen,ye=J.defaultValue,Pe=Ai(J,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return ct.default.createElement(r,fn({},Pe,{Se},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),B}(ct.Component),o.defaultProps=PI}}var Dj=null,wI=OI(Vm);const pd=wI;var SI=Object.defineProperty,Hm=Object.getOwnPropertySymbols,TI=Object.prototype.hasOwnProperty,II=Object.prototype.propertyIsEnumerable,Km=(n,r,o)=>r in n?SI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,$m=(n,r)=>{for(var o in r||(r={}))TI.call(r,o)&&Km(n,o,r[o]);if(Hm)for(var o of Hm(r))II.call(r,o)&&Km(n,o,r[o]);return n};const Gm=(0,e.createContext)({publication:{},pub:{},setPublicat>{}});Gm.displayName="PublishContext";const Aj=n=>{const r=o=>{const a=zm();return h(n,$m($m({},a),o))};return r.displayName=`withPublishContext(${n.name||n.displayName||"Anonymous"})`,r}Gm);var MI=Object.defineProperty,DI=Object.defineProperties,AI=Object.getOwnPropertyDescriptors,Xl=Object.getOwnPropertySymbols,Zm=Object.prototype.hasOwnProperty,Ym=Object.prototype.propertyIsEnumerable,Jm=(n,r,o)=>r in n?MI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Li=(n,r)=>{for(var o in r||(r={}))Zm.call(r,o)&&Jm(n,o,r[o]);if(Xl)for(var o of Xl(r))Ym.call(r,o)&&Jm(n,o,r[o]);return n},Ql=(n,r)=>DI(n,AI(r)),NI=(n,r)=>{var o={};for(var a in n)Zm.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Xl)for(var a of Xl(n))r.indexOf(a)<0&&Ym.call(n,a)&&(o[a]=n[a]);return o};const LI=()=>null,Xm=n=>{var r=n,{variant:o="default",isSearchable:a=!1,className:_}=r,A=NI(r,["variant","isSearchable","className"]),B,k;const{pub:x}=zm();return(0,e.h)(pd,Ql(Li({},A),{isDisabled:A.isDisabled,className:s()("themed-select",_),components:Li({IndicatorSeparator:LI},A.components),theme:(0,F.getSelectTheme)({primary:((B=x.theme)==null?void 0:B.background_pop_color)||x.theme_var_background_pop||"#1a1a1a",neutral0:o==="light"?"white":(k=x.theme)==null?void 0:k.web_bg_color}),isSearchable:a,styles:Li(Li({container:J=>Ql(Li({},J),{flex:1}),dropdownIndicator:J=>Ql(Li({},J),{color:"#1a1a1a"})},A.showOnlyIndicator&&{valueContainer:J=>Ql(Li({},J),{width:0,padding:0})}),A.styles)}))};var RI=Object.defineProperty,xI=Object.defineProperties,UI=Object.getOwnPropertyDescriptors,Qm=Object.getOwnPropertySymbols,BI=Object.prototype.hasOwnProperty,kI=Object.prototype.propertyIsEnumerable,qm=(n,r,o)=>r in n?RI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,e0=(n,r)=>{for(var o in r||(r={}))BI.call(r,o)&&qm(n,o,r[o]);if(Qm)for(var o of Qm(r))kI.call(r,o)&&qm(n,o,r[o]);return n},FI=(n,r)=>xI(n,UI(r)),Vs=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const t0=2,r0=5,WI=35,jI=255,VI=({isExpired:n,isPublished:r,remainingHours:o,language:a})=>{const{iString:_,iTemplate:A}=I18N.i(a);if(n)return _("POLL CLOSED");if(!r)return _("NOT PUBLISHED");if(o>=168)return"";if(o>=48){const B=Math.floor(o/24);return A`${B} DAYS REMAINING`}return o>=24?A`1 DAY REMAINING`:o>=2?A`${o} HOURS REMAINING`:o==1?_("1 HOUR REMAINING"):_("LESS THAN 1 HOUR REMAINING")},hd=(n,r)=>{const{iTemplate:o}=I18N.i(r);return n>1?o`Choice ${n+1} (optional)`:o`Choice ${n+1}`},HI=({question:n,expiry:r,audience:o,options:a},_)=>{const{iString:A}=I18N.i(_),B=a.filter(Boolean);if(n.length<1||n.length>255)return A("The question must be between 1 and 255 characters long.");if(B.length<2||B.length>5)return A("Your poll must have 2 to 5 options.");if(B.some(k=>k.length<1||k.length>50))return A("Each option must be between 1 and 50 characters long.");if(["all_subscribers","only_paid"].includes(o)){if(![1,24,72,168,999999].includes(r))return A("The length of your poll is invalid.")}else return A("Your poll audience is invalid.");return null},KI=({index:n,text:r,onChange:o,onDelete:a,showDeleteButton:_,disabled:A})=>{const{language:B}=(0,l.M1)();return(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChae)},value:r,disabled:A,placeholder:hd(n,B),maxLength:WI}),(0,e.h)("button",{className:s()("poll-remove-option",{"is-hidden":!_}),onClick:()=>a(n),disabled:A,tabIndex:_?void 0:-1},(0,e.h)(Xi.Z,null)))},$I=({poll:n,isOpen:r,onClose:o,onSave:a,isPublished:_,totalVotes:A,shouldShowAudiencePicker:B})=>{let k=n.options.map(qt=>qt.label);k.length>1?k.length<r0&&k.push(""):k=["",""];const{iString:x,language:J,iPlural:pe}=(0,l.M1)(),{payments_state:_e}=(0,wc.I)()||{},ye=B&&_e==="enabled"?"only_paid":"all_subscribers",[Pe,Ce]=(0,t.eJ)(n.question||""),[Se,Ae]=(0,t.eJ)(k),[Ne,Ve]=(0,t.eJ)(n.expiry||24),[ze,Je]=(0,t.eJ)(n.audience||ye),[Ye,ht]=(0,t.eJ)(!1),[wt,Ct]=(0,t.eJ)(n.votes_hidden||!1),[It,At]=(0,t.eJ)(null),xt=HI({question:Pe,options:Se,expiry:Ne,audience:ze,votes_hidden:wt},J),Dt=(0,t.I4)(()=>{var qt;Ce(n.question||""),Ae(((qt=n.options)==null?void 0:qt.map(Rt=>Rt.label))||["",""]),Ve(n.expiry||24),Je(n.audience||ye),Ct(n.votes_hidden||!1),At(null),o()},[Ce,Ae,Ve,Je,n,o]),jt=(0,t.I4)(({value:qt})=>{["only_paid","all_subscribers"].includes(qt)&&Je(qt)},[Je]),Jt=x(ze==="only_paid"?"Only paid subscribers":"All subscribers who can see this post"),lr=(0,t.I4)(({value:qt})=>{const Rt=Number(qt);[1,24,72,168,999999].includes(Rt)&&Ve(Rt)},[Ve]),mr=x(Ne===1?"1 hour":Ne===24?"1 day":Ne===72?"3 days":Ne===168?"1 week":"Forever"),Xt=(0,t.I4)((qt,Rt)=>{const Ut=[...Se];Ut.splice(qt,1,Rt),qt===Ut.length-1&&Ut.length<r0&&Ut.push(""),Ae(Ut)},[Se,Ae]),Bt=(0,t.I4)(qt=>{if(Se.length<=t0||qt>=Se.length)return;const Rt=[...Se];Rt.splice(qt,1),Rt[Rt.length-1].length&&Rt.push(""),Ae(Rt)},[Se,Ae]),ur=Array(Math.max(2,Se.length||0)).fill("").:qt),tr=It||_&&pe("This poll is part of a post that has already been published. If you modify it, 1 existing vote will be removed.","This poll is part of a post that has already been published. If you modify it, %1 existing votes will be removed.",A);return(0,e.h)(xo.u_,{className:"poll-editor-modal",isOpen:r,onClose:o},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:Pe,onChange:qt=>Ce(qt.currentTarget.value),placeholder:x("Enter your question..."),disabled:Ye,maxLength:jI})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},ur.map((qt,Rt)=>(0,e.h)(KI,{index:Rt,text:qt,onChange:Xt,onDelete:Bt,disabled:Ye,showDeleteButton:ur.length>t0&&(Rt<ur.length-1||qt.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},x("Length")),(0,e.h)(Xm,{options:[{label:x("1 hour"),value:"1"},{label:x("1 day"),value:"24"},{label:x("3 days"),value:"72"},{label:x("1 week"),value:"168"},{label:x("Forever"),value:"999999"}],isDisabled:Ye,value:{label:mr,value:String(Ne)},onChange:lr})),B&&_e==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},x("Who can vote?")),(0,e.h)(Xm,{options:[{label:x("Only paid subscribers"),value:"only_paid"},{label:x("All subscribers who can see this post"),value:"all_subscribers"}],isDisabled:Ye,value:{label:Jt,value:ze},onChange:jt})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(Rh.p,{checked:wt,onChawt),label:x("Hide the total vote count from readers?"),name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},tr&&(0,e.h)("div",{className:"edit-warning"},tr),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(la.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:Dt,disabled:Ye},x("Cancel")),(0,e.h)(Hw.L,{content:xt,className:s()("inverse",{disabled:xt===null})},(0,e.h)(la.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>Vs(void 0,null,function*(){ht(!0);try{yield a({audience:ze,question:Pe,options:Se.filter(Boolean),expiry:Ne,votes_hidden:wt})}catch(qt){At(x("An error occurred while saving this poll."))}ht(!1)}),disabled:xt!==null||Ye},x("Save")))))))},GI=({id:n,text:r,onVote:o,showVotes:a,currentVotes:_,totalVotes:A,myVote:B,canVote:k})=>{const x=(0,t.I4)(()=>Vs(void 0,null,function*(){n&&(yield o(n))}),[n,o]),J=Math.round(100*(A===0?0:_/A));return(0,e.h)("div",{className:s()("poll-option",{"show-votes":a,"hide-votes":!a,"can-vote":k,"my-vote":B}),onClick:x},a&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${J}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},r,a&&B&&(0,e.h)(Aw.Z,{className:"vote-icon"}))),a&&(0,e.h)("div",{className:"poll-percentage-text"},J,"%"))},zI=({id:n,isEditor:r,post:o,pub:a,isVersionView:_})=>{var A,B,k;const[x,J]=(0,t.eJ)(!1),[pe,_e]=(0,t.eJ)(!0),[ye,Pe]=(0,t.eJ)(null),[Ce,Se]=(0,t.eJ)(null),[Ae,Ne]=(0,t.eJ)(!0),[Ve,ze]=(0,t.eJ)(_!=null?_:!1),{iString:Je,iPlural:Ye,language:ht}=(0,l.M1)(),wt=(0,nn.pm)(),Ct={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!r){const br=(0,p.parseQuery)(window.location.href);if(br&&br.token&&(Ct.token=br.token),!Ct.token&&((A=window._preloads)!=null&&A.original_url)){const kr=(0,p.parseQuery)(window._preloads.original_url);kr&&kr.token&&(Ct.token=kr.token)}}if(typeof window!="undefined"&&!r&&o.is_draft){const br=(0,p.getPostSlug)(window.location.href);br&&(0,Tt.isUUID)(br)&&(Ct.uuid=br)}const It=(0,so.aF)()||{},At=e0({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},It),{is_subscribed:xt,is_admin:Dt,is_contributor:jt,is_author:Jt}=At;let{is_free_subscribed:lr}=At;xw()&&(lr=!0);const mr=jt||Dt||Jt,Xt=Sr()(),Bt=ye&&ye.published_at&&Sr()(ye.published_at).add(ye.expiry,"hour"),ur=Bt&&Bt.diff(Xt,"hour"),qt=(ye==null?void 0:ye.audience)==="only_paid"?xt:lr,Rt=ye&&ye.options.some(br=>br.my_vote),Ut=!!(ye!=null&&ye.is_published),Ft=Ut&&Bt&&Bt.isBefore(Xt),kt=r&&((ye==null?void 0:ye.post_type)!=="adhoc_email"||!Ut),vt=(0,t.sO)(null),Cr=!Rt&&Ut&&!Ft&&qt,sr=Ye("%1 VOTE","%1 VOTES",(ye==null?void 0:ye.total_votes)||0),jr=VI({isExpired:Ft,isPublished:Ut,remainingHours:ur,language:ht}),Jr=(0,t.I4)((...br)=>Vs(void 0,[...br],function*({shouldNotSetLoading:kr}={shouldNotSetLoading:!1}){kr||_e(!0);try{const Fr=yield Ze()(`/api/v1/poll/${n}`).query(Ct);Pe(Fr.body),Se(null)}catch(Fr){Se(Je("We were unable to load this poll. Please refresh the page."))}_e(!1)}),[n,_e,Pe]);(0,t.()},[Jr]);const gn=(0,t.I4)(br=>Vs(void 0,null,function*(){try{yield Ze().put(`/api/v1/poll/${n}`).send(br)}catch(kr){return kr}return J(!1),_e(!0),yield Jr(),null}),[n,_e,Jr]),xr=(0,t.I4)(br=>Vs(void 0,null,function*(){var kr;if(!qt&&Ut&&!Ft&&!kt){(kr=vt.current)==null||kr.open();return}if(!(kt||!Cr||Ve)){ze(!0);try{yield Ze().post(`/api/v1/poll/${n}/vote`).send({poll_option_id:br}).query(Ct),Se(null)}catch(Fr){Se(Je("We were unable to record your vote. Please refresh the page and try again.")),ze(!1);return}yield Jr({shouldNotSetLoading:!0}),ze(!1)}}),[kt,Cr,Ve,ze,n,Jr,qt,Ut,Ft]),un=kt?Array(Math.max(2,((B=ye==null?void 0:ye.options)==null?void 0:B.length)||0)).fill("").map((br,kr)=>{var Fr;return ye&&((Fr=ye.options)==null?void 0:Fr.length)>kr?ye.options[kr].label:hd(kr,ht)}):(k=ye==null?void 0:ye.options)==null?void 0:k.map(br=>br.label);if(Ce!==null&&!ye)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},Ce));const Vr=r?null:`${(0,p.getPostUrl)(a,o)}#poll-${n}`;return(0,e.h)(ne.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},Vr&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${n}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:br=>{location!=null&&location.href&&(br.preventDefault(),(0,F.copyToClipboard)(Vr),wt.popToast(kr=>(0,e.h)(nn.FN,FI(e0({},kr),{text:Je("Link copied"),Icon:Ji.Z}))))}},(0,e.h)("a",{href:Vr},(0,e.h)(Ji.Z,{size:20})))),kt&&ye&&(0,e.h)($I,{poll:ye,isOpen:x,onClose:()=>{J(!1)},isPublished:Ut,totalVotes:(ye==null?void 0:ye.total_votes)||0,onSave:gn,shouldShowAudiencePicker:(ye==null?void 0:ye.post_type)!=="adhoc_email"}),!r&&ye&&(0,e.h)(Vw,{ref:vt,noCloseButton:!0,className:"poll-dialog",pub:a,post:o,user:It,pollId:ye.id,audience:ye.audience}),pe?(0,e.h)(ne.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(i.xv.Meta,{translated:!0},"Loading...")):(0,e.h)(e.Fragment,null,kt&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{J(!0)},disabled:pe},(0,e.h)(Nw.Z,{height:20})),(0,e.h)(ne.tu,{gap:4},(0,e.h)(ne.gq,{className:"poll-title",alignItems:"baseline",gap:4},(ye==null?void 0:ye.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(Lw.Z,{size:16}),(0,e.h)(i.xv.Meta,{translated:!0,className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(i.xv.Meta,{translated:!0},"POLL")),(0,e.h)(i.xv.H3,{className:"poll-question",color:"pub-primary-text"},(ye==null?void 0:ye.question)||Je("New Poll"))),Ce!==null&&(0,e.h)("div",{className:"poll-error"},Ce),(0,e.h)(ne.tu,{gap:12,className:s()("poll-options",{"no-margins":!Ut})},un.map((br,kr)=>{var Fr,yn,Hn;return(0,e.h)(GI,{id:((Fr=ye==null?void 0:ye.options[kr])==null?void 0:Fr.id)||null,text:br,canVote:!Rt&&Ut&&!Ft&&(!r||(ye==null?void 0:ye.post_type)==="adhoc_email"),onVote:xr,showVotes:Rt||Ft||mr&&Ae,totalVotes:(ye==null?void 0:ye.total_votes)||0,currentVotes:((yn=ye==null?void 0:ye.options[kr])==null?void 0:yn.votes)||0,myVote:((Hn=ye==null?void 0:ye.options[kr])==null?void 0:Hn.my_vote)||!1})})),Ut&&(0,e.h)(i.xv.Meta,{className:"poll-status"},(mr||!ye.votes_hidden)&&`${sr} \xB7 `,jr,mr&&!Rt&&!Ft&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:Je("Only the author, contributors, and admins may view results before voting."),onClick:()=>{Ne(!Ae)}},Je(Ae?"SHOW OPTIONS":"SHOW RESULTS"))))))},ZI=({id:n,embeddedPolls:r})=>{const o=r.find(A=>A.id===n),{iString:a,language:_}=(0,l.M1)();return o?(0,e.h)(on.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(on.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(o==null?void 0:o.audience)==="only_paid"?a("SUBSCRIBER-ONLY POLL"):a("POLL"))),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,o.question||a("New Poll"))),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(on.YF,{className:"poll-options",width:"100%"},o.options.map(({label:A,id:B},k)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${B}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},A||hd(k,_))))))))))))):(0,e.h)("table",{className:"poll-wrapper","data-component-name":"StaticPollError"},a("Something went wrong."))};var Ri=je(25380),YI=Object.defineProperty,JI=Object.defineProperties,XI=Object.getOwnPropertyDescriptors,n0=Object.getOwnPropertySymbols,QI=Object.prototype.hasOwnProperty,qI=Object.prototype.propertyIsEnumerable,o0=(n,r,o)=>r in n?YI(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,e5=(n,r)=>{for(var o in r||(r={}))QI.call(r,o)&&o0(n,o,r[o]);if(n0)for(var o of n0(r))qI.call(r,o)&&o0(n,o,r[o]);return n},t5=(n,r)=>JI(n,XI(r));const r5=n=>(0,e.h)(Te.l,t5(e5({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Ri.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var n5=je(29910),o5=Object.defineProperty,a5=Object.defineProperties,i5=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,s5=Object.prototype.hasOwnProperty,l5=Object.prototype.propertyIsEnumerable,i0=(n,r,o)=>r in n?o5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,md=(n,r)=>{for(var o in r||(r={}))s5.call(r,o)&&i0(n,o,r[o]);if(a0)for(var o of a0(r))l5.call(r,o)&&i0(n,o,r[o]);return n},u5=(n,r)=>a5(n,i5(r));const c5=["Subscribe","Subscribe now","Sign up","Sign up now"];function s0({isStatic:n,pub:r,user:o,freeSignup:a,children:_,pledgesEnabled:A}){if(n)return(0,e.h)(Gc.E.Consumer,null,({isFreemail:J,isFreeSubscribed:pe,isPledged:_e})=>_({isFreeSubscribed:pe,isSubscribed:!J,isFullySubscribed:r.plans?!J:!A||_e,isForPaidSubscription:!!r.plans&&J,isPledged:_e}));const B=a||(o==null?void 0:o.is_free_subscribed),k=o==null?void 0:o.is_subscribed,x=o==null?void 0:o.is_pledged;return _({isFreeSubscribed:B,isSubscribed:k,isFullySubscribed:r.plans?k:B&&(!A||x),isForPaidSubscription:!!r.plans&&B&&!k,isPledged:x})}function ql({pub:n,user:r,now:o,isStatic:a}){const{getExperimentVariant:_,exposeExperiment:A}=(0,wr.jc)(),{language:B}=(0,l.M1)();return(0,e.h)(L.vz.Consumer,null,({getSettingFor:k})=>{const x=n.payments_state==="disabled"&&!n.invite_only&&k("payment_pledges_enabled");return(0,e.h)(s0,{isStatic:a,user:r,pub:n,pledgesEnabled:x},({isFreeSubscribed:J,isPledged:pe})=>a?(0,Tt.getSubscribeText)(n,{now:o,isFreeSubscribed:J,isPledged:pe,pledgesEnabled:x,language:B}):(0,e.h)(u.gq,{alignItems:"center",gap:8},J?null:(0,e.h)(Is.Z,{size:20}),(0,Tt.getSubscribeText)(n,{now:o,isFreeSubscribed:J,isPledged:pe,pledgesEnabled:x,language:B})))})}class Ha extends e.Component{onSignup(r){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(r):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,p.getSubscribeUrl)(this.props.pub,u5(md(md({addBase:!0,utm_medium:j.UTM_MEDIUM.web,utm_source:this.props.source||j.UTM_SOURCE.subscribeWidget,utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:r.body.requires_confirmation?"true":""},r.body.subscription_id&&{subscription_id:r.body.subscription_id}),r.body.referral_token&&{referral_token:r.body.referral_token}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(r){const{pub:o,subscribeButtonAttrs:a,isStatic:_,source:A,post:B,next:k}=this.props,x={utm_medium:_?j.UTM_MEDIUM.email:j.UTM_MEDIUM.web,utm_source:A||j.UTM_SOURCE.subscribeWidget,utm_content:B&&B.id,next:k,referring_pub_ids:_?void 0:(0,p.getQueryItem)("referring_pub_ids")};return r?_?fo.Substitutions.ACCOUNT_URL:(0,p.getPubAccountSettingsUrl)(o,{params:x}):(0,p.getSubscribeUrl)(o,md({addBase:!0,root:a?a.url:_&&fo.Substitutions.CHECKOUT_URL},x))}getButtonLabel(r,o,{isPledged:a,pledgesEnabled:_}){const{pub:A,subscribeButtonAttrs:B}=this.props,{iString:k}=I18N.i({pub:A});if(r||a)return k("Subscribed");const x=B&&B.text;if(x&&!c5.includes(x))return x;const J=o;return(0,Tt.getSubscribeText)(A,{now:!J,isFreeSubscribed:J,isPledged:a,pledgesEnabled:_,language:this.context.language})}render({pub:r,user:o,freeSignup:a,freeSignupEmail:_,source:A,isStatic:B,forceEmailInput:k,expectTruncation:x,onPrepareData:J,onError:pe},{loading:_e}){const ye=typeof window!="undefined"&&r.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(L.vz.Consumer,null,({getSettingFor:Pe})=>(0,e.h)(n5._j.Consumer,null,Ce=>(0,e.h)(s0,{pub:r,user:o,isStatic:B,freeSignup:a,pledgesEnabled:r.payments_state==="disabled"&&!r.invite_only&&Pe("payment_pledges_enabled")},({isFreeSubscribed:Se,isSubscribed:Ae,isFullySubscribed:Ne,isPledged:Ve})=>{var ze;const Je=this.getButtonLabel(Ne,Se,{isPledged:Ve,pledgesEnabled:r.payments_state==="disabled"&&!r.invite_only&&Pe("payment_pledges_enabled")}),Ye=Se||Ae;return(0,e.h)("div",{className:s()("subscribe-widget",{"is-signed-up":Ye,"is-fully-subscribed":Ne}),"data-component-name":"SubscribeWidget"},!k&&(Ye||B)?(0,e.h)("p",{className:"button-wrapper"},B?(0,e.h)("a",{className:s()("button subscribe-btn",Ne?"outline":"primary"),href:this.getHref(Ne),native:!B},Ne&&(0,e.h)(r5,{stroke:((ze=r==null?void 0:r.theme)==null?void 0:ze.background_pop_color)||(r==null?void 0:r.theme_var_background_pop)||Pa.Hu,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,Je)):(0,e.h)(la.z,{className:"subscribe-btn",href:this.getHref(Ne),localNavigation:!1,variant:Ne?"themed-secondary":"themed-primary",leftIcon:Ne?(0,e.h)(Ri.Z,{size:20}):null},(0,e.h)("span",null,Je))):(0,e.h)(u.gq,{justifyContent:"center"},(0,e.h)(Me.Z,{disabled:Ye||_e,freeSignup:a,freeSignupEmail:_,expectTruncation:x,next:ye?window.location.href:null,pub:r,source:A||"subscribe-widget",submitButtonText:Ye?"\u2713":(0,Tt.getSubscribeText)(r,{language:this.context.language}),useSubscribeLink:(Ce==null?void 0:Ce.isSubstack)||ye,user:o,utm_campaign:Ce!=null&&Ce.isSubstack?j.UTM_CAMPAIGN.reader2:ye?j.UTM_CAMPAIGN.crossPost:null,onConfirmationRequired:(r==null?void 0:r.payments_state)==="enablull:void 0,onError:pe,onPrepareData:J,onSuccess:ht=>this.onSignup(ht)})))})))}}Ha.contextType=l.wj;var d5=Object.defineProperty,f5=Object.defineProperties,p5=Object.getOwnPropertyDescriptors,l0=Object.getOwnPropertySymbols,h5=Object.prototype.hasOwnProperty,m5=Object.prototype.propertyIsEnumerable,u0=(n,r,o)=>r in n?d5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ta=(n,r)=>{for(var o in r||(r={}))h5.call(r,o)&&u0(n,o,r[o]);if(l0)for(var o of l0(r))m5.call(r,o)&&u0(n,o,r[o]);return n},_d=(n,r)=>f5(n,p5(r));const _5=(n,r)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:n.children[0].children[0].children[0].innerHTML}})),(0,e.h)(Ha,Ta({pub:r.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},r.props)))),g5=(n,r)=>{try{const o=JSON.parse(Co()(n.getAttribute("data-attrs")));if([`${r.pub.base_url}/subscribe?`,`${r.pub.base_url}/subscribe?plan=founding`,fo.Substitutions.CHECKOUT_URL,fo.Substitutions.FOUNDING_CHECKOUT_URL].includes(o.url)){const a=JSON.parse(Co()(n.getAttribute("data-attrs")));return(0,e.h)(Ha,Ta({pub:r.pub,subscribeButtonAttrs:a},r.props))}}catch(o){console.error("Failed to parse button:",o)}},v5=(n,{pub:r,props:{isStatic:o,post:a}})=>{try{const _=n.getAttribute("data-attrs");if(_){const A=JSON.parse(Co()(_));return o?(0,e.h)(oh,{label:A.label,pub:r,post:a,duration:A.duration}):(0,e.h)(nh,{label:A.label,pub:r,post:a,src:`/api/v1/audio/upload/${A.mediaUploadId}/src`,duration:A.duration,autoPlay:!1})}}catch(_){console.error("Failed to parse audio:",_)}},y5=(n,{pub:r,props:{isStatic:o,post:a}})=>{try{const _=n.getAttribute("data-attrs");if(_){const A=JSON.parse(Co()(_));return o?(0,e.h)(oh,{label:A.label,pub:r,post:a,duration:A.duration}):(0,e.h)(nh,{label:A.label,pub:r,post:a,src:A.url,duration:A.duration,autoPlay:!1})}}catch(_){console.error("Failed to parse audio:",_)}},E5=(n,{props:{isStatic:r}})=>{try{const o=n.getAttribute("data-attrs");if(o){const{name:a,avatarUrl:_,url:A}=JSON.parse(Co()(o));return r?(0,e.h)(UO,{name:a,avatarUrl:_,url:A}):(0,e.h)(BO,{name:a,avatarUrl:_,url:A})}}catch(o){console.error("Failed to parse audio:",o)}},b5=n=>{try{const r=JSON.parse(n.dataset.attrs).symbol;return r?(0,e.h)(mC,{symbol:r,prependSymbol:JSON.parse(n.dataset.attrs).prependSymbol,isStatic:JSON.parse(n.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(r){return(0,e.h)(e.Fragment,null)}},P5=(n,{pub:r,props:{isStatic:o,post:a}})=>{const{iString:_}=I18N.i({pub:r});try{if(o){const A=n.getAttribute("data-attrs");if(A){const B=JSON.parse(Co()(A)),k=B==null?void 0:B.persistentExpression;return k?(0,e.h)("img",{src:(0,p.getLatexUrl)(k),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 no expression found in email"))}else return(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 data attributes not found"))}else{const A=n.getAttribute("data-attrs"),B=JSON.parse(Co()(A)),k=B==null?void 0:B.persistentExpression;return k?(0,e.h)(ne.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(ne.tu,{justifyContent:"center"},(0,e.h)(X2,{inline:!1},`\\(${k}\\)`))):(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 no expression found"))}}catch(A){return console.error("failed to render mathjax",A),(0,e.h)("p",null,_("Failed to render LaTeX expression \u2014 error"))}},O5=n=>{try{const r=JSON.parse(n.dataset.attrs),{name:o,id:a,type:_,url:A,photo_url:B,uuid:k,isStatic:x}=r;return o?(0,e.h)(Ah.default,{name:o,id:a,type:_,url:A,photo_url:B,uuid:k,isStatic:x}):(0,e.h)(e.Fragment,null)}catch(r){return(0,e.h)(e.Fragment,null)}},C5=(n,r)=>{var o;try{const a=JSON.parse(Co()(n.getAttribute("data-attrs")));return a!=null&&a.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(ZI,{id:a.id,embeddedPolls:(o=r.props.dataForEmailRender)==null?void 0:o.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:n.getAttribute("data-attrs")},(0,e.h)(zI,{id:a.id,isEditor:!1,post:r.props.post,pub:r.pub,isVersionView:!!r.props.isVersionView}))}catch(a){return console.log("Failed to parse poll:",a),(0,e.h)(e.Fragment,null)}};function w5(n,{props:{isStatic:r}}){try{const o=n.getAttribute("data-attrs"),a=JSON.parse(Co()(o));return!a.pub||!a.subdomain?(console.error("could not deepPrepare communityChat, subdomain or pub missing from node"),(0,e.h)(e.Fragment,null)):(0,e.h)("div",{className:"community-chat",dataAttrs:o},r?(0,e.h)(tO,Ta({},a)):(0,e.h)(eO,{pub:a.pub,subdomain:a.subdomain}))}catch(o){return console.error("Failed to parse chat embed:",o),(0,e.h)(e.Fragment,null)}}function S5(n,r){const{props:{isStatic:o,is_freemail:a}}=r;try{const _=n.getAttribute("data-attrs"),A=JSON.parse(Co()(_));return o?(0,e.h)(vO,Ta({is_freemail:a},A)):(0,e.h)(gO,Ta({},A))}catch(_){return console.error("Failed to parse chat post embed:",_),(0,e.h)(e.Fragment,null)}}function T5(n,{props:{isStatic:r}}){try{const o=n.getAttribute("data-attrs"),a=JSON.parse(Co()(o));return r?(0,e.h)(zp,Ta({},a)):(0,e.h)(bO,Ta({},a))}catch(o){return console.error("Failed to parse chat post embed:",o),(0,e.h)(e.Fragment,null)}}const I5=(n,r,o)=>{var a;const _=n.id,[A,,B]=_.split("-"),k=(a=o.wrapper.querySelector(`#${A}-${B}`))==null?void 0:a.nextElementSibling;return k?((0,v.isMobile)()&&(n.href="javascript:void(0)"),(0,e.h)(Zp.z,{content:(0,e.h)("div",{className:"markup"},Hs(k,r,o)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard",as:"span"},Hs(n,r,o))):Hs(n,r,o)},n),eu=(n,r,{shallow:o}={})=>{var a,_,A,B;if(n.nodeName==="A"&&(n.getAttribute("rel")||n.setAttribute("rel",(a=r.pub)!=null&&a.no_follow?"nofollow ugc noopener":"")),r.pub&&n.nodeName==="P"&&(0,F.hasClass)(n,"button-wrapper")){const x=g5(n,r);if(x)return x}const k=((_=r.pub)==null?void 0:_.language)||"en";return(0,F.hasClass)(n,"subscription-widget-wrap")?wo(_5(n,r),k):(0,F.hasClass)(n,"cashtag-wrap")?wo(b5(n),k):(0,F.hasClass)(n,"mention-wrap")?wo(O5(n),k):r.pub&&(0,F.hasClass)(n,"native-audio-url-embed")?wo(y5(n,r),k):r.pub&&(0,F.hasClass)(n,"native-audio-embed")?wo(v5(n,r),k):r.pub&&(0,F.hasClass)(n,"native-video-embed")?wo(Cw(n,r),k):r.pub&&(0,F.hasClass)(n,"meeting-embed")?wo(E5(n,r),k):(0,F.hasClass)(n,"poll-embed")?wo(C5(n,r),k):(0,F.hasClass)(n,"image-gallery-embed")?wo(Iw(n,r),k):(0,F.hasClass)(n,"image3")?wo(Tw(n,r),k):(0,F.hasClass)(n,"latex-rendered")?wo(P5(n,r)):(0,F.hasClass)(n,"community-chat")?wo(w5(n,r),k):(0,F.hasClass)(n,"community-post")?wo(S5(n,r),k):(0,F.hasClass)(n,"digest-post-embed")?wo(ww(n,r),k):(0,F.hasClass)(n,"comment")&&!(0,F.hasClass)(n,"template-comment")?wo(T5(n,r),k):(0,F.hasClass)(n,"referrals-tier-card")?wo(Sw(n,r),k):((B=(A=r.props)==null?void 0:A.post)!=null&&B.id&&(0,F.hasClass)(n,"footnote")&&(n.id&&(n.id+=`-${r.props.post.id}`),n.href&&(n.href+=`-${r.props.post.id}`)),(0,F.hasClass)(n,"footnote-anchor")?wo(I5(n,eu,r),k):o?null:Hs(n,eu,r))},M5=function(n){const r={},o=Array.prototype.slice.call(n);for(const{name:a,value:_}of o)r[a]=_;return r},D5=(n,r)=>{let o=0;return function(){const a=[].slice.call(arguments,0),_=++o>r;_&&console.error("Too many post nodes to recurse",{postId:a[2].props.post.id,depth:o});const A=n.apply(null,[...a,..._?[!0]:[]]);return o--,A}};function A5(n,r,o,a){var _,A,B;const k=s()("header-with-anchor-widget",r.className),x=o.children.length?Array.prototype.map.call(o.childNodes,J=>eu(J,a)):[o.textContent];return(0,e.h)(n,_d(Ta({},r),{className:k}),...x,(0,e.h)(Dw,{text:o.textContent,pub:a==null?void 0:a.pub,post:(_=a==null?void 0:a.props)==null?void 0:_.post,offsetTop:!0,isAboutPage:(B=(A=a==null?void 0:a.props)==null?void 0:A.isAboutPage)!=null?B:!1}))}const Hs=D5((n,r,o,a)=>{var _,A;if(!n)throw new Error("Empty node, cannot preactify!");const B=n.nodeType===3?"span":n.nodeType===8?"x_preact_compatible_html_comment_x":n.tagName.toLowerCase(),k=n.nodeType!==1?{}:M5(n.attributes),x=n.children&&n.children.length>0?null:n.textContent;if(a)return(0,e.h)(B,_d(Ta({},k),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));if(B==="script"&&n.innerHTML===Q2)return(0,e.h)(B,_d(Ta({},k),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));const J=!!((_=n.parentElement)!=null&&_.getAttribute("data-prose-mirror-wrapper"));if(((A=o==null?void 0:o.pub)==null?void 0:A.type)!=="rss"&&J&&["h1","h2","h3","h4"].includes(B)&&!n.className)return A5(B,k,n,o);if(x)return(0,e.h)(B,k,x);const pe=r(n,o,{shallow:!0});return pe||(0,e.h)(B,k,...Array.prototype.map.call(n.childNo,o)))},2500);function N5(n,r,o={}){const a=document.createElement("div");return a.setAttribute("data-prose-mirror-wrapper",1),a.innerHTML=n,Array.prototype.map.call(a.childNodes,_=>Hs(_,eu,{wrapper:a,pub:r,props:o}))}var tu=je(62017);const c0=typeof window!="undefined";function d0(n,r,o=c0?localStorage:void 0){var a;const[_,A]=(0,t.eJ)(typeof o!="undefined"&&(a=o.getItem(n))!=null?a:r);return[_,k=>{A(x=>{const J=typeof k=="function"?k(x):k;return o&&o.setItem(n,J),J})}]}function xj(n,r,o=c0?localStorage:void 0){const a=useM(r),[r]),[_,A]=d0(n,a,o);return[useMemo(()=>{try{return JSON.parse(_)}catch(x){return console.error("Failed to parse stored value:",x),r}},[_,x))]}var f0=je(16742);const vo={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS",mobileFooter:"frontend-components-selection_popover-module__mobileFooter--gk9tq"};var L5=Object.defineProperty,R5=Object.defineProperties,x5=Object.getOwnPropertyDescriptors,ru=Object.getOwnPropertySymbols,p0=Object.prototype.hasOwnProperty,h0=Object.prototype.propertyIsEnumerable,m0=(n,r,o)=>r in n?L5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,xi=(n,r)=>{for(var o in r||(r={}))p0.call(r,o)&&m0(n,o,r[o]);if(ru)for(var o of ru(r))h0.call(r,o)&&m0(n,o,r[o]);return n},Ks=(n,r)=>R5(n,x5(r)),U5=(n,r)=>{var o={};for(var a in n)p0.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&ru)for(var a of ru(n))r.indexOf(a)<0&&h0.call(n,a)&&(o[a]=n[a]);return o},os=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const _0=2048;function B5(n){var r,o,a,_;const{nuxModal:A,showRestackNux:B}=(0,f0.y)("post");return(0,e.h)(e.Fragment,null,A,((_=(a=(o=(r=n.selection)==null?void 0:r.text)==null?void 0:o.split)==null?void 0:a.call(o," "))==null?void 0:_.length)>=3&&(0,e.h)(k5,xi({onShare:B},n)))}function k5({pub:n,post:r,selection:o,onShare:a,onClose:_,userInteractionDisabled:A,selectingTextForQuote:B}){var k,x,J;const pe=(0,so.aF)(),_e=(0,nn.pm)(),ye=(0,Ls.i3)(),Pe=(0,Zr.XA)(),Ce="has_dismissed_restack_selection_explainer",[Se]=d0(Ce),Ae=(0,so.SE)();(0,t.d4)(()=>{Se==="true"&&(Ae!=null&&Ae.userSettings)&&!Ae.userSettings.has_seen_select_to_restack_tooltip_nux&&Ae.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const Ne=!r.is_draft&&!!pe,Ve=!r.is_draft,ze=()=>os(this,null,function*(){const Dt=yield(0,Pn.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:r.id,publication_id:n.id,startParagraph:o.startParagraph,endParagraph:o.endParagraph,startOffset:o.startOffset,endOffset:o.endOffset}});if(Dt instanceof Error)throw Dt;return Dt.selection.id}),Je=()=>os(this,null,function*(){const Dt=yield ze();return(0,p.getPostUrl)(n,r,{urlParams:{r:pe?pe.id.toString(36):null,selection:Dt,utm_campaign:j.UTM_CAMPAIGN.postSelection,utm_medium:j.UTM_MEDIUM.web}})}),Ye=()=>os(this,null,function*(){if(!Ne)return;_(),(0,d.track)(d.EVENTS.RESTACK_SELECTION_CLICKED,{post_id:r.id});let Dt;try{Dt=yield Je()}catch(Jt){_e.popToast(lr=>(0,e.h)(nn.FN,Ks(xi({},lr),{text:"Failed to generate quote"})));return}const jt=yield ye.open({restackUrl:Dt});jt instanceof Error?(console.error(jt),_e.popToast(Jt=>(0,e.h)(nn.FN,Ks(xi({},Jt),{text:"Failed to post"})))):(a(),_e.popToast(Jt=>(0,e.h)(nn.FN,Ks(xi({},Jt),{text:"Note sent",cta:"View",href:(0,gt.getFeedUrl)()}))))}),ht=()=>os(this,null,function*(){(0,d.track)(d.EVENTS.VIDEO_QUOTE_TEXT_SELECTED,{post_id:r.id,selection_id:o.id}),(0,F.redirect)((0,gt.getPostDetailsShareCenterUrl)(n,r.id,{selectionForQuote:o.text}),{local_navigation:!1})}),wt=()=>os(this,null,function*(){if(!Ve)return;_();let Dt;try{Dt=yield Je()}catch(jt){_e.popToast(Jt=>(0,e.h)(nn.FN,Ks(xi({},Jt),{text:"Failed to copy link to quote"})));return}(0,F.copyToClipboard)(Dt),_e.popToast(jt=>(0,e.h)(nn.FN,Ks(xi({},jt),{text:"Link copied to clipboard"})))}),Ct=Dt=>os(this,null,function*(){if(pe)return;_(),(0,d.track)(d.EVENTS.RESTACK_SELECTION_CLICKED,{post_id:r.id});let jt;try{jt=yield ze()}catch(mr){}const Jt=(0,p.updateQuery)(document.location.href,{selection:jt}),lr=(0,p.getSigninUrl)({redirect:Jt});(0,F.redirect)(lr,{local_navigation:!1,event:Dt})});(0,t.d4)(()=>(window.addEventListener("scroll",_,{passive:!0,capture:!0,once:!})}),[_]);const It=(Ae==null?void 0:Ae.userSettings)&&!((k=Ae.userSettings)!=null&&k.has_seen_select_to_restack_tooltip_nux)&&!B,At=It?156:400)};return(0,e.h)(ne.tu,{style:{top:(0,Tt.isTouchDevice)()?o.y+o.height+8:o.y-At-8,left:o.rect.x+o.rect.width/2,transform:"translateX(-50%)",pointerEvents:A?"none":"auto",maxWidth:240},justifyContent:"center",className:vo.popover,shadow:"md",radius:12},(0,e.h)(ne.tu,{className:s()(vo.popoverButtons,Pe&&vo.isMobile),radius:12,padding:It?8:4,gap:8},It&&(0,e.h)(F5,{onDismiss:xt}),(0,e.h)(nu,{onClick:B?ht:pe?Ye:Ct,disabled:!Ne&&!!pe||B&&((x=o.text)==null?void 0:x.length)>_0,isExplainer:It},!B&&(0,e.h)(es.Z,{className:s()(vo.icon,!Ne&&vo.disabled)}),(0,e.h)(i.xv.B4,{color:Ne?"bg-light":"secondary",weight:"medium"},B?((J=o.text)==null?void 0:J.length)>_0?"Selection too long":"Use this text":Ne?"Restack quote":pe?r.is_draft?"Cannot quote a draft":n!=null&&n.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(r==null?void 0:r.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function nu(n){var r=n,{isExplainer:o}=r,a=U5(r,["isExplainer"]);return(0,e.h)(be.kG,xi({className:s()(vo.button,o&&vo.explainerButton),resetCss:!0},a))}function F5({onDismiss:n}){return(0,e.h)(ne.tu,{className:vo.explainer,radius:6,paddingX:16,paddingY:8,gap:4},(0,e.h)(be.kG,{resetCss:!0,className:vo.dismissExplainer,onClick:n},(0,e.h)(Xi.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(i.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(i.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post as"," ",(0,e.h)(tu.hh,{color:"secondary",decoration:"underline",href:(0,gt.getFeedUrl)(),target:"_blank"},"a note"),"."))}var gd=je(71212);const W5=(n,r=500)=>{const o=(0,t.sO)(null),a=(0,t.sO)({x:0,y:0}),_=(0,t.sO)(!1),A=(0,t.I4)(x=>{a.current={x:x.touches[0].clientX,y:x.touches[0].clientY},o.current=window.setTime()},r)},[n,r]),B=(0,t.I4)(()=>{o.current!==null&&clearTimeout(o.current),_.current=!1},[]),k=(0,t.I4)(x=>{const J={x:x.touches[0].clientX,y:x.touches[0].clientY},pe=Math.abs(J.x-a.current.x),_e=Math.abs(J.y-a.current.y),ye=10;(pe>ye||_e>ye)&&(o.current!==null&&clearTimeout(o.current),_.current=!1)},[]);return(0,t.d4)(()=>()=>{o.current!==null&&clearTimeout(o.current)},[]),{onTouchStart:A,onTouchEnd:B,onTouchMove:k,longPressActivated:_}};var j5=je(41487),V5=je(40946);const Ia={root:"frontend-components-ShareSelectionImage-module__root--pmZjU",large:"frontend-components-ShareSelectionImage-module__large--KtLJ0",image:"frontend-components-ShareSelectionImage-module__image--A2mIB",imageLoading:"frontend-components-ShareSelectionImage-module__imageLoading--CWfsY",stories:"frontend-components-ShareSelectionImage-module__stories--GtFB9",small:"frontend-components-ShareSelectionImage-module__small--xwYwM",square:"frontend-components-ShareSelectionImage-module__square--ahhUC",link:"frontend-components-ShareSelectionImage-module__link--RAXSX",download:"frontend-components-ShareSelectionImage-module__download--d6vx_",secondaryBorder:"frontend-components-ShareSelectionImage-module__secondaryBorder--GZZF_",spinner:"frontend-components-ShareSelectionImage-module__spinner--Cngzw",text:"frontend-components-ShareSelectionImage-module__text--WP_9Y"};var H5=Object.defineProperty,g0=Object.getOwnPropertySymbols,K5=Object.prototype.hasOwnProperty,$5=Object.prototype.propertyIsEnumerable,v0=(n,r,o)=>r in n?H5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,G5=(n,r)=>{for(var o in r||(r={}))K5.call(r,o)&&v0(n,o,r[o]);if(g0)for(var o of g0(r))$5.call(r,o)&&v0(n,o,r[o]);return n},z5=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const Z5=({pub:n,post:r,style:o,text:a,selectionId:_,size:A,editButton:B,wrapperClassName:k})=>{const{img:x,imgDownload:J,shareData:pe,useNativeShare:_e}=(0,j5.Q)({shareTitle:"Share this post",shareText:r.title,shareUrl:(0,p.getPostUrl)(n,r),imageDownloadUrl:(0,p.getPostSelectionMediaUrl)(n,r,_,o,`${a}${o.aspectRatio?` - ${o.aspectRatio}`:""}`),imageUrl:(0,p.getPostSelectionMediaUrl)(n,r,_,o),imageUrlSameOrigin:(0,p.getPostSelectionMediaImageUrl)(n,r,_,o)}),ye=(0,t.I4)(()=>{(0,d.track)(d.EVENTS.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:r.id,selection_id:_,type:a,aspect_ratio:o.aspectRatio,interaction:"longpress"})},[r.id,_,a,o.aspectRatio]),Pe=W5(ye),Ce=(0,t.I4)(Ae=>z5(void 0,null,function*(){if(Pe.longPressActivated.current){Ae.preventDefault();return}if((0,d.track)(d.EVENTS.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:r.id,selection_id:_,type:a,aspect_ratio:o.aspectRatio,interaction:"click"}),_e&&pe)try{yield navigator.share(pe)}catch(Ne){}}),[Pe.longPressActivated,r.id,_,a,o.aspectRatio,_e,pe]),Se=(0,t.I4)(()=>{(0,d.track)(d.EVENTS.IMAGE_CONTEXT_MENU_CLICKED,{post_id:r.id,clicked_from:"share_selection",selection_id:_,type:a,aspect_ratio:o.aspectRatio,interaction:"click"})},[r.id,_,a,o.aspectRatio]);return(0,e.h)("a",G5({href:(0,v.isMobile)()?void 0:J,alt:"Download Image",download:!0,className:s()(Ia.link,k),target:"_blank",onClick:Ce,onContextMenu:Se},Pe),(0,e.h)("div",{className:s()(Ia.root,o.aspectRatio==="stories"?Ia.stories:Ia.square,A&&Ia[A])},(0,v.isMobile)()&&B,!(0,v.isMobile)()&&(0,e.h)("div",{className:Ia.download},(0,e.h)(V5.Z,{stroke:"white",fill:"none"})),!x&&(0,e.h)("div",{className:s()(Ia.image,Ia.imageLoading),alt:"Loading"},(0,e.h)(Lr.Sv,{className:Ia.spinner})),x&&(0,e.h)("img",{src:x,className:Ia.image})))};var Y5=je(71765),J5=je(64484),ou=je(48042);const Ma={root:"frontend-components-SelectionV2Modal-module__root--xQnU9",imageSmall:"frontend-components-SelectionV2Modal-module__imageSmall--R16_y",imageWrapper:"frontend-components-SelectionV2Modal-module__imageWrapper--KI6MA",modalWithFooter:"frontend-components-SelectionV2Modal-module__modalWithFooter--DhxFS",actionSheetMenu:"frontend-components-SelectionV2Modal-module__actionSheetMenu--ji2CC",actionSheetBody:"frontend-components-SelectionV2Modal-module__actionSheetBody--VAUMt",modalBody:"frontend-components-SelectionV2Modal-module__modalBody--KAht0",mediaAssetContainer:"frontend-components-SelectionV2Modal-module__mediaAssetContainer--ZwVNu",safeAreaInsetPaddingBottom:"frontend-components-SelectionV2Modal-module__safeAreaInsetPaddingBottom--RH4Gf",actionSheetContainer:"frontend-components-SelectionV2Modal-module__actionSheetContainer--BaWcS",actionSheetItems:"frontend-components-SelectionV2Modal-module__actionSheetItems--LLOEr",edit:"frontend-components-SelectionV2Modal-module__edit--PbhOl"};var X5=Object.defineProperty,Q5=Object.defineProperties,q5=Object.getOwnPropertyDescriptors,y0=Object.getOwnPropertySymbols,eM=Object.prototype.hasOwnProperty,tM=Object.prototype.propertyIsEnumerable,E0=(n,r,o)=>r in n?X5(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,rM=(n,r)=>{for(var o in r||(r={}))eM.call(r,o)&&E0(n,o,r[o]);if(y0)for(var o of y0(r))tM.call(r,o)&&E0(n,o,r[o]);return n},nM=(n,r)=>Q5(n,q5(r)),as=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const oM=({pub:n,post:r,selectionId:o,style:a,showText:_=!1,size:A,editButton:B})=>{const k=(0,ou.fQ)(a.aspectRatio);return(0,e.h)("div",{className:s()(Ma.root,Ma.imageWrapper,A&&Ma[A])},(0,e.h)(Z5,{pub:n,post:r,style:a,text:k,selectionId:o,size:A,editButton:B,wrapperClassName:Ma.imageWrapper}),_&&k&&(0,e.h)(u.xv.Meta,{paddingTop:A==="small"?8:16},k))},aM=({pub:n,post:r,isOpen:o,onClose:a,selection:_,selectionId:A,setSelectionId:B,themeVariables:k})=>{const{iString:x}=(0,l.M1)(),[J,pe]=(0,t.eJ)(!1),[_e,ye]=(0,t.eJ)("stories"),Pe=(r==null?void 0:r.cover_image)||(n==null?void 0:n.cover_photo_url),[Ce,Se]=(0,t.eJ)(Pe?"image":"accent"),[Ae,Ne]=(0,t.eJ)(!1),Ve=(0,so.aF)(),ze=(0,u.pm)(),Je=(0,v.isMobile)({checkFirst4:!0}),{result:Ye}=(0,Pn.ib)({pathname:`/api/v1/publication/${n.id}/theme`,auto:_&&r&&o&&!k,cacheTtl:1/0,initialResult:k,deps:[_,r,o,k]}),ht=o&&(!!A||J)&&!!Ye;(0,t.d4)(()=>{ht&&(r!=null&&r.id)&&(0,d.track)(d.EVENTS.SHARE_SELECTION_MODAL_OPENED,{post_id:r.id})},[ht,r]),(0,t.d4)(()=>{if(!_||!r||!o)return;(()=>as(void 0,null,function*(){pe(!0);try{const Bt=yield(0,Pn.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:r.id,publication_id:n.id,startParagraph:_.startParagraph,endParagraph:_.endParagraph,startOffset:_.startOffset,endOffset:_.endOffset}});if(pe(!1),Bt instanceof Error)throw Bt;B(Bt.selection.id.toString())}catch(Bt){alert((0,Pn.i)(Bt)),pe(!1),a()}}))()},[n,r,_,o,B,a]);const wt=(Xt,Bt)=>{const ur=(0,ni.O1)(null,{pub:n,post:r,selectionId:A,user:Ve||void 0,medium:"web",utm_campaign:j.UTM_CAMPAIGN.postShareSelection});(0,ni.I)(Xt,Bt,{shareUrl:ur,post:r,pub:n,selectionId:A,utm_campaign:j.UTM_CAMPAIGN.postShareSelection})},Ct=()=>as(void 0,null,function*(){wt("copy",Xt=>((0,F.copyToClipboard)(Xt),ze.popToast(Bt=>(0,e.h)(u.FN,nM(rM({},Bt),{text:x("Link copied to clipboard")}))),!1))}),It=()=>as(void 0,null,function*(){wt("facebook",Xt=>(0,gt.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Xt}))}),At=()=>as(void 0,null,function*(){r&&wt("twitte}))}),xt=()=>as(void 0,null,function*(){wt("linkedt}))}),Dt=()=>{if(!Ye)return{aspectRatio:_e};switch(Ce){case"image":return{aspectRatio:_e,textColor:"#ffffff",bgImage:!0};case"accent":return{aspectRatio:_e,bgColor:Ye.background_pop,textColor:Ye.print_on_pop};case"primary":default:return{aspectRatio:_e,bgColor:Ye.web_bg_color||Ye.cover_bg_color,textColor:Ye.print_on_web_bg_color||Ye.cover_print_primary||"#1a1a1a"}}},jt=()=>as(void 0,null,function*(){const Xt=Dt(),Bt=`Share Selection - ${Xt.aspectRatio}`;(0,d.track)(d.EVENTS.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:r==null?void 0:r.id,selection_id:A,type:Bt,aspect_ratio:_e,interaction:"click"});const ur=document.createElement("a");ur.href=r&&A?(0,p.getPostSelectionMediaUrl)(n,r,A,Xt,Bt):"",ur.download=`Share Selection - ${_e}`,ur.target="_blank",ur.rel="noopener noreferrer",ur.style.display="none",document.body.appendChild(ur),ur.click(),document.body.removeChild(ur)}),Jt=()=>{Ne(!1)},lr=(0,e.h)(u.u_,{className:Ma.actionSheetMenu,overflow:"hidden",renderOverReactLaagPortal:!0,fullscreenMobile:!0,isOpen:Ae,position:"bottom",onClose:Jt},(0,e.h)(u.xB,{title:x("Edit image"),includeClose:!0,onClose:Jt}),(0,e.h)(u.fe,{className:Ma.actionSheetBody},(0,e.h)(b0,{assetStyle:Dt(),aspectRatio:_e,loadingSelection:J,post:r,pub:n,themeVariables:Ye,setAspectRatio:ye,assetTheme:Ce,setAssetTheme:Se,selectionId:A,setSelectionId:B}))),mr=(0,e.h)(u.zx,{rounded:!0,priority:"secondary",className:Ma.edit,onClick:Xt=>{Xt.stopPropagation(),Ne(!0),(0,d.track)(d.EVENTS.SHARE_SELECTION_EDIT_MODAL_OPENED,{post_id:r==null?void 0:r.id})}},x("Edit"));return(0,e.h)(u.u_,{isOpen:ht,onClose:a,width:630,fullscreenMobile:!0,className:Ma.modalWithFooter},lr,(0,e.h)(u.xB,{title:x("Share quote"),includeClose:!0,onClose:a}),(0,e.h)(u.xu,null,(0,e.h)(u.iz,{paddingY:20})),(0,e.h)(b0,{assetStyle:Dt(),aspectRatio:_e,loadingSelection:J,post:r,pub:n,themeVariables:Ye,setAspectRatio:ye,assetTheme:Ce,setAssetTheme:Se,selectionId:A,setSelectionId:B,editActionSheet:mr}),(0,e.h)(u.xu,null,(0,e.h)(u.iz,null)),(0,e.h)(u.xu,{className:Ma.safeAreaInsetPaddingBottom},(0,e.h)(u.gq,{padding:16,gap:8,justifyContent:"center"},(0,e.h)(u.hU,{fill:"outline",rounded:!1,onClick:Ct,disabled:!A},(0,e.h)(Ji.Z,{height:20,width:20})),(0,e.h)(u.hU,{fill:"outline",rounded:!1,onClick:At,disabled:!A},(0,e.h)(Hf.Z,{height:20,width:20})),(0,e.h)(u.hU,{fill:"outline",rounded:!1,onClick:It,disabled:!A},(0,e.h)(Y5.Z,{height:20,width:20})),(0,e.h)(u.hU,{fill:"outline",rounded:!1,onClick:xt,disabled:!A},(0,e.h)(J5.Z,{height:20,width:20})),!Je&&(0,e.h)(u.zx,{grow:!0,disabled:!A,onClick:jt,leftIcon:(0,e.h)(gd.Z,{stroke:"#404040",size:20})},x("Download")))))},b0=({assetStyle:n,aspectRatio:r,loadingSelection:o,post:a,pub:_,themeVariables:A,setAspectRatio:B,assetTheme:k,setAssetTheme:x,selectionId:J,editActionSheet:pe})=>{const{iString:_e}=(0,l.M1)(),ye=[],Pe=(a==null?void 0:a.cover_image)||(_==null?void 0:_.cover_photo_url);Pe&&ye.push("image"),A.background_pop&&ye.push("accent"),ye.push("primary");const Ce=(0,v.isMobile)({checkFirst4:!0});return(0,e.h)(e.Fragment,null,Ce&&(0,e.h)(u.gq,{justifyContent:"center",alignItems:"center",paddingTop:pe?8:0,paddingBottom:8},(0,e.h)(u.xv.B4,{color:"secondary"},_e("Long press to download image"))),(0,e.h)(u.tu,{justifyContent:"center",flex:"grow",className:Ma.mediaAssetContainer,paddingBottom:16},a&&J&&!o&&(0,e.h)(oM,{pub:_,post:a,selectionId:J,style:n,size:"large",editButton:pe})),(!Ce||!pe)&&(0,e.h)(u.gq,{gap:24,paddingX:{desktop:24,mobile:0},paddingBottom:{desktop:24,mobile:0}},(0,e.h)(u.tu,null,(0,e.h)(u.xv.Detail,{weight:"bold",color:"primary"},_e("Background")),(0,e.h)(u.gq,{paddingY:8},(0,e.h)(u.gq,{gap:8},ye.map(Se=>(0,e.h)(ou.rn,{value:Se,isSelected:Se===k,onClick:()=>x(Se),coverImageUrl:Pe,themeVariables:A}))))),(0,e.h)(u.tu,null,(0,e.h)(u.xv.Detail,{weight:"bold",color:"primary"},_e("Aspect ratio")),(0,e.h)(u.gq,{paddingY:8},(0,e.h)(u.gq,{gap:8},ou.sl.map(Se=>(0,e.h)(ou.ar,{value:Se,isSelected:Se===r,onClSe)})))))))},iM=aM;var sM=Object.defineProperty,lM=Object.defineProperties,uM=Object.getOwnPropertyDescriptors,P0=Object.getOwnPropertySymbols,cM=Object.prototype.hasOwnProperty,dM=Object.prototype.propertyIsEnumerable,O0=(n,r,o)=>r in n?sM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,C0=(n,r)=>{for(var o in r||(r={}))cM.call(r,o)&&O0(n,o,r[o]);if(P0)for(var o of P0(r))dM.call(r,o)&&O0(n,o,r[o]);return n},w0=(n,r)=>lM(n,uM(r)),S0=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});function fM({post:n,pub:r,selection:o,onClose:a,themeVariables:_,userInteractionDisabled:A}){var B,k,x;const[J,pe]=(0,t.eJ)(!1),[_e,ye]=(0,t.eJ)(),Pe=((x=(k=(B=o==null?void 0:o.text)==null?void 0:B.split)==null?void 0:k.call(B," "))==null?void 0:x.length)||0,Se=o&&Pe>=3&&!n.is_draft&&!(r!=null&&r.invite_only)?(0,e.h)(pM,{selection:o,onClose:a,userInteractionDisabled:A,onShowSelectionModal:pe,post:n,pub:r}):null;return(0,e.h)(e.Fragment,null,Se,(0,e.h)(iM,{selection:o,pub:r,post:n,isOpen:J,onClose:()=>pe(!1),selectionId:_e,setSelectionId:ye,themeVariables:_}))}function pM({selection:n,onClose:r,userInteractionDisabled:o,onShowSelectionModal:a,post:_,pub:A}){const{iString:B}=(0,l.M1)(),k=(0,Zr.XA)(),x=(0,so.aF)(),J=(0,Ls.i3)(),pe=(0,u.pm)(),_e=!_.is_draft&&!!x,[ye,Pe]=(0,t.eJ)(!1),[Ce,Se]=(0,t.eJ)(-1);(0,t.d4)(()=>(window.addEventListener("scroll",r,{passive:!0,capture:!0,once:!})}),[r,a]),(0,t.d4)(()=>{const Je=()=>{const ht=window.innerHeight-(n.y+n.height)-(k?57:0),wt=96,Ct=ht<wt;Se(Ct?n.y-wt-12:n.y+n.height+12)};return window.addEventListener("resize",Je),Je)}},[n,k]);const Ae=()=>{a(!0)},Ne=()=>S0(this,null,function*(){Pe(!0);try{const Je=yield(0,Pn.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:_.id,publication_id:A.id,startParagraph:n.startParagraph,endParagraph:n.endParagraph,startOffset:n.startOffset,endOffset:n.endOffset}});if(Pe(!1),Je instanceof Error)throw Je;return Je.selection.id}catch(Je){alert((0,Pn.i)(Je)),Pe(!1)}}),Ve=()=>S0(this,null,function*(){const Je=yield Ne();if((0,d.track)(d.EVENTS.RESTACK_SELECTION_CLICKED,{post_id:_.id}),!x){const wt=(0,p.updateQuery)(document.location.href,{action:"restack-comment",selection:Je}),Ct=(0,p.getSigninUrl)({redirect:wt});(0,F.redirect)(Ct,{local_navigation:!1,event});return}const Ye=(0,p.getPostUrl)(A,_,{urlParams:{r:x?x.id.toString(36):null,selection:Je,utm_campaign:j.UTM_CAMPAIGN.postShareSelection,utm_medium:j.UTM_MEDIUM.web}});(yield J.open({restackUrl:Ye}))instanceof Error?pe.popToast(wt=>(0,e.h)(u.FN,w0(C0({},wt),{text:"Failed to post"}))):pe.popToast(wt=>(0,e.h)(u.FN,w0(C0({},wt),{text:"Note sent",cta:"View",href:(0,gt.getFeedUrl)()})))}),ze=!_e&&!ye&&!!x;return Ce<0?null:(0,e.h)(u.tu,{style:{top:Ce,left:n.rect.x+n.rect.width/2,transform:"translateX(-50%)",pointerEvents:o?"none":"auto",maxWidth:240},justifyContent:"center",className:vo.popover,shadow:"md",radius:12},(0,e.h)(u.tu,{className:s()(vo.popoverButtons,k&&vo.isMobile),radius:12,padding:4,gap:8},(0,e.h)(nu,{onClick:Ae,isExplainer:!1},(0,e.h)(Nl.Z,{className:vo.icon}),(0,e.h)(u.xv.B4,{color:"bg-light",weight:"medium"},B("Share quote"))),(0,e.h)(nu,{onClick:Ve,isExplainer:!1,disabled:ze},(0,e.h)(es.Z,{className:s()(vo.icon,!_e&&vo.disabled)}),(0,e.h)(u.xv.B4,{color:_e?"bg-light":"secondary",weight:"medium"},_e?B("Restack quote"):x?_.is_draft?B("Cannot quote a draft"):A!=null&&A.invite_only?B("Cannot quote on invite-only publication"):["only_paid","founding"].includes(_==null?void 0:_.audience)?B("Cannot quote paid post"):B("Cannot quote this post"):B("Sign in to restack quote")))))}var hM=Object.defineProperty,mM=Object.defineProperties,_M=Object.getOwnPropertyDescriptors,au=Object.getOwnPropertySymbols,T0=Object.prototype.hasOwnProperty,I0=Object.prototype.propertyIsEnumerable,M0=(n,r,o)=>r in n?hM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,gM=(n,r)=>{for(var o in r||(r={}))T0.call(r,o)&&M0(n,o,r[o]);if(au)for(var o of au(r))I0.call(r,o)&&M0(n,o,r[o]);return n},vM=(n,r)=>mM(n,_M(r)),yM=(n,r)=>{var o={};for(var a in n)T0.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&au)for(var a of au(n))r.indexOf(a)<0&&I0.call(n,a)&&(o[a]=n[a]);return o},EM=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const D0=`
:is(
  div.body.markup, .pullquote, blockquote, li, caption, .footnote-content
) > :is(
  h1, h2, h3, h4, h5, h6, p:not(.button-wrapper)
)
`,bM=".image-link.image2";class $s extends e.Component{constructor(r,o){super(r,o),this.state={selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1,shouldUseSelectionV2Popover:!1},this.onBodyMouseD})},this.onMouseUp=()=>{this.setState((a,_)=>a.selectionUserInteractionDisabled?(a.selection&&_.trackSelection&&(0,d.track)(d.EVENTS.POST_TEXT_SELECTED,{post_id:_.post.id,post_audience:_.post.audience,post_type:_.post.type}),{selectionUserInteractionDisabled:!1}):null)},this.onSelectionChange=Rc()(()=>{const a=this.getSelectionState();if(a){const _=this.shouldShowShareSelectionPopover();this.setState({selection:a,shouldUseSelectionV2Popover:_})}else this.state.selection&&this.setState({selection:null})},100),this.onDocumentClick=a=>{const _=a.target.closest(".image-link.image2");if(_&&this.originalImageState){const A=_.querySelector("img"),B=this.originalImageState.findIndex(k=>k.src===A.src);if(B>=0){a.preventDefault(),this.setState({selectedImgIndex:B});return}}if(!this.props.skipTrackClick)this.onLinkClick(a);else return null},this.clearActiveSelection=()=>{this.setState({selection:null})},this.closeImageViewerMo})},this.shouldShowShareSelectionPopover=()=>{let a;return typeof window!="undefined"&&(a=new URLSearchParams(window.location.search).get("selectQuote")==="true"),!a},this.body=(0,e.createRef)()}componentDidMount(){return EM(this,null,function*(){const r=Array.from(this.body.current.querySelectorAll(D0));this.originalParagraphState=r.t}));const o=new URL(window.location).searchParams.get("img");let a=Array.from(this.body.current.querySelectorAll(bM));a=a.map(k=>{const x=k.querySelector("img"),J=JSON.parse(x.getAttribute("data-attrs")),pe=J.width/J.height,_e=J.resizeWidth?J.resizeWidth/pe:J.height,ye=J.resizeWidth?J.resizeWidth/_e:pe;return{element:k,image:x,attrs:J,extraAttrs:{imageRatio:pe,resizeHeight:_e,resizeRatio:ye}}});let _=0;if(o){const k=a.find(x=>x.attrs.src===o);k&&(_=k.image.getBoundingClientRect().top-65)}const A=240,B=4;if(a=a.filter(k=>(0,p.unimginary)(k.image.src)===(0,p.unimginary)(k.element.href)),a=a.filter(k=>k.attrs.height>A&&k.extraAttrs.resizeHeight>A),a=a.filter(k=>k.extraAttrs.imageRatio<B&&k.extraAttrs.resizeRatio<B),this.originalImageState=a.map(k=>{var x;const J=k.image.src;let pe=null;const _e=k.element.parentElement;return _e.tagName==="FIGURE"&&(pe=(x=_e.querySelector(":scope > figcaption"))==null?void 0:x.textContent),{src:J,attrs:k.attrs,caption:pe}}),o){window.scrollTo({top:_});const k=this.originalImageState.findIn==o);k>=0&&this.setState({selectedImgIndex:k})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(r,o){return this.props.html!==r.html||this.state.selectedImgIndex!==o.selectedImgIndex||this.state.selection!==o.selection||this.state.selectionUserInteractionDisabled!==o.selectionUserInteractionDisabled||this.state.selectingTextForQuote!==o.selectingTextForQuote}onLinkClick(r){if(!r.target.nodeName||r.target.nodeName!=="A"&&r.target.parentNode.nodeName!=="A")return;const o=r.target.nodeName==="A"?r.target:r.target.parentNode;if((0,d.track)(d.EVENTS.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:o.href}),window.location.host===o.host){const a=(0,Tt.transformDocumentLink)(o.href);a!==o.href&&(0,F.redirect)(a,{local_navigation:!1,event:r});return}r.preventDefault(),(0,Tt.handleDocumentLinkClick)(o.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const r=window.getSelection();if(!r||r.isCollapsed||r.anchorNode===r.focusNode&&r.anchorOffset===r.focusOffset)return;const o=this.findParentParagraph(r.anchorNode);if(!o)return;const a=this.findParentParagraph(r.focusNode);if(!a)return;const _=Array.from(this.body.current.querySelectorAll(D0)),A=_.findIndex(_e=>_e.isSameNode(o));if(A===-1)return;const B=_.findIn(a));if(B===-1)return;const k=this.getCharacterOffsetParagraph(o,r.anchorNode,r.anchorOffset);if(k===null)return;const x=this.getCharacterOffsetParagraph(a,r.focusNode,r.focusOffset);if(x===null)return;const J=A>B||A===B&&k>x,pe=r.getRangeAt(0).getBoundingClientRect();return{startParagraph:J?B:A,endParagraph:J?A:B,startOffset:J?x:k,endOffset:J?k:x,y:pe.y,height:pe.height,rect:pe,text:r.toString()}}catch(r){console.error("Failed to parse selection:",r)}}findParentParagraph(r){return r?["P","H1","H2","H3","H4","H5","H6"].includes(r.nodeName)?r:this.findParentParagraph(r.parentNode):null}isAncestorOf(r,o){return r===null?!1:r.isSameNode(o)?!0:this.isAncestorOf(r.parentNode,o)}getCharacterOffsetParagraph(r,o,a){var _;let A=a;for(let B=0;B<r.childNodes.length;B++){const k=r.childNodes[B];if(this.isAncestorOf(o,k))return A;k.className!=="footnote-anchor"&&(A+=((_=k.textContent)==null?void 0:_.length)||0)}return A}shouldShowImageViewerModal(){const{selectedImgIndex:r}=this.state;return r!=null}render(r){var o=r,{children:a,html:_,pub:A,skipTrackClick:B,trackSelection:k,paywall:x,isAboutPage:J}=o,pe=yM(o,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:_e,selectedImgIndex:ye,shouldUseSelectionV2Popover:Pe,selectingTextForQuote:Ce}=this.state;typeof window!="undefined"&&!Ce&&new URLSearchParams(window.location.search).get("selectQuote")==="true"&&this.setState({selectingTextForQuote:!0}),_&&(a=N5(_,A,vM(gM({},pe),{isAboutPage:J})),a&&(_=null));const Se=a?Array.from(a).some(Ne=>{var Ve,ze,Je,Ye;return((Ve=Ne.props)==null?void 0:Ve.className)==="latex-rendered"||((Ye=(Je=(ze=Ne.props)==null?void 0:ze.children)==null?void 0:Je.props)==null?void 0:Ye.className)==="latex-rendered"}):!1,Ae=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:_?{__html:_}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},a),Pe&&!Ce?(0,e.h)(fM,{pub:A,post:this.props.post,selection:_e,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,themeVariables:this.props.themeVariables}):(0,e.h)(B5,{pub:A,post:this.props.post,selection:_e,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,selectingTextForQuote:Ce}),(0,e.h)(Vc.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:ye}));return Se&&!pe.isStatic?(0,e.h)(z2,null,Ae):Ae}}$s.contextType=wr.kx;const PM=({tabs:n,tab:r,onTabClick:o})=>(0,e.h)("div",{className:"ui-tabs"},n.map(({id:a,title:_})=>(0,e.h)("a",{className:`ui-tab ${a}-tab ${r===a?"active":""}`,onCl(a)},_)));var vd=je(36868);const di={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},OM=(n,r)=>({logoUrl:n.podcast_art_url||n.logo_url||(0,p.getDefaultPodcastArtUrl)(),mainClickUrl:(0,p.getPodcastLandingUrl)({pub:n,section:null,addBase:!0}),buttonClickUrl:r,name:n.podcast_title||n.name,description:n.podcast_description||n.hero_text}),CM=({logoUrl:n,mainClickUrl:r,buttonClickUrl:o,name:a,description:_,showButton:A,buttonText:B,openInNewTab:k=!1})=>(0,e.h)("div",{className:di.childPublication},n&&(0,e.h)("img",{className:di.logo,src:(0,p.imginary)(n,144),alt:`${a} logo`}),(0,e.h)("div",{className:di.details},(0,e.h)("div",{className:di.info},(0,e.h)("div",{className:di.title},(0,e.h)("a",{className:di.link,href:r},a)),(0,e.h)("div",{className:di.description},_)),A&&(0,e.h)(be.zx,{priority:"primary",className:di.subscribe,href:o,newTab:k},B))),iu=({showButton:n,items:r,openInNewTab:o=!1,buttonText:a})=>(0,e.h)("div",{"data-testid":"child-pub-container"},r.map(_=>(0,e.h)(CM,{logoUrl:_.logoUrl,mainClickUrl:_.mainClickUrl,buttonClickUrl:_.buttonClickUrl,name:_.name,description:_.description,buttonText:a,openInNewTab:o,showButton:n}))),yd={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var su=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});function wM(n){if(typeof window=="undefined")return!0;const r=document.createElement("div");r.innerHTML=n;for(let o=r.childNodes.length-1;o>=0;o--){const a=r.childNodes[o];if((0,F.hasClass)(a,"button-wrapper")||(0,F.hasClass)(a,"subscription-widget-wrap"))return!1}return!0}const SM=({pub:n,user:r,freeSignup:o,freeSignupEmail:a})=>{const _=n.payments_state==="enabled"&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_subscribed)?"paid_upsell":"free_upsell";return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:n.id,type:_})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(q,{onVisible:()=>{(0,d.track)(d.EVENTS.ABOUT_PAGE_END_CTA_SEEN,{pub_id:n.id,type:_})}}),(0,e.h)(ne.tu,{alignItems:"center",gap:16,padding:24,className:s()(yd.container,"end-cta-container")},(0,e.h)("img",{src:(0,p.imginary)(n.author_photo_url||n.logo_url,64),className:yd.authorPic}),(0,e.h)(ne.tu,{alignItems:"center"},(0,e.h)(i.xv.H2,{lineHeight:30,align:"center",color:"pub-primary-text"},"Subscribe to ",n.name),n.hero_text&&(0,e.h)(i.xv.Meta,{size:12,className:yd.heroText,align:"center",color:"pub-secondary-text"},n.hero_text)),(0,e.h)(Ha,{pub:n,user:r,freeSignup:o,freeSignupEmail:a,isStatic:!1,source:"about-page-end-cta"})))};function TM({pub:n,user:r,freeSignup:o,freeSignupEmail:a,subscribeContent:_}){return typeof _!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)($s,{html:_,pub:n,user:r,freeSignup:o,freeSignupEmail:a,isAboutPage:!0}))}function IM({pub:n,people:r}){const o=(0,Ac.useMediaQuery)({maxWidth:540}),a=o?[[]]:[[],[]];for(let _=0;_<r.length;++_)a[o?0:_%2].push(r[_]);return(0,e.h)("div",{className:"content-people"},a.map(_=>(0,e.h)("div",{className:"people-column"},_.map(A=>(0,e.h)("div",{className:"content-person",onclick:B=>(0,_p.Q)(B,(0,p.getProfileUrl)(A,n,{utm_source:j.UTM_SOURCE.aboutPage}),{native:!0})},(0,e.h)(wa.ProfileCard,{subject:A,profile:A,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class MM extends e.Component{constructor(r,o){super(r,o),this.onTabClick=a=>{this.loadTab({tabId:a})},this.state={subscribeContent:r.subscribeContent,people:r.people,tabs:[]}}componentDidMount(){return su(this,n()})}loadAbout(){return su(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:r}=yield Ze().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:r})}catch(r){console.error("Failed to load about content:",r)}})}loadPeople(){return su(this,null,function*(){if(!this.state.people)try{const{body:r}=yield Ze().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:r})}catch(r){console.error("Failed to load people:",r)}})}loadTab(){return su(this,arguments,function*({tabId:r}={}){const o=r?this.state.tabs.find(a=>a.id===r):this.state.tab;this.state.tab.id!==o.id&&(this.setState({tab:o}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({sort:o.id})))})}renderChildPublications({pub:r,user:o,freeSignup:a},{tab:_}){let A,B;if(r.plans?(B=o&&o.is_subscribed,A=B):(A=a||o&&o.is_free_subscribed,B=o&&o.is_free_subscribed),_.id==="podcast")if(B){const x=[];return(0,e.h)(iu,{pub:r,showButton:!0,buttonText:"Set up podcast",items:x})}else{const x=[];return(0,e.h)(iu,{pub:r,showButton:!A,buttonText:"Subscribe",items:x})}const k=[];return(0,e.h)(iu,{pub:r,showButton:!A,buttonText:"Subscribe",items:k})}render({pub:r,user:o,freeSignup:a,freeSignupEmail:_,metadata:A},{subscribeContent:B,people:k,tabs:x,tab:J}){const pe=x.length>0&&(J==null?void 0:J.id),_e=!pe||(J==null?void 0:J.id)==="about",ye=(!o||!(0,vd.P)(o,r))&&wM(B);return(0,e.h)("div",{className:"page typography about-page typography"},A&&(0,F.setMetaData)(A),(0,e.h)("div",{className:"container"},(o==null?void 0:o.is_contributor)&&_e&&(0,e.h)(la.z,{variant:"themed-secondary",href:(0,p.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Qi.Z,{size:20})},(0,e.h)(i.xv,null,"Edit")),pe&&(0,e.h)(PM,{tabs:x,tab:J.id,onTabClick:this.onTabClick}),_e&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(TM,{pub:r,user:o,freeSignup:a,freeSignupEmail:_,subscribeContent:B})),ye?(0,e.h)(SM,{pub:r,user:o,freeSignup:a,freeSignupEmail:_}):null,(k!=null?k:[]).length>0&&(0,e.h)(ne.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(IM,{pub:r,people:k}))),pe&&["podcast","newsletter"].includes(J.id)&&this.renderChildPublications({pub:r,user:o,freeSignup:a},{tab:J})))}}var DM=Object.defineProperty,A0=Object.getOwnPropertySymbols,AM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,N0=(n,r,o)=>r in n?DM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ed=(n,r)=>{for(var o in r||(r={}))AM.call(r,o)&&N0(n,o,r[o]);if(A0)for(var o of A0(r))NM.call(r,o)&&N0(n,o,r[o]);return n},LM=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});class RM extends e.Component{constructor(r,o){if(super(r,o),this.onTabClicka)},this.onSearchInput=a=>{this.state.tab.id==="search"&&this.loadTab("search",a.target.value||"")},this.onSearchKeyDown=a=>{this.state.tab.id==="search"&&a.key==="Escape"&&(a.target.blur(),this.loadTab(this.state.tabs[0].id))},this.onPostClicked=(a,_,A,B)=>{(0,d.track)(d.EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:_,tab:this.state.tab.id,rank_in_feed:A,source:B!=null?B:this.props.source})},this.onSearchBlur=a=>{this.state.tab.id==="search"&&!a.target.value&&this.loadTab(this.state.tabs[0].id,"")},this.loadTab=(a,_)=>LM(this,null,function*(){const A=this.state.tabs.find(pe=>pe.id===a);let B=!1;if(A.id==="search"&&typeof _=="string"&&A.query!==_&&(B=!0,A.query=_,A.posts=null,A.fullyLoaded=!1,A.loading=!1,A.loadingError=null),A.id!==this.state.tab.id?(this.setState({tab:A},()=>{A.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({sort:A.id,search:A.query||null}))):B&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,p.updateQuery)({search:A.query||null})),A.loading||A.fullyLoaded)return;if(A.id==="search"&&!A.query){A.posts=[],A.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const k=(0,Tt.randomString)();if(A.loading=k,A.loadingError=null,this.setState({tabs:this.state.tabs}),A.id==="search"&&A.query&&(yield new Promise(pe=>setTimeout(pe,300)),A.loading!==k))return;!this.state.tabs.fror)&&this.props.delayFirstLoad&&(yield new Promad)));const J=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const pe=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),_e=(yield Ze().get(J).query(Ed(Ed(Ed({sort:A.id==="search"?"new":A.id,search:A.id==="search"?A.query:"",offset:(A.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(A.loading!==k)return;A.posts=A.posts?A.posts.concat(_e):_e,A.fullyLoaded=_e.length<pe||this.props.maxPosts&&A.posts.length>=this.props.maxPosts}catch(pe){console.error("Failed to load tab:",pe),A.loadingError=pe}A.loading=!1,this.setState({tabs:this.state.tabs.:pe),tab:A})}),this.onChange=({post:a})=>{a&&((0,F.stateTransaction)(this,_=>{let A=!1;const B=_.tabs.map(k=>k.posts).filter(k=>Array.isArray(k));for(const k of B){const x=k.findIndex(J=>J.id===a.id);x!==-1&&(k[x]=a,A=!0)}A&&this.setState({tabs:_.tabs})}),this.props.onChange&&this.props.onChange(a))},!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabd)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(r){(r.hideTop!==this.props.hideTop||r.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var r,o;let a=[];const{iString:_}=this.props;a.push({id:"new",title:this.props.newTitle||_("New"),posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||a.push({id:"top",title:this.props.topTitle||_("Top"),posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(r=this.props.pub)!=null&&r.community_enabled&&((o=this.props.pub)!=null&&o.has_community_content)&&a.push({id:"community",title:this.props.communityTitle||_("Community"),posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),a=this.props.sortTabs&&this.props.sortTabs(a)||a,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&a.push({id:"search",title:_("Search"),posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const A=a.fort)||this.props.search&&a.find(B=>B.id==="search")||a[0];return{tabs:a,tab12}render({authorInMeta:r,className:o,disableInteractive:a,emptyMessage:_,filterPostsPredicate:A,hideAuthor:B,hideSearchTab:k,hideShare:x,isBelowTheFold:J,isPodcast:pe,maxPosts:_e,maxTitleLength:ye,pinnedPosts:Pe,profile:Ce,pub:Se,renderLoading:Ae,renderPosts:Ne,renderTabs:Ve,renderSeeAll:ze,showMonthDividers:Je,showPins:Ye,showPublicationName:ht,source:wt,user:Ct,iString:It,iTemplate:At},{tabs:xt,tab:Dt}){_=_||It("No posts");const jt=Je&&Dt.id==="new",Jt=xt.find(vt=>vt.id==="search"),lr=xt.find(vt=>vt.id==="community");let mr=Array.isArray(Dt.posts)?Dt.posts.filter(vt=>!(Se&&Dt.id==="top"&&vt.top_exclusions.includes(Se.id))).filter(vt=>Se!=null&&Se.section&&(Pe!=null&&Pe.length)?!Pe.find(Cr=>Cr.id===vt.id):!0).filter(vt=>!Tt.hidePaidPostsFor.includes(Se==null?void 0:Se.subdomain)||vt.audience==="everyone"||(Ct==null?void 0:Ct.is_subscribed)).filter(A||(()=>!0)):[];Se!=null&&Se.section&&(Pe!=null&&Pe.length)&&["new","top"].includes(Dt.id)&&(mr=[...Pe,...mr]);const Xt=mr.length===0,Bt=!mr&&!Dt.loadingError,ur=mr.some&&mr.some(vt=>vt.cover_image);let tr;Ce&&(tr=new Map(Ce.publicationUsers.map(vt=>[vt.publication.id,vt.publication])));const qt=_e?mr.slice(0,_e):mr,Rt=Ne?Ne({posts:qt,linkToComments:Dt===lr,onClickPost:({event:vt,post:Cr,index:sr,source:jr})=>this.onPostClicked(vt,Cr.id,sr,jr),postGroups:jt?UM(qt,Se.language):null}):[],Ut=pe?(0,gt.getPodcastArchiveUrl)({pub:Se,section:Se.section,params:{sort:Dt.id,search:Dt.query}}):(0,p.getArchiveUrl)(Se,{params:{sort:Dt.id,search:Dt.query}}),Ft=ze?ze({url:Ut}):(0,e.h)("a",{className:"portable-archive-all",href:Ut,native:!0},It("See all")," ",(0,e.h)(Ie,{height:12,width:12})),kt=Ae?Ae():null;return(0,e.h)("div",{className:s()("portable-archive",o,{"empty-list":Xt})},Ve&&Ve({activeTabId:Dt.id,isSearching:Dt===Jt,showSearch:!!(Jt&&!k),searchInputProps:{value:Jt==null?void 0:Jt.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:vt=>{this.searchInput=vt},tabs:xt.filter(vt=>!vt.hidden),onClick:vt=>{this.loadTab(vt)},onClickSea")},onClickSearchClose:()=>{this.loadTab(xt[0].id)}}),(0,e.h)("div",{className:"portable-archive-list"},Dt.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},It("Failed to load posts")):mr.length===0&&!Dt.loading?(0,e.h)("p",{className:"portable-archive-empty"},Dt.id!=="search"?_:Dt.query?It("No results"):At`Search ${Se?Se.name:""}`):(0,e.h)(e.Fragment,null,Rt,!_e&&!Bt&&!Dt.loading&&!Dt.fullyLoaded&&(0,e.h)(q,{threshold:640,onVisiry)})),Dt.loading||Bt?kt:_e&&mr.length>=_e&&Ft))}}const xM=(0,l.fz)(RM),UM=(n,r="en")=>{let o;const a=[];return n.forEach((_,A)=>{const B=rt()(_.post_date).locale(r).format("MMMM YYYY");B!==o?(A===0?a.push({label:"",posts:[_]}):a.push({label:B,posts:[_]}),o=B):a[a.length-1].posts.push(_)}),a};var BM=Object.defineProperty,kM=Object.defineProperties,FM=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertySymbols,L0=Object.prototype.hasOwnProperty,R0=Object.prototype.propertyIsEnumerable,x0=(n,r,o)=>r in n?BM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,WM=(n,r)=>{for(var o in r||(r={}))L0.call(r,o)&&x0(n,o,r[o]);if(lu)for(var o of lu(r))R0.call(r,o)&&x0(n,o,r[o]);return n},jM=(n,r)=>kM(n,FM(r)),VM=(n,r)=>{var o={};for(var a in n)L0.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&lu)for(var a of lu(n))r.indexOf(a)<0&&R0.call(n,a)&&(o[a]=n[a]);return o};const U0=n=>{var r=n,{stroke:o}=r,a=VM(r,["stroke"]);return(0,e.h)(Te.l,jM(WM({},a),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:o||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:o||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},bd={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"},fi=({children:n,showContentBelowOnMobile:r,stretchVertically:o,variant:a})=>(0,e.h)("div",{style:o?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:s()(bd.container,bd[a],{[bd["show-below"]]:r})},n)),is=({numColumns:n,paddingBottom:r,paddingTop:o})=>(0,e.h)(fi,{variant:n===3?"three-column-width":"full-width"},(0,e.h)(u.tu,{paddingBottom:typeof r=="number"?r:24,paddingTop:typeof o=="number"?o:24,paddingX:8},(0,e.h)(u.hs,{borderBottom:"detail-themed"}))),uu=(0,e.createContext)({alwaysShowActions:!1,cropGravity:"center"}),Pd=(0,e.createContext)({url:"",linkToComments:!1}),Gs=3/2,zs=16/9,cu={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA",containerAnimated:"frontend-pencraft-unstable-Silhouette-module__containerAnimated--bFndg","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},ua=({animated:n=!0,width:r,height:o,aspectRatio:a,className:_})=>a?(0,e.h)("div",{style:`aspect-ratio:${a}`},(0,e.h)("div",{className:s()(cu.container,_,{[cu.containerAnimated]:n}),style:{width:r,height:o!=null?o:"100%"}})):(0,e.h)("div",{className:s()(cu.container,_,{[cu.containerAnimated]:n}),style:{width:r,height:o}}),HM=(0,ct.forwardRef)(({animated:n=!0,variant:r},o)=>["grid","grid-groups"].includes(r)?(0,e.h)(u.tu,{gap:12,ref:o},(0,e.h)(ua,{animated:n,aspectRatio:Gs}),(0,e.h)(u.tu,{gap:8},(0,e.h)(ua,{animated:n,height:24,width:"70%"}),(0,e.h)(ua,{animated:n,height:20,width:"90%"}),(0,e.h)(ua,{animated:n,height:20,width:"50%"}))):r==="list"?(0,e.h)(u.tu,{gap:8,ref:o},(0,e.h)(ua,{animated:n,height:28,width:"60%"}),(0,e.h)(ua,{animated:n,height:24,width:"80%"}),(0,e.h)(ua,{animated:n,height:20,width:"20%"})):null),B0={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},Od=(0,ct.forwardRef)(({animated:n=!0,postCount:r,variant:o},a)=>(0,e.h)("div",{className:s()({[B0.loadingContainerGrid]:["grid","grid-groups"].includes(o),[B0.loadingContainerList]:o==="list"}),ref:a},Array.from(new Array(r)).n})))),k0={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},KM=({tabs:n,activeTabId:r,onClick:o})=>(0,e.h)(ne.gq,{gap:8},n.map(a=>(0,e.h)($M,{onClick:()=>{o(a.id)},active:a.id===r},a.title))),$M=({active:n,onClick:r,children:o})=>(0,e.h)("div",{className:s()(k0.pillTab,{[k0.pillTabActive]:n}),role:"button",onClick:r},o),Zs={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var GM=Object.defineProperty,zM=Object.defineProperties,ZM=Object.getOwnPropertyDescriptors,F0=Object.getOwnPropertySymbols,YM=Object.prototype.hasOwnProperty,JM=Object.prototype.propertyIsEnumerable,W0=(n,r,o)=>r in n?GM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,XM=(n,r)=>{for(var o in r||(r={}))YM.call(r,o)&&W0(n,o,r[o]);if(F0)for(var o of F0(r))JM.call(r,o)&&W0(n,o,r[o]);return n},QM=(n,r)=>zM(n,ZM(r));const ss=({children:n,communityPosts:r,communityTitle:o,delayFirstLoad:a,filterPostsPredicate:_,isBelowTheFold:A,isPodcast:B,maxPosts:k,newPosts:x,pinnedPosts:J,postTagId:pe,pub:_e,search:ye,searchPosts:Pe,sectionId:Ce,showMonthDividers:Se,sort:Ae,sortTabs:Ne,source:Ve,user:ze,variant:Je="list"})=>{const{iString:Ye}=(0,l.M1)(),{isMobile:ht}=(0,Tn.v9)(),{getSettingFor:wt}=(0,L.So)(),Ct=(0,Tt.ensureInList)(wt("post_preview_crop_gravity"),["center","auto"]);return(0,e.h)(uu.Provider,{value:{alwaysShowActions:!1,cropGravity:Ct}},(0,e.h)(xM,{communityPosts:r,communityTitle:o,delayFirstLoad:a,filterPostsPredicate:_,isBelowTheFold:A,isPodcast:B,maxPosts:k,newPosts:x,pinnedPosts:J,postTagId:pe,pub:_e,renderPosts:({posts:It,linkToComments:At,onClickPost:xt,postGroups:Dt})=>Dt?Dt.map(({label:jt,posts:Jt})=>(0,e.h)(e.Fragment,null,jt&&(0,e.h)(e.Fragment,null,(0,e.h)(is,{paddingTop:8,paddingBottom:8}),(0,e.h)(u.xv.Meta,{as:"h3",className:Zs.monthHeader,color:"pub-accent",paddingBottom:24},jt)),n({posts:Jt,linkToComments:At,onClickPost:xt}))):n({posts:It,linkToComments:At,onClickPost:xt}),renderLoading:()=>(0,e.h)(Od,{variant:Je,postCount:k!=null?k:7}),renderSeeAll:({url:It})=>Je==="grid-groups"?null:(0,e.h)(u.gq,{paddingTop:16},(0,e.h)(u.zx,{href:It,rightIcon:(0,e.h)(Ms.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},Ye("See all"))),renderTabs:({activeTabId:It,isSearching:At,tabs:xt,searchInputProps:Dt,searchRef:jt,showSearch:Jt,onClick:lr,onClickSearch:mr,onClickSearchClose:Xt})=>Je==="grid-groups"?null:At?(0,e.h)(u.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16,paddingX:ht?0:8},(0,e.h)(u.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(U0,{height:16,className:Zs.searchIcon}),(0,e.h)("input",QM(XM({},Dt),{ref:jt,type:"text",placeholder:Ye("Search..."),className:Zs.searchInput}))),(0,e.h)("div",{role:"button",onClick:Xt,className:Zs.iconButton},(0,e.h)(Ee.Z,{height:20}))):(0,e.h)(u.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16,paddingX:ht?0:8},(0,e.h)(KM,{activeTabId:It,tabs:xt,onClick:lr}),Jt&&(0,e.h)("div",{role:"button",onClick:mr,className:Zs.iconButton},(0,e.h)(U0,{height:20}))),sectionId:Ce,search:ye,searchPosts:Pe,showMonthDividers:Se,sort:Ae,sortTabs:Ne,source:Ve,stateInUrl:!0,user:ze}))},qM=({justified:n,post:r,pub:o,user:a,onChange:_,onToggleMenu:A})=>{const B=r.type==="restack";return(0,e.h)(xn._2,{allowEdit:!B,editButtonIsLast:!0,hideComments:!(0,Tt.showCommentsOnPost)({publication:o,post:r})||B,hideReactions:!o.community_enabled||B,hideShare:B,isStatic:!1,justified:n,labelStyle:"counts-or-none",post:r,pub:o,hideFeedRestackButton:B,showRestackButton:!B,style:"compressed",user:a,position:"pub-preview",onChange:_,onToggleMenu:A})};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=(0,$r.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);var V0=je(25597);const pi={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},Ui=({clamp:n,post:r,pub:o,showPin:a})=>{const _=(0,Tt.getBylineUsers)(r),{iTemplate:A,language:B}=(0,l.M1)();return(0,e.h)(u.xv.Meta,{className:pi.textContainer,color:"pub-secondary-text",clamp:n},a&&(0,e.h)("div",{className:pi.icon},(0,e.h)(j0,{size:12})),(0,cr.isPaidAudience)(r.audience)&&!(0,fa.lp)({post:r})&&(0,e.h)("div",{className:s()(pi.icon,n&&pi.iconClamped)},(0,e.h)(V0.Z,{audience:r.audience,size:12})),r.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:pi.pub},A`Published on ${r.restacked_pub_name}`),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:pi.date,dateTime:Sr()(r.post_date).toISOString()},(0,xn.fh)({post:r,showDatetime:!1,language:B})),r.type!=="restack"&&_.length>0&&o.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,Tt.oxfordComma)(_.map(k=>n?(0,e.h)("a",{className:pi.link,href:(0,p.getProfileUrl)(k,o),onClick:x=>x.stopPropagation()},k.name):(0,e.h)(wa.ProfileHoverCard,{subject:k,utmSource:"byline"},(0,e.h)("a",{className:pi.link,href:(0,p.getProfileUrl)(k,o),onClick:x=>x.stopPropagation()},k.name))),{noBreakSpace:!0})))};var e4=Object.defineProperty,t4=Object.defineProperties,r4=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,n4=Object.prototype.hasOwnProperty,o4=Object.prototype.propertyIsEnumerable,K0=(n,r,o)=>r in n?e4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,a4=(n,r)=>{for(var o in r||(r={}))n4.call(r,o)&&K0(n,o,r[o]);if(H0)for(var o of H0(r))o4.call(r,o)&&K0(n,o,r[o]);return n},i4=(n,r)=>t4(n,r4(r)),$0=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const G0=({pub:n,magicToken:r,section:o,user:a})=>{const[_,A]=(0,t.eJ)((0,p.getPodcastRssUrl)({pub:i4(a4({},n),{section:o}),token:r})),[B,k]=(0,t.eJ)(!1);return(0,t.d4)(()=>{if(!a||!a.is_subscribed&&!a.is_free_subscribed)return;(()=>$0(void 0,null,function*(){var J;const pe=yield Ze().get("/api/v1/subscription/podcast_rss_url").query({token:r,section_id:(J=o==null?void 0:o.id)!=null?J:null});pe.body.podcast_rss_url&&(A(pe.body.podcast_rss_url),k(!0))}))()},[r,o,a,a==null?void 0:a.is_free_subscribed,a==null?void 0:a.is_subscribed]),{feedUrl:_,isPrivateFeed:B}},z0=n=>{const[r,o]=(0,t.eJ)(!1),a=()=>{o(!0)},_=()=>{o(!1)};return(0,t.d4)(()=>{const A=n.current;if(A)return A.addEventListener("mouseenter",a),A.addEventListener("mouseleave",_),()=>{A.removeEventListener("mouseenter",a),A.removeEventListener("mouseleave",_)}},[n]),[r]},Fj=(n,r)=>{const{sensitivity:o=5,inactiveDelay:a=5e3}=r,[_,A]=useState(!1),B=useRef(null),k=useRef(null),x=(ye,Pe)=>Math.sqrt(Math.pow(Pe.x-ye.x,2)+Math.pow(Pe.y-ye.y,2)),J=ye=>{const Pe={x:ye.clientX,y:ye.clientY};(!k.current||x(k.current,Pe)>o)&&(A(!0),n.current&&(n.current.style.cursor="auto"),B.current!==null&&clearTimeout(B.current),B.current=setTimeout(()=>{A(!1),n.current&&(n.current.style.cursor="none")},a)),k.current=Pe},pe=()=>{A(!0),n.current&&(n.current.style.cursor="auto")},_e=()=>{A(!1),n.current&&(n.current.style.cursor="auto")};return useEffect(()=>{const ye=n.current;return ye&&(ye.addEventListener("mousemove",J),ye.addEventListener("mouseenter",pe),ye.addEventListener("mouseleave",_))}},[n]),_},Bi=(n,r,o)=>{(0,t.d4)(()=>{if(!o)return;const a=n.toLocaleLowerCase(),_=A=>{A.preventDefault();const B=A.key.toLocaleLowerCase();if(B===a){r();return}if(A.ctrlKey&&`ctrl+shift+${B}`===a){r();return}if(A.ctrlKey&&`ctrl+${B}`===a){r();return}if(A.shiftKey&&`shift+${B}`===a){r();return}};return window.addEventListener("keydown",_),()=>{window.removeEventListener("keydown",_)}},[n,r,o])},s4=n=>{const[r,o]=(0,t.eJ)(null);return(0,t.d4)(()=>{const a=_=>$0(void 0,null,function*(){const{body:{src:A}}=yield Ze().get(`/api/v1/video/upload/${_}/storyboard`),B=yield Ze().get(A);o(B.body)});n!=null&&n.id&&a(n.id)},[n]),r},l4=n=>{const[r,o]=(0,t.eJ)(!1),a=A=>{o(A)},_=A=>{n.current&&n.current.contains(A.target)?a(!0):a(!1)};return(0,t.)}),[]),r},Ys={gifPreview:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__gifPreview--Q_gZG",visible:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__visible--CDDZi",image:"frontend-main-home-PostPreview-PostPreviewGifAnimation-module__image--qjVzM"},Z0=({post:n,containerRef:r,aspectRatio:o,size:a="small"})=>{var _;const[A]=z0(r),B=a==="small"?320:a==="medium"?480:640;return(_=n.videoUpload)!=null&&_.is_mux?(0,e.h)("div",{className:s()(Ys.gifPreview,{[Ys.visible]:A})},(0,e.h)("img",{className:Ys.image,style:`aspect-ratio: ${o}`,type:"image/gif",src:`/api/v1/video/upload/${n.videoUpload.id}/preview.gif?height=${B}`})):null};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=(0,$r.Z)("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=(0,$r.Z)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),u4=({pub:n,post:r,containerRef:o})=>{const[a]=z0(o),[_,A]=(0,t.eJ)(!0),B=(0,t.sO)(null);(0,t.d4)(()=>{var x,J,pe,_e,ye,Pe,Ce;a?((pe=(J=(x=B.current)==null?void 0:x.player)==null?void 0:J.play)==null||pe.call(J),setTimeout(()=>{var Se;(Se=B.current)!=null&&Se.player&&(B.current.player.volume=_?0:1)},500)):((Pe=(ye=(_e=B.current)==null?void 0:_e.player)==null?void 0:ye.pause)==null||Pe.call(ye),(Ce=B.current)!=null&&Ce.player&&(B.current.player.volume=0))},[a]);const k=x=>{var J;x.stopPropagation(),A(!_),(J=B.current)!=null&&J.player&&(B.current.player.volume=_?1:0)};return n&&r.videoUpload?(0,e.h)("div",{className:s()(Ys.gifPreview,{[Ys.visible]:a})},(0,e.h)(u.gq,{justifyContent:"center",alignItems:"center",position:"relative",style:{width:"100%",height:"100%"}},(0,e.h)(si.Z,{ref:B,pub:n,mediaUpload:r.videoUpload,noControls:!0,noPreview:!0}),(0,e.h)(u.gq,{position:"absolute",padding:12,style:{top:0,right:0}},(0,e.h)(u.hU,{priority:"media",onClick:x=>k(x)},_?(0,e.h)(Y0,null):(0,e.h)(J0,null))))):null},ha={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7",bottomLabels:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__bottomLabels--ZYHRu"},Ka=({className:n,hidePlaceholder:r,imageAspectRatio:o,imageWidth:a,isBelowTheFold:_,post:A,pub:B,squareImageSize:k})=>{var x,J,pe,_e,ye,Pe,Ce,Se;const{cropGravity:Ae}=(0,t.qp)(uu),{getConfigFor:Ne}=(0,st.xR)(),{isMobile:Ve}=(0,Tn.v9)(),ze=Ne("show_entire_square_image");let Je=(0,cr.getCoverImageUrl)(A);Je||((x=A.videoUpload)!=null&&x.thumbnail_id?Je=(0,p.getMediaUploadThumbnailUrlForPlayer)(A.videoUpload):(J=A.podcastUpload)!=null&&J.thumbnail_id&&(Je=(0,p.getMediaUploadThumbnailUrlForPlayer)(A.podcastUpload,{post:A})));const Ye=a<=640,ht=a>640,wt=(0,t.sO)(null);if(!Je&&r)return null;const Ct=!a&&!o?1.32:o,It=a||336,At=!!Je&&A.cover_image_is_square&&ze,xt=At&&!!k&&!Ve,Dt=_?"lazy":void 0,jt=(Se=(Pe=(pe=A.videoUpload)==null?void 0:pe.duration)!=null?Pe:(ye=(_e=A.podcastUpload)==null?void 0:_e.full_podcast_info)==null?void 0:ye.duration)!=null?Se:(Ce=A.podcastUpload)==null?void 0:Ce.duration;return xt?(0,e.h)(c4,{aspectRatio:Ct,className:n,imageUrl:Je,loading:Dt,size:k,width:It}):(0,e.h)("div",{ref:wt,className:s()(n,ha.container,{"post-preview-cover-image-container--empty":!Je}),style:`aspect-ratio: ${Ct}`},Ye?(0,e.h)(Z0,{containerRef:wt,post:A,aspectRatio:Ct,size:a>320?"large":"medium"}):ht?(0,e.h)(u4,{containerRef:wt,pub:B,post:A}):null,Je?(0,e.h)(Xe.e,{className:s()(ha.image,{[ha["image-square-legacy"]]:At}),src:Je,alt:"",maxWidth:It,imageProps:Ct?{height:Math.round(It/Ct),smartCrop:!0,gravity:Ae}:{},loading:Dt,style:`aspect-ratio: ${Ct}`,imageSizingCss:"(min-width:768px) 50vw, 100vw"}):null,!!jt&&(0,e.h)(u.xu,{className:ha.bottomLabels,bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(u.xv.Meta,{color:"always-white",lineHeight:20},(0,Tt.secondsToHHMMSS)(jt!=null?jt:0))))},c4=({aspectRatio:n,className:r,imageUrl:o,width:a,loading:_,size:A})=>(0,e.h)("div",{className:s()(r,ha.container,ha.containerSquare),style:`aspect-ratio: ${n}`},(0,e.h)("div",{className:s()(ha["inner-wrapper"],ha[`inner-wrapper-${A}`])},(0,e.h)(Xe.e,{className:s()(ha.image,ha["image-square"],ha[`image-square-${A}`]),src:o,alt:"",maxWidth:a,imageProps:{height:a,smartCrop:!0,gravity:"center"},loading:_}))),Js=({align:n,clamp:r,lineHeight:o=20,maxLength:a=152,paddingBottom:_,post:A,size:B=14})=>{const{url:k}=(0,t.qp)(Pd);return(0,e.h)(u.tu,{paddingBottom:_},(0,e.h)(u.xv,{as:"a",align:n,href:k,clamp:r,color:"pub-secondary-text",font:"text",size:B,lineHeight:o},Co()((0,Tt.truncateWords)(A.description,a))))};var Xs=je(98961),d4=Object.defineProperty,f4=Object.defineProperties,p4=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,h4=Object.prototype.hasOwnProperty,m4=Object.prototype.propertyIsEnumerable,Q0=(n,r,o)=>r in n?d4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,_4=(n,r)=>{for(var o in r||(r={}))h4.call(r,o)&&Q0(n,o,r[o]);if(X0)for(var o of X0(r))m4.call(r,o)&&Q0(n,o,r[o]);return n},g4=(n,r)=>f4(n,p4(r));const q0=n=>(0,e.h)(Te.l,g4(_4({},n),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"}));var v4=Object.defineProperty,y4=Object.defineProperties,E4=Object.getOwnPropertyDescriptors,du=Object.getOwnPropertySymbols,e_=Object.prototype.hasOwnProperty,t_=Object.prototype.propertyIsEnumerable,r_=(n,r,o)=>r in n?v4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,b4=(n,r)=>{for(var o in r||(r={}))e_.call(r,o)&&r_(n,o,r[o]);if(du)for(var o of du(r))t_.call(r,o)&&r_(n,o,r[o]);return n},P4=(n,r)=>y4(n,E4(r)),O4=(n,r)=>{var o={};for(var a in n)e_.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&du)for(var a of du(n))r.indexOf(a)<0&&t_.call(n,a)&&(o[a]=n[a]);return o};const n_=n=>{var r=n,{stroke:o="black"}=r,a=O4(r,["stroke"]);return(0,e.h)(Te.l,P4(b4({},a),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:o,"stroke-linejoin":"round"}))},Cd={sm:{size:14,lineHeight:20},md:{size:18,lineHeight:28},lg:{size:28,lineHeight:40},mobileMd:{size:16,lineHeight:24},mobileLg:{size:24,lineHeight:36}},hi={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"};var C4=Object.defineProperty,w4=Object.defineProperties,S4=Object.getOwnPropertyDescriptors,o_=Object.getOwnPropertySymbols,T4=Object.prototype.hasOwnProperty,I4=Object.prototype.propertyIsEnumerable,a_=(n,r,o)=>r in n?C4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,M4=(n,r)=>{for(var o in r||(r={}))T4.call(r,o)&&a_(n,o,r[o]);if(o_)for(var o of o_(r))I4.call(r,o)&&a_(n,o,r[o]);return n},D4=(n,r)=>w4(n,S4(r));const mi=({align:n,clamp:r,maxLength:o=140,noIcons:a,paddingBottom:_,post:A,preset:B})=>{var k;const{url:x,linkToComments:J}=(0,t.qp)(Pd),{lineHeight:pe,size:_e}=Cd[B],ye=_e>=28;return(0,e.h)(u.tu,{paddingBottom:_},(0,e.h)(u.xv,D4(M4({},x?{as:"a",href:x}:null),{align:n,clamp:r,font:"pub-headings",lineHeight:pe,size:_e,"data-testid":"post-preview-title"}),A.type==="thread"&&!a&&(0,e.h)(n_,{height:ye?26:17,className:hi.icon}),A.type==="podcast"&&!a&&(A.videoUpload&&((k=A.videoUpload)==null?void 0:k.media_type)==="video"?(0,e.h)(Xs.Z,{height:ye?26:19,width:ye?26:19,className:s()(hi.icon,hi.iconVideo,hi[`iconVideo-${_e}`]),strokeWidth:1.8}):(0,e.h)(q0,{height:ye?26:17,className:hi.icon})),A.type==="video"&&!a&&(0,e.h)(Xs.Z,{height:ye?26:19,width:ye?26:19,className:s()(hi.icon,hi.iconVideo,hi[`iconVideo-${_e}`]),strokeWidth:1.8}),J&&A.type!=="thread"&&"Comments on: ",(0,Tt.truncateWords)(A.title,o)))},fu={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var A4=Object.defineProperty,N4=Object.defineProperties,L4=Object.getOwnPropertyDescriptors,i_=Object.getOwnPropertySymbols,R4=Object.prototype.hasOwnProperty,x4=Object.prototype.propertyIsEnumerable,s_=(n,r,o)=>r in n?A4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,U4=(n,r)=>{for(var o in r||(r={}))R4.call(r,o)&&s_(n,o,r[o]);if(i_)for(var o of i_(r))x4.call(r,o)&&s_(n,o,r[o]);return n},B4=(n,r)=>N4(n,L4(r));const l_=({actions:n,isSmall:r,post:o,pub:a})=>{const{isTablet:_}=(0,Tn.v9)(),A=!!(0,cr.getCoverImageUrl)(o);return(0,e.h)("div",{className:s()(fu.container,{[fu.containerNoImage]:!A})},A&&(0,e.h)(Ka,{className:fu.image,imageAspectRatio:r?Gs:zs,imageWidth:1280,isBelowTheFold:!1,post:o,squareImageSize:"large"}),(0,e.h)(u.tu,{className:fu.content,alignItems:"center",justifyContent:"center",paddingX:A?32:64,paddingY:A?24:64},(0,e.h)(mi,{post:o,align:"center",preset:_?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(Js,{post:o,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(Ui,{post:o,pub:a}),(0,e.h)(u.tu,{paddingTop:20},n({justified:!1}))))},k4=n=>(0,e.h)(l_,B4(U4({},n),{isSmall:!0})),F4={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},W4=({actions:n,hideImage:r,imageAspectRatio:o,post:a,pub:_})=>(0,e.h)(u.tu,null,!r&&(0,e.h)(Ka,{pub:_,post:a,className:F4.image,imageWidth:1250,imageAspectRatio:o==="wide"?zs:Gs,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(u.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(mi,{post:a,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(Js,{post:a,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(Ui,{post:a,pub:_}),(0,e.h)(u.tu,{paddingTop:16},n({justified:!1})))),wd={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui","container--no-image":"frontend-main-home-PostPreview-PostPreviewListing-module__container--no-image--so05t",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},j4=({actions:n,hideImage:r,post:o,pub:a,showPin:_})=>{const{isMobile:A}=(0,Tn.v9)();let B=!!a.community_enabled;return r&&!A&&(B=!1),(0,e.h)("div",{className:s()(wd.container,{[wd["container--no-image"]]:r})},(0,e.h)(u.tu,{gap:8,position:"relative"},(0,e.h)(mi,{clamp:3,post:o,preset:A?"mobileMd":"md"}),(0,e.h)(Js,{clamp:2,post:o,size:14,lineHeight:r?24:20}),(0,e.h)(Ui,{post:o,pub:a,showPin:_})),!r&&(o.cover_image?(0,e.h)(Ka,{className:wd.image,post:o,imageWidth:A?150:320,imageAspectRatio:A?1:Gs,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),n({justified:B}))},V4={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},H4=({actions:n,post:r,pub:o})=>{const a=!!o.community_enabled;return(0,e.h)(u.tu,{padding:8},(0,e.h)(u.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(u.tu,{flex:"grow"},(0,e.h)(mi,{post:r,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(Ui,{clamp:1,post:r,pub:o})),(0,e.h)(Ka,{className:V4.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:r})),n({justified:a}))},K4={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},$4=({actions:n,hidePlaceholder:r,post:o,pub:a})=>{const _=!!a.community_enabled;return(0,e.h)(u.tu,null,o.cover_image&&(0,e.h)(Ka,{post:o,className:K4.image,imageWidth:1250,imageAspectRatio:zs,isBelowTheFold:!1,hidePlaceholder:r,squareImageSize:"large"}),(0,e.h)(u.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(u.tu,{gap:8,paddingBottom:12},(0,e.h)(mi,{post:o,preset:"mobileLg",clamp:3}),(0,e.h)(Js,{post:o,size:14,lineHeight:20,clamp:3}),(0,e.h)(Ui,{post:o,pub:a})),n({justified:_})))},G4={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},z4=({actions:n,post:r,pub:o})=>{const{isMobile:a}=(0,Tn.v9)(),_=!!o.community_enabled;return(0,e.h)(u.tu,{padding:a?0:8},(0,e.h)(Ka,{post:r,className:G4.image,imageWidth:600,imageAspectRatio:Gs,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(u.tu,{flex:"grow",gap:12,paddingTop:12},(0,e.h)(u.tu,{gap:8,flex:"grow"},(0,e.h)(mi,{clamp:3,post:r,preset:"md"}),(0,e.h)(Js,{clamp:1,post:r}),(0,e.h)(Ui,{post:r,pub:o})),n({justified:_})))},ls={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K","container--menu-open":"frontend-main-home-PostPreview-index-module__container--menu-open--js7AZ",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu","actions--menu-open":"frontend-main-home-PostPreview-index-module__actions--menu-open--HkA_4"},Z4={jumbo:l_,"jumbo-small":k4,large:W4,listing:j4,mini:H4,"mobile-hero":$4,square:z4},us=({disableInteractive:n,hideImage:r,hideWash:o,imageAspectRatio:a,linkToComments:_,variant:A,post:B,pub:k,showPin:x,testid:J,user:pe,utm:_e,onChange:ye,onClick:Pe})=>{const{alwaysShowActions:Ce}=(0,t.qp)(uu),[Se,Ae]=(0,t.eJ)(!1),Ne=(0,t.t)},[]),Ve=Z4[A];if(!Ve)return(0,e.h)("div",null,"PostPreview: ",A," not implemented");const ze=Sd({linkToComments:!!_,post:B,pub:k,utm:_e}),Je=ht=>{Pe&&Pe(ht),!n&&(0,F.redirect)(ze,{event:ht})},Ye=["large","jumbo","jumbo-small"].includes(A);return(0,e.h)(Pd.Provider,{value:{url:ze,linkToComments:!!_}},(0,e.h)(u.tu,{className:s()(ls.container,{[ls.containerWithBackground]:!o&&Ye,[ls["container--menu-open"]]:Se}),"data-testid":J,radius:6,onClick:Je},(0,e.h)(Ve,{hideImage:r,imageAspectRatio:a,post:B,pub:k,showPin:x,actions:({justified:ht})=>B.type==="restack"?null:(0,e.h)(u.tu,{className:s()(ls.actions,{[ls["actions--menu-open"]]:Se,[ls["actions--always-show"]]:Ce})},(0,e.h)(qM,{justified:ht,post:B,pub:k,user:pe,onChange:ye,onToggleMenu:Ne}))})))},Sd=({linkToComments:n,post:r,pub:o,utm:a})=>n?(0,gt.getPostUrl)(o,r,{comments:!0}):r.type==="video"?(0,p.updateQuery)(r.canonical_url,{autoPlay:!0}):a?(0,gt.pathWithQuery)(r.canonical_url,{utm:a}):r.canonical_url,ma={container:"frontend-main-home-PostsLayout-module__container--ZMlBv",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX",dividerVertical:"frontend-main-home-PostsLayout-module__dividerVertical--eFKbV","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var Y4=Object.defineProperty,J4=Object.defineProperties,X4=Object.getOwnPropertyDescriptors,pu=Object.getOwnPropertySymbols,u_=Object.prototype.hasOwnProperty,c_=Object.prototype.propertyIsEnumerable,d_=(n,r,o)=>r in n?Y4(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,_i=(n,r)=>{for(var o in r||(r={}))u_.call(r,o)&&d_(n,o,r[o]);if(pu)for(var o of pu(r))c_.call(r,o)&&d_(n,o,r[o]);return n},Qs=(n,r)=>J4(n,X4(r)),f_=(n,r)=>{var o={};for(var a in n)u_.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&pu)for(var a of pu(n))r.indexOf(a)<0&&c_.call(n,a)&&(o[a]=n[a]);return o};const qn=n=>{const{flex:r,hideImages:o,linkToComments:a,posts:_,pub:A,showSectionPins:B,source:k,user:x,utm:J,variant:pe,onChange:_e,onClickPost:ye}=n;return pe==="two-three-two"?(0,e.h)(q4,_i({},n)):pe==="two-small-three-medium"?(0,e.h)(Q4,_i({},n)):["mini-row","three-column-mini-row"].includes(pe)?(0,e.h)(eD,_i({},n)):(0,e.h)("div",{style:r==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:s()(ma.container,ma[pe])},_.map((Pe,Ce)=>(0,e.h)(e.Fragment,null,Ce>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(pe)&&(0,e.h)(u.gq,{className:ma.divider,borderBottom:"detail-themed"}),[2,4].includes(Ce)&&pe==="five-up"&&(0,e.h)(u.gq,{className:ma.divider,borderBottom:"detail-themed"}),Ce%2===0&&Ce>0&&["two-column-grid"].includes(pe)&&(0,e.h)(u.gq,{className:ma["long-divider"],borderBottom:"detail-themed"}),Ce%3===0&&Ce>0&&["three-column-grid"].includes(pe)&&(0,e.h)(u.gq,{className:ma["long-divider"],borderBottom:"detail-themed"}),Ce%4===0&&Ce>0&&["four-column-grid"].includes(pe)&&(0,e.h)(u.gq,{className:ma["long-divider"],borderBottom:"detail-themed"}),(0,e.h)(us,{testid:["large-listing-listing-column","two-small-one-large"].includes(pe)?`magazine-spot-${Ce+1}`:void 0,hideImage:o,linkToComments:a,post:Pe,pub:A,showPin:B&&Pe.is_section_pinned,user:x,utm:J,variant:p_(pe,Ce),onChange:_e,onClick:ye&&k?Se=>{ye({event:Se,post:Pe,index:Ce,source:k})}:void 0}))),pe==="two-small-one-large"&&(0,e.h)(u.gq,{borderBottom:"detail-themed"})))},Q4=n=>{const r=n,{posts:o}=r,a=f_(r,["posts"]),_=o.slice(0,3),A=o.slice(3);return(0,e.h)(fi,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(qn,Qs(_i({},a),{flex:"grow",variant:"large-listing-listing-column",posts:_,hideImages:!0})),(0,e.h)(qn,Qs(_i({},a),{flex:"grow",variant:"square-square-column",posts:A,hideImages:!1})))},q4=n=>{const r=n,{posts:o}=r,a=f_(r,["posts"]),_=o.slice(0,3),A=o.slice(3,5),B=o.slice(5);return(0,e.h)(fi,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(qn,Qs(_i({},a),{flex:"grow",variant:"large-listing-listing-column",posts:_,hideImages:!0})),(0,e.h)(qn,Qs(_i({},a),{flex:"grow",variant:"square-square-column",posts:A,hideImages:!1})),(0,e.h)(qn,Qs(_i({},a),{flex:"grow",variant:"square-square-column",posts:B,hideImages:!1})))},eD=n=>{const{linkToComments:r,posts:o,pub:a,source:_,user:A,utm:B,variant:k,onChange:x,onClickPost:J}=n,pe=k==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:s()(ma.container,ma[k])},o.slice(0,pe).map((_e,ye)=>(0,e.h)(e.Fragment,null,ye>0&&(0,e.h)(u.gq,{className:s()(ma.divider,ma.dividerVertical),paddingY:16,alignItems:"center"},(0,e.h)(u.gq,{borderLeft:"detail-themed"})),(0,e.h)(us,{linkToComments:r,post:_e,pub:a,user:A,utm:B,variant:p_(k,ye),onChange:x,onClick:J})}:void 0})))))},p_=(n,r)=>n==="square-square-column"?"square":n==="large-listing-listing-column"?r===0?"large":"listing":n==="two-small-one-large"?r===0?"large":"square":n==="two-column-list"?"listing":n==="five-up"?r===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(n)?"mini":"square",tD={container:"frontend-main-archive_page-module__container--Brctc"};function qs({children:n,title:r,pub:o,user:a,freeSignup:_,freeSignupEmail:A,sort:B,search:k,newPosts:x,topPosts:J,communityPosts:pe,searchPosts:_e,sectionId:ye,isPodcast:Pe,metadata:Ce}){const Se=!!(o!=null&&o.theme),{iString:Ae,iTemplate:Ne}=(0,l.M1)();return(0,e.h)(O.ze,{value:{hasThemedBackground:Se}},Ce&&(0,F.setMetaData)(Ce),(0,e.h)("div",{className:s()("archive-page typography",tD.container,{"use-theme-bg":Se})},(0,e.h)("div",{className:"container"},r&&(0,e.h)("h2",null,r),(0,e.h)(ss,{communityPosts:pe,communityTitle:Ae("Discussion"),freeSignup:_,freeSignupEmail:A,isPodcast:Pe,newPosts:x,pub:o,search:k,searchPosts:_e,sectionId:ye,showMonthDividers:!0,sort:B,source:"archive",topPosts:J,user:a,variant:"list"},({posts:Ve,linkToComments:ze,onClickPost:Je})=>(0,e.h)(qn,{hideImages:o.theme.hide_images_from_list,linkToComments:ze,posts:Ve,pub:o,user:a,variant:"two-column-list",onChange:()=>{},onClickPost:Je})),n)))}var rD=je(18029),nD=je.n(rD),oD=je(44908),aD=je.n(oD);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=(0,$r.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=(0,$r.Z)("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);var lD=je(922);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=(0,$r.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),cD=n=>{const[r,o]=(0,t.eJ)(0),[a,_]=(0,t.eJ)(!1);return(0,t.d4)(()=>{var A;const B=(A=n.current)==null?void 0:A.player;if(B){const k=_e=>{typeof _e.target.currentTime=="number"&&o(_e.target.currentTime)},x=()=>_(!0),J=()=>_(!1),pe=()=>_(!1);return B.addEventListener("timeupdate",k),B.addEventListener("play",x),B.addEventListener("pause",J),B.addEventListener("ended",pe),!B.paused&&!a&&_(e)}}},[n]),{currentTime:r,isPlaying:a}},h_=n=>{const[r,o]=(0,t.eJ)(!1);return(0,t.d4)(()=>{var a;const _=(a=n.current)==null?void 0:a.player;if(_){const A=()=>o(!0),B=()=>o(!1),k=()=>o(!1);return _.addEventListener("play",A),_.addEventListener("pause",B),_.addEventListener("ended",k),!_.paused&&!r&&o(!0),()=>{_.removeEventListener("play",A),_.removeEventListener("pause",B),_.removeEventListener("ended",k)}}},[n]),r},Kj=n=>{const[r,o]=useState(0);return useEffect(()=>{var a;const _=(a=n.current)==null?void 0:a.player;if(_){const A=B=>{typeof B.target.currentTime=="number"&&o(B.target.currentTime)};return _.addEventListener("timeupdate",A),()=>{_.removeEventListener("timeupdate",A)}}},[n]),r};var m_=je(34518);const So={transcriptionStatus:"frontend-components-TranscriptionText-module__transcriptionStatus--xwFBI",transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",hoverChunk:"frontend-components-TranscriptionText-module__hoverChunk--taY2G",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",speakerText:"frontend-components-TranscriptionText-module__speakerText--XxjIF",rowEditableText:"frontend-components-TranscriptionText-module__rowEditableText--njdfk",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs",playCircle:"frontend-components-TranscriptionText-module__playCircle--YrnqH"};var dD=Object.defineProperty,fD=Object.defineProperties,pD=Object.getOwnPropertyDescriptors,__=Object.getOwnPropertySymbols,hD=Object.prototype.hasOwnProperty,mD=Object.prototype.propertyIsEnumerable,g_=(n,r,o)=>r in n?dD(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Td=(n,r)=>{for(var o in r||(r={}))hD.call(r,o)&&g_(n,o,r[o]);if(__)for(var o of __(r))mD.call(r,o)&&g_(n,o,r[o]);return n},Id=(n,r)=>fD(n,pD(r));function v_({editable:n,forPublisherDash:r=!1,player:o,postId:a,renderTranscriptionChunk:_,transcription:A,onEdit:B,onUpdate:k,onUpdateActiveRowIndex:x}){var J,pe;const[_e,ye]=(0,t.eJ)(!1),[Pe,Ce]=(0,t.eJ)(),[Se,Ae]=(0,t.eJ)(),[Ne,Ve]=(0,t.eJ)({}),[ze,Je]=(0,t.eJ)(!1),[Ye,ht]=(0,t.eJ)(!1),[wt,Ct]=(0,t.eJ)(),[It,At]=(0,t.eJ)(),{currentTime:xt,isPlaying:Dt}=cD(o),[jt,Jt]=(0,t.eJ)(),lr=Pe==null?void 0:Pe.findIn>xt);(0,t.d4)(()=>{x&&lr!==void 0&&lr!==-1&&x(lr)},[lr,x]),(0,t.d4)(()=>{A.cdn_url?(ye(!0),Ze().get(A.cdn_url).then(tr=>{if(tr.text){const qt=JSON.parse(tr.text);Ce(qt);const Rt=aD()(qt.map(Ut=>Ut.speaker)).filter(Ut=>Ut).sort();Rt.length&&Ae(Rt)}}).finally(()=>ye(!1))):Ce(void 0),A.speaker_map&&Object.values(A.speaker_map).length&&Ve(A.speaker_map)},[A]);const mr=Ne?Object.values(Ne).filter(tr=>tr):[],Xt=!!(Se!=null&&Se.length&&Se.length===mr.length);if((0,t.d4)(()=>{const tr=()=>{setTimeout(()=>{var qt,Rt,Ut,Ft,kt;const vt=window.getSelection();if(!vt||vt.rangeCount===0||vt.isCollapsed){Jt(void 0),At(void 0);return}const Cr=vt.getRangeAt(0),sr=Cr.startContainer.parentNode,jr=Cr.endContainer.parentNode,Jr=(qt=sr==null?void 0:sr.dataset)==null?void 0:qt.chunkIndex,gn=(Rt=jr==null?void 0:jr.dataset)==null?void 0:Rt.chunkIndex;if(Jr&&gn){let xr=parseInt(Jr,10),un=parseInt(gn,10);Cr.startOffset===((Ut=sr==null?void 0:sr.textContent)==null?void 0:Ut.length)&&(xr+=1),Cr.endOffset===0&&(un-=1),(kt=(Ft=o.current)==null?void 0:Ft.player)==null||kt.pause(),Jt(vt),At([xr,un])}else Jt(void 0),At(void 0)},0)};return document.addEventListener("mouseup",tr),()=>{document.removeEventListener("mouseup",tr)}},[]),_e)return(0,e.h)(y_,null);if(!(Pe!=null&&Pe.length))return(0,e.h)("div",{className:So.transcriptionStatus},(0,e.h)("p",null,(A==null?void 0:A.status)==="in_progress"?"Transcription in progress...":"No transcript..."),(0,e.h)(y_,null));const Bt=((pe=(J=o==null?void 0:o.current)==null?void 0:J.player)==null?void 0:pe.tagName)==="VIDEO"?"videogram":"audiogram";function ur(tr){return(0,d.track)(d.EVENTS.AUDIOGRAM_DOWNLOAD_CLICKED,{post_id:a,audiogram_id:wt==null?void 0:wt.id,media_upload_id:A.media_upload_id}),fetch(tr,{method:"GET"}).then(qt=>qt.blob()).then(qt=>{var Rt;const Ut=(Rt=wt==null?void 0:wt.video_url)==null?void 0:Rt.split("/").pop(),Ft=Ut==null?void 0:Ut.match(/^([^-]+-[^_]+)_/),kt=(Ft==null?void 0:Ft[1])||"",vt=URL.createObjectURL(qt),Cr=document.createElement("a");Cr.href=vt,Cr.download=`substack-${Bt}-${a}-${kt}.mp4`,document.body.appendChild(Cr),Cr.click(),URL.revokeObjectURL(vt),Cr.remove()})}return(0,e.h)(e.Fragment,null,!n&&jt&&It&&(0,e.h)(_D,{noun:Bt,selection:jt,onMakeAudiogram:()=>{if(It){const[tr,qt]=It;Je(!0),Ze().post("/api/v1/audiogram").send({post_id:a,start_idx:tr,end_idx:qt,use_draft:r}).then(Rt=>{var Ut,Ft;(Ut=Rt.body)!=null&&Ut.data&&(Ct(Rt.body.data),Jt(void 0),At(void 0),(Ft=o.current)!=null&&Ft.player&&o.current.player.pause())}).finally(()=>Je(!1))}}}),Pe.map((tr,qt)=>_?_({isPlaying:Dt,row:tr,rowIndex:qt,words:tr.words,onPause:()=>{var Rt;(Rt=o.current)!=null&&Rt.player&&o.current.player.pause()},onPlay:()=>{var Rt;(Rt=o.current)!=null&&Rt.player&&(o.current.player.currentTime=tr.start+1e-4,o.current.player.play())}}):(0,e.h)(gD,{key:qt,idx:qt,row:tr,rows:Pe,speakerName:r?tr.speaker&&`${E_(tr.speaker)}${Ne[tr.speaker]?`: ${Ne[tr.speaker]}`:""}`:Xt&&tr.speaker?Ne[tr.speaker]:void 0,onReassign:()=>ht(!0),currentTime:xt,isPlaying:Dt,isSelected:!!(It&&qt>=It[0]&&qt<=It[1]),onCl0)},onPause:()=>{var Rt;(Rt=o.current)!=null&&Rt.player&&o.current.player.pause()},onPlay:()=>{var Rt;(Rt=o.current)!=null&&Rt.player&&(o.current.player.currentTime=tr.start+1e-4,o.current.player.play())},editable:n,onEdit:B})),!!(ze||wt)&&(0,e.h)(m_.Yy,{isPopup:!0,hasClosePill:!0,onCl0)}},(0,e.h)(i.xv.H3,{style:{marginTop:22,paddingLeft:16}},ze?`Generating ${Bt}...`:`Shareable ${Bt}...`),(0,e.h)(u.tu,{padding:16},wt?(0,e.h)(e.Fragment,null,(0,e.h)("video",{src:wt.cdn_url,style:{borderRadius:12,alignSelf:"center",marginBottom:12},controls:!0,download:!0,width:512}),(0,e.h)(u.zx,{priority:"secondary",leftIcon:(0,e.h)(gd.Z,{height:18}),onClick:()=>ur(wt.cdn_url)},"Download")):(0,e.h)(u.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:280}},(0,e.h)("div",{className:"embed-loader"})))),Se&&!!Se.length&&!!Ye&&(0,e.h)(m_.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{ht(!1)}},(0,e.h)(i.xv.H3,{style:{marginTop:22,paddingLeft:16}},"Assign Speakers"),(0,e.h)("p",{style:{padding:"0 16px",fontSize:14,marginTop:4,marginBottom:4}},"To have speaker names shown to readers, assign a name to each of the identified speakers. If we've identified too many speakers, you may have to duplicate a speaker's name."),(0,e.h)(u.tu,{padding:16},Se.map(tr=>(0,e.h)(u.tu,{style:{marginBottom:12}},(0,e.h)("span",{style:{fontSize:14,marginBottom:6}},E_(tr)),(0,e.h)(Lr.II,{onChange:qt=>Ve(Rt=>{var Ut;return Id(Td({},Rt),{[tr]:(Ut=qt.target)==null?void 0:Ut.value})}),value:(Ne==null?void 0:Ne[tr])||"",placeholder:"Speaker name..."}))),(0,e.h)(u.zx,{style:{marginTop:8},priority:"secondary",leftIcon:(0,e.h)(iD,{height:18}),onClick:()=>{Ne&&Object.keys(Ne).length>0&&Ze().put(`/api/v1/drafts/${a}/transcript`).send({speaker_map:Ne}).then(tr=>{tr.body.data&&(k==null||k(tr.body.data),ht(!1))})}},"Assign"))))}function _D({selection:n,onMakeAudiogram:r,noun:o}){var a,_;const A=(0,Zr.XA)(),B=(_=(a=n.anchorNode)==null?void 0:a.parentElement)==null?void 0:_.getBoundingClientRect();return B?(0,e.h)(u.tu,{style:{top:(0,Tt.isTouchDevice)()?Math.max(B.y,0)+B.height+12:Math.max(B.y,0)-48,left:"50vw",transform:"translateX(-50%)",pointerEvents:"auto",maxWidth:240},justifyContent:"center",className:vo.popover},(0,e.h)(u.tu,{className:s()(vo.popoverButtons,A&&vo.isMobile),radius:12,padding:4,gap:8,shadow:"md"},(0,e.h)(nu,{onClick:r,disabled:!1,isExplainer:!1},(0,e.h)(sD,{color:"white"}),(0,e.h)(i.xv.B4,{color:"bg-light",weight:"medium"},"Make ",o)))):null}function y_(){return(0,e.h)(e.Fragment,null,(0,e.h)(ua,{width:"80%",height:"24px",className:So.loadingSilhouette}),(0,e.h)(ua,{width:"34%",height:"24px",className:So.loadingSilhouette}),(0,e.h)(ua,{width:"75%",height:"24px",className:So.loadingSilhouette}),(0,e.h)(ua,{width:"100%",height:"24px",className:So.loadingSilhouette}),(0,e.h)(ua,{width:"68%",height:"24px",className:So.loadingSilhouette}))}function E_(n){const r=n.split("_"),o=parseInt(r[1]);return`${nD()(r[0])} ${o+1}`}function gD({row:n,currentTime:r,onPlay:o,isPlaying:a,onPause:_,isSelected:A,onClick:B,idx:k,editable:x,onEdit:J,rows:pe,onReassign:_e,speakerName:ye}){var Pe;const[Ce,Se]=(0,t.eJ)(!1),Ae=(0,t.sO)(null),Ne=n.start<=r&&n.end>=r,Ve=n.words.map(Ye=>Ye.word).join(" "),ze=x?Ve:n.words.map(Ye=>Ye.start<=r&&Ye.end>=r?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:So.activeWord},Ye.word)," "):`${Ye.word} `);let Je=null;if(n.speaker&&ye){const Ye=k===0||(Pe=pe[k-1])==null?void 0:Pe.speaker;n.speaker!==Ye&&(Je=(0,e.h)("div",{className:So.speakerText,onClick:_e},ye))}return(0,e.h)("div",{ref:Ae,onClick:B,onMouseEnter:()=>Se(!0),onMouseLeave:()=>Se(!1),style:{display:"flex",width:"100%",alignItems:"center"}},!a||Ce&&!Ne?(0,e.h)(lD.Z,{onClick:o,size:24,className:So.playCircle,style:Id(Td({},Ce&&{color:"var(--color-accent-themed)"}),{visibility:Ne||Ce?"visible":"hidden"})}):(0,e.h)(uD,{onClick:_,size:24,className:So.playCircle,style:Id(Td({},Ce&&{color:"var(--color-accent-themed)"}),{visibility:Ne||Ce?"visible":"hidden"})}),(0,e.h)("div",{className:s()(So.transcriptionChunk,{[So.activeRow]:Ne||A,[So.hoverChunk]:Ce}),"data-chunk-index":k},(0,e.h)("div",{className:s()(So.rowIndicator,{[So.hoverRow]:Ce})}),(0,e.h)("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:"5px 0"}},Je,x?(0,e.h)("div",{className:So.rowEditableText,"data-chunk-index":k,contentEditable:!0,onInput:Ye=>{var ht;const wt=(ht=Ye.target)==null?void 0:ht.innerHTML;typeof wt=="string"&&(wt===Ve?J==null||J({[String(k)]:void 0}):J==null||J({[String(k)]:wt}))}},ze):(0,e.h)("div",{className:So.rowText,"data-chunk-index":k},ze))))}var vD=Object.defineProperty,hu=Object.getOwnPropertySymbols,b_=Object.prototype.hasOwnProperty,P_=Object.prototype.propertyIsEnumerable,O_=(n,r,o)=>r in n?vD(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,yD=(n,r)=>{for(var o in r||(r={}))b_.call(r,o)&&O_(n,o,r[o]);if(hu)for(var o of hu(r))P_.call(r,o)&&O_(n,o,r[o]);return n},ED=(n,r)=>{var o={};for(var a in n)b_.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&hu)for(var a of hu(n))r.indexOf(a)<0&&P_.call(n,a)&&(o[a]=n[a]);return o},Md=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const el=({className:n=null,title:r,subtitle:o=null,reauthenticationTitle:a,publication:_,post:A,user:B,freeSignup:k=null,freeSignupEmail:x=null,email_form:J=!1,autoFocus:pe=!1,isStatic:_e=!1,coupon:ye=null,shouldShowPostUnlockPrompt:Pe=!1,magicToken:Ce=null})=>{const{iString:Se,iTemplate:Ae}=(0,l.M1)(),{modal:Ne,open:Ve}=S2({utm_campaign:j.UTM_CAMPAIGN.paywallPostUnlockPrompt,utm_source:j.UTM_SOURCE.substack,overrideTitle:Se("Get the free Substack app to unlock this post"),subTitle:Ae`Available now for iOS and Android`}),ze=B&&B.email||x||null,Je=!!(B!=null&&B.is_subscribed&&(B!=null&&B.is_magic)),Ye=(A==null?void 0:A.audience)==="founding",ht=!!(B!=null&&B.is_free_subscribed||k),wt=(0,p.getPostUrl)(_,A),Ct=(0,t.I4)((xt=!1)=>Md(void 0,null,function*(){(0,d.track)(d.EVENTS.PAYWALL_UNLOCK_CTA_CLICKED,{post_id:A.id,publication_id:_.id,from_email:xt});try{yield Ze().post("/api/v1/post_unlock_token").send({post_id:A.id,token:Ce}),Ve()}catch(Dt){console.error(Dt)}}),[Ve,A.id,_.id,Ce]);(0,t.d4)(()=>{Pe&&(0,d.track)(d.EVENTS.PAYWALL_UNLOCK_CTA_VIEWED,{publication_id:_.id,post_id:A.id})},[A.id,_.id,Pe]),(0,t.d4)(()=>{(0,p.getQueryItem)("launch_post_unlock_offer")&&(Ct(!0),window.history.replaceState({},document.title,(0,p.updateQuery)({launch_post_unlock_offer:null})))},[Ct]);const It=ye&&ye.id&&!Ye&&!Pe;let At;return It?(A==null?void 0:A.type)==="podcast"?At=Se("Listen to this episode with a 7-day free trial"):(A==null?void 0:A.type)==="video"?At=Se("Watch with a 7-day free trial"):At=Se("Keep reading with a 7-day free trial"):Je?At=a:At=r,(0,e.h)("div",{className:s()("paywall",n),"data-testid":"paywall","data-component-name":"Paywall"},ze&&(0,e.h)(i.xv,{translated:!0,as:"div",className:"paywall-intro",paddingBottom:Pe?8:0},"Hi ",(0,e.h)("b",null,I18N.p(ze))),(0,e.h)("h2",{className:"paywall-title"},At),o&&!It&&(0,e.h)("p",{className:"paywall-subtitle"},o),It&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(A==null?void 0:A.type)==="podcast"&&(0,e.h)(i.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(i.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to listen to this post and get 7 days of free access to the full post archives."),(A==null?void 0:A.type)==="video"&&(0,e.h)(i.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(i.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to watch this video and get 7 days of free access to the full post archives."),(A==null?void 0:A.type)==="newsletter"&&(0,e.h)(i.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(i.xv,{as:"span",weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to keep reading this post and get 7 days of free access to the full post archives."),(A==null?void 0:A.type)==="adhoc_email"&&(0,e.h)(i.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(i.xv,{weight:"bold",fontStyle:"italic"},I18N.p(_.name))," ","to keep reading this email and get 7 days of free access to the full post archives.")),J?!ht&&(0,e.h)(u.gq,{paddingTop:24,justifyContent:"center"},(0,e.h)(Me.Z,{autoFocus:pe!=null?pe:!0,email:ze,freeSignup:k,freeSignupEmail:x,onAccentBackground:!0,pub:_,source:"post-unlock",submitButtonText:(A==null?void 0:A.type)==="podcast"?Se("Start listening"):(A==null?void 0:A.type)==="video"?Se("Start watching"):Se("Start reading"),user:B,onSuccess:()=>document.location.reload()})):Pe?(0,e.h)(e.Fragment,null,Ne,(0,e.h)(SD,{email:ze,isStatic:_e,publication:_,onClick:()=>Ct(!1),postUrl:wt},Se("Claim my free post"))):(0,e.h)(bD,{coupon:ye,email:ze,isStatic:_e,post:A,postUrl:wt,publication:_,useCoupon:It,user:B}),Pe&&(0,e.h)(OD,{email:ze,isStatic:_e,publication:_,post:A,postUrl:wt,coupon:ye,useCoupon:It},Se("Or upgrade your subscription.")," ",(0,e.h)("b",null,(0,e.h)(ql,{pub:_,user:B,isStatic:!0}))),!Je&&!_e&&!Pe&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:_.subdomain,change_user:!!ze}),native:!0},ID({post:A,publication:_,isPaid:!J})," ",(0,e.h)("b",null,Se(ze?"Switch accounts":"Sign in")))))},bD=({coupon:n,email:r,isStatic:o,post:a,postUrl:_,publication:A,useCoupon:B,user:k})=>{const x=!!(k!=null&&k.is_founding),J=!!(k!=null&&k.is_subscribed),pe=!!(k!=null&&k.is_subscribed&&(k!=null&&k.is_magic)),_e=(a==null?void 0:a.audience)==="founding",{exposeExperiment:ye,getExperimentVariant:Pe}=(0,wr.jc)(),Ce=Pe("autosubscribe_from_paywall")==="treatment",{iString:Se,iTemplate:Ae}=(0,l.M1)();if(o){if(!A.plans)return null;const Ne=_e?fo.Substitutions.FOUNDING_CHECKOUT_URL:fo.Substitutions.CHECKOUT_URL,Ve=B?`&coupon=${n.id}`:"",ze=_e?Ae`Upgrade to ${(0,Fn.getFoundingTierName)(A)}`:B?Se("Start trial"):(0,e.h)(ql,{pub:A,user:k,isStatic:o});return(0,e.h)(PD,{href:`${Ne}simple=true&utm_source=${j.UTM_SOURCE.paywall}&utm_medium=${j.UTM_MEDIUM.email}&utm_content=${a.id}&next=${_}${Ve}`},ze)}return!x&&_e?A.plans?(0,e.h)(mu,{href:(0,p.getCheckoutUrl)(A,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:j.UTM_MEDIUM.web,utm_content:a?a.id:null,plan:"founding"})},Ae`Upgrade to ${(0,Fn.getFoundingTierName)(A)}`):null:J?pe?(0,e.h)(mu,{href:(0,p.getSigninUrl)({for_pub:A.subdomain,email:r})},Se("Click here to sign in")):null:A.plans?k!=null&&k.email&&!B?(0,e.h)(mu,{onClick:()=>Md(void 0,null,function*(){yield ye("autosubscribe_from_paywall");let Ne;if(Ce)try{Ne=(yield Ze().post("/api/v1/free").send({source:"paywall",email:r,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU})).body.referral_token,(0,d.signup)()}catch(Ve){(0,d.track)(d.EVENTS.PAYWALL_FREE_SIGNUP_FAILED,{reason:Ve.message})}window.location.href=(0,p.getCheckoutUrl)(A,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:o?j.UTM_MEDIUM.email:j.UTM_MEDIUM.web,utm_content:a?a.id:null,just_signed_up:Ce,referral_token:Ne})})},(0,e.h)(ql,{pub:A,user:k,isStatic:o})):(0,e.h)(mu,{href:(0,p.getCheckoutUrl)(A,{simple:!0,next:document.location.href,utm_source:B?j.UTM_SOURCE.paywallFreeTrial:j.UTM_SOURCE.paywall,utm_medium:o?j.UTM_SOURCE.email:j.UTM_SOURCE.web,utm_content:a?a.id:null,coupon:B?n.id:null})},B?Se("Start trial"):(0,e.h)(ql,{pub:A,user:k,isStatic:o})):null},PD=({children:n,href:r})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:r},(0,e.h)("span",null,n))),mu=({children:n,href:r,onClick:o})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:r,native:!0},(0,e.h)(ge.Z,{className:"subscribe-btn"},n))),OD=({post:n,isStatic:r,publication:o,onClick:a,children:_,postUrl:A,coupon:B,useCoupon:k})=>{const x=(0,p.getCheckoutUrl)(o,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:r?j.UTM_MEDIUM.email:j.UTM_MEDIUM.web,utm_content:n?n.id:null,just_signed_up:!1});a=()=>Md(void 0,n=x});const J=k?`&coupon=${B.id}`:"",pe=`${x}simple=true&utm_source=${j.UTM_SOURCE.paywall}&utm_medium=${j.UTM_MEDIUM.email}&utm_content=${n.id}&next=${A}${J}`;return r?(0,e.h)(CD,{href:pe},_):(0,e.h)(wD,{onClick:a,href:pe},_)},CD=({children:n,href:r})=>(0,e.h)("div",{className:"paywall-secondary-cta"},(0,e.h)("a",{href:r},n)),wD=({children:n,href:r,onClick:o})=>(0,e.h)("div",{className:"paywall-secondary-cta"},(0,e.h)("a",{onClick:o,href:r,native:!0},n)),SD=({isStatic:n,postUrl:r,publication:o,onClick:a,href:_,children:A})=>n?(0,e.h)("div",{className:"paywall-secondary-cta"},(0,e.h)("a",{className:"button primary",href:`${fo.Substitutions.POST_URL}&launch_post_unlock_offer=true`},A)):(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{onClick:a,native:!0},(0,e.h)(ge.Z,{className:"subscribe-btn"},A)));class TD extends Ge.p{renderChildren(){const r=this.props,{ref:o}=r,a=ED(r,["ref"]);return(0,e.h)(el,yD({className:"modal-paywall"},a))}}class C_ extends si.Z{constructor(){super(...arguments),this.playbackEnabn>0,this.cta=()=>{const{iString:r}=I18N.i({pub:this.props.pub});return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?r("Subscribe for full video"):r("Subscribe and watch")},this.href=()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,p.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:j.UTM_MEDIUM.web,utm_content:this.props.mediaUpload.post_id})}}function ID({post:n,publication:r,isPaid:o=!0}={}){const{iString:a,iTemplate:_}=I18N.i({pub:r});return o?(n==null?void 0:n.audience)==="founding"?(0,Fn.getFoundingTierName)(r)?_`Already in the ${(0,Fn.getFoundingTierName)(r)} plan?`:_`Already in the Founding Member plan?`:a("Already a paid subscriber?"):a("Already a subscriber?")}const w_=({post:n,pub:r,user:o,playerRef:a})=>{var _,A;const B=!(0,Tt.canSeeTranscription)(o,n),k=((_=n==null?void 0:n.podcastUpload)==null?void 0:_.transcription)||((A=n==null?void 0:n.videoUpload)==null?void 0:A.transcription),{iString:x}=(0,l.M1)();return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.TRANSCRIPTION_PAGE_VIEWED,{post_id:n.id})},[n.id]),k?B?(0,e.h)(el,{user:o,publication:r,post:n,title:x("Transcriptions on this post are for paid subscribers"),reauthenticationTitle:x("To see the post, please re-authenticate.")}):(0,e.h)(v_,{transcription:k,player:a,postId:n.id}):null};var tl=je(43615),Do=je(39776),_u=je(95297),MD=je(98913),DD=je.n(MD),ki=je(34988),AD=je(83379),S_=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const ND={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},LD=({ban:n,onReply:r,showReplyLink:o,name:a})=>{const _=Sr()(n.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},a," is banned until ",_,"."," ",o&&(0,e.h)("span",null,(0,e.h)("a",{onClick:r,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function Dd({pub:n,sub:r,children:o,tab:a}){return!r||!r.email?o:(0,e.h)("a",{target:"_blank",href:(0,p.getSubscriberDetailsUrl)(n,r.email,{tab:a})},o)}const RD=({sub:n})=>n?n.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):n.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,xD=({bans:n,activeBans:r})=>n.length===0?(0,e.h)("span",null,"No previous bans"):r.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",Sr()(n[0].start).standardDatetimeWithYear()," to"," ",Sr()(n[0].expiry).standardDatetimeWithYear()),UD=({comment:n,pub:r,onReply:o,onBan:a,onClose:_})=>{const[A,B]=(0,t.eJ)(null),[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)([]),[_e,ye]=(0,t.eJ)(!1),[Pe,Ce]=(0,t.eJ)("24h"),[Se,Ae]=(0,t.eJ)(null),[Ne,Ve]=(0,t.eJ)(!0),ze=(0,t.sO)(null),Je=!!n||k,Ye=At=>{const xt=At;At.forEach(Dt=>{xt.findIndex(jt=>jt.id===Dt.id)==-1&&xt.push(Dt)}),pe(xt)},ht=()=>{o(n.id),ze.current.close()};(0,t.d4)(()=>{ze!=null&&ze.current&&(Je?ze.current.state.open||ze.current.open():ze.current.state.open&&ze.current.close())},[n,k]),(0,t.d4)(()=>S_(void 0,null,function*(){if(n){ye(!1),x(!0),pe([]),Ae(null),B(null);try{const At=yield Ze().get(`/api/v1/user/${n.user_id}/bans`);pe(At.body.bans),B(At.body.sub)}catch(At){console.error("Failed to get bans:",At),Ae(!0)}x(!1)}}),[n]);const wt=()=>S_(void 0,null,function*(){x(!0);try{const At=yield Ze().post(`/api/v1/comment_ban/${n.id}`,{pub:r}).send({user_id:n.user_id,expiry:Pe,removeAllComments:Ne});Ne&&document.location.reload(),Ye(At.body.bans),ye(!0),x(!1),a(n,J)}catch(At){console.error("Failed to submit ban",At),Ae(!0)}x(!1)});if(!n)return null;const Ct=ND[Pe],It=J.filter(At=>Sr()(At.expiry).isAfter(Sr()()));return(0,e.h)(Ge.p,{ref:ze,noExitOnClick:!0,onClose:_},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(Dd,{pub:r,sub:A},(0,e.h)(AD.fi,{photo_url:n.photo_url,size:80,banned:It.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(Dd,{pub:r,sub:A},(0,e.h)("span",{className:"name"},n.name)),(0,e.h)(RD,{sub:A}),(0,e.h)(xD,{bans:J,activeBans:It}))),Se&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),k?"Loading...":(0,e.h)("form",{className:"form"},It.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:At=>Ce(At.target.value),value:Pe},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:Ne,onInput:At=>Ve(At.target.checked)}),"Remove ",(0,Tt.guessFirstName)(n.name),"'s"," ",(0,e.h)(Dd,{pub:r,sub:A,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(ge.Z,{className:"button primary",onClick:wt},"Ban for ",Ct))),It.length>0&&J.filter(At=>At.user_id).map(At=>(0,e.h)(LD,{ban:At,showReplyLink:_e,onReply:ht,name:n.name})))))},Gj=null;var Bo=je(82622),Ad=je(37812),BD=je(7617),kD=je(80587);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=(0,$r.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=(0,$r.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var WD=je(66440),jD=je(81108),VD=je(65862),HD=je(17048),KD=Object.defineProperty,$D=Object.defineProperties,GD=Object.getOwnPropertyDescriptors,I_=Object.getOwnPropertySymbols,zD=Object.prototype.hasOwnProperty,ZD=Object.prototype.propertyIsEnumerable,M_=(n,r,o)=>r in n?KD(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,YD=(n,r)=>{for(var o in r||(r={}))zD.call(r,o)&&M_(n,o,r[o]);if(I_)for(var o of I_(r))ZD.call(r,o)&&M_(n,o,r[o]);return n},JD=(n,r)=>$D(n,GD(r));const XD=n=>(0,e.h)(Te.l,JD(YD({},n),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var Fi=je(91801),QD=je(28175),qD=je.n(QD),cs=je(36250);const D_="comment-collapse-state",A_=250,$a=a3(),e3=()=>{if(typeof window!="undefined"&&window.location.hash){const n=/^#comment-(\d+)/.exec(window.location.hash);if(n)return Number(n[1])}return null},t3=()=>typeof window!="undefined"&&window.location.hash==="#input",N_=(n,r)=>{if(!n||!r||!r.length)return null;for(const o of r){if(o.id===n)return o;if(o.children&&o.children.length){const a=N_(n,o.children);if(a)return a}}return null};function rl(n,r){return n.map(o=>o.id===r.id?r:(o.children=rl(o.children,r),o)).filter(o=>o)}function r3(n,r,{recurse:o=!0}={}){var a,_,A,B;return!!(n.id!==r.id||((a=n==null?void 0:n.metadata)==null?void 0:a.is_author)!==((_=r==null?void 0:r.metadata)==null?void 0:_.is_author)||((A=n==null?void 0:n.metadata)==null?void 0:A.founding)!==((B=r==null?void 0:r.metadata)==null?void 0:B.founding)||(n==null?void 0:n.body)!==(r==null?void 0:r.body)||(n==null?void 0:n.status)!==(r==null?void 0:r.status)||n.reaction!==r.reaction||n.user_banned!==r.user_banned||n.reported_by_user!==r.reported_by_user||(n.reactor_names?n.reactor_names.length:0)!==(r.reactor_names?r.reactor_names.length:0)||Object.values(n.reactions).reduce((k,x)=>k+x,0)!==Object.values(r.reactions).reduce((k,x)=>k+x,0)||o&&n3(n.children,r.children,{recurse:o}))}function n3(n,r,{recurse:o=!0}={}){if((n?n.length:0)!==(r?r.length:0))return!0;if(n)for(const a of n){const _=r.find(A=>A.id===a.id);if(!_||o&&r3(a,_,{recurse:o}))return!0}return!1}function nl(n,r,o){return(0,p.pathWithQuery)((0,p.getPostUrl)(r,n,{comments:!(0,Tt.shouldUseInlineComments)(r,n)}),o)}function o3(n){return(n||"").split(`
`).filter(r=>r.trim()).map(r=>(0,e.h)("p",null,(0,e.h)(qD(),{options:{validate:{/")},attributes:{rel:"nofollow ugc noopener"}}},r)))}const gu=n=>{var r,o,a,_;return{id:n.user_id,photo_url:n.photo_url,name:n.name,bestseller_tier:n.user_bestseller_tier,primary_publication:n.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((r=n.metadata)==null?void 0:r.membership_state),is_subscribed:((o=n.metadata)==null?void 0:o.membership_state)==="subscribed",is_founding:(a=n.metadata)==null?void 0:a.founding,is_author:(_=n.metadata)==null?void 0:_.is_author}};function a3(){try{return(0,w.mM)(D_,[])}catch(n){return console.error("Failed to load comment collapse state:",n),[]}}function i3(n,r){let o=!1;if(r)$a.includes(n)||(o=!0,$a.push(n),$a.length>A_&&$a.splice(0,$a.length-A_));else{const a=$a.indexOf(n);a>=0&&(o=!0,$a.splice(a,1))}if(o)try{(0,w.ex)(D_,$a)}catch(a){console.error("Failed to store comment collapse state:",a)}}function s3(n){return $a.includes(n)}const Nd={link:"frontend-main-comments-CommentActions-module__link--yWV0t",withShareButton:"frontend-main-comments-CommentActions-module__withShareButton--ftFtT"};var vu=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const l3=({comment:n,pub:r,user:o,post:a,reaction_token:_,commentsEnabledForPost:A,hideContextMenu:B,noRestack:k,onChange:x,startReply:J,startEdit:pe,startReport:_e,openBan:ye,shareComment:Pe,updateCommentReacted:Ce})=>{var Se;const{pinned_by_user_id:Ae}=n,Ne=!!Ae,Ve=(0,t.sO)(),[ze,Je]=(0,t.eJ)(!1),[Ye,ht]=(0,t.eJ)(!1),[wt,Ct]=(0,t.eJ)(!1),{iString:It,iTemplate:At}=(0,l.M1)(),xt=()=>vu(void 0,null,function*(){if(!wt&&window.confirm(Ne?At`Are you sure you want to unpin this comment?`:At`Are you sure you want to pin this comment?`)&&!wt){Ct(!0);try{yield Ze().patch(`/api/v1/comment/${n.id}/pin`).send({pinned:!Ne}),x({pinned:!Ne}),document.location.reload()}catch(un){alert((0,F.getNetworkErrorMessage)(un)),Ct(!1)}}}),Dt=()=>vu(void 0,null,function*(){var un;if(!ze&&window.confirm(It("Are you sure you want to remove this comment?"))&&!ze){Je(!0);try{yield Ze().patch(`/api/v1/comment/${n.id}/status`).send({status:Bo.COMMENT_STATUS.moderator_removed}),x({suppressed:!0,status:Bo.COMMENT_STATUS.moderator_removed,body:null}),(un=Ve.current)==null||un.close()}catch(Vr){alert((0,F.getNetworkErrorMessage)(Vr))}Je(!1)}}),jt=()=>vu(void 0,null,function*(){var un;if(!Ye&&window.confirm(It("Are you sure you want to delete this comment?"))&&!Ye){ht(!0);try{yield Ze().delete(`/api/v1/comment/${n.id}`).send(),x({status:Bo.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(un=Ve.current)==null||un.close()}catch(Vr){alert((0,F.getNetworkErrorMessage)(Vr))}ht(!1)}}),Jt=()=>vu(void 0,null,function*(){const un=(0,cs.aE)(a,n,r),Vr=`https://linear.app/substackinc/team/TPT/new?description=${n.body}%0A%0AComment%20author:%20[${n.name}](https://admin.substack.com/users/${n.user_id})%0A%0ALink:%20${un}&status=Triage`;window.open(Vr,"_blank")}),lr=!!(o&&o.id===n.user_id),mr=(o==null?void 0:o.is_contributor)&&(0,Bo.Ng)(n)&&n.ancestor_path==="",Xt=(0,Tt.canEditComment)(o,n),Bt=(o==null?void 0:o.is_contributor)&&(0,Bo.Ng)(n)&&n.ancestor_path==="",ur=!lr&&n.metadata.eligibleForGift&&!n.metadata.is_author,tr=(o==null?void 0:o.is_contributor)&&(0,Bo.Ng)(n),qt=!lr&&!n.reported_by_user&&!n.hidden&&!n.suppressed,Rt=lr,Ut=tr&&!lr,Ft=tr&&o.is_global_admin,kt=o==null?void 0:o.is_global_admin,vt=tr&&!n.user_banned&&!lr,Cr=tr&&n.email&&!lr,sr=Xt||Bt||ur||Cr,jr=vt||qt||Ut||Rt||Ft,Jr=(0,Do.default)("like_comments_enabled"),gn=!B&&(sr||jr),xr=`${r.base_url}/subscribe?gift=true&recipient=${n.user_id}-${(0,Mh.H)(n.name,{hashIfEmpty:!0})}&comment_id=${n.id}}`;return(0,e.h)(ne.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:s()("comment-actions",{[Nd.withShareButton]:!!Pe})},!n.deleted&&[Jr&&(0,e.h)(Fi.dJ,{user:o,pub:r,post:a,comment:n,height:16,countInParenthesesStyle:!0,token:_,onChaun),onReactedChan)},noSelfUpdate:!!Ce}),A&&(0,e.h)(tu.hh,{onClick:()=>J(),className:Nd.link},(0,e.h)(ne.hs,{gap:6,alignItems:"center"},(0,e.h)(BD.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(i.xv.Meta,{color:"pub-secondary-text"},It("Reply"),((Se=n.children)==null?void 0:Se.length)>0&&` (${n.children.length})`))),!!Pe&&(0,e.h)(tu.hh,{onClick:()=>Pe(n.id),className:Nd.link},(0,e.h)(ne.hs,{gap:6,alignItems:"center"},(0,e.h)(Nl.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(i.xv.Meta,{color:"pub-secondary-text"},It("Share")))),!k&&(0,e.h)(c3,{pub:r,post:a,comment:n,onChange:x}),gn&&(0,e.h)(Gn.v2,{trigger:(0,e.h)(be.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(kD.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:It("More")},mr&&(0,e.h)(u3,{pub:r,post:a,comment:n}),Xt&&(0,e.h)(Gn.sN,{icon:(0,e.h)(Qi.Z,null),onClick:pe},It("Edit")),Bt&&(0,e.h)(Gn.sN,{icon:(0,e.h)(j0,null),onClick:xt},It(wt?Ne?"Unpinning...":"Pinning...":Ne?"Unpin":"Pin")),ur&&(0,e.h)(Gn.sN,{icon:(0,e.h)(FD,null),href:xr},It("Gift a subscription")),kt&&(0,e.h)(Gn.sN,{icon:(0,e.h)(XD,{strokeWidth:0,height:24,width:24}),onClick:Jt},It("Add comment to Linear")),Cr&&(0,e.h)(Gn.sN,{icon:(0,e.h)(T_,null),onClick:()=>window.open((0,p.getSubscriberDetailsUrl)(r,n.email),"_blank")},It("Subscriber details")),sr&&jr&&(0,e.h)(gh.i,null),Rt&&(0,e.h)(Gn.sN,{icon:(0,e.h)(WD.Z,null),onClick:jt,priority:"destructive"},It(Ye?"Deleting...":"Delete")),Ut&&(0,e.h)(Gn.sN,{icon:(0,e.h)(jD.Z,null),onClick:Dt,priority:"destructive"},It(ze?"Removing...":"Remove")),qt&&(0,e.h)(Gn.sN,{icon:(0,e.h)(VD.Z,null),onClick:_e,priority:"destructive"},It("Report")),vt&&(0,e.h)(Gn.sN,{icon:(0,e.h)(HD.Z,null),onClick:ye,priority:"destructive"},It("Ban or suspend user")))])};function u3({pub:n,post:r,comment:o}){const a=(0,Ls.i3)(),{iString:_}=(0,l.M1)();return(0,e.h)(Gn.sN,{icon:(0,e.h)(es.Z,null),onClick:()=>{a.open({restackUrl:(0,cs.aE)(r,o,n)})}},_("Restack"))}function c3({pub:n,post:r,comment:o,onChange:a}){const{iString:_}=(0,l.M1)(),{canRestack:A,isRestacked:B,restacks:k,menuItems:x,nuxModal:J}=(0,f0.K)({pub:n,post:r,comment:o,onRestack:pe=>{a({restacked:pe,restacks:k+(pe?1:-1)})}});if(A)return(0,e.h)("span",null,J,(0,e.h)(Gn.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:s()("restack-button",B&&"restacked"),href:"javascript:void(0)"},(0,e.h)(es.Z,null),_("Restack"),k>0&&` (${k})`)},x))}const d3=l3,f3=({comment:n,bodyRef:r,expandToggleClicked:o})=>{const[a,_]=(0,t.eJ)(!1),A=(n.user_banned_for_comment||n.reported_by_user)&&!a;return(0,e.h)("div",{className:"comment-body",ref:r},(0,e.h)(p3,{comment:n,showHiddenComment:a,setShowHiddenComment:_}),n.hidden?(0,e.h)("i",null,"Comment hidden"):n.deleted?(0,e.h)("i",null,"Comment deleted"):A?(0,e.h)("i",null):n.suppressed&&!a?(0,e.h)("i",null,"Comment removed"):n.type==="reply"?(0,e.h)(h3,{comment:n}):o3(n.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>o()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},p3=({comment:n,showHiddenComment:r,setShowHiddenComment:o})=>{const a=(0,Bo.Ng)(n)&&(n.user_banned_for_comment||n.reported_by_user),_=n.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return a&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,_,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>o(!r)},r?"Hide":"Show")))},h3=({comment:n})=>{const{title:r,truncated_body_text:o,date:a,bylines:_,like_count:A,comment_count:B,url:k}=n.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,p.pathWithQuery)(k,{utm_source:j.UTM_SOURCE.substack,utm_campaign:j.UTM_CAMPAIGN.postReplyComment,utm_medium:j.UTM_MEDIUM.web}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},r),o&&(0,e.h)("div",{className:"reply-comment-body"},(0,Tt.formatEllipsis)(o)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,Tt.getPostEmbedMeta)({date:a,bylines:_,like_count:A,comment_count:B})))},m3=f3;var Ld=je(77190),L_=je(71943),_3=Object.defineProperty,g3=Object.defineProperties,v3=Object.getOwnPropertyDescriptors,R_=Object.getOwnPropertySymbols,y3=Object.prototype.hasOwnProperty,E3=Object.prototype.propertyIsEnumerable,x_=(n,r,o)=>r in n?_3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,b3=(n,r)=>{for(var o in r||(r={}))y3.call(r,o)&&x_(n,o,r[o]);if(R_)for(var o of R_(r))E3.call(r,o)&&x_(n,o,r[o]);return n},P3=(n,r)=>g3(n,v3(r));const O3=n=>(0,e.h)(Te.l,P3(b3({},n),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var C3=Object.defineProperty,w3=Object.defineProperties,S3=Object.getOwnPropertyDescriptors,U_=Object.getOwnPropertySymbols,T3=Object.prototype.hasOwnProperty,I3=Object.prototype.propertyIsEnumerable,B_=(n,r,o)=>r in n?C3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,M3=(n,r)=>{for(var o in r||(r={}))T3.call(r,o)&&B_(n,o,r[o]);if(U_)for(var o of U_(r))I3.call(r,o)&&B_(n,o,r[o]);return n},D3=(n,r)=>w3(n,S3(r));const A3=n=>(0,e.h)(Te.l,D3(M3({},n),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var N3=Object.defineProperty,L3=Object.defineProperties,R3=Object.getOwnPropertyDescriptors,k_=Object.getOwnPropertySymbols,x3=Object.prototype.hasOwnProperty,U3=Object.prototype.propertyIsEnumerable,F_=(n,r,o)=>r in n?N3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,B3=(n,r)=>{for(var o in r||(r={}))x3.call(r,o)&&F_(n,o,r[o]);if(k_)for(var o of k_(r))U3.call(r,o)&&F_(n,o,r[o]);return n},k3=(n,r)=>L3(n,R3(r));const F3=n=>(0,e.h)(Te.l,k3(B3({},n),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var W3=je(18446),ol=je.n(W3),j3=Object.defineProperty,W_=Object.getOwnPropertySymbols,V3=Object.prototype.hasOwnProperty,H3=Object.prototype.propertyIsEnumerable,j_=(n,r,o)=>r in n?j3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,K3=(n,r)=>{for(var o in r||(r={}))V3.call(r,o)&&j_(n,o,r[o]);if(W_)for(var o of W_(r))H3.call(r,o)&&j_(n,o,r[o]);return n};class V_ extends e.Component{constructor(r,o){super(r,o),this.open=()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()},this.close=()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()},this.onDocumentMouseUp=a=>{var _;!(0,F.isRootOrChild)(a.target,this.portalRef.current,((_=this.props.baseRef)==null?void 0:_.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))},this.onDocumentKeyDown=a=>{a.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))},this.onResize=Rc()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const r=!this.state.open;r?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:r})}updateCoords(){var r,o,a,_,A,B,k;const x=(_=(o=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null?void 0:o.getBoundingClientRect)==null?void 0:_.call(((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef);if(x){let J=0,pe=((A=this.props.baseRef)==null?void 0:A.current)||this.props.baseRef;for(;pe=pe==null?void 0:pe.parentElement;)J+=pe.scrollTop;this.setState({coords:{left:x.x+(this.props.rightAlign?x.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((B=this.props.offset)==null?void 0:B.x)||0),top:x.y+J+(((k=this.props.offset)==null?void 0:k.y)||0),width:x.width,height:x.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var r,o,a,_;(o=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null||o.addEventListener("mouseenter",this.open),(_=((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef)==null||_.addEventListener("mouseleave",this.close)}removeMouseListeners(){var r,o,a,_;(o=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null||o.removeEventListener("mouseenter",this.open),(_=((a=this.props.baseRef)==null?void 0:a.current)||this.props.baseRef)==null||_.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(r){var o,a;const _=r==null?void 0:r.getBoundingClientRect(),A=(a=((o=this.props.baseRef)==null?void 0:o.current)||this.props.baseRef)==null?void 0:a.getBoundingClientRect();if(!_||!A)return;const B=({x:_e,y:ye})=>J<=_e&&_e<=pe&&k<=ye&&ye<=x,{top:k,bottom:x,left:J,right:pe}=_;B({x:A.left,y:A.top})||B({x:A.right,y:A.top})||B({x:A.left,y:A.bottom})||B({x:A.right,y:A.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose))}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(r=>{const o=(r==null?void 0:r.current)||r,a=Rc()(()=>this.onScroll(o),10);return o==null||o.addEventListener("scroll",a)})}componentShouldUpo)}componentDidUpdate(r){var o,a,_,A;!ol()(r.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),ol()(r.baseRef,this.props.baseRef)||((a=((o=r.baseRef)==null?void 0:o.current)||r.baseRef)==null||a.removeEventListener("mouseenter",this.open),(A=((_=r.baseRef)==null?void 0:_.current)||r.baseRef)==null||A.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:r,rootElement:o,className:a},{coords:_}){return typeof window=="undefined"?null:(0,ct.createPortal)((0,e.h)("div",{style:K3({},_),className:s()("tooltip-portal",a),ref:this.portalRef},r),o||document.body)}}V_.defaultProps={scrollContainers:[]};const H_=V_;var $3=je(48403),G3=je.n($3),z3=Object.defineProperty,Z3=Object.defineProperties,Y3=Object.getOwnPropertyDescriptors,K_=Object.getOwnPropertySymbols,J3=Object.prototype.hasOwnProperty,X3=Object.prototype.propertyIsEnumerable,$_=(n,r,o)=>r in n?z3(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Q3=(n,r)=>{for(var o in r||(r={}))J3.call(r,o)&&$_(n,o,r[o]);if(K_)for(var o of K_(r))X3.call(r,o)&&$_(n,o,r[o]);return n},q3=(n,r)=>Z3(n,Y3(r));const G_=n=>(0,e.h)(Te.l,q3(Q3({},n),{name:"FoundingBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"6.37499",cy:"8.125",r:"2.875",fill:"none"}),(0,e.h)("path",{d:"M10.125 11.1366C10.125 12.7245 8.83782 14.0116 7.25 14.0116C5.66218 14.0116 4.375 12.7245 4.375 11.1366C4.375 9.54881 5.66218 8.26163 7.25 8.26163C8.83782 8.26163 10.125 9.54881 10.125 11.1366Z",fill:"none"}),(0,e.h)("path",{d:"M13.625 11.1366C13.625 12.7245 12.3379 14.0116 10.75 14.0116C9.16223 14.0116 7.87504 12.7245 7.87504 11.1366C7.87504 9.54881 9.16223 8.26163 10.75 8.26163C12.3379 8.26163 13.625 9.54881 13.625 11.1366Z",fill:"none"}),(0,e.h)("circle",{cx:"9",cy:"6.375",r:"2.875",fill:"none"}),(0,e.h)("circle",{cx:"11.625",cy:"8.125",r:"2.875",fill:"none"}));var eA=Object.defineProperty,tA=Object.defineProperties,rA=Object.getOwnPropertyDescriptors,z_=Object.getOwnPropertySymbols,nA=Object.prototype.hasOwnProperty,oA=Object.prototype.propertyIsEnumerable,Z_=(n,r,o)=>r in n?eA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,aA=(n,r)=>{for(var o in r||(r={}))nA.call(r,o)&&Z_(n,o,r[o]);if(z_)for(var o of z_(r))oA.call(r,o)&&Z_(n,o,r[o]);return n},iA=(n,r)=>tA(n,rA(r));const Y_=n=>(0,e.h)(Te.l,iA(aA({},n),{name:"SubscriberBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"10.9178",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"10.9178",r:"2.58219",fill:"none"})),ds={"hover-card-button":"frontend-components-SubscriberBadge-module__hover-card-button--uoeNv","hover-card-icon-section":"frontend-components-SubscriberBadge-module__hover-card-icon-section--eHOQJ","hover-card-icon":"frontend-components-SubscriberBadge-module__hover-card-icon--Hl0xm","hover-card-layer":"frontend-components-SubscriberBadge-module__hover-card-layer--xv2xd",badgeContainter:"frontend-components-SubscriberBadge-module__badgeContainter--GjZmD",badgeSVG:"frontend-components-SubscriberBadge-module__badgeSVG--jGAAs"};var sA=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});function lA({status:n,pub:r,user:o,freeSignup:a,freeSignupEmail:_}){const[A,B]=n==="paid"?[Y_,uA]:[G_,cA];return(0,e.h)(Zp.z,{content:(0,e.h)(B,{pub:r,user:o,freeSignup:a,freeSignupEmail:_}),layerClassName:ds["hover-card-layer"],layerOptions:{placement:"bottom-start"},onFetch:()=>{(0,d.track)(d.EVENTS.SUBSCRIBER_BADGE_INFO_SHOWN,{status:n})}},(0,e.h)(ne.gq,{className:ds.badgeContainter},(0,e.h)(A,{className:ds.badgeSVG,height:16,strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none"})))}const J_=({Icon:n,heading:r,body:o,buttonText:a,href:_,user:A,pub:B,freeSignupEmail:k})=>(0,e.h)(ne.tu,{alignItems:"center"},(0,e.h)(ne.gq,{alignItems:"center",className:ds["hover-card-icon-section"]},(0,e.h)(n,{className:ds["hover-card-icon"],strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none",height:50})),(0,e.h)(ne.tu,{alignItems:"center",gap:20,paddingBottom:20,paddingX:20},(0,e.h)(ne.tu,{alignItems:"center",gap:6},(0,e.h)(i.xv.H3,{weight:"semibold"},r),(0,e.h)(i.xv.B3,{align:"center",color:"secondary"},o)),a&&(0,e.h)(be.zx,{className:ds["hover-card-button"],grow:!0,onClick:A&&!A.is_magic&&A.email||k?x=>sA(void 0,null,function*(){x.preventDefault();const J=A&&!A.is_magic&&A.email||k;let pe;try{pe=(yield Ze().post("/api/v1/free").send({source:"subscriber_badge",email:J,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU})).body.referral_token,(0,d.signup)()}catch(_e){(0,d.track)(d.EVENTS.FREE_SIGNUP_FAILED,{reason:_e==null?void 0:_e.message,source:"subscriber_badge"})}window.location.href=(0,gt.getSubscribeUrl)(B,{addBase:!0,params:{next:document.location.href,utm_source:j.UTM_SOURCE.subscriberBadge,simple:!0,just_signed_up:!0,skip_redirect_check:!0,referral_token:pe}})}):void 0,href:_,localNavigation:!1,priority:"primary-theme"},a)));function uA({pub:n,user:r,freeSignup:o,freeSignupEmail:a}){const _=!(r!=null&&r.is_subscribed)&&(0,Fn.paymentsAreEnabled)(n);return(0,e.h)(J_,{Icon:Y_,heading:`Paid ${(0,Tt.getSubscriptionWord)(n,"subscriber")}`,body:_?`This badge is only available to paid members \u2014 ${r!=null&&r.is_free_subscribed||o?"upgrade":"subscribe"} to claim your own.`:"This badge is available to paid members.",buttonText:_?(0,Tt.getSubscribeText)(n,{isFreeSubscribed:(r==null?void 0:r.is_free_subscribed)||o}):void 0,href:_?(0,gt.getSubscribeUrl)(n,{params:{next:window.location.href,utm_source:j.UTM_SOURCE.subscriberBadge}}):void 0,user:r,pub:n,freeSignupEmail:a})}function cA({pub:n,user:r,freeSignup:o,freeSignupEmail:a}){var _;const A=!(r!=null&&r.is_founding)&&(0,Fn.paymentsAreEnabled)(n)&&(0,Fn.getFoundingTierPlan)(n),B=(_=(0,Fn.getFoundingTierName)(n))!=null?_:"Founding Member";return(0,e.h)(J_,{Icon:G_,heading:B,body:`This badge is${A?" only":""} available to paid ${(0,Tt.getSubscriptionWord)(n,"subscriber")}s under the "${B}" plan${A?` \u2014 ${r!=null&&r.is_free_subscribed||o?"upgrade":"subscribe"} to claim your own.`:"."}`,buttonText:A?r!=null&&r.is_free_subscribed||o?G3()((0,Tt.getSubscriptionWord)(n,"upgrade")):(0,Tt.getSubscribeText)(n):void 0,href:A?(0,gt.getSubscribeUrl)(n,{params:{next:window.location.href,plan:"founding",utm_source:j.UTM_SOURCE.subscriberBadge}}):void 0,user:r,pub:n,freeSignupEmail:a})}function dA({subject:n,pub:r,user:o,freeSignup:a,freeSignupEmail:_,hoverDisabled:A=!1,onClick:B}){var k;const{exposeExperiment:x,getExperimentVariant:J}=(0,wr.jc)(),pe=(k=J("subscriber_badges_2"))!=null?k:"control",_e=n.is_founding&&!n.is_author?"founding":n.is_subscribed&&!n.is_author?"paid":null;return(0,e.h)(e.Fragment,null,(0,e.h)(q,{onVisi")}}),(0,e.h)(ne.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(wa.ProfileHoverCard,{subject:n,disabled:A,utmSource:"comment"},(0,e.h)("a",{onClick:B,href:B?"javascript:void(0)":(0,gt.getReaderProfileUrl)(n)},(0,e.h)(i.xv.B4,{color:"pub-primary-text",weight:"semibold"},n.name))),(0,e.h)(_u.UserBadge,{size:"sm",tier:n.bestseller_tier,userId:n.id}),_e&&pe!=="control"&&(0,e.h)(lA,{status:_e,pub:r,user:o,freeSignup:a,freeSignupEmail:_})))}var fA=je(44695);const X_=({post:n,pub:r,user:o,freeSignup:a,freeSignupEmail:_,comment:A,isCollapsed:B,onProfileClick:k,userBanned:x,toggleCollapse:J,noHoverProfile:pe,userPendingApproval:_e})=>{var ye,Pe;const{iString:Ce,iTemplate:Se,language:Ae,iPlural:Ne}=(0,l.M1)(),Ve=ht=>ht.children.length+ht.children.redCt),0),ze=Ve(A),Je=!!A.edited_at,Ye=!A.hidden&&((ye=A.metadata.author_on_other_pub)==null?void 0:ye.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},A.name?(0,e.h)(dA,{subject:gu(A),pub:r,user:o,freeSignup:a,freeSignupEmail:_,hoverDisabled:pe||!(0,Bo.Ng)(A)||A.hidden||B,onClick:k?()=>k(A):null}):A.hidden?(0,e.h)("i",null,Ce("hidden")):A.deleted?(0,e.h)("i",null,Ce("deleted")):(0,Bo.Ng)(A)?Ce("Anonymous"):Ce("Removed"),x&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),_e&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${A.user_id}`,target:"_blank",rel:"noopener"}," ","(",Ce("Awaiting New Commenter Approval"),")")),A.metadata.author_on_other_pub&&!A.metadata.is_author&&(Ye?(0,e.h)(fA.Sm,{publication_id:(Pe=A.metadata.author_on_other_pub)==null?void 0:Pe.id},(0,e.h)(Q_,{comment:A})):(0,e.h)(Q_,{comment:A})),(0,e.h)("a",{className:"comment-timestamp",href:(0,cs.aE)(n,A,r),onClick:ht=>(void 0).onDateClick(ht),rel:"nofollow",native:!0},Sr()(A.date).locale(Ae).standardDateOrTime()),Je&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,Se`edited ${Sr()(A.edited_at).locale(Ae).standardDateOrTime()}`))],(0,e.h)(pA,{comment:A})),B&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(ge.Z,{className:"outline comment-collapse-toggle",onClick:J},Ne("Expand comment reply","Expand comment replies",ze)))]};function Q_({comment:n}){const{iTemplate:r}=(0,l.M1)();return(0,e.h)("a",{className:"commenter-publication",href:(0,p.updateQuery)(n.metadata.author_on_other_pub.base_url,{utm_source:j.UTM_SOURCE.substack,utm_medium:j.UTM_MEDIUM.web,utm_content:j.UTM_CONTENT.commentMetadata}),rel:"nofollow",target:"_blank"},(0,e.h)("span",null,(0,Tt.truncateText)(n.metadata.author_on_other_pub.name,32)," "))}const pA=({comment:n})=>{const[r,o]=(0,t.eJ)(!1),a=(0,t.sO)(null),_=(0,t.sO)(null),{iString:A,iTemplate:B}=(0,l.M1)(),k=n.pinned_by_user_id?"pinned":n.metadata.is_author?"author":n.reactor_names.length>0?"liked":null;if(!k)return null;const x={pinned:(0,e.h)(A3,null),author:(0,e.h)(F3,null),liked:(0,e.h)(O3,null)},J={pinned:A("Pinned"),author:A("Author"),liked:B`Liked by ${n.reactor_names.join(", ")}`},pe=k==="pinned"&&n.pinned_by_name;return(0,e.h)("span",{ref:a,className:s()("highlight",{hover:r}),onMouseEnter:()=>pe&&o(!0),onMouseLe!1)},x[k],(0,e.h)("span",{className:"highlight-text"},J[k]),pe&&(0,e.h)(H_,{baseRef:a,hoverToggle:!0,onOpen:()=>{var _e;return(_e=_.current)==null?void 0:_e.open()},onClose:()=>{var _e;return(_e=_.current)==null?void 0:_e.close()}},(0,e.h)(Zo.Fx,{ref:_,noList:!0,className:"explanation above small thin"},(0,e.h)(i.xv,{as:"span",translated:!0},"Pinned by ",(0,e.h)("span",{className:"bold"},I18N.p(n.pinned_by_name))))))};var hA=Object.defineProperty,mA=Object.defineProperties,_A=Object.getOwnPropertyDescriptors,q_=Object.getOwnPropertySymbols,gA=Object.prototype.hasOwnProperty,vA=Object.prototype.propertyIsEnumerable,eg=(n,r,o)=>r in n?hA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,tg=(n,r)=>{for(var o in r||(r={}))gA.call(r,o)&&eg(n,o,r[o]);if(q_)for(var o of q_(r))vA.call(r,o)&&eg(n,o,r[o]);return n},yA=(n,r)=>mA(n,_A(r)),al=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const yu="commentInput";class EA extends e.Component{constructor(r){var o;super(r),this.state={value:(o=r.commentBeingEdited)==null?void 0:o.body,alsoShareToNotes:!1}}componentWillMount(){if(typeof localStorage!="undefined"){const r=JSON.parse(localStorage.getItem(yu)||"{}");r.postId===this.props.post.id&&this.setState({value:r.value,alsoShareToNotes:!!r.alsoShareToNotes}),localStorage.removeItem(yu)}}componentDidMount(){var r;this.props.autoFocus&&((r=this.bodyInput)==null||r.focus())}needsProfile(){const{user:r}=this.props;return!r||!r.name}onKeyDown(r){var o;if((o=this.props.user)!=null&&o.is_magic){r&&r.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,Tt.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){r&&r.preventDefault(),this.showPaywall();return}r.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():r.key==="Enter"&&r.metaKey&&this.form.handleSubmit(r)}maybeSaveComment(){typeof localStorage!="undefined"&&localStorage.setItem(yu,JSON.stringify({postId:this.props.post.id,value:this.state.value,alsoShareToNotes:this.state.alsoShareToNotes}))}onInput(r){if(!(0,Tt.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){r&&r.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return al(this,arguments,function*({profileUpdated:r}={}){const{user:o,pub:a,post:_,parent:A,token:B,iString:k}=this.props,{alsoShareToNotes:x}=this.state;if(!(0,Tt.canPostComments)(o,_,a).canReply)throw this.maybeSaveComment(),yield this.showPaywall(),yield new Promise(pe=>setTimeout(pe,600)),new me.ew(k("Please sign in"));if(this.needsProfile()&&!r)throw this.maybeSaveComment(),yield this.showProfileUpdate(),yield new Promise(pe=>setTimeout(pe,600)),new me.ew(k("Please update your profile"));const J={body:this.bodyInput.value,token:B};try{let pe;if(x){const ye=yield Ze().post("/api/v1/comment/attachment").send({type:"link",url:(0,p.getPostUrl)(a,_)});if(!(ye!=null&&ye.body))console.log("Error creating attachment");else{const Pe=tg({},J);Pe.attachmentIds=[ye.body.id],pe=yield Ze().post("/api/v1/comment/feed").send(Pe)}}A&&(J.parent_id=A.id);const _e=yield Ze().post(`/api/v1/post/${_.id}/comment`).send(J);if(typeof localStorage!="undefined"&&localStorage.removeItem(yu),!(o!=null&&o.profile_set_up_at)){const{body:{count:ye}}=yield Ze().get("/api/v1/user/profile_role_count");if(ye>=2)return window.location=(0,p.pathWithQuery)(`${(0,p.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,cs.aE)(_,_e.body,a)}),!1}return{notesComment:pe,res:_e}}catch(pe){throw pe.response&&pe.response.statusCode===403&&(o&&o.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),pe}})}onSuccess(r){const{res:o,notesComment:a}=r,{iString:_,getConfigFor:A}=this.props;if(o!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&a){const B=(0,gt.getFeedCommentUrl)(a.body);this.props.popToast(k=>(0,e.h)(u.FN,yA(tg({},k),{icon:Ri.Z,text:A("unified_home_emabled_web")?_("Note shared"):_("Shared to Notes"),cta:_("View Now"),href:B})))}this.setState({value:""}),this.props.onSuccess(o.body)}else{const B=nl(this.props.post,this.props.pub);window.location.pathname===B?window.location.reload():window.location.href=nl(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,gt.getFeedCommentUrl)(o.body)}:{})}}showFinishMagicLoginModal(){return al(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,d.track)(d.EVENTS.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return al(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,d.track)(d.EVENTS.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return al(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,d.track)(d.EVENTS.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return al(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield Ze().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(r){alert((0,F.getNetworkErrorMessage)(r))}()}render({user:r,freeSignup:o,freeSignupEmail:a,pub:_,post:A,token:B,onCancel:k,autoFocus:x,commentBeingEdited:J,saveEdit:pe,formClassName:_e,bannedFromNotes:ye,iString:Pe,iTemplate:Ce},{value:Se,alsoShareToNotes:Ae}){return(0,e.h)(ne.hs,{"data-test-id":"comment-input",flex:"grow",className:s()("comment-input-wrap",{comment:J})},(0,e.h)(me.ZP,{ref:Ne=>this.form=Ne,className:s()("comment-input",_e),performSubmit:Ne=>J?pe(Se):this.postComment(Ne),onSuccess:Ne=>this.onSuccess(Ne),noInlineErrors:!0,autoLock:!0},(0,e.h)(jn.qE,{user:r,size:32}),(0,e.h)(ne.tu,{flex:"grow",className:"comment-input-right"},J&&(0,e.h)(X_,{post:A,pub:_,user:r,freeSignup:o,freeSignupEmail:a,comment:J,isCollapsed:!1,userBanned:!1}),(0,e.h)(L_.Z,{ref:Ne=>this.bodyInput=Ne&&Ne.base,name:"body",placeholder:Pe("Write a comment..."),autoHeight:!0,maxLines:8,value:Se||"",onInput:Ne=>this.onInput(Ne),onKeyDown:Ne=>this.onKeyDown(Ne)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(ne.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!Se&&!k&&(0,e.h)(ne.hs,{gap:8,alignItems:"center",justifyContent:"center"},!ye&&(0,e.h)(u.XZ,{name:"also_feed",size:"medium",as:"div",checked:Ae,onCha})},withTheme:!0}),!ye&&(0,e.h)(i.xv.B4,{color:"pub-secondary-text",translated:!0},"Also share a"," ",(0,e.h)(tu.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,gt.getFeedUrl)({urlParams:{utm_content:j.UTM_CONTENT.commentShareCheckbox}})},"note"))),(k||!!Se)&&(0,e.h)(ge.Z,{className:"primary",type:"submit"},Pe(J?"Save":"Post")),k&&(0,e.h)(ge.Z,{className:"cancel",onClick:k},Pe("Cancel"))))),(0,e.h)(Yo.h,null,(0,e.h)(Ld.EB,{ref:Ne=>this.profileUpdater=Ne,user:r,freeSignup:o,freeSignupEmail:a,optionalPhoto:!0,token:B,text:Pe("Save & Post Comment"),onBeforeClose:Ne=>Ne&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(TD,{ref:Ne=>this.modalPaywall=Ne,user:r,freeSignup:o,freeSignupEmail:a,publication:_,post:A,title:Ce`Only ${(0,cr.isFoundingAudience)(A.audience)?"founding":"paid"} subscribers can comment on this post`,reauthenticationTitle:Pe("To post a comment, please re-authenticate.")}),(0,e.h)(Ge.p,{ref:Ne=>this.finishMagicLoginModal=Ne,className:"finish-magic-login-modal"},(0,e.h)("h4",null,Pe("Check your email")),(0,e.h)("p",null,Pe("For your security, we need to re-authenticate you.")),(0,e.h)(i.xv,{as:"p",translated:!0},"Click the link we sent to ",I18N.p(r==null?void 0:r.email),", or"," ",(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:_.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const il=(0,st.xY)((0,u.dd)((0,l.fz)(EA)));var bA=je(27667),PA=Object.defineProperty,OA=Object.defineProperties,CA=Object.getOwnPropertyDescriptors,rg=Object.getOwnPropertySymbols,wA=Object.prototype.hasOwnProperty,SA=Object.prototype.propertyIsEnumerable,ng=(n,r,o)=>r in n?PA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,fs=(n,r)=>{for(var o in r||(r={}))wA.call(r,o)&&ng(n,o,r[o]);if(rg)for(var o of rg(r))SA.call(r,o)&&ng(n,o,r[o]);return n},og=(n,r)=>OA(n,CA(r)),Rd=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const ag=200,TA=50,IA=140,MA=728,DA=80;function AA(){const r=Math.min(MA,document.body.clientWidth)-IA;return Math.ceil(r/TA)}const ig=AA();class sg extends e.Component{constructor(r,o){super(r,o),this.bodyRef=(0,e.createRef)(null),this.headContainerRef=(0,e.createRef)(null),this.open()},this.setSelectedHighlight=()=>{const _=e3()===this.props.comment.id;this.setState({isSelected:_})},this.startEdit=()=>{this.setState({editing:!0})},this.saveEdit=a=>Rd(this,null,function*(){return this.state.editing?{res:yield Ze().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:a})}:void 0}),this.onSaveEditSuccess=({edited:a})=>{this.setState({editing:!1}),this.props.onChange(fs(fs({},this.props.comment),a))},this.setShowReportModal=a=>{this.setState({showReportModal:a})},this.onReportSuccess=()=>{this.setShowReportModal(!1),this.props.onChange(og(fs({},this.props.comment),{reported_by_user:!0}))},this.expandToggleClicked=()=>{const a=this.bodyRef.current;a&&(a.classList.remove("long"),a.classList.add("expanded"),(0,d.track)(d.EVENTS.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:a.getAttribute("data-hidden-height")}))},this.onChange=a=>{this.props.onChange?this.props.onChange(fs(fs({},this.props.comment),a)):document.location.href=nl(this.props.post,this.props.pub)},this.setComment=a=>{this.setState({comment:a})},this.setCollapsed=a=>{var _,A;if(this.setState({isCollapsed:a}),a&&((A=(_=this.headContainerRef)==null?void 0:_.current)!=null&&A.scrollIntoView)){const B=this.headContainerRef.current.getBoundingClientRect();B.top<0&&(document.documentElement.scrollTop+=B.top-DA)}this.props.retainUserCollapseState&&i3(this.props.comment.id,a)},this.state={editing:!1,replying:!1,showReportModal:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&s3(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(r){var o,a;((o=r.comment)==null?void 0:o.id)!==((a=this.props.comment)==null?void 0:a.id)&&this.setSelectedHighlight(),r.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const r=/^#comment-(\d+)-reply$/.exec(window.location.hash);!r||Number(r[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return Rd(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(r=>this.setState({replying:!0},r)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(r){const[o,a]=r.target.href.split("?")[0].split("#");o===window.location.href.split("?")[0].split("#")[0]&&a&&(r.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${a}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const r=this.bodyRef.current;if(!r)return;const o=r.scrollHeight-r.clientHeight;o>0&&o<ag?r.classList.add("expanded"):o>=ag&&(r.classList.add("long"),r.setAttribute("data-hidden-height",o))}render({user:r,comment:o,freeSignup:a,freeSignupEmail:_,pub:A,post:B,reaction_token:k,depth:x,collapseAtDepth:J,onChange:pe,scrollRef:_e,retainUserCollapseState:ye,onStartReply:Pe,noHoverProfile:Ce,onProfileClick:Se,onShareComment:Ae,hideContextMenu:Ne,noRestack:Ve,updateCommentReacted:ze,iString:Je},{isSelected:Ye,replying:ht,editing:wt,showReportModal:Ct,hideAnchors:It,isCollapsed:At}){var xt,Dt,jt,Jt,lr;const mr=A.community_enabled&&B&&B.write_comment_permissions!=="none",{user_banned:Xt}=o;let Bt=!1;return((xt=this.context.getExperimentVariant("subscriber_badges_2"))!=null?xt:"control")==="control"&&((Dt=o.metadata)!=null&&Dt.is_author?Bt="author":(jt=o.metadata)!=null&&jt.founding&&(Bt="founding")),wt?(0,e.h)(il,{autoFocus:!0,user:r,freeSignup:a,freeSignupEmail:_,pub:A,post:B,commentBeingEdited:o,saveEdit:this.saveEdit,token:k,onCancel:()=>this.setState({editing:!1}),onSuccess:pe?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:s()("comment",{selected:Ye,"post-reply":o.type==="reply",collapsed:At}),key:`comment-${o.id}`},!It&&[(0,e.h)("div",{id:`comment-${o.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${o.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(wa.ProfileHoverCard,{subject:gu(o),disabled:Ce||!(0,Bo.Ng)(o)||o.hidden||At,utmSource:"comment"},(0,e.h)(Ad.ZP,{subject:gu(o),pub:A,user:r,freeSignup:a,freeSignupEmail:_,token:k,isBanned:Xt,tooltip:{founding:(0,Tt.foundingMemberDescription)(A),author_ons_other_pub:Je("Author of another publication")}[Bt],badge:Bt,isAuthor:o.metadata.is_author,onClick:Se?()=>Se(o):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(X_,{post:B,pub:A,user:r,freeSignup:a,freeSignupEmail:_,comment:o,commentUser:gu,isCollapsed:At,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:Se,userBanned:Xt,noHoverProfile:Ce,userPendingApproval:o.status===Bo.COMMENT_STATUS.new_commenter_approval_required&&(r==null?void 0:r.is_admin)}),(0,e.h)(m3,{comment:o,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!ht&&(0,e.h)(d3,{comment:o,pub:A,user:r,post:B,reaction_token:k,commentsEnabledForPost:mr,hideContextMenu:Ne,noRestack:Ve,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.setShowReportModal(!0),openBan:this.openBan,updateCommentReacted:ze,shareComment:Ae})))),ht&&mr&&(0,e.h)(il,{ref:ur=>this.commentInput=ur,user:r,freeSignup:a,freeSignupEmail:_,pub:A,post:B,parent:o,token:k,onCancel:()=>this.setState({replying:!1}),onSuccess:pe?ur=>{this.setState({replying:!1});const tr=og(fs({},o),{children:[ur].concat(o.children)});pe(tr)}:null}),o.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,cs.aE)(B,o,A)},o.childrenSummary)),!o.childrenSummary&&x>=ig&&!!o.children.length&&(0,e.h)(ge.Z,{className:"outline continue-thread-button",href:(0,cs.aE)(B,o,A)},Je("Continue Thread \u2192")),!o.childrenSummary&&x<ig&&(0,e.h)(Eu,{key:`comment:${o.id}`,user:r,freeSignup:a,freeSignupEmail:_,pub:A,post:B,comments:(Jt=o.children)!=null?Jt:[],parent:o,reaction_token:k,depth:(x||0)+1,collapseAtDepth:J,onChange:pe,isChild:!0,scrollRef:_e,retainUserCollapseState:ye,onStartReply:Pe,noHoverProfile:Ce,onProfileClick:Se,hideContextMenu:Ne,updateCommentReacted:ze,noRestack:!0}),!At&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),(0,e.h)(bA.u,{pub:A,canReportToAdmins:!!(A!=null&&A.moderation_enabled)&&!((lr=o.metadata)!=null&&lr.is_author),isOpen:Ct,onClose:()=>this.setShowReportModal(!1),onSubmit:ur=>Rd(this,[ur],function*({reportCategory:tr,reportedToSubstack:qt,details:Rt}){yield Ze().post(`/api/v1/comment/${o.id}/report`).send({publication_id:A==null?void 0:A.id,details:Rt,reportCategory:tr,reportedToSubstack:qt}),this.onReportSuccess()})}))}}sg.contextType=wr.kx;const NA=(0,l.fz)(sg);var LA=Object.defineProperty,RA=Object.defineProperties,xA=Object.getOwnPropertyDescriptors,lg=Object.getOwnPropertySymbols,UA=Object.prototype.hasOwnProperty,BA=Object.prototype.propertyIsEnumerable,ug=(n,r,o)=>r in n?LA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,kA=(n,r)=>{for(var o in r||(r={}))UA.call(r,o)&&ug(n,o,r[o]);if(lg)for(var o of lg(r))BA.call(r,o)&&ug(n,o,r[o]);return n},FA=(n,r)=>RA(n,xA(r));const WA=je(43174),jA=5,VA=1,cg=16,HA=50,KA=200;function dg(n){return n.reduce((r,o)=>r+1+dg(o.children||[]),0)}function Eu({user:n,freeSignup:r,freeSignupEmail:o,pub:a,post:_,comments:A,reaction_token:B,depth:k,collapseAtDepth:x,onChange:J,pageSize:pe,retainUserCollapseState:_e,updateCommentReacted:ye,parent:Pe,scrollRef:Ce,className:Se,onStartReply:Ae,noHoverProfile:Ne,onProfileClick:Ve,hideContextMenu:ze,noRestack:Je}){const Ye=pe||cg,[ht,wt]=(0,t.eJ)(Ye),[Ct,It]=(0,t.eJ)(-1),[At,xt]=(0,t.eJ)(null),[Dt,jt]=(0,t.eJ)(null),[Jt,lr]=(0,t.eJ)(null),[mr,Xt]=(0,t.eJ)(new Set(A.map(({id:kt})=>kt))),{iString:Bt,iPlural:ur}=(0,l.M1)(),tr=(0,t.sO)();if((0,t.d4)(()=>{Ct>=0&&window.scrollTo(window.scrollX,Ct)},[Ct]),(A||[]).length===0)return;const[qt,Rt]=WA(A,({id:kt,user_id:vt})=>mr.has(kt)||vt===(n==null?void 0:n.id)),Ut=qt.slice(0,ht),Ft=kt=>{var vt;lr(kt),(vt=tr.current)==null||vt.open()};return(0,e.h)("div",{className:s()("comment-list",Se,{"has-new-comments":Rt.length>0})},(0,e.h)(UD,{pub:a,comment:At,onClose:()=>xt(null),onRel)},onBan:(kt,vt)=>{J?J(FA(kA({},kt),{user_banned:!0,bans:vt.concat(kt.bans)})):document.location.href=nl(_,a)}}),(0,e.h)(ki.ZP,{ref:tr,pub:a,post:_,commentId:Jt,utm_campaign:j.UTM_CAMPAIGN.commentListShareCta,comments:A,user:n}),Rt.length>0&&(0,e.h)(ge.Z,{className:"collapsed-reply outline",onClick:()=>Xt(new Set(A.>kt)))},ur("1 new reply","%1 new replies",dg(Rt))),(0,e.h)("div",{className:"comment-list-items"},Ut.map(kt=>(0,e.h)(NA,{banComment:()=>xt(kt),key:`cmt-${kt.id}`,user:n,freeSignup:r,freeSignupEmail:o,pub:a,post:_,comment:kt,parent:Pe,reaction_token:B,collapseAtDepth:x,depth:k||0,onChange:J,replying:Dt===kt.id,scrollRef:Ce,retainUserCollapseState:_e,onStartReply:Ae,noHoverProfile:Ne,onShareComment:Ft,onProfileClick:Ve,hideContextMenu:ze,noRestack:Je,updateCommentReacted:ye}))),qt.length>Ut.length&&(0,e.h)(ge.Z,{className:"collapsed-reply outline",onClick:()=>{It(window.scrollY),wt(ht+Ye)}},Bt("Load More")))}var xd=je(11628),fg=je(70444),$A=je(35442),pg=je(31163),sl=je(85200);function GA({publication:n,siteConfigs:r={},twitterCardUrl:o=null}){var a;const{title:_,description:A}=bu(n);let B,k;return o?(B=o,k=!0):[B,k]=Ou(n,null),(0,F.setMetaData)({title:_,description:A,image:B,isLargeImage:k,pub:n,siteConfigs:r,themeColor:(a=n.theme)==null?void 0:a.web_bg_color})}function bu(n,r,o){var a,_;let A;const B=!!(0,Do.default)("publication_author_display_override")&&String((0,Do.default)("publication_author_display_override"))||((a=(0,sl.Im)(n.contributors))==null?void 0:a.owner),k=B&&!((_=n.name)!=null&&_.toLowerCase().includes(B==null?void 0:B.toLowerCase())),x=r!=null?r:n.name;return k?A=`${x} | ${B} | Substack`:A=`${x} | Substack`,{title:A,description:Co()(hg(n,o))}}function hg(n,r){var o,a,_;const A=(o=n.name)==null?void 0:o.trim();let B=A;(0,Tt.endsWithPunctuation)(A)&&(B=`"${A}"`);const k=(0,sl.Im)(n.contributors);let x,J;return n.invite_only?(x=null,J=null):(x=(a=n.rankingDetailFreeIncluded)!=null&&a.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded.toLowerCase():null,J=n.rankingDetailFreeIncluded||n.rankingDetail),(0,sl.ab)(r!=null?r:(_=n.hero_text)==null?void 0:_.trim(),k,x,B,J)}function Pu({publication:n,post:r,clip:o,siteConfigs:a={},twitterCardUrl:_=null,isCommentPage:A=!1,selection:B=null}){var k,x;const J=(r==null?void 0:r.social_title)||(r==null?void 0:r.title)||n.name,{title:pe,description:_e}=mg(r,n,{isCommentPage:A});let ye,Pe,Ce=null;_?(ye=_,Pe=!0):B&&r?(ye=(0,p.getPostSelectionPreviewUrl)(n,r,B),Pe=!0):([ye,Pe]=Ou(n,r),Ce=_g(n,r));const Se=A&&r&&r.type!=="thread"&&r.comment_count===0||(r==null?void 0:r.type)==="restack";return(0,F.setMetaData)({title:pe,socialTitle:o?`\u2702\uFE0F ${(0,pg.UB)((k=o.duration)!=null?k:0)} | ${J}`:J,searchDescription:r==null?void 0:r.search_engine_description,description:_e,image:o&&(x=(0,p.getMediaUploadThumbnailUrl)(o))!=null?x:ye,twitterImage:!o&&Ce,isLargeImage:Pe,imageHeight:B&&564,imageWidth:B&&1128,seoProps:{noindex:Se,noarchive:!!(r&&r.post_paywall_content_for_google)},isPodcast:(r==null?void 0:r.type)==="podcast",isVideo:(r==null?void 0:r.type)==="video",slug:r==null?void 0:r.slug,pub:n,post:r,siteConfigs:a})}function mg(n,r,{isCommentPage:o=!1}={}){var a,_;const A=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||r.name;let B,k;n?k=(0,Tt.getPrintedByline)(r,n):k=(0,Do.default)("publication_author_display_override")||((a=(0,sl.Im)(r.contributors))==null?void 0:a.owner);const x=k&&!((_=r.name)!=null&&_.toLowerCase().includes(k==null?void 0:k.toLowerCase()));n!=null&&n.title?(B=(n==null?void 0:n.search_engine_title)||A,o&&n.type!=="thread"&&(B=`Comments - ${B}`),`${B} - by ${k}`.length<60&&(k&&x&&(B+=` - by ${k}`),`${B} - ${r.name}`.length<60&&(B+=` - ${r.name}`))):x?B=`${r.name} | ${k} | Substack`:B=`${r.name} | Substack`;let J;return n?J=(0,Tt.postSocialDescription)(n,r):J=hg(r),J=Co()(J),{title:B,description:J}}function Ou(n,r){let o,a;return r!=null&&r.cover_image?(o=(0,p.imginary)(r.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),a=!0):n.subdomain==="numlock"?(o=(0,p.imginary)("/img/numlock_square.png?v=2",840),a=!1):(o=(0,p.getTwitterSubscribeCardUrl)(n),a=!0),[o,a]}function _g(n,r){return r!=null&&r.cover_image?(0,p.getTwitterPreviewUrl)(n,r):null}var zA=Object.defineProperty,gg=Object.getOwnPropertySymbols,ZA=Object.prototype.hasOwnProperty,YA=Object.prototype.propertyIsEnumerable,vg=(n,r,o)=>r in n?zA(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,JA=(n,r)=>{for(var o in r||(r={}))ZA.call(r,o)&&vg(n,o,r[o]);if(gg)for(var o of gg(r))YA.call(r,o)&&vg(n,o,r[o]);return n};function XA({comment:n,post:r,publication:o}){var a,_,A;let B="Note on Substack";o&&n.name?B=`Comment by ${n.name} on ${o.name}`:n.name?B=`Note by ${n.name} on Substack`:o&&(B=`Comment on ${o.name}`);const k=r&&o?mg(r,o,{isCommentPage:!0}).title:`${B}: "${(0,Tt.truncateText)(n.body,280)}"`,x=(a=n.attachments)==null?void 0:a.find(Se=>Se.type==="image"),J=x==null?void 0:x.imageUrl,pe=!1,_e=pe?680:void 0,ye=pe?680:void 0,Pe=J!=null?J:pe?(0,gt.imginary)((0,fg.IY)(n.id),ye,{height:_e}):r&&o?Ou(o,r)[0]:null,Ce=!pe||J?n.body:"Subscribe to see all their notes.";return(0,e.h)($A.Metadata,JA({},{title:k,socialTitle:B,description:Ce,image:Pe,imageHeight:_e,imageWidth:ye,isLargeImage:Pe?!0:void 0,siteName:o?o.name:"Substack",publishedTime:n.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((_=n.reaction_count)!=null?_:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((A=n.children_count)!=null?A:0)}]}))}var yg=je(49786),QA=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});class Eg extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,d.track)(d.EVENTS.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,d.track)(d.EVENTS.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return QA(this,null,function*(){try{yield Ze().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(r){console.error("Failed to subscribe to email notifications:",r),alert((0,F.getNetworkErrorMessage)(r))}})}render({className:r,pub:o,post:a,user:_,freeSignup:A,freeSignupEmail:B,isStatic:k,hidden:x,truncated:J,invisible:pe,post_reaction_token:_e,onChange:ye,showCta:Pe=J,showUnsubscribeNotice:Ce,dataForEmailRender:Se={},showReactions:Ae=!0,gap:Ne=16,iString:Ve,iTemplate:ze,iPlural:Je,language:Ye,showShare:ht}){typeof x!="boolean"&&(x=a.hidden);let wt,Ct;x?(wt=Ve("Subscribe to view"),Ct=(0,p.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.thread,utm_medium:j.UTM_MEDIUM.web,utm_content:a.id})):(Ct=(0,p.getPostUrl)(o,a,{noBase:!0}),a.type!=="thread"||J?wt=(0,Tt.getPostCtaText)(a,Ye):a.comment_count?wt=Je("View 1 comment","View %1 comments",a.comment_count):wt=Ve("Reply"));const It=k&&!this.context.isAmp;return(0,e.h)(on.YF,{className:`thread-head typography ${r||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(on.i$,{width:"100%"},!pe&&!x&&(0,e.h)(q,{onVisible:()=>this.onTopReached()}),(0,e.h)(on.i$,{gap:Ne,width:"100%"},(0,e.h)(xu,{pub:o,post:a,user:_,isStatic:k,freeSignup:A,freeSignupEmail:B,reaction_token:_e,allowEdit:!0,allowTruncate:J,showReactions:!!Pe||Ae,showShare:ht,showComments:!!a.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:ye,showLabel:!0}),(0,e.h)($s,{user:_,freeSignup:A,freeSignupEmail:B,pub:o,post:a,html:!x&&!J&&a.body_html,isStatic:k,dataForEmailRender:Se},x?(0,e.h)("p",null,(0,e.h)("i",null,ze`This thread is only visible to ${(0,cr.isFoundingAudience)(a.audience)?"founding":"paid"} subscribers of ${o.name}`)):J?(0,e.h)("p",null,a.description):null),Pe?(0,e.h)("a",{className:"thread-head-cta",href:Ct,native:!0},wt," \u2192"):x&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,p.getSubscribeUrl)(o,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.thread,utm_medium:j.UTM_MEDIUM.web,utm_content:a.id}),className:"button primary subscribe-btn",native:!k},(0,Tt.getSubscribeText)(o)),(0,e.h)("a",{href:(0,p.getSigninUrl)({for_pub:o.subdomain}),className:"button",native:!0},Ve("Sign in")))),It&&(0,e.h)(on.i$,{gap:Ne,style:{width:"100%"}},(0,e.h)(on.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:fo.Substitutions.HALF_MAGIC_COMMENTS_URL},Ve("See the discussion"))),(0,e.h)(xn.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:Ae},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),Ce&&a.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},Ve("Email notifications are disabled for this thread.")," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},Ve("Re-enable"))),!pe&&!x&&(0,e.h)(q,{onVisible:()=>this.onBottomReached()})))))}}Eg.contextType=Gc.E;const bg=(0,l.fz)(Eg);class qA extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const Ud=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var e9=Object.defineProperty,t9=Object.defineProperties,r9=Object.getOwnPropertyDescriptors,Pg=Object.getOwnPropertySymbols,n9=Object.prototype.hasOwnProperty,o9=Object.prototype.propertyIsEnumerable,Og=(n,r,o)=>r in n?e9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,a9=(n,r)=>{for(var o in r||(r={}))n9.call(r,o)&&Og(n,o,r[o]);if(Pg)for(var o of Pg(r))o9.call(r,o)&&Og(n,o,r[o]);return n},i9=(n,r)=>t9(n,r9(r));const s9=n=>(0,e.h)(Te.l,i9(a9({},n),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));class l9 extends e.Component{constructor(){super(...arguments),this.onSortCommentsClicr)}}render({sort:r,loading:o,pub:a}){const _=(0,Do.default)("like_comments_enabled");return(0,e.h)("div",{className:s()("comments-page-sort-controls",{loading:o})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onCle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,Bo.Sh)(r,a.language)),(0,e.h)(s9,{height:"6"})),(0,e.h)(Zo.ZP,{className:"comments-page-sort-menu-dropdown",ref:A=>this.sortMenuRef=A},(0,Bo.Hz)({likesEnabled:_,language:a.language}).map(({key:A,text:B})=>(0,e.h)(xl.Z,{className:r===A?"selected":"",onCl(A)},B)))))}}const Cg=l9;var u9=Object.defineProperty,c9=Object.defineProperties,d9=Object.getOwnPropertyDescriptors,wg=Object.getOwnPropertySymbols,f9=Object.prototype.hasOwnProperty,p9=Object.prototype.propertyIsEnumerable,Sg=(n,r,o)=>r in n?u9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Bd=(n,r)=>{for(var o in r||(r={}))f9.call(r,o)&&Sg(n,o,r[o]);if(wg)for(var o of wg(r))p9.call(r,o)&&Sg(n,o,r[o]);return n},h9=(n,r)=>c9(n,d9(r)),ll=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const m9=30*1e3;class _9 extends e.Component{constructor(r,o){super(r,o),this.modalRef=(0,e.createRef)(null),this.onWindowVisibilityChange=()=>{(0,F.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)},this.state={},r.post&&r.post.slug===r.slug&&(this.state.post=r.post),this.state.sort=r.sort||this.state.post&&this.state.post.default_comment_sort||r.publication.default_comment_sort||"best_first",this.state.comments=r.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return ll(this,null,function*(){var r;const{iString:o,inline:a,user:_}=this.props;if((0,F.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(r=this.props.matches)!=null&&r.feedCommentUrl){const A=this.props.matches.feedCommentUrl,B=new URL(location.toString());B.searchParams.delete("feedCommentUrl"),history.replaceState({},"",B),this.props.popToast(k=>(0,e.h)(u.FN,h9(Bd({},k),{text:o("Note Shared."),cta:o("View Now"),href:A})),{ttl:1e4})}})}componentWillUnmount(){(0,F.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(r,o){return ll(this,null,function*(){if(r.slug!==this.props.slug||o.sort!==this.state.sort){const a=this.props.post&&this.props.post.slug===this.props.slug;yield(0,F.setState)(this,{post:a?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let a=0;(0,Bo.hO)(this.state.commea++),this.state.post.comment_count!==a&&(this.state.post.comment_count=a,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:r}=this.state;(0,d.track)(d.EVENTS.COMMENTS_VIEWED,{post_id:r.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(r.type==="thread"||(0,Tt.canSeeComments)(this.props.user,r))&&(0,d.track)(d.EVENTS.COMMENT_PAYWALL_SHOWN,{post_id:r.id,post_type:r.type}),r.type==="thread"&&this.props.user&&Promise.resolve(Ze().post(`/api/v1/posts/${r.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimet(),m9)}loadPost(){return ll(this,null,function*(){if(this.state.comments&&!(0,F.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const r=this.state.comments&&this.state.comments.length>0;let o;this.state.comments&&(o=null,(0,Bo.hO)(this.state.comments,a=>{!a.deleted&&a.date&&(!o||a.date>o)&&(o=a.date)}));try{const a=this.props.slug,_=this.state.sort,A={token:this.props.post_reaction_token||"",all_comments:!0,sort:_,last_comment_at:o};this.state.post&&this.props.commentId&&(A.comment_id=this.props.commentId);const B=yield Ze().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${a}`).query(A);if(this.setState({loading:!1}),a!==this.props.slug||_!==this.state.sort)return;let k=this.state.sort;!this.state.post&&B.body.default_comment_sort&&(k=B.body.default_comment_sort),(!this.state.post||!this.state.comments||B.body.comments)&&(yield(0,F.setState)(this,{post:this.state.post||B.body,comments:B.body.comments||[],sort:k}))}catch(a){console.error("Failed to load post:",a),a.statusCode===400&&(yield(0,F.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!r&&this.state.comments&&this.state.comments.length>0&&(0,F.scrollToHash)(),(0,F.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(r){this.setState({comments:rl(this.state.comments,r)})}onSortSelected(r){this.setState({sort:r}),(0,d.track)(d.EVENTS.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:r})}triggerShareOnLoad(){var r;(r=this.shareDialogRef)!=null&&r.current&&(0,p.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(r){const{publication:o}=this.props;return(o==null?void 0:o.subdomain)===r}render({slug:r,user:o,freeSignup:a,freeSignupEmail:_,publication:A,post_reaction_token:B,inline:k,commentId:x,selectionFromQuery:J,freeTrialCoupon:pe,show_reaction_upsell:_e,bannedFromNotes:ye,iString:Pe,iPlural:Ce,iTemplate:Se},{sort:Ae,post:Ne,comments:Ve,notAllowedToFetchComments:ze,reactionSigninComment:Je}){if(!Ne||!A.community_enabled)return!k&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(qA,null)));const Ye=A.community_enabled&&Ne&&Ne.write_comment_permissions!=="none",ht=ze||Ye&&!(0,Tt.canSeeComments)(o,Ne),wt=(Ct,It)=>ll(this,null,function*(){return Ig({user:o,reactionToken:B,comments:Ve,id:Ct,reacted:It,setComments:At=>this.setState({comments:At}),onNeedsSignin:At=>new Promise(xt=>this.setState({reactionSigninComment:At},()=>this.modalRef.current.open(xt)))})});return(0,e.h)("div",{className:"comments-page"},x&&(Ve==null?void 0:Ve.length)>0?(0,e.h)(XA,{comment:Ve[0],post:Ne,publication:A}):(0,e.h)(Pu,{post:Ne,publication:A,isCommentPage:!this.props.inline,selection:J}),(0,e.h)(ki.ZP,{ref:this.shareDialogRef,user:o,pub:A,post:Ne,reaction_token:B,comments:Ve,commentId:x}),!k&&!x&&(0,e.h)("div",{className:"container"},(0,e.h)(bg,{pub:A,post:Object.assign({},Ne,{comment_url_override:(0,p.getPostUrl)(A,Ne,{comments:!0})}),user:o,freeSignup:a,freeSignupEmail:_,hidden:!(0,Tt.isUUID)(r)&&Ne.hidden,truncated:Ne.type!=="thread",post_reaction_token:B,onChange:Ct=>this.setState(Ct),showUnsubscribeNotice:!0,gap:0,showShare:!1},(0,e.h)("div",{className:"full-container-border"}))),ht&&(0,e.h)("div",{className:"container"},(0,e.h)(el,{user:o,freeSignupEmail:_,freeSignup:a,publication:A,post:Ne,title:Se`Comments on this ${Ne.type==="podcast"?"episode":"post"} are for ${(0,cr.isFoundingAudience)(Ne.audience)?"founding":"paid"} subscribers`,reauthenticationTitle:Pe("To see the comments, please re-authenticate."),coupon:pe})),Ne.type==="thread"||(0,Tt.canSeeComments)(o,Ne)?(0,e.h)("div",{className:"container"},Ve&&(0,e.h)(u.gq,{alignItems:"center",justifyContent:"space-between",paddingY:8},(0,e.h)("div",{className:"comments-heading"},Ce("1 Comment","%1 Comments",Ne.comment_count)),!k&&!A.invite_only&&(0,Tt.canSeeComments)(o,Ne)&&(0,e.h)(u.zx,{priority:"secondary-theme",leftIcon:(0,e.h)(xd.Z,null),onClick:()=>{var Ct;(Ct=this.shareDialogRef.current)==null||Ct.open()}},Pe("Share"))),Ve&&Ve.length>0&&!Ye&&(0,e.h)(Tg,{post:Ne}),Ye&&(0,e.h)(il,{user:o,freeSignup:a,freeSignupEmail:_,pub:A,post:Ne,token:B,autoFocus:t3(),onSuccess:Ct=>this.setState({comments:[Ct].concat(Ve)}),bannedFromNotes:ye}),(!Ve||Ve.length>0)&&!ze&&!x&&(0,e.h)(Cg,{sort:Ae,loading:!Ve,onSortSelected:Ct=>this.onSortSelected(Ct),pub:A}),x&&Ve&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,p.getPostUrl)(A,Ne,{comments:!0,commentId:x,highlightComment:!0})},Pe("\u2B60 Return to thread")),!Ve&&!ze?[(0,e.h)(Ud,null),(0,e.h)(Ud,null)]:Ve.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(Eu,{key:`post:${Ne.id}`,user:o,freeSignup:a,freeSignupEmail:_,pub:A,post:Ne,comments:Ve,reaction_token:B,depth:0,collapseAtDepth:k?10:Ve.length>3&&Ae==="most_recent_first"?VA:jA,onChange:Ct=>this.onChange(Ct),pageSize:k||this._isPub("astralcodexten")?KA:Ne.type==="thread"?HA:cg,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:wt,noRestack:!0}))]:null):null,Je&&(0,e.h)(Fi.oq,{comment:Je,pub:A,user:o,react:()=>wt(Je.id,!0),modalRef:this.modalRef}),_e?(0,e.h)(yg.hF,{user:o,pub:A,post:Ne}):null)}}const kd=(0,u.dd)((0,l.fz)(_9)),Tg=({post:n})=>{const{iString:r}=(0,l.M1)();return(0,e.h)("div",{className:"locked-comments"},n.type==="adhoc_email"?r("Commenting has been turned off for this email"):r("Commenting has been turned off for this post"))};function Ig(n){return ll(this,arguments,function*({user:r,reactionToken:o,comments:a,id:_,reacted:A,setComments:B,onNeedsSignin:k}){var x;const J=N_(_,a);if(!J)return;const pe=Bd({},J);(0,Fi.E6)(r,pe,A),B(rl(a.slice(0),pe));try{yield(0,Fi.xl)(pe,!0,A,o)}catch(_e){if((0,Fi.E6)(r,pe,!A),B(rl(a.slice(0),Bd({},pe))),((x=_e.response)==null?void 0:x.statusCode)!==401){alert((0,F.getNetworkErrorMessage)(_e));return}yield k({comment:pe})}})}const g9=({comments:n,expectedCommentCount:r,inputRef:o,post:a,pub:_,sort:A,token:B,user:k,onAddComment:x,onUpdateComment:J,onUpdateSort:pe})=>{const _e=!(0,Tt.canSeeComments)(k,a),{iString:ye}=(0,l.M1)();return _e?(0,e.h)(el,{user:k,publication:_,post:a,title:ye("Comments on this episode are for paid subscribers"),reauthenticationTitle:ye("To see the comments, please re-authenticate.")}):(0,e.h)("div",null,(0,e.h)(il,{ref:o,formClassName:"tw-m-0",user:k,pub:_,post:a,token:B,onSuccess:x}),r>0&&(0,e.h)(Cg,{sort:A,loading:!n,onSortSelected:pe,pub:_}),n?(0,e.h)(Eu,{comments:n,post:a,pub:_,reaction_token:B,user:k,onChange:J,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},DD()(Math.min(rll))))},Cu={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou",backdrop:"frontend-podcast_post_page-PodcastPostHeader-module__backdrop--jaZvB",backdropHidden:"frontend-podcast_post_page-PodcastPostHeader-module__backdropHidden--Ebi0K",backdropVisible:"frontend-podcast_post_page-PodcastPostHeader-module__backdropVisible--ZT26O"};var v9=Object.defineProperty,Mg=Object.getOwnPropertySymbols,y9=Object.prototype.hasOwnProperty,E9=Object.prototype.propertyIsEnumerable,Dg=(n,r,o)=>r in n?v9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,b9=(n,r)=>{for(var o in r||(r={}))y9.call(r,o)&&Dg(n,o,r[o]);if(Mg)for(var o of Mg(r))E9.call(r,o)&&Dg(n,o,r[o]);return n};const Ag=({bylines:n,variant:r})=>(0,e.h)(u.hs,b9({},r==="shows"?{direction:"row",gap:16,wrap:"wrap"}:{direction:"column",gap:24}),n.map(o=>(0,e.h)(u.gq,{alignItems:"center",gap:4},(0,e.h)(u.hs,null,(0,e.h)(tl.ZP,{className:Cu.facepile,maximum:1,hoverProfiles:!0,faces:[o],faceUtmSource:"author-byline-face-podcast",size:32})),(0,e.h)(u.tu,null,(0,e.h)(u.gq,{gap:4,alignItems:"center"},(0,e.h)(u.xv.B4,{color:"pub-primary-text"},o.name),(0,e.h)(_u.UserBadge,{userId:o.id,tier:o.bestseller_tier,size:"sm"})),o.primaryPublicationName&&(o.primaryPublicationUrl?(0,e.h)(u.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes"," ",(0,e.h)("a",{style:{textDecoration:"none"},href:o.primaryPublicationUrl},I18N.p(o.primaryPublicationName))," ",(0,e.h)("a",{href:`${o.primaryPublicationUrl}/subscribe`},"Subscribe")):(0,e.h)(u.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes ",I18N.p(o.primaryPublicationName)))))));var P9=je(91613),O9=Object.defineProperty,C9=Object.defineProperties,w9=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,S9=Object.prototype.hasOwnProperty,T9=Object.prototype.propertyIsEnumerable,Lg=(n,r,o)=>r in n?O9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,I9=(n,r)=>{for(var o in r||(r={}))S9.call(r,o)&&Lg(n,o,r[o]);if(Ng)for(var o of Ng(r))T9.call(r,o)&&Lg(n,o,r[o]);return n},M9=(n,r)=>C9(n,w9(r));const Rg=n=>(0,e.h)(Te.l,M9(I9({},n),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function xg({post:n,pub:r,user:o,showDate:a,showDatetime:_,isStatic:A,className:B,postReactionToken:k,onChange:x,allowEdit:J,hidePinning:pe,showEmailSent:_e,allowSendEmail:ye,allowMobileFooter:Pe,onCommentsClick:Ce,onClipClick:Se,useWashBackground:Ae,showRestackModal:Ne,setFooterShown:Ve}){const ze=(0,v.isMobile)({checkFirst4:!0}),Je=typeof window=="undefined",Ye=(0,Tt.getBylineUsers)(n),{language:ht}=(0,l.M1)(),wt=_?Sr()(n.post_date).locale(ht).standardDatetime():A?Sr()(n.post_date).locale(ht).standardDate():Sr()(n.post_date).locale(ht).standardDateOrTime(),{getSettingFor:Ct}=(0,L.So)(),It=r.bylines_enabled&&(0,Tt.getPrintedByline)(r,n)&&n.type!=="podcast",At=It&&r.byline_images_enabled&&Ye.s!Xt),xt=n.type!=="page",Dt=ze&&At&&Ye.length>2,jt=(r==null?void 0:r.community_enabled)&&n.slug&&!n.is_draft&&(0,Tt.showCommentsOnPost)({publication:r,post:n}),Jt=It&&Ye.length===1&&Ye[0].is_guest&&Ye[0].primaryPublicationSubscribeUrl&&Ye[0].primaryPublicationId!==r.id&&!n.is_draft&&!(0,Do.default)("dont_show_guest_byline"),lr=(0,Tt.oxfordComma)(Ye.map(Xt=>A?(0,e.h)("a",{className:"byline-profile-link",href:(0,p.getProfileUrl)(Xt,r,{base:A}),onClick:Bt=>Bt.stopPropagation()},Xt.name):(0,e.h)(ne.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(wa.ProfileHoverCard,{subject:Xt,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,p.getProfileUrl)(Xt,r,{base:A}),onClick:Bt=>Bt.stopPropagation()},Xt.name)),!A&&(0,e.h)(_u.UserBadge,{tier:Xt.bestseller_tier,size:"sm",userId:Xt.id})))),mr=!n.is_draft&&(0,P9.x)(o,{enable_restacking:!!Ct("enable_restacking")},n,r,A);return(0,e.h)("div",{className:s()("post-subheader",B)},(0,e.h)("div",{className:s()("left",{vertical:Dt})},At&&(A?(0,e.h)(tl.Pn,{pub:r,post:n}):(0,e.h)(tl.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:Ye.r})),faceUtmSource:"author-byline-face",elevated:Ae})),(0,e.h)("div",{className:"label-stack"},It&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},lr)),Jt&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:Ye[0].primaryPublicationUrl,title:Ye[0].primaryPublicationName},Ye[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:Ye[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},n.type==="adhoc_email"?(0,e.h)(Rg,{className:"audience-icon adhoc-email-icon",height:16,isStatic:A}):xt&&(0,cr.isPaidAudience)(n.audience)&&!(0,fa.lp)({post:n})&&(0,e.h)(V0.Z,{audience:n.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:A,thin:!0}),(a||_)&&n.post_date&&!n.is_draft&&(0,e.h)("time",{dateTime:Sr()(n.post_date).toISOString()},wt),n.is_draft&&(a||_)&&"Draft"))),(0,e.h)("div",{className:"right"},ze&&!Je&&Pe&&(0,e.h)(xn.mt,{post:n,pub:r,user:o,isStatic:A,onChange:x,allowEdit:J,hidePinning:pe,showEmailSent:_e,allowSendEmail:ye,hideComments:!jt,onCommentsClick:Ce,showRestackButton:mr,showRestackModal:Ne,setFooterShown:Ve,postReactionToken:k}),!ze&&(0,e.h)(xn._2,{post:n,pub:r,user:o,isStatic:A,style:"button",onChange:x,allowEdit:J,hidePinning:pe,showEmailSent:_e,allowSendEmail:ye,labelStyle:"counts-or-none",hideComments:!jt,onCommentsClick:Ce,onClipClick:Se,position:"post-header",showRestackButton:mr,showRestackModal:Ne,showClipping:n.type==="podcast",editButtonIsLast:!0,postReactionToken:k})))}var ul=je(18302);const D9=({post:n})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,p.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.paywall,utm_medium:j.UTM_MEDIUM.web,utm_content:n.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(Fs.Z,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen"))),A9=({isFreeSubscribed:n,isSubscribed:r,pub:o,post:a,onGetDuration:_,isPreview:A,playerRef:B,feedUrl:k})=>(0,e.h)(Kl.Z,{ref:B,feature:"Podcast",pub:o,src:a.podcast_url,duration:a.podcast_duration,autoPlay:!1,metricsPost:a,addToPodcastLink:null,onGetDuration:_,render:({currentTime:x,isPlaying:J,progress:pe,progressBarRef:_e,progressBarOnMouseDown:ye,remainingTime:Pe,playbackRate:Ce,setPlaybackRate:Se,skipBack:Ae,skipForward:Ne,togglePlayback:Ve})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(dC,{isPlaying:J,onSkipBack:Ae,onSkipForward:Ne,onTogglePlayback:Ve}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(jc,{onSetPlaybackRate:Se,playbackRate:Ce,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(Wc,{currentTime:x,remainingTime:Pe,containerRef:_e,progress:pe,onMouseDown:ye}),A&&!(0,fa.lp)({post:a})?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(ul.wO,{feedUrl:k,post:a,pub:o,sectionId:a.section_id,hasAccessToPrivatePodcastFeed:r||n,fileSrc:a.podcast_url}))}),N9=({expiry:n,podcastName:r,pub:o,postId:a})=>{const _=Sr()(n).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",r," ends ",_,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(la.z,{look:"button",variant:"themed-primary",size:"medium",onClick:()=>{(0,F.redirect)((0,p.getSubscribeUrl)(o,{utm_source:j.UTM_SOURCE.continueYourSupport,utm_medium:j.UTM_MEDIUM.web,utm_content:a,simple:!0,next:document.location.href,addBase:!0}),{local_navigation:!1})}},"Continue your support"))},L9=({freeSignupEmail:n,pub:r,source:o,user:a,onSuccess:_})=>{const A=typeof window!="undefined"&&r.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(Me.Z,{user:a,pub:r,freeSignupEmail:n,source:o,onSuccess:_,useSubscribeLink:A,submitButtonText:(0,Tt.getSubscribeText)(r)}))},Fd=j.UTM_SOURCE.podcastPostHeader,R9=({freeSignupEmail:n,isFreeSubscribed:r,pub:o,user:a})=>{const[_,A]=(0,t.eJ)(!1),[B,k]=(0,t.eJ)(!1),x=(0,t.sO)(null),J=o.section?o.section.description:o.podcast_description,pe=ye=>{if(o.plans){let Pe=(0,p.getSubscribeUrl)(o,{just_signed_up:!0,referral_token:ye.body.referral_token});ye.body.prompt_to_login&&(Pe=`/account/login?redirect=${encodeURIComponent(Pe)}&email=${encodeURIComponent(ye.body.email)}`),document.location.href=Pe}else window.location.reload()},_e=(0,t._)},[A,_]);return(0,t.bt)(()=>{const ye=()=>{const Ce=x.current&&x.current.scrollHeight>x.current.clientHeight;k(_||Ce)};ye();const Pe=(0,F.debounce)(ye);return window.addEventListener("resize",Pe),()=>{window.removeEventListener("resize",Pe)}},[k,x,_]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},J&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:x,"data-testid":"podcast-description",className:s()({"podcast-description--clamped":!_})},J),B&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:_e},!_&&(0,e.h)("span",null,"show more"),_&&(0,e.h)("span",null," show less"))),r?(0,e.h)(ge.Z,{href:(0,p.getSubscribeUrl)(o,{utm_source:Fd}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Tt.getSubscribeText)(o,{isFreeSubscribed:!0})):(0,F.isMobileBrowser)()?(0,e.h)(ge.Z,{href:(0,p.getSubscribeUrl)(o,{utm_source:Fd,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Tt.getSubscribeText)(o)):(0,e.h)(ne.gq,{justifyContent:"center"},(0,e.h)(L9,{freeSignupEmail:n,pub:o,source:Fd,user:a,onSuccess:pe})))};var Ug=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const Wd=({visible:n,className:r=void 0,style:o={}})=>{const[a,_]=(0,t.eJ)(!1),[A,B]=(0,t.eJ)(n);(0,t.d4)(()=>{n?(B(!0),requestAnimationFr})})):_(!1)},[n]),(0,t.0)},[1)}return A?(0,e.h)("div",{className:`${Cu.backdrop} ${a?Cu.backdropVisible:Cu.backdropHidden} ${r}`,onTransitionEnd:k,style:o}):null},x9=({freeSignupEmail:n,isFreeSignup:r,isPaywall:o,post:a,pub:_,magicToken:A,user:B,onChange:k,onClickCommentButton:x,onTopReached:J,playerRef:pe,onFeedChange:_e,videoPlayerRef:ye,reaction_token:Pe})=>{var Ce;const Se=(0,v.isMobile)({checkFirst4:!0}),Ae=!!(B!=null&&B.is_subscribed),Ne=!!(r||B!=null&&B.is_free_subscribed),[Ve,ze]=(0,t.eJ)((Ce=a.podcast_duration)!=null?Ce:0),[Je,Ye]=(0,t.eJ)(null),[ht,wt]=(0,t.eJ)(!1);(0,t.d4)(()=>{if(!Ae&&!Ne)return;(()=>Ug(void 0,null,function*(){const mr=yield Ze().get("/api/v1/subscription/podcast_rss_url").query({token:A,section_id:a.section_id});mr.body.podcast_rss_url&&(Ye(mr.body.podcast_rss_url),_e(mr.body.podcast_rss_url))}))()},[Ne,Ae,A]);constr)},It=!Ne||!Ae&&!!_.plans,At=Ae&&(B==null?void 0:B.subscription_type)==="comp"&&Sr()(B==null?void 0:B.subscription_expiry).subtract(30,"days").isBeforeNow(),xt=Ne&&!Ae&&(B==null?void 0:B.comp_expired_recently),Dt=(0,Tt.getBylineUsers)(a).sort((lr,mr)=>lr.id===_.author_id?-1:mr.id===_.author_id?1:lr.is_guest&&!mr.is_guest?-1:!lr.is_guest&&mr.is_guest?1:(lr.name||"").localeCompare(mr.name||"")),jt=()=>{(0,d.track)(d.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:a.id,type:a.type}),wt(!0)},Jt=o?C_:si.Z;return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)(Wd,{visible:ht,style:{zIndex:1}}),(0,e.h)("div",{className:"container"},(0,e.h)(q,{onVisible:J}),a.videoUpload&&(0,e.h)(Jt,{mediaUpload:a.videoUpload,pub:_,post:a,autoPlay:!1,restorePlaybackLocation:!0,reaction_token:Pe,ref:ye,clippingMode:ht,onClippingModeCancel:()=>wt(!1)}),(0,e.h)(U9,{post:a,podcastDuration:Ve,hideEpisodeImage:!!a.videoUpload}),(0,e.h)(xg,{allowEdit:B==null?void 0:B.is_contributor,allowMobileFooter:!0,isStatic:!1,post:a,postReactionToken:A,pub:_,showDate:!0,showDatetime:!1,user:B,onChange:k,onCommentsClick:x,onClipClick:jt,useWashBackground:!0}),a.videoUpload?null:o&&!(0,Fn.podcastPostIsFreePreview)(a)?(0,e.h)(D9,{post:a}):(0,e.h)(A9,{isFreeSubscribed:Ne,isSubscribed:Ae,post:a,pub:_,magicToken:A,onGetDuration:Ct,isPreview:(0,Fn.podcastPostIsFreePreview)(a),playerRef:pe,feedUrl:Je}),Se&&(0,e.h)(ul.wO,{feedUrl:Je,post:a,pub:_,sectionId:a.section_id,hasAccessToPrivatePodcastFeed:Ae||Ne,fileSrc:a.podcast_url}),_.bylines_enabled&&Dt&&Dt.length?(0,e.h)(u.hs,{direction:"column",gap:24,paddingTop:a.videoUpload&&!Se?0:24},(0,e.h)(u.xv.H4,{translated:!0,color:"pub-primary-text"},"Appears in this episode"),(0,e.h)(Ag,{bylines:Dt,variant:"podcast"})):null,At||xt?(0,e.h)(N9,{expiry:B.subscription_expiry,postId:a.id,podcastName:_.podcast_title,pub:_}):It?(0,e.h)(R9,{freeSignupEmail:n,isFreeSubscribed:Ne,pub:_,user:B}):null))};function U9({post:n,podcastDuration:r,hideEpisodeImage:o}){const{language:a}=(0,l.M1)();return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},!o&&n.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,gt.imginary)(n.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},n.post_date?Sr()(n.post_date).locale(a).standardDate():Sr()().locale(a).standardDate(),r>0&&` \u2022 ${(0,Tt.formatPodcastDuration)(r)}`),n.title&&(0,e.h)("h1",{className:s()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":n.title.length<60,"tw-text-3xl sm:tw-text-3xl":n.title.length>=60&&n.title.length<110,"tw-text-2xl sm:tw-text-2xl":n.title.length>=110&&n.title.length<140,"tw-text-xl sm:tw-text-xl":n.title.length>=140})},n.title),n.subtitle&&(0,e.h)("h3",{className:s()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":n.subtitle.length<110,"tw-text-base":n.subtitle.length>=110})},n.subtitle)))}function lV({post:n,pub:r,user:o,isPaywall:a}){const _=!!(o!=null&&o.is_subscribed),A=!!(o.is_subscribed||o.is_free_subscribed),B="",[k,x]=useState(null);return useEffect(()=>{if(n.videoUpload||!_&&!A)return;(()=>Ug(this,null,function*(){const pe=yield request.get("/api/v1/subscription/podcast_rss_url").query({token:B,section_id:n.section_id});pe.body.podcast_rss_url&&x(pe.body.podcast_rss_url)}))()},[A,_,B]),n.videoUpload?h(VideoPlayer,{mediaUpload:n.videoUpload,pub:r,autoPlay:!1,restorePlaybackLocation:!0}):a&&!podcastPostIsFreePreview(n)?h(PodcastAudioPaywall,{post:n}):h(PodcastPostAudioPlayer,{isFreeSubscribed:A,isSubscribed:_,post:n,pub:r,magicToken:B,isPreview:podcastPostIsFreePreview(n),feedUrl:k})}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=(0,$r.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);var B9=je(77951);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=(0,$r.Z)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),k9={small:"tw-py-2 tw-px-3",medium:"tw-py-3 tw-px-4",large:"tw-py-6 tw-px-4"},F9=({label:n,icon:r,isActive:o=!1,size:a,onClick:_,useSubstackTheme:A=!1,isDisabled:B=!1})=>{const k=k9[a];return(0,e.h)("div",{className:s()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",k,{"tw-cursor-pointer":!B||o,"tw-cursor-not-allowed tw-opacity-50":B&&!o,"tw-border-b-pub-primary-text tw-text-pub-primary-text":o&&!A,"tw-text-pub-secondary-text":!o&&!A,"tw-border-b-substack-primary tw-text-substack-primary":o&&A,"tw-text-substack-secondary":!o&&A,"hover:tw-bg-pub-wash":!A&&!o&&!B,"hover:tw-bg-substack-wash":A&&!o&&!B}),disabled:B,onClick:B?()=>{}:_,role:"button"},typeof r=="function"?r({active:o}):r,(0,e.h)("span",null,n))},W9=({items:n,size:r="large",onSelect:o,activeTab:a,useSubstackTheme:_=!1,className:A})=>(0,e.h)("div",{className:s()("tw-flex",A)},n.map(({key:B,icon:k,label:x,isDisabled:J})=>(0,e.h)(F9,{isActive:B==a,icon:k,onClick:()=>{o(B)},size:r,label:x,useSubstackTheme:_,isDisabled:J}))),j9=({activeTab:n,commentCount:r,onClickTab:o,loadedWithHeaderLink:a,transcription:_,hideComments:A,showPlayers:B,feedUrl:k,pub:x,post:J})=>{const{iString:pe,iPlural:_e}=(0,l.M1)(),[ye,Pe]=(0,t.eJ)(a);return(0,t.d4)(()=>{if(typeof window=="undefined"||ye){Pe(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${n}`):window.location.hash=`#${n}`},[n]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container tw-flex tw-justify-between tw-items-center"},(0,e.h)(W9,{items:[{key:"details",icon:(0,e.h)(Bg,{height:18}),label:pe("Episode details")},...A?[]:[{key:"comments",icon:({active:Ce})=>(0,e.h)(Ts.Z,{className:s()("tw-fill-transparent",Ce?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:r===0?pe("Comments"):_e("%1 comment","%1 comments",r)}],..._?[{key:"transcription",icon:(0,e.h)(B9.Z,{height:18}),label:pe("Transcript")}]:[]],onSelect:o,activeTab:n}),B&&k&&(0,e.h)(ul.wO,{feedUrl:k,post:J,pub:x,icon:(0,e.h)(wu,{size:16}),fileSrc:J.podcast_url})))},V9=({children:n,href:r})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:r,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},n))))),H9=({post:n,compAlreadyExpired:r=!1})=>{const o=`${fo.Substitutions.CHECKOUT_URL}&utm_medium=${j.UTM_MEDIUM.email}&utm_campaign=${j.UTM_CAMPAIGN.continueYourSupport}&utm_content=${n.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),r?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",fo.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(V9,{href:o},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var kg=je(43498);const cl={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var K9=Object.defineProperty,$9=Object.defineProperties,G9=Object.getOwnPropertyDescriptors,Fg=Object.getOwnPropertySymbols,z9=Object.prototype.hasOwnProperty,Z9=Object.prototype.propertyIsEnumerable,Wg=(n,r,o)=>r in n?K9(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Y9=(n,r)=>{for(var o in r||(r={}))z9.call(r,o)&&Wg(n,o,r[o]);if(Fg)for(var o of Fg(r))Z9.call(r,o)&&Wg(n,o,r[o]);return n},J9=(n,r)=>$9(n,G9(r));const X9=({postType:n,crossPostInfo:{introText:r,crossPostedPub:o,crossPostingByLine:a}})=>{const _=a[0];return(0,e.h)(ne.tu,{className:s()(cl.container,n==="podcast"&&cl.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(ne.hs,{className:cl.attribution,gap:4,alignItems:"center"},(0,e.h)(kg.Z,{className:cl.icon,height:16})," ",(0,e.h)(i.xv.Meta,{translated:!0,color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:cl.pub,href:(0,gt.getBaseUrl)(o)},I18N.p(o.name)))),(0,e.h)(i.xv.B2,{color:"pub-primary-text"},r," - ",(0,e.h)(Ah.default,J9(Y9({},_),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var jd=je(80012),Q9=je(12297),q9=je.n(Q9),eN=Object.defineProperty,tN=Object.defineProperties,rN=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,nN=Object.prototype.hasOwnProperty,oN=Object.prototype.propertyIsEnumerable,Vg=(n,r,o)=>r in n?eN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,aN=(n,r)=>{for(var o in r||(r={}))nN.call(r,o)&&Vg(n,o,r[o]);if(jg)for(var o of jg(r))oN.call(r,o)&&Vg(n,o,r[o]);return n},iN=(n,r)=>tN(n,rN(r));const Hg=n=>(0,e.h)(Te.l,iN(aN({},n),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var sN=Object.defineProperty,lN=Object.defineProperties,uN=Object.getOwnPropertyDescriptors,Su=Object.getOwnPropertySymbols,Kg=Object.prototype.hasOwnProperty,$g=Object.prototype.propertyIsEnumerable,Gg=(n,r,o)=>r in n?sN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,cN=(n,r)=>{for(var o in r||(r={}))Kg.call(r,o)&&Gg(n,o,r[o]);if(Su)for(var o of Su(r))$g.call(r,o)&&Gg(n,o,r[o]);return n},dN=(n,r)=>lN(n,uN(r)),fN=(n,r)=>{var o={};for(var a in n)Kg.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Su)for(var a of Su(n))r.indexOf(a)<0&&$g.call(n,a)&&(o[a]=n[a]);return o};const pN=n=>{var r=n,{color:o="#B6B6B6",height:a=18}=r,_=fN(r,["color","height"]);return(0,e.h)(Te.l,dN(cN({},_),{height:a,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:o,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:o,stroke:o}))};var hN=je(15440);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=(0,$r.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var mN=Object.defineProperty,_N=Object.defineProperties,gN=Object.getOwnPropertyDescriptors,Zg=Object.getOwnPropertySymbols,vN=Object.prototype.hasOwnProperty,yN=Object.prototype.propertyIsEnumerable,Yg=(n,r,o)=>r in n?mN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,EN=(n,r)=>{for(var o in r||(r={}))vN.call(r,o)&&Yg(n,o,r[o]);if(Zg)for(var o of Zg(r))yN.call(r,o)&&Yg(n,o,r[o]);return n},bN=(n,r)=>_N(n,gN(r));const PN=n=>(0,e.h)(Te.l,bN(EN({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(zg,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var ON=je(11762);class CN extends e.Component{onShare(r){this.props.position&&(0,d.track)(d.EVENTS.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(r&&r.stopPropagation(),this.props.sharedShareDialog?r.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:r,linkClassName:o,user:a,pub:_,post:A,reaction_token:B,height:k,onChange:x,isStatic:J,children:pe,sharedShareDialog:_e,noIcon:ye}){let Pe;return A.share_url_override?Pe=A.share_url_override:J?A?Pe=fo.Substitutions.SHARE_URL:Pe=fo.Substitutions.SHARE_PUB_URL:Pe="javascript:void(0)",(0,e.h)("span",{className:r},(0,e.h)("a",{href:Pe,onClCe),className:o},!ye&&(0,e.h)(xd.Z,{className:"recommend-icon post-meta-icon",isStatic:J,height:k,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:J?1:1.5}),pe),!J&&!_e&&(0,e.h)(ki.ZP,{=Ce,user:a,pub:_,post:A,reaction_token:B,onChange:x}))}}const wN=({children:n,content:r,baseRef:o=void 0,portalClass:a="",className:_="",style:A=void 0})=>{const B=(0,t.sO)(null),k=(0,t.sO)(null);return r?(0,e.h)("div",{ref:B,className:_,style:A},n,(0,e.h)(H_,{baseRef:o||B,hoverToggle:!0,onOpen:()=>{var x;return(x=k.current)==null?void 0:x.open()},onCl()},className:a},(0,e.h)(Zo.Fx,{ref:k,noList:!0,className:"explanation"},r))):n};var SN=je(73413),TN=Object.defineProperty,IN=Object.defineProperties,MN=Object.getOwnPropertyDescriptors,Jg=Object.getOwnPropertySymbols,DN=Object.prototype.hasOwnProperty,AN=Object.prototype.propertyIsEnumerable,Xg=(n,r,o)=>r in n?TN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Vd=(n,r)=>{for(var o in r||(r={}))DN.call(r,o)&&Xg(n,o,r[o]);if(Jg)for(var o of Jg(r))AN.call(r,o)&&Xg(n,o,r[o]);return n},Qg=(n,r)=>IN(n,MN(r));const{getPaidOrFoundingTierNameForPost:NN}=je(74806),LN=46438;class qg extends e.Component{constructor(r,o){if(super(r,o),this.withAuthorLine=(a,_)=>{const{pub:A,post:B,showAuthor:k,showPhoto:x,getConfigFor:J}=a,pe=B.type==="adhoc_email",_e=(0,Tt.getBylineUsers)(B).length,ye=_e===1,Pe=ye&&(0,Tt.getBylineUsers)(B)[0],Ce=ye&&Pe.is_guest&&!J("dont_show_guest_byline")&&!pe,Se=a.showDate||a.showDatetime,Ae=!B.is_published&&!a.inThreadHead&&Se&&!pe,Ne=a.isFreePreview&&a.showAudience&&Se&&!pe,Ve=(0,cr.isFoundingAudience)(B.audience)&&a.showAudience&&!Ne&&Se&&!pe&&!(0,Fn.hasFreePodcastUrl)({post:B}),ze=(0,cr.isPaidAudience)(B.audience)&&a.showAudience&&!Ve&&!Ne&&Se&&!pe&&!(0,Fn.hasFreePodcastUrl)({post:B}),Je=(0,xn.F6)({pub:A,post:B,showAuthor:k,showPhoto:x});return(0,e.h)(on.YF,{width:"100%",className:s()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(on.i$,null,(0,e.h)(on.zK,{gap:4},(0,e.h)(i.xv.Meta,{color:"primary",className:wh.A.postAuthor},_e>0?(0,Tt.oxfordComma)((0,Tt.getBylineUsers)(B).map(Ye=>(0,e.h)(i.xv.Meta,{as:"a",href:(0,p.getProfileUrl)(Ye,A,{base:a.isStatic}),color:"primary",style:"text-decoration: none"},Ye.name))):(0,Tt.getPrintedByline)(A,B))),(0,e.h)(on.zK,{gap:4},(0,e.h)(i.xv.Meta,null,(a.showDate||a.showDatetime)&&B.post_date&&(0,e.h)("time",{dateTime:Sr()(B.post_date).toISOString()},Sr()(B.post_date).locale(this.context.language).standardDate())),ze&&(0,e.h)(on.zK,{gap:4},(0,e.h)(i.xv.Meta,null,"\u2219"),(0,e.h)(i.xv.Meta,{color:"accent-purple",translated:!0},"Paid")),Ve&&(0,e.h)(on.zK,{gap:4},(0,e.h)(i.xv.Meta,null,"\u2219"),(0,e.h)(i.xv.Meta,{color:"accent-purple"},this.context.iString(NN(A,B)))),Ne&&(0,e.h)(on.zK,{gap:4},(0,e.h)(i.xv.Meta,null,"\u2219"),(0,e.h)(i.xv.Meta,{color:"accent-purple",translated:!0},"Preview")),Ce&&(0,e.h)(on.zK,{gap:4},(0,e.h)(i.xv.Meta,null,"\u2219"),(0,e.h)(i.xv.Meta,{translated:!0},"Guest post")),Ae&&(0,e.h)(on.zK,{gap:4},(0,e.h)(i.xv.Meta,null,"\u2219"),(0,e.h)(i.xv.Meta,{translated:!0},"Draft"))))),Je&&(0,e.h)("td",{align:"right"},(0,e.h)(on.zK,{gap:4},_e>0&&(0,Tt.getBylineUsers)(B).map((Ye,ht)=>ht<4&&(0,e.h)("a",{href:(0,p.getProfileUrl)(Ye,A,{base:a.isStatic})},(0,e.h)(on.NS,{src:Ye.photo_url,size:_e>1?32:40})))))))},typeof window!="undefined"&&(window!=null&&window.matchMedia)){const a=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:a.matches};const _=A=>{this.unmounted||this.setState({isMobileWidth:A.matches})};a.addEventListener?a.addEventListener("change",_):a.addListener&&a.addListener(!0}render({pub:r,post:o,showAuthor:a,showPhoto:_,fromPostPage:A}){return(0,xn.F6)({pub:r,post:o,showAuthor:a,showPhoto:_})||(0,xn.Cz)({pub:r,post:o,showAuthor:a})||(0,xn.z5)({pub:r,post:o,showAuthor:a})?this.withAuthorLine(this.props,this.state):(0,e.h)(UN,Qg(Vd({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:A?"post-header-compact":"post-preview"}))}}qg.contextType=l.wj;const RN=(0,st.xY)(qg),xN=({shouldShowFullWidthUfi:n,isMobileWidth:r,children:o})=>n?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},o):r?o:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},o),mV=({additionalCommentCount:n,user:r,pub:o,post:a,showReactions:_,showComments:A,reaction_token:B,onChange:k,shareTooltipText:x,fromPostPage:J,onClickCommentButton:pe,reactors:_e,isStatic:ye,base_url:Pe,className:Ce,showShare:Se})=>{_=_&&o.community_enabled&&a.slug&&!a.is_draft;const Ae=useMediaQuery({maxWidth:540}),{getSettingFor:Ne}=usePublicationSettings(),Ve=!ye&&(a==null?void 0:a.id)&&o.community_enabled&&!a.is_draft&&a.slug,ze=sum(Object.values((a==null?void 0:a.reactions)||{})),Je=Ve&&!!ze&&_,Ye=!a.is_draft&&canPostBeRestacked(r,{enable_restacking:!!Ne("enable_restacking")},a,o,!1),ht=Ye;return h(xN,{shouldShowFullWidthUfi:ht,isMobileWidth:Ae},h(PostUfi,{style:"button",post:a,pub:o,user:r,postReactionToken:B,hideReactions:!_||Ae&&Ye,hideComments:!A||Ae&&Ye,hideSavePost:Ae&&Ye,hideShare:!Se||Ae&&Ye,useShareLabel:Ae&&!ht,labelStyle:Ae&&!ht?"labels":"counts-or-none",onChange:k,additionalCommentCount:n,showShare:Se,onCommentsClick:pe,position:ht?"post-footer-full-width":"post-footer",showRestackButton:Ye}),Je&&h(Fragment,null,(ht||Ae)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(Kd,{postId:a.id,totalLikes:ze,reactors:ps(_e,r,!!a.reaction,o),loading:!_e,hoverProfiles:!0,enableModal:!0,showFaces:o.post_reaction_faces_enabled}))))};function Hd({pub:n,post:r,user:o,reactors:a,secondaryFaces:_}){var A;return(0,e.h)(Kd,{postId:r.id,totalLikes:Math.max((A=r.reactions["\u2764"])!=null?A:0,(a!=null?a:[]).length),reactors:ps(a,o,!!r.reaction,n),secondaryFaces:ps(_,o,!!r.restacked,n),totalRestacks:r.restacks||0,loading:!a,hoverProfiles:!0,enableModal:!0,showFaces:n.post_reaction_faces_enabled})}function _V(n){const{post:r,user:o,pub:a}=n,{result:_,isLoading:A}=useFetch({pathname:`/api/v1/post/${r.id}/reactors`,auto:!0,deps:[r.id]}),{result:B,isLoading:k}=useFetch({pathname:`/api/v1/post/${r.id}/restackers`,auto:!0,deps:[r.id]});return h(Hd,Vd({reactors:ps(_,o,!!r.reaction,a),secondaryFaces:ps(B,o,!!r.restacked,a)},n))}function ps(n,r,o,a){if(!n)return[];if(r){const _=n.findIndex(A=>A.id===r.id);o&&(r.subscription_visibility!=="private"||a.id===LN)&&r.activity_likes_enabled&&_<0?n.splice(0,0,{id:r.id,name:r.name,photo_url:r.photo_url}):!o&&_>=0&&n.splice(_,1)}return n}function UN({additionalCommentCount:n=0,className:r,user:o,pub:a,post:_,showAudience:A=!1,showDate:B=!1,showEmailSent:k=!1,showDatetime:x=!1,showReactions:J=!0,showComments:pe=!0,showShare:_e=!1,showRestack:ye=!1,showPublicationName:Pe=!1,hidePinning:Ce=!1,reaction_token:Se,onClick:Ae,onChange:Ne,isStatic:Ve=!1,isFreePreview:ze=!1,allowSendEmail:Je=!1,allowEdit:Ye=!1,shareTooltipText:ht,showPins:wt,sharedShareDialog:Ct,showUpdatedIcons:It,editOnRightSide:At=!1,onClickCommentButton:xt,reactors:Dt,showAuthor:jt,showPhoto:Jt,fromPostPage:lr,isMobileWidth:mr,actionBarStyle:Xt="post-header-compact"}){var Bt;const ur=a.id===_.publication_id?a:void 0,tr=ps(Dt,o,!!_.reaction,a),qt=Xt==="post-footer",Rt=qt?20:Xt==="post-preview"?14:18,Ut=Xt==="post-header-large"?20:Xt==="post-preview"?16:Xt==="thread-head"||qt?14:18;let Ft;_.comment_url_override?Ft=_.comment_url_override:Ve?Ft=`${fo.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.email}`:Ft=(0,p.getPostUrl)(a,_,{comments:!0});const kt=n+((Bt=_.comment_count)!=null?Bt:0),vt=pe&&!ze&&(0,Tt.showCommentsOnPost)({publication:a,post:_})&&_.type!=="restack",Cr=J&&!ze&&!["adhoc_email","restack"].includes(_.type),sr=(B||x)&&_.post_date&&!_.is_draft,jr=k?!!_.email_sent_at:null,Jr=(0,vp.S)({user:o,noBase:!1}),gn=Vr=>{var br;(br=Vr.post)!=null&&br.reaction&&o&&Jr({user:o}),Ne(Vr)},xr=(0,e.h)(Fi.dJ,{user:o,pub:a,post:_,token:Se,onChange:gn,height:Ut,isStatic:Ve,isFreePreview:ze,alt:"Like",buttonStyle:qt,className:"post-meta-icon like-reaction-button",hideReactionCount:qt&&!Ve}),un=[k&&jr&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(Hg,{className:"post-meta-icon",height:Rt,isStatic:Ve})},wt&&_.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(ON.Z,{className:"post-meta-icon",isStatic:Ve})},_.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(Rg,{className:"post-meta-icon",isStatic:Ve})}:A&&(0,cr.isPaidAudience)(_.audience)&&{className:"audience-lock",content:(0,e.h)(pN,{color:"#666666",height:Rt,isStatic:Ve})},(0,xn.Er)({pub:a,post:_,showAuthor:jt,showPhoto:Jt,isMobileWidth:mr})&&{className:"author",content:(0,Tt.getBylineUsers)(_).length>0?(0,Tt.oxfordComma)((0,Tt.getBylineUsers)(_).map(Vr=>(0,e.h)(wa.ProfileHoverCard,{disabled:Ve,subject:Vr,utmSource:"byline"},(0,e.h)("a",{href:(0,p.getProfileUrl)(Vr,a,{base:Ve}),onClick:br=>br.stopPropagation()},Vr.name)))):(0,Tt.getPrintedByline)(a,_)},Pe&&{className:"post-publication-name",content:a.name},It&&!At&&Ye&&!Ve&&o&&o.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:Vr=>Vr.stopPropagation(),content:(0,e.h)(jd.l,{pub:a,post:_,iconHeight:Rt,hidePinning:Ce,user:o,emailSent:jr,allowSendEmail:Je,showUpdatedIcons:It})},sr&&{className:"post-date",title:Sr()(_.post_date).toISOString(),content:(0,e.h)(i.xv.Meta,null,(0,e.h)("time",{dateTime:Sr()(_.post_date).toISOString()},(0,xn.fh)({post:_,showDatetime:x,isStatic:Ve,fromPostPage:lr,showReactions:Cr})))},(ur==null?void 0:ur.community_enabled)&&_.slug&&Cr&&!_.is_draft&&{className:"icon",onClick:Vr=>Vr.stopPropagation(),content:!qt&&!Ve&&tr.length?(0,e.h)(wN,{portalClass:"facepile-tooltip",content:(0,e.h)(Kd,{postId:_.id,totalLikes:q9()(Object.values(_.reactions)),reactors:tr,loading:!Dt})},xr):xr},o&&{className:"icon",onClick:Vr=>Vr.stopPropagation(),content:(0,e.h)(BN,{post:_,isPostFooter:qt,isStatic:Ve,lucideIconHeight:Ut,onChange:Ne})},(ur==null?void 0:ur.community_enabled)&&_.slug&&vt&&!_.is_draft&&{className:"icon",onClick:Vr=>Vr.stopPropagation(),content:(0,e.h)("a",{className:qt?"post-meta-button button":"",href:Ft,native:ur&&(0,p.isPublishPath)(document.location.pathname,ur),onClick:xt},(0,e.h)(Ts.Z,{className:"comment-icon post-meta-icon",isStatic:Ve,height:Ut,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:Ve?1:1.5,ampProps:{layout:"fixed"}}),!kt&&qt&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),kt>0&&(0,e.h)("span",{className:"comment-count"},(0,Tt.numberToString)(kt)))},ye&&!qt&&{className:"icon",onClick:Vr=>Vr.stopPropagation(),content:(0,e.h)("a",{href:fo.Substitutions.RESTACK_URL,className:qt?"button post-meta-button":void 0},(0,e.h)(PN,{className:"recommend-icon post-meta-icon",isStatic:Ve,height:Ut,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:Ve?1:1.5,ampProps:{layout:"fixed"}}),qt&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},_e&&_.audience!=="only_free"&&!_.is_draft&&!ze&&{className:"icon",onClick:Vr=>Vr.stopPropagation(),content:(0,e.h)(CN,{user:o,pub:ur,post:_,reaction_token:Se,height:Ut,onChange:Ne,isStatic:Ve,sharedShareDialog:Ct,position:Xt==="post-footer"?"post-footer":"post-header",linkClassName:qt?"button post-meta-button":void 0},qt&&(0,e.h)("span",{className:"meta-button-label"},"Share"),ht&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},ht)))},(!It||At)&&Ye&&!Ve&&o&&o.is_contributor&&{className:"icon edit-icon",onCln(),content:(0,e.h)(jd.l,{pub:a,post:_,iconHeight:Rt,hidePinning:Ce,user:o,emailSent:jr,allowSendEmail:Je,showUpdatedIcons:It})}].fil!Vr);return Ve?(0,e.h)("table",{className:s()("post-meta custom",{big:qt},r),cellpadding:"0",cellspacing:"0",onClick:Ae},(0,e.h)("tr",null,un.map(({className:Vr,title:br,onClick:kr,content:Fr})=>(0,e.h)("td",{className:s()("post-meta-item",Vr),title:br,onClick:kr},Fr)))):(0,e.h)("div",{className:s()("post-meta post-meta-actions-web custom",{big:qt},r),onClick:Ae},un.map(({className:Vr,title:br,onClick:kr,content:Fr})=>(0,e.h)("div",{className:s()("post-meta-item",Vr),title:br,onClick:kr},Fr)))}function Kd({className:n,postId:r,reactors:o,secondaryFaces:a,totalLikes:_,totalRestacks:A,loading:B,hoverProfiles:k,enableModal:x,showFaces:J}){const pe=_>0?(0,Tt.pluralize)(_,"Like"):"";let _e="";return A>0&&(_e=`${(0,Tt.pluralize)(A,"Restack")}`),(0,e.h)(tl.ZP,{className:n,loading:B,faces:o,secondaryFaces:a,pileLabel:pe,modalLabel:pe,secondaryLabel:_e,secondaryHref:(0,fg.Oi)(r,{noBase:SN.L,urlParams:{utm_source:j.UTM_SOURCE.substack,utm_content:j.UTM_CONTENT.facepileRestacks}}),totalCount:_,totalRestacks:A,hoverProfiles:k,enableModal:x,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,d.track)(d.EVENTS.POST_REACTIONS_MODAL_VIEWED,{post_id:r})},showFaces:J})}function BN({post:n,isPostFooter:r,isStatic:o,isSaved:a,lucideIconHeight:_,onChange:A}){const{onSave:B,isSaved:k}=(0,xn.vk)({post:n,isSaved:n.is_saved}),x=()=>{const J=B();A({post:Qg(Vd({},n),{is_saved:J})})};return(0,e.h)("a",{className:s()("post-meta-save-button",r?"post-meta-button button":"",{isSaved:k}),href:o&&fo.Substitutions.SAVE_POST_URL,onClick:x},(0,e.h)(hN.Z,{isStatic:o,height:_,stroke:"#757575",strokeWidth:o?1:1.5}),r&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=(0,$r.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var FN=Object.defineProperty,WN=Object.defineProperties,jN=Object.getOwnPropertyDescriptors,ev=Object.getOwnPropertySymbols,VN=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,tv=(n,r,o)=>r in n?FN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,KN=(n,r)=>{for(var o in r||(r={}))VN.call(r,o)&&tv(n,o,r[o]);if(ev)for(var o of ev(r))HN.call(r,o)&&tv(n,o,r[o]);return n},$N=(n,r)=>WN(n,jN(r));const GN=n=>(0,e.h)(Te.l,$N(KN({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(kN,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var zN=Object.defineProperty,ZN=Object.defineProperties,YN=Object.getOwnPropertyDescriptors,rv=Object.getOwnPropertySymbols,JN=Object.prototype.hasOwnProperty,XN=Object.prototype.propertyIsEnumerable,nv=(n,r,o)=>r in n?zN(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,QN=(n,r)=>{for(var o in r||(r={}))JN.call(r,o)&&nv(n,o,r[o]);if(rv)for(var o of rv(r))XN.call(r,o)&&nv(n,o,r[o]);return n},qN=(n,r)=>ZN(n,YN(r));const e6=n=>(0,e.h)(Te.l,qN(QN({},n),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(vh,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),ov=({post:n})=>{const r=(0,L.So)().getSettingFor("enable_prev_next_nav"),o=(0,Zr.XA)(),{iString:a}=(0,l.M1)();return!r||!(n!=null&&n.previous_post_slug)&&!(n!=null&&n.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,n.previous_post_slug&&(0,e.h)(xn.Ng,{icon:(0,e.h)(GN,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:o,onClick:()=>{(0,d.track)(d.EVENTS.PREVIOUS_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},a("Previous")))),(0,e.h)("div",null,n.next_post_slug&&(0,e.h)(xn.Ng,{icon:(0,e.h)(e6,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:o,onClick:()=>{(0,d.track)(d.EVENTS.NEXT_POST_LINK_CLICKED,{post_id:n.id}),(0,y.route)(`/p/${n.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},a("Next")))))};var t6=Object.defineProperty,r6=Object.defineProperties,n6=Object.getOwnPropertyDescriptors,Tu=Object.getOwnPropertySymbols,av=Object.prototype.hasOwnProperty,iv=Object.prototype.propertyIsEnumerable,sv=(n,r,o)=>r in n?t6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,o6=(n,r)=>{for(var o in r||(r={}))av.call(r,o)&&sv(n,o,r[o]);if(Tu)for(var o of Tu(r))iv.call(r,o)&&sv(n,o,r[o]);return n},a6=(n,r)=>r6(n,n6(r)),i6=(n,r)=>{var o={};for(var a in n)av.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Tu)for(var a of Tu(n))r.indexOf(a)<0&&iv.call(n,a)&&(o[a]=n[a]);return o};const s6=n=>{var r=n,{stroke:o="black",height:a=19,width:_=19}=r,A=i6(r,["stroke","height","width"]);return(0,e.h)(Te.l,a6(o6({},A),{name:"AdhocEmailIcon",svgParams:{height:a,width:_,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:o}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:o}))};var l6=Object.defineProperty,u6=Object.defineProperties,c6=Object.getOwnPropertyDescriptors,Iu=Object.getOwnPropertySymbols,lv=Object.prototype.hasOwnProperty,uv=Object.prototype.propertyIsEnumerable,cv=(n,r,o)=>r in n?l6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,d6=(n,r)=>{for(var o in r||(r={}))lv.call(r,o)&&cv(n,o,r[o]);if(Iu)for(var o of Iu(r))uv.call(r,o)&&cv(n,o,r[o]);return n},f6=(n,r)=>u6(n,c6(r)),p6=(n,r)=>{var o={};for(var a in n)lv.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Iu)for(var a of Iu(n))r.indexOf(a)<0&&uv.call(n,a)&&(o[a]=n[a]);return o};const h6=n=>{var r=n,{stroke:o="black",height:a=19,width:_=19}=r,A=p6(r,["stroke","height","width"]);return(0,e.h)(Te.l,f6(d6({},A),{name:"NewsletterIcon",svgParams:{height:a,width:_,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:o,"stroke-linecap":"round","stroke-linejoin":"round"}))};var m6=Object.defineProperty,_6=Object.defineProperties,g6=Object.getOwnPropertyDescriptors,Mu=Object.getOwnPropertySymbols,dv=Object.prototype.hasOwnProperty,fv=Object.prototype.propertyIsEnumerable,pv=(n,r,o)=>r in n?m6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,v6=(n,r)=>{for(var o in r||(r={}))dv.call(r,o)&&pv(n,o,r[o]);if(Mu)for(var o of Mu(r))fv.call(r,o)&&pv(n,o,r[o]);return n},y6=(n,r)=>_6(n,g6(r)),E6=(n,r)=>{var o={};for(var a in n)dv.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Mu)for(var a of Mu(n))r.indexOf(a)<0&&fv.call(n,a)&&(o[a]=n[a]);return o};const b6=n=>{var r=n,{stroke:o="black",height:a=19,width:_=19}=r,A=E6(r,["stroke","height","width"]);return(0,e.h)(Te.l,y6(v6({},A),{name:"VideoIcon",svgParams:{height:a,width:_,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:o,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:o,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:o}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:o}),(0,e.h)("path",{d:"M8 4L11 7",stroke:o}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:o})))};var P6=Object.defineProperty,Du=Object.getOwnPropertySymbols,hv=Object.prototype.hasOwnProperty,mv=Object.prototype.propertyIsEnumerable,_v=(n,r,o)=>r in n?P6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,hs=(n,r)=>{for(var o in r||(r={}))hv.call(r,o)&&_v(n,o,r[o]);if(Du)for(var o of Du(r))mv.call(r,o)&&_v(n,o,r[o]);return n} o};const C6=n=>{var r=n,{postType:o}=r,a=O6(r,["postType"]);switch(o){case"newsletter":return(0,e.h)(h6,hs({},a));case"adhoc_email":return(0,e.h)(s6,hs({},a));case"thread":return(0,e.h)(n_,hs({},a));case"podcast":return(0,e.h)(q0,hs({},a));case"video":return(0,e.h)(b6,hs({},a));case"restack":return(0,e.h)(kg.Z,hs({},a));default:return console.warn(`Unrecognized post type: [${o}]`),null}};var w6=Object.defineProperty,gv=Object.getOwnPropertySymbols,S6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,vv=(n,r,o)=>r in n?w6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,yv=(n,r)=>{for(var o in r||(r={}))S6.call(r,o)&&vv(n,o,r[o]);if(gv)for(var o of gv(r))T6.call(r,o)&&vv(n,o,r[o]);return n},I6=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const Au=500,M6={PUBLICATION:"publication",CHOOSE:"choose"},D6=({pubToRecommendBack:n,recommendingPub:r,recommendedPubs:o,setStep:a,close:_,setLoading:A,source:B})=>{const{iString:k,iTemplate:x}=(0,l.M1)(),[J,pe]=(0,t.eJ)(null);(0,t.d4)(()=>{var ye;J==null&&(o!=null&&o.find(({id:Pe})=>Pe===n.id))&&pe((ye=o==null?void 0:o.f.id))==null?void 0:ye.blurb)},[J,o,n.id]);const _e=(0,Tt.getByLine)(n);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(ja.Z,{pub:n,logo_url:n.logo_url,size:84}),(0,e.h)("h2",null,x`Recommend ${n.name}`),n.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},n.hero_text),(0,e.h)("p",{className:"pub-author-subs"},_e?x`By ${_e}`:null,_e&&n.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,n.rankingDetail),(0,e.h)("p",{className:"why-recommend"},x`Why are you recommending ${n.name}? (optional)`),(0,e.h)("textarea",yv({placeholder:k("Share why your readers might enjoy it..."),onChae)},value:J},L_.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},k("Recommendations are shown to readers after they subscribe to your publication.")," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,d.track)(d.EVENTS.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,k("Learn more")))),(0,e.h)("button",{className:s()("continue-button button primary",{disabled:((J==null?void 0:J.length)||0)>Au}),disabled:((J==null?void 0:J.length)||0)>Au,title:((J==null?void 0:J.length)||0)>Au?x`Please enter a description shorter than ${Au} characters`:"",onClick:()=>I6(void 0,null,function*(){yield Ze().put("/api/v1/recommendations").send(yv({recommended_publication_id:n.id,recommending_publication_id:r.id,source:B||"recommendation_notification_email",suggested:!1},!!J&&{description:J.length>=2?J:null})),o!=null&&o.fil.id).length?_():a(M6.CHOOSE),A?(A(!0),_()):((0,F.redirect)("/publish/settings/recommendations"),(0,ai.ZP)(x`Started recommending ${n.name}`,{timeout:1500}))})},k("Continue"))))};var A6=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const N6=({pub:n})=>{const[r,o]=(0,t.eJ)(!0),[a,_]=(0,t.eJ)(null),[A,B]=(0,t.eJ)(!1),k=(0,t.sO)(null),x=()=>{k.current.close()};if((0,t.d4)(()=>{!a&&r&&(()=>A6(void 0,null,function*(){try{const _e=(yield Ze().get("/api/v1/publication_user/default")).body;if(_(_e),!_e||_e.id===n.id){B(!0),o(!1);return}const ye=yield Ze().get(`/api/v1/recommendations/from/${_e.id}/to/${n.id}`);B(!!ye.body),o(!1)}catch(pe){console.error("Failed to load recommend cta: ",pe)}}))()},[n,r,o,a,_]),!(r||A||a&&a.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(ja.Z,{pub:n,size:54,openInNewTab:!0,logo_url:n.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",n.name," to the readers of ",a.name),(0,e.h)("p",{className:"publication-hero-text"},n.hero_text),(0,e.h)(ge.Z,{className:s()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,d.track)(d.EVENTS.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:n,recommending_pub_id:a==null?void 0:a.id}),k.current.isOpen()?k.current.close():k.current.open()}},"Recommend")),(0,e.h)(L6,{pubToRecommend:n,recommendingPub:a,setLoading:o,setStep:x,ref:k}))};class L6 extends Gr"}renderChildren(){return(0,e.h)(D6,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:r=>{this.props.setLoading(r),(0,ai.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var R6=je(55886);const Da={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var x6=Object.defineProperty,Ev=Object.getOwnPropertySymbols,U6=Object.prototype.hasOwnProperty,B6=Object.prototype.propertyIsEnumerable,bv=(n,r,o)=>r in n?x6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Pv=(n,r)=>{for(var o in r||(r={}))U6.call(r,o)&&bv(n,o,r[o]);if(Ev)for(var o of Ev(r))B6.call(r,o)&&bv(n,o,r[o]);return n},k6=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const F6=300,W6=({pub:n,post:r,isTest:o})=>{const[a,_]=(0,t.eJ)(!1),[A,B]=(0,t.eJ)(!1),[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)(""),[_e,ye]=(0,t.eJ)([]),[Pe,Ce]=(0,t.eJ)(200),[Se,Ae]=(0,t.eJ)(0),Ne=(0,t.sO)(null),Ve=(0,Zr.XA)(),ze=`pub-${n.id}-subscribe-prompt-next-shown-at`,Je=`pub-${n.id}-takeover-next-shown-at`,Ye=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,ht=document.getElementsByClassName("available-content"),wt=ht.length>0?ht[0].scrollHeight:0;let Ct=600;Ct=Math.max(Math.min(Ct,wt-Ye),600),(()=>{var Ut;const{height:Ft,width:kt}=((Ut=Ne.current)==null?void 0:Ut.getBoundingClientRect())||{height:0,width:0};Ce(typeof window!="undefined"&&window&&Ne.current?(window.innerHeight-Ft)/2:200),Ae(typeof window!="undefined"&&window&&Ne.current?(window.innerWidth-kt)/2:0)})();const[At,xt]=(0,t.eJ)(Ye+Math.max(Pe,Ct)),[Dt,jt]=(0,t.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[Jt,lr]=(0,t.eJ)("absolute"),[mr,Xt]=(0,t.eJ)(Jt==="fixed"||Dt>At-Ye),Bt=Jt==="fixed"?60:Math.min(Math.max((Dt-At+Ye)/(Ye-Pe)*60,0),60),ur=(0,t.I4)(()=>{!Ve&&Dt>=At-F6&&B(!0)},[Dt,Ve,At,Pe,B]);(0,t.d4)(()=>{if(o)return;let Ut=!0;wt<=1.5*Ye&&(_(!0),Ut=!1);let Ft=null;if(document!=null&&document.referrer){try{Ft=new URL(document.referrer)}catch(kt){}((Ft==null?void 0:Ft.hostname)==="news.ycombinator.com"||(Ft==null?void 0:Ft.hostname)==="hckrnews.com")&&(_(!0),Ut=!1)}(0,w.mM)(ze)>Date.now()&&_(!0)},[]),(0,t.d4)(()=>{mr&&(a||((0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_SHOWN,{post_id:r.id}),(0,w.ex)(ze,Sr()().add(1,"hour").valueOf()),(0,w.ex)(Je,Sr()().add(1,"hour").valueOf())))},[mr,a]),(0,t.d4)(()=>{A&&((0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_DISMISSED,{post_id:r.id}),(0,w.ex)(ze,Sr()().add(1,"day").valueOf()),(0,w.ex)(Je,Sr()().add(1,"hour").valueOf()))},[A]);const tr=Ut=>{window.location.href=(0,p.getPostUrl)(n,r,{urlParams:{subscribe_prompt:Ut}})},qt=(0,t.I4)(Ut=>k6(void 0,null,function*(){var Ft,kt,vt,Cr,sr;if(!k){x(!0),ye([]),(0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:r.id});try{const jr=yield Ze().post("/api/v1/free").send({email:Ut,source:"post-subscribe-prompt"});(0,d.signup)(),n.payments_state!=="enabled"&&!n.has_recommendations?tr("free"):document.location.href=(0,p.getSubscribeUrl)(n,Pv(Pv({utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.postSubscribePrompt,utm_content:r&&r.id,simple:!0,just_signed_up:!0,next:(0,p.getPostUrl)(n,r),requires_confirmation:jr.body.requires_confirmation?"true":""},jr.body.subscription_id&&{subscription_id:jr.body.subscription_id}),jr.body.referral_token&&{referral_token:jr.body.referral_token}))}catch(jr){(kt=(Ft=jr==null?void 0:jr.response)==null?void 0:Ft.body)!=null&&kt.error&&typeof jr.response.body.error=="string"?ye([jr.response.body.error]):(Cr=(vt=jr==null?void 0:jr.response)==null?void 0:vt.body)!=null&&Cr.errors&&Array.isArray(jr.response.body.errors)&&jr.response.body.errors.length>0&&typeof((sr=jr.response.body.errors[0])==null?void 0:sr.msg)=="string"&&ye(jr.response.body.errors.map(Jr=>Jr.msg))}finally{x(!1)}}}),[r,n,k,x]);(0,t.d4)(()=>{if(a||A)return;const Ut=()=>{const Ft=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),kt=Ft-Dt;kt>0&&Jt==="absolute"&&Ft>At-Pe&&lr("fixed"),kt<0&&Jt==="fixed"&&(lr("absolute"),xt(Dt+Pe)),kt<0&&Jt==="absolute"&&Ft<At-Ye&&xt(Ye+Math.max(Pe,Ct,Dt)),jt(Ft),(Jt==="fixed"||kt>0&&Ft>At-Ye)&&Xt(!0)};return window.addEventListener("scroll",Ut),window.addEventListener("resize",Ut),()=>{window.removeEventListener("scroll",Ut),window.removeEventListener("resize",Ut)}},[Jt,At,xt,Dt,jt,Xt]),(0,t.d4)(()=>{if(a||A)return;const Ut=Ft=>{Ft.key==="Escape"&&B(!0)};return window.addEventListener("keydown",Ut),()=>{window.removeEventListener("keydown",Ut)}},[a,A,B]);const{iString:Rt}=(0,l.M1)();return a||A?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,(0,e.h)(ne.tu,{ref:Ne,className:Da.subscribeDialog,style:{top:Jt==="absolute"?`${At}px`:`${Pe}px`,left:`${Se}px`,position:Jt},alignItems:"center"},(0,e.h)(e.Fragment,null,(0,e.h)(ne.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:Da.pictureBox},(0,e.h)(jn.qE,{user:{photo_url:n.author_photo_url},size:64,className:Da.authorIcon}),n.logo_url&&(0,e.h)(R6.t,{src:n.logo_url,size:24,className:Da.childPublicationIcon,alt:n.name}))),(0,e.h)(i.xv.H4,{translated:!0,paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",I18N.p(n.name)),(0,e.h)(i.xv.B4,{color:"pub-secondary-text",paddingBottom:n.rankingDetail?4:24,align:"center"},n.hero_text),n.rankingDetail&&(0,e.h)(i.xv.Detail,{paddingBottom:24,align:"center",color:"pub-secondary-text"},n.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:Da.form,onSubmit:Ut=>{Ut.preventDefault(),qt(J)}},(0,e.h)("input",{className:Da.emailInput,placeholder:"Type your email...",value:J,disabled:k,onChae)}}),(0,e.h)("div",{id:"error-container"},_e&&_e.Ut))),(0,e.h)(be.zx,{type:"submit",disabled:k,grow:!0,priority:"primary-theme"},Rt("Subscribe"))),(0,e.h)(ne.gq,{gap:8,alignItems:"center",justifyContent:"center",className:Da.dismissButton,onClick:()=>B(!0)},(0,e.h)(i.xv.B4,{translated:!0,weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(Ms.Z,null)),(0,e.h)(i.xv.B4,{align:"center",className:Da.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,d.track)(d.EVENTS.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:r.id}),(0,F.redirect)((0,p.getSigninUrl)({for_pub:n.subdomain,redirect:(0,p.getPostUrl)(n,r)}))},style:{cursor:"pointer"}},Rt("Sign in"))," ")," ")),Bt>0&&(0,e.h)("div",{className:Da.background,onClick:ur,style:{opacity:`${Bt}%`}}))};function j6({postId:n,onClose:r}){return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:n})},[]),(0,e.h)(xo.u_,{isOpen:!0,onClose:r},(0,e.h)(xo.xB,{includeClose:!0,onClose:r}),(0,e.h)(xo.fe,null,(0,e.h)(ne.tu,{alignItems:"center",gap:24},(0,e.h)(ne.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(xo.r6,null,"Listen to this post"),(0,e.h)(i.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(V6,null))),(0,e.h)(xo.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(la.z,{variant:"primary",href:(0,p.getAppStoreRedirectUrl)({utm_source:j.UTM_SOURCE.web,utm_campaign:j.UTM_CAMPAIGN.ttsModal}),onClick:()=>(0,d.track)(d.EVENTS.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:n})},"Get the app")}))}function V6(){const n="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${n}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${n}/1x.png`,srcset:Array.from(H6(1,4)).}x`).join(", ")}))}function*H6(n,r){for(let o=n;o<r;o++)yield o}const Ov={"byline-wrapper":"frontend-components-post-module__byline-wrapper--koh98","byline-wrapper--swap-on-mobile":"frontend-components-post-module__byline-wrapper--swap-on-mobile--n9xWk","byline-faces--swap-on-mobile":"frontend-components-post-module__byline-faces--swap-on-mobile--JiA_S"};var K6=je(58718);const Ga={faceCloudContainer:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__faceCloudContainer--myReC",primaryFaceContainer:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__primaryFaceContainer--MJGNn",face:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__face--hZ9LP",primaryFace:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__primaryFace--RPs6k",primaryFaceAuthorContainer:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__primaryFaceAuthorContainer--d95lI",primaryFaceAuthor:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__primaryFaceAuthor--Gbfmr",secondaryFaces:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFaces--nhbM7",secondaryFace0:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace0--EYSyP",secondaryFace1:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace1--LJxGW",secondaryFace2:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace2--ngXk5",secondaryFace3:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace3--jqgNq",secondaryFace4:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace4--ohuzL",secondaryFace5:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace5--lNZaY",secondaryFace6:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace6--E37J0",secondaryFace7:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace7--tsZ4m",secondaryFace8:"frontend-main-subscribe-appUpsell-AppUpsellFaceCloudScreen-module__secondaryFace8--nviJi"},$6=({pub:n,suggestions:r})=>{const o=[82,68,68,55,54,36,36,36,36];return(0,e.h)("div",{className:Ga.faceCloudContainer},(0,e.h)("div",{className:Ga.primaryFaceContainer},(0,e.h)(jn.qE,{className:s()(Ga.face,Ga.primaryFace),size:100,showProfileHovercard:!0,user:{id:n.author_id,name:n.author_name,handle:n.author_handle,photo_url:n.author_photo_url}}),n.author_name&&(0,e.h)(ne.tu,{className:Ga.primaryFaceAuthorContainer,alignItems:"center",justifyContent:"center"},(0,e.h)(i.xv.B4,{className:Ga.primaryFaceAuthor},(0,Tt.guessFirstName)(n.author_name)))),r.map((a,_)=>(0,e.h)(jn.qE,{className:s()(Ga.face,Ga.secondaryFaces,Ga[`secondaryFace${_}`]),size:o[_],showProfileHovercard:!0,user:a.recommendedPublication.author})))};var $d=je(90030);const Cv={avatarContainer:"frontend-components-FollowPrompt-module__avatarContainer--N53bp",avatar:"frontend-components-FollowPrompt-module__avatar--POyNQ"};var G6=Object.defineProperty,z6=Object.defineProperties,Z6=Object.getOwnPropertyDescriptors,wv=Object.getOwnPropertySymbols,Y6=Object.prototype.hasOwnProperty,J6=Object.prototype.propertyIsEnumerable,Sv=(n,r,o)=>r in n?G6(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ms=(n,r)=>{for(var o in r||(r={}))Y6.call(r,o)&&Sv(n,o,r[o]);if(wv)for(var o of wv(r))J6.call(r,o)&&Sv(n,o,r[o]);return n},_s=(n,r)=>z6(n,Z6(r)),Tv=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())}),X6=(n=>(n[n.InitialPrompt=0]="InitialPrompt",n[n.EnterEmail=1]="EnterEmail",n[n.AppUpsell=2]="AppUpsell",n))(X6||{});const Q6=({pub:n,post:r,referringUser:o})=>{var a,_;const[A,B]=(0,t.eJ)(!1),[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)(0),{iString:_e}=(0,l.M1)(),ye=(0,Zr.XA)(),Pe=(0,u.pm)(),Ce=(0,so.aF)(),{getExperimentVariant:Se}=(0,wr.jc)(),Ae=Se("app_upsell_follow_prompt"),Ne=(0,K6.Sv)(o,"post-follow-referrer-prompt",{auto:!!Ce}),Ve=(0,Pn.ib)({pathname:`/api/v1/user/${o.id}/subscriber-lists?lists=following`,auto:!0}),ze=(_=(a=Ve.result)==null?void 0:a.subscriberLists.flatrs)).slice(0,9))!=null?_:[],Je=(0,t.d}),[r.id,o.id]);(0,t.d4)(()=>{if(!Ve.hasLoadedOnce||Ce&&!Ne.isLoaded||Ne.isFollowing)return;if(Ce&&(0,p.getQueryItem)("follow-referrer-on-load")){(0,F.removeQueryParam)("follow-referrer-on-load"),(0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_REDIRECTED,Je),Ct({fromRedirect:!0}).then(()=>B(!0));return}const It=`follow-prompt-for-post-${r.id}-and-referrer-${o.id}-shown-at`,At=(0,w.mM)(It);At&&Sr()().subtract(7,"days").isBefore(At)||((0,w.ex)(It,Date.now()),B(!0),(0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_SHOWN,Je))},[Ce,Ve.hasLoadedOnce,Ne.isLoaded]);const Ye=(0,t.I4)(()=>{(0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_DISMISSED,_s(ms({},Je),{step:J})),B(!1)},[Je,B,J]),ht=(0,t.I4)(({email:It,reason:At="sign-in-click"}={})=>{(0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_SIGN_IN_INITIATED,_s(ms({},Je),{reason:At}));const xt=(0,p.updateQuery)({"follow-referrer-on-load":o.id});(0,F.redirect)((0,p.getSigninUrl)({email:It,for_pub:n.subdomain,redirect:xt}))},[Je,n.subdomain,o.id]),wt=(0,t.I4)((...It)=>Tv(void 0,[...It],function*({email:At}={}){let xt,Dt,jt;try{({user:xt,userExists:Dt}=yield(0,Pn.rd)("/api/v1/reader/signup/just_email",{method:"POST",json:{email:At}}))}catch(Jt){Jt instanceof Pn.kp&&(jt=Jt.getMessage())}return xt?!0:(Dt?ht({email:At,reason:"user-exists"}):((0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_SIGNUP_FAILED,_s(ms({},Je),{email:At,error:jt})),Pe.popToast(Jt=>(0,e.h)(u.FN,_s(ms({},Jt),{text:jt||_e("Something went wrong. Please try again later.")})))),!1)}),[Je,ht,Pe,_e]),Ct=(0,t.I4)((...It)=>Tv(void 0,[...It],function*({email:At,fromRedirect:xt=!1}={}){if(!k){if(x(!0),xt||(0,d.track)(d.EVENTS.FOLLOW_REFERRER_PROMPT_CTA_CLICKED,_s(ms({},Je),{email:At})),!Ce){if(!At){pe(1),x(!1);return}if(!(yield wt({email:At}))){x(!1);return}}Ne.isFollowing||(yield Ne.toggle()),!Ce||xt?pe(2):B(!1),x(!1)}}),[Ce,Ne,Je,k,x,pe,wt]);return(0,e.h)(u.u_,{position:ye?"bottom":"default",fullscreenMobile:J!==0,isOpen:A,onClose:Ye},(0,e.h)(u.xB,{title:" ",includeClose:!0,onClose:Ye}),(0,e.h)(u.tu,{gap:48,paddingX:32,paddingBottom:32,paddingTop:12},J===0&&(0,e.h)(q6,{pub:n,referringUser:o,referrerFollowingList:ze,loading:k,showFaceCloud:!Ce&&Ae==="treatment_cloud",onFollowClick:Ct,onDismiss:Ye}),J===1&&(0,e.h)(eL,{referringUser:o,loading:k,onFollowWithEmail:Ct,onSignInClick:ht}),J===2&&(0,e.h)(tL,{referringUser:o,onDismiss:Ye})))},q6=({pub:n,referringUser:r,referrerFollowingList:o,loading:a,showFaceCloud:_,onFollowClick:A,onDismiss:B})=>{var k,x,J,pe,_e;const{iTemplate:ye,iString:Pe}=(0,l.M1)(),Ce=(x=(k=r.photo_url)!=null?k:n.logo_url)!=null?x:n.author_photo_url,Se=(0,$d.Q1)(r.name);let Ae;const Ne=(pe=(J=r.subscriptions)==null?void 0:J.f.id))==null?void 0:pe.membership_state;Ne==="subscribed"?Ae=ye`${r.name}, a paid subscriber of ${n.name}, shared this with you.`:Ne==="free_signup"?Ae=ye`${r.name}, a subscriber of ${n.name}, shared this with you.`:Ae=ye`${r.name} shared this with you.`;const Ve=`${Ae} ${ye`Follow ${Se} to see what else they're reading.`}`;return(0,e.h)(u.tu,{alignItems:"center",gap:8},_?(0,e.h)(e.Fragment,null,(0,e.h)(u.xv.H2,{translated:!0,align:"center",weight:"extrabold"},"Follow ",I18N.p(r.name)),(0,e.h)(u.xv.B3,{align:"center",color:"secondary"},Ve),(0,e.h)(u.gq,{paddingY:24},(0,e.h)($6,{pub:{author_id:r.id,author_name:r.name,author_photo_url:(_e=r.photo_url)!=null?_e:""},suggestions:o.}}))}))):(0,e.h)(u.tu,{alignItems:"center",gap:16,paddingBottom:16},(0,e.h)("div",{className:Cv.avatarContainer},(0,e.h)(jn.qE,{className:Cv.avatar,user:{photo_url:Ce},size:64})),(0,e.h)(u.xv.H3,{align:"center",weight:"extrabold"},Ae)),(0,e.h)(u.zx,{grow:!0,priority:"primary-theme",disabled:a,onClick:A,style:{borderRadius:12}},ye`Follow ${Se} and continue reading`),(0,e.h)(u.zx,{grow:!0,priority:"secondary",onClick:B,style:{borderRadius:12}},Pe("Skip")))},eL=({referringUser:n,loading:r,onFollowWithEmail:o,onSignInClick:a})=>{const[_,A]=(0,t.eJ)(""),{iTemplate:B}=(0,l.M1)(),k=(0,t.sO)(null);(0,t.d4)(()=>{var pe;(pe=k.current)==null||pe.focus()},[]);const x=(0,t.I4)(pe=>{pe.preventDefault(),_!==""&&o({email:_})},[o,_]),J=(0,$d.Q1)(n.name);return(0,e.h)(e.Fragment,null,(0,e.h)(u.tu,{alignItems:"center",gap:8},(0,e.h)(u.xv.H3,{translated:!0,align:"center",weight:"extrabold"},"Sign up to follow ",I18N.p(J)),(0,e.h)(u.xv.B4,{translated:!0,align:"center",color:"secondary"},"Discover great writing and follow your friends on Substack")),(0,e.h)(u.tu,{gap:12},(0,e.h)(u.xv.B4,{translated:!0,weight:"semibold"},"Your email address"),(0,e.h)("form",{onSubmit:x},(0,e.h)(u.oi,{ref:k,placeholder:"bob@gmail.com",value:_,onChange:pe=>A(pe.target.value)}))),(0,e.h)(u.tu,{alignItems:"center",gap:16,justifyContent:"center"},(0,e.h)(u.zx,{grow:!0,disabled:r||_==="",onClick:x,style:{borderRadius:12}},B`Sign up and follow ${J}`),(0,e.h)(u.xv.B4,{translated:!0,align:"center",color:"secondary"},"Already have a Substack account?"," ",(0,e.h)(u.xv.B4,{translated:!0,color:"secondary",decoration:"underline",as:"a",href:"#",onClick:a},"Sign in"))))},tL=({onDismiss:n,referringUser:r})=>{const{iString:o}=(0,l.M1)(),a=(0,Zr.XA)(),{getExperimentVariant:_}=(0,wr.jc)(),A=_("app_install_send_code"),B=A==="text"?355:A==="email"?325:231,k={utm_medium:j.UTM_MEDIUM.web,utm_campaign:j.UTM_CAMPAIGN.postFollowReferrerPrompt,utm_source:j.UTM_SOURCE.post};return(0,e.h)(e.Fragment,null,(0,e.h)(u.tu,{alignItems:"center",gap:4},(0,e.h)(u.xv.H3,{translated:!0,align:"center",weight:"extrabold"},"Read and follow in the app"),(0,e.h)(u.xv.B4,{translated:!0,align:"center",color:"secondary"},"See who else ",I18N.p((0,$d.Q1)(r.name))," reads in the Substack app")),a?(0,e.h)(e.Fragment,null,(0,e.h)(u.gq,{alignSelf:"center"},(0,e.h)("img",{src:(0,p.imginary)("/img/app-preview-card.png"),height:265})),(0,e.h)(u.gq,{flex:"grow"},(0,e.h)(u.tu,{alignItems:"center",flex:"grow",gap:8},(0,e.h)(u.zx,{grow:!0,href:(0,p.getAppStoreRedirectUrl)(k),style:{borderRadius:12}},o("Get the Substack app")),(0,e.h)(u.zx,{grow:!0,priority:"secondary",fill:"empty",onClick:n,style:{borderRadius:12}},o("Skip"))))):(0,e.h)(u.tu,{alignItems:"center",gap:24},(0,e.h)("div",{style:{minHeight:B}},(0,e.h)(Cp,_s(ms({},k),{hideQrInstructions:!0,size:180,gap:16,padding:0}))),(0,e.h)(u.zx,{grow:!0,priority:"secondary",onClick:n,style:{borderRadius:12}},o("Continue reading"))))};var rL=Object.defineProperty,nL=Object.defineProperties,oL=Object.getOwnPropertyDescriptors,Iv=Object.getOwnPropertySymbols,aL=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,Mv=(n,r,o)=>r in n?rL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,dl=(n,r)=>{for(var o in r||(r={}))aL.call(r,o)&&Mv(n,o,r[o]);if(Iv)for(var o of Iv(r))iL.call(r,o)&&Mv(n,o,r[o]);return n},Nu=(n,r)=>nL(n,oL(r)),Lu=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const Gd="focus-comment-input",Dv=["details","comments"],sL=(n,r)=>n&&!n.invite_only&&r&&r.has_publication&&!r.is_admin&&!r.is_contributor&&!r.is_public_admin&&(0,vd.P)(r,n),lL=(n,r,o,a)=>n.payments_state==="enabled"?!(r!=null&&r.is_subscribed):r!=null&&r.is_free_subscribed&&n.payments_state==="disabled"&&!n.invite_only?!a&&o&&!(r!=null&&r.is_pledged):!(r!=null&&r.is_free_subscribed);class zd extends e.Component{constructor(r,o){var a,_,A,B;super(r,o),this.onTopReached=x=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,d.trackPostSeen)({post:this.props.post,hasPaywall:x,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))},this.onTranscriptionCl))},this.onCommentButtonClicked=x=>{var J,pe;if(this.props.post.type==="podcast"){x.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),(pe=(J=this.props)==null?void 0:J.setTab)==null||pe.call(J,"comments"),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var _e;(_e=this.podcastCommentInput.current)==null||_e.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(x.stopPropagation(),x.preventDefault(),document.dispatchEvent(new CustomEvent(Gd)))},this.handleClickTab=x=>{var J,pe;this.setState({activeTab:x}),(pe=(J=this.props)==null?void 0:J.setTab)==null||pe.call(J,x),x==="comments"&&!this.state.podcastComments&&this.loadComments()},this.handleAddPodcastComment=x=>{this.setState({podcastComments:[x].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})},this.handleUpdatePodcastComments=x=>{let J=0;const pe=(ye,Pe)=>ye.map(Ce=>Ce.id===Pe.id?(Pe.status==="deleted"?J-=1:J+=Pe.children.length-Ce.children.length,Pe):Nu(dl({},Ce),{children:pe(Ce.children,Pe)})),_e=pe(this.state.podcastComments,x);this.setState({podcastComments:_e,addedPodcastComments:this.state.addedPodcastComments+J})},this.handleUpdateSortPodcastComments=x=>{(0,d.track)(d.EVENTS.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:x}),this.setState({commentSort()})};const k=(0,F.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(a=r.post.default_comment_sort)!=null?a:"best_first",activeTab:Dv.includes(k)?k:"details",loadedWithHeaderLink:typeof window!="undefined"&&((_=window.location.hash)==null?void 0:_.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null,feedUrl:null,clippingMode:!1,shouldShowSubscribePrompt:!1,shouldShowFollowPrompt:!1},(B=(A=this.props)==null?void 0:A.setTab)==null||B.call(A,Dv.includes(k)?k:"details"),!r.paywall&&!r.post.hidden&&r.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=fL(r.post.body_html),this.state.truncated=r.truncateAt?dL(r.post.body_html,r.truncateAt,r.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,p.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,p.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=sL(r.pub,r.user)}loadReactors(){return Lu(this,null,function*(){const[r,o]=yield Promise.all([Ze().get(`/api/v1/post/${this.props.post.id}/reactors`),Ze().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:r.body,restackers:o.body})})}componentDidMount(){return Lu(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,Tt.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,d.track)(d.EVENTS.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,d.triggerPostPagePingBacks)({post:this.props.post});const r=(0,p.getQueryItem)("subscribe_prompt");r&&(r==="paid"?this.props.popToast(o=>(0,e.h)(u.FN,Nu(dl({},o),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(o=>(0,e.h)(u.FN,Nu(dl({},o),{text:`Subscribed to ${this.props.pub.name}`})))),this.setPostPromptState()})}componentWillUnme)}loadComments(){return Lu(this,null,function*(){const r={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const o=yield Ze().get(`/api/v1/post/${this.props.post.id}/comments`).query(r);this.setState({podcastComments:o.body.comments})}catch(o){alert((0,F.getNetworkErrorMessage)(o))}})}setPostPromptState(){return Lu(this,null,function*(){const r=this.props.post.type==="newsletter"&&this.props.getSettingFor("enable_post_page_conversion")===!0&&!this.props.disableSubscribePrompt&&!(0,F.getUrlHash)()&&!this.props.readerIsSearchCrawler,{pub:o,user:a,referringUser:_}=this.props;let A=[];if(a)try{A=yield(0,Pn.rd)("/api/v1/feed/following")}catch(x){}let B=r&&_&&_.name&&_.id!==(a==null?void 0:a.id)&&!A.includes(_.id)&&o.contributors.every(x=>x.user_id!==_.id);B&&!a&&((this.context.getExperimentVariant("app_upsell_follow_prompt")||"control")==="control"&&(B=!1),this.context.exposeExperiment("app_upsell_follow_prompt"));const k=r&&!B&&!this.props.paywall&&!this.props.freeSignup&&!a;this.setState({shouldShowFollowPrompt:B,shouldShowSubscribePrompt:k})})}triggerShare({fromEmail:r}={}){r?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(r){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,d.trackPostBottomSeen)({post:this.props.post,hasPaywall:r,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:r,user:o,pub:a,getSettingFor:_}=this.props,{canShowSubscribeFooterAfterPost:A}=this.state;return r&&A?lL(a,o,_("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const r=document.createElement("div");r.innerHTML=this.props.post.body_html;const o=this.props.pub.post_preview_limit||Tt.DEFAULT_PREVIEW_LIMIT;let a="",_=!1;for(let A=r.childNodes.length-1;A>=0;A--){const B=r.childNodes[A];if(a+=B.textContent,a.length>o){_=!0;break}}return _}render({commentsEnabled:r,user:o,pub:a,post:_,freeSignup:A,freeSignupEmail:B,isServingFreePodcastUrl:k,isShowsPost:x,reaction_token:J,invisible:pe,paywall:_e,onChange:ye,hideTitle:Pe,noTitleLink:Ce,showComments:Se,fromPostPage:Ae,freeTrialCoupon:Ne,showRestackModal:Ve,stripe_publishable_key:ze,crossPostInfo:Je,iString:Ye,iTemplate:ht,themeVariables:wt,referringUser:Ct,renderComments:It,renderContent:At,getSettingFor:xt},{showTranscription:Dt,activeTab:jt,loadedWithHeaderLink:Jt,truncated:lr,coupon:mr,autoPlay:Xt,autoPlayVoiceOver:Bt,podcastComments:ur,commentSort:tr,addedPodcastComments:qt,reactors:Rt,restackers:Ut,shouldShowFollowPrompt:Ft,shouldShowSubscribePrompt:kt}){var vt,Cr,sr,jr;const Jr=(0,v.isMobile)({checkFirst4:!0}),gn=(0,Do.default)("like_posts_enabled"),xr=(0,Do.default)("allow_video_transcription"),un=this.state.clippingMode,Vr=ta=>this.setState({clippingMode:ta}),br=!_e||_e&&this.shouldTrackPaywallPostSeen(),kr=_.type==="video"&&(_e?C_:si.Z),Fr=_.type==="video"&&xr&&!_e&&((vt=_.videoUpload)==null?void 0:vt.transcription),yn=_.type==="podcast"&&(r||!!((Cr=_.podcastUpload)!=null&&Cr.transcription)||!!_.videoUpload),Hn=_.comment_count+qt,Sn=this.shouldShowUFI(),Zn=Nv(_),po=Rt?Rt.length>0:!1,Yn=!!(xt("paywall_unlock_tokens")&&_e&&o&&(o!=null&&o.is_free_subscribed||A)&&!o.reader_installed_at);Yn&&this.context.getConfigFor("paywall_post_unlock_experiment")==="experiment"&&this.context.exposeExperiment("paywall_post_unlock_prompt");const Kr=Yn&&(this.context.getConfigFor("paywall_post_unlock_experiment")==="treatment"||this.context.getConfigFor("paywall_post_unlock_experiment")==="experiment"&&this.context.getExperimentVariant("paywall_post_unlock_prompt")==="treatment");let Mn="";_.type==="video"?Mn=_.audience==="founding"&&(0,Fn.getFoundingTierName)(a)?ht`The full video is for subscribers in the ${(0,Fn.getFoundingTierName)(a)} plan`:_.audience==="founding"?ht`The full video is for subscribers in the Founding Member plan`:ht`The full video is for paid subscribers`:_.type==="adhoc_email"?Mn=_.audience==="founding"&&(0,Fn.getFoundingTierName)(a)?ht`This email is for subscribers in the ${(0,Fn.getFoundingTierName)(a)} plan`:_.audience==="founding"?ht`This email is for subscribers in the Founding Member plan`:ht`This email is for paid subscribers`:Kr?Mn=ht`This post is for paid subscribers. You can unlock 1 post for free.`:Mn=_.audience==="founding"&&(0,Fn.getFoundingTierName)(a)?ht`This post is for subscribers in the ${(0,Fn.getFoundingTierName)(a)} plan`:_.audience==="founding"?ht`This post is for subscribers in the Founding Member plan`:ht`This post is for paid subscribers`;const Ua=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"available-content"},Dt?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(w_,{post:_,pub:a,user:o,playerRef:this.videoPlayer})):(0,e.h)($s,{html:lr||_.body_html,pub:a,trackSelection:!0,user:o,freeSignup:A,freeSignupEmail:B,post:_,paywall:_e,showing_behind_paywall:!!_.post_paywall_content_for_google,themeVariables:wt})),_.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)($s,{html:_.post_paywall_content_for_google,pub:a,trackSelection:!1,user:o,freeSignup:A,freeSignupEmail:B,post:_,paywall:_e})),!pe&&br&&(0,e.h)(q,{onVisible:()=>this.onBottomReached(_e)})),Ya=(0,e.h)(el,dl({user:o,freeSignupEmail:B,freeSignup:A,publication:a,post:_,fromPostPage:Ae,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Ne:null,shouldShowPostUnlockPrompt:Kr,magicToken:J},Object.assign({title:Mn,reauthenticationTitle:Ye("To read this, please re-authenticate.")},_e)));return(0,e.h)("article",{className:s()(`typography ${_.type}-post post`,{"tw-p-0":_.type==="podcast","shows-post":x}),ref:this.containerRef},(o==null?void 0:o.is_contributor)&&(_==null?void 0:_.id)&&(_==null?void 0:_.type)==="page"&&(0,e.h)(la.z,{variant:"themed-secondary",href:(0,gt.getEditPostUrlById)(a,_.id,_.editor_v2,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(Qi.Z,{size:20})},"Edit"),(0,e.h)(pL,{post:_,user:o,onChange:ye}),(0,e.h)(ki.ZP,{ref:this.shareDialogRef,user:o,pub:a,post:_,reaction_token:J,source:"email-share"}),Ft&&(0,e.h)(Q6,{pub:a,post:_,referringUser:Ct}),kt&&(0,e.h)(W6,{pub:a,post:_,stripe_publishable_key:ze,sharer:Ct}),At?(0,e.h)(e.Fragment,null,!pe&&(0,e.h)(q,{onVisie)}}),At({comments:It?It():null,postContent:(0,e.h)(e.Fragment,null,Ua,!!(_e&&!_.post_paywall_content_for_google&&!k)&&Ya)})):(0,e.h)(e.Fragment,null,(0,e.h)(Wd,{visible:un,style:{zIndex:1}}),_.videoUpload&&_.type==="video"&&kr&&(0,e.h)(kr,{mediaUpload:_.videoUpload,pub:a,post:_,autoPlay:Xt,restorePlaybackLocation:!0,reaction_token:J,ref:this.videoPlayer,clippingMode:un,onClippingModeCancel:()=>Vr(!1)}),_.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(x9,{bylinesEnabled:a.bylines_enabled,commentCount:Hn,commentsEnabled:r,freeSignupEmail:B,isFreeSignup:A,isLikesEnabled:gn,isPaywall:_e,post:_,pub:a,magicToken:J,renderEditButton:()=>(0,e.h)(jd.l,{pub:a,post:_,iconHeight:18,user:o,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:o,onChange:ye,onClickCommentButton:r?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer,videoPlayerRef:this.videoPlayer,reaction_token:J,onFeedChange:ta=>this.setState({feedUrl:ta})}),yn&&(0,e.h)(j9,{activeTab:jt,loadedWithHeaderLink:Jt,commentCount:Hn,onClickTab:this.handleClickTab,transcription:(sr=_.podcastUpload)==null?void 0:sr.transcription,hideComments:!r,showPlayers:!!_.videoUpload&&!Jr,feedUrl:this.state.feedUrl,pub:a,post:_})):(0,e.h)(e.Fragment,null,(0,e.h)(xu,{user:o,pub:a,post:_,isOnPostPage:!0,freeSignup:A,freeSignupEmail:B,reaction_token:J,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Pe,noTitleLink:Ce,onChange:ye,hideDate:_.type==="page",hideAudience:_.type==="page",showReactions:gn,showComments:Se,showLabel:!0,showUpdatedIcons:!0,fromPostPage:Ae,onClickCommentButton:this.onCommentButtonClicked,reactors:Rt,showRestackModal:Ve,showTranscriptionButton:!!Fr,onTranscriptionClick:this.onTranscriptionClick,themeVariables:wt,setClippingMode:Vr}),!pe&&br&&(0,e.h)(q,{onVisible:()=>this.onTopReached(_e)}),(_.has_voiceover||!!_.voiceoverUpload)&&(0,e.h)(fC,{pub:a,post:_,mediaUploadId:_.voiceover_upload_id,duration:(jr=_.voiceoverUpload)==null?void 0:jr.duration,autoPlay:Bt,href:_.canonical_url,isPaywalled:!_.voiceover_upload_id}),!_.voiceoverUpload&&Bt&&Zn&&(0,e.h)(j6,{postId:_.id,onClose:()=>{(0,d.track)(d.EVENTS.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:_.id}),this.setState({autoPlayVoiceOver:!1})}})),Je?(0,e.h)(X9,{postType:_.type,crossPostInfo:Je}):null,(_.type!=="podcast"||jt==="details"||!yn)&&(0,e.h)("div",{className:s()({"container container--podcast-post container--podcast-post-with-ufi":_.type==="podcast"})},Ua,_e&&!_.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,Ya,(0,e.h)(ov,{post:_})):lr?(0,e.h)("p",null,(0,e.h)(ge.Z,{className:"expander",onCll})},"+ ",Ye("show full post"))):!["page"].includes(_==null?void 0:_.type)&&(0,e.h)(e.Fragment,null,Sn&&(0,e.h)(uL,{pub:a,post:_,user:o,freeSignup:A,freeSignupEmail:B}),!Sn&&this.shouldShowRecommendCta&&(0,e.h)(N6,{pub:a}),(0,Do.default)("like_posts_enabled")&&a.community_enabled&&po&&(0,e.h)(u.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(Hd,{post:_,pub:a,user:o,reactors:Rt,secondaryFaces:Ut})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(xn.Mp,{post:_,pub:a,user:o,onChange:ye,themeVariables:wt,postReactionToken:J})),(0,e.h)(ov,{post:_})),_.show_guest_bios&&_.type!=="podcast"&&(0,e.h)(cL,{user:o,pub:a,post:_})),_.type==="podcast"&&jt==="comments"&&r&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(g9,{comments:ur!=null?ur:[],expectedCommentCount:Hn,post:_,pub:a,sort:tr,token:J,user:o,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),_.type==="podcast"&&jt==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(w_,{post:_,pub:a,user:o,playerRef:this.podcastPlayer}))))}}zd.contextType=Gr,zd.displayName="Post";const Ru=(0,u.dd)((0,wr.f9)((0,L.us)((0,l.fz)(zd)))),uL=({pub:n,post:r,user:o,freeSignup:a,freeSignupEmail:_,overridePledgesEnabled:A})=>{const{iString:B,iTemplate:k}=(0,l.M1)(),{getSettingFor:x}=(0,L.So)(),J=n.payments_state==="disabled"&&!n.invite_only&&(x("payment_pledges_enabled")||A),pe=n.payments_state==="enabled"&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_subscribed)?"paid_upsell":J&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_pledged)?"pledge_upsell":"free_upsell";(0,t.d4)(()=>{(0,d.track)(d.EVENTS.POST_END_CTA_RENDERED,{pub_id:n.id,post_id:r.id,type:pe})},[n.id,r.id,pe]);const _e=(0,Tt.getByLine)(n);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(q,{onVisible:()=>{(0,d.track)(d.EVENTS.POST_END_CTA_SEEN,{pub_id:n.id,post_id:r.id,type:pe})}}),(0,e.h)("h3",null,J&&(o!=null&&o.is_free_subscribed)?k`Support ${n.name}`:k`Subscribe to ${n.name}`),(0,e.h)("p",{className:"end-cta-author-subs"},_e?k`By ${_e}`:null,_e&&n.rankingDetail?" \xB7 ":null,n.rankingDetail),n.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},n.hero_text),J&&(o!=null&&o.is_free_subscribed)&&!(o!=null&&o.is_pledged)?(0,e.h)(be.zx,{priority:"primary-theme",onClick:()=>{(0,d.track)(d.EVENTS.POST_END_CTA_CLICKED,{type:"pledge"}),(0,F.redirect)((0,gt.getSubscribeUrl)(n,{params:{utm_source:j.UTM_SOURCE.postEndCta}}),{local_navigation:!1})}},B("Pledge your support")):(0,e.h)(Ha,{pub:n,post:r,user:o,freeSignup:a,freeSignupEmail:_,isStatic:!1,source:"post-end-cta"}))},Av=({pub:n})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${n&&n.bylines_enabled&&n.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),xu=({allowEdit:n,allowSendEmail:r,allowTruncate:o,base_url:a,children:_,className:A,hideAudience:B,hideDate:k,hideTitle:x,hidePinning:J,noTitleLink:pe,isStatic:_e,isFreePreview:ye,is_draft:Pe,onChange:Ce,post:Se,pub:Ae,reaction_token:Ne,showComments:Ve,showDatetime:ze,showEmailSent:Je,showReactions:Ye,showShare:ht,showAppUpsell:wt,showSubtitle:Ct,showPhoto:It,showLabel:At,showRestack:xt,showCommentRestack:Dt,hideAuthor:jt,user:Jt,utm_source:lr,showUpdatedIcons:mr,fromPostPage:Xt,onClickCommentButton:Bt,reactors:ur,inThreadHead:tr,publishedPost:qt,compEndsSoon:Rt,compEndedRecently:Ut,siteConfigValues:Ft={},eligibleForTTS:kt,showRestackModal:vt,showIcon:Cr,isOnPostPage:sr,showTranscriptionButton:jr,onTranscriptionClick:Jr,themeVariables:gn,setClippingMode:xr=void 0})=>{const un=(0,v.isMobile)({checkFirst4:!0}),Vr=typeof o=="number"?o:45,br=Se.title&&Se.title.length>Vr,kr=Pe?Se.draft_title:Se.title,Fr=[(Cr||Se.type==="thread")&&(0,e.h)(C6,{postType:Se.type,isStatic:_e,height:15,className:Se.type}),br&&o?(0,Tt.truncateWords)(kr,Vr):kr],yn=Pe?Se.draft_subtitle:Se.subtitle;Se.section_id&&Ae.sections&&Ae.sections.length&&(Se.section=Ae.sections.find(Ya=>Ya.id===Se.section_id));const Hn=!["page"].includes(Se==null?void 0:Se.type),Sn=Hn&&_e&&Rt&&(Ft==null?void 0:Ft.continue_support_cta_in_newsletter_emails),Zn=Nv(Se)||kt||Se.voiceoverUpload,po=(Se==null?void 0:Se.type)==="adhoc_email",Yn=Hn&&_e&&!po;let Kr;Se.post_url_override?Kr=Se.post_url_override:_e?Kr=fo.Substitutions.POST_TITLE_URL:Kr=`${(0,gt.getPostUrl)(Ae,Se)}${lr?`?utm_source=${lr}`:""}`;const Mn=`${Ae.base_url+(Se.section?(0,gt.getSectionUrl)(Ae,{section:Se.section}):"")}/?utm_source=${j.UTM_SOURCE.substack}&utm_medium=${j.UTM_MEDIUM.menu}`,Ua=()=>{(0,d.track)(d.EVENTS.VIDEO_CLIP_BUTTON_CLICKED,{post_id:Se.id,type:Se.type}),xr==null||xr(!0)};return(0,e.h)("div",{className:s()("post-header",A)},At&&Se.section&&(0,e.h)(u.hs,{className:"post-label"},(0,e.h)(u.xv.Meta,{as:"a",size:14,href:Mn},Se.section.name)),Sn&&(0,e.h)(H9,{post:Se,compAlreadyExpired:Ut}),!x&&(0,e.h)("h1",{className:s()("post-title",Se.is_published?"published":Se.type==="restack"?"email-only-cross-post":Se.type==="adhoc_email"?"adhoc":"unpublished")},pe?Fr:(0,e.h)("a",{href:Kr},Fr)),Ct&&yn&&(0,e.h)("h3",{className:"subtitle"},yn),sr&&!_e?(0,e.h)(u.tu,{paddingBottom:16},(0,e.h)(u.tu,{paddingY:16},(0,e.h)(Lv,{post:Se,pub:Ae})),un?Xt&&(0,e.h)(xn.mt,{post:Se,pub:Ae,user:Jt,isStatic:_e,postReactionToken:Ne,onChange:Ce,allowEdit:n,hidePinning:J,showEmailSent:Je,allowSendEmail:r,hideComments:!Ve,onCommentsClick:Bt,showRestackModal:vt}):(0,e.h)(xn.Mp,{post:Se,pub:Ae,user:Jt,onChange:Ce,showRestackModal:vt,showTranscriptionButton:jr,onTranscriptionClick:Jr,themeVariables:gn,onClipClick:Ua,showClipping:Se.type==="video",postReactionToken:Ne})):(0,e.h)(e.Fragment,null,Hn&&!_e&&!qt&&!tr?(0,e.h)(xg,{className:"meta-subheader",pub:Ae,post:Se,user:Jt,showDate:!k,showDatetime:ze,isStatic:_e,postReactionToken:Ne,onChange:Ce,allowEdit:n,hidePinning:J,showEmailSent:Je,allowSendEmail:r,allowMobileFooter:Xt,reactors:ur,onCommentsClick:Bt,showRestackModal:vt,setClippingMode:xr}):Hn&&!_e&&qt?(0,e.h)(xn._2,{post:Se,pub:Ae,user:Jt,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Ne,showEmailSent:Je,hideShare:!ht||Se.type==="restack",hideComments:Se.type==="restack",hideSavePost:Se.type==="restack",hideReactions:Se.type==="restack",showPreamble:!0,allowEdit:n,allowSendEmail:r,editButtonIsLast:!0,preambleConfig:{showAudience:!B,showDate:!k,showDatetime:ze,showAuthor:!jt},position:"publisher-post-list"}):tr&&!_e?(0,e.h)(xn._2,{post:Se,pub:Ae,user:Jt,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Ne,hideSavePost:!0,showPreamble:!0,allowEdit:n,allowSendEmail:r,editButtonIsLast:!0,onChange:Ce,preambleConfig:{showAudience:!B,showDate:!k,showDatetime:ze,showAuthor:!jt},hideShare:!ht,position:"publisher-post-list"}):Hn?(0,e.h)(RN,{user:Jt,pub:Ae,post:Se,showDate:!k,showDatetime:ze,showEmailSent:Je,showAudience:!B,showReactions:!Yn&&Ye,showComments:!Yn&&Ve,showShare:!Yn&&ht,showRestack:!Yn&&xt,reaction_token:Ne,onChange:Ce,isStatic:_e,isFreePreview:ye,sharedShareDialog:!0,base_url:a,allowSendEmail:r,allowEdit:n,showAuthor:!jt,showPhoto:It,hidePinning:J,showUpdatedIcons:mr,inThreadHead:tr,fromPostPage:Xt,onClickCommentButton:Bt,reactors:ur}):(0,e.h)("div",{className:"spacer",style:{height:24}}),Hn&&Yn&&(0,e.h)(xn.yT,{customization:{showShare:ht,showComments:Ve,showReactions:Ye,showListen:!xt&&!ye&&Zn,showSave:!xt,showRestack:xt,showCommentRestack:Dt,showAppUpsell:wt}}),po&&(0,e.h)("div",{className:"email-ufi-2-empty"})),_)},cL=({user:n,pub:r,post:o})=>{const{iString:a,iTemplate:_}=(0,l.M1)(),A=(0,Tt.getBylineUsers)(o).filter(B=>B.is_guest);return A.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),A.map(B=>{const k=(0,Tt.guessFirstName)(B.name);let x=B.primaryPublicationSubscribeUrl;x&&(n!=null&&n.email)&&(x=(0,p.updateQuery)(x,{email:n.email,autoSubmit:!0,utm_source:j.UTM_SOURCE.substack,utm_campaign:j.UTM_CAMPAIGN.guestPostBio,utm_medium:j.UTM_MEDIUM.web}));const J=(0,p.updateQuery)((0,gt.getReaderProfileUrl)(B),{utm_campaign:j.UTM_CAMPAIGN.guestPostBio,utm_medium:j.UTM_MEDIUM.web}),pe=Ad.ZP.hasCustomProfilePhoto(B);return(0,e.h)("div",{className:s()("post-contributor-bio",{"post-contributor-bio-no-text":!B.bio}),"data-user-id":B.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},pe&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(wa.ProfileHoverCard,{subject:B,utmSource:"byline"},(0,e.h)(Ad.ZP,{size:52,user:n,pub:r,subject:B}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},B.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},a("A guest post by")),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!B.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},a("A guest post by")),(0,e.h)(u.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(wa.ProfileHoverCard,{subject:B,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:J,native:!0},B.name)),(0,e.h)(_u.UserBadge,{size:"sm",tier:B.bestseller_tier,userId:B.id})),B.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},B.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},x&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:x,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},_`Subscribe to ${k}`)))))))))))}))};class PV extends null{render({renderPost:r,posts:o,hideFirstHeading:a,className:_,top:A,children:B}){return o=o.slice(0).ste)),h("div",{className:`calendared-post-list ${_||""}`},A,flat(this.renderByHeading(o,"year",(k,x)=>[!x.isSameNow("year")&&h("h2",{date:x},x.year()),this.renderByHeading(k,"month",(J,pe)=>[!(pe.isSameNow("year")&&pe.isSameNow("month"))&&h("h3",{date:x},get_month_name(pe)," ",!pe.isSameNow("year")&&pe.year()),J.map(_e=>r(_e,o.indexOf(_e),o))])]),1/0).filter(k=>k).filter((k,x,J)=>!a||x>=J.findInate)),B)}renderByHeading(r,o,a){return Array.from(group_b]())).s[0]).map(([,_])=>a(_,dayjs(_[0].post_date)))}}function dL(n,r=1e4,o=r){if(typeof window=="undefined")return null;const a=document.createElement("div");if(a.innerHTML=n,a.textContent.length<r||a.childNodes.length<=1)return null;do a.removeChild(a.lastChild);while(a.childNodes.length>1&&a.textContent.length>o);return a.innerHTML}function fL(n,r=500){if(typeof window=="undefined")return!1;const o=document.createElement("div");o.innerHTML=n;let a="",_=!1;for(let A=o.childNodes.length-1;A>=0;A--){const B=o.childNodes[A];if((0,F.hasClass)(B,"button-wrapper")||(0,F.hasClass)(B,"subscription-widget-wrap")){_=!0;break}if(a+=B.textContent,a.length>r)break}return!_}function pL({post:n,user:r,onChange:o}){const{onSave:a}=(0,xn.vk)({post:n,isSaved:!1});return(0,t.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,p.updateQuery)({action:null})),r)){const A=a();o({post:Nu(dl({},n),{is_saved:A})})}},[]),null}function Nv(n){var r;return(r=n.audio_items)==null?void 0:r.some(o=>o.type==="tts")}function Lv({variant:n="",post:r,pub:o,relativeLinks:a=!1}){const{publishedBylines:_=[]}=r,A=o.bylines_enabled&&(0,Tt.getPrintedByline)(o,r)&&(r.type!=="podcast"||n==="shows"),B=A&&o.byline_images_enabled&&_.some(({photo_url:_e})=>!!_e),k=r.type!=="page",{iContext:x,language:J}=(0,l.M1)(),pe=new Intl.DateTimeFormat(J==="en"?void 0:J,{dateStyle:"medium"});return(0,e.h)(u.hs,{className:s()("byline-wrapper",{[Ov["byline-wrapper--swap-on-mobile"]]:n==="shows"}),gap:12,alignItems:"center"},B&&(0,e.h)(u.hs,{className:s()({[Ov["byline-faces--swap-on-mobile"]]:n==="shows"})},(0,e.h)(tl.ZP,{faces:_,hoverProfiles:!0,maximum:4,showBlanks:!0,relativeLinks:a})),(0,e.h)(u.tu,null,A&&(0,e.h)(u.xv.Meta,{color:"pub-primary-text"},(0,e.h)(Kc.M,{array:_,formatter:_e=>(0,e.h)(wa.ProfileHoverCard,{subject:_e,utmSource:"byline"},(0,e.h)(u.xv,{as:"a",href:(0,gt.getReaderProfileUrl)(_e),decoration:"hover-underline"},_e.name)),limit:4})),(0,e.h)(u.hs,{gap:4},(0,e.h)(u.xv.Meta,{color:"pub-secondary-text"},pe.format(Sr()(r.post_date).toDate())),k&&(0,cr.isPaidAudience)(r.audience)&&(0,e.h)(u.xv.Meta,{color:"pub-secondary-text"},"\u2219 ",x("postAudience","Paid")))))}var Zd=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});class Rv extends e.Component{constructor(r,o){super(r,o),this.likesEnabled=(0,Do.default)("like_posts_enabled"),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,ai.ZP)(this.props.notify_user)}componentDidMount(){return Zd(this,n()})}getBatchSize(){return 5}loadMore(){return Zd(this,null,function*(){if(!this.state.hasMore)return;(yield(0,F.stateLock)(this,"loading",o=>Zd(this,[o],function*({hasMore:a,posts:_}){if(a){_=_||[];try{const B=(yield Ze().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:_.length})).body;_=_.concat(B),a=B.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(B),this.setState({posts:_,hasMore:a})}catch(A){console.error(A)}return a}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(r){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!r||r.filter(_=>(0,cr.isPaidAudience)(_.audience)&&!_.hidden).length===0)return;const o="__cookie_checked",a=(0,p.parseQuery)(window.location.search);a[o]||(a[o]="true",window.location.search=`?${(0,p.serializeQuery)(a)}`)}onChange({post:r}){if(r){const o=(this.state.posts||[]).map(a=>a.id).indexOf(r&&r.id);o!==-1&&(this.state.posts[o]=r,this.setState({posts:this.state.posts}))}}render({user:r,pub:o,freeSignup:a,freeSignupEmail:_,preloadedPosts:A,hide_intro_popup:B,children:k,blurbs:x,noBalanceHeroText:J,launchWelcomePage:pe,skipIntoPopupRender:_e},{posts:ye,hasMore:Pe,share_on_load:Ce}){const Se=[];for(const Ae of ye||A||[])Ae.hidden?Array.isArray(Se[Se.length-1])?Se[Se.length-1].push(Ae):Se.push([Ae]):Se.push(Ae);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(ki.ZP,{ref:Ae=>this.shareDialog=Ae,user:r,pub:o}),_e?null:(0,e.h)(Nt,{freeSignup:a,freeSignupEmail:_,user:r,post:null,publication:o,hidden:B||Ce,blurbs:x,noBalance:J,launchWelcomePage:pe}),o&&o.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},Se.length===0&&!Pe&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),Se.map((Ae,Ne)=>Array.isArray(Ae)?this.renderHiddenPosts(Ae,Ne):this.renderPost(Ae,Ne)),Pe?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(q,{ref:Ae=>this.loader=Ae,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):o.has_posts&&ye&&ye.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,p.getBaseArchiveUrl)(o)},"View archive"))),k)}renderPost(r){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},r.type==="thread"?(0,e.h)(bg,{post:r,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(Ru,{post:r,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:o=>this.onChange(o),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(r,o){let a,_;return o===0?(a=r.slice(0,1),_=r.slice(1)):r.length<=3?(a=r,_=[]):(a=r.slice(0,2),_=r.slice(2)),(0,e.h)(hL,{user:this.props.user,pub:this.props.pub,posts:a,collapsedPosts:_,onChange:A=>this.onChange(A)})}}Rv.contextType=st.QA;class hL extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,d.track)(d.EVENTS.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:r,pub:o,posts:a,collapsedPosts:_,onChange:A},{showing:B}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${B?"showing":""}`},(0,e.h)("div",{className:"container"},a.A})),_.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},B?"hide":`+${_.length} more`),_.map(k=>(0,e.h)(xu,{className:"collapsed",user:r,pub:o,post:k,utm_source:j.UTM_SOURCE.home,onChange:A}))))}}const xv=({delayFirstLoad:n,filterPostsPredicate:r,isBelowTheFold:o,maxPosts:a,pub:_,search:A,sort:B,sortTabs:k,source:x,user:J})=>(0,e.h)(u.xu,{paddingY:24},(0,e.h)(ss,{delayFirstLoad:n,filterPostsPredicate:r,isBelowTheFold:o,maxPosts:a,pub:_,search:A,sort:B,sortTabs:k,source:x,user:J},({posts:pe,linkToComments:_e,onClickPost:ye})=>(0,e.h)(qn,{hideImages:_.theme.hide_images_from_list,linkToComments:_e,posts:pe,pub:_,user:J,variant:"two-column-list",onChange:()=>{},onClickPost:ye})));var mL=je(2405);function Yd(){const n=r=>{var o,a;(r.data==="3pc.supported"||r.data==="3pc.unsupported")&&(r.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(A=>{const B=A.querySelector(".tiktok-iframe");B.classList.add("visible"),A.querySelector(".tiktok-wrap.static").classList.add("hidden");const k=A.querySelector(".fallback-failure");k.classList.add("no-border");try{(B.contentDocument||B.contentWindow.document).readyState=="complete"&&k.classList.add("visible")}catch(x){}B.onload=()=>{k.classList.add("visible")},B.onerror=()=>{k.classList.add("visible")},B.onabort=()=>{k.classList.add("visible")}}),(a=(o=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:o.forEach)==null||a.call(o,_=>_.remove()))};return window.addEventListener("message",n),()=>{window.removeEventListener("message",])}var Jd=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});class _L extends e.Component{constructor(r,o){super(r,o),this.onVisible=_=>{const A=`${_} Seen`;this.state.post&&(this.state[A]||(this.setState({[A]:!0}),(0,d.track)(A,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var _;const A=document.querySelectorAll('article.post input[type="email"]'),B=((_=this.state.user)==null?void 0:_.email)||this.props.freeSignupEmail;B&&A.forEe=B),this.setState({embeddedEmailInputsFilled:!0})};const{user:a}=r;r.post?this.state={post:r.post,user:a,introText:r.introText,crossPostedPub:r.crossPostedPub,crossPostingByLine:r.crossPostingByLine,userWithCrossPostedPubContext:r.userWithCrossPostedPubContext,crossPostedPublicationSettings:r.crossPostedPublicationSettings,crossPostedSiteConfig:r.crossPostedSiteConfig}:this.state={user:a}}componentDidMount(){return Jd(this,null,function*(){(0,F.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Yd(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var r;(r=this.cleanUpTikTokEnhanceListener)==null||r.call(this)}componentDidUpdate(r){return Jd(this,n()})}loadPost(){return Jd(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,F.scrollToHash)());else try{const r=yield Ze().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,F.setState)(this,{post:r.body.post,introText:r.body.intro_text,crossPostedPub:r.body.crossPostedPub,crossPostingByLine:r.body.crossPostingByLine,userWithCrossPostedPubContext:r.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:r.body.crossPostedPublicationSettings,crossPostedSiteConfig:r.body.crossPostedSiteConfig}),(0,F.scrollToHash)()}catch(r){console.error("Failed to load post:",r),alert((0,F.getNetworkErrorMessage)(r))}})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:r,freeSignupEmail:o,publication:a},{post:_,user:A,introText:B,crossPostedPub:k,crossPostingByLine:x,userWithCrossPostedPubContext:J,crossPostedPublicationSettings:pe,crossPostedSiteConfig:_e}){const ye=(_==null?void 0:_.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:s()("single-post-container")},(0,e.h)("div",{className:s()({container:!ye})},(0,e.h)("div",{className:"single-post"},(0,e.h)(Pu,{post:_,publication:a}),_&&pe&&_e?(0,e.h)(L.Iz,{settings:pe},(0,e.h)(st.vC,{siteConfigs:_e},(0,e.h)(mL.uL,{crossPost:{crossPostedPub:k}},(0,e.h)(Ru,{ref:Pe=>{this.post=Pe},user:J,post:_,pub:k,freeSignup:r,freeSignupEmail:o,paywall:!1,noTitleLink:!0,onChange:Pe=>this.setState(Pe),fromPostPage:!0,crossPostInfo:{introText:B,crossPostedPub:k,crossPostingByLine:x,userWithCrossPostedPubContext:J}})))):(0,e.h)(Av,{pub:a}))),a.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(q,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(xv,{user:A,freeSignup:r,freeSignupEmail:o,pub:a,maxPosts:3,filterPostsPredicate:Pe=>Pe.id!==(_==null?void 0:_.id),stateInUrl:!0,sortTabs:Pe=>{const Ce=Pe.findIndex(Se=>Se.id==="top");return Ce!==-1?[Pe[Ce]].concat(Pe.filter((Se,Ae)=>Ae!==Ce)):null},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class Uv extends e.Component{constructor(r,o){super(r,o),this.state={freeSignup:r.freeSignup,freeSignupEmail:r.freeSignupEmail,success:!1}}componentDidMount(){var r;(0,F.preloadImage)((0,p.imginary)("/img/substack_wordmark.png",200));const o=this.props.freeSignupEmail||this.props.user&&this.props.user.email;o?this.emailInput.value=o:(0,F.isMobileBrowser)()||(r=this.emailInput)==null||r.focus()}onPrepareData(r){(this.props.pub.plans||!this.context.getConfigFor("no_embed_redirect"))&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(r){this.setState({freeSignup:!0,freeSignupEmail:r.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=(0,gt.getSubscribeUrl)(this.props.pub,{addBase:!0,params:{just_signed_up:!0,skip_redirect_check:!0,utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.embed}}))}onError(r){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(o){console.error("Failed to close subscribe window:",o)}this.subscribeWindow=null}}render({pub:r,user:o,no_border:a},{freeSignup:_,freeSignupEmail:A,loading:B,success:k}){const x=A||o&&o.email;return(0,e.h)("div",{className:`embed-page ${a?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},r.logo_url&&(0,e.h)("a",{href:`${r.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,p.imginary)(r.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${r.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${r.base_url}/`,target:"_blank"},(0,e.h)(ve,{text:r.name}))),!!r.hero_text&&(0,e.h)("p",{className:"publication-tagline"},(0,e.h)(ve,{text:r.hero_text})),(0,e.h)("div",{className:"publication-meta"},(0,e.h)(ve,{text:nt(r,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:r.rankingDetailFreeSubscriberCount,includeRankingDetail:!!r.rankingDetailFreeSubscriberCount})})),r.invite_only?(0,e.h)(me.ZP,{className:"subscription-request-form",ref:J=>this.form=J,noInlineErrors:!0,action:(0,p.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,p.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:J=>{this.setState({loading:!1}),alert((0,F.getNetworkErrorMessage)(J,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:E.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:E.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:E.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:E.xU}),!!x&&(0,F.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:s()(k?"secondary":"primary"),type:"email",name:"email",ref:J=>this.emailInput=J,readOnly:!!(x||B),disabled:!!(B||k||x),placeholder:"Type your email\u2026"}),(0,e.h)(ge.Z,{className:s()("rightButton",k?"secondary":"primary"),type:"submit",disabled:!!(B||k),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},k?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(Ha,{source:"embed",pub:r,user:o,freeSignup:_,freeSignupEmail:A,forceEmailInput:!0,onPrepareData:J=>this.onPrepareData(J),onSignup:J=>this.onSignup(J),onError:J=>this.onError(J)}),(0,e.h)("div",{className:"embed-tos"},(0,e.h)(i.xv.B4,{color:"pub-secondary-text",size:12,lineHeight:14,align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,p.getPublisherTermsUrl)({pub:r,utm_source:"embed_publication"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,p.getPublisherPrivacyUrl)({pub:r,utm_source:"embed_publication"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:"tos-text",target:"_blank",rel:"noopener",href:(0,p.getInfoCollectionUrl)({utm_source:"embed_publication"})},"our Information collection notice"))),(o||_)&&(0,e.h)("p",{className:"sign-out-block"},(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,p.getSignoutUrl)({redirect:document.location.href,for_pub:r.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,p.getSubstackUrl)()}/?utm_source=${j.UTM_SOURCE.embed}&utm_content=${r.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:J=>this.img=J,className:"substack-watermark",src:(0,p.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,p.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,p.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}Uv.contextType=st.QA;var gL=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const vL=({pub:n,slug:r})=>{var o;const[a,_]=(0,t.eJ)(null);(0,t.d4)(()=>{function B(){return gL(this,null,function*(){try{const k=yield Ze().get(`/api/v1/posts/${r}`);_(k.body)}catch(k){console.error("Failed to load post:",k),k.status===404?alert("Post not found"):alert((0,F.getNetworkErrorMessage)(k))}})}B()},[r]);let A=!1;return typeof window!="undefined"&&(A=((o=(0,p.parseQuery)(window.location.href).autoplay)!=null?o:"0")==="1"),a?(0,e.h)(Kl.Z,{feature:"Podcast",pub:n,post:a,src:a.podcast_url,autoPlay:A,metricsPost:a,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};function yL(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}var EL=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const bL=({pub:n,slug:r})=>{var o;const[a,_]=(0,t.eJ)(null);(0,t.d4)(()=>{function B(){return EL(this,null,function*(){try{const k=yield Ze().get(`/api/v1/posts/${r}`);_(k.body)}catch(k){console.error("Failed to load post:",k),k.status===404?alert("Post not found"):alert((0,F.getNetworkErrorMessage)(k))}})}B()},[r]);let A=!1;return typeof window!="undefined"&&(A=((o=(0,p.parseQuery)(window.location.href).autoplay)!=null?o:"0")==="1"),a?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(si.Z,{mediaUpload:a.videoUpload,pub:n,autoPlay:A})):(0,e.h)("div",{className:"loading-container"})};var PL=Object.defineProperty,OL=Object.defineProperties,CL=Object.getOwnPropertyDescriptors,Bv=Object.getOwnPropertySymbols,wL=Object.prototype.hasOwnProperty,SL=Object.prototype.propertyIsEnumerable,kv=(n,r,o)=>r in n?PL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,TL=(n,r)=>{for(var o in r||(r={}))wL.call(r,o)&&kv(n,o,r[o]);if(Bv)for(var o of Bv(r))SL.call(r,o)&&kv(n,o,r[o]);return n},IL=(n,r)=>OL(n,CL(r));const Fv=n=>(0,e.h)(Te.l,IL(TL({},n),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var ML=Object.defineProperty,DL=Object.defineProperties,AL=Object.getOwnPropertyDescriptors,Wv=Object.getOwnPropertySymbols,NL=Object.prototype.hasOwnProperty,LL=Object.prototype.propertyIsEnumerable,jv=(n,r,o)=>r in n?ML(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,RL=(n,r)=>{for(var o in r||(r={}))NL.call(r,o)&&jv(n,o,r[o]);if(Wv)for(var o of Wv(r))LL.call(r,o)&&jv(n,o,r[o]);return n},xL=(n,r)=>DL(n,AL(r));const UL=n=>(0,e.h)(Te.l,xL(RL({},n),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:n.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var BL=Object.defineProperty,kL=Object.defineProperties,FL=Object.getOwnPropertyDescriptors,Vv=Object.getOwnPropertySymbols,WL=Object.prototype.hasOwnProperty,jL=Object.prototype.propertyIsEnumerable,Hv=(n,r,o)=>r in n?BL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,VL=(n,r)=>{for(var o in r||(r={}))WL.call(r,o)&&Hv(n,o,r[o]);if(Vv)for(var o of Vv(r))jL.call(r,o)&&Hv(n,o,r[o]);return n},HL=(n,r)=>kL(n,FL(r));const KL=n=>(0,e.h)(Te.l,HL(VL({},n),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var $L=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});function GL(){var n;return typeof window!="undefined"?((n=window._preloads)==null?void 0:n.file)||{}:{}}function zL(n,r){return`${n.title.toLowerCase().replace(/\s/g,"_")}.${r.toLowerCase()}`}function ZL({file:n=GL(),pub:r}){const[o,a]=(0,t.eJ)(null);return(0,t.d4)(()=>(()=>$L(this,null,function*(){if(!n.fileKey){const _=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);_.redirected&&(window.location.href=_.url);const A=yield _.json();a(A)}}))(),[n.fileKey]),(0,e.h)(YL,{file:o||n,pub:r})}function YL({file:n,pub:r}){var o;if(!n.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const a=(o=n.file_key)==null?void 0:o.split(".").pop().toUpperCase(),_=(0,Tt.numberToHumanFileSize)(n.num_bytes),A=zL(n,a);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,p.getBaseUrl)(r)}/p/${n.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${n.thumbnail&&n.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:n.thumbnail||`${(0,p.getBaseUrl)(r)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},n.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},_," \u2219 ",a," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,p.getBaseUrl)(r)}/api/v1/file/panels/${n.file_key}`},(0,e.h)(KL,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(Fv,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:A,href:`${(0,p.getBaseUrl)(r)}/api/v1/file/${n.file_key}`},(0,e.h)(UL,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},A)),(0,e.h)(Fv,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var JL=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});class Xd extends e.Component{constructor(){super(...arguments),this.acceptInvite=()=>JL(this,null,function*(){var r,o;try{const a=yield Ze().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(r=a.body)!=null&&r.postUrl?location.href=(o=a.body)==null?void 0:o.postUrl:(0,F.redirect)(`/invite-success/${this.props.matches.id}`)}catch(a){const _=(0,F.getNetworkErrorMessage)(a);this.setState({error:_})}})}componentDidMount(){this.props.user||(0,F.redirectToLogin)()}render({pub:r,post:o,user:a,freeSignup:_,freeSignupEmail:A,inviteToPost:B,primaryEligiblePublications:k,switchAccountRedirectUrl:x},{error:J}){if(J)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,J));const pe=B&&o&&o.type==="podcast",_e=pe&&a?"Fill out your profile for your podcast appearance":pe&&!a?"Set up your profile for your podcast appearance":B&&a?"Set up your profile":B&&!a?"Fill out your profile":`Your invite to ${r.name}`,ye=pe?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":B?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",Pe=B?"Update Profile & Accept Invite":"Accept Invite",Ce=a?"Already a writer?":"Already have an account?",Se=a?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,_e),(0,e.h)("p",null,ye),(0,e.h)(Ld._0,{pageTitle:"",user:a,freeSignup:_,freeSignupEmail:A,needsPhoto:!1,optionalPhoto:B,isPostInvite:B,primaryEligiblePublications:k,onSuccess:this.acceptInvite,text:Pe}),B&&x&&(0,e.h)("div",{className:"invite-switch-account"},Ce," ",(0,e.h)("a",{href:x},Se)))}}Xd.defaultProps={inviteToPost:!1,primaryEligiblePublications:[]};class XL extends e.Component{renderNotAvailable(r,{time:o=!1}={}){const a=o?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),r,(0,e.h)("p",null,"Sorry, ",a,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(Me.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,QL(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:r,t:o,user:a,freeSignupEmail:_,viral_gift_data:A}){const{sender_name:B,count_remaining:k,sender_id:x}=A,J=(0,Tt.getGiftValueText)(r.plans),pe=J?` (value: ${J})`:"",_e=`Accept ${B||"your friend"}'s gift`,ye=`A three-month subscription to ${r.name}${pe}`,Pe=(0,F.setMetaData)({title:_e,description:ye,image:r.logo_url});if(!o||!k)return this.renderNotAvailable(Pe);let Ce=null;a&&a.id==x&&(Ce=this.renderForSender());let Se="",Ae=_||"";a&&!Ce&&(Se=a.name,Ae=a.email);const Ne=`${k} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},Ce,Pe,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,B||"Your friend"," would like to give you a free, three-month subscription. ",pe),(0,e.h)("p",null,(0,e.h)("b",null,Ne)),(0,e.h)(me.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Se}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:Ae}),(0,e.h)("input",{type:"hidden",value:o,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(ge.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function QL(n){return n.name?n.name.trim().split(/\s+/g)[0]:n.email.split("@")[0]}var qL=je(39693),Kv=je.n(qL);const Qd=({pub:n,section:r,isPodcast:o})=>{let a,_;return o&&n.podcast_title?({title:a}=bu(n,n.podcast_title),_=n.podcast_description):r?{title:a,description:_}=bu(n,`${r.name} | ${n.name}`,r.description):{title:a,description:_}=bu(n),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Ic()(Pp(n),{json:!0,isScriptContext:!0})}}),(0,F.setMetaData)({title:a,description:_}))},qd=({blurbs:n,freeSignup:r,freeSignupEmail:o,hide_intro_popup:a,noBalanceHeroText:_,pub:A,referralCode:B,showWelcome:k,user:x,launchWelcomePage:J})=>{const pe=(0,t.sO)(!1),_e=(0,t.sO)(null);return(0,t.d4)(()=>{(0,p.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,p.updateQuery)({action:null})),pe.current=!0),pe.current&&_e.current&&_e.current.open(),typeof window!="undefined"&&k&&(0,F.removeQueryParam)("showWelcome")},[k]),(0,e.h)(e.Fragment,null,(0,e.h)(ki.ZP,{ref:ye=>_e.current=ye,pub:A,user:x}),(0,e.h)(Nt,{blurbs:n,freeSignup:r,freeSignupEmail:o,hidden:a||pe.current,noBalance:_,publication:A,referralCode:B,showOnMount:k,user:x,launchWelcomePage:J}))};var eR=je(78718),$v=je.n(eR),tR=Object.defineProperty,rR=Object.defineProperties,nR=Object.getOwnPropertyDescriptors,Gv=Object.getOwnPropertySymbols,oR=Object.prototype.hasOwnProperty,aR=Object.prototype.propertyIsEnumerable,zv=(n,r,o)=>r in n?tR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Zv=(n,r)=>{for(var o in r||(r={}))oR.call(r,o)&&zv(n,o,r[o]);if(Gv)for(var o of Gv(r))aR.call(r,o)&&zv(n,o,r[o]);return n},Yv=(n,r)=>rR(n,nR(r));const Jv=({noFirstImage:n,posts:r,pub:o,user:a,utm:_,onChange:A})=>{const B={pub:o,user:a,utm:_,onChange:A};return(0,e.h)(qn,Yv(Zv({},B),{variant:n?"two-three-two":"five-up",posts:r}))},iR=n=>(0,e.h)(Jv,Yv(Zv({},n),{noFirstImage:!0})),sR={link:"frontend-main-home-MetaLink-module__link--b9iM0"},gs=({children:n,href:r,testid:o,onClick:a})=>(0,e.h)(u.xv.Meta,{className:sR.link,color:"pub-primary-text",as:"a",native:!0,href:r,"data-testid":o,onClick:a?_=>{_.preventDefault(),a()}:void 0},n),lR={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"},gi=({children:n})=>(0,e.h)(u.xv,{className:lR.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},n),Xv=({pub:n})=>{const{iString:r}=(0,l.M1)();return(0,e.h)(u.gq,{justifyContent:"space-between",paddingX:8},(0,e.h)(gi,null,r("Most Popular")),(0,e.h)(gs,{href:(0,p.getArchiveUrl)(n,{params:{sort:"top"}})},r("View all")))};var uR=Object.defineProperty,cR=Object.defineProperties,dR=Object.getOwnPropertyDescriptors,Qv=Object.getOwnPropertySymbols,fR=Object.prototype.hasOwnProperty,pR=Object.prototype.propertyIsEnumerable,qv=(n,r,o)=>r in n?uR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ef=(n,r)=>{for(var o in r||(r={}))fR.call(r,o)&&qv(n,o,r[o]);if(Qv)for(var o of Qv(r))pR.call(r,o)&&qv(n,o,r[o]);return n},tf=(n,r)=>cR(n,dR(r));const e1=({noFirstImage:n,posts:r,topPosts:o,pub:a,user:_,utm:A,onChange:B})=>{const k={pub:a,user:_,utm:A,onChange:B},{isTablet:x,isMobile:J}=(0,Tn.v9)();return J?null:(0,e.h)(fi,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(qn,tf(ef({},k),{variant:n?"two-small-three-medium":"two-small-one-large",posts:r,flex:"grow"})),o&&(0,e.h)(u.tu,{gap:12},(0,e.h)(Xv,{pub:a}),(0,e.h)(qn,tf(ef({},k),{flex:"grow",variant:x?"mini-row":"one-column-list",posts:o.slice(0,x?3:5)}))))},hR=n=>(0,e.h)(e1,tf(ef({},n),{noFirstImage:!0})),mR=({posts:n,pub:r,user:o,utm:a,onChange:_})=>n.length?(0,e.h)(us,{pub:r,user:o,utm:a,onChange:_,variant:"mobile-hero",post:n[0]}):null;var _R=Object.defineProperty,gR=Object.defineProperties,vR=Object.getOwnPropertyDescriptors,t1=Object.getOwnPropertySymbols,yR=Object.prototype.hasOwnProperty,ER=Object.prototype.propertyIsEnumerable,r1=(n,r,o)=>r in n?_R(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bR=(n,r)=>{for(var o in r||(r={}))yR.call(r,o)&&r1(n,o,r[o]);if(t1)for(var o of t1(r))ER.call(r,o)&&r1(n,o,r[o]);return n},PR=(n,r)=>gR(n,vR(r));const n1=({isSmall:n,posts:r,pub:o,user:a,utm:_,onChange:A})=>r.length?(0,e.h)(fi,{variant:n?"three-column-width":"full-width"},(0,e.h)(us,{pub:o,user:a,utm:_,onChange:A,variant:n?"jumbo-small":"jumbo",post:r[0]})):null,OR=n=>(0,e.h)(n1,PR(bR({},n),{isSmall:!0}));var CR=Object.defineProperty,Uu=Object.getOwnPropertySymbols,o1=Object.prototype.hasOwnProperty,a1=Object.prototype.propertyIsEnumerable,i1=(n,r,o)=>r in n?CR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,wR=(n,r)=>{for(var o in r||(r={}))o1.call(r,o)&&i1(n,o,r[o]);if(Uu)for(var o of Uu(r))a1.call(r,o)&&i1(n,o,r[o]);return n},SR=(n,r)=>{var o={};for(var a in n)o1.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Uu)for(var a of Uu(n))r.indexOf(a)<0&&a1.call(n,a)&&(o[a]=n[a]);return o};const TR={magaziney:e1,"magazine-5":Jv,newspaper:n1},IR=n=>{var r=n,{firstPostMissingImage:o,bodyVariant:a,isMobile:_,variant:A}=r,B=SR(r,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let k=TR[A];return _?k=mR:A==="newspaper"&&a==="list"?k=OR:A==="magaziney"&&o?k=hR:A==="magazine-5"&&o&&(k=iR),k?(0,e.h)(k,wR({},B)):(console.error("Component not found, add one to HomeHero"),null)},vi=(0,e.createContext)({latestPostByContributorId:void 0,latestPodcastPosts:void 0,contributors:void 0,freeSignup:void 0,freeSignupEmail:void 0,homepageLinks:void 0,numRecommendations:void 0,recommendations:void 0,topPosts:void 0,utm:void 0,onChangePost:void 0});var MR=je(7739),DR=je.n(MR),AR=je(89734),NR=je.n(AR),LR=Object.defineProperty,RR=Object.defineProperties,xR=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,BR=Object.prototype.propertyIsEnumerable,l1=(n,r,o)=>r in n?LR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,kR=(n,r)=>{for(var o in r||(r={}))UR.call(r,o)&&l1(n,o,r[o]);if(s1)for(var o of s1(r))BR.call(r,o)&&l1(n,o,r[o]);return n},FR=(n,r)=>RR(n,xR(r));const WR=n=>(0,e.h)(Te.l,FR(kR({},n),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var jR=Object.defineProperty,u1=Object.getOwnPropertySymbols,VR=Object.prototype.hasOwnProperty,HR=Object.prototype.propertyIsEnumerable,c1=(n,r,o)=>r in n?jR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,d1=(n,r)=>{for(var o in r||(r={}))VR.call(r,o)&&c1(n,o,r[o]);if(u1)for(var o of u1(r))HR.call(r,o)&&c1(n,o,r[o]);return n};const KR=({homepageLinks:n,pub:r,renderGroup:o,renderLink:a})=>{const _=DR()(n,"group"),A=NR()(Object.keysank);return(0,e.h)(e.Fragment,null,A.map(B=>(0,e.h)($R,{group:B,items:_[B],pub:r,newTab:!0,renderGroup:o,renderLink:a})))},$R=({group:n,items:r,newTab:o,pub:a,renderGroup:_,renderLink:A})=>{const B=[];let k=null;o&&(k="_blank",B.push("noopener")),(!a||a!=null&&a.no_follow)&&B.push("ugc nofollow");const x={rel:B.join(" "),target:k},J=(0,e.h)(e.Fragment,null,r.map(({title:pe,url:_e,subtitle:ye,subtitleUrl:Pe,edit:Ce,className:Se})=>A?A({title:pe,url:_e,subtitle:ye,linkProps:x}):(0,e.h)("div",{className:s()("home-right-col",Se)},Ce?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:_e,native:!0},pe),(0,e.h)(ge.Z,{className:"button secondary show-on-hover",href:Ce,title:"edit"},(0,e.h)(WR,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",d1({className:"home-right-col-title",href:_e,native:!0},x),pe),ye&&(0,e.h)("a",d1({className:"home-right-col-sub",href:Pe||_e,native:!0},x),ye))));return _?_({title:n,links:J}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},n),J)},f1={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"};var GR=Object.defineProperty,zR=Object.defineProperties,ZR=Object.getOwnPropertyDescriptors,Bu=Object.getOwnPropertySymbols,p1=Object.prototype.hasOwnProperty,h1=Object.prototype.propertyIsEnumerable,m1=(n,r,o)=>r in n?GR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,_1=(n,r)=>{for(var o in r||(r={}))p1.call(r,o)&&m1(n,o,r[o]);if(Bu)for(var o of Bu(r))h1.call(r,o)&&m1(n,o,r[o]);return n},YR=(n,r)=>zR(n,ZR(r)),JR=(n,r)=>{var o={};for(var a in n)p1.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Bu)for(var a of Bu(n))r.indexOf(a)<0&&h1.call(n,a)&&(o[a]=n[a]);return o};const rf=(0,ct.forwardRef)((n,r)=>{var o=n,{children:a,className:_,disable:A,href:B,hoverBackground:k,onClick:x}=o,J=JR(o,["children","className","disable","href","hoverBackground","onClick"]);const pe=A?void 0:x;return(0,e.h)(ts.xu,YR(_1(_1({},J),B?{as:"a",href:B}:{}),{ref:r,className:s()(_,!A&&f1.container,{[f1.containerHoverLight]:k==="light"&&!A}),role:pe?"button":void 0,onClick:pe}),a)});var XR=Object.defineProperty,QR=Object.defineProperties,qR=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,g1=Object.prototype.hasOwnProperty,v1=Object.prototype.propertyIsEnumerable,y1=(n,r,o)=>r in n?XR(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,nf=(n,r)=>{for(var o in r||(r={}))g1.call(r,o)&&y1(n,o,r[o]);if(ku)for(var o of ku(r))v1.call(r,o)&&y1(n,o,r[o]);return n},of=(n,r)=>QR(n,qR(r)),ex=(n,r)=>{var o={};for(var a in n)g1.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&ku)for(var a of ku(n))r.indexOf(a)<0&&v1.call(n,a)&&(o[a]=n[a]);return o};const Fu=n=>{var r=n,{alignItems:o="center",body:a,clampTitle:_,image:A,linkProps:B,subtitle:k,title:x,url:J}=r,pe=ex(r,["alignItems","body","clampTitle","image","linkProps","subtitle","title","url"]);const{size:_e,lineHeight:ye}=Cd.sm,Pe=typeof window=="undefined",Ce=(0,e.h)(rf,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(u.gq,of(nf({},pe),{alignItems:o,gap:16}),A&&(0,e.h)(u.xu,{alignSelf:"start"},A),(0,e.h)(u.tu,{gap:8},(0,e.h)(u.tu,{style:{wordBreak:"break-word"}},(0,e.h)(u.xv,{color:"pub-primary-text",font:"pub-headings",lineHeight:ye,size:_e,clamp:_},Pe?(0,e.h)("a",of(nf({},B),{href:J,style:{textDecoration:"none",display:"block"}}),x):x),k&&(0,e.h)(u.xv.B4,{color:"pub-secondary-text",size:12,clamp:3},k)),a&&(0,e.h)("div",null,a))));return Pe?Ce:(0,e.h)("a",of(nf({},B),{href:J,style:{textDecoration:"none",display:"block"}}),Ce)},E1=({hideHeaderBorder:n,pub:r})=>{const{homepageLinks:o}=(0,t.qp)(vi);return!o||o.length===0?null:(0,e.h)(u.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(KR,{homepageLinks:o,pub:r,renderGroup:({title:a,links:_})=>(0,e.h)(u.tu,{gap:16},(0,e.h)(u.gq,{alignItems:"center",borderBottom:n?void 0:"detail-themed",paddingBottom:n?void 0:8,paddingX:8},(0,e.h)(gi,null,a)),(0,e.h)(u.tu,{gap:4},_)),renderLink:({linkProps:a,subtitle:_,title:A,url:B})=>(0,e.h)(Fu,{linkProps:a,subtitle:_,title:A,url:B})}))},tx={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"},Wu=()=>{const{iString:n}=(0,l.M1)();return(0,e.h)(u.xu,{paddingX:16,paddingY:20,radius:6,className:tx.container,flex:"grow"},(0,e.h)(u.xv.B4,{color:"pub-secondary-text"},n("Coming soon")))};var rx=Object.defineProperty,nx=Object.defineProperties,ox=Object.getOwnPropertyDescriptors,b1=Object.getOwnPropertySymbols,ax=Object.prototype.hasOwnProperty,ix=Object.prototype.propertyIsEnumerable,P1=(n,r,o)=>r in n?rx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,sx=(n,r)=>{for(var o in r||(r={}))ax.call(r,o)&&P1(n,o,r[o]);if(b1)for(var o of b1(r))ix.call(r,o)&&P1(n,o,r[o]);return n},lx=(n,r)=>nx(n,ox(r)),O1=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const ux=(n,r,o,a,{trackOnly:_=!1,freeSignupEmail:A}={})=>()=>O1(void 0,null,function*(){if((0,d.track)(d.EVENTS.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:r.id}),!_)try{const B=o&&!o.is_magic&&o.email||A;yield Ze().post("/api/v1/free").send({email:B,source:"recommendations_page",first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU,other_publication_id:n.id,referring_pub_id:r.id}),a(n)}catch(B){alert((0,F.getNetworkErrorMessage)(B)||"Something went wrong")}}),cx=(n,r,o,{trackOnly:a=!1}={})=>()=>O1(void 0,null,function*(){if((0,d.track)(d.EVENTS.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:r.id}),!a)try{yield Ze().delete("/api/v1/free").send({publication_id:n.id,source:"recommendations_page"}),o(n)}catch(_){alert((0,F.getNetworkErrorMessage)(_)||"Something went wrong")}}),dx=({pub:n,recommendations:r,allSubscribedPubs:o,fullySubscribedPubs:a,user:_,freeSignupEmail:A})=>{const{getExperimentVariant:B,exposeExperiment:k}=(0,wr.jc)(),{iString:x,iTemplate:J}=(0,l.M1)(),[pe,_e]=(0,t.eJ)(o)])},Pe=Ce=>{_e(pe.filter(({id:Se})=>Se!==Ce.id))};return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,J`Recommended by ${(0,Tt.getByLine)(n)||n.name}`),(0,e.h)("div",{className:"recommended-publications-container"},r.map((Ce,Se)=>{const Ae=Ce.recommendedPublication;if(!Ae)return;const Ne=`${(0,p.getBaseUrl)(Ae)}/?utm_source=${j.UTM_SOURCE.recommendationsPage}&utm_campaign=${n.id}`,Ve=(0,p.getSubscribeUrl)(Ae,{addBase:!0,utm_source:j.UTM_SOURCE.recommendationsPage,referring_pub_ids:[n.id],simple:!0}),ze=(0,Tt.getByLine)(Ae),Je=a.map(({id:Ye})=>Ye).includes(Ae.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:Ne,onClick:()=>{(0,d.track)(d.EVENTS.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:Ae.id,recommending_publication_id:n.id})}},(0,e.h)(ja.Z,{pub:Ae,size:48,logo_url:Ae.logo_url||Ae.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},Ae.name),!!ze&&(0,e.h)("div",{className:"publication-author"},J`By ${ze}`))),pe.map(({id:Ye})=>Ye).includes(Ae.id)?(0,e.h)(ge.Z,{onClick:cx(Ae,n,Pe,{trackOnly:Je}),href:Je?(0,p.getPubAccountSettingsUrl)(Ae,{addBase:!0}):null,className:"unsubscribe"},x("Subscribed")):(0,e.h)(ge.Z,{onClick:_&&!_.is_magic&&_.email||A?ux(Ae,n,_,ye,{freeSignupEmail:A}):()=>{(0,d.track)(d.EVENTS.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:Ae.id,recommending_publication_id:n.id}),(0,F.redirect)(Ve,{local_navigation:!1})}},(0,e.h)(u.gq,{alignItems:"center",gap:8},(0,e.h)(Is.Z,{size:20}),x("Subscribe")))),(0,e.h)("div",{className:"publication-suggestion-text-area"},(Ae.editorial_bio||Ae.hero_text)&&(0,e.h)("div",{className:"publication-description"},Ae.editorial_bio||Ae.hero_text)),Ce.description&&(0,e.h)(fx,{content:Ce.description,author:(0,Tt.getByLine)(n)||n.name}))))}))))},fx=({author:n,content:r})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},r),(0,e.h)("p",{className:"blurb-author"},"- ",n)),px=({recommendations:n,numRecommendations:r,pub:o,user:a,render:_,renderRecommendation:A})=>{const{iString:B,iTemplate:k}=(0,l.M1)(),x=n.map(J=>(0,e.h)(hx,{recommendation:J,pub:o,signedIn:!!a,render:A}));return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:n..id)})},[n]),_?_({recommendations:x,canManage:!!(a!=null&&a.is_admin),manageUrl:(0,p.getPublishSettingsRecommendationsUrl)(o),hasMore:r>n.length,hasMoreUrl:(0,p.getRecommendationsPageUrl)(o),recommendationsCount:r}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(o)},"Recommendations"),a!=null&&a.is_admin?(0,e.h)("a",{href:(0,p.getPublishSettingsRecommendationsUrl)(o),native:!0},B("Manage")):r>n.length?(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(o),native:!0},k`View all ${r}`):null),x)},hx=({recommendation:n,pub:r,signedIn:o,render:a})=>{const{recommendedPublication:_}=n,A=(0,p.getPubUrl)(_,{params:{utm_source:j.UTM_SOURCE.homepageRecommendations,utm_campaign:r.id},signedIn:o}),B=()=>{(0,d.track)(d.EVENTS.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:r.id,recommended_publication_id:_.id,source:"homepage-recommendations"})},k={pub:_,logo_url:_.logo_url,href:A,openInNewTab:!0,belowTheFold:!0};return a?a({pubIconProps:k,pubName:_.name,pubAuthor:_.author.name,url:A,onClick:B}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:B},(0,e.h)(ja.Z,lx(sx({},k),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:A,target:"_blank",onClick:B},_.name),(0,e.h)("div",{className:"pub-author"},_.author.name)))))},mx=px;var _x=Object.defineProperty,gx=Object.defineProperties,vx=Object.getOwnPropertyDescriptors,C1=Object.getOwnPropertySymbols,yx=Object.prototype.hasOwnProperty,Ex=Object.prototype.propertyIsEnumerable,w1=(n,r,o)=>r in n?_x(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bx=(n,r)=>{for(var o in r||(r={}))yx.call(r,o)&&w1(n,o,r[o]);if(C1)for(var o of C1(r))Ex.call(r,o)&&w1(n,o,r[o]);return n},Px=(n,r)=>gx(n,vx(r));const S1=({pub:n,showEmptyState:r,hideHeaderBorder:o,user:a})=>{const{numRecommendations:_,recommendations:A}=(0,t.qp)(vi),{iString:B,iTemplate:k}=(0,l.M1)();return!A||A.length===0&&!r?null:(0,e.h)(mx,{recommendations:A,numRecommendations:_,pub:n,user:a,render:({recommendations:x,canManage:J,manageUrl:pe,hasMore:_e,hasMoreUrl:ye,recommendationsCount:Pe})=>(0,e.h)(u.tu,{gap:16},(0,e.h)(u.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:o?void 0:8,paddingX:8,borderBottom:o?void 0:"detail-themed"},(0,e.h)(gi,null,B("Recommendations")),J?(0,e.h)(gs,{href:pe},B("Manage")):_e?(0,e.h)(gs,{href:ye,testid:"homepage-recommendations-view-all"},k`View all ${Pe}`):null),(0,e.h)(u.tu,{gap:4,"data-testid":"homepage-recommendations"},_===0?(0,e.h)(u.gq,{paddingX:8},(0,e.h)(Wu,null)):x)),renderRecommendation:({url:x,onClick:J,pubIconProps:pe,pubName:_e,pubAuthor:ye})=>{const Pe={onClick:J,target:"_blank",rel:"noopener"};return(0,e.h)(Fu,{"data-testid":"homepage-recommendation",image:(0,e.h)(ja.Z,Px(bx({},pe),{size:40,noMargin:!0})),linkProps:Pe,subtitle:ye,title:_e,url:x})}})},T1={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"},I1=({pub:n,user:r})=>{const{freeSignup:o,freeSignupEmail:a}=(0,t.qp)(vi),{size:_,lineHeight:A}=Cd.sm;return(0,e.h)(u.tu,{className:T1.container,gap:24,paddingX:8},(0,e.h)(u.tu,{gap:8},n.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:T1.pubLogo,src:(0,p.imginary)(n.logo_url,88),alt:n.name}),(0,e.h)("div",null,(0,e.h)(u.xv,{size:_,lineHeight:A,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},n.name),n.hero_text&&(0,e.h)(u.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},n.hero_text))),!(r!=null&&r.is_subscribed)&&(0,e.h)(Ha,{expectTruncation:!0,freeSignup:o,freeSignupEmail:a,isStatic:!1,pub:n,source:"magaziney-home-page",user:r}))},Ox=({pub:n,user:r})=>{const{isMobile:o}=(0,Tn.v9)();return(0,e.h)(u.tu,{gap:40},!o&&(0,e.h)(I1,{pub:n,user:r}),n.show_recs_on_homepage&&(0,e.h)(S1,{pub:n,user:r}),(0,e.h)(E1,{pub:n}))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=(0,$r.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);var wx=je(35570);const fl={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var Sx=Object.defineProperty,Tx=Object.defineProperties,Ix=Object.getOwnPropertyDescriptors,ju=Object.getOwnPropertySymbols,M1=Object.prototype.hasOwnProperty,D1=Object.prototype.propertyIsEnumerable,A1=(n,r,o)=>r in n?Sx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,yi=(n,r)=>{for(var o in r||(r={}))M1.call(r,o)&&A1(n,o,r[o]);if(ju)for(var o of ju(r))D1.call(r,o)&&A1(n,o,r[o]);return n},vs=(n,r)=>Tx(n,Ix(r)),N1=(n,r)=>{var o={};for(var a in n)M1.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&ju)for(var a of ju(n))r.indexOf(a)<0&&D1.call(n,a)&&(o[a]=n[a]);return o},Mx=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});constn n,Dx=n=>{var r;const[o,a]=(0,t.eJ)((r=n.postsByGroupId)!=null?r:{}),[_,A]=(0,t.eJ)(!1),B=n,{posts:k,bodyPostGroups:x,hasEmptyGroupOptions:J,setHasInvalidGroupSelection:pe}=B,_e=N1(B,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,t.d4)(()=>{const Ce=Se=>Mx(void 0,null,function*(){const Ae=yi({},o);for(const Ne of Se){const Ve={limit:6};if(Vu(Ne)?Ve.section_id=Ne.id:Ve.post_tag_id=Ne.id,!Ae[Ne.id]){const{body:ze}=yield Ze().get("/api/v1/archive").query(Ve);Ae[Ne.id]=ze}}ol()(Ae,o)||(a(Ae),A(!1))});Object.keys(o).length===0&&x&&(x==null?void 0:x.length)>0&&(A(!0),Ce(x))},[x,a,o]);const ye=(0,t.I4)(Ce=>{var Se;const Ae=(Se=Ce.post_tag_id)!=null?Se:Ce.section_id;if(!Ae)throw new Error("Must supply section_id or post_tag_id");o&&o[Ae]||Ze().get("/api/v1/archive").query(yi({limit:3},Ce)).then(({body:Ne})=>{a(vs(yi({},o),{[Ae]:Ne}))})},[o,a]),Pe=(0,t.I4)(Ce=>{var Se;return!o||o&&Object.keys(o).length===0||!o[Ce]?null:(Se=o[Ce])==null?void 0:Se.slice(0,3)},[o]);return J||!x||(x==null?void 0:x.length)===0?pe?(pe(!0),(0,e.h)(L1,{message:"No groups selected"})):(0,e.h)(u.tu,null,(0,e.h)(af,{pub:n.pub}),(0,e.h)(qn,vs(yi({},_e),{variant:"three-column-grid",posts:k.slice(0,3)}))):(0,e.h)("div",{className:fl.homePageGroupsGrid},x.map(Ce=>{const Se=Pe(Ce.id);return(0,e.h)(u.tu,{paddingBottom:24},(0,e.h)(af,{pub:n.pub,row:Ce}),(0,e.h)(Ax,vs(yi({},_e),{posts:k,loadingSync:_,groupModel:Ce,postsForId:Se,setHasInvalidGroupSelection:pe,onIntersectCallback:()=>{const Ae=Vu(Ce)?{section_id:Ce.id}:{post_tag_id:Ce.id};ye(Ae)}})))}),x.length<3?(0,e.h)(u.tu,null,(0,e.h)(af,{pub:n.pub}),(0,e.h)(qn,vs(yi({},_e),{variant:"three-column-grid",posts:k.slice(0,3)}))):null)},L1=({groupModel:n,message:r})=>(0,e.h)(u.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(u.tu,{alignItems:"center",justifyContent:"center",className:s()(fl.homePageGroupsGrid,n?fl.emptyGroupView:fl.emptyRowsView)},(0,e.h)(Cx,{className:fl.emptyContentIcon}),r&&(0,e.h)(u.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},r),n&&(0,e.h)(u.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",Vu(n)?"section":"tag"," to include it on your homepage."))),af=({row:n,pub:r})=>{var o;const{isMobile:a}=(0,Tn.v9)();let _="/archive";return n&&(_=Vu(n)?(0,gt.getSectionUrl)(r,{section:n}):(0,gt.getPostTagUrl)(r,n)),(0,e.h)(u.tu,{paddingBottom:12,paddingX:a?0:8},(0,e.h)(u.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(u.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(o=n==null?void 0:n.name)!=null?o:"Recent posts"),(0,e.h)(gs,{href:_},"See all")))},Ax=n=>{const r=n,{onIntersectCallback:o,groupModel:a,loadingSync:_,postsForId:A,setHasInvalidGroupSelection:B}=r,k=N1(r,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[x,J]=(0,wx.Z)();return(0,t.d4)(()=>{J!=null&&J.isIntersecting&&!_&&o()},[J==null?void 0:J.isIntersecting,o,_]),A?A.length===0?B?(B(!0),(0,e.h)(L1,{groupModel:a})):(0,e.h)(qn,vs(yi({},k),{variant:"three-column-grid",posts:k.posts.slice(0,3)})):(0,e.h)(qn,vs(yi({},k),{variant:"three-column-grid",posts:A})):(0,e.h)(Od,{postCount:3,variant:"grid-groups",ref:x})};var Nx=Object.defineProperty,Lx=Object.defineProperties,Rx=Object.getOwnPropertyDescriptors,R1=Object.getOwnPropertySymbols,xx=Object.prototype.hasOwnProperty,Ux=Object.prototype.propertyIsEnumerable,x1=(n,r,o)=>r in n?Nx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,U1=(n,r)=>{for(var o in r||(r={}))xx.call(r,o)&&x1(n,o,r[o]);if(R1)for(var o of R1(r))Ux.call(r,o)&&x1(n,o,r[o]);return n},Bx=(n,r)=>Lx(n,Rx(r));function kx({pub:n,user:r,freeSignup:o,freeSignupEmail:a,className:_=""}){const{iString:A,language:B}=(0,l.M1)();return(0,e.h)("div",{className:s()("home-sitemap",_)},(0,e.h)("h4",{className:"home-sitemap-title"},n.name),o||r&&r.is_free_subscribed?!(r&&r.is_subscribed)&&n.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,p.getSubscribeUrl)(n,{utm_source:j.UTM_SOURCE.homeSitemap}),native:!0},(0,Tt.getSubscribeText)(n,{language:B})):null:(0,e.h)(u.xu,{paddingTop:20},(0,e.h)(Me.Z,{className:"home-sitemap-signup-form",freeSignup:o,freeSignupEmail:a,pub:n,source:"home-sitemap",user:r,onSuccess:k=>{k.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,p.pathWithQuery)("/account/login",{redirect:document.location.href,email:k.body.email})},30):n.plans?document.location.href=(0,p.pathWithQuery)("/subscribe",Bx(U1(U1({next:document.location.href,later:!0,just_signed_up:!0},k.body.subscription_id&&{subscription_id:k.body.subscription_id}),k.body.referral_token&&{referral_token:k.body.referral_token}),{requires_confirmation:k.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,p.getAboutUrl)(n),native:!1},A("About")),(0,e.h)("a",{href:(0,p.getBaseArchiveUrl)(n)},A("Archive")),n.has_recommendations&&(0,e.h)("a",{href:(0,p.getRecommendationsPageUrl)(n),native:!0},A("Recommendations")),n.can_have_sitemap&&(0,e.h)("a",{href:(0,p.getSitemapUrl)(n),native:!0},A("Sitemap"))))}var Fx=Object.defineProperty,Wx=Object.defineProperties,jx=Object.getOwnPropertyDescriptors,B1=Object.getOwnPropertySymbols,Vx=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,k1=(n,r,o)=>r in n?Fx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Wi=(n,r)=>{for(var o in r||(r={}))Vx.call(r,o)&&k1(n,o,r[o]);if(B1)for(var o of B1(r))Hx.call(r,o)&&k1(n,o,r[o]);return n},ji=(n,r)=>Wx(n,jx(r));const F1=["newspaper","magaziney","magazine-5"],W1=16,DV=7,AV={newspaper:{id:"newspaper",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},j1=()=>{const{iString:n,iTemplate:r}=(0,l.M1)();return{newspaper:{id:"newspaper",label:n("Feature"),description:n("One featured post"),legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:n("Newspaper"),description:n("A side column of top posts"),legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:n("Magazine"),description:n("Five featured posts"),legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}}},NV=()=>{const n=j1();return F1.map(o=>({value:o,label:n[o].label}))},Kx=()=>{const n=j1();return F1.reduce((r,o)=>ji(Wi({},r),{[o]:n[o].postCount}),{})},V1=["list","grid","grid-groups","custom"],H1=()=>{const{iString:n,iTemplate:r}=(0,l.M1)();return{list:{id:"list",label:n("List"),description:n("A list of posts"),postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:n("Grid"),description:n("A grid of nine posts"),postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:n("Groups (sections or tags)"),description:n("A grid of nine posts, grouped by section or tag"),postCount:{desktop:9,tablet:9,mobile:7}},custom:{id:"custom",label:n("Custom"),description:n("Custom layout"),postCount:{desktop:0,tablet:0,mobile:0}}}},$x=()=>{const n=H1();return V1.redt}),{})},LV=({excludeCustom:n})=>{const r=H1();return V1.filter(o=>!n||o!=="custom").l}))},RV={subscribe:{id:"subscribe",label:"Subscribe"},recommendations:{id:"recommendations",label:"Recommendations"},links:{id:"links",label:"Links"},contributors:{id:"contributors",label:"Contributors"},newsletters:{id:"newsletters",label:"Newsletters"},podcasts:{id:"podcasts",label:"Podcasts"},"top-posts":{id:"top-posts",label:"Top posts"}},sf={posts:{min:3,default:6,max:7},rows:{min:1,default:2,max:3}},xV=n=>{let r=!1;const o=[],a={},_=new Set,A=new Set;let B=0;return n.length===0&&(r=!0,o.push("You must have at least one content block")),n.forEach(k=>{const x=Gx(k);x==="latest"&&(B+=lf({contentBlock:k}),B>W1&&(r=!0,a[k.id]=ji(Wi({},a[k.id]),{post_source:[`You can't have more than ${W1} of your most recent posts`]}))),x!=="latest"&&x!=="none"&&(_.has(x)?(r=!0,a[k.id]=ji(Wi({},a[k.id]),{post_source:["You can't use the same post source more than once"]})):_.add(x)),x==="none"&&k.block_type!=="subscribe"&&(r=!0,a[k.id]=ji(Wi({},a[k.id]),{post_source:["This block type requires a post source"]})),k.primary_sidebar_modules.forEach(J=>{A.has(J)?(r=!0,a[k.id]=ji(Wi({},a[k.id]),{primary_sidebar_modules:["You can't use the same module more than once"]})):A.add(J)}),k.secondary_sidebar_modules.forEach(J=>{A.has(J)?(r=!0,a[k.id]=ji(Wi({},a[k.id]),{secondary_sidebar_modules:["You can't use the same module more than once"]})):A.add(J)})}),{hasError:r,errorObject:{global:o.length?o:null,contentBlocks:a}}},Gx=n=>n.post_source==="tag"?`tag:${n.post_tag_id}`:n.post_source==="section"?`section:${n.section_id}`:n.post_source,lf=({contentBlock:n,breakpoint:r="desktop"})=>{if(n.block_type==="list")return n.num_posts||sf.posts.default;if(n.block_type==="grid"){const o=n.num_rows||sf.rows.default;if(r==="desktop"||r==="mobile"){let a=4;return n.primary_sidebar_modules.length>0&&(a-=1),n.secondary_sidebar_modules.length>0&&(a-=1),a*o}else if(r==="tablet"){let a=3;return(n.primary_sidebar_modules.length>0||n.secondary_sidebar_modules.length>0)&&(a-=1),a*o}}return n.block_type==="feature"?4:0};var zx=Object.defineProperty,Zx=Object.defineProperties,Yx=Object.getOwnPropertyDescriptors,Hu=Object.getOwnPropertySymbols,K1=Object.prototype.hasOwnProperty,$1=Object.prototype.propertyIsEnumerable,G1=(n,r,o)=>r in n?zx(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,uf=(n,r)=>{for(var o in r||(r={}))K1.call(r,o)&&G1(n,o,r[o]);if(Hu)for(var o of Hu(r))$1.call(r,o)&&G1(n,o,r[o]);return n},cf=(n,r)=>Zx(n,Yx(r)),Jx=(n,r)=>{var o={};for(var a in n)K1.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Hu)for(var a of Hu(n))r.indexOf(a)<0&&$1.call(n,a)&&(o[a]=n[a]);return o};const Xx={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},Qx={grid:"three-column-grid",list:"two-column-list"},qx={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},e8=n=>{var r=n,{freeSignup:o,freeSignupEmail:a,hideImagesFromList:_,posts:A,pub:B,showSiteMap:k,source:x,user:J,utm:pe,variant:_e,onChange:ye,bodyPostGroups:Pe,postsByGroupId:Ce}=r,Se=Jx(r,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:Ae}=(0,Tn.v9)(),Ve=$x()[_e][Ae],ze=_e==="list"&&(_||A.slice(0,Ve).every(Je=>!Je.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(fi,{variant:Xx[_e],showContentBelowOnMobile:!0},(0,e.h)(ss,cf(uf({},Se),{maxPosts:Ve,newPosts:A,pub:B,user:J,variant:_e}),({posts:Je,linkToComments:Ye,onClickPost:ht})=>{const wt={hideImages:ze,linkToComments:Ye,posts:Je,pub:B,source:x,user:J,utm:pe,onChange:ye,onClickPost:ht};return _e==="grid-groups"?(0,e.h)(Dx,cf(uf({},wt),{bodyPostGroups:Pe,postsByGroupId:Ce,setHasInvalidGroupSelection:Se.setHasInvalidGroupSelection,hasEmptyGroupOptions:Se.hasEmptyGroupOptions})):(0,e.h)(qn,cf(uf({},wt),{variant:Qx[_e]}))}),(0,e.h)(Ox,{pub:B,user:J})),k&&(0,e.h)(fi,{variant:qx[_e]},(0,e.h)(kx,{pub:B,user:J,freeSignup:o,freeSignupEmail:a})))},t8={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"},df=()=>(0,e.h)(u.xu,{paddingX:16,paddingY:48,radius:6,className:t8.container},(0,e.h)(u.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found")),ff=({title:n,viewAllUrl:r})=>{const{isMobile:o}=(0,Tn.v9)();return(0,e.h)(u.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:o?12:16,paddingX:o?0:8},o?(0,e.h)(gi,null,n):(0,e.h)(u.xv.H2,{color:"pub-primary-text",font:"pub-headings"},n),r&&(0,e.h)(gs,{href:r},"View all"))},pl={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"},r8=({leftContent:n,rightContent:r,mobileContent:o})=>{const{isMobile:a}=(0,Tn.v9)();return a&&o?o:(0,e.h)("div",{className:pl.container},(0,e.h)("div",{className:s()(pl.column,pl.left)},n),(0,e.h)("div",{className:s()(pl.column,pl.right)},r))},n8=({posts:n,pub:r,showEmptyState:o,title:a,user:_,viewAllUrl:A,onChange:B})=>{const{isTablet:k}=(0,Tn.v9)();return!o&&n.length===0?null:(0,e.h)(e.Fragment,null,a&&(0,e.h)(ff,{title:a,viewAllUrl:A}),n.length?(0,e.h)(r8,{leftContent:(0,e.h)(us,{imageAspectRatio:"wide",hideWash:!0,post:n[0],pub:r,user:_,variant:"large",onChange:B}),rightContent:(0,e.h)(qn,{posts:n.slice(1,4),pub:r,user:_,variant:k?"one-column-list":"two-column-list",onChange:B}),mobileContent:(0,e.h)(qn,{posts:n.slice(0,4),pub:r,user:_,variant:"two-column-list",onChange:B})}):(0,e.h)(df,null))},Aa={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"},pf=({leftContent:n,mainContent:r,rightContent:o,stretchToFullWidth:a})=>{const{isMobile:_,isTablet:A,isDesktop:B}=(0,Tn.v9)(),k=n&&o;let x=2;return a&&(B?x=4-(n?1:0)-(o?1:0):A&&(x=3-(n||o?1:0))),_&&(x=1),(0,e.h)("div",{className:Aa.outerContainer},(0,e.h)("div",{className:Aa.container},n&&(0,e.h)(u.xu,{className:s()(Aa.column,Aa.column1),borderRight:k?"detail-themed":void 0,paddingTop:8},n),(0,e.h)(u.xu,{className:s()(Aa.column,{[Aa.column2]:x===2,[Aa.column3]:x===3,[Aa.column4]:x===4}),borderRight:k?"detail-themed":void 0},r),o&&(0,e.h)(u.xu,{className:s()(Aa.column,Aa.column1),paddingTop:8},o)))};var o8=je(8400),a8=je.n(o8);const hl={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"},i8=({posts:n,pub:r,numColumns:o,user:a,onChange:_})=>{const A=a8()(n,o);return(0,e.h)(u.tu,{gap:16},A.map(B=>(0,e.h)(u.gq,{className:hl.postRow},B.map(k=>(0,e.h)("div",{className:s()(hl.postContainer,{[hl.postContainerTwoColumn]:o===2,[hl.postContainerThreeColumn]:o===3,[hl.postContainerFourColumn]:o===4})},(0,e.h)(us,{post:k,pub:r,user:a,variant:"square",onChange:_}))))))},z1=({contributor:n,latestPost:r})=>r?(0,e.h)(rf,{href:r.canonical_url,hoverBackground:"light",padding:8,radius:6},(0,e.h)(u.gq,{gap:16,alignItems:"center"},(0,e.h)(u.tu,{flex:"grow"},(0,e.h)(u.xv.Meta,{color:"pub-accent"},n.name),(0,e.h)(mi,{post:r,preset:"sm"})),(0,e.h)(u.hs,{flex:"auto"},(0,e.h)(kl,{imageUrl:n.photo_url,size:48})))):null,Z1=10,s8=()=>{const{iString:n,iTemplate:r}=(0,l.M1)(),{contributors:o,latestPostByContributorId:a}=(0,t.qp)(vi),[_,A]=(0,t.eJ)(!1);if(!o)return null;const B=o.filter(J=>J.name&&(a==null?void 0:a[J.id])),k=B.slice(0,Z1),x=B.slice(Z1);return(0,e.h)(u.tu,{gap:16},(0,e.h)(u.gq,{paddingX:8},(0,e.h)(gi,null,n("The latest from"))),(0,e.h)(u.tu,{gap:4},k.length?k.map(J=>(0,e.h)(z1,{contributor:J,latestPost:a==null?void 0:a[J.id]})):(0,e.h)(Wu,null),(0,e.h)(u.HZ,{expanded:_},(0,e.h)(u.tu,{gap:4},x.map(J=>(0,e.h)(z1,{contributor:J,latestPost:a==null?void 0:a[J.id]})))),x.length>0&&(0,e.h)(u.gq,{paddingY:4,paddingX:8},(0,e.h)(gs,{onClick:()=>{A(!_)}},_?r`Show less`:r`Show ${x.length} more`))))},Vi={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG",logoPlaceholder:"frontend-main-home-sidebar-PodcastArt-module__logoPlaceholder--D2tNI"},Y1=({altText:n="Section logo",size:r=64,url:o,showPlaceholder:a})=>o?(0,e.h)("img",{className:s()(Vi.logo,{[Vi["logo-64"]]:r===64,[Vi["logo-72"]]:r===72}),src:(0,p.imginary)(o,r*2),alt:n}):a?(0,e.h)("div",{className:s()(Vi.logo,Vi.logoPlaceholder,{[Vi["logo-64"]]:r===64,[Vi["logo-72"]]:r===72})}):null,l8=({pub:n})=>{const{iString:r}=(0,l.M1)(),o=n.sections.filter(_=>(0,Tt.sectionIsSpecificallyMarkedAsNewsletter)({section:_,pub:n})||!_.is_podcast),a=o.some(_=>_.logo_url);return(0,e.h)(u.tu,{gap:16},(0,e.h)(u.gq,{paddingX:8},(0,e.h)(gi,null,r("Newsletters"))),(0,e.h)(u.tu,{gap:4},o.length?o.map(_=>(0,e.h)(Fu,{image:_.logo_url||a?(0,e.h)(Y1,{size:64,url:_.logo_url,altText:`Logo for ${_.name}`,showPlaceholder:!0}):null,title:_.name,subtitle:_.description,url:(0,gt.getSectionUrl)(n,{section:_,addBase:!0})})):(0,e.h)(Wu,null)))},u8=({podcastArtUrl:n,podcastTitle:r,podcastUrl:o,latestPost:a,showPlaceholder:_})=>{const{iString:A,iTemplate:B}=(0,l.M1)();return(0,e.h)(rf,{href:a?a.canonical_url:o,hoverBackground:"light",padding:8,radius:6},(0,e.h)(u.gq,{gap:16,alignItems:"start"},(n||_)&&(0,e.h)(u.hs,{flex:"auto"},(0,e.h)(Y1,{size:64,url:n,altText:B`Logo for ${r}`,showPlaceholder:!0})),(0,e.h)(u.tu,{flex:"grow"},(0,e.h)(u.xv.Meta,{color:"pub-accent"},r),a?(0,e.h)(mi,{noIcons:!0,post:a,preset:"sm"}):(0,e.h)(u.xv.B4,{color:"pub-secondary-text",paddingTop:8,style:{fontStyle:"italic"}},A("Coming soon")))))},c8=({pub:n})=>{const{iString:r}=(0,l.M1)(),{latestPodcastPosts:o}=(0,t.qp)(vi),a=(0,sl.FV)(n),_=a.some(A=>A.podcast_art_url);return(0,e.h)(u.tu,{gap:16},(0,e.h)(u.gq,{paddingX:8},(0,e.h)(gi,null,r("Podcasts"))),(0,e.h)(u.tu,{gap:4},a.length?a.map(A=>{var B,k;const x=A.section_id?(B=o==null?void 0:o.sectionPodcasts[A.section_id])!=null?B:null:(k=o==null?void 0:o.pubPodcast)!=null?k:null;return(0,e.h)(u8,{latestPost:x,podcastArtUrl:A.podcast_art_url,podcastTitle:A.title,podcastSubtitle:A.subtitle,podcastUrl:A.url,showPlaceholder:_})}):(0,e.h)(Wu,null)))},d8=({pub:n,user:r})=>{const{iString:o}=(0,l.M1)(),{topPosts:a,utm:_,onChangePost:A}=(0,t.qp)(vi);return!a||!A?null:(0,e.h)(u.tu,{gap:16},(0,e.h)(gi,null,o("Top posts")),(0,e.h)(qn,{pub:n,posts:a.slice(0,5),user:r,utm:_,variant:"one-column-list",onChange:A}))};var f8=Object.defineProperty,J1=Object.getOwnPropertySymbols,p8=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable,X1=(n,r,o)=>r in n?f8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,m8=(n,r)=>{for(var o in r||(r={}))p8.call(r,o)&&X1(n,o,r[o]);if(J1)for(var o of J1(r))h8.call(r,o)&&X1(n,o,r[o]);return n};const Ei=({ids:n,pub:r,user:o})=>{const a=Kv()(n.map(_=>_==="subscribe"?(0,e.h)(I1,{pub:r,user:o}):_==="recommendations"?(0,e.h)(S1,{pub:r,user:o,showEmptyState:!0,hideHeaderBorder:!0}):_==="links"?_8(E1,{pub:r,hideHeaderBorder:!0}):_==="contributors"?(0,e.h)(s8,null):_==="podcasts"?(0,e.h)(c8,{pub:r}):_==="newsletters"?(0,e.h)(l8,{pub:r}):_==="top-posts"?(0,e.h)(d8,{pub:r,user:o}):null));return(0,e.h)(u.tu,null,a.map((_,A)=>(0,e.h)(e.Fragment,null,_,A<a.length-1&&(0,e.h)(is,null))))},_8=(n,r)=>{const o=(0,e.h)(n,m8({},r));return typeof o.type=="function"&&o.type(r)===null?null:o},g8=({numPosts:n,posts:r,pub:o,showEmptyState:a,sidebarLeft:_,sidebarRight:A,title:B,user:k,viewAllUrl:x,onChange:J})=>{const{isDesktop:pe,isTablet:_e}=(0,Tn.v9)();if(!a&&r.length===0)return null;const ye=_&&_.length>0,Pe=A&&A.length>0;let Ce,Se,Ae;pe?(Ce=ye?(0,e.h)(Ei,{ids:_,pub:o,user:k}):void 0,Se=Pe?(0,e.h)(Ei,{ids:A,pub:o,user:k}):void 0,Ae=4-(Pe?1:0)-(ye?1:0)):_e?Pe?(Se=(0,e.h)(Ei,{ids:[...A,..._!=null?_:[]],pub:o,user:k}),Ae=2):ye?(Ce=(0,e.h)(Ei,{ids:_,pub:o,user:k}),Ae=2):Ae=3:Ae=1;const Ne=(0,e.h)(e.Fragment,null,B&&(0,e.h)(ff,{title:B,viewAllUrl:x}),r.length?(0,e.h)(i8,{posts:r.slice(0,n),pub:o,user:k,numColumns:Ae,onChange:J}):(0,e.h)(df,null));return(0,e.h)(pf,{mainContent:Ne,leftContent:Ce,rightContent:Se,stretchToFullWidth:!0})},v8=({numPosts:n,posts:r,pub:o,showEmptyState:a,sidebarLeft:_,sidebarRight:A,title:B,user:k,viewAllUrl:x,onChange:J})=>{const{isTablet:pe,isDesktop:_e}=(0,Tn.v9)();if(!a&&r.length===0)return null;const ye=_&&_.length>0,Pe=A&&A.length>0;let Ce,Se;const Ae=(0,e.h)(e.Fragment,null,B&&(0,e.h)(ff,{title:B,viewAllUrl:x}),r.length?(0,e.h)(qn,{posts:r.slice(0,n),pub:o,user:k,variant:"two-column-list",onChange:J}):(0,e.h)(df,null));return _e?(Ce=ye?(0,e.h)(Ei,{ids:_,pub:o,user:k}):void 0,Se=Pe?(0,e.h)(Ei,{ids:A,pub:o,user:k}):void 0):pe&&(Pe?Se=(0,e.h)(Ei,{ids:[...A,..._!=null?_:[]],pub:o,user:k}):ye&&(Ce=(0,e.h)(Ei,{ids:_,pub:o,user:k}))),(0,e.h)(pf,{mainContent:Ae,leftContent:Ce,rightContent:Se})},Ku={outerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__outerContainer--y7q8i",thebulwark:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__thebulwark--eRrHg",innerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__innerContainer--kL5ui",pubLogo:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__pubLogo--NqKND"},y8=({contentBlock:n,pub:r,user:o})=>{const{iString:a}=(0,l.M1)(),{freeSignup:_}=(0,t.qp)(vi),{isMobile:A}=(0,Tn.v9)(),B=(0,fa.VL)({pub:r,includeTheRampart:!0}),k=B,x=_||(o==null?void 0:o.is_free_subscribed),J=o==null?void 0:o.is_subscribed,pe=(0,gt.getSubscribeUrl)(r,{params:{utm_source:j.UTM_SOURCE.subscribeContentBlock,gift:!0,next:document.location.href}}),_e=(0,gt.getSubscribeUrl)(r,{addBase:!0,user:o,params:{utm_source:j.UTM_SOURCE.subscribeContentBlock,simple:!0,next:document.location.href,referring_pub_ids:(0,p.getQueryItem)("referring_pub_ids")}});return(0,e.h)("div",{className:s()(Ku.outerContainer,{[Ku.thebulwark]:B})},(0,e.h)(u.xu,{className:Ku.innerContainer,paddingY:k?24:A?40:48},(0,e.h)(u.gq,{direction:A?"column":"row",alignItems:"center",gap:A?k?16:24:40,justifyContent:"center"},(0,e.h)(u.gq,{alignItems:"center",gap:8,direction:A?"column":"row"},k&&(0,e.h)(ja.Z,{className:Ku.pubLogo,pub:r,logo_url:r.logo_url}),(0,e.h)(u.xv,{font:"pub-headings",textAlign:A?"center":"left",color:"pub-primary-text",fontSize:24,lineHeight:30},J?n.attrs.paid_subscriber_message:x?n.attrs.free_subscriber_message:n.attrs.non_subscriber_message)),(0,e.h)(u.xu,{flex:"auto"},J?(0,e.h)(u.zx,{priority:"primary-theme",href:pe,localNavigation:!1},a("Gift a subscription")):(0,e.h)(u.zx,{priority:"primary-theme",href:_e,localNavigation:!1},(0,Tt.getSubscribeText)(r))))))},E8=({contentBlock:n,posts:r,pub:o,showEmptyState:a,title:_,user:A,viewAllUrl:B,onChange:k})=>{var x;const{breakpoint:J}=(0,Tn.v9)();if(n.block_type==="list")return(0,e.h)(v8,{numPosts:(x=n.num_posts)!=null?x:sf.posts.default,posts:r,pub:o,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:a,title:_,user:A,viewAllUrl:B,onChange:k});if(n.block_type==="grid"){const pe=lf({contentBlock:n,breakpoint:J});return(0,e.h)(g8,{numPosts:pe,posts:r,pub:o,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:a,title:_,user:A,viewAllUrl:B,onChange:k})}return n.block_type==="feature"?(0,e.h)(n8,{posts:r,pub:o,showEmptyState:a,title:_,user:A,viewAllUrl:B,onChange:k}):n.block_type==="subscribe"?(0,e.h)(y8,{contentBlock:n,pub:o,user:A}):null},b8=()=>(0,e.h)(u.xu,{paddingBottom:120},(0,e.h)(pf,{mainContent:(0,e.h)(Od,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")})),P8=({contentBlocks:n,postsBySectionId:r,postsByTagId:o,postTagsById:a,pub:_,recentPosts:A,sectionsById:B,showEmptyStates:k,user:x,onChange:J})=>{const{breakpoint:pe}=(0,Tn.v9)();let _e=0;const ye=n.filter(Pe=>Pe.post_source==="latest").length>1;return(0,e.h)(u.tu,{paddingBottom:40},n.length||!k?n.map((Pe,Ce)=>{var Se,Ae;let Ne=[],Ve="",ze;const Je=Ce<n.length-1?n[Ce+1]:null,Ye=Pe.block_type==="subscribe"||(Je==null?void 0:Je.block_type)==="subscribe";if(Pe.post_source==="latest"){const ht=lf({contentBlock:Pe,breakpoint:pe});Ne=A.slice(_e,_e+ht),_e+=ht,Ve=ye?"":"Recent posts",ze=(0,p.getBaseArchiveUrl)(_)}else if(Pe.post_source==="section"&&Pe.section_id){const ht=B[Pe.section_id];Ne=(Se=r[Pe.section_id])!=null?Se:[],Ve=(ht==null?void 0:ht.name)||"",ze=ht&&(0,gt.getSectionUrl)(_,{section:ht})}else if(Pe.post_source==="tag"&&Pe.post_tag_id){const ht=a[Pe.post_tag_id];Ne=(Ae=o[Pe.post_tag_id])!=null?Ae:[],Ve=(ht==null?void 0:ht.name)||"",ze=ht&&(0,gt.getPostTagUrl)(_,ht)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${Pe.id}`,style:{scrollMarginTop:48}},(0,e.h)(E8,{key:Pe.id,contentBlock:Pe,posts:Ne,pub:_,showEmptyState:k,title:Ve,user:x,viewAllUrl:ze,onChange:J})),Ce<n.length-1&&!Ye&&(0,e.h)(is,null))}):(0,e.h)(b8,null))};var O8=Object.defineProperty,C8=Object.defineProperties,w8=Object.getOwnPropertyDescriptors,$u=Object.getOwnPropertySymbols,Q1=Object.prototype.hasOwnProperty,q1=Object.prototype.propertyIsEnumerable,ey=(n,r,o)=>r in n?O8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,S8=(n,r)=>{for(var o in r||(r={}))Q1.call(r,o)&&ey(n,o,r[o]);if($u)for(var o of $u(r))q1.call(r,o)&&ey(n,o,r[o]);return n},T8=(n,r)=>C8(n,w8(r)),I8=(n,r)=>{var o={};for(var a in n)Q1.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&$u)for(var a of $u(n))r.indexOf(a)<0&&q1.call(n,a)&&(o[a]=n[a]);return o};const M8=n=>{var r=n,{columns:o=4,posts:a,pub:_}=r,A=I8(r,["columns","posts","pub"]);const{isMobile:B}=(0,Tn.v9)();return B?null:(0,e.h)(fi,{variant:o===3?"three-column-width":"full-width"},(0,e.h)(u.tu,{gap:12},(0,e.h)(Xv,{pub:_}),(0,e.h)(qn,T8(S8({},A),{pub:_,posts:a,variant:o===3?"three-column-mini-row":"mini-row"}))))},ys={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var D8=Object.defineProperty,A8=Object.defineProperties,N8=Object.getOwnPropertyDescriptors,Gu=Object.getOwnPropertySymbols,ty=Object.prototype.hasOwnProperty,ry=Object.prototype.propertyIsEnumerable,ny=(n,r,o)=>r in n?D8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,L8=(n,r)=>{for(var o in r||(r={}))ty.call(r,o)&&ny(n,o,r[o]);if(Gu)for(var o of Gu(r))ry.call(r,o)&&ny(n,o,r[o]);return n},R8=(n,r)=>A8(n,N8(r)),x8=(n,r)=>{var o={};for(var a in n)ty.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Gu)for(var a of Gu(n))r.indexOf(a)<0&&ry.call(n,a)&&(o[a]=n[a]);return o};const U8="modular-home-posts",B8=n=>{var r,o;const a=n,{alwaysShowActions:_,bodyPostGroups:A,contentBlocks:B,contributors:k,freeSignup:x,freeSignupEmail:J,homepageLinks:pe,latestPodcastPosts:_e,latestPostByContributorId:ye,numRecommendations:Pe,postsByGroupId:Ce,postsBySectionId:Se,postsByTagId:Ae,postTagsById:Ne,pub:Ve,recommendations:ze,sectionsById:Je,showEmptyStates:Ye,showSiteMap:ht,theme:wt,user:Ct,utm:It}=a,At=x8(a,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","latestPodcastPosts","latestPostByContributorId","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:xt,topPosts:Dt,onChange:jt,postsLoaded:Jt}=(0,Tn.uj)($v()(n,["newPosts","pinnedPosts","topPosts","postsLoaded"])),{breakpoint:lr,isMobile:mr}=(0,Tn.v9)(),{getSettingFor:Xt}=(0,L.So)(),Bt=(0,Tt.ensureInList)(Xt("post_preview_crop_gravity"),["center","auto"]),ur=Kx(),tr=xt[0],qt=(0,t.Ye)(()=>Dt==null?void 0:Dt.filter(jr=>!tr||jr.id!==tr.id),[Dt,tr]);if(xt.length===0)return Jt?(0,e.h)(k8,null):(0,e.h)(u.tu,{className:s()(ys.container,ys["container--empty"]),alignItems:"center",justifyContent:"center"},(0,e.h)("div",{className:"more-loader"}));const Rt=!((r=xt[0])!=null&&r.cover_image);let Ut=ur[wt.home_hero][lr];Rt&&["magaziney","magazine-5"].includes(wt.home_hero)&&["desktop","tablet"].includes(lr)&&(Ut+=2);let Ft=wt.home_hero;xt.length<Ut+1&&(Ft="newspaper",Ut=1);const kt=["newspaper","feature"].includes(Ft)&&wt.home_posts==="list",vt=xt.length>=Ut+1,Cr=vt?xt.slice(Ut):xt,sr=wt.home_posts==="custom"&&B&&((o=B[0])==null?void 0:o.block_type)==="subscribe";return(0,e.h)(uu.Provider,{value:{alwaysShowActions:_,cropGravity:Bt}},(0,e.h)(vi.Provider,{value:{contributors:k,freeSignup:x,freeSignupEmail:J,homepageLinks:pe,latestPodcastPosts:_e,latestPostByContributorId:ye,numRecommendations:Pe,recommendations:ze,topPosts:Dt,utm:It,onChangePost:jt}},(0,e.h)(u.tu,{className:ys.container},(0,e.h)(u.tu,{gap:32,paddingTop:!vt&&mr?24:0},vt&&(0,e.h)(IR,{firstPostMissingImage:Rt,bodyVariant:wt.home_posts,isMobile:mr,posts:xt.slice(0,Ut),pub:Ve,topPosts:qt,user:Ct,utm:It,variant:Ft,onChange:jt}),wt.home_show_top_posts&&qt&&Ft!=="magaziney"&&vt&&(0,e.h)(M8,{columns:kt?3:4,posts:qt,pub:Ve,user:Ct,utm:It,onChange:jt})),(0,e.h)(u.tu,{className:ys.bodyContainer,id:U8},vt&&!sr&&(0,e.h)(is,{numColumns:kt?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},wt.home_posts!=="custom"&&(0,e.h)(e8,R8(L8({},At),{freeSignup:x,freeSignupEmail:J,hideImagesFromList:wt.hide_images_from_list,posts:Cr,pub:Ve,showSiteMap:ht,source:`${wt.home_hero}-${wt.home_posts}-home`,user:Ct,utm:It,variant:wt.home_posts,onChange:jt,bodyPostGroups:A,postsByGroupId:Ce,hasEmptyGroupOptions:n.hasEmptyGroupOptions})),wt.home_posts==="custom"&&B&&Se&&Ae&&Ne&&Je&&(0,e.h)(P8,{contentBlocks:B,postsBySectionId:Se,postsByTagId:Ae,postTagsById:Ne,pub:Ve,recentPosts:Cr,sectionsById:Je,showEmptyStates:Ye,user:Ct,onChange:jt}))))))},k8=()=>(0,e.h)(u.tu,{className:s()(ys.container,ys["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var F8=Object.defineProperty,W8=Object.defineProperties,j8=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,oy=Object.prototype.hasOwnProperty,ay=Object.prototype.propertyIsEnumerable,iy=(n,r,o)=>r in n?F8(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,V8=(n,r)=>{for(var o in r||(r={}))oy.call(r,o)&&iy(n,o,r[o]);if(zu)for(var o of zu(r))ay.call(r,o)&&iy(n,o,r[o]);return n},H8=(n,r)=>W8(n,j8(r)),K8=(n,r)=>{var o={};for(var a in n)oy.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&zu)for(var a of zu(n))r.indexOf(a)<0&&ay.call(n,a)&&(o[a]=n[a]);return o};const $8=n=>{var r=n,{blurbs:o,freeSignup:a,freeSignupEmail:_,hasEmptyGroupOptions:A,hide_intro_popup:B,noBalanceHeroText:k,notify_user:x,numRecommendations:J,pub:pe,referralCode:_e,showEmptyStates:ye,showWelcome:Pe,user:Ce,postTags:Se,postsByGroupId:Ae,sections:Ne,launchWelcomePage:Ve,skipIntoPopupRender:ze,contentBlocks:Je,contributors:Ye,latestPodcastPosts:ht,latestPostByContributorId:wt,homepageLinks:Ct,newPosts:It,pinnedPosts:At,recommendations:xt,postsBySectionId:Dt,postsByTagId:jt,topPosts:Jt,postTagsById:lr,sectionsById:mr}=r,Xt=K8(r,["blurbs","freeSignup","freeSignupEmail","hasEmptyGroupOptions","hide_intro_popup","noBalanceHeroText","notify_user","numRecommendations","pub","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","sections","launchWelcomePage","skipIntoPopupRender","contentBlocks","contributors","latestPodcastPosts","latestPostByContributorId","homepageLinks","newPosts","pinnedPosts","recommendations","postsBySectionId","postsByTagId","topPosts","postTagsById","sectionsById"]),Bt;const{contentBlocks:ur,contributors:tr,latestPodcastPosts:qt,latestPostByContributorId:Rt,homepageLinks:Ut,newPosts:Ft,pinnedPosts:kt,postsLoaded:vt,recommendations:Cr,topPosts:sr,postsBySectionId:jr,postsByTagId:Jr,postTagsById:gn,sectionsById:xr}=(0,Tn.qU)({pubId:pe.id,preloads:{contentBlocks:Je,contributors:Ye,latestPodcastPosts:ht,latestPostByContributorId:wt,homepageLinks:Ct,newPosts:It,pinnedPosts:At,recommendations:xt,postsBySectionId:Dt,postsByTagId:jt,topPosts:Jt,postTagsById:lr,sectionsById:mr}});(0,t.d4)(()=>{x&&typeof window!="undefined"&&(0,ai.ZP)(x)},[x]);const un=!!(Ft&&Ft.length>0),Vr=Kv()((Bt=pe.theme.body_post_groups)==null?void 0:Bt.map(br=>{var kr,Fr,yn,Hn;return br.tag_id?(Fr=(kr=br.post_tag)!=null?kr:Se==null?void 0:Se.find(Sn=>Sn.id===br.tag_id))!=null?Fr:null:br.section_id&&(Hn=(yn=br.section)!=null?yn:Ne==null?void 0:Ne.find(Sn=>Sn.id===br.section_id))!=null?Hn:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(Qd,{pub:pe}),(0,e.h)(B8,H8(V8({},Xt),{contentBlocks:ur,contributors:tr,latestPodcastPosts:qt,latestPostByContributorId:Rt,homepageLinks:Ut,newPosts:Ft,pinnedPosts:kt,postsLoaded:vt,recommendations:Cr,topPosts:sr,postsBySectionId:jr,postsByTagId:Jr,alwaysShowActions:!1,bodyPostGroups:Vr,freeSignup:a,freeSignupEmail:_,hasEmptyGroupOptions:A,numRecommendations:J,postsByGroupId:Ae,postTagsById:gn,pub:pe,sectionsById:xr,showEmptyStates:!!ye,showSiteMap:un,theme:pe.theme,user:Ce})),ze?null:(0,e.h)(qd,{blurbs:o,freeSignup:a,freeSignupEmail:_,hide_intro_popup:B,noBalanceHeroText:k,pub:pe,referralCode:_e,showWelcome:Pe,user:Ce,launchWelcomePage:Ve}))},G8={container:"frontend-main-home-BulwarkCallout-module__container--oZQj8"},z8="/account/add-all-podcasts",Z8="/p/how-do-i-add-a-bulwark-member-only",Y8=()=>(0,e.h)("div",{className:G8.container},(0,e.h)("ul",null,(0,e.h)(u.xv,{as:"li",font:"text",size:16,lineHeight:24},"Learn about"," ",(0,e.h)("a",{href:Z8,target:"_blank",rel:"noopener noreferrer"},"setting up your podcasts")),(0,e.h)(u.xv,{as:"li",font:"text",size:16,lineHeight:24},"Add the Bulwark Premium Show"," ",(0,e.h)("a",{href:z8,target:"_blank",rel:"noopener noreferrer"},"super feed")))),J8={audio:wu,video:Xs.Z},X8={audio:"Audio",video:"Video"},Q8=({medium:n})=>{const r=J8[n];return(0,e.h)(u.gq,{alignItems:"center",gap:4,bg:"secondary",paddingX:6,border:"detail",radius:6},(0,e.h)(r,{size:12}),(0,e.h)(u.xv,{size:11,weight:"semibold",color:"secondary",font:"text",lineHeight:20},X8[n]))},q8={logo:"frontend-main-home-ClassicPodcastSectionHeader-module__logo--KZSr5"},e7=({description:n,logoUrl:r,name:o,pub:a,section:_,user:A})=>{const{isMobile:B}=(0,Tn.v9)(),k=(0,fa.VL)({pub:a,includeTheRampart:!0});return(0,e.h)(u.gq,{alignItems:"center",direction:B?"column":"row",gap:32,paddingTop:32,paddingBottom:24,paddingX:B?0:8},r&&(0,e.h)("img",{className:q8.logo,src:(0,gt.imginary)(r,300*2),alt:o}),(0,e.h)(u.tu,{gap:16},(0,e.h)(u.tu,null,k&&t7({sectionId:_==null?void 0:_.id})&&(0,e.h)(u.xv.Meta,{color:"pub-accent",paddingBottom:8},"+ Member-Only"),(0,e.h)(u.xv.H1,{font:"pub-headings",color:"pub-primary-text"},o),k&&(0,e.h)(u.gq,{alignItems:"center",gap:8,paddingY:8},r7({sectionId:_==null?void 0:_.id}).map(x=>(0,e.h)(Q8,{medium:x}))),n&&(0,e.h)(u.xv.B3,{color:"pub-secondary-text"},n)),k&&(0,e.h)(Y8,{user:A})))},sy={morningshots:87908,thetriad:87934,presspass:87969,overtime:87950,bulwarkpodcast:87957,screentime:87956,thenextlevel:87963,"george-conway-explains-it-all":104848,thefocusgroup:87971,begtodiffer:87958,movieaisle:87975,thesecretpodcast:87961,betweenus:87964,thursdaynightbulwark:87978},t7=({sectionId:n})=>["betweenus","thesecretpodcast","thenextlevel","bulwarkpodcast","begtodiffer"].some(o=>sy[o]===n),r7=({sectionId:n})=>["bulwarkpodcast","thefocusgroup","begtodiffer","thenextlevel"].some(a=>sy[a]===n)?["audio","video"]:["audio"],ly={"icon-20":"frontend-shows-ShowLinkIcon-module__icon-20--okag9","icon-40":"frontend-shows-ShowLinkIcon-module__icon-40--u4yey"},n7={apple_podcasts:"/img/shows_app_icons/apple_podcasts.svg?v=1",google_podcasts:"/img/shows_app_icons/google_podcasts.svg?v=1",overcast:"/img/shows_app_icons/overcast.svg?v=1",pocket_casts:"/img/shows_app_icons/pocket_casts.svg?v=1",rss:"/img/shows_app_icons/rss.svg?v=1",spotify:"/img/shows_app_icons/spotify.svg?v=1",substack:"/img/shows_app_icons/substack.svg?v=1",youtube:"/img/shows_app_icons/youtube.svg?v=1"},hf=({platformKey:n,size:r=20})=>(0,e.h)("img",{className:s()({[ly["icon-20"]]:r===20,[ly["icon-40"]]:r===40}),src:n7[n]});var Na=je(42208);const o7={"listen-on-item":"frontend-shows-ShowsListenOn-module__listen-on-item--_4h4Q"},uy=({description:n,feedUrl:r,pub:o,post:a,showLinks:_,user:A})=>{const{iString:B}=(0,l.M1)();return(0,e.h)(u.tu,{gap:n?8:16,"data-testid":"shows-listen-on"},(0,e.h)(u.xv.H4,{color:"pub-primary-text",translated:!0},"Listen on"),n&&(0,e.h)(u.xv.B3,{color:"pub-secondary-text",paddingBottom:8},n),(0,e.h)(u.gq,{gap:8,wrap:"wrap"},a&&(0,e.h)(cy,{platformKey:"substack",label:B("Substack App"),onClick:()=>{(0,ul.TB)({feedUrl:r,pub:o,post:a})}}),(0,Na.U6)({feedUrl:r,isApple:(0,F.isMac)(),isMobile:!1,showLinks:_,user:A,renJ})})))},cy=({label:n,platformKey:r,onClick:o})=>(0,e.h)(u.gq,{className:o7["listen-on-item"],bg:"secondary",gap:12,alignItems:"center",radius:6,paddingX:12,onClick:o},(0,e.h)(hf,{platformKey:r}),(0,e.h)(u.xv.B4,{weight:"medium",color:"pub-secondary-text"},n)),a7=({pub:n,user:r,section:o=null})=>{const{iString:a}=(0,l.M1)(),{isMobile:_}=(0,Tn.v9)(),{feedUrl:A}=G0({pub:n,user:r,section:o}),B=(0,Na.a9)({pub:n,section:o});return(0,e.h)(u.hs,{paddingLeft:_?0:8},(0,e.h)(uy,{feedUrl:A,post:null,pub:n,showLinks:B,description:a("Add this podcast to your player of choice:")}))};var Zu=je(72921),mf=je(19541);const _a={container:"frontend-main-home-PostPreview-PostPreviewHero-module__container--uGUf6",containerNoImage:"frontend-main-home-PostPreview-PostPreviewHero-module__containerNoImage--QGX1I",videoLayer:"frontend-main-home-PostPreview-PostPreviewHero-module__videoLayer--bJ21s",contentLayer:"frontend-main-home-PostPreview-PostPreviewHero-module__contentLayer--CS14J",content:"frontend-main-home-PostPreview-PostPreviewHero-module__content--gXWZX",image:"frontend-main-home-PostPreview-PostPreviewHero-module__image--vny2h",solidBackground:"frontend-main-home-PostPreview-PostPreviewHero-module__solidBackground--YJ063",previewBackground:"frontend-main-home-PostPreview-PostPreviewHero-module__previewBackground--WxRjs",description:"frontend-main-home-PostPreview-PostPreviewHero-module__description--OVLat",postTitleMobile:"frontend-main-home-PostPreview-PostPreviewHero-module__postTitleMobile--arwfx"},dy=(0,u.E7)({position:"absolute",inset:0}),i7=({post:n,pub:r,section:o,user:a})=>{var _,A,B,k,x,J,pe,_e;const{title:ye,description:Pe}=(0,Na.Mv)({pub:r,podcastUpload:n.podcastUpload,section:o!=null?o:null}),Ce=(0,t.sO)(null),{isMobile:Se}=(0,Tn.v9)(),{iString:Ae}=(0,l.M1)();return Se?(0,e.h)(u.tu,null,(0,e.h)(u.gq,{ref:Ce,flex:"fill",position:"relative",style:{minHeight:500}},(0,e.h)(u.gq,{className:_a.videoLayer,direction:"column",position:"absolute",radius:6},(0,e.h)(u.gq,{flex:"grow",position:"relative",style:{width:"100%"}},(0,e.h)(Ka,{className:_a.image,imageAspectRatio:16/9,imageWidth:1280,isBelowTheFold:!1,post:n,pub:r,squareImageSize:"large",presenceRef:Ce}),(0,e.h)(dy,{className:_a.previewBackground})),(0,e.h)(u.gq,{flex:"grow",className:_a.solidBackground})),(0,e.h)(u.gq,{className:_a.contentLayer,position:"absolute",pointerEvents:"none"},(0,e.h)(u.gq,{flex:"grow"},(0,e.h)(u.tu,{padding:16,gap:16,paddingBottom:24},(0,e.h)(mf.p,{post:n,pub:r,section:o!=null?o:null,size:48,user:a}),(0,e.h)(u.tu,{gap:8},(0,e.h)(u.xv.H4,{color:"always-white"},ye),(0,e.h)(u.xv.B4,{color:"always-white",className:_a.descriptionMobile,clamp:2},Pe),(0,e.h)(u.gq,{flex:"grow"})),(0,e.h)(u.gq,{alignItems:"center",gap:16,style:{pointerEvents:"auto"}},(0,e.h)(u.gq,{flex:"auto"},(0,e.h)(Zu.D,{size:56,isPlaying:!1})),(0,e.h)(u.tu,{gap:24},(0,e.h)(u.gq,{alignItems:"center"},(0,e.h)(u.tu,null,(0,e.h)(u.gq,{gap:2,alignItems:"center"},(0,e.h)(u.xv.Meta,{color:"always-white"},Ae("LATEST")),(0,e.h)(u.xv.Meta,{color:"always-white"},"\xB7"),(0,e.h)(u.xv.Meta,{color:"always-white"},(0,Tt.secondsToHHMMSS)((k=(B=(_=n==null?void 0:n.videoUpload)==null?void 0:_.duration)!=null?B:(A=n==null?void 0:n.podcastUpload)==null?void 0:A.duration)!=null?k:0))),(0,e.h)(u.gq,{gap:4,alignItems:"center",opacity:80},(0,e.h)(u.gq,{gap:4,style:{width:"16px"}},n.videoUpload?(0,e.h)(Xs.Z,{size:14,color:"white"}):(0,e.h)(wu,{size:14,color:"white"})),(0,e.h)(u.xv.Meta,{color:"always-white",className:_a.postTitleMobile},n.title))))))))))):(0,e.h)(u.tu,null,(0,e.h)(u.gq,{ref:Ce,flex:"fill",position:"relative",style:{minHeight:400}},(0,e.h)(u.gq,{position:"absolute",style:{width:"100%",height:"100%"},radius:6},(0,e.h)(u.gq,{flex:"grow",className:_a.solidBackground}),(0,e.h)(u.gq,{flex:"grow",position:"relative",style:{width:"100%"}},(0,e.h)(Ka,{className:_a.image,imageAspectRatio:16/9,imageWidth:1280,isBelowTheFold:!1,post:n,pub:r,squareImageSize:"large",presenceRef:Ce}),(0,e.h)(dy,{className:_a.previewBackground}))),(0,e.h)(u.gq,{position:"absolute",style:{width:"100%",height:"100%",pointerEvents:"none"}},(0,e.h)(u.gq,{flex:"grow"},(0,e.h)(u.tu,{justifyContent:"space-between",padding:48},(0,e.h)(mf.p,{post:n,pub:r,section:o!=null?o:null,size:76,user:a}),(0,e.h)(u.tu,{gap:8},(0,e.h)(u.xv.H2,{color:"always-white"},ye),(0,e.h)(u.xv.B4,{color:"always-white",className:_a.description},Pe),(0,e.h)(u.gq,{flex:"grow"})),(0,e.h)(u.gq,{alignItems:"center",gap:24,style:{pointerEvents:"auto"}},(0,e.h)(u.gq,{style:{width:"80px"}},(0,e.h)(Zu.D,{size:80,isPlaying:!1})),(0,e.h)(u.tu,{gap:48},(0,e.h)(u.gq,{alignItems:"center"},(0,e.h)(u.tu,null,(0,e.h)(u.gq,{gap:4,alignItems:"center"},(0,e.h)(u.gq,{gap:4,style:{width:"16px"}},n.videoUpload?(0,e.h)(Xs.Z,{size:14,color:"white"}):(0,e.h)(wu,{size:14,color:"white"})),(0,e.h)(u.xv.Meta,{size:11,color:"always-white"},Ae("LATEST")),(0,e.h)(u.xv.Meta,{size:11,color:"always-white"},"\xB7"),(0,e.h)(u.xv.Meta,{size:11,color:"always-white"},(0,Tt.secondsToHHMMSS)((_e=(pe=(x=n==null?void 0:n.videoUpload)==null?void 0:x.duration)!=null?pe:(J=n==null?void 0:n.podcastUpload)==null?void 0:J.duration)!=null?_e:0))),(0,e.h)(u.gq,{gap:4,alignItems:"center"},(0,e.h)(u.xv.Meta,{size:11,color:"always-white"},n.title)))))))),(0,e.h)(u.gq,{flex:"grow",style:{pointerEvents:"none"}}))))},s7={container:"frontend-main-home-PodcastSectionPage-module__container--NazlT"},l7=({blurbs:n,freeSignup:r,freeSignupEmail:o,hide_intro_popup:a,isPodcast:_,launchWelcomePage:A,newPosts:B,noBalanceHeroText:k,pinnedPosts:x,pub:J,referralCode:pe,search:_e,section:ye,showWelcome:Pe,skipIntoPopupRender:Ce,sort:Se,user:Ae,utm:Ne})=>{let Ve;Ve=x==null?void 0:x.find(Je=>Je.videoUpload||Je.podcastUpload),Ve||(Ve=B==null?void 0:B.foad));const ze=Je=>{const Ye=Sd({linkToComments:!1,post:Ve,pub:J,utm:Ne});(0,F.redirect)(Ye,{event:Je})};return(0,e.h)(u.tu,{className:s7.container},(0,e.h)(Qd,{pub:J,section:ye,isPodcast:_}),(0,e.h)(u.tu,{gap:24},Ve&&(0,e.h)(u.tu,{onClick:ze},(0,e.h)(i7,{pub:J,post:Ve,section:ye,actions:()=>null})),(0,e.h)(ss,{isPodcast:!0,maxPosts:12,newPosts:B,pinnedPosts:x,pub:J,search:_e,sectionId:ye==null?void 0:ye.id,sort:Se,user:Ae,variant:"list"},({posts:Je,linkToComments:Ye,onClickPost:ht})=>(0,e.h)(qn,{hideImages:J.theme.hide_images_from_list,linkToComments:Ye,posts:Je,pub:J,showSectionPins:!0,user:Ae,utm:Ne,variant:"four-column-grid",onChange:()=>{},onClickPost:ht}))),Ce?null:(0,e.h)(qd,{blurbs:n,freeSignup:r,freeSignupEmail:o,hide_intro_popup:a,isPodcast:_,noBalanceHeroText:k,pub:J,referralCode:pe,showWelcome:Pe,user:Ae,launchWelcomePage:A}))},u7={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"},_f=({logoUrl:n,name:r,description:o})=>(0,e.h)(u.tu,{gap:12,paddingTop:32,paddingBottom:24},n&&(0,e.h)("img",{className:u7.logo,src:(0,p.imginary)(n,72*2),alt:r}),(0,e.h)(u.xv.H1,{font:"pub-headings",color:"pub-primary-text"},r),o&&(0,e.h)(u.xv.B3,{color:"pub-secondary-text"},o)),fy={container:"frontend-main-home-SectionPageContainer-module__container--VOaMV",containerThreeColumn:"frontend-main-home-SectionPageContainer-module__containerThreeColumn--cNe2I"},py=({children:n,columns:r=2})=>(0,e.h)("div",{className:s()(fy.container,{[fy.containerThreeColumn]:r===3})},n),c7={bodyContainer:"frontend-main-home-SectionPage-module__bodyContainer--EHUgw"};var d7=Object.defineProperty,hy=Object.getOwnPropertySymbols,f7=Object.prototype.hasOwnProperty,p7=Object.prototype.propertyIsEnumerable,my=(n,r,o)=>r in n?d7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,h7=(n,r)=>{for(var o in r||(r={}))f7.call(r,o)&&my(n,o,r[o]);if(hy)for(var o of hy(r))p7.call(r,o)&&my(n,o,r[o]);return n};const gf=n=>{var r,o,a,_;const{blurbs:A,freeSignup:B,freeSignupEmail:k,hide_intro_popup:x,isPodcast:J,newPosts:pe,noBalanceHeroText:_e,notify_user:ye,pinnedPosts:Pe,pub:Ce,referralCode:Se,search:Ae,section:Ne,sort:Ve,showWelcome:ze,user:Je,utm:Ye,launchWelcomePage:ht,skipIntoPopupRender:wt}=n,{isMobile:Ct}=(0,Tn.v9)(),{getConfigFor:It}=(0,st.xR)(),At=(0,fa.VL)({pub:Ce,includeTheRampart:!0}),xt=J||At&&(Ne==null?void 0:Ne.is_podcast),Dt=It("classic_podcast_section_page")&&xt;if((0,t.d4)(()=>{ye&&typeof window!="undefined"&&(0,ai.ZP)(ye)},[ye]),!Ne&&!xt)return console.warn("Should be either a section or podcast or both"),null;let jt=null;if(xt&&(jt=Ne?(0,Rs.getSectionPodcastSettings)({pub:Ce,section:Ne}):(0,Rs.getPubPodcastSettings)({pub:Ce})),!At&&(xt||Ne!=null&&Ne.is_podcast))return(0,e.h)(l7,h7({},n));const Jt=(0,e.h)(ss,{isPodcast:xt,maxPosts:7,newPosts:pe,pinnedPosts:Pe,pub:Ce,search:Ae,sectionId:Ne==null?void 0:Ne.id,sort:Ve,user:Je,variant:"list"},({posts:lr,linkToComments:mr,onClickPost:Xt})=>(0,e.h)(qn,{hideImages:Ce.theme.hide_images_from_list,linkToComments:mr,posts:lr,pub:Ce,showSectionPins:!0,user:Je,utm:Ye,variant:"two-column-list",onChange:()=>{},onClickPost:Xt}));return(0,e.h)(py,{columns:Dt?3:2},(0,e.h)(Qd,{pub:Ce,section:Ne,isPodcast:xt}),jt?Dt?(0,e.h)(e7,{description:(r=jt.description)!=null?r:"",logoUrl:jt.artUrl,name:(o=jt.title)!=null?o:"",pub:Ce,section:Ne,user:Je}):(0,e.h)(_f,{name:(a=jt.title)!=null?a:"",description:(_=jt.description)!=null?_:"",logoUrl:jt.artUrl}):Ne&&(0,e.h)(_f,{name:Ne.name,description:Ne.description,logoUrl:Ne.logo_url}),!(Ct&&Dt)&&(0,e.h)(is,null),Dt?(0,e.h)("div",{className:c7.bodyContainer},Jt,(0,e.h)(a7,{pub:Ce,user:Je,section:Ne})):Jt,wt?null:(0,e.h)(qd,{blurbs:A,freeSignup:B,freeSignupEmail:k,hide_intro_popup:x,isPodcast:xt,noBalanceHeroText:_e,pub:Ce,referralCode:Se,showWelcome:ze,user:Je,launchWelcomePage:ht}))};var _y=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});class m7 extends e.Component{constructor(){super(...arguments),this.state={loading:!0,invites:[]},this.onSuccess=()=>_y(this,n()})}componentDidMount(){if(!this.hasInvites()){(0,F.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:r,user:o}=this.props;return r.invite_only?o&&o.is_contributor?!0:!(!(r.subscriber_invites>0)||!(o&&o.is_subscribed)):!1}loadInvites(){return _y(this,null,function*(){try{const r=yield Ze().get("/api/v1/publication/invite");this.setState({invites:r.body,loading:!1})}catch(r){console.error("Failed to fetch invites:",r),alert((0,F.getNetworkErrorMessage)(r))}})}render({pub:r,user:o},{loading:a,invites:_}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const A=o&&o.is_contributor,B=Math.max(o&&o.invites,_.length),k=Math.max(B,r.subscriber_invites),x=k-B;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,r.name," is invite-only, but you\u2019ve been granted"," ",A?"an infinite number of invites":(0,Tt.pluralize)(k,"invite")," to give out."),(x>0||A)&&[!A&&(0,e.h)("h5",null,"You have ",(0,Tt.pluralize)(x,"invite")," left"),(0,e.h)(me.ZP,{ref:J=>this.form=J,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(ge.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],a&&B>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):_.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,_.sat)).map(J=>(0,e.h)("li",null,J.inviteeUser&&J.inviteeUser.name||""," on"," ",Sr()(J.created_at).standardDate())))]:null))}}function _7({pub:n,post:r}){return(0,e.h)(ne.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(ne.tu,{alignItems:"center",gap:4},(0,e.h)(ne.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(i.xv.H1,null,"You rejected your invite to ",n.name)),(0,e.h)(i.xv.B3,null,"If you change your mind, you can accept from your email invitation."),r.is_published?(0,e.h)(i.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,p.getPostUrl)(n,r)},r.title)):null),(0,e.h)(be.zx,{href:n.base_url},`Go to ${n.name}`))}function g7({pub:n,user:r,post:o,freeSignup:a,freeSignupEmail:_}){const A=(0,t.sO)(nulln();if(!o)return(0,e.h)(ne.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",n.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(xl.Z,{onClick:B},"profile is up to date")),(0,e.h)(Ld.EB,{ref:A,user:r,freeSignup:a,freeSignupEmail:_,needsPhoto:!0})));const k=o.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",x="Your profile is set up and good to go!";return(0,e.h)(ne.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(ne.tu,{alignItems:"center",gap:4},(0,e.h)(ne.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(i.xv.H1,null,k)),(0,e.h)(i.xv.B3,null,x)),(0,e.h)(be.zx,{href:n.base_url},`Go to ${n.name}`))}/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=(0,$r.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var y7=Object.defineProperty,E7=Object.defineProperties,b7=Object.getOwnPropertyDescriptors,gy=Object.getOwnPropertySymbols,P7=Object.prototype.hasOwnProperty,O7=Object.prototype.propertyIsEnumerable,vy=(n,r,o)=>r in n?y7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,C7=(n,r)=>{for(var o in r||(r={}))P7.call(r,o)&&vy(n,o,r[o]);if(gy)for(var o of gy(r))O7.call(r,o)&&vy(n,o,r[o]);return n},w7=(n,r)=>E7(n,b7(r));const S7=n=>(0,e.h)(Te.l,w7(C7({},n),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}));var T7=Object.defineProperty,I7=Object.defineProperties,M7=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,D7=Object.prototype.hasOwnProperty,A7=Object.prototype.propertyIsEnumerable,Ey=(n,r,o)=>r in n?T7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,N7=(n,r)=>{for(var o in r||(r={}))D7.call(r,o)&&Ey(n,o,r[o]);if(yy)for(var o of yy(r))A7.call(r,o)&&Ey(n,o,r[o]);return n},L7=(n,r)=>I7(n,M7(r));const by=n=>(0,e.h)(Te.l,L7(N7({},n),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}));var ,n))(R7||{}),,n))(x7||{}),,n))(U7||{}),B7=(n=>(n.DIRECT_EMAIL="direct_email",n.POST_REPLY="post_reply",n))(B7||{}),k7=(n=>(n.SENT="sent",n.REJECTED="rejected",n.NEEDS_REVIEW="needs_review",n.FAILED="failed",n))(k7||{});const F7={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"},W7=({isSelected:n,tier:r})=>{const{iString:o,iTemplate:a,iPlural:_}=(0,l.M1)(),A={[Ii.CompOneMonth]:o("1 month comp"),[Ii.CompThreeMonths]:o("3 month comp"),[Ii.CompSixMonths]:o("6 month comp"),[Ii.CompNineMonths]:o("9 month comp"),[Ii.CompTwelveMonths]:o("12 month comp"),[Ii.Custom]:o("Custom")};return(0,e.h)(ne.tu,{className:F7.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:n?"var(--color-accent-themed)":void 0}},(0,e.h)(ne.gq,{gap:4,alignItems:"center"},new Array(r.display_order).fill(0)."}))),(0,e.h)(i.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},r.reward_type==="custom"?r.reward_description:A[r.reward_type]),(0,e.h)(i.xv.Meta,{weight:"semibold",style:{color:n?"var(--color-accent-themed)":void 0}},n?a`You're here!`:_("1 Referral","%1 Referrals",r.num_referrals_required)))};var vf=je(9178);const Xo={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var j7=Object.defineProperty,V7=Object.defineProperties,H7=Object.getOwnPropertyDescriptors,Py=Object.getOwnPropertySymbols,K7=Object.prototype.hasOwnProperty,$7=Object.prototype.propertyIsEnumerable,Oy=(n,r,o)=>r in n?j7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Cy=(n,r)=>{for(var o in r||(r={}))K7.call(r,o)&&Oy(n,o,r[o]);if(Py)for(var o of Py(r))$7.call(r,o)&&Oy(n,o,r[o]);return n},wy=(n,r)=>V7(n,H7(r)),Sy=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const yf=(n,r)=>{(0,d.track)(d.EVENTS.SHARE_LINK_CLICKED,{name:r,source:"leaderboard"}),n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n)},Ty=({user:n,rank:r,referrals:o,isSelf:a,isHighlighted:_})=>{const{iString:A}=(0,l.M1)();return(0,e.h)(i.xv,{as:n?"a":"div",href:n?(0,gt.getProfileUrlById)(n.id,n.name):void 0,className:Xo.referrerLink},(0,e.h)(ne.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:a||_?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:a?16:8,paddingRight:20,justifyContent:"space-between",className:s()(Xo.referrerRow,{[Xo.referrerRowInverted]:!a})},(0,e.h)(ne.gq,{gap:8,alignItems:"center"},(0,e.h)(i.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},r,"."),n?(0,e.h)(wa.ProfileHoverCard,{subject:n,dontStopPropagation:!1},(0,e.h)(jn.qE,{size:36,user:n})):(0,e.h)(jn.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(i.xv.B4,{color:"primary-themed",weight:"semibold"},(n==null?void 0:n.name)||A("Anonymous Reader"))),(0,e.h)(i.xv.B4,{color:"primary-themed",weight:"semibold"},o)))},G7=({pub:n,user:r,freeSignupEmail:o})=>{const{iString:a,iTemplate:_,iPlural:A}=(0,l.M1)(),{getExperimentVariant:B,exposeExperiment:k}=(0,wr.jc)(),x=(0,nn.pm)(),{result:J,isLoading:pe,refetch:_e}=(0,Pn.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:ye}=(0,Pn.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,t.d4)(()=>{!pe&&!J&&(0,F.redirect)((0,gt.getBaseUrl)(n))},[J,pe,n]),pe||!J)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:Pe,tiers:Ce,top_referrers:Se,current_user_can_share:Ae,current_user_id:Ne,current_user_profile_hidden:Ve}=J,ze=r==null?void 0:r.is_admin,Je=r==null?void 0:r.is_contributor,Ye=(0,p.getQueryItem)("referrer_token"),ht=r&&!r.is_magic&&r.email||o||null,wt=(0,gt.pathWithQuery)((0,gt.getBaseUrl)(n),{r:(Ne==null?void 0:Ne.toString(36))||Ye});let Ct,It;Ce.find((xt,Dt)=>{const jt=(Pe==null?void 0:Pe.referrals)||0,Jt=Ce[Dt+1];jt>=xt.num_referrals_required&&(!Jt||jt<Jt.num_referrals_required)&&(Ct=xt,It=Jt)});let At="";return!Ct&&Pe?At=`${A("You have %1 referral","You have %1 referrals",Pe.referrals)} - ${A("only %1 more referral to earn your first reward!","only %1 more referrals to earn your first reward!",Ce[0].num_referrals_required-Pe.referrals)}`:Ct&&It&&Pe?At=`${A("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Pe.referrals)} ${_`Youve qualified for the Tier ${Ct.display_order} reward.`} ${A("Invite %1 more reader to earn the Tier %2 reward!","Invite %1 more readers to earn the Tier %2 reward!",It.num_referrals_required-Pe.referrals,It.display_order)}`:Ct&&!It&&Pe&&(At=`${A("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",Pe.referrals)} You\u2019re number #${Pe.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(ne.tu,{gap:64,className:Xo.wrapper},(ze||Je)&&(0,e.h)(ne.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(ne.tu,{gap:4},(0,e.h)(i.xv.Meta,{color:"pub-primary-text"},ze?"Admin View":"Contributor View"),(0,e.h)(i.xv.B4,{color:"pub-secondary-text"},a(ze?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard."))),ze&&(0,e.h)(be.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},a("Edit Referral Settings"))),(0,e.h)(ne.tu,{alignItems:"center"},(0,e.h)(ne.tu,{gap:24,className:Xo.headerWrapper,alignItems:"center"},(0,e.h)(ts.xu,null,(0,e.h)(vf.F,{pub:n,size:64})),(0,e.h)(ne.tu,{alignItems:"center",gap:4},(0,e.h)(i.xv,{className:Xo.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},Ae||Ye?_`Refer friends to ${n.name}`:_`Subscribe and invite friends to ${n.name}`),(0,e.h)(i.xv.B3,{translated:!0,color:"pub-secondary-text",textAlign:"center",className:Xo.introText},"Show your support by sharing ",I18N.p(n.name)," and earn rewards for your referrals.")),!Ae&&!Ye&&!(Je||ze)&&(0,e.h)(ne.tu,{style:{width:"100%"}},(0,e.h)(be.zx,{grow:!0,priority:"primary-theme",onClick:xt=>Sy(void 0,null,function*(){xt.preventDefault();let Dt;try{ht&&(Dt=(yield Ze().post("/api/v1/free").send({source:"referral-leaderboard",email:ht,first_url:E.xY,first_referrer:E.ip,current_url:E.UE,current_referrer:E.xU})).body.referral_token,(0,d.signup)())}catch(jt){(0,d.track)(d.EVENTS.FREE_SIGNUP_FAILED,{reason:jt.message,source:"referral-leaderboard"})}window.location.href=(0,gt.getSubscribeUrl)(n,{addBase:!0,params:{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.referralLeaderboard,utm_medium:j.UTM_MEDIUM.web,skip_redirect_check:!0,just_signed_up:!0,referral_token:Dt}})}),href:(0,gt.pathWithQuery)("/subscribe",{next:(0,gt.getLeaderboardUrl)(n,void 0,{addBase:!0}),utm_source:j.UTM_SOURCE.referralLeaderboard}),localNavigation:!1},(0,e.h)(ne.gq,{alignItems:"center",gap:8},(0,e.h)(Is.Z,{size:20}),a("Subscribe")))))),(Ae||Je||ze||Ye)&&(0,e.h)(ne.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(ne.gq,{style:{width:"100%"}},(0,e.h)(u.oi,{className:Xo.copyLinkInput,readOnly:!0,value:wt}),(0,e.h)(be.zx,{className:Xo.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,d.track)(d.EVENTS.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,F.copyToClipboard)(wt),x.popToast(xt=>(0,e.h)(nn.FN,wy(Cy({},xt),{Icon:Ri.Z,text:a("Link copied to clipboard")})))}},a("Copy link"))),(0,e.h)(ne.hs,{className:Xo.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(be.zx,{className:Xo.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(by,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>yf((0,p.getTwitterShareUrl)({url:wt,text:n.name}),"twitter")},"Twitter"),(0,e.h)(be.zx,{className:Xo.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(S7,{height:20,width:20}),onClick:()=>yf((0,gt.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:wt}),"facebook")},"Facebook"),(0,e.h)(be.zx,{className:Xo.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(Hg,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>yf((0,gt.pathWithQuery)("mailto:",{subject:n.name,body:wt}),"email")},"Email"))),(0,e.h)(ne.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(i.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(ne.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},Ce.map(xt=>(0,e.h)(W7,{key:xt.display_order,tier:xt,isSelected:xt.display_order===(Ct==null?void 0:Ct.display_order)}))),Ae&&Pe&&(0,e.h)(ne.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(Ty,{user:r,isSelf:!0,referrals:Pe.referrals,rank:Pe.rank}),!Ve&&(0,e.h)(i.xv.B4,{color:"pub-secondary-text"},At),Ve&&(0,e.h)(ne.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(ne.tu,{textAlign:"left",gap:4},(0,e.h)(i.xv.B4,{translated:!0,weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(i.xv.B4,{translated:!0,color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",I18N.p(n.name))),(0,e.h)(be.zx,{fill:"outline",priority:"primary-theme",onClick:()=>Sy(void 0,null,function*(){yield ye({body:{ids:[J.current_user_subscription_id],visibility:"public"}}),_e(),x.popToast(xt=>(0,e.h)(nn.FN,wy(Cy({},xt),{text:`${n.name} is now visible on your profile!`})))})},a("Show on profile"))))),(0,e.h)(ne.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(i.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(Se==null?void 0:Se.length)===0&&(0,e.h)(ne.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)(v7,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(i.xv.B4,{color:"pub-secondary-text"},_`No referrers yet. Be the first on ${n.name}'s leaderboard by helping them find new readers.`)),(Se==null?void 0:Se.length)>0&&(0,e.h)(ne.tu,{gap:8,style:{width:"100%"}},(0,e.h)(ne.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(i.xv.Meta,{translated:!0,weight:"semibold"},"Referrer"),(0,e.h)(i.xv.Meta,{translated:!0,weight:"semibold"},"Referrals")),Se==null?void 0:Se.map(xt=>(0,e.h)(Ty,{key:xt.rank,user:xt.user,isHighlighted:xt.isCurrentUser,rank:xt.rank,referrals:xt.referrals})))))))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=(0,$r.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=(0,$r.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ko={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},Iy=({pub:n})=>{const r=()=>{const o=(0,p.getQueryItem)("referrer"),a=o!=null?o:(0,p.getPubUrl)(n);(0,F.redirect)(a,{local_navigation:!1})};return(0,e.h)(be.hU,{onClick:r,className:Ko.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(Xi.Z,{className:Ko.closeIcon}))},Es=({pub:n,user_id:r,user_profile_photo_url:o,children:a})=>(0,Do.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(ne.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(vf.F,{className:Ko.pubLogo,pub:n,size:112}),a):(0,e.h)(ne.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:Ko.avatarWithPubLogo},(0,e.h)(jn.qE,{className:Ko.avatar,user:{id:r,photo_url:o},size:112}),(n.logo_url||n.cover_photo_url)&&(0,e.h)(vf.F,{className:Ko.pubIcon,pub:n,size:40})),a),Y7=({pub:n,user:r,settings:o})=>{var a,_,A,B;const{selected_event_type:{price:k,subscriber_price:x,founding_price:J,currency:pe,description_html:_e,duration:ye,num_availabilities:Pe},user_name:Ce}=o;let Se=k,Ae=null;((_=(a=n.plans)==null?void 0:a.length)!=null?_:0>0)&&(r!=null&&r.is_subscribed&&x&&(Se=x,Ae="SUBSCRIBER DISCOUNT"),r!=null&&r.is_founding&&J&&(Se=J,Ae=`${(A=(0,Fn.getFoundingTierName)(n)||"FOUNDING")==null?void 0:A.toUpperCase()} DISCOUNT`)),(0,t.d4)(()=>{var Ye,ht;(0,d.track)(d.EVENTS.MEETING_PAGE_VIEWED,{publication_id:n.id,user_id:r.id,referrer:(Ye=(0,p.getQueryItem)("referrer"))!=null?Ye:null,source:(ht=(0,p.getQueryItem)("source"))!=null?ht:null})},[]);const Ne=(B=(0,p.getQueryItem)("referrer"))!=null?B:void 0,Ve=(0,p.updateQuery)("/meetings/book",{referrer:Ne}),ze=Pe>0,Je=_e?{__html:_e.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(Iy,{pub:n}),(0,e.h)(ne.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(ne.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(Es,{pub:n,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(i.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(i.xv.H2,{align:"center",paddingTop:4},(0,Do.getConfigFor)("meetings_embed_publication_name")?n.name:Ce))),(0,e.h)(ne.tu,{bg:"primary",className:s()(Ko.offer,{[Ko.unavailable]:!ze}),radius:12,shadow:"xl",padding:20},Ae&&(0,e.h)("div",{className:Ko.displayedBadge},Ae),(0,e.h)(ne.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(ne.tu,null,Se&&pe&&ye&&(0,e.h)(e.Fragment,null,(0,e.h)(i.xv.H3,{color:ze?"primary":"secondary"},ye,"-minute meeting"),(0,e.h)(i.xv.B4,{color:ze?"primary":"secondary",paddingTop:4},Se<k&&(0,e.h)("span",{className:Ko.originalPrice},(0,Tt.centsToPriceString)(k,pe)),(0,Tt.centsToPriceString)(Se,pe)," \xB7"," ",ze?Pe>50?"Many availabilities":`${(0,Tt.pluralize)(Pe,"slot")} available this month`:"No slots available in the next week"))),ze?(0,e.h)(z7,{className:Ko.check,size:28}):(0,e.h)(Z7,{size:28,className:Ko.disabledCheck})),(0,e.h)(i.xv.B4,{color:"secondary"},(0,e.h)("div",{className:Ko.description,dangerouslySetInnerHTML:Je}))),(0,e.h)(be.zx,{className:Ko.button,disabled:!ze,grow:!0,localNavigation:!1,href:Ve},ze?"Continue to book":"No meetings available"))))};var J7=je(45609);const My={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var X7=Object.defineProperty,Q7=Object.defineProperties,q7=Object.getOwnPropertyDescriptors,Dy=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,Ay=(n,r,o)=>r in n?X7(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,rU=(n,r)=>{for(var o in r||(r={}))eU.call(r,o)&&Ay(n,o,r[o]);if(Dy)for(var o of Dy(r))tU.call(r,o)&&Ay(n,o,r[o]);return n},nU=(n,r)=>Q7(n,q7(r));const oU=(n,r,o)=>{var a,_,A,B,k,x,J,pe,_e,ye,Pe,Ce,Se,Ae,Ne,Ve,ze,Je,Ye,ht,wt,Ct,It,At,xt,Dt,jt,Jt,lr,mr,Xt,Bt,ur;return!((a=n.location)!=null&&a.location)&&!((_=n.location)!=null&&_.join_url)?r&&o?{href:(0,gt.getMeetingOrderUrl)(o,n.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(A=n.location)==null?void 0:A.join_url,copyContent:(B=n.location)==null?void 0:B.join_url,label:"Join Zoom"},zoom_conference:{href:(k=n.location)==null?void 0:k.join_url,copyContent:(x=n.location)==null?void 0:x.join_url,label:"Join Zoom"},google:{href:(J=n.location)==null?void 0:J.join_url,copyContent:(pe=n.location)==null?void 0:pe.join_url,label:"Join Meet"},google_conference:{href:(_e=n.location)==null?void 0:_e.join_url,copyContent:(ye=n.location)==null?void 0:ye.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(Pe=n.location)==null?void 0:Pe.location}`,copyContent:(Ce=n.location)==null?void 0:Ce.location,label:(Se=n.location)==null?void 0:Se.location},outbound_call:{href:null,label:`${(0,Tt.guessFirstName)(n.user_name)} will call you at ${(Ae=n.location)==null?void 0:Ae.location}`},microsoft_teams:{href:(Ne=n.location)==null?void 0:Ne.join_url,copyContent:(Ve=n.location)==null?void 0:Ve.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(ze=n.location)==null?void 0:ze.join_url,copyContent:(Je=n.location)==null?void 0:Je.join_url,label:"Join Teams"},webex:{href:(Ye=n.location)==null?void 0:Ye.join_url,copyContent:(ht=n.location)==null?void 0:ht.join_url,label:"Join Webex"},webex_conference:{href:(wt=n.location)==null?void 0:wt.join_url,copyContent:(Ct=n.location)==null?void 0:Ct.join_url,label:"Join Webex"},gotomeeting:{href:(It=n.location)==null?void 0:It.join_url,copyContent:(At=n.location)==null?void 0:At.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(xt=n.location)==null?void 0:xt.join_url,copyContent:(Dt=n.location)==null?void 0:Dt.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(Jt=(jt=n.location)==null?void 0:jt.location)!=null?Jt:"Unknown"},ask_invitee:{href:null,label:(mr=(lr=n.location)==null?void 0:lr.location)!=null?mr:"Unknown"},custom:{href:null,label:(Bt=(Xt=n.location)==null?void 0:Xt.location)!=null?Bt:"Unknown"}}[(ur=n.location)==null?void 0:ur.type]||{}},aU=({order:n,isStatic:r=!1,pub:o=null})=>{const a=(0,nn.pm)(),{href:_,label:A,copyContent:B}=oU(n,r,o),k=(0,e.h)(i.xv.B3,{align:"right"},_?(0,e.h)("a",{href:_},A):A);return r||!B?k:(0,e.h)(ne.gq,{gap:4,alignItems:"center"},k,(0,e.h)(be.hU,{size:24,onClick:()=>{(0,F.copyToClipboard)(B),a.popToast(x=>(0,e.h)(nn.FN,nU(rU({},x),{Icon:Ji.Z,text:"Invite link copied"})))}},(0,e.h)(J7.Z,{height:20})))},iU=({order:n,pub:r})=>{const o=Sr()(n.start_time),a=Sr()(n.end_time),_=`${o.format("MMMM D, YYYY")} at ${o.format("h:mm A z")}`,A=a.diff(o,"minute");return(0,e.h)(ne.tu,{gap:8,className:My.meetingDetails},(0,e.h)(ne.gq,{justifyContent:"space-between",gap:8},(0,e.h)(i.xv.B3,{weight:"bold"},"Time"),(0,e.h)(i.xv.B3,null,_)),(0,e.h)(ne.gq,{justifyContent:"space-between",gap:8},(0,e.h)(i.xv.B3,{weight:"bold"},"Length"),(0,e.h)(i.xv.B3,null,A," minutes")),(0,e.h)(ne.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(i.xv.B3,{weight:"bold"},"Location"),(0,e.h)(aU,{order:n,pub:r})),(0,e.h)(i.xv.B3,{align:"center",className:My.description,paddingTop:16},(0,e.h)("i",null,n.description)))},sU=({booking:n,settings:r,pub:o})=>{const a=(0,Do.getConfigFor)("meetings_embed_publication_name")?o.name:n.user_name;return n.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(Es,{pub:o,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(i.xv.H2,{align:"center"},"Your meeting with ",a," has been cancelled")),n.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(i.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(i.xv.B4,{align:"center",paddingBottom:32},n.cancellation_reason)),n.refunded_at&&(0,e.h)(i.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),r.enabled&&(0,e.h)(i.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,gt.getMeetingsUrl)(o,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(Es,{pub:o,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(i.xv.H2,{align:"center"},"Your meeting with ",a," has been ",n.num_rebookings>0?"rebooked":"booked")),(0,e.h)(ne.tu,{gap:16,alignItems:"center"},(0,e.h)(iU,{order:n,pub:o}),(0,e.h)(i.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),n.refunded_at&&(0,e.h)(i.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(be.zx,{onClick:()=>{const _=(0,p.getQueryItem)("referrer"),A=_!=null?_:(0,p.getPubUrl)(o);(0,F.redirect)(A,{local_navigation:!1})}},"Done")))};var Ef=je(44043),lU=Object.defineProperty,uU=Object.defineProperties,cU=Object.getOwnPropertyDescriptors,Ny=Object.getOwnPropertySymbols,dU=Object.prototype.hasOwnProperty,fU=Object.prototype.propertyIsEnumerable,Ly=(n,r,o)=>r in n?lU(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,pU=(n,r)=>{for(var o in r||(r={}))dU.call(r,o)&&Ly(n,o,r[o]);if(Ny)for(var o of Ny(r))fU.call(r,o)&&Ly(n,o,r[o]);return n},hU=(n,r)=>uU(n,cU(r));const mU=n=>(0,e.h)(Te.l,hU(pU({},n),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:n.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=(0,$r.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Hi={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var Ry=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const gU=({onFileSelected:n,dropCTA:r,pickCTA:o,pickCTAHandler:a,acceptableTypes:_,loading:A,className:B,multiple:k=!1,addMode:x=!1,onDrop:J,onPick:pe,info:_e})=>{const[ye,Pe]=(0,t.eJ)(!1),Ce=(0,t.sO)(),{iString:Se,iTemplate:Ae}=(0,l.M1)();!o&&!a&&(o=(0,e.h)("a",{className:Hi.browse,href:"javascript:void(0)"},Se("browse"))),r||(r=Se("Drop file here"));const Ne=Je=>{Je.preventDefault(),Pe(!0(!1)},ze=Je=>Ry(void 0,null,function*(){var Ye,ht,wt,Ct;Je.preventDefault(),Pe(!1);let It,At;if(((ht=(Ye=Je.dataTransfer)==null?void 0:Ye.items)==null?void 0:ht.length)>0){const xt=Array.from(Je.dataTransfer.items);for(const Dt of xt)if(Dt.kind!=="file"){alert(Se("Please only drag files!"));return}It=Je.dataTransfer.items[0].getAsFile(),At=xt.map(Dt=>Dt.getAsFile())}else if(((Ct=(wt=Je.dataTransfer)==null?void 0:wt.files)==null?void 0:Ct.length)>0)It=Je.dataTransfer.files[0],At=Je.dataTransfer.files;else{alert(Se("Something went wrong!"));return}k?yield n(At):yield n(It),J==null||J(k?At:It)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:s()(Hi.dragArea,B,{[Hi.dragActive]:ye,"test-drag-active":ye}),onDragEnter:Ne,onDragOver:Ne,onDragLeave:Ve,onDrop:ze,"aria-label":Se("File Picker"),onClick:()=>{var Je;a||(Je=Ce.current)==null||Je.click()}},x?(0,e.h)(Is.Z,{size:20,className:Hi.icon}):(0,e.h)(_U,{size:24,className:Hi.icon}),!v.isMobile&&(0,e.h)("p",{className:Hi.text},A?Se("Loading..."):ye?Se("Release to upload"):x?Se("Add another image"):(0,e.h)(e.Fragment,null,r," ",Se("or")," ")),(0,e.h)(i.xv.H4,null,"Select file to upload"),(0,e.h)(i.xv.Detail,null," Or drag and drop file"),A?null:o||(a?a(()=>{Ce.current.click()}):null),_e?(0,e.h)(i.xv.Detail,{paddingTop:32,paddingX:32},_e):null),(0,e.h)("input",{className:s()(Hi.file,"file-picker-input"),ref:Ce,type:"file",name:"file",accept:_,multiple:k,onInput:Je=>Ry(void 0,null,function*(){const Ye=Je.target.files;Ye&&Ye[0]&&(k?yield n(Ye):yield n(Ye[0]),pe==null||pe(k?Ye:Ye[0]))})}))};var vU=je(92630);const yU={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},xy=({className:n,children:r,detail:o,label:a,alignment:_="vertical",error:A=!1})=>{const B=_==="vertical"?EU:bU;return(0,e.h)(B,{className:n,detail:o,error:A,label:a},ct.Children.A}):k))},EU=({children:n,className:r,detail:o,error:a,label:_})=>(0,e.h)(ne.tu,{className:r,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(i.xv.B4,{weight:"semibold",as:"div",color:a?"error":"primary",paddingBottom:8},_),n),o&&(0,e.h)(Uy,{detail:o,error:a})),bU=({children:n,className:r,detail:o,error:a,label:_})=>(0,e.h)(ne.gq,{className:r,justifyContent:"space-between",alignItems:"center"},(0,e.h)(ne.tu,{gap:4},_&&(0,e.h)(PU,{label:_,error:a}),o&&(0,e.h)(Uy,{detail:o,error:a})),n),PU=({label:n,error:r})=>(0,e.h)(i.xv.B4,{weight:"semibold",className:yU.label,color:r?"error":"primary"},n),Uy=({detail:n,error:r})=>(0,e.h)(i.xv.B4,{color:r?"error":"secondary"},n),Qo={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var bf=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const OU=({stripe_publishable_key:n,onComplete:r,user:o,pub:a,booking:_,settings:A})=>{const[B,k]=(0,t.eJ)(_.name),[x,J]=(0,t.eJ)(_.description),[pe,_e]=(0,t.eJ)(null),[ye,Pe]=(0,t.eJ)(null),[Ce,Se]=(0,t.eJ)(null),[Ae,Ne]=(0,t.eJ)(null),[Ve,ze]=(0,t.eJ)(!1),[Je,Ye]=(0,t.eJ)(null);(0,t.d4)(()=>{const Xt=(0,me.lQ)(n,a),Bt=Xt&&(0,me.UD)(Xt);Pe(Xt),Se(Bt)},[a,n,Pe,Se]),(0,t.d4)(()=>{(0,d.track)(Ef.F.MEETING_ORDER_PAGE_VIEWED,{user_id:o.id,publication_id:a.id})},[]),(0,t.d4)(()=>{(()=>bf(void 0,null,function*(){var Bt;const ur=yield Ze().get("/api/v1/subscription/last4");(Bt=ur.body)!=null&&Bt.last4&&Ne(ur.body.last4)}))()},[a]);const ht=A.selected_event_type,{price:wt,duration:Ct,subscriber_price:It,founding_price:At,currency:xt}=ht;let Dt=wt;o.is_subscribed&&It&&(Dt=It),o.is_founding&&At&&(Dt=At);const jt=!!(o!=null&&o.has_saved_payment),Jt=(0,t.I4)(()=>bf(void 0,null,function*(){return ye?yield ye.createToken(Ce):{token:null,error:{message:""}}}),[ye,Ce]),lr=(0,t.I4)(()=>bf(void 0,null,function*(){var Xt,Bt,ur,tr;ze(!0),Ye(null);let qt;if(!jt){const{token:Ft,error:kt}=yield Jt();if(kt){ze(!1),Ye(kt&&kt.message),(0,d.track)(Ef.F.MEETING_MISSING_PAYMENT,{type:kt&&kt.type,code:kt&&kt.code,decline_code:kt&&kt.decline_code,reason:kt&&kt.message});return}qt=Ft}const Rt=new FormData;Rt.append("name",B),Rt.append("description",x),qt&&Rt.append("stripe_token",JSON.stringify(qt)),pe&&Rt.append("attachment",pe);const Ut=Intl.DateTimeFormat().resolvedOptions().timeZone;Ut&&Rt.append("timezone",Ut),(0,d.track)(Ef.F.MEETING_SUBMIT_PRESSED,{publication_id:a.id,user_id:o.id});try{const Ft=yield Ze().post("/api/v1/meetings/book").send(Rt);history.pushState({},"",`/meetings/book/${Ft.body.order_id}`),r("schedule",$v()(Ft.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(Ft){(Bt=(Xt=Ft.response)==null?void 0:Xt.body)!=null&&Bt.error?Ye((tr=(ur=Ft.response)==null?void 0:ur.body)==null?void 0:tr.error):Ye("Something went wrong.")}ze(!1)}),[B,x,Jt,pe,ze,Ye]),mr=!!B&&!!x;return(0,e.h)(e.Fragment,null,(0,e.h)(Es,{pub:a,user_id:A.user_id,user_profile_photo_url:A.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(u.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(u.xv.H2,{align:"center",paddingTop:4},(0,Do.getConfigFor)("meetings_embed_publication_name")?a.name:A.user_name),(0,e.h)(u.xv.B3,{align:"center",paddingTop:8},Dt<wt&&(0,e.h)("span",{className:Qo.originalPrice},(0,Tt.centsToPriceString)(wt,xt)),(0,Tt.centsToPriceString)(Dt,xt)," \xB7 ",Ct,"-minute meeting"))),(0,e.h)(u.tu,{gap:32},(0,e.h)(xy,{alignment:"vertical",label:"Your name"},(0,e.h)(u.oi,{name:"name",value:B||"",onChange:Xt=>k(Xt.target.value),placeholder:"Name...",disabled:Ve,maxLength:500})),(0,e.h)(xy,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(u.gx,{name:"description",value:x,onChange:Xt=>J(Xt.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:Ve})),pe?(0,e.h)("div",null,(0,e.h)(u.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(u.gq,{className:Qo.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(Xi.Z,{onClick:()=>_e(null),className:Qo.fileRemoveIcon,height:24}),(0,e.h)(u.xv.B3,{className:Qo.fileName},pe.name))):(0,e.h)("div",null,(0,e.h)(u.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(gU,{className:Qo.filePicker,onFileSelected:Xt=>_e(Xt),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:Qo.checkoutBox},jt&&(0,e.h)(u.gq,{className:Qo.savedCard,padding:12,gap:12},(0,e.h)(mU,{className:Qo.cardOnFileIcon}),(0,e.h)(u.xv.B4,null,Ae?`**** **** **** ${Ae}`:"Use card on file")),!jt&&Ce&&(0,e.h)(me.GP,{className:Qo.input,element:Ce}),Je&&(0,e.h)(u.xv.B4,{paddingTop:12,className:Qo.errorContainer},Je),(0,e.h)(u.hs,{paddingTop:12},(0,e.h)(vU.u,{text:A.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:Ve||mr&&A.enabled,preferPlacement:"top-center",className:Qo.errorTooltip},(0,e.h)(u.zx,{className:Qo.button,grow:!0,type:"submit",onClick:lr,disabled:Ve||!mr||!A.enabled},Ve?"Loading...":"Book meeting"))))),(0,e.h)(u.xv,{className:Qo.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",a.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pf=function(n,r){return Pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var _ in a)a.hasOwnProperty(_)&&(o[_]=a[_])},Pf(w o)}vnts)};function CU(n,r){r===void 0&&(r={});var o=r.insertAt;if(!(!n||typeof document=="undefined")){var a=document.head||document.getElementsByTagName("head")[0],_=document.createElement("style");_.type="text/css",o==="top"&&a.firstChild?a.insertBefore(_,a.firstChild):a.appendChild(_),_.styleSheet?_.styleSheet.cssText=n:_.appendChild(document.createTextNode(n))}}var wU=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;CU(wU);valed"})(bs||(bs={}));var By=function(n){var r=n.url,o=n.prefill,a=o===void 0?{}:o,_=n.pageSettings,A=_===void 0?{}:_,B=n.utm,k=B===void 0?{}:B,x=n.embedType,J=A.backgroundColor,pe=A.hideEventTypeDetails,_e=A.hideLandingPageDetails,ye=A.primaryColor,Pe=A.textColor,Ce=A.hideGdprBanner,Se=a.customAnswers,Ae=a.date,Ne=a.email,Ve=a.firstName,ze=a.guests,Je=a.lastName,Ye=a.location,ht=a.name,wt=k.utmCampaign,Ct=k.utmContent,It=k.utmMedium,At=k.utmSource,xt=k.utmTerm,Dt=k.salesforce_uuid,jt=r.indexOf("?"),Jt=jt>-1,lr=r.slice(jt+1),mr=Jt?r.slice(0,jt):r,Xt=[Jt?lr:null,J?"background_color="+J:null,pe?"hide_event_type_details=1":null,_e?"hide_landing_page_details=1":null,ye?"primary_color="+ye:null,Pe?"text_color="+Pe:null,Ce?"hide_gdpr_banner=1":null,ht?"name="+encodeURIComponent(ht):null,Ye?"location="+encodeURIComponent(Ye):null,Ve?"first_name="+encodeURIComponent(Ve):null,Je?"last_name="+encodeURIComponent(Je):null,ze?"guests="+ze.map(encodeURIComponent).join(","):null,Ne?"email="+encodeURIComponent(Ne):null,Ae&&Ae instanceof Date?"date="+SU(Ae):null,wt?"utm_campaign="+encodeURIComponent(wt):null,Ct?"utm_content="+encodeURIComponent(Ct):null,It?"utm_medium="+encodeURIComponent(It):null,At?"utm_source="+encodeURIComponent(At):null,xt?"utm_term="+encodeURIComponent(xt):null,Dt?"salesforce_uuid="+encodeURIComponent(Dt):null,x?"embed_type="+x:null,"embed_domain=1"].concat(Se?IU(Se):[]).fnull}).join("&");return mr+"?"+Xt},SU=function(n){var r=n.getMonth()+1,o=n.getDate(),a=n.getFullYear();return[a,r<10?"0"+r:r,o<10?"0"+o:o].join("-")},TU=/^a\d{1,2}):[]},ky=function(n){mlthis}return r.prototype.r"}))},r}(ct.Component),MU={minWidth:"320px",height:"630px"},DU=function(n){ml(r,n);function r(o){var a=n.call(this,o)||this;return a.state={isLoading:!0},a.onLoad=a.onLoad.bind(a),a}return r.prototype.onLoad=function(){this.setState({isLoading:!1})},r.prototype.ro}))},r}(ct.Component),AU=function(n){mla),a}return r.prototype.onLoad=function(){this.setState({isLoading:!1})},r.prototype.ro}))},r}(ct.Component),Fy=function(n){return n.open?(0,ct.createPortal)((0,ct.createElement)("div",{className:"calendly-overlay"},(0,ct.createElement)("div",{onClick:n.onModalClose,className:"calendly-close-overlay"}),(0,ct.createElement)("div",{className:"calendly-popup"},(0,ct.createElement)("div",{className:"calendly-popup-content"},(0,ct.createElement)(AU,_l({},n)))),(0,ct.createElement)("button",{className:"calendly-popup-close",onClick:n.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),n.rootElement):null},WV=function(n){ml(r,n);function r(o){var a=n.call(this,o)||this;return a.state={isOpen:!1},a.onClick=a.onClick.bind(a),a.onClose=a.onClose.bind(a),a}return r.prototype.onClick=function(o){o.preventDefault(),this.setState({isOpen:!0})},r.prototype.onClose=function(o){o.stopPropagation(),this.setState({isOpen:!1})},r.prototype.r})))},r}(ct.Component),jV=function(n){mla),a}return r.prototype.on!0})},r.prototype.on!1})},r.prototype.r})))},r}(ct.Component),Wy="message";function NU(n){var r=n||{},o=r.onDateAndTimeSelected,a=r.onEventScheduled,_=r.onEventTypeViewed,A=r.onProfilePageViewed;(0,ct.useEffect)(function(){var B=function(k){var x=k.data.event;x===bs.DATE_AND_TIME_SELECTED?o&&o(k):x===bs.EVENT_SCHEDULED?a&&a(k):x===bs.EVENT_TYPE_VIEWED?_&&_(k):x===bs.PROFILE_PAGE_VIEWED&&A&&A(k)};return window.addEventListener(y,B)}},[n])}var LU=je(56288),RU=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const xU=({booking:n,onComplete:r,settings:o,pub:a})=>{const _="calendly",[A,B]=(0,t.eJ)(!1),[k,x]=(0,t.eJ)(!1),{duration:J}=o.selected_event_type,pe=(0,Do.getConfigFor)("meetings_embed_publication_name")?a.name:n.user_name,_e=(0,Ac.useMediaQuery)({maxWidth:698});return NU({onEventScheduled:ye=>RU(void 0,null,function*(){var Pe,Ce,Se;const Ae=(Se=(Ce=(Pe=ye.data)==null?void 0:Pe.payload)==null?void 0:Ce.event)==null?void 0:Se.uri;B(!0);try{const Ne=yield Ze().put(`/api/v1/meetings/order/${n.order_id}`).send({calendly_event_uri:Ae});yield new Promise(Ve=>setTimeout(Ve,2e3)),r("confirmation",Ne.body)}catch(Ne){x(!0)}})}),k?(0,e.h)(Es,{pub:a,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)(i.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):A?(0,e.h)(ne.hs,{justifyContent:"center"},(0,e.h)(LU.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(Es,{pub:a,user_id:o.user_id,user_profile_photo_url:o.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(i.xv.H2,{align:"center"},n.num_rebookings>0?"Rebook":"Book"," your meeting with ",pe),(0,e.h)(i.xv.B3,{align:"center",paddingTop:8},"Schedule your ",J,"-minute meeting"))),typeof window!="undefined"&&n.calendly_scheduling_uri&&(0,e.h)(DU,{iframeTitle:_,url:`${n.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:n.name||"",email:n.email,customAnswers:{a1:n.description}},styles:{minWidth:"320px",height:"700px",marginTop:_e?"0px":"-66px"}}))};var UU=Object.defineProperty,Yu=Object.getOwnPropertySymbols,jy=Object.prototype.hasOwnProperty,Vy=Object.prototype.propertyIsEnumerable,Hy=(n,r,o)=>r in n?UU(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ps=(n,r)=>{for(var o in r||(r={}))jy.call(r,o)&&Hy(n,o,r[o]);if(Yu)for(var o of Yu(r))Vy.call(r,o)&&Hy(n,o,r[o]);return n},BU=(n,r)=>{var o={};for(var a in n)jy.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Yu)for(var a of Yu(n))r.indexOf(a)<0&&Vy.call(n,a)&&(o[a]=n[a]);return o};const kU=n=>{var r=n,{step:o}=r,a=BU(r,["step"]);switch(o){case"order":return(0,e.h)(OU,Ps({},a));case"schedule":return(0,e.h)(xU,Ps({},a));case"confirmation":return(0,e.h)(sU,Ps({},a))}},Ky=({stripe_publishable_key:n,pub:r,user:o,order:a,order_id:_,settings:A})=>{const B=_?a.calendly_scheduling_uri?"schedule":"confirmation":"order",[k,x]=(0,t.eJ)(B),[J,pe]=(0,t.eJ)(Ps({name:o.name,email:o.email,description:""},a)),_e=kU({step:k,booking:J,settings:A,order:a,onComplete:(ye,Pe)=>{pe(Ps(Ps({},J),Pe)),x(ye)},pub:r,stripe_publishable_key:n,user:o,orderId:_});return(0,e.h)(e.Fragment,null,(0,e.h)(Iy,{pub:r}),(0,e.h)(ne.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(ne.tu,{paddingX:24,gap:32,style:{width:k==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},_e)))},FU=({subdomain:n})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,F.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getDiscoverSearchUrl)({query:n,params:{searching:"publication"}})},'Search Substack for "',n,'"'))));var WU=je(67256);const $y={"player-wrapper-outer":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-outer--NvMj8","player-wrapper-inner":"frontend-shows-ShowsPostAudioPlayer-module__player-wrapper-inner--cF55h"},jU=({audioPlayerRef:n,hasPaywall:r,feedUrl:o,isPrivateFeed:a,isServingFreePodcastUrl:_,post:A,pub:B,section:k,user:x,onChange:J,onCommentsClick:pe})=>(0,e.h)("div",{className:$y["player-wrapper-outer"]},(0,e.h)("div",{className:$y["player-wrapper-inner"]},(0,e.h)(WU.Fb,{audioPlayerRef:n,feedUrl:o,hasPaywall:r,isPrivateFeed:a,isServingFreePodcastUrl:_,post:A,pub:B,section:k,user:x,ufiComponent:(0,e.h)(xn._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:A,pub:B,style:"large-on-dark",user:x,onChange:J,onCommentsClick:pe})})));var VU=je(22939);const Gy={button:"frontend-shows-ShowsListenOnMobile-module__button--SMKzW"},HU=({feedUrl:n,post:r,pub:o,section:a,showLinks:_,user:A})=>{const{title:B}=(0,Na.Mv)({pub:o,section:a}),[k,x]=(0,VU.E)();return(0,e.h)(e.Fragment,null,(0,e.h)(u.gq,{gap:8},(0,e.h)(u.zx,{className:Gy.button,fill:"outline",priority:"secondary-theme",ont:r})},(0,e.h)(u.gq,{gap:12,alignItems:"center"},(0,e.h)(hf,{platformKey:"substack"}),"Open in app")),(0,e.h)(u.zx,{className:Gy.button,fill:"outline",priority:"secondary-theme",onClick:()=>{x()}},"More options")),(0,e.h)(Zo.ZP,{ref:k,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0},(0,e.h)(u.tu,{gap:24,paddingBottom:24},(0,e.h)(u.tu,{borderBottom:"detail-themed",paddingX:8,paddingBottom:A!=null&&A.is_free_subscribed?8:16},(0,e.h)(u.xv.H3,{paddingY:16},"Open in other app"),!(A!=null&&A.is_free_subscribed)&&(0,e.h)(u.xv.B3,null,"Never miss a new episode,"," ",(0,e.h)("a",{href:(0,gt.getSubscribeUrl)(o,{addBase:!0,params:{utm_medium:j.UTM_MEDIUM.web,utm_source:j.UTM_SOURCE.showsListenOnMobileDropdown,utm_content:r.id}}),native:!0},"subscribe to ",B))),(0,e.h)(u.tu,{gap:24,paddingX:8},_&&(0,Na.U6)({feedUrl:n,isApple:(0,v.isIos)(),isMobile:!0,showLinks:_,user:A,render:({key:J,label:pe,url:_e,onClick:ye})=>(0,e.h)(KU,{platformKey:J,label:pe,url:_e,onClick:ye})}),(A==null?void 0:A.is_subscribed)&&(0,e.h)(u.xv.B3,null,"Listen to paid episodes on your favorite podcast app with your private RSS feed."," ",(0,e.h)("a",{href:Na.ty},"Learn about RSS")),(0,e.h)(u.zx,{fill:"outline",priority:"secondary-theme",onClick:()=>{(0,ai.ZP)("RSS feed URL copied"),(0,F.copyToClipboard)(n)}},"Copy RSS Feed")))))},KU=({platformKey:n,label:r,url:o,onClick:a})=>(0,e.h)("a",{href:o,style:{textDecoration:"none"}},(0,e.h)(u.gq,{alignItems:"center",gap:12,onClick:a},(0,e.h)(hf,{platformKey:n,size:40}),(0,e.h)(u.xv.B3,{weight:"bold"},r))),$U=({feedUrl:n,post:r,pub:o,magicToken:a,section:_,showLinks:A,themeVariables:B,user:k,onChange:x,onCommentsClick:J})=>{const{isMobile:pe}=(0,Tn.v9)();return(0,e.h)(u.tu,{gap:16},pe&&(0,e.h)(HU,{feedUrl:n,post:r,pub:o,section:_,showLinks:A,user:k}),(0,e.h)(u.tu,{gap:8},(0,e.h)(u.xv,{color:"pub-primary-text",font:"pub-headings",size:28,lineHeight:36},r.title),r.subtitle&&(0,e.h)(u.xv.B2,{color:"pub-secondary-text",font:"pub-headings",weight:"normal"},r.subtitle)),(0,e.h)(Lv,{variant:"shows",post:r,pub:o}),!pe&&(0,e.h)(xn.Mp,{hideBottomBorder:!0,post:r,pub:o,user:k,onChange:x,themeVariables:B,postReactionToken:a,onCommentsClick:J}))},GU=({bylines:n,isStandaloneVideo:r})=>(0,e.h)(u.tu,{gap:16},r?(0,e.h)(u.xv.H4,{color:"pub-primary-text",translated:!0},"Authors"):(0,e.h)(u.xv.H4,{color:"pub-primary-text",translated:!0},"Appears in episode"),(0,e.h)(Ag,{bylines:n,variant:"shows"})),zy={"subscribe-container":"frontend-shows-ShowsCTA-module__subscribe-container--ao5j2",description:"frontend-shows-ShowsCTA-module__description--fsbTx"},zU=({post:n,pub:r,section:o,user:a,useSection:_})=>{const{title:A,description:B}=(0,Na.Mv)({pub:r,section:o,useSection:_});return(0,e.h)(u.tu,{border:"detail-themed",gap:24,paddingX:16,paddingY:24,radius:12,shadow:"lg"},(0,e.h)(u.tu,{gap:8,alignItems:"center"},(0,e.h)(mf.p,{post:n,pub:r,section:o,user:a,useSection:_}),A&&(0,e.h)(u.xv.H4,{textAlign:"center",color:"pub-primary-text"},A),B&&(0,e.h)(u.xv.B4,{className:zy.description,color:"pub-secondary-text",textAlign:"center"},B)),!(a!=null&&a.is_subscribed)&&(0,e.h)("div",{className:zy["subscribe-container"]},(0,e.h)(Ha,{expectTruncation:!0,pub:r,source:"episode-page-sidebar",user:a})))},Zy={image:"frontend-shows-ShowsEpisodePreview-module__image--KC1Rx","thumbnail-duration":"frontend-shows-ShowsEpisodePreview-module__thumbnail-duration--oW4Om"},ZU=({post:n,pub:r})=>{var o,a;const _=(a=(o=n.videoUpload)==null?void 0:o.duration)!=null?a:null,A=(0,t.sO)(null);return(0,Vp.UM)(A,()=>{(0,d.track)(d.EVENTS.RECENT_EPISODE_ITEM_SEEN,{post_id:n.id})}),(0,e.h)(u.gq,{ref:A},(0,e.h)(Fu,{alignItems:"start",body:(0,e.h)(Ui,{post:n,pub:r}),clampTitle:2,image:(0,e.h)(u.xu,{position:"relative",overflow:"hidden",radius:6},(0,e.h)(Z0,{containerRef:A,post:n,aspectRatio:zs,size:"small"}),(0,e.h)(Ka,{className:Zy.image,imageAspectRatio:zs,imageWidth:300,isBelowTheFold:!0,post:n}),typeof _=="number"&&(0,e.h)(u.gq,{className:Zy["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(u.xv.Meta,{color:"always-white",lineHeight:20},(0,Tt.secondsToHHMMSS)(_)))),title:n.title,url:n.canonical_url,linkProps:{onClick:()=>{(0,d.track)(d.EVENTS.RECENT_EPISODE_ITEM_CLICKED,{post_id:n.id})}}}))},YU=({isStandaloneVideo:n,pub:r,recentEpisodes:o})=>{const{iString:a}=(0,l.M1)();return(0,e.h)(u.tu,{gap:16},(0,e.h)(u.xv.H4,{color:"pub-primary-text"},a(n?"Recent Posts":"Recent Episodes")),(0,e.h)(u.tu,{gap:16},o.map(_=>(0,e.h)(ZU,{post:_,pub:r}))))};var JU=Object.defineProperty,Yy=Object.getOwnPropertySymbols,XU=Object.prototype.hasOwnProperty,QU=Object.prototype.propertyIsEnumerable,Jy=(n,r,o)=>r in n?JU(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,qU=(n,r)=>{for(var o in r||(r={}))XU.call(r,o)&&Jy(n,o,r[o]);if(Yy)for(var o of Yy(r))QU.call(r,o)&&Jy(n,o,r[o]);return n},eB=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const tB=({feedUrl:n,isStandaloneVideo:r,post:o,pub:a,recentEpisodes:_,section:A,showLinks:B,user:k})=>{var x;const{isMobile:J}=(0,Tn.v9)(),[pe,_e]=(0,t.eJ)(_),ye=(0,t.Ye)(()=>{var Ce;return(Ce=pe==null?void 0:pe.filter(Se=>Se.id!==o.id))!=null?Ce:null},[pe,o.id]),Pe=(0,Tt.getBylineUsers)(o).sort((Ce,Se)=>Ce.id===a.author_id?-1:Se.id===a.author_id?1:Ce.is_guest&&!Se.is_guest?-1:!Ce.is_guest&&Se.is_guest?1:(Ce.name||"").localeCompare(Se.name||""));return(0,t.d4)(()=>{_||(()=>eB(void 0,null,function*(){var Se,Ae;const Ne=yield Ze().get("/api/v1/recent_posts").query(qU({episodes_only:!((Se=o.podcastFields)!=null&&Se.hide_from_feed)},A!=null&&A.id?{section_id:A.id}:{}));_e((Ae=Ne.body)!=null?Ae:[])}))()},[o.id,(x=o.podcastFields)==null?void 0:x.hide_from_feed,_,a.id,A==null?void 0:A.id]),(0,e.h)(u.tu,{gap:32},!J&&(0,e.h)(zU,{post:o,pub:a,section:A,user:k,useSection:r}),(0,e.h)(u.tu,{gap:48},!J&&!r&&(0,e.h)(uy,{feedUrl:n,showLinks:B,post:o,pub:a,user:k}),!J&&a.bylines_enabled&&Pe.length>0&&(0,e.h)(GU,{bylines:Pe,isStandaloneVideo:r}),ye&&ye.length>0&&(0,e.h)(YU,{isStandaloneVideo:r,pub:a,recentEpisodes:ye})))},La={container:"frontend-shows-ShowsTranscript-module__container--gR_Eu","container--collapsed":"frontend-shows-ShowsTranscript-module__container--collapsed--n9den",header:"frontend-shows-ShowsTranscript-module__header--HOKBZ",icon:"frontend-shows-ShowsTranscript-module__icon--SxusQ","icon--expanded":"frontend-shows-ShowsTranscript-module__icon--expanded--ddc0e","transcription-container":"frontend-shows-ShowsTranscript-module__transcription-container--IjluX","transcription-chunk":"frontend-shows-ShowsTranscript-module__transcription-chunk--HW9zd",transcriptionWords:"frontend-shows-ShowsTranscript-module__transcriptionWords--AGVSc","transcription-chunk--active":"frontend-shows-ShowsTranscript-module__transcription-chunk--active--lMJxz","transcription-timestamp":"frontend-shows-ShowsTranscript-module__transcription-timestamp--NAgIH","transcription-text":"frontend-shows-ShowsTranscript-module__transcription-text--nnfzG"},rB=({post:n,playerRef:r,transcription:o})=>{const[a,_]=(0,t.eJ)(!1),[A,B]=(0,t.eJ)(0),k=(0,t.sO)(null);(0,t.d4)(()=>{if(!(!k.current||!a)&&k.current){const J=k.current.clientHeight,pe=k.current.querySelector(`#transcription-${A}`);pe&&k.current.scrollTo({top:pe.offsetTop-.5*(J-pe.clientHeight),behavior:"smooth"})}},[A,a]);const x=()=>{const J=!a;_(J),(0,d.track)(d.EVENTS.TRANSCRIPTION_TOGGLED,{state:J?"expanded":"collapsed",post_id:n.id})};return(0,e.h)(u.tu,{radius:6,className:s()(La.container,{[La["container--collapsed"]]:!a})},(0,e.h)(u.gq,{className:La.header,justifyContent:"space-between",alignItems:"center",padding:16,onClick:x},(0,e.h)(u.gq,{alignItems:"center",gap:8},(0,e.h)(Bg,{size:16}),(0,e.h)(u.xv.B4,{color:"pub-primary-text",weight:"bold",translated:!0},"Transcript")),(0,e.h)(u.gq,{color:"pub-secondary-text",justifyContent:"center",alignItems:"center",className:s()(La.icon,{[La["icon--expanded"]]:a})},(0,e.h)(Jf.Z,{size:16}))),(0,e.h)(u.HZ,{expanded:a,renderWhenCollapsed:!0},(0,e.h)("div",{className:La["transcription-container"],ref:k},(0,e.h)(v_,{player:r,postId:n.id,renderTranscriptionChunk:({isPlaying:J,row:pe,rowIndex:_e,words:ye,onPause:Pe,onPlay:Ce})=>{const Se=_e===A&&J,Ae=`transcription-${_e}`;return(0,e.h)(u.xu,{id:Ae,paddingY:4,paddingRight:16,className:s()(La["transcription-chunk"],{[La["transcription-chunk--active"]]:Se}),onClick:()=>{var Ne;(Ne=window.getSelection())!=null&&Ne.toString()||(Se?Pe():Ce())}},(0,e.h)(u.gq,{alignItems:"baseline",gap:12},(0,e.h)(u.xv.B4,{className:La["transcription-timestamp"],color:"pub-secondary-text"},(0,pg.DL)(pe.start)),(0,e.h)(u.xu,{display:"inline",className:La.transcriptionWords,lineHeight:22,padding:4,radius:6,"data-chunk-index":_e},ye.map(Ne=>Ne.word).join(" "))))},transcription:o,onUpdateActiveRowIndex:B}))))};var qo={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Xy=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],Qy=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],qy=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],$o=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},ca="fullscreenEnabled"in $o&&Object.keys(qo)||Xy[0]in $o&&Xy||Qy[0]in $o&&Qy||qy[0]in $o&&qy||[],nB={requestFulls]]()},requestFullscreenFunen]]},get exitFull($o)},get fullscreenPseudeen]},addEventListener:function(n,r,o){return $o.addEventListener(ca[qo[n]],r,o)},removeEventLisr,o)},get fullscreenEnabled(){return!!$o[ca[qo.fullscreenEnabled]]},set fullscreenEnabled(n){},get fullscreenEnt]]},set fullscreenE(n){},get onfullscreenchange(){return $o[("on"+ca[qo.fullscreenchange]).toLowerCase()]},set onfullscreenchange(n){return $o[("on"+ca[qo.fullscreenchange]).toLowerCase()]=n},get onfullscreee()]},set onfullscree)]=n}};const za=nB;function oB(){var n=(0,ct.useState)(!1),r=n[0],o=n[1],a=(0,ct.useRef)(null);(0,ct.useEffect)(function(){ent)};return za.addEventListener("fullscreenchang",B)}},[]);var _=(0,ct.useCallback)(function(){if(za.fullscreenElement)return za.exitFullscreen()ent)});if(a.current)return za.requestFullscreen(a.current)},[]),A=(0,ct.useCallve()},[]);return(0,ct.usee:a}},[r,_,A])}var aB=function(r){var o=r.handle,a=r.onChange,_=r.children,A=r.className,B=[];return A&&B.push(A),B.push("fullscreen"),o.active&&B.push("fullscreen-enabled"),(0,ct.useEfe,o)},[o.active]),ct.default.createElement("div",{className:B.join(" "),ref:o.node,style:o.active?{height:"100%",width:"100%"}:void 0},_)},iB=je(23493),sB=je.n(iB);const lB=({idleAfter:n=3e3,element:r})=>{const[o,a]=(0,t.eJ)(!1);return(0,t.d4)(()=>{const _=r!=null?r:window;let A;const B=()=>{a(!0)},k=sB()(()=>{a(!1),clearTimeout(A),A=setTimeout(B,n)},5|k()};return A=setTimeout(B,n),_.addEventListener("mousemove",k),_.addEventListener("mousedown",k),_.addEventListener("resize",k),_.addEventListener("keydown",k),_.addEventListener("touchstart",k),_.addEventListener("wheel",k),r||document.addEventListener("visibilitychange",x),()=>{_.removeEventListener("mousemove",k),_.removeEventListener("mousedown",k),_.removeEventListener("resize",k),_.removeEventListener("keydown",k),_.removeEventListener("touchstart",k),_.removeEventListener("wheel",k),r||document.removeEventListener("visibilitychange",x),clearTimeout(A)}},[r,n]),{isIdle:o}};var uB=je(26494),cB=je(1622),dB=je(85277);const Ju={container:"frontend-shows-video_player-Captions-module__container--ypFAE",text:"frontend-shows-video_player-Captions-module__text--fDdAu","container-full-screen":"frontend-shows-video_player-Captions-module__container-full-screen--TjDrc","text-full-screen":"frontend-shows-video_player-Captions-module__text-full-screen--HE6nv"},fB=({videoEle:n,mediaUpload:r,handle:o,subtitles:a})=>{const[_,A]=(0,t.eJ)([]),[B,k]=(0,t.eJ)(""),x=()=>{if(n){const J=n.currentTime,pe=_dTime);k(pe?pe.text:"")}};return(0,t.d4)(()=>(n==null||n.addEventListener("timeupdat",x)}),[n,a,_.length]),(0,t.d4)(()=>{var J,pe;if(A([]),(J=r==null?void 0:r.transcription)!=null&&J.signed_captions){const ye=((pe=r.transcription.signed_captions)!=null?pe:[]).find(Pe=>Pe.language===a);ye!=null&&ye.url&&fetch(ye==null?void 0:ye.url).then(Pe=>Pe.text()).then(Pe=>{const Ae=new dB.WebVTTParser().parse(Pe).cues.map(Ne=>{var Ve;const ze=/<v\s+([^>]+)>\s*(.*?)(?=<v|$)/,Je=Ne.text.match(ze),Ye=Je?{speaker:Je[1].trim(),sentence:Je[2].trim()}:null,ht=new VTTCue(Ne.startTime,Ne.endTime,(Ve=Ye==null?void 0:Ye.sentence)!=null?Ve:"");return ht.line=90,ht.size=90,ht.lineAlign="end",ht.snapToLines=!0,ht});A(Ae)}).",Pe))}},[r,a]),_.length&&B?(0,e.h)("div",{className:s()(Ju.container,{[Ju["container-full-screen"]]:o.active})},(0,e.h)("div",{className:s()(Ju.text,{[Ju["text-full-screen"]]:o.active})},B)):null};var pB=Object.defineProperty,eE=Object.getOwnPropertySymbols,hB=Object.prototype.hasOwnProperty,mB=Object.prototype.propertyIsEnumerable,tE=(n,r,o)=>r in n?pB(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,_B=(n,r)=>{for(var o in r||(r={}))hB.call(r,o)&&tE(n,o,r[o]);if(eE)for(var o of eE(r))mB.call(r,o)&&tE(n,o,r[o]);return n};const gB=n=>(0,e.h)(Te.l,_B({name:"ClosedCaptionsFilledIcon",svgParams:{height:16,width:20,stroke:"#808080"}},n),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM12.6776 7.9987V8.60503C12.6776 8.91696 12.7142 9.17954 12.7874 9.3928C12.8638 9.60605 12.972 9.76837 13.1121 9.87977C13.2553 9.98799 13.4272 10.0421 13.6277 10.0421C13.8251 10.0421 13.9906 9.99436 14.1242 9.89887C14.2579 9.8002 14.3582 9.66811 14.425 9.5026C14.4919 9.3371 14.5253 9.1509 14.5253 8.94401H16.4207V9.09201V9.23524C16.4207 9.7254 16.2997 10.1535 16.0578 10.5195C15.8191 10.8824 15.4881 11.1641 15.0648 11.3646C14.6415 11.5651 14.1561 11.6654 13.6086 11.6654C12.9657 11.6654 12.4214 11.538 11.9758 11.2834C11.5334 11.0288 11.1976 10.6723 10.9684 10.214C10.7393 9.75246 10.6247 9.21137 10.6247 8.59071V8.00347C10.6247 7.37963 10.7393 6.83854 10.9684 6.38021C11.1976 5.92188 11.5334 5.56699 11.9758 5.31554C12.4214 5.06091 12.9657 4.93359 13.6086 4.93359C14.0192 4.93359 14.3964 4.99089 14.7401 5.10547C15.0839 5.21687 15.3799 5.3792 15.6281 5.59245C15.8796 5.8057 16.0737 6.06192 16.2106 6.36111C16.3507 6.6603 16.4207 6.99609 16.4207 7.36849V7.51172V7.65017H14.5253C14.5253 7.44329 14.4919 7.25709 14.425 7.09158C14.3582 6.92607 14.2579 6.79557 14.1242 6.70009C13.9906 6.6046 13.8251 6.55686 13.6277 6.55686C13.4272 6.55686 13.2553 6.61256 13.1121 6.72396C12.972 6.83218 12.8638 6.99291 12.7874 7.20616C12.7142 7.41942 12.6776 7.68359 12.6776 7.9987ZM6.23177 8.60503V7.9987C6.23177 7.68359 6.26837 7.41942 6.34158 7.20616C6.41797 6.99291 6.52619 6.83218 6.66623 6.72396C6.80946 6.61256 6.98134 6.55686 7.18186 6.55686C7.3792 6.55686 7.5447 6.6046 7.67839 6.70009C7.81207 6.79557 7.91233 6.92607 7.97917 7.09158C8.04601 7.25709 8.07943 7.44329 8.07943 7.65017H9.97483V7.51172V7.36849C9.97483 6.99609 9.9048 6.6603 9.76476 6.36111C9.62789 6.06192 9.43374 5.8057 9.18229 5.59245C8.93403 5.3792 8.63802 5.21687 8.29427 5.10547C7.95052 4.99089 7.57335 4.93359 7.16276 4.93359C6.51982 4.93359 5.97555 5.06091 5.52995 5.31554C5.08753 5.56699 4.75174 5.92188 4.52257 6.38021C4.2934 6.83854 4.17882 7.37963 4.17882 8.00347V8.59071C4.17882 9.21137 4.2934 9.75246 4.52257 10.214C4.75174 10.6723 5.08753 11.0288 5.52995 11.2834C5.97555 11.538 6.51982 11.6654 7.16276 11.6654C7.71021 11.6654 8.1956 11.5651 8.61892 11.3646C9.04225 11.1641 9.37326 10.8824 9.61198 10.5195C9.85388 10.1535 9.97483 9.7254 9.97483 9.23524V9.09201V8.94401H8.07943C8.07943 9.1509 8.04601 9.3371 7.97917 9.5026C7.91233 9.66811 7.81207 9.8002 7.67839 9.89887C7.5447 9.99436 7.3792 10.0421 7.18186 10.0421C6.98134 10.0421 6.80946 9.98799 6.66623 9.87977C6.52619 9.76837 6.41797 9.60605 6.34158 9.3928C6.26837 9.17954 6.23177 8.91696 6.23177 8.60503Z",fill:"white",strokeWidth:.25}));var vB=Object.defineProperty,rE=Object.getOwnPropertySymbols,yB=Object.prototype.hasOwnProperty,EB=Object.prototype.propertyIsEnumerable,nE=(n,r,o)=>r in n?vB(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,bB=(n,r)=>{for(var o in r||(r={}))yB.call(r,o)&&nE(n,o,r[o]);if(rE)for(var o of rE(r))EB.call(r,o)&&nE(n,o,r[o]);return n};const PB=n=>(0,e.h)(Te.l,bB({name:"ClosedCaptionsIcon",svgParams:{height:16,width:20,stroke:"#808080"}},n),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM2.55814 1.37143C1.91595 1.37143 1.39535 1.8831 1.39535 2.51429V13.4857C1.39535 14.1169 1.91595 14.6286 2.55814 14.6286H17.4419C18.0841 14.6286 18.6047 14.1169 18.6047 13.4857V2.51429C18.6047 1.8831 18.0841 1.37143 17.4419 1.37143H2.55814Z",fill:"white","stroke-width":"0.25"}),(0,e.h)("path",{d:"M12.1858 7.94143V8.6719C12.1858 9.03793 12.2336 9.34826 12.329 9.60289C12.4277 9.85752 12.5694 10.0501 12.754 10.1806C12.9418 10.3111 13.1661 10.3763 13.4271 10.3763C13.6563 10.3763 13.8536 10.3286 14.0192 10.2331C14.1878 10.1344 14.3183 10.0008 14.4106 9.83206C14.5029 9.66337 14.5555 9.4708 14.5682 9.25437H16.0626C16.0626 9.2862 16.0626 9.31802 16.0626 9.34985C16.0626 9.38168 16.0626 9.41192 16.0626 9.44057C16.053 9.88617 15.9321 10.2777 15.6997 10.615C15.4705 10.9492 15.1586 11.2102 14.7639 11.398C14.3693 11.5826 13.9205 11.6749 13.4176 11.6749C12.8097 11.6749 12.294 11.5524 11.8707 11.3073C11.4506 11.0622 11.1307 10.7153 10.9111 10.2665C10.6946 9.81774 10.5864 9.2846 10.5864 8.66713V7.94143C10.5864 7.32077 10.6962 6.78605 10.9159 6.33727C11.1355 5.8853 11.4553 5.53677 11.8755 5.29169C12.2988 5.04661 12.8128 4.92407 13.4176 4.92407C13.7964 4.92407 14.1449 4.97818 14.4632 5.0864C14.7814 5.19143 15.0584 5.34421 15.2939 5.54473C15.5294 5.74525 15.714 5.98556 15.8477 6.26565C15.9846 6.54256 16.0562 6.85289 16.0626 7.19664C16.0626 7.22847 16.0626 7.2603 16.0626 7.29213C16.0626 7.32077 16.0626 7.34942 16.0626 7.37807H14.5682C14.5555 7.15526 14.5014 6.95633 14.4059 6.78128C14.3136 6.60622 14.1847 6.46936 14.0192 6.37069C13.8536 6.26883 13.6563 6.21791 13.4271 6.21791C13.1661 6.21791 12.9433 6.28634 12.7587 6.4232C12.5741 6.55688 12.4325 6.75104 12.3338 7.00567C12.2352 7.2603 12.1858 7.57222 12.1858 7.94143Z",fill:"white","stroke-width":"0.25"}),(0,e.h)("path",{d:"M5.87381 7.94143V8.6719C5.87381 9.03793 5.92155 9.34826 6.01704 9.60289C6.1157 9.85752 6.25734 10.0501 6.44195 10.1806C6.62974 10.3111 6.85413 10.3763 7.11513 10.3763C7.34429 10.3763 7.54163 10.3286 7.70714 10.2331C7.87583 10.1344 8.00633 10.0008 8.09863 9.83206C8.19094 9.66337 8.24345 9.4708 8.25618 9.25437H9.75054C9.75054 9.2862 9.75054 9.31802 9.75054 9.34985C9.75054 9.38168 9.75054 9.41192 9.75054 9.44057C9.74099 9.88617 9.62004 10.2777 9.3877 10.615C9.15853 10.9492 8.84661 11.2102 8.45193 11.398C8.05726 11.5826 7.60847 11.6749 7.10558 11.6749C6.49765 11.6749 5.98202 11.5524 5.5587 11.3073C5.13856 11.0622 4.81868 10.7153 4.59907 10.2665C4.38263 9.81774 4.27441 9.2846 4.27441 8.66713V7.94143C4.27441 7.32077 4.38422 6.78605 4.60384 6.33727C4.82346 5.8853 5.14334 5.53677 5.56348 5.29169C5.9868 5.04661 6.50083 4.92407 7.10558 4.92407C7.48434 4.92407 7.83286 4.97818 8.15115 5.0864C8.46944 5.19143 8.74635 5.34421 8.98188 5.54473C9.21741 5.74525 9.40202 5.98556 9.5357 6.26565C9.67256 6.54256 9.74418 6.85289 9.75054 7.19664C9.75054 7.22847 9.75054 7.2603 9.75054 7.29213C9.75054 7.32077 9.75054 7.34942 9.75054 7.37807H8.25618C8.24345 7.15526 8.18934 6.95633 8.09386 6.78128C8.00156 6.60622 7.87265 6.46936 7.70714 6.37069C7.54163 6.26883 7.34429 6.21791 7.11513 6.21791C6.85413 6.21791 6.63133 6.28634 6.44672 6.4232C6.26212 6.55688 6.12048 6.75104 6.02181 7.00567C5.92314 7.2603 5.87381 7.57222 5.87381 7.94143Z",fill:"white","stroke-width":"0.25"})),OB={playerButton:"frontend-shows-video_player-PlayerButton-module__playerButton--lRvT_"};var CB=Object.defineProperty,Xu=Object.getOwnPropertySymbols,oE=Object.prototype.hasOwnProperty,aE=Object.prototype.propertyIsEnumerable,iE=(n,r,o)=>r in n?CB(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,wB=(n,r)=>{for(var o in r||(r={}))oE.call(r,o)&&iE(n,o,r[o]);if(Xu)for(var o of Xu(r))aE.call(r,o)&&iE(n,o,r[o]);return n},SB=(n,r)=>{var o={};for(var a in n)oE.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&Xu)for(var a of Xu(n))r.indexOf(a)<0&&aE.call(n,a)&&(o[a]=n[a]);return o};const bi=n=>{var r=n,{children:o,className:a}=r,_=SB(r,["children","className"]);return(0,e.h)(u.hU,wB({priority:"primary-empty",rounded:!1,size:36,fill:"empty",className:s()(OB.playerButton,a)},_),o)},TB=({showCaptions:n,setShowCaptions:r,isFocused:o,disabled:a})=>{const _=A=>{r(A),A?localStorage.setItem("video_player:show_captions","true"):localStorage.removeItem("video_player:show_captions")};return(0,t.d4)(()=>{const A=localStorage.getItem("video_player:show_captions")==="true";n!==A&&r(A)},[]),Bi("c",()=>_(!n),o),(0,e.h)(bi,{onClick:()=>_(!n),disabled:a},n?(0,e.h)(gB,null):(0,e.h)(PB,null))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=(0,$r.Z)("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=(0,$r.Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),DB=({handle:n,isFocused:r})=>{coter();return Bi("f",o,r),(0,e.h)(u.u,{text:n.active?"Exit full screen (f)":"Full screen (f)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(bi,{onClick:o},n.active?(0,e.h)(IB,{size:18}):(0,e.h)(MB,{size:18})))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=(0,$r.Z)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Qu={fullWidth:"frontend-shows-video_player-NextEpisodeButton-module__fullWidth--bpz9l",container:"frontend-shows-video_player-NextEpisodeButton-module__container--yn3yT","thumbnail-duration":"frontend-shows-video_player-NextEpisodeButton-module__thumbnail-duration--RJIVF",space:"frontend-shows-video_player-NextEpisodeButton-module__space--CiUuM"};var NB=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const LB=({pub:n,postId:r,isFocused:o})=>{var a,_,A,B;const[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)(null),_e=Pe=>{if(!J||!n)return;(0,d.track)(d.EVENTS.VIDEO_NEXT_VIDEO_BUTTON_CLICKED,{postId:J.id,pubId:n.id});const Ce=Sd({linkToComments:!1,post:J,pub:n,utm:"next-episode"});(0,F.redirect)(Ce,{event:Pe})};(0,t.d4)(()=>{(()=>NB(void 0,null,function*(){var Ce,Se,Ae;const Ne=yield Ze().get("/api/v1/recent_posts").query({episodes_only:!0}),Ve=((Ce=Ne.body)!=null?Ce:[]).findIndex(ze=>ze.id===r);pe((Ae=(Se=Ne.body)==null?void 0:Se[Ve+1])!=null?Ae:void 0)}))()},[]),Bi("shift+n",()=>_e(),o);const ye=(J==null?void 0:J.cover_image)||(J==null?void 0:J.podcast_episode_image_url);return(0,e.h)("div",{style:{position:"relative"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},k&&ye&&(0,e.h)(u.tu,{position:"absolute",className:Qu.container},(0,e.h)(u.tu,{bg:"glass-inverted-medium",radius:6,style:{cursor:"pointer"},paddingY:8,paddingX:12,gap:4,onClick:_e,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},(0,e.h)(u.gq,{gap:16},(0,e.h)(u.tu,{gap:2,flex:"grow"},(0,e.h)(u.xv.Meta,{color:"always-white",opacity:80},"Next Up"),(0,e.h)(u.xv.B4,{color:"always-white"},J.title)),(0,e.h)(u.gq,{alignItems:"center"},(0,e.h)(Ms.Z,{color:"white",size:24}))),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)(Xe.e,{className:Qu.fullWidth,src:ye,alt:J.title,maxWidth:200,imageProps:{height:200*9/16,smartCrop:!0},radius:6}),(0,e.h)(u.gq,{className:Qu["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(u.xv.Meta,{color:"always-white",lineHeight:20},(0,Tt.secondsToHHMMSS)((B=(A=(a=J.videoUpload)==null?void 0:a.duration)!=null?A:(_=J.podcastUpload)==null?void 0:_.duration)!=null?B:0))))),(0,e.h)(u.xu,{className:Qu.space})),(0,e.h)(bi,{disabled:!J},(0,e.h)(AB,{size:18,fill:"white",onClick:_e})))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=(0,$r.Z)("PictureInPicture2",[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4",key:"daa4of"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2",key:"1nb8gs"}]]);var xB=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const UB=({videoRef:n,isFocused:r})=>{const[o,a]=(0,t.eJ)(!1),_=()=>xB(void 0,null,function*(){var A;if(n.current)try{document.pictureInPictureElement?yield document.exitPictureInPicture():yield(A=n.current.player)==null?void 0:A.requestPictureInPicture()}catch(B){console.error("Failed to toggle PiP mode:",B)}});return(0,t.d4)(()=>{var A,B;const k=()=>a(!0),x=()=>a(!1);return n.current&&((A=n.current.player)==null||A.addEventListener("enterpictureinpicture",k),(B=n.current.player)==null||B.addEventListener("leavepictureinpicture",x)),()=>{var J,pe;n.current&&((J=n.current.player)==null||J.removeEventListener("enterpictureinpicture",k),(pe=n.current.player)==null||pe.removeEventListener("leavepictureinpicture",x))}},[n]),Bi("i",_,r),(0,e.h)(u.u,{text:"Picture in Picture (i)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(bi,{onClick:_},(0,e.h)(RB,{size:18})))};var BB=je(74691),qu=je.n(BB),sE=je(66343);const Ra={timelineContainer:"frontend-shows-video_player-Timeline-module__timelineContainer--ezgpJ",timeline:"frontend-shows-video_player-Timeline-module__timeline--guZc4",timelineHover:"frontend-shows-video_player-Timeline-module__timelineHover--mKBAH",progress:"frontend-shows-video_player-Timeline-module__progress--G4Qrh",progressHover:"frontend-shows-video_player-Timeline-module__progressHover--_GK9Z",tooltip:"frontend-shows-video_player-Timeline-module__tooltip--QRZyc",timelineLabelContainer:"frontend-shows-video_player-Timeline-module__timelineLabelContainer--hwYPj",timelineTimeTooltip:"frontend-shows-video_player-Timeline-module__timelineTimeTooltip--yDFM6",timelineTimeThumbnailTooltip:"frontend-shows-video_player-Timeline-module__timelineTimeThumbnailTooltip--SUz9x"},Of=(n=0)=>{const r=Math.floor(n/3600),o=Math.floor(n%3600/60),a=Math.floor(n%60);return r?`${r}:${o<10?"0":""}${o}:${a<10?"0":""}${a}`:`${o}:${a<10?"0":""}${a}`},kB=({videoRef:n,mediaUpload:r})=>{var o,a,_;const[A,B]=(0,t.eJ)(0),[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)(!1),[_e,ye]=(0,t.eJ)(0),[Pe,Ce]=(0,t.eJ)(0),[Se,Ae]=(0,t.eJ)(0),Ne=(0,t.sO)(null),Ve=(0,t.sO)(null),ze=(0,t.sO)(null),Je=s4(r),Ye=()=>{var tr,qt,Rt;if((tr=n.current)!=null&&tr.player){const Ut=100/((qt=n.current)==null?void 0:qt.player.duration)*((Rt=n.current)==null?void 0:Rt.player.currentTime);B(Ut)}Ne.current=window.requestAnimationFrame(Ye)},ht=tr=>{var qt;let Rt=0;if(ze.current){const Ut=ze.current.getBoundingClientRect(),Ft=(tr.clientX-Ut.left)/Ut.width*100;Rt=qu()(0,Ft,100)}B(Rt),(qt=n.current)!=null&&qt.player&&(n.current.player.currentTime=n.current.player.duration*(Rt/100))},wt=tr=>{tr.preventDefault(),x(!0),ht(tr),document.addEventListener("mousemove",Ct),document.addEventListener("mouseup",It),document.addEventListener("selectstart",At)},Ct=tr=>{ht(tr)},It=()=>{x(!1),document.removeEventListener("mousemove",Ct),document.removeEventListener("mouseup",It),document.removeEventListener("selectstart",At)},At=tr=>{k&&tr.preventDefault()},xt=()=>{Math.abs(Pe-Se)>.1?(Ae(tr=>tr+(Pe-tr)*.1),Ve.current=window.requestAnimationFrame(xt)):(Ae(Pe),Ve.current&&window.cancelAnimationFrame(Ve.current))},Dt=tr=>{var qt,Rt;const{x:Ut,width:Ft}=(Rt=(qt=ze.current)==null?void 0:qt.getBoundingClientRect())!=null?Rt:{x:0,width:0};Ce((tr.clientX-Ut)/Ft*100),Ve.current||xt()};(0,t.d4)(()=>(Ne.current=window.requestAnimationFrame(Ye),()=>{Ne.current!==null&&window.cancelAnimationFrame(Ne.current),Ve.current!==null&&window.cancelAnimationFrame(Ve.current)}),[n]),(0,t.d4)(()=>{var tr;const qt=()=>{var Rt;(Rt=n.current)!=null&&Rt.player&&!isNaN(n.current.player.duration)&&ye(n.current.player.duration)};return n.current&&((tr=n.current.player)==null||tr.addEventListener("durationchange",qt)),()=>{var Rt;n.current&&((Rt=n.current.player)==null||Rt.removeEventListener("durationchange",qt))}},[n]);const jt=(o=Je==null?void 0:Je.tiles)!=null?o:[],Jt=Pe*_e/100,lr=jt.length?(0,sE.wb)(jt,Jt):null,mr=Je?Je.tile_width/Je.tile_height*100:100,Xt=10,Bt=((mr!=null?mr:0)+Xt)/2/((_=(a=ze.current)==null?void 0:a.getBoundingClientRect().width)!=null?_:1)*100,ur=qu()(Pe,Bt,100-Bt);return(0,e.h)(u.gq,{ref:ze,onMouseDown:wt,onMouseEnter:()=>pe(!0),onMouseLeave:()=>pe(!1),onMouseMove:Dt,flex:"grow",position:"relative",className:Ra.timelineContainer},(0,e.h)("div",{className:Ra.timeline},J&&(0,e.h)("div",{className:Ra.timelineHover,style:{width:`${Pe}%`,height:"100%"}}),(0,e.h)("div",{className:s()(Ra.progress,{[Ra.progressHover]:J}),style:{width:`${A}%`,height:"100%"}})),(0,e.h)("div",{style:{position:"absolute",left:`${ur}%`,opacity:J?1:0}},(0,e.h)("div",{className:Ra.tooltip},Je&&lr&&(0,e.h)(sE.RF,{storyboard:Je,imageUrl:Je.url,displayHeight:100,displayWidth:Je.tile_width/Je.tile_height*100,x:lr.x,y:lr.y,className:Ra.timelineTimeThumbnailTooltip}),(0,e.h)("div",{class:Ra.timelineLabelContainer},(0,e.h)(u.xu,{className:Ra.timelineTimeTooltip,bg:"glass-inverted-medium",position:"absolute",radius:6},(0,e.h)(u.xv.Meta,{className:Ra.durationLabel,color:"always-white",lineHeight:20},Of(Pe*_e/100)))))))},FB=({videoRef:n})=>{const[r,o]=(0,t.eJ)(0);return(0,t.d4)(()=>{let a;const _=()=>{var A;(A=n.current)!=null&&A.player&&(o(n.current.player.currentTime),a=requestAnimationFrame(_))};return n.current&&(a=requestAnimationFrame(_)),()=>{cancelAnimationFrame(a)}},[n]),(0,e.h)(u.xv.Mono,{size:14,color:"always-white"},Of(r))},WB=({videoRef:n})=>{const[r,o]=(0,t.eJ)(0);return(0,t.d4)(()=>{var a,_;const A=()=>{var B;(B=n.current)!=null&&B.player&&!isNaN(n.current.player.duration)&&o(n.current.player.duration)};return n.current&&((_=(a=n.current)==null?void 0:a.player)==null||_.addEventListener("durationchange",A)),()=>{var B,k;n.current&&((k=(B=n.current)==null?void 0:B.player)==null||k.removeEventListener("durationchange",A))}},[n]),(0,e.h)(u.xv.Mono,{size:14,color:"always-white"},Of(r))},jB=({videoRef:n})=>(0,e.h)(u.gq,{justifyContent:"center",alignItems:"center",gap:4},(0,e.h)(FB,{videoRef:n}),(0,e.h)(u.xv.Mono,{size:14,color:"always-white"},"/"),(0,e.h)(WB,{videoRef:n}));/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=(0,$r.Z)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=(0,$r.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),KB=({videoRef:n,isFocused:r})=>{const o=h_(n),a=()=>{var B,k;return(k=(B=n.current)==null?void 0:B.player)==null?void 0:k.play()},_=()=>{var B,k;return(k=(B=n.current)==null?void 0:B.player)==null?void 0:k.pause):a();return Bi("k",A,r),Bi(" ",A,r),(0,e.h)(u.u,{text:o?"Pause (k)":"Play (k)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(bi,{onClick:A},o?(0,e.h)(VB,{fill:"white",size:18}):(0,e.h)(HB,{fill:"white",size:18})))};var lE=je(9528);const $B=({isSettingsOpen:n,setIsSettingsOpen:r})=>n?(0,e.h)(bi,null,(0,e.h)(lE.Z,{size:18,onClick:()=>r(!n)})):(0,e.h)(u.u,{text:"Settings",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(bi,null,(0,e.h)(lE.Z,{size:18,onClick:()=>r(!n)})));/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=(0,$r.Z)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=(0,$r.Z)("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);var ZB=je(86791);const gl={seetingsMenu:"frontend-shows-video_player-SettingsMenu-module__seetingsMenu--Ydp2M",menuItem:"frontend-shows-video_player-SettingsMenu-module__menuItem--djCnd"},YB=({videoRef:n,dismiss:r})=>{const o=a=>{var _;(_=n.current)!=null&&_.player&&(n.current.player.playbackRate=a,localStorage.setItem("video_player:playbackRate",a.toString())),r()};return(0,e.h)(u.tu,{gap:4,flex:"grow"},[.25,.5,.75,1,1.25,1.5,1.75,2].map(a=>{var _,A;return(0,e.h)(u.gq,{className:gl.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:()=>o(a)},(0,e.h)(u.xv.B4,{font:"text",size:12,lineHeight:14,weight:"normal",color:"always-white"},a,"x"),a===((A=(_=n.current)==null?void 0:_.player)==null?void 0:A.playbackRate)&&(0,e.h)(Ri.Z,{size:16,color:"white"}))}))},uE={en:"English",es:"Spanish"},JB=({options:n=[],subtitles:r,setSubtitles:o,dismiss:a})=>{const _=A=>{o(A),localStorage.setItem("video_player:subtitles",A||""),a()};return(0,e.h)(u.tu,{gap:4,flex:"grow"},[null,...n].map(A=>{var B;return(0,e.h)(u.gq,{className:gl.menuItem,paddingY:8,paddingX:16,justifyContent:"space-between",alignItems:"center",onClick:()=>_(A)},(0,e.h)(u.xv.B4,{font:"text",size:12,lineHeight:14,weight:"normal",color:"always-white"},(B=uE[A!=null?A:""])!=null?B:"None"),r===A&&(0,e.h)(Ri.Z,{size:16,color:"white"}))}))},cE=({title:n,icon:r,selection:o,onClick:a})=>(0,e.h)(u.gq,{className:gl.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:a},(0,e.h)(u.gq,{gap:8,alignItems:"center"},r,(0,e.h)(u.xv.B4,{color:"always-white",font:"text",size:12,lineHeight:14,weight:"normal"},n)),(0,e.h)(u.gq,null,(0,e.h)(u.xv.B4,{color:"always-white",font:"text",size:12,lineHeight:14,weight:"normal"},o))),XB=({videoRef:n,podcastUpload:r,subtitles:o,setSubtitles:a,setIsSettingsOpen:_})=>{var A,B;const[k,x]=(0,t.eJ)(!1),[J,pe]=(0,t.eJ)(!1),_e=(0,e.createRef)(),[ye,Pe]=(0,t.eJ)([]);return(0,t.d4)(()=>{const Ce=localStorage.getItem("video_player:subtitles")||null;a(Ce)},[]),(0,t.d4)(()=>{var Ce,Se;if((Ce=r==null?void 0:r.transcription)!=null&&Ce.signed_captions){const Ne=((Se=r.transcription.signed_captions)!=null?Se:[]).map(Ve=>Ve.language);Pe(Ne),o&&!Ne.includes(o)&&a(null)}},[r,o]),(0,t.d4)(()=>{var Ce,Se;const Ae=parseFloat(localStorage.getItem("video_player:playbackRate")||"1"),Ne=()=>{var Ve;(Ve=n.current)!=null&&Ve.player&&(n.current.player.playbackRate=Ae)};return(Ce=n.current)!=null&&Ce.player&&((Se=n.current.player)==null||Se.addEventListener("loadedmetadata",Ne)),()=>{var Ve;n.current&&((Ve=n.current.player)==null||Ve.removeEventListener("loadedmetadata",Ne))}},[n]),(0,ZB.(!1)}),(0,e.h)(u.tu,{paddingY:8,ref:_e,gap:4,flex:"grow",className:s()(gl.seetingsMenu,{[gl.slideOut]:k})},k&&(0,e.h)(YB,{videoRef:n,dismiss:()=>x(!1)}),J&&(0,e.h)(JB,{options:ye,subtitles:o,setSubtitles:a,dismiss:()=>pe(!1)}),!k&&!J&&(0,e.h)(u.tu,{gap:4,flex:"grow"},(0,e.h)(cE,{title:"Playback speed",icon:(0,e.h)(GB,{size:16,color:"white"}),onClick:()=>x(!0),selection:`${(B=(A=n.current)==null?void 0:A.player)==null?void 0:B.playbackRate}x`}),ye.length>0&&(0,e.h)(cE,{title:"Subtitles",icon:(0,e.h)(zB,{size:16,color:"white"}),onClick:()=>pe(!0),selection:uE[o!=null?o:""]})))};/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=(0,$r.Z)("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]);/**
 * @license lucide-preact v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=(0,$r.Z)("Volume",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}]]),Cf={mainContainer:"frontend-shows-video_player-VolumeControl-module__mainContainer--ePhmK",volumeBar:"frontend-shows-video_player-VolumeControl-module__volumeBar--xXqXs",volumeLevel:"frontend-shows-video_player-VolumeControl-module__volumeLevel--WfB3P"},ek=({videoRef:n,isFocused:r})=>{const[o,a]=(0,t.eJ)(0),_=(0,t.sO)(o),[A,B]=(0,t.eJ)(!1),[k,x]=(0,t.eJ)(!1),J=(0,t.sO)(null),pe=Ae=>{var Ne;let Ve=0;if(J.current){const ze=J.current.getBoundingClientRect(),Je=(Ae.clientX-ze.left)/ze.width;Ve=qu()(Je,0,1),a(Ve),localStorage.setItem("video_player:volume",Ve.toString()),(Ne=n.current)!=null&&Ne.player&&(n.current.player.volume=Ve)}A&&Ve>0&&Se()},_e=Ae=>{Ae.preventDefault(),x(!0),pe(Ae),document.addEventListener("mousemove",ye),document.addEventListener("mouseup",Pe),document.addEventListener("selectstart",Ce(Ae)},Pe=()=>{x(!1),document.removeEventListener("mousemove",ye),document.removeEventListener("mouseup",Pe),document.removeEventListener("selectstart",Celt()};(0,t.d4)(()=>{var Ae,Ne;const Ve=parseFloat((Ae=localStorage.getItem("video_player:volume"))!=null?Ae:"");if(!isNaN(Ve)){const ze=qu()(Ve,0,1);a(ze),(Ne=n.current)!=null&&Ne.player&&(n.current.player.volume=ze)},Ce)}},[]);const Se=()=>{var Ae;(Ae=n.current)!=null&&Ae.player&&(n.current.player.muted=!A,B(!A))};return Bi("m",Se,r),(0,e.h)(u.gq,{className:Cf.mainContainer,justifyContent:"center",alignItems:"center"},(0,e.h)(u.u,{text:A?"Unmute (m)":"Mute (m)",hoverOptions:{delayEnter:100,delayLeave:100}},(0,e.h)(bi,{onClick:Se},A?(0,e.h)(Y0,{size:18}):o>.6?(0,e.h)(J0,{size:18}):o>.3?(0,e.h)(QB,{size:18}):(0,e.h)(qB,{size:18}))),(0,e.h)(u.gq,{justifyContent:"center",alignItems:"center"},(0,e.h)("div",{className:Cf.volumeBar,onMouseDown:_e,ref:J},(0,e.h)("div",{className:Cf.volumeLevel,style:{width:`${o*100}%`}}))))},Ki={bottomControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__bottomControlsContainer--tCMvI",bottomInnerControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__bottomInnerControlsContainer--e5tiq",backDrop:"frontend-shows-video_player-VideoPlayerControls-module__backDrop--aGXRg",captionsContainer:"frontend-shows-video_player-VideoPlayerControls-module__captionsContainer--CFN9J",centerControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__centerControlsContainer--zF6Tm",settingsControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__settingsControlsContainer--FEpyx",settingsControlsBox:"frontend-shows-video_player-VideoPlayerControls-module__settingsControlsBox--sNCjk",topOverlaysContainer:"frontend-shows-video_player-VideoPlayerControls-module__topOverlaysContainer--yak0L",bottomOverControlsContainer:"frontend-shows-video_player-VideoPlayerControls-module__bottomOverControlsContainer--uz7se",castStatus:"frontend-shows-video_player-VideoPlayerControls-module__castStatus--lVqI7"};var tk=Object.defineProperty,dE=Object.getOwnPropertySymbols,rk=Object.prototype.hasOwnProperty,nk=Object.prototype.propertyIsEnumerable,fE=(n,r,o)=>r in n?tk(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ok=(n,r)=>{for(var o in r||(r={}))rk.call(r,o)&&fE(n,o,r[o]);if(dE)for(var o of dE(r))nk.call(r,o)&&fE(n,o,r[o]);return n};const ak=({videoRef:n,videoContainerRef:r,pub:o,mediaUpload:a,podcastUpload:_,handle:A,isActive:B,isFocused:k})=>{var x,J;const pe=(0,t.sO)(null),[_e,ye]=(0,t.eJ)(!1),[Pe,Ce]=(0,t.eJ)(!1),[Se,Ae]=(0,t.eJ)(null),Ne=Ye=>{Ce(Ye),Ye&&(ze!=null&&ze.length)&&Ae(ze[0].language)},Ve=Ye=>{Ae(Ye),!Ye&&Pe?Ce(!1):Ye&&!Pe&&Ce(!0)};(0,(!1)},[B]);const ze=(J=(x=_==null?void 0:_.transcription)==null?void 0:x.signed_captions)!=null?J:[],Je=ze.length>0;return(0,e.h)("div",{ref:pe,style:{zIndex:10}},A.active?(0,e.h)("div",{className:Ki.topOverlaysContainer,style:{opacity:B?1:0,transform:B?"translateY(0)":"translateY(-20%)"}},(0,e.h)(u.gq,{justifyContent:"space-between",paddingBottom:32},(0,e.h)(u.gq,{padding:16}),(0,e.h)(u.gq,{padding:16}))):null,(0,e.h)("div",null),(0,e.h)("div",{className:Ki.settingsControlsContainer,style:{opacity:_e&&B?1:0,pointerEvents:_e?"auto":"none"}},(0,e.h)(u.tu,null,(0,e.h)(u.gq,{className:Ki.settingsControlsBox},(0,e.h)(XB,{videoRef:n,podcastUpload:_,subtitles:Se,setSubtitles:Ve,setIsSettingsOpen:ye})),(0,e.h)("div",{style:{height:"60px"}}))),(0,e.h)("div",{className:Ki.bottomControlsContainer,style:{transform:B?"translateY(0)":"translateY(40px)"}},(0,e.h)("div",{className:Ki.backDrop,style:{opacity:B?1:0}}),(0,e.h)(u.tu,{flex:"grow",gap:8},n.current&&_&&Pe&&(0,e.h)("div",{className:Ki.captionsContainer},(0,e.h)(fB,{videoEle:n.current.player,mediaUpload:_,handle:A,subtitles:Se})),(0,e.h)("div",{className:Ki.bottomInnerControlsContainer,style:{opacity:B?1:0}},(0,e.h)(u.tu,{flex:"grow"},(0,e.h)(u.gq,{flex:"grow"},(0,e.h)(kB,{videoRef:n,mediaUpload:a})),(0,e.h)(u.gq,{paddingX:4},(0,e.h)(u.hs,{gap:8,alignItems:"center"},(0,e.h)(KB,{videoRef:n,isFocused:k}),(0,e.h)(LB,{pub:o,postId:a.post_id,isFocused:k}),(0,e.h)(ek,{videoRef:n,isFocused:k}),(0,e.h)(jB,{videoRef:n})),(0,e.h)(u.hs,{flex:"grow"}),(0,e.h)(u.hs,{gap:8,alignItems:"center"},(0,e.h)(TB,{showCaptions:Pe,setShowCaptions:Ne,isFocused:k,disabled:!Je}),(0,e.h)(UB,{videoRef:n,isFocused:k}),(0,e.h)(DB,{handle:A,isFocused:k}),(0,e.h)($B,{isSettingsOpen:_e,setIsSettingsOpen:ye})))))))},n)),xa={container:"frontend-shows-ShowsVideoPlayer-module__container--YsDXk","video-wrapper":"frontend-shows-ShowsVideoPlayer-module__video-wrapper--kVvEJ","video-full-screen":"frontend-shows-ShowsVideoPlayer-module__video-full-screen--UkA12","preview-label-container":"frontend-shows-ShowsVideoPlayer-module__preview-label-container--l5L0H",sidebar:"frontend-shows-ShowsVideoPlayer-module__sidebar--poWlZ","sidebar--hidden":"frontend-shows-ShowsVideoPlayer-module__sidebar--hidden--ljSvj","sidebar-icons":"frontend-shows-ShowsVideoPlayer-module__sidebar-icons--xA9c1",videoContainer:"frontend-shows-ShowsVideoPlayer-module__videoContainer--NLTdt",overflow:"frontend-shows-ShowsVideoPlayer-module__overflow--kEouB"};var sk=Object.defineProperty,ec=Object.getOwnPropertySymbols,pE=Object.prototype.hasOwnProperty,hE=Object.prototype.propertyIsEnumerable,mE=(n,r,o)=>r in n?sk(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,_E=(n,r)=>{for(var o in r||(r={}))pE.call(r,o)&&mE(n,o,r[o]);if(ec)for(var o of ec(r))hE.call(r,o)&&mE(n,o,r[o]);return n},lk=(n,r)=>{var o={};for(var a in n)pE.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&ec)for(var a of ec(n))r.indexOf(a)<0&&hE.call(n,a)&&(o[a]=n[a]);return o};class gE extends si.Z{constructor(){super(...arguments),this.playbackEneview}}const uk=n=>{var r=n,{hasPaywall:o,mediaUpload:a,post:_,pub:A,user:B,videoPlayerRef:k,onChange:x,onClipClick:J,onCommentsClick:pe}=r,_e=lk(r,["hasPaywall","mediaUpload","post","pub","user","videoPlayerRef","onChange","onClipClick","onCommentsClick"]),ye,Pe,Ce;const{iString:Se}=(0,l.M1)(),[Ae,Ne]=(0,t.eJ)(!1),{isMobile:Ve}=(0,Tn.v9)(),ze=(0,t.sO)(null),Je=h_(k),{isIdle:Ye}=lB({idleAfter:2e3,element:ze.current}),ht=((ye=a.preview_duration)!=null?ye:0)>0,wt=o&&(!ht||Ae),Ct=!!(0,Do.default)("enable_substack_player")&&!Ve,It=oB(),At=l4(ze);(0,ct.useEffect)(()=>{var Dt;const jt=(Dt=k.current)==null?void 0:Dt.player;if(jt&&Ct){conse()};return jt.addEventListener("click",Jt),()=>{jt.removeEventListener("click",Jt)}}},[(Pe=k.current)==null?void 0:Pe.player]);const xt=()=>{var Dt;(Dt=k.current)!=null&&Dt.player&&(Ne(!1),k.current.player.currentTime=0,k.current.player.play())};return(0,e.h)("div",{className:xa.container,ref:ze},(0,e.h)("div",{className:s()(xa["video-wrapper"],{[xa["video-full-screen"]]:It.active})},Ct?(0,e.h)(aB,{handle:It,className:xa.fullScreenContainer},(0,e.h)("div",{class:s()(xa.videoContainer,{[xa.overflow]:_e.clippingMode})},(0,e.h)(gE,_E({ref:k,doNotResetOnEnd:!0,hidePlayButton:wt,mediaUpload:a,podcastUpload:_.podcastUpload,showPreview:o?ht:!0,noControls:wt&&!o||Ct,post:_,pub:A,renderPlayButton:()=>(0,e.h)(Zu.D,{isPlaying:!1,size:Ve?56:80}),usePreview:o&&ht,onFinishVideo:()=>{Ne(!0)},clippingModeRef:ze},_e)),(0,e.h)(ik,{videoRef:k,videoContainerRef:ze,pub:A,mediaUpload:a,podcastUpload:_.podcastUpload,isActive:(Ce=!Ye||_e.clippingMode)!=null?Ce:!1,isFocused:At,handle:It}))):(0,e.h)(gE,_E({ref:k,doNotResetOnEnd:!0,hidePlayButton:wt,mediaUpload:a,podcastUpload:_.podcastUpload,showPreview:o?ht:!0,noControls:wt&&!o||Ct,post:_,pub:A,renderPlayButton:()=>(0,e.h)(Zu.D,{isPlaying:!1,size:Ve?56:80}),usePreview:o&&ht,onFinishVideo:()=>{Ne(!0)}},_e)),ht&&o&&!wt&&(0,e.h)("div",{className:xa["preview-label-container"]},(0,e.h)(cB.l,null,Se("Preview"))),!Ve&&!wt&&(0,e.h)("div",{className:s()(xa.sidebar,{[xa["sidebar--hidden"]]:Je&&Ye})},(0,e.h)(u.hs,{className:xa["sidebar-icons"],bg:"glass-inverted-thick",paddingX:8,paddingY:16},(0,e.h)(xn._2,{isStatic:!1,labelStyle:"counts-or-none",position:"shows-episode-player",post:_,pub:A,style:"large-on-dark",user:B,showClipping:_.type==="podcast",onChange:x,onClipClick:J,onCommentsClick:pe})))),wt&&(0,e.h)(uB.Y,{isFreeSubscribed:!!(B!=null&&B.is_free_subscribed),post:_,pub:A,variant:"video",onRestart:ht?xt:void 0}))},vl={container:"frontend-shows-ShowsPost-module__container--kzpgm","main-content-and-sidebar":"frontend-shows-ShowsPost-module__main-content-and-sidebar--p703x","main-content":"frontend-shows-ShowsPost-module__main-content--mgpu3",postContentWrapper:"frontend-shows-ShowsPost-module__postContentWrapper--baa06",sidebar:"frontend-shows-ShowsPost-module__sidebar--qwsJE"};var ck=Object.defineProperty,dk=Object.defineProperties,fk=Object.getOwnPropertyDescriptors,vE=Object.getOwnPropertySymbols,pk=Object.prototype.hasOwnProperty,hk=Object.prototype.propertyIsEnumerable,yE=(n,r,o)=>r in n?ck(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,mk=(n,r)=>{for(var o in r||(r={}))pk.call(r,o)&&yE(n,o,r[o]);if(vE)for(var o of vE(r))hk.call(r,o)&&yE(n,o,r[o]);return n},_k=(n,r)=>dk(n,fk(r)),gk=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const vk=(0,ct.forwardRef)((n,r)=>{var o,a,_,A;const{getConfigFor:B}=(0,st.xR)(),{isMobile:k}=(0,Tn.v9)(),[x,J]=(0,t.eJ)(!1),[pe,_e]=(0,t.eJ)(null),[ye,Pe]=(0,t.eJ)(null),Ce=(0,t.sO)(null),Se=(0,t.sO)(null),{isServingFreePodcastUrl:Ae,paywall:Ne,post:Ve,pub:ze,reaction_token:Je,recentEpisodes:Ye,showComments:ht,themeVariables:wt,user:Ct,onChange:It}=n,At=Ve.section_id&&(o=ze.sectionson_id))!=null?o:null,{feedUrl:xt,isPrivateFeed:Dt}=G0({pub:ze,magicToken:Je,user:Ct,section:At}),jt=((a=Ve.podcastUpload)==null?void 0:a.transcription)||((_=Ve.videoUpload)==null?void 0:_.transcription),Jt=(0,Na.a9)({pub:ze,section:At}),lr=Ve.type==="video"||!!((A=Ve.podcastFields)!=null&&A.hide_from_feed)||!At&&!ze.podcast_enabled||!!(At&&!At.is_podcast),mr=pe?pe.length>0:!1,Xt=Bt=>{Bt.preventDefault(),(0,d.track)(d.EVENTS.COMMENTS_CLICKED,{post_id:Ve.id});const ur=document.getElementById(Na.nK);ur&&ur.scrollIntoView({behavior:"smooth"})};return(0,t.d4)(()=>{(()=>gk(void 0,null,function*(){const[ur,tr]=yield Promise.all([Ze().get(`/api/v1/post/${Ve.id}/reactors`),Ze().get(`/api/v1/post/${Ve.id}/restackers`)]);_e(ur.body),Pe(tr.body)}))()},[Ve.id]),(0,e.h)(Ru,_k(mk({},n),{ref:r,isShowsPost:!0,renderContent:({comments:Bt,postContent:ur})=>(0,e.h)("div",{className:vl.container},(0,e.h)(Wd,{visible:x,style:{zIndex:1}}),Ve.videoUpload?(0,e.h)(uk,{autoPlay:!0,hasPaywall:Ne,mediaUpload:Ve.videoUpload,post:Ve,pub:ze,reaction_token:Je,restorePlaybackLocation:!0,duration:Ve.videoUpload.duration,user:Ct,videoPlayerRef:Ce,onChange:It,clippingMode:x,onClipClick:()=>J(!0),onClippingModeCancel:()=>J(!1),onCommentsClick:Xt}):Ve.podcastUpload?(0,e.h)(jU,{audioPlayerRef:Se,feedUrl:xt,hasPaywall:Ne,isPrivateFeed:Dt,isServingFreePodcastUrl:Ae,post:Ve,pub:ze,section:At,user:Ct,onChange:It,onCommentsClick:Xt}):null,(0,e.h)("div",{className:vl["main-content-and-sidebar"]},(0,e.h)("div",{className:vl["main-content"]},(0,e.h)(u.tu,{gap:32},(0,e.h)(u.tu,{gap:16},(0,e.h)($U,{feedUrl:xt,magicToken:Je,post:Ve,pub:ze,section:At,showLinks:Jt,themeVariables:wt,user:Ct,onChange:It,onCommentsClick:Xt}),(jt==null?void 0:jt.approved_at)&&!Ne&&(0,e.h)(rB,{playerRef:Ve.videoUpload?Ce:Se,post:Ve,transcription:jt})),(0,e.h)("div",{className:vl.postContentWrapper},ur,B("like_posts_enabled")&&ze.community_enabled&&mr&&!Ne&&(0,e.h)(u.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(Hd,{post:Ve,pub:ze,user:Ct,reactors:pe,secondaryFaces:ye})),!Ne&&ht&&Bt))),(0,e.h)(u.tu,{className:vl.sidebar,borderLeft:"detail-themed",paddingX:32,paddingY:24},(0,e.h)(tB,{feedUrl:xt,isStandaloneVideo:lr,post:Ve,pub:ze,recentEpisodes:Ye,section:At,showLinks:Jt,user:Ct}))),k&&(0,e.h)(xn.mt,{allowEdit:Ct==null?void 0:Ct.is_contributor,hideComments:!ht,post:Ve,postReactionToken:Je,pub:ze,user:Ct,onCommentsClick:Xt,onChange:It}))}))});var yk=je(66141),EE=je(19696);function Ek(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function tH({user:n,pathname:r="/inbox"}){const[o,a]=Ek(),_=CE();if(o||!_||n!=null&&n.reader_installed_at&&_==="ios"&&isSafari()&&(r.startsWith(FEED_PATH)||r.includes("/note/"))||r.startsWith("/chat"))return null;co,a()},B=k=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(bE,{className:"app-banner-fixed"},h(wf,{surface:"reader"}),h(OE,null),h(PE,null,h("div",null,"Get the full experience")),h("a",{href:Pk(r),className:"app-banner-cta",onClick:B},"Get app"),h("button",{className:"reader2-button-reset",onClick:A},h(X,{size:16,className:"app-banner-x-out"})))}function bk({post:n,subdomain:r}){const o=CE();if(!(0,v.isMobile)({checkFirst4:!0})||!o)return null;const a=(0,p.getPostAppLinkUrl)(r,n.slug,{redirect:"app-store",source:"post-banner"}),_=()=>{(0,d.track)(d.EVENTS.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(bE,null,(0,e.h)(wf,{surface:"post"}),(0,e.h)(OE,null),(0,e.h)(PE,null,(0,e.h)("div",null,n.type==="podcast"?"Listen":n.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:a,onClick:_},"Open app"))}function wf({surface:n,bannerType:r}){return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.APP_BANNER_VIEWED,{surface:n,bannerType:r})},[]),null}const bE=(0,EE.L)("app-banner"),PE=(0,EE.L)("app-banner-text");function OE(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(I.Z,{height:null}function Pk(n){const r=n.split("/"),o=r.length>1?r[1]:null;return o&&["/chat",FEED_PATH,"/activity","/library"].includes(`/${o}`)?getAppLinkTabUrl({tab:o,redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"})}function rH({user:n,pub:r,post:o}){const a=UTM_SOURCE.postReferralBanner,_=getReaderProfileUrl(n,{utm_source:a}),A=getPostAppLinkUrl(r.subdomain,o.slug,{redirect:"app-store",source:a}),B=()=>track(EVENTS.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"cta"}),k=()=>track(EVENTS.APP_BANNER_TAPPED,{surface:"post",bannerType:"post-referral-banner",tappedElement:"profile"});return h(FlexBox,{bg:"secondary",alignItems:"center",justifyContent:"space-between",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,gap:12},h(wf,{surface:"post",bannerType:"post-referral-banner"}),h(UserHead,{subject:n,url:_,onClick:k}),h(FlexColumn,{flex:"fill"},h(Text,{as:"a",href:_,onClick:k,font:"display",size:11,weight:"bold"},"Shared by ",n.name),h(Text,{font:"display",size:11},"Follow their reading in the app")),h(UnstyledButton,{href:A,className:"referral-banner-cta",onClick:B},"Open App"))}var Ok=Object.defineProperty,Ck=Object.defineProperties,wk=Object.getOwnPropertyDescriptors,wE=Object.getOwnPropertySymbols,Sk=Object.prototype.hasOwnProperty,Tk=Object.prototype.propertyIsEnumerable,SE=(n,r,o)=>r in n?Ok(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Ik=(n,r)=>{for(var o in r||(r={}))Sk.call(r,o)&&SE(n,o,r[o]);if(wE)for(var o of wE(r))Tk.call(r,o)&&SE(n,o,r[o]);return n},Mk=(n,r)=>Ck(n,wk(r));const nH=n=>h(SvgIcon,Mk(Ik({},n),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),oH=null,tc=({children:n,dismissKey:r,dismissDurationInSeconds:o,beforeDismiss:a,className:_,level:A="info"}={})=>{const[B,k]=(0,yk.Z)(r,o,a);if(!B)return(0,e.h)("div",{className:s()("banner",A,_)},n,(0,e.h)(Ee.Z,{width:12,height:12,className:"banner-close",on,k()}}))},aH=null,iH=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(tc,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),sH=({action:n="connect"})=>{const{getConfigFor:r}=useSiteConfigs(),[o,a]=useState(!1);return o||!r("twitter_connect_flows_enabled")?null:h(tc,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),n==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),n==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSua(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",oner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},Dk=()=>{const{iString:n,iTemplate:r}=(0,l.M1)();return(0,e.h)(tc,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{Ze().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},n("Welcome to Substack!")),(0,e.h)("br",null),(0,e.h)("p",null,n(`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`)),(0,e.h)("br",null),(0,e.h)("p",null,n(`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)))},lH=({children:n,className:r,level:o="info",onClose:a}={})=>{const[_,A]=useState(!1);if(!(_&&o!=="error"))return h("div",{className:classnames("banner",o,r)},o!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:B=>{B.preventDefault(),B.stopPropagation(),a&&a(),A(!0)}}),n)},uH=({featureName:n,featureLink:r,preText:o,linkedText:a,postText:_,children:A})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:n})},[n]);const B=isMobileBrowser();return h(tc,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!B&&A,h("p",{className:"new-feature-banner-text"},o," ",h("a",{href:r,native:!0,on:n})}},a)," ",_))};var Ak=je(55525),Nk=je(65207),Lk=Object.defineProperty,Rk=Object.defineProperties,xk=Object.getOwnPropertyDescriptors,TE=Object.getOwnPropertySymbols,Uk=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable,IE=(n,r,o)=>r in n?Lk(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,kk=(n,r)=>{for(var o in r||(r={}))Uk.call(r,o)&&IE(n,o,r[o]);if(TE)for(var o of TE(r))Bk.call(r,o)&&IE(n,o,r[o]);return n},Fk=(n,r)=>Rk(n,xk(r));const Wk=n=>(0,e.h)(Te.l,Fk(kk({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Nk.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var jk=Object.defineProperty,Vk=Object.defineProperties,Hk=Object.getOwnPropertyDescriptors,ME=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,$k=Object.prototype.propertyIsEnumerable,DE=(n,r,o)=>r in n?jk(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Gk=(n,r)=>{for(var o in r||(r={}))Kk.call(r,o)&&DE(n,o,r[o]);if(ME)for(var o of ME(r))$k.call(r,o)&&DE(n,o,r[o]);return n},zk=(n,r)=>Vk(n,Hk(r));const Zk=n=>(0,e.h)(Te.l,zk(Gk({},n),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var Yk=je(7775),Jk=je(74957);const Sf={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var Xk=Object.defineProperty,Qk=Object.defineProperties,qk=Object.getOwnPropertyDescriptors,AE=Object.getOwnPropertySymbols,eF=Object.prototype.hasOwnProperty,tF=Object.prototype.propertyIsEnumerable,NE=(n,r,o)=>r in n?Xk(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,yl=(n,r)=>{for(var o in r||(r={}))eF.call(r,o)&&NE(n,o,r[o]);if(AE)for(var o of AE(r))tF.call(r,o)&&NE(n,o,r[o]);return n},LE=(n,r)=>Qk(n,qk(r));const RE="https://twitter.com",xE=()=>{const n=(0,nn.pm)();return(r,o=null)=>n.popToast(a=>(0,e.h)(nn.FN,LE(yl({},a),{className:Sf.toast,text:r,cta:o})))},rF=({post:n,publication:r,autoSharedOnTwitter:o,showAfter:a,publicationTwitterScreenName:_,authorVersion:A})=>{const B=(0,t.sO)(null),[k,x]=(0,t.eJ)(!0),J=xE();(0,t.d4)(()=>{o&&J("Post shared to Twitter",_?(0,e.h)("a",{className:Sf.cta,href:`${RE}/${_}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const pe=()=>{x(!1)};return!k&&a?a:(0,e.h)(Ge.Z,{testID:"share-modal",openByDefault:!0,className:s()("force-light-theme",Sf.modal),ref:B,variant:"structured",modalTitle:`Share your ${A?"substack:":"post:"}`,modalFooter:(0,e.h)(la.z,{variant:A?"primary":"secondary",look:"button",onse()}},A?"View Dashboard":"View post"),onBeforeClose:pe},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(Ri.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,A?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!A&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(oF,{modalRef:B})),(0,e.h)(nF,{post:n,publication:r,hideEmailOption:!A,trackingParams:{sd:"pf"},autoSharedOnTwitter:o,authorVersion:A})))},nF=({post:n,publication:r,hideEmailOption:o=!1,trackingParams:a,autoSharedOnTwitter:_,authorVersion:A})=>{const B=A?(0,p.getBaseUrl)(r):n.canonical_url,k=J=>{(0,d.track)(d.EVENTS.SHARE_LINK_CLICKED,{name:J,post_id:n==null?void 0:n.id,source:"fullscreen-author-share-dialog"})},x=xE();return(0,e.h)(e.Fragment,null,(0,e.h)(El,{onClick:()=>{k("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,p.serializeQuery)({u:(0,p.updateQuery)(B,yl({utm_source:j.UTM_SOURCE.facebook},a))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(Zk,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!_&&(0,e.h)(El,{onClick:()=>{k("twitter"),window.open(`${RE}/share?${(0,p.serializeQuery)({url:(0,p.updateQuery)(B,yl({utm_source:j.UTM_SOURCE.twitter},a))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(by,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(El,{onClick:()=>{(0,F.copyToClipboard)((0,p.updateQuery)(B,a)),k("copy"),x("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(Yk.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!o&&(0,e.h)(El,{onClick:()=>{k("email"),window.open(`mailto:?${(0,p.serializeQuery)({subject:A?`Check out ${r.name}`:n.title,body:(0,p.updateQuery)(B,yl({utm_source:j.UTM_SOURCE.email},a))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(Jk.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!A&&(0,e.h)(El,{onClick:()=>{k("media-assets"),window.open(`${(0,p.getPostUrl)(r,n)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(Wk,{stroke:"#404040",fill:"white"}),"View shareable images")))},El=n=>(0,e.h)("a",LE(yl({},n),{native:!0})),oF=({modalRef:n})=>{var r,o,a;let _="";typeof window!="undefined"&&(_=window.location.host);const A=(r=document.head.querySelector('meta[property="og:image"]'))==null?void 0:r.content,B=(o=document.head.querySelector('meta[property="og:title"]'))==null?void 0:o.content,k=(a=document.head.querySelector('meta[property="og:description"]'))==null?void 0:a.content;return(0,e.h)("div",{onse()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},A&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:A,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},_),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},B),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},k)))},aF=rF;var iF=Object.defineProperty,sF=Object.defineProperties,lF=Object.getOwnPropertyDescriptors,UE=Object.getOwnPropertySymbols,uF=Object.prototype.hasOwnProperty,cF=Object.prototype.propertyIsEnumerable,BE=(n,r,o)=>r in n?iF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,kE=(n,r)=>{for(var o in r||(r={}))uF.call(r,o)&&BE(n,o,r[o]);if(UE)for(var o of UE(r))cF.call(r,o)&&BE(n,o,r[o]);return n},dF=(n,r)=>sF(n,lF(r)),fF=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const pF=({pub:n,pubsToRecommend:r})=>{const{iString:o,iTemplate:a,iPlural:_}=(0,l.M1)(),[A,B]=(0,t.eJ)(!0),[k,x]=(0,t.eJ)(!0),[J,pe]=(0,t.eJ)((r||[]).reduce((Ae,Ne)=>dF(kE({},Ae),{[Ne.id]:!0}),{}(!1)},ye=Ae=>{const Ne=kE({},J);Ne[Ae]=!Ne[Ae],pe(Ne)},Pe=()=>fF(void 0,null,function*(){try{const Ae=Object.keys(J).f===!0r(Ne));yield Ze().put("/api/v1/recommendations/multiple").send({recommending_publication_id:n.id,recommended_publication_ids:Ae,source:"post_publish_cta",suggested:A)=>!0)}),Ae.length&&(0,ai.ZP)(_("Recommended %1 publication","Recommended %1 publications",Ae.length),{timeout:1500}),_e()}catch(Ae){console.error("Failed to add recommendations: ",Ae),_e()}});let Ce,Se;return r!=null&&r.length&&(Ce=(Object.values(J).f===!0)||[]).length,Se=r.length>1?_("Do you want to recommend %2 and %1 other publication","Do you want to recommend %2 and %1 other publications",r.length-1,r[0].name):a`Do you want to recommend ${r[0].name}`),(0,e.h)(e.Fragment,null,k?(0,e.h)(xo.u_,{isOpen:A,onClose:_e},(0,e.h)(xo.xB,{onClose:_e,title:Se}),(0,e.h)(xo.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},r.length>1?a`Since you embedded ${r.length} publications on your post, we thought you might want to recommend them to your readers`:a`Since you embedded ${r[0].name} on your post, we thought you might want to recommend them to your readers`),r&&r.length&&r.map((Ae,Ne)=>(0,e.h)("div",{className:s()("recommend-publication-container",{last:Ne===r.length-1}),one.id)},(0,e.h)(ja.Z,{pub:Ae,size:40,logo_url:Ae.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,p.getBaseUrl)(Ae),target:"_blank"},Ae.name),(0,e.h)("p",{className:"author-name"},(0,Tt.getByLine)(Ae))),(0,e.h)(Rh.p,{checked:J[Ae.id]?J[Ae.id]:!1}))))),(0,e.h)(xo.mz,{alignment:"center",primaryButton:(0,e.h)(la.z,{onClick:Pe,variant:"primary"},Ce===0?o("Continue"):_("Recommend %1 publication","Recommend %1 publications",Ce)),secondaryButton:(0,e.h)(la.z,{onClick:_e,variant:"secondary"},o("Maybe later"))})):null)};class hF extends e.Component{isSubscribed(){const{user:r}=this.props;return r&&r.is_subscribed}isFreeSubscribed(){const{freeSignup:r,user:o}=this.props;return r||o&&o.is_free_subscribed&&!o.is_contributor}onFreeSubscribe(r){if(this.props.publication.plans){let o=(0,p.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:r.body.referral_token});r.body.prompt_to_login&&(o=`/account/login?redirect=${encodeURIComponent(o)}&email=${encodeURIComponent(r.body.email)}`),document.location.href=o}else window.location.reload()}render({publication:r,user:o,freeSignupEmail:a,features:_,iString:A,language:B}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!r.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,A("Ready for more?")),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,p.getSubscribeUrl)(r,{utm_source:j.UTM_SOURCE.readyForMore}),native:!0},(0,e.h)(ge.Z,{className:"primary"},(0,e.h)("b",null,(0,Tt.getSubscribeText)(r,{language:B}))))):(0,e.h)(u.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(Me.Z,{freeSignupEmail:a,onAccentBackground:!0,pub:r,source:"subscribe_footer",submitButtonText:(0,Tt.getSubscribeText)(r),user:o,onSuccess:this.onFreeSubscribe.bind(this)})))))}}const mF=(0,l.fz)(hF),_F=()=>{const[n,r]=(0,t.eJ)((!1)};return(0,e.h)(xo.u_,{isOpen:n,onClose:o},(0,e.h)(xo.fe,null,(0,e.h)(u.tu,{padding:16,gap:12},(0,e.h)(i.xv.H3,{color:"primary"},"Select a chunk of text to share as a video."),(0,e.h)("img",{src:(0,gt.imginary)("/img/publish/selection.gif"),style:{padding:"16px",borderRadius:"25px"}}),(0,e.h)(u.zx,{onClick:o,grow:!0,priority:"primary-theme"},"Got it"))))};var gF=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});function fH(n,r={}){n=n||getQueryItem("selection");const{isLoading:o,error:a,result:_}=useFetch({pathname:`/api/v1/post_selection/${n}`,auto:!!n,deps:[n]});return{isLoading:o,error:a,postSelection:_!=null?_:null,highlightSele_,r)}}}function vF(n){return gF(this,arguments,function*(r,o={}){r=r||(0,p.getQueryItem)("selection");let a=null;try{a=yield(0,Pn.rd)(`/api/v1/post_selection/${r}`,{})}catch(_){}a&&FE(a,o)})}function FE(n,r={}){var o,a;if(r.ignoreSafari&&(0,F.isSafari)()||!n.text)return;const _=((a=(o=/^[^.]+\./.exec(n.text))==null?void 0:o[0])!=null?a:n.text).replace(/\.+$/g,"");if(!_)return;const A=`#:~:text=${encodeURIComponent(_)}`;history.replaceState({},document.title,A),document.location.hash=A}const ea={container:"frontend-main-scheduled_post_page-module__container--IhNeJ",imageContainer:"frontend-main-scheduled_post_page-module__imageContainer--r8zca",postContainer:"frontend-main-scheduled_post_page-module__postContainer--XGEvi",imagePreview:"frontend-main-scheduled_post_page-module__imagePreview--qfOgy",shareButton:"frontend-main-scheduled_post_page-module__shareButton--QQbjJ",foundingButton:"frontend-main-scheduled_post_page-module__foundingButton--lN7jr",upsellDescription:"frontend-main-scheduled_post_page-module__upsellDescription--WIiTE",countdownContainer:"frontend-main-scheduled_post_page-module__countdownContainer--ozFoc",countdownInnerContainer:"frontend-main-scheduled_post_page-module__countdownInnerContainer--JhNKd",refreshLink:"frontend-main-scheduled_post_page-module__refreshLink--h1Cco"},yF=({post:n,publication:r,user:o,freeSignup:a,freeSignupEmail:_})=>{var A,B,k,x,J,pe,_e,ye,Pe,Ce;const Se=(0,t.sO)(),Ae=n.cover_image,Ne=n.title,Ve=n.description,ze=(0,Tt.getPrintedByline)(r,n),Je=((A=n.postSchedule)==null?void 0:A.email_audience)==="founding"&&(o==null?void 0:o.is_founding)||((B=n.postSchedule)==null?void 0:B.email_audience)==="only_paid"&&o&&(0,vd.P)(o,r)||((k=n.postSchedule)==null?void 0:k.email_audience)==="everyone"&&(o==null?void 0:o.is_free_subscribed),[Ye,ht]=(0,t.eJ)(Sr()((x=n.postSchedule)==null?void 0:x.trigger_at).diff(Sr()(),"second")),wt=Math.floor(Ye/60/60/24),Ct=Math.floor(Ye/60/60%24),It=Math.floor(Ye/60%60),At=Ye%60;return(0,t.d4)(()=>{const xt=setInterval(()=>{var Dt;ht(Sr()((Dt=n.postSchedule)==null?void 0:Dt.trigger_at).diff(Sr()(),"second"))},500);(xt)}}),(0,t.d4)(()=>{(0,d.track)(d.EVENTS.SCHEDULED_POST_SEEN,{post_id:n.id})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(Pu,{post:n,publication:r}),(0,e.h)(u.tu,{className:ea.container,alignItems:"center",gap:96,paddingTop:{desktop:64,mobile:32},paddingX:12},(0,e.h)(u.tu,{className:ea.postAndImageContainer,alignItems:"center",gap:32},Ae&&(0,e.h)("div",{className:ea.imageContainer},(0,e.h)("img",{src:Ae,className:ea.imagePreview})),(0,e.h)(u.tu,{className:ea.postContainer,alignItems:"center",gap:4},(0,e.h)(u.xv.H2,{color:"pub-primary-text",align:"center"},Ne),(0,e.h)(u.xv.B3,{color:"pub-secondary-text",align:"center"},(0,Tt.truncateText)(Ve,135)),(0,e.h)(u.xv.Meta,{color:"pub-secondary-text",align:"center"},((J=n.postSchedule)==null?void 0:J.email_audience)==="founding"?(0,e.h)(e.Fragment,null,(0,e.h)(u.xv.Meta,{as:"span",color:"pub-accent"},"Founding"),ze?"\xA0\xA0\u2022\xA0\xA0":""):((pe=n.postSchedule)==null?void 0:pe.email_audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(u.xv.Meta,{as:"span",color:"pub-accent"},"Paid"),ze?"\xA0\xA0\u2022\xA0\xA0":""):"",ze?`By ${ze}`:""))),(0,e.h)(u.tu,{className:ea.upsellContainer,alignItems:"center"},Je?(0,e.h)(u.gq,{gap:12},(0,e.h)(u.zx,{onClick:()=>{var xt;o!=null&&o.is_admin||o!=null&&o.is_contributor?(0,F.redirect)((0,gt.getPostDetailsShareCenterUrl)(r,n.id),{local_navigation:!1}):(xt=Se.current)==null||xt.open()},className:ea.shareButton,leftIcon:(0,e.h)(xd.Z,null),priority:"primary-theme"},"Share"),o!=null&&o.is_admin||o!=null&&o.is_contributor?(0,e.h)(u.zx,{onClick:()=>{(0,F.redirect)((0,gt.getEditPostUrlById)(r,n.id,!!n.editor_v2),{local_navigation:!1})},className:ea.shareButton,leftIcon:(0,e.h)(Qi.Z,null),priority:"secondary-theme"},"Edit Post"):null):((_e=n.postSchedule)==null?void 0:_e.email_audience)==="founding"&&!(o!=null&&o.is_founding)?(0,e.h)(u.zx,{className:ea.foundingButton,onClick:()=>{var xt,Dt;const jt=(Dt=(xt=r.plans)==null?void 0:xtding}))==null?void 0:Dt.id;(0,F.redirect)(jt?(0,gt.getSubscribeUrl)(r,{addBase:!0,params:{next:document.location.href,utm_source:j.UTM_SOURCE.postScheduledPage,utm_medium:j.UTM_MEDIUM.web,utm_content:n.id,selectedPlanId:jt}}):(0,p.getCheckoutUrl)(r,{simple:!0,next:document.location.href,utm_source:j.UTM_SOURCE.postScheduledPage,utm_medium:j.UTM_MEDIUM.web,utm_content:n.id,plan:"founding"}),{local_navigation:!1})}},"Upgrade to founding"):(0,e.h)(Ha,{pub:r,post:n,user:o,freeSignup:a,freeSignupEmail:_,isStatic:!1,source:"post-scheduled-page"}),(0,e.h)(u.xv.B3,{className:ea.upsellDescription,color:"pub-primary-text",align:"center"},"Publishes on ",Sr()((ye=n.postSchedule)==null?void 0:ye.trigger_at).format("MMMM Do, h:mma"),"."," ",o!=null&&o.is_admin||o!=null&&o.is_contributor?"":Je?"You\u2019ll receive this post in your inbox when it\u2019s live. Meanwhile, help spread the word!":((Pe=n.postSchedule)==null?void 0:Pe.email_audience)==="founding"&&(o!=null&&o.is_free_subscribed)?"Upgrade to founding and receive this post in your inbox when it\u2019s live":((Ce=n.postSchedule)==null?void 0:Ce.email_audience)==="only_paid"&&(o!=null&&o.is_free_subscribed)?"Upgrade to paid and receive this post in your inbox when it\u2019s live":"Subscribe now and receive the post in your inbox when it\u2019s live"))),(0,e.h)("div",{className:ea.countdownContainer},(0,e.h)(u.tu,{className:ea.countdownInnerContainer,alignItems:"center",gap:4},Ye>0?(0,e.h)(u.xv.B3,{color:"pub-secondary-text",align:"center"},"Available in ",wt>0?`${(0,Tt.pluralize)(wt,"day")}, `:"",wt>0||Ct>0?`${(0,Tt.pluralize)(Ct,"hour")}, `:"",wt>0||Ct>0||It>0?`${(0,Tt.pluralize)(It,"minute")}${wt>0||Ct>0?",":""} and `:"",(0,Tt.pluralize)(At,"second")):(0,e.h)(u.xv.B3,{color:"pub-secondary-text",align:"center"},"Available now!"," ",(0,e.h)(u.xv.B3,{as:"a",color:"pub-secondary-text",align:"center",onad()},className:ea.refreshLink,decoration:"underline"},"Refresh to see the post"),"."))),(0,e.h)(ki.ZP,{ref:Se,user:o,pub:r,post:n}))};var EF=Object.defineProperty,bF=Object.defineProperties,PF=Object.getOwnPropertyDescriptors,WE=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,CF=Object.prototype.propertyIsEnumerab[r]rn F(r())});class Tf extends e.Component{constructor(r,o){super(r,o),this.updateSubscribeTakeover=()=>{const A=`pub-${this.props.publication.id}-takeover-next-shown-at`,B=(0,w.mM)(A),k=!B||Date.now()>=B;(0,F.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(k&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),this.updateSubscribeTimers()):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})},this.updateSubscribeTimers=()=>{const _=this.props.publication.id,A=`pub-${_}-subscribe-prompt-next-shown-at`,B=`pub-${_}-takeover-next-shown-at`;(0,w.ex)(A,Sr()().add(1,"hour").valueOf()),(0,w.ex)(B,Sr()().add(1,"hour").valueOf()),this.setState({hideSubscribePrompt:!0})},this.onChangeComment=_=>{this.setState({comments:rl(this.state.comments,_)})},this.onVisible=_=>{const A=`${_} Seen`;this.state.post&&(this.state[A]||(this.setState({[A]:!0}),(0,d.track)(A,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this._inlineComments=()=>{const{inlineComments:_,publication:A}=this.props;return _||(0,Tt.shouldUseInlineComments)(A,this.state.post||this.props.post)},this.fillEmbeddedEmailInputs=()=>{var _;const A=document.querySelectorAll('article.post input[type="email"]'),B=((_=this.state.user)==null?void 0:_.email)||this.props.freeSignupEmail;if(B)for(const k of A)k.value=B;this.setState({embeddedEmailInputsFilled:!0})};let{user:a}=r;this.I18N=I18N.i({pub:r.publication}),r.postPreview&&(a=HE(VE({},a),{is_draft:!1,is_subscribed:r.postPreview!=="free",is_founding:r.postPreview==="founding",is_contributor:!1})),r.post&&[r.post.slug,r.post.uuid].filter(_=>_).includes(r.slug)&&!this.shouldRedirectToComments(r.post)?this.state={post:r.post,comments:r.renderedComments,user:a}:this.state={post:null,comments:null,user:a}}componentDidMount(){return rc(this,null,function*(){(0,F.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Yd();const r=this.props.post&&[this.props.post.slug,this.props.post.uuid].f(o=>o).includes(this.props.slug)&&this.props.post;if(this.shouldRedirectToComments(r)?this.redirectToComments(r):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished){(0,F.removeQueryParam)("justPublished"),(0,F.preloadImage)(Ou(this.props.publication,this.props.post)[0]);const o=_g(this.props.publication,this.props.post);o&&(0,F.preloadImage)(o)}(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,F.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,F.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,F.removeQueryParam)("showRestackModal"),this.props.action&&(0,F.removeQueryParam)("action"),!this.props.showWelcome&&!this.props.launchWelcomePage&&(0,F.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.showWelcome&&((0,F.removeQueryParam)("showWelcome"),this.updateSubscribeTimers()),this.props.showWelcomeOnShare&&((0,F.removeQueryParam)("showWelcomeOnShare"),this.props.launchWelcomePage&&this.updateSubscribeTimers()),this.props.selectionFromQuery&&vF(this.props.selectionFromQuery),this.props.trackFrontendVisit&&((0,d.track)(d.EVENTS.POST_PAGE_VISIT_TRACKED,{post_id:r.id}),this.context.exposeExperiment("check_for_tracking_disabled")),this.props.user||this.context.exposeExperiment("test_cached_post_page")})}componentWillUnmount(){var r;(r=this.cleanUpTikTokEnhanceListener)==null||r.call(this),(0,F.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(r){return rc(this,null,function*(){r.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(r){if(r&&r.type==="thread")return!0}redirectToComments(r){(0,y.route)((0,p.getPostUrl)(this.props.publication,r,{comments:!0,noBase:!0}),!0)}loadPost(){return rc(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(r=>r).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedCommsh)());else{this.setState({post:null,comments:null});try{const r=yield Ze().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview,updated:this.props.updated,sub:this.props.sub,device:this.props.device,audience:this.props.audience,free_preview:this.props.free_preview,freemail:this.props.freemail});this.shouldRedirectToComments(r.body)?this.redirectToComments(r.body):(yield(0,F.setState)(this,{post:r.body,comments:r.body.comments,stateThemeVariables:r.body.themeVariables}),(0,F.scrollToHash)())}catch(r){console.error("Failed to load post:",r),r.status===404?this.setState({notFound:!0}):alert((0,F.getNetworkErrorMessage)(r))}}})}triggerShareOnLoad(){if((0,p.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,p.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:r,freeSignup:o,freeSignupEmail:a,publication:_,reaction_token:A,hide_intro_popup:B,unlock:k,sort:x,search:J,children:pe,showWelcome:_e,launchWelcomePage:ye,justPublished:Pe,autoSharedOnTwitter:Ce,readerIsSearchCrawler:Se,postPreview:Ae,truncatedPost:Ne,selectionFromQuery:Ve,embeddedPublications:ze,siteConfigs:Je={},freeTrialCoupon:Ye,showRestackModal:ht,action:wt,publicationSettings:Ct,show_reaction_upsell:It,stripe_publishable_key:At,bannedFromNotes:xt,themeVariables:Dt,referringUser:jt,clip:Jt,recentEpisodes:lr},{comments:mr,notFound:Xt,post:Bt,user:ur,showSubscribeTakeover:tr,stateThemeVariables:qt,tab:Rt,hideSubscribePrompt:Ut}){const{iString:Ft}=this.I18N,kt=this._inlineComments(),vt=Bt!=null&&Bt.audience?(0,cr.userHasFullAccessToPost)(ur,Bt):!0,Cr=(ur==null?void 0:ur.is_subscribed)&&vt,sr=Bt&&Bt.slug&&Bt.slug!=="coming-soon"&&Bt.type!=="page",jr=(0,Tt.commentsEnabledForPost)({publication:_,post:Bt}),Jr=(0,Tt.showCommentsOnPost)({publication:_,post:Bt}),gn=Cr||(ur==null?void 0:ur.is_free_subscriber)||o,xr=(Bt==null?void 0:Bt.podcastUpload)||(Bt==null?void 0:Bt.videoUpload),un=qt||Dt,Vr=!(Bt!=null&&Bt.hidden)&&((0,Tt.isUUID)(r)||Cr||Se||Bt&&!(0,cr.isPaidAudience)(Bt.audience)||Bt&&!Bt.slug),br=!!Bt&&(0,Fn.hasFreePodcastUrl)({post:Bt})&&(0,cr.isPaidAudience)(Bt.audience)&&!Cr,kr=!Vr||(ur==null?void 0:ur.is_contributor)&&Bt&&(0,cr.isPaidAudience)(Bt.audience),Fr=Pe&&(ur==null?void 0:ur.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(Bt.type);let yn=!1;if(typeof window!="undefined"&&(yn=new URLSearchParams(window.location.search).get("selectQuote")==="true"),Bt!=null&&Bt.is_scheduled)return(0,e.h)(yF,{freeSignup:o,freeSignupEmail:a,user:ur,post:Bt,publication:_});const Hn=(0,e.h)(SF,{commentsEnabled:jr,comments:mr,post:Bt,slug:r,user:ur,freeSignup:o,freeSignupEmail:a,publication:_,reaction_token:A,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:kt,selectionFromQuery:Ve,onChange:({post:Zn})=>{this.setState({post:HE(VE({},Bt),{comment_count:Zn.comment_count})})},bannedFromNotes:xt}),Sn=xr?vk:Ru;return(0,e.h)("div",null,wt==="restack-comment"&&(0,e.h)(IF,{post:Bt,pub:_,selection:Ve}),(0,e.h)(TF,{pub:_,post:Bt}),ye||_e||tr?(0,e.h)(Nt,{freeSignup:o,freeSignupEmail:a,user:ur,post:Bt,publication:_,hidden:B,launchWelcomePage:ye,showOnMount:ye,noBalance:_e||ye}):null,!xr&&(0,e.h)(wF,{user:ur,referringUser:jt,post:Bt,publication:_,readerIsSearchCrawler:Se,publicationSettings:Ct}),(0,e.h)("div",{className:s()("single-post-container")},(0,e.h)("div",{className:s()({container:!xr})},(0,e.h)("div",{className:"single-post"},(0,e.h)(Pu,{publication:_,post:Bt,clip:Jt,selection:Ve,siteConfigs:Je}),Bt?(0,e.h)(Snt=Zn},commentsEnabled:jr,isServingFreePodcastUrl:br,isShowsEpisodePage:xr,postPreview:Ae,showComments:Jr,user:ur,post:Bt,pub:_,freeSignup:o,freeSignupEmail:a,reaction_token:A,disableSubscribePrompt:Ut||(ye||_e)&&!B,paywall:!Vr,noTitleLink:!0,onChange:Zn=>this.setState(Zn),fromPostPage:!0,freeTrialCoupon:Ye,showRestackModal:!!ht,stripe_publishable_key:At,readerIsSearchCrawler:Se,renderComments:()=>Hn,themeVariables:un,referringUser:jt,sZn})},recentEpisodes:lr}):Xt?(0,e.h)("p",{className:"main-loader"},Ft("Post not found")):(0,e.h)(Av,{pub:_}),pe)),sr&&Vr&&[Jr&&Rt!=="comments"&&!xr&&Hn,_.has_posts&&!xr&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(q,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(xv,{user:ur,freeSignup:o,freeSignupEmail:a,pub:_,maxPosts:!kr&&!Cr&&!(gn&&!_.plans)?3:10,filterPostsPredBt.id,sort:x,search:J,stateInUrl:!0,sortTabs:Zn=>{const po=Zn.findIndex(Yn=>Yn.id==="top");return po!==-1?[Zn[po]].concat(Zn.f!==po)):null},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!kr&&[(0,e.h)(q,{onViter")}),(0,e.h)(mF,{publication:_,user:ur,freeSignupEmail:a,freeSignup:o})]],Fr?(0,e.h)(aF,{post:Bt,autoSharedOnTwitter:Ce==="true",publicationTwitterScreenName:_.twitter_screen_name,publication:_,showAfter:ze!=null&&ze.length?(0,e.h)(pF,{pub:_,pubsToRecommend:ze}):null}):null,It?(0,e.h)(yg.hF,{user:ur,pub:_,post:Bt}):null,yn&&(0,e.h)(_F,null),(0,e.h)(Ak.Z,{user:ur,pub:_,post:Bt,mediaUploadId:this.props.clipId})))}}Tf.contextType=Gr;function wF({user:n,referringUser:r,post:o,publication:a,readerIsSearchCrawler:_,publicationSettings:A}){const B=o&&a&&!_,k=n&&n.is_contributor&&(o==null?void 0:o.slug)=="coming-soon"&&!(A!=null&&A.seen_coming_soon_explainer);return(0,e.h)(e.Fragment,null,B&&(0,e.h)(bk,{subdomain:a.subdomain,post:o}),k&&(0,e.h)(Dk,null))}class SF extends e.Component{constructor(r,o){super(r,o),this.modalRef=(0,e.createRef)(null),this.I18N=I18N.i({pub:r.publication}),this.inputRef=(0,e.createRef)(null),this.handleFocusus()},this.state={comments:r.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(Gd,this.handleFocusIput)}render({commentsEnabled:r,inlineComments:o,post:a,user:_,freeSignup:A,freeSignupEmail:B,publication:k,reaction_token:x,onVisible:J,onChangeComment:pe,selectionFromQuery:_e,slug:ye,onChange:Pe,bannedFromNotes:Ce},{comments:Se,reactionSigninComment:Ae}){if(o)return(0,e.h)("div",{id:Na.nK},(0,e.h)(kd,{slug:ye,user:_,freeSignupEmail:B,freeSignup:A,post:a,publication:k,post_reaction_token:x,selectionFromQuery:_e,initialComments:Se,inline:!0,onChange:Pe}));const{iPlural:Ne,iString:Ve}=this.I18N,ze=(Je,Ye)=>rc(this,null,function*(){return Ig({user:_,reactionToken:x,comments:Se,id:Je,reacted:Ye,setCom:ht}),onNeedsSignin:ht=>new Promise(wt=>this.setState({reactionSigninCommenn(wt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(r||a.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},a.comment_count>0?Ne("1 Comment","%1 Comments",a.comment_count):Ve("Comments")),(0,e.h)(q,{onVisible:()=>J("Post Comments Footer")}),r&&(0,e.h)(il,{user:_,freeSignup:A,freeSignupEmail:B,pub:k,post:a,token:x,ref:this.inputRef,bannedFromNotes:Ce}),Se.length>0&&!r&&(0,e.h)(Tg,{post:a}),Se&&Se.length>0&&k.community_enabled&&(0,e.h)(Eu,{className:"post-page-root-comment-list",key:`post:${a.id}`,user:_,freeSignup:A,freeSignupEmail:B,pub:k,post:a,comments:Se,reaction_token:x,onChange:pe,updateCommentReacted:ze,noRestack:!0}),r&&a.comment_count>(Se||[]).length&&(0,e.h)("a",{className:"more-comments",href:nl(a,k)},Ne("1 more comment...","%1 more comments...",a.comment_count-(Se||[]).length)),Ae&&(0,e.h)(Fi.oq,{comment:Ae,pub:k,user:_,d,!0),modalRef:this.modalRef})))}}const TF=({pub:n,post:r})=>{if(r)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Ic()(b2(n,r),{json:!0,isScriptContext:!0})}})};function IF({pub:n,post:r,selection:o}){const a=(0,Ls.i3)();return(0,t.d4)(()=>{a.open({restackUrl:(0,p.getPostUrl)(n,r,{urlParams:{selection:o}})})},[]),null}var nc=je(71278);const Os={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH",textWithGreyBox:"frontend-main-PressKitPage-module__textWithGreyBox--vRGlY"},MF=n=>{const r=n.themeVariables,o=r.web_bg_color||r.cover_bg_color,a=n.post.cover_image||n.publication.cover_photo_url,[_,A]=(0,t.eJ)("square");return(0,t.d4)(()=>{(0,d.track)(d.EVENTS.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:n.post.id})},[n.post.id]),(0,e.h)("div",{className:Os.root},(0,e.h)(i.xv.H2,{color:"pub-primary-text",className:Os.pageTitle},"Share ",n.post.title),(0,e.h)(i.xv.B3,{color:"pub-primary-text",className:Os.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(ne.gq,{paddingY:24,gap:8,alignItems:"center"},(0,e.h)(i.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Aspect Ratio:"),(0,e.h)(u.gu,{name:"aspectRatio",value:_,onChange:A,options:[{value:"square",label:"Square"},{value:"instagram",label:(0,v.isMobile)()?"Insta":"Instagram"},{value:"stories",label:(0,v.isMobile)()?"IG Stories":"Instagram Stories"}],horizontal:!0,labelProps:{color:"pub-primary-text"}})),(0,e.h)(ne.tu,{justifyContent:"center",className:Os.container},(0,e.h)(ne.gq,{paddingBottom:16,alignItems:"center",justifyContent:"space-between"},(0,e.h)(i.xv.H4,{color:"pub-primary-text"},n.post.title),!(0,v.isMobile)()&&(0,e.h)(u.zx,{priority:"secondary",leftIcon:(0,e.h)(gd.Z,{stroke:"#404040",size:20}),href:(0,p.pathWithQuery)(`/api/v1/press_kit/all/${n.post.id}`,{aspectRatio:_,isDraft:n.post.is_draft}),newTab:!0},"Download")),(0,e.h)("div",{className:Os.divider}),(0,v.isMobile)()&&(0,e.h)(u.xu,{bg:"secondary",radius:12,color:"secondary",paddingTop:8,paddingBottom:8,style:{"margin-bottom":"16px"}},(0,e.h)(i.xv.B4,{textAlign:"center",color:"pub-secondary-text",fontSize:14},"Press and hold to download an image, or tap to share.")),(0,e.h)(ne.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(nc.ZP,{pub:n.publication,post:n.post,style:{bgColor:o,textColor:r.print_on_web_bg_color||r.cover_print_primary||"#1a1a1a",aspectRatio:_},text:"Background Color"}),r.background_pop&&(0,e.h)(nc.ZP,{pub:n.publication,post:n.post,style:{bgColor:r.background_pop,textColor:r.print_on_pop,aspectRatio:_},text:"Accent Color"}),a&&(0,e.h)(nc.ZP,{pub:n.publication,post:n.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:_},text:"Image"}),o.toLowerCase()!=="#ffffff"?(0,e.h)(nc.ZP,{pub:n.publication,post:n.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:_},text:"Black and White"}):null)),(0,e.h)("div",{className:Os.textFooter},(0,e.h)(i.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,p.getPublishSettingsUrl)(n.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},KE=({sitemapHeader:n,sitemapDescription:r,sitemapLinks:o})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,F.setMetaData)({title:n,description:r}),(0,e.h)("h1",null,n),(0,e.h)("div",null,o.map(a=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:a.href,native:!0},a.text))))),$E={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},DF=({})=>{const{iString:n}=(0,l.M1)();return(0,e.h)("div",{className:$E.noPodcasts},n("No podcasts."))},GE=(n,r,o)=>{let a=n[r.id];return a||(a=(0,p.getPodcatcherSetupUrl)(r,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!o||!o.is_free_subscribed,params:{utm_source:j.UTM_SOURCE.allPodcasts}})),a},AF=({pub:n,user:r,idToMagicLink:o,openInNewTab:a})=>n.subdomain!=="thebulwark"?null:(0,e.h)(i.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:GE(o!=null?o:{},n,r),target:a?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),NF=({pub:n,user:r,idToMagicLink:o={},openInNewTab:a=!1,newFormatting:_=!1})=>{const A=[],{iString:B}=(0,l.M1)();(0,Fn.getSectionPodcasts)(n)&&(0,Fn.getSectionPodcasts)(n).forEach(_e=>{var ye,Pe;if(!(0,Fn.canSubscribeToSectionPodcast)({pub:n,section:_e}))return;const Ce=(0,Rs.getSectionPodcastSettings)({pub:n,section:_e});if(!Ce.title)return;const Se={logoUrl:(ye=Ce.artUrl)!=null?ye:void 0,mainClickUrl:(0,p.getPodcastLandingUrl)({pub:n,section:_e,addBase:!0}),buttonClickUrl:o[_e.id]||(0,p.getPodcatcherSetupUrl)(n,{section:_e,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:j.UTM_SOURCE.allPodcasts}}),name:Ce.title,description:(Pe=Ce.description)!=null?Pe:"",buttonText:B("Set up podcast")};A.push(Se)}),(0,Fn.canSubscribeToPubPodcast)(n)&&A.push(OM(n,GE(o,n,r)));const k=Object.keys(o).length>0||!!(r!=null&&r.is_free_subscribed);let x=A.length>1?B("Podcast feeds"):B("Podcast feed");k&&(x=(0,Fn.hasMultiplePodcasts)(n)?B("Private podcast feeds"):B("Private podcast feed"));const J=(0,e.h)(ne.tu,{radius:12,border:"detail",padding:16},(0,Fn.hasPodcast)(n)?(0,e.h)(e.Fragment,null,(0,e.h)(iu,{showButton:!0,items:A,openInNewTab:a,buttonText:B("Set up podcast")}),(0,e.h)(AF,{pub:n,user:r,idToMagicLink:o,openInNewTab:a})):(0,e.h)(DF,null));return _?(0,e.h)(e.Fragment,null,(0,e.h)(i.xv.H4,{paddingTop:20,paddingBottom:8},x),J):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(i.xv.H3,{paddingTop:16,paddingBottom:16},x),J))},LF=({pub:n,user:r,idToMagicLink:o,openInNewTab:a=!1})=>(0,e.h)("div",{className:s()("page","typography",$E.container)},(0,e.h)(NF,{pub:n,user:r,idToMagicLink:o,openInNewTab:a}));var zE=je(53570),ZE=je(92958),YE=je(34394);const If={questionListDisabled:"frontend-main-survey_page-module__questionListDisabled--Eb9tZ",dropdown:"frontend-main-survey_page-module__dropdown--P6GQ4"};var RF=Object.defineProperty,xF=Object.defineProperties,UF=Object.getOwnPropertyDescriptors,JE=Object.getOwnPropertySymbols,BF=Object.prototype.hasOwnProperty,kF=Object.prototype.propertyIsEnumerable,XE=(n,r,o)=>r in n?RF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ga=(n,r)=>{for(var o in r||(r={}))BF.call(r,o)&&XE(n,o,r[o]);if(JE)for(var o of JE(r))kF.call(r,o)&&XE(n,o,r[o]);return n},va=(n,r)=>xF(n,UF(r)),FF=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const QE=n=>["checkbox","checkbox_freeform","radio","radio_freeform"].includes(n||""),qE=n=>["checkbox_freeform","radio_freeform"].includes(n||""),eb={container:n=>va(ga({},n),{flex:1}),dropdownIndiy)"}),control:n=>va(ga({},n),{fontSize:14,color:"var(--color-secondary)",boxShadow:"none"}),option:(n,r)=>va(ga({},n),{fontSize:14,color:"var(--color-secondary)",backgroundColor:r.isFocused?"var(--color-bg-secondary)":r.isSelected?"var(--color-bg-accent-primary-hover)":"white"}),noOptionsMey)"})},WF=({question:n,responseData:r,onChange:o,disabled:a=!1,countries:_})=>{const{iString:A}=(0,l.M1)(),B=(0,t.Ye)(()=>{if(n.type==="country"&&r.value&&_){const x=String(r.value).split(",")[0],J=_.find(pe=>pe.countryShortCode===x);return J?{value:J.countryShortCode,label:J.countryName,regions:J.regions}:null}return null},[r.value]),k=(0,t.Ye)(()=>{if(n.type==="country"&&(B!=null&&B.regions)&&_&&r.value){const x=String(r.value).split(",")[1],J=B.regionse===x);return J?{value:J.shortCode,label:J.name}:null}return null},[B,r.value]);return(0,e.h)(ne.tu,{gap:16},(0,e.h)(i.xv.H4,null,n.displayLabel,n.is_required&&(0,e.h)(i.xv.H4,{as:"span",color:"error"},"*")),n.type==="text"&&(0,e.h)(u.gx,{disabled:a,placeholder:A("Type here"),value:String(r.value||""),onChange:x=>{const J=r;J.value=x.target.value,o(J)}}),n.type==="number"&&(0,e.h)(YE.o,{disabled:a,placeholder:A("Type number value here"),value:Number.isNaN(Number(r.value))?"":Number(r.value),onChange:x=>{const J=x.target.value.replace(/[^\d]/g,""),pe=r;pe.value=Number(J)||0,o(pe)}}),n.type==="country"&&(0,e.h)(ne.tu,{gap:24},(0,e.h)(pd,{className:If.dropdown,options:_==null?void 0:_.map(x=>({label:x.countryName,value:x.countryShortCode})),onChange:x=>{const J=x.value;o(va(ga({},r),{value:J}))},value:B,placeholder:A("Select or search for a country..."),noOptionsMessage:()=>A("No options found."),theme:(0,F.getSelectTheme)({primary:"var(--color-secondary)",neutral0:"white"}),isSearchable:!0,styles:eb}),r.value&&(B==null?void 0:B.regions)&&(0,e.h)(pd,{className:If.dropdown,options:B.regionode})),onChange:x=>{const J=x.value;o(va(ga({},r),{value:`${String(r.value).split(",")[0]},${J}`}))},value:k,placeholder:A("Select or search for a state, province, or region..."),noOptionsMend."),theme:(0,F.getSelectTheme)({primary:"var(--color-secondary)",neutral0:"white"}),isSearchable:!0,styles:eb})),QE(n.type)&&n.options&&n.options.map(x=>(0,e.h)(ne.gq,{as:"label",gap:16},(n.type==="checkbox"||n.type==="checkbox_freeform")&&(0,e.h)(zE.X,{disabled:a,withTheme:!0,name:`${n.id}check`,checked:r.options.indexOf(x.id)>-1,onChange:J=>{const pe=r.options.f=x.id);J&&pe.push(x.id),o(va(ga({},r),{options:pe}))}}),(n.type==="radio"||n.type==="radio_freeform")&&(0,e.h)(ZE.Y,{disabled:a,color:"accent",value:x.id,name:`${n.id}check`,checked:r.options.indexOf(x.id)>-1,onClick:J=>{const pe=[];J.target.checked&&pe.push(x.id),o({value:"",options:pe})}}),(0,e.h)(i.xv.B3,null,x.label))),qE(n.type)&&(0,e.h)(ne.gq,{as:"label",gap:16,alignItems:"center"},(n.type==="checkbox"||n.type==="checkbox_freeform")&&(0,e.h)(zE.X,{disabled:a,withTheme:!0,name:`${n.id}check`,checked:String(r.value).length>0,onChange:x=>{o(x?va(ga({},r),{value:" "}):va(ga({},r),{value:""}))}}),(n.type==="radio"||n.type==="radio_freeform")&&(0,e.h)(ZE.Y,{disabled:a,color:"accent",value:"text",name:`${n.id}check`,checked:String(r.value).length>0,on "})}}),(0,e.h)(YE.o,{disabled:a,placeholder:A("Other..."),value:String(r.value||""),onChange:x=>{const J=r;J.value=x.target.value,J.value.length>0&&(n.type==="radio"||n.type==="radio_freeform")&&(J.options=[]),o(J)}})))},jF=({surveyId:n,user:r,pub:o})=>{const{iString:a}=(0,l.M1)(),[_,A]=(0,t.eJ)({}),{result:B,isLoading:k}=(0,Pn.ib)({pathname:`/api/v1/survey/${n}`,auto:!0});(0,ct.useEffect)(()=>{var Ve;!k&&B&&((Ve=B.questions)!=null&&Ventry"))&&J()},[B,k]);const{result:x,fetch:J}=(0,Wr.Oe)({module:"country-region-data/data.json",onRe,19)),fetchImmediately:!1}),pe=(0,Pn.ib)({method:"post",pathname:`/api/v1/survey/${n}/responses`,auto:!1,json:{responses:Object.keys(_Ve]}))}}),_e=(0,t.I4)(()=>FF(void 0,null,function*(){pe.isLoading||(yield pe.refetch(),window.location.reload())}),[pe]);if(!B&&!k)return(0,e.h)(ne.tu,{paddingTop:48,gap:48},(0,e.h)(i.xv.H1,{translated:!0},"There was an error fetching this survey."));if(!B)return(0,e.h)("div",null);if(B.hasCurrentUserResponded)return(0,e.h)(ne.tu,{paddingTop:48,gap:24,alignItems:"center",justifyContent:"center"},(0,e.h)(i.xv.H1,{translated:!0},"Thank you!"),(0,e.h)(i.xv.B3,{translated:!0},"Your response has been recorded."));const{questions:ye=[],title:Pe}=B,Ce=!!r,Se=r&&r.is_free_subscribed,Ae=Ce&&Se,Ne=Ae&&ye.reduce((Ve,ze)=>{let Je=!0;if(ze.is_required){const Ye=_[ze.id];if(ze.type==="text")Je=String((Ye==null?void 0:Ye.value)||"").length>0;else if(ze.type==="number"){const ht=Number(Ye==null?void 0:Ye.value);Je=!Number.isNaN(ht)}else if(ze.type==="country")Je=String((Ye==null?void 0:Ye.value)||"").split(",").length===2;else if(QE(ze.type)){const ht=Ye&&Array.isArray(Ye==null?void 0:Ye.options)?Ye.options:[],wt=String((Ye==null?void 0:Ye.value)||"");qE(ze.type)?Je=ht.length>0||wt.length>0:Je=ht.length>0}}return Ve&&Je},!0);return(0,e.h)(ne.tu,{paddingTop:48,gap:48},(0,e.h)(i.xv.H1,{color:"pub-primary-text"},Pe),!Ce&&(0,e.h)(ne.gq,{alignItems:"center",justifyContent:"center",borderBottom:"detail",paddingBottom:48},(0,e.h)(ne.tu,{border:"detail",padding:24,gap:24,sizing:"border-box",radius:"medium"},(0,e.h)(i.xv.H4,{translated:!0},"Log in to answer this survey from ",I18N.p(o.name)),(0,e.h)(u.zx,{localNavigation:!1,priority:"primary-theme",href:(0,p.getSigninUrl)({for_pub:o.subdomain,redirect:window.location.href})},a("Log in")))),Ce&&!Se&&(0,e.h)(ne.gq,{alignItems:"center",justifyContent:"center",borderBottom:"detail",paddingBottom:48},(0,e.h)(ne.tu,{border:"detail",padding:24,gap:24,sizing:"border-box",radius:"medium"},(0,e.h)(i.xv.H4,{translated:!0},"Subscribe to ",I18N.p(o.name)," to answer this survey."),(0,e.h)(u.zx,{localNavigation:!1,priority:"primary-theme",href:(0,gt.getSubscribeUrl)(o,{params:{next:window.location.href,email:r.email,just_signed_up:!0,autoSubmit:!0,utm_source:j.UTM_SOURCE.substack,utm_medium:j.UTM_MEDIUM.email,utm_content:j.UTM_CONTENT.readerSurveySubscribePrompt}})},a("Subscribe")))),(0,e.h)(ne.tu,{gap:48,className:s()({[If.questionListDisabled]:!Ae}),paddingBottom:48},ye.map(Ve=>{const ze=_[Ve.id]?_[Ve.id]:{options:[],value:""};return(0,e.h)(WF,{key:Ve.id,question:Ve,responseData:ze,disabled:!Ae,countries:x==null?void 0:x.default,onChange:Je=>{A(va(ga({},_),{[Ve.id]:Je}))}})}),(0,e.h)(u.zx,{disabled:!Ne,priority:"primary-theme",onClick:_e},a("Submit"))))},VF=({surveyId:n,user:r,pub:o})=>((0,ct.useEffect)(()=>{(0,d.track)(d.EVENTS.READER_SURVEY_SEEN,{surveyId:n,isLoggedIn:!!r,isSubscribed:r==null?void 0:r.is_free_subscribed})},[n]),(0,e.h)("div",{className:"container"},(0,e.h)(jF,{surveyId:n,user:r,pub:o})));var tb=je(8111),ar=je(19072),HF=Object.defineProperty,rb=Object.getOwnPropertySymbols,KF=Object.prototype.hasOwnProperty,$F=Object.prototype.propertyIsEnumerable,nb=(n,r,o)=>r in n?HF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,GF=(n,r)=>{for(var o in r||(r={}))KF.call(r,o)&&nb(n,o,r[o]);if(rb)for(var o of rb(r))$F.call(r,o)&&nb(n,o,r[o]);return n};const zF=n=>{const{iString:r}=tb.I18N.i(n||"en");return{Necessary:r("These cookies are essential for you to browse the website and use its features."),Performance:r("These cookies collect information about how you use a website, like which pages you visited and which links you clicked on."),Functionality:r("These cookies allow us to remember choices you have made in the past, and do things like auto-login")}},Mf=n=>{const{iString:r}=tb.I18N.i(n||"en");return[{name:"_ga family",id:ar.YJ.GA_TRACKING,type:ar.pt.PERFORMANCE,description:r("3rd party analytics tracking."),owner:ar.js.PUBLISHER},{name:"Google Tag Manager",id:ar.YJ.GA_TAG_MANAGER,type:ar.pt.PERFORMANCE,description:r("Used for Google tag management and 3rd party analytics tracking."),owner:ar.js.PUBLISHER},{name:"Facebook Pixel",id:ar.YJ.FB_PIXEL,type:ar.pt.PERFORMANCE,description:r("Used for facebook ad campaign 3rd party analytics."),owner:ar.js.PUBLISHER},{name:"Twitter Pixel",id:ar.YJ.TWITTER_PIXEL,type:ar.pt.PERFORMANCE,description:r("Used for X (formerly known as Twitter) ad campaign 3rd party analytics."),owner:ar.js.PUBLISHER},{name:"Parse.ly Pixel",id:ar.YJ.PARSELY_PIXEL,type:ar.pt.PERFORMANCE,description:r("Used for parse.ly 3rd party analytics."),owner:ar.js.PUBLISHER},{name:"intro_popup_last_hidden_at",id:ar.ky.INTRO_POPUP_LAST_HIDDEN_AT,type:ar.pt.FUNCTIONALITY,description:r("Prevents showing introductory information the user has already seen."),owner:ar.js.SUBSTACK},{name:"muxData",id:ar.ky.MUX_DATA,type:ar.pt.FUNCTIONALITY,description:r("Used for anonymous video metric collection and aggregation."),owner:ar.js.SUBSTACK},{name:"like_upsell_last_shown_at",id:ar.ky.LIKE_UPSELL_LAST_SHOWN_AT,type:ar.pt.FUNCTIONALITY,description:r("Prevents users from repeatedly being shown features."),owner:ar.js.SUBSTACK},{name:"visit_id",id:ar.ky.VISIT_ID,type:ar.pt.PERFORMANCE,description:r("First party analytics tracking."),owner:ar.js.SUBSTACK},{name:"ajs_anonymous_id",id:ar.ky.ANONYMOUS_ID,type:ar.pt.PERFORMANCE,description:r("First party analytics tracking."),owner:ar.js.SUBSTACK},{name:"ab_testing_id",id:ar.ky.AB_TESTING_ID,type:ar.pt.PERFORMANCE,description:r("First party analytics tracking."),owner:ar.js.SUBSTACK},{name:"_ga family",id:ar.ky.GA_TRACKING,type:ar.pt.PERFORMANCE,description:r("3rd party analytics tracking."),owner:ar.js.SUBSTACK},{name:"_dd_s",id:ar.ky.DATADOG_S,type:ar.pt.PERFORMANCE,description:r("First party cookie used to identify and diagnose technical problems on the site."),owner:ar.js.SUBSTACK},{name:"fs_uid",id:ar.ky.FULLSTORY_UID,type:ar.pt.PERFORMANCE,description:r("Used to track user actions across the site for debugging purposes."),owner:ar.js.SUBSTACK},{name:"__zlcmid",id:ar.ky.ZENDESK_ID,type:ar.pt.PERFORMANCE,description:r("Stores visitor\u2019s machine-id for authentication with Zendesk chat widget."),owner:ar.js.SUBSTACK},{name:"substack.sid / connect.sid",id:ar.ky.SESSION_SID,type:ar.pt.NECESSARY,description:r("Session identifier."),owner:ar.js.SUBSTACK},{name:"substack.lli",id:ar.ky.LIKELY_LOGGED_IN,type:ar.pt.NECESSARY,description:r("Communicates login state across first party domains"),owner:ar.js.SUBSTACK},{name:"disable_html_pixels",id:ar.ky.DISABLE_HTML_PIXELS,type:ar.pt.NECESSARY,description:r("Ensures a consistent user experience across network requests."),owner:ar.js.SUBSTACK},{name:"experiment_",id:ar.ky.DISABLE_EXPERIMENTS,type:ar.pt.NECESSARY,description:r("Ensures a consistent user experience across network requests."),owner:ar.js.SUBSTACK},{name:"hideCookieBanner",id:ar.ky.HIDE_COOKIE_BANNER,type:ar.pt.NECESSARY,description:r("Ensures a consistent user experience across network requests."),owner:ar.js.SUBSTACK},{name:"cf_clearance",id:ar.ky.CF_CLEARENCE,type:ar.pt.NECESSARY,description:r("Used to grant access to our servers from our Content Delivery Network."),owner:ar.js.SUBSTACK},{name:"__cf_bm",id:ar.ky.CF_BM,type:ar.pt.NECESSARY,description:r("Used to block bot access to the site"),owner:ar.js.SUBSTACK},{name:"AWSALBTG / AWSALBTGCORS",id:ar.ky.AWSALB,type:ar.pt.NECESSARY,description:r("Ensures a consistent user experience across network requests."),owner:ar.js.SUBSTACK}]},oc=Mf().filter(n=>n.owner===ar.js.SUBSTACK&&n.type!==ar.pt.NECESSARY).map(n=>n.id),ac=Mf().filter(n=>n.owner===ar.js.PUBLISHER&&n.type!==ar.pt.NECESSARY).map(n=>n.id),hH={DO_NOT_ASK:"",EVERYONE:"everyone"},bl={[ar.ky.GA_TRACKING]:"_ga",[ar.ky.GA_TAG_MANAGER]:"_ga",[ar.ky.MUX_DATA]:"muxData",[ar.ky.ANONYMOUS_ID]:ar.Ic.ANONYMOUS_ID,[ar.ky.VISIT_ID]:ar.Ic.VISIT_ID,[ar.ky.AB_TESTING_ID]:ar.Ic.AB_TESTING_ID,[ar.ky.LIKE_UPSELL_LAST_SHOWN_AT]:ar.Ic.LIKE_UPSELL_LAST_SHOWN_AT,[ar.ky.INTRO_POPUP_LAST_HIDDEN_AT]:ar.Ic.INTRO_POPUP_LAST_HIDDEN_AT,[ar.ky.DISABLE_HTML_PIXELS]:ar.Ic.DISABLE_HTML_PIXELS,[ar.ky.EXPERIMENTS]:"experiment_",[ar.ky.DATADOG_S]:"_dd_s",[ar.ky.FULLSTORY_UID]:"fs_",[ar.ky.ZENDESK_ID]:"__zlcmid",[ar.YJ.GA_TAG_MANAGER]:"_ga",[ar.YJ.GA_TRACKING]:"_ga",[ar.YJ.FB_PIXEL]:"_fbp",[ar.YJ.TWITTER_PIXEL]:"_twq",[ar.YJ.PARSELY_PIXEL]:"_parsely_visitor"},Cs={[ar.ky.AB_TESTING_ID]:".substack.com",[ar.ky.ANONYMOUS_ID]:".substack.com",[ar.ky.VISIT_ID]:".substack.com",[ar.ky.EXPERIMENTS]:".substack.com",[ar.ky.DISABLE_HTML_PIXELS]:".substack.com",[ar.ky.DISABLE_EXPERIMENTS]:".substack.com"},ob={},mH=[bl==null?void 0:bl[ar.ky.ANONYMOUS_ID]],_H=n=>{n.includes(SUBSTACK_COOKIE_IDS.AB_TESTING_ID)&&n.push(SUBSTACK_COOKIE_IDS.EXPERIMENTS);const r=[],o=!1;for(const a of n)(bl==null?void 0:bl[a])!==void 0&&r.push(GF({id:a,prefix:bl[a],path:ob==null?void 0:ob[a]},Cs!=null&&Cs[a]?{domain:o?`${Cs==null?void 0:Cs[a]}.localhost`:Cs==null?void 0:Cs[a]}:{}));return r},Pl={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju",tabText:"frontend-reader2-TabBar-module__tabText--Sb2W6"};var ZF=Object.defineProperty,ic=Object.getOwnPropertySymbols,ab=Object.prototype.hasOwnProperty,ib=Object.prototype.propertyIsEnumerable,sb=(n,r,o)=>r in n?ZF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,lb=(n,r)=>{for(var o in r||(r={}))ab.call(r,o)&&sb(n,o,r[o]);if(ic)for(var o of ic(r))ib.call(r,o)&&sb(n,o,r[o]);return n},YF=(n,r)=>{var o={};for(var a in n)ab.call(n,a)&&r.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&ic)for(var a of ic(n))r.indexOf(a)<0&&ib.call(n,a)&&(o[a]=n[a]);return o};function ub(n){var r=n,{value:o,currentValue:a,children:_,onClick:A}=r,B=YF(r,["value","currentValue","children","onClick"]);const k=o===a;return(0,e.h)(be.kG,lb({className:s()(Pl.tab,k&&Pl.isActive),resetCss:!0,onClick:()=>A(o)},B),(0,e.h)(i.xv,{size:14,lineHeight:20,weight:"medium",className:s()(Pl.tabText,k&&Pl.isActive)},_))}function JF(n){return(0,e.h)(ne.hs,lb({className:Pl.tabs,style:{height:40}},n))}const Za={rowBorderBottom:"frontend-components-cookies-ManageCookiesModal-module__rowBorderBottom--RVj0X",table:"frontend-components-cookies-ManageCookiesModal-module__table--zLLhk",modal:"frontend-components-cookies-ManageCookiesModal-module__modal--SDt3l",noGrow:"frontend-components-cookies-ManageCookiesModal-module__noGrow--oCya2",grow:"frontend-components-cookies-ManageCookiesModal-module__grow--PIq4m",cellPadding:"frontend-components-cookies-ManageCookiesModal-module__cellPadding--_nojf"};var XF=Object.defineProperty,QF=Object.defineProperties,qF=Object.getOwnPropertyDescriptors,cb=Object.getOwnPropertySymbols,eW=Object.prototype.hasOwnProperty,tW=Object.prototype.propertyIsEnumerable,db=(n,r,o)=>r in n?XF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,Df=(n,r)=>{for(var o in r||(r={}))eW.call(r,o)&&db(n,o,r[o]);if(cb)for(var o of cb(r))tW.call(r,o)&&db(n,o,r[o]);return n},rW=(n,r)=>QF(n,qF(r)),Af=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const nW=({open:n,onSubdomain:r,close:o})=>{const[a,_]=(0,t.eJ)(r?ar.js.PUBLISHER:ar.js.SUBSTACK),[A,B]=(0,t.eJ)(!1),[k,x]=(0,t.eJ)(new Set),{popToast:J}=(0,u.pm)(),{iString:pe}=(0,l.M1)(),{language:_e}=(0,l.M1)(),ye=Mf(_e),{refetch:Pe}=(0,Pn.ib)({pathname:"/api/v1/cookie_preferences",method:"POST"}),{refetch:Ce}=(0,Pn.ib)({pathname:"/api/v1/cookie_preferences/substack",method:"POST"});(0,t.d4)(()=>{(0,d.track)(d.EVENTS.COOKIE_MANAGEMENT_MODAL_SEEN,{})},[]);const Se=ze=>Af(void 0,[ze],function*({substackPreferences:Je,publicationPreferences:Ye}){ae.set(ar.ky.HIDE_COOKIE_BANNER,new Date().toJSON(),{expires:365*24*60*60*1e3}),yield Ce({json:{disabledCookies:Je!=null?Je:[]}}),r&&(yield Pe({json:{disabledCookies:Ye!=null?Ye:[]}}))}),Ae=()=>Af(void 0,null,function*(){const ze=Array.from(k),Je=Object.values(ar.YJ),Ye=Object.values(ar.ky);let ht,wt;A&&(ht=ze.filter(Ct=>Ye.includes(Ct)),wt=ze.filter(Ct=>Je.includes(Ct))),yield Se({substackPreferences:ht,publicationPreferences:wt}),(0,d.track)(d.EVENTS.COOKIE_PREFERENCES_SET,{disabledCookies:ze}),(0,d.track)(d.EVENTS.COOKIE_MANAGEMENT_MODAL_SUBMITTED,{disabledCookies:ze}),J(Ct=>(0,e.h)(u.FN,Df({text:pe("Preferences saved")},Ct))),window.location.reload(),o()}),Ne=()=>Af(void 0,null,function*(){yield Se({substackPreferences:oc,publicationPreferences:ac}),(0,d.track)(d.EVENTS.COOKIE_PREFERENCES_SET,{disabledCookies:[...oc,...ac]}),(0,d.track)(d.EVENTS.COOKIE_MANAGEMENT_MODAL_SUBMITTED,{disabledCookies:[...oc,...ac]}),J(ze=>(0,e.h)(u.FN,Df({text:pe("Preferences saved")},ze))),window.location.reload(),o()}),Ve=ze=>{A||B(!0),x(Je=>{const Ye=new Set(Je);return Ye.has(ze)?Ye.delete(ze):Ye.add(ze),Ye}),(0,d.track)(d.EVENTS.COOKIE_MANAGEMENT_MODAL_COOKIE_TOGGLED,{cookie:ze})};return(0,e.h)(u.u_,{isOpen:n,onClose:Ae,className:Za.modal},(0,e.h)(u.xB,{className:Za.noGrow,includeClose:!0,onClose:()=>{(0,d.track)(d.EVENTS.COOKIE_MANAGEMENT_MODAL_DISMISSED,{}),Ae()},title:(0,e.h)(u.xv.H2,null,pe("Cookie Preferences"))}),(0,e.h)(u.fe,{className:Za.grow},(0,e.h)(u.tu,{flex:"fill",gap:8},r&&(0,e.h)(JF,{style:{zIndex:"25"}},(0,e.h)(ub,{value:ar.js.PUBLISHER,currentValue:a,onClick:_},(0,e.h)(u.xv.B2,{translated:!0},"Publisher")),(0,e.h)(ub,{value:ar.js.SUBSTACK,currentValue:a,onClick:_},(0,e.h)(u.xv.B2,{translated:!0},"Substack"))),(0,e.h)(u.tu,{flex:"fill"},a==="publisher"&&(0,e.h)(fb,{cookies:ye.filter(ze=>ze.owner===ar.js.PUBLISHER),disabledCookies:k,toggleState:Ve}),a==="substack"&&(0,e.h)(fb,{cookies:ye.fSTACK),disabledCookies:k,toggleState:Ve})))),(0,e.h)(u.mz,{className:Za.noGrow,primaryButton:(0,e.h)(u.zx,{onClick:Ae},k.size>0?pe("Save preferences"):pe("Accept All")),secondaryButton:(0,e.h)(u.zx,{onClick:Ne},pe("Reject all"))}))},fb=({cookies:n,disabledCookies:r,toggleState:o})=>(0,e.h)("table",{className:Za.table},(0,e.h)("tbody",null,n.map(a=>(0,e.h)(oW,rW(Df({},a),{onToggle:()=>o(a.id),enabled:!r.has(a.id)}))))),oW=({name:n,type:r,description:o,enabled:a,onToggle:_})=>(0,e.h)("tr",{key:n,className:Za.rowBorderBottom},(0,e.h)("td",{className:Za.cellPadding},(0,e.h)(u.tu,{gap:2,alignItems:"start"},(0,e.h)(u.xv.B4,null,n),(0,e.h)(aW,{cookieType:r}))),(0,e.h)("td",{className:Za.cellPadding},(0,e.h)(u.xv.Detail,null,o)),(0,e.h)("td",{className:Za.cellPadding},r!==ar.pt.NECESSARY&&(0,e.h)(u.XZ,{checked:a,onChange:_}))),aW=({cookieType:n})=>{const{language:r}=(0,l.M1)(),o=zF(r);return(0,e.h)(u.u,{text:o[n]},(0,e.h)(u.gq,{justifyContent:"start",alignItems:"center",gap:4},(0,e.h)(u.xv.Meta,null,n),(0,e.h)(T_,{size:16,color:"#888888"})))},iW={cookieBanner:"frontend-components-cookies-CookieConsentFooter-module__cookieBanner--IUQqK",cookieBannerHide:"frontend-components-cookies-CookieConsentFooter-module__cookieBannerHide--gV3rY"};var sW=Object.defineProperty,pb=Object.getOwnPropertySymbols,lW=Object.prototype.hasOwnProperty,uW=Object.prototype.propertyIsEnumerable,hb=(n,r,o)=>r in n?sW(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,cW=(n,r)=>{for(var o in r||(r={}))lW.call(r,o)&&hb(n,o,r[o]);if(pb)for(var o of pb(r))uW.call(r,o)&&hb(n,o,r[o]);return n},dW=(n,r,o)=>new Promise((a,_)=>{var A=x=>{try{k(o.next(x))}catch(J){_(J)}},B=x=>{try{k(o.throw(x))}catch(J){_(J)}},k=x=>x.done?a(x.value):Promise.resolve(x.value).then(A,B);k((o=o.apply(n,r)).next())});const fW=({onSubdomain:n})=>{const[r,o]=(0,t.eJ)(!1),[a,_]=(0,t.eJ)(!1),{popToast:A}=(0,u.pm)(),{iString:B}=(0,l.M1)(),{refetch:k}=(0,Pn.ib)({pathname:"/api/v1/cookie_preferences",method:"POST"}),{refetch:x}=(0,Pn.ib)({pathname:"/api/v1/cookie_preferences/substack",method:"POST"});(0,t.d4)(()=>{(0,d.track)(d.EVENTS.COOKIE_BANNER_SEEN,{})},[]);const J=pe=>dW(void 0,null,function*(){const _e=pe?[]:oc,ye=pe?[]:ac;ae.set(ar.ky.HIDE_COOKIE_BANNER,new Date().toJSON(),{expires:365*24*60*60*1e3}),n&&(yield k({json:{disabledCookies:ye}})),yield x({json:{disabledCookies:_e}}),(0,d.track)(d.EVENTS.COOKIE_BANNER_CLICKED,{acceptAll:pe}),(0,d.track)(d.EVENTS.COOKIE_PREFERENCES_SET,{disabledCookies:[..._e,...ye]}),_(!0),A(Pe=>(0,e.h)(u.FN,cW({text:B("Cookie preferences saved")},Pe))),window.location.reload()});return(0,e.h)("div",null,!a&&(0,e.h)(u.tu,{className:iW.cookieBanner,alignItems:"center"},(0,e.h)(u.tu,{alignItems:"center",gap:{mobile:4,desktop:8},padding:4},(0,e.h)(u.xv.H2,{translated:!0},"Cookie Policy"),(0,e.h)(u.xv.B4,{translated:!0,style:{paddingRight:"16px"}},"We use necessary cookies to make our site work. With your consent, we also set performance and functionality cookies that help us make improvements by measuring traffic on our site and we process respective personal data. You can withdraw your consent at any time. For more detailed information about the cookies, your personal data and your rights, please see our"," ",(0,e.h)(u.xv,{decoration:"underline",as:"a",href:"https://substack.com/tos"},"privacy policy"),"."),(0,e.h)(u.hs,{gap:{mobile:12,desktop:6},direction:{mobile:"column",desktop:"row"}},(0,e.h)(u.zx,{priority:"secondary",on(!0)}},B("Manage Cookies")),(0,e.h)(u.zx,{priority:"secondary",onClick:()=>J(!1)},B("Only Necessary")),(0,e.h)(u.zx,{priority:"primary",onClick:()=>J(!0)},B("Accept all"))))),(0,e.h)(nW,{onSubdomain:n,open:r,close:()=>{o(!1)}}))};function pW({slug:n,pub:r,user:o,tagPagePreloads:a,utm:_}){var A,B;const k=(0,Pn.ib)({pathname:`/api/v1/publication/post-tag/slug/${n}`,auto:(a==null?void 0:a.slug)!==n,initialResult:(a==null?void 0:a.slug)===n?a.postTag:null,deps:[a,n]});return(0,e.h)(py,null,k.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)(_f,{name:((A=k.result)==null?void 0:A.name)||"Page not found",description:null,logoUrl:null}),(0,e.h)(is,null),(0,e.h)(ss,{user:o,pub:r,sort:"new",postTagId:(B=k.result)==null?void 0:B.id,newPosts:(a==null?void 0:a.slug)===n?a.posts:null,source:"tag-archive"},({posts:x,linkToComments:J,onClickPost:pe})=>(0,e.h)(qn,{hideImages:r.theme.hide_images_from_list,linkToComments:J,posts:x,pub:r,showSectionPins:!0,user:o,utm:_,variant:"two-column-list",onC)=>{},onClickPost:pe}))))}var hW=Object.defineProperty,mb=Object.getOwnPropertySymbols,mW=Object.prototype.hasOwnProperty,_W=Object.prototype.propertyIsEnumerable,_b=(n,r,o)=>r in n?hW(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,ws=(n,r)=>{for(var o in r||(r={}))mW.call(r,o)&&_b(n,o,r[o]);if(mb)for(var o of mb(r))_W.call(r,o)&&_b(n,o,r[o]);return n};class gW extends e.Component{constructor(r,o){super(r,o),this.state=r.initialData||{}}componentDidUpdate(r,o){var a,_,A,B;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(ws({},this.props.initialData));const k=(_=(a=this.state.pub)==null?void 0:a.theme)==null?void 0:_.web_bg_color,x=document.documentElement;x&&k&&((B=(A=o==null?void 0:o.pub)==null?void 0:A.theme)==null?void 0:B.web_bg_color)!==k&&(x.style.background=k)}componentDidMount(){var r,o,a,_;const A=(_=(a=(o=(r=this.props)==null?void 0:r.initialData)==null?void 0:o.pub)==null?void 0:a.theme)==null?void 0:_.web_bg_color,B=document.documentElement;B&&A&&(B.style.background=A)}render({coupon:r,skipIntoPopupRender:o},{pub:a,section:_,user:A,userProfile:B,freeSignup:k,freeSignupEmail:x,posts:J,post:pe,truncatedPost:_e,pinnedPosts:ye,newPosts:Pe,topPosts:Ce,contentBlocks:Se,communityPosts:Ae,communityAction:Ne,searchPosts:Ve,sectionsById:ze,postTagsById:Je,contributors:Ye,latestPodcastPosts:ht,latestPostByContributorId:wt,postsByGroupId:Ct,postsBySectionId:It,postsByTagId:At,inlineComments:xt,latestSectionPosts:Dt,subscribeContent:jt,homepageLinks:Jt,recommendations:lr,numRecommendations:mr,allSubscribedPubs:Xt,fullySubscribedPubs:Bt,sitemapHeader:ur,sitemapDescription:tr,sitemapLinks:qt,referralCode:Rt,hide_intro_popup:Ut,post_reaction_token:Ft,stripe_publishable_key:kt,viral_gift_data:vt,campaign:Cr,referralCampaign:sr,file:jr,primaryEligiblePublications:Jr,flagged_as_spam:gn,switchAccountRedirectUrl:xr,readerIsSearchCrawler:un,commentId:Vr,selectionFromQuery:br,siteConfigs:kr={},blurbs:Fr,noBalanceHeroText:yn,embeddedPublications:Hn,themeVariables:Sn,subdomainNotFound:Zn,freeTrialCoupon:po,signupForFreeVariant:Yn,people:Kr,useNewSubscribePage:Mn,idToMagicLink:Ua,token:Ya,podcast_rss_url:ta,publicationSettings:gb,pledgePlans:bW,isChatActive:vb,isMeetingsActive:Ol,optOutLegacyTheming:PW,meetingsOrder:Nf,meetingsSettings:Lf,appModalOpenByDefault:yb,twitterCardUrl:OW,tagPagePreloads:CW,initialComments:Eb,bannedFromNotes:sc,intro_text:wW,crossPostedPub:SW,crossPostingByLine:TW,userWithCrossPostedPubContext:IW,crossPostedPublicationSettings:MW,crossPostedSiteConfig:DW,launchWelcomePage:Ss,referringUser:AW,clip:NW,recentEpisodes:LW,trackFrontendVisit:RW,showCookieBanner:xW}){var bb;const Pb=P()(this.state.comments)?this.state.comments:[];if(Zn)return(0,e.h)(FU,{subdomain:Zn});if(gn&&!(A!=null&&A.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,F.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,p.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,p.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const Ob=!!(a!=null&&a.theme&&!PW),UW=(0,y.getCurrentUrl)().startsWith("/chat"),{iString:Ja,iTemplate:$i}=I18N.i(this.state.language);return(0,e.h)(XP,{pub:a,user:A,siteConfigs:kr,hasThemedBackground:Ob,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:gb},(0,e.h)(c,ws({},this.props)),(0,e.h)(GA,{publication:a,twitterCardUrl:OW}),(0,e.h)(vW,{user:A}),(0,e.h)(yW,{user:A,pub:a}),(0,e.h)(EW,null),(0,e.h)("div",{className:s()("main typography",{"use-theme-bg":Ob,"should-flex":UW}),id:"main"},(0,e.h)(C.qE,{path:"/"},({path:On})=>{var Cb,wb;let Go="/home";/^\/about\b/.test(On)?Go="/about":/^\/notes\b/.test(On)?Go="/notes":/^\/leaderboard\b/.test(On)?Go="/leaderboard":/^\/chat\b/.test(On)?Go="/chat":/^\/podcast\b/.test(On)?Go="/podcast":/^\/archive\b/.test(On)?Go="/archive":/^\/newsletters\b/.test(On)?Go="/newsletters":/^\/recommendations\b/.test(On)?Go="/recommendations":/^\/listen\b/.test(On)?Go="/listen":_?Go=_.id:/^\/p\//.test(On)?Go=((Cb=/^\/p\/([^/?#]+)/.exec(On))==null?void 0:Cb[0])||"/p":/^\/t\//.test(On)&&(Go=((wb=/^\/t\/([^/?#]+)/.exec(On))==null?void 0:wb[0])||"/p");let Cl;typeof window!="undefined"&&window.location.search&&(Cl=(0,p.parseQuery)(window.location.search));const Sb=/^\/p\/([^/?#]*)/.exec(On),Tb=Sb&&!((pe==null?void 0:pe.type)==="page"&&pe.slug===Sb[1]),Ib=On.startsWith("/subscribe")||On.startsWith("/finish-invite")||On.startsWith("/meetings"),BW=On.startsWith("/chat/posts/");return _?(0,e.h)(Ul,{pub:a,user:A,freeSignup:k,freeSignupEmail:x,hide_subscribe_cta:On.startsWith("/subscribe"),selectedSectionId:Go,isPostView:Tb,showCustomerSupportModeModal:!!(Cl!=null&&Cl.showCustomerSupportModeModal),lowChrome:Ib,numRecommendations:mr,isChatActive:vb,isMeetingsActive:Ol,signupForFreeVariant:Yn}):!["welcome","embed","meetings"]kW}`))&&!(On.startsWith("/subscribe")&&(Mn||bW))&&(0,e.h)(Ul,{pub:a,user:A,freeSignup:k,freeSignupEmail:x,hide_subscribe_cta:On.startsWith("/subscribe"),isPostView:Tb,selectedSectionId:Go,showCustomerSupportModeModal:!!(Cl!=null&&Cl.showCustomerSupportModeModal),lowChrome:Ib,numRecommendations:mr,isChatActive:vb,isMeetingsActive:Ol,signupForFreeVariant:Yn,hideSections:BW})}),(0,e.h)(ai.g1,{pub:a,user:A}),(0,e.h)(y.Router,{onChange:p2},["newspaper","magaziney"].includes(a.homepage_type)?(0,e.h)($8,{path:"/",blurbs:Fr,bodyPostGroups:(bb=a.theme)==null?void 0:bb.body_post_groups,contentBlocks:Se,freeSignup:k,freeSignupEmail:x,hide_intro_popup:Ut,homepageLinks:Jt,sectionsById:ze,postTagsById:Je,contributors:Ye,latestPodcastPosts:ht,latestPostByContributorId:wt,latestSectionPosts:Dt,newPosts:Pe,noBalanceHeroText:yn,numRecommendations:mr,pinnedPosts:ye,postsByGroupId:Ct,postsBySectionId:It,postsByTagId:At,pub:a,recommendations:lr,referralCampaign:sr,referralCode:Rt,topPosts:Ce,user:A,launchWelcomePage:Ss,skipIntoPopupRender:o}):(0,e.h)(Rv,{path:"/",user:A,freeSignupEmail:x,freeSignup:k,hide_intro_popup:Ut,preloadedPosts:J,pub:a,blurbs:Fr,noBalanceHeroText:yn,launchWelcomePage:Ss,skipIntoPopupRender:o}),(0,e.h)(gf,{path:"/listen/:sectionSlug",blurbs:Fr,user:A,freeSignupEmail:x,freeSignup:k,hide_intro_popup:Ut,pub:a,pinnedPosts:ye,newPosts:Pe,latestSectionPosts:Dt,section:a.section,referralCampaign:sr,isPodcast:!0,launchWelcomePage:Ss,noBalanceHeroText:yn,skipIntoPopupRender:o}),(0,e.h)(gf,{path:"/podcast",blurbs:Fr,user:A,freeSignupEmail:x,freeSignup:k,hide_intro_popup:Ut,pub:a,pinnedPosts:ye,newPosts:Pe,latestSectionPosts:Dt,recommendations:lr,numRecommendations:mr,referralCampaign:sr,isPodcast:!0,includePinnedPosts:!0,launchWelcomePage:Ss,noBalanceHeroText:yn}),(0,e.h)(qs,{path:"/podcast/archive",blurbs:Fr,user:A,newPosts:Pe,topPosts:Ce,communityPosts:Ae,searchPosts:Ve,pub:a,freeSignupEmail:x,freeSignup:k,isPodcast:!0,metadata:ws({title:$i`Podcast Archive - ${a.name}`,description:$i`Full archive of all the episodes from ${a.name}.`},!!(Ve||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(gf,{path:"/s/:slug",blurbs:Fr,user:A,freeSignupEmail:x,freeSignup:k,hide_intro_popup:Ut,pub:a,pinnedPosts:ye,newPosts:Pe,latestSectionPosts:Dt,section:a.section,referralCampaign:sr,launchWelcomePage:Ss,noBalanceHeroText:yn,skipIntoPopupRender:o}),(0,e.h)(qs,{path:"/archive",user:A,newPosts:Pe,topPosts:Ce,communityPosts:Ae,searchPosts:Ve,pub:a,freeSignupEmail:x,freeSignup:k,metadata:ws({title:$i`Archive - ${a.name}`,description:$i`Full archive of all the posts from ${a.name}.`},!!(Ve||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(qs,{path:"/s/:slug/archive",user:A,newPosts:Pe,topPosts:Ce,communityPosts:Ae,searchPosts:Ve,pub:a,freeSignupEmail:x,freeSignup:k,sectionId:_==null?void 0:_.id,metadata:ws({title:$i`Archive - ${_==null?void 0:_.name} of ${a.name}`,description:$i`Full archive of all the posts from ${_==null?void 0:_.name} of ${a.name}.`},!!(Ve||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(qs,{path:"/listen/:sectionSlug/archive/",user:A,newPosts:Pe,topPosts:Ce,communityPosts:Ae,searchPosts:Ve,pub:a,freeSignupEmail:x,freeSignup:k,sectionId:_==null?void 0:_.id,metadata:ws({title:Ja("Podcast Archive - %1",(0,Rs.getSectionPodcastSettings)({pub:a,section:a.section}).title),description:Ja("Full archive of all the episodes from %1.",(0,Rs.getSectionPodcastSettings)({pub:a,section:a.section}).title)},!!(Ve||(0,p.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(pW,{path:"/t/:slug",user:A,freeSignupEmail:x,freeSignup:k,pub:a,tagPagePreloads:CW}),(0,e.h)(qs,{default:!0,title:Ja("Page not found"),user:A,newPosts:Pe,topPosts:Ce,communityPosts:Ae,searchPosts:Ve,pub:a,freeSignupEmail:x,freeSignup:k}),(0,e.h)(Q,{path:"/tos",html:a.tos_content_html||Ja("Terms of Service"),metadata:{title:Ja("Terms of Service")}},(0,e.h)(u.xv.B3,{translated:!0,as:"p",paddingBottom:32},"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:(0,p.getSubstackTermsUrl)(),native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(Q,{path:"/privacy",html:a.privacy_content_html||Ja("Privacy Policy"),metadata:{title:Ja("Privacy Policy")}},(0,e.h)(u.xv.B3,{translated:!0,as:"p",paddingBottom:32},"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,p.getSubstackPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(Q,{path:"/disclosures",html:a.disclosures_content_html||Ja("Disclosures"),metadata:{title:Ja("Disclosures")}}),(0,e.h)(Nt,{path:"/welcome",publication:a,post:null,user:A,freeSignup:k,freeSignupEmail:x,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(Nt,{path:"/podcast",publication:a,post:null,referralCode:Rt,user:A,freeSignup:k,freeSignupEmail:x,coupon:r,alwaysShow:!0,o="/"}}),(0,e.h)(m7,{pub:a,path:"/invite",user:A,freeSignup:k,freeSignupEmail:x}),(0,e.h)(g7,{path:"/invite-success/:id",pub:a,user:A,post:pe,freeSignup:k,freeSignupEmail:x}),(0,e.h)(_7,{path:"/invite-reject-success/:id",pub:a,user:A,post:pe}),(0,e.h)(Xd,{path:"/finish-invite/:id",pub:a,user:A,freeSignup:k,freeSignupEmail:x}),(0,e.h)(Xd,{path:"/finish-post-invite/:id",pub:a,post:pe,user:A,freeSignup:k,freeSignupEmail:x,inviteToPost:!0,primaryEligiblePublications:Jr||[],switchAccountRedirectUrl:xr}),(0,e.h)(dx,{path:"/recommendations",pub:a,user:A,recommendations:lr,allSubscribedPubs:Xt,fullySubscribedPubs:Bt,freeSignupEmail:x}),(0,e.h)(KE,{path:"/sitemap",pub:a,sitemapHeader:ur,sitemapDescription:tr,sitemapLinks:qt}),(0,e.h)(KE,{path:"/sitemap/:year",pub:a,sitemapHeader:ur,sitemapDescription:tr,sitemapLinks:qt}),(0,e.h)(MM,{path:"/about",pub:a,user:A,freeSignup:k,freeSignupEmail:x,subscribeContent:jt,people:Kr,metadata:{title:$i`About - ${a.name}`}}),(0,e.h)(Tf,{path:"/p/:slug",user:A,freeSignupEmail:x,freeSignup:k,referralCode:Rt,post:pe,truncatedPost:_e,publication:a,renderedComments:Pb,inlineComments:xt,reaction_token:Ft,hide_intro_popup:Ut,stripe_publishable_key:kt,readerIsSearchCrawler:un,selectionFromQuery:br,embeddedPublications:Hn,siteConfigs:kr,freeTrialCoupon:po,publicationSettings:gb,bannedFromNotes:sc,themeVariables:Sn,referringUser:AW,clip:NW,launchWelcomePage:Ss,recentEpisodes:LW,trackFrontendVisit:RW}),(0,e.h)(_L,{path:"/cp/:post_id",user:A,freeSignupEmail:x,freeSignup:k,post:pe,publication:a,introText:wW,crossPostedPub:SW,crossPostingByLine:TW,userWithCrossPostedPubContext:IW,crossPostedPublicationSettings:MW,crossPostedSiteConfig:DW}),(0,e.h)(LF,{path:"/listen",pub:a,user:A||null,openInNewTab:!0,idToMagicLink:Ua}),(0,e.h)(FP,{path:"/newsletters",pub:a,user:A!=null?A:null}),(0,e.h)(MF,{path:"/p/:slug/media-assets",post:pe,publication:a,themeVariables:Sn}),xt?(0,e.h)(Tf,{path:"/p/:slug/comments",user:A,freeSignupEmail:x,freeSignup:k,referralCode:Rt,post:pe,truncatedPost:_e,publication:a,renderedComments:Pb,inlineComments:xt,reaction_token:Ft,hide_intro_popup:Ut,stripe_publishable_key:kt,readerIsSearchCrawler:un,selectionFromQuery:br,siteConfigs:kr,freeTrialCoupon:po,bannedFromNotes:sc,themeVariables:Sn}):(0,e.h)(kd,{path:"/p/:slug/comments",user:A,freeSignupEmail:x,freeSignup:k,post:pe,publication:a,post_reaction_token:Ft,commentId:Vr,freeTrialCoupon:po,initialComments:Eb,bannedFromNotes:sc}),!xt&&(0,e.h)(kd,{path:"/p/:slug/comment/:comment_id",user:A,freeSignupEmail:x,freeSignup:k,post:pe,publication:a,post_reaction_token:Ft,commentId:Vr,freeTrialCoupon:po,initialComments:Eb,bannedFromNotes:sc}),(0,e.h)(XL,{path:"/rewards/receive",pub:a,user:A,freeSignupEmail:x,viral_gift_data:vt}),(0,e.h)(Uv,{path:"/embed",pub:a,user:A,freeSignup:k,freeSignupEmail:x}),(0,e.h)(yL,{path:"/embed/test",pub:a,user:A,freeSignup:k,freeSignupEmail:x}),(0,e.h)(vL,{path:"/embed/podcast/:slug",pub:a}),(0,e.h)(bL,{path:"/embed/video/:slug",pub:a}),(0,e.h)(ZL,{path:"/f/:fileId",pub:a,user:A,hide_subscribe_cta:!0,file:jr}),kr.live_events&&(0,e.h)(Wr.cr,{module:"../live_events",onRe602)),retPage,path:"/live_event/:eventId/:participantType",pub:a,user:A}),(0,e.h)(j2,{path:"/chat",publication:a,user:A}),(0,e.h)(V2,{path:"/chat/posts/:postId",publication:a,communityAction:Ne,user:A,appModalOpenByDefault:yb}),(0,e.h)(H2,{path:"/chat/replies/:commentId",publication:a,communityAction:Ne,user:A,appModalOpenByDefault:yb}),(0,e.h)(VF,{path:"/survey/:surveyId",pub:a,user:A}),kr.meetings_v1&&(Ol||(A==null?void 0:A.is_author))&&(0,e.h)(Y7,{path:"/meetings",exact:!0,pub:a,user:A,settings:Lf}),kr.meetings_v1&&(Ol||(A==null?void 0:A.is_author))&&(0,e.h)(Ky,{path:"/meetings/book",pub:a,user:A,stripe_publishable_key:kt,order:Nf,settings:Lf}),kr.meetings_v1&&(Nf||Ol||(A==null?void 0:A.is_author))&&(0,e.h)(Ky,{path:"/meetings/book/:order_id?",pub:a,user:A,stripe_publishable_key:kt,order:Nf,settings:Lf}),(0,e.h)(G7,{pub:a,user:A,freeSignupEmail:x,path:"/leaderboard"}),(0,e.h)(QP,{path:"/notes"})),(0,e.h)(C.qE,{path:"/"},({path:On})=>!On.startsWith("/welcome")&&!On.startsWith("/embed")&&!On.startsWith("/subscribe")&&!On.startsWith("/meetings")&&!On.startsWith("/chat")&&(0,e.h)(Y,{publication:a,user:A,showIntrinioAttrib:pe&&pe.hasCashtag,path:On})),(0,e.h)(C.qE,{path:"/"},({path:On})=>!On.startsWith("/embed")&&(0,e.h)(e.Fragment,null,xW&&(0,e.h)(fW,{onSubdomain:!0}))),null))}}function vW({user:n}){const r=(0,vp.S)({user:n});return(0,t.d4)(()=>{const o=new URLSearchParams(location.search);if(o.get("reaction")==="\u2764"){r(),o.delete("reaction");const a=o.toString();history.replaceState({},document.title,location.pathname+(a&&`?${a}`))}},[]),null}function yW({user:n,pub:r}){return c2({user:n,pub:r})null}(0,H.Z)(gW)})()})()});KW();})();

//# sourceMappingURL=main.6347d130bade8e98660c.bundle.js.map