(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{483:function(n,w,o){}},[[483,4]]]);t";a.r(e);var r=a(5),s=a(909),n=a(506),o=a(4),u=a(56),i=a(110),l=a(543),c=Object(r.defineComponent)({__name:"option-group-assign",props:{thread:null,isLegacy:{type:Boolean}},setup(t){const e=t,{isLoading:a,setLoader:c}=Object(l.a)(),d=Object(r.ref)([]),p=Object(r.computed)((()=>o.a.state.settings.thread.maximumGroups)),f=Object(r.computed)((()=>d.value.length>=p.value)),h=Object(r.computed)((()=>d.value.filter((t=>t.isDefault)).length>0&&d.value.length<=p.value));function m(){d.value=[]}return{__sfc:!0,isLoading:a,setLoader:c,props:e,groups:d,max:p,isMaxed:f,isValid:h,add:function(t){t&&(d.value.some((e=>e.threadGroupId===t.threadGroupId))||d.value.push(t))},remove:function(t){d.value.splice(d.value.indexOf(t),1)},edit:function(){d.value=[...e.thread.groups]},endEdit:m,submit:function(){Object(i.c)({threadId:e.thread.threadId,groups:d.value}).then((()=>{e.isLegacy?e.thread.groups=d.value:Object(u.l)({threadId:e.thread.threadId,groups:d.value}),m()})).finally(c())},GroupSearch:s.default,BaseButton:n.a}}}),d=a(44),p=Object(d.a)(c,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"flex boxAlign-ai--all-fs"},[a.groups.length?[e("div",{staticClass:"flex flex--wrap boxAlign-ai--all-bl space--ml-3"},[t._l(a.groups,(function(r){return e(a.BaseButton,{key:r.threadGroupId,staticClass:"space--mr-2 space--mb-2",attrs:{variant:"secondary",mode:"default",selected:!r.assignedBySystem},on:{click:function(t){return a.remove(r)}}},[t._v(" "+t._s(r.threadGroupName)+" "),e("BaseIcon",{attrs:{name:"cross",right:""}})],1)})),e(a.GroupSearch,{staticClass:"box--all-i width--ctrl-m vAlign--all-t",attrs:{"thread-type":t.thread.type,disabled:a.isMaxed},on:{update:a.add}})],2),e("div",{staticClass:"space--ml-a flex"},[e(a.BaseButton,{staticClass:"space--mr-1",attrs:{variant:"tertiary",mode:"default",square:""},on:{click:function(t){return a.endEdit()}}},[e("BaseIcon",{attrs:{name:"cross"}})],1),e(a.BaseButton,{attrs:{variant:"primary",mode:"brand",square:"",disabled:!a.isValid,loading:a.isLoading},on:{click:function(t){return a.submit()}}},[e("BaseIcon",{attrs:{name:"tick"}})],1)],1)]:e(a.BaseButton,{staticClass:"clickable",attrs:{wrap:""},on:{click:a.edit}},t._l(t.thread.groups,(function(a){return e("span",{key:a.threadGroupId,staticClass:"thread-footer-optionItem text--b",class:{"text--color-brandPrimary":!a.assignedBySystem}},[t._v(" "+t._s(a.threadGroupName)+" ")])})),0)],2)}),[],!1,null,null,null);e.default=p.exports},633:function(t,e,a){var r=a(711),s=a(661),n=a(712),o=a(310);t.exports=function(t){return function(e){e=o(e);var a=s(e)?n(e):void 0,u=a?a[0]:e.charAt(0),i=a?r(a,1).join(""):e.slice(1);return u[t]()+i}}},639:function(t,e,a){var r=a(633)("toUpperCase");t.exports=r},644:function(t,e,a){var r=a(310),s=a(639);t.exports=function(t){return s(r(t).toLowerCase())}},852:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}));var r=a(1),s=a(17);function n(t){return Promise.reject()}const o=(t,e)=>Object(r.hc)({threadTypeId:s.m[t],term:e}).then((t=>t.data.groups))},909:function(t,e,a){"use strict";a.r(e);var r=a(560),s=a(852),n=a(17),o=a(644),u=a.n(o),i={components:{AutoSuggest:r.a},inheritAttrs:!1,model:{event:"update"},props:{threadType:{type:String,default:n.a}},methods:{requestGroupSuggestions(t){return Object(s.b)(u()(this.threadType),t).catch((()=>[]))}}},l=a(44),c=Object(l.a)(i,(function(){var t=this;return(0,t._self._c)("AutoSuggest",t._g(t._b({attrs:{items:t.requestGroupSuggestions,placeholder:"kategori namn","item-text":"threadGroupName","item-value":"threadGroupId","input-icon":"group","list-icon":"plus","no-filter":"",clearable:"","close-on-clear":""}},"AutoSuggest",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);e.default=c.exports}}]);