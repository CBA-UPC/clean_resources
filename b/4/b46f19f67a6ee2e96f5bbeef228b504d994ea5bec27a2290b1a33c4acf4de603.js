var e=[(e,t,r)=>{r.d(t,{$:()=>He,A:()=>O,B:()=>M,C:()=>xe,D:()=>we,E:()=>ve,F:()=>re,G:()=>se,H:()=>oe,I:()=>De,J:()=>fe,K:()=>Ve,L:()=>G,M:()=>J,N:()=>Q,O:()=>Z,P:()=>X,Q:()=>be,R:()=>Me,S:()=>Y,T:()=>K,U:()=>ye,V:()=>W,W:()=>Ee,X:()=>N,Y:()=>U,Z:()=>P,_:()=>q,a:()=>ee,ab:()=>je,b:()=>w,bb:()=>B,c:()=>We,cb:()=>k,d:()=>Ne,db:()=>D,e:()=>ae,eb:()=>qe,f:()=>Se,fb:()=>Oe,g:()=>Fe,gb:()=>$,h:()=>te,hb:()=>Ie,i:()=>de,ib:()=>Le,j:()=>ze,jb:()=>Xe,k:()=>z,kb:()=>he,l:()=>ge,lb:()=>Te,m:()=>$e,mb:()=>F,n:()=>Re,nb:()=>ie,o:()=>le,ob:()=>ce,p:()=>Ue,pb:()=>Be,q:()=>A,r:()=>pe,s:()=>me,t:()=>ke,u:()=>Ce,v:()=>L,w:()=>_e,x:()=>E,y:()=>Ae,z:()=>ue});var n=r(2),i=r(69),a=r.n(i),s=r(4),o=r(5),d=r(15),c=r(14),l="String",p="Function",u="Number",m="Object",b="Boolean",f=Object.prototype.toString;let h,g=Boolean(window.console),v=Boolean(g&&window.console.log),y=Boolean(g&&window.console.info),I=Boolean(g&&window.console.warn),T=Boolean(g&&window.console.error);const _=(0,c.a)();function w(e){h=e}function S(...e){null!=h&&h(...e)}const R={checkCookieSupport:Se,createTrackPixelIframeHtml:function(e,t=!0,r=""){return e?(t&&(e=encodeURI(e)),r&&(r=`sandbox="${r}"`),`<iframe ${r} id="${E()}"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="${e}">\n    </iframe>`):""},getWindowSelf:O,getWindowTop:M,getWindowLocation:V,insertUserSyncIframe:oe,insertElement:re,isFn:X,triggerPixel:ie,logError:N,logWarn:q,logMessage:P,logInfo:U,parseQS:Pe,formatQS:Ue,deepEqual:$e};var x,C=(x=0,function(){return++x});function E(){return C()+Math.random().toString(16).substr(2)}function A(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,A)}function k(e){let t="";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+encodeURIComponent(e[r])+"&");return t=t.replace(/&$/,""),t}function F(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"):""}function D(e){return"string"==typeof e?e.split(",").filter((e=>e.match(/^(\d)+x(\d)+$/i))):"object"==typeof e?2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]?[B(e)]:e.map(B):[]}function B(e){if(function(e){return G(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}(e))return e[0]+"x"+e[1]}function M(){return window.top}function O(){return window.self}function V(){return window.location}function P(){z()&&v&&console.log.apply(console,j(arguments,"MESSAGE:"))}function U(){z()&&y&&console.info.apply(console,j(arguments,"INFO:"))}function q(){z()&&I&&console.warn.apply(console,j(arguments,"WARNING:")),S(o.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments})}function N(){z()&&T&&console.error.apply(console,j(arguments,"ERROR:")),S(o.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments})}function $(e){function t(t){return function(...r){t(e,...r)}}return{logError:t(N),logWarn:t(q),logMessage:t(P),logInfo:t(U)}}function j(e,t){e=[].slice.call(e);let r=n.b.getCurrentBidder();return t&&e.unshift(t),r&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(r?`%c${r}`:"")),e;function i(e){return`display: inline-block; color: #fff; background: ${e}; padding: 1px 4px; border-radius: 3px;`}}function z(){return!!n.b.getConfig("debug")}function L(e){return Pe(V().search)[e]||""}function H(e,t){return f.call(e)==="[object "+t+"]"}function X(e){return H(e,p)}function W(e){return H(e,l)}const G=Array.isArray.bind(Array);function Y(e){return H(e,u)}function K(e){return H(e,m)}function J(e){return H(e,b)}function Z(e){return!e||(G(e)||W(e)?!(e.length>0):Object.keys(e).length<=0)}function Q(e){return W(e)&&(!e||0===e.length)}function ee(e,t){if(X(e?.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach((([e,r])=>t.call(this,r,e)))}function te(e,t){return X(e?.includes)&&e.includes(t)}function re(e,t,r,n){let i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if(i=i.length?i:t.getElementsByTagName("body"),i.length){i=i[0];let t=n?null:i.firstChild;return i.insertBefore(e,t)}}catch(e){}}function ne(e,t){let r=null;return new d.a((n=>{const i=function(){e.removeEventListener("load",i),e.removeEventListener("error",i),null!=r&&window.clearTimeout(r),n()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(r=window.setTimeout(i,t))}))}function ie(e,t,r){const n=new Image;t&&R.isFn(t)&&ne(n,r).then(t),n.src=e}function ae({source:e,burl:t}){e===o.S2S.SRC&&t&&R.triggerPixel(t)}function se(e){if(!e)return;const t=((r=document.createElement("iframe")).id=E(),r.height=0,r.width=0,r.border="0px",r.hspace="0",r.vspace="0",r.marginWidth="0",r.marginHeight="0",r.style.border="0",r.scrolling="no",r.frameBorder="0",r.src="about:blank",r.style.display="none",r.style.height="0px",r.style.width="0px",r.allowtransparency="true",r);var r,n;R.insertElement(t,document,"body"),(n=t.contentWindow.document).open(),n.write(e),n.close()}function oe(e,t,r){let n=R.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=n;let a=i.firstChild;t&&R.isFn(t)&&ne(a,r).then(t),R.insertElement(a,document,"html",!0)}function de(e){if(!e)return"";let t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>',t}function ce(e,t,r){return r.indexOf(e)===t}function le(e,t){return e.concat(t)}function pe(e,t){if(e)return t.flatMap((e=>e.bids)).find((t=>["bidId","adId","bid_id"].some((r=>t[r]===e))))}function ue(e,t){return e[t]}function me(e=_.adUnits){return e.map((e=>e.bids.map((e=>e.bidder)).reduce(le,[]))).reduce(le,[]).filter((e=>void 0!==e)).filter(ce)}function be(){if(window.googletag&&X(window.googletag.pubads)&&X(window.googletag.pubads().getSlots))return!0}function fe(){if(window.apntag&&X(window.apntag.getTag))return!0}function he(e){let t=e.length;for(;t>0;){let r=Math.floor(Math.random()*t);t--;let n=e[t];e[t]=e[r],e[r]=n}return e}function ge(e){return a()(e)}function ve(){try{return R.getWindowSelf()!==R.getWindowTop()}catch(e){return!0}}function ye(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function Ie(e,t){if(e)return Object.entries(t).reduce(((e,[t,r])=>e.replace(new RegExp("\\$\\{"+t+"\\}","g"),r||"")),e)}function Te(){return(new Date).getTime()}function _e(){return window.performance&&window.performance.now&&window.performance.now()||0}function we(){return!1!==n.b.getConfig("deviceAccess")}function Se(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Re(e,t){if(t<1)throw new Error(`numRequiredCalls must be a positive number. Got ${t}`);let r=0;return function(){r++,r===t&&e.apply(this,arguments)}}function xe(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}function Ce(e,t){return t.filter((t=>e[t])).reduce(((t,r)=>Object.assign(t,{[r]:e[r]})),{})}function Ee(e){const t=["banner","native","video"];return!!Object.keys(e).every((e=>(0,s.c)(t,e)))&&(!e.video||!e.video.context||(0,s.c)(["instream","outstream","adpod"],e.video.context))}function Ae(e,t,r){return e.filter((e=>e.code===t)).flatMap((e=>e.bids)).filter((e=>e.bidder===r)).map((e=>e.params||{}))}function ke(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}const Fe=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function De(e){return t=>Fe(e,t)}function Be(e,t){const r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return`\n    ${e.code} is a ${r} ad unit\n    containing bidders that don't support ${r}: ${t}.\n    This bidder won't fetch demand.\n  `}const Me=Number.isInteger.bind(Number);function Oe(e,t){return"object"!=typeof e?{}:t.reduce(((r,n,i)=>{if("function"==typeof n)return r;let a=n,s=n.match(/^(.+?)\sas\s(.+?)$/i);s&&(n=s[1],a=s[2]);let o=e[n];return"function"==typeof t[i+1]&&(o=t[i+1](o,r)),void 0!==o&&(r[a]=o),r}),{})}function Ve(e,t){return G(e)&&(!t||e.length===t)&&e.every((e=>Me(e)))}function Pe(e){return e?e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[r,n]=t.split("=");return/\[\]$/.test(r)?(r=r.replace("[]",""),e[r]=e[r]||[],e[r].push(n)):e[r]=n||"",e}),{}):{}}function Ue(e){return Object.keys(e).map((t=>Array.isArray(e[t])?e[t].map((e=>`${t}[]=${e}`)).join("&"):`${t}=${e[t]}`)).join("&")}function qe(e,t){let r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);let n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:n?r.search:R.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function Ne(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?`:${e.port}`:""))+(e.pathname||"")+(e.search?`?${R.formatQS(e.search||"")}`:"")+(e.hash?`#${e.hash}`:"")}function $e(e,t,{checkTypes:r=!1}={}){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||r&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){if(!t.hasOwnProperty(n))return!1;if(!$e(e[n],t[n],{checkTypes:r}))return!1}return!0}function je(e,...t){if(!t.length)return e;const r=t.shift();if(K(e)&&K(r))for(const t in r)K(r[t])?(e[t]||Object.assign(e,{[t]:{}}),je(e[t],r[t])):G(r[t])?e[t]?G(e[t])&&r[t].forEach((r=>{let n=1;for(let i=0;i<e[t].length;i++)if($e(e[t][i],r)){n=0;break}n&&e[t].push(r)})):Object.assign(e,{[t]:[...r[t]]}):Object.assign(e,{[t]:r[t]});return je(e,...t)}function ze(e,t=0){let r=function(e,t){if(X(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},n=3735928559^t,i=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),n=r(n^t,2654435761),i=r(i^t,1597334677);return n=r(n^n>>>16,2246822507)^r(i^i>>>13,3266489909),i=r(i^i>>>16,2246822507)^r(n^n>>>13,3266489909),(4294967296*(2097151&i)+(n>>>0)).toString()}function Le(e){try{return JSON.parse(e)}catch(e){}}function He(e,t=function(e){return e}){const r=new Map,n=function(){const n=t.apply(this,arguments);return r.has(n)||r.set(n,e.apply(this,arguments)),r.get(n)};return n.clear=r.clear.bind(r),n}function Xe(e,t){Object.entries(t).forEach((([t,r])=>e.setAttribute(t,r)))}function We(e,t,r=(e=>e)){let n=0,i=e.length&&e.length-1;const a=r(t);for(;i-n>1;){const t=n+Math.round((i-n)/2);a>r(e[t])?n=t:i=t}for(;e.length>n&&a>r(e[n]);)n++;return n}},(e,t,r)=>{r.d(t,{a:()=>y,b:()=>b,c:()=>l,d:()=>f,e:()=>o,f:()=>u,g:()=>p,h:()=>h,i:()=>s,j:()=>a,k:()=>i,l:()=>d,m:()=>m,n:()=>g,o:()=>v,p:()=>I,q:()=>c,r:()=>n});const n=e=>void 0===e,i=e=>null===e,a=e=>i(e)||n(e),s=e=>!a(e),o=e=>"boolean"==typeof e,d=e=>"number"==typeof e&&!isNaN(e),c=e=>"string"==typeof e,l=e=>Array.isArray(e),p=e=>"function"==typeof e,u=e=>e instanceof Date,m=e=>"object"==typeof e&&!l(e)&&!i(e),b=(e,t)=>l(e)&&e.every(t),f=(e,t)=>b(e,t)||t(e),h=(e,t)=>r=>e(r,t),g=(e,t)=>n(e)||t(e),v=(e,t)=>m(e)&&Object.values(e).every(t),y=(e,...t)=>t.some((t=>t===e)),I=e=>b(e,d)&&2===e.length},(e,t,r)=>{r.d(t,{a:()=>c,b:()=>m});var n=r(80),i=r(4),a=r(0),s=r(6),o=r(5);const d="TRUE"===(0,a.v)(o.DEBUG_MODE).toUpperCase(),c="random",l={};l[c]=!0,l.fixed=!0;const p=c,u={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},m=function(){let e,t,r,o=[],c=null;function m(){function s(e){return c[e].val}function o(e,t){c[e].val=t}e={};const c={publisherDomain:{set(e){null!=e&&(0,a._)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),o("publisherDomain",e)}},priceGranularity:{val:u.MEDIUM,set(e){f(e)&&("string"==typeof e?o("priceGranularity",b(e)?e:u.MEDIUM):(0,a.T)(e)&&(o("customPriceBucket",e),o("priceGranularity",u.CUSTOM),(0,a.Z)("Using custom price granularity")))}},customPriceBucket:{val:{},set(){}},mediaTypePriceGranularity:{val:{},set(e){null!=e&&o("mediaTypePriceGranularity",Object.keys(e).reduce(((t,r)=>(f(e[r])?"string"==typeof e?t[r]=b(e[r])?e[r]:s("priceGranularity"):(0,a.T)(e)&&(t[r]=e[r],(0,a.Z)(`Using custom price granularity for ${r}`)):(0,a._)(`Invalid price granularity for media type: ${r}`),t)),{}))}},bidderSequence:{val:p,set(e){l[e]?o("bidderSequence",e):(0,a._)(`Invalid order: ${e}. Bidder Sequence was not set.`)}},auctionOptions:{val:{},set(e){(function(e){if(!(0,a.T)(e))return(0,a._)("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,a._)(`Auction Options given an incorrect param: ${t}`),!1;if("secondaryBidders"===t){if(!(0,a.L)(e[t]))return(0,a._)(`Auction Options ${t} must be of type Array`),!1;if(!e[t].every(a.V))return(0,a._)(`Auction Options ${t} must be only string`),!1}else if("suppressStaleRender"===t&&!(0,a.M)(e[t]))return(0,a._)(`Auction Options ${t} must be of type boolean`),!1}return!0})(e)&&o("auctionOptions",e)}}};let m={debug:d,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10};function b(e){return(0,i.b)(Object.keys(u),(t=>e===u[t]))}function f(e){if(!e)return(0,a.X)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)b(e)||(0,a._)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,a.T)(e)&&!(0,n.b)(e))return(0,a.X)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(m,Object.fromEntries(Object.entries(c).map((([e,t])=>[e,Object.assign({get:s.bind(null,e),set:o.bind(null,e),enumerable:!0},t)])))),t&&I(Object.keys(t).reduce(((e,r)=>(t[r]!==m[r]&&(e[r]=m[r]||{}),e)),{})),t=m,r={}}function b(){if(c&&r&&(0,a.T)(r[c])){let e=r[c];const n=new Set(Object.keys(t).concat(Object.keys(e)));return(0,i.a)(n).reduce(((r,n)=>(void 0===e[n]?r[n]=t[n]:void 0===t[n]?r[n]=e[n]:(0,a.T)(e[n])?r[n]=(0,a.ab)({},t[n],e[n]):r[n]=e[n],r)),{})}return Object.assign({},t)}const[f,h]=[b,function(){const e=b();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((e=>function(...t){if(t.length<=1&&"function"!=typeof t[0]){const r=t[0];return r?(0,s.a)(e(),r):b()}return function(e,t,r={}){let n=t;if("string"!=typeof e&&(n=e,e="*",r=t||{}),"function"!=typeof n)return void(0,a.X)("listener must be a function");const i={topic:e,callback:n};return o.push(i),r.init&&n("*"===e?h():{[e]:h(e)}),function(){o.splice(o.indexOf(i),1)}}(...t)})),[g,v]=[h,f].map((e=>function(...t){let r=e(...t);return r&&"object"==typeof r&&(r=(0,a.l)(r)),r}));function y(r){if(!(0,a.T)(r))return void(0,a.X)("setConfig options must be an object");let n=Object.keys(r),i={};n.forEach((n=>{let s=r[n];(0,a.T)(e[n])&&(0,a.T)(s)&&(s=Object.assign({},e[n],s));try{i[n]=t[n]=s}catch(e){(0,a._)(`Cannot set config for property ${n} : `,e)}})),I(i)}function I(e){const t=Object.keys(e);o.filter((e=>(0,i.c)(t,e.topic))).forEach((t=>{t.callback({[t.topic]:e[t.topic]})})),o.filter((e=>"*"===e.topic)).forEach((t=>t.callback(e)))}function T(e,t=!1){try{!function(e){if(!(0,a.T)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,a.T)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((n=>{r[n]||(r[n]={}),Object.keys(e.config).forEach((i=>{let s=e.config[i];if((0,a.T)(s)){const e=t?a.ab:Object.assign;r[n][i]=e({},r[n][i]||{},s)}else r[n][i]=s}))}))}catch(e){(0,a.X)(e)}}function _(e,t){c=e;try{return t()}finally{w()}}function w(){c=null}return m(),{getCurrentBidder:function(){return c},resetBidder:w,getConfig:h,getAnyConfig:f,readConfig:g,readAnyConfig:v,setConfig:y,mergeConfig:function(e){if(!(0,a.T)(e))return void(0,a.X)("mergeConfig input must be an object");const t=(0,a.ab)(b(),e);return y({...t}),t},setDefaults:function(r){(0,a.T)(e)?(Object.assign(e,r),Object.assign(t,r)):(0,a.X)("defaults must be an object")},resetConfig:m,runWithBidder:_,callbackWithBidder:function(e){return function(t){return function(...r){if("function"==typeof t)return _(e,t.bind(this,...r));(0,a._)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:T,getBidderConfig:function(){return r},mergeBidderConfig:function(e){return T(e,!0)}}}()},(e,t,r)=>{r.d(t,{a:()=>o});var n=r(68),i=r(28),a=r(104);const s=r(105).a.value,o=new n.b("HUBVISOR","wrapper",(()=>{const e=[];return s&&e.push(s),i.f&&e.push(a.a),e})())},(e,t,r)=>{function n(e,t,r){return e&&e.includes(t,r)||!1}function i(){return Array.from.apply(Array,arguments)}function a(e,t,r){return e&&e.find(t,r)}r.d(t,{a:()=>i,b:()=>a,c:()=>n})},e=>{e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_TIMEOUT":"auctionTimeout","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent","BID_ACCEPTED":"bidAccepted"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat","CRID":"hb_crid","DSP":"hb_dsp"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes","FLOOR_NOT_MET":"Bid does not meet price floor","CANNOT_CONVERT_CURRENCY":"Unable to convert currency"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],"FLOOR_VALUES":{"NO_DATA":"noData","AD_UNIT":"adUnit","SET_CONFIG":"setConfig","FETCH":"fetch","SUCCESS":"success","ERROR":"error","TIMEOUT":"timeout"}}')},(e,t,r)=>{function n(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}r.d(t,{a:()=>n})},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>a,c:()=>s});var n=r(1);const i={adserverTimeout:90,onDisplayCallback:91,onDisplayOrDfpRefresh:92,onAmpRendering:93,onAdditionalTargetings:94,onParallaxInvalidParameters:95,onRtcRendering:96,onCustomNativeRendering:97,bypassGamRenderError:98,doubleRenderError:99,publisherPlacementsBuildError:666,autorefreshError:700,customInsertionPointNotFound:829,beamError:900,unexpected:1e3,nativeCriteoBidNotFound:1001,nativeAdserverPlacementInvalid:1002,overrideRenderFormatFailed:1003,noNativeRenderer:1004,noSkinRenderer:1005,skinFrameNullDocument:1006,skinPageWrapNotFound:1007,skinPageContentNotFound:1008,skinDomElementNotFound:1009,unsupportedRenderableContent:1010,iframeDocumentNotFound:1011,iasResponseValidationFailed:1012,sandboxHostFrameWindowNotAvailable:1013,sandboxHostRenderWithoutChannel:1014,safeframeHostFrameWindowNotAvailable:1015,sandboxClientPlacementIdNotFound:1016,consentManagementError:1017,noNativePayload:1018,overrideRichMediaOptionsFailed:1019,overrideDisplayFormatFailed:1020,generateNativeOrtbRequestFailed:1022,customRichMediaNullDocument:1023,customRichMediaPageWrapNotFound:1024,renderingFailed:1049,amazonRenderingFailed:1050,elementMeasurementFailed:2001,publisherConfigNotFound:3e3,contextNotProvided:3001,videoWrapperDivNotFound:4200,vastContentNotFound:4201,outstreamPlayerLoadingFailed:4202,noPublisherIdForVimp:4203,outstreamPlayerError:4204,instreamCacheServiceRequestError:5e3,instreamConfigurationError:5001,instreamCacheIdMissing:5003,amazonCpmMappingError:6e3,secondChanceError:8e3,visitsProviderError:9e3};class a extends Error{code;source;constructor(e,t,r){r?super(r):t instanceof Error?super(t.message):super(t),this.code=e,t instanceof Error&&(this.source=t),(0,n.g)(Error.captureStackTrace)?Error.captureStackTrace(this,this.constructor):this.stack=new Error(r).stack}}class s extends a{secondaryCode;constructor(e,t,r){super(e,t),this.secondaryCode="unknown",(0,n.m)(t)&&(0,n.m)(t.j)?(this.message=`IMA Vast error - ${t.j.errorCode} - ${t.j.type}: ${t.j.innerError??t.j.errorMessage} - VAST: ${r}`,((0,n.q)(t.j.errorCode)||(0,n.l)(t.j.errorCode))&&(this.secondaryCode=`${t.j.errorCode}`)):this.message=`Vast error: ${t instanceof Error?t:JSON.stringify(t)} - VAST: ${r}`}}},(e,t,r)=>{r.d(t,{a:()=>re});var n=r(0),i=r(6),a=r(80),s=r(33),o=r(34),d=r(2);function c(e,{index:t=re.index}={}){const r=e.vastXml?e.vastXml:`<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[${e.vastUrl}]]></VASTAdTagURI>\n        <Impression>${(n=e.vastImpUrl)?`<![CDATA[${n}]]>`:""}</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>`;var n;const i=t.getAuction(e);let a={type:"xml",value:r,ttlseconds:Number(e.ttl)+15};return d.b.getConfig("cache.vasttrack")&&(a.bidder=e.bidder,a.bidid=e.requestId,a.aid=e.auctionId),null!=i&&(a.timestamp=i.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(a.key=e.customCacheKey),a}var l=r(84),p=r(45),u=r(9),m=r(4),b=r(47),f=r(46),h=r(18),g=r(21),v=r(23),y=r(5),I=r(15),T=r(25),_=r(86),w=r(14);const{syncUsers:S}=p.userSync,R="completed";g.on(y.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){let t=(0,_.a)(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));const x={},C={},E=[],A=(0,w.a)();function k({adUnits:e,adUnitCodes:t,callback:r,cbTimeout:s,labels:o,auctionId:c,ortb2Fragments:p,metrics:u}){u=(0,T.d)(u);const h=e,_=o,w=t,k=c||(0,n.q)(),P=s,U=new Set,q=(0,I.b)();let N,z,L,H,X=[],W=r,G=[],Y=[],K=[],Z=[],Q=[];function ee(){return{auctionId:k,timestamp:N,auctionEnd:z,auctionStatus:H,adUnits:h,adUnitCodes:w,labels:_,bidderRequests:G,noBids:K,bidsReceived:Y,bidsRejected:X,winningBids:Z,timeout:P,metrics:u,seatNonBids:Q}}function te(t){if(t?g.emit(y.EVENTS.AUCTION_TIMEOUT,ee()):clearTimeout(L),void 0===z){let r=[];t&&((0,n.Z)(`Auction ${k} timedOut`),r=G.filter((e=>!U.has(e.bidderRequestId))).flatMap((e=>e.bids)),r.length&&g.emit(y.EVENTS.BID_TIMEOUT,r)),H=R,z=Date.now(),u.checkpoint("auctionEnd"),u.timeBetween("requestBids","auctionEnd","requestBids.total"),u.timeBetween("callBids","auctionEnd","requestBids.callBids"),q.resolve(),g.emit(y.EVENTS.AUCTION_END,ee()),M(h,(function(){try{if(null!=W){const e=Y.filter((e=>w.includes(e.adUnitCode))).reduce(J,{});W.apply(A,[e,t,k]),W=null}}catch(e){(0,n.X)("Error executing bidsBackHandler",null,e)}finally{r.length&&v.a.callTimedOutBidders(e,r,P);let t=d.b.getConfig("userSync")||{};t.enableOverride||S(t.syncDelay)}}))}}function ne(){d.b.resetBidder(),(0,n.Y)(`Bids Received for Auction with id: ${k}`,Y),H=R,te(!1)}function ie(e){U.add(e)}function ae(e){e.forEach((e=>{var t;t=e,G=G.concat(t)}));let t={},r={bidRequests:e,run:()=>{L=setTimeout((()=>te(!0)),P),H="inProgress",g.emit(y.EVENTS.AUCTION_INIT,ee());let r=function(e,t,{index:r=re.index}={}){let s=0,o=!1,c=new Set,p={};function u(){s--,o&&0===s&&e()}function h(e,t,r){return p[t.requestId]=!0,function(e,t,{index:r=re.index}={}){const i=r.getBidderRequest(e),a=r.getAdUnit(e),s=i&&i.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,n.lb)(),requestTimestamp:e.requestTimestamp||s,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=a?.ttlBuffer&&(e.ttlBuffer=a.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),s++,r(u)}function v(e,r){h(e,r,(e=>{let s=function(e,{index:t=re.index}={}){g.emit(y.EVENTS.BID_ADJUSTMENT,e);const r=t.getBidRequest(e)?.renderer||t.getAdUnit(e).renderer,n=e.mediaType,i=t.getMediaTypes(e),s=i&&i[n];var o=s&&s.renderer,c=null;o&&o.url&&o.render&&(!0!==o.backupOnly||!e.renderer)?c=o:r&&r.url&&r.render&&(!0!==r.backupOnly||!e.renderer)&&(c=r),c&&(e.renderer=l.a.install({url:c.url,config:c.options}),e.renderer.setRender(c.render));const p=j(e.mediaType,i,d.b.getConfig("mediaTypePriceGranularity")),u=(0,a.a)(e.cpm,"object"==typeof p?p:d.b.getConfig("customPriceBucket"),d.b.getConfig("currency.granularityMultiplier"));return e.pbLg=u.low,e.pbMg=u.med,e.pbHg=u.high,e.pbAg=u.auto,e.pbDg=u.dense,e.pbCg=u.custom,e}(r);g.emit(y.EVENTS.BID_ACCEPTED,s),s.mediaType===f.d?function(e,t,r,{index:a=re.index}={}){let s=!0;const o=(0,i.a)(a.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),c=o&&(0,i.a)(o,"context"),l=o&&(0,i.a)(o,"useCacheKey");d.b.getConfig("cache.url")&&(l||c!==b.b)&&(!t.videoCacheKey||d.b.getConfig("cache.ignoreBidderCacheKey")?(s=!1,$(e,t,r,o)):t.vastUrl||((0,n.X)("videoCacheKey specified but not required vastUrl for video bid"),s=!1)),s&&(O(e,t),r())}(t,s,e):(null!=s.native&&"object"==typeof s.native&&V(s),O(t,s),e())}))}function T(e,r,i){return h(e,r,(e=>{r.rejectionReason=i,(0,n._)(`Bid from ${r.bidder||"unknown bidder"} was rejected: ${i}`,r),g.emit(y.EVENTS.BID_REJECTED,r),t.addBidRejected(r),e()}))}function _(){let r=t.getBidRequests();const i=d.b.getConfig("auctionOptions");if(c.add(this),i&&!(0,n.O)(i)){const e=i.secondaryBidders;e&&!r.every((t=>(0,m.c)(e,t.bidderCode)))&&(r=r.filter((t=>!(0,m.c)(e,t.bidderCode))))}o=r.every((e=>c.has(e))),this.bids.forEach((e=>{p[e.bidId]||(t.addNoBid(e),g.emit(y.EVENTS.NO_BID,e))})),o&&0===s&&e()}return{addBidResponse:function(){function e(e,t){F.call({dispatch:v},e,t,(()=>{let r=!1;return n=>{r||(T(e,t,n),r=!0)}})())}return e.reject=T,e}(),adapterDone:function(){D(I.a.resolve()).finally((()=>_.call(this)))}}}(ne,this);v.a.callBids(h,e,r.addBidResponse,r.adapterDone,{request(e,r){o(x,r),o(t,e),C[e]||(C[e]={SRA:!0,origin:r}),t[e]>1&&(C[e].SRA=!1)},done(e){x[e]--,E[0]&&s(E[0])&&E.shift()}},P,ie,p)}};function s(e){let t=!0,r=d.b.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((e=>{let n=1,i=void 0!==e.src&&e.src===y.S2S.SRC?"s2s":e.bidderCode;return C[i]&&(!1===C[i].SRA&&(n=Math.min(e.bids.length,r)),x[C[i].origin]+n>r&&(t=!1)),!t})),t&&e.run(),t}function o(e,t){void 0===e[t]?e[t]=1:e[t]++}s(r)||((0,n._)("queueing auction due to limited endpoint capacity"),E.push(r))}return g.on(y.EVENTS.SEAT_NON_BID,(e=>{var t;e.auctionId===k&&(t=e.seatnonbid,Q=Q.concat(t))})),{addBidReceived:function(e){Y=Y.concat(e)},addBidRejected:function(e){X=X.concat(e)},addNoBid:function(e){K=K.concat(e)},callBids:function(){H="started",N=Date.now();let e=u.measureTime("requestBids.makeRequests",(()=>v.a.makeBidRequests(h,N,k,P,_,p,u)));(0,n.Y)(`Bids Requested for Auction with id: ${k}`,e),u.checkpoint("callBids"),e.length<1?((0,n._)("No valid bid requests returned for auction"),ne()):B.call({dispatch:ae,context:this},e)},addWinningBid:function(t){const r=e.find((e=>e.transactionId===t.transactionId));Z=Z.concat(t),(0,n.e)(t),v.a.callBidWonBidder(t.adapterCode||t.bidder,t,e),r&&!r.deferBilling&&v.a.callBidBillableBidder(t)},setBidTargeting:function(e){v.a.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>Z,getAuctionStart:()=>N,getAuctionEnd:()=>z,getTimeout:()=>P,getAuctionId:()=>k,getAuctionStatus:()=>H,getAdUnits:()=>h,getAdUnitCodes:()=>w,getBidRequests:()=>G,getBidsReceived:()=>Y,getNoBids:()=>K,getNonBids:()=>Q,getFPD:()=>p,getMetrics:()=>u,end:q.promise}}const F=(0,u.b)("sync",(function(e,t){this.dispatch.call(null,e,t)}),"addBidResponse"),D=(0,u.b)("sync",(e=>e),"responsesReady"),B=(0,u.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),M=(0,u.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function O(e,t){!function(e){let t;const r=!0===h.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(r||e.dealId)&&(t=function(e,t,{index:r=re.index}={}){if(!t)return{};const n=r.getBidRequest(t);var i={};return K(i,Y(t.mediaType,e),t,n),e&&h.a.getOwn(e,y.JSON_MAPPING.ADSERVER_TARGETING)&&(K(i,h.a.ownSettingsFor(e),t,n),t.sendStandardTargeting=h.a.get(e,"sendStandardTargeting")),t.native&&(i=Object.assign({},i,(0,s.g)(t))),i}(e.bidderCode,e)),e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,T.d)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),g.emit(y.EVENTS.BID_RESPONSE,t)}const V=e=>{const t=re.index.getAdUnit(e)?.nativeOrtbRequest,r=e.native?.ortb;if(t&&r){const n=(0,s.j)(r,t);Object.assign(e.native,n)}},P=e=>{!function(e,t,r=o.a){const n={puts:e.map(c)};r(d.b.getConfig("cache.timeout"))(d.b.getConfig("cache.url"),function(e){return{success:function(t){let r;try{r=JSON.parse(t).responses}catch(t){return void e(t,[])}r?e(null,r):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,r){e(new Error(`Error storing video ad in the cache: ${t}: ${JSON.stringify(r)}`),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})}(e.map((e=>e.bidResponse)),(function(t,r){r.forEach(((r,i)=>{const{auctionInstance:a,bidResponse:s,afterBidAdded:o}=e[i];var c;t?(0,n._)(`Failed to save to the video cache: ${t}. Video bid must be discarded.`):""===r.uuid?(0,n._)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(s.videoCacheKey=r.uuid,s.vastUrl||(s.vastUrl=(c=s.videoCacheKey,`${d.b.getConfig("cache.url")}?uuid=${c}`)),O(a,s),o())}))}))};let U,q;d.b.getConfig("cache",(e=>{U="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,q="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));const N=((e=setTimeout,t=P)=>{let r=[[]],n=!1;const i=e=>e();return function(a,s,o){const d=q>0?e:i;r[r.length-1].length>=U&&r.push([]),r[r.length-1].push({auctionInstance:a,bidResponse:s,afterBidAdded:o}),n||(n=!0,d((()=>{r.forEach(t),r=[[]],n=!1}),q))}})(),$=(0,u.b)("async",(function(e,t,r){N(e,t,r)}),"callPrebidCache");function j(e,t,r){if(e&&r){if(e===f.d){const e=(0,i.a)(t,`${f.d}.context`,"instream");if(r[`${f.d}-${e}`])return r[`${f.d}-${e}`]}return r[e]}}const z=e=>t=>{const r=e||((e,{index:t=re.index}={})=>{const r=j(e.mediaType,t.getMediaTypes(e),d.b.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":d.b.getConfig("priceGranularity")})(t);return r===y.GRANULARITY_OPTIONS.AUTO?t.pbAg:r===y.GRANULARITY_OPTIONS.DENSE?t.pbDg:r===y.GRANULARITY_OPTIONS.LOW?t.pbLg:r===y.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:r===y.GRANULARITY_OPTIONS.HIGH?t.pbHg:r===y.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0},L=()=>e=>e.creativeId?e.creativeId:"",H=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:"",X=()=>e=>e.meta&&(e.meta.networkId||e.meta.networkName)?(0,i.a)(e,"meta.networkName")||(0,i.a)(e,"meta.networkId"):"",W=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"";function G(e,t){return{key:e,val:"function"==typeof t?function(e,r){return t(e,r)}:function(e){return(0,n.z)(e,t)}}}function Y(e,t){const r=y.TARGETING_KEYS,a=Object.assign({},h.a.settingsFor(null));if(a[y.JSON_MAPPING.ADSERVER_TARGETING]||(a[y.JSON_MAPPING.ADSERVER_TARGETING]=function(){const e=y.TARGETING_KEYS;return[G(e.BIDDER,"bidderCode"),G(e.AD_ID,"adId"),G(e.PRICE_BUCKET,z()),G(e.SIZE,"size"),G(e.DEAL,"dealId"),G(e.SOURCE,"source"),G(e.FORMAT,"mediaType"),G(e.ADOMAIN,H()),G(e.ACAT,W()),G(e.DSP,X()),G(e.CRID,L())]}()),"video"===e){const e=a[y.JSON_MAPPING.ADSERVER_TARGETING].slice();if(a[y.JSON_MAPPING.ADSERVER_TARGETING]=e,[r.UUID,r.CACHE_ID].forEach((t=>{void 0===(0,m.b)(e,(e=>e.key===t))&&e.push(G(t,"videoCacheKey"))})),d.b.getConfig("cache.url")&&(!t||!1!==h.a.get(t,"sendStandardTargeting"))){const t=(0,n.eb)(d.b.getConfig("cache.url"));void 0===(0,m.b)(e,(e=>e.key===r.CACHE_HOST))&&e.push(G(r.CACHE_HOST,(function(e){return(0,i.a)(e,`adserverTargeting.${r.CACHE_HOST}`)?e.adserverTargeting[r.CACHE_HOST]:t.hostname})))}}return a}function K(e,t,r,i){var a=t[y.JSON_MAPPING.ADSERVER_TARGETING];return r.size=r.getSize(),(a||[]).forEach((function(a){var s=a.key,o=a.val;if(e[s]&&(0,n._)("The key: "+s+" is being overwritten"),(0,n.P)(o))try{o=o(r,i)}catch(e){(0,n.X)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&s!==y.TARGETING_KEYS.DEAL&&s!==y.TARGETING_KEYS.ACAT&&s!==y.TARGETING_KEYS.DSP&&s!==y.TARGETING_KEYS.CRID||!(0,n.N)(o)&&null!=o?e[s]=o:(0,n.Y)("suppressing empty key '"+s+"' from adserver targeting")})),e}function J(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function Z(e){Object.assign(this,{getAuction({auctionId:t}){if(null!=t)return e().find((e=>e.getAuctionId()===t))},getAdUnit({transactionId:t}){if(null!=t)return e().flatMap((e=>e.getAdUnits())).find((e=>e.transactionId===t))},getMediaTypes({transactionId:e,requestId:t}){if(null!=t){const r=this.getBidRequest({requestId:t});if(null!=r&&(null==e||r.transactionId===e))return r.mediaTypes}else if(null!=e){const t=this.getAdUnit({transactionId:e});if(null!=t)return t.mediaTypes}},getBidderRequest({requestId:t,bidderRequestId:r}){if(null!=t||null!=r){let n=e().flatMap((e=>e.getBidRequests()));return null!=r&&(n=n.filter((e=>e.bidderRequestId===r))),null==t?n[0]:n.find((e=>e.bids&&null!=e.bids.find((e=>e.bidId===t))))}},getBidRequest({requestId:t}){if(null!=t)return e().flatMap((e=>e.getBidRequests())).flatMap((e=>e.bids)).find((e=>e&&e.bidId===t))}})}var Q=r(113),ee=r(83);const te="minBidCacheTTL",re=function(){let e=null;const t=(0,Q.a)({startTime:e=>e.end.then((()=>e.getAuctionEnd())),ttl:t=>null==e?null:t.end.then((()=>1e3*Math.max(e,...t.getBidsReceived().map(ee.a))))});(0,ee.b)((()=>{null!=e&&t.refresh()})),d.b.getConfig(te,(r=>{const n=e;e=r?.[te],e="number"==typeof e?e:null,n!==e&&t.refresh()}));const r={};function i(e){for(const r of t)if(r.getAuctionId()===e)return r}function a(){return t.toArray().flatMap((e=>e.getBidsReceived()))}return r.addWinningBid=function(e){const t=(0,T.d)(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");const r=i(e.auctionId);r?(e.status=y.BID_STATUS.RENDERED,r.addWinningBid(e)):(0,n._)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:e=>e.getAuctionStatus()===R},getAdUnitCodes:{post:n.ob}}).forEach((([e,{name:n=e,pre:i,post:a}])=>{const s=null==i?e=>e[n]():e=>i(e)?e[n]():[],o=null==a?e=>e:e=>e.filter(a);r[e]=()=>o(t.toArray().flatMap(s))})),r.getAllBidsForAdUnitCode=function(e){return a().filter((t=>t&&t.adUnitCode===e))},r.createAuction=function(e){const r=k(e);return function(e){t.add(e)}(r),r},r.findBidByAdId=function(e){return a().find((t=>t.adId===e))},r.getStandardBidderAdServerTargeting=function(){return Y()[y.JSON_MAPPING.ADSERVER_TARGETING]},r.setStatusForBids=function(e,t){let n=r.findBidByAdId(e);if(n&&(n.status=t),n&&t===y.BID_STATUS.BID_TARGETING_SET){const e=i(n.auctionId);e&&e.setBidTargeting(n)}},r.getLastAuctionId=function(){const e=t.toArray();return e.length&&e[e.length-1].getAuctionId()},r.clearAllAuctions=function(){t.clear()},r.index=new Z((()=>t.toArray())),r}()},(e,t,r)=>{r.d(t,{a:()=>d,b:()=>s,c:()=>c});var n=r(70),i=r.n(n),a=r(15);let s=i()({ready:i().SYNC|i().ASYNC|i().QUEUE});const o=(0,a.b)();s.ready=(()=>{const e=s.ready;return function(){try{return e.apply(s,arguments)}finally{o.resolve()}}})(),o.promise;const d=s.get;function c(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((t=>[t,{get:()=>e[t]}])))),t}},(e,t,r)=>{r.d(t,{a:()=>l});var n=r(27),i=r(7),a=r(3),s=r(1);const{warn:o,error:d}=a.a.tag("errors"),c=(e,t,r,i,...a)=>{if(n.d.value){const o=`${t} \n ${a.filter((e=>(0,s.q)(e))).join("\n")}`;n.d.value({errorCode:e,message:o,stack:r,secondaryCode:i})}else o(`trying to report error code #${e} but error reporting module was not setup`);d(`#${e}:`,t,r,...a)},l=(e,...t)=>{if(e instanceof i.c){const r=`${e.source?e.source.stack:e.stack}`;return c(e.code,e.message,r,e.secondaryCode,...t)}if(e instanceof i.b){const r=`${e.source?e.source.stack:e.stack}`;return c(e.code,e.message,r,void 0,...t)}const r=`${e.stack}`;c(i.a.unexpected,e.message,r,void 0,...t)}},(e,t,r)=>{var n=r(3);const{error:i}=n.a.tag("assert")},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(43);const i=e=>{let t;return(...r)=>(t??=n.a.tryCatch((()=>e(...r))),t.get())}},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>n});const n=e=>new Promise((t=>setTimeout(t,1e3*e))),i=()=>{let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}}},(e,t,r)=>{r.d(t,{a:()=>a});const n=window,i=n.hubjs=n.hubjs||{};function a(){return i}i.cmd=i.cmd||[],i.que=i.que||[],n===window&&(n._pbjsGlobals=n._pbjsGlobals||[],n._pbjsGlobals.push("hubjs"))},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>s});const n=0,i=1;class a{#e;#t;static timeout(e=0){return new a((t=>{0===e?t():setTimeout(t,e)}))}constructor(e){if("function"!=typeof e)throw new Error("resolver not a function");const t=[],r=[];let[a,s]=[n,i].map((e=>function(i){if(e===n&&"function"==typeof i?.then)i.then(a,s);else if(!t.length)for(t.push(e,i);r.length;)r.shift()()}));try{e(a,s)}catch(e){s(e)}this.#e=t,this.#t=r}then(e,t){const r=this.#e;return new this.constructor(((i,a)=>{const s=()=>{let s=r[1],[o,d]=r[0]===n?[e,i]:[t,a];if("function"==typeof o){try{s=o(s)}catch(e){return void a(e)}d=i}d(s)};r.length?s():this.#t.push(s)}))}catch(e){return this.then(null,e)}finally(e){let t;return this.then((r=>(t=r,e())),(r=>(t=this.constructor.reject(r),e()))).then((()=>t))}static#r(e,t,r){let n=e.length;function i(){t.apply(this,arguments),--n<=0&&r&&r()}0===e.length&&r?r():e.forEach(((e,t)=>this.resolve(e).then((e=>i(!0,e,t)),(e=>i(!1,e,t)))))}static race(e){return new this(((t,r)=>{this.#r(e,((e,n)=>e?t(n):r(n)))}))}static all(e){return new this(((t,r)=>{let n=[];this.#r(e,((e,t,i)=>e?n[i]=t:r(t)),(()=>t(n)))}))}static allSettled(e){return new this((t=>{let r=[];this.#r(e,((e,t,n)=>r[n]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}),(()=>t(r)))}))}static resolve(e){return new this((t=>t(e)))}static reject(e){return new this(((t,r)=>r(e)))}}function s({promiseFactory:e=(e=>new a(e))}={}){function t(e){return t=>e(t)}let r,n;return{promise:e(((e,t)=>{r=e,n=t})),resolve:t(r),reject:t(n)}}},(e,t,r)=>{r.d(t,{a:()=>d,b:()=>m,c:()=>o,d:()=>s,e:()=>a,f:()=>c,g:()=>p,h:()=>u,i:()=>l,j:()=>b});var n=r(17),i=r(9);const a="component",s=a+"Type",o=a+"Name",d="adapterCode",c="storageType",l="configName",p="syncType",u="syncUrl",m="_config";function b(e){return function(t,r,i){const c={[s]:t,[o]:r,[a]:`${t}.${r}`};return t===n.b&&(c[d]=e(r)),f(Object.assign(c,i))}}const f=(0,i.b)("sync",(e=>e))},(e,t,r)=>{r.d(t,{a:()=>o,b:()=>i,c:()=>n,d:()=>s,e:()=>a});const n="prebid",i="bidder",a="userId",s="rtd",o="analytics"},(e,t,r)=>{r.d(t,{a:()=>o});var n=r(6),i=r(0),a=r(14),s=r(5);const o=new class{constructor(e,t){this.getSettings=e,this.defaultScope=t}get(e,t){let r=this.getOwn(e,t);return void 0===r&&(r=this.getOwn(null,t)),r}getOwn(e,t){return e=this.#n(e),(0,n.a)(this.getSettings(),`${e}.${t}`)}getScopes(){return Object.keys(this.getSettings()).filter((e=>e!==this.defaultScope))}settingsFor(e){return(0,i.ab)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=this.#n(e),this.getSettings()[e]||{}}#n(e){return e??this.defaultScope}}((()=>(0,a.a)().bidderSettings||{}),s.JSON_MAPPING.BD_SETTING_STANDARD)},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>s});var n=r(13),i=r(1);const a=({interval:e,maxTryCount:t})=>{let r=1;return async()=>!((0,i.i)(t)&&r>=t||(await(0,n.b)(e),r+=1,0))},s=async(e,t)=>{let r=!0;do{const n=await t();if((0,i.i)(n))return n;r=await e()}while(r)}},(e,t,r)=>{r.d(t,{a:()=>o,b:()=>s});var n=r(13),i=r(12);const a=(0,n.a)(),s=a.promise,o=(0,i.a)((e=>{a.resolve(e)}))},(e,t,r)=>{r.r(t),r.d(t,{addEvents:()=>I,clearEvents:()=>_,emit:()=>y,get:()=>g,getEvents:()=>v,has:()=>T,off:()=>h,on:()=>f});var n=r(0),i=r(5),a=r(113),s=r(2);const o="eventHistoryTTL";let d=null;const c=(0,a.a)({monotonic:!0,ttl:()=>d});s.b.getConfig(o,(e=>{const t=d;e=e?.[o],d="number"==typeof e?1e3*e:null,t!==d&&c.refresh()}));let l=Array.prototype.slice,p=Array.prototype.push,u=Object.values(i.EVENTS);const m=i.EVENT_ID_PATHS,b=function(){let e={},t={};function r(e){return u.includes(e)}return t.has=r,t.on=function(t,i,a){if(r(t)){let r=e[t]||{que:[]};a?(r[a]=r[a]||{que:[]},r[a].que.push(i)):r.que.push(i),e[t]=r}else n.X("Wrong event name : "+t+" Valid event names :"+u)},t.emit=function(t){!function(t,r){n.Z("Emitting event for: "+t);let i=r[0]||{},a=i[m[t]],s=e[t]||{que:[]};var o=Object.keys(s);let d=[];c.add({eventType:t,args:i,id:a,elapsedTime:n.w()}),a&&o.includes(a)&&p.apply(d,s[a].que),p.apply(d,s.que),(d||[]).forEach((function(e){if(e)try{e.apply(null,r)}catch(e){n.X("Error executing handler:","events.js",e,t)}}))}(t,l.call(arguments,1))},t.off=function(t,r,i){let a=e[t];n.O(a)||n.O(a.que)&&n.O(a[i])||i&&(n.O(a[i])||n.O(a[i].que))||(i?(a[i].que||[]).forEach((function(e){let t=a[i].que;e===r&&t.splice(t.indexOf(e),1)})):(a.que||[]).forEach((function(e){let t=a.que;e===r&&t.splice(t.indexOf(e),1)})),e[t]=a)},t.get=function(){return e},t.addEvents=function(e){u=u.concat(e)},t.getEvents=function(){return c.toArray().map((e=>Object.assign({},e)))},t}();n.b(b.emit.bind(b));const{on:f,off:h,get:g,getEvents:v,emit:y,addEvents:I,has:T}=b;function _(){c.clear()}},(e,t,r)=>{r.d(t,{a:()=>s,b:()=>a});var n=r(0),i=r(16);const[a,s]=function(e=(0,n.gb)("Activity control:")){const t={};function r(e){return t[e]=t[e]||[]}function a(t,r,n,a){let s;try{s=n(a)}catch(n){e.logError(`Exception in rule ${r} for '${t}'`,n),s={allow:!1,reason:n}}return s&&Object.assign({activity:t,name:r,component:a[i.e]},s)}const s={};function o({activity:t,name:r,allow:n,reason:i,component:a}){const o=`${r} ${n?"allowed":"denied"} '${t}' for '${a}'${i?":":""}`,d=s.hasOwnProperty(o);if(d&&clearTimeout(s[o]),s[o]=setTimeout((()=>delete s[o]),1e3),!d){const t=[o];i&&t.push(i),(n?e.logInfo:e.logWarn).apply(e,t)}}return[function(e,t,n,i=10){const a=r(e),s=a.findIndex((([e])=>i<e)),o=[i,t,n];return a.splice(s<0?a.length:s,0,o),function(){const e=a.indexOf(o);e>=0&&a.splice(e,1)}},function(e,t){let n,i;for(const[s,d,c]of r(e)){if(n!==s&&i)break;n=s;const r=a(e,d,c,t);if(r){if(!r.allow)return o(r),!1;i=r}}return i&&o(i),!0}]}()},(e,t,r)=>{r.d(t,{a:()=>X,b:()=>$});var n=r(0),i=r(6),a=r(33),s=r(76),o=r(34),d=r(2),c=r(9),l=r(4),p=r(82),u=r(48),m=r(71),b=r(21),f=r(5),h=r(25),g=r(8),v=r(17),y=r(22),I=r(24),T=r(16);const _=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((e=>`user.${e}`)).concat("device.ext.cdep"),w=["user.eids","user.ext.eids"],S=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function R(e){return Object.assign({get(){},run(e,t,r,n,i){const a=r&&r[n];if(function(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}(a)&&i()){const e=this.get(a);void 0===e?delete r[n]:r[n]=e}}},e)}function x(e){return e.forEach((e=>{e.paths=e.paths.map((e=>{const t=e.split("."),r=t.pop();return[t.length>0?t.join("."):null,r]}))})),function(t,r,...n){const a=[],s=function(e,...t){return function(r){return e.hasOwnProperty(r.name)||(e[r.name]=!!r.applies(...t)),e[r.name]}}(t,...n);return e.forEach((e=>{if(!1!==t[e.name])for(const[n,o]of e.paths){const d=null==n?r:(0,i.a)(r,n);if(a.push(e.run(r,n,d,o,s.bind(null,e))),!1===t[e.name])return}})),a.filter((e=>null!=e))}}function C(e,t=y.a){return function(r){return!t(e,r)}}const E=function(e=y.a){const t=x(function(e=y.a){return[{name:I.j,paths:_,applies:C(I.j,e)},{name:I.g,paths:w,applies:C(I.g,e)},{name:I.h,paths:S,applies:C(I.h,e),get:e=>Math.round(100*(e+Number.EPSILON))/100},{name:I.i,paths:["source.tid"],applies:C(I.i,e)}].map(R)}(e)),r=x(function(e=y.a){return[{name:I.g,paths:["userId","userIdAsEids"],applies:C(I.g,e)},{name:I.i,paths:["ortb2Imp.ext.tid"],applies:C(I.i,e)}].map(R)}(e));return function(e){const n={};return{ortb2:r=>(t(n,r,e),r),bidRequest:t=>(r(n,t,e),t)}}}();(0,y.b)(I.i,"enableTIDs config",(()=>{if(!d.b.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}));const A="pbsBidAdapter",k={CLIENT:"client",SERVER:"server"},F={isAllowed:y.a,redact:E};let D={},B=D.bidderRegistry={},M=D.aliasRegistry={},O=[];d.b.getConfig("s2sConfig",(e=>{e&&e.s2sConfig&&(O=(0,n.L)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var V={};const P=(0,T.j)((e=>D.resolveAlias(e))),U=(0,c.b)("sync",(function({bidderCode:e,auctionId:t,bidderRequestId:r,adUnits:a,src:s,metrics:o}){return a.reduce(((a,d)=>{const c=d.bids.filter((t=>t.bidder===e));return null==e&&0===c.length&&null!=d.s2sBid&&c.push({bidder:null}),a.push(c.reduce(((e,a)=>{const c=null==(a=Object.assign({},a,{ortb2Imp:(0,n.ab)({},d.ortb2Imp,a.ortb2Imp)},(0,n.u)(d,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?d.mediaTypes:a.mediaTypes;return(0,n.W)(c)?a=Object.assign({},a,{mediaTypes:c}):(0,n.X)(`mediaTypes is not correctly configured for adunit ${d.code}`),e.push(Object.assign({},a,{adUnitCode:d.code,transactionId:d.transactionId,sizes:(0,i.a)(c,"banner.sizes")||(0,i.a)(c,"video.playerSize")||[],bidId:a.bid_id||(0,n.x)(),bidderRequestId:r,auctionId:t,src:s,metrics:o,bidRequestsCount:p.a.getRequestsCounter(d.code),bidderRequestsCount:p.a.getBidderRequestsCounter(d.code,a.bidder),bidderWinsCount:p.a.getBidderWinsCounter(d.code,a.bidder)})),e}),[])),a}),[]).reduce(n.o,[]).filter((e=>""!==e))}),"getBids"),q=(0,c.b)("sync",(function(e,t,{getS2SBidders:r=$}={}){if(null==t)return e;{const n=r(t);return e.filter((e=>n.has(e.bidder)))}}),"filterBidsForAdUnit"),N=(0,c.b)("sync",(e=>e),"setupAdUnitMediaTypes");function $(e){(0,n.L)(e)||(e=[e]);const t=new Set([null]);return e.filter((e=>e&&e.enabled)).flatMap((e=>e.bidders)).forEach((e=>t.add(e))),t}const j=(0,c.b)("sync",(function(e,t,{getS2SBidders:r=$}={}){const i=r(t);return(0,n.s)(e).reduce(((e,t)=>(e[i.has(t)?k.SERVER:k.CLIENT].push(t),e)),{[k.CLIENT]:[],[k.SERVER]:[]})}),"partitionBidders");function z(e,t){const r=B[e],n=r?.getSpec&&r.getSpec();if(n&&n[t]&&"function"==typeof n[t])return[n,n[t]]}function L(e,t,r,i,...a){try{(0,n.Y)(`Invoking ${e}.${t}`),d.b.runWithBidder(e,i.bind(r,...a))}catch(r){(0,n._)(`Error calling ${t} of ${e}`)}}function H(e,t,r){if(r?.src!==f.S2S.SRC){const n=z(e,t);null!=n&&L(e,t,...n,r)}}D.makeBidRequests=(0,c.b)("sync",(function(e,t,r,i,s,o={},c){c=(0,h.d)(c),b.emit(f.EVENTS.BEFORE_REQUEST_BIDS,e),(0,a.c)(e),e.forEach((e=>{(0,n.T)(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((e=>!e.bidder||F.isAllowed(I.d,P(v.b,e.bidder))))})),e=N(e,s);let{[k.CLIENT]:p,[k.SERVER]:g}=j(e,O);d.b.getConfig("bidderSequence")===d.a&&(p=(0,n.kb)(p));const y=(0,u.a)();let _=[];const w=o.global||{},S=o.bidder||{};function R(e,t){const i=F.redact(null!=t?t:P(v.b,e.bidderCode)),a=Object.freeze(i.ortb2((0,n.ab)({source:{tid:r}},w,S[e.bidderCode])));return e.ortb2=a,e.bids=e.bids.map((e=>(e.ortb2=a,i.bidRequest(e)))),e}O.forEach((i=>{const a=function(e){return P(v.c,A,{[T.i]:e.configName})}(i);if(i&&i.enabled&&F.isAllowed(I.d,a)){let{adUnits:s,hasModuleBids:o}=function(e,t){let r=(0,n.l)(e),i=!1;return r.forEach((e=>{const r=e.bids.filter((e=>e.module===A&&e.params?.configName===t.configName));1===r.length?(e.s2sBid=r[0],i=!0,e.ortb2Imp=(0,n.ab)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):r.length>1&&(0,n._)('Multiple "module" bids for the same s2s configuration; all will be ignored',r),e.bids=q(e.bids,t).map((e=>(e.bid_id=(0,n.x)(),e)))})),r=r.filter((e=>0!==e.bids.length||null!=e.s2sBid)),{adUnits:r,hasModuleBids:i}}(e,i),d=(0,n.q)();(0===g.length&&o?[null]:g).forEach((e=>{const o=(0,n.x)(),l=c.fork(),p=R({bidderCode:e,auctionId:r,bidderRequestId:o,uniquePbsTid:d,bids:U({bidderCode:e,auctionId:r,bidderRequestId:o,adUnits:(0,n.l)(s),src:f.S2S.SRC,metrics:l}),auctionStart:t,timeout:i.timeout,src:f.S2S.SRC,refererInfo:y,metrics:l},a);0!==p.bids.length&&_.push(p)})),s.forEach((e=>{let t=e.bids.filter((e=>(0,l.b)(_,(t=>(0,l.b)(t.bids,(t=>t.bidId===e.bid_id))))));e.bids=t})),_.forEach((e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=s.filter((e=>e.bids.length>0||null!=e.s2sBid)))}))}}));let x=function(e){let t=(0,n.l)(e);return t.forEach((e=>{e.bids=q(e.bids,null)})),t=t.filter((e=>0!==e.bids.length)),t}(e);return p.forEach((e=>{const a=(0,n.x)(),o=c.fork(),d=R({bidderCode:e,auctionId:r,bidderRequestId:a,bids:U({bidderCode:e,auctionId:r,bidderRequestId:a,adUnits:(0,n.l)(x),labels:s,src:"client",metrics:o}),auctionStart:t,timeout:i,refererInfo:y,metrics:o}),l=B[e];l||(0,n.X)(`Trying to make a request for bidder that does not exist: ${e}`),l&&d.bids&&0!==d.bids.length&&_.push(d)})),_.forEach((e=>{m.e.getConsentData()&&(e.gdprConsent=m.e.getConsentData()),m.g.getConsentData()&&(e.uspConsent=m.g.getConsentData()),m.f.getConsentData()&&(e.gppConsent=m.f.getConsentData())})),_}),"makeBidRequests"),D.callBids=(e,t,r,i,a,s,c,l={})=>{if(!t.length)return void(0,n._)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[p,u]=t.reduce(((e,t)=>(e[Number(void 0!==t.src&&t.src===f.S2S.SRC)].push(t),e)),[[],[]]);var m=[];u.forEach((e=>{for(var t=-1,r=0;r<m.length;++r)if(e.uniquePbsTid===m[r].uniquePbsTid){t=r;break}t<=-1&&m.push(e)}));let h=0;O.forEach((e=>{if(e&&m[h]&&$(e).has(m[h].bidderCode)){const t=(0,o.a)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0);let d=e.bidders;const p=B[e.adapter];let g=m[h].uniquePbsTid,v=m[h].adUnitsS2SCopy,y=u.filter((e=>e.uniquePbsTid===g));if(p){let a={ad_units:v,s2sConfig:e,ortb2Fragments:l};if(a.ad_units.length){let e=y.map((e=>(e.start=(0,n.lb)(),function(){c(e.bidderRequestId),i.apply(e,arguments)})));const s=(0,n.s)(a.ad_units).filter((e=>d.includes(e)));(0,n.Z)(`CALLING S2S HEADER BIDDERS ==== ${s.length>0?s.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only'}`),y.forEach((e=>{b.emit(f.EVENTS.BID_REQUESTED,{...e,tid:e.auctionId})})),p.callBids(a,u,r,(()=>e.forEach((e=>e()))),t)}}else(0,n.X)("missing "+e.adapter);h++}})),p.forEach((e=>{e.start=(0,n.lb)();const t=B[e.bidderCode];d.b.runWithBidder(e.bidderCode,(()=>{(0,n.Z)("CALLING BIDDER"),b.emit(f.EVENTS.BID_REQUESTED,e)}));let l=(0,o.a)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0);const p=i.bind(e);try{d.b.runWithBidder(e.bidderCode,t.callBids.bind(t,e,r,p,l,(()=>c(e.bidderRequestId)),d.b.callbackWithBidder(e.bidderCode)))}catch(t){(0,n.X)(`${e.bidderCode} Bid Adapter emitted an uncaught error when parsing their bidRequest`,{e:t,bidRequest:e}),p()}}))},D.videoAdapters=[],D.registerBidAdapter=function(e,t,{supportedMediaTypes:r=[]}={}){e&&t?"function"==typeof e.callBids?(B[t]=e,m.b.register(v.b,t,e.getSpec?.().gvlid),(0,l.c)(r,"video")&&D.videoAdapters.push(t),(0,l.c)(r,"native")&&a.h.push(t)):(0,n.X)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,n.X)("bidAdapter or bidderCode not specified")},D.aliasBidAdapter=function(e,t,r){if(void 0===B[t]){let i=B[e];if(void 0===i){const r=[];O.forEach((n=>{if(n.bidders&&n.bidders.length){const i=n&&n.bidders;n&&(0,l.c)(i,t)?M[t]=e:r.push(e)}})),r.forEach((e=>{(0,n.X)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{let o,d=function(e){let t=[];return(0,l.c)(D.videoAdapters,e)&&t.push("video"),(0,l.c)(a.h,e)&&t.push("native"),t}(e);if(i.constructor.prototype!=Object.prototype)o=new i.constructor,o.setBidderCode(t);else{let a=i.getSpec(),d=r&&r.gvlid;null!=a.gvlid&&null==d&&(0,n._)(`Alias '${t}' will NOT re-use the GVL ID of the original adapter ('${a.code}', gvlid: ${a.gvlid}). Functionality that requires TCF consent may not work as expected.`);let c=r&&r.skipPbsAliasing;o=(0,s.a)(Object.assign({},a,{code:t,gvlid:d,skipPbsAliasing:c})),M[t]=e}D.registerBidAdapter(o,t,{supportedMediaTypes:d})}catch(t){(0,n.X)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,n.Z)('alias name "'+t+'" has been already specified.')},D.resolveAlias=function(e){let t,r=e;for(;M[r]&&(!t||!t.has(r));)r=M[r],(t=t||new Set).add(r);return r},D.registerAnalyticsAdapter=function({adapter:e,code:t,gvlid:r}){e&&t?"function"==typeof e.enableAnalytics?(e.code=t,V[t]={adapter:e,gvlid:r},m.b.register(v.a,t,r)):(0,n.X)(`Prebid Error: Analytics adaptor error for analytics "${t}"\n        analytics adapter must implement an enableAnalytics() function`):(0,n.X)("Prebid Error: analyticsAdapter or analyticsCode not specified")},D.enableAnalytics=function(e){(0,n.L)(e)||(e=[e]),e.forEach((e=>{const t=V[e.provider];t&&t.adapter?F.isAllowed(I.e,P(v.a,e.provider,{[T.b]:e}))&&t.adapter.enableAnalytics(e):(0,n.X)(`Prebid Error: no analytics adapter found in registry for '${e.provider}'.`)}))},D.getBidAdapter=function(e){return B[e]},D.getAnalyticsAdapter=function(e){return V[e]},D.callTimedOutBidders=function(e,t,r){t=t.map((t=>(t.params=(0,n.y)(e,t.adUnitCode,t.bidder),t.timeout=r,t))),t=(0,n.C)(t,"bidder"),Object.keys(t).forEach((e=>{H(e,"onTimeout",t[e])}))},D.callBidWonBidder=function(e,t,r){t.params=(0,n.y)(r,t.adUnitCode,t.bidder),p.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),H(e,"onBidWon",t)},D.callBidBillableBidder=function(e){H(e.bidder,"onBidBillable",e)},D.callSetTargetingBidder=function(e,t){H(e,"onSetTargeting",t)},D.callBidViewableBidder=function(e,t){H(e,"onBidViewable",t)},D.callBidderError=function(e,t,r){H(e,"onBidderError",{error:t,bidderRequest:r})},D.callDataDeletionRequest=(0,c.b)("sync",(function(...e){const t="onDataDeletionRequest";Object.keys(B).filter((e=>!M.hasOwnProperty(e))).forEach((r=>{const n=z(r,t);if(null!=n){const i=g.a.getBidsRequested().filter((e=>function(e){const t=new Set;for(;M.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=M[e];return e}(e.bidderCode)===r));L(r,t,...n,i,...e)}})),Object.entries(V).forEach((([r,i])=>{const a=i?.adapter?.[t];if("function"==typeof a)try{a.apply(i.adapter,e)}catch(e){(0,n.X)(`error calling ${t} of ${r}`,e)}}))}));const X=D},(e,t,r)=>{r.d(t,{a:()=>n,b:()=>s,c:()=>a,d:()=>o,e:()=>d,f:()=>i,g:()=>c,h:()=>p,i:()=>u,j:()=>l});const n="accessDevice",i="syncUser",a="enrichUfpd",s="enrichEids",o="fetchBids",d="reportAnalytics",c="transmitEids",l="transmitUfpd",p="transmitPreciseGeo",u="transmitTid"},(e,t,r)=>{r.d(t,{a:()=>b,b:()=>h,c:()=>g,d:()=>m});var n=r(2);const i="performanceMetrics",a=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),s=new WeakMap;function o({now:e=a,mkNode:t=l,mkTimer:r=c,mkRenamer:n=(e=>e),nodes:i=s}={}){return function(){return function a(s,o=(e=>({forEach(t){t(e)}}))){o=n(o);const d=function(e){return s.dfWalk({visit(t,r){const n=r.timestamps;if(n.hasOwnProperty(e))return n[e]}})};function c(e,t){const r=o(e);s.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,n){r.forEach((r=>{null==e?n.metrics[r]=t:(n.groups.hasOwnProperty(r)||(n.groups[r]=[]),n.groups[r].push(t))}))}})}function l(t){return r(e,(e=>c(t,e)))}function p(){let e={};return s.dfWalk({visit(t,r){e=Object.assign({},!t||t.includeGroups?r.groups:null,r.metrics,e)}}),e}const u={startTiming:l,measureTime:function(e,t){return l(e).stopAfter(t)()},measureHookTime:function(e,t,r){const n=l(e);return r(function(e){const t=n.stopBefore(e);return t.bail=e.bail&&n.stopBefore(e.bail),t.stopTiming=n,t.untimed=e,t}(t))},checkpoint:function(t){s.timestamps[t]=e()},timeSince:function(t,r){const n=d(t),i=null!=n?e()-n:null;return null!=r&&c(r,i),i},timeBetween:function(e,t,r){const n=d(e),i=d(t),a=null!=n&&null!=i?i-n:null;return null!=r&&c(r,a),a},setMetric:c,getMetrics:p,fork:function({propagate:e=!0,stopPropagation:r=!1,includeGroups:n=!1}={}){return a(t([[s,{propagate:e,stopPropagation:r,includeGroups:n}]]),o)},join:function(e,{propagate:t=!0,stopPropagation:r=!1,includeGroups:n=!1}={}){const a=i.get(e);null!=a&&a.addParent(s,{propagate:t,stopPropagation:r,includeGroups:n})},newMetrics:function(){return a(s.newSibling(),o)},renameWith:function(e){return a(s,e)},toJSON:()=>p()};return i.set(u,s),u}(t([]))}}function d(e,t,r){return function(){t&&t();try{return e.apply(this,arguments)}finally{r&&r()}}}function c(e,t){const r=e();let n=!1;function i(){n||(t(e()-r),n=!0)}return i.stopBefore=e=>d(e,i),i.stopAfter=e=>d(e,null,i),i}function l(e){return{metrics:{},timestamps:{},groups:{},addParent(t,r){e.push([t,r])},newSibling:()=>l(e.slice()),dfWalk({visit:t,follow:r=(()=>!0),visited:n=new Set,inEdge:i}={}){let a;if(!n.has(this)){if(n.add(this),a=t(i,this),null!=a)return a;for(const[s,o]of e)if(r(i,o)&&(a=s.dfWalk({visit:t,follow:r,visited:n,inEdge:o}),null!=a))return a}}}}const p=(()=>{const e=function(){},t=()=>({}),r={forEach:e},n=()=>null;n.stopBefore=e=>e,n.stopAfter=e=>e;const i=Object.defineProperties({dfWalk:e,newSibling:()=>i,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((e=>[e,{get:t}]))));return o({now:()=>0,mkNode:()=>i,mkRenamer:()=>()=>r,mkTimer:()=>n,nodes:{get:e,set:e}})()})();let u=!0;function m(e){return u&&e||p}n.b.getConfig(i,(e=>{u=!!e[i]}));const b=(()=>{const e=o();return function(){return u?e():p}})();function f(e,t){return function(r,n){return function(i,...a){const s=this;return m(t.apply(s,a)).measureHookTime(e+r,i,(function(e){return n.call(s,e,...a)}))}}}const h=f("requestBids.",(e=>e.metrics)),g=f("addBidResponse.",((e,t)=>t.metrics))},(e,t,r)=>{r.d(t,{a:()=>s,b:()=>o});var n=r(1),i=r(49);class a{pushEvent;constructor(e){this.pushEvent=e}next(e){this.pushEvent(e)}}class s{factory;eventRetention=!1;observers=[];lastEvent=void 0;constructor(...e){if(0===e.length)this.factory=i.a;else if(2===e.length)this.factory=e[0],this.eventRetention=e[1];else{const t=e[0];(0,n.e)(t)?(this.eventRetention=t,this.factory=i.a):this.factory=t}this.eventRetention&&this.factory(new a(this.next.bind(this)))}next(e){for(const t of this.observers)t(e);this.lastEvent=e}get value(){return this.lastEvent}subscribe(e){this.eventRetention?(this.observers.push(e),void 0!==this.lastEvent&&e(this.lastEvent)):this.factory(new a(e))}pipe(e){return new s((t=>{this.subscribe((r=>{const n=e(r);void 0!==n&&t.next(n)}))}))}static of(e){return new s((async t=>{t.next(await e)}))}}const o=e=>new s((t=>{const r=[void 0,void 0];e.forEach(((e,n)=>{e.subscribe((e=>{r[n]=e;const[i,a]=r;void 0!==i&&void 0!==a&&t.next([i,a])}))}))}))},(e,t,r)=>{r.d(t,{a:()=>c,b:()=>l,c:()=>p,d:()=>d,e:()=>b,f:()=>m,g:()=>o,h:()=>s,i:()=>u});var n=r(106),i=r(44),a=r(107);const s=new n.a("Renderers"),o=new i.a,d=new i.a,c=new a.a("prebid-bid-formatters"),l=new a.a("bid-iab-vendorids"),p=new a.a("content-providers"),u=new Set,m=new i.a,b=new i.a},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>l,c:()=>d,d:()=>c,e:()=>a,f:()=>p,g:()=>s});var n=r(60);const i="production",a="production"===i,s="1.6.0-8602-g4de47d13e",o=["prv","beta"],d=(()=>{const e=!a;return o.reduce(((e,t)=>(0,n.a)(t)??e),void 0)??e})(),c=!d,l=()=>(0,n.a)("autorefresh")??!0,p=!a||(["prv","peek","gravity"].reduce(((e,t)=>(0,n.a)(t)??e),void 0)??!1)},(e,t,r)=>{r.d(t,{a:()=>R});var n=r(3),i=r(19),a=r(26),s=r(7);const{debug:o,info:d,error:c}=n.a.tag("cmp:api");var l=r(72),p=r(20),u=r(109),m=r(30),b=r(114),f=r(13),h=r(110),g=r(1);const v=e=>(0,g.m)(e)&&Object.values(e).every((e=>(0,g.e)(e))),y=e=>(0,g.m)(e)&&(0,g.n)(e.consents,v)&&(0,g.n)(e.legitimateInterests,v),I=e=>(0,g.m)(e)&&(0,g.n)(e.tcString,g.q)&&(0,g.n)(e.purpose,y)&&(0,g.n)(e.vendor,y);var T=r(32);const _=(0,f.a)(),w=new a.a((async e=>{(await(async({cmpTimeout:e,totalConsentTimeout:t})=>{d("started waiting for cmp...");const r=await(e=>{const t=Date.now();return o(`checking cmp... (timeout=${e}s)`),(0,i.b)((0,i.a)({interval:.1,maxTryCount:10*e}),(()=>{if(window.__tcfapi)return!0})).then((e=>{const r=Date.now()-t;return e?(o(`__tcfapi found in ${r/1e3}s`),{status:"found",elapsed:r}):(o(`no cmp found, timeout after ${r/1e3}s`),{status:"missing",elapsed:r})}))})(e);return"found"===r.status?(({cmpLatency:e,maxDuration:t})=>new a.a((r=>{d(`retrieving consent from __tcfapi (maxDuration=${t})`);const n=(()=>{let t=!0;const r=Date.now();return n=>{const i={...n,cmpLatency:t?e:0,consentLatency:t?Date.now()-r:0};return t=!1,i}})();try{new a.a((e=>{if(!window.__tcfapi)throw new Error("No CMP available for 'addEventListener'!");window.__tcfapi("addEventListener",2,((t,r)=>{r?e.next(t):c("__tcfapi call failed for command 'addEventListener'!")}))})).subscribe((e=>{(e=>{const t=e.eventStatus?.toLowerCase();return!!t&&("useractioncomplete"===t||"tcloaded"===t)})(e)&&r.next(n({tcData:e,cmpStatus:"useractioncomplete"===e.eventStatus?.toLowerCase()?"user":"loaded"}))}))}catch(e){return reportError(new s.b(s.a.consentManagementError,e)),r.next(n({cmpStatus:"error"}))}})))({cmpLatency:r.elapsed,maxDuration:t-r.elapsed}):a.a.of({cmpStatus:"missing",cmpLatency:r.elapsed,consentLatency:0})})(await _.promise)).subscribe((t=>{e.next(t)}))}),!0),S=(0,h.a)({cmp:w,storagePolicy:a.a.of(u.a)},{name:"consent",assumeConsentBeforeCmp:!1}),R=new m.a({name:"turbo-cmp",expirationInterval:2592e3,storageType:()=>S,stream:()=>w,customEncoder:(()=>{const e=(0,T.a)((0,b.a)(I));return{encode:e=>{if(!e.value.tcData)return null;const t={value:e.value.tcData,fetchTime:e.fetchTime};return JSON.stringify(t)},decode:t=>{const r=e(JSON.parse(t));if(!r.value)throw new Error(`stored data does not contain appropriate consent and will be ignored: "${t}"`);return{fetchTime:r.fetchTime,value:{cmpStatus:"cached",tcData:r.value,cmpLatency:0,consentLatency:0}}}}})()});_.promise,p.b.then((e=>{const{consentTimeout:t,cmpTimeout:r}=e.consent;_.resolve({totalConsentTimeout:t,cmpTimeout:r})})),(0,f.b)(1).then((()=>_.resolve(l.a)))},(e,t,r)=>{r.d(t,{a:()=>c});var n=r(3),i=(r(11),r(114)),a=r(77),s=r(32),o=r(1),d=r(26);class c{#i;#a;#s;#o;#d;#c;#l;#p=!1;#u=!1;constructor(e){this.#i=e,this.#a=n.a.tag(`bundle:${e.name}`),this.#d=`hbv:bundle:${this.#i.name}`;const t=e.validator??s.b;this.#l=(0,s.a)((0,i.a)(t)),e.validator||this.#a.debug("validator should be provided to bundle option and will become mandatory"),this.#o=e.storageType(),this.#s=new d.a(!0);const r=this.#s.pipe((e=>{if("origin"===e?.source)return e}));(0,d.b)([this.#o,r]).subscribe((([e,t])=>{this.#m(e,t)})),this.#c=new d.a((async e=>{if(this.#a.debug("started loading from source..."),this.#p=!0,this.#i.loader)try{const t=await Promise.resolve(this.#i.loader());e.next(t)}catch(e){this.#a.error("Loading from loader failed",e)}finally{this.#p=!1}else{if(this.#u)return;this.#u=!0,this.#i.stream().subscribe((t=>e.next(t)))}})).pipe((e=>(this.#a.info("a new value was retrieved from origin:",e),this.#s.next({value:e,fetchTime:Date.now(),source:"origin"}),e))),this.#b()}#f=async()=>this.#i.keySuffix?`${this.#d}-${await this.#i.keySuffix()}`:this.#d;#m=async(e,t)=>{try{const r=t?this.#h({fetchTime:t.fetchTime,value:t.value}):null;(0,a.b)(e,await this.#f(),r)}catch(r){this.#a.error(`error while persisting data to storage '${e}'`,t)}};#g=e=>this.#i.customEncoder?this.#i.customEncoder.decode(e):this.#l(JSON.parse(e));#h=e=>this.#i.customEncoder?this.#i.customEncoder.encode(e):JSON.stringify(e);_fetchTask=()=>this.#p?this.#v():void 0;#b=async(e=!1)=>{const t=await this.#f();this.#a.debug("started loading of cached data...");let r=!1;this.#o.subscribe((n=>{if(r)return;r=!0;const i=(0,a.a)(n,t);if(!i)return;const s=this.#g(i);if((0,o.r)(this.#s.value)||e){const t=e?" (forced)":"";this.#a.debug(`cached data will be used${t}:`,s),this.#s.next({...s,source:"cache"})}else this.#a.debug("cached data won't be used because data is already available",s)}))};#y;#v=async()=>(this.#p||(this.#p=!0,this.#y=new Promise((e=>{this.#c.subscribe((t=>{this.#p=!1,e(t)}))}))),this.#y);#I=(e,t)=>!(0,o.r)(this.#i.freshnessInterval)&&t-e.fetchTime<1e3*this.#i.freshnessInterval;#T=(e,t)=>t-e.fetchTime>1e3*this.#i.expirationInterval;updatedValue=()=>{const e=Date.now(),t=this.#s.value;if(t&&this.#I(t,e))return this.#a.info("current data is fresh enough and won't be refreshed right now",t.value),Promise.resolve(t.value);const r=this.#v();return t&&!this.#T(t,e)?(this.#a.info("current data will be used and bundle will be refreshed in background if needed",t),Promise.resolve(t.value)):(this.#a.info("current data is expired or unavailable and bundle must wait for refresh task"),r)};fetchIfNeeded=()=>this.updatedValue();clearData=()=>{this.#m("local-storage",null)};get asStream(){return this.#s.pipe((e=>{if((0,o.i)(e)&&!this.#T(e,Date.now()))return e.value}))}get currentValue(){const e=this.#s.value;return e&&!this.#T(e,Date.now())?e.value:this.#i.defaultValue}}},(e,t,r)=>{r.d(t,{a:()=>n,b:()=>a,c:()=>i});const n={storageAccess:1,personalization:2,adSelectionDeliveryReporting:3,contentSelectionDeliveryReporting:4,measurement:5},i=(e,t,r=!1)=>{const n=e?.purpose?.consents?.[t],i=e?.purpose?.legitimateInterests?.[t];return n??i??r},a=e=>e?.tcString},(e,t,r)=>{r.d(t,{a:()=>y,b:()=>I,c:()=>v}),r(30);var n=r(1),i=r(58);const a=new Set([i.b.no,i.b.yes]),s=e=>(0,n.m)(e);var o=r(62),d=r(63);const c=new Set([0,1,2,3,4,5,6,7,8]),l=new Set([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),p=new Set([o.a.vpaid10,o.a.vpaid20,o.a.mraid1,o.a.ormma,o.a.mraid2,o.a.mraid3,o.a.omid1]),u=new Set([d.a.vast10,d.a.vast20,d.a.vast30,d.a.vast10Wrapper,d.a.vast20Wrapper,d.a.vast30Wrapper,d.a.vast40,d.a.vast40Wrapper,d.a.daast10,d.a.daast10Wrapper,d.a.vast41,d.a.vast41Wrapper,d.a.vast42,d.a.vast42Wrapper]),m=new Set([1,2,3]),b=e=>(0,n.q)(e),f=e=>(0,n.l)(e)&&l.has(e),h=e=>(0,n.m)(e)&&(0,n.q)(e.id)&&(0,n.q)(e.impid)&&(0,n.l)(e.price)&&((0,n.j)(e.adid)||(0,n.q)(e.adid))&&((0,n.j)(e.nurl)||(0,n.q)(e.nurl))&&((0,n.j)(e.adm)||(0,n.q)(e.adm))&&((0,n.j)(e.adomain)||(0,n.b)(e.adomain,n.q))&&((0,n.j)(e.bundle)||(0,n.q)(e.bundle))&&((0,n.j)(e.iurl)||(0,n.q)(e.iurl))&&((0,n.j)(e.cid)||(0,n.q)(e.cid))&&((0,n.j)(e.crid)||(0,n.q)(e.crid))&&((0,n.j)(e.cat)||(0,n.b)(e.cat,b))&&((0,n.j)(e.attr)||(0,n.b)(e.attr,f))&&((0,n.j)(e.api)||(e=>(0,n.l)(e)&&p.has(e))(e.api))&&((0,n.j)(e.protocol)||(e=>(0,n.l)(e)&&u.has(e))(e.protocol))&&((0,n.j)(e.qagmediarating)||(e=>(0,n.l)(e)&&m.has(e))(e.qagmediarating))&&((0,n.j)(e.dealid)||(0,n.q)(e.dealid))&&((0,n.j)(e.w)||(0,n.l)(e.w))&&((0,n.j)(e.h)||(0,n.l)(e.h))&&((0,n.j)(e.exp)||(0,n.l)(e.exp))&&((0,n.j)(e.ext)||s(e.ext)),g=e=>(0,n.m)(e)&&((0,n.j)(e.bid)||(0,n.b)(e.bid,h))&&((0,n.j)(e.seat)||(0,n.q)(e.seat))&&((0,n.j)(e.group)||(e=>(0,n.l)(e)&&a.has(e))(e.group))&&((0,n.j)(e.ext)||s(e.ext)),v=e=>(0,n.m)(e)&&(0,n.q)(e.id)&&((0,n.j)(e.seatbid)||(0,n.b)(e.seatbid,g))&&((0,n.j)(e.bidid)||(0,n.q)(e.bidid))&&((0,n.j)(e.cur)||(e=>(0,n.q)(e))(e.cur))&&((0,n.j)(e.customdata)||(0,n.q)(e.customdata))&&((0,n.j)(e.nbr)||(e=>(0,n.l)(e)&&c.has(e))(e.nbr))&&((0,n.j)(e.ext)||s(e.ext)),y=e=>t=>{if(!e(t))throw new Error("validation failed");return t},I=()=>!0},(e,t,r)=>{r.d(t,{a:()=>l,b:()=>M,c:()=>_,d:()=>R,e:()=>k,f:()=>A,g:()=>x,h:()=>c,i:()=>S,j:()=>P});var n=r(6),i=r(0),a=r(4),s=r(8),o=r(5),d=r(46);const c=[],l=Object.keys(o.NATIVE_KEYS).map((e=>o.NATIVE_KEYS[e])),p={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},{NATIVE_ASSET_TYPES:u,NATIVE_IMAGE_TYPES:m,PREBID_NATIVE_DATA_KEYS_TO_ORTB:b,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:f,NATIVE_KEYS:h}=o,g=U(b),v=U(u),y={img:1,js:2,1:"img",2:"js"},I={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function T(e){if(e&&e.type&&(!(!(t=e.type)||!(0,a.c)(Object.keys(p),t))||((0,i.X)(`${t} nativeParam is not supported`),!1))&&(e=p[e.type]),!e||!e.ortb||w(e.ortb))return e;var t}function _(e){e.forEach((e=>{const t=e.nativeParams||(0,n.a)(e,"mediaTypes.native");t&&(e.nativeParams=T(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!(0,i.T)(e))return void(0,i.X)("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let r in e){if(f.includes(r))continue;if(!h.hasOwnProperty(r)){(0,i.X)(`Unrecognized native asset code: ${r}. Asset will be ignored.`);continue}if("privacyLink"===r){t.privacy=1;continue}const n=e[r];let a=0;n.required&&(0,i.M)(n.required)&&(a=Number(n.required));const s={id:t.assets.length,required:a};if(r in b)s.data={type:u[b[r]]},n.len&&(s.data.len=n.len);else if("icon"===r||"image"===r){if(s.img={type:"icon"===r?m.ICON:m.MAIN},n.aspect_ratios)if((0,i.L)(n.aspect_ratios))if(n.aspect_ratios.length){const{min_width:e,min_height:t}=n.aspect_ratios[0];(0,i.R)(e)&&(0,i.R)(t)?(s.img.wmin=e,s.img.hmin=t):(0,i.X)("image.aspect_ratios min_width or min_height are invalid: ",e,t);const r=n.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));r.length>0&&(s.img.ext={aspectratios:r})}else(0,i.X)("image.aspect_ratios was passed, but it's empty:",n.aspect_ratios);else(0,i.X)("image.aspect_ratios was passed, but it's not a an array:",n.aspect_ratios);n.sizes&&(2===n.sizes.length&&(0,i.R)(n.sizes[0])&&(0,i.R)(n.sizes[1])?(s.img.w=n.sizes[0],s.img.h=n.sizes[1],delete s.img.hmin,delete s.img.wmin):(0,i.X)("image.sizes was passed, but its value is not an array of integers:",n.sizes))}else"title"===r?s.title={len:n.len||140}:"ext"===r&&(s.ext=n,delete s.required);t.assets.push(s)}return t}(e.nativeParams))}))}function w(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,i.X)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const r=t.map((e=>e.id));return t.length!==new Set(r).size||r.some((e=>e!==parseInt(e,10)))?((0,i.X)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,i.X)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((e=>function(e){if(!(0,i.T)(e))return(0,i.X)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,i.S)(e.img.w)&&!(0,i.S)(e.img.wmin))return(0,i.X)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,i.S)(e.img.h)&&!(0,i.S)(e.img.hmin))return(0,i.X)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,i.S)(e.title.len))return(0,i.X)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,i.S)(e.data.type))return(0,i.X)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,i.S)(e.video.minduration)&&(0,i.S)(e.video.maxduration)))return(0,i.X)("video asset is not properly configured"),!1;return!0}(e)))}function S(e,{index:t=s.a.index}={}){const r=t.getAdUnit(e);if(!r)return!1;let o=r.nativeOrtbRequest;return function(e,t){if(!(0,n.a)(e,"link.url"))return(0,i.X)("native response doesn't have 'link' property. Ortb response: ",e),!1;let r=t.assets.filter((e=>1===e.required)).map((e=>e.id)),s=e.assets.map((e=>e.id));const o=r.every((e=>(0,a.c)(s,e)));return o||(0,i.X)(`didn't receive a bid with all required assets. Required ids: ${r}, but received ids in response: ${s}`),o}(e.native?.ortb||V(e.native,o),o)}function R(e,t){const r=t.native.ortb||O(t.native);return"click"===e.action?function(e,t=null,{fetchURL:r=i.nb}={}){if(t){const n=(e.assets||[]).filter((e=>e.link)).reduce(((e,t)=>(e[t.id]=t.link,e)),{}),i=e.link?.clicktrackers||[];let a=n[t],s=i;a&&(s=a.clicktrackers||[]),s.forEach((e=>r(e)))}else(e.link?.clicktrackers||[]).forEach((e=>r(e)))}(r,e?.assetId):function(e,{runMarkup:t=(e=>(0,i.G)(e)),fetchURL:r=i.nb}={}){const n=(e.eventtrackers||[]).filter((e=>e.event===I.impression));let{img:a,js:s}=n.reduce(((e,t)=>(y.hasOwnProperty(t.method)&&e[y[t.method]].push(t.url),e)),{img:[],js:[]});e.imptrackers&&(a=a.concat(e.imptrackers)),a.forEach((e=>r(e))),s=s.map((e=>`<script async src="${e}"><\/script>`)),e.jstracker&&(s=s.concat([e.jstracker])),s.length&&t(s.join("\n"))}(r),e.action}function x(e,{index:t=s.a.index}={}){let r={};const i=t.getAdUnit(e);(0,n.a)(i,"nativeParams.rendererUrl")?e.native.rendererUrl=F(i.nativeParams.rendererUrl):(0,n.a)(i,"nativeParams.adTemplate")&&(e.native.adTemplate=F(i.nativeParams.adTemplate));const a=!1!==(0,n.a)(i,"nativeParams.sendTargetingKeys"),d=function(e){const t={};return(0,n.a)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((e=>{t[e]=`hb_native_${e}`})),{...o.NATIVE_KEYS,...t}}(i),c={...e.native,...e.native.ext};return delete c.ext,Object.keys(c).forEach((t=>{const s=d[t];let o=F(e.native[t])||F((0,n.a)(e,`native.ext.${t}`));if("adTemplate"===t||!s||!o)return;let c=(0,n.a)(i,`nativeParams.${t}.sendId`);"boolean"!=typeof c&&(c=(0,n.a)(i,`nativeParams.ext.${t}.sendId`)),c&&(o=`${s}:${e.adId}`);let l=(0,n.a)(i,`nativeParams.${t}.sendTargetingKeys`);"boolean"!=typeof l&&(l=(0,n.a)(i,`nativeParams.ext.${t}.sendTargetingKeys`)),("boolean"==typeof l?l:a)&&(r[s]=o)})),r}function C(e,t,r,{index:n=s.a.index}={}){const i={message:"assetResponse",adId:e.adId},a=n.getAdUnit(t);let d=t.native;return t.native.ortb?i.ortb=t.native.ortb:a.mediaTypes?.native?.ortb&&(i.ortb=V(t.native,a.nativeOrtbRequest)),i.assets=[],(r??Object.keys(d)).forEach((function(e){if("adTemplate"===e&&d[e])i.adTemplate=F(d[e]);else if("rendererUrl"===e&&d[e])i.rendererUrl=F(d[e]);else if("ext"===e)Object.keys(d[e]).forEach((t=>{if(d[e][t]){const r=F(d[e][t]);i.assets.push({key:t,value:r})}}));else if(d[e]&&o.NATIVE_KEYS.hasOwnProperty(e)){const t=F(d[e]);i.assets.push({key:e,value:t})}})),i}const E=Object.fromEntries(Object.entries(o.NATIVE_KEYS).map((([e,t])=>[t,e])));function A(e,t){const r=e.assets.map((e=>E[e]));return C(e,t,r)}function k(e,t){return C(e,t,null)}function F(e){return e?.url||e}function D(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}function B(e){if(!w(e))return;const t={};for(const r of e.assets){if(r.title){const e={required:!!r.required&&Boolean(r.required),len:r.title.len};t.title=e}else if(r.img){const e={required:!!r.required&&Boolean(r.required)};if(r.img.w&&r.img.h)e.sizes=[r.img.w,r.img.h];else if(r.img.wmin&&r.img.hmin){const t=D(r.img.wmin,r.img.hmin);e.aspect_ratios=[{min_width:r.img.wmin,min_height:r.img.hmin,ratio_width:r.img.wmin/t,ratio_height:r.img.hmin/t}]}r.img.type===m.MAIN?t.image=e:t.icon=e}else if(r.data){let e=Object.keys(u).find((e=>u[e]===r.data.type)),n=Object.keys(b).find((t=>b[t]===e));t[n]={required:!!r.required&&Boolean(r.required)},r.data.len&&(t[n].len=r.data.len)}e.privacy&&(t.privacyLink={required:!1})}return t}function M(e){{if(!e||!(0,i.L)(e))return e;if(!e.some((e=>(e?.mediaTypes||{})[d.c]?.ortb)))return e;let t=(0,i.l)(e);for(const e of t)e.mediaTypes&&e.mediaTypes[d.c]&&e.mediaTypes[d.c].ortb&&(e.mediaTypes[d.c]=Object.assign((0,i.fb)(e.mediaTypes[d.c],f),B(e.mediaTypes[d.c].ortb)),e.nativeParams=T(e.mediaTypes[d.c]));return t}}function O(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach((([e,r])=>{switch(e){case"clickUrl":t.link.url=r;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(r)?r:[r];break;case"impressionTrackers":(Array.isArray(r)?r:[r]).forEach((e=>{t.eventtrackers.push({event:I.impression,method:y.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(r)?r.join(""):r;break;case"privacyLink":t.privacy=r}})),t}function V(e,t){const r={...O(e),assets:[]};function n(e,n){let a=t.assets.find(e);null!=a&&(a=(0,i.l)(a),n(a),r.assets.push(a))}return Object.keys(e).filter((t=>!!e[t])).forEach((t=>{const r=F(e[t]);switch(t){case"title":n((e=>null!=e.title),(e=>{e.title={text:r}}));break;case"image":case"icon":const e="image"===t?m.MAIN:m.ICON;n((t=>null!=t.img&&t.img.type===e),(e=>{e.img={url:r}}));break;default:t in b&&n((e=>null!=e.data&&e.data.type===u[b[t]]),(e=>{e.data={value:r}}))}})),r}function P(e,t){const r={},n=t?.assets||[];r.clickUrl=e.link.url,r.privacyLink=e.privacy;for(const t of e?.assets||[]){const e=n.find((e=>t.id===e.id));t.title?r.title=t.title.text:t.img?r[e.img.type===m.MAIN?"image":"icon"]={url:t.img.url,width:t.img.w,height:t.img.h}:t.data&&(r[g[v[e.data.type]]]=t.data.value)}r.impressionTrackers=[];let i=[];e.imptrackers&&r.impressionTrackers.push(...e.imptrackers);for(const t of e?.eventtrackers||[])t.event===I.impression&&t.method===y.img&&r.impressionTrackers.push(t.url),t.event===I.impression&&t.method===y.js&&i.push(t.url);return i=i.map((e=>`<script async src="${e}"><\/script>`)),e?.jstracker&&i.push(e.jstracker),i.length&&(r.javascriptTrackers=i.join("\n")),r}function U(e){var t={};for(var r in e)t[e[r]]=r;return t}},(e,t,r)=>{r.d(t,{a:()=>p,b:()=>u});var n=r(2),i=r(0);const a={fetch:window.fetch.bind(window),makeRequest:(e,t)=>new Request(e,t),timeout(e,t){const r=new AbortController;let n=setTimeout((()=>{r.abort(),(0,i.X)(`Request timeout after ${e}ms`,t),n=null}),e);return{signal:r.signal,done(){n&&clearTimeout(n)}}}},s="GET",o="POST",d="Content-Type";function c(e=3e3,{request:t,done:r}={}){let i=(t,r)=>{let i;null==e||null!=r?.signal||n.b.getConfig("disableAjaxTimeout")||(i=a.timeout(e,t),r=Object.assign({signal:i.signal},r));let s=a.fetch(t,r);return null!=i?.done&&(s=s.finally(i.done)),s};return null==t&&null==r||(i=(e=>function(n,i){const a=new URL(null==n?.url?n:n.url,document.location).origin;let s=e(n,i);return t&&t(a),r&&(s=s.finally((()=>r(a)))),s})(i)),i}function l({status:e,statusText:t="",headers:r,url:n},a){let s=0;function o(e){if(0===s)try{s=(new DOMParser).parseFromString(a,r?.get(d)?.split(";")?.[0])}catch(t){s=null,e&&e(t)}return s}return{readyState:XMLHttpRequest.DONE,status:e,statusText:t,responseText:a,response:a,responseType:"",responseURL:n,get responseXML(){return o(i.X)},getResponseHeader:e=>r?.has(e)?r.get(e):null,toJSON(){return Object.assign({responseXML:o()},this)},getAllResponseHeaders:()=>r?Array.from(r).flat().join():""}}function p(e=3e3,{request:t,done:r}={}){const n=c(e,{request:t,done:r});return function(e,t,r,c={}){!function(e,t){const{success:r,error:n}="object"==typeof t&&null!=t?t:{success:"function"==typeof t?t:()=>null,error:(e,t)=>(0,i.X)("Network error",e,t)};e.then((e=>e.text().then((t=>[e,t])))).then((([e,t])=>{const i=l(e,t);e.ok||304===e.status?r(t,i):n(e.statusText,i)}),(()=>n("",l({status:0},""))))}(n(function(e,t,r={}){const n=r.method||(t?o:s);if(n===s&&t){const n=(0,i.eb)(e,r);Object.assign(n.search,t),e=(0,i.d)(n)}const c=new Headers(r.customHeaders);c.set(d,r.contentType||"text/plain");const l={method:n,headers:c};return n!==s&&t&&(l.body=t),r.withCredentials&&(l.credentials="include"),r.browsingTopics&&isSecureContext&&(l.browsingTopics=!0),a.makeRequest(e,l)}(e,r,c)),t)}}const u=p();c()},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(23);const i=(0,r(16).j)((e=>n.a.resolveAlias(e)))},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>a});var n=r(1);const i=e=>(0,n.d)(e,(e=>(0,n.q)(e)||e instanceof RegExp)),a=(e,...t)=>!(0,n.j)(e)&&((0,n.c)(e)?e.some((e=>a(e,...t))):(0,n.q)(e)?t.some((t=>t===e)):e instanceof RegExp&&t.some((t=>e.test(t))))},(e,t,r)=>{r.d(t,{a:()=>c,b:()=>d,c:()=>s,d:()=>p,e:()=>u,f:()=>b,g:()=>g,h:()=>f,i:()=>h,j:()=>m,k:()=>v,l:()=>l,m:()=>o,n:()=>I,o:()=>y});var n=r(12),i=r(19),a=r(1);const s=e=>{for(;e.firstChild;)e.firstChild.remove()},o=(e,t)=>{for(const[r,n]of Object.entries(t)){const t=n.replace(/\s*!important\s*$/gi,""),i=n!==t;e.style.setProperty(r,t,i?"important":"")}},d=(e,t,r)=>{const n=e.getElementById(t)??((e,t)=>{const r=e.createElement("style");return r.id=t,e.head.append(r),r})(e,t);return s(n),n.append(document.createTextNode(r)),n},c=((0,n.a)(d),(e,t)=>d(document,e,t)),l=(e,{id:t,width:r,height:n})=>{t&&(e.id=t),o(e,{width:`${r}px`,height:`${n}px`,border:"0"});const i={marginheight:"0",marginwidth:"0",width:`${r}`,height:`${n}`,topmargin:"0",leftmargin:"0",allowtransparency:"true",scrolling:"no"};for(const[t,r]of Object.entries(i))e.setAttribute(t,r)},p=e=>{e.setAttribute("width","0"),e.setAttribute("height","0"),e.style.display="none",e.style.width="0px",e.style.height="0px",e.style.border="0"},u=e=>9===e.nodeType,m=e=>11===e.nodeType&&!!e.host,b=e=>1===e.nodeType,f=e=>{const t=e?.ownerDocument.defaultView;return!!t&&e instanceof t.HTMLIFrameElement},h=e=>{const t=e?.ownerDocument.defaultView;return!!t&&e instanceof t.HTMLElement},g=/Firefox\//i.test(navigator.userAgent),v=e=>(0,a.i)(e)&&"uninitialized"!==e.readyState,y=async(e,t)=>{await(0,i.b)((0,i.a)({interval:.01,maxTryCount:10}),(()=>v(e.contentDocument)||void 0)),t()},I=async e=>(0,i.b)((0,i.a)({interval:.01,maxTryCount:10}),(()=>v(e.contentDocument)?e.contentDocument:void 0))},(e,t,r)=>{r.d(t,{a:()=>n});const n={error:"lifecycle::error",refresh:"lifecycle::refresh",auctionStarted:"lifecycle::auction-started",auctionFinished:"lifecycle::auction-finished",auctionResolved:"lifecycle::auction-resolved",renderRequested:"lifecycle::render-requested",renderableRequested:"lifecycle::renderable-requested",impression:"lifecycle::impression",adrequest:"lifecycle::adrequest",amazonImp:"lifecycle::amazon-imp",measuredImp:"lifecycle::measured-imp",visibleImp:"lifecycle::visible-imp",renderedImp:"lifecycle::rendered-imp",backupRenderRequested:"lifecycle::backup-render-requested",carbonFilteredBid:"lifecycle::carbon-filtered-bid",AmazonRenderRequest:"lifecycle::amazon-render-request"}},(e,t,r)=>{r.d(t,{a:()=>o,b:()=>d});var n=r(29),i=r(31),a=r(20);const s={assumeConsentlessIfCmpUnavailable:!1};a.b.then((e=>{s.assumeConsentlessIfCmpUnavailable=e.consent.assumeConsentlessIfCmpUnavailable}));const o=()=>!!n.a.currentValue?.tcData?.gdprApplies,d=()=>{const e=n.a.currentValue;return e?.tcData?!!e.tcData.gdprApplies&&!(0,i.c)(e.tcData,i.a.storageAccess):s.assumeConsentlessIfCmpUnavailable}},(e,t,r)=>{r.d(t,{remoteConfiguration:()=>A});var n=r(30);const i={currencies:{lastUpdated:"2024-01-18T01:00:02.000Z",rates:{USD:{FJD:2.24025,MXN:17.198655,STD:20697.981008,LVL:.60489,SCR:13.09631,CDF:2669.999969,BBD:2.018963,GTQ:7.815021,CLP:921.699549,HNL:24.730054,UGX:3815.572979,ZAR:19.0542,TND:3.113023,SLE:22.747402,CUC:1,BSD:.999968,SLL:19749.999778,SDG:600.99971,IQD:1310.5,CUP:26.5,GMD:67.249647,TWD:31.634991,RSD:107.632967,DOP:59.208345,KMF:453.050531,MYR:4.7175,FKP:.79025,XOF:599.499323,GEL:2.67375,BTC:23437464e-12,UYU:39.156751,MAD:9.990497,CVE:101.875028,TOP:2.36255,AZN:1.694813,OMR:.384946,PGK:3.71475,KES:159.496993,SEK:10.44039,BTN:83.248997,UAH:37.867829,GNF:8560.000013,ERN:15,MZN:63.24995,ARS:818.646226,QAR:3.64125,IRR:42050.000021,CNY:7.119601,THB:35.521016,UZS:12449.999807,XPF:110.205277,MRU:39.599161,BDT:109.739003,LYD:4.824979,BMD:1,KWD:.30792,PHP:55.967014,RUB:88.634994,PYG:7279.195143,ISK:137.239922,JMD:155.033344,COP:3958.18,MKD:56.615823,USD:1,DZD:134.881863,PAB:.999977,GGP:.79025,SGD:1.343495,ETB:56.388363,JEP:.79025,KGS:89.293498,SOS:570.999912,VEF:3592942.385291,VUV:119.09774,LAK:20665.000097,BND:1.343904,ZMK:9001.207104,XAF:602.929363,LRD:189.298948,XAG:.04423,CHF:.86404,HRK:6.88032,ALL:95.375039,DJF:177.720363,VES:36.00157,ZMW:26.274353,TZS:2524.999701,VND:24520,XAU:497e-6,AUD:1.526438,ILS:3.796265,GHS:11.970319,GYD:209.374899,KPW:899.999318,BOB:6.909611,KHR:4089.999665,MDL:17.684449,IDR:15631.05,KYD:.833337,AMD:404.447079,BWP:13.670186,SHP:1.26795,TRY:30.160801,LBP:15062.999908,TJS:10.90457,JOD:.709402,AED:3.673028,HKD:7.819255,RWF:1273,EUR:.917898,LSL:19.060386,DKK:6.846675,CAD:1.349605,BGN:1.796901,MMK:2099.888318,MUR:44.351987,NOK:10.512195,SYP:13001.771396,IMP:.79025,ZWL:321.999592,GIP:.79025,RON:4.568205,LKR:320.990491,NGN:859.059982,CRC:516.502052,CZK:22.711202,PKR:279.849847,XCD:2.70255,ANG:1.802179,HTG:131.495014,BHD:.376932,KZT:453.345099,SRD:36.754503,SZL:19.059995,LTL:2.95274,SAR:3.750442,TTD:6.781842,YER:250.375047,MVR:15.410344,AFN:72.500974,INR:83.14375,AWG:1.8,KRW:1341.304977,NPR:133.198211,JPY:148.063499,MNT:3416.782138,AOA:830.497429,PLN:4.045817,GBP:.7887,SBD:8.421842,BYN:3.272393,HUF:348.898035,BYR:19600,BIF:2860,MWK:1682.000155,MGA:4564.999873,XDR:.74838,BZD:2.01558,BAM:1.797751,EGP:30.894939,MOP:8.05916,NAD:19.055031,NIO:36.705413,PEN:3.719503,NZD:1.633705,WST:2.72062,TMT:3.51,CLF:.033403,BRL:4.935602}}}};var a=r(64),s=r(32),o=r(20),d=r(56),c=r(1);const l=e=>(0,c.m)(e)&&(0,c.n)(e.pageZones,(0,c.h)(c.d,c.q))&&(0,c.n)(e.layouts,(0,c.h)(c.d,c.q))&&(0,c.n)(e.placementIds,(0,c.h)(c.d,c.q))&&(0,c.n)(e.supportCodes,(0,c.h)(c.d,c.q))&&(0,c.n)(e.isConsentless,c.e)&&((0,c.n)(e.startDate,c.f)||!isNaN(Date.parse(e.startDate)))&&((0,c.n)(e.endDate,c.f)||!isNaN(Date.parse(e.endDate))),p=e=>(0,c.m)(e)&&("window"===e.type||"tcvars"===e.type||"datalayer"===e.type)&&(0,c.q)(e.key)&&(0,c.n)(e.values,(0,c.h)(c.b,c.q))&&(0,c.n)(e.regex,(0,c.h)(c.b,c.q)),u=e=>(0,c.m)(e)&&(0,c.n)(e.pageZones,(0,c.h)(c.d,c.q))&&(0,c.n)(e.layouts,(0,c.h)(c.d,c.q))&&(0,c.n)(e.placementIds,(0,c.h)(c.d,c.q))&&(0,c.n)(e.supportCodes,(0,c.h)(c.d,c.q))&&(0,c.n)(e.isConsentless,c.e)&&(0,c.n)(e.urlMatching,(0,c.h)(c.d,c.q))&&(0,c.n)(e.allowedDisplayFormats,(0,c.h)(c.b,c.q))&&((0,c.r)(e.viewability)||"atf"===e.viewability||"btf"===e.viewability)&&(0,c.n)(e.countries,(0,c.h)(c.d,c.q))&&(0,c.n)(e.allowedSizes,(0,c.h)(c.d,c.q))&&(0,c.n)(e.allowedCustomFormats,(0,c.h)(c.d,c.q))&&(0,c.n)(e.customTargeting,p),m=e=>(0,c.m)(e)&&u(e)&&(0,c.q)(e.name)&&((0,c.r)(e.priceFloor)||(0,c.l)(e.priceFloor))&&((0,c.r)(e.currency)||(0,c.q)(e.currency))&&((0,c.r)(e.startDate)||(0,c.f)(e.startDate)||!isNaN(Date.parse(e.startDate)))&&((0,c.r)(e.endDate)||(0,c.f)(e.endDate)||!isNaN(Date.parse(e.endDate)))&&(0,c.n)(e.isGuaranteed,c.e)&&(0,c.n)(e.conditions,(0,c.h)(c.d,u)),b=e=>(0,c.m)(e)&&l(e)&&(0,c.n)(e.displayFormats,(0,c.h)(c.d,c.q))&&(0,c.n)(e.bidders,(0,c.h)(c.d,c.q))&&(0,c.n)(e.enabledBehindFlag,c.e)&&(0,c.n)(e.countries,(0,c.h)(c.d,c.q))&&(0,c.n)(e.devices,(0,c.h)(c.d,c.q))&&(0,c.e)(e.disabled),f=e=>(0,c.m)(e)&&l(e)&&(0,c.n)(e.displayFormats,(0,c.h)(c.d,c.q))&&(0,c.l)(e.adjustment)&&(0,c.n)(e.devices,(0,c.h)(c.d,c.q))&&(0,c.n)(e.bidders,(0,c.h)(c.d,c.q))&&("adserver"===e.adjustmentKind||"cpm"===e.adjustmentKind),h=e=>(0,c.m)(e)&&(0,c.q)(e.device)&&(0,c.q)(e.support)&&(0,c.q)(e.creativeId),g=e=>(0,c.m)(e)&&(0,c.n)(e.pageZones,(0,c.h)(c.d,c.q))&&(0,c.n)(e.devices,(0,c.h)(c.d,c.q))&&(0,c.n)(e.placementIds,(0,c.h)(c.d,c.q))&&(0,c.n)(e.supportCodes,(0,c.h)(c.d,c.q))&&(0,c.n)(e.mediaTypes,(0,c.h)(c.d,(e=>"banner"===e||"video"===e)))&&("atf"===e.fold||"btf"===e.fold)&&((0,c.n)(e.startDate,c.f)||!isNaN(Date.parse(e.startDate)))&&((0,c.n)(e.endDate,c.f)||!isNaN(Date.parse(e.endDate))),v=e=>(0,c.m)(e)&&(0,c.n)(e.layouts,(0,c.h)(c.d,c.q))&&(0,c.n)(e.supportCodes,(0,c.h)(c.d,c.q))&&(0,c.n)(e.countries,(0,c.h)(c.d,c.q))&&(0,c.n)(e.pageZones,(0,c.h)(c.d,c.q))&&(0,c.n)(e.isConsentless,c.e)&&(0,c.n)(e.defaultFloor,c.l)&&(0,c.n)(e.currency,c.q)&&(0,c.b)(e.schema,c.q)&&(0,c.o)(e.floorRules,(e=>(0,c.l)(e)||(e=>(0,c.m)(e)&&(0,c.l)(e.floor)&&(0,c.n)(e.currency,c.q))(e)))&&((0,c.n)(e.startDate,c.f)||!isNaN(Date.parse(e.startDate)))&&((0,c.n)(e.endDate,c.f)||!isNaN(Date.parse(e.endDate))),y=e=>(0,c.m)(e)&&(0,c.d)(e.devices,c.q)&&(0,c.n)(e.categories,(0,c.h)(c.d,c.q))&&(0,c.n)(e.zones,(0,c.h)(c.d,c.q))&&(0,c.n)(e.placement,c.q)&&(0,c.n)(e.refresh,c.e)&&(0,c.n)(e.support,c.q)&&(0,c.o)(e.multiplierByHour,(e=>(0,c.l)(e))),I=e=>(0,c.m)(e)&&(0,c.b)(e.multipliers,y),T=e=>(0,c.m)(e)&&(0,c.o)(e.rates,(e=>(0,c.o)(e,(e=>(0,c.l)(e)))))&&(0,c.b)(e.bidders,c.q)&&(0,c.o)(e.dimensionValues,(e=>(0,c.b)(e,c.q)))&&(0,c.b)(e.contextDimensions,c.q),_=e=>(0,c.c)(e)&&e.every((e=>(0,c.m)(e)&&(0,c.e)(e.enabled)&&(0,c.n)(e.devices,(0,c.h)(c.b,c.q))&&(0,c.n)(e.supportCodes,(0,c.h)(c.b,c.q))&&(0,c.n)(e.placementIds,(0,c.h)(c.b,c.q))&&(0,c.n)(e.customTargeting,p))),w=e=>(0,c.m)(e)&&(0,c.n)(e.callRates,T)&&(0,c.n)(e.configs,_),S=e=>(0,c.m)(e)&&(0,c.n)(e.bidders,(0,c.h)(c.b,b))&&(0,c.n)(e.cpmAdjustments,(0,c.h)(c.b,f))&&(0,c.n)(e.deals,(0,c.h)(c.b,m))&&(0,c.n)(e.blacklistedCreatives,(0,c.h)(c.b,h))&&(0,c.n)(e.floors,(0,c.h)(c.b,v))&&(0,c.n)(e.folds,(0,c.h)(c.b,g))&&(0,c.n)(e.floorMultipliers,(0,c.h)(c.b,I))&&(0,c.n)(e.cleanr,w),R=e=>(0,c.m)(e)&&(e=>(0,c.m)(e)&&(0,c.o)(e.rates,(e=>(0,c.o)(e,(e=>(0,c.l)(e)))))&&(0,c.q)(e.lastUpdated))(e.currencies)&&(0,c.n)(e.publisherConfiguration,S),x=(0,s.a)(R),C=e=>{const t=(new Date).getTime(),{startDate:r,endDate:n}=e;return(!r||new Date(r).getTime()<t)&&(!n||t<new Date(n).getTime())},E={encode:e=>JSON.stringify(e),decode:e=>{const t=JSON.parse(e),{publisherConfiguration:r}=x(t.value);return r&&(r.bidders=r.bidders?.filter(C),r.cpmAdjustments=r.cpmAdjustments?.filter(C),r.deals=r.deals?.filter(C),r.floors=r.floors?.filter(C),r.folds=r.folds?.filter(C)),t}},A=new n.a({name:`remote-configuration-${d.d}`,keySuffix:async()=>(await o.b).support,storageType:()=>(0,a.a)({name:"remoteConfiguration"}),freshnessInterval:3600,expirationInterval:604800,loader:async()=>{const e=await o.b,t=new URL("https://c.client-context.hubvisor.io/configuration");t.searchParams.set("publisherId",e.publisherId),t.searchParams.set("device",d.d),t.searchParams.set("support",e.support);const r=await fetch(t);if(!r.ok)throw new Error(`http status: ${r.statusText}`);const n=await r.json();return x(n)},customEncoder:E,defaultValue:R(i)?i:void 0,validator:R})},(e,t,r)=>{r.d(t,{a:()=>n});const n=new(r(42).TinyEmitter)},e=>{function t(){}t.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var a=0,s=n.length;a<s;a++)n[a].fn!==t&&n[a].fn._!==t&&i.push(n[a]);return i.length?r[e]=i:delete r[e],this}},e.exports=t,e.exports.TinyEmitter=t},(e,t,r)=>{r.d(t,{a:()=>n});class n{error;value;constructor(e,t){this.value=e,this.error=t}static value(e){return new n(e,void 0)}static error(e){return new n(void 0,e)}static tryCatch(e){try{return n.value(e())}catch(e){return n.error(e)}}get isError(){return!!this.error}get isSuccess(){return!this.error}onError=e=>(this.isError&&e(this.error),this);or=e=>this.isError?e:this.value;get=()=>{if(this.isError)throw this.error;return this.value}}},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(12);class i{#_;provide=(0,n.a)((e=>{this.#_=e}));get value(){return this.#_}}},(e,t,r)=>{r.d(t,{userSync:()=>m});var n=r(0),i=r(2),a=r(4),s=r(81),o=r(22),d=r(24),c=r(16),l=r(17),p=r(35);i.b.setDefaults({userSync:(0,n.l)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});const u=(0,s.a)("usersync"),m=function(e){let t={},r={image:[],iframe:[]},s=new Set,o={},u={image:!0,iframe:!1},m=e.config;function b(){if(m.syncEnabled&&e.browserSupportsCookies){try{u.iframe&&f(r.iframe,(e=>{let[t,i]=e;(0,n.Z)(`Invoking iframe user sync for bidder: ${t}`),(0,n.H)(i),function(e,t){e.image=e.image.filter((e=>e[0]!==t))}(r,t)})),u.image&&f(r.image,(e=>{let[t,r]=e;(0,n.Z)(`Invoking image pixel user sync for bidder: ${t}`),(0,n.nb)(r)}))}catch(e){return(0,n.X)("Error firing user syncs",e)}r={image:[],iframe:[]}}}function f(e,t){(0,n.kb)(e).forEach(t)}return i.b.getConfig("userSync",(e=>{if(e.userSync){let t=e.userSync.filterSettings;(0,n.T)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}m=Object.assign(m,e.userSync)})),e.regRule(d.f,"userSync config",(e=>{if(!m.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[c.d]===l.b){const r=e[c.g],n=e[c.c];if(!t.canBidderRegisterSync(r,n))return{allow:!1,reason:`${r} syncs are not enabled for ${n}`}}})),t.registerSync=(t,i,a)=>s.has(i)?(0,n.Z)(`already fired syncs for "${i}", ignoring registerSync call`):m.syncEnabled&&(0,n.L)(r[t])?i?0!==m.syncsPerBidder&&Number(o[i])>=m.syncsPerBidder?(0,n._)(`Number of user syncs exceeded for "${i}"`):void(e.isAllowed(d.f,(0,p.a)(l.b,i,{[c.g]:t,[c.h]:a}))&&(r[t].push([i,a]),o=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(o,i))):(0,n._)("Bidder is required for registering sync"):(0,n._)(`User sync type "${t}" not supported`),t.bidderDone=s.add.bind(s),t.syncUsers=(e=0)=>{if(e)return setTimeout(b,Number(e));b()},t.triggerUserSyncs=()=>{m.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!m.filterSettings||!function(e,t){let r=m.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,n._)(`Detected presence of the "filterSettings.all" and "filterSettings.${t}" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.`),!1;let r=e.all?e.all:e[t],i=e.all?"all":t;if(!r)return!1;let a=r.filter,s=r.bidders;return a&&"include"!==a&&"exclude"!==a?((0,n._)(`UserSync "filterSettings.${i}.filter" setting '${a}' is not a valid option; use either 'include' or 'exclude'.`),!1):!!("*"===s||Array.isArray(s)&&s.length>0&&s.every((e=>(0,n.V)(e)&&"*"!==e)))||((0,n._)(`Detected an invalid setup in userSync "filterSettings.${i}.bidders"; use either '*' (to represent all bidders) or an array of bidders.`),!1)}(r,e)){u[e]=!0;let n=r.all?r.all:r[e],i="*"===n.bidders?[t]:n.bidders;const s={include:(e,t)=>!(0,a.c)(e,t),exclude:(e,t)=>(0,a.c)(e,t)};return s[n.filter||"include"](i,t)}return!u[e]}(e,t),t}(Object.defineProperties({config:i.b.getConfig("userSync"),isAllowed:o.a,regRule:o.b},{browserSupportsCookies:{get:function(){return!(0,n.U)()&&u.cookiesAreEnabled()}}}))},(e,t,r)=>{r.d(t,{a:()=>s,b:()=>a,c:()=>n,d:()=>i});const n="native",i="video",a="banner",s="adpod"},(e,t,r)=>{r.d(t,{a:()=>c,b:()=>d,c:()=>l,d:()=>p});var n=r(6),i=r(0),a=r(2),s=r(9),o=r(8);const d="outstream",c="instream";function l(e){const t=e?.mediaTypes?.video;null!=t&&null==t.plcmt&&(t.context===d||[2,3,4].includes(t.placement)?t.plcmt=4:t.context!==d&&[2,6].includes(t.playbackmethod)&&(t.plcmt=2))}function p(e,{index:t=o.a.index}={}){const r=(0,n.a)(t.getMediaTypes(e),"video"),i=r&&(0,n.a)(r,"context"),a=r&&(0,n.a)(r,"useCacheKey"),s=t.getAdUnit(e);return u(e,s,r,i,a)}const u=(0,s.b)("sync",(function(e,t,r,n,s){return r&&(s||n!==d)?a.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,i.X)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with hubjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(n===d&&!s&&!(e.renderer||t&&t.renderer||r.renderer))}),"checkVideoBidSetup")},(e,t,r)=>{r.d(t,{a:()=>d,b:()=>s});var n=r(2),i=r(0);function a(e,t=window){if(!e)return e;if(/\w+:\/\//.exec(e))return e;let r=t.location.protocol;try{r=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?r+e:`${r}//${e}`}function s(e,{noLeadingWww:t=!1,noPort:r=!1}={}){try{e=new URL(a(e))}catch(e){return}return e=r?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function o(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}const d=function(e,t=window){if(t.top!==t)return e;let r,n,i;return function(){const a=o(t.document),s=t.location.href;return r===a&&s===n||(r=a,n=s,i=e()),i}}((c=window,function(){const e=[],t=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(c),r=n.b.getConfig("maxNestedIframes");let d,l,p,u,m=!1,b=0,f=!1,h=!1,g=!1;do{const r=d,n=h;let a,s=!1,u=null;h=!1,d=d?d.parent:c;try{a=d.location.href||null}catch(e){s=!0}if(s)if(n){const e=r.context;try{u=e.sourceUrl,l=u,g=!0,f=!0,d===c.top&&(m=!0),e.canonicalUrl&&(p=e.canonicalUrl)}catch(e){}}else{(0,i._)("Trying to access cross domain iframe. Continuing without referrer and location");try{const e=r.document.referrer;e&&(u=e,d===c.top&&(m=!0))}catch(e){}!u&&t&&t[b-1]&&(u=t[b-1],d===c.top&&(g=!0)),u&&!f&&(l=u)}else{if(a&&(u=a,l=u,f=!1,d===c.top)){m=!0;const e=o(d.document);e&&(p=e)}d.context&&d.context.sourceUrl&&(h=!0)}e.push(u),b++}while(d!==c.top&&b<r);e.reverse();try{u=c.top.document.referrer}catch(e){}const v=m||g?l:null,y=n.b.getConfig("pageUrl")||p||null;let I=n.b.getConfig("pageUrl")||v||a(y,c);return v&&v.indexOf("?")>-1&&-1===I.indexOf("?")&&(I=`${I}${v.substring(v.indexOf("?"))}`),{reachedTop:m,isAmp:f,numIframes:b-1,stack:e,topmostLocation:l||null,location:v,canonicalUrl:y,page:I,domain:s(I)||null,ref:u||null,legacy:{reachedTop:m,isAmp:f,numIframes:b-1,stack:e,referer:l||null,canonicalUrl:y}}}));var c},(e,t,r)=>{r.d(t,{a:()=>n});const n=()=>{}},(e,t,r)=>{r.d(t,{a:()=>n});const n="prebid"},(e,t,r)=>{r.d(t,{a:()=>n});const n={"33across":"33across",Adhese:"adhese",amx:"amx",AppNexus:"appnexus",Appnexus_Hubvisor:"appnexus hubvisor",craft:"craft",Criteo:"criteo",dailymotion:"dailymotion",Rubicon:"rubicon",MSQ_AppNexus_Brand:"MSQ-AppNexus Brand",MSQ_AppNexus_Classic:"MSQ-AppNexus Classic",MSQ_AppNexus_Max:"MSQ-AppNexus Max",MSQ_AppNexus_Max_View:"MSQ-AppNexus Max View",MSQ_AppNexus:"MSQ-AppNexus",MSQ_SpotX:"MSQ-SpotX",MSQ_Freewheel:"MSQ-Freewheel",MSQ_Rubicon:"MSQ-Rubicon",MSQ_Rubicon_TRA:"MSQ-Rubicon TRA",MSQ_Rubicon_PRV:"MSQ-Rubicon PRV",ImproveDigital:"improvedigital",Smart:"smartadserver",Freewheel:"freewheelssp",Adot:"adot",IndexExchange:"ix",Gravity_Appnexus:"Gravity-Appnexus",Adyoulike:"adyoulike",Quantum_AppNexus:"Quantum-AppNexus",Quantum_Improve:"Quantum-Improve",Ravel:"raveltech",Sublime:"sublime",Teads:"teads",SpotX:"spotx",Adagio:"adagio",Unruly:"unruly",Invibes:"invibes",TripleLift:"triplelift",TripleLiftNative:"tripleliftNative",Proxistore:"proxistore",OpenX:"openx",amazon:"amazon",vidazoo:"vidazoo",visx:"visx",outbrain:"outbrain",mediasquare:"mediasquare",pubmatic:"pubmatic",gumgum:"gumgum",microad:"microad",smilewanted:"smilewanted",seedtag:"seedtag",richaudience:"richaudience",sovrn:"sovrn",conversant:"conversant",onetag:"onetag",qwarry:"qwarry",sharethrough:"sharethrough",yieldlift:"yieldlift",backfill:"backfill",medianet:"medianet",hawk:"hawk",kargo:"kargo",ogury:"ogury",relaido:"relaido",hubvisor:"hubvisor",beop:"beop",rtbhouse:"rtbhouse",nexx360:"nexx360",noBid:"nobid",hbvRichmedia:"hbv-richmedia",impactify:"impactify",fluct:"fluct",unicorn:"unicorn",prisma:"prisma",bliink:"bliink",taboola:"taboola",missena:"missena",minuteMedia:"minutemedia",caroda:"caroda",nextMillennium:"nextMillennium",Adform:"adform",ttdDirectPath:"ttdDirectPath",ttd:"ttd",yieldlab:"yieldlab",adkernel:"adkernel"};new Set([n.MSQ_Rubicon_TRA,n.MSQ_Rubicon_PRV,n.MSQ_AppNexus_Classic,n.MSQ_AppNexus_Max,n.MSQ_AppNexus_Brand,n.MSQ_SpotX,n.MSQ_Freewheel])},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>s,c:()=>o,d:()=>c,e:()=>d});var n=r(36),i=r(1);const a={dfp:"dfp",sas:"sas",ast:"ast",hsc:"hsc",generic:"generic",instream:"instream"},s={whenVisible:"when-visible",whenViewable:"when-viewable",noLazyLoad:"no-lazy-load",playWhenVisible:"play-when-visible"},o=e=>(0,i.m)(e)&&(0,n.a)(e.adUnitPath),d=e=>(0,i.m)(e)&&(0,n.a)(e.match),c=e=>(0,i.m)(e)&&(0,n.a)(e.elementId)},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>n});const n=e=>!!e&&!!e.prebid,i={outstream:"outstream",banner:"banner",instream:"instream",native:"native",nativeBanner:"nativeBanner",skin:"skin"}},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>n});const n={pageView:"page-view",visibility:"visibility",secondChance:"second-chance"};class i{bidderTimeout;placements;refreshReason;context;amazonOrtb2;constructor(e){Object.assign(this,e)}}},(e,t,r)=>{r.d(t,{a:()=>n});const n=(0,r(79).b)({value:!0,weight:1},{value:!1,weight:99})},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>n,d:()=>a,c:()=>o,e:()=>s});const n={landscape:"landscape",portrait:"portrait"},i={phone:"phone",tablet:"tablet",desktop:"desktop"},a=(()=>{const e=(navigator.userAgent??window.opera).toLowerCase();return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?i.tablet:/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard|dolphin|zune)/.test(e)?i.phone:i.desktop})(),s=()=>screen.orientation?screen.orientation.type.startsWith("landscape")?n.landscape:n.portrait:innerWidth>innerHeight?n.landscape:n.portrait,o=(()=>{switch(a){case i.phone:return 4;case i.tablet:return 5;case i.desktop:return 2}})()},(e,t,r)=>{r.d(t,{a:()=>s,b:()=>n,c:()=>i});const n=e=>{window.googletag=window.googletag??{},window.googletag.cmd=window.googletag.cmd??[],window.googletag.cmd.push((()=>e(window.googletag)))},i=e=>{window.sas=window.sas??{},window.sas.cmd=window.sas.cmd??[],window.sas.cmd.push((()=>e(window.sas)))},a=e=>new Promise((t=>e(t))),s=a(n);a(i)},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>n});const n={no:0,yes:1},i={firstPrice:1,secondPrice:2}},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>i});var n=r(102);const{register:i,execute:a}=new n.a},(e,t,r)=>{r.d(t,{a:()=>l,b:()=>p,c:()=>u});var n=r(103),i=r(77),a=r(1);const s=e=>{const t=parseFloat(e);if(!isNaN(t))return t},o=(e,t)=>{const r=(0,n.a)(),i=`hbv-${e}`;return Object.prototype.hasOwnProperty.call(r,i)?{found:!0,value:t(r[i]??"")}:{found:!1}},d=(e,t)=>{const r=(0,i.a)("local-storage",`hbv:${e}`);return(0,a.k)(r)?{found:!1}:{found:!0,value:t(r)}},c=(...e)=>{for(const t of e){const{found:e,value:r}=t();if(e)return r}},l=e=>{const t=e=>""===e||(e=>!!["yes","true","1"].some((t=>0===t.localeCompare(e,void 0,{sensitivity:"accent"})))||!["no","false","0"].some((t=>0===t.localeCompare(e,void 0,{sensitivity:"accent"})))&&void 0)(e),r=e=>{const r=t(e);if((0,a.i)(r))return!r};return c((()=>o(e,t)),(()=>o(`no-${e}`,r)),(()=>d(e,t)),(()=>d(`no-${e}`,r)))},p=e=>c((()=>o(e,s)),(()=>d(e,s))),u=e=>c((()=>o(e,(e=>e))),(()=>d(e,(e=>e))))},(e,t,r)=>{r.d(t,{a:()=>i,b:()=>s});const n=(()=>{let e=0;return()=>++e})(),i=()=>n()+Math.random().toString(16).substring(2),a=(()=>{const e=new Uint8Array(16),t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).substring(1));return()=>(crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,(t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]).toLowerCase())})(),s=crypto.randomUUID?.bind(crypto)??a},(e,t,r)=>{r.d(t,{a:()=>n});const n={vpaid10:1,vpaid20:2,mraid1:3,ormma:4,mraid2:5,mraid3:6,omid1:7}},(e,t,r)=>{r.d(t,{a:()=>n});const n={vast10:1,vast20:2,vast30:3,vast10Wrapper:4,vast20Wrapper:5,vast30Wrapper:6,vast40:7,vast40Wrapper:8,daast10:9,daast10Wrapper:10,vast41:11,vast41Wrapper:12,vast42:13,vast42Wrapper:14}},(e,t,r)=>{r.d(t,{a:()=>o});var n=r(29),i=r(109),a=r(110),s=r(26);const o=e=>(0,a.a)({cmp:n.a.asStream,storagePolicy:s.a.of(i.a)},e)},(e,t,r)=>{r.d(t,{a:()=>o});var n=r(7),i=(r(11),r(10)),a=r(1),s=r(41);const o=(e,t)=>{try{const r=(e=>{if((0,a.q)(e)){const t=(e=>{try{return document.querySelector(e)}catch(e){return null}})(e);if(t)return t;throw new n.b(n.a.videoWrapperDivNotFound,`Player container not found with '${e}'`)}return e})(e);if(!window.HbvPlayer)throw new n.b(n.a.outstreamPlayerLoadingFailed,"Failed to load player");window.HbvPlayer.playOutstream(r,t).catch((r=>{(0,i.a)(new n.c(n.a.outstreamPlayerError,r,t.vastXml??t.vastUrl??"no-vast")),t.renderContext&&s.a.emit("outstream-error",{containerOrSelector:e,renderContext:t.renderContext})}))}catch(r){(0,i.a)(r,"unexpected player error"),t.renderContext&&s.a.emit("outstream-error",{containerOrSelector:e,renderContext:t.renderContext})}}},(e,t,r)=>{r.d(t,{a:()=>a});var n=r(3);const{error:i}=n.a.tag("bus");class a{#w={};clear=()=>{this.#w={}};#S=(e,t)=>{this.#w[e]||(this.#w[e]=[]),this.#w[e]?.push(t)};on=(e,t)=>{this.#S(e,{listener:t,original:t})};off=(e,t)=>{this.#w[e]=this.#w[e]?.filter((e=>e.original!==t))};once=(e,t)=>{this.#S(e,{listener:(e,r)=>{t(e,r),this.off(r,t)},original:t})};dispatch=(e,t)=>{for(const r of this.#w[e]??[])try{r.listener(t,e)}catch(r){i(`listener registration failed for event '${String(e)}'`,t,r)}}}},(e,t,r)=>{r.d(t,{a:()=>o,b:()=>d,c:()=>s,d:()=>p,e:()=>l,f:()=>c});var n=r(10),i=r(7),a=r(3);const{info:s,debug:o,error:d,warn:c}=a.a.tag("second-chance"),l="hbv_bf",p=(e,t)=>{try{return!e.isPlacementAllowed||e.isPlacementAllowed(t)}catch(e){return(0,n.a)(new i.b(i.a.secondChanceError,`Error checking if placement is allowed for Slot or tagId: ${t}. Aborting ${e}`)),!1}}},(e,t,r)=>{r.d(t,{a:()=>n,b:()=>i});const n={debug:"debug",info:"info",table:"table",warn:"warn",error:"error"};class i{#R;#x;#C;constructor(e,t,r){this.#R=e,this.#x=t,this.#C=r}#a=(e,t,r="",n)=>{const i={name:this.#R,tag:this.#x,level:e,type:t,ts:Date.now()/1e3,message:r,metadata:n};for(const e of this.#C)e(i)};debug=(e,...t)=>this.#a(20,n.debug,e,t);info=(e,...t)=>this.#a(30,n.info,e,t);table=(e,...t)=>this.#a(30,n.table,void 0,[e,...t]);warn=(e,...t)=>this.#a(40,n.warn,e,t);error=(e,...t)=>this.#a(50,n.error,e,t);tag=e=>new i(this.#R,e,this.#C)}},e=>{e.exports=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t){var i=t[n];r[n]=i&&"object"==typeof i?e(i):i}return r}},e=>{o.SYNC=1,o.ASYNC=2,o.QUEUE=4;var t="fun-hooks",r=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,r){return[e,t,r]}),2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,a=0;if(t)r=t;else{for(;a<i&&!(a in n);)a++;r=n[a++]}for(;a<i;)a in n&&(r=e(r,n[a],a,n)),a++;return r};function a(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return i.call(a(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(r){e[r]=t[r]})),e}),e)};function o(e){var d,c={},l=[];function p(e,t){return"function"==typeof e?f.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?f.apply(null,arguments):"object"==typeof e?u.apply(null,arguments):void 0}function u(e,t,r){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),n=!1);var i={},a=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var n=t.split(":"),a=n[0],s=n[1]||"sync";if(!i[a]){var o=e[a];i[a]=e[a]=f(s,o,r?[r,a]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return i}function m(e){var r=Array.isArray(e)?e:e.split(".");return i.call(r,(function(n,i,a){var s=n[i],o=!1;return s||(a===r.length-1?(d||l.push((function(){o||console.warn(t+": referenced '"+e+"' but it was never created")})),n[i]=b((function(e){n[i]=e,o=!0}))):n[i]={})}),c)}function b(e){var t=[],r=[],i=function(){},a={before:function(e,r){return d.call(this,t,"before",e,r)},after:function(e,t){return d.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(r){return t[r]===e[r]}))})));try{s(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},o={install:function(n,a,s){this.type=n,i=s,s(t,r),e&&e(a)}};return n.set(a.after,o),a;function d(e,n,a,s){var o={hook:a,type:n,priority:s||10,remove:function(){var n=e.indexOf(o);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(o),e.sort((function(e,t){return t.priority-e.priority})),i(t,r),this}}function f(r,i,c){var p=i.after&&n.get(i.after);if(p){if(p.type!==r)throw t+": recreated hookable with different type";return i}var u,f,h=c?m(c):b(),g={get:function(e,t){return h[t]||Reflect.get.apply(Reflect,arguments)}};return d||l.push(v),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?f=new Proxy(i,g):(f=function(){return g.apply?g.apply(i,this,a(arguments)):i.apply(this,arguments)},s(f,h)),n.get(f.after).install(r,f,(function(e,t){var n,i=[];function s(e){i.push(e.hook)}e.length||t.length?(e.forEach(s),n=i.push(void 0)-1,t.forEach(s),u=function(e,t,s){var o,d=0,c="async"===r&&"function"==typeof s[s.length-1]&&s.pop();function l(e){"sync"===r?o=e:c&&c.apply(null,arguments)}function p(e){if(i[d]){var n=a(arguments);return p.bail=l,n.unshift(p),i[d++].apply(t,n)}"sync"===r?o=e:c&&c.apply(null,arguments)}return i[n]=function(){var n=a(arguments,1);"async"===r&&c&&(delete p.bail,n.push(p));var i=e.apply(t,n);"sync"===r&&p(i)},p.apply(null,s),o}):u=void 0,v()})),f;function v(){!d&&("sync"!==r||e.ready&o.SYNC)&&("async"!==r||e.ready&o.ASYNC)?"sync"!==r&&e.ready&o.QUEUE?g.apply=function(){var e=arguments;l.push((function(){f.apply(e[1],e[2])}))}:g.apply=function(){throw t+": hooked function not ready"}:g.apply=u}}return(e=s({},r,e)).ready?p.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(l)}:d=!0,p.get=m,p}e.exports=o},(e,t,r)=>{r.d(t,{a:()=>o,b:()=>m,c:()=>s,d:()=>f,e:()=>c,f:()=>p,g:()=>l});var n=r(0),i=r(15),a=r(2);const s=Object.freeze({}),o=Object.freeze({});class d{#E;#A;#k;#F;#D=!0;#B;generatedTime;hashFields;constructor(){this.reset()}#M(e){this.#F=!0,this.#A=e,this.#k.resolve(e)}reset(){this.#k=(0,i.b)(),this.#E=!1,this.#A=null,this.#F=!1,this.generatedTime=null}enable(){this.#E=!0}get enabled(){return this.#E}get ready(){return this.#F}get promise(){return this.#F?i.a.resolve(this.#A):(this.#E||this.#M(null),this.#k.promise)}setConsentData(e,t=(0,n.lb)()){this.generatedTime=t,this.#D=!0,this.#M(e)}getConsentData(){return this.#A}get hash(){return this.#D&&(this.#B=(0,n.j)(JSON.stringify(this.#A&&this.hashFields?this.hashFields.map((e=>this.#A[e])):this.#A)),this.#D=!1),this.#B}}const c=new class extends d{hashFields=["gdprApplies","consentString"];getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,n.V)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},l=new class extends d{getConsentMeta(){const e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}},p=new class extends d{hashFields=["applicableSections","gppString"];getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},u=(()=>{function e(){return!!a.b.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset(){},get promise(){return i.a.resolve(e())},get hash(){return e()?"1":"0"}}})(),m=function(){const e={},t={},r={};return{register(n,i,a){a&&((e[i]=e[i]||{})[n]=a,t.hasOwnProperty(i)?t[i]!==a&&(t[i]=r):t[i]=a)},get(n){const i={modules:e[n]||{}};return t.hasOwnProperty(n)&&t[n]!==r&&(i.gvlid=t[n]),i}}}(),b={gdpr:c,usp:l,gpp:p,coppa:u},f=function(e=b){return e=Object.entries(e),Object.assign({get promise(){return i.a.all(e.map((([e,t])=>t.promise.then((t=>[e,t]))))).then((e=>Object.fromEntries(e)))},get hash(){return(0,n.j)(e.map((([e,t])=>t.hash)).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((t=>{return[t,(r=t,function(){return Object.fromEntries(e.map((([e,t])=>[e,t[r]()])))})];var r}))))}()},(e,t,r)=>{r.d(t,{a:()=>n});const n={totalConsentTimeout:1/0,cmpTimeout:1/0}},(e,t,r)=>{r.d(t,{a:()=>n});const n=new(r(44).a)},(e,t,r)=>{r.d(t,{a:()=>g});var n=r(37),i=r(3),a=r(59),s=(r(11),r(10)),o=r(7),d=r(97),c=r(50),l=r(75),p=r(1);const{debug:u,error:m,info:b}=i.a.tag("short-circuit"),f=e=>{if((0,p.g)(e)){const t=e();return u("Forwarding retrieved HTMLElement",t),t}{const t=document.querySelector(e);if(u(`Getting HTMLElement from selector '${e}'`,t),t)return t}},h=(e,t,r)=>{const{placementId:i}=e.placement;var s;((e,t,r,i)=>{const s=i?.isDfpBypass??!1,o=i?.isSmartNoAd??!1;if(!e){b(`placement ${r} won't be rendered without content`);const e=t.skipIframe?document.body:f(t.selector);return l.a.dispatch("hsc-no-content",{placementId:r,bidResponse:void 0,renderingDiv:e,isGamBypass:s,isSmartNoAd:o})}const d=e.bidResponse,c=d.bidId;if(t.skipIframe)u(`Rendering content #${c} in current frame`),setTimeout((()=>{(0,a.a)("adServerRender",{document,adId:c}),l.a.dispatch("hsc-render",{placementId:r,bidResponse:e.bidResponse,renderingDiv:document.body,isGamBypass:s,isSmartNoAd:o})}),0);else{const i=t.selector;b(`Rendering content: #${c} for placement '${i}'`);const p=f(i);if(!p)throw new Error(`couldn't match element w/ selector '${i}' for content #${c} from placement ${r}`);u(`found element w/ selector '${i}' for content #${c}`,p);const m=((e,t,r)=>{u(`Using an iframe for bid #${e}`);const{width:i,height:a,placementId:s}=t;(0,n.i)(r)&&(0,n.c)(r);const o=document.createElement("iframe");return(0,n.l)(o,{width:i,height:a,id:`hbv-${s}`}),r.append(o),o})(c,d,p);(0,n.o)(m,(()=>{setTimeout((()=>{(0,a.a)("adServerRender",{document:m.contentDocument,adId:c}),l.a.dispatch("hsc-render",{placementId:r,bidResponse:e.bidResponse,renderingDiv:p,isGamBypass:s,isSmartNoAd:o})}),0)}))}})((s=e.content).find((({bidResponse:e})=>!e.deal?.isGuaranteed&&e.providerId===c.a))??s.find((e=>e.bidResponse.providerId===d.a)),t,i,r)},g=(e,t)=>{const r=[];for(const{renderable:n,options:i}of e)try{h(n,i,t)}catch(e){r.push(e)}if(r.length>0){const e=r.map((e=>`${e}`)).join("\n");t.isDfpBypass?(0,s.a)(new o.b(o.a.bypassGamRenderError,`failed to render while bypassing gam...\n${e}`)):m(`Failed to render the following:\n${e}`)}}},(e,t,r)=>{r.d(t,{a:()=>n});const n=new(r(66).a)},(e,t,r)=>{function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}r.d(t,{a:()=>R,b:()=>S});var i=r(23),a=r(2),s=r(87),o=r(45),d=r(33),c=r(47),l=r(5),p=r(21),u=r(4),m=r(0),b=r(9),f=r(8),h=r(18),g=r(25),v=r(22),y=r(35),I=r(17),T=r(24);const _=["cpm","ttl","creativeId","netRevenue","currency"],w=["auctionId","transactionId"];function S(e){const t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function r(e){const r=R(e);i.a.registerBidAdapter(r,e.code,t)}r(e),Array.isArray(e.aliases)&&e.aliases.forEach((t=>{let n,a,s=t;(0,m.T)(t)&&(s=t.code,n=t.gvlid,a=t.skipPbsAliasing),i.a.aliasRegistry[s]=e.code,r(Object.assign({},e,{code:s,gvlid:n,skipPbsAliasing:a}))}))}function R(e){return Object.assign(new n(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(r,n,o,b,S,R){if(!Array.isArray(r.bids))return;const C=function(e){if((0,v.a)(T.i,(0,y.a)(I.b,e)))return{bidRequest:e=>e,bidderRequest:e=>e};function t(e,t,r){return w.includes(t)?null:Reflect.get(e,t,r)}function r(e,t){const r=new Proxy(e,t);return Object.entries(e).filter((([e,t])=>"function"==typeof t)).forEach((([t,n])=>r[t]=n.bind(e))),r}const n=(0,m.$)((e=>r(e,{get:t})),(e=>e.bidId));return{bidRequest:n,bidderRequest:e=>r(e,{get:(r,i,a)=>"bids"===i?e.bids.map(n):t(r,i,a)})}}(r.bidderCode),k={},F=[];function D(){o(),a.b.runWithBidder(e.code,(()=>{p.emit(l.EVENTS.BIDDER_DONE,r),t(F,r.gdprConsent,r.uspConsent,r.gppConsent)}))}const B=A(r).measureTime("validate",(()=>r.bids.filter((t=>{return r=C.bidRequest(t),!!e.isBidRequestValid(r)||((0,m._)(`Invalid bid sent to bidder ${e.code}: ${JSON.stringify(r)}`),!1);var r}))));if(0===B.length)return void D();const M={};B.forEach((e=>{M[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),x(e,B.map(C.bidRequest),C.bidderRequest(r),b,R,{onRequest:e=>p.emit(l.EVENTS.BEFORE_BIDDER_HTTP,r,e),onResponse:t=>{S(e.code),F.push(t)},onFledgeAuctionConfigs:e=>{e.forEach((e=>{const t=M[e.bidId];t?E(t,e.config):(0,m._)("Received fledge auction configuration for an unknown bidId",e)}))},onError:(t,n)=>{S(e.code),i.a.callBidderError(e.code,n,r),p.emit(l.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:r}),(0,m.X)(`Server call for ${e.code} failed: ${t} ${n.status}. Continuing without bids.`)},onBid:t=>{const r=M[t.requestId];if(r){if(t.adapterCode=r.bidder,function(e,t){let r=h.a.get(t,"allowAlternateBidderCodes")||!1,n=h.a.get(t,"allowedAlternateBidderCodes");return!!(e&&t&&t!==e&&(n=(0,m.L)(n)?n.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(m.ob):n,!r||(0,m.L)(n)&&"*"!==n[0]&&!n.includes(e)))}(t.bidderCode,r.bidder))return(0,m._)(`${t.bidderCode} is not a registered partner or known bidder of ${r.bidder}, hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.`),void n.reject(r.adUnitCode,t,l.REJECTION_REASON.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[r.bidder]);const e=Object.assign((0,s.a)(l.STATUS.GOOD,r),t,(0,m.fb)(r,w));!function(e,t){const r=(0,g.d)(t.metrics);r.checkpoint("addBidResponse"),k[e]=!0,r.measureTime("addBidResponse.validate",(()=>function(e,t,{index:r=f.a.index}={}){function n(e){return`Invalid bid from ${t.bidderCode}. Ignoring bid: ${e}`}return e?t?function(){let e=Object.keys(t);return _.every((r=>(0,u.c)(e,r)&&!(0,u.c)([void 0,null],t[r])))}()?"native"!==t.mediaType||(0,d.i)(t,{index:r})?"video"!==t.mediaType||(0,c.d)(t,{index:r})?!("banner"===t.mediaType&&!function(e,t,{index:r=f.a.index}={}){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;const n=r.getBidRequest(t),i=r.getMediaTypes(t),a=n&&n.sizes||i&&i.banner&&i.banner.sizes,s=(0,m.db)(a);if(1===s.length){const[e,r]=s[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(r,10),!0}return!1}(0,t,{index:r})&&((0,m.X)(n("Banner bids require a width and height")),1)):((0,m.X)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,m.X)(n("Native bid missing some required properties.")),!1):((0,m.X)(n(`Bidder ${t.bidderCode} is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.`)),!1):((0,m._)(`Some adapter tried to add an undefined bid for ${e}.`),!1):((0,m._)("No adUnitCode was supplied to addBidResponse."),!1)}(e,t)))?n(e,t):n.reject(e,t,l.REJECTION_REASON.INVALID)}(r.adUnitCode,e)}else(0,m._)(`Bidder ${e.code} made bid for unknown request ID: ${t.requestId}. Ignoring.`),n.reject(null,t,l.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:D})}});function t(t,r,n,i){C(e,t,r,n,i)}}const x=(0,b.b)("sync",(function(e,t,r,n,i,{onRequest:a,onResponse:s,onFledgeAuctionConfigs:o,onError:d,onBid:c,onCompletion:l}){const p=A(r);l=p.startTiming("total").stopBefore(l);let u=p.measureTime("buildRequests",(()=>e.buildRequests(t,r)));if(!u||0===u.length)return void l();Array.isArray(u)||(u=[u]);const b=t,f=u.length,g=b.length/f,_=(0,m.n)(l,u.length);u.forEach((t=>{const r="string"==typeof t.data?t.data:JSON.stringify(t.data),l=new Blob([r]).size/g||void 0;for(const e of b)e.hbvMetadata.payloadBidRequestSize=l;const u=p.fork();function f(e){null!=e&&(e.metrics=u.fork().renameWith()),c(e)}const w=i((function(r,n){R();try{r=JSON.parse(r)}catch(e){}r={body:r,headers:{get:n.getResponseHeader.bind(n)}};const i=new Blob([n.getAllResponseHeaders()]).size,a=parseInt(n.getResponseHeader("content-length"),10)||new Blob([n.responseText]).size,d=a?(i+a)/g:void 0;for(const e of b)e.hbvMetadata.payloadBidResponseSize=d;s(r);try{r=u.measureTime("interpretResponse",(()=>e.interpretResponse(r,t)))}catch(t){return(0,m.X)(`Bidder ${e.code} failed to interpret the server's response. Continuing without bids`,null,t),void _()}let c;r&&(0,m.L)(r.fledgeAuctionConfigs)?(o(r.fledgeAuctionConfigs),c=r.bids):c=r,c&&((0,m.L)(c)?c.forEach(f):f(c)),_()})),S=i((function(e,t){R(),d(e,t),_()}));a(t);const R=u.startTiming("net");function x(r){const n=t.options;return Object.assign(r,n,{browsingTopics:!(n?.hasOwnProperty("browsingTopics")&&!n.browsingTopics)&&(h.a.get(e.code,"topicsHeader")??!0)&&(0,v.a)(T.j,(0,y.a)(I.b,e.code))})}switch(t.method){case"GET":n(`${t.url}${C=t.data,C?`?${"object"==typeof C?(0,m.cb)(C):C}`:""}`,{success:w,error:S},void 0,x({method:"GET",withCredentials:!0}));break;case"POST":n(t.url,{success:w,error:S},"string"==typeof t.data?t.data:JSON.stringify(t.data),x({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,m._)(`Skipping invalid request from ${e.code}. Request type ${t.type} must be GET or POST`),_()}var C}))}),"processBidderRequests"),C=(0,b.b)("async",(function(e,t,r,n,s){const d=a.b.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(d||!i.a.aliasRegistry[e.code])){let i=a.b.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!i||!i.iframe&&!i.all),pixelEnabled:!(!i||!i.image&&!i.all)},t,r,n,s);d&&(Array.isArray(d)||(d=[d]),d.forEach((t=>{o.userSync.registerSync(t.type,e.code,t.url)})),o.userSync.bidderDone(e.code))}}),"registerSyncs"),E=(0,b.b)("sync",(()=>{}),"addComponentAuction");function A(e){return(0,g.d)(e.metrics).renameWith((t=>[`adapter.client.${t}`,`adapters.client.${e.bidderCode}.${t}`]))}},(e,t,r)=>{r.d(t,{a:()=>o,b:()=>s});const n=(e,t,r)=>{r?e.setItem(t,r):e.removeItem(t)},i=(e,t)=>e.getItem(t),a=(e,t,r)=>{try{switch(e){case"in-memory":return;case"session-storage":return n(sessionStorage,t,r);case"local-storage":return n(localStorage,t,r)}}catch{}},s=(e,t,r)=>{const n=["in-memory","session-storage","local-storage"];for(const i of n)a(i,t,i===e?r:null)},o=(e,t)=>{try{switch(e){case"in-memory":return null;case"session-storage":return i(sessionStorage,t);case"local-storage":return i(localStorage,t)}}catch(e){return null}}},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>i,c:()=>s});var n=r(1);const i=e=>(0,n.m)(e)&&(0,n.q)(e.bidder)&&(0,n.q)(e.creativeId)&&(0,n.q)(e.placementId),a=(e,t,r)=>e.createComment(` Hubvisor: '${r.creativeType}' creative #${t.creativeId} from '${t.bidder}' for placement '${t.placementId}' `),s=(e,t,r)=>{const n=()=>{e.body.insertBefore(a(e,t,r),e.body.firstChild)};e.body?n():e.addEventListener("DOMContentLoaded",n)}},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>i});var n=r(1);const i=(e,...t)=>{const r=e.weight+t.reduce(((e,t)=>e+t.weight),0);if(r<=0)return e.value;let n=Math.random()*r;for(const r of[e,...t]){if(n<r.weight)return r.value;n-=r.weight}return e.value},a=(e,t)=>{const r=Math.random(),a=((e,...t)=>i({value:e,weight:1},...t.map((e=>({value:e,weight:1})))))(e[0],...e.slice(1));return(0,n.i)(a)&&r<=t?a:void 0}},(e,t,r)=>{r.d(t,{a:()=>u,b:()=>b});var n=r(4),i=r(0),a=r(2);const s=2,o={buckets:[{max:5,increment:.5}]},d={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},l={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},p={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(e,t,r=1){let n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":m(e,o,r),med:""===n?"":m(e,d,r),high:""===n?"":m(e,c,r),auto:""===n?"":m(e,p,r),dense:""===n?"":m(e,l,r),custom:""===n?"":m(e,t,r)}}function m(e,t,r){let o="";if(!b(t))return o;const d=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0});let c=0,l=(0,n.b)(t.buckets,(t=>{if(e>d.max*r){let e=t.precision;void 0===e&&(e=s),o=(t.max*r).toFixed(e)}else{if(e<=t.max*r&&e>=c*r)return t.min=c,t;c=t.max}}));return l&&(o=function(e,t,r){const n=void 0!==t.precision?t.precision:s,o=t.increment*r,d=t.min*r;let c=Math.floor,l=a.b.getConfig("cpmRoundingFunction");"function"==typeof l&&(c=l);let p,u,m=Math.pow(10,n+2),b=(e*m-d*m)/(o*m);try{p=c(b)*o+d}catch(e){u=!0}return(u||"number"!=typeof p)&&((0,i._)("Invalid rounding function passed in config"),p=Math.floor(b)*o+d),p=Number(p.toFixed(10)),p.toFixed(n)}(e,l,r)),o}function b(e){if((0,i.O)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}},(e,t,r)=>{r.d(t,{a:()=>g,b:()=>h,c:()=>b});var n=r(0),i=r(18),a=r(17),s=r(22),o=r(16),d=r(24),c=r(2),l=r(23),p=r(35);const u="html5",m="cookie";let b=[];function f({moduleName:e,moduleType:t}={},{isAllowed:r=s.a}={}){function i(n,i){let s=e;const u=c.b.getCurrentBidder();return u&&t===a.b&&l.a.aliasRegistry[u]===e&&(s=u),n({valid:r(d.a,(0,p.a)(t,s,{[o.f]:i}))})}function f(e,t,r){if(!r||"function"!=typeof r)return i(e,t);b.push((function(){let n=i(e,t);r(n)}))}const h=function(e){return f((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,n.X)("Local storage api disabled")}return!1}),u,e)};return{setCookie:function(e,t,r,n,i,a){return f((function(a){if(a&&a.valid){const a=i&&""!==i?` ;domain=${encodeURIComponent(i)}`:"",s=r&&""!==r?` ;expires=${r}`:"",o=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${s}; path=/${a}${n?`; SameSite=${n}`:""}${o}`}}),m,a)},getCookie:function(e,t){return f((function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}),m,t)},localStorageIsEnabled:function(e){return f((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),u,e)},cookiesAreEnabled:function(e){return f((function(e){return!(!e||!e.valid)&&(0,n.f)()}),m,e)},setDataInLocalStorage:function(e,t,r){return f((function(r){r&&r.valid&&h()&&window.localStorage.setItem(e,t)}),u,r)},getDataFromLocalStorage:function(e,t){return f((function(t){return t&&t.valid&&h()?window.localStorage.getItem(e):null}),u,t)},removeDataFromLocalStorage:function(e,t){return f((function(t){t&&t.valid&&h()&&window.localStorage.removeItem(e)}),u,t)},hasLocalStorage:h,findSimilarCookies:function(e,t){return f((function(t){if(t&&t.valid){const t=[];if((0,n.D)()){const r=document.cookie.split(";");for(;r.length;){const n=r.pop();let i=n.indexOf("=");i=i<0?n.length:i,decodeURIComponent(n.slice(0,i).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(n.slice(i+1)))}}return t}}),m,t)}}}function h({moduleType:e,moduleName:t,bidderCode:r}={}){function n(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return r?((e&&e!==a.b||t)&&n(),e=a.b,t=r):t&&e||n(),f({moduleType:e,moduleName:t})}function g(e){return f({moduleName:e,moduleType:a.c})}(0,s.b)(d.a,"deviceAccess config",(function(){if(!(0,n.D)())return{allow:!1}})),(0,s.b)(d.a,"bidderSettings.*.storageAllowed",(function(e,t=i.a){if(e[o.d]!==a.b)return;let r=t.get(e[o.a],"storageAllowed");if(r&&!0!==r){const t=e[o.f];r=Array.isArray(r)?r.some((e=>e===t)):r===t}else r=!!r;return r?void 0:{allow:r}}))},(e,t,r)=>{r.d(t,{a:()=>s});var n=r(6);let i={};function a(e,t,r){let n=function(e,t){let r=i[e]=i[e]||{bidders:{}};return t?r.bidders[t]=r.bidders[t]||{}:r}(e,r);return n[t]=(n[t]||0)+1,n[t]}let s={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.a)(i,`${e}.requestsCounter`)||0},getBidderRequestsCounter:function(e,t){return(0,n.a)(i,`${e}.bidders.${t}.requestsCounter`)||0},getBidderWinsCounter:function(e,t){return(0,n.a)(i,`${e}.bidders.${t}.winsCounter`)||0}}},(e,t,r)=>{r.d(t,{a:()=>o,b:()=>d});var n=r(2),i=r(0);let a=1;const s=[];function o(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:a)}function d(e){s.push(e)}n.b.getConfig("ttlBuffer",(e=>{if("number"==typeof e.ttlBuffer){const t=a;a=e.ttlBuffer,t!==a&&s.forEach((e=>e(a)))}else(0,i.X)("Invalid value for ttlBuffer",e.ttlBuffer)}))},(e,t,r)=>{r.d(t,{a:()=>c,b:()=>p,c:()=>l});var n=r(85),i=r(0),a=r(6),s=r(4);const o=(0,r(14).a)(),d="outstream";function c(e){const{url:t,config:r,id:c,callback:l,loaded:p,adUnitCode:u,renderNow:m}=e;this.url=t,this.config=r,this.handlers={},this.id=c,this.renderNow=m,this.loaded=p,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,i.X)("Commands given to Renderer.push must be wrapped in a function")},this.callback=l||(()=>{this.loaded=!0,this.process()}),this.render=function(){const e=arguments,r=()=>{this._render?this._render.apply(this,e):(0,i._)("No render function was provided, please use .setRender on the renderer")};!function(e){const t=o.adUnits,r=(0,s.b)(t,(t=>t.code===e));if(!r)return!1;const n=(0,a.a)(r,"renderer"),i=!!(n&&n.url&&n.render),d=(0,a.a)(r,"mediaTypes.video.renderer"),c=!!(d&&d.url&&d.render);return!!(i&&!0!==n.backupOnly||c&&!0!==d.backupOnly)}(u)?m?r():(this.cmd.unshift(r),(0,n.a)(t,d,this.callback,this.documentContext)):((0,i._)(`External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ${u}`),r())}.bind(this)}function l(e){return!(!e||!e.url&&!e.renderNow)}function p(e,t,r){let n=null;e.config&&e.config.documentResolver&&(n=e.config.documentResolver(t,document,r)),n||(n=document),e.documentContext=n,e.render(t,e.documentContext)}c.install=function({url:e,config:t,id:r,callback:n,loaded:i,adUnitCode:a,renderNow:s}){return new c({url:e,config:t,id:r,callback:n,loaded:i,adUnitCode:a,renderNow:s})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function({id:e,eventName:t}){"function"==typeof this.handlers[t]&&this.handlers[t](),(0,i.Z)(`Prebid Renderer event for id ${e} type ${t}`)},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,i.X)("Error processing Renderer command: ",e)}}},(e,t,r)=>{r.d(t,{a:()=>o});var n=r(4),i=r(0);const a=new WeakMap,s=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","mediafilter","qortex","dynamicAdBoost"];function o(e,t,r,o,d){if(!t||!e)return void(0,i.X)("cannot load external script without url and moduleCode");if(!(0,n.c)(s,t))return void(0,i.X)(`${t} not whitelisted for loading external JavaScript`);o||(o=document);const c=u(o,e);if(c)return r&&"function"==typeof r&&(c.loaded?r():c.callbacks.push(r)),c.tag;const l=a.get(o)||{},p={loaded:!1,tag:null,callbacks:[]};return l[e]=p,a.set(o,l),r&&"function"==typeof r&&p.callbacks.push(r),(0,i._)(`module ${t} is loading external JavaScript`),function(t,r,n,a){n||(n=document);var s=n.createElement("script");s.type="text/javascript",s.async=!0;const o=u(n,e);return o&&(o.tag=s),s.readyState?s.onreadystatechange=function(){"loaded"!==s.readyState&&"complete"!==s.readyState||(s.onreadystatechange=null,r())}:s.onload=function(){r()},s.src=t,a&&(0,i.jb)(s,a),(0,i.F)(s,n),s}(e,(function(){p.loaded=!0;try{for(let e=0;e<p.callbacks.length;e++)p.callbacks[e]()}catch(e){(0,i.X)("Error executing callback","adloader.js:loadExternalScript",e)}}),o,d);function u(e,t){const r=a.get(e);return r&&r[t]?r[t]:null}}},(e,t,r)=>{r.d(t,{a:()=>s});var n=r(8),i=r(18),a=r(0);function s(e,t,r,{index:s=n.a.index,bs:o=i.a}={}){r=r||s.getBidRequest(t);const d=t?.adapterCode,c=t?.bidderCode||r?.bidder,l=o.get(t?.adapterCode,"adjustAlternateBids"),p=o.getOwn(c,"bidCpmAdjustment")||o.get(l?d:c,"bidCpmAdjustment");if(p&&"function"==typeof p)try{return p(e,Object.assign({},t),r)}catch(e){(0,a.X)("Error during bid adjustment",e)}return e}},(e,t,r)=>{r.d(t,{a:()=>a});var n=r(0);function i(e,{src:t="client",bidder:r="",bidId:i,transactionId:a,auctionId:s}={}){var o=t,d=e||0;this.bidderCode=r,this.width=0,this.height=0,this.statusMessage=function(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=(0,n.x)(),this.requestId=i,this.transactionId=a,this.auctionId=s,this.mediaType="banner",this.source=o,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function a(e,t){return new i(e,t)}},(e,t,r)=>{function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,a=0,s=t.length,o=e;a<s&&"__proto__"!==(i=t[a++])&&"constructor"!==i&&"prototype"!==i;)o=o[i]=a===s?r:typeof(n=o[i])==typeof t?n:0*t[a]!=0||~(""+t[a]).indexOf(".")?{}:[]}r.d(t,{a:()=>n})},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(1);const i=e=>(0,n.j)(e)?[]:(0,n.c)(e)?[...e]:[e]},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>c,c:()=>i,d:()=>p});const n=["request","imp","bidResponse","response"],[i,a,s,o]=n,[d,c]=["default","pbs"],l=new Set(n),{registerOrtbProcessor:p,getProcessors:u}=function(){const e={};return{registerOrtbProcessor({type:t,name:r,fn:i,priority:a=0,dialects:s=[d]}){if(!l.has(t))throw new Error(`ORTB processor type must be one of: ${n.join(", ")}`);s.forEach((n=>{e.hasOwnProperty(n)||(e[n]={}),e[n].hasOwnProperty(t)||(e[n][t]={}),e[n][t][r]={priority:a,fn:i}}))},getProcessors:t=>e[t]||{}}}()},(e,t,r)=>{r.d(t,{a:()=>a});var n=r(4),i=r(0);function a(e){const t=function(e){let t;return(0,i.Q)()&&(t=(0,n.b)(window.googletag.pubads().getSlots(),function(e){return t=>(0,i.g)(t,e)}(e))),t}(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}},(e,t,r)=>{r.d(t,{a:()=>a,b:()=>n});const n=(e,t)=>{const r={...e};if(t.overrideMediaTypes)return t.overrideMediaTypes;const n=t.allowedMediaTypes;if(n){const e=Object.keys(r);for(const t of e)n.includes(t)||delete r[t]}return r},i=(e,t,r,i,a)=>{i.provideFormatter(t.bidder)(e,{placement:r,bid:t,resolvedMediaTypes:n(r.bidRequest.mediaTypes,t),context:a})},a=(e,t,r,n)=>{for(const a of t)for(const t of a.bidRequest.bids)i(e,t,a,r,n);return e}},(e,t,r)=>{r.d(t,{a:()=>n});const n=(e,t=document)=>new Promise(((r,n)=>{const i=t.createElement("script");i.async=!0,i.src=e,i.addEventListener("load",(()=>r())),i.addEventListener("error",(e=>n(e))),t.head.append(i)}))},(e,t,r)=>{r.d(t,{a:()=>n});const n=(e,t)=>{let r;return(...n)=>{r&&clearTimeout(r),r=window.setTimeout((()=>{r=void 0,e(...n)}),1e3*t)}}},(e,t,r)=>{r.d(t,{a:()=>n});const n=(e,t)=>({kind:e,value:t})},(e,t,r)=>{r.d(t,{a:()=>n});const n="amazon"},(e,t,r)=>{r.d(t,{a:()=>n});const n="backfill"},(e,t,r)=>{r.r(t),r.d(t,{AmazonContentProvider:()=>X,isAmazonBidResponse:()=>H});var n=r(3),i=r(92),a=r(12),s=r(13);const{debug:o,warn:d}=n.a.tag("apstag"),c=(0,a.a)((e=>{e.loadScript&&(()=>{if(window.apstag)return;const e=(e,t)=>{window.apstag?._Q.push([e,t])};window.apstag={init(){e("i",arguments)},fetchBids(){e("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],renderImp(){},_Q:[]};const t=document.createElement("script");t.async=!0,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",document.scripts[0]?.insertAdjacentElement("afterend",t)})(),window.apstag&&e.config&&(o("Initializing apstag",e.config),window.apstag.init(e.config))}));var l=r(1);const{warn:p}=n.a.tag("content-provider:amazon:accumulator");class u{#O={};push=e=>{this.#O[e.slot.slotID]&&p(`Amazon does not support multiple bids per slotId '${e.slot.slotID}'`,e),this.#O[e.slot.slotID]=e};build=()=>Object.values(this.#O).filter(l.i)}var m=r(53),b=r(51),f=r(61),h=r(49);const g=(e,{placement:t,bid:r,resolvedMediaTypes:n})=>{n.banner&&e.push({metadata:{bidId:`amzn-${(0,f.a)()}`,bidder:r.bidder,placementId:t.placementId,displayFormat:m.a.banner,mediaType:"banner",requestSizes:n.banner.sizes},slot:{slotID:r.params?.slotId??t.placementId,sizes:n.banner.sizes,slotName:r.params?.slotName}}),n.outstream&&e.push({metadata:{bidId:`amzn-outstream-${(0,f.a)()}`,bidder:r.bidder,placementId:t.placementId,displayFormat:m.a.outstream,mediaType:"video",requestSizes:[]},slot:{slotID:r.params?.slotId??t.placementId,mediaType:"video",sizes:r.params.sizes}}),n.instream&&e.push({metadata:{bidId:`amzn-instream-${(0,f.a)()}`,bidder:r.bidder,placementId:t.placementId,displayFormat:m.a.instream,mediaType:"video",requestSizes:[]},slot:{slotID:r.params?.slotId??t.placementId,mediaType:"video"}})};var v=r(27),y=r(29),I=r(31);const T=e=>(0,l.m)(e)&&(0,l.m)(e.targeting)&&(0,l.j)(e.amznbid);var _=r(96),w=r(78),S=r(95),R=r(7),x=r(37),C=r(10),E=r(93),A=r(65),k=r(41);const{info:F,error:D}=n.a.tag("amazon:outstream-player"),B=new Map;var M=r(39),O=r(38),V=r(40),P=r(73);const{error:U,debug:q,info:N}=n.a.tag("content-provider:amazon"),$=e=>{if(!e)return[0,0];const[t=0,r=0]=e.split("x").map((e=>parseInt(e,10))).map((e=>isNaN(e)?0:e));return[t,r]},j=e=>T(e)?$(e.targeting.amznsz):$(e.amznsz),z=e=>{if(T(e))return e.targeting;{const{amznbid:t,amzniid:r,amznp:n,amznsz:i,amznactt:a}=e;return{amznbid:t,amzniid:r,amznp:n,amznsz:i,amznactt:a}}},L=e=>{if(T(e)){const t=Object.entries(e.targeting).find((([e])=>e.endsWith("amzniid")));return t?.[1]??"unknown"}return e.amzniid},H=e=>!!e.amazon;class X{#V;#P;#U;#q;constructor(e){for(const e of["amznbid","amzniid","amznp","amznsz","amznactt"])v.i.add(e);this.#q=e.bus,this.#q.on(O.a.AmazonRenderRequest,(e=>{try{this.#U?.(...e)}catch(e){const t=new R.b(R.a.amazonRenderingFailed,`Error while rendering Amazon ${e}`);return reportError(t)}})),e.globalSettings.amazon?this.#P=e.globalSettings.amazon:U("AmazonContentProvider was loaded, but no configuration was provided: Amazon wrapper can't be initialized"),this.#V=e.globalSettings.bidderAliases}#N=e=>(0,l.m)(e)&&!0===e.timeout;#$=e=>{if((0,l.q)(e.amznbid)&&this.#P?.cpmMapping){const t=this.#P.cpmMapping[e.amznbid];if(t)return"EUR"===this.#P.currency?t/Number(V.remoteConfiguration.currentValue?.currencies.rates.USD?V.remoteConfiguration.currentValue?.currencies.rates.USD.EUR:1):t}return 0};#j=e=>{const t=`${Math.round(1e12*Math.random())}${Date.now()}`;return`https://aax.amazon-adsystem.com/e/dtb/vast?b=${e.amzniid}&pp=${e.amznbid}&rnd=${t}`};#z=(e,t,r,n,i)=>{const a=(e=>{const t={};for(const n of e)t[(r=n,r.slot.slotID)]=n;var r;return t})(n);for(const n of i){const i=a[n.slotID];if(!i)continue;if(this.#N(n)){e.timeouts.push({placementId:i.metadata.placementId,bidId:i.metadata.bidId,bidder:i.metadata.bidder,displayFormat:i.metadata.displayFormat,mediaType:i.metadata.mediaType,vendorId:793,requestSizes:i.metadata.requestSizes,userIdPartners:[],demandSource:"apstag"}),delete a[n.slotID];continue}const[s,o]=j(n),d=z(n);if(T(n))for(const e of Object.keys(d))v.i.add(e);if(""===d.amznbid&&""===d.amzniid&&""===d.amznp&&"0x0"===d.amznsz)continue;if(""===d.amzniid&&"0x0"===d.amznsz)continue;const c={providerId:_.a,amazon:n,auctionId:t,placementId:i.metadata.placementId,bidId:i.metadata.bidId,bidder:i.metadata.bidder,vendorId:793,mediaType:i.metadata.mediaType,width:s,height:o,creativeId:L(n),cpm:this.#$(d),currency:"USD",originalCpm:0,originalCurrency:this.#P?.currency??"USD",isNetRevenue:!1,targetings:d,ttl:30,fetchDuration:r,native:void 0,vastUrl:void 0,vastXml:void 0,displayFormat:i.metadata.displayFormat,requestSizes:i.metadata.requestSizes,userIdPartners:[],requestParams:void 0,demandSource:"apstag"};"outstream"!==c.displayFormat||T(c.amazon)||(c.vastUrl=this.#j(c.amazon)),e.bids.push(c),delete a[n.slotID]}for(const t of Object.values(a))t&&e.noBids.push({placementId:t.metadata.placementId,bidId:t.metadata.bidId,bidder:t.metadata.bidder,displayFormat:t.metadata.displayFormat,mediaType:t.metadata.mediaType,vendorId:793,requestSizes:t.metadata.requestSizes,userIdPartners:[],demandSource:"apstag"})};#L=()=>P.a.value?.()??[];#H=(e,t)=>{if(!this.#P?.pubId)return;const r={bidTimeout:e.bidderTimeout,pubID:this.#P.pubId,adServer:this.#P.adServer,videoAdServer:this.#P.videoAdServer};if(this.#P.enableDeals&&(r.deals=!0),t&&(r.gpdr={enabled:!0,consent:t}),e.amazonOrtb2){const t={...e.amazonOrtb2.user,eids:this.#L()};r.signals={ortb2:{...e.amazonOrtb2,user:t}}}return r};#X=(0,a.a)((()=>{window.apstag?.renderImp&&(this.#U=window.apstag?.renderImp.bind(window.apstag),window.apstag.renderImp=(...e)=>{const[t,r]=e,n=r&&B.get(r);if(this.#P?.useHbvPlayer&&n){B.delete(r);const{bid:i,placement:a}=n;(async(e,t,r)=>{const n=e.defaultView?.frameElement;(0,x.h)(n)&&(0,x.d)(n),(0,w.c)(e,t,{creativeType:"outstream-player"});const i=document.querySelector(r.rendering?.outstream?.selector??`#${r.placementId}`)??e.body;try{return await(0,E.a)("https://cdn.hubvisor.io/wrapper/common/player.js"),(0,A.a)(i,{vastUrl:t.vastUrl,vastXml:t.vastXml,targetWidth:t.width,targetHeight:t.height,renderContext:{document:e,bidResponse:t,context:void 0},...r.rendering?.outstream,onEvent:(e,r)=>{const n=(0,S.a)(e,r);switch(n.kind){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":return k.a.emit("outstream-imp",{adId:t.bidId,kind:"impression"===n.kind?"video-imp":n.kind}),F(`Outstream ${n.kind} pixel triggered for ${t.placementId}`);case"error":return D("Error playing outstream",JSON.stringify({error:n.value,bidResponse:t}))}}}),!0}catch(e){return(0,C.a)(new R.b(R.a.outstreamPlayerLoadingFailed,`failed to load player: ${e.message} - bid ${t.bidder} ${t.vastUrl} ${t.vastXml}  - ${JSON.stringify(e)}`),e),!1}})(t,i,a).then((n=>{n||this.#U?.(...e),this.#q.emit(O.a.amazonImp,{amzniid:r,doc:t})}))}else this.#U?.(...e),r&&this.#q.emit(O.a.amazonImp,{amzniid:r,doc:t})})}));provideContent=async(e,t)=>{const r={bids:[],noBids:[],timeouts:[],rejectedBids:[]};if(!this.#P)return r;const n=(0,I.b)(y.a.currentValue?.tcData);if(this.#P.abortOnNoConsent&&(0,M.b)())return q("no consent: skipping Amazon auction"),r;c({config:this.#H(t,n),loadScript:!this.#P.skipScriptLoad});const a=(0,i.a)(new u,t.placements,{provideFormatter:(o=this.#V,e=>(o[e]??e)!==b.a.amazon?h.a:g)},t.context).build();var o,l;if(a.length>0)try{const n=a.map((e=>e.slot));N(`Starting auction with id #${e}`,n);const i=1e3*t.bidderTimeout,o=Date.now(),c=await(l={slots:n,timeout:i},new Promise(((e,t)=>{if(window.apstag){const t={resolved:!1};window.apstag.fetchBids(l,(r=>{t.resolved=!0,e(r)})),l.timeout&&(0,s.b)(l.timeout/1e3).then((()=>{t.resolved||(d(`Amazon 'fetchBids' didn't respond within timeout of ${l.timeout}ms`),e(l.slots.map((({slotID:e})=>({slotID:e,timeout:!0})))))}))}else t(new Error("'fetchBids' was called before 'setupApstag' and this is a developer error"))}))),p=Date.now()-o;N(`Ended auction with id #${e}`,c),this.#z(r,e,p,a,c);for(const e of r.bids)if("outstream"===e.displayFormat&&!T(e.amazon)){const r=t.placements.find((t=>t.placementId===e.placementId));r&&B.set(e.creativeId,{bid:e,placement:r})}this.#X()}catch(e){U("Error requesting bids to Amazon",e)}return r}}},(e,t,r)=>{r.r(t),r.d(t,{_floorDataForAuction:()=>A,addBidResponseHook:()=>te,allowedFields:()=>S,calculateAdjustedFloor:()=>O,continueAuction:()=>z,createFloorsDataForAuction:()=>j,fieldMatchingFunctions:()=>D,generateAndHandleFetch:()=>Q,getBiddersCpmAdjustment:()=>M,getFirstMatchingFloor:()=>B,getFloor:()=>P,getFloorDataFromAdUnits:()=>q,getFloorsDataForAuction:()=>U,handleFetchResponse:()=>J,handleSetFloorsConfig:()=>ee,isFloorsDataValid:()=>W,normalizeDefault:()=>L,parseFloorData:()=>G,pickRandomModel:()=>$,requestBidsHook:()=>Y,setImpExtPrebidFloors:()=>ne,setOrtbExtPrebidFloors:()=>ie,setOrtbImpBidFloor:()=>re,updateAdUnitsForAuction:()=>N});var n=r(0),i=r(6),a=r(88),s=r(14),o=r(2),d=r(34),c=r(21),l=r(5),p=r(9),u=r(4),m=r(48),b=r(18),f=r(8),h=r(90),g=r(25),v=r(86),y=r(91);function I(e,t,r,n=!0){if(t===r)return e;let i=e;try{i=(0,s.a)().convertCurrency(e,t,r)}catch(e){if(!n)throw e}return i}const T="Price Floors",_=(0,d.a)(1e4),w=Symbol();let S=[w,"gptSlot","adUnitCode","size","domain","mediaType"],R=!1,x=!1,C={},E=[],A={};const k=(()=>{let e;return function(){return null==e&&(e=(0,n.eb)((0,m.a)().topmostLocation,{noDecodeWholeURL:!0}).hostname),e}})();function F(e,t,{index:r=f.a.index}={}){return e?.adUnitCode||r.getAdUnit(t).code}let D={[w]:()=>"*",size:(e,t)=>(0,n.bb)(t.size)||"*",mediaType:(e,t)=>t.mediaType||"banner",gptSlot:(e,t)=>function(e,{index:t=f.a.index}={}){const r=t.getAdUnit({transactionId:e});return"gam"===(0,i.a)(r,"ortb2Imp.ext.data.adserver.name")&&r.ortb2Imp.ext.data.adserver.adslot}((e||t).transactionId)||(0,y.a)(F(e,t)).gptSlot,domain:k,adUnitCode:(e,t)=>F(e,t)};function B(e,t,r={}){let n=function(e,t,r){return e.length?e.reduce(((e,n)=>{let i=D[n](t,r)||"*";return e.push("*"===i?["*"]:[i.toLowerCase(),"*"]),e}),[]):[]}((0,i.a)(e,"schema.fields")||[],t,r);if(!n.length)return{matchingFloor:void 0};let s=n.map((e=>e[0])).join("-"),o=(0,i.a)(e,`matchingInputs.${s}`);if(o)return{...o};let d=(c=n,l=(0,i.a)(e,"schema.delimiter")||"|",c.reduce(((e,t)=>{let r=[];return e.map((e=>{t.map((t=>{r.push(e+l+t)}))})),r})).sort(((e,t)=>e.split("*").length-t.split("*").length)));var c,l;let p=(0,u.b)(d,(t=>e.values.hasOwnProperty(t))),m={floorMin:e.floorMin||0,floorRuleValue:e.values[p],matchingData:d[0],matchingRule:p===e.meta?.defaultRule?void 0:p};const b=(0,i.a)(t,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof b&&(m.floorMin=b),m.matchingFloor=Math.max(m.floorMin,m.floorRuleValue),(0,a.a)(e,`matchingInputs.${s}`,{...m}),m}function M(e,t,r){return parseFloat((0,v.a)(e,{...t,cpm:e},r))}function O(e,t){const r=Math.pow(10,10);return e*r/(t*r)*(e*r)/r}const V={banner:e=>(0,i.a)(e,"mediaTypes.banner.sizes")||[],video:e=>(0,i.a)(e,"mediaTypes.video.playerSize")||[],native:e=>(0,i.a)(e,"mediaTypes.native.image.sizes")?[(0,i.a)(e,"mediaTypes.native.image.sizes")]:[]};function P(e={currency:"USD",mediaType:"*",size:"*"}){let t=this,r=A[t.auctionId];if(!r||r.skipped)return{};e=function(e,t){let r=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===r.length&&(t.mediaType=r[0]),"*"===t.size&&-1!==r.indexOf(t.mediaType)&&V[t.mediaType]&&1===V[t.mediaType](e).length&&(t.size=V[t.mediaType](e)[0]),t}(t,e);let i=B(r.data,{...t},{mediaType:e.mediaType,size:e.size}),a=e.currency||r.data.currency;if(i.matchingFloor&&a!==r.data.currency)try{i.matchingFloor=(0,s.a)().convertCurrency(i.matchingFloor,r.data.currency,a)}catch(e){(0,n._)(`${T}: Unable to get currency conversion for getFloor for bidder ${t.bidder}. You must have currency module enabled with defaultRates in your currency config`),a=r.data.currency}if(r.enforcement.bidAdjustment&&i.matchingFloor){const e=b.a.get(t.bidder,"inverseBidAdjustment");if(e)i.matchingFloor=e(i.matchingFloor,t);else{let e=M(i.matchingFloor,null,t);i.matchingFloor=e?O(i.matchingFloor,e):i.matchingFloor}}return i.matchingFloor?{floor:(o=i.matchingFloor,Math.ceil((parseFloat(o)*Math.pow(10,4)).toFixed(1))/Math.pow(10,4)),currency:a}:{};var o}function U(e,t){let r=(0,n.l)(e);return r.schema.delimiter=e.schema.delimiter||"|",r.values=function(e,t){let r=e.schema.fields,n=e.schema.delimiter,i=t&&-1===r.indexOf("adUnitCode")&&r.unshift("adUnitCode");return Object.keys(e.values).reduce(((r,a)=>(r[(i?`${t}${n}${a}`:a).toLowerCase()]=e.values[a],r)),{})}(r,t),r.currency=r.currency||"USD",r}function q(e){const t=e.find((e=>null!=e.floors?.schema));return e.reduce(((e,r)=>{if(null!=r.floors?.schema&&!(0,n.m)(r.floors.schema,t?.floors?.schema))return(0,n.X)(`${T}: adUnit '${r.code}' declares a different schema from one previously declared by adUnit '${t.code}'. Floor config for '${r.code}' will be ignored.`),e;const i=Object.assign({},t?.floors,{values:void 0},r.floors);if(W(i))if(e.values){let t=U(i,r.code).values;Object.assign(e.values,t)}else(e=U(i,r.code)).location="adUnit";else null!=r.floors&&(0,n._)(`adUnit '${r.code}' provides an invalid \`floor\` definition, it will be ignored for floor calculations`,r);return e}),{})}function N(e,t,r){e.forEach((e=>{e.bids.forEach((e=>{t.skipped?delete e.getFloor:e.getFloor=P,e.auctionId=r,e.floorData={skipped:t.skipped,skipRate:(0,i.a)(t,"data.skipRate")??t.skipRate,floorMin:t.floorMin,modelVersion:(0,i.a)(t,"data.modelVersion"),modelWeight:(0,i.a)(t,"data.modelWeight"),modelTimestamp:(0,i.a)(t,"data.modelTimestamp"),location:(0,i.a)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:C.fetchStatus}}))}))}function $(e,t){let r=Math.floor(Math.random()*t+1);for(let t=0;t<e.length;t++)if(r-=e[t].modelWeight,r<=0)return e[t]}function j(e,t){let r=(0,n.l)(C);if(2===(0,i.a)(r,"data.floorsSchemaVersion")){let{modelGroups:e,...t}=r.data;r.data=Object.assign(t,$(e,t.modelWeightSum))}let a=0===Object.keys((0,i.a)(r,"data.values")||{}).length;if(r.data=a?q(e):U(r.data),0===Object.keys((0,i.a)(r,"data.values")||{}).length)r.skipped=!0;else{const e=(0,n.v)("pbjs_skipRate")||((0,i.a)(r,"data.skipRate")??r.skipRate),t=100*Math.random()<parseFloat(e);r.skipped=t}return r.hasOwnProperty("floorMin")&&(r.data.floorMin=r.floorMin),N(e,r,t),r}function z(e){e.hasExited||(E=E.filter((t=>t.timer!==e.timer)),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,n.q)(),A[e.reqBidsConfigObj.auctionId]=j(e.reqBidsConfigObj.adUnits||(0,s.a)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function L(e){if((0,n.S)(e.default)){let t="*";const r=(e.schema?.fields||[]).length;r?t=Array(r).fill("*").join(e.schema?.delimiter||"|"):(0,a.a)(e,"schema.fields",[w]),e.values=e.values||{},null==e.values[t]&&(e.values[t]=e.default,e.meta={defaultRule:t})}return e}function H(e){return e=L(e),t=(0,i.a)(e,"schema.fields"),!!(Array.isArray(t)&&t.length>0&&t.every((e=>-1!==S.indexOf(e)))||((0,n.X)(`${T}: Fields received do not match allowed fields`),0))&&(r=e,a=e.schema.fields.length,s=e.schema.delimiter||"|","object"==typeof r.values&&(r.values=Object.keys(r.values).reduce(((e,t)=>(function(e,t,r,n){return"string"==typeof e&&e.split(n).length===r&&"number"==typeof t}(t,r.values[t],a,s)&&(e[t]=r.values[t]),e)),{}),Object.keys(r.values).length>0));var t,r,a,s}const X={1:e=>H(e),2:e=>!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((t=>!("number"!=typeof t.modelWeight||!H(t)||(e.modelWeightSum+=t.modelWeight,0)))))};function W(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof X[e.floorsSchemaVersion]?((0,n.X)(`${T}: Unknown floorsSchemaVersion: `,e.floorsSchemaVersion),!1):X[e.floorsSchemaVersion](e))}function G(e,t){if(e&&"object"==typeof e&&W(e))return(0,n.Y)(`${T}: A ${t} set the auction floor data set to `,e),{...e,location:t};(0,n.X)(`${T}: The floors data did not contain correct values`,e)}const Y=(0,g.b)("priceFloors",(function(e,t){const r={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};C.auctionDelay>0&&R?(r.timer=setTimeout((()=>{(0,n._)(`${T}: Fetch attempt did not return in time for auction`),C.fetchStatus="timeout",z(r)}),C.auctionDelay),E.push(r)):z(r)}));function K(){E.forEach((e=>{clearTimeout(e.timer),z(e)})),E=[]}function J(e){let t;R=!1,C.fetchStatus="success";try{t=JSON.parse(e)}catch(r){t=e}const r=G(t,"fetch");r&&(C.data=r,C.skipRate=(0,n.S)(r.skipRate)?r.skipRate:C.skipRate,C.floorProvider=r.floorProvider||C.floorProvider),K()}function Z(e){R=!1,C.fetchStatus="error",(0,n.X)(`${T}: Fetch errored with: `,e),K()}function Q(e){e.url&&!R?"GET"!==(e.method||"GET")?(0,n.X)(`${T}: 'GET' is the only request method supported at this time!`):(_(e.url,{success:J,error:Z},null,{method:"GET"}),R=!0):R&&(0,n._)(`${T}: A fetch is already occuring. Skipping.`)}function ee(e){C=(0,n.fb)(e,["floorMin","enabled",e=>!1!==e,"auctionDelay",e=>e||0,"floorProvider",t=>(0,i.a)(e,"data.floorProvider",t),"endpoint",e=>e||{},"skipRate",()=>isNaN((0,i.a)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate,"enforcement",e=>(0,n.fb)(e||{},["enforceJS",e=>!1!==e,"enforcePBS",e=>!0===e,"floorDeals",e=>!0===e,"bidAdjustment",e=>!1!==e]),"additionalSchemaFields",e=>{return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((e=>{-1===S.indexOf(e)&&"function"==typeof t[e]&&(S.push(e),D[e]=t[e])}))):void 0;var t},"data",e=>e&&G(e,"setConfig")||void 0]),C.enabled?(Q(C.endpoint),x||(c.on(l.EVENTS.AUCTION_END,(e=>{setTimeout((()=>delete A[e.auctionId]),3e3)})),(0,s.a)().requestBids.before(Y,50),(0,p.a)("addBidResponse").before(te,(0,n.k)()?4:50),x=!0)):((0,n.Y)(`${T}: Turning off module`),C={},A={},(0,p.a)("addBidResponse").getHooks({hook:te}).remove(),(0,s.a)().requestBids.getHooks({hook:Y}).remove(),x=!1)}const te=(0,g.c)("priceFloors",(function(e,t,r,a){let o=A[r.auctionId];if(!o||!r||o.skipped)return e.call(this,t,r,a);const d=f.a.index.getBidRequest(r);let c,p=B(o.data,d,{...r,size:[r.width,r.height]});if(!p.matchingFloor)return 0!==p.matchingFloor&&(0,n._)(`${T}: unable to determine a matching price floor for bidResponse`,r),e.call(this,t,r,a);let u=o.data.currency.toUpperCase(),m=r.currency||"USD";if(u===m.toUpperCase())c=r.cpm;else if(r.originalCurrency&&u===r.originalCurrency.toUpperCase())c=r.originalCpm;else try{c=(0,s.a)().convertCurrency(r.cpm,m.toUpperCase(),u)}catch(i){return(0,n.X)(`${T}: Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ${r}`),e.call(this,t,r,a)}return c=M(c,r,d),function(e,t,r,n){r.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:n,enforcements:{...e.enforcement},matchedFields:{}},e.data.schema.fields.forEach(((n,i)=>{let a=t.matchingData.split(e.data.schema.delimiter)[i];r.floorData.matchedFields[n]=a}))}(o,p,r,c),function(e,t,r){let n=!1!==(0,i.a)(e,"enforcement.enforceJS"),a=!0===(0,i.a)(e,"enforcement.floorDeals")||!r.dealId,s=r.floorData.cpmAfterAdjustments<t.matchingFloor;return n&&s&&a}(o,p,r)?(a(l.REJECTION_REASON.FLOOR_NOT_MET),void(0,n._)(`${T}: ${r.bidderCode}'s Bid Response for ${t} was rejected due to floor not met (adjusted cpm: ${r?.floorData?.cpmAfterAdjustments}, floor: ${p?.matchingFloor})`,r)):e.call(this,t,r,a)}));function re(e,t,r){if("function"==typeof t.getFloor){let i,a;try{({currency:i,floor:a}=t.getFloor({currency:r.currency||o.b.getConfig("currency.adServerCurrency")||"USD",mediaType:r.mediaType||"*",size:"*"}))}catch(e){return void(0,n._)("Cannot compute floor for bid",t)}a=parseFloat(a),null==i||null==a||isNaN(a)||Object.assign(e,{bidfloor:a,bidfloorcur:i})}}function ne(e,t,r){if(null!=e.bidfloor){let{floorMinCur:t,floorMin:n}=r.reqContext.floorMin||{};null==t&&(t=e.bidfloorcur);const i=e.ext?.prebid?.floors?.floorMinCur||e.ext?.prebid?.floorMinCur||t,s=e.ext?.prebid?.floors?.floorMin||e.ext?.prebid?.floorMin,o=I(e.bidfloor,e.bidfloorcur,t),d=!(!s||!i)&&I(s,i,t),c=d&&d<o?d:o;(0,a.a)(e,"ext.prebid.floors.floorMin",c),(null==n||n>c)&&(n=c),r.reqContext.floorMin={floorMin:n,floorMinCur:t}}}function ie(e,t,r){x&&(0,a.a)(e,"ext.prebid.floors.enabled",e.ext?.prebid?.floors?.enabled||!1),r?.floorMin&&(0,n.ab)(e,{ext:{prebid:{floors:r.floorMin}}})}o.b.getConfig("floors",(e=>ee(e.floors))),(0,h.d)({type:h.a,name:"bidfloor",fn:re}),(0,h.d)({type:h.a,name:"extPrebidFloors",fn:ne,dialects:[h.b],priority:-1}),(0,h.d)({type:h.c,name:"extPrebidFloors",fn:ie,dialects:[h.b]})},(e,t,r)=>{r.r(t);var n=r(27),i=r(94),a=r(3),s=r(38),o=r(57),d=r(89),c=r(1),l=r(12);const{debug:p,info:u}=a.a.tag("gam:interceptors"),m={isProcessingEvents:!1,pendingEvents:[]},b=(e,t)=>{try{switch(t.type){case"after-define-slot":return e.gamDidDefineSlot(t.definedSlot,...t.params);case"after-display":return e.gamDidDisplay(...t.params);case"before-refresh":return e.gamWillRefresh(t.next,...t.params)}}catch{}},f=(0,i.a)((()=>{if(!m.delegate)return;if(m.isProcessingEvents)return;let e;for(m.isProcessingEvents=!0;(0,c.i)(e=m.pendingEvents.shift());)b(m.delegate,e);m.isProcessingEvents=!1}),0),h=(e,t)=>!!t&&((0,c.q)(t)?e.includes(t):e.includes(t.getSlotElementId())),g=(0,l.a)((e=>{window.Hubvisor?.ready||(p("preparing gam for header bidding"),(0,o.b)((t=>{((e,t)=>{const r=e.pubads(),n=r.refresh.bind(r);r.refresh=(...e)=>{if(t&&t.length>0){const r=(0,d.a)(e[0]).filter((e=>h(t,e)));if(r.length>0){if(n(r),(0,d.a)(e[0]).length===r.length)return;e[0]=(0,d.a)(e[0]).filter((e=>!h(t,e)))}}const r=(0,d.a)(e[0]).filter(c.i).map((e=>(0,c.q)(e)?e:e.getSlotElementId())),i=r.length>0?r.join(", "):"*";u(`before 'refresh': ${i}`),m.pendingEvents.push({type:"before-refresh",params:e,next:n}),f()}})(t,e),(e=>{const t=e.defineSlot.bind(e);e.defineSlot=(...e)=>{const r=t(...e);return p("after 'defineSlot'",e),m.pendingEvents.push({type:"after-define-slot",params:e,definedSlot:r}),f(),r}})(t),(e=>{const t=e.display.bind(e);e.display=(...e)=>{t(...e),p("after 'display'",e),m.pendingEvents.push({type:"after-display",params:e}),f()}})(t),p("gam interceptors ready")})))}));var v=r(7),y=r(10);const{info:I}=a.a.tag("GoogletagEvent"),T=(0,l.a)((()=>{(0,o.b)((e=>{e.pubads().addEventListener("impressionViewable",(e=>{I(`Slot '${e.slot.getSlotElementId()}' has been viewed`)}))}))})),_=(0,l.a)((()=>{(0,o.b)((e=>{e.pubads().addEventListener("slotRenderEnded",(e=>{const t=e.slot.getSlotElementId();if(e.isEmpty)return I(`Empty slot: ${t}`);I(`Slot '${t}' has been rendered. Advertiser: ${e.advertiserId}. Line item: ${e.lineItemId}. Size: ${e.size}`)}))}))}));var w=r(28),S=r(50),R=r(96),x=r(97),C=r(54),E=r(55),A=r(67),k=r(40);const F=([e,t])=>({code:e,minValue:t}),D=(e,t)=>t[1]-e[1],B=new Map,{debug:M}=a.a.tag("targetings-resolver"),O=(e,t,r)=>{const n=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0,increment:1});if(e>n.max)return n.max.toFixed(2);let i=0;const a=(t.buckets.find((t=>e<=t.max&&e>=i||(i=t.max,!1)))||n).increment,s=1e4,o=(e*s-i*s)/(a*s),d=r?r(o):Math.floor(o);return Number((d*a+i).toFixed(10)).toFixed(2)},V=(e,t)=>{for(const[r,n]of Object.entries(t))r.startsWith("hb_native")||(e[r]&&M(`Assigned targetings overrides existing targetings at key '${r}'`,e,t),e[r]=n)},P=(e,t,r)=>{const n=t.targetingKeyPrefix,i=r?`${r}`:"",a=e=>[n,e,i].filter((e=>!!e)).join("_");if(e.bidResponse.providerId===S.a)return r?{}:{[a("adid")]:e.bidResponse.bidId,[a("pb")]:O(e.cpmAdjustment.adjustedCpm,t.priceGranularity,t.cpmRoundingFunction)};if(e.bidResponse.providerId===x.a)return{[a("backfillid")]:e.bidResponse.bidId,[a("backfill")]:"backfill"};if(e.bidResponse.providerId===R.a){if(r)return{};const n=((e,t)=>{if(!t.amazon?.cpmMapping||0===e.cpmAdjustment.adjustedCpm)return;const r=Number(k.remoteConfiguration.currentValue?.currencies.rates.USD?k.remoteConfiguration.currentValue?.currencies.rates.USD.EUR:1),n=(e=>{const t=B.get(e);if(t)return t;const r=(e=>{const t=Object.entries(e).sort(D);return{banner:t.filter((([e])=>!e.startsWith("v_")&&!e.startsWith("o_"))).map(F),instream:t.filter((([e])=>e.startsWith("v_"))).map(F),outstream:t.filter((([e])=>e.startsWith("o_"))).map(F)}})(e);return B.set(e,r),r})(t.amazon.cpmMapping),i=((e,t)=>"video"===e.bidResponse.mediaType?"outstream"===e.bidResponse.displayFormat?t.outstream:t.instream:t.banner)(e,n),a=i.find((({minValue:n})=>("EUR"===t.amazon?.currency?r*n:n)<=e.cpmAdjustment.adjustedCpm));if(a)return a.code;(0,y.a)(new v.b(v.a.amazonCpmMappingError,`No code found for the cpm '${e.cpmAdjustment.adjustedCpm}' in mapping for Amazon bid`))})(e,t);if(n)return{[(s="amznbid",[s,i].filter((e=>!!e)).join("_"))]:n}}var s;return{}},U=(e,t)=>t.sas?.formatId?{}:e.bidResponse.targetings,q=({renderable:e,settings:t,sasFormatId:r})=>{const i=w.c&&e.content.some((e=>e.bidResponse.providerId===S.a)),{content:a,pgContent:s}=e.content.reduce(((e,t)=>(t.bidResponse.deal?.isGuaranteed?e.pgContent.push(t):e.content.push(t),e)),{content:[],pgContent:[]}),o={hbv_debug:i?"true":null,hbv_uplift:E.a?"0":"1"};for(const e of n.i)o[e]=null;t.secondChance.enabled&&e.config.refreshReason!==C.b.secondChance&&(o[A.e]="false");for(const e of a){const t=U(e,{sas:{formatId:r}});V(o,t)}for(const e of a){const n=P(e,t,r);V(o,n)}const d={hbv_pg_dealid:s.map((e=>e.bidResponse.deal.name)),hbv_pg_adid:s.map((e=>e.bidResponse.bidId))};V(o,d);const c=((e,t,r)=>{try{return t.additionalTargetings?.(e,r)??{}}catch(t){const r=new v.b(v.a.onAdditionalTargetings,t);(0,y.a)(r,`additionalTargetings failed for ${e.placement.placementId}`,e)}return{}})(e,t,o);return V(o,c),o};var N=r(36),$=r(13),j=r(52),z=(r(11),r(74)),L=r(39);const{info:H,debug:X,warn:W,error:G}=a.a.tag("dfp"),Y="initial",K="waitingForRefresh",J=new class{#W={};#G=[];#Y=!0;#i={shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1,matchPlacementOnce:!1,shouldRefreshOnDisplay:!1,shouldBypassDfp:!1};#K;#J=Y;#q;#Z=(0,$.a)();tagsReady=()=>this.#Z.promise;start=e=>{const{settings:t,bus:r}=e;this.#i=Object.assign({},t.dfp2),this.#K=e.settings,this.#q=r,this.#q.on(s.a.impression,this.#Q),this.#q.on(s.a.refresh,this.#ee),this.#J=this.#i.shouldPerformInitialRefresh?Y:K,g(e.settings.dfp2.elementIdsExcludedFromHB),T(),_(),(0,o.b)((e=>{e.pubads().disableInitialLoad();const t=e.pubads().getSlots();t&&t.length>0&&this.#te()})),this.#re(t),m.delegate=this,f()};#ne=(0,l.a)((()=>{setTimeout((()=>{this.#Y&&(this.render([]),(0,y.a)(new v.b(v.a.adserverTimeout,"Adserver timeout for GAM")))}),1e3*this.#K.renderTimeout)}));#re=(0,l.a)((e=>{{const t=e.ias,r=n.f.value;if(!t)return;if(!r)return;r.start(t.anId,t.slotProvider,t.timeout)}}));#te=(0,l.a)((()=>{X("tags are ready"),this.#Z.resolve(),this.#i.shouldPerformInitialRefresh&&this.#ne()}));#ie=(0,i.a)((()=>{this.#te()}),.05);#ae=e=>{(0,o.b)((t=>{try{t.pubads().refresh([e])}catch(t){const r=new v.b(v.a.onDisplayOrDfpRefresh,t);(0,y.a)(r,"Failed to display/refresh slot",e)}}))};#se=e=>{if(!(0,c.j)(e)){if((0,c.q)(e)||e instanceof HTMLElement){const t=e instanceof HTMLElement?e.id:e;return this.#oe().find((e=>e.getSlotElementId()===t))}return e}};#de=e=>(0,d.a)(e).map(this.#se).filter(c.i);#ce=()=>{const e=new Set;let t;for(const{refresh:r,args:n}of this.#G){const i=this.#de(n[0]);if(0===i.length)return{refresh:r};t=r;for(const t of i)e.add(t)}if(t)return{refresh:t,slots:[...e]}};#le=(e,t)=>{const r=e.placement.rendering?.dfp;return!(!(0,j.c)(r)||!(0,N.b)(r.adUnitPath,t.getAdUnitPath()))||!(!(0,j.d)(r)||!(0,N.b)(r.elementId,t.getSlotElementId()))||!(!(0,j.e)(r)||!(0,N.b)(r.match,t.getAdUnitPath(),t.getSlotElementId()))||(0,N.b)(e.placement.placementId,t.getAdUnitPath(),t.getSlotElementId())};#pe=(e,t)=>{const r=Object.values(this.#W).filter((e=>!t.has(e.placement.placementId))).filter((t=>this.#le(t,e)));return r.length>1&&W(`multiple renderables matching slot ${e.getSlotElementId()}: check if this is a configuration error as only the first one will be used and impressions may be lost`,r),r[0]};#ue=e=>{const t=new Set,r=[];for(const n of e){const e=this.#pe(n,t);if(e){const i=e.placement.placementId;this.#i.matchPlacementOnce&&t.add(i),H(`Matched slot '${n.getSlotElementId()}' with placement '${i}'`),r.push({slot:n,renderable:e})}}return r};#me=e=>{const t=this.#K;if(!t)return G("Cannot setup targetings without global options");for(const{slot:r,renderable:n}of e){const e=q({renderable:n,settings:t});H("Set targeting",e,`for slot '${r.getSlotElementId()}'`);for(const[t,n]of Object.entries(e))(0,c.i)(n)?r.setTargeting(t,n):r.getTargeting(t).length>0&&r.clearTargeting(t)}};#oe=()=>window.googletag?.pubads().getSlots()??[];#be=async()=>{this.#i.shouldPerformInitialRefresh&&this.#J===Y&&(this.#J="awaitTags",await this.#Z.promise,this.#J=K,window.googletag?.pubads().refresh())};#fe=async()=>{try{return await(n.f.value?.setupTargetings())}catch(e){W("failed to apply ias targetings to GAM slots",e)}};#he=e=>{const t=new Set;for(const{renderable:{content:r}}of e)for(const e of r)t.add(e.bidResponse.placementId);this.#q?.emit(s.a.adrequest,t)};#ge=()=>this.#i.isNoConsentForGam?this.#i.isNoConsentForGam():(0,L.b)();#ve=(0,i.a)((async()=>{if(this.#Y)return X("Bids are not ready yet. AdRequests will be buffered until bids are ready.");const e=this.#ce();if(!e)return X("No pending AdRequest: waiting for more");const t=e.slots?.map((e=>e.getSlotElementId())).join(", ")??"*";H(`sending pending ad requests: ${t}`),await this.#fe();const r=e.slots??this.#oe();this.#G=[];const n=this.#ue(r);if(this.#he(n),this.#i.shouldBypassDfp&&this.#ge()&&!E.a){H("bypassing GAM");const e=n.flatMap((({renderable:e,slot:t})=>{const r=t.getSlotElementId();return document.getElementById(r)?[{renderable:e,options:{selector:`#${CSS.escape(r)}`}}]:[]}));(0,z.a)(e,{isDfpBypass:!0})}else this.#me(n),this.#ye(e.slots),e.refresh(e.slots)}),.1);#Ie=()=>{this.#i.shouldPerformInitialRefresh?this.#be():this.#ve()};#Q=e=>{const t=e.renderable.placement.rendering?.dfp;if(!t)return;const{placementId:r}=e.renderable.placement;this.#W[r]&&(delete this.#W[r],X(`Removed pending bid for placement '${r}'`),this.#Te({placements:[r]}))};#ee=e=>{e.refreshConfig.refreshReason===C.b.pageView&&(X("Discard all pending renderables"),this.#W={})};#Te=e=>{this.#q?.emit(s.a.renderableRequested,e)};#ye=e=>{try{return this.#i?.preGamCallStep?.(e)}catch(e){G("preGamCallStep error",e)}};gamDidDefineSlot=e=>{this.#ie(),this.#i.shouldRefreshNewTags&&this.#J===K&&this.#ae(e)};gamDidDisplay=e=>{if(!this.#i.shouldRefreshOnDisplay)return;const t=this.#se(e);if(!t)return W("couldn't find matching slot, it won't be refreshed",e);this.#ae(t)};gamWillRefresh=(e,...t)=>{this.#G.push({refresh:e,args:t}),this.#ve(),this.#i.shouldPerformInitialRefresh||this.#ne()};canRender=e=>!!e.placement.rendering?.dfp;render=e=>{H("Renderables received",e);for(const t of e)this.#W[t.placement.placementId]=t;this.#Y=!1,this.#Ie()}};n.e.provide({tagsReady:J.tagsReady()}),n.h.register(j.a.dfp,J)},,(e,t,r)=>{r.d(t,{a:()=>a});var n=r(3);const{warn:i}=n.a.tag("ActionMap");class a{#_e={};#we=(e,t)=>(r,n)=>{const a=(t,a)=>{try{n&&n(t,a)}catch(t){i(`error for action '${e}' callback`,r,t)}};(async r=>{try{return await t(r)}catch(t){throw i(`error for action '${e}'`,r,t),t}})(r).then((e=>a(null,e))).catch((e=>a(e)))};register=(e,t)=>{this.#_e[e]&&i(`trying to register an action named '${e}' multiple times, previous action will be overriden`),this.#_e[e]=this.#we(e,t)};execute=(e,t,r)=>(this.#_e[e]??this.#we(e,(()=>{throw new Error("action doesn't exist")})))(t,r)}},(e,t,r)=>{r.d(t,{a:()=>o});var n=r(43);const i=e=>e?e.split("&").reduce(((e,t)=>{try{const[r,n]=t.split("=").map(decodeURIComponent);r&&(e[r]=n)}catch{}return e}),{}):{},a=()=>n.a.tryCatch((()=>i(location.hash.replace(/^#/,"")))).value??{};n.a.tryCatch((()=>i(location.search.replace(/^\?/,"")))).value;let s=a();addEventListener("hashchange",(()=>{s=a()}));const o=()=>s},(e,t,r)=>{r.d(t,{a:()=>a});var n=r(68);const i={[n.a.debug]:"#9C27B0",[n.a.info]:"#4CAF50",[n.a.warn]:"#FF9800",[n.a.error]:"#F44336"},a=e=>{if(e.type===n.a.table&&console.table)console.table(...e.metadata);else{const t=(({type:e,name:t,tag:r})=>{const n=(e=>{if(!e)return"#607D8B";const t=Math.PI;return`hsl(${(e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t})(e)*t%360}, 70%, 53%)`})(r);return{text:`%c${t}%c${e}%c${r}`,arguments:["background: linear-gradient(#4D4D4D, #5D5D5D); color: #fff; padding: 2px 4px; border-top-left-radius: 4px; border-bottom-left-radius: 4px;",`background: ${i[e]??"#000"}; color: #fff; padding: 2px 4px;`,`background: ${n}; color: #fff; padding: 2px 2px; border-top-right-radius: 4px; border-bottom-right-radius: 4px;`]}})({type:e.type,name:e.name,tag:e.tag});e.type===n.a.debug?console.debug(t.text,...t.arguments,e.message,...e.metadata):console.log(t.text,...t.arguments,e.message,...e.metadata)}}},(e,t,r)=>{r.d(t,{a:()=>n});const n=new(r(44).a)},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(3);class i{registrations={};#a;#Se;constructor(e){this.#a=n.a.tag(`Registry<${e}>`)}register=(e,t)=>{this.registrations[e]&&this.#a.warn(`A module was already registered for '${e}', the previous one will be discarded`),this.registrations[e]=t,this.#a.debug(`Module '${e}' was successfully registered`),this.#Re(e)};#Re=e=>{if(!this.#Se)return;const t=this.registrations[e];if(!t)return this.#a.warn(`couldn't start module '${e}' because it wasn't registered`);try{t.start?.(this.#Se.options),this.#a.debug(`Module '${e}' was started successfully`)}catch(t){this.#a.error(`Error starting module '${e}'`,this.#Se.options,t)}};start=e=>{if(this.#Se)return this.#a.warn("start was called more than once: ignored",e);this.#Se={options:e};for(const e of Object.keys(this.registrations))this.#Re(e)}}},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(3);class i{#a;items={};constructor(e){this.#a=n.a.tag(`Collection<${e}>`)}add=(e,t)=>{this.items[e]&&this.#a.warn(`A module was already registered for '${e}', the previous one will be discarded`),this.items[e]=t,this.#a.debug(`Item '${e}' was successfully added`)};list=()=>Object.entries(this.items).reduce(((e,[t,r])=>(r&&e.push({name:t,value:r}),e)),[]);get=e=>this.items[e]}},(e,t,r)=>{var n=r(14),i=r(0),a=r(6),s=r(88),o=r(21),d=r(33),c=r(5),l=r(8),p=r(4),u=r(2),m=r(84),b=r(46);const{AD_RENDER_FAILED:f,AD_RENDER_SUCCEEDED:h,STALE_RENDER:g,BID_WON:v}=c.EVENTS;function y({reason:e,message:t,bid:r,id:n}){const a={reason:e,message:t};r&&(a.bid=r),n&&(a.adId=n),(0,i.X)(`Error rendering ad (id: ${n}): ${t}`),o.emit(f,a)}function I({doc:e,bid:t,id:r}){const n={doc:e};t&&(n.bid=t),r&&(n.adId=r),o.emit(h,n)}function T(e,{adId:t,options:r,bidResponse:n}){if(null!=n){if(n.status!==c.BID_STATUS.RENDERED||((0,i._)(`Ad id ${t} has been rendered before`),o.emit(g,n),!(0,a.a)(u.b.getConfig("auctionOptions"),"suppressStaleRender"))){try{const{adId:t,ad:a,adUrl:s,width:o,height:d,renderer:l,cpm:p,originalCpm:u,mediaType:f}=n;if((0,m.c)(l))(0,m.b)(l,n);else if(t){if(f===b.d)return void y({reason:c.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"Cannot render video ad",bid:n,id:t});const l={AUCTION_PRICE:u||p,CLICKTHROUGH:r?.clickUrl||""};e({ad:(0,i.hb)(a,l),adUrl:(0,i.hb)(s,l),adId:t,width:o,height:d})}}catch(e){return void y({reason:c.AD_RENDER_FAILED_REASON.EXCEPTION,message:e.message,id:t,bid:n})}l.a.addWinningBid(n),o.emit(v,n)}}else y({reason:c.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:`Cannot find ad '${t}'`,id:t})}c.EVENTS.AD_RENDER_SUCCEEDED,c.EVENTS.AD_RENDER_FAILED;const _=c.AD_RENDER_FAILED_REASON.NO_AD,w=c.AD_RENDER_FAILED_REASON.EXCEPTION,S=c.EVENTS.BID_WON,R=new WeakSet,x={"Prebid Request":function(e,t,r){T((function(t){E(r),e(Object.assign({message:"Prebid Response"},t))}),{options:t.options,adId:t.adId,bidResponse:r})},"Prebid Event":function(e,t,r){if(null!=r)if(r.status===c.BID_STATUS.RENDERED)switch(t.event){case c.EVENTS.AD_RENDER_FAILED:y({bid:r,id:t.adId,reason:t.info.reason,message:t.info.message});break;case c.EVENTS.AD_RENDER_SUCCEEDED:I({doc:null,bid:r,id:t.adId});break;default:(0,i.X)(`Received x-origin event request for unsupported event: '${t.event}' (adId: '${t.adId}')`)}else(0,i._)(`Received x-origin event request without corresponding render request for ad '${t.adId}'`);else(0,i.X)(`Cannot find ad '${t.adId}' for x-origin event request`)}};function C(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId&&r.message){const t=(0,p.b)(l.a.getBidsReceived(),(function(e){return e.adId===r.adId}));x.hasOwnProperty(r.message)&&x[r.message](function(e){return null==e.origin&&0===e.ports.length?function(){const e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,i.X)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),r,t)}}function E({adId:e,adUnitCode:t,width:r,height:n}){["div","iframe"].forEach((a=>{let s=function(r){let n=function(e,t){return(0,i.Q)()?function(e){const t=(0,p.b)(window.googletag.pubads().getSlots(),(t=>(0,p.b)(t.getTargetingKeys(),(r=>(0,p.c)(t.getTargeting(r),e)))));return t?t.getSlotElementId():null}(e):(0,i.J)()?function(e){let t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(e,t),a=document.getElementById(n);return a&&a.querySelector(r)}(a+':not([style*="display: none"])');if(s){let e=s.style;e.width=r?r+"px":"100%",e.height=n+"px"}else(0,i._)(`Unable to locate matching page element for adUnitCode ${t}.  Can't resize it to ad's dimensions.  Please review setup.`)}))}Object.assign(x,{"Prebid Native":function(e,t,r){if(null!=r)switch(R.has(r)||(R.add(r),l.a.addWinningBid(r),o.emit(S,r)),t.action){case"assetRequest":e((0,d.f)(t,r));break;case"allAssetRequest":e((0,d.e)(t,r));break;case"resizeNativeHeight":r.height=t.height,r.width=t.width,E(r);break;default:(0,d.d)(t,r)}else(0,i.X)(`Cannot find ad for x-origin event request: '${t.adId}'`)}});var A=r(45),k=r(9),F=r(18);function D(e,t){return e===t?0:e<t?-1:1}function B(e=(e=>e)){return(t,r)=>D(e(t),e(r))}function M(e=D){return(t,r)=>-e(t,r)||0}function O(...e){return function(t,r){for(const n of e){const e=n(t,r);if(0!==e)return e}return 0}}function V(e=D){return function(e=D){return(t,r)=>e(r,t)<0?r:t}(M(e))}const P=B((e=>e.cpm)),U=B((e=>e.responseTimestamp)),q=V(O(P,M(B((e=>e.timeToRespond))))),N=V(O(P,M(U)));V(O(P,U));var $=r(83),j=[];const z="targetingControls.allowTargetingKeys",L="targetingControls.addTargetingKeys",H=`Only one of "${z}" or "${L}" can be set`,X=Object.keys(c.TARGETING_KEYS).map((e=>c.TARGETING_KEYS[e]));let W={isActualBid:e=>e.getStatusCode()===c.STATUS.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(0,$.a)(e)>(0,i.lb)(),isUnusedBid:e=>e&&(e.status&&!(0,p.c)([c.BID_STATUS.RENDERED],e.status)||!e.status)};function G(e){return!Object.values(W).some((t=>!t(e)))}const Y=(0,k.b)("sync",(function(e,t,r=0,n=!1){if(!n){const n=[],a=u.b.getConfig("sendBidsControl.dealPrioritization");let s=(0,i.C)(e,"adUnitCode");return Object.keys(s).forEach((e=>{let o=[],d=(0,i.C)(s[e],"bidderCode");Object.keys(d).forEach((e=>o.push(d[e].reduce(t)))),r>0?(o=a?o.sort(K(!0)):o.sort(((e,t)=>t.cpm-e.cpm)),n.push(...o.slice(0,r))):n.push(...o)})),n}return e}));function K(e=!1){return function(t,r){return void 0!==t.adserverTargeting.hb_deal&&void 0===r.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==r.adserverTargeting.hb_deal?1:e?r.cpm-t.cpm:r.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}const J=function(e){let t={},r={};function n(e,t){return e.adserverTargeting&&t&&((0,i.L)(t)&&(0,p.c)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function s(t){return"string"==typeof t?[t]:(0,i.L)(t)?t:e.getAdUnitCodes()||[]}function o(){let t=e.getBidsReceived();if(u.b.getConfig("useBidCache")){const e=u.b.getConfig("bidCacheFilterFunction");"function"==typeof e&&(t=t.filter((t=>r[t.adUnitCode]===t.auctionId||!!e(t))))}else t=t.filter((e=>r[e.adUnitCode]===e.auctionId));return t=t.filter((e=>(0,a.a)(e,"video.context")!==b.a)).filter(G),t.forEach((e=>(e.latestTargetedAuctionId=r[e.adUnitCode],e))),Y(t,N)}function l(e,r){let n=t.getWinningBids(e,r),i=m();return n=n.map((e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter((t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t))).reduce(((t,r)=>{const n=[e.adserverTargeting[r]],i={[r.substring(0,20)]:n};if(r===c.TARGETING_KEYS.DEAL){const a={[`${r}_${e.bidderCode}`.substring(0,20)]:n};return[...t,i,a]}return[...t,i]}),[])}))),n}function m(){return e.getStandardBidderAdServerTargeting().map((e=>e.key)).concat(X).filter(i.ob)}function f(e,t){return Object.keys(t.adserverTargeting).filter(h()).forEach((r=>{e.length&&e.filter(function(e){return function(r){return r.adUnitCode===t.adUnitCode&&r.adserverTargeting[e]}}(r)).forEach(function(e){return function(r){(0,i.L)(r.adserverTargeting[e])||(r.adserverTargeting[e]=[r.adserverTargeting[e]]),r.adserverTargeting[e]=r.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(i.ob),delete t.adserverTargeting[e]}}(r))})),e.push(t),e}function h(){let e=m();return e=e.concat(d.a),function(t){return-1===e.indexOf(t)}}function g(e){return{[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(h()).map((t=>({[t.substring(0,20)]:[e.adserverTargeting[t]]})))}}function v(e,t){return t.map((t=>({[`${t}_${e.bidderCode}`.substring(0,20)]:[e.adserverTargeting[t]]})))}return t.setLatestAuctionForAdUnit=function(e,t){r[e]=t},t.resetPresetTargeting=function(t,r){if((0,i.Q)()){const n=s(t),a=e.getAdUnits().filter((e=>(0,p.c)(n,e.code)));let o=j.reduce(((e,t)=>(e[t]=null,e)),{});window.googletag.pubads().getSlots().forEach((e=>{let t=(0,i.P)(r)&&r(e);a.forEach((r=>{(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||(0,i.P)(t)&&t(r.code))&&e.updateTargetingFromMap(o)}))}))}},t.resetPresetTargetingAST=function(e){s(e).forEach((function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const r=Object.keys(t.keywords),n={};r.forEach((e=>{(0,p.c)(j,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(t,r=o()){const m=s(t);var b=l(m,r).concat(function(e,t){return t.filter((t=>(0,p.c)(e,t.adUnitCode))).map((e=>Object.assign({},e))).reduce(f,[]).map(g).filter((e=>e))}(m,r)).concat(u.b.getConfig("enableSendAllBids")?function(e,t){const r=X.concat(d.a),i=u.b.getConfig("sendBidsControl.bidLimit"),a=Y(t,q,i),s=u.b.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),o=s?s.map((e=>c.TARGETING_KEYS[e])):r;return a.map((t=>{if(n(t,e))return{[t.adUnitCode]:v(t,r.filter((e=>void 0!==t.adserverTargeting[e]&&-1!==o.indexOf(e))))}})).filter((e=>e))}(m,r):function(e,t){if(!0===u.b.getConfig("targetingControls.alwaysIncludeDeals")){const r=X.concat(d.a);return Y(t,q).map((t=>{if(t.dealId&&n(t,e))return{[t.adUnitCode]:v(t,r.filter((e=>void 0!==t.adserverTargeting[e])))}})).filter((e=>e))}return[]}(m,r)).concat(function(t){function r(e){return(0,a.a)(e,c.JSON_MAPPING.ADSERVER_TARGETING)}function n(e){const t=r(e);return Object.keys(t).map((function(e){return(0,i.V)(t[e])&&(t[e]=t[e].split(",").map((e=>e.trim()))),(0,i.L)(t[e])||(t[e]=[t[e]]),{[e]:t[e]}}))}return e.getAdUnits().filter((e=>(0,p.c)(t,e.code)&&r(e))).map((e=>({[e.code]:n(e)})))}(m));b.map((e=>{Object.keys(e).map((t=>{e[t].map((e=>{-1===j.indexOf(Object.keys(e)[0])&&(j=Object.keys(e).concat(j))}))}))}));const h=Object.keys(Object.assign({},c.DEFAULT_TARGETING_KEYS,c.NATIVE_KEYS));let y=u.b.getConfig(z);const I=u.b.getConfig(L);if(null!=I&&null!=y)throw new Error(H);y=null!=I?h.concat(I):y||h,Array.isArray(y)&&y.length>0&&(b=function(e,t){const r=Object.assign({},c.TARGETING_KEYS,c.NATIVE_KEYS),n=Object.keys(r),a={};(0,i.Y)(`allowTargetingKeys - allowed keys [ ${t.map((e=>r[e])).join(", ")} ]`),e.map((e=>{const i=Object.keys(e)[0],s=e[i].filter((e=>{const i=Object.keys(e)[0],s=0===n.filter((e=>0===i.indexOf(r[e]))).length||(0,p.b)(t,(e=>{const t=r[e];return 0===i.indexOf(t)}));return a[i]=!s,s}));e[i]=s}));const s=Object.keys(a).filter((e=>a[e]));return(0,i.Y)(`allowTargetingKeys - removed keys [ ${s.join(", ")} ]`),e.filter((e=>e[Object.keys(e)[0]].length>0))}(b,y)),b=function(e){let t=e.map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")}))).reduce(((e,t)=>Object.assign(t,e)),{})}))).reduce((function(e,t){var r=Object.keys(t)[0];return e[r]=Object.assign({},e[r],t[r]),e}),{});return t}(b);const T=u.b.getConfig("targetingControls.auctionKeyMaxChars");return T&&((0,i.Y)(`Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ${T} characters.  Running checks on auction keys...`),b=function(e,t){let r=(0,i.l)(e),n=Object.keys(r).map((e=>({adUnitCode:e,adserverTargeting:r[e]}))).sort(K());return n.reduce((function(e,n,a,s){let o=(d=n.adserverTargeting,Object.keys(d).reduce((function(e,t){return e+`${t}%3d${encodeURIComponent(d[t])}%26`}),""));var d;a+1===s.length&&(o=o.slice(0,-3));let c=n.adUnitCode,l=o.length;return l<=t?(t-=l,(0,i.Y)(`AdUnit '${c}' auction keys comprised of ${l} characters.  Deducted from running threshold; new limit is ${t}`,r[c]),e[c]=r[c]):(0,i._)(`The following keys for adUnitCode '${c}' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ${l}, the current allotted amount was ${t}.\n`,r[c]),a+1===s.length&&0===Object.keys(e).length&&(0,i.X)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(b,T)),m.forEach((e=>{b[e]||(b[e]={})})),b},u.b.getConfig("targetingControls",(function(e){null!=(0,a.a)(e,z)&&null!=(0,a.a)(e,L)&&(0,i.X)(H)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((r=>{Object.keys(e).filter(t?t(r):(0,i.I)(r)).forEach((t=>{Object.keys(e[t]).forEach((r=>{let n=e[t][r];"string"==typeof n&&-1!==n.indexOf(",")&&(n=n.split(",")),e[t][r]=n})),(0,i.Z)(`Attempting to set targeting-map for slot: ${r.getSlotElementId()} with targeting-map:`,e[t]),r.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e,t=o()){const r=s(e);return t.filter((e=>(0,p.c)(r,e.adUnitCode))).filter((e=>!0===F.a.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0)).map((e=>e.adUnitCode)).filter(i.ob).map((e=>t.filter((t=>t.adUnitCode===e?t:null)).reduce(q)))},t.setTargetingForAst=function(e){let r=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,i.X)("unable to reset targeting for AST"+e)}Object.keys(r).forEach((e=>Object.keys(r[e]).forEach((t=>{if((0,i.Z)(`Attempting to set targeting for targetId: ${e} key: ${t} value: ${r[e][t]}`),(0,i.V)(r[e][t])||(0,i.L)(r[e][t])){let n={},i=/pt[0-9]/;t.search(i)<0?n[t.toUpperCase()]=r[e][t]:n[t]=r[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))))},t.isApntagDefined=function(){if(window.apntag&&(0,i.P)(window.apntag.setKeywords))return!0},t}(l.a);var Z=r(87),Q=r(85),ee=r(15);const te="__hubjs_debugging__";function re(){return(0,n.a)().installedModules.includes("debugging")}function ne(e){return new ee.a((t=>{(0,Q.a)(e,"debugging",t)}))}function ie({alreadyInstalled:e=re,script:t=ne}={}){let r=null;return function(){return null==r&&(r=new ee.a(((r,a)=>{setTimeout((()=>{if(e())r();else{const e="$$PREBID_DIST_URL_BASE$$debugging-standalone.js";(0,i.Z)(`Debugging module not installed, loading it from "${e}"...`),(0,n.a)()._installDebugging=!0,t(e).then((()=>{(0,n.a)()._installDebugging({DEBUG_KEY:te,hook:k.b,config:u.b,createBid:Z.a,logger:(0,i.gb)("DEBUG:")})})).then(r,a)}}))}))),r}}const ae=function({load:e=ie(),hook:t=(0,k.a)("requestBids")}={}){let r=null,n=!1;function i(e,...t){return(r||ee.a.resolve()).then((()=>e.apply(this,t)))}function a(){t.getHooks({hook:i}).remove(),n=!1}return{enable:function(){n||(r=e(),t.before(i,99),n=!0)},disable:a,reset:function(){r=null,a()}}}();ae.reset,u.b.getConfig("debugging",(function({debugging:e}){e?.enabled?ae.enable():ae.disable()}));var se=r(82),oe=r(81),de=r(23),ce=r(25),le=r(48);const pe=(0,oe.a)("fpdEnrichment"),ue=(0,i.$)((function(e=window.location.host){if(!pe.cookiesAreEnabled())return e;const t=e.split(".");if(2===t.length)return e;let r,n,a=-2;const s=`_rdc${Date.now()}`,o="writeable";do{r=t.slice(a).join(".");let e=new Date((0,i.lb)()+1e4).toUTCString();pe.setCookie(s,o,e,"Lax",r,void 0),pe.getCookie(s,void 0)===o?(n=!1,pe.setCookie(s,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,r,void 0)):(a+=-1,n=Math.abs(a)<=t.length)}while(n);return r})),me=["architecture","bitness","model","platformVersion","fullVersionList"],be=["brands","mobile","platform"],fe=function(e=window.navigator?.userAgentData){const t=e&&be.some((t=>void 0!==e[t]))?Object.freeze(ge(1,e)):null;return function(){return t}}(),he=function(e=window.navigator?.userAgentData){const t={},r=new WeakMap;return function(n=me){if(!r.has(n)){const e=Array.from(n);e.sort(),r.set(n,e.join("|"))}const a=r.get(n);if(!t.hasOwnProperty(a))try{t[a]=e.getHighEntropyValues(n).then((e=>(0,i.O)(e)?null:Object.freeze(ge(2,e)))).catch((()=>null))}catch(e){t[a]=ee.a.resolve(null)}return t[a]}}();function ge(e,t){function r(e,t){const r={brand:e};return(0,i.V)(t)&&!(0,i.N)(t)&&(r.version=t.split(".")),r}const n={source:e};return t.platform&&(n.platform=r(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(n.browsers=(t.fullVersionList||t.brands).map((({brand:e,version:t})=>r(e,t)))),void 0!==t.mobile&&(n.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((e=>{const r=t[e];(0,i.V)(r)&&(n[e]=r)})),n}const ve=["dooh","app","site"];function ye(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}var Ie=r(22),Te=r(35),_e=r(24),we=r(17);const Se={getRefererInfo:le.a,findRootDomain:ue,getWindowTop:i.B,getWindowSelf:i.A,getHighEntropySUA:he,getLowEntropySUA:fe},Re=(0,k.b)("sync",(e=>{const t=[e,Ce().catch((()=>null)),ee.a.resolve("cookieDeprecationLabel"in navigator&&(0,Ie.a)(_e.a,(0,Te.a)(we.c,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch((()=>null))];return ee.a.all(t).then((([e,t,r])=>{const n=Se.getRefererInfo();if(function(e){["app","site","device"].forEach((t=>{const r=u.b.getConfig(t);null!=r&&(e[t]=(0,i.ab)({},r,e[t]))}))}(e),Object.entries(Ae).forEach((([t,r])=>{const a=r(e,n);a&&Object.keys(a).length>0&&(e[t]=(0,i.ab)({},a,e[t]))})),t&&(0,s.a)(e,"device.sua",Object.assign({},t,e.device.sua)),r){const t={cdep:r};(0,s.a)(e,"device.ext",Object.assign({},t,e.device.ext))}e=function(e){return ve.reduce(((t,r)=>(ye(e,r)&&(null!=t?((0,i._)(`FPD specifies both '${t}' and '${r}'; dropping the latter.`),delete e[r]):t=r),t)),null),e}(e);for(let t of ve)if(ye(e,t)){e[t]=(0,i.ab)({},ke(0,n),e[t]);break}return e}))}));function xe(e){try{return e(Se.getWindowTop())}catch(t){return e(Se.getWindowSelf())}}function Ce(){const e=u.b.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0!==e.length?Se.getHighEntropySUA(e):ee.a.resolve(Se.getLowEntropySUA())}function Ee(e){return(0,i.u)(e,Object.keys(e))}const Ae={site(e,t){if(!ve.filter((e=>"site"!==e)).some(ye.bind(null,e)))return Ee({page:t.page,ref:t.ref})},device:()=>xe((e=>({w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,i.t)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}))),regs(){const e={};xe((e=>e.navigator.globalPrivacyControl))&&(0,s.a)(e,"ext.gpc",1);const t=u.b.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function ke(e,t){const r=(0,le.b)(t.page,{noLeadingWww:!0}),n=xe((e=>e.document.querySelector("meta[name='keywords']")))?.content?.replace?.(/\s/g,"");return Ee({domain:r,keywords:n,publisher:Ee({domain:Se.findRootDomain(r)})})}var Fe=r(71);const De={frameBorder:0,scrolling:"no",marginHeight:0,marginWidth:0,topMargin:0,leftMargin:0,allowTransparency:"true"};var Be=r(47);const Me=(0,n.a)(),{triggerUserSyncs:Oe}=A.userSync,{ADD_AD_UNITS:Ve,REQUEST_BIDS:Pe,SET_TARGETING:Ue}=c.EVENTS,qe={bidWon:function(e){if(l.a.getBidsRequested().map((e=>e.bids.map((e=>e.adUnitCode)))).reduce(i.o).filter(i.ob).includes(e))return!0;(0,i.X)('The "'+e+'" placement is not defined.')}};function Ne(e,t){let r=[];return(0,i.L)(e)&&(t?e.length===t:e.length>0)&&(e.every((e=>(0,i.K)(e,2)))?r=e:(0,i.K)(e,2)&&r.push(e)),r}function $e(e){const t=(0,i.l)(e),r=t.mediaTypes.banner,n=Ne(r.sizes);return n.length>0?(r.sizes=n,t.sizes=n):((0,i.X)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function je(e){const t=(0,i.l)(e),r=t.mediaTypes.video;if(r.playerSize){let e="number"==typeof r.playerSize[0]?2:1;const n=Ne(r.playerSize,e);n.length>0?(2===e&&(0,i.Y)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),r.playerSize=n,t.sizes=n):((0,i.X)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function ze(e){const t=(0,i.l)(e),r=t.mediaTypes.native;if(r.ortb){const e=Object.keys(c.NATIVE_KEYS).filter((e=>c.NATIVE_KEYS[e].includes("hb_native_"))),n=Object.keys(r).filter((t=>e.includes(t)));n.length>0&&((0,i.X)(`when using native OpenRTB format, you cannot use legacy native properties. Deleting ${n} keys from request.`),n.forEach((e=>delete t.mediaTypes.native[e])))}return r.image&&r.image.sizes&&!Array.isArray(r.image.sizes)&&((0,i.X)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),r.image&&r.image.aspect_ratios&&!Array.isArray(r.image.aspect_ratios)&&((0,i.X)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),r.icon&&r.icon.sizes&&!Array.isArray(r.icon.sizes)&&((0,i.X)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Le(e,t){let r=(0,a.a)(e,`mediaTypes.${t}.pos`);if(!(0,i.S)(r)||isNaN(r)||!isFinite(r)){let r=`Value of property 'pos' on ad unit ${e.code} should be of type: Number`;(0,i._)(r),o.emit(c.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function He(e){const t=t=>`adUnit.code '${e.code}' ${t}`,r=e.mediaTypes,n=e.bids;return null==n||(0,i.L)(n)?null==n&&null==e.ortb2Imp?((0,i.X)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):r&&0!==Object.keys(r).length?(null==e.ortb2Imp||null!=n&&0!==n.length||(e.bids=[{bidder:null}],(0,i.Z)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,i.X)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,i.X)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){let e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){let t=ae,r=null;try{r=e.getItem(te)}catch(e){}null!==r&&t.enable()}}(),Me.bidderSettings=Me.bidderSettings||{},Me.libLoaded=!0,Me.version="v8.30.0",(0,i.Y)("Prebid.js v8.30.0 loaded"),Me.installedModules=Me.installedModules||[],Me.adUnits=Me.adUnits||[],Me.triggerUserSyncs=Oe;const Xe={validateAdUnit:He,validateBannerMediaType:$e,validateSizes:Ne};Object.assign(Xe,{validateNativeMediaType:ze}),Object.assign(Xe,{validateVideoMediaType:je});const We=(0,k.b)("sync",(function(e){const t=[];return e.forEach((e=>{if(null==(e=He(e)))return;const r=e.mediaTypes;let n,i,a;r.banner&&(n=$e(e),r.banner.hasOwnProperty("pos")&&(n=Le(n,"banner"))),r.video&&(i=je(n||e),r.video.hasOwnProperty("pos")&&(i=Le(i,"video"))),r.native&&(a=ze(i||n||e));const s=Object.assign({},n,i,a);t.push(s)})),t}),"checkAdUnitSetup");function Ge(e){const t=l.a[e]().filter((e=>l.a.getAdUnitCodes().includes(e.adUnitCode))),r=l.a.getLastAuctionId();return t.map((e=>e.adUnitCode)).filter(i.ob).map((e=>t.filter((t=>t.auctionId===r&&t.adUnitCode===e)))).filter((e=>e&&e[0]&&e[0].adUnitCode)).map((e=>({[e[0].adUnitCode]:{bids:e}}))).reduce(((e,t)=>Object.assign(e,t)),{})}Me.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,i.Y)("Invoking hubjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=Me.getAdserverTargetingForAdUnitCode(e);return(0,i.mb)(t)}(0,i.Z)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},Me.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){const t=l.a.getAllBidsForAdUnitCode(e).filter(G);return t.length?t.reduce(q):{}}(0,i.Z)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},Me.getAdserverTargetingForAdUnitCode=function(e){return Me.getAdserverTargeting(e)[e]},Me.getAdserverTargeting=function(e){return(0,i.Y)("Invoking hubjs.getAdserverTargeting",arguments),J.getAllTargeting(e)},Me.getConsentMetadata=function(){return(0,i.Y)("Invoking hubjs.getConsentMetadata"),Fe.d.getConsentMeta()},Me.getNoBids=function(){return(0,i.Y)("Invoking hubjs.getNoBids",arguments),Ge("getNoBids")},Me.getNoBidsForAdUnitCode=function(e){return{bids:l.a.getNoBids().filter((t=>t.adUnitCode===e))}},Me.getBidResponses=function(){return(0,i.Y)("Invoking hubjs.getBidResponses",arguments),Ge("getBidsReceived")},Me.getBidResponsesForAdUnitCode=function(e){return{bids:l.a.getBidsReceived().filter((t=>t.adUnitCode===e))}},Me.setTargetingForGPTAsync=function(e,t){if((0,i.Y)("Invoking hubjs.setTargetingForGPTAsync",arguments),!(0,i.Q)())return void(0,i.X)("window.googletag is not defined on the page");let r=J.getAllTargeting(e);J.resetPresetTargeting(e,t),J.setTargetingForGPT(r,t),Object.keys(r).forEach((e=>{Object.keys(r[e]).forEach((t=>{"hb_adid"===t&&l.a.setStatusForBids(r[e][t],c.BID_STATUS.BID_TARGETING_SET)}))})),o.emit(Ue,r)},Me.setTargetingForAst=function(e){(0,i.Y)("Invoking hubjs.setTargetingForAn",arguments),J.isApntagDefined()?(J.setTargetingForAst(e),o.emit(Ue,J.getAllTargeting())):(0,i.X)("window.apntag is not defined on the page")},Me.renderAd=(0,k.b)("async",(function(e,t,r){(0,i.Y)("Invoking hubjs.renderAd",arguments),(0,i.Z)("Calling renderAd with adId :"+t),function(e,t,r){let a;function s(r){null!=r?y(Object.assign({id:t,bid:a},r)):I({doc:e,bid:a,adId:t})}try{if(t&&e){a=l.a.findBidByAdId(t);{const e=a&&l.a.index.getAdUnit(a),t=(0,n.a)().videoModule;if(e?.video&&t)return void t.renderBid(e.video.divId,a)}e!==document||(0,i.E)()?T((function(t){(function({ad:e,adUrl:t,width:r,height:n},i,a=document){e||t?(t&&!e?function(e,t){const r=e.createElement("iframe");t=Object.assign({},t,De),Object.entries(t).forEach((([e,t])=>r.setAttribute(e,t))),e.body.appendChild(r)}(a,{width:r,height:n,src:t}):(a.write(e),a.close()),i()):i({reason:_,message:"Missing ad markup or URL"})})(t,s,e),e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t.width,e.defaultView.frameElement.height=t.height);const r=document.createComment(`Creative ${a.creativeId} served by ${a.bidder} Prebid.js Header Bidding`);(0,i.F)(r,e,"html")}),{adId:t,options:{clickUrl:r?.clickThrough},bidResponse:a}):s({reason:c.AD_RENDER_FAILED_REASON.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"renderAd was prevented from writing to the main document."})}else s({reason:c.AD_RENDER_FAILED_REASON.MISSING_DOC_OR_ADID,message:"missing "+(t?"doc":"adId")})}catch(e){s({reason:w,message:e.message})}}(e,t,r)})),Me.removeAdUnit=function(e){if((0,i.Y)("Invoking hubjs.removeAdUnit",arguments),!e)return void(Me.adUnits=[]);let t;t=(0,i.L)(e)?e:[e],t.forEach((e=>{for(let t=Me.adUnits.length-1;t>=0;t--)Me.adUnits[t].code===e&&Me.adUnits.splice(t,1)}))},Me.requestBids=function(){const e=(0,k.b)("async",(function({bidsBackHandler:e,timeout:t,adUnits:r,adUnitCodes:n,labels:a,auctionId:s,ttlBuffer:d,ortb2:c,metrics:l,defer:m}={}){o.emit(Pe);const b=t||u.b.getConfig("bidderTimeout");(0,i.Y)("Invoking hubjs.requestBids",arguments),n&&n.length?r=r.filter((e=>(0,p.c)(n,e.code))):n=r&&r.map((e=>e.code));const f={global:(0,i.ab)({},u.b.getAnyConfig("ortb2")||{},c||{}),bidder:Object.fromEntries(Object.entries(u.b.getBidderConfig()).map((([e,t])=>[e,t.ortb2])).filter((([e,t])=>null!=t)))};return Re(ee.a.resolve(f.global)).then((t=>(f.global=t,Ye({bidsBackHandler:e,timeout:b,adUnits:r,adUnitCodes:n,labels:a,auctionId:s,ttlBuffer:d,ortb2Fragments:f,metrics:l,defer:m}))))}),"requestBids");return(0,k.c)(e,(function(t={}){let r=t.adUnits||Me.adUnits;return t.adUnits=(0,i.L)(r)?r.slice():[r],t.metrics=(0,ce.a)(),t.metrics.checkpoint("requestBids"),t.defer=(0,ee.b)({promiseFactory:e=>new Promise(e)}),e.call(this,t),t.defer.promise}))}();const Ye=(0,k.b)("async",(function({bidsBackHandler:e,timeout:t,adUnits:r,ttlBuffer:n,adUnitCodes:a,labels:o,auctionId:d,ortb2Fragments:c,metrics:m,defer:b}={}){const f=(0,de.b)(u.b.getConfig("s2sConfig")||[]);function h(t,r,n){if("function"==typeof e)try{e(t,r,n)}catch(e){(0,i.X)("Error executing bidsBackHandler",null,e)}b.resolve({bids:t,timedOut:r,auctionId:n})}if(function(e){e.forEach((e=>(0,Be.c)(e)))}(r),(r=(0,ce.d)(m).measureTime("requestBids.validate",(()=>We(r)))).forEach((e=>{const t=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map((e=>e.bidder)),a=de.a.bidderRegistry,o=r.filter((e=>!f.has(e))),d=e.ortb2Imp?.ext?.tid||(0,i.q)();e.transactionId=d,null==n||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=n),(0,s.a)(e,"ortb2Imp.ext.tid",d),o.forEach((r=>{const n=a[r],s=n&&n.getSpec&&n.getSpec(),o=s&&s.supportedMediaTypes||["banner"];t.some((e=>(0,p.c)(o,e)))?se.a.incrementBidderRequestsCounter(e.code,r):((0,i._)((0,i.pb)(e,r)),e.bids=e.bids.filter((e=>e.bidder!==r)))})),se.a.incrementRequestsCounter(e.code)})),r&&0!==r.length){const e=l.a.createAuction({adUnits:r,adUnitCodes:a,callback:h,cbTimeout:t,labels:o,auctionId:d,ortb2Fragments:c,metrics:m});let n=r.length;n>15&&(0,i.Y)(`Current auction ${e.getAuctionId()} contains ${n} adUnits.`,r),a.forEach((t=>J.setLatestAuctionForAdUnit(t,e.getAuctionId()))),e.callBids()}else(0,i.Z)("No adUnits configured. No bids requested."),h()}),"startAuction");Me.requestBids.before((function(e,t){function r(e){for(var t;t=e.shift();)t()}r(oe.c),r(Ke),e.call(this,t)}),49),Me.addAdUnits=function(e){(0,i.Y)("Invoking hubjs.addAdUnits",arguments),Me.adUnits.push.apply(Me.adUnits,(0,i.L)(e)?e:[e]),o.emit(Ve)},Me.onEvent=function(e,t,r){(0,i.Y)("Invoking hubjs.onEvent",arguments),(0,i.P)(t)?!r||qe[e].call(null,r)?o.on(e,t,r):(0,i.X)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,i.X)('The event handler provided is not a function and was not set on event "'+e+'".')},Me.offEvent=function(e,t,r){(0,i.Y)("Invoking hubjs.offEvent",arguments),r&&!qe[e].call(null,r)||o.off(e,t,r)},Me.getEvents=function(){return(0,i.Y)("Invoking hubjs.getEvents"),o.getEvents()},Me.registerBidAdapter=function(e,t){(0,i.Y)("Invoking hubjs.registerBidAdapter",arguments);try{de.a.registerBidAdapter(e(),t)}catch(e){(0,i.X)("Error registering bidder adapter : "+e.message)}},Me.registerAnalyticsAdapter=function(e){(0,i.Y)("Invoking hubjs.registerAnalyticsAdapter",arguments);try{de.a.registerAnalyticsAdapter(e)}catch(e){(0,i.X)("Error registering analytics adapter : "+e.message)}},Me.createBid=function(e){return(0,i.Y)("Invoking hubjs.createBid",arguments),(0,Z.a)(e)};const Ke=[],Je=(0,k.b)("async",(function(e){e&&!(0,i.O)(e)?((0,i.Y)("Invoking hubjs.enableAnalytics for: ",e),de.a.enableAnalytics(e)):(0,i.X)("hubjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");Me.enableAnalytics=function(e){Ke.push(Je.bind(this,e))},Me.aliasBidder=function(e,t,r){(0,i.Y)("Invoking hubjs.aliasBidder",arguments),e&&t?de.a.aliasBidAdapter(e,t,r):(0,i.X)("bidderCode and alias must be passed as arguments","hubjs.aliasBidder")},Me.aliasRegistry=de.a.aliasRegistry,u.b.getConfig("aliasRegistry",(e=>{"private"===e.aliasRegistry&&delete Me.aliasRegistry})),Me.getAllWinningBids=function(){return l.a.getAllWinningBids()},Me.getAllPrebidWinningBids=function(){return l.a.getBidsReceived().filter((e=>e.status===c.BID_STATUS.BID_TARGETING_SET))},Me.getHighestCpmBids=function(e){return J.getWinningBids(e)},Me.markWinningBidAsUsed=function(e){const t=Ze(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&l.a.addWinningBid(t[0])};const Ze=(e,t)=>{let r=[];return e.adUnitCode&&e.adId?r=l.a.getBidsReceived().filter((t=>t.adId===e.adId&&t.adUnitCode===e.adUnitCode)):e.adUnitCode?r=J.getWinningBids(e.adUnitCode):e.adId?r=l.a.getBidsReceived().filter((t=>t.adId===e.adId)):(0,i._)(t),r};function Qe(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,i.X)("Error processing command :","prebid.js",e)}}))}Me.getConfig=u.b.getAnyConfig,Me.readConfig=u.b.readAnyConfig,Me.mergeConfig=u.b.mergeConfig,Me.mergeBidderConfig=u.b.mergeBidderConfig,Me.setConfig=u.b.setConfig,Me.setBidderConfig=u.b.setBidderConfig,Me.que.push((()=>{window.addEventListener("message",C,!1)})),Me.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,i.X)("Error processing command :",e.message,e.stack)}else(0,i.X)("Commands written into hubjs.cmd.push must be wrapped in a function")},Me.que.push=Me.cmd.push,Me.processQueue=function(){k.b.ready(),Qe(Me.que),Qe(Me.cmd)},Me.triggerBilling=e=>{const t=Ze(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),r=t.find((t=>t.requestId===e.requestId))||t[0];if(t.length>0&&r)try{de.a.callBidBillableBidder(r)}catch(e){(0,i.X)("Error when triggering billing :",e)}else(0,i._)("The bid provided to triggerBilling did not match any bids received.")};const et=Me;var tt=r(76);Promise.resolve().then((()=>{var e=new Error("Module is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e})).then((e=>!!e)).catch((()=>!1)),Promise.resolve().then((()=>{if(!r.m[99]){var e=new Error("Module '99' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return r(99)})).then((e=>!!e)).catch((()=>!1));const rt=Promise.resolve().then((()=>{if(!r.m[98]){var e=new Error("Module '98' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return r(98)})).then((e=>!!e)).catch((()=>!1)),nt=Promise.resolve().then((()=>{var e=new Error("Module is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e})).then((e=>!!e)).catch((()=>!1)),it=Promise.resolve().then((()=>{if(!r.m[100]){var e=new Error("Module '100' is not available (weak dependency)");throw e.code="MODULE_NOT_FOUND",e}return r(100)})).then((e=>!!e)).catch((()=>!1));var at=r(29),st=r(3),ot=(r(11),r(31));const{debug:dt,warn:ct,info:lt}=st.a.tag("turbo-cmp");var pt=r(61);const ut=new class{#xe=(0,pt.b)();newPageViewId(){this.#xe=(0,pt.b)()}get pageViewId(){return this.#xe}};var mt=r(72);const bt={smartadserver:!0,richAudience:!0,pubmatic:!0,prisma:!0,mediasquare:!0,smileWanted:!0,xandr:!0,magnite:!0,indexExchange:!0,criteo:!0,triplelift:!0,invibes:!0,spotx:!0,nexx360:!0,noBid:!0,missena:!0,nextMillennium:!0,adagio:!0,bliink:!0};class ft{priceGranularity={buckets:[{max:1,increment:.01},{max:2,increment:.02},{max:4,increment:.05},{max:6,increment:.1},{max:8,increment:.2},{max:10,increment:.5},{max:20,increment:1},{max:50,increment:5},{max:100,increment:10},{max:300,increment:50},{max:1e3,increment:100}]};cpmRoundingFunction;strictGdprSettings=!1;consent;#Ce=e=>({enabled:e?.enabled??!0,consentTimeout:e?.consentTimeout??mt.a.totalConsentTimeout,shouldSkipAuctionOnConsentFailure:e?.shouldSkipAuctionOnConsentFailure??!0,shouldSkipAuctionOnNegativeConsent:e?.shouldSkipAuctionOnNegativeConsent??!1,assumeConsentlessIfCmpUnavailable:e?.assumeConsentlessIfCmpUnavailable??!1,shouldSkipAdserverOnConsentless:e?.shouldSkipAdserverOnConsentless??!1,storageVendorExceptions:e?.storageVendorExceptions,cmpTimeout:e?.cmpTimeout??e?.consentTimeout??mt.a.cmpTimeout,defaults:{gdprApplies:!0,...e?.defaults},overrides:{...e?.overrides},uspEnabled:e?.enabled??!1,strictStorageEnforcement:e?.strictStorageEnforcement});beam;#Ee=e=>({collectUrl:"https://beam.hubvisor.io/v2/",vimpUrl:"https://beam.hubvisor.io/imp/video",collectRetryDelay:1,collectRetryCount:1,collectDebounceDelay:.1,...e});bidderTimeout=1.8;renderTimeout=10;targetingKeyPrefix="hbv";publisherId;support;buildRefreshOptions;shouldPerformInitialAuction=!0;shouldUseDynamicFloors=!1;carbonFilter;nativeRendering;skinRendering;cpmMultiplier;adserverMultiplier;renderList={competitionDebounceDelay:.05};dfp2;#Ae=e=>({shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1,matchPlacementOnce:!1,shouldRefreshOnDisplay:!1,shouldBypassDfp:!1,...e});ias;#ke=e=>{if(e)return{...e,timeout:e.timeout??1.5}};userSync;#Fe=e=>({smartadserver:{enabled:!0,useIframes:!0},richAudience:{enabled:!1},pubmatic:{enabled:!0,useIframes:!0},prisma:{enabled:!1,useIframes:!1},mediasquare:{enabled:!0,useIframes:!0},smileWanted:{enabled:!1,useIframes:!1},xandr:{enabled:!0,useIframes:!0},magnite:{enabled:!0,useIframes:!0},indexExchange:{enabled:!0,useIframes:!0},triplelift:{enabled:!0,useIframes:!0},criteo:{enabled:!0,useIframes:!0},invibes:{enabled:!0},spotx:{enabled:!0},nexx360:{enabled:!1,useIframes:!1},noBid:{enabled:!1,useIframes:!1},missena:{enabled:!1,useIframes:!1},nextMillennium:{enabled:!1,useIframes:!1},adagio:{enabled:!1,useIframes:!1},bliink:{enabled:!1,useIframes:!1},...e});rtdSettings;#De=e=>({auctionDelay:100,adloox:{enabled:!1,waitForIt:!1,thresholds:[50,60,70,80,90],slotinpath:!1},onePlusX:{enabled:!1,waitForIt:!1,customerId:void 0,bidders:void 0,timeout:void 0},ias:{enabled:!1,waitForIt:!1,pubId:"",keyMappings:void 0,pageUrl:void 0,adUnitPath:void 0},oxxionRtd:{enabled:!1,waitForIt:!1,domain:"",contexts:void 0,threshold:void 0,samplingRate:void 0,bidders:void 0},greenbidsRtd:{enabled:!1,waitForIt:!1,pbuid:""},...e});sas={};criteo;#Be=e=>({fastBidVersion:"latest",...e});adot;#Me=e=>({...e});schains=[];storagePolicy;#Oe=e=>{const t={consent:"local-storage",noConsent:"session-storage"},r={consent:"local-storage",noConsent:"local-storage"};return{settings:{intrastitial:e?.settings?.intrastitial??r,consent:e?.settings?.consent??r,dynamicTimeout:e?.settings?.dynamicTimeout??r,clientContext:e?.settings?.clientContext??t,remoteConfiguration:e?.settings?.remoteConfiguration??r,tdid:e?.settings?.tdid??t,adnxsid:e?.settings?.adnxsid??t},custom:e?.custom}};secondChance;#Ve=e=>({adserver:e?.adserver,enabled:e?.enabled??!1,mode:e?.mode??"boolean",maxCount:e?.maxCount??1,isPlacementAllowed:e?.isPlacementAllowed});secondaryBidders;s2sConfig;#Pe=e=>({enabled:e?.enabled??!1,bidders:e?.bidders??[]});#Ue=e=>({externalVisitsProvider:e?.externalVisitsProvider,periodicity:e?.periodicity??-1,sessionDuration:e?.sessionDuration});bidderSettings;preAuctionStep;filterAuctionStep;postAuctionStep;preRenderStep;postRenderStep;preAdserverCallStep;overrideRenderFormat;overrideRichMediaSettings;overrideDisplayFormat;additionalTargetings;overrideBidPriority;auctionTags;floors;bidderAliases={};exposePbjsAdUnits=!1;amazon;sublime;ortb;intrastitial;instream;constructor(e){Object.assign(this,e),this.consent=this.#Ce(e.consent),this.dfp2=this.#Ae(e.dfp2),this.ias=this.#ke(e.ias),this.userSync=this.#Fe(e.userSync),this.rtdSettings=this.#De(e.rtdSettings),this.beam=this.#Ee(e.beam),this.adot=this.#Me(e.adot),this.criteo=this.#Be(e.criteo),this.storagePolicy=this.#Oe(e.storagePolicy),this.secondChance=this.#Ve(e.secondChance),this.intrastitial=this.#Ue(e.intrastitial),this.s2sConfig=this.#Pe(e.s2sConfig)}}var ht=r(12);const gt=(e,t,r)=>{e[t]=r},vt=()=>console.log("%c","color:red"),yt={requestBids:et.requestBids,getConfig:et.getConfig,readConfig:et.readConfig,setConfig:et.setConfig,mergeConfig:et.mergeConfig,addAdUnits:et.addAdUnits,removeAdUnit:et.removeAdUnit,setBidderConfig:et.setBidderConfig,setBidderSettings:e=>{et.bidderSettings=e}};(0,ht.a)((()=>{gt(et,"getConfig",vt),gt(et,"setConfig",vt),gt(et,"mergeConfig",vt),gt(et,"addAdUnits",vt),gt(et,"removeAdUnit",vt),gt(et,"setBidderConfig",vt);let e=et.bidderSettings;yt.setBidderSettings=t=>{e=t},Object.defineProperty(et,"bidderSettings",{get:()=>e,set(){vt()}})}));var It=r(51),Tt=r(56),_t=r(40);const wt=({userSync:e,bidderAliases:t},r)=>{const n=(e=>{const t=new Set;for(const r of e??[])for(const{bidder:e}of r.bidRequest.bids)t.add(e);return t})(r),i=Object.entries(t).reduce(((e,[t,i])=>(r&&!n.has(t)||(e[i]??=t),e)),{}),a=new Set,s=new Set;e.smartadserver.enabled&&(e.smartadserver.useIframes&&s.add(It.a.Smart),a.add(It.a.Smart)),e.richAudience.enabled&&(e.richAudience.useIframes&&s.add(It.a.richaudience),a.add(It.a.richaudience)),e.pubmatic.enabled&&(e.pubmatic.useIframes&&s.add(It.a.pubmatic),a.add(It.a.pubmatic)),e.mediasquare.enabled&&(e.mediasquare.useIframes&&s.add(It.a.mediasquare),a.add(It.a.mediasquare)),e.prisma.enabled&&(e.prisma.useIframes&&s.add(It.a.prisma),a.add(It.a.prisma)),e.smileWanted.enabled&&(e.smileWanted.useIframes&&s.add(It.a.smilewanted),a.add(It.a.smilewanted)),e.xandr.enabled&&(e.xandr.useIframes&&s.add(It.a.AppNexus),a.add(It.a.AppNexus)),e.magnite.enabled&&(e.magnite.useIframes&&s.add(It.a.Rubicon),a.add(It.a.Rubicon)),e.indexExchange.enabled&&(e.indexExchange.useIframes&&s.add(It.a.IndexExchange),a.add(It.a.IndexExchange)),e.triplelift.enabled&&(e.triplelift.useIframes&&s.add(It.a.TripleLift),a.add(It.a.TripleLift)),e.criteo.enabled&&(e.criteo.useIframes&&s.add(It.a.Criteo),a.add(It.a.Criteo)),e.invibes.enabled&&a.add(It.a.Invibes),e.spotx.enabled&&a.add(It.a.SpotX),e.nexx360.enabled&&(e.nexx360.useIframes&&s.add(It.a.nexx360),a.add(It.a.nexx360)),e.noBid.enabled&&(e.noBid.useIframes&&s.add(It.a.noBid),a.add(It.a.noBid)),e.missena.enabled&&(e.missena.useIframes&&s.add(It.a.missena),a.add(It.a.missena)),e.nextMillennium.enabled&&(e.nextMillennium.useIframes&&s.add(It.a.nextMillennium),a.add(It.a.nextMillennium)),e.adagio.enabled&&(e.adagio.useIframes&&s.add(It.a.Adagio),a.add(It.a.Adagio)),e.bliink.enabled&&(e.bliink.useIframes&&s.add(It.a.bliink),a.add(It.a.bliink));const o=((e,t,r)=>{const n=[...t].flatMap((t=>e[t]??[])),i=[...r].flatMap((t=>e[t]??[])),a=n.length>0,s=i.length>0;return{image:{bidders:a?n:"*",filter:a?"include":"exclude"},iframe:{bidders:s?i:"*",filter:s?"include":"exclude"}}})(i,a,s);return o};var St=r(60),Rt=r(30),xt=r(64),Ct=r(20),Et=r(1);const At=new Rt.a({name:"client-context",storageType:()=>(0,xt.a)({name:"clientContext"}),freshnessInterval:1800,expirationInterval:3600,loader:async()=>{const[e,{strictGdprSettings:t}]=await Promise.all([fetch("https://client-context.hubvisor.io"),Ct.b]);if(!e.ok)throw new Error(`http status: ${e.statusText}`);const r=await e.json();return t?{geo:{country:r.geo?.country,location:{timeZone:r.geo?.location?.timeZone}},ip:(0,Et.q)(r.ip)?`${r.ip.substring(0,r.ip.lastIndexOf("."))}.0`:r.ip,ua:r.ua,cxn:r.cxn}:r}});var kt=r(27);const Ft=e=>Object.entries(e).reduce(((e,[t,r])=>(e[t]=kt.b.get(r),e)),{});var Dt=r(39),Bt=r(54),Mt=r(89);const Ot=e=>!(0,Et.j)(e)&&(!(0,Et.c)(e)||e.length>0),Vt=e=>{if(!Ot(e.countries))return!0;const t=At.currentValue?.geo?.country?.iso;return!!t&&(0,Mt.a)(e.countries).includes(t)},Pt=({key:e,values:t,regex:r},n)=>{const i=e.split(".").reduce(((e,t)=>{if(e)return e[t]}),n);return!!i&&(t&&t.includes(i)||!(!r||!r.some((e=>{try{return!!i.match(new RegExp(e,"g"))}catch(e){return!1}}))))},Ut=e=>{if(!e)return!0;const t=window;switch(e.type){case"window":return Pt(e,t);case"tcvars":return Pt(e,t.tc_vars);case"datalayer":return(0,Et.c)(t.dataLayer)?t.dataLayer.some((t=>Pt(e,t))):Pt(e,t.dataLayer);default:return!1}},qt=e=>{const t=_t.remoteConfiguration.currentValue?.publisherConfiguration?.floors?.filter((t=>((0,Et.j)(t.layouts)||(0,Mt.a)(t.layouts).includes(e.layout))&&((0,Et.j)(t.supportCodes)||(0,Mt.a)(t.supportCodes).includes(e.supportCode))&&((0,Et.j)(t.pageZones)||(0,Mt.a)(t.pageZones).includes(e.pageZone))&&((0,Et.j)(t.isConsentless)||t.isConsentless===(0,Dt.b)())&&(0,Et.c)(t.schema)&&t.schema.length>0&&Object.keys(t.floorRules).length>0&&Vt(t)))??[];return t?.[0]},Nt=(e,t)=>(0,Et.j)(t)||(0,Mt.a)(t).includes(e),$t=e=>e[`${(new Date).getUTCHours()}`]??1,jt=(e,t)=>{const r=e.split("|");return r.splice(t,1),r.join("|")},zt=["skin"],Lt=(e,t)=>t||zt.some((t=>e.includes(t)));var Ht=r(58);const Xt=(0,ht.a)((()=>{const e=_t.remoteConfiguration.currentValue;yt.setConfig({currency:{adServerCurrency:"USD",rates:e?.currencies?.rates}})})),Wt=new Set([It.a.ttdDirectPath,It.a.hubvisor,It.a.hawk]),Gt=e=>e.s2sConfig?.bidders.filter((t=>!(Wt.has(e.bidderAliases[t])||Wt.has(t))))??[],Yt=e=>{{if(!e)return;const t=[];if(e.adloox.enabled){const r={name:"adloox",waitForIt:e.adloox.waitForIt};r.params={thresholds:e.adloox.thresholds},(0,Et.i)(e.adloox.slotinpath)&&(r.params.slotinpath=e.adloox.slotinpath),t.push(r)}if(e.onePlusX.enabled){const r={name:"1plusX",waitForIt:e.onePlusX.waitForIt};e.onePlusX.customerId&&e.onePlusX.bidders&&(0,Et.i)(e.onePlusX.timeout)&&(r.params={customerId:e.onePlusX.customerId,bidders:e.onePlusX.bidders,timeout:e.onePlusX.timeout}),t.push(r)}if(e.ias.enabled&&e.ias.pubId){const r={name:"ias",waitForIt:e.ias.waitForIt,params:{pubId:e.ias.pubId}};e.ias.keyMappings&&(r.params.keyMappings=e.ias.keyMappings),e.ias.pageUrl&&(r.params.pageUrl=e.ias.pageUrl),e.ias.adUnitPath&&(r.params.adUnitPath=e.ias.adUnitPath),t.push(r)}if(e.oxxionRtd.enabled&&e.oxxionRtd.domain){const r={name:"oxxionRtd",waitForIt:e.oxxionRtd.waitForIt,params:{domain:e.oxxionRtd.domain}};e.oxxionRtd.contexts&&(r.params.contexts=e.oxxionRtd.contexts),(0,Et.r)(e.oxxionRtd.threshold)||(r.params.threshold=e.oxxionRtd.threshold),e.oxxionRtd.samplingRate&&(r.params.samplingRate=e.oxxionRtd.samplingRate),e.oxxionRtd.bidders&&(r.params.bidders=e.oxxionRtd.bidders),t.push(r)}if(e.greenbidsRtd.enabled&&e.greenbidsRtd.pbuid){const r={name:"greenbidsRtdProvider",waitForIt:e.greenbidsRtd.waitForIt,params:{pbuid:e.greenbidsRtd.pbuid}};t.push(r)}if(0===t.length)return;return{auctionDelay:e.auctionDelay,dataProviders:t}}},Kt=e=>{const{targetingKeyPrefix:t}=e;return{adserverTargeting:[{key:`${t}_bidder`,val:e=>e.bidderCode},{key:`${t}_size`,val:e=>e.size},{key:`${t}_deal`,val:e=>e.dealId},{key:`${t}_format`,val:e=>e.mediaType}]}},Jt=e=>{const t=[];if(e.id5?.partnerId){const{controlGroupPct:r,partnerId:n,partnerSuppliedData:i}=e.id5,a={name:"id5Id",params:{partner:n,pd:i,abTesting:(0,Et.r)(r)?void 0:{enabled:!0,controlGroupPct:r}},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}};t.push(a)}if(e.identityLink?.pid){const r={name:"identityLink",params:{pid:e.identityLink.pid,notUse3P:e.identityLink.notUse3P},storage:{type:e.identityLink.storage??"html5",name:"idl_env",expires:e.identityLink.expires??30}};e.identityLink.refreshInSeconds&&(r.storage.refreshInSeconds=e.identityLink.refreshInSeconds),t.push(r)}if(e.criteoId?.enabled){const e={name:"criteo",storage:{type:"html5",name:"criteoid",expires:365}};t.push(e)}if(e.pubCommonId?.enabled){const e={name:"pubCommonId"};t.push(e)}if(e.sharedId?.enabled){const e={name:"sharedId",params:{syncTime:1440},storage:{type:"html5",name:"sharedid",expires:28}};t.push(e)}return e.unifiedId?.enabled&&t.push({name:"unifiedId",params:{url:`https://match.adsrvr.org/track/rid?ttd_pid=${e.unifiedId.pid}&fmt=json`},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}}),e.pubProvidedId?.eidsFunction&&t.push({name:"pubProvidedId",params:{eidsFunction:e.pubProvidedId.eidsFunction}}),e.pairId?.enabled&&t.push({name:"pairId",...e.pairId.params?{params:e.pairId.params}:{}}),e.utiq?.enabled&&t.push({name:"utiq"}),t},Zt=e=>{if(!Object.values(e.bidderAliases).includes(It.a.outbrain))return;const t=At.currentValue?.geo?.country?.isEu?"-euc1":"";return{bidderUrl:`https://b1h${t}.zemanta.com/api/bidder/prebid/bid/`,usersyncUrl:`https://b1h${t}.zemanta.com/usersync/prebid`}},Qt=e=>{if(!e)return;const t={};for(const r of e.values)t[e.fields.map((e=>r[e]??"*")).join("|")]=r.floor;return t},er=e=>{if(e&&!1!==(0,St.a)("floors"))return{enforcement:{floorDeals:!0},data:{currency:e.currency??"USD",schema:{fields:e.fields},values:Qt(e),default:e.default},additionalSchemaFields:{deviceType:()=>Tt.d,connector:(e,t)=>e?.bidder??t.bidderCode,videoContext:e=>e?.mediaTypes?.video?.context??"",displayFormat:e=>e?.hbvMetadata?.displayFormat??"",isConsentless:()=>`${(0,Dt.b)()}`,...e.additionalSchemaFields}}},tr=(0,ht.a)((e=>{e.consent.enabled&&Fe.e.enable(),e.consent.uspEnabled&&Fe.g.enable(),(e=>{for(const[t,r]of Object.entries(e))et.aliasBidder(r,t)})(e.bidderAliases),et.processQueue(),yt.setConfig((e=>{const t=wt(e),r="include"===t.image?.filter&&t.image.bidders.length>0||"include"===t.iframe?.filter&&t.iframe.bidders.length>0,n=Object.entries(e.userSync).some((([e,t])=>e in bt&&Boolean(t.enabled)))&&r;let i;{let t=!!e.s2sConfig?.enabled;i={accountId:e.publisherId,bidders:Gt(e),enabled:t,endpoint:"https://pbs.hubvisor.io/openrtb2/auction",syncEndpoint:"https://pbs.hubvisor.io/cookie_sync",timeout:1e3*(e.bidderTimeout-.5)}}return{gvlMapping:Ft(e.bidderAliases),priceGranularity:e.priceGranularity,consentManagement:{strictStorageEnforcement:e.consent.strictStorageEnforcement,gdpr:{cmpApi:"iab",timeout:1e3*e.consent.consentTimeout,allowAuctionWithoutConsent:!e.consent.shouldSkipAuctionOnConsentFailure,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:e.consent.storageVendorExceptions},{purpose:"basicAds",enforcePurpose:!1,enforceVendor:!1}]},usp:{cmpApi:"iab",timeout:100}},criteo:e.criteo,outbrain:Zt(e),rubicon:{singleRequest:!0},improvedigital:{usePrebidSizes:!0},hbvRichmedia:{publisherId:e.publisherId},userSync:{aliasSyncEnabled:n,syncEnabled:n,userIds:Jt(e.userSync),ppid:e.userSync.ppid,syncDelay:1e3,filterSettings:t},floors:er(e.floors),debug:(0,St.a)("pbjs")??!1,auctionOptions:{secondaryBidders:e.secondaryBidders??[]},s2sConfig:i,enableTIDs:!0,realTimeData:Yt(e.rtdSettings)}})(e)),yt.setBidderSettings({adagio:{storageAllowed:!0},criteo:{storageAllowed:!0},standard:Kt(e),...e.bidderSettings}),(e=>{if(e.adot?.publisherId||e.adot?.publisherPath){const t=Object.entries(e.bidderAliases).reduce(((e,[t,r])=>("adot"===r&&e.push(t),e)),[]);yt.setBidderConfig({bidders:t,config:{adot:{publisherId:e.adot.publisherId,publisherPath:e.adot.publisherPath}}})}for(const t of e.schains)yt.setBidderConfig({bidders:t.bidders,config:{schain:{config:{ver:"1.0",complete:1,nodes:t.nodes},validation:"relaxed"}}})})(e)}));var rr=r(28),nr=r(38);const{error:ir,debug:ar}=st.a.tag("TDID"),sr="hbv:ttdid",or={},dr=async({timeout:e})=>{try{ar("Querying fresh TDID");const t=e>0,r=new AbortController,n=t?setTimeout((()=>r.abort(new Error(`timeout of ${e}ms reached`))),e):void 0,i=await fetch((()=>{const e=at.a.currentValue?.tcData;return`https://match.adsrvr.org/track/rid?ttd_pid=cs1e9cy&fmt=json&ttd_tpi=1&gdpr=${!0===e?.gdprApplies?"1":"0"}&gdpr_consent=${e?.tcString??""}`})(),{credentials:"include",signal:r.signal});if(clearTimeout(n),!i.ok)throw new Error(`http status: ${i.statusText}`);const a=(await i.json()).TDID;if((0,Et.q)(a))return(e=>{const t={updatedAt:Date.now(),tdid:e};localStorage.setItem(sr,JSON.stringify(t)),ar(`Updated stored uid #${e}`)})(a),a;ir("couldn't interpret TDID endpoint response",i)}catch(e){ir("Error loading TDID endpoint",e)}},cr=(0,ht.a)((async({consent:e})=>{if(!(0,ot.c)(at.a.currentValue?.tcData,ot.a.storageAccess)&&e.enabled)return ar("Consent denies usage of storage for TDID");or.consent=e,or.tdid=await(async()=>{const e=(()=>{try{const t=localStorage.getItem(sr);if(!t)return;const r=JSON.parse(t);if(!(e=>(0,Et.m)(e)&&(0,Et.q)(e.tdid)&&(0,Et.l)(e.updatedAt))(r))return;if(!(e=r)||Date.now()-e.updatedAt>7776e6)return;return r}catch(e){ir("Error loading TDID",e)}var e})();return(t=e)&&Date.now()-t.updatedAt<288e5?(ar(`Stored data is fresh enough, using #${e?.tdid}`),e?.tdid):e?(dr({timeout:0}),e.tdid):dr({timeout:1500});var t})(),ar("Tdid setup is ready")}));var lr=r(92),pr=r(94);const ur=e=>Math.round(100*e)/100;var mr=r(16);const br={purpose:{},feature:{}},fr={purpose:"purpose.consents",feature:"specialFeatureOptins"},hr={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},gr=new Set,vr=new Set,yr=new Set,Ir=new Set,Tr=new Set,_r=new Set;let wr=!1,Sr=!1;const Rr=[we.b,we.e,we.a,we.d],xr="TCF2",Cr=[],Er=[2];function Ar(e,t,r,n){let i=!!(0,a.a)(e,`vendorData.${fr[t]}.${r}`),s=!!(0,a.a)(e,`vendorData.vendor.consents.${n}`);return"purpose"===t&&Er.includes(r)&&(i||=!!(0,a.a)(e,`vendorData.purpose.legitimateInterests.${r}`),s||=!!(0,a.a)(e,`vendorData.vendor.legitimateInterests.${n}`)),{purpose:i,vendor:s}}function kr(e,t,r,n){const i=hr[e.purpose];if((e.vendorExceptions||[]).includes(r))return!0;const s=e.enforceVendor&&!(n===Fe.c||(e.softVendorExceptions||[]).includes(r)),{purpose:o,vendor:d}=Ar(t,i.type,i.id,n);let c=(!e.enforcePurpose||o)&&(!s||d);return n===Fe.a&&(c=!e.enforcePurpose||!!(0,a.a)(t,`vendorData.publisher.consents.${i.id}`)),c}function Fr(e,t,r=null,n=(()=>null)){return function(a){const s=Fe.e.getConsentData(),o=a[mr.c];if(function(e,t,r){return null==e&&Fe.e.enabled?((0,i._)(`Attempting operation that requires purpose ${t} consent while consent data is not available${r?` (module: ${r})`:""}. Assuming no consent was given.`),!0):e&&e.gdprApplies}(s,e,o)){const e=function(e,t,r){if(t){const n=u.b.getConfig("gvlMapping");if(n&&n[t])return n[t];if(e===we.c)return"cdep"===t?Fe.a:Fe.c;{let{gvlid:n,modules:a}=Fe.b.get(t);if(null==n&&Object.keys(a).length>0)for(const r of Rr)if(a.hasOwnProperty(r)){n=a[r],r!==e&&(0,i._)(`Multiple GVL IDs found for module '${t}'; using the ${r} module's ID (${n}) instead of the ${e}'s ID (${a[e]})`);break}return null==n&&r&&(n=r()),n||null}}return null}(a[mr.d],o,n(a));let d=!!t(s,o,e);if(!d)return r&&r.add(o),{allow:d}}}}function Dr(e,t=null,r=(()=>null)){return Fr(e,((t,r,n)=>!!kr(br.purpose[e],t,r,n)),t,r)}function Br(e){return function(t){if(t[mr.d]!==we.c)return e(t)}}const Mr=(Or=Dr(1,gr),function(e){if(e[mr.d]!==we.c||Sr)return Or(e)});var Or;const Vr=Dr(1,gr),Pr=Dr(1,gr),Ur=Br(Dr(2,vr)),qr=Dr(7,yr,(e=>function(e,t){const r=de.a.getAnalyticsAdapter(e);return(n=>{if("function"!=typeof n)return n;try{return n.call(r.adapter,t)}catch(t){(0,i.X)(`Error invoking ${e} adapter.gvlid()`,t)}})(r?.adapter?.gvlid)}(e[mr.c],e[mr.b]))),Nr=Dr(4,Ir),$r=Br((()=>{const e=Fr("2-10",(function(e,t,r){for(let n=2;n<=10;n++){if(br.purpose[n]?.vendorExceptions?.includes(t))return!0;const{purpose:i,vendor:a}=Ar(e,"purpose",n,r);if(i&&(a||br.purpose[n]?.softVendorExceptions?.includes(t)))return!0}return!1}),Tr),t=Dr(4,Tr);return function(){return(br.purpose[4]?.eidsRequireP4Consent?t:e).apply(this,arguments)}})()),jr=Fr("Special Feature 1",((e,t,r)=>kr(br.feature[1],e,t,r)),_r);o.on(c.EVENTS.AUCTION_END,(function(){const e=function(e){return Array.from(e.keys()).filter((e=>null!=e))},t={storageBlocked:e(gr),biddersBlocked:e(vr),analyticsBlocked:e(yr),ufpdBlocked:e(Ir),eidsBlocked:e(Tr),geoBlocked:e(_r)};o.emit(c.EVENTS.TCF2_ENFORCEMENT,t),[gr,vr,yr,Ir,Tr,_r].forEach((e=>e.clear()))})),u.b.getConfig("consentManagement",(e=>function(e){let t=(0,a.a)(e,"gdpr.rules");t||(0,i._)("TCF2: enforcing P1 and P2 by default"),t=Object.fromEntries((t||[]).map((e=>[e.purpose,e]))),Sr=!!(0,a.a)(e,"strictStorageEnforcement"),Object.entries(hr).forEach((([e,r])=>{br[r.type][r.id]=t[e]??r.default})),wr||(null!=br.purpose[1]&&(wr=!0,Cr.push((0,Ie.b)(_e.a,xr,Mr)),Cr.push((0,Ie.b)(_e.f,xr,Vr)),Cr.push((0,Ie.b)(_e.b,xr,Pr))),null!=br.purpose[2]&&Cr.push((0,Ie.b)(_e.d,xr,Ur)),null!=br.purpose[4]&&Cr.push((0,Ie.b)(_e.j,xr,Nr),(0,Ie.b)(_e.c,xr,Nr)),null!=br.purpose[7]&&Cr.push((0,Ie.b)(_e.e,xr,qr)),null!=br.feature[1]&&Cr.push((0,Ie.b)(_e.h,xr,jr)),Cr.push((0,Ie.b)(_e.g,xr,$r)))}(e.consentManagement)));var zr=r(34),Lr=r(90);const Hr=4;let Xr,Wr=[],Gr={},Yr=!1,Kr=!0,Jr="USD";var Zr=!1,Qr={};let en,tn={},rn=(0,ee.b)();function nn(e){en?((0,i._)(e),(0,i._)("Currency failed loading rates, falling back to currency.defaultRates")):(0,i.X)(e)}function an(){Kr?(Kr=!1,Yr=!1,(0,zr.b)(Xr,{success:function(e){try{Qr=JSON.parse(e),(0,i.Y)("currencyRates set to "+JSON.stringify(Qr)),Gr={},Yr=!0,cn()}catch(t){nn("Failed to parse currencyRates response: "+e)}},error:function(...e){nn(...e),Yr=!0,cn(),Kr=!0}})):cn()}function sn(e,t){e(t.then((()=>rn.promise)))}u.b.getConfig("currency",(e=>function(e){if(Xr="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$","object"==typeof e.rates&&(Qr.conversions=e.rates,Yr=!0,Kr=!1),"object"==typeof e.defaultRates&&(en=e.defaultRates,Qr.conversions=en,Yr=!0),"string"==typeof e.adServerCurrency){(0,i.Y)("enabling currency support",arguments),Jr=e.adServerCurrency,e.conversionRateFile&&((0,i.Y)("currency using override conversionRateFile:",e.conversionRateFile),Xr=e.conversionRateFile);const t=Xr.indexOf("$$TODAY$$");if(-1!==t){const e=new Date;let r=`${e.getMonth()+1}`,n=`${e.getDate()}`;r.length<2&&(r=`0${r}`),n.length<2&&(n=`0${n}`);const i=`${e.getFullYear()}${r}${n}`;Xr=`${Xr.substring(0,t)}${i}${Xr.substring(t+9,Xr.length)}`}!function(){Gr={},Zr=!0,(0,i.Y)("Installing addBidResponse decorator for currency module",arguments),(0,n.a)().convertCurrency=(e,t,r)=>parseFloat(e)*ln(t,r),(0,k.a)("addBidResponse").before(on,100),(0,k.a)("responsesReady").before(sn),(0,o.on)(c.EVENTS.AUCTION_TIMEOUT,dn),(0,o.on)(c.EVENTS.AUCTION_INIT,an),an()}()}else(0,i.Y)("disabling currency support"),function(){(0,i.Y)("Uninstalling addBidResponse decorator for currency module",arguments),(0,k.a)("addBidResponse").getHooks({hook:on}).remove(),(0,k.a)("responsesReady").getHooks({hook:sn}).remove(),(0,o.off)(c.EVENTS.AUCTION_TIMEOUT,dn),(0,o.off)(c.EVENTS.AUCTION_INIT,an),delete(0,n.a)().convertCurrency,Jr="USD",Gr={},Zr=!1,Yr=!1,Kr=!0,Qr={},tn={},rn=(0,ee.b)()}();"object"==typeof e.bidderCurrencyDefault&&(tn=e.bidderCurrencyDefault)}(e.currency)));const on=(0,ce.c)("currency",(function(e,t,r,n){if(!r)return e.call(this,t,r,n);let a=r.bidderCode||r.bidder;if(tn[a]){let e=tn[a];r.currency&&e!==r.currency?(0,i._)(`Currency default '${a}: ${e}' ignored. adapter specified '${r.currency}'`):r.currency=e}if(r.currency||((0,i._)('Currency not specified on bid.  Defaulted to "USD"'),r.currency="USD"),r.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*ln(this.currency,e)).toFixed(3)},r.currency===Jr)return e.call(this,t,r,n);Wr.push([e,this,t,r,n]),Zr&&!Yr||cn()}));function dn({auctionId:e}){Wr=Wr.filter((([t,r,n,i,a])=>{if(i.auctionId!==e)return!0;a(c.REJECTION_REASON.CANNOT_CONVERT_CURRENCY)}))}function cn(){for(;Wr.length>0;){const[e,t,r,n,a]=Wr.shift();if(void 0!==n&&"currency"in n&&"cpm"in n){let e=n.currency;try{let t=ln(e);1!==t&&(n.cpm=(parseFloat(n.cpm)*t).toFixed(4),n.currency=Jr)}catch(e){(0,i._)("getCurrencyConversion threw error: ",e),a(c.REJECTION_REASON.CANNOT_CONVERT_CURRENCY);continue}}e.call(t,r,n,a)}rn.resolve()}function ln(e,t=Jr){var r,n=null;let a=`${e}->${t}`;if(a in Gr)n=Gr[a],(0,i.Z)("Using conversionCache value "+n+" for "+a);else if(!1===Zr){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");n=1}else if(e===t)n=1;else if(e in Qr.conversions){if(!(t in(r=Qr.conversions[e])))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");n=r[t],(0,i.Y)("getCurrencyConversion using direct "+e+" to "+t+" conversionRate "+n)}else if(t in Qr.conversions){if(!(e in(r=Qr.conversions[t])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");n=pn(1/r[e],Hr),(0,i.Y)("getCurrencyConversion using reciprocal "+e+" to "+t+" conversionRate "+n)}else{var s=Object.keys(Qr.conversions)[0];if(!(e in Qr.conversions[s]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var o=1/Qr.conversions[s][e];if(!(t in Qr.conversions[s]))throw new Error("Specified adServerCurrency in config '"+t+"' not found in the currency rates file");n=pn(o*Qr.conversions[s][t],Hr),(0,i.Y)("getCurrencyConversion using intermediate "+e+" thru "+s+" to "+t+" conversionRate "+n)}return a in Gr||((0,i.Z)("Adding conversionCache value "+n+" for "+a),Gr[a]=n),n}function pn(e,t){var r=1;for(let e=0;e<t;e++)r+="0";return Math.round(e*r)/r}(0,Lr.d)({type:Lr.c,name:"currency",fn:function(e,t,r){Zr&&(e.cur=e.cur||[r.currency||Jr])}}),r(99);var un=r(50);const mn=(e,t)=>e?.replace(/\$\{AUCTION_PRICE\}|\$%7BAUCTION_PRICE%7D/g,`${t}`),bn="banner",fn="native",hn="video",gn=([e,t],[r,n])=>e!==r?e-r:t-n,vn=e=>[...e].sort(gn).map((e=>`${e[0]}x${e[1]}`)).join("-");class yn{#qe={};#Ne={};constructor(e){for(const t of e)this.#Ne[t.placementId]={pubstack:t.pubstack,ortb2Imp:t.bidRequest.ortb2Imp}}push=({adUnitCode:e,mediaTypes:t,renderer:r,bids:n,ortb2ImpParams:i,playerConfig:a})=>{const s=((e,t,r,n,i)=>{const a=Object.entries(t).map((([e,t])=>{if(e===bn&&t)return`${e}=${vn(t.sizes)}`;if(e===hn&&t){const n=r?.url??"",{api:a,linearity:s,mimes:o,maxduration:d,minduration:c,protocols:l,startdelay:p,playbackmethod:u,placement:m,skip:b}=t,f=JSON.stringify({api:a,linearity:s,mimes:o,maxduration:d,minduration:c,protocols:l,startdelay:p,playbackmethod:u,placement:m,skip:b}),{expand:h,isReplayable:g,volumeStrategy:v,hbvFormat:y,selector:I,targetRatio:T,maxWidth:_,hasRollover:w,hasDynamicHeight:S,fitHeight:R}=i??{},x=JSON.stringify({expand:h,isReplayable:g,volumeStrategy:v,hbvFormat:y,selector:I,targetRatio:T,maxWidth:_,hasRollover:w,hasDynamicHeight:S,fitHeight:R});return`${e}=${vn(t.playerSize)}&renderer=${n}&openRtbParams=${f}&playerConfig=${x}`}return e===fn?`${e}&nativeParams=${JSON.stringify(t)}`:void 0})),s=n?`ortb2Imp={banner.api=${n.banner?.api},instl=${n.instl},ext={gpid=${n.ext?.gpid},data.pbadslot:${n.ext?.data?.pbadslot}}}`:void 0;return`${e}:${a.join("&")}:ortb2Imp=${s}`})(e,t,r,i,a);if(!this.#qe[s]){const{pubstack:n,ortb2Imp:a}=this.#Ne[e]??{},o={code:e,mediaTypes:t,renderer:r,bids:[],ortb2Imp:a};o.ortb2Imp??=i,o.pubstack=n,this.#qe[s]=o}this.#qe[s]?.bids.push(...n)};build=()=>Object.values(this.#qe).filter(Et.i)}var In=r(49),Tn=r(7),_n=r(10),wn=r(53);const Sn=({bid:e,baseConnector:t,adUnits:r,overrideDisplayFormat:n,bidRequest:i})=>{const a=parseInt(`${e.width}`)||0,s=parseInt(`${e.height}`)||0,o=((e,t)=>{try{return t?t(e):void 0}catch(e){const t=new Tn.b(Tn.a.overrideDisplayFormatFailed,e);(0,_n.a)(t,"overrideDisplayFormat error")}})(e,n);if(o)return o;if("video"===e.mediaType)return((e,t)=>t.some((t=>t.code===e&&"instream"===t.mediaTypes.video?.context))?wn.a.instream:wn.a.outstream)(e.adUnitCode,r);if(1800===a&&1e3===s)return wn.a.skin;if("native"===e.mediaType)return wn.a.native;switch(t){case It.a.Adyoulike:return wn.a.nativeBanner;case It.a.Invibes:case It.a.Freewheel:return wn.a.outstream;case It.a.seedtag:case It.a.Smart:if(640===a)return wn.a.outstream;break;case It.a.Sublime:return wn.a.skin;case It.a.Teads:return wn.a.outstream;case It.a.TripleLift:return"tlx"===e.tl_source?wn.a.nativeBanner:"outstream"===i?.hbvMetadata?.displayFormat?wn.a.outstream:wn.a.banner;case It.a.bliink:return 1===a&&1===s?wn.a.outstream:wn.a.banner;case It.a.ogury:{const t=e.ext?.mediatype;return"video"===t?wn.a.outstream:"image"===t?wn.a.banner:wn.a.outstream}}return i?.hbvMetadata?.displayFormat??wn.a.banner},{debug:Rn,error:xn,info:Cn}=st.a.tag("content-provider:prebid");class En{#$e={};#je;#ze;constructor(e){this.#ze=e.globalSettings,tr(e.globalSettings);const t=e.globalSettings.targetingKeyPrefix;for(const e of["bidder","adid","pb","size","deal","format","pg_dealid","pg_adid"])kt.i.add(`${t}_${e}`);this.#je=e.globalSettings.bidderAliases,et.onEvent(c.EVENTS.BID_TIMEOUT,this.#Le),et.onEvent(c.EVENTS.NO_BID,this.#He),et.onEvent(c.EVENTS.BID_REJECTED,this.#Xe),et.onEvent(c.EVENTS.BID_REQUESTED,this.#We),Cn(`prebid.js ${et.version} loaded`)}#We=e=>{const t=this.#$e[e.auctionId];if(!t)return xn("couldn't find auction accumulator: this should not happen");for(const r of e.bids)t.userIdsByBidId[r.bidId]=r.userId?Object.keys(r.userId):[]};#Le=e=>{for(const t of e){const e=this.#je[t.bidder];this.#$e[t.auctionId]?.timeouts.push({placementId:t.adUnitCode,bidId:t.bidId,bidder:t.bidder,vendorId:e?kt.b.get(e):void 0,userIdPartners:this.#$e[t.auctionId]?.userIdsByBidId[t.bidId]??[],displayFormat:t.hbvMetadata?.displayFormat,mediaType:t.hbvMetadata?.mediaType,requestSizes:t.hbvMetadata?.requestSizes,requestDealIds:t?.hbvMetadata?.requestDealIds,payloadBidRequestSize:t?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:t?.hbvMetadata?.payloadBidResponseSize,demandSource:"s2s"===t.src?"pbs":"pbjs"})}};#He=e=>{const t=this.#je[e.bidder];this.#$e[e.auctionId]?.noBids.push({placementId:e.adUnitCode,bidId:e.bidId,bidder:e.bidder,vendorId:t?kt.b.get(t):void 0,userIdPartners:this.#$e[e.auctionId]?.userIdsByBidId[e.bidId]??[],displayFormat:e.hbvMetadata?.displayFormat,mediaType:e.hbvMetadata?.mediaType,requestSizes:e.hbvMetadata?.requestSizes,requestDealIds:e?.hbvMetadata?.requestDealIds,payloadBidRequestSize:e?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:e?.hbvMetadata?.payloadBidResponseSize,demandSource:"s2s"===e.src?"pbs":"pbjs"})};#Xe=e=>{this.#$e[e.auctionId]?.rejectedBids.push(e)};#Ge=e=>e;#Ye=e=>{const t=e.meta;if(!t)return;const r=t.agencyId??e.appnexus?.buyerMemberId;return{networkId:t.networkId?`${t.networkId}`:void 0,networkName:t.networkName,agencyId:r?`${r}`:void 0,agencyName:t.agencyName,advertiserId:t.advertiserId?`${t.advertiserId}`:void 0,advertiserName:t.advertiserName,advertiserDomains:(0,Mt.a)(t.advertiserDomains).filter((e=>(0,Et.q)(e)&&""!==e)).slice(0,2),brandId:t.brandId?`${t.brandId}`:void 0,brandName:t.brandName,dchain:t.dchain,primaryCatId:t.primaryCatId,secondaryCatIds:t.secondaryCatIds,mediaType:t.mediaType?this.#Ge(t.mediaType):void 0}};#Ke=(e,t)=>r=>{r.ad=mn(r.ad,r.originalCpm),r.adUrl=mn(r.adUrl,r.originalCpm),r.vastUrl=mn(r.vastUrl,r.originalCpm),r.vastXml=mn(r.vastXml,r.originalCpm);const n=`${r.creativeId}`,i=r.dealId?`${r.dealId}`:void 0,a=this.#je[r.bidder],s=parseInt(`${r.width}`)||0,o=parseInt(`${r.height}`)||0,d=l.a.index.getBidRequest(r),c=d?.params.deals;return{providerId:un.a,prebid:r,adMarkup:r.ad,adUrl:r.adUrl,auctionId:e,placementId:r.adUnitCode,bidder:r.bidder,vendorId:a?kt.b.get(a):void 0,bidId:r.adId,dealId:i,width:s,height:o,mediaType:this.#Ge(r.mediaType),creativeId:n,cpm:Number(r.cpm),currency:r.currency,originalCpm:Number(r.originalCpm??r.cpm),originalCurrency:r.originalCurrency??r.currency,isNetRevenue:r.netRevenue,ttl:r.ttl,fetchDuration:r.timeToRespond,targetings:r.adserverTargeting,native:r.native?{prebid:r.native}:void 0,vastUrl:r.vastUrl,vastXml:r.vastXml,meta:this.#Ye(r),displayFormat:Sn({bid:r,baseConnector:a??r.bidder,adUnits:t,overrideDisplayFormat:this.#ze.overrideDisplayFormat,bidRequest:d}),requestSizes:d?.hbvMetadata?.requestSizes,requestDealIds:d?.hbvMetadata?.requestDealIds,deal:i?{name:i,isGuaranteed:c?.some((e=>e.isGuaranteed&&e.name===r.dealId))??!1}:void 0,payloadBidRequestSize:d?.hbvMetadata?.payloadBidRequestSize,payloadBidResponseSize:d?.hbvMetadata?.payloadBidResponseSize,userIdPartners:this.#$e[r.auctionId]?.userIdsByBidId[r.requestId]??[],requestParams:d?.params,demandSource:"s2s"===r.source?"pbs":"pbjs"}};#Je=e=>new yn(e);#Ze=()=>!!yt.readConfig("floors")?.endpoint?.url;provideContent=async(e,t)=>{const{placements:r,bidderTimeout:n}=t,a=((e,t)=>r=>{const n=e[r]??r,i=t[n];return n===It.a.amazon||n===It.a.backfill?In.a:i??In.a})(this.#je,kt.a.items),s=(0,lr.a)(this.#Je(r),r,{provideFormatter:a},t.context).build();this.#ze.exposePbjsAdUnits&&window.Hubvisor&&(window.Hubvisor.adUnits=s),this.#ze.floors||this.#Ze()||(e=>{const t=this.#ze.shouldUseDynamicFloors?(e=>{const t=((e,t)=>{if(!t)return e;if(!e)return;const r="adUnitCode",n=e.floorRules,i=e.schema.includes(r)?e.schema:[...e.schema,r],a={},s={},o=i.indexOf(r);if(o===e.schema.length)for(const[e,r]of Object.entries(n)){const n=(0,Et.l)(r)?r:r.floor,i=!(0,Et.l)(r)&&r.immutable;for(const r of t){const t=e.split("|");a[`${e}|${r.placement}`]=Lt(t,i)?n:n*$t(r.multiplierByHour)}a[`${e}|*`]=n}else for(const[e,t]of Object.entries(n))s[e]=t;const d=Object.entries(s).reduce(((e,[t,r])=>(e[jt(t,o)]={...e[jt(t,o)]??{},[t]:r},e)),{});for(const e of Object.values(d)){const r=Object.entries(e).map((([e,t])=>[e.split("|"),t])),n=r.map((([e])=>e[o]));for(const[e,i]of r)if("*"===e[o]){for(const r of t)if(!n.includes(r.placement)){n.push(r.placement);const t=[...e];t[o]=r.placement;const s=(0,Et.l)(i)?i:i.floor,d=!(0,Et.l)(i)&&!0===i.immutable;a[t.join("|")]=Lt(t,d)?s:s*$t(r.multiplierByHour)}const r=(0,Et.l)(i)?i:i.floor;a[e.join("|")]=r}else{const r=t.find((t=>t.placement===e[o]))?.multiplierByHour,n=(0,Et.l)(i)?i:i.floor,s=!(0,Et.l)(i)&&!0===i.immutable;a[e.join("|")]=!Lt(e,s)&&r?$t(r)*n:n}}return{...e,schema:i,floorRules:a}})(qt(e.context),(r=(e=>{const t=_t.remoteConfiguration.currentValue?.publisherConfiguration?.floorMultipliers?.[0]?.multipliers.filter((t=>Nt(e.context.pageZone,t.zones)&&((0,Et.j)(e.context.category)||Nt(e.context.category,t.categories))&&Nt((e=>e.refreshReason===Bt.b.visibility)(e),t.refresh)));return t})(e),r?.filter((e=>(0,Et.i)(e.placement)))));var r;return t})(e):qt(e.context);if(t&&!1!==(0,St.a)("floors")){const r=Object.entries(t.floorRules).reduce(((e,[t,r])=>(e[t]=(0,Et.l)(r)?r:r.floor,e)),{});yt.setConfig({floors:{enforcement:{floorDeals:!0},data:{currency:t.currency??"USD",schema:{fields:t.schema},values:r,default:t.defaultFloor},additionalSchemaFields:{device:()=>Tt.d,bidder:(e,t)=>e?.bidder??t.bidderCode,videoContext:e=>e?.mediaTypes?.video?.context??"",displayFormat:e=>e?.hbvMetadata?.displayFormat??"",supportCode:()=>e.context.supportCode,country:()=>At.currentValue?.geo?.country?.iso??"",pageZone:()=>e.context.pageZone,browser:()=>At.currentValue?.ua?.browser?.name??"",category:()=>e.context.category??""}}})}})(t),yt.setConfig({outbrain:Zt(this.#ze)}),(e=>{const t={cattax:1,bcat:e.ortb?.contentBlocklist,badv:e.ortb?.domainBlocklist,at:Ht.a.firstPrice,device:{js:Ht.b.yes}},r=at.a.currentValue?.tcData;if(r&&(t.user={consent:r.tcString,ext:{consent:r.tcString,ConsentedProvidersSettings:{consented_providers:r.addtlConsent}}},t.regs={ext:{gdpr:(0,Et.e)(r.gdprApplies)?r.gdprApplies?Ht.b.yes:Ht.b.no:void 0}}),!(0,Dt.b)()){const e=At.currentValue;t.device.geo={country:e?.geo?.country?.alpha3,lat:e?.geo?.location?.latitude,lon:e?.geo?.location?.longitude,accuracy:e?.geo?.location?.accuracyRadius,ipservice:3,city:e?.geo?.city?.name,zip:e?.geo?.city?.zip}}const n=(0,i.ab)(yt.readConfig("ortb2")??{},t);yt.setConfig({ortb2:n})})(this.#ze);const o=1e3*n;Rn(`Starting auction with id #${e}`),this.#$e[e]={noBids:[],timeouts:[],rejectedBids:[],userIdsByBidId:{}};const{bids:d={}}=await yt.requestBids({auctionId:e,adUnits:s,timeout:o}),c=this.#$e[e]?.noBids,l=this.#$e[e]?.timeouts,p=this.#$e[e]?.rejectedBids;Cn(`Ended auction with id #${e}`,{responses:d,timeouts:l,noBids:c});const u=[];for(const e of Object.values(d))e&&u.push(...e.bids);return{bids:u?.map(this.#Ke(e,s))??[],noBids:c??[],timeouts:l??[],rejectedBids:p?.map(this.#Ke(e,s))??[]}}}const{warn:An,error:kn}=st.a.tag("module:prebid"),Fn={markBidWon(e){try{const t=l.a.findBidByAdId(e);if(!t)return An(`No bid found with id #${e} to mark as won`);t.status=c.BID_STATUS.RENDERED,t.ad=mn(t.ad,t.originalCpm),t.adUrl=mn(t.adUrl,t.originalCpm),l.a.addWinningBid(t),o.emit(c.EVENTS.BID_WON,t)}catch(e){kn("Error setting prebid winning bid",e)}},findPrebidRenderer(e){const t=l.a.findBidByAdId(e);if(!t)return;const r=t.renderer;return r?()=>{r.render(t)}:void 0}};kt.c.add(un.a,(e=>new En(e))),kt.g.provide(Fn);var Dn=r(93);const Bn=e=>!!e.prebid,{table:Mn,debug:On,info:Vn,warn:Pn,error:Un}=st.a.tag("Prebid");class qn{#i;#Qe={};#et=0;#tt=[];#rt=(0,pr.a)((()=>{this.#nt()}),.5);#it=[];constructor(e){this.#i=e,this.#i.bus.on(nr.a.refresh,this.#at),this.#i.bus.on(nr.a.impression,this.#Q);for(const{name:t,value:r}of kt.c.list())try{this.#tt.push(r(e))}catch(e){Un(`Error instantiating content-provider '${t}'`,e)}}#st=e=>{if(!rr.f)return;const t=e.flatMap((e=>{const t=[];for(const r of e.bids){const n=Object.entries(r.params).map((([e,t])=>`${e}=${t}`)).join(", "),i=(0,lr.b)(e.mediaTypes,r),a=i.banner&&`banner=${JSON.stringify(i.banner.sizes)}`,s=i.native&&`native=${JSON.stringify(i.native)}`,o=i.skin&&`skin=${JSON.stringify(i.skin)}`,d=[a,s,i.outstream&&`outstream=${JSON.stringify(i.outstream.playerSize)}`,o,i.instream&&`instream=${JSON.stringify(i.instream.playerSize)}`,i.nativeBanner&&`nativeBanner=${JSON.stringify(i.nativeBanner)}`].filter((e=>e)).join(" / ");t.push({placement:e.code,mediaType:d,bidder:r.bidder,params:n})}return t}));Mn(t)};#ot=e=>{rr.f&&Mn(e.map((({placementId:e,creativeId:t,width:r,height:n,bidder:i,cpm:a,currency:s,fetchDuration:o,mediaType:d})=>({placement:e,bidder:i,size:`${r}x${n}`,mediaType:d,cpm:a,currency:s,latency:o,creativeId:t}))))};#nt=()=>{if(0===this.#it.length)return;const e=this.#it;this.#it=[];const t=e.map((e=>{const t=e.content.bidResponse;return{placement:t.placementId,bidder:t.bidder,size:`${t.width}x${t.height}`,dealId:t.dealId,mediaType:t.mediaType,cpm:t.cpm,currency:t.currency,creativeId:t.creativeId}}));Vn("Impressions"),Mn(t)};#dt=e=>{if((0,Dt.b)()&&this.#i.globalSettings.sublime?.skipScriptLoadOnNoConsent)return Promise.resolve();if(kt.a.items[It.a.Sublime]){const r=((e,t)=>{for(const r of e){const e=r.bidRequest.bids.find((e=>e.bidder===It.a.Sublime||t[e.bidder]===It.a.Sublime));if(e)return e}})(e.placements,this.#i.globalSettings.bidderAliases);if(r?.params.zoneId)return t=r.params.zoneId,(0,Dn.a)(`//sac.ayads.co/sublime/${t}/prebid`)}var t;return Promise.resolve()};#ct=async e=>{const t=this.#dt(e.config),r={shouldAbortAuction:!1},{preAuctionStep:n}=this.#i.globalSettings;try{Object.assign(r,await(n?.(e)))}catch(e){Un("preAuctionStep error",e)}for(const e of await Promise.allSettled([t]))"rejected"===e.status&&Un("vendor preAuctionStep error",e.reason);return r};#lt=async(e,t)=>{const{postAuctionStep:r}=this.#i.globalSettings;try{await(r?.(e,t))}catch(e){Un("postAuctionStep error",e)}};#Q=e=>{Bn(e.renderable.content.bidResponse)&&kt.g.value?.markBidWon(e.renderable.content.bidResponse.bidId),this.#it.push(e.renderable),this.#rt()};#pt=e=>{const t=wt(this.#i.globalSettings,e);yt.setConfig({userSync:{filterSettings:t}})};#at=async e=>{const t=e.auctionId,r=e.refreshConfig,n=performance.now(),{shouldAbortAuction:i}=await this.#ct({config:r,auctionId:t,bus:this.#i.bus}),a=performance.now(),s=ur(a-n);this.#pt(r.placements);const o=at.a.currentValue;if(!e.shouldContinueAuction||i)return this.#ut(t,r,o);const d=this.#i.globalSettings;r.placements.find((e=>e.bidRequest.bids.find((e=>e.bidder===It.a.ttdDirectPath||d.bidderAliases[e.bidder]===It.a.ttdDirectPath))))&&await cr({consent:d.consent}),((e,t)=>{const r={contentBlocklist:e.ortb?.contentBlocklist,domainBlocklist:e.ortb?.domainBlocklist,assumeRequestSizeForEmptyResponseSize:e.ortb?.assumeRequestSizeForEmptyResponseSize};e.ortb&&(r.context={publisherId:!1===e.ortb?.useLowerCasePublisherId?e.publisherId:e.publisherId.toLowerCase(),publisherName:e.ortb.publisherName,publisherDomain:e.ortb.publisherDomain,siteDomain:e.ortb.siteDomain??e.ortb.publisherDomain,siteId:e.ortb.siteId??t.context.supportCode,supportCode:t.context.supportCode,pageZone:t.context.pageZone,networkCode:t.context.networkCode,iabCategories:e.ortb?.iabCategories}),yt.setConfig({hubvisor:r})})(d,r),On("Bid fetch started");const{placements:c}=r,l=c.map((e=>({...e.bidRequest,code:e.placementId})));if(0===l.reduce(((e,t)=>e+t.bids.length),0))return Vn("No placement found for this page, skipping auction"),this.#ut(t,r,o);Vn(`Fetching bids for ${l.length} placement(s):`),this.#st(l),this.#mt(t,r,o);const p=performance.now(),u=await Promise.all(this.#tt.map((e=>e.provideContent(t,r)))),m=ur(performance.now()-p),b=u.reduce(((e,t)=>(e.bids.push(...t.bids),e.noBids.push(...t.noBids),e.timeouts.push(...t.timeouts),e.rejectedBids.push(...t.rejectedBids),e)),{bids:[],noBids:[],timeouts:[],rejectedBids:[]}),f={preAuctionDuration:s,auctionDuration:m};this.#bt(t,b.bids,b.noBids,b.timeouts,b.rejectedBids,f)};#ut=(e,t,r)=>{this.#mt(e,t,r),this.#bt(e,[],[],[],[],{preAuctionDuration:0,auctionDuration:0})};#ft=()=>{const e=this.#et;return this.#et+=1,e};#mt=(e,t,r)=>{const n=this.#ft();this.#Qe[e]={config:t,consent:r,startOrder:n},Vn("Auction started",e,t),this.#Se({auctionId:e,config:t,consent:r,startOrder:n})};#bt=async(e,t,r,n,i,a)=>{const s=this.#Qe[e];if(!s)return Pn("An auction finished but no associated metadata was found! This auction has probably not been started by the wrapper and will be ignored");const{config:o,consent:d,startOrder:c}=s,{preAuctionDuration:l,auctionDuration:p}=a;Vn(`${t.length} bid responses after ${p/1e3}s`),this.#ot(t);const u=performance.now();await this.#lt(t,o);const m=performance.now(),b=ur(m-u),f=[...n,...t,...r,...i].reduce(((e,t)=>{for(const r of t.userIdPartners)e.add(r);return e}),new Set);this.#ht({auctionId:e,startOrder:c,duration:p,timeouts:n,bids:t,noBids:r,rejectedBids:i,config:o,consent:d,preAuctionDuration:l,postAuctionDuration:b,userIdPartners:[...f]})};#Se=e=>{this.#i.bus.emit(nr.a.auctionStarted,e)};#ht=e=>{this.#i.bus.emit(nr.a.auctionFinished,e)}}var Nn=r(52),$n=r(37),jn=r(78),zn=r(13);const{error:Ln}=st.a.tag("Formats"),Hn=async(e,t,r="about:blank")=>{const n=e.createElement("iframe");n.src=r,n.style.overflow="hidden",n.style.display="inline",(0,$n.l)(n,{width:t.width,height:t.height});const i=(0,zn.a)();if(n.onload=()=>{i.resolve()},e.body.append(n),await i.promise,!n.contentDocument)throw new Tn.b(Tn.a.iframeDocumentNotFound,`iframe contentDocument not found: this should not happen (${t.bidder} on ${t.placementId})`);return n.contentDocument},Xn=async(e,t)=>{const{bid:r,creativeType:n}=t,i=kt.g.value?.findPrebidRenderer(r.bidId);if(i)i();else if(r.adMarkup){const n=t.useInnerFrame?await Hn(e,r):e;n.open(),t.afterDocumentOpen?.(n),n.write(r.adMarkup),n.close()}else if(r.adUrl)try{await Hn(e,r,r.adUrl)}catch{}else Ln("there was an error displaying a bid",r);(0,jn.c)(e,r,{creativeType:n})},{warn:Wn}=st.a.tag("Skin"),{debug:Gn,warn:Yn,error:Kn}=st.a.tag("native"),Jn="data-hbv-clk",Zn="data-hbv-jstracker",Qn="data-hbv-container-id",ei=async e=>{try{const t=e.map((e=>fetch(e).then((e=>{if(!e.ok)throw new Error(`http status: ${e.statusText}`)}))));await Promise.all(t),Gn("click tracking complete")}catch(e){Yn("click tracking failed",e)}},ti=(e,t,r)=>{if(!t.javascriptTrackers)return;const n=(0,Et.c)(t.javascriptTrackers)?t.javascriptTrackers.join(""):t.javascriptTrackers;e.innerHTML=r?n.replace("%native_dom_id%",r):n;for(const t of e.getElementsByTagName("script")){const r=Object.values(t.attributes).reduce(((e,t)=>((0,Et.i)(t.nodeValue)&&(e["data-src"===t.nodeName?"src":t.nodeName]=t.nodeValue),e)),{}),n=document.createElement("script");n.innerHTML=t.innerHTML,t.remove(),e.append(Object.assign(n,r))}};var ri=r(65),ni=r(95),ii=r(41);const{info:ai,error:si}=st.a.tag("outstream-player"),{debug:oi,error:di}=st.a.tag("sf:host:intersection"),ci=e=>e?`{ x: ${e.left}, y: ${e.top}, width: ${e.width}, height: ${e.height} }`:"{  }",li=e=>e.defaultView?.frameElement??null,pi=e=>{if(!e)return null;if((0,$n.e)(e))return li(e);const t=e.parentNode;return t?(0,$n.j)(t)?t.host:(0,$n.f)(t)&&t.assignedSlot?t.assignedSlot.parentNode:t:null},ui=(e,t)=>{const r=e.top+t.top,n=e.left+t.left;return{top:r,left:n,width:t.width,height:t.height,bottom:r+t.height,right:n+t.width}},mi=(e,t)=>{if(!e||!t)return null;const r=Math.max(e.top,t.top),n=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),a=Math.min(e.right,t.right),s=a-i,o=n-r;return s<=0||o<=0?null:{top:r,bottom:n,left:i,right:a,width:s,height:o}},bi=e=>"none"===getComputedStyle(e).display,fi=(e,t)=>(0,$n.e)(e)?((e,t)=>{const r=li(e);if(e!==document&&r){const e=r.getBoundingClientRect(),n=ui(e,t.boundingRect),i=!bi(r),a=t.intersectionRect&&i?mi(e,ui(e,t.intersectionRect)):null,{zIndex:s}=t;return ci(e),ci(n),{nextParent:pi(r),measurement:{boundingRect:n,intersectionRect:a,zIndex:s}}}{const r=(e=>{const t=e.documentElement,r=e.body;return{top:0,left:0,right:t.clientWidth??r.clientWidth,width:t.clientWidth??r.clientWidth,bottom:t.clientHeight??r.clientHeight,height:t.clientHeight??r.clientHeight}})(e),{boundingRect:n,zIndex:i}=t,a=mi(r,t.intersectionRect);return ci(n),ci(r),{nextParent:null,measurement:{boundingRect:n,intersectionRect:a,zIndex:i}}}})(e,t):((e,t)=>{const r=pi(e),{zIndex:n,boundingRect:i}=t;if((e=>{const t=e.ownerDocument,r=e===t?.body,n=e===t?.documentElement,i=!(0,$n.f)(e)||"visible"!==getComputedStyle(e).overflow;return!r&&!n&&i})(e)){const a=(e=>{try{return e.getBoundingClientRect()}catch(t){return e.nodeName,null}})(e),s=mi(a,t.intersectionRect);return ci(a),ci(t.intersectionRect),{nextParent:r,measurement:{boundingRect:i,intersectionRect:s,zIndex:n}}}return{nextParent:r,measurement:{boundingRect:i,intersectionRect:t.intersectionRect,zIndex:n}}})(e,t),hi=e=>{const t=(e=>{try{let t=(e=>({measurement:{boundingRect:e.getBoundingClientRect(),intersectionRect:bi(e)?null:e.getBoundingClientRect(),zIndex:0},nextParent:pi(e)}))(e);for(;t.nextParent;)t.nextParent,t=fi(t.nextParent,t.measurement),ci(t.measurement.intersectionRect),ci(t.measurement.boundingRect);return t.measurement}catch(e){return di("Error measuring visibility:",e),{boundingRect:{top:0,right:0,bottom:0,left:0,width:0,height:0},intersectionRect:null,zIndex:0}}})(e),{top:r,left:n,bottom:i,right:a,width:s,height:o}=t.boundingRect,d=t.intersectionRect?.width??0,c=t.intersectionRect?.height??0,l=s>0?d/s:0,p=o>0?c/o:0,u=l*p;return{t:r,l:n,r:a,b:i,xiv:ur(l),yiv:ur(p),iv:ur(u),z:t.zIndex,w:s,h:o}},gi=()=>{const e=window,t=e.innerHeight??0,r=e.innerWidth??0,n=e.screenY??e.screenTop??0,i=n+t,a=e.screenX??e.screenLeft??0;return{t:n,r:a+r,b:i,l:a,w:r,h:t}},vi=e=>({win:gi(),self:hi(e),exp:{t:0,l:0,r:0,b:0,xs:!1,ys:!1}}),yi=e=>(0,Et.m)(e)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.t)&&(0,Et.l)(e.l)&&(0,Et.l)(e.r)&&(0,Et.l)(e.b)&&(0,Et.l)(e.xiv)&&(0,Et.l)(e.yiv)&&(0,Et.l)(e.iv)&&(0,Et.l)(e.z)&&(0,Et.l)(e.w)&&(0,Et.l)(e.h))(e.self)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.t)&&(0,Et.l)(e.b)&&(0,Et.l)(e.l)&&(0,Et.l)(e.r)&&(0,Et.l)(e.w)&&(0,Et.l)(e.h))(e.win)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.t)&&(0,Et.l)(e.l)&&(0,Et.l)(e.r)&&(0,Et.l)(e.b)&&((0,Et.l)(e.xs)||(0,Et.e)(e.xs))&&((0,Et.l)(e.ys)||(0,Et.e)(e.ys)))(e.exp),Ii={error:e=>(0,Et.m)(e)&&(0,Et.l)(e.code)&&(0,Et.q)(e.message),ready:e=>(0,Et.m)(e)&&(0,Et.q)(e.placementId),render:e=>(0,Et.m)(e)&&(e=>(0,Et.m)(e)&&(0,Et.l)(e.cpm)&&((0,Et.q)(e.adMarkup)||(0,Et.q)(e.adUrl))&&(0,Et.q)(e.bidId)&&(0,Et.l)(e.width)&&(0,Et.l)(e.height)&&(0,jn.b)(e))(e.bid)&&(e=>(0,Et.m)(e)&&(0,Et.q)(e.url)&&(0,Et.q)(e.domain))(e.metadata)&&(0,Et.m)(e.safeFrame)&&(0,Et.e)(e.safeFrame.hasFocus)&&yi(e.safeFrame.geom)};var Ti=r(66);const{debug:_i}=st.a.tag("channel");class wi{#q=new Ti.a;#i;constructor(e){const{source:t,...r}=e;this.#i={...r},this.open(t??window)}close=()=>{this.#i.source&&(this.#q.clear(),this.#i.source.removeEventListener("message",this.#gt),this.#i.source=void 0,_i(`'${this.#i.name}' closed`))};open=e=>{this.close(),this.#i.source=e,this.#i.source.addEventListener("message",this.#gt),_i(`'${this.#i.name}' channel opened with namespace '${this.#i.namespace}'`)};#vt=e=>{const[t,r]=e;if(!(0,Et.q)(t))return!1;const n=this.#i.validators[t];return!!n?.(r)};#yt=e=>{try{return JSON.parse(e)}catch{}};#gt=e=>{try{if(e.source!==this.#i.target)return;if(!(0,Et.q)(e.data))return;const t=this.#yt(e.data);if(!t)return;const{event:r,params:n,ns:i}=t;if(i!==this.#i.namespace)return;if(!this.#vt([r,n]))throw new Error("couldn't validate message data");_i(`'${this.#i.name}' received a message '${r}'`,n),this.#q.dispatch(r,n)}catch(e){_i(`'${this.#i.name}' error handling message`,e)}};once=this.#q.once;on=this.#q.on;off=this.#q.off;#It=(e,t)=>JSON.stringify({ns:this.#i.namespace,event:e,params:t});emit=(e,t)=>{this.#i.target.postMessage(this.#It(e,t),"*"),_i(`'${this.#i.name}' sent message '${String(e)}'`,t)}}const Si=(e,t,r)=>{const n=1e3*t,i={lastCallMoment:0},a={leading:!0,trailing:!0,...r},s=()=>{i.lastCall&&(i.result=e.apply(i.lastCall.context,i.lastCall.args),i.lastCall=void 0)},o=()=>{i.timeout&&(clearTimeout(i.timeout),i.timeout=void 0)};function d(...e){const t=Date.now();i.lastCallMoment||a.leading||(i.lastCallMoment=t);const r=t-i.lastCallMoment,d=n-r;return i.lastCall={context:this,args:e},d<=0||d>n?(o(),i.lastCallMoment=t,s()):!i.timeout&&a.trailing&&(i.timeout=window.setTimeout((()=>{i.lastCallMoment=a.leading?Date.now():0,i.timeout=void 0,s()}),d)),i.result}return d.cancel=()=>{o(),i.lastCallMoment=0,i.lastCall=void 0},d},Ri={register:e=>(0,Et.m)(e)&&(0,Et.l)(e.w)&&(0,Et.l)(e.h),updateGeom:e=>(0,Et.m)(e)&&(0,Et.e)(e.hasFocus)&&yi(e.geom)},{debug:xi}=st.a.tag("safeframe:host");class Ci{#Tt=!1;#_t=new Set;add=e=>{this.#_t.add(e),this.#wt()};remove=e=>{this.#_t.delete(e),this.#St()};#wt=()=>{this.#Tt||(this.#Tt=!0,document.addEventListener("visibilitychange",this.#Rt),addEventListener("scroll",this.#xt))};#St=()=>{this.#_t.size>0||this.#Tt&&(this.#Tt=!1,document.removeEventListener("visibilitychange",this.#Rt),removeEventListener("scroll",this.#xt))};#Ct=Si((()=>{for(const e of this.#_t)e.updateGeom()}),1,{leading:!1,trailing:!0});#Rt=()=>{this.#Ct()};#xt=()=>{this.#Ct()};static shared=new Ci}class Ei{#Et;#At;constructor(e,t){this.#Et=e;const r=e.contentWindow;if(!r)throw new Tn.b(Tn.a.safeframeHostFrameWindowNotAvailable,`couldn't obtain target for safeframe channel for frame #${e.id}`);this.#At=new wi({name:`safeframe:host:${t}`,namespace:"hbv:sf:v1",validators:Ri,target:r}),this.#At.on("register",(()=>{xi("register")})),Ci.shared.add(this)}updateGeom=()=>{const e="visible"===document.visibilityState,t=vi(this.#Et);this.#At.emit("updateGeom",{hasFocus:e,geom:t})};dispose=()=>{Ci.shared.remove(this),this.#At.close()}}const{error:Ai}=st.a.tag("sandbox:host");class ki{#kt;#Et;#Ft;#At;constructor(e){this.#kt=e}#Dt=e=>{this.dispose();try{this.#Et=e;const t=this.#Et.contentWindow;if(!t)throw new Tn.b(Tn.a.sandboxHostFrameWindowNotAvailable,`couldn't obtain target for sandbox channel for placement '${this.#kt.placementId}'`);this.#At=new wi({name:`sandbox:host:${this.#kt.placementId}`,namespace:"hbv:sandbox",validators:Ii,target:t}),this.#At.on("error",this.#Bt),this.#At.on("ready",this.#Mt),this.#Ft=new Ei(e,this.#kt.placementId)}catch(e){throw this.dispose(),e}};#Bt=e=>{(0,_n.a)(new Tn.b(e.code,`sandbox client reported error with code #${e.code}: ${e.message}`)),this.dispose()};#Mt=e=>{this.#kt.placementId!==e.placementId&&Ai(`received 'ready' with wrong placementId; expected '${this.#kt.placementId}' received '${e.placementId}'`),this.#Ot()};#Ot=()=>{if(!this.#At||!this.#Et)return(0,_n.a)(new Tn.b(Tn.a.sandboxHostRenderWithoutChannel,`cannot render sandbox content without target for placement ${this.#kt.placementId}`));const{width:e,height:t,cpm:r,adMarkup:n,adUrl:i,bidId:a,bidder:s,creativeId:o,placementId:d}=this.#kt,c=location.href,l=location.hostname,p="visible"===document.visibilityState,u=vi(this.#Et);this.#Et.classList.add("hbv-ready"),this.#At.emit("render",{bid:{width:e,height:t,cpm:r,adMarkup:n,adUrl:i,bidId:a,bidder:s,creativeId:o,placementId:d},metadata:{url:c,domain:l},safeFrame:{hasFocus:p,geom:u}})};dispose=()=>{this.#Ft?.dispose(),this.#Ft=void 0,this.#At?.close(),this.#At=void 0,this.#Et?.remove(),this.#Et=void 0};static render=(e,{publisherId:t,bidResponse:r})=>{const{width:n,height:i}=r,a=encodeURIComponent(r.placementId),s=new ki(r),o=e.createElement("iframe");return(0,$n.l)(o,{width:n,height:i}),o.classList.add("hbv-sandbox"),o.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-scripts allow-top-navigation-by-user-activation allow-same-origin"),o.src=`https://s.hubvisor.io/wrapper/${t}/sandbox.html?pid=${a}`,e.body.append(o),s.#Dt(o),s}}const{error:Fi}=st.a.tag("formats:util:iframe"),{warn:Di,error:Bi}=st.a.tag("observer"),{error:Mi}=st.a.tag("Parallax"),{debug:Oi}=st.a.tag("rich-media"),Vi=[It.a.Sublime,It.a.ogury,It.a.hbvRichmedia,It.a.Teads,It.a.Adyoulike,It.a.richaudience,It.a.Invibes,It.a.visx,It.a.Freewheel,It.a.seedtag,It.a.relaido,It.a.impactify,It.a.bliink,It.a.beop],Pi=(e,t)=>{const r=t.bidderAliases;if(Vi.some((t=>r[e.bidder]===t||t===e.bidder)))return!0;const n=r[e.bidder]===It.a.TripleLift||e.bidder===It.a.TripleLift;return!(!n||e.displayFormat!==wn.a.nativeBanner)||!(!n||e.displayFormat!==wn.a.outstream)},Ui=(e,t)=>({...e,...t,customPosition:{...e?.customPosition,...t?.customPosition},parallax:{enabled:!1,...e?.parallax,...t?.parallax}}),qi=(e,t,r)=>{try{return e.overrideRichMediaSettings?.(t,r)}catch(e){const t=new Tn.b(Tn.a.overrideRichMediaOptionsFailed,e);(0,_n.a)(t,"overrideRichMediaSettings error")}},Ni=async(e,t)=>{const{resolvedBid:r,placement:n,options:i}=t,{bidResponse:a}=r,{customPosition:s,shouldHideFrame:o=!1,shouldSetupDAP:d=!0,useSandbox:c=!1,parallax:l,customRendering:p}=(({placement:e,options:t,resolvedBid:r})=>{const n=[It.a.Sublime,It.a.hbvRichmedia,It.a.Invibes].some((e=>t.globalSettings.bidderAliases[r.bidResponse.bidder]===e||e===r.bidResponse.bidder)),i=1===r.bidResponse.width&&1===r.bidResponse.height&&(t.globalSettings.bidderAliases[r.bidResponse.bidder]===It.a.Teads||It.a.Teads===r.bidResponse.bidder),a="video"===r.bidResponse.mediaType||i||n||!(0,Et.r)(e.rendering?.richMedia?.customRendering);return[e.rendering?.richMedia,qi(t.globalSettings,e,r.bidResponse)].reduce(Ui,{shouldHideFrame:a})})(t),u=!(0,Et.r)(p)&&"banner"===a.mediaType,m=(({bidResponse:e,parallax:t,globalSettings:r})=>!!t?.enabled&&!Pi(e,r)&&"video"!==e.mediaType)({bidResponse:a,parallax:l,globalSettings:i.globalSettings}),b=(i.globalSettings.bidderAliases[a.bidder]===It.a.Teads||a.bidder===It.a.Teads)&&1===a.width&&1===a.height&&"banner"===a.mediaType;let f=await(async({initialDocument:e,customPosition:t,parallax:r,renderParams:n})=>{const i=((e,t)=>{const r=t?.selector;if(!r)return e;const n=(e=>{const t=document.querySelector(e);if(!t){const t=new Tn.b(Tn.a.customInsertionPointNotFound,`Couldn't find insertion point w/ selector ${e}`);return(0,_n.a)(t),null}const r=document.createElement("iframe");return t.insertBefore(r,t.firstChild),r})(r);if(!n)return e;const i=e?.defaultView?.frameElement;return(0,$n.h)(i)&&(0,$n.d)(i),n.contentWindow?.document??e})(e,t);return r?.enabled?(async(e,t)=>{const{resolvedBid:{bidResponse:r},placement:n}=t,i=n.rendering?.richMedia?.parallax??{enabled:!0};let a;try{a=(({targetHeight:e,targetRatio:t,width:r})=>{if(r<=0)return 0;if((0,Et.i)(e)&&e<=0)throw new Tn.b(Tn.a.onParallaxInvalidParameters,`Invalid targetHeight of ${e} on parallax`);if((0,Et.i)(t)&&t<=0)throw new Tn.b(Tn.a.onParallaxInvalidParameters,`Invalid targetRatio of ${t} on parallax`);return e||(t?r/t:310)})({targetHeight:i.targetHeight,targetRatio:i.targetRatio,width:r.width})}catch(e){(0,_n.a)(e,"Fallback to targetHeight = 0"),a=0}if(r.height<=a)return e;const s=e.defaultView?.frameElement;if(!(0,$n.h)(s))return Mi("No outer frame provided for parallax rendering, aborting",e),e;const o=i.topInset??0,d=i.bottomInset??0,c=()=>{(0,$n.l)(s,{width:r.width,height:a}),(0,$n.m)(s,{width:`${r.width}px`,height:`${a}px`}),e.body.style.height=`${a}px`,e.body.style.overflowY="hidden"};c();const l=(0,pr.a)(c,.01);new MutationObserver((e=>{for(const t of e)if("attributes"===t.type){const e=t.target;if(!(0,$n.f)(e))continue;const{width:n,height:i}=e.getBoundingClientRect();n===r.width&&i===a||l()}})).observe(s,{attributes:!0});const p=e.createElement("div");p.style.width="100%",p.style.height="100%",p.style.overflowY="hidden";const u=e.createElement("iframe");(0,$n.l)(u,{id:`parallax-inner-${r.placementId}`,width:r.width,height:r.height}),p.append(u),e.body.append(p);const m=()=>{const e=s.getBoundingClientRect(),t=o,n=innerHeight-e.height-d,i=1/(n-t),a=-t*i,c=(1-(Math.max(Math.min(n,e.top),t)*i+a))*(r.height-e.height);p.scrollTop=c},b=await(0,$n.n)(u);if(!b)return Mi("Somehow parallaxDoc is still not usable... Falling back to non-parallax rendering"),e;const{observedElementSelector:f}=i;return((e,{triggerInitially:t=!1,observedElementSelector:r}={})=>{const n=(e=>{let t;return{listener(r){t||(t=window.requestAnimationFrame((()=>{t=void 0,e(r)})))},cancel(){t??=window.cancelAnimationFrame(t)}}})(e);((e,t,r)=>{for(const t of["scroll","resize"])e.addEventListener(t,r)})((e=>{if(e)try{const t=document.querySelector(e);if(t)return t;Di(`Couldn't find element w/ selector "${e}", using window instead`)}catch(t){Bi(`Failed to find element w/ selector "${e}"`,t)}return window})(r),0,n.listener),t&&n.listener()})(m,{observedElementSelector:f}),m(),b})(i,{...n,...r}):i})({initialDocument:e,customPosition:s,parallax:m?l:void 0,renderParams:t});if(Oi(`rendering '${n.placementId}' { safeframe : ${c}, parallax: ${m}, hidden: ${o}, DAP: ${d} }`),o){const e=f.defaultView?.frameElement;(0,$n.h)(e)&&((0,$n.d)(e),b&&((e,t)=>{document.getElementById(t.placementId)||((e,t)=>{const r=document.createElement("div");r.id=t.placementId;const n=(0,jn.a)(document,t,{creativeType:"nativeBanner"});r.append(n),e?.parentElement&&e.parentElement.append(r)})(e,t)})(e,a))}else((e,t,r)=>{const{width:n,height:i}=r,a=e.defaultView?.frameElement;(0,$n.h)(a)?(0,$n.l)(a,{width:n,height:i}):Fi("couldn't prepare frame")})(f,0,a);const h=!Pi(a,i.globalSettings)&&"banner"===a.mediaType;if(u&&(f=((e,t,r)=>{const{placementId:n,width:i,height:a}=r,s=document.createElement("iframe");if((0,$n.l)(s,{width:i,height:a,id:`hbv-rich-media-render-${n}`}),e(s,r),!(0,$n.k)(s.contentDocument)){const e=new Tn.b(Tn.a.customRichMediaNullDocument,"Couldn't render custom richMedia format: iframe document isn't usable");return(0,_n.a)(e),t}return s.contentDocument})(p,f,a)),!c||!h)return Xn(f,{bid:a,creativeType:"rich-media",useInnerFrame:!0,afterDocumentOpen:e=>{d&&(e=>{e.defaultView&&(e.defaultView.inDapIF=!0)})(e)}});{const{publisherId:e}=i.globalSettings;ki.render(f,{publisherId:e,bidResponse:a})}},$i=(e,t,r,n)=>(e.addEventListener(t,r,n),(0,ht.a)((()=>e.removeEventListener(t,r,n)))),ji=(e,t,r,n)=>{const i=$i(e,t,(e=>{i(),r(e)}),n);return i},zi=e=>{const t=(0,ht.a)((()=>{e.duration&&e.element.style.removeProperty("transition"),e.done?.()}));if(e.duration){const r=Object.keys(e.properties).map((t=>`${t} ${e.duration}s ease`)).join(",");e.element.style.setProperty("transition",r),ji(e.element,"transitionend",t),ji(e.element,"transitioncancel",t)}for(const[t,r]of Object.entries(e.properties))e.element.style.setProperty(t,r);e.duration||t()},{error:Li}=st.a.tag("Amazon"),Hi={"rich-media":Ni,native:(e,{options:t,resolvedBid:r})=>{{const{globalSettings:n}=t,{bidResponse:i}=r;return(async({doc:e,globalSettings:t,bidResponse:r})=>{{const{nativeRendering:n}=t;if(!n||!(0,Et.g)(n)){const e={placementId:r.placementId,bidder:r.bidder,mediaType:r.mediaType,creativeId:r.creativeId},n=new Tn.b(Tn.a.noNativeRenderer,`Couldn't render native format without providing nativeRendering callback: ${JSON.stringify(e)}`);return(0,_n.a)(n,t,r)}try{await n(e,{bidResponse:r}),(()=>{for(const e of document.querySelectorAll(`[${Jn}]`))try{const t=e.getAttribute(Jn);if(!t||"undefined"===t)continue;const r=(0,Mt.a)(JSON.parse(t));e.addEventListener("click",(()=>{ei(r)}),!1),e.removeAttribute(Jn)}catch(t){Kn("Couldn't setup click tracking attribute from item",e,t)}})(),(e=>{for(const t of document.querySelectorAll(`[${Zn}]`)){const r=t.getAttribute(Zn),n=t.getAttribute(Qn)??`hbv-native-${e.placementId}`;if(r&&(0,wn.b)(e.native)){try{const r=e.native.prebid;ti(t,r,n)}catch(e){Kn("Couldn't insert JsTrackers",e)}t.removeAttribute(Zn),t.removeAttribute(Qn)}}})(r)}catch(e){(0,_n.a)(e,`error rendering format native for content with creativeid #${r.creativeId} from ${r.bidder} on placement ${r.placementId}: ${JSON.stringify(r.native)}`)}}})({doc:e,globalSettings:n,bidResponse:i})}},skin:async(e,t)=>{const{options:{globalSettings:r},resolvedBid:{bidResponse:n}}=t,{skinRendering:i}=r;if(!i){const e=new Tn.b(Tn.a.noSkinRenderer,"can't render skin format without providing skinRendering callback");return(0,_n.a)(e,r,n)}const a=e.defaultView?.frameElement;(0,$n.h)(a)?(0,$n.d)(a):Wn(`No initial frame found for content with id '${n.bidId}'`);const{width:s,height:o}=n,d=document.createElement("iframe");(0,$n.l)(d,{width:s,height:o,id:"hbv-custom-render"}),(0,$n.m)(d,{position:"absolute",top:"0",left:"50%",transform:"translate(-50%, 0)"});try{await i(d,{bidResponse:n})}catch(e){return(0,_n.a)(e,`error rendering format skin for content with id #${n.bidId}`)}(0,$n.o)(d,(()=>{if(!(0,$n.k)(d.contentDocument)){const e=new Tn.b(Tn.a.skinFrameNullDocument,"Couldn't render skin format: skin iframe document isn't usable");return(0,_n.a)(e)}Xn(d.contentDocument,{bid:n,creativeType:"skin",useInnerFrame:!0})}))},intrastitial:(e,t)=>{{const r=e.defaultView?.top;if(!r)throw new Error("top window couldn't be retrieved");const n=r.document;n.getElementById("hbv-container")?.remove();const i=n.createElement("div");i.id="hbv-container";const a=(0,$n.b)(document,"hbv-intrastitial","\n  html {\n    overflow: hidden;\n  }\n  #hbv-container {\n    background: rgba(0, 0, 0, 0.6);\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 90000000;\n    opacity: 0;\n  }\n  "),s=t.resolvedBid.bidResponse,o=`hbv-${t.placement.placementId}`,d=n.createElement("iframe");(0,$n.l)(d,{width:s.width,height:s.height,id:o}),Object.assign(d.style,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"});const c=n.createElement("div");c.id="hbv-interstitial-div",i.append(c);const l=document.createElement("button");l.id="hbv-intrastitial-close",l.innerText="",Object.assign(l.style,{color:"#FFF",position:"absolute",top:"6px",right:"6px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"9999px",width:"26px",height:"26px",display:"flex",justifyContent:"center",alignItems:"center"});const p=(0,ht.a)((()=>{zi({element:i,properties:{opacity:"0"},duration:.3,done:()=>{i.remove(),a.remove()}})}));l.addEventListener("click",p,{capture:!0,once:!0,passive:!0}),n.body.append(i),Object.assign(c.style,{width:`${s.width}px`,height:`${s.height}px`,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"100vw"}),c.append(d,l),t.disposables.push((()=>{i.remove(),a.remove()})),(0,$n.o)(d,(()=>{const e=d.contentDocument;if(!(0,$n.k)(e))throw new Error("couldn't render interstitial format: iframe document is not usable");Ni(e,t),zi({element:i,properties:{opacity:"1"},duration:.3})}))}},"outstream-player":(e,t)=>{const{resolvedBid:{bidResponse:r},placement:n}=t,i=e.defaultView?.frameElement;(0,$n.h)(i)&&(0,$n.d)(i),(0,jn.c)(e,r,{creativeType:"outstream-player"});const a=document.querySelector(n.rendering?.outstream?.selector??`#${n.placementId}`)??e.body;(0,Dn.a)("https://cdn.hubvisor.io/wrapper/common/player.js").then((()=>{(0,ri.a)(a,{vastUrl:r.vastUrl,vastXml:r.vastXml,targetWidth:r.width,targetHeight:r.height,renderContext:{document:e,bidResponse:r,context:void 0},...n.rendering?.outstream,onEvent:(e,t)=>{const n=(0,ni.a)(e,t);switch(n.kind){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":return ii.a.emit("outstream-imp",{adId:r.bidId,kind:"impression"===n.kind?"video-imp":n.kind}),ai(`Outstream ${n.kind} pixel triggered for ${r.placementId}`);case"error":return si("Error playing outstream",JSON.stringify({error:n.value,bidResponse:r}))}}})})).catch((e=>{(0,_n.a)(new Tn.b(Tn.a.outstreamPlayerLoadingFailed,`failed to load player: ${e.message} - bid ${r.bidder} ${r.vastUrl} ${r.vastXml}  - ${JSON.stringify(e)}`),e)}))},amazon:async(e,t)=>{if(!window.apstag)return Li("apstag is not available");const r=t.resolvedBid.bidResponse,n=r.targetings.amzniid;if(!(0,Et.q)(n))return Li("No amzniid available to render bid : ",n);(0,jn.c)(e,r,{creativeType:r.displayFormat??r.mediaType}),t.options.bus.emit(nr.a.AmazonRenderRequest,[e,n])}},Xi={},Wi={set(e,t){t?Xi[e]=t:delete Xi[e]},read:e=>Xi[e]},Gi=(e,t)=>{const r={};for(const n of e){const e=t(n);(0,Et.r)(e)||(r[e]||(r[e]=[]),r[e]?.push(n))}return r},Yi={init:void 0,config:void 0,hubvisorUntilInitDuration:void 0},Ki={},Ji={},Zi={hubvisorUntilInitDuration(e){Yi.hubvisorUntilInitDuration=ur(e)},init(e){Yi.init=ur(e)},config(e){Yi.config=ur(e)},preRender(e,t){Ki[e]=ur(t)},postRender(e,t){Ji[e]=ur(t)}},Qi=e=>Ji[e];class ea{#Vt=[];#Pt=!1;get disposed(){return this.#Pt}constructor(e=[]){this.#Vt.push(...e)}push=(e,...t)=>{this.#Pt?this.#Ut([e,...t]):this.#Vt.push(e,...t)};dispose=()=>{this.#Pt||(this.#Pt=!0,this.#Ut(this.#Vt),this.#Vt.length=0)};#Ut=e=>{for(let t=e.length-1;t>=0;--t)try{e[t]()}catch{}}}var ta=r(98),ra=r(55),na=r(59);const{debug:ia,info:aa,warn:sa,error:oa}=st.a.tag("Renderer");class da{#qt={};#Nt=new Set;#i;constructor(e){this.#i=e,kt.h.start({settings:e.globalSettings,bus:e.bus}),this.#i.bus.on(nr.a.renderRequested,this.#$t),this.#i.bus.on(nr.a.backupRenderRequested,this.#jt),this.#i.bus.on(nr.a.amazonImp,this.#zt)}#Lt=e=>!!this.#Nt.has(e)||(this.#Nt.add(e),!1);#Ht=(e,t)=>{ia(`Sending '${nr.a.impression}' event for renderable`,t);const r={renderable:t,timestamp:Date.now(),doc:e};this.#i.bus.emit(nr.a.impression,r)};#Xt=(e,t)=>{const r={renderable:t,timestamp:Date.now(),doc:e};this.#i.bus.emit(nr.a.renderedImp,r)};#Wt=e=>{const t=this.#qt[e];if(!t)throw new Error(`couldn't resolve renderable for id #${e}`);return t};#zt=({doc:e,amzniid:t})=>{const r=Object.values(this.#qt).find((e=>e.content.bidResponse.creativeId===t&&(0,ta.isAmazonBidResponse)(e.content.bidResponse)));if(!r)throw new Error(`couldn't resolve renderable for id #${t}`);this.#Ht(e,r),this.#Xt(e,r)};#Gt=(e,t)=>{const r=this.#i.globalSettings.bidderAliases;if(r[t.bidder]===It.a.amazon||t.bidder===It.a.amazon)return"amazon";const n=r[t.bidder]===It.a.Sublime||t.bidder===It.a.Sublime;if((1800===t.width||1600===t.width)&&1e3===t.height&&!n)return"skin";if("native"===t.mediaType)return"native";const i=e?.rendering?.format;return i||"rich-media"};#Yt=(e,t,r)=>{if(this.#i.globalSettings.overrideRenderFormat)try{return this.#i.globalSettings.overrideRenderFormat(e,t,r)}catch(e){const t=new Tn.b(Tn.a.overrideRenderFormatFailed,e);(0,_n.a)(t,"overrideRenderFormat error")}};#Kt=(e,t)=>{const r=this.#Gt(e,t);return this.#Yt(e,t,r)??r};#Jt=async({doc:e,id:t,context:r,disposables:n})=>{const i=this.#Wt(t),a=this.#Lt(t);a||this.#Ht(e,i),Wi.set(i.placement.placementId,{document:e,bidResponse:i.content.bidResponse,context:r});const s=this.#Kt(i.placement,i.content.bidResponse),o=Hi[s];if(a)sa(`Rendering already rendered renderable #${t} using format: '${s}' for placement '${i.placement.placementId}' !\n      This double-render is probably an issue with a double-refresh request sent to the adserver`),(0,_n.a)(new Tn.b(Tn.a.doubleRenderError,`Double render for ${i.placement.placementId} and format ${s}`));else{const{creativeId:e,bidder:t}=i.content.bidResponse;aa(`Rendering renderable with id #${e} from ${t} using format: '${s}' for placement '${i.placement.placementId}'`)}const{shouldAbortRender:d}=await this.#Zt(e,i);if(d)return aa(`Abort rendering of placement ${i.placement.placementId}`);await o(e,{options:this.#i,placement:i.placement,resolvedBid:i.content,disposables:n}),await this.#Qt(e,i),a||this.#Xt(e,i)};#Zt=async(e,t)=>{const{preRenderStep:r}=this.#i.globalSettings,n=performance.now();try{const i=await(r?.(e,t));return Zi.preRender(t.content.bidResponse.bidId,performance.now()-n),Object.assign({shouldAbortAuction:!1},(e=>(0,Et.m)(e)&&(0,Et.e)(e.shouldAbortRender))(i)?i:void 0)}catch(e){oa("preRenderStep error",e,t)}return{shouldAbortRender:!1}};#Qt=async(e,t)=>{const{postRenderStep:r}=this.#i.globalSettings,n=performance.now();try{await(r?.(e,t))}catch(e){oa("postRenderStep error",e,t)}Zi.postRender(t.content.bidResponse.bidId,performance.now()-n)};adServerCallback=(e,t,r,n)=>{const i=r||t;ia(`Called back for rendering of ${r?"guaranteed":""} content with id #${i}`);const a=new ea;this.#Jt({doc:e,id:i,context:n,disposables:a}).catch((t=>{!(0,Et.i)(e)&&$n.g||(0,_n.a)(new Tn.b(Tn.a.renderingFailed,t),`failed to render content w/ #${i}`),a.dispose()}))};#er=e=>{const t=Object.entries(kt.h.registrations).reduce(((t,[r,n])=>(n?.canRender(e)&&t.push(r),t)),[]);if(t.length<=0)sa("No renderer was found for renderable it will be discarded",e);else if(t.length>1){if(this.#i.globalSettings.consent.shouldSkipAdserverOnConsentless&&t.includes(Nn.a.hsc))return(0,Dt.b)()&&!ra.a?Nn.a.hsc:t.filter((e=>e!==Nn.a.hsc))[0];sa("More than one renderer was found for renderable, make sure the configuration is appropriate",e,t)}return t[0]};#tr=async(e,t)=>{const{preAdserverCallStep:r}=this.#i.globalSettings;try{const n=await(r?.(e,t));return Object.assign({shouldAbortCall:!1},(e=>(0,Et.m)(e)&&(0,Et.e)(e.shouldAbortCall))(n)?n:void 0)}catch(r){oa("preAdserverCall error",r,e,t)}return{shouldAbortCall:!1}};#rr=async(e,t)=>{const r=kt.h.registrations[e],{shouldAbortCall:n,renderables:i}=await this.#tr(e,t);if(n)return aa(`Abort adcalls for ${e}`,t);const a=i??t;r.render(a)};render=e=>{for(const t of e)for(const e of t.content)this.#qt[e.bidResponse.bidId]={placement:t.placement,content:e};const t=Gi(e,this.#er);for(const e of Object.keys(kt.h.registrations)){const r=t[e]??[];this.#rr(e,r).catch((t=>{oa(`Rendering error with '${e}'`,r,t)}))}};#$t=e=>{const t=e.renderRequests.map((e=>e.renderable));this.render(t)};#jt=e=>{const t=e.renderable.content[0];t&&(this.#qt[t.bidResponse.bidId]={placement:e.renderable.placement,content:t},setTimeout((()=>{const r=e.renderContext.document.defaultView?.frameElement;(0,$n.h)(r)&&"none"===r.style.display&&(r.style.display=""),(0,na.a)("adServerRender",{document:e.renderContext.document,adId:t.bidResponse.bidId})}),0))}}const ca=new Promise((e=>{fetch("https://securepubads.g.doubleclick.net/pagead/ppub_config").then((({ok:t})=>e(!t))).catch((()=>e(!0)))}));let la=!1;ca.then((e=>{la=e}));const pa=(e,t,r)=>{const n=_t.remoteConfiguration.currentValue?.publisherConfiguration?.cpmAdjustments?.filter((n=>n.adjustmentKind===r&&((0,Et.j)(n.pageZones)||(0,Mt.a)(n.pageZones).includes(t.pageZone))&&((0,Et.j)(n.layouts)||(0,Mt.a)(n.layouts).includes(t.layout))&&((0,Et.j)(n.devices)||(0,Mt.a)(n.devices).includes(Tt.d))&&((0,Et.j)(n.supportCodes)||(0,Mt.a)(n.supportCodes).includes(t.supportCode))&&((0,Et.j)(n.isConsentless)||n.isConsentless===(0,Dt.b)())&&((0,Et.j)(n.placementIds)||(0,Mt.a)(n.placementIds).includes(e.placementId))&&((0,Et.j)(n.bidders)||(0,Mt.a)(n.bidders).includes(e.bidder))&&((0,Et.j)(n.displayFormats)||(0,Mt.a)(n.displayFormats).includes(e.displayFormat))&&(0,Et.l)(n.adjustment)));return n?.[0]?.adjustment},{debug:ua,error:ma,warn:ba,info:fa}=st.a.tag("Bidder");class ha{#i;#nr=(0,St.c)("bidder-priority");#ir={};#ar=0;constructor(e){this.#i=e,this.#i.bus.on(nr.a.auctionFinished,this.#sr),this.#i.bus.on(nr.a.auctionStarted,this.#or)}#dr=e=>{const{placements:t}=e.config,r=t.reduce(((e,t)=>(e[t.placementId]={placement:t,bids:[],noBids:[],timeouts:[],rejectedBids:[]},e)),{});return this.#cr(r,e),Object.values(r)};#lr=(e,t)=>{const{filterAuctionStep:r}=this.#i.globalSettings;try{return r?.(e,t)??!0}catch(r){ma("filterAuctionStep error: bid won't be filtered",r,e,t)}return!0};#pr=(e,t,r)=>{const n=_t.remoteConfiguration.currentValue?.publisherConfiguration?.blacklistedCreatives;return!!n?.find((e=>e.creativeId===t.bidResponse.creativeId&&e.device===("tablet"===Tt.d||"phone"===Tt.d?"mobile":Tt.d)&&e.support===r.context.supportCode))||!this.#lr(e,t)};#ur=(e,t)=>{const{cpmMultiplier:r}=this.#i.globalSettings;try{const n=r?.(e,t);if((0,Et.i)(n))return n}catch(e){ma("error retrieving cpm adjustment: it won't be applied",e)}return pa(e,t.context,"cpm")??1};#mr=(e,t)=>{const{adserverMultiplier:r}=this.#i.globalSettings;try{const n=r?.(e,t);if((0,Et.i)(n))return n}catch(e){ma("error retrieving adserver adjustment: it won't be applied",e)}return pa(e,t.context,"adserver")??1};#br=(e,t)=>{const{cpm:r}=e,n=this.#ur(e,t),i=this.#mr(e,t),a=r*n;if((0,Et.q)(this.#nr)&&this.#nr===e.bidder){const t=30;return ua("Adjusted cpm for",{placement:e.placementId,bidder:e.bidder},`: ${r.toFixed(2)} =>`,{estimatedNetCpm:r.toFixed(2),adjustedCpm:t.toFixed(2),high_prio:!0}),{netCpm:a,adjustedCpm:t}}if(ra.a)return{netCpm:r,adjustedCpm:r};const s=a*i;return ua("Adjusted cpm for",{placement:e.placementId,bidder:e.bidder},`: ${r.toFixed(2)} =>`,{estimatedNetCpm:a.toFixed(2),adjustedCpm:s.toFixed(2)}),{netCpm:a,adjustedCpm:s}};#fr=(e,t,r)=>{const n={cpmAdjustment:this.#br(t,r),bidResponse:t};if(!this.#pr(e,n,r))return n};#cr=(e,t)=>{for(const r of t.bids){const n=e[r.placementId];if(n){const e=this.#fr(n.placement,r,t.config);e?n.bids.push(e):n.rejectedBids.push(r)}else ba(`couldn't resolve content for placement id ${r.placementId}, skipped BidResponse`,r)}const r=new Set;for(const n of t.noBids){const t=e[n.placementId];t?(t.noBids.push(n),r.add(n.bidId)):ba(`couldn't resolve content for placement id ${n.placementId}, skipped NoBid`,n)}for(const n of t.rejectedBids){const t=e[n.placementId];t?(t.rejectedBids.push(n),r.add(n.bidId)):ba(`couldn't resolve content for placement id ${n.placementId}, skipped RejectedBid`,n)}for(const n of t.timeouts){const t=e[n.placementId];t?r.has(n.bidId)||t.timeouts.push(n):ba(`couldn't resolve content for placement id ${n.placementId}, skipped Timeout`,n)}};#hr=async e=>{const t=[];return window.ethereum&&t.push("ethereum-wallet=true"),e.refreshReason===Bt.b.secondChance&&t.push("second-chance=true"),ra.a&&t.push("uplift=true"),await ca&&t.push("adblock=true"),t};#gr=async e=>{try{return(await Promise.all([this.#hr(e.config),this.#i.globalSettings.auctionTags?.({auctionId:e.auctionId,consent:e.consent,config:e.config})])).filter(Et.i).flat()}catch(e){return ma("failed to retrieve base or custom tags",e),[]}};#vr=async e=>{const t=this.#ir[e.auctionId];if(!t)return[];delete this.#ir[e.auctionId];const r=[],n=await Promise.race([t,(0,zn.b)(this.#ar).then((()=>r))]);return n===r&&ba("tags resolution took too long: tags won't be sent for this auction"),n};#or=e=>{this.#ir[e.auctionId]=this.#gr(e)};#sr=async e=>{ua("Resolving auction");try{const t=await this.#vr(e),r={resolvedPlacements:this.#dr(e),timestamp:new Date,auction:e,tags:t};fa("resolved auction",r.resolvedPlacements,r.tags),this.#yr(r)}catch(e){ma("error during content resolution",e)}};#yr=e=>{this.#i.bus.emit(nr.a.auctionResolved,e)};start=e=>{fa("starting auction w/ context",e.refreshConfig.context),this.#i.bus.emit(nr.a.refresh,e)}}const{debug:ga,warn:va,error:ya,info:Ia}=st.a.tag("RenderList");class Ta{#i;#Ir=0;#Tr;#_r={};#wr=new Set;#Sr;#Rr=new Set;constructor(e){this.#i=e,this.#Sr=(0,pr.a)((()=>{this.#xr()}),e.globalSettings.renderList.competitionDebounceDelay),this.#i.bus.on(nr.a.auctionStarted,this.#or),this.#i.bus.on(nr.a.auctionResolved,this.#Cr),this.#i.bus.on(nr.a.renderableRequested,this.#Er),this.#i.bus.on(nr.a.impression,this.#Q),ii.a.on("outstream-error",this.#Ar)}#kr=(e,t)=>{ga(`New checkpoint #${e}`,t),this.#Tr={startIndex:e,config:t},this.#Fr()};#or=e=>{this.#Ir=e.startOrder,e.config.refreshReason===Bt.b.pageView&&this.#kr(e.startOrder,e.config)};#Cr=e=>{this.#Dr(e)};#Er=e=>{for(const t of e.placements)this.#wr.add(t);this.#Sr()};#Q=e=>{const t=this.#_r[e.renderable.placement.placementId],r=t?.candidates.find((t=>t.content.bidResponse.bidId===e.renderable.content.bidResponse.bidId));r&&(r.status=2)};#Ar=({renderContext:e})=>{if(ra.a)return;const t=e.bidResponse.placementId,r=this.#_r[t];if(!r)return;this.#Br(r);const n=r.candidates.filter((e=>2!==e.status&&e.content.bidResponse.providerId===un.a)).sort(this.#Mr),i=n[n.length-1],a=n[n.length-2];if(this.#Or(i,a),i){i.status=1,i.content.bidResponse.tags||(i.content.bidResponse.tags=[]),i.content.bidResponse.tags.push("outstream-backup=true");const t={renderable:{placement:r.placement,content:[i.content],config:r.metadata.config,auctionId:r.metadata.auctionId,tags:r.metadata.tags},config:r.metadata.config,auctionId:r.metadata.auctionId,generation:r.metadata.generation,timestamp:Date.now(),competition:{candidates:this.#Vr(r)},renderContext:e};Ia(`Using bid as backup impression as outstream failed on placement ${r.placement.placementId} :`,i.content,t),this.#i.bus.emit(nr.a.backupRenderRequested,t)}};#Pr=e=>this.#Tr?!(e.auction.startOrder<this.#Tr.startIndex&&(ga("The auction started before last checkpoint was resolved after, it will be ignored",this.#Tr,e),1)):(va("An auction was resolved before any checkpoint is available, that should not happen and it will be ignored",e),!1);#Dr=e=>{if(!this.#Pr(e))return;const t=this.#Ir-e.auction.startOrder;for(const r of e.resolvedPlacements)this.#Ur(r,t,e.auction,e.tags);this.#Rr.add(e.auction.auctionId),this.#Sr()};#Ur=(e,t,r,n)=>{const{placement:i,bids:a}=e,{auctionId:s,config:o}=r,d={config:o,generation:t,auctionId:s,tags:n},c=this.#qr(i,d);for(const e of a)c.candidates.push({config:o,auctionId:e.bidResponse.auctionId,generationTimestamp:Date.now(),generation:t,status:0,content:e});this.#wr.add(i.placementId)};#qr=(e,t)=>{const r=this.#_r[e.placementId];if(r)return r.metadata=t,r.placement=e,r;const n={placement:e,candidates:[],metadata:t};return this.#_r[e.placementId]=n,n};#xr=()=>{const e=this.#wr;this.#wr=new Set,ga("Competition started for placements",e);const t=[];for(const r of e)this.#Nr(t,r);const r=new Set(this.#Rr);this.#Rr.clear(),this.#$r({renderRequests:t,auctionIds:r})};#Nr=(e,t)=>{const r=this.#_r[t];if(!r)return void va(`A competition was scheduled for placementId ${t} but content couldn't be found: placement will be ignored`);const n=r.candidates.filter((e=>e.content.bidResponse.deal?.isGuaranteed));this.#Br(r);const i=this.#jr(r),a=this.#Vr(r),s=[...i.map((e=>e.content)),...n.map((e=>e.content))];e.push({renderable:{placement:r.placement,content:s,config:r.metadata.config,auctionId:r.metadata.auctionId,tags:r.metadata.tags},config:r.metadata.config,auctionId:r.metadata.auctionId,generation:r.metadata.generation,timestamp:Date.now(),competition:{candidates:a}});for(const e of i)e.status=1;for(const e of n)e.status=1;this.#zr(r)};#$r=e=>{Ia("Sending render request",e),this.#i.bus.emit(nr.a.renderRequested,e)};#zr=e=>{for(const t of e.candidates)t.generation+=1};#T=(e,t)=>{const r=(t-e.generationTimestamp)/1e3;return e.content.bidResponse.ttl>0&&r>=e.content.bidResponse.ttl};#Br=e=>{const t=Date.now();e.candidates=e.candidates.filter((r=>!this.#T(r,t)&&!(e.placement.rendering?.instream&&0!==r.status||2===r.status||r.content.bidResponse?.deal?.isGuaranteed)))};#Lr=(e,t)=>e.cpmAdjustment.adjustedCpm-t.cpmAdjustment.adjustedCpm;#Mr=(e,t)=>{try{const r=this.#i.globalSettings.overrideBidPriority?.(e.content,t.content);if((0,Et.l)(r))return r}catch(r){ya("error performing overrideBidPriority for candidates",e,t,r)}return this.#Lr(e.content,t.content)};#Or=(e,t)=>{if(e){if(!t)return e.content.cpmAdjustment.netUsdIncrementCpm=e.content.cpmAdjustment.netCpm,void(e.content.cpmAdjustment.rawUsdIncrementCpm=e.content.bidResponse.cpm);e.content.cpmAdjustment.netUsdIncrementCpm=e.content.cpmAdjustment.netCpm-t.content.cpmAdjustment.netCpm,e.content.cpmAdjustment.rawUsdIncrementCpm=e.content.bidResponse.cpm-t.content.bidResponse.cpm}};#jr=e=>{const t=e.candidates.filter((e=>2!==e.status)).sort(this.#Mr),r=(n=t,i=e=>e.content.bidResponse.providerId,Object.values(Gi(n,i)).filter(Et.i));var n,i;const a=t[t.length-1],s=t[t.length-2];return this.#Or(a,s),r.map((e=>e[e.length-1])).filter(Et.i)};#Vr=e=>e.candidates.map((t=>({placement:e.placement,content:t.content,generation:t.generation})));#Fr=()=>{if(rr.c){const e=Object.values(this.#_r).reduce(((e,t)=>e+(t?t.candidates.length:0)),0);e>0&&ga(`Discarding ${e} renderables`),this.#wr.size>0&&ga(`Unscheduled rendering for ${this.#wr.size} placements`,this.#wr)}this.#wr=new Set,this.#_r={}}}const _a=[];let wa;kt.d.provide((({errorCode:e,message:t,stack:r,secondaryCode:n})=>{_a.push({code:e,message:t,stack:r,secondaryCode:n}),wa&&wa()}));class Sa{#i;constructor(e){this.#i=e,wa=(0,pr.a)(this.#Hr,1),wa()}#Hr=()=>{if(0===_a.length)return;const e=[..._a];_a.length=0,this.#i.bus.emit(nr.a.error,{errors:e})}}var Ra=r(42);const xa=na.a,{error:Ca}=st.a.tag("cmd-queue"),Ea=(0,ht.a)((()=>{const e=e=>{try{e()}catch(e){Ca("Error executing command",e)}},t=window.Hubvisor?.cmd;if(window.Hubvisor=xa,xa.cmd=t??[],xa.ready=!0,Array.isArray(t))for(let r=0;r<t.length;++r)e(t[r]);xa.cmd={push:e}})),{info:Aa,error:ka,debug:Fa}=st.a.tag("hubvisor:refresh"),Da={pendingPlacements:new Set,shouldRefreshAll:!1};let Ba;const Ma=(0,pr.a)((()=>{Fa("Refresh started");const{shouldRefreshAll:e,pendingPlacements:t,task:r}=Da;Da.pendingPlacements=new Set,Da.shouldRefreshAll=!1,Da.task=void 0;const n=Bt.b.visibility,i=e?new Set:t;Ba?.(n,i).then((()=>{r?.resolve()})).catch((e=>{r?.reject(e)}))}),.2),Oa=e=>{Ba=e},Va=async e=>{const t=(e=>(0,Et.j)(e)||(0,Et.d)(e,Et.q)?(0,Mt.a)(e):(ka("Can't validate args sent to refresh: refreshing all placements",e),[]))(e),r=0===t.length?"*":t.join(", ");Aa(`Requested refresh for placements: ${r}`),Da.shouldRefreshAll=0===t.length;for(const e of t)Da.pendingPlacements.add(e);return Da.task??=(0,zn.a)(),Ma(),Da.task.promise},{debug:Pa,error:Ua}=st.a.tag("hubvisor:autorefresh"),qa=new Set,Na=new Ti.a,$a=e=>(0,Et.d)(e,Et.q)?(0,Mt.a)(e):(Ua("Cannot validate args",e),[]),ja=e=>{const t=$a(e);Pa("excluding placements",t);for(const e of t)qa.has(e)||(qa.add(e),Na.dispatch("didExcludePlacement",e))},za=e=>{const t=$a(e);Pa("unexcluding placements",t);for(const e of t)qa.has(e)&&(qa.delete(e),Na.dispatch("didUnexcludePlacement",e))},{debug:La}=st.a.tag("connectivity-check"),Ha=()=>{const e=performance.getEntriesByType("resource").filter((e=>!(e=>!(e.transferSize>0)&&(e.decodedBodySize>0||e.duration<30))(e)&&!(e=>0===e.connectEnd&&0===e.connectStart&&0===e.encodedBodySize&&0===e.decodedBodySize&&0===e.domainLookupStart&&0===e.domainLookupEnd&&0===e.requestStart&&0===e.responseStart&&0===e.transferSize&&0===e.redirectEnd&&0===e.redirectStart&&0===e.secureConnectionStart)(e)&&!(e=>e.encodedBodySize>0&&e.transferSize>0&&e.transferSize<e.encodedBodySize)(e))).map((({responseStart:e,responseEnd:t,transferSize:r})=>r/((t-e)/1e3))).sort(((e,t)=>e-t)).filter(Number.isFinite);if(e.length>2&&e.splice(-2),e.splice(0,Math.floor(.25*e.length)),0===e.length)return void La("Can't compute avg dl speed");const t=e.reduce(((e,t)=>e+t))/e.length*8/1e6;return La(`Avg dl speed: ${t.toFixed(2)} Mbps`),t},Xa=e=>"bid-response"===e.kind,Wa=e=>"winning-bid"===e.kind,Ga=e=>"rejected-bid"===e.kind,Ya=()=>{try{return top.location.href}catch{}},Ka=e=>({code:e.code,message:e.message,stack:e.stack,secondaryCode:e.secondaryCode});var Ja=r(43);const{debug:Za}=st.a.tag("loading-time"),Qa=(()=>{let e=!1;return(...t)=>{if(!e)return e=!0,Ja.a.tryCatch((()=>(e=>{const{cmpLatency:t,consentLatency:r}=e??{},{duration:n,startTime:i}=(()=>{const e=performance.getEntries().find((e=>e.name.match(/cdn.hubvisor\.io\/wrapper\/[a-zA-Z0-9]{26}\/(hubvisor-[a-zA-Z0-9]{1,}\.js|[a-zA-Z0-9]{1,}\.js)/)&&!e.name.includes("hubvisor-child.js")))??{},{duration:t,startTime:r}=e;return(0,Et.l)(t)&&(0,Et.l)(r)?(Za(`Hubvisor starting time ${r} / loading time ${t} ms`),{duration:ur(t),startTime:ur(r)}):Za("Can't retrieve Hubvisor loading and/or starting time")})()??{},a=Yi.hubvisorUntilInitDuration;return{hubvisorLoadDuration:n,cmpLatency:t,consentLatency:r,hubvisorLoadStartDelay:i,hubvisorInitDuration:Yi.init,configurationLoadDuration:Yi.config,hubvisorUntilInitDuration:(0,Et.l)(n)&&(0,Et.l)(i)&&(0,Et.l)(a)?a-n-i:void 0}})(...t))).get()}})(),{error:es,debug:ts,warn:rs}=st.a.tag("beam"),ns=(0,ht.a)(Ha),is=e=>(0,Et.r)(e)||""===e||(0,Et.c)(e)&&0===e.length;class as{#i;#Xr=In.a;#Wr={renderRequestByContentId:{},auctions:{},adRequestsByPlacementId:{},auctionsByPlacementId:{}};#Gr={auctions:{},pageViews:{},bids:{},carbonFilteredBids:[]};#Yr={events:{},errors:[]};constructor(e){this.#i=e,this.#i.bus.on(nr.a.auctionStarted,this.#or),this.#i.bus.on(nr.a.auctionResolved,this.#Cr),this.#i.bus.on(nr.a.renderRequested,this.#$t),this.#i.bus.on(nr.a.backupRenderRequested,this.#jt),this.#i.bus.on(nr.a.adrequest,(e=>{for(const t of e)(0,Et.r)(this.#Wr.adRequestsByPlacementId[t])?this.#Wr.adRequestsByPlacementId[t]=0:this.#Wr.adRequestsByPlacementId[t]+=1})),this.#i.bus.on(nr.a.impression,this.#Q.bind(this,"imp")),this.#i.bus.on(nr.a.visibleImp,this.#Q.bind(this,"visible-imp")),this.#i.bus.on(nr.a.measuredImp,this.#Q.bind(this,"measured-imp")),this.#i.bus.on(nr.a.error,this.#Bt),ii.a.on("outstream-imp",this.#Kr);const{collectDebounceDelay:t}=this.#i.globalSettings.beam;this.#Xr=(0,pr.a)((()=>{this.#Jr()}),t),this.#i.bus.on(nr.a.carbonFilteredBid,(e=>{this.#Gr.carbonFilteredBids.push(e)}))}#Zr=()=>{const e=this.#Yr.events,t=Object.keys(e),r=[];for(const n of t){const t=this.#Wr.auctions[n];t?r.push({auction:t,events:e[n]??[]}):rs("No auction found with ID ",n)}return((e,t)=>({publisherId:t.publisherId,source:t.source,timezone:t.timezone,version:t.version,connectionSpeed:t.connectionSpeed,auctions:e.auctions.flatMap((e=>e.events.length>0?(e=>{const{pageViewId:t,auctionId:r,refreshConfig:n,consent:i,tags:a}=e.auction,{bidderTimeout:s}=n,{layout:o,networkCode:d,pageZone:c,publisherBrand:l,supportCode:p}=n.context,{cmpStatus:u,tcData:m}=i??{};return{pageViewId:t,auctionId:r,consentString:(0,ot.b)(m),gdprApplies:m?.gdprApplies,cmpStatus:u,network:d,brand:l,support:p,zone:c,layout:o,page:Ya(),auctionTimeout:1e3*s,events:e.events.flatMap((e=>{const t=(e=>"imp"===e.kind||"visible-imp"===e.kind||"measured-imp"===e.kind?(e=>{const{placementId:t,refreshIndex:r,cpmAdjustment:n,bidResponse:i,pageLoadToImpInterval:a,adUnitPath:s}=e,{bidder:o,originalCpm:d,originalCurrency:c,cpm:l,creativeId:p,dealId:u,ttl:m,width:b,height:f,mediaType:h,isNetRevenue:g,vendorId:v,displayFormat:y,bidId:I,userIdPartners:T,demandSource:_,payloadBidRequestSize:w,payloadBidResponseSize:S,tags:R}=i,{agencyId:x,advertiserId:C,advertiserDomains:E=[],primaryCatId:A,secondaryCatIds:k=[]}=i.meta??{},{adjustedCpm:F,netCpm:D,rawUsdIncrementCpm:B,netUsdIncrementCpm:M}=n;return{kind:e.kind,latency:"imp"===e.kind?e.timestamp-e.renderTimestamp:void 0,ttl:m,placementId:t,size:`${b}x${f}`,mediaType:h,displayFormat:y,connector:o,vendorId:v,demandSource:_,dealId:u,creativeId:p,refreshIndex:r,rawCpm:d,cpmKind:g?"net":"gross",currency:c,adjustedUsdCpm:F,rawUsdCpm:l,netUsdCpm:D,rawUsdIncrementCpm:B,netUsdIncrementCpm:M,campaignId:void 0,seatId:x,advertiserId:C,advertiserDomains:E,categoryIds:A?[A,...k]:[],pageLoadToImpInterval:"imp"===e.kind?a:void 0,preRenderDuration:"imp"===e.kind?(O=I,Ki[O]):void 0,postRenderDuration:"imp"===e.kind?Qi(I):void 0,userIdPartners:T,payloadBidRequestSize:w,payloadBidResponseSize:S,tags:R,adUnitPath:s};var O})(e):"auction"===e.kind||"page-view"===e.kind||"carbon-filtered-bid"===e.kind?e:"bid-response"===e.kind||"winning-bid"===e.kind||"rejected-bid"===e.kind?(e=>{const t=Ga(e)?e:e.bidResponse,{bidder:r,originalCpm:n,originalCurrency:i,cpm:a,creativeId:s,dealId:o,ttl:d,width:c,height:l,mediaType:p,displayFormat:u,isNetRevenue:m,vendorId:b,placementId:f,userIdPartners:h,requestSizes:g=[],requestDealIds:v=[],payloadBidRequestSize:y,payloadBidResponseSize:I}=t,{agencyId:T,advertiserId:_,advertiserDomains:w=[],primaryCatId:S,secondaryCatIds:R=[]}=t.meta??{},x=Ga(e)?void 0:e.cpmAdjustment;return{kind:e.kind,placementId:f,requestSizes:g.map((([e,t])=>`${e}x${t}`)),requestDealIds:v,connector:r,vendorId:b,refreshIndex:e.refreshIndex,demandSource:t.demandSource,latency:t.fetchDuration,ttl:d,size:`${c}x${l}`,dealId:o,creativeId:s,mediaType:p,displayFormat:u,rawCpm:n,cpmKind:m?"net":"gross",currency:i,adjustedUsdCpm:x?.adjustedCpm,rawUsdCpm:a,netUsdCpm:x?.netCpm,rawUsdIncrementCpm:x?.rawUsdIncrementCpm,netUsdIncrementCpm:x?.netUsdIncrementCpm,campaignId:void 0,seatId:T,advertiserId:_,advertiserDomains:w,categoryIds:S?[S,...R]:[],userIdPartners:h,payloadBidRequestSize:y,payloadBidResponseSize:I}})(e):"no-bid"===e.kind||"timeout"===e.kind?(e=>{const{bidder:t,vendorId:r,placementId:n,refreshIndex:i,userIdPartners:a,displayFormat:s,requestSizes:o=[],requestDealIds:d=[],mediaType:c,demandSource:l,payloadBidRequestSize:p,payloadBidResponseSize:u}=e;return{kind:e.kind,placementId:n,requestSizes:o.map((([e,t])=>`${e}x${t}`)),requestDealIds:d,connector:t,displayFormat:s,mediaType:c,vendorId:r,refreshIndex:i,demandSource:l,userIdPartners:a,payloadBidRequestSize:p,payloadBidResponseSize:u}})(e):void 0)(e);return t?[t]:[]})),tags:a}})(e):[])),errors:e.errors.map(Ka)}))({auctions:r,errors:this.#Yr.errors},{publisherId:this.#i.globalSettings.publisherId,source:"wrapper",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,version:rr.g,connectionSpeed:ns()})};#Jr=async()=>{const e=this.#Zr();this.#Yr={events:{},errors:[]};const{collectRetryCount:t,collectRetryDelay:r,collectUrl:n}=this.#i.globalSettings.beam;if(e.auctions=e.auctions.filter((({events:e})=>e?.length>0)),0===e.auctions.length&&0===e.errors.length)return;ts(`Sending beam payload: ${n}`,e);let i=0,a=!1;do{a=i++<t;try{const t=await fetch(n,{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error(`http status: ${t.statusText}`);ts("Beam payload sent",t);break}catch(t){es("Error sending beam payload",t),a?await(0,zn.b)(r):es("Too much failures, gave up sending beam payload",e)}}while(a)};#Kr=({adId:e,kind:t})=>this.#Qr(e,t);#Qr=async(e,t)=>{const r=this.#Wr.renderRequestByContentId[e];if(!r)return es("Couldn't find renderRequest for bidResponse",e);const n=r.renderable.content.find((t=>t.bidResponse.bidId===e));if(!n)return es(`Couldn't find content for bidResponse ${e}`);const i=this.#Wr.auctions[r.auctionId];if(!i)return es(`Couldn't find auction for bidResponse ${e} - required for pageviewId`);const a=((e,t,r,n,i,a)=>{const{bidder:s,originalCpm:o,cpm:d,isNetRevenue:c,vendorId:l,userIdPartners:p,demandSource:u,tags:m}=e.bidResponse,{agencyId:b,advertiserId:f,advertiserDomains:h=[]}=e.bidResponse.meta??{},{auctionId:g,config:v}=n,{bidderTimeout:y}=v,{layout:I,networkCode:T,pageZone:_,publisherBrand:w,supportCode:S}=v.context,{cmpStatus:R,tcData:x}=t.consent??{},{adjustedCpm:C,netCpm:E}=e.cpmAdjustment;return{kind:a,publisherId:t.publisherId,pageViewId:r.pageViewId,auctionId:g,consentString:(0,ot.b)(x),gdprApplies:x?.gdprApplies,cmpStatus:R,network:T,brand:w,support:S,zone:_,layout:I,page:Ya(),auctionTimeout:1e3*y,latency:e.bidResponse.fetchDuration,ttl:e.bidResponse.ttl,placementId:e.bidResponse.placementId,size:e.bidResponse.adSize,mediaType:"video",displayFormat:"outstream",connector:s,vendorId:l,demandSource:u,refreshIndex:i,dealId:e.bidResponse.dealId,creativeId:e.bidResponse.creativeId,rawCpm:o,cpmKind:c?"net":"gross",currency:e.bidResponse.currency,adjustedUsdCpm:C,rawUsdCpm:d,netUsdCpm:E,seatId:b,advertiserId:f,advertiserDomains:h,categoryIds:e.bidResponse.meta?.secondaryCatIds,tags:[...r.tags,...m??[]],userIdPartners:p,source:t.source,version:t.version,connectionSpeed:t.connectionSpeed,timezone:t.timezone}})(n,{publisherId:this.#i.globalSettings.publisherId,source:"wrapper",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,version:rr.g,connectionSpeed:ns(),consent:this.#Wr.auctions[r.auctionId]?.consent},i,r,this.#Wr.adRequestsByPlacementId[r.renderable.placement.placementId]??0,t),s=this.#i.globalSettings.beam.vimpUrl;try{const e=new URL(s);for(const[t,r]of Object.entries(a))if(!is(r))if((0,Et.c)(r))for(const n of r)e.searchParams.append(`${t}[]`,`${n}`);else e.searchParams.append(t,r);await fetch(e),ts("vimp recorded in beam")}catch(e){es("failed to send vimp to beam",e)}};#en=e=>{if(e.renderable.placement?.rendering?.renderer&&e.renderable.placement.rendering.renderer===Nn.a.dfp&&e.doc?.defaultView?.name)return e.doc.defaultView.name.replace("google_ads_iframe_","").replace(/(_[0-9]+)$/,"")};#Q=(e,t)=>{const r=this.#Wr.renderRequestByContentId[t.renderable.content.bidResponse.bidId];if(!r)return es("couldn't find RenderRequest for impression event",t);const n=t.renderable.content.bidResponse.auctionId;if(!(n in this.#Wr.auctions))return(0,_n.a)(new Tn.b(Tn.a.beamError,"received an impression that has an unknown auctionId"));n in this.#Yr.events||(this.#Yr.events[n]=[]);const i=this.#Wr.adRequestsByPlacementId[t.renderable.placement.placementId]??0,a=this.#en(t);this.#Yr.events[n]?.push({adUnitPath:a,kind:e,timestamp:t.timestamp??Date.now(),renderTimestamp:r.timestamp,refreshIndex:i,placementId:t.renderable.placement.placementId,bidResponse:t.renderable.content.bidResponse,cpmAdjustment:t.renderable.content.cpmAdjustment,pageLoadToImpInterval:0===i&&"imp"===e?ur(performance.now()):void 0}),this.#Xr()};#Bt=e=>{const t=e.errors.map((e=>({...e,kind:"error"})));this.#Yr.errors.push(...t),this.#Xr()};#or=e=>{const{auctionId:t,config:r,consent:n}=e;if(this.#Wr.auctions[t]={pageViewId:ut.pageViewId,consent:n,auctionId:t,refreshConfig:r,tags:[]},r.refreshReason===Bt.b.pageView&&(this.#Gr.pageViews[t]={kind:"page-view",...Qa(n)},this.#Wr.adRequestsByPlacementId={},this.#Wr.auctionsByPlacementId={}),r.refreshReason!==Bt.b.secondChance)for(const e of r.placements)(0,Et.r)(this.#Wr.auctionsByPlacementId[e.placementId])?this.#Wr.auctionsByPlacementId[e.placementId]=0:this.#Wr.auctionsByPlacementId[e.placementId]+=1};#Cr=e=>{const t=e.auction.auctionId,r=this.#Wr.auctions[t];if(!r)return es("Received resolution of an auction that hasn't been initialized",e);r.tags=e.tags;const n=e.resolvedPlacements.flatMap((e=>{const t=this.#Wr.auctionsByPlacementId[e.placement.placementId]??0,r=[...e.bids.map((e=>({kind:"bid-response",refreshIndex:t,...e}))),...e.noBids.map((e=>({kind:"no-bid",refreshIndex:t,...e}))),...e.timeouts.map((e=>({kind:"timeout",refreshIndex:t,...e}))),...e.rejectedBids.map((e=>({kind:"rejected-bid",refreshIndex:t,...e}))),...this.#Gr.carbonFilteredBids.map((e=>({kind:"carbon-filtered-bid",refreshIndex:t,...e})))];return this.#Gr.carbonFilteredBids=[],r}),{});n.length>0&&(this.#Gr.auctions[t]={kind:"auction",preAuctionDuration:e.auction.preAuctionDuration,auctionDuration:e.auction.duration,postAuctionDuration:e.auction.postAuctionDuration,userIdPartners:e.auction.userIdPartners},this.#Gr.bids[t]=n)};#$t=e=>{const t=new Set;for(const r of e.renderRequests){t.add(r.auctionId);for(const e of r.renderable.content)if(this.#Wr.renderRequestByContentId[e.bidResponse.bidId]=r,e.bidResponse.providerId===un.a){const t=this.#Gr.bids[r.auctionId]?.find((t=>Xa(t)&&t.bidResponse.bidId===e.bidResponse.bidId));t?(t.kind="winning-bid",Wa(t)&&(t.cpmAdjustment=e.cpmAdjustment)):rs("couldn't find bid response to set as winning bid")}}const r=t.size>0?t:new Set([...Object.keys(this.#Gr.auctions),...Object.keys(this.#Gr.pageViews),...Object.keys(this.#Gr.bids)]);for(const e of r){this.#Yr.events[e]||(this.#Yr.events[e]=[]);const t=this.#Gr.bids[e];t&&(delete this.#Gr.bids[e],this.#Yr.events[e]?.push(...t));const r=this.#Gr.auctions[e];r&&(delete this.#Gr.auctions[e],this.#Yr.events[e]?.push(r));const n=this.#Gr.pageViews[e];n&&(delete this.#Gr.pageViews[e],this.#Yr.events[e]?.push(n))}this.#Xr()};#jt=e=>{for(const t of e.renderable.content)this.#Wr.renderRequestByContentId[t.bidResponse.bidId]=e}}class ss{#tn;#rn;#nn;#in;#an;constructor(e,t){this.#tn=e,this.#an=t,this.#rn=1e3*t}get remaining(){const e=this.#nn?Date.now()-this.#nn:0;return Math.max(0,(this.#rn-e)/1e3)}get isPaused(){return!this.#in}pause=()=>{this.#in&&this.#nn&&(clearTimeout(this.#in),this.#in=void 0,this.#rn-=Date.now()-this.#nn,this.#nn=void 0)};cancel=()=>{clearTimeout(this.#in),this.#sn(1e3*this.#an)};resume=()=>{this.#in||(this.#nn=Date.now(),this.#in=window.setTimeout((()=>{this.#sn(0),this.#tn()}),this.#rn))};#sn=e=>{this.#rn=e,this.#nn=void 0,this.#in=void 0}}var os=r(19);const{warn:ds,info:cs,debug:ls}=st.a.tag("visibility");class ps{#i;#on=new Map;#dn=[];constructor(e){this.#i=e,this.#i.bus.on(nr.a.renderedImp,(e=>{Bn(e.renderable.content.bidResponse)&&"https://cdn.hubvisor.io/wrapper/common/player.js"===e.renderable.content.bidResponse.prebid.renderer?.url?this.#dn.push(e.renderable):this.#cn(e)})),this.#i.bus.on(nr.a.refresh,this.#ee),ii.a.on("outstream-imp",this.#ln)}#pn=()=>{this.#on.forEach((e=>{e.inView&&"visible"===document.visibilityState?e.timer.resume():e.timer.pause()}))};#un=(0,ht.a)((()=>{document.addEventListener("visibilitychange",this.#pn)}));#mn=(e,t)=>{for(const r of t){const t=this.#on.get(r.target);t&&(t.inView=r.intersectionRatio>=e,t.inView?t.timer.resume():t.timer.pause())}};#bn=(0,ht.a)((()=>new IntersectionObserver((e=>{this.#mn(.5,e)}),{threshold:[0,.5,1]})));#fn=(0,ht.a)((()=>new IntersectionObserver((e=>{this.#mn(.5,e)}),{threshold:[0,.5,1]})));#hn=(e,t)=>{if(t){const e=document.querySelector(t);if(e)return e}return document.getElementById(e.placementId)??void 0};#gn=async({doc:e,frameElement:t},r)=>{const n=r.content.bidResponse,i=this.#i.globalSettings.bidderAliases;if(n.displayFormat===wn.a.skin){const e=i[n.bidder]===It.a.Sublime||n.bidder===It.a.Sublime?"ayads-html":"hbv-custom-render",t=await(0,os.b)((0,os.a)({interval:.1,maxTryCount:10}),(()=>document.getElementById(e)??void 0));if(t)return t}if(n.displayFormat===wn.a.outstream){let e;if(Bn(n)&&"https://cdn.hubvisor.io/wrapper/common/player.js"===n.prebid.renderer?.url){const e=r.placement.rendering?.outstream?.selector,t=await(0,os.b)((0,os.a)({interval:.1,maxTryCount:10}),(()=>{if(e){const t=document.querySelector(`${e} .hbv-player`);if(t)return t}return document.querySelector(`#${n.placementId} .hbv-player`)??void 0}))??this.#hn(n,e);if(t)return t}else{const t=(0,ta.isAmazonBidResponse)(n)?n.amazon.slotID:n.placementId;e=await(0,os.b)((0,os.a)({interval:.1,maxTryCount:10}),(()=>document.getElementById(t)??void 0))}if(e)return e}if(i[n.bidder]===It.a.ogury||n.bidder===It.a.ogury){const e=await(0,os.b)((0,os.a)({interval:.1,maxTryCount:10}),(()=>document.querySelector('div[id^="ogy-root-container"]')??void 0));if(e)return e}const a=t??e?.defaultView?.frameElement,s=e?.querySelector(".hbv-sandbox");return s?await(0,os.b)((0,os.a)({interval:.1,maxTryCount:300}),(()=>e?.querySelector(".hbv-ready")??void 0))?a?.parentElement??void 0:void 0:a?.parentElement??void 0};#vn=e=>e.content.bidResponse.displayFormat===wn.a.outstream?{duration:2,intersectionObserver:this.#fn()}:{duration:1,intersectionObserver:this.#bn()};#yn=(e,t,r)=>{this.#un(),this.#on.set(e,{inView:!1,timer:new ss((()=>{cs(`Impression visible for ${t.duration}s for placement ${r.placement.placementId}`,e),this.#i.bus.emit(nr.a.visibleImp,{renderable:r,timestamp:Date.now()});const n=this.#on.get(e);n&&this.#In(n)}),t.duration),params:t,renderable:r,element:e}),t.intersectionObserver.observe(e),this.#Tn().observe(e.parentElement,{childList:!0}),cs(`Measuring visibility for placement ${r.placement.placementId}`,e),this.#i.bus.emit(nr.a.measuredImp,{renderable:r,timestamp:Date.now()})};#cn=async({doc:e,frameElement:t,renderable:r})=>{const n=await this.#gn({doc:e,frameElement:t},r);if(!n)return ds(`couldn't measure visibility for ${r.placement.placementId}`);const i=this.#on.get(n);i&&(ls(`Resetting visibility state for ${r.placement.placementId}`),this.#In(i));const a=this.#vn(r);this.#yn(n,a,r)};#ln=async({adId:e,kind:t})=>{if("video-imp"!==t)return;const r=this.#dn.find((t=>t.content.bidResponse.bidId===e));if(!r)return ds(`couldn't retrieve renderable for video-imp ${e}`);this.#cn({renderable:r})};#ee=e=>{e.refreshConfig.refreshReason===Bt.b.pageView&&(this.#on.forEach(this.#In),this.#on.clear())};#In=e=>{ls(`Disposing visibility listener for ${e.renderable.placement.placementId}`),this.#on.delete(e.element),e.params.intersectionObserver.unobserve(e.element)};#Tn=(0,ht.a)((()=>new MutationObserver((e=>{for(const{removedNodes:t}of e)for(const e of t)if((0,$n.f)(e)){const t=this.#on.get(e);t&&this.#In(t)}}))))}const{warn:us,info:ms}=st.a.tag("hubvisor"),bs=(0,ht.a)((({options:e,refresh:t})=>{ms(`Hubvisor ${rr.g} (${rr.a}) started`);const r=new Ra.TinyEmitter,n=new ft(e),i={bus:r,globalSettings:n},a=new Sa(i),s={bus:r,settings:n,prebid:new qn(i),renderer:new da(i),bidder:new ha(i),renderList:new Ta(i),errorHandler:a,beam:new as(i),visibility:new ps(i)};return((e,t)=>{Oa(t),na.b("ready",(e=>e)),na.b("refresh",Va),na.b("adServerRender",(({document:t,adId:r,pgAdId:n,context:i})=>{e.renderer.adServerCallback(t,r,n,i)})),na.b("autorefresh:exclude-placements",ja),na.b("autorefresh:unexclude-placements",za),xa.adServerRender=(e,t,r)=>{us("DEPRECATED: \"Hubvisor('adServerRender', { document: doc, adId, context })\" is the new way of performing this action"),na.a("adServerRender",{document:e,adId:t,context:r})}})(s,t),Ea(),(e=>{e.settings.amazon?.pubId&&rt.then((()=>{})),e.settings.ias?.anId&&Promise.all([nt,it]).then((([e,t])=>{}))})(s),s}));var fs=r(57),hs=r(67);const gs=[],vs=(0,pr.a)((async()=>{const e=new Set(gs.map((e=>e.getSlotElementId())));gs.length=0,await io(Bt.b.secondChance,e),(0,fs.b)((t=>t.pubads().refresh([...e])))}),.5),ys=e=>{gs.push(e),(0,hs.c)("slot refreshed:",e.getSlotElementId()),vs()},Is=(0,ht.a)((e=>{(0,fs.b)((t=>{t.pubads().addEventListener("slotRenderEnded",(t=>{if(t.isEmpty){if(!(0,hs.d)(e,t.slot))return;const[r]=t.slot.getTargeting(hs.e);if("boolean"===e.mode)"true"!==r&&(t.slot.setTargeting(hs.e,"true"),ys(t.slot));else{const n=Number(r);isNaN(n)?(t.slot.setTargeting(hs.e,"0"),ys(t.slot)):n+1<e.maxCount&&(t.slot.setTargeting(hs.e,`${n+1}`),ys(t.slot))}}}))}))})),Ts=new Ti.a;(()=>{const e=e=>{Ts.dispatch("ad",e)};(0,fs.c)((t=>{t.events.on("ad",e)}))})();const _s=(e,t)=>{const r={},n=[];for(const i of e)try{const e=i.data.timestamp,{formats:n,siteId:a,pageId:s,target:o}=i.data.ad;for(const{tagId:i,id:d}of n){if(!t.has(i)&&!t.has(`${d}`))continue;const n=r[i];(!n||n.timestamp<e)&&(r[i]={timestamp:e,siteId:a,pageId:`${s}`,formatId:`${d}`,target:o,tagId:i})}}catch(e){n.push(e)}if(n.length>0)throw new Error(`Failed to retrieve Smart's events history: ${n.join(", ")}`);return Object.values(r).filter(Et.i)},ws=e=>Object.entries(e).reduce(((e,[t,r])=>{if((0,Et.j)(r))return e;const n=(0,Mt.a)(r);if(0===n.length)return e.push(t),e;for(const r of n)if(""===r)e.push(t);else{const n=`${r}`.replace(/ /g,"_");e.push(`${t}=${n}`)}return e}),[]).join(";"),Ss=e=>{const t=ws(e.strings),r=ws(e.numbers),n=[t];return r.length>0&&n.push(r),n.join("|")},Rs=e=>{const[t={},r={}]=e.split("|").map((e=>(e??"").split(";").reduce(((e,t)=>{const[r,n]=t.split("=");return r&&(e[r]||(e[r]=[]),(0,Et.i)(n)&&e[r]?.push(n)),e}),{})));return{strings:t,numbers:r}},xs=[],Cs=(0,pr.a)((async()=>{const e=[...xs],t=new Set(xs.map((([{formatId:e}])=>e)));xs.length=0,await io(Bt.b.secondChance,t),(0,fs.c)((t=>{for(const[{siteId:r,pageId:n,formatId:i},a]of e)t.clean(i),t.call("std",{siteId:r,pageId:parseInt(n,10),formatId:i,target:Ss(a)})}))}),.5),Es=(e,t)=>{xs.push([e,t]),(0,hs.c)("formatId refreshed:",e.formatId),Cs()},As=e=>{for(const t of Object.keys(e.strings).filter((e=>/^hbv?_/.test(e))))delete e.strings[t];for(const t of Object.keys(e.numbers).filter((e=>/^hbv?_/.test(e))))delete e.numbers[t]},ks=(0,ht.a)((e=>{e.enabled&&!ra.a&&((0,hs.c)(`setup started (${e.adserver})`),"dfp"!==e.adserver&&"both"!==e.adserver||Is(e),"smart"!==e.adserver&&"both"!==e.adserver||(e=>{Ts.on("noad",(async t=>{const r=[];if(!(0,hs.d)(e,t.tagId))return;try{const e=window.sas?.events.history("call")??[],n=new Set([t.tagId]);r.push(..._s(e,n))}catch(e){return(0,hs.b)("Error related to sas events history usage: aborting",e)}(0,hs.a)("lastCalls:",r);const n=r[0];if(!n)return(0,hs.f)("couldn't match elements to update with calls history");const i=Rs(n.target);if("boolean"===e.mode){const e=i.strings[hs.e]?.[0];"true"!==e&&(As(i),i.strings[hs.e]="true",Es(n,i))}else{const t=parseInt(`${i.numbers[hs.e]?.[0]}`,10);As(i),isNaN(t)?(i.numbers[hs.e]="0",Es(n,i)):t+1<e.maxCount&&(i.numbers[hs.e]=`${t+1}`,Es(n,i))}}))})(e))}));var Fs=r(26);const{debug:Ds}=st.a.tag("intrastitial"),Bs=new Fs.a(!0);let Ms,Os;const Vs=(0,ht.a)((e=>{{if(!e||e.periodicity<0)return;const t=e=>(0,Et.m)(e)&&(0,Et.l)(e.visits);Os=new Rt.a({name:"intrastitial",expirationInterval:e.sessionDuration??2592e3,storageType:()=>(0,xt.a)({name:"intrastitial"}),stream:()=>Bs,validator:t}),Ds("starting intrastitial"),Ms=e,Os.updatedValue()}})),Ps=(e,t=new Map)=>{if(!(0,Et.m)(e)&&!(0,Et.c)(e))return e;const r=t.get(e);if(!(0,Et.r)(r))return r;const n=(e=>{switch(e.constructor){case String:return new String(e);case Number:return new Number(e);case Boolean:return new Boolean(+e);case Date:return new Date(+e);case RegExp:return new RegExp(e.source,/\w*$/.exec(e));case Array:return[];case Set:return new Set;case Map:return new Map;case Object:return{};default:throw new Error(`unsupported type to clone: ${e.constructor}`)}})(e);return t.set(e,n),((e,t,r)=>{switch(t.constructor){case Array:t.forEach((t=>e.push(r(t))));break;case Set:t.forEach((t=>e.add(r(t))));break;case Map:t.forEach(((t,n)=>e.set(n,r(t))));break;case Object:Object.entries(t).forEach((([t,n])=>{e[t]=r(n)}))}})(n,e,(e=>Ps(e,t))),n},Us=Ps;var qs=r(79);const Ns=e=>e.toLowerCase().replace(/ /g,"").replace(/_/g,"-"),$s=e=>{if(!_t.remoteConfiguration.currentValue?.publisherConfiguration?.cleanr?.callRates)return;if(!(({placement:e,carbonFilterSettings:t,refreshOptions:r})=>{if(!t){const t=_t.remoteConfiguration?.currentValue?.publisherConfiguration?.cleanr?.configs;return!!t&&t.some((({placementIds:t,enabled:r,customTargeting:n})=>r&&(!t||t.includes(e.placementId))&&Ut(n)))}return!!t.enabled&&(!t.allowedContexts||t.allowedContexts.some((t=>!(t.supports&&!t.supports.includes(r.context.supportCode)||t.placements&&!t.placements.includes(e.placementId)||t.devices&&!t.devices.includes(Tt.d)))))})(e))return;const{placement:t,refreshOptions:r}=e,{contextDimensions:n,dimensionValues:i,rates:a}=_t.remoteConfiguration.currentValue.publisherConfiguration.cleanr.callRates,s=((e,t,r,n)=>{const{context:i}=t,a=(new Date).getUTCHours(),s=Ns(i.supportCode),o=Ns(Tt.d),d=Ns(At.currentValue?.ua?.os?.name??""),c=Ns(At.currentValue?.ua?.browser?.name?.toLowerCase()??""),l=(0,Dt.a)()?(0,Dt.b)()?"consentless":"consent":"consentless",p=Ns(e.placementId),u="page-view"!==t.refreshReason?"true":"false",m={hourOfDay:()=>a,consent:()=>n.consent?.indexOf(l),uaDevice:()=>n.uaDevice?.indexOf(o),uaDeviceOs:()=>n.uaDeviceOs?.indexOf(d),isRefresh:()=>n.isRefresh?.indexOf(u),uaBrowser:()=>n.uaBrowser?.indexOf(c),placementId:()=>n.placementId?.indexOf(p),support:()=>n.support?.indexOf(s)};return r.map((e=>{const t=m[e];return t?t():"-1"})).join("/")})(t,r,n,i);return a[s]},js=(e,t,r)=>{const n=t[r.indexOf(e.bidder)];if(!n||0===n)return!0;const i=n/100;return(0,qs.b)({value:!0,weight:i},{value:!1,weight:1-i})},zs=e=>Object.entries(e).flatMap((([e,t])=>t?[e]:[])),Ls=e=>{try{return new RegExp(e).test(location.href)}catch{return!1}},Hs=({priceFloor:e,currency:t="USD"})=>"USD"!==t&&e?e/(_t.remoteConfiguration.currentValue?.currencies.rates.USD?.[t]??1):e,Xs=e=>{const{pageZones:t,layouts:r,placementIds:n,supportCodes:i,isConsentless:a,urlMatching:s,allowedDisplayFormats:o,allowedSizes:d,allowedCustomFormats:c,viewability:l,countries:p,customTargeting:u}=e;return e.conditions&&0!==e.conditions.length?e:{...e,conditions:[{pageZones:t,layouts:r,placementIds:n,supportCodes:i,isConsentless:a,urlMatching:s,allowedDisplayFormats:o,allowedSizes:d,allowedCustomFormats:c,viewability:l,countries:p,customTargeting:u}]}},Ws=(e,t)=>e.conditions.reduce(((e,r)=>{var n,i;return((e,t)=>!Ot(e.placementIds)||(0,Mt.a)(e.placementIds).includes(t.placementId))(r,t)&&(n=r,i=t.bidRequest.mediaTypes.banner?.sizes,!n.allowedSizes||n.allowedSizes.some((e=>{const[t,r]=e.split("x");return i?.some((([e,n])=>e===Number(t)&&n===Number(r)))})))&&((e,t)=>!e.allowedCustomFormats||e.allowedCustomFormats.some((e=>e===t)))(r,t.rendering?.outstream?.hbvFormat)&&e.push(r),e}),[]),Gs=(e,t)=>{const r=(0,Et.r)(e)?1:"btf"===e?2:3;return((0,Et.r)(t)?1:"btf"===t?2:3)-r},Ys=(e,t)=>{if(!e.viewability)return[e];if(!t.position||(0,Et.q)(t.position))return Gs(e.viewability,t.position)>=0?[e]:[];let r=e.allowedDisplayFormats??[wn.a.instream,wn.a.outstream,wn.a.banner,wn.a.native,wn.a.skin];const n=r.length;return Gs(e.viewability,t.position?.banner)<0&&(r=r.filter((e=>e!==wn.a.banner&&e!==wn.a.native&&e!==wn.a.skin))),Gs(e.viewability,t.position?.video)<0&&(r=r.filter((e=>!(e===wn.a.instream||e===wn.a.outstream)))),r.length===n?[e]:r.length>0?(e.allowedDisplayFormats=r,[e]):[]},Ks=e=>{const t=new Set;for(const r of e.conditions)r.allowedDisplayFormats?.forEach((e=>t.add(e)));return t.size?[...t]:void 0},Js=e=>{const t=e.find((e=>!Ot(e.mediaTypes)||(0,Mt.a)(e.mediaTypes).includes("video"))),r=e.find((e=>!Ot(e.mediaTypes)||(0,Mt.a)(e.mediaTypes).includes("banner")));return{banner:r?.fold,video:t?.fold}},Zs=(e,t,r)=>{for(const n of t){if(!Ot(n.displayFormats))return!1;const t=(0,Mt.a)(n.displayFormats);if(e.overrideMediaTypes){const r=zs(e.overrideMediaTypes);if(t.some((e=>r.includes(e))))for(const[r,n]of Object.entries(e.overrideMediaTypes))n&&t.includes(r)&&delete e.overrideMediaTypes[r]}else if(e.allowedMediaTypes)e.allowedMediaTypes=e.allowedMediaTypes.filter((e=>!t.includes(e)));else if(t.some((e=>r.includes(e)))){const n=r.reduce(((e,r)=>(t.includes(r)||e.push(r),e)),[]);e.allowedMediaTypes=n}}return!0};var Qs=r(73);const{warn:eo,error:to}=st.a.tag("hubvisor");let ro,no;const io=async(e,t=new Set)=>{if(!ro)return to("init must be called before refresh");const{bus:r,bidder:n,settings:i}=ro;e===Bt.b.pageView&&ut.newPageViewId();const a=await(async e=>{try{return await(async e=>{const{consent:t}=e;if(!t.enabled)return ct("consent module was disabled in the configuration! the bidders won't be able to obtain user consent");dt("started turbocmp");const r=await at.a.updatedValue();if(r?.tcData)((e,t)=>{const r=Object.assign({},t.defaults,e,t.overrides);Fe.e.setConsentData(r)})({apiVersion:2,consentString:r.tcData.tcString,vendorData:r.tcData,gdprApplies:r.tcData.gdprApplies,addtlConsent:r.tcData.addtlConsent},t),lt("tcf consent data is ready",r.tcData);else{if(t.shouldSkipAuctionOnConsentFailure)throw new Error("No consent available: auction should be skipped");ct("consent couldn't be retrieved: bidders won't be able to obtain user consent")}if(t.shouldSkipAuctionOnNegativeConsent&&!(0,ot.c)(r?.tcData,ot.a.storageAccess))throw new Error("No storage purpose available: auction should be skipped")})(e),Qs.a.provide(et.getUserIdsAsEids),!0}catch(e){return eo("Failed retrieving user consent; auction will be aborted",e),!1}})(i),s=await(async(e,t,r)=>{const n=performance.now();t===Bt.b.pageView&&(()=>{{if(!Ms)return;const e=(Os?.currentValue?.visits??0)+1;Ds(`incrementing intrastitial visits to ${e}`),Bs.next({visits:e})}})();const[i]=await Promise.allSettled([At.updatedValue(),_t.remoteConfiguration.updatedValue()]),a="fulfilled"===i.status?i.value:void 0;Xt();const s=await e.buildRefreshOptions({clientCtx:a,refreshReason:t,requestedPlacements:r});(0,St.b)("bidder-timeout")&&(s.bidderTimeout=(0,St.b)("bidder-timeout"));const o=(e=>{if(!ro)return to("init must be called before the placement customization"),[];const{bus:t,settings:r}=ro,n=(()=>{{if(!Ms||Ms.periodicity<0)return!1;let e;if(Ms.externalVisitsProvider)try{e=Ms.externalVisitsProvider()}catch(t){reportError(new Tn.b(Tn.a.visitsProviderError,t)),e=Os?.currentValue?.visits}else e=Os?.currentValue?.visits;return!(!e||e<=0)&&e%Ms.periodicity==0}})()?e.placements:e.placements.filter((e=>"intrastitial"!==e.rendering?.format));return(e=>{const{placements:t,refreshOptions:r,bus:n,carbonFilterSettings:i}=e,{context:a}=r,s=_t.remoteConfiguration.currentValue?.publisherConfiguration?.bidders?.filter((e=>((e,t)=>e.disabled&&(!Ot(e.pageZones)||(0,Mt.a)(e.pageZones).includes(t.pageZone))&&(!Ot(e.layouts)||(0,Mt.a)(e.layouts).includes(t.layout))&&(!Ot(e.supportCodes)||(0,Mt.a)(e.supportCodes).includes(t.supportCode))&&((0,Et.j)(e.isConsentless)||e.isConsentless===(0,Dt.b)())&&((0,Et.j)(e.devices)||(0,Mt.a)(e.devices).includes(Tt.d))&&(rr.d||!1===e.enabledBehindFlag)&&Vt(e))(e,a)))??[],o=_t.remoteConfiguration.currentValue?.publisherConfiguration?.deals?.map(Xs).reduce(((e,t)=>{const r=((e,t)=>e.conditions.filter((r=>(!Ot(r.pageZones)||(0,Mt.a)(r.pageZones).includes(t.pageZone))&&(!Ot(r.layouts)||(0,Mt.a)(r.layouts).includes(t.layout))&&(!Ot(r.supportCodes)||(0,Mt.a)(r.supportCodes).includes(t.supportCode))&&((0,Et.j)(r.isConsentless)||r.isConsentless===(0,Dt.b)())&&(!Ot(r.urlMatching)||(0,Mt.a)(r.urlMatching).every(Ls))&&Ut(e.customTargeting)&&Vt(r))))(t,a);return r&&r.length>0&&e.push({...t,conditions:r}),e}),[])??[],d=_t.remoteConfiguration.currentValue?.publisherConfiguration?.folds?.filter((e=>((e,t)=>(!Ot(e.pageZones)||(0,Mt.a)(e.pageZones).includes(t.pageZone))&&(!Ot(e.devices)||(0,Mt.a)(e.devices).includes(t.layout))&&(!Ot(e.supportCodes)||(0,Mt.a)(e.supportCodes).includes(t.supportCode)))(e,a)))??[];if(0===s.length&&0===o.length&&0===d.length&&!_t.remoteConfiguration?.currentValue?.publisherConfiguration?.cleanr?.callRates)return t;const c=Us(t);for(const e of c){const t=s.filter((t=>!Ot(t.placementIds)||(0,Mt.a)(t.placementIds).includes(e.placementId))),a=$s({placement:e,carbonFilterSettings:i,refreshOptions:r}),c=o.reduce(((t,r)=>{const n=Ws(r,e);return n&&n.length>0&&t.push({...r,conditions:n}),t}),[]),l=d.filter((t=>!Ot(t.placementIds)||(0,Mt.a)(t.placementIds).includes(e.placementId)));if(e.position||(e.position=Js(l)),c.length>0){const t=c.reduce(((t,r)=>(r.conditions=r.conditions?.flatMap((t=>Ys(t,e))),r.conditions&&r.conditions.length>0&&t.push(r),t)),[]);t.length>0&&(e.bidRequest.deals=[...e.bidRequest.deals??[],...t.map((e=>({name:e.name,priceFloor:Hs(e),allowedDisplayFormats:Ks(e)})))])}if(0===t.length&&!a)continue;const p=zs(e.bidRequest.mediaTypes),u=_t.remoteConfiguration?.currentValue?.publisherConfiguration?.cleanr?.callRates?.bidders;e.bidRequest.bids=e.bidRequest.bids.filter((r=>{const i=t.filter((e=>!Ot(e.bidders)||(0,Mt.a)(e.bidders).includes(r.bidder)));if(!1===(0===i.length||Zs(r,i,p)))return!1;if(!a||!u)return!0;const s=js(r,a,u);return!1===s&&n.emit(nr.a.carbonFilteredBid,{connector:r.bidder,placementId:e.placementId}),s}))}return c})({placements:n,refreshOptions:e,bus:t,carbonFilterSettings:r.carbonFilter})})(s);((e,t,r)=>{for(const n of r){const{bidRequest:r}=n;if(r.ortb2Imp?.ext?.gpid)continue;const i=`${t}-${e.supportCode}-${e.layout}-${e.pageZone}-${n.placementId}`;r.ortb2Imp={...r.ortb2Imp,ext:{...r.ortb2Imp?.ext,gpid:i}}}})(s.context,e.publisherId,o);const d=s.bidderTimeout??e.bidderTimeout,c=new Bt.a({...s,placements:o,bidderTimeout:d});return Zi.config(performance.now()-n),c})(i,e,t),o=(0,pt.b)(),d=new Promise((e=>{const t=n=>{n.auctionIds.has(o)&&(e(),r.off(nr.a.renderRequested,t))};r.on(nr.a.renderRequested,t)}));return n.start({refreshConfig:s,shouldContinueAuction:a,auctionId:o}),d};function ao(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}r(100);const so="triplelift";let oo=null,co=null;const lo=(0,oe.b)({bidderCode:so}),po={gvlid:28,code:so,supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){let r="https://tlx.3lift.com/header/auction?",n=function(e,t){let r={},{schain:n}=e[0];const a=function(e){const t={},r={},n={},a=e.ortb2||{},s=function(){const e=lo.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,i.X)("Triplelift: error parsing JSON: ",e),null}}(),o=Object.assign({},a.site),d=Object.assign({},a.user);if(s){d.data=d.data||[];try{d.data.push({name:"www.1plusx.com",ext:s})}catch(e){(0,i.X)("Triplelift: error adding 1plusX segments: ",e)}}return ho(r,o),ho(n,d),(0,i.O)(r)||(t.context=r),(0,i.O)(n)||(t.user=n),t}(t);r.imp=e.map((function(e,t){let r={id:t,tagid:e.params.inventoryCode,floor:fo(e)};return uo(e)&&(r.video=function(e){let t={...e.params.video,...e.mediaTypes.video};try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){(0,i._)("Video size not defined",e)}return"instream"===t.context&&(t.placement||(t.placement=1)),"outstream"===t.context&&(t.placement?-1===[3,4,5].indexOf(t.placement)&&((0,i.Z)(`video.placement value of ${t.placement} is invalid for outstream context. Setting placement to 3`),t.placement=3):t.placement=3),t.playbackmethod&&Number.isInteger(t.playbackmethod)&&(t.playbackmethod=Array.from(String(t.playbackmethod),Number)),delete t.playerSize,t}(e)),e.mediaTypes.banner&&!mo(e)&&(r.banner={format:(n=e.sizes,n.filter(wo).map((function(e){return{w:e[0],h:e[1]}})))}),(0,i.O)(e.ortb2Imp)||(r.fpd=function(e){const t={},r={};return ho(r,e.ext),(0,i.O)(r)||(t.context=r),t}(e.ortb2Imp),(0,i.O)(e.ortb2Imp.ext)||(r.ext={...e.ortb2Imp.ext})),r;var n}));let s=[...(o=[e[0]],To(o,"tdid","adserver.org","TDID")),...go([e[0]]),...vo([e[0]]),...yo([e[0]]),...Io(e[0])];var o;s.length>0&&(r.user={ext:{eids:s}});let d=function(e,t){let r={};return(0,i.O)(e)||(r.schain={...e}),(0,i.O)(t)||(r.fpd={...t}),r}(n,a);return(0,i.O)(d)||(r.ext=d),t?.ortb2?.regs?.gpp&&(r.regs=Object.assign({},t.ortb2.regs)),t?.ortb2&&(r.ext.ortb2=Object.assign({},t.ortb2)),r}(e,t);return r=ao(r,"lib","prebid"),r=ao(r,"v","8.30.0"),t&&t.refererInfo&&(r=ao(r,"referrer",t.refererInfo.page)),t&&t.timeout&&(r=ao(r,"tmax",t.timeout)),t&&t.gdprConsent&&(oo=void 0===t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,r=ao(r,"gdpr",oo.toString()),void 0!==t.gdprConsent.consentString&&(co=t.gdprConsent.consentString,r=ao(r,"cmp_cs",co))),t&&t.uspConsent&&(r=ao(r,"us_privacy",t.uspConsent)),t&&t.fledgeEnabled&&(r=ao(r,"fledge",t.fledgeEnabled)),!0===u.b.getConfig("coppa")&&(r=ao(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),(0,i.Z)("tlCall request built: "+r),{method:"POST",url:r,data:n,bidderRequest:t}},interpretResponse:function(e,{bidderRequest:t}){let r=e.body.bids||[];const n=e.body.paapi||[];if(r=r.map((e=>function(e,t){let r={},n=t.width||1,i=t.height||1,a=t.deal_id||"",s=t.crid||"",o=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(r={requestId:o.bidId,cpm:t.cpm,width:n,height:i,netRevenue:!0,ad:t.ad,creativeId:s,dealId:a,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},uo(o)&&"video"===t.media_type&&(r.vastXml=t.ad,r.mediaType="video",r.ttl=3600),t.advertiser_name&&(r.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(r.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(uo(o)&&"video"===t.media_type?r.meta.mediaType="video":r.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(r.meta.mediaType="native"),s&&(r.meta.networkId=s.slice(0,s.indexOf("_")))),r}(t,e))),n.length>0){const e=n.map((e=>({bidId:t.bids[e.imp_id].bidId,config:e.auctionConfig})));return(0,i.Z)("Response with FLEDGE:",{bids:r,fledgeAuctionConfigs:e}),{bids:r,fledgeAuctionConfigs:e}}return r},getUserSyncs:function(e,t,r,n,i){let a=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(!a)return;let s="https://eb2.3lift.com/sync?";return"image"===a&&(s=ao(s,"px",1),s=ao(s,"src","prebid")),(null!==co||oo)&&(s=ao(s,"gdpr",oo),s=ao(s,"cmp_cs",co)),n&&(s=ao(s,"us_privacy",n)),i&&(i.gppString&&(s=ao(s,"gpp",i.gppString)),i.applicableSections&&0!==i.applicableSections.length&&(s=ao(s,"gpp_sid",i.applicableSections.filter((e=>Number.isInteger(e))).join(",")))),[{type:a,url:s}]}};function uo(e){return bo(e)&&(mo(e)||function(e){return bo(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function mo(e){return bo(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function bo(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function fo(e){let t=null;if("function"==typeof e.getFloor)try{const r=e.getFloor({currency:"USD",mediaType:uo(e)?"video":"banner",size:"*"});"object"!=typeof r||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor))}catch(e){(0,i.X)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function ho(e,t){(0,i.O)(t)||Object.keys(t).forEach((r=>{null!=t[r]&&(e[r]=t[r])}))}function go(e){return To(e,"idl_env","liveramp.com","idl")}function vo(e){return To(e,"criteoId","criteo.com","criteoId")}function yo(e){return To(e,"pubcid","pubcid.org","pubcid")}function Io(e){let t=["adserver.org","liveramp.com","criteo.com","pubcid.org"],r=[];return e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if(-1===t.indexOf(e.source)){let t=e.uids.map((t=>({id:t.id,ext:{rtiPartner:e.source}})));r.push({source:e.source,uids:t})}}catch(t){(0,i._)(`Triplelift: Error attempting to add ${e} to bid request`,t)}})),r}function To(e,t,r,n){return e.map(function(e){return t=>t&&t.userId&&t.userId[e]}(t)).filter(_o(t)).map(function(e,t){return r=>({source:e,uids:[{id:r.id?r.id:r,ext:{rtiPartner:t}}]})}(r,n))}const _o=e=>(t,r,n)=>{let a=!!t&&((0,i.V)(t)?!!t:(0,i.T)(t)&&!(0,i.L)(t)&&!(0,i.O)(t)&&t.id&&(0,i.V)(t.id)&&!!t.id);return a||void 0===n[0]||(0,i._)(`Triplelift: invalid ${e} userId format`),a};function wo(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,tt.b)(po);const So={},Ro=e=>({url:"https://cdn.hubvisor.io/wrapper/common/player.js",render(t){const r=((e,t)=>Object.values(So).map((r=>r.canRender(e,t)?r.createRenderCmd(e,t):void 0)).find(Et.i))(t,e)??(()=>{const r=Wi.read(t.adUnitCode),n=document.querySelector(e.selector??`#${t.adUnitCode}`)??r?.document.body,i={vastXml:t.vastXml,vastUrl:t.vastUrl,targetWidth:t.width,targetHeight:t.height,renderContext:r,...e,onEvent:(r,n)=>e.onEvent?.(t,r,n)};(0,ri.a)(n??`#${t.adUnitCode}`,i)});this.push(r)}}),xo=e=>Ro({expand:Nn.b.noLazyLoad,onEvent:(e,t)=>{switch(t){case"impression":case"first-quartile":case"midpoint":case"third-quartile":case"complete":ii.a.emit("outstream-imp",{adId:e.adId,kind:"impression"===t?"video-imp":t})}},...e}),Co=e=>(0,Et.m)(e)&&(0,Et.n)(e.mimesTypes,(0,Et.h)(Et.d,Et.q))&&(0,Et.n)(e.minDuration,Et.l)&&(0,Et.n)(e.maxDuration,Et.l)&&(0,Et.n)(e.startDelay,Et.l)&&(0,Et.n)(e.fitHeight,Et.l)&&(0,Et.n)(e.maxWidth,Et.l)&&(0,Et.n)(e.targetRatio,Et.l)&&(0,Et.n)(e.containerSelector,Et.q)&&(0,Et.n)(e.placement,Et.q)&&(0,Et.n)(e.isReplayable,Et.e),Eo=e=>{return(0,Et.m)(e)&&(0,Et.q)(e.name)&&(0,Et.n)(e.isGuaranteed,Et.e)&&((0,Et.n)(e.priceFloor,Et.l)||(t=e.priceFloor,(0,Et.m)(t)&&(e=>{const t=["video","banner","native"];return Object.getOwnPropertyNames(e).every((e=>t.includes(e)))})(t)&&(0,Et.n)(t.native,Et.l)&&(0,Et.n)(t.video,Et.l)&&(0,Et.n)(t.banner,Et.l)));var t},Ao=e=>(0,Et.m)(e)&&(0,Et.a)(e.position,void 0,"atf","btf")&&(0,Et.n)(e.deals,(0,Et.h)(Et.b,Eo))&&(0,Et.n)(e.tagId,Et.q)&&(0,Et.n)(e.video,Co)&&(0,Et.n)(e.categoryBlocklist,(0,Et.h)(Et.b,Et.q))&&(0,Et.n)(e.domainBlocklist,(0,Et.h)(Et.b,Et.q))&&(0,Et.n)(e.wseat,(0,Et.h)(Et.b,Et.q));var ko=r(62),Fo=r(63);const Do={api:[ko.a.vpaid10,ko.a.vpaid20,ko.a.mraid1,ko.a.mraid2,ko.a.mraid3,ko.a.omid1],linearity:2,mimes:["video/mp4","video/ogg","video/webm","application/javascript"],maxduration:30,minduration:1,protocols:[Fo.a.vast10,Fo.a.vast20,Fo.a.vast30,Fo.a.vast40,Fo.a.vast10Wrapper,Fo.a.vast20Wrapper,Fo.a.vast30Wrapper,Fo.a.vast40Wrapper,Fo.a.vast41,Fo.a.vast41Wrapper,Fo.a.vast42,Fo.a.vast42Wrapper],startdelay:0,placement:3,plcmt:4,playbackmethod:[2,3,4],skip:Ht.b.yes,pos:0},Bo={...Do,linearity:1,placement:1,plcmt:1},Mo=(e,t,r)=>{for(const n of e)n.hbvMetadata={...t,...r}},Oo=(e,t)=>Object.fromEntries(Object.entries({...e,...t}).filter((([,e])=>(0,Et.c)(e)&&e.length||(0,Et.i)(e)))),Vo=(e,t,r,n,i,a)=>{ra.a||(Mo(n,{displayFormat:wn.a.outstream,mediaType:hn,requestSizes:[r.playerSize]},a),e.push({adUnitCode:t,mediaTypes:{video:{...Oo(Do,r.openRtbParams),context:"outstream",playerSize:[r.playerSize]}},playerConfig:{expand:Nn.b.noLazyLoad,...i},renderer:xo(i),bids:n}))},Po=(e,t,r,n,i)=>{Mo(n,{displayFormat:wn.a.instream,mediaType:hn,requestSizes:[r.playerSize]},i),e.push({adUnitCode:t,mediaTypes:{video:{playerSize:[r.playerSize],context:"instream",...Oo(Bo,r.openRtbParams)}},bids:n})},Uo=(e,t,r,n,i)=>{Mo(r,{displayFormat:wn.a.native,mediaType:fn},i),e.push({adUnitCode:t,mediaTypes:{native:n&&!(0,Et.e)(n)?n:{type:"image"}},bids:r})},qo=e=>1===e.length&&1800===e[0][0]&&1e3===e[0][1],No=(e,t,r,n,i)=>{Mo(n,{displayFormat:qo(r)?wn.a.skin:wn.a.banner,mediaType:bn,requestSizes:r},i),e.push({adUnitCode:t,mediaTypes:{banner:{sizes:r}},bids:n})},$o=e=>{const t=[];return e.banner&&t.push(...e.banner.sizes),e.skin&&t.push([1800,1e3]),t},jo=e=>{const t=[];for(const r of e)Eo(r)&&t.push(r.name);return t},zo=e=>(0,Et.m)(e)&&((0,Et.j)(e.forcedSize)||(0,Et.p)(e.forcedSize))&&((0,Et.j)(e.isVideo)||(0,Et.e)(e.isVideo));kt.a.add(It.a.TripleLift,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(n.banner||n.skin){let i=$o(n);zo(r.formatterParams)&&r.formatterParams.forcedSize&&(i=[r.formatterParams.forcedSize]),No(e,t.placementId,i,[{bidder:r.bidder,params:r.params}])}if(n.nativeBanner||n.outstream){let i=[[1,1]];zo(r.formatterParams)&&r.formatterParams.forcedSize&&(i=[r.formatterParams.forcedSize]),n.outstream&&zo(r.formatterParams)&&r.formatterParams.isVideo?Vo(e,t.placementId,n.outstream,[{bidder:r.bidder,params:r.params}],t.rendering?.outstream):No(e,t.placementId,i,[{bidder:r.bidder,params:r.params}],{displayFormat:n.nativeBanner?wn.a.nativeBanner:wn.a.outstream})}if(n.instream){const[i,a]=n.instream.playerSize;Po(e,t.placementId,n.instream,[{bidder:r.bidder,params:{...r.params,video:{w:i,h:a,...r.params.video}}}])}})),kt.b.add(It.a.TripleLift,po.gvlid);const Lo="USD",Ho={image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1},cta:{required:!1}},Xo={code:"adyoulike",gvlid:259,supportedMediaTypes:[b.b,b.c,b.d],aliases:["ayl"],isBidRequestValid:function(e){const t=Jo(Ko(e)),r=t.width>0&&t.height>0;return e.params&&e.params.placement&&(r||e.mediaTypes&&e.mediaTypes.native)},buildRequests:function(e,t){e=(0,d.b)(e);let r,n=!1;const i={Version:"1.0",Bids:e.reduce(((e,t)=>{let i=(d=t,(0,a.a)(d,"mediaTypes.banner")?b.b:(0,a.a)(d,"mediaTypes.video")?b.d:(0,a.a)(d,"mediaTypes.native")?b.c:void 0),s=Ko(t),o=Jo(s);var d;if(e[t.bidId]={},e[t.bidId].PlacementID=t.params.placement,e[t.bidId].TransactionID=t.ortb2Imp?.ext?.tid,e[t.bidId].Width=o.width,e[t.bidId].Height=o.height,e[t.bidId].AvailableSizes=s.join(","),"function"==typeof t.getFloor&&(e[t.bidId].Pricing=function(e,t,r){const n=e.getFloor({currency:Lo,mediaType:r,size:[t.width,t.height]});if(!isNaN(n.floor)&&n.currency===Lo)return n.floor}(t,o,i)),t.schain&&(e[t.bidId].SChain=t.schain),!r&&t.userIdAsEids&&t.userIdAsEids.length&&(r=t.userIdAsEids),i===b.c){let r=t.mediaTypes.native;"image"===r.type&&(r=Object.assign({},Ho,r)),r.clickUrl={required:!0},e[t.bidId].Native=r}if(i===b.d){n=!0,e[t.bidId].Video=t.mediaTypes.video;const r=t.mediaTypes.video.playerSize;Array.isArray(r)&&!Array.isArray(r[0])&&(e[t.bidId].Video.playerSize=[r])}return e}),{}),PageRefreshed:Wo()};t.gdprConsent&&(i.gdprConsent={consentString:t.gdprConsent.consentString,consentRequired:"boolean"==typeof t.gdprConsent.gdprApplies?t.gdprConsent.gdprApplies:null}),t.uspConsent&&(i.uspConsent=t.uspConsent),t.ortb2&&(i.ortb2=t.ortb2),r&&(i.eids=r),i.pbjs_version="8.30.0";const s=JSON.stringify(i);return{method:"POST",url:Go(e,t,n),data:s,options:{withCredentials:!0}}},interpretResponse:function(e,t){const r=[];var n={};try{n=JSON.parse(t.data).Bids}catch(e){}return e.body.forEach((e=>{const t=function(e,t){if(!e||!e.Ad&&!e.Native&&!e.Vast)return;const r=t&&t[e.BidID];r&&(e.Width&&"0"!==e.Width||(e.Width=r.Width),e.Height&&"0"!==e.Height||(e.Height=r.Height));const n={requestId:e.BidID,ttl:3600,creativeId:e.CreativeID,cpm:e.Price,netRevenue:!0,currency:Lo,meta:e.Meta||{advertiserDomains:[]}},i=e.Vast;return i?(n.width=e.Width,n.height=e.Height,n.vastXml=window.atob(i),n.mediaType="video"):r.Native?(n.native=function(e,t){if("object"==typeof e.Native)return e.Native;const r={};var n={},i={};if("string"==typeof e.Ad){n=JSON.parse(e.Ad.match(/\/\*PREBID\*\/(.*)\/\*PREBID\*\//)[1]),i=n.Content.Preview.Text;var s=n.TrackingPrefix+"/pixel?event_kind=IMPRESSION&attempt="+n.Attempt,o=n.TrackingPrefix+"/pixel?event_kind=INSERTION&attempt="+n.Attempt;n.Campaign&&(s+="&campaign="+n.Campaign,o+="&campaign="+n.Campaign),r.clickUrl=n.TrackingPrefix+"/ar?event_kind=CLICK&attempt="+n.Attempt+"&campaign="+n.Campaign+"&url="+encodeURIComponent(n.Content.Landing.Url),n.OnEvents?(r.clickTrackers=ed(n.OnEvents.CLICK),r.impressionTrackers=ed(n.OnEvents.IMPRESSION),r.javascriptTrackers=ed(n.OnEvents.IMPRESSION,!0)):r.impressionTrackers=[],r.impressionTrackers.push(s,o)}return Object.keys(t).map((function(s){switch(s){case"title":r[s]=i.TITLE;break;case"body":r[s]=i.DESCRIPTION;break;case"cta":r[s]=i.CALLTOACTION;break;case"sponsoredBy":r[s]=n.Content.Preview.Sponsor.Name;break;case"image":const o=t.image.sizes||[];o.length||(o[0]=e.Width||300,o[1]=e.Height||250);const d=Qo(n,(0,a.a)(n,"Content.Preview.Thumbnail.Image"),o[0],o[1]);d&&(r[s]={url:d,width:o[0],height:o[1]});break;case"icon":const c=t.icon.sizes||[];c.length||(c[0]=50,c[1]=50);const l=Qo(n,(0,a.a)(n,"Content.Preview.Sponsor.Logo.Resource"),c[0],c[1]);l&&(r[s]={url:l,width:c[0],height:c[1]});break;case"privacyIcon":r[s]=Qo(n,(0,a.a)(n,"Content.Preview.Credit.Logo.Resource"),25,25);break;case"privacyLink":r[s]=(0,a.a)(n,"Content.Preview.Credit.Url")}})),r}(e,r.Native),n.mediaType="native"):(n.width=e.Width,n.height=e.Height,n.ad=e.Ad),n}(e,n);t&&r.push(t)})),r},getUserSyncs:function(e,t,r,n,i){if(!e.iframeEnabled)return[];let a="";return r&&(a+="&gdpr="+(r.gdprApplies?1:0),a+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),!0===u.b.getConfig("coppa")&&(a+="&coppa=1"),n&&(a+="&us_privacy="+encodeURIComponent(n)),i?.gppString&&i?.applicableSections?.length&&(a+="&gpp="+encodeURIComponent(i.gppString),a+="&gpp_sid="+encodeURIComponent(i?.applicableSections?.join(","))),[{type:"iframe",url:`https://visitor.omnitagjs.com/visitor/isync?uid=19340f4f097d16f41f34fc0274981ca4${a}`}]}};function Wo(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1}function Go(e,t,r){let n=function(e){let t=(0,p.b)(e,(e=>e.params.DC));return t?"-"+t.params.DC:""}(e);const a=r?"/hb-api/prebid-video/v1":"/hb-api/prebid/v1";return(0,i.d)({protocol:"https",host:`hb-api${n}.omnitagjs.com`,pathname:a,search:Yo(t)})}function Yo(e){const t={};if(e){const r=e.refererInfo;r&&(r.location&&(t.RefererUrl=encodeURIComponent(r.location),r.reachedTop||(t.SafeFrame=!0)),t.PageUrl=encodeURIComponent(r.topmostLocation),t.PageReferrer=encodeURIComponent(r.location));const n=e.ortb2?.site;n&&(t.PageUrl=encodeURIComponent(n.page||r?.topmostLocation),t.PageReferrer=encodeURIComponent(n.ref||r?.location))}const r=e?.refererInfo?.canonicalUrl;return r&&(t.CanonicalUrl=encodeURIComponent(r)),t}function Ko(e){let t=e.sizes||[];return e.mediaTypes&&e.mediaTypes.banner&&(t=e.mediaTypes.banner.sizes||[]),e.params&&Array.isArray(e.params.size)&&(t=e.params.size,Array.isArray(t[0])||(t=[t])),(0,i.db)(t)}function Jo(e){const t={},r=e[0];if("string"!=typeof r)return t;const n=r.toUpperCase().split("X"),i=parseInt(n[0],10);i&&(t.width=i);const a=parseInt(n[1],10);return a&&(t.height=a),t}function Zo(e){return e?"https://blobs.omnitagjs.com/blobs/"+e.substr(16,2)+"/"+e.substr(16)+"/"+e:""}function Qo(e,t,r,n){let i="";if(t&&t.Kind)switch(t.Kind){case"INTERNAL":i=Zo(t.Data.Internal.BlobReference.Uid);break;case"EXTERNAL":const a=e.DynamicPrefix;let s=t.Data.External.Url;if(s=s.replace(/\[height\]/i,""+n),s=s.replace(/\[width\]/i,""+r),s.indexOf(a)>=0){const e=/.*url=([^&]*)/gm.exec(s);i=e?e[1]:"",i||(i=Zo(/.*key=([^&]*)/gm.exec(s)[1]))}else i=s}return i}function ed(e,t){const r=[];return e?(e.map((e=>{(t&&"JAVASCRIPT_URL"===e.Kind||!t&&"PIXEL_URL"===e.Kind)&&r.push(e.Url)})),r):r}(0,tt.b)(Xo),kt.a.add(It.a.Adyoulike,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(n.nativeBanner||n.banner){const n=(e=>(0,Et.m)(e)&&(0,Et.p)(e.forcedSize))(i=r.formatterParams)?[i.forcedSize]:[[1,1]];No(e,t.placementId,n,[{bidder:r.bidder,params:r.params}],{displayFormat:wn.a.nativeBanner})}var i;n.native&&Uo(e,t.placementId,[{bidder:r.bidder,params:r.params}],n.native),n.outstream&&Vo(e,t.placementId,n.outstream,[{bidder:r.bidder,params:r.params}],t.rendering?.outstream)})),kt.b.add(It.a.Adyoulike,Xo.gvlid);const td="https://pbs-front.mediasquare.fr/",rd="https://bidder-test.mediasquare.fr/",nd={code:"mediasquare",gvlid:791,aliases:["msq"],supportedMediaTypes:[b.b,b.c,b.d],isBidRequestValid:function(e){return!(!e.params.owner||!e.params.code)},buildRequests:function(e,t){e=(0,d.b)(e);let r=[],n=document.location.search.match(/msq_test=true/)?rd:td,i={};const a=u.b.getConfig("debug")?1:0;let s=null;Object.keys(e).forEach((t=>{i={},s=e[t],"function"==typeof s.getFloor&&Array.isArray(s.sizes)&&s.sizes.forEach((e=>{let t=s.getFloor({currency:"USD",mediaType:"*",size:e});t!={}&&(i[e.join("x")]=t)})),r.push({owner:s.params.owner,code:s.params.code,adunit:s.adUnitCode,bidId:s.bidId,auctionId:s.auctionId,transactionId:s.ortb2Imp?.ext?.tid,mediatypes:s.mediaTypes,floor:i})}));const o={codes:r,referer:encodeURIComponent(t.refererInfo.page||t.refererInfo.topmostLocation),pbjs:"8.30.0"};return t&&(t.gdprConsent&&(o.gdpr={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t.uspConsent&&(o.uspConsent=t.uspConsent),t.schain&&(o.schain=t.schain),t.userId?o.userId=t.userId:t.hasOwnProperty("bids")&&"object"==typeof t.bids&&t.bids.length>0&&t.bids[0].hasOwnProperty("userId")&&(o.userId=t.bids[0].userId)),a&&(o.debug=!0),{method:"POST",url:n+"msq_prebid",data:JSON.stringify(o)}},interpretResponse:function(e){const t=e.body,r=[];let n=null,i=null;return t.hasOwnProperty("responses")&&Object.keys(t.responses).forEach((e=>{i=t.responses[e],n={requestId:i.bid_id,cpm:i.cpm,width:i.width,height:i.height,creativeId:i.creative_id,currency:i.currency,netRevenue:i.net_revenue,ttl:i.ttl,ad:i.ad,mediasquare:{},meta:{advertiserDomains:i.adomain}},["bidder","code","match","hasConsent","context","increment","ova"].forEach((e=>{e in i&&(n.mediasquare[e]=i[e])})),"native"in i?(n.native=i.native,n.mediaType="native"):"video"in i&&("url"in i.video&&(n.vastUrl=i.video.url),"xml"in i.video&&(n.vastXml=i.video.xml),n.mediaType="video",n.renderer=function(e){const t=m.a.install({id:e.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,adUnitCode:e.adUnitCode,targetId:e.adUnitCode});return t.setRender(id),t}(i)),i.hasOwnProperty("deal_id")&&(n.dealId=i.deal_id),r.push(n)})),r},getUserSyncs:function(e,t){return"object"==typeof t&&null!=t&&t.length>0&&t[0].hasOwnProperty("body")&&t[0].body.hasOwnProperty("cookies")&&"object"==typeof t[0].body.cookies?t[0].body.cookies:[]},onBidWon:function(e){if(e.hasOwnProperty("mediaType")&&"video"==e.mediaType)return;let t={pbjs:"8.30.0",referer:encodeURIComponent((0,le.a)().page||(0,le.a)().topmostLocation)},r=document.location.search.match(/msq_test=true/)?rd:td,n=["bidder","code","match","hasConsent","context","increment","ova"];return e.hasOwnProperty("mediasquare")&&n.forEach((r=>{e.mediasquare.hasOwnProperty(r)&&(t[r]=e.mediasquare[r],"number"==typeof t[r]&&(t[r]=t[r].toString()))})),n=["cpm","size","mediaType","currency","creativeId","adUnitCode","timeToRespond","requestId","auctionId","originalCpm","originalCurrency"],n.forEach((r=>{e.hasOwnProperty(r)&&(t[r]=e[r],"number"==typeof t[r]&&(t[r]=t[r].toString()))})),(0,zr.b)(r+"winning",null,JSON.stringify(t),{method:"POST",withCredentials:!0}),!0}};function id(e){e.renderer.push((()=>{window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:{showBigPlayButton:!1,showProgressBar:"bar",showVolume:!1,allowFullscreen:!0,skippable:!1,content:e.vastXml}})}))}(0,tt.b)(nd),kt.a.add(It.a.mediasquare,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(n.banner||n.skin){const i=$o(n);No(e,t.placementId,i,[{bidder:r.bidder,params:{...r.params,video:void 0}}])}n.native&&Uo(e,t.placementId,[{bidder:r.bidder,params:{...r.params,video:void 0}}],n.native),n.outstream&&Vo(e,t.placementId,n.outstream,[{bidder:r.bidder,params:r.params}],t.rendering?.outstream),n.instream&&Po(e,t.placementId,n.instream,[{bidder:r.bidder,params:{...r.params}}])})),kt.b.add(It.a.mediasquare,nd.gvlid);var ad=r(32);const sd=e=>{switch(e){case"atf":return 1;case"btf":return 3}return 0},od=e=>{const t=["video/mp4","video/x-flv","video/webm","application/javascript"];if(0===e.length)return t;const r=e.filter((e=>t.includes(e)));return r.length>0?r:t},dd=(e,t,r)=>{const n=((e,t,r)=>e&&0!==e.length?t===fn?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wn.a.native))):t===bn?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wn.a.banner))):t===hn?((e,t)=>"outstream"===t.context?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wn.a.outstream))):"instream"===t.context?e.filter((e=>!e.allowedDisplayFormats||e.allowedDisplayFormats.includes(wn.a.instream))):e)(e,r):e:[])((0,Mt.a)(e.params.deals),r,e.mediaTypes.video);if(0!==n.length)return{private_auction:0,deals:n.map((n=>{const i=(0,Et.q)(n)?n:n.name,a=(0,Et.q)(n)?0:((e,t)=>{if((0,Et.m)(e)){const r=e[t];if((0,Et.l)(r))return r}if((0,Et.l)(e))return e})(n.priceFloor,r);return{id:i,bidfloor:Math.max(a??0,t??0),at:Ht.a.firstPrice,wseat:e.params.wseat}}))}},cd=(e,t)=>"outstream"===e?-100:t??0,ld=()=>{const e=u.b.getConfig("hubvisor")?.contentBlocklist;if((0,Et.b)(e,Et.q)&&e.length>0)return e},pd=()=>{const e=u.b.getConfig("hubvisor")?.domainBlocklist;if((0,Et.b)(e,Et.q)&&e.length>0)return e},ud=(new Set(["1","true",!0]),{}),md={},{warn:bd}=st.a.tag("screen-size"),fd=e=>{switch(e){case"Cellular":switch(navigator.connection?.effectiveType){case"2g":return 4;case"3g":return 5;case"4g":return 6}return 3;case"Cable/DSL":return 2;case"Corporate":case"Dialup":return 1;default:return 0}},{warn:hd}=st.a.tag("ortb-bid-adapter"),gd=(e,t,r=[])=>{if(!e.getFloor)return.1;const n=e.getFloor.bind(e);return r.reduce(((e,r)=>{const{floor:i}=n({currency:"USD",mediaType:t,size:r});return(0,Et.r)(i)?e:Math.min(e??i,i)}),void 0)??n({currency:"USD",mediaType:t,size:"*"}).floor??.1},vd=({id:e,bidderRequest:t,context:r,buyeruid:n})=>{const i=At.currentValue,[a,s]=(()=>{try{const e=window.mraid?.getScreenSize();if((0,Et.m)(e)&&(0,Et.l)(e.width)&&(0,Et.l)(e.height))return[e.width,e.height]}catch(e){bd("mraid.getScreenSize() failed with error: ",e)}})()??[screen.width,screen.height];return{id:e,at:Ht.a.firstPrice,cattax:1,cur:["USD"],site:(o=r,{id:o.siteId,page:location.href,publisher:{id:o.publisherId,name:o.publisherName,domain:o.publisherDomain},domain:o.siteDomain,cat:o.iabCategories}),device:{ip:i?.ip,w:a,h:s,ua:navigator.userAgent,langb:navigator.language,geo:{country:i?.geo?.country?.alpha3,lat:i?.geo?.location?.latitude,lon:i?.geo?.location?.longitude,accuracy:i?.geo?.location?.accuracyRadius,ipservice:3,city:i?.geo?.city?.name,zip:i?.geo?.city?.zip},devicetype:Tt.c,dnt:i?.dnt?Ht.b.yes:Ht.b.no,js:Ht.b.yes,make:i?.ua?.device?.vendor,model:i?.ua?.device?.model,os:i?.ua?.os?.name,osv:i?.ua?.os?.version,connectiontype:fd(i?.cxn)},user:{buyeruid:n,ext:{consent:t.gdprConsent?.consentString}},source:{fd:1,ext:{schain:{ver:"1.0",complete:Ht.b.yes,nodes:[{asi:"hubvisor.io",sid:r.publisherId,hp:Ht.b.yes}]}}},regs:{ext:{gdpr:t.gdprConsent?.gdprApplies?Ht.b.yes:Ht.b.no}},imp:[]};var o},yd=[Fo.a.vast10,Fo.a.vast20,Fo.a.vast30,Fo.a.vast40,Fo.a.vast10Wrapper,Fo.a.vast20Wrapper,Fo.a.vast30Wrapper,Fo.a.vast40Wrapper,Fo.a.vast41,Fo.a.vast41Wrapper,Fo.a.vast42,Fo.a.vast42Wrapper],Id=[ko.a.vpaid10,ko.a.vpaid20,ko.a.mraid1,ko.a.mraid2,ko.a.mraid3],Td=(e,t)=>{t.mediaTypes.banner&&((e,t)=>{if(!t.mediaTypes.banner||t.mediaTypes.banner.sizes.length<=0)return hd("Banner BidRequest without sizes was skipped",e);const{sizes:r}=t.mediaTypes.banner,n=`b:${t.bidId}`,i=r[0]?.[0]??0,a=r[0]?.[1]??0;var s;s={size:[i,a]},md[n]=s;const o={id:n,tagid:t.params.tagId??t.adUnitCode,secure:Ht.b.yes,instl:t.params.instl??Ht.b.no,bidfloor:gd(t,bn,r),bidfloorcur:"USD",banner:{w:i,h:a,format:r.map((([e,t])=>({w:e,h:t}))),pos:sd(t.params.position)},ext:t.ortb2Imp?.ext};o.pmp=dd(t,o.bidfloor,bn),e.imp.push(o)})(e,t),t.mediaTypes.video&&((e,t)=>{if(!t.mediaTypes.video||t.mediaTypes.video.playerSize.length<=0)return hd("Video BidRequest without sizes was skipped",e);const{context:r,playerSize:n,startdelay:i,placement:a,plcmt:s,minduration:o,maxduration:d,protocols:c,api:l,mimes:p,skip:u,playbackmethod:m}=t.mediaTypes.video,{video:b}=t.params,f=`v:${t.bidId}`,[h,g]=n[0];var v;v={size:[h,g]},ud[f]=v;const y=((e,t)=>{switch(e){case"instream":return 1;case"inbanner":return 2;case"inarticle":return 3;case"infeed":return 4;case"interstitial":return 5}return t??0})(t.params.video?.placement,a),I=((e,t,r)=>{switch(e){case"instream":return 1;case"interstitial":return 3;case"standalone":return 4;case"accompanying":return 2}if(t)return t;switch(r){case 1:return 1;case 5:return 3;case 2:case 3:case 4:return 4}return 0})(t.params.video?.plcmt,s,y),T={id:f,tagid:t.params.tagId??t.adUnitCode,secure:Ht.b.yes,bidfloor:gd(t,hn),bidfloorcur:"USD",video:{playbackmethod:m,mimes:od((0,Mt.a)(b?.mimesTypes??p)),minduration:b?.minDuration??o??1,maxduration:b?.maxDuration??d??30,protocols:c??yd,w:h,h:g,startdelay:cd(r,i),linearity:1,api:l??Id,placement:y,plcmt:I,pos:sd(t.params.videoPosition),skip:u??Ht.b.yes},ext:t.ortb2Imp?.ext};T.pmp=dd(t,T.bidfloor,hn),e.imp.push(T)})(e,t),t.mediaTypes.native&&((e,t)=>{if(!t.mediaTypes.native)return hd("Wrong media type (native)",e);try{if(!t.nativeOrtbRequest)throw Error("Native ortb request is not defined");const r={id:`n:${t.bidId}`,tagid:t.params.tagId??t.adUnitCode,secure:Ht.b.yes,bidfloor:gd(t,fn),bidfloorcur:"USD",native:{request:JSON.stringify(t.nativeOrtbRequest),ver:t.nativeOrtbRequest.ver},ext:t.ortb2Imp?.ext};r.pmp=dd(t,r.bidfloor,fn),e.imp.push(r)}catch(e){(0,_n.a)(new Tn.b(Tn.a.generateNativeOrtbRequestFailed,e,"generating native ortb request failed"))}})(e,t)},{warn:_d}=st.a.tag("ortb-bid-adapter"),wd=(e,t)=>({agencyId:t.seat??void 0,advertiserId:e.ext?.advid,advertiserDomains:e.adomain??void 0,primaryCatId:e.cat?.[0]??void 0,secondaryCatIds:e.cat?.slice(1)??void 0}),Sd=(e,t,r,n,i)=>{n.impid.startsWith("b:")?((e,t,r,n,{assumeRequestSizeForEmptyResponseSize:i})=>{if(!n.crid)return _d("Skipped invalid bid with no creativeId provided",n);if(!n.adm&&!n.nurl)return _d("Skipped invalid banner with no creative markup or url",n);const a=(s=n.impid,md[s]);var s;const o=i?n.w??a?.size[0]:n.w,d=i?n.h??a?.size[1]:n.h;if(!o||!d)return _d("Skipped invalid bid with no size provided",n);e.push({requestId:n.impid.replace(/^b:/,""),cpm:n.price,width:o,height:d,creativeId:n.crid,dealId:n.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:n.exp??60,mediaType:bn,ad:n.adm??void 0,adUrl:n.nurl??void 0,meta:wd(n,r)})})(e,t,r,n,i):n.impid.startsWith("v:")?((e,t,r,n)=>{if(!n.crid)return _d("Skipped invalid bid with no creativeId provided",n);if(!n.nurl&&!n.adm)return _d("Skipped invalid video with no vast url or markup provided",n);const i=(a=n.impid,ud[a]);var a;const[s,o]=i?.size??[640,480];e.push({requestId:n.impid.replace(/^v:/,""),cpm:n.price,width:s,height:o,creativeId:n.crid,dealId:n.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:n.exp??60,meta:wd(n,r),mediaType:hn,vastXml:n.adm??void 0,vastUrl:n.nurl??void 0})})(e,t,r,n):n.impid.startsWith("n:")&&((e,t,r,n)=>{if(!n.crid)return _d("Skipped invalid bid with no creativeId provided",n);if(!n.adm)return _d("Skipped invalid native with no creative markup or url",n);const i=(e=>{try{const{adm:t,price:r}=e;if(!t)return;const n=mn(t,r);return JSON.parse(n).native}catch(t){return _d("failed to format native data",e,t)}})(n);if(!i)return _d("Skipped invalid native with no native data",n);e.push({requestId:n.impid.replace(/^n:/,""),cpm:n.price,width:1,height:1,creativeId:n.crid,dealId:n.dealid??void 0,currency:t.cur??"USD",netRevenue:!0,ttl:n.exp??60,mediaType:fn,meta:wd(n,r),native:{ortb:i}})})(e,t,r,n)},{warn:Rd,error:xd,debug:Cd}=st.a.tag("ttd-bid-adapter"),Ed={code:"ttdDirectPath",supportedMediaTypes:[bn,hn,fn],isBidRequestValid:e=>!!Ao(e.params)||(xd("Bid request parameters are invalid",e),!1),buildRequests(e,t){if(!e)return[];const r=u.b.getConfig("hubvisor")?.context;if(!r)return Rd("TTD Context unavailable, cannot build bid requests"),[];const n=ld(),i=pd(),a=Gi(e,(e=>e.bidderRequestId));return Object.entries(a).map((([e,a])=>{const s=vd({id:e,bidderRequest:t,context:r,buyeruid:or.tdid});n&&(s.bcat=n),i&&(s.badv=i),t.uspConsent&&s.regs?.ext&&(s.regs.ext.us_privacy=t.uspConsent),s.regs&&!0===u.b.readConfig("coppa")&&(s.regs.coppa=1);const o=a?.[0]?.userIdAsEids?.find((e=>"id5-sync.com"===e.source));o&&s.user&&(s.user.eids=[o]);for(const e of a??[])Td(s,e);return{method:"POST",url:"https://eur-bid-hubvisor.adsrvr.org/bid/bidder/hubvisor",data:s}}))},interpretResponse(e){if(!(0,ad.c)(e.body))return Cd("response body is not a bid response",e.body),[];const{assumeRequestSizeForEmptyResponseSize:t=!0}=u.b.getConfig("hubvisor"),r=u.b.getConfig("hubvisor").context,n=e.body,i=[];if(!n.seatbid)return i;for(const e of n.seatbid)if(e.bid)for(const a of e.bid)Sd(i,n,e,a,{context:r,assumeRequestSizeForEmptyResponseSize:t});return i}};(0,tt.b)(Ed),kt.a.add(It.a.ttdDirectPath,((e,{bid:t,placement:r,resolvedMediaTypes:n})=>{if(ra.a)return;const i=(0,Et.m)(r.position)?r.position?.banner:r.position,a=(0,Et.m)(r.position)?r.position?.video:r.position;i&&(t.params={...t.params,position:i}),a&&(t.params={...t.params,videoPosition:a});const s=[...t.params.deals??[],...r.bidRequest.deals??[]];window.ethereum&&(s.push({name:"ttd-c-1ae24aab33"}),(n.instream||n.outstream)&&s.push({name:"ttd-dp-alld-vid",allowedDisplayFormats:[wn.a.instream,wn.a.outstream]}),n.native&&s.push({name:"ttd-dp-alld-native",allowedDisplayFormats:[wn.a.native]}),n.skin?s.push({name:"ttd-dp-alld-sk",allowedDisplayFormats:[wn.a.banner]}):n.banner&&s.push({name:"ttd-dp-alld-classic",allowedDisplayFormats:[wn.a.banner]}));const o=jo(s??[]),d={...t.params,deals:s};if(n.banner||n.skin){const i=$o(n);No(e,r.placementId,i,[{bidder:t.bidder,params:{...d,video:void 0}}],{requestDealIds:o})}n.outstream&&(r.rendering?.outstream?.hbvFormat?Vo(e,r.placementId,n.outstream,[{bidder:t.bidder,params:d}],{...r.rendering?.outstream},{requestDealIds:o}):Vo(e,r.placementId,n.outstream,[{bidder:t.bidder,params:d}],{...r.rendering?.outstream,expand:Nn.b.whenVisible},{requestDealIds:o})),n.instream&&Po(e,r.placementId,n.instream,[{bidder:t.bidder,params:d}],{requestDealIds:o}),n.native&&Uo(e,r.placementId,[{bidder:t.bidder,params:{...d,video:void 0}}],n.native,{requestDealIds:o})})),kt.b.add(It.a.ttdDirectPath,21);var Ad=r(91);function kd(e,t){return Object.keys(e).forEach((r=>{var n,a;t[r]&&((0,i.P)(e[r])?t[r]=e[r](t[r]):t[r]=(n=e[r],a=t[r],"string"===n?a&&a.toString():"number"===n?Number(a):a),isNaN(t[r])&&delete t.key)})),t}const Fd="ix",Dd="roundel",Bd=[b.b,b.d,b.c],Md=[144,144],Od={JPY:1},Vd={PBJS:"p",IX:"x"},Pd={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9},Ud={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},qd={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","criteo.com":"","euid.eu":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},Nd=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],$d=["mimes","minduration","maxduration"],jd=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],zd="ixdiag",Ld=`${Fd}_features`;let Hd=!1;const Xd=(0,oe.b)({bidderCode:Fd}),Wd={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat"],featureToggles:{},isFeatureEnabled:function(e){return(0,a.a)(this.featureToggles,`features.${e}.activated`,!1)},getFeatureToggles:function(){if(Xd.localStorageIsEnabled()){const e=(0,i.ib)(Xd.getDataFromLocalStorage(Ld));(0,a.a)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){const t=e.body,r=new Date,n=(0,a.a)(t,"ext.features");n&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:n},Xd.localStorageIsEnabled()&&Xd.setDataInLocalStorage(Ld,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},Xd.localStorageIsEnabled()&&Xd.removeDataFromLocalStorage(Ld)}};let Gd=0,Yd="",Kd="",Jd=!1;function Zd(e){const t=Qd(e,b.d),r=(0,a.a)(e,"mediaTypes.video"),n=(0,a.a)(e,"params.video");if(ic(r,n).length)return{};t.video=n?(0,i.l)(e.params.video):{};let o=(0,a.a)(e,"ortb2Imp.ext.tid");o&&(0,s.a)(t,"ext.tid",o),function(e,t){if((0,a.a)(t,"mediaTypes.video.context")===Be.b){let r=(0,a.a)(t,"mediaTypes.video.renderer");if(r||(r=(0,a.a)(t,"renderer")),(0,a.a)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(r&&"object"==typeof r){if(void 0!==r.url){let t="";try{t=new URL(r.url).hostname}catch{return}t.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=r.url}}else e.displaymanager="ix"}}(t,e),pc(t,e);for(const e in r)-1===jd.indexOf(e)||t.video.hasOwnProperty(e)||(t.video[e]=r[e]);if(t.video.minduration>t.video.maxduration)return(0,i.X)(`IX Bid Adapter: video minduration [${t.video.minduration}] cannot be greater than video maxduration [${t.video.maxduration}]`,{bidder:Fd,code:Pd.VIDEO_DURATION_INVALID}),{};const d=n&&n.context||r&&r.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,i.R)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,i._)(`IX Bid Adapter: video.plcmt [${e.video.plcmt}] must be an integer between 1-4 inclusive`),delete e.video.plcmt)}(t),d&&!t.video.hasOwnProperty("placement")&&(d===Be.a?t.video.placement=1:d===Be.b?(0,a.a)(n,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,Jd=!0):(0,i._)(`IX Bid Adapter: Video context '${d}' is not supported`)),!t.video.w||!t.video.h){const r=ac((0,a.a)(t,"video.playerSize"))||ac((0,a.a)(e,"params.size"));if(!r)return(0,i._)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=r[0],t.video.h=r[1]}return ec(e,t,b.d),t}function Qd(e,t){const r={};if(r.id=e.bidId,wc()&&(0,a.a)(e,"params.externalId")&&(0,s.a)(r,"ext.externalID",e.params.externalId),(0,a.a)(e,`params.${t}.siteId`)&&!isNaN(Number(e.params[t].siteId)))switch(t){case b.b:(0,s.a)(r,"ext.siteID",e.params.banner.siteId.toString());break;case b.d:(0,s.a)(r,"ext.siteID",e.params.video.siteId.toString());break;case b.c:(0,s.a)(r,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&(0,s.a)(r,"ext.siteID",e.params.siteId.toString());return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(0,s.a)(r,"ext.sid",String(e.params.id)),r}function ec(e,t,r){let n=null,a=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,i.P)(e.getFloor)){let n="*",s="*";if(r&&(0,i.h)(Bd,r)){const{w:e,h:i}=t[r];n=r,s=[e,i]}try{a=e.getFloor({mediaType:n,size:s})}catch(e){(0,i._)("priceFloors module call getFloor failed, error : ",e)}}let o=!1;a?(t.bidfloor=a.floor,t.bidfloorcur=a.currency,(0,s.a)(t,"ext.fl",Vd.PBJS),o=!0):n&&(t.bidfloor=n.floor,t.bidfloorcur=n.currency,(0,s.a)(t,"ext.fl",Vd.IX),o=!0),o&&(r==b.b?((0,s.a)(t,"banner.ext.bidfloor",t.bidfloor),(0,s.a)(t,"banner.ext.fl",t.ext.fl)):r==b.d?((0,s.a)(t,"video.ext.bidfloor",t.bidfloor),(0,s.a)(t,"video.ext.fl",t.ext.fl)):((0,s.a)(t,"native.ext.bidfloor",t.bidfloor),(0,s.a)(t,"native.ext.fl",t.ext.fl)))}function tc(e,t,r){const n={},s=!(!(0,a.a)(e,"exp")||!(0,i.R)(e.exp)),o=(0,a.a)(e,"dealid")||(0,a.a)(e,"ext.dealid");Od.hasOwnProperty(t)?n.cpm=e.price/Od[t]:n.cpm=e.price/100,n.requestId=e.impid,o&&(n.dealId=o),n.netRevenue=!0,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2!=e.mtype||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(n.vastUrl=e.ext.vasturl):n.vastXml=e.adm;let d=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{d=JSON.parse(e.adm)}catch(e){(0,i._)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||2==e.mtype?(n.width=r.video.w,n.height=r.video.h,n.mediaType=b.d,n.mediaTypes=r.mediaTypes,n.ttl=s?e.exp:3600):d&&d.native?(n.native={ortb:d.native},n.width=e.w?e.w:1,n.height=e.h?e.h:1,n.mediaType=b.c,n.ttl=s?e.exp:3600):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=b.b,n.ttl=s?e.exp:300),n.meta={},n.meta.networkId=(0,a.a)(e,"ext.dspid"),n.meta.brandId=(0,a.a)(e,"ext.advbrandid"),n.meta.brandName=(0,a.a)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(n.meta.advertiserDomains=e.adomain),n}function rc(e){return Array.isArray(e)&&2===e.length&&(0,i.R)(e[0])&&(0,i.R)(e[1])}function nc(e=[],t=[]){if(rc(e))return e[0]===t[0]&&e[1]===t[1];for(let r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function ic(e,t){const r=[];e||(0,i._)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(let n of $d){const i=e&&e.hasOwnProperty(n),a=t&&t.hasOwnProperty(n);i||a||r.push(`IX Bid Adapter: ${n} is not included in either the adunit or params level`)}const n=e&&e.hasOwnProperty("protocol"),a=e&&e.hasOwnProperty("protocols"),s=t&&t.hasOwnProperty("protocol"),o=t&&t.hasOwnProperty("protocols");return n||a||s||o||r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function ac(e=[]){return rc(e)?e:!!rc(e[0])&&e[0]}function sc(e,t,r){if(e)return{...(0,p.b)(r,(t=>t.bidId===e)),...(0,p.b)(t,(t=>t.id===e))}}function oc(e,t,r){let n=function(e){let t=[],r={};if((0,i.L)(e))for(const n of e)qd.hasOwnProperty(n.source)&&(0,a.a)(n,"uids.0")&&(r[n.source]=!0,""!=qd[n.source]&&(n.uids[0].ext={rtiPartner:qd[n.source]}),delete n.uids[0].atype,t.push(n));return{toSend:t,seenSources:r}}((0,a.a)(e,"0.userIdAsEids")),o=n.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){let r=window.headertag.getIdentityInfo();if(r&&"object"==typeof r)for(const n in r)if(r.hasOwnProperty(n)){let i=r[n];!i.responsePending&&i.data&&"object"==typeof i.data&&Object.keys(i.data).length&&!t.seenSources[i.data.source]&&e.push(i.data)}}(o,n),t&&t.bidderCode===Dd&&!n.seenSources["liveramp.com"])return[];const d=[];let c=function(e){const t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=Xd.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);c=function(e,t){return t.length>0&&(e.ext.features={},t.forEach((t=>{e.ext.features[t]={activated:Wd.isFeatureEnabled(t)}}))),e}(c,Wd.REQUESTED_FEATURE_TOGGLES);let l=function(e,t){var r=e.map((e=>e.adUnitCode)).filter(((e,t,r)=>r.indexOf(e)===t));let n={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.30.0",userIds:mc(e[0]),url:window.location.href.split("?")[0],vpd:Jd,ae:t};for(let t of r){let r=e.filter((e=>e.adUnitCode===t))[0];(0,a.a)(r,"mediaTypes")&&(Object.keys(r.mediaTypes).length>1&&n.mfu++,(0,a.a)(r,"mediaTypes.native")&&n.nu++,(0,a.a)(r,"mediaTypes.banner")&&n.bu++,"outstream"===(0,a.a)(r,"mediaTypes.video.context")&&(n.ou++,_c(r)&&(n.ren=!0)),"instream"===(0,a.a)(r,"mediaTypes.video.context")&&n.iu++,n.allu++)}return n}(e,(0,a.a)(t,"fledgeEnabled"));for(var p in l)c.ext.ixdiag[p]=l[p];c=function(e,t,r,n,s){const o=(0,a.a)(t,"timeout");o&&(e.ext.ixdiag.tmax=o),u.b.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=u.b.getConfig("userSync").syncsPerBidder);const d=function(){if(!Xd.localStorageIsEnabled())return;const e={};let t;try{t=JSON.parse(Xd.getDataFromLocalStorage(zd)||"{}")}catch(e){return(0,i.X)("ix can not read ixdiag from localStorage."),null}return Object.keys(t).forEach((r=>{Object.keys(t[r]).forEach((n=>{"number"==typeof t[r][n]&&(e[n]=e[n]?e[n]+t[r][n]:t[r][n])}))})),e}();return(0,i.O)(d)||(e.ext.ixdiag.err=d),e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:t?.ortb2?.source?.tid},n[0].schain&&(e.source.ext={},e.source.ext.schain=n[0].schain),s.length>0&&(e.user={},e.user.eids=s),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(c,t,r,e,o),c=function(e,t){if(t){t.gdprConsent&&(Yd=t.gdprConsent,Yd.hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:Yd.gdprApplies?1:0}}),Yd.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:Yd.consentString||""},Yd.hasOwnProperty("addtlConsent")&&Yd.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:Yd.addtlConsent}))),t.uspConsent&&((0,s.a)(e,"regs.ext.us_privacy",t.uspConsent),Kd=t.uspConsent);const r=(0,a.a)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&((0,s.a)(e,"regs.gpp",t.gppConsent.gppString),(0,s.a)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return u.b.getConfig("coppa")&&(0,s.a)(e,"regs.coppa",1),e}(c,t),e[0].params.siteId&&(Gd=e[0].params.siteId);const m=Object.keys(r);let b=!1;for(let n=0;n<m.length&&!(d.length>=4);n++){c=dc(r,m,c,n);const s=(0,a.a)(t,"ortb2")||{},o={...s.site||s.context};o.page=cc(t);const l={...s.user};(0,i.O)(s)||b||(c=lc(t,c,s,o,l),c.site=(0,i.ab)({},c.site,o),c.user=(0,i.ab)({},c.user,l),b=!0),c=uc(r,c,m,n);const p=n===m.length-1;if(c=Ac(c),c=xc(c),c=Cc(c),p){let t="https://htlb.casalemedia.com/openrtb/pbjs?";0!==Gd&&(t+=`s=${Gd}`),wc()&&(t+=0!==Gd?"&":"",t+=`p=${u.b.getConfig("exchangeId")}`),d.push({method:"POST",url:t,data:(0,i.l)(c),option:{contentType:"text/plain"},validBidRequests:e}),c.imp=[],b=!1}}return d}function dc(e,t,r,n){const o=e[t[n]],{missingImps:d=[],ixImps:c=[]}=o,l={ixImps:c,missingBannerImpressions:d},p=Object.keys(l).map((e=>l[e])).filter((e=>Array.isArray(e))).reduce(((e,t)=>e.concat(...t)),[]),u=e[t[n]].gpid,m=e[t[n]].dfp_ad_unit_code,f=e[t[n]].tid,h=e[t[n]].sid,g=e[t[n]].ae,v=p.filter((e=>b.b in e)),y=p.filter((e=>!(b.b in e)));if(v.length>0){const o=v.reduce(((e,t)=>(e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e)),{});for(const d in o){const c=o[d],{id:l,banner:{topframe:p}}=c[0];let b=(0,a.a)(c[0],"ext.externalID");const v={id:l,banner:{topframe:p,format:c.map((({banner:{w:e,h:t},ext:r})=>({w:e,h:t,ext:r})))}};for(let e=0;e<v.banner.format.length;e++)null!=v.banner.format[e].ext&&(null!=v.banner.format[e].ext.sid&&delete v.banner.format[e].ext.sid,null!=v.banner.format[e].ext.externalID&&delete v.banner.format[e].ext.externalID),"bidfloor"in c[e]&&(v.banner.format[e].ext.bidfloor=c[e].bidfloor),"{}"===JSON.stringify(v.banner.format[e].ext)&&delete v.banner.format[e].ext;const y=e[t[n]].pos;(0,i.R)(y)&&(v.banner.pos=y),(m||u||f||h||g||b)&&(v.ext={},v.ext.dfp_ad_unit_code=m,v.ext.gpid=u,v.ext.tid=f,v.ext.sid=h,v.ext.externalID=b,1==g&&(v.ext.ae=1)),"bidfloor"in c[0]&&(v.bidfloor=c[0].bidfloor),"bidfloorcur"in c[0]&&(v.bidfloorcur=c[0].bidfloorcur);const I=e[t[n]].adUnitFPD;I&&(0,s.a)(v,"ext.data",I),r.imp.push(v)}}return y.length>0&&y.forEach((e=>{if(u&&(0,s.a)(e,"ext.gpid",u),r.imp.length>0){let t=!1;r.imp.forEach((n=>{e.id===n.id&&b.d in e?(n.video=e.video,n.video.ext=Object.assign({},e.video.ext,e.ext),(0,a.a)(n,"video.ext.bidfloor",!1)&&(0,a.a)(n,"bidfloor",!1)&&n.video.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.video.ext.bidfloor),!(0,a.a)(n,"ext.siteID",!1)&&(0,a.a)(e,"video.ext.siteID")&&((0,s.a)(n,"ext.siteID",e.video.ext.siteID),(0,s.a)(r,"ext.ixdiag.usid",!0)),t=!0):e.id===n.id&&b.c in e&&(n.native=e.native,n.native.ext=Object.assign({},e.native.ext,e.ext),(0,a.a)(n,"native.ext.bidfloor",!1)&&(0,a.a)(n,"bidfloor",!1)&&n.native.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.native.ext.bidfloor),!(0,a.a)(n,"ext.siteID",!1)&&(0,a.a)(e,"native.ext.siteID",!1)&&((0,s.a)(n,"ext.siteID",e.native.ext.siteID),(0,s.a)(r,"ext.ixdiag.usid",!0)),t=!0)})),t||r.imp.push(e)}else r.imp.push(e)})),r}function cc(e){const t=e&&e.bidderCode||"ix",r=u.b.getConfig(t);let n="";return n=(0,a.a)(e,"ortb2.site.page")?e.ortb2.site.page:(0,a.a)(e,"refererInfo.page"),r&&"object"==typeof r.firstPartyData?function(e,t,r){let n;try{n=new URL(t)}catch(r){(0,i._)(`IX Bid Adapter: Invalid URL set in ortb2.site.page: ${t}. Using referer URL instead.`),n=new URL((0,a.a)(e,"refererInfo.page"))}const s=new URLSearchParams(n.search);for(const[e,t]of Object.entries(r))s.has(e)||s.append(e,t);return n.search=s.toString(),n.toString()}(e,n,r.firstPartyData):n}function lc(e,t,r,n,a){if(t.ext.ixdiag.fpd=!0,Object.keys(n).forEach((e=>{-1===Ud.SITE.indexOf(e)&&delete n[e]})),Object.keys(a).forEach((e=>{-1===Ud.USER.indexOf(e)&&delete a[e]})),r.device){const e={...r.device.sua};(0,i.O)(e)||(0,s.a)(t,"device.sua",e)}return r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&(0,s.a)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&(0,s.a)(t,"regs.gpp_sid",r.regs.gpp_sid)),t}function pc(e,t){const r=(0,a.a)(t,"ortb2Imp.ext.data");r&&(0,s.a)(e,"ext.data",r)}function uc(e,t,r,n){const i=e[r[n]].pbadslot,a=e[r[n]].tagId,s=e[r[n]].adUnitCode,o=e[r[n]].divId;return(i||a||s||o)&&(t.ext.ixdiag.pbadslot=i,t.ext.ixdiag.tagid=a,t.ext.ixdiag.adunitcode=s,t.ext.ixdiag.divId=o),t}function mc(e){const t=e.userId||{};return Nd.filter((e=>t[e]))}function bc(e,t){if(t)for(let r=0;r<e.length;r++){const n=e[r];if(t[0]===n[0]&&t[1]===n[1]){e.splice(r,1);break}}}function fc(e,t){const r=function(e){const t=Qd(e,b.c),r=e.nativeOrtbRequest;r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"};let n=(0,a.a)(e,"ortb2Imp.ext.tid");return n&&(0,s.a)(t,"ext.tid",n),pc(t,e),ec(e,t,b.c),t}(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,a.a)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,a.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,a.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,a.a)(e,"params.tagId");const n=e.adUnitCode,i=document.getElementById(n)?n:(0,Ad.a)(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=i}}function hc(e,t){const r=Zd(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,a.a)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,a.a)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,a.a)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,a.a)(e,"params.tagId");const n=e.adUnitCode,i=document.getElementById(n)?n:(0,Ad.a)(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=i}}function gc(e,t,r,n){let s=function(e){const t=Qd(e,b.b);t.banner={},t.adunitCode=e.adUnitCode;const r=(0,a.a)(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1]),t.banner.topframe=(0,i.E)()?0:1,ec(e,t,b.b),t}(e);const o=nc((0,a.a)(e,"mediaTypes.banner.sizes"),(0,a.a)(e,"params.size"));if(r.hasOwnProperty(e.adUnitCode)||(r[e.adUnitCode]={}),r[e.adUnitCode].gpid=(0,a.a)(e,"ortb2Imp.ext.gpid"),r[e.adUnitCode].dfp_ad_unit_code=(0,a.a)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.adUnitCode].tid=(0,a.a)(e,"ortb2Imp.ext.tid"),r[e.adUnitCode].pbadslot=(0,a.a)(e,"ortb2Imp.ext.data.pbadslot"),r[e.adUnitCode].tagId=(0,a.a)(e,"params.tagId"),r[e.adUnitCode].pos=(0,a.a)(e,"mediaTypes.banner.pos"),(0,a.a)(n,"fledgeEnabled")){const t=(0,a.a)(e,"ortb2Imp.ext.ae");t?(0,i.R)(t)?r[e.adUnitCode].ae=t:(0,i._)("error setting auction environment flag - must be an integer"):1==(0,a.a)(n,"defaultForSlots")&&(r[e.adUnitCode].ae=1)}const d=(0,a.a)(e,"ortb2Imp.ext.data");d&&(r[e.adUnitCode].adUnitFPD=d);const c=(0,a.a)(e,"params.id");!c||"string"!=typeof c&&"number"!=typeof c||(r[e.adUnitCode].sid=String(c));const l=e.adUnitCode,p=document.getElementById(l)?l:(0,Ad.a)(l).divId;r[e.adUnitCode].adUnitCode=l,r[e.adUnitCode].divId=p,o&&(r[e.adUnitCode].hasOwnProperty("ixImps")||(r[e.adUnitCode].ixImps=[]),r[e.adUnitCode].ixImps.push(s)),function(e,t,r){if(t.hasOwnProperty(e.adUnitCode)){let r=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(r=t[e.adUnitCode].missingSizes),bc(r,e.params.size),t[e.adUnitCode].missingSizes=r}else if((0,a.a)(e,"mediaTypes.banner.sizes")){let n=(0,i.l)(e.mediaTypes.banner.sizes);bc(n,e.params.size);let a={missingSizes:n,impression:r};t[e.adUnitCode]=a}}(e,t,s)}function vc(e,t,r){const n=(0,i.l)(t);return n.banner.w=r[0],n.banner.h=r[1],ec(e,n,b.b),n}function yc(e){"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Fd&&function(e){if(!Xd.localStorageIsEnabled())return;let t;try{t=JSON.parse(Xd.getDataFromLocalStorage(zd)||"{}")}catch(e){(0,i._)("ix can not read ixdiag from localStorage.")}const r=new Date;if(Object.keys(t).map((e=>{const n=new Date(e);n.setDate(n.getDate()+7)-r<0&&delete t[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===Fd){const n=r.toISOString().slice(0,10),i=e.arguments[1].code;i&&(t[n]=t[n]||{},Number(t[n][i])||(t[n][i]=0),t[n][i]++)}Xd.setDataInLocalStorage(zd,JSON.stringify(t))}(e)}function Ic(e){e.renderer.push((function(){const t=e.adUnitCode,r=document.getElementById(t)?t:(0,Ad.a)(t).divId;r?window.createIXPlayer(r,e):(0,i._)(`IX Bid Adapter: adUnitCode: ${r} not found on page.`)}))}function Tc(e,t){const r=m.a.install({id:e,url:t,loaded:!1});try{r.setRender(Ic)}catch(e){return(0,i._)("Prebid Error calling setRender on renderer",e),null}return t?r:((0,i._)("Outstream renderer URL not found"),null)}function _c(e){if("outstream"!==(0,a.a)(e,"mediaTypes.video.context"))return!1;let t=(0,a.a)(e,"mediaTypes.video.renderer");return t||(t=(0,a.a)(e,"renderer")),!("object"==typeof t&&t.url&&t.render)||t.backupOnly}function wc(){let e=u.b.getConfig("exchangeId");return!("number"!=typeof e||!isFinite(e))||!("string"!=typeof e||""===e.trim()||!isFinite(Number(e)))}const Sc={code:Fd,gvlid:10,aliases:[{code:Dd,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:Bd,isBidRequestValid:function(e){Hd||(o.on(c.EVENTS.AUCTION_DEBUG,yc),o.on(c.EVENTS.AD_RENDER_FAILED,yc),Hd=!0);const t=(0,a.a)(e,"params.video"),r=(0,a.a)(e,"params.size"),n=(0,a.a)(e,"mediaTypes.banner.sizes"),s=(0,a.a)(e,"mediaTypes.video"),d=(0,a.a)(e,"mediaTypes.video.playerSize"),l=e.params.hasOwnProperty("bidFloor"),p=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,i.h)(Bd,e.mediaType))return(0,i._)("IX Bid Adapter: media type is not supported."),!1;if((0,a.a)(e,"mediaTypes.banner")&&!n)return!1;if(r){const t=ac(r);if(!t)return(0,i.X)("IX Bid Adapter: size has invalid format.",{bidder:Fd,code:Pd.BID_SIZE_INVALID_FORMAT}),!1;if(!nc(e.sizes,t)&&!nc(d,t)&&!nc(n,t))return(0,i.X)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:Fd,code:Pd.BID_SIZE_NOT_INCLUDED}),!1}if(!wc()&&null==e.params.siteId)return(0,i.X)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,i.X)("IX Bid Adapter: siteId must be string or number type.",{bidder:Fd,code:Pd.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,i.X)("IX Bid Adapter: siteId must valid value",{bidder:Fd,code:Pd.SITE_ID_INVALID_VALUE}),!1}if((l||p)&&!(l&&p&&function(e,t){return Boolean("number"==typeof e&&"string"==typeof t&&t.match(/^[A-Z]{3}$/))}(e.params.bidFloor,e.params.bidFloorCur)))return(0,i.X)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:Fd,code:Pd.BID_FLOOR_INVALID_FORMAT}),!1;if(s&&t){const r=Zd(e).video,n=ic(s,t);if((0,a.a)(e,"mediaTypes.video.context")===Be.b&&_c(e)&&r){const e=[(0,a.a)(r,"w"),(0,a.a)(r,"h")];if(!(e[0]>=Md[0]&&e[1]>=Md[1]))return(0,i.X)(`IX Bid Adapter: ${e} is an invalid size for IX outstream renderer`),!1}if(n.length)return n.forEach((e=>{(0,i.X)(e,{bidder:Fd,code:Pd.PROPERTY_NOT_INCLUDED})})),!1}return function(e){return void 0===(0,a.a)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},resetSiteID:function(){Gd=0},buildRequests:function(e,t){const r=[],n={},s={},o={},d={};Wd.getFeatureToggles(),e.forEach((e=>{const r=Object.keys((0,a.a)(e,"mediaTypes",{}));for(const a in r)switch(r[a]){case b.b:gc(e,d,n,t);break;case b.d:hc(e,s);break;case b.c:fc(e,o);break;default:(0,i._)(`IX Bid Adapter: ad unit mediaTypes ${a} is not supported`)}}));for(let t in d)if(d.hasOwnProperty(t)){let r=d[t].missingSizes;n.hasOwnProperty(t)||(n[t]={}),n[t].hasOwnProperty("missingImps")||(n[t].missingImps=[],n[t].missingCount=0);let i=d[t].impression;for(let a=0;a<r.length;a++){let s=vc(e[0],i,r[a]);n[t].missingImps.push(s),n[t].missingCount++}}let c=[];return Object.keys(n).length>0&&c.push(n),Object.keys(s).length>0&&c.push(s),Object.keys(o).length>0&&c.push(o),Wd.isFeatureEnabled("pbjs_enable_multiformat")?r.push(...oc(e,t,function(e){const t={};return e.forEach((e=>{Object.keys(e).forEach((r=>{Object.keys(t).includes(r)?t[r].hasOwnProperty("ixImps")&&e[r].hasOwnProperty("ixImps")?t[r].ixImps=[...t[r].ixImps,...e[r].ixImps]:t[r].hasOwnProperty("missingImps")&&e[r].hasOwnProperty("missingImps")?t[r].missingImps=[...t[r].missingImps,...e[r].missingImps]:e[r].hasOwnProperty("ixImps")?t[r].ixImps=e[r].ixImps:e[r].hasOwnProperty("missingImps")&&(t[r].missingImps=e[r].missingImps):t[r]=e[r]}))})),t}(c))):(Object.keys(n).length>0&&r.push(...oc(e,t,n)),Object.keys(s).length>0&&r.push(...oc(e,t,s)),Object.keys(o).length>0&&r.push(...oc(e,t,o))),r},interpretResponse:function(e,t){const r=[];let n=null,s=(0,a.a)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(Wd.setFeatureToggles(e),!e.hasOwnProperty("body"))return r;const o=e.body,d=o.seatbid||[];for(let e=0;e<d.length;e++){if(!d[e].hasOwnProperty("bid"))continue;const s=d[e].bid,c=t.data;for(let e=0;e<s.length;e++){const i=sc(s[e].impid,c.imp,t.validBidRequests);if(n=tc(s[e],o.cur,i),n.mediaType===b.d&&_c(i)){const t=(0,a.a)(o,"ext.videoplayerurl");if(n.renderer=Tc(s[e].bidId,t),!n.renderer)continue}r.push(n)}if((0,a.a)(c,"ext.ixdiag.err")&&Xd.localStorageIsEnabled())try{Xd.removeDataFromLocalStorage(zd)}catch(e){(0,i.X)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(s)&&s.length>0))return r;s=s.filter((e=>!!function(e){return"object"==typeof e&&null!==e}(e)||((0,i._)("Malformed auction config detected:",e),!1)));try{return{bids:r,fledgeAuctionConfigs:s}}catch(e){return(0,i._)("Error attaching AuctionConfigs",e),r}},transformBidParams:function(e){return kd({siteID:"number"},e)},getUserSyncs:function(e,t){const r=[];let n=null;if(t.length>0&&(n=(0,a.a)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==n&&0==n)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{let e=null;u.b.getConfig("userSync")&&(e=u.b.getConfig("userSync").syncsPerBidder),0===e&&(e=n),e=n&&(0===e||e)?n>e?e:n:1;for(let t=0;t<e;t++)r.push({type:"image",url:Rc(e,t)})}return r}};function Rc(e,t){let r="",n="0";return Yd&&Yd.hasOwnProperty("gdprApplies")&&(n=Yd.gdprApplies?"1":"0"),Yd&&Yd.hasOwnProperty("consentString")&&(r=Yd.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==Gd?"&site_id="+Gd.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+n+"&gdpr_consent="+r+"&us_privacy="+(Kd||"")}function xc(e){return e.imp.forEach(((t,r)=>{const n=t.ext;if(null==n)return e;Ec(t)<2||Object.keys(n).forEach((i=>{if(b.b in t){const a=t.banner.ext;if(void 0!==a&&void 0!==a[i]&&a[i]==n[i]&&delete e.imp[r].banner.ext[i],void 0!==t.banner.format)for(let a=0;a<t.banner.format.length;a++)null!=t.banner.format[a].ext&&null!=t.banner.format[a].ext[i]&&t.banner.format[a].ext[i]==n[i]&&delete e.imp[r].banner.format[a].ext[i]}if(b.d in t){const a=t.video.ext;void 0!==a&&void 0!==a[i]&&a[i]==n[i]&&delete e.imp[r].video.ext[i]}if(b.c in t){const a=t.native.ext;void 0!==a&&void 0!==a[i]&&a[i]==n[i]&&delete e.imp[r].native.ext[i]}}))})),e}function Cc(e){return e.imp.forEach(((t,r)=>{if(null==t.ext)return e;if(!(Ec(t)<2)){if(b.b in t){const n=t.banner.ext;if(void 0!==n&&void 0!==n.siteID&&delete e.imp[r].banner.ext.siteID,void 0!==t.banner.format)for(let n=0;n<t.banner.format.length;n++)void 0!==t.banner.format[n].ext&&void 0!==t.banner.format[n].ext.siteID&&((0,s.a)(e.imp[r],"ext.siteID",t.banner.format[n].ext.siteID),(0,s.a)(e,"ext.ixdiag.usid",!0),delete e.imp[r].banner.format[n].ext.siteID)}if(b.d in t){const n=t.video.ext;void 0!==n&&void 0!==n.siteID&&delete e.imp[r].video.ext.siteID}if(b.c in t){const n=t.native.ext;void 0!==n&&void 0!==n.siteID&&delete e.imp[r].native.ext.siteID}}})),e}function Ec(e){let t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function Ac(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,tt.b)(Sc);const kc=(e,t,r)=>{const[n,i]=r.playerSize;return{...t,...r.openRtbParams,protocols:[Fo.a.vast20,Fo.a.vast30,Fo.a.vast20Wrapper,Fo.a.vast30Wrapper],api:[ko.a.vpaid10,ko.a.vpaid20,ko.a.mraid1,ko.a.mraid2,ko.a.omid1],...e.params.video,w:n,h:i}},Fc=[[1800,1e3],[970,250],[970,90],[1e3,90],[300,250],[300,600],[250,250],[200,200],[300,300],[728,90],[320,50],[300,50],[320,100],[300,100],[320,250],[320,480],[640,960],[120,600],[160,600]];function Dc(e){return!e?.gdprApplies||!0===(0,a.a)(e,"vendorData.purpose.consents.1")}kt.a.add(It.a.IndexExchange,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(n.banner||n.skin){const i=(e=>e.filter((([e,t])=>{for(const[r,n]of Fc)if(e===r&&t===n)return!0;return!1})))($o(n));i.length>0&&No(e,t.placementId,i,[{bidder:r.bidder,params:{...r.params,video:void 0}}])}if(n.outstream){const i=((e,t)=>kc(e,Do,t))(r,n.outstream),a={...r.params,video:i};Vo(e,t.placementId,n.outstream,[{bidder:r.bidder,params:a}],t.rendering?.outstream)}if(n.instream){const i=((e,t)=>kc(e,Bo,t))(r,n.instream),a=[{bidder:r.bidder,params:{...r.params,size:n.instream.playerSize,video:i}}],{api:s,linearity:o,mimes:d,maxduration:c,minduration:l,protocols:p,startdelay:u}=i,m={...n.instream,openRtbParams:{...n.instream.openRtbParams,api:s,linearity:o,mimes:d,maxduration:c,minduration:l,protocols:p,startdelay:u}};Po(e,t.placementId,m,a)}n.native&&Uo(e,t.placementId,[{bidder:r.bidder,params:r.params}],n.native)})),kt.b.add(It.a.IndexExchange,Sc.gvlid);const Bc={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"},Mc=["user.keywords"].concat(ve.flatMap((e=>["keywords","content.keywords"].map((t=>`${e}.${t}`))))),Oc={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},Vc=["user.data"].concat(ve.map((e=>`${e}.content.data`)));function Pc(e,t,r){return null==t?r:(0,i.V)(t)?t:(0,i.S)(t)?t.toString():void(0,i._)("Unsuported type for param: "+e+" required type: String")}function Uc(e,t="keywords"){const r=[];return(0,i.a)(e,((e,n)=>{if((0,i.L)(e)){let r=[];(0,i.a)(e,(e=>{((e=Pc(t+"."+n,e))||""===e)&&r.push(e)})),e=r}else{if(e=Pc(t+"."+n,e),!(0,i.V)(e))return;e=[e]}e=e.filter((e=>""!==e));const a={key:n};e.length>0&&(a.value=e),r.push(a)})),r}function qc(e){const t={};return e.forEach((e=>{if(-1!==e.indexOf("=")){let r=e.split("="),n=r[0],i=r[1];t.hasOwnProperty(n)?t[n].push(i):t[n]=[i]}else t.hasOwnProperty(e)||(t[e]=[])})),t}function Nc(...e){return Uc((0,i.ab)(...e.map((e=>Object.fromEntries(Object.entries(e||{}).map((([e,t])=>[e,(0,i.S)(t)||(0,i.V)(t)?[t]:t])))))))}function $c(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function jc(e,t){let r=[];for(let n=0;n<Math.ceil(e.length/t);n++){let i=n*t,a=i+t;r.push(e.slice(i,a))}return r}const zc="appnexus",Lc=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],Hc=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay"],Xc=["age","externalUid","external_uid","segments","gender","dnt","language"],Wc=["geo","device_id"],Gc=["enabled","dongle","member_id","debug_timeout"],Yc={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},Kc={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Jc={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Zc=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Qc=(0,oe.b)({bidderCode:zc}),el={code:zc,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32},{code:"adzymic",gvlid:32}],supportedMediaTypes:[b.b,b.d,b.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){const r=(e=(0,d.b)(e)).map(tl),n=(0,p.b)(e,nl);let s={};!0===u.b.getConfig("coppa")&&(s={coppa:!0}),n&&Object.keys(n.params.user).filter((e=>(0,p.c)(Xc,e))).forEach((e=>{let t=$c(e);if("segments"===e&&(0,i.L)(n.params.user[e])){let r=[];n.params.user[e].forEach((e=>{(0,i.S)(e)?r.push({id:e}):(0,i.T)(e)&&r.push(e)})),s[t]=r}else"segments"!==e&&(s[t]=n.params.user[e])}));const o=(0,p.b)(e,al);let c;o&&o.params&&o.params.app&&(c={},Object.keys(o.params.app).filter((e=>(0,p.c)(Wc,e))).forEach((e=>c[e]=o.params.app[e])));const l=(0,p.b)(e,sl);let m;l&&l.params&&o.params.app&&o.params.app.id&&(m={appid:l.params.app.id});let b={},f={};const h=Qc.getCookie("apn_prebid_debug")||null;if(h)try{b=JSON.parse(h)}catch(e){(0,i.X)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(Yc).forEach((e=>{let t=(0,i.v)(e);(0,i.V)(t)&&""!==t&&(b[Yc[e]]=t,b.enabled=!0)})),b=kd({member_id:"number",debug_timeout:"number"},b);const t=(0,p.b)(e,ol);t&&t.debug&&(b=t.debug)}b&&b.enabled&&Object.keys(b).filter((e=>(0,p.c)(Gc,e))).forEach((e=>{f[e]=b[e]}));const g=(0,p.b)(e,il),v=g?parseInt(g.params.member,10):0,y=e[0].schain,I=(0,p.b)(e,cl),T={tags:[...r],user:s,sdk:{source:"pbjs",version:"8.30.0"},schain:y};I&&(T.iab_support={omidpn:"Appnexus",omidpv:"8.30.0"}),v>0&&(T.member_id=v),o&&(T.device=c),l&&(T.app=m);let _=function(e,...t){return Nc(function(e){return qc(function(e,...t){return function(...e){const t=new Set;return e.filter((e=>e)).flatMap((e=>Array.isArray(e)?e:e.split(","))).map((e=>e.replace(/^\s*/,"").replace(/\s*$/,""))).filter((e=>e)).forEach((e=>t.add(e))),Array.from(t.keys())}(...Mc.map((t=>(0,a.a)(e,t))),...t)}(e))}(e),function(e){let t={};return Vc.forEach((r=>{((0,a.a)(e,r)||[]).forEach((e=>{const r=Oc[(0,a.a)(e,"ext.segtax")];r&&e.segment.forEach((e=>{t[r]?t[r].push(e.id):t[r]=[e.id]}))}))})),t}(e),...t)}((0,i.l)(t&&t.ortb2),(0,i.l)(u.b.getConfig("appnexusAuctionKeywords"))||{});if(_.length>0&&(T.keywords=_),u.b.getConfig("adpod.brandCategoryExclusion")&&(T.brand_category_uniqueness=!0),f.enabled&&(T.debug=f,(0,i.Y)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(f,null,4))),t&&t.gdprConsent&&(T.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,r=e.substring(e.indexOf("~")+1);T.gdpr_consent.addtl_consent=r.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(T.us_privacy=t.uspConsent),t?.gppConsent?T.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:t?.ortb2?.regs?.gpp&&(T.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")},r=t.refererInfo.canonicalUrl;(0,i.V)(r)&&""!==r&&(e.rd_can=r),T.referrer_detection=e}if((0,p.b)(e,dl)&&e.filter(dl).forEach((e=>{const t=function(e,t){const{durationRangeSec:r,requireExactDuration:n}=t.mediaTypes.video,a=function(e){const{adPodDurationSec:t,durationRangeSec:r,requireExactDuration:n}=e,i=Math.min(...r),a=Math.floor(t/i);return n?Math.max(a,r.length):a}(t.mediaTypes.video),s=Math.max(...r);let o=function(e,t){let r=[];for(let n=0;n<t;n++){let t=(0,i.T)(e)?(0,i.l)(e):e;r.push(t)}return r}(...e.filter((e=>e.uuid===t.bidId)),a);if(n){const e=jc(o,Math.ceil(a/r.length));r.forEach(((t,r)=>{e[r].map((e=>{ll(e,"minduration",t),ll(e,"maxduration",t)}))}))}else o.map((e=>ll(e,"maxduration",s)));return o}(r,e),n=T.tags.filter((t=>t.uuid!==e.bidId));T.tags=[...n,...t]})),e[0].userId){let t=[];e[0].userIdAsEids.forEach((e=>{!e||!e.uids||e.uids.length<1||e.uids.forEach((r=>{let n={source:e.source,id:r.id};"adserver.org"==e.source?n.rti_partner="TDID":"uidapi.com"==e.source&&(n.rti_partner="UID2"),t.push(n)}))})),t.length&&(T.eids=t)}r[0].publisher_id&&(T.publisher_id=r[0].publisher_id);const w=function(e,t){let r=[],n={withCredentials:!0},a="https://ib.adnxs.com/ut/v3/prebid";if(Dc(t?.gdprConsent)||(a="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==(0,i.v)("apn_test").toUpperCase()&&!0!==u.b.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1}),e.tags.length>15){const s=(0,i.l)(e);jc(e.tags,15).forEach((e=>{s.tags=e;const i=JSON.stringify(s);r.push({method:"POST",url:a,data:i,bidderRequest:t,options:n})}))}else{const i=JSON.stringify(e);r={method:"POST",url:a,data:i,bidderRequest:t,options:n}}return r}(T,t);return w},interpretResponse:function(e,{bidderRequest:t}){e=e.body;const r=[];if(!e||e.error){let n=`in response for ${t.bidderCode} adapter`;return e&&e.error&&(n+=`: ${e.error}`),(0,i.X)(n),r}if(e.tags&&e.tags.forEach((e=>{const n=(s=e)&&s.ads&&s.ads.length&&(0,p.b)(s.ads,(e=>e.rtb));var s;if(n&&(!0===F.a.get(t.bidderCode,"allowZeroCpmBids")?n.cpm>=0:n.cpm>0)&&(0,p.c)(this.supportedMediaTypes,n.ad_type)){const s=function(e,t,r){const n=(0,i.r)(e.uuid,[r]),s=(0,i.x)(),o={adId:s,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(o.meta=Object.assign({},o.meta,{advertiserDomains:[t.adomain]})),t.advertiser_id&&(o.meta=Object.assign({},o.meta,{advertiserId:t.advertiser_id})),t.buyer_member_id&&(o.meta=Object.assign({},o.meta,{dchain:function(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}(t)})),t.brand_id&&(o.meta=Object.assign({},o.meta,{brandId:t.brand_id})),t.rtb.video)switch(Object.assign(o,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),(0,a.a)(n,"mediaTypes.video.context")){case b.a:const n=Bc[t.brand_category_id]?Bc[t.brand_category_id]:null;o.meta=Object.assign({},o.meta,{primaryCatId:n});const s=t.deal_priority;o.video={context:b.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:s},o.vastUrl=t.rtb.video.asset_url;break;case Be.b:if(o.adResponse=e,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=t.rtb.video.content,t.renderer_url){const n=(0,p.b)(r.bids,(t=>t.bidId===e.uuid));let s=(0,a.a)(n,"mediaTypes.video.renderer.options");s||(s=(0,a.a)(n,"renderer.options")),o.renderer=function(e,t,r={}){const n=m.a.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{n.setRender(pl)}catch(e){(0,i._)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:()=>(0,i.Z)("AppNexus outstream video impression event"),loaded:()=>(0,i.Z)("AppNexus outstream video loaded event"),ended:()=>{(0,i.Z)("AppNexus outstream renderer video event"),document.querySelector(`#${e}`).style.display="none"}}),n}(o.adUnitCode,t,s)}break;case Be.a:o.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[b.c]){const e=t.rtb[b.c];let r;if(function(e){if(!e||""===e)return!1;let t=e.match(Zc),r=null!=t&&t.length>=1,n=e.match("trk.js"),i=null!=n&&n.length>=1;return e.startsWith("<script")&&i&&r}(t.viewability.config)){let e="pbjs_adid="+s+";pbjs_auc="+n.adUnitCode;r=t.viewability.config.replace("dom_id=%native_dom_id%",e)}let a=e.javascript_trackers;null==a?a=r:(0,i.V)(a)?a=[a,r]:a.push(r),o[b.c]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:a},e.main_img&&(o.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(o.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(o,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const r=t.rtb.trackers[0].impression_urls[e],n=(0,i.i)(r);o.ad+=n}}catch(e){(0,i.X)("Error appending tracking pixel",e)}}return o}(e,n,t);s.mediaType=function(e){const t=e.ad_type;return t===b.d?b.d:t===b.c?b.c:b.b}(n),r.push(s)}})),e.debug&&e.debug.debug_info){let t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,i.Z)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,i.Z)(t)}return r},getUserSyncs:function(e,t,r,n,i){if(e.iframeEnabled&&Dc(r)&&function(e){return!e||!Array.isArray(e.applicableSections)||e.applicableSections.every((e=>"number"==typeof e&&e<=5))}(i))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,r){let n=Uc;if(!0===t){let e=null,t=u.b.getConfig("s2sConfig");(0,i.T)(t)?e=(0,a.a)(t,"endpoint.p1Consent"):(0,i.L)(t)&&t.forEach((t=>{(0,p.c)(t.bidders,r.bids[0].bidder)&&(e=(0,a.a)(t,"endpoint.p1Consent"))})),e&&e.match("/openrtb2/prebid")&&(n=ml)}return e=kd({member:"string",invCode:"string",placementId:"number",keywords:n,publisherId:"number"},e),t&&(Object.keys(e).forEach((t=>{let r=$c(t);r!==t&&(e[r]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function tl(e){const t={};Object.keys(e.params).forEach((t=>{let r=$c(t);r!==t&&(e.params[r]=e.params[t],delete e.params[t])})),t.sizes=rl(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placement_id?t.id=parseInt(e.params.placement_id,10):t.code=e.params.inv_code,t.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,t.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,t.prebid=!0,t.disable_psa=!0;let r=function(e){if(!(0,i.P)(e.getFloor))return e.params.reserve?e.params.reserve:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return(0,i.T)(t)&&!isNaN(t.floor)&&"USD"===t.currency?t.floor:null}(e);if(r&&(t.reserve=r),e.params.position)t.position={above:1,below:2}[e.params.position]||0;else{let r=(0,a.a)(e,"mediaTypes.banner.pos")||(0,a.a)(e,"mediaTypes.video.pos");0!==r&&1!==r&&3!==r||(t.position=3===r?2:r)}e.params.traffic_source_code&&(t.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(t.private_sizes=rl(e.params.private_sizes)),e.params.supply_type&&(t.supply_type=e.params.supply_type),e.params.pub_click&&(t.pubclick=e.params.pub_click),e.params.ext_inv_code&&(t.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(t.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(t.external_imp_id=e.params.external_imp_id);const n=Nc((s=(0,a.a)(e,"ortb2Imp.ext.data.keywords"),(0,i.V)(s)&&""!==s?qc(s.split(/\s*(?:,)\s*/)):{}),e.params?.keywords);var s;n.length>0&&(t.keywords=n);let o=(0,a.a)(e,"ortb2Imp.ext.gpid")||(0,a.a)(e,"ortb2Imp.ext.data.pbadslot");if(o&&(t.gpid=o),(e.mediaType===b.c||(0,a.a)(e,`mediaTypes.${b.c}`))&&(t.ad_types.push(b.c),0===t.sizes.length&&(t.sizes=rl([1,1])),e.nativeParams)){const r=function(e){const t={};return Object.keys(e).forEach((r=>{const n=Jc[r]&&Jc[r].serverName||Jc[r]||r,a=Jc[r]&&Jc[r].requiredParams;if(t[n]=Object.assign({},a,e[r]),(n===Jc.image.serverName||n===Jc.icon.serverName)&&t[n].sizes){let e=t[n].sizes;((0,i.K)(e)||(0,i.L)(e)&&e.length>0&&e.every((e=>(0,i.K)(e))))&&(t[n].sizes=rl(t[n].sizes))}n===Jc.privacyLink&&(t.privacy_supported=!0)})),t}(e.nativeParams);t[b.c]={layouts:[r]}}{const r=(0,a.a)(e,`mediaTypes.${b.d}`),n=(0,a.a)(e,"mediaTypes.video.context");t.hb_source=r&&"adpod"===n?7:1,(e.mediaType===b.d||r)&&t.ad_types.push(b.d),(e.mediaType===b.d||r&&"outstream"!==n)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((e=>(0,p.c)(Lc,e))).forEach((r=>{switch(r){case"context":case"playback_method":let n=e.params.video[r];n=(0,i.L)(n)?n[0]:n,t.video[r]=Kc[r][n];break;case"frameworks":break;default:t.video[r]=e.params.video[r]}})),e.params.video.frameworks&&(0,i.L)(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),r&&(t.video=t.video||{},Object.keys(r).filter((e=>(0,p.c)(Hc,e))).forEach((e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof t.video[e]&&(t.video[e]=r[e]);break;case"skip":"boolean"!=typeof t.video.skippable&&(t.video.skippable=1===r[e]);break;case"skipafter":"number"!=typeof t.video.skipoffset&&(t.video.skippoffset=r[e]);break;case"playbackmethod":if("number"!=typeof t.video.playback_method){let n=r[e];n=(0,i.L)(n)?n[0]:n,n>=1&&n<=4&&(t.video.playback_method=n)}break;case"api":if(!t.video_frameworks&&(0,i.L)(r[e])){let n=r[e].map((e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((e=>e));t.video_frameworks=n}break;case"startdelay":case"placement":const n="context";if("number"!=typeof t.video[n]){const e=r.placement,i=r.startdelay,a=function(e){if(e)return 2===e?"in-banner":e>2?"outstream":void 0}(e)||function(e){if(e)return 0===e?"pre_roll":-1===e?"mid_roll":-2===e?"post_roll":void 0}(i);t.video[n]=Kc[n][a]}}}))),e.renderer&&(t.video=Object.assign({},t.video,{custom_renderer_present:!0}))}return e.params.frameworks&&(0,i.L)(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks),(0,a.a)(e,`mediaTypes.${b.b}`)&&t.ad_types.push(b.b),0===t.ad_types.length&&delete t.ad_types,t}function rl(e){let t=[],r={};if((0,i.L)(e)&&2===e.length&&!(0,i.L)(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"==typeof e)for(let n=0;n<e.length;n++){let i=e[n];r={},r.width=parseInt(i[0],10),r.height=parseInt(i[1],10),t.push(r)}return t}function nl(e){return!!e.params.user}function il(e){return!!parseInt(e.params.member,10)}function al(e){if(e.params)return!!e.params.app}function sl(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function ol(e){return!!e.debug}function dl(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===b.a}function cl(e){let t=!1;const r=e.params,n=e.params.video;return r.frameworks&&(0,i.L)(r.frameworks)&&(t=(0,p.c)(e.params.frameworks,6)),!t&&n&&n.frameworks&&(0,i.L)(n.frameworks)&&(t=(0,p.c)(e.params.video.frameworks,6)),t}function ll(e,t,r){(0,i.O)(e.video)&&(e.video={}),e.video[t]=r}function pl(e,t){!function(e){try{const t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((()=>{(t?.defaultView||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},ul.bind(null,e))}))}function ul(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}function ml(e){let t="";return Object.keys(e).forEach((r=>{(0,i.V)(e[r])?""!==e[r]?t+=`${r}=${e[r]},`:t+=`${r},`:(0,i.L)(e[r])&&(""===e[r][0]?t+=`${r},`:e[r].forEach((e=>{t+=`${r}=${e},`})))})),t=t.substring(0,t.length-1),t}(0,tt.b)(el),kt.a.add(It.a.AppNexus,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(n.banner||n.skin){const i=$o(n),a={...r.params,video:void 0};No(e,t.placementId,i,[{bidder:r.bidder,params:a}])}if(n.native&&Uo(e,t.placementId,[{bidder:r.bidder,params:{...r.params,video:void 0}}],n.native),n.outstream&&(t.rendering?.outstream?.hbvFormat?Vo(e,t.placementId,n.outstream,[{bidder:r.bidder,params:r.params}],t.rendering?.outstream):((e,t,r,n)=>{Mo(n,{displayFormat:wn.a.outstream,mediaType:hn,requestSizes:[r.playerSize]},void 0),e.push({adUnitCode:t,mediaTypes:{video:{...Oo(Do,r.openRtbParams),context:"outstream",playerSize:[r.playerSize]}},renderer:void 0,bids:n})})(e,t.placementId,n.outstream,[{bidder:r.bidder,params:r.params}])),n.instream){const i={frameworks:Do.api,...r.params.video};Po(e,t.placementId,n.instream,[{bidder:r.bidder,params:{...r.params,video:i}}])}})),kt.b.add(It.a.AppNexus,el.gvlid);const bl={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;const t=["asi","sid","hp","rid","name","domain"];return`${e.ver},${e.complete}!`+e.nodes.map((e=>t.map((t=>e[t]?encodeURIComponent(e[t]):"")).join(","))).join("!")},adaptBannerSizes:function(e){return e.map((e=>({w:e[0],h:e[1]})))},fillPayloadForVideoBidRequest:function(e,t,r){const n=t.playerSize[0];e.isVideo="instream"===t.context,e.mediaType=b.d,e.videoData={videoProtocol:this.getProtocolForVideoBidRequest(t,r),playerWidth:n[0],playerHeight:n[1],adBreak:this.getStartDelayForVideoBidRequest(t,r)}},getProtocolForVideoBidRequest:function(e,t){return void 0!==t&&t.protocol?t.protocol:void 0!==e&&Array.isArray(e.protocols)?Math.max.apply(Math,e.protocols):null},getStartDelayForVideoBidRequest:function(e,t){if(void 0!==t&&t.startDelay)return t.startDelay;if(void 0!==e){if(0==e.startdelay)return 1;if(-1==e.startdelay)return 2;if(-2==e.startdelay)return 3}return 2},createServerRequest:function(e,t){return{method:"POST",url:(void 0!==t?t:"https://prg.smartadserver.com")+"/prebid/v1",data:JSON.stringify(e)}},buildRequests:function(e,t){const r=u.b.getConfig("currency.adServerCurrency"),n=(0,a.a)(t,"ortb2.user.data",u.b.getAnyConfig("ortb2.user.data")),s=(0,a.a)(t,"ortb2.site.content.data",u.b.getAnyConfig("ortb2.site.content.data"));return e.reduce(((e,o)=>{let d={siteid:o.params.siteId,pageid:o.params.pageId,formatid:o.params.formatId,currencyCode:r,targeting:o.params.target&&""!==o.params.target?o.params.target:void 0,buid:o.params.buId&&""!==o.params.buId?o.params.buId:void 0,appname:o.params.appName&&""!==o.params.appName?o.params.appName:void 0,ckid:o.params.ckId||0,tagId:o.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.page?t.refererInfo.page:void 0,transactionId:o.ortb2Imp?.ext?.tid,timeout:u.b.getConfig("bidderTimeout"),bidId:o.bidId,prebidVersion:"8.30.0",schain:bl.serializeSupplyChain(o.schain),sda:n,sdc:s};const c=(0,a.a)(o,"ortb2Imp.ext.gpid",(0,a.a)(o,"ortb2Imp.ext.data.pbadslot",""));c&&(d.gpid=c),t&&(t.gdprConsent&&(d.addtl_consent=t.gdprConsent.addtlConsent,d.gdpr_consent=t.gdprConsent.consentString,d.gdpr=t.gdprConsent.gdprApplies),t.gppConsent&&(d.gpp=t.gppConsent.gppString,d.gpp_sid=t.gppConsent.applicableSections),t.uspConsent&&(d.us_privacy=t.uspConsent)),o&&o.userIdAsEids&&(d.eids=o.userIdAsEids),t&&t.uspConsent&&(d.us_privacy=t.uspConsent);const l=(0,a.a)(o,"mediaTypes.banner"),p=(0,a.a)(o,"mediaTypes.video"),m=p&&("instream"===p.context||"outstream"===p.context);if(l||m){let t;if(l){if(t=b.b,d.sizes=bl.adaptBannerSizes(l.sizes),m){let t=(0,i.l)(d);bl.fillPayloadForVideoBidRequest(t,p,o.params.video),t.bidfloor=o.params.bidfloor||bl.getBidFloor(o,r,b.d),e.push(bl.createServerRequest(t,o.params.domain))}}else t=b.d,bl.fillPayloadForVideoBidRequest(d,p,o.params.video);d.bidfloor=o.params.bidfloor||bl.getBidFloor(o,r,t),e.push(bl.createServerRequest(d,o.params.domain))}else e.push({});return e}),[])},interpretResponse:function(e,t){const r=[];let n=e.body;try{if(n&&!n.isNoAd&&(n.ad||n.adUrl)){const e=JSON.parse(t.data);let i={requestId:e.bidId,cpm:n.cpm,width:n.width,height:n.height,creativeId:n.creativeId,dealId:n.dealId,currency:n.currency,netRevenue:n.isNetCpm,ttl:n.ttl,dspPixels:n.dspPixels,meta:{advertiserDomains:n.adomain?n.adomain:[]}};e.mediaType===b.d?(i.mediaType=b.d,i.vastUrl=n.adUrl,i.vastXml=n.ad,i.content=n.ad):(i.adUrl=n.adUrl,i.ad=n.ad),r.push(i)}}catch(e){(0,i.X)("Error while parsing smart server response",e)}return r},getBidFloor:function(e,t,r){if(!(0,i.P)(e.getFloor))return 0;const n=e.getFloor({currency:t||"USD",mediaType:r,size:"*"});return(0,i.T)(n)&&!isNaN(n.floor)?n.floor:0},getUserSyncs:function(e,t){const r=[];return e.iframeEnabled&&t.length>0&&null!=t[0].body.cSyncUrl?r.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&t.length>0&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){r.push({type:"image",url:e})})),r}};(0,tt.b)(bl),kt.a.add(It.a.Smart,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(n.banner||n.skin){const i=$o(n);No(e,t.placementId,i,[{bidder:r.bidder,params:r.params}])}if(n.outstream&&Vo(e,t.placementId,n.outstream,[{bidder:r.bidder,params:{video:{protocol:8,startDelay:1},...r.params}}],t.rendering?.outstream),n.instream&&Po(e,t.placementId,n.instream,[{bidder:r.bidder,params:{video:{protocol:6},...r.params}}]),n.native){const i=yt.readConfig("s2sConfig");i?.enabled&&i.bidders?.includes(r.bidder)&&Uo(e,t.placementId,[{bidder:r.bidder,params:r.params}],n.native)}})),kt.b.add(It.a.Smart,bl.gvlid);const fl="0.8.0";function hl(){return(/(?:phone|windows\s+phone|ipod|blackberry|Galaxy Nexus|SM-G892A|(?:android|bbd+|meego|silk|googlebot) .+?mobile|palm|windows\s+ce|opera mini|avantgo|docomo)/i.test(navigator.userAgent)?"m":/(?:ipad|playbook|Tablet|(?:android|bb\d+|meego|silk)(?! .+? mobile))/i.test(navigator.userAgent)&&"t")||"d"}const gl=/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i;function vl(e){return gl.test(e)}function yl(e,t){(0,i.Y)("SublimeBidAdapter - "+e,t)}const Il={zoneId:"",transactionId:"",notifyId:"",timeout:u.b.getConfig("bidderTimeout")};function Tl(e){Object.assign(Il,e),yl("State has been updated :",Il)}function _l(e){const t=window.sublime=window.sublime||{};let r=e.notifyId||t.notifyId;return r||(r=(0,i.q)(),yl("generating a notifyId",r)),t.notifyId||(t.notifyId=r),r}function wl(e,t){const r=Date.now(),n={t:r,tse:r,z:Il.zoneId,e,src:"pa",puid:Il.transactionId||Il.notifyId,notid:Il.notifyId||"",pbav:fl,pubtimeout:Il.timeout,pubpbv:"8.30.0",device:hl()};"bidwon"===e&&(n.sspname=t||""),yl("Sending pixel for event: "+e,n);const a=(0,i.p)(n);(0,i.nb)("https://antenna.ayads.co/?"+a)}const Sl={code:"sublime",gvlid:114,aliases:[],isBidRequestValid:function(e){const t=_l(e.params);return vl(t)?t!==window.sublime.notifyId?(yl(`notifyId mismatch: params [${e.params.notifyId}] / sublime [${window.sublime.notifyId}]`),!1):!!Number(e.params.zoneId):(yl(`invalid notifyId format, got "${t}"`),!1)},buildRequests:function(e,t){const r={pbav:fl,prebidVersion:"8.30.0",currencyCode:u.b.getConfig("currency.adServerCurrency")||"EUR",timeout:"object"==typeof t&&t?t.timeout:u.b.getConfig("bidderTimeout")};return Tl({timeout:r.timeout}),t&&t.refererInfo&&(r.referer=t.refererInfo.topmostLocation,r.numIframes=t.refererInfo.numIframes),t&&t.gdprConsent&&(r.gdprConsent=t.gdprConsent.consentString,r.gdpr=t.gdprConsent.gdprApplies),e.map((e=>{const t=e.params.bidHost||"pbjs.sskzlabs.com",n=e.params.protocol||"https",i=_l(e.params);Tl({transactionId:e.transactionId,notifyId:i,zoneId:e.params.zoneId,debug:e.params.debug||!1});const a={adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidder:e.bidder,bidderRequestId:e.bidderRequestId,bidRequestsCount:e.bidRequestsCount,requestId:e.bidId,sizes:e.sizes.map((e=>({w:e[0],h:e[1]}))),transactionId:e.transactionId,notifyId:i,zoneId:e.params.zoneId},s=Object.assign({},r,a);return{method:"POST",url:n+"://"+t+"/bid",data:JSON.stringify(s),options:{contentType:"text/plain",withCredentials:!1}}}))},interpretResponse:function(e,t){const r=[],n=e.body;if(n){if(n.timeout||!n.ad||/<!--\s+No\s+ad\s+-->/gim.test(n.ad))return r;let e={width:1800,height:1e3};t&&t.data&&1===t.data.w&&1===t.data.h&&(e={width:1,height:1});const i={requestId:n.requestId||"",cpm:n.cpm||0,width:n.width||e.width,height:n.height||e.height,creativeId:n.creativeId||1,dealId:n.dealId||1,currency:n.currency||"EUR",netRevenue:n.netRevenue||!0,ttl:n.ttl||600,ad:n.ad,pbav:fl,sspname:n.sspname||null};n.advertiserDomains&&(i.meta=Object.assign({},i.meta,{advertiserDomains:[]})),r.push(i)}return r},onBidWon:function(e){yl("Bid won",e),wl("bidwon",e.sspname)},onTimeout:function(e){yl("Timeout from adapter",e);const t=(0,a.a)(e,"0.timeout");t&&Tl({timeout:t}),wl("bidtimeout")},sendEvent:wl,setState:Tl,state:Il,detectDevice:hl,getNotifyId:_l,isValidNotifyId:vl};(0,tt.b)(Sl);const Rl=()=>{const e=(0,pt.b)();return window.sublime=window.sublime??{},window.sublime.notifyId=e,e};kt.a.add(It.a.Sublime,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{n.skin||n.banner?No(e,t.placementId,[[1800,1e3]],[{bidder:r.bidder,params:{notifyId:Rl(),...r.params}}],{displayFormat:wn.a.skin}):n.nativeBanner&&No(e,t.placementId,[[1,1]],[{bidder:r.bidder,params:{notifyId:Rl(),...r.params}}],{displayFormat:wn.a.nativeBanner})})),kt.b.add(It.a.Sublime,Sl.gvlid);const xl="pubmatic",Cl="PubMatic: ",El="USD",Al=void 0,kl="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Fl={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Dl={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},Bl={mimes:Dl.ARRAY,minduration:Dl.NUMBER,maxduration:Dl.NUMBER,startdelay:Dl.NUMBER,playbackmethod:Dl.ARRAY,api:Dl.ARRAY,protocols:Dl.ARRAY,w:Dl.NUMBER,h:Dl.NUMBER,battr:Dl.ARRAY,linearity:Dl.NUMBER,placement:Dl.NUMBER,plcmt:Dl.NUMBER,minbitrate:Dl.NUMBER,maxbitrate:Dl.NUMBER,skip:Dl.NUMBER},Ml={1:"PMP",5:"PREF",6:"PMPG"},Ol={bootstrapPlayer:function(e){const t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,i._)(`${Cl}: No vastXml or vastUrl on bid, bailing...`);const r=Ol.getRendererId("pubmatic",e.rendererCode),n=document.getElementById(e.adUnitCode);let a;for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===r){a=window.bluebillywig.renderers[e];break}a?a.bootstrap(t,n):(0,i._)(`${Cl}: Couldn't find a renderer with ${r}`)},newRenderer:function(e,t){var r=kl.replace("$RENDERER",e);const n=m.a.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(Ol.outstreamRender)}catch(e){(0,i._)(`${Cl}: Error tying to setRender on renderer`,e)}return n},outstreamRender:function(e){e.renderer.push((function(){Ol.bootstrapPlayer(e)}))},getRendererId:function(e,t){return`${e}-${t}`}},Vl=[b.b,b.d,b.c];let Pl=0,Ul=!1,ql=["pubmatic"];const Nl=["all"];function $l(e,t){if(!(0,i.V)(t))return t&&(0,i._)(Cl+"Ignoring param key: "+e+", expects string-value, found "+typeof t),Al;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((e=>e.trim())).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||Al;case"yob":return parseInt(t)||Al;default:return t}}function jl(e,t,r){var n,a="Ignoring param key: "+e+", expects "+r+", found "+typeof t;switch(r){case Dl.BOOLEAN:n=i.M;break;case Dl.NUMBER:n=i.S;break;case Dl.STRING:n=i.V;break;case Dl.ARRAY:n=i.L}return n(t)?t:((0,i._)(Cl+a),Al)}const zl={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},{NATIVE_IMAGE_TYPES:Ll,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:Hl,NATIVE_KEYS:Xl,NATIVE_ASSET_TYPES:Wl}=c,Gl=Object.values(zl);function Yl(e){var t;if(e.ortb){e=e.ortb,t={ver:"1.2",...e,assets:[]};const{assets:r}=e,n=e=>e.title||e.img||e.data||e.video;if(r.length<1||!r.some((e=>n(e))))return(0,i._)(`${Cl}: Native assets object is empty or contains some invalid object`),Ul=!0,t;r.forEach((e=>{var r=e;r.img&&(3==r.img.type?(r.w=r.w||r.width||(r.sizes?r.sizes[0]:Al),r.h=r.h||r.height||(r.sizes?r.sizes[1]:Al),r.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:Al),r.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:Al)):1==r.img.type&&(r.w=r.w||r.width||(r.sizes?r.sizes[0]:Al),r.h=r.h||r.height||(r.sizes?r.sizes[1]:Al))),r&&void 0!==r.id&&n(r)&&t.assets.push(r)}))}else t=function(e){if(!e&&!(0,i.T)(e))return(0,i._)(`${Cl}: Native assets object is empty or not an object: ${e}`),void(Ul=!0);const t={ver:"1.2",assets:[]};for(let r in e){if(Hl.includes(r))continue;if(!Xl.hasOwnProperty(r)&&!Gl.includes(r)){(0,i._)(`${Cl}: Unrecognized native asset code: ${r}. Asset will be ignored.`);continue}const n=e[r];let a=0;n.required&&(0,i.M)(n.required)&&(a=Number(n.required));const s={id:t.assets.length,required:a};if(r in zl)s.data={type:Wl[zl[r]]},(n.len||n.length)&&(s.data.len=n.len||n.length),n.ext&&(s.data.ext=n.ext);else if("icon"===r||"image"===r){if(s.img={type:"icon"===r?Ll.ICON:Ll.MAIN},n.aspect_ratios)if((0,i.L)(n.aspect_ratios))if(n.aspect_ratios.length){const{min_width:e,min_height:t}=n.aspect_ratios[0];(0,i.R)(e)&&(0,i.R)(t)?(s.img.wmin=e,s.img.hmin=t):(0,i._)(`${Cl}: image.aspect_ratios min_width or min_height are invalid: ${e}, ${t}`);const r=n.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>`${e.ratio_width}:${e.ratio_height}`));r.length>0&&(s.img.ext={aspectratios:r})}else(0,i._)(`${Cl}: image.aspect_ratios was passed, but it's empty: ${n.aspect_ratios}`);else(0,i._)(`${Cl}: image.aspect_ratios was passed, but it's not a an array: ${n.aspect_ratios}`);s.img.w=n.w||n.width,s.img.h=n.h||n.height,s.img.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:Al),s.img.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:Al),n.sizes&&(2===n.sizes.length&&(0,i.R)(n.sizes[0])&&(0,i.R)(n.sizes[1])?((0,i.Y)(`${Cl}: if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin`),s.img.w=n.sizes[0],s.img.h=n.sizes[1],delete s.img.hmin,delete s.img.wmin):(0,i._)(`${Cl}: image.sizes was passed, but its value is not an array of integers: ${n.sizes}`)),n.ext&&(s.img.ext=n.ext),n.mimes&&(s.img.mimes=n.mimes)}else"title"===r?(s.title={len:n.len||n.length||140},n.ext&&(s.title.ext=n.ext)):"ext"===r&&(s.ext=n,delete s.required);t.assets.push(s)}return t.assets.length<1?((0,i._)(`${Cl}: Could not find any valid asset`),void(Ul=!0)):t}(e);return t}function Kl(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(r!==Al&&(0,i.L)(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=Al,(0,i._)(Cl+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(n=[],r.forEach((function(e){e.length>1&&n.push({w:e[0],h:e[1]})})),n.length>0&&(t.format=n)),t.pos=0,t.topframe=(0,i.E)()?0:1}else(0,i._)(Cl+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=Al;return t}function Jl(e){var t,r=(0,i.ab)((0,a.a)(e.mediaTypes,"video"),e.params.video);if(r!==Al){for(var n in t={},function(e,t){(0,a.a)(e,"placement")||(0,i._)("Video.Placement param missing for "+t)}(r,e.adUnitCode),Bl)r.hasOwnProperty(n)&&(t[n]=jl(n,r[n],Bl[n]));(0,i.L)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,i.S)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=Al,(0,i._)(Cl+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Zl(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,i._)(Cl+"acat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter(((e,t,r)=>r.indexOf(e)===t))).length>0&&((0,i._)(Cl+"acat: Selected: ",t),e.ext.acat=t)}function Ql(e){return!0===(0,i.L)(e)&&e.length>0}const ep={code:xl,gvlid:76,supportedMediaTypes:[b.b,b.d,b.c],isBidRequestValid:e=>{if(e&&e.params){if(!(0,i.V)(e.params.publisherId))return(0,i._)(Cl+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(b.d)){let t=(0,a.a)(e.mediaTypes,"video.mimes"),r=(0,a.a)(e,"params.video.mimes");if(!1===Ql(t)&&!1===Ql(r))return(0,i._)(Cl+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[b.d].hasOwnProperty("context"))return(0,i.X)(`${Cl}: no context specified in bid. Rejecting bid: `,e),!1;if("outstream"===e.mediaTypes[b.d].context&&!(0,i.V)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[b.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(b.b)||e.mediaTypes.hasOwnProperty(b.c)?(delete e.mediaTypes[b.d],(0,i._)(`${Cl}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: `,e),!0):((0,i.X)(`${Cl}: for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: `,e),!1)}return!0}return!1},buildRequests:(e,t)=>{var r;t&&t.refererInfo&&(r=t.refererInfo);var n,o=function(e){return{pageURL:e?.page||window.location.href,refURL:e?.ref||window.document.referrer}}(r),d=function(e){return{id:""+(new Date).getTime(),at:1,cur:[El],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(o),c="",l=[],p=[],m=[],f=(0,i.q)();if(e.forEach((e=>{if(e.params.wiid=e.params.wiid||t.auctionId||f,(n=(0,i.l)(e)).params.adSlot=n.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,i.V)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,i._)(xl+": adSlot must be a string. Ignoring adSlot"),""));var r=e.params.adSlot,n=r.split(":");if(r=n[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=r.split("@"),e.params.adUnit=n[0],n.length>1){if(2!=(n=n[1].split("x")).length)return void(0,i._)(Cl+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(b.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,s=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&s.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=s,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(n),n.mediaTypes&&n.mediaTypes.hasOwnProperty("video")||n.params.hasOwnProperty("video"));else if(!(n.hasOwnProperty("mediaTypes")&&n.mediaTypes.hasOwnProperty(b.c)||0!==n.params.width||0!==n.params.height))return void(0,i._)(Cl+"Skipping the non-standard adslot: ",n.params.adSlot,JSON.stringify(n));o.pubId=o.pubId||n.params.publisherId,(o=function(e,t){var r,n,a;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),Fl)Fl.hasOwnProperty(r)&&(n=e[r])&&("object"==typeof(a=Fl[r])&&(n=a.f(n,t)),(0,i.V)(n)?t[r]=n:(0,i._)(Cl+"Ignoring param : "+r+" with value : "+Fl[r]+", expects string-value, found "+typeof n));return t}(n.params,o)).transactionId=n.ortb2Imp?.ext?.tid,""===c?c=n.params.currency||Al:n.params.hasOwnProperty("currency")&&c!==n.params.currency&&(0,i._)(Cl+"Currency specifier ignored. Only one currency permitted."),n.params.currency=c,n.params.hasOwnProperty("dctr")&&(0,i.V)(n.params.dctr)&&l.push(n.params.dctr),n.params.hasOwnProperty("bcat")&&(0,i.L)(n.params.bcat)&&(p=p.concat(n.params.bcat)),n.params.hasOwnProperty("acat")&&(0,i.L)(n.params.acat)&&(m=m.concat(n.params.acat));var r=function(e,t){var r,n,o={},d={},c=e.hasOwnProperty("sizes")?e.sizes:[],l="",p=[],m=t?.fledgeEnabled;if(function(e,t){t.params.deals&&((0,i.L)(t.params.deals)?t.params.deals.forEach((function(t){(0,i.V)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,i._)(Cl+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,i._)(Cl+"Error: bid.params.deals should be an array of strings."))}(o={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:$l("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:$l("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?$l("currency",e.params.currency):El},e),function(e,t){var r,n="";if(t.params.dctr)if(n=t.params.dctr,(0,i.V)(n)&&n.length>0){var a=n.split("|");n="",a.forEach((e=>{n+=e.length>0?e.trim()+"|":""})),r=n.length,"|"===n.substring(r,r-1)&&(n=n.substring(0,r-1)),e.ext.key_val=n.trim()}else(0,i._)(Cl+"Ignoring param : dctr with value : "+n+", expects string-value, found empty or non-string value")}(o,e),function(e,t){var r=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,n="";if(void 0!==r&&""!==r&&r.hasOwnProperty("segments")){var i,a=r.segments.length;n+="jw-id="+r.content.id;for(var s=0;s<a;s++)n+="|jw-"+r.segments[s]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=n:i.key_val+="|"+n}}(o,e),e.hasOwnProperty("mediaTypes"))for(l in e.mediaTypes)switch(l){case b.b:(r=Kl(e))!==Al&&(o.banner=r);break;case b.c:d.request=JSON.stringify(Yl(e.nativeParams)),Ul?((0,i._)(Cl+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Ul=!1):o.native=d;break;case b.d:(n=Jl(e))!==Al&&(o.video=n)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:(0,i.E)()?0:1},(0,i.L)(c)&&c.length>1&&((c=c.splice(1,c.length-1)).forEach((e=>{p.push({w:e[0],h:e[1]})})),r.format=p),o.banner=r;return function(e,t){const r={...(0,a.a)(t,"ortb2Imp.ext.data")};Object.keys(r).forEach((t=>{"pbadslot"===t?"string"==typeof r[t]&&r[t]&&(0,s.a)(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach((t=>{const n=(0,a.a)(r,`adserver.${t}`);"string"==typeof n&&n&&((0,s.a)(e,`ext.data.adserver.${t.toLowerCase()}`,n),"adslot"===t&&(0,s.a)(e,"ext.dfp_ad_unit_code",n))})):(0,s.a)(e,`ext.data.${t}`,r[t])}));const n=(0,a.a)(t,"ortb2Imp.ext.gpid");n&&(0,s.a)(e,"ext.gpid",n)}(o,e),function(e,t){let r=-1;"function"!=typeof t.getFloor||u.b.getConfig("pubmatic.disableFloors")||[b.b,b.d,b.c].forEach((n=>{if(e.hasOwnProperty(n)){let a=[];"banner"===n&&(e[n].w&&e[n].h&&a.push([e[n].w,e[n].h]),(0,i.L)(e[n].format)&&e[n].format.forEach((e=>a.push([e.w,e.h])))),0===a.length&&a.push("*"),a.forEach((a=>{let s=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:a});if((0,i.Y)(Cl,"floor from floor module returned for mediatype:",n," and size:",a," is: currency",s.currency,"floor",s.floor),"object"==typeof s&&s.currency===e.bidfloorcur&&!isNaN(parseInt(s.floor))){let e=parseFloat(s.floor);(0,i.Y)(Cl,"floor from floor module:",e,"previous floor value",r,"Min:",Math.min(e,r)),r=-1===r?e:Math.min(e,r),(0,i.Y)(Cl,"new floor value:",r)}}))}})),e.bidfloor&&((0,i.Y)(Cl,"floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor)),e.bidfloor=!isNaN(r)&&r>0?r:Al,(0,i.Y)(Cl,"new impObj.bidfloor value:",e.bidfloor)}(o,e),function(e,t,r){r?(e.ext=e.ext||{},void 0!==t?.ortb2Imp?.ext?.ae&&(e.ext.ae=t.ortb2Imp.ext.ae)):e.ext?.ae&&delete e.ext.ae}(o,e,m),o.hasOwnProperty(b.b)||o.hasOwnProperty(b.c)||o.hasOwnProperty(b.d)?o:Al}(n,t);r&&d.imp.push(r)})),0==d.imp.length)return;d.site.publisher.id=o.pubId.trim(),Pl=o.pubId.trim(),d.ext.wrapper={},d.ext.wrapper.profile=parseInt(o.profId)||Al,d.ext.wrapper.version=parseInt(o.verId)||Al,d.ext.wrapper.wiid=o.wiid||t.auctionId,d.ext.wrapper.wv="prebid_prebid_8.30.0",d.ext.wrapper.transactionId=o.transactionId,d.ext.wrapper.wp="pbjs";const h=t?F.a.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==h){if(d.ext.marketplace={},t&&1==h){let e=F.a.get(t.bidderCode,"allowedAlternateBidderCodes");(0,i.L)(e)?(e=e.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(i.ob),ql=e.includes("*")?Nl:[...ql,...e]):ql=Nl}d.ext.marketplace.allowedbidders=ql.filter(i.ob)}d.user.gender=o.gender?o.gender.trim():Al,d.user.geo={},d.user.yob=$l("yob",o.yob),d.site.page=o.kadpageurl.trim()||d.site.page.trim(),d.site.domain=function(e){let t=document.createElement("a");return t.href=e,t.hostname}(d.site.page),"object"==typeof u.b.getConfig("content")&&(d.site.content=u.b.getConfig("content")),"object"==typeof u.b.getConfig("device")&&(d.device=Object.assign(d.device,u.b.getConfig("device"))),d.device.language=d.device.language&&d.device.language.split("-")[0],(0,s.a)(d,"source.tid",t?.ortb2?.source?.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(d.test=1),e[0].schain&&(0,s.a)(d,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,s.a)(d,"user.ext.consent",t.gdprConsent.consentString),(0,s.a)(d,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,s.a)(d,"regs.ext.us_privacy",t.uspConsent),t?.gppConsent?.gppString?((0,s.a)(d,"regs.gpp",t.gppConsent.gppString),(0,s.a)(d,"regs.gpp_sid",t.gppConsent.applicableSections)):t?.ortb2?.regs?.gpp&&((0,s.a)(d,"regs.gpp",t.ortb2.regs.gpp),(0,s.a)(d,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===u.b.getConfig("coppa")&&(0,s.a)(d,"regs.coppa",1),function(e,t){let r=(0,a.a)(t,"0.userIdAsEids");(0,i.L)(r)&&r.length>0&&(0,s.a)(e,"user.eids",r)}(d,e);const g=t&&t.ortb2||{},{user:v,device:y,site:I,bcat:T}=g;if(I){const{page:e,domain:t,ref:r}=d.site;(0,i.ab)(d,{site:I}),d.site.page=e,d.site.domain=t,d.site.ref=r}if(v&&(0,i.ab)(d,{user:v}),T&&(p=p.concat(T)),y?.sua&&(d.device.sua=y?.sua),y?.ext?.cdep&&(0,s.a)(d,"device.ext.cdep",y.ext.cdep),v?.geo&&y?.geo?(d.device.geo={...d.device.geo,...y.geo},d.user.geo={...d.user.geo,...v.geo}):(v?.geo||y?.geo)&&(d.user.geo=d.device.geo=v?.geo?{...d.user.geo,...v.geo}:{...d.user.geo,...y.geo}),g.ext?.prebid?.bidderparams?.[t.bidderCode]?.acat){const e=g.ext.prebid.bidderparams[t.bidderCode].acat;Zl(d,e)}else m.length&&Zl(d,m);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,i._)(Cl+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter((function(e,t,r){if(e.length>3)return r.indexOf(e)===t;(0,i._)(Cl+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,i._)(Cl+"bcat: Selected: ",t),e.bcat=t)}(d,p),d.tmax=t?.timeout?t.timeout:window?.PWT?.versionDetails?.timeout,d.ext.epoch=(new Date).getTime(),"object"==typeof u.b.getConfig("app")&&(d.app=u.b.getConfig("app"),d.app.publisher=d.site.publisher,d.app.ext=d.site.ext||Al,"object"!=typeof d.app.content&&(d.app.content=d.site.content||Al),delete d.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(d),bidderRequest:t}},interpretResponse:(e,t)=>{const r=[];var n=El;let s=JSON.parse(t.data),o=s.site&&s.site.ref?s.site.ref:"";try{e.body&&e.body.seatbid&&(0,i.L)(e.body.seatbid)&&(n=e.body.cur||n,e.body.seatbid.forEach((e=>{e.bid&&(0,i.L)(e.bid)&&e.bid.forEach((d=>{let c={requestId:d.impid,cpm:parseFloat((d.price||0).toFixed(2)),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:n,netRevenue:!0,ttl:300,referrer:o,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};s.imp&&s.imp.length>0&&s.imp.forEach((e=>{if(d.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=Vl[e.ext.bidtype];else{(0,i.Y)(Cl+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,n="",a=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=b.b;else if(a.test(r))t.mediaType=b.d;else try{(n=JSON.parse(r.replace(/\\/g,"")))&&n.native&&(t.mediaType=b.c)}catch(e){(0,i._)(Cl+"Error: Cannot parse native reponse for ad response: "+r)}}}(d,c),c.mediaType){case b.b:break;case b.d:c.width=d.hasOwnProperty("w")?d.w:e.video.w,c.height=d.hasOwnProperty("h")?d.h:e.video.h,c.vastXml=d.adm,function(e,t){let r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(let a=0;a<t.bidderRequest.bids.length;a++)t.bidderRequest.bids[a].bidId===e.requestId&&(r=t.bidderRequest.bids[a].params,n=t.bidderRequest.bids[a].mediaTypes[b.d].context,i=t.bidderRequest.bids[a].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=Ol.newRenderer(e.rendererCode,i))}}(c,t),function(e,t,r){if(!t?.ext?.prebiddealpriority)return;const n=(0,i.r)(e.requestId,[r.bidderRequest]),s=(0,a.a)(n,"mediaTypes.video");if(s?.context!=b.a)return;const o=t?.ext?.video?.duration||s?.maxduration;e.video={context:b.a,durationSeconds:o,dealTier:t.ext.prebiddealpriority}}(c,d,t);break;case b.c:!function(e,t){if(e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,i._)(Cl+"Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:{...r.native}},t.mediaType=b.c,t.width||(t.width=0),t.height||(t.height=0)}}(d,c)}})),d.ext&&d.ext.deal_channel&&(c.dealChannel=Ml[d.ext.deal_channel]||null),function(e,t,r){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);const n=r||t.ext&&t.ext.advid;n&&(e.meta.advertiserId=n,e.meta.agencyId=n,e.meta.buyerId=n),t.adomain&&Ql(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&Ql(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(c,d,e.seat),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),d.ext&&d.ext.marketplace&&(c.bidderCode=d.ext.marketplace),r.push(c)}))})));let d=(0,a.a)(e.body,"ext.fledge_auction_configs");if(d)return d=Object.entries(d).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),{bids:r,fledgeAuctionConfigs:d}}catch(e){(0,i.X)(e)}return r},getUserSyncs:(e,t,r,n,i)=>{let a=""+Pl;return r&&(a+="&gdpr="+(r.gdprApplies?1:0),a+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(a+="&us_privacy="+encodeURIComponent(n)),i?.gppString&&i?.applicableSections?.length&&(a+="&gpp="+encodeURIComponent(i.gppString),a+="&gpp_sid="+encodeURIComponent(i?.applicableSections?.join(","))),!0===u.b.getConfig("coppa")&&(a+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+a}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+a}]},transformBidParams:function(e){return kd({publisherId:"string",adSlot:"string"},e)}};(0,tt.b)(ep);const tp={image:{required:!0,sizes:[1,1]},title:{required:!0,len:80},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1,sizes:[1,1]},cta:{required:!1}},rp=(e,t)=>({...Do,...t,...e.params.video});kt.a.add(It.a.pubmatic,((e,{bid:t,placement:r,resolvedMediaTypes:n})=>{if(n.banner||n.skin){const i=$o(n),{video:a,...s}=t.params;No(e,r.placementId,i,[{bidder:t.bidder,params:s}])}n.native&&Uo(e,r.placementId,[{bidder:t.bidder,params:t.params}],tp),n.outstream&&Vo(e,r.placementId,n.outstream,[{bidder:t.bidder,params:{...t.params,video:rp(t,n.outstream.openRtbParams)}}],r.rendering?.outstream),n.instream&&Po(e,r.placementId,n.instream,[{bidder:t.bidder,params:t.params}])})),kt.b.add(It.a.pubmatic,ep.gvlid);const np={code:"hubvisor",supportedMediaTypes:[fn,bn,hn],isBidRequestValid:e=>!!(0,Et.m)(e.params)&&!!(0,Et.n)(e.params.cpm,Et.l),buildRequests:e=>rr.c?e.map((e=>{const t={requestId:e.bidId,type:bn,size:[300,250],cpm:10};e.params.type&&(t.type=e.params.type),e.params.cpm&&(t.cpm=e.params.cpm),t.type===bn&&e.mediaTypes.banner&&(t.size=e.mediaTypes.banner.sizes[0]??[300,250]),(e.mediaTypes.native||t.type===fn)&&(t.size=[1,1],t.type=fn),(e.mediaTypes.video||t.type===hn)&&(t.size=e.mediaTypes.video?.playerSize[0]??[640,480],t.type=hn),e.params.size&&(t.size=e.params.size),e.params.bannerHtml&&(t.bannerHtml=e.params.bannerHtml);const r=new Blob([JSON.stringify(t)],{type:"application/json"});return{method:"GET",url:URL.createObjectURL(r)}})):[],interpretResponse(e){const t=e.body,[r,n]=t.size,i={requestId:t.requestId,cpm:t.cpm,width:r,height:n,creativeId:"test",dealId:void 0,currency:"USD",netRevenue:!0,ttl:300,mediaType:t.type};return t.type===hn?i.vastUrl="https://cache-service.hubvisor.io/?crid=hbv-test":t.type===fn?i.native={body:"Profitez des offres Hubvisor. Avec Hubvisor, bnficiez d'avantages exclusifs. Cliquez sur cette publicit pour en dcouvrir plus",clickUrl:"https://www.hubvisor.io",cta:"Click for More",icon:{width:32,height:32,url:"https://cdn.hubvisor.io/assets/hubvisor-icon.png"},image:{width:200,height:200,url:"https://cdn.hubvisor.io/assets/hubvisor-image-colored.png"},sponsoredBy:"Hubvisor",title:"Hubvisor",impressionTrackers:[],javascriptTrackers:rr.f?['<script>console.debug("Hubvisor native tracking set up");<\/script>']:[],price:"10"}:t.type===bn&&(i.ad=(({width:e,height:t,bannerHtml:r})=>r||(1800===e&&1e3===t?'<a href="https://www.psg.fr/" target="_blank"><img id="hbv" src="https://cdn.hubvisor.io/assets/hubvisor-skin.png"/></a>':`\n  <style>\n  a { text-decoration: none; }\n  #hbv {\n    background: #fa709a;\n    background: linear-gradient(to bottom, #fa709a 0%, #fee140 100%);\n    width:${e}px;\n    height:${t}px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    color:#fff;\n    font-weight:bold;\n    font-size:2em;\n    text-align:center;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"\n  }\n  </style>\n  <a href="https://www.psg.fr/" target="_blank">\n    <div id="hbv">\n      TEST<br/>\n      ${e}x${t}\n    </div>\n  </a>\n  <script>\n  if (window.$sf) {\n    console.log('[hubvisor] safeframe detected')\n    window.$sf.ext.register(${e}, ${t}, (...args) => {\n      console.log('[hubvisor] safeframe updated: ', ...args)\n    })\n  }\n  <\/script>\n  `))({width:r,height:n,bannerHtml:t.bannerHtml})),[i]}};(0,tt.b)(np),kt.a.add("hubvisor",((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(rr.c){if(n.banner||n.skin){const i=$o(n);No(e,t.placementId,i,[{bidder:r.bidder,params:r.params}])}n.native&&Uo(e,t.placementId,[{bidder:r.bidder,params:r.params}],n.native),n.outstream&&Vo(e,t.placementId,n.outstream,[{bidder:r.bidder,params:r.params}],t.rendering?.outstream),n.instream&&Po(e,t.placementId,n.instream,[{bidder:r.bidder,params:r.params}])}}));const{warn:ip,error:ap,debug:sp}=st.a.tag("hawk-bid-adapter"),op={code:"hawk",gvlid:275,supportedMediaTypes:[bn,hn],isBidRequestValid:e=>!!Ao(e.params)||(ap("Bid request parameters are invalid",e),!1),buildRequests(e,t){if(!e)return[];const r=u.b.getConfig("hubvisor")?.context;if(!r)return ip("Hawk Context unavailable, cannot build bid requests"),[];const n=ld(),i=pd(),a=Gi(e,(e=>e.bidderRequestId));return Object.entries(a).map((([e,a])=>{const s=vd({id:e,bidderRequest:t,context:r});n&&(s.bcat=n),i&&(s.badv=i),t.uspConsent&&s.regs?.ext&&(s.regs.ext.us_privacy=t.uspConsent),s.regs&&!0===u.b.readConfig("coppa")&&(s.regs.coppa=1);for(const e of a??[])Td(s,e);return{method:"POST",url:"https://hubvisor.eu-rtb.tabmo.io/requests",data:s}}))},interpretResponse(e){if(!(0,ad.c)(e.body))return sp("response body is not a bid response",e.body),[];const{assumeRequestSizeForEmptyResponseSize:t=!0}=u.b.getConfig("hubvisor"),r=u.b.getConfig("hubvisor").context,n=e.body,i=[];if(!n.seatbid)return i;for(const e of n.seatbid)if(e.bid)for(const a of e.bid)Sd(i,n,e,a,{context:r,assumeRequestSizeForEmptyResponseSize:t});return i}};(0,tt.b)(op),kt.a.add(It.a.hawk,((e,{bid:t,placement:r,resolvedMediaTypes:n})=>{if(ra.a)return;const i=t.params.deals?[...t.params.deals,...r.bidRequest.deals??[]]:r.bidRequest.deals,a=jo(i??[]),s={...t.params,deals:i};if(n.banner||n.skin){const i=$o(n);No(e,r.placementId,i,[{bidder:t.bidder,params:{...s,video:void 0}}],{requestDealIds:a})}n.outstream&&(r.rendering?.outstream?.hbvFormat?Vo(e,r.placementId,n.outstream,[{bidder:t.bidder,params:s}],{...r.rendering?.outstream},{requestDealIds:a}):Vo(e,r.placementId,n.outstream,[{bidder:t.bidder,params:s}],{...r.rendering?.outstream,expand:Nn.b.whenVisible},{requestDealIds:a})),n.instream&&Po(e,r.placementId,n.instream,[{bidder:t.bidder,params:s}],{requestDealIds:a})})),kt.b.add(It.a.hawk,op.gvlid);var dp=r(74);const{info:cp}=st.a.tag("short-circuit"),lp=new class{#q;#he=e=>{const t=new Set;for(const{renderable:{content:r}}of e)for(const e of r)t.add(e.bidResponse.placementId);this.#q?.emit(nr.a.adrequest,t)};#_n=e=>{const t=e.placement;return t.rendering?.hsc?.outOfPage?{renderable:e,options:{skipIframe:!0}}:{renderable:e,options:{selector:t.rendering?.hsc?.selector??`#${t.placementId}`}}};#Jr=e=>{const t=e.map(this.#_n);this.#he(t),(0,dp.a)(t,{isDfpBypass:!1})};start=e=>{this.#q=e.bus};canRender=e=>!!e.placement.rendering?.hsc;render=e=>{cp("Renderables received",e),this.#Jr(e)}};kt.h.register(Nn.a.hsc,lp);const pp=["prebid-eu","prebid-us","prebid-asia"],up=["USD"],mp=[b.b,b.c],bp={NATIVE:{IMAGE_TYPE:{ICON:1,MAIN:3},ASSET_ID:{TITLE:1,IMAGE:2,ICON:3,BODY:4,SPONSORED:5,CTA:6},DATA_ASSET_TYPE:{SPONSORED:1,DESC:2,CTA_TEXT:12}}},fp={code:"rtbhouse",supportedMediaTypes:mp,gvlid:16,isBidRequestValid:function(e){return!(!(0,p.c)(pp,e.params.region)||!e.params.publisherId)},buildRequests:function(e,t){e=(0,d.b)(e);const r={id:t.bidderRequestId,imp:e.map((e=>function(e,t){const r={id:e.bidId,banner:hp(e),native:yp(e),tagid:e.adUnitCode.toString()},n=function(e){const t=[];return"function"==typeof e.getFloor&&Object.keys(e.mediaTypes).forEach((r=>{(0,p.c)(mp,r)&&t.push(e.getFloor({currency:up[0],mediaType:r,size:e.sizes||"*"}).floor)})),t.length>0?Math.max(...t):parseFloat(e.params.bidfloor)}(e);n&&(r.bidfloor=n),t.fledgeEnabled?(r.ext=r.ext||{},r.ext.ae=e?.ortb2Imp?.ext?.ae):r.ext?.ae&&delete r.ext.ae;const i=(0,a.a)(e,"ortb2Imp.ext.tid");return i&&(r.ext=r.ext||{},r.ext.tid=i),r}(e,t))),site:gp(e,t),cur:up,test:e[0].params.test||0,source:vp(e[0],t)};if(t&&t.gdprConsent&&t.gdprConsent.gdprApplies){const e=t.gdprConsent.consentString?t.gdprConsent.consentString.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):"",n=t.gdprConsent.gdprApplies?1:0;r.regs={ext:{gdpr:n}},r.user={ext:{consent:e}}}if(e[0].schain){const t=function(e){return e?function(e){if(!e.nodes)return!1;const t=["asi","sid","hp"];return e.nodes.every((e=>t.every((t=>e[t]))))}(e)?e:((0,i.X)("RTB House: required schain params missing"),null):null}(e[0].schain);t&&(r.ext={schain:t})}if(e[0].userIdAsEids){const t={eids:e[0].userIdAsEids};r.user&&r.user.ext?r.user.ext={...r.user.ext,...t}:r.user={ext:t}}const n=t?.ortb2||{};["site","user","device","bcat","badv"].forEach((e=>{const t=n[e];t&&(0,i.ab)(r,{[e]:t})}));let s="creativecdn.com/bidder/prebid/bids";if(t.fledgeEnabled){const e=u.b.getConfig("fledgeConfig")||{seller:"https://fledge-ssp.creativecdn.com",decisionLogicUrl:"https://fledge-ssp.creativecdn.com/component-seller-prebid.js",sellerTimeout:500};(0,i.ab)(r,{ext:{fledge_config:e}}),s="creativecdn.com/bidder/prebidfledge/bids"}return{method:"POST",url:"https://"+e[0].params.region+"."+s,data:JSON.stringify(r)}},interpretOrtbResponse:function(e){const t=e.body;if(!(0,i.L)(t))return[];const r=[];return t.forEach((e=>{if(!e.price)return;let t;t=0===e.adm.indexOf("{")?function(e){return{requestId:e.impid,mediaType:b.c,cpm:e.price,creativeId:e.adid,width:1,height:1,ttl:55,meta:{advertiserDomains:e.adomain},netRevenue:!0,currency:"USD",native:_p(e.adm)}}(e):function(e){return{requestId:e.impid,mediaType:b.b,cpm:e.price,creativeId:e.adid,ad:e.adm,width:e.w,height:e.h,ttl:55,meta:{advertiserDomains:e.adomain},netRevenue:!0,currency:"USD"}}(e),e.ext&&(t.ext=e.ext),r.push(t)})),r},interpretResponse:function(e,t){let r;const n=e.body;let a=null;if(n.bidid&&(0,i.L)(n?.ext?.igbid)){r=this.interpretOrtbResponse({body:n.seatbid[0]?.bid},t);const e=n.ext.seller,s=n.ext.decisionLogicUrl,o="sellerTimeout"in n.ext?{sellerTimeout:n.ext.sellerTimeout}:{};n.ext.igbid.forEach((t=>{const r={};t.igbuyer.forEach((e=>{r[e.igdomain]=e.buyersignal})),a=a||{},a[t.impid]=(0,i.ab)({seller:e,decisionLogicUrl:s,interestGroupBuyers:Object.keys(r),perBuyerSignals:r},o)}))}else r=this.interpretOrtbResponse(e,t);return a?(a=Object.entries(a).map((([e,t])=>({bidId:e,config:Object.assign({auctionSignals:{}},t)}))),(0,i.Y)("Response with FLEDGE:",{bids:r,fledgeAuctionConfigs:a}),{bids:r,fledgeAuctionConfigs:a}):r}};function hp(e){if("banner"===e.mediaType||(0,a.a)(e,"mediaTypes.banner")||!e.mediaType&&!e.mediaTypes){var t=e.sizes||e.mediaTypes.banner.sizes;return{w:t[0][0],h:t[0][1],format:t.map((e=>({w:e[0],h:e[1]})))}}}function gp(e,t){let r="unknown",n=null;e&&e.length>0&&(r=e[0].params.publisherId,n=e[0].params.channel&&e[0].params.channel.toString().slice(0,50));let i={publisher:{id:r.toString()},page:t.refererInfo.page,name:window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")};return n&&(i.channel=n),i}function vp(e,t){return{tid:t?.auctionId||""}}function yp(e){if("native"===e.mediaType||(0,a.a)(e,"mediaTypes.native"))return{request:{assets:Ip(e)},ver:"1.1"}}function Ip(e){const t=e.nativeParams||(0,a.a)(e,"mediaTypes.native"),r=[];return t.title&&r.push({id:bp.NATIVE.ASSET_ID.TITLE,required:t.title.required?1:0,title:{len:t.title.len||25}}),t.image&&r.push({id:bp.NATIVE.ASSET_ID.IMAGE,required:t.image.required?1:0,img:Tp(t.image,bp.NATIVE.IMAGE_TYPE.MAIN)}),t.icon&&r.push({id:bp.NATIVE.ASSET_ID.ICON,required:t.icon.required?1:0,img:Tp(t.icon,bp.NATIVE.IMAGE_TYPE.ICON)}),t.sponsoredBy&&r.push({id:bp.NATIVE.ASSET_ID.SPONSORED,required:t.sponsoredBy.required?1:0,data:{type:bp.NATIVE.DATA_ASSET_TYPE.SPONSORED,len:t.sponsoredBy.len}}),t.body&&r.push({id:bp.NATIVE.ASSET_ID.BODY,required:t.body.request?1:0,data:{type:bp.NATIVE.DATA_ASSET_TYPE.DESC,len:t.body.len}}),t.cta&&r.push({id:bp.NATIVE.ASSET_ID.CTA,required:t.cta.required?1:0,data:{type:bp.NATIVE.DATA_ASSET_TYPE.CTA_TEXT,len:t.cta.len}}),r}function Tp(e,t){const r={type:t};if(e.aspect_ratios){const t=e.aspect_ratios[0],n=t.min_width||100;r.wmin=n,r.hmin=n/t.ratio_width*t.ratio_height}if(e.sizes){const t=Array.isArray(e.sizes[0])?e.sizes[0]:e.sizes;r.w=t[0],r.h=t[1]}return r}function _p(e){const t=JSON.parse(e).native,r={clickUrl:encodeURI(t.link.url),impressionTrackers:t.imptrackers};return t.assets.forEach((e=>{switch(e.id){case bp.NATIVE.ASSET_ID.TITLE:r.title=e.title.text;break;case bp.NATIVE.ASSET_ID.IMAGE:r.image={url:encodeURI(e.img.url),width:e.img.w,height:e.img.h};break;case bp.NATIVE.ASSET_ID.ICON:r.icon={url:encodeURI(e.img.url),width:e.img.w,height:e.img.h};break;case bp.NATIVE.ASSET_ID.BODY:r.body=e.data.value;break;case bp.NATIVE.ASSET_ID.SPONSORED:r.sponsoredBy=e.data.value;break;case bp.NATIVE.ASSET_ID.CTA:r.cta=e.data.value}})),r}(0,tt.b)(fp),kt.a.add(It.a.rtbhouse,((e,{placement:t,bid:r,resolvedMediaTypes:n})=>{if(!(0,Dt.b)()){if(n.banner||n.skin){const i=$o(n);No(e,t.placementId,i,[{bidder:r.bidder,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX",...r.params}}])}n.native&&Uo(e,t.placementId,[{bidder:r.bidder,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX",...r.params}}],n.native)}})),kt.b.add(It.a.rtbhouse,fp.gvlid);const wp=(0,zn.a)(),{error:Sp}=st.a.tag("france24");(0,na.b)("f24:new-page",(async e=>{const t=(e=>(0,Et.j)(e)||(0,Et.d)(e,Et.q)?(0,Mt.a)(e):(Sp("Can't validate args sent to f24 new page! Falling back to refreshing all placements",e),[]))(e);return await wp.promise,io(Bt.b.pageView,new Set(t))}));const Rp={...It.a,FTV_TTD:"FTV-TTD",FTV_Mediasquare:"FTV-Mediasquare",FTV_Triplelift:"FTV-Triplelift",FTV_Adyoulike:"FTV-Adyoulike",FTV_IndexExchange:"FTV-IndexExchange",FTV_Smart:"FTV-Smart",MSQ_Sublime:"MSQ-Sublime",Hubvisor_Pubmatic:"Hubvisor-Pubmatic",FTV_Hawk:"FTV-Hawk",FTV_RTBHouse:"FTV-RTBHouse"},xp=(0,qs.a)([1,1.2,1.3,1.4,1.5],.01),Cp=()=>{const e={};return e.hbv_cpm_adj=`${xp??"default"}`,e},Ep=e=>e.bidder===Rp.FTV_Adyoulike?.7:e.bidder===Rp.MSQ_Sublime?.8:e.bidder===Rp.FTV_Triplelift?.9:void 0,Ap=()=>xp;var kp=r(36);const Fp={gamElement:!0,placementId:!0,gamAdUnitPath:!0},Dp="meteo-france.web",Bp="meteo-france-gp.web",Mp="meteo-france-mq.web",Op="meteo-france-gf.web",Vp="meteo-france-re.web",Pp="meteo-france-yt.web",Up="allodocteurs.web",qp="france24-fr.web",Np="unknown",$p=()=>{const{hostname:e}=location;return/^(.*\.)?meteofrance\.com$/.test(e)?Dp:/^(.*\.)?meteofrance\.gp$/.test(e)||/^(.*\.)?meteofrance\.gp\.advency\.me$/.test(e)?Bp:/^(.*\.)?meteofrance\.mq$/.test(e)||/^(.*\.)?meteofrance\.mq\.advency\.me$/.test(e)?Mp:/^(.*\.)?meteofrance\.gf$/.test(e)||/^(.*\.)?meteofrance\.gf\.advency\.me$/.test(e)?Op:/^(.*\.)?meteofrance\.re$/.test(e)?Vp:/^(.*\.)?meteofrance\.yt$/.test(e)?Pp:/^(.*\.)?allodocteurs\.fr$/.test(e)||/^(.*\.)?allodocteurs-fr\.enodo\.dev$/.test(e)?Up:/^(.*\.)?france24\.com$/.test(e)?qp:Np},jp="top",zp="middle",Lp="middle2",Hp="middle3",Xp="middle4",Wp="middle5",Gp="bottom",Yp={desktop:{ban:[[728,90],[728,150],[768,90],[728,150],[970,90],[970,250],[1e3,90],[1e3,300]],pave:[[300,600],[300,250],[250,250]],paveMiddle:[[300,250]],outstreamBanner:[300,250],outstream:[640,480]},phone:{ban:[[300,150],[320,50],[300,50],[320,100],[300,50]],pave:[[300,600],[300,250],[250,250]],paveMiddle:[[300,250]],outstreamBanner:[300,250],outstream:[640,480]}},Kp=!0,Jp=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner},skin:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_atf_mban_desktop"},allowedMediaTypes:["banner","skin"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698760},allowedMediaTypes:["banner","skin"]},{bidder:Rp.FTV_Smart,params:{siteId:481520,pageId:1514994,formatId:108259}},{bidder:Rp.MSQ_Sublime,params:{zoneId:36107},allowedMediaTypes:["skin"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309703",publisherId:"161459"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_atf_pave_desktop"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_pave-atf_native_native_desktop"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698774},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:925774},allowedMediaTypes:["native"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584910,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481520,pageId:1514994,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309705",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]},{bidder:"hubvisor",params:{type:"native"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_mtf_pave_desktop"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_pave-mtf_native_native_desktop"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698776},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:925774},allowedMediaTypes:["native"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584910,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481520,pageId:1514994,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309707",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]},{bidder:"hubvisor",params:{type:"native"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_btf_pave_desktop"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_pave-btf_native_native_desktop"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698778},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:925774},allowedMediaTypes:["native"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584910,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481520,pageId:1514994,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309708",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]},{bidder:"hubvisor",params:{type:"native"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_btf_mban_desktop"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698779},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Smart,params:{siteId:481520,pageId:1514994,formatId:108263}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309710",publisherId:"161459"}}]}}],Zp=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_atf_mban_tablet"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698780},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Smart,params:{siteId:481521,pageId:1514995,formatId:108259}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309711",publisherId:"161459"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_atf_pave_tablet"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_native_native_tablet"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698781},allowedMediaTypes:["banner"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584953,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481521,pageId:1514995,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309713",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_mtf_pave_tablet"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_native_native_tablet"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698783},allowedMediaTypes:["banner"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584991,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481521,pageId:1514995,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309715",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_btf_pave_tablet"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_native_native_tablet"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698785},allowedMediaTypes:["banner"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584991,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481521,pageId:1514995,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309717",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]},{bidder:"hubvisor",params:{type:"native"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_btf_mban_tablet"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698786},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Smart,params:{siteId:481521,pageId:1514995,formatId:108263}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309718",publisherId:"161459"}}]}}],Qp={desktop:Jp,phone:[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_atf_banner_mobile"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698787},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Smart,params:{siteId:481522,pageId:1514996,formatId:108259}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309719",publisherId:"161459"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_atf_pave_mobile"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_native_native_mobile"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698788},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:925775},allowedMediaTypes:["native"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584953,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481522,pageId:1514996,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309721",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]},{bidder:"hubvisor",params:{type:"native"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_mtf_pave_mobile"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_native_native_mobile"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698790},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:925775},allowedMediaTypes:["native"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584991,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481522,pageId:1514996,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309723",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]},{bidder:"hubvisor",params:{type:"native"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_btf_pave_mobile"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_native_native_mobile"},allowedMediaTypes:["native"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698791},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:925775},allowedMediaTypes:["native"]},{bidder:Rp.MSQ_AppNexus_Brand,params:{placementId:18584991,video:{skippable:!1,playback_method:["auto_play_sound_off"]}},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Smart,params:{siteId:481522,pageId:1514996,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309725",publisherId:"161459"},allowedMediaTypes:["banner","outstream"]},{bidder:"hubvisor",params:{type:"native"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:Kp}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.com_rg_btf_banner_mobile"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_IndexExchange,params:{siteId:698792},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Smart,params:{siteId:481522,pageId:1514996,formatId:108263}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4309726",publisherId:"161459"}}]}}],tablet:Zp},eu=!0,tu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner},skin:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481529,pageId:1515003,formatId:108259}},{bidder:Rp.MSQ_Sublime,params:{zoneId:36107},allowedMediaTypes:["skin"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865247",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481529,pageId:1515003,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865251",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481529,pageId:1515003,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865254",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481529,pageId:1515003,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865257",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481529,pageId:1515003,formatId:108263}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865258",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}}],ru=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481530,pageId:1515004,formatId:108259}},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865271",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481530,pageId:1515004,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865275",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481530,pageId:1515004,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865278",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481530,pageId:1515004,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865281",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481530,pageId:1515004,formatId:108263}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865282",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],nu={desktop:tu,phone:[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481531,pageId:1515005,formatId:108259}},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865259",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481531,pageId:1515005,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865263",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481531,pageId:1515005,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865266",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481531,pageId:1515005,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865269",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:eu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481531,pageId:1515005,formatId:108263}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865270",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],tablet:ru},iu=!0,au=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner},skin:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.MSQ_Sublime,params:{zoneId:36107},allowedMediaTypes:["skin"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865319",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865321",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865323",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865325",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865326",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}}],su=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865335",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865337",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865339",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865341",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865342",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],ou={desktop:au,phone:[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865327",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865329",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865331",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865333",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865334",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],tablet:su},du=!0,cu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner},skin:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481532,pageId:1515006,formatId:108259}},{bidder:Rp.MSQ_Sublime,params:{zoneId:36107},allowedMediaTypes:["skin"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865343",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481532,pageId:1515006,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865345",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481532,pageId:1515006,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865347",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481532,pageId:1515006,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865349",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481532,pageId:1515006,formatId:108263}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865350",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}}],lu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481533,pageId:1515007,formatId:108259}},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865359",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481533,pageId:1515007,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865361",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481533,pageId:1515007,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865363",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481533,pageId:1515007,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865365",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481533,pageId:1515007,formatId:108263}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865366",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],pu={desktop:cu,phone:[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481534,pageId:1515008,formatId:108259}},{bidder:Rp.FTV_Adyoulike,params:{placement:"de9b77ced855aea7af3a700030695347"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865351",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481534,pageId:1515008,formatId:108260},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"9860aac85709d333c7632bba8b08a182"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865353",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481534,pageId:1515008,formatId:108261},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"5470b34219c67c66e71faa6f9c36fa4c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865355",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream},native:!0},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481534,pageId:1515008,formatId:108262},allowedMediaTypes:["banner","outstream"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4ff419f746db19097715672da17085eb"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865357",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:du}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:Yp.phone.outstreamBanner}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481534,pageId:1515008,formatId:108263}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3397a2ebbde2b12d811143c2a514a824"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865358",publisherId:"161459"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],tablet:lu},uu=!0,mu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner},skin:!0},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477886",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822601}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508507,pageId:1598742,formatId:108259}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_atf_mban_desktop"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_atf_habillage_desktop"},allowedMediaTypes:["skin"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"16d6eab1970f7c74daf50569b6e01cf3"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477889",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822598}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508507,pageId:1598742,formatId:108260}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_atf_pave_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"90246f1d3dafe14fee8d6b9222beb05e"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477891",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822602}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508507,pageId:1598742,formatId:108261}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_mtf_pave_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"b9dea0aa5217aa9bdc759f94661ddad9"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477893",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822599}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508507,pageId:1598742,formatId:108262}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"cac97a5d1b0e29174ee8fdb1f1bbd0d4"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477894",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822600}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508507,pageId:1598742,formatId:108263}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_btf_mban_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"965ab9a24feaee84d20cbe646c97d7b5"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}}],bu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477895",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822608}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508509,pageId:1598743,formatId:108259}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_atf_mban_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"27daef53ffb6c8ffc53ccae048cb168c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477898",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822609}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508509,pageId:1598743,formatId:108260}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_atf_pave_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"794af2a9108477242045dc3580f86f06"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477900",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822610}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508509,pageId:1598743,formatId:108261}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_mtf_pave_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"b65a453f0cb7eca39903459f54872c1a"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477902",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822611}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508509,pageId:1598743,formatId:108262}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_btf_pave_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"944ec7ec63c6287498a6611cce3f9ad0"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477903",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822612}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508509,pageId:1598743,formatId:108263}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_btf_mban_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"1d13f4dfb08732fcba406cef0c01be0b"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],fu={desktop:mu,phone:[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477904",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822606}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508510,pageId:1598744,formatId:108259}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_atf_banner_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"b412c4d32730ef804815a9cd94d21505"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477907",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822604}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508510,pageId:1598744,formatId:108260}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_atf_pave_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"b4d9bf9cc63aa94968473c6bc70292a9"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477909",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822603}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508510,pageId:1598744,formatId:108261}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_mtf_pave_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"b26ebf0a9def8f44a0003741026babd7"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477911",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822607}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508510,pageId:1598744,formatId:108262}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_btf_pave_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"2576064d354ba553e18e113dd8930ccc"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:uu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477912",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822605}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508510,pageId:1598744,formatId:108263}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.re_rg_btf_banner_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"940f19e95a9f3006bffc64e3c9509753"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],tablet:bu},hu=!0,gu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner},skin:!0},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477859",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824046}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508504,pageId:1598736,formatId:108259}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_atf_mban_desktop"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_atf_habillage_desktop"},allowedMediaTypes:["skin"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"9e0cfa4d26f539b49ea9f67f5edef1ae"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477862",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824048}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508504,pageId:1598736,formatId:108260}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_atf_pave_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"61da7c8f397c83e0ad1f48cf8d85791f"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477864",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824047}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508504,pageId:1598736,formatId:108261}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_mtf_pave_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"12548d0dc3b9dca45d0e1ed14a926600"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477866",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824044}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508504,pageId:1598736,formatId:108262}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"5256926961d2d25b3b6ef3b6b9b9eb8c"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_RR"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban},outstream:{playerSize:Yp.desktop.outstreamBanner}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477867",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824045}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508504,pageId:1598736,formatId:108263}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_btf_mban_desktop"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"4712d562f562f65c2ce3e88239a67998"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Desktop_Billboard"}}]}}],vu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477868",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824054}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508505,pageId:1598737,formatId:108259}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_atf_mban_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"2bf86a1584bc99c37c044cb8ac21e3e8"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477871",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824056}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508505,pageId:1598737,formatId:108260}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_atf_pave_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"ec0dc5032c818ce020412aa867e92ee1"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477873",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824057}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508505,pageId:1598737,formatId:108261}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_mtf_pave_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"7b4e0e39432db9efc804704033f06cb5"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477875",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824055}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508505,pageId:1598737,formatId:108262}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_btf_pave_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"8a970bc93194384712f9ae3f4162b14d"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477876",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824058}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508505,pageId:1598737,formatId:108263}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_btf_mban_tablet"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"3a2dcb492ac5e65d2d2b682c0cbd2993"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],yu={desktop:gu,phone:[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477877",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824049}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508506,pageId:1598740,formatId:108259}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_atf_banner_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"873234151ca0fd332497dfed5625fdf6"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477880",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824053}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508506,pageId:1598740,formatId:108260}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_atf_pave_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"0fbbee44aa286e83101527358eaddfe6"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477882",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824050}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508506,pageId:1598740,formatId:108261}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_mtf_pave_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"6af367f701c3a719e573a01925258f58"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477884",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824052}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508506,pageId:1598740,formatId:108262}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_btf_pave_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"8f514eb6f4e298281e268eee0dcdb095"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_Mobile_Infeed"}}]}},{placementId:Gp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/bottom$/i},richMedia:{useSandbox:hu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477885",publisherId:"161459"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:824051}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:508506,pageId:1598740,formatId:108263}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"meteofrance.yt_rg_btf_banner_mobile"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"a9999a3d9b95a0204bea1f07c6ccd276"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"MeteoFrance_HDX"}}]}}],tablet:vu},Iu=!0,Tu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban}},bids:[{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"allodocteurs.fr_rg_atf_mban_desktop"}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"allodocteurs.fr_rg_atf_habillage_desktop"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:753230}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481523,pageId:1514997,formatId:108259}},{bidder:Rp.MSQ_Sublime,params:{zoneId:36106},overrideMediaTypes:{skin:!0}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865367",publisherId:"161459"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"fb79c9c446c4496a8ba56849de375bf7"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_Allodocteur_D_top_Prebid"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream}},bids:[{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"allodocteurs.fr_rg_mtf_pave_desktop"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:753242},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{video:{placement:"inbanner"}}},{bidder:Rp.FTV_Smart,params:{siteId:481523,pageId:1514997,formatId:108260},allowedMediaTypes:["banner"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865368",publisherId:"161459"}},{bidder:"hubvisor",params:{type:"video"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"1e5ecf97a66f0ba1862c0b86cb220395"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_Allodocteur_D_middle_Prebid"}}]}}],_u=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"allodocteurs.fr_rg_atf_mban_tablet"}},{bidder:Rp.FTV_IndexExchange,params:{siteId:753245}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Smart,params:{siteId:481525,pageId:1514999,formatId:108259}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865371",publisherId:"161459"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"86348518b66ec79b6c38971fdb40e125"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_Allodocteur_M_top_Prebid"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"allodocteurs.fr_rg_mtf_pave_tablet"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:753246},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{video:{placement:"inbanner"}}},{bidder:Rp.FTV_Smart,params:{siteId:481525,pageId:1514999,formatId:108260},allowedMediaTypes:["banner"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865372",publisherId:"161459"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"1ad8863569c927d822b4d88ff9ed3b6c"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_Allodocteur_M_middle_Prebid"}}]}}],wu={desktop:Tu,phone:[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Iu},outstream:{hbvFormat:"video-sticky-top"}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban},outstream:{playerSize:[640,480]}},bids:[{bidder:"hubvisor",params:{type:"video"},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"allodocteurs.fr_rg_atf_banner_mobile"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:753243},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{video:{placement:"inbanner"}}},{bidder:Rp.FTV_Smart,params:{siteId:481524,pageId:1514998,formatId:108259},allowedMediaTypes:["banner"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865369",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865318",publisherId:"161459"},allowedMediaTypes:["outstream"]},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"78791c15f9ba6880d6f441de74a4b41e"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_Allodocteur_M_top_Prebid"}}]}},{placementId:"intrastitial",rendering:{renderer:Nn.a.hsc,hsc:{outOfPage:!0},format:"intrastitial",richMedia:{useSandbox:!0}},bidRequest:{mediaTypes:{banner:{sizes:[[320,480]]}},bids:[{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Hawk,params:{position:"atf"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Allodocteur_Prebidc2s_Interstitiel"}},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865299",publisherId:"161459"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"e66bb1f373152b9a657683dbb0e3307d"}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Allodocteur_Prebidc2s_Interstitiel"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Iu}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"allodocteurs.fr_rg_mtf_pave_mobile"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_IndexExchange,params:{siteId:753244},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{video:{placement:"inbanner"}}},{bidder:Rp.FTV_Smart,params:{siteId:481524,pageId:1514998,formatId:108260},allowedMediaTypes:["banner"]},{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4865370",publisherId:"161459"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}},{bidder:Rp.FTV_Adyoulike,params:{placement:"14be70e51f914b5169cf41a5eea28e31"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_Allodocteur_M_middle_Prebid"}}]}}],tablet:_u},Su=!0,Ru=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477913",publisherId:"161459"}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_atf_mban_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508514,pageId:1598745,formatId:108259}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822613}},{bidder:Rp.FTV_Adyoulike,params:{placement:"0acf02ea5aba32361381302ccac8a700"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Desktop_top"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477914",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_atf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508514,pageId:1598745,formatId:108260}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822616},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"6afb1e8f10b04e81271a96ef4ee6da86"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Desktop_middle"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477915",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508514,pageId:1598745,formatId:108261}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822614},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"604234eff552799e75ea52468ede76a5"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Desktop_middle2"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.paveMiddle},outstream:{playerSize:Yp.desktop.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477916",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508514,pageId:1598745,formatId:108262}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822615},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4a6fc1b9346e268116f0d925f4ef51df"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Desktop_middle3"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Xp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle4$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477917",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508514,pageId:1598745,formatId:112698}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822617},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"a6024196d9177e114fbf9f8f4434c53f"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Desktop_middle4"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Wp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle5$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.desktop.pave},outstream:{playerSize:Yp.desktop.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477918",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508514,pageId:1598745,formatId:112699}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822619},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"8b22ec29912d3fdc0e84f5fad2bdea49"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Desktop_middle5"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}}],xu=[{placementId:jp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/top$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.ban}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477919",publisherId:"161459"}},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_atf_mban_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508517,pageId:1598747,formatId:108259}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822623}},{bidder:Rp.FTV_Adyoulike,params:{placement:"0acf02ea5aba32361381302ccac8a700"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Tablet_top"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477920",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_atf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508517,pageId:1598747,formatId:108260}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822626},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"6afb1e8f10b04e81271a96ef4ee6da86"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Tablet_middle"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477921",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508517,pageId:1598747,formatId:108261}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822625},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"604234eff552799e75ea52468ede76a5"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Tablet_middle2"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477922",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508517,pageId:1598747,formatId:108262}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822627},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"4a6fc1b9346e268116f0d925f4ef51df"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Tablet_middle3"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Xp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle4$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477923",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508517,pageId:1598747,formatId:112698}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822628},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"a6024196d9177e114fbf9f8f4434c53f"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Tablet_middle4"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Wp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle5$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477924",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508517,pageId:1598747,formatId:112699}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822629},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"8b22ec29912d3fdc0e84f5fad2bdea49"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Tablet_middle5"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}}],Cu=[{placementId:zp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477925",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_atf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508518,pageId:1598753,formatId:108260}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822620},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"e8e9b86b71eb1f621056eb1aec4956da"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Mobile_middle"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Lp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle2$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477926",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508518,pageId:1598753,formatId:108261}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822621},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"99e0801d08575b09a492e764d90eadf4"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Mobile_middle2"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Hp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle3$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.paveMiddle},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477927",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508518,pageId:1598753,formatId:108262}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822621},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"7c076ee190fc3f1ddf2e5a4cc3063a0a"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Mobile_middle3"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Xp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle4$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477928",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508518,pageId:1598753,formatId:112698}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822622},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"66476c0e96b1d89fe32734faff7a2c48"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Mobile_middle4"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}},{placementId:Wp,rendering:{renderer:Nn.a.dfp,dfp:{adUnitPath:/\/middle5$/i},richMedia:{useSandbox:Su}},bidRequest:{mediaTypes:{banner:{sizes:Yp.phone.pave},outstream:{playerSize:Yp.phone.outstream}},bids:[{bidder:Rp.Hubvisor_Pubmatic,params:{adSlot:"4477929",publisherId:"161459"},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_TTD,params:{}},{bidder:Rp.FTV_Mediasquare,params:{owner:"ftv",code:"france24.com_rg_btf_pave_desktop"}},{bidder:Rp.FTV_Smart,params:{siteId:508518,pageId:1598753,formatId:112699}},{bidder:Rp.FTV_IndexExchange,params:{siteId:822624},allowedMediaTypes:["banner"]},{bidder:Rp.FTV_Adyoulike,params:{placement:"235f2b34903c1042cb4dc6d9ef2b3e84"},overrideMediaTypes:{nativeBanner:!0}},{bidder:Rp.FTV_Triplelift,params:{inventoryCode:"Hubvisor_France24_FR_Mobile_middle5"}},{bidder:Rp.FTV_RTBHouse,params:{region:"prebid-eu",publisherId:"lvixcR5IavWU9mlyqjnX"}}]}}],Eu={[Dp]:Qp,[Bp]:nu,[Mp]:ou,[Op]:pu,[Vp]:fu,[Pp]:yu,[Up]:wu,[qp]:{desktop:Ru,phone:Cu,tablet:xu}},Au=[Rp.FTV_Mediasquare],ku="allodocteurs",Fu={[Dp]:"meteo-france",[Bp]:"meteo-france-gp",[Mp]:"meteo-france-mq",[Op]:"meteo-france-gf",[Vp]:"meteo-france-re",[Pp]:"meteo-france-yt",[Up]:ku,"allodocteurs.amp":ku,[qp]:"france24",[Np]:"unknown"}[$p()],Du=()=>({pageZone:"ros",layout:Tt.d,supportCode:$p(),publisherBrand:Fu,networkCode:"france-television"}),Bu=e=>{const t=document.body;if(!t)throw new Error("pageWrap was not found with document.body");const r=document.getElementById("hbv-custom-wrapper")??document.createElement("div");r.id="hbv-custom-wrapper",(0,$n.c)(r),r.append(e),t.insertBefore(r,t.firstChild),(()=>{const e=document.getElementById("page_wrapper"),t=document.getElementById("header");if(!e||!t)throw new Error("required element missing: #page_wrapper or #header");const r=t.offsetHeight;(0,$n.a)("hbv-custom-style",`\n    #hbv-custom-wrapper {\n      bottom: 0;\n      left: 0;\n      overflow: hidden;\n      position: absolute;\n      right: 0;\n      top: ${r}px;\n      height: 1000px;\n    }\n\n    html {\n      margin-top: ${204*1.14}px;\n    }\n\n    .arche.auto-promo {\n      display: none;\n    }\n\n    #hbv-custom-render {\n      transform: translate(-50%, 70px) scale(1.14) !important\n    }\n  `),window.isDisplayedArche=!0})()},Mu={[Dp]:Bu,[Bp]:Bu,[Mp]:Bu,[Op]:Bu,[Vp]:Bu,[Pp]:Bu},Ou=(e,t)=>{const r=Du(),n=Mu[r.supportCode];if(!n)throw new Tn.b(Tn.a.noSkinRenderer,`couldn't find skin renderer for ${r.supportCode} at placementId '${t.bidResponse.placementId}'`);return n(e,t)},Vu=new Rt.a({name:"dynamic-timeout",storageType:()=>(0,xt.a)({name:"dynamicTimeout"}),freshnessInterval:0,expirationInterval:(()=>{switch(Tt.d){case Tt.a.desktop:return 3600;case Tt.a.tablet:return 1800;default:return 300}})(),loader:()=>{const e=Ha();if(!e)return 1.8;switch(Tt.d){case Tt.a.desktop:return e<4.5?3:e<7.5?2.8:e<12.75?2.2:1.7;case Tt.a.phone:return e<2?3:e<3.25?2.8:e<5.5?2.2:1.8;default:return e<1.75?3:e<2.75?2.8:e<4.5?2.5:1.8}}}),Pu=async({refreshReason:e,requestedPlacements:t})=>{const r=Du();let n=(e=>{const t=(e=>{const{supportCode:t,layout:r}=e;return(Eu[t]??{})[r]??[]})(e);for(const e of t)for(const t of e.bidRequest.bids)t.bidder===Rp.Hubvisor_Pubmatic&&e.bidRequest.mediaTypes.outstream&&(t.overrideMediaTypes={...e.bidRequest.mediaTypes,outstream:{...e.bidRequest.mediaTypes.outstream,openRtbParams:{placement:e.placementId.startsWith("middle")?3:2,minbitrate:1,maxbitrate:700}}});if(ra.a)for(const e of t)delete e.bidRequest.mediaTypes.outstream,e.bidRequest.bids=e.bidRequest.bids.filter((e=>Au.includes(e.bidder)));return t})(r);const i=await Vu.fetchIfNeeded()??1.8;return n=((e,t,r)=>{if(t.size<=0)return e;const n=((e,t)=>{if(t?.gamAdUnitPath)return window.googletag?.pubads().getSlots().filter((t=>e.has(t.getSlotElementId()))).map((e=>e.getAdUnitPath()))})(t,r);return e.filter((e=>{const i=r?.gamAdUnitPath&&(0,Nn.c)(e.rendering?.dfp)&&(0,kp.b)(e.rendering?.dfp.adUnitPath,...n??[],...t),a=r?.gamElement&&(0,Nn.d)(e.rendering?.dfp)&&(0,kp.b)(e.rendering?.dfp.elementId,...t),s=r?.instream&&e.rendering?.instream?.playerId&&t.has(e.rendering.instream.playerId),o=r?.generic&&e.rendering?.generic?.id&&t.has(e.rendering.generic.id),d=r?.placementId&&t.has(e.placementId),c=r?.smartFormatId&&e.rendering?.sas?.formatId&&(0,Mt.a)(e.rendering?.sas?.formatId).some((e=>t.has(`${e}`))),l=r?.hscSelector&&e.rendering?.hsc?.selector&&(0,Et.q)(e.rendering?.hsc?.selector)&&t.has(e.rendering.hsc.selector.replace("#",""));return i||a||s||o||d||c||l}))})(n,t,Fp),n.some((e=>e.placementId===jp))&&(()=>{window.sublime?.cleanUp?.(),document.getElementById("hbv-custom-wrapper")?.remove(),document.getElementById("hbv-custom-style")?.remove();const e=document.getElementById("page_wrapper");e&&(e.style.cssText=""),window.isDisplayedArche=!1})(),{refreshReason:e,context:r,placements:n,bidderTimeout:i}},Uu={[Rp.MSQ_AppNexus_Brand]:Rp.AppNexus,[Rp.FTV_TTD]:Rp.ttdDirectPath,[Rp.FTV_Mediasquare]:Rp.mediasquare,[Rp.FTV_Triplelift]:Rp.TripleLift,[Rp.FTV_Adyoulike]:Rp.Adyoulike,[Rp.FTV_IndexExchange]:Rp.IndexExchange,[Rp.FTV_Smart]:Rp.Smart,[Rp.MSQ_Sublime]:Rp.Sublime,[Rp.Hubvisor_Pubmatic]:Rp.pubmatic,[Rp.FTV_Hawk]:Rp.hawk,[Rp.FTV_RTBHouse]:Rp.rtbhouse},qu=["754efa41","kxds3bxd"],Nu=(e,{bidResponse:t})=>t.bidder!==Rp.FTV_TTD||"video"!==t.mediaType||!qu.includes(t.creativeId),$u=(e,t)=>{const{bidResponse:r}=t.content;r.mediaType===hn&&((e,t)=>{const r=document.getElementById(t.placementId)??((e,t)=>{const r=document.createElement("div");if(r.id=t,$p()===Up){const e=document.getElementsByClassName("ad-middle")[0];if(e)return e.append(r),r;throw new Tn.b(Tn.a.videoWrapperDivNotFound,`containerElement not found for ${t}`)}const n=e.defaultView?.frameElement;if(n?.parentElement)return n.parentElement.insertAdjacentElement("afterbegin",r),r;throw new Tn.b(Tn.a.videoWrapperDivNotFound,`iframe not found in the DOM for ${t}`)})(e,t.placementId);(0,$n.c)(r);const n=(0,jn.a)(document,t,{creativeType:"video"});r.append(n)})(e,r)},ju=(e,t,r)=>{const n=document.createDocumentFragment();for(const e of t){if((0,Et.j)(e)||""===e)continue;if((0,Et.q)(e)||(0,Et.l)(e)||(0,Et.e)(e)){n.append(document.createTextNode(`${e}`));continue}if((0,Et.c)(e)){ju(n,e,r);continue}if(e instanceof Element){n.append(e);continue}const t=zu(e,r);t&&n.append(t)}e.appendChild(n)},zu=(e,t)=>{if((0,Et.q)(e.type)){"svg"===e.type.toLowerCase()&&(t={...t,ns:"http://www.w3.org/2000/svg"});const{children:r,...n}=e.props,i=((e,t)=>t.ns?document.createElementNS(t.ns,e):document.createElement(e))(e.type,t);return((e,t)=>{for(const[r,n]of Object.entries(t))e.setAttribute("className"===r?"class":r,n)})(i,n),ju(i,r,t),i}{const r=e.type(e.props);return zu(r,t)}},Lu=(e,t,...r)=>({type:e,props:{...t,children:r}}),Hu=(e,{bidResponse:t})=>{const r=(e=>{const t=e?.defaultView?.frameElement;return t?.parentElement})(e);if(!r)throw new Tn.b(Tn.a.nativeAdserverPlacementInvalid,"root was not found");const n=`native-${t.placementId}`;if(document.getElementById(n)?.remove(),!r.parentNode)throw new Tn.b(Tn.a.nativeAdserverPlacementInvalid,"root parent node wasn't found");(0,$n.a)("hbv-native-style",".hbv-native{background-color:#eee;border:1px solid #dee2e6;border-radius:5px;font-family:Quicksand,sans-serif;font-size:13px;height:320px;line-height:15px;margin-top:-15px;max-width:350px;text-align:left}.hbv-native .hbv-media{margin:auto}.hbv-native .hbv-media img{display:block;height:180px;margin:auto}.hbv-native .hbv-title{padding:6px}.hbv-native .hbv-title a{color:#003661;font-weight:700}.hbv-native .hbv-ad,.hbv-native .hbv-summary{padding:6px}.hbv-native .hbv-summary a{color:#003661}.hbv-native .hbv-sponsor{padding:6px}.hbv-native .hbv-sponsor a{color:#003661}#quinary_section .block{padding:0}@media (max-width:1024px)and (min-width:640px){.hbv-native{max-width:265px}}@media (max-width:639px){.hbv-native{margin-bottom:5px;width:100%}}");const i=(e=>{if((0,wn.b)(e))return(e=>{const t=e.privacy&&Lu("a",{class:"hbv-privacy",href:e.privacy.optoutClickUrl,target:"_blank",rel:"noopener nofollow"},Lu("img",{src:e.privacy.optoutImageUrl,style:"display:block"})),r=JSON.stringify(e.clickTrackers);return(e=>{const t=zu(e,{ns:void 0});if((0,$n.i)(t))return t;throw new Error("vnode does not render to HTMLElement")})(Lu("article",{class:"hbv-native"},e.impTrackers.map((e=>Lu("img",{class:"hbv-pixel",src:e,width:"1",height:"1"}))),Lu("div",{class:"hbv-ad"},"Annonce"),Lu("div",{class:"hbv-media"},Lu("a",{href:e.clickUrl,"data-hbv-clk":r,target:"_blank",rel:"noopener nofollow"},Lu("img",{src:e.imageUrl}))),Lu("div",{class:"hbv-content"},Lu("h3",{class:"hbv-title"},Lu("a",{href:e.clickUrl,"data-hbv-clk":r,target:"_blank",rel:"noopener nofollow"},e.title)),Lu("p",{class:"hbv-summary"},Lu("a",{href:e.clickUrl,"data-hbv-clk":r,target:"_blank",rel:"noopener nofollow"},((e,t,r="...")=>e.length>=t?e.substring(0,t)+r:e)(e.body,160))),Lu("div",{class:"hbv-sponsor"},Lu("a",{href:e.clickUrl,"data-hbv-clk":r,target:"_blank",rel:"noopener nofollow",class:"hbv-sponsor-link"},"Sponsoris par ",e.sponsoredBy))),t))})({impTrackers:(t=e.prebid).impressionTrackers,clickUrl:t.clickUrl,clickTrackers:t.clickTrackers,title:t.title,body:t.body,imageUrl:t.image.url,sponsoredBy:t.sponsoredBy});var t;throw new Error("Unsupported native payload type")})(t.native);if(i.id=n,r.parentNode.insertBefore(i,r.nextElementSibling),rr.f){const e=document.createComment(` ${JSON.stringify(t.native,null,2)} `);i.insertBefore(e,i.firstChild)}const a=(0,jn.a)(document,t,{creativeType:"native"});i.insertBefore(a,i.firstChild)},Xu={[Up]:"allodocteurs.fr",[Dp]:"meteofrance.com",[Op]:"meteofrance.gf",[Bp]:"meteofrance.gp",[Mp]:"meteofrance.mq",[Vp]:"meteofrance.re",[Pp]:"meteofrance.yt",[qp]:"france24.com/fr"};let Wu=In.a;(e=>{const{format:t}=e;So[t]=e})({format:"video-sticky-top",canRender:(e,t)=>Tt.d===Tt.a.phone&&"video-sticky-top"===t.hbvFormat&&!(!e.vastUrl&&!e.vastXml),createRenderCmd:(e,t)=>()=>{Wu();const r=(()=>{const e=document.getElementsByClassName("gam-wrapper ad ad-top ad-mobile")[0];if(!e)return Ja.a.error(new Error("Couldn't find insertionPointReference (.gam-wrapper.ad.ad-top.ad-mobile)."));const t=document.createElement("div");t.classList.add("hbv-initial");const r=document.createElement("div");r.id="hbv-video-sticky-top",r.classList.add("hbv-initial");const n=document.createElement("button");n.innerText="";const i=document.createElement("div");i.classList.add("hbv-initial"),i.append(n),r.append(i),t.append(r);const a=visualViewport.height/2,s=()=>{scrollY<a||(t.classList.add("hbv-minimized","hbv-minimized-animation"),r.classList.add("hbv-minimized","hbv-minimized-animation"),i.classList.add("hbv-minimized","hbv-minimized-animation"),r.style.height="100px",t.style.height="100px",i.style.height="100px",document.body.removeEventListener("scroll",s))};(0,$n.b)(document,"hbv-video-sticky-top",".e-header__sticky #hbv-video-sticky-top{position:fixed;top:40px}#hbv-video-sticky-top{position:relative;width:100%;z-index:9999}#hbv-video-sticky-top>div{left:0;width:100%}#hbv-video-sticky-top>div>button{background:none;border:none;color:#fff;left:0;padding:4px;position:absolute;top:0;z-index:2}#hbv-video-sticky-top .btn-volume{bottom:8px;box-sizing:content-box;box-sizing:initial;top:auto}@media screen and (orientation:portrait){#hbv-video-sticky-top.hbv-initial{height:211px;max-height:211px}#hbv-video-sticky-top.hbv-minimized{animation-duration:.8s;animation-timing-function:ease-out;height:100px;max-height:100px}#hbv-video-sticky-top.hbv-minimized.hbv-minimized-animation{animation-name:hbv-minimized-animation}@keyframes hbv-minimized-animation{0%{height:211px;max-height:211px}to{height:100px;max-height:100px}}}@media screen and (orientation:landscape){#hbv-video-sticky-top.hbv-initial,#hbv-video-sticky-top.hbv-minimized{height:100px;max-height:100px}}"),scrollY>=a&&s(),document.addEventListener("scroll",s,{capture:!0,passive:!0});const o=()=>{t.remove(),document.removeEventListener("scroll",s),n.removeEventListener("click",o),e.remove()};return n.addEventListener("click",o,{capture:!0,once:!0,passive:!0}),e.style.display="none",e.insertAdjacentElement("afterend",t),Ja.a.value({dummyContainer:t,playerContainer:i,cleanup:o})})();if(r.isError)return Wu=In.a,console.error(r.error?.message);const{dummyContainer:n,playerContainer:i,cleanup:a}=r.get();Wu=a,(0,ri.a)(i,{vastXml:e.vastXml,vastUrl:e.vastUrl,targetWidth:e.width,targetHeight:e.height,maxWidth:1/0,hasDynamicHeight:!0,fitHeight:()=>{const e=(0,Tt.e)()===Tt.b.portrait?211:100;return n.classList.contains("hbv-minimized")?100:e},expand:Nn.b.noLazyLoad,onEvent:(r,n)=>("playbackComplete"!==r&&"error"!==r||a(),t.onEvent?.(e,r,n))})}});const Gu=["ricard.com",...Fu===ku?["mcdonalds.com","mcdonalds.fr","mcdonalds.es","mcdonalds-recrute.fr"]:[]],{info:Yu,debug:Ku,error:Ju}=st.a.tag("visibility:refresh"),{info:Zu,debug:Qu}=st.a.tag("visibility:events:exposition"),em=new Map,tm=[],rm=(()=>{if(window.ontouchstart)return!0;const e=["-webkit-","-moz-","-o-","-ms-",""].map((e=>`(${e}touch-enabled)`)).join(", ");return matchMedia(e).matches})(),{debug:nm}=st.a.tag("visibility:events:focus"),im=()=>{const e=rm?()=>In.a:(e,t,r)=>{nm(`${e.id||e.tagName}: start observing`);const n=t=>{nm(`${e.id||e.tagName}: received '${t.type}'`),r({isFocus:"mouseenter"===t.type})},i=new ea([$i(e,"mouseenter",n),$i(e,"mouseleave",n)]);return()=>{nm(`${e.id||e.tagName}: disposing`),i.dispose()}};return(t,r,n)=>(n({canRefresh:!0}),e(t,r,(e=>n({canRefresh:!e.isFocus}))))},{debug:am,warn:sm}=st.a.tag("autorefresh:triggers:gam"),{debug:om,warn:dm}=st.a.tag("autorefresh:triggers:sas");var cm=r(75);const{debug:lm}=st.a.tag("autorefresh:triggers:hsc"),pm=(e,t)=>{const r=Rs(e);for(const e of Object.keys(r.strings).filter((e=>/^hbv?_/.test(e))))delete r.strings[e];for(const e of Object.keys(r.numbers).filter((e=>/^hbv?_/.test(e))))delete r.numbers[e];return r.strings.hb_rfs="true",r.numbers.hb_pn=`${t}`,Ss(r)},{debug:um}=st.a.tag("visibility:events:timer"),mm=new Map,bm=[],fm=(e,t)=>{t.isTimedUp&&t.inView&&t.isVisible&&e({isVisible:!0})},{debug:hm}=st.a.tag("visibility:events:basic-timer"),gm=new Map,vm=[],ym=(e,t)=>{if(t.isTimedUp){try{const e=window.googletag?.pubads().getSlots().find((e=>e.getSlotElementId().endsWith("mpu_3")));e?.setTargeting("hbv_visible_placement_abtest",`${t.isVisible&&t.inView}`)}catch{}e({isVisible:!0})}},{debug:Im,warn:Tm,error:_m,info:wm}=st.a.tag("autorefresh"),Sm=(0,ht.a)((e=>{e!==Up&&e!==qp&&e!==Dp||(e=>{if((0,St.a)("no-refresh"))return In.a;const t=e.additionalUnregisterListener??[];!1!==e.withUnregisterListener&&t.push((e=>{const t=t=>{const r=document.getElementById(t);if(!r)return Tm(`${t}: couldn't get element`);e(r)};return Na.on("didExcludePlacement",t),()=>{Na.off("didExcludePlacement",t)}}));const r=(0,St.b)("autorefresh-duration")??e.autorefresh?.duration??30,n=e.autorefresh?.rootMargin,i=[im()],a=e.autorefresh?.visibleRatio??.5;"timer"===e.refreshListenerKind?i.push((e=>{const t=(e=>{const t=(0,Et.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of bm)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(r,n,i)=>{const a=(0,Et.g)(e.visibleRatio)?e.visibleRatio(r,n):e.visibleRatio,s=t??new IntersectionObserver((e=>{for(const t of bm)t(e)}),{threshold:[0,a,1],rootMargin:e.rootMargin,root:e.root}),o={timeoutId:-1,isTimedUp:!1,inView:!1,isVisible:"visible"===document.visibilityState};o.timeoutId=o.timeoutId>=0?o.timeoutId:((e,t,r,n)=>{const i=(0,Et.g)(n.duration)?n.duration(t):n.duration;return window.setTimeout((()=>{um(`${t.id||t.tagName}: timer was up for ${i}s`),e.isTimedUp=!0,fm(r,e)}),1e3*i)})(o,r,i,e);const d=e=>{const t=e.find((({target:e})=>e===r));if(!t)return;const{intersectionRatio:n,isIntersecting:s}=t;um(`${r.id||r.tagName}:`,{intersectionRatio:n,isIntersecting:s}),o.inView=s&&n>=a,fm(i,o)},c=()=>{const e="visible"===document.visibilityState;e&&um(`${r.id||r.tagName}: document visible`),o.isVisible=e,fm(i,o)};return document.addEventListener("visibilitychange",c),bm.push(d),mm.set(r,(mm.get(r)??0)+1),s.observe(r),um(`${r.id||r.tagName}: start observing`),()=>{um(`${r.id||r.tagName}: disposing`),clearTimeout(o.timeoutId),document.removeEventListener("visibilitychange",c);const e=bm.indexOf(d);e>=0&&bm.splice(e,1);const t=mm.get(r)??0;t>1?mm.set(r,t-1):(mm.delete(r),s.unobserve(r))}}})(e);return(e,r,n)=>t(e,r,(({isVisible:e})=>n({canRefresh:e})))})({visibleRatio:a,duration:r})):"basic-timer"===e.refreshListenerKind?i.push((e=>{const t=(e=>{const t=(0,Et.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of vm)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(r,n,i)=>{const a=(0,Et.g)(e.visibleRatio)?e.visibleRatio(r,n):e.visibleRatio,s=t??new IntersectionObserver((e=>{for(const t of vm)t(e)}),{threshold:[0,a,1],rootMargin:e.rootMargin,root:e.root}),o={timeoutId:-1,isTimedUp:!1,inView:!1,isVisible:"visible"===document.visibilityState};o.timeoutId=o.timeoutId>=0?o.timeoutId:((e,t,r,n)=>{const i=(0,Et.g)(n.duration)?n.duration(t):n.duration;return window.setTimeout((()=>{hm(`${t.id||t.tagName}: timer was up for ${i}s`),e.isTimedUp=!0,ym(r,e)}),1e3*i)})(o,r,i,e);const d=e=>{const t=e.find((({target:e})=>e===r));if(!t)return;const{intersectionRatio:n,isIntersecting:s}=t;hm(`${r.id||r.tagName}:`,{intersectionRatio:n,isIntersecting:s}),o.inView=s&&n>=a,ym(i,o)},c=()=>{const e="visible"===document.visibilityState;e&&hm(`${r.id||r.tagName}: document visible`),o.isVisible=e,ym(i,o)};return document.addEventListener("visibilitychange",c),vm.push(d),gm.set(r,(gm.get(r)??0)+1),s.observe(r),hm(`${r.id||r.tagName}: start observing`),()=>{hm(`${r.id||r.tagName}: disposing`),clearTimeout(o.timeoutId),document.removeEventListener("visibilitychange",c);const e=vm.indexOf(d);e>=0&&vm.splice(e,1);const t=gm.get(r)??0;t>1?gm.set(r,t-1):(gm.delete(r),s.unobserve(r))}}})(e);return(e,r,n)=>t(e,r,(({isVisible:e})=>n({canRefresh:e})))})({visibleRatio:a,duration:r})):i.push((e=>{const t=(e=>{const t=(0,Et.g)(e.visibleRatio)?void 0:new IntersectionObserver((e=>{for(const t of tm)t(e)}),{threshold:[0,e.visibleRatio,1],rootMargin:e.rootMargin,root:e.root});return(r,n,i)=>{const a=(0,Et.g)(e.visibleRatio)?e.visibleRatio(r,n):e.visibleRatio,s=t??new IntersectionObserver((e=>{for(const t of tm)t(e)}),{threshold:[0,a,1],rootMargin:e.rootMargin,root:e.root});let o;const d=t=>{const s=t.find((e=>e.target===r));if(!s)return;const d=s.isIntersecting??s.intersectionRatio>0;Qu(`${r.id||r.tagName}:`,{intersectionRatio:s.intersectionRatio,isIntersecting:d});const c=o?.timer??((e,t,r,n)=>{const i=(0,Et.g)(n.duration)?n.duration(e,t):n.duration;return new ss((()=>{Zu(`${e.id||e.tagName}: was visible ${i}s`),r({isVisible:!0})}),i)})(r,n,i,e),l=d&&s.intersectionRatio>=a;l?(Zu(`${r.id||r.tagName}: in view -> resuming timer (remaining: ${c.remaining}s)`),c.resume()):(Zu(`${r.id||r.tagName}: *not* in view -> pausing timer (remaining: ${c.remaining}s)`),c.pause()),o={timer:c,inView:l}},c=()=>{if(!o)return;const{timer:e,inView:t}=o;"visible"===document.visibilityState&&t?(Qu(`${r.id||r.tagName}: document visible && in view -> resuming timer (remaining: ${e.remaining}s)`),e.resume()):(Qu(`${r.id||r.tagName}: document *not* visible -> pausing timer (remaining: ${e.remaining}s)`),e.pause())};return document.addEventListener("visibilitychange",c),tm.push(d),em.set(r,(em.get(r)??0)+1),s.observe(r),Qu(`${r.id||r.tagName}: start observing`),()=>{Qu(`${r.id||r.tagName}: disposing`),document.removeEventListener("visibilitychange",c);const e=tm.indexOf(d);e>=0&&tm.splice(e,1);const t=em.get(r)??0;t>1?em.set(r,t-1):(em.delete(r),s.unobserve(r)),o?.timer.pause(),o=void 0}}})(e);return(e,r,n)=>t(e,r,(({isVisible:e})=>n({canRefresh:e})))})({visibleRatio:a,duration:r,rootMargin:n}));const s=[];var o,d;e.adservers.has("gam")&&s.push((o=e.gamCustom?.watchParent,d=e.autorefresh?.isRefreshAllowedForElement,e=>{let t=t=>{const r=t.slot.getSlotElementId(),n=document.getElementById(r);if(!n)return sm(`${r}: couldn't get element`);if(qa.has(r))return am(`${r}: excluded from refresh -> rejecting`);if(!1===d?.({element:n,elementId:r,kind:"gam",event:t}))return am(`${r}: filtered out -> rejecting`);const i=o&&n.parentElement?n.parentElement:n;e(i,{trigger:"gam",slot:t.slot,advertiserId:t.advertiserId})};return(0,fs.b)((e=>{e.pubads().addEventListener("slotRenderEnded",(e=>{t?.(e)}))})),()=>{t=void 0}})),e.adservers.has("sas")&&s.push((e=>t=>{const r=r=>{const{tagId:n,formatId:i}=r,a=document.getElementById(n);return a?qa.has(n)?om(`${n}: excluded from refresh -> rejecting`):!1===e?.({element:a,elementId:n,kind:"sas",event:r})?om(`${n}: filtered out -> rejecting`):void t(a,{trigger:"sas",formatId:i}):dm(`${n}: couldn't get element`)};return Ts.on("ad",r),Ts.on("holisticAd",r),()=>{Ts.off("ad",r),Ts.off("holisticAd",r)}})(e.autorefresh?.isRefreshAllowedForElement)),e.adservers.has("hsc")&&s.push((e=>t=>{const r=({placementId:r,bidResponse:n,renderingDiv:i,isGamBypass:a,isSmartNoAd:s})=>{if(!s&&i)return qa.has(r)||qa.has(i.id)?lm(`${r}: excluded from refresh -> rejecting`):!1===e?.({placementId:r,element:i,elementId:i.id,kind:"hsc",bidResponse:n,isGamBypass:a})?lm(`${i.id||i.tagName}: filtered out -> rejecting`):void t(i,{trigger:"hsc",bidResponse:n,placementId:r,isGamBypass:a,isSmartNoAd:s})};return cm.a.on("hsc-render",r),cm.a.on("hsc-no-content",r),()=>{cm.a.off("hsc-render",r),cm.a.off("hsc-no-content",r)}})(e.autorefresh?.isRefreshAllowedForElement)),wm("set up auto refresh"),((e,t,r,n,i)=>{if(!(0,rr.b)()||ra.a)return Yu("autorefresh is disabled"),In.a;const a=i?.throttleDuration??.2,s=new Map,o=(e=0)=>({needsUpdate:!1,states:new Array(r.length).fill(!1),refreshCount:e}),d=Si((()=>{const e=[];Ku("fetching elements to update with observedElements",s);for(const[t,{state:r,context:n,maxRefreshCount:i}]of s){const{needsUpdate:a,states:s,refreshCount:o}=r;a&&(!i||o<i)&&s.every((e=>!0===e))&&e.push({element:t,refreshCount:o,context:n})}if(0===e.length)return Ku("no element to update");Yu("elements to update",e);try{n(e)}catch(e){(0,_n.a)(e,"error handling autorefresh")}for(const{element:t}of e){const e=s.get(t);if(!e)continue;const{state:r,disposables:n}=e;for(const e of n)e();n.splice(0,n.length),delete e.context;const i=r.refreshCount+1;e.state=o(i),e.maxRefreshCount&&i>=e.maxRefreshCount&&Ku(`element '${t.id||t.tagName}' was refreshed ${e.maxRefreshCount} times: this element won't be refreshed anymore`)}}),a,{leading:!1});t.map((e=>e((e=>{const t=s.get(e);if(t){Ku("unregistering element",e.id||e.tagName);for(const e of t.disposables)e();t.disposables.splice(0,t.disposables.length),s.delete(e)}else Ju("can't unregister element",e.id||e.tagName)})))),e.map((e=>e(((e,t)=>{(({element:e,context:t},r)=>{const n=s.get(e);if(n){const i=n.state.refreshCount;if(n.maxRefreshCount&&i>=n.maxRefreshCount)Ku(`${e.id||e.tagName}: element already refreshed ${n.maxRefreshCount} times, rejecting`);else{Ku(`${e.id||e.tagName}: already observed ${i} times'}, restarting observers`),n.context=t;for(const e of n.disposables)e();n.disposables.push(...r())}}else{Ku(`${e.id||e.tagName}: add initial state, starting observers`);const n=(0,Et.g)(i?.maxRefreshCount)?i?.maxRefreshCount(e):i?.maxRefreshCount,a={state:o(),disposables:[],context:t,maxRefreshCount:n};s.set(e,a),a.disposables.push(...r())}})({element:e,context:t},(()=>r.map(((r,n)=>r(e,t,(({canRefresh:t})=>{((e,t,r)=>{const n=s.get(e);n&&(n.state.needsUpdate=!n.maxRefreshCount||n.state.refreshCount<n.maxRefreshCount,n.state.states[r]=t)})(e,t,n),d()}))))))}))))})(s,t,i,(e=>async t=>{const r=Gi(t,(e=>"hsc"===e.context?.trigger&&e.context.isGamBypass?"gam":e.context?.trigger)),n=new Set;let i;if(r.gam){i=((e,t)=>e.gamCustom?.getElementIdsToRefresh?.(t))(e,r.gam);for(const e of i??r.gam)"gam"===e.context?.trigger?n.add(e.context.slot.getSlotElementId()):n.add(e.element.id)}if(r.hsc)for(const e of r.hsc){const t=e.context;n.add(t.bidResponse?.placementId??t.placementId)}const a=[];if(r.sas)try{const e=window.sas?.events.history("call")??[],t=new Set(r.sas.map((({element:e})=>e.id)));a.push(..._s(e,t));for(const e of a)n.add(e.formatId)}catch(e){reportError(new Tn.b(Tn.a.unexpected,e))}if(await io(Bt.b.visibility,n),r.sas)for(const e of r.sas){if(Im("lastCalls:",a),0===a.length)return Tm("couldn't match element(s) to update with calls history");const t=a.find((t=>e.element.id===t.tagId));if(!t)return _m(`couldn't get refresh's data from slot ${e.element.id}`);const{siteId:r,formatId:n,pageId:i,target:s,tagId:o}=t,d=e.refreshCount+2;window.sas?.clean(n),window.sas?.call("std",{siteId:r,pageId:Number(i),formatId:n,tagId:o,target:pm(s,d)})}if(r.gam){const t=e.gamCustom?.getGamSlots?.(r.gam)??window.googletag?.pubads().getSlots();for(const n of i??r.gam){const r="gam"===n.context.trigger&&e.gamCustom?.watchParent?n.context.slot:t?.find((e=>n.element.id===e.getSlotElementId()));if(!r)return;r.setTargeting("hbv_pn",`${n.refreshCount+2}`),r.setTargeting("hbv_rfs","true");const i=e.gamCustom?.additionalTargetings?.(n.refreshCount);if(i)for(const[e,t]of Object.entries(i))(0,Et.i)(t)?r.setTargeting(e,t):r.clearTargeting(e);e.gamCustom?.beforeRefresh?.(r),window.googletag?.pubads().refresh(r)}}})(e),{maxRefreshCount:e.autorefresh?.maxRefreshCount})})({adservers:new Set(["gam","hsc"]),refreshListenerKind:e===Dp?"timer":"exposition",autorefresh:{duration:30}})})),Rm=["IAB8-18","IAB8-5"],xm=["/21643048729,33480810/france24francais/webresponsive/default/default/interstitiel","/21643048729,33480810/france24francais/webresponsive/default/default/middle"],Cm=e=>"string"==typeof e||!xm.includes(e.getAdUnitPath()),{error:Em}=st.a.tag("FranceTelevision"),Am=Du().supportCode;(async()=>{Sm(Am),await(async e=>{Zi.hubvisorUntilInitDuration(performance.now());const t=performance.now();return window.Hubvisor?.ready?to("Hubvisor has already been loaded on this website: this is an error and should be fixed"):((ro||no)&&eo("init was called more than once: please use refresh after first initialization"),no=await e,ro=bs({options:no,refresh:io}),(0,Ct.a)(ro.settings),Vs(ro.settings.intrastitial),Zi.init(performance.now()-t),ks(ro.settings.secondChance),ro.settings.shouldPerformInitialAuction?io(Bt.b.pageView):void 0)})({additionalTargetings:Cp,cpmMultiplier:Ep,adserverMultiplier:Ap,buildRefreshOptions:Pu,preRenderStep:$u,skinRendering:Ou,filterAuctionStep:Nu,publisherId:"01DBFDB3G8049RQWPA1JZ2HSH5",support:$p(),nativeRendering:Hu,shouldPerformInitialAuction:Am!==qp,dfp2:{shouldBypassDfp:!0,shouldPerformInitialRefresh:!1,shouldRefreshNewTags:!1},ortb:{contentBlocklist:Rm,domainBlocklist:Gu,publisherName:"FTV",publisherDomain:"meteofrance.com",siteDomain:Xu[Am],useLowerCasePublisherId:!1},bidderAliases:Uu,intrastitial:{periodicity:3},secondChance:{adserver:"dfp",enabled:!0,mode:"boolean",isPlacementAllowed:Cm}}),wp.resolve()})().catch((e=>Em("Hubvisor init failed",e)))},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(28);const i=(r(11),r(20)).b.then((e=>(n.e||(e=>{const t=["consent","dynamicTimeout","clientContext","remoteConfiguration","tdid","intrastitial","adnxsid"],r=new Set(Object.keys(e));for(const n of t)r.delete(n),e[n]})(e.storagePolicy.settings),e.storagePolicy)))},(e,t,r)=>{r.d(t,{a:()=>s});var n=r(31),i=r(26),a=r(1);const s=({cmp:e,storagePolicy:t},{name:r,assumeConsentBeforeCmp:s})=>{const o=new i.a((t=>{(0,a.i)(s)&&t.next({kind:"pre",value:s}),e.subscribe((e=>{t.next({kind:"post",snapshot:e})}))})),d=e=>(0,n.c)(e?.tcData,n.a.storageAccess);return new i.a((e=>{(0,i.b)([o,t]).subscribe((([t,n])=>{const i=n.custom?.hasConsent??d,a="pre"===t.kind?t.value:i(t.snapshot);e.next(a?n.settings[r].consent:n.settings[r].noConsent)}))}))}},,,(e,t,r)=>{r.d(t,{a:()=>a});var n=r(15),i=r(0);function a({startTime:e=i.lb,ttl:t=(()=>null),monotonic:r=!1,slack:a=5e3}={}){const s=new Map,o=[],d=r?e=>o.push(e):e=>o.splice((0,i.c)(o,e,(e=>e.expiry)),0,e);let c,l;function p(){if(l&&clearTimeout(l),o.length>0){const e=(0,i.lb)();c=Math.max(e,o[0].expiry+a),l=setTimeout((()=>{const e=(0,i.lb)();let t=0;for(const r of o){if(r.expiry>e)break;s.delete(r.item),t++}o.splice(0,t),l=null,p()}),c-e)}else l=null}let u={};return{[Symbol.iterator]:()=>s.keys(),add(r){!s.has(r)&&s.set(r,function(r){const i={},s=u;let o;const[m,b]=Object.entries({start:e,delta:t}).map((([e,t])=>{let m;return function(){const b=m={};n.a.resolve(t(r)).then((t=>{b===m&&(i[e]=t,s===u&&null!=i.start&&null!=i.delta&&(o=i.start+i.delta,d(f),(null==l||c>o+a)&&p()))}))}})),f={item:r,refresh:b,get expiry(){return o}};return m(),b(),f}(r))},clear(){o.length=0,p(),s.clear(),u={}},toArray:()=>Array.from(s.keys()),refresh(){o.length=0,p();for(const e of s.values())e.refresh()}}}},(e,t,r)=>{r.d(t,{a:()=>i});var n=r(1);const i=e=>t=>(e=>(0,n.m)(e)&&(0,n.l)(e.fetchTime))(t)&&e(t.value)}],t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(108);