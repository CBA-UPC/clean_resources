(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[2074],{97243:18958:33811:(e,t,n)=>{"use strict";n.d(t,{uw:()=>T,x0:()=>Z});var r=n(41185),a=n(66062),o=n(18274),c=n(55752),i=n.n(c),d=n(5663),l=n.n(d),s=n(74890),u=n.n(s),p=n(62720),m=n(64123),g=n(11622),y=n(18966),b=n(41779);r v=[p.Z.REBLOG,p.Z.HASH_TAG,p.Z.IMAGE,p.Z.VIDEO,p.Z.CLIPBLOG,p.Z.VOICE_BLOG,p.Z.PR,p.Z.AUTO_AD],w=I=(e,t,n)=>({type:y.V7,payload:{blogId:e,entryId:t,error:n},error:!0}),Z=(0,o.H)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return function(){var o=(0,a.Z)((function*(a,o,c){var{fetchr:d}=c,s=u()(v.concat(n)),p=i()(o(),["bloggerState","blogMap",e,"blog_name"],"");if(!p||!t)return null;var b=i()(o(),["entryState","entryMetaMap",t],null),h=i()(b,"pagingType",void 0),Z=r===h,T=i()(o(),["entryState","entryMap",t],null);if(b&&Z&&T&&(!l()(T.entry_text)||404===T.status_code))return null;try{a({type:y.Gh,payload:{blogId:e,entryId:t,fieldFilter:s,frm:r}});var _={amebaId:p,blogId:e,entryId:t,fieldFilter:s,frm:r},k=yield d.read(m.Z.BlogEntry).params(_).end(),M=k.data;if(!(!1!==o().deviceState.isEmojiSupported)&&M.entities&&M.entities.entryMap)try{M=f(f({},M),{},{entities:f(f({},M.entities),{},{entryMap:yield(0,g.R9)(M.entities.entryMap)})})}catch(P){console.warn(P),M=k.data}return a(w(e,t,M,r))}catch(S){return a(I(e,t,S))}}));return function(e,t,n){return o.apply(this,arguments)}}()})),T=(0,o.H)(((e,t)=>function(){var n=(0,a.Z)((function*(n,r){var a=i()(r(),["bloggerState","blogMap",e,"blog_name"],"");if(!a||!t)return null;var o=i()(r(),["entryState","entryMap",t],null);if("amember"!==o.publish_flg||o&&(o.entry_text||404===o.statusCode))return null;try{n({type:y.tB,payload:{entryId:t}});var c={token:i()(r(),["amebloTokenState","amebloToken"],null),amebaId:a,entryId:parseInt(t,10)},d=yield(0,b.s)(c);return n(((t,d))}catch(l){return n(((e,t)=>({type:y.Ny,payload:{entryId:e,error:t},error:!0}))(t,l))}}));return ()))},80220:(e,t,n)=>{"use strict";n.d(t,{UC:()=>l});var r=n(66062),a=n(18274),o=n(55752),c=n.n(o),i=n(70210);ar l=(0,a.H)({ttl:200},((e,t,n,a,o)=>function(){var l=(0,r.Z)((function*(r,l,s){var{fetchr:u}=s,p=l(),m=c()(p,["reblogState","reblogPageMap","".concat(t,"/").concat(o)]);if(m){var g={reblogMap:c()(p,["reblogState","reblogMap",{}]),reblogIds:m.data,paging:m.paging};return r(d(e,t,o,g))}try{var y=c()(p,["bloggerState","blogMap",e,"blog_name"],""),b=yield u.read("blogReblog").params({amebaId:y,blogId:e,entryId:t,offset:n,limit:a,page:o}).end();return r(d(e,t,o,b.data))}catch(h){return r(function(e,t,n,r){return{type:i.t,payload:{blogId:e,entryId:t,page:n,error:r},error:!0}}(e,t,o,h))}}));return ()))},90857:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,h:()=>a});var r=n(55263);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:r.a,payload:{entryId:e,opendModalName:t,data:n}}},68330:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(3e4),a=n(76955);n(91938);class o extends a.PureComponent{omponentDidMount(){this.handleMount()}componentDidUpdate(){this.handleMount()}handleMount(){var{maxLength:e,children:t}=this.props,n="undefined"!=typeof window&&window.CSS&&window.CSS.supports&&window.CSS.supports("(display: -webkit-box) and (-webkit-box-orient : vertical) and (-webkit-line-clamp: 2)")?t:this.stringTruncation(t,e);this.setState({viewText:n})}stringTruncation(e,t){if(!e)return"";var n=t-2;return e.length<=t||n<1?e:"".concat(e.substr(0,n),"\u2026")}render(){return(0,r.Z)(a.Fragment,{},void 0,this.state.viewText)}}o.displayName="PcClampLineText"},62074:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var r,a,o,c,i=n(3e4),d=n(66062),l=(n(91938),n(76955)),s=n(29466),u=n.n(s),p=n(5663),m=n.n(p),g=n(55752),y=n.n(g),b=n(55382),h=n.n(b),f=n(97175),v=n(66948),w=n(45525),I=n(29842),Z=n(30657),T=n(16884),_=n(36509),k=n(73614),M=n(33811),P=n(80220),S=n(90857),O=n(48516),E=n(68330),C=n(97243),L=n(75457),A=n(56957),x=n.n(A);function j(){return(j=(0,d.Z)((function*(e){var{dispatch:t,getState:n,match:r,location:a}=e,{params:o}=r,c=o.amebaId,i=yield t((0,k.Rs)(c));if(!i||!i.error){var d=n().bloggerState,l=d.bloggerMap,s=d.blogMap[(l[c]||{}).blog];if(s&&s.blog_id){var u=o.entryId,{frm:p}=a.query;yield t((0,M.x0)(s.blog_id,u,[],p))}}}))).apply(this,arguments)}function D(){return(D=(0,d.Z)((function*(e){var{dispatch:t,getState:n,match:r}=e,{params:a}=r,o=a.amebaId,c=n().bloggerState,i=c.bloggerMap,d=c.blogMap[(i[o]||{}).blog];if(d&&d.blog_id){var l=n().entryState.entryMap,s=a.entryId,u=l[s]||{};if(u.entry_id&&u.entry_text)if((0,I.M)(d,u).canReblog){yield t((0,P.UC)(d.blog_id,s,0,10,1))}}}))).apply(this,arguments)}var R=(0,v.$j)((function(e,t){var{match:n}=t,{params:r}=n,a=r.amebaId,o=r.entryId,c=e.bloggerState,i=e.reblogState,d=c.bloggerMap,l=c.blogMap[(d[a]||{}).blog]||{},s=i.reblogPageMap["".concat(o,"/1")]||{},u=s.data||[],p=i.reblogMap[u[0]]||{},m=y()(s,["paging","total_count"],0);return{denyReblog:"deny"===l.deny_reblog,entryId:o,reblog:p,reblogCount:m}}),{closeModal:S.M,openModal:S.h})(r=(0,f.provideHooks)({defer:function(e){return j.apply(this,arguments)},done:)(r=(0,w.w1)(x())((o=a=class extends l.Component{houldComponentUpdate(e){return this.props.closeModal!==e.closeModal||this.props.denyReblog!==e.denyReblog||this.props.entryId!==e.entryId||this.props.openModal!==e.openModal||this.props.reblogCount!==e.reblogCount||!u()(this.props.reblog,e.reblog)}andleOnclick(){this.props.openModal(this.props.entryId,C.zd)}enderItem(){var{reblog:e}=this.props;if(!e)return null;var t=y()(e,["user_profile_list",0],{}),n=t.ameba_id||"",r=t.nickname||n,a=y()(e,"entry_text","");return(0,i.Z)("ul",{"data-uranus-component":"reblogList"},void 0,(0,i.Z)("li",{className:"skin-borderLoud","data-uranus-component":"reblogListItem"},void 0,(0,i.Z)("p",{"data-uranus-component":"reblogTitle"},void 0,(0,i.Z)(O.Z,{className:h()(x().Link,"js-reblogId"),id:"r".concat(e.entry_id),name:"r".concat(e.entry_id),targetUrl:(0,_.IT)(n,e)},void 0,c||(c=(0,i.Z)("span",{"data-uranus-icon":"reblog hasLabel"})),e.entry_title)),(0,i.Z)("p",{className:h()(a&&x().Reblog),"data-uranus-component":"reblogText"},void 0,(0,i.Z)(E.g,{maxLength:150},void 0,a)),(0,i.Z)("p",{"data-uranus-component":"reblogUser"},void 0,(0,i.Z)(O.Z,{className:h()(x().Link),targetUrl:(0,T.Z)(L.Z.BlogTop,{amebaId:n})},void 0,r)),(0,i.Z)("p",{"data-uranus-component":"reblogDate"},void 0,(0,Z.TA)(1,e.entry_created_datetime))))}render(){var{denyReblog:e,reblog:t,reblogCount:n}=this.props;return!e&&!m()(t)?(0,i.Z)("div",{"data-uranus-component":"mainWidget"},void 0,(0,i.Z)("div",{className:"skin-mainWidgetTitle skin-borderLoud","data-uranus-component":"mainWidgetHeader",id:"reblogHeader"},void 0,(0,i.Z)("h4",{},void 0,"\u30ea\u30d6\u30ed\u30b0\uff08".concat(n,"\uff09"))),(0,i.Z)("div",{"data-uranus-component":"mainWidgetBody"},void 0,(0,i.Z)("div",{"data-uranus-component":"reblog"},void 0,this.renderItem(),(0,i.Z)("p",{"data-uranus-component":"reblogMore"},void 0,(0,i.Z)("button",{className:h()(x().MoreLink,"skin-textQuiet js-open-modal"),"data-uranus-component":"reblogMoreLink",type:"button",onClick:this.handleOnclick},void 0,"\u30ea\u30d6\u30ed\u30b0\u4e00\u89a7\u3092\u898b\u308b"))))):null}},a.displayName="PcEntryDetailReblogModuleUranus",r=o))||r)||r)||r},36509:(e,t,n)=>{"use strict";n.d(t,{IT:()=>g,O4:()=>y,WW:()=>f,oK:()=>b});var r=n(5663),a=n.n(r),o=n(43177),c=n.n(o),i=n(12943),d=n.n(i),l=n(16884),s=n(75457),u=n(77948),p=n(18958),m=n(19008);function g(e,t){return"amember"===t.publish_flg||"2"===t.publish_flg?(0,l.Z)(s.Z.AmemberEntry,{amebaId:e,entryId:t.entry_id}):(0,l.Z)(s.Z.Entry,{amebaId:e,entryId:t.entry_id})}function y(e,t){var n=g(e,t);return"https://cs.ameba.jp/inq/inquiry/vio?targetAmebaId=".concat(e,"&url=").concat(n,"&service=blog")}function b(e,t){if(a()(e)||!t)return!1;if(!a()(e)&&!e.entry_created_datetime)return!1;var n=c()(new Date,u.Z.DEFAULT_DATE),r=c()(e.entry_created_datetime,u.Z.DEFAULT_DATE);return d()(n,r)>t}function h(e){!function(e){window.YT&&window.YT.Player?e():(window.onYouTubeIframeAPIReady=()=>{window.YT.loaded&&window.YT.Player?e():window.YT.ready&&"function"==typeof window.YT.ready&&window.YT.ready(()},(0,m.v)("https://www.youtube.com/iframe_api").catch((e=>{console.warn(e)})))}((()=>{!function(e){var t=e.querySelectorAll('iframe[src^="https://www.youtube.com/embed/"]'),n=[],r=e=>{e.data===window.YT.PlayerState.PLAYING&&n.forEach((t=>{t!==e.target&&t.pauseVideo()}))};t.forEach((e=>{var t=new window.YT.Player(e,{events:{onStateChange:r}});n.push(t)}))}(e)}))}function f(e){e&&(null!==e.querySelector("blockquote.twitter-tweet")&&(0,m.v)("https://platform.twitter.com/widgets.js").then((()=>{window.twttr&&window.twttr.widgets&&window.twttr.widgets.load()})).catch((e=>{console.warn(e)})),null!==e.querySelector('blockquote[class="instagram-media"]')&&(0,m.v)("https://platform.instagram.com/en_US/embeds.js").then((()=>{window.instgrm&&window.instgrm.Embeds&&window.instgrm.Embeds.process()})).catch((e=>{console.warn(e)})),null!==e.querySelector(".pickCreative_root")&&(0,m.v)("".concat(window.process.env.HTTP_PATH_STAT,"/ameblo/pick/pick_sdk-").concat(p.C,".js")).then(().catch((),null!==e.querySelector('iframe[src^="https://www.youtube.com/embed/"]')&&h(e))}},16884:(e,t,n)=>{"use strict";n.d(t,{Z:);var r=n(75457),a=e=>{var{amebaId:t,entryId:n,vnm:r}=e;return t&&n?"/".concat(t,"/video-").concat(n,".html").concat(r?"?vnm=".concat(r):""):""};function o(e,t){var{amebaId:n,entryId:o,themeId:c,entryYm:i,imageId:d,vnm:l,day:s,page:u=1}=t,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.process.env.HTTP_PATH_AMEBLO;if(!n||!e)return"";var m="".concat(p,"/").concat(n),g="";switch(e){case r.Z.BlogTop:return g=u>1?"page-".concat(u,".html"):"","".concat(m,"/").concat(g);case r.Z.EntryList:return g=u>1?"-".concat(u):"","".concat(m,"/entrylist").concat(g,".html");case r.Z.AmemberEntryList:return g=u>1?"-".concat(u):"","".concat(m,"/amemberentrylist").concat(g,".html");case r.Z.ArchiveTop:return"".concat(m,"/archivetop.html");case r.Z.Archive:if(i)return g=u>1?"".concat(u):"","".concat(m,"/archive").concat(g,"-").concat(i,".html");console.error("PageType.Archive: entryYm is undefined.");break;case r.Z.Day:if(s)return g=u>1?"".concat(u):"","".concat(m,"/day").concat(g,"-").concat(s,".html");console.error("PageType.Day: day is undefined.");break;case r.Z.ThemeTop:return"".concat(m,"/themetop.html");case r.Z.Theme:if(c)return g=u>1?"".concat(u):"","".concat(m,"/theme").concat(g,"-").concat(c,".html");console.error("PageType.Theme: themeId is undefined.");break;case r.Z.PopularRecentList:return g=u>1?"-".concat(u):"","".concat(m,"/popularrecentlist").concat(g,".html");case r.Z.Entry:if(o)return g=u>1?"".concat(u):"","".concat(m,"/entry").concat(g,"-").concat(o,".html");console.error("PageType.Entry: entryId is undefined.");break;case r.Z.ImageList:return g=u>1?"-".concat(u):"",i?"".concat(m,"/imagelist-").concat(i).concat(g,".html"):"".concat(m,"/imagelist.html");case r.Z.Image:if(o&&d)return"".concat(m,"/image-").concat(o,"-").concat(d,".html");console.error("PageType.Image: entryId or imageId is undefined.");break;case r.Z.VideoList:return g=u>1?"-".concat(u):"","".concat(m,"/videolist").concat(g,".html");case r.Z.Video:if(o)return"".concat(p).concat(a({amebaId:n,entryId:o,vnm:l}));console.error("PageType.Video: entryId is undefined.");break;case r.Z.IineEntry:if(o)return"".concat(m,"/iine_entry-").concat(o,".html");console.error("PageType.IineEntry: entryId is undefined.");break;case r.Z.Comment:if(g=u>1?"page-".concat(u,".html"):"",o)return"".concat(m,"/comment-").concat(o,"/").concat(g);console.error("PageType.Comment: entryId is undefined.");break;case r.Z.Reblog:if(g=u>1?"page-".concat(u,".html"):"",o)return"".concat(m,"/reblog-").concat(o,"/").concat(g);console.error("PageType.Reblog: entryId is undefined.");break;case r.Z.MessageBoard:return"".concat(m,"/message-board.html");case r.Z.Reader:return g=u>1?"-".concat(u):"","".concat(m,"/reader").concat(g,".html");case r.Z.Favorite:return g=u>1?"-".concat(u):"","".concat(m,"/favorite").concat(g,".html");case r.Z.Bookmark:return g=u>1?"-".concat(u):"","".concat(m,"/bookmark").concat(g,".html");case r.Z.AmemberEntry:if(o)return"".concat(window.process.env.HTTP_PATH_AMEBLO,"/").concat(n,"/amemberentry-").concat(o,".html");console.error("PageType.AmemberEntry: entryId is undefined.");break;case r.Z.ImageEmbed:if(o&&d)return"".concat(window.process.env.HTTP_PATH_EMBED,"/p/embed/").concat(n,"/image-").concat(o,"-").concat(d,".html");console.error("PageType.ImageEmbed: entryId or imageId is undefined.");break;case r.Z.SkinPreview:return"";default:console.error("PageType is not match.")}return""}},12943:74890:51102:(e,t,n)=>{var r=n(18300)(();r.push([e.id,"._GaQq726w{-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:3;overflow:hidden}._zck65Q1e{text-decoration:underline}._3KmQj5c8{background:none;border:none;padding:0}",""]),r.locals={Reblog:"_GaQq726w",Link:"_zck65Q1e",MoreLink:"_3KmQj5c8"},e.exports=r},56957:(e,t,n)=>{var r=n(51102),a=Object.assign||o=Object.defineProperty||"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=a({},e.locals||{});return o(t,"_",{value:),o(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)}}]);