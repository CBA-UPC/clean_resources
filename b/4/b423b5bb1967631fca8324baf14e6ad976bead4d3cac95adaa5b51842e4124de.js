"use strict";(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[8472],{92106:(e,t,a)=>{a.d(t,{F:()=>c});var o=a(3e4),p=(a(91938),a(76955)),r=a(96216),i=a(55752),n=a.n(i),s=a(29466),g=a.n(s),l=a(5663),d=a.n(l),b=a(73324),h=a(81105);class c extends p.Component{shouldComponentUpdate(e){return!(this.props.amebaId===e.amebaId&&this.props.pageType===e.pageType&&g()(this.props.blog,e.blog)&&g()(this.props.paging,e.paging)&&g()(this.props.profile,e.profile)&&g()(this.props.seoSetting,e.seoSetting))}render(){var{amebaId:e,blog:t,entries:a,pageType:p,paging:i,profile:s,seoSetting:g}=this.props,l=t.blog_title||"",c=s.nickname||e||"",y=i.current_page||1,u=(0,b.YQ)(p,y,l),m=(0,b.Yz)(y,a,c),f=(0,b.ZP)(p,{amebaId:e,hasContents:!d()(a),paging:i,seoSetting:g}),T=(0,b.Z2)(p,{amebaId:e}),v=(0,h.Z)(T,l,n()(t,["ins_datetime"],""),n()(this.props.entries,[0,"entry_created_datetime"],""),c),S=f.link||[],P=f.meta||[],w=v||[];if(m&&P.push({content:m,name:"description"}),f.isShowAndroidAlternate&&T){var M=new URL(T),{pathname:O}=M;O&&(S.push({rel:"alternate",href:"android-app://jp.ameba/https/ameblo.jp".concat(O)}),S.push({rel:"alternate",href:"android-app://jp.ameba/jpameblo/ameblo.jp".concat(O)}))}return f.isShowMbAlternate&&S.push({rel:"alternate",type:"text/html",media:"handheld",href:"http://m.ameba.jp/m/blogTop.do?guid=ON&unm=".concat(e)}),(0,o.Z)(r.ql,{link:S,meta:P,script:w,title:u})}}c.displayName="Head"},68472:(e,t,a)=>{a.r(t),a.d(t,{default:);var o,p,r,i=a(3e4),n=a(41185),s=a(66062),g=(a(91938),a(76955)),l=a(55752),d=a.n(l),b=a(23575),h=a.n(b),c=a(5154),y=a.n(c),u=a(29466),m=a.n(u),f=a(66948),T=a(97175),v=a(81454),S=a(73614),P=a(62986),w=a(12942),M=a(51650),O=a(13248),j=a(92106);nction k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}var A=function(){var e=(0,s.Z)((function*(e){var{dispatch:t,getState:a,match:o}=e,{params:p}=o,r=p.amebaId,i=yield t((0,S.Rs)(r));if(i&&i.error)"Not Found"===d()(i,"payload.error.message")?t((0,w.Qn)(r)):t((0,w.$F)(r));else{var n=d()(a(),["bloggerState","bloggerMap",r,"blog"]),s=a().bloggerState.blogMap[n];if(s&&s.blog_id){var g=k(p.page);yield Promise.all([t((0,v.OQ)(s.blog_id,g,10)),t((0,P.Pi)(s.blog_id))])}else t((0,w.Qn)(r))}}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=(0,s.Z)((function*(e){var{dispatch:t,getState:a,match:o}=e,{params:p}=o,r=p.amebaId,i=d()(a(),["bloggerState","bloggerMap",r,"blog"]),n=k(p.page),s=(a().entryState.blogPageMap["".concat(i,"/").concat(n)]||{}).data||[];t((0,v.l1)(i,s))}));return (),Z=(0,M.lB)(["match","location"])(o=(0,f.$j)(((e,t)=>{var{match:a,location:o}=t,{params:p,route:r}=a,i=p.amebaId,n=e.bloggerState,s=e.entryState,g=n.bloggerMap[i]||{},l=g.profile||{},b=g.seo_setting||{},c=g.attribute||{},y=n.blogMap[g.blog]||{},u=k(p.page),m=s.blogPageMap["".concat(y.blog_id,"/").concat(u)]||{},f=m.data||[],T=s.entryMap,v=f.map((e=>I(I({},T[e]),s.entryReactionsMap[e]))),S=void 0===m.loading||m.loading,P=m.paging||{},w=e.skinState.spSkinMap[g.blog]||{},M=o.query,O=h()(M["layout-type"])||w.layout||"",j=r.pageType,_=d()(g,"official.image_protection_type")||"";return{amebaId:i,blog:y,bloggerAttribute:c,entries:v,entryMap:T,entriesLoading:S,imageProtectionType:_,layoutType:O,pageType:j,paging:P,profile:l,seoSetting:b}}))(o=(0,T.provideHooks)({defer:A,done:L})((r=p=class extends g.Component{onstructor(e){super(e),this.state={layoutType:e.layoutType},this.handleReceiveMessage=this.handleReceiveMessage.bind(this)}componentDidMount(){window.addEventListener("message",this.handleReceiveMessage,!1)}shouldComponentUpdate(e,t){return!(this.props.amebaId===e.amebaId&&this.props.entriesLoading===e.entriesLoading&&this.props.entryMap===e.entryMap&&this.props.imageProtectionType===e.imageProtectionType&&this.props.layoutType===e.layoutType&&this.props.pageType===e.pageType&&m()(this.props.blog,e.blog)&&m()(this.props.bloggerAttribute,e.bloggerAttribute)&&m()(this.props.entries,e.entries)&&m()(this.props.paging,e.paging)&&m()(this.props.profile,e.profile)&&m()(this.props.seoSetting,e.seoSetting)&&this.state.layoutType===t.layoutType)}andleReceiveMessage(e){var t=e.data||{};e.origin===window.process.env.HTTP_PATH_AMEBLO_SP_UCS&&t.layoutType&&this.setState({layoutType:t.layoutType})}render(){return(0,i.Z)("div",{},void 0,(0,i.Z)(j.F,{amebaId:this.props.amebaId,blog:this.props.blog,entries:this.props.entries,pageType:this.props.pageType,paging:this.props.paging,profile:this.props.profile,seoSetting:this.props.seoSetting}),(0,i.Z)(O.X,{amebaId:this.props.amebaId,blog:this.props.blog,bloggerAttribute:this.props.bloggerAttribute,bloggerType:this.props.bloggerAttribute.bloggerType,entries:this.props.entries,imageProtectionType:this.props.imageProtectionType,layoutType:this.state.layoutType,loading:this.props.entriesLoading&&this.props.entries.length<1,pageType:this.props.pageType,paging:this.props.paging,trackTapLog:y(),trackViewLog:y()}))}},p.displayName="SpEntryListPreview",o=r))||o)||o)||o}}]);