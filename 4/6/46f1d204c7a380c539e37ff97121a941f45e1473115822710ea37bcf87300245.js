!this,function(){"use strict";!"undefined"!=typeof self?self:void 0);var t=setTimeout;function e(){}otype.catch=r.prototype.then=r.prototype.finally=r.all=r.resolve=r.reject=r.race=r._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&void 0};var c=);.Promise||(c.Promise=r);var f=u(,h=u(,p=(h.version,,l=d=y=!d(,v=f.document,b=p(v)&&p(v.createElement),m=!y&&!d(,_=Object.defineProperty,w={f:y?Object.defineProperty:,g=y?A={}.hasOwnProperty,E=O=0,j=Math.random(),P=T=u(,S=x=f.core=h,x.F=1,x.G=2,x.S=4,x.P=8,x.B=16,x.W=32,x.U=64,x.R=128;var k=x,F={}.toString,B=D=Object("z").propertyIsEnumerable(0)?Object:I=N=Math.ceil,R=Math.floor,U=Math.min,C=L=Array.isArray||z=f["__core-js_shared__"]||(f["__core-js_shared__"]={}),M=W=u(,$=W("species"),q=H=G=W("unscopables"),K=Array.prototype;void 0==K[G]&&g(K,G,{});var V=X=H(5),J=!0;"find"in[]&&Array(1).find(function(){J=!1}),k(k.P+k.F*J,"Array",{find:function(t){return X(this,t,arguments.length>1?arguments[1]:void 0)}}),V("find");h.Array.find;var Q=H(6),Y=!0;"findIndex"in[]&&Array(1).findIndex(,k(k.P+k.F*Y,"Array",{findIndex:),V("findIndex");h.Array.findIndex;var Z=W("match"),tt=et=W("match"),rt="".startsWith;k(k.P+k.F*"startsWith"),"String",{startsWith:);h.String.startsWith;var nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};r st="FirebaseError",at=Error.captureStackTrace,ct=function(){return function(t,e){if(this.code=t,this.message=e,at)at(this,ut.prototype.create);else{var r=Error.apply(this,arguments);this.name=st,Object.defineProperty(this,"stack",{get:function(){return r.stack}})}}}();ct.prototype=Object.create(Error.prototype),ct.prototype.constructor=ct,ct.prototype.name=st;var ut=function(){function t(t,e,r){this.service=t,this.serviceName=e,this.errors=r,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var r,n=this.errors[t],o=this.service+"/"+t;r=void 0===n?"Error":n.replace(this.pattern,function(t,r){var n=e[r];return void 0!==n?n.toString():"<"+r+"?>"}),r=this.serviceName+": "+r+" ("+o+").";var i=new ct(o,r);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(i[s]=e[s]);return i},t}();!function(){return function(){this.blockSize=-1}}());function ft(t,e){var r=new ht(t,e);return r.subscribe.bind(r)}var ht=function(){function t(t,e){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(r)}).catch(function(t){r.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,r){var n,o=this;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(t,e){if("object"!=typeof t||null===t)return!1;for(var r=0,n=e;r<n.length;r++){var o=n[r];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r}).next&&(n.next=pt),void 0===n.error&&(n.error=pt),void 0===n.complete&&(n.complete=pt);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?n.error(o.finalError):n.complete()}catch(t){}}),this.observers.push(n),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var r=this;this.task.then(function(){if(void 0!==r.observers&&void 0!==r.observers[t])try{e(r.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&void 0}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function pt(){}var lt=dt="[DEFAULT]",yt=[],vt=);t.prototype.name&&vt.prototype.options||vt.prototype.delete||void 0;var mt=new ut("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),_t=),wt=Object.freeze({default:_t,firebase:_t});return(wt&&_t||wt).default});

!function(e,t){"use strict";try{t=t&&t.hasOwnProperty("default")?t.default:t;var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&|ar i=Object.assign||r a="FirebaseError",c=Error.captureStackTrace,u=function(){return ();u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name=a;var h=);(());ar d=function(){eturn e.prototype.next=e.prototype.error=e.prototype.complete=e.prototype.subscribe=e.prototype.unsubscribeOne=e.prototype.forEachObserver=e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&void 0}})},e.prototype.close=e}();function p(){}var l,_,E,b={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},v=((l={})[b.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",l[b.AVAILABLE_IN_SW]="This method is available in a service worker context.",l[b.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",l[b.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",l[b.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",l[b.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",l[b.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",l[b.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",l[b.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",l[b.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",l[b.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",l[b.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",l[b.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",l[b.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",l[b.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",l[b.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",l[b.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",l[b.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",l[b.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",l[b.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",l[b.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",l[b.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",l[b.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",l[b.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",l[b.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",l[b.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",l[b.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",l[b.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",l[b.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",l[b.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",l[b.BAD_SCOPE]="The service worker scope must be a string with at least one character.",l[b.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",l[b.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",l[b.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",l[b.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",l[b.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",l[b.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",l[b.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",l),g=new h("messaging","Messaging",v),T=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),S="https://fcm.googleapis.com";unction(e){e.TYPE_OF_MSG="firebase-messaging-msg-type",e.DATA="firebase-messaging-msg-data"}(_||(_={})),E||(E={}));var D=function(){eturn e.prototype.getToken=function(e,t,n){return o(this,void 0,void 0,function(){var r,i,o,a,c,u,h,f;return s(this,function(s){switch(s.label){case 0:r=I(t.getKey("p256dh")),i=I(t.getKey("auth")),o="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+i,n!==T&&(a=I(n),o+="&application_pub_key="+a),(c=new Headers).append("Content-Type","application/x-www-form-urlencoded"),u={method:"POST",headers:c,body:o},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(S+"/fcm/connect/subscribe",u)];case 2:return[4,s.sent().json()];case 3:return h=s.sent(),[3,5];case 4:throw s.sent(),g.create(b.TOKEN_SUBSCRIBE_FAILED);case 5:if(h.error)throw f=h.error.message,g.create(b.TOKEN_SUBSCRIBE_FAILED,{message:f});if(!h.token)throw g.create(b.TOKEN_SUBSCRIBE_NO_TOKEN);if(!h.pushSet)throw g.create(b.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:h.token,pushSet:h.pushSet}]}})})},e.prototype.updateToken=function(e,t,n,r,i){return o(this,void 0,void 0,function(){var o,a,c,u,h,f,d,p;return s(this,function(s){switch(s.label){case 0:o=I(r.getKey("p256dh")),a=I(r.getKey("auth")),c="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+r.endpoint+"&encryption_key="+o+"&encryption_auth="+a,i!==T&&(u=I(i),c+="&application_pub_key="+u),(h=new Headers).append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:h,body:c},s.label=1;case 1:return s.trys.push([1,4,,5]),[4,fetch(S+"/fcm/connect/subscribe",f)];case 2:return[4,s.sent().json()];case 3:return d=s.sent(),[3,5];case 4:throw s.sent(),g.create(b.TOKEN_UPDATE_FAILED);case 5:if(d.error)throw p=d.error.message,g.create(b.TOKEN_UPDATE_FAILED,{message:p});if(!d.token)throw g.create(b.TOKEN_UPDATE_NO_TOKEN);return[2,d.token]}})})},e.prototype.deleteToken=e}();ar w="undefined",N="fcm_token_object_Store";function O(){var e=indexedDB.open(w);e.onerror=function(e){},e.onsuccess=function(t){!function(e){if(e.objectStoreNames.contains(N)){var t=e.transaction(N).objectStore(N),n=new D,r=t.openCursor();r.onerror=r.onsuccess=}(e.result)}}var k=function(){eturn e.prototype.get=e.prototype.getIndex=e.prototype.put=function(e){return this.createTransaction(function(t){return t.put(e)},"readwrite")},e.prototype.delete=e.prototype.closeDatabase=e.prototype.createTransaction=function(e,t){return o(this,void 0,void 0,},e.prototype.getDb=e}();var A=k);ar C=k),B="messagingSenderId",R=function(){eturn e.prototype.getToken=function(){return o(this,void 0,void 0,function(){var e,t,n,r,i;return s(this,function(o){switch(o.label){case 0:return"granted"!==(e=this.getNotificationPermission_())?"denied"===e?[2,Promise.reject(g.create(b.NOTIFICATIONS_BLOCKED))]:[2,Promise.resolve(null)]:[4,this.getSWRegistration_()];case 1:return t=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(i=o.sent())?[2,this.manageExistingToken(t,r,n,i)]:[2,this.getNewToken(t,r,n)]}})})},e.prototype.manageExistingToken=function(e,t,n,r){return o(this,void 0,void 0,function(){return s(this,function(i){switch(i.label){case 0:return function(e,t,n){if(!y(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,i=y(e.getKey("auth"),n.auth),o=y(e.getKey("p256dh"),n.p256dh);return r&&i&&o}(t,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return i.sent(),[2,this.getNewToken(e,t,n)]}})})},e.prototype.updateToken=e.prototype.getNewToken=e.prototype.deleteToken=e.prototype.deleteTokenFromDB=e.prototype.getPushSubscription=e.prototype.requestPermission=e.prototype.useServiceWorker=function(e){throw g.create(b.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw g.create(b.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw g.create(b.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=e.prototype.setBackgroundMessageHandler=e.prototype.delete=e.prototype.getNotificationPermission_=e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getIIDModel=e}();var U=function(e){eturn r(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=t.prototype.onPush_=function(e){return o(this,void 0,void 0,function(){var t,n,r;return s(this,function(i){switch(i.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return i.sent()?t.notification||this.bgMessageHandler?[2,this.sendMessageToWindowClients_(t)]:[2]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return[2,i.sent().showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return i.sent(),[2];case 5:return[2]}})})},t.prototype.onSubChange_=t.prototype.onNotificationClick_=function(e){return o(this,void 0,void 0,function(){var t,n,r,i;return s(this,function(o){switch(o.label){case 0:return e.notification&&e.notification.data&&e.notification.data.FCM_MSG?(e.stopImmediatePropagation(),e.notification.close(),(t=e.notification.data.FCM_MSG).notification&&(n=t.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=o.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=o.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=o.sent(),o.label=5;case 5:return r?(delete t.notification,i=K(E.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t,n=i({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}},t.prototype.setBackgroundMessageHandler=t.prototype.getWindowClient_=t.prototype.attemptToMessageClient_=t.prototype.hasVisibleClients_=t.prototype.sendMessageToWindowClients_=t.prototype.getSWRegistration_=t.prototype.getPublicVapidKey_=t}(R);r M=function(e){eturn r(t,e),t.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(:Promise.reject(g.create(b.UNSUPPORTED_BROWSER))},t.prototype.manifestCheck_=function(){if(this.manifestCheckPromise)return this.manifestCheckPromise;var e=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise=e?fetch(e.href).then(function(e){return e.json()}).catch(.then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw g.create(b.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise},t.prototype.requestPermission=function(){return o(this,void 0,void 0,function(){return s(this,function(e){return"granted"===Notification.permission?[2]:[2,new Promise(function(e,t){var n=function(n){return"granted"===n?e():t("denied"===n?g.create(b.PERMISSION_BLOCKED):g.create(b.PERMISSION_DEFAULT))},r=Notification.requestPermission(n);r&&r.then(n)})]})})},t.prototype.useServiceWorker=t.prototype.usePublicVapidKey=t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=t.prototype.waitForRegistrationToActivate_=t.prototype.getSWRegistration_=t.prototype.getPublicVapidKey_=function(){return this.publicVapidKeyToUse?Promise.resolve(this.publicVapidKeyToUse):Promise.resolve(T)},t.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",!1)},t.prototype.isSupported_=t}(R);F={Messaging:M},t.INTERNAL.registerService("messaging",F);return{}}catch(e){throw void 0,new Error("Cannot instantiate firebase-messaging - be sure to load firebase-app.js first.")}var F}(this.firebase=this.firebase||{},firebase);
!function(i,s){"use strict";var e="function",o="object",r="model",n="name",a="type",d="vendor",t="version",l="architecture",w="console",u="mobile",c="tablet",m="smarttv",b="wearable",p={extend:has:lowerize:major:trim:,g={rgx:str:,h={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},f={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,t],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],t],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],t],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[n,t],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],t],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],t],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],t],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],t],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],t],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],t],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],t],[/(qqbrowserlite)\/([\w\.]+)/i],[n,t],[/(QQ)\/([\d\.]+)/i],[n,t],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,t],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[n,t],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,t],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[t,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[t,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,t],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[t,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],t],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],t],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[t,[n,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,t],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],t],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],t],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],t],[/fxios\/([\w\.-]+)/i],[t,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[t,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[t,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],t],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[t,g.str,h.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[n,t],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],t],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,t]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[l,/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[l,p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,d,[a,c]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[d,"Apple"],[a,c]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,r,[a,c]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[r,[d,"Amazon"],[a,c]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[r,g.str,h.device.amazon.model],[d,"Amazon"],[a,u]],[/android.+aft([bms])\sbuild/i],[r,[d,"Amazon"],[a,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,d,[a,u]],[/\((ip[honed|\s\w*]+);/i],[r,[d,"Apple"],[a,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,r,[a,u]],[/\(bb10;\s(\w+)/i],[r,[d,"BlackBerry"],[a,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[d,"Asus"],[a,c]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[r,"Xperia Tablet"],[a,c]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[r,[d,"Sony"],[a,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,r,[a,w]],[/android.+;\s(shield)\sbuild/i],[r,[d,"Nvidia"],[a,w]],[/(playstation\s[34portablevi]+)/i],[r,[d,"Sony"],[a,w]],[/(sprint\s(\w+))/i],[[d,g.str,h.device.sprint.vendor],[r,g.str,h.device.sprint.model],[a,u]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,r,[a,c]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[r,/_/g," "],[a,u]],[/(nexus\s9)/i],[r,[d,"HTC"],[a,c]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[r,[d,"Huawei"],[a,u]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,r,[a,u]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[d,"Microsoft"],[a,w]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[d,"Microsoft"],[a,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[d,"Motorola"],[a,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[d,"Motorola"],[a,c]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,p.trim],[r,p.trim],[a,m]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[d,"Samsung"],[a,m]],[/\(dtv[\);].+(aquos)/i],[r,[d,"Sharp"],[a,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],r,[a,c]],[/smart-tv.+(samsung)/i],[d,[a,m],r],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],r,[a,u]],[/sie-(\w*)/i],[r,[d,"Siemens"],[a,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],r,[a,u]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[d,"Acer"],[a,c]],[/android.+([vl]k\-?\d{3})\s+build/i],[r,[d,"LG"],[a,c]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],r,[a,c]],[/(lg) netcast\.tv/i],[d,r,[a,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[r,[d,"LG"],[a,u]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[d,"Lenovo"],[a,c]],[/linux;.+((jolla));/i],[d,r,[a,u]],[/((pebble))app\/[\d\.]+\s/i],[d,r,[a,b]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,r,[a,u]],[/crkey/i],[[r,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[r,[d,"Google"],[a,b]],[/android.+;\s(pixel c)\s/i],[r,[d,"Google"],[a,c]],[/android.+;\s(pixel [xl2]{1,2}|pixel)\s/i],[r,[d,"Google"],[a,u]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[d,"Xiaomi"],[a,u]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[d,"Xiaomi"],[a,c]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[r,[d,"Meizu"],[a,c]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[r,[d,"OnePlus"],[a,u]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[r,[d,"RCA"],[a,c]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[r,[d,"Dell"],[a,c]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[r,[d,"Verizon"],[a,c]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],r,[a,c]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[r,[d,"NuVision"],[a,c]],[/android.+;\s(k88)\sbuild/i],[r,[d,"ZTE"],[a,c]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[r,[d,"Swiss"],[a,u]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[r,[d,"Swiss"],[a,c]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[r,[d,"Zeki"],[a,c]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],r,[a,c]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[r,[d,"Insignia"],[a,c]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[r,[d,"NextBook"],[a,c]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],r,[a,u]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],r,[a,u]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[r,[d,"Envizen"],[a,c]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,r,[a,c]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[r,[d,"MachSpeed"],[a,c]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,r,[a,c]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[r,[d,"Rotor"],[a,c]],[/android.+(KS(.+))\s+build/i],[r,[d,"Amazon"],[a,c]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,r,[a,c]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,p.lowerize],d,r],[/(android[\w\.\s\-]{0,9});.+build/i],[r,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[t,[n,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,t],[/rv\:([\w\.]{1,9}).+(gecko)/i],[t,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,t],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[t,g.str,h.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[t,g.str,h.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],t],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[n,t],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],t],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],t],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,t],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],t],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],t],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,t],[/(haiku)\s(\w+)/i],[n,t],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[t,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[t,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[n,t]]},v=v.VERSION="0.7.18",v.BROWSER={NAME:n,MAJOR:"major",VERSION:t},v.CPU={ARCHITECTURE:l},v.DEVICE={MODEL:r,VENDOR:d,TYPE:a,CONSOLE:w,MOBILE:u,SMARTTV:m,TABLET:c,WEARABLE:b,EMBEDDED:"embedded"},v.ENGINE={NAME:n,VERSION:t},v.OS={NAME:n,VERSION:t},i&&(i.UAParser=v)}("object"==typeof window?window:this);
oSpP=!1;var oSpPOptions={sAppUrl:"https://adindex.ru",sAppUrlShow:"https://adindex.ru",sOrigUrl:"https://adindex.ru",sOrigFFUrl:"https://adindex.ru",sSubscribeUrl:"https://.spulse.net",sSubscribeFFUrl:"https://.spulse.net",sPushHost:"a99adac6e62846541d596a1c701158a0",sPushSenderID:"300013155679",bHttps:!1,bSendToParent:true,aBrowser:{},sBrowser:"",sOs:"",sSafariPushId:"web.com.sendpulse.push",sServerApi:"https://pushdata.sendpulse.com:4434",gcmServer:"https://android.googleapis.com/gcm/send/",fcmServer:"https://fcm.googleapis.com/fcm/",mozillaServer:"https://updates.push.services.mozilla.com/wpush/v2/",jsIncludeDomain:"web.webpushs.com",bAutoSubscribe:true,sAppKey:"c2605c8cd813468c4fac6ba5904d85df",prompt_settings:"",prompt_title:"",prompt_text:"",prompt_description:"-",prompt_settings_whithout_sw:"{\"title\":\"\",\"text\":\"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0441\u0430\u0439\u0442\u0443 adindex.ru \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u0430\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0441\u0442\u043e\u043b\",\"style\":\"sp-popover\",\"textcolor\":\"#222222\",\"backgroundcolor\":\"#ffffff\",\"buttoncolor\":\"#31b58e\",\"iconcolor\":\"\",\"btncolor\":\"\",\"allowbtntext\":\"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c\",\"disallowbtntext\":\"\u0417\u0430\u043f\u0440\u0435\u0442\u0438\u0442\u044c\",\"btn_lang\":\"ru\",\"visit_number\":1,\"icon\":\"\/img\/my\/push\/push-default-icons\/icon.png\"}",currentDB:null,timeSend:null,newWindow:null,parentEvent:null,initedPage:!1,parentVariables:{},pushedVariables:{},pushedInterval:!1,sFirefoxServer:"https://updates.push.services.mozilla.com/push/",sFirefoxServer2:"https://updates.push.services.mozilla.com/wpush/v1/",bWasPrompt:!1,startTime:0,waitRenewPageCount:5,isParentAutoSubscribe:true,bSentToServer:!1,bSentStatOpened:!1,bSentStatPermission:!1,bMobileEnabled:true,show_splogo:"0",spdomain_website:"https://sendpulse.com/ru/webpush-powered-by-sendpulse?sn=0J7QntCeICLQkC7QkC7QmC4i",styles_prefix:"sp",aPoweredbyLabel:{ru:"Предоставлено SendPulse",en:"Powered by SendPulse",ua:"Надано SendPulse"},companyName:"SendPulse",promptHintTitle:{ru:"Подпишитесь на наши уведомления!",en:"Subscribe to our notifications!",ua:"Підпишіться на наші сповіщення!"},promptHintText:{ru:"Чтобы разрешить показ запроса на подписку, нажмите на иконку уведомлений",en:"To enable permission prompts, click on the notification icon",ua:"Щоб дозволити відображення запиту на пiдписку, натисніть іконку повідомлень"},iPromptDelay:"40",visitNumber:"2",bMonetization:"false",bIframeEnabled:!1,sUserHostHash:"747991a0e145ac2bbe69f063a9402e69",sSubscriptionPrefix:"SPTYPE:VAPID1:",sVapidPublicKey:"BPzJL10ExgcPxnTp-3ty27bIig0VJ99wfqfNz0-G_95vf7xRXbcQG9ZVG1C37lKlVUFSt7JFK1N9TtIOtrZoJlE",serviceWorkerExists:!1,sPushSubSomain:"spulse.net"};function oPromptPush(){var e=oSpPOptions.sAppUrl,t=oSpPOptions.sAppUrlShow,o=oSpPOptions.sOrigUrl,i=oSpPOptions.sOrigFFUrl,r=oSpPOptions.sPushHost,s=oSpPOptions.sSubscribeUrl,n=(oSpPOptions.sUserHostHash,oSpPOptions.bHttps),p=oSpPOptions.bSendToParent,a=oSpPOptions.jsIncludeDomain,c=oSpPOptions.aBrowser,l=oSpPOptions.sBrowser,u=oSpPOptions.sOs,d=oSpPOptions.sSafariPushId,S=oSpPOptions.sServerApi,m=oSpPOptions.gcmServer,P=oSpPOptions.bAutoSubscribe,g=oSpPOptions.sAppKey,b=oSpPOptions.prompt_settings,h=oSpPOptions.prompt_title,w=oSpPOptions.prompt_text,v=oSpPOptions.prompt_description,D=oSpPOptions.prompt_settings_whithout_sw,f=oSpPOptions.currentDB,M=oSpPOptions.timeSend,I=oSpPOptions.newWindow,y=oSpPOptions.parentEvent,O=oSpPOptions.initedPage,A=oSpPOptions.parentVariables,T=oSpPOptions.pushedVariables,L=oSpPOptions.pushedInterval,x=oSpPOptions.sFirefoxServer,N=oSpPOptions.sFirefoxServer2,C=oSpPOptions.bWasPrompt,E=oSpPOptions.startTime,j=oSpPOptions.waitRenewPageCount,k=oSpPOptions.isParentAutoSubscribe,_=oSpPOptions.bSentToServer,z=oSpPOptions.bSentStatOpened,U=oSpPOptions.bSentStatPermission,H=oSpPOptions.bMobileEnabled,V=oSpPOptions.show_splogo,B=oSpPOptions.spdomain_website,Y=oSpPOptions.styles_prefix,R=oSpPOptions.aPoweredbyLabel,W=oSpPOptions.companyName,Z=oSpPOptions.promptHintTitle,Q=oSpPOptions.promptHintText,G=oSpPOptions.iPromptDelay,F=oSpPOptions.visitNumber,J=oSpPOptions.serviceWorkerExists,X=new Date,q=new Date(X.getFullYear(),X.getMonth()+1,X.getDate()).getTime();q=X.getDate()+""+q;oSpPOptions.sPushSubSomain;this.start=function(){if(!oSpP.detectSite())return oSpP.log("Application allowed only for "+e),!1;if("iOS"==oSpP.detectOs())return oSpP.log("Application can not work on iOS"),!1;if(u=oSpP.detectOs(),!H&&("iOS"==u||"Android"==u))return oSpP.log("Application disabled for your device"),!1;if(oSpP.detectHttps(),c=oSpP.detectBrowser(),l=c.name.toLowerCase(),("iOS"==u||"Android"==u)&&"chrome"==l&&parseFloat(c.version)<42)return oSpP.log("Application disabled for your browser version"),!1;if("firefox"==l&&parseFloat(c.version)<44)return oSpP.log("Application can not work with Firefox browser version less then 44"),!1;if("opera"==l&&parseFloat(c.version)<43)return oSpP.log("Application can not work with Opera browser version less then 43"),!1;if(oSpP.isMobileYandexBrowser())return oSpP.log("Application can not work with mobile Yandex browser"),!1;if("firefox"==l&&(o=i),p&&J){k&&(z=!0,U=!0);var t=setInterval((function(){_&&z&&U&&(oSpP.sendToParent("closeme"),clearInterval(t))}),50)}if(n&&J)if(P)oSpP.getDbValue("SPIDs","SubscriptionId",(function(e){void 0===e.target.result&&oSpP.getDbValue("SPIDs","PromptClosed",(function(e){if(void 0===e.target.result)oSpP.startDelayedSubscription((function(){oSpP.startSubscription(),"chrome"!=l&&"firefox"!=l&&"opera"!=l||oSpP.checkIsPopUpWindow()||oSpP.showhelpPromptText(),oSpP.isServiceWorkerChromeSupported()&&oSpP.showPushLabel()}));else{var t=parseInt(e.target.result.value);0==--t?(oSpP.deleteDbValue("SPIDs","PromptClosed"),oSpP.startDelayedSubscription((function(){oSpP.startSubscription(),"chrome"!=l&&"firefox"!=l&&"opera"!=l||oSpP.checkIsPopUpWindow()||oSpP.showhelpPromptText(),oSpP.isServiceWorkerChromeSupported()&&oSpP.showPushLabel()}))):oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:t})}}))}));else{oSpP.getDbValue("SPIDs","SubscriptionId",(function(e){void 0===e.target.result&&oSpP.getDbValue("SPIDs","Spoversubscription",(function(e){void 0!==e.target.result?oSpP.startSubscription():oSpP.getDbValue("SPIDs","PromptClosed",(function(e){if(void 0===e.target.result)"chrome"!=l&&"firefox"!=l&&"opera"!=l||oSpP.startDelayedSubscription((function(){oSpP.showCustomPrompt()}));else{var t=parseInt(e.target.result.value);0==--t?(oSpP.deleteDbValue("SPIDs","PromptClosed"),"chrome"!=l&&"firefox"!=l&&"opera"!=l||oSpP.startDelayedSubscription((function(){oSpP.showCustomPrompt()}))):oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:t})}}))}))}));for(var r=document.querySelectorAll("."+Y+"_notify_prompt"),a=0;a<r.length;a++)r[a].addEventListener("click",(function(){oSpP.startSubscription()}))}else if(window.addEventListener("message",(function(e){e.origin.toLowerCase()==s.toLowerCase()&&"string"==typeof e.data&&("initend"==e.data?clearInterval(M):"closeme"==e.data&&(I.close(),oSpP.storeSubscription(e.data)))}),!1),P)oSpP.getDbValue("SPIDs","SubscriptionId",(function(e){void 0===e.target.result&&oSpP.getDbValue("SPIDs","PromptClosed",(function(e){if(void 0===e.target.result)oSpP.startDelayedSubscription((function(){oSpP.getDbValue("SPIDs","Spoversubscription",(function(e){void 0!==e.target.result?oSpP.startSubscription():(oSpP.getDbValue("SPIDs","PromptClosed",(function(e){void 0===e.target.result&&oSpP.showCustomPrompt()})),"chrome"!=l&&"firefox"!=l&&"opera"!=l||oSpP.showhelpPromptText(),oSpP.isServiceWorkerChromeSupported()&&oSpP.showPushLabel())}))}));else{var t=parseInt(e.target.result.value);0==--t?(oSpP.deleteDbValue("SPIDs","PromptClosed"),oSpP.startDelayedSubscription((function(){oSpP.getDbValue("SPIDs","Spoversubscription",(function(e){void 0!==e.target.result?oSpP.startSubscription():(oSpP.getDbValue("SPIDs","PromptClosed",(function(e){void 0===e.target.result&&oSpP.showCustomPrompt()})),"chrome"!=l&&"firefox"!=l&&"opera"!=l||oSpP.showhelpPromptText(),oSpP.isServiceWorkerChromeSupported()&&oSpP.showPushLabel())}))}))):oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:t})}}))}));else{oSpP.getDbValue("SPIDs","SubscriptionId",(function(e){void 0===e.target.result&&oSpP.getDbValue("Siption():oSpP.getDbValue("SPIDs","PromptClosed",(function(e){if(void 0===e.target.result)oSpP.startDelayedSubscription((functiounction(){oSpP.showCustomPrompt()}))}));else{var t=parseInt(e.target.result.value);0==--t?(oSpP.deleteDbValue("SPIDs","PromptClosed"),oSpP.startDelayedSubscription((function(){oSpP.showCustomPrompt()}))):oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:t})}}))}))}));for(r=document.querySelectorAll("."+Y+"_notify_prompt"),a=0;a<r.length;a++)r[a].addEventListener("click",(function(){oSpP.getDbValue("SPIDs","PromptClosed",(function(e){void 0===e.target.result&&oSpP.startSubscription()}))}))}p&&J&&window.addEventListener("message",(function(e){if(oSpP.detectOrigin(e.origin)&&"string"==typeof e.data)if("init"==e.data)(y=e).source.postMessage("initend",y.origin);else if(0===e.data.indexOf("initpage")){2==(t=e.data.split("|")).length&&(O=t[1],localStorage.setItem("source_url",O),!0,oSpP.startSubscription(),oSpP.isServiceWorkerChromeSupported()&&oSpP.showPushLabel())}else if(0===e.data.indexOf("initvariables")){var t=e.data.split("|");A=JSON.parse(t[1])}}),!1)},this.startSubscription=function(){if(J)switch(l){case"chrome":case"firefox":case"opera":navigator.serviceWorker.getRegistrations().then((function(e){if(e)for(var t=0;t<e.length;t++)e[t].active&&-1!=e[t].active.scriptURL.indexOf(Y+"-push-worker.js")&&e[t].unregister()})),oSpP.isS(),Notification.requestPermission(oSpP.doActionsWithPermissions),oSpP.registerChrome())}else oSpP.showPopUp()},this.clearDomain=function(e){return e.replace("://www.","://").replace("://www2.","://")},this.detectSite=function(){var o=!(-1===oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(e.toLowerCase())));return o||(o=!(-1===oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(t.toLowerCase()))))||(o=!(-1===oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(s.toLowerCase())))),o},this.detectOrigin=function(e){return!(-1===oSpP.clearDomain(e.toLowerCase()).indexOf(oSpP.clearDomain(o.toLowerCase())))},this.detectHttps=function(){n=0===window.location.href.indexOf("https://")},this.log=function(e){},this.detectBrowser=function(){var e,t=navigator.userAgent,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],i=t.match(/(edge(?=\/))\/?\s*(\d+)/i)||[];return"Edge"===i[1]?{name:i[1],version:i[2]}:/trident/i.test(o[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===o[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?{name:"Opera",version:e[1]}:(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),{name:o[0],version:o[1]})},this.isYandexBrowser=function(){return"YaBrowser"===(navigator.userAgent.match(/isMobileYandexBrowser=function(){reetectOs())},this.isServier"in navigatorunction(){return Cookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var r=o[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},this.doActionsWithPermissions=function(e){var t=Date.now()-E;switch(C=!(t<50),oSpP.hideHintDiv(),oSpP.log("[DD] Permissions: "+e),oSpP.log("[DD] Time diff: "+t),e){case"granted":switch(k||C&&oSpP.getDbValue("SPIDs","PromptShowed",(function(e){void 0===e.target.result?(oSpP.sendPromptStat("prompt_showed"),oSpP.sendPromptStat("prompt_granted"),oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})):(oSpP.sendPromptStat("prompt_showed_again"),oSpP.sendPromptStat("prompt_granted"))})),l){case"chrome":case"firefox":case"opera":oSpP.subscribe()}break;case"default":k||C&&oSpP.getDbValue("SPIDs","PromptShowed",(function(e){void 0===e.target.result?(oSpP.sendPromptStat("prompt_showed"),oSpP.sendPromptStat("prompt_closed"),oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})):(oSpP.sendPromptStat("prompt_showed_again"),oSpP.sendPromptStat("prompt_closed"))}));break;case"denied":k?C&&(oSpP.sendToParent("closeme"),oSpP.sendPromptStat("prompt_denied")):C&&oSpP.getDbValue("SPIDs","PromptShowed",(function(e){void 0===e.target.result?(oSpP.sendPromptStat("prompt_showed"),oSpP.sendPromptStat("prompt_denied"),oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})):(oSpP.sendPromptStat("prompt_showed_again"),oSpP.sendPromptStat("prompt_denied"))}))}P?"default"==e?oSpP.closePromptHelpText(!1):"granted"==e?oSpP.closePromptHelpText(!0):(oSpP.closePromptHelpText(!0),oSpP.sendPromptStat("prompt_denied")):"default"==e?oSpP.closeCustomPrompt(!1):oSpP.closeCustomPrompt(!0),oSpP.closePushLabel()},this.registerChrome=function(){navigator.serviceWorker.register("/"+Y+"-push-worker-fb.js",{updateViaCache:"none"}).then((function(e){e.installing?oSpP.log("Service worker installing"):e.waiting?oSpP.log("Service worker installed"):e.active&&oSpP.log("Service worker active")}))},this.checkIsServiceWorkerExitsAndInitPrompt=fuG=0,F=1);try{var t=new XMLHttpRequest;t.open("GET","/"+Y+"-push-worker-fb.js"),t.onload=function(e){J=4==t.readyState&&200==t.status,void 0,oSpP.initPrompt()},t.send(null),t.onerror=function(){void 0}}catch(e){J=!1,oSpP.initPrompt(),void 0}},this.checkSafariPermission=function(e){oSpP.log("[DD] Permissions: "+e.permission),"default"===e.permission?(P?oSpP.closePromptHelpText(!1):oSpP.closeCustomPrompt(!1),C=!0,oSpP.getDbValue("SPIDs","PromptShowed",(function(e){void 0===e.target.result?(oSpP.sendPromptStat("prompt_showed"),oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})):oSpP.sendPromptStat("prompt_showed_again")})),window.safari.pushNotification.requestPermission(S,d,{appkey:g},oSpP.checkSafariPermission)):"denied"===e.permission?(P?oSpP.closePromptHelpText(!0):oSpP.closeCustomPrompt(!0),C&&oSpP.sendPromptStat("prompt_denied"),oSpP.sendToParent("closeme")):"granted"===e.permission&&(oSpP.uns(),P?oSpP.closePromptHelpText(!0):oSpP.closeCustomPrompt(!0),C&&oSpP.sendPromptStat("prompt_granted"),oSpP.subscribe()),oSpP.closePushLabel()},this.initialiseState=function(e){e.showNotification||oSpP.log("Notifications aren't supported on service workers."),"denied"!==Notification.permission?"PushManager"in window||oSpP.log("Push messaging isn't supported."):oSpP.log("The user has blocked notifications.")},this.endpointWorkaround=function(e){switch(l){case"chrome":case"opera":if("subscriptionId"in e)var t=e.subscriptionId;else t=e.endpoint;return~t.indexOf(m)?t.split(m)[1]:~t.indexOf(oSpPOptions.fcmServer+"send/")?t.split(oSpPOptions.fcmServer+"send/")[1]:t;case"firefox":return~(t=e.endpoint).indexOf(x)?t.split(x)[1]:~t.indexOf(N)?t.split(N)[1]:t}},this.fetchFcmToken=function(e,t,o){return new Promise((function(i,r){var s=oSpPOptions.fcmServer+"send/"+encodeURIComponent(e),n="authorized_entity="+oSpPOptions.sPushSenderID;return n+="&endpoint="+s,n+="&encryption_key="+encodeURIComponent(t),n+="&encryption_auth="+encodeURICoions.fcmServer+"connecod:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}).then((function(e){if(200==e.status)return e.json().then((function(e){i(e.token)}));i(void 0)})).catch((function(e){r(e)}))}))},this.getVapidToken=function(e){return new Promise((function(t,o){oSpP.getDbValue("SPIDs","SubscriptionIdVapid",(function(o){void 0===o.target.result?(oSpP.putValueToDb("SPIDs",{type:"SubscriptionIdVapid",value:e}),t(!1)):t(!0)}))}))},this.subscribe=function(){switch(l){case"chrome":case"firefox":case"opera":navigator.serviceWorker.ready.then((function(e){e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oSpP.urlBase64ToUint8Array(oSpPOptions.sVapidPublicKey)}).then((function(e){var t=oSpP.endpointWorkaround(e),o=e.getKey?e.getKey("p256dh"):"",i=o?btoa(String.fromCharCode.apply(null,new Uint8Array(o))):"",r=e.getKey?e.getKey("auth"):"",s=r?btoa(String.fromCharCode.apply(null,new Uint8Array(r))):"";oSpP.checkLocalSubsctoption(t,i,s),p&&oSpP.sendToParent(t)})).catch((function(t){11==t.code&&navigator.serviceWorker.getRegistrations().then((function(t){for(var o=0;o<t.length;o++)-1==t[o].active.scriptURL.indexOf("OneSignalSDKWorker.js")&&-1==t[o].active.scriptURL.indexOf("pushcrew-sw.js")&&-1==t[o].active.scriptURL.indexOf("push-worker.js")&&-1==t[o].active.scriptURL.indexOf("sw.js")&&-1==t[o].active.scriptURL.indexOf("service-worker.js")&&-1==t[o].active.scriptURL.indexOf("pushwoosh-service-worker.js")&&-1==t[o].active.scriptURL.indexOf("serviceworker.js")&&-1==t[o].active.scriptURL.indexOf(Y+"-push-worker-fb.js")||t[o].unregister().then((function(){navigator.serviceWorker.getRegistration().then((function(t){void 0!==t?-1==t.active.scriptURL.indexOf("OneSignalSDKWorker.js")&&-1==t.active.scriptURL.indexOf("pushcrew-sw.js")&&-1==t.active.scriptURL.indexOf("push-worker.js")&&-1==t.active.scriptURL.indexOf("sw.js")&&-1==t.active.scriptURL.indexOf("service-worker.js")&&-1==t.active.scriptURL.indexOf("pushwoosh-service-worker.js")||t.unregister().then((function(){oSpP.putValueToDb("SPIDs",{type:"Spoversubscription",value:1}),e.pushManager.getSubscription().then((function(e){e?e.unsubscribe().then((functiow.location.reload()}))})):e.pushManager.getSubscription().then((function(e){oSpP.putValueToDb("SPIDs",{type:"Spoversubscription",value:1}),e?e.unsubscribe().then((function(e){window.location.reload()})):window.location.reload()}))}))}))}))}))}))}},this.checkLocalSubsctoption=function(e,t,o,i){oSpP.log("[DD] subscribe :: subscriptionId: "+e),oSpP.getDbValue("SPIDs","SubscriptionId",(function(i){void 0===i.target.result?(oSpP.sendSubscribeDataToServer(e,"subscribe",void 0,t,o),oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:e})):i.target.result.value!==e&&(oSpP.sendSubscribeDataToServer(i.target.result.value,"unsubscribe"),oSpP.sendSubscribeDataToServer(e,"subscribe",void 0,t,o),oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:e}))}))},this.unsubscribe=function(se"chrome":case"firefox":case"opera":navigator.serviceWorker.ready.then((function(e){e.pushManager.getSubscription().then((function(e){oSpP.endpointWorkaround(e);e&&e.unsubscribe().then((function(e){}))}))}))}},this.getUserVariables=function(){for(var e={},t=document.querySelectorAll("input."+Y+"_push_custom_data"),o=0;o<t.length;o++)switch(t[o].type){case"text":case"hidden":e[t[o].name]=t[o].value;break;case"checkbox":e[t[o].name]=t[o].checked?1:0;break;case"radio":t[o].checked&&(e[t[o].name]=t[o].value)}return e},this.sendSubscribeDataToServer=function(e,t,o,i,s){var n=new XMLHttpRequest;p&&"subscribe"==t&&(n.onreadystatechange=function(){4==n.readyState&&200==n.status&&(_=!0)}),n.open("POST",S,!0),n.setRequestHeader("Content-Type","application/json"),void 0===o&&((o={}).uname=oSpP.checkCookie("lgn"),o.os=oSpP.detectOs()),void 0===i&&(i=""),o.variables=p&&!J?A:oSpP.getUserVariables();var a,u=-(new Date).getTimezoneOffset()/60;if(o.timezoneoffset=u,O)a=O;else{var d=localStorage.getItem("source_url");a=d||window.location.href}var m=oSpPOptions.sSubscriptionPrefix;switch(l){case"safari":case"firefox":m=""}var P={action:"subscription",subscriptionId:e,subscription_action:t,subscription_type:m,appkey:g,browser:c,lang:oSpP.getBrowserlanguage(),url:a,sPubKey:i,sAuthKey:s,sPushHostHash:r,custom_data:o};nDb=function(e){if(exedDB||window.msIndexedDB).open(W.toLowerCase()+"_push_db",2);t.onsuccess=function(t){f=t.target.result,e()},t.onupgradeneeded=function(e){e.target.result.createObjectStore("SPIDs",{keyPath:"type"})}}},this.getDbValue=function(e,t,o){oSpP.initDb((function(){f.transaction([e],"readonly").objectStore(e).get(t).onsuccess=o}))},this.putValueToDb=function(e,t){oSpP.iore(e).put(t)}))},this.deleteDbValue=function(e,t){oSpP.initDb((function(){f.transaction([e],"readwrite").objectStore(e).delete(t)}))},this.uns=function(){oSpP.deleteDbValue("SPIDs","SubscriptionId")},this.detectOs=function(){return-1!=navigator.userAgent.indexOf("Windows")?"Windows":-1!=navigator.userAgent.indexOf("Android")?"Android":-1!=navigator.userAgent.indexOf("Linux")?"Linux":-1!=navigator.userAgent.indexOf("iPhone")||-1!=navigator.userAgent.indexOf("iPad")?"iOS":-1!=navigator.userAgent.indexOf("Mac")?"Mac OS":-1!=navigator.userAgent.indexOf("FreeBSD")?"FreeBSD":""},this.sendToParent=function(e){if(null===y)var t=setInterval((function(){null!==y&&(y.source.postMessage(e,y.origin),clearInterval(t))}),100);else y.source.postMessage(e,y.origin)},this.removeTransparentDiv=function(){if(document.getElementsByClassName(Y+"-resubscribe-div").length>0){var e=document.getElementsByClassName(Y+"-resubscribe-div")[0];document.body.removeChild(e)}},this.showPopUp=function(){null!=I&&I.close(),oSpP.removeTransparentDiv(),P&&oSpP.sendPromptStat("prompt_granted");var e=void 0!==window.screenLeft?window.screenLeft:screen.left,t=void 0!==window.screenTop?window.screenTop:screen.top,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,n=o/2-290+e,p=i/3-i/3+t,a=oSpP.getBrowserlanguage();""==a&&(a="en"),I=window.open(s+"/"+a+"/"+g+"/"+r,"_blank","scrollbars=yes, width=580, height=580, top="+p+", left="+n),window.focus&&I.focus(),M=setInterval((function(){I.postMessage("init",s),I.postMessage("initpage|"+window.location.href,s),I.postMessage("initvariables|"+JSON.stringify(oSpP.getUserVariables()),s)}),100),P?oSpP.closePrompt(!0):J||oSpP.closePrompt(!0)},this.closePrompt=function(e){void 0===e&&oSpP.sendPromptStat("prompt_closed"),document.getElementsByClassName(Y+"-prompt").length>0&&document.body.removeChild(document.querySelector("."+Y+"-prompt")),document.getElementsByClassName(Y+"-prompt-backdrop").length>0&&document.body.removeChild(document.querySelector("."+Y+"-prompt-backdrop")),oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:j})},this.push=function(t,o){if(!oSpP.detectSite())return oSpP.log("Application allowed only for "+e),!1;T[t]=o,oSpP.getDbValue("SPIDs","SubscriptionId",(function(e){void 0===e.target.result?L||(L=setInterval((function(){oSpP.getDbValue("SPIDs","SubscriptionId",(function(e){void 0!==e.target.result&&(oSpP.sendUpdatesToServer(e.target.result.value),clearInterval(L),L=!1)}))}),1e3)):oSpP.sendUpdatesToServer(e.target.result.value)}))},this.sendUpdatesToServer=function(e){var t=oSpPOptions.sSubscriptionPrefix;switch(l){case"safari":case"firefox":t=""}var o=new XMLHttpRequest;o.open("POST",S,!0),o.setRequestHeader("Content-Type","application/json");var i={action:"subscription",subscriptionId:e,subscription_type:t,subscription_action:"update_variables",appkey:g,sPushHostHash:r,custom_data:{variables:T}};o.send(JSON.stringify(i))},this.sendPromptStat=function(e){"prompt_denied"===e&&oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:"denied"})},this.showhelpPromptText=function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("link");if(t.rel="stylesheet",t.type="text/css",t.href="https://"+a+"/dist/css/push/"+W.toLowerCase()+"-prompt.min.css?v="+q,t.media="all",e.appendChild(t),v.length>=0&&"-"!=v){var o=document.createElement("div");o.setAttribute("class",Y+"-backdrop-info"),o.setAttribute("style","display:none;");var i=document.createElement("div");i.setAttribute("class","backdrop-close"),i.innerHTML+="<big>×</big><br><small>ESC</small>",i.setAttribute("onclick","oSpP.closePromptHelpText(false); return false;"),o.appendChild(i);var r=document.createElement("div");if(r.setAttribute("class","backdrop-message"),r.innerHTML+=v,o.appendChild(r),"chrome"===c.name.toLowerCase()){var s=this.getPushHintDiv();o.appendChild(s)}document.body.insertBefore(o,document.body.childNodes[0]),setTimeout((function(){oSpP.getDbValue("SPIDs","PromptClosed",(function(e){void 0===e.target.result&&(o.className+=o.className?" show-prompt":"show-prompt")}))}),1e3)}},this.showPushLabel=function(){if(J){var e=!0,t=new UAParser,i=t.getBrowser();if(i.os=t.getOS().name,void 0!==V&&0==V&&(e=!1),e){var r=document.createElement("div"),s='<a class="'+Y+'-brand-link" rel="nofollow" target="_blank" href="'+B+(-1!==B.indexOf("?")?"&":"?")+"utm_source="+encodeURI(o.replace(/(^\w+:|^)\/\//,""))+'&utm_medium=referral&utm_campaign=pushrequest">Web Push <span>'+W+"</span></a>";if(document.getElementsByClassName(Y+"-backdrop-info").length){if(r.setAttribute("class",Y+"-bottom-push-label "+Y+"-show"),r.innerHTML+=s,"chrome"===i.name.toLowerCase()&&!document.getElementsByClassName(Y+"-hint-popover").length){var n=this.getPushHintDiv();document.getElementsByClassName(Y+"-backdrop-info")[0].appendChild(n)}document.getElementsByClassName(Y+"-backdrop-info")[0].appendChild(r)}else{var p=Y+"-"+u.toLowerCase().replace(" ",""),a=Y+"-lang-"+oSpP.getBrowserlanguage().toLowerCase().replace(" ",""),c=Y+"-"+i.name.toLowerCase().replace(" ",""),l=c+i.major;r.setAttribute("style","display:none"),r.setAttribute("class",Y+"-webpush-label "+p+" "+c+" "+a+" "+l),r.setAttribute("onclick","this.remove();");var d=document.createElement("div");if(d.setAttribute("class",Y+"-inner-content"),d.innerHTML+=s,"chrome"===i.name.toLowerCase()){n=this.getPushHintDiv();r.appendChild(n)}r.appendChild(d),document.body.insertBefore(r,document.body.childNodes[0])}setTimeout((function(){if(null!==document.querySelector("."+Y+"-webpush-label")){var e=document.querySelector("."+Y+"-webpush-label");e.setAttribute("class",e.getAttribute("class")+" "+Y+"-show")}}),1e3)}}},this.getPushHintDiv=function(){var e=oSpP.getMessageLang(oSpP.getBrowserlanguage()),t=document.createElement("div"),o=Y+"-prompt "+Y+"-hint-popover show-prompt";oSpP.isYandexBrowser()&&(o+=" "+Y+"-yandex"),t.setAttribute("class",o);var i=document.createElement("div");i.setAttribute("class",Y+"-prompt-message");var r=document.createElement("div");r.setAttribute("class",Y+"-table-wrapper");var s=document.createElement("div");s.setAttribute("class",Y+"-cell"),s.innerHTML+=Z[e];var n=document.createElement("div");n.setAttribute("class",Y+"-cell"),n.innerHTML="<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjI4IiB2aWV3Qm94PSIwIDAgMTAwIDI4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBIODZDOTMuNzMyIDAgMTAwIDYuMjY4MDEgMTAwIDE0VjE0QzEwMCAyMS43MzIgOTMuNzMyIDI4IDg2IDI4SDBWMFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcikiLz48cGF0aCBkPSJNOTAgMTEuNjkwMUw4NC4yNTU3IDExLjIwMDlMODIgNkw3OS43NDQzIDExLjIwMDlMNzQgMTEuNjkwMUw3OC4zODAzIDE1LjM5NzdMNzcuMDY4OSAyMC45MzMzTDgyIDE3Ljk5ODJMODYuOTU3NCAyMC45MzMzTDg1LjY0NTkgMTUuMzk3N0w5MCAxMS42OTAxWk04MiAxNi41MzA2TDc4Ljk4MzYgMTguMzA3MUw3OS43OTY3IDE0LjkzNDNMNzcuMTIxMyAxMi42OTQzTDgwLjYzNjEgMTIuMzg1M0w4MiA5LjIxODM5TDgzLjM2MzkgMTIuMzg1M0w4Ni44Nzg3IDEyLjY5NDNMODQuMjI5NSAxNC45Nkw4NS4wNDI2IDE4LjMzMjlMODIgMTYuNTMwNloiIGZpbGw9IiM0RDUyNUUiLz48cGF0aCBkPSJNNTEuMjcyNyAxOC45MDA4QzUxLjI3MjcgMTkuNjI4MSA1MC42Nzc3IDIwLjIyMzEgNDkuOTUwNCAyMC4yMjMxQzQ5LjIyMzEgMjAuMjIzMSA0OC42MjgxIDE5LjYyODEgNDguNjI4MSAxOC45MDA4SDUxLjI3MjdaTTU1LjA2NzggMTkuOTM4OEw1My4zNjg2IDE4LjIzOTdINDRMNDUuOTgzNSAxNi4yNTYyVjEyLjI4OTNDNDUuOTgzNSAxMS44NTk1IDQ2LjA0OTYgMTEuNDQzIDQ2LjE4MTggMTEuMDUyOUw0NC4zMTA3IDkuMTgxODJMNDUuMjQ5NiA4LjI0OTU5TDQ2LjgzNjQgOS44MzYzNkw1NiAxOUw1NS4wNjc4IDE5LjkzODhaTTQ5LjI4OTMgOC4zNzUyMVY3LjY2MTE2QzQ5LjI4OTMgNy4yOTc1MiA0OS41ODY4IDcgNDkuOTUwNCA3QzUwLjMxNCA3IDUwLjYxMTYgNy4yOTc1MiA1MC42MTE2IDcuNjYxMTZWOC4zNzUyMUM1Mi40ODkzIDguNjkyNTYgNTMuOTE3NCAxMC4zMjU2IDUzLjkxNzQgMTIuMjg5M1YxNS4wNDYzTDQ3LjgxNDkgOC45NDM4QzQ4LjI1NzkgOC42NTI4OSA0OC43NTM3IDguNDY3NzcgNDkuMjg5MyA4LjM3NTIxWiIgZmlsbD0iIzRENTI1RSIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9IjEwMCIgeTE9IjE0IiB4Mj0iMS4xMzg0NWUtMDciIHkyPSIxNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMC42NDkyNDkiIHN0b3AtY29sb3I9IiNEMEQyRDgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNEMEQyRDgiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg=='>",r.appendChild(s),r.appendChild(n);var p=document.createElement("div");return p.setAttribute("class",Y+"-prompt-message-text"),p.innerHTML=Q[e],i.appendChild(r),i.appendChild(p),t.appendChild(i),t},this.showCustomPrompt=function(){oSpP.getDbValue("SPIDs","PromptShowed",(function(e){void 0===e.target.result?(oSpP.sendPromptStat("prompt_showed"),oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})):oSpP.sendPromptStat("prompt_showed_again")}));var e,t=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href="https://"+a+"/dist/css/push/"+W.toLowerCase()+"-prompt.min.css?v="+q,o.media="all",t.appendChild(o);var i=Y+"-popover",r="display:none;",s=!0;void 0!==V&&0==V&&(s=!1);var n=oSpP.getMessageLang(oSpP.getBrowserlanguage());if(b.length<=0&&D.length>0&&!J&&P&&(b=D,e=JSON.parse(b),w=e.text),b.length>0){if("Sendbox"===W)var p='<img src="data:image/svg+xml;base64,PHN2ZyBpZD0i0KHQu9C+0LlfMSIgZGF0YS1uYW1lPSLQodC70L7QuSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNSAxNSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmNjEzODk7fS5jbHMtMntmaWxsOiMwMDg0ZmY7fS5jbHMtM3tmaWxsOiM0MDRhY2M7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5sb2dvLXNlbmRib3g8L3RpdGxlPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTMuMSw0LjE3SDguMjZhLjgyLjgyLDAsMCwwLDAtMS42NEgzLjFhLjgyLjgyLDAsMCwwLDAsMS42NFoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik00LjA4LDExSDMuNTNhLjgyLjgyLDAsMCwwLDAsMS42NGguNTVhLjgyLjgyLDAsMCwwLDAtMS42NFoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xLjcyLDdIM0EuODIuODIsMCwwLDAsMyw1LjM5SDEuNzJBLjgyLjgyLDAsMCwwLDEuNzIsN1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMS40NiwxMUg2LjY4YS44Mi44MiwwLDAsMCwwLDEuNjRoNC43OGEuODIuODIsMCwwLDAsMC0xLjY0WiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTQuMDgsOC4yOEguODFhLjgyLjgyLDAsMCwwLDAsMS42NEg0LjA4YS44Mi44MiwwLDAsMCwwLTEuNjRaIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNOC4wOCw5LjI0bC4xNi4wNy4xMywwSDguN2wuMTMsMEw5LDkuMjRIOWwyLjg2LTEuOTRBLjgyLjgyLDAsMSwwLDExLDUuOTNMOC41NCw3LjU4LDYuMSw1LjkzYS44NC44NCwwLDAsMC0xLjE2LjIuODMuODMsMCwwLDAsLjI1LDEuMTZMOCw5LjIzWiIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTE0LjE4LDIuNTNhLjgyLjgyLDAsMCwxLC44Mi44MnY4LjQ4YS44Mi44MiwwLDAsMS0uODIuODJIMTFBLjgyLjgyLDAsMCwxLDExLDExaDIuMzlWNC4xN0g3LjgzYS44Mi44MiwwLDAsMSwwLTEuNjRaIi8+PGVsbGlwc2UgY2xhc3M9ImNscy0zIiBjeD0iMTAuOTgiIGN5PSIxMS44MyIgcng9IjAuODEiIHJ5PSIwLjgyIi8+PGVsbGlwc2UgY2xhc3M9ImNscy0zIiBjeD0iNy44MyIgY3k9IjMuMzUiIHJ4PSIwLjgxIiByeT0iMC44MiIvPjwvc3ZnPg==">';else p='<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiByeD0iMiIgZmlsbD0iIzAwQTJDMCIvPiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEzLjUwNjQgOC4wOTYzOVY4LjQzMzc0VjguNjAyNDFMMTMuNDkwMiA5SDExLjg1OUg4LjQxNTc5SDguMTIyMDZMOC4wODMyMiA4LjcwNzI1TDcuNTk3NjEgNS4zNDc1NUw1LjM5MDY0IDEzLjc0ODhMNS4zMjQ2NiAxNEg1LjA2NjI2SDMuODQ0MzJIMy41Nzg4OUwzLjUxNzgxIDEzLjc0MDNMMi4zNTA3MyA5SDAuMzM1NTA5SDBWOC43NTE3NVY3LjI2NDU3VjdIMC4zMzU1MDlIMy42MDg4OUgzLjg2MDUyTDMuODk2NjMgNy4xODc1NEw0LjQ5ODkgOS44NTM5N0w2Ljk3NDcyIDAuMjUyNjgyTDcuMDM5ODcgMEg3LjI5OTQ5SDguNTU0MDZIOC44NTExMUw4Ljg4NzEgMC4yOTY0NzdMOS43MjgxNSA3LjAxODg3SDExLjgyODlMMTIuMzE1OSA3LjAxODg2TDEyLjYzMDkgNy4wMTg4N0gxMy40OTAyTDEzLjUwNjQgNy4xODc1NFY3LjM1NjIyVjguMDk2MzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIiBmaWxsPSJ3aGl0ZSIvPiAgICA8cGF0aCBkPSJNMTQuNDEyIDhDMTQuNDEyIDguOTc4MTQgMTMuNjIzMyA5Ljc3MTA4IDEyLjY1MDUgOS43NzEwOEMxMS42Nzc3IDkuNzcxMDggMTAuODg5MSA4Ljk3ODE0IDEwLjg4OTEgOEMxMC44ODkxIDcuMDIxODYgMTEuNjc3NyA2LjIyODkxIDEyLjY1MDUgNi4yMjg5MUMxMy42MjMzIDYuMjI4OTEgMTQuNDEyIDcuMDIxODYgMTQuNDEyIDhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPg==">';var c='<svg style="display: none;"><symbol id="sp_bell_icon"><path d="M139.165 51.42L103.39 15.558C43.412 61.202 3.74 132.185 0 212.402h50.174c3.742-66.41 37.877-124.636 88.99-160.98zM474.98 212.403h50.173c-3.742-80.217-43.413-151.2-103.586-196.845L385.704 51.42c51.398 36.346 85.533 94.572 89.275 160.982zm-49.388 12.582c0-77-53.39-141.463-125.424-158.487v-17.09c0-20.786-16.76-37.613-37.592-37.613s-37.592 16.827-37.592 37.614v17.09C152.95 83.52 99.56 148.004 99.56 224.983v137.918L49.408 413.01v25.076h426.336V413.01l-50.152-50.108V224.984zM262.576 513.358c3.523 0 6.76-.22 10.065-1.007 16.237-3.237 29.825-14.528 36.06-29.626 2.517-5.952 4.05-12.494 4.05-19.54H212.4c0 27.593 22.582 50.174 50.174 50.174z" /></symbol></svg>';(i=(e=JSON.parse(b)).style)===Y+"-popover"&&(i=Y+"-native-popover");var l=document.createElement("div"),u=Y+"-prompt "+i;l.setAttribute("class",u),e.backgroundcolor.length>0&&i!=Y+"-fab"&&(r=r+"background-color: "+e.backgroundcolor+";"),l.setAttribute("style",r);var d=document.createElement("div");d.setAttribute("class",Y+"-prompt-message");var S=document.createElement("img");if(S.setAttribute("class",Y+"-bell-icon"),S.setAttribute("width","14"),S.setAttribute("height","14"),S.setAttribute("src","https://"+a+"/img/push/icon-ring.svg"),s){var m=document.createElement("span");m.setAttribute("class",Y+"-link-wrapper"),(L=document.createElement("a")).setAttribute("class",Y+"-link"),L.setAttribute("href",B),L.setAttribute("target","_blank");var g=document.createElement("span");i===Y+"-modal"&&(L.setAttribute("style","color: "+e.textcolor+" !important;"),m.setAttribute("style","color: "+e.textcolor+" !important;"),g.setAttribute("style","color: "+e.textcolor+" !important;")),g.innerHTML=R[n],i!=Y+"-bar"&&(L.innerHTML=p),L.appendChild(g),m.appendChild(L)}if(i===Y+"-native-popover"){r=r+"color: "+e.textcolor+" !important;",l.setAttribute("style",r),void 0!==e.custom&&void 0!==e.custom.prompt_position&&(u+=" "+Y+"-pos-"+e.custom.prompt_position,l.setAttribute("class",u)),(C=document.createElement("div")).setAttribute("class",Y+"-native-info-inner "+Y+"-table-wrapper");var v=document.createElement("div");v.setAttribute("class",Y+"-cell"),S.setAttribute("src","https://"+a+e.icon),S.setAttribute("width","64"),S.setAttribute("height","64"),v.appendChild(S);var f=document.createElement("div");f.setAttribute("class",Y+"-cell");var M=document.createElement("div");M.setAttribute("class",Y+"-prompt-info "+Y+"-prompt-message-text"),M.innerHTML+=w,f.appendChild(M),C.appendChild(v),C.appendChild(f)}else if(i==Y+"-bar"){(C=document.createElement("div")).setAttribute("class",Y+"-prompt-info "+Y+"-prompt-message-text"),C.setAttribute("style","color: "+e.textcolor+" !important;"),C.innerHTML+=w;var I=document.createElement("span");d.innerHTML+=c+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="'+Y+'-bell-icon"><use class="'+Y+'-bell-path" style="fill: '+e.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'}else if(i==Y+"-fab"){if((C=document.createElement("div")).setAttribute("class",Y+"-prompt-title "+Y+"-prompt-message-text"),e.textcolor.length>0&&C.setAttribute("style","color: "+e.textcolor+" !important;"),C.innerHTML=h,(I=document.createElement("div")).setAttribute("class",Y+"-prompt-info "+Y+"-prompt-message-text"),e.textcolor.length>0&&I.setAttribute("style","color: "+e.textcolor+" !important;"),I.innerHTML+=w,void 0!==e.custom&&void 0!==e.custom.prompt_size&&"big"===e.custom.prompt_size){I=null,u=Y+"-prompt "+Y+"-floating-panel",l.setAttribute("class",u),d.setAttribute("style","background-color: "+e.btncolor+"; color: "+e.textcolor+" !important;"),d.setAttribute("onclick","oSpP.startSubscription(); return false;"),(C=document.createElement("div")).setAttribute("style","color: "+e.textcolor+" !important;"),C.setAttribute("class",Y+"-table-wrapper");var y=document.createElement("div");y.setAttribute("class",Y+"-cell");var O=document.createElement("a");O.innerHTML+='<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="'+Y+'-bell-icon"><use class="'+Y+'-bell-path bell-prompt-fab" style="fill: '+e.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0">'+c+"</use></svg>",O.setAttribute("href","#"),y.appendChild(O);var A=document.createElement("div");A.setAttribute("class",Y+"-cell");var T=document.createElement("a");T.setAttribute("href","#"),T.innerHTML=h,A.appendChild(T),C.appendChild(y),C.appendChild(A);var L,x=document.createElement("div");x.setAttribute("class",Y+"-prompt-label"),(L=document.createElement("a")).setAttribute("href",B),L.setAttribute("target","_blank"),(g=document.createElement("span")).innerHTML=R[n],L.appendChild(g),x.appendChild(L)}else{var N=document.createElement("div");N.setAttribute("class",Y+"-prompt-fab "+Y+"_notify_prompt"),N.setAttribute("onclick","oSpP.startSubscription();oSpP.showHintDiv(); return false;"),e.btncolor.length>0&&N.setAttribute("style","background-color: "+e.btncolor+" !important;"),N.innerHTML+=c+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="'+Y+'-bell-icon" ><use class="'+Y+'-bell-path bell-prompt-fab" style="fill: '+e.iconcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" /></svg>'}void 0!==e.custom&&void 0!==e.custom.prompt_position&&(u+=" "+Y+"-fab-"+e.custom.prompt_position,l.setAttribute("class",u))}else if(i==Y+"-modal"||i==Y+"-safari"){var C;(C=document.createElement("div")).setAttribute("class",Y+"-prompt-title "+Y+"-prompt-message-text"),e.textcolor.length>0&&C.setAttribute("style","color: "+e.textcolor+" !important;"),C.innerHTML=h,(I=document.createElement("div")).setAttribute("class",Y+"-prompt-info "+Y+"-prompt-message-text"),e.textcolor.length>0&&I.setAttribute("style","color: "+e.textcolor+" !important;"),I.innerHTML+=w,i==Y+"-safari"?(S.setAttribute("src","https://"+a+e.icon),S.setAttribute("width","64"),S.setAttribute("height","64"),d.appendChild(S)):d.innerHTML+=c+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="'+Y+'-bell-icon"><use class="'+Y+'-bell-path" style="fill: '+e.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'}if(i!=Y+"-fab"){var E=document.createElement("div");E.setAttribute("class",Y+"-prompt-buttons");var j=document.createElement("button");j.setAttribute("class",Y+"-prompt-btn "+Y+"-accept-btn "+Y+"_notify_prompt"),j.setAttribute("type","button"),j.setAttribute("onclick","oSpP.startSubscription();oSpP.showHintDiv();oSpP.closeCustomPrompt(true); return false;");var k=document.createElement("button");if(k.setAttribute("class",Y+"-prompt-btn "+Y+"-disallow-btn"),k.setAttribute("type","button"),k.setAttribute("onclick","oSpP.sendPromptStat('prompt_denied');oSpP.closeCustomPrompt(true); return false;"),j.innerHTML=e.allowbtntext,k.innerHTML=e.disallowbtntext,j.setAttribute("style","background-color:"+e.buttoncolor+" !important;border-color:"+e.buttoncolor+" !important;"),k.setAttribute("style","color:"+e.buttoncolor+" !important;"),i===Y+"-native-popover"){var _=document.createElement("div");_.setAttribute("class",Y+"-table-wrapper");var z=document.createElement("div");z.setAttribute("class",Y+"-cell"),s&&void 0!==m&&z.appendChild(m);var U=document.createElement("div");U.setAttribute("class",Y+"-cell"),U.appendChild(k);var H=document.createElement("div");H.setAttribute("class",Y+"-cell"),H.appendChild(j),_.appendChild(z),_.appendChild(U),_.appendChild(H),E.appendChild(_)}else E.appendChild(k),E.appendChild(j);if(s&&i==Y+"-modal"){var Z=document.createElement("div");Z.innerHTML="&nbsp;",E.appendChild(Z)}}if(d.appendChild(C),void 0!==I&&null!=I&&i!=Y+"-native-popover"&&d.appendChild(I),i!==Y+"-fab"?(d.appendChild(E),s&&void 0!==m&&i!==Y+"-native-popover"&&E.appendChild(m),l.appendChild(d)):void 0!==e.custom.prompt_size&&"big"===e.custom.prompt_size?(l.appendChild(d),s&&void 0!==x&&l.appendChild(x)):(s&&void 0!==m&&d.appendChild(m),l.appendChild(d),l.appendChild(N)),i!=Y+"-fab"){var Q=document.createElement("button");Q.setAttribute("class",Y+"-prompt-close"),Q.setAttribute("onclick","oSpP.closeCustomPrompt(false); return false;"),Q.setAttribute("style","color:"+e.textcolor+" !important;"),Q.innerHTML="&times;",l.appendChild(Q)}if(document.body.insertBefore(l,document.body.childNodes[0]),i==Y+"-modal"){var G=document.createElement("div");G.setAttribute("class",Y+"-prompt-backdrop"),G.setAttribute("style","display:none;"),document.body.insertBefore(G,document.body.childNodes[1])}setTimeout((function(){l.className+=l.className?" show-prompt":"show-prompt"}),1e3)}},this.closeCustomPrompt=function(e){oSpP.sendPromptStat("prompt_closed"),null!==document.body.querySelector("."+Y+"-prompt")&&document.body.querySelector("."+Y+"-prompt").remove(),oSpP.closePromptHelpText(!0),e||oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:j})},this.showHintDiv=function(){if(J&&"chrome"===c.name.toLowerCase()){var e=this.getPushHintDiv();e.setAttribute("class",Y+"-prompt "+Y+"-hint-popover show-prompt "+Y+"-secure-mode"),document.body.appendChild(e)}},this.hideHintDiv=function(){document.getElementsByClassName(Y+"-hint-popover").length&&document.querySelector("."+Y+"-hint-popover").remove()},this.closePromptHelpText=function(e){null!==document.querySelector("."+Y+"-backdrop-info")&&document.querySelector("."+Y+"-backdrop-info").remove(),e?oSpP.sendPromptStat("prompt_closed"):oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:j})},this.closePushLabel=function(){null!==document.querySelector("."+Y+"-bottom-push-label")&&document.querySelector("."+Y+"-bottom-push-label").remove(),null!==document.querySelector("."+Y+"-webpush-label")&&document.querySelector("."+Y+"-webpush-label").remove()},this.getMessageLang=function(e){return"ua"==(e=e.substring(0,2).toLowerCase())||"uk"==e?"ua":"ru"==e?"ru":"en"},this.storeSu("StoreSubscription: "+e),oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:e})},this.getPromptDelay=function(){return parseInt(G)},this.getSettingsShowByVisitNumber=function(){return parseInt(F)},this.startDelayedSubscription=function(e){if(parseInt(G)>0)var t=setInterval((function(){oSpP.getDbValue("SPIDs","PromptDelay",(function(o){void 0!==o.target.result?(new Date).getTime()>=o.target.result.value&&(clearInterval(t),e()):(clearInterval(t),e())}))}),1e3);else e()},this.getAuthEmailFromUrl=function(){var e=window.location.href,t=new RegExp("[?&]spush(=([^&#]*)|&|#|$)").exec(e);if(t&&t[2]){var o=atob(decodeURIComponent(t[2].replace(/\+/g," ")));void 0!==o&&o.length>0&&oSpP.push("email",o)}},this.getVisitsCount=function(){var e=1;oSpP.getDbValue("SPIDs","VisitsCount",(function(t){void 0===t.target.result?(oSpP.putValueToDb("SPIDs",{type:"VisitsCount",value:e}),e>=oSpP.getSettingsShowByVisitNumber()&&oSpP.checkIsServiceWorkerExitsAndInitPrompt(!1)):(e=t.target.result.value,e+=1,oSpP.putValueToDb("SPIDs",{type:"VisitsCount",value:e}),e>=oSpP.getSettingsShowByVisitNumber()&&oSpP.checkIsServiceWorkerExitsAndInitPrompt(!1))}))},this.checkIsPopUpWindow=function(){return-1===oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(oSpPOptions.sAppUrlShow.toLowerCase()))&&-1!==oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(oSpPOptions.sPushSubSomain.toLowerCase()))},this.initPrompt=function(){oSpP.getPromptDelay()>0?oSpP.getDbValue("SPIDs","PromptDelay",(function(e){void 0===e.target.resule64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(t),i=new Uint8Array(o.length),r=0;r<o.length;++r)i[r]=o.charCodeAt(r);return i}}window.addEventListener("load",(function(){-1===oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(oSpPOptions.sAppUrlShow.toLowerCase()))&&-1!==oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(oSpPOptions.sPushSubSomain.toLowerCase()))?oSpP.checkIsServiceWorkerExitsAndInitPrompt(!0):oSpP.getSettingsShowByVisitNumber()>1?oSpP.getVisitsCount():oSpP.checkIsServiceWorkerExitsAndInitPrompt(!1)}));var oSpP=new oPromptPush;document.onkeyup=function(e){27===(e=e||window.event).keyCode&&oSpP.closePromptHelpText(!1)};