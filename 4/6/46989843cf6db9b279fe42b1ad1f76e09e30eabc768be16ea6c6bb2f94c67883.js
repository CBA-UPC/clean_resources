"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[898],{4231:(t,e,n)=>{n.d(e,{R:()=>i,z:()=>r});var a=[];function r(t){if(0===a.length)return!0;if(void 0===t.hostname)return!1;for(var e=0;e<a.length;e++){var n=a[e];if("*"===n.hostname)return!1;if(s(n.hostname,t.hostname)&&o(n.pathname,t.pathname))return!1}return!0}function i(t){if(a=[],t&&t.length)for(var e=0;e<t.length;e++){var n=t[e];0===n.indexOf("http://")?n=n.substring(7):0===n.indexOf("https://")&&(n=n.substring(8));var r=n.indexOf("/");r>0?a.push({hostname:n.substring(0,r),pathname:n.substring(r)}):a.push({hostname:n,pathname:""})}}function s(t,e){return!(t.length>e.length)&&e.indexOf(t)===e.length-t.length}function o(t,e){return 0===t.indexOf("/")&&(t=t.substring(1)),0===e.indexOf("/")&&(e=e.substring(1)),""===t||t===e}},7826:(t,e,n)=>{n.d(e,{AG:()=>h,FX:()=>d,n1:()=>c,uR:()=>u});var a=n(7022),r=n(2438),i=n(9226),s=Object.prototype.hasOwnProperty,o=64;function h(t,e,n){return t||0===t||""===t?e(t)+(n?",":""):"!"}function u(t,e){return e?Math.floor(t).toString(36):void 0===t||0===t?"":Math.floor(t).toString(36)}function d(t){var e=Object.hasOwnProperty("create")?Object.create(null):{},n=0;return function(a){if(void 0===a||""===a)return"";var r=new i.RR({agentIdentifier:t});a=String(a),r.shouldObfuscate()&&(a=r.obfuscateString(a));return s.call(e,a)?u(e[a],!0):(e[a]=n++,function(t){return"'"+t.replace(f,"\\$1")}(a))}}function c(t,e){var n=[];return(0,a.D)(t,(function(t,a){if(!(n.length>=o)){var i,s=5;switch(t=e(t),typeof a){case"object":a?i=e((0,r.P)(a)):s=9;break;case"number":s=6,i=a%1?a:a+".";break;case"boolean":s=a?7:8;break;case"undefined":s=9;break;default:i=e(a)}n.push([s,t+(i?","+i:"")])}})),n}var f=/([,\\;])/g},960:(t,e,n)=>{n.r(e),n.d(e,{Aggregate:()=>g});var a=n(4045),r=n(2438),i=n(7826),s=n(9252),o=n(27),h=n(6875),u=n(4231),d=n(5330),c=n(8675),f=n(4329),l=n(2325),p=n(6034);class g extends d.m{static featureName=c.t;constructor(t,e){super(t,e,c.t);let n,d=[],g={},m=[];const v=this.ee,b=(0,o.Mt)(t,"ajax.harvestTimeSeconds")||10,x=(0,o.Mt)(t,"ajax.maxPayloadSize")||1e6;function S(n,a,i,h,c){var f;if(a.time=i,f=n.cat?(0,r.P)([n.status,n.cat]):(0,r.P)([n.status,n.host,n.pathname]),(0,s.p)("bstXhrAgg",["xhr",f,n,a],void 0,l.D.sessionTrace,v),e.store("xhr",f,n,a),A())if((0,u.z)(n)){var m=this,b={method:n.method,status:n.status,domain:n.host,path:n.pathname,requestSize:a.txSize,responseSize:a.rxSize,type:c,startTime:i,endTime:h,callbackDuration:a.cbTime};if(m.dt&&(b.spanId=m.dt.spanId,b.traceId=m.dt.traceId,b.spanTimestamp=m.dt.timestamp),this.spaNode){var x=this.spaNode.interaction.id;g[x]=g[x]||[],g[x].push(b)}else d.push(b)}else n.hostname===(0,o.C5)(t).errorBeacon?(0,s.p)(p.xS,["Ajax/Events/Excluded/Agent"],void 0,l.D.metrics,v):(0,s.p)(p.xS,["Ajax/Events/Excluded/App"],void 0,l.D.metrics,v)}function y(t){if(t=t||{},0===d.length)return null;for(var e=j(d,t.maxPayloadSize||x),n=[],a=0;a<e.length;a++)n.push({body:{e:e[a]}});return t.retry&&(m=d.slice()),d=[],n}function j(t,e,n){n=n||1;for(var a=[],r=function(t,e){e=e||t.length;for(var n=[],a=0,r=t.length;a<r;a+=e)n.push(new R(t.slice(a,a+e)));return n}(t,t.length/n),i=!1,s=0;s<r.length;s++){var o=r[s];if(o.tooBig(e)){if(1!==o.events.length){i=!0;break}}else a.push(o.payload)}return i?j(t,e,++n):a}function R(e){this.addString=(0,i.FX)(t),this.events=e,this.payload="bel.7;";for(var n=0;n<e.length;n++){var a=e[n],r=[(0,i.uR)(a.startTime),(0,i.uR)(a.endTime-a.startTime),(0,i.uR)(0),(0,i.uR)(0),this.addString(a.method),(0,i.uR)(a.status),this.addString(a.domain),this.addString(a.path),(0,i.uR)(a.requestSize),(0,i.uR)(a.responseSize),"fetch"===a.type?1:"",this.addString(0),(0,i.AG)(a.spanId,this.addString,!0)+(0,i.AG)(a.traceId,this.addString,!0)+(0,i.AG)(a.spanTimestamp,i.uR,!1)],s="2,",h=(0,i.n1)((0,o.C5)(t).jsAttributes||{},this.addString);r.unshift((0,i.uR)(h.length)),s+=r.join(","),h&&h.length>0&&(s+=";"+h.join(";")),n+1<e.length&&(s+=";"),this.payload+=s}this.tooBig=function(t){return t=t||x,2*this.payload.length>t}}function A(){return!1!==(0,o.Mt)(t,"ajax.enabled")}this.storeXhr=S,this.prepareHarvest=y,this.getStoredEvents=function(){return{ajaxEvents:d,spaAjaxEvents:g}},v.on("interactionSaved",(t=>{g[t.id]&&delete g[t.id]})),v.on("interactionDiscarded",(t=>{g[t.id]&&A()&&(g[t.id].forEach((function(t){d.push(t)})),delete g[t.id])})),A()&&(0,u.R)((0,o.Mt)(t,"ajax.deny_list")),(0,a.X)("xhr",S,this.featureName,this.ee),A()&&(n=new h.o("events",{onFinished:function(t){t.retry&&m.length>0&&A()&&(d=d.concat(m),m=[])},getPayload:y},this),v.on("drain-".concat(this.featureName),(()=>{n.startTimer(b)}))),(0,f.L)(this.agentIdentifier,this.featureName)}}},8675:(t,e,n)=>{n.d(e,{t:()=>a});const a=n(2325).D.ajax}}]);