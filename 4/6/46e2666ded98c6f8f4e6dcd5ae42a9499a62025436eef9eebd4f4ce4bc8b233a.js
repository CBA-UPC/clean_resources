/*! For license information please see 28269.b8a42f4f6.chunk.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[28269],{428269:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isSupported:()=>Te,registerMessaging:);var r=n(571432),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var u,c=n(747373),f=n(404291),l=n(815922),d="w:0.3.7",p=((u={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',u["not-registered"]="Firebase Installation is not registered.",u["installation-not-found"]="Firebase Installation not found.",u["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',u["app-offline"]="Could not process request. Application offline.",u["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",u),h=new c.ErrorFactory("installations","Installations",p);unction b(e){var t,n;if(!e||!e.options)throw g("App Configuration");if(!e.name)throw g("App Name");try{for(var r=["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var i=o.value;if(!e.options[i])throw g(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}n _(e,t){var n=t.fid;return i(this,void 0,void 0,(function(){var t,r,o,i,a,u;return s(this,(function(s){switch(s.label){case 0:return t=y(e),r=k(e),o={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:d},i={method:"POST",headers:r,body:JSON.stringify(o)},[4,T((function(){return fetch(t,i)}))];case 1:return(a=s.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(u=s.sent()).fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:w(u.authToken)}];case 3:return[4,m("Create Installation",a)];case 4:throw s.sent()}}))}))}ar D=/^[cdef][\w-]{21}$/;function P(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,n=btoa(String.fromCharCode.apply(String,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}(t))),n.replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t,n}(e);return D.test(t)?t:""}catch(e){return""}}var M="firebase-installations-store",C=null;function x(){return C||(C=(0,f.openDb)("firebase-installations-database",1,()),C}nction E(e,t){return i(this,void 0,void 0,(function(){var n,r,o,i,a,u;return s(this,(function(s){switch(s.label){case 0:return n=K(e),[4,x()];case 1:return r=s.sent(),o=r.transaction(M,"readwrite"),[4,(i=o.objectStore(M)).get(n)];case 2:return a=s.sent(),void 0!==(u=t(a))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(u,n)];case 5:s.sent(),s.label=6;case 6:return[4,o.complete];case 7:return s.sent(),[2,u]}}))}))}unction A(e){return i(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(o){switch(o.label){case 0:return[4,E(e,(function(n){var r=n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(h.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:O(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}))];case 1:return""!==(n=o.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}ction F(e,t){return i(this,void 0,void 0,(function(){var n,r,o,i,a;return s(this,(function(s){switch(s.label){case 0:return n=e,t),r=S(e,t),o={installation:{sdkVersion:d}},i={method:"POST",headers:r,body:JSON.stringify(o)},[4,T((function(){return fetch(n,i)}))];case 1:return(a=s.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,w(s.sent())];case 3:return[4,m("Generate Auth Token",a)];case 4:throw s.sent()}}))}))}function W(e,t){return void 0===t&&(t=!1),i(this,void 0,void 0,(function(){var n,r,a;return s(this,(function(u){switch(u.label){case 0:return[4,E(e,(function(r){if(!L(r))throw h.create("not-registered");var a,u=r.authToken;if(!t&&(2===(a=u).requestStatus&&!a)))return r;if(1===u.requestStatus)return n=function(e,t){return i(this,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:return[4,q(e)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,I(100)];case 3:return o.sent(),[4,q(e)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,W(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw h.create("app-offline");var c=r);return n=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,F(e,t)];case 1:return n=s.sent(),i=o(o({},t),{authToken:n}),[4,j(e,i)];case 2:return s.sent(),[2,n];case 3:return!v(r=s.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,N(e)];case 4:return s.sent(),[3,7];case 5:return i=o(o({},t),{authToken:{requestStatus:0}}),[4,j(e,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,c),c}))];case 1:return r=u.sent(),n?[4,n]:[3,3];case 2:return a=u.sent(),[3,4];case 3:a=r.authToken,u.label=4;case 4:return[2,a]}}))}))}function q(e){return E(e,(function(e){if(!L(e))throw h.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?o(o({},e),{authToken:{requestStatus:0}}):e}))}efault.INTERNAL.registerComponent(new l.Component("installations",(function(e){var t=e.getProvider("app").getImmediate();return b(t),{app:t,getId:function(){return function(e){return i(this,void 0,void 0,(function(){var t,n,r,o;return s(this,(function(i){switch(i.label){case 0:return[4,A(t=b(e))];case 1:return n=i.sent(),r=n.installationEntry,(o=n.registrationPromise)?o.catch(console.error):W(t).catch(console.error),[2,r.fid]}}))}))}(t)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),i(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,R(n=b(e))];case 1:return r.sent(),[4,W(n,t)];case 2:return[2,r.sent().token]}}))}))}(t,e)},delete:}),"PUBLIC"));var H=ar $,J= X,Z=(($={})["only-available-in-window"]="This method is available in a Window context.",$["only-available-in-sw"]="This method is available in a service worker context.",$["should-be-overriden"]="This method should be overriden by extended classes.",$["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",$["permission-default"]="The required permissions were not granted and dismissed instead.",$["permission-blocked"]="The required permissions were not granted and blocked instead.",$["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",$["notifications-blocked"]="Notifications have been blocked.",$["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",$["sw-registration-expected"]="A service worker registration was the expected input.",$["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",$["invalid-saved-token"]="Unable to access details of the saved token.",$["sw-reg-redundant"]="The service worker being used for push was made redundant.",$["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",$["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",$["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",$["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",$["token-update-no-token"]="FCM returned no token when updating the user to push.",$["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",$["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",$["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",$["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",$["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",$["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",$["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$errorInfo}",$["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",$["failed-to-delete-token"]="Unable to delete the currently saved token.",$["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",$["bad-scope"]="The service worker scope must be a string with at least one character.",$["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",$["bad-subscription"]="The subscription must be a valid PushSubscription.",$["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",$["failed-delete-vapid-key"]="The VAPID key could not be deleted.",$["invalid-public-vapid-key"]="The public VAPID key must be a string.",$["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",$["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",$),ee=new c.ErrorFactory("messaging","Messaging",Z),te=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),ne="google.c.a.c_id";unction oe(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,t)))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!X||(X={}));var ie=function(){eturn e.prototype.getToken=function(e,t,n){return z(this,void 0,void 0,(function(){var r,o,i,s,a,u;return Y(this,(function(c){switch(c.label){case 0:return[4,ae(e)];case 1:r=c.sent(),o=ue(t,n),i={method:"POST",headers:r,body:JSON.stringify(o)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(se(e.app),i)];case 3:return[4,c.sent().json()];case 4:return s=c.sent(),[3,6];case 5:throw a=c.sent(),ee.create("token-subscribe-failed",{errorInfo:a});case 6:if(s.error)throw u=s.error.message,ee.create("token-subscribe-failed",{errorInfo:u});if(!s.token)throw ee.create("token-subscribe-no-token");return[2,s.token]}}))}))},e.prototype.updateToken=function(e,t,n,r){return z(this,void 0,void 0,(function(){var o,i,s,a,u,c;return Y(this,(function(f){switch(f.label){case 0:return[4,ae(t)];case 1:o=f.sent(),i=ue(n,r),s={method:"PATCH",headers:o,body:JSON.stringify(i)},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(se(t.app)+"/"+e.fcmToken,s)];case 3:return[4,f.sent().json()];case 4:return a=f.sent(),[3,6];case 5:throw u=f.sent(),ee.create("token-update-failed",{errorInfo:u});case 6:if(a.error)throw c=a.error.message,ee.create("token-update-failed",{errorInfo:c});if(!a.token)throw ee.create("token-update-no-token");return[2,a.token]}}))}))},e.prototype.deleteToken=function(e,t){return z(this,void 0,void 0,(function(){var n,r,o,i,s;return Y(this,(function(a){switch(a.label){case 0:return[4,ae(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(se(e.app)+"/"+t.fcmToken,r)];case 3:return[4,a.sent().json()];case 4:if((o=a.sent()).error)throw i=o.error.message,ee.create("token-unsubscribe-failed",{errorInfo:i});return[3,6];case 5:throw s=a.sent(),ee.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))},e}();unction ae(e){var t=e.app,n=e.installations;return z(this,void 0,void 0,(function(){var e;return Y(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.options.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function ue(e,t){var n=oe(e.getKey("p256dh")),r=oe(e.getKey("auth")),o={web:{endpoint:e.endpoint,p256dh:n,auth:r}};return re(t.buffer,te.buffer)||(o.web.applicationPubKey=oe(t)),o}ar fe="undefined",le="fcm_token_object_Store";var de=);ar he=function(e){eturn G(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(o=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),o.createIndex("fcmToken","fcmToken",{unique:!0});case 1:!function(e){var t=indexedDB.open(fe);t.onerror=t.onsuccess=function(n){!function(e,t){if(e.objectStoreNames.contains(le)){var n=e.transaction(le).objectStore(le),r=new ie,o=n.openCursor();o.onerror=o.onsuccess=function(){var n=o.result;if(n){var i=n.value;r.deleteToken(t,i),n.continue()}else e.close(),indexedDB.deleteDatabase(fe)}}}(t.result,e)}}(this.services);case 2:var r=(o=e.transaction.objectStore(this.objectStoreName)).openCursor();r.onsuccess=function(){var e=r.result;if(e){var t=e.value,n=J({},t);t.createTime||(n.createTime=Date.now()),"string"==typeof t.vapidKey&&(n.vapidKey=ce(t.vapidKey)),"string"==typeof t.auth&&(n.auth=ce(t.auth).buffer),"string"==typeof t.auth&&(n.p256dh=ce(t.p256dh).buffer),"string"==typeof t.fcmPushSet&&delete n.fcmPushSet,e.update(n),e.continue()}};break;case 3:var o,i=(o=e.transaction.objectStore(this.objectStoreName)).openCursor();i.onsuccess=function(){var e=i.result;if(e){var t=e.value,n=J({},t);"string"==typeof t.fcmPushSet&&delete n.fcmPushSet,e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=t.prototype.getTokenDetailsFromSWScope=t.prototype.saveTokenDetails=function(e){return z(this,void 0,void 0,(function(){return Y(this,(function(t){if(!e.swScope)throw ee.create("bad-scope");if(!e.vapidKey)throw ee.create("bad-vapid-key");if(!e.endpoint||!e.auth||!e.p256dh)throw ee.create("bad-subscription");if(!e.fcmSenderId)throw ee.create("bad-sender-id");if(!e.fcmToken)throw ee.create("bad-token");return ve(e),[2,this.put(e)]}))}))},t.prototype.deleteToken=t}(de);function ve(e){if(e.fcmToken&&("string"!=typeof e.fcmToken||0===e.fcmToken.length))throw ee.create("bad-token");if(e.swScope&&("string"!=typeof e.swScope||0===e.swScope.length))throw ee.create("bad-scope");if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw ee.create("bad-vapid-key");if(e.endpoint&&("string"!=typeof e.endpoint||0===e.endpoint.length))throw ee.create("bad-subscription");if(e.auth&&!(e.auth instanceof ArrayBuffer))throw ee.create("bad-subscription");if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw ee.create("bad-subscription");if(e.fcmSenderId&&("string"!=typeof e.fcmSenderId||0===e.fcmSenderId.length))throw ee.create("bad-sender-id")}var be=function(e){eturn G(t,e),t.prototype.onDbUpgrade=t.prototype.getVapidFromSWScope=t.prototype.saveVapidDetails=t.prototype.deleteVapidDetails=t}(de),ge=function(){function e(e){var t=this;this.services=e,this.vapidDetailsModel=new be,this.subscriptionManager=new ie;var n=e.app;if(this.app=n,!n.options.messagingSenderId||"string"!=typeof n.options.messagingSenderId)throw ee.create("bad-sender-id");this.INTERNAL={delete:,this.tokenDetailsModel=new he(e)}return e.prototype.getToken=e.prototype.manageExistingToken=function(e,t,n,r){return z(this,void 0,void 0,(function(){var o;return Y(this,(function(i){switch(i.label){case 0:return o=t,n,r),o?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[3,1];case 1:return[4,this.deleteTokenFromDB(r.fcmToken)];case 2:return i.sent(),[2,this.getNewToken(e,t,n)];case 3:return[2]}}))}))},e.prototype.updateToken=function(e,t,n,r){return z(this,void 0,void 0,(function(){var o,i,s;return Y(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,6]),[4,this.subscriptionManager.updateToken(r,this.services,t,n)];case 1:return o=a.sent(),i={swScope:e.scope,vapidKey:n,fcmSenderId:this.services.app.options.messagingSenderId,fcmToken:o,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return a.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return a.sent(),[2,o];case 4:return s=a.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw a.sent(),s;case 6:return[2]}}))}))},e.prototype.getNewToken=function(e,t,n){return z(this,void 0,void 0,(function(){var r,o;return Y(this,(function(i){switch(i.label){case 0:return[4,this.subscriptionManager.getToken(this.services,t,n)];case 1:return r=i.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.app.options.messagingSenderId,fcmToken:r,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return i.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return i.sent(),[2,r]}}))}))},e.prototype.deleteToken=e.prototype.deleteTokenFromDB=function(e){return z(this,void 0,void 0,(function(){var t;return Y(this,(function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.subscriptionManager.deleteToken(this.services,t)];case 2:return n.sent(),[2]}}))}))},e.prototype.getPushSubscription=function(e,t){return z(this,void 0,void 0,()},e.prototype.requestPermission=e.prototype.useServiceWorker=function(e){throw ee.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){throw ee.create("only-available-in-window")},e.prototype.onMessage=function(e,t,n){throw ee.create("only-available-in-window")},e.prototype.onTokenRefresh=e.prototype.setBackgroundMessageHandler=e.prototype.delete=e.prototype.getNotificationPermission_=e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getSubscriptionManager=e}(),ye=function(e){eturn G(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=t.prototype.onPush_=t.prototype.onSubChange_=t.prototype.onNotificationClick_=function(e){return z(this,void 0,void 0,(function(){var t,n,r,o;return Y(this,(function(i){switch(i.label){case 0:if(!(e.notification&&e.notification.data&&e.notification.data.FCM_MSG))return[2];if(e.action)return[2];if(e.stopImmediatePropagation(),e.notification.close(),!(t=e.notification.data.FCM_MSG).notification)return[2];if(!(n=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action)){if(!t.data||!(ne in t.data))return[2];n=self.location.origin}return[4,this.getWindowClient_(n)];case 1:return(r=i.sent())?[3,4]:[4,self.clients.openWindow(n)];case 2:return r=i.sent(),[4,(3e3,new Promise(())];case 3:return i.sent(),[3,6];case 4:return[4,r.focus()];case 5:r=i.sent(),i.label=6;case 6:return r?(delete t.notification,delete t.fcmOptions,o=me(X.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,o)]):[2]}}))}))},t.prototype.getNotificationData_=t.prototype.setBackgroundMessageHandler=t.prototype.getWindowClient_=t.prototype.attemptToMessageClient_=t.prototype.hasVisibleClients_=t.prototype.sendMessageToWindowClients_=t.prototype.getSWRegistration_=t.prototype.getPublicVapidKey_=t}(ge);r ke=function(e){eturn G(t,e),t.prototype.requestPermission=t.prototype.useServiceWorker=t.prototype.usePublicVapidKey=t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=t.prototype.waitForRegistrationToActivate_=t.prototype.getSWRegistration_=t.prototype.getPublicVapidKey_=t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",(function(t){return z(e,void 0,void 0,(function(){var e,n,r,o,i;return Y(this,(function(s){switch(s.label){case 0:return t.data&&t.data.firebaseMessagingType&&t.data.firebaseMessagingData?(e=t.data,n=e.firebaseMessagingType,r=e.firebaseMessagingData,this.messageObserver&&this.messageObserver.next(r),(o=r.data)&&ne in o&&"1"===o["google.c.a.e"]?(i=n),[4,this.services.analyticsProvider.get()]):[3,2]):[2];case 1:s.sent().logEvent(i,{message_name:o["google.c.a.c_l"],message_id:o[ne],message_time:o["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),s.label=2;case 2:return[2]}}))}))}),!1)},t}(ge);function Se(e){var t={isSupported:Te};e.INTERNAL.registerComponent(new l.Component("messaging",(function(e){var t={app:e.getProvider("app").getImmediate(),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Te())throw ee.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ye(t):new ke(t)}),"PUBLIC").setServiceProps(t))}e(r.default)},404291:function(e,t){!t)}}]);
//# sourceMappingURL=28269.b8a42f4f6.chunk.js.map