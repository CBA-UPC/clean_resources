/*! For license information please see async-incentives-feature-375b6b43b96c40facedf.js.LICENSE.txt */
"use strict";(globalThis.webpackChunktinderweb=globalThis.webpackChunktinderweb||[]).push([[87044],{273303:(e,i,r)=>{r.r(i),r.d(i,{getGiftCardEligibilitySaga:()=>k,getIncentiveEligibilitySaga:()=>T,getIncentiveIntroPriceProductSaga:()=>h,parseGiftCardError:()=>M,redeemGiftCardSaga:()=>D,redeemIncentiveIntroPriceSaga:()=>A,redeemIncentiveSaga:()=>G});var n=r(112954),t=r.n(n),a=r(13241),l=r(438776),o=r(799327),s=r(259668),d=r(478847),c=r(235430),y=r(517727),g=r(143792),E=r(510277),p=r(983330),I=r(183816),u=r(72808),C=r(662310),m=r(661996),S=r(320649),b=r(268714),z=r(848696),R=r(353341),_=r(200711),v=r(759396),N=r(463608),f=r(914873),L=r(20115),Y=r(25462);function P(e={}){switch(e.code){case 40001:return R.oc;case 40002:return R.NW;case 40003:return R.hX;case 40004:return R.uw;case 40005:return R.YY;case 40009:return R.Az;case 40010:return R.$6;case 40011:return R.aw;case 40012:return R.sV;case 40013:return R.P6;case 50001:return R.Zo;default:return R.zq}}const T=(0,s.bi)((function*(e){yield(0,a.gz)((0,I.SW)());const i=e.payload?.promoCode;i||(0,l.Z)(!1);const r=(yield(0,a.RE)(yield(0,a.RE)(c.ds,y.aS,"getIncentiveEligibility"),i)).data;yield(0,a.gz)((0,I.ZO)(r)),yield(0,a.gz)((0,E.QL)({attributionId:i??"",attributionSource:r?.campaignName})),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"success",isEligibility:!0}));const n=yield(0,a.Ys)(v.yc),t=yield(0,a.Ys)(u.Y2);if(n&&!t){(yield(0,a.Ys)(u.Ix))?yield(0,a.RE)(h):yield(0,a.RE)(G)}}),{name:"getIncentiveEligibilitySaga",*errorHandler(e){const i=P(e.error);yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"error",promoError:i,isEligibility:!0})),yield(0,a.gz)((0,I.qU)(i))}}),G=(0,s.bi)((function*(){yield(0,a.gz)((0,I.SW)());const e=yield(0,a.Ys)(v._4);e||(0,l.Z)(!1);const i=(0,d.Z)();yield(0,a.RE)(yield(0,a.RE)(c.ds,y.aS,"redeemIncentive"),e,i),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"success",isEligibility:!1})),yield(0,a.gz)((0,I.Sl)()),yield(0,a.gz)((0,S.In)())}),{name:"redeemIncentiveSaga",*errorHandler(e){const i=P(e.error);yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"error",promoError:i,isEligibility:!1})),yield(0,a.gz)((0,I.wN)(i))}}),h=(0,s.bi)((function*(){const e=yield(0,a.Ys)(v._4);e||(0,l.Z)(!1);const i=yield(0,a.RE)(yield(0,a.RE)(c.ds,y.aS,"getIncentiveIntroPriceProduct"),e),r=yield(0,o.Ff)(i,R.c9);yield(0,a.gz)((0,I.qS)(r));const n=yield(0,a.Ys)(u.B7);if(n){const{productId:e}=n,i=[n];yield(0,a.gz)((0,b.U1)({productId:e,products:i,featuresList:[],from:0}))}else yield(0,a.gz)((0,I.qU)(R.zq)),yield(0,a.gz)((0,C.h)(m.fn,{props:{handleCloseModal:(0,I.V3)()}}))}),{name:"getIncentiveIntroPriceProductSaga",*errorHandler(e){const i=P(e.error);yield(0,a.gz)((0,I.qU)(i)),yield(0,a.gz)((0,C.h)(m.fn,{props:{handleCloseModal:(0,I.V3)()}}))}}),A=(0,s.bi)((function*(e){const i=yield(0,a.Ys)(v._4),{productType:r,postData:n}=e.payload;i||(0,l.Z)(!1),n||(0,l.Z)(!1),t()(n,["code"],i);const o=yield(0,a.RE)(yield(0,a.RE)(c.ds,y.aS,"redeemIncentiveIntroPrice"),n);yield(0,a.RE)(z.getPurchasePaymentMethods),yield(0,a.gz)((0,I.R1)(o)),yield(0,a.gz)((0,S.In)({inputFields:[g.pC]})),yield(0,a.gz)((0,b.HF)()),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"success",isEligibility:!1}));const s=yield(0,a.Ys)(_.g2),d=yield(0,a.Ys)(_.ve);yield(0,a.gz)((0,N.L)(L.NM,{action:f.a6,campaignId:i,isIntroPricing:!0,paymentMethod:d,pageType:s})),r===p.Qm&&(yield(0,a.gz)((0,S._J)({plus_control:{discoverable_party:"everyone"}})))}),{name:"redeemIncentiveIntroPriceSaga",*errorHandler(e){const i=e?.error?.error_type;let r="";const n=yield(0,a.Ys)(_.ve);r="incentives"===i?{errorType:P(e.error)}:(0,z.parseError)(e.error,n),yield(0,a.gz)((0,b.Ut)(r)),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"error",promoError:r,isEligibility:!1}));const t=yield(0,a.Ys)(_.g2),l=yield(0,a.Ys)(v._4);yield(0,a.gz)((0,N.L)(L.NM,{action:f.a6,campaignId:l,errorMessage:r,paymentMethod:n,pageType:t,isIntroPricing:!0}))}});function M(e={}){if(e)switch(e.code){case 40002:return R.k$;case 40003:return R.Az;default:return R.zq}}const k=(0,s.bi)((function*(e){yield(0,a.gz)((0,I.SW)());const i=e.payload?.cardNumber,r=e.payload?.cardPin;yield(0,a.RE)(yield(0,a.RE)(c.ds,y.aS,"getGiftCardEligibility"),i,r),yield(0,a.gz)((0,I.BX)()),yield(0,a.gz)((0,b.g4)({upsellType:"webDiscountLoginBanner",stopShowingUpsell:!0})),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"success",isEligibility:!0,campaignName:Y.GIFT_CARD_CAMPAIGN_NAME}))}),{name:"getGiftCardEligibilitySaga",*errorHandler(e){const i=M(e.error);yield(0,a.gz)((0,I.SW)()),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"error",promoError:i,isEligibility:!0,campaignName:Y.GIFT_CARD_CAMPAIGN_NAME})),yield(0,a.gz)((0,I.qU)(i))}}),D=(0,s.bi)((function*(){yield(0,a.gz)((0,I.SW)());const e=yield(0,a.Ys)(v.IK),i=yield(0,a.Ys)(v.es),r=yield(0,a.RE)(yield(0,a.RE)(c.ds,y.aS,"redeemGiftCard"),e,i);yield(0,a.gz)((0,I.iX)(r)),yield(0,a.gz)((0,I.KG)()),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"success",isEligibility:!1,campaignName:Y.GIFT_CARD_CAMPAIGN_NAME}))}),{name:"redeemGiftCardSaga",*errorHandler(e){const i=M(e.error);yield(0,a.gz)((0,I.SW)()),yield(0,a.gz)((0,N.L)(L.WY,{promoResponse:"error",promoError:i,isEligibility:!1,campaignName:Y.GIFT_CARD_CAMPAIGN_NAME})),yield(0,a.gz)((0,I.wN)(i)),yield(0,a.gz)((0,I.KG)())}})},310039:(e,i,r)=>{r.r(i),r.d(i,{reducer:()=>o});var n=r(343599),t=r(351843),a=r(25462),l=r(508528);const o=(0,n.ZP)(((e,i)=>{switch(i.type){case a.GIFT_CARD_REDEEM_SUCCESS:e.giftCardDetails=i.payload,e.giftCardSuccess=!0,e.incentiveIsLoading=!1;break;case a.GIFT_CARD_ELIGIBILITY_SUCCESS:e.eligibilityCheckComplete=!0,e.incentiveIsLoading=!1;break;case a.INCENTIVE_ELIGIBILITY_FAILURE:e.incentiveDetails=null,e.eligibilityCheckComplete=!0,e.incentiveError=i.payload,e.incentiveIsLoading=!1,e.isEligibilityFailure=!0;break;case a.CLEAR_ELIGIBILITY:e.incentiveDetails=null,e.eligibilityCheckComplete=!1,e.incentiveError=null,e.incentiveSuccess=!1,e.incentiveIntroPriceProduct=null,e.isEligibilityFailure=!1,e.isRedemptionFailure=!1,e.giftCardDetails=null,e.giftCardSuccess=!1;break;case a.INCENTIVE_REDEEM_ERROR:e.incentiveError=i.payload,e.incentiveIsLoading=!1,e.isRedemptionFailure=!0,e.giftCardDetails=null;break;case a.SET_INCENTIVE_PROMO_SOURCE:e.promoSource=i.payload;break;case a.INCENTIVE_REDEEM_SUCCESS:e.incentiveSuccess=!0,e.incentiveIsLoading=!1;break;case a.INCENTIVE_IS_LOADING:e.incentiveIsLoading=!0;break;case a.INCENTIVE_INTRO_PRICE_PRODUCT_SUCCESS:{const r=i.payload.result??{};e.incentiveIntroPriceProduct=r;break}case a.INCENTIVE_ELIGIBILITY_SUCCESS:e.incentiveDetails=i.payload,e.eligibilityCheckComplete=!0,e.incentiveIsLoading=!1;break;case(0,t.dh)(i.type):return l.default;default:return e}}),l.default)}}]);