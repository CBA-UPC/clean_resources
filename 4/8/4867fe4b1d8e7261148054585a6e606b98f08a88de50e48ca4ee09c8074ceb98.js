/*! For license information please see main_videojs.b9fedafde6e26be73fbd.js.LICENSE.txt */
(()=>{var e,t,n={"./node_modules/@sentry/utils/esm/global.js":"./node_modules/@sentry/utils/esm/node.js":"./node_modules/@sentry/utils/esm/time.js":"./node_modules/classnames/index.js":"./node_modules/core-js/es/promise/index.js":"./node_modules/core-js/es/string/index.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.from-code-point.js"),n("./node_modules/core-js/modules/es.string.raw.js"),n("./node_modules/core-js/modules/es.string.code-point-at.js"),n("./node_modules/core-js/modules/es.string.ends-with.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.string.match.js"),n("./node_modules/core-js/modules/es.string.match-all.js"),n("./node_modules/core-js/modules/es.string.pad-end.js"),n("./node_modules/core-js/modules/es.string.pad-start.js"),n("./node_modules/core-js/modules/es.string.repeat.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/core-js/modules/es.string.replace-all.js"),n("./node_modules/core-js/modules/es.string.search.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.string.starts-with.js"),n("./node_modules/core-js/modules/es.string.trim.js"),n("./node_modules/core-js/modules/es.string.trim-start.js"),n("./node_modules/core-js/modules/es.string.trim-end.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.string.anchor.js"),n("./node_modules/core-js/modules/es.string.big.js"),n("./node_modules/core-js/modules/es.string.blink.js"),n("./node_modules/core-js/modules/es.string.bold.js"),n("./node_modules/core-js/modules/es.string.fixed.js"),n("./node_modules/core-js/modules/es.string.fontcolor.js"),n("./node_modules/core-js/modules/es.string.fontsize.js"),n("./node_modules/core-js/modules/es.string.italics.js"),n("./node_modules/core-js/modules/es.string.link.js"),n("./node_modules/core-js/modules/es.string.small.js"),n("./node_modules/core-js/modules/es.string.strike.js"),n("./node_modules/core-js/modules/es.string.sub.js"),n("./node_modules/core-js/modules/es.string.sup.js");var r=n("./node_modules/core-js/internals/path.js");e.exports=r.String},"./node_modules/core-js/features/promise/index.js":(e,t,n)=>{var r=n("./node_modules/core-js/es/promise/index.js");n("./node_modules/core-js/modules/esnext.aggregate-error.js"),n("./node_modules/core-js/modules/esnext.promise.all-settled.js"),n("./node_modules/core-js/modules/esnext.promise.try.js"),n("./node_modules/core-js/modules/esnext.promise.any.js"),e.exports=r},"./node_modules/core-js/features/string/index.js":"./node_modules/core-js/internals/a-function.js":"./node_modules/core-js/internals/a-possible-prototype.js":"./node_modules/core-js/internals/add-to-unscopables.js":"./node_modules/core-js/internals/advance-string-index.js":"./node_modules/core-js/internals/an-instance.js":"./node_modules/core-js/internals/an-object.js":"./node_modules/core-js/internals/array-includes.js":"./node_modules/core-js/internals/check-correctness-of-iteration.js":"./node_modules/core-js/internals/classof-raw.js":"./node_modules/core-js/internals/classof.js":"./node_modules/core-js/internals/copy-constructor-properties.js":"./node_modules/core-js/internals/correct-is-regexp-logic.js":"./node_modules/core-js/internals/correct-prototype-getter.js":"./node_modules/core-js/internals/create-html.js":"./node_modules/core-js/internals/create-iterator-constructor.js":"./node_modules/core-js/internals/create-non-enumerable-property.js":"./node_modules/core-js/internals/create-property-descriptor.js":"./node_modules/core-js/internals/define-iterator.js":"./node_modules/core-js/internals/descriptors.js":"./node_modules/core-js/internals/document-create-element.js":"./node_modules/core-js/internals/dom-iterables.js":"./node_modules/core-js/internals/engine-is-ios.js":(e,t,n)=>{var r=n("./node_modules/core-js/internals/engine-user-agent.js");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"./node_modules/core-js/internals/engine-is-node.js":"./node_modules/core-js/internals/engine-is-webos-webkit.js":(e,t,n)=>{var r=n("./node_modules/core-js/internals/engine-user-agent.js");e.exports=/web0s(?!.*chrome)/i.test(r)},"./node_modules/core-js/internals/engine-user-agent.js":"./node_modules/core-js/internals/engine-v8-version.js":"./node_modules/core-js/internals/enum-bug-keys.js":"./node_modules/core-js/internals/export.js":"./node_modules/core-js/internals/fails.js":"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":"./node_modules/core-js/internals/function-bind-context.js":"./node_modules/core-js/internals/get-built-in.js":"./node_modules/core-js/internals/get-iterator-method.js":"./node_modules/core-js/internals/get-substitution.js":"./node_modules/core-js/internals/global.js":"./node_modules/core-js/internals/has.js":"./node_modules/core-js/internals/hidden-keys.js":e=>{e.exports={}},"./node_modules/core-js/internals/host-report-errors.js":"./node_modules/core-js/internals/html.js":"./node_modules/core-js/internals/ie8-dom-define.js":"./node_modules/core-js/internals/indexed-object.js":"./node_modules/core-js/internals/inspect-source.js":"./node_modules/core-js/internals/internal-state.js":"./node_modules/core-js/internals/is-array-iterator-method.js":"./node_modules/core-js/internals/is-forced.js":"./node_modules/core-js/internals/is-object.js":"./node_modules/core-js/internals/is-pure.js":"./node_modules/core-js/internals/is-regexp.js":"./node_modules/core-js/internals/iterate.js":"./node_modules/core-js/internals/iterator-close.js":"./node_modules/core-js/internals/iterators-core.js":"./node_modules/core-js/internals/iterators.js":"./node_modules/core-js/internals/microtask.js":"./node_modules/core-js/internals/native-promise-constructor.js":"./node_modules/core-js/internals/native-symbol.js":"./node_modules/core-js/internals/native-weak-map.js":"./node_modules/core-js/internals/new-promise-capability.js":"./node_modules/core-js/internals/not-a-regexp.js":"./node_modules/core-js/internals/object-create.js":"./node_modules/core-js/internals/object-define-properties.js":"./node_modules/core-js/internals/object-define-property.js":"./node_modules/core-js/internals/object-get-own-property-descriptor.js":"./node_modules/core-js/internals/object-get-own-property-names.js":"./node_modules/core-js/internals/object-get-own-property-symbols.js":"./node_modules/core-js/internals/object-get-prototype-of.js":"./node_modules/core-js/internals/object-keys-internal.js":"./node_modules/core-js/internals/object-keys.js":"./node_modules/core-js/internals/object-property-is-enumerable.js":"./node_modules/core-js/internals/object-set-prototype-of.js":"./node_modules/core-js/internals/object-to-string.js":"./node_modules/core-js/internals/own-keys.js":"./node_modules/core-js/internals/path.js":"./node_modules/core-js/internals/perform.js":"./node_modules/core-js/internals/promise-resolve.js":"./node_modules/core-js/internals/redefine-all.js":"./node_modules/core-js/internals/redefine.js":"./node_modules/core-js/internals/regexp-exec-abstract.js":"./node_modules/core-js/internals/regexp-exec.js":"./node_modules/core-js/internals/regexp-flags.js":"./node_modules/core-js/internals/regexp-sticky-helpers.js":"./node_modules/core-js/internals/require-object-coercible.js":"./node_modules/core-js/internals/same-value.js":"./node_modules/core-js/internals/set-global.js":"./node_modules/core-js/internals/set-species.js":"./node_modules/core-js/internals/set-to-string-tag.js":"./node_modules/core-js/internals/shared-key.js":"./node_modules/core-js/internals/shared-store.js":"./node_modules/core-js/internals/shared.js":,"./node_modules/core-js/internals/species-constructor.js","./node_modules/core-js/internals/string-html-forced.js","./node_modules/core-js/internals/string-multibyte.js","./node_modules/core-js/internals/string-pad-webkit-bug.js","./node_modules/core-js/internals/string-pad.js","./node_modules/core-js/internals/string-repeat.js","./node_modules/core-js/internals/string-trim-forced.js"e!==e}))}},"./node_modules/core-js/internals/strinrim:a(3)}},"./node_modules/core-js/internal,clear:m}},"./node_modules/core-js/internals/to-absolute):i(n,t)}},"./node_modules/core-js/internals/to-indexed- r(o(e))}},"./node_modules/core-js/internals/to-i?n:t)(e)}},"./node_modules/core-js/internals/to-40991):0}},"./node_modules/core-js/internals/to-ct(r(e))}},"./node_modules/core-js/internals/to-pri value")}},"./node_modules/core-js/internals/to-string-tag-sString(r)},"./node_modules/core-js/internaring(36)}},"./node_modules/core-js/internals/use-symbol-.iterator},"./node_modules/core-js/internals/well-known-e)),c[e]}},"./node_modules/core-js/internals/white      　\u2028\u2029\ufeff"},"./node_modulor")}),r({global:!0},{AggregateError:u})},"./node_moduArray,o("keys"),o("values"),o("entries")},"./node_moduleject.prototype,"toString",i,{unsafe:!0})},"./node_modules/c;return c.error&&l(c.value),n.promise}})},"./node_m;return d.error&&u(d.value),n.promise}})},"./node_modulfinally",a("Promise").prototype.finally)},"./no;return o.error&&r(o.value),n.promise}})},"./node_m,proto:!0,forced:/./.exec!==o},{exec:o})},"./node_modules/core-js/modules/es.string.anchor.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},"./node_modules/core-js/modules/es.string.big.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("big")},{big:function(){return o(this,"big","","")}})},"./node_modules/core-js/modules/es.string.blink.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("blink")},{blink:function(){return o(this,"blink","","")}})},"./node_modules/core-js/modules/es.string.bold.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("bold")},{bold:function(){return o(this,"b","","")}})},"./node_modules/coePointAt:function(e){return o(this,e)}})},"./node_modulecall(t,i,o):t.slice(o-i.length,o)===i}})},"./node_modules/core-js/modules/es.string.fixed.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("fixed")},{fixed:function(){return o(this,"tt","","")}})},"./node_modules/core-js/modules/es.string.fontcolor.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("fontcolor")},{fontcolor:function(e){return o(this,"font","color",e)}})},"./node_modules/core-js/modules/es.string.fontsize.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("fontsize")},{fontsize:function(e){return o(this,"font","size",e)}})},"./node_modules/core>10),t%1024+56320))}return n.join("")}})},"./node_modulguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.string.italics.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("italics")},{italics:function(){return o(this,"i","","")}})},"./node_modul,t.index+=e.length,{value:e,done:!1})}))},"./node_mnction(e){return o(this,"a","href",e)}})},"./node_modulecall(r,t):r[g](t)}}),_||g in S||p(S,g,x)},"./node_motIndex),u)),h++}return 0===h?null:p}]}))},"./node_modules/core-js/modules/es.string.pad-end.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/string-pad.js").end;r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-pad-webkit-bug.js")},{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"./node_moduleguments.length>1?arguments[1]:void 0)}})},"./node_ring(arguments[a]));return s.join("")}})},"./node_mods/core-js/internals/string-repeat.js")})},"./node_modules/;return j<l.length&&(E+=l.slice(j)),E}})},"./node_moduL,C=x+P.length)}return w+y.slice(C)}]}))},"./node_mod(i.lastIndex=c),null===u?-1:u.index}]}))},"./node_monction(){return o(this,"small","","")}})},"./node_moj=w}}return S.push(p.slice(j)),S}]}),!v)},"./node_modules/call(t,r,n):t.slice(n,n+r.length)===r}})},"./node_modules/core-js/modules/es.string.strike.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("strike")},{strike:function(){return o(this,"strike","","")}})},"./node_modules/core-js/modules/es.string.sub.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("sub")},{sub:function(){return o(this,"sub","","")}})},"./node_modules/core-js/modules/es.string.sup.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/create-html.js");r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-html-forced.js")("sup")},{sup:function(){return o(this,"sup","","")}})},"./node_modules/core-js/modules/es.string.trim-end.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/string-trim.js").end,i=n("./node_modules/core-js/internals/string-trim-forced.js")("trimEnd"),s=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:s,trimRight:s})},"./node_moduleso:!0,forced:i},{trimStart:s,trimLeft:s})},"./node_mim")},{trim:function(){return o(this)}})},"./node_modules/core-js/modules/esnext.aggregate-error.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.aggregate-error.js")},"./node_modules/core-js/modules/esnext.promise.all-settled.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.promise.all-settled.js")},"./node_modules/core-js/modules/esnext.promise.any.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.promise.any.js")},"./node_modul.reject:t.resolve)(n.value),t.promise}})},"./node_modules/core-js/modules/esnext.string.at.js":(e,t,n)=>{"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/string-multibyte.js").charAt;r({target:"String",proto:!0,forced:n("./ns.js")((function(){return"𠮷"!=="𠮷".at(0)}))},{at:function(e){return o(this,e)}})},"./node_modulets:function(){return new h(String(i(this)))}})},"./node_modules/core-js/modules/esnext.string.match-all.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.string.match-all.js")},"./node_moduleles/core-js/modules/es.string.replace-all.js")},"./node_modules/c]!==i[f])try{s(h,f,i[f])}catch(e){h[f]=i[f]}}}},"./src/captions/settings-modal-close.png":(e,t,n)=>{e.exports=n.p+"5fa7fa56e33d739aca564e7c3cb33dad.png"},"./src/continuous-play/close-icon.svg":(e,t,n)=>{e.exports=n.p+"adf5c4dcedee82b18aa9bfa1a23858a3.svg"},"./src/live-player/overlays/location-request-family.svg":(e,t,n)=>{e.exports=n.p+"018c5a5dc9fe3f13e49785c4754f6844.svg"},"./src/live-player/pbs-logotype-white.png":(e,t,n)=>{e.exports=n.p+"62ed53d6b1749939754d48d848b0c1ba.png"},"./src/passport/passport-compass-rose--corner.svg":(e,t,n)=>{e.exports=n.p+"efc005d7e51971d858d27100f6ff60c0.svg"},"./src/passport/upsell-passport-arrow-right--white.svg":(e,t,n)=>{e.exports=n.p+"da62e570df489cea459f679b6748c4fb.svg"},"./src/passport/upsell-passport-arrow-right--yellow.svg":(e,t,n)=>{e.exports=n.p+"510774ede2ec1abd1410c6cedac99a20.svg"},"./src/passport/upsell-passport-compass-rose.svg":(e,t,n)=>{e.exports=n.p+"7cda78f5926df14228fc07638d0be2d7.svg"},"./src/topbar/shop/shop-pbs.svg":(e,t,n)=>{e.exports=n.p+"cbf0793daf907226af418rts=n.p+"754515a4ee68370e049b727cde0=o["__GLOBAL_DOCUMENT_CACHE@4"]=i)g:"undefined"!=typeof self?self:{},e.exports=r},"./node_modules/hoist-non-rear _=p(n,y);try{c(t,y,_)}catch(e)tion(){window[c]&&f()}};var o=0;function i(){}},"./node_medJSONParseError]: "+e.message}},t.enable(r())},"./nodedex.js"),t.names=[],t.skips=[],t.formatters={}},g or a valid number. val="+JSON.streturn String(e)}},RFC1738:"RFC173js");e.exports={formats:i,parse:oypeof e);d=r.merge(d,m,n)}return r.co%3B&":_+="utf8=%E2%9C%93&"),y.lenn o.call(t,i)?t[i]=e(t[i],s,r):t[i]=s,t}),s)}}},"./node_mg||e.$$typeof===b||e.$$typeof===y)}ules/react-is/cjs/react-is.production.min.js")},"./node_modules/redux-sentry-middleware/dist/index.umd.js":function(e){!function(){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumect.getOwnPropertyDescriptor(o,t))}))}return e}var o=function(e){return e},i=function(){},s=function(){return!0},a=function(e){return e.type};e.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=n.breadcrumbDataFromAction,c=void 0===l?i:l,u=n.breadcrumbMessageFromAction,d=void 0===u?a:u,p=n.actionTransformer,h=void 0===p?o:p,f=n.stateTransformer,m=void 0===f?o:f,v=n.breadcrumbCategory,y=void 0===v?"redux-action":v,_=n.filterBreadcrumbActions,g=void 0===_?s:_,b=n.getUserContext,j=n.getTags;return function(n){var o=null;return e.configureScope((function(e){e.addEventProcessor((function(e,i){var s=n.getState();if(e.extra=r(r({},e.extra),{},{lastAction:h(o),state:m(s)}),b&&(e.user=r(r({},e.user),b(s))),j){var a=j(s);Object.keys(a).forEach((function(n){e.tags=r(r({},e.tags),{},t({},n,a[n]))}))}return e}))})),function(t){return function(n){return g(n)&&e.addBreadcrumb({category:y,message:d(n),level:"info",data:c(n)}),o=n,t(n)}}}}}()}ned"!=typeof window?window:void 0!==n.g?n.g:e)},"./node_modules/videojs-markers-plugin/dist/videojs-markers-plugin.js":function(e,t,n){var r,o,i;o=[n("video.js")],void 0===(i="function"==typeof(r=function(e){"use strict";var t,n=(t=e)&&t.__esModule?t:{default:t};var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={markerStyle:{width:"7px","border-radius":"30%","background-color":"red"},markerTip:{display:!0,text:function(e){return"Break: "+e.text},time:function(e){return e.timction(e){return"Break overlay: "+e.overlayText},style:{width:"100%",height:"20%","background-color":"rgba(0,0,0,0.7)",color:"white","font-size":"17pxk:function(eom:0,left:0,width:0,height:0,right:0}}return t}var s=-1;n.default.registerPlugin("markers"t]"===toString.call(e)&[r])||(o[r]={}),o[r]=e(o[r],i)):o[r]=i}))})),o}}rEach((function(e){o.setAttribute(e,r[e])})),o});var a=n.default.mergeOptiurn a.markerTip.time(e)-a.markerTip.time(t)}))}function v(e){e.forEach((function(e){var t;e.key=(t=(new Date).getTime(),"xxxxxxxMath.floor(t/16),("x"==e?n:3&n|8).toString(16)}))),d.el().querySelector(".vjs-progress-holder").appendChild(function(e){var t=n.default.dom.createEl("div",{},{"data-marker-key":e.key,"data-marker-time":a.markerTip.timer-key");d.currentTime(a.markerTip.time(l[r]))}})),a.markerTip.display&&function(e){e.addEventListener("mouseover",(function(){var t=l[e.getAttribute("data-marker-key")];if(p){a.markerTip.html?p.querySelector(".vjs-tip-inner").innerHTML=a.markerTip.html(t):p.querySelector(".vjs-tip-inner").innerText=a.markerTip.text(t),p.style.left=y(t)+"%";var n=i(p),r=i(e);p.style.marginLeft=-parseFloat(n.width/2)+parseFloat(r.width/4)+"px",p.style.visibili",(function(){p&&(p.style.visibility="hide){return a.markerTip.time(e)/d.duration()*100}function _(e,t){t.className="vjs-marker "+(erEach((function(e){t.style[e]=a.markerStyle[e]}));var n=e.time/d.duration();if((n<0||n>1)&&(t.style.display="none"),t.style.left=y(e)+"%",e.duration)t.style.width=e.duration/d.duration()*100+"%",t.style.marginLeft="0px";els(),t.forEach((function(e){c.splice(e,1)})),m()}function b(){if(a.breakOverlay.display&&!(u<0)){var e=d.currentTime(),t=c[u],n=a.markerTip.time(t);e>=n&&e<=n+a.breakOverlay.displayTime?(f!==u&&(f=u,h&&(h.querySelector(".vjs-break-overlay-text").innerHTML=a.breakOverlay.text(t))),h&&(h.style.visibility="visible")):(f=s,h&&(h.style.visibility="hidden"length-1?a.markerTip.time(c[e+1]):d.duration()},n=d.currentTime(),r=s;if(u!==s){var o=t(u);if(n>=a.markerTip.time(c[u])&&n<o)return;if(u===c.length-1&&n===d.duration())return}if(n<a.markerTip.time(c[0]))r=s;else for(var i=0;i<c.length;i++)if(o=t(i),n>=a.markerTip.time(c[i])&&n<o){r=i;break}r!==u&&(r!==s&&e.onMarkerReached&&e.onMarkerReached(c[r],r),u=r)}})(),b(),e.onTimeUpdateAfterMarkerUpdate&&e.onTimeUpdateAfterMarkerUpdate()}function E(){a.markerTip.display&&(p=n.default.dom.createEl("div",{className:"vjs-tip",innerHTML:"<div class='vjs-tip-arrow'></div><div class='vjs-tip-inner'></div>"}),d.el().querySelector(".vjs-progress-holder").appendChild(p)),d.markers.removeAll(),v(a.markers),a.breakOverlay.display&&(h=n.default.dom.createEl("div",{className:"vjs-break-overlay",innerHTML:"<div class='vjs-break-overlay-text'></divion(e){h&&(h.style[e]=a.breakOverlay.style[e])})),d.el().appendChild(h),f=s),j(),d.on("timeupdate",j),d.off("loadedmetadata")}d.on("loadedmetadata",(function(){E()})),d.markers={getMarkers:function(){return c},next:function(){for(var e=d.currentTime(),t=0;t<c.length;t++){var n=a.markerTip.time(c[t]);if(n>e){d.currentTime(n);break}}},prev:function(){for(var e=d.currentTime(),t=c.length-1;t>=0;t--){var n=a.markerTip.time(c[t]);if(n+.5<e)return void d.currentTime(n)}},add:functfor(var e=[],t=0;t<c.length;t++)e.push(t);g(e)}&(_(t,n),n.setAtt},reset:emove(),d.off("timeupdate",b),delete d.markers}}},"video.js":e=>{"use i.exportsdulet.definePro.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>(920===e?"poo.mih(e){if(, Use,t)=>Object.prototype.haull,ject.defnd(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=window.staticUrl;if(!e)throw new Error("Missing global static url required for dynamde_modules/core-js/features/promise/index.js")})(),(()=>{"use strict";var e={};o.r(e),o.d(e,{FunctionToString:()=>pt,InboundFilters:()=>ft});var t={};o.r(t),o.d(t,{Breadcrumbs:()=>jn,Dedupe:()=>Nn,GlobalHandlers:()=>sn,HttpContext:()=>Tn,LinkedErrors:()=>An,TryCatch:()=>hn});var n={};o.r(n),o.d(n,{Breadcrumbs:()=>jn,BrowserClient:()=>Xn,Dedupe:()=>Nn,FunctionToString:()=>pt,GlobalHandlers:()=>sn,HttpContext:()=>Tn,Hub:()=>qe,InboundFilters:()=>ft,Integrations:()=>Tr,LinkedErrors:()=>An,SDK_VERSION:()=>vt,Scope:()=>Ye,TryCatch:()=>hn,addBreadcrumb:()=>nt,addGlobalEventProcessor:()=>He,captureEvent:()=>et,captureException:()=>Je,captureMessage:()=>Ze,chromeStackLineParser:()=>or,close:()=>wr,configureScope:()=>tt,createTransport:()=>At,defaultIntegrations:()=>yr,defaultStackLineParsers:()=>fr,defaultStackParser:()=>mr,flush:()=>Sr,forceLoad:()=>jr,geckoStackLineParser:()=>ar,getCurrentHub:()=>ze,getHubFromCarrier:()=>Qe,init:()=>_r,lastEventId:()=>br,makeFetchTransport:()=>Jn,makeMain:()=>$e,makeXHRTransport:()=>Zn,onLoad:()=>Er,opera10StackLineParser:()=>dr,opera11StackLineParser:()=>hr,setContext:()=>rt,setExtra:()=>it,setExtras:()=>ot,setTag:()=>at,setTags:()=>st,setUser:()=>lt,showReportDialog:()=>gr,startTransaction:()=>ut,winjsStackLineParser:()=>cr,withScope:()=>ct,wrap:()=>Cr});var r={};o.r(r),o.d(r,{getCustomDimensionCommands:()=>zu,getEventCategory:()=>ed,getEventLabel:()=>nd,getLivePlayerCustomDimensionCommands:()=>Ku,getLivePlayerEventCategory:()=>td,getLivePlayerMemberStationsDimensionCommands:()=>Xu,getLivePlayerRegisterCommands:()=>$u,getLivePlayerTrackEventCommands:()=>od,getLivePlayerTrackInstanceCommands:()=>sd,getLivePlayerTrackingIds:()=>qu,getMemberStationsDimensionCommands:()=>Qu,getRegisterCommands:()=>Gu,getTrackEventCommands:()=>rd,getTrackInstanceCommands:()=>id,getTrackerName:()=>Hu,getTrackingIds:()=>Wu,livePlayerTrackEvent:()=>ld,register:()=>Ju,registerLivePlayer:()=>Zu,trackEvent:()=>ad});var i={};o.r(i),o.d(i,{getEventType:()=>dd,getLivePlayerType:()=>ud,getPlayerType:()=>cd,trackEvent:()=>pd,trackLiveEvent:()=>hd});var s,a,l,c,u,d={},p=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;fu+s.__v:o};return null!=s.vnode&&s.vnode(i),i}function _(e){return e.childAttribute(t,n):e.removeAttribute(t))}}functi.__d),o)return n.__E=n}call!=e&&this.__v&&(t&&thi__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},g.prototype.render=_,a=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,S.__r=0,u=0,"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreocument.addEventListener("DOMContentLoaded",e)},V=function(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullscreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozFullScreenElement?document.mozFullScreenElement():document.msFulject. e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;var Q=o("./node_modules/@sentry/ution Z(e,t){return X.call(e)===`[object ${t}]`}function ee(e){return Z(e,"ErrorEvent")}function te(e){return Z(e,pe=n,fe(e,"__sentry_original__"_captured__",!0)}catch(e){}return!1}var Te=o("./node_modules/@sentry/utils/esm/time.js"),Ne=(0,Q.R)(),ke=["debug...t)}))}})):ke.forEach((e=>{t[e]=()=>{}})),t}let Re;Re="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,Q.Y)("logger",Le):Le();var Ie,DLVED=1]="RESrn(0,Q.Y)("globalEventProcessors",(()=>[]))}cope();try{e(t)}finally{this.popScope(ent}getScope(){return this.ge{r.captureEvent(e,{...t,event_id:n}()=>o(s,t))):s;null!==a&&n.addBreadcrumb(a,i)}}setUser(e){var t=this.getScope();t&&t.setUser(e)}sras(e){var t=this.getScope();t&&t.setExtras(e)}setTag(e,t){var n=this.getScope();n&&n.setTag(e,t)}setExtrurn ze().captureEvent(e,t)}function tt(e){ze().configureScope(e)}function nt(e){ze().addBreadcrumb(e)}function rt(e,t){ze().setContext(e,t)}function ot(e){ze().setExtras(e)}function it(e,t){ze).setTags(e)}function at(e,t){nsacte){var t=ve(this)||this;return dt.apply(t,e)}}}pt.__initStatic();var ht=[/^Script error\.?$/,/Cannot extract url for event ${Cpe,attachment_type:e.attachmentType}),n]}var wt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",_report:"default"()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}(e.bufferSize||30)){lett):e.recordDroppedEvent("ratelimit_backoff",o)bt(s,((n,r)=>{e.recordDroppedEvent(t,Ct(r))}))};return n.add((()=>t({body:Et(s,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.warn(`Sentry responded with?6e4:r-ted while sg er is fulome,function:e.functi\s+\[native code\]\s+\}$/.test(e.toString())}var Ot=(0,Q.R)(),Lt={},Rt={};function It(e,t){Lt[e]=Lt[e]||[],Lt[e].push(t),function(e){if(!Rt[e])switch(Rt[e]={args:n,level:e}),t)}catch(e){}return amp:Date.now(),xhr:th check, bailing to ,{...n,endTimestamp:Datstory",{from:r,to:o})}return e.apply(this,t)}n,msg:e,url:t}),!!Ht&&Ht.apply(this,arguments)};break;case"unhandledrejection":Wt=ledrejection",e),!Wt||Wt.apply(this,arguments)};break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n Ot&&ae(e(Ft),Ft=Ot.setTimeo/).length}(JSON.stringify(r)length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[s,a]=i;if(null===t||["number","boolean","string"].includes(typeof t)&}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;if(0===n)return c.replace("object ","");if(s(t))return"[Circular ~]";var u=t;if(u&&"function"==typeof u.toJSON)try{return $t("",u.toJSON(),n-1,r,i)}catch(e){}var d=Array.isArray(t)?[]:{};let p=0;var h=ye(t);for(var f in h)if(Object.prototype.hasOwnProperty.call(h,f)){if(p>=r){d[f]="[MaxProperties ~]";break}varn 0}(t);try{return e(n,r)}catch(e)[{valurn[e,n.stackParser,n.attachStacktrace]}sn.__initStatic();var pn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XML)}catch(e){}return e.call(this,t,o,r)}})))}hn.__initStatic();var _n=[[4],path:t[5],protoccategory:"navr i=zt(e,n[r]);return Pn(e,t,n[r]gent":o}}};returnlues[0].stacktrace.frames}catch(e){return}}Nn.__initStatic();var In=/^(?:(\w+):)\/\/({e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Fn(e,t={}){var n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&on(e){${encodme:t,versxOf(i)&&r.push(...r.splice(o.indexOf(i),1)),r}var qn="Not capturing exception because it's already been capot enabled, will not capture session.")}getDsn(){rettegoing to window.fetch: ",e)}return zn=m||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.log("Sending outcomes:",e);var t,n,r=Fn(this._dsn,this._options),o=(t=e,_t((n=this._options.tunnel&&Dn(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.error(e)}))}(r,Et(o))}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.error(e)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__stHeader( 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}var nr=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\n tr(r,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],ir=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,sr=/(\S+) ),tr(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],lr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webp(t[2],t[1]||er,+t[3],t[4]?+t[4]:void 0):void 0}],ur=/ line (\d+).*script xec(e);return t?tr(t[2],t[3]||er,+t[1]):void 0}],pr=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: n t?tr(t[5],t[3]||t[4]||er,+t[1nsion:${t}`:`safari-web-extension:${t}`]:[e,t]},yr=[new ft,new pt,new hn,new jn,new sn,new An,new Nn,new Tn];function _r(e={}){if(void 0===e.defaultIntegrations&&(e.defaultIntegrations=yr),void 0===e.release){var t=(0,Q.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var n,r={...e,stackParser:(n=e.stackParser||mr,Array.isArray(n)?Pt(...n):n),integratit.initialScope);var o=new e(t);n.bindClient(o)}(Xn,r),e.autoSessionTracking&&function(){if(void 0!==(0,Q.R)().document){va(({from:e,to:t})=>{void 0!==e&&e!==t&&Ar(ze())})))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}function gr(e={},t=ze()){var n=(0,Q.R)();if(!n.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.error("Global document not defined in showReportDialog call"));const{client:r,scope:o}=t.getStackTop();var i=e.dsn||r&&r.getDsn();if(i){o&&(e.user={...o.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());var s=n.do${encodeURIComponent(t[i])}`;return`${r}?${o}`}(i,e),e.onLoad&&(s.onload=e.onLoad);var a=n.document.head||n.document.body;a?a.appendChild(s):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.error(call")}functioastEventId()}function jr(){}function Er(e){e()}function Sr(e){var t=ze().getClient();return t?t.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Re.warn("Casion({ignoreDuration:!0}),e.captureSession()}let Pr={};var xr=(0,Q.R)();xr.Sentry&&xr.Sentry.Integrations&&(Pr=xr.Sentry.th,n olength;n--;)if(kr(e[n][0],t))return n;return-1};var Lr=Array.prototype.splice;function Rr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var.clear=function(){thength-1?t.pop():Ls.__data__,n=Or(t.has=function(e){r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const Ir=Rr,Dr="object"==typeof global&&global&&global.Object===Object&&global;var Mr="object"==typeof self&&self&&self.Object===Object&&self;const Ur=Dr||Mr||Function("return this")(),Br=Ur.Symbol;var Fr=Object.prototype,Yr=Fr.hasOwnProperty,Vr=Fr.toString,Hr=Br?Br.toStringTag:void 0;var Wr=Object.prototype.toe[He;robject AsyncFunction]"==t||"[object Proxy]"==t},Kr=Ur["__core-js_shared__"];var Qr,Xr=(Qr=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||""))?"Symbol(src)_1."+Qr}catch(e){}try{return e+""}catch(e){}}return""};var eo=/^\[object .+?Constructor\]$/,to=Function.prototype,no=Object.prototype,ro=to.toString,oo=no.hasOwnProperty,io=RegExp("^"+ro.call(oo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=Xr&ull==e?void 0:e[t]}(e,t);return so(n)?n:void 0},lo=ao(Ur,"Map"),co=ao(Object,"create");var uo=Object.prototype.hasOwnProperty;var po=Object.prototype.hasOwnProperty;function ho(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){varion(){this.__data__=ete this.__data__"===n?void 0:n}re.__data__;return &void 0===t?"__lear();++t<n;){var__={hash:new fo,map:mo(this,e).delete(e);return this.size-=t?1:0,t},vo.prototype.get=functiootype.has=functioeturn n.set(var t=this.__data_ar=function(){this._data__,n=t.delete(e);return this.size=t.size,n},_o.prototype.get=function(epe.has=function(e yo(r)}return n?0:fineP:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};e,t0==function(e){return null!=e&&"object"==typeof e},Po=function(e){return Ao(e)&&"[object Arguments]"==Gr(e)};var xo=Object.prototype,To=xo.hasOwnProperty,No=xo.propertyIsEnumerable(e)&&To.call(e,"callee")&&!No.call(e,"callee")},Oo=Array.isArray;var Lo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ro=Lo&&"object"==typeof module&&module&&!module.nodeType&&module,Io=Ro&&Ro.exports===Lo?Ur.Buffer:void 0;const Do=(Io?Io.isBuffer:void 0)||functionn||"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Fo={};Fo["[object Float32Array]"]=Fo["[object Float64Array]"]=Fo["[object Int8Array]"]=Fo["[object Int16Array]"]=Fo["[object Int32Array]"]=Fo["[object Uint8Array]"]=Fo["[object Uint8ClampedArray]"]=Fo["[object Uint16Array]"]=Fo["[object Uint32Array]"]=!0,Fo["[object Arguments]"]=Fo["[object Array]"]=Fo["[object ArrayBuffer]"]=Fo["[object Boolean]"]=Fo["[object DataView]"]=Fo["[object Date]"]=Fo["[object Error]"]=Fo["[object Function]"]=Fo["[object Map]"]=Fo["[object Number]"]=Fo["[object Object]"]=Fo["[object RegExp]"]=Fo["[object Set]"]=Fo["[objeYo=function(e){return function(t){return e(t)}};var Vo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ho=Vo&&"object"==typeof module&&module&&!module.nodeType&&mod|Wo&&Wo.binding&&Wo.binding("util")}catch(e){}}(ion(e){return Ao(e)&&Bo(e.length)&&!!Fo[Gr(e)]};"byteOffset"==c)||Uo(c,l))||a.pusrn nction(e,t){return function(n){return e(t(n))}},Zo=Jo(Object.keys,Object);ncte,n)&&"constructor"!=n&&t.push(n);return t}(e)};tor n},ii=function(e){return ti(e)?Ko(e,!0):oi(e)};var si="object"==typeof exports&&exports&&!exports.nodeType&&exports,ai=si&&"object"==typeof module&&module&&!module.nodeType&&module,li=ai&&ai.exports===si?Ur.BufllocUnsafe:void 0;const ui=function(){return[]};var di=Object.prototype.propertyIsEnumera i}(pi.length,o=e.length;++n<r;)e[o+n]=t[n];return e},mi=Jo(Object.getProt){for(on(e,t,n){var r=t(e);return Oo(e)?r:fiyi(e,ni,hi)},gi=function(e){return yi(e,ii,vi)},bi=ao(Ur,"DataView"),ji=ao(Ur,"Promise"),Ei=ao(Ur,"Set"),Si=ao(Ur,"WeakMap");var wi="[object Map]",Ci="[object Promise]",Ai="[object Set]",Pi="[object WeakMap]",xi="[object DataView]",Ti=Zr(bi),Ni=Zr(lo),ki=Zr(ji),Oi=Zr(Ei),Li=Zr(Si),Ri=Gr;(bi&&Ri(new bi(new ArrayBuffer(1)))!=xi||lo&&Ri(new lo)!=wi||ji&&Ri(ji.resolve())!=Ci;case Oi:return Ai;case Li:return Pi}return t});const Ii=Ri;var Di=Object.pro.byteLength);return new Mi(t).set(new Mi(e)),t};var Bi=/\w*$/;var Fi=Br?Br.pr Symbol]":return r=e,Yi?Objectype=t;var n=new e;return e.prototype=void 0,n}}();var qi=qo&&qo.isMap;const Gi=qi?Yo(qi):function(e){return Ao(e)&&"[object Map]"unction(e){return Ao(e)&&"[object Set]"==Ii(e)};var Ki="[object Arguments]",Qi="[object Function]",Xi={};Xi[Ki]=Xi["[object Array]"]=Xi["[object ArrayBuffer]"]=Xi["[object DataView]"]=Xi["[object Boolean]"]=Xi["[object Date]"]=Xi["[object Float32Array]"]=Xi["[object Float64Array]"]=Xi["[object Int8Array]"]=Xi["[object Int16Array]"]=Xi["[object Int32Array]"]=Xi["[object Map]"]=Xi["[object Number]"]=Xi["[object Object]"]=Xi["[object RegExp]"]=Xi["[object Set]"]=Xi["[object String]"]=Xi["[object Symbol]"]=Xi["[object Uint8Array]"]=Xi["[object Uint8ClampedArray]"]=Xi["[object Uint16Array]"]=Xi["[object Uint32Array]"]=!0,Xi["[object Error]"]=Xi[Qi]=Xi["[object WeakMap]"]=!1;const Ji=function e(t,n,r,o,i,s){var a,l=1&n,c=2&n,u=4&n;if(r&&(a=i?r(t,o,i,s):r(t)),void 0!==a)ret,"index")&&(n;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,a)}else{var p=Ii(t),h=p==Qi||?ci(n):new e.constructor(n);return e.copy(r),r}(t,l);if("ion"!=typeof e.constructor||Xo(e)?{}:Wi(mi(e))}(t),!l)return c?function(e,t){return Co(e,vi(e),t)}),e),t)}(t,function(e,t){return e&&Co(t,ni(t),e)}(a,t))}else{if(!Xi[p])return i?t:{};a=Vi(t,p,l)}}s||(s=new go);var f=s.g)?t.forEach((functioforEach((function(o,i){a.set(i,e(o,n,r,i,t,s))}));var m=tion(o,iol"==typeof e||Ao(e)&&"[object Symbol]"==Gr(e)};var es=/\.|\[(?:[^[\]]*|(["'])(o,s)||i,s};return n.cache=new(rs.Cache||yo),n}rs.Cache=yo;const os=rs;var is=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|0,n,r,o){t.push(r?o.replace(ss,"$1"):n||e)})),t}));const ls=as;var cs=Br?Br.pro):""-0tiorn &&n<r;)e=e[fs(t[n++])];return n&&n==r?e:vofor(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(t,0,-1))},ys=function(e,t){return t=hs(t,e),null==(e=vs(e,t))||delete e[fs((n=t,r=null==n?0:n.length,r?n[r-1]:void 0))];var n,r};var _s=Function.prototype,gs=Object.prototype,bs=_s.toString,js=gs.hasOwnPropertyion"==typeof n&&n instanceof n&&bs.call(n)==Es}(e)?void 0:e};ctin-1uncn e.call(t,n[0],n[1],n[2]+o<t;)a[o]=r[o];return a[t]=n(s(n=t,function(){return n}),writable:!0});var 0]}else Ds=0;return Is.U));for(var o=t.length;o--;)ys(n,t[o]);return n}));var Bs=o("./.toString(36).substring(7).split("").join(".")},Ys={INIT:"@@redux/INIT"+Fs(),REPLon)}function Js(e){return"function"==typeof e}var Zs=!1,ea={Promise:nousErrorHandling(e){e&&(new Error).stackDtion ta(e){setTimeout(row e}precatedSorHanction on e.prototyPTurn e.rxSubs.isStothis._ppeurn e))for `mapTo()`?");return n.lift(new ba(e,t))}}var ba=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribstinati&&Symbol.itera=typeof e.subscribe&&"function"==typeof e.then}var Pa=fuent Symbol.observable");return n.subscribe(t)nction(t){return e.error(t)})).then(null,tn&&e.add((function(){n.return&&n.return()})),e};var t,n,r=oa(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can providevable.parentlete(n=t),ibe(new Ra(e,thisompleted=!1,o.buffer=[],o.activeoncurrent?this._tryNeation.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new Na(this),n=this.destination;n.add(t);var r=function(e,t){if(!t.closed)return e instanceof ma?e.subscribe(t):Pa(e)(this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.this.hat++)n[t]=e[t];return n}return Array.from(e)}var Ba,Fa=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r're not missing a return statement!");return t}))))};try{Object.define.map((function(e){return e.name||"<anonymofunctionquestAsle(n,for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Ha),qa=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xs(t,e),t}(Wa))(Va),Ga=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.pOf(thisthis;re},t.creis.source?this.source.subscribe(e):aa.EMPTY},t}(Kaength-1];return ya(n)?(e.pophis.value=t,this.error=n,trror);case"C":rreturn t&&t(this.er==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e;switch(this.kind){case"N":return Za(this.value);case"E":return e=this.error,new ma((function(t){return t.error(e)}));case"C":return Ja()}throw new Error("une!==t?new e("N"teError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function tl(e,t){return void 0===t&&(t=0)scribage(el.n(e,t){this.notification=e,this.destination=t}}(),il=1,nction ll(e){returhis,t,n)||this;return r.scheduler=t,r.wor((function(){return ll(i)&&==t.actions.le<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(Wa))(cl),dl=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=ul);var o,i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(ra(o=n)||!(o-parseFloat(o)+1>=0)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedd 0===n&&(nn=e.subscriber;return tschedul&(t=0)l(t,this.delay,this.scheduler).subscribe(e)},e}();function fl(e,t){return function(n){return n.lift(new ml(e,t))}}var ml=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(nation. e=0;ot,n,r){return n&&rototypeOf(t)).call(this));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):(){return new this(",value:function(e,t){returion(e){var n=new t(thtion(){returnect.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(ma),El=o("./node_modules/redux-sentssport:e.is_passport,isPlayable:e.is_playable}};function Cl(e,t,n){return $(this,void 0,void 0,(function(){var r,o;return z(this,(function(i){switch(i.label){case 0:return r="/api/videos/".concat(e,"/continuous-play/"),n?r+="?user_id=".concat(n):t&&(r+="?station_id=".concat(t)),[4,fetch(r)];case 1:return[4,i.sent().json()];case 2:return o=i.sent(),[2,wl(o)]}}))}))}function Al(e,t,n){return $(this,void 0,void 0,(function(){var r,o;return z(this,(function(i){switch(i.label){case 0:return r="/api/videos/".concat(e,"/continuous-play/?passport=true"),n?r+="&user_id=".concat(n):t&&(r+="&station_id=".concat(t)),[4,fetch(r)];case 1:return[4,i.sent().json()];case 2:return o=i.sent(),[2,wl(o)]}}))}))}var Pl=function(e){var t="/partnerplayer/get-callsign-svp-host/".concat(e,"/");return fetch(t).then((function(e){return e.json()})).then((function(e){return e.callsign_svp_hostturn fs.nexerroRl(){rfunctturnreturn function(n){return n.lift(new Ul(e,t))}}var Ul=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(ne!0;rtion(n,rst Yl=function(e,t){re setTimeout((funct)ringify(t);localStorage.setItem(e,n)}catch(e){}},Wl="mount-root",ql="player-videojs",Gl="liveplayer-videojs",$l="We're sorry, but there was an error playing this video. Please try again later.",zl="We're sorry, but there was an error playing the livestream. Please try again later.",Kl="Location Required for Live TV",Ql="Please enable location services to watch the livestream.",Xl="https://help.pbs.org/support/solutions/articles/12000069454-pbs-live-streaming-faq",Jl={tiny:["tiny","xsmall"],small:["small"],medium:["medium","large"],large:["xlarge","huge"]},Zl="Switch to Default View",ec="Switch to Theatre View",tc="player.muted",nc="player.volume",rc="navigate-to-continuous-play-video",oc={PLAYER_MOUNT:"PLAYER_MOUNT",PLAYER_PLAY:"PLAYER_PLAY",PLAYER_FIRST_FRAME:"PLAYER_FIRST_FRAME",PLAYER_PAUSE:"PLAYER_PAUSE",PLAYER_TIME:"PLAYER_TIME",PLAYER_MUTE:"PLAYER_MUTE",PLAYER_VOLUME:"PLAYER_VOLUME",PLAYER_ERROR:"PLAYER_ERROR",PLAYER_PROGRESS:"PLAYER_PROGRESS",PLAYER_COMPLETE:"PLAYER_COMPLETE",PLAYER_AD_PLAY:"PLAYER_AD_PLAY",PLAYER_AD_PAUSE:"PLAYER_AD_PAUSE",PLAYER_AD_COMPLETE:"PLAYER_AD_COMPLETE",PLAYER_CHANGE_PLAYBACK_RATE:"PLAYER_CHANGE_PLAYBACK_RATE",PLAYER_CHANGE_CURRENT_TRACK:"PLAYER_CHANGE_CURRENT_TRACK",PLAYER_POST_MESSAGE:"PLAYER_POST_MESSAGE"},ic={playback:"READY",progress:0,duration:0,video:void 0,context:void 0};function sc(e){return{type:oc.PLAYER_MUTE,payload:{muted:e}}}function ac(){return{type:oc.PLAYER_AD_PLAY}}function lc(e,t){var n=e.options.chapter,r=n&&t.chapters[n-1];if(r)return r.start/1e3}var cc=Fa((function(e){return e.pipe(_l(oc.PLAYER_MOUNT),kl((function(e){var t=e.payload&&e.payload.player,n=e.payload.video,r=e.payload&&e.payload.context;r&&r.options.autoplay&&n.isPlayable&&Yl((function(){var e=t&&t.play();void 0!==e&&e.then((function(){})).catch((function(){}))}))})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_COMPLETE),kl((function(e){var t=e.payload.player,n=e.payload.context;if("partner_player"===n.playerType||"bento_player"===n.playerType){t.isFullscreen()&&t.exitFullscreen(),t.hasStarted(!1);var r=t.getChild("BigPlayButton");r&&r.controlText("Replay")}})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_PLAY),kl((function(e){var t=e.payload.player;if(t){var n=t.getChild("BigPlayButton");n&&n.controlText("Pause Video")}})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_PAUSE),kl((function(e){var t=e.payload.player;if(t){var n=t.getChild("BigPlayButton");n&&n.controlText("Play Video")}})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_MOUNT),kl((function(e){var t=e.payload.player,n=Vl(tc),r=Number(Vl(nc));t&&n&&t.muted(n),t&&r&&t.volume(r)})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_MUTE),kl((function(e){var t=e.payload.muted;Hl(tc,t)})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_VOLUME),kl((function(e){var t=e.payload.volume;Hl(nc,t)})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_CHANGE_PLAYBACK_RATE),kl((function(e){var t=e.payload&&e.payload.player;if(t){var n=t.getChild("controlBar");if(n){var r=n.getChild("PlaybackSpeedButton");if(r){var o=r.menu.children_;for(var i in o){var s=o[i];t.playbackRate()===s.rate?(s.addClass("vjs-selected"),s.el_.setAttribute("aria-checked","true"),s.controlText(", selected"),s.isSelected_=!0):(s.removeClass("vjs-selected"),s.el_.setAttribute("aria-checked","false"),s.controlText(""),s.isSelected_=!1)}}}}})),Rl())}),(function(e){var t=Math.floor;return e.pipe(_l(oc.PLAYER_TIME),_a((function(e){var n,r=e.payload.timeInfo;return q(q({},e),((n={}).__timeKey=t(r.currentTime),n))})),Fl("__timeKey"),_a((function(e){var n=e.payload,r=n.timeInfo,o=n.video;return r.currentTime=t(r.currentTime),function(e,t){return{type:oc.PLAYER_PROGRESS,payload:{timeInfo:e,video:t}}}(r,o)})))}),(function(e){return e.pipe(_l(oc.PLAYER_PROGRESS),kl((function(e){var t=e.payload,n=t.player,r=t.context,o=t.video,i=t.timeInfo.position;r.options.start&&function(e,t){return!!e.options.start&&t<e.options.start}(r,i)&&n.currentTime(r.options.start),o.duration&&function(e,t){return!!e.options.end&&t>e.options.end}(r,i)&&n.currentTime(o.duration)})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_PROGRESS),kl((function(e){var t=Tl().getPlayer(e.payload.player),n=e.payload.context,r=e.payload.video,o=e.payload.timeInfo.position;if(n.options.chapter&&function(e,t,n){if(!e.options.chapter||!t.chapters)return!1;var r=lc(e,t);return Boolean(r&&r>n)}(n,r,o)){var i=lc(n,r);i&&t.currentTime(i)}})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_ERROR),kl((function(e){var t=e.payload.player;t.paused()||t.pause()})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_POST_MESSAGE),_a((function(e){var t=e.payload&&e.payload.data&&e.payload.data.command,n=e.payload.player;if(n&&t&&"theatreModeIsOn"===t){var r=n.getChild("controlBar"),o=null==r?void 0:r.getChild("theatreModeButton"),i=o.menu.getChild("menuTitleTheatre");if(o&&i){var s=i.el_.children;if(s.length)for(var a=0,l=s;a<l.length;a++){var c=l[a];"vjs-menu-item-text"===c.className&&(n.hasClass("theatre-mode")||(n.addClass("theatre-mode"),o.controlText(Zl),i.controlText(Zl),c.innerText=Zl))}}}return null})),fl(Boolean))})),uc={LIVE_PLAYER_MOUNT:"LIVE_PLAYER_MOUNT",LIVE_PLAYER_PLAY:"LIVE_PLAYER_PLAY",LIVE_PLAYER_PAUSE:"LIVE_PLAYER_PAUSE",LIVE_PLAYER_TIME:"LIVE_PLAYER_TIME",LIVE_PLAYER_MUTE:"LIVE_PLAYER_MUTE",LIVE_PLAYER_VOLUME:"LIVE_PLAYER_VOLUME",LIVE_PLAYER_FIRST_FRAME:"LIVE_PLAYER_FIRST_FRAME",LIVE_PLAYER_PROGRESS:"LIVE_PLAYER_PROGRESS",LIVE_PLAYER_ERROR:"LIVE_PLAYER_ERROR",LIVE_PLAYER_COMPLETE:"LIVE_PLAYER_COMPLETE",LIVE_PLAYER_CHANGE_CURRENT_TRACK:"LIVE_PLAYER_CHANGE_CURRENT_TRACK",LIVE_PLAYER_POST_MESSAGE:"LIVE_PLAYER_POST_MESSAGE"},dc={playback:"READY",progress:0,duration:1/0,livePlayer:void 0,livePlayerContext:void 0};function pc(e){return{type:uc.LIVE_PLAYER_MUTE,payload:{muted:e}}}var hc=Fa((function(e){var t=Math.floor;return e.pipe(_l(uc.LIVE_PLAYER_TIME),_a((function(e){var n,r=e.payload.timeInfo;return q(q({},e),((n={}).__timeKey=t(r.currentTime),n))})),Fl("__timeKey"),_a((function(e){var n=e.payload.timeInfo;return n.currentTime=t(n.currentTime),function(e){return{type:uc.LIVE_PLAYER_PROGRESS,payload:{timeInfo:e}}}(n)})))}),(function(e){return e.pipe(_l(uc.LIVE_PLAYER_MOUNT),kl((function(e){var t=e.payload.livePlayer,n=Vl(tc),r=Number(Vl(nc));n&&t.muted(n),r&&t.volume(r)})),Rl())}),(function(e){return e.pipe(_l(uc.LIVE_PLAYER_MUTE),kl((function(e){var t=e.payload.muted;Hl(tc,t)})),Rl())}),(functionl((function(e){var t=e.payload.volume;Hl(nc,t)})),Rl())}),(function(e){return e.pipe(_l(uc.LIVE_PLAYER_ERROR),kl((function(e){var t=e.payload.livePlayer;t.paused()||t.pause()})),Rl())}),(function(e){return e.pipe(_l(uc.LIVE_PLAYER_POST_MESSAGE),_a((function(e){var t=e.payload&&e.payload.data&&e.payload.data.command,n=e.payload.livePlayer;if(n&&t&&"theatreModeIsOn"===t){var r=n.getChild("controlBar"),o=null==r?void 0:r.getChild("theatreModeButton"),i=o.menu.getChild("menuTitleTheatre");if(o&&i){var s=i.el_.children;if(s.length)for(var a=0,l=s;a<l.length;a++){var c=l[a];"vjs-menu-item-text"===c.className&&(n.hasClass("theatre-mode")||(n.addClass("theatre-mode"),o.controlText(Zl),i.controlText(Zl),c.aptions-off")||e.addClass("vjs-captions-off")}var vc=function(e){var t=e.children();for(var n;r.length>0&&r.map((function(e){e.selected(!1)}))}},yc=function(e,t){var n=e.children();for(var r in n){var o=n[r].children();o.length>0&&o.map((function(e){var n=e;n.options_.label===t&&n.selected(!0)}))}};const _c={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:"аҧсуа бызшәа"},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:"አማርኛ"},an:{name:"Aragonese",nativeName:"aragonés"},ar:{name:"Arabic",nativeName:"اللغة العربية"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},be:{name:"Belarusian",nativeName:"беларуская мова"},bg:{name:"Bulgarian",nativeName:"български език"},bh:{name:"Bihari",nativeName:"भोजपुरी"},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:"বাংলা"},bo:{name:"Tibetan",nativeName:"བོད་ཡིག"},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Català"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},cs:{name:"Czech",nativeName:"čeština"},cu:{name:"Old Church Slavonic",nativeName:"ѩзыкъ словѣньскъ"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"Dhivehi"},dz:{name:"Dzongkha",nativeName:"རྫོང་ཁ"},ee:{name:"Ewe",nativeName:"Eʋegbe"},el:{name:"Greek",nativeName:"Ελληνικά"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"esperanto"},es:{name:"Spanish",nativeName:"español"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:"فارسی"},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"Vakaviti"},fo:{name:"Faroese",nativeName:"føroyskt"},fr:{name:"French",nativeName:"français"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"Gàidhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaraní",nativeName:"Avañe'ẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:"هَوُسَ"},he:{name:"Hebrew",nativeName:"עברית"},hi:{name:"Hindi",nativeName:"हिन्दी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Kreyòl ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:"Հայերեն"},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"Iñupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"Íslenska"},it:{name:"Italian",nativeName:"italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語"},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:"ქართული"},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gĩkũyũ"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:"қазақ тілі"},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:"ខេមរភាសា"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},ko:{name:"Korean",nativeName:"한국어"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी"},ku:{name:"Kurdish",nativeName:"Kurdî"},kv:{name:"Komi",nativeName:"коми кыв"},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:"Кыргызча"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"Lëtzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingála"},lo:{name:"Lao",nativeName:"ພາສາ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:"Tshiluba"},lv:{name:"Latvian",nativeName:"latviešu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mi:{name:"Māori",nativeName:"te reo Māori"},mk:{name:"Macedonian",nativeName:"македонски јазик"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mn:{name:"Mongolian",nativeName:"Монгол хэл"},mr:{name:"Marathi",nativeName:"मराठी"},ms:{name:"Malay",nativeName:"Bahasa Malaysia"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:"ဗမာစာ"},na:{name:"Nauru",nativeName:"Ekakairũ Naoero"},nb:{name:"Norwegian Bokmål",nativeName:"Norsk bokmål"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Diné bizaad"},ny:{name:"Chichewa",nativeName:"chiCheŵa"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian",nativeName:"ирон æвзаг"},pa:{name:"Panjabi",nativeName:"ਪੰਜਾਬੀ"},pi:{name:"Pāli",nativeName:"पाऴि"},pl:{name:"Polish",nativeName:"język polski"},ps:{name:"Pashto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"português"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Română"},ru:{name:"Russian",nativeName:"Русский"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी"},se:{name:"Northern Sami",nativeName:"Davvisámegiella"},sg:{name:"Sango",nativeName:"yângâ tî sängö"},si:{name:"Sinhala",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovenian",nativeName:"slovenski jezik"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:"српски језик"},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},tk:{name:"Turkmen",nativeName:"Türkmen"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Türkçe"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татар теле"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"Українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"Ўзбек"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volapük",nativeName:"Volapük"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yorùbá"},za:{name:"Zhuang",nativeName:"Saɯ cueŋƅ"},rasil)ional)",nativeName:"中文（繁體）"}};class gc{static getLanguages(e=[]){return e.map((e=>({code:e,name:gc.getName(e),nativeName:gc.getNativeName(e)})))}static getName(e){return gc.validate(e)?_c[e].name:""}static getAllNames(){return Object.values(_c).map((e=>e.name))}static getNativeName(e){return gc.validate(e)?_c[e].nativeName:""}static getAllNativeNames(){return Object.values(_c).map((e=>e.nativeName))}static getCode(e){return Object.keys(_c).find((t=>{const n=_c[t];return n.name.toLowerCase()===e.toLowerCase()||n.nativeName.toLowerCase()===e.toLowerCase()}))||""}static getAllCodes(){return Object.keys(_c)}static validate(e){return _c.hasOwnProperty(e)}}var bc=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},jc=function(e){var t=e;return"eng"===t&&(t="en"),gc.validate(t)?bc(gc.getNativeName(t)):"Unknown"},Ec=function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];["subtitles","captions"].includes(r.kind)&&t.push(r)}return t},Sc=function(e){return e&&e.remoteTextTracks().length>0?e.remoteTextTracks():e.textTracks()},wc="captions-v2",Cc="player.captions.selected",Ac={INIT_CAPTIONS_SETTINGS:"INIT_CAPTIONS_SETTINGS",LAUNCH_CAPTIONS_MODAL:"LAUNCH_CAPTIONS_MODAL",OPEN_CAPTIONS_SETTINGS:"OPEN_CAPTIONS_SETTINGS",CLOSE_CAPTIONS_SETTINGS:"CLOSE_CAPTIONS_SETTINGS",CHANGE_CAPTIONS_SETTINGS:"CHANGE_CAPTIONS_SETTINGS",SAVE_CAPTIONS_SETTINGS:"SAVE_CAPTIONS_SETTINGS",ADD_TEXT_TRACK:"ADD_TEXT_TRACK",ADD_SIDECAR_CAPTION:"ADD_SIDECAR_CAPTION",CHANGE_CURRENT_TEXT_TRACK:"CHANGE_CURRENT_TEXT_TRACK"},Pc={isSettingsOpen:!ly:"proportionalSansSerif",edgeStyle:"none",color:"#FFF",fontOpacity:"1",backgroundColortFamily:"proportionalSansSerif",edgeStyle:"none",color:"#FFF",fontOpacity:"1",backgroundColor:"#000",backgroundOpacity:"1",windowColor:"#000",windowOpacity:"0"}};function xc(e){var t=Tl().getPlayer(ql),n=Tl().getPlayer(Gl);return{type:Ac.LAUNCH_CAPTIONS_MODAL,payload:n?{livePlayer:n,modal:e}:t?{player:t,modal:e}:{modal:e}}}function Tc(e){return{type:Ac.CLOSE_CAPTIONS_SETTINGS,payload:{modal:e}}}function Nc(e){return{type:Ac.SAVE_CAPTIONS_SETTINGS,payload:{modal:e}}}function kc(e){return{type:Ac.CHANGE_CAPTIONS_SETTINGS,payload:{previewStyle:e}}}function Oc(){return kc(Pc.previewStyle)}function Lc(e,t){return{type:Ac.ADD_TEXT_TRACK,payload:{track:e,closedCaptionsButton:t}}}function Rc(e,t){return{type:Ac.CHANGE_CURRENT_TEXT_TRACK,payload:{closedCaptionsButton:e,isSafari:t}}}var Ic=Fa((function(e){return e.pipe(_l(Ac.LAUNCH_CAPTIONS_MODAL),Oa((function(e){var t,n=e.payload,r=n.player,o=n.livePlayer,i=n.modal;return o?t=o:r&&(t=r),new ma((function(e){i&&e.next(function(e){return{type:Ac.OPEN_CAPTIONS_SETTINGS,payload:{modal:e}}}(i)),t.textTrackSettings.restoreSettings(),t.textTrackDisplay.updateDisplay()}))})))}),(function(e){return n(e){var t=e.payload,n=t.player,r=t.livePlayer,o=n||r;o&&!o.paused()&&o.pause()})),Rl())}),(function(e,t){return e.pipe(_l(Ac.SAVE_CAPTIONS_SETTINGS),kl((function(e){var n,r=e.payload,o=r.player;if(r.livePlayer)n=Tl().getPlayer(Gl);else{if(!o)return;n=Tl().getPlayer(ql)}var i=t.value.captions;i.modal&&delete i.modal;var s=i.playerStyle;n.textTrackSettings.setDefaults(),s.fontPercent=Number(s.fontPercent),n.textTrackSettings.setValues(s),n.textTrackSettings.saveSettings(),n.textTrackDisplay.updateDisplay(),Hl(wc,i)})),Rl())}),(function(e){return e.pipe(_l(Ac.OPEN_CAPTIONS_SETTINGS),kl((function(e){var t=e.payload.modal;t&&t.open()})),Rl())}),(function(e){return e.pipe(_l(Ac.CLOSE_CAPTIONS_SETTINGS,Ac.SAVE_CAPTIONS_SETTINGS),kl((function(e){var t=e.payload.modal;t&&t.close()})),Rl())}),(function(e){return e.pipe(_l(Ac.CHANGE_CURRENT_TEXT_TRACK),kl((function(e){var t=e.payload,n=t.player,r=t.livePlayer,o=t.closedCaptionsButton,i=n||r;i&&(Ec(i.textTracks()).every((function(e){return"disabled"===e.mode}))?o&&mc(o):o&&fc(o))})),Rl())}),(function(e){return e.pipe(_l(Ac.CHANGE_CURRENT_TEXT_TRACK),kl((function(e){var t=e.payload,n=t.player,r=t.livePlayer,o=t.isSafari,i=n||r;if(i){var s=i.textTracks(),a=Ec(s);if(a.every((function(e){return"disabled"===e.mode})))!o&&Hl(Cc,"Off");else{var l=a.filter((function(e){return"showing"===e.mode}));if(l&&l.length>0){var c=l[0],u=jc(c.language);!o&&Hl(Cc,u)}}}})),Rl())}),(function(e){l((function(e){var t=e.payload,n=t.player,r=t.livePlayer,o=t.track,i=t.closedCaptionsButton,s=n||r,a=i;if(s){var l=Vl(Cc),c=s.textTracks(),u=(null==o?void 0:o.language)||"",d=jc(u);if(l===d){for(var p=0;p<c.length;p++){var h=c[p],f=jc(h.language);h.modgth;l++)"captions"===s[l].kind&&a.push(s[l]);var c=a.map((function(e){function(e){var t=a[e] 0!==i&&c.inceOf():e){re&e.apply(this,arguments)||this}return Xs(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){thiservables=[],r}return Xs(t,e),t.prototype._next=fr=e[ntraie=nullthis}tle()}var tu=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new nu(e,this.acctt:funce,thisagereate(Error.prototype),e}(),ou=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeEnctiturn X),thiturn},t}(functbscreduler))},e}(),yu=function(e){function t(t,n,r){var o=e.call(this,t)||this;ret1,o}returs.as.dlete()},t.,this.destinationnction _u(e){e.debouncedNext()}varu=function(){return e=navigator.userAgent,/^((?!chrome|android).)*safari/=fu){i!==t(o[r],r,o););return e});var Cu;conction Pu(e){var t=-1,n=null==e?0:eyo;++t<n;)this.aon(eturn-1}(e,Tu,n)}(e,t,0)>-1},ku=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},Ou=function(e,t){return e.has(t)},Lu=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ru=Ei&&1/Lu(new Ei([,-0]))[1]==1/0?function(e){return new Ei(e)}:function(){},Iu=function(e){return e&&e.length?function(e,t,n){var r=-1,o=Nu,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=ku;else if(i>=200){var c=t?null:Ru(e);if(c)return Lu(c);s=!1,o=Ou,l=new xu}else l=t?[]:a;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),a.push(u)}else o(l,d,n)||(l!==a&&l e|,t){return void 0===e&&(e=document),void 0===t&&(t=window),e.referrer||t.location.href},Bu=function(e,t){void 0===e&&(e=document),void 0===t&&(t=window);var n=Uu(e,t);return new URL(n).origin},Fu=function(e){parent&&void 0!==parent.postMessage&&window.self!==window.top&&parent.postMessage(e,Bu())},Yu=function(e){var t;if(Du(e)){try{t=JSON.parse(e)}catch(e){return}return t}};const Vu={DEV:"localhost"===location.hostname,SENTRY_DSN:(Mu={"player.pbs.org":"https://9e599279d82441c2b48aedc7aa8d83ed@sentry.io/1465818",defaults:""})[window.location.host]||Mu.defaults,MUX_ENV_KEY:"spcp8DRJY0BM9IqgGjO_hQEHn",MUX_CUSTOM_DOMAIN:"qoe.pbs.org"};var Hu=function(e){return e.replace("GA-","").replace("UA-","").replace("-","")},Wu=function(e){return Iu(e.eventIds.concat(e.eventNationalIds))},qu=function(e){var t=e.eventStationId,n=e.eventNationalId;return t?Iu([t,n]):[n]},Gu=function(e){var t=e.map((function(e){return["create",e,{name:Hu(e),cookieDomain:".player.pbs.org",cookieUpdate:"true",cookieFlags:"SameSite=None; Secure"}]}));return t},$u=function(e){var t=e.map((function(e){return["create",e,{name:Hu(e),cookieDomain:".player.pbs.org",cookieUpdate:"true",cookieFlags:"SameSite=None; Secure"}]}));return t},zu=function(e,t,n){void 0===n&&(n=window.location.href);var r=e.map((function(e){var r=Hu(e);return[["".concat(r,".set"),"dimension1",t.callsign||""],["".concat(r,".set"),"&uid",t.userId||""],["".concat(r,".set"),"&dl",n]]}));return Ps(r)},Ku=function(e,t,n){void 0===n&&(n=window.location.href);var r=e.map((function(e){var r=Hu(e);return[["".concat(r,".set"),"dimension1",t.stationCallsign||""],["".concat(r,".set"),"&uid",""],["".concat(r,".set"),"&dl",n]]}));return Ps(r)},Qu=function(e,t,n){var r=e.map((function(e){var r=Hu(e),o=n.memberStations.map((function(e,t){return["".concat(r,".set"),"dimension".concat(5+t),e]}));return"partner_player"!==t.playerType&&"bento_player"!==t.playerType||o.push(["".concat(r,".set"),"dimension2",n.memberStations[0]]),o}));return Ps(r)},Xu=function(e,t){var n=e.map((function(e){var n=Hu(e),r=[t.stationCallsign],o=r.map((function(e,t){return["".concat(n,".set"),"dimension".concat(5+t),e]}));return"ga_livestream_partner_player"===t.playerType&&o.push(["".concat(n,".set"),"dimension2",r[0]]),o}));return Ps(n)},Ju=function(e,t){Vu.DEV&&ga("set","sendHitTask",null);var n=Wu(t),r=Gu(n),o=zu(n,e),i=Qu(n,e,t),s=r.concat(o).concat(i);Au(s,(function(e){ga.apply(void 0,e)}))},Zu=function(e){Vu.DEV&&ga("set","sendHitTask",null);var t=qu(e),n=$u(t),r=Ku(t,e),o=Xu(t,e),i=n.concat(r).concat(o);Au(i,(function(e){ga.apply(void 0,e)}))},ed=function(e,t){var n=t.isMvod?"MVOD":void 0,r={portal_player:"National Portal",lite_portal_player:"National Portal",station_player:"Local Portal",partner_player:"Partner Player",viral_player:"Viral Player",bento_player:"Bento Player"}[e.playerType];return ju(["Video -",n,r]).join(" ")},td=function(e){var t={ga_livestream_portal_player:"Livestream National Portal",ga_livestream_partner_player:"Livestream Partner Player",ga_livestream_station_player:"Livestream Local Portal"}[e.playerType];return ju(["Video -",t]).join(" ")},nd=function(e){var t=e.program&&e.program.title,n=e.title,r=e.id,o=e.videoType;return ju([t,n,r,o]).join(" | ")},rd=function(e,t,n,r,o){void 0===r&&(r={}),void 0===o&&(o={});var i={eventAction:e,eventValue:r.value,eventCategory:ed(t,n),eventLabel:nd(n)};"MediaStop"===e&&(i.metric1=r.fieldsObject&&r.fieldsObject.metric1),o.useBeacon&&(i.transport="beacon");var s=Wu(n).map((function(e){return["".concat(Hu(e),".send"),"event",i]}));return s};function od(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var o={eventAction:e,eventLabel:"Livestream",eventValue:n.value,eventCategory:td(t)};"MediaStop"===e&&(o.metric1=n.fieldsObject&&n.fieldsObject.metric1),r.useBeacon&&(o.transport="beacon");var i=qu(t).map((function(e){return["".concat(Hu(e),".send"),"event",o]}));return i}function id(e,t,n,r){if(void 0===r&&(r={}),"partner_player"!==t.playerType&&"bento_player"!==t.playerType&&"viral_player"!==t.playerType||"MediaStart"!==e)return[];var o={eventAction:Uu(),eventCategory:{partner_player:"Partner Instances",viral_player:"Viral Instances",bento_player:"Bento Instances"}[t.playerType],eventLabel:nd(n)};r.useBeacon&&(o.transport="beacon");var i=Wu(n).map((function(e){return["".concat(Hu(e),".send"),"event",o]}));return i}&&(n={}),"ga_livestream_partner_player"!==t.playerType||"MediaStart"!==e)return[];var r={eventAction:Uu(),eventCategory:{ga_livestream_partner_player:"Livestream Partner Instances",ga_livestream_portal_player:"Livestream Portal Instanctird(e,t,n,r,o);Au(i,(function(e){ga.apply(void 0,e)}));var s=id(e,t,n,o);Au(s,(function(e){ga.apply(void 0,e)}))}function ld(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var o=od(e,t,n,r);Au(o,(function(e){ga.apply(void 0,e)}));var i=sd(e,t,r);Au(i,(function(e){ga.apply(void 0,e)}))}var cd=function(e){return{portal_player:"National Portal",lite_portal_player:"National Portal",station_player:"Local Portal",partner_player:"Partner Player",viral_player:"Viral Player",bento_player:"Bento Player"}[e.playerType]},ud=function(e){return{ga_livestream_portal_player:"Livestream National Portal",ga_livestream_partner_player:"Livestream Partner Player"===e?"mediastart":"mediastop"};function pd(e,t,n,r){void 0===r&&(r={});var o={video_player:cd(t),show_title:n.program&&n.program.title||"",video_title:n.title,video_tp_media_id:n.id,video_type:n.videoType,station_localization:t.callsign||"",signed_in_status:t.userId||"",passport_station:n.memberStations[0]||""};"MediaStop"===e&&(o.video_streaming_duration=r.value)}functionm",station_localization:t.stationCallsign||"",ionCallsign||""};"MediaStop"===e&&(r.video_streaming_duration=n.value);var o=dd(e);gtag("event",o,r)}var fd=function(e){var t=e.playerType;return"portal_player"===t||"station_player"===t?"pbsorg":"partnerplayer"},md=function(e,t,n,r){if(t.userId){var o=function(e,t,n){return{url:"/api/users/".concat(t.userId,"/viewing-history/").concat(e.cid,"/"),method:"post",headers:new Headers({"Content-Type"({method:"PUT",platform_slug:fd(t),timecode:Math.round(n)})}}(e,t,n);r&&r.useBeacon?navigator.sendBeacon(o.url,o.body):fetch(o.url,o).then((function(e){if(!e.ok)throw e})).catch((function(e){console.error("There was a problem updating viewing history:",e)}))}};function vd(e,t){void 0!==e.mux&&e.mux(t)}function yd(e,t){void 0!==e.mux&&e.mux(t)}var _d={SET_DURATION_WATCHED:"SET_DURA"SET_FURTHEST_POSITION",SET_STREAM_START_POSITION:"SET_STREAM_START_POSITION"},gd={durationWatched:0,furthestPosition:0,streamStatstener("pagehide",e):window.addEventListener("beforeunload",e)}var jd=function(e){return e.player.progress>30},Ed=Fa((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return ya(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&ra(e[0])&&(e=e[0]),Da(e,r).lift(new zc(n))}(t.pipe(_a((function(e){return e.player.playback})),Ml()),e.pipe(_l(oc.PLAYER_PROGRESS,uc.LIVE_PLAYER_PROGRESS))).pipe(fl((function(e){return"PLAYING"===e[0]})),function(e,t,n){return void 0===t&&(t=Qc),void 0===n&&(n=Xc),function(e){return e.lift(new Jc(500,t,n.leading,n.trailing))}}(),function(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new tu(e,t,n))}}((function(e){return e+1}),-1),_a((function(e){return function(e){return{type:_d.SET_DURATION_WATCHED,payload:{durationWatched:e}}}(e)})))}),(function(e){return e.pipe(_l(oc.PLAYER_PROGRESS,uc.LIVE_PLAYER_PROGRESS),_a((function(e){var t,n=e.payload.timeInfo;return t=(null==n?void 0:n.position)||0,{type:_d.SET_FURTHEST_POSITION,payload:{position:t}}})))}),(function(e){return e.pipe(_l(uc.LIVE_PLAYER_FIRST_FRAME),_a((function(e){return t=e.payload.streamStartPosition||0,{type:_d.SET_STREAM_START_POSITION,payload:{streamStartPosition:t}};var t})))}),(function(e,t,n){var r=n.initMux,o=void 0===r?vd:r;return e.pipe(_l(oc.PLAYER_MOUNT),kl((function(e){var t=e.payload,n=t.context,r=t.video,i=t.player;n&&r&&i&&o(i,function(e,t){var n,r,o=Date.now();return{debug:!1,beaconCollectionDomain:Vu.MUX_CUSTOM_DOMAIN,data:{env_key:Vu.MUX_ENV_KEY,page_type:"iframe",player_init_time:o,player_name:e.playerType,player_software:e.playerFramework,player_software_version:e.playerFrameworkVersion,video_id:t.slug,video_title:"".concat(null===(n=t.program)||void 0===n?void 0:n.titlo_series:null===(r=t.program)||void 0===r?void 0:r.slug}}}(n,r))})),Rl())}),(function(e,t,n){var r=n.initMux,o=void 0===r?yd:r;return e.pipe(_l(uc.LIVE_PLAYER_MOUNT),kl((function(e){var t,n,r=e.payload,i=r.livePlayerContext,s=r.livePlayer;i&&s&&o(s,(t=i,n=Date.now(),{debug:!1,beaconCollectionDomain:Vu.MUX_CUSTOM_DOMAIN,data:{env_key:Vu.MUX_ENV_KEY,page_type:"iframe",player_init_time:n,player_name:t.playerType,player_software:t.playerFramework,player_software_version:t.playerFrameworkVersion,video_id:t.gaLiveStreamFeedCid,video_title:"".concat(t.stationCallsign," Livestream"),video_stream_type:"live"}}))})),Rl())}),(function(e,t,n){var o=n.ga3,i=void 0===o?r:o;return e.pipe(_l(uc.LIVE_PLAYER_MOUNT),kl((function(e){var t=e.payload.livePlayerContext;t&&i.registerLivePlayer(t)})),Rl())}),(function(e,t,n){var o=n.ga3,i=void 0===o?r:o;return e.pipe(_l(oc.PLAYER_MOUNT),kl((function(e){var t=e.payload,n=t.context,r=t.video;n&&r&&i.register(n,r)})),Rl())}),(function(e,t,n){var o=n.ga3,s=void 0===o?r:o,a=n.ga4,l=void 0===a?i:a;return e.pipe(_l(uc.LIVE_PLAYER_FIRST_FRAME),kl((function(e){var t=e.payload.livePlayerContext;t&&(s.livePlayerTrackEvent("MediaStart",t),l.trackLiveEvent("MediaStart",t))})),Rl())}),(function(e,t,n){var o=n.ga3,s=void 0===o?r:o,a=n.ga4,l=void 0===a?i:a;return e.pipe(_l(oc.PLAYER_PLAY),mu(),kl((function(e){var t=e.payload,n=t.context,r=t.video;n&&r&&(s.trackEvent("MediaStart",n,r),l.trackEvent("MediaStart",n,r))})),Rl())}),(function(e,t,n){var o=n.ga3,s=void 0===o?r:o,a=n.ga4,l=void 0===a?i:a,c=n.onExit,u=void 0===c?Hc(bd):c;return e.pipe(_l(uc.LIVE_PLAYER_FIRST_FRAME),kl((function(e){u((function(){var n=e.payload.livePlayerContext,r=t.value,o=Vc(r.liveplayer.progress),i=o-Vc(r.analytics.streamStartPosition);n&&(s.livePlayerTrackEvent("MediaStop",n,{value:i>0?i:0,fieldsObject:{metric1:o}},{useBeacon:!0}),l.trackLiveEvent("MediaStop",n,{value:i>0?i:0}))}))})),Rl())}),(function(e,t,n){var o=n.ga3,s=void 0===o?r:o,a=n.ga4,l=void 0===a?i:a,c=n.onExit,u=void 0===c?Hc(bd):c;return e.pipe(_l(oc.PLAYER_FIRST_FRAME),kl((function(e){u((function(){var n=e.payload,r=n.context,o=n.video,i=t.value,a=Vc(i.player.progress),c=Vc(i.analytics.durationWatched);"COMPLETE"!==i.player.playback&&i.player.duration-i.player.progress>1.2&&r&&o&&(s.trackEvent("MediaStop",r,o,{value:c,fieldsObject:{metric1:a}},{useBeacon:!0}),l.trackEvent("MediaStop",r,o,{value:c}))}))})),Rl())}),(function(e,t,n){var o=n.ga3,s=void 0===o?r:o,a=n.ga4,l=void 0=E),kl((function(e){var n=e.payload,r=n.context,o=n.video,i=t.value,a=Vc(i.player.progress),c=Vc(i.analytics.durationWatched);r&&o&&(s.trackEvent("MediaStop",r,o,{value:c,fieldsObject:{metric1:a}},{useBeacon:!0}),l.trackEvent("MediaStop",r,o,{value:c}))})),Rl())}),(function(e){return e.pipe(_l(oc.PLAYER_FIRST_FRAME),kl((function(e){var t=e.payload,n=t.video,r=t.context,o=e.payload.player;if(n&&o){var i=null==r?void 0:r.viewingHistory[(null==n?void 0:n.id)||0];(function(e,t){var n=t&&t.secondsWatched||0;if(!n)return!1;var r=n/e.duration;return n>30&&r<.95})(n,i)&&i.secondsWatched&&o.currentTime(i.secondsWatched)}})),Rl())}),(function(e,t){var n;return Ma(e.pipe(_l(oc.PLAYER_COMPLETE)),e.pipe(_l(oc.PLAYER_PAUSE),(5e3,void 0===n&&(n=Qc),function(e){return e.lift(new vu(5e3,n))}))).pipe(fl((function(e){var t=e.payload.player;return!gu(t)})),kl((function(e){var n=e.payload,r=n.video,o=n.context,i=t.value;jd(i)&&r&&o&&md(r,o,i.player.progress)})),Rl())}),(function(e,t,n){var r=n.onExit,o=void 0===r?Hc(bd):r;return e.pipe(_l(oc.PLAYER_MOUNT),kl((function(e){var n=e.payload,r=n.video,i=n.context,s=e.payload.player;o((function(){ue;jd(e)&&r&&i&&md(r,i,e.player.progress,{useBeacon:!0})}}))})),Rl())})),Sd={OPEN_TOPBAR_SCREEN:"OPEN_TOPBAR_SCREEN",CLOSE_TOPBAR_SCREEN:"CLOSE_TOPBAR_SCREEN"},wd={screen:"CLOSED"},Cd=function(e){return{type:Sd.OPEN_TOPBAR_SCREEN,payload:{screen:e}}},Ad=Fa((function(e){return e.pipe(_l(Sd.OPEN_TOPBAR_SCREEN),kl((function(e){var t=e&&e.payload&&e.payload.player;t&&!t.paused()&&t.pause()})),Rl())})),Pd={"passport:activate":"gtm-event:Passport,Activate","passport:signin":"gtm-event:Passport,Sign In","passport:learnmore":"gtm-event:Passport,Learn More","continuous-play:hide":"gtm-event:Up Next,Hide Notification","continuous-play:next-active":"gtm-event:Up Next,Next Video Selected","continuous-play:next-passive":"gtm-event:Up Next,Next Video Auto-play"};function xd(e){Fu(Pd[e])}function Td(e){if(!e)return!1;var t="portal_player"===e.playerType||"station_player"===e.playerType,n=e.optiESTED:"CONTINUOUS_PLAY_PAYLOAD_REQUESTED",CONTINUOUS_PLAY_PAUOUS_PLAY_ENABLE_COUNTDOWN:"CONTINUOUS_PLAY_ENABLE_COUNTDOWN",CONTINUOUS_PLAY_EXCLUDE_PASSPORT:"CONTINUOUS_PLAY_EXCLUDE_PASSPORT",CONTINUOUS_PLAY_INCLUDE_PASSPORT:"CONTINUOUS_PLAY_INCLUDE_PASSPORT",CONTINUOUS_PLAY_SEND_COMMAND:"CONTINUOUS_PLAY_SEND_COMMAND"},kd="STANDBY",Od="COUNTDOWN",Ld="CANCELLED",Rd="FETCHED",Id={status:kd,countdownSeconds:void 0,countdownThresholdSeconds:void 0,payloadStatus:"INITIALIZED",payload:void 0,includePassport:!0,isPlayingAd:!1};function Dd(e){return{type:Nd.CONTINUOUS_PLAY_PAYLOAD_FETCHED,payload:{data:e}}}function Md(){return{type:Nd.CONTINUOUS_PLAY_PAYLOAD_FAILED}}function Ud(){return{type:Nd.CONTINUOUS_PLAY_CANCEL_COUNTDOWN}}function Bd(e,t,n){return{type:Nd.CONTINUOUS_PLAY_SEND_COMMAND,payload:{command:t,continuousPlayData:n,passive:e}}}var Fd,Yd=Fa((function(e){return e.pipe(_l(oc.PLAYER_PROGRESS),fl((function(e){var t=e.payload.player;return!gu(t)})),fl((function(e){var t=e.payload,n=t.video,r=t.timeInfo,o=r.position;return r.duration-o<function(e){return"full_length"===e.videoType?40:20}(n)})),mu(),_a((function(e){return Td(e.payload.context)?{type:Nd.CONTINUOUS_PLAY_PAYLOAD_REQUESTED}:null})),fl(Boolean))}),(function(e,t,n){var r=n.getContinuousPlayVideo,o=n.getContinuousPlayVideoPassport;return e.pipe(_l(Nd.CONTINUOUS_PLAY_PAYLOAD_REQUESTED),Oa((function(e){var n=e.payload.context,i=e.payload.video;return Ta(t.value.continuousPlay.includePassport?o(i.slug,n.stationId,n.userId).then((function(e){return Dd(e)})).catch((function(){return Md()})):r(i.slug,n.stationId,n.userId).then((function(e){return Dd(e)})).catch((function(){return Md()})))})))}),()})),fl((function(e){var t,n;return void 0===n&&(n=.15),(t=e.continuousPlay).status===Od&&"number"==typeof t.countdownSeconds&&t.countdownSeconds<n})),mu(),_a((function(e){var t=e.continuousPlay;return Bd(!0,rc,t.payload)})))}),(function(e){return e.pipe(_l(Nd.CONTINUOUS_PLAY_SEND_COMMAND),fl((function(e){return Td(e.payload.context)})),kl((yData;:next-passive":"continuous-play:next-active");var r=JSON.stringify({teducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:Ys.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+Ys.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],d=c(u,t);if(void 0===d){var p=Ws(l,t);throw new Error(p)}o[l]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?o:e}}({player:function(e,t){switch(void 0===e&&(e=ic),t.type){case oc.PLAYER_MOUNT:var n=t.payload,r=n.context,o=n.video,i=n.player;return q(q({},e),{player:i,context:r,video:o});case oc.PLAYER_PLAY:return q(q({},e),{playback:"PLAYING"});case oc.PLAYER_PAUSE:return q(q({},e),{playback:"PAUSED"});case oc.PLAYER_COMPLETE:return q(q({},e),{playback:"COMPLETE"});case oc.PLAYER_ERROR:return q(q({},e),{playback:"ERROR"});case oc.PLAYER_AD_PLAY:return q(q({},e),{playback:"PLAYING"});case oc.PLAYER_AD_PAUSE:return q(q({},e),{playback:"PAUSED"});case oc.PLAYER_PROGRESS:var s=t.payload.timeInfo;return q(q({},e),{progress:s.position,duration:s.duration});default:return e}},liveplayer:function(e,t){switch(void 0===e&&(e=dc),t.type){case uc.LIVE_PLAYER_MOUNT:var n=t.payload,r=n.livePlayer,o=n.livePlayerContext;return q(q({},e),{livePlayer:r,livePlayerContext:o});case uc.LIVE_PLAYER_PLAY:return q(q({},e),{playback:"PLAYING"});case uc.LIVE_PLAYER_PAUSE:return q(q({},e),{playback:"PAUSED"});case uc.LIVE_PLAYER_PROGRESS:var i=t.payload.timeInfo;return q(q({},e),{progress:i.position});case uc.LIVE_PLAYER_ERROR:return q(q({},e),{playback:"ERROR"});case uc.LIVE_PLAYER_COMPLETE:return q(q({},e),{playback:"COMPLETE"});default:return e}},captions:function(e,t){switch(void 0===e&&(e=Pc),t.type){case Ac.LAUNCH_CAPTIONS_MODAL:var n=t.payload.modal;return q(q({},e),{modal:n});case Ac.OPEN_CAPTIONS_SETTINGS:return n=t.payload.modal,q(q({},e),{modal:n,isSettingsOpen:!0});case Ac.CLOSE_CAPTIONS_SETTINGS:n=t.payload.modal;var r=q({},e.playerStyle);return q(q({},e),{modal:n,previewStyle:r,isSettingsOpen:!1});case Ac.CHANGE_CAPTIONS_SETTINGS:return r=q(q({},e.previewStyle),t.payload.previewStyle),q(q({},e),{previewStyle:r});case Ac.SAVE_CAPTIONS_SETTINGS:n=t.payload.modal;var o=q({},e.previewStyle);return q(q({},e),{playerStyle:o,modal:n,isSettingsOpen:!1});default:return e}},analytics:function(e,t){switch(void 0===e&&(e=gd),t.type){case _d.SET_DURATION_WATCHED:var n=t.payload.durationWatched;return q(q({},e),{durationWatched:n||0});case _d.SET_FURTHEST_POSITION:var r=t.payload.position;return(r=r||0)>e.furthestPosition?q(q({},e),{furthestPosition:r}):e;case _d.SET_STREAM_START_POSITION:var o=t.payload.streamStartPosition;return q(q({},e),{streamStartPosition:o||0});default:return e}},topBar:function(e,t){var n;switch(void 0===e&&(e=wd),t.type){case Sd.OPEN_TOPBAR_SCREEN:var r=null===(n=t.payload)||void 0===n?void 0:n.screen;return r?q(q({},e),{screen:r}):q({},e);case Sd.CLOSE_TOPBAR_SCREEN:return q(q({},e),{screen:"CLOSED"});default:return e}},continuousPlay:function(e,t){switch(void 0===e&&(e=Id),t.type)oad.data;return q(q({},e),{payloadStatus:Rd,payload:n});case Nd.CONTINUOUS_PLAY_PAYLOAD_FAILED:return q(q({},e),{payloadStatus:"FAILED"});case Nd.CONTINUOUS_PLAY_CANCEL_COUNTDOWN:return q(q({},e),{status:Ld});case Nd.CONTINUOUS_PLAY_ENABLE_COUNTDOWN:return q(q({},e),{status:e.status===Od?Od:kd});case Nd.CONTINUOUS_PLAY_EXCLUDE_PASSPORT:return q(q({},e),{includePassport:!1});case Nd.CONTINUOUS_PLAY_INCLUDE_PASSPORT:return q(q({},e),{includePassport:!0});case oc.PLAYER_AD_PLAY:return q(q({},e),{isPlayingAd:!0});case oc.PLAYER_AD_COMPLETE:return q(q({},e),{isPlayingAd:!1});case oc.PLAYER_TIME:if(e.payloadStatus!==Rd)return q({},e);var r=t.payload,o=r.timeInfo,i=r.video,s=o.position,a=o.duration,l=e.countdownThresholdSeconds||function(e){return"full_length"===e.videoType?30:10}(i),c=a-s<l+0,u=e.status!==Ld?c?Od:kd:e.status,d=(u=e.isPlayingAd?kd:u)===Od?Math.round(a-s)-0:e.countdownSeconds;return q(q({},e),{status:u,countdownThresholdSeconds:l,countdownSeconds:d});default:return e}}}),Hd={player:q({},ic),liveplayer:q({},dc),captions:(Fd=Vl(wc),q(q({},Pc),Fd)),analytics:q({},gd),topBar:q({},wd),continuousPlay:q({},Id)},Wd=Fa(cc,hc,Ic,Ed,Ad,Yd),qd=q(q(q(q(q(q({},oc),uc),Ac),_d),Sd),Nd),Gd=function(){return function(e){return function(t){return t&&t.type&&!zr(t)||Ze("Encountered an invalid action ".concat(t),"error"),e(t)}}},$d=function(e){return function(t){return function(n){if(!qd[n.type])return t(n);var r=e.getState(),o=n;if(window.livePlayerContextBridge){var i=r.liveplayer.livePlayer,s=r.liveplayer.livePlayerContext;o.payload=o.payload||{},o.payload.livePlayer=o.payload.livePlayer||i,o.payload.livePlayerContext=o.payload.livePlayerContext||s}else{var a=r.player,l=a.player,c=a.video,u=a.context;o.pVTOOLS_EXTENSION_COMPOSE__({actionSanitizer:function(e){return q(q({},e),{prn q(q({},e),{deo","context","player"]),liveplayer:Us(e.liveplayer,["livePlayerContext","livePlayer"])})}})||Ks,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?argumentsbe(r.dispatch),function(e){return function(t){var n=e(t);return s.next(r.getState()),i.next(t),n}}};return o=e,.__c.setS,7);re(function(__e(t,e.__v)}})),Zd=[]}s.__b=function(e){Qd=nullction(e,t){t.some((function(e){try{e.__h.forEach(mp),e.__h=e.__h.filter((function(e){return!e.__||vp(e[],s.__e(n,e.__v)}}.__.forEach(mp)}catch(e){s.__e(e,t.__v)}};var fp="function"==typeof requestAnimationFram&&e.__c(),Qd=t}function vp(en yp(}))}function _p(e,t)etunt=!0,jp.prototype.should=t;o=o.__;)if((r=o.__c)&&r.__c)rete=n.__e,t.__k=n.__k),t.__c..delete(t),e.props.rev.getChildContext=funn,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:functiction(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),U(v(kp,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function Lp(e,t){return v(Op,{__v:e,i:t})}(Tp.prototype=new g).__e=function(e){var t=thlOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return efor("react.element")||60103,Ip=/^(?:accent|alignment|arabic|baseline|ca?!R)|ho|writing|x(?!C))[A-Z]/,Dp=functeof Symbol&&"symbol"="value":"download"/i.test(o)?o="ondblclick":/^onchange(textarea|input)/TraIp.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i)}"select"==t&&r.multipl(r.value=A(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))-1!=r.defaultValue.inderops=r}t&&n.class!=n.classNalass=n.className),Object.defineProperty(r,"clas&&qp(e),Vp=e.__c};var Gtext:function(e){return Vp.__n[e.__c].props.vap,useDebugValuuseDebugValueydrate:funion"==typeof n&&n(),e?e.__c:null},unmount},createPortal:Lp,createElement:v,is.sub=func){return $p(e)?F.apply(null,arguments):e},createRef:function(){return{curprops.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r}function r(t){return this.shouldComponentUpdate=n,v(ion(){returon(e){var t=e.store,n=e.context,r=e.children,o=dp((function(){var e=new eh(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=dp((function(){return t.getState()}),[t]);lp((function(){var e=o.subscription;return e.trySubscribe(),i!==sta=o("./node_modules/react-is/index.js"),ah="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?cp:lp,lh=[],ch=[null,null];function uh(e,t){var n=e[1];return[t.payload,n+1]}function dh(e,t,n){ah((function(){return e.apply(void 0,t)}),n)}function ph(e,t,n,r,o,i,s){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,s())}function hh(e,t,n,r,o,i,s,a,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,n,p=t.getState();try{e=r(p,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?s.current||l():(i.current=e,a.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=nulction(){return[null,0]};ctAdvanced("+e+")"}:r,i=n.methodNteChanges,u=void 0===c||c,d=n.storeKey,p=void 0===d?"store":d,h=(n.withRef,n.forwardRef),f=void 0!==h&&h,m=n.context,v=void 0===m?Qp:m,y=rh(n,["getDateChanges",t",r=o(n),i=nh({},y,{getDisplaleStateChanges:u,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:t}),a=y.pure,c=a?dp:functionwardedRef,t=rh(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),o=r[0],sh.isContextConsumerean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store)ch,i)}(h)}),[h]),m=dp((function(){if(!u)return ch;var e=new eh(h,p?null:d."object"!=typeof t||null===t)return!1;var n=Object.keys(e)returur.dependsq?jh:s,l=t.mergePropsFactories,c=void 0===l?wh:l,u=t.selectorFactory,d=void 0===u?Ph:u;return function(e,t,n,o){void 0===o&&(o={});var s=o,l=s.pure,u=void 0===l||l,p=s.areStatesEqual,h=void 0===p?Th:p,f=s.areOwnPropsEqual,m=void 0===f?yh:f,v=s.areStatePropsEqual,y=void 0===v?yh:v,_=s.areMergedPropsEqual,g=void 0===_?yh:_,b=rh(s,["pure","areStatesEqual","areOwnPropsEqual","areStatmapDispatchToProps"),S=xh(n,c,"mergeProps");return r(d,nh({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:j,initMapDispatchToProps:E,initMergeProps:S,pure:u,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:g},b))}}const kh=Nh();Xp=zp;var Oh=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.controlText("Rewind 10 Seconds"),r}return W(t,e),t.prototype.buildCSSClass=function(){return"vjs-pbs-back-10 ".concat(e.prototype.buildCSSClass.call(this))},t.prototype.handleClick=function(){var e=this.player().currentTime();this.player().currentTime(e-10)},t}(Tl().getComponent("Button")),Lh=function(e){function t(t,n){return e.call(this,t,n)||this}return W(t,e),t}(Tl().getComponent("Spacer")),Rh=Tl().getComponent("PlaybackRateMenuButton"),Ih=Tl().getComponent("PlaybackRateMenuItem"),Dh=Tl().getComponent("Menu"),Mh=Tl().getComponent("MenuItem"),Uh=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.controlText("Set Playback Speed"),r}return W(t,e),t.prototype.handleClick=function(){this.selected(!0),this.player().playbackRate(this.rate)},t}(Ih);Tl().registerComponent("PlaybackSpeedItem",Uh);var Bh=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Rh.call(r,t,n),r.controlText("Playback Speed Menu"),r.removeClass("vjs-hidden"),r}return W(t,e),t.prototype.buildCSSClass=function(){return"vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-showing"},t.prototype.playbackRates=function(){return this.player().options_.playbackRates||[]},t.prototype.createMenu=function(){var e=new Dh(this.player()),t=this.playbackRates(),n=new Mh(this.player(),{label:"Playback Speed",selectable:!1,multiSelectable:!1});if(n.addClass("vjs-menu-title"),n.removeClass("vjs-menu-item"),e.addChild(n),t)for(var r=t.length-1;r>=0;r--)e.addChild(new Uh(this.player(),{multiSelectable:!1,selectable:!0,rate:t[r]+"x"}));return e},t}(Rh),Fh=Tl().getComponent("MenuItem"),Yh=Tl().getComponent("MenuButton"),Vh=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.controlText("Select Chapter"),o.chapterStartTime=r,o}return W(t,e),t.prototype.handleClick=function(){this.selected(!0),this.deselectOtherItems(this.chapterStartTime),void 0===this.chapterStartTime&&(this.chapterStartTime=0),this.player().currentTime(this.chapterStartTime)},t.prototype.deselectOtherItems=function(e){var t=this.player().getChild("controlBar");if(t){var n=t.getChild("ChapterSelectorButton");if(n){var r=n.menu.children_;for(var o in r){var i=r[o];e!==i.chapterStartTime&&i.selected(!1)}}}},t}(Fh);Tl().registerComponent("ChaptersMenuItem",Vh);var Hh=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.chapterMarkers=r,Yh.call(o,t,n),o.controlText("Chapters Menu"),o.addClass("vjs-chapter-selector"),o}return W(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapter-selector ".concat(e.prototype.buildCSSClass.call(this))},t.prototype.createItems=function(){var e=this,t=this.chapterMarkers,n=new Fh(this.player(),{label:"Chapters",selectable:!1});return n.addClass("vjs-menu-title"),n.removeClass("vjs-menu-item"),t?K([n],t.map((function(t,n){var r,o=t.text||"";return o=""===o?(n+1).toString():/^\d+\.$/.test(r=o)?r.slice(0,-1):r,new Vh(e.player(),{label:o,selectable:!0,multiSelectable:!1},t.time)})),!0):[n]},t}(Yh),Wh=o("./node_modules/qs/lib/index.js");function qh(e,t){var n=Wh.stringify(function(e,t){var n=function(e){var t=e.progserAdMode()?e.ads.isContentResuming()?(Xh(0,t),e.trigger("resumeended")):Jh(e,"ad",t):e.ads._contentHasEnded||e.ads.stitchedAds()||(Jh(e,"content",t),e.trigger("readyforpostroll"))}(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loype&&!e.ads._hasThereBeenALoadedDon(e,t){e.ads.inAdBreak()?Jh(e,"ad",t):e.ads.isContentResuming()&&Jh(e,"contentInAdMotenfor(var t,n=$h(),r={};n;){try{if(n.frames.__tcfapiLocator){t=n;break}}return;$h().__tcfapi=function(e,n,o,i){var s=Math.random()+"",a={__tcfapiCall:{command:e,parameter:i,version:n,callId:s}};r[s]=o,t.postMessage(a,"*")},$h().addEventListener("message",(function(e){var t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}var n=t.__tcfapiReturn;n&&"function"==typeof r[n.callId]&&(r[n.callId](n.returnValue,n.success),r[n.callId]=null)}),!1)}}(),"function"==typeof $h().__tcfapi&&$h().__tcfapi("addEventListener",2,(function(e,t){t&&(ef=e)}))},nf=function(e,t){return t?encodeURIComponent(e):e},rf=function(e,t,n){if(e&&e[n])for(var r=e[n],o=Object.keys(r),i=0;i<o.length;i++)t["{mediainfo."+n+"."+o[i]+"}"]=r[o[i]]};function of(e,t,n){var r=this,o={};e=e.replace(/{([^}=]+)=([^}]+)}/g,(function(e,t,n){return o["{"+t+"}"]=n,"{"+t+"}"})),void 0===t&&(t=!1);var i={};for(var s in void 0!==n&&(i=n),i["{player.io.id:"",i["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",i["{mediainfo.duration}"]=this.mi["{player.duration}"]=this.duration(),i["{player.pageUrl}"]=Tl().dom.isInFrame()?Kh().referrer:$h().location.href,i["{playlistinfo.id}"]=this.playlistinfo?this.playlistinfo.id:"",i["{playlistinfo.name}"]=this.playlistinfo?this.playlistinfo.name:"",i["{timestamp}"]=(new Date).getTime(),i["{document.referrer}"]=Kh().referrer,i["{window.location.href}"]=$h().location.href,i["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach((function(e){r.mediainfo&&r.mediainfo[e]?i["{mediainfo."+e+"}"]=r.mediainfo[e]:o["{mediainfo."+e+"}"]?i{tcf.gdprAppliesInt}"]=ef.gdprApplies?1:0,i)e=e.split(var a in e=e.rep}]+)}/g,(h(),]]:ariable "'+n+'" is not a supported type'),""):nf(String(r),t)})),o)e=e.replace(a,o[a]);return e}var sf={processMetadataTracks:function(e,t){for(var n=e.textTracks(),r=function(n){"metadata"===n.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(n),t(e,n))},o=0;o<n.length;o++)r(n[o]);n.addEventListener("addtrack",(function(e){r(e.track)}))},setMetadataTrackMode:function(e){},getSupportedAdCue:function(e,t){return t},isSupportedAedCues[t]},lf=function(e,t){void 0!==t&&""!==t&0)};functocessAdTrack=function(e,t,n,r){e.ads.includedCues={};for(var o=0;o<t.length;o++){var i=t[o],s=this.getSupportedAdCue(e,i);if(!this.isSupportedAdCue(e,i))return void Tl().log.warn("Skipping as this is not a supported ad cue.",i);var a=this.getCueId(e,i),l=i.startTime;if(af(e,a))return void Tad already seen with ID "+a);r&&r(e,s,a,l),n(e,s,a,l),lf(e,a)}};urn e.ads.debug(k content middleware.TERMINATOR},play:function(t,nuf.testHook=function(e){df=e};var pf=uf.playMiddleware,hf=uf.isMiddlewareMediatorSupported,ff=function(){function e(){}return e.getState=function(t){if(t)return e.states_&&e.states_[t]?e.states_[t]:void 0},e.registerState=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal state name, "'+t+'"; must be a non-empty string.');return e.states_||(e.states_={}),e.states_[t]=n,n},e}(),mf=funn"Anonymous State"};var t=e.prototype;return t.transitionTo=function(e){var t=this.player;this.cleanup(t);var n=new e(t);t.ads._state=n,t.ads.debug(this.constructor._getName()+" -> "+n.constructor._getName());for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];n.init.apply(n,[t].concat(o))},t.init=function(){},t.cleanup=function(){},t.onPlay=function(){},t.onPlaying=function(){},t.onEnded=function(){},t.onAdEnded=function(){},n(){},t.onAdsCanceled=function(){},t.onAdTimeout=function(){},t.onAdStarted=function(){},t.onContentChanged=function(){},t.onConten)},t.,t.isWaitingForAdBreak=function(){rtroll"===e?this.onNoPostroll(t):"adended"=Playback");this.contentResuming&&this.transitionTo(e)},n.onContentResumed=function(){var e=ff.getState("ContentPlayback");this.contentResuming&&this.transitionTo(e)},n.isWaitingForAdBreak=fun=function(){return this.contentResuming},n.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},t}(mf);ff.registerState("AdState",yf);var _f=function(e){function t(){return e.apply(this,arguments)||this}vf(t,e);var n=t.prototype;return n.isAdState=function(){return!1},n.onContentChanged=function(e){var t=ff.getState("BeforePreroll"),n=ff.getState("Preroll");e.ads.debug("Received contentchanged event (ContentState)"),e.paused()?this.transitionTo(t):(this.transitionTo(n,!1),e.pause(),e.ads._pausedOnContentupdate=!0)},t}(mf);ff.registerState("ContentState",_f);var gf,bf=function(e){function t(){return e.apply(this,arguments)||this}vf(t,e),t._getName=function(){return"AdsDone"};var n=t.prototype;return n.init=function(e){e.ads._contentHasEnded=!0,e.trigger("ended")},n.startLinearAdMode=function(){Tl().log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},t}(ff.getState("ContentState"));ff.registerState("AdsDone",bf);var jf=function(e){e.ads.debug("Starting ad break"),e.ads._inLinearAdMode=!0,e.trigger("adstart"),e.ads.shouldTakeSnapshots()&&(e.ads.snapshot=function(e){var t;t=Tl().browser.IS_IOS&&e.ads.isLive(e)&&e.seekable().length>0?e.currentTime()-e.seekable().end(0):e.currentTime();var n=e.$(".vjs-tech"),r=e.textTracks?e.textTracks():[],o=[],i={ended:e.ended(),currentSrc:e.currentSrc(),sources:e.currentSources(),src:e.tech_.src(),currentTime:t,type:e.currentType()};n&&(i.style=n.getAttribute("styl.mode}),a.mode="disabled"}return i.suppressedTracks=o,i}(e)),e.ads.shouldPlayContentBehindAd(e)&&(e.ads.preAdVolume_=e.volume(),e.volume(0)),e.addClass("vjs-ad-playing"),e.hasClass("vjs-live")&&e.removeClass("vjs-live"),e.ads.removeNativePoster()},Ef=function(e,t){e.ads.debug("Ending ad break"),void 0===t&&(t=function(){}),e.ads.adType=null,e.ads._inLinearAdMode=!1,e.trigger("adend"),e.removeClass("vjs-ad-playing"),e.ads.isLive(e)&&e.addClass("vjs-live"),e.ads.shouldTakeSnapshots()?function(e,t){var n=e.ads.snapshot;if(void 0===t&&(t=function(){}),!0===e.ads.disableNextSnapshotRestore)return e.ads.disableNextSnapshotRestore=!1,delete e.ads.snapshot,void t();var r,o=e.$(".vjs-tech"),i=20,s=n.suppressedTracks,a=function(){for(var e=0;e<s.length;e++)(r=s[e]).track.mode=r.mode},l=function(){var t;if(Tl().browser.IS_IOS&&e.ads.isLive(e)){if(n.currentTime<0&&(t=e.seekable().length>0?e.seekable().end(0)+n.currentTime:e.currentTime(),e.currentTime(t)),e.paused()){var r=e.play();r&&.warn("Play promise rejected in IOS snapshot resume",e)}))}}else if(n.ended)e.currentTime(e.duration());else{e.currentTime(n.currentTime);var o=e.play();o&&o.catch&&o.catch((function(e){Tl().log.warn("Play promise rejected in snapshot resume",e)}))}e.ads.shouldRemoveAutoplay_&&(e.autoplay(!1),e.ads.shouldRemoveAutoplay_=!1)},c=function t(){if(e.off("contentcanplay",t),gf&&e.clearTimeout(gf),(o=e.el().querySelector(".vjs-tech")).readyState>1)return l();if(void 0===o.seekable)return l();if(o.seekable.length>0)return l();if(i--)e.sRemoveAutoplay_=!0),e.src(n.sources),e.one("contentcanplay",c),gf=e.setTimeout(c,2e3);else{if(a(),!e.ended()){var u=e.play();u&&u.catch&&u.catch((function(e){Tl().log.warn("Play promise rshot,t()}}(e,t):(is.waitingFolTimeout&&(r=e.adsction(e){e.ads.idleAdsReady())},n.handleAdsReady=function(){this.adsReady=!0,this.readyForPreroll()},n.afterLoadStart=function(e){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife?e():(t.ads.debug("Waiting for loadstart..."),t.one("loadstart",(function(){t.ads.debug("Received loadstart event"),e()})))},n.noPreroll=function(){var e=this;this.afterLoadStart((function(){e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),e.resumeAfterNoPreroll(e.player)}))},n.readyForPreroll=function(){var e=this.player;thi t=this;e.ads.debug("adscanceled (Preroll)"),this.afterLoadStart((function(){t.resumeAfterNoPreroll(e)}))},n.onAdsError=function(e){var t=this;Tl().log("adserror (Preroll)"),th,n.startLinearAdMtartLinearAdMode invocation (Preroll)"):(this.clearTimeout(e),e.ads.adType="preroll",this.waitingForAdBreak=!1,jf(e),e.ads._shouldBlockPlay=!1)},n.onAdStarted=functit.trigger("adskip"),t.ads.debug("skipLinearAdMode (Preroll)"),e.resumeAfterNoPreroll(t)}))},n.onAdTimeout=function(e){var t=this;this.afterLoadStart((function(){e.ads.debug("adtimeout (Prerol().log.warn("UmeAfterNoPreroll=function(e){if(this.contentResuming=!0,e.ads._sh.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},n(BeforePreroll)"),this.shouldResumeToContent=!0},n.onContentChanged=function(){this.init(this.player)},t}(ff.getState("ContentState"));ff.registerState("BeforePreroll",wf);var Cf=function(e){function t(){veClass("vjs-ad-loading"),Ef(e))},n.onAdsError=function(e){this.inAdBreak()&&e.ads.endLinearAdMode()},n.cleanup=function(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming")},t}(ff.getState("AdState"));ff.registerState("Midroll",Cf);var Af=function()||this}vf(t,e),t.);var t=ff.getState("AdsDone");this.transitionTo(t)}else{e.addClass("vjs-ad-loading");var n=e.ads.settings.timeout;"number"==typeof e.ads.settings.postrollTimeout&&(n=e.ads.settings.postrollTimeout),this._postrollTimeout=e.setTimeout((function(){e..player;e.adsads.adType="postrolthis.player,n=ff.getState("AdsDone");this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),this.resumeContent(t),Ef(t,(function(){e.transitionTo(n)})))},n.skipLesuming(("adskip")ction(e){e.ads.debug("Postroll abort (adserror)"),e.ads.inAdBreak(=function(e){e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._ed readyforpreroll event (ContentPlayback)"),e.trigger("readyforpreroll"))},n.onRea=function(){this.player.ads.debug("Received contentchanged event ("+this.constructor._getName()+")")},n.startLinearAdMode=function(){var e=ff.getState("StitchedAdRoll");this.transitionTo(e)},t}(ff.getState("ContentState"));ff.registerState("StitchedContentPlayback",xf);var Tf=function(e){function t(){return e.apply(this,arguments)||this}vf(t,e),t._getName=function(){return"StitchedAdRoll"};var n=t.prototype;return!1,this.contentResuming=!1,this.player.ads.adType="stitched",jf(this.player)},n.onPlaying=function(){},n.onContentResumed=function(){},n.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},n.endLinearAdMode=function(){var e=ff.getState("StitchedContentPlayback");Ef(this.player),this.transitionTo(e)},t}(ff.getState("AdState"));ff.registerState("StitchedAdRoll",Tf);var Nf=uf.isMiddlewareMediatorSupported,kf=Tl().getTech("Html5").Events,Of={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0,allowVjsAutoplay:Tl().options.normalizeAutoplay||!1},Lf=function(e){var t=this,n=Tl().mergeOpon(e){-1===r.indexOf(e)&&r.pt&&Tl().log("Using cancelContentPlay to block content playback"),e.on("play",cf)}(t,n.debug),t.setTimeout((function(){t.ads._hasThereBeenALoadStartDuringPlayerLife||""===t.src()||Tl().log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediatelysome media events o/videojs-contrib-ads/integrator/getting-started.html")}),5e3),t.on("ended",(function(){t.hasClass("vjs-has-started")||t.addClass("vjs-has-started")})),t.on("contenttimeupdate",(function(){t.removeClass("vjs-waiting")})),t.ont.ads.settings.stitchedAds&&!t.hasStarted()&&(!t.ads.snapshot||t.currentSrc()!==t.ads.snapshot.currentSrc)&&t.ads.inAdBreak()){var e=t.play();e&&e.catch&&e.catch((function(e){Tl().log.warn("Play promise rejected when playing ad",e)}))}})),t.on("nopreroll",(function(){t.ads.debug("Received nopreroll t.on("loadeddata",(function(){t.ads._hasThereBeenALoadedData=!0})),t.on("loadedmetadata",(function(){t.ads._hasThereBeenALoadedMetaData=!0}hotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:Qh,reset:functio_playBlocked=!1,e.ads.nopreroll_=!1,e.ads.nopostroll_=!1,e.ads._playRequested=!1},startLinearAdMode:function(){e.ads._state.startLinearAdMode()},endLinearAdMode:function(){e.ads._state.endLinearAdMode()},skipLinearAdMode:function(){e.ads._state.skipLinearAdMode()},stitchedAds:function(e){return void 0!==e&&(Tl().log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),tads.shouldPlayContentBehindAd(e))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var t=e.tech_.src()!==this.snapshot.src,n=e.currentSrc()!==this.snapshot.currentSrc;return t||n},isLive:function(t){return void 0===t&&(t=e),"boolean"==typeof t.ads.settings.conten).browser.IOS_VERSION&&0===t.duration()},shouldPlayContentBehindAd:function(t){if(void 0===t&&(t=e),t)return!!t.ads.settings.liveCuePoints&&!Tl().browser.IS_IOS&&!Tl().browser.IS_ANDROID&&t.duration()===1/0;throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function(t){return void 0===t&&(t=e),!this.shouldPlayContentBehindAd(t)&&!this.stitchedAds()},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:r e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&"string"==typeof t[0]?Tl().log("ADS: "+t[0]):Tl().log.apply(Tl(),["ADS:"].concat(t))}}}}(t),t.ads.settings=n,n.stitchedAds=!!n.stitchedAds,n.stitchedAds?t.ads._state=new(ff.getState("StitchedContentPlayback"))(t):t.ads._state=new(fds.cueTextTracks=sf,t.ads.adMacroReplacement=of.bind(t),function(e){e.ads.contentSrc=e.currentSrc(),e.ads._seenInitialLoadstart=!1,e.on("loadstart",(function(){if(!e.ads.inAdBreak()){var t=e.currentSrc();t!=t&&e.trigger({typetSrc,newValue:t}),e.ads.contentSrc=t),e.ads._seenInitialLoadstart=!0}}))}(t),t.on("contentchanged",t.ads.reset);var o=function(){var e=t.textTracks();if(!t.ads.shouldPlayContentBehindAd(t)&&t.ads.inAdBreak()&&t.tech_.featuresNativeTextTracks&&Tl().browser.IS_IOS&&!Array.isArray(t.textTracks()))for(var n=0;n<e.length;n++){var r=e[n];"showing"===r.mode&&(r.mode="disabled")}};t.ready((function(){t.textTracks().addEventeking:!1,duration:0},this.vjsPlayended",this.boundContentEndedLisadyForPreroll.bind(this)),thiunction(){this.updateTimeInte.bind(this),this.resizeCheckInterval)}iousTime=this.vjsPlayer.currentTime()},Rf.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeChecklayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var treroll()},Rf.prototype.onAdTimeoutyerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getEleme&&this.controller.setSeFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumePlayerReady()},Rf.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},Rf.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},Rf.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},Rf.prototyme(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},Rf.prototype.unmute=function(){this.vjsPlayer.muted(!1)},Rf.prototype.mute=function(){this.vjsPlayer.muteyer.paused()?this.vjsPlayer.play():this.vjsPlayer.pause()},Rf.prototype.getPlayerWidth=function(){var e=(getClayer.width()},Rf.prodingClientRect()||{}).heightr.exitFullscreen():this.vjw();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,ion(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currenon(){this.vjsPlayer.on("contents.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},Rf.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},Rf.prototypeadsreadiv=document.createElement("div"urrentTime:0,duration:0,isPond(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"iDiv.appendChild(this.count,this.controlsDiv.appendChfullscreenDiv),this.seekllscreen()},If.protoontrols()},If.protPlaying=!0,this.addClass(this.playPauses=Math.floor(t%60);s.toString().length<2&&(s="0"+s);var a=": ";o>1&&(a=" ("+r+" "+Div.style.width=l+"%"},If.ddEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1lume(e)},If.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},If.prototype.changeVolume=function(e){var t=(e.this.addClass(this.muteDivlay="block"},If.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},prototype.reset=function(){this),"application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsLinear())&&this.hideAdContainer(),pe.onNonLinearAdLoad=functionlinear=!0},If.prototype.onPscreen"),this.removeClass(this.fullscis.addClass(this.fullscreenD")},If.prototype.onPlayerVolued"),this.removeClass(yle.width="0%"):(this.addrLevelDiv.style.width=100*e+"%")},If.prototype.showAdControls=function(){this.controller.getSettingsdControls=function(){this.removeClass(this.controlsDiv,"ima-controltypimensions={width:0,height:0s().locale),this.controlMode.DOMAIN]=t.DOMAIN),t.LIMITEDnAdComplete.bind(this)),this.aOG,this.onAdLog.bind(this)),.controller.getSettings().preventLateAdSdsManager.destroy()},Mfis.adsManager.init(e,t,googlVolume(this.controller.getPlayerVolumcreateAdsRenderingSettings=function(){ngSettings.restoreCustomPlaybacings)for(var e in this.cettings().adsRenderingSet},Mf.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},Mf.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,thison(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},Mf.prototype.onAllAdsCompleterval(this.onAdPlayheadTrackerIerval(this.adTrackingTimer)},Mr){var e=this.adsManager.getRemainingr.onAdPlayheadUpdated(n,e,t,o,r)}},Mf.prototype.onContentComplete=function(){this.adsis.controller.onNoPostroll(),this.allrInterval(this.adTrackingTimer),thisdsManager();try{this.controller.shohis.adsManager.start()}catch.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.g()},Mf.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},Mf.prototype.onPlayerExitFullscreen=function(){.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},Mf.prototype.osManager.setVolume(e),tthis.adsManager&&(this.adsManagerDimensionurrentAd},Mf.prototype.sereturn this.adMuted},Mf.prototprototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},Mf.pror&&(thi&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.||navigator.userAgent.match(/Android/i),teout},r=this.extend({},n,t.contribAdsSettings||{});this.playerWrapper=new Rf(e,r,this),this.adUi=new If(this),this.sdkImpl=new Mf(this)};Uf.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},Uf.prototype.initWithSettings=function(e){this.settings=this.extend({},Uf.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},Uf.prototype.warnAboutDeprecatedSettings=function(){var e=this;["adWillAutoplay",","adsWillPlayMuted"].forEach((function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")s=function(){return this.is},Uf.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},Uf.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},Uf.prototype.requestAds=function(){this.sdkImpl.requestAds()},Uf.prototype.setSetting=function(e,t){this.settings[e]=t},Uf.prototype.onErrorLoadingAds=function(e){this.adUi.onAdtion(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},Uf.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},Uf.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},Uf.prWrapper.getVolume()},Uf.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},Uf.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},Uf.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},Uf.prototype.showAdContainer=function(){this.adUi.showAdContainer()},Uf.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},Uf.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},Uf.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},Uf.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},Uf.prototype.onAdPlayheadUpdated=function(e,t,n,r,o){this.adUi.updateAdUi(e,t,n,r,o)},Uf.prototype.onAdLog=function(e){this.playerWrapper.onAdLog(e)},Uf.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},Uf.prototype.playContent=function(){this.playerWrapperhis.adUi.onNonLinearAdLoad()},ayerWrapper.onAdStart()},Uf.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},Uf.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},Uf.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},Uf.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},Uf.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},Uf.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},Uf.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},Uf.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},Uf.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},Uf.prototype.onAdTimeout=function(){this.sdkImpl.onAdfunction(){this.adUpe.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},Uf.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},Uf.prototype.setContentWithAdTag=function(e,t){this.reset(),this.settings.adTagUrsettings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e)},Uf.prototype.setContentWithAdsRequest=function(e,t){this.reset(),this.settings.adsRequest=t||this.settings.adsRequest,this.playerWrapper.changeSource(e)},Uf.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset(),this.adUi.reset()},Uf.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndetener=function(e){this.contentAndAdsEndedListeners.push(e)},Uf.prototype.setAdBreakReadyListener=functitShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.adUi.countdownDiv.styl)},Uf.prototype.addEventListenype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},Uf.prototype.resumeAd=function(){this.Autopla.initializeAdDisplayContainer()}.bind(thisller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t){this.controller.setContentWithAdTag(e,t)}.bind(this),this.setContentWithAdsResponse=function(e,t){this.controller.setContentWithAdsResponse(e,t)}.bind(this),this.setContentWithAdsRequest=function(e,t){this.controller.setContentWithAdsRequest(e,t)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)};(Tl().registerPlugin||Tl().plugin)("ima",(function(e){this.ima=new Bf(this,e)}));var Ff=function(e){function t(t){var n=e.call(this,t)||this;return n.player=void 0,n.videoNode=void 0,n}return W(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.mounted,n=e.video,r=e.context,o=this.props,i=(o.children,G(o,["children"]));this.videoNode&&(this.player=Tl()(this.videoNode,i,(function(){t&&t()})),(null==n?void 0:n.hasDrm)&&"function"==typeof this.player.eme&&this.player.eme());var s=n&&r&&function(e,t,n){return void 0===n&&(n=Vu),!e.canPlayPreroll||n.DEV||t.options.unsafeDisablePromo?void 0:{id:ql,adTagUrl:qh(t,e),adLabel:"Message",showCountdown:!0,debug:!1}}(n,r);this.player&&void 0!==this.player.ima&&s&&this.player.ima(s)},t.prototype.componentWillUnmount=function(){this.player&&this.player.dispose()},t.prototype.render=function(){var e=this,t=this.props.context,n="station_player"===(null==t?void 0:t.playerType) lite-portal-player":"",o="vjs-pbs video-js vjs-big-play-centered".concat(n).concat(r);return v("video",{id:ql,ref:function(t){return e.videoNode=t},className:o,playsInline:!0})},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t}(g));const Yf=Ff;var Vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.modalContainer;if(n)return v("div",null,Lp(t,n))},t}(g),Hf=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.getChild("CloseButton");return o&&o.hide(),r}return W(t,e),t}(Tl().getComponent("ModalDialog"));function Wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been nent("CustomModalDialog",Hf);var qf=function e(t){var n=this;if(Tl().browser.IS_IE8)for(var r in n=Kh().createElement("custom"),e.prototype)"r t,n;function r(){vadIndex_}}),Object.defibject.creaar o=r.prototype;return o.addQualityLevel=function(e){var t=this.getQualityLevelById(e.id);if(t)return t;var n=this.levels_.length;return t=new qf(e),""+n in this||Object.defineProperty(this,n,{get:function(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t},o.remove++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t},o.getQualityLevelById=function(e){for(var t=0,n=this.length;t<n;t++){var r=this[t];if(r.id===e)return r}return null},o.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},r}(Tqualitylevel:"addqu"removequalitylevel"},Gf.prototype.allowedEvents_)Gf.prototype["on"+$f]=null;var zf="2.0.9",Kf=function(e){return t=this,Tl().mergeOptions({},e),n=t.qualityLevels,r=new Gf,t.on("dispose",(function e(){r.dispose(),t.qualityLevels=n,t.off("dispose",e)})),t.qualityLevels=function(){return r},t.qualityLevels.VERSION=zf,r;var t,n,r};(Tl().registerPlugin||Tl().plugin)("qualityLevels",Kf),Kf.VERSION=zf;var Qf={},Xf={},Jf=Tl().registerPlugin||Tl().plugin,Zf=function(){function e(e,t){return this.player=e,this.options=t,this.initializeThumbnails(),this.registeredEvents={},this.progressBar=null,this.vttData=[],this.lastStyle=null,this}return e.prototype.src=function(e){this.resetPlugin(),this.options.src=e,this.initializeThumbnails()},e.prototype.detach=function(){this.resetPlugin()},e.prototype.resetPlugin=function(){this.thumbnailHolder&&this.thumbnailHolder.parentNode&&this.thumbnailHolder.parentNode.removeChild(this.thumbnailHolder),this.progressBar&&(this.progressBar.removeEventListener("mouseenter",this.registeredEvents.progressBarMouseEnter),this.progressBar.removeEventListener("mouseleave",this.registeredEvents.progressBarMouseLeave),this.progressBar.removeEventListener("mousemove",this.registeredEvents.progressBarMouseMove)),delete this.registeredEvents.progressBarMouseEnter,delete this.registeredEvents.progressBarMouseLeave,delete this.registeredEvents.progressBarMouseMove,delete this.progressBar,delete this.vttData,delete thtype.initializeThumbnails=function(){var e=this;if(this.options.src){var t=this.getBaseUrl(),n=this.getFullyQualifiedUrl(this.options.src,t);this.getVttFile(n).then((function(t){e.vttData=e.processVtt(t),e.vttData.length>0&&e.setupThumbnailElement()}))}},e.prototype.getBaseUrl=function(){return[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.location.port:"",window.location.pathname].join("").split(/([^/]*)$/gi).shift()||""},e.prototype.getVttFile=function(e){var t=this;return new Promise((function(n){var r=new XMLHttpRequest;r.data={resolve:n},r.addEventListener("load",t.vttFileLoaded),r.open("GET",e),r.overrideMimeType("text/plain; charset=utf-8"),r.send()}))},e.prototype.vttFileLoaded=function(){this.data.resolve(this.responseText)},e.prototype.responseText=function(){throw new Error("Method not implemented.")},e.prototype.setupThumbnailElement=function(){var e=this,t=document.createElement("div");this.options.showTimestamp||(t=this.player.$(".vjs-mouse-display"));var n=document.createElement("div");n.setAttribute("class","vjs-vtt-thumbnail-display"),this.progressBar=this.player.$(".vjs-progress-holder"),this.progressBar&&this.progressBar.appendChild(n),this.thumbnailHolder=n,t&&!this.options.showTimestamp&&t.classList.add("vjs-hidden"),this.registeredEvents.progressBarMouseEnter=function(){return e.onBarMouseenter()},this.registeredEvents.progressBarMouseLeave=function(){return e.onBarMouseleave()},this.registeredEvents.progressBarTouchStart=function(){return e.onBarTouchstart()},this.registeredEvents.progressBarTouchEnd=function(){return e.onBarTouchend()},this.progressBar&&(this.progressBar.addEventListener("mouseenter",this.registeredEvents.progressBarMouseEnter),this.progressBar.addEventListener("mouseleave",this.registeredEvents.progressBarMouseLeave),this.progressBar.addEventListener("touchstart",this.registeredEvents.progressBarTouchStart,{passive:!0}),this.progressBar.addEventListener("touchend",this.registeredEvents.progressBarTouchEnd,{passive:!0}))},e.prototype.onBarMouseenter=function(){var e=this;this.mouseMoveCallback=function(t){e.onBarMousemove(t)},this.registeredEvents.progressBarMouseMove=this.mouseMoveCallback,this.progressBar&&this.progressBar.addEventListener("mousemove",this.registeredEvents.progressBarMouseMove),this.showThumbnailHolder()},e.prototype.onBarMouseleave=function(){this.registeredEvents.progressBarMouseMove&&this.progressBar&&this.progressBar.removeEventListener("mousemove",this.registeredEvents.progressBarMouseMove),this.hideThumbnailHolder()},e.prototype.onBarMousemove=function(e){this.progressBar&&this.updateThumbnailStyle(Tl().dom.getPointerPosition(this.progressBar,e).x,this.progressBar.offsetWidth)},e.prototype.onBarTouchstart=function(){var e=this;this.touchMoveCallback=function(t){e.onBarTouchmove(t)},this.registeredEvents.progressBarTouchMove=this.touchMoveCallback,this.progressBar&&this.progressBar.addEventListener("touchmove",this.registeredEvents.progressBarTouchMove),this.showThumrogressBarTouchMove&&this.progressBar&&this.progressBar.removeEventListener("touchmove",this.registeredEvents.progressBarTouchMove),this.hideThumbnailHolder()},e.prototype.onBarTouchmove=function(e){this.progressBar&&this.updateThumbnailStyle(Tl().dom.getPointerPosition(this.progressBar,e).x,this.progressBar.offsetWidth)},e.prototype.getStyleForTime=function(e){var t={};if(this.vttData)for(var n=0;n<this.vttData.length;++n){var r=this.vttData[n];if(e>=r.start&&e<r.end){if(r.css.url&&!Xf[r.css.url]){var o=new Image;o.src=r.css.url,Xf[r.css.url]=o}t=r.css}}return t},e.prototype.showThumbnailHolder=function(){this.thumbnailHolder&&(this.thumbnailHolder.style.opacity="1")},e.prototype.hideThumbnailHolder=function(){this.thumbnailHolder&&(this.thumbnailHolder.style.opacity="0")},e.prototype.updateThumbnailStyle=function(e,t){var n=e*this.player.duration(),r=this.getStyleForTime(n);if(!r)return this.hideThumbnailHolder();var o=e*t,i=r.width&&parseInt(r.width,10),s=i&&i>>1,a=o&&s&&t-(o+s),l=o&&s&&o-s,c=this.player.breakponailHolder.style.transformOrigin="bottom left"):a<=0&&(this.thumbnailHolder.style.transform="translateX(".concat(t-i,"px) scale(").concat(u,")"),this.thumbnailHolder.style.transformOrigin="bottom right")),!this.lastStyle||this.lastStyle!==r)for(var d in this.lastStyle=r,r)Object.prototype.hasOwnProperty.call(r,d)&&this.thumbnailHolder&&(this.thumbnailHolder.style[d]=r[d])},e.prototype.processVtt=function(e){var t=this,n=[];return e.split(/[\r\n][\r\n]/i).forEach((function(e){if(e.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){var r=e.split(/[\r\n]/i),o=r[0].split(/ ?--> ?/i),i=o[0],s=o[1],a=r[1],l=t.getVttCss(a);n.push({start:t.getSecondsFromTimestamp(i),end:t.getSecondsFromTimestamp(s),css:l})}})),n},e.prototype.getFullyQualifiedUrl=function(e,t){if(e.indexOf("//")>=0)return e;if(t){if(0===t.indexOf("//"))return[t.replace(/\/$/gi,""),this.trim(e,"/")].join("/");if(t.indexOf("//")>0)return[this.trim(t,"/"),this.trim(e,"/")].join("/")}return e},e.prototype.getPropsFromDef=function(e){var t=e.split(/#xywh=/i),n=t[0],r=t[1].match(/[0-9]+/gi);return{x:r&&r[0]||"",y:r&&r[1]||"",w:r&&r[2]||"",h:r&&r[3]||"",image:n}},e.prototype.getVttCss=function(e){var t={},n="";if(this.options.src.indexOf("//")>=0)n=this.options.src.split(/([^/]*)$/gi).shift();else{var r=this.getBaseUrl();r&&(n=r+this.options.src.split(/([^/]*)$/gi).shift())}if(!(e=this.getFullyQualifiedliseconds:parseInt(t[1],10)||0,seconds:o,minutes:s,hours:l}},e.prototypern 3600*t.hours+60*t.minutes+t.seconds+t.milliseconds/1e3},e.prototype.getMillisecondsFromTimestamp=function(e){var t=this.deconstructTimestamp(e);return 3600*t.hours+60*t.minutes+t.seconds+t.milliseconds/1e3},e.prototype.trim=function(," "," "," "," "," "," "," "," ","​","\u2028","\u2029","　"].join(""),r=0,o=0;for(e+="",t&&(n=(t+"").replace(/([[\]().?/*{}+$^:])/g,"$1")),r=e.length,o=0;o<r;o++)if(-1===n.indexOf(e.charAt(o))){e=e.substring(o);break}for(o=(r=e.length)-1;o>=0;o--)if(-1===n.indexOf(e.charAt(o))){e=e.substring(0,o+1);break}return-1===n.indexOf(e.charAt(0))?e:""},e}();Jf("vttThumbnails",(function(e){var t=this;this.ready((function(){!function(e,t){e.addClass("vjs-vtt-thumbnails"),e.vttThumbnails=new Zf(e,t)}(t,Tl().mergeOptions(Qf,e))}))}));const em={},tm=Tl().registerPlugin||Tl().plugin;class nm{constructor(e,t){th),this.bindPlayer!0}).vhs}bindPlayerEvents(){this.player.qualityLevels().on("addqualitylevel",this.onAddQualityLevel.bind(this,this.config.sortAscending,this.config.autoPlacement))}createQualityButton(){const e=this.player;this._qualityButton=new lm(eth-2,n=e.controlBar.addChild(this._qualityButton,{componentClass:"qualitySelector"},this.config.placementIndex||t);if(n.addClass("vjs-quality-selector"),this.config.displayCurrentQuality)this.setButtonInnerText("auto");else{const e=` ${this.config.vjsIconClass||"vjs-icon-hd"}`;n.menuButton_.$(".vjs-icon-placeholder").className+=e}n.removeClass("vjs-hidden")}setButtonInnerText(e){this._qualityButton.menuButton_.$(".vjs-icon-placeholder").innerHTML=e}getQualityMenuItem(e){const t=this.player;return new um(t,e,this._qualityButton,this)}onAddQualityLevel(e=!0,t="bottom"){const n=this.player,r=n.qualityLevels().levels_||[],o=[],i=this.getQualityMenuItem.call(this,{label0;e<r.length;++e)if(r[e].height&&!o.filter((t=>t.item&&t.item.value===r[e].height)).length){const t=this.getQualityMenuItem.call(this,{label:r[e].height+"p",value:r[e].height});o.push(t)}e?o.sort(((e,t)=>"object"!=typeof e||"object"!=typeof t?-1:e.item.value-t.item.value)):o.sort(((e,t)=>"object"!=typeof e||"object"!=on(){return"top"===t?[i,...o]:[...o,i]},this._qualityButton.update())}setQuality(e){const t=this.player.qualityLevels();this._currentQuality=e,this.config.displayCurrentQuality&&this.setButtonInnerText("auto"===e?e:`${e}p`);for(let n=0;n<t.length;++n){const r=t[n];r.enabled=r.height===e||"auto"===e}this._qualityButton.unpressButton()}getCurrentQuality(){return this._currentQuality||"auto"}}const rm=function(e){this.ready((()=>{((e,t)=>{e.addClass("vjs-hls-quality-selector"),e.hlsQualitySelector=new nm(e,nu"),sm=Tlurn[]}createMenu(){const e=new im(this.player_,{menuButton:this});if(this.hideThreshold_=0,thUpperCase()+t.slice(1)),tabIndex:-1}),r=new sm(this.player_,{el:n});this.hideThreshold_+=1,e.addItem(r)}var t;if(this.items=this.createItemstructor(e,t,n,r){super(e,{label:t.label,selectable:!0,selected:t.selected||!1}),this.ithim;o,t.trigger&&e.off("ended",t.trigger),t.timeout=null,t.trigger=null};const hm=ources;if(Array.is+){const o=r[e];if(o&&mm(o,t))return n}}return-1};const ym=function(e,t){!function(e,t,n=0){let r=null,o=!1;temId_=t.pler(t.postee)),e.trigger("inalValue||tplay();void rentIndex_]),i.c{for(letn&&ArrarentIndex_=i.indexOf(t),i.currentIndex_},i.contains=e=>-1!==i.indexOf(e),i.indexOf=e=>{if("string"==typeof e)return vm(r,e);const t=Array.is}return-1},i.crentItem(),i.lastIndex=()=>r.length-1,i.nextIndex=()=>{const e=i.currentItem();if(-1===e)return-1;const t=i.lastIndex();return i.repeat_&&e===t?0:Math.minrn-1===e?->{if(o)rettIndex_){const t=i.currentItem(e);return r[t].originalValue||r[t]}},i.previous=()=>{if(o)return;const e=i.previousIndex();if(e!==i.currentIndex_){const t=i.,e)).l"))laylist",ym),ym.VERSION="5.0.0";var _m=/^\s+/,gm=Ur.parseInt;const bm=function(e,t,n){return n||null==t?t=0:t&&(t=+t),gm(ps(e).replace(_m,""),t||0)},jm=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;,n,e.v||(l=a=!1i))},I==e))return!1}for(;++o<i;){var l=(a=n[o])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var d=new go;if(r)var p=u,c,3,r,d):pon(e,t){return null!=e&&t in Object(e)},Mm=function(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=hs(t,e)).length,i=!1;++r<o;){var s=fs(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Bo(o)&&Uo(s,o)&&(Oo(e)||ko(e))}(e,t,Dm)},Um=function(e,t){return ns(e)&&Lm(t)?Rm(fs(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:ms(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?Mm(n,e):Om(t,r,3)}},Bm=function(e){return ns(e)?(t=fs(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return ms(t,e)}}(e);var t},Fm=function(e,t){var n,r={};return t="function"==typeof(n=t)?n:null==n?ks:"object"==typeof n?Oo(n)?Um(n[0],n[1]):Im(n):Bm(n),Su(e,(function(e,n,o){Eo(r,n,t(e,n,o))})),r};var Ym;function Vm(e,t){return e?"true"===e:t}function Hm(e){void 0===e&&(e=document.location.search);var t=Wh.parse(e.replace("?","")),n=function(e,t){void 0===t&&(t=window);var n=e.h&&bm(e.h);if(!(n&&n>0))return{width:void 0,height:void 0};var r=Math.ceil(16/9*n);return r>t.innerWidth?{width:void 0,height:void 0}:{width:r,height:n}}(t),r=n.width,o=n.height,i=function(e){var t=e.start?bm(e.start):void 0,n=e.end?bm(e.end):void 0,r=e.chapter?bm(e.chapter):void 0,o=void 0,i=void 0,s=void 0;returnges,!1),unsafeDisableUpsellHref:Vm(t.unsafeDisableUpsellHref,!1),unsafeDisablePromo:Vm(t.unsafeDisablePromo,!1),unsafeDisableContinuousPlay:Vm(t.unsafeDisableContinuousPlay,!1),parentUrl:t.parentURL,start:s,end:a,chapter:l,width:r,height:o}}function Wm(e){void 0===e&&(e=document.location.search);var t=Wh.parse(e.replace("?",""));return{autoplay:Vm(t.autoplay,!1),muted:Vm(t.muted,!1),unsafePostMessages:Vm(t.unsafePostMessages,!1),feedCid:t.feed_cid||null,channelSwitch:Vm(t.channel_switch,!1)}}function qm(e){return{legacyTpMediaId:e.legacy_tp_media_id,duration:e.duration,secondsWatched:e.seconds_watched}}!function(e){e.idle="idle",e.evaluating="evaluating",e.success="success",e.rejected="rejected",e.locationDenied="locationDenied",e.locationTimedOut="locationTimedOut",e.locationNeeded="locationNeeded"}(Ym||(Ym={}));var Gm=o("./node_modules/jsonp/index.js"),$m=o.n(Gm),zm=function(e){return new Promise((function(t,n){$m()(e+"?format=jsonp",(function(e,r){return e?n(e):"error"===r.status?n(r):void t(r)}))}))},Km=o("./node_modules/classnames/index.js"),Qm=o.n(Km);const Xm=function(e){return v("div",{className:Qm()({"player-overlay":!0,"player-overlay--show-controls":!!e.showControls,"player-overlay--show-replay":!!e.showReplay})},v("div",{className:"player-overlay__inner"},e.children))};var Jm=function(e){var t=e&&e.message||"";return t.toLowerCase().includes("region")?"We're sorry, but this video is not available in your region due to rights restrictions.":t.toLowerCase().includes("livestream")?zl:$l};const Zm=function(e){return v("div",{className:"player-error"},v("div",{className:"player-error__wrapper"},v("p",{className:"player-error__message:Jm(t)}))},tv=function(e){var t="loading-indicator",n=e.addClass;return n&&(t+=" ".concat(n)),v("div",{className:t,"data-testid":"loading-indicator"},v("div",{className:"loading-indicator__spinner"},v("div",{cla}),v("div",{className:"loading-indicator__spinner bounce2"}),v("div",{className:"loading-indicator__spinner bounce3"})))};const nv=tv;var rv=function(e,t,n){navitor.requestMediaKeySystemAccess&&navigator.requestMediaKeySystemAccess("com.widevine.alpha",[{initDataTypes:[],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.42E01E"'}]}]).catch((function(){console.warn("Browser failed encrypted media check (widevine)."),n(e,t)}))},ov={play:"videsed",ended:"video::finished",seeking:"video::seeking",seeked:"video::seeked",adImpression:"ad::started",adComplete:"ad::complete"},iv={toggle:function(e){e.paused()?e.play():e.pause()},play:function(e){e.play()},pause:function(e){e.pause()},showTheatreModeControls:function(e){e&&e.addClass("theatre-mode-controls-show")},hideTheatreModeControls:function(e){e&&e.removeClass("theatre-mode-controls-show")}};function sv(e,t){var n=t&&t.command,r=iv[n];r&&r(e)}function av(e){document.referrer&&parent.postMessage(JSON.stringify(e),document.referrer)}function lv(e){e.on("play",(function(){av({event:"videojs:play"})})),e.on("pause",(function(){av({event:"videojs:pause"})})),e.on("ended",(function(){av({event:"videojs:finished"})})),e.on("theatreModeTrigger",(function(){av({event:"videojs:toggleTheatreMode"})}))}var cv=function(e,t){void 0===t&&(t=window.location.protocol);var n=new URL(e);return"https:"===t&&(n.protocol="https:"),n.toString()},uv=function(e,t,n){switch(!0){case e.hasDrm&&t:return function(e){var t,n,r;return[{src:null===(t=e.hlsDrmVideo)||void 0===t?void 0:t.url,type:"application/x-mpegURL",keySystems:{"com.apple.fps.1_0":{getContentId:function(e,t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},certificateUri:null===(n=e.hlsDrmVideo)||void 0===n?void 0:n.fairplay_certificate,licenseUri:null===(r=e.hlsDrmVideo)||void 0===r?void 0:r.fairplay_license}}}]}(e);case e.hasDrm&&!t:return function(e){var t,n,r;return[{src:null===(t=e.dashDrmVideo)||void 0===t?void 0:t.url,type:"application/dash+xml",keySystemOptions:[{name:"com.widevine.alpha",options:{serverURL:null===(n=e.dashDrmVideo)||void 0===n?void 0:n.widevine_license,priority:1}},{name:"com.microsoft.playready",options:{serverURL:null===(r=e.dashDrmVideo)||void 0===r?void 0:r.playready_license,priority:2}}]}]}(e);default:return function(e){return e.filter((function(e){return e.url})).map((function(e){var t=cv(e.url||""),n=t.split(".").pop()||"",r="";return"m3u8"===n?r="application/x-mpegURL":"mp4"===n&&(r="video/mp4"),{src:t,type:r}}))}(n)}},dv=function(e,t){if(!(null==e?void 0:e.includes("://image.pbs.org/")))return e;var n=t.width,r=t.height;try{var o=new URL(e);return o.searchParams.set("crop","".concat(n,"x").concat(r)),o.searchParams.set("format","auto"),o.toString()}catch(t){return e}};function pv(e,t,n){if(void 0===n&&(n=window),!ar r=n.outerWidth||n.innerWidth,o=Math.ceil(r/(16/9));return dv(e.imageUrl,{width:r,height:o})}var hv=bu(),fv=function(e){return e?["progressControl","playToggle","customControlsSpacer","volumePanel","seekToLive","customControlsSpacer","customControlsSpacer","audioTrackButton","customControlsSpacer","fullscreenToggle"]:["progressControl","playToggle","customControlsSpacer","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","customControlsSpacer","customControlsSpacer","audioTrackButton","customControlsSpacer","customControlsSpacer","customControlsSpacer","customControlsSpacer","fullscreenToggle"]},mv=function(e){var t=function(e){var t=function(e){var t=e.cc_multiple_languages;if(!t)return[];var n,r,o=function(e){return e.sort((function(e,t){return Number(t.primary)-Number(e.primary)}))}((r=(n=t).filter((function(e){return"WebVTT"===e.profile}))).length>0?r:n.filter((function(e){return"DFXP"===e.profile})));return o.map((function(e){return{kind:"captions",label:jc(e.language),srclang:e.language,src:e.url}}))}(e);return t.length>0?t:function(e){var t=e.cc.WebVTT||e.cc.DFXP;return t?[{kind:"captions",label:"English",srclang:"en",src:t}]:[]}(e)}(e);return t};var vv=o("./src/passport/upsell-passport-arrow-right--white.svg"),yv=o("./src/passport/upsell-passport-arrow-right--yellow.svg"),_v=function(e){var t="white"===e.color?vv:yv;return Kp.createElement("img",{className:"passport__arrow",src:t,alt:""})},gv=function(e,t){try{var n=new URL(e);return n.searchParams.set("returnURL",t),n.searchParams.set("showSignIn","true"),n.toString()}catch(t){return e}};function bv(e){var t=e.video,n=e.context,r=e.arrowColor,o=sp(""),i=o[0],s=o[1];return lp((function(){(function(e,t,n,r){return void 0===n&&(n=document),void 0===r&&(r=window),$(void 0,void 0,void 0,(function(){var o,i,s,a,l,c,u,d,p,h,f;return z(this,(function(m){switch(m.label){case 0:return o="partner_player"===e.playerType||"bento_player"===e.playerType,i=e.callsign||"",s=Uu(n,r),a=Bu(n,r),l=document.location.hostname,c="https://",u="www.pbs.org",d="/video/".concat(t.slug),p=!["https://player-staging.pbs.org","https://player.pbs.org","https://www.pbs.org"].incloncat(d),f=s,e.options.parentUrl&&!o&&(h=e.options.parentUrl),o&&(f="".concat(c).concat(u).concat(d)),o&&p&&i?[4,Pl(i).then((function(e){return $(void 0,void 0,void 0,(function(){return z(this,(function(t){return e&&(h="".concat(c).concat(e).concat(d),f="".concat(c).concat(e).concat(d),e===l&&(f=s)),[2,Promise.resolve(gv(h,f))]}))}))})).catch((function(){throw new Error("Error getting Station Video Portal host from Skylab.")}))]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2,Promise.resolve(gv(h,f))]}}))}))})(n,t).then((function(e){return s(e)}))}),[n,t]),n.options.unsafeDisableUpsellHref?v("button",{className:"passport-link",onClick:function(){return xd("passport:signin")}},"Sign In ",v(_v,{color:r})):v("a",{className:"passport-link",target:"_parent",href:i,onClick:function(){xd("passport:signin")}},"Sign In ",v(_v,{color:r}))}var jv=o("./src/passport/upsell-passport-compass-rose.svg");function Ev(e,t,n){void 0===t&&(t=document),void 0===n&&(n=window);var r=e.passportUrl||"https://www.pbs.org";try{var o=new URL(r),i=Uu(t,n);return o.searchParams.set("referrer",i),o.toString()}catch(e){return r}}const Sv=function(e){var t=e.video,n=e.context,r=!!n.userId,o=t.shortCommonName?t.shortCommonName:"PBS",i=v("a",{href:Ev(t),target:"_parent",className:"btn btn--fill--yellow",onClick:function(){return xd("passport:activate")}},"Donate and Start Watching"),s=function(e){return v("a",{href:t.passportLearnMoreUrl,target:"_parent",className:e,onClick:function(){return xd("passport:learnmore")}},"What is Passport?")};return v("div",{className:"passport-screen",style:"lite_portal_player"===n.playerType?{}:{backgroundImage:"url(".concat(t.imageUrl,")")}},v("div",{className:"".concat("lite_portal_player"===n.playerType?"lite-portal-player ":"","passport__overlay")},v("div",{className:"passport__header"},v("span",{className:"passport__station"},o),v("img",{className:"passport__logo",src:jv,alt:"Passport"}),v("span",{className:"passport__title"},"Passport")),v("p",{className:"passport__subtitle"},v("span",{className:"passport__subtitle-watch-this-video"},"Watch this video with")," ",v("span",{className:"passport__subtitle-station-passport"},o," Passport")),v("div",{className:"passport__description-container"},v("span",null,"Become a member of ",o,", support your local community, and get extended access to PBS shows, films, and specials, like this one.")),v("div",{className:"passport__actions"},i,t.passportLearnMoreUrl?s("btn btn--ghost--white btn--learn-more"):null),v("div",{className:r?"passport__footer member-signed-in":"passport__footer"},t.passportLearnMoreUrl?v("div",{className:"passport__learn-more--small"},s("passport-link"),v(_v,{color:"yellow"})):null,v("div",{className:"passport__check-membership"},v("p",{className:"passport__already-member"},"Already a member of ",o,"?"),v("p",{className:"passport__sign-in"},r?null:v(_,null,v(bv,{context:n,video:t,arrowColor:"yellow"}),v("span",{className:"passport__sign-in--or"}," or ")),v("a",{href:"https://www.pbs.org/passport/lookup/",target:"_blank",rel:"noopener noreferrer",className:"passport-link passport__check-link"},"Check to see ",v(_v,{color:"yellow"})))),v("div",{className:"passport__support"},v("p",null,function(e){return v("a",{href:"https://help.pbs.org/support/solutions/5000121793",target:"_blank",rel:"noopener noreferrer",className:"passport-link"},v("span",{className:"passport__support-link--large"},e," Passport Support"),v("span",{className:"passport__support-link--small"},"Visit Our Help Site ",v(_v,{color:"yellow"})))}(o))))))};function wv(e,t,n){void 0===t&&(t=document),void 0===n&&(n=window);var r=e.passportUrl||"https://www.pbs.org";try{var o=new URL(r),i=Uu(t,n);return o.searchParams.set("referrer",i),o.toString()}catch(e){return r}}const Cv=function(e){var t=e.video,n=e.context,r=!!n.userId,o=t.shortCommonName?t.shortCommonName:"PBS",i=sp(),s=i[0],a=i[1],l=Kp.createElement("a",{href:wv(t),target:"_parent",className:"btn btn--fill--yellow",onClick:function(){return xd("passport:activate")}},"Donate and Start Watching"),c="full_length"===t.videoType?"Watch the next episode with":"Watch this video with";return lp((function(){s||Cl(t.slug,n.stationId,n.userId).then((function(e){a(e)}))})),Kp.createElement("div",{className:"passport-screen",style:"lite_portal_player"===n.playerType?{}:{backgroundImage:"url(".concat(t.imageUrl,")")}},Kp.createElement("div",{className:"".concat("lite_portal_player"===n.playerType?"lite-portal-player ":"","passport__overlay")},Kp.createElement("div",{className:"passport__header"},Kp.createElement("span",{className:"passport__station"},o),Kp.createElement("img",{className.createElement("span",{className:"passport__title"},"Passport")),Kp.createElement("p",{className:"passport__subtitle"},Kp.createElement("span",{className:"passport__subtitle-watch-this-video"},c)," ",Kp.createElement("span",{className:"passport__subtitle-station-passport"},o," Passport")),Kp.createElement("div",{className:"passport__description-container"},Kp.createElement("span",null,"Become a member of ",o,", support your local community, and get extended access to PBS shows, films, and specials, like this one.")),Kp.createElement("div",{className:"passport__actions"},l,t.passportLearnMoreUrl?("btn btn--ghost--white btn--learn-more",Kp.createElement("a",{href:t.passportLearnMoreUrl,target:"_parent",className:"btn btn--ghost--white btn--learn-more",onClick:function(){return xd("passport:learnmore")}},"What is Passport?")):null),Kp.createElement("div",{className:"passport__sign-in-skip"},r?null:Kp.createElement(Kp.Fragment,null,Kp.createElement(bv,{context:n,video:t,arrowColor:"white"})),s?Kp.createElement("button",{className:"passport__skip-to-btn",onClick:function(){var e={command:rc,payload:s};Fu(JSON.stringify(e))},title:"Surprise Me!"},"Watch something else ",Kp.createElement(_v,{color:"white"})):null)))};var Av={proportionalSansSerif:"Proportional Sans Serif",monospaceSansSerif:"Monospace Sans Serif",proportionalSerif:"Proportional Serif",monospaceSerif:"Monospace Serif",casual:"Casual",script:"Script","small-caps":"Small Caps"},Pv={none:"None",dropshadow:"Dropshadow",raised:"Raised",depressed:"Depressed",uniform:"Uniform"},xv={"#000":"Black","#00F":"Blue","#0F0":"Green","#0FF":"Bluemarine","#F00":"Red","#F0F":"Magenta","#FF0":"Yellow","#FFF":"White"},Tv={0:"Transparent",.5:"Semi-Transparent",50%",.75:"75%","1.00":"100%",1.25:"125%","1.50":"150%",1.75:"175%","2.00":"200%","3.00":"300%","4.00":"400%"};var kv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.selected,r=e.onChange;return v("div",{className:"color-picker"},t.map((function(e){return v("button",{key:e.value,className:Qm()({"color-picker__color":!0,"color-picker__color--active":e.value===n}),style:{background:(c=e.value,t=c,o="#",t=ps(t),i=null==i?0:(s=Vc(i),a=0,l=t.length,s==s&&(void 0!==l&&(s=s<=l?s:l),void 0!==a&&(s=s>=a?s:a)),s),o=ds(o),t.slice(i,i+o.length)==o?c:"#".concat(c))},onClick:function(){return r(e)}});var t,o,i,s,a,l,c})))},t}(g);const Ov=kv;var Lv=function(e,t){var n=e.slice(1).split("").map((function(e){return e+e})).join(""),r=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16),s=t;return"rgba(".concat(r,",").concat(o,",").concat(i,",").concat(s,")")};const Rv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.render=function(){var e,t,n,r,o,i,s=(e=this.props.style,t=Lv(e.color,Number(e.fontOpacity)),n=Lv(e.backgroundColor,Number(e.backgroundOpacity)),r=Lv(e.windowColor,Number(e.windowOpacity)),o="0"==e.windowOpacity?String(0):"5px solid ".concat(r),i={none:"none",dropshadow:"rgba(0,0,0,0.8) 0px 2px 1px",raised:["rgba(0,0,0,0.8) 0px 0px 5px","rgba(0,0,0,0.8) 0px 1px 5px","rgba(0,0,0,0.8) 0px 2px 5px"].join(","),depressed:"rgba(0,0,0,0.8) 0px -2px 1px",uniform:["rgba(0,0,0,0.8) -2px 0px 1px","rgba(0,0,0,0.8) 2px 0px 1px","rgba(0,0,0,0.8) 0px -2px 1px","rgba(0,0,0,0.8) 0px 2px 1px","rgba(0,0,0,0.8) -1px 1px 1px","rgba(0,0,0,0.8) 1px 1px 1px","rgba(0,0,0,0.8) 1px -1px 1px","rgba(0,0,0,0.8) 1px 1px 1px"].join(",")},{color:t,fontPercent:Nv[e.fontPercent],fontFamily:{monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'}[e.fontFamily],backgroundColor:n,backgroundClip:"padding-box",windowColor:r,border:o,textShadow:i[e.edgeStyle]});return s.fontSize=s.fontPercent,v("div",{className:"cc-settings__preview-container"},v("h2",{className:"cc-settings__preview-header"},"Preview"),v("div",{className:"cc-settings__preview-text",style:s},"Captions look like this")))},t}(g);var Iv=o("./src/captions/set0","#00F","#0F0","#0FF","#F00","#F0F","#FF0","#FFF"].map((function(e){return{value:e,label:xv[e]}})),Mv=["0.50","0.75","1.00","1.25","1.50","1.75","2.00","3.00","4.00"].map((function(e){return{value:e,label:Nv[e]}})),Uv=["proportionalSansSerif","monospaceSansSerif","proportionalSerif","monospaceSerif","casual","script","small-caps"].map((function(e){return{value:e,label:Av[e]}})),Bv=["none","dropshadow","raised","depressed","uniform"].map((function(e){return{value:e,label:Pv[e]}})),Fv=["1","0.5"].map((function(e){return{value:e,label:Tv[e]}})),Yv=["1","0.5","0"].map((function(e){return{value:e,label:Tv[e]}})),Vv=["0","0.5","1"].map((function(e){return{value:e,label:Tv[e]}})),Hv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSubmit=function(e){e.preventDefault()},t.handleClose=function(e){e.preventDefault(),t.props.dispatch(Tc(t.props.modal))},t.handleSave=function(e){e.preventDefault(),t.props.dispatch(Nc(t.props.modal))},t.handleReset=function(e){e.preventDefault(),t.props.dispatch(Oc())},t}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.isSettingsOpen,r=e.previewStyle,o=r.fontPercent,i=r.fontFamily,s=r.edgeStyle,a=r.color,l=r.fontOpacity,c=r.backgroundColor,u=r.backgroundOpacity,d=r.windowColor,p=r.windowOpacity;return n?v("div",{className:"cc-settings"},v("div",{className:"cc-settings__overlay"}),v("div",{className:"cc-settings__modal"},v("div",{className:"cc-settings__modal-header"},v("h1",{className:"cc-settings__title"},"Closed Captioning Settings"),v("button",{className:"cc-settings__close",onClick:this.handleClose},v("img",{src:Iv,alt:"Close"}))),v("form",{className:"cc-settings__form",onSubmit:this.handleSubmit},v(Rv,{style:r}),v("div",{className:"cc-settings__options"},v("div",{className:"cc-settings__basic-styles"},v("div",{className:"cc-settings__font-size cc-settings__option"},v("label",null,v("p",null,"Font Size"),v("select",{value:o,onChange:function(e){t(kc({fontPercent:e.target.value}))}},Mv.map((function(e){return v("option",{key:e.value,value:e.value},e.label)}))))),v("div",{className:"cc-settings__font-family cc-settings__option"},v("label",null,v("p",null,"Font Family"),v("select",{value:i,onChange:function(e){t(kc({fontFamily:e.target.value}))}},Uv.map((function(e){return v("option",{key:e.value,value:e.value},e.label)}))))),v("div",{className:"cc-settings__edge-style Edge Style"),v("select",{value:s,onChange:function(e){return t(kc({edgeStyle:e.target.value}))}},Bv.map((function(e){return v("option",{key:e.value,value:e.value},e.label)})))))),v("div",{className:"cc-settings__colors"},v("div",{className:"cc-settings__text-color cc-settings__option"},v("label",null,v("p",null,"Text Color"),v(Ov,{options:Dv,selected:a,onChange:function(e){return t(kc({color:e.value}))}}))),v("div",{className:"cc-settings__background-color cc-settings__option"},v("label",null,v("p",null,"Background Color"),v(Ov,{options:Dv,selected:c,onChange:function(e){t(kc({backgroundColor:e.value}))}}))),v("div",{className:"cc-settings__window-color cc-settings__option"},v("label",null,v("p",null,"Window Color"),v(Ov,{options:Dv,selected:d,onChange:function(e){return t(kc({windowColor:e.value}))}})))),v("div",{clasopacity cc-settings__option"},v("label",null,v("p",null,"Text Opacity"),v("select",{value:l,onChange:function(e){return t(kc({fontOpacity:e.target.value}))}},Fv.map((function(e){return v("option",{key:e.value,value:e.value},e.label)}))))),v("div",{className:"cc-settings__background-opacity cc-s",null,"Background Opacity"),v("select",{value({backgroundOpacity:e.target.value}))}},Yv.map((function(e){return v("option",{key:e.value,value:e.value},e.label)}))))),v("div",{className:"cc-settings__window-opacity cc-settings__option"},v("label",null,v("p",null,"Window Opacity"),v("select",{value:p,onChange:function(e){return t(kc({windowOpacity:e.target.value}))}},Vv.map((function(e){return v("option",{key:e.value,value:e.value},e.label)})))))))),v("div",{className:"cc-settings__button-container"},v("button",{className:"btn btn--fill--blue cc-settings__button",onClick:this.handleSave},"Save Settings"),v("button",{className:"btn btn--ghost--white cc-settings__button",onClick:this.handleReset},"Reset")))):null},t}(g);const Wv=kh((function(e){return q({},e.captions)}))(Hv);var qv=function(e){return String(e)},Gv=function(e){return(e<10?"0":"")+e};const $v=function(e){var t,n,r,o,i,s,a,l,c=e.video;return v("div",{className:"info-overlay"},v("div",{className:"info-overlay__header"},v("p",{className:"info-overlay__show"},function(e){var t=e.program&&e.program.slug,n=e.program&&e.program.title||"PBS";return v("a",{href:t?"https://www.pbs.org/show/".concat(t):"https://www.pbs.org",target:"_blank",rel:"noopener noreferrer"},n)}(c)),v("h2",{className:"info-overlay__title"},c.title)),v("div",{className:"info-overlay__details"},c.seriesInfo," | ",(t=c.duration,n=Math.floor(t/3600),r=t%3600,i=(r-=60*(o=Math.floor(r/60)))%60,s=n>0?"".concat(n,"h"):"",a=o>0?"".concat(qv(o),"m"):"",l="".concat(qv(i),"s"),"".concat(s," ").concat(a," ").concat(l))))},zv=function(){return v("svg",{className:"info-screen__cc-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("title",{id:"title",lang:"en"},"Closed Captioning Icon"),v("path",{fill:"#b3b3b3",d:"M464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM218.1 287.7c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.6 56.8-172.8 32.1-172.8-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7l-17.5 30.5c-1.9 3.1-6.2 4-9.1 1.7-490.4 0c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.5 56.9-172.7 32.1-172.7-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7L420 222.2c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2 0 48 51 70.5 92.2 32.6z"}))},Kv=function(e){var t=e.video,n=e.handleClose;return v("div",{className:"info-screen"},v("div",{className:"info-screen__header"},v("div",{className:"info-screen__cc-issue"},v("a",{href:"https://www.pbs.org/cc-info/",target:"_blank",rel:"noopener noreferrer"},"Problems with CC?")),v("button",{className:"info-screen__close topbar__close-btn",onClick:function(){return n()}},"Return to Video")),v("div",{className:"info-screen__title"},v("p",{className:"info-screen__show-title"},function(e){var t=e.program&&e.program.slug,n=function(e){return e.program&&e.program.title||"pbs"}(e);return v("a",{href:t?"https://www.pbs.org/show/".concat(t):"https://www.pbs.org",target:"_blank",rel:"noopener noreferrer"},n)}(t)),v("p",{className:"info-screen__video-title"},t.title)),v("div",{className:"info-screen__detail"},v("p",{className:"info-screen__description"},t.longDescription),t.airDateFormatted?v("p",{className:"info-screen__meta"},v("span",{className:"info-screen__premiere"},"Premiere Date: ",t.airDateFormatted),v(zv,null)):null))};function Qv(e,t,n){var r=bm(e);return(r=r>0?r:t)<n?n:r}function Xv(e,t,n){var r="https://player.pbs.org/viralplayer/".concat(n.id,"/"),o=Qv(e,512,320),i=Qv(t,332,224);return'<iframe width="'.concat(o,'" height="').concat(i,'" src="').concat(r,'" allowfullscreen style="border: 0;"></iframe>')}function Jv(e){var t="https://player.pbs.org/viralplayer/".concat(e.id,"/");return'<div class="pbs-viral-player-wrapper" style="position: relative; padding-top: calc(56.25% + 43px);">\n      <iframe src="'.concat(t,'" allowfullscreen\n        style="position: absolute; top: 0; width: 100%; height: 100%; border: 0;"></iframe>\n    </div>')}function Zv(e){var t,n,r,o,i,s,a,l,c=e.widthInput,u=e.heightInput,d=e.video,p=e.handleClose,h=e.handleChangeWidth,f=e.handleChangeHeight,m=e.handleInputClick;return v("div",{className:"embed-screen"},v("div",{className:"embed-screen__header"},v("h2",{className:"embed-screen__heading"},"Embed Video"),v("button",{className:"embed-screen__close topbar__close-btn",onClick:function(){return p()}},"Return to Video")),v("div",{className:"embed-screen__detail"},v("p",{className:"embed-screen__title"},d.title),v("p",{className:"embed-screen__description"},d.shortDescription,v("span",{className:"embed-screen__duration"}," ","(",(t=d.duration,n=Math.floor(t/3600),r=t%3600,i=(r-=60*(o=Math.floor(r/60)))%60,s=n>0?"".concat(n,":"):"",a="".concat(n>0?Gv(o):qv(o),":"),l=Gv(i),"".concat(s+a+l)),")"))),v("h3",{className:"embed-screen__options-title"},"Fixed iFrame"),v("div",{className:"embed-screen__options"},v("div",{className:"embed-screen__dimensions"},v("div",{className:"embed-screen__width"},v("label",null,"Width"),v("input",{type:"number",min:320,name:"embed-width",value:c,onClick:function(e){return m(e)},onChange:function(e){return h(e)}})),v("div",{className:"embed-screen__height"},v("label",null,"Height"),v("input",{type:"number",min:224,name:"embed-height",value:u,onClick:function(e){return m(e)},onChange:function(e){return f(e)}}))),v("div",{className:"embed-screen__iframe"},v("input",{type:"text",name:"embed-iframe",className:"embed-fixed-iframe",onClick:function(e){return m(e)},value:Xv(c,u,d)}),v("span",null,"Please copy t,v("h3",{className:"embed-screen__options-title"},"Responsive iFrame"),v("div",{className:"embed-screen__options"},v("div",{className:"embed-screen__iframe"},v("input",{type:"text",name:"embed-responsive-iframe",className:"embed-responsive-iframe",onClick:function(e){return m(e)},value:Jv(d)}),v("span",null,"Please copy this text to your clipboard."))))}var ey=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChangeWidth=function(e){var t,r=Number(e.target.value),o=(t=r,Math.round(t/1.77+43).toString());n.setState({widthInput:String(r)}),n.setState({heightInput:o})},n.handleChangeHeight=function(e){var t,r=Number(e.target.value),o=(t=r,Math.round(1.77*(t-43)).toString());n.setState({heightInput:String(r)}),n.elect()},n.state={widthInput:String(512),heightInput:String(332)},n}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.video,n=e.handleClose,r=this.state;return v(Zv,{video:t,handleClose:n,widthInput:r.widthInput,heightInput:r.heightInput,handleChangeWidth:this.handleChangeWidth,handleChangeHeight:this.handleChangeHeight,handleInputClick:this.handleInputClick})},t}(g);const ty=ey;var ny=function(e,t,n){void 0===n&&(n=document);var r="https://www.pbs.org/video/".concat(e.slug,"/");return"viral_player"!==t.playerType&&"https://www.pbs.org/"!==n.referrer&&n.referrer?n.referrer:r},ry=function(e){if(e.program&&e.program.slug){var t=e.program.slug;return"https://www.pbs.org/show/".concat(t,"/")}return"https://www.pbs.org/"},oy=function(e){return"https://www.pbs.org/video/".concat(e.slug,"/")};const iy=function(){return v("svg",{className:"share-screen__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 264 512"},v("title",{id:"title",lang:"en"},"Facebook Icon"),v("path",{d:"M76.7 512V283H0v-91h76.7v-71.7C76.7 42.4 124.3 0 193.8 0c33.3 0 61.9 2.5 70.2 3.6V85h-48.2c-37.8 0-45.1 18-45.1 44.3V192H256l-11.7 91h-73.6v229"}))},sy=function(){return v("svg",{className:"share-screen__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("title",{id:"title",lang:"en"},"Twitter Icon"),v("path",{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}))},ay=function(){return v("svg",{className:"share-screen__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("title",{id:"title",lang:"en"},"Email Icon"),v("path",{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}))},ly=function(){return v("svg",{className:"share-screen__icon",width:"167",height:"167",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 167 167"},v("title",null,"Link Icon"),v("path",{d:"M122.38 112.48l-17.85-17.85 7.778-7.78 33.942 33.943-25.457 25.456-332.834zm-68.055-32.7L20.383 45.839 45.84 20.383l2.002 2.002 0 0 0 .002 2.834L62.81 71.295l-8.485 8.485zm111.718 39.594l-52.317-52.317a2.002 2.002 0 0 0-2.828-.01L93.923 84.024 82.608 72.709l16.976-16.975a2.001 2.001 0 0 0-.01-2.828L47.259.589a2.002 2.002 0 0 0-2.828-.01L.58 44.43a2.001 2.001 0 0 0 .01 2.829l52.316 52.317c.78.78 2.05.788 2.828.009L73.416 81.9l11.316 11.315-17.683 17.682a2.002 2.002 0 0 0 .008 2.828l52.317 52.317c.78.78 2.05.788 2.829.009l43.85-43.85a2 2 0 0 0-.01-2.828z",fillRule:"evenodd"}))};var cy=["width=420","height=320","location=0","menubar=0","scrollbars=0","status=1","resizable=0"].join(",");const uy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showDirectLink:!1},t}return W(t,e),t.prototype.toggleDirectLinkField=function(){this.setState({showDirectLink:!this.state.showDirectLink})},t.prototype.render=function(){var e=this,t=this.props,n=t.video,r=t.handleClose,o=t.context,i=Qm()({"share-screen__direct-link-field":!0,hidden:!this.state.showDirectLink});return v("div",{className:"share-screen"},v("div",{className:"share-screen__header"},v("div",{className:"share-screen__heading"},"Share This Video"),v("button",{className:"share-screen__close topbar__close-btn",onClick:function(){return r()}},"Return to Video")),v("div",{className:"share-screen__links"},v("div",{className:"share-screen__option"},v("button",{className:"share-screen__button",onClick:function(){return window.open(function(e,t){var n=ny(e,t),r=encodeURIComponent(n);return"https://www.facebook.com/sharer.php?u=".concat(r)}(n,o),"",cy)}},v(iy,null),v("p",{className:"share-screen__button-label"},"facebook"))),v("div",{className:"share-screen__option"},v("button",{className:"share-screen__button",onClick:function(){return window.open(function(e,t){var n=encodeURIComponent(e.title),r=ny(e,t),o=encodeURIComponent(r);return"http://twitter.com/share?text=".concat(n,"&url=").concat(o)}(n,o),"",cy)}},v(sy,null),v("p",{className:"share-screen__button-label"},"twitter"))),v("div",{className:"share-screen__option"},v("button",{className:"share-screen__button",onClick:function(){return window.open(function(e,t){var n=ny(e,t),r=eturn"mailto:?body=I thought you might like this: ".concat(r)}(n,o),"emailWindow")}},v(ay,null),v("p",{className:"share-screen__button-label"},"email"))),v("div",{className:"share-screen__option"},v("button",{className:"share-screen__button",onClick:function(){return e.toggleDirectLinkField()}},v(ly,null),v("p",{className:"share-screen__button-label"},"link")),v("div",{className:i},v("input",{type:"text",value:ny(n,o)}),v(oard.")))))},t}(g);var dy=o("./src/topbar/shop/shop-pbs.svg");const py=function(e){var t=e.video,n=e.handleClose;return v("div",{className:"shop-screen"},v("div",{className:"shop-screen__header"},v("div",{className:"shop-screen__heading"},"Buy It"),v("button",{className:"shop-screen__close topbar__close-btn",onClick:function(){return n()}},"Return to Video")),v("div",null,v("img",{className:"shop-screen__logo",src:dy,alt:"Shop PBS"}),v("p",{className:"shop-screen__message"},"Your purchase helps support PBS and the programs you love.")),v("div",{className:"shop-screen__cta"},t.dvdLink?v("button",{className:"btn btn--fill--blue",onClick:function(){return window.open(t.dvdLink)}},"Buy DVD"):null,t.itunesLink?v("button",{className:"btn btn--fill--blue",onClick:function(){return window.open(t.itunesLink)}},"Buy on iTunes"):null))},hy=kh((function(e){return{screen:e.topBar.screen}}))((function(e){var t=e.screen,n=e.player,r=e.dispatch,o=e.video,i=e.context;return"CLOSED"===t?null:v("div",{className:"topbar-screen"},v({INFO:Kv,EMBED:ty,SHARE:uy,SHOP:py}[t],{video:o,context:i,handleClose:function(){return r(function(e){return{type:Sd.CLOSE_TOPBAR_SCREEN,payload:{player:e}}}(n))}}))})),fy=function(e){var t=e.donationLink||"https://www.pbs.org/donate/";return v("div",{className:"player-donate"},v("div",{className:"player-donate__header"},v("h2",{className:"player-donate__title"},"Did you enjoy the video?"),v("p",{className:"player-donate__subtitle"},"We’re working every day to create content that educates, informs, and inspires.")),v("div",{className:"player-donate__content"},v("p",{className:"player-donate__lg-text"},"Quality PBS content is available to everyone online thanks to viewers like you."),v("p",{className:"player-donate__lg-text"},"Help us achieve our mission by supporting your local station."),v("p",{className:"player-donate__sm-text"},"Support your local station and help us in our mission to provide content that educates, informs, and inspires."),e.video.stationColorLogo&&e.video.shortCommonName&&v("div",{className:"player-donate__station-info"},v("a",{href:t,target:"_blank",rel:"noopener noreferrer"},v("img",{className:"player-donate__station-logo",src:e.video.stationColorLogo})),v("a",{className:"player-donate__station-name",href:t,target:"_blank",rel:"noopener noreferrer"},e.video.shortCommonName)),v("div",{className:"player-donate__btn-container"},v("a",{className:"player-donate__btn",href:t,target:"_blank",rel:"noopener noreferrer"},"Donate Now"))))},my=function(e){var t=e.video.relatedVideos||[];return v("div",{className:"player-related"},v("h2",{className:"player-related__title"},"More Videos"),v("div",{className:"player-related__videos"},t.map((function(e){return v("div",{key:e.id,className:"player-related__video"},v("a",{className:"player-related__image-link",target:"_blank",rel:"noopener noreferrer",href:oy(e)},v("img",{className:"player-related__image",src:dv(e.images.mezzanine,{width:371,height:211})})),v("a",{className:"player-related__show-title",target:"_blank",rel:"noopener noreferrer",href:ry(eName:"player-related__video-title",target:"_blank",rel:"noopener noreferrer",href:oy(e)},e.title))}))))},vy=function(e){var t=e.isOpen,n=e.video,r=e.context;if("portal_player"===r.playerType||"station_player"===r.playerType)return null;var o="full_length"==n.videoType;return t?v("div",{className:"end-screen"},v("div",{className:"end-screen__modal"},o?v(fy,{video:n,donationLink:n.donationUrl}):v(my,{video:n,context:r}))):null},yy=function(e){return v("button",{className:"clickable","aria-label":e.label,onClick:e.onClick},e.children)},_y=function(e){var t=e.className,n=e.radius,r=e.progress,o=e.iconColor,i=e.stroke,s=e.strokeColor,a=e.trailColor,l=e.trailOpacity,c=e.opacity,u=Math.ceil(r),d=n-2*i,p=2*d*Math.PI,h=u/100*-1*p,f=[[.85*n,.75*n],[.85*n,n+.25*n],[n+.25*n,n]].map((function(e){return e.join(",")})).join(" ");return v("div",{className:Qm()("circular-progress",t)},v("svg",{height:2*n,width:2*n},v("polygon",{className:"circular-progress-play",points:f,strokeLinejoin:"round",stroke:o,fill:o,strokeWidth:"1"}),v("g",{opacity:c},v("circle",{className:"circular-progress-trail",stroke:a,fill:"transparent",opacity:l||1,strokeWidth:i,strokeOpacity:1,r:d,cx:n,cy:n}),v("circle",{className:"circular-progress-main",stroke:s,strokeDasharray:p,style:{strokeDashoffset:h},fill:"transparent",strokeWidth:i,strokeOpacity:1,r:d,cx:n,cy:n}))))};var gy=o("./src/passport/passport-compass-rose--corner.svg");const by=function(e){var t=e.progress,n=e.thumbnail,r=e.isPassport;return v("div",{il-progress",style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"cover"}},r&&v("img",{className:"passport__corner-badge",src:gy,alt:"Passport"}),v("div",{className:"thumbnail-progress-play"},v("div",{className:"thumbnail-progress-play-inner"},v(_y,{className:"thumbnail-progress-play-fg",radius:40,stroke:8,progress:t,iconColor:"#fff",strokeColor:"#fe704e",trailColor:"#fff",trailOpacity:.4,opacity:.9}))))};var jy=o("./src/continuous-play/close-icon.svg");function Ey(e){var t=e.title,n=e.showTitle,r=e.episodeTitle,o=e.isPassport,i=e.isPlayable,s=e.countdownSeconds,a=e.thresholdSeconds,l=e.thumbnail,c=e.handleClose,u=e.handleClickContinuousPlay,d=e.context,p=e.video,h=o&&i,f=sp(),m=f[0],v=f[1],y=s>0?100-100*s/a:100;return lp((function(){o&&!m&&Cl(p.slug,d.stationId,d.userId).then((function(e){v(e)}))})),Kp.createElement("div",{className:"continuous-play-content"},Kp.createElement("div",{className:"continuous-play-close"},Kp.createElement(yy,{label:"Cancel upcoming video",onClick:c},Kp.createElement("img",{className:"pbs-close",src:jy,alt:"Close"}))),Kp.createElement("div",{className:"continuous-play-main"},s&&s>0?Kp.createElement("div",{className:"continuous-play-countdown"},"Up Next in"," ",Kp.createElement("span",{className:"continuous-play-countdown-seconds"},s)):Kp.createElement("div",{className:"continuous-play-countdown"},"Up Next"),Kp.createElement("div",{className:"continuous-play-show-title"},n||"PBS"),Kp.createElement("div",{className:"continuous-play-title"},o?Kp.createElement("img",{className:"passport__logo",src:jv,alt:"Passport"}):null,r?Kp.createElement("span",{className:"continuous-play-meta"},Kp.createElement("span",{className:"continuous-play-title-episode"},r),Kp.createElement("span",{className:"continuous-play-title-divider"}," | ")):null,Kp.createElement("span",{className:"continuous-play-title-main"},t)),o&&!h&&Kp.createElement("button",{className:"passport__skip-to-btn",onClick:function(){var e={command:rc,payload:m};Fu(JSON.stringify(e))},title:"Surprise Me!"},Kp.createElement("span",{className:"passport__skip-to-text"},"Watch something else"),Kp.createElement(_v,{color:"white"}))),Kp.createElement("div",{className:"continuous-play-thumbnail"},Kp.createElement(yy,{label:"Play ".concat(t),onClick:u},Kp.createElement(by,{thumbnail:l,progress:y,isPassport:o}))))}var Sy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props,n=e.dispatch,r=e.continuousPlayData;n(Ud()),xd("continuous-play:hide"),n(Bd(!1,"hide-continuous-play",r))},t.handleClickContinuousPlay=function(){var e=t.props,n=e.dispatch,r=e.continuousPlayData;n(Bd(!1,rc,r))},t}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.shouldDisplayContinuousPlay,n=e.countdownSeconds,r=e.countdownThresholdSeconds,o=e.continuousPlayData,i=e.video,s=e.context;if(!t||!o)return null;var a=dv(o.imageUrl,{width:250,height:140});return Kp.createElement("div",{className:"continuous-play-overlay"},Kp.createElement(Ey,{title:o.title,showTitle:o.showTitle,episodeTitle:o.episodeTitle,isPassport:o.isPassport,isPlayable:o.isPlayable,thumbnail:a,countdownSeconds:n,thresholdSeconds:r,handleClose:this.handleClose,handleClickContinuousPlay:this.handleClickContinuousPlay,video:i,context:s}))},t}(Kp.Component);const wy=kh((function(e){return{shouldDisplayContinuousPlay:"COUNTDOWN"===e.continuousPlay.status,countdownSeconds:e.continuousPlay.countdownSeconds||0,countdownThresholdSeconds:e.continuousPlay.countdownThresholdSeconds||0,continuousPlayData:e.continuousPlay.payload}}))(Sy);var Cy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.video,n=e.context,r=e.isCaptionsOpen,o=e.isTopBarScreenOpen,i=e.isStatusBarOpen,s=e.isPlayerPaused,a=e.isVideoComplete,l=Tl().getPlayer(ql),c=document.getElementById("closed-captions-settings-modal-dialog"),u="viral_player"===n.playerType&&i,d="viral_player"===n.playerType&&s,p=("portal_player"===n.playerType||"station_player"===n.playerType)&&!n.options.unsafeDisableContinuousPlay,h=!p&&a&&n.options.endscreen&&!o,f=("portal_player"===n.playerType||"station_player"===n.playerType)&&n.options.unsafeDisableContinuousPlay&&a;return v(_,null,u?v($v,{video:t}):null,d?v($v,{video:t}):null,"show_passport_upsell"===t.showUpsellOverlay?v(Xm,null,v(Sv,{video:t,context:n})):null,"show_continuous_play_flow_passport_upsell"===t.showUpsellOverlay?v(Xm,null,v(Cv,{video:t,context:n})):null,o?v(Xm,null,v(hy,{player:l,video:t,context:n})):null,r&&c?v(Vf,{modalContainer:c},v(Xm,null,v(Wv,{video:t,player:l}))):null,h?v(Xm,{showControls:!0,showReplay:f},v(vy,{video:t,context:n,isOpen:a,player:l})):null,p?v(wy,{video:t,context:n}):null)},t}(g);const Ay=kh((function(e){return{isCaptionsOpen:e.captions.isSettingsOpen,isTopBarScreenOpen:"CLOSED"!==e.topBar.screen,isStatusBarOpen:"READY"===e.player.playback,isVideoComplete:"COMPLETE"===e.player.playback,isPlayerPaused:"PAUSED"===e.player.playback}}))(Cy),Py=function(e){return v("svg",{className:e.isSelected?"selected topbar__icon":"topbar__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},v("title",{id:"title",lang:"en"},"Embed Icon"),v("path",{fill:"#fff",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}))},xy=function(e){return v("svg",{className:e.isSelected?"selected topbar__icon":"topbar__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},v("title",{id:"title",lang:"en"},"Info Icon"),v("path",{fill:"#fff",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}))},Ty=function(e){return v("svg",{className:e.isSelected?"selected topbar__icon":"topbar__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},v("title",{id:"title",lang:"en"},"Share Icon"),v("path",{fill:"#fff",d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"}))},Ny=on":"topbar__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},v("title",{id:"title",lang:"en"},"Shop Icon"),v("path",{fill:"#fff",d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}))};var ky=o("./src/topbar/topbar-pbs.png");const Oy=kh((function(e){return{screen:e.topBar.screen,progress:e.player.progress}}))((function(e){var t=e.dispatch,n=e.video,r=e.context,o=e.screen,i=e.progress,s={current:null},a="viral_player"===r.playerType,l=!(!n.dvdLink&&!n.itunesLink);if("viral_player"!==r.playerType&&!r.options.topbar)return null;var c="partner_player"===r.playerType||"bento_player"===r.playerType?"topbar-container":"";return v("div",{className:"".concat(c),onMouseEnter:function(){s&&s.current&&("partner_player"===r.playerType||"bento_player"===r.playerType)&&(s.current.style.transfd:"topbar",className:"topbar",ref:s,onMouseLeave:function(e){"partner_player"!==r.playerType&&"bento_player"!==r.playerType||0===i||(e.target.style.transform="translateY(-100%)")}},v("div",{className:"topbar__logo"},a?v("h1",null,v("a",{href:"https://www.pbs.org"},v("img",{src:ky,alt:"PBS Video"}))):null),v("div",{className:"topbar__controls"},v("button",{className:"topbar__screen-button",onClick:function(){return t(Cd("INFO"))}},v(xy,{isSelected:"INFO"===o})),n.allowEmbed?v("button",{className:"topbar__screen-button",onClick:function(){return t(Cd("EMBED"))}},v(Py,{isSelected:"EMBED"===o})):null,v("button",{className:"topbar__screen-button",onClick:function(){return t(Cd("SHARE"))}},v(Ty,{isSelected:"SHARE"===o})),l?v("button",{className:"topbar__screen-button",onClick:function(){return t(Cd("SHOP"))}},v(Ny,{isSelected:"SHOP"===o})):null)))}));var Ly=Tl().getComponent("MenuButton"),Ry=Tl().getComponent("MenuItem"),Iy=Tl().getComponent("Menu"),Dy=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.controlText("".concat(n.label)),r}return W(t,e),t.prototype.handleClick=function(){var e,t,n=null===(t=null===(e=this.player())||void 0===e?void 0:e.getChild("controlBar"))||void 0===t?void 0:t.getChild("QualityLevelsButton");if(n){var r=n.menu.children_;for(var o in r)r[o].selected(!1)}this.selected(!0),this.player()&&(this.player().dashQualityLevelsSelected=this.options_.index,this.player().trigger("dashQualityLevelsSelected",{autoSwitchBitrate:!1}))},t}(Ry);Tl().registerComponent("QualityLevelsItem",Dy);var My=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.controlText("Auto-switch quality levels"),r}return W(t,e),t.prototype.handleClick=function(){this.selected(!0);var e=this.player().getChild("controlBar");if(e){var t=e.getChild("QualityLevelsButton");if(t){var n=t.menu.children_;for(var r in n){var o=n[r];"Auto"!==o.options_.label&&o.selected(!1)}}}this.player().trigger("dashQualityLevelsSelected",{autoSwitchBitrate:!0})},t}(Ry);Tl().registerComponent("AutoOptionMenuItem",My);var Uy=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.qualityLevels=r,r&&(Ly.call(o,t,n),o.controlText("Quality Menu"),o.addClass("vjs-quality-selector"),o.removeClass("vjs-hidden")),o}return W(t,e),t.prototype.buildCSSClass=function(){return"vjs-quality-selector vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-showing"},t.prototype.createMenu=function(){var e=new Iy(this.player()),t=this.qualityLevels,n=new Ry(this.player(),{label:"Quality",selectable:!1,multiSelectable:!1});n.addClass("vjs-menu-title"),n.removeClass("vjctable:!0,multiSelectable:!1});if(r.selected(!0),e.addChild(r),t)for(var o=t.length-1;o>=0;o--){var i=new Dy(this.player(),{multiSelectable:!1,selectable:!0,label:t[o].height+"p",index:t[o].qualityIndex,sortIndex:o});e.addChild(i)}return e},t}(Ly),By=function(e){var t=e.dash.mediaPlayer;e.dashQualityLevels=t.getBitrateInfoListFor("video"),e.trigger("dashQualityLevels"),e.on("dashQualityLevelsSelected",(function(e,n){var r=n.autoSwitchBitrate,o=e.target.player.dashQualityLevelsSelected,i={streaming:{abr:{autoSwitchBitrate:{}}}};i.streaming.abr.autoSwitchBitrate.video=r,t.updateSettings(i),t.setQualityFor("video",o,!0)}))},Fy=Tl().getComponent("Menu"),Yy=Tl().getComponent("MenuItem"),Vy=Tl().getComponent("MenuButton"),Hy=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.controlText(ec),r}return W(t,e),t.prototype.handleClick=function(){this.player().trigger("theatreModeTrigger"),this.player().toggleClass("theatre-mode");var e=this.parentComponent_;Wy(this.player(),e)},t}(Yy),Wy=function(e,t){var n,r,o=t.getChild("menuTitleTheatre");if(o){var i=null===(r=null===(n=o.parentComponent_)||void 0===n?void 0:n.parentComponent_)||void 0===r?void 0:r.menuButton_,s=o.el_.children;if(s.length)for(var a=0,l=s;a<l.length;a++){var c=l[a];"vjs-menu-item-text"===c.className&&(e.hasClass("theatre-mode")?(c.innerText=Zl,o.controlText(Zl),i.controlText(Zl)):(c.innerText=ec,o.controlText(ec),i.controlText(ec)))}}},qy=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.controlText(ec),r.addClass("vjs-theatre-mode-button"),r.removeClass("vjs-hidden"),r}return W(t,e),t.prototype.buildCSSClass=function(){return"vjs-theatre-mode-button vjs-control vjs-button vjs-pbs-button"},t.prototype.handleClick=function(){this.player().trigger("theatreModeTrigger"),this.player().toggleClass("theatre-mode"),Wy(this.player(),this.menu)},t.prototype.createMenu=function(){var e=new Fy(this.player()),t=new Hy(this.player(),{label:ec,name:"menuTitleTheatre",selectable:!1,multiSelectable:!1});return e.addChild(t),e},t}(Vy);Tl().registerComponent("TheatreModeButton",qy);var Gy=Tl().getComponent("MenuItem"),$y=Tl().getComponent("MenuButton"),zy=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.controlText("Select Source"),o.vjsPlayer=t,o.index=r,o.label=n.label||"",o}return W(t,e),t.prototype.handleClick=function(){this.selected(!0),this.deselectOtherItems(this.label),this.vjsPlayer&&void 0!==this.vjsPlayer.playlist&&this.vjsPlayer.playlist.currentItem(this.index)},t.prototype.deselectOtherItems=function(e){var t,n=null===(t=this.vjsPlayer)||void 0===t?void 0:t.getChild("controlBar");if(n){var r=n.getChild("PlaylistButton");if(r){var o=r.menu.children_;for(var i in o){var s=o[i];e!==s.label&&s.selected(!1)}}}},t}(Gy);Tl().registerComponent("PlaylistMenuItem",zy);var Ky=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.playlistSources=r,$y.call(o,t,n),o.controlText("Accessibility Features"),o.addClass("vjs-accessibility-menu"),o}return W(t,e),t.prototype.buildCSSClass=function(){return"vjs-accessibility-menu ".concat(e.prototype.buildCSSClass.call(this))},t.prototype.createItems=function(){var e=this,t=this.playlistSources,n=new Gy(this.player(),{label:"Accessibility Features",selectable:!1});return n.addClass("vjs-menu-title"),n.removeClass("vjs-menu-item"),t?K([n],t.map((function(t,n){return new zy(e.player(),{label:t.label,selectable:!0,multiSelectable:!1,selected:t.isDefault||!1},n)})),!0):[n]},t}($y),Qy={asl:"ASL","ead-english":"Extended Audio Description","ead-spanish":"Descripciones de Sonidoaptions","oc-spanish":"Subtítulos Abiertos"},Xy=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.controlText("Open Captions Settings"),i.modal=r,i.dispatch=o,i}return W(t,e),t.prototype.handleClick=function(){this.dispatch&&this.modal&&this.dispatch(xc(this.modal))},t}(Tl().getComponent("CaptionSettingsMenuItem")),Jy=Tl().getComponent("SubsCapsButton"),Zy=Tl().getComponent("MenuItem"),e_=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.controlText("Closed Captions"),i.modal=r,i.dispatch=o,i}return W(t,e),t.prototype.buildCSSClass=function(){return"".concat(e.prototype.buildCSSClass.call(this)," vjs-pbs-captions-button")},t.prototype.createItems=function(){for(var t=e.prototype.createItems.call(this).filter((function(e){return"CaptionSettingsMenuItem"!==e.name_})),n=0;n<t.length;n++)if("captions off"===(s=t[n].options_.label)||"captions and subtitles off"===s){var r=t[n];t.splice(n,1),t.push(r)}var o=new Zy(this.player(),{label:"Closed Captions",selectable:!1});o.addClass("vjs-menu-title"),o.removeClass("vjs-menu-item"),t.unshift(o);var i=new Xy(this.player(),{kind:"captions",label:"Customize",track:{kind:"captions",label:"Customize",selectable:!1,default:!1,mode:"disabled"},selectable:!1},this.modal,this.dispatch);for(i.addClass("vjs-pbs-cc-customize"),i.removeClass("vjs-texttrack-settings"),t.push(i),n=0;n<t.length;n++){var s;if("captions off"===(s=t[n].options_.label)||"captions and subtitles off"===s){t[n].contentEl().firstChild.innerText="Off";var a=window.location.href,l=this.player().playlist;-1!=a.indexOf("poc-test-d")&&1===l.currentIndex()&&(t[n].contentEl().firstChild.innerText="Open Captions")}if("captions settings"===s&&(t[n].contentEl().firstChild.innerText="Customize"),gc.getAllNames().includes(s)){var c=gc.getCode(bc(t[n].options_.label));t[n].contentEl().firstChild.innerText=jc(c)}else"English CC"===s&&(t[n].contentEl().firstChild.innerText="English")}return t},t}(Jy);Tl().registerComponent("ManifestCaptionsButton",e_),Tl().registerComponent("CaptionsCustomizeMenuItem",Xy);var t_=Tl().getComponent("SubsCapsButton"),n_=Tl().getComponent("MenuItem"),r_=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.controlText("Closed Captions Off"),r}return W(t,e),t.prototype.handleClick=function(){var e,t=this.player().remoteTextTracks(),n=null===(e=this.player().getChild("controlBar"))||void 0===e?void 0:e.getChild("legacySidecarCaptionsButton");n&&(vc(n),mc(n)),this.selected(!0),Hl(Cc,"Off");for(var r=0;r<t.length;r++)t[r].mode="disabled"},t}(n_),o_=funis,t,n)||this;return o.controlText("Closed Captions ".concat(r.label)),o.track=r,o}return W(t,e),t.prototype.handleClick=function(){var e,t=Sc(this.player()),n=null===(e=this.player().getChild("controlBar"))||void 0===e?void 0:e.getChild("legacySidecarCaptionsButton");n&&(vc(n),fc(n));for(var r=0;r<t.length;r++){var o=t[r];this.track&&this.track.srclang===o.language&&this.track.kind===o.kind?(o.mode="showing",Hl(Cc,this.track.label),this.selected(!0)):o.mode="disabled"}},t}(n_),i_=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.controlText("Open Captions Settings"),i.modal=r,i.dispatch=o,i}return W(t,e),t.prototype.buildCSSClass=function(){return"".concat(e.prototype.buildCSSClass.call(this)," vjs-pbs-cc-customize")},t.prototype.handleClick=function(){this.dispatch(xc(this.modal))},t}(n_),s_=function(e){function t(t,n,r,o,i){var s=e.call(this,t,n)||this;return s.modal=r,s.dispatch=o,s.sidecarCaptions=i,s.controlText("Closed Captions"),s.addClass("vjs-pbs-cc-button"),s.menu.addClass("vjs-pbs-cc-button-menu"),s}return W(t,e),t.prototype.buildCSSClass=function(){return"".concat(e.prototype.buildCSSClass.call(this)," vjs-pbs-captions-button")},t.prototype.createItems=function(){var e,t,n=this,r=new n_(this.player(),{label:"Closed Captions",selectable:!1});if(r.addClass("vjs-menu-title"),r.removeClass(".sidecarCaptions)||void 0===e?void 0:e.length))return[r,new n_(this.player(),{label:"None",selectable:!1,multiSelectable:!1})];var o=[];null===(t=this.sidecarCaptions)||void 0===t||t.map((function(e){o.push(new o_(n.player(),{label:e.label,name:e.label,selectable:!0,multiSelectable:!1},e))}));var i=new r_(this.player(),{label:"Off",name:"Off",selectable:!0}),s=new i_(this.player(),{label:"Customize",selectable:!0},this.modal,this.dispatch);return s.addClass("vjs-pbs-cc-customize"),K(K([r],o,!0),[i,s],!1)},t}(t_);Tl().registerComponent("CaptionsOffMenuItem",r_),Tl().registerComponent("CaptionsLanguageMenuItem",o_),Tl().registerComponent("CaptionsCustomizeMenuItem",i_),Tl().registerComponent("LegacySidecarCaptionsButton",s_);var a_=function(e,t){var n=Vl(Cc),r=Ec(t).map((function(e){return jc(e.language)}));"Off"!==n&&void 0!==n&&r.includes(n)?fc(e):mc(e)},l_=function(e){var t,n=gc.getAllNames(),r=e.children();if(r&&r.length>1){var o=null===(t=r[1])||void 0===t?void 0:t.children();if(o)for(var i=0;i<o.length;i++){var s=o[innerText=jc(l)}}}},c_=bu(),u_=function(e){function t(t){var n=e.call(this,t)||this;return n.handlePlayerMount=function(){var e=n.props,t=e.context,r=e.video,i=e.dispatch,s=n.state.videoOptions,a=document.querySelector("video"),l=Tl().getPlayer(ql);if(a&&l){r.hasDrm&&!c_&&"function"==typeof Tl().Html5DashJS&&Tl().Html5DashJS.hook("beforeinitialize",rv(l,i,n.handlePlayerError));var c=l.getChild("controlBar");if(l.enableTouchActivity(),c){var u=c.getChild("volumePanel");if(u){var d=u.children()[0];l.on(d,"click",(function(){l&&i(sc(l.muted()))}))}}var p,h=new Hf(l,{label:"Closed Captions Settings",temporary:!1,name:"Closed Captions Settings"});h.contentEl_.id="closed-captions-settings-modal-dialog",l.addChild(h),i(function(e,t,n,r){return{type:oc.PLAYER_MOUNT,payload:{player:e,video:t,context:n,modal:r}}}(l,r,t,h)),a.onplay=function(){return i({type:oc.PLAYER_PLAY})},a.onpause=function(){return i({type:oc)},a.addEventListener("touchstart",(function(){l.paused()?l.play():l.pause()}),{passive:!0}),l.one("play",(function(){var e;i(function(e,t){return{type:oc.PLAYER_FIRST_FRAME,payload:{player:e,context:t}}}(l,t)),"e.transform="translateY(-100%)")})),a.onvolumechange=function(e){clearTimeout(p),p=o.g.setTimeout((function(){if(e&&e.target){var t=e.target.volume;i(functioVOLUME,payload:{volume:e}}}(t)),0===t?i(sc(!0)):l&&i(sc(l.muted()))}}),1e3)},a.ontimeupdate=function(){var e={currentTime:a.currentTime,position:a.currentTime,duration:a.duration,metadata:{},seekRange:a.seekable,start:0,end:a.duration};i(function(e,t){return{type:oc.PLAYER_TIME,payload:{timeInfo:e,video:t}}}(e,r))},l.on("ads-manager",(function(e){e.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,(function(){return i({type:oc.PLAYER_AD_PAUSE})})),e.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,(function(){var e=document.querySelector("#player-videojs_ima-play-pause-div:not(.ima-paused)");e&&e.click()})),e.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,(function(){return i(ac())})),e.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,(function(){return i(ac())})),e.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,(function(){return i({type:oc.PLAYER_AD_COMPLETE})}))}));var f=function(e){var t=e.relatedAccessibilityVideos,n=e.slug;if(t&&0!==t.length){var r=[];return t.forEach((function(e){var t,o=e.hls_videos.filter((function(e){return"hls-16x9-1080p"===e.profile}));o.length>0&&r.push({sources:[{src:null===(t=o[0])||void 0===t?void 0:t.url,type:"application/x-mpegURL"}],isDefault:e.slug===n,label:Qy[e.accessibility_profile],poster:e.images["asset-mezzanine-16x9"]})})),r}return null}(r),m=s&&s.liveui,v=function(e){return e.chapters.map((function(e){return{time:e.start/1e3,text:e.title,display:!0,class:"video-js-marker"}}))}(r),y=v&&v.length>0,_=m?5:7,g=_+1,b=y?g+1:g,j=m?_+1:b+1,E=j+1,S=E+1,w=E+1,C=_+1;f&&(E=(j=C+1)+1,S=(b=j+1)+1,w=b+2);var A=new Oh(l,{name:"SeekButton"});c&&c.addChild(A,{},2);var P=new Lh(l,{name:"Spacer"});if(c&&c.addChild(P,{},_),!m&&y){var x=new Hh(l,{name:"ChapterSelectorButton"},v);x&&c&&c.addChild(x,{},g),void 0!==l.markers&&l.markers({markers:v,markerTip:{text:function(e){return e.text}}})}if(void 0!==l.playlist&&f){l.playlist(f),l.playlist.currentItem(l.playlist.lastIndex());var T=new Ky(l,{name:"PlaylistButton"},f);c&&c.addChild(T,{},C)}if(!m){var N=new Bh(l,{name:"PlaybackSpeedButton"});N&&(c&&c.addChild(N,{},b),l.on("ratechange",(function(e){i(function(e){return{type:oc.PLAYER_CHANGE_PLAYBACK_RATE,payload:{playbackSpeedButton:e}}}(e))})))}if(r.hasMp4Encodings&&!r.hasHlsEncodings||r.hasDrm){var k=new s_(l,{name:"LegacySidecarCaptionsButton"},h,i,l.options_.tracks||[]);c&&c.addChild(k,{},j),Sc(l).on("addtrack",(function(e){var t,n=e.track;i((t=n.language,{type:Ac.ADD_SIDECAR_CAPTION,payload:{trackLanguage:t,closedCaptionsButton:k}}))}))}else{c_&&l.addClass("is-safari");var O=new e_(l,{name:"ClosedCaptionsButton"},h,i);c&&c.addChild(O,{},j);var L=l.textTracks();c_?l.on("loadedmetadata",(function(){setTimeout((function(){Ec(L).every((function(e){return"disabled"===e.mode}))?O&&mc(O):O&&fc(O)}),50)})):a_(O,L),L.on("addtrack",(function(e){var t=e.track;!c_&&i(Lc(t,O))})),L.on("change",(function(){i(Rc(O,c_))}))}if(c){var R=c.getChild("AudioTrackButton");if(R){var I=new(Tl().getComponent("MenuItem"))(l,{label:"Audio Selector",selectable:!1});I.addClass("vjs-menu-title"),I.removeClass("vjs-menu-item"),setTimeout((function(){l_(R);var e=R.children();e&&e.length>1&&e[1].contentEl().prepend(I.contentEl())}),100)}}r.hasDrm&&!c_&&a.classList.add("hide-webkit-media-text-track-container");var D=new qy(l,{name:"TheatreModeButton"});"portal_player"!==t.playerType&&"station_player"!==t.playerType||c&&c.addChild(D,{},w),s&&!m&&(r.hasDrm&&!c_?l.on("loadedmetadata",By.bind(null,l)):void 0!==dm&&l.hlsQualitySelector&&l.hlsQualitySelector({displayCurrentQuality:!1,sortAscendishQualityLevels",(function(e){var t=e.target.player.dashQualityLevels;if(!m&&t){var n=new Uy(l,{name:"QualityLevelsButton"},t);n&&c&&c.addChild(n,{},S)}})),t.options.unsafePostMessages?(lv(l),window.addEventListener("message",(function(e){var t=Yu(e.data);i(function(e){return{type:oc.PLAYER_POST_MESSAGE,payload:{data:e}}}(t)),sv(l,t)}),!1)):"partner_player"!==t.playerType&&"bento_player"!==t.playerType||(function(e,t){if(document.referrer){parent.postMessage("initialized",document.referrer);var n="videoInfo::"+JSON.stringify(function(e){return{title:e.title,slug:e.program&&e.program.slug}}}(t));parent.postMessage(n,document.referrer),Au(ov,(function(t,n){var r=n,o=t;e.on(r,(function(){parent.postMessage(o,document.referrer)}))}))}}(l,r),function(e){window.addEventListener("message",(function(t){return function(e,t){var n=t.data;if(Du(n)){var r=n.split("::")[0],o=n.split("::")[1],i=!0;if(-1!==["initizr(e[r])&&e[r](o);else{var s=void 0;i&&r&&(s=zr(e[r])&&e[r]()),-1===["play","pause","seek","stop"].indexOf(r)&&t.source&&t.source.postMessage(r+"::"+s,t.origin)}}}(e,t)}),!1)}(l)),!m&&r.trickPlayFileUrl&&"lite_portal_player"!==t.playerType&&"function"==typeof l.vttThumbnails&&l.vttThumbnails({src:r.trickPlayFileUrl}),setTimeout((function(){var e=l.$(".vjs-mouse-display");e&&e.classList.remove("vjs-hidden")}),1e3),l.on("error",(function(){n.handlePlayerError(l,i)}))}},n.handlePlayerError=function(e,t){t(function(e){return{type:oc.PLAYER_ERROR,payload:{player:e}}}(e)),n.setState({errorData:{message:$l}})},n.state={errorData:void 0,videoOptions:void 0},n}return W(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.video,r=t.context;(function(e){return Promise.all(e.encodings.map(zm))})(n).then((function(t){var o=function(e,t,n){var r=function(e){var t=n.pbs.org"];return e.filter((function(e){return e.url})).map((function(e){var r=cv(e.url||""),o=new URL(r);n.includes(o.hostname)&&(t=!0)})),t}(e),o=t.relatedAccessibilityVideos,i=o&&o.length>0,s={sources:i?void 0:uv(t,hv,e),controls:!0,controlBar:{children:fv(r),volumePanel:{inline:!1}},liveui:r,autoplay:!1,muted:n.options.muted,poster:i?"":pv(t,n),persistTextTrackSettings:!0,html5:{nativeCaptions:!!hv},plugins:{},preload:"lite_portal_player"===n.playerType?"none":"auto",responsive:!0,breakpoints:{large:1024},playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2],loop:!1,fluid:!0,aspectRatio:"16:9"};return(t.hasMp4Encodings&&!t.hasHlsEncodings||t.hasDrm)&&(s.tracks=mv(t)),s}(t,n,r);document.querySelector("video")&&e.handlePlayerMount(),e.setState({videoOptions:o})})).catch((function(t){e.setState({errorData:t})}))},t.prototype.render=function(){var e=tta,r=this.props,o=r.context,i=r.video;return n?v("div",{className:"wrapper wrapper--error"},v(ev,{errorData:n})):t?v("div",{style:o.options.width&&o.options.height?{width:o.options.width,height:o.options.height,margin:"0 auto"}:{}},v(Oy,{context:o,video:i}),v("div",{className:"wrapper","data-vjs-player":!0},v(Ay,{video:i,context:o}),v("div",null,v(Yf,q({},t,{mounted:this.handlePlayerMount,video:i,context:o})),v(tv,null)))):void 0},t}(g),d_=kh()(u_);var p_=Tl().getPlugin("plugin"),h_={image:void 0,url:void 0,position:"top-right",offsetH:0,offsetV:0,width:void 0,height:void 0,padding:5,fadeDelay:5e3,hideOnReady:!1,opacity:1},f_=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t)||this).tid=null,r.div=null,r.options=Tl().mergeOptions(h_,n),r.player.ready((function(){return r._onPlayerReady()})),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o._onPlayerReady=function(){this.player.addClass("vjs-logo"),this.options.image&&(this._setup(),this.options.hidis.player.el(),n=document.createElement("div");n.classList.add("vjs-logo-content"),n.classList.add("vjs-logo-hide"),n.style.padding=this.options.padding+"px";var r=this.options,o=r.offsetH,i=r.offsetV;switch(this.options.position){case"top-left":n.style.top=;case"top-right":default:n.style.t.bottom=i+"px",n.style.left=o+"px";break;case"bottom-right":n.style.bottom=i+"px",n.style.right=o+"px"}this.div=n;var s=document.createElement("img");s.src=this.options.image;var a=this.options,l=a.width,c=a.height,u=a.opacity;if(l&&(s.width=l),c&&(s.height=c),u&&(s.style.opacity=u),this.options.url){var d=document.createElement("a");d.href=this.options.urn(t){t.preventDefault(),window.open(e.options.url)},d.appendChild(s),n.appendChild(d)}else ion(){var e=this;this.tid&&(clearTimeout(this.tid),this.tid=null),this.div&&this.div.classList.remove("vjs-logo-hide"),null!==this.options.fadeDelay&&(this.tid=setTimeout((function(){e.hide(),e.tid=null}),this.options.fadeDelay))},o.hide=function(){this.div&&this.div.classList.add("vjs-log},f_.VERSION="2.1.4",Tl().registelayer=void 0,n.videoNode=void 0,n}return W(t,e),t.prototype.componentDidMount=function(){var e=this.props.mounted,t=this.props,n=(t.children,G(t,["children"]));this.videoNode&&(this.player=Tl()(this.videoNode,n,(function(){e&&e()})),"function"==typeof this.player.eme&&this.player.eme())},t.prototype.componentWillUnmount=function(){this.player&&this.player.dispose()},t.prototype.render=function(){var e=this,t=this.props.context,n="ga_livestream_portal_player"===(null==t?void 0:t.playerType)||"ga_livestream_statis vjs-big-play-centered".concat(n);return v("video",{id:Gl,ref:function(t){return e.videoNode=t},className:r,playsInline:!0})},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t}(g));const v_=m_;var y_=function(e,t){var n=e.hasDrmFeed;switch(!0){case n&&!t&&null!==e.drmDashUrl:return function(e){return[{src:e.drmDashUrl,type:"application/dash+xml",keySystemOptions:[{name:"com.widevine.alpha",options:{serverURL:e.drmWidevineLicenseUrl,priority:1}},{name:"com.microsoft.playready",options:{serverURL:e.drmPlayreadyLicenseUrl,priority:2}}]}]}(e);case n&&t&&null!==e.drmHlsUrl:return function(e){return[{src:e.drmHlsUrl,type:"application/x-mpegURL",keySystems:{"com.apple.fps.1_0":{getContentId:function(e,t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},certificateUri:"https://static.drm.pbs.org/fairplay-cert",licenseUri:e.drmFairplayLicenseUrl}}}]}(e);case null!==e.nonDrmUrl&&void 0!==e.nonDrmUrl:return function(e){return e.nonDrmUrl?[{src:cv(e.nonDrmUrl),type:"application/x-mpegURL",keySystemOptions:[]}]:[]}(e);default:return function(e){return[{src:cv(e.gaLiveStreamUrl),type:"application/x-mpegURL",keySystemOptions:[]}]}(e)}};function __(e,t){if(void 0===t&&(t=window),!e.imageUrl||void 0!==e.options.feedCid&&!0===e.options.channelSwitch)return"";var n=t.outerWidth||t.innerWidth,r=Math.ceil(n/(16/9));return dv(e.imageUrl,{width:n,height:r})}var g_=bu(),b_=function(e){var t=e.stationCommonName;return v(Xm,null,v("div",{className:"location-request livestream-rejected"},v("div",{className:"location-request__message"},v("div",{className:"location-request__message-header message-unavailable"},"The ",t," livestream is not available in your current location."),v("div",{className:"location-request__message-coverage"},v("p",null,"Station livestreams are only available in the station broadcast coverage area.")),v("div",{className:"location-request__message-more-information"},v("p",null,"For more information, visit our"," ",v("a",{href:Xl,target:"_blank",rel:"noopener noreferrer",title:"Livestreaming Help"},"livestreaming FAQ")," ",".")))))},j_=function(){return v(Xm,null,v("div",{className:"location-request livestream-rejected"},v("div",{className:"location-request__message"},v("div",{className:"location-request__message-header message-unavailable"},"We could not determine your device’s location."),v("div",{className:"location-request__message-coverage"},v("p",null,"You may need to allow location when prompted.",v("br",null),"If you do not see a prompt, you may need to enable location services on your device or browser.")),v("div",{className:"location-request__message-more-information"},v("p",null,"For more information, visit our"," ",v("a",{href:Xl,target:"_blank",rel:"noopener noreferrer",title:"Livestreaming Help"},"livestreaming FAQ")," ",".")))))},E_=function(e){var t=e.onclick,n=e.livestreamAvailability,r=e.text;return v("button",{className:"btn btn--fill--white",onClick:function(){t()}},"evaluating"===n?v(nv,null):r)},S_=function(e){var t=e.checkGeolocation,n=e.livestreamAvailability;return v(Xm,null,v("div",{className:"location-request livestream-rejected"},v("div",{className:"location-request__message"},v("div",{className:"location-request__message-header message-unavailable"},"Something went wrong while getting your device’s location."),v("div",{className:"location-request__message-action"},v(E_,{text:"Try Again",onclick:t,livestreamAvailability:n})),v("div",{className:"location-request__message-more-information"},v("p",null,"For more information, visit our"," ",v("a",{href:Xl,target:"_livestreaming FAQ")," ",".")))))},w_=o("./src/live-player/overlays/location-request-family.svg"),C_=function(e){var t=e.checkGeolocation,n=e.livestreamAvailability;return v(Xm,null,v("div",{className:"location-request"},v("div",{className:"location-request__message"},v("div",{className:"location-request__message-header"},Kl),v("div",{className:"location-request__message-details"},v("p",null,Ql)),v("div",{className:"location-request__message-action"},v(E_,{text:"Start Watching",onclick:t,livestreamAvailability:n}))),v("div",{className:"location-request__image"},v("img",{src:w_,alt:"Watch PBS Online"}))))},A_=function(){return v(Xm,null,v("div",{className:"livestream-loading-spinner"},v(nv,null)))},P_=function(){return v(Xm,null,v(Wv,null))},x_=kh((function(e){return{isCaptionsOpen:e.captions.isSettingsOpen}}))((function(e){var t=e.livestreamAvailability,n=e.context,r=e.checkGeolocation,o=e.isCaptionsOpen;if("evaluating"===t)return v(A_,null);if("rejected"===t)return v(b_,{stationCommonName:n.stationCommonName});if("locationDenied"===t)return v(j_,null);if("locationTimedOut"===t)return v(S_,{checkGeolocation:r,livestreamAvailability:t});if(o){var i=document.getElementById("closed-captions-settings-modal-dialog");if(i)return v(Vf,{modalContainer:i},v(P_,null))}return"locationNeeded"===t?v(C_,{checkGeolocation:r,livestreamAvailability:t}):null})),T_=function(e){var t=e.stationCommonName;return v(_,null,v("div",{className:"liveplayer-poster-overlay"},v("img",{className:"liveplayer-poster-overlay--logo",src:e.stationLogo,alt:"".concat(t," logo")}),v("p",{className:"liveplayer-poster-overlay--watch-live-text"},v("span",{className:"liveplayer-poster-overlay--watch-live-indicator"},"•")," ","Watch Live TV")),v("div",{className:"liveplayer-poster-image"},v("img",{src:w_,alt:"Watch PBS Online"})))},N_=o("./src/live-player/pbs-logotype-white.png"),k_=o.n(N_),O_=function(e){var t="",n="";(null==e?void 0:e.video_type)&&(t=e.video_type.charAt(0).toUpperCase()+e.video_type.slice(1)),e.start_time&&e.duration&&(n=L_(e));var r=t&&n?" | ":"";return"".concat(t).concat(r).concat(n)},L_=function(e){var t=new Date(e.start_time),n=1e3*e.duration,r=new Date(t.getTime()+n).getTime(),o=(new Date).getTime(),i=Math.floor((r-o)/6e4),s=Math.floor(i/60);if(o>r)return"";if(s>0){var a=i%60;return"".concat(s," hr").concat(a>0?" ".concat(a," min"):""," remaining")}return i>0?"".concat(i," min remaining"):"Less than a minute remaining"},R_=function(e){return(new Date).geration?e[0]:e[1]};function I_(e){var t=this,n=e.context,r=sp(k_()),o=r[0],i=r[1],s=sp([]),a=s[0],l=s[1],c=sp(""),u=c[0],d=c[1],p=sp(null),h=p[0],f=p[1],m=sp(null),v=m[0],y=m[1],_=sp(null),g=_[0],b=_[1],j="ga_livestream_partner_player"===n.playerType;lp((function(){var e=function(){return $(t,void 0,void 0,(function(){var e,t,r,o,s,a,c,u,p;return z(this,(function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),e="https://".concat(window.location.host,"/api/livestream-schedule/").concat(n.stationId),[4urn[4,h.sent().json()](u=null===(c=t.collections[0])||void 0===c?void 0:c.content[0])||void 0===u?void 0:u.channels];case 3:return r=h.sent(),j&&(l(r),d(n.gaLiveStreamFeedCid)),[4,null==(o=r.find((function(e){return e.feed_cid===n.gaLiveStreamFeedCid})))?void 0:o.listings];case 4:return s=h.sent(),f(s),(null===(p=null==o?void 0:o.feed_image)||void 0===p?void 0:p.white_logo)&&i(o.feed_image.white_logo),[3,6];case 5:return a=h.sent(),console.error(a),[3,6];case 6:return[2]}}))}))};e();var r=setInterval((function(){e()}),6e4);return function(){return clearInterval(r)}}),[]),lp((function(){if(h){var e=setInterval((function(){y(R_(h))}),6e4);return y(R_(h)),function(){return clearInterval(e)}}return function(){}}),[h]),lp((function(){if(v){var e=setInterval((function(){b(O_(v){}}),[v]);var E="multi-livestream-overlay";return j&&(E+=" multi-livestream-overlay--partner-player"),v&&v.show_title?Kp.createElement(Kp.Fragment,null,j&&Kp.createElement("div",{className:"multi-livestream-overlay__channel-select-link-wrapper"},a.length>0&&Kp.createElement("label",{className:"multi-livestream-overlay__channel-select-label"},Kp.createElement("span",{className:"multi-livestream-overlay__channel-select-label-text"},"Channel:"),Kp.createElement("select",{className:"multi-livestream-overlay__channel-select",defaultValue:u,onChange:function(e){return t=e.target.value,(n=new URLSearchParams(window.location.search)).set("feed_cid",t),n.set("channel_switch","true"),void(window.location.search=n.toString());var t,n}},a.map((function(e){return Kp.createElement("option",{value:e.feed_cid},e.full_name)})))),n.scheduleUrl&&Kp.createElement("a",{href:n.scheduleUrl,className:"multi-livestream-overlay__schedule-link",target:"_blank",rel:"noopener noreferrer"},"See Full Schedule")),Kp.createElement("div",{clasden":"true"},"Live TV"),!j&&Kp.createElement("img",{src:o,className:"multi-livestream-overlay__channel-logo"}),Kp.createElement("h2",{className:"multi-livestream-overlay__show-title"},v.show_title),v.episode_title&&Kp.createElement("h3",{className:"multi-livestream-overlay__episode-title"},v.episode_title),g&&Kp.createElement("p",{className:"multi-livestream-overlay__metadata"},g))):null}var D_=bu(),M_=function(e){function t(t){var n=e.call(this,t)||this;return n.checkAvailability=function(){var e,t,r=n.props.context.stationId;n.setState({livestreamAvailability:Ym.evaluating}),(e=r,t="/check-ip-service-area/".concat(e),fetch(t).then((function(e){return e.json()})).then((function(e){return e.ip_is_in_service_area}))).then((function(e){e?n.setState({livestreamAvailability:Ym.success}):n.checkSavedPermissiions=funermissiontion"}).then((function(e){switch(e.state){case"prompt":case"denied":n.setState({livestreamAvailability:Ym.locationNeeded});break;case"granted":n.checkGeolocation();break;default:n.setState({lity:Ym.locationNeeded})},n.checkGeolocation=function(){var e=n.props.context.stationId;n.setState({livestreamAvailability:Ym.evaluating}),new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t,{maximumAge:864e5,timeout:2e4})})).then((function(t){if(!e)throw new Error("Error: User could not be localized.");return(n=e,r=t.coords.latitude,o=t.coords.longitude,i="/check-service-area/".concat(n,"/").concat(r,"/").concat(o),fetch(i).then((function(e){return e.json()})).then((function(e){return e.is_in_service_area}))).then((function(e){return e}));var n,r,o,i})).then((function(e){e?n.setState({livestreamAvailability:Ym.success}):n.setState({livestreState({livestreamAvailability:Ym.locationDenied})}),500):3===e.code&&n.setState({livestreamAvailability:Ym.locationTimedOut})}))},n.handlePlayerMount=function(){var e=n.props,t=e.context,r=e.dispatch,o=document.querySelector("video"),i=Tl().getPlayer(Gl);if(o&&i){D_||"funct"beforeinitialietChild("controlBar");if(i.enableTouchActivity(),s){var a=s.getChild("volumePanel");if(a){var l=a.children()[0];i.on(l,"click",(function(){i&&r(pc(i.muted()))}))}}var c,u,d=new Hf(i,{label:"Closed Captions Settings",temporary:!1,name:"Closed Captions Settings"});d.contentEl_.id="closed-captions-settings-modal-dialog",i.addChild(d),r(function(e,t,n){return{type:uc.LIVE_PLAYER_MOUNT,payload:{livePlayer:e,livePlayerContext:t,modal:n}}}(i,t,d)),(t.hasDrmFeed&&t.drmDisplayLogoOverlay||!t.hasDrmFeed&&t.displayLogoOverlay)&&(c={image:t.stationLogo,position:"bottom-right"},i.logo(c)),o.onplay=function(){return r({type:uc.LIVE_PLAYER},o.onended=function(){return r({type:uc.LIVE_PLAYER_COMPLETE})},o.ontouchstart=function(){i.paused()?i.play():i.pause()},o.onvolumechange=function(e){clearTimeout(u),u=setTimeout((function(){if(e&&e.target){var t=e.target.volume;r(function(e){return{type:uc.LIVE_PLAYER_VOLUME,payload:{volume:e}}}(t)),0===t?r(options.unsafePostMessages&&(lv(i),window.addEventListener("message",(function(e){var t=Yu(e.data);r(function(e){rR_POST_MESSAGE,payload:{data:e}}}(t)),sv(i,t)}),!1)),i.one("play",(function(){return r((e=o.currentTime,{type:uc.LIVE_PLAYER_FIRST_FRAME,payload:{streamStartPosition:e}}));var e})),o.ontimeupdate=function(){var e={currentTime:o.currentTime,position:o.currentTime};r(function(e){return{type:uc.LIVE_PLAYER_TIME,payload:{timeInfo:e}}}(e))};var p=new Oh(i,{name:"SeekButton"});s&&s.addChild(p,{},2);var h=new Lh(i,{name:"Spacer"});s&&s.addChild(h,{},5),D_&&i.addClass("is-safari");var f=new e_(i,{name:"ClosedCaptionsButton"},d,r);s&&s.addChild(f,{},6);var m=i.textTracks();D_?i.on("loadedmetadata",(function(){setTimeout((function(){Ec(m).every((function(e){return"disabled"===e.mode}))?f&&mc(f):f&&fc(f)}),50)})):a_(f,m),m.on("addtrack",(function(e){var t=e.track;!D_&&r(Lc(t,f))})),m.on("change",(function(){r(Rc(f,D_))})),D_||t.hasDrmFeed&&o.classList.add("hide-webkit-media-text-track-container");var v=i.audioTracks(if("eng"!==e.track.label&&"Eng"!==e.track.label||(v.getTrackById(e.track.id).label="English"),"dash-audio-1"!==e.track.id&&"main"===e.track.kind){var t=v.getTrackById(e.track.id);v.removeTrack(t)}})),s){var y=s.getChild("AudioTrackButton");if(y){var _=new(Tl().getComponent("MenuItem"))(i,{label:"Audio Selector",selectable:!1});_.addClass("vjs-menu-title"),_.removeClass("vjs-menu-item"),setTimeout((function(){l_(y);var e=y.children();e&&e.length>1&&e[1].contentEl().prepend(_.contentEl())}),1e3)}}var g=new qy(i,{name:"TheatreModeButton"});"ga_livestream_portal_player"!==t.playerType&&"ga_livestream_station_player"!==t.playerType||s&&s.addChild(g,{},7),i.dash&&i.dash.mediaPlayer&&i.dash.mediaPlayer.getProtectionController().setRobustnessLevel("SW_SECURE_CRYPTO"),i.on("error",(function(){n.handlePlayerError(i,r)}))}},n.handlePlayerError=function(e,t){t({type:uc.LIVE_PLAYER_ERROR,payload:{livePlayer:e}}),n.setState({errorData:{message:zl}})},n.state={livestreamAvailability:Ym.idle,errorData:void 0,videoOptions:void 0},n}return W(t,e),t.prototype.componentDidMount=function(){var e=this.props.context;if(e.features.pbs_internal_disable_geolocation_livestreams?this.setState({livestreamAvailability:Ym.success}):this.checkAvailability(),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");var t=function(e){var t,n;return{sources:y_(e,g_),controls:!0,persistTextTrackSettings:!0,html5:{dash:{useTTML:!0},nativeCaptions:!!g_},controlBar:{children:["playToggle","progressControl","volumePanel","seekToLive","audioTrackButton","fullscreenToggle"],volumePanel:{inline:!1}},autoplay:void 0!==(null===(t=e.options)||void 0===t?void 0:t.feedCid)&&!0===(null===(n=e.options)||void 0===n?void 0:n.channelSwitch),muted:e.options.muted,poster:__(e),plugins:{},liveui:!0,responsive:!0,fluid:!0,loop:!1,aspectRatio:"16:9"}}(e);document.querySelector("video")&&this.handlePlayerMount(),this.setState({videoOptions:t})},t.prototype.render=function(){var e=this.state,t=e.livestreamAvailability,n=e.videoOptions,r=e.errorData,o=this.props.context;return r?v("div",{className:"wrapper wrapper--error"},v(ev,{errorData:r})):n?v("div",{className:"wrapper"},v(x_,{livestreamAvailability:t,context:o,checkGeolocation:this.checkGeolocation}),v("div",{"data-vjs-player":!0},(null==o?void 0:o.options)&&1==!o.options.channelSwitch&&v(T_,{stationCommonName:o.stationCommonName,stationLogo:o.stationLogo}),v(v_,q({},n,{mounted:this.handlePlayerMount,context:o})),o&&o.options&&o.options.feedCid&&v(I_,{context:o})),v(tv,null)):void 0},t}(g),U_=kh()(M_);_r({dsn:Vu.SENTRY_DSN,sampleRate:.5,allowUrls:[/player\.pbs\.org/],ignoreErrors:[/ResizeObserver loop limit exceeded/,/ResizeObserver loop completed with undelivered notifications/,/currentTarget, detail, isTrusted, target/,/Non-Error promise rejection captured with keys: currentTarget, detail, isTrusted, target/,/NotAllowedError: play\(\) failed because the user didn't interact with the document first. https:\/\/goo.gl\/xX8pDD/,/NotAllowedError: play\(\) can only be initiated by a user gesture./,/(Error:\s)?AbortError: The play\(\) request was interrupted by a call to pause\(\).\(\s\)?\(https:\/\/goo.gl\/LdLk22\)?/,/AbortError: The operation was aborted./,/TypeError: cancelled/,/TypeError: NetworkError when attempting to fetch resource./,/SecurityError: The operation is insecure./,/SecurityError: Permission denied to access property "dispatchEvent" on cross-origin object/,/TypeError: undefined is not an object \(evaluating 'this.player.tech\(\{IWillNotUseThisInPlugins:!0\}\).hls'\)/,/TypeError: Unable to get property 'vhs' of undefined or null reference/,/TypeError: undefined is not an object \(evaluating 'this.player.tech\(\{IWillNotUseThisInPlugins:!0\}\).vhs'\)/,/TypeError: Cannot convert 'this.player.tech\(\{IWillNotUseThisInPlugins:!0\}\)' to object/,/this.player.tech\(...\) is undefined/,/Cannot read property 'hls' of undefined/,/Cannot read property 'vhs' of undefined/,/undefined is not an object \(evaluating 'e.tech_.el_'\)/,/e.tech_ is undefined/,/InvalidStateError: Failed to read the 'responseText' property from 'XMLHttpRequest': The value is only accessible if the object's 'responseType' is '' or 'text' \(was 'arraybuffer'\)./,/google is not defined/,/Can't find variable: google/,/'google' is undefined/,/'google' is not defined/,/google.ima.ImaSdkSettings is undefor: bad tg UTF-8 byte 0xE5 doesn't match the pattern 0b10xxxxxx/,/Non-Error promise rejection captured with value:/,/UnhandledRejection: Non-Error promise rejection captured with value:/,/Non-Error promise rejection captured with keys: http_code, message, status, url/,/Cannot read property 'el_' of undefined/,/Fullscreen request denied/,/jwplayer is not defined/,/undefined is not an object \(evaluating 'ceCurrentVideo.currentTime'\)/,/null is not an object \(evaluating 'ceCurrentVideo.currentTime'\)/,/Loading chunk 692 failed/],tracesSampleRate:.25});try{!function(e,t){if(window.Promise&&window.fetch&&window.Symbol&&window.URLSearchParams&&void 0!==window.navigator)return e();Promise.all([o.e(531),o.e(920)]).then(o.bind(o,"./src/polyfill.ts")).then((function(){e()})).catch((function(e){return function(e){e&&Je(e)}(e)}))}((function(){window.livePlayerContextBridge?Y((function(){var e,t,n,r;e=zd(),t=window.livePlayerContextBridge,void 0===n&&(n=document.location.search),r={playerType:t.player_type,playerFramework:t.player_framework,playerFrameworkVersion:t.player_framework_version,options:Wm(n),features:t.features,gaLiveStreamFeedCid:t.ga_live_stream_feed_cid,gaLiveStreamUrl:t.ga_live_stream_url,eventStationId:t.event_station_id,eventNationalId:t.event_national_id,displayLogoOverlay:t.display_logo_overlay,scheduleUrl:t.schedule_url,stationLogo:t.staionId:t.station_id,stationCallsign:t.station_callsign,imageUrl:t.image_url,hasDrmFeed:t.has_drm_feed,drmFeedCid:t.drm_feed_cid,drmHlsUrl:t.drm_hls_url,nonDrmUrl:t.non_drm_url,drmDashUrl:t.drm_dash_url,drmDisplayLogoOverlay:t.logo_overlay,drmFairplayLicenseUrl:t.drm_fairplay_license_url,drmWidevineLicenseUrl:t.drm_widevine_license_url,drmPlayreadyLicenseUrl:t.drm_playready_license_url,ga4MeasurementId:t.ga4_measurement_id},Mp(v(th,{store:e},v(U_,{context:r,store:e})),document.getElementById(Wl))})):Y((function(){var e,t,n,r,o,i,s;e=zd(),o={airDate:(t=window.videoBridge).air_date,airDateFormatted:t.air_date_formatted,allowEmbed:t.allow_embed,canPlayPreroll:t.can_play_preroll,cc:t.cc,cc_multiple_languages:t.cc_multiple_languages,chapters:(t.chapters||[]).map((function(e){return{start:e.start_time,title:e.title}})),cid:t.cid,closedCaptionUrl:t.closed_caption_url,dashDrmVideo:t.dash_drm_video,donationUrl:t.donation_url,duration:t.duration,dvdLink:t.dvd_link,encodings:t.encodings,eventIds:t.GA_events_codes,eventNationalIds:t.GA_national_codes,expireDate:t.expire_date,hasHlsEncodings:t.has_hls_encodings,hasMp4Encodings:t.has_mp4_encodings,hasDrm:t.has_drm,hlsDrmVideo:t.hls_drm_video,id:t.id,imageUrl:t.image_url,isMvod:t.is_mvod,isPlayable:t.is_playable,itunesLink:t.itunes_link,longDescription:t.long_description,memberStations:t.member_stations||[],passportLearnMoreUrl:t.passport_learn_more_url,passportUrl:t.passport_url,program:t.program,rating:t.rating,relatedVideos:t.related_videos,relatedAccessibilityVideos:t.related_accessibility_videos,seriesInfo:t.series_info,shortCommonName:t.short_common_name,shortDescription:t.short_description,showMvodIcon:t.mvod_info.show_mvod_icon,showUpsellOverlay:t.mvod_info.show_upsell_overlay,slug:t.slug,stationColorLogo:t.station_color_logo,title:t.title,trickPlayFileUrl:t.trick_play_file,videoType:t.video_type},n=window.contextBridge,void 0===r&&(r=document.location.search),i={options:Hm(r),playerType:n.player_type,playerFramework:n.player_framework,playerFrameworkVersion:n.player_framework_version,callsign:n.callsign,userId:n.user_id,userPassportStatus:n.user_passport_status,stationId:n.station_id,viewingHistory:Fm(n.viewing_history,qm),features:n.features,ga4MeasurementId:n.ga4_measurement_id},s=v(th,{store:e},v(d_,{video:o,context:i,store:e})),Kp.render(s,document.getElementById(Wl))}))}))}catch(h){Je(h)}})()})();
//# sourceMappingURL=main_videojs.b9fedafde6e26be73fbd.js.map