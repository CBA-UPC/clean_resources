import{Q as B,P as ee,H as te,L as ie,A as s,B as n,I as l,_ as O,Y as oe,X as L,J as q,O as U,V as se,W as re,G as h,$ as ae,a0 as ce,i as le,ak as E,q as o,x,a1 as de,R as ne,D,N as ue,S as $,U as pe,k,T as ve}from"./vendor_6ed58054_r24-02-0_b0_t240129-161140.js";import{S as p,c as Se,ag as M,u as he}from"./index_31ad23dc_r24-02-0_b0_t240129-161140.js";import{S as ye,A as ke}from"./SizeContainer_b9026fa6_r24-02-0_b0_t240129-161140.js";import{S as me}from"./SvgIcon_e55bd28a_r24-02-0_b0_t240129-161140.js";import{A as we}from"./lsanalytics-product_ee6481c4_r24-02-0_b0_t240129-161140.js";import{u as N,a as fe}from"./csrViewStoreInventory_328e6f57_r24-02-0_b0_t240129-161140.js";import{u as z}from"./csrViewStorePickupInStore_9251cc88_r24-02-0_b0_t240129-161140.js";import{_ as Q}from"./_plugin-vue_export-helper_c27b6911_r24-02-0_b0_t240129-161140.js";import{useSsrViewStoreProduct as be}from"./ssrViewStoreProduct_cb84dadb_r24-02-0_b0_t240129-161140.js";import{useSsrViewStoreProductList as ge}from"./ssrViewStoreProductList_ee94ccd3_r24-02-0_b0_t240129-161140.js";import"./csrViewStoreNotifyMe_836d5172_r24-02-0_b0_t240129-161140.js";import"./lsanalytics-search_5c11f356_r24-02-0_b0_t240129-161140.js";import"./i18n_4b81f106_r24-02-0_b0_t240129-161140.js";import"./productUtils_e3499a9f_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreCart_c99ec818_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreInternationalCarts_2b023aac_r24-02-0_b0_t240129-161140.js";import"./csrGlobalStoreAppState_f9ff4bfa_r24-02-0_b0_t240129-161140.js";import"./csrViewStoreFavorite_1d3eb3f3_r24-02-0_b0_t240129-161140.js";import"./imageUtils_fcbf42ca_r24-02-0_b0_t240129-161140.js";import"./ssrGlobalStoreHeadMeta_ca820fb3_r24-02-0_b0_t240129-161140.js";import"./lsanalytics-fis_d274cf0b_r24-02-0_b0_t240129-161140.js";import"./typeOf_b861069e_r24-02-0_b0_t240129-161140.js";import"./getAjsAnonId_1de02835_r24-02-0_b0_t240129-161140.js";import"./ssrGlobalStoreRoute_1f7c671b_r24-02-0_b0_t240129-161140.js";import"./lsanalytics-pageload_302e263b_r24-02-0_b0_t240129-161140.js";import"./ssrViewStoreCMSPLPDecorators_a65a8744_r24-02-0_b0_t240129-161140.js";import"./createCMSMaskFunction_7d9925a3_r24-02-0_b0_t240129-161140.js";import"./cmsSectionsApplyEagerLoadToLCPImageModule_36bd4d31_r24-02-0_b0_t240129-161140.js";import"./cmsModuleRegistration_b77ac863_r24-02-0_b0_t240129-161140.js";const _e={inject:["mq"],dataprops:{product:{type:Object,default:,bopisAvailable:{type:Boolean,default:!0},outOfStock:{type:Boolean,default:!0}},components:{SvgIcon:me},mounted(){this.previouslyUsedPC===""&&(this.previouslyUsedPC=this.product.code);const e=this.$t("i18n.pickupInStoreMsg"),i=this.$t("i18n.shipToAddressText");this.isSTSOEnabled&&this.isPickUpStoreSelected&&this.bopisAvailable&&!this.isCategoryNotAvailableOnSelectedStore?(this.quickViewSelectedDeliveryMethod=e,this.updateShippingType({productKey:this.product.code,type:p.BOPIS}),this.preselectSize({product:this.product,showError:!0})):(this.quickViewSelectedDeliveryMethod=i,this.updateShippingType({productKey:this.product.code,type:p.SHIP}),this.preselectSize({product:this.product,showError:!1})),this.previouslyUsedPC!==this.product.code&&(this.previouslyUsedPC=this.product.code)},methods:{...B(N,["resetErrorState","updateShippingType","preselectSize","setLowStockError","setOutOfStockError"]),...B(z,["getStoreThresholdMsg"]),qvDeliveryChange(e){const i=e.target.getAttribute("data-value"),r=i===this.$t("i18n.pickupInStoreMsg");we("Instore Click",{click_type:"delivery method selection",bopis_type:r?"pickup in store":"ship"}),i!==this.quickViewSelectedDeliveryMethod&&(this.resetErrorState({productKey:this.product.code}),this.quickViewSelectedDeliveryMethod=i,this.updateShippingType({productKey:this.product.code,type:r?p.BOPIS:p.SHIP}),this.setOutOfStockError({productKey:this.product.code}),this.setLowStockError({pc9:this.product.code}),this.closeSelect())},toggleSelectopenSelect(){this.isActive=!0},closeSelect,computed:{...ee(z,["quickViewSelectedDeliveryMethod","previouslyUsedPC","isPickUpStoreSelected","storeHasItems","totalStorecount","bopisStore"]),...te(Se,["isSTSOEnabled"]),quickViewDeliveryMethodList(){const e=this.$t("i18n.pickupInStoreMsg"),i=this.$t("i18n.shipToAddressText");return this.bopisAvailable?[e,i]:[i]},isCategoryNotAvailableOnSelectedStore(){var e;return((e=this.bopisStore)==null?void 0:e.storeName)&&this.totalStorecount===0},showStoreThresholdMessage(){return this.isPickUpStoreSelected&&this.bopisAvailable&&!this.outOfStock&&!this.isCategoryNotAvailableOnSelectedStore&&this.quickViewSelectedDeliveryMethod===this.$t("i18n.pickupInStoreMsg")}}},Oe=qe=["title","aria-label"],De=Oe(,Me={class:"qv-delivery-select__methods"},Ce={id:"qv-delivery-options",class:"qv-delivery-select__list",role:"menu",ref:"quickViewDeliveryMethodList"},Ve=["data-value"],Pe=["data-value","data-index"],Ae={key:0,class:"store-pickup-hours","aria-live":"polite"};function Ie(e,i,r,m,v,c){const w=ie("SvgIcon");return s(),n("div",null,[l("div",{class:O(["qv-delivery-select__wrapper","lsco-row",{isActive:v.isActive}])},[l("button",{ref:"qvDeliveryMenu",id:"deliveryMenu",class:O(["qv-delivery-select","lsco-row",{isActive:v.isActive}]),title:`${e.quickViewSelectedDeliveryMethod}`,"aria-label":`${e.$t("i18n.select")} ${e.$t("i18n.deliveryText")}`,onClick:i[0]||(i[0]=oe((...a)=>c.toggleSelect&&c.toggleSelect(...a),["stop"]))},[De,L(),l("span",Me,q(e.quickViewSelectedDeliveryMethod),1),L(),U(w,{name:"arrow-down","set-aria-hidden":"",title:"Down Arrow",class:"qv-delivery-select__select-arrow"})],10,qe),l("ul",Ce,[(s(!0),n(se,null,re(c.quickViewDeliveryMethodList,(a,f)=>(s(),n("li",{class:"qv-delivery-select__list-item-wrapper",key:a,"data-value":a,role:"presentation"},[l("button",{class:O(["qv-delivery-select__list-item",{selected:a===e.quickViewSelectedDeliveryMethod}]),role:"menuitem","data-value":a,"data-index":f,onClick:i[1]||(i[1]=},q(a),11,Pe)],8,Ve))),128))],512)],2),c.showStoreThresholdMessage?(s(),n("div",Ae,q(e.getStoreThresholdMsg(this.bopisStore)),1)):h("",!0)])}const Te=Q(_e,[["render",Ie],["__scopeId","data-v-3f33d27a"]]);const Be=["id"],Le={class:"row brand-loading-icon page-level-loader"},Ee={key:0,class:"quickview__contents"},xe=["innerHTML"],$e={class:"action-container"},ze={__name:"QuickViewContainer",props:{productData:{type:Object,required:!0},availabilityMatrix:{type:Object,required:!0},context:{type:String,required:!0,validator:,isLoading:{type:Boolean,default:!1},showSizes:{type:Boolean,default:!1}},emits:["closeQuickView"],setup(e,{emit:i}){const r=e,m=le.useMq(),v=fe(),{productIsBopisAvailable:c}=be(),w=N(),{productSelectedPC13:a,selectedSizeIsOOSForShip:f,selectedSizeIsOOSForBOPIS:b,productShippingType:j}=w,{showQVDeliveryMethods:F}=E(ge()),{isLSA:H}=E(he()),C=o(()=>{var t;return a((t=r.productData)==null?void 0:t.code)}),K=o(()=>f(C.value)),G=o(()=>b(C.value)),V=o(,X=o(()=>V.value===p.BOPIS),g=o(,Y=o(,R=o(()=>Y.value&&K.value),W=o(,J=o(()=>{var t;return v.allPC13SoldOut((t=r.productData)==null?void 0:t.code)}),P=o(,_=u=x([]),A=x(null),I=(t=new Event("default"))=>{const S=u.value[u.value.length-1],d=u.value[0];if((t.keyCode||t.which)===9&&!t.shiftKey)switch(t.target){case S:t.preventDefault(),d==null||d.focus();break}},Z=()=>{var S;u.value.length&&(u.value=[],window.removeEventListener("keydown",I));const t=[...Array.from((S=A.value)==null?void 0:S.querySelectorAll("A, button"))];u.value=t==null?void 0:t.filter(d=>window.getComputedStyle(d).display!=="none"),window.addEventListener("keydown",I)};return de(,(t,S)=>{const d=ne("click-outside");return s(),D(ve,{name:"fade",appear:""},{default:ue(()=>{var y,T;return[$((s(),n("div",{class:"quickview",id:`${(y=e.productData)==null?void 0:y.code}-quickView`,role:"dialog","aria-label":"select your size to continue","aria-modal":"true",ref_key:"quickViewModal",ref:A},[$(l("div",Le,null,512),[[pe,e.isLoading]]),e.showSizes&&!e.isLoading?(s(),n("div",Ee,[Object.keys(e.availabilityMatrix).length>0?(s(),D(ye,{key:0,class:"plp-quickview-sizes-container","product-data":e.productData,"availability-matrix":e.availabilityMatrix,"is-loading":e.isLoading,context:k(M).PLP,"supports-bopis":g.value,onShowQuickAdd:_},null,8,["product-data","availability-matrix","is-loading","context","supports-bopis"])):h("",!0),k(F)&&P.value?(s(),D(Te,{key:1,product:e.productData,"bopis-available":g.value,"out-of-stock":J.value&&!((T=e.productData)!=null&&T.comingSoon)||R.value||W.value},null,8,["product","bopis-available","out-of-stock"])):h("",!0),!e.productData.returnable&&P.value&&k(H)?(s(),n("div",{key:2,class:"final-sale-wrapper",innerHTML:t.$t("i18n.finalSaleMessage")},null,8,xe)):h("",!0),l("div",$e,[U(ke,{class:"add-pc13-btn","pc9-code":e.productData.code,context:k(M).PLP,"supports-bopis":g.value,onCloseSizeSelection:_},null,8,["pc9-code","context","supports-bopis"])])])):h("",!0)],8,Be)),[[d,_]])]}),_:1})}}},ht=Q(ze,[["__scopeId","data-v-2b6946f1"]]);export{ht as default};
