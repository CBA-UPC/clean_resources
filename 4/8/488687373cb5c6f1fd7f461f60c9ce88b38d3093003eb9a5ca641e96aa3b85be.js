// For license information, see `https://assets.adobedtm.com/16a36399704a/2efca5d8f658/launch-b67461f3859d.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2024-01-22T16:01:30Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"EN602a1a5c9a94437c8f18dcb6bca36be0",stage:"production"},dataElements:{localregionheaderZiperr:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return $("[data-aa-local-header-nav-error]").attr("data-aa-local-header-nav-error")}}},marketingCloudID:{modulePath:"adobe-mcid/src/lib/dataElements/ecid.js",settings:{}},identityRCBUserId:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"equals"},leftOperand:"%domainCode%",rightOperand:"rcb",conditionalValue:"%identityUserId%"}},eventData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){const t=e.detail;if(t){const e=t.eventData?t.eventData:{};t.event=t.event?t.event:t.eventName;for(let n in e)t[n]=e[n];return t.eventData=null,t}}}},searchresults:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-search-result]").attr("data-aa-search-result")}}},identityAccountEmail:{forceLowerCase:!0,cleanText:!0,modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"user.identities.accountEmail"}},heapEnvironment:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%documentURL%",rightOperand:"(stage-www.redcross.org|develop.aem.dev)",fallbackValue:3366337417,conditionalValue:3358736151}},identityUserId:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"user.identities.userId"}},"Dollar handle":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"text",elementSelector:'[data-context="donation-entries"] .active'}},documentTitle:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.title"}},"User Logged In Logged Out":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.authState"}},"billing-infoupdated-success-message":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-billing-info-sucess-message]").attr("data-aa-billing-info-sucess-message")}}},"video name":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"text",elementSelector:".current-video-title"}},"findadrive-cta-panelZiperr":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:},identityVisitorEmailHash:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"user.identities.visitorEmailHash"}},path:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.path"}},analyticsEvent101to200:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_experience.analytics.event101to200"}},dataLayerPageLdTime:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_redcross.pageLoadTime"}},weekdayWeekend:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=(new Date).getDay();return 0===e||6===e?"Weekend":"Weekday"}}},searchterm:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-search-term]").attr("data-aa-search-term")}}},identityVisitorEmail:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"user.identities.visitorEmail"}},dataLayerPrevPage:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_redcross.pageAttributes.prevPage"}},classsearchctapanel:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];return jQuery('[data-context="class-search-cta-panel"] .active').find("[data-aa-class-search-cta-panel-error-message]").each((),e.join()}}},language:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.language"}},"my account-signin-error":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-sign-in-error]").attr("data-aa-sign-in-error")}}},"tag search tool":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery('[data-context="tag-search-cta-panel"] input').val()}}},hourOfDay:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=(new Date).getHours();return`${(e+11)%12+1}:00${e>=12?"PM":"AM"}`}}},isPageLoad:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){const t=["route-change","web.webpagedetails.pageViews","commerce.purchases"];return e&&e.message&&t.includes(e.message.event)?1:0}}},step1DonationChoice:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(1===document.getElementsByClassName("donation-amount-review").length){var e=document.getElementsByClassName("donation-amount-review")[0].innerText.trim().replace(/\$/g,"");if(1===document.getElementsByClassName("donation-designation-review").length)var t=document.getElementsByClassName("donation-designation-review")[0].innerText.trim();if(1===document.getElementsByClassName("frequency-review").length)var n=document.getElementsByClassName("frequency-review")[0].innerText.trim();return e+"|"+t+"|"+n}}}},pageRegion:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(document.location.pathname.indexOf("/local")>-1){const e=document.location.pathname.split("/local")[1].split(".html")[0].split("/")[1],t=document.querySelector(".region-title")?document.querySelector(".region-title").innerText.trim().toLowerCase:e;return e===t?e:`${e}:${t.replace(/\s/g,"-")}`}return"national"}}},TO_RC:{defaultValue:"UNK",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"REGION_CODE"}},prevPage:{storageDuration:"pageview",modulePath:"common-web-sdk-plugins/src/lib/dataElements/getpreviousvalue.js",settings:{cookieName:"pageNamecookie",variableToCheck:"%pageName%"}},dataLayerUA:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"environment.browserDetails.userAgent"}},dataLayerRedcross:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_redcross"}},dayOfWeek:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){switch((new Date).getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return}}}},"tribute-button":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-tribute-card-options].active").attr("data-aa-tribute-card-options").toLowerCase().trim()}}},"Designation Post Payment":{defaultValue:"Designation Post Payment - Default",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.itemArray.product"}},xdmEventType:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"route-change",method:"exact match",output:"web.webpagedetails.pageViews"},1:{input:".*",method:"regex",output:"%event.message.event%"},size:2,dataElement:"%event.message.event%",defaultValueEmpty:!0}},analyticsEvent1to100:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_experience.analytics.event1to100"}},dataLayerPageURL:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"web.webPageDetails.URL"}},"findadrive-ziperr":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return $('[data-context="findadrive"]').find('[data-context="invalid-zip-active"]').text().trim().replace(/\s/g,"-")}}},visitorReturnNew:{modulePath:"common-web-sdk-plugins/src/lib/dataElements/getnewrepeat.js",settings:{daysBeforeReset:""}},"login-portal-existinguser-form-error":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];return jQuery('[data-context="sso-login-outer"]').find('[style="display: block;"]').each((function(){e.push($(this).attr("data-aa-login-portal-error").trim().toLowerCase())})),e.join()}}},useWebSDK:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"/get-help/how-to-prepare-for-emergencies/types-of-emergencies.html"===document.location.pathname||document.location.pathname.includes("/about-us/")}}},codeVersion:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"launch-rco-26"}},"donation-payment-type":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("function"==typeof jQuery&&jQuery('[data-context="payment type active"]').length>0){var e=jQuery('[data-context="payment type active"]').find("[data-aa-donation-payment-type]").data("aa-donation-payment-type").trim().replace(/\s/g,"-").toLowerCase();return null!=e&&"donation-payment-type-not-set"!=e&&""!=e||(e=jQuery('[data-context="payment type active"]').find("[data-aa-donation-payment-type]").text().replace("Pay with","").trim().replace(/\s/g,"-").toLowerCase()),"pay-pal"==e?"paypal":e}}}},dataStream:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e="8e7ed3d9-5254-4632-b3b4-a45c9fec6d88",t="bd99b691-3ba2-4a27-ba08-730112a3214f",n="4e2f64a2-43ec-42e9-826f-83a94ce10ea3",r="11d95bce-af43-4a67-b15f-c7a988401eb7",a="06629b6d-f255-4e1f-a211-d0443d64c4f5",o="a7448578-b094-4cc2-8e99-cf9376cd5dc8",i=_satellite.environment.stage,s=_satellite.getVar("domainCode");return"development"===i?"rco"===s?o:a:"stage"===i?"rco"===s?r:n:"rco"===s?t:e}}},Site:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"rco"}},additionalTargetData:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"data"}},dataLayerDaysSinceVisit:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_redcross.user.daysSinceLastVisit"}},pageLoadTime:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_redcross.pageLoadTime"}},"donation-sign-in":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:},xdmARCWeb:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%event.message.eventInfo.web.webInteraction.URL%",name:"%event.message.eventInfo.web.webInteraction.name%",type:"%event.message.eventInfo.web.webInteraction.type%",region:"%event.message.eventInfo.web.webInteraction.region%",linkClicks:{value:"%isLinkClick%"}},webPageDetails:{name:"%pageName%",viewName:"%viewName%",pageViews:{value:"%isPageLoad%"},isHomePage:"%isHome%",siteSection:"%pageSiteSection%"}},_redcross:"%dataLayerRedcross%",_experience:{analytics:{event1to100:"%analyticsEvent1to100%",event101to200:"%analyticsEvent101to200%",event201to300:"%analyticsEvent201to300%",customDimensions:{eVars:{eVar1:"%visitorReturnNew%",eVar2:"%pageRegion%",eVar3:"%pageTemplate%",eVar4:"%event.message.eventInfo.web.webInteraction.name%",eVar5:"%marketingCloudID%",eVar6:"%dataLayerPageURL%",eVar8:"%pageName%",eVar9:"%pageSiteSection%",eVar12:"%event.message._experience.analytics.customDimensions.eVars.eVar12%",eVar20:"%dataLayerPageLdTime%",eVar21:"%hourOfDay%",eVar23:"%dataLayerDaysSinceVisit%",eVar24:"%dataLayerPrevPage%",eVar25:"%dayOfWeek%",eVar26:"%weekdayWeekend%",eVar50:"%dataLayerQParams%",eVar67:"%dataLayerUA%",eVar70:"%domainCode%",eVar73:"%codeVersion%"}}}},environment:{browserDetails:{userAgent:"%event.fullState.environment.browserDetails.userAgent%"}},identityMap:"%identityMap%"},sandbox:{name:"prod"}}},"Donation-Form-Phone-Number":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=document.getElementById("bill_to_phone");return null!==e&&e.classList.contains("is-valid")&&e.value.length>0}}},"apple pay status":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return 3===document.querySelectorAll("[data-aa-donation-payment-type]").length?"true":""}}},"login-portal-create-account-error":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];return jQuery('[data-context="login-portal-create-account"]').find('[style="display: block;"]').each((),e.join()}}},analyticsEvent201to300:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_experience.analytics.event201to300"}},identityAccountEmailHashed:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"user.identities.accountEmailHash"}},documentURL:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.URL"}},errorpage:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return document.URL.split("/").slice(-1).pop().split(".")[0]+"error"}}},"Donation Frequency ":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.itemArray.category"}},pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageName"}},identityMap:{modulePath:"adobe-alloy/dist/lib/dataElements/identityMap/index.js",settings:{Email:[{id:"%identityAccountEmail%",primary:!1,authenticatedState:"authenticated"},{id:"%identityVisitorEmail%",primary:!1,authenticatedState:"ambiguous"}],DonorID:[{id:"%identityRCBUserId%",primary:!1,authenticatedState:"authenticated"}],Email_LC_SHA256:[{id:"%identityAccountEmailHashed%",primary:!1,authenticatedState:"authenticated"},{id:"%identityVisitorEmailHash%",primary:!1,authenticatedState:"ambiguous"}]}},identityECID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e="kndctr_723A22C757518E2C7F000101_AdobeOrg_identity",t=_satellite.cookie.get(e);if(t)return atob(t.substring(0,60)).substring(2,40)}}},viewName:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"web.webPageDetails.viewName"}},searchfilters:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=[];return jQuery('[data-context="fa-stack-1x"]').each((function(){e.push($(this).closest('[data-context="filter-option"]').find('[data-context="filter-tag-text"]').text().toLowerCase())})),e.join()}}},isHome:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:},scPN:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.pageName}}},identityMapSource:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"user.identityMap"}},"donation-signin-modal-error-message":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-modal-error-message]").map(().get().join(",")}}},documentReferrer:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.referrer"}},pageTemplate:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:},pageSiteSection:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=_satellite.getVar("domainCode"),t=document.location.pathname,n=new Map;if(n.set("give-blood",["/give-blood"]),n.set("donate",["/donate","/donations"]),n.set("training-and-certification",["/take-a-class","/prepare","/phssmrd","/ux"]),n.set("volunteer",["/volunteer","/sso"]),n.set("about-us",["/about-us"]),n.set("get-help",["/get-help"]),n.set("donate-blood",["/donate-blood","/give.html"]),n.set("biomedical-services",["/biomedical-services"]),n.set("hosting-blood-drive",["/hosting-blood-drive"]),n.set("redcross-info",["/search.html/search","/site-map.html","/contact-us.html"]),_satellite.getVar("isHome"))return`${e}:home`;let r=e;for(const[e,a]of n.entries())if(a.filter(().length>=1){r=`${r}:${e}`;break}return r}}},step1DonationAmount:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(1===document.getElementsByClassName("donation-amount-review").length)return document.getElementsByClassName("donation-amount-review")[0].innerText.trim().replace(/\$/g,"")}}},s_code_pageName:{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){document.URL,document.location.hostname,document.location.pathname,document.URL;var e="",t="rco",n=(document.location.hostname+document.location.pathname).replace(/\/$/,"").replace(/\#.+/,"").replace(/\?.+/,"").replace(".html","").replace(".aspx","").replace("index.jsp","").replace(".jsp","").split("/");return n.length,void 0!==n[9]&&void 0===n[10]&&(e=n[1]+":"+n[2]+":"+n[3]+":"+n[4]+":"+n[5]+":"+n[6]+":"+n[7]+":"+n[8]+":"+n[9]),void 0!==n[8]&&void 0===n[9]&&(e=n[1]+":"+n[2]+":"+n[3]+":"+n[4]+":"+n[5]+":"+n[6]+":"+n[7]+":"+n[8]),void 0!==n[7]&&void 0===n[8]&&(e=n[1]+":"+n[2]+":"+n[3]+":"+n[4]+":"+n[5]+":"+n[6]+":"+n[7]),void 0!==n[6]&&void 0===n[7]&&(e=n[1]+":"+n[2]+":"+n[3]+":"+n[4]+":"+n[5]+":"+n[6]),void 0!==n[5]&&void 0===n[6]&&(e=n[1]+":"+n[2]+":"+n[3]+":"+n[4]+":"+n[5]),void 0!==n[4]&&void 0===n[5]&&(e=n[1]+":"+n[2]+":"+n[3]+":"+n[4]),void 0!==n[3]&&void 0===n[4]&&(e=n[1]+":"+n[2]+":"+n[3]),void 0!==n[2]&&void 0===n[3]&&(e=n[1]+":"+n[2]),void 0!==n[1]&&void 0===n[2]&&(e=n[1]),e?e=t+":"+e:("/"===document.location.pathname||"//"===document.location.pathname||"/index.jsp"===document.location.pathname||document.location.pathname.indexOf("/hp")>-1)&&(e="rco:home"),e}}},"Donation Amount":{defaultValue:"Donation Amount- Default",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.itemArray.price"}},navigatorLanguage:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return navigator.language}}},"region search-errors":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-location-search-error]").attr("data-aa-location-search-error")}}},"myaccount-password reset error":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return jQuery("[data-aa-reset-password-error]").attr("data-aa-reset-password-error")}}},pageType:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageType"}},satelliteEnv:{modulePath:"core/src/lib/dataElements/runtimeEnvironment.js",settings:{attribute:"environmentStage"}},domainCode:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:},visitNum:{modulePath:"common-web-sdk-plugins/src/lib/dataElements/getvisitnum.js",settings:{resetPeriod:"",extendResetPeriod:""}},visitTimeSince:{modulePath:"common-web-sdk-plugins/src/lib/dataElements/gettimesincelastvisit.js",settings:{}},"[SDK] - RCO Web XDM":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{server:"rco"}},_redcross:{marketingPixel:{metaPixel:"998313923523585"},donationDetails:{orderTotal:"%Donation Amount%"}}},sandbox:{name:"prod"}}},"myaccount-forgot-paswd-success":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:},at_property:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){onst t=document.location;return t.host.includes("localhost")?"76dff500-a876-a643-a160-ec3f181707a1":e(t.pathname)}}},enableHeap:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=["donate/donation.html","donations/ways-to-donate/holiday-gifts.html","donations/ways-to-donate/monthly-giving.html","get-help/how-to-prepare-for-emergencies/types-of-emergencies/hurricane.html","local/illinois/about-us/locations/greater-chicago.html","local/south-carolina/volunteer.html"],t=window.location.pathname;for(let n=0;n<e.length;n++)if(t.includes(e[n]))return!0;return!1}}},isLinkClick:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return e&&e.message&&e.message.eventInfo&&e.message.eventInfo.web&&e.message.eventInfo.web.webInteraction&&e.message.eventInfo.web.webInteraction.name?1:0}}},price:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.itemArray.price"}},dataLayerQParams:{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"_redcross.pageAttributes.queryParameters"}},"donation-tribute-check":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:}},extensions:{"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbf7b42aa08bc4f10879b1484195e80d1/",settings:{orgId:"723A22C757518E2C7F000101@AdobeOrg",customSetup:{source:function(e){function t(e){-1!=_satellite.getVar("pageName").indexOf("errors:")?e.pageName=_satellite.getVar("pageName"):e.pageName=_satellite.getVar("s_code_pageName"),e.pageName=r(e.pageName),createCookie("pageNamecookie",e.pageName),e.contextData.site=_satellite.getVar("Site"),e.contextData.codeVersion=_satellite.getVar("codeVersion"),e.pageURL=r(document.location.href),e.contextData.mcid=_satellite.getVar("marketingCloudID"),e.contextData.pageURL=e.pageURL,e.contextData.pageName=e.pageName,e.contextData.newRepeat=e.getNewRepeat(365),e.contextData.visitNum=e.getVisitNum(),e.contextData.daysSinceLastVisit=e.getDaysSinceLastVisit("s_lv"),e.contextData.prevPage=e.getPreviousValue(e.pageName,"gpv_pn"),e.contextData.percentPageViewed=e.getPercentPageViewed(),e.contextData.tpTime=e.getTimeParting("h","-5").replace("30","00"),e.contextData.tpDay=e.getTimeParting("d","-5"),e.contextData.tpW=e.getTimeParting("w","-5"),e.contextData.loadTime=n(),e.contextData.queryParam=r(e.contextData.queryParam),e.linkTrackVars=e.linkTrackVars+",contextData.site,contextData.codeVersion",e.eVar6=e.prop6="D=g",e.prop30=r(e.prop30),e.contextData.prevHref&&(e.contextData.prevHref=r(e.contextData.prevHref)),e.eVar5=_satellite.getVar("marketingCloudID"),e.eVar8=e.pageName,s_visIdFloodlight("4706068","rcogma","adobe0","u6"),e.eVar1=e.getNewRepeat(365),e.eVar1&&(e.prop1="D=v1"),e.eVar22=e.getVisitNum(),e.eVar22&&(e.prop22="D=v22"),e.eVar23=e.getDaysSinceLastVisit("s_lv"),e.eVar23&&(e.prop23="D=v23"),e.eVar24=e.contextData.prevPage,e.eVar24&&(e.eVar19=e.getPercentPageViewed(),e.prop19="D=v19",e.prop24="D=v24"),e.eVar21=e.getTimeParting("h","-5").replace("30","00"),e.eVar25=e.getTimeParting("d","-5"),e.eVar26=e.getTimeParting("w","-5"),e.eVar21&&(e.prop21="D=v21"),e.eVar25&&(e.prop25="D=v25"),e.eVar26&&(e.prop26="D=v26"),e.eVar20=e.contextData.loadTime,e.eVar20&&(e.prop20="D=v20"),e.events?e.events=e.events+",event20="+e.contextData.loadTime:e.events="event20="+e.contextData.loadTime,localStorage.setItem("pageName",e.pageName)}unction r(e){if(!e)return e;var t=/(jsessionid=[A-Z0-9]*)/,n=/(token=[0-9A-Za-z-]+)/;let r=e.replace(t,"JSESSION=redacted");return r=r.replace(n,"token=redacted"),r}e.linkInternalFilters="javascript:,redcross.org,redcrossblood.org,https://author.develop.aem.dev.redcross.us,https://develop.aem.dev.redcross.us,https://stage-www.redcross.org/,stage-www.redcross.org,https://cybersource.com/,https://secureacceptance.cybersource.com/,https://testsecureacceptance.cybersource.com/,redcrossstore.org",n(),e.usePlugins=!0,e.doPlugins=t,(document.location.pathname.indexOf("/account.html/sign-in")>-1==1||document.location.pathname.indexOf("/account.html")>-1)&&(e.abort=!0),e.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;if(!c||c==''){c='s_dslv';}e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.getTimeParting=new Function("t","z","var s=this,d,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;d=new Date();A=d.getFullYear();if(A=='2009'){B='08';C='01'}if(A=='2010'){B='14';C='07'}if(A=='2011'){B='13';C='06'}if(A=='2012'){B='11';C='04'}if(A=='2013'){B='10';C='03'}if(A=='2014'){B='09';C='02'}if(!B||!C){B='08';C='01'}B='03/'+B+'/'+A;C='11/'+C+'/'+A;D=new Date('1/1/2000');if(D.getDay()!=6||D.getMonth()!=0){return'Data Not Available'}else{z=parseFloat(z);E=new Date(B);F=new Date(C);G=F;H=new Date();if(H>E&&H<G){z=z+1}else{z=z};I=H.getTime()+(H.getTimezoneOffset()*60000);J=new Date(I+(3600000*z));K=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];L=J.getHours();M=J.getMinutes();N=J.getDay();O=K[N];P='AM';Q='Weekday';R='00';if(M>30){R='30'}if(L>=12){P='PM';L=L-12};if(L==0){L=12};if(N==6||N==0){Q='Weekend'}T=L+':'+R+P;if(t=='h'){return T}if(t=='d'){return O}if(t=='w'){return Q}}"),e.join=new Function("v","p","var s=this,f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object')str+=s.join(v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),e.p_c=new Function("v","c","var x=v.indexOf('=');return c.toLowerCase()==v.substring(0,x<0?v.length:x).toLowerCase()?v:0"),e.getVisitNum=new Function("tp","c","c2","var s=this,e=new Date,cval,cvisit,ct=e.getTime(),d;if(!tp){tp='m';}if(tp=='m'||tp=='w'||tp=='d'){eo=s.endof(tp),y=eo.getTime();e.setTime(y);}else {d=tp*86400000;e.setTime(ct+d);}if(!c){c='s_vnum';}if(!c2){c2='s_invisit';}cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn='),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisit){if(str){e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {return 'unknown visit number';}}else {if(str){str++;k=cval.substring(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {s.c_w(c,e.getTime()+'&vn=1',e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return 1;}}"),e.dimo=new Function("m","y","var d=new Date(y,m+1,0);return d.getDate();"),e.endof=new Function("x","var t=new Date;t.setHours(0);t.setMinutes(0);t.setSeconds(0);if(x=='m'){d=s.dimo(t.getMonth(),t.getFullYear())-t.getDate()+1;}else if(x=='w'){d=7-t.getDay();}else {d=1;}t.setDate(t.getDate()+d);return t;"),e.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),e.apl=new Function("l","v","d","u","var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)l=l?l+d+v:v;return l"),e.repl=new Function("x","o","n","var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x"),e.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),
e.getPercentPageViewed=new Function("n","var s=this,W=window,EL=W.addEventListener,AE=W.attachEvent,E=['load','unload','scroll','resize','zoom','keyup','mouseup','touchend','orientationchange','pan'];W.s_Obj=s;s_PPVid=(n=='-'?s.pageName:n)||s.pageName||location.href;if(!W.s_PPVevent){s.s_PPVg=function(n,r){var k='s_ppv',p=k+'l',c=s.c_r(n||r?k:p),a=c.indexOf(',')>-1?c.split(',',10):[''],l=a.length,i;a[0]=unescape(a[0]);r=r||(n&&n!=a[0])||0;a.length=10;if(typeof a[0]!='string')a[0]='';for(i=1;i<10;i++)a[i]=!r&&i<l?parseInt(a[i])||0:0;if(l<10||typeof a[9]!='string')a[9]='';if(r){s.c_w(p,c);s.c_w(k,'?')}return a};W.s_PPVevent=function(e){var W=window,D=document,B=D.body,E=D.documentElement,S=window.screen||0,Ho='offsetHeight',Hs='scrollHeight',Ts='scrollTop',Wc='clientWidth',Hc='clientHeight',C=100,M=Math,J='object',N='number',s=W.s_Obj||W.s||0;e=e&&typeof e==J?e.type||'':'';if(!e.indexOf('on'))e=e.substring(2);s_PPVi=W.s_PPVi||0;if(W.s_PPVt&&!e){clearTimeout(s_PPVt);s_PPVt=0;if(s_PPVi<2)s_PPVi++}if(typeof s==J){var h=M.max(B[Hs]||E[Hs],B[Ho]||E[Ho],B[Hc]||E[Hc]),X=W.innerWidth||E[Wc]||B[Wc]||0,Y=W.innerHeight||E[Hc]||B[Hc]||0,x=S?S.width:0,y=S?S.height:0,r=M.round(C*(W.devicePixelRatio||1))/C,b=(D.pageYOffset||E[Ts]||B[Ts]||0)+Y,p=h>0&&b>0?M.round(C*b/h):0,O=W.orientation,o=!isNaN(O)?M.abs(o)%180:Y>X?0:90,L=e=='load'||s_PPVi<1,a=s.s_PPVg(s_PPVid,L),V=function(i,v,f,n){i=parseInt(typeof a==J&&a.length>i?a[i]:'0')||0;v=typeof v!=N?i:v;v=f||v>i?v:i;return n?v:v>C?C:v<0?0:v};if(new RegExp('(iPod|iPad|iPhone)').exec(navigator.userAgent||'')&&o){o=x;x=y;y=o}o=o?'P':'L';a[9]=L?'':a[9].substring(0,1);s.c_w('s_ppv',escape(W.s_PPVid)+','+V(1,p,L)+','+(L||!V(2)?p:V(2))+','+V(3,b,L,1)+','+X+','+Y+','+x+','+y+','+r+','+a[9]+(a[9]==o?'':o))}if(!W.s_PPVt&&e!='unload')W.s_PPVt=setTimeout(W.s_PPVevent,333)};for(var f=W.s_PPVevent,i=0;i<E.length;i++)if(EL)EL(E[i],f,false);else if(AE)AE('on'+E[i],f);f()};var a=s.s_PPVg();return!n||n=='-'?a[1]:a"),e.crossVisitParticipation=new Function("v","cn","ex","ct","dl","ev","dv","var s=this,ce;if(typeof(dv)==='undefined')dv=0;if(s.events&&ev){var ay=s.split(ev,',');var ea=s.split(s.events,',');for(var u=0;u<ay.length;u++){for(var x=0;x<ea.length;x++){if(ay[u]==ea[x]){ce=1;}}}}if(!v||v==''){if(ce){s.c_w(cn,'');return'';}else return'';}v=escape(v);var arry=new Array(),a=new Array(),c=s.c_r(cn),g=0,h=new Array();if(c&&c!=''){arry=s.split(c,'],[');for(q=0;q<arry.length;q++){z=arry[q];z=s.repl(z,'[','');z=s.repl(z,']','');z=s.repl(z,\"'\",'');arry[q]=s.split(z,',')}}var e=new Date();e.setFullYear(e.getFullYear()+5);if(dv==0&&arry.length>0&&arry[arry.length-1][0]==v)arry[arry.length-1]=[v,new Date().getTime()];else arry[arry.length]=[v,new Date().getTime()];var start=arry.length-ct<0?0:arry.length-ct;var td=new Date();for(var x=start;x<arry.length;x++){var diff=Math.round((td.getTime()-arry[x][1])/86400000);if(diff<ex){h[g]=unescape(arry[x][0]);a[g]=[arry[x][0],arry[x][1]];g++;}}var data=s.join(a,{delim:',',front:'[',back:']',wrap:\"'\"});s.c_w(cn,data,e);var r=s.join(h,{delim:dl});if(ce)s.c_w(cn,'');return r;"),e.getVisitStart=new Function("c","var s=this,n,t=new Date;if(typeof s.callType=='function'&&s.callType()=='+')return 0;if(!c)c='s_visit';t.setTime(t.getTime()+18e5);n=s.c_r(c)?0:1;if(!s.c_w(c,1,t))s.c_w(c,1,0);if(!s.c_r(c))n=0;return n"),s_visIdFloodlight=function(t,n,r,a,o){if(!o||1!=o)var i=e.getVisitStart("s_visit");if(1==o||1==i){var s=e.c_r("AMCV_723A22C757518E2C7F000101@AdobeOrg"),c=/[0-9]{38}/i;dvi=s.match(c);var u=location.protocol+"//fls.doubleclick.net/activityi;src="+t+";type="+n+";cat="+r+";"+a+"=";dvi?s_dfaCall(u,dvi):setTimeout("s_dfaCall('"+u+"')",2e3)}},s_dfaCall=function(t,n){if(!n){var r=/[0-9]{38}/i;n=e.c_r("AMCV_723A22C757518E2C7F000101@AdobeOrg").match(r)}var a=Math.random()+"";dfaUrl=t+n+";ord="+1e13*a+"?";var o=document.createElement("iframe");o.setAttribute("src",dfaUrl),o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("style","display:none"),document.getElementsByTagName("body")[0].appendChild(o)}}},libraryCode:{type:"managed",accounts:{staging:["tanrcglobalstage","tanrcrcostage"],production:["tanrcoprod","tanrcglobalprod"],development:["tanrcodev"]},useActivityMap:!0,scopeTrackerGlobally:!0},trackerProperties:{currencyCode:"USD",trackingServer:"metrics.redcross.org",trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!0,linkExternalFilters:[],linkInternalFilters:["https://author.develop.aem.dev.redcross.us","https://develop.aem.dev.redcross.us","https://stage-www.redcross.org/","javascript:","mailto:","prod-www.redcross.org","redcross.org","redcross.us","redcrossblood.org","stage-www.redcross.org","tel:","stage-www.redcrossblood.org"],trackingServerSecure:"smetrics.redcross.org",linkDownloadFileTypes:["avi","css","csv","doc","docx","eps","exe","jpg","js","m4v","mov","mp3","pdf","png","ppt","pptx","rar","svg","tab","txt","vsd","vxd","wav","wma","wmv","xls","xlsx","xml","zip"]}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:,"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:,"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:,"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:,"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:,"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:,"adobe-analytics/src/lib/helpers/augmenters.js":{script:,"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:,"adobe-analytics/src/lib/helpers/generateVersion.js":{script:,"adobe-analytics/src/lib/helpers/pollHelper.js":{script:,"adobe-analytics/src/lib/helpers/getNodeLinkText.js":{script:}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP31a59fd25d824db7be52972a70e94c1c/",settings:{orgId:"723A22C757518E2C7F000101@AdobeOrg"},modules:{"adobe-mcid/src/lib/dataElements/ecid.js":{name:"ecid",displayName:"ECID",script:,"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:,"adobe-mcid/src/view/utils/timeUnits.js":{script:}},"google-universal-analytics":{displayName:"Google Universal Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPeeed8c20d16b41329538b94289163fac/",settings:{fields:{allowAnchor:!1},customSetup:{source:function(){!)}},libraryCode:{type:"managed"},trackerName:{type:"custom",value:"33680e372fe8f586c1672ae86cef6a14"},trackingIds:{staging:"UA-869735-31",production:"UA-869735-26"},initCommands:{},forceLowercase:!0,enableCrossDomainTracking:!0},modules:{"google-universal-analytics/src/lib/actions/sendPageView.js":{name:"send-page-view",displayName:"Send Page View",script:,"google-universal-analytics/src/lib/helpers/ga.js":{script:,"google-universal-analytics/src/lib/helpers/loadLibrary.js":{script:,"google-universal-analytics/src/lib/helpers/createTracker.js":{script:}},"common-web-sdk-plugins":{displayName:"Common Web SDK Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP72fbeb9839644a1daa8eca9f84e02dcf/",modules:{"common-web-sdk-plugins/src/lib/dataElements/getpreviousvalue.js":{name:"getpreviousvalue",displayName:"getPreviousValue",script:,"common-web-sdk-plugins/src/lib/dataElements/getnewrepeat.js":{name:"getnewrepeat",displayName:"getNewRepeat",script:,"common-web-sdk-plugins/src/lib/dataElements/getvisitnum.js":{name:"getvisitnum",displayName:"getVisitNum",script:function(e,t,n){"use strict";function r(e,t){("-v"===e)return{plugin:"getVisitNum",version:"5.0.0"};e=e||365,t=void 0!==t?Boolean(t):!!n(e);var o=(new Date).getTime(),i=r(e),s=new Date;if(s.setTime(s.getTime()+18e5),a.get("s_vnc"+e))var c,u=a.get("s_vnc"+e).split("&vn="),l=u[1];return a.get("s_ivc")?l?(a.set("s_ivc",!0,{expires:s}),l):"unknown visit number":void 0!==l?(l++,c=t&&n(e)?o+864e5*e:u[0],i.setTime(c),a.set("s_vnc"+e,c+"&vn="+l,{expires:i}),a.set("s_ivc",!0,{expires:s}),l):(c=n(e)?o+864e5*e:r(e).getTime(),a.set("s_vnc"+e,c+"&vn=1",{expires:i}),a.set("s_ivc",!0,{expires:30}),"1")}const a=n("@adobe/reactor-cookie");e.exports=},"common-web-sdk-plugins/src/lib/dataElements/gettimesincelastvisit.js":{name:"gettimesincelastvisit",displayName:"getTimeSinceLastVisit",script:}},"mapping-table":{displayName:"Mapping Table",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP29c1cfa85ec74c28b3ef1369f262762b/",modules:{"mapping-table/src/lib/dataElements/mappingTable.js":{name:"mapping-table",displayName:"Mapping Table",script:}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPe3384852cb1e4c17ab224c76e035052e/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.8.1",endpoint:"/rest/v1/delivery",imsOrgId:"723A22C757518E2C7F000101@AdobeOrg",clientCode:"theamericannationalr",secureOnly:!1,serverState:{},optinEnabled:!1,serverDomain:"theamericannationalr.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,decisioningMethod:"server-side",sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:,"adobe-target-v2/lib/addPageLoadParams.js":{name:"add-page-load-params",displayName:"Add Params to Page Load Request",script:,"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:,"adobe-target-v2/lib/modules/load-target.js":{script:,"adobe-target-v2/lib/modules/optin.js":{script:,"adobe-target-v2/lib/analyticsIntegration.js":{script:,"adobe-target-v2/lib/modules/libs/at-launch.js":{script:,"adobe-target-v2/lib/messages.js":{script:,"adobe-target-v2/lib/modules/params-store.js":{script:,"adobe-target-v2/lib/targetSettings.js":{script:,"adobe-target-v2/lib/modules/object-override.js":{script:,"adobe-target-v2/lib/librarySettings.js":{script:,"adobe-target-v2/lib/modules/event-util.js":{script:,"adobe-target-v2/lib/modules/page-load.js":{script:}},"facebook-pixel":{displayName:"Meta Pixel",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP737d8f5096c94d9fb20065cd9016b134/",settings:{eventId:"",pixelId:"998313923523585"},modules:{"facebook-pixel/src/lib/actions/sendPageView.js":{name:"send-page-view",displayName:"Send Page View",script:function(e,t,n,r){"use strict";e.exports=function(){var e=n("../helpers/getFbQueue"),t=r.getExtensionSettings().eventId;e("track","PageView",{},{eventID:t}),r.logger.log(`Queue command: fbq("track", "PageView") with eventId: ${t}.`)}}},"facebook-pixel/src/lib/helpers/getFbQueue.js":{script:}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP800bc08379094c3ba4cee8edd0d7e62d/",settings:{instances:[{name:"alloy",edgeConfigId:"bd99b691-3ba2-4a27-ba08-730112a3214f",stagingEdgeConfigId:"11d95bce-af43-4a67-b15f-c7a988401eb7",clickCollectionEnabled:!1,targetMigrationEnabled:!0,developmentEdgeConfigId:"a7448578-b094-4cc2-8e99-cf9376cd5dc8"}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:,"adobe-alloy/dist/lib/dataElements/identityMap/index.js":{name:"identity-map",displayName:"Identity map",script:,"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:,"adobe-alloy/dist/lib/instanceManager/index.js":{script:,"adobe-alloy/dist/lib/dataElements/identityMap/createIdentityMap.js":{script:,"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:,"adobe-alloy/dist/lib/sendEventCallbackStorage.js":{script:,"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:,"adobe-alloy/dist/lib/utils/clone.js":{script:,"adobe-alloy/dist/lib/alloy.js":{script:,"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:,"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:}},linkedin:{displayName:"LinkedIn Insight Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP56446adda5514f21aa663f9e3635ddaa/",settings:{insightTagID:"3630609"},modules:{"linkedin/src/lib/actions/loadInsightTag.js":{name:"load-insight-tag",displayName:"Load Insight Tag",script:}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:,"core/src/lib/dataElements/conditionalValue.js":{name:"conditional-value",displayName:"Conditional Value",script:,"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:,"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:,"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:,"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/runtimeEnvironment.js":{name:"runtime-environment",displayName:"Runtime Environment",script:,"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:,"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:,"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerWindowLoadedTrigger(t)}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:,"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:,"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:,"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:,"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:,"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:,"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerPageBottomTrigger(t)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:,"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:,"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:,"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:,"core/src/lib/events/change.js":{name:"change",displayName:"Change",script:,"core/src/lib/helpers/stringAndNumberUtils.js":{script:,"core/src/lib/helpers/getObjectProperty.js":{script:,"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:,"core/src/lib/actions/helpers/decorateCode.js":{script:,"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:,"core/node_modules/postscribe/dist/postscribe.js":{script:,"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:,"core/src/lib/helpers/findPageScript.js":{script:,"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:,"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:,"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:,"core/src/lib/actions/helpers/getSourceByUrl.js":{script:,"core/src/lib/helpers/textMatch.js":{script:,"core/src/lib/events/helpers/createBubbly.js":{script:,"core/src/lib/events/helpers/weakMap.js":{script:,"core/src/lib/events/helpers/matchesProperties.js":{script:,"core/src/lib/events/helpers/matchesSelector.js":{script:}},"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"adobeDataLayer",injectLibrary:!0},modules:{"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js":{name:"datalayer-computed-state",displayName:"Data Layer Computed State",script:,"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:,"gcoe-adobe-client-data-layer/src/lib/main.js":{script:,"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:}}},company:{orgId:"723A22C757518E2C7F000101@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"RedCrossOrg (RCO)",settings:{domains:["redcross.org"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PR607da63622a34982b835f4c9ea9bf848"},rules:[{id:"RL00d8f0cd891a4df9b293fca654dbb9f1",name:"[Tag] AA-215 Add Schema Fundraising page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/donations/ways-to-donate/fundraise.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="application/ld+json">{"@context": "https://schema.org","@type": "FAQPage","mainEntity": [{"@type": "Question","name": "What is fundraising for the Red Cross?","acceptedAnswer": {"@type": "Answer","text": "Fundraising is a method of raising money that encourages supporters to utilize their own network to raise money on behalf of an organization. Supporters use an online platform to engage their friends, family, co-workers, and neighbors to donate to a fundraising page that directs funds to the nonprofit organization."}},\n\n{ "@type": "Question", "name": "Why start a fundraising campaign?", "acceptedAnswer":\n\n{ "@type": "Answer", "text": "A fundraising campaign for the Red Cross is the best way for an individual to increase their impact for an organization (especially for those who may not be able to make a large personal donation). Starting a fundraising campaign is an easy and effective way to raise money to provide help and hope to neighbors that need it most. Individuals, corporations, community groups and others can create their own teams and help raise valuable support for those in need." }\n},\n\n{ "@type": "Question", "name": "How does fundraising work at the Red Cross?", "acceptedAnswer":\n\n{ "@type": "Answer", "text": "Individuals \u2013 called fundraisers \u2013 reach out to people they know and ask them to donate to the Red Cross cause the fundraiser is supporting. Fundraisers for the Red Cross will create a fundraising page where they can upload personal pictures and post details about why they are supporting the organization. Fundraisers will then send messages to their friends, family, co-workers, neighbors, etc. that include a link to their fundraising page and ask for donations. Messages are often sent by email and social media." }\n},\n\n{ "@type": "Question", "name": "How your fundraising helps disaster relief efforts", "acceptedAnswer":\n\n{ "@type": "Answer", "text": "You can make a difference and help those in need by starting a fundraiser and inviting your family and friends to join you in supporting our life-saving efforts. Thanks to the generosity of volunteers and supporters like you, the Red Cross is able to respond to a disaster every eight minutes. Your support helps us continue to bring hope, comfort, and care to countless children and families. We appreciate your help!" }\n}]}</script>',language:"html"}}]},{id:"RL00ff80526ed6444295349685f4fe60b4",name:"[AA] 160-Heap Analytics for Volunteer Connection",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/volunteer/become-a-volunteer.html"},{value:"/volunteer/volunteer-role-finder.html"},{value:"/volunteer/become-a-volunteer/urgent-need-for-volunteers.html"},{value:"/about-us/careers/university-programs/internships.html"},{value:"/sound-the-alarm.html"},{value:"/volunteer/volunteer-opportunities/blood-donor-ambassador.html"},{value:"/volunteer/volunteer-opportunities/deliver-blood.html"},{value:"/volunteer/disaster-action-team.html"},{value:"/volunteer/disaster-preparedness-volunteer.html"},{value:"/sso/vc.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};\n\nif (location.host === "www.redcross.org") { \n\theap.load("3366337417");\n}\nelse {\n\theap.load("3358736151");\n}',language:"javascript"}}]},{id:"RL0493ca2158d94e64b24887962ab68101",name:"[Tag] Structured Data - Chef Rob Newton - AE-2079",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/local/arkansas/about-us/news-and-events/events/cooking-with-chef-rob-newton.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="application/ld+json">\n  {\n    "@context" : "http://schema.org",\n    "@type" : "Event",\n    "name" : "Cooking with Chef Rob Newton",\n    "image" : "https://www.redcross.org/content/dam/redcross/local/arkansas/AR-Chef-Rob.jpg",\n    "startDate" : "2021-06-17T18:00:00-05:00",\n    "endDate" : "2021-06-17T19:00:00-05:00",\n    "url" : "https://www.redcross.org/local/arkansas/about-us/news-and-events/events/cooking-with-chef-rob-newton.html",\n    "eventAttendanceMode": "https://schema.org/OnlineEventAttendanceMode",\n    "eventStatus": "https://schema.org/EventScheduled",\n    "location" : { \n      "@type" : "VirtualLocation", \n      "name" : "Cooking with Chef Rob Newton", \n      "url" : "https://e.givesmart.com/events/lTP/" \n    },\n    "description" : "Virtually join us! Attendees will have an opportunity to cook with Chef Rob Newton, as he prepares three dishes from The Grange at Wilson Gardens. Follow along from your own home.......or be a VIP and cook with him in-person in the restaurant.",\n    "organizer" : {\n      "@type" : "Organization",\n      "name" : "American Red Cross of Arkansas",\n      "url" : "https://www.redcross.org/local/arkansas.html"\n    },\n    "performer" : { \n      "@type" : "Person", \n      "name" : "Chef Rob Newton" \n    }\n  }\n</script>',language:"html"}}]},{id:"RL07cf8a1905b5409b854ca72f5faeb5df",name:"[Tag] Google Shopping Ads",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["redcross.org"]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/index.html",valueIsRegex:!0}]}}],actions:[]},{id:"RL1248ffe9269a4fb6bf26c4ff84ae3cda",name:"[AA] 112-Capture TPF Data | 194-Capture DTD Data",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:70}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/donate/confirmation.html"},{value:"/donate/holiday-donations-help-where-its-needed-most.html"},{value:"/donate/holiday-donations-help-where-its-needed-most.html/"},{value:"/donate/confirmation-sustainer-lightbox.html"},{value:"/donate/confirmation-microsite1.html"}]}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.contextData.tpfAmount=JSON.parse(sessionStorage.getItem("donorInfo")).tpfAmount,t.contextData.tpfOffered=JSON.parse(sessionStorage.getItem("donorInfo")).tpfOffered,t.contextData.donorOptIn=JSON.parse(sessionStorage.getItem("donorInfo")).donorOptIn,t.contextData.tpfAmount&&(t.contextData.tpfOffered||(t.contextData.tpfOffered="false"),t.contextData.donorOptIn||(t.contextData.donorOptIn="false"))}},trackerProperties:{}}}]},{id:"RL13fe1ab5753842aea17fb2124dce273a",name:"ACDL:DataPushed - Send Interaction via SDK",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"web.webinteraction.linkClicks"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"route-change"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%xdmARCWeb%",data:"%additionalTargetData%",type:"%xdmEventType%",instanceName:"alloy",renderDecisions:!0,documentUnloading:!0,edgeConfigOverrides:{development:{}}}}]},{id:"RL1f79aec9c99343168c6b37c7e3bbed0a",name:"AA-34-Tracking Sustainer Lightbox Events (Direct Call)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"lightboxEvent"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="prop4,eVar4,prop5,prop6,eVar6,prop10,eVar30,eVar114,eVar115,products,channel,events";var n=e.detail.eventName;console.log("event.detail.eventName="+e.detail.eventName),console.log("eventName="+n),"impression"===n?(t.linkTrackEvents="event57",t.events="event57"):"accept"===n?(t.linkTrackEvents="event58",t.events="event58"):"decline"===n&&(t.linkTrackEvents="event59",t.events="event59"),t.eVar30=digitalData.itemArray.id,t.eVar114=JSON.parse(sessionStorage.getItem("donorInfo")).donationAmount,t.eVar115=JSON.parse(sessionStorage.getItem("donorInfo")).monthlyDonationAmount;var r=digitalData.itemArray.productId;t.products="donation;"+r,t.channel="rco:donate",t.tl(!0,"o","Sustainer Lightbox: Donate Monthly "+n)}},trackerProperties:{}}}]},{id:"RL22fcfb158c34487e8f0e1e9c7f6efd73",name:"[AA] AE-877 Vimeo Video Tracking - Play Button click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".play-button.rco-ui-icon-play-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RCa990957836264a909245c5d98cf74643-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24743243cdb1407a86c08d4ea42f3089",name:"[AA] 194 Double The Donation (DTD) Impression Tracking",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#dd-input"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar4,eVar6,prop4,prop5,prop6,prop10,events",t.linkTrackEvents="event19,event60",t.eVar4="dtd impression",t.prop4="D=v4",t.prop5=t.pageName+"|"+t.eVar4,t.eVar6=location.href,t.prop6="D=v6",t.prop10=t.pageName,t.events="event19,event60"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"dtd impression",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL2a15da419d824457bf47a85585a0a44a",name:"[AT]  AE-1485 - Category Affinitiy - Nav Link (Event Handler)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"const links = document.querySelectorAll(\"a[href*='redcrossblood.org'], a[href*='redcross.org/take-a-class'], a[href*='redcross.org/store/'], a[href*='redcrossstore.org'], form[action] a[href='#']\");\n\n\nfor (let i = 0; i < links.length; i++) {\n\tlinks[i].addEventListener(\"click\", (ev) => {\n\t\tconst el = ev.currentTarget;\n\t\tlet payload = el.href;\n\t\t/* Check if href attr is missing or simply points to the same page.\n\t\t* If so, see if element is nested in form and use form's action attr if so.*/\n\t\tif (!payload || payload === `${window.location.href}#`) {\n\t\t\tconst subForm = el.closest(\"form\");\n\t\t\tpayload = subForm ? subForm.action : undefined;\n\t\t\tif (!payload) { return; }\n\t\t}\n\t\tconst catEvent = new CustomEvent(\"trackcategory\",\n\t\t\t{ detail: { 'catAffinityPhrase': payload }, bubbles: true });\n\t\tel.dispatchEvent(catEvent);\n\t});\n}\n\n",language:"javascript"}}]},{id:"RL2f5fec60aa01463fb9bc353c18f87844",name:"ACDL:DataPushed - Send Page Load via SDK",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"web.webpagedetails.pageViews"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%xdmARCWeb%",data:"%additionalTargetData%",type:"%xdmEventType%",instanceName:"alloy",renderDecisions:!0,edgeConfigOverrides:{development:{}}}}]},{id:"RL335b86e679644540b291d7ecd51c3819",name:"[Tag] AA-215 Add Schema to Monthly Giving page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/donations/ways-to-donate/monthly-giving.html",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="application/ld+json">\n{"@context": "https://schema.org","@type": "FAQPage","mainEntity": [{"@type": "Question","name": "When will my credit card first be charged?","acceptedAnswer": {"@type": "Answer","text": "Your credit card will be charged on the day you start your monthly donation and on the same day of each following month. Ex: If you start your donation on the 15th of the month your donation will run on the 15th of each following month."}},\n\n{ "@type": "Question", "name": "What if I need to make changes to my giving?", "acceptedAnswer": { "@type": "Answer", "text": "You can make changes anytime to your monthly gift. If you need to update your payment method, pause, cancel or adjust your monthly gift amount you can do so by accessing My Account or calling our Donor Services team at 1-800-HELP NOW (1-800-435-7669)" }\n},\n\n{ "@type": "Question", "name": "What confirmation or receipts will I receive for tax purposes?", "acceptedAnswer": { "@type": "Answer", "text": "You will receive an initial email receipt after your first monthly donation and an annual statement in January that summarizes your giving for the previous year." }\n}]}\n</script>',language:"html"}}]},{id:"RL3982d3815453467a8a45245eb6698c2c",name:"[AA] AA-9 Global Click Tracking  Listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,
source:"/********************************************************************************* \n*** Initialize Constants and Variables\n**********************************************************************************/\nconst ATTR_PATT = /\\[([\\d\\w\\-]*)([\\*^~]?=[\\d\\w\\-'\"\\\\]*)?\\]/;\nconst VSTR_ID = '723A22C757518E2C7F000101@AdobeOrg';\nconst TRACKED_TAGS = ['DIV', 'SPAN', 'BUTTON', 'INPUT', 'IMG', 'INPUT', 'P', 'B'];\n\nconst FRM_COMP = 'event2'\nconst FRM_ERR = 'event3';\nconst FDR = 'fdr';\nconst ZIP_KEY = 'zipCode';\nconst REF_KEY = 'refundReason';\nconst PAY_KEY = 'paymentType';\nconst FNAME_KEY = 'formName';\nconst FERR_KEY = 'formError';\nconst DLR_HNDL_KEY = 'dollarHandle';\nconst DON_CHOICE = 'donationChoice';\n\nconst N_TAB = ':new-tab';\n\nconst v = _satellite ? _satellite.getVisitorId() : Visitor.getInstance(VSTR_ID);\n\nconst modfObjs = [{ conditionalSelector: '[data-context=\"personal-information-section ng-valid\"]', sent: false, linkName: 'donation-form-personal-information-success-msg', formName: 'donation-flow-personal-information' },\n{ conditionalSelector: '[data-context=\"billing-information-section ng-valid\"]', sent: false, linkName: 'donation-form-billing-information-success-msg', formName: 'donation-flow-billing-information' },\n{ conditionalSelector: '[data-context=\"card-information-section_ng-valid\"]', sent: false, linkName: 'donation-form-credit-card-success-msg', formName: 'donation-flow-credit-card' }\n];\n\nconst clickTrackMap = new Map();\nconst mouseDownMap = new Map();\nconst blurMap = new Map();\n\n/********************************************************************************* \n*** Populate Mappers\n**********************************************************************************/\nclickTrackMap.set('[data-aa-myaccount-receipts]', { linkName: 'fdr:my-account', funcId: basicMapping });\nclickTrackMap.set('[data-aa-billing-link-text]', { linkName: FDR, funcId: basicMapping });\nclickTrackMap.set('[data-aa-createaccount-portal-links]', { linkName: 'portal', funcId: basicMapping });\nclickTrackMap.set('[data-aa-disaster-banner-alert-call-outs] *', { linkName: 'disaster-banner', useParent: true, funcId: basicMapping });\nclickTrackMap.set('[data-aa-view-all-drive]', { linkName: 'find-a-drive', funcId: basicMapping });\nclickTrackMap.set('[data-aa-footer-link]', { linkName: 'footer', funcId: basicMapping });\nclickTrackMap.set('[data-aa-header-drawer]', { linkName: 'header-nav', funcId: basicMapping });\nclickTrackMap.set('[data-aa-icon-card-links]', { linkName: 'fdr:my-account-icon-row', funcId: basicMapping });\nclickTrackMap.set('[data-aa-jump-link]', { linkName: 'jump-link', funcId: basicMapping });\nclickTrackMap.set('[data-aa-landing-tabbed-content]', { linkName: 'fdr:my-account-icon-row', funcId: basicMapping });\nclickTrackMap.set('[data-aa-link-set]', { linkName: 'link-set', funcId: basicMapping });\nclickTrackMap.set('[data-aa-local-header-nav-links]', { linkName: 'local-header-nav', funcId: basicMapping });\nclickTrackMap.set('[data-aa-local-header-nav-link]', { linkName: 'local-header-utility', funcId: basicMapping });\nclickTrackMap.set('[data-aa-local-header-utility]', { linkName: 'local-header-utility', funcId: basicMapping });\nclickTrackMap.set('[data-aa-login-portal-links]', { linkName: 'portal', funcId: basicMapping });\nclickTrackMap.set('[data-aa-data-crumb]', { linkName: 'breadcrumb', funcId: basicMapping });\nclickTrackMap.set('[data-aa-request-refund-button]', { linkName: 'fdr:request-donation', funcId: basicMapping });\nclickTrackMap.set('[data-aa-tabbed-content]', { linkName: 'tabbed-content', funcId: basicMapping });\nclickTrackMap.set('[data-aa-tribute-card-options]', { linkName: FDR, funcId: basicMapping});\nclickTrackMap.set('[data-aa-tribute-card-button]', {linkName: \"\", funcId: tributeCardCBack })\nclickTrackMap.set('[data-aa-header-utility]', { linkName: 'header-utility', funcId: basicMapping });\nclickTrackMap.set('[data-aa-header-utility-store]', { linkName: 'header-utility-store', funcId: basicMapping });\nclickTrackMap.set('[data-aa-donation-history]', { linkName: 'fdr:my-donation-history', funcId: basicMapping });\nclickTrackMap.set('[data-aa-local-nav-drive-button]', { linkName: 'local-header-nav', funcId: basicMapping, extMapper: [{ propName: ZIP_KEY, mapperFunc: getLocalZip }] });\nclickTrackMap.set('[data-aa-forgot-password-links]', { linkName: 'fdr:reset-password', funcId: basicMapping });\nclickTrackMap.set('[data-aa-montly-donation-button*=\"SETUP NEW\"] *', { linkName: FDR+\":manage-monthly\", scValMapper: () => '', scTxtMapper: () => '', funcId: basicMapping });\nclickTrackMap.set('rcomyaccount-monthly .card-container .card-button *', {linkName: FDR+\":edit-monthly\", events: 'event55', funcId: monthlyEditMapper});\nclickTrackMap.set('[data-aa-my-donation-link]', { linkName: 'fdr:my-donation', funcId: basicMapping });\nmouseDownMap.set('[data-aa-sign-in-links]', { linkName: FDR, funcId: basicMapping, delay: 1000, events: 'event52', condition: () => { return !elExists('[data-aa-sign-in-error]') } });\nclickTrackMap.set('[data-aa-icon-list] *', { linkName: 'list-icon', useParent: true, funcId: basicMapping });\nmouseDownMap.set('[data-aa-create-account-button]', { linkName: 'fdr:new-account', funcId: basicMapping, delay: 1000, events: 'event36', condition: () => { return !elExists('[data-aa-create-an-account-top-error-message]') } });\nmouseDownMap.set('[data-aa-create-account-button] *', { linkName: 'fdr:new-account', funcId: basicMapping, scTxtMapper: lcTextScTxt, delay: 1000,  events: 'event36', condition: () => { return !elExists('[data-aa-create-an-account-top-error-message]') } });\nclickTrackMap.set('[data-aa-location-search-button]', { linkName: 'search-locations-cta-panel', funcId: basicMapping, extMapper: [{ propName: ZIP_KEY, mapperFunc: getSearchZip }] });\nclickTrackMap.set('[data-aa-location-search-results-button]', { linkName: 'search-locations-cta-panel', funcId: basicMapping, extMapper: [{ propName: ZIP_KEY, mapperFunc: getSearchResultsZip }] });\nclickTrackMap.set('[data-aa-send-tribute-card]', { linkName: FDR, funcId: basicMapping, events: 'event48' });\nclickTrackMap.set('[data-aa-submit-refund-button]', { linkName: 'fdr:request-donation', funcId: basicMapping, events: 'event54', extMapper: [{ propName: REF_KEY, mapperFunc: () => { const selectedRefund = document.querySelector('[name=\"reason\"]'); return selectedRefund && selectedRefund.value ? selectedRefund.value.toLowerCase().trim() : ''; } }] });\nclickTrackMap.set('[data-aa-donation-submit-button]', { linkName: 'fdr-donate-submit', funcId: basicMapping, events: 'event40' });\nclickTrackMap.set('[data-aa-donation-submit-button] *', { linkName: 'fdr-donate-submit', useParent: true, funcId: basicMapping, events: 'event40' });\nclickTrackMap.set('[data-aa-header-utility-signed-in-link]', { linkName: 'header-utility', funcId: basicMapping, events: 'event53', eventMapper: getSignOutEvent });\nclickTrackMap.set('[data-aa-header-main-nav]', { linkName: 'header-nav', funcId: basicMapping, scValMapper: getSubMenScVal });\nclickTrackMap.set('[data-aa-header-main-nav] *', { linkName: 'header-nav', useParent: true, funcId: basicMapping, scValMapper: getSubMenScVal });\nclickTrackMap.set('[data-aa-disaster-banner-alert-more-info]', { linkName: 'disaster-banner', funcId: basicMapping, scValMapper: getDisasterScVal });\nclickTrackMap.set('[data-aa-apple-pay-button]', { linkName: 'apple-button', funcId: basicMapping, scTxtMapper: () => '', events: 'event44', extMapper: [{ propName: PAY_KEY, mapperFunc: () => { return getCleanDataEl('donation-payment-type'); } }] });\nclickTrackMap.set('[data-aa-header-logo] *', { linkName: 'header-logo', funcId: basicMapping, useParent: true, scTxtMapper: () => '' });\nclickTrackMap.set('#modf-toggle-designations-options', { linkName: 'donation-designation interaction', funcId: basicMapping, scTxtMapper: () => '', events: 'event212', fireOnce: true });\nclickTrackMap.set('.dollar-handles-buttons input', { linkName: 'donation-dollar handle interaction', funcId: basicMapping, scTxtMapper: () => '', events: 'event211', fireOnce: true });\nclickTrackMap.set('[name=\"modf-frequency\"]', { linkName: 'donation-frequency interaction', funcId: basicMapping, scTxtMapper: () => '', events: 'event213', fireOnce: true });\nclickTrackMap.set('[data-aa-link-image] img', { linkName: 'link-image', funcId: basicMapping, useParent: true, scTxtMapper: imgLinkScTxt });\nclickTrackMap.set('[data-aa-modal-signin-button]', { linkName: '', funcId: basicMapping, scTxtMapper: lcTextScTxt });\n\n//Added for social media tracking\nclickTrackMap.set('[data-aa-footer-social]', { linkName: 'footer-social', funcId: basicMapping, events: 'event9' });\n\n\n\nmouseDownMap.set('[data-aa-link-button]', { linkName: 'link-button', funcId: btnMapper });\nclickTrackMap.set('[data-aa-submit-button]', { linkName: '', funcId: btnMapper, extMapper: [{ propName: DLR_HNDL_KEY, mapperFunc: () => { return getCleanDataEl('Dollar handle'); } }] });\nclickTrackMap.set('[data-aa-submit-button] *', { linkName: '', funcId: btnMapper, useParent: true, extMapper: [{ propName: DLR_HNDL_KEY, mapperFunc: () => { return getCleanDataEl('Dollar handle'); } }] });\nmouseDownMap.set('[data-aa-link-button] *', { linkName: 'link-button', funcId: btnMapper, useParent: true });\n\nclickTrackMap.set('[data-aa-login-portal-button].sso-login-submit-active', { linkName: 'login-portal', delay: 300, funcId: vcLoginMapper, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'portal-login' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('login-portal-existinguser-form-error') } }] });\nclickTrackMap.set('#sso-create-account-button', { linkName: 'portal-create-account', delay: 300, funcId: vcCreateMapper, events: FRM_COMP, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'portal-create-account' }] });\nclickTrackMap.set(\"#vendor--chat-trigger *\", { srcAttr: 'id', funcId: attrMapper, useParent: true });\nmouseDownMap.set(\".search-toggle *\", { srcAttr: 'class', funcId: attrMapper, useParent: true});\n\nmouseDownMap.set('.rcodonations-designation .dropdown-elements .dropdown-element input', { linkName: '', funcId: designationMapper, useParent: true, events: 'event157' });\nmouseDownMap.set('[data-aa-tribute-preview-button]', { linkName: FDR, funcId: basicMapping, scValMapper: getTributeScVal });\nmouseDownMap.set('[data-aa-modal-signout-button]', { linkName: 'sign-out', funcId: basicMapping, events: 'event53', scTxtMapper: () => '' });\n\nclickTrackMap.set('#tpf-checkbox', { srcAttr: 'id', funcId: attrMapper, fireOnce: true});\n\n// AA-106 (Non-Click)\n\nmouseDownMap.set('.class-search-button *', { linkName: 'invalid-zip-code', delay: 500, condition: () => { return elExists('.invalid-zip') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'rco:class-search' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('classsearchctapanel'); } }] });\nmouseDownMap.set('[data-aa-type=\"find-a-drive-cta-panel\"] *', { linkName: 'find-a-drive-invalid-zip-code', delay: 100, condition: () => { return elExists('[data-aa-find-a-drive-cta-panel-error-message]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'find-a-drive-cta-panel' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('findadrive-cta-panelZiperr'); } }] });\nclickTrackMap.set('.payment-type[data-context] *', { linkName: FDR + \":my-donation\", useParent: true, funcId: basicMapping, scTxtMapper: paymentTypeScTxt, eventMapper: getPaySelectEvent, events: 'event43', extMapper: [{ propName: PAY_KEY, mapperFunc: () => { return getCleanDataEl('donation-payment-type'); } }] });\nmouseDownMap.set('.payment-type[data-context*=\"payment\"] *', { linkName: 'donation-step1 donation choice', delay: 300, condition: () => { return elExists('.donation-amount-review') }, useParent: true, funcId: basicMapping, scTxtMapper: () => '', eventMapper: getStepOneEvent, events: 'event137', extMapper: [{ propName: DON_CHOICE, mapperFunc: () => { return _satellite.getVar('step1DonationChoice'); } }] });\nclickTrackMap.set('#dedication-checkbox', { linkName: 'fdr-tribute-opt-in', condition: () => { return document.querySelector('#dedication-checkbox') && document.querySelector('#dedication-checkbox').checked; }, funcId: basicMapping, scTxtMapper: () => '' });\nmouseDownMap.set('[data-aa-local-nav-drive-button]', { linkName: 'zip error', delay: 300, condition: () => { return elExists('[data-aa-local-header-nav-error]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'local-header-nav:local-search' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('localregionheaderZiperr'); } }] });\nmouseDownMap.set('.location-search-button', { linkName: 'region-search-zip-errors', delay: 300, condition: () => { return elExists('[data-aa-location-search-error]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'search-locations-cta-panel' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('region search-errors'); } }] });\nmouseDownMap.set('[data-aa-type=\"tag-search-button\"] .redcross-button *', { linkName: 'sound-the-alarm', delay: 1000, condition: () => { return elExists('[data-context=\"tag-search-results-container\"]') }, funcId: basicMapping, scTxtMapper: tagContScTxt });\nmouseDownMap.set('#sso-create-account-button', { linkName: 'portal-create-account', delay: 1000, condition: () => { return elExists('[data-aa-createaccount-portal-error][style=\"display: block;\"]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'portal-create-account' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('login-portal-create-account-error'); } }] });\nclickTrackMap.set('[data-aa-modal-signin-button]', { linkName: 'donation-signin-error-msg', delay: 100, condition: () => { return elExists('[data-aa-modal-error-message]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'donation-sign-in' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('donation-signin-modal-error-message').replace('.', ''); } }] });\nmouseDownMap.set('[data-aa-modal-signin-button]', { linkName: 'signed-in-success', delay: 1000, condition: () => { return elExists('[data-aa-sign-out]') }, funcId: basicMapping, scTxtMapper: () => '', events: 'event2,event52', cBackFunc: () => localStorage.removeItem('donation-sign-in'), extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'donation-sign-in' }] });\nclickTrackMap.set('[data-aa-sign-in-links]', { linkName: 'my-account-sign-in-error', delay: 1000, condition: () => { return elExists('[data-aa-sign-in-error]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'fdr:my-account-sign-in' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('my account-signin-error'); } }] });\nmouseDownMap.set('[data-aa-forgot-password-links]', { linkName: 'password-reset', delay: 2000, condition: () => { return elExists('[data-aa-my-account-sucess-messag]') }, funcId: basicMapping, scTxtMapper: () => '', events: 'event2,event37', extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'fdr:password-reset' }] });\nclickTrackMap.set('[data-aa-reset-password-button]', { linkName: 'fdr:my-account-create-new-password', delay: 100, condition: () => { return elExists('[data-aa-reset-password-error]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'fdr:my-account-create-new-password' }, { propName: FERR_KEY, mapperFunc: () => { return getCleanDataEl('myaccount-password reset error'); } }] });\nmouseDownMap.set('[data-aa-reset-password-button]', { linkName: 'my account password-reset success', delay: 8000, condition: () => { return elExists('[data-aa-resetpassword-sucess-message]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_COMP, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'fdr:my-account-create-new-password' }] });\nclickTrackMap.set('.create-account-button *', { linkName: 'create account error', delay: 1000, condition: () => { return elExists('[data-aa-create-an-account-top-error-message]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'fdr:new-account' }, { propName: FERR_KEY, mapperFunc: () => 'create-account-a-user-already-exists' }] });\nclickTrackMap.set('[data-aa-create-account-button] * ', { linkName: 'create account error', useParent: true, delay: 1000, condition: () => { return elExists('[data-aa-create-an-account-top-error-message]') }, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'fdr:new-account' }, { propName: FERR_KEY, mapperFunc: () => 'create-account-a-user-already-exists' }] });\nblurMap.set('[data-context=\"personal-card-wrapper\"] input', { linkName: 'personal-information-error', delay: 50, condition: myAccountHasError, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: getFormContext }, { propName: FERR_KEY, mapperFunc: getClosestError }] });\nclickTrackMap.set('.personal-info-submit', { linkName: 'personal-information-success', delay: 500, condition: (el) => { return !el.closest('form').querySelector('[data-aa-personal-info-error]') }, funcId: basicMapping, scTxtMapper: () => '', events: `${FRM_COMP},event19`, extMapper: [{ propName: FNAME_KEY, mapperFunc: getFormContext }] });\nblurMap.set('[data-context=\"billing-edit-wrapper\"] input, [data-context=\"billing-edit-wrapper\"] select', { linkName: 'fdr:my-account-billing', delay: 50, condition: myAccountBillingHasError, funcId: basicMapping, scTxtMapper: () => '', events: FRM_ERR, extMapper: [{ propName: FNAME_KEY, mapperFunc: () => 'fdr:my-account-billing' }, { propName: FERR_KEY, mapperFunc: getMyAccountBillingError }] });\nblurMap.set('.payment-details-sections input, .payment-details-sections select', { linkName: '', funcId: modfSuccess, events: FRM_COMP });\nclickTrackMap.set('[data-aa-account-summary-links]', { linkName: 'fdr:my-account', funcId: basicMapping, scTxtMapper: getAcctSumScTxt });\n/********************************************************************************* \n*** Core Functionality\n**********************************************************************************/\n\ndocument.addEventListener('click', ev => {\n\tif (ev.target.href || TRACKED_TAGS.includes(ev.target.tagName)) {\n\t\tprocessEvent(ev, clickTrackMap);\n\t}\n});\n\ndocument.addEventListener('mousedown', ev => {\n\tif (ev.target.href || TRACKED_TAGS.includes(ev.target.tagName)) {\n\t\tprocessEvent(ev, mouseDownMap);\n\t}\n});\n\ndocument.addEventListener('blur', (ev => {\n\tif (ev.target.tagName === 'INPUT' || ev.target.tagName === 'SELECT' || ev.target.tagName === 'TEXTAREA') {\n\t\tprocessEvent(ev, blurMap);\n\t}\n}), true);\n\n\ndocument.addEventListener('focus', (ev => {\n\tif (ev.target.tagName === 'INPUT' || ev.target.tagName === 'SELECT' || ev.target.tagName === 'TEXTAREA') {\n\t\tprocessEvent(ev, blurMap);\n\t}\n}), true);\n\n\nfunction processEvent(ev, trackedMap) {\n\tif (!ev.target) { return; }\n\tlet lObj = getEl(ev.target, trackedMap);\n\tif (lObj && !lObj[1].delay) {\n\t\tlet linkedObj = processElement(ev.target, trackedMap, lObj[1], lObj[0]);\n\t\tif (linkedObj) {\n\t\t\tenrichObj(ev.target, lObj[1], linkedObj);\n\t\t\tconsole.log(linkedObj);\n\t\t\t_satellite.track('customLinkClick', linkedObj);\n\t\t\thandleCrossDomain(linkedObj.linkTarget, ev);\n\t\t\tif (lObj[1].fireOnce) {\n\t\t\t\ttrackedMap.delete(lObj[0]);\n\t\t\t}\n\t\t\tif (lObj[1].cBackFunc) { lObj[1].cBackFunc(); }\n\n\t\t}\n\t} else if (lObj) {\n\t\tsetTimeout(function () {\n\t\t\tconst linkedObj = processElement(ev.target, trackedMap, lObj[1], lObj[0]);\n\t\t\tif (linkedObj) {\n\t\t\t\tenrichObj(ev.target, lObj[1], linkedObj);\n\t\t\t\tconsole.log(linkedObj);\n\t\t\t\t_satellite.track('customLinkClick', linkedObj);\n\t\t\t\thandleCrossDomain(linkedObj.linkTarget, ev);\n\t\t\t\tif (lObj[1].fireOnce) {\n\t\t\t\t\ttrackedMap.delete(lObj[0]);\n\t\t\t\t}\n\t\t\t\tif (lObj[1].cBackFunc) { lObj[1].cBackFunc(); }\n\t\t\t}\n\t\t}, lObj[1].delay);\n\t}\n}\nfunction processElement(el, map, linkDetails, key) {\n\tif (!linkDetails.condition || linkDetails.condition(el)) {\n\t\treturn execFunction(el, key, linkDetails.funcId, map);\n\t}\n\treturn undefined;\n}\n\n\nfunction execFunction(el, selectorString, func, map) {\n\treturn func(el, selectorString, map);\n}\n\n\n\n/********************************************************************************* \n*** Mappers and Related Functions\n*** This section contains the functions that are passed as params in the maps.\n**********************************************************************************/\n\n// Top-Level Mappers\nfunction basicMapping(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconsole.log(el);\n\tconst elToUse = trackedObj.useParent ? el.closest(`[${(extractAttr(selectorString))}]`) : el;\n\tconst cName = trackedObj.linkName;\n\tconst scVal = trackedObj.scValMapper ? trackedObj.scValMapper(elToUse) : '';\n\tlet events = trackedObj.events ? trackedObj.events : '';\n\tif (trackedObj.eventMapper) {\n\t\tevents = trackedObj.eventMapper(el, selectorString, map);\n\t}\n\tconst linkUrl = buildLinkTarget(elToUse);\n\tconst scTxt = trackedObj.scTxtMapper ? trackedObj.scTxtMapper(elToUse, selectorString) : basicScTxt(elToUse, selectorString);\n\tlet linkName = `${cName}${scVal && cName ? ':' + scVal : ''}${scTxt ? ':' + scTxt : ''}`;\n\tif (linkName.indexOf(':') === 0) {\n\t\tlinkName = linkName.substring(1)\n\t}\n\treturn { linkTarget: linkUrl, linkName: linkName, events: events };\n\n}\n\n\nfunction designationMapper(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst lnkName = trackedObj.useParent ? el.parentNode.innerText : el.innerText;\n\tif (!lnkName) {\n\t\tthrow new Error(\"No value found for element \" + el);\n\t}\n\treturn { linkTarget: '', linkName: lnkName.replace(/\\s+/g, ' ').replace('\\\\n', ' ').trim(), events: trackedObj.events };\n}\n\nfunction attrMapper(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst trackedAttr = trackedObj.srcAttr;\n\tconst elToUse = trackedObj.useParent ? el.closest(`${selectorString.split(' ')[0]}`) : el;\n\tconst linkUrl = buildLinkTarget(elToUse);\n\tlet events = trackedObj.events ? trackedObj.events : '';\n\treturn { linkTarget: linkUrl, linkName: elToUse.getAttribute(trackedAttr), events: events };\n\n}\n\nfunction vcLoginMapper(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst errAttr = 'data-aa-login-portal-error';\n\tconst error = document.querySelector(`[${errAttr}]`);\n\tlet events = '';\n\tlet linkName = trackedObj.linkName;\n\tif (error && error.style.display !== 'none') {\n\t\tevents = FRM_ERR;\n\t\tlinkName = `${linkName}-error`;\n\t}\n\telse {\n\t\tevents = FRM_COMP;\n\t}\n\treturn { linkTarget: '', linkName: linkName, events: events };\n}\n\nfunction vcCreateMapper(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst cName = trackedObj.linkName;\n\tconst events = trackedObj.events ? trackedObj.events : '';\n\tconst linkUrl = buildLinkTarget(el);\n\tconst hasErr = elExists('[data-aa-createaccount-portal-error][style=\"display: block;\"]');\n\tif (!hasErr) {\n\t\treturn { linkTarget: linkUrl, linkName: cName, events: events };\n\t}\n}\n\nfunction btnMapper(el, selectorString, map) {\n\tconst attrName = extractAttr(selectorString);\n\tconst elToUse = map.get(selectorString).useParent ? el.closest(`[${(extractAttr(selectorString))}]`) : el;\n\tconst attrVal = elToUse.getAttribute(attrName);\n\tconst baseObj = basicMapping(el, selectorString, map);\n\tlet m = attrVal.match(/send\\-card|generic\\-cta-panel|icon\\-card|class\\-search\\-cta\\-panel|dollar\\-handle\\-cta\\-panel|find\\-a-drive\\-and\\-list\\-of\\-drives\\-combo|find\\-a\\-drive\\-cta\\-panel/i);\n\tif (m && m.length > 0) {\n\t\tlet attrMatch = m[0];\n\n\t\tlet scTxt = `${attrMatch}:${basicScTxt(elToUse, selectorString).replace(attrMatch, '')}`;\n\t\t// There are a few instances where we don't use matched attribute value directly.\n\t\tscTxt = scTxt.replace('-and-list-of-drive-combos', '').replace('dollar-handle-cta-panel', 'dollar-handle').replace('print-receipt', FDR);\n\t\tbaseObj.linkName = scTxt;\n\t\tif (attrMatch.includes('send-card')) {\n\t\t\tbaseObj.linkName = 'fdr-tribute-send-card-now';\n\t\t\tbaseObj.events = 'event47';\n\t\t}\n\t}\n\treturn baseObj;\n}\n\nfunction modfSuccess(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst events = trackedObj.events ? trackedObj.events : '';\n\tconst modfObj = getMODFSuccess();\n\treturn modfObj ? { linkTarget: '', linkName: modfObj.linkName, events: events, formName: modfObj.formName } : undefined;\n}\n\nfunction monthlyEditMapper(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tif(el.closest('.schedule-option')) {return;}\n\tconst parentContainer = el.closest('.card-container');\n\tlet linkName = trackedObj.linkName + ':'+ el.innerText;\n\tif(parentContainer) {\n\t\tconst heading = parentContainer.querySelector('.inner-text.top');\n\t\tlinkName += (\" \" + heading.innerText);\n\t}\n\tlinkName = cleanVal(linkName);\n\tif(linkName.endsWith(':')) {linkName = linkName.slice(0, linkName.length-1)}\n\tconst events = trackedObj.events ? trackedObj.events : '';\n\treturn {linkTarget: '', linkName: cleanVal(linkName), events: events};\n}\n\n// ScTxt Mappers\nfunction basicScTxt(el, selectorString) {\n\tconst attrName = extractAttr(selectorString);\n\tif (!attrName) {\n\t\tthrow new Error(\"Unable to locate attr value for selector \" + selectorString);\n\t}\n\tconst attrVal = el.getAttribute(attrName);\n\tconst attrNotSet = attrVal.toLowerCase().includes('not set');\n\tconst scTxt = (attrVal && !attrNotSet) ? cleanVal(attrVal) : cleanVal(el.textContent);\n\treturn scTxt;\n}\n\nfunction imgLinkScTxt(el, selectorString) {\n\tconst attrName = extractAttr(selectorString);\n\tif (!attrName) {\n\t\tthrow new Error(\"Unable to locate attr value for selector \" + selectorString);\n\t}\n\tconst attrVal = el.getAttribute(attrName);\n\tconst attrNotSet = !attrVal.includes('not set');\n\tif (attrVal && !attrNotSet) {\n\t\treturn cleanVal(attrVal);\n\t}\n\tconst img = el.querySelector('img');\n\tif (img) {\n\t\treturn cleanVal(img.getAttribute('src').split('/').pop(0, -2).match(/[^\\.]+/, '')[0].trim());\n\t}\n\treturn '';\n}\n\nfunction lcTextScTxt(el, selectorString) {\n\treturn cleanVal(el.innerText);\n}\n\nfunction paymentTypeScTxt(el, selectorString) {\n\tconst pTypeSelector = 'data-aa-donation-payment-type';\n\tconst payAttrEl = el.querySelector(`[${pTypeSelector}]`);\n\tconst payAttr = payAttrEl ? payAttrEl.getAttribute(pTypeSelector) : '';\n\tif (!payAttr || payAttr === 'donation-payment-type-not-set') {\n\t\treturn cleanVal(payAttrEl.innerText.replace('Pay with', ''));\n\t}\n\treturn cleanVal(payAttr);\n}\n\n\nfunction getAcctSumScTxt(el, selectorString) {\n\tconst titleEl = el.parentNode.querySelector('[data-aa-account-summary-title]');\n\tconsole.log(titleEl);\n\tconst baseTxt = basicScTxt(el, selectorString);\n\tif (!titleEl) {\n\t\treturn baseTxt;\n\t}\n\tconst title = cleanVal(titleEl.getAttribute('data-aa-account-summary-title'));\n\tconsole.log(title);\n\treturn title ? `${title}:${baseTxt}` : baseTxt;\n}\n\n\n\nfunction tagContScTxt(el, selectorString) {\n\tconst tagContainer = el.closest('[data-context=\"tag-search-cta-panel\"]');\n\tif (!tagContainer) { return ''; }\n\tconst btn = tagContainer.querySelector('button');\n\treturn btn ? cleanVal(btn.innerText) : '';\n}\n\n// Event Mappers\nfunction getSignOutEvent(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst events = trackedObj.events ? trackedObj.events : '';\n\tconst attrName = extractAttr(selectorString);\n\tif (!attrName) {\n\t\tthrow new Error(\"Unable to locate attr value for selector \" + selectorString);\n\t}\n\tconst attrVal = el.getAttribute(attrName);\n\tconst attrNotSet = !attrVal.includes('not set');\n\tconst scTxt = attrVal && !attrNotSet ? cleanVal(attrVal) : cleanVal(el.textContent);\n\treturn scTxt === 'sign-out' ? events : '';\n}\n\n\nfunction getPaySelectEvent(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst events = trackedObj.events ? trackedObj.events : '';\n\tconst alreadyClicked = sessionStorage.getItem('paymentClicked') === 'true';\n\twindow.addEventListener('pagehide', (ev) => sessionStorage.removeItem('paymentClicked'));\n\tif (alreadyClicked) {\n\t\treturn events;\n\t}\n\tsessionStorage.setItem('paymentClicked', 'true');\n\treturn 'event39,' + events;\n}\n\nfunction getStepOneEvent(el, selectorString, map) {\n\tconst trackedObj = map.get(selectorString);\n\tconst events = trackedObj.events ? trackedObj.events : '';\n\tif (!events) { return ''; }\n\treturn `${events}=${_satellite.getVar('step1DonationAmount')}`;\n}\n\n// ScVal Mappers\nfunction getSubMenScVal(el) {\n\tconst mainNav = el.closest('[data-context=\"main-nav-section\"]');\n\tif (!mainNav) { return ''; }\n\tconst navDrawer = mainNav.querySelector('[data-context=\"main-nav-link\"] [data-aa-header-drawer]');\n\treturn navDrawer ? cleanVal(navDrawer.innerText) : '';\n}\n\nfunction getTributeScVal(el) {\n\tconst form = document.querySelector('[data-aa-tribute-card-options].active');\n\treturn form ? cleanVal(form.getAttribute('data-aa-tribute-card-options')) : '';\n\n}\n\nfunction getDisasterScVal(el) {\n\tconst headlineContext = el.closest('[data-context=\"slide-panel\"]');\n\tif (!headlineContext) {\n\t\treturn \"\";\n\t}\n\tconst headline = headlineContext.querySelector(\"[data-aa-disaster-banner-alert-headline]\");\n\treturn headline ? cleanVal(headline.innerText) : '';\n}\n\n\n\n// Functions to extract misc eVars/data\nfunction getSearchResultsZip(el, trackedObj) {\n\tconst zipAttr = 'data-aa-zip-code';\n\tconst searchContainer = el.closest('[data-context=\"search-results-container\"]');\n\tif (!searchContainer) { return ''; }\n\tconst zipContainer = searchContainer.querySelector(`[${zipAttr}]`);\n\treturn zipContainer ? zipContainer.getAttribute(zipAttr) : '';\n}\n\nfunction getLocalZip(el, trackedObj) {\n\tconst zipSearch = document.querySelector('[data-context=\"region-search\"] input');\n\treturn (zipSearch && zipSearch.value) ? zipSearch.value : 'no-zipcode';\n}\n\nfunction getSearchZip(el, trackedObj) {\n\tconst zipSearch = document.querySelector('[data-context=\"location-search-cta-panel-wrapper\"] input');\n\treturn (zipSearch && zipSearch.value) ? zipSearch.value : 'no-zipcode';\n}\n\n\nfunction getFormContext(el, trackedObj) {\n\tconst form = el.closest('form[data-context]');\n\treturn form ? 'my-account-personal-info:' + form.getAttribute('data-context') : '';\n}\n\nfunction getClosestError(el, trackedObj) {\n\tconst err = myAccountHasError(el);\n\treturn err ? cleanVal(err) : '';\n}\n\nfunction getMyAccountBillingError(el, trackedObj) {\n\tconst err = myAccountBillingHasError(el);\n\treturn err ? cleanVal(err) : '';\n\n}\n// Conditions\nfunction myAccountHasError(el) {\n\tconst err = el.parentNode.classList.contains('phone-wrapper') ? el.parentNode.nextElementSibling : el.nextElementSibling\n\treturn err && err.getAttribute('data-aa-personal-info-error') ? err.getAttribute('data-aa-personal-info-error') : undefined;\n}\n\nfunction myAccountBillingHasError(el) {\n\tconst container = el.closest('.billing-input-section');\n\treturn container && container.querySelector('[data-aa-billing-info-error]') ? container.querySelector('[data-aa-billing-info-error]').getAttribute('data-aa-billing-info-error') : undefined;\n}\n\n// Call-Back Functions\nfunction tributeCardCBack() {\n\tconst selected = document.querySelector('button.active[data-aa-tribute-card-options]');\n\tif(selected) {\n\t\tlocalStorage.setItem('tributebutton', selected.getAttribute('data-aa-tribute-card-options').toLowerCase());\n\t}\n}\n/********************************************************************************* \n*** Utils\n**********************************************************************************/\nfunction extractAttr(selectorString) {\n\tlet res = selectorString.split(\" \");\n\tconsole.log(selectorString);\n\treturn parseAttrSelect(res[0])[1];\n}\n\n// Returns matches as an array with arr[1] = attribute key, and arr[2] = attribute val.\nfunction parseAttrSelect(selectorString) {\n\tconst m = selectorString.match(ATTR_PATT);\n\tif (m && m.length >= 2) {\n\t\treturn m;\n\t}\n\treturn null;\n}\n\nfunction cleanVal(stringVal) {\n\treturn stringVal.trim().replace(/\\s/g, \"-\").toLowerCase();\n}\n\nfunction handleCrossDomain(href, event) {\n\tconst el = event.target;\n\tconst isCrossDomain = (href != undefined && window.location.host === 'www.redcross.org' && href.startsWith(\"https://www.redcrossblood.org\"));\n\tconsole.log('Is Cross-Domain: %s?. HREF: %s', isCrossDomain, href);\n\tif (!isCrossDomain || !el) { return; }\n\tif (!el.closest(\".form-drive-list\")) {\n\t\tevent.preventDefault();\n\t\tconst destUrl = v.appendVisitorIDsTo(href.replace(N_TAB, ''));\n\t\tif (el.target) {\n\t\t\twindow.open(destUrl, el.target);\n\t\t} else {\n\t\t\twindow.location = destUrl;\n\t\t}\n\t} else {\n\t\thandleDriveSearch(event, el);\n\t}\n}\n\nfunction elExists(selector) {\n\tconst el = document.querySelector(selector);\n\treturn el && (el.innerText != '' || el.innerHTML != '') && el.offsetWidth > 0 && el.offsetHeight > 0;\n}\n\nfunction getEl(el, map) {\n\tfor (const key of map.keys()) {\n\t\tif (el.matches(key)) {\n\t\t\treturn [key, map.get(key)];\n\t\t}\n\t}\n\treturn undefined;\n}\n\nfunction buildLinkTarget(el) {\n\tlet res = el.href ? el.href : '';\n\tif (res && el.target && el.target === '_blank') {\n\t\tres += N_TAB;\n\t}\n\treturn res;\n}\n\nfunction getCleanDataEl(elName) {\n\tconst dEl = _satellite.getVar(elName);\n\treturn dEl ? cleanVal(dEl) : '';\n}\n\n\nfunction getMODFSuccess() {\n\tconst filteredObjs = modfObjs.filter(obj => !obj.sent).sort(obj => obj.stepNum);\n\tlet foundObj = null;\n\tfor (const obj of filteredObjs) {\n\t\tif (elExists(obj.conditionalSelector)) {\n\t\t\tobj.sent = true;\n\t\t\tfoundObj = obj;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn foundObj;\n\n}\n// Enrich object with \"extra\" data such as form name, zip, etc.\nfunction enrichObj(el, trackedObj, linkObj) {\n\tif (trackedObj.extMapper) {\n\t\tfor (let i = 0; i < trackedObj.extMapper.length; i++) {\n\t\t\tconst mObj = trackedObj.extMapper[i];\n\t\t\tlinkObj[mObj.propName] = mObj.mapperFunc(el, trackedObj);\n\t\t}\n\t}\n\n}\n\n\nfunction handleDriveSearch(event, el) {\n\tevent.preventDefault();\n\tevent.stopImmediatePropagation();\n\tconst form = el.closest('.form-drive-list');\n\tif (!form) {\n\t\treturn;\n\t}\n\tconst link = form.querySelector(\"a[href*='redcrossblood.org']\");\n\tconst zipInput = form ? form.querySelector(\"#ziporsponsor\") : null;\n\tconst inputVal = zipInput.value;\n\tif (!inputVal) {\n\t\tzipInput.setAttribute('placeholder', 'Required');\n\t\tzipInput.setAttribute('data-aa-drive-search-error', 'zip-required');\n\t\tzipInput.classList.add('error-border');\n\t\treturn;\n\t}\n\tlet destUrl = (link.href + '/drive-results?zipSponsor=' + encodeURIComponent(inputVal));\n\tdestUrl = v.appendVisitorIDsTo(destUrl);\n\twindow.open(destUrl, '_self');\n\n}",
language:"javascript"}}]},{id:"RL3e6552db17334be0abd84ef07c6b91fd",name:"Core:DOMReady  - Custom Code",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC9236aceaf2114e7f935c2ae1a08de1dc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e85d44959ea4822b2974773537652c0",name:"[Tag] AA-127 TikTok Pixel",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/donate/donation.html/"},{value:"/donate/confirmation-sustainer-lightbox.html"},{value:"/donate/donation.html"},{value:"/donate/monthly.html"},{value:"/donate/holiday-donations-help-where-its-needed-most.html"},{value:"/donate/holiday-donations-help-where-its-needed-most.html/"},{value:"/donate/confirmation.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'\t\t!function (w, d, t) {\n\t\t  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++\n)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};\n\t\t\n\t\t  ttq.load(\'CFCMRP3C77U110MK43E0\');\n\t\t  ttq.page();\n\t\t  \n\t\t  if (location.pathname === "/donate/confirmation-sustainer-lightbox.html" || location.pathname === "/donate/confirmation.html") {\n\t\t\t  ttq.track(\'PlaceAnOrder\', {value: _satellite.getVar("Donation Amount"), currency: \'USD\'});\n\t\t  }\n\t\t  \n\t\t}(window, document, \'ttq\');',language:"javascript"}}]},{id:"RL4240e1192529411ea59903cf7e1bcc61",name:"[AA] DCR - YouTube Video Tracking ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"videoTrack"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RCbdd1254fd8104bc6b555f7f1497c7c6b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL426b81793f1d40d1ba55348e746a653c",name:"Core:PageTop - Adobe Target Configuration",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"document.addEventListener(adobe.target.event.CONTENT_RENDERING_FAILED, function (ev) {\n\n\tlet msg = 'Target Rendering Failed: ';\n\tconst erObjs = ev.detail.error.flatMap(er => er.data.errors).flat();\n\tfor (let i = 0; i < erObjs.length; i++) {\n\t\tconst er = erObjs[i];\n\t\tmsg += `ERR[${i}]: Content=${er.content}, Selector=${er.selector}, Type${er.type}`;\n\t}\n\tthrow new TargetError(msg);\n});\n\nclass TargetError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"TargetError\";\n\t}\n}",language:"javascript"}},{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{TO_RC:{value:"%TO_RC%",checked:!1},at_property:{value:"%at_property%",checked:!1},browserLang:{value:"%navigatorLanguage%",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'(function () {\n\tconst ZIP_CHANGE = \'zipCookieChange\';\n\tconst REGION_CHANGE = \'regionCookieChange\';\n\n\tconst EVENTS = [ZIP_CHANGE, REGION_CHANGE];\n\n\tfor (const ev of EVENTS) {\n\t\twindow.addEventListener(ev, (ev) => {\n\t\t\tsendRequest(ev.type, getParams(ev));\n\t\t}, true);\n\t}\n\n\tfunction sendRequest(context, params = {}, successCallback = undefined, errorCallback = undefined) {\n\t\tadobe.target.getOffer({\n\t\t\t"mbox": context,\n\t\t\t"params": params,\n\t\t\t"success": (offer) => {\n\t\t\t\tif (successCallback) {\n\t\t\t\t\tsuccessCallback(offer, context);\n\t\t\t\t} else {\n\t\t\t\t\tdefSuccess(offer, context)\n\t\t\t\t}\n\t\t\t},\n\t\t\t"error": defErrCBack\n\t\t});\n\n\t}\n\n\tfunction defSuccess(offer, context) {\n\t\tadobe.target.applyOffer({\n\t\t\t"mbox": context,\n\t\t\t"offer": offer,\n\t\t\t"selector": "head"\n\t\t});\n\t}\n\n\tfunction defErrCBack(status, error) {\n\t\tconsole.log(\'Error\', status, error);\n\t}\n\n\tfunction getParams(ev) {\n\t\tif (ev.type === REGION_CHANGE) {\n\t\t\treturn { regionCode: ev.detail };\n\t\t} else if (ev.type === ZIP_CHANGE) {\n\t\t\treturn { zipCode: ev.detail }\n\t\t}\n\n\t\treturn {};\n\t}\n})();',language:"javascript"}}]},{id:"RL44eee6c524544a759dc26d7afb7738be",name:"[Tag] AA-215 Add Schema to Home page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="application/ld+json">{"@context": "https://schema.org","@type": "Organization","name": "American Red Cross","url": "https://www.redcross.org/","logo": "https://www.redcross.org/content/dam/redcross/imported-images/redcross-logo.png.img.png",\n  "address": {\n    "@type": "PostalAddress",\n    "streetAddress": "430 17th St NW",\n    "addressLocality": "Washington, D.C.",\n    "postalCode": "20006"\n  },\n  "contactPoint": {\n    "@type": "ContactPoint",\n    "telephone": "(800) 733-2767",\n    "contactType": "customer service"\n  },\n  "sameAs": [    "https://www.facebook.com/redcross/",    "https://www.youtube.com/c/redcross",    "https://www.linkedin.com/company/american-red-cross",    "https://twitter.com/RedCross",    "https://www.instagram.com/americanredcross/"  ]}</script>',language:"html"}}]},{id:"RL4b1f42b33cb14451a6d7a0a7ada91df2",name:"[Tag] Floodlight-AA-42-Home Fire Campaign",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.location.pathname.indexOf("/home-fire-campaign")>-1==1}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!--\nStart of Floodlight Tag: Please do not remove\nActivity name of this tag: ARC_Sound the Alarm Donation Page\nURL of the webpage where the tag is expected to be placed: https://www.redcross.org/donate/home-fire-campaign.html/\nThis tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.\nCreation Date: 03/09/2022\n-->\n<script type="text/javascript">\nvar axel = Math.random() + "";\nvar a = axel * 10000000000000;\ndocument.write(\'<iframe src="https://9279179.fls.doubleclick.net/activityi;src=9279179;type=arc_s0;cat=arc_s00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=\' + a + \'?" width="1" height="1" frameborder="0" style="display:none"></iframe>\');\n</script>\n<noscript>\n<iframe src="https://9279179.fls.doubleclick.net/activityi;src=9279179;type=arc_s0;cat=arc_s00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>\n</noscript>\n<!-- End of Floodlight Tag: Please do not remove -->',language:"html"}}]},{id:"RL546c9216542a4b9eb792465320b5d403",name:"[Tag] Migrated from DTM: Google Universal Analytics - Send Beacon on every page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[],actions:[{modulePath:"google-universal-analytics/src/lib/actions/sendPageView.js",settings:{}}]},{id:"RL556d50f5357a4350b357e742006b8310",name:"[Tag] Google Adword-894",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC6e5921fec368450cb1c07fa5cd7bf26a-source.min.js",language:"html",isExternal:!0}}]},{id:"RL58a05e0b686e4814870f9862eff350a5",name:"[AA] AE-877 Vimeo Video Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"vimeoVideoTrack"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC894a64d835f540f3bcf99ce41785a6b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5eb03d148b8e45f489bb1e77354b17d4",name:"[TAG] AE-2644 Vehicle Donation Program landing page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.location.pathname.indexOf("/donations/ways-to-donate/car-donations/vdp-display-lp")>-1==1}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Global site tag (gtag.js) - Google Ads: 784967640 BEGIN-->\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=AW-784967640\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'AW-784967640');\n</script>\n<!-- Global site tag (gtag.js) - Google Ads: 784967640 END -->\n\n<!--\nEvent snippet for VehicleDonation_LandingPage on https://www.redcross.org/donations/ways-to-donate/car-donations/vdp-display-lp.html: Please do not remove.\nPlace this snippet on pages with events you\u2019re tracking. \nCreation date: 11/02/2021\n-->\n<script>\n  gtag('event', 'conversion', {\n    'allow_custom_scripts': true,\n    'send_to': 'DC-4706068/veh0/vehic001+standard'\n  });\n</script>\n<noscript>\n<img src=\"https://ad.doubleclick.net/ddm/activity/src=4706068;type=veh0;cat=vehic001;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?\" width=\"1\" height=\"1\" alt=\"\"/>\n</noscript>\n<!-- End of event snippet: Please do not remove -->\n\n<!-- Facebook Pixel Code -->\n<script>\n!function(f,b,e,v,n,t,s)\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n'https://connect.facebook.net/en_US/fbevents.js');\nfbq('init', '998313923523585');\nfbq('track', 'PageView');\n</script>\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\"\nsrc=\"https://www.facebook.com/tr?id=998313923523585&ev=PageView&noscript=1\"\n/></noscript>\n<!-- End Facebook Pixel Code -->",language:"html"}}]},{id:"RL66fad3e1cc04445d972ffeea66d55b4f",name:"[Tag] Floodlight-AA-42-Sound the Alarm",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.location.pathname.indexOf("/sound-the-alarm")>-1==1}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!--\nStart of Floodlight Tag: Please do not remove\nActivity name of this tag: ARC_Sound the Alarm_Homepage\nURL of the webpage where the tag is expected to be placed: https://www.redcross.org/sound-the-alarm.html\nThis tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.\nCreation Date: 03/04/2022\n-->\n<script type="text/javascript">\nvar axel = Math.random() + "";\nvar a = axel * 10000000000000;\ndocument.write(\'<iframe src="https://9279179.fls.doubleclick.net/activityi;src=9279179;type=arc_s0;cat=arc_s0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=\' + a + \'?" width="1" height="1" frameborder="0" style="display:none"></iframe>\');\n</script>\n<noscript>\n<iframe src="https://9279179.fls.doubleclick.net/activityi;src=9279179;type=arc_s0;cat=arc_s0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>\n</noscript>\n<!-- End of Floodlight Tag: Please do not remove -->',language:"html"}}]},{id:"RL6b1905fce8f741efbd0861a8cc0722b4",name:"[SDK]  - CAPI Donation Conversion (Temp)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"donation-confirmation"==digitalData.page.pageType}}}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%[SDK] - RCO Web XDM%",type:"commerce.purchases",instanceName:"alloy",edgeConfigOverrides:{staging:{datastreamId:"07efc98a-c5b7-4cf6-a45b-480190517f40"},production:{datastreamId:"ebd1fd94-a266-4e5c-8cfa-03ef29ded7d4"},development:{datastreamId:"68e585fd-b792-4382-952d-bba3a96349af"}}}}]},{id:"RL6f98cf7627eb48228f4c1b3670d7434f",name:"[AA] YouTube Video Tracking - Play Button click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".play-button.fa-youtube",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC59cc5aba85f744a7a060edc892fff9e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL771f801fa35641cfacc90ff02f1dcf16",name:"[Tag] Paypal-Exclusion tag",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/donate/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RCbf131f8c8b174a439cb37ce67760ba23-source.min.js",language:"html",isExternal:!0}}]},{id:"RL79e2dcc2edb2447eb678592d225a91c4",name:"[Tag] Google Analytics VC",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/become-a-volunteer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC17771f0ccc8d47d7aedd07248f24b4b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL810265b57bf441cd85b6bff6e58f1186",name:"[AA] - SPA Component Loaded",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:".*/account.html/.*",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'function lastcomponentload() {\n  poll(() => s && s.isReadyToTrack())\n    .then(() => {\n      console.log(\'Resolved successfully\');\n       loadHeap();\n      // TODO: Remove this once we move to WebSDK\n      setTimeout(s.t, 3000);\n    })\n    .catch( () => console.log(\'Timed out while waiting for Analytics.\'));\n}\n\n\nfunction poll(fn, timeout = 6000, interval = 300) {\n     const endTime = Number(new Date()) + timeout;\n  const checkCondition = function (resolve, reject) {\n    const result = fn();\n    if (result) {\n      resolve(result);\n    }\n    else if (Number(new Date()) < endTime) {\n      setTimeout(checkCondition, interval, resolve, reject);\n    }\n    else {\n      reject(new Error(\'timed out for \' + fn + \': \' + arguments));\n    }\n  };\n\n  return new Promise(checkCondition);\n\n}\n\n/* function loadHeap() {\n  if(!window.heap && window.location.pathname.includes(\'account.html/my-account\')) {\nwindow.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};   \nheap.load((_satellite.getVar(\'heapEnvironment\')));\n}\n} */',language:"javascript"}}]},{id:"RL82a8fcfad54540c5852349127f595269",name:"[AA] Send Beacon on every page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL8d95d821bdda4d11a146e5890583c07d",name:"Core:PageTop - Heap Analytics",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%enableHeap%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};   \n\nheap.load((_satellite.getVar(\'heapEnvironment\')));',language:"javascript"}}]},{id:"RL8fc8cfc4e7e247e1949ff3409db9cf83",name:"[AA] Donation Confirmation Revenue (e105)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%path%",rightOperand:"/content/redcross/en/donate/confirmation"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=parseFloat(digitalData.itemArray.price.replace(",",""));t.events=t.apl(t.events,"event105="+n,",",1)}}}}]},{id:"RL97890c605f2748be9a0cb14272ad31aa",name:"CORE: PLR: s_code updates",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'//to create cookie\nfunction createCookie(name,value,days) {\n    var expires = "";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = "; expires=" + date.toUTCString();\n    }\n    document.cookie = name + "=" + value + expires + "; path=/";\n}\n\n//Read cookie value\nfunction getCookie(cname) {\n    var name = cname + "=";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(\';\');\n    for(var i = 0; i <ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == \' \') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return "";\n}\n\n// AP: not used anywhere in s_code but may be used elsewhere\n// AP: we may create a separate method for it\n//Function to  erase cookie\nfunction eraseCookie(name) {\n    createCookie(name,"",-1);\n}\n\n/***** THE Media MODULE *****/\n/***** Media Module for appMeasurement 1.5 *****/\nfunction AppMeasurement_Module_Media(q){var b=this;b.s=q;q=window;q.s_c_in||(q.s_c_il=[],q.s_c_in=0);b._il=q.s_c_il;b._in=q.s_c_in;b._il[b._in]=b;q.s_c_in++;b._c="s_m";b.list=[];b.open=function(d,c,e,k){var f={},a=new Date,l="",g;c||(c=-1);if(d&&e){b.list||(b.list={});b.list[d]&&b.close(d);k&&k.id&&(l=k.id);if(l)for(g in b.list)!Object.prototype[g]&&b.list[g]&&b.list[g].R==l&&b.close(b.list[g].name);f.name=d;f.length=c;f.offset=0;f.e=0;f.playerName=b.playerName?b.playerName:e;f.R=l;f.C=0;f.a=0;f.timestamp=\nMath.floor(a.getTime()/1E3);f.k=0;f.u=f.timestamp;f.c=-1;f.n="";f.g=-1;f.D=0;f.I={};f.G=0;f.m=0;f.f="";f.B=0;f.L=0;f.A=0;f.F=0;f.l=!1;f.v="";f.J="";f.K=0;f.r=!1;f.H="";f.complete=0;f.Q=0;f.p=0;f.q=0;b.list[d]=f}};b.openAd=function(d,c,e,k,f,a,l,g){var h={};b.open(d,c,e,g);if(h=b.list[d])h.l=!0,h.v=k,h.J=f,h.K=a,h.H=l};b.M=function(d){var c=b.list[d];b.list[d]=0;c&&c.monitor&&clearTimeout(c.monitor.interval)};b.close=function(d){b.i(d,0,-1)};b.play=function(d,c,e,k){var f=b.i(d,1,c,e,k);f&&!f.monitor&&\n(f.monitor={},f.monitor.update=function(){1==f.k&&b.i(f.name,3,-1);f.monitor.interval=setTimeout(f.monitor.update,1E3)},f.monitor.update())};b.click=function(d,c){b.i(d,7,c)};b.complete=function(d,c){b.i(d,5,c)};b.stop=function(d,c){b.i(d,2,c)};b.track=function(d){b.i(d,4,-1)};b.P=function(d,c){var e="a.media.",k=d.linkTrackVars,f=d.linkTrackEvents,a="m_i",l,g=d.contextData,h;c.l&&(e+="ad.",c.v&&(g["a.media.name"]=c.v,g[e+"pod"]=c.J,g[e+"podPosition"]=c.K),c.G||(g[e+"CPM"]=c.H));c.r&&(g[e+"clicked"]=\n!0,c.r=!1);g["a.contentType"]="video"+(c.l?"Ad":"");g["a.media.channel"]=b.channel;g[e+"name"]=c.name;g[e+"playerName"]=c.playerName;0<c.length&&(g[e+"length"]=c.length);g[e+"timePlayed"]=Math.floor(c.a);0<Math.floor(c.a)&&(g[e+"timePlayed"]=Math.floor(c.a));c.G||(g[e+"view"]=!0,a="m_s",b.Heartbeat&&b.Heartbeat.enabled&&(a=c.l?b.__primetime?"mspa_s":"msa_s":b.__primetime?"msp_s":"ms_s"),c.G=1);c.f&&(g[e+"segmentNum"]=c.m,g[e+"segment"]=c.f,0<c.B&&(g[e+"segmentLength"]=c.B),c.A&&0<c.a&&(g[e+"segmentView"]=\n!0));!c.Q&&c.complete&&(g[e+"complete"]=!0,c.S=1);0<c.p&&(g[e+"milestone"]=c.p);0<c.q&&(g[e+"offsetMilestone"]=c.q);if(k)for(h in g)Object.prototype[h]||(k+=",contextData."+h);l=g["a.contentType"];d.pe=a;d.pev3=l;var q,s;if(b.contextDataMapping)for(h in d.events2||(d.events2=""),k&&(k+=",events"),b.contextDataMapping)if(!Object.prototype[h]){a=h.length>e.length&&h.substring(0,e.length)==e?h.substring(e.length):"";l=b.contextDataMapping[h];if("string"==typeof l)for(q=l.split(","),s=0;s<q.length;s++)l=\nq[s],"a.contentType"==h?(k&&(k+=","+l),d[l]=g[h]):"view"==a||"segmentView"==a||"clicked"==a||"complete"==a||"timePlayed"==a||"CPM"==a?(f&&(f+=","+l),"timePlayed"==a||"CPM"==a?g[h]&&(d.events2+=(d.events2?",":"")+l+"="+g[h]):g[h]&&(d.events2+=(d.events2?",":"")+l)):"segment"==a&&g[h+"Num"]?(k&&(k+=","+l),d[l]=g[h+"Num"]+":"+g[h]):(k&&(k+=","+l),d[l]=g[h]);else if("milestones"==a||"offsetMilestones"==a)h=h.substring(0,h.length-1),g[h]&&b.contextDataMapping[h+"s"][g[h]]&&(f&&(f+=","+b.contextDataMapping[h+\n"s"][g[h]]),d.events2+=(d.events2?",":"")+b.contextDataMapping[h+"s"][g[h]]);g[h]&&(g[h]=0);"segment"==a&&g[h+"Num"]&&(g[h+"Num"]=0)}d.linkTrackVars=k;d.linkTrackEvents=f};b.i=function(d,c,e,k,f){var a={},l=(new Date).getTime()/1E3,g,h,q=b.trackVars,s=b.trackEvents,t=b.trackSeconds,u=b.trackMilestones,v=b.trackOffsetMilestones,w=b.segmentByMilestones,x=b.segmentByOffsetMilestones,p,n,r=1,m={},y;b.channel||(b.channel=b.s.w.location.hostname);if(a=d&&b.list&&b.list[d]?b.list[d]:0)if(a.l&&(t=b.adTrackSeconds,\nu=b.adTrackMilestones,v=b.adTrackOffsetMilestones,w=b.adSegmentByMilestones,x=b.adSegmentByOffsetMilestones),0>e&&(e=1==a.k&&0<a.u?l-a.u+a.c:a.c),0<a.length&&(e=e<a.length?e:a.length),0>e&&(e=0),a.offset=e,0<a.length&&(a.e=a.offset/a.length*100,a.e=100<a.e?100:a.e),0>a.c&&(a.c=e),y=a.D,m.name=d,m.ad=a.l,m.length=a.length,m.openTime=new Date,m.openTime.setTime(1E3*a.timestamp),m.offset=a.offset,m.percent=a.e,m.playerName=a.playerName,m.mediaEvent=0>a.g?"OPEN":1==c?"PLAY":2==c?"STOP":3==c?"MONITOR":\n4==c?"TRACK":5==c?"COMPLETE":7==c?"CLICK":"CLOSE",2<c||c!=a.k&&(2!=c||1==a.k)){f||(k=a.m,f=a.f);if(c){1==c&&(a.c=e);if((3>=c||5<=c)&&0<=a.g&&(r=!1,q=s="None",a.g!=e)){h=a.g;h>e&&(h=a.c,h>e&&(h=e));p=u?u.split(","):0;if(0<a.length&&p&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h/a.length*100<g&&a.e>=g&&(r=!0,n=p.length,m.mediaEvent="MILESTONE",a.p=m.milestone=g);if((p=v?v.split(","):0)&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h<g&&e>=g&&(r=!0,n=p.length,m.mediaEvent=\n"OFFSET_MILESTONE",a.q=m.offsetMilestone=g)}if(a.L||!f){if(w&&u&&0<a.length){if(p=u.split(","))for(p.push("100"),n=h=0;n<p.length;n++)if(g=p[n]?parseFloat(""+p[n]):0)a.e<g&&(k=n+1,f="M:"+h+"-"+g,n=p.length),h=g}else if(x&&v&&(p=v.split(",")))for(p.push(""+(0<a.length?a.length:"E")),n=h=0;n<p.length;n++)if((g=p[n]?parseFloat(""+p[n]):0)||"E"==p[n]){if(e<g||"E"==p[n])k=n+1,f="O:"+h+"-"+g,n=p.length;h=g}f&&(a.L=!0)}(f||a.f)&&f!=a.f&&(a.F=!0,a.f||(a.m=k,a.f=f),0<=a.g&&(r=!0));(2<=c||100<=a.e)&&a.c<e&&\n(a.C+=e-a.c,a.a+=e-a.c);if(2>=c||3==c&&!a.k)a.n+=(1==c||3==c?"S":"E")+Math.floor(e),a.k=3==c?1:c;!r&&0<=a.g&&3>=c&&(t=t?t:0)&&a.a>=t&&(r=!0,m.mediaEvent="SECONDS");a.u=l;a.c=e}if(!c||3>=c&&100<=a.e)2!=a.k&&(a.n+="E"+Math.floor(e)),c=0,q=s="None",m.mediaEvent="CLOSE";7==c&&(r=m.clicked=a.r=!0);if(5==c||b.completeByCloseOffset&&(!c||100<=a.e)&&0<a.length&&e>=a.length-b.completeCloseOffsetThreshold)r=m.complete=a.complete=!0;l=m.mediaEvent;"MILESTONE"==l?l+="_"+m.milestone:"OFFSET_MILESTONE"==l&&(l+=\n"_"+m.offsetMilestone);a.I[l]?m.eventFirstTime=!1:(m.eventFirstTime=!0,a.I[l]=1);m.event=m.mediaEvent;m.timePlayed=a.C;m.segmentNum=a.m;m.segment=a.f;m.segmentLength=a.B;b.monitor&&4!=c&&b.monitor(b.s,m);b.Heartbeat&&b.Heartbeat.enabled&&0<=a.g&&(r=!1);0==c&&b.M(d);r&&a.D==y&&(d={contextData:{}},d.linkTrackVars=q,d.linkTrackEvents=s,d.linkTrackVars||(d.linkTrackVars=""),d.linkTrackEvents||(d.linkTrackEvents=""),b.P(d,a),d.linkTrackVars||(d["!linkTrackVars"]=1),d.linkTrackEvents||(d["!linkTrackEvents"]=\n1),b.s.track(d),a.F?(a.m=k,a.f=f,a.A=!0,a.F=!1):0<a.a&&(a.A=!1),a.n="",a.p=a.q=0,a.a-=Math.floor(a.a),a.g=e,a.D++)}return a};b.O=function(d,c,e,k,f){var a=0;if(d&&(!b.autoTrackMediaLengthRequired||c&&0<c)){if(b.list&&b.list[d])a=1;else if(1==e||3==e)b.open(d,c,"HTML5 Video",f),a=1;a&&b.i(d,e,k,-1,0)}};b.attach=function(d){var c,e,k;d&&d.tagName&&"VIDEO"==d.tagName.toUpperCase()&&(b.o||(b.o=function(c,a,d){var e,h;b.autoTrack&&(e=c.currentSrc,(h=c.duration)||(h=-1),0>d&&(d=c.currentTime),b.O(e,h,a,\nd,c))}),c=function(){b.o(d,1,-1)},e=function(){b.o(d,1,-1)},b.j(d,"play",c),b.j(d,"pause",e),b.j(d,"seeking",e),b.j(d,"seeked",c),b.j(d,"ended",function(){b.o(d,0,-1)}),b.j(d,"timeupdate",c),k=function(){d.paused||d.ended||d.seeking||b.o(d,3,-1);setTimeout(k,1E3)},k())};b.j=function(b,c,e){b.attachEvent?b.attachEvent("on"+c,e):b.addEventListener&&b.addEventListener(c,e,!1)};void 0==b.completeByCloseOffset&&(b.completeByCloseOffset=1);void 0==b.completeCloseOffsetThreshold&&(b.completeCloseOffsetThreshold=\n1);b.Heartbeat={};b.N=function(){var d,c;if(b.autoTrack&&(d=b.s.d.getElementsByTagName("VIDEO")))for(c=0;c<d.length;c++)b.attach(d[c])};b.j(q,"load",b.N)}\n\n\n   \n//AEM4272 RCO Analytics: My Account Manage Monthly Donations-USER Scenario-2nd */\njQuery(\'body\').on(\'mousedown\',\'.rcomyaccount-monthly .edit-text.display\',function(){\nvar monthlydonationamount = jQuery(\'[data-aa-monthly-amount]\').attr(\'data-aa-monthly-amount\');\nlocalStorage.setItem(\'monthlydonationamount\',monthlydonationamount)\n\n })\n\njQuery(\'body\').on(\'mousedown\',\'[data-aa-card-button]\',function(){\n\nvar value = jQuery(\'[data-context="amount-input"]\').val();\n\nif(localStorage.getItem(\'monthlydonationamount\') != value){\n   s.linkTrackVars=\'events\';\n   s.events=s.linkTrackEvents=\'event55\';\n   s.tl(this,\'o\',\'monthly donation amt\');\n  localStorage.removeItem(\'monthlydonationamount\');\n  s.events=null;\n}\nelse{\nconsole.log(\'monthly amount is not changed\')\n}\n  \n})\n\n/* AEM-4298 user scenario-1st Search */\nwindow.scSearch =  function (param1,param2)\n{\nvar param1=param1;\nvar param2=param2;\n  console.log(param1 +"param1" + param2 + "param2");\ns.linkTrackVars=\'events,eVar7,prop7,eVar94\';\n  if(param2>0)\n  {\ns.events=s.linkTrackEvents=\'event10\';\ns.prop7=\'D=v7\';\ns.eVar7=param1;\ns.eVar7= s.eVar7.toLowerCase();   \n  }\ns.eVar94= param2;\n  if(param2 == 0){\n  s.eVar94="0";\n  s.prop7=\'D=v7\';\n  s.eVar7=param1;\n  s.events=s.linkTrackEvents=\'event18\';\n  }\n                \n\ns.tl(this,\'o\',\'search-happened\');\ns.clearVars();\n}\n//if(s.eVar94===0){s.events=s.apl(s.events,"event18","",2)}\n\n/* AEM-4298 user scenario-2 */\njQuery(\'body\').on(\'mouseleave\',\'[data-context="filter-box-wrapper"]\',function(){\n\nvar filters = _satellite.getVar(\'searchfilters\');\n  if(filters.length>0){\n    if (localStorage.getItem(\'filters\') === null){\n      s.linkTrackVars=\'events,eVar7,eVar92,eVar94\';\n      s.events=s.linkTrackEvents=\'event14\';\n      s.eVar7=_satellite.getVar(\'searchterm\');\n      s.eVar7= s.eVar7.toLowerCase(); \n      s.eVar92=  _satellite.getVar(\'searchfilters\');\n      s.eVar92= s.eVar92.toLowerCase(); \n      s.eVar94= _satellite.getVar(\'searchresults\');\n      s.tl(this,\'o\',\'search-filter\');\n      localStorage.setItem(\'filters\', filters);\n\n   }else if (localStorage.getItem(\'filters\').length > 0 && localStorage.getItem(\'filters\')!= filters ) {\n \t    s.linkTrackVars=\'events,eVar7,eVar92,eVar94\';\n      s.events=s.linkTrackEvents=\'event14\';\n      s.eVar7=_satellite.getVar(\'searchterm\');\n      s.eVar7= s.eVar7.toLowerCase();\n      s.eVar92=  _satellite.getVar(\'searchfilters\');\n      s.eVar92= s.eVar92.toLowerCase(); \n      s.eVar94= _satellite.getVar(\'searchresults\');\n      s.tl(this,\'o\',\'search-filter\');\n      localStorage.setItem(\'filters\', filters);\n  }\n}\n  else{\n  console.log(\'the value is not chosen\');\n  }\n})\n\n/* removing the filter cookie if they navigate from search result page */\n\nif(document.location.pathname.indexOf(\'/search\')> 0 === false){\n  localStorage.removeItem(\'filters\');\n}\n\n',language:"javascript"}}]},{id:"RL9a684e5649e84fa992084be96569d441",name:"Core:CustomEvent - arc-web-event",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"arc-web-event",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC7a217271b1584651b0351a9ce4f64c49-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa021968a3d6d498d8cf7ad837ecd647e",name:"[AA] Custom:Donation",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){const n=JSON.parse(sessionStorage.getItem("donorInfo")).hasDedication
;if(t.linkTrackVars="eVar30,eVar31,eVar34,eVar35,eVar114,eVar115,products",t.linkTrackEvents="event46,event41,event99,event151,event152,event154,event156,event158,event214,event56","donation-confirmation"==digitalData.page.pageType&&"oneTime"==digitalData.itemArray.category){var r=digitalData.itemArray.category.toLowerCase(),a=digitalData.itemArray.id,o=digitalData.itemArray.productId,i=parseFloat(digitalData.itemArray.price.replace(",","")),s=(c=digitalData.itemArray.quantity)*i;t.products="donation;"+o+";"+c+";"+s,t.eVar31=r,t.eVar34=digitalData.itemArray.paymentType,t.eVar35=digitalData.itemArray.url,t.purchaseID=a,t.transactionID=t.purchaseID,t.eVar30="D=purchaseID",t.eVar114=JSON.parse(sessionStorage.getItem("donorInfo")).donationAmount,t.eVar115=JSON.parse(sessionStorage.getItem("donorInfo")).monthlyDonationAmount,t.contextData.tpfAmount&&(t.events=t.apl(t.events,"event138="+t.contextData.tpfAmount,",",1)),n?(t.events=t.apl(t.events,"purchase,event46,event41:"+t.purchaseID,",",1),localStorage.removeItem("dedicate-checkbox")):t.events=t.apl(t.events,"purchase,event41:"+t.purchaseID,",",1),i<=1e3?(t.events=t.apl(t.events,"event99:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event156="+i,",",1),t.events=t.apl(t.events,"event152:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event154="+i,",",1)):i>1e3&&(t.events=t.apl(t.events,"event151:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event158="+i,",",1),t.events=t.apl(t.events,"event152:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event154="+i,",",1))}var c;("donation-confirmation"==digitalData.page.pageType&&"monthly"==digitalData.itemArray.category&&"paypal"==digitalData.itemArray.paymentType&&(r=digitalData.itemArray.category.toLowerCase(),a=digitalData.itemArray.id,o=digitalData.itemArray.productId,i=parseFloat(digitalData.itemArray.price.replace(",","")),s=(c=digitalData.itemArray.quantity)*i,t.products="donation;"+o+";"+c+";"+s,t.eVar31=r,t.eVar34=digitalData.itemArray.paymentType,t.eVar35=digitalData.itemArray.url,t.purchaseID=a,t.transactionID=t.purchaseID,t.eVar30="D=purchaseID",n?(t.events=t.apl(t.events,"purchase,event46,event41:"+t.purchaseID,",",1),localStorage.removeItem("dedicate-checkbox")):t.events=t.apl(t.events,"purchase,event41:"+t.purchaseID,",",1),i<=1e3?(t.events=t.apl(t.events,"event99:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event156="+i,",",1),t.events=t.apl(t.events,"event153:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event155="+i,",",1)):i>1e3&&(t.events=t.apl(t.events,"event151:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event158="+i,",",1),t.events=t.apl(t.events,"event153:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event155="+i,",",1))),"donation-confirmation"==digitalData.page.pageType&&"monthly"==digitalData.itemArray.category&&"apple-pay"==digitalData.itemArray.paymentType&&(r=digitalData.itemArray.category.toLowerCase(),a=digitalData.itemArray.id,o=digitalData.itemArray.productId,i=parseFloat(digitalData.itemArray.price.replace(",","")),s=(c=digitalData.itemArray.quantity)*i,t.products="donation;"+o+";"+c+";"+s,t.eVar31=r,t.eVar34=digitalData.itemArray.paymentType,t.eVar35=digitalData.itemArray.url,t.purchaseID=a,t.transactionID=t.purchaseID,t.eVar30="D=purchaseID",n?(t.events=t.apl(t.events,"purchase,event46,event41:"+t.purchaseID,",",1),localStorage.removeItem("dedicate-checkbox")):t.events=t.apl(t.events,"purchase,event41:"+t.purchaseID,",",1),i<=1e3?(t.events=t.apl(t.events,"event99:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event156="+i,",",1),t.events=t.apl(t.events,"event153:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event155="+i,",",1)):i>1e3&&(t.events=t.apl(t.events,"event151:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event158="+i,",",1),t.events=t.apl(t.events,"event153:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event155="+i,",",1))),"donation-confirmation"==digitalData.page.pageType&&"monthly"==digitalData.itemArray.category&&"credit-card"==digitalData.itemArray.paymentType)&&(r=digitalData.itemArray.category.toLowerCase(),a=digitalData.itemArray.id,o=digitalData.itemArray.productId,i=parseFloat(digitalData.itemArray.price.replace(",","")),s=(c=digitalData.itemArray.quantity)*i,t.products="donation;"+o+";"+c+";"+s,t.eVar31=r,t.eVar34=digitalData.itemArray.paymentType,t.eVar35=digitalData.itemArray.url,t.purchaseID=a,t.transactionID=t.purchaseID,t.eVar30="D=purchaseID",n?(t.events=t.apl(t.events,"purchase,event46,event41:"+t.purchaseID,",",1),localStorage.removeItem("dedicate-checkbox")):t.events=t.apl(t.events,"purchase,event41:"+t.purchaseID,",",1),i<=1e3?(t.events=t.apl(t.events,"event99:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event156="+i,",",1),t.events=t.apl(t.events,"event153:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event155="+i,",",1)):i>1e3&&(t.events=t.apl(t.events,"event151:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event158="+i,",",1),t.events=t.apl(t.events,"event153:"+t.purchaseID,",",1),t.events=t.apl(t.events,"event155="+i,",",1)));t.events=t.apl(t.events,"event214=1:"+t.purchaseID,",",1),t.eVar33&&(t.eVar33=t.eVar33.toLowerCase()),t.eVar39&&(t.eVar39=t.eVar39.toLowerCase());var u=null===localStorage.getItem("RCO_AUTH"),l="donation-confirmation"==digitalData.page.pageType,d=sessionStorage.getItem("donorInfo"),f="credit-card"==digitalData.itemArray.paymentType,p=!1;null!==d&&(p=""!==JSON.parse(d).phone_billing),l&&u&&p&&f&&(t.events=t.apl(t.events,"event56:"+t.purchaseID,",",1))}},trackerProperties:{}}}]},{id:"RLa454d12a9ec84dcf867ab8cbf9472ca9",name:"[Tag] AA-215 Add Schema to Peer-to-Peer Fundraising page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/donations/ways-to-donate/peer-to-peer-fundraising.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="application/ld+json">\n{"@context": "https://schema.org","@type": "FAQPage","mainEntity": [{"@type": "Question","name": "What is peer-to-peer fundraising?","acceptedAnswer": {"@type": "Answer","text": "Peer-to-peer (P2P) fundraising is a method of raising money that encourages supporters to utilize their own network to raise money on behalf of an organization. Supporters use an online platform to engage their friends, family, co-workers, and neighbors to donate to a fundraising page that directs funds to the nonprofit organization."}},{\n    "@type": "Question",\n    "name": "Why start a peer-to-peer fundraising campaign?",\n    "acceptedAnswer": {\n      "@type": "Answer",\n      "text": "A P2P fundraising campaign for the Red Cross is the best way for an individual to increase their impact for an organization (especially for those who may not be able to make a large personal donation). Starting a fundraising campaign is an easy and effective way to raise money to provide help and hope to neighbors that need it most. Individuals, corporations, community groups and others can create their own teams and help raise valuable support for those in need."\n    }\n  },{\n    "@type": "Question",\n    "name": "How does peer-to-peer fundraising work at the Red Cross?",\n    "acceptedAnswer": {\n      "@type": "Answer",\n      "text": "Individuals \u2013 called fundraisers \u2013 reach out to people they know and ask them to donate to the Red Cross cause the fundraiser is supporting. Fundraisers for the Red Cross will create a fundraising page where they can upload personal pictures and post details about why they are supporting the organization. Fundraisers will then send messages to their friends, family, co-workers, neighbors, etc. that include a link to their fundraising page and ask for donations. Messages are often sent by email and social media."\n    }\n  },{\n    "@type": "Question",\n    "name": "How your peer-to-peer fundraising helps disaster relief efforts",\n    "acceptedAnswer": {\n      "@type": "Answer",\n      "text": "You can make a difference and help those in need by starting a P2P fundraiser and inviting your family and friends to join you in supporting our life-saving efforts. Thanks to the generosity of volunteers and supporters like you, the Red Cross is able to respond to a disaster every eight minutes. Your support helps us continue to bring hope, comfort, and care to countless children and families. We appreciate your help!"\n    }\n  }]}\n  </script>',language:"html"}}]},{id:"RLa5fd7cc0c0934d73956b409b9ff4a281",name:"[Tag] DoubleClick-3062 Global Script",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\n<!-- \nStart of global snippet: Please do not remove\nPlace this snippet between the <head> and </head> tags on every page of your site.\n-->\n<!-- Global site tag (gtag.js) - DoubleClick -->\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=DC-4706068\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'DC-4706068');\n</script>\n<!-- End of global snippet: Please do not remove -->",language:"html"}}]},{id:"RLafa173a7f69b4e428701fede5b80da6c",name:"[Tag] LuckyOrange-894",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script type='text/javascript'>\nwindow.__lo_site_id = 68780;\n\n\t(function() {\n\t\tvar wa = document.createElement('script'); wa.type = 'text/javascript'; wa.async = true;\n\t\twa.src = 'https://d10lpsik1i8c69.cloudfront.net/w.js';\n\t\tvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wa, s);\n\t  })();\n  window.__wtw_custom_user_data = {};\n  function parseComments(cMatch) {\n    var tw = document.createTreeWalker(document.body, NodeFilter.SHOW_COMMENT, null, false);\n    var nodeList = [];\n    while(tw.nextNode()) {\n\t\t\tif (tw.currentNode.nodeValue.includes(cMatch)) { return tw.currentNode.nodeValue; }\n\t\t}\n\t\treturn '';\n  }\n  // Grab host/port for LO\n  var cdeMatch = \"CDE\";\n  var cdeStr = parseComments(cdeMatch);\n\n  console.log(\"CDE: \" + cdeStr);\n  if (cdeStr.length > 0) {\n    var cdeArray = cdeStr.split(\":\");\n    window.__wtw_custom_user_data.instance = cdeArray[2];\n    window.__wtw_custom_user_data.drp = cdeArray[4];\n  }\n\n  window.__wtw_custom_user_data.firstname = document.getElementsByName('firstName');\n  window.__wtw_custom_user_data.lastname = document.getElementsByName('lastName');\n  window.__wtw_custom_user_data.email = document.getElementsByName('email');\n  if (document.getElementsByName('firstName').length > 0) { document.getElementsByName('firstName')[0].className += ' LoNotSensitive'; }\n  if (document.getElementsByName('lastName').length > 0) { document.getElementsByName('lastName')[0].className += ' LoNotSensitive'; }\n  if (document.getElementsByName('email').length > 0) { document.getElementsByName('email')[0].className += ' LoNotSensitive'; }\n  if (document.getElementById('signInUsername') !== null) {            \n    document.getElementById('signInUsername').className += ' LoNotSensitive'; \n    document.getElementById('signInUsername').addEventListener(\"blur\", function() { \n      window.__wtw_custom_user_data.signedinemail = document.getElementById('signInUsername').value; \n    });\n  }\n  window.__wtw_custom_user_data.lastpage = window.location.href;\n</script>",language:"html"}}]},{id:"RLb0fc55f5cc534d4c9f7755b25715bcca",name:"[AA] PLR: s_code update Page Load",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){(document.location.pathname.indexOf("/donate")>-1||document.location.pathname.indexOf("/donations")>-1)&&(t.channel="rco:donate"),document.location.pathname.indexOf("/give-blood")>-1&&(t.channel="rco:give-blood"),(document.location.pathname.indexOf("/take-a-class")>-1||document.location.pathname.indexOf("/ux")>-1||document.location.pathname.indexOf("/prepare")>-1||document.location.pathname.indexOf("/phssmrd")>-1)&&(t.channel="rco:training-and-certification"),(document.location.pathname.indexOf("/sso")>-1||document.location.pathname.indexOf("/volunteer")>-1)&&(t.channel="rco:volunteer"),document.location.pathname.indexOf("/about-us")>-1&&(t.channel="rco:about-us"),document.location.pathname.indexOf("/get-help")>-1&&(t.channel="rco:get-help"),(document.location.pathname.indexOf("/mo3")>-1||document.location.pathname.indexOf("/mo2")>-1||document.location.pathname.indexOf("/mo1")>-1)&&(t.channel="rco:home"),("/"===document.location.pathname||"//"===document.location.pathname||"/index.jsp"===document.location.pathname||document.location.pathname.indexOf("/hp")>-1)&&(t.channel="rco:home"),t.eVar9=t.channel,t.contextData.siteSection=t.channel,null!==sessionStorage.getItem("linkName")&&(t.contextData.linkName=sessionStorage.getItem("linkName"),t.contextData.prevPage=sessionStorage.getItem("prevPage"),t.contextData.prevHref=sessionStorage.getItem("prevHref"),t.eVar4=sessionStorage.getItem("linkName"),t.prop4="D=v4",t.prop5=sessionStorage.getItem("prevPage")+"|"+sessionStorage.getItem("linkName"),t.prop10=sessionStorage.getItem("prevPage")),sessionStorage.getItem("events")&&(t.events=sessionStorage.getItem("events"));var n=document.location.href;if(n=n.indexOf("?")>0?n.split("?"):n.split("#"),t.prop30=n[1],t.eVar50="D=c30",t.contextData.queryParam=n[1],t.prop31="D=User-Agent",t.eVar67="D=User-Agent",t.contextData.userAgent="D=User-Agent",sessionStorage.removeItem("linkName"),sessionStorage.removeItem("prevPage"),sessionStorage.removeItem("prevHref"),sessionStorage.removeItem("events"),"object"==typeof digitalData?(digitalData.page.pageType,digitalData.page.pageType.length>0?("campaign-donation"===digitalData.page.pageType?(t.eVar35=digitalData.page.pageType.toLowerCase(),t.prop3="D=v3",t.eVar3=digitalData.page.pageType.toLowerCase(),t.events=t.apl(t.events,"event38",",",1),localStorage.setItem("campaign-donation","set")):"microsite-donation"===digitalData.page.pageType?(t.events=t.apl(t.events,"event38",",",1),t.prop3="D=v3",t.eVar3=digitalData.page.pageType.toLowerCase(),t.eVar35=digitalData.page.pageType.toLowerCase(),t.events=t.apl(t.events,"event38",",",1)):(t.prop3="D=v3",t.eVar3=digitalData.page.pageType,t.eVar3=t.eVar3.toLowerCase()),t.contextData.pageType=digitalData.page.pageType.toLowerCase()):(t.prop3="D=v3",t.eVar3="template-value-not-set",t.contextData.pageType="template-value-not-set")):"undefined"==typeof digitalData&&console.log("data-layer is not present"),document.location.pathname.indexOf("/account-summary")>-1==1&&"true"===localStorage.getItem("my-account-signin")&&(t.eVar10="fdr:my-account-sign-in",t.events="event2,event52",t.prop10=t.pageName,localStorage.removeItem("my-account-signin")),document.location.pathname.indexOf("/tribute-confirmation")>-1==1&&("mail a card"===localStorage.getItem("tributebutton")?"true"===localStorage.getItem("includedonationamount")?(t.events="event49,event51",t.eVar33=localStorage.getItem("occassion"),t.eVar37=localStorage.getItem("mailcards"),t.eVar39=localStorage.getItem("cardstyle"),localStorage.removeItem("occassion"),localStorage.removeItem("mailcards"),localStorage.removeItem("cardstyle"),localStorage.removeItem("includedonationamount"),localStorage.removeItem("tributebutton")):(t.events="event49",t.eVar33=localStorage.getItem("occassion"),t.eVar37=localStorage.getItem("mailcards"),t.eVar39=localStorage.getItem("cardstyle"),localStorage.removeItem("occassion"),localStorage.removeItem("mailcards"),localStorage.removeItem("cardstyle"),localStorage.removeItem("includedonationamount"),localStorage.removeItem("tributebutton")):"send ecard"===localStorage.getItem("tributebutton")?"true"===localStorage.getItem("includedonationamount")?(t.events="event50,event51",t.eVar33=localStorage.getItem("occassion"),t.eVar38=localStorage.getItem("countofemail"),t.eVar39=localStorage.getItem("cardstyle"),localStorage.removeItem("occassion"),localStorage.removeItem("countofemail"),localStorage.removeItem("cardstyle"),localStorage.removeItem("includedonationamount"),localStorage.removeItem("tributebutton")):(t.events="event50",t.eVar33=localStorage.getItem("occassion"),t.eVar38=localStorage.getItem("countofemail"),t.eVar39=localStorage.getItem("cardstyle"),localStorage.removeItem("occassion"),localStorage.removeItem("countofemail"),localStorage.removeItem("cardstyle"),localStorage.removeItem("tributebutton"),localStorage.removeItem("includedonationamount"),localStorage.removeItem("mailcards")):console.log("value of tributecard doesnt match")),document.location.pathname.indexOf("/my-account")>-1==1&&"true"===localStorage.getItem("my-account-createaccount")&&(t.eVar10="fdr:new-account",t.events="event2,event36",t.prop10=t.pageName,localStorage.removeItem("my-account-createaccount")),(_satellite.getVar("documentTitle").indexOf("403")>-1||_satellite.getVar("documentTitle").indexOf("404")>-1||_satellite.getVar("documentTitle").indexOf("500")>-1)&&(t.pageName=_satellite.getVar("documentTitle")+"error",t.pageType="errorPage",t.prop8=document.URL,t.prop9=document.referrer),document.location.pathname.indexOf("/local")>-1){var r=jQuery(".region-title").text().trim().toLowerCase(),a=document.location.pathname.split("/local")[1].split(".html")[0].split("/")[1];r===a?(t.prop2="D=v2",t.eVar2=a):(t.prop2="D=v2",t.eVar2=a+":"+r.replace(/\s/g,"-"))}else t.prop2="D=v2",t.eVar2="national";t.eVar40=t.Util.getQueryParam("cid"),t.eVar41=t.Util.getQueryParam("med"),t.eVar46=t.Util.getQueryParam("source"),t.eVar47=t.Util.getQueryParam("campdesc"),t.eVar48=t.Util.getQueryParam("scode"),t.eVar49=t.Util.getQueryParam("subcode"),t.eVar101=t.Util.getQueryParam("did"),t.eVar102=t.Util.getQueryParam("bid"),t.eVar108=t.Util.getQueryParam("subj"),t.eVar109=t.Util.getQueryParam("prty"),t.eVar110=t.Util.getQueryParam("nat"),t.eVar111=t.Util.getQueryParam("prod"),t.eVar112=t.Util.getQueryParam("sender");var o=t.Util.getQueryParam("cid"),i=t.Util.getQueryParam("med"),s=t.Util.getQueryParam("source"),c=t.Util.getQueryParam("scode"),u=t.Util.getQueryParam("campdesc"),l=t.Util.getQueryParam("icid"),d=t.Util.getQueryParam("imed"),f=t.Util.getQueryParam("isource"),p=t.Util.getQueryParam("iscode"),g=t.Util.getQueryParam("icampdesc"),m=t.Util.getQueryParam("isubcode"),v=t.Util.getQueryParam("utm_source"),h=t.Util.getQueryParam("utm_campaign"),b=t.Util.getQueryParam("utm_medium"),y=t.Util.getQueryParam("utm_term"),w=t.Util.getQueryParam("utm_content");if(null!=v){if(void 0!==v&&v.length>0)var E="exists"}else v="notset";null!=h?void 0!==h&&h.length>0&&(E="exists"):h="notset",null!=b?void 0!==b&&b.length>0&&(E="exists"):b="notset",null!=y?void 0!==y&&y.length>0&&(E="exists"):y="notset",null!=w?void 0!==w&&w.length>0&&(E="exists"):w="notset";var C="";if(null!=o&&null!=i&&null!=s&&void 0!==o&&o.length>0&&void 0!==i&&i.length>0&&void 0!==s&&s.length>0){C="cid="+o+":med="+i+":source="+s,null!=c?void 0!==c&&c.length>0&&(C=C+":scode="+c):c="notset",null!=u?void 0!==u&&u.length>0&&(C=C+":campdesc="+u):u="notset";var S=t.Util.getQueryParam("subcode");null!=S?void 0!==S&&S.length>0&&(C=C+":subcode="+S):S="notset"}null!=o?void 0!==o&&o.length>0&&(t.campaign=C):t.campaign="exists"===E?b+":"+v+":"+h+":"+y+":"+w:"";var k="";null!=l&&null!=d&&null!=f&&void 0!==l&&l.length>0&&void 0!==d&&d.length>0&&void 0!==f&&f.length>0&&(k="icid="+l+":imed="+d+":isource="+f,null!=p?void 0!==p&&p.length>0&&(k=k+":iscode="+p):p="notset",null!=g?void 0!==g&&g.length>0&&(k=k+":icampdesc="+g):g="notset",null!=m?void 0!==m&&m.length>0&&(C=C+":isubcode="+m):m="notset"),null!=l&&void 0!==l&&l.length>0&&(t.eVar13=k),t.campaign&&(t.eVar17="D=v0",t.eVar18="D=v0"),t.campaign&&(t.eVar14=t.crossVisitParticipation(t.campaign,"s_ev14","30","5","|","",1)),s&&(t.eVar15=t.crossVisitParticipation(s,"s_utmsrc","30","5","|","",1))}},trackerProperties:{}}}]},{id:"RLb281c1c91bc042c8bdda43ad43ea7795",name:"AB Test Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"abTrack"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar29,prop6,eVar6,prop10,channel,events",t.linkTrackEvents="event13",t.eVar29=e.detail.activityName+"|"+e.detail.experienceName,t.events="event13"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"target experience",linkType:"o"}}]},{id:"RLb4542a94aac54155b2e4125fb7600e8b",name:"[AT-10] - TriggerView - at-view-end",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"at-view-end",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RLbe4e2feff2184051b3132bed93093b6f",name:"[AA] YouTube Video Tracking - Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script type=\"text/javascript\">\n    var video_obj=null;\n    var video_length=0;\n    var video_name='Movie name ' + new Date().getTime();\n  \n  \n    // 3. This function creates an <iframe> (and YouTube player)\n    //    after the API code downloads.\n    var player;\n    function onYouTubeIframeAPIReady() {\n        console.log('*** iFrame embed onYouTubeIframeAPIReady');\n  \n        player = new YT.Player(\"player1\", {\n           \n          events: {\n           \n            'onReady': onPlayerReady,\n            'onStateChange': onPlayerStateChange\n          }\n        });\n    }\n  \n    // 4. The API will call this function when the video player is ready.\n    function onPlayerReady(event) {\n        // event.target.playVideo();\n        console.log('*** iFrame embed onPlayerReady ', player);\n    }\n  \n    // 5. The API calls this function when the player's state changes.\n    //    The function indicates that when playing a video (state=1),\n    //    the player should play for six seconds and then stop.\n    var done = false;\n    function onPlayerStateChange(event) {\n        console.log('*** iFrame embed onPlayerStateChange ' + event.data + ' --- YT Player state ' + YT.PlayerState.PLAYING, player.getCurrentTime(), player);\n        /*\n        if (event.data == YT.PlayerState.PLAYING && !done) {\n            setTimeout(stopVideo, 6000);\n            done = true;\n        }\n        */\n        video_name = player.getVideoData();\n        video_name = video_name.title;\n        video_length = player.getDuration();\n  \n        // if(event.data === YT.PlayerState.PLAYING && (event.data === 1 || event.data < 0)){\n        if((event.data === 1 || event.data < 0) && YT.PlayerState.PLAYING === 1){\n                //*-* PLAY\n                console.log(\"*-* Player is on play mode \" + event.data + ' ' + player.getCurrentTime(), s);\n                if(player.getCurrentTime() === 0) {\n                    s.Media.open(video_name, video_length, 'Youtube Object Embed');\n                    s.Media.play(video_name, player.getCurrentTime());\n                } else {\n                    s.Media.play(video_name, player.getCurrentTime());\n                }\n            }else if(event.data === 2){\n                //*-* PAUSE --- CAN USE THIS FOR ENDING TOO =-- check on time -5 sec!!\n                console.log(\"*-* Player is on pause mode \" + event.data+' '+player.getCurrentTime());\n                s.Media.stop(video_name, player.getCurrentTime());//this will cause the monitor to have media.event='STOP'\n            }else if(event.data === 3){\n                //*-* SKIPPING\n                console.log(\"*-* Player is on skipping mode \" + event.data);\n                s.Media.stop(video_name, player.getCurrentTime());//this will cause the monitor to have media.event='STOP'\n            }else if(event.data === 0){\n                //*-* Completed\n                console.log(\"*-* Player has been completed \" + event.data);\n                s.Media.stop(video_name, player.getCurrentTime());\n                s.Media.close(video_name);\n            }\n    }\n   \n        function onYouTubePlayerReady(playerId) {\n            video_obj=document.getElementById(playerId);//playerId\n  \n            video_obj.addEventListener(\"onStateChange\", \"onytplayerStateChange\");\n  \n            video_length= video_obj.getDuration();\n  \n            console.log('*-* Youtube Video Ready - in call back function --- ' + playerId, 'video duration= ' + video_obj.getDuration(), 'video current time= ' + video_obj.getCurrentTime());\n        }\n  \n  \n        function onytplayerStateChange(newState) {\n            console.log(\"*-* Player's new state: \" + newState);\n            //-1 --> <0 is not started\n            if(newState===1){\n                //*-* PLAY\n                console.log(\"*-* Player is on play mode \" + newState + ' ' + video_obj.getCurrentTime(), s);\n                if(video_obj.getCurrentTime() === 0) {\n                    s.Media.open(video_name, video_length, 'Youtube Object Embed');\n                    s.Media.play(video_name, video_obj.getCurrentTime());\n  \n                    // s.Media.play(video_name, video_obj.getCurrentTime(),5,'a segment name', 30);\n                } else {\n                    s.Media.play(video_name, video_obj.getCurrentTime());\n                }\n            }else if(newState===2){\n                //*-* PAUSE --- CAN USE THIS FOR ENDING TOO =-- check on time -5 sec!!\n                console.log(\"*-* Player is on pause mode \" + newState+' '+video_obj.getCurrentTime());\n                s.Media.stop(video_name, video_obj.getCurrentTime());//this will cause the monitor to have media.event='STOP'\n  \n                // s.Media.stop(video_name, video_obj.getCurrentTime());//this will cause the monitor to have media.event='STOP'\n                //*-*if not used (ie. not pausing) then CLOSE will kick in when the video completes otherwise video completes will also send 'STOP'\n            }else if(newState===3){\n                //*-* SKIPPING\n                console.log(\"*-* Player is on skipping mode \" + newState);\n                s.Media.stop(video_name, video_obj.getCurrentTime());//this will cause the monitor to have media.event='STOP'\n            }else if(newState===0){\n                //*-* Completed\n                console.log(\"*-* Player has been completed \" + newState);\n                s.Media.stop(video_name, video_obj.getCurrentTime());\n                s.Media.close(video_name);\n            }\n        }\n  \n    </script>",language:"html"}}]},{id:"RLbe4f4e8c8f6f46158e9368f7f6a2a516",name:"[Custom] utmz cookie replicator",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RCcfc52be59612487ba65e91a8eb9c3be6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc217d76ea0b84008967af5168163d684",name:"[AA] 4220-My Account-PersonalInfo-billing info-updated-success",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"billing-infoupdated-success-message"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RCae0da060c3ab4124846627821fbec565-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2d6499b68ad4e27a8ee4012950dcdcb",name:"[Tag] Youtube API AE-1984",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"/* This code was originally in the \"CORE: PLR: s_code updates\" tag */\n\n/* Loads IFrame Player API Code asynchronously */\nvar tag = document.createElement('script');\ntag.src = \"https://www.youtube.com/iframe_api\";\nvar firstScriptTag = document.getElementsByTagName('script')[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n\n//You video tracking.\n\n/************************* PLUGINS SECTION **************************/\n/*\n * Plugin: YouTube plugin v1.54\n */\nwindow.s_YTO={s_name:'s'}\nwindow.onYouTubePlayerReady=function(id){if(id&&document.getElementById(id)&&!s_YTO.v[id])s_YTO.v[id]=new s_YTv(id,1)}\nwindow.s_YTp=function(){try{var D=document,f=D.getElementsByTagName('iframe'),k,id,t,i,j,I=function(n){var i=0;try{eval('var '+n)}catch(e){i=1};return i};if(s_YTisa())s_YTO.ya=2;for(i=0;i<f.length;i++){k=s_YTgk(f[i].src);id=f[i].id;if(k){if(!id||I(id)){id='YouTubeV';for(j=1;j<99;j++)if(!D.getElementById(id+j))break;id=j<99?id+j:'';f[i].id=id}if(id)if(!s_YTO.ya){s_YTO.ya=1;t=D.createElement('script'),f;t.src='//www.youtube.com/player_api';f=D.getElementsByTagName('script')[0];f.parentNode.insertBefore(t,f)}else if(s_YTO.ya==2&&!s_YTO.v[id])s_YTO.v[id]=new s_YTv(id)}}}catch(e){};s_YTO.ut=setTimeout('s_YTp()',1000)}\nwindow.s_YTisa=function(){return typeof window.YT=='object'&&YT.Player}\nwindow.s_YTism=function(){var s=s_YTO.s=window[s_YTO.s_name||'s']||0;return typeof s=='object'&&typeof s.Media=='object'&&s.Media.open?s:0}\nwindow.s_YTgk=function(u){var r='',a,f='',v=u.toLowerCase();if(v.indexOf('//www.youtube.com')>-1){if(v.indexOf('/watch')>-1)f='v';if(!f&&v.indexOf('/apiplayer')>-1)f='video_id';if(!f&&v.indexOf('/v/')>-1)f='/v/';if(!f&&v.indexOf('/embed/')>-1)f='/embed/';if(f>'A'){a=v.indexOf('?'+f+'=');if(a<0)a=v.indexOf('&'+f+'=');if(a>-1)r=u.substring(a+f.length+2)}else if(f){a=v.indexOf(f);r=u.substring(a+f.length)}if(r){a=r.indexOf('?');if(a<0)a=r.indexOf('&');if(a<0)a=r.indexOf('#');if(a>-1)r=r.substring(0,a)}}return r}\nwindow.onYouTubePlayerAPIReady=function(){try{s_YTO.ya=2;if(s_YTO.ut)clearTimeout(s_YTO.ut);s_YTp()}catch(e){}}\nwindow.s_YTdi=function(){var s=s_YTism();if(s){if(typeof s.Media.trackWhilePlaying!='undefined'){s_YTO.twp=s.Media.trackWhilePlaying;s.Media.trackWhilePlaying=false}if(typeof s.Media.trackSeconds!='undefined'){s_YTO.ts=s.Media.trackSeconds;delete s.Media.trackSeconds}}}\nwindow.s_YTei=function(){var s=s_YTism();if(s){if(typeof s_YTO.twp!='undefined'){s.Media.trackWhilePlaying=s_YTO.twp;delete s_YTO.twp}if(typeof s_YTO.ts!='undefined'){s.Media.trackSeconds=s_YTO.ts;delete s_YTO.ts}}}\nwindow.s_YTut=function(){s_YTO.uf=0;s_YTei()}\nwindow.s_YTdv=function(id){try{if(!id)return;var v=s_YTO.v[id]||0;if(v){if(v.ss){if(s_YTism())s_YTO.s.Media.close(v.sv);v.ss=0}}v.vc()}catch(e){}}\nwindow.s_YTv=function(id){var t=this;t.vc=function(){var t=this;t.id=t.sn=t.sl=t.yt=t.yk=t.kl='';t.yd=t.yp=t.ys=t.pt=t.ss=t.ts=t.qs=t.ql=0};t.vg=function(yp){var t=this,D=document,N='number',u='',a,b,c,i,x=0,y;if(yp){if(yp.getVideoUrl)u=yp.getVideoUrl();if(!u)u=yp.a.src||'';if(yp.getVideoData)x=yp.getVideoData();if(x&&x.title)t.yt=x.title;y=x&&x.video_id?x.video_id:s_YTgk(u);if(y&&y!=t.yk){t.kl=t.yk;t.yk=y;t.ts=t.qs=t.ys=0;if(t.yd){delete t.yd;t.yd=0}t.yt='';a='s_YTdata_'+t.id+'_'+t.yk;b=D.getElementById(a);if(b)b.parentNode.removeChild(b);b=D.createElement('script');b.id=a;b.src='//gdata.youtube.com/feeds/api/videos/'+t.yk+'?v=2&alt=json-in-script&callback=window.s_YTO.v.'+t.id+'.fc';a=D.getElementsByTagName('script')[0];a.parentNode.insertBefore(b,a)}if(yp.getDuration){x=yp.getDuration();t.ts=typeof x==N?Math.round(x):0}t.qs=0;if(yp.getCurrentTime){x=yp.getCurrentTime();t.qs=typeof x==N?Math.round(x):0}if(yp.getPlayerState){x=yp.getPlayerState();t.ys=x||0}}};t.ve=function(){var s=s_YTism();if(s){var t=this,d,O=function(){t.sl=t.sn;t.sn='YouTube|'+(t.yk||t.id||'')+'|'+(t.yt||'');s.Media.open(t.sn,t.ts,s_YTO.vp);t.ss=1},P=function(){s.Media.play(t.sn,t.qs);t.ql=t.qs;t.ss=2},S=function(n,q){s.Media.stop(n||t.sn,q||t.qs);t.ss=1;t.ql=t.qs},C=function(n){s.Media.close(n||t.sn);t.ss=t.qs=t.ql=0};t.vg(t.yp);if(t.sk&&t.sk!=t.kl){if(t.ss){if(t.ss==2)S(t.sl,t.ql);C(t.sl)}}switch(t.ys){case 1:if(t.ss==2){d=Math.abs(t.qs-t.ql);if(d>1)S(t.sn,t.ql)}if(!t.ss){O();t.qs=t.ql=0}P();break;case 0:if(t.ss){if(t.ss!=1){if(Math.abs(t.qs-t.ts)<=1)t.qs=t.ts;S()}C()}break;case 2:if(!t.ss)O();if(t.ss!=1)S();break;case 3:if(s_YTO.uf)clearTimeout(s_YTO.uf);else s_YTdi();s_YTO.uf=setTimeout('s_YTut()',3000);break;case-1:case 5:default:break}}};t.fsc=function(ye){try{t.ys=ye;t.vg(t.yp);setTimeout('s_YTO.v[\"'+t.id+'\"].ve()',10)}catch(e){}};t.isc=function(ye){try{t.ys=ye.data;t.vg(ye.target);setTimeout('s_YTO.v[\"'+t.id+'\"].ve()',10)}catch(e){}};t.fc=function(d){try{t.yd=d;var T=d.entry&&d.entry.title?t.sn=d.entry.title.$t:'';if(T)t.yt=T}catch(e){}};try{var o=id&&typeof id=='string'?document.getElementById(id):'';if(!o)return null;t.vc();t.id=id;var W=window,ar=arguments;if(ar.length>1&&ar[1]==1){t.pt=1;t.yp=o;if(W.addEventListener)t.yp.addEventListener('onStateChange','s_YTO.v.'+id+'.fsc',false);else if(W.attachEvent)W.attachEvent('onStateChange','s_YTO.v.'+id+'.fsc')}else{t.pt=2;var a=new Object();if(ar.length>1)a.videoId=ar[1];if(ar.length>3){a.width=w;a.height=h}a.events=new Object();a.events.onStateChange=t.isc;t.yp=new YT.Player(id,a);t.vg(t.yp)}}catch(e){}return t}\nwindow.s_aE=function(o,e,f){if(arguments.length<3){f=e;e=o;o=window}if(o.attachEvent){o['e'+e+f]=f;o[e+f]=function(){o['e'+e+f](window.event)};o.attachEvent('on'+e,o[e+f])}else o.addEventListener(e,f,false)}\nwindow.s_YTi=function(){if(typeof s_YTO.v!='object')s_YTO.v={};s_YTO.ya=s_YTisa()?2:0;s_YTO.ut=s_YTO.uf=0;s_YTO.vp='YouTube Player';s_YTp()}\nwindow.s_aE('load',s_YTi);",language:"javascript"}}]},{id:"RLc3bea68133c1438399b35d6009ffce2a",name:"[Tag] AA-45 Floodlight Conversion",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=location.pathname.toLowerCase();if("/"===e||"//"===e)return!0;{let t=["/local","/disaster-relief","/about-us","/become-a-volunteer","/find-your-local-chapter","/companies-and-foundations","/peer-to-peer-fundraising","/monthly-giving","/ways-to-donate","/text-mail-phone","/donation-and-engage","/donate","/prevent-home-fire","/get-help","/volunteer-opportunities","/your-gift-matters"];for(let n=0;n<t.length;n++)if(-1!=e.indexOf(t[n]))return!0}return!1}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'//RCO Floodlight Tag - Conversion: RD 20220511\n\nvar arcPage = location.pathname.toLowerCase();\nconst catIDFinal = [];\n\n//Handle RCO homepage\nif (arcPage === \'/\' || arcPage === \'//\') {\n  catIDFinal.push("rcone0");\n}\n\n//Handle all other pages that get tagged with floodlight\nelse {\n\tlet arcPaths = ["/local", "/disaster-relief", "/about-us", "/become-a-volunteer", "/find-your-local-chapter", "/companies-and-foundations", "/peer-to-peer-fundraising", "/monthly-giving", "/ways-to-donate", "/text-mail-phone", "/donation-and-engage", "/donate", "/prevent-home-fire", "/get-help", "/volunteer-opportunities", "/your-gift-matters"];\n\tlet catIDList = ["rcone00b", "rcone006", "rcone00-", "rcone008", "rcone00c", "rcone007", "rcone002", "rcone001", "rcone000", "wayst0", "rcone003", "rcone00", "rcone004", "rcone00a", "rcone009", "rcone005"];\n\n\tfor (let i = 0; i < arcPaths.length; i++) {\n\t\tif (arcPage.indexOf(arcPaths[i]) !=-1) {\n\t\t\tconsole.log(arcPaths[i] + ": " + catIDList[i]);\n\t\t\tcatIDFinal.push(catIDList[i]);\n\t\t}\n\t}\n}\n\nconsole.log("catIDFinal = " + catIDFinal + " | catIDFinal Length = " + catIDFinal.length);\n\n\nfor (let i = 0; i < catIDFinal.length; i++) {\n    gtag(\'event\', \'conversion\', {\n\t\t\'allow_custom_scripts\': true,\n\t\t\'send_to\': \'DC-4706068/rcogma/\' + catIDFinal[i] + \'+standard\'\n\t});\n}',language:"javascript"}}]},{id:"RLc62d840ffc9b4977a1adbaef5443cf37",name:"[Tag] Google AE-2563 Donation Flow Confirmation",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=location.pathname.toLowerCase();return-1!==e.indexOf("/thankyou")||-1!==e.indexOf("/confirmation")||-1!==e.indexOf("/donate/holiday-donation-confirmation")}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RCf4e7eb2987934fa3aa67f122ba9733f8-source.min.js",language:"html",isExternal:!0}}]},{id:"RLca5d028217cc463bb705bf221e19932e",name:"[Tag] Google AE-2563 Global Site Tag (RCO)",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%path%",rightOperand:"/content/redcross"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RCaf6b018a9f504461ab63cea22da686e5-source.min.js",language:"html",isExternal:!0}}]},{id:"RLcc1613a059254ad8990d787e810e9eeb",name:"[AA] PLR: custom code - all other s_code rules",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"///function to create cookie\n\nfunction createCookie(name,value,days) {\n    var expires = \"\";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + value + expires + \"; path=/\";\n}\n\n///RCO Analytics AEM-516: Hero Image \nvar pos = document.querySelectorAll('[data-aa-hero-image]');\n\nfor( var i = 0; i < pos.length; i++ ) {\n        pos[i].addEventListener('click', listener.bind( null, i) );\n}\n\nfunction listener(index) {\n     \n    var a = ($(pos[0]).attr('data-aa-hero-image'))\n    console.log('pos',index);\n\nif (typeof(a)===\"string\" && a.length > 0) {\n\n    if(a.includes('not set')) {\n        var scTxt = (pos[index].text).trim().replace(/\\s/g,\"-\").toLowerCase();\n        var value ='data attribute value has not set value';\n        var scVal = 'hero-image:'+scTxt+':'+\"pos\"+index;\n    }\n    else{\n        var scTxt = $(pos[0]).attr('data-aa-hero-image').trim().replace(/\\s/g,\"-\").toLowerCase();\n        var value ='data attribute value has value other than \"notset\"';\n        var scVal = 'hero-image:'+scTxt+':'+ \"pos\"+index;   \n    }\n\n}\n\nelse if (a === undefined || a.length===\"\"){\n\n        var scTxt = (pos[index].text).trim().replace(/\\s/g,\"-\").toLowerCase();\n        var value = 'data attribute value is empty value';\n        var scVal = 'hero-image'+scTxt+':'+\"pos:\"+index;\n       \n}\n        s.linkTrackVars=\"prop4,eVar4,prop5,eVar6,prop6,prop10,eVar91\"\n        s.prop4 = \"D=v4\";\n        s.eVar4 = scVal;\n        s.prop5 = s.pageName +'|'+scVal;\n        s.prop10 = s.pageName;\n        s.eVar91 = scVal +'|'+ value;\n        s.tl(this,'o',scVal);\n}\n\n\n\n//AEM-3156 RCO Analytics: Donation Sign In USER SCENARIO-1st(any time user places cursor on any field in the form)\nvar hasFocus = false;\njQuery('body').one(\"focus\",'.sign-in-form:not([data-context=\"sign-in-form\"])',function(){\n       hasFocus = true;\n       console.log('field is focused');\n       s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"donation-sign-in\";\n       s.tl(this,'o','donation-sign-in');\n       s.eVar10=s.events=null;\n   })\n\n\n\n///AEM-3152 RCO Analytics: Donation Form Personal Information user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"personal-section\"] input',function(){\n       hasFocus = true;\n       console.log('field is focused');\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"donation-flow-personal-information\";\n       s.tl(this,'o','personal-information');\n       s.eVar10=s.prop10=s.events=null; \n   })\n\n//AEM-3153 RCO Analytics: Donation Credit Card Information user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"card-section\"] input,[data-context=\"card-section\"] select',function(){\n       hasFocus = true;\n       console.log('field is focused');\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"donation-flow-credit-card\";\n       s.tl(this,'o','credit-card');\n       s.eVar10=s.prop10=s.events=null; \n   })\n\n\n//aem-3154 RCO my donation-component RCO Analytics: Donation Billing Information-user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"billing-section\"] input,[data-context=\"billing-section\"] select',function(){\n       hasFocus = true;\n       console.log('field is focused');\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"donation-flow-billing-information\";\n       s.tl(this,'o','billing-info');\n       s.eVar10=s.prop10=s.events=null; \n   })\n\n///AEM-3840 MY account sign in user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"sign-in-form\"] input',function(){\n       hasFocus = true;\n\t     s.linkTrackVars = \"eVar6,prop6,eVar10,prop10,events\";\n\t     s.events = s.linkTrackEvents = 'event1'; \n  \t   s.prop10 = s.pageName;\n       s.eVar10 = 'fdr:my-account-sign-in' ;;\n       s.tl(this,'o','my-account-sign-in');\n       s.events=s.eVar10=null;\n   })\n\n///AEM-3841-MY Account forgot password reset user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"forgot-form\"] input',function(){\n       hasFocus = true;\n\t     s.linkTrackVars = \"eVar6,prop6,eVar10,prop10,events\";\n\t     s.events = s.linkTrackEvents = 'event1'; \n  \t   s.prop10 = s.pageName;\n       s.eVar10 = 'fdr:password-reset';\n       s.tl(this,'o','fdr:password-reset');\n       s.events=s.eVar10=null;\n   }) \n////AEM-4220 RCO My Account Billing Information - user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"billing-edit-wrapper\"] input,[data-context=\"billing-edit-wrapper\"] select',function(){\n       hasFocus = true;\n       console.log('field is focused');\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"fdr:my-account-billing\";\n       s.tl(this,'o','my-account-billing');\n      s.events=s.prop10=s.eVar10=s.events=null;\n   })\n\n////AEM-6722-RCO Analytics: Login Portal Existing User-user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"sso-login-outer\"] input',function(){\n       hasFocus = true;\n       console.log('field is focused');\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"portal-login\";\n       s.tl(this,'o','portal-login');\n   })\n//AEM-6723 RCO Analytics: Login Portal - Create a Redcross User Id\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"login-portal-create-account\"] input,[data-context=\"login-portal-create-account\"] select',function(){\n       hasFocus = true;\n       console.log('field is focused');\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"portal-create-account\";\n       s.tl(this,'o','portal-create-account');\n   })\n//AEM- 3867 RCO Analytics: My Account Create an Account USER SCenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"create-account-form\"] input',function(){\n       hasFocus = true;\n       console.log('field is focused');\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"fdr:new-account\";\n       s.tl(this,'o','fdr:new-account');\n       s.prop10=s.eVar10=s.events=null;\n   })\n\n//AEM-3841 RCO Analytics: My Account Forgot Password Reset user scenario-1st\nvar hasFocus = false;\njQuery('body').one(\"focus\",'[data-context=\"reset-form\"] input',function(){\n       hasFocus = true;\n\t     s.linkTrackVars = \"eVar10,prop10,prop6,eVar6,events\";\n\t     s.events = s.linkTrackEvents = 'event1';\n  \t   s.prop10 = s.pageName;\n       s.eVar10 = \"fdr:my-account-create-new-password\";\n       s.tl(this,'o','fdr:new-account');\n       s.prop10=s.eVar10=s.events=null;\n   })\n",language:"javascript"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLcde77cd38d1548d791016716dcabd039",name:"[AA] AE-877 Add Vimeo Player API if needed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC364cbe25b425435392b8fb958d99c851-source.min.js",language:"html",isExternal:!0}}]},{id:"RLcf2767ed317e4b00b77efaad86e08ae1",name:"[AT] Category Affinity Custom Event",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"trackcategory",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%useWebSDK%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC4159c45be26e42e388fc7df40adea7eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd1d97ec458244962a592ff105e4dc4a8",name:"[AA] AA-9-Global Click Tracking - Direct Call",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"customLinkClick"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=e.detail.linkTarget,r=e.detail.linkName,a=e.detail.events,o=e.detail.formName,i=e.detail.formError,s=e.detail.zipCode,c=e.detail.dollarHandle,u=e.detail.paymentType,l=e.detail.refundReason,d=e.detail.donationChoice,f="";if("relative"==(n.includes("http")?"absolute":"relative"))f="o";else{var p=n.split("/")[2];f=location.host===p?"o":"e"}""!==t.linkTrackVars?t.linkTrackVars=t.linkTrackVars+",events,contextData.mcid,contextData.pageURL,contextData.pageName,contextData.prevPage,contextData.linkName,contextData.linkURL,contextData.prevHref,contextData.newRepeat,contextData.visitNum,eVar4,eVar6,eVar8,eVar10,eVar11,eVar16,eVar32,eVar34,eVar36,eVar119,prop4,prop5,prop6,prop10,prop16":t.linkTrackVars="events,contextData.mcid,contextData.pageURL,contextData.pageName,contextData.prevPage,contextData.linkName,contextData.linkURL,contextData.prevHref,contextData.newRepeat,contextData.visitNum,eVar4,eVar6,eVar8,eVar10,eVar11,eVar16,eVar32,eVar34,eVar36,eVar119,prop4,prop5,prop6,prop10,prop16",t.linkTrackEvents=a.split(",").map(().join(",")+",event19",t.contextData.mcid=_satellite.getVar("marketingCloudID"),t.contextData.pageURL=t.pageURL,t.contextData.pageName=t.pageName,t.contextData.prevPage=t.pageName,t.contextData.newRepeat=t.getNewRepeat(365),t.contextData.visitNum=t.getVisitNum(),t.contextData.daysSinceLastVisit=t.getDaysSinceLastVisit("s_lv"),t.contextData.prevPage=t.getPreviousValue(t.pageName,"gpv_pn"),t.contextData.linkName=r,t.contextData.prevHref=location.href,t.eVar4=r,t.prop4="D=v4",t.prop5=t.contextData.prevPage+"|"+r,t.eVar6=location.href,t.prop6="D=v6",t.eVar8=t.pageName,t.prop10=t.pageName,t.eVar10=o,t.eVar11=i,t.eVar16=s,t.prop16=s,t.eVar32=c,t.eVar34=u,t.eVar36=l,t.eVar119=d,t.events=""!==a?a+",event19":"event19",t.tl(!0,f,r),a=""}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLd9e172ec8b4441b796cd083636dcb36c",name:"[AT-10] - TriggerView - at-view-start",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"at-view-start",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC382672aec3964f50a6641ab1d100c98d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe3bfc29e90154b699d90a68197ae330a",name:"[AT] 4752-RCOSUPPORT-orderConfirmPage",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript">\nadobe.target.trackEvent({\n    "mbox": "orderConfirmPage",\n    "params":{ \n        "orderId": digitalData.itemArray.id, \n        "orderTotal": digitalData.itemArray.price, \n        "productPurchasedId": digitalData.itemArray.productId \n    }\n});\n</script> ',language:"html"}}]},{id:"RLe4a29ae0c14f45f18d3de94f9ff54738",name:"[AA] 194 Double The Donation (DTD) Interaction Tracking",events:[{modulePath:"core/src/lib/events/change.js",settings:{elementSelector:"#dd-input",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars="eVar4,eVar6,prop4,prop5,prop6,prop10,events",t.linkTrackEvents="event19,event61",t.eVar4="dtd interaction",t.prop4="D=v4",t.prop5=t.pageName+"|"+t.eVar4,t.eVar6=location.href,t.prop6="D=v6",t.prop10=t.pageName,t.events="event19,event61"}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"dtd interaction",linkType:"o"}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLe86f96da795c4c9396f6e74e194ee745",name:"[AT] AE-1681 - Donation Confirmation - Revenue <= 1000",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("donation-confirmation"!=digitalData.page.pageType)return!1;var e=Number(String(digitalData.itemArray.price).replace(",",""));return e<=1e3&&e>0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'adobe.target.trackEvent({\n    "mbox": "adjustedRevenue",\n    "params":{ \n        "orderId": digitalData.itemArray.id, \n        "orderTotal": digitalData.itemArray.price, \n        "productPurchasedId": digitalData.itemArray.productId \n    }\n});',language:"javascript"}}]},{id:"RLe93d9a7c810b4e818ff92fcdd2de9516",name:"[Custom] Source Code Tracking",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/16a36399704a/2efca5d8f658/5d21ac44ad82/RC00f1e60913cf49c4b11ebd0b1be034d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf0ee962c1e1b4dcf9269ee20545e74eb",name:"[Tag] AA-45 Floodlight Purchase",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"gtag('event', 'purchase', {\n    'allow_custom_scripts': true,\n    'value': digitalData.itemArray.quantity*digitalData.itemArray.price,\n    'transaction_id': digitalData.itemArray.id,\n    'send_to': 'DC-4706068/purch0/rcone0+transactions'\n  });",language:"javascript"}}]},{id:"RLf1abcf7a61ce4643aee7d6d0e4c7d25e",name:"[Tag] Floodlight-AE-1999-Volunteer Connection SSO Global Site Tag",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sso/vc.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<!-- Global site tag (gtag.js) - Google Ads: 953809094 -->\n<script async src=\"https://www.googletagmanager.com/gtag/js?id=AW-953809094\"></script>\n<script>\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'AW-953809094');\n  \n  // Event snippet for Volunteer Confirmation Page conversion page\n  gtag('event', 'conversion', {'send_to': 'AW-953809094/sLUqCLD_8V4QxvHnxgM'});\n</script>",language:"html"}}]},{id:"RLf7ab3231b2224554b00abda8c7d7a22b",name:"[Tag] AE-2104 LinkedIn Insight- Volunteer Pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/volunteer/disaster-action-team",valueIsRegex:!0},{value:"/volunteer/volunteer-opportunities/blood-donor-ambassador",valueIsRegex:!0},{value:"/volunteer/become-a-volunteer",valueIsRegex:!0},{value:"/volunteer/volunteer-role-finder",valueIsRegex:!0}]}}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{}}]},{id:"RLf824c69ca9a54ac29f61ef8b1d06a7b3",name:"[Tag] Floodlight-AE-1999-Volunteer Connection SSO Floodlight Tag",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sso/vc.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!--\nStart of Floodlight Tag: Please do not remove\nActivity name of this tag: Volunteer Connection Home Page\nURL of the webpage where the tag is expected to be placed: https://volunteerconnection.redcross.org\nThis tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.\nCreation Date: 05/04/2021\n-->\n<script type="text/javascript">\nvar axel = Math.random() + "";\nvar a = axel * 10000000000000;\ndocument.write(\'<iframe src=https://4706068.fls.doubleclick.net/activityi;src=4706068;type=rcopa0;cat=volun000;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1;num=\' + a + \'? width="1" height="1" frameborder="0" style="display:none"></iframe>\');\n</script>\n<noscript>\n<iframe src="https://4706068.fls.doubleclick.net/activityi;src=4706068;type=rcopa0;cat=volun000;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1;num=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>\n</noscript>\n<!-- End of Floodlight Tag: Please do not remove -->',language:"html"}}]},{id:"RLfc982538e00443d1ad4bc49e35b3d504",name:"[Tag] AA-133 Facebook/Meta Pixel",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"facebook-pixel/src/lib/actions/sendPageView.js",settings:{}}]}]};var _satellite=);