(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8165],{88165:function(t,e,n){"use strict";n.r(e),n.d(e,{default:);var s=n(91229),a=n(28140),r=n(94184),i=n.n(r),l=n(41664),c=n(11163),o=n(67294),u=n(53122),p=n(30033),_=n(67606),d=n(78749),h=n(36653),f=n(5773),m=n(7829),g=n.n(m),k=o.createElement,v=function(t){return k("svg",t,k("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 16.701l-4.918-4.918C14.01 10.578 14.66 9 14.66 7.33 14.66 3.34 11.412 0 7.33 0A7.286 7.286 0 0 0 0 7.33a7.286 7.286 0 0 0 7.33 7.33c1.67 0 3.247-.557 4.454-1.578L16.7 18 18 16.701zM7.5 13C4.424 13 2 10.556 2 7.547 2 4.444 4.424 2 7.5 2 10.483 2 13 4.444 13 7.547 12.907 10.556 10.483 13 7.5 13z"}))};v.defaultProps={width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"};var y=(0,c.withRouter)((function(t){var e=t.router.push,n=(0,f.MS)(),r=n.state,c=r.isBlackTheme,m=r.isOpenSearch,y=r.isOpenMenu,b=n.dispatch,w=(0,o.useState)(""),N=w[0],x=w[1],E=(0,o.useState)([]),T=E[0],C=E[1],Z=(0,o.useState)(!1),z=Z[0],S=Z[1],G=(0,o.useRef)(null),M=O=R=(0,o.useRef)((function(t){clearTimeout(G.current),G.current=setTimeout((function(){h.Z.manticore(t,null,null,"publication_date","desc").then((function(t){var e=t.posts;C([].concat((0,a.Z)(T),(0,a.Z)(e)))})).catch(()}),400)}));return(0,o.useEffect)((function(){M(),y&&m&&b({type:f.Ue.TOGGLE_MENU})}),[m]),(0,o.useEffect)((,[N]),k(o.Fragment,null,k(d.Nk,null),k("div",{className:g().fake_scroll}),k("div",{className:i()(g().root,c&&g().black)},k("div",{className:i()("container__life_global",g().container)},k("div",{className:g().wrapper},k("form",{className:g().inputWrapper,onSubmit:function(t){t.preventDefault(),N&&(e("/search?search=".concat(N),void 0,{shallow:!0}),O())}},k("button",{type:"submit"},k(v,null)),k("input",{className:g().input,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",value:N,onChange:autoFocus:!0,id:"block=search-input"}),k(_.Z,{className:g().cross,onClick:M})),z?N&&k(u.Z,{tag:"p",className:g().errorText,color:"black",size:"medium"},"\u041f\u043e\u0438\u0441\u043a \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442. \u041f\u043e\u043a\u0430 \u043c\u044b \u0440\u0435\u0448\u0430\u0435\u043c \u044d\u0442\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443, \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043a\u0430\u0440\u0442\u043e\u0439 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0440\u043e\u043d\u0430\u0432\u0438\u0440\u0443\u0441\u0430\xa0",k(l.default,{href:"/p/1303884",prefetch:!1},k("a",{className:g().link},"https://life.ru/p/1303884"))):N&&T.length>0&&k(o.Fragment,null,k("div",{className:i()(g().posts,c&&g().black_posts),style:{padding:"16px 0"}},k("div",{className:g().scrolling},T.map((function(t,e){return k("div",{style:{margin:"24px 0"},onClick:O,key:t._id},k(p.Z,(0,s.Z)({key:t._id},t,{type:"standard",size:"l",layout:"withoutImage",dateFormat:"full",idTarget:"block=search-result_item=".concat(e+1)})))}))))))),k("div",{className:i()(g().background,N&&T.length<1&&g().black),onClick:O})))}))},36653:function(t,e,n){"use strict";var s=n(809),a=n.n(s),r=n(92447),i=n(74047),l=n(26265),c=n(17563),o=n(6188),u="/posts/search",p="headers",_="fulltext",d="content";e.Z=new function t(){(0,i.Z)(this,t),(0,l.Z)(this,"manticore",(0,r.Z)(a().mark((function t(){var e,n,s,r,i,l,h,f,m,g,k,v,y,b=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=b.length>0&&void 0!==b[0]?b[0]:"",n=b.length>1&&void 0!==b[1]?b[1]:0,s=b.length>2&&void 0!==b[2]?b[2]:p,r=b.length>3?b[3]:void 0,i=b.length>4?b[4]:void 0,l=b.length>5&&void 0!==b[5]?b[5]:20,h={limit:l,term:e,offset:n,sort:r,direction:i,type:s},t.next=9,fetch("".concat(o.O2).concat(u,"?").concat(c.stringify(h,{skipNull:!0,skipEmptyString:!0})),{method:"GET",headers:{"Accept-Encoding":"gzip, zlib, deflate, zstd","Content-Type":"application/json"}});case 9:return f=t.sent,t.next=12,f.json();case 12:return m=t.sent,g=m.hits,k=g.total,v=g.hits,y=v.map((function(t){return{_id:t._id,index:t._id,title:t._source.title,subtitle:t._source.subtitle,cover:t._source.cover,publicationDate:+new Date(1e3*t._source.publication_date),highlights:s===d||s===_?t.highlight.content.slice(0,3):[]}})),t.abrupt("return",{posts:y,total:k});case 16:case"end":return t.stop()}}),t)}))))}},7829:]);