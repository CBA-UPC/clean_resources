(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1484:function(e,a,t){},1557:function(e,a,t){"use strict";t.r(a);var n=t(36),r=t(30),l=t(162),i=t(150),o=t(151),c=t(153),d=t(152),s=t(0),u=t.n(s),m=t(711),p=t(704),f=t(155),h=function(e){var a=e.mediaType,t=e.acceptedFiles,n=e.children,r=function(){return a.toLowerCase()===f.o?"360\xba Video":a};return u.a.createElement(u.a.Fragment,null,u.a.createElement("i",{className:"material-icons"},"cloud_upload"),u.a.createElement("h3",null,"Upload ",r()),u.a.createElement("strong",null,a.toLowerCase()!==f.i?"Drag a single ".concat(r()," file here to add it to your library"):"Drag a ".concat(a.replace("s","")," file here to customize your tour")),u.a.createElement("small",{className:"file-format"},"Accepted formats: ".concat(t)),u.a.createElement("small",null,"- or -"),n)},E=t(705),g=t(35),v=function(e){var a=e.mediaType,t=e.handleErrorReset;return u.a.createElement(u.a.Fragment,null,u.a.createElement("i",{className:"material-icons"},"error_outline"),u.a.createElement("p",null,u.a.createElement("strong",null,a," build error")),u.a.createElement("p",null,u.a.createElement("em",null,"Please retry or select a new ",(a||"media").toLowerCase())),u.a.createElement(g.a,{className:"retry-btn",handleClick:t},u.a.createElement("i",{className:"material-icons"},"refresh"),"\xa0Retry"))},b=t(172),j=(t(1484),function(e){Object(c.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).clearUploadError=e}return Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this.props,n=t.mediaUploadFailed,r=t.mediaType;n&&e.mediaType!==r&&this.clearUploadError()}},{key:"render",value:function(){var e=this,a=this.props,t=a.file,n=a.mediaType,r=a.acceptedFiles,l=a.maxFileSize,i=a.mediaUploadFailed,o=a.handleMediaFailReset,c=a.handleFileDrop,d=a.disableLibraryBtn,s=a.toggleSection,f=a.toggleMainMediaType,j=a.origin,D=a.hotspotToggle,F=void 0===D?D,U=a.error,A=a.permissions,R=t&&i,B="mainMedia"===j,z=B||"secondaryMedia"===j,y=l||"audio"===n&&1e7;return u.a.createElement(p.a,{handleFileDrop:c,mediaUploadFailed:i,handleMediaFailReset:o,render:function(a){var l=a.fileRejected,i=a.rejectedFiles,o=a.onDropAccepted,c=a.onDropRejected,s=a.handleErrorReset;return u.a.createElement("div",{className:"media-dropzone-wrapper"},u.a.createElement(m.a,{file:t,mediaType:n,acceptedFiles:r,fileRejected:l||R,maxFileSize:y,handleDropAccepted:o,handleDropRejected:c,handleErrorReset:s,dropZoneRef:error:U,permissions:A},!t&&!(l||R)&&u.a.createElement(h,{mediaType:n,acceptedFiles:r},u.a.createElement("div",{className:"btn-wrapper"},u.a.createElement(g.a,{className:"media-dropzone-btn",handleClick:,u.a.createElement("i",{className:"material-icons"},"file_upload"),"Upload From Computer"),z&&u.a.createElement(g.a,{className:"media-dropzone-btn",disabled:d,handleClick:F},u.a.createElement("i",{className:"material-icons"},"photo_library"),"Select from Media Library"),B&&u.a.createElement(g.a,{className:"media-dropzone-btn back",onClick:f},u.a.createElement("i",{className:"material-icons"},"reply"),"Add a different media type"))),l&&u.a.createElement(E.a,{acceptedFiles:r,maxFileSize:y,rejectedFiles:i,handleErrorReset:s}),R&&u.a.createElement(v,{mediaType:Object(b.a)(n),handleErrorReset:s})))}})}}]),t}(s.Component));a.default=Object(n.c)((j)},701:702:703:704:function(e,a,t){"use strict";var n=t(150),r=t(151),l=t(153),i=t(152),o=t(0),c=t.n(o),d=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(){var e;return Object(n.a)(this,t),(e=a.call(this)).onDropAccepted=function(a){e.handleErrorReset(),e.props.handleFileDrop(a[0])},e.onDropRejected=function(a){e.setState({fileRejected:!0,rejectedFiles:a}),e.props.handleFileDrop(null)},e.handleErrorReset=function(){var a=e.props,t=a.mediaUploadFailed,n=a.handleMediaFailReset,r=a.handleFileDrop;e.state.fileRejected?(e.setState({fileRejected:!1,rejectedFiles:[]}),r(null)):t&&(n(),r(null))},e.state={fileRejected:!1,rejectedFiles:[]},e}return Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.props.render({fileRejected:this.state.fileRejected,rejectedFiles:this.state.rejectedFiles,onDropAccepted:this.onDropAccepted,onDropRejected:this.onDropRejected,handleErrorReset:this.handleErrorReset}))}}]),t}(o.Component);a.a=d},705:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(35);a.a=function(e){var a=e.acceptedFiles,t=e.maxFileSize,n=e.rejectedFiles,i=e.handleErrorReset;return r.a.createElement(r.a.Fragment,null,function(){var e=Math.ceil((t||4e7)/1e6);if(n.length>1)return"Please upload one file at a time";var l=n[0],i=l.name,o=l.size,c=l.type,d=Math.ceil(o/1e6);return o>t?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("em",null,i)," is"," ",r.a.createElement("strong",null,d,"mb")),r.a.createElement("p",null,"Please upload a file less than"," ",r.a.createElement("strong",null,e,"mb"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("em",null,i)," is an ",r.a.createElement("strong",null,c)),r.a.createElement("p",null,"Please upload an ",r.a.createElement("strong",null,a)))}(),r.a.createElement(l.a,{className:"retry-btn",handleClick:i},r.a.createElement("i",{className:"material-icons"},"refresh"),"\xa0Retry"))}},711:function(e,a,t){"use strict";var n=t(36),r=t(150),l=t(151),i=t(153),o=t(152),c=t(0),d=t.n(c),s=t(790),u=t(54),m=t(155),p=t(172),f=(t(701),t(702)),h=t.n(f),E=t(703),g=t.n(E),v=t(24),b=t.n(v),j=function(e){Object(i.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(r.a)(this,t),(e=a.call(this)).onDragEnter=e.onDragLeave=e.onDrop=function(a,t){e.setState({dropzoneActive:!1}),t.length?e.handleRejected(t):a.length&&e.props.handleDropAccepted(a)},e.handleRejected=function(a){a.forEach(function(a){a.name.match(/.heic/i)?e.props.handleDropAccepted([a]):e.props.handleDropRejected([a])})},e.getBackgroundImage=function(){var a,t=e.props,n=t.file.preview;switch(t.mediaType){case m.o:a="url(".concat(g.a,")");break;case m.a:a="url(".concat(h.a,")");break;default:a="url(".concat(n,")")}return a},e.state={dropzoneActive:!1,uploadStatusMessage:""},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.state,a=e.dropzoneActive,t=e.uploadStatusMessage,n=this.props,r=n.file,l=n.acceptedFiles,i=n.fileRejected,o=n.maxFileSize,c=n.mediaUploading,p=n.dropZoneRef,f=n.children,h=n.error,E=n.permissions,g=void 0===E?{}:E,v=n.mediaType,j=n.smallDropZone,D=r&&this.getBackgroundImage(),F=r&&r.name.match(/.heic/i),U=r&&c,A=b()("media-dropzone__wrapper",{small:j});return d.a.createElement("div",{className:A},d.a.createElement(s.a,{className:"media-dropzone ".concat(i||h?"rejected":""),style:{backgroundImage:D},disabled:c,disableClick:!0,multiple:!1,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,accept:l,maxSize:o||4e7,ref:p},a?d.a.createElement("div",{className:"dropzone-status"},"Drop your file..."):f,!U&&F&&d.a.createElement("div",{className:"upload-status-msg"},".HEIC is not supported in preview. This will be converted into a supported format on upload."),U&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"upload-status-msg"},t),d.a.createElement(u.BarLoader,{color:"#009b65",loading:c}))),U&&v===m.o&&g.videoStreaming&&d.a.createElement("p",{className:"media-dropzone__360video-optimize-msg"},"Once uploaded, it may take a few minutes to optimize the 360\xb0 Video before it can be viewed in your tour."))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t=e.rawUploading,n=e.mediaBuilding,r=e.mediaSaving,l=e.mediaType,i=Object(p.a)(l),o="";return t?o="Raw file uploading...":n?o="".concat(i," building..."):r&&(o="".concat(i," saving to database...")),{uploadStatusMessage:o}}}]),t}(c.Component);a.a=Object(n.c)(null)(j)}}]);