(function(){define("librastandardlib/obj-utils/mixin",[],;define("librastandardlib/dom-utils/trapFocus",[],;define("librastandardlib/event-utils/event-keys",[],;define("libra/components/modal-mixin",["librastandardlib/dom-utils/trapFocus","librastandardlib/event-utils/event-keys"],;define("librastandardlib/test-helpers/browser-globals/window",[],function(){return window});define("librastandardlib/dom-utils/breakpoint-helper",["librastandardlib/test-helpers/browser-globals/window"],;define("librastandardlib/obj-utils/assign",[],;define("librastandardlib/id-utils/generateUUID",[],;define("librastandardlib/url-utils/buildQueryString",[],;define("librastandardlib/url-utils/getQueryStringParam",[],;define("librastandardlib/detection-utils/isUserAgentRobot",["librastandardlib/test-helpers/browser-globals/window"],;define("librastandardlib/aws/page-settings",["librastandardlib/obj-utils/assign"],;!this,function(){return function(){var t={574:,e={};.d=n.o=n.r=var r={};return function(){"use strict";n.r(r),n.d(r,{AWSMarketingClientSideOperationsLogger:function(){return k}});var t,e=n(574),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i={isLoggingEnabled:!0},a=u=function(){return u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},u.apply(this,arguments)};!function(t){t.AWSM_GF="awsm_gf",t.AWSM_CARE="awsm_care",t.AWSM_SCAR="awsm_scar",t.AWSM_CA="awsm_ca",t.AWSM_PRC="awsm_prc"}(t||(t={}));var c,l={PageError:t.AWSM_GF,AjaxForm:t.AWSM_GF,PricingTable:t.AWSM_GF,CookieConsent:t.AWSM_GF,PageAlert:t.AWSM_GF,LibraCarousel:t.AWSM_GF,DirectoriesTable:t.AWSM_GF,LibraVideo:t.AWSM_GF,LibraRequire:t.AWSM_GF,LazyLoad:t.AWSM_GF,EventHub:t.AWSM_GF,SuspectedThirdPartyScriptError:t.AWSM_GF,ScriptError:t.AWSM_GF,Performance:t.AWSM_GF},s={Directories:t.AWSM_CARE,Cards:t.AWSM_CARE,MapPin:t.AWSM_CARE,NewsTicker:t.AWSM_CARE,Blog:t.AWSM_CARE},f={Typeahead:t.AWSM_SCAR,SiteSearch:t.AWSM_SCAR,NavMobileV3:t.AWSM_SCAR,NavDesktopV3:t.AWSM_SCAR,ExperienceOrchestratorClient:t.AWSM_SCAR},y={targetMediator:t.AWSM_CA,AjaxForm:t.AWSM_CA},p={PricingLayerCake:t.AWSM_PRC},m=u(u(u(u(u({},s),f),y),p),l),b=new(function(){function t(){var t=this;this.maxBatchSize=10,this.logQueue=[],this.flushQueue=this.stage=a().currentStage||"";var n,r=new e.AWSMarketingClientSideDataServiceClientConfig(this.stage.toLowerCase());this.batchClient=new e.AWSMarketingClientSideDataServiceClient(r),n=this.flushQueue,document.addEventListener("visibilitychange",,this.flushQueue)}return t.prototype.createLog=function(t){var e={};return Object.keys(t).forEach(,this.createLogEvent(e),this.logQueue.length===this.maxBatchSize?this.sendBatchRequest():void 0!==this.batchTimer?this.refreshBatchTimer():void(this.batchTimer=this.createBatchTimer())},t.prototype.createLogEvent=t.prototype.createBatchTimer=t.prototype.refreshBatchTimer=t.prototype.createBatchRequest=t.prototype.sendBatchRequest=t}()),h=new RegExp(["AdsBot","AmazonAutoTester","Baiduspider","Bytespider","BingBot","BingPreview","bitdiscovery","CloudWatchSynthetics","Googlebot","GoogleImageProxy","HeadlessChrome","Mediapartners-Google","msnbot","Cypress","PTST","DatadogSynthetics","RuxitSynthetic","SECSSOBrowser","Pingdom","Chrome-Lighthouse","ThousandEyes","moatbot","HubSpot Crawler","SeekportBot","Slackbot","DareBoost","SiteScoreBot","CensysInspect","woorankreview","ev-crawler","proximic","DingTalkBot","SiteAuditBot"].join("|"),"i"),v=[{hostname:"console.aws.amazon.com",service:"console"},{hostname:"aws.amazon.com",service:"awsm"},{hostname:"amazonaws-china.com",service:"awsm"},{hostname:"www.amazonaws.cn",service:"cn"}],g=/console\.(aws\.amazon\.com|amazonaws\.cn)\/([a-z0-9]+)\//,d="CMS",S={awsm:d,cn:d,console:"DEFAULT",marketplace:d},w=A=["console.aws.amazon.com","console.amazonaws.cn"],j={"aws.amazon.com":1,"amazonaws-china.com":1,"www.amazonaws.cn":1},E=P={CookieConsent:"NA"},O=function(t){var e,n=a(),r=n.isMarketplace);return{namespace:t,service:r,isBot:h.test(window.navigator.userAgent),instance:w(r,n.logInstance),isMobile:new RegExp(/iPhone|iPod|iPad|Android|(?=.*\bAndroid\b)(?=.*\bMobile\b)|IEMobile|(?=.*\bWindows\b)(?=.*\bTouch\b)|Windows Phone|Opera Mini|(?=.*\bFirefox\b)(?=.*\bMobile\b)|BlackBerry|Nexus 7|BNTV250|Kindle Fire|Silk|webOS|GT-P1000/i).test(window.navigator.userAgent),host:E(),locale:P[t]||(e=window.document.documentElement.getAttribute("lang"),"string"==typeof e&&e.length?e.replace("-","_"):"NA")}};!c||(c={}));var C=M=function(t,e,n){var r=C(t);!r||r!==e.toLowerCase()&&"all"!==r||console.log("[".concat(e,"] ").concat(t,"; ").concat(JSON.stringify(n)))},T=k=function(){eturn t.prototype.getRuntimeMetaData=t.prototype.getFullMetaData=t.prototype.debug=function(t){b.createLog(T(T(T({},this.getFullMetaData()),t),{logLevel:c.DEBUG})),M(this.baseMetaData.namespace,c.DEBUG,this.baseMetaData)},t.prototype.info=function(t){b.createLog(T(T(T({},this.getFullMetaData()),t),{logLevel:c.INFO})),M(this.baseMetaData.namespace,c.DEBUG,this.baseMetaData)},t.prototype.log=function(t){b.createLog(T(T(T({},this.getFullMetaData()),t),{logLevel:c.LOG})),M(this.baseMetaData.namespace,c.DEBUG,this.baseMetaData)},t.prototype.warn=function(t){b.createLog(T(T(T({},this.getFullMetaData()),t),{logLevel:c.WARN})),M(this.baseMetaData.namespace,c.DEBUG,this.baseMetaData)},t.prototype.error=function(t){b.createLog(T(T(T({},this.getFullMetaData()),t),{logLevel:c.ERROR})),M(this.baseMetaData.namespace,c.DEBUG,this.baseMetaData)},t}()}(),r}()});define("librastandardlib/logger/logger",["librastandardlib/test-helpers/browser-globals/window","librastandardlib/obj-utils/assign","librastandardlib/id-utils/generateUUID","librastandardlib/url-utils/buildQueryString","librastandardlib/url-utils/getQueryStringParam","librastandardlib/detection-utils/isUserAgentRobot","librastandardlib/aws/page-settings","librastandardlib/ops-logger/AWSMarketingClientSideOperationsLogger"],function(window,_assign,generateUUID,buildQueryString,getQueryStringParam,isUserAgentRobot,PageSettings,OpsLogger){"use strict";var Logger=function(){var LOG_LEVELS={info:{warn:true,error:true},warn:{error:true},error:{},debug:{info:true,warn:true,error:true}};var RAW_ENDPOINT="https://fls-na.amazon.com/1/aws-mktg/1/OE/";var AI_ENDPOINT="https://fls-na.amazon.com/1/action-impressions/1/OE/aws-mktg/action/";var COMMON_AI_PARAMS={marketplaceId:"A12QK8IU0H0XW5",requestId:"ABCDEFGHIJKLMNOPQRST",session:"123-1234567-1234567"};var DEFAULT_AI_UNITS="ms";var DEFAULT_AI_VALUE_SET="count";var AI_VALUE_SETS={count:{value:"1",units:"c"},timeSinceResponseEnd:{valueFunction:"getElapsedTimeSincePageLoad",units:"ms"}};var HOSTNAMES_TO_SERVICES=[{hostname:"console.aws.amazon.com",service:"console"},{hostname:"aws.amazon.com",service:"awsm"},{hostname:"amazonaws-china.com",service:"awsm"},{hostname:"www.amazonaws.cn",service:"cn"}];var LogType={RAW:"RAW",AI:"AI",LOCAL:"LOCAL"};var PlatformType={CMS:"CMS",DEFAULT:"DEFAULT"};var SERVICES_TO_PLATFORM_TYPES={awsm:PlatformType.CMS,cn:PlatformType.CMS,console:PlatformType.DEFAULT,marketplace:PlatformType.CMS};var MARKETPLACE_SERVICE="marketplace";var CONSOLE_SERVICE_NAME_PREFIX="console-";var SERVICE_NAME_REGEX=/console\.(aws\.amazon\.com|amazonaws\.cn)\/([a-z0-9]+)\//;var ALLOWED_HOSTNAME_SUFFIXES=["console.aws.amazon.com","console.amazonaws.cn"];var ALLOWED_EXACT_MATCH_HOSTNAMES={"aws.amazon.com":1,"amazonaws-china.com":1,"www.amazonaws.cn":1};var pageRequestId=null;var instances={};var customMarketplace={CookieConsent:"NA"};var migratedNamespaces={LibraCarousel:true,PageAlert:true,Performance:true,ScriptError:true,SuspectedThirdPartyScriptError:true,PageError:true,LazyLoad:true,LibraVideo:true,CookieConsent:true,Typeahead:true,SiteSearch:true,NavMobileV3:true,NavDesktopV3:true,ExperienceOrchestratorClient:true};function Logger(namespace,logLevel){if(instances.hasOwnProperty(namespace)){instances[namespace].logLevel=logLevel||instances[namespace].logLevel;return instances[namespace]}this.namespace=namespace;this.logLevel=logLevel||this.getLogLevelByQueryString();this.pageRequestId=this.getPageRequestId();this.dataSet=this.getDataSet();this.service=this.getService();this.instance=this.getInstance(this.service);this.client=this.getClient();this.host=this.getHost();this.methodName=this.getMethodName();this.marketplace=customMarketplace[this.namespace]||this.getLongLanguage();instances[namespace]=this;this.opsLoggerInstantiated=new OpsLogger.AWSMarketingClientSideOperationsLogger(namespace)}Logger.prototype={trimAndFlattenStackTrace:getService:getHost:getLongLanguage:getInstance:getDataSet:getClient:getMethodName:logAI:logRaw:logUrl:getLogLevelByQueryString:getElapsedTimeSincePageLoad:getPageRequestId:_rawEndpoint:RAW_ENDPOINT,_aiEndpoint:AI_ENDPOINT};for(var level in LOG_LEVELS){if(LOG_LEVELS.hasOwnProperty(level)){(function(level){Logger.prototype[level]=function(msg,logType,params){logType=logType||"LOCAL";var currentTime=(new Date).getTime();var pageTime=this.getElapsedTimeSincePageLoad();var logLevelStr=level.toUpperCase();if(logType===LogType.AI){this.logAI(msg,params)}else if(logType===LogType.RAW){this.logRaw(logLevelStr,msg,currentTime,pageTime,params)}try{if(migratedNamespaces[this.namespace]){this.opsLoggerInstantiated[level](_assign({logName:msg},params))}}catch(e){this.logAI("awsm_v2_:ops_logger_Error",{valueSet:"count"});this.logRaw(logLevelStr,msg,currentTime,pageTime,_assign({logType:logType,logIdentifier:"awsm_v2_:ops_logger_Error"},params))}if(this.logLevel!==null){if(level===this.logLevel||LOG_LEVELS[this.logLevel].hasOwnProperty(level)){if(LogType.hasOwnProperty(logType)){var out="["+logLevelStr+"]["+LogType[logType]+"] "+this.namespace+": "+msg+"; @"+pageTime+"ms";if(typeof params!=="undefined"){out+="; "+JSON.stringify(params)}console.log(out);this._lastConsoleLog=out}else{var args=Array.prototype.slice.call(arguments);var logObjPrefix="["+logLevelStr+"]["+LogType.LOCAL+"] "+this.namespace+": "+args[0];console.log(logObjPrefix,[].concat(args.slice(1)))}}}}})(level)}}return Logger}();return Logger});define("librastandardlib/event-utils/polling-registrar",[],;(function(){
/**
 * @license
 * Video.js 6.2.7 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 */
((this,function(){var version="6.2.7";var commonjsGlobal=typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};ar win;if(typeof window!=="undefined"){win=window}else if(typeof commonjsGlobal!=="undefined"){win=commonjsGlobal}else if(typeof self!=="undefined"){win=self}else{win={}}var window_1=win;var empty={};var empty$1=(Object.freeze||Object)({default:empty});var minDoc=empty$1&&empty||empty$1;var topLevel=typeof commonjsGlobal!=="undefined"?commonjsGlobal:typeof window!=="undefined"?window:{};var doccy;if(typeof document!=="undefined"){doccy=document}else{doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];if(!doccy){doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc}}var document_1=doccy;var USER_AGENT=window_1.navigator&&window_1.navigator.userAgent||"";var webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT);var appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null;var IS_IPAD=/iPad/i.test(USER_AGENT);var IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD;var IS_IPOD=/iPod/i.test(USER_AGENT);var IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD;var IOS_VERSION=);var IS_ANDROID=/Android/i.test(USER_AGENT);var ANDROID_VERSION=);var IS_OLD_ANDROID=IS_ANDROID&&/webkit/i.test(USER_AGENT)&&ANDROID_VERSION<2.3;var IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537;var IS_FIREFOX=/Firefox/i.test(USER_AGENT);var IS_EDGE=/Edge/i.test(USER_AGENT);var IS_CHROME=!IS_EDGE&&/Chrome/i.test(USER_AGENT);var CHROME_VERSION=);var IS_IE8=/MSIE\s8\.0/.test(USER_AGENT);var IE_VERSION=);var IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE;var IS_ANY_SAFARI=IS_SAFARI||IS_IOS;var TOUCH_ENABLED=isReal()&&("ontouchstart"in window_1||window_1.DocumentTouch&&window_1.document instanceof window_1.DocumentTouch);var BACKGROUND_SIZE_SUPPORTED=isReal()&&"backgroundSize"in window_1.document.createElement("video").style;var browser=(Object.freeze||Object)({IS_IPAD:IS_IPAD,IS_IPHONE:IS_IPHONE,IS_IPOD:IS_IPOD,IS_IOS:IS_IOS,IOS_VERSION:IOS_VERSION,IS_ANDROID:IS_ANDROID,ANDROID_VERSION:ANDROID_VERSION,IS_OLD_ANDROID:IS_OLD_ANDROID,IS_NATIVE_ANDROID:IS_NATIVE_ANDROID,IS_FIREFOX:IS_FIREFOX,IS_EDGE:IS_EDGE,IS_CHROME:IS_CHROME,CHROME_VERSION:CHROME_VERSION,IS_IE8:IS_IE8,IE_VERSION:IE_VERSION,IS_SAFARI:IS_SAFARI,IS_ANY_SAFARI:IS_ANY_SAFARI,TOUCH_ENABLED:TOUCH_ENABLED,BACKGROUND_SIZE_SUPPORTED:BACKGROUND_SIZE_SUPPORTED});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:var classCallCheck=var inherits=var possibleConstructorReturn=var taggedTemplateLiteralLoose=var toString=Object.prototype.toString;var keys=og=void 0;var level="all";var history=[];var logByType=log=log.levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:level};log.level=log.history=log.history.clear=log.history.disable=log.history.enable=log.error=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return logByType("error",args)};log.warn=var log$1=log;function clean(s){return s.replace(/\n\r?\s*/g,"")}var tsml=ar _templateObject=taggedTemplateLiteralLoose(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);tion isEl(value){return isObject(value)&&value.nodeType===1}erySelector");var $$=createQuerier("querySelectorAll");var Dom=(Object.freeze||Object)({isReal:isReal,isEl:isEl,createEl:createEl,textContent:textContent,prependTo:prependTo,hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,setAttributes:setAttributes,getAttributes:getAttributes,getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,blockTextSelection:blockTextSelection,unblockTextSelection:unblockTextSelection,getBoundingClientRect:getBoundingClientRect,findPosition:findPosition,getPointerPosition:getPointerPosition,isTextNode:isTextNode,emptyEl:emptyEl,normalizeContent:normalizeContent,appendContent:appendContent,insertContent:insertContent,$:$,$$:$$});var _guid=1;ar elData={};var elIdAttr="vdata"+(new Date).getTime();upportsPassive=false;(();var passiveEvents=["touchstart","touchmove"];Events=(Object.freeze||Object)({fixEvent:fixEvent,on:on,off:off,trigger:trigger,one:one});var _windowLoaded=false;var videojs$2=void 0;var autoSetup=f(isReal()&&document_1.readyState==="complete"){_windowLoaded=true}else{one(window_1,"load",function(){_windowLoaded=true})}var createStyleElement=var setTextContent=var bind=var throttle=var EventTarget=function EventTarget(){};EventTarget.prototype.allowedEvents_={};EventTarget.prototype.on=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){};on(this,type,fn);this.addEventListener=ael};EventTarget.prototype.addEventListener=EventTarget.prototype.on;EventTarget.prototype.off=EventTarget.prototype.removeEventListener=EventTarget.prototype.off;EventTarget.prototype.one=EventTarget.prototype.trigger=EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger;var isEvented=var isValidEventType=var validateTarget=var validateEventType=var validateListener=var normalizeListenArgs=var listen=var EventedMixin={on:one:off:trigger:;ar StatefulMixin={state:{},setState:;Component=);Component.prototype.supportsRaf_=typeof window_1.requestAnimationFrame==="function"&&typeof window_1.cancelAnimationFrame==="function";Component.registerComponent("Component",Component);ullscreenApi={};var apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var specApi=apiMap[0];var browserApi=void 0;for(var i=0;i<apiMap.length;i++){if(apiMap[i][1]in document_1){browserApi=apiMap[i];break}}if(browserApi){for(var _i=0;_i<browserApi.length;_i++){FullscreenApi[specApi[_i]]=browserApi[_i]}}ediaError.prototype.code=0;MediaError.prototype.message="";MediaError.prototype.status=null;MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++){MediaError[MediaError.errorTypes[errNum]]=errNum;MediaError.prototype[MediaError.errorTypes[errNum]]=errNum}var tuple=SafeParseTuple;ar trackToJson_=var textTracksToJson=var jsonToTextTracks=var textTrackConverter={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_};var MODAL_CLASS_NAME="vjs-modal-dialog";var ESC=27;var ModalDialog=function(_Component){inherits(ModalDialog,_Component);odalDialog.prototype.createEl=ModalDialog.prototype.buildCSSClass=ModalDialog.prototype.handleKeyPress=ModalDialog.prototype.label=ModalDialog.prototype.description=ModalDialog.prototype.open=ModalDialog.prototype.opened=ModalDialog.prototype.close=ModalDialog.prototype.closeable=ModalDialog.prototype.fill=ModalDialog.prototype.fillWith=ModalDialog.prototype.empty=ModalDialog.prototype.content=ModalDialog.prototype.conditionalFocus_=ModalDialog.prototype.conditionalBlur_=ModalDialog.prototype.handleKeyDown=ModalDialog.prototype.focusableEls_=return ModalDialog}(Component);ModalDialog.prototype.options_={pauseOnOpen:true,temporary:true};Component.registerComponent("ModalDialog",ModalDialog);var TrackList=EventTarget);TrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var event in TrackList.prototype.allowedEvents_){TrackList.prototype["on"+event]=null}var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(!Object.keys(list[i]).length||track.id===list[i].id){continue}list[i].enabled=false}};var AudioTrackList=TrackList);var disableOthers$1=var VideoTrackList=TrackList);var TextTrackList=TrackList);var HtmlTrackElementList=);var TextTrackCueList=);var VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"};var AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"};var TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};var TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"};var Track=EventTarget);var parseUrl=var getAbsoluteURL=var getFileExtension=var isCrossOrigin=var Url=(Object.freeze||Object)({parseUrl:parseUrl,getAbsoluteURL:getAbsoluteURL,getFileExtension:getFileExtension,isCrossOrigin:isCrossOrigin});var isFunction_1=isFunction;var toString$1=Object.prototype.toString;ar trim_1=createCommonjsModule(;var forEach_1=forEach;var toString$2=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;isArray=var parseHeaders=var immutable=extend;var hasOwnProperty$1=Object.prototype.hasOwnProperty;ar xhr=createXHR;createXHR.XMLHttpRequest=window_1.XMLHttpRequest||noop;createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window_1.XDomainRequest;forEachArray(["get","put","post","patch","head","delete"],;on noop(){}var parseCues=var loadTrack=var TextTrack=Track);TextTrack.prototype.allowedEvents_={cuechange:"cuechange"};var AudioTrack=Track);var VideoTrack=Track);var NONE=0;var LOADING=1;var LOADED=2;var ERROR=3;var HTMLTrackElement=EventTarget);HTMLTrackElement.prototype.allowedEvents_={load:"load"};HTMLTrackElement.NONE=NONE;HTMLTrackElement.LOADING=LOADING;HTMLTrackElement.LOADED=LOADED;HTMLTrackElement.ERROR=ERROR;var NORMAL={audio:{ListClass:AudioTrackList,TrackClass:AudioTrack,capitalName:"Audio"},video:{ListClass:VideoTrackList,TrackClass:VideoTrack,capitalName:"Video"},text:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"Text"}};Object.keys(NORMAL).forEach(;var REMOTE={remoteText:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:HtmlTrackElementList,TrackClass:HTMLTrackElement,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};var ALL=mergeOptions(NORMAL,REMOTE);REMOTE.names=Object.keys(REMOTE);NORMAL.names=Object.keys(NORMAL);ALL.names=[].concat(REMOTE.names).concat(NORMAL.names);var vtt={};ar Tech=function(_Component){inherits(Tech,_Component);ech.prototype.manualProgressOn=Tech.prototype.manualProgressOff=Tech.prototype.trackProgress=Tech.prototype.onDurationChange=Tech.prototype.buffered=Tech.prototype.bufferedPercent=Tech.prototype.stopTrackingProgress=Tech.prototype.manualTimeUpdatesOn=Tech.prototype.manualTimeUpdatesOff=Tech.prototype.trackCurrentTime=Tech.prototype.stopTrackingCurrentTime=Tech.prototype.dispose=Tech.prototype.clearTracks=Tech.prototype.cleanupAutoTextTracks=Tech.prototype.reset=function reset(){};Tech.prototype.error=Tech.prototype.played=Tech.prototype.setCurrentTime=Tech.prototype.initTrackListeners=Tech.prototype.addWebVttScript_=function addWebVttScript_(){var _this4=this;if(window_1.WebVTT){return}if(document_1.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(vtt)&&Object.keys(vtt).length>0){this.trigger("vttjsloaded");return}var script=document_1.createElement("script");script.onload=function(){_this4.trigger("vttjsloaded")};script.onerror=this.on("dispose",;window_1.WebVTT=true;this.el().parentNode.appendChild(script)}else{this.ready(this.addWebVttScript_)}};Tech.prototype.emulateTextTracks=Tech.prototype.addTextTrack=Tech.prototype.createRemoteTextTrack=Tech.prototype.addRemoteTextTrack=Tech.prototype.removeRemoteTextTrack=Tech.prototype.getVideoPlaybackQuality=Tech.prototype.setPoster=function setPoster(){};Tech.prototype.playsinline=function playsinline(){};Tech.prototype.setPlaysinline=Tech.prototype.canPlayType=function canPlayType(){return""};Tech.canPlayType=Tech.canPlaySource=Tech.isTech=Tech.registerTech=Tech.getTech=return Tech}(Component);ALL.names.forEach(;Tech.prototype.featuresVolumeControl=true;Tech.prototype.featuresFullscreenResize=false;Tech.prototype.featuresPlaybackRate=false;Tech.prototype.featuresProgressEvents=false;Tech.prototype.featuresTimeupdateEvents=false;Tech.prototype.featuresNativeTextTracks=false;Tech.withSourceHandlers=Component.registerComponent("Tech",Tech);Tech.registerTech("Tech",Tech);Tech.defaultTechOrder_=[];var middlewares={};llowedGetters={buffered:1,currentTime:1,duration:1,seekable:1,played:1};var allowedSetters={setCurrentTime:1};r filterSource=var MediaLoader=Component);Component.registerComponent("MediaLoader",MediaLoader);var ClickableComponent=function(_Component){inherits(ClickableComponent,_Component);lickableComponent.prototype.createEl=function createEl$$1(){var tag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div";var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},props);if(tag==="button"){log$1.error("Creating a ClickableComponent with an HTML element of "+tag+" is not supported; use a Button instead.")}attributes=assign({role:"button","aria-live":"polite"},attributes);this.tabIndex_=props.tabIndex;var el=_Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el};ClickableComponent.prototype.createControlTextEl=ClickableComponent.prototype.controlText=function controlText(text){var el=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(!text){return this.controlText_||"Need Text"}var localizedText=this.localize(text);this.controlText_=text;textContent(this.controlTextEl_,localizedText);if(!this.nonIconControl){el.setAttribute("title",localizedText)}};ClickableComponent.prototype.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+_Component.prototype.buildCSSClass.call(this)};ClickableComponent.prototype.enable=ClickableComponent.prototype.disable=ClickableComponent.prototype.handleClick=function handleClick(event){};ClickableComponent.prototype.handleFocus=function handleFocus(event){on(document_1,"keydown",bind(this,this.handleKeyPress))};ClickableComponent.prototype.handleKeyPress=ClickableComponent.prototype.handleBlur=return ClickableComponent}(Component);Component.registerComponent("ClickableComponent",ClickableComponent);var PosterImage=ClickableComponent);Component.registerComponent("PosterImage",PosterImage);var darkGray="#222";var lightGray="#ccc";var fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};r TextTrackDisplay=Component);Component.registerComponent("TextTrackDisplay",TextTrackDisplay);var LoadingSpinner=function(_Component){inherits(LoadingSpinner,_Component);function LoadingSpinner(){classCallCheck(this,LoadingSpinner);return possibleConstructorReturn(this,_Component.apply(this,arguments))}LoadingSpinner.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})};return LoadingSpinner}(Component);Component.registerComponent("LoadingSpinner",LoadingSpinner);var Button=function(_ClickableComponent){inherits(Button,_ClickableComponent);function Button(){classCallCheck(this,Button);return possibleConstructorReturn(this,_ClickableComponent.apply(this,arguments))}Button.prototype.createEl=function createEl(tag){var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};tag="button";props=assign({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},props);attributes=assign({
// Necessary since the default button type is "submit"
type:"button","aria-live":"polite"},attributes);var el=Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el};Button.prototype.addChild=Button.prototype.enable=Button.prototype.disable=Button.prototype.handleKeyPress=return Button}(ClickableComponent);Component.registerComponent("Button",Button);var BigPlayButton=Button);BigPlayButton.prototype.controlText_="Play Video";Component.registerComponent("BigPlayButton",BigPlayButton);var CloseButton=Button);Component.registerComponent("CloseButton",CloseButton);var PlayToggle=Button);PlayToggle.prototype.controlText_="Play";Component.registerComponent("PlayToggle",PlayToggle);ar CurrentTimeDisplay=function(_Component){inherits(CurrentTimeDisplay,_Component);urrentTimeDisplay.prototype.createEl=function createEl$$1(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});this.contentEl_=createEl("div",{className:"vjs-current-time-display"},{"aria-live":"off"},createEl("span",{className:"vjs-control-text",textContent:this.localize("Current Time")}));this.updateTextNode_();el.appendChild(this.contentEl_);return el};CurrentTimeDisplay.prototype.updateTextNode_=function updateTextNode_(){if(this.textNode_){this.contentEl_.removeChild(this.textNode_)}this.textNode_=document_1.createTextNode(" "+(this.formattedTime_||"0:00"));this.contentEl_.appendChild(this.textNode_)};CurrentTimeDisplay.prototype.updateContent=return CurrentTimeDisplay}(Component);Component.registerComponent("CurrentTimeDisplay",CurrentTimeDisplay);var DurationDisplay=function(_Component){inherits(DurationDisplay,_Component);urationDisplay.prototype.createEl=function createEl$$1(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});this.contentEl_=createEl("div",{className:"vjs-duration-display"},{"aria-live":"off"},createEl("span",{className:"vjs-control-text",textContent:this.localize("Duration Time")}));this.updateTextNode_();el.appendChild(this.contentEl_);return el};DurationDisplay.prototype.updateTextNode_=function updateTextNode_(){if(this.textNode_){this.contentEl_.removeChild(this.textNode_)}this.textNode_=document_1.createTextNode(" "+(this.formattedTime_||"0:00"));this.contentEl_.appendChild(this.textNode_)};DurationDisplay.prototype.updateContent=return DurationDisplay}(Component);Component.registerComponent("DurationDisplay",DurationDisplay);var TimeDivider=function(_Component){inherits(TimeDivider,_Component);function TimeDivider(){classCallCheck(this,TimeDivider);return possibleConstructorReturn(this,_Component.apply(this,arguments))}TimeDivider.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};return TimeDivider}(Component);Component.registerComponent("TimeDivider",TimeDivider);var RemainingTimeDisplay=function(_Component){inherits(RemainingTimeDisplay,_Component);function RemainingTimeDisplay(player,options){classCallCheck(this,RemainingTimeDisplay);var _this=possibleConstructorReturn(this,_Component.call(this,player,options));_this.throttledUpdateContent=throttle(bind(_this,_this.updateContent),25);_this.on(player,["timeupdate","durationchange"],_this.throttledUpdateContent);return _this}RemainingTimeDisplay.prototype.createEl=RemainingTimeDisplay.prototype.updateTextNode_=RemainingTimeDisplay.prototype.updateContent=return RemainingTimeDisplay}(Component);Component.registerComponent("RemainingTimeDisplay",RemainingTimeDisplay);var LiveDisplay=Component);Component.registerComponent("LiveDisplay",LiveDisplay);var Slider=function(_Component){inherits(Slider,_Component);lider.prototype.createEl=function createEl$$1(type){var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props.className=props.className+" vjs-slider";props=assign({tabIndex:0},props);attributes=assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},attributes);return _Component.prototype.createEl.call(this,type,props,attributes)};Slider.prototype.handleMouseDown=Slider.prototype.handleMouseMove=function handleMouseMove(event){};Slider.prototype.handleMouseUp=Slider.prototype.update=Slider.prototype.calculateDistance=Slider.prototype.handleFocus=function handleFocus(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};Slider.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===37||event.which===40){event.preventDefault();this.stepBack()}else if(event.which===38||event.which===39){event.preventDefault();this.stepForward()}};Slider.prototype.handleBlur=Slider.prototype.handleClick=Slider.prototype.vertical=return Slider}(Component);Component.registerComponent("Slider",Slider);var LoadProgressBar=Component);Component.registerComponent("LoadProgressBar",LoadProgressBar);var TimeTooltip=Component);Component.registerComponent("TimeTooltip",TimeTooltip);var PlayProgressBar=Component);PlayProgressBar.prototype.options_={children:[]};if((!IE_VERSION||IE_VERSION>8)&&!IS_IOS&&!IS_ANDROID){PlayProgressBar.prototype.options_.children.push("timeTooltip")}Component.registerComponent("PlayProgressBar",PlayProgressBar);var MouseTimeDisplay=Component);MouseTimeDisplay.prototype.options_={children:["timeTooltip"]};Component.registerComponent("MouseTimeDisplay",MouseTimeDisplay);var STEP_SECONDS=5;var SeekBar=Slider);SeekBar.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};if((!IE_VERSION||IE_VERSION>8)&&!IS_IOS&&!IS_ANDROID){SeekBar.prototype.options_.children.splice(1,0,"mouseTimeDisplay")}SeekBar.prototype.playerEvent="timeupdate";Component.registerComponent("SeekBar",SeekBar);var ProgressControl=Component);ProgressControl.prototype.options_={children:["seekBar"]};Component.registerComponent("ProgressControl",ProgressControl);var FullscreenToggle=Button);FullscreenToggle.prototype.controlText_="Fullscreen";Component.registerComponent("FullscreenToggle",FullscreenToggle);var checkVolumeSupport=var VolumeLevel=Component);Component.registerComponent("VolumeLevel",VolumeLevel);var VolumeBar=Slider);VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};VolumeBar.prototype.playerEvent="volumechange";Component.registerComponent("VolumeBar",VolumeBar);var VolumeControl=Component);VolumeControl.prototype.options_={children:["volumeBar"]};Component.registerComponent("VolumeControl",VolumeControl);var MuteToggle=Button);MuteToggle.prototype.controlText_="Mute";Component.registerComponent("MuteToggle",MuteToggle);var VolumePanel=Component);VolumePanel.prototype.options_={children:["muteToggle","volumeControl"]};Component.registerComponent("VolumePanel",VolumePanel);var Menu=Component);Component.registerComponent("Menu",Menu);var MenuButton=Component);Component.registerComponent("MenuButton",MenuButton);var TrackButton=MenuButton);Component.registerComponent("TrackButton",TrackButton);var MenuItem=ClickableComponent);Component.registerComponent("MenuItem",MenuItem);var TextTrackMenuItem=MenuItem);Component.registerComponent("TextTrackMenuItem",TextTrackMenuItem);var OffTextTrackMenuItem=function(_TextTrackMenuItem){inherits(OffTextTrackMenuItem,_TextTrackMenuItem);function OffTextTrackMenuItem(player,options){classCallCheck(this,OffTextTrackMenuItem);options.track={player:player,kind:options.kind,kinds:options.kinds,default:false,mode:"disabled"};if(!options.kinds){options.kinds=[options.kind]}if(options.label){options.track.label=options.label}else{options.track.label=options.kinds.join(" and ")+" off"}options.selectable=true;var _this=possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));_this.selected(true);return _this}OffTextTrackMenuItem.prototype.handleTracksChange=OffTextTrackMenuItem.prototype.handleSelectedLanguageChange=return OffTextTrackMenuItem}(TextTrackMenuItem);Component.registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem);var TextTrackButton=TrackButton);Component.registerComponent("TextTrackButton",TextTrackButton);var ChaptersTrackMenuItem=MenuItem);Component.registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem);var ChaptersButton=TextTrackButton);ChaptersButton.prototype.kind_="chapters";ChaptersButton.prototype.controlText_="Chapters";Component.registerComponent("ChaptersButton",ChaptersButton);var DescriptionsButton=TextTrackButton);DescriptionsButton.prototype.kind_="descriptions";DescriptionsButton.prototype.controlText_="Descriptions";Component.registerComponent("DescriptionsButton",DescriptionsButton);var SubtitlesButton=TextTrackButton);SubtitlesButton.prototype.kind_="subtitles";SubtitlesButton.prototype.controlText_="Subtitles";Component.registerComponent("SubtitlesButton",SubtitlesButton);var CaptionSettingsMenuItem=function(_TextTrackMenuItem){inherits(CaptionSettingsMenuItem,_TextTrackMenuItem);function CaptionSettingsMenuItem(player,options){classCallCheck(this,CaptionSettingsMenuItem);options.track={player:player,kind:options.kind,label:options.kind+" settings",selectable:false,default:false,mode:"disabled"};options.selectable=false;options.name="CaptionSettingsMenuItem";var _this=possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));_this.addClass("vjs-texttrack-settings");_this.controlText(", opens "+options.kind+" settings dialog");return _this}CaptionSettingsMenuItem.prototype.handleClick=return CaptionSettingsMenuItem}(TextTrackMenuItem);Component.registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem);var CaptionsButton=TextTrackButton);CaptionsButton.prototype.kind_="captions";CaptionsButton.prototype.controlText_="Captions";Component.registerComponent("CaptionsButton",CaptionsButton);var SubsCapsMenuItem=TextTrackMenuItem);Component.registerComponent("SubsCapsMenuItem",SubsCapsMenuItem);var SubsCapsButton=TextTrackButton);SubsCapsButton.prototype.kinds_=["captions","subtitles"];SubsCapsButton.prototype.controlText_="Subtitles";Component.registerComponent("SubsCapsButton",SubsCapsButton);var AudioTrackMenuItem=MenuItem);Component.registerComponent("AudioTrackMenuItem",AudioTrackMenuItem);var AudioTrackButton=TrackButton);AudioTrackButton.prototype.controlText_="Audio Track";Component.registerComponent("AudioTrackButton",AudioTrackButton);var PlaybackRateMenuItem=MenuItem);PlaybackRateMenuItem.prototype.contentElType="button";Component.registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem);var PlaybackRateMenuButton=MenuButton);PlaybackRateMenuButton.prototype.controlText_="Playback Rate";Component.registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton);var Spacer=Component);Component.registerComponent("Spacer",Spacer);var CustomControlSpacer=Spacer);Component.registerComponent("CustomControlSpacer",CustomControlSpacer);var ControlBar=Component);ControlBar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};Component.registerComponent("ControlBar",ControlBar);var ErrorDisplay=ModalDialog);ErrorDisplay.prototype.options_=mergeOptions(ModalDialog.prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});Component.registerComponent("ErrorDisplay",ErrorDisplay);var LOCAL_STORAGE_KEY="vjs-text-track-settings";var COLOR_BLACK=["#000","Black"];var COLOR_BLUE=["#00F","Blue"];var COLOR_CYAN=["#0FF","Cyan"];var COLOR_GREEN=["#0F0","Green"];var COLOR_MAGENTA=["#F0F","Magenta"];var COLOR_RED=["#F00","Red"];var COLOR_WHITE=["#FFF","White"];var COLOR_YELLOW=["#FF0","Yellow"];var OPACITY_OPAQUE=["1","Opaque"];var OPACITY_SEMI=["0.5","Semi-Transparent"];var OPACITY_TRANS=["0","Transparent"];var selectConfigs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:,textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options; TextTrackSettings=function(_ModalDialog){inherits(TextTrackSettings,_ModalDialog);extTrackSettings.prototype.createElSelect_=function createElSelect_(key){var _this2=this;var legendId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"label";var config=selectConfigs[key];var id=config.id.replace("%s",this.id_);return["<"+type+' id="'+id+'" class="'+(type==="label"?"vjs-label":"")+'">',this.localize(config.label),"</"+type+">",'<select aria-labelledby="'+legendId+" "+id+'">'].concat(config.options.map().concat("</select>").join("")};TextTrackSettings.prototype.createElFgColor_=function createElFgColor_(){var legendId="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+legendId+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",legendId),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",legendId),"</span>","</fieldset>"].join("")};TextTrackSettings.prototype.createElBgColor_=function createElBgColor_(){var legendId="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+legendId+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",legendId),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",legendId),"</span>","</fieldset>"].join("")};TextTrackSettings.prototype.createElWinColor_=TextTrackSettings.prototype.createElColors_=TextTrackSettings.prototype.createElFont_=TextTrackSettings.prototype.createElControls_=TextTrackSettings.prototype.content=TextTrackSettings.prototype.label=function label(){return this.localize("Caption Settings Dialog")};TextTrackSettings.prototype.description=function description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")};TextTrackSettings.prototype.buildCSSClass=TextTrackSettings.prototype.getValues=TextTrackSettings.prototype.setValues=TextTrackSettings.prototype.setDefaults=TextTrackSettings.prototype.restoreSettings=TextTrackSettings.prototype.saveSettings=TextTrackSettings.prototype.updateDisplay=TextTrackSettings.prototype.conditionalBlur_=return TextTrackSettings}(ModalDialog);Component.registerComponent("TextTrackSettings",TextTrackSettings);var _templateObject$2=taggedTemplateLiteralLoose(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);var Html5=function(_Tech){inherits(Html5,_Tech);function Html5(options,ready){classCallCheck(this,Html5);var _this=possibleConstructorReturn(this,_Tech.call(this,options,ready));var source=options.source;var crossoriginTracks=false;if(source&&(_this.el_.currentSrc!==source.src||options.tag&&options.tag.initNetworkState_===3)){_this.setSource(source)}else{_this.handleLateInit_(_this.el_)}if(_this.el_.hasChildNodes()){var nodes=_this.el_.childNodes;var nodesLength=nodes.length;var removeNodes=[];while(nodesLength--){var node=nodes[nodesLength];var nodeName=node.nodeName.toLowerCase();if(nodeName==="track"){if(!_this.featuresNativeTextTracks){removeNodes.push(node)}else{_this.remoteTextTrackEls().addTrackElement_(node);_this.remoteTextTracks().addTrack(node.track);_this.textTracks().addTrack(node.track);if(!crossoriginTracks&&!_this.el_.hasAttribute("crossorigin")&&isCrossOrigin(node.src)){crossoriginTracks=true}}}}for(var i=0;i<removeNodes.length;i++){_this.el_.removeChild(removeNodes[i])}}_this.proxyNativeTracks_();if(_this.featuresNativeTextTracks&&crossoriginTracks){log$1.warn(tsml(_templateObject$2))}_this.restoreMetadataTracksInIOSNativePlayer_();if((TOUCH_ENABLED||IS_IPHONE||IS_NATIVE_ANDROID)&&options.nativeControlsForTouch===true){_this.setControls(true)}_this.proxyWebkitFullscreen_();_this.triggerReady();return _this}Html5.prototype.dispose=Html5.prototype.restoreMetadataTracksInIOSNativePlayer_=Html5.prototype.proxyNativeTracks_=Html5.prototype.createEl=function createEl$$1(){var el=this.options_.tag;if(!el||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(el){var clone=el.cloneNode(true);if(el.parentNode){el.parentNode.insertBefore(clone,el)}Html5.disposeMediaElement(el);el=clone}else{el=document_1.createElement("video");var tagAttributes=this.options_.tag&&getAttributes(this.options_.tag);var attributes=mergeOptions({},tagAttributes);if(!TOUCH_ENABLED||this.options_.nativeControlsForTouch!==true){delete attributes.controls}setAttributes(el,assign(attributes,{id:this.options_.techId,class:"vjs-tech"}))}el.playerId=this.options_.playerId}if(typeof this.options_.preload!=="undefined"){setAttribute(el,"preload",this.options_.preload)}var settingsAttrs=["loop","muted","playsinline","autoplay"];for(var i=settingsAttrs.length-1;i>=0;i--){var attr=settingsAttrs[i];var value=this.options_[attr];if(typeof value!=="undefined"){if(value){setAttribute(el,attr,attr)}else{removeAttribute(el,attr)}el[attr]=value}}return el};Html5.prototype.handleLateInit_=Html5.prototype.setCurrentTime=Html5.prototype.duration=Html5.prototype.width=function width(){return this.el_.offsetWidth};Html5.prototype.height=Html5.prototype.proxyWebkitFullscreen_=Html5.prototype.supportsFullScreen=Html5.prototype.enterFullScreen=Html5.prototype.exitFullScreen=Html5.prototype.src=Html5.prototype.reset=Html5.prototype.currentSrc=Html5.prototype.setControls=Html5.prototype.addTextTrack=Html5.prototype.createRemoteTextTrack=Html5.prototype.addRemoteTextTrack=Html5.prototype.removeRemoteTextTrack=Html5.prototype.getVideoPlaybackQuality=return Html5}(Tech);if(isReal()){Html5.TEST_VID=document_1.createElement("video");var track=document_1.createElement("track");track.kind="captions";track.srclang="en";track.label="English";Html5.TEST_VID.appendChild(track)}Html5.isSupported=Html5.canPlayType=Html5.canPlaySource=function(srcObj,options){return Html5.canPlayType(srcObj.type)};Html5.canControlVolume=Html5.canControlPlaybackRate=Html5.supportsNativeTextTracks=function(){return IS_ANY_SAFARI};Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks)};Html5.supportsNativeAudioTracks=Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];Html5.prototype.featuresVolumeControl=Html5.canControlVolume();Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate();Html5.prototype.movingMediaElementInDOM=!IS_IOS;Html5.prototype.featuresFullscreenResize=true;Html5.prototype.featuresProgressEvents=true;Html5.prototype.featuresTimeupdateEvents=true;Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks();Html5.prototype.featuresNativeVideoTracks=Html5.supportsNativeVideoTracks();Html5.prototype.featuresNativeAudioTracks=Html5.supportsNativeAudioTracks();var canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType;var mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;var mp4RE=/^video\/mp4/i;Html5.patchCanPlayType=Html5.unpatchCanPlayType=Html5.patchCanPlayType();Html5.disposeMediaElement=Html5.resetMediaElement=["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(;["muted","defaultMuted","autoplay","loop","playsinline"].forEach(;["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(;["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(;["pause","load","play"].forEach(;Tech.withSourceHandlers(Html5);Html5.nativeSourceHandler={};Html5.nativeSourceHandler.canPlayType=Html5.nativeSourceHandler.canHandleSource=Html5.nativeSourceHandler.handleSource=Html5.nativeSourceHandler.dispose=function(){};Html5.registerSourceHandler(Html5.nativeSourceHandler);Tech.registerTech("Html5",Html5);var _templateObject$1=taggedTemplateLiteralLoose(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);var TECH_EVENTS_RETRIGGER=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"];var Player=function(_Component){inherits(Player,_Component);layer.prototype.dispose=Player.prototype.createEl=Player.prototype.width=function width(value){return this.dimension("width",value)};Player.prototype.height=Player.prototype.dimension=Player.prototype.fluid=Player.prototype.aspectRatio=Player.prototype.updateStyleEl_=Player.prototype.loadTech_=function loadTech_(techName,source){var _this2=this;if(this.tech_){this.unloadTech_()}var titleTechName=toTitleCase(techName);var camelTechName=techName.charAt(0).toLowerCase()+techName.slice(1);if(titleTechName!=="Html5"&&this.tag){Tech.getTech("Html5").disposeMediaElement(this.tag);this.tag.player=null;this.tag=null}this.techName_=titleTechName;this.isReady_=false;var techOptions={source:source,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+titleTechName+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||false,"vtt.js":this.options_["vtt.js"]};ALL.names.forEach(;assign(techOptions,this.options_[titleTechName]);assign(techOptions,this.options_[camelTechName]);assign(techOptions,this.options_[techName.toLowerCase()]);if(this.tag){techOptions.tag=this.tag}if(source&&source.src===this.cache_.src&&this.cache_.currentTime>0){techOptions.startTime=this.cache_.currentTime}var TechClass=Tech.getTech(techName);if(!TechClass){throw new Error("No Tech named '"+titleTechName+"' exists! '"+titleTechName+"' should be registered using videojs.registerTech()'")}this.tech_=new TechClass(techOptions);this.tech_.ready(bind(this,this.handleTechReady_),true);textTrackConverter.jsonToTextTracks(this.textTracksJson_||[],this.tech_);TECH_EVENTS_RETRIGGER.forEach(;this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"canplay",this.handleTechCanPlay_);this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_);this.on(this.tech_,"playing",this.handleTechPlaying_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"seeked",this.handleTechSeeked_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.usingNativeControls(this.techGet_("controls"));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_()}if(this.tech_.el().parentNode!==this.el()&&(titleTechName!=="Html5"||!this.tag)){prependTo(this.tech_.el(),this.el())}if(this.tag){this.tag.player=null;this.tag=null}};Player.prototype.unloadTech_=Player.prototype.tech=Player.prototype.addTechControlsListeners_=Player.prototype.removeTechControlsListeners_=Player.prototype.handleTechReady_=function handleTechReady_(){this.triggerReady();if(this.cache_.volume){this.techCall_("setVolume",this.cache_.volume)}this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){log$1("deleting tag.poster throws in some browsers",e)}this.play()}};Player.prototype.handleTechLoadStart_=Player.prototype.hasStarted=Player.prototype.handleTechPlay_=Player.prototype.handleTechWaiting_=Player.prototype.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass("vjs-waiting");this.trigger("canplay")};Player.prototype.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};Player.prototype.handleTechPlaying_=function handleTechPlaying_(){this.removeClass("vjs-waiting");this.trigger("playing")};Player.prototype.handleTechSeeking_=function handleTechSeeking_(){this.addClass("vjs-seeking");this.trigger("seeking")};Player.prototype.handleTechSeeked_=Player.prototype.handleTechFirstPlay_=Player.prototype.handleTechPause_=Player.prototype.handleTechEnded_=Player.prototype.handleTechDurationChange_=Player.prototype.handleTechClick_=Player.prototype.handleTechTap_=Player.prototype.handleTechTouchStart_=Player.prototype.handleTechTouchMove_=Player.prototype.handleTechTouchEnd_=Player.prototype.handleFullscreenChange_=Player.prototype.handleStageClick_=Player.prototype.handleTechFullscreenChange_=Player.prototype.handleTechError_=Player.prototype.handleTechTextData_=Player.prototype.getCache=Player.prototype.techCall_=Player.prototype.techGet_=Player.prototype.play=Player.prototype.pause=function pause(){this.techCall_("pause")};Player.prototype.paused=Player.prototype.played=Player.prototype.scrubbing=Player.prototype.currentTime=Player.prototype.duration=Player.prototype.remainingTime=Player.prototype.buffered=Player.prototype.bufferedPercent=Player.prototype.bufferedEnd=Player.prototype.volume=Player.prototype.muted=Player.prototype.defaultMuted=Player.prototype.lastVolume_=Player.prototype.supportsFullScreen=Player.prototype.isFullscreen=function isFullscreen(isFS){if(isFS!==undefined){this.isFullscreen_=!!isFS;return}return!!this.isFullscreen_};Player.prototype.requestFullscreen=Player.prototype.exitFullscreen=Player.prototype.enterFullWindow=Player.prototype.fullWindowOnEscKey=Player.prototype.exitFullWindow=Player.prototype.canPlayType=Player.prototype.selectSource=Player.prototype.src=Player.prototype.src_=function src_(source){var sourceTech=this.selectSource([source]);if(!sourceTech){return true}if(!titleCaseEquals(sourceTech.tech,this.techName_)){this.changingSrc_=true;this.loadTech_(sourceTech.tech,sourceTech.source);return false}this.ready(true);return false};Player.prototype.load=Player.prototype.reset=Player.prototype.currentSources=Player.prototype.currentSource=Player.prototype.currentSrc=function currentSrc(){return this.currentSource()&&this.currentSource().src||""};Player.prototype.currentType=Player.prototype.preload=function preload(value){if(value!==undefined){this.techCall_("setPreload",value);this.options_.preload=value;return}return this.techGet_("preload")};Player.prototype.autoplay=Player.prototype.playsinline=Player.prototype.loop=Player.prototype.poster=Player.prototype.handleTechPosterChange_=Player.prototype.controls=Player.prototype.usingNativeControls=Player.prototype.error=Player.prototype.reportUserActivity=Player.prototype.userActive=Player.prototype.listenForUserActivity_=Player.prototype.playbackRate=Player.prototype.defaultPlaybackRate=Player.prototype.isAudio=Player.prototype.addTextTrack=Player.prototype.addRemoteTextTrack=Player.prototype.removeRemoteTextTrack=Player.prototype.getVideoPlaybackQuality=Player.prototype.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};Player.prototype.videoHeight=Player.prototype.language=Player.prototype.languages=Player.prototype.toJSON=Player.prototype.createModal=Player.getTagSettings=Player.prototype.flexNotSupported_=return Player}(Component);ALL.names.forEach(;Player.players={};var navigator=window_1.navigator;Player.prototype.options_={techOrder:Tech.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};["ended","seeking","seekable","networkState","readyState"].forEach(;TECH_EVENTS_RETRIGGER.forEach(;Component.registerComponent("Player",Player);var BASE_PLUGIN_NAME="plugin";var PLUGIN_CACHE_KEY="activePlugins_";var pluginStorage={};var pluginExists=var getPlugin=var markPluginAsActive=var triggerSetupEvent=var createBasicPlugin=var createPluginFactory=var Plugin=);Plugin.getPlugin=getPlugin;Plugin.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME;Plugin.registerPlugin(BASE_PLUGIN_NAME,Plugin);Player.prototype.usingPlugin=Player.prototype.hasPlugin=var _inherits=var extendFn=if(typeof HTMLVideoElement==="undefined"&&isReal()){document_1.createElement("video");document_1.createElement("audio");document_1.createElement("track")}ideojs.hooks_={};videojs.hooks=videojs.hook=videojs.removeHook=if(window_1.VIDEOJS_NO_DYNAMIC_STYLE!==true&&isReal()){var style=$(".vjs-styles-defaults");if(!style){style=createStyleElement("vjs-styles-defaults");var head=$("head");if(head){head.insertBefore(style,head.firstChild)}setTextContent(style,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}autoSetupTimeout(1,videojs);videojs.VERSION=version;videojs.options=Player.prototype.options_;videojs.getPlayers=videojs.players=Player.players;videojs.getComponent=Component.getComponent;videojs.registerComponent=videojs.getTech=Tech.getTech;videojs.registerTech=Tech.registerTech;videojs.use=use;videojs.browser=browser;videojs.TOUCH_ENABLED=TOUCH_ENABLED;videojs.extend=extendFn;videojs.mergeOptions=mergeOptions;videojs.bind=bind;videojs.registerPlugin=Plugin.registerPlugin;videojs.plugin=videojs.getPlugins=Plugin.getPlugins;videojs.getPlugin=Plugin.getPlugin;videojs.getPluginVersion=Plugin.getPluginVersion;videojs.addLanguage=videojs.log=log$1;videojs.createTimeRange=videojs.createTimeRanges=createTimeRanges;videojs.formatTime=formatTime;videojs.parseUrl=parseUrl;videojs.isCrossOrigin=isCrossOrigin;videojs.EventTarget=EventTarget;videojs.on=on;videojs.one=one;videojs.off=off;videojs.trigger=trigger;videojs.xhr=xhr;videojs.TextTrack=TextTrack;videojs.AudioTrack=AudioTrack;videojs.VideoTrack=VideoTrack;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(;videojs.computedStyle=computedStyle;videojs.dom=Dom;videojs.url=Url;return videojs});
/*!
 * The MIT License (MIT)
 * Copyright (c) Benoit Tremblay trembl.ben@gmail.com and videojs-youtube contributors
 * https://github.com/videojs/videojs-youtube#license
 * This file is highly modified from the original and should be considered
 * a fork by AWS Marketing.
 */
(function(root,factory){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=factory(require("video.js"))}else if(typeof define==="function"&&define.amd){define("awsm-video/vendor/videojs/Youtube",["awsm-video/vendor/videojs/video"],}else{root.Youtube=factory(root.videojs)}})(this,function(videojs){"use strict";var _isOnMobile=videojs.browser.IS_IOS||videojs.browser.IS_ANDROID;var Tech=videojs.getTech("Tech");var Youtube=videojs.extend(Tech,{constructor:dispose:createEl:function(){var div=document.createElement("div");div.setAttribute("id",this.options_.techId);div.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute");div.setAttribute("class","vjs-tech");div.setAttribute("sandbox","allow-scripts allow-same-origin allow-presentation allow-popups");div.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture");var divWrapper=document.createElement("div");divWrapper.appendChild(div);if(!_isOnMobile&&!this.options_.ytControls){var divBlocker=document.createElement("div");divBlocker.setAttribute("class","vjs-iframe-blocker");divBlocker.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%");divBlocker.onclick=bind(this);divWrapper.appendChild(divBlocker)}return divWrapper},initYTPlayer:function(){var playerVars={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!=="undefined"){playerVars.autohide=this.options_.autohide}if(typeof this.options_["cc_load_policy"]!=="undefined"){playerVars["cc_load_policy"]=this.options_["cc_load_policy"]}if(typeof this.options_.ytControls!=="undefined"){playerVars.controls=this.options_.ytControls}if(typeof this.options_.disablekb!=="undefined"){playerVars.disablekb=this.options_.disablekb}if(typeof this.options_.end!=="undefined"){playerVars.end=this.options_.end}if(typeof this.options_.color!=="undefined"){playerVars.color=this.options_.color}if(!playerVars.controls){playerVars.fs=0}else if(typeof this.options_.fs!=="undefined"){playerVars.fs=this.options_.fs}if(typeof this.options_.end!=="undefined"){playerVars.end=this.options_.end}if(typeof this.options_.hl!=="undefined"){playerVars.hl=this.options_.hl}else if(typeof this.options_.language!=="undefined"){playerVars.hl=this.options_.language.substr(0,2)}if(typeof this.options_["iv_load_policy"]!=="undefined"){playerVars["iv_load_policy"]=this.options_["iv_load_policy"]}if(typeof this.options_.list!=="undefined"){playerVars.list=this.options_.list}else if(this.url&&typeof this.url.listId!=="undefined"){playerVars.list=this.url.listId}if(typeof this.options_.listType!=="undefined"){playerVars.listType=this.options_.listType}if(typeof this.options_.modestbranding!=="undefined"){playerVars.modestbranding=this.options_.modestbranding}if(typeof this.options_.playlist!=="undefined"){playerVars.playlist=this.options_.playlist}if(typeof this.options_.playsinline!=="undefined"){playerVars.playsinline=this.options_.playsinline}if(typeof this.options_.rel!=="undefined"){playerVars.rel=this.options_.rel}if(typeof this.options_.showinfo!=="undefined"){playerVars.showinfo=this.options_.showinfo}if(typeof this.options_.start!=="undefined"){playerVars.start=this.options_.start}if(typeof this.options_.theme!=="undefined"){playerVars.theme=this.options_.theme}if(typeof this.options_.customVars!=="undefined"){var customVars=this.options_.customVars;Object.keys(customVars).forEach(}this.activeVideoId=this.url?this.url.videoId:null;this.activeList=playerVars.list;YT=window.YT;var playerConfig={videoId:this.activeVideoId,playerVars:playerVars,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};if(typeof this.options_.enablePrivacyEnhancedMode!=="undefined"&&this.options_.enablePrivacyEnhancedMode){playerConfig.host="https://www.youtube-nocookie.com"}this.ytPlayer=new YT.Player(this.options_.techId,playerConfig)},onPlayerReady:onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:onPlayerVolumeChange:function(){this.trigger("volumechange")},onPlayerError:error:loadVideoById_:function(id){var options={videoId:id};if(this.options_.start){options.startSeconds=this.options_.start}if(this.options_.end){options.endSeconds=this.options_.end}this.ytPlayer.loadVideoById(options)},cueVideoById_:src:poster:setPoster:setSrc:autoplay:function(){return this.options_.autoplay},setAutoplay:function(val){this.options_.autoplay=val},loop:setLoop:play:pause:paused:currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:seeking:seekable:onSeeked:playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:ended:volume:setVolume:muted:setMuted:buffered:preload:function(){},load:function(){},reset:function(){},supportsFullScreen:checkHighResPoster:);Youtube.isSupported=Youtube.canPlaySource=Youtube.canPlayType=Youtube.parseUrl=utube.apiReadyQueue=[];if(typeof document!=="undefined"){apiLoaded()}if(typeof videojs.registerTech!=="undefined"){videojs.registerTech("Youtube",Youtube)}else{videojs.registerComponent("Youtube",Youtube)}});((function(){var define,module,exports;return )({1:[function(require,module,exports){
/**
 * Copyright 2013 vtt.js Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var document=require("global/document");var _objCreate=Object.create||);arsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};ttings.prototype={set:get:has:alt:integer:percent:;r TEXTAREA_ELEMENT=document.createElement&&document.createElement("textarea");var TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"};var DEFAULT_COLOR_CLASS={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"};var TAG_ANNOTATION={v:"title",lang:"lang"};var NEEDS_PARENT={rt:"ruby"};ar strongRTLRanges=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];ction StyleBox(){}StyleBox.prototype.applyStyles=StyleBox.prototype.formatStyle=ueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;oxPosition.prototype.move=BoxPosition.prototype.overlaps=BoxPosition.prototype.overlapsAny=BoxPosition.prototype.within=BoxPosition.prototype.overlapsOppositeAxis=BoxPosition.prototype.intersectPercentage=BoxPosition.prototype.toCSSCompatValues=BoxPosition.getSimpleBoxPosition=unction WebVTT(){}WebVTT.StringDecoder=WebVTT.convertCueToDOMTree=var FONT_SIZE_PERCENT=.05;var FONT_STYLE="sans-serif";var CUE_BACKGROUND_PADDING="1.5%";WebVTT.processCues=WebVTT.Parser=WebVTT.Parser.prototype={reportOrThrowError:parse:flush:;module.exports=WebVTT},{"global/document":5}],2:[function(require,module,exports){
/**
 * Copyright 2013 vtt.js Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var autoKeyword="auto";var directionSetting={"":1,lr:1,rl:1};var alignSetting={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function findDirectionSetting(value){if(typeof value!=="string"){return false}var dir=directionSetting[value.toLowerCase()];return dir?value.toLowerCase():false}function findAlignSetting(value){if(typeof value!=="string"){return false}var align=alignSetting[value.toLowerCase()];return align?value.toLowerCase():false}TTCue.prototype.getCueAsHTML=module.exports=VTTCue},{}],3:[function(require,module,exports){
/**
 * Copyright 2013 vtt.js Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var scrollSetting={"":true,up:true};ule.exports=VTTRegion},{}],4:[{}],5:[{"min-document":4}],6:[{}],7:[{"./vtt.js":1,"./vttcue.js":2,"./vttregion.js":3,"global/window":6}]},{},[7])(7)});define("awsm-video/bundle-for-libra",["awsm-video/vendor/videojs/video","awsm-video/vendor/videojs/Youtube","awsm-video/vendor/vtt.js"],})();
/*!
 * Copyright 2017 YouTube, LLC. All Rights Reserved.
 * Do not use this script. It is hosted for explicit use by AWS.
 */if(!window["YT"]){var YT={loading:0,loaded:0}}if(!window["YTConfig"]){var YTConfig={host:"https://www.youtube.com"}}if(!YT.loading){YT.loading=1;(function(){var l=[];YT.ready=window.onYTReady=YT.setConfig=)()}(function(){var m,aa="function"==typeof Object.defineProperties?Object.defineProperty:ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this; fa="function"==typeof Object.assign?Object.assign:ca("Object.assign",;ca("Promise",function(a){a)return a;c.prototype.b=var e=ba.setTimeout;c.prototype.f=c.prototype.h=c.prototype.g=b.prototype.f=b.prototype.M=b.prototype.L=b.prototype.g=function(f){this.j(2,f)};b.prototype.i=b.prototype.j=b.prototype.o=var h=new c;b.prototype.N=b.prototype.O=b.prototype.then=b.prototype["catch"]=b.prototype.s=b.resolve=d;b.reject=b.race=b.all=function(f){var g=ea(f),k=g.next();return k.done?d([]):new b(function(l,u){ar n=[],v=0;do{n.push(void 0),v++,d(k.value).s(q(n.length-1),u),k=g.next()}while(!k.done)})};return b});var p=this||self;nction ha(){}r y="closure_uid_"+(1e9*Math.random()>>>0),ia=0; la=Date.now||r ma=Array.prototype.indexOf?C=Array.prototype.forEach?rototype.get=prototype.toString=var ta={},sa={},F=new E(sa,"");function G(){this.a="";this.b=ua}var ua={};var va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,Aa=/\x00/g,Ba=/[\x00&<>"']/;var H;a:{var Ca=p.navigator;if(Ca){var Da=Ca.userAgent;if(Da){H=Da;break a}}H=""}ar Ea={};("<!DOCTYPE html>");var K=J("");J("<br>");r Ha;r La=new qa(;Ja.prototype.add=Ja.prototype.remove=a.prototype.set=Ka.prototype.reset=ar L;ar Oa=!1,Pa=new Ja;prototype.f=!1;M.prototype.dispose=M.prototype.B=r Ta=p.JSON.stringify;(N,M);m=N.prototype;m.subscribe=.F=m.I=.clear=m.B=var Wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/; $a=/#|$/;
/*
   Copyright (c) Microsoft Corporation. All rights reserved.
   Licensed under the Apache License, Version 2.0 (the "License"); you may not use
   this file except in compliance with the License. You may obtain a copy of the
   License at http://www.apache.org/licenses/LICENSE-2.0

   THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
   WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
   MERCHANTABLITY OR NON-INFRINGEMENT.

   See the Apache Version 2.0 License for specific language governing permissions
   and limitations under the License.
  */var P=window.yt&&window.yt.config_||window.ytcfg&&window.ytcfg.data_||{};A("yt.config_",P); db=0;A("ytDomDomGetNextId",t("ytDomDomGetNextId")||;var eb={stopImmediatePropagation:1,stopPropagation:1,preventMouseEvent:1,preventManipulation:1,preventDefault:1,layerX:1,layerY:1,screenX:1,screenY:1,scale:1,rotation:1,webkitMovementX:1,webkitMovementY:1};.prototype.preventDefault=function(){this.a&&(this.a.returnValue=!1,this.a.preventDefault&&this.a.preventDefault())};Q.prototype.stopPropagation=function(){this.a&&(this.a.cancelBubble=!0,this.a.stopPropagation&&this.a.stopPropagation())};Q.prototype.stopImmediatePropagation=var D=t("ytEventsEventsListeners")||{};A("ytEventsEventsListeners",D);var fb=t("ytEventsEventsCounter")||{count:0};A("ytEventsEventsCounter",fb);r ib=;r lb={};ar R={},nb=[],O=new N,ob={};=null;.prototype.g==X.prototype;m.setSize=m.P=function(){return this.a};m.J=m.addEventListener=.destroy=m.w=.u=.H=D=function(a){a.id=this.h;a.channel="widget";a=Ta(a);var b=this.b;var c=Xa(this.a.src||"");b=0==c.indexOf("https:")?[c]:b.a?[c.replace("http:","https:")]:b.f?[c]:[c,c.replace("http:","https:")];if(this.a.contentWindow)for(c=0;c<b.length;c++)try{if(this.skipped){this.a.contentWindow.postMessage(a,b[c])}this.skipped=true}catch(d){if(d.name&&"SyntaxError"==d.name)cb(d,"WARNING");else throw d}else console&&console.warn&&console.warn("The YouTube player is not attached to the DOM. API calls should be made after the onReady event. See more: https://developers.google.com/youtube/iframe_api_reference#Events")};,X);=Y.prototype;m.A=function(){return"/embed/"+W(this.b,"videoId")};m.w=m.J=getVideoEmbedCode=m.getOptions=m.getOption=(Z,X);.prototype.A=Z.prototype.w=Z.prototype.u=A("YT.PlayerState.UNSTARTED",-1);A("YT.PlayerState.ENDED",0);A("YT.PlayerState.PLAYING",1);A("YT.PlayerState.PAUSED",2);A("YT.PlayerState.BUFFERING",3);A("YT.PlayerState.CUED",5);A("YT.get",function(a){return R[a]});A("YT.scan",pb);A("YT.subscribe",;A("YT.unsubscribe",;A("YT.Player",Y);A("YT.Thumbnail",Z);X.prototype.destroy=X.prototype.destroy;X.prototype.setSize=X.prototype.setSize;X.prototype.getIframe=X.prototype.P;X.prototype.addEventListener=X.prototype.addEventListener;Y.prototype.getVideoEmbedCode=Y.prototype.getVideoEmbedCode;Y.prototype.getOptions=Y.prototype.getOptions;Y.prototype.getOption=Y.prototype.getOption;nb.push(;nb.push(;"undefined"!=typeof YTConfig&&YTConfig.parsetags&&"onload"!=YTConfig.parsetags||pb();var Fb=t("onYTReady");Fb&&Fb();var Gb=t("onYouTubeIframeAPIReady");Gb&&Gb();var Hb=t("onYouTubePlayerAPIReady");Hb&&Hb()}).call(this);
/*! End: Copyright 2017 YouTube, LLC. All Rights Reserved. */define("libra/components/video",["librastandardlib/obj-utils/mixin","libra/components/modal-mixin","librastandardlib/dom-utils/breakpoint-helper","librastandardlib/logger/logger","librastandardlib/event-utils/polling-registrar","awsm-video/bundle-for-libra"],function(mixin,ModalMixin,BreakpointHelper,Logger,PollingRegistrar,VideoJS){"use strict";var METRIC_PREFIX="awsm_v2_:comp_video_";var YOUTUBE_ENDPOINT="https://www.youtube.com/watch?v=";var CUSTOM_EVENT_NAME="custom_aws_video";var PLAYER_NAME="VideoJS";var Source={YOUTUBE:"youtube",FILE:"file"};var Placement={IN_PLACE:"inPlace",MODAL:"modal"};var Metric={Play:["Play","debug"],Pause:["Pause","debug"],Seek:["Seek","debug"],Complete100Pct:["Complete100Pct","debug"],Complete75Pct:["Complete75Pct","debug"],Complete50Pct:["Complete50Pct","debug"],Complete25Pct:["Complete25Pct","debug"],VideoNotFoundError:["VideoNotFoundError","error"],VideoNotPublicError:["VideoNotPublicError","error"],VideoPlayerReady:["VideoPlayerReady","debug"],Error:["Error","error"]};var youtubeResolutions=["maxresdefault","mqdefault","sddefault","hqdefault"];var defaults={source:Source.YOUTUBE,placement:Placement.IN_PLACE,autoplay:false,videoTitle:"none",videoClass:"lb-video",playerSelector:".vjs-tech",modalSelector:".lb-modal",modalOpenEvent:"custom_lb-modal_after-open",parentSelector:".lb-comp-content-container",parentCloseEvent:"custom_lb_comp-content-container_close",playButtonSelector:".vjs-big-play-button",iFrameBlockerSelector:".vjs-iframe-blocker"};var logger=new Logger("LibraVideo");var instantiationCount=0;var Video=function(elem){this.$elem=$(elem);this.options=$.extend({},defaults,this.$elem.data());this.uid=instantiationCount++;this.id=this.options.videoClass+"-"+this.uid;this.player=null;this.duration=null;this.lastSeekTime=null;this.foundDuration=false;this.isInitialized=false;this.isPlaying=false;this.playerOptions={};this.displayPoster=true;this.isActuallyPlaying=false;this.startTime=this.options.startTime||0;this.modalTriggerElem='<a href="#" id="modal-'+this.id+'-trigger" role="button" aria-controls="'+this.id+'" data-mbox-ignore="true" data-lb-modal-trigger="'+this.id+'"></a>';this.isInModal=false;if(this.options.placement===Placement.MODAL){if(BreakpointHelper.isXlargeUp()){this.$elem.children("figure").wrap(this.modalTriggerElem);this.$modal=this.$elem.find(this.options.modalSelector).first().attr("data-lb-modal-id",this.id);this.$modal=this.$elem.find(this.options.modalSelector).first().attr("aria-labelledby","modal-"+this.id+"-trigger");var modal=mixin({$elem:this.$modal},ModalMixin);modal.initModal()}else{this.options.placement=Placement.IN_PLACE}}this.calledEvents={};if(this.options.source===Source.YOUTUBE){this.$video=this.$elem.find(".video-js");this.videoUrl=YOUTUBE_ENDPOINT+this.options.youtubeId}else{this.$video=this.$elem.find("video");this.videoUrl=this.$video.find("source").attr("src")}var observer;if(typeof MutationObserver==="function"){observer=new MutationObserver(bind(this));observer.observe(this.$video[0],{attributes:true})}this.$video.attr("id",this.id);if(this.options.placement===Placement.IN_PLACE){this.$video.attr("controls","true")}if(observer===undefined){this.setVideo()}};Video.prototype={setVideo:function(){if($("#"+this.id).length>0){this.setPlayerOptions();var $modalParents=this.$elem.parents(this.options.modalSelector);if($modalParents.length){this.$modalParent=$modalParents.first();this.initOnModalParentActivation()}else{this.init()}}},init:function(){this.isInitialized=true;var that=this;try{this.player=new VideoJS(this.id,this.playerOptions,}catch(ex){this.onError(ex)}},initOnModalParentActivation:function(){this.$modalParent.on(this.options.modalOpenEvent,function(){if(!this.isInitialized){this.playerOptions.autoplay=true;this.isInModal=true;this.init()}else{this.player.play()}}.bind(this))},setPlayerOptions:function(){if(this.options.autoplay){this.playerOptions.autoplay=this.options.autoplay}if(this.options.source===Source.YOUTUBE){this.playerOptions.techOrder=[Source.YOUTUBE];this.playerOptions.sources=[{type:"video/youtube",src:this.videoUrl}];this.playerOptions.youtube={rel:0,enablePrivacyEnhancedMode:true};if(this.options.startTime){this.playerOptions.youtube.start=this.options.startTime}if(this.options.endTime){this.playerOptions.youtube.end=this.options.endTime}}},setIframeTitle:function(){if(this.$elem.find("iframe").length>0){this.$elem.find("iframe")[0].title=this.options.videoTitle}},onPlayerReady:function(player){this.$elem.find(this.options.playerSelector).css("opacity",1);this.$elem.find("iframe").attr("tabindex","-1");this.$elem.find("iframe").attr("spellcheck","false");this.setPosterElement();this.setIframeTitle();this.addCaptionsToVideo(player);if(this.options.placement===Placement.IN_PLACE){logger.debug(METRIC_PREFIX+Metric.VideoPlayerReady[0],"AI",{value:logger.getElapsedTimeSincePageLoad(),units:"ms"});player.on("play",this.onPlay.bind(this));player.on("pause",this.onPause.bind(this));player.on("seeking",this.onSeek.bind(this));player.on("ended",this.onComplete.bind(this));player.on("error",this.onError.bind(this));player.on("timeupdate",this.onTimeUpdate.bind(this));if(player.autoplay()){this.isPlaying=true;player.play()}var $parents=this.$elem.parents(this.options.parentSelector);$parents.each(bind(this))}},addCaptionsToVideo:function(player){var captionSource=this.$elem.find("[data-vid-caption-src]").data("vid-caption-src");if(captionSource){var captionOptions={kind:"captions",label:"captions on",src:captionSource};player.addRemoteTextTrack(captionOptions,false);var tracks=player.remoteTextTracks();for(var i=0;i<tracks.length;i++){var track=tracks[i];if(track.kind==="captions"){track.mode="showing"}}}},bindParentCloseEvent:function(player,parentElem){$(parentElem).on(this.options.parentCloseEvent,function(event){if(this.isPlaying){player.pause();if(this.isInModal){player.currentTime(this.startTime)}logger.debug("Parent closed, video paused",event.target)}}.bind(this))},setPosterElement:function(){this.$playBtn=this.$elem.find(this.options.playButtonSelector);this.$iFrameBlocker=this.$elem.find(this.options.iFrameBlockerSelector);if(this.$iFrameBlocker.length===0){this.$iFrameBlocker=$('<div class="vjs-iframe-blocker"></div>');this.$elem.find("iframe").parent().append(this.$iFrameBlocker)}this.$iFrameBlocker.addClass("lb-video-bg-overlay");if(this.player.poster_&&this.player.poster_!=="/"){this.posterImgUrl=this.player.poster_}else{this.getPosterUrl(0)}},setPosterDisplaySettings:function(displayPoster){if(displayPoster&&this.posterImgUrl){this.$iFrameBlocker.css("background-image",'url("'+this.posterImgUrl+'")')}$.each([this.$iFrameBlocker,this.$playBtn],function(idx,value){$(value).css("display",displayPoster?"block":"none")});this.$iFrameBlocker.css("opacity",displayPoster?1:0);this.$playBtn.css("opacity",displayPoster?.6:0);this.$elem.find(this.options.playerSelector).css("opacity",displayPoster?0:1)},getPosterUrl:function(idx){if(idx>=youtubeResolutions.length){return}var uri="https://img.youtube.com/vi/"+this.options.youtubeId+"/"+youtubeResolutions[idx]+".jpg";var image=new Image;image.onload=function(){if(image.naturalWidth===120||image.naturalHeight===90){this.getPosterUrl(idx+1);return}this.posterImgUrl=uri}.bind(this);image.src=uri},onPlay:function(){this.$elem.find("iframe").attr("tabindex","0");var cb=bind(this);if(this.foundDuration){cb()}else{PollingRegistrar.register(bind(this),cb,cb,500,100)}if(this.isComplete){if(this.isActuallyPlaying){this.setPosterDisplaySettings(!this.displayPoster);this.isComplete=false}else{this.isActuallyPlaying=true}}else{this.setPosterDisplaySettings(!this.displayPoster)}this.logMetricOnce(Metric.Play)},onPause:function(){this.isPlaying=false;this.setPosterDisplaySettings(!this.displayPoster);this.sendCustomEvent(Metric.Pause)},onSeek:function(){var currentTime=Math.round(this.player.currentTime());if(this.lastSeekTime!==null&&currentTime===this.lastSeekTime){return}this.lastSeekTime=currentTime;this.setPosterDisplaySettings(!this.displayPoster);this.sendCustomEvent(Metric.Seek)},onComplete:function(){this.isPlaying=false;this.isComplete=true;this.isActuallyPlaying=false;this.sendCustomEvent(Metric.Complete100Pct);this.setPosterDisplaySettings(this.displayPoster);this.logMetricOnce(Metric.Complete100Pct)},onTimeUpdate:function(){if(!this.foundDuration&&!this.resolveDuration()){return}var currentTime=this.player.currentTime();if(currentTime>=this.duration*.75){this.logMetricOnce(Metric.Complete75Pct)}if(currentTime>=this.duration*.5){this.logMetricOnce(Metric.Complete50Pct)}if(currentTime>=this.duration*.25){this.logMetricOnce(Metric.Complete25Pct)}},onError:function(e,ex){if(this.hasCalledEvent(Metric.Error)){return}this.addToCalledEvents(Metric.Error);this.isPlaying=false;var err;var msg="";var metric;if(ex){msg=ex.toString();metric=Metric.Error}else if(this.player.error()){err=this.player.error();msg=err.message+"; "+err.code;switch(err.code){case 1002:case 1100:case 4:metric=Metric.VideoNotFoundError;break;case 1150:metric=Metric.VideoNotPublicError;break;default:metric=Metric.Error}}if(msg){msg+="; "+this.videoUrl;logger.error(msg,"RAW")}this.logMetric(metric)},resolveDuration:function(){if(!this.foundDuration){var duration=this.player.duration();if(!(isNaN(duration)||duration===0)){this.foundDuration=true;this.duration=duration}}return this.foundDuration},hasCalledEvent:function(e){return e[0]in this.calledEvents},addToCalledEvents:function(e){this.calledEvents[e[0]]=null},logMetricOnce:function(metric){if(!this.hasCalledEvent(Metric.Error)){this.logMetric(metric);this.addToCalledEvents(Metric.Error)}},logMetric:function(metric){logger[metric[1]](METRIC_PREFIX+metric[0],"AI")},
// Emits custom events for analytics listeners
sendCustomEvent:function(metric){var evt={name:metric[0],playerName:PLAYER_NAME,videoUrl:this.videoUrl,videoTitle:this.options.videoTitle,time:Math.round(this.player.currentTime()),duration:Math.round(this.duration)};var e;if(typeof window.CustomEvent==="function"){e=new CustomEvent(CUSTOM_EVENT_NAME,{detail:evt})}else{e=document.createEvent("CustomEvent");e.initCustomEvent(CUSTOM_EVENT_NAME,false,false,evt)}document.dispatchEvent(e)}};Libra.Comp.register({name:"video",initFct:initTime:"immediate"});return Video})})();