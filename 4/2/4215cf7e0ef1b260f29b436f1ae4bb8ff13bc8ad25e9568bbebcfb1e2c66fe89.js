(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1040:function(t,e,r){"use strict";r.d(e,"m",(function(){return l})),r.d(e,"l",(function(){return f})),r.d(e,"x",(function(){return d})),r.d(e,"v",(function(){return p})),r.d(e,"p",(function(){return h})),r.d(e,"q",(function(){return v})),r.d(e,"r",(function(){return g})),r.d(e,"s",(function(){return y})),r.d(e,"h",(function(){return m})),r.d(e,"j",(function(){return b})),r.d(e,"w",(function(){return I})),r.d(e,"c",(function(){return w})),r.d(e,"t",(function(){return C})),r.d(e,"d",(function(){return T})),r.d(e,"e",(function(){return S})),r.d(e,"f",(function(){return k})),r.d(e,"k",(function(){return O})),r.d(e,"y",(function(){return P})),r.d(e,"u",(function(){return L})),r.d(e,"a",(function(){return x})),r.d(e,"z",(function(){return _})),r.d(e,"o",(function(){return A})),r.d(e,"n",(function(){return E})),r.d(e,"i",(function(){return D})),r.d(e,"b",(function(){return j})),r.d(e,"g",(function(){return R}));var n=r(1099),i=r(1057),o=r(1490),a=r(1046);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,u=[],c=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=f=l,d={"en-XX":"www","en-GB":"uk","zh-TW":"tw"},p={ctrip:Object(o.a)({}),trip:Object(o.a)({isInTrip:!0})},h=function(t){try{if(isNaN(+t))return;return t*(window.innerWidth/750)}catch(e){return t}},v=function(t){var e=Number(t);return Number.isNaN(e)?"0rem":"".concat(e/100,"rem")},g=function(t){var e=Number(t);return Number.isNaN(e)?0:e/100},y=function(t){return"string"===typeof t&&t.indexOf("rem")>0&&(t=Number.parseFloat(t.slice(0,-3))||0),t*(!0&&parseInt("function"===typeof getComputedStyle&&getComputedStyle(document.documentElement).fontSize)||44)||0},m=function(t){if([null,void 0,NaN].includes(t))return t;try{var e=Number(t);return("object"===("undefined"===typeof window?"undefined":s(window))?window.innerWidth:375)/750*e}catch(r){return.5*Number(t)}},b=function(t){var e=(t||{}).subenv;return void 0===e?"fat95":e},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(!t)return r;try{r=JSON.parse(t)}catch(n){}finally{return r}},w=function(t){var e="";try{e=C(t,"")}catch(r){}return e},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!t)return e;if("string"===typeof t)return JSON.parse(t);if("object"===s(t))return t}catch(r){return e}},T=function(t){var e=t.floorList,r=t.globalConfig,i=r.recommendDistrictId,o=r.destTraceBack,a=r.recommendDistrictName,u=e.find(();if(u){var c=u.templateConfig,s=c.destTraceBack,l=c.recommendDistrictId,f=c.destinationTraceBack,d=c.recommendDistrictName,p="1"===s||"1"===f;return{destTraceBack:"1"===o||p?"1":"0",recommendDistrictId:p?l:i,recommendDistrictName:p?d:a}}return{recommendDistrictId:i,destTraceBack:o,recommendDistrictName:a}},S=function(t){try{var e=(t=(t+="").split("?")[0]).match(/\/(\w+\.(?:png|jpg|gif|bmp|webp))$/i);if(e)return u(e||[],2)[1]}catch(r){}return t};ar O=function(t){return f(null===t||void 0===t?void 0:t.exchangedDistrictId)||0==(null===t||void 0===t?void 0:t.exchangedDistrictId)},P=function(t,e){try{return e[t.replace(/^key\.tour\.tangram\./,"")]}catch(r){return""}},L=function(t){var e,r=t.boundId,n=t.floorList.find((function(t){return t.floorId==r}));return 1==((null===n||void 0===n||null===(e=n.templateConfig)||void 0===e?void 0:e.skeletonPlaceholder)||0)},x=new Map,_=function(t,e){if(t){var r=t.validatedValue,n=void 0===r?[]:r,i=t.type;if("number"===i){var o=u(n,2),a=o[0],c=o[1];return null===a&&(a=-1/0),null===c&&(c=1/0),e>a&&e<=c}if("string"===i)return n.includes(e)}return!0},A=function(t){try{var e=t.store.getState(),r=e.isSSR,n=e.realPageId;if(!r)return;var i=(new Date).getTime()-(t.clientStartRenderTime||0);setTimeout((function(){var e,r=(null===(e=window)||void 0===e?void 0:e.__SSRRENDERDIFFTIME__)||{},o=r.SSRTotalTime,u=r.SSRGetPageTime,c=r.SSRViewRenderTime,s=r.BeforeGetPageTime,l=r.getTripAGCDataTime;t.logMetricTrace("o_tangram_ssr_render_time",o,{desc:a.Rc,pageId:n}),t.logMetricTrace("o_tangram_ssr_getpage_time",u,{desc:a.Qc,pageId:n}),t.logMetricTrace("o_tangram_ssr_view_render_time",c,{desc:a.Sc,pageId:n}),t.logMetricTrace("o_tangram_ssr_before_getpage_time",s,{desc:a.Pc,pageId:n}),t.logMetricTrace("o_tangram_client_first_render_time",i,{desc:a.B,pageId:n}),l&&t.logMetricTrace("o_tangram_trip_agctime_test",l,{desc:a.Ab,pageId:n})}),2500)}catch(o){}},E=function(t,e){var r=e.hasNetwork,n=e.isEmptyResponse,o=e.activityStatus;r||t.logMetricTrace("o_tangram_empty_no_network",1,{desc:a.rc}),n&&t.logMetricTrace("o_tangram_empty_error",1,{desc:a.qc}),o!==i.a.VALID&&t.logMetricTrace("o_tangram_empty_no_result",1,{desc:a.sc})},N={Country:"POICOUNTRY",Province:"POIPROVINCE",City:"POICITY",SightZone:"POISCENIC"},D=function(t){var e=t.districtId,r=t.destinationCityId,n=t.departureCityId,i=t.districtType;if(O(t)){if(n)return{siteId:n,siteType:"HTLCITY"}}else{if(e)return{siteId:e,siteType:i?N[i]:void 0};if(r)return{siteId:r,siteType:"HTLCITY"}}return{}},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((,{})},R=function(t){var e=t.context,r=t.cookie;return{isSSR:t.SSR,rem:100,env:e.env,req:e.req,res:e.res,cookie:r.bind(t)}}},1043:function(t,e,r){"use strict";r.d(e,"fb",(function(){return x})),r.d(e,"ob",(function(){return _})),r.d(e,"U",(function(){return A})),r.d(e,"E",(function(){return D})),r.d(e,"eb",(function(){return j})),r.d(e,"R",(function(){return U})),r.d(e,"pb",(function(){return F})),r.d(e,"mb",(function(){return G})),r.d(e,"S",(function(){return M})),r.d(e,"w",(function(){return H})),r.d(e,"I",(function(){return B})),r.d(e,"p",(function(){return q})),r.d(e,"m",(function(){return V})),r.d(e,"f",(function(){return W})),r.d(e,"H",(function(){return Q})),r.d(e,"nb",(function(){return g})),r.d(e,"z",(function(){return z})),r.d(e,"i",(function(){return $})),r.d(e,"Ab",(function(){return Z})),r.d(e,"A",(function(){return X})),r.d(e,"s",(function(){return tt})),r.d(e,"r",(function(){return et})),r.d(e,"q",(function(){return rt})),r.d(e,"j",(function(){return nt})),r.d(e,"k",(function(){return it})),r.d(e,"M",(function(){return at})),r.d(e,"o",(function(){return ut})),r.d(e,"Cb",(function(){return ct})),r.d(e,"V",(function(){return st})),r.d(e,"T",(function(){return lt})),r.d(e,"K",(function(){return ft})),r.d(e,"N",(function(){return dt})),r.d(e,"C",(function(){return pt})),r.d(e,"t",(function(){return ht})),r.d(e,"L",(function(){return vt})),r.d(e,"v",(function(){return yt})),r.d(e,"qb",(function(){return mt})),r.d(e,"c",(function(){return bt})),r.d(e,"Bb",(function(){return It})),r.d(e,"F",(function(){return wt})),r.d(e,"ub",(function(){return Ct})),r.d(e,"J",(function(){return Tt})),r.d(e,"x",(function(){return St})),r.d(e,"B",(function(){return kt})),r.d(e,"G",(function(){return Ot})),r.d(e,"n",(function(){return Pt})),r.d(e,"bb",(function(){return Lt})),r.d(e,"cb",(function(){return xt})),r.d(e,"hb",(function(){return _t})),r.d(e,"ib",(function(){return At})),r.d(e,"vb",(function(){return Et})),r.d(e,"X",(function(){return Nt})),r.d(e,"Y",(function(){return Dt})),r.d(e,"Z",(function(){return jt})),r.d(e,"db",(function(){return Rt})),r.d(e,"wb",(function(){return Ft})),r.d(e,"d",(function(){return Mt})),r.d(e,"P",(function(){return Ht})),r.d(e,"Q",(function(){return Bt})),r.d(e,"h",(function(){return qt})),r.d(e,"g",(function(){return Vt})),r.d(e,"yb",(function(){return Wt})),r.d(e,"O",(function(){return Qt})),r.d(e,"y",(function(){return Yt})),r.d(e,"D",(function(){return Kt})),r.d(e,"zb",(function(){return Jt})),r.d(e,"tb",(function(){return $t})),r.d(e,"lb",(function(){return Zt})),r.d(e,"rb",(function(){return Xt})),r.d(e,"b",(function(){return ne})),r.d(e,"sb",(function(){return ie})),r.d(e,"gb",(function(){return oe})),r.d(e,"l",(function(){return ae})),r.d(e,"kb",(function(){return ue})),r.d(e,"e",(function(){return ce})),r.d(e,"jb",(function(){return se})),r.d(e,"ab",(function(){return le})),r.d(e,"W",(function(){return fe})),r.d(e,"u",(function(){return de})),r.d(e,"a",(function(){return pe})),r.d(e,"xb",(function(){return he}));var n=r(1095),i=r.n(n),o=r(1853),a=r.n(o),u=r(1111),c=r.n(u),s=r(167),l=r.n(s),f=r(1052),d=r(1040),p=r(1046),h=r(1099),v=r(1628);function g(t){var e=t.globalFloors,r=t.normalFloors,n=t.qConfigPageConfig,i=t.pageId,o=yt(r),a=rt(o),u=a.cityList,c=a.adjustedDepartureCityId,s=et(o),l=tt(o),f=yt(e),d=nt(f,1),p=it(f,1),g=nt(o,17)||{},y=X(o),m=y.includes(h.a.BottomNavigation),b=y.includes(h.a.NearByStore),I=y.includes(h.a.CountDown),w=y.includes(h.a.DestinationList),C=z(o)||[],T=mt(o,n,i)||[];return{floorList:T=Object(v.a)(T),globalConfig:d,departSearchConfig:g,cityList:u,adjustedDepartureCityId:c,adjustedDistrictId:l,headerMeta:p,hasNearbyStore:b,hasCountDown:I,hasDistrict:w,countDownState:C,destinationCityList:s,showGap:m,pageCategoryList:y}}var y=["templateConfig"],m=["finished","token"];function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,u=[],c=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function w(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?C(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=O(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function O(t,e){if(t){if("string"===typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var x="undefined"!==typeof window;function _(t){var e={};return Object.keys(t).filter((function(t){return t.startsWith("key.")})).map((function(r){var n={};n[r.replace(/^key\.tour\.tangram\./,"")]=t[r],Object.assign(e,n)})),e}function A(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,r=e.shareTitle,n=void 0===r?"share":r,i=e.customIcon,o=void 0===i?"https://pages.c-ctrip.com/groupTravelUED/markrt_mb/h5/trip_share_icon.png":i,a=e.currency,u=void 0===a?"USD":a,c=e.supportPicWithText,s=void 0!==c&&c,l="https://pic.c-ctrip.com/VacationH5Pic/tangram/service_black.png",f="IMCode",d="trip_im",p=t?N(l,d,f):E(l,d,f),h="https://pages.c-ctrip.com/groupTravelUED/markrt_mb/h5/trip_share_icon.png",v="trip_share",g=t?N(h,v,n):E(h,v,n),y="https://pic.c-ctrip.com/VacationH5Pic/tangram/currency1.png",m="https://pages.c-ctrip.com/groupTravelUED/markrt_mb/h5/trip_currency_icon.png";s&&(m=y);var b="trip_currency",I=u,w=t?N(m,b,I,s):E(m,b,I,s),C="custom",T="trip_custom",S=t?N(o,T,C):E(o,T,C);return{IMItem:p,shareItem:g,currencyItem:w,customItem:S}}function E(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{icon:t,title:r,action:e,showTitle:n}}function N(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={tagname:e,icon:t};return n&&(i.title=r),i}function D(t){var e=t.minDistance,r=t.isSameCity,n=p.K;if(!r)return n;var i=1e3*e;return r&&c()(i)&&i>0&&(i>0&&i<100?n=p.gb:i>=100&&i<1e3?n="\u6700\u8fd1\u8ddd\u60a8".concat(Math.floor(i),"m"):i>=1e3&&(n="\u6700\u8fd1\u8ddd\u60a8".concat(Math.floor(10*e)/10,"km"))),n}nction U(t){var e=t.templateConfig,r=t.subFloors,n=e.subFloor,i=[],o=[],u={},c=!1;try{u=a()(r,"groupId");var s,l=k(i=Object(d.t)(n,[]));try{var f=function(){var t=s.value,e=t.groupId,r=u[e]||[],n=t.isAutoHide,i=void 0!==n&&n;"T"===i&&(i=!0),"F"===i&&(i=!1),r=r.map((),t.subFloorList=r,o.push(r)};for(l.s();!(s=l.n()).done;)f()}catch(p){l.e(p)}finally{l.f()}}catch(p){}return R(i)&&R(o)&&(c=!0),{subTabList:i,isValid:c,groupedSubList:o}}function F(t){return t.destinationIdList?T(T({},t),{},{destinationIdList:JSON.stringify(t.destinationIdList)}):t}function G(t){var e,r={},n=!1;try{var i=e=Object(d.t)(t,{}),o=i.customerServType,a=void 0===o?[]:o,u=i.IMValue,c=void 0===u?{}:u;if(a.includes("IM")){var s=c.IMCode,l=c.destinationID,f=c.productID,p=c.saleScene,h=void 0===p?"0":p,v=c.noLogin,g=void 0===v?"1":v;n=1===a.length,r.IMCode=s,r.isPreSale=h,Rt(f)&&(r.productId=f),Rt(l)&&(r.destinationIdList=l.split()),"1"===g&&(r.isFreeLogin="1")}}catch(y){}finally{return{IMParams:r,onlyIM:n,customerServiceInfo:e}}}function M(t){return t?{opacity:1,height:"auto",overflow:""}:{opacity:0,height:0,overflow:"hidden",display:"none"}}function H(t){var e=t.floorList,r=t.floorId,n=t.tokenContentList,i=e;try{i=e.map((function(t){return t.floorId!==r?t:T(T({},t),{},{tokenContentList:n})}))}catch(o){}finally{return i}}function B(t){var e=t.tokenList,r=t.tokenContentList,n=t.tokenTabList,i=r.map((function(t){for(var e=t,r=0;r<n.length;r++)return le(t.searchKey)||t.searchKey!==n[r].searchKey||(e.token=n[r].token),e})).filter((function(t){return e.includes(t.token)})),o=i.map((function(t){return t.token}));return{prefetchedContentList:i,leftTokenList:e.filter(()}}function q(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.length>1)t=p.ac;else if(1===r.length){var n=r[0],i=n.cityId,o=n.cityName;t=o,e=i}return{displayedCityName:t,departCityId:e}}function V(t){var e=t.templateConfig,r=t.promotionInfoList;try{var n,i=e.couponInfoList,o=Object(d.t)(i,[]),a=[],u=k(r);try{for(u.s();!(n=u.n()).done;){var c,s=n.value,l={},f=k(o);try{for(f.s();!(c=f.n()).done;){var p=c.value;s.promotionId==p.promotionIdList[0]&&(l=T(T({},s),p))}}catch(h){f.e(h)}finally{f.f()}a.push(l)}}catch(h){u.e(h)}finally{u.f()}return a}catch(h){return[]}}function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.latitude,n=e.longitude,i=e.geoType,o=2,a=p.Q,u=2,c=p.Q,s=!1,l=t=Gt(t),f=l.departureCityId,d=l.departureCityName,h=l.districtId,v=l.districtName;return Rt(f)&&d&&(s=!0,o=Number(f),a=d),Rt(h)&&v&&(s=!0,u=Number(h),c=v),{locatedSuccess:s,latitude:r,longitude:n,departureCityId:o,departureCityName:a,districtId:u,districtName:c,geoType:i}}function Q(t){var e="",r=t.productSource,n=t.productCategoryId,i=t.productPatternId;e=[2,3,4,5,9].includes(r)&&{2:"tags_tickets",3:"tags_play",4:"tags_cruise",5:"tags_tickets",9:"tags_trafffic"}[r];switch(1===r&&(e={1:"tags_gt",2:"tags_free_trip",3:"tags_private_team",4:"tags_diy_tour",30:"tags_travel_bycar"}[i]),n){case 15:e=1===r&&"tags_visa";break;case 33:case 34:case 41:case 42:e=1===r&&"tags_study_abroad"}return e||"tags_gt"}function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return!(!t||0===t.length)&&(t.filter((function(t){return t.category===e}))||[])}function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t||0===t.length)return[];var e=Y(t,38)||[],r=e.map((function(t){var e=t.templateConfig.remainingTime;return Rt(e)&&Number(e)>0||!1}));return r}function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t||0===t.length)return[];var e=[],r=K(t);e=[].concat(w(e),w(r));var n,i=Y(t,16),o=k(i);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=a.subFloors,c=void 0===u?[]:u,s=K(c);e=[].concat(w(e),w(s))}}catch(l){o.e(l)}finally{o.f()}return e}function J(t,e,r){var n=(Y(t,38)||[]).map(();return 0===n.length?[]:[{type:e,metricIdList:n,MTmetricFloorId:r}]}function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t||0===t.length)return[];try{var e=[],r=J(t,1);e=[].concat(w(e),w(r));var n,i=Y(t,16),o=k(i);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=a.subFloors,c=void 0===u?[]:u,s=a.metricFloorId,l=J(c,2,s);e=[].concat(w(e),w(l))}}catch(f){o.e(f)}finally{o.f()}return e}catch(d){}}function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.map((function(t){if(38!==t.category)return t;var r=e.find((function(e){return e.metricFloorId===t.metricFloorId}));return T(T({},t),{},{templateConfig:r.countDownConfig})}));return r}function X(t){var e,r=[],n=k(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=i.category,a=i.subFloors,u=void 0===a?[]:a;if(16===o&&Array.isArray(u)&&u.length>0){var c,s=k(u);try{for(s.s();!(c=s.n()).done;){var l=c.value.category;r.includes(l)||r.push(l)}}catch(f){s.e(f)}finally{s.f()}}r.includes(o)||r.push(o)}}catch(f){n.e(f)}finally{n.f()}return r}function tt(t){var e;return null===t||void 0===t||null===(e=t.find)||void 0===e||null===(e=e.call(t,(function(t){return"DestinationList"===t.templateName})))||void 0===e||null===(e=e.templateConfig)||void 0===e?void 0:e.adjustedDistrictId}function et(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=nt(t,37)||{},r=e.destinationCityList,n=void 0===r?"":r,i=[];try{Lt(n)&&(i=Object(d.t)(n,[]))}catch(o){}finally{return i}}function rt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=nt(t,4)||{},r=e.departureCityList,n=e.adjustedDepartureCityId;if(!e||i()(e)||!r||!Lt(r))return{cityList:[],adjustedDepartureCityId:n};var o=Object(d.t)(r,{}),a=o.airport,u=void 0===a?[]:a,c=o.noairport,s=void 0===c?[]:c,l=[];return Array.isArray(u)&&(l=l.concat(u)),Array.isArray(s)&&(l=l.concat(s)),{cityList:l,adjustedDepartureCityId:n}}function nt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=t.find((function(t){return t.category===e}));if(!r)return{};var n=r.templateConfig,i=void 0===n?{}:n,o=r.sort,a=T(T({},i),{},{sort:o});return a}function it(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=t.find((function(t){return t.category===e}));if(!r)return{};r.templateConfig;var n=I(r,y);return n}function ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ct(t,"columnKey","columnValue")}function at(t){var e=[],r=[],n=!1;try{var i=t.bindProductGroup,o=t.tabStyle;n=["1","2"].includes(o);var a,u=k(Object(d.t)(i,[]).entries());try{for(u.s();!(a=u.n()).done;){var c=b(a.value,2),s=c[0],l=c[1];if(!n&&s>0)break;var f=l.token,p=l.tabId,h=void 0===p?"":p,v=l.tabName,g=void 0===v?"":v;f&&(e.push(f),r.push({token:f,tabId:h,tabName:g}))}}catch(y){u.e(y)}finally{u.f()}}catch(y){}finally{return{tokenList:e,tokenTabList:r,hasTab:n}}}function ut(t){var e=[],r=[],n=!1;try{var i=t.materialGroup,o=t.tabDisplay;n=["1","2"].includes(o);var a,u=k(Object(d.t)(i,[]).entries());try{for(u.s();!(a=u.n()).done;){var c=b(a.value,2),s=(c[0],c[1]),l=s.token,f=s.tabId,p=void 0===f?"":f,h=s.tabName,v=void 0===h?"":h,g=s.searchKey,y=void 0===g?"":g;l&&(e.push(l),r.push({token:l,tabId:p,tabName:v,searchKey:y}))}}catch(m){u.e(m)}finally{u.f()}}catch(m){}finally{return{tokenList:e,tokenTabList:r,hasTab:n}}}function ct(t,e){var r=!1,n=t.bindProductGroup,i=t.tabStyle,o=void 0===i?"0":i,a=t.productNumberEveryLine,u=t.maxLineNumber;if(Lt(n)&&["1","2","3","4","1000"].includes(a)&&["0","1","2"].includes(o)&&!isNaN(+u)){var c=Object(d.t)(n,[]);c&&Array.isArray(c)&&c.length>0&&c[0].token&&(r=!0)}return r}unction lt(t,e){var r=!1;try{var n=at(t).tokenList,i=void 0===n?[]:n,o=at(e).tokenList,a=void 0===o?[]:o;r=i[0]!==a[0]}catch(u){}return r}function ft(t){var e=t.isMobile,r=t.templateConfig,n=t.tabLength,i=r.moreTab,o=r.moreFloatStyles,a=r.productTitleDisplayLine,u=(r.tabContent,r.showInstallmentPrice),c=r.showPeerPrice,s=r.tagStyle,d=r.productPadding,p=void 0===d?20:d,h=r.productGap,v=r.floorBackgroundColor,g=r.floorBackgroundColorV2,y=r.productBackgroundColor,m=r.productBackgroundColorV2,b=r.productNumberEveryLine,I=r.maxLineNumber,w=r.borderRadius,C=r.tabStyle,T=r.selectedTextColor,S=r.selectedBgColor,k=r.selectedBgColorV2,O=r.unselectedTextColor,P=r.unselectedBgColor,L=r.unselectedBgColorV2,x=r.destinationTagStyle,_=r.departureTag,A=r.productTag,E=r.productCardRounded,N=void 0===E?"":E,D=r.productTitle,j=r.productPrice,R=r.bookButton,U=r.bookButtonImage,F=r.bookButtonText,G=r.bookButtonTextColor,M=r.bookButtonBgColor,H=r.bookButtonBgColorV2,B=r.priceTextColor,q=r.productRecommendationText,V=void 0===q?"0":q,W=n>4,Q=["1","2"].includes(C),Y="1"===C,K="2"===C,z="1"===b,J=e?dt(w):"",$=l()({product_toparea:z||!e,product_midarea:!z||!e}),Z="".concat(Number(p)/100,"rem"),X="".concat(Number(h)/100,"rem"),tt="";tt=e?"0rem ".concat(X):"".concat(p,"px ").concat(p,"px 0 ").concat(p,"px");var et=l()({product_ul_block:e&&z,basefix:!e}),rt=l()({proudct_topcont:z,proudct_midcont:!z}),nt=l()({product_navbox:!e,"product_mid_navbox basefix":!e&&K,navtab_box:e,navtab_box_mid:K,tab_more_than4:W,tab_less_than4:!W&&Y,tab_less_equal4:!W&&K}),it=W&&Y?"0rem ".concat(X):"",ot=W&&Y&&X,at="";e&&Y&&(at=W?"0rem 0rem 0.1rem 0rem":"0rem ".concat(X," 0.1rem ").concat(X));var ut=Y?X:"",ct=Z,st=z?"":Z;e||(st=z?"":Number(p));var lt=z?1180-2*+p:(1180-5*+p)/4,ft=e?Z:Number(p),pt=z&&e?Z:"",ht=l()({pro_toppic:e&&z,pro_midpic:e&&!z,left_img:!e&&z,pro_img:!e&&!z}),vt=l()({pro_toppic_imgbox:e&&z,pro_midpic_imgbox:e&&!z,left_img_box:!e&&z,pro_img_box:!e&&!z}),gt="1"===x,yt="1"===_,mt="1"===A,bt=e?"".concat(Number(N)/100,"rem"):+N,It="1"===V,wt=["1","2"].includes(j),Ct="1"===j,Tt=["1","2"].includes(c),St="1"===c,kt=["1","2"].includes(u)&&wt,Ot="1"===u,Pt="1"===D,Lt=l()({pro_content:e||z,"promid_content basefix":!e&&!z}),xt=l()({proinfo_flexbox:e&&z,pro_info_box:e&&!z,proinfo_item:!e&&z,proinfo_miditem:!e&&!z}),_t=l()({single_line_title:"1"===a}),At="";"1"===R?At=z?"inlineText":"blockText":"2"===R&&(At="image");var Et="1"===i,Nt="1"===o,Dt="0rem";J&&J.length>0&&(Dt=J.split(" ")[1]);var jt=Object(f.b)(g,v).firstColor;return{isMobile:e,singleLine:z,maxLineNumber:I,hasTab:Q,productGap:h,floorBackgroundColor:v,floorBackgroundColorV2:g,firstfloorBgColor:jt,productBackgroundColor:y,productBackgroundColorV2:m,wrapperClass:$,wrapperPadding:tt,productUlClass:et,productContentClass:rt,floorRadius:J,tagStyle:s,ulMarginTop:ct,tabNavClass:nt,tabUlPadding:it,firstRoundTabMarginLeft:ot,tabScrollerPadding:at,roundTabMarginRight:ut,isRoundTab:Y,isAngleTab:K,selectedTextColor:T,selectedBgColor:S,selectedBgColorV2:k,unselectedTextColor:O,unselectedBgColor:P,unselectedBgColorV2:L,tabStyle:C,tabLength:n,firstItemMarginRight:st,productWidth:lt,imgClass:ht,imgDivClass:vt,itemClass:xt,itemMarginTop:pt,itemMarginBottom:ft,shouldShowDest:gt,shouldShowDepart:yt,shouldShowPMRec:It,shouldShowProductTag:mt,productBorderRadius:bt,shouldShowPrice:wt,shouldShowMoneyTag:Ct,shouldShowProductTitle:Pt,priceWrapperClass:Lt,priceTextColor:B,bookButtonTextColor:G,bookButtonBgColor:M,bookButtonBgColorV2:H,bookButtonText:F,bookButtonImage:U,bookBtnMode:At,showTabArrow:Et,arrowStyle:{borderRadius:"0rem ".concat(Dt," 0rem 0rem"),borderColor:S,color:Nt?"#fff":"#333",background:jt},expandTabBoxStyle:{borderColor:S,background:jt},titleClass:_t,shouldShowTradePrice:Tt,shouldShowTradeMoneyTag:St,shouldShowInstallmentPrice:kt,shouldShowInstallmentMoneyTag:Ot}}function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="";try{var n=Object(d.t)(t,[]).map((function(t){return Number(t)*e/100+"rem"}));r=n.join(" ")}catch(i){}return r}function pt(t){var e="";try{var r=Object(d.t)(t,[]);r.push(r.shift()),e=r.map((function(t){return Number(t)/100+"rem"})).join(" ")}catch(n){}return e}function ht(t){var e=t.isCurrent,r=t.productConfig,n=r.selectedTextColor,i=r.unselectedTextColor,o=r.selectedBgColor,a=r.unselectedBgColor,u=r.selectedBgColorV2,c=r.unselectedBgColorV2,s=Object(f.b)(u,o).color,l=Object(f.b)(c,a).color;return{color:e?n:i,background:e?s:l}}function vt(t){var e=t.isCurrent,r=t.productConfig,n=t.isMobile,i=void 0!==n&&n,o=t.index,a=void 0===o?0:o,u=t.tabLength,c=r.selectedTextColor,s=r.unselectedTextColor,l=r.selectedBgColor,d=r.selectedBgColorV2,p=r.unselectedBgColor,h=r.unselectedBgColorV2,v=r.firstRoundTabMarginLeft,g=r.roundTabMarginRight,y=r.tabMoreThan4,m=Object(f.b)(d,l).color,b=Object(f.b)(h,p).color,I={color:e?c:s,background:e?m:b};return i&&(0===a&&(I.marginLeft=v),a!==u-1||y||(g=""),I.marginRight=g),I}unction yt(t){var e=[],r=h.b.map((function(t){return t.category}));try{var n,i=k(t);try{var o=function(){var t=n.value,i=t.template;if(r.includes(i.category)){if(16===i.category){var o=yt(t.subFloors||[]);i.subFloors=o}var a=h.b.find((function(t){return t.category===i.category})).templateName,u=void 0===a?"":a,c=1==(null===i||void 0===i?void 0:i.compressedVersion)&&(null===i||void 0===i?void 0:i.compressedData)||{},s={boundByFloorId:zt(t.boundByFloorIds),templateName:u,category:i.category,sort:t.sort,floorId:t.floorId,metricFloorId:t.metricFloorId,floorName:t.name||"",templateId:i.templateId,subFloors:i.subFloors||[],groupId:t.groupId||null,templateConfig:i.templateDataList?ot(i.templateDataList):c};(null!==t&&void 0!==t&&t.isFirstScreen||gt(i.category))&&(s.isFirstScreenSSR=!0),e.push(s)}};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}catch(a){}finally{return e}}function mt(t,e,r){var n=t.find((function(t){return t.isFirstScreenSSR}));if(n&&!gt(null===n||void 0===n?void 0:n.category))return t;var i=(e||{}).firstLoadFloor,o=void 0===i?{}:i,a=(null===o||void 0===o?void 0:o.default)||5;o[r]&&(a=o[r]);for(var u=0;u<(null===t||void 0===t?void 0:t.length);u+=1){var c=t[u];if(u>=a||h.a.InfoFlow===(null===c||void 0===c?void 0:c.category))break;c.isFirstScreenSSR=!0,h.a.MultiTabs===(null===c||void 0===c?void 0:c.category)&&c.subFloors.forEach(()}return t}function bt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(0===t.length)return[];r&&!isNaN(r)||(r=t.length);var n=0,i=t.length,o=[],a=[];for(n=0;n<i;n+=e)a=t.slice(n,n+e),o.push(a);return o.slice(0,r)}function It(t,e){var r=!1,n=t.couponInfoList,i=t.couponImageStyle,o=void 0===i?"0":i,a=t.couponStyle,u=t.couponType,c=t.floorBackgroundColor,s=t.token;if(Lt(n)&&["0","1"].includes(u)&&["1","2","3","4"].includes(a)&&["0","1"].includes(o)&&s){r=!0,c&&(r=_t(c));var l=Object(d.t)(n,[]);l.length!==+a&&(r=!1),"0"===u&&(e===+a&&l.length===e||(r=!1))}return r}function wt(t){var e="";return Array.isArray(t)&&t.length>0&&(e=t[0]),e}var Ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";return t.reduce((,{})};function Tt(t){var e=t.sort,r=t.productId,n=t.strProductId,i=t.name,o=t.traceValue;return JSON.stringify(T(T({},o),{},{button:"productcell",button_sort:e,pkgid:r||n,productname:i||""}))}function St(t){var e=t.item,r=t.commonTrace,n=e.templateId,i=e.floorName,o=e.metricFloorId,a=e.sort,u=e.originMetricFloorId,c="".concat(o,"_").concat(a);if(d.a.has(c))return d.a.get(c);var s=T(T({},r),{},{moduleid:n,module_sort:a,floor:i,floorid:u||o});return d.a.set(c,s),s}function kt(t){var e=t.pageId,r=t.localePages,n=t.locale,i={locale:n,pageId:e},o=i;try{Array.isArray(r)&&r.length>0&&(o=r.find((function(t){return t.locale===n}))||i)}catch(a){}finally{return o}}function Ot(t,e){var r=0,n=e.active,i=e.globalFloors,o=void 0===i?[]:i,a=e.normalFloors,u=void 0===a?[]:a,c=e.project,s=void 0===c?{}:c,l=e.ResponseStatus;return t||(r=function(t,e){var r=t.Timestamp,n=void 0===r?"":r;if(!n)return 2;var i=function(t){var e=null;if("string"===typeof t){if(!new RegExp("^/Date[(][-]?[0-9]+[+-][0-9]{4}[)]/$").test(t))return null;e=Number(t.match(/[-]?\d+/g)[0])}return new Date(e)}(n).getTime(),o=e.effectDate,a=e.expireDate,u=0;o>i&&(u=1);i>a&&(u=3);return u}(void 0===l?{}:l,s),n&&s.active&&0!==o.length&&0!==u.length||(r=2)),r}function Pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Code,r=(t.Message,t.TakeCouponList),n=void 0===r?[]:r,i=!1,o=!1,a=[],u="",c="",s=[4,5,6,13,107],l=[1,110,1e3],f=[111,116],d=[2001],h=[114,115,118,119,120,121,122],v=[1,2,14,15,71,102,117,109,112,255],g=s.concat(l);if(0===e)i=!0,u=p.I,c="";else if(1===n.length){var y=n[0],m=y.Code,b=y.Message;f.includes(m)?(i=!0,c=p.w):l.includes(m)?i=!0:s.includes(m)?(o=!0,c=""):c=d.includes(m)?p.v:h.includes(m)?p.a:b||p.dc}else if(n.length>1){o=n.every((function(t){return s.includes(t.Code)})),i=n.every((function(t){return l.includes(t.Code)})),o||(i=n.every(());var I,w=k(n);try{for(w.s();!(I=w.n()).done;){var C=I.value,T=C.Code,S=C.PromotioinId,O=C.PromotionCode;g.includes(T)||a.push({promotioinId:S,promotionCode:O}),h.includes(T)&&(c=p.a),v.includes(T)&&(c=p.dc),f.includes(T)&&(c=p.w)}}catch(P){w.e(P)}finally{w.f()}}return{isTaken:i,isSoldOut:o,errorText:c,successText:u,notTakenList:a}}unction xt(t){return!!t&&(!(!Lt(t)||"string"!==typeof t)&&((null===t||void 0===t?void 0:t.includes("{"))&&(null===t||void 0===t?void 0:t.includes("}"))||(null===t||void 0===t?void 0:t.includes("["))&&(null===t||void 0===t?void 0:t.includes("]"))))}unction At(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"===typeof t&&(t=t.trim()).startsWith("http")}function Et(t){try{var e=return/^#[0-9A-F]{6}$/i.test(t)?t:"#"+e((t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+e(t[2])+e(t[3])}catch(r){}}function Nt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var r;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3==(r=t.substring(1).split("")).length&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]),"rgba("+[(r="0x"+r.join(""))>>16&255,r>>8&255,255&r].join(",")+","+e+")"}catch(n){}}function Dt(t,e){if(!t||!e)return!1;var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=!(r.bottom<=n.top)&&!(r.top>=n.bottom),o=!(r.left>=n.right)&&!(r.right<=n.left);return i&&o&&function(t){return"none"!==getComputedStyle(t).display}(t)&&function(t){return"none"!==getComputedStyle(t).display}(e)}function jt(t){if(!t||"undefined"===typeof window||"undefined"===typeof document)return!1;var e=t.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,i=e.top<r&&e.top+e.height>0,o=e.left<n&&e.left+e.width>0;return i&&o&&t)&&t)}function Rt(t){return!(!t||isNaN(t))}function Ut(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=/\&lt\/script/g;return t.replace(e,"</script")}function Ft(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=/<script\b[^>]*>([\s\S]*?)<\/script>/gm,n=[],i=(e=Ut(e)).replace(r,"");t=r.exec(e);)n.push(t[0]);return[n,i]}function Gt(t){if(Array.isArray(t))return t.map(Gt);if("[object Object]"!==Object.prototype.toString.call(t))return t;var e={};for(var r in t)e[r.charAt(0).toLowerCase()+r.substr(1)]=Gt(t[r]);return e}var Mt=function(t){var e=t.floorBackgroundColor,r=t.floorBackgroundColorV2,n=t.leftRightMargin,i=t.topBottomMargin,o=t.displayStyle,a=t.borderRadius,u=t.picStyle,c=t.showMask,s=t.picTextColor,l=t.tagTextColor,d=t.poiPlay,p=t.playDays,h=t.tagStyle,v=t.customBackgroundColor,g=t.customBackgroundColorV2,y=t.textStyle,m="0"===o,b=dt(a),I=dt(a,2),w=m?"one_line_three":"one_line_four",C="0"===u?"item_square":"",T="0"===c?"item_mask":"",S="0"===y?" txt_align_left":"",k=m&&"0"===d,O=m&&"0"===p,P=k||O?"has_tag_days":"",L=k&&O?"has_top_line":"",x=Object(f.b)(r,e).color,_=Object(f.b)(g,v).color;return{displayStyleClassName:w,picDisplayStyleClassName:C,picMaskClassName:T,wrapperStyle:{background:x,padding:"".concat(i/100,"rem 0")},contentStyle:{padding:"0 ".concat(n/100,"rem")},labelStyle:{background:"1"===h?_:"",color:l},borderRadiusStyle:{borderRadius:b},borderRadiusButtonStyle:{borderRadius:I},textColor:{color:s},tagDayClass:P,topLineClass:L,showPoi:k,showPlayDays:O,toLeft:S,poiBackgroundColor:{background:s},threeALine:m}};function Ht(t){return{type0:"TeamTour",type1:"Cruise",type2:"FreeTour",type32:"Visa",type131:"CampingTrip"}["type".concat(t)]}function Bt(t){return{type0:"S",type1:"P",type2:"R"}["type".concat(t)]}var qt=function(t){return t?Number(t)-60*((new Date).getTimezoneOffset()+480)*1e3:NaN},Vt=function(){var t=(new Date).getTime(),e=60*((new Date).getTimezoneOffset()+480)*1e3;return new Date(t+e)},Wt=function(t){return!(!t||!/^[0-9]*$/.test(t)||11!=t.length)},Qt=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.remStep,i=void 0===n?100:n,o=Rt(t)?t:e;return Rt(o)?"".concat(Number(o)/i,"rem"):""},Yt=function(t,e,r){var n;try{if("undefined"!==typeof window){var i=(window.tangramL10n||{}).NumberFormatter;if("function"===typeof i)n=(new i).currencyString(e+"",r,!0)}}catch(o){}finally{return n}},Kt=function(t){var e,r,n=!1,i=[],o=k(t.split("%1$s"));try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(a.trim())}}catch(u){o.e(u)}finally{o.f()}return 2===i.length&&(e=(n=0===i[0].length)?i[1]:i[0]),{isCurrencyInTheFormer:n,minPriceHint:e=e||"From"}},zt=function(t){return Array.isArray(t)&&t.length>0?t:[]};function Jt(t,e,r,n){var i=w(t=Array.isArray(t)?t:[]),o=i.find((function(t){return t.floorId===e})),a=n?r:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];try{if(Array.isArray(t)&&t.length>0){var r,n=t[0],i=(n.finished,n.token,I(n,m));Object.keys(i).length>0&&(r=Object.keys(i)[0]),r&&(e=i[r])}}catch(o){}finally{return e}}(r);return o?o.contentList=a:i.push({floorId:e,contentList:a}),i}var $t=Zt=function(t){return Rt(t)&&Number(t)>0},Xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"===typeof window)return t;var r=["clickLinkHttp","clickLinkHybrid","clickLinkNative","clickLinkMiniProgram","clickLinkOnline"];try{for(var n in t)t.hasOwnProperty(n)&&r.includes(n)&&(t[n]=re(t[n],e))}catch(i){}finally{return t}},te=["${departCityId}","${districtId}","${from}","${districtIdExchange}","${departCityIdExchange}","${districtName}","${departureName}","${userIntentDistrictName}","${userIntentDistrictId}","${userIntentDepartureCityId}"],ee={departCityId:2,districtId:2,districtIdExchange:2,departCityIdExchange:2,districtName:p.Q,departureName:p.Q,userIntentDistrictName:p.Q,userIntentDistrictId:2,userIntentDepartureCityId:2},re=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof t)return"";for(var r=!1,n=0,i=te;n<i.length;n++){var o=i[n];if(t.includes(o)){r=!0;break}}if(!r)return t;var a=t.match(/\?/)?t.match(/\?/).index:-1,u=t.replace(/(\$\{)([^\}]+)(\})/g,(function(t,r,n,i,o){return te.includes(t)?a>o&&"${from}"===t?t:e[n]||(a>o?ee[n]:""):t}));return u},ne=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!1;if(!Number.isNaN(Number(t)))return{isHistory:!0,data:t};try{t=JSON.parse(t)}catch(r){e=!0}return{data:t,isHistory:e}},ie=function oe(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.clickLinkHttp,i=e.clickLinkHybrid,o=e.clickLinkNative,a=e.clickLinkMiniProgram,u=e.app,c=e.h5,s=e.hybrid,l=e.miniProgram;switch(r){case 2:t=u||c||s||l;break;case 1:default:t=n||o||i||a}return!t}function ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.h5,r=t.miniProgram,n=t.hybrid,i=t.app;return{clickLinkHttp:e,clickLinkNative:i,clickLinkHybrid:n,clickLinkMiniProgram:r}}var ue=function(t,e){var r=e;try{r=Object(d.t)(t,e)}catch(n){}return r},ce=function(t){return 0===t?"10.0":parseFloat(10*(1-t)).toPrecision(12).toString().slice(0,3)},se=function(t){return Object.entries(t||{}).reduce((function(t,e){return t.push({key:e[0],value:e[1]}),t}),[])},le=function(t){return"number"!=typeof t&&(i()(t)||!t||null==t||" "==t||void 0==t||"undefined"==typeof t)},fe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isSub,r=void 0!==e&&e,n=t.isAutoHide,i=void 0!==n&&n,o=t.show,a=void 0!==o&&o,u=t.isVisible,c=void 0!==u&&u;return r&&i?a&&c:c},de=function(t,e,r){var n="";try{if(e){if(0==Object.keys(e).length)return"";var i=t.strProductId,o=t.name,a=t.productId;n=JSON.stringify(T(T({},e),{},{position:r+1,pkgid:i||a,productname:o}))}}catch(u){}return n},pe=function(t){return null!==t&&void 0!==t&&t.isLazyLoad||null===t||void 0===t||!t.load?Promise.resolve():(t.isLazyLoad=!0,t.load())},he=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return e.includes("%")?(e=decodeURIComponent(e),r<5?t(e,r+1):e):e}catch(n){return e}}},1046:function(t,e,r){"use strict";r.d(e,"gd",(function(){return n})),r.d(e,"Q",(function(){return i})),r.d(e,"b",(function(){return o})),r.d(e,"p",(function(){return a})),r.d(e,"ob",(function(){return u})),r.d(e,"ib",(function(){return c})),r.d(e,"Ib",(function(){return s})),r.d(e,"ad",(function(){return l})),r.d(e,"Mb",(function(){return f})),r.d(e,"eb",(function(){return d})),r.d(e,"xb",(function(){return p})),r.d(e,"yb",(function(){return h})),r.d(e,"zb",(function(){return v})),r.d(e,"Ac",(function(){return g})),r.d(e,"Vc",(function(){return y})),r.d(e,"Zb",(function(){return m})),r.d(e,"od",(function(){return b})),r.d(e,"z",(function(){return I})),r.d(e,"Sb",(function(){return w})),r.d(e,"Tb",(function(){return C})),r.d(e,"Hc",(function(){return T})),r.d(e,"Gc",(function(){return S})),r.d(e,"md",(function(){return k})),r.d(e,"sd",(function(){return O})),r.d(e,"E",(function(){return P})),r.d(e,"bc",(function(){return L})),r.d(e,"ec",(function(){return x})),r.d(e,"fc",(function(){return _})),r.d(e,"n",(function(){return A})),r.d(e,"jd",(function(){return E})),r.d(e,"tc",(function(){return N})),r.d(e,"Pb",(function(){return D})),r.d(e,"Qb",(function(){return j})),r.d(e,"A",(function(){return R})),r.d(e,"Wc",(function(){return U})),r.d(e,"R",(function(){return F})),r.d(e,"U",(function(){return G})),r.d(e,"pc",(function(){return M})),r.d(e,"V",(function(){return H})),r.d(e,"Zc",(function(){return B})),r.d(e,"r",(function(){return q})),r.d(e,"Nb",(function(){return V})),r.d(e,"h",(function(){return W})),r.d(e,"xc",(function(){return Q})),r.d(e,"fd",(function(){return Y})),r.d(e,"s",(function(){return K})),r.d(e,"Ad",(function(){return z})),r.d(e,"wd",(function(){return J})),r.d(e,"lb",(function(){return $})),r.d(e,"t",(function(){return Z})),r.d(e,"yd",(function(){return X})),r.d(e,"Kb",(function(){return tt})),r.d(e,"mb",(function(){return et})),r.d(e,"zd",(function(){return rt})),r.d(e,"nb",(function(){return nt})),r.d(e,"dd",(function(){return it})),r.d(e,"cd",(function(){return ot})),r.d(e,"yc",(function(){return at})),r.d(e,"m",(function(){return ut})),r.d(e,"kb",(function(){return ct})),r.d(e,"vd",(function(){return st})),r.d(e,"Vb",(function(){return lt})),r.d(e,"M",(function(){return ft})),r.d(e,"ub",(function(){return dt})),r.d(e,"D",(function(){return pt})),r.d(e,"j",(function(){return ht})),r.d(e,"k",(function(){return vt})),r.d(e,"sb",(function(){return gt})),r.d(e,"tb",(function(){return yt})),r.d(e,"rb",(function(){return mt})),r.d(e,"q",(function(){return bt})),r.d(e,"rd",(function(){return It})),r.d(e,"T",(function(){return wt})),r.d(e,"xd",(function(){return Ct})),r.d(e,"Yb",(function(){return Tt})),r.d(e,"O",(function(){return St})),r.d(e,"P",(function(){return kt})),r.d(e,"Jb",(function(){return Ot})),r.d(e,"Xb",(function(){return Pt})),r.d(e,"Nc",(function(){return Lt})),r.d(e,"wc",(function(){return xt})),r.d(e,"Jc",(function(){return _t})),r.d(e,"Bd",(function(){return At})),r.d(e,"Cd",(function(){return Et})),r.d(e,"uc",(function(){return Nt})),r.d(e,"Ob",(function(){return Dt})),r.d(e,"l",(function(){return jt})),r.d(e,"ab",(function(){return Rt})),r.d(e,"Cb",(function(){return Ut})),r.d(e,"gc",(function(){return Ft})),r.d(e,"fb",(function(){return Gt})),r.d(e,"Gb",(function(){return Mt})),r.d(e,"H",(function(){return Ht})),r.d(e,"i",(function(){return Bt})),r.d(e,"ic",(function(){return qt})),r.d(e,"pb",(function(){return Vt})),r.d(e,"Uc",(function(){return Wt})),r.d(e,"Ec",(function(){return Qt})),r.d(e,"Tc",(function(){return Yt})),r.d(e,"Dc",(function(){return Kt})),r.d(e,"nd",(function(){return zt})),r.d(e,"G",(function(){return Jt})),r.d(e,"db",(function(){return $t})),r.d(e,"cb",(function(){return Zt})),r.d(e,"ud",(function(){return Xt})),r.d(e,"Lb",(function(){return te})),r.d(e,"N",(function(){return ee})),r.d(e,"F",(function(){return re})),r.d(e,"Mc",(function(){return ne})),r.d(e,"kc",(function(){return ie})),r.d(e,"vc",(function(){return oe})),r.d(e,"td",(function(){return ae})),r.d(e,"hd",(function(){return ue})),r.d(e,"Eb",(function(){return ce})),r.d(e,"Y",(function(){return se})),r.d(e,"S",(function(){return le})),r.d(e,"wb",(function(){return fe})),r.d(e,"jb",(function(){return de})),r.d(e,"qb",(function(){return pe})),r.d(e,"lc",(function(){return he})),r.d(e,"bb",(function(){return ve})),r.d(e,"X",(function(){return ge})),r.d(e,"Z",(function(){return ye})),r.d(e,"W",(function(){return me})),r.d(e,"bd",(function(){return be})),r.d(e,"g",(function(){return Ie})),r.d(e,"e",(function(){return we})),r.d(e,"Xc",(function(){return Ce})),r.d(e,"Yc",(function(){return Te})),r.d(e,"Rb",(function(){return Se})),r.d(e,"Wb",(function(){return ke})),r.d(e,"cc",(function(){return Oe})),r.d(e,"Db",(function(){return Pe})),r.d(e,"L",(function(){return Le})),r.d(e,"nc",(function(){return xe})),r.d(e,"mc",(function(){return _e})),r.d(e,"oc",(function(){return Ae})),r.d(e,"f",(function(){return Ee})),r.d(e,"Bc",(function(){return Ne})),r.d(e,"ac",(function(){return De})),r.d(e,"pd",(function(){return je})),r.d(e,"hc",(function(){return Re})),r.d(e,"zc",(function(){return Ue})),r.d(e,"qd",(function(){return Fe})),r.d(e,"d",(function(){return Ge})),r.d(e,"c",(function(){return Me})),r.d(e,"Rc",(function(){return He})),r.d(e,"Qc",(function(){return Be})),r.d(e,"Sc",(function(){return qe})),r.d(e,"Pc",(function(){return Ve})),r.d(e,"B",(function(){return We})),r.d(e,"C",(function(){return Qe})),r.d(e,"x",(function(){return Ye})),r.d(e,"y",(function(){return Ke})),r.d(e,"vb",(function(){return ze})),r.d(e,"Fb",(function(){return Je})),r.d(e,"Fc",(function(){return $e})),r.d(e,"Oc",(function(){return Ze})),r.d(e,"dc",(function(){return Xe})),r.d(e,"I",(function(){return tr})),r.d(e,"Ic",(function(){return er})),r.d(e,"id",(function(){return rr})),r.d(e,"jc",(function(){return nr})),r.d(e,"J",(function(){return ir})),r.d(e,"ld",(function(){return or})),r.d(e,"kd",(function(){return ar})),r.d(e,"o",(function(){return ur})),r.d(e,"K",(function(){return cr})),r.d(e,"gb",(function(){return sr})),r.d(e,"w",(function(){return lr})),r.d(e,"v",(function(){return fr})),r.d(e,"a",(function(){return dr})),r.d(e,"Lc",(function(){return pr})),r.d(e,"Hb",(function(){return hr})),r.d(e,"Kc",(function(){return vr})),r.d(e,"ed",(function(){return gr})),r.d(e,"Ub",(function(){return yr})),r.d(e,"rc",(function(){return mr})),r.d(e,"sc",(function(){return br})),r.d(e,"qc",(function(){return Ir})),r.d(e,"Ab",(function(){return wr})),r.d(e,"u",(function(){return Cr})),r.d(e,"Bb",(function(){return Tr})),r.d(e,"Cc",(function(){return Sr})),r.d(e,"hb",(function(){return kr}));var n="\u643a\u7a0b\u65c5\u884c\u7f51",i="\u4e0a\u6d77",o="\u5168\u90e8\u5206\u7c7b",a="\u9009\u62e9\u5206\u7c7b",u="\u627e\u4e0d\u5230\u6d3b\u52a8\u5566",c="DIY\u5361\u7247",s="\u70ed\u533a\u70b9\u51fb",l="tab\u5207\u6362",f="\u56fe\u7247\u70ed\u533a",d="\u94bb",p="\u514d\u8d39",h="\u514d\u8d39\u9884\u7ea6",v="\u9650\u65f6\u514d\u8d39",g="\u9879\u76ee",y="\u8d77",m="\u66f4\u591a",b="\u5f88\u62b1\u6b49\uff0c\u5f53\u524d\u89c6\u9891\u65e0\u6cd5\u64ad\u653e",I="\u70b9\u51fb\u91cd\u8bd5",w="\u52a0\u8f7d\u5931\u8d25",C="\u52a0\u8f7d\u672a\u6210\u529f",T="\u5237\u65b0\u5931\u8d25\uff0c\u70b9\u51fb\u91cd\u8bd5",S="\u5237\u65b0\u4e2d...",k="\u60a8\u6b63\u5728\u4f7f\u7528\u975eWIFI\u7f51\u7edc",O="\u89c2\u770b\u4f1a\u6d88\u8017\u60a8\u7684\u6d41\u91cf\uff0c\u662f\u5426\u7ee7\u7eed\u89c2\u770b\uff1f",P="\u7ee7\u7eed\u64ad\u653e",L="\u591a\u6a21\u5757",x="\u7f51\u7edc\u4e0d\u7ed9\u529b",_="\u7f51\u7edc\u4e0d\u7ed9\u529b\uff0c\u8bf7\u91cd\u8bd5",A="\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e\u540e\u518d\u8bd5",E="\u518d\u8bd5\u4e00\u6b21",N="\u627e\u4e0d\u5230\u9875\u9762\u5566",D="\u5de6\u6ed1\u67e5\u770b\u66f4\u591a",j="\u91ca\u653e\u67e5\u770b",R="\u70b9\u51fb\u67e5\u770b\u66f4\u591a",U="\u7ad9",F="\u51fa\u53d1",G="\u51fa\u53d1\u7ad9",M="\u539f\u751f\u51fa\u53d1\u7ad9",H="\u51fa\u53d1\u7ad9+\u641c\u7d22",B="\u51fa\u53d1\u7ad9\u5207\u6362",q="\u9009\u62e9\u51fa\u53d1\u7ad9",V="\u70b9\u51fb\u8df3\u8f6c\u81f3\u51fa\u53d1\u7ad9\u9009\u62e9\u9875",W="\u60a8\u7684\u9884\u7ea6\u63d0\u4ea4\u5931\u8d25!",Q="\u8bf7\u7a0d\u540e\u91cd\u8bd5",Y="\u65c5\u884c\u76ee\u7684\u5730",K="\u9009\u62e9\u76ee\u7684\u5730",z="\u60a8\u7684\u65c5\u884c\u76ee\u7684\u5730",J="\u60f3\u53bb\u54ea\u513f\u73a9",$="\u8bf7\u8f93\u5165\u60a8\u7684\u65c5\u884c\u76ee\u7684\u5730",Z="\u8bf7\u9009\u62e9\u9884\u51fa\u53d1\u65e5\u671f",X="\u60a8\u7684\u79f0\u547c",tt="\u5982\u4f55\u79f0\u547c\u60a8",et="\u8bf7\u8f93\u5165\u60a8\u7684\u79f0\u547c",rt="\u60a8\u7684\u624b\u673a\u53f7",nt="\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7",it="\u660e\u5929",ot="\u4eca\u5929",at="\u70b9",ut="\u5c3d\u5feb\u56de\u7535",ct="\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801",st="\u4f55\u65f6\u8054\u7cfb\u60a8",lt="\u60a8\u5df2\u6210\u529f\u9884\u7ea6\uff01",ft="\u5ba2\u670d\u5c06\u5728\u76ee\u7684\u5730\u6062\u590d\u552e\u5356\u540e\u8054\u7cfb\u60a8",dt="\u65c5\u884c\u4e13\u5bb6\u4f1a\u5728",pt="\u8054\u7cfb\u60a8",ht="\u9884\u7ea6\u65c5\u884c\u4e13\u5bb6",vt="\u9884\u7ea6\u65c5\u884c\u4e13\u5bb6\u54a8\u8be2",gt="\u65c5\u884c\u4e13\u5bb6\u4f1a\u5c3d\u5feb\u8054\u7cfb\u60a8",yt="\u65c5\u884c\u4e13\u5bb6\u5c06\u4e8e\u660e\u5929\u8054\u7cfb\u60a8",mt="\u65c5\u884c\u4e13\u5bb6\u4f1a\u57281\u5c0f\u65f6\u4ee5\u5185\u8054\u7cfb\u60a8",bt="\u9009\u62e9\u51fa\u53d1\u65e5\u671f",It="\u60f3\u53bb\u7684\u57ce\u5e02/\u56fd\u5bb6",wt="\u51fa\u53d1\u65e5\u671f",Ct="\u5e74",Tt="\u6708",St="\u65e5",kt="\u5929",Ot="\u65f6",Pt="\u5206",Lt="\u79d2",xt="\u9884\u8ba1\u4f55\u65f6\u51fa\u53d1",_t="\u7acb\u5373\u9884\u7ea6",At="\u5143",Et="\u5143\u8d77",Nt="\u671f",Dt="\u77e5\u9053\u4e86",jt="\u7f13\u5b58",Rt="\u76ee\u7684\u5730\u5207\u6362",Ut="\u8d85\u503c\u4f18\u60e0",Ft="\u65b0\u5ba2\u5238",Gt="\u6298",Mt="\u6700\u9ad8",Ht="\u4f18\u60e0\u5238\u9886\u53d6",Bt="\u57fa\u7840\u4f18\u60e0\u5238",qt="\u6682\u672a\u5f00\u59cb",Vt="\u6d3b\u52a8\u6682\u672a\u5f00\u59cb\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",Wt="\u62b1\u6b49\uff0c\u4f18\u60e0\u5238\u5df2\u62a2\u5b8c\uff0c\u8bf7\u5173\u6ce8\u4e0b\u6b21\u6d3b\u52a8\u54e6",Qt="\u7acb\u5373\u9886\u53d6",Yt="\u5df2\u62a2\u5149",Kt="\u5df2\u9886\u53d6",zt="\u7acb\u5373\u4f7f\u7528",Jt="\u4f18\u60e0\u5238\u5f39\u7a97",$t="\u5f39\u7a97\u663e\u793a",Zt="\u5f39\u7a97\u5173\u95ed",Xt="\u5fae\u4fe1\u53f7\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f",te="\u56fe\u7247\u5df2\u4fdd\u5b58\u81f3\u76f8\u518c",ee="\u5ba2\u670d\u4e8c\u7ef4\u7801",re="\u590d\u5236\u5fae\u4fe1\u53f7",ne="\u4fdd\u5b58\u4e8c\u7ef4\u7801",ie="\u5728\u7ebf\u5ba2\u670d",oe="\u7535\u8bdd\u5ba2\u670d",ae="\u5fae\u4fe1\u5ba2\u670d",ue="\u643a\u7a0b\u5ba2\u670d",ce="\u5e2e\u4f60\u66f4\u5feb\u627e\u5230\u5fc3\u4eea\u7684\u65c5\u884c\u4ea7\u54c1",se="\u76ee\u7684\u5730/\u5173\u952e\u8bcd",le="\u51fa\u53d1\u57ce\u5e02\uff1a",fe="\u60ac\u6d6eicon\u62d6\u52a8",de="\u62d6\u52a8\u4f4d\u7f6e",pe="\u6b64\u6d3b\u52a8\u4ec5\u9650\u643a\u7a0bApp\u4e13\u4eab",he="\u6253\u5f00\u643a\u7a0bApp",ve="\u76ee\u7684\u5730\u6807\u9898",ge="\u51fa\u53d1\u7ad9\u6807\u9898",ye="\u76ee\u7684\u5730\u641c\u7d22\u6846\u6807\u9898",me="\u51fa\u53d1\u7ad9\u641c\u7d22\u6846\u6807\u9898",be="\u6807\u9898\u680f\u641c\u7d22\u6846",Ie="\u8be5\u6d3b\u52a8\u82f9\u679c\u4e0d\u662f\u8d5e\u52a9\u5546",we="\u5e76\u4e14\u82f9\u679c\u4e5f\u4e0d\u4f1a\u4ee5\u4efb\u4f55\u5f62\u5f0f\u53c2\u4e0e\u5176\u4e2d",Ce="\u8ba2\u9605",Te="\u5df2\u8ba2\u9605",Se="\u52a0\u8f7d\u4e2d",ke="\u7eb5\u6a2a\u5f39\u7a97\u5e7f\u544a",Oe="\u9644\u8fd1",Pe="\u6709",Le="\u5bb6\u643a\u7a0b\u95e8\u5e97",xe="\u8ba2\u5355\u5207\u6362\u5f39\u7a97\u70b9\u51fb\u786e\u5b9a",_e="\u8ba2\u5355\u5207\u6362\u5f39\u7a97\u70b9\u51fb\u53d6\u6d88",Ae="\u8ba2\u5355\u5207\u6362\u5f39\u7a97\u5f39\u51fa",Ee="\u516c\u544a\u8be6\u60c5",Ne=[{id:6,value:"\u9884\u8ba2\u54a8\u8be2"},{id:7,value:"\u8ba2\u5355\u54a8\u8be2"},{id:8,value:"\u6295\u8bc9"},{id:10,value:"\u529f\u80fd\u6545\u969c"},{id:11,value:"\u4fe1\u606f\u6709\u8bef"},{id:12,value:"\u8868\u8ff0\u542b\u7cca"},{id:13,value:"\u52a0\u8f7d\u7f13\u6162"},{id:14,value:"\u4ea7\u54c1\u5efa\u8bae"},{id:5,value:"\u5176\u4ed6"},{id:9,value:"\u5176\u4ed6"}],De="\u591a\u5730",je="\u67e5\u770b\u8be6\u60c5",Re="\u666e\u901a\u4f1a\u5458",Ue="\u79ef\u5206",Fe="\u76f8\u4e92\u5524\u8d77",Ge="\u951a\u70b9\u5207\u6362",Me="\u951a\u70b9\u5bfc\u822a",He="\u670d\u52a1\u7aef\u6e32\u67d3\u65f6\u95f4",Be="\u670d\u52a1\u7aef\u6e32\u67d3getPage\u83b7\u53d6\u65f6\u95f4",qe="\u670d\u52a1\u7aef\u6e32\u67d3viewRender\u65f6\u95f4",Ve="\u670d\u52a1\u7aef\u6e32\u67d3getPage\u8c03\u7528\u4e4b\u524d\u7684\u65f6\u95f4",We="\u5ba2\u6237\u7aef\u7b2c\u4e00\u6b21\u6e32\u67d3\u5b8c\u6210\u7684\u65f6\u95f4",Qe="\u54a8\u8be2\u5ba2\u670d",Ye="\u70b9\u51fb\u5173\u95ed",Ke="\u70b9\u51fb\u6536\u8d77",ze="\u8be5\u5b57\u6bb5\u4e0d\u80fd\u4e3a\u7a7a",Je="\u5e2e\u60a8\u5feb\u901f\u9009\u62e9\u5408\u9002\u7684\u5c9b\u5c7f",$e="\u6211\u4eec\u5c06\u6839\u636e\u60a8\u9009\u62e9\u7684\u7ad9\u70b9\u63a8\u8350\u6700\u4f18\u7684\u51fa\u53d1\u5730\u3002",Ze="\u5982\u679c\u6ca1\u6709\u627e\u5230\u60a8\u7684\u6240\u5728\u5730\uff0c\u8bf7\u9009\u62e9\u8ddd\u79bb\u60a8\u6700\u8fd1\u7684\u57ce\u5e02\u3002",Xe="\u7f51\u7edc\u5f00\u4e86\u5c0f\u5dee, \u8bf7\u7a0d\u540e\u91cd\u8bd5",tr="\u4f18\u60e0\u5238\u9886\u53d6\u6210\u529f",er="\u8bf7\u6c42\u6570\u636e\u5931\u8d25",rr="trip \u95e8\u7968\u5934\u56fe\u76ee\u7684\u5730\u4e0a\u6eaf",nr="\u6682\u65e0\u5185\u5bb9",ir={CANTAKE:"\u53ef\u9886",CANUSE:"\u5df2\u9886\u5238\u53ef\u4f7f\u7528",NOTCANUSE:"\u5df2\u9886\u5238\u4e0d\u53ef\u4f7f\u7528",SNAPUP:"\u5df2\u62a2\u5149",OUTDATE:"\u5df2\u8fc7\u671f",NOTSTART:"\u672a\u5f00\u59cb",ONLYNEWUSER:"\u4ec5\u65b0\u5ba2\u53ef\u9886",HIDE:"\u4e0d\u5c55\u793a\u4f18\u60e0\u5238 "},or={1001:"\u95e8\u7968\u73a9\u4e50\u65b0\u5ba2",1002:"\u4e3b\u9898\u6e38\u6e38\u5b66\u65b0\u5ba2",1003:"\u5ea6\u5047\u65b0\u5ba2",1004:"\u8ddf\u56e2\u65b0\u5ba2",1005:"\u81ea\u7531\u65b0\u5ba2",1008:"\u7b7e\u8bc1\u65b0\u5ba2",5009:"\u79df\u8f66\u65b0\u5ba2"},ar="\u6253\u5f00\u5b9a\u4f4d\u53ef\u4ee5\u4e3a\u60a8\u5c55\u793a\u9644\u8fd1\u7684\u65c5\u6e38\u8d44\u6e90",ur="\u4e2d\u56fd",cr="\u643a\u7a0b\u5728\u60a8\u8eab\u8fb9",sr="\u6700\u8fd1\u8ddd\u60a8\u5c0f\u4e8e100m",lr="\u60a8\u7684\u9886\u53d6\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650",fr="\u9886\u53d6\u5931\u8d25\uff0c\u4ec5\u65b0\u5ba2\u53ef\u9886~",dr="\u60a8\u7684\u8d26\u53f7\u5f02\u5e38, \u65e0\u6cd5\u9886\u53d6\u4f18\u60e0\u5238, \u5982\u6709\u7591\u95ee, \u8bf7\u54a8\u8be2\u5ba2\u670d",pr=["\u7cfb\u7edf\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5","\u9886\u5238\u6210\u529f","\u9886\u5238\u5931\u8d25"],hr="\u7eb5\u6a2a\u60ac\u6d6eicon",vr="\u7acb\u5373\u9884\u8ba2",gr="\u65c5\u6e38",yr="\u5b9a\u4f4d",mr="\u7f51\u7edc\u5f02\u5e38",br="\u65e0\u6570\u636e",Ir="\u63a5\u53e3\u9519\u8bef",wr="\u670d\u52a1\u7aef\u83b7\u53d6agc data\u65f6\u95f4",Cr="\u9886\u53d6\u8be5\u4f18\u60e0\u5238\u9700\u5b8c\u6210\u5b9e\u540d\u8ba4\u8bc1",Tr="\u653e\u5f03\u4f18\u60e0\u5238",Sr="\u53bb\u8ba4\u8bc1",kr="dt-\u76ee\u7684\u5730\u5b9a\u4f4d\u5207\u6362\u5f39\u7a97"},1052:function(t,e,r){"use strict";r.d(e,"b",(function(){return f})),r.d(e,"c",(function(){return d})),r.d(e,"u",(function(){return p})),r.d(e,"s",(function(){return v})),r.d(e,"o",(function(){return g})),r.d(e,"m",(function(){return y})),r.d(e,"n",(function(){return m})),r.d(e,"h",(function(){return b})),r.d(e,"d",(function(){return I})),r.d(e,"q",(function(){return w})),r.d(e,"r",(function(){return C})),r.d(e,"i",(function(){return T})),r.d(e,"g",(function(){return S})),r.d(e,"j",(function(){return k})),r.d(e,"e",(function(){return O})),r.d(e,"a",(function(){return P})),r.d(e,"p",(function(){return L})),r.d(e,"l",(function(){return x})),r.d(e,"f",(function(){return _})),r.d(e,"t",(function(){return A})),r.d(e,"k",(function(){return E}));var n=r(1040),i=r(1043);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,u=[],c=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var r=!1,i=e||"transparent",o=e||"transparent";try{if(t){var a="string"===typeof t?Object(n.t)(t):t,u=a.type,c=a.color,s=a.direction,l=a.stops;if("linear"===u){var f=(l?l[0]:{}).color;o=f?"rgba(".concat(f.join(),")"):"transparent";var d=l.map(();i="linear-gradient(".concat(s,"deg, ").concat(d.join(),")"),r=!0}"pure"===u&&c&&(i="rgba(".concat(c.join(),")"),o="rgba(".concat(c.join(),")"))}}catch(p){}return{isGradient:r,color:i,firstColor:o}}function d(t,e,r){var n=r&&"url(".concat(r,")");return t&&(n=r?"url(".concat(r,"),").concat(e):e),{bgImageStyle:n}}function p(t){var e="tranparent";try{var r=t.startsWith("rgba"),n=t.startsWith("#");if(r){var o=t.split(",");o[o.length-1]="0)",e=o.join()}n&&(e=Object(i.X)(t,0))}catch(a){}return e}function h(t){return"0".concat(parseInt(t).toString(16)).slice(-2)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transparent",r=e;try{/^#[0-9A-F]{6}$/i.test(t)&&(r=t);var n=t.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d+)\)$/);n&&(r="#".concat(h(n[1])).concat(h(n[2])).concat(h(n[3])))}catch(i){}return r}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[]";try{var e=Object(n.t)(t,[]);return 4===e.length&&e.every((function(t){return!Number.isNaN(Number(t))}))?{top:Number(e[1]),right:Number(e[2]),bottom:Number(e[3]),left:Number(e[0])}:{top:0,right:0,bottom:0,left:0}}catch(r){return{top:0,right:0,bottom:0,left:0}}}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[]";try{var e=Object(n.t)(t,[]);return 2===e.length&&e.every((function(t){return!Number.isNaN(Number(t))}))?{horizontal:Number(e[0]),vertical:Number(e[1])}:{horizontal:0,vertical:0}}catch(r){return{horizontal:0,vertical:0}}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[]";try{var e=Object(n.t)(t,[]);return 2===e.length&&e.every(()?{width:Number(e[0]),height:Number(e[1])}:{width:0,height:0}}catch(r){return{width:0,height:0}}}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=document.documentElement.clientWidth,r=e>420?420:e;return r/750*t}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0,n=e.reduce((function(t,e){return t+e.ceilingHeight}),0),i=e.findIndex((function(e){return e.floorId===t}));if(i>0){var o=e.slice(0,i);r=o.reduce((,0)}else i<0&&(r=n);return{currentCeilingHeight:r,allCeilingHeight:n}}unction C(t){return Number(t.slice(0,-2))}function T(t){return t?"".concat(Number(t)/100,"rem"):"0rem"}function S(t){var e={};if(!t)return e;var r=Object(n.t)(t,[]);return r instanceof Array&&null!==r&&void 0!==r&&r.length&&(e.borderTopLeftRadius=T(r[0]),e.borderTopRightRadius=T(r[1]),e.borderBottomRightRadius=T(r[2]),e.borderBottomLeftRadius=T(r[3])),e}function k(t){var e=O(t);return e.paddingLeft&&(e.paddingLeft=T(e.paddingLeft)),e.paddingTop&&(e.paddingTop=T(e.paddingTop)),e.paddingRight&&(e.paddingRight=T(e.paddingRight)),e.paddingBottom&&(e.paddingBottom=T(e.paddingBottom)),e}function O(t){var e={};if(!t)return e;var r=[];return(r="object"==l(t)?t:Object(n.t)(t,[0,0,0,0]))instanceof Array&&(e.paddingLeft=Number(r[0]||"0"),e.paddingTop=Number(r[1]||"0"),e.paddingRight=Number(r[2]||"0"),e.paddingBottom=Number(r[3]||"0")),e}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[]",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[];try{r=Object(n.t)(t,[])}catch(i){}return r=r.map((function(t){if(!e&&(void 0===t||null===t||""===t))return t;var r=Number(t);return isNaN(r)?0:r}))}var L=function(t){try{var e=Number(t);return Number.isNaN(e)?0:e}catch(r){return 0}},x=function(t,e,r){return r&&Array.isArray(r)&&0!=r.length||(r=[null,void 0,""]),r.includes(t)&&e||t},_=function(t){return(null===t||void 0===t?void 0:t.length)>0?a(a({},function(t){if(!t)return{};var e=c(t=t.map((function(t){return Object(n.q)(t)})),4);return{borderTopLeftRadius:e[0],borderTopRightRadius:e[1],borderBottomRightRadius:e[2],borderBottomLeftRadius:e[3]}}(t)),{},{overflow:"hidden"}):{}},A=function(t){if(!t)return[];var e=c(t=t.map((),4);return{marginTop:e[0],marginRight:e[1],marginBottom:e[2],marginLeft:e[3]}},E=function(t){if(t&&t.color&&(t=t.color),Array.isArray(t)){var e=c(t,4),r=e[0],n=e[1],i=e[2],o=e[3],a=void 0===o?1:o;return"rgba(".concat(r,",").concat(n,",").concat(i,",").concat(a,")")}}},1057:function(t,e,r){"use strict";r.d(e,"s",(function(){return o})),r.d(e,"l",(function(){return a})),r.d(e,"i",(function(){return u})),r.d(e,"k",(function(){return c})),r.d(e,"j",(function(){return s})),r.d(e,"D",(function(){return l})),r.d(e,"J",(function(){return f})),r.d(e,"w",(function(){return d})),r.d(e,"u",(function(){return p})),r.d(e,"p",(function(){return h})),r.d(e,"C",(function(){return v})),r.d(e,"m",(function(){return g})),r.d(e,"o",(function(){return y})),r.d(e,"n",(function(){return m})),r.d(e,"h",(function(){return b})),r.d(e,"f",(function(){return I})),r.d(e,"g",(function(){return w})),r.d(e,"L",(function(){return C})),r.d(e,"a",(function(){return T})),r.d(e,"d",(function(){return S})),r.d(e,"e",(function(){return k})),r.d(e,"K",(function(){return O})),r.d(e,"G",(function(){return P})),r.d(e,"E",(function(){return L})),r.d(e,"O",(function(){return x})),r.d(e,"M",(function(){return _})),r.d(e,"H",(function(){return A})),r.d(e,"I",(function(){return E})),r.d(e,"c",(function(){return N})),r.d(e,"N",(function(){return D})),r.d(e,"q",(function(){return j})),r.d(e,"t",(function(){return R})),r.d(e,"r",(function(){return U})),r.d(e,"v",(function(){return F})),r.d(e,"F",(function(){return G})),r.d(e,"A",(function(){return M})),r.d(e,"y",(function(){return H})),r.d(e,"B",(function(){return B})),r.d(e,"x",(function(){return q})),r.d(e,"z",(function(){return V})),r.d(e,"b",(function(){return W}));var n=r(1237),i=r(1046),o="6TFS45FA4UE816RXKV0L6M5HZIVSZYEW",a={STORAGE_KEY:"OTTD_SELECTED_DISTRICT_CITY",STORAGE_DOMAIN:"ottd"},u="tangram_city_id",c="tangram_district_id",s="VACATIONS_TANGRAM_CITY",l={STORAGE_KEY:"TOUR_CITY_MODEL",STORAGE_DOMAIN:"tour"},f="VACATIONS_PRODUCT_LIST_PARAM",d=([5,10,22,28,29,34,41].concat([6,30,33,44]).concat([36]),[4,5,9,11,12,14,21,24,29,35,41,42,44,45,50,55]),p=[2,5,9,10,11,12,13,17,20,21,23,24,26,27,28,29,30,31,33,34,35,36,41,43,44,48,49,50,52,53,54,55,60,62],h=[{finished:!0,infoList:[1],token:111}],v=[n.i,n.k,"/tangram".concat(n.m)],g={fat:"//gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2",uat:"//gateway.m.uat.qa.nt.ctripcorp.com/restapi/soa2",prod:"//m.ctrip.com/restapi/soa2"},y={fat:"//www.fat1.qa.nt.tripqate.com/restapi/soa2",uat:"//www.uat.tripqate.com/restapi/soa2",prod:"//m.trip.com/restapi/soa2"},m={fat:"//www.fat1.qa.nt.tripqate.com/restapi/soa2",uat:"//www.uat.tripqate.com/restapi/soa2",prod:"//lvgo.lvtds.com/restapi/soa2"},b=i.J,I={CanTake:"CANTAKE",CanUse:"CANUSE",NotCanUse:"NOTCANUSE",SnapUp:"SNAPUP",OutDate:"OUTDATE",NotStart:"NOTSTART",OnlyNewUser:"ONLYNEWUSER",Hide:"HIDE"},w={1:I.CanTake,2:I.CanUse,3:I.NotCanUse,4:I.SnapUp,5:I.OutDate,6:I.NotStart,7:I.OnlyNewUser},C=(i.ld,{dataExposeKey:"tang_page_module_expo",exposeClass:"expose_dom"}),T={VALID:0,NOT_STARTED:1,NOT_FOUND:2,IS_FINISHED:3},S=(i.kd,{BeforeStart:"BEFORE_START",InProgress:"IN_PROGRESS",Ended:"ENDED"}),k={1:S.BeforeStart,2:S.InProgress,3:S.Ended},O="TTD",P=function(t,e){return"".concat("TRIP_DEST","_").concat(O).concat(e?"_PC":"_H5")},L=x="key.tour.tangram.tickethomepage.hk",_=38,A="100018370",E="vaction-tangram-lbs",N="WGS84",D="undefined"===typeof window,j="ISD_TC_WX",R={CTRIP_PATH:"/cwx/component/cwebview/cwebview",QUNAR_ALIPAY_ZUCHE:"/pages/platform/webView/index",TENCENT_TRAVEL_ZUCHE:"/modules/ctripcar/pages/isd/subPages/webActivity/index"},U="Tangram-Loc-enhance-f850222a",F="NEARBYSTORE_LOCATION_SOURCE",G=new Map,M={WECHAT_PAGE_SOURCE:"ctripwechatmini_ticketpromotion_realname",OTHER_PAGE_SOURCE:"ctrip_ticketpromotion_realname"},H="/rn_wallet/_crn_config?CRNModuleName=rn_wallet&CRNType=1&initialPage=realname",B="/pages/wallet/setrealname/index",q={MINI:0,APP:1,H5:2},V={fat:"https://secure.fat18.qa.nt.ctripcorp.com",prod:"https://secure.ctrip.com"},W="/webapp/paywallet/realname"},1120:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r(1654),i=r.n(n),o=r(1046);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l=new i.a({platform:n.PlatformType.web,ubtKey:"km_tour_trace_log",organizationId:"51"}),f=[{key:"tangram",value:"100018370"}],d={isLogPageInfo:!1,startRenderingTime:0,getPageTime:0,getPageIsCache:!1,siteFrom:o.l,init:setSiteFrom:function(t){this.siteFrom=t},setGetPageTime:function(t){this.getPageTime=t},setPageIsCache:obj2KVArr:tracePageInfo:function(t){if(!this.isLogPageInfo){var e=this.getPageTime,r=this.siteFrom,n=Date.now()-this.startRenderingTime,i=this.getPageIsCache,o=this.obj2KVArr(c(c({},t),{},{siteFrom:r})),a=this.obj2KVArr({getPageTime:e,renderTime:n,getPageIsCache:String(i)});l.logPageInfo({attrs:f,contents:o}),l.logPageInfo({attrs:f,contents:a}),this.isLogPageInfo=!0}},traceAction:function(t){try{var e=c({attrs:f},t);l.logActionInfo(e)}catch(r){}}}},1237:1270:function(t,e,r){"use strict";r.d(e,"b",(function(){return v})),r.d(e,"d",(function(){return g})),r.d(e,"f",(function(){return y})),r.d(e,"c",(function(){return m})),r.d(e,"a",(function(){return I})),r.d(e,"e",(function(){return w}));var n=r(1099),i=r(1046),o=r(1040),a=r(1043),u=r(1057),c=r(1120),s=r(133);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}unction d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(){p=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),u=new A(n||[]);return i(a,"_invoke",{value:P(t,r,u)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="executing",g="completed",y={};function m(){}function b(){}function I(){}var w={};s(w,a,(function(){return this}));var C=Object.getPrototypeOf,T=C&&C(C(E([])));T&&T!==r&&n.call(T,a)&&(w=T);var S=I.prototype=m.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,u){var c=d(t[i],t,o);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==l(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function P(e,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var u=n.delegate;if(u){var c=L(u,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var s=d(e,r,n);if("normal"===s.type){if(i=n.done?g:"suspendedYield",s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=g,n.method="throw",n.arg=s.arg)}}}function L(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=d(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(l(e)+" is not iterable")}return b.prototype=I,i(S,"constructor",{value:I,configurable:!0}),i(I,"constructor",{value:b,configurable:!0}),b.displayName=s(I,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,I):(t.__proto__=I,s(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(O.prototype),s(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return u.type="throw",u.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:E(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function h(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(n,i)}var v=function(t){var e=2,r=i.Q,n=t.store.getState(),a=n.isInTrip,c=n.i18n;return a&&(e=u.M,r=Object(o.y)(u.O,c)||""),{districtId:e,districtName:r,districtOrigin:"default"}},g=function(t){try{if(!t.isInTrip())return;var e=t.store.getState(),r=e.floorList,o=e.districtInfo,a=o.districtId,u=o.districtName,s=t.store.actions.UPDATE_DISTRICT_INFO,l=r.find(();if(l){var f=l.templateConfig,d=f.recommendDistrictName,p=f.recommendDistrictId;if(p){var h={districtId:"-1"===p?a:p,districtName:"-1"===p?u:d,districtOrigin:"uptrack"};c.a.traceAction({scene:i.id,role:"sys",action:"change",value:d||p,before:u}),s(h)}}}catch(v){}},y=function(t,e,r){try{var n=t.store.getState(),i=n.locale,o=n.isInTripOnline,a=Object(u.G)(i,o),c={},s=t.getHost().split(".");s.length>2&&(c.domain=".".concat(s.slice(-2).join(".")));var l=(e||{}).districtId,f=void 0===l?"":l;t.setCookieAndExpire(a,f,r||1,c)}catch(d){}},m=function(t){var e=function(t){try{var e=t.store.getState(),r=e.locale,n=e.isInTripOnline,i=Object(u.G)(r,n);return{districtId:t.cookie(i)}}catch(o){}return{}}(t).districtId;return a.db(e)?{districtId:e,districtName:"",districtOrigin:"cookie"}:""},b=function(t,e){try{var r,n=t.store.getState().locale,i=Object(u.E)(n),o=(null===(r=JSON.parse(Object(s.e)(i)))||void 0===r?void 0:r.data)||{},a=o.districtId,c=o.displayName;a>0&&a===(null===e||void 0===e?void 0:e.districtId)&&y(t,{districtId:a,districtName:c},7)}catch(l){}},I=function(){var t,e=(t=p().mark((function t(e){var r,n,i,o,a,u,c,s,l,f,d,h;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.isInTrip()){t.next=3;break}return t.abrupt("return");case 3:if(r=e.store.getState(),n=r.districtInfo,o=(i=void 0===n?{}:n).districtOrigin,a=i.districtId,u=i.districtName,c=e.store.actions,s=c.UPDATE_DISTRICT_INFO,l=c.START_LOAD_CONTENT,e.destination.hasDistrict()){t.next=8;break}return t.abrupt("return");case 8:if(f={},!["default"].includes(o)){t.next=21;break}return t.next=12,e.geoLocation.getTripLocatedDistrictInfo(e);case 12:if(t.t0=t.sent,t.t0){t.next=15;break}t.t0={};case 15:if(f=t.t0,null===(d=f)||void 0===d||!d.districtId||(null===(h=f)||void 0===h?void 0:h.districtId)===a){t.next=21;break}return s(f),l(!1),t.next=21,e.updateInitialData();case 21:b(e,{districtId:f.districtId||a,districtName:f.districtName||u}),t.next=27;break;case 24:t.prev=24,t.t1=t.catch(0);case 27:case"end":return t.stop()}}),t,null,[[0,24]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){h(o,n,i,a,u,"next",t)}function u(t){h(o,n,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),w=function(t){try{var e,r=t.districtId,n=f(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e||null===(e=e.href)||void 0===e?void 0:e.split("?"),2),i=n[0],o=n[1],a=void 0===o?"":o,u="districtId=".concat(r),c=a.split("&").reduce((function(t,e){return!e||e.includes("districtId")||e.includes("districtName")?t:"".concat(t,"&").concat(e)}),u);window.history.replaceState(null,"","".concat(i,"?").concat(c))}catch(s){}}},1285:function(t,e,r){"use strict";r.d(e,"d",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return c})),r.d(e,"a",(function(){return s}));var n=r(1112),i=r.n(n),o={iconType:i.a.string,iconIconfont:i.a.string,iconImg:i.a.string};function a(t){var e=t.isCustomHeader,r=t.titleBgColor,n=t.modalVisible,i=t.isLightIcon;if(!e)if(n){var o;null===(o=window)||void 0===o||null===(o=o.CtripBar)||void 0===o||o.appSetStatusBarColor("#4D4D4D",0)}else{var a;null===(a=window)||void 0===a||null===(a=a.CtripBar)||void 0===a||a.appSetStatusBarColor(r,1);var u=i?"lightContent":"darkContent";setTimeout((function(){var t,e="darkContent"===u;null===(t=window)||void 0===t||null===(t=t.CtripBar)||void 0===t||t.setLightStatusBar(e)}),0)}}var u=/[\n\r]/g,c=function(t){var e="",r="";try{var n,i;e=null===t||void 0===t||null===(n=t.richTextTitle)||void 0===n?void 0:n.replace(u,"<br>"),r=null===t||void 0===t||null===(i=t.richTextContent)||void 0===i?void 0:i.replace(u,"<br>")}catch(o){e=(null===t||void 0===t?void 0:t.richTextTitle)||"",r=(null===t||void 0===t?void 0:t.richTextContent)||""}return{replaceTitle:e,replaceContent:r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/href="(\S+)"/g,()}(r)}},s=,1747:function(t,e,r){"use strict";var n=r(13),i=r.n(n),o=r(1056),a=r(1046);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tabConfig,r=void 0===e?"":e,u=t.imageLazyLoad,c=r.floorBgColor,s=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=s.current;t&&(t.style.width="".concat(t.offsetWidth,"px"))}),[s]),i.a.createElement("div",{className:"tab_item_empty_view",style:{backgroundColor:c},ref:s},i.a.createElement(o.b,{className:"tab_item_empty_img",src:"https://pic.c-ctrip.com/VacationH5Pic/tangram-pic/content_empty.png",lazyLoad:u}),i.a.createElement("div",{className:"tab_item_empty_text"},a.jc))}},1854:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return $}));var n=r(1856),i=r.n(n),o=r(1150),a=r.n(o),u=r(1486),c=r.n(u),s=r(1095),l=r.n(s),f=r(1110),d=r.n(f),p=r(1857),h=r(1099),v=r(133),g=r(1838),y=r(2115),m=r(2817),b=r(1043),I=r(1371),w=r.n(I),C=r(1040),T=r(1057),S=r(1237),k=r(2116),O=r(1653),P=r(1270),L=r(1120),x=r(1046),_=["subEnv"];function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,u=[],c=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||j(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||j(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){if(t){if("string"===typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function G(){G=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new x(n||[]);return i(a,"_invoke",{value:k(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",h="completed",v={};function g(){}function y(){}function m(){}var b={};s(b,a,(function(){return this}));var I=Object.getPrototypeOf,w=I&&I(I(_([])));w&&w!==r&&n.call(w,a)&&(b=w);var C=m.prototype=g.prototype=Object.create(b);function T(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(i,o,a,u){var c=f(t[i],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==A(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function k(e,r,n){var i=d;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===h){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var u=n.delegate;if(u){var c=O(u,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var s=f(e,r,n);if("normal"===s.type){if(i=n.done?h:"suspendedYield",s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=h,n.method="throw",n.arg=s.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(A(e)+" is not iterable")}return y.prototype=m,i(C,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},T(S.prototype),s(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new S(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(C),s(C,c,"Generator"),s(C,a,(function(){return this})),s(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return u.type="throw",u.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function M(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(n,i)}function H(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){M(o,n,i,a,u,"next",t)}function u(t){M(o,n,i,a,u,"throw",t)}a(void 0)}))}}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function q(t,e,r){return e=Y(e),t,)?Reflect.construct(e,r||[],Y(t).constructor):e.apply(t,r))}ion z(t,e,r){return(e=J(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:String(e)}var $=function(e){function n(t,e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),z(V(i=q(this,n,[t,e])),"restapi",i.getRestApi()),z(V(i),"requireUserInfo",!1),z(V(i),"isInWeChatMiniProgram",(function(){return i.isInWeChatMini()})),z(V(i),"isInAliPayMiniProgram",(function(){return i.isInAliPayMini()})),z(V(i),"getUrlInParams",(function(t){var e=i.location,r=e.query,n=(e.search,""),o=t&&t.split(","),a=[];return o&&(o.forEach((function(t,e){var n=r[t.toLocaleLowerCase()];n&&(d()(n)?n.forEach((function(e,r){a.push("".concat(t,"=").concat(n[r]))})):a.push("".concat(t,"=").concat(n)))})),l()(a)||(n="".concat(a.join("&")))),n})),z(V(i),"getTargetUrl",(function(t,e){var r=i.store.getState().extQueryString,n=void 0===r?"":r;if((e||n)&&t){var o=-1!==t.indexOf("?")||-1!==t.indexOf("&")?"&":"?";return o=t.endsWith("?")||t.endsWith("&")?"":o,t+o+(e||n)}return t})),z(V(i),"updateUserInfo",H(G().mark((function t(){var e,r,n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.isInCtrip()||i.isInLvgo()||i.isInQunarApp()||i.isInQunar()||i.isInTencentTravelMini()){t.next=2;break}return t.abrupt("return");case 2:return e=i.store.actions.UPDATE_USER_INFO,t.next=5,i.getUserInfo();case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:r=t.t0,n=i.isLogin(),e({userInfo:r,isLogin:n});case 11:case"end":return t.stop()}}),t)})))),z(V(i),"getLocaleInfo",(function(){var t={locale:"en-US",currency:"USD",site:"EN",language:"en"},e=t;try{e=i.context.isClient?window.__CARGO__:i.context.res.locals.cargo}catch(r){}return i.isDebugLocaleInTrip()?i.getDebugParamsInTrip():e||t})),z(V(i),"getQConfig",(function(){var t;try{t=i.context.isClient?window.__QCONFIG__:i.context.req.qconfig||i.context.res.locals.qconfig}catch(e){}return t||{}})),z(V(i),"getI18NInfo",H(G().mark((function t(){var e,r,n,o,a=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"en-US",r=a.length>1&&void 0!==a[1]?a[1]:{},n=r.appId,o={appId:void 0===n?37366:n,locale:e},t.prev=4,t.next=7,i.post(S.o,o);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),t.abrupt("return",{});case 14:case"end":return t.stop()}}),t,null,[[4,10]])})))),z(V(i),"getMiniProgramTarget",(function(){return i.isInAliPayQuNarZuCheMini()?my:i.isInWeChatMini()?__ctrip_weixin__.miniProgram:i.isInAliPayMini()?my:i.isInBaidu()?swan.webView:i.isInKuaiShouMini()?ks:i.isInNewQuickApp()?window.cmpBridge:void 0})),z(V(i),"setMiniProgramShareData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.title,r=t.url,n=t.imageUrl,o=t.desc;if(i.isInMiniProgram()){r=r||location.href,e=e||document.title,o=o||"";var a={url:encodeURIComponent(r)},u="".concat(T.t.CTRIP_PATH,"?data=").concat(JSON.stringify(a)),c=i.getMiniProgramTarget();c.postMessage({data:{shareData:{bu:"tour",title:e||x.ed,path:u,desc:o||"",imageUrl:n},type:"onShare"}})}})),z(V(i),"handleUpdateDynamicLoadedList",(function(t,e,r){(0,i.store.actions.UPDATE_DYNAMIC_LOADED_LIST)({floorId:t,tokenContentList:e,isNeedProcess:r})})),z(V(i),"isQunarLogin",H(G().mark((function t(){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(window.location.href.indexOf("qunarLogin")>-1)){t.next=2;break}return t.abrupt("return",{ret:!0,login:!0,state:2});case 2:return t.abrupt("return",new Promise((function(t){var e={ret:!1,login:!1,state:0};i.getQunarSdk().checkLogin({success:function(e){t(e)},fail:function(r){t(e)}})})));case 3:case"end":return t.stop()}}),t)})))),z(V(i),"handleTakeCoupon",c()(H(G().mark((function t(){var e,r,n,o,a,u,c,s,l,f,d,p,h=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=h.length>0&&void 0!==h[0]?h[0]:[],r=h.length>1&&void 0!==h[1]?h[1]:[],n=h.length>2?h[2]:void 0,o=h.length>3?h[3]:void 0,a=h.length>4?h[4]:void 0,u={isTaken:!1,isSoldOut:!1},0!==e.length){t.next=8;break}return t.abrupt("return",u);case 8:if(t.prev=8,!i.isInQunarApp()&&!i.isInQunar()||i.isInAliPayQuNarZuCheMini()){t.next=23;break}return t.next=12,i.isQunarLogin();case 12:if(t.t0=t.sent,t.t0){t.next=15;break}t.t0={};case 15:if(c=t.t0,"fat"===(i.getContextEnv()||"prod")){t.next=21;break}if(2==c.state){t.next=21;break}return i.goToLoginPage(),t.abrupt("return",u);case 21:t.next=26;break;case 23:if(i.isLogin()){t.next=26;break}return i.goToLoginPage(),t.abrupt("return",u);case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(8),i.logDevTrace("o_tangram_coupon_login_error",JSON.stringify({error:t.t1,desc:"tangram coupon login error"}));case 31:if(!n){t.next=33;break}return t.abrupt("return",i.receiveCouponNew(r,o,e[0],a));case 33:return s={BuType:0,PromotionIds:e,PromotionCodeList:r,PlatformId:i.getPlatformId(),ChannelCode:0},l={},t.prev=35,t.next=38,i.syncClientId();case 38:return t.next=40,i.post(S.p,s);case 40:if(t.t2=t.sent,t.t2){t.next=43;break}t.t2={};case 43:f=t.t2,d=f.Data,p=void 0===d?{}:d,(l=b.n(p)).isTaken&&i.reportDistributeSale(),t.next=53;break;case 49:t.prev=49,t.t3=t.catch(35),i.tracelog("FETCH_16255_TAKE_COUPON",t.t3.message),l=F(F({},u),{},{errorText:x.dc});case 53:return t.prev=53,i.handleCouponToast(l),t.abrupt("return",l);case 57:case"end":return t.stop()}}),t,null,[[8,28],[35,49,53,57]])}))),600)),z(V(i),"receiveCouponAddParams",(function(t){if(i.isInQunarApp()||i.isInQunar())try{var e=i.getCookie(),r=e._q,n=e._v,o=e._t,a=e._s,u=e.qunar_q,c=void 0===u?"":u,s=e.qunar_v,l=void 0===s?"":s,f=e.qunar_t,d=void 0===f?"":f,p=e.qunar_s,h=void 0===p?"":p;t.baseInfo.channelId=i.getQunarSaleChannelId(),t.head=F(F({},t.head),{},{extension:[{name:"_q",value:c||r},{name:"_v",value:l||n},{name:"_t",value:d||o},{name:"_s",value:h||a}]})}catch(v){}if(i.isInTencentTravelMini())try{t.baseInfo.channelId=23173,null!==t&&void 0!==t&&t.baseInfo&&(t.baseInfo.outOpenId=i.getTencentTraverOuterUid())}catch(g){}return t})),z(V(i),"receiveCouponNew",c()(function(){var t=H(G().mark((function t(e,r,n,o){var a,u,c,s,l,f,d,p;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.store.getState(),u=a.saleChannelId,c=a.departureCityId,s=a.isInTrip,l=a.locale,f=a.currency,d=window.localStorage.getItem("GUID")||i.cookie("GUID"),p={baseInfo:{channelId:u,clientId:d,locale:s?l:"zh-CN",currency:s?f:"CNY",siteId:c,requestScene:6},promotionSecretIds:e},i.receiveCouponAddParams(p),t.abrupt("return",i.post(S.a,p,{headers:{"x-ctx-Locale":s?l:"zh-CN","x-ctx-Currency":s?f:"CNY"}}).then(function(){var t=H(G().mark((function t(e){var a,u,c,s,l,f,d,p;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.typename,!(u=e.resultStatus)||!a){t.next=20;break}if(c=u.customerErrorMessage,s=u.code,Object(C.l)(c)&&(c=o),l=!1,f={},"Error"===a){t.next=15;break}return c=x.I,l=!0,t.next=11,i.fetchGetContent(r);case 11:d=t.sent,p=d[0].promotionInfoList.find((function(t){return t.promotionId===n})),f=i.getCouponStatus(p),i.reportDistributeSale();case 15:if("Error"!==a||7027!==s){t.next=17;break}return t.abrupt("return",{needShowRealNameModal:!0});case 17:return i.handleShowToast&&i.handleShowToast(c,l),i.showToast&&i.showToast(c),t.abrupt("return",f);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(());case 5:case"end":return t.stop()}}),t)})));return (),600)),z(V(i),"qunarLogin",(function(){var t=i.getQunarSdk(),e=i.store.actions.UPDATE_USER_INFO;i.isInQunarApp()?t&&t.login&&t.login({shouldOpenLogin:!0,extData:"source=car&origin=car_zuche",success:function(t){setTimeout((function(){window.location.reload()}),300),e({userInfo:t,isLogin:!0})},fail:):t&&t.login&&t.login({useUcApi:!1,data:{ret:"".concat(i.getHref(),"&qunarLogin=1"),source:"car",origin:"car_zuche"}})})),z(V(i),"goToLoginPage",(function(){i.logDevTrace("o_tangram_coupon_need_login",JSON.stringify({desc:"tangram click coupon need login"})),i.isInAliPayQuNarZuCheMini()?i.qunarMiniLogin():i.isInQunarApp()||i.isInQunar()?i.qunarLogin():i.isInMiniProgram()?i.miniProgramJumpUrl(location.href,{needLogin:!0,isNavigate:!1}):i.isInNewQuickApp()?i.newQuickAppLogin(location.href):(i.logDevTrace("o_tangram_coupon_normal_login",JSON.stringify({desc:"tangram click coupon use normal login"})),i.login())})),z(V(i),"handleCouponToast",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isTaken,r=t.errorText,n=t.successText,o=!0,a="";e&&n?a=n:r&&(a=r,o=!1),i.handleShowToast&&i.handleShowToast(a,o),i.showToast&&i.showToast(a)})),z(V(i),"updateGlobalState",function(){var t=H(G().mark((function t(e){var r,n,o,a,u,c,s,f,d,p,h,v,g,y,m,I,w,T,S,k,O,L,x,_,A,E,N,D,j,R,U,F,M,H,B,q,W,Q,Y,K,z,J,$,Z,X,tt;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.store.actions,n=r.PAGE_STATUS,o=r.UPDATE_FLOOR_LIST,a=r.UPDATE_DEPARTURE_CITY,u=r.UPDATE_DEFAULT_TITLE,c=r.UPDATE_STATE,s=r.UPDATE_DISTRICT_INFO,f=i.store.getState(),d=f.isDraft,p=f.locale,h=f.departureCityId,v=f.districtInfo,g=v.districtId,y=v.districtOrigin,f.isMobile,f.publicPath,m=f.isInTrip,I=e.pageId,w=e.realPageId,T=e.globalFloors,S=void 0===T?[]:T,k=e.normalFloors,O=void 0===k?[]:k,L=e.tokenContentList,x=void 0===L?[]:L,_=e.localePages,A=void 0===_?[]:_,E=e.departureCityName,N=void 0===E?"":E,D=e.exchangedDistrict,j=void 0===D?{}:D,R=e.name,U=e.directionalPageId,F=void 0===U?0:U,M=j.districtName,N&&a({departureCityId:h,departureCityName:N}),H=b.B({locale:p,localePages:A,pageId:I}),B=H.pageId,Array.isArray(A)&&A.find((function(t){return"default"===t.locale}))||!Array.isArray(A)||d||B!==I||!i.isInTrip()){t.next=10;break}return i.redirectToTripHomePage(),t.abrupt("return");case 10:if(q=b.G(d,e),n({pageStatus:q,isEmptyResponse:l()(e)}),u(),0===q){t.next=15;break}return t.abrupt("return");case 15:c({exchangedDistrict:j}),W=o({globalFloors:S,normalFloors:O,realPageId:I,realPageIdNew:w,localePageId:B,prefetchedResult:x,pageName:R,directionalPageId:F,qConfigPageConfig:i.qconfig}),Q=W.globalConfig,M&&!m&&(Y=i.store.getState(),K=Object(C.d)(Y),z=K.recommendDistrictId,J=K.destTraceBack,$=K.recommendDistrictName,Z={districtId:g,districtName:M,districtOrigin:y},"1"===J&&z&&(Z={districtId:"-1"===z?g:z,districtName:$||M,districtOrigin:"uptrack"}),s(Z)),i.adjustDistrict(),m&&i.updateTripDistrictName(j,Q),Object(P.d)(V(i)),X=i.store.actions.INIT_CEILING_HEIGHT_LIST,tt=[],O.forEach((),"function"===typeof X&&X(tt);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),z(V(i),"updateInitialData",H(G().mark((function t(){var e,r,n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.store.actions.UPDATE_STATE,r=i.checkIsMobile(),e({dynamicContentLoadedList:[]}),t.next=5,i.fetchGetPage();case 5:if(!(n=t.sent).relatedPageId||!r){t.next=9;break}return i.redirectToRelatedPage(n.relatedPageId),t.abrupt("return");case 9:return t.next=11,i.updateGlobalState(n);case 11:return t.next=13,i.undertakeRequestGetAGCData(n);case 13:i.context.isClient&&"undefined"!==typeof window&&D(document.querySelectorAll(".expose_dom")).forEach(();case 14:case"end":return t.stop()}}),t)})))),z(V(i),"preRequestGetAGCData",H(G().mark((function t(){var e,r,n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.store.getState(),r=e.pageId,n=e.isInTripH5,!i.context.isClient&&n&&T.F.get(r)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,i.getAGCData(T.F.get(r));case 5:case"end":return t.stop()}}),t)})))),z(V(i),"undertakeRequestGetAGCData",H(G().mark((function t(){var e,r,n,o,a,u=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=u.length>0&&void 0!==u[0]?u[0]:{},r=i.store.getState(),n=r.pageId,o=r.isInTripH5,!i.context.isClient&&o){t.next=4;break}return t.abrupt("return");case 4:if(i.showAGCbanner()){t.next=7;break}return T.F.set(n,void 0),t.abrupt("return");case 7:if(!T.F.get(n)){t.next=9;break}return t.abrupt("return");case 9:if(a=i.getTracePageIdInServer(e)){t.next=12;break}return t.abrupt("return");case 12:return T.F.set(n,a),t.next=15,i.getAGCData(a);case 15:case"end":return t.stop()}}),t)})))),z(V(i),"getAGCData",function(){var t=H(G().mark((function t(e){var n,o,a,u,c,s,l,f,d,p,h,v,g,y,m,b,I,w,C,T,S,k,O,P;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return o=(new Date).getTime(),a=i.context.res.locals.cargo||{},u=a.locale,c=void 0===u?"en-US":u,s=a.currency,p=i.context.req||{},h=p.HasUnion,v=p.GetUnionData,h?(y=(g=v||{}).Aid,m=g.Sid,b=g.Ouid,l=y,f=m,d=b):(I=i.context.req.query||{},w=I.aid,C=I.sid,T=I.ouid,l=w,f=C,d=T),t.next=8,Promise.all([r.e(13),r.e(29),r.e(4),r.e(8),r.e(146)]).then(r.bind(null,2068));case 8:return S=t.sent,k=S.fetchData,t.next=12,k({head:{locale:c,currency:s},pageId:e},{union:{aid:l||0,sid:f||0,ouid:d},host:i.context.req.headers.host,cookie:i.context.req.headers.cookie});case 12:O=t.sent,P=null===(n=i.context)||void 0===n||null===(n=n.res)||void 0===n?void 0:n.locals,i.SSR&&P&&(P.getTripAGCDataTime=(new Date).getTime()-o),(0,i.store.actions.UPDATE_SSR_AGCDATA)(O);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),z(V(i),"showAGCbanner",(function(){var t=i.store.getState().globalConfig.showAGCDownload;return!!(void 0===t?[]:t).includes("1")&&(i.context.isClient?i.isInTripH5()&&!i.isInTripApp():i.context.res.locals.isOnlyInTripH5)})),z(V(i),"showAGCUniversal",(function(){var t=i.store.getState().globalConfig.showAGCDownload;return!(!(void 0===t?[]:t).includes("2")||!i.isInTripH5()||i.isInTripApp())})),z(V(i),"showAGCPopUp",(function(){var t=i.store.getState().globalConfig.showAGCDownload;return!(!(void 0===t?[]:t).includes("3")||!i.isInTripH5()||i.isInTripApp())})),z(V(i),"getMiniProgramAppIdParam",(function(){try{if(i.miniProgramAppId)return i.miniProgramAppId;var t=i.getHref().match(/(\?|&)_cwxobj=([^&]+)/)||[],e=decodeURIComponent(t[2]||""),r=Object(C.t)(e,{});return i.miniProgramAppId=(null===r||void 0===r?void 0:r.appid)||"",i.miniProgramAppId}catch(n){return""}})),z(V(i),"getMiniProgramParam",(function(){var t=i.location.query.miniprogram,e=i.store.getState().isInNewQuickApp;if(t)return t;var r=i.isInAliPayMini(),n=i.isInWeChatMini(),o=i.isInBaidu(),a=i.isInKuaiShouMini(),u=i.isInAliPayQuNarZuCheMini();return i.isInTencentTravelMini()?T.q:u?"ali_rentalCar":r?"alipay":n?"wechat":o?"baidu":a?"kwai":e?"newQuick":""})),z(V(i),"handleGetTracePlatform",(function(){var t=i.store.getState(),e=t.isInCtripApp,r=t.isInTripApp,n=t.isInZTApp,o=t.isInTDSApp,a=t.isMobile,u=t.isInMiniProgram;return a?u?"miniprogram":e||r||n||o?"app":"h5":"online"})),z(V(i),"getCoordsParam",(function(){var t=i.store.getState().locationInfo,e=void 0===t?{}:t,r={},n=e.locatedSuccess,o=e.longitude,a=e.latitude,u=e.departureCityId,c=e.geoType;return o&&a&&n&&(r={coords:{lat:a,lon:o,type:void 0===c?"GCJ02":c},locationCityId:u}),r})),z(V(i),"replaceQuery",(function(t,e){if("string"===typeof t){var r=location.href,n=b.tb(r,t),o=t.toLowerCase();delete i.location.query[o],e&&(n=i.addQueryString({url:n,key:t,value:e}),i.location.query[o]="".concat(e)),window.history.replaceState(void 0,void 0,n)}})),z(V(i),"addQueryString",(function(t){var e=t.url,r=t.key,n=t.value;if(!e||!r||!n)return e;var i=-1!==e.indexOf("?")?"&":"?";return"".concat(e).concat(i).concat(r,"=").concat(n)})),z(V(i),"getCustomerServiceInfo",(function(t){var e=t.traceValue,r=t.customerServ,n=b.mb(r),i=n.IMParams,o=n.onlyIM,a=n.customerServiceInfo,u=i.IMCode;return e.button="offline",u&&(e.imcode=u),{traceValue:e,IMParams:i,onlyIM:o,customerServiceInfo:a}})),z(V(i),"handleCustomerServiceClick",(function(t){var e=t.traceValue,r=t.customerServ,n=t.shouldDisableScroll,o=i.getCustomerServiceInfo({traceValue:e,customerServ:r}),a=o.traceValue,u=o.IMParams,c=o.onlyIM,s=o.customerServiceInfo;i.handleLogTangClick(a),s&&(c?i.handleGoToCustomIM(u):i.handleShowCustomerService(F(F({},s),{},{traceValue:a}),{shouldDisableScroll:n}))})),z(V(i),"handleShowH5CurrencySelector",(function(){(0,i.store.actions.SHOW_H5Currency_Selector)()})),z(V(i),"handleHideH5CurrencySelector",(function(){(0,i.store.actions.HIDE_H5Currency_Selector)()})),z(V(i),"handleShowCustomerService",(function(t,e){var r=e.shouldDisableScroll;a()(t)&&!l()(t)&&(r&&i.disableWindowScroll(),(0,i.store.actions.SHOW_CUSTOMER_SERVICE)(t))})),z(V(i),"handleHideCustomerService",(function(){i.enableWindowScroll(),(0,i.store.actions.HIDE_CUSTOMER_SERVICE)()})),z(V(i),"handleLogTangClick",(function(t){i.handleLogClickTrace({traceKey:"tang_page_button_click",traceValue:JSON.stringify(t)})})),z(V(i),"handleLogExposeValue",(),z(V(i),"handleGetCouponStatusNew",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.auditStatus,r=t.stockStatus,n=t.userPromotionStatus,o=t.sceneCode;if(o)return i.getCouponStatus(t);var a=!1,u=!1,c=!1;return void 0!==e&&(n%2===1&&(a=!0),1===e&&(c=!0),0!==r&&[0,1].includes(e)||(u=!0)),{isTaken:a,isSoldOut:u,notStart:c}})),z(V(i),"handleGetCouponStatus",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.auditStatus,n=t.stockStatus,i=t.userPromotionStatus,o=t.promotionId,a=t.promotionCode,u=!1,c=!1,s=[];if(void 0!==r)i%2===1&&(u=!0),0!==n&&0===r||(c=!0),u||c||(s=[{promotionId:o,promotionCode:a}]);else{var l=e.filter((function(t){return t.userPromotionStatus%2===1}));s=e.filter((function(t){return t.userPromotionStatus%2!==1}));var f=e.filter(();u=l.length===e.length,l.length>0&&l.length<e.length&&s.length===f.length&&(u=!0),c=f.length===e.length}return{isTaken:u,isSoldOut:c,notTakenList:s}})),z(V(i),"getUserTakenStatus",(function(t){if(!i.isLogin()||!t)return!1;var e=!1;return 1&t&&(e=!0),e})),z(V(i),"handleUpdateProductList",function(){var t=H(G().mark((function t(e){var r,n,o,a,u,c,s,l=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:[],n=l.length>2?l[2]:void 0,o=l.length>3&&void 0!==l[3]?l[3]:{},a=i.store.actions.UPDATE_PRODUCT_LIST,u=i.store.getState(),c=u.prefetchedResult,Array.isArray(r)&&"number"===typeof n){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,i.getContentWithPrefetch({tokenList:r,prefetchedResult:c});case 9:return s=t.sent,a({floorId:n,tokenTabList:e,tokenContentList:s,options:o}),t.abrupt("return",s);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),z(V(i),"handleUpdateDIYProductListForPC",function(){var t=H(G().mark((function t(e){var r,n,o,a,u,c,s,l,f=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:[],n=f.length>2?f[2]:void 0,o=f.length>3&&void 0!==f[3]?f[3]:{},a=i.store.actions.UPDATE_DIY_LIST_FOR_PC,u=i.store.getState(),c=u.prefetchedResult,s=o.tabKey,Array.isArray(r)&&("number"===typeof n||s)){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,i.getContentV2WithPrefetch({tokenList:r,prefetchedResult:c,tabKey:s});case 10:l=t.sent,a({floorId:n,tokenTabList:e,tokenContentList:l,options:o});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),z(V(i),"handleUpdateDIYProductList",function(){var t=H(G().mark((function t(e){var r,n,o,a,u,c,s,l,f,d,p,h,v,g,y,m,b,I,w,C=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=C.length>1&&void 0!==C[1]?C[1]:[],o=C.length>2?C[2]:void 0,a=C.length>3&&void 0!==C[3]?C[3]:{},u=i.store.actions.UPDATE_DIY_LIST,c=i.store.getState(),s=c.prefetchedResult,l=a.currentIndex,f=void 0===l?0:l,d=a.init,p=void 0!==d&&d,h=a.dataLoading,v=a.tabKey,Array.isArray(n)&&("number"===typeof o||void 0!==v)){t.next=8;break}return t.abrupt("return");case 8:if(1!==h){t.next=19;break}return t.next=11,i.handlePageLoad({floorId:o,token:n[f],pageIndex:1,tabKey:v});case 11:y=t.sent,m=y.tokenContentList,b=y.finished,I=y.isSuccess,0===(g=m).length&&(g=[{finished:I?b||!0:b,contents:"[]",token:n[f]}]),t.next=22;break;case 19:return t.next=21,i.getContentV2WithPrefetch({tokenList:[n[f]],prefetchedResult:s,tabKey:v,tokenTabList:[e[f]]});case 21:g=t.sent;case 22:return w=g&&(null===(r=g)||void 0===r?void 0:r.length)&&g.every((function(t){var e;return!(null!==t&&void 0!==t&&t.contents)||0===(null===t||void 0===t||null===(e=t.contents)||void 0===e?void 0:e.length)})),0!==g.length&&!w||1===h||(g=[{finished:!0,contents:"[]",token:n[f]}]),p&&n.forEach((function(t,e){0!==e&&(g.some((function(e){return e.token===t}))||g.push({finished:!1,contents:"[{}]",token:t}))})),u({floorId:o,tokenTabList:e,tokenContentList:g,options:a}),t.abrupt("return",g);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),z(V(i),"handlePageLoad",function(){var t=H(G().mark((function t(e){var r,n,o,a,u,c,s,l;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.token,n=e.pageIndex,o=e.tabKey,t.next=3,i.fetchDIYPage({token:r,pageIndex:n,tabKey:o});case 3:return a=t.sent,u=a.isSuccess,c=a.tokenContentList,s=c[0]||{},l=s.finished,t.abrupt("return",{tokenContentList:c,finished:l,isSuccess:u});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),z(V(i),"handleUpdateContentList",H(G().mark((function t(){var e,r,n,o,a,u,c=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:[],r=c.length>1?c[1]:void 0,Array.isArray(e)&&"number"===typeof r){t.next=4;break}return t.abrupt("return");case 4:return n=i.store.actions.UPDATE_TOKEN_CONTENT_LIST,o=i.store.getState(),a=o.prefetchedResult,t.next=8,i.getContentWithPrefetch({tokenList:e,prefetchedResult:a});case 8:return u=t.sent,n({floorId:r,tokenContentList:u}),t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))),z(V(i),"handleCloseWarning",(),z(V(i),"toggleCityBox",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=i.store.actions.TOGGLE_CITY_BOX;r(t),e&&(t&&e?i.disableWindowScroll():i.enableWindowScroll())})),z(V(i),"handleToggleCityBox",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i.resetCityBoxPosition();var r=i.store.getState(),n=r.shouldShowCityBox,o=r.isMobile;o&&e&&!n&&i.adjustCityBoxPosition(),i.toggleCityBox(!n,e),n||(i.handleLogExposeTrace(),t&&i.handleLogClickTrace({traceKey:"tang_page_button_click",traceValue:t}))})),z(V(i),"handleHideCityBox",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.resetCityBoxPosition();var e=i.store.getState(),r=e.shouldShowCityBox;r&&i.toggleCityBox(!1,t)})),z(V(i),"getScrollY",(),z(V(i),"isDisableScroll",!1),z(V(i),"disableWindowScroll",(function(){if(!i.isInQunarApp()){i.isDisableScroll=!0;var t=document.querySelector("body"),e=i.getScrollY();t.style.position="fixed",t.style.width="100%",t.style.top="".concat(-e,"px")}})),z(V(i),"enableWindowScroll",(function(){if(i.isDisableScroll){i.isDisableScroll=!1;var t=document.querySelector("body"),e=-t.style.top.split("px")[0];t.style.position="",t.style.top="",window.scrollTo(0,e)}})),z(V(i),"getPlatformId",(function(){var t=i.store.getState().mode,e="online"===(void 0===t?"mobile":t)?4:1;return(i.isInCtripApp()||i.isInTripApp())&&(e=0),e})),z(V(i),"preFetchGPSLocation",H(G().mark((function t(){var e,r,n,o,a,u,c,s,l,f,d,p,h,v,g,y,m,b;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=null,r=null,!i.isInCtripApp()&&!i.isInTripApp()){t.next=15;break}return t.next=6,i.geoLocation.getCtripAppCachedLocationData();case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:a=t.t0,u=a.cachedCtripCity,c=void 0===u?{}:u,null!==(n=V(i))&&void 0!==n&&null!==(n=n.destination)&&void 0!==n&&null!==(o=n.hasDistrict)&&void 0!==o&&o.call(n)?(s=c.GsCurrentCity,f=(l=s||{}).GeoID,d=l.GeoCName,e=f,r=d):c.CityEntities&&c.CityEntities.length>0&&(p=c.CityEntities[0],h=p.CityID,v=p.CityName,e=h,r=v),t.next=20;break;case 15:return t.next=17,i.geoLocation.getLocationCityInfo();case 17:m=t.sent,b=m.data,null!==(g=V(i))&&void 0!==g&&null!==(g=g.destination)&&void 0!==g&&null!==(y=g.hasDistrict)&&void 0!==y&&y.call(g)?(e=(null===b||void 0===b?void 0:b.DistrictId)||(null===b||void 0===b?void 0:b.districtId),r=(null===b||void 0===b?void 0:b.DistrictName)||(null===b||void 0===b?void 0:b.districtName)):(e=(null===b||void 0===b?void 0:b.DepartureCityId)||(null===b||void 0===b?void 0:b.departureCityId),r=(null===b||void 0===b?void 0:b.DepartureCityName)||(null===b||void 0===b?void 0:b.departureCityName));case 20:i.GPSCity=e?{gpscityid:e,gpscityname:r}:{},t.next=26;break;case 23:t.prev=23,t.t1=t.catch(0);case 26:case"end":return t.stop()}}),t,null,[[0,23]])})))),z(V(i),"handleGetCommonTangTrace",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"H5",e=i.store.getState(),r=e.departureCityId,n=e.districtInfo,o=void 0===n?{}:n,a="handleGetCommonTangTrace_".concat(t,"_").concat(r,"_").concat(null===o||void 0===o?void 0:o.districtId);if(C.a.has(a))return C.a.get(a);var u,c,s,l,f=i.store.getState(),d=f.realPageId,p=f.realPageIdNew,v=f.isInTrip,g=f.localePageId,y=f.locale,m=f.departureCityName,b=f.directionalPageId,I=f.floorList,w=i.location.query,T=F({pagetype_tech:t,page_platform:i.handleGetTracePlatform(),real_pageid:p,page_tangid:d},i.GPSCity||{});if(v&&g&&y){T.page_tangid_locale=g,T.page_locale=y;var S=I.find((function(t){return t.category===h.a.DestnationImage}));(S||null!==w&&void 0!==w&&w.districtid||null!==w&&void 0!==w&&w.destinationcityid)&&(T.dtcityid=o.districtId,T.dtcityName=o.districtName)}v||((null!==(u=V(i))&&void 0!==u&&null!==(u=u.departure)&&void 0!==u&&null!==(c=u.hasDeparture)&&void 0!==c&&c.call(u)||null!==w&&void 0!==w&&w.departurecityid)&&(T.departcityid=r,T.departcityname=m),(null!==(s=V(i))&&void 0!==s&&null!==(s=s.destination)&&void 0!==s&&null!==(l=s.hasDistrict)&&void 0!==l&&l.call(s)||null!==w&&void 0!==w&&w.districtid||null!==w&&void 0!==w&&w.destinationcityid)&&(T.dtcityid=o.districtId,T.dtcityName=o.districtName),b>0&&(T.page_tangid_sub=b));return C.a.set(a,T),T})),z(V(i),"handleLogClickTrace",(function(t){var e=t.currentTarget,r=t.traceKey,n=t.traceValue;r||(r=e.getAttribute("data-trace-key"),n=e.getAttribute("data-trace-value")),i.tracelog(r,n)})),z(V(i),"handleLogTrace",(),z(V(i),"handleLogExposeTrace",(function(){try{var t=D(document.querySelectorAll(".expose_dom:not([data-tracked='1'])"));if(!t.length)return;t.forEach((function(t){if(!t.getAttribute("data-tracked")){var e=t.getAttribute("data-expose-key"),r=t.getAttribute("data-trace-value")||"";if(t.classList.contains("slide_frame_wrapper")){var n=t.closest("div .ad_slider_container");if(!(t&&n&&b.Y(t,n)))return}if(r&&b.Z(t)&&e){t.setAttribute("data-tracked",1);try{var o=Object(C.t)(r,{});"o_widget_flow_show"===e||o.floorid&&o.floor||!window?i.tracelog(e,r):i.logDevTrace("o_tangram_expose_error_h5",JSON.stringify({logValueObj:o,url:window.location.href}))}catch(a){i.logDevTrace("o_tangram_expose_error_h5",JSON.stringify({error:a}))}}}}))}catch(e){}})),z(V(i),"handleGetHost",(),z(V(i),"formatHostSite",(function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=i.store.getState(),n=r.locale,o="${local}";if(Object.keys(C.x).includes(n))return e.replaceAll(o,C.x[n]);var a=null===n||void 0===n?void 0:n.split("-"),u=(null===a||void 0===a?void 0:a.length)>1?null===(t=a[1])||void 0===t?void 0:t.toLowerCase():null;return e.replaceAll(o,u)})),z(V(i),"formatRichTextLocale",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=/https?:\/\/[A-Z|a-z|0-9|\$|\{|\}|\.]+\.(trip|tripcorp|tripqate)\.com/g;return t.replaceAll(e,(function(t){return i.formatHostSite(t)}))})),z(V(i),"isInQunarApp",(function(){var t=i.getUserAgent(),e=i.location.query.platform;return/qunar/i.test(t)||"qunarapp"===e}));i.getUserAgent();for(var o={},u=0,s=Object.keys(t.query);u<s.length;u++){var f=s[u];o[f.toLowerCase()]=d()(t.query[f])?t.query[f][0]:t.query[f]}return t.query=o,i.GPSCity={},i}var o,u,s;return n,e),o=n,(u=[{key:"getContextEnv",value:function(){var t=this.context.env;return"prod"!==this.context.env&&["prod","uat","fat"].includes(this.location.query.testenv)&&(t=this.location.query.testenv),t}},{key:"getRestApi",value:function(){var t=T.m;return this.isInLvgo()&&(t=T.n),this.isInTrip()&&(t=T.o),this.isDebugLocaleInTrip()&&(t=T.m),t[this.getContextEnv()]}},{key:"logPageRenderFinished",value:function(){}},{key:"getInitialState",value:function(){var t=H(G().mark((function t(e){var r,i,o,a,u,c,s,l,f,d,p,h,v,g,m,I,w,C,T,S,k,O,P,L,x,_,A;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(Y(n.prototype),"getInitialState",this).call(this,e);case 2:return i=t.sent,o=this.location,a=o.query,u=void 0===a?{}:a,c=o.params,s=(void 0===c?{}:c).pageId,null!==(r=s)&&void 0!==r&&r.includes("%")&&(s=b.xb(s)),l=u.isdraft,f=u.hidehead,d=u.adjusthead,p=u.previewskeleton,h=this.getExtended(u),v=h.extPost,g=void 0===v?{}:v,m=h.extQueryString,I=void 0===m?"":m,w=this.checkIsMobile(),C="1"===l,T=!(w&&!this.isiPhoneX()),S=this.isInTrip(),k=this.isInTripH5(),O=this.isInTripApp(),P=this.isInZTApp(),L=this.isInTDSApp(),x=this.getVersionParam(),_=S||P||L||"1"===f,A=this.isInWeixin()||this.isInMiniProgram()||this.isInNewQuickApp()||this.isInNewsArticle()||this.isInDouYin()||"1"===d,t.abrupt("return",F(F(F({},y.a),i),{},{query:u,pageId:s,isMobile:w,saleChannelId:this.getSaleChannelId(w),isDraft:C,hasNotch:T,isIOS:this.isIOSDevice(),iPhoneX:this.isiPhoneX(),isIOSApp:this.isIOSApp(),isAndroidApp:this.isAndroidApp(),isInCtripOnline:this.isInCtripOnline(),isInTripOnline:this.isInTripOnline(),isInCtrip:this.isInCtrip(),isInTrip:S,isInTripApp:O,isInTripH5:k,isInZTApp:P,isInTDS:this.isInTDS(),isInTDSOnline:this.isInTDSOnline(),shouldHideHead:_,headerHeight:this.getHeaderHeight(),extPost:g,version:x,isSSR:this.SSR,extQueryString:I,isInWeixin:this.isInWeixin(),shouldHideBack:A,isInMiniProgram:this.isInMiniProgram(),isInNewQuickApp:this.isInNewQuickApp(),shouldShowWarning:C&&!this.isInCtripApp(),isInCtripApp:this.isInCtripApp(),isInAliPayMini:this.isInAliPayMini(),previewSkeleton:"1"==p}));case 20:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getFinalActions",value:,{key:"componentDidFirstMount",value:function(){this.updateUserInfo(),window.$controller=this}},{key:"getExtended",value:function(t){var e=t.ext,r="",n={};try{var i=Object(C.t)(decodeURIComponent(e),{}),o=i.q,a=i.p;"string"===typeof o&&(r=o),b.eb(a)&&(n=a)}catch(u){}return{extQueryString:r,extPost:n}}},{key:"handleUrlParams",value:function(t){var e=this.store.getState().localePageId,r=(this.getQConfig()||{}).matchUrlParams||{},n=r[Object.keys(r).indexOf("".concat(e))>-1?e:"default"],i=this.getUrlInParams(n);if(!l()(n)&&!l()(i)&&!l()(t))for(var o in t)t[o]=this.getTargetUrl(t[o],i);return t}},{key:"getHostFromParam",value:function(){var t=this.getHost();return this.isInQunarApp()||this.isInQunar()?"qunar":this.isInTrip()?"trip":/^(zhixing)/.test(t)?"zhixing":/^(tieyou)/.test(t)?"tieyou":this.isInTDS()?"tds":this.isInLvgo()?"lvgo":"ctrip"}},{key:"getSaleChannelId",value:function(t){var e=t?7:2;return(this.isInCtripApp()||this.isInTripApp()||this.isInTDSApp()||this.isInZTApp())&&(e=5),(this.isInMiniProgram()||this.isInNewQuickApp())&&(e=21),e}},{key:"getQunarSaleChannelId",value:function(t){var e=t?19477:19479;return(this.isInCtripApp()||this.isInTripApp()||this.isInTDSApp()||this.isInZTApp())&&(e=5),(this.isInMiniProgram()||this.isInNewQuickApp())&&(e=19480),e}},{key:"getHeaderHeight",value:function(){var t=44;return this.isIOSApp()?(t=64,this.isiPhoneX()&&(t=88),this.isiPhonePill()&&(t=103)):(this.isInTDSApp()||this.isInTrip()||this.isInZTApp())&&(t=0),t}},{key:"initForTripLocale",value:function(){var t=H(G().mark((function t(){var e,r,n,i,o,a,u,c,s;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInTrip()){t.next=2;break}return t.abrupt("return");case 2:e=this.store.actions.UPDATE_I18N,r=this.getLocaleInfo(),n=r.locale,i=void 0===n?"en-US":n,o=r.currency,a=void 0===o?"USD":o,u=r.site,c=void 0===u?"EN":u,s=r.language,e({translations:{},locale:i,currency:a,site:c,language:void 0===s?"en":s});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initForTrip",value:function(){var t=H(G().mark((function t(){var e,r,n,i,o,a,u,c,s,l,f,d;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInTrip()){t.next=2;break}return t.abrupt("return");case 2:return e=this.store.actions.UPDATE_I18N,r=this.getLocaleInfo(),n=r.locale,i=void 0===n?"en-US":n,o=r.currency,a=void 0===o?"USD":o,u=r.site,c=void 0===u?"EN":u,s=r.language,l=void 0===s?"en":s,t.next=6,this.getI18NInfo(i);case 6:f=t.sent,d=b.ob(f),e({translations:d,locale:i,currency:a,site:c,language:l});case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initL10n",value:function(){var t=H(G().mark((function t(){var e;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof window){t.next=2;break}return t.abrupt("return");case 2:if(this.isInTrip()){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,Promise.all([r.e(4),r.e(0)]).then(r.bind(null,1088));case 7:return e=t.sent,window.tangramL10n=e,t.next=11,r.e(4).then(r.t.bind(null,2252,7));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4);case 16:case"end":return t.stop()}}),t,this,[[4,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"isInAliPayMini",value:function(){var t=this.getUserAgent();return!!/AlipayClient/i.test(t)&&/miniProgram/i.test(t)}},{key:"isInWeChatMini",value:function(){var t=this.getUserAgent();return!!/MicroMessenger/i.test(t)&&/miniProgram/i.test(t)}},{key:"isInKuaiShouMini",value:function(){var t,e=this.getUserAgent(),r="undefined"!==typeof window&&(null===(t=window)||void 0===t||null===(t=t.cmpBridge)||void 0===t?void 0:t.isKuaiShou);return!("function"!==typeof r||!r())||!!/kwapp/i.test(e)&&/miniProgram/i.test(e)}},{key:"isInAliPayQuNarZuCheMini",value:function(){return this.isInQunar()&&this.isInAliPayMini()}},{key:"isInTencentTravelMini",value:function(){var t,e=(null===this||void 0===this||null===(t=this.location)||void 0===t?void 0:t.query)||{};return this.isInWeixin()&&(null===e||void 0===e?void 0:e.sourcefrom)===T.q}},{key:"isInMiniProgram",value:,{key:"isInBaidu",value:function(){var t=this.getUserAgent();return/swan\//.test(t)}},{key:"isInNewQuickApp",value:,{key:"isInNewsArticle",value:function(){var t=this.getUserAgent();return/NewsArticle/i.test(t)}},{key:"isInDouYin",value:,{key:"checkIsMobile",value:function(){var t=this.context;if(t.isClient)return window.__IS_MOBILE__;var e=Object(v.g)(t);return Object(v.k)(e,this.location.query,this.getHost(),this.getFullUrl())}},{key:"miniProgramJumpUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.needLogin,n=void 0===r||r,i=e.isNavigate,o=void 0===i||i,a={url:encodeURIComponent(t),needLogin:n,isNavigate:!1,pageTitle:{color:{backgroundColor:"#ffffff",frontColor:"#000000"}}};a=encodeURIComponent(JSON.stringify(a));var u=this.getMiniProgramTarget(),c="".concat(T.t.CTRIP_PATH,"?data=").concat(a);this.isInAliPayQuNarZuCheMini()&&(c="".concat(T.t.QUNAR_ALIPAY_ZUCHE,"?url=").concat(encodeURIComponent(t))),this.isInTencentTravelMini()&&(c="".concat(T.t.TENCENT_TRAVEL_ZUCHE,"?jumpToUrl=").concat(encodeURIComponent(t))),o&&u&&u.navigateTo?u.navigateTo({url:c}):u&&u.redirectTo?u.redirectTo({url:c}):window.location.href=t}},{key:"miniProgramJumpNativePage",value:function(t){t.startsWith("/")||(t="/".concat(t)),this.getMiniProgramTarget().navigateTo({url:t})}},{key:"newQuickAppLogin",value:function(t){window.cmpBridge&&window.cmpBridge.goLogin&&window.cmpBridge.goLogin({url:encodeURIComponent(t),needLogin:!0,envIsMini:!0,isNavigate:!1})}},{key:"getTracePageIdInServer",value:function(t){var e;if(!this.context.isClient){var r=(this.context.req.query||{}).pageId;if(r)return r;var n=t.globalFloors,i=void 0===n?[]:n,o=Object(b.v)(i);if(0!=o.length)return null===(e=o[0].templateConfig)||void 0===e?void 0:e.tracePageIdH5}}},{key:"getParamsForGetPage",value:function(){var t=this.store.getState(),e=t.pageId,r=t.isDraft,n=t.saleChannelId,i=t.departureCityId,o=t.locale,a=t.currency,u=t.extPost,c=t.version,s=(this.getQConfig()||{}||{}).openMergeRequest,l=void 0===s?{}:s,f=F(F({},u),{},{pageId:e,isDraft:r,saleChannelId:n,hostFrom:this.getHostFromParam(),clientInfo:this.getDeviceInfo()});void 0!==l.default&&(f.needContents=!!l.default),void 0!==l[e]&&(f.needContents=l[e]),this.isInTrip()?(f.locale=o,f.currency=a):f.departureCityId=i,f=F(F({},f),Object(k.a)({query:this.location.query}));var d=this.getProductGroupExt(),p=this.getDestinationCityId();return p&&(f.destinationCityId=p),d&&(f.productGroupExt=d),c&&(f.version=c),f}},{key:"redirectToTripHomePage",value:function(){var t;t=this.context.isServer?"".concat(this.context.req.protocol,"://").concat(this.context.req.headers.host):"".concat(location.protocol,"//").concat(location.host),this.redirect(t)}},{key:"redirectToRelatedPage",value:function(e){var r,n,i;if(this.context.isServer){r="".concat(this.context.req.protocol,"://").concat(this.context.req.headers.host),n=t.from(e,"utf-8").toString("base64");var o=this.context.req.query;delete o.from,i="?".concat(w.a.stringify(o))}else{r="".concat(window.location.protocol,"//").concat(window.location.host),n=window.btoa(e);var a=w.a.parse(window.location.search);delete a.from,i="?".concat(w.a.stringify(a))}this.redirect("".concat(r,"/m/tangram/").concat(n).concat(i))}},{key:"getDestinationCityId",value:function(){var t,e=this.store.getState().destinationValid,r=this.location.query.destinationcityid;return b.db(r)&&e&&(t=Number(r)),t}},{key:"getProductGroupExt",value:function(t){var e=this.location.query,r=e.allianceid,n=e.sid,i=e.floorfidsort,o=this.store.getState(),u=o.districtInfo,c=void 0===u?{}:u,s=o.extPost,f=void 0===s?{}:s,d=o.pageId,p=(this.getQConfig()||{}).imgQualityObj,h=void 0===p?{}:p,v=h[d]||(null===h||void 0===h?void 0:h.default),g=f.productGroupExt,y=c.districtId,m=c.districtOrigin,b=this.getMiniProgramParam(),I=this.getMiniProgramAppIdParam(),w=this.getTencentTraverOuterUid(),T={riskType:1};try{if(g&&a()(Object(C.t)(g,{}))&&(T=Object(C.t)(g,{})),i){var S=N(null===i||void 0===i?void 0:i.split("-"),2),k=S[0],O=S[1];k&&(T.floorId=Number(k)),O&&(T.floorSort=Number(O))}}catch(P){}if(t&&(T.locationCityId=t),r&&(T.allianceid=this.filterExtId(r)),n&&(T.sid=this.filterExtId(n)),y&&(T.districtId=y),b&&(T.miniProgram=b),I&&(T.miniProgramAppId=I),w&&(T.outerUid=w),v&&(T.imgquality=v),["url","adjust","select"].includes(m)||(T.implicitDistrictId=!0),"default"===m&&(T.districtDefaultScene=!0),!l()(T))return JSON.stringify(T)}},{key:"filterExtId",value:function(t){return Array.isArray(t)?t[0]||"":t}},{key:"getTencentTraverOuterUid",value:function(){try{if(this.isInTencentTravelMini()&&"undefined"!==typeof window){var t,e,r=(null===(t=window)||void 0===t||null===(t=t.location)||void 0===t||null===(t=t.search)||void 0===t||null===(e=t.split)||void 0===e?void 0:e.call(t,"&")).find(()||"";return(null===r||void 0===r?void 0:r.replace("outOpenId=",""))||""}}catch(n){}return""}},{key:"getContentV2ProductGroupExt",value:function(t){var e=this.location.query,r=e.allianceid,n=e.sid,i=this.store.getState(),o=i.districtInfo,u=void 0===o?{}:o,c=i.extPost,s=void 0===c?{}:c,f=i.pageId,d=(this.getQConfig()||{}).imgQualityObj,p=void 0===d?{}:d,h=p[f]||(null===p||void 0===p?void 0:p.default),v=s.productGroupExt,g=u.districtOrigin,y=this.getMiniProgramParam(),m=this.getMiniProgramAppIdParam(),b=this.getQconfigPostParamsExt(),I=this.getTencentTraverOuterUid();try{v&&a()(Object(C.t)(v,{}))&&(b=Object(C.t)(v,{}))}catch(w){}if(t&&(b.locationCityId=t),r&&(b.allianceid=this.filterExtId(r)),n&&(b.sid=this.filterExtId(n)),y&&(b.miniProgram=y),m&&(b.miniProgramAppId=m),I&&(b.outerUid=I),h&&(b.imgquality=h),["url","adjust","select"].includes(g)||(b.implicitDistrictId=!0),!l()(b))return JSON.stringify(b)}},{key:"getVersionParam",value:function(){return this.isInCtripApp()?this.getAppVersionLong():this.isInTripApp()?this.getTripAppVersion():void 0}},{key:"getAppVersionFromBridge",value:function(){return new Promise((function(t){try{"undefined"!==typeof CtripHySDK?CtripHySDK.app.getAppInfo({},(function(e){var r=e&&e.data&&e.data.version;r&&(r=parseFloat(r)),t(r)})):t(!1)}catch(e){t(!1)}}))}},{key:"getQunarSdk",value:function(){try{if(this.context&&this.context.isClient&&"undefined"!==typeof window.hysdk)return window.hysdk}catch(t){}return null}},{key:"getTripAppVersion",value:,{key:"getTripAppVersionOld",value:function(){if(this.isInOldTripApp())try{var t=this.getUserAgent().split(" ");if(Array.isArray(t)&&t.length>0){var e=t.find((),r=Number(e.split("/")[1].split(".").join(""));if("number"===typeof r)return r}}catch(n){}}},{key:"getAppVersion",value:function(){var t=H(G().mark((function t(){var e;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.context.isServer){t.next=4;break}e=this.getAppVersionFromUA(),t.next=7;break;case 4:return t.next=6,this.getAppVersionFromBridge();case 6:e=t.sent;case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAppVersionFromUA",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var e=this.getUserAgent(),r=e.split("_");if(Array.isArray(r)&&r.length>0){var n=r.indexOf("CtripWireless");if(r.length>n){var i=r[n+1],o=i.split(".");if(3===o.length)return t?parseInt(o[0]+"0".concat(o[1]).slice(-2)+"00".concat(o[2]).slice(-3)):parseInt(o[0]+"0".concat(o[1]).slice(-2))}}}catch(a){}}},{key:"getAppVersionLong",value:,{key:"isAppVersionGreatThan",value:function(){var t=H(G().mark((function t(e){var r;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isInCtripApp()){t.next=5;break}return t.next=3,this.getAppVersion();case 3:return r=t.sent,t.abrupt("return",r>=e);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getDeviceInfo",value:function(){var t=this.store.getState(),e=t.statusBarHeight,r=t.screenWidth,n=t.hasNotch,i=t.iPhoneScreenWidth,o=t.iPhoneStatusHeight,a=F({hasNotch:n},this.getAppInfo()),u=e||o,c=r||i;return u>0&&c>0&&(a.statusBarHeight=u,a.screenWidth=c),a}},{key:"getAppInfo",value:function(){var t=this.isIOSDevice()?"ios":"android",e=this.getHostFromParam();return this.isInCtripApp()||this.isInZTApp()||this.isInTDSApp()||this.isInTripApp()||this.isInQunarApp()?{appName:e,appPlatform:t}:{}}},{key:"getCommonParamsForGetContent",value:function(t){var e,r=this.store.getState(),n=r.saleChannelId,o=r.departureCityId,a=r.locale,u=r.currency,c=r.isDraft,s=r.extPost,f=r.isMobile,d=r.version,p=this.location.query,h=p.coords,v=p.lat,g=p.lon,y=p.type,m=p.distance,b=p.fromNearby,I=p.districtId,w=F(F({},s),{},{isDraft:c,tokens:i()(t),saleChannelId:n,hostFrom:this.getHostFromParam(),clientInfo:this.getDeviceInfo()}),C={distance:m,fromNearby:b,districtId:I};if(l()(v)||l()(g)||l()(y)||!f){if("1"===h&&f){var T=this.getCoordsParam(),S=T.coords,O=T.locationCityId;!l()(S)&&O&&(C=S,e=O)}}else C.lat=Number(v),C.lon=Number(g),C.type=y;C&&(w.coordinate=C);var P=this.getProductGroupExt(e);P&&(w.productGroupExt=P);var L=this.getDestinationCityId();return L&&(w.destinationCityId=L),this.isInTrip()?(w.locale=a,w.currency=u):w.departureCityId=o,w=F(F({},w),Object(k.a)({query:this.location.query})),d&&(w.version=d),w}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},o=r.subEnv,a=E(r,_);if("fat"===this.context.env&&o){var u=-1!==t.indexOf("?")?"&":"?";t="".concat(t).concat(u,"subEnv=").concat(o)}t.startsWith("/qconfig")||t.startsWith("/shark")||t.startsWith("/clog")?(t="/tangram".concat(t),i=F(F({},a),{},{raw:!0})):i=F({},a);var c=this.store.getState(),s=c.query,f=c.pageId;try{var d=this.getQConfig(),p=d.postParams,h=void 0===p?{}:p,v=t.replace("/","");if(-1!==t.indexOf("?")){var g=t.match(/\d.+(?=\?)/);v=g?g[0]:v}var y=h[v];if(!l()(y)){var m=y["".concat(f)]||y.default;if(m){var b={};m.split(",").map((function(t){var e=t.toLocaleLowerCase();s[e]&&(b[t]=s[e])})),v.indexOf("16035/getContentV2")>-1?e.extendJson=JSON.stringify(Object.assign(Object(C.t)(e.extendJson||"{}",{}),b)):(v.indexOf("16035/getPage")>-1||v.indexOf("16035/getContent")>-1)&&(e.productGroupExt=JSON.stringify(Object.assign(Object(C.t)(e.productGroupExt||"{}",{}),b)))}}if(this.isDebugLocaleInTrip()){var I=this.getDebugParamsInTrip();e=F(F({},e),I)}return W(Y(n.prototype),"post",this).call(this,t,e,i)}catch(w){this.logMetricTrace("o_tangram_fetch_error_h5",0,{desc:x.Ic,error:w,pageId:f})}}},{key:"fetchGetPage",value:function(){var t=H(G().mark((function t(){var e,r,n,i,o,a,u,c,s,l,f;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.store.getState(),r=e.pageId,n=this.location.query.subenv,i=void 0===n?"fat95":n,!["undefined"].includes(r)){t.next=5;break}return t.abrupt("return",{});case 5:return o=this.getParamsForGetPage(),a=S.h,t.prev=7,c=(new Date).getTime(),t.next=11,this.post(a,o,{subEnv:i});case 11:return s=t.sent,l=(new Date).getTime(),L.a.setGetPageTime(l-c),f=null===(u=this.context)||void 0===u||null===(u=u.res)||void 0===u?void 0:u.locals,this.SSR&&f&&(f.startSSRGetPageTime=c,f.endSSRGetPageTime=l),t.abrupt("return",s);case 19:return t.prev=19,t.t0=t.catch(7),this.tracelog("FETCH_16035_GET_PAGE",t.t0.message),t.abrupt("return",{});case 24:case"end":return t.stop()}}),t,this,[[7,19]])})));return function(){return t.apply(this,arguments)}}()},{key:"getContentWithPrefetch",value:function(){var t=H(G().mark((function t(e){var r,n,i,o,a,u,c,s,l;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tokenList,n=e.prefetchedResult,i=[],t.prev=2,o=b.I({tokenList:r,tokenContentList:n}),a=o.prefetchedContentList,u=void 0===a?[]:a,c=o.leftTokenList,s=void 0===c?[]:c,t.next=6,this.fetchGetContent(s);case 6:l=t.sent,i=u.concat(l),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2);case 13:return t.prev=13,t.abrupt("return",i);case 16:case"end":return t.stop()}}),t,this,[[2,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()},{key:"PAGEParams",value:function(t){var e=t.token,r=t.pageIndex,n=t.tabKey;return F(F({},this.getParamsForGetContentV2([e],n)),{},{pageIndex:r,pageSize:10})}},{key:"getParamsForGetContentV2",value:function(t,e){var r,n=this.store.getState(),o=n.saleChannelId,a=n.departureCityId,u=n.locale,c=n.currency,s=n.isDraft,f=n.extPost,d=n.isMobile,p=n.districtInfo.districtId,h=this.location.query,v=h.coords,g=h.lat,y=h.lon,m=h.type,b=h.distance,I=h.fromNearby,w=F(F({},f),{},{isDraft:s,tokens:i()(t),saleChannelId:o,hostFrom:this.getHostFromParam(),clientInfo:this.getDeviceInfo()}),C={distance:b,fromNearby:I,districtId:p};if(l()(g)||l()(y)||l()(m)||!d){if("1"===v&&d){var T=this.getCoordsParam(),S=T.coords,O=T.locationCityId;!l()(S)&&O&&(C=S,r=O)}}else C.lat=Number(g),C.lon=Number(y),C.type=m;C&&(w.coordinate=C);var P=this.getContentV2ProductGroupExt(r);P&&(w.extendJson=P),this.isInTrip()?(w.locale=u,w.currency=c):w.departureCityId=a,w=F(F({},w),Object(k.a)({query:this.location.query}));var L=this.getVersionParam();L&&(w.version=L),void 0!==e&&(w.tabKey=e);var x={globalId:p,geoCategoryId:6};return w.destination=x,w}},{key:"fetchGetContentV2",value:function(){var t=H(G().mark((function t(){var e,r,n,i,o,a,u,c,s,l=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l.length>0&&void 0!==l[0]?l[0]:[],r=l.length>1?l[1]:void 0,0!==e.length){t.next=4;break}return t.abrupt("return",[]);case 4:return n=this.location.query.subenv,i=void 0===n?"fat95":n,o=this.getParamsForGetContentV2(e,r),a=S.e,t.prev=7,t.next=10,this.post(a,o,{subEnv:i});case 10:if(t.t0=t.sent,t.t0){t.next=13;break}t.t0={};case 13:return u=t.t0,c=u.tokenContentList,s=void 0===c?[]:c,t.abrupt("return",s);case 18:return t.prev=18,t.t1=t.catch(7),this.tracelog("FETCH_16035_GET_CONTENT",t.t1.message),t.abrupt("return",[]);case 23:case"end":return t.stop()}}),t,this,[[7,18]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchDIYPage",value:function(){var t=H(G().mark((function t(e){var r,n,i,o,a,u,c,s,l,f,d;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.token,n=e.pageIndex,i=e.tabKey,r){t.next=3;break}return t.abrupt("return",[]);case 3:return o=this.location.query.subenv,a=void 0===o?"fat95":o,u=this.PAGEParams({token:r,pageIndex:n,tabKey:i}),c=S.e,s=!1,l=[],t.prev=8,t.next=11,this.post(c,u,{subEnv:a,timeout:3e3});case 11:if(f=t.sent,d=f.tokenContentList,Array.isArray(d)){t.next=15;break}throw new Error("fetch diy page error");case 15:s=!0,l=d,t.next=24;break;case 19:t.prev=19,t.t0=t.catch(8),this.tracelog("FETCH_16035_GET_CONTENT",t.t0.message),s=!1,l=[];case 24:return t.abrupt("return",{isSuccess:s,tokenContentList:l});case 25:case"end":return t.stop()}}),t,this,[[8,19]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getContentV2WithPrefetch",value:function(){var t=H(G().mark((function t(e){var r,n,i,o,a,u,c,s,l,f,d;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.tokenList,n=e.prefetchedResult,i=e.tabKey,o=e.tokenTabList,a=[],t.prev=2,u=b.I({tokenList:r,tokenContentList:n,tokenTabList:o}),c=u.prefetchedContentList,s=void 0===c?[]:c,l=u.leftTokenList,f=void 0===l?[]:l,t.next=6,this.fetchGetContentV2(f,i);case 6:d=t.sent,a=s.concat(d),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2);case 13:return t.prev=13,t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,this,[[2,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()},{key:"startLoadContent",value:function(){(0,this.store.actions.START_LOAD_CONTENT)(!0)}},{key:"setCookieAndExpire",value:function(t,e,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=F({},i);r&&(n=new Date(Date.now()+24*r*60*60*1e3),o.expires=n),this.setCookie(t,e,o)}},{key:"fetchABResult",value:function(){var t=H(G().mark((function t(){var e,r,n,i,o,a,u,c,s,l,f=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=f.length>0&&void 0!==f[0]?f[0]:""){t.next=3;break}return t.abrupt("return");case 3:return r=this.store.getState(),n=r.version,o=this.getPlatformId(),a=this.isInTrip()?13:0,u={PlatformId:o,ExpCode:e,IsUidAssign:!1,Version:n||812e3,ChannelCode:a},t.prev=7,t.next=10,this.post(S.c,u);case 10:c=t.sent,s=c.Data,l=s.AB,i=void 0===l?"A":l,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(7);case 19:return t.prev=19,t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this,[[7,16,19,22]])})));return function(){return t.apply(this,arguments)}}()},{key:"getCouponStatus",value:function(t){var e=t.userPromotionStatus,r=t.activityStatus,n=T.g[e],i=T.e[r];return{isTaken:[T.f.CanUse,T.f.NotCanUse].includes(n),isSoldOut:T.f.SnapUp===n||n===T.f.CanTake&&i===T.d.Ended,notStart:T.f.NotStart===n,isOnlyNew:T.f.OnlyNewUser===n,isHide:T.f.OutDate===n||!n,couponStatus:n,activityStatus:i}}},{key:"resetCityBoxPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isDest,r=void 0!==e&&e,n=r?"#destination_box":"#departure_box",i=document.querySelector(n),o=document.querySelector(".cm-header");if(i){i.style.paddingTop="0px";var a=this.store.getState(),u=a.global,c=void 0===u?{}:u,s=c.isCustomHeader;o&&s&&(o.style.backgroundColor="")}}},{key:"updateTripDistrictName",value:function(t,e){var r=this.store.getState().districtInfo,n=t.districtName,i=(e||{}).districtDefaultId;(0,this.store.actions.UPDATE_DISTRICT_INFO)(F(F({},r),{},{districtName:n,districtId:i||(null===r||void 0===r?void 0:r.districtId)}))}},{key:"adjustDistrict",value:function(){var t=this.store.getState(),e=t.districtInfo,r=t.adjustedDistrictId,n=t.destinationCityList;if(r&&e.districtId!=r){var i=n.find(()||{},o=i.id,a=i.name;(0,this.store.actions.UPDATE_DISTRICT_INFO)({districtId:o,districtName:a,districtOrigin:"adjust"})}}},{key:"adjustCityBoxPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isDest,r=void 0!==e&&e,n=r?"#destination_box":"#departure_box",i=document.querySelector(n),o=document.querySelector(".cm-header-bg"),a=document.querySelector(".cm-header");if(i&&o){var u=this.store.getState(),c=u.global,s=void 0===c?{}:c,l=u.headerHeight,f=u.statusBarHeight,d=u.globalConfig,p=s.scroll,h=void 0===p?{}:p,v=s.isCustomHeader,g=h.titleBgColor,y=h.isGradient,m=d.titleBackgroundImage,I=void 0===m?"":m;(v||I||y)&&(l+=f);var w=g&&g.toLowerCase(),C=getComputedStyle(o).backgroundColor,T=b.vb(C),S=function(){i.style.paddingTop="".concat(l,"px"),a&&(a.style.backgroundColor=w)};if(v)if(w&&T&&w===T)S();else if(this.isIOSApp()){var k="20px";this.isiPhoneX()&&(k="44px"),this.isiPhonePill()&&(k="59px"),i.style.paddingTop=k}else this.isAndroidApp()&&f>0&&(i.style.paddingTop="".concat(f,"px"));else S();a.style.zIndex=!v||w&&T&&w===T&&a?930:890}}},{key:"setBodyBgColor",value:,{key:"setTracePageId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r=this.store.getState(),n=r.tracePageId,i=r.tracePageIdH5,o=r.realPageIdNew,a=this.location.query||{},u=a.apppgid;this.pageId=t?this.isInCtripApp()||this.isInTripApp()||this.isInQunarApp()?u||n:i:n,this.realPageIdNew=o,this.logpv(e)}},{key:"logLoadTrace",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"H5",e=this.handleGetCommonTangTrace(t);this.tracelog("tang_page_load",JSON.stringify(e))}},{key:"getHost",value:function(){return this.context.isServer?this.context.req.headers.host:location.host}},{key:"getFullUrl",value:function(){if(this.context.isServer){var t=this.context.req;return"".concat(t.protocol,"://").concat(t.get("host")).concat(t.originalUrl)}return location.href}},{key:"isInAPP",value:,{key:"isIOSApp",value:function(){var t=this.getUserAgent();return/iPhone|iPad|iPod/i.test(t)&&this.isInAPP()}},{key:"isAndroidApp",value:,{key:"isiPhoneX",value:function(){return this.isInAPP()&&!!/iphone (x|11x|11|12|13|14)/i.test(this.getUserAgent())}},{key:"isiPhonePill",value:function(){return this.isInAPP()&&!!/iphone 14 pro/i.test(this.getUserAgent())}},{key:"isIOSDevice",value:function(){return!!/iPad|iPhone|iPod/.test(this.getUserAgent())}},{key:"isInCtripApp",value:function(){var t=this.getUserAgent();return/ctripwireless/i.test(t)&&!/trip.com/i.test(t)}},{key:"isInQunar",value:function(){var t=this.location.query.__isinqunar,e=void 0===t?"":t,r=!1;this.context.isServer&&(r=/qunar.com/i.test(this.context.req.headers["x-qunar-host"]));var n=/qunar.com/i.test(this.getHost());return n||r||"1"===e}},{key:"isAndroid",value:function(){return!!/android/i.test(this.getUserAgent())}},{key:"isInTripApp",value:,{key:"isInOldTripApp",value:function(){return/ibuctrip/i.test(this.getUserAgent())}},{key:"isInNewTripApp",value:function(){return/trip.com_ctripwireless/i.test(this.getUserAgent())}},{key:"isInTrip",value:function(){var t=this.location.query.__isintrip,e=void 0===t?"":t,r=/[A-Z|a-z]+\.(trip|tripcorp|tripqate)\.com$/i.test(this.getHost())&&!this.isInLvgo();return r||"1"===e}},{key:"isInCtripBizApp",value:function(){return/CoreInside/i.test(this.getUserAgent())}},{key:"isInCtripCustomApp",value:function(){return/CtripBaseContainer/i.test(this.getUserAgent())}},{key:"isInZTApp",value:function(){var t=this.location.query.__isinztapp,e=void 0===t?"":t,r=this.getHost(),n=this.getUserAgent();return/^(tieyou|zhixing)/.test(r)&&/tieyouwireless/i.test(n)||"1"===e}},{key:"isInZhixingApp",value:function(){var t=this.location.query.__isinztapp,e=void 0===t?"":t,r=this.getHost(),n=this.getUserAgent();return/zhixing/.test(r)&&/tieyouwireless/i.test(n)||"1"===e}},{key:"isInTDS",value:function(){return"bestone"===this.location.query.platform||this.isInTDSOnline()||this.isInTDSApp()}},{key:"isInTDSApp",value:function(t){var e=this.getUserAgent(t);return/ctripBestonWireless/i.test(e)}},{key:"isInTDSOnline",value:function(t){var e=this.location.query.__isintdsonline,r=void 0===e?"":e,n=this.getHost();return/^(bst)/.test(n)||"1"===r}},{key:"isInTripH5",value:function(){var t=this.location.query.__isintriph5,e=void 0===t?"":t,r=/\/m\//i.test(this.getFullUrl())||this.checkIsMobile();return this.isInTrip()&&r||"1"===e}},{key:"isOnline",value:function(){var t=!1;return(this.isInCtripOnline()||this.isInTripOnline()||this.isInTDSOnline())&&(t=!0),t}},{key:"isInTripOnline",value:function(){return this.isInTrip()&&!this.isInTripH5()}},{key:"isInCtrip",value:function(){var t=this.location.query.__isinctrip,e=void 0===t?"":t,r=/[A-Z|a-z]+\.(ctrip|ctripcorp)\.com$/i.test(this.getHost());return r||"1"===e}},{key:"isInCtripH5",value:,{key:"isInCtripOnline",value:function(){var t=this.location.query.__isinctriponline,e=void 0===t?"":t,r=/^(vacations)/.test(this.getHost());return r||"1"===e}},{key:"isInLvgo",value:,{key:"isDebugLocaleInTrip",value:function(){var t=this.location.query.__isintrip;return"1"===(void 0===t?"":t)}},{key:"getDebugParamsInTrip",value:function(){var t=this.location.query,e=t.locale,r=t.currency;return r||(r=O.a[e]||""),{locale:e,currency:r,hostFrom:"trip"}}},{key:"hasNetwork",value:function(){var t=H(G().mark((function t(){var e=this;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e.isInCtripApp()&&"undefined"!==typeof CtripUtil?CtripUtil.app_check_network_status(():"undefined"!==typeof window&&window.navigator&&window.navigator.onLine?t(window.navigator.onLine):t(!0)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"isWifi",value:function(){var t=H(G().mark((function t(){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInCtripApp()){t.next=3;break}return t.abrupt("return",!1);case 3:return t.abrupt("return",new Promise((function(t){CtripUtil.app_check_network_status((function(e){t("WIFI"==e.networkType)}))})));case 4:case"end":return t.stop()}}),t,this)})));return ()},{key:"fetch",value:function(){var t=H(G().mark((function t(e,r){var i,o;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.timeout||(T.C.includes(e)?r.timeout=3e3:r.timeout=1e4),i={},t.prev=2,o=Object(p.createHttpPerfMetric)({name:e}),t.next=6,W(Y(n.prototype),"fetch",this).call(this,e,r);case 6:i=t.sent,o({data:i}),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(2),new Error(t.t0);case 13:return t.prev=13,t.abrupt("return",i);case 16:case"end":return t.stop()}}),t,this,[[2,10,13,16]])})));return ()},{key:"reportFetchWarn",value:function(t){var e=t.url,r=void 0===e?"":e,n=t.options,i=void 0===n?{}:n,o=t.error,a=void 0===o?{}:o,u=t.response,c=void 0===u?{}:u;if(!r.includes("/clog")){var s=this.resolveFetchArgs(r,i).url,l=this.prependRestapi(s);this.reportInfoToClog({type:"warn",title:"FETCH WARN",error:a,message:{request:i,url:l,response:c},tags:{apiName:r}})}}},{key:"reportInfoToClog",value:function(t){var e=t.type,r=void 0===e?"warn":e,n=t.title,i=void 0===n?"logInfo":n,o=t.error,a=void 0===o?{}:o,u=t.message,c=void 0===u?{}:u,s=t.tags,l=void 0===s?{}:s,f=this.getClogCommonTags(),d=this.getClogCommonMessage(),p=JSON.stringify(F(F({error:a.stack||a.message||""},d),c));this.clog({type:r,title:i,message:p,info:F(F({},f),l)})}},{key:"getClogCommonMessage",value:function(){return{userAgent:this.getUserAgent(),referrer:this.getReferrer(),href:this.getHref(),env:this.context.isServer?"server":"client"}}},{key:"getClogCommonTags",value:function(){return{cid:this.cookie("_n_cid")||this.cookie("GUID")}}},{key:"timeoutPromise",value:function(t,e){var r=e).then(();return Promise.race([t,r])}},{key:"reportDistributeSale",value:function(){try{var t=this.store.getState(),e=t.realPageId,r=t.pageTitle,n=t.pageName,i=t.globalConfig,o=void 0===i?{}:i,a=t.saleChannelId,u=o.distributionChannels?Object(C.t)(o.distributionChannels,[]):[],c=this.getQConfig().distributeSale,s=void 0===c?{}:c;if(s=(s[e]||s.default||"").split(","),this.isOnline()||!u.includes(1))return;var l=this.location.query,f=Object.keys(l),d=s.reduce((function(t,e){var r=e.toLocaleLowerCase();if(f.includes(r)){var n=Array.isArray(l[r])?l[r][0]:l[r];t[e]=n}return t}),{pageId:"".concat(e),pageName:n,pageTitle:r}),p={reportData:b.jb(d),channelId:a,reportCode:1};this.post(S.l,p,{subEnv:l.subenv||"fat95"})}catch(h){}}},{key:"getQconfigPostParamsExt",value:function(){var t={};try{var e=this.getQConfig().postParams,r=void 0===e?{}:e,n=this.store.getState(),i=n.pageId,o=n.query,a=r["16035/getContentV2"];if(!l()(a)){var u=a["".concat(i)]||a.default;u&&u.split(",").map((function(e){var r=e.toLocaleLowerCase();o[r]&&(t[e]=o[r])}))}return t}catch(c){return t}}},{key:"addDomainUrl",value:function(t,e){if(null!==t&&void 0!==t&&t.startsWith("http"))return t;var r=Object(v.c)(this.context);return r.includes("localhost")&&(r=e||"http://hk.fat1.qa.nt.tripqate.com"),"".concat(r).concat(t)}}])&&B(o.prototype,u),s&&B(o,s),Object.defineProperty(o,"prototype",{writable:!1}),n}(g.a)}).call(this,r(1855).Buffer)},1859:function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var n=r(1040),i=r(1043),o=r(1057),a=r(1237),u=r(1270);nction l(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(n,i)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,u,"next",t)}function u(t){l(o,n,i,a,u,"throw",t)}a(void 0)}))}}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function p(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:String(e)}var v=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"updateServerDistrictCity",f(s().mark((function t(){var r,a,c,l,f,d,p,h,v,g,y,m,b,I,w,C,T,S,k,O,P,L,x,_,A,E,N,D,j,R;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(u.b)(e.controller),a=r.districtId,c=r.districtName,l=r.districtOrigin,f=e.controller.store.actions,d=f.UPDATE_DISTRICT_INFO,p=f.UPDATE_STATE,h=e.controller.store.getState(),v=h.extPost,g=void 0===v?{}:v,y=h.isInTrip,m=e.controller.cookie(o.k)||"",b=Object(u.c)(e.controller),y&&(m=null===b||void 0===b?void 0:b.districtId),I=e.controller.location.query,C=(w=void 0===I?{}:I).destinationcityid,T=w.districtid,S=w.shouldusemyowncity,k=void 0===S?"true":S,O=g.productGroupExt,P=void 0===O?"":O,L=g.destinationCityId,t.prev=9,x=i.bb(P)?Object(n.t)(P,{}):{},_=x.districtId,A=T||_,E=C||L,!i.db(A)||"false"===k){t.next=20;break}a=Number(A),l="url",2!==a&&(c=""),y&&(c=""),t.next=30;break;case 20:if(!i.db(E)||"false"===k){t.next=29;break}return t.next=23,e.getDistrictInfoFromMap(E);case 23:N=t.sent,D=N.id,j=N.name,D>0&&(a=D,c=j,l="url",p({destinationValid:!0})),t.next=30;break;case 29:i.db(m)&&(2!==(a=Number(m))&&(c=""),l="cookie",y&&(a=null===b||void 0===b?void 0:b.districtId,c=null===b||void 0===b?void 0:b.districtName));case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(9);case 35:return t.prev=35,d(R={districtId:a,districtName:c,districtOrigin:l}),t.abrupt("return",R);case 40:case"end":return t.stop()}}),t,null,[[9,32,35,40]])})))),p(this,"getDistrictInfoFromMap",function(){var t=f(s().mark((function t(r){var n,i,o,u,c,l,f,d,p,h,v,g,y,m,b;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={keys:[{geocategoryid:3,type:"base",globalId:r}]},i=e.controller.store.getState(),o=i.isInTrip,u=i.locale,o&&(n.locale=u),t.prev=3,t.next=6,e.controller.post(a.k,n,{timeout:3e3});case 6:return c=t.sent,l=c.locationMaps,f=(void 0===l?[]:l)[0]||{},d=f.locations,h=(p=void 0===d?[]:d).find((function(t){return 6===t.geocategoryid}))||{},v=h.globalid,g=void 0===v?0:v,y=h.name,m=void 0===y?"":y,b="",o&&p.forEach((function(t){!b&&(null===t||void 0===t?void 0:t.translation)&&(b=null===t||void 0===t?void 0:t.translation)})),t.abrupt("return",{id:g,name:b||m});case 16:return t.prev=16,t.t0=t.catch(3),t.abrupt("return",{id:0,name:""});case 20:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e){return t.apply(this,arguments)}}()),p(this,"saveDistrictCityToStorage",(function(t){if("undefined"!==typeof CtripStorage){var e=JSON.stringify(p({},o.k,t));CtripStorage.app_storage_save("cookie",e,"TOUR_COOKIE_MODEL",2592e3)}}))}var e,r,c;return e=t,(r=[{key:"setDistrictIdToCookie",value:function(t){this.controller.setCookieAndExpire(o.k,t,1),this.saveDistrictCityToStorage(t)}}])&&d(e.prototype,r),c&&d(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1860:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}unction c(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}r.d(e,"a",(function(){return f}));var l=!1,f=u(();c(f,"LocationFlateLayer",(function(t,e){try{if(!t.isInCtripApp())return;if(e||l){var r=t.store.getState(),n=r.tracePageIdH5,o=r.showGap,a=r.globalConfig.guideText,u={key:e?"show_location_guide_view":"hide_location_guide_view",domain:"Tour",pageid:n,positiontype:o?1:0,biztype:"tour",guidetext:void 0===a?"":a},c=e?80090:80091;t.logDevTrace("o_tangram_location_guide_view",i(i({},u),{},{businessCode:c})),l=e,CtripBusiness.app_do_business_job(9,c,u)}}catch(s){}}))},1862:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(1044),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clickLinkNative,r=t.clickLinkHybrid,i=t.clickLinkHttp,o=t.clickLinkMiniProgram;(e||r||i.startsWith("http")||o)&&n.LogUtil.UBTLogDevTrace("o_tangram_dev_pagenext_click")}},2090:function(t,e,r){"use strict";r.d(e,"a",(function(){return x}));var n=r(1095),i=r.n(n),o=r(1120),a=r(1043),u=r(1237),c=r(1046);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){l=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),u=new A(n||[]);return i(a,"_invoke",{value:P(t,r,u)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="executing",g="completed",y={};function m(){}function b(){}function I(){}var w={};f(w,a,(function(){return this}));var C=Object.getPrototypeOf,T=C&&C(C(E([])));T&&T!==r&&n.call(T,a)&&(w=T);var S=I.prototype=m.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,u){var c=p(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function P(e,r,n){var i=h;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var u=n.delegate;if(u){var c=L(u,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var s=p(e,r,n);if("normal"===s.type){if(i=n.done?g:"suspendedYield",s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i=g,n.method="throw",n.arg=s.arg)}}}function L(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(s(e)+" is not iterable")}return b.prototype=I,i(S,"constructor",{value:I,configurable:!0}),i(I,"constructor",{value:b,configurable:!0}),b.displayName=f(I,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,I):(t.__proto__=I,f(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(d(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),f(S,c,"Generator"),f(S,a,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return u.type="throw",u.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:E(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function f(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(n,i)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){f(o,n,i,a,u,"next",t)}function u(t){f(o,n,i,a,u,"throw",t)}a(void 0)}))}}var p={Aboard:2,Domestic:1,Unknown:-1,aroundAboardRectList:[[125478833,40538425,135928497,16590043],[128054454,54437790,136370032,49918776],[89567309,54351906,115617882,47881407],[71832315,54566279,82281980,46323836],[72788974,28001436,85887850,16590043],[92510877,48029708,111570476,45034268],[85593493,26157025,97294174,16519064],[97073406,20935216,107743838,16305964],[98324422,45190596,109142033,42854577],[71979493,45863038,78896877,41817208]],chinaRectList:[[85374342,41697126,124486996,28705892],[98942349,28714002,122527683,23331042],[108012216,23415965,119252965,17294543],[120025651,51286036,126391116,41330674],[82936701,46727439,90553182,41621242],[126188746,48211817,129757821,42485061],[129518656,47611932,131468770,44959641],[131376782,47487374,133805226,46225387],[79753968,41876130,85604309,30872189],[113457816,44802677,120117638,41517618],[118977005,23526282,121975765,21629857],[109667973,17321053,119050594,14580095],[76258482,40359687,80011530,35915704],[90534784,44710915,94030271,41531444],[80710628,45077082,83028687,41862379],[85935460,48414308,88437492,46645143],[93975079,42559912,101462779,41600531],[93956681,44157262,95354876,42491869],[116695740,46301949,120117638,44619006],[116401384,49444657,120191227,48057877],[121000708,53244099,124569783,51210984],[106724405,42232628,113494611,41683336],[112133211,44355602,113568200,42123151],[110918989,43155464,112206800,42232628],[115150367,45324216,116769330,44724032],[126299129,49588397,128102064,48057877],[128065270,49131761,129757821,48131826],[129721026,48622090,130530508,47611932],[124349016,52822665,125710416,51095279],[122325313,28884167,123760302,25662561],[111029373,14651757,118388292,10605300],[109778357,10095218,109778357,10095218],[109631178,10459649,116548562,7753573],[110514249,7826971,113678584,4734480],[124330619,41399976,125480450,40689610],[126345123,42512290,128046872,41827986],[127973283,42539507,129104717,42143692],[74510739,40162360,76350468,38678393],[119087389,21629857,120706351,20142916],[106853187,23339537,108067408,21990651],[129707229,44975967,130985841,43017244],[130958245,44582859,131169814,43104932],[131418176,46247729,133129126,45359896],[133073934,48054793,134269758,47409374],[99701237,23386249,101577762,22174986],[100179567,22243514,101559364,21745927],[101485775,23437187,104245370,22875776],[98008686,25240784,99057332,24181992],[124463999,40686109,124905534,40461646],[125457453,41334141,126055365,40979564],[126368119,41824546,126607284,41645397],[125475850,40979564,125687419,40853958],[124477797,40465160,124728460,40343852],[124470898,40347371,124618076,40285757],[124891736,40694862,125153898,40607283],[126046166,41332407,126262335,41165784],[127214395,41836586,128083666,41546995],[126386516,50257998,126386516,50257998],[126280732,50257998,127513351,49580921],[126363520,50934256,127117809,50225552],[125669022,52398490,126276133,51247082],[80948643,30905163,81403976,30280446],[83574857,30911112,85488176,29214825],[98136317,28872274,99079179,27642374]],largeChinaRect:[73083331,54006559,135266195,17015367],isInRect:function(t,e,r){return t>=r[0]&&t<=r[2]&&e>=r[3]&&e<=r[1]},isInRectList:function(t,e,r){for(var n,i=0;i<r.length-1;i++)if(n=r[i],this.isInRect(t,e,n))return!0;return!1},getCountry:function(){var t=d(l().mark((function t(e,r){var n,o,a,u,s,f;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.Unknown,o=1e6*r,a=1e6*e,(u=!this.isInRect(a,o,this.largeChinaRect))||(u=this.isInRectList(a,o,this.aroundAboardRectList)),u?n=this.Aboard:this.isInRectList(a,o,this.chinaRectList)&&(n=this.Domestic),-1!==n){t.next=21;break}return n=this.Aboard,t.prev=8,t.next=11,this.fetchAddress(e,r);case 11:return s=t.sent,t.next=14,s.json();case 14:f=t.sent,n=!f||i()(f.regeocode)||i()(f.regeocode.addressComponent)||f.regeocode.addressComponent.country!==c.o?this.Aboard:this.Domestic,t.next=21;break;case 19:t.prev=19,t.t0=t.catch(8);case 21:return t.abrupt("return",n);case 22:case"end":return t.stop()}}),t,this,[[8,19]])})));return function(e,r){return t.apply(this,arguments)}}(),fetchAddress:function(){var t=d(l().mark((function t(e,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://restapi.amap.com/v3/geocode/regeo?location=".concat(e,",").concat(r,"&key=0b895f63ca21c9e82eb158f46fe7f502&radius=0&extensions=all"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},h=r(1057),v=r(1270),g=r(1860),y=["locatedSuccess"],m=["longitude","latitude","geoType","departureCityId"];function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){P(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}unction T(){T=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new A(n||[]);return i(a,"_invoke",{value:P(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="executing",h="completed",v={};function g(){}function y(){}function m(){}var I={};s(I,a,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(E([])));C&&C!==r&&n.call(C,a)&&(I=C);var S=m.prototype=g.prototype=Object.create(I);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){ar o;i(this,"_invoke",{value:)} y.prototype=m,i(S,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:y,configurable:!0}),y.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=e.mark=e.awrap=k(O.prototype),s(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=k(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(),e.keys=e.values=E,A.prototype={constructor:A,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,e}=function(){function t(e){var n=this;!this,t),P(this,"checkWebLocationPermissions",k(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){try{navigator.permissions?navigator.permissions.query({name:"geolocation"}).then((function(e){n.controller.logDevTrace("o_tangram_location_permission",{permission:e,platform:"h5"}),"granted"===e.state?t(!0):t(!1)})):t(!1)}catch(e){t(!1)}})));case 1:case"end":return t.stop()}}),t)})))),P(this,"fetchLocationCity",function(){var t=k(T().mark((function t(e){var r,i,o,a,c,s,l;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.longitude,i=e.latitude,o=e.geoType,r&&i){t.next=3;break}return t.abrupt("return",{});case 3:return t.next=5,p.getCountry(r,i);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0=1;case 8:return a=t.t0,t.prev=9,c={Longitude:r,Latitude:i,Type:a,CoordType:h.c},t.next=13,n.controller.post(u.f,c,{timeout:3e3});case 13:return s=t.sent,l=s.Data,t.abrupt("return",{data:l,longitude:r,latitude:i,geoType:o});case 18:return t.prev=18,t.t1=t.catch(9),n.controller.tracelog("FETCH_13517_LOCATIONCITY",t.t1.message),t.abrupt("return",{});case 23:case"end":return t.stop()}}),t,null,[[9,18]])})));return function(e){return t.apply(this,arguments)}}()),P(this,"getLocatingPosition",function(){var t=k(T().mark((function t(e){var r,i,o,a;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},i="h5",o=n.controller.location.query,a=void 0===o?{}:o,t.prev=3,"1"!==(null===a||void 0===a?void 0:a.locatetype)&&n.controller.isInCtripApp()){t.next=17;break}return t.next=7,n.checkWebLocationPermissions();case 7:if(!t.sent){t.next=15;break}return t.next=11,n.getWebPositionInfo();case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={};case 14:r=t.t0;case 15:t.next=74;break;case 17:if(!n.controller.isInCtripApp()&&!n.controller.isInTripApp()){t.next=27;break}return i=n.controller.isInTripApp()?"tripApp":"ctripApp",t.next=21,n.getCtripAppPositionInfo(e);case 21:if(t.t1=t.sent,t.t1){t.next=24;break}t.t1={};case 24:r=t.t1,t.next=74;break;case 27:if(!n.controller.isInZTApp()){t.next=37;break}return i="ztApp",t.next=31,n.getZTAppCachedPosition();case 31:if(t.t2=t.sent,t.t2){t.next=34;break}t.t2={};case 34:r=t.t2,t.next=74;break;case 37:if(!n.controller.isInTencentTravelMini()){t.next=46;break}return t.next=40,n.getWebPositionInfo();case 40:if(t.t3=t.sent,t.t3){t.next=43;break}t.t3={};case 43:r=t.t3,t.next=74;break;case 46:if(!n.controller.isInWeixin()&&!n.controller.isInWeChatMini()){t.next=56;break}return i="weixin",t.next=50,n.getWeiXinLocatingPosition();case 50:if(t.t4=t.sent,t.t4){t.next=53;break}t.t4={};case 53:r=t.t4,t.next=74;break;case 56:if(!n.controller.isInKuaiShouMini()){t.next=59;break}t.next=74;break;case 59:if(!n.controller.isInTrip()){t.next=68;break}return t.next=62,n.getWebLocatingPosition();case 62:if(t.t5=t.sent,t.t5){t.next=65;break}t.t5={};case 65:r=t.t5,t.next=74;break;case 68:return t.next=70,n.getWebPositionInfo();case 70:if(t.t6=t.sent,t.t6){t.next=73;break}t.t6={};case 73:r=t.t6;case 74:t.next=79;break;case 76:t.prev=76,t.t7=t.catch(3);case 79:return t.prev=79,n.controller.logDevTrace("o_tangram_location",{location:r,type:i}),t.abrupt("return",r);case 84:case"end":return t.stop()}}),t,null,[[3,76,79,84]])})));return function(e){return t.apply(this,arguments)}}()),P(this,"getCtripAppCachedLocationData",(function(){return n.controller.timeoutPromise(new Promise((function(t,e){try{CtripLocate.appGetCachedLocationData(()}catch(r){t(!1)}})),3e3)})),P(this,"getCtripAppPositionInfo",function(){var t=k(T().mark((function t(e){var r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAppCachedPosition();case 2:if(!(r=t.sent)){t.next=5;break}return t.abrupt("return",r);case 5:if(!n.controller.isInCtripApp()){t.next=14;break}if(e!==h.v){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,n.checkCtripAppLocatePermissions();case 10:if(t.sent){t.next=14;break}return g.a.LocationFlateLayer(n.controller,!0),t.abrupt("return",{});case 14:return t.next=16,n.getAppLocatingPosition();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),P(this,"getAppCachedPosition",k(T().mark((function t(){var e,r,i,o,u,c,s;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getCtripAppCachedLocationData();case 2:if(e=t.sent,r=e.cachedGeo,o=(i=void 0===r?{}:r).lat,u=i.lng,c=i.geoType,s=i.accuracy,![o,u].every(a.db)){t.next=8;break}return t.abrupt("return",{latitude:o,longitude:u,geoType:c,accuracy:s});case 8:case"end":return t.stop()}}),t)})))),P(this,"getAppLocatingPosition",(function(){return n.controller.timeoutPromise(new Promise((function(t,e){try{CtripLocate.appLocate(3e3,!1,(function(e){if(e&&"geo"===e.type){var r=e.value,n=r.lat,i=r.lng,o=r.geoType,a=r.accuracy;t({latitude:n,longitude:i,geoType:o,accuracy:a})}else t(!1)}),"",h.r,2)}catch(r){t(!1)}})),3e3)})),P(this,"getZTAppCachedPosition",(function(){return n.controller.timeoutPromise(new Promise((function(t,e){try{ZtripBridge.getCachedLocationData((function(e){var r=e.cachedGeo,n=void 0===r?{}:r,i=n.lat,o=n.lng;t(!(!i||!o)&&{latitude:i,longitude:o})}))}catch(r){t(!1)}})),3e3)})),P(this,"getWebLocatingPosition",k(T().mark((function t(){var e,r,i,o;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.controller.qconfig||{},r=e.locationTimeout,i=void 0===r?5e3:r,o=new Promise((function(t,e){try{navigator.geolocation.getCurrentPosition((,(function(){t(!1)}),{timeout:3e3})}catch(r){t(!1)}})),t.abrupt("return",n.controller.timeoutPromise(o,i));case 3:case"end":return t.stop()}}),t)})))),P(this,"getWeiXinLocatingPosition",k(T().mark((function t(){var e;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(17).then(r.t.bind(null,1720,7));case 2:return e=t.sent,t.abrupt("return",new Promise((function(t,r){try{e.weixinReady((function(e){e.getLocationInfo({coordType:"wgs84",channel:"PACKAGE_P",timeout:3e3,onlyLocate:!0}).done((function(e){var r=e.coordType||{},n=r.latitude,i=r.longitude;t({latitude:n,longitude:i})})).fail((function(e){t(!1)})).complete(()})),setTimeout((,5e3)}catch(n){t(!1)}})));case 4:case"end":return t.stop()}}),t)})))),this.controller=e}var e,n,s;return e=t,(n=[{key:"checkCtripAppLocatePermissions",value:function(){var t=k(T().mark((function t(){var e=this;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){try{e.controller.isInCtripApp()&&"undefined"!==typeof CtripApplication?CtripApplication.callNative("Permission","checkPermissions",{functions:["location"]},(function(r){var n="1"===(null===r||void 0===r?void 0:r.location);e.controller.logDevTrace("o_tangram_location_permission",{permission:n}),t(n)})):t(!0)}catch(r){t(!1)}})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"updateLocationCity",value:function(){var t=k(T().mark((function t(e){var r,n,o,u,c,s,l,f,d,p,h;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.controller.store.getState(),n=r.locationInfo,i()(n)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,o=this.controller.store.actions.UPDATE_LOCATION_INFO,t.next=7,this.getLocationCityInfo(e);case 7:u=t.sent,c=u.data,s=u.longitude,l=u.latitude,f=u.geoType,d=a.f(c,{longitude:s,latitude:l,geoType:f}),p=d.locatedSuccess,h=C(d,y),o(d),p&&this.controller.departure.setCityInfoToLocal(h),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3);case 21:case"end":return t.stop()}}),t,this,[[3,18]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getLocationCityInfo",value:function(){var t=k(T().mark((function t(e){var r,n,i,a,u,s;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getLocatingPosition(e);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:if(r=t.t0,n=r.longitude,i=r.latitude,a=r.geoType,u=r.departureCityId,s=C(r,m),n&&i){t.next=11;break}return t.abrupt("return",{});case 11:if(!u){t.next=14;break}return o.a.setSiteFrom(c.Ub),t.abrupt("return",{longitude:n,latitude:i,geoType:a,data:w({departureCityId:u},s)});case 14:return t.next=16,this.fetchLocationCity({longitude:n,latitude:i,geoType:a});case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getWebPositionInfo",value:function(){var t=k(T().mark((function t(){var e;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.getWebCachedPosition())){t.next=3;break}return t.abrupt("return",e);case 3:return t.next=5,this.getWebLocatingPosition();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getWebCachedPosition",value:function(){var t,e=this.controller.departure.getTangramCityLocalStorage(),r=e.latitude,n=e.longitude,i=e.departureCityId,o=e.departureCityName,u=e.districtId,c=e.districtName;return[r,n,i,u].every(a.db)&&c&&o&&(t=e),t}},{key:"getTripLocationCityInfo",value:function(){var t=k(T().mark((function t(){var e,r,n,i;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getLocatingPosition();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:if(e=t.t0,r=e.longitude,n=e.latitude,i=e.geoType,r&&n){t.next=9;break}return t.abrupt("return",{});case 9:return t.next=11,this.fetchTripLocationCity({longitude:r,latitude:n,geoType:i});case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTripLocatedDistrictInfo",value:function(){var t=k(T().mark((function t(){var e,r,n,o,u,c,s,l,f,d,p;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.controller.store.getState(),r=e.locationInfo,i()(r)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,this.getTripLocationCityInfo();case 6:if(n=t.sent,o=n.gsCurrentCity,c=(u=void 0===o?{}:o).geoLocalName,s=u.geoID,l=n.longitude,f=n.latitude,d=n.geoType,!a.db(s)){t.next=19;break}return p={longitude:l,latitude:f,geoType:d,districtId:s,districtName:c},Object(v.f)(this.controller,p,10/1440),t.abrupt("return",p);case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(3);case 24:return t.abrupt("return");case 25:case"end":return t.stop()}}),t,this,[[3,21]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchTripLocationCity",value:function(){var t=k(T().mark((function t(e){var r,n,i,o,a,c,s,l;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.longitude,n=e.latitude,i=e.geoType,r&&n){t.next=3;break}return t.abrupt("return",{});case 3:return o=this.controller.store.getState(),a=o.locale,t.next=6,p.getCountry(r,n);case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=1;case 9:return c=t.t0,t.prev=10,s={language:a,Longitude:r,Latitude:n,Type:c,CoordType:h.c,appId:h.H,source:h.I,isNeedCityID:!0},t.next=14,this.controller.post(u.q,s,{timeout:3e3});case 14:return l=t.sent,t.abrupt("return",{gsCurrentCity:null===l||void 0===l?void 0:l.gsCurrentCity,longitude:r,latitude:n,geoType:i});case 18:return t.prev=18,t.t1=t.catch(10),this.controller.tracelog("FETCH_13517_LOCATIONCITY",t.t1.message),t.abrupt("return",{});case 23:case"end":return t.stop()}}),t,this,[[10,18]])})));return ()}])&&O(e.prototype,n),s&&O(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},2115:function(t,e,r){"use strict";var n=r(1046);e.a={html:{title:n.gd},htmlTitle:n.gd,locale:"en-US",currency:"USD",site:"EN",i18n:{copySuccess:"Copied Successfully",copyFail:"Copy Failed",pagenotfound:n.ob,defaultOnlineTitle:n.gd,defaultPCTitle:n.gd,anchorNavChooseCategory:n.p,alltypes:n.b,departureCity:"Departs from %1$s",minprice:"From %1$s",multiDepartureCities:"Multiple Departure Cities"},destinationValid:!1,headerInfo:{},headerMeta:{},hasIM:!1,isExistDepartSearch:!1,isExistDSScroll:!1,prefetchedResult:[],dynamicContentLoadedList:[],productHasLoaded:[],activityStatus:0,isEmptyResponse:!1,unorderedList:[],shouldHideBack:!1,pageType:2,floorList:[],realPageId:"",realPageIdNew:"",globalConfig:{},isDraft:!1,tracePageId:0,tracePageIdH5:0,shouldShowWarning:!1,shouldShowCityBox:!1,whiteIcon:!1,departureCityList:[],isMobile:!0,departureCityId:2,departureCityName:n.Q,shouldHideHead:!1,statusBarHeight:0,screenWidth:0,iPhoneScreenWidth:0,iPhoneStatusHeight:0,hasNearbyStore:!1,hasDistrict:!1,destinationCityList:[],showCustomerService:!1,showH5CurrencySelector:!1,customerInfo:{},hasCountDown:!1,isFreshForCountDown:!0,startLoadContent:!1,pageCategoryList:[]}},2116:function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.toLowerCase()},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map(()},s={BEFORE_TRAVEL:"1",TRAVELING:"2",LOCAL:"3",REMOTE:"4"},l={VACATION_NEW_USER:"1",SELF_GUIDED_NEW_USER:"2",TRAVEL_AROUND_NEW_USER:"3",NEW_GRID_NEW_USER:"4",HIGH_STAR_USER:"5",TICKET_NEW_USER:"6"},f={PARENTING:"1",LOVER_OR_BEST_FRIEND:"2",ELDERLY:"3",YOUNG:"4",OTHER:"5"},d={SKIIING:"1",CLIMB:"2",HOT_SPRING:"4",PHOTO:"8",DRIVE:"16",DIVING:"32",OUTDOOR:"64"},p={NONE:"1",ONE:"2",TWO:"4",THREE:"8",FOUR:"16",FIVE:"32",SIX:"64",SEVEN:"128"},h={IS:"1",NOT:"0"},v={IS:"1",NOT:"0"};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,r=void 0===e?{}:e,n=r.isdraft;return"1"!==n?{}:Object.keys(r).reduce((function(t,e){switch(e){case u("matchdna"):var n=r[u("matchdna")];return n&&c(h).includes(n)?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{matchCustomLabel:n})}):t;case u("matchcrowd"):var i=r[u("matchcrowd")];return i&&c(v).includes(i)?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{matchCdp:i})}):t;case u("theme"):var a=r[u("theme")];return a&&c(d).includes(a)?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userTheme:a})}):t;case u("userStar"):var g=r[u("userStar")];return g&&c(p).includes(g)?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userStar:g})}):t;case u("previewTime"):var y=Number(r[u("previewTime")]);return Number.isNaN(y)?t:o(o({},t),{},{previewTime:y});case u("previewVersion"):var m=r[u("previewVersion")];return m&&["A","B","C","D","E","F","G"].includes(m)?o(o({},t),{},{previewTestEdition:m}):t;case u("sceneType"):var b=r[u("sceneType")];return b&&c(s).includes(b)?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userSceneType:b})}):t;case u("userType"):var I=r[u("userType")];return I&&c(l).includes(I)?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userType:I})}):t;case u("age"):var w=Number(r[u("age")]);return Number.isNaN(w)?t:o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userAge:w})});case u("userCompositions"):var C=r[u("userCompositions")];return C&&c(f).includes(C)?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userComposition:C})}):t;case u("sid"):var T=r[u("sid")];return T?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{sid:T})}):t;case u("aid"):var S=r[u("aid")];return S?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{aid:S})}):t;case u("previewStatus"):var k=r[u("previewStatus")];return k?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{previewStatus:k})}):t;case u("favoriteStyleId"):var O=r[u("favoriteStyleId")];return O?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{favoriteStyleId:O})}):t;case u("userIntentSceneType"):var P=r[u("userIntentSceneType")];return P?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userIntentSceneType:P})}):t;case u("userIntentDestDimension"):var L=r[u("userIntentDestDimension")];return L?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userIntentDestDimension:L})}):t;case u("userIntentDestId"):var x=r[u("userIntentDestId")];return x?o(o({},t),{},{previewOption:o(o({},t.previewOption),{},{userIntentDestId:x})}):t;default:return t}}),{})}},2118:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return s})),r.d(e,"e",(function(){return f})),r.d(e,"g",(function(){return d})),r.d(e,"f",(function(){return p})),r.d(e,"d",(function(){return h})),r.d(e,"c",(function(){return v}));var n=r(1865),i=r.n(n),o=r(1866),a=r.n(o),u="YYYY-MM-DD HH:mm:ss",c="YYYY-MM-DD",s="HH:mm",l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-480;if("string"===typeof t){var n=/^\/Date\((\d+)([+\-]\d{4})\)\//i;n.test(t)&&(t=+t.replace(n,"$1"))}var i=a.a.parse(t);if(a.a.isValid(i)){var o=i.getTime(),c=(new Date).getTimezoneOffset(),s=c-r,l=60*s*1e3;return a.a.format(o+l,e)}return null},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-480;return l(new Date,t,e)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-480,r=(new Date).getTimezoneOffset(),n=l(t,u,r);if(n){var i=r-e,o=60*i*1e3,a=new Date(n).getTime()-o;return a}return NaN},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-480,e=f(u,t);if(e){var r=(new Date).getTimezoneOffset(),n=r-t,i=60*n*1e3,o=new Date(e).getTime()-i;return o}return NaN},h=function(t){return 0|+(t||"").replace(":","")},v=function(t){var e=i()(t+"",4,"0");return e.substr(0,2)+":"+e.substr(2,2)}},2338:2339:function(t,e,r){"use strict";n l(t){for(var e=Array(),r=0;r<8*t.length;r+=8)e[r>>5]|=(255&t.charCodeAt(r/8))<<r%32;return e}e.a=function(t){return n(l(t),8*t.length))}},2817:function(t,e,r){"use strict";r.r(e),r.d(e,"UPDATE_USER_INFO",(function(){return L})),r.d(e,"UPDATE_TOAST",(function(){return x})),r.d(e,"START_LOAD_CONTENT",(function(){return _})),r.d(e,"UPDATE_DISTRICT_INFO",(function(){return A})),r.d(e,"UPDATE_LOADING",(function(){return E})),r.d(e,"TOGGLE_WARNING",(function(){return N})),r.d(e,"UPDATE_CURRENCY",(function(){return D})),r.d(e,"UPDATE_I18N",(function(){return j})),r.d(e,"PAGE_STATUS",(function(){return R})),r.d(e,"UPDATE_DEFAULT_TITLE",(function(){return U})),r.d(e,"UPDATE_FLOOR_LIST",(function(){return F})),r.d(e,"UPDATE_SINGLE_FLOOR_LIST",(function(){return G})),r.d(e,"UPDATE_PRODUCT_LIST",(function(){return M})),r.d(e,"UPDATE_DIY_LIST_FOR_PC",(function(){return H})),r.d(e,"UPDATE_DIY_LIST",(function(){return B})),r.d(e,"UPDATE_DIY_PAGE_LIST",(function(){return q})),r.d(e,"UPDATE_TOKEN_CONTENT_LIST",(function(){return V})),r.d(e,"UPDATE_DYNAMIC_LOADED_LIST_BATCH",(function(){return W})),r.d(e,"UPDATE_DYNAMIC_LOADED_LIST",(function(){return Q})),r.d(e,"TOGGLE_CITY_BOX",(function(){return Y})),r.d(e,"UPDATE_DEPARTURE_CITY",(function(){return K})),r.d(e,"UPDATE_DEPARTURE_CITY_LIST",(function(){return z})),r.d(e,"UPDATE_TARGET_DEPART_CITY",(function(){return J})),r.d(e,"RESET_PREFETCH_RESULT",(function(){return $})),r.d(e,"SHOW_CUSTOMER_SERVICE",(function(){return Z})),r.d(e,"HIDE_CUSTOMER_SERVICE",(function(){return X})),r.d(e,"SHOW_H5Currency_Selector",(function(){return tt})),r.d(e,"HIDE_H5Currency_Selector",(function(){return et})),r.d(e,"UPDATE_FRESH_FOR_COUNT_DOWN",(function(){return rt})),r.d(e,"UPDATE_COUNT_DOWN_DATA",(function(){return nt})),r.d(e,"UPDATE_LIGHT_ICON",(function(){return it})),r.d(e,"UPDATE_NET_ENV",(function(){return ot})),r.d(e,"DEST_CALLBACK_LISTEN",(function(){return at})),r.d(e,"UPDATE_FOLLOW_INFO",(function(){return ut})),r.d(e,"UPDATE_SSR_AGCDATA",(function(){return ct}));var n=r(1095),i=r.n(n),o=r(1046),a=r(1269),u=r(1652),c=r(1043);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,u=[],c=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(t,e){var r=e.tokenTabList,n=e.tokenContentList,i=r.find((function(e){return e.token===t}))||{},o=n.find((function(e){return e.token===t}))||{},a=o.contents,u=void 0===a?"":a;return v(v(v({},i),o),{},{productInfoList:c.kb(u,[])})},m=function(t,e){var r=e.floorId,n=e.tokenTabList,i=e.tokenContentList,o=e.tabProductList,a=void 0===o?[]:o,u=e.options.currentIndex,c=void 0===u?0:u;return t.map((function(t){if(t.floorId!==r)return t;if(t.tabProductList){var e=(n[c]||{}).token,o=void 0===e?"":e;return v(v({},t),{},{tabProductList:t.tabProductList.map((function(t){return t.token!==o?t:a.find((function(t){return t.token===o}))||y(o,{tokenTabList:n,tokenContentList:i})}))})}return v(v({},t),{},{tabProductList:a})}))};function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}nction(t,e){var r=e.userInfo,n=e.isLogin;return O(O({},t),{},{userInfo:r,isLogin:n})},x=function(t,e){return O(O({},t),{},{toastContent:e})},_=function(t,e){return O(O({},t),{},{startLoadContent:e})},A=function(t,e){return O(O({},t),{},{districtInfo:e})},E=function(t,e){return O(O({},t),{},{shouldShowLoading:e})},N=function(t,e){return O(O({},t),{},{shouldShowWarning:e})},D=function(t,e){return O(O({},t),{},{currency:e})},j=function(t,e){var r=e.translations,n=e.locale,i=e.currency,o=e.language;return c.eb(r)?O(O({},t),{},{i18n:r,locale:n,language:o,currency:i}):t},R=function(t,e){var r=e.pageStatus,n=e.isEmptyResponse;return O(O({},t),{},{activityStatus:r,isEmptyResponse:n})},U=function(t){var e=t.isMobile,r=t.i18n,n=r.defaultPCTitle,i=r.defaultOnlineTitle,o=e?i:n;return O(O({},t),{},{html:O(O({},t.html),{},{title:o}),htmlTitle:o})},F=function(t,e){var r=e.globalFloors,n=e.normalFloors,i=e.realPageId,o=e.realPageIdNew,s=e.localePageId,l=e.prefetchedResult,f=e.pageName,d=e.directionalPageId,p=e.qConfigPageConfig,h=t.isMobile,v=t.isInCtripApp,g=t.isIOSApp,y=t.headerHeight,m=t.statusBarHeight,b=t.htmlTitle,I=t.shouldHideBack,w=t.shouldHideHead,C=t.pageId,T=t.isInTripH5,S=t.isInTrip,k=c.nb({globalFloors:r,normalFloors:n,qConfigPageConfig:p,pageId:C}),P=k.floorList,L=k.cityList,x=k.adjustedDepartureCityId,_=k.adjustedDistrictId,A=k.globalConfig,E=k.headerMeta,N=k.departSearchConfig,D=k.showGap,j=k.hasNearbyStore,R=k.hasCountDown,U=k.hasDistrict,F=k.countDownState,G=k.destinationCityList,M=k.pageCategoryList,H=A.tracePageId,B=A.tracePageIdH5,q=A.pageTitle,V=void 0===q?"":q,W=A.pageContent,Q=void 0===W?"":W;V=Object(a.a)(V,t.i18n),A.pageTitle=V;var Y=V||b,K=h?u.a({globalConfig:A,departSearchConfig:N,isInCtripApp:v,shouldHideHead:w,isIOSApp:g,isInTripH5:T,headerHeight:y,statusBarHeight:m,shouldHideBack:I,isInTrip:S}):{},z=K.global,J=void 0===z?{}:z,$=K.isExistDepartSearch,Z=K.headerInfo,X=void 0===Z?{}:Z,tt=K.isExistDSScroll,et=void 0!==tt&&tt,rt=J.hasIM,nt=void 0!==rt&&rt;return O(O({},t),{},{html:O(O({},t.html),{},{title:Y,description:Q}),showGap:D,pageTitle:V,htmlTitle:Y,floorList:P,tracePageId:H,tracePageIdH5:B,departureCityList:L,adjustedDepartureCityId:x,adjustedDistrictId:_,globalConfig:A,global:J,isExistDSScroll:et,headerInfo:X,headerMeta:E,hasIM:nt,hasDistrict:U,hasNearbyStore:j,hasCountDown:R,countDownState:F,destinationCityList:G,isExistDepartSearch:$,realPageId:i,realPageIdNew:o,localePageId:s,prefetchedResult:l,isFreshForCountDown:!1,pageCategoryList:M,pageName:f,directionalPageId:d})},G=M=function(t,e){var r=e.floorId,n=e.tokenTabList,i=e.tokenContentList,o=e.options,a=void 0===o?{}:o,u=t.floorList,c=void 0===u?[]:u,s=t.productHasLoaded,l=void 0===s?[]:s,f=t.dynamicContentLoadedList,d=void 0===f?[]:f,p=a.tabContent,h=function(t,e){var r=e.floorId,n=e.tabProductList;return t.map((function(t){return t.floorId!==r?t:O(O({},t),{},{tabProductList:n})}))},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0]||{},n=r.productGroupList,i=void 0===n?[]:n;if(i.length>0&&"1"===p){var o,a=[],u=C(i.entries());try{for(u.s();!(o=u.n()).done;){var c=w(o.value,2),s=c[0],l=c[1],f=l.groupName;l.tabName=f,l.token=s,a.push(l)}}catch(h){u.e(h)}finally{u.f()}return a}var d=t.map((function(t){var r=t.token,n=(e.find((function(t){return t.token===r}))||{}).productInfoList,i=void 0===n?[]:n;return t=O(O({},t),{},{productInfoList:i})})).filter((function(t){return t.productInfoList.length>0}));return d}(n,i),g=(h(c,{floorId:r,tabProductList:v})||[]).map((function(t){var e=t.category,n=t.subFloors,i=void 0===n?[]:n;if(16!==e||0===i.length)return t;var o=h(i,{floorId:r,tabProductList:v});return O(O({},t),{},{subFloors:o})})),y=v.length>0?v[0].productInfoList:[],m=l.concat([r]),b=d.concat([{floorId:r,contentList:y}]);return O(O({},t),{},{productHasLoaded:m,dynamicContentLoadedList:b,floorList:g})},H=function(t,e){var r=e.floorId,n=e.tokenTabList,i=e.tokenContentList,o=e.options,a=void 0===o?{}:o,u=t.floorList,s=void 0===u?[]:u,l=t.productHasLoaded,f=void 0===l?[]:l,d=t.dynamicContentLoadedList,p=void 0===d?[]:d,h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=a.autoGetTab;if("true"===r){var n=e[0]||{},i=n.contents,o=void 0===i?"":i,u=n.groupSuccess;if(!0===u){var s,l=[],f=c.kb(o,[]),d=C(f.entries());try{for(d.s();!(s=d.n()).done;){var p=w(s.value,2),h=p[0],v=p[1],g=v.groupName;v.tabName=g,v.token=h,l.push(v)}}catch(m){d.e(m)}finally{d.f()}return l}}var y=t.map((function(t){var r=t.token,n=e.find((function(t){return t.token===r}))||{},i=n.contents,o=void 0===i?"":i;return O(O(O({},t),n),{},{productInfoList:c.kb(o,[])})})).filter(();return y}(n,i),v=function(t,e){var r=e.floorId,n=e.tabProductList;return t.map((function(t){return t.floorId!==r?t:O(O({},t),{},{tabProductList:n})}))},g=(v(s,{floorId:r,tabProductList:h})||[]).map((function(t){var e=t.category,n=t.subFloors,i=void 0===n?[]:n;if(16!==e||0===i.length)return t;var o=v(i,{floorId:r,tabProductList:h});return O(O({},t),{},{subFloors:o})})),y=h.length>0?h[0].productInfoList:[],m=f.concat([r]),b=p.concat([{floorId:r,contentList:y}]);return O(O({},t),{},{productHasLoaded:m,dynamicContentLoadedList:b,floorList:g})},B=function(t,e){var r=e.floorId,n=e.tokenTabList,i=e.tokenContentList,o=e.options,a=void 0===o?{}:o,u=t.floorList,s=void 0===u?[]:u,d=t.productHasLoaded,p=void 0===d?[]:d,h=t.dynamicContentLoadedList,g=void 0===h?[]:h,b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=r.autoGetTab;if("true"===n){var i=e[0]||{},o=i.contents,a=void 0===o?"":o,u=i.groupSuccess;if(!0===u){var s,d=[],p=c.kb(a,[]),h=f(p.entries());try{for(h.s();!(s=h.n()).done;){var v=l(s.value,2),g=v[0],m=v[1],b=m.groupName;m.tabName=b,m.token=g,m.finished=!0,d.push(m)}}catch(w){h.e(w)}finally{h.f()}return d}}var I=t.map(();return I}(n,i,a),I=(m(s,{floorId:r,tabProductList:b,tokenContentList:i,tokenTabList:n,options:a})||[]).map((function(t){var e=t.category,o=t.subFloors,u=void 0===o?[]:o;return 16!==e||0===u.length||(t.subFloors=m(u,{floorId:r,tokenTabList:n,tokenContentList:i,tabProductList:b,options:a})),t})),w=b.length>0?b[0].productInfoList:[],C=p.concat([r]),T=g.concat([{floorId:r,contentList:w}]);return v(v({},t),{},{productHasLoaded:C,dynamicContentLoadedList:T,floorList:I})},q=function(t,e){var r=e.floorId,n=e.token,i=e.tokenContentList,o=t.floorList,a=function(t){var e=t.floorList,r=void 0===e?[]:e,i=t.floorId,o=t.tokenContentList;return r.map((function(t){if(t.floorId!==i)return t;var e=t.tabProductList,r=(o[0]||{}).contents;if(!e)return O(O({},t),{},{tabProductList:[O(O({},o[0]),{},{productInfoList:c.kb(r,[])})]});var a=e.map((function(t){var e=t.token,r=t.productInfoList;if(e!==n)return t;var i=o.find((function(t){return t.token===n}))||{},a=i.contents;return O(O(O({},t),i),{},{productInfoList:r.concat(c.kb(a,[]))})}));return O(O({},t),{},{tabProductList:a})}))},u=a({floorList:o,floorId:r,tokenContentList:i}).map((function(t){var e=t.category,n=t.subFloors,o=void 0===n?[]:n;if(16!==e||0===o.length)return t;var u=a({floorList:o,floorId:r,tokenContentList:i});return O(O({},t),{},{subFloors:u})}));return O(O({},t),{},{floorList:u})},V=function(t,e){var r=e.floorId,n=e.tokenContentList,i=t.floorList,o=void 0===i?[]:i,a=t.dynamicContentLoadedList,u=void 0===a?[]:a,s=c.w({floorList:o,floorId:r,tokenContentList:n}).map((function(t){var e=t.category,i=t.subFloors,o=void 0===i?[]:i;if(16!==e||0===o.length)return t;var a=c.w({floorList:o,floorId:r,tokenContentList:n});return O(O({},t),{},{subFloors:a})})),l=c.zb(u,r,n);return O(O({},t),{},{dynamicContentLoadedList:l,floorList:s})},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.dynamicContentLoadedList,n=void 0===r?[]:r,i=I(n);return e.forEach((function(t){var e=t.floorId,r=t.tokenContentList,n=t.isNeedProcess;i=c.zb(i,e,r,n)})),O(O({},t),{},{dynamicContentLoadedList:i})},Q=function(t,e){var r=e.floorId,n=e.tokenContentList,i=e.isNeedProcess,o=t.dynamicContentLoadedList,a=void 0===o?[]:o,u=c.zb(a,r,n,i);return O(O({},t),{},{dynamicContentLoadedList:u})},Y=function(t,e){return O(O({},t),{},{shouldShowCityBox:e})},K=function(t,e){var r=e.departureCityId,n=e.departureCityName,i=e.departureCityOrigin,o=e.source,a=void 0===o?1:o;return c.db(r)?O(O({},t),{},{departureCityId:Number(r),departureCityName:n,departureCityOrigin:i,source:a}):t},z=function(t,e){return O(O({},t),{},{departureCityList:e})},J=function(t,e){var r,n,a=t.adjustedDepartureCityId,u=t.departureCityId,c=Number(a)||u,s=e.find((function(t){return t.id===c})),l=e.find((function(t){return 2===t.id})),f=e[0];return s&&!i()(s)?(r=s.id,n=s.name):l&&!i()(l)?(r=2,n=o.Q):(r=f.id,n=f.name),O(O({},t),{},{departureCityId:r,departureCityName:n})},$=function(t){var e=t.prefetchedResult;return 0===(void 0===e?[]:e).length?t:O(O({},t),{},{prefetchedResult:[]})},Z=function(t,e){return O(O({},t),{},{showCustomerService:!0,customerInfo:e})},X=function(t){return O(O({},t),{},{showCustomerService:!1,customerInfo:{}})},tt=function(t){return O(O({},t),{},{showH5CurrencySelector:!0})},et=rt=function(t,e){return O(O({},t),{},{isFreshForCountDown:e})},nt=function(t,e){var r,n=t.floorList,i=e.find(()||{},o=(r=2,e.filter(()||[]),a=n,u=i.metricIdList,s=void 0===u?[]:u;return s.length>0&&(a=c.Ab(n,s)),o.length&&(a=a.map((function(t){if(16!==t.category)return t;var e=o.find(();if(!e)return t;var r=c.Ab(t.subFloors,e.metricIdList);return O(O({},t),{},{subFloors:r})}))),O(O({},t),{},{countDownList:e,floorList:a})},it=function(t,e){var r=t.global,n=r.scroll;return n.isLight===e?t:O(O({},t),{},{global:O(O({},r),{},{scroll:O(O({},n),{},{isLight:e})})})},ot=function(t,e){return O(O({},t),{},{netWorkEnv:e})},at=function(t,e){return O(O({},t),{},{destCallbackListen:e})},ut=function(t,e){var r=e.followGroupList,n=e.listWithoutFollow,i=e.sortElementList,o=e.floorId,a={followGroupList:r,listWithoutFollow:n,sortElementList:i},u=t.floorList.map((function(t){var e=t.floorId,r=t.category,n=t.subFloors;return 16===r&&n.map((),e!==o?t:O(O({},t),{},{diyfollowInfo:a})}));return O(O({},t),{},{floorList:u})},ct=}]);