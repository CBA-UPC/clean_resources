var com;!function(v){"use strict";v.com||(v.com={}),v.com.aniview||(v.com.aniview={}),v.com.aniview.player||(v.com.aniview.player={}),v.com.aniview.player.avVer="2.2.88";v.com.aniview.player.avPlayer=function(s){var n,r,o,e,l,a,p=new function(){var a={};this.subscribe=function(t,e,i){a[e]||(a[e]=[]),a[e].push({callback:t,context:i})},this.unsubscribe=function(t,e){if(a[e])for(var i=0;i<a[e].length;i++)if(a[e][i].callback===t){a[e].splice(i,1);break}},this.dispatch=function(t,e,i,n){if(a[t])for(var o=0;o<a[t].length;o++)if(a[t][o]&&"function"==typeof a[t][o].callback)try{a[t][o].callback.call(a[t][o].context,e,i,n)}catch(t){}}},d=this;d.AdLoaded=!1,d.playing=!1,d.muted=!s.autosound;var i,c,u=null,h=null,g=null;s.publisherId&&(s.publisherId=s.publisherId.trim()),s.channelId&&(s.channelId=s.channelId.trim()),l={AdLoaded:[],AdStarted:[],AdStopped:[],AdSkipped:[],AdClosed:[],AdSkippableStateChange:["adSkippableState"],AdSizeChange:["adWidth","adHeight"],AdLinearChange:["adLinear"],AdDurationChange:["adDuration","adRemainingTime"],AdExpandedChange:["adExpanded"],AdRemainingTimeChange:["adRemainingTime"],AdVolumeChange:["adVolume"],AdImpression:[],AdVideoStart:[],AdVideoFirstQuartile:[],AdVideoMidpoint:[],AdVideoThirdQuartile:[],AdVideoComplete:[],AdClickThru:[],AdInteraction:[],AdUserAcceptInvitation:[],AdUserMinimize:[],AdUserClose:[],AdPaused:[],AdPlaying:[],AdLog:[],AdError:[],Inventory:[],InventoryRequest:[],FullScreenRequest:[],AdEvent:[],VPAIDLoadError:[],AdTimeout:[]},document.getElementById("videoSlot"),n&&n.parentNode&&(n.parentNode.removeChild(n),n=null),(n=document.createElement("iframe")).setAttribute("id","AVLoader"+s.position),n.style.display="none",n.src="about:blank",e=function(){var t,e,i="https://player.aniview.com/script/6.1/";!s.baseJsUrl&&""!=s.baseJsUrl||(i=s.baseJsUrl);isNaN(s.abtest)&&1!==s.noabtest&&5==Math.floor(20*Math.random())&&(s.abtest=5),5==s.abtest?(i+="ab5/",s.baseJsUrl=i):s.noabtest=1,i=i+"AVmanager.js?v=1.0&type=s&pid="+s.publisherId;try{(o=n.contentWindow.document.createElement("script")).src=i,o.setAttribute("data-av","AVScript"+s.position),o.type="text/javascript",e=function(){if("function"==typeof n.contentWindow.getVPAIDAd){for(t in r=n.contentWindow.getVPAIDAd(),l)l.hasOwnProperty(t)&&function(a){r.subscribe(function(t,e,i){for(var n=0;n<arguments.length;n++)0<n&&0,0;for(n=0;n<l[a].length;n++)l[a][n].charAt(0).toUpperCase(),l[a][n].slice(1);if("AdEvent"==a&&"function"==typeof d.onEvent&&d.onEvent(t,e,i),"AdLoaded"==a&&(d.AdLoaded=!0,"function"==typeof d.onLoad&&d.onLoad()),"AdImpression"==a&&(d.playing=!0,"function"==typeof d.onPlay&&d.onPlay(t)),"AdVideoFirstQuartile"==a&&"function"==typeof d.onPlay25&&d.onPlay25(),"AdVideoMidpoint"==a&&"function"==typeof d.onPlay50&&d.onPlay50(),"AdVideoThirdQuartile"==a&&"function"==typeof d.onPlay75&&d.onPlay75(),"AdVideoComplete"==a&&(d.playing=!1,"function"==typeof d.onPlay100&&d.onPlay100(t)),"AdClickThru"==a&&"function"==typeof d.onClick&&d.onClick(),"AdPaused"==a&&"function"==typeof d.onPause&&d.onPause(),"AdPlaying"==a&&"function"==typeof d.onResume&&d.onResume(),"AdError"==a&&"function"==typeof d.onError&&d.onError(t),"AdStopped"==a&&"function"==typeof d.onStopped&&d.onStopped(),"AdSkipped"==a&&"function"==typeof d.onSkip&&d.onSkip(),"AdClosed"==a&&"function"==typeof d.onClose&&d.onClose(t),"AdVolumeChange"==a){var o=d.muted;if(void 0!==r.adVolume&&(d.muted=!(0<r.adVolume)),o==d.muted)return;"function"!=typeof d.onUnmute||d.muted?"function"==typeof d.onMute&&d.muted&&(d.onMute(),d.muted=!0):(d.onUnmute(),d.muted=!1)}"ContentImpression"==a&&"function"==typeof d.onContentPlay&&d.onContentPlay(t),"ContentComplete"==a&&"function"==typeof d.onContentPlay100&&d.onContentPlay100(),"ContentPaused"==a&&"function"==typeof d.onContentPaused&&d.onContentPaused(),"ContentPlaying"==a&&"function"==typeof d.onContentPlaying&&d.onContentPlaying(),"Inventory"==a&&"function"==typeof d.onInventory&&d.onInventory(),"InventoryRequest"==a&&"function"==typeof d.onInventoryRequest&&d.onInventoryRequest(t),"FullScreenRequest"==a&&"function"==typeof d.onFullScreenRequest&&d.onFullScreenRequest(t),p.dispatch(a,t,e,i)},a)}(t);!function(){var t,e,i;t={},e=document.getElementById(s.position).parentNode||"BODY"!=document.getElementById(s.position).parentNode.tagName?document.getElementById(s.position).parentNode.clientWidth:document.body.clientWidth||screen.width;1200<Math.floor(e)&&(e=1200);{var n;i=Math.ceil(e/1.777),0==s.height&&100==s.width&&(s.height=i,s.width=e,n=document.documentElement.clientHeight||document.body.clientHeight||screen.height,s.height>n&&(s.height=n,s.width=Math.ceil(1.77*n)))}void 0===s.hideControls&&(s.hidecontrols=!1);(t=s).slot=document.getElementById(s.position),t.videoSlot=document.getElementById("videoSlot"),t.videoSlotCanAutoPlay=!0,t.getviewability=g,r.initAd(s.width,s.height,"normal","","",t)}()}},o.onload=function(){e()},n.contentWindow.document.body.appendChild(o)}catch(t){p.dispatch(l.VPAIDLoadError,t)}},d.play=function(){var t;d.playCalled||(d.playCalled=!0,document.body&&"function"==typeof document.body.appendChild?document.body.appendChild(n):document.getElementById(s.position).appendChild(n),n.contentWindow&&(t=n.contentWindow.document.open(),n.contentWindow.avCallback=e,t.write('<html><body onload="window.avCallback();"></body></html>'),n.contentWindow.document.close()))},d.startAd=d.setWaterfallState=function(t,e,i){r&&"function"==typeof r.setWaterfallState&&r.setWaterfallState(t,e,i)},d.unmute=d.mute=function(){try{r&&r.setAdVolume(0)}catch(t){}},d.pause=function(){r&&r.pauseAd()},d.resume=function(){r&&r.resumeAd()},d.skip=function(){r&&r.skipAd()},d.close=function(){r&&"function"==typeof r.stopAd&&r.stopAd(),setTimeout(function(){try{n&&(document.body.removeChild(n),r=n=null)}catch(t){}},3e3)},d.getEvents=function(){var t,e=[];for(t in l)e.push(t);return e},d.updateGui=function(t){try{if("object"==typeof t)for(var e in t){var i=e.toLowerCase();n.contentWindow.AV_PlayerGui.config[i]=t[e],n.contentWindow.AV_PlayerGui.config[e]=t[e],"showTimeline"==e&&"function"==typeof n.contentWindow.AV_PlayerGui.showTimeline&&n.contentWindow.AV_PlayerGui.showTimeline(t[e])}}catch(t){}},d.resize=function(t,e,i){i=i||"normal",r&&r.resizeAd(Math.floor(t),Math.floor(e),i)},d.getAdDuration=function(){if(r)return r.getAdDuration()},d.getAdRemainingTime=function(){if(r)return r.getAdRemainingTime()},d.getAdVolume=function(){if(r)return r.getAdVolume()},d.setAdVolume=function(t){if(r)return r.setAdVolume(t)},d.seek=function(t){if(r)return r.seekAd(t)},d.getContentPaused=function(){if(r)return r.getContentPaused()},this.pauseContent=function(){if(r)return r.pauseContent()},this.resumeContent=function(){if(r)return r.resumeContent()},this.setContentVolume=function(t){if(r)return r.setContentVolume(t)},this.on=function(t,e,i){p.subscribe(e,t,i)},this.off=this.setFloor=a=function(){var n=null,o=.5,a=null,s=!1,r=this;function i(){var t=r.getVieabilityInfo(a.el,a.wnd),e=t.vertical.value*t.horizontal.value,i=t.vertical.state;return{inView:o<e,ratio:e,state:i}}function l(){var t=i();n&&n(t.inView,t.ratio,t.state)}this.start=function(t,e,i){return!s&&(!!(a=function(t){var e,i,n=null;try{v.top.location.href;if(n=v.frameElement)for(var o,a=v;a!==v.top;){if((a=(o=n.ownerDocument).defaultView||o.parentWindow)===v.top){i=a,e=n;break}n=a.frameElement}}catch(t){return s=!0,null}if(null==n){if(!(e="object"==typeof t?t:document.getElementById(t)))return s=!0,null;i=v}return{el:e,wnd:i}}(t))&&(i&&(o=i),e&&(a.wnd.addEventListener("resize",l,!0),a.wnd.addEventListener("scroll",l,!0),n=e,setTimeout(l,10)),!0))},this.stop=function(){n&&(a.wnd.removeEventListener("resize",l,!0),a.wnd.removeEventListener("scroll",l,!0),n=null)},this.get=function(t,e){return!s&&a?i():{inView:!1,ratio:0,state:"UNKNOWN"}},this.getHorizontalViewability=function(t,e){var i=e.innerWidth,n=t.getBoundingClientRect().left,o=t.getBoundingClientRect().right,a=o-n;return i<n?{value:0,state:"OUT_RIGHT"}:o<=0?{value:0,state:"OUT_LEFT"}:0<=n&&o<=i?{value:1,state:"IN_HVIEW"}:n<0&&i<o?{value:i/a,state:"LR_TRUNC"}:n<0&&o<=i?{value:o/a,state:"L_TRUNC"}:0<=n&&i<o?{value:(i-n)/a,state:"R_TRUNC"}:{value:0,state:"OUT"}},this.getVerticalViewability=function(t,e){var i=e.innerHeight,n=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom,a=o-n;return i<n?{value:0,state:"OUT_BOTTOM"}:o<=0?{value:0,state:"OUT_TOP"}:0<=n&&o<=i?{value:1,state:"IN_VVIEW"}:n<0&&i<o?{value:i/a,state:"BT_TRUNC"}:n<0&&o<=i?{value:o/a,state:"T_TRUNC"}:0<=n&&i<o?{value:(i-n)/a,state:"B_TRUNC"}:{value:0,state:"OUT"}},this.getVieabilityInfo=function(t,e){return{vertical:r.getVerticalViewability(t,e),horizontal:r.getHorizontalViewability(t,e)}}},this.startViewability=function(t,e,i){return(u=u||new a).start(t,e,i)},this.stopViewability=this.getViewability=g=function(t,e,i){if(t)return h||(h=new a).start(t,e,i),h.get();h.stop()},s.noMuteOnBlur||(i={hidden:void 0,visibilityChange:void 0},void 0!==document.hidden?(i.hidden="hidden",i.visibilityChange="visibilitychange"):void 0!==document.webkitHidden?(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"):void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden&&(i.hidden="msHidden",i.visibilityChange="msvisibilitychange"),i.hidden&&document.addEventListener(i.visibilityChange,!1)),c={addClass:function(t,e){t.style.cssText=e},setfloatingCSS:function(){s.floating.size||(s.floating.size=.5),s.floating.right||(s.floating.right=0),s.floating.bottom||(s.floating.bottom=0),this.floatingCSS="z-index:10000001;position:fixed; bottom:"+s.floating.bottom+"px; right:"+s.floating.right+"px; -webkit-transform:scale("+s.floating.size+"); -webkit-transform-origin:bottom right; transform:scale("+s.floating.size+"); transform-origin:bottom right"},getPlaceholderWidth:function(t){var e=t.parentNode||"BODY"!=t.parentNode.tagName?t.parentNode.clientWidth:document.body.clientWidth||screen.width;return 1020<e&&(e=1020),100!=s.width&&0!=s.height?e=s.width:(s.height=Math.floor(e/1.777),s.width=e),e},hidePlayer:showPlayer:function(t,e){t.style.height=s.height+"px",d.resize(s.width,s.height),e.style.top="",e.style.position="",e.style.zIndex="9999999"},startAd:function(t){this.playerInView&&this.playerLoadedFirstTime&&!this.startAdFirstTime&&(this.startAdFirstTime=!0,d.startAd(t))},startViewability:function(n){var o=this,t=!1;s.floting&&!s.floating&&(s.floating=s.floting),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(t=!0),s.preloader||(s.preloader={});var a=document.querySelector("#"+s.position);o.addClass(n,"overflow:hidden; -webkit-transition:1s ease height; transition:1s ease height"),s.floating&&0<s.floating.size&&o.setfloatingCSS(),s.playOnView&&!s.autoPlay&&o.hidePlayer(n,a),d.on("AdLoaded",,d.on("AdImpression",function(){s.preloader.type,o.showPlayer(n,a),s.unMuteOnMouseEnter&&!t&&(a.addEventListener("mouseenter",function(t){setTimeout(function(){d.unmute()},5)}),a.addEventListener("mouseleave",),s.pauseOnBlur&&!t&&v.addEventListener("blur",}),d.on("AdVideoComplete",,d.on("AdSkipped",function(){o.hidePlayer(n,a)}),d.on("AdClosed",,d.on("AdError",function(t){var e=t&&t.errorlimit;s.preloader.type||s.passbackUrl?s.passbackUrl&&s.playOnView&&e&&o.showPlayer(n,a):o.hidePlayer(n,a)}),s.playOnView?d.startViewability(n,function(t,e,i){t?(s.preloader.type&&!o.playerInView&&0==s.Preroll&&o.showPlayer(n,a),o.playerInView=!0,d.playing||o.startAd(),(d.playing||""!=s.preloader.type&&s.preloader.type)&&(s.pauseOnUnseen&&d.resume(),o.addClass(a,""))):(d.playing||""!=s.preloader.type&&s.preloader.type)&&("OUT_TOP"===i&&s.floating&&o.addClass(a,o.floatingCSS),s.pauseOnUnseen&&d.pause())},.5):(o.startAdFirstTime=!1,o.playerInView=!0,o.playerLoadedFirstTime=!0,o.startAd(),o.showPlayer(n,a))}},d.startTemplate=function(t){c.startViewability(t)}}}(window),),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={});var e=t.com.aniview.player.EventListener=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.event=function(t,e){var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},e.prototype.addEventListener=e.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},e.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++){var o=e[i].context;void 0===o&&(o=this);try{e[i].callback.call(o,t,t.data)}catch(t){}}}}(window),function(t){var e,i,n;function a(){}e=t.aniview||(t.aniview={}),i=e.utils||(e.utils={}),a.clone=function(t){if(null==t||"object"!=typeof t)return t;var e,i=t.constructor();for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i},a.isMergeableObject=function(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)},a.emptyTarget=a.cloneIfNecessary=function(t,e){return e&&!0===e.clone&&a.isMergeableObject(t)?a.deepmerge(emptyTarget(t),t,e):t},a.defaultArrayMerge=function(i,t,n){var o=i.slice();return t.forEach(function(t,e){void 0===o[e]?o[e]=a.cloneIfNecessary(t,n):a.isMergeableObject(t)?o[e]=a.deepmerge(i[e],t,n):-1===i.indexOf(t)&&o.push(a.cloneIfNecessary(t,n))}),o},a.mergeObject=function(e,i,n){if(null==i||null==e)return e;var o={};return a.isMergeableObject(e)&&Object.keys(e).forEach(,Object.keys(i).forEach(function(t){a.isMergeableObject(i[t])&&e[t]?o[t]=a.deepmerge(e[t],i[t],n):o[t]=a.cloneIfNecessary(i[t],n)}),o},a.deepmerge=function(t,e,i){var n=Array.isArray(e),o=(i||{arrayMerge:a.defaultArrayMerge}).arrayMerge||a.defaultArrayMerge;return n?Array.isArray(t)?o(t,e,i):a.cloneIfNecessary(e,i):a.mergeObject(t,e,i)},a.deepmergeall=function(t,i){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(},n=a,i.ObjectUtils=n}(com=com||{}),function(v){"use strict";v.com||(v.com={}),v.com.aniview||(v.com.aniview={}),v.com.aniview.player||(v.com.aniview.player={});var a=v.com.aniview.player.Utils={};a.extendsClass=a.getPath=function(t){return t&&-1!=t.indexOf("?")&&(t=t.split("?").shift()),t},a.clone=function(t,e){if(null==t||"object"!=typeof t)return t;var i,n=t.constructor();for(i in t)t.hasOwnProperty(i)&&(n[i]=e&&0<e?a.clone(t[i],e-1):t[i]);return n},a.getExtension=function(t){return(t=a.getPath(t))&&-1!=t.indexOf(".")?t.split(".").pop().toLowerCase():null},a.isOneVideoElement=function(){var t=this.getOS();return"webos"===t||"tizen"===t&&"4"===this.getOSVersion().major},a.isMobile=function(){return!!this.isOneVideoElement()||(this._isMobile||(t=!1,e=navigator.userAgent||navigator.vendor||v.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),this._isMobile=t),this._isMobile);var t,e},a.getBrowser=function(){return this._browser||(-1!=navigator.userAgent.toLowerCase().indexOf("chrome")&&-1!=navigator.vendor.toLowerCase().indexOf("google")?this._browser="chrome":-1!=navigator.userAgent.toLowerCase().indexOf("opera")?this._browser="opera":-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?this._browser="firefox":-1!=navigator.userAgent.toLowerCase().indexOf("safari")||navigator.vendor&&-1!=navigator.vendor.toLowerCase().indexOf("apple")?this._browser="safari":-1!=navigator.userAgent.toLowerCase().indexOf("msie")||1==!!document.documentMode?this._browser="ie":-1!=navigator.userAgent.toLowerCase().indexOf("mozilla")&&(this._browser="edge")),this._browser},a.logLevel=0,a.LOG_LEVEL={DEBUG:3,INFO:2,ERR:1},a.log=function(t,e){if((e=e||a.LOG_LEVEL.INFO)<=a.logLevel){var i=new Date,n="avcp::["+i.getHours()+":"+(i.getMinutes()<10?"0":"")+i.getMinutes()+":"+(i.getSeconds()<10?"0":"")+i.getSeconds()+"] "+t;switch(e){case a.LOG_LEVEL.DEBUG:console.debug?console.debug(n):console.log(n);break;case a.LOG_LEVEL.INFO:console.info(n);break;case a.LOG_LEVEL.ERR:console.error(n)}}},a.getOS=function(){return this._os||(-1!==navigator.appVersion.toLowerCase().indexOf("android")?this._os="android":-1!==navigator.appVersion.toLowerCase().indexOf("mac")&&/iPad|iPhone|iPod/.test(navigator.userAgent)?this._os="ios":-1!==navigator.appVersion.toLowerCase().indexOf("win")?this._os="windows":-1!==navigator.appVersion.toLowerCase().indexOf("mac")?this._os="mac":-1!==navigator.appVersion.toLowerCase().indexOf("x11")?this._os="unix":-1!==navigator.appVersion.toLowerCase().indexOf("web0s")||-1!==navigator.appVersion.toLowerCase().indexOf("webos")?this._os="webos":-1!==navigator.appVersion.toLowerCase().indexOf("tizen")?this._os="tizen":-1!==navigator.appVersion.toLowerCase().indexOf("linux")?this._os="linux":this._os=""),this._os},a.getOSVersion=function(){var t,e=navigator.userAgent.toLowerCase().split(" "),i=null,n=0,o=0;return"tizen"===this.getOS()?-1!==(t=e.indexOf("tizen"))&&(n=(i=e[t+1].split("."))[0]):-1!==(t=e.indexOf("os"))&&(n=(i=e[t+1].split("_"))[0],o=i[1]),{major:n,minor:o}},a.getChromeVersion=a.httpsReplace=function(t){return"https:"==a.getProtocol()&&(t=(t=(t=t.replace("data1.ani-view.com","gbdl.hs.llnwd.net/v1")).replace("data1.aniview.com","aniview.hs.llnwd.net/d1")).replace(/^http:\/\//i,"https://")),t},a.getProtocol=function(){if(void 0!==a.protocol)return a.protocol;if("http:"==v.location.protocol||"https:"==v.location.protocol)a.protocol=v.location.protocol,a.topWindow=v;else{var t=v,e=t.location.protocol,i=0;try{for(;"http:"!=e&&"https:"!=e&&i<15&&t!==t.parent;)e=(t=t.parent).location.protocol,i++}catch(t){}"http:"==e||"https:"==e?(a.protocol=e,a.topWindow=t):a.protocol="https:"}return a.protocol},a.shuffleArray=function(t,e){var i=t.length;if(e=e||0,i)for(;i!=e&&i--;){var n=Math.floor(Math.random()*(t.length-1)+e),o=t[n];t[n]=t[i],t[i]=o}},a.loadScript=function(t,e){var i=document.createElement("script");i.src=t,i.onload=e,document.getElementsByTagName("head")[0].appendChild(i)},a.fastHash=function(t){var e,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i<0&&(i+=4294967295),i},a.generateRandomString=function(){return this.fastHash(Math.random()+""+Date.now())},a.parseInt=function(t,e,i){return t=parseInt(t),isNaN(t)&&(t=0),t<e?t=e:i<t&&(t=i),t};var n,i=null;a.requestAnimationFrame=function(t,e){(i=i||(v.requestAnimationFrame||v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.oRequestAnimationFrame||v.msRequestAnimationFrame||function(t,e){setTimeout(t,1e3/60)}))(t,e)},a.fullscreenEnabled=function(){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||this.fixedFullScreenElement;if(this.fsels&&(this.fsels.content==t||this.fsels.ad==t||this.fsels.container==t))return t},a.setFullScreenElements=function(t){this.fsels=t},a.isFullscreenApiEnabled=a.requestFullScreenFixed=function(t,e){if(e){if(this.fsPrev)return;this.fsPrev={position:t.style.position,top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height,zIndex:t.style.zIndex,bodyMargin:t.ownerDocument.body.style.margin},t.style.position="fixed",t.style.top="0px",t.style.left="0px";var i=a.getDeviceDimensionsBasedOnOrientation();t.style.width=i.width,t.style.height=i.height,t.style.zIndex="2147483647",t.ownerDocument.body.style.margin="0",this.fixedFullScreenElement=t}else{if(!this.fsPrev)return;(t=this.fixedFullScreenElement).style.position=this.fsPrev.position,t.style.top=this.fsPrev.top,t.style.left=this.fsPrev.left,t.style.width=this.fsPrev.width,t.style.height=this.fsPrev.height,t.style.zIndex=this.fsPrev.zIndex,t.ownerDocument.body.style.margin=this.fsPrev.bodyMargin,this.fsPrev=null,this.fixedFullScreenElement=null}},a.requestFullscreen=function(t){var e,i,n;this.isFullscreenApiEnabled()?(t.requestFullscreen?(e="fullscreenerror",i="requestFullscreen"):t.mozRequestFullScreen?(e="mozfullscreenerror",i="mozRequestFullScreen"):t.webkitRequestFullscreen?(e="webkitfullscreenerror",i="webkitRequestFullscreen"):t.webkitEnterFullscreen?(e="webkitfullscreenerror",i="webkitEnterFullscreen"):t.msRequestFullscreen?(e="MSFullscreenError",i="msRequestFullscreen"):this.requestFullScreenFixed(t,!0),e&&(n=this,t.addEventListener(e,,t[i]())):this.requestFullScreenFixed(t,!0)},a.cancelFullscreen=function(){this.requestFullScreenFixed(null,!1),document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},a.getFullScreenChangeEvent=function(){var t=document;return t.exitFullscreen?"fullscreenchange":t.webkitExitFullscreen||t.webkitCancelFullScreen?"webkitfullscreenchange":t.mozCancelFullScreen?"mozfullscreenchange":t.msExitFullscreen?"MSFullscreenChange":null},a.getWindowWidth=function(){return v.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},a.getWindowHeight=a.isResponsiveLayout=function(t,e){return 100==t&&0==e},a.getDeviceDimensionsBasedOnOrientation=function(){function t(){for(var t=1/0,e=0;e<arguments.length;e++)arguments[e]&&arguments[e]<t&&100<arguments[e]&&(t=arguments[e]);return t}var e,i,n=t(screen.clientWidth,screen.availWidth,screen.width,document.documentElement.clientWidth),o=t(screen.clientHeight,screen.availHeight,screen.height,document.documentElement.clientHeight,document.body?document.body.clientHeight:0),a=v.orientation&&90!==v.orientation&&-90!==v.orientation?(e=o*(i=document.documentElement.clientWidth/o),n*i):(e=n*(i=document.documentElement.clientWidth/n),o*i);return{width:e,height:a}},a.__extends=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&|;a.viewabilityProto=function(e,s){var a=null,r=.5,l=null,p=!1,d=this,i="hidden",c="visibilitychange",n="visibilityState";function u(){var t=e?e.document:null;return!t||t[n]!==i}void 0===document.hidden&&(void 0!==document.msHidden?(i="msHidden",c="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden?(i="webkitHidden",c="webkitvisibilitychange",n="webkitVisibilityState"):void 0!==document.mozHidden&&(i="mozHidden",c="mozvisibilitychange",n="mozVisibilityState"));var h=0;function o(){if("intersect"===l.type){var t=r<=(a=h)?"IN_VVIEW":"OUT",e=0<a?0:-1e6,i=u();return s&&!i&&(a=0,t="OUT_TAB"),{inView:r<=a,ratio:a,state:t,distance:0,diff:e,tabInView:i}}var n=l.iframe?l.baseEl:null,o=d.getVieabilityInfo(l.el,l.wnd,n),a=o.vertical.value*o.horizontal.value,t=o.vertical.state,e=o.vertical.diff,i=u();return s&&!i&&(a=0,t="OUT_TAB"),{inView:r<=a,ratio:a,state:t,distance:o.vertical.distance,diff:e,tabInView:i}}function g(t){var e=o();a&&a(e.inView,e.ratio,e.state,e.distance,e.tabInView,t)}this.checkViewability=this.start=function(t,e,i,n){return!p&&(!!(l=function(t,e){var i,n,o=null,a="window",s="object"==typeof t?t:document.getElementById(t);try{v.top.location.href;if(o=v.frameElement)for(var r,l=v;l!==v.top;){if((l=(r=o.ownerDocument).defaultView||r.parentWindow)===v.top){n=l,i=o;break}o=l.frameElement}}catch(t){p=!0}if(p){if("function"!=typeof v.IntersectionObserver)return null;p=!(a="intersect"),i=s}if(null==o){if(!(i=s))return p=!0,null;n=v}return{el:i,wnd:n,baseEl:s,iframe:!(null==o)&&e,type:a}}(t,n))&&(i&&(r=1<i?i/100:i),e&&("intersect"==l.type?(a=e,function(t,i){for(var e={threshold:[]},n=0;n<=100;n++)e.threshold.push(n/100);new IntersectionObserver(function(t){var e=t[t.length-1];h=e.intersectionRatio,i()},e).observe(t)}(l.el,g)):(l.wnd.addEventListener("resize",g,!0),l.wnd.addEventListener("scroll",g,!0),l.wnd.document.addEventListener(c,g),l.wnd.addEventListener("orientationchange",g,!0),o=com.aniview.player.Utils.getFullScreenChangeEvent(),l.wnd.document.addEventListener(o,g,!0),a=e,setTimeout(g,10))),!0));var o},this.stop=function(){a&&(l.wnd.removeEventListener("resize",g,!0),l.wnd.removeEventListener("scroll",g,!0),l.wnd.removeEventListener("orientationchange",g,!0),a=null)},this.get=function(t,e){return!p&&l?o():{inView:!1,ratio:0,state:"UNKNOWN"}},this.getHorizontalViewability=function(t,e){var i=e.innerWidth,n=t.getBoundingClientRect().left,o=t.getBoundingClientRect().right,a=o-n;return i<n?{value:0,state:"OUT_RIGHT"}:o<=0?{value:0,state:"OUT_LEFT"}:0<=n&&o<=i?{value:1,state:"IN_HVIEW"}:n<0&&i<o?{value:i/a,state:"LR_TRUNC"}:n<0&&o<=i?{value:o/a,state:"L_TRUNC"}:0<=n&&i<o?{value:(i-n)/a,state:"R_TRUNC"}:{value:0,state:"OUT"}},this.getVerticalViewability=function(t,e,i){var n=e.innerHeight,o=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom,s=a-o;return i&&(s=(a=(o+=i.getBoundingClientRect().top)+(i.getBoundingClientRect().bottom-i.getBoundingClientRect().top))-o),n<o?{value:0,state:"OUT_BOTTOM",out:-1,diff:o-n}:a<=0?{value:0,state:"OUT_TOP",out:-1,diff:a}:0<=o&&a<=n?{value:1,state:"IN_VVIEW",out:0,distance:n-o,diff:0}:o<0&&n<a?{value:n/s,state:"BT_TRUNC",out:-o+a-n,diff:0}:o<0&&a<=n?{value:a/s,state:"T_TRUNC",out:-o,diff:0}:0<=o&&n<a?{value:(n-o)/s,state:"B_TRUNC",out:a-n,diff:0}:{value:0,state:"OUT",out:-1,diff:-1e4}},this.getVieabilityInfo=function(t,e,i){return{vertical:d.getVerticalViewability(t,e,i),horizontal:d.getHorizontalViewability(t,e,i)}}},a.getEl=a.startViewability=function(t,e,i,n){var o=this.getEl(t);return o.avViewability||(o.avViewability=new a.viewabilityProto(v,n)),o.avViewability.start(o,e,i)},a.stopViewability=a.getViewability=function(t){var e=this.getEl(t);if(e.avViewability)return e.avViewability.get()},a.setIniFloatingPropertyX=function(t){this.floatingDocStyle.setProperty("--floatIniX",t.toString()+"px")},a.setIniFloatingPropertyY=function(t){this.floatingDocStyle.setProperty("--floatIniY",t.toString()+"px")},a.setFinFloatingPropertyX=function(t){this.floatingDocStyle.setProperty("--floatFinalX",t.toString()+"px")},a.setFinFloatingPropertyY=function(t){this.floatingDocStyle.setProperty("--floatFinalY",t.toString()+"px")},a.setFloatingProperty=a.setFloatingAnimateProperty=function(t,e,i,n){this.setIniFloatingPropertyX(t),this.setIniFloatingPropertyY(e),this.setFinFloatingPropertyX(i),this.setFinFloatingPropertyY(n)};var d=!(a.animateReturnPlayer=function(t,e){var i,n=t.parentElement.getBoundingClientRect(),o=document.documentElement.clientWidth-n.right,a=e.floating.position.includes("bottom")?(i=e.floating.bottom||0,document.documentElement.clientHeight-n.bottom):(i=e.floating.top||0,n.top),s=e.floating.position.includes("right")?e.floating.right:e.floating.left;this.setFloatingAnimateProperty(s,i,o,a),this.floatingDocStyle.setProperty("--floatScale",e.floating.size.toString());var r="animation-duration:"+e.floating.animationDurationMS+"ms; animation-fill-mode: forwards;";switch(e.floating.position){case"bottom-left":r+="-webkit-transform-origin:bottom left; transform-origin:bottom left; animation-name:av-floating-back-bottom-left;";break;case"top-left":r+="-webkit-transform-origin:top left; transform-origin:top left; animation-name:av-floating-back-top-left;";break;case"top-right":r+="-webkit-transform-origin:top right; transform-origin:top right; animation-name:av-floating-back-top-right;";break;case"bottom-right":r+="-webkit-transform-origin:bottom right; transform-origin:bottom right; animation-name:av-floating-back-bottom-right;"}return r});a.setFloating=function(t,e,i,n,o,a){var s,r,l,p;e?((i.floating.floatOnBottom||"T_TRUNC"!==n&&"OUT_TOP"!==n)&&!i.floating.floatOnBottom||(i.floating.animate?(t.style.cssText="",s=null,r=0,r=i.floating.position.includes("bottom")?(s=document.documentElement.clientHeight-t.getBoundingClientRect().bottom,i.floating.bottom||0):(s=t.getBoundingClientRect().top,i.floating.top||0),l=document.documentElement.clientWidth-t.getBoundingClientRect().right,p=i.floating.position.includes("right")?i.floating.right||0:i.floating.left||0,this.setFloatingAnimateProperty(l,s,p,r),this.floatingDocStyle.setProperty("--floatScale",i.floating.size.toString())):i.floating.resize&&a(i.width*i.floating.size,i.height*i.floating.size,!0),t.style.cssText=i.floatingCSS,d=!0),t.classList.add("av-floating")):(!d||!i.floating.animate||!i.floating.floatOnBottom&&!o||!t.parentElement||t.parentElement.getBoundingClientRect().bottom>=t.getBoundingClientRect().bottom&&!i.floating.floatOnBottom&&i.floating.position.includes("bottom")||t.parentElement.getBoundingClientRect().bottom>=t.getBoundingClientRect().bottom+t.clientHeight&&!i.floating.floatOnBottom?(t.style.cssText="",i.floating.resize&&a()):t.style.cssText=this.animateReturnPlayer(t,i),t.classList.remove("av-floating"))},a.isFloating=function(t){return t&&t.floating&&0<t.floating.size},a.setFloatingCSS=function(t){if(!t.floatingCSS)if(t.floating.floatingCSS)t.floating=t.floating.floatingCSS;else{var e,i;switch(t.floating.right||(t.floating.right=0),t.floating.left||(t.floating.left=0),t.floating.top||(t.floating.top=0),t.floating.bottom||(t.floating.bottom=0),t.floating.position||(t.floating.position="bottom-right"),!t.floating.animate||null===(e=document.getElementsByTagName("head")[0]).querySelector("#av_animate_css")&&((i=document.createElement("style")).type="text/css",i.id="av_animate_css",i.appendChild(document.createTextNode("{--floatScale;--floatIniX;--floatIniY;--floatFinalX;--floatFinalY;}@keyframes av-floating-away-bottom-right{0%{bottom:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:bottom right;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:bottom right; bottom: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-top-right{0%{top:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:top right;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:top right; top: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-bottom-left{0%{bottom:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:bottom left;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:bottom left; bottom: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-away-top-left{0%{top:var(--floatIniY); right:var(--floatIniX); -webkit-transform-origin:top left;}100%{transform: scale(var(--floatScale)); -webkit-transform-origin:top left; top: var(--floatFinalY); right: var(--floatFinalX);}}@keyframes av-floating-back-bottom-left{0%{ bottom: var(--floatIniY); left:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{bottom:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-top-left{0%{ top: var(--floatIniY); left:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{top:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-top-right{0%{ top: var(--floatIniY); right:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{top:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}@keyframes av-floating-back-bottom-right{0%{ bottom: var(--floatIniY); right:var(--floatIniX);transform: scale(var(--floatScale)); position: fixed}98%{bottom:var(--floatFinalY); right:var(--floatFinalX); transform: scale(1); position: fixed}100%{position: static;}}}")),e.appendChild(i)),t.floating.animate&&!t.floating.animationDurationMS&&(t.floating.animationDurationMS=750),this.floatingDocStyle=document.getElementById(t.position).style,t.floating.position){case"bottom-left":case"bottom":t.floatingCSS="bottom:"+t.floating.bottom+"px; left:"+t.floating.left+"px; -webkit-transform-origin:bottom left; transform-origin:bottom left;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-bottom-left;",this.setFloatingProperty(t.floating.left,t.floating.bottom));break;case"top-left":case"top":t.floatingCSS="top:"+t.floating.top+"px; left:"+t.floating.left+"px; -webkit-transform-origin:top left; transform-origin:top left;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-top-left;",this.setFloatingProperty(t.floating.left,t.floating.top));break;case"top-right":t.floatingCSS="top:"+t.floating.top+"px; right:"+t.floating.right+"px; -webkit-transform-origin:top right; transform-origin:top right;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-top-right;",this.setFloatingProperty(t.floating.right,t.floating.top));break;case"bottom-right":t.floatingCSS="bottom:"+t.floating.bottom+"px; right:"+t.floating.right+"px; -webkit-transform-origin:bottom right; transform-origin:bottom right;",t.floating.animate&&(t.floatingCSS+=" animation-name: av-floating-away-bottom-right;",this.setFloatingProperty(t.floating.right,t.floating.bottom))}t.floating.resize?t.floatingCSS+="z-index:10000001;position:fixed;":t.floating.animate?t.floatingCSS+=" animation-duration:"+t.floating.animationDurationMS+"ms; z-index:10000001;position:fixed; animation-fill-mode:forwards; transition: width 20s, height 20s;":t.floatingCSS+="z-index:10000001;position:fixed; transform:scale("+t.floating.size+"); -webkit-transform:scale("+t.floating.size+");"}},a.isSticky=a.setStickyCSS=function(t,e){if(!e.stickyCSS){if(e.sticky.floatingCSS)e.sticky=e.sticky.floatingCSS;else switch(e.sticky.right||(e.sticky.right=0),e.sticky.left||(e.sticky.left=0),e.sticky.top||(e.sticky.top=0),e.sticky.bottom||(e.sticky.bottom=0),e.sticky.position||(e.sticky.position="bottom-right"),e.sticky.position){case"bottom-right":e.stickyCSS="z-index:10000001;position:fixed; bottom:"+e.sticky.bottom+"px; right:"+e.sticky.right+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:bottom right; transform:scale("+e.sticky.size+"); transform-origin:bottom right";break;case"bottom-left":case"bottom":e.stickyCSS="z-index:10000001;position:fixed; bottom:"+e.sticky.bottom+"px; left:"+e.sticky.left+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:bottom left; transform:scale("+e.sticky.size+"); transform-origin:bottom left";break;case"top-left":case"top":e.stickyCSS="z-index:10000001;position:fixed; top:"+e.sticky.top+"px; left:"+e.sticky.left+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:top left; transform:scale("+e.sticky.size+"); transform-origin:top left";break;case"top-right":e.stickyCSS="z-index:10000001;position:fixed; top:"+e.sticky.top+"px; right:"+e.sticky.right+"px; -webkit-transform:scale("+e.sticky.size+"); -webkit-transform-origin:top right; transform:scale("+e.sticky.size+"); transform-origin:top right"}t.style.cssText=e.stickyCSS,t.classList.add("av-sticky")}},a.getTrueDomain=function(){try{return function(){var t=null;try{var i=;!function(t){try{if(!v.location.ancestorOrigins)return;for(var e=0,i=v.location.ancestorOrigins.length;e<i;e++)t.call(null,v.location.ancestorOrigins[e],e)}catch(t){}}(;for(var t="",e=(i.length,i.length-1);0<=e;e--)if(!(t=i[e].location)&&0<e&&(t=(t=i[e-1].referrer)||i[e-1].ancestor),t){!!v.location.ancestorOrigins||e==i.length-1&&i[i.length-1].isTop;break}}catch(t){}return t}()}catch(t){return null}},a.logOnPlayer=function(t,e){var i=document.getElementById("player-in-log");i||(t.changeGUI({customHtml:'<div id="player-funnel-wrapper"><div id="player-in-log" style="white-space:pre;height:150px;overflow-y:auto;background-color:lightgray;width:300px;padding:2px;border:1px solid black;"></div></div>'}),i=document.getElementById("player-in-log")),i&&(i.textContent+=e+"\r\n",i.scrollTop=i.scrollHeight)},a.getHostName=function(t){try{t=decodeURIComponent(t),t=decodeURIComponent(t),t=decodeURIComponent(t)}catch(t){}function e(t){return void 0===t||null==t||""==(t=t.trimStr())?"":function(t){if(void 0===t||null==t)return"";if(""==(t=t.trimStr()))return"";var e,i;if(-1<t.indexOf("://"))if(-1<(i=t.split("://"))[0].indexOf("/")||-1<i[0].indexOf(".")||-1<i[0].indexOf("?")||-1<i[0].indexOf("&")){if(i[0]=i[0].trimStr(),0!=i[0].indexOf("//"))return"";e=i[0].split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]}else i[1]=i[1].trimStr(),e=i[1].split("/")[0].trimStr().split("?")[0].split("&")[0];else e=0==t.indexOf("//")?t.split("//")[1].split("/")[0].trimStr().split("?")[0].split("&")[0]:t.split("/")[0].trimStr().split("?")[0].split("&")[0];return e}(t).split(":")[0]}return String.prototype.trimStr=e(t)},a.checkNativeVideo=function(e){var t=document.createElement("video");t.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.setAttribute("playsinline",!0),t.setAttribute("webkit-playsinline",!0),t.style.display="none",t.muted=!0;var i=t.play(),n=!1;i?(i.then(function(){n||e("ok"),n=!0}).catch(function(t){n||e("error"),n=!0}),setTimeout(1e4)):e("maybe")}}(window),function(b){"use strict";b.com||(b.com={}),b.com.aniview||(b.com.aniview={}),b.com.aniview.player||(b.com.aniview.player={});var w={contentCap:0,playerCap:0,contentImp:0,playerImp:0,setPlayerCap:setContentCap:isContentCap:function(){return 0<this.contentCap&&this.contentImp>=this.contentCap},isPlayerCap:function(){return 0<this.playerCap&&this.playerImp>=this.playerCap},isCap:getCap:inc:,i=0,C=b.com.aniview.player.AdsController=function(t,e){var i=this;return i.listeners={},i.preloadAdTime=t.config.content.slotTimeout,i.startAdTimeout=t.config.content.startAdTimeout,i.nextAdTimeout=t.config.content.podTimeout,i.container=document.createElement("div"),i.container.id="ads_"+com.aniview.player.Utils.generateRandomString(),i.noAdsOnContentPause=t.config.noAdsOnContentPause,i.container.style.width="100%",i.container.style.height="100%",i.slotX=null,i.abk=!1,i.content=t,i.adConfig=com.aniview.utils.ObjectUtils.clone(i.content.config.adConfig),i.adConfig&&(i.adConfig.inappSdk=i.content.config.inappSdk),i.breakingAds=e,i.breakingAds||i.content.config.content.breakingAdsMode===C.BreakingAdsModes.onePlayer?i.breakingAdsMode=i.content.config.content.breakingAdsMode&&i.content.config.content.breakingAdsMode.length?i.content.config.content.breakingAdsMode:C.BreakingAdsModes.default:i.breakingAdsMode=C.BreakingAdsModes.default,i.breakingAds&&(i.breakingAdsStart=isNaN(i.content.config.content.breakingAdsStart)?0:i.content.config.content.breakingAdsStart),i.state=C.stateEnum.none,i.playState=i.content.playStateEnum.none,w.setPlayerCap(i.content.config.content.impCap||0),["run","done","start","pauseSlotTimeout"].forEach(function(t){var e=i[t+"_"+i.breakingAdsMode];e&&(i[t]=e)}),this};C.aEvents={},C.stateEnum={adLoaded:"adloaded",startAd:"startAd",progress:"progress",none:"none",done:"done",playing:"playing",stopAll:"stopAll",impressionCapped:"impressionCapped"},C.BreakingAdsModes={default:"default",keepGoing:"kg",oneSession:"os",onePlayer:"op"};var e=null,x=b.com.aniview.player.Utils,E={player:{},isFirstAd:!0,skip:0};C.getEvents=function(){var t;return null===e&&b.com&&b.com.aniview&&b.com.aniview.player&&b.com.aniview.player.avPlayer&&(t=new b.com.aniview.player.avPlayer({}),e=t.getEvents()),e},e=C.getEvents();for(var t=0;t<e.length;t++){var n=e[t];C.aEvents[n]=n}C.prototype.container=null,C.prototype.slots=null,C.prototype.content=null,C.prototype.setRef1=function(t,e,i){t.ref1||(t.ref1=""),"string"==typeof t.ref1?t.ref1=t.ref1+"&"+e+"="+i:"object"==typeof t.ref1&&(t.ref1[e]=""+i)},C.prototype.setSlotX=function(t){var e=null;(this.slotX=t)&&(t.selected=!0,t.sid=++i,t.adsCount=0,e=t.time),this.log("setSlotX, time: "+e+" id: "+i)},C.prototype.run_op=function(t,e,i,n,o,a){var s=(a=a||{}).waitForAdsReset;if(this.canStartOnView=this.canStartOnView||a.inView,this.state!==C.stateEnum.stopAll&&!w.isCap()&&!this.abk)if(null!=b.com.aniview.player.avPlayer){if(0!=this.content.active){this.slots||(this.slots=[]),i=!1;var r=this,l=Math.round(t||0);this.failedOnPreroll,this.failedOnPreroll=!1;if(r.state!==C.stateEnum.startAd&&this.slotX&&l>this.slotX.time+(this.slotX.timeout||10)&&(r.slotX=null),null==r.slotX)for(var p=0;p<this.slots.length;p++){var d=this.slots[p];if(d&&!d.selected&&(-1==d.time&&0<e&&(d.time=e),0<=d.time)){var c=Math.max(d.time-d.preloadAdTime,0);if(l<=d.time&&c<=l){r.state==C.stateEnum.none&&r.setState(C.stateEnum.progress),r.load(d,r.content.getWidth(),r.content.getHeight()),r.setSlotX(d);break}}}return r.slotX?(0==r.slotX.time&&(i=!0),r.state==C.stateEnum.progress||(r.state==C.stateEnum.adLoaded?(r.slotX.time==l||0!==r.slotX.time&&Math.abs(r.slotX.time==l)<5)&&r.start(r.slotX):r.state==C.stateEnum.done||(r.state,C.stateEnum.startAd)),s&&r.slotX.timeoutFunc&&this.startSlotTimeout(r.slotX,1e3*r.slotX.nextAdTimeout||5e3)):this.errorLimit&&s&&setTimeout(function(){r.done(!1,!1,C.aEvents.AdTimeout)},1),this.preload=o&&i,!!i&&"preroll"}}else i&&(this.failedOnPreroll=!0)},C.prototype.run=function(t,e,i,n,o,a){a=a||{};if(this.canStartOnView=this.canStartOnView||a.inView,this.state!==C.stateEnum.stopAll&&!w.isCap()&&!this.abk)if(null!=b.com.aniview.player.avPlayer){if(0!=this.content.active){this.slots||(this.slots=[]),i=!1;var s,r,l=this,p=Math.round(t),d=Math.round(e),c=this.failedOnPreroll&&0===p;if(this.failedOnPreroll=!1,l.state==C.stateEnum.none){if(this.breakingAds){var u=isNaN(p)?0:p,h={time:0<u?u+this.breakingAds:this.breakingAdsStart,type:"ad",adConfig:l.content.config.adConfig,adType:"ba"};if(this.breakingAdsMode!==C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!==C.BreakingAdsModes.oneSession||(h.adConfig.loop=!0,isNaN(this.breakingAds)||(h.adConfig.midrolltime=+this.breakingAds)),this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)this.slots=[];else for(var g=this.slots.length-1;0<=g;g--)0!==this.slots[g].time&&this.slots.splice(g,1);this.slots.length||this.slots.push(h)}for(g=0;g<this.slots.length;g++){var v=this.slots[g],m=this.getSlotTimeout(v);if(v){if(v.adConfig||(v.adConfig={}),this.breakingAds&&0!==v.time){l.setState(C.stateEnum.progress),l.load(v,l.content.getWidth(),l.content.getHeight()),l.setSlotX(v);break}if(0==v.time&&(isNaN(p)||c)){this.setState(C.stateEnum.progress),l.setSlotX(v),l.timeout=v.timeout+v.time;var f=l.content.getWidth(),y=l.content.getHeight();com.aniview.player.Utils.fullscreenEnabled()&&(f=screen.width,y=screen.height,x.fixedFullScreenElement&&(f=x.fixedFullScreenElement.clientWidth,y=x.fixedFullScreenElement.clientHeight)),"ba"!==v.adType&&(i=!0),n=n&&i,l.load(v,f,y,n);break}if(v.time<m&&0!=v.time){v.time=m,l.setState(C.stateEnum.progress),l.timeout=v.timeout+v.time,l.load(v,l.content.getWidth(),l.content.getHeight()),l.setSlotX(v);break}if(p==(v.postroll&&!isNaN(d)?d:v.time)-m&&0!=v.time&&(E.isFirstAd||this.breakingAdsMode!==C.BreakingAdsModes.onePlayer)){l.setState(C.stateEnum.progress),l.timeout=v.timeout+v.time,l.load(v,l.content.getWidth(),l.content.getHeight()),l.setSlotX(v);break}if(p==v.time&&0!=v.time&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&!E.isFirstAd){l.timeout=v.timeout+v.time,v.time>E.skip&&(v.player=E.player,l.start(l.slotX),E.skip=v.time,l.setSlotX(v));break}}}}else{l.state==C.stateEnum.progress?(0==l.slotX.time&&"ba"!=l.slotX.adType&&(i=!0),l.timeout):l.state==C.stateEnum.adLoaded&&(this.preload||p>=l.slotX.time||isNaN(p))?(0==l.slotX.time&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession&&(i=!0),this.preload&&(s=1e3*this.getSlotTimeout(l.slotX)+1e3*this.getSlotStartTimeout(l.slotX),l.startSlotTimeout(l.slotX,s)),r=l.slotX.preroll&&0!==l.slotX.time,l.slotX.postroll||r||l.start(l.slotX)):l.state==C.stateEnum.done?(this.breakingAdsMode!==C.BreakingAdsModes.onePlayer?l.destroyAdPlayer():this.setState(C.stateEnum.none),l.breakingAds&&(l.slots=[])):l.state==C.stateEnum.startAd&&l.slotX&&0==l.slotX.time&&this.breakingAdsMode!==C.BreakingAdsModes.oneSession&&this.breakingAdsMode!==C.BreakingAdsModes.keepGoing&&(i=!0)}return this.preload=o&&i,!!i&&"preroll"}}else i&&(this.failedOnPreroll=!0)},C.prototype.getPrerollSlot=function(t){if(!t||"object"!=typeof t)return!1;for(var e,i=0;i<t.length;i++)if((e=t[i])&&(e.preroll||0==e.time))return e;return!1},C.prototype.getPostrollSlot=function(t){if(Array.isArray(t)&&!(t.length<=0))for(var e=0;e<t.length;++e)if(t[e]&&t[e].postroll)return t[e]},C.prototype.destroyAdPlayer=function(t){if(this.slotX){try{this.removeIvents(this.slotX.player),this.slotX.player.close()}catch(t){}this.clearSlotTimeout(this.slotX),this.slotX.player=null,this.removeAdsManagerAfterXSec(this.slotX.div.id,this.container.id,t)}this.setState(C.stateEnum.none),this.slotX=null,this.log("Destroy player",x.LOG_LEVEL.DEBUG)},C.prototype.checkCap=function(){return w.getCap()},C.prototype.continue=function(t,e){if(this.breakingAdsMode!==C.BreakingAdsModes.default&&this.breakingAdsMode!==C.BreakingAdsModes.onePlayer)return!1;this.slotX&&++this.slotX.adsCount;var i=w.isCap();if(this.slotX&&!i&&!e&&this.slotX.adsCount<this.slotX.maxAds&&t!==C.aEvents.AdTimeout){var n=1e3*this.getSlotNextAdTimeout(this.slotX);return this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&this.setWaterfallState(!0,!0),this.setState(C.stateEnum.startAd),this.startSlotTimeout(this.slotX,n),!0}return!1},C.prototype.done_op=function(t,e,i,n){var o,a=n&&n.errorlimit;i!==b.com.aniview.player.video.VideoTag.Events.ContentUserClose&&this.continue(i,a)||(a&&(this.event(i,{adsId:this.container.id,errorlimit:a,errorInfo:n}),this.destroyAdPlayer()),this.setWaterfallState(!1,i!==C.aEvents.AdError),this.state!==C.stateEnum.done&&(o=C.stateEnum.adLoaded,this.setState(o),this.event(C.aEvents.AdClosed,{adsId:this.container.id,errorLimit:a})),this.setSlotX(null),this.log("done_op, state: "+this.state+" errLimit: "+a+" reason: "+i))},C.prototype.done=function(t,e,i,n){var o,a=n&&n.errorlimit,s=!1;(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)&&this.content.config.content.bAImpressionCapping&&this.content.config.content.bAImpressionCapping<=e&&(this.log("Exit on capping limit"),t=!(s=!(this.content.preroll=!1))),this.continue(i,a)||this.state!==C.stateEnum.done&&(o=C.stateEnum.adLoaded,t||(this.breakingAdsMode===C.BreakingAdsModes.oneSession||s?(o=s?C.stateEnum.impressionCapped:C.stateEnum.stopAll,i&&this.event(i,{adsId:this.container.id,errorlimit:a,errorInfo:n}),this.destroyAdPlayer()):(this.breakingAdsMode===C.BreakingAdsModes.default&&(i&&this.event(i,{adsId:this.container.id}),this.destroyAdPlayer()),o=C.stateEnum.done)),this.setState(o),this.event(C.aEvents.AdClosed,{adsId:this.container.id,errorLimit:a}))},C.prototype.removeAdsManagerAfterXSec=function(i,n,t){var o=this;i&&null!=o&&(isNaN(t)&&(t=2e3),setTimeout(function(){try{var t=document.getElementById(n),e=document.getElementById(i);e&&t&&t.removeChild(e)}catch(t){o.log("Failed removing child",x.LOG_LEVEL.ERR)}},t))},C.prototype.init=function(t,e,i,n){var o=!1;this.slotX&&(this.slotX.preroll&&(this.slotX.time=0),this.breakingAdsMode===C.BreakingAdsModes.default&&(this.state===C.stateEnum.progress||this.state===C.stateEnum.adLoaded)&&this.slotX.adConfig&&t[0]&&t[0].adConfig&&(o=this.slotX.adConfig.channelId===t[0].adConfig.channelId));var a=this.state===C.stateEnum.impressionCapped;this.breakingAdsMode!==C.BreakingAdsModes.default&&!a||(!a&&o||(null!=this.slotX&&(this.removeIvents(this.slotX.player),e||this.removeAdsManagerAfterXSec(this.slotX.div.id,this.container.id)),this.slotX=null,this.breakingAdsMode!==C.BreakingAdsModes.onePlayer&&(this.prerollSlot=null),this.setState(C.stateEnum.none)),this.slots=com.aniview.player.Utils.clone(t)),this.breakingAdsMode===C.BreakingAdsModes.onePlayer&&(this.slots=com.aniview.player.Utils.clone(t)),E.skip=0;var s,r,l,p=w.isCap();t&&w.setContentCap(i||0),this.slots&&(s=this.slots,(r=n)&&s&&0==r.time&&Object.assign&&(l=r,s[0]&&0==s[0].time&&(l=Object.assign({},s[0]),l=Object.assign(l,r),s.shift()),s.unshift(l)),this.slots.forEach(function(t){t.selected=!1,t.preloadAdTime=isNaN(t.preloadAdTime)?isNaN(t.preloadTime)?5:t.preloadTime:t.preloadAdTime,t.adConfig||(t.adConfig={})})),this.breakingAdsMode!=C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession||p&&!w.isCap()&&this.slotX&&this.slotX.player&&this.slotX.player.setWaterfallState(!0,!0)},C.prototype.initNextPreroll=function(t,e){},C.prototype.load=function(e,t,i,n){if(!w.isCap()){var o=this;if(this.breakingAdsMode!=C.BreakingAdsModes.onePlayer?(e.adConfig=com.aniview.utils.ObjectUtils.mergeObject(this.adConfig,e.adConfig),e.adConfig=this.overrideAdConfig(e.adConfig)):e.adConfig=this.adConfig,this.adsPlayer&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer||(this.lastSlotDiv=e.div=document.createElement("div"),e.div.id="aniview_slot_"+com.aniview.player.Utils.generateRandomString(),e.div.style.position="absolute",e.div.style.width=e.div.style.height="100%",this.container.appendChild(e.div),e.adConfig.position=e.div.id),e.adConfig.width=t,e.adConfig.height=i,e.adConfig.autoPlay=this.breakingAdsMode==C.BreakingAdsModes.oneSession&&!this.noAdsOnContentPause&&!this.content.config.playOnView,this.canStartOnView=this.canStartOnView||!this.content.config.playOnView,e.adConfig.nativeVideo=!0,e.adConfig.showbigplay=!1,e.adConfig.closeButton=!1,e.adConfig.contentPlayer=!0,e.adConfig.contentvideo=this.content.tag.video.element,this.adConfig.oneVideoElement&&(e.adConfig.format="html5"),e.adConfig.advideoslot=this.content.oneVideoElem&&(this.breakingAdsMode!=C.BreakingAdsModes.keepGoing&&this.breakingAdsMode!=C.BreakingAdsModes.oneSession&&this.breakingAdsMode!=C.BreakingAdsModes.onePlayer||"ios"===com.aniview.player.Utils.getOS()&&this.content.config.showFullScreen)?this.content.tag.video.adsElement:null,this.content.config.useImageVideo&&(e.adConfig.advideoslot=null,e.adConfig.nativeVideo=!1),e.adConfig.baseJsUrl)try{delete e.adConfig.baseJsUrl}catch(t){}e.adConfig.baseJsUrlDev&&(e.adConfig.baseJsUrl=e.adConfig.baseJsUrlDev),e.adConfig.baseJsUrlwl&&(e.adConfig.baseJsUrl=e.adConfig.baseJsUrlwl),e.adConfig.fullscreen=this.content.config.showFullScreen&&(!x.isMobile()||this.content.config.mobile.showFullScreen),e.adConfig.fullscreen&&(e.adConfig.fsmode=x.isMobile()?this.content.config.mobile.fullScreenMode?this.content.config.mobile.fullScreenMode:"fixed":"full"),e.adConfig.imaflags&&(e.adConfig.imaAutoplay=!n),e.adConfig.noInlineVideo=this.content.config.noInlineVideo;var a=this.content.getLastVolume();this.content.oneVideoElem&&a&&this.content.config.syncVolume?e.adConfig.autosound=!0:(e.adConfig.advideoslot&&(e.adConfig.advideoslot.muted=!0),e.adConfig.autosound=!1),e.adConfig.imaflags&&(e.adConfig.imaMuted=!e.adConfig.autosound),e.maxAds=isNaN(e.maxAds)?1:+e.maxAds,isNaN(e.adConfig.maximp)||(e.maxAds=Math.min(e.maxAds,+e.adConfig.maximp)),this.breakingAdsMode===C.BreakingAdsModes.onePlayer||this.breakingAds&&(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession)?e.adConfig.contentAdsContainer=this.content.nonLinearInnerDiv:isNaN(e.adConfig.maximp)&&(e.adConfig.maximp=e.maxAds);var s,r=e.time;if(0!=e.time||this.content.firstSessionPlayed||(r=-2),0<this.content.getContentDuration()&&this.setRef1(e.adConfig,"AV_DURATION",this.content.getContentDuration()),this.content.getContentUrl()&&this.setRef1(e.adConfig,"AV_VIDEOURL",this.content.getContentUrl()),this.setRef1(e.adConfig,"AV_SLOTT",0<r||-2==r?r:0),e.adConfig.ctinfo=this.content.ctInfo,this.adsPlayer&&this.breakingAdsMode===C.BreakingAdsModes.onePlayer)e.player=this.adsPlayer,e.div||(e.div=this.lastSlotDiv);else{this.adsPlayer=e.player=new b.com.aniview.player.avPlayer(e.adConfig),this.initIvents(e.player,o,t,i),E.player=e.player,this.log("load() - calling ads player play()",x.LOG_LEVEL.DEBUG),e.player.play();try{var l=document.getElementById("AVLoader"+e.div.id).contentDocument.getElementsByTagName("script")[0];l.onerror=function(t){try{o.abk=t.currentTarget.dataset.av=="AVScript"+e.div.id}catch(t){o.log("Can't set abk",x.LOG_LEVEL.ERR)}o.done()},l.onended=function(t){o.done()},l.oninvalid=function(t){o.done()},l.oncancel=function(t){o.done()},l.onabort=catch(t){o.log("Failed getting av manager loader",x.LOG_LEVEL.ERR)}}"ba"!==e.adType&&(s=1e3*this.getSlotTimeout(e)+1e3*this.getSlotStartTimeout(e),this.startSlotTimeout(e,s))}},C.prototype.startSlotTimeout=function(t,e){var i,n=this;this.log("setting slot timeoutFunc: "+e,x.LOG_LEVEL.DEBUG),i=function(){n.state===C.stateEnum.progress||n.state===C.stateEnum.startAd?n.preload?t.timeoutFunc=setTimeout(i,1e3):(n.log("Ad removed by timeout with state "+n.state+", slot time: "+t.time,x.LOG_LEVEL.INFO),n.done(!1,!1,C.aEvents.AdTimeout)):(n.state,C.stateEnum.adLoaded)},n.clearSlotTimeout(t),t.timeoutFunc=setTimeout(i,e)},C.prototype.clearSlotTimeout=var o=!(C.prototype.log=function(t,e){x.log("AdsController::"+this.container.id+" - "+t,e)});C.prototype.start_op=function(t){var e;this.adsPlayer?(this.setState(C.stateEnum.startAd),o||this.errorLimit?(this.setWaterfallState(!1),this.setWaterfallState(!0,!0),e=this.errorLimit?100:1e3*this.getSlotTimeout(t)+1e3*this.getSlotStartTimeout(t),this.startSlotTimeout(t,e),x.log("AdsController::start setWaterfallState",x.LOG_LEVEL.DEBUG)):(o=!0,this.adsPlayer.startAd(!0),x.log("AdsController::start startAd",x.LOG_LEVEL.DEBUG))):x.log("AdsController::start none",x.LOG_LEVEL.DEBUG)},C.prototype.start=function(t){t&&t.player&&(this.setState(C.stateEnum.startAd),t.player.startAd(!0))},C.prototype.AdsEventFunc={},C.prototype.setState=function(t){this.log("Changing ad state to: "+t,x.LOG_LEVEL.DEBUG),this.state=t},C.prototype.initIvents=function(o,a,t,e){var s=this;s.width=t,s.height=e;var r=this.breakingAds&&(this.breakingAdsMode===C.BreakingAdsModes.keepGoing||this.breakingAdsMode===C.BreakingAdsModes.oneSession);o.onInventory=function(){!o||s.width==t&&s.height==e||o.resize(s.width,s.height,x.fullscreenEnabled()?"fullscreen":"normal"),s.adConfig&&s.breakingAds&&(s.adConfig.invSet=!0)},o.onPlay=function(t){a.log("player.onPlay, slot: "+a.slotX.sid),!w.inc()&&a.breakingAdsMode!==C.BreakingAdsModes.onePlayer||o.setWaterfallState(!1),a.content.preroll=!1,a.setState(C.stateEnum.playing),a.clearSlotTimeout(a.slotX),a.playState=a.content.playStateEnum.playing,a.event(C.aEvents.AdVideoStart),o.resize(s.width,s.height,x.fullscreenEnabled()?"fullscreen":"normal");try{var e,i;x.isMobile()&&!a.content.firstGesture||(a.content.config.syncVolume?(e=a.content.getLastVolume())?(i=this,setTimeout(function(){i.unmute(e)},10)):this.mute(e):a.slotX.adConfig.startVolume&&0<a.slotX.adConfig.startVolume&&(i=this,setTimeout(10)))}catch(t){}},o.onLoad=function(t){var e=a.content.getContentCurrentTime(),i=a.slotX.time;a.state!=C.stateEnum.progress&&a.state!=C.stateEnum.adLoaded||(a.canStartOnView&&a.content.started&&!a.preload&&a===a.content.ads&&(!0===a.content.preroll||e==i&&0==i)?(a.log("Preroll!! Starting slot"),a.start(a.slotX,!0)):a.state!=C.stateEnum.adLoaded&&a.setState(C.stateEnum.adLoaded))},o.onReady=o.onPlay100=function(t){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0,C.aEvents.AdVideoComplete)},o.onStopped=function(){a.playState===a.content.playStateEnum.playing&&o.onError&&o.onError({})},o.onError=function(t,e){var i=a.playState,n=!1,o=!(!t||!t.errorlimit);a.errorLimit=o,r&&!o&&(n=!0),a.playState=a.content.playStateEnum.none,!o&&i!=a.content.playStateEnum.playing&&i!=a.content.playStateEnum.paused||(o&&a.log("Exit on error limit"),a.content.preroll=!1,a.done(n,0,C.aEvents.AdError,t))},o.onClose=function(t,e){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0)},o.onPause=function(t){a.playState=a.content.playStateEnum.paused},o.onResume=o.onMute=function(t){a.content.config.syncVolume&&a.content.mute(!0)},o.onUnmute=function(t){a.content.config.syncVolume&&a.content.unmute(!0)},o.onSkip=function(t){a.playState=a.content.playStateEnum.none,a.done(r&&!a.content.preroll,0,C.aEvents.AdSkipped)},o.onClick=function(t,e){},o.onFullScreenRequest=for(var i=C.getEvents(),n=0;n<i.length;n++){!function(n){o.on(n,a.AdsEventFunc[n]=function(t,e,i){s.event(n,{p1:t,p2:e,p3:i})})}(i[n])}},C.prototype.removeIvents=function(t){if(t){t.onInventory=null,t.onPlay=null,t.onLoad=null,t.onReady=null,t.onPlay25=null,t.onPlay50=null,t.onPlay75=null,t.onPlay100=null,t.onError=null,t.onClose=null,t.onPause=null,t.onResume=null,t.onMute=null,t.onUnmute=null,t.onSkip=null,t.onClick=null;var e,i=this.AdsEventFunc;for(e in i)i.hasOwnProperty(e)&&t.off(e,i[e])}},C.prototype.play=function(){this.slotX&&this.slotX.player&&(this.slotX.player.playing?this.slotX.player.resume():this.slotX.player.play())},C.prototype.pause=function(){this.slotX&&this.slotX.player&&this.slotX.player.pause()},C.prototype.skip=function(){this.slotX&&this.slotX.player&&(this.getPlayState()==this.content.playStateEnum.playing||this.getPlayState()==this.content.playStateEnum.paused)&&(this.slotX.player.pause(),this.slotX.player.skip())},C.prototype.setWaterfallState=function(t,e,i){if(b.com.aniview.player.Utils.log("setWaterfallState, active: "+t+", force: "+e,b.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.slotX&&this.slotX.player&&this.slotX.player.setWaterfallState){if(this.noAdsOnContentPause&&this.userPausedContent&&t)return;this.slotX.player.setWaterfallState(t,e,i)}},C.prototype.setFloor=function(t){this.slotX&&this.slotX.player&&this.slotX.player.setFloor(t)},C.prototype.setUserPausedContent=function(t){this.noAdsOnContentPause&&t!=this.userPausedContent&&(!(this.userPausedContent=t)&&w.isCap()||this.setWaterfallState(!t,!0,!0))},C.prototype.mute=function(){this.slotX&&this.slotX.player&&this.slotX.player.mute()},C.prototype.unmute=function(){this.slotX&&this.slotX.player&&this.slotX.player.unmute()},C.prototype.setSize=function(t,e,i){this.width=t,this.height=e;var n=this.slotX&&this.slotX.player||this.adsPlayer;n&&n.resize(t,e,i)},C.prototype.updateGui=C.prototype.getSlotTimeout=function(t){return t.firstAdTimeOut||t.nextAdTimeout||t.timeout||this.preloadAdTime||this.preloadTime||15},C.prototype.getSlotStartTimeout=function(t){return t.startAdTimeout||this.startAdTimeout||5},C.prototype.getSlotNextAdTimeout=function(t){return t.nextAdTimeout||this.nextAdTimeout||5},C.prototype.pauseSlotTimeout_op=function(){},C.prototype.pauseSlotTimeout=function(){var t,e;this.slotX&&this.slotX.timeoutFunc&&"ba"!==this.slotX.adType?(t=this.getSlotStartTimeout(this.slotX),e=1e3*(this.slotX.time-this.content.getContentCurrentTime())+t,this.log("Pause slot timeoutFunc with remaining of: "+e,x.LOG_LEVEL.DEBUG),this.clearSlotTimeout(this.slotX)):this.log("pauseSlotTimeout No SlotX or no timeoutFunc found",x.LOG_LEVEL.DEBUG)},C.prototype.continueSlotTimeout=function(){var t,e;this.slotX&&!this.slotX.timeoutFunc&&"ba"!==this.slotX.adType&&(t=this.getSlotStartTimeout(this.slotX),e=1e3*(this.slotX.time-this.content.getContentCurrentTime())+t,this.log("Continue slot timeoutFunc with remaining of: "+e,x.LOG_LEVEL.DEBUG),0<e?this.startSlotTimeout(this.slotX,e):this.content.config.content.breakingAdsMode!==C.BreakingAdsModes.onePlayer&&(this.log("continueSlotTimeout remaining time for timeout was 0 or less",x.LOG_LEVEL.DEBUG),this.done(!1,!1,C.aEvents.AdTimeout)))},C.prototype.fixBreakingAdsOffset=function(t,e){var i;t<e&&this.slotX&&(i=e-t,this.slotX.time=this.slotX.time-i)},C.prototype.getPlayState=function(){return this.playState},C.prototype.changeAdConfig=function(t){this.changedAdConfig=t},C.prototype.overrideAdConfig=function(t){return this.changedAdConfig?com.aniview.utils.ObjectUtils.mergeObject(t,this.changedAdConfig):t},C.prototype.getAdDuration=function(){if(this.slotX&&this.slotX.player)return this.slotX.player.getAdDuration()},C.prototype.getAdRemainingTime=function(){if(this.slotX&&this.slotX.player)return this.slotX.player.getAdRemainingTime()},C.prototype.event=function(t,e){e=e||{},this.log("Ad Event: "+t),t===C.aEvents.AdVolumeChange&&(e.volume=this.slotX.player.getAdVolume());var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},C.prototype.listeners=null,C.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},C.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},C.prototype.removeAllEventListeners=C.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++)e[i].call(this,t)}}(window),function(x){"use strict";x.com||(x.com={}),x.com.aniview||(x.com.aniview={}),x.com.aniview.player||(x.com.aniview.player={});x._avcp=x.com.aniview.player.AniviewContentPlayer=function(t){var w;function h(t){if(t)for(var e=t.length-1;0<=e;e--){var i,n=t[e];!n.url||!n.url.length||n.url.length<5?t.splice(e,1):(n.entry=n.entry||{},i=n.entry,n.poster=n.poster||i.thumbnailUrl||t.defaultPoster,i.name=i.name||n.name,i.description=i.description||n.description,i.duration=i.duration||n.duration)}}function o(t,e){for(var i=t&&t.publisherId?t.publisherId:null,n=0;n<e.length;n++){var o=e[n];if(o){o.slots=o.slots||[];for(var a,s=o.slots,r=0;s&&r<s.length;r++){s[r]&&s[r].adConfig?(a=s[r].adConfig,s[r].adConfig=com.aniview.utils.ObjectUtils.mergeObject(t,a),!i&&s[r].adConfig&&s[r].adConfig.publisherId&&(i=s[r].adConfig.publisherId)):s[r]&&(s[r].adConfig=com.aniview.utils.ObjectUtils.mergeObject({},t))}}}return i}function C(e){var i=this;function n(){"playlist"!=e.content.type&&i.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,i.config.content.contents)}his.active=!0,i.guid=t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t(),i.firstSessionPlayed=!1,i.userPause=!1,i.state="init",i.initInternalEvents(),i.setPlayerOwner("none"),w=i.playStateEnum.none,i.initConfig(e);var o=document.getElementById(e.position),a=document.createElement("div"),s=document.createElement("div");if(a.id=e.position+"Container",s.id=e.position+"Wrapper",s.classList.add("avp-p-wrapper"),s.appendChild(a),o.appendChild(s),i.container=a,i.wrapper=s,i.pos=o,!i.container)throw"Player container not found";i.container.style.backgroundColor="#000000";var r=x.com.aniview.player.Utils;r.isFloating(e)&&("top"===e.floating.position||"bottom"===e.floating.position)&&e.floating.backgroundColor&&(i.container.style.backgroundColor=e.floating.backgroundColor),r.isSticky(e)&&("top"===e.sticky.position||"bottom"===e.sticky.position)&&e.sticky.backgroundColor&&(i.container.style.backgroundColor=e.sticky.backgroundColor),i.container.style.position="relative",i.container.style.textAlign="initial",i.initPlugins(i.config),i.initContent(i.config),i.initTracking(e),e.autoPlay&&e.detectAutoPlay&&x.com.aniview.player.Utils.isMobile()?(i.config.autoplayDetection=!0,r.checkNativeVideo(function(t){i.config.autoplayDetection=!1,e.simAutoplayError&&(t="error"),"error"==t?"images"==e.detectAutoPlayAction?(i.config.useImageVideo=!0,i.config.autoPlay=!0):(i.config.autoPlay=!1,i.gui.update()):i.config.autoPlay=!0,n(),i.callNextContent&&i.nextContent()})):n()}var l,e=t.playerDomain||"player.avplayer.com";C.libraryHLS="https://"+e+"/script/2/2.55/libs/hls.min.js",C.XlibraryDASH="https://"+e+"/script/2/2.9/libs/dash.all.min.js",C.preloadAdTime=10,C.pixelEnums={playingError:"c10",playerLoaded:"c9",contentImpression:"c8",contentCompleted:"c7",adsImpression:"c6",adsInventory:"c5"},C.prototype.playStateEnum={none:"none",playing:"playing",paused:"paused"},C.prototype.container=null,C.prototype.tag=null,C.prototype.dispatcher=null,C.prototype.content=null,C.prototype.config=null,C.prototype.initialConfig=null,C.prototype.carouselConfig={showPauseButton:!1,showDuration:!1,showFullScreen:!1,showNextButton:!1,showPrevButton:!1,showSoundButton:!1},C.prototype.playedContent=[],C.prototype.nextContentTimeout=-1,C.prototype.started=!1,C.prototype.error=!1,C.prototype.preroll=!1,C.prototype.postroll=!1,C.prototype.state="none",C.prototype.plugins={},C.prototype.oneVideoElement=!1,C.prototype.currentChapterIndex=null,C.getEvents=function(){return com.aniview.player.AdsController.getEvents().concat(x.com.aniview.player.video.VideoTag.getExternalEvents()).concat(x.com.aniview.player.PlayerGUI.getExternalEvents())},C.prototype.checkConfig=function(t){if(null==t)throw"Parameter 'config' must not be undefined";void 0===t.autoPlayOnLightMode&&(t.autoPlayOnLightMode=!0),!t.autoPlayOnLightMode&&x.navigator&&x.navigator.connection&&x.navigator.connection.saveData&&(t.autoPlay=!1),t.logLevel&&(x.com.aniview.player.Utils.logLevel=t.logLevel),t&&t.content&&h(t.content.contents);for(var e=["position","content","content.contents","width","height"],i=0;i<e.length;i++)for(var n=e[i].split("."),o=t,a="config",s=0;s<n.length;s++){var r=n[s];if(a+="."+r,null==o[r])throw"Parameter '"+a+"' must not be undefined";o=o[r]}var l,p={autoPlay:!0,contentAutoLoad:!0,showTimelineReplay:!1,showPrevButton:!0,showPauseButton:!0,showNextButton:!0,showBigPrevNext:!0,showSoundButton:!0,showVolumeControl:!0,showVerticalVolume:!1,showClosedCaptions:!0,showFullScreen:!0,showDuration:!0,hideGuiOnMouseout:!0,syncVolume:!1,handleFirstGesture:!0,gui:{},hideGuiTimeout:2,timelineMode:"default",moveXSec:!1,xSec:10,spinner:"default",theme:"default",themeColor:"#ff0000",delayBeforeNext:4,mobile:{},noInlineVideo:!1},d={};for(l in p)null==t[l]&&(t[l]=p[l]);if(!t||!t.content||t.content.contents&&0!=t.content.contents.length||(t.content.contents=[{id:1,url:"https://play.aniview.com/59c9148628a0612da3689288/6220f5638a5a9a74a566abe5/night.mp4",type:"video"}]),x.com.aniview.player.Utils.isMobile()&&t.autoPlay){if("webos"!==x.com.aniview.player.Utils.getOS()&&-1!==x.com.aniview.player.Utils.getOS().indexOf("tizen")&&(t.newVolume=0,t.syncVolume=!1),t.mobile)for(var c in t.mobile)t[c]=t.mobile[c];for(var u in t.mobile||(t.mobile={}),d)null==t.mobile[u]&&(t[u]=d[u])}t.floating&&t.floating.position&&(t.floating.position=t.floating.position.toLowerCase()),t.sticky&&t.sticky.position&&(t.sticky.position=t.sticky.position.toLowerCase()),void 0===t.vitab&&t.adConfig&&t.adConfig.vitab&&(t.vitab=!0)},C.prototype.init=function(t){var e,i=com.aniview.player.Utils;this.oneVideoElement=i.isOneVideoElement(),void 0!==this.config.adConfig?this.config.adConfig.oneVideoElement=this.oneVideoElement:this.config.adConfig={oneVideoElement:this.oneVideoElement},this.config.adConfig.tagId=this.config.tagId,this.config.adConfig.templateId=this.config.templateId,this.setContentList(t,!1),this.config.originalOrder=this.config.order,this.config.content.order&&(e=this.config.content.randomFrom?this.config.content.randomFrom:0,x.com.aniview.player.Utils.shuffleArray(this.config.content.contents,e));var n=this.config.content.contents[0];this.content=n;var o="";try{o=n.url}catch(t){}var a,s,r=this.config.trackTraffic?"type=ec&pid="+this.publisherId+(this.config.tagId?"&stagid="+this.config.tagId:"")+(this.config.templateId?"&stplid="+this.config.templateId:""):"",l={libraryHLS:C.libraryHLS,hlsConfig:this.config.content.hlsConfig,libraryDASH:C.XlibraryDASH,dashConfig:this.config.content.dashConfig,src:o,autoPlay:this.config.autoPlay,volume:this.config.startVolume,noInlineVideo:this.config.noInlineVideo,useImageVideo:this.config.useImageVideo,avTrackData:r,passHLSParams:this.config.passHLSParams};this.tag=new com.aniview.player.video.VideoTag(l),this.tag.container.style.position="absolute",this.tag.container.style.width="100%",this.tag.container.style.height="100%",this.tag.show(),this.container.appendChild(this.tag.container),this.sendPixel(C.pixelEnums.playerLoaded),this.gui=new com.aniview.player.PlayerGUI(this),this.gui.stateLoading(),this.config.customCss&&(this.config.noCssBreak?this.gui.addStyle(this.config.customCss):(a='[data-id="'+this.gui.container.dataset.id+'"]',s=(s=this.config.customCss.replace(/}/gi,"} "+a)).substring(0,s.length-(a.length+1)),this.gui.addStyle(a+" "+s)));var p=this.config.content;this.isStartMode("WaitForAd")&&(p.firstPrerollSlot||(p.firstPrerollSlot={maxAds:1,nextAdTimeout:5,preloadAdTime:5,time:0,firstAdTimeOut:1}),p.firstPrerollSlot.firstAdTimeOut=15e3),this.isStartMode("WaitForAd")&&this.config.startMode.hidden&&(p.breakingAdsMode===com.aniview.player.AdsController.BreakingAdsModes.oneSession||p.breakingAdsMode===com.aniview.player.AdsController.BreakingAdsModes.onePlayer)&&this.gui.hidePlayer(),this.gui.setPoster(n),this.gui.showPoster(),this.gui.container.style.position="absolute",this.gui.container.style.zIndex=1,this.updateSize(),this.container.appendChild(this.gui.container),this.gui.sharedGui.style.zIndex=4,this.container.appendChild(this.gui.sharedGui),(this.config.closeButton||this.config.floating&&this.config.floating.closeButton)&&this.gui.updateSharedParameter(),this.gui.postInit(),this.nonLinearContainer=document.createElement("div"),this.nonLinearContainer.style.position="absolute",this.nonLinearContainer.style.width="100%",this.nonLinearContainer.style.height="90px",this.nonLinearContainer.className="nonl-container";var d=document.createElement("div");d.style.overflow="hidden",this.nonLinearInnerDiv=document.createElement("div"),this.nonLinearInnerDiv.id="nonl",this.nonLinearInnerDiv.style.width="100%",this.nonLinearInnerDiv.style.height="100%",this.nonLinearContainer.appendChild(d).appendChild(this.nonLinearInnerDiv);var c=this.getContentIndex(this.getContent());c<0&&(c=0);var u=this.hasBreakingAds(c);this.ads=new com.aniview.player.AdsController(this,u),this.setAdsContainer(this.ads),this.initEvents(this,this.tag,this.gui,this.ads),this.tag.setVideoTagConfig(l),this.tag.addVideoAttributes(),this.isContentAutoLoad&&this.tag.initVideo(),this.prepareIosVideoElements(this.tag.video.element,this.tag.video.adsElement),com.aniview.player.Utils.setFullScreenElements({container:this.container,content:this.tag.video.element,ad:this.tag.video.adsElement})},C.prototype.addTracker=C.prototype.parseTrackers=function(t){this.pixels={},(t||[]).forEach(},C.prototype.fireTrackers=C.prototype.initTracking=function(t){var s=this,e=com.aniview.player.Utils.getProtocol(),i=t.tracking||{},n=i.trackDomain||"track1.avplayer.com",o=i.cmsPublisherId||"",a=i.widgetId||"",r=com.aniview.player.Utils.getHostName(i.domain||com.aniview.player.Utils.getTrueDomain())||"",l=i.subid||"",p=i.cd1||"",d=i.cd2||"",c=i.cd3||"",u=i.app||"",h=100!=t.width?t.width:this.container.clientWidth,g=0!=t.height?t.height:this.container.clientHeight;function v(t,e){s.ctInfo.adClosed=!1,s.ctInfo.adImp=!1,s.ctInfo.firstPlay=!0,s.ctInfo.url=e||"",s.ctInfo.duration=t.duration||"",s.ctInfo.title=t.title||t.name||"",s.ctInfo.id=t.id||"",s.ctInfo.platform=t.platform||"",s.ctInfo.keywords=t.keywords||t.tags||"",s.ctInfo.extId=t.extId||"",s.ctInfo.irisId=t.irisId||"",s.ctInfo.irisContext=t.irisContext||"";for(var i=1;i<=10;i++)s.ctInfo["cparam"+i]=t["cparam"+i]||"";if(s.ctInfo.cguid=t.guid||"",s.ctInfo.setTrackParams(),s.ctInfo.cguid){for(var n=s.getContentList(),o=(t.guid,n.reduce(null)),a=0;a<o.length&&o[0]!==t.guid;)a++,o.push(o.shift());s.ctInfo.cguidlist=o.slice(0,3).join(",")}}this.parseTrackers(i.trackers||[]),this.ctInfo={enabled:i.enabled,tUrl:e+"//"+n+"/ctrack?",tData:"&pid="+s.publisherId+"&r="+r+"&sn="+l+"&cd1="+p+"&cd2="+d+"&cd3="+c+"&app="+u+"&wi="+h+"&he="+g+"&test=",lastTimeTrack:0,playTime:0,paused:!1,firstPlay:!0,lastMuted:0==this.config.startVolume,extra:"",duration:null,url:null,trackParams:"",id:"",title:"",setTrackParams:function(){this.enabled&&(this.trackParams="pt=2&cmid="+o+"&cwid="+a+"&cvid="+(this.id||""))},getPixel:,this.ctInfo.setTrackParams();var m=s.content||(s.getContentList()&&s.getContentList()[0]?s.getContentList()[0]:{});v(m,m.url);var f,y,b={ratio:.5,time:2,params:""},w=0,C=null;!i.viewability||(f=t.adConfig||{}).publisherId&&(b={ratio:i.viewability.ratio||.5,time:i.viewability.time||2,params:i.viewability.params||""},y="https://"+(f.trackDomain||"track1.aniview.com")+"/track?pid="+f.publisherId+"&cid="+f.channelId+"&cb="+Date.now()+"&r="+location.host+"&stagid="+(t.tagId||"")+"&stplid="+(t.templateId||"")+"&d35="+(f.sabTest||"")+"&"+b.params+"&e=AV_M21",this.addTracker({e:"vipl",t:1,url:y}));var x=com.aniview.player.events.Events;[[x.ContentSourceChanged,null,function(t,e){v(s.content,e&&e.src)}],[x.ContentSizeChange,null,function(t,e){}],[x.ContentDurationChange,null,function(t,e){var i=!isNaN(e)&&e||s.content.duration||"";0<e&&(s.ctInfo.duration=i,s.ctInfo.setTrackParams())}],[x.ContentVideoStart,"cply",function(){return s.ctInfo.lastTimeTrack=0,!(s.ctInfo.paused=!1)}],[x.ContentVideoFirstQuartile,"cfqt"],[x.ContentVideoMidpoint,"cmdp"],[x.ContentVideoThirdQuartile,"ctqt"],[x.ContentVideoComplete,"cmpt"],[x.ContentClickThru,"cclk"],[x.AdImpression,null,,[x.AdClosed,null,,[x.ContentPaused,"cpau",,[x.ContentPlaying,"cres",function(){return!s.ctInfo.firstPlay&&!s.ctInfo.adClosed||(s.ctInfo.firstPlay=!1,s.ctInfo.adClosed=!1)}],[x.ContentError,"cerr"],[x.ContentNextClicked,"cnxt"],[x.ContentPrevClicked,"cprv"],[x.ContentTimeChange,null,function(t,e){var i,n=!isNaN(e)&&e||s.getContentCurrentTime();isNaN(n)||0==n||(0<(i=n-s.ctInfo.lastTimeTrack)&&(s.ctInfo.playTime+=i),s.ctInfo.lastTimeTrack=n,10<=s.ctInfo.playTime&&(s.track("ctpl","&cppt="+s.ctInfo.playTime),s.ctInfo.playTime=0))}],[x.ContentVolumeChange,null,function(){var t=s.getMuted();t!=s.ctInfo.lastMuted&&(s.ctInfo.lastMuted=t,s.track(t?"cmut":"cunm"))}],[x.ContentViewabilityChanged,null,function(t){return b&&t&&t.data&&(t.data.playerViewRatio>=b.ratio?C||(w=Date.now(),C=setTimeout(function(){b&&0<w&&Date.now()-1e3*b.time>=w&&(C=b=null,s.fireTrackers("vipl"),s.dispatcher.event(x.ViewablePlayer,{floating:s.isPlayerFloating()}))},1e3*b.time)):(C&&(clearTimeout(C),C=null),w=0)),!1}]].forEach(function(e){s.on(e[0],function(){var t=!0;"function"==typeof e[2]&&(t=e[2].apply(s,arguments)),t&&e[1]&&(s.track(e[1],s.ctInfo.extra),s.ctInfo.extra="")})}),s.track("cpll")},C.prototype.track=function(t,e){var i=e||"";if(this.ctInfo.enabled){var n="";try{var o=com.aniview.player.Utils.getViewability(this.pos),n=o&&"undefined"!==o.ratio?Math.floor(100*o.ratio):"-1"}catch(t){n="-1"}(new Image).src=this.ctInfo.getPixel()+"&vi="+n+"&e="+t+i+"&cb="+Date.now()}},C.prototype.initInternalEvents=function(){this.dispatcher=new com.aniview.player.EventListener;var e=this;this.dispatcher.addEventListener(com.aniview.player.events.Events.InitContentsSuccess,function(t){e.init(t.data.contents),e.state="ready",t.data.async&&e.updateContent(),e.startWhenReady&&t.data.contents.length?e.nextContent():e.isStartMode("WaitForAd")&&!e.firstSessionPlayed||e.gui.changeSpinnerState(!1)}),this.dispatcher.addEventListener(com.aniview.player.events.Events.InitContentsError,function(t){})},C.prototype.initConfig=function(e){if(null==e)throw"Parameter 'config' must not be undefined";this.checkConfig(e);var t=com.aniview.utils.ObjectUtils.clone(e);this.config=t,this.initialConfig={};var i=this.initialConfig;Object.keys(this.carouselConfig).forEach(,this.isStartMode("WaitForAd")&&(this.config.contentAutoLoad=!1),this.isContentAutoLoad=this.config.contentAutoLoad,this.oneVideoElem=!t.oneVideoElem||t.oneVideoElem;var n=t.adConfig;return this.publisherId=o(n,t.content.contents),this.adsAllowed=this.config.content.breakingAdsMode!==com.aniview.player.AdsController.BreakingAdsModes.oneSession||!this.config.content.adsDelay,t},C.prototype.initPlugins=function(t){var e=this,i=t.plugins;if(i)for(var n in i)try{var o,a,s=(a=i[n]).name,r=a.config?a.config:{};"Playlist"===s?(o=document.createElement("script"),r.src&&(o.src=r.src,o&&(o.onload=function(){e.plugins[s]=new com.aniview.player[s](e.config,e,r.settings),r.settings&&!0===r.settings.hidePlaylist&&e.hidePlaylist()},document.getElementsByTagName("head")[0].appendChild(o)))):e.plugins[s]=new com.aniview.player.plugins[s](e,r)}catch(t){}},C.prototype.initContent=function(t){var e,i,n,o=this;"playlist"==t.content.type?(o.setContentList([],!1),o.plugins.AVCms?o.plugins.AVCms.setPlaylist(t):(n={message:"No plugin",code:500},this.dispatcher.event(com.aniview.player.events.Events.InitContentsError,n))):(e=t.adConfig,i=t.content.contents,o.mergeSlotsConfigs(i,t.content.slotDefaults,t.content.commonSlots),i=o.mergeAdConfigs(i,e),n={contents:t.content.contents=i,async:!1},o.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,n))},C.prototype.closePlayer=function(){this.close();var t=this.pos;t.removeChild(this.container.parentNode),this.ads.done(!1,!1,x.com.aniview.player.video.VideoTag.Events.ContentUserClose),t.style.cssText="",this.resizeObserver&&this.resizeObserver.disconnect()},C.prototype.stopFloating=function(){var t=this;t.config.floating.size=0,com.aniview.player.Utils.setFloating(t.wrapper,!1,t.config,!1,!1,function(){t.getSize()}),this.isFloatingState=!1,delete t.config.floating,delete t.config.floatingCSS,t.config.closeButton||t.gui.removeElementByClass(".avp-p-cn-close  ",!0)},C.prototype.startFloating=function(t){var e=this;e.config.floating=t;var i,n,o=x.com.aniview.player.Utils;o.isFloating(e.config)&&(i=e.config.floating.closeButton&&!e.config.closeButton,o.setFloatingCSS(e.config),i&&!e.config.closeButton&&e.gui.updateSharedParameter(),(n=e.getViewability()).inView?(o.setFloating(e.wrapper,!1,e.config,n.state,t.viewFromBottom,function(){e.getSize()}),i&&(e.container.querySelector(".avp-p-cn-close").style.display="none"),e.isFloatingState=!1):(o.setFloating(e.wrapper,!0,e.config,n.state,t.viewFromBottom,function(){var t=e.getPlayerSize(!0);e.setSize(t.w,t.h,!1,!0)}),e.isFloatingState=!0))},C.prototype.updateContentList=function(t){var e=this.config;h(t),e.adConfig&&(this.publisherId=o(e.adConfig,t)),this.setContentList(t),this.dispatcher.event(com.aniview.player.events.Events.ContentListChanged,t),this.skipAd(),this.nextContent()},C.prototype.setFloor=function(t){this.ads&&this.ads.setFloor(t)},C.prototype.getViewability=C.prototype.updateCTInfo=function(t){this.ctInfo&&Object.assign&&Object.assign(this.ctInfo,t)},C.prototype.mergeSlotsConfigs=function(t,e,i){if(e||i)for(var n=0;n<t.length;++n){var o=t[n];if(o){var a=o.slots||[],s=a.slice();if(i&&i.push&&i.forEach(function(t){for(var e=0;e<a.length;++e){var i=a[e];if(t.time===i.time){s[e]=com.aniview.utils.ObjectUtils.mergeObject(t,i);break}}e===a.length&&s.push(t)}),e)for(var r=0;s&&r<s.length;++r)s[r]&&(s[r]=com.aniview.utils.ObjectUtils.mergeObject(e,s[r]));o.slots=s.sort(function(t,e){return t.preroll||e.postroll&&(!isNaN(t.time)||t.postroll)?-1:t.postroll&&(!isNaN(e.time)||e.postroll)||e.preroll||isNaN(t.time)&&!t.postroll?1:t.time<0&&0<=e.time||e.time<0&&0<=t.time?e.time-t.time:t.time>e.time?0:-1})}}},C.prototype.mergeAdConfigs=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var o,a,s=n.slots,r=0;s&&r<s.length;r++)s[r]&&s[r].adConfig&&(o=s[r].adConfig,a=com.aniview.utils.ObjectUtils.mergeObject(e,o),s[r].adConfig=a)}return t},C.prototype.getOrder=function(){return this.config.content.order},C.prototype.setOrder=C.prototype.getSlotTimeout=function(){var t=this.config.content;if("object"==typeof t.slot){if(!isNaN(t.slot.preloadAdTime))return+t.slot.preloadAdTime;if(!isNaN(t.slot.timeout))return+t.slot.timeout}return+t.slotTimeout},C.prototype.setSlotTimeout=function(t){var e=this.config.content;"object"!=typeof e.slot&&(e.slot={}),e.slot.preloadAdTime=+t,e.slot.timeout=+t,e.slotTimeout=+t},C.prototype.getContentList=C.prototype.setContentList=function(t){if(!t)throw"Parameter 'value' must not be undefined";this.config.content.contents=t},C.prototype.getContentCount=C.prototype.containsContent=C.prototype.getContentAt=function(t){return 0<=t&&t<this.getContentCount()?this.getContentList()[t]:null},C.prototype.getCurrentContentChapters=function(){var t=this.getContent();if(Array.isArray(t.markers)&&0<t.markers.length&&t.markers.every(function(t){return!isNaN(+t.startTime)&&!isNaN(+t.endTime)}))return t.markers;return[{startTime:0,endTime:this.getContentDuration()}]},C.prototype.getChapterByContentTime=function(e){return this.getCurrentContentChapters().find(function(t){return t.startTime<=e&&t.endTime>e})},C.prototype.getChapterIndexByContentTime=function(e){return this.getCurrentContentChapters().findIndex(},C.prototype.getContentById=function(t){for(var e=0;e<this.getContentCount();e++){var i=this.getContentAt(e);if(i.id==t)return i}return null},C.prototype.getContentIndex=C.prototype.setContentRandom=function(){if(this.getContentCount()){for(var t,e=[],i=0;i<this.getContentCount();i++){var n=this.getContentAt(i);-1==this.playedContent.indexOf(n)&&n!=this.getContent()&&e.push(n)}0==e.length&&(e=this.getContentList()),0<e.length&&(t=Math.round(Math.random()*(e.length-1)),this.setContent(e[t]))}},C.prototype.addContent=C.prototype.addContentAt=function(t,e){-1==this.getContentIndex(t)&&(0<=e&&e<this.getContentCount()?this.getContentList().splice(e,0,t):this.getContentList().push(t))},C.prototype.removeContent=C.prototype.removeContentAt=function(t){0<=t&&t<this.getContentCount()&&(this.getContentList().splice(t,1),this.updateContent())},C.prototype.getError=function(){return this.error},C.prototype.getContentClickthrough=function(){var t=this.getContent();if(t&&(t.clickthrough||t.clickThrough||t.clickThroughUrl))return t.clickthrough||t.clickThrough||t.clickThroughUrl;if(t.markers&&0<t.markers.length){var e=this.getContentCurrentTime();if(.2<e){var i=this.getChapterByContentTime(e);if(i)return i.url}}return""},C.prototype.getContent=function(){return this.content},C.prototype.setContent=function(t,e){this.plugins.AVCms&&this.plugins.AVCms.setCmsMetadata(t),this.clearNextContentTimeout(),this.content==t&&!e||(this.content=t,this.startPreroll=!1,this.firstGesture=!1,this.contentFallbacks=[],this.content.fallbacks&&0<this.content.fallbacks.length&&(this.contentFallbacks=this.content.fallbacks.slice(),this.contentFallbacks.sort(function(t,e){try{return t.priority>=e.priority?1:-1}catch(t){return 1}})),this.content.fallbackUrl&&this.contentFallbacks.push({url:this.content.fallbackUrl}),0==this.contentFallbacks.length&&this.contentFallbacks.push({url:this.content.url}),this.updateContent())},C.prototype.updateContent=function(){if(0!=this.active)if("ready"==this.state){if(this.userPause=!1,null!=this.content&&this.containsContent(this.content)){var t=this.firstRun?null:this.firstRun=this.config.content.firstPrerollSlot;this.pausedOnShowAd=!1,this.gui.container.appendChild(this.nonLinearContainer);var e=this.getContentIndex(this.getContent()),i=e===this.getContentCount()-1?0:e+1;this.hasBreakingAds(i);this.ads.init(this.content.slots,!1,this.content.impCap,t);this.getNextContent();this.initAdsEvents();var n,o=this.getContent();"audio"==o.type&&this.gui.setPoster(o),!this.oneVideoElem||(n=this.ads.getPrerollSlot(o.slots))&&(this.ads.prerollSlot=n),this.currentChapterIndex=null,this.dispatcher.event(com.aniview.player.events.Events.ContentChapterChanged,null),"carousel"===this.getContent().type?this.changeGUI(Object.assign(com.aniview.utils.ObjectUtils.clone(this.config),com.aniview.utils.ObjectUtils.clone(this.carouselConfig))):this.changeGUI(Object.assign(com.aniview.utils.ObjectUtils.clone(this.config),com.aniview.utils.ObjectUtils.clone(this.initialConfig)));var a={src:o.url,mimetype:o.mimetype,contentAutoLoad:this.isContentAutoLoad,autoPlay:this.config.autoPlay,noInlineVideo:this.config.noInlineVideo};this.isContentAutoLoad||"content"==this.playerOwner?(this.tag.init(a),this.dispatcher.event(com.aniview.player.events.Events.ContentSourceChanged,{src:a.src})):this.playerOwner,this.updateSize(),this.isContentAutoLoad||this.handleContentAutoLoad(),this.handleAutoPlay();var s=this.config.startVolume;if(void 0!==this.config.newVolume&&(s=this.config.newVolume),!isNaN(s)&&s?(this.unmute(!0),this.setVolume(s,!0)):this.mute(!0),this.contentMute&&this.mute(!0),-1==this.playedContent.indexOf(this.content))for(this.playedContent.push(this.content);this.playedContent.length>=this.getContentCount();)this.playedContent.shift()}else this.nextContent();this.currentIndex=this.getContentIndex(this.getContent())}else this.startWhenReady=!0},C.prototype.handleContentAutoLoad=function(){var t=this;t.playOverPosterTimeOut||t.gui.showUi(!1,!0,!0),t.started||(this.isStartMode("WaitForAd")&&0<t.config.startMode.playButtonDelay&&(t.gui.hideUi(!1,!0,!0),t.playOverPosterTimeOut=setTimeout(function(){t.gui.changeSpinnerState(!1),t.gui.showUi(!1,!0,!0),t.showBigPlayOnPoster=!0},1e3*t.config.startMode.playButtonDelay)),t.gui.changeSpinnerState(!0),t.pauseContent(),t.gui.pausePlayButtonsChange("play"))},C.prototype.handleAutoPlay=function(){var t;this.config.autoPlay||this.started?(t=this.isStartMode("WaitForAd")&&this.config.playOnView,this.config.playOnView&&!this.started&&!t||(x.com.aniview.player.Utils.log("Auto played on init",x.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.play(!1,{waitForAdView:!0,inView:!1}))):this.tag.initiated&&this.tag.video.element.removeAttribute("autoplay")},C.prototype.setAdsContainer=function(t){t.container.style.position="absolute",t.container.style.zIndex=-1,this.container.appendChild(t.container)},C.prototype.log=function(t,e){com.aniview.player.Utils.log("AniviewContentPlayer::"+this.container.id+" - "+t,e)},C.prototype.setContentByIndex=function(t,e){0<=t&&t<this.getContentCount()&&(this.setContent(this.getContentAt(t),e),this.gui.setTitle())},C.prototype.nextContent=function(){var t,e,i;this.config&&!this.config.autoplayDetection?this.getContentCount()&&(i=!1,e=this.getContentIndex(this.getContent()),e++,this.firstcall||(e=0,i=this.firstcall=!0),e>=this.getContentCount()&&(i=!(e=0),this.config.content.order&&(t=this.config.content.randomFrom?this.config.content.randomFrom:0,x.com.aniview.player.Utils.shuffleArray(this.config.content.contents,t))),this.setContentByIndex(e,i)):this.callNextContent=!0},C.prototype.backFromAd=function(){0!=this.active&&(this.content.currentTime=0<=this.content.currentTime&&void 0!==this.content.currentTime?this.content.currentTime:0,this.gui.container.style.zIndex=2,this.oneVideoElement?(this.ads.container.style.zIndex=2,this.tag.container.appendChild(this.tag.video.element)):(this.ads.container.style.zIndex=-1,this.tag.show()))},C.prototype.adClosed=function(t){var e,i,n,o;0!=this.active&&(this.log("Close Ad"),!this.isContentAutoLoad&&t&&t.data&&t.data.errorLimit&&(i=(e=this.getViewability())&&e.inView||this.isFloatingState,this.isStartMode("WaitForAd")&&(this.config.startMode.playOnView=!0,i&&(this.isContentAutoLoad=!0))),this.tag.initiated&&!this.oneVideoElement||(o={src:(n=this.getContent()).url,mimetype:n.mimetype,autoPlay:this.config.autoPlay,noInlineVideo:this.config.noInlineVideo},this.isContentAutoLoad?this.tag.init(o):this.handleContentAutoLoad(),this.isStartMode("WaitForAd")&&!this.firstSessionPlayed||this.gui.changeSpinnerState(!1)),this.started&&(this.startPreroll=!1),this.pausedOnShowAd||this.startPreroll||this.postroll?(this.backFromAd(),this.gui.statePlaying(),this.setPlayerOwner("content"),this.pause()):this.isContentAutoLoad&&this.playContent())},C.prototype.prevContent=function(){var t;this.getContentCount()&&(t=this.getContentIndex(this.getContent()),--t<0&&(t=this.getContentCount()-1),this.setContentByIndex(t))},C.prototype.startFirstContent=function(){0===this.getContentIndex(this.getContent())?this.tag.video.setCurrentTime(0):this.setContentByIndex(0,!0)},C.prototype.getWidth=function(){return this.config.width},C.prototype.getHeight=C.prototype.setSize=function(t,e,i,n){var o=this.config.width!==t||this.config.height!==e;this.config.width=t,this.config.height=e,i&&this.updatePlayerSize(t,e,this.config),this.updateSize(n),o&&this.dispatcher.event(x.com.aniview.player.video.VideoTag.Events.ContentSizeChange)},C.prototype.getSize=function(){var t,e;!this.playerSize||(t=this.getPlayerSize())&&(e=this.config.width!==t.w||this.config.height!==t.w,this.config.width=t.w,this.config.height=t.h,this.updateSize(),e&&this.dispatcher.event(x.com.aniview.player.video.VideoTag.Events.ContentSizeChange))},C.prototype.isPlayerFloating=function(){return this.isFloatingState},C.prototype.updatePlayerSize=function(t,e,i){this.playerSize=this.playerSize||{};var n,o,a,s,r=this.playerSize.fw||0,l=this.playerSize.fh||0,p=com.aniview.player.Utils,d=p.isFloating(i)?i.floating:p.isSticky(i)?i.sticky:null;d&&(n=this.config.heightRatio?this.config.heightRatio:1.777,a=0<d.screenWidthRatio?(o=x.innerWidth*d.screenWidthRatio)/n:(o=t*d.size,e*d.size),r=r||(d.width?d.width:o),l=l||(d.height?d.height:a),d.minHeight&&d.minHeight>l&&(r=(l=d.minHeight)*n),0<d.maxScreenHeightRatio&&((s=x.innerHeight*d.maxScreenHeightRatio)<l&&(l=s,1!=d.screenWidthRatio&&(r=l*n)))),this.playerSize={w:t,h:e,fw:r,fh:l}},C.prototype.getPlayerSize=function(t){return{w:t?this.playerSize.fw:this.playerSize.w,h:t?this.playerSize.fh:this.playerSize.h}},C.prototype.getResponsiveSize=function(){var t=this.pos.parentNode.clientWidth,e=this.config.heightRatio?this.config.heightRatio:1.777,i=Math.ceil(t/e),n=this.config.maxWidth||1e6,o=this.config.minHeight||0,a=screen.height;90!==x.orientation&&-90!==x.orientation||(a=screen.width);var s=(navigator&&navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")?0:document.documentElement.clientHeight)||document.body.clientHeight||screen.height;return a&&a<s&&(s=a),s<i&&(t=(i=s)*e),i<o&&(t=(i=o)*e),n<t&&(i=(t=n)/e),{w:t,h:i}},C.prototype.updateSize=function(t){var e=this.config.height,i=this.config.width,n=com.aniview.player.Utils,o=n.fullscreenEnabled();n.fixedFullScreenElement||(this.container.style.position="relative"),void 0!==this.config.width&&null!=this.config.width||(this.config.width=640),void 0!==this.config.height&&null!=this.config.height||(this.config.height=360);var a,s=this.config.width,r=this.config.height;if(!n.fixedFullScreenElement){if("100%"==this.config.width&&(this.config.width=s=this.pos.parentNode.clientWidth),"100%"==this.config.height&&(this.config.height=r=this.pos.parentNode.clientHeight),this.responsiveLayout&&!t&&!this.isPlayerFloating()||n.isResponsiveLayout(this.config.width,this.config.height)){o&&this.wrapper&&(this.wrapper.style.maxWidth=this.gui.config.width+"px");var l=this.getResponsiveSize();if(this.config.width=s=l.w,this.config.height=r=l.h,this.responsiveLayout=!0,!o&&this.wrapper&&(this.wrapper.style.maxWidth=""),!n.isSticky(this.config)&&!this.resizeObserver&&"function"==typeof ResizeObserver){var p=this,d=!1;try{this.resizeObserver=new ResizeObserver(function(){var t;d||(d=!0,t=p.getResponsiveSize(),p.config.width===t.w&&p.config.height===t.w||(p.isPlayerFloating()?p.updatePlayerSize(t.w,t.h,null):p.setSize(t.w,t.h,!0)),d=!1)}),this.resizeObserver.observe(this.pos.parentNode)}catch(t){}}}n.fullscreenEnabled()&&(r=x.orientation&&90!==x.orientation&&-90!==x.orientation?(s=screen.height,screen.width):(s=screen.width,screen.height))}n.fixedFullScreenElement&&(s=(a=n.getDeviceDimensionsBasedOnOrientation()).width,r=a.height),this.container.style.width=s+"px",this.container.style.height=r+"px",this.caption&&(this.showCaption(!o),this.caption.style.width=s+"px"),this.sizeSet||(this.sizeSet=!0,this.updatePlayerSize(s,r,this.config)),!n.isFloating(this.config)&&!n.isSticky(this.config)||this.isHidden||this.gui.fixFloatingStyle(this.config,t),this.config.centerPlayer&&(this.container.style.margin="auto"),this.tag&&this.tag.setSize(s,r),this.gui&&this.gui.setSize(s,r),this.ads&&this.ads.setSize(s,r,o?"fullscreen":"normal"),i===s&&e===r||this.dispatcher.event(x.com.aniview.player.video.VideoTag.Events.ContentSizeChange)},C.prototype.showCaption=C.prototype.getContentDuration=function(){var t=NaN;return this.tag&&this.tag.video&&(t=this.tag.video.getDuration()),(isNaN(t)||t<=0)&&this.config&&this.config.content&&!isNaN(this.config.content.duration)&&(t=this.config.content.duration),t},C.prototype.getContentUrl=function(){return this.tag&&this.tag.video?this.tag.video.getUrl():0},C.prototype.getContentRemainingTime=function(){return this.tag&&this.tag.video?this.tag.video.getRemainingTime():0},C.prototype.getContentCurrentTime=function(){return this.tag&&this.tag.video?this.tag.video.getCurrentTime():0},C.prototype.setContentCurrentTimeAddXSec=function(){this.active&&this.config.moveXSec&&"content"===this.playerOwner&&(this.tag.video.setCurrentTimeAddXSec(this.config.xSec),this.firstGesture=!0)},C.prototype.setContentCurrentTimeReduceXSec=function(){this.active&&this.config.moveXSec&&"content"===this.playerOwner&&(this.tag.video.setCurrentTimeReduceXSec(this.config.xSec),this.firstGesture=!0)},C.prototype.setMoveXSec=C.prototype.setContentCurrentTime=function(t){if(!this.tag)return 0;var e=this.getContentIndex(this.getContent());e<0&&(e=0),this.hasBreakingAds(e)&&this.ads.fixBreakingAdsOffset(t,this.getContentCurrentTime()),this.tag.video&&this.tag.video.setCurrentTime(t)},C.prototype.getContentBufferTime=C.prototype.getPaused=function(){return"none"==this.playerOwner||!(!this.tag||!this.tag.video)&&this.tag.video.getPaused()},C.prototype.getPauseRequested=function(){return"none"==this.playerOwner||(!this.tag||!this.tag.video||this.tag.video.getPauseRequested())},C.prototype.getEnded=function(){return"none"!=this.playerOwner&&(!(!this.tag||!this.tag.video)&&this.tag.video.getEnded())},C.prototype.play=function(t,e){var i,n,o;0!=this.active&&this.tag&&(this.started=!0,this.clearNextContentTimeout(),i=this.tag.video.getIsStarted()&&this.getContentCurrentTime()?this.getContentCurrentTime():void 0,i=this.startPreroll?0:i,n=this.getContentDuration(),e=e||{},!this.waitForAdsReset&&this.isStartMode("WaitForAd")&&(t||this.config.startMode.playOnView&&e.inView)&&(e.waitForAdsReset=this.waitForAdsReset=!0,this.firstSessionPlayed=!0),this.adsAllowed&&(o=this.ads.run(i,n,!this.startPreroll,t,void 0,e)),!1===this.isContentAutoLoad&&(t||this.isStartMode("WaitForAd")&&this.config.startMode.playOnView&&e.inView)&&(this.gui.hideUi(),this.gui.hidePoster(),this.isContentAutoLoad=!0,this.updateContent()),"preroll"===o?(this.preroll=!0,"ads"!=!this.playerOwner&&(this.isStartMode("WaitForAd")&&!this.firstSessionPlayed||this.gui.stateLoading(),this.setPlayerOwner("ads"),"playing"===this.ads.state&&(this.preroll=!1,this.ads.play()))):"playing"===this.ads.state?(this.preroll=!1,this.ads.play()):this.isStartMode("WaitForAd")&&!this.firstSessionPlayed||(this.playContent(),this.userPause=!1,this.ads.setUserPausedContent(!1)))},C.prototype.pause=function(t){this.tag&&(x.com.aniview.player.Utils.log("Pause request",x.com.aniview.player.Utils.LOG_LEVEL.DEBUG),this.firstGesture=!0,"playing"===this.ads.state?this.ads.pause():this.tag.video&&(t&&(this.pausedOnShowAd=!0,this.userPause=!0,this.ads.setUserPausedContent(!0)),this.tag.video.pause(),this.ads.pauseSlotTimeout(),this.gui.showInnerGUI(!1,t)))},C.prototype.playContent=function(){var t,e;0!=this.active&&this.tag&&this.tag.video&&(this.firstSessionPlayed=!0,!(t=com.aniview.player.Utils).isMobile()||"ios"!==t.getOS()||(e=t.getOSVersion())&&"9"===e.major&&this.tag.video.setAutoPlay(),this.tag.video.getPaused()&&this.gui.stateLoading(),this.saveContentConfig(),this.backFromAd(),this.isStartMode("WaitForAd"),this.started=!0,this.log("play!!"),this.setPlayerOwner("content"),this.tag.video.play(),this.ads.continueSlotTimeout())},C.prototype.isStartMode=function(t){return this.config.startMode&&this.config.startMode.mode===t},C.prototype.pauseContent=function(){this.tag&&this.tag.video&&this.tag.video.pause()},C.prototype.getMuted=function(){return!(!this.tag||!this.tag.video)&&this.tag.video.getMuted()},C.prototype.getLastVolume=function(){if(!this.tag)return 0;var e=0;try{e=this.getMuted()?0:this.tag.video.getVolume()}catch(t){e=void 0!==this.config.newVolume?this.config.newVolume:this.config.startVolume}return e},C.prototype.getVolume=function(t){return!t&&this.ads&&"playing"===this.ads.state?this.ads.slotX.player.getAdVolume():this.tag&&this.tag.video?this.tag.video.getVolume():0},C.prototype.setVolume=function(e,t){if(this.tag)if(this.ads&&"playing"===this.ads.state&&!t)try{this.ads.slotX.player.setAdVolume(e)}catch(t){this.config.newVolume=e,this.tag.video&&this.tag.video.setVolume(e)}else this.config.newVolume=e,this.tag.video&&this.tag.video.setVolume(e)},C.prototype.mute=function(t){!t&&this.ads&&"playing"===this.ads.state?this.ads.mute():this.tag&&this.tag.video&&(this.config.newVolume=0,this.contentMute=!0,this.tag.video.mute())},C.prototype.unmute=function(t){this.ads&&"playing"===this.ads.state&&!t?this.ads.unmute():this.tag&&this.tag.video&&(this.tag.video.getVolume()||this.tag.video.setVolume(1),this.contentMute=!1,this.tag.video.unmute(),this.config.newVolume=this.tag.video.getVolume()),!x.event||"click"!==x.event.type&&"touch"!==x.event.type&&"touchstart"!==x.event.type||(this.firstGesture=!0)},C.prototype.on=C.prototype.once=C.prototype.playNextPlaylistContent=function(t){var e,i,n;this.tag&&(i=(e=t.getContentIndex(t.getContent()))!==t.getContentCount()-1&&t.config.autoContinue,n=e==t.getContentCount()-1&&t.config.autoLoop,(i||n)&&(x.com.aniview.player.Utils.log("Auto playing next video on playlist",x.com.aniview.player.Utils.LOG_LEVEL.INFO),t.gui.hideElementByClass(".avp-p-cn-breplay"),t.nextContent()))},C.prototype.prepareIosVideoElements=function(e,i){var t,n,o=this;function a(t){t?o.config.noInlineVideo||(e&&(e.setAttribute("playsinline",!0),e.setAttribute("webkit-playsinline",!0)),i&&(i.setAttribute("playsinline",t),i.setAttribute("webkit-playsinline",!0))):(e&&(e.removeAttribute("playsinline"),e.removeAttribute("webkit-playsinline")),i&&(i.removeAttribute("playsinline"),i.removeAttribute("webkit-playsinline")))}"ios"==com.aniview.player.Utils.getOS()&&(t=com.aniview.player.Utils.getOSVersion(),n=!0,t&&t.major<=9&&(n=!1),e.addEventListener("webkitbeginfullscreen",function(){l.playContent()}),e.addEventListener("webkitendfullscreen",function(){"content"==l.playerOwner&&(a(!0),n&&l.playContent())}),i.addEventListener("webkitbeginfullscreen",function(){i.play()}),i.addEventListener("webkitendfullscreen",function(){"none"!=l.ads.getPlayState()?(a(!0),n&&i.play()):n&&l.playContent()}))},C.prototype.openFullscreen=function(t){var e,i,n,o=com.aniview.player.Utils,a=this.config.mobile.fullScreenMode?this.config.mobile.fullScreenMode:"full",s=o.getOSVersion(),r=o.getOS();o.isMobile()&&("fixed"==a||"ios"==r&&s&&s.major<=9)?o.requestFullScreenFixed(this.container):"ios"==r?(e=l.tag.video.element,i=l.tag.video.adsElement,n=t?i.paused:l.getPaused(),e.removeAttribute("playsinline"),e.removeAttribute("webkit-playsinline"),i.removeAttribute("playsinline"),i.removeAttribute("webkit-playsinline"),t?(i.pause(),i.play()):(e.pause(),e.play()),n&&l.pause()):o.requestFullscreen(this.container)},C.prototype.adsFullScreenRequest=C.prototype.closeFullscreen=function(){var t=com.aniview.player.Utils,e=t.getOSVersion();t.isMobile()&&"ios"==t.getOS()&&e&&9<e.major&&l.tag.video.element.setAttribute("playsinline",!0),t.cancelFullscreen()},C.prototype.initEvents=function(a,s,t,e){function i(t){switch(t.type){case x.com.aniview.player.video.VideoTag.Events.ContentError:case x.com.aniview.player.video.VideoTag.Events.ContentVideoComplete:w=d.playStateEnum.none,t.data.remaining=d.getContentCount()-(d.getContentIndex(d.getContent())+1);break;case x.com.aniview.player.video.VideoTag.Events.contentPaused:w=d.playStateEnum.paused;break;case x.com.aniview.player.video.VideoTag.Events.ContentPlaying:w=d.playStateEnum.playing}d.dispatcher.dispatchEvent(t)}var n,d=this;for(n in x.com.aniview.player.video.VideoTag.Events)s.addEventListener(x.com.aniview.player.video.VideoTag.Events[n],i);for(n in x.com.aniview.player.PlayerGUI.Events)t.addEventListener(x.com.aniview.player.PlayerGUI.Events[n],i);if(a.container){var c=d.config.viewPercentageRequired,u=com.aniview.player.Utils,h=!1,g=!1,c=c||.5;if(u.isFloating(d.config)?u.setFloatingCSS(d.config):u.isSticky(d.config)&&u.setStickyCSS(d.wrapper,d.config),u.isFloating(d.config)&&0<d.config.floating.spaRefloat){var o=d.config.floating.spaRefloat;try{var r,l,p=top.history.pushState;"function"==typeof p&&(r=!1,l=Object.assign({},d.config.floating),top.history.pushState=function(){var t;p.apply(top.history,arguments),r&&0<o&&(o--,r=!1,t=Object.assign({},l),d.startFloating(t))},t.addEventListener(x.com.aniview.player.PlayerGUI.Events.CloseFloatingClicked,)}catch(t){}}var v,m=-100,f=u.getFullScreenChangeEvent(),y=!(d.config.floating&&d.config.floating.floatOnView);(d.config.sticky||d.config.floating||d.config.playOnView||d.config.pauseOnUnseen||d.config.playerVi)&&x.com.aniview.player.Utils.startViewability(a.pos,function(t,e,i,n,o,a){var s,r,l,p;d.active&&(s=a&&a.type===f,r=m!==e||v!==o,m=e,v=o,r&&d.dispatcher.event(x.com.aniview.player.video.VideoTag.Events.ContentViewabilityChanged,{data:{inView:t,ratio:e,state:i,floating:d.isPlayerFloating()}}),d.config.floatingCSS&&d.config.floating&&((l=t)&&!isNaN(n)&&n/(s?d.getPlayerSize().h:d.getHeight())<c&&(l=!1),"OUT_BOTTOM"===i&&(g=!1),p=90===Math.abs(x.orientation)||screen&&screen.orientation&&screen.orientation.type&&screen.orientation.type.includes("landscape"),l||d.config.floating.noFloatOnLandscape&&p&&u.isMobile()?(y=!0,d.config.floating.onBottomOnView&&(d.config.floating.floatOnBottom=!0),d.config.startMode&&d.config.startMode.noFloat&&d.isHidden||(x.com.aniview.player.Utils.setFloating(d.wrapper,!1,d.config,i,g,function(){d.getSize()}),d.config.floating.closeButton&&!d.config.closeButton&&(d.container.querySelector(".avp-p-cn-close").style.display="none"),h=!1,d.isFloatingState=!1)):("T_TRUNC"!==i&&"OUT_TOP"!==i||(g=!0),!y||h&&!s||(d.config.floating.floatOnBottom||"T_TRUNC"!==i&&"OUT_TOP"!==i)&&!d.config.floating.floatOnBottom||d.config.startMode&&d.config.startMode.noFloat&&d.isHidden||(x.com.aniview.player.Utils.setFloating(d.wrapper,!0,d.config,i,g,function(t,e,i){var n=d.getPlayerSize(!0);d.setSize(n.w,n.h,!1,!0)}),(d.config.floating.closeButton||d.config.closeButton)&&(d.container.querySelector(".avp-p-cn-close").style.display=""),h=!0,d.isFloatingState=!0))),(t||h)&&d.config.playOnView&&d.config.autoPlay&&(d.started&&d.isContentAutoLoad?d.userPause||d.gui.hideUi():(x.com.aniview.player.Utils.log("Auto played on viewability change",x.com.aniview.player.Utils.LOG_LEVEL.DEBUG),d.play(!1,{inView:!0}))),d.config.pauseOnUnseen&&(!(t||h&&"OUT_TAB"!==i&&(g||d.config.floating&&d.config.floating.floatOnBottom))||d.userPause&&"ad"!=d.playerOwner?d.pause():d.play(!1,{inView:!0})),r&&d.dispatcher.event(x.com.aniview.player.events.Events.ContentViewabilityChanged,{inView:t,ratio:e,state:i,floating:d.isPlayerFloating(),playerInView:!!o&&(t||d.isPlayerFloating()),playerViewRatio:o?d.isPlayerFloating()?1:e:0}))},c,d.config.vitab)}s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentReady,function(t){}),s.addEventListener(x.com.aniview.player.video.VideoTag.Events.LoadedMetadata,function(t){var e,i;"none"==d.playerOwner&&(d.gui.statePlaying(),e=!0,this.oneVideoElem&&(i=this.getContent(),this.ads.getPrerollSlot(i.slots)&&(e=!1)),d.gui.showUi(!1,e,!0),d.gui.showPoster()),d.gui.removeTextTrackOptions(),0!=d.config.showClosedCaptions&&(s.video.addTextTracks(d.content.captions),d.gui.addTextTrackOptions());var n=d.getNextContent();d.ads.initNextPreroll(n&&n.slots,d.getContentDuration())}),this.on("ContentPaused",function(){d.config.showTitle&&d.gui.showElementByClass(".avp-p-ti")}),this.on("ContentPlaying",,s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentTimeChange,function(t){var e,i;a.gui.hideElementByClass(".avp-p-cn-breplay"),isNaN(t.data)||t.data<.5||(a.adsAllowed&&a.ads.run(t.data,a.getContentDuration()),(e=d.getChapterIndexByContentTime(t.data))!==d.currentChapterIndex&&(d.currentChapterIndex=e,i=d.getChapterByContentTime(t.data),d.dispatcher.event(com.aniview.player.events.Events.ContentChapterChanged,i)))});function b(t){if(0!=d.active){var e={};if(e.cd1=navigator.userAgent,t.data&&t.data.errorInfo&&(e.cd1+=" --- "+t.data.errorInfo+"---"),t.data&&t.data.message)try{e.cd1||(e.cd1=""),e.cd1+=t.data.message}catch(t){e.cd1="no video element error"}var i=C.pixelEnums.playingError;t.data.pixelEvent&&(i=t.data.pixelEvent),a.sendPixel(i,e),x.com.aniview.player.Utils.log("Error playing video promise",x.com.aniview.player.Utils.LOG_LEVEL.ERR),d.error=!0;var n,o=a.getNextFallbackVideo();t&&t.data&&"NotAllowedError"===t.data.error&&d.setVolume(0),o?(n={src:o,fallback:!0,noInlineVideo:a.config.noInlineVideo},s.init(n),a.handleAutoPlay()):(d.errorCount=d.errorCount?d.errorCount+1:1,d.errorCount<4&&a.playNextPlaylistContent(a))}}s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentHLSError,function(t){0!=d.active&&b(t)}),s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentHLSRecoverTry,,s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentError,,s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentVideoStart,function(t){0!=d.active?(!d.adsAllowed&&d.config.content.adsDelay&&setTimeout(function(){d.adsAllowed||(d.adsAllowed=!0,s.video.getPaused()&&d.ads.run(1,d.getContentDuration()))},1e3*d.config.content.adsDelay),d.nonLinearContainer&&(d.nonLinearContainer.style.display=""),d.ads&&"playing"===d.ads.state&&d.pauseContent(),d.errorCount=0,a.sendPixel(C.pixelEnums.contentImpression),d.gui.updateTimeline()):d.pauseContent()}),s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentPlaying,function(t){w=d.playStateEnum.playing,d.gui.statePlaying(),d.gui.hidePoster()}),s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentVideoComplete,function(t){if(0!=d.active&&(w=d.playStateEnum.none,!d.oneVideoElem||"ad"!=d.playerOwner)){if(d.nonLinearContainer&&(d.nonLinearContainer.style.display="none"),a.sendPixel(C.pixelEnums.contentCompleted),d.adsAllowed&&d.ads&&d.ads.slotX&&d.ads.slotX.postroll)return d.postroll=!0,d.ads.start(d.ads.slotX),void d.gui.stateLoading();(d.config.autoContinue||d.config.autoLoop)&&d.playNextPlaylistContent(a)}}),s.addEventListener(x.com.aniview.player.video.VideoTag.Events.ContentVideoEnded,function(t){a.config.showReplay&&(a.gui.showElementByClass(".avp-p-cn-breplay"),a.gui.pausePlayButtonsChange("play"))})},C.prototype.setPlayerOwner=C.prototype.saveContentConfig=C.prototype.showAd=function(){if(0!=this.active){this.oneVideoElement&&this.saveContentConfig(),this.playOverPosterTimeOut&&(clearTimeout(this.playOverPosterTimeOut),this.playOverPosterTimeOut=0),this.setPlayerOwner("ad"),this.gui.statePlayingAd();try{this.pausedOnShowAd=this.userPause}catch(t){this.pausedOnShowAd=!1}this.log("Show Ad");var t=this;x.com.aniview.player.Utils;setTimeout(function(){t.updateSize()}),this.oneVideoElement||(this.pauseContent(),this.tag.hide()),this.ads.container.style.zIndex=2,this.ads.container.style.visibility="visible",this.gui.container.style.zIndex=-1}},C.prototype.initAdsEvents=function(){var e=this;this.ads.removeAllEventListeners();function t(t){t.type===com.aniview.player.events.Events.AdImpression&&t.data&&(t.data.content=e.content),e.dispatcher.dispatchEvent(t)}for(var i in this.ads.addEventListener(com.aniview.player.AdsController.aEvents.AdVideoStart,function(t){e.sendPixel(C.pixelEnums.adsImpression),e.isContentAutoLoad=!0;x.com.aniview.player.Utils;setTimeout(function(){e.updateSize()}),e.showAd()}),this.ads.addEventListener(com.aniview.player.AdsController.aEvents.AdClosed,function(t){0!=e.active&&(e.ads.container&&t.data&&e.ads.container.id===t.data.adsId&&e.adClosed(t),e.postroll&&(e.postroll=!1,(e.config.autoContinue||e.config.autoLoop)&&e.playNextPlaylistContent(e.ads.content)))}),x.com.aniview.player.AdsController.aEvents)this.ads.addEventListener(x.com.aniview.player.AdsController.aEvents[i],t)},C.prototype.clearNextContentTimeout=function(){-1!=this.nextContentTimeout&&(clearTimeout(this.nextContentTimeout),this.nextContentTimeout=-1)},C.prototype.changeGUI=function(t,e){if(e&&this.ads&&"playing"===this.ads.state&&this.ads.updateGui(e),t&&this.config){var i,n=!1;for(i in t)this.config[i]=t[i],n=!0;if(n)try{this.gui.update()}catch(t){}}},C.prototype.changeAdConfig=C.prototype.getSessionId=function(){return this.guid},C.prototype.getPlayState=function(){var t=w;return t==this.playStateEnum.playing&&this.tag&&this.tag.video&&this.tag.video.getPaused()&&(t=this.playStateEnum.paused),{content:t,ads:this.ads?this.ads.getPlayState():this.playStateEnum.none}},C.prototype.getAdDuration=function(){if(this.ads)return this.ads.getAdDuration()},C.prototype.getAdRemainingTime=function(){if(this.ads)return this.ads.getAdRemainingTime()},C.prototype.skipAd=C.prototype.setWaterfallState=C.prototype.getNextContent=function(){if(this.tag){var t=this.getContentIndex(this.content),e=0;return t!==this.getContentCount()-1&&(e=t+1),this.getContentAt(e)}},C.prototype.isPlayingNextContent=function(){var t=this.getContentIndex(this.getContent());return this.currentIndex+1===t||this.currentIndex===this.getContentCount()-1&&0===t},C.prototype.hasBreakingAds=function(t){return this.config.content.contents[t]&&void 0!==this.config.content.contents[t].breakingAds?this.config.content.contents[t].breakingAds:this.config.content.breakingAds},C.prototype.sendPixel=C.prototype.getFallbackVideo=function(){var t=null;return this.getContent()&&this.getContent().fallbackUrl?t=this.getContent().fallbackUrl:this.config.content.fallbackUrl&&(t=this.config.content.fallbackUrl),t},C.prototype.getNextFallbackVideo=function(){var t,e;return this.contentFallbacks&&0<this.contentFallbacks.length&&((e=this.contentFallbacks.splice(0,1))&&e[0]&&e[0].url&&(t=e[0].url)),t},C.prototype.close=function(){this.active=!1,this.setWaterfallState(!1,!1),this.skipAd(),this.pause()},C.prototype.hidePlaylist=function(){this.plugins&&this.plugins.Playlist&&this.plugins.Playlist.hidePlaylist()},C.prototype.showPlaylist=C.prototype.playApi=C.prototype.setTextTrackByIndex=function(t){this.tag.video.setTextTrackByIndex(t-1),this.gui.setTextTrackOptionByIndex(t)};eturn i.prototype.on=i.prototype.nextContent=function(){return l.nextContent()},i.prototype.prevContent=function(){return l.prevContent()},i.prototype.setContentByIndex=i.prototype.getWidth=function(){return l.getWidth()},i.prototype.getHeight=function(){return l.getHeight()},i.prototype.setSize=i.prototype.getContentDuration=function(){return l.getContentDuration()},i.prototype.getContentRemainingTime=function(){return l.getContentRemainingTime()},i.prototype.getContentCurrentTime=function(){return l.getContentCurrentTime()},i.prototype.play=i.prototype.pause=i.prototype.setContentCurrentTime=function(t){return l.setContentCurrentTime(t)},i.prototype.addXSec=function(){return l.setContentCurrentTimeAddXSec()},i.prototype.reduceXSec=function(){return l.setContentCurrentTimeReduceXSec()},i.prototype.setMoveXSec=function(t){return l.setMoveXSec(t)},i.prototype.mute=function(){return l.mute()},i.prototype.unmute=function(){return l.unmute()},i.prototype.getMuted=function(){return l.getMuted()},i.prototype.getVolume=function(){return l.getVolume()},i.prototype.setVolume=function(t){return l.setVolume(t)},i.prototype.getEvents=function(){return C.getEvents()},i.prototype.resize=function(){return l.updateSize()},i.prototype.changeGUI=i.prototype.changeAdConfig=function(t){l.changeAdConfig(t)},i.prototype.getPlayState=function(){return l.getPlayState()},i.prototype.getAdDuration=function(){return l.getAdDuration()},i.prototype.getAdRemainingTime=function(){return l.getAdRemainingTime()},i.prototype.getSessionId=function(){return l.getSessionId()},i.prototype.skipAd=function(){return l.skipAd()},i.prototype.addContentAt=i.prototype.removeContentAt=function(t){return l.removeContentAt(t)},i.prototype.pauseWaterfall=function(t){return l.setWaterfallState(!1,t)},i.prototype.resumeWaterfall=i.prototype.close=function(){return l.close()},i.prototype.hidePlaylist=function(){return l.hidePlaylist()},i.prototype.showPlaylist=function(){return l.showPlaylist()},i.prototype.closePlayer=function(){return l.closePlayer()},i.prototype.getViewability=i.prototype.updateCTInfo=i.prototype.stopFloat=function(){l.stopFloating()},i.prototype.startFloat=function(t){l.startFloating(t)},i.prototype.updateContentList=function(t){l.updateContentList(t)},i.prototype.setFloor=new i(t)}}(window),function(B){"use strict";var h;B.com||(B.com={}),B.com.aniview||(B.com.aniview={}),B.com.aniview.player||(B.com.aniview.player={});var V=":",O=B.com.aniview.player.PlayerGUI=function(t){this.content=t,h=com.aniview.player.Utils;var e=this.content.config;e.caption=!(!e.closeButtonStyle||!e.closeButtonStyle.outside),this.container=document.createElement("div"),this.container.setAttribute("data-id","gui_"+com.aniview.player.Utils.generateRandomString()),(this.container.controler=this).dispatcher=new com.aniview.player.EventListener,this.sharedGui=document.createElement("div"),this.sharedGui.setAttribute("data-id","sharedGui_"+com.aniview.player.Utils.generateRandomString()),this.sharedGui.classList.add("avp-shared-gui");var i=document.createElement("div");i.id="av-inlineToContent",this.sharedGui.appendChild(i),this.init(),this.update(!0),this.posterEnabled()&&this.appendPoster(),this.container.addEventListener?this.container.addEventListener(O.Events.ContentClickThrough,this.onClickEvent):this.container.attachEvent("on"+O.Events.ContentClickThrough,this.onClickEvent),com.aniview.player.Utils.isMobile()||this.container.addEventListener(O.Events.ContentDoubleClick,this.onDoubleClickEvent),com.aniview.player.Utils.isMobile()&&(this.container.addEventListener("touchstart",this.onTouch),this.container.addEventListener("touchend",this.onTouch));var n,o="onorientationchange"in B?"orientationchange":"resize",a=this;B.addEventListener(o,function(){void 0!==n&&clearTimeout(n),n=setTimeout(function(){a.content.updateSize(),n=void 0},50)},!1),this.initContentEvents()};O.Events={},O.Events.ContentClickThrough="click",O.Events.ContentDoubleClick="dblclick",O.Events.ContentClickThru="ContentClickThru",O.Events.ContentNextClicked="ContentNextClicked",O.Events.ContentPrevClicked="ContentPrevClicked",O.Events.ContentPlayClicked="ContentPlayClicked",O.Events.ContentPauseClicked="ContentPauseClicked",O.Events.CloseClicked="CloseClicked",O.Events.CloseFloatingClicked="CloseFloatingClicked",O.Events.ContentFullScreenRequest="ContentFullScreenRequest",O.getExternalEvents=function(){var t=[];return t.push(O.Events.ContentClickThru="ContentClickThru"),t.push(O.Events.ContentNextClicked="ContentNextClicked"),t.push(O.Events.ContentPrevClicked="ContentPrevClicked"),t.push(O.Events.ContentPlayClicked="ContentPlayClicked"),t.push(O.Events.ContentPauseClicked="ContentPauseClicked"),t},O.prototype.pausePlayButtonsChange=function(t){var e={"avp-state":t};this.setElementDataByClass(".avp-p-cn-pp",e),this.config.hideGuiOnMouseout?this.setElementDataByClass(".avp-p-cn-bp",e):this.hideElementByClass(".avp-p-cn-bp")},O.prototype.initContentEvents=function(){function t(t){d.config.showUiOnPause&&d.state.paused&&clearTimeout(d.hideGuiTimeout),d.pausePlayButtonsChange(t)}function e(t){d.content.getMuted()&&(t=0),d.setElementDataByClass(".avp-p-cn-s",{"avp-state":0===t?"off":t<.5?"medium":"on"});var e=d.getElementByClass(".avp-p-cn-vi");e&&(e.value=100*t)}var d=this,i=com.aniview.player.events.Events,n={};n[i.ContentPlaying]=function(){t("pause"),e(d.content.getVolume())},n[i.Contentplay")},n[i.ContentChapterChanged]=function(t){var e=t.data;d.removeElementByClass(".avp-p-sl-cp"),e&&e.title&&d.showSlideCaption(e.title)},n[i.ContentTimeChange]=function(t){function s(t,e,i){return 100*c((t-e)/(i-e),0,1)+"%"}var r=d.content.getContentDuration(),l=d.content.getContentBufferTime(),p=t.data;d.getElementsByClass(".avp-p-tl-ch").forEach(function(t,e){var i=+t.getAttribute("data-start"),n=+t.getAttribute("data-end"),o=t.querySelector(".avp-p-tl-pr");o&&(o.style.width=r?s(p,i,n):"0%");var a=t.querySelector(".avp-p-tl-bf");a&&(d.content.getContentDuration()?a.style.width=s(l,i,n):a.style.width="0%")});var e=d.getElementByClass(".avp-p-cn-d-r");e&&(e.textContent=u(p))},n[i.ContentDuration.data)},n[B.com.aniview.player.video.VideoTag.Events.LoadedMeation)},n[i.ContentVolume.data)};var o,a=h.getFullScreenChangeEvent();for(o in a&&document.addEventListener(a,function(t){d.setElementDataByClass(".avp-p-cn-fs",{"avp-state":h.fullscreenEnabled()?"on":"off"}),d.onFullscreenChange()}),n)d.content.dispatcher.addEventListener(o,n[o])},O.prototype.hideUi=function(t,e,i,n){i||this.hideElementByClass(".avp-p-gui-b"),t||(this.hideElementByClass(".avp-p-cn-bp"),this.hideElementByClass(".avp-hide-gui")),e||(this.hideElementByClass(".avp-p-cn-bprev"),this.hideElementByClass(".avp-p-cn-bnext"),this.hideElementByClass(".avp-p-cn-sec-bnext"),this.hideElementByClass(".avp-p-cn-sec-bprev")),t||e||i||(this.mobileGuiIsVisible=!1),n&&this.hideElementByClass(".avp-p-gui-t")},O.prototype.showUi=function(t,e,i,n){i||this.showElementByClass(".avp-p-gui-b"),t||(this.showElementByClass(".avp-p-cn-bp"),this.showElementByClass(".avp-show-gui")),e||(this.showElementByClass(".avp-p-cn-bprev"),this.showElementByClass(".avp-p-cn-bnext"),this.showElementByClass(".avp-p-cn-sec-bnext"),this.showElementByClass(".avp-p-cn-sec-bprev")),t||e||i||(this.mobileGuiIsVisible=!0),n&&this.showElementByClass(".avp-p-gui-t")},O.prototype.onTouch=function(t){var e=this.controler,i=e.content.config,n=com.aniview.player.Utils.parseInt(i.hideGuiTimeout,0,10);switch(t.type){case"touchstart":clearTimeout(e.hideGuiTimeout);break;case"touchend":e.hideGuiTimeout=setTimeout(function(){e.handleGUITimeout()},1e3*n)}},O.prototype.onClickEvent=function(t){if(!this.controler.state.loading){var e=this.controler,i=e.content.config;if(com.aniview.player.Utils.isMobile()){var n=com.aniview.player.Utils.parseInt(i.hideGuiTimeout,0,10);e.mobileGuiIsVisible?t.currentTarget==t.target&&(e.hideUi(),e.mobileGuiIsVisible=!1,e.contentCTRHandler()):(e.mobileGuiIsVisible=!0,clearTimeout(e.hideGuiTimeout),e.showInnerGUI(!1,!0),e.hideGuiTimeout=seteout()},1e3*n))}else if(t.currentTarget==t.target||t.target==this.controler.getElementByClass(".avp-p-gui-ch")){if(e.contentCTRHandler())return;this.controler.config.noDefaultClick||t.currentTarget.controler.onPlayClick(),this.controler.dispatcher.dispatchEvent(t)}}},O.prototype.handleGUITimeout=function(t){this.mobileGuiIsVisible=!1;var e=this.content.config,i=this.content.getPaused(),n=this.config.showBigPlayOnPause&&i||this.content.showBigPlayOnPoster,o=this.config.showBigPrevNextOnPause&&i,a=e.hideLogoOnMouseout&&!n;e.showUiOnPause&&i||(this.hideUi(n,o,i,a),s(this.container,"p-hover"),com.aniview.player.Utils.fullscreenEnabled())},O.prototype.contentCTRHandler=function(t){var e=!1;try{e=this.content.getContentClickthrough()}catch(t){}if(e){this.config.noPauseOnClickthrough||this.content.pause(!0);var i=B.open(e,"_blank");if(i)return i.focus(),this.event(O.Events.ContentClickThru,{clickThru:e}),i;com.aniview.player.Utils.log("Can't open new window")}return!1},O.prototype.onDoubleClickEvent=function(t){t.currentTarget==t.target&&(this.controler.onFullscreenClick(),this.controler.dispatcher.dispatchEvent(t))},O.prototype.addEventListener=function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)},O.prototype.container=null,O.prototype.content=null,O.prototype.dispatcher=null,O.prototype.config=null,O.prototype.style=null,O.prototype.mobileGuiIsVisible=!1,O.prototype.styles=null,O.prototype.state=null,O.prototype.hideGuiTimeout=-1,O.prototype.seekTime=-1,O.prototype.init=function(){var e=this;this.config={},this.state={},this.style=[],this.styles=[];document.addEventListener("keydown",function(t){39==t.keyCode?e.content.setContentCurrentTimeAddXSec():37==t.keyCode&&e.content.setContentCurrentTimeReduceXSec()});var t,i=this.content.config,n=i.customButtons||{},o={"avp-p-cn-pp":{play:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+");',pause:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNS41LDE5LjVoNHYtMTZoLTRWMTkuNXogTTEzLjUsMy41djE2aDR2LTE2SDEzLjV6Ii8+PC9zdmc+");',replay:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTEuNSwxNy4yYy0xLjUsMC0yLjktMC42LTQtMS43Yy0yLjItMi4yLTIuMi01LjgsMC04YzIuMi0yLjIsNS44LTIuMiw4LDBsLTEuOSwxLjlsNi4xLDEuMWwtMS4xLTYuMWwtMS43LDEuNyBjLTMtMy03LjgtMy0xMC44LDBjLTMsMy0zLDcuOCwwLDEwLjhjMS40LDEuNCwzLjQsMi4yLDUuNCwyLjJzNC0wLjgsNS40LTIuMmwtMS40LTEuNEMxNC40LDE2LjYsMTMsMTcuMiwxMS41LDE3LjJ6Ii8+PC9zdmc+");'},"avp-p-cn-fs":{on:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMiwxN2g0djRoM3YtN0gyVjE3eiBNNiw2SDJ2M2g3VjJINlY2eiBNMTcsNlYyaC0zdjdoN1Y2SDE3eiBNMTQsMjFoM3YtNGg0di0zaC03VjIxeiIvPjwvc3ZnPg==");',off:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMiw5aDNWNWg0VjJIMlY5eiBNNSwxNEgydjdoN3YtM0g1VjE0eiBNMTgsMThoLTR2M2g3di03aC0zVjE4eiBNMTQsMnYzaDR2NGgzVjJIMTR6Ii8+PC9zdmc+");'},"avp-p-cn-next":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBwb2ludHM9IjE5LjIsMTEuNSA4LjksNSA4LjksOC4yIDMuOSw1IDMuOSwxOCA4LjksMTQuOCA4LjksMTgiLz48L3N2Zz4=");',"avp-p-cn-prev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBwb2ludHM9IjMuOCwxMS41IDE0LjEsNSAxNC4xLDguMiAxOS4xLDUgMTkuMSwxOCAxNC4xLDE0LjggMTQuMSwxOCIvPjwvc3ZnPg==");',"avp-p-cn-bnext":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNC44LDE4bDEwLjMtNi41TDQuOCw1VjE4eiBNMTYuMiw1djEzaDJWNUgxNi4yeiIvPjwvc3ZnPg==");',"avp-p-cn-bprev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTguMiw1TDcuOCwxMS41TDE4LjIsMThWNXogTTQuOCw1djEzaDJWNUg0Ljh6Ii8+PC9zdmc+");',"avp-p-cn-replay":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTguMiw1TDcuOCwxMS41TDE4LjIsMThWNXogTTQuOCw1djEzaDJWNUg0Ljh6Ii8+PC9zdmc+");',"avp-p-cn-s":{on:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMS43LDguNXY2aDMuNWw1LjYsNXYtMTZsLTUuNiw1SDEuN3ogTTE2LjMsMTEuNWMwLTEuOC0xLTMuMy0yLjUtNHY4QzE1LjMsMTQuOCwxNi4zLDEzLjMsMTYuMywxMS41eiBNMTMuOCwyLjJ2Mi42YzIuOSwwLjksNSwzLjUsNSw2LjdzLTIuMSw1LjgtNSw2Ljd2Mi42YzQuMy0wLjksNy41LTQuNyw3LjUtOS4zUzE4LjEsMy4xLDEzLjgsMi4yeiIvPjwvc3ZnPg==");',off:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMTksMi4ybC0xLjYsMS42Yy0xLjEtMC44LTIuMy0xLjMtMy42LTEuNnYyLjZDMTQuNCw1LDE1LDUuMywxNS42LDUuNmwtNC44LDQuOFYzLjVsLTUuNiw1SDEuN3Y2aDMuNUw2LDE1LjIgbC0zLjksMy45bDEuOCwxLjhMMjAuOCw0TDE5LDIuMnogTTEzLjgsMTUuNWMxLjUtMC43LDIuNS0yLjIsMi41LTRjMC0wLjMsMC0wLjUtMC4xLTAuOGwtMi40LDIuNFYxNS41eiBNMjAuMSw2LjlsLTEuOSwxLjkgYzAuNCwwLjksMC42LDEuOCwwLjYsMi44YzAsMy4yLTIuMSw1LjgtNSw2Ljd2Mi42YzQuMy0wLjksNy41LTQuNyw3LjUtOS4zQzIxLjMsOS44LDIwLjksOC4yLDIwLjEsNi45eiBNMTAuOCwxOS41di0zLjRMOSwxNy45IEwxMC44LDE5LjV6Ii8+PC9zdmc+");',medium:'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMS43LDguNXY2aDMuNWw1LjYsNXYtMTZsLTUuNiw1SDEuN3ogTTEzLjgsNy41djhjMS41LTAuNywyLjUtMi4yLDIuNS00UzE1LjMsOC4yLDEzLjgsNy41eiIvPjwvc3ZnPg==");'},"avp-p-cn-sec-bnext":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIA0KCSB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSJ3aGl0ZSI+DQo8Zz4NCgk8cG9seWdvbiBwb2ludHM9IjksNCAxNiwxMSA5LDE4IDEyLDIxIDIyLDExIDEyLDEiLz4NCgk8cG9seWdvbiBwb2ludHM9IjMsMjEgMTMsMTEgMywxIDAsNCA3LDExIDAsMTgiLz4NCjwvZz4NCjwvc3ZnPg0K");',"avp-p-cn-sec-bprev":'background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIA0KCSB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJyb3RhdGUoMTgwKSI+DQo8Zz4NCgk8cG9seWdvbiBwb2ludHM9IjksNCAxNiwxMSA5LDE4IDEyLDIxIDIyLDExIDEyLDEiLz4NCgk8cG9seWdvbiBwb2ludHM9IjMsMjEgMTMsMTEgMywxIDAsNCA3LDExIDAsMTgiLz4NCjwvZz4NCjwvc3ZnPg==");',"avp-p-cn-close":'background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20id%3D%22close-Layer_1%22%20xml%3Aspace%3D%22preserve%22%20height%3D%2223%22%20viewBox%3D%220%200%2022.677%2022.677%22%20width%3D%2223%22%20version%3D%221.1%22%20y%3D%220px%22%20x%3D%220px%22%20enable-background%3D%22new%200%200%2022.677%2022.677%22%3E%09%09%3Cpolygon%20fill%3D%22white%22%20points%3D%2219.346%205.421%2017.256%203.332%2011.338%209.25%205.42%203.332%203.332%205.421%209.25%2011.338%203.332%2017.257%205.42%2019.345%2011.338%2013.427%2017.256%2019.345%2019.346%2017.257%2013.428%2011.338%22%20clip-rule%3D%22evenodd%22%20fill-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E")',"avp-p-cn-cc":""};for(t in n)if(n.hasOwnProperty(t))if("string"==typeof o[t])o[t]="";else if("object"==typeof o[t]){var a,s=o[t];for(a in s)s.hasOwnProperty(t)&&"string"==typeof s[a]&&(s[a]="")}N(this.container,"avp-p-gui"),this.container.setAttribute("data-avp-mobile",com.aniview.player.Utils.isMobile()),this.container.setAttribute("data-avp-width",i.width),this.container.setAttribute("data-avp-height",i.height),this.container.setAttribute("data-avp-theme",i.theme),this.container.setAttribute("data-theme-color",i.themeColor?i.themeColor:"#ff0000"),this.addElementsTo(this.container,[{class:"avp-p-gui-b",children:[{class:"avp-p-dk avp-pos-abs"},{class:"avp-p-cn avp-pos-abs",children:[{class:"avp-p-cn-l"},{class:"avp-p-cn-m"},{class:"avp-p-cn-r"}]}]},{class:"avp-p-gui-m"},{class:"avp-p-gui-t"}]),this.style.push(document.createElement("style")),this.style[0].setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style[0]);var r=this.container.getAttribute("data-id"),l=this.sharedGui.getAttribute("data-id");i.customButtons=i.customButtons||{};var p,d,c,u='.avp-concealed{height:0; opacity:0;}\n.avp-opening-animation{overflow:hidden;-webkit-transition:1s ease height; transition:1s ease height}\n[data-id="'+r+'"] *{ direction:ltr!important; color:white; }\n[data-id="'+r+'"] *, [data-id="'+r+'"] div, [data-id="'+r+'"] svg{ display:inline-block; margin:0; padding:0; border:0; -webkit-box-sizing:border-box; box-sizing:border-box; }\n[data-id="'+r+'"] div{ background-position:center center; background-repeat:no-repeat; }\n[data-id="'+r+'"] .avp-pos-abs{ position:absolute; }\n[data-id="'+r+'"] .avp-pointer-none{ pointer-events:none; }\n[data-id="'+r+'"] .avp-invisible{ display: none; }\n[data-id="'+r+'"] .avp-hidden{ visibility: hidden; opacity:0; -webkit-opacity:0; pointer-events:none;}\n[data-id="'+l+'"] .avp-hidden{ visibility: hidden; opacity:0; -webkit-opacity:0; pointer-events:none;}\n[data-id="'+r+'"] .avp-p-gui-b{ -webkit-transition:all 0.3s ease-out; -moz-transition:all 0.3s ease-out; -o-transition:all 0.3s ease-out; transition:all 0.3s ease-out; }\n[data-id="'+r+'"] .avp-hideDisplay{ opacity:0; display:none; visibility:hidden; }\n[data-id="'+r+'"] .avp-bgs-c{ -webkit-background-size:cover; background-size:cover; }\n[data-id="'+r+'"].avp-p-gui{ width:'+i.width+"px; height:"+i.height+'px; position:relative; -webkit-touch-callout:none; -webkit-user-select:none; -moz-user-select:none; user-select:none; background-color:rgba(0,0,0,0); }\n[data-id="'+r+'"] .avp-sel{ bottom:100%; right:0; background:rgb(70,70,70); background:rgba(0,0,0,0.7); font-family:sans-serif; font-size:12px; padding:5px 0; }\n[data-id="'+r+'"] .avp-opt{ display:block; cursor:auto; -webkit-opacity:0.8; opacity:0.8; color:#fff; padding:6px 14px; font-size:11px; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif; white-space: nowrap; }\n[data-id="'+r+'"] .avp-opt.avp-act{ background:#f00; }\n[data-id="'+r+'"] .avp-opt.avp-dis{ -webkit-opacity:0.8; opacity:0.8; color:#999; }\n[data-id="'+r+'"] .avp-opt:not(.avp-dis):hover{ cursor:pointer; -webkit-opacity:1; opacity:1; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-ti{ color:#fff; padding:10px 22px; font-size:19px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-ti{ color:#fff; padding:10px 22px; font-size:19px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-ti{ color:#fff; padding:8px 14px; font-size:14px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-ti{ color:#fff; padding:8px 8px; font-size:9px; z-index:10; font-weight: 700; text-shadow: 0 0 2px rgba(0,0,0,1); -webkit-font-smoothing: antialiased; font-family: Roboto, Arial, sans-serif;max-width:75%;  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}[data-id="'+r+'"] .avp-p-ti.title-left{ left:20px; }\n[data-id="'+r+'"] .avp-p-ti.title-right{ right:20px; }\n[data-id="'+r+'"] .avp-p-dk{ width:100%; bottom:0; pointer-events:none; left:0; }\n[data-id="'+r+'"] .avp-p-cn, [data-id="'+r+'"] .avp-p-cn > div{ display:-webkit-flex; display:-moz-flex; display:flexbox; display:-ms-flexbox; display:flex; }\n[data-id="'+r+'"] .avp-p-cn { z-index:4 }\n[data-id="'+r+'"] .avp-p-cn-l, [data-id="'+r+'"] .avp-p-cn-r{ -webkit-flex:0 0 auto; -moz-flex:0 0 auto; -ms-flex:0 0 auto; flex:0 0 auto; min-width:1px; min-height:1px; max-width:100%; }\n[data-id="'+r+'"] .avp-p-cn-m{ -webkit-flex:1 1 auto; -moz-flex:1 1 auto; -ms-flex:1 1 auto; flex:1 1 auto; min-width:1px; min-height:1px; max-width:100%; position:relative; }\n[data-id="'+r+'"] .avp-p-cn-l > div, [data-id="'+r+'"] .avp-p-cn-r > div{ -webkit-flex:0 0 auto; -moz-flex:0 0 auto; -ms-flex:0 0 auto; flex:0 0 auto; min-width:1px; min-height:1px; max-width:100%; width:30px; height:30px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-r > div{ width:26px; height:26px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-r > div{ width:22px; height:22px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-r > div{ width:20px; height:20px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-l > div, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-r > div{ width:20px; height:20px; }\n[data-id="'+r+'"] .avp-p-cn-pp{ -webkit-background-size:80%; background-size:80%; -ms-flex-order:3; flex-order:3; order:3; }\n[data-id="'+r+'"] .avp-p-cn-cc{ display:-webkit-flex; display:-moz-flex; display:flexbox; display:-ms-flexbox; display:flex; align-items:center; justify-content:center; box-sizing:content-box; -webkit-background-size:70%; background-size:70%; }\n[data-id="'+r+'"] .avp-p-cn-cc > span{ font:700 15px/1 sans-serif; vertical-align:middle; margin-top:1px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-cc > span{ font-size:14px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-cc > span{ font-size:11px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-cc > span{ font-size:10px; }\n[data-id="'+r+'"] .avp-p-cn-cc .avp-sel{ opacity:0; pointer-events:none; width:auto; height:auto; min-width:65px; -webkit-transition:0.3s opacity; transition:0.3s opacity; }\n[data-id="'+r+'"] .avp-p-cn-cc:hover .avp-sel{ opacity:1; pointer-events:initial; }\n[data-id="'+r+'"] .avp-p-cn-fs{ -webkit-background-size:70%; background-size:70%; }\n[data-id="'+r+'"] .avp-p-cn-replay, [data-id="'+r+'"] .avp-p-cn-prev, [data-id="'+r+'"] .avp-p-cn-next{ -webkit-background-size:70%; background-size:70%; }\n[data-id="'+r+'"] .avp-p-cn-bnext, [data-id="'+r+'"] .avp-p-cn-bprev{ width:40px; height:40px; top:50%; -webkit-transform:translateY(-50%); transform:translateY(-50%); background-color:rgba(0,0,0,0.5); -webkit-border-radius:50%; border-radius:50%; background-size:50%; border:1px solid white; z-index: 3;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bprev{ width:34px; height:34px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bprev{ width:28px; height:28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bprev{ width:28px; height:28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-bnext, [data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-bprev{ width:24px; height:24px; }\n[data-id="'+r+'"] .avp-p-cn-bnext{ right:10px; }\n[data-id="'+r+'"] .avp-p-cn-bprev{ left:10px;}\n[data-id="'+r+'"] .avp-p-cn-bp{ width:80px; height:80px; left:50%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:50%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 3}\n[data-id="'+r+'"] .avp-p-cn-breplay:not(.avp-hidden) ~ .avp-p-cn-bp { display: none; visibility: hidden }\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-bp{ width:60px; height:60px; margin:-30px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-bp{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-bp{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-bp{ width:25px; height:25px; margin:-13px 0 0 -13px; }\n[data-id="'+r+'"] .avp-p-cn-sec-bnext{ width:80px; height:80px; left:75%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:35%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 1; '+o["avp-p-cn-sec-bnext"]+'} \n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-sec-bnext{ width:50px; height:50px; margin:-24px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-sec-bnext{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-sec-bnext{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-sec-bnext{display:none}\n[data-id="'+r+'"] .avp-p-cn-sec-bprev{ width:80px; height:80px; left:25%; top:50%; margin:-40px 0 0 -40px; background-color:rgba(0,0,0,0.3); -webkit-border-radius:50%; border-radius:50%; background-size:35%; -webkit-transition:0.3s opacity; transition:0.3s opacity; z-index: 1; '+o["avp-p-cn-sec-bprev"]+'}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-sec-bprev{ width:50px; height:50px; margin:-24px 0 0 -30px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-sec-bprev{ width:48px; height:48px; margin:-24px 0 0 -24px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-sec-bprev{ width:30px; height:30px; margin:-15px 0 0 -15px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-cn-sec-bprev{display:none}\n'+(i.customButtons["avp-p-cn-pp"]?'[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="play"] .avp-p-cn-pp-play, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="play"] .avp-p-cn-pp-play{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="pause"] .avp-p-cn-pp-pause, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="pause"] .avp-p-cn-pp-pause{ display:block }\n[data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"] .avp-p-cn-pp-replay, [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"] .avp-p-cn-pp-replay{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="play"], [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="play"]{ '+o["avp-p-cn-pp"].play+' }\n[data-id="'+r+'"] .avp-p-cn-bp[data-avp-state="pause"], [data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="pause"]{ '+o["avp-p-cn-pp"].pause+' }\n[data-id="'+r+'"] .avp-p-cn-pp[data-avp-state="replay"], [data-id="'+r+'"] .avp-p-cn-breplay-i{ '+o["avp-p-cn-pp"].replay+" }\n")+'[data-id="'+r+'"] .avp-p-cn-next{ -ms-flex-order:4; flex-order:4; order:4; '+o["avp-p-cn-next"]+' }\n[data-id="'+r+'"] .avp-p-cn-prev{ -ms-flex-order:2; flex-order:2; order:2; '+o["avp-p-cn-prev"]+' }\n[data-id="'+r+'"] .avp-p-cn-bnext{ '+o["avp-p-cn-bnext"]+' }\n[data-id="'+r+'"] .avp-p-cn-replay { '+o["avp-p-cn-replay"]+' }\n[data-id="'+r+'"] .avp-p-cn-bprev{ '+o["avp-p-cn-bprev"]+' }\n[data-id="'+r+'"] .avp-p-cn-replay{ -ms-flex-order:1; flex-order:1; order:1; }\n[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-bprev,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-bnext { display: none; }\n[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-d,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-l,[data-id="'+r+'"].avp-p-gui.ads-mode .avp-p-cn-m { visibility: hidden; }\n'+(i.customButtons["avp-p-cn-fs"]?'[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="off"] .avp-p-cn-fs-off{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="on"] .avp-p-cn-fs-on{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="off"]{ '+o["avp-p-cn-fs"].off+' }\n[data-id="'+r+'"] .avp-p-cn-fs[data-avp-state="on"]{ '+o["avp-p-cn-fs"].on+"}\n");u+='[data-id="'+r+'"] .avp-p-cn-s-container{ position:relative; -webkit-transition:0.3s all; transition:0.3s all; }\n[data-id="'+r+'"] .avp-p-cn-s{ -webkit-background-size:75%; background-size:75%; background-position:72% center; height:100%; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .avp-p-cn-s{width:22px;}\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-cn-s{width:22px;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .avp-p-cn-s{width:26px;}\n[data-id="'+r+'"][data-avp-ui-size="m"] .avp-p-cn-s{width:33px;}\n'+(i.customButtons["avp-p-cn-s"]?'[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="on"] .avp-p-cn-s-on{ display:block }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="off"] .avp-p-cn-s-off{ display:block; }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="medium"] .avp-p-cn-s-medium{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="on"]{ '+o["avp-p-cn-s"].on+' }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="off"]{ '+o["avp-p-cn-s"].off+' }\n[data-id="'+r+'"] .avp-p-cn-s[data-avp-state="medium"]{ '+o["avp-p-cn-s"].medium+" }\n"),i.caption&&(u+='[data-id="'+l+'"] #av-caption{position:absolute;top:-18px;text-align:center;line-height:18px;background:'+(i.captionBgColor||"transparent")+'}\n[data-id="'+l+'"] #av-close-btn-overlay{display:inline-block;position:relative;z-index:9999999;vertical-align:top}\n[data-id="'+l+'"] #av-close-btn{position:static;width:18px;height:18px;border:none}'),this.inlineToContent=i.floating&&("top"===i.floating.position||"bottom"===i.floating.position)||i.sticky&&("top"===i.sticky.position||"bottom"===i.sticky.position),this.inlineToContent&&(p="#fff",d="Roboto, Arial, sans-serif",h.isFloating(i)?(i.floating.textColor&&(p=i.floating.textColor),i.floating.textFont&&(d=i.floating.textFont),i.floating.textSize&&(c=i.floating.textSize)):h.isSticky(i)&&(i.sticky.textColor&&(p=i.sticky.textColor),i.sticky.textFont&&(d=i.sticky.textFont),i.sticky.textSize&&(c=i.sticky.textSize)),u+="#av-inlineToContent > .avp-p-ti{max-height:calc(100% - 34px);max-width:calc(100% - 34px);color:"+p+";margin:17px;z-index:10;position:absolute;font-weight:700;text-shadow:0 0 2px rgba(0,0,0,1);-webkit-font-smoothing:antialiased;font-family:"+d+';overflow:hidden;text-overflow:ellipsis;text-decoration-line: unset;}\n[data-id="'+l+'"][data-avp-ui-size="s"] #av-inlineToContent > .avp-p-ti{font-size:19px;}\n[data-id="'+l+'"][data-avp-ui-size="xs"] #av-inlineToContent > .avp-p-ti{font-size:19px;}\n[data-id="'+l+'"][data-avp-ui-size="xxs"] #av-inlineToContent > .avp-p-ti{font-size:14px;}\n[data-id="'+l+'"][data-avp-ui-size="xxxs"] #av-inlineToContent > .avp-p-ti{font-size:9px;}\n#av-inlineToContent > .avp-p-ti:hover{text-decoration: underline;}\n.avp-p-wrapper.av-floating [data-id="'+l+'"] .avp-p-cn-close{left:unset;right:0;border-width:inherit;background-color:inherit;}\n.avp-p-wrapper.av-floating {box-shadow: rgba(0, 0, 0, 0.4) 1px 1px 6px 3px;}\n.avp-p-wrapper.av-sticky [data-id="'+l+'"] .avp-p-cn-close{left:unset;right:0;border-width:inherit;background-color:inherit;}\n.avp-p-wrapper.av-sticky {box-shadow: rgba(0, 0, 0, 0.4) 1px 1px 6px 3px;}\n'),c&&(u+='[data-id="'+l+'"] #av-inlineToContent > .avp-p-ti{font-size:'+c+"px!important;}"),u+='.avp-p-wrapper.av-floating #av-inlineToContent{display:block;right:0;position:absolute;height:100%;}\n.avp-p-wrapper.av-floating [data-id="'+r+'"] .avp-p-ti{display:none;}\n.avp-p-wrapper.av-sticky #av-inlineToContent{display:block;right:0;position:absolute;height:100%}\n.avp-p-wrapper.av-sticky [data-id="'+r+'"] .avp-p-ti{display:none;}\n.avp-p-wrapper #av-inlineToContent{display:none;}\n',u+='[data-id="'+l+'"] .avp-p-cn-close{ cursor: pointer; -webkit-opacity: 0.8; opacity: 0.8; background-color: rgb(0, 0, 0); background-color: rgba(0, 0, 0, 0.7);z-index: 9999999; position: absolute; top: 0; left: 0; width: 28px; height: 28px; background-color: rgb(50, 50, 50); background-color: rgba(0, 0, 0, 0.4);background-repeat: no-repeat; background-size: 60%; background-position: center; -webkit-transition: all 0.15s ease-in-out; -moz-transition: all 0.15s ease-in-out; -o-transition: all 0.15s ease-in-out; transition: all 0.15s ease-in-out;',i.closeButtonStyle&&"x"===i.closeButtonStyle.style||this.inlineToContent||(u+="border-style: solid; border-width: 0 1px 1px 0;border-color: white;"+o["avp-p-cn-close"]),u+="}\n",u+='[data-id="'+r+'"] .bottom-logo { -webkit-transition:bottom 0.3s ease; -moz-transition:bottom 0.3s ease; -ms-transition:bottom 0.3s ease; -o-transition:bottom 0.3s ease; transition:bottom 0.3s ease; bottom: 8px; }\n[data-id="'+r+'"] .nonl-container { -webkit-transition:bottom 0.3s ease; -moz-transition:bottom 0.3s ease; -ms-transition:bottom 0.3s ease; -o-transition:bottom 0.3s ease; transition:bottom 0.3s ease; bottom: 8px; }\n[data-id="'+r+'"] .avp-p-gui-b.avp-hidden ~ .avp-p-gui-t .bottom-logo {bottom: 8px; }\n[data-id="'+r+'"][data-avp-theme="solid"] .bottom-logo { bottom: 40px; }\n[data-id="'+r+'"][data-avp-ui-size="s"][data-avp-theme="solid"] .bottom-logo { bottom: 34px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"][data-avp-theme="solid"] .bottom-logo { bottom: 28px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"][data-avp-theme="solid"] .bottom-logo { bottom: 22px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"][data-avp-theme="solid"] .bottom-logo { bottom: 22px; }\n[data-id="'+r+'"] .bottom-logo { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .bottom-logo { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .bottom-logo { bottom: 41px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .bottom-logo { bottom: 48px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .bottom-logo { bottom: 48px; }\n[data-id="'+r+'"][data-avp-ui-size="s"] .top-logo { top: 8px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .top-logo { top: 8px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .top-logo { top: 5px;}\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .top-logo { top: 5px;}\n[data-id="'+r+'"] .avp-p-gui-b.avp-hidden ~ .nonl-container {bottom: 8px; }\n[data-id="'+r+'"] .nonl-container { bottom: 50px; left: 0;}\n[data-id="'+r+'"][data-avp-ui-size="s"] .nonl-container { bottom: 50px; }\n[data-id="'+r+'"][data-avp-ui-size="xs"] .nonl-container { bottom: 41px; }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .nonl-container { bottom: 48px; }\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .nonl-container { bottom: 48px; }\n[data-id="'+r+'"] .avp-p-gui-ch { position: absolute; width: 100%; height: 100% }\n            ',u+='[data-id="'+r+'"] .avp-p-sl-cp { background: rgba(0, 0, 0, .4); padding: 10px; bottom: 40px; left: 50%; transform: translateX(-50%); max-height: calc(100% - 50px); overflow: hidden; pointer-events: none }\n[data-id="'+r+'"][data-avp-ui-size="xxs"] .avp-p-sl-cp { font-size: 12px; line-height: 12px;}\n[data-id="'+r+'"][data-avp-ui-size="xxxs"] .avp-p-sl-cp { display:none; }\n[data-id="'+r+'"] .avp-p-sl-cp-txt-clip { overflow: hidden; width: 100%; }\n[data-id="'+r+'"] .avp-p-sl-cp-txt-clip.animate-in { animation: animateTextIn 1s linear; }\n@keyframes animateTextIn { 0% { width: 0%; } 100% { width: 100%; } }\n',u+=i.customButtons["avp-p-cn-cc"]?'[data-id="'+r+'"] .avp-p-cn-cc{ display:block }\n':'[data-id="'+r+'"] .avp-p-cn-cc{ '+o["avp-p-cn-cc"]+" }\n",com.aniview.player.Utils.isMobile()||(u+='[data-id="'+r+'"] .avp-btn:not(.avp-hidden){ cursor:pointer; -webkit-opacity:0.8; opacity:0.8; }\n[data-id="'+r+'"] .avp-btn:hover{ cursor:pointer; -webkit-opacity:1; opacity:1; }\n            '),this.addStyle(u)},O.prototype.getUISizeClass=function(t,e){var i=t*e,n=1e5,o=5e4;return n<i&&i<=2e5?"s":o<i&&i<=n?"xs":2e4<i&&i<=o?"xxs":i<o?"xxxs":"m"},O.prototype.setSize=function(t,e){this.container.setAttribute("data-avp-width",t),this.container.setAttribute("data-avp-height",e),this.container.style.width=t+"px",this.container.style.height=e+"px";var i=this.getUISizeClass(t,e);this.container.setAttribute("data-avp-ui-size",i),this.sharedGui.setAttribute("data-avp-ui-size",i);var n=this.getElementByClass(".avp-p-sl-cp-txt-clip");n&&(n.style.width=this.content.getWidth()/2+"px")},O.prototype.update=function(t){var e,i=this.content.config;for(e in i)this.config[e]!=i[e]&&(this.config[e]=i[e],this.updateParameter(e,t))},O.prototype.initCloseButtonStyle=function(t){var e,i,n,o,a;t&&t.outside&&(e=this.closeOverlay.style,i="default","string"!=typeof t.position&&(t.position=i),t.position=t.position.toLowerCase(),t.position===i&&(t.position=t.outside?"top-right":"top-left"),n=t.overlayMargin,isNaN(t.overlayMargin)&&(n=30),o=+t.left,a=+t.right,e.padding=n+"px",e.margin=-n+"px",isNaN(o)||(e.marginLeft=o-n+"px"),isNaN(a)||(e.marginRight=a-n+"px"),"top-left"===t.position?e.float="left":e.float="right")},O.prototype.updateSharedParameter=function(){var t,e=this,i=this.content.config;(i.floating&&("top"===i.floating.position||"bottom"===i.floating.position)||i.sticky&&("top"===i.sticky.position||"bottom"===i.sticky.position)||i.closeButtonStyle&&"x"===i.closeButtonStyle.style)&&(t='                        <svg fill="white" viewBox="0 0 252 252">                            <g>                                <path d="M164.612,87.388c-3.515-3.515-9.213-3.515-12.728,0L126,113.272l-25.885-25.885c-3.515-3.515-9.213-3.515-12.728,0   c-3.515,3.515-3.515,9.213,0,12.728L113.272,126l-25.885,25.885c-3.515,3.515-3.515,9.213,0,12.728   c1.757,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636L126,138.728l25.885,25.885c1.757,1.757,4.061,2.636,6.364,2.636   s4.606-0.879,6.364-2.636c3.515-3.515,3.515-9.213,0-12.728L138.728,126l25.885-25.885   C168.127,96.601,168.127,90.902,164.612,87.388z"/>                            </g>                        </svg>                    '),i.adConfig.closeEvent=!1,i.caption?(this.addElementsTo(".avp-shared-gui",[{id:"av-caption",children:{id:"av-close-btn-overlay",class:"av-pos-"+i.closeButtonStyle.position,children:{id:"av-close-btn",class:"avp-p-cn-close avp-pos-abs avp-btn",value:this.content.config.customButtons["avp-p-cn-close"]||t}}}],!0,!0),this.closeOverlay=this.getElementByClass("#av-close-btn-overlay",!0),this.initCloseButtonStyle(i.closeButtonStyle),e.content.caption=this.getElementByClass("#av-caption",!0)):this.addElementsTo(".avp-shared-gui",[{class:"avp-p-cn-close avp-pos-abs avp-btn",value:this.content.config.customButtons["avp-p-cn-close"]||t}],!0),t&&(this.sharedGui.querySelector(".avp-p-cn-close").style.backgroundImage="unset"),this.getElementByClass(".avp-p-cn-close",!0).onclick=function(){i.closeButton&&!h.isFloating(i)||i.closeButton&&h.isFloating(i)&&e.content.getViewability().inView||!i.floating||!i.floating.closeButton?(e.content.closePlayer(),e.event(O.Events.CloseClicked)):i.floating&&i.floating.closeButton&&(e.content.stopFloating(),e.event(O.Events.CloseFloatingClicked))}};var i=!(O.prototype.updateParameter=function(t,e){var i,n,o,a,s,r,l,p=this,d=this.content.config,c=this.container.getAttribute("data-id"),u="";switch(t){case"autoPlay":this.getElementByClass(".avp-p-cn-bp")||this.addElementsTo(".avp-p-gui-m",{class:"avp-p-cn-bp avp-pos-abs avp-btn",data:{"avp-state":"play"},value:this.content.config.customButtons["avp-p-cn-bp"]});var h=!d.hideGuiOnMouseout;!0===d.autoPlay?this.hideUi(!1,!1,h):this.showElementByClass(".avp-p-cn-bp"),this.setElementDataByClass(".avp-p-cn-bp",{"avp-state":d.autoPlay?"pause":"play"}),this.getElementByClass(".avp-p-cn-bp").onclick=function(t){p.onPlayClick()};break;case"timelineMode":0!=d.timelineMode&&"none"!=d.timelineMode?(this.addTimelineStyles(),this.addTimeline()):this.removeElementByClass(".avp-p-tl");break;case"showBigPrevNext":0!=d.showBigPrevNext?(i=" avp-hidden",this.addElementsTo(".avp-p-gui-m",[{class:"avp-p-cn-bprev avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-bprev"]},{class:"avp-p-cn-bnext avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-bnext"]}]),this.getElementByClass(".avp-p-cn-bprev").onclick=function(){p.onPrevClick()},this.getElementByClass(".avp-p-cn-bnext").onclick=function(){p.onNextClick()}):(this.removeElementByClass(".avp-p-cn-bprev"),this.removeElementByClass(".avp-p-cn-bnext"));break;case"moveXSec":0!=d.moveXSec?(i="","none"==this.content.playerOwner&&(i=" avp-hidden"),this.addElementsTo(".avp-p-gui-m",[{class:"avp-p-cn-sec-bprev avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-sec-bprev"]},{class:"avp-p-cn-sec-bnext avp-pos-abs avp-btn"+i,value:this.content.config.customButtons["avp-p-cn-sec-bnext"]}]),this.getElementByClass(".avp-p-cn-sec-bprev").onclick=function(){p.content.setContentCurrentTimeReduceXSec()},this.getElementByClass(".avp-p-cn-sec-bnext").XSec()}):(this.removeElementByClass(".avp-p-cn-sec-bprev"),this.removeElementByClass(".avp-p-cn-sec-bnext"));break;case"showReplay":0!=d.showReplay?(n=d.replayText?d.replayText:"",this.addElementsTo(".avp-p-gui-m",{class:"avp-p-cn-breplay avp-pos-abs avp-btn",children:[{class:"avp-p-cn-breplay-i"},{class:"avp-p-cn-breplay-t",value:n}]}),this.hideElementByClass(".avp-p-cn-breplay"),this.getElementByClass(".avp-p-cn-breplay").onclick=function(){p.content.setContentByIndex(p.content.getContentIndex(p.content.getContent()),!0),p.hideElementByClass(".avp-p-cn-breplay")},u+='[data-id="'+c+'"] .avp-p-cn-breplay{ width:auto; height:40px; left:50%; top:50%; padding:0 21px 0 15px; -webkit-transform:translate(-50%,-50%); background-color:rgba(0,0,0,0.5); -webkit-border-radius:20px; border-radius:20px; border:2px solid white; font-size:0; }\n[data-id="'+c+'"] .avp-p-cn-breplay-i{ width:24px; height:34px; display:inline-block; vertical-align:top; }\n                        ',u+=n?'[data-id="'+c+'"] .avp-p-cn-breplay-t{ display:inline-block; height:36px; color:white; font:normal normal normal 13px/35px arial, helvetica, sans-serif; color:white; margin-left:5px; }\n':'[data-id="'+c+'"] .avp-p-cn-breplay-i{ position:absolute; top:50%; left:50%; -webkit-transform:translate(-50%,-50%); transform:translate(-50%,-50%); }\n'):this.removeElementByClass(".avp-p-cn-breplay");break;case"showTimelineReplay":0!=d.showTimelineReplay?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-replay avp-btn",value:this.content.config.customButtons["avp-p-cn-replay"]}),this.getElementByClass(".avp-p-cn-replay").onclick=function(){p.firstContentPlayClick()}):this.removeElementByClass(".avp-p-cn-replay");break;case"showPrevButton":0!=d.showPrevButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-prev avp-btn",value:this.content.config.customButtons["avp-p-cn-prev"]}),this.getElementByClass(".avp-p-cn-prev").onclick=function(){p.onPrevClick()}):this.removeElementByClass(".avp-p-cn-prev");break;case"showPauseButton":0!=d.showPauseButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-pp avp-btn",data:{"avp-state":"play"},value:this.content.config.customButtons["avp-p-cn-pp"]}),this.getElementByClass(".avp-p-cn-pp").onclick=function(){p.content.getEnded()?p.content.nextContent():p.onPlayClick()}):this.removeElementByClass(".avp-p-cn-pp");break;case"showNextButton":0!=d.showNextButton?(this.addElementsTo(".avp-p-cn-l",{class:"avp-p-cn-next avp-btn",value:this.content.config.customButtons["avp-p-cn-next"]}),this.getElementByClass(".avp-p-cn-next").onclick=function(){p.onNextClick()}):this.removeElementByClass(".avp-p-cn-next");break;case"showDuration":0!=d.showDuration?(x=".avp-p-cn-l","right"===d.durationPosition&&(x=".avp-p-cn-r"),this.addElementsTo(x,{class:"avp-p-cn-d",children:[{class:"avp-p-cn-d-r",value:V},{class:"avp-p-cn-d-s",value:"/"},{class:"avp-p-cn-d-t",value:V}]}),u+='[data-id="'+c+'"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-d,\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-r > .avp-p-cn-d,\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-r > .avp-p-cn-d{ width:auto; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-l > .avp-p-cn-d, [data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-r > .avp-p-cn-d{ width:auto; }\n[data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-d{ -ms-flex-order:-1; flex-order:-1; order:-1; padding:0 5px 0 0; }\n[data-id="'+c+'"] .avp-p-cn-r > .timeline-logo{ -ms-flex-order:2; flex-order:2; order:2; width: inherit;}\n[data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-fs{ -ms-flex-order:10; flex-order:10; order:10;}\n[data-id="'+c+'"] .avp-p-cn-d{ padding:0 5px; color:#ccc; font:normal normal normal 11px/30px arial, helvetica, sans-serif; color:white; white-space:nowrap; min-width: 30px;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-p-cn-d{ line-height:30px !important; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-d{ line-height:26px !important; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-d{ line-height:22px !important; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-d{ line-height:20px !important; }\n[data-id="'+c+'"] .avp-p-cn-d-s{ margin:0 4px; }\n                    '):this.removeElementByClass(".avp-p-cn-d");break;case"showSoundButton":0!=d.showSoundButton?(x=".avp-p-cn-l","right"===d.soundButtonPosition&&(x=".avp-p-cn-r"),this.addElementsTo(x,{class:"avp-p-cn-s-container"}),this.addElementsTo(".avp-p-cn-s-container",{class:"avp-p-cn-s avp-btn",data:{"avp-state":"on"},value:this.content.config.customButtons["avp-p-cn-s"]}),0!=d.showVolumeControl&&"ios"!==com.aniview.player.Utils.getOS()&&(u+='[data-id="'+c+'"] .avp-p-cn-s-container{ -webkit-transition-delay:0.1s; transition-delay:0.1s; }\n[data-id="'+c+'"] .avp-p-cn-v{ width:45px; height:3px; max-width:none; outline:none; opacity:0; pointer-events:none; -webkit-transition:0.3s all; transition:0.3s all; -webkit-transition-delay:0s; transition-delay:0s; z-index:1; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi{ width:45px; height:3px; -webkit-appearance:none; background-color:#ffffff; outline:none; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-ms-track{ background-color:#ffffff; outline:none; border:0; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-ms-fill{ background-color:'+this.container.getAttribute("data-theme-color")+'; outline:none; border:0; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-webkit-slider-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -webkit-border-radius:50%; border-radius:50%; -webkit-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-moz-range-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -moz-border-radius:50%; border-radius:50%; -moz-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi::-ms-thumb{ -webkit-appearance:none; border:none; width:11px; height:11px; background-color:white; -ms-border-radius:50%; border-radius:50%; -ms-box-shadow:0 0 3px 0 rgba(0,0,0,0.2); box-shadow:0 0 3px 0 rgba(0,0,0,0.2); }\n[data-id="'+c+'"] .avp-p-cn-s-container:hover{ -webkit-transition-delay:0s; transition-delay:0s; }\n[data-id="'+c+'"] .avp-p-cn-s-container:hover .avp-p-cn-v{ opacity:1; pointer-events:initial; -webkit-transition-delay:0.1s; transition-delay:0.1s; }\n                            ',1!=d.volumeControlVertical?u+='[data-id="'+c+'"] .avp-p-cn-s-container:hover{ width:90px !important; }\n[data-id="'+c+'"] .avp-p-cn-v{ bottom:13px; right:10px; }\n                                ':u+='[data-id="'+c+'"] .avp-p-cn-v{ background:rgba(0,0,0,0.4); width:59px; height:23px; bottom:48px; left:50%; margin-left:-30px; -webkit-transform:rotate(270deg); -moz-transform:rotate(270deg); -o-transform:rotate(270deg); -ms-transform:rotate(270deg); transform:rotate(270deg); -webkit-border-radius:3px; border-radius:3px; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn-v{ height: 17px;bottom: 36px;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-v{ bottom:45px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-v{ bottom:42px; }\n[data-id="'+c+'"] input[type=range].avp-p-cn-vi{ top:10px; left:7px; }\n                                ',this.addElementsTo(".avp-p-cn-s-container",{class:"avp-p-cn-v avp-pos-abs"}),o=this.getElementByClass(".avp-p-cn-v"),(a=document.createElement("input")).type="range",a.className="avp-p-cn-vi avp-pos-abs",a.addEventListener("input",function(t){p.onSoundClick(t)},!1),o.appendChild(a)),this.getElementByClass(".avp-p-cn-s").mute()}):this.removeElementByClass(".avp-p-cn-s-container");break;case"showClosedCaptions":0!=d.showClosedCaptions?u+='[data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-cc{ -ms-flex-order:9; flex-order:9; order:9;}\n':this.removeElementByClass(".avp-p-cn-cc");break;case"showFullScreen":0!=d.showFullScreen?(this.addElementsTo(".avp-p-cn-r",{class:"avp-p-cn-fs avp-btn",data:{"avp-state":"off"},value:this.content.config.customButtons["avp-p-cn-fs"]}),this.getElementByClass(".avp-p-cn-fs").onclick=function(){p.onFullscreenClick()}):this.removeElementByClass(".avp-p-cn-fs");break;case"spinner":"none"!=d.spinner&&0!=d.spinner?(u+='[data-id="'+c+'"] .avp-spinner{ position: absolute; width:80px; height:80px; left:50%; top:50%; margin:-40px 0 0 -40px; color:'+this.container.getAttribute("data-theme-color")+'; }\n[data-id="'+c+'"] .avp-spinner svg{ position:absolute; left:0; height:80px; width:80px; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-spinner{ -webkit-transform:scale(0.75); transform:scale(0.75); }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-spinner{ -webkit-transform:scale(0.6); transform:scale(0.6); }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-spinner{ -webkit-transform:scale(0.375); transform:scale(0.375); }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-spinner{ -webkit-transform:scale(0.28); transform:scale(0.28); }\n[data-id="'+c+'"] .avp-spinner-i-default circle{ fill:none; stroke:rgba(255,255,255,0.2); stroke-width:4; -webkit-transform-origin:center center; transform-origin:center center; }\n[data-id="'+c+'"] .avp-spinner-i-default circle+circle{ stroke:white; stroke-linecap:round; }\n[data-id="'+c+'"] .avp-spinner[data-avp-state="spinner"] .avp-spinner-i-default circle+circle{ animation:avpSpinnerCircleDash 1.5s ease infinite, avpSpinnerCircleRotate 1.5s linear infinite; }\n[data-id="'+c+'"] .avp-spinner[data-avp-state="next"] .avp-spinner-i-default circle{ stroke-width:3; }\n[data-id="'+c+'"] .avp-spinner[data-avp-state="next"] .avp-spinner-i-default circle+circle{ stroke-dasharray:238 238; stroke-dashoffset:238; animation:avpSpinnerCircleNext '+d.delayBeforeNext+"s linear 1 both; }\n                            @keyframes avpSpinnerCircleNext{ to { stroke-dashoffset:0; } }\n                            @keyframes avpSpinnerCircleDash{ 0% { stroke-dasharray:1,210; stroke-dashoffset:0; } 50% { stroke-dasharray:170,220; stroke-dashoffset:-50; } 100% { stroke-dasharray:170,220; stroke-dashoffset:-210; } }\n                            @keyframes avpSpinnerCircleRotate{ 0% { stroke:white; transform:rotate(0deg); } 100% { stroke:currentColor; transform:rotate(360deg); } }\n                    ",s='                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="avp-spinner-i-default'+("dots"===d.spinner?" avp-hidden":"")+'">                          <circle cx="40" cy="40" r="38"></circle>                          <circle cx="40" cy="40" r="38"></circle>                        </svg>                    ',"dots"===d.spinner&&(s+='                              <svg width="80" height="80" version="1.1" xmlns="http://www.w3.org/2000/svg" class="avp-spinner-i-dots">                                <circle cx="28" cy="40" r="4"></circle>                                <circle cx="40" cy="40" r="4"></circle>                                <circle cx="52" cy="40" r="4"></circle>                              </svg>                        ',u+='[data-id="'+c+'"] .avp-spinner-i-dots circle{ stroke-width:1; stroke:rgba(0,0,0,0.2); fill:rgba(255,255,255,0.5); animation:avpSpinnerDots 1.4s linear infinite both; }\n[data-id="'+c+'"] .avp-spinner-i-dots circle:nth-child(2){ animation-delay:0.2s; }\n[data-id="'+c+'"] .avp-spinner-i-dots circle:nth-child(3){ animation-delay:0.4s; }\n                                @keyframes avpSpinnerDots{ 0% { fill:rgba(255,255,255,0.4); } 20% { fill:white; } 100% { fill:rgba(255,255,255,0.4); } }\n                        '),this.removeElementByClass(".avp-spinner"),this.addElementsTo(this.container,{class:"avp-spinner avp-pos-abs ",data:{"avp-style":"dots"===d.spinner?"dots":"default","avp-state":"spinner"},value:s}),this.hideElementByClass(".avp-spinner"),this.disableElementByClass(".avp-spinner")):this.removeElementByClass(".avp-spinner");break;case"theme":d.theme&&"solid"===d.theme?u+='[data-id="'+c+'"] .avp-p-cn{ height:40px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn{ height:34px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn{ height:28px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn{ height:28px; left:0; right:0; bottom:0; }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-p-cn{display:none }\n[data-id="'+c+'"] .avp-p-cn-l{ padding-left:5px; }\n[data-id="'+c+'"] .avp-p-cn-r{ padding-right:5px; }\n[data-id="'+c+'"] .avp-p-cn-l > div, [data-id="'+c+'"] .avp-p-cn-r > div{ margin:5px 0; }\n[data-id="'+c+'"] .avp-p-cn-r > .avp-p-cn-cc{ margin:0;padding:5px 0; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-l > div, [data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-r > div{ margin:4px 0; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn-r > .avp-p-cn-cc{ margin:0;padding:4px 0; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-l > div, [data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-r > div{ margin:3px 0; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn-r > .avp-p-cn-cc{ margin:0;padding:3px 0; }\n[data-id="'+c+'"] .avp-p-dk{ height:40px; background:rgb(30,30,30); background:rgba(0,0,0,0.3); }\n                     ':u+='[data-id="'+c+'"] .avp-p-cn{ height:30px; left:10px; right:10px; bottom:10px; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-cn{ height:26px; bottom:8px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-cn{ height:22px; bottom:6px; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-p-cn{ height:22px; bottom:6px; }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-p-cn{display:none }\n[data-id="'+c+'"] .avp-p-dk{ height:70px; background:-webkit-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%); background:-moz-linear-gradient(top, transparent 0%, rgba(0, 0, 0, 0.5) 100%); background:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.5) 100%); }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-p-dk{ height:62px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-p-dk{ height:54px; }\n                    ';break;case"hideGuiOnMouseout":!1!==d.hideGuiOnMouseout?com.aniview.player.Utils.isMobile()?e||(r=com.aniview.player.Utils.parseInt(p.content.config.hideGuiTimeout,0,10),this.hideGuiTimeout=setTimeout(function(){p.hideUi()},1e3*r)):((p=this).mouseMove||(this.mouseMove=function(){N(p.container,"p-hover"),p.state.loading||(clearTimeout(p.hideGuiTimeout),p.showInnerGUI(!0),p.hideGuiTimeout=setTimeout(function(){p.handleGUITimeout()},1e3*p.config.hideGuiTimeout))}),this.mouseLeave||(this.mouseLeave=function(){var t=p.content.config,e=com.aniview.player.Utils.parseInt(t.hideGuiTimeout,0,10);p.hideGuiTimeout=setTimeout(function(){p.handleGUITimeout()},1e3*e)}),this.mouseEnter||(this.mouseEnter=function(){p.state.loading||(clearTimeout(p.hideGuiTimeout),p.showInnerGUI(!0))}),this.container.addEventListener?(this.container.addEventListener("mouseenter",this.mouseEnter),this.container.addEventListener("mouseleave",this.mouseLeave),this.container.addEventListener("mousemove",this.mouseMove)):(this.container.attachEvent("onmouseover",this.mouseEnter),this.container.attachEvent("onmouseout",this.mouseLeave),this.container.attachEvent("onmspointermove",this.mouseMove))):(this.showElementByClass(".avp-p-gui-b"),this.showElementByClass(".avp-hide-gui"),this.hideUi(!1,!1,!0),this.container.addEventListener?(this.container.removeEventListener("mouseenter",this.mouseEnter),this.container.removeEventListener("mouseleave",this.mouseLeave)):(this.container.detachEvent("onmouseover",this.mouseEnter),this.container.detachEvent("onmouseout",this.mouseLeave)));break;case"logo":if(void 0!==d.logo&&!1!==d.logo){var g=[];Array.isArray(d.logo)?g=d.logo:g.push(d.logo);for(var v=0;v<g.length;v++){var m=!1,f=!1,y=[48,48],b="left",w="top",C="",x=".avp-p-gui-t";void 0!==g[v].url&&!1!==g[v].url&&(m=g[v].url),void 0!==g[v].text&&!1!==g[v].text&&(f=g[v].text),void 0!==g[v].size&&!1!==g[v].size&&(y=g[v].size),void 0!==g[v].width&&!1!==g[v].width&&(y[0]=g[v].width);var E,k="avp-logo-"+v+" top-logo avp-pos-abs";"string"==typeof g[v].position&&(k=0<=g[v].position.indexOf("timeline")?(x=".avp-p-cn-r","avp-logo-"+v+" timeline-logo"):(b=0<=g[v].position.indexOf("right")?"right":"left",w=0<=g[v].position.indexOf("bottom")?"bottom":"top","avp-logo-"+v+" "+(0<=g[v].position.indexOf("bottom")?"bottom-logo":"top-logo")+" avp-pos-abs")),f&&(C+='<div class="avp-logo-'+v+'-t">'+f+"</div>"),C+='<div class="avp-logo-'+v+'-i" style="background-image:url('+m+')"></div>',u+='[data-id="'+c+'"] .avp-logo-'+v+"{ "+b+':8px; }\n[data-id="'+c+'"] .avp-logo-'+v+"-t{ font:normal normal normal 11px/"+y[1]+'px arial, helvetica, sans-serif; color:white; display:inline-block; margin:0 4px 0 0; }\n[data-id="'+c+'"] .avp-logo-'+v+"-i{ display:inline-block; vertical-align:middle; width:"+y[0]+"px; height:"+y[1]+"px; -webkit-background-size:contain; background-size:contain; background-position:"+b+" 0 "+w+' 0; }\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-logo-'+v+"-i{ width:"+.8*y[0]+"px; height:"+.8*y[1]+'px; }\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-logo-'+v+"-i{ width:"+.7*y[0]+"px; height:"+.7*y[1]+'px; }\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-logo-'+v+"-i{ width:"+.5*y[0]+"px; height:"+.5*y[1]+'px; }\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-logo-'+v+"-i{ width:"+.3*y[0]+"px; height:"+.3*y[1]+"px; }\n                                ",this.addElementsTo(x,{class:k,value:C}),"string"==typeof g[v].clickThrough&&10<g[v].clickThrough.length&&(E=this.getElementByClass(".avp-logo-"+v))&&function(t,e,i){t&&(t.style.zIndex="1",t.style.cursor="pointer",t.onclick=function(){if(i)try{top.location.href=e}catch(t){i=!1}var t;i||(t=B.open(e,"_blank"))&&t.focus&&t.focus()})}(E,g[v].clickThrough,g[v].redirect)}}break;case"showBigPlayOnPause":var S=this.config.showBigPlayOnPause&&this.content.getPaused();this.hideUi(S,!0);var T=0<this.content.getContentDuration(),A=this.content.getContentIndex(this.content.getContent())==this.content.getContentCount()-1,I=!T&&!A;!S||this.isEndOfContent()||I||this.showElementByClass(".avp-p-cn-bp");break;case"customHtml":!1!==d.customHtml&&((l=this.getElementByClass(".avp-p-gui-ch"))&&this.container.removeChild(l),this.addElementsTo(this.container,[{class:"avp-p-gui-ch"}]),(l=this.getElementByClass(".avp-p-gui-ch")).insertAdjacentHTML("beforeend",d.customHtml));break;case"autoSkip":var L=d.autoSkip.time||30,P=d.autoSkip.timeout||10,M=0<=(M=p.content.getContentCurrentTime())?M:0;this.addElementsTo(this.container,[{class:"avp-auto-skip-wrapper avp-hidden",children:[{class:"avp-auto-skip-container",children:[{class:"avp-auto-skip-bar"},{class:"avp-auto-skip-button",text:"Next"}]},{class:"avp-stay-button",value:this.content.config.customButtons["avp-p-cn-close"]||'                    <svg fill="white" viewBox="0 0 252 252">                        <g>                            <path d="M164.612,87.388c-3.515-3.515-9.213-3.515-12.728,0L126,113.272l-25.885-25.885c-3.515-3.515-9.213-3.515-12.728,0   c-3.515,3.515-3.515,9.213,0,12.728L113.272,126l-25.885,25.885c-3.515,3.515-3.515,9.213,0,12.728   c1.757,1.757,4.061,2.636,6.364,2.636s4.606-0.879,6.364-2.636L126,138.728l25.885,25.885c1.757,1.757,4.061,2.636,6.364,2.636   s4.606-0.879,6.364-2.636c3.515-3.515,3.515-9.213,0-12.728L138.728,126l25.885-25.885   C168.127,96.601,168.127,90.902,164.612,87.388z"/>                        </g>                    </svg>                '}]}]);var z=p.getElementByClass(".avp-auto-skip-bar");u+='[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper {cursor: pointer; width: 108px; height: 33px; position: absolute; right: 7px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper {cursor: pointer; width: 88px; height: 28px; position: absolute; right: 7px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper {cursor: pointer; width: 88px; height: 28px; position: absolute; right: 7px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper {cursor: pointer; width: 62px; height: 20px; position: absolute; right: 3px; overflow: hidden; bottom: 18%; transform: translateY(-18%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper {cursor: pointer; width: 44px; height: 15px; position: absolute; right: 3px; overflow: hidden; bottom: 10%; transform: translateY(-10%);user-select: none;background-color: rgb(0, 0, 0); opacity: 0.75; -webkit-opacity: 0.75; border-radius:4px; box-shadow: white 0px 0px 4px; pointer-events: auto;z-index: 1;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 75px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 60px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 60px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 42px; position: relative;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-auto-skip-container {width: 29px; position: relative; vertical-align: text-top;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 33px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 28px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 28px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 20px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-bar {height: 15px; background-color: purple; z-index: -1; transition: width 250ms ease-out;position: absolute;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 33px;font-size: 19px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 28px;font-size: 16px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 28px;font-size: 16px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 20px;font-size: 12px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-auto-skip-container .avp-auto-skip-button {line-height: 15px;font-size: 9px; text-align: center; display: block;}\n[data-id="'+c+'"][data-avp-ui-size="m"] .avp-auto-skip-wrapper .avp-stay-button {height: 33px; width: 33px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="s"] .avp-auto-skip-wrapper .avp-stay-button {height: 28px; width: 28px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="xs"] .avp-auto-skip-wrapper .avp-stay-button {height: 28px; width: 28px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="xxs"] .avp-auto-skip-wrapper .avp-stay-button {height: 20px; width: 20px;float: left; border-right: #5e4c5d 1px solid;}\n[data-id="'+c+'"][data-avp-ui-size="xxxs"] .avp-auto-skip-wrapper .avp-stay-button {height: 15px; width: 15px;float: left; border-right: #5e4c5d 1px solid;}\n',p.getElementByClass(".avp-stay-button").onclick=function(){p.hideElementByClass(".avp-auto-skip-wrapper"),p.content.firstGesture=!0,z.style.width="0"},p.getElementByClass(".avp-auto-skip-button").onclick=function(){z.style.width="0",p.hideElementByClass(".avp-auto-skip-wrapper"),p.content.nextContent(),p.event(O.Events.ContentNextClicked)},p.content.on("ContentTimeChange",function(){M=p.content.getContentCurrentTime(),L<P+M&&!p.content.firstGesture?(z.style.width=100*M/L+"%",p.showElementByClass(".avp-auto-skip-wrapper"),L<=M&&(z.style.width="0",p.hideElementByClass(".avp-auto-skip-wrapper"),p.content.nextContent())):p.hideElementByClass(".avp-auto-skip-wrapper")});break;case"gui":d.gui.usePoster&&this.appendPoster()}this.addStyle(u)});function c(t,e,i){return t<e?t=e:i<t&&(t=i),t}function u(t){if(isNaN(t))return V;t=Math.round(t);var e=Math.round(t)%60,i=Math.floor(t/60)%60,n=Math.floor(t/60/60)%24,o=Math.floor(t/60/60/24),a=[];return 0<o&&a.push(o),0<n&&((n=n.toString()).length<2&&(n="0"+n),a.push(n)),(i=i.toString()).length<2&&(i="0"+i),a.push(i),(e=e.toString()).length<2&&(e="0"+e),a.push(e),a.jo|$)"))}function N(t,e){n(t,e)||t.classList.add(e)}function s(t,e){n(t,e)&&t.classList.remove(e)}O.prototype.showInnerGUI=function(t,e){var i=0<this.content.getContentDuration(),n=this.content.getContentIndex(this.content.getContent())==this.content.getContentCount()-1,o=!i&&!n,a=this.content.getPaused(),s=!1,r=!1,l=t||!1;this.isEndOfContent()||o||(a?(s=this.config.showUiOnPause||this.content.config.showBigPlayOnPause,r=this.config.showUiOnPause||this.content.config.showBigPrevNextOnPause,l=this.content.config.showTimelineOnPause):(s=this.content.config.showBigPlay,r=this.content.config.showBigPrevNext));var p=com.aniview.player.Utils;(e&&p.isMobile()||(t||e)&&a)&&(l=!0);var d,c=this.content.getPaused()&&i&&this.content.getContentCurrentTime()<=.1;isNaN(c)&&(c=!0),c?(d=this.content.getContent(),this.content.ads.getPrerollSlot(d.slots)&&(r=!1)):this.hideUi(s,r,!1),"none"===this.content.playerOwner&&(r=l=!1);var u=this.content.config.hideLogoOnMouseout&&s;this.showUi(!s,!r,!l,u)},O.prototype.setTitle=function(){var t,e,i,n,o,a;this.config.showTitle&&(t="",e="avp-p-ti",i=this.getElementByClass("."+e),n=this.sharedGui.querySelector("."+e),this.content.getContent().entry&&(this.content.getContent().entry.name&&(t=this.content.getContent().entry.name),o=this.content.getContent().clickthrough,i||(a="right"===this.config.showTitle?"title-right":"title-left",this.inlineToContent&&(this.addElementsTo("#av-inlineToContent",{element:"a",class:e+" avp-pos-abs "+a},!0),n=this.sharedGui.querySelector("."+e)),this.addElementsTo(".avp-p-gui-t",{class:e+" avp-pos-abs "+a}),i=this.getElementByClass("."+e))),i&&(i.innerHTML=t),n&&(n.innerHTML=t,n.removeAttribute("href"),o&&(n.href=o)))},O.prototype.posterEnabled=function(){var t=!1;try{t=this.content.config.gui.usePoster||!this.config.contentAutoLoad}catch(t){}var e=com.aniview.player.Utils;return e.isMobile()&&"ios"==e.getOS()||t},O.prototype.appendPoster=function(){var t,e;i||(t=this.container.getAttribute("data-id"),i=!0,e='[data-id="'+t+'"] .avp-p-gui-poster{ top: 0; left: 0; z-index: -1; position: absolute; width: 100%; height: 100%; background-position: center center; background-repeat: no-repeat; background-size: contain; }\n',this.addElementsTo(this.container,[{class:"avp-p-gui-poster"}]),this.addStyle(e))},O.prototype.setPoster=function(t){var e=this.getPosterElement();e&&t&&t.poster&&("audio"==t.type&&(this.isAudio=!0),e.style.backgroundImage="url("+t.poster+")")},O.prototype.getPosterElement=function(){try{return this.posterEnabled()?this.getElementByClass(".avp-p-gui-poster"):!1}catch(t){}return!1},O.prototype.hidePoster=function(){var t;this.isAudio||(t=this.getPosterElement())&&(this.content.showBigPlayOnPoster=!1,t.style.display="none",t.style.visibility="hidden",this.content.isHidden=!1)},O.prototype.showPoster=function(){var t=this.getPosterElement();t&&(t.style.display="block",t.style.visibility="visible",this.content.isHidden=!0)},O.prototype.hidePlayer=function(){var t=this.content.pos;this.content.isStartMode("WaitForAd")&&(this.content.config.startMode.openAnim&&N(t,"avp-opening-animation"),this.content.config.startMode.showPlayer&&(t.style.height=this.content.config.height+"px")),N(t,"avp-concealed"),this.content.isHidden=!0},O.prototype.openPlayer=function(){var t=this.content.pos;h.isSticky(this.content.config)||(t.style.height=this.content.config.height+"px"),s(t,"avp-concealed"),this.content.isHidden=!1},O.prototype.setDuration=function(t){var e=this.getElementByClass(".avp-p-cn-d-t");e&&(e.innerHTML=u(t))},O.prototype.showSlideCaption=function(t){this.addElementsTo(this.container,{class:"avp-p-sl-cp avp-pos-abs",children:[{class:"avp-p-sl-cp-txt-clip",children:[{class:"avp-p-sl-cp-txt",text:t,width:this.content.getWidth()/2+"px"}]}]}),setTimeout(function(){var t=this.getElementByClass(".avp-p-sl-cp-txt-clip");t&&(t.classList.add("animate-in"),t.addEventListener("animate-in")}))}.bind(this))},O.prototype.addStyle=function(t){var e;t.length&&-1==this.styles.indexOf(t)&&(this.styles.push(t),this.style[0].styleSheet?(e=this.style.length,this.style[e-1].styleSheet.cssText.length?(this.style.push(document.createElement("style")),this.style[e].setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style[e]),this.style[e].styleSheet.cssText=t):this.style[e-1].styleSheet.cssText=t):this.style[0].appendChild(document.createTextNode(t)))},O.prototype.addElementsTo=function(t,e,i,n){if("string"==typeof t?t=i?this.content.container.querySelector(t):this.getElementByClass(t):t.appendChild||(t=null),t){e instanceof Array||(e=[e]);for(var o=[],a=0;a<e.length;a++){var s=e[a],r={},r=s.element?document.createElement(s.element):document.createElement("div");if(n?t.insertBefore(r,t.firstChild):t.appendChild(r),o.push(r),s.class&&(r.className=s.class),s.id&&(r.id=s.id),s.text&&(r.innerText=s.text),s.data)for(var l in s.data)r.setAttribute("data-"+[l],s.data[l]);s.value&&(r.innerHTML=s.value),s.children&&this.addElementsTo(r,s.children,i),s.width&&(r.style.width=s.width)}}},O.prototype.getElementByClass=function(t,e){return e?this.content.container.querySelector(t):this.container.querySelector(t)},O.prototype.getElementsByClass=function(t,e){return e?this.content.container.querySelectorAll(t):this.container.querySelectorAll(t)},O.prototype.setElementDataByClass=function(t,e){var i=this.getElementByClass(t);if(i)for(var n in e)i.setAttribute("data-"+[n],e[n])},O.prototype.disableElementByClass=function(t){var e=this.getElementByClass(t);e&&N(e,"avp-pointer-none")},O.prototype.enableElementByClass=function(t){var e=this.getElementByClass(t);e&&s(e,"avp-pointer-none")},O.prototype.hideElementByClass=function(t,e){var i=this.getElementByClass(t,e);i&&N(i,"avp-hidden")},O.prototype.hideElementsByClass=function(t,e){Array.prototype.forEach.call(this.getElementsByClass(t,e),function(t){N(t,"avp-hidden")})},O.prototype.showElementByClass=function(t,e){var i=this.getElementByClass(t,e);i&&s(i,"avp-hidden")},O.prototype.showElementsByClass=function(t,e){this.getElementsByClass(t,e).dden")})},O.prototype.hasElementass(t)},O.prototype.removeElementByClass=function(t,e){var i=this.getElementByClass(t,e);i&&i.parentNode&&i.parentNode.removeChild(i)},O.prototype.onTimelineOut=function(t){this.seekTime=-1,this.hideElementByClass(".avp-p-tl-mt")},O.prototype.onTimelineMove=function(t){var e,i,n;this.seekTime=-1,0<this.content.getContentDuration()&&((e=this.getElementByClass(".avp-p-tl"))&&(n=c((t.clientX-(i=e.getBoundingClientRect()).left)/i.width,0,1),this.seekTime=n*this.content.getContentDuration(),-1===this.seekTime?this.hideElementsByClass(".avp-p-tl-mt"):(this.showElementsByClass(".avp-p-tl-mt"),e.querySelectorAll(".avp-p-tl-ch").forEach(function(t){var e,i,n,o,a=t.querySelector(".avp-p-tl-mt");a&&(this.content.getContentDuration()?(e=+t.getAttribute("data-start"),i=+t.getAttribute("data-end"),n=c((this.seekTime-e)/(i-e),0,1),a.style.width=100*n+"%",(o=a.querySelector(".avp-p-tl-mt-t"))&&(o.innerHTML=u(this.seekTime),"solid"!==this.content.config.theme&&(n<.5?s:N)(o,"mt-l50"))):a.style.width="0%")}.bind(this)))))},O.prototype.onTimelineClick=function(t){var e,i,n,o;this.content.firstGesture=!0,0<this.content.getContentDuration()&&((e=this.getElementByClass(".avp-p-tl"))&&(n=c((t.clientX-(i=e.getBoundingClientRect()).left)/i.width,0,1)*this.content.getContentDuration(),"carousel"===this.content.getContent().type?(o=this.content.getChapterByContentTime(n),this.content.setContentCurrentTime(o.startTime)):this.content.setContentCurrentTime(n))),this.hideElementsByClass(".avp-p-tl-mt")},O.prototype.handleFirstClick=function(t){this.content.config.handleFirstGesture&&!this.content.firstGesture&&(this.content.firstGesture=!0,this.firstVideoGesture(this.content.tag.video.element,t,this.content.tag.video.getUrl(),!0),this.firstVideoGesture(this.content.tag.video.adsElement,t)),this.content.isStartMode("WaitForAd")&&(this.content.firstSessionPlayed=!0)},O.prototype.firstVideoGesture=function(t,e,i,n){if(t.paused){i=i||t.src,t.removeAttribute("src");try{t.load();t[e]().then(function(){}).catch(function(t){})}catch(t){}t.src=i}else try{t[e]()}catch(t){}},O.prototype.onPlayClick=function(){var t="play",e=this.content.getPaused();e&&(t="pause"),this.handleFirstClick(t),e?(this.hideUi(),this.hidePoster(),this.mobileGuiIsVisible=!1,this.content.play(!0),this.event(O.Events.ContentPlayClicked)):(this.content.pause(!0),this.event(O.Events.ContentPauseClicked))},O.prototype.onPrevClick=function(){if("carousel"===this.content.getContent().type){var t=this.content.getContentCurrentTime(),e=this.content.getCurrentContentChapters(),i=this.content.getChapterIndexByContentTime(t),n=e[i];if(2<t-n.startTime)return void this.content.setContentCurrentTime(n.startTime);var o=e[i-1];if(o)return void this.content.setContentCurrentTime(o.startTime)}this.hideUi(),this.content.prevContent(),this.event(O.Events.ContentPrevClicked)},O.prototype.firstContentPltent()},O.prototype.onNextClick=function(){if("carousel"===this.content.getContent().type){var t=this.content.getContentCurrentTime(),e=this.content.getCurrentContentChapters()[this.content.getChapterIndexByContentTime(t)+1];if(e)return void this.content.setContentCurrentTime(e.startTime)}this.hideUi(),this.content.nextContent(),this.event(O.Events.ContentNextClicked)},O.prototype.onSoundClick=function(t){var e,i;0!=this.config.showVolumeControl?(e=this.getElementByClass(".avp-p-cn-vi"))&&(i=e.value/100,this.content.setVolume(i),0<i?this.content.unmute():this.content.getMuted()?(this.content.setVolume(1),this.content.unmute()):this.content.mute()):this.content.getMuted()?this.content.unmute():this.content.mute()},O.prototype.onFullscreenClick=function(){var t=com.aniview.player.Utils;this.content.config.inappSdk?this.event(O.Events.ContentFullScreenRequest):t.fullscreenEnabled()?this.content.closeFullscreen():(t.isMobile()&&"ios"===t.getOS()&&this.content.unmute(),this.content.openFullscreen())},O.prototype.onFullscreenChange=function(){var t,e,i,n,o=com.aniview.player.Utils;o.fullscreenEnabled()?(this.config.originalWidth=this.content.getWidth(),this.config.originalHeight=this.content.getHeight(),i=o.fixedFullScreenElement?(e=(t=o.getDeviceDimensionsBasedOnOrientation()).width,t.height):(this.content.container.style.position="absolute",e=screen.width,screen.height),this.content.container.style.left="0px",this.content.container.style.right="0px",this.content.container.style.top="0px",this.hideElementByClass(".avp-p-cn-close",!0),this.content.setSize(e,i)):(this.content.container.style.position="",this.content.container.style.left="",this.content.container.style.right="",this.content.container.style.top="",this.showElementByClass(".avp-p-cn-close  ",!0),n=this.content.getPlayerSize(this.content.isPlayerFloating()),this.content.setSize(n.w,n.h))},O.prototype.stateLoading=function(){this.state.loading=!0,s(this.container,"ads-mode"),this.state.ads=!1,this.changeSpinnerState(!0),this.hideUi()},O.prototype.statePlaying=function(){this.state.loading=!1,s(this.container,"ads-mode"),this.state.ads=!1,this.changeSpinnerState(!1),this.hideUi()},O.prototype.statePlayingAd=function(){this.content.isHidden&&this.openPlayer(),this.hidePoster(),this.state.loading=!1,N(this.container,"ads-mode"),this.state.ads=!0,this.changeSpinnerState(!1)},O.prototype.changeSpinnerState=function(t){this.state.showSpinner!=t&&((this.state.showSpinner=t)?(this.showElementByClass(".avp-spinner"),this.hideUi(!1,!1,!1)):this.hideElementByClass(".avp-spinner"))},O.prototype.isEndOfnded()},O.prototype.postInit=function(){var t;"ie"!=com.aniview.player.Utils.getBrowser()||(t=this.getElementByClass(".avp-p-cn-breplay"))&&(t.style.marginLeft="-"+t.clientWidth/2+"px",t.style.marginTop="-"+t.clientHeight/2+"px")},O.prototype.event=function(t,e){var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},O.prototype.listeners={},O.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},O.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++)e[i].call(this,t)},O.prototype.addTimelineStyles=function(){var t=this.container.getAttribute("data-id"),e="",i=this.content.config;"solid"!=i.theme?e+='[data-id="'+t+'"] .avp-p-tl{ left:'+("bottom"===i.timelineMode?"0":"10")+"px; right:"+("bottom"===i.timelineMode?"0":"10")+"px; bottom:"+("bottom"===i.timelineMode?"0":"40")+'px; height:13px; }\n[data-id="'+t+'"][data-avp-ui-size="s"] .avp-p-tl{ bottom:34px; }\n[data-id="'+t+'"][data-avp-ui-size="xs"] .avp-p-tl{ bottom:28px; }\n[data-id="'+t+'"][data-avp-ui-size="xxs"] .avp-p-tl{ bottom:25px; }\n[data-id="'+t+'"][data-avp-ui-size="xxxs"] .avp-p-tl{ bottom:4px; }\n[data-id="'+t+'"] .avp-p-tl-bg, [data-id="'+t+'"] .avp-p-tl-bf, [data-id="'+t+'"] .avp-p-tl-mt, [data-id="'+t+'"] .avp-p-tl-pr{ height:3px; }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ background:rgba(0,0,0,0.5); }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ left:100%; -webkit-transition:0.2s transform; -moz-transition:0.2s transform; -ms-transition:0.2s transform; -o-transition:0.2s transform; transition:0.2s transform; }\n[data-id="'+t+'"] .avp-p-tl-mt-t:after{ left:0; border-width:3px 3px 0 0; -webkit-transition:0.2s all; -moz-transition:0.2s all; -ms-transition:0.2s all; -o-transition:0.2s all; transition:0.2s all; border-color:rgba(0,0,0,0.5) transparent; }\n[data-id="'+t+'"] .avp-p-tl-mt-t.mt-l50{ -webkit-transform:translateX(-100%); transform:translateX(-100%); }\n[data-id="'+t+'"] .avp-p-tl-mt-t.mt-l50:after{ left:auto; right:0; border-width:3px 0 0 3px; }\n                ':e+='[data-id="'+t+'"] .avp-p-tl{ left:10px; right:15px; bottom:13px; height:14px; }\n[data-id="'+t+'"][data-avp-ui-size="s"] .avp-p-tl{ bottom:10px; }\n[data-id="'+t+'"][data-avp-ui-size="xs"] .avp-p-tl{ bottom:7px; }\n[data-id="'+t+'"][data-avp-ui-size="xxs"] .avp-p-tl{ bottom:7px; }\n[data-id="'+t+'"][data-avp-ui-size="xxxs"] .avp-p-tl{ bottom:4px; }\n[data-id="'+t+'"] .avp-p-tl-bg, [data-id="'+t+'"] .avp-p-tl-bf, [data-id="'+t+'"] .avp-p-tl-mt, [data-id="'+t+'"] .avp-p-tl-pr{ height:4px; }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ background:black; right:0; -webkit-transform:translateX(50%); transform:translateX(50%); }\n[data-id="'+t+'"] .avp-p-tl-mt-t:after{ left:50%; margin-left:-3px; border-width:3px 3px 0; border-color:black transparent; }\n                ',e+='[data-id="'+t+'"] .avp-p-tl{ cursor:pointer; display: flex; }\n[data-id="'+t+'"] .avp-p-tl-ch { position: relative; height: 14px; margin-left: 2px; width: 100%; }\n[data-id="'+t+'"] .avp-p-tl-ch:first-child { margin-left: 0; }\n[data-id="'+t+'"] .avp-p-tl-ch:hover { transform: scaleY(2); transition: .1s linear; }\n[data-id="'+t+'"] .avp-p-tl-ch:hover .avp-p-tl-mt-t { transform: scaleY(.5) translate(50%, 100%); opacity: 1; -webkit-opacity: 1; visibility: visible }\n[data-id="'+t+'"] .avp-p-tl-bg, [data-id="'+t+'"] .avp-p-tl-bf, [data-id="'+t+'"] .avp-p-tl-mt, [data-id="'+t+'"] .avp-p-tl-pr{ left:0; bottom:'+("bottom"===i.timelineMode?"0":"5")+'px; background:white; }\n[data-id="'+t+'"] .avp-p-tl-bg{ width:100%; background:rgba(255,255,255,0.2); }\n[data-id="'+t+'"] .avp-p-tl-bf{ width:70%; background:rgba(255,255,255,0.4); }\n[data-id="'+t+'"] .avp-p-tl-mt{ background:rgba(255,255,255,0.7); display: none }\n[data-id="'+t+'"] .avp-p-tl:hover .avp-p-tl-mt{ display: block; }\n[data-id="'+t+'"] .avp-p-tl-mt-t{ pointer-events:none; color:white; font:normal normal normal 11px/22px arial, helvetica, sans-serif; color:white; padding:0 8px; top:-30px; opacity: 0; -webkit-opacity: 0; visibility: hidden; pointer-events: none; }\n[data-id="'+t+'"] .avp-p-tl-mt-t:after{ content:""; -webkit-box-sizing:border-box; box-sizing:border-box; position:absolute; bottom:-3px; border-style:solid; }\n[data-id="'+t+'"] .avp-p-tl-pr{ width:20%; background:'+this.container.getAttribute("data-theme-color")+"; }\n            ",this.addStyle(e)},O.prototype.addTimeline=function(){var t=null,e=this.content.config,i=this;"bottom"===e.timelineMode&&"solid"!=e.theme&&(t={"avp-position":e.timelineMode});var n,o={class:"avp-p-tl-ch",children:[{class:"avp-p-tl-bg avp-pos-abs"},{class:"avp-p-tl-bf avp-pos-abs"},{class:"avp-p-tl-mt avp-pos-abs",children:[{class:"avp-p-tl-mt-t avp-pos-abs"}]},{class:"avp-p-tl-pr avp-pos-abs"}]},a=[],s=this.content.getCurrentContentChapters();s.length&&(n=s[s.length-1].endTime,a=s.map(function(t){var e=(t.endTime-t.startTime)/n*100;return Object.assign({},o,{width:e+"%",data:{start:t.startTime,end:t.endTime}})})),this.addElementsTo("solid"!=e.theme?".avp-p-gui-b":".avp-p-cn-m",{class:"avp-p-tl avp-pos-abs",data:t,children:a}),this.getElementByClass(".avp-p-tl").onclick=function(t){i.onTimelineClick(t)},this.getElementByClass(".avp-p-tl").onmousemove=function(t){i.onTimelineMove(t)}},O.prototype.updateTline()},O.prototype.fixFloatingStyle=function(t,e){var i,n=this.content.getViewability()||{};!e&&h.isSticky(t)||(i=this.content.getPlayerSize(),this.content.pos.style.width=i.w+"px",this.content.pos.style.height=i.h+"px"),(!t.floating||n.inView||"top"!==t.floating.position&&"bottom"!==t.floating.position)&&(!t.sticky||"top"!==t.sticky.position&&"bottom"!==t.sticky.position)||(this.content.container.style.width=B.innerWidth+"px",this.sharedGui.querySelector("#av-inlineToContent").style.left=t.width+"px")},O.prototype.addTextTrackOptions=function(){var n,t,i,e=this.content.getContent();!e.captions||e.captions.length<=0||(n=this,t=[{label:"Off",lang:"-"}].concat(e.captions),i=this.content.tag.video.activeTextTrackIndex+1,this.addElementsTo(".avp-p-cn-r",{class:"avp-p-cn-cc avp-btn",value:this.content.config.customButtons["avp-p-cn-cc"],children:[{element:"span",text:"CC"},{class:"avp-sel avp-pos-abs",children:t.map(function(t,e){return{class:"avp-opt"+(e==i?" avp-act":""),text:t.label||t.lang||"Unknown "+e}})}]}),this.getElementByClass(".avp-p-cn-cc .avp-sel").onclick=function(t){var e=Array.prototype.slice.call(t.currentTarget.children).indexOf(t.target);n.content.setTextTrackByIndex(e)},this.content.tag.video.trackElements.forEach(function(e,i){e&&e.addEventListener("error",function t(){e.removeEventListener("error",t),n.onTextTrackError(i+1)})}))},O.prototype.removeTextTrackn-cc")},O.prototype.setTextTrackOptionByIndex=function(t){var e,i=this.getTextTrackElementOptionByIndex(t);i&&!n(i,"avp-dis")&&((e=this.getElementByClass(".avp-p-cn-cc .avp-act"))&&s(e,"avp-act"),N(i,"avp-act"))},O.prototype.disableTextTrackOptionByIndex=function(t){var e=this.getTextTrackElementOptionByIndex(t);e&&N(e,"avp-dis")},O.prototype.getTextTrackElementOptionByIndex=function(t){if(!(t<0)){var e=this.getElementByClass(".avp-p-cn-cc .avp-sel");return e?e.children[t]:void 0}},O.prototype.onTextTrackError=function(t){this.disableTextTrackOptionByIndex(t),this.setTextTrackOptionByIndex(this.content.tag.video.previousTextTrackIndex+1)}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.events||(t.com.aniview.player.events={});var e=t.com.aniview.player.events.EventDisnts=[]};e.prototype.events=null,e.prototype.hasEventListener=function(t){for(var e in this.events){if(this.events[e].type==t)return!0}return!1},e.prototype.addEventListener=function(t,e,i,n){if(!t)throw"Parameter 'type' must not be undefined";if(!e)throw"Parameter 'callback' must not be undefined";if("function"!=typeof e)throw"Parameter 'callback' must be Function";for(var o in this.events){var a=this.events[o];if(a.type==t&&a.callback==e&&a.context==i&&a.once==n)return}this.events.push({type:t,callback:e,context:i,once:n})},e.prototype.removeEventListener=function(t,e,i,n){for(var o in this.events){var a=this.events[o];if(a.type==t&&a.callback==e&&a.context==i&&a.once==n){this.events.splice(o,1);break}}},e.prototype.dispatchEvent=function(t,e){for(var i=0;i<this.events.length;){var n=this.events[i];n.type==t&&(n.context?n.callback.call(n.context,{type:t,data:e,event:n}):n.callback({type:t,data:e,event:n}),n.once&&(this.events.splice(i,1),i--)),i++}}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.events||(t.com.aniview.player.events={});var e=t.com.aniview.player.events.Events={};e.ContentSourceChanged="ContentSourceChanged",e.ContentTimeChange="ContentTimeChange",e.ContentLoaded="ContentLoaded",e.ContentStarted="ContentStarted",e.ContentSkippableStateChange="ContentSkippableStateChange",e.ContentSizeChange="ContentSizeChange",e.ContentDurationChange="ContentDurationChange",e.ContentRemainingTimeChange="ContentRemainingTimeChange",e.ContentVolumeChange="ContentVolumeChange",e.ContentVideoStart="ContentVideoStart",e.ContentVideoFirstQuartile="ContentVideoFirstQuartile",e.ContentVideoMidpoint="ContentVideoMidpoint",e.ContentVideoThirdQuartile="ContentVideoThirdQuartile",e.ContentVideoComplete="ContentVideoComplete",e.ContentVideoEnded="ContentVideoEnded",e.ContentClickThru="ContentClickThru",e.ContentUserMinimize="ContentUserMinimize",e.ContentUserClose="ContentUserClose",e.ContentPaused="ContentPaused",e.ContentPlaying="ContentPlaying",e.ContentListChanged="ContentListChanged",e.ContentError="error",e.ContentNextClicked="ContentNextClicked",e.ContentPrevClicked="ContentPrevClicked",e.ContentPlayClicked="ContentPlayClicked",e.ContentPauseClicked="ContentPauseClicked",e.ContentChapterChanged="ContentChapterChanged",e.ContentViewabilityChanged="ContentViewabilityChanged",e.ViewablePlayer="ViewablePlayer",e.AdLoaded="AdLoaded",e.AdStarted="AdStarted",e.AdStopped="AdStopped",e.AdSkipped="AdSkipped",e.AdSkippableStateChange="AdSkippableStateChange",e.AdSizeChange="AdSizeChange",e.AdLinearChange="AdLinearChange",e.AdDurationChange="AdDurationChange",e.AdExpandedChange="AdExpandedChange",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdVolumeChange="AdVolumeChange",e.AdImpression="AdImpression",e.AdVideoStart="AdVideoStart",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdInteraction="AdInteraction",e.AdUserAcceptInvitation="AdUserAcceptInvitation",e.AdUserMinimize="AdUserMinimize",e.AdUserClose="AdUserClose",e.AdPaused="AdPaused",e.AdPlaying="AdPlaying",e.AdLog="AdLog",e.AdBid="AdBid",e.AdError="AdError",e.AdClosed="AdClosed",e.VPAIDLoadError="VPAIDLoadError",e.InitContentsSuccess="InitContentsSuccess",e.InitContentsError="InitContentsError",e.ContentCustomMetadataSuccess="ContentCustomMetadataSuccess",e.ContentCustomMetadataError="ContentCustomMetadataError",e.Playlist={PlaylistNextClicked:"PlaylistNextClicked",PlaylistPrevClicked:"PlaylistPrevClicked",PlaylistItemClicked:"PlaylistItemClicked",UpNextAppears:"UpNextAppears",UpNextDisappears:"UpNextDisappears"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.plugins||(t.com.aniview.player.plugins={});var e=t.com.aniview.player.pluginayer=t};e.prototype.events=null,e.prototype.player=null,e.prototype.dispatcher=null;var s="embed.avplayer.com";e.prototype.setCmsMetadata=function(e){var i,n=this;e||reject({message:"No content",code:500}),e.kId&&n.player.config.showTitle&&(e.entry?n.player.changeGUI({contentTitle:e.entry.name}):(e.entry={},(i=new XMLHttpRequest).onreadystatechange=function(){var t;4===this.readyState&&(200===this.status?(t=JSON.parse(i.responseText)).data&&t.data.name&&(e.entry=t.data,n.player.changeGUI({contentTitle:t.data.name}),n.player.dispatcher.event(com.aniview.player.events.Events.ContentCustomMetadataSuccess,t.data)):n.player.dispatcher.event(com.aniview.player.events.Events.ContentCustomMetadataError,{message:"Could not get entry",code:500}))},i.open("GET","//"+s+"/api/video/cmsentry/"+e.kId+"?instanceId="+e.iId+"&format=json",!0),i.send()))},e.prototype.setPlaylist=function(){var o,a=this,t=a.player.config.content.kId,e=a.player.config.content.iId;t&&e&&((o=new XMLHttpRequest).onreadystatechange=function(){var t,e,i,n;4===this.readyState&&(200===this.status&&(t=JSON.parse(o.responseText)).data&&t.data.data?(e=a.player.adConfig,i=t.data.data,n={contents:i=a.player.mergeAdConfigs(i,e),async:!0},a.player.dispatcher.event(com.aniview.player.events.Events.InitContentsSuccess,n)):(n={message:"No playlist",code:500},a.player.dispatcher.event(com.aniview.player.events.Events.InitContentsError,n)))},o.open("GET","//"+s+"/api/video/cmsplaylist/"+t+"/entries/"+e+"?instanceId="+e+"&format=json&player=true",!0),o.send())}}(window),function(r){"use strict";r.com||(r.com={}),r.com.aniview||(r.com.aniview={}),r.com.aniview.player||(r.com.aniview.player={}),r.com.aniview.player.plugins||(r.com.aniview.player.plugins={});var t=r.com.aniview.player.plugins.KalturaAnalytics=function(t,e){this.player=t,function(t,e){for(var i=["endpoint","api","uiConfID","partnerID","sessionID"],n=0;n<i.length;n++)e[i[n]]&&(t.config[i[n]]=e[i[n]])}(this,e),this.config.sessionID=t.getSessionId(),this.registerEvents()};function l(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i.join("&")}Date.now=Daw Date},t.prototype.player=null,t.prototype.config={endpoint:"videostats.panda-os.com",api:"api_v3/index.php",uiConfID:11,partnerID:11,sessionID:11,objectType:"KalturaStatsEvent",apiVersion:3.1,expiry:86400,format:1,ignoreNull:1},t.prototype.eventMap={ContentVideoStart:2,ContentVideoFirstQuartile:4,ContentVideoMidpoint:5,ContentVideoThirdQuartile:6,ContentVideoComplete:7},t.prototype.registerEvents=function(){var o=this;this.player.dispatcher.addEventListener(r.com.aniview.player.video.VideoTag.Events.ContentVideoStart,function(t){var e,i,n=o.eventMap[t.type];isNaN(n)||(e=o.player.getContent(),i={"event:duration":Math.floor(o.player.getContentDuration()),"event:entryId":e.kId},o.sendPixel(n,i),2===n&&o.sendPixel(3,i))})},t.prototype.sendPixel=function(t,e){e=e||{};var i="https://"+this.config.endpoint+"/"+this.config.api+"?",n=r.com.aniview.player.Utils.getTrueDomain(),o={"event:eventType":t,"event:uiconfId":this.config.uiConfID,"event:partnerId":this.config.partnerID,"event:sessionID":this.config.sessionID,"event:referrer":n,service:"stats",action:"collect",apiVersion:this.config.apiVersion,expiry:this.config.expiry,format:this.config.format,ignoreNull:this.config.ignoreNull},a={"event:objectType":this.config.objectType,"event:isFirstInSession":!1};try{o["event:eventTimestamp"]=Date.now()}catch(t){}var s=i+l(o)+"&"+l(e)+"&"+l(a);(new Image).src=s}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var h=t.com.aniview.player.Utils,n="avp_cc_lang",i=t.com.aniview.player.video.BaseVideo=function(){};i.prototype.element=null,i.prototype.trackElements=null,i.prototype.previousTextTrackIndex=-1,i.prototype.activeTextTrackIndex=-1,i.prototype.eventCallback=null,i.prototype.init=function(t,e,i){this.element=i||this.createElement(),this.element.src=t,this.srcUrl=t},i.prototype.addTextTracks=function(t){if(!(!t||t.length<=0||this.trackElements&&0<this.trackElements.length)){this.trackElements||(this.trackElements=[]);var e,o=this,a=0,s=this.element,r=this.trackElements;try{e=localStorage.getItem(n)}catch(t){h.log(t,h.LOG_LEVEL.ERR)}t.forEach(function(t,i){var n;Object.hasOwnProperty.call(t,"type")&&"vtt"!==t.type||(n=document.createElement("track"),t.lang&&(n.srclang=t.lang),"-"==e?a=-1:(e&&t.lang==e||!e&&0==i)&&(a=i),n.kind=t.kind||"captions",n.label=t.label,n.src=t.url,s.appendChild(n),r.push(n),n.addEventListener(Lang()}))}),this.previousTextTrackIndex=this.activeTextTrackIndex,this.activeTextTrackIndex=a;var i=this.getTextTrackElementByIndex(a);i&&(i.default=!0),0<this.trackElements.length&&this.element.setAttribute("crossorigin","anonymous")}},i.prototype.setTextTrackByIndex=function(t){this.previousTextTrackIndex=this.activeTextTrackIndex,this.hideTextTrack(),0<=(this.activeTextTrackIndex=t)&&this.showTextTrack(),this.saveTextTrackLang()},i.prototype.showTextTrack=function(){var t=this.getActiveTextTrack();t&&(t.mode="showing")},i.prototype.hideTebled")},i.prototype.saveTextTrackLang=function(){try{var t=this.getActiveTextTrack();localStorage.setItem(n,t?t.language:"-")}catch(t){h.log(t,h.LOG_LEVEL.ERR)}},i.prototype.getActiveTextTrack=function(){try{return this.element.textTracks[this.activeTextTrackIndex]}catch(t){h.log(t,h.LOG_LEVEL.ERR)}},i.prototype.getTextTrackElementnts[t]},i.prototype.createideo")},i.prototype.event=function(t,e){this.eventCallback&&this.eventCallback(t,e)},i.prototype.dispose=function(){this.element&&(this.element=null),this.trackElements&&(this.trackElements.ild(t)}),this.trackElements.length=0)},i.prototype.elementEventCallbacks={},i.prototype.initEvents=function(){if(!this.eventsInited){this.eventsInited=!0;var i=com.aniview.player.events.Events;this.started=!1,this.isStarted=!1;var t,n=this,o=0,a={},e="ended",s="click",r="durationchange",l="error",p="volumechange",d="playing",c="pause",u="timeupdate";for(t in this.elementEventCallbacks[e]=function(){n.event(i.ContentVideoEnded),n.element&&!a[i.ContentVideoComplete]&&(a[i.ContentVideoComplete]=!0,n.event(i.ContentVideoComplete))},this.elementEventCallbkThru)},this.elementEventCallbacks[r]=function(t){n.element&&n.event(i.ContentDurationChange,n.element.duration)},this.elementEventCallbacks[l]=function(t){if(n.element){if(n.element.error){if(!n.element.error.message)try{n.element.error.message=""}catch(t){}n.element.error.errorInfo="BaseVideo.js - this.elementEventCallbacks[videoEvents.error]"}n.contentErrorSent||(n.contentErrorSent=!0,n.event(i.ContentError,n.element.error))}},this.elementEventCallbacks[p]=function(){n.element&&n.event(i.ContentVolumeChange,n.element.volume)},this.elementEventCallbacks[d]=function(){n.element&&(n.event(i.ContentPlaying),n.isStarted||(n.isStarted=!0,n.event(i.ContentVideoStart),"ios"===h.getOS()&&navigator&&navigator.userAgent&&-1<navigator.userAgent.indexOf("15")&&(n.element.currentTime=n.element.currentTime+1e-4)))},this.elementEventCallbacks[c]=function(){n.element&&!n.element.ended&&n.event(i.ContentPaused)},this.elementEventCallbacks[u]=function(){var t,e;n.element&&(t=n.element.duration,e=n.element.currentTime,o<.25*t&&.25*t<=e?a[i.ContentVideoFirstQuartile]||(a[i.ContentVideoFirstQuartile]=!0,n.event(i.ContentVideoFirstQuartile)):o<.5*t&&.5*t<=e?a[i.ContentVideoMidpoint]||(a[i.ContentVideoMidpoint]=!0,n.event(i.ContentVideoMidpoint)):o<.75*t&&.75*t<=e&&(a[i.ContentVideoThirdQuartile]||(a[i.ContentVideoThirdQuartile]=!0,n.event(i.ContentVideoThirdQuartile))),o=e,n.event(i.ContentTimeChange,o))},this.elementEventCallbacks)this.element.addEventListener(t,this.elementEventCallbacks[t])}},i.prototype.removeAllEventLiks[t])},i.prototype.getPaused=function(){return this.element.paused},i.prototype.getPauseRequested=function(){return this.pauseRequested},i.prototype.getEnded=function(){return this.element.ended},i.prototype.getIsStarted=function(){return this.isStarted},i.prototype.play=function(){var t,e;this.pauseRequested=!1,this.element&&(!h.isMobile()||"ios"!==h.getOS()||(t=h.getOSVersion())&&"9"===t.major&&this.element.load(),-1!==h.getOS().indexOf("tizen")&&(this.element.calledload||(this.element.calledload=!0,this.element.load())),this.initEvents(),(e=this.element.play())&&"function"==typeof e.then&DEBUG)}).catch(function(t){h.log("Exception caught while trying to play video: ",h.LOG_LEVEL.DEBUG),h.log(t,h.LOG_LEVEL.ERR)}))},i.prototypause()},i.prototype.gevolume},i.prototype.setVolume=function(t){0<=t&&(0<(this.element.volume=t)?this.unmute():this.mute())},i.prototype.getMuted=function(){return this.element.muted},i.prototyted=!0},i.prototype.unmute=function(){var t=this.element.paused;this.element.muted=!1,this.element.removeAttribute("muted"),!t&&this.element.paused&&(this.element.muted=!0,this.element.play())},i.prototype.getDuration=function(){return this.element.duration},i.prototypent.src},i.prototype.getCurrTime:0},i.prototype.setCurrentTime=function(t){this.element.currentTime=t},i.prototype.setCurrentTimeAddXSec=function(t){this.getRemainingTime()>t&&(this.element.currentTime+=t)},i.prototype.setCurrentTimeReduceXSec=function(t){this.element.currentTime>=t&&(this.element.currentTime-=t)},i.prototype.getBufTime()},i.prototype.getRemainntTime},i.prototype.toString=function(){return"BaseVideo"},i.prototype.setAy",!0)},i.extends=function(t){for(var e in i.prototype)null==t[e]?t[e]=i.prototype[e]:t["super_"+e]=i.prototype[e]}}(window),function(o){"use strict";o.com||(o.com={}),o.com.aniview||(o.com.aniview={}),o.com.aniview.player||(o.com.aniview.player={}),o.com.aniview.player.video||(o.com.aniview.player.video={});var t=o.com.aniview.player.video.DASHVideo=function(t){com.aniview.player.video.BaseVideo.extends(this)};t.prototype.player=null,t.prototype.ready=!1,t.prototype.played=!1,t.prototype.createElement=function(){var t=this.super_createElement();return com.aniview.player.Utils.isMobile()&&t.setAttribute("autoplay",!0),t},t.prototype.init=function(t,e,i){this.element=i||this.createElement();var n=this;o.dashjs?n.initDASH(t):com.aniview.player.Utils.loadScript(e,function(){n.initDASH(t)})},t.prototype.initDASH=function(t){this.player=dashjs.MediaPlayer().create(),this.player.initialize(this.element,t,!1),this.player.getDebug().setLogToBrowserConsole(!1),this.ready=!0;var e=this;this.player.on(dashjs.MediaPlayer.events.STREAM_INITplay()})},t.isSupported=function(){return o.MediaSource=o.MediaSource||o.WebKitMediaSource,o.MediaSource&&"function"==typeof o.MediaSource.isTypeSupported&&o.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},t.prototype.=null)},t.prototype.play=function(){this.pauseRequested=!1,this.played=!0,this.ready&&(this.initEvents(),this.element.play())},t.prototypause()},t.prototype.toString=function(){return"DASHVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.ErrorVideo=function(t){com.aniview.player.video.BaseVideo.extends(this),this.element=document.createElement("div"),this.element.innerText="This video not supported for this browser",this.element.src=t};e.prototype.element=null,e.prototype.=null)},e.prototype.init=function(t){},e.prototype.getPaused=function(){return!0},e.prototype.getPauseRequested=function(){return!0},e.prototype.play=function(){},e.prototype.pause=function(){},e.prototype.getVolume=function(){return 0},e.prototype.setVolume=function(t){},e.prototype.getMuted=function(){return!0},e.prototype.mute=function(){},e.prototypeion(){},e.prototype.getDuration=function(){return 0},e.prototype.getCurrentTime=function(){return 0},e.prototype.setCurrentTime=function(t){},e.prototype.getBufferTime=function(){return 0},e.prototype.getRemainingTime=function(){return 0},e.prototype.toString=function(){return"ErrorVideo"}}(window),function(s){"use strict";s.com||(s.com={}),s.com.aniview||(s.com.aniview={}),s.com.aniview.player||(s.com.aniview.player={}),s.com.aniview.player.video||(s.com.aniview.player.video={});var r=s.com.aniview.player.Utils,t=s.com.aniview.player.video.HLSVideo=function(t){this.shouldPause=!1,com.aniview.player.video.BaseVideo.extends(this),t.trackTraffic&&(this.publisherId=t.publisherId),this.paramsObject=t};t.prototype.player=null,t.prototype.ready=!1,t.prototype.state="none",t.prototype.started=!1,t.prototype.errorsRecovrTries=0,t.prototype.maxRecoverTries=2,t.prototype.createElement=function(){var t=this.super_createElement();return com.aniview.player.Utils.isMobile(),t},t.prototype.sendContentError=function(t){var e;this.contentErrorSent||(this.contentErrorSent=!0,t&&(e={error:t}),this.event(s.com.aniview.player.video.VideoTag.Events.ContentError,e))},t.prototype.init=function(t,e,i,n){this.element=i||this.createElement(),this.libraryHLS=e,this.libraryConfig=n,this.srcUrl=t,this.contentErrorSent=!1;var o=this;s.Hls?o.initHLS(t):com.aniview.player.Utils.loadScript(this.libHLS(t)})},t.prototypk(t,e)},t.prototype.srcurl!=t},t.prototype.initHLS=function(i){var o,a,t,n=this;if(this.paramsObject&&(this.paramsObject.avTrackData||this.paramsObject.passHLSParams)&&(o=this.paramsObject.passHLSParams&&(i||"").split("?")[1]||"",a=this.paramsObject.avTrackData,t=function(n,t){n.origOpen||(n.origOpen=n.open,n.open=function(){var t,e,i=arguments[1];"string"==typeof i&&(t="",e=-1<i.toLowerCase().indexOf(".m3u8"),o&&!e&&(t+=o),a&&(t+=(t?"&":"")+a),t=t?(-1<i.indexOf("?")?"&":"?")+t:"",arguments[1]=i+t),n.origOpen.apply(n,arguments)})}),Hls.isSupported()&&this.srcChanged(i)){n.log("Instantiating hls player."),this.destroy();n.libraryConfig||(n.libraryConfig={});var e={enableWorker:!0,startLevel:n.libraryConfig.startLevel||-1,autoLoadStart:!1,maxBufferLength:n.libraryConfig.maxBufferLength||9,capLevelToPlayerSize:!1!==n.libraryConfig.capLevelToPlayerSize,ignoreDevicePixelRatio:!0,maxMaxBufferLength:n.libraryConfig.maxMaxBufferLength||10,xhrSetup:t};if(n.libraryConfig.maxMaxBufferLength&&(e.maxMaxBufferLength=n.libraryConfig.maxMaxBufferLength),this.player=new Hls(e),this.player.attachMedia(this.element),e.ignoreDevicePixelRatio)try{Object.defineProperty(this.player.config.capLevelController,"contentScaleFactor",{get:function(){return 1},enumerable:!0,configurable:!0})}catch(t){}this.player.on(Hls.Events.MEDIA_ATTACHED,function(){n.log("Hls.Events.MEDIA_ATTACHED"),n.player.url!=i&&n.player.loadSource(i)}),this.player.on(Hls.Events.MANIFEST_PARSED,function(){if(n.libraryConfig)for(var t in n.libraryConfig)n.libraryConfig.hasOwnProperty(t)&&(n.player[t]=n.libraryConfig[t]);n.log("Hls.Events.MANIFEST_PARSED"),n.ready=!0,n.event(s.com.aniview.player.video.VideoTag.Events.ContentReady),"play"==n.state?(n.log("Hls.play"),n.play()):n.log("that.played == false")}),this.player.on(Hls.Events.ERROR,function(t,e){if(e.fatal){if(1<n.errorsRecovrTries)n.pause(),n.sendContentError(),n.log(e.type+": "+e.details,r.LOG_LEVEL.ERR);else switch(e.type){case Hls.ErrorTypes.NETWORK_ERROR:n.log("fatal network error encountered, try to recover"),e.details!==Hls.ErrorDetails.MANIFEST_LOAD_ERROR&&e.details!==Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&e.details!==Hls.ErrorDetails.MANIFEST_PARSING_ERROR||n.player.loadSource(i),n.player.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:0===n.errorsRecovrTries?(n.log("fatal media error encountered, try to recover"),n.player.recoverMediaError(),n.errorsRecovrTries++):1===n.errorsRecovrTries&&(n.log("fatal media error encountered, try to recover"),n.player.swapAudioCodec(),n.player.recoverMediaError(),n.errorsRecovrTries++);break;default:n.pause(),n.sendContentError(),n.log(e.type+": "+e.details,r.LOG_LEVEL.ERR)}n.errorsRecovrTries++}})}},t.isSu0.2"')},t.prototype.destroy=function(){this.player&&(this.log("Destroying HLS object",r.LOG_LEVEL.DEBUG),this.player.destroy(),this.player=null)},t.prototype.troy()},t.prototype.setState=function(t){this.state=t},t.prototype.play=function(){if(this.pauseRequested=!1,this.setState("play"),this.ready&&(!this.playResult||this.playResult.done)){try{this.shouldPause=!1,this.initEvents(),this.playResult=this.element.play()}catch(t){this.log("Video play error. "+t,s.com.aniview.player.Utils.LOG_LEVEL.ERR)}var i,n;this.playResult&&"function"==typeof this.playResult.then&&(i=this,n=setTimeout(function(){i.sendContentError()},2e4),this.playResult.then(function(){i.shouldPause&&(i.shouldPause=!1,i.element.pause()),i.log("Video promise - start playing",r.LOG_LEVEL.DEBUG),clearTimeout(n),i.playResult.done=!0}).catch(function(t){var e;i.log("Exception caught while trying to play video: "+t,r.LOG_LEVEL.DEBUG),t&&"NotAllowedError"===t.name&&0==i.element.muted&&(i.element.muted=!0,e="NotAllowedError"),clearTimeout(n),i.playResult.done=!0,i.sendContentError(e)}))}},t.prototype.log=function(t,e){var i=com.aniview.player.Utils,n="unknown";try{n=this.element&&this.element.id}catch(t){}i.log("HLSVideo::"+n+" - "+t,e)},t.prototypse=!0)},t.prototype.toString=function(){return"HLSVideo"}}(window),function(e){"use strict";e.com||(e.com={}),e.com.aniview||(e.com.aniview={}),e.com.aniview.player||(e.com.aniview.player={}),e.com.aniview.player.video||(e.com.aniview.player.video={});var t=e.com.aniview.player.video.ImageVideo=function(t){com.aniview.player.video.BaseVideo.extends(this),this.publisherId=t};t.prototype.started=!1,t.prototype.disposed=!1,t.prototype.sed=!0},t.prototype.play=function(){this.started||(this.started=!0,this.element.startAd()),this.super_play()},t.prototype.toString=function(){return"ImageVideo"};function ot(t){return t&&t.complete&&0<t.width&&0<t.height}function at(t,e,i,n,o){var a;null!=Object.defineProperty?(a={enumerable:null==o||o,configurable:!0},i&&(a.get=i),n&&(a.set=n),Object.defineProperty(t,e,a)):(i&&null!=t.__defineGetter__&&t.__defineGetter__(e,i),n&&null!=t.__defineSetter__&&t.__defineSetter__(e,n))}t.prototype.createElement=function(t){this.config={hd:!0,publisherid:this.publisherId?this.publisherId:"55b78633181f4603178b4568",cdnurl:"http://data1.aniview.com/",width:300,height:250};var l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.width="100%",l.style.height="100%",l.style.display="block",l.addEventListener("mousedown",function(t){{var e,i,n,o;I&&0<l.duration&&(e=t.pageX-l.offsetLeft,i=t.pageY-l.offsetTop,(n=it()).x<e&&e<n.x+n.width&&n.y<i&&i<n.y+n.height&&((o=(e-n.x)/n.width)<0?o=0:1<o&&(o=1),l.currentTime=o*l.duration))}});var p=this,d=null,e=1,c=!0,i=!1,u=0,s=0,n=0,h=null,o=!0,g=!1,a=0,r=0,v=0,m=0,f=1,y=1,b=!1,w=null,C=null,x=!1,E=!1,k=null,S=Date.now(),T=0,A=!1,I=!1,L=0,P=!1,M=!1,z=null,B=0,V=0,O=!1,N=!1;l.__id=Date.now();var D=!1,F=!1,U=!1,R=!1,j=p.config.cdnurl,_=null,H=document.createElement("audio"),G=document.createElement("img"),X=document.createElement("canvas");function W(){var t=null;var e=l.children;e&&0<e.length&&(!l.src||""==l.src)&&(t=function(t){for(var e="",i=0;i<t.length;i++)t[i].src&&(-1<t[i].src.indexOf("wmv")||-1<t[i].src.indexOf("webm")||-1<t[i].src.indexOf("mp4")||-1<t[i].src.indexOf("flv")||-1<t[i].src.indexOf("3gpp"))&&(e=t[i].src,i=t.length);return e}(e)),t&&""!=t||(t=l.getAttribute("src")),t&&""!=t||(t=l.src),t&&(l.src=t)}var q=setInterval(W,250),Z={startAd:function(){D=!0},load:function(){W(),null!=l.src&&""!=l.src&&(F||(M=!(P=!(A=!(F=!(T=0)))),z=null,Q()))},init:function(t){U=t||!1,i=!(c=!(d=null)),g=!(o=!(h=null)),m=v=r=a=n=s=u=0,E=x=b=!(y=f=e=1),k=C=w=null,S=Date.now(),V=B=L=T=0,R=F=D=N=O=M=P=I=A=!1,_=z=null},play:function(){W(),null!=l.src&&""!=l.src&&(g=!0,D?o&&(this.asid,o=!1,u>=this.duration&&(u=0),E&&x&&!c&&H.play(),1==O&&(Y("play"),Y("playing")),this.enterFrame=function(){var t,e;p.disposed||(t=Date.now(),e=c?100:t-S,function(){var t=0==a?l.clientWidth:a,e=0==r?l.clientHeight:r;t=Math.floor(t),e=Math.floor(e);var i=!1;X.width!=t&&(X.width=t,i=!0);X.height!=e&&(X.height=e,i=!0);i&&Y("resize")}(),nt(),$(),function(t){{var e;0<l.duration&&(o||(e=!1,P?(e=et(4))&&(P=!1):(e=et(1))||(P=!0),E&&!c?e?(H.paused&&!H.ended&&H.play(),H.currentTimeLast&&(H.currentTimeLast==H.currentTime&&(V+=t),H.currentTimeLast<H.currentTime&&(V=0)),H.currentTimeLast=H.currentTime,(u=H.currentTime+V)>l.duration&&(u=l.duration)):H.paused||H.pause():e&&(u+=t*y)),!o&&u>=l.duration&&(b?(tt(0),l.play()):(tt(l.duration),Y("timeupdate"),N=!0,Y("ended"),l.pause())),o&&0==u&&G.src?function(){if(ot(G)){var t=Math.min(X.width/G.width,X.height/G.height),e=G.width*t,i=G.height*t;try{X.getContext("2d").drawImage(G,0,0,G.width,G.height,.5*(X.width-e),.5*(X.height-i),e,i)}catch(t){}}}():(function(){var t=u;c||(t+=.4);if(k&&k.length&&z){var e=Math.floor(t);if(null!=k[e]){var i=k[e].image;if(ot(i)){var n=Math.floor(10*(t-e)),o=e+"_"+n;if(h!=o){h=o;var a=Math.round(i.height/z.height);if(n<a){var s=Math.min(X.width/z.width,X.height/z.height),r=z.width*s,l=z.height*s;1!=p.config.fullframe&&!U||(r=p.config.width,l=p.config.height),X.width<X.height&&(r=X.width,l=X.height);try{0==O&&(O=!0,Y("play"),Y("playing")),X.getContext("2d").drawImage(i,0,z.height*n,z.width,z.height-1,.5*(X.width-r),.5*(X.height-l),r,l)}catch(t){}}}}}}}(),function(){if(I&&0<l.duration){var t=it();try{var e=X.getContext("2d");e.fillStyle="#999999",e.fillRect(t.x,t.y,t.width,t.height);for(var i=0;i<l.buffered.length;i++){var n=l.buffered.begin(i)/l.duration,o=l.buffered.end(i)/l.duration;n<0?n=0:1<n&&(n=1),o<0?o=0:1<o&&(o=1),e.fillStyle="#dddddd",e.fillRect(t.x+t.width*n,t.y,t.width*(o-n),t.height/2)}var a=l.currentTime/l.duration;a<0?a=0:1<a&&(a=1),e.fillStyle="#dd0000",e.fillRect(t.x,t.y+t.height/2,t.width*a,t.height/2)}catch(t){}}}()),L+=t,R||0!=u||(R=!0,Y("timeupdate")),.3<L&&(L=0,n!=u&&(n=u,Y("timeupdate"))))}}(.001*e),S=t,o||(c?B=setTimeout(l.enterFrame,96):st(l.enterFrame)))},l.canvasAppended||(l.appendChild(X),l.canvasAppended=!0),this.enterFrame()):this.asid)},pause:function(){o||(this.asid,o=!0,E&&H.pause(),0<B&&(clearTimeout(B),B=0),Y("pause"))},addTen null},canPlayType:function(t){var e="";switch(t){case"video/mp4":case"video/webm":case"video/x-flv":case"video/3gpp":case"video/x-ms-wmv":e="probably";break;default:e=""}return e},get_buffered:function(){var e=[];if(k&&k.length)for(var t=null,i=0;i<k.length;i++)ot(k[i].image)?(t||((t={}).begin=i,e.push(t)),t.end=i+1):t=null;return{start:function(t){return t<e.length?e[t].begin:0},end:function(t){return t<e.length?e[t].end:0},length:e.length}},get_videoWidth:function(){return v},get_videoHeight:function(){return m},get_audioTracks:function(){return{begin:function(t){returntion:0},length:x?1:0}},get_poster:function(){return G.src},set_poster:function(t){null==t&&(t=""),G.src!=t&&(G.src=t)},get_autoplay:function(){return g},set_autoplay:function(t){g=t},get_controller:function(){return null},get_controls:function(){return I},set_controls:function(t){I=t},get_crossOrigin:function(){return null},get_currentSrc:function(){return d},get_currentTime:function(){return u},set_currentTime:function(t){tt(t),t!=l.duration&&(N=!1),Y("seeking"),Y("seeked")},get_defaultMuted:function(){return i},set_defaultMuted:function(t){i=t},get_defaultPlaybackRate:function(){return f},set_defaultPlaybackRate:function(t){f=t},get_duration:function(){if(C){var t,e,i=0;return k&&k.length&&(ot(t=k[k.length-1].image)&&z&&(0<(e=Math.round(t.height/z.height))&&(i=e/10))),C.total-1+i}return 0},get_ended:function(){return N},get_loop:function(){return b},set_loop:function(t){b=t},get_mediaGroup:function(){return{length:0}},get_muted:function(){return c},set_muted:function(t){c=t,nt(),p.config.nosndrewind&&(E=!0),!x||E||c||N||(E=!0,this.currentTime=0,this.pause(),this.play()),E&&(c?H.paused||(H.pause(),u=H.currentTime+.4):H.paused&&(H.currentTime=u-.4,o||N||H.play()))},get_networkState:function(){return 0},get_paused:function(){return o},get_playbackRate:function(){return y},set_playbackRate:function(t){y!=t&&(y=t,Y("ratechange"))},get_played:function(){return 0==u?{length:0}turn 0},end:function(t){if(0==t)return u},length:1}},get_preload:function(){return"auto"},set_on(t){},get_readyState:function(){return s},get_seekable:function(){return{length:0}},get_turn!1},get_src:function(){return d},set_src:function(t){d!=t&&(this.asid,null!=(d=t)&&""!=d?(clearInterval(q),this.load()):F=!1)},get_startDate:function(){return w},get_texgth:0}},get_videoTracks:function(){returturnration},length:0<this.duration?1:0}},get_volume:function(){return e},set_volume:function(t){t<0?t=0:1<t&&(t=1),e!=t&&(0<t&&!O||(0==(e=t)&&(this.muted=!0),nt(),Y("volumechange")))},get_width:function(){return X.width},set_width:function(t){X.width=t},getheight},setight=t},get_error:function(){return _},set){_=t},get_nodeName:function(){return"VIDEO"}};function J(){return p.config.hd&&C&&"true"==String(C.HD).toLowerCase()}function Y(t){l.asid;var e="on"+t;"function"==typeof l[e]&&l[e]();var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),l.dispatchEvent(i)}function Q(){if(null!=d&&""!=d){if(30<++T)return _={code:1,message:"timeout waiting for image video"},void Y("error");!function(){k=C=null,o=!(x=!1),u=0,y=f,H.pause(),H.src="",i&&(c=i);try{X.getContext("2d").clearRect(0,0,X.width,X.height)}catch(t){}}();var r=function(t,e){function i(t){for(var e=0,i="",n=0;n<t.length;n++){e+=t.charCodeAt(n)*n,n%13==0&&(i+=e.toString(),e=0)}return i+=e.toString(),i+="_"+t.length}var n=(t=t.replace(/\https/g,"http")).toUpperCase();{if(-1<n.search(".MP4")||-1<n.search(".FLV")||-1<n.search(".3GP")||-1<n.search(".WMV")||-1<n.search(".WEBM")){var o,a,s,r,l="";return-1<t.search("/videoplayback/")&&-1<t.search("/id/")&&-1<t.search("/itag/")&&-1<t.search("/source/")&&-1<t.search("/ip/")&&(o=t.search("ip/"),t=t.substr(0,o)),-1<(l=t.indexOf("90minContentId"))&&((a=t.substring(l+15,l+100))&&2<a.length&&-1<(l=a.indexOf("&"))&&(a=a.substring(0,l)),t="http://90min.com/"+a+"/"+a+"/"+a+"/"+a),"string"==typeof e&&2<e.length&&(t=e),-1<t.indexOf("track.eyeviewads.com")&&(p="",-1<(d=t.indexOf("madid="))&&(d+=6,c=t.substring(d,d+100),-1<(d=c.indexOf("&"))&&(p=c.substring(0,d)),p&&2<p.length&&(t="http://track.eyeviewads.com/madid/"+p+"/"+p+"/"+p+"/"+p+"/"+p))),-1<t.indexOf("eyeviewads")?(s="",-1<n.search(".MP4")?s=".mp4":-1<n.search(".FLV")?s=".flv":-1<n.search(".3GP")&&(s=".3gp"),t=(r=t.split(s))[0]+s):-1<t.indexOf("?")&&(t=(r=t.split("?"))[0]),-1<t.indexOf("toboads.com/vast2/agw.php")&&(s="zzzzzzz",-1<n.search(".MP4")?s=".MP4":-1<n.search(".FLV")?s=".FLV":-1<n.search(".WEBM")?s=".WEBM":-1<n.search(".3GP")&&(s=".3GP"),"zzzzzzz"!=s&&(r=n.split(s),t=r[0]+s)),t=i(t)}var p,d,c;return-1<t.indexOf("/www.youtube.com/get_video?")&&(p="",-1<(d=t.indexOf("video_id="))&&(d+=9,c=t.substring(d,d+100),-1<(d=c.indexOf("&"))&&(p=c.substring(0,d)),p&&2<p.length&&(t="http://www.youtube.com/video_id/"+p+"/"+p+"/"+p+"/"+p))),-1<t.indexOf("web.sundaysky.com/create_video")&&(p="",-1<(d=t.indexOf("create_video?id="))&&(d+=16,c=t.substring(d,d+100),-1<(d=c.indexOf("&"))&&(p=c.substring(0,d)),p&&2<p.length&&(t="http://web.sundaysky.com/create_video/video_id/"+p+"/"+p+"/"+p+"/"+p))),t=i(t)}}(d,void 0);Y("waiting"),l.VIDEO_FOLDER_ID=function(t,e){var i=1;if(j="http://data4.aniview.com/","56425b19181f4650718b456c"==t)return"115252";if("55b88d67181f465d3e8b4567"==t)return"41751";for(var n=0;n<e.length;n++)i+=e.charCodeAt(n);switch(i%27){case 1:case 4:case 7:case 10:case 13:case 16:case 19:return"20181";case 2:case 5:case 8:case 11:case 14:case 17:case 20:return"20182";case 3:case 6:case 9:case 12:case 15:case 18:case 21:return"20183";case 22:case 23:case 24:case 25:case 26:case 27:case 0:default:return"20184"}return"20184"}(p.config.publisherid,r),function(t,e,i,n,o){var a,s,r,l;a=(new Date).getTime(),s=o.adfoldermode?n.trim()+"/id.txt":com.aniview.player.Utils.httpsReplace("http://cdn3.aniview.com/")+e+"/"+t+"/id.txt?cb="+a;r=function(t,e,i){var n=new XMLHttpRequest;"withCredentials"in n?(n.open(t,e,!0),1==i&&(n.withCredentials=!0)):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(t,e):n=null;return n}("GET",s,0);r.onload=function(){200==r.status?""!=r.responseText?(l=JSON.parse(r.responseText)).error&&(1==l.error||2==l.error)?i.failure(l):i.success(l):i.failure({error:0}):i.failure(null)},r.(null)},r.send()}(r,l.VIDEO_FOLDER_ID,{success:function(t){if(!p.disposed){v=(C=t).width,m=C.height,X.width=v,X.height=m,z=J()?{width:512,height:288}:{width:300,height:167},t.total,l.duration,s=1,Y("loadstart"),Y("durationchange"),Y("loadedmetadata"),k=[];for(var e=com.aniview.player.Utils.httpsReplace(j),i=0;i<C.total;i++){var n=e+"videos/resources/"+l.VIDEO_FOLDER_ID+"/"+C.id+"/"+(J()?"hd/":"")+"img"+i+".ani",n=p.config.adfoldermode?l.src.trim()+"/"+(J()?"hd/":"")+"img"+i+".ani":com.aniview.player.Utils.httpsReplace(e)+l.VIDEO_FOLDER_ID+"/"+r+"/"+(J()?"hd/":"")+"img"+(i+1)+".ani?pid="+p.config.publisherid+"&type=c";k.push({url:n,image:null})}$();var o=e+"videos/resources/"+l.VIDEO_FOLDER_ID+"/"+C.id+"/"+C.id+".mp3",o=p.config.adfoldermode?l.src.trim()+"/"+C.id+".mp3":com.aniview.player.Utils.httpsReplace(e)+l.VIDEO_FOLDER_ID+"/"+C.id+"/"+C.id+".mp3?pid="+p.config.publisherid+"&type=c";H.oncanplaythrough=function(){x||404==this.status||(x=!0),Y("durationchange"),Y("progress"),l.duration},H.src=o;var a=new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(t){x||404==this.status||(x=!0,Y("progress")),l.duration},a.send(null),g&&l.play()}},failure:function(t){var e,i,n,o,a,s;p.disposed||(t&&null!=t.error?0==t.error?K():(_={code:1,message:"Failed to process image video: "+t.error+":"+d},Y("error")):A?K():(A=!0,e=r,i=p.config,n=encodeURIComponent(d),o="videoURL="+n+"&xchangePartner="+l.VIDEO_FOLDER_ID+"&ADID="+e+"&vast=",a=new XMLHttpRequest,s=com.aniview.player.Utils.httpsReplace("http://add2.aniview.com")+"/cdnorigin/prod/addVideo?pubid="+i.publisherid+"&ADID="+e+"&pl=cpl",a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),as&&K()},a.send(o)))}},l.src,p.config)}}function K(){p.disposed||setTimeout(Q,1e3)}function $(){if(k&&k.length){var t=Math.floor(u),e=Math.floor(t+4);for(e>k.length&&(e=k.length);t<e;){var i=k[t];i.image||(i.image=document.createElement("img"),i.image.onload=function(){M||(M=!0,s=4,Y("canplay"),Y("canplaythrough"),Y("loadeddata")),Y("progress")},i.image.src=i.url),t++}}}function tt(t){u!=t&&((u=t)<0?u=0:u>l.duration&&(u=l.duration),E&&(H.currentTime=u))}function et(t){if(k&&k.length){var e=Math.floor(u),i=Math.floor(e+t);for(i>k.length&&(i=k.length);e<i;){if(!ot(k[e].image))return!1;e++}return!0}return!1}function it(){return{x:5,y:X.height-5-20,width:X.width-10,heiRate=y}return function(t,e){var i=0,n=null,o=null,a=null,s=null,r=[];for(s in e)"get_"==(i=s.substring(0,4))||"set_"==i?(a=s.substring(4),-1==r.indexOf(a)&&(r.push(a),n=e["get_"+a],o=e["set_"+a],"nodeName"==a?t.defineNodeName=function(){try{return at(t,a,n,o),!0}catch(t){return!1}}:at(t,a,n,o))):t[s]=e[s]}(l,Z),l},t.prototype.replaceTag=function(t){if(t&&t.parentNode){var e=this.createTag();return e.id=t.id,e.volume=t.volume,e.muted=t.muted,e.autoplay=t.autoplay,e.controls=t.controls,e.loop=t.loop,e.poster=t.poster,e.style.cssText=t.style.cssText,e.src=t.src,t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e}return t};var st=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimatioe3/60)}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={}),(t.com.aniview.player.video.InitialVideo=function(){com.aniview.player.video.BaseVideo.extends(this),com.aniview.player.Utils.isOneVideoElement()?(this.element=this.createElement(),this.adsElement=this.element):(this.element=this.createElement(),this.adsElement=this.createElement(),this.adsElement.style.position="absolute",this.adsElement.style.left=0,this.adsElement.style.top=0,this.adsElement.style.right=0,this.adsElement.style.bottom=0)}).prototype.toString=function(){return"InitialVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.InlineVideo=function(){com.aniview.player.video.BaseVideo.extends(this)};e.prototype.createElement=function(){var t=this.super_createElement();return t.setAttribute("muted",!0),t},e.prototype.toString=function(){return"InlineVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={}),(t.com.aniview.player.video.Nati(this)}).prototype.toString=function(){return"NativeVideo"}}(window),function(t){"use strict";t.com||(t.com={}),t.com.aniview||(t.com.aniview={}),t.com.aniview.player||(t.com.aniview.player={}),t.com.aniview.player.video||(t.com.aniview.player.video={});var e=t.com.aniview.player.video.SimulateVideo=function(t){com.aniview.player.video.BaseVideo.extends(this)};e.prototype.createElement=function(){var i=!0,n=!1,o=!0,a=!1,s=!0,r=document.createElement("audio"),l=document.createElement("video");l.addEventListener("ci=n=!0}),l.addEventListener("timeying")});var p=Date.now(),d=0,c=null;function u(t){l.dispatchEvent(new CustomEvent(t)),l["on"+t]&&l["on"+t]()}return this.intervalId=setInterval(function(){c!=l.src&&(c=l.src,a=!(s=!(d=0)),r.src=c,r.load(),l.autoplay&&l.play());var t=Date.now(),e=(t-p)/1e3;p=t,!o&&n&&0<l.buffered.length&&l.buffered.end(0)>d&&(d+=e,i&&(i=!1,l.currentTime=d),d>=l.duration&&(d=l.duration,l.currentTime=d,l.pause(),o=!0,u("ended")))},40),l.super_play=l.play,l.play=function(){l.super_pause(),a&&(r.currentTime=d,r.play()),i=!(o=!1),u("play")},l.super_pause=l.pause,l.pause=function(){l.super_pause(),a&&(r.currentTime=d,r.pause()),i=o=!0,u("pause")},Object.defineProperty(l,"paused",{get:function(){return o}}),Object.defineProperty(l,"muteturn s},set:function(t){s=t,(r.muted=s)||a||(a=!0,o||(d=0,r.play())),u("volumechange")}}),l},e.prototype.dispose=function(){this.super_dispose(),0<this.intervalId&&clearInterval(this.intervalId)},e.prototype.tVideo"}}(window),function(s){"use strict";s.com||(s.com={}),s.com.aniview||(s.com.aniview={}),s.com.aniview.player||(s.com.aniview.player={}),s.com.aniview.player.video||(s.com.aniview.player.video={});var c=s.com.aniview.player.video.VideoTag=function(t){this.listeners={},this.paramsObject=t,this.container=document.createElement("div"),this.container.id="content_"+com.aniview.player.Utils.generateRandomString(),this.video=new s.com.aniview.player.video.InitialVideo,com.aniview.player.Utils.isOneVideoElement()?(this.container.appendChild(this.video.element),this.video.element.removeAttribute("controls"),this.video.element.controls=!1):(this.container.appendChild(this.video.element),this.container.appendChild(this.video.adsElement),this.video.element.removeAttribute("controls"),this.video.adsElement.removeAttribute("controls"),this.video.element.controls=!1,this.video.adsElement.controls=!1),this.listeners={}};c.prototype.container=null,c.prototype.src=null,c.prototype.video=null,c.prototype.eventCallback=null,c.prototype.initiated=!1,c.prototype.videoClass=!1,c.prototype.libraryPath=!1,c.prototype.videoAttributes=[],c.prototype.addVideoAttributes=function(){for(var t,e,i,n=0;n<this.videoAttributes.length;n++)e=(t=this.videoAttributes[n]).field,i=t.value,this.video.element.setAttribute(e,i),this.video.adsElement.setAttribute(e,i),"muted"==e&&(this.video.element[e]=i,this.video.adsElement[e]=i)},c.prototype.setVideoTagConfig=function(t){var e=null,i={};if(this.src=t.src,this.fallback=t.fallback,this.container&&t.src){var n,o,a,s,r=com.aniview.player.Utils,l=null,p=[],d=r.getExtension(t.src);if("m3u8"==d.toLowerCase()||"string"==typeof t.mimetype&&"application/vnd.apple.mpegurl"===t.mimetype.toLowerCase()?(n=document.createElement("video"),"safari"===r.getBrowser()||"ios"===r.getOS()&&""!==n.canPlayType("application/vnd.apple.mpegurl")||("webos"===r.getOS()||"tizen"===r.getOS()&&"4"===r.getOSVersion().major)&&""!==n.canPlayType("application/vnd.apple.mpegurl")?l=com.aniview.player.video.InlineVideo:com.aniview.player.video.HLSVideo.isSupported()&&(l=com.aniview.player.video.HLSVideo,e=this.paramsObject.libraryHLS,i=this.paramsObject.hlsConfig)):"mpd"==d.toLowerCase()?com.aniview.player.video.DASHVideo.isSupported()&&(l=com.aniview.player.video.DASHVideo,e=this.paramsObject.libraryDASH,i=this.paramsObject.dashConfig):l=r.isMobile()&&"webos"!==r.getOS()&&"tizen"!==r.getOS()?"ios"==(o=r.getOS())?10<=(a=r.getOSVersion()).major?com.aniview.player.video.InlineVideo:9<=a.major?com.aniview.player.video.SimulateVideo:com.aniview.player.video.ImageVideo:"android"!=o||53<=(s=r.getChromeVersion())||!s?com.aniview.player.video.InlineVideo:com.aniview.player.video.ImageVideo:com.aniview.player.video.NativeVideo,this.paramsObject.useImageVideo&&r.isMobile()&&(l=com.aniview.player.video.ImageVideo),this.videoClass=l,this.libraryPath=e,this.libraryConfig=i,!l)return void this.event(c.Events.ContentError,{message:"HLS Not Supported",pixelEvent:"c4"});r.isMobile()&&(t.noInlineVideo||(p.push({field:"playsinline",value:!0}),p.push({field:"webkit-playsinline",value:!0})),t.autoPlay&&p.push({field:"muted",value:!0})),t.autoPlay,0==t.volume&&p.push({field:"muted",value:!0}),this.videoAttributes=p}},c.prototype.init=function(t){this.log("init",t.src),this.initiated=!0,this.container&&this.src&&(this.setVideoTagConfig(t),this.initVideo())},c.prototype.isFllback},c.prototype.initVideo=function(){var t,e,i,n;this.videoClass&&(t=this.videoClass,e=this.video.element,i=this.video.adsElement,this.video.removeAllEventListeners(),this.video.dispose(),this.video=new t(this.paramsObject),(n=this.video.toString&&"ImageVideo"==this.video.toString())&&(this.contentImagePlayer&&this.container.removeChild(this.contentImagePlayer),e=null,this.contentImagePlayer=null),this.video.init(this.src,this.libraryPath,e,this.libraryConfig),n&&(this.contentImagePlayer=this.container.appendChild(this.video.element)),this.video.adsElement=i,this.addDefaultsEvents(this.video.element),this.addVideoContentEvents(this.video.element),this.addDefaultsEvents(this.video.adsElement),this.bindEvents())},c.prototype.addVideoContentEvents=function(n){var o=this,a=!1;n.addEventListener("loadedmetadata",function(t,e,i){a=!0,o.event(s.com.aniview.player.video.VideoTag.Events.LoadedMetadata,{duration:n.duration})}),"ios"!=com.aniview.player.Utils.getOS()||o.paramsObject.autoPlay||setTimeout(function(){a||n.error||o.event(s.com.aniview.player.video.VideoTag.Events.LoadedMetadata)},2e3)},c.prototype.addDefaultsEvents=function(t){t.av_evtsadded||(t.style.display="none",t.addEventListener("loadstart",function(){this.style.display="none"}),t.addEventListener("clay=""}),t.av_evtsadded=!0)},c.prototyp=null)},c.prototype.log=function(t,e){var i=com.aniview.player.Utils,n="unknown";try{n=this.container.id}catch(t){}i.log("VideoTag::"+n+" - "+t,e)},c.prototyndex=1},c.prototype.hide=function(){this.container.style.zIndex=-1},c.prototype.bindEvents=function(){var n=this;this.video.eventCallback=function(t,e){!e&&isNaN(e)&&(e={}),t===c.Events.ContentVideoStart&&(e.source=n.src);var i=new CustomEvent(t,{});i.data=e,n.dispatchEvent(i)}},c.prototype.setSize=function(t,e){this.video&&this.video.element&&(this.video.element.width=t,this.video.element.height=e),this.video&&this.video.adsElement&&(this.video.adsElement.width=t,this.video.adsElement.height=e)},c.prototype.clear=function(){if(this.video&&(this.video.dispose(),this.video=null),this.container)for(;this.container.childNodes.length;)this.container.removeChild(this.container.childNodes[0])},c.Events={},c.Events.ContentError="error",c.Events.ContentTimeChange="ContentTimeChange",c.Events.ContentSourceChanged="ContentSourceChanged",c.Events.ContentLoaded="ContentLoaded",c.Events.ContentReady="ContentReady",c.Events.ContentStarted="ContentStarted",c.Events.ContentSkippableStateChange="ContentSkippableStateChange",c.Events.ContentSizeChange="ContentSizeChange",c.Events.ContentDurationChange="ContentDurationChange",c.Events.ContentRemainingTimeChange="ContentRemainingTimeChange",c.Events.ContentVolumeChange="ContentVolumeChange",c.Events.ContentVideoStart="ContentVideoStart",c.Events.ContentVideoFirstQuartile="ContentVideoFirstQuartile",c.Events.ContentVideoMidpoint="ContentVideoMidpoint",c.Events.ContentVideoThirdQuartile="ContentVideoThirdQuartile",c.Events.ContentVideoComplete="ContentVideoComplete",c.Events.ContentVideoEnded="ContentVideoEnded",c.Events.ContentClickThru="ContentClickThru",c.Events.Click="click",c.Events.ContentUserMinimize="ContentUserMinimize",c.Events.ContentUserClose="ContentUserClose",c.Events.ContentPaused="ContentPaused",c.Events.ContentPlaying="ContentPlaying",c.Events.ContentViewabilityChanged="viewabilityChanged",c.Events.ContentHLSError="contentHLSError",c.Events.ContentHLSRecoverTry="contentHLSRecoverTry",c.Events.LoadedMetadata="loadedmetadata",c.getExternalEvents=function(){var t=[];return t.push(c.Events.ContentVideoStart),t.push(c.Events.ContentVideoFirstQuartile),t.push(c.Events.ContentVideoMidpoint),t.push(c.Events.ContentVideoThirdQuartile),t.push(c.Events.ContentVideoComplete),t.push(c.Events.ContentPaused),t.push(c.Events.ContentPlaying),t},c.prototype.event=function(t,e){var i=new CustomEvent(t,{});i.data=e,this.dispatchEvent(i)},c.prototype.listeners=null,c.prototype.addEventLush(e)},c.prototype.removeEventListener=function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,o=i.length;n<o;n++)if(i[n]===e)return i.splice(n,1),this.removeEventListener(t,e)},c.prototype.dispatchEvent=function(t){if(t.type in this.listeners)for(var e=this.listeners[t.type],i=0,n=e.length;i<n;i++)e[i].call(this,t)}}(window);