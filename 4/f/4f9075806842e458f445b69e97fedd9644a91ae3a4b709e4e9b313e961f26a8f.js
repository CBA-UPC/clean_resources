var AssetsLiabilities=function(){function u(n,t,r,u){function st(){var i=d3.max(t,function(n){return n.year});for(var n in r)s._[i]!==null&&(r[n].name==="Year"?f.select("#value"+r[n].name).text(s._[i].year):f.select("#value"+r[n].name).text(currency(s._[i].values[n-1])))}function ht(){var t=d3.round(w.invert(d3.mouse(this)[0]-k)),u=" ",n,e;for(i=0;i<dataViz.length;i++)if(dataViz[i].fiscalYearEnd===t){u=dataViz[i].form_type;break}if(s._[t]&&u!=="X")for(n in r)r[n].name==="Year"?f.select("#value"+r[n].name).text(s._[t].year):f.select("#value"+r[n].name).text(currency(s._[t].values[n-1]));else for(e in r)f.select("#value"+r[e].name).text("")}var o,g,nt,et,ot,f,s,h;if(t!==undefined&&t.length!==0){var y=400,c=175,a={top:c*.1,right:80,bottom:c*.3,left:80},e=c-a.bottom,p=a.top,v=a.left,b=y-a.right,tt=b-v,it=e-p,lt=it/2,k=10,l=createSvg(n+"-graph",y,c).attr("viewBox","0 0 "+y+" "+c).attr("min-height",c+"px"),rt=createSvg(n+"-legend",200,60),w=d3.scale.linear().domain(d3.extent(t,function(n){return n.year})).range([v,b]),at=d3.scale.ordinal().domain([0,1]),ut=d3.min(t,function(n){return n.year}),ft=d3.max(t,function(n){return n.year}),d=d3.svg.axis().scale(w).tickFormat(function(n){return Math.ceil(n)===n?"'"+yearPartFormatter(n%100):""}).ticks(ft-ut);l.append("g").attr("class","x-axis").attr("transform","translate(0,"+e+")").call(d).call(function(n){return n.select(".domain").remove()});o=d3.scale.linear().domain([d3.min(t,function(n){return Math.min(n.values[0],n.values[1],0)}),d3.max(t,]).range([e,p]);l.append("g").attr("class","x-axis zero").attr("transform","translate(0,"+o(0)+")").call(d.tickFormat("").tickSize(0));g=d3.svg.axis().scale(o).orient("left").tickFormat(.ticks(5);l.append("g").attr("class","y-axis").attr("transform","translate("+v+",0)").call(g).call(;nt=l.selectAll(".state").data(t).enter().append("g").attr("class","focus").attr("transform",;nt.selectAll("rect").data(function(n){return n.values}).enter().append("rect").attr("class",.attr("x",.attr("width",k).attr("y",function(n){return n<0?o(0):o(n)}).attr("height",;et=d3.select("body").append("div").attr("class","tool-tip");ot=l.append("g").attr("class","focus");l.append("rect").attr("x",v).attr("y",p).attr("width",tt).attr("height",e).style("fill","none").style("pointer-events","all").on("mousemove",ht);f=rt.append("g").attr("class","legend");s=d3.map(t,function(n){return n.year});h=u?[{x:25,y:e+45},{x:25,y:e+65},{x:25,y:e+85}]:[{x:0,y:0},{x:0,y:20},{x:0,y:40}];f.selectAll(".source").data(r).enter().append("g").attr("class","source").attr("id",function(n){return"source"+n.name}).append("text").attr("x",function(n,t){return h[t].x+24}).attr("y",function(n,t){return h[t].y+10}).text(;f.selectAll("g.source").data(r).append("text").attr("id",function(n){return"value"+n.name}).attr("x",function(n,t){return h[t].x+100}).attr("y",function(n,t){return h[t].y+10}).text("0");f.selectAll("g.source").data(r).append("rect").attr("x",function(n,t){return h[t].x}).attr("y",.attr("width",20).attr("class",.attr("height",.attr("id",;try{st()}catch(ct){ErrorHandler(ct)}}}var n,t;try{$("#assets-liabilities-data").each(function(t,i){n=JSON.parse(i.value).slice(-10)});t=[{name:"Year"},{name:"Assets"},{name:"Liabilities"}];try{u("#assets-liabilities",n,t,!1)}catch(r){ErrorHandler(r)}}catch(r){console.error("Error in assetsAndLiabilities",r)}}()