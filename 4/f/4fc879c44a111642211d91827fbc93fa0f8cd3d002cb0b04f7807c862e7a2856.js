(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1382],{19860:function(t,e,n){var r=n(27061);!function(){var t={4184:8679:6103:1296:2705:6029:4239:3325:1957:9607:2333:5639:6557:7005:3448:6162:4779:6173:5776:function(t,e,n){"use strict";n.d(e,{wA:function(){return w},HY:function(){return m},kr:function(){return D},az:function(){return g},ZP:function(){return ne},Gp:function(){return xt},sY:function(){return Dt},uy:function(){return te},I4:function(){return lt},qp:function(){return ct},d4:function(){return it},Ye:function(){return ut},_Y:function(){return ot},sO:function(){return st},eJ:function(){return rt}});var r,o,i,a,s,u,l,c,d={},p=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;unction v(t){var e=t.parentNode;e&&e.removeChild(t)}nction m(t){return t.children}){return this.l[t.type+!1](o.event?o.event(t):t)}={__e:,i=0,w.prototype.setState=w.prototype.forceUpdate=w.prototype.render=m,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=x.__r=0,c=0;var W,H,Q,F,G=0,$=[],Y=[],J=o.__b,K=o.__r,X=o.diffed,tt=o.__c,et=o.unmount;r=o.diffed=o.__c=o.unmount=var pt="function"==typeof requestAnimationFrame;ion _t(t,e){for(var n in e)t[n]=e[n];return t}.prototype=new w).isPureReactComponent=!0,bt.prototype.shouldComponentUpdate=var It=o.__b;o.__b=var St="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;ar Ct=Tt={map:Ct,forEach:Ct,count:only:toArray:P},Pt=o.__e;o.__e=var kt=o.unmount;nction At(){this.__u=0,this.t=null,this.__b=null}unction Ot(){this.u=null,this.o=null}o.unmount=(At.prototype=new w).__c=At.prototype.componentWillUnmount=At.prototype.render=var Mt=t.prototype=new w).__a=Ot.prototype.render=Ot.prototype.componentDidUpdate=Ot.prototype.componentDidMount=var Lt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,qt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,jt=/[A-Z0-9]/g,Bt="undefined"!=typeof document,Vt=.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(();var Wt=o.event;function Ht(){}function Qt(){return this.cancelBubble}.event=var Gt,$t={enumerable:!1,configurable:!0,get:function(){return this.class}},Yt=o.vnode;o.vnode=var Jt=o.__r;o.__r=var Kt=o.diffed;iffed=var ne={useState:rt,useId:useReducer:ot,useEffect:it,useLayoutEffect:at,useInsertionEffect:at,useTransition:useDeferredValue:function(t){return t},useSyncExternalStore:startTransition:ee,useRef:st,useImperativeHandle:useMemo:ut,useCallback:lt,useContext:ct,useDebugValue:version:"17.0.2",Children:Tt,render:Dt,hydrate:unmountComponentAtNode:te,createPortal:createElement:g,createContext:D,createFactory:function(t){return g.bind(null,t)},cloneElement:createRef:Fragment:m,isValidElement:Xt,findDOMNode:Component:w,PureComponent:bt,memo:forwardRef:xt,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:StrictMode:m,Suspense:At,SuspenseList:Ot,lazy:__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:}}}},2703:5697:414:86:663:8660:function(t,e,n){var o;!function(t){!function(e){var o="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(t);oid 0===o.Reflect?o.Reflect=t:i=a(o.Reflect,i),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,o=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,l={create:a?s?has:u?get:u?,c=Object.getPrototypeOf(Function),d="object"==typeof r&&r.env&&"true"===r.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?):Map,f=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?):Set,h=new(d||"function"!=typeof WeakMap?function(){var t=l.create(),n=r();return );ction a(){var t=function(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):i(new Uint8Array(t),t):i(new Array(t),t)}(16);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",n=0;n<16;++n){var r=t[n];4!==n&&6!==n&&8!==n||(e+="-"),r<16&&(e+="0"),e+=r.toString(16).toLowerCase()}return e}}():WeakMap);nction g(t,e,n){var r=y(e,n,!1);return!x(r)&&r.has(t))}(t){var e=P(t,3);return e)?e:e)}unction z(t){return"function"==typeof t}ate",(),t("metadata",(),t("defineMetadata",(),t("hasMetadata",(function(t,e,n){if(!T(e))throw new TypeError;return x(n)||(n=k(n)),v(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!T(e))throw new TypeError;return x(n)||(n=k(n)),g(t,e,n)})),t("getMetadata",(function(t,e,n){if(!T(e))throw new TypeError;return x(n)||(n=k(n)),_(t,e,n)})),t("getOwnMetadata",(),t("getMetadataKeys",(function(t,e){if(!T(t))throw new TypeError;return x(e)||(e=k(e)),b(t,e)})),t("getOwnMetadataKeys",(),t("deleteMetadata",()}(i)}()}(o||(o={}))},1080:6781:function(t,e,n){"use strict";var r;n.d(e,{v:function(){return r}}),function(t){t.start="start",t.center="center",t.end="end"}(r||(r={}))},2918:function(t,e,n){"use strict";n.d(e,{W:function(){return ot}});var r=n(655),o="colors-primary",i="colors-success",a="colors-alert",s={primary:"colors-white-primary",secondary:"colors-white-secondary",tertiary:"colors-white-tertiary"},u={primary:"colors-black-primary",secondary:"colors-black-secondary",tertiary:"colors-black-tertiary"},l="primitives-corner-radius",c="lists-background-color",d={tileSpacing:"row-tile-spacing",startInset:"row-start-inset",endInset:"row-end-inset",scrollIndicatorBackgroundColor:"scroll-indicator-background",scrollIndicatorIcon:"scroll-indicator-icon",scrollIndicatorColor:"scroll-indicator-color"},p={tileSpacing:"grid-tile-spacing",topInset:"grid-top-inset",bottomInset:"grid-bottom-inset",startInset:"grid-start-inset",endInset:"grid-end-inset"},f={textSize:"tile-chip-text-size"},h={readImage:"tile-live-chip-read-image",unreadImage:"tile-live-chip-unread-image",readBackgroundColor:"tile-live-chip-read-background-color",unreadBackgroundColor:"tile-live-chip-unread-background-color",textColor:"tile-live-chip-text-color"},y={textSize:"tile-title-text-size",lineHeight:"tile-title-line-height",alignment:"tile-title-alignment",fontWeight:"tile-title-font-weight"},v={title:{readTextColor:"circular-title-read-text-color",unreadTextColor:"circular-title-unread-text-color"},unreadIndicatorColor:"circular-unread-indicator-color",readIndicatorColor:"circular-read-indicator-color"},g={chip:{alignment:"rectangular-chip-alignment"},title:{textColor:"rectangular-title-color"},padding:"rectangular-tile-padding",unreadIndicator:{image:"rectangular-unread-indicator-image",backgroundColor:"rectangular-unread-indicator-background-color",textColor:"rectangular-unread-indicator-text-color"}},_="button-background-color",m="button-text-color",w="button-text-case",b="button-corner-radius",I="instructions-heading-color",S="instructions-subheading-color",x="instructions-background-color",C={textColor:"instructions-button-text-color",backgroundColor:"instructions-button-background-color"},T={answerTextColor:"poll-answer-text-color",percentBarColor:"poll-percent-bar-color",selectedAnswerBorderColor:"poll-selected-answer-border-color",answeredMessageTextColor:"poll-answered-message-text-color",selectedAnswerBorderImage:"poll-selected-answer-border-image"},P={correctColor:"quiz-correct-color",incorrectColor:"quiz-incorrect-color"},k=n(4363),Z=n(5089),z=n(5998),A=n(8013),E=function(){function t(){this.backgroundColor=null,this.textColor=null,this.textCase=A.q.default,this.cornerRadius=null}return(0,r.gn)([(0,Z.P)(_),(0,z.t)((function(t){return{default:t.colors.white.primary}}))],t.prototype,"backgroundColor",void 0),(0,r.gn)([(0,Z.P)(m),(0,z.t)((function(t){return{default:t.colors.black.primary}}))],t.prototype,"textColor",void 0),(0,r.gn)([(0,Z.P)(w,k.g.textCase)],t.prototype,"textCase",void 0),(0,r.gn)([(0,Z.P)(b,k.g.pixel),(0,z.t)((function(t){return{default:t.primitives.cornerRadius}}))],t.prototype,"cornerRadius",void 0),t}(),O=n(1405),M=function(){function t(){this.primary="#1a1a1a",this.secondary=null,this.tertiary=null}return(0,r.gn)([(0,Z.P)(u.primary)],t.prototype,"primary",void 0),(0,r.gn)([(0,Z.P)(u.secondary),(0,z.t)((function(t){return{default:(0,O.Gz)(t.colors.black.primary,.85)}}))],t.prototype,"secondary",void 0),(0,r.gn)([(0,Z.P)(u.tertiary),(0,z.t)((function(t){return{default:(0,O.Gz)(t.colors.black.primary,.7)}}))],t.prototype,"tertiary",void 0),t}(),U=function(){function t(){this.primary="#ffffff",this.secondary=null,this.tertiary=null}return(0,r.gn)([(0,Z.P)(s.primary)],t.prototype,"primary",void 0),(0,r.gn)([(0,Z.P)(s.secondary),(0,z.t)((function(t){return{default:(0,O.Gz)(t.colors.white.primary,.85)}}))],t.prototype,"secondary",void 0),(0,r.gn)([(0,Z.P)(s.tertiary),(0,z.t)((function(t){return{default:(0,O.Gz)(t.colors.white.primary,.7)}}))],t.prototype,"tertiary",void 0),t}(),R=function(){function t(){this.primary="#1C62EB",this.success="#3bb327",this.alert="#e21219",this.white=new U,this.black=new M}return(0,r.gn)([(0,Z.P)(o)],t.prototype,"primary",void 0),(0,r.gn)([(0,Z.P)(i)],t.prototype,"success",void 0),(0,r.gn)([(0,Z.P)(a)],t.prototype,"alert",void 0),t}(),L=function(){eturn(0,r.gn)([(0,Z.P)(T.answerTextColor),(0,z.t)((function(t){return{default:t.colors.black.primary}}))],t.prototype,"answerTextColor",void 0),(0,r.gn)([(0,Z.P)(T.percentBarColor)],t.prototype,"percentBarColor",void 0),(0,r.gn)([(0,Z.P)(T.selectedAnswerBorderColor),(0,z.t)((function(t){return{default:t.colors.white.tertiary}}))],t.prototype,"selectedAnswerBorderColor",void 0),(0,r.gn)([(0,Z.P)(T.answeredMessageTextColor),(0,z.t)((function(t){return{default:t.colors.white.tertiary}}))],t.prototype,"answeredMessageTextColor",void 0),(0,r.gn)([(0,Z.P)(T.selectedAnswerBorderImage)],t.prototype,"selectedAnswerBorderImage",void 0),t}(),q=function(){function t(){this.correctColor=null,this.incorrectColor=null}return(0,r.gn)([(0,Z.P)(P.correctColor),(0,z.t)((function(t){return{default:t.colors.success}}))],t.prototype,"correctColor",void 0),(0,r.gn)([(0,Z.P)(P.incorrectColor),(0,z.t)((function(t){return{default:t.colors.alert}}))],t.prototype,"incorrectColor",void 0),t}(),N=j=function(){eturn(0,r.gn)([(0,Z.P)(C.textColor),(0,z.t)((function(t){return{default:t.colors.white.primary,dark:t.colors.black.primary}}))],t.prototype,"textColor",void 0),(0,r.gn)([(0,Z.P)(C.backgroundColor),(0,z.t)((function(t){return{default:t.colors.black.primary,dark:t.colors.white.primary}}))],t.prototype,"backgroundColor",void 0),t}(),B=function(){function t(){this.show=!0,this.headingColor=null,this.subHeadingColor=null,this.backgroundColor=null,this.button=new j,this.icons={}}return(0,r.gn)([(0,Z.P)(I),(0,z.t)((function(t){return{default:t.colors.black.primary,dark:t.colors.white.primary}}))],t.prototype,"headingColor",void 0),(0,r.gn)([(0,Z.P)(S),(0,z.t)((function(t){return{default:t.colors.black.secondary,dark:t.colors.white.secondary}}))],t.prototype,"subHeadingColor",void 0),(0,r.gn)([(0,Z.P)(x),(0,z.t)((function(t){return{default:t.colors.white.primary,dark:t.colors.black.primary}}))],t.prototype,"backgroundColor",void 0),t}(),V=function(){eturn(0,r.gn)([(0,Z.P)(p.tileSpacing,k.g.pixel)],t.prototype,"tileSpacing",void 0),(0,r.gn)([(0,Z.P)(p.topInset,k.g.pixel)],t.prototype,"topInset",void 0),(0,r.gn)([(0,Z.P)(p.bottomInset,k.g.pixel)],t.prototype,"bottomInset",void 0),(0,r.gn)([(0,Z.P)(p.startInset,k.g.pixel)],t.prototype,"startInset",void 0),(0,r.gn)([(0,Z.P)(p.endInset,k.g.pixel)],t.prototype,"endInset",void 0),t}(),D=function(){function t(t){this.tileSpacing=8,this.startInset=12,this.endInset=12,this.scrollIndicatorBackgroundColor="white",this.scrollIndicatorColor="rgba(26, 26, 26, 0.7)",this.scrollIndicatorFade=!0,t&&Object.assign(this,t)}return(0,r.gn)([(0,Z.P)(d.tileSpacing,k.g.pixel)],t.prototype,"tileSpacing",void 0),(0,r.gn)([(0,Z.P)(d.startInset,k.g.pixel)],t.prototype,"startInset",void 0),(0,r.gn)([(0,Z.P)(d.endInset,k.g.pixel)],t.prototype,"endInset",void 0),(0,r.gn)([(0,Z.P)(d.scrollIndicatorBackgroundColor)],t.prototype,"scrollIndicatorBackgroundColor",void 0),(0,r.gn)([(0,Z.P)(d.scrollIndicatorColor)],t.prototype,"scrollIndicatorColor",void 0),t}(),W=function(){function t(t){this.row=new D,this.grid=new V,this.backgroundColor=null,t&&Object.assign(this,t)}return(0,r.gn)([(0,Z.P)(c),(0,z.t)((function(t){return{default:t.colors.white.primary,dark:t.colors.black.primary}}))],t.prototype,"backgroundColor",void 0),t}(),H=function(){this.showStoryIcon=!0,this.showShareButton=!0,this.playAllStories=!1,this.icons={}},Q=function(){function t(){this.cornerRadius=4}return(0,r.gn)([(0,Z.P)(l,k.g.pixel)],t.prototype,"cornerRadius",void 0),t}(),F=function(){eturn(0,r.gn)([(0,Z.P)(v.title.readTextColor),(0,z.t)((function(t){return{default:t.colors.black.tertiary,dark:t.colors.white.tertiary}}))],t.prototype,"readTextColor",void 0),(0,r.gn)([(0,Z.P)(v.title.unreadTextColor),(0,z.t)(()],t.prototype,"unreadTextColor",void 0),t}(),G=function(){eturn(0,r.gn)([(0,Z.P)(v.unreadIndicatorColor),(0,z.t)((function(t){return{default:t.colors.primary}}))],t.prototype,"unreadIndicatorColor",void 0),(0,r.gn)([(0,Z.P)(v.readIndicatorColor)],t.prototype,"readIndicatorColor",void 0),t}(),$=function(){eturn(0,r.gn)([(0,Z.P)(g.unreadIndicator.image)],t.prototype,"image",void 0),(0,r.gn)([(0,Z.P)(g.unreadIndicator.backgroundColor),(0,z.t)((function(t){return{default:t.colors.primary}}))],t.prototype,"backgroundColor",void 0),(0,r.gn)([(0,Z.P)(g.unreadIndicator.textColor),(0,z.t)((function(t){return{default:t.colors.white.primary}}))],t.prototype,"textColor",void 0),t}(),Y=function(){eturn(0,r.gn)([(0,Z.P)(g.title.textColor),(0,z.t)((function(t){return{default:t.colors.white.primary}}))],t.prototype,"textColor",void 0),t}(),J=n(6781),K=function(){function t(){this.alignment=J.v.end}return(0,r.gn)([(0,Z.P)(g.chip.alignment)],t.prototype,"alignment",void 0),t}(),X=function(){function t(){this.chip=new K,this.padding=8,this.unreadIndicator=new $,this.title=new Y,this.showWebStoriesIcon=!1,this.showGradient=!1}return(0,r.gn)([(0,Z.P)(g.padding,k.g.pixel)],t.prototype,"padding",void 0),t}(),tt=function(){eturn(0,r.gn)([(0,Z.P)(f.textSize,k.g.pixel)],t.prototype,"textSize",void 0),t}(),et=function(){eturn(0,r.gn)([(0,Z.P)(h.unreadBackgroundColor),(0,z.t)(()],t.prototype,"unreadBackgroundColor",void 0),(0,r.gn)([(0,Z.P)(h.readBackgroundColor),(0,z.t)((function(t){return{default:t.colors.black.tertiary}}))],t.prototype,"readBackgroundColor",void 0),(0,r.gn)([(0,Z.P)(h.unreadImage)],t.prototype,"unreadImage",void 0),(0,r.gn)([(0,Z.P)(h.readImage)],t.prototype,"readImage",void 0),(0,r.gn)([(0,Z.P)(h.textColor),(0,z.t)(()],t.prototype,"textColor",void 0),t}(),nt=function(){function t(){this.textSize=11,this.lineHeight=13,this.alignment=J.v.center,this.fontWeight=700}return(0,r.gn)([(0,Z.P)(y.textSize,k.g.pixel)],t.prototype,"textSize",void 0),(0,r.gn)([(0,Z.P)(y.lineHeight,k.g.pixel)],t.prototype,"lineHeight",void 0),(0,r.gn)([(0,Z.P)(y.alignment,k.g.textAlign)],t.prototype,"alignment",void 0),(0,r.gn)([(0,Z.P)(y.fontWeight)],t.prototype,"fontWeight",void 0),t}(),rt=ot=function(){function t(t){this.colors=new R,this.font="inherit",this.primitives=new Q,this.lists=new W,this.storyTiles=new rt,this.player=new H,this.buttons=new E,this.instructions=new B,this.engagementUnits=new N,this.isDark=!1,t&&this.copyProperties(this,t,[])}return t.prototype.copyProperties=function(t,e,n){var o=this;void 0===n&&(n=[]),Object.keys(e).forEach((function(i){"object"==typeof e[i]&&null!==e[i]?o.copyProperties(t,e[i],(0,r.ev)((0,r.ev)([],n),[i])):o.setNestedThemeProperty(t,e[i],(0,r.ev)((0,r.ev)([],n),[i]))}))},t.prototype.setNestedThemeProperty=function(t,e,n){var r=n[0],o=n.slice(1);o.length?this.setNestedThemeProperty(t[r],e,o):t[r]=e},t.prototype.toPlainObject=(0,r.gn)([(0,Z.P)("font",k.g.any)],t.prototype,"font",void 0),t}()},8013:function(t,e,n){"use strict";var r;n.d(e,{q:function(){return r}}),function(t){t.default="default",t.upper="upper",t.lower="lower"}(r||(r={}))},4010:function(t,e,n){"use strict";n.d(e,{V:function(){return o}});var r=n(2918),o=function(t){void 0===t&&(t=null),this.light=new r.W,this.dark=new r.W,t&&(this.light=new r.W(t.light),this.dark=new r.W(t.dark))}},5887:5601:1288:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(655),o=n(4003),i=n(4611),a=n(1836),s=function(t){function e(e){var n=t.call(this)||this;return n.endpoint="activity/recordActivity",n.method=i.w.post,n.requestContent=e,n.requestContent.externalId=a.Z.userId,n}return(0,r.ZT)(e,t),e.prototype.buildRequestContent=function(){return this.requestContent},e}(o.I),u=function(){function t(){}return t.prototype.createActivityRequestCommand=t}()},9793:function(t,e,n){"use strict";var r=n(655),o=n(1836),i=n(79),a=function(t){function e(e,n,r,o,a,s){var u=t.call(this)||this;return u.activityType=i.T.triviaQuizQuestionAnswered,u.story=a,u.page=s,u.storyIndex=o,u.quiz=e,u.questionId=r,u.answerId=n,u}return(0,r.ZT)(e,t),e.prototype.buildRequestContent=function(){var t,e,n,r,i,a=this;return{activityItemType:this.activityType,externalId:o.Z.userId,pageId:null===(t=this.page)||void 0===t?void 0:t.id,pageIndex:null===(e=this.story)||void 0===e?void 0:e.pages.findIndex((function(t){var e;return t.id===(null===(e=a.page)||void 0===e?void 0:e.id)})),pageType:null===(n=this.page)||void 0===n?void 0:n.type,triviaQuizId:this.quiz.id,triviaQuizTitle:this.quiz.title,triviaQuizQuestionId:this.questionId,triviaQuizAnswerId:this.answerId,storyId:null===(r=this.story)||void 0===r?void 0:r.id,storyIndex:this.storyIndex,storyTitle:null===(i=this.story)||void 0===i?void 0:i.title,storyPlaybackMode:"list"}},e.prototype.buildEventData=function(){var t,e,n,r,o,i,a,s,u,l=this;return{storyId:null===(t=this.story)||void 0===t?void 0:t.id,storyTitle:null===(e=this.story)||void 0===e?void 0:e.title,storyIndex:this.storyIndex,storyPlaybackMode:"list",pageId:null===(n=this.page)||void 0===n?void 0:n.id,pageIndex:null===(r=this.story)||void 0===r?void 0:r.pages.findIndex((function(t){var e;return t.id===(null===(e=l.page)||void 0===e?void 0:e.id)})),pageType:null===(o=this.page)||void 0===o?void 0:o.type,pageHasAction:!!(null===(i=this.page)||void 0===i?void 0:i.swipeUpUrl),pageActionText:null===(a=this.page)||void 0===a?void 0:a.swipeUpText,pageActionUrl:null===(s=this.page)||void 0===s?void 0:s.swipeUpUrl,contentLength:null===(u=this.page)||void 0===u?void 0:u.duration,triviaQuizId:this.quiz.id,triviaQuizTitle:this.quiz.title,triviaQuizQuestionId:this.questionId,triviaQuizAnswerId:this.answerId}},e}(n(1288).Z);e.Z=a},6182:function(t,e,n){"use strict";var r=n(655),o=n(1836),i=n(79),a=function(t){function e(e,n,r,o,a){var s=t.call(this)||this;return s.activityType=i.T.triviaQuizCompleted,s.story=o,s.page=a,s.storyIndex=r,s.quiz=e,s.score=n,s}return(0,r.ZT)(e,t),e.prototype.buildRequestContent=function(){var t,e,n,r,i,a=this;return{activityItemType:this.activityType,externalId:o.Z.userId,pageId:null===(t=this.page)||void 0===t?void 0:t.id,pageIndex:null===(e=this.story)||void 0===e?void 0:e.pages.findIndex((function(t){var e;return t.id===(null===(e=a.page)||void 0===e?void 0:e.id)})),pageType:null===(n=this.page)||void 0===n?void 0:n.type,triviaQuizId:this.quiz.id,triviaQuizTitle:this.quiz.title,triviaQuizScore:this.score,storyId:null===(r=this.story)||void 0===r?void 0:r.id,storyIndex:this.storyIndex,storyTitle:null===(i=this.story)||void 0===i?void 0:i.title,storyPlaybackMode:"list"}},e.prototype.buildEventData=function(){var t,e,n,r,o,i,a,s,u,l=this;return{storyId:null===(t=this.story)||void 0===t?void 0:t.id,storyTitle:null===(e=this.story)||void 0===e?void 0:e.title,storyIndex:this.storyIndex,storyPlaybackMode:"list",pageId:null===(n=this.page)||void 0===n?void 0:n.id,pageIndex:null===(r=this.story)||void 0===r?void 0:r.pages.findIndex((function(t){var e;return t.id===(null===(e=l.page)||void 0===e?void 0:e.id)})),pageType:null===(o=this.page)||void 0===o?void 0:o.type,pageHasAction:!!(null===(i=this.page)||void 0===i?void 0:i.swipeUpUrl),pageActionText:null===(a=this.page)||void 0===a?void 0:a.swipeUpText,pageActionUrl:null===(s=this.page)||void 0===s?void 0:s.swipeUpUrl,contentLength:null===(u=this.page)||void 0===u?void 0:u.duration,triviaQuizId:this.quiz.id,triviaQuizTitle:this.quiz.title,triviaQuizScore:this.score}},e}(n(1288).Z);e.Z=a},5571:function(t,e,n){"use strict";var r=n(655),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="EventEmitter",e}return(0,r.ZT)(e,t),e.prototype.broadcastEvent=function(t,e,n){var r;void 0===e&&(e=null),void 0===n&&(n=document.body),(r="function"==typeof window.CustomEvent||window.CustomEvent.toString().indexOf("CustomEventConstructor")>-1?new CustomEvent(t,{detail:e}):document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e),n.dispatchEvent(r)},e.prototype.on=function(t,e){var n=this;document.addEventListener(t,(function(r){n.logInfo("Received event "+t),e(r.detail)}))},e.sharedInstance=new e,e}(n(2853).b);e.Z=o.sharedInstance},79:function(t,e,n){"use strict";var r;n.d(e,{T:function(){return r}}),r||(r={}))},8288:4051:function(t,e,n){"use strict";var r=n(655),o=n(2853),i=n(353),a=n(79),s=function(t){eturn(0,r.ZT)(e,t),Object.defineProperty(e.prototype,"durationViewed",{get:function(){return this.viewStartTime?(new Date).getTime()-this.viewStartTime.getTime():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pagesViewed",{get:function(){return this._pagesViewed},enumerable:!1,configurable:!0}),e.prototype.recordActivity=function(t,e){try{null==e||e.onUserActivityOccurred(t.activityType,t.buildEventData()),i.Z.executeCommand(t.createActivityRequestCommand())}catch(t){throw t}finally{t.activityType===a.T.openedPage?this._pagesViewed++:t.activityType===a.T.dismissedStory&&(this._pagesViewed=0,this.viewStartTime=null)}},e.sharedInstance=new e,e}(o.b);e.Z=s.sharedInstance},353:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(655),o=n(1080),i=n(5601),a=n(2853),s=function(t){function e(){var n=t.call(this,"JsonParseError - Cannot parse response json")||this;return Object.setPrototypeOf(n,e.prototype),n}return(0,r.ZT)(e,t),e}(Error),u=n(1836),l=n(9934),c=n(4466),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="DataService",e}return(0,r.ZT)(e,t),e.prototype.executeCommand=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getResponseJson(t)];case 1:return e=n.sent(),[2,t.transformResponse(e)]}}))}))},e.prototype.getResponseJson=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n,o,i,a,u,c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:e=this.buildHeaders(),n={method:t.method,body:JSON.stringify(t.buildRequestContent()),headers:e},o=this.buildUrl(t.buildEndpoint()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(o,n)];case 2:return i=r.sent(),[3,4];case 3:throw a=r.sent(),this.logError(a.toString()),l.G.unknown;case 4:if(!i.ok)return[3,10];r.label=5;case 5:return r.trys.push([5,8,,9]),[4,i.text()];case 6:return 0===(u=r.sent()).length?[2,null]:[4,JSON.parse(u)];case 7:return[2,r.sent()];case 8:if(r.sent(),204!==i.status)throw new s;return[2,null];case 9:return[3,12];case 10:return[4,i.text()];case 11:return c=r.sent(),t.handleError(i.status,c),[2,null];case 12:return[2]}}))}))},e.prototype.buildHeaders=function(){return{Accept:"application/json","Content-Type":"text/plain","User-Agent":"Storyteller Javascript SDK - Client [Web] - Version ["+i.q4+"]"}},e.prototype.buildUrl=function(t){var e=u.Z.environment;if(u.Z.customInstanceHost)this.apiBaseUrl=u.Z.customInstanceHost;else switch(e){case o.q.local:this.apiBaseUrl="https://localhost:44342";break;case o.q.dev:this.apiBaseUrl="https://api.dev.usestoryteller.com";break;case o.q.staging:this.apiBaseUrl="https://api.staging.usestoryteller.com";break;case o.q.production:this.apiBaseUrl="https://api.usestoryteller.com"}var n=this.apiBaseUrl+"/api/app/"+t,r=new URL(n);r.searchParams.append("clientPlatform","Web"),r.searchParams.append("clientVersion",i.q4),r.searchParams.append("x-storyteller-api-key",u.Z.apiKey||"");for(var a=0,s=Object.entries(c.Z.getUserAttributes());a<s.length;a++){var l=s[a],d=l[0],p=l[1];r.searchParams.append("userAttributes["+d+"]",p)}return r.searchParams.sort(),r.toString().replace(new RegExp(encodeURIComponent("["),"g"),"[").replace(new RegExp(encodeURIComponent("]"),"g"),"]").replace("clientPlatform","ClientPlatform").replace("clientVersion","ClientVersion")},e.sharedInstance=new e,e}(a.b).sharedInstance},9934:function(t,e,n){"use strict";n.d(e,{G:function(){return o}});var r=n(655),o=function(t){function e(n,r){var o=t.call(this,n?n+" - "+r:r)||this;return o.status=n,Object.setPrototypeOf(o,e.prototype),o}return(0,r.ZT)(e,t),Object.defineProperty(e,"badRequest",{get:function(){return new e(400,"Forbidden")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"unauthorized",{get:function(){return new e(401,"Invalid API Key")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"forbidden",{get:function(){return new e(403,"Forbidden")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"notFound",{get:function(){return new e(404,"Not Found")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"locked",{get:function(){return new e(423,"Locked")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"internalServerError",{get:function(){return new e(500,"Internal Server Error")},enumerable:!1,configurable:!0}),Object.defineProperty(e,"unknown",{get:enumerable:!1,configurable:!0}),e.create=function(t){var n=e.errorMap[t];return n?n():e.unknown},e.errorMap={400:function(){return e.badRequest},401:function(){return e.unauthorized},403:function(){return e.forbidden},404:function(){return e.notFound},423:function(){return e.locked},500:function(){return e.unauthorized}},e}(Error)},4003:function(t,e,n){"use strict";n.d(e,{I:function(){return o}});var r=n(9934),o=function(){function t(){}return t.prototype.buildEndpoint=function(){return this.endpoint},t.prototype.transformResponse=t.prototype.handleError=function(t,e){throw r.G.create(t)},t}()},4611:4321:function(t,e,n){"use strict";n.d(e,{i:function(){return r}});var r=)},3674:function(t,e,n){"use strict";var r=n(5776);e.Z=function(t,e,n){var o=(0,r.sO)();(0,r.d4)((function(){var r=(null==n?void 0:n.current)||window;if(r&&r.addEventListener){o.current!==e&&(o.current=e);var i=function(t){o&&o.current&&o.current(t)};return r.addEventListener(t,i),}),[t,n,e])}},2398:function(t,e,n){"use strict";n.d(e,{w:function(){return r}});var r=,8568:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(655),o=n(3182),i=function(t){function e(e){var n=e.operation,r=t.call(this)||this;return r.messageType=o.C.playerControl,r.data={operation:n},r}return(0,r.ZT)(e,t),e}(n(2398).w)},690:function(t,e,n){"use strict";var r=n(5571),o=function(){eturn t.prototype.intialize=t.prototype.sendMessageToChild=function(t,e){var n=this;t.contentWindow?this.sendMessageCore(t.contentWindow,e):t.onload=,t.prototype.sendMessageToParent=t.prototype.sendMessageCore=function(t,e){null==t||t.postMessage(e,"*")},t.prototype.handleMessage=function(t){var e=t;e.data.isStorytellerMessage&&r.Z.broadcastEvent(e.data.messageType,e.data.data)},t.sharedInstance=new t,t}();e.Z=o.sharedInstance},3182:1836:function(t,e,n){"use strict";var r,o=n(655),i=n(2853),a=n(4321),s=n(4369),u=n(5304);!r||(r={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="DataStorageService",e}return(0,o.ZT)(e,t),Object.defineProperty(e.prototype,"userId",{get:function(){if(s.Z.hasItem(r.userId))return s.Z.get(r.userId);var t=a.i.newGuid();return s.Z.add(r.userId,t),t},set:function(t){t!==s.Z.get(r.userId)&&this.resetUserData(),s.Z.add(r.userId,t||"")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiKey",{get:function(){return this._apiKey||s.Z.get(r.apiKey)},set:enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"environment",{get:function(){return s.Z.get(r.environment)},set:function(t){s.Z.add(r.environment,t),u.Z.environment=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customInstanceHost",{get:function(){return s.Z.get(r.customInstanceHost)},set:function(t){s.Z.add(r.customInstanceHost,null==t?void 0:t.replace(/\/$/,""))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return s.Z.get(r.settings)},set:function(t){s.Z.add(r.settings,t),s.Z.add(r.settingsSavedDate,new Date)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageReadMap",{get:set:function(t){s.Z.add(r.pageReadMap,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pollAnswerMap",{get:function(){return s.Z.get(r.pollAnswerMap)||{}},set:function(t){s.Z.add(r.pollAnswerMap,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polls",{get:function(){return s.Z.get(r.polls)||[]},set:function(t){s.Z.add(r.polls,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quizAnswerMap",{get:function(){return s.Z.get(r.quizAnswerMap)||{}},set:function(t){s.Z.add(r.quizAnswerMap,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quizAnsweredCorrectlyMap",{get:set:function(t){s.Z.add(r.quizAnsweredCorrectlyMap,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quizzes",{get:set:function(t){s.Z.add(r.quizzes,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"forceShowShareButton",{get:function(){return s.Z.get(r.forceShowShareButton)||!1},set:function(t){s.Z.add(r.forceShowShareButton,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasShownInstructions",{get:set:enumerable:!1,configurable:!0}),e.prototype.resetUserData=function(){s.Z.add(r.hasShownInstructions,!1),s.Z.add(r.pageReadMap,{}),s.Z.add(r.pollAnswerMap,{}),s.Z.add(r.polls,[]),s.Z.add(r.quizzes,[]),s.Z.add(r.quizAnswerMap,{}),s.Z.add(r.quizAnsweredCorrectlyMap,{}),s.Z.add(r.forceShowShareButton,!1)},e.sharedInstance=new e,e}(i.b);e.Z=l.sharedInstance},4369:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(655),o=n(2853),i=a=function(t){function e(){var e=t.call(this)||this;e.logTag="LocalStorageService",e._storage={};try{e.localStorageSupported=void 0!==typeof window.localStorage&&null!==window.localStorage}catch(t){e.localStorageSupported=!1}return e}return(0,r.ZT)(e,t),e.prototype.hasItem=function(t){return this.localStorageSupported?null!==localStorage.getItem(t):!!this._storage[t]},e.prototype.add=function(t,e){this.localStorageSupported?localStorage.setItem(t,JSON.stringify(e)):this._storage[t]=e},e.prototype.getAllItems=function(){for(var t=new Array,e=0;e<localStorage.length;e++){var n=localStorage.key(e);if(null!==n){var r=localStorage.getItem(n);t.push(new i({key:n,value:r}))}}return t},e.prototype.getAllValues=function(){for(var t=new Array,e=0;e<localStorage.length;e++){var n=localStorage.key(e);if(null!==n){var r=localStorage.getItem(n);t.push(r)}}return t},e.prototype.get=function(t){if(this.localStorageSupported){var e=localStorage.getItem(t);return null===e?e:JSON.parse(e)}return this._storage[t]||null},e.prototype.remove=function(t){this.localStorageSupported?localStorage.removeItem(t):this._storage[t]=void 0},e.prototype.clear=function(){this.localStorageSupported?localStorage.clear():this._storage={}},e.sharedInstance=new e,e}(o.b).sharedInstance},4363:function(t,e,n){"use strict";n.d(e,{g:function(){return r},F:function(){return i}});var r,o=n(1405);!function(t){t.any="any",t.pixel="pixel",t.textAlign="alignment",t.textCase="textCase"}(r||(r={}));var i=function(t,e){switch(e){case r.pixel:return(0,o.B5)(t);case r.textAlign:return(0,o.iD)(t);case r.textCase:return(0,o.I4)(t);default:return t}}},5089:function(t,e,n){"use strict";n.d(e,{P:function(){return o},E:function(){return i}}),n(8660);var r=n(4363),o=function(t,e){return void 0===e&&(e=r.g.any),function(n,r){Reflect.defineMetadata("cssVariableName",t,n,r),Reflect.defineMetadata("cssVariableType",e,n,r)}},i=function(t,e){return{name:Reflect.getMetadata("cssVariableName",t,e),type:Reflect.getMetadata("cssVariableType",t,e)}}},5998:function(t,e,n){"use strict";n.d(e,{t:function(){return r},p:function(){return o}});var r=function(t){return ,o=function(t,e,n,r){var o=Reflect.getMetadata("fallbackFun",t,e)(n);return r&&o.dark||o.default}},8312:function(t,e,n){"use strict";var r;n.d(e,{m5:function(){return r},Ux:function(){return o},sF:function(){return i}}),function(t){t.ltr="ltr",t.rtl="rtl"}(r||(r={}));var o=i=function(){return o()}},1405:function(t,e,n){"use strict";n.d(e,{yG:function(){return s},qK:function(){return u},B5:function(){return l},iD:function(){return c},I4:function(){return d},Gz:function(){return p},b1:function(){return f}});var r=n(655),o=n(6781),i=n(8013),a=n(8312),s=function(t){return"--storyteller-"+t},u=function(t){return Object.keys(t).reduce((function(e,n){var o;return(0,r.pi)((0,r.pi)({},e),((o={})[s(n)]=t[n],o))}),{})},l=c=function(t){switch(t){case o.v.center:return"center";case o.v.start:return(0,a.Ux)()===a.m5.ltr?"left":"right";case o.v.end:return(0,a.Ux)()===a.m5.ltr?"right":"left"}},d=p=function(t,e){var n=t.replace("#","");return n.length>6&&(n=n.substr(0,6)),"#"+n+Math.round(255*Math.min(Math.max(e||1,0),1)).toString(16).toUpperCase()},f=function(){return("ontouchstart"in window||navigator.maxTouchPoints>0)&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},7375:function(t,e,n){"use strict";n.d(e,{V:function(){return i}});var r=n(2918),o=n(5998),i=function(){function t(t,e){void 0===e&&(e=null),this.isDark=t;var n=this.isDark?null==e?void 0:e.dark:null==e?void 0:e.light;this.theme=new r.W(n)}return t.prototype.build=function(){return this.setFallbacks(this.theme),this.theme.isDark=this.isDark,this.theme},t.prototype.setFallbacks=function(t){var e=this;Object.keys(t).forEach((function(n){"object"==typeof t[n]&&null!==t[n]?e.setFallbacks(t[n]):Reflect.hasMetadata("fallbackFun",t,n)&&!t[n]&&(t[n]=(0,o.p)(t,n,e.theme,e.isDark))}))},t}()},4221:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r,o=n(655);n(8660),function(t){t.light="light",t.dark="dark"}(r||(r={}));var i=n(4010),a=n(5887),s=n(2853),u=n(4363),l=n(5089),c=n(1405),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="ThemeService",e}return(0,o.ZT)(e,t),Object.defineProperty(e.prototype,"defaultTheme",{get:enumerable:!1,configurable:!0}),e.prototype.setCssVariablesRecursive=function(t,e,n){var r=this;Object.keys(e).forEach((function(o){if("object"==typeof e[o]&&null!==e[o])r.setCssVariablesRecursive(t,e[o],n);else if(Reflect.hasMetadata("cssVariableName",e,o)){var i=(0,l.E)(e,o),a=i.name,s=i.type;r.setVariable(n,a,(0,u.F)(e[o],s))}}))},e.prototype.setCssVariables=e.prototype.setVariable=function(t,e,n){t.style.setProperty((0,c.yG)(e),n)},e.prototype.clone=function(t){var e=new i.V;return this.copyProperties(e,t,[]),e},e.prototype.merge=function(t,e){var n=this.clone(t);return this.mergeProperties(n,e,[]),n},e.prototype.copyProperties=function(t,e,n){var r=this;void 0===n&&(n=[]),Object.keys(e).forEach((function(i){"object"==typeof e[i]&&null!==e[i]?r.copyProperties(t,e[i],(0,o.ev)((0,o.ev)([],n),[i])):e.hasOwnProperty(i)&&r.setNestedThemeProperty(t,e[i],(0,o.ev)((0,o.ev)([],n),[i]))}))},e.prototype.mergeProperties=function(t,e,n){var r=this;void 0===n&&(n=[]),Object.keys(e).forEach((function(i){"object"==typeof e[i]&&null!==e[i]?r.mergeProperties(t,e[i],(0,o.ev)((0,o.ev)([],n),[i])):e.hasOwnProperty(i)&&e[i]!==r.getNestedThemeProperty(r.defaultTheme,(0,o.ev)((0,o.ev)([],n),[i]))&&r.setNestedThemeProperty(t,e[i],(0,o.ev)((0,o.ev)([],n),[i]))}))},e.prototype.toSerializableTheme=e.prototype.getNonDefaultProps=function(t,e,n){var r=this;void 0===n&&(n=[]),Object.keys(e).forEach((function(i){"object"==typeof e[i]&&null!==e[i]?r.mergeProperties(t,e[i],(0,o.ev)((0,o.ev)([],n),[i])):e.hasOwnProperty(i)&&e[i]!==r.getNestedThemeProperty(r.defaultTheme,(0,o.ev)((0,o.ev)([],n),[i]))&&r.setNestedThemeProperty(t,e[i],(0,o.ev)((0,o.ev)([],n),[i]))}))},e.prototype.setNestedThemeProperty=function(t,e,n){var r=n[0],o=n.slice(1);o.length?(void 0===t[r]&&(t[r]={}),this.setNestedThemeProperty(t[r],e,o)):t[r]=e},e.prototype.getNestedThemeProperty=function(t,e){var n=e[0],r=e.slice(1);return r.length?this.getNestedThemeProperty(t[n],r):t[n]},e.prototype.prefersDarkMode=function(t){switch(t){case a.V.auto:return this.getColorScheme()===r.dark;case a.V.dark:return!0;case a.V.light:return!1}},e.prototype.getColorScheme=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?r.dark:r.light},e.sharedInstance=new e,e._defaultTheme=new i.V,e}(s.b).sharedInstance},9883:function(t,e,n){"use strict";n.d(e,{a:function(){return r}});var r=function(t,e){return new CustomEvent("ampstory:pageprogress",{detail:{pageId:e,progress:t},bubbles:!0,composed:!0})}},4728:function(t,e,n){"use strict";n.d(e,{Z:function(){return U}});var r,o=n(5776),i=n(1836),a=n(655);!r||(r={}));var s=n(6632),u=n(690),l=n(3182),c=n(2398),d=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.messageType=l.C.answeredQuiz,i.data={quiz:e,answerId:n,questionId:r,score:o},i}return(0,a.ZT)(e,t),e}(c.w),p=n(4184),f=n.n(p),h=function(){return o.az("svg",{width:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.az("path",{d:"M12 0C5.37219 0 0 5.37281 0 12C0 18.6272 5.37281 24 12 24C18.6272 24 24 18.6272 24 12C24 5.37281 18.6272 0 12 0ZM17.4253 10.4453L11.5274 16.3432C11.247 16.6235 10.8792 16.764 10.5121 16.764C10.145 16.764 9.77721 16.6235 9.49686 16.3432L6.40929 13.2556C5.84859 12.6949 5.84859 11.7858 6.40929 11.2245C6.96998 10.6638 7.87909 10.6638 8.44041 11.2245L10.5127 13.2968L15.3954 8.41417C15.9561 7.85348 16.8652 7.85348 17.4265 8.41417C17.986 8.97487 17.986 9.88397 17.4253 10.4453Z",fill:"white"}))},y=v=function(t){var e=t.answer,n=e.answer,r=e.id,i=e.isCorrect,a=t.hasAnswered,s=t.selected,u=t.handleAnswer;return o.az("button",{className:f()("textQuizAnswer",{answeredCorrectly:a&&i,answeredIncorrectly:a&&s&&!i}),onClick:u(r),role:"button"},o.az("span",{className:f()("answerText",{answerTextAnswered:a&&(i||s&&!i)})},n),o.az("span",{className:"icon"},a&&i?o.az(h,null):o.az(y,null)))},g=function(t){var e=t.question,n=t.handleQuizAnswer,r=t.answered,i=t.answerId,a=t.totalQuestions,s=e.sortOrder+1;return o.az("div",{className:f()("textQuiz","quizOverlay")},e.answers.map((function(t,a){return o.az(v,{answer:t,question:e,handleAnswer:n,hasAnswered:r,selected:i===t.id,key:a})})),o.az("span",{className:"questionNumber"},"Question ",o.az("b",null,s+" out of "+a)))},_=n(5571),m=n(8288),w=n(3674),b=n(4051),I=n(9793),S=n(6182),x=n(8568),C=n(9883),T=P=function(t){switch(r.text){case r.text:return o.az(g,(0,a.pi)({},t));default:return o.az(T,null)}},k=function(t){var e,n,r=t.quiz,c=t.question,p=t.totalQuestions,f=t.engagementUnitId,h=t.pageId,y=new URLSearchParams(window.location.search).get("storyId")||"",v=(0,o.eJ)(null===(n=null===(e=i.Z.quizAnswerMap)||void 0===e?void 0:e[y])||void 0===n?void 0:n[c.id]),g=v[0],T=v[1],k=(0,o.sO)(document.getElementById(h)),Z=!!g,z=function(t,e){return void 0===e&&(e=!1),function(){var n,o,p,v,g,w,P;if(!Z){var z=c.answers.find((function(e){return e.id===t}));if(z){var A=null!==(P=null===(w=null===(g=i.Z.quizAnsweredCorrectlyMap)||void 0===g?void 0:g[y])||void 0===w?void 0:w[f])&&void 0!==P?P:0;z.isCorrect&&(A+=1,i.Z.quizAnsweredCorrectlyMap=(0,a.pi)((0,a.pi)({},i.Z.quizAnsweredCorrectlyMap),((n={})[y]=((o={})[f]=A,o),n)),_.Z.broadcastEvent(m._.questionAnsweredCorrectly,f)),i.Z.quizAnswerMap=(0,a.pi)((0,a.pi)({},i.Z.quizAnswerMap),((p={})[y]=(0,a.pi)((0,a.pi)({},i.Z.quizAnswerMap[y]),((v={})[c.id]=z.id,v)),p));var E=r.questions.indexOf(c)===r.questions.length-1;s.Z.recordAnswer(z.id).catch((function(){})),u.Z.sendMessageToParent(new d(r,z.id,c.id,E?A:void 0));var O=.8,M=setInterval((function(){var t,e=(0,C.a)(O,h);null===(t=k.current)||void 0===t||t.dispatchEvent(e),(O+=.005)>=.98&&(clearInterval(M),u.Z.sendMessageToParent(new x.z({operation:"go-to-next-page"})))}),50);window.parent===window&&(_.Z.broadcastEvent(l.C.answeredQuiz,{quiz:r,question:c.id,answer:z.id}),b.Z.recordActivity(new I.Z(r,z.id,c.id,0)),E&&b.Z.recordActivity(new S.Z(r,A,0))),T(z.id),e&&(u.Z.sendMessageToParent(new x.z({operation:"pause"})),setTimeout((function(){u.Z.sendMessageToParent(new x.z({operation:"play"}))}),3e3))}}}};return(0,w.Z)("ampstory:pageprogress",(function(t){var e=t.detail.progress,n=c.answers.find((function(t){return!t.isCorrect}));n&&e>.85&&e<1&&z(null==n?void 0:n.id,!0)()}),k),(0,w.Z)("ampstory:switchpage",(function(t){if("next"===t.detail.direction){var e=c.answers.find(();e&&z(null==e?void 0:e.id)}}),k),o.az("div",null,o.az("div",{className:"pageOverlay"},o.az(P,{question:c,handleQuizAnswer:z,answered:Z,answerId:g,totalQuestions:p})))},Z=function(t){var e=t.handleClick;return o.az("button",{className:"shareButton-30He_H",onClick:role:"button"},o.az("span",{className:"shareButtonText-3X4zwv"},"Share Your Result"))},z=function(t){function e(e,n,r){var o=t.call(this)||this;return o.messageType=l.C.shareButtonTapped,o.data={score:e,quizId:n,title:r},o}return(0,a.ZT)(e,t),e}(c.w),A=function(t){var e,n=t.score,r=t.totalQuestions,a=t.engagementUnitId,s=t.showShareButton,l=t.forceShowShareButton,c=i.Z.quizzes.filter((function(t){return t.engagementUnitId===a}))[0],d=c.id,p=c.title,h=s&&!!window.navigator.share||l;return o.az("div",null,o.az("div",{className:"pageOverlay-f7omPk"},o.az("div",{className:f()("quizResult-12vjor","resultsOverlay-2L7A6j")},o.az("span",{className:f()("score-8pwkvf",(e={},e["shareDisabled-S_-r78"]=!h,e))},n+"/"+r),h&&o.az(Z,{handleClick:function(){u.Z.sendMessageToParent(new z(n,d,p))}}))))},E=n(7375),O=n(4221),M=n(140),U=function(){function t(){this.calcTotalQuestions=function(t){return i.Z.quizzes.filter((function(e){return e.engagementUnitId===t})).map(()[0]}}return t.prototype.getGridLayer=t.prototype.renderQuizPage=function(t,e){var n=this,r=new E.V(O.Z.prefersDarkMode(M.Z.uiStyle),M.Z.theme).build();if(t){var o=t.questions.length;e.forEach((function(e){if(e.questionId){var a=t.questions.find((function(t){return t.id===e.questionId}));if(!a)return;return n.renderQuestion(t,a,o,e.engagementUnitId,e.pageId)}var s=e.engagementUnitId;if(o)return n.renderResult(s,o,r.player.showShareButton,i.Z.forceShowShareButton)}))}_.Z.on(m._.questionAnsweredCorrectly,(function(t){return n.renderResult(t,n.calcTotalQuestions(t),r.player.showShareButton,i.Z.forceShowShareButton)}))},t.prototype.renderQuestion=function(t,e,n,r,i){var a=this.getGridLayer(e.id);a&&o.sY(o.az(k,{quiz:t,question:e,totalQuestions:n,engagementUnitId:r,pageId:i}),a)},t.prototype.renderResult=function(t,e,n,r){void 0===r&&(r=!1);var i=this.getGridLayer(t),a=this.getScore(t);i&&o.sY(o.az(A,{score:a,totalQuestions:e,engagementUnitId:t,showShareButton:n,forceShowShareButton:r}),i)},t.prototype.getScore=function(t){var e,n,r=new URLSearchParams(window.location.search).get("storyId")||"",o=(null===(n=null===(e=i.Z.quizAnsweredCorrectlyMap)||void 0===e?void 0:e[r])||void 0===n?void 0:n[t])||0;return null!=o?o:0},t.prototype.clearQuizData=function(){i.Z.quizAnsweredCorrectlyMap={},i.Z.quizAnswerMap={}},t.sharedInstance=new t,t}().sharedInstance},6632:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=n(655),o=n(353),i=n(1836),a=n(2853),s=n(4003),u=n(4611),l=n(4466),c=function(t){function e(e){var n=t.call(this)||this;return n.endpoint="triviaQuizzes",n.method=u.w.get,n.engagementUnits=e,n}return(0,r.ZT)(e,t),e.prototype.buildEndpoint=function(){var t=new URLSearchParams;return this.engagementUnits.forEach((function(e){return t.append("engagementUnits",e)})),this.endpoint+"?"+t.toString()+"&"+l.Z.parseUserAttributesToQueryStringAlphabetically()},e.prototype.buildRequestContent=function(){},e}(s.I),d=function(t){function e(e){var n=t.call(this)||this;return n.endpoint="triviaQuizzes/answer",n.method=u.w.post,n.answerId=e,n}return(0,r.ZT)(e,t),e.prototype.buildEndpoint=e.prototype.buildRequestContent=function(){},e}(s.I),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="QuizzesApiService",e}return(0,r.ZT)(e,t),e.prototype.loadQuizzes=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:if(!t.engagementUnits.length)return[2,[]];e=new c(t.engagementUnits),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.Z.executeCommand(e)];case 2:return(n=a.sent())&&(i.Z.quizzes.some(()||(i.Z.quizzes=(0,r.ev)((0,r.ev)([],i.Z.quizzes),n))),[2,n];case 3:return a.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.recordAnswer=function(t){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){e=new d(t);try{return[2,o.Z.executeCommand(e)]}catch(t){return[2,null]}return[2]}))}))},e.sharedInstance=new e,e}(a.b).sharedInstance},2853:function(t,e,n){"use strict";n.d(e,{b:function(){return i}});var r=n(5601),o=n(5304),i=function(){eturn t.prototype.logError=function(t){o.Z.logError(this.formatMessage(t))},t.prototype.logInfo=function(t){o.Z.logInfo(this.formatMessage(t))},t.prototype.log=t.prototype.formatMessage=function(t){return"Storyteller Javascript SDK : "+r.q4+" : "+this.logTag+" : "+t},t}()},5304:function(t,e,n){"use strict";var r=n(1080),o=function(){eturn Object.defineProperty(t.prototype,"environment",{set:enumerable:!1,configurable:!0}),t.prototype.logError=t.prototype.logInfo=function(t){this._environment!==r.q.production&&console&&console.info&&console.info(t)},t.prototype.log=function(t){this._environment!==r.q.production&&console&&console.log&&console.log(t)},t.sharedInstance=new t,t}();e.Z=o.sharedInstance},140:function(t,e,n){"use strict";n.d(e,{Z:function(){return S}});var r=n(655),o=n(1080),i=n(4010),a=n(5887),s=n(5601),u=n(5571),l=n(8288),c=n(4321),d=n(1836),p=n(4369),f=n(7375),h=n(4221),y=n(353),v=n(9934),g=n(2853),_=n(4003),m=n(4611),w=function(t){eturn(0,r.ZT)(e,t),e.prototype.buildRequestContent=function(){},e}(_.I),b=function(t){eturn(0,r.ZT)(e,t),e}(Error),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="SettingsApiService",e}return(0,r.ZT)(e,t),e.prototype.requestSettings=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t,e,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:t=new w,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,y.Z.executeCommand(t)];case 2:return e=r.sent(),d.Z.settings=e,[3,4];case 3:if(n=r.sent(),this.logError(n.toString()),n instanceof v.G){if(404===n.status)throw new b;throw n}throw n;case 4:return[2]}}))}))},e.sharedInstance=new e,e}(g.b).sharedInstance,S=function(){eturn Object.defineProperty(t.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t,this.buildTheme()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customInstanceHost",{set:enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTheme",{get:function(){return this._currentTheme},enumerable:!1,configurable:!0}),t.prototype.initialize=function(t,e){return void 0===e&&(e={}),(0,r.mG)(this,void 0,void 0,(function(){var n,a,s,u=this;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=p.Z.get("Storyteller.customEnvironment"),a=n||"production",d.Z.environment=o.q[a],d.Z.apiKey=t,this.setUserDetails(e),this.theme=new i.V,(s=window.matchMedia("(prefers-color-scheme: dark)")).addEventListener&&s.addEventListener("change",(function(){return u.buildTheme()})),[4,I.requestSettings()];case 1:return r.sent(),[2]}}))}))},t.prototype.setUserDetails=function(t){t.externalId?d.Z.userId=t.externalId:d.Z.userId||(d.Z.userId=c.i.newGuid())},Object.defineProperty(t.prototype,"currentUserId",{get:function(){return d.Z.userId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentApiKey",{get:enumerable:!1,configurable:!0}),t.prototype.buildTheme=function(){this._currentTheme=new f.V(h.Z.prefersDarkMode(this.uiStyle),this._theme).build(),h.Z.setCssVariables(this._currentTheme,document.documentElement),u.Z.broadcastEvent(l._.themeUpdated)},t.sharedInstance=new t,t}().sharedInstance},4466:function(t,e,n){"use strict";var r=n(655),o=n(2853),i=n(4369),a=function(t){function e(){var e=t.call(this)||this;return e.UserAttributesStorageKey="Storyteller.userAttributesStorage",e.logTag="UserPropertiesService",e.getUserAttributes=e.getUserAttributes.bind(e),e.getUserAttribute=e.getUserAttribute.bind(e),e.setUserAttribute=e.setUserAttribute.bind(e),e.removeUserAttribute=e.removeUserAttribute.bind(e),e}return(0,r.ZT)(e,t),e.prototype.getUserAttributes=function(){return i.Z.get(this.UserAttributesStorageKey)||{}},e.prototype.getUserAttribute=e.prototype.setUserAttribute=function(t,e){if(!t||!e)throw new Error("Key and value are required when setting user attributes");var n=this.getUserAttributes();return n[t]=e,i.Z.add(this.UserAttributesStorageKey,n),!!this.getUserAttributes()[t]||-1},e.prototype.removeUserAttribute=function(t){var e=this.getUserAttributes();delete e[t],i.Z.add(this.UserAttributesStorageKey,e)},e.prototype.parseUserAttributesToQueryStringAlphabetically=function(){var t=this.getUserAttributes(),e=Object.keys(t);e.sort();var n="";return e.forEach((),n.substring(1)},e.sharedInstance=new e,e}(o.b);e.Z=a.sharedInstance},655:function(t,e,n){"use strict";n.d(e,{ZT:function(){return o},pi:function(){return i},_T:function(){return a},gn:function(){return s},mG:function(){return u},Jh:function(){return l},ev:);var r=ar i=t.create,Object.create}},n={};.n=o.d=o.g=),o.o=o.r=var i={};!function(){"use strict";o.r(i),o.d(i,{ActivityEventDetail:function(){return Xe},ActivityType:function(){return Vt.T},CellType:function(){return ye},DismissedReason:function(){return ot},GridView:function(){return Ye},OpenedReason:function(){return it},QuizApiService:function(){return en.Z},QuizRenderer:function(){return nn.Z},RowView:function(){return Fe},Story:function(){return Ke},Theme:function(){return ft.W},UiStyle:function(){return we.V},UiTheme:function(){return Je.V},User:function(){return rn.Z},UserActivityData:function(){return tn},sharedInstance:function(){return t.Z}});var t=o(140),e=o(655),n=o(5776);r s=o(5697),u=o.n(s); p=("undefined"==typeof window||!window.document||!window.document.createElement);ar I="hashchange",S={hashbang:{encodePath:decodePath:,noslash:{encodePath:h,decodePath:f},slash:{encodePath:f,decodePath:f}};k=1073741823,Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o.g?o.g:{};ar A=n.ZP.createContext||E=o(4779),O=o.n(E);(663),o(8679);var U=function(t){var e=A();return e.displayName="Router-History",e}(),R=),L=n.ZP.Component);n.ZP.Component,n.ZP.Component;var q={},N=0;ar B=n.ZP.Component);n.ZP.Component,n.ZP.Component;var V=n.ZP.useContext;.ZP.Component;var W=n.ZP.Component),H=Q=F=function(t){return t},G=n.ZP.forwardRef;void 0===G&&(G=F);var $=G((),Y=G((),J=function(t){return t},K=n.ZP.forwardRef;void 0===K&&(K=J),K(();var X,tt,et=(0,n.kr)({stories:null,status:"",dispatch:function(){}}),nt=o(6162),rt=o.n(nt);!function(t){t.unread="unread",t.read="read"}(X||(X={})),function(t){t.setStories="setStories",t.setPageRead="setPageRead"}(tt||(tt={}));var ot,it,at=function(t,n){switch(n.type){case tt.setPageRead:return function(t,n){if(!t)return null;var r=(0,e.ev)([],t),o=r.find((function(t){return t.id===n.storyId}));if(!o)return t;var i=o.pages.find((function(t){return t.id===n.pageId}));return i?(i.status=X.read,o.status=o.pages[o.pages.length-1].status,o.initialPage=rt()([o.pages.findIndex((function(t){return t.status===X.unread})),0])||0,r):t}(t,n.payload);case tt.setStories:return n.payload}},st=o(5571),ut=o(8288),lt=function(t){eturn(0,e.ZT)(r,t),r.getDerivedStateFromError=r.prototype.componentDidCatch=r.prototype.render=function(){return this.state.hasError?n.az(n.HY,null):this.props.children},r}(n.wA),ct=function(){this.onStoriesDataLoadStarted=function(){},this.onStoriesDataLoadComplete=function(){},this.onStoryDismissed=function(){},this.onUserActivityOccurred=function(){},this.tileBecameVisible=function(){},this.onError=function(){},this.getAdConfig=,dt=(0,n.kr)(new ct),pt=(0,n.kr)(null),ft=o(2918),ht=n.kr(null),yt=function(t){var e=(0,n._Y)(at,t.stories),r=e[0],o=e[1],i={stories:r,status:t.storiesStatus,dispatch:o};(0,n.d4)((function(){o(t.stories))}),[t.stories]);var a=(0,n.I4)((function(t){var e,n;o((e=t.storyId,n=t.pageId,{type:tt.setPageRead,payload:{storyId:e,pageId:n}}))}),[o]);return(0,n.d4)((,[]),n.az(lt,{onError:t.onError,key:t.rootEl.id},n.az(ht.Provider,{value:t.rootEl},n.az(dt.Provider,{value:t.delegate},n.az(pt.Provider,{value:t.theme||new ft.W},n.az(W,{hashType:"noslash"},n.az(et.Provider,{value:i},t.children))))))},vt=o(353),gt=o(2853),_t=o(4003),mt=o(4611),wt=o(1836),bt=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="UserDataService",e}return(0,e.ZT)(n,t),n.prototype.setPageViewed=function(t){var n,r=t.id,o=t.storyId,i=wt.Z.pageReadMap||{},a=(0,e.pi)((0,e.pi)({},i),((n={})[r]=r,n));wt.Z.pageReadMap=a,st.Z.broadcastEvent(ut._.pageRead,{pageId:r,storyId:o})},n.prototype.getPageStatus=function(t){return(wt.Z.pageReadMap||{})[t]?X.read:X.unread},n.prototype.hasViewedStory=function(t){var e=wt.Z.pageReadMap;return!!e&&void 0!==e[t]},n.sharedInstance=new n,n}(gt.b).sharedInstance,It=function(t){function n(e){var n=t.call(this)||this;return n.endpoint="story/stories/default",n.method=mt.w.get,n.categories=[],n.categories=e,n}return(0,e.ZT)(n,t),n.prototype.buildEndpoint=function(){if(!this.categories)return this.endpoint;var t=new URLSearchParams;return this.categories.forEach((function(e){return t.append("categories",e)})),this.endpoint+"?"+t.toString()},n.prototype.buildRequestContent=function(){},n.prototype.transformResponse=function(t){return t?(this.updateReadStates(t),function(t){!function(t){t.forEach((function(t){var e=t.pages.findIndex((function(t){return null!==t.questionId&&void 0===(null===wt.Z||void 0===wt.Z?void 0:wt.Z.quizAnswerMap[t.questionId])})),n=t.pages.findIndex((function(t){return t.status===X.unread}));-1===n&&(n=0),t.initialPage=e<0?n:e<n?e:n}))}(t),t.sort((function(t,e){var n=t.status===X.unread,r=e.status===X.unread,o=t.isLive||e.isLive,i=t.isLive,a=e.isLive;return o?!i&&a?1:i&&!a?-1:i&&a?n&&!r?-1:!n&&r?1:t.sortOrder-e.sortOrder:0:n===r?t.sortOrder-e.sortOrder:n?-1:1}))}(t),t):null},n.prototype.updateReadStates=function(t){t.forEach((function(t){t.pages.forEach((),t.status=t.pages[t.pages.length-1].status;var e=t.pages.findIndex((function(t){return t.status===X.unread}));-1===e&&(e=0),t.initialPage=e}))},n}(_t.I),St=function(t){function n(e){var n=t.call(this)||this;return n.endpoint="story/stories",n.method=mt.w.get,n.storyId="",n.storyId=e,n}return(0,e.ZT)(n,t),n.prototype.buildEndpoint=n.prototype.buildRequestContent=function(){},n}(_t.I),xt=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="StoriesApiService",e}return(0,e.ZT)(n,t),n.prototype.loadStories=function(t){return(0,e.mG)(this,void 0,void 0,(function(){var n;return(0,e.Jh)(this,(function(e){switch(e.label){case 0:n=new It(t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,vt.Z.executeCommand(n)];case 2:return[2,e.sent()];case 3:throw e.sent();case 4:return[2]}}))}))},n.prototype.loadStory=function(t){return(0,e.mG)(this,void 0,void 0,(function(){var n;return(0,e.Jh)(this,(function(e){switch(e.label){case 0:n=new St(t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,vt.Z.executeCommand(n)];case 2:return[2,e.sent()];case 3:throw e.sent();case 4:return[2]}}))}))},n.sharedInstance=new n,n}(gt.b).sharedInstance,Ct=o(9934),Tt=o(4221),Pt=o(690),kt=o(4184),Zt=o.n(kt),zt={instructionsContainer:"instructionsContainer-2Qpt7i",instructionsModal:"instructionsModal-2bceUY",header:"header-3Gg6rA",pointerIcon:"pointerIcon-3u_DE8",pointerInputInstruction:"pointerInputInstruction-r8jXBC",touchIcon:"touchIcon-oDmu8c",touchInputInstruction:"touchInputInstruction-3YdqBe",instruction:"instruction-2wTW5H",icon:"icon-2Z0MmM",closeBtn:"closeBtn-3AN1kk"},At=function(){return(0,n.qp)(pt)||new ft.W},Et=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{fill:"#1C62EB",d:"M31.631 9.293a.883.883 0 0 1-.256-.606l-.008-2.422a.846.846 0 0 1 .851-.851.86.86 0 0 1 .857.856l.008 2.423a.848.848 0 0 1-1.451.6ZM28.609 11.1a.859.859 0 0 1-1.211-.004L24.36 8.058a.859.859 0 0 1-.004-1.21.859.859 0 0 1 1.211.003l3.038 3.038c.334.334.336.88.004 1.211ZM35.876 11.124a.859.859 0 0 1-.004-1.211l3.018-3.018a.859.859 0 0 1 1.216 1.215l-3.019 3.018a.859.859 0 0 1-1.21-.004ZM38.313 15.625a.883.883 0 0 1-.606-.256.883.883 0 0 1-.256-.607.846.846 0 0 1 .85-.85l2.423.007a.86.86 0 0 1 .857.857.846.846 0 0 1-.851.851l-2.417-.002ZM38.942 22.64l-3.038-3.038a.859.859 0 0 1-.004-1.21.859.859 0 0 1 1.211.003l3.038 3.038c.334.334.336.879.004 1.211a.859.859 0 0 1-1.211-.004Z"}),n.az("path",{fill:t.isDark?"#ffffff":"#1a1a1a",fillRule:"evenodd",d:"M21.1 31.921a.4.4 0 0 1 .645.114l2.123 4.55c.77 1.653 3.17 1.497 3.72-.242l6.716-21.226c.49-1.544-.965-2.999-2.51-2.51l-21.226 6.717c-1.738.55-1.894 2.949-.242 3.72l4.55 2.123a.4.4 0 0 1 .114.645l-4.923 4.923a2 2 0 0 0 0 2.828l3.281 3.281a2 2 0 0 0 2.829 0l4.923-4.923Zm4.84 3.901 6.717-21.226a.272.272 0 0 0-.341-.341l-21.227 6.717c-.084.027-.118.062-.137.087a.294.294 0 0 0-.052.154.294.294 0 0 0 .032.16c.015.028.044.067.124.105l4.551 2.123a2.128 2.128 0 0 1 .605 3.433l-4.923 4.923a.272.272 0 0 0 0 .385l3.281 3.28a.272.272 0 0 0 .385 0l4.923-4.922a2.128 2.128 0 0 1 3.433.605l2.123 4.55c.037.08.076.11.104.125.037.02.093.036.16.032a.293.293 0 0 0 .155-.053c.025-.019.06-.052.087-.137Z",clipRule:"evenodd"}))},Ot=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{fill:"#1C62EB",d:"M14.368 7.293a.883.883 0 0 0 .257-.606l.008-2.422a.846.846 0 0 0-.851-.851.86.86 0 0 0-.857.856l-.008 2.423a.848.848 0 0 0 1.451.6ZM18.391 8.1a.859.859 0 0 0 1.211-.004l3.038-3.038a.859.859 0 0 0 .004-1.21.859.859 0 0 0-1.211.003L18.395 6.89a.859.859 0 0 0-.004 1.211ZM10.124 9.124a.859.859 0 0 0 .004-1.211L7.11 4.895A.859.859 0 0 0 5.894 6.11l3.019 3.018a.859.859 0 0 0 1.21-.004ZM7.687 13.625a.883.883 0 0 0 .606-.256.883.883 0 0 0 .256-.607.846.846 0 0 0-.85-.85l-2.423.007a.86.86 0 0 0-.857.857.846.846 0 0 0 .851.851l2.417-.002ZM6.058 21.64l3.038-3.038a.859.859 0 0 0 .004-1.21.859.859 0 0 0-1.211.003L4.85 20.433a.859.859 0 0 0-.004 1.211.859.859 0 0 0 1.211-.004Z"}),n.az("path",{fill:t.isDark?"#ffffff":"#1a1a1a",fillRule:"evenodd",d:"M33.5 12.72h-5a.78.78 0 0 0-.78.78v21c0 .43.35.78.78.78h5c.43 0 .78-.35.78-.78v-21a.78.78 0 0 0-.78-.78Zm-5-1.72a2.5 2.5 0 0 0-2.5 2.5v21a2.5 2.5 0 0 0 2.5 2.5h5a2.5 2.5 0 0 0 2.5-2.5v-21a2.5 2.5 0 0 0-2.5-2.5h-5ZM19.5 12.72h-5a.78.78 0 0 0-.78.78v21c0 .43.35.78.78.78h5c.43 0 .78-.35.78-.78v-21a.78.78 0 0 0-.78-.78Zm-5-1.72a2.5 2.5 0 0 0-2.5 2.5v21a2.5 2.5 0 0 0 2.5 2.5h5a2.5 2.5 0 0 0 2.5-2.5v-21a2.5 2.5 0 0 0-2.5-2.5h-5Z",clipRule:"evenodd"}))},Mt=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{fill:"#1C62EB",d:"M10.293 15.324a.883.883 0 0 1-.606.257l-2.422.008a.846.846 0 0 1-.851-.852.86.86 0 0 1 .856-.856l2.423-.008a.848.848 0 0 1 .6 1.451ZM12.1 18.347a.859.859 0 0 1-.004 1.211l-3.038 3.038a.859.859 0 0 1-1.21.004.859.859 0 0 1 .003-1.211l3.038-3.038a.859.859 0 0 1 1.211-.004ZM12.124 11.08a.859.859 0 0 1-1.211.004L7.895 8.065A.859.859 0 0 1 9.11 6.85l3.018 3.018a.859.859 0 0 1-.004 1.211ZM16.625 8.642a.883.883 0 0 1-.256.607.883.883 0 0 1-.607.256.846.846 0 0 1-.85-.85l.007-2.423a.86.86 0 0 1 .857-.857.846.846 0 0 1 .851.851l-.002 2.416ZM23.64 8.014l-3.038 3.038a.859.859 0 0 1-1.21.004.859.859 0 0 1 .003-1.211l3.038-3.038a.859.859 0 0 1 1.211-.004.859.859 0 0 1-.004 1.211Z"}),n.az("path",{fill:t.isDark?"#ffffff":"#1a1a1a",fillRule:"evenodd",d:"M32.921 25.856a.4.4 0 0 1 .114-.645l4.55-2.123c1.653-.77 1.497-3.17-.242-3.72l-21.226-6.716c-1.544-.49-2.999.965-2.51 2.51l6.717 21.226c.55 1.738 2.949 1.894 3.72.242l2.123-4.55a.4.4 0 0 1 .645-.114l4.923 4.923a2 2 0 0 0 2.828 0l3.281-3.281a2 2 0 0 0 0-2.829l-4.923-4.923Zm3.901-4.84L15.596 14.3a.272.272 0 0 0-.341.341l6.717 21.226c.027.085.062.119.087.138a.294.294 0 0 0 .154.052.293.293 0 0 0 .16-.032c.028-.015.067-.044.105-.125l2.123-4.55a2.128 2.128 0 0 1 3.433-.605l4.923 4.923a.272.272 0 0 0 .385 0l3.28-3.281a.272.272 0 0 0 0-.385L31.7 27.078a2.128 2.128 0 0 1 .604-3.433l4.551-2.123c.08-.038.11-.077.125-.104a.294.294 0 0 0 .032-.16.293.293 0 0 0-.053-.155c-.019-.025-.052-.06-.137-.087Z",clipRule:"evenodd"}))},Ut=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{stroke:t.isDark?"#ffffff":"#1a1a1a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.72",d:"m22.997 18.5 7 6.5-7 6.5"}),n.az("path",{fill:"#1C62EB",d:"M16.032 9.302a.98.98 0 0 0 .284-.672l.009-2.686A.938.938 0 0 0 15.38 5a.953.953 0 0 0-.95.95l-.009 2.686a.938.938 0 0 0 .944.943.94.94 0 0 0 .666-.277ZM19.383 11.305a.952.952 0 0 0 1.343-.004l3.368-3.369A.952.952 0 0 0 24.1 6.59a.952.952 0 0 0-1.343.004l-3.369 3.368a.952.952 0 0 0-.004 1.343ZM11.325 11.332a.952.952 0 0 0 .005-1.343L7.982 6.642A.952.952 0 0 0 6.636 7.99l3.346 3.347a.952.952 0 0 0 1.343-.005ZM8.623 16.323a.979.979 0 0 0 .672-.285.98.98 0 0 0 .284-.672.938.938 0 0 0-.943-.944l-2.686.009a.953.953 0 0 0-.95.95.938.938 0 0 0 .944.944l2.679-.002ZM7.926 24.1l3.368-3.368a.952.952 0 0 0 .005-1.343.952.952 0 0 0-1.343.005l-3.368 3.368a.952.952 0 0 0-.005 1.343.952.952 0 0 0 1.343-.005Z"}),n.az("path",{stroke:t.isDark?"#ffffff":"#1a1a1a",strokeLinecap:"round",strokeWidth:"1.72",d:"M10.927 26.237c.384 7.712 6.759 13.847 14.566 13.847 8.055 0 14.585-6.53 14.585-14.585 0-7.807-6.135-14.182-13.847-14.566"}))},Rt=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{fill:"#1C62EB",d:"M26.162 8.533a.889.889 0 0 0 .614-.25l1.73-1.718a.852.852 0 0 0 0-1.211.865.865 0 0 0-1.22 0l-1.73 1.718a.852.852 0 0 0 0 1.212c.165.163.381.249.606.249ZM26.413 15.656a.852.852 0 0 0 0 1.212l.865.86c.173.171.39.257.614.257a.889.889 0 0 0 .614-.25.852.852 0 0 0 0-1.21l-.865-.86a.868.868 0 0 0-1.228-.009ZM27.027 11.97c0 .473.39.86.865.86h4.325a.865.865 0 0 0 .864-.86c0-.472-.389-.86-.864-.86h-4.325a.865.865 0 0 0-.865.86ZM21.838 6.815a.865.865 0 0 0 .865-.86V1.66a.865.865 0 0 0-1.73 0v4.296c0 .473.39.86.865.86ZM16.9 8.284c.172.163.389.249.614.249a.889.889 0 0 0 .614-.25.852.852 0 0 0 0-1.21l-1.73-1.72a.865.865 0 0 0-1.22 0 .852.852 0 0 0 0 1.212L16.9 8.284ZM16.035 15.656l-.865.86a.852.852 0 0 0 0 1.211.86.86 0 0 0 .614.258.889.889 0 0 0 .614-.25l.865-.858a.852.852 0 0 0 0-1.212.868.868 0 0 0-1.228-.009ZM11.46 12.83h4.324a.865.865 0 0 0 .865-.86c0-.472-.39-.86-.865-.86h-4.325a.865.865 0 0 0-.864.86c0 .473.389.86.864.86Z"}),n.az("path",{fill:t.isDark?"#ffffff":"#1a1a1a",d:"M35.676 22.281h-.822c-.527-.48-1.358-.859-2.638-.859h-2.551c-.528-.481-1.358-.86-2.638-.86h-1.73V11.97c0-.85 0-3.437-3.46-3.437-3.459 0-3.459 2.587-3.459 3.437v17.185c0 .43-.069.662-.112.765-.164-.034-.718-.223-1.877-1.366-2.119-2.105-4.462-2.913-6.27-2.174C8.779 26.93 8 28.262 8 30.015c0 .232.095.447.25.61 2.682 2.663 5.147 6.032 6.755 9.228 2.457 4.872 6.798 7.347 12.887 7.347C35.702 47.2 40 42.93 40 35.17v-6.874c0-3.763-1.617-6.015-4.324-6.015Zm-7.784 23.2c-5.388 0-9.194-2.156-11.338-6.401-1.635-3.257-4.109-6.66-6.816-9.409.078-.86.442-1.47 1.047-1.718.839-.344 2.49-.078 4.385 1.804 1.012 1.005 2.508 2.277 3.78 1.753.527-.206 1.158-.79 1.158-2.355V11.97c0-.962 0-1.718 1.73-1.718s1.73.756 1.73 1.718v12.89c0 1.718.864 2.577 1.73 2.577V22.28h1.729c1.591 0 1.721.74 1.73.86V24c0 1.718.865 2.578 1.73 2.578V23.14h1.73c1.59 0 1.72.74 1.729.86 0 1.718.865 2.578 1.73 2.578V24c2.343 0 2.594 3.007 2.594 4.296v6.874c0 6.84-3.494 10.311-10.378 10.311Z"}))},Lt=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{fill:"#1C62EB",d:"M27.162 14.111a.856.856 0 0 0 1.116-.49c.32-.797.476-1.63.476-2.471 0-3.785-3.106-6.867-6.92-6.867-3.816 0-6.921 3.082-6.921 6.867 0 .841.164 1.674.475 2.472a.875.875 0 0 0 1.125.49.863.863 0 0 0 .493-1.117 5.105 5.105 0 0 1-.355-1.845c0-2.841 2.328-5.15 5.19-5.15 2.864 0 5.191 2.309 5.191 5.15 0 .626-.12 1.244-.354 1.845a.852.852 0 0 0 .484 1.116Z"}),n.az("path",{fill:"#1C62EB",d:"M13.433 17.235a.857.857 0 0 0 .286-1.184 9.365 9.365 0 0 1-1.393-4.901c0-5.21 4.265-9.442 9.516-9.442s9.516 4.232 9.516 9.442a9.346 9.346 0 0 1-1.401 4.91.86.86 0 0 0 .285 1.184.853.853 0 0 0 .45.129c.294 0 .58-.146.735-.412a11.065 11.065 0 0 0 1.653-5.803C33.08 5.004 28.036 0 21.833 0c-6.202 0-11.246 5.004-11.246 11.158 0 2.043.571 4.043 1.652 5.803a.881.881 0 0 0 1.194.274Z"}),n.az("path",{fill:t.isDark?"#ffffff":"#1a1a1a",d:"M35.676 22.308h-.822c-.527-.481-1.358-.86-2.638-.86h-2.551c-.528-.48-1.358-.858-2.638-.858h-1.73v-8.593c0-.85 0-3.437-3.46-3.437-3.459 0-3.459 2.586-3.459 3.437v17.185c0 .43-.069.662-.112.765-.164-.034-.718-.223-1.877-1.366-2.119-2.105-4.462-2.913-6.27-2.174C8.779 26.957 8 28.289 8 30.04c0 .232.095.447.25.61 2.682 2.664 5.147 6.033 6.755 9.229 2.457 4.872 6.798 7.347 12.887 7.347 7.81 0 12.108-4.27 12.108-12.03v-6.874c0-3.764-1.617-6.015-4.324-6.015Zm-7.784 23.2c-5.388 0-9.194-2.157-11.338-6.401-1.635-3.257-4.109-6.66-6.816-9.41.078-.858.442-1.468 1.047-1.718.839-.343 2.49-.077 4.385 1.805 1.012 1.005 2.508 2.277 3.78 1.753.527-.207 1.158-.79 1.158-2.355V11.997c0-.962 0-1.718 1.73-1.718s1.73.756 1.73 1.718v12.889c0 1.719.864 2.578 1.73 2.578v-5.156h1.729c1.591 0 1.721.74 1.73.86v.859c0 1.718.865 2.578 1.73 2.578V23.167h1.73c1.59 0 1.72.74 1.729.86 0 1.718.865 2.578 1.73 2.578v-2.578c2.343 0 2.594 3.007 2.594 4.296v6.874c0 6.84-3.494 10.311-10.378 10.311Z"}))},qt=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{fill:"#1C62EB",d:"M16.799 8.857a.875.875 0 0 0 .416-.507l.693-2.317a.853.853 0 0 0-.569-1.063.848.848 0 0 0-1.058.572l-.694 2.317a.853.853 0 0 0 .57 1.063c.218.066.447.04.642-.065ZM20.365 14.986a.853.853 0 0 0 .57 1.063l1.154.348c.23.07.459.043.654-.062a.852.852 0 0 0-.153-1.569l-1.155-.348a.851.851 0 0 0-1.07.568ZM19.165 11.466a.853.853 0 0 0 1.155.348l3.753-2.027a.86.86 0 0 0 .347-1.159.853.853 0 0 0-1.154-.348l-3.754 2.027a.86.86 0 0 0-.347 1.159ZM12.238 9.376a.86.86 0 0 0 .347-1.159l-2.02-3.767a.853.853 0 0 0-1.154-.348.86.86 0 0 0-.347 1.158l2.02 3.768a.853.853 0 0 0 1.154.348ZM8.641 12.98a.87.87 0 0 0 .65-.07.852.852 0 0 0-.154-1.569l-2.308-.696a.853.853 0 0 0-.49 1.634l2.302.7ZM11.356 19.85l-.347 1.16a.853.853 0 0 0 .57 1.062c.23.07.458.044.654-.062a.876.876 0 0 0 .415-.506l.347-1.16a.853.853 0 0 0-.57-1.062.851.851 0 0 0-1.07.569ZM6.056 19.516l3.753-2.027a.86.86 0 0 0 .347-1.159.853.853 0 0 0-1.154-.348l-3.754 2.027a.86.86 0 0 0-.347 1.159.853.853 0 0 0 1.155.348Z"}),n.az("path",{fill:t.isDark?"#ffffff":"#1a1a1a",d:"m31.767 16.467-.724.389c-.692-.175-1.603-.115-2.73.49l-2.249 1.206c-.692-.174-1.602-.115-2.73.49l-1.524.818-4.063-7.57c-.403-.75-1.626-3.03-4.674-1.393-3.048 1.635-1.825 3.914-1.423 4.664l8.126 15.142c.204.379.252.616.263.727-.161.048-.738.143-2.3-.316-2.862-.853-5.31-.456-6.553 1.05-.921 1.118-.977 2.66-.148 4.204.11.204.295.349.51.419 3.621 1.08 7.386 2.882 10.315 4.938 4.468 3.131 9.464 3.258 14.828.38 6.882-3.694 8.65-9.489 4.981-16.326l-3.25-6.057c-1.78-3.316-4.27-4.535-6.655-3.255ZM35.88 40.59c-4.748 2.548-9.12 2.447-13.018-.279-2.98-2.096-6.768-3.925-10.454-5.068-.338-.794-.306-1.503.11-2.009.576-.7 2.158-1.246 4.716-.483 1.367.407 3.287.82 4.16-.243.367-.431.647-1.245-.093-2.623l-8.126-15.142c-.455-.848-.812-1.514.712-2.332 1.524-.818 1.881-.152 2.337.696l6.094 11.357c.813 1.514 1.981 1.862 2.743 1.453l-1.219-2.27-1.219-2.272 1.524-.818c1.403-.753 1.866-.163 1.93-.061l.407.757c.813 1.514 1.981 1.863 2.743 1.453l-1.219-2.27-.406-.758 1.524-.818c1.402-.752 1.866-.163 1.93-.06.813 1.514 1.982 1.862 2.744 1.453l-1.22-2.272c2.066-1.108 3.709 1.423 4.319 2.56l3.25 6.056c3.234 6.027 1.797 10.738-4.27 13.993Z"}))},Nt=function(){var t=At();return n.az("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none"},n.az("path",{fill:"#1C62EB",d:"M43.137 4.008c-.086-.43-.517-.774-.949-.688a.892.892 0 0 0-.69 1.032l.432 2.58C37.79 3.663 30.889 1.6 23.298 1.6c-4.917 0-9.661 1.032-13.801 2.838-.518.258-1.208.516-2.07 1.032a1.805 1.805 0 0 0-.518.344c-.086.086-.518.258-.518.343l-1.035.774.432-2.58a.892.892 0 0 0-.69-1.031.895.895 0 0 0-1.036.688L3.2 9.168c-.086.55.136 1.03.862 1.03h5.176c.517 0 .863-.429.863-.859s-.432-.86-.863-.86H6.046c.432-.344.863-.688 1.294-.946C11.998 4.782 17.432 3.32 23.298 3.32c7.418 0 14.146 1.978 17.855 5.16h-3.105c-.431 0-.863.43-.863.86 0 .429.432.859.863.859h5.175c.665 0 .852-.602.777-1.118l-.863-5.073Z"}),n.az("path",{fill:t.isDark?"#ffffff":"#1a1a1a",d:"m35.369 26-.724-.388c-.237-.673-.79-1.4-1.918-2.004L30.48 22.4c-.237-.673-.79-1.4-1.918-2.004l-1.524-.818 4.063-7.572c.402-.75 1.625-3.028-1.423-4.664-3.048-1.636-4.271.643-4.674 1.393l-8.126 15.142c-.203.379-.374.55-.46.621-.129-.108-.527-.536-1.008-2.091-.872-2.857-2.555-4.677-4.497-4.88-1.441-.15-2.757.655-3.586 2.2a.884.884 0 0 0-.067.656C8.362 24 8.94 28.132 8.847 31.71c-.14 5.454 2.516 9.687 7.88 12.566 6.882 3.693 12.689 1.963 16.358-4.874l3.25-6.057c1.78-3.316 1.42-6.064-.966-7.345ZM17.54 42.763c-4.747-2.547-7.08-6.247-6.964-11.002.1-3.642-.47-7.81-1.556-11.513.475-.72 1.084-1.086 1.735-1.02.902.095 2.231 1.11 3.01 3.664.417 1.364 1.134 3.192 2.502 3.332.562.068 1.395-.149 2.134-1.527l8.127-15.142c.455-.848.812-1.515 2.336-.697 1.524.818 1.167 1.485.712 2.333L23.48 22.547c-.812 1.514-.457 2.68.305 3.089l1.22-2.272 1.218-2.271 1.524.818c1.403.752 1.168 1.465 1.118 1.575l-.406.757c-.813 1.514-.457 2.68.305 3.09l1.219-2.272.406-.757 1.524.818c1.403.752 1.167 1.465 1.118 1.575-.812 1.514-.457 2.68.306 3.09l1.218-2.272c2.066 1.108.864 3.877.255 5.012l-3.25 6.057c-3.235 6.027-7.955 7.434-14.02 4.178Z"}))},jt=function(t){var e=t.header,r=t.pointerInputInstruction,o=t.touchInputInstruction,i=t.pointerIcon,a=t.touchIcon,s=t.customIcon;return n.az("div",{className:zt.instruction},n.az("div",{className:zt.icon},s?n.az("img",{src:s,alt:"",width:"48",height:"48"}):n.az(n.HY,null,n.az("div",{className:zt.pointerIcon},i),n.az("div",{className:zt.touchIcon},a))),n.az("div",{className:zt.instructionDetails},n.az("h2",{className:zt.instructionHeader},e),n.az("p",{className:zt.pointerInputInstruction},r),n.az("p",{className:zt.touchInputInstruction},o)))},Bt=function(t){var e,r,o,i,a=At(),s=(0,n.eJ)(wt.Z.hasShownInstructions),u=s[0],l=s[1],c=n.sO(null),d=function(){wt.Z.hasShownInstructions=!0,l(!0),t.handleInstructionsRead()};return u||!a.instructions.show?null:n.az("div",{className:zt.instructionsContainer,onClick:ref:c},n.az("div",{className:zt.instructionsModal,onClick:function(){}},n.az("div",{className:zt.instructions},n.az("div",{className:zt.header},n.az("h1",null,"Navigating Stories"),n.az("p",null,"Use the following gestures to browse story content")),n.az(jt,{header:"Go Forward",pointerInputInstruction:"Click the page",touchInputInstruction:"Tap the page",pointerIcon:n.az(Et,null),touchIcon:n.az(Rt,null),customIcon:null===(e=a.instructions.icons)||void 0===e?void 0:e.forward}),n.az(jt,{header:"Pause",pointerInputInstruction:"Click the icon in the top right",touchInputInstruction:"Press and hold",pointerIcon:n.az(Ot,null),touchIcon:n.az(Lt,null),customIcon:null===(r=a.instructions.icons)||void 0===r?void 0:r.pause}),n.az(jt,{header:"Go Back",pointerInputInstruction:"Click the left edge of the page",touchInputInstruction:"Tap the left edge",pointerIcon:n.az(Mt,null),touchIcon:n.az(qt,null),customIcon:null===(o=a.instructions.icons)||void 0===o?void 0:o.back}),n.az(jt,{header:"Move Between Stories",pointerInputInstruction:"Use the arrows",touchInputInstruction:"Swipe left or right",pointerIcon:n.az(Ut,null),touchIcon:n.az(Nt,null),customIcon:null===(i=a.instructions.icons)||void 0===i?void 0:i.swipe}),n.az("button",{className:zt.closeBtn,onClick:d},"Tap to Start"))))},Vt=o(79),Dt=o(1288),Wt=function(t){function n(e,n,r){var o=t.call(this)||this;return o.activityType=Vt.T.shareButtonTapped,o.story=e,o.page=n,o.storyIndex=r,o}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title,storyPageCount:this.story.pages.length,storyPlaybackMode:"list"}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,contentLength:this.page.duration,storyPageCount:this.story.pages.length,storyPlaybackMode:"list"}},n}(Dt.Z),Ht=function(t){function n(e,n,r){var o=t.call(this)||this;return o.activityType=Vt.T.shareSuccess,o.story=e,o.page=n,o.storyIndex=r,o}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,shareMethod:this.page.shareMethod,storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,contentLength:this.page.duration}},n}(Dt.Z),Qt=function(t){function n(e,n,r,o){var i=t.call(this)||this;return i.activityType=Vt.T.openedStory,i.openReason=e,i.story=n,i.page=r,i.storyIndex=o,i}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t,e,n=this;return{activityItemType:this.activityType,categories:this.story.categories.map((function(t){return t.name})),categoriesDetails:this.story.categories,currentCategory:null!==(e=null===(t=this.story.categories[0])||void 0===t?void 0:t.name)&&void 0!==e?e:"Home",externalId:wt.Z.userId,openedReason:this.openReason,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(t){return t.id===n.page.id})),pageType:this.page.type,storyId:this.story.id,storyIndex:this.storyIndex,storyPageCount:this.story.pages.length,storyReadStatus:this.story.status,storyTitle:this.story.title,storyPlaybackMode:"list"}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,storyPageCount:this.story.pages.length,storyPlaybackMode:"list",storyReadStatus:this.story.status,categories:this.story.categories.map((function(t){return t.name})),pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,openedReason:this.openReason,contentLength:this.page.duration}},n}(Dt.Z),Ft=function(t){function n(e,n,r){var o=t.call(this)||this;return o.activityType=Vt.T.actionButtonTapped,o.story=e,o.page=n,o.storyIndex=r,o}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,pageHasAction:!!this.page.swipeUpUrl,pageActionText:this.page.swipeUpText,pageActionUrl:this.page.swipeUpUrl,storyPageCount:this.story.pages.length,storyPlaybackMode:"list",storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,pageHasAction:!!this.page.swipeUpUrl,pageActionText:this.page.swipeUpText,pageActionUrl:this.page.swipeUpUrl,contentLength:this.page.duration}},n}(Dt.Z);!ot||(ot={})),function(t){t.storyListTap="storyListTap",t.deepLink="deepLink",t.swipe="swipe",t.navigation="navigation"}(it||(it={}));var Gt,$t=o(4051),Yt=o(3674),Jt=o(3182);!Gt||(Gt={}));var Kt,Xt=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="EngagementUnitsService",e.formatPollDeepLink=function(t,e){return t?t.includes("[POLLANSWERID]")?t.replace("[POLLANSWERID]",e):t:""},e.formatQuizDeepLink=function(t,e,n){return t?t.includes("[TRIVIAQUIZID]")?t.replace("[TRIVIAQUIZID]",e).replace("[TRIVIAQUIZSCORE]",n.toString()):t:""},e.getPollSharingText=function(t,e){var n,r,o,i=null===(n=wt.Z.settings)||void 0===n?void 0:n.sharingInstructions;if(!t||!e||!i)return"";if(e.type===Gt.image||e.type===Gt.video)return null==(o=null==i?void 0:i.default)?void 0:o.replace("[STORYTITLE]",t.title).replace("[LINK]",e.deepLinkInternal);if(e.type===Gt.poll){var a=wt.Z.polls,s=wt.Z.pollAnswerMap,u=a.find((function(t){return t.engagementUnitId===e.engagementUnit.id})),l=u&&s[null==u?void 0:u.id],c=(null===(r=null==u?void 0:u.answers.find((function(t){return t.id===l})))||void 0===r?void 0:r.title)||"";return null==(o=l?null==i?void 0:i.poll.answered:null==i?void 0:i.poll.unanswered)?void 0:o.replace("[POLLQUESTION]",e.engagementUnit.title).replace("[POLLANSWER]",c).replace("[LINK]","")}return""},e.getQuizSharingText=function(t,e,n,r){var o,i,a=null===(o=wt.Z.settings)||void 0===o?void 0:o.sharingInstructions;return t&&e&&a?e.type===Gt.image||e.type===Gt.video?null==(i=null==a?void 0:a.default)?void 0:i.replace("[STORYTITLE]",t.title).replace("[LINK]",e.deepLinkInternal):e.type===Gt.triviaQuiz?null==(i=null==a?void 0:a.triviaQuiz)?void 0:i.replace("[TRIVIAQUIZTITLE]",r).replace("[TRIVIAQUIZSCORE]",n.toString()).replace("[LINK]",""):"":""},e}return(0,e.ZT)(n,t),n.sharedInstance=new n,n}(gt.b).sharedInstance,te=o(1405),ee=function(){return(0,n.qp)(dt)},ne=n.kr({}),re=function(t){var e=t.children,r=t.storyId,o=t.pageId,i=t.basename,a=t.isVisible,s=t.playAllStories,u=(0,n.qp)(et).stories||[],l=(0,n.sO)(null),c=ee(),d=(0,n.sO)(0),p=(0,n.eJ)(!1),f=p[0],h=p[1],y=(0,n.sO)(!0),v=At(),g=(0,n.eJ)(null),_=g[0],m=g[1];return(0,n.d4)((function(){var t;f||(y.current=!1,null===(t=l.current)||void 0===t||t.mute())}),[f]),n.az(ne.Provider,{value:{storyId:r,pageId:o,basename:i,isVisible:a,playAllStories:s,stories:u,player:l,finalStoryIndex:d,initialScrollPosition:_,muteState:y,setInitialScrollPosition:m,setLightboxVisible:h,isLightboxVisible:f,delegate:c,theme:v}},e)},oe=ie=o(9793),ae=o(6182),se=function(t){function n(e,n,r,o){var i=t.call(this)||this;return i.activityType=Vt.T.votedPoll,i.story=n,i.page=r,i.storyIndex=o,i.answerId=e,i}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,pollAnswerId:this.answerId,storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,pageHasAction:!!this.page.swipeUpUrl,pageActionText:this.page.swipeUpText,pageActionUrl:this.page.swipeUpUrl,pollAnswerId:this.answerId,contentLength:this.page.duration}},n}(Dt.Z),ue=function(t){function n(e,n,r,o){var i=t.call(this)||this;return i.activityType=Vt.T.dismissedStory,i.reason=e,i.story=n,i.page=r,i.storyIndex=o,i}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,dismissedReason:this.reason,durationViewed:$t.Z.durationViewed,externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,pagesViewedCount:$t.Z.pagesViewed,storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title,storyPlaybackMode:"list",storyPageCount:this.story.pages.length}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,storyPageCount:this.story.pages.length,storyReadStatus:this.story.status,categories:this.story.categories.map((function(t){return t.name})),pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,dismissedReason:this.reason,pagesViewedCount:$t.Z.pagesViewed,durationViewed:$t.Z.durationViewed,contentLength:this.page.duration,storyPlaybackMode:"list"}},n}(Dt.Z),le=function(t){function n(e,n,r){var o=t.call(this)||this;return o.activityType=Vt.T.skippedStory,o.story=e,o.page=n,o.storyIndex=r,o}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,storyPlaybackMode:"list",storyPageCount:this.story.pages.length}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,contentLength:this.page.duration}},n}(Dt.Z),ce=function(t){function n(e,n,r){var o=t.call(this)||this;return o.activityType=Vt.T.previousStory,o.story=e,o.page=n,o.storyIndex=r,o}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,contentLength:this.page.duration}},n}(Dt.Z),de=function(t){function n(e,n,r){var o=t.call(this)||this;return o.activityType=Vt.T.completedStory,o.story=e,o.page=n,o.storyIndex=r,o}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title,storyPlaybackMode:"list",storyPageCount:this.story.pages.length,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,contentLength:this.page.duration,storyPlaybackMode:"list",storyPageCount:this.story.pages.length}},n}(Dt.Z),pe=function(t){function n(e,n,r,o){var i=t.call(this)||this;return i.activityType=Vt.T.openedPage,i.story=e,i.page=n,i.storyIndex=r,i.openedReason=o,i}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t=this;return{activityItemType:this.activityType,externalId:wt.Z.userId,openedReason:this.openedReason,pageHasAction:!!this.page.swipeUpUrl,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageActionText:this.page.swipeUpText,pageActionUrl:this.page.swipeUpUrl,pageType:this.page.type,storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,pageHasAction:!!this.page.swipeUpUrl,pageActionText:this.page.swipeUpText,pageActionUrl:this.page.swipeUpUrl,contentLength:this.page.duration}},n}(Dt.Z),fe=function(t){function n(e,n,r){var o=t.call(this)||this;return o.activityType=Vt.T.previousPage,o.story=e,o.page=n,o.storyIndex=r,o}return(0,e.ZT)(n,t),n.prototype.buildRequestContent=function(){var t,e,n=this;return{activityItemType:this.activityType,currentCategory:null!==(e=null===(t=this.story.categories[0])||void 0===t?void 0:t.name)&&void 0!==e?e:"Home",externalId:wt.Z.userId,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(t){return t.id===n.page.id})),pageType:this.page.type,storyId:this.story.id,storyIndex:this.storyIndex,storyTitle:this.story.title,storyPlaybackMode:"list",storyPageCount:this.story.pages.length}},n.prototype.buildEventData=function(){var t=this;return{storyId:this.story.id,storyTitle:this.story.title,storyIndex:this.storyIndex,pageId:this.page.id,pageIndex:this.story.pages.findIndex((function(e){return e.id===t.page.id})),pageType:this.page.type,contentLength:this.page.duration,storyPlaybackMode:"list",storyPageCount:this.story.pages.length}},n}(Dt.Z),he=function(t){if(!t)return"";var e={"ad-attributes":{type:t.type||"doubleclick","data-slot":t.slot,"data-url":t.remoteUrl}};return JSON.stringify(e,()};!function(t){t.noAds="noAds",t.storyteller="storyteller",t.integratingApp="integratingApp"}(Kt||(Kt={}));var ye,ve=o(5601),ge=n.az("div",{className:"loadingSpinner-1ebxsH"},n.az("div",null),n.az("div",null),n.az("div",null),n.az("div",null)),_e=function(t){var r,o,i=t.uiStyle,a=t.useGoogleWebStoryUrls,s=(0,n.qp)(et).stories,u=(0,n.eJ)(s),l=u[0],c=u[1];(0,n.d4)((,[s]),function(t){var e=(0,n.eJ)(t?"loading":"idle"),r=e[0],o=e[1];(0,n.d4)((function(){if(t){var e=document.querySelector('script[src="'+t+'"]');if(e)o(e.getAttribute("data-status")||"");else{(e=document.createElement("script")).src=t,e.async=!0,e.setAttribute("data-status","loading"),document.body.appendChild(e);var n=function(t){null==e||e.setAttribute("data-status","load"===t.type?"ready":"error")};e.addEventListener("load",n),e.addEventListener("error",n)}var r=function(t){o("load"===t.type?"ready":"error")};return e.addEventListener("load",r),e.addEventListener("error",r),function(){e&&(e.removeEventListener("load",r),e.removeEventListener("error",r))}}o("idle")}),[t])}(ve.nD+"/amp-story-player-v0.js"),function(t){var e=(0,n.eJ)(t?"loading":"idle"),r=e[0],o=e[1];(0,n.d4)((function(){if(t){var e=document.querySelector('link[href="'+t+'"]');if(e)o(e.getAttribute("data-status")||"");else{(e=document.createElement("link")).href=t,e.rel="stylesheet",e.type="text/css",e.setAttribute("data-status","loading"),document.body.appendChild(e);var n=function(t){null==e||e.setAttribute("data-status","load"===t.type?"ready":"error")};e.addEventListener("load",n),e.addEventListener("error",n)}var r=return e.addEventListener("load",r),e.addEventListener("error",r),o("idle")}),[t])}(ve.nD+"/amp-story-player-v0.css");var d=At(),p=ee(),f=(0,n.eJ)(!1)[1],h=n.sO(null);(0,n.d4)((function(){h.current&&Tt.Z.setCssVariables(d,h.current)}),[d,h.current]);var y=JSON.stringify({behavior:{autoplay:!1,pageScroll:!1},controls:[{name:"share",position:"end",visibility:(window.navigator.share||p.onShareButtonClicked)&&d.player.showShareButton?"visible":"hidden"},{name:"close",position:"end"}],display:{icon:!!d.player.showStoryIcon&&"visible"}}),v=function(){var t,r=oe(),o=r.storyId,i=r.pageId,a=r.isVisible,s=r.stories,u=r.player,l=r.setLightboxVisible,c=r.setInitialScrollPosition,d=r.isLightboxVisible,p=r.delegate,f=r.muteState,h=function(){var t;a&&l(!0),null===(t=u.current)||void 0===t||t.removeEventListener("storyNavigation",h)};(0,n.d4)((function(){var t;a?(c(window.scrollY),null===(t=u.current)||void 0===t||t.addEventListener("storyNavigation",h),d||h()):l(!1)}),[a]);var y=(0,n.sO)(),v=(0,n.sO)(),g=function(t){return v.current=t},_=m=function(t){var e,r,o=t.currentStory,i=t.currentPage,a=t.setCurrentStory,s=t.setCurrentPage,u=oe(),l=u.setLightboxVisible,c=u.isVisible,d=u.basename,p=u.player,f=u.initialScrollPosition,h=u.setInitialScrollPosition,y=u.stories,v=u.delegate,g=u.playAllStories,_=u.theme,m=u.finalStoryIndex,w=u.muteState,b=(0,n.sO)(Object.assign({},o.current)),I=(0,n.sO)(Object.assign({},i.current)),S=x=(0,n.eJ)(c),C=x[0],T=x[1],P=D(),k=(e=c,r=(0,n.sO)(),(0,n.d4)((,[e]),r),Z=(0,n.sO)(),z=function(t){T(!1),l(!1),p&&p.current&&(p.current.pause(),p.current.resetCurrentPage()),P.push("/"),f&&(window.scrollTo({top:f}),h(null)),o.current&&i.current&&$t.Z.recordActivity(new ue(t,o.current,i.current,y.indexOf(o.current)),v)},A=(0,n.I4)((function(t){return t?y.findIndex((function(e){return e.id===t.id})):-1}),[y]),E=(0,n.I4)((function(t){var e;if(c){var n=y&&y[t.detail.index];if(n&&y)if(!g&&A(n)>m.current&&m.current>=0)z(ot.navigatedFinalPage);else{if(S(),a(n),Z.current&&(new Date).getTime()-Z.current.date.getTime()<250){if(!o.current)return;$t.Z.recordActivity(new Qt(it.swipe,o.current,o.current.pages[o.current.initialPage],y.indexOf(o.current)),v)}else if($t.Z.durationViewed>250){if(!o.current)return;$t.Z.recordActivity(new Qt(it.navigation,o.current,o.current.pages[o.current.initialPage],y.indexOf(o.current)),v)}b.current&&i.current&&b.current.status!==X.read&&A(o.current)>A(b.current)&&$t.Z.recordActivity(new le(b.current,i.current,y.indexOf(b.current)),v),o.current&&i.current&&b.current&&A(null==o?void 0:o.current)<A(null==b?void 0:b.current)&&$t.Z.recordActivity(new ce(b.current,i.current,A(b.current)),v),v.tileBecameVisible(y.findIndex((function(t){var e;return t.id===(null===(e=o.current)||void 0===e?void 0:e.id)}))),(null===(e=o.current)||void 0===e?void 0:e.id)&&P.replace("/"+d+"/"+o.current.id)}}}),[y,b,I,k,c,m.current,_]),O=(0,n.I4)((function(t,e){return t&&e?t.pages.findIndex((function(t){return t.id===e.id})):-1}),[y]),M=(0,n.I4)((function(t){var e,n,r,u,l,d;if(c){if(I.current=Object.assign({},i.current),a(y.find((function(e){return e.pages.findIndex((function(e){return e.id===t.detail.pageId}))>=0}))),s(null===(n=o.current)||void 0===n?void 0:n.pages.find((function(e){return e.id===t.detail.pageId}))),o.current&&i.current&&y){var f=O(o.current,i.current),h=null===(r=window.navigator.userActivation)||void 0===r?void 0:r.hasBeenActive;o.current.status===X.unread&&f===o.current.pages.length-1&&$t.Z.recordActivity(new de(o.current,i.current,A(o.current)),v),bt.setPageViewed(i.current),$t.Z.recordActivity(new pe(o.current,i.current,y.indexOf(o.current),it.navigation),v),I.current&&i.current.storyId===(null===(u=I.current)||void 0===u?void 0:u.storyId)&&f<O(o.current,I.current)&&$t.Z.recordActivity(new fe(o.current,I.current,A(b.current)),v),w.current&&(null===(l=p.current)||void 0===l||l.mute()),!w.current&&h&&(null===(d=p.current)||void 0===d||d.unmute())}}else null===(e=p.current)||void 0===e||e.pause()}),[y,b,I,c]);return{closeStoryView:z,initiallyVisible:C,handleStoryNavigation:E,previousStory:b,setPreviousStory:S,previousPage:I,lastNavigationSwipe:Z,getStoryIndex:A,handlePageNavigation:M,getPageIndex:O,handleCloseButtonClicked:function(){return z(ot.closeButtonTapped)},handleNoNextStory:handleSetFinalStoryIndex:function(t){var e=t===X.read||-1===y.findIndex((function(t){return t.status===X.read}))?y.length-1:y.findIndex((function(t){return t.status===X.read}))-1;m.current=e}}}({currentStory:y,currentPage:v,setCurrentStory:_,setCurrentPage:g}),w=m.closeStoryView,b=m.initiallyVisible,I=m.handleStoryNavigation,S=m.previousStory,x=m.lastNavigationSwipe,C=m.getStoryIndex,T=m.handlePageNavigation,P=m.handleCloseButtonClicked,k=m.handleNoNextStory,Z=m.handleSetFinalStoryIndex,z=function(t){var e,n,r=t||(null===(e=y.current)||void 0===e?void 0:e.id)||"",o=u&&u.current&&(null===(n=u.current)||void 0===n?void 0:n.getStories)?u.current.getStories():[];return(null==o?void 0:o.filter((function(t){return-1!==t.href.indexOf(r)})).length)?null==o?void 0:o.filter(()[0]:null},A=(0,n.I4)((,[s]),E=function(t,e,n){var r,o;(null===(r=u.current)||void 0===r?void 0:r.isReady)?u.current.show(t,e,n):null===(o=u.current)||void 0===o||o.addEventListener("ready",(function(){var r;return null===(r=u.current)||void 0===r?void 0:r.show(t,e,n)}))};(0,n.d4)((function(){var t,e;if(a){_(A(o||"")),!(null===(t=z())||void 0===t?void 0:t.storyContentLoaded)&&wt.Z.hasShownInstructions||h(),S.current||(S.current=y.current);var n=z();if(n&&u&&u.current&&y.current){if($t.Z.viewStartTime=new Date,Z(y.current.status),y.current.status===X.read&&(null===(e=u.current)||void 0===e||e.rewind(n.href)),i)E(n.href,i,{animate:!1});else{var r=y.current.pages[y.current.initialPage];E(n.href,null==r?void 0:r.id,{animate:!1})}wt.Z.hasShownInstructions&&u.current.play(),$t.Z.durationViewed<250&&b&&$t.Z.recordActivity(new Qt(it.deepLink,y.current,y.current.pages[y.current.initialPage],s.indexOf(y.current)),p),p.tileBecameVisible(s.findIndex((function(t){var e;return t.id===(null===(e=y.current)||void 0===e?void 0:e.id)})))}}}),[a,null===(t=u.current)||void 0===t?void 0:t.getStories,u.current,i]);var O=(0,n.I4)((function(){y.current&&v.current&&$t.Z.recordActivity(new Ft(y.current,v.current,s.indexOf(y.current)),p)}),[s]),M=(0,n.I4)((function(t,e){var n,r;y.current&&v.current&&($t.Z.recordActivity(new Wt(y.current,v.current,s.indexOf(y.current)),p),null===(n=u.current)||void 0===n||n.pause(),p.onShareButtonClicked?(p.onShareButtonClicked(e,y.current.title,t),null===(r=u.current)||void 0===r||r.play()):navigator.share({text:e,title:y.current.title,url:t}).then((function(){var t;(0,te.b1)()&&(null===(t=u.current)||void 0===t||t.play(),y.current&&v.current&&$t.Z.recordActivity(new Ht(y.current,v.current,C(y.current)),p))})).catch((function(){var t;return(0,te.b1)()&&(null===(t=u.current)||void 0===t?void 0:t.play())})))}),[s,p]),U=(0,n.sO)([]),R=(0,n.I4)((function(t){t.persisted&&a&&window.location.reload()}),[a]),L=function(t){var n=t.currentStory,r=t.currentPage,o=t.handleShareButtonTapped,i=oe(),a=i.stories,s=i.delegate;return{getPollAnswerId:function(){var t=n.current,e=r.current,o=wt.Z.polls,i=wt.Z.pollAnswerMap;if(!t||!e)return"";var a=o.find(();return a&&i[null==a?void 0:a.id]||""},pollSharingText:Xt.getPollSharingText(n.current,r.current),handleAnsweredQuiz:function(t){var o,i,u=t.detail,l=u.quiz,c=u.questionId,d=u.answerId,p=u.score;n.current&&r.current&&(wt.Z.quizAnswerMap=(0,e.pi)((0,e.pi)({},wt.Z.quizAnswerMap),((o={})[r.current.id]=(0,e.pi)((0,e.pi)({},wt.Z.quizAnswerMap[r.current.id]),((i={})[c]=d,i)),o)),$t.Z.recordActivity(new ie.Z(l,d,c,a.indexOf(n.current),n.current,r.current),s),p&&$t.Z.recordActivity(new ae.Z(l,p,a.indexOf(n.current),n.current,r.current),s))},handlePollVote:function(t){var o;if(n.current&&r.current){var i=t.detail.pollId,u=t.detail.answerId;wt.Z.pollAnswerMap=(0,e.pi)((0,e.pi)({},wt.Z.pollAnswerMap),((o={})[i]=u,o)),$t.Z.recordActivity(new se(u,n.current,r.current,a.indexOf(n.current)),s)}},handlePollsReceived:function(t){var n=t.detail.polls;wt.Z.polls=(0,e.ev)([],n)},handleQuizResultsShareButtonTapped:function(t){var e=t.detail.quizId,i=t.detail.score,a=t.detail.title,s=void 0!==r.current?r.current.deepLinkInternal:"",u=Xt.formatQuizDeepLink(s,e,i),l=Xt.getQuizSharingText(n.current,r.current,i,a);l&&o(u,l)}}}({currentStory:y,currentPage:v,handleShareButtonTapped:M}),q=L.getPollAnswerId,N=L.pollSharingText,j=L.handleAnsweredQuiz,B=L.handlePollVote,V=L.handlePollsReceived,W=L.handleQuizResultsShareButtonTapped;return(0,Yt.Z)("navigation",I,u),(0,Yt.Z)("storyNavigation",T,u),(0,Yt.Z)("noNextStory",k,u),(0,Yt.Z)("page-attachment-open",O,u),(0,Yt.Z)("amp-story-player-close",P,u),(0,Yt.Z)("amp-story-player-share",(function(){return M(void 0!==v.current&&v.current.type===Gt.poll?Xt.formatPollDeepLink(v.current.deepLinkInternal,q()):void 0!==v.current?null==v?void 0:v.current.deepLinkInternal:"",void 0!==v.current&&v.current.type===Gt.poll?N:"")}),u),(0,Yt.Z)("amp-story-player-touchend",(function(t){if(t.detail.isNavigationalSwipe){var e=U.current[0]-U.current[U.current.length-1];if(Math.abs(e)<50)return;x.current={direction:e<0?"right":"left",date:new Date},y.current&&v.current&&"left"===x.current.direction&&C(y.current)===s.length-1?w(ot.swipedFinalStory):y.current&&v.current&&"right"===x.current.direction&&0===C(y.current)&&w(ot.swipedFirstStory)}U.current=[]}),u),(0,Yt.Z)("amp-story-player-touchmove",(function(t){U.current=(0,e.ev)((0,e.ev)([],U.current),t.detail.touches.map(())}),u),(0,Yt.Z)("amp-story-muted-state",(,u),(0,Yt.Z)("pageshow",R),(0,Yt.Z)(Jt.C.votedPoll,B),(0,Yt.Z)(Jt.C.shareButtonTapped,W),(0,Yt.Z)(Jt.C.answeredQuiz,j),(0,Yt.Z)(Jt.C.pollsReceived,V),(0,Yt.Z)(Jt.C.playerControl,(function(t){var e,n=t.detail.operation;if(u.current){if("play"===n)u.current.play();else if("pause"===n)u.current.pause();else if("go-to-next-page"===n)u.current.go(0,1);else if("go-to-next-page-or-story"===n){var r=(null===(e=y.current)||void 0===e?void 0:e.pages)||[],o=r.findIndex(();console.log({currentPageIndex:o,currentStoryPages:r}),o===r.length-1?u.current.go(1,0):u.current.go(0,1)}}else console.error("!!! No player.current set in handlePlayerControls")})),{player:u,currentStory:y,currentPage:v,setCurrentPage:g,setCurrentStory:_,isLightboxVisible:d,closeStoryView:w}}(),g=v.player,_=v.isLightboxVisible,m=v.closeStoryView;!function(t,e,r){if(t){var o=(0,n.sO)({scaleVal:1,scalingDown:!1,toggleThresholdPx:60,deltaY:0,isSwipeY:null,touchStartX:0,touchStartY:0}),i=function(e){var n,r;t.current&&e<1&&o.current.scalingDown&&(o.current.scaleVal=(r=e,1*(1-(n=--r*r*r+1))+.95*n),t.current.style.transform="translate3d(0px, "+Math.pow(-o.current.deltaY,.6)+"px, 0) scale3d("+o.current.scaleVal+", "+o.current.scaleVal+", 1)",requestAnimationFrame(())},a=(0,Yt.Z)("amp-story-player-touchstart",(function(e){var n;null===(n=t.current)||void 0===n||n.classList.add("dragging"),o.current.touchStartX=e.detail.touches[0].screenX,o.current.touchStartY=e.detail.touches[0].screenY}),e),(0,Yt.Z)("amp-story-player-touchmove",(function(e){if(t.current){var n=e.detail.touches[0],r=n.screenX,a=n.screenY;null===o.current.isSwipeY&&(o.current.isSwipeY=Math.abs(o.current.touchStartY-a)>Math.abs(o.current.touchStartX-r)),!1!==o.current.isSwipeY&&(o.current.deltaY=o.current.touchStartY-a,o.current.deltaY>0||(o.current.scalingDown||(o.current.scalingDown=!0,i(0)),o.current.isSwipeY=!0,t.current.style.transform="translate3d(0, "+Math.pow(-o.current.deltaY,.6)+"px, 0) scale3d("+o.current.scaleVal+", "+o.current.scaleVal+", 1)"))}}),e),(0,Yt.Z)("amp-story-player-touchend",(function(){var e;o.current.scalingDown=!1,o.current.scaleVal=1,null===(e=t.current)||void 0===e||e.classList.remove("dragging"),!0===o.current.isSwipeY&&Math.abs(o.current.deltaY)>o.current.toggleThresholdPx?(r(ot.swipedDown),a()):!0===o.current.isSwipeY&&a(),o.current.isSwipeY=null}),e)}}(h,g,m);var w=D();return(0,n.d4)((function(){l&&t.initialStoryId&&!l.find((function(e){return e.id===t.initialStoryId}))&&(0,e.mG)(void 0,void 0,void 0,(function(){var n,r,o;return(0,e.Jh)(this,(function(e){switch(e.label){case 0:n=e.label=1;case 1:return e.trys.push([1,3,,4]),[4,xt.loadStory(t.initialStoryId)];case 2:return(r=e.sent())?c([r]):n(),[3,4];case 3:return o=e.sent(),console.error(o),n(),[3,4];case 4:return[2]}}))}))}),[l,t.initialStoryId]),(0,n.d4)((function(){var t,e=function(){var t;null===(t=g.current)||void 0===t||t.play()};return(null==l?void 0:l.length)&&wt.Z.hasShownInstructions&&(null===(t=g.current)||void 0===t||t.addEventListener("ready",e)),),[l]),(0,n.d4)((function(){var t;l&&(null===(t=g.current)||void 0===t||t.addEventListener("ready",())}),[l]),(0,n.d4)((function(){var t,e;window.AmpStoryPlayer&&!(null===(t=g.current)||void 0===t?void 0:t.isReady)&&l&&(new window.AmpStoryPlayer(window,g.current),null===(e=g.current)||void 0===e||e.load())}),[l,null===(o=g.current)||void 0===o?void 0:o.load]),l?n.az("div",{className:Zt()("lightbox-gFaoXS",(r={},r["closed-drtrOI"]=!_,r)),ref:h},ge,n.az("amp-story-player",{class:"storytellerPlayer-XUMRIZ",ref:g,key:l.map(().join()},n.az("script",{type:"application/json"},y),l&&l.map((function(e,r){var o,s=Tt.Z.toSerializableTheme(t.uiTheme),u=function(t,e){var n,r,o=null;return(null===(n=wt.Z.settings)||void 0===n?void 0:n.adsFrom)===Kt.storyteller?o={type:"custom",remoteUrl:vt.Z.buildUrl("interstitialAd/Ads/"+t+"?position="+e),frequency:2}:(null===(r=wt.Z.settings)||void 0===r?void 0:r.adsFrom)===Kt.integratingApp&&(o=p.getAdConfig(l)),o}(e.id,r),c=(null==u?void 0:u.frequency)||2,d=new URLSearchParams({userId:wt.Z.userId||"",storyId:e.id,sortIndex:r.toString(),"x-storyteller-api-key":wt.Z.apiKey||"",adConfig:r%c==0?he(u):"",theme:JSON.stringify(s),uiStyle:i});return t.categories&&t.categories.forEach((),o=a&&e.googleWebStoryUrl?e.googleWebStoryUrl:e.webStoryUrl+"?"+d.toString()+"#page="+e.pages[e.initialPage].id,n.az("a",{href:o,key:e.id},n.az("img",{src:e.thumbnailUrl,loading:"lazy",width:"360",height:"600","data-amp-story-player-poster-img":!0}))}))),n.az(Bt,{handleInstructionsRead:)):null},me=o(7375),we=o(5887),be=function(r){function o(e,n,o){void 0===o&&(o=!1);var i=r.call(this)||this;i.logTag="StorytellerListViewBase",i.storiesStatus="idle",i._delegate=new ct;var a=document.getElementById(e);return a?(a.classList.add("storyteller"),i.rootEl=a,i.playerContainerEl=document.body.appendChild(document.createElement("div")),i.playerContainerEl.id="storyteller-player-"+i.basename,i._theme=Tt.Z.clone(t.Z.theme),i.buildTheme(),st.Z.on(ut._.themeUpdated,(),i.listCategories=n,i._useGoogleWebStoryUrls=o,Pt.Z.intialize(),i.initialize(),i):i}return(0,e.ZT)(o,r),o.prototype.openStory=function(t){var e,n;if(null===(e=this.stories)||void 0===e?void 0:e.length){var r=this.stories.find((function(e){return e.id===t}));location.hash=this.basename+"/"+(null!==(n=null==r?void 0:r.id)&&void 0!==n?n:t)}},o.prototype.openPage=function(t,e){var n,r=null===(n=this.stories)||void 0===n?void 0:n.find(();r?location.hash=this.basename+"/"+r.id+"/"+t:null==e||e("The page with id "+t+" could not be found")},o.prototype.parseAttributes=o.prototype.parseBaseAttributes=function(){var t=this.rootEl.dataset.uiStyle,e=we.V.auto;return t&&(e=we.V[t]),{uiStyle:e}},Object.defineProperty(o.prototype,"delegate",{get:function(){return this._delegate},set:function(t){this._delegate=Object.assign(new ct,t)},enumerable:!1,configurable:!0}),o.prototype.reloadData=Object.defineProperty(o.prototype,"theme",{get:function(){return this._theme},set:function(t){this.themeInput=t,this.buildTheme()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"uiStyle",{get:set:function(t){this._attributes.uiStyle=t,this.buildTheme()},enumerable:!1,configurable:!0}),o.prototype.buildTheme=function(){this.themeInput?this._theme=Tt.Z.merge(t.Z.theme,this.themeInput):this._theme=Tt.Z.clone(t.Z.theme),this.listTheme=new me.V(Tt.Z.prefersDarkMode(this.uiStyle),this._theme).build(),Tt.Z.setCssVariables(this.listTheme,this.rootEl),this.renderStoryteller()},Object.defineProperty(o.prototype,"categories",{get:function(){return this.listCategories},set:enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"displayLimit",{get:set:enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"basename",{get:enumerable:!1,configurable:!0}),o.prototype.onError=function(t){var e,n;this.logError(t.message),null===(n=(e=this.delegate).onError)||void 0===n||n.call(e,t)},o.prototype.onStoriesLoadSuccess=function(t){var e,n;t?(this.storiesStatus="success",this.stories=t,null===(n=(e=this.delegate).onStoriesDataLoadComplete)||void 0===n||n.call(e,!0,null,this.stories.length),this.renderStoryteller()):this.onStoriesLoadFailure(new Error("Stories null"))},o.prototype.onStoriesLoadFailure=function(t){var e,n,r,o;console.error(t),this.storiesStatus="error",t instanceof Error?null===(n=(e=this.delegate).onStoriesDataLoadComplete)||void 0===n||n.call(e,!1,t,0):null===(o=(r=this.delegate).onStoriesDataLoadComplete)||void 0===o||o.call(r,!1,Ct.G.unknown,0)},o.prototype.loadStories=function(){var t,n;return(0,e.mG)(this,void 0,void 0,(function(){var r;return(0,e.Jh)(this,(function(e){switch(e.label){case 0:return this.storiesStatus="pending",this.renderStoryteller(),(r=xt.loadStories(this.listCategories)).then(this.onStoriesLoadSuccess.bind(this),this.onStoriesLoadFailure.bind(this)).catch(this.onStoriesLoadFailure.bind(this)),null===(n=(t=this.delegate).onStoriesDataLoadStarted)||void 0===n||n.call(t),[4,r];case 1:return e.sent(),[2]}}))}))},o.prototype.getDisplayStories=function(){var t,e;return null!==(e=null===(t=this.stories)||void 0===t?void 0:t.slice(0,this.displayLimit))&&void 0!==e?e:null},o.prototype.initialize=function(){this._attributes=this.parseAttributes(this.parseBaseAttributes()),this.loadStories(),this.renderStoryteller()},o.prototype.renderStorytellerList=function(){n.sY(n.az(yt,{stories:this.getDisplayStories(),storiesStatus:this.storiesStatus,basename:this.rootEl.dataset.baseUrl||"stories",delegate:this._delegate,onError:this.onError.bind(this),rootEl:this.rootEl,theme:this.listTheme},n.az(B,{render:this.renderList.bind(this)})),this.rootEl)},o.prototype.renderPlayer=function(){var t=this;n.sY(n.az(yt,{stories:this.stories,storiesStatus:this.storiesStatus,basename:this.rootEl.dataset.baseUrl||"stories",delegate:this._delegate,onError:this.onError.bind(this),rootEl:this.rootEl,theme:this.listTheme},n.az(B,{path:"/:basename?/:storyId?/:pageId?",children:function(e){var r=e.match;return n.az(re,{storyId:null==r?void 0:r.params.storyId,pageId:null==r?void 0:r.params.pageId,basename:t.basename,isVisible:!!(null==r?void 0:r.params.storyId)&&t.basename===(null==r?void 0:r.params.basename),playAllStories:t.listTheme.player.playAllStories},n.az(_e,{stories:t.stories,initialStoryId:null==r?void 0:r.params.storyId,initialPageId:null==r?void 0:r.params.pageId,basename:t.basename,categories:t.listCategories,playAllStories:t.listTheme.player.playAllStories,uiTheme:t.theme,uiStyle:t.uiStyle,useGoogleWebStoryUrls:t._useGoogleWebStoryUrls}))}})),this.playerContainerEl)},o.prototype.renderStoryteller=o.prototype.unmount=o}(gt.b),Ie="storyScrollBtn-2qvfQQ",Se="visible-2dO19q",xe="hideFade-29skuV",Ce="scrollArrow-woms8P",Te="touch-3AexNz";!ye||(ye={}));var Pe,ke=function(t,e,r){var o=At().storyTiles.circularTile.title.hide,i=2/3,a=(0,n.sO)(null),s=(0,n.eJ)({width:0,height:0,aspectRatio:0}),u=s[0],l=s[1],c=(0,n.I4)((function(){if(t){if("row"===r){var n=null==t?void 0:t.clientHeight;return e===ye.round&&(i=o?1:(n-52)/n),void l({width:i*n,height:n,aspectRatio:i})}var a=null==t?void 0:t.clientWidth;e===ye.round&&(i=o?1:a/(a+52)),l({width:a,height:a/i,aspectRatio:i})}else l({width:0,height:0,aspectRatio:0})}),[e,t]);return(0,n.d4)((function(){t&&window.ResizeObserver&&(a.current&&a.current.unobserve(t),a.current=new ResizeObserver(c),a.current.observe(t))}),[t,c]),(0,n.d4)((function(){c()}),[t,e,r,c]),u},Ze=ze={storyCellContainer:"storyCellContainer-26QJad",round:"round-3KlhYF",loadingSpinner:"loadingSpinner-2otqmD",roundCellContainer:"roundCellContainer-1OR5l0",rectangular:"rectangular-2IU7A0",fullWidth:"fullWidth-26Opkm",fullHeight:"fullHeight-qJMcnE",live:"live-2YvNrJ",liveUnread:"liveUnread-13NTze",liveRead:"liveRead-3wZ5ol",storyCell:"storyCell-qjxGc6",chip:"chip-3cPAnQ",newChip:"newChip-1FFuAI",liveReadChip:"liveReadChip-1Aub0S",liveUnreadChip:"liveUnreadChip-3WqwD6",newChipAlignRight:"newChipAlignRight-jOF3-L",newChipAlignLeft:"newChipAlignLeft-3104Pt",newChipAlignCenter:"newChipAlignCenter-16MexQ",rectangularBackground:"rectangularBackground-1GSaHZ",roundBackground:"roundBackground--B095B",storyViewed:"storyViewed-2KQIJT",loading:"loading-1YxjNW",storyTitle:"storyTitle-1O1XMh",showGradient:"showGradient-3esoIJ",titlePlaceholder:"titlePlaceholder-1G1IlS",titlePlaceholderContainer:"titlePlaceholderContainer-KHMjHW",fallback:"fallback-4ojXYI"};!function(t){t.liveRead="liveRead",t.liveUnread="liveUnread",t.new="new"}(Pe||(Pe={}));var Ae,Ee=function(t){var e=t.read,r=At();return e?r.storyTiles.liveChip.readImage?n.az("img",{src:r.storyTiles.liveChip.readImage}):n.az(n.HY,null,"live"):r.storyTiles.liveChip.unreadImage?n.az("img",{src:r.storyTiles.liveChip.unreadImage}):n.az(n.HY,null,"live")},Oe=function(t){var e,r=t.chipType,o=t.alignment;return r?n.az("span",{className:Zt()(ze.chip,ze[r+"Chip"],(e={},e[ze.newChipAlignRight]="right"===o,e[ze.newChipAlignLeft]="left"===o,e[ze.newChipAlignCenter]="center"===o,e)),role:"presentation"},r===Pe.new?"new":n.az(Ee,{read:r===Pe.liveRead})):n.az("span",null)},Me=(0,n.Gp)((function(t,r){var o=t.to,i=t.native,a=t.children,s=(0,e._T)(t,["to","native","children"]);return i?n.az("a",(0,e.pi)({href:o,ref:r},s),a):n.az(Y,(0,e.pi)({to:o,ref:r},s),a)})),Ue=function(t){var e,r=t.alignment;return n.az("svg",{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",height:"16",viewBox:"0 0 24 24",width:"16",className:Zt()("storyIcon-3i1CVl",(e={},e["alignLeft-1QXmx0"]="left"===r,e["alignRight-1FFd_U"]="right"===r,e))},n.az("g",null,n.az("rect",{fill:"none",height:"24",width:"24"})),n.az("g",null,n.az("g",null),n.az("g",null,n.az("rect",{fill:"var(--storyteller-colors-white-primary)",height:"15",width:"10",x:"7",y:"4"}),n.az("rect",{fill:"var(--storyteller-colors-white-primary)",height:"11",width:"2",x:"3",y:"6"}),n.az("rect",{fill:"var(--storyteller-colors-white-primary)",height:"11",width:"2",x:"19",y:"6"}))))},Re=o(8312),Le=o(6781),qe=function(t){var e,r,o,i=t.story,a=t.storyViewed,s=t.handleStoryClick,u=t.fullWidth,l=t.fullHeight,c=t.fallback,d=t.shouldLoad,p=t.googleWebStoryUrl,f=(0,n.sO)(null),h=ke(null===(o=f.current)||void 0===o?void 0:o.parentElement,ye.square,l?"row":"column"),y=h.height,v=h.width,g=At(),_=function(t,e){switch(t.storyTiles.rectangularTile.chip.alignment){case Le.v.start:return e===Re.m5.ltr?"left":"right";case Le.v.end:return e===Re.m5.ltr?"right":"left";case Le.v.center:return"center";default:return e===Re.m5.ltr?"right":"left"}}(g,(0,Re.sF)()),m=_),w=null==i?void 0:i.isLive,b=w&&a?Pe.liveRead:w?Pe.liveUnread:a?null:Pe.new;return n.az(Me,{to:p||"/"+t.basename+"/"+(null==i?void 0:i.id),native:!!t.googleWebStoryUrl,onClick:s,className:Zt()(ze.storyCellContainer,ze.rectangular,(e={},e[ze.fullWidth]=u,e[ze.fullHeight]=l,e[ze.fallback]=c,e)),style:{width:v,height:y},ref:f},n.az("div",{className:ze.storyCell},(null==i?void 0:i.thumbnailUrl)&&n.az("img",{src:d?null==i?void 0:i.thumbnailUrl:void 0,className:ze.rectangularBackground}),!c&&g.storyTiles.chip.show&&n.az(Oe,{chipType:b,alignment:_}),n.az("div",{className:Zt()(ze.storyTitle,(r={},r[ze.showGradient]=g.storyTiles.rectangularTile.showGradient,r))},(null==i?void 0:i.title)?i.title:n.az("div",{className:ze.titlePlaceholderContainer},n.az("div",{className:ze.titlePlaceholder}),n.az("div",{className:ze.titlePlaceholder}))),g.storyTiles.rectangularTile.showWebStoriesIcon&&n.az(Ue,{alignment:m})))},Ne=function(t){var e=t.stroke,r=t.strokeWidth;return n.az("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},n.az("circle",{cx:"50",cy:"50",r:"50",stroke:null!=e?e:"",strokeWidth:r,vectorEffect:"non-scaling-stroke",shapeRendering:"geometricPrecision"}))};!Ae||(Ae={}));var je,Be=function(t){var e,r,o,i,a=t.story,s=t.storyViewed,u=t.handleStoryClick,l=t.fullHeight,c=t.fallback,d=t.shouldLoad,p=t.googleWebStoryUrl,f=At(),h=Ze(),y=ke(h,ye.round,"row"),v=null!==(i=null==a?void 0:a.isLive)&&void 0!==i&&i,g=(0,n.Ye)((function(){return function(t,e,n){return n?Ae.read:t?e?Ae.liveRead:Ae.liveUnread:e?Ae.read:Ae.unread}(v,s,c)}),[v,s,c]),_=(0,n.Ye)((function(){return function(t,e){var n=null;switch(t){case Ae.read:n=e.storyTiles.circularTile.readIndicatorColor;break;case Ae.unread:n=e.storyTiles.circularTile.unreadIndicatorColor;break;case Ae.liveRead:n=e.storyTiles.liveChip.readBackgroundColor;break;case Ae.liveUnread:n=e.storyTiles.liveChip.unreadBackgroundColor;break;default:n=e.storyTiles.circularTile.readIndicatorColor}return n}(g,f)}),[g,f]);return n.az(Me,{to:p||"/"+t.basename+"/"+(null==a?void 0:a.id),native:!!p,onClick:u,className:Zt()(ze.storyCellContainer,ze.round,(e={},e[ze.fallback]=c,e[ze.storyViewed]=s,e[ze.fullHeight]=l,e)),style:{width:y.width}},n.az("div",{className:Zt()(ze.roundCellContainer),style:{width:y.width-9,height:y.width-9}},n.az("div",{className:Zt()(ze.storyCell,(r={},r[ze.storyViewed]=s||c,r))},(null==a?void 0:a.profilePictureUrl)&&n.az("img",{src:d?a.profilePictureUrl:void 0,className:ze.roundBackground})),n.az(Ne,{stroke:_,strokeWidth:s||c?"1":void 0})),v&&f.storyTiles.chip.show&&n.az("div",{className:Zt()(ze.live,(o={},o[ze.liveRead]=s,o[ze.liveUnread]=!s,o))},"Live"),!f.storyTiles.circularTile.title.hide&&n.az("div",{className:ze.storyTitle},(null==a?void 0:a.title)?a.title:n.az("div",{className:ze.titlePlaceholderContainer},n.az("div",{className:ze.titlePlaceholder}),n.az("div",{className:ze.titlePlaceholder}))))},Ve=function(t){switch(t.cellType){case ye.square:return n.az(qe,(0,e.pi)({},t));case ye.round:return n.az(Be,(0,e.pi)({},t));default:return n.az(n.HY,null)}},De=function(t){var r=t.story,o=t.storyIndex,i=t.visible,a=ee(),s=(0,n.eJ)(i),u=s[0],l=s[1],c=(null==r?void 0:r.status)===X.read;return(0,n.d4)((,[i]),n.az(Ve,(0,e.pi)({},t,{shouldLoad:u,storyViewed:c,handleStoryClick:function(){r&&void 0!==o&&$t.Z.recordActivity(new Qt(it.storyListTap,r,r.pages[r.initialPage],o),a)}}))},We=function(t){for(var r=[],o=0;o<=16;o++)r.push(o);return n.az(n.HY,null,r.map((function(r){return n.az(De,(0,e.pi)({key:r},t,{fullHeight:!0,fallback:!0,visible:!1}))})))},He=function(){return n.az("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.az("path",{d:"M9.75 1L15 6M15 6L9.75 11M15 6H1",stroke:"var(--storyteller-scroll-indicator-color)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))};!je||(je={}));var Qe=function(t){var e,r,o,i,a,s=At(),u=(0,n.qp)(et),l=u.stories,c=u.status,d=function(t,e){var r=Ze(),o=ke(r,t,"row").width,i=(0,n.sO)(),a=(0,n.sO)(),s=(0,n.sO)(null),u=(0,n.eJ)({left:!1,right:!1}),l=u[0],c=u[1],d=o+(e||0),p=function(){return s.current?Math.floor(s.current.clientWidth/d):0},f=function(){if(s.current){var t={left:s.current.scrollLeft>1,right:s.current.scrollWidth-s.current.clientWidth-1>s.current.scrollLeft};t!==l&&c(t)}};(0,n.d4)((function(){if(s.current)return s.current.addEventListener("scroll",f),window.ResizeObserver&&(i.current=new ResizeObserver(f),i.current.observe(s.current)),window.MutationObserver&&(a.current=new MutationObserver(f),a.current.observe(s.current,{childList:!0,attributes:!0,subtree:!0})),window.addEventListener("resize",f),f(),function(){var t,e,n,r;null===(t=s.current)||void 0===t||t.removeEventListener("scroll",f),null===(e=i.current)||void 0===e||e.disconnect(),null===(n=a.current)||void 0===n||n.disconnect(),window.removeEventListener("resize",f),null===(r=s.current)||void 0===r||r.removeEventListener("scroll",f)}}),[s.current]),(0,n.d4)((,[d]);var h=function(){return s.current?Math.floor(s.current.scrollLeft/d):0},y=function(t){if(s.current){var e=h();s.current.scrollLeft=(e+t)*d}};return{scrollContainer:s,getScrollIndex:h,scrollBy:y,scrollByPage:function(t){s.current&&y(t*p())},overflows:l,getPageSize:p}}(t.cellType,s.lists.row.tileSpacing),p=d.scrollContainer,f=d.scrollByPage,h=d.overflows,y=d.getScrollIndex,v=d.getPageSize,g=(0,te.b1)(),_=y()-1,m=y()+v()+1;return n.az("div",{className:"storyteller-3LibWm",style:(0,te.qK)((e={},e[je.insetStart]=(0,te.B5)(s.lists.row.startInset),e[je.insetEnd]=(0,te.B5)(s.lists.row.endInset),e))},n.az("div",{className:"storytellerContainer-29GKcz",ref:p},l&&(null==l?void 0:l.map((function(e,r){return n.az(De,{cellType:t.cellType,key:e.id,story:e,storyIndex:r,basename:t.basename,visible:r>=_&&r<=m,fullHeight:!0,googleWebStoryUrl:t.useGoogleWebStoryUrls?e.googleWebStoryUrl:void 0})}))),"pending"===c&&n.az(We,{pageSize:12,cellType:t.cellType})),n.az("div",{className:Zt()(Ie,"scrollRight-3C5iTV",(r={},r[Se]=h.right,r[Te]=g,r[xe]=!s.lists.row.scrollIndicatorFade,r))},n.az("div",{className:Zt()(Ce,(o={},o[Te]=g,o)),onClick:,s.lists.row.scrollIndicatorIcon?n.az("img",{src:s.lists.row.scrollIndicatorIcon}):n.az(He,null))),n.az("div",{className:Zt()(Ie,"scrollLeft-2rZ33E",(i={},i[Se]=h.left,i[Te]=g,i[xe]=!s.lists.row.scrollIndicatorFade,i))},n.az("div",{className:Zt()(Ce,(a={},a[Te]=g,a)),onClick:function(){return!g&&f(-1)}},s.lists.row.scrollIndicatorIcon?n.az("img",{src:s.lists.row.scrollIndicatorIcon}):n.az(He,null))))},Fe=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.logTag="StorytellerRowView",e}return(0,e.ZT)(r,t),Object.defineProperty(r.prototype,"cellType",{set:enumerable:!1,configurable:!0}),r.prototype.parseAttributes=function(t){var n=this.rootEl.dataset.cellType,r=ye.square;return n&&(r=ye[n]),(0,e.pi)((0,e.pi)({},t),{cellType:r})},r.prototype.renderList=function(){return n.az(Qe,(0,e.pi)({basename:this.basename},this._attributes,{useGoogleWebStoryUrls:this._useGoogleWebStoryUrls}))},r}(be),Ge="gridColumn-1d6awg",$e=function(t){var e,r,o=At(),i=(0,n.qp)(et),a=i.stories,s=i.status,u=(0,n.eJ)([]),l=u[0],c=u[1],d=o.lists.grid.columns,p=(0,n.eJ)([-1,-1]),f=p[0],h=p[1],y=(0,n.sO)(null),v=function(t){return(null==a?void 0:a.findIndex(())||-1};(0,n.d4)((function(){if(a){for(var t=[],e=0;e<d;e++){for(var n=[],r=e;r<a.length;r+=d)n.push(a[r]);t.push(n)}c(t)}else c([])}),[a,d]);var g=100/d,_=Math.ceil((null!==(r=null==a?void 0:a.length)&&void 0!==r?r:0)/d),m=n.I4((function(){var t,e=null===(t=y.current)||void 0===t?void 0:t.getBoundingClientRect();if(e){var n=Math.max(document.documentElement.clientHeight,window.innerHeight),r=e.height/_;if((null==e?void 0:e.bottom)>=r&&(null==e?void 0:e.top)-n<r){var o=_-Math.ceil((null==e?void 0:e.bottom)/r)-1,i=1-Math.ceil(((null==e?void 0:e.top)-n)/r);h([o,i])}else h([-1,-1])}else h([-1,-1])}),[_]);return(0,Yt.Z)("scroll",m),(0,n.d4)(m,[a]),n.az("div",{className:"storyteller-2b1Lku",style:(0,te.qK)((e={},e[je.cellSpacing]=(0,te.B5)(o.lists.grid.tileSpacing),e[je.insetStart]=(0,te.B5)(o.lists.grid.startInset),e[je.insetEnd]=(0,te.B5)(o.lists.grid.endInset),e))},n.az("div",{className:"gridContainer-z6GfIu",ref:y},l.map((function(e,r){return n.az("div",{className:Ge,style:{width:g+"%"},key:r},e.length>0&&e.map((function(e,r){return n.az(De,{basename:t.basename,cellType:ye.square,story:e,storyIndex:v(e),fullWidth:!0,visible:r>=f[0]&&r<=f[1],key:e.id,googleWebStoryUrl:t.useGoogleWebStoryUrls?e.googleWebStoryUrl:void 0})})))})),"pending"===s&&).map((function(t,e){return n.az("div",{className:Ge,style:{width:g+"%"},key:e},n.az(De,{cellType:ye.square,fullWidth:!0,visible:!1,fallback:!0}))}))))},Ye=function(t){eturn(0,e.ZT)(r,t),r.prototype.renderList=function(){return n.az($e,{basename:this.basename,useGoogleWebStoryUrls:this._useGoogleWebStoryUrls})},r}(be),Je=o(4010),Ke=function(){},Xe=tn=en=o(6632),nn=o(4728),rn=o(4466)}(),e.T=i}()}}]);