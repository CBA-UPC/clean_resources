!this,function(){"use strict";var R="8.3.0";const U={},B=onst j={prefixed:!0};var H=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],q=H[0];let V;for(let e=0;e<H.length;e++)if(H[e][1]in document){V=H[e];break}if(V){for(let e=0;e<V.length;e++)j[q[e]]=V[e];j.prefixed=V[0]!==q[0]}let l=[];onst d=function t(i){let s="info",n;ar a,o;return n=(a=i,(t,i,s)=>{var e,i=o.levels[i],n=new RegExp("^(".concat(i,")$"));if("log"!==t&&s.unshift(t.toUpperCase()+":"),s.unshift(a+":"),l&&(l.push([].concat(s)),e=l.length-1e3,l.splice(0,0<e?e:0)),window.console){let e=window.console[t];(e=e||"debug"!==t?e:window.console.info||window.console.log)&&i&&n.test(t)&&e[Array.isArray(s)?"apply":"call"](window.console,s)}}),(o=r).createLogger=r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},r.level=e=>{if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'.concat(e,'" in not a valid log level'));s=e}return s},r.history=r.history.filter=t=>(l||[]).filter(e=>new RegExp(".*".concat(t,".*")).test(e[0])),r.history.clear=r.history.disable=r.history.enable=r.error=(...e)=>n("error",s,e),r.warn=(...e)=>n("warn",s,e),r.debug=r}("VIDEOJS"),G=d.createLogger,z=Object.prototype.toString;Object.freeze({__proto__:null,each:X,reduce:K,isObject:Y,isPlain:Q,merge:h,defineLazyProperty:$});let Z=!1,ee=null,te=!1,ie,se=!1,ne=!1,re=!1,ae=!1,oe=null,le=null,de=null,he=!1,ue=!1,ce=!1,pe=!1;const me=Boolean(_e()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch));var ge,e=window.navigator&&window.navigator.userAgentData;if(e&&(te="Android"===e.platform,ne=Boolean(e.brands.find(e=>"Microsoft Edge"===e.brand)),re=Boolean(e.brands.find(e=>"Chromium"===e.brand)),ae=!ne&&re,oe=le=(e.brands.find(||{}).version||null,ue="Windows"===e.platform),!re){const M=window.navigator&&window.navigator.userAgent||"";Z=/iPod/i.test(M),ee=(e=M.match(/OS (\d+)_/i))&&e[1]?e[1]:null,te=/Android/i.test(M),ie=(e=M.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(mt=e[1]&&parseFloat(e[1]),ge=e[2]&&parseFloat(e[2]),mt&&ge?parseFloat(e[1]+"."+e[2]):mt||null):null,se=/Firefox/i.test(M),ne=/Edg/i.test(M),re=/Chrome/i.test(M)||/CriOS/i.test(M),ae=!ne&&re,oe=le=(ge=M.match(/(Chrome|CriOS)\/(\d+)/))&&ge[2]?parseFloat(ge[2]):null,de=),he=/Safari/i.test(M)&&!ae&&!te&&!ne,ue=/Windows/i.test(M),ce=/iPad/i.test(M)||he&&me&&!/iPhone/i.test(M),pe=/iPhone/i.test(M)&&!ce}const u=pe||ce||Z,fe=(he||u)&&!ae;e=Object.freeze({__proto__:null,get IS_IPOD(){return Z},get IOS_VERSION(){return ee},get IS_ANDROID(){return te},get ANDROID_VERSION(){return ie},get IS_FIREFOX(){return se},get IS_EDGE(){return ne},get IS_CHROMIUM(){return re},get IS_CHROME(){return ae},get CHROMIUM_VERSION(){return oe},get CHROME_VERSION(){return le},get IE_VERSION(){return de},get IS_SAFARI(){return he},get IS_WINDOWS(){return ue},get IS_IPAD(){return ce},get IS_IPHONE(){return pe},TOUCH_ENABLED:me,IS_IOS:u,IS_ANY_SAFARI:fe});nction ve(e){return Y(e)&&1===e.nodeType}e(i){var s={};if(i&&i.attributes&&0<i.attributes.length){var n=i.attributes;for(let t=n.length-1;0<=t;t--){var r=n[t].name;let e=n[t].value;"boolean"!=typeof i[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(e=null!==e),s[r]=e}}return s}uerySelector"),Ge=Te("querySelectorAll");ar Xe=Object.freeze({__proto__:null,isReal:_e,isEl:ve,isInFrame:be,createEl:o,textContent:Se,prependTo:we,hasClass:Ee,addClass:ke,removeClass:Ce,toggleClass:Ie,setAttributes:xe,getAttributes:Ae,getAttribute:Pe,setAttribute:Le,removeAttribute:Oe,blockTextSelection:De,unblockTextSelection:Ne,getBoundingClientRect:Me,findPosition:Re,getPointerPosition:Ue,isTextNode:Be,emptyEl:Fe,normalizeContent:je,appendContent:He,insertContent:qe,isSingleLeftClick:Ve,$:We,$$:Ge,computedStyle:ze});let Ke=!1,Ye;)&&("complete"===document.readyState?Je():window.addEventListener("load",Je));r c=new WeakMap;let tt=3; rt;const at=["touchstart","touchmove"];t=Object.freeze({__proto__:null,fixEvent:nt,on:ot,off:p,trigger:lt,one:dt,any:ht}); mt=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:30,bind_:m,throttle:ct,debounce:pt});let gt;t.prototype.allowedEvents_={},ft.prototype.addEventListener=ft.prototype.on,ft.prototype.removeEventListener=ft.prototype.off,ft.prototype.dispatchEvent=ft.prototype.trigger;const yt=_t=vt=bt=(e,t,i)=>{if(!e||!e.nodeName&&!_t(e))throw new Error("Invalid target for ".concat(yt(t),"#").concat(i,"; must be a DOM node or evented object."))},Tt=(e,t,i)=>{if(!vt(e))throw new Error("Invalid event type for ".concat(yt(t),"#").concat(i,"; must be a non-empty string or array."))},St=(e,t,i)=>{if("function"!=typeof e)throw new Error("Invalid listener for ".concat(yt(t),"#").concat(i,"; must be a function."))},wt=Et=kt={onone(...e){const{isTargetingSelf:t,target:i,type:s,listener:n}=wt(this,e,"one");if(t)Et(i,"one",s,n);else{const r=(...e)=>{this.off(i,s,r),n.apply(null,e)};r.guid=n.guid,Et(i,"one",s,r)}},anyofftrigger(e,t){bt(this.eventBusEl_,this,"trigger");var i=e&&"string"!=typeof e?e.type:e;if(vt(i))return lt(this.eventBusEl_,e,t);throw new Error("Invalid event type for ".concat(yt(this),"#trigger; ")+"must be a non-empty string or object with a type key that has a non-empty value.")}};function Ct(e,t={}){t=t.eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'.concat(t,'" does not refer to an element.'));e.eventBusEl_=e[t]}else e.eventBusEl_=o("span",{className:"vjs-event-bus"});Object.assign(e,kt),e.eventedCallbacks&&e.eventedCallbacks.forEach(,e.on("dispose",}const It={state:{},setState;unction At(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toLowerCase())}function g(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toUpperCase())}ar Lt=Object.freeze({__proto__:null,toLowerCase:At,toTitleCase:g,titleCaseEquals:Pt}),t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};ar n=Ot(]=n[a]});n.code,n.codes,n.aliases,n.names,n.title;class f{constructor(e,t,i){!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=h({},this.options_),t=this.options_=h(this.options_,t),this.id_=t.id||t.el&&t.el.id,this.id_||(e=e&&e.id&&e.id()||"no_player",this.id_="".concat(e,"_component_").concat(tt++)),this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(e=>this.addClass(e)),["on","off","one","any","trigger"].void 0}),!1!==t.evented&&(Ct(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),xt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}on(e,t){}off(e,t){}on(e,t){}trigsed_)}player(){return this.tions_}el(){return ti}):a}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.chrn i}addChild(e,t={},i=this.children_.length){let s,n;if("string"==typeof e){n=g(e);var r=t.componentClass||n,a=(t.name=n,f.getComponent(r));if(!a)throw new Error("Component ".concat(r," does not exist"));if("function"!=typeof a)return null;s=new a(this.player_||this,t)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(i,0,s),s.parentComponent_=this,"function"==typeof s.id&&(this.childIndex_[s.id()]=s),(n=n||s.name&&g(s.name()))&&(this.childNameIndex_[n]=s,this.childNameIndex_[At(n)]=s),"function"==typeof s.el&&s.el()){let e=null;this.children_[i+1]&&(this.children_[i+1].el_?e=this.children_[i+1].el_:ve(this.children_[i+1])&&(e=this.children_[i+1])),this.contentEl().insertBefore(s.el(),e)}re)})}}buildCSSClass(){r)},1)}$(e,t){return We(e,t||this.contetEl())}hasClass(e){return Ee(this.el_,e)}addClass(...e){ke(this.el,...e)}toggleClass(e,t){Ie(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-sh,e,t)}removeAttribute(e){Oe(this.el_,e)}width(e,t){return this.dimension("widtze")}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");return t=ze(this.el_,e),0!==(t=parseFloat(t))&&!isNaN(t)||(e="offset".concat(g(e)),t=this.elght")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_wn(e))}handleKeyPress(e){this.handleKeyi),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),window.clearTimeoud(e),e}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),window.clearInterva))}static registerComponent(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'.concat(t,'"; must be a non-empty string.'));var i=f.getComponent("Tech"),i=i&&i.isTech(e),s=f===e||f.prototype.isPrototypeOf(e.prototype);if(i||!s){let e;throw e=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'.concat(t,'"; ').concat(e,"."))}t=g(t),f.components_||(f.components_={});s=f.getComponent("Player");if("Player"===t&&s&&s.players){const n=s.players;i=Object.keys(n);if(n&&0<i.length&&i.map(e=>n[e]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return f.components_[t]=e,f.components_[Ats_[e]}}function Dt(e,t,i,s){var n=s,r=i.length-1;if("number"!=typeof n||n<0||r<n)throw new Error("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(n,") is non-numeric or out of bounds (0-").concat(r,")."));return ,t]])}f.registerComponent("Compon,n+s+i}lee,t)}var Ht=Object.freeze({__proto__:null,createTimeRanges:Mt,createTimeRange:Mt,setFormatTime:Bt,resetFormatTime:Ft,formatTi||"")}i.prototype.code=0,i.prototype.message="",i.prototype.status=null,i.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],i.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let e=0;e<i.errorTypes.length;e++)i[i.errorTypes[e]]=e,i.prototype[i.errorTypes[e]]=e})})p(zacks()};zt;const Yt="vjs-modal-dialog";class Qt extends f{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=o("div",{className:"".concat(Yt,"-content")},{role:"document"}),this.descEl_=o("p",{className:"".concat(Yt,"-description vjs-control-text"),id:this.el().getAttribute("aria-describedby")}),Se(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":"".concat(this.id(),"_description"),"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return"".concat(Yt," vjs-hidden ").concat(super.buildCSSCototype.options_={pauseOnOpen:!0,temporary:!0},f.registerComponent("ModalDialurn s}}for(const Mu in $t.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"})$t.prototype["on"+Mu]=null;function Jt(t,i){for(let e=0;e<t.length;e++)Object.keys(t[e]).length&&i.id!==t[e].id&&(t[e].enabn s}}const ii={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},si={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ni={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ri={disabled:"disabled",hidden:"hidden",showing:"shost}cturn""};var ui=Object.freeze({__proto__:null,parseUrl:oi,getAbsoluteURL:li,getFileExtension:hi,isCrossOrigin:di}),ci="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},pi=cxports}),gi=(ci=mi)&&ci.__esModule&&Object.prototype.hasOwnProperty.call(ci,"default")?ci.defaulompt))},yi=Object.prototype.toString;Ei.httpll,i)}};fore]}),s},vi=Ei,ci=Ei,bi=(Ei.XMLHttpRequest=pi.XMLHttpRequest||function(){},Ei.XDomainRequest="withCredentials"in new Ei.XMLHttpRequest?Ei.XMLHttpRequest:pi.XDomainRequest,["get","put","post","patch","head","deletki(t)}},Si=0;Si<bi.length;Si++)Ti(l),d}vi.default=ci;function Ci(e,t){var i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());const s=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){s.push(e)},i.et:t})},i.parse(e),0<s.length&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for ".concat(t.src)),s.forEach(e=>d.error(e)),window.console)&&window.console.groupEnd&&window.console.groupEnd(),i.flush()}function Ii(e,s){var t={uri:e};(e=di(e))&&(t.cors=e),(e="use-credentials"===s.tech_.crossOrigin())&&(t.withCredentials=e),vi(t,m(this,function(e,t,i){if(e)return d.error(e,t);s.loaded_=!0,"function"!=typeof window.WebVTT?s.tech_&&s.tech_.any(["vttjsloaded","vttjserror"],e=>{if("vttjserror"!==e.type)return Ci(i,s);d.error("vttjs failed to load, stopping trying to process ".concat(s.src))}):Ci(i,s)}))}class xi extler)}addCue(e){let t=e;if(window.vttjs&&!(e instanceof window.vttjs.VTTCue)){t=new window.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in t||(t[s]=e[s]);t.id=e.id,t.originalCue_=e}var i=this.tech_.textTracks();for(let e=0;e<i.length;e++)i[e]!==this&&i[e].removeCue(t);this.cues_.push(t),this.cues.setCues_(thisreak}}}}xi.prototype.allowedEvents_={cuechange:"cuec)})}}Li.prototype.allowedEvents_={load:"load"},Li.NONE=0,Li.LOADING=1,Li.LOADED=2,Li.ERROR=3;const Oi={audio:{Linull)}},TrackClass:Ai,capitalName:"Audio"},video:{Linull)}},TrackClass:Pi,capitalName:"Video"},text:{ListClass:ei,TrackClass:xi,capitalName:"Text"}},Di=(Object.keys(Oi).cks_")}),{remoteText:{ListClass:ei,TrackClass:xi,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{Lireak}}},TrackClass:Li,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),a=Object.assign({},Oi,Di);Di.names=Object.keys(Di),Oi.names=Object.keys(Oi),a.names=[].concat(Di.names).concat(Oi.names);var ci="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},Ni="undefined"!=typeof document?document:(Ni=ci["__GLOBAL_DOCUMENT_CACHE@4"])||(ci["__GLOBAL_DOCUMENT_CACHE@4"]={}),t=Ni,Mi=Object.new Ri};functio())}((Ui.prototype=Mi(Error.prototype)).constructor=Ui).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Fi.prototy[e]=s[e]valubreak}},t,10))},t),!0)}};var Hi=t.createElement&&t.createElement("textarea"),qi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Vi={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Wi={v:"title",lang:"lang"},Gi={rt:turn l}var Xi=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,11s[i])}}function Yi(){}function Qi(e,t,i){Yi.call(this),this.cue=t,this.cueDiv=zi(e,t.text);var s={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"},n=(this.applyStyles(s,this.cueDiv),this.div=e.document.createElement("div"),s={direction:Ki(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(s),this.div.appendChild(this.cueDiv),0);switch(t.positionAlign){case"start":n=t.position;break;case"center":n=t.position-t.size/2;break;case"end":n=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(t.size,"%")}),ths(o))}function Ji(){}Yi.prototype.appl=e[i])},Yi.prototype.form?0:e+t},(Qi.prototype=Mi(Yi.prototype)).constructor=Qi,y.prototyom-=t}},y.prototype.o>e.top},y.prototype.overturn!1},y.prototype.right},y.prototype.overlapsOpposottom}},y.prototype.intersectPerwidth)},y.prototype.toCSSCompawidth}},y.getSimpleBoxPth||i}},Ji.String(e))}}},Ji.convertCueTo):null};Ji.procState)},(Jiist=[]}).prototype={reportOrThrror(e)n this),this}};var Zi=Ji,es={"":1,lr:1,rl:1},ts={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-rioid 0}ss.prototype.getCu.text)};var ns=ss,rs={"":!0)}}})}vashim()});ls.WebVTT,ls.VTTCue,ls.VTTRegion;class _ extends f{constructor(t={},e=function(){}){t.reportTouchActivity=!1,super(null,t,e),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),a.names.Name])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(e=>{!1===t["native".concat(e,"Tracks")]&&(this["featuresNative".concat(e,"Tracks")]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==t.preloadTextTracks,this.autoRemoteTextTracks_=new a.text.ListClass,this.initTrackListeners(),t.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown}stopTrackingProgress(){this.clearInterval(this.progressIn()}clearTracks(e){(e=[].concat(e)).forEach(e=>{var t=this["".concat(e,"Tracks")]()||[];let i=t.length;for(;i--;){var s=t[i];"text"===e&&this.removeRemoteTextTrack(s),t.removeTracck(i)}}reset(){}crossOrigin(){}setCrossOr:Mt()}play(){}setScrubbing(e){}scrubd:!0})}initTrackListeners(){Oi.names.forEach(e=>{var t=Oi[e];const i=()=>{this.trigger("".concat(e,"trackchange"))},s=this[t.getterName]();s.addEventListener("removetrack",i),s.addEventListener("addtrack",i),this.on("dck"}requestPictureInPicture(){return Promise.rturn!0}setDisablePictureInPicme(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){r===_}static registerTech(e,t){if(_.techs_||(_.techs_={}),!_.isTech(t))throw new Error("Tech ".concat(e," must be a Tech"));if(!_.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(_.canPlaySource)return e=g(e),_.techs_[e]=t,_.techs_[At(e)]=t,"Tech"!==e&&_.defaultTechOrder_.push(e),t;throw new Error("Techs must have a static canPlaySource method on them")}static getTech(e){if(e)return _.techs_&&_.techs_[e]?_.techs_[e]:(e=g(e),window&&window.videojs&&window.videojs[e]?(d.warn("The ".concat(e," tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)")),window.videojs[e]):void 0)}}a.names.Name]}}),_.prototype.featuresVolumeControl=!0,_.prototype.featuresMuteControl=!0,_.prototype.featuresFullscreenResize=!1,_.prototype.featuresPlaybackRate=!1,_.prototype.featuresProgressEvents=!1,_.prototype.featuresSourceset=!1,_.prototype.featuresTimeupdateEvents=!1,_.prototype.featuresNativeTextTracks=!1,_.prototype.featuresVideoFrameCallback=!1,_.withSourceHnull)}},f.registerComponent("Tech",_),_.registerTech("Tech",_),_.defaultTechOrder_=[];const ds={},hs={urn t}const ms={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},gs={setCurrentTime:1,setMuted:1,setVolume:1},fs={play:1,prn e}const bs={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/weak}}}}f.registerComponent("MediaLoader",ws);class Es exable()}createEl(e="div",t={},i={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&d.error("Creating a ClickableComponent with an HTML element of ".concat(e," is not supported; use a Button instead.")),i=Object.assign({role:"button"},i),this.tabIndex_=t.tabIndex;e=o(e,t,i);return e.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(e),e}dispose(){this.controlTextEl_=null,super.die",i)}buildCSSClass(){return"vjs-control vjs-button ".concat(super.buildCSSCe)}}f.registerComponent("ClickableComponent",Es);class ks extr"})}crossOrigin(e){if("undefined"==typeof e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null!==e&&"anonymous"!==e&&"use-credentials"!==e?this.player_.log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"')):this.$("img")&&(this.$("img").crossOre())}}ks.prototype.crossorigin=ks.prototype.crossOrigin,f.registerComponent("PosterImage",ks);const Cs="#222",Is={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-(e){}}class Ps extends f{constructor(s,e,t){super(s,e,t);const n=e=>this.updateDisplay(e);s.on("loadstart",e=>this.toggleDisplay(e)),s.on("texttrackchange",n),s.on("loadedmetadata",e=>this.preselectTrack(e)),s.readyac)}}updateDisplayState(e){var t=this.player_.textTrackSettings.getValues(),i=e.activeCues;let s=i.length;for(;s--;){var n,r=i[s];r&&(r=r.displayState,t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&As(r.firstChild,"color",xs(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&As(r.firstChild,"backgroundColor",xs(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?As(r,"backgroundColor",xs(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px ".concat(Cs,", 2px 2px 4px ").concat(Cs,", 2px 2px 5px ").concat(Cs):"raised"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px ".concat(Cs,", 2px 2px ").concat(Cs,", 3px 3px ").concat(Cs):"depressed"===t.edgeStyle?r.firstChild.style.textShadow="1px 1px ".concat("#ccc",", 0 1px ").concat("#ccc",", -1px -1px ").concat(Cs,", 0 -1px ").concat(Cs):"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px ".concat(Cs,", 0 0 4px ").concat(Cs,", 0 0 4px ").concat(Cs,", 0 0 4px ").concat(Cs))),t.fontPercent&&1!==t.fontPercent&&(n=window.parseFloat(r.style.fontSize),r.style.fontSize=n*t.fontPercent+"px",r.style.height="auto",r.style.top="auto"),t.fontFamily)&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=Is[t.fontFae(n)}}}}f.registerComponent("TextTrackDispler"])}}f.registerComponent("LoadingSpinner",Ls);class s extends Es{createEl(e,t={},i={}){t=o("button",t=Object.assign({className:this.buildCSSClass()},t),i=Object.assign({type:"button"},i));return t.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(t),t}addChild(e,t={}){var i=this.constructor.name;return d.warn("Adding an actionable (user controllable) child to a Button (".concat(i,") is not supported; use a ClickableComponent instead.")),f.prototype.addChild.call(thn(e)}}f.registerComponent("Button",s);class Os exwn(e))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)Gt(t),this.player_.tech(!0)&&this.player_.tech(!0).focus();else{var e=this.player_.getChild("controlBar");const i=e&&e.getChild("playToggle");i?(e=()=>i.focus(),Wt(t)?t.then(e,()=>{}):this.setTimeout(e,1)):this.player_.tech(!0).fown(e)}handleMouseDown(e){this.mouseused_=!0}}Os.prototype.controlText_="Play Video",f.registerComponent("BigPlayButton",Os);s;f.registerComponent("CloseButton",class exose"))}buildCSSClass(){return"vjs-close-button ".concat(super.buildCSSCwn(e)}});class Ds exed(e))}buildCSSClass(){return"vjs-play-control ".concat(super.buildCSSC))}}Ds.prototype.controlText_="Play",f.registerComponent("PlayToggle",Ds);class Ns exode_()}createEl(){var e=this.buildCSSClass(),t=super.createEl("div",{className:"".concat(e," vjs-time-control vjs-control")}),i=o("span",{className:"vjs-control-text",textContent:"".concat(this.localize(this.labelText_)," ")},{role:"presentation"});return t.appendChild(i),this.contentEl_=o("span",{className:"".concat(e,"-display")},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.d_))}}))}updateContent(e){}}Ns.prototype.labelText_="Time",Ns.prototype.controlText_="Time",f.registerComponent("TimeDispde_(t)}}Ms.prototype.labelText_="Current Time",Ms.prototype.controlText_="Current Time",f.registerComponent("CurrentTimeDispde_(t)}}Rs.prototype.labelText_="Duration",Rs.prototype.controlText_="Duration",f.registerComponent("DurationDispd(t),e}}f.registerComponent("TimeDivie_(e)}}}Bs.prototype.labelText_="Remaining Time",Bs.prototype.controlText_="Remaining Time",f.registerComponent("RemainingTimeDisplay",Bs);class Fs eing(e))}createEl(){var e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=o("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(o("span",{className:"vjs-control-text",textContent:"".concat(this.localize("Stream Type")," ")})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.cont.hide()}}f.registerComponent("LiveDis)?t:e))}js.prototype.controlText_="Seek to live, currently playing live",f.registerComponent("SeekToLive",js);ci=Object.freeze({__proto__:null,contal")}}f.registerComponent("Slider",qs)ength})}}f.registerComponent("LoadProgressBar",Ws);class Gs extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(t,i,s){var n=Re(this.el_),r=Me(this.player_.el()),i=t.width*i;if(r&&n){var a=t.left-r.left+i,i=t.width-i+(r.right-t.right);let e=n.width/2;a<e?e+=e-a:i<e&&(e=i),e<0?e=0:e>n.width&&(e=n.width),e=Math.round(e),this.el_.style.right="-".concat(e,"px"),this.write(s)}}write(e){Se(tho&&o()})}}f.registerComponent("TimeTooltip",Gs);class zs extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden"(e,t,i))}}zs.prototype.options_={children:[]},u||te||zs.prototype.options_.children.push("timeTooltip"),f.registerComponent("PlayProgressBar",zs);class Xs extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){var i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,()=>{this.el_.style.left="".concat(e.width*t,"px")})}}Xs.prototype.options_={children:["timeTooltip"]},f.registerComponent("MouseTimeDisplay",Xs);class Ks eandleMouseMove(t,i=!1){if(Ve(t)){i||this.player_.scrubbing()||this.player_.scrubbing(!0);let e;i=this.calculateDistance(t),t=this.player_.liveTracker;if(t&&t.isLive()){if(.99<=i)return void t.seekToLiveEdge();var s=t.seekableStart(),n=t.liveCurrentTime();if((e=(e=(e=s+i*t.liveWindow())>=n?n:e)<=s?s+.1:e)===1/0)return}else(e=i*this.player_.duration())===this.player_.duration()&&(e-=.1);this.userSeek_(e)}}enable(){super.enable();var e=this.getChild("mouseTimeDisplay");e&()-5)}handleAction(e){this.player_.paused()?this.player_.play():this.playerspose()}}Ks.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},u||te||Ks.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),f.registerComponent("Seestart()}}Ys.prototype.options_={children:["seekBar"]},f.registerComponent("ProgressControl",Ys);class Qs isable()}buildCSSClass(){return"vjs-picture-in-picture-control ".concat(super.buildCShange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}}Qs.prototype.controlText_="Picture-in-Picture",f.registerComponent("PictureInPictureToggle",Qs);class $s extends s{constructor(e,t){super(e,t),this.on(e,"fullscreenchange",e=>this.handleFullscreenChange(e)),!1===document[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return"vjs-fullscreen-control ".concat(super.buildCScreen()}}$s.prototype.controlText_="Fullscreen",f.registerComponent("FullscreenToggle",$s);class Js xt"})),e}}f.registerComponent("VolumeLevel",Js);class Zs extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.up"true"})}update(t,i,s,e){if(!s){var s=Me(this.el_),n=Me(this.player_.el()),i=t.width*i;if(!n||!s)return;var r=t.left-n.left+i,i=t.width-i+(n.right-t.right);let e=s.width/2;r<e?e+=e-r:i<e&&(e=i),e<0?e=0:e>s.width&&(e=s.width),this.el_.style.right="-".concat(e,"px")}this.write("".conca&&n()})}}f.registerComponent("VolumeLevelTooltip",Zs);class en play"})}update(e,t,i){var s=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,i,s,()=>{i?this.el_.style.bottom="".concat(e.height*t,"px"):this.el_.style.left="".concat(e.width*t,"px")})}}en.prototype.options_={children:["volumeLevelTooltip"]},f.registerComponent("MouseVolumeLevelDise_(e)})}}tn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},u||te||tn.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),tn.prototype.playerEvent="volumechange",f.registerComponent("VolumeBar",tn);class sn tive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:"vjs-volume-control vjs-control ".concat(e)})}handleMouseDown(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}sn.prototype.options_={children:["volumeBar"]},f.registerComponent("VolumeControl",sn);class nn xt_()}updateIcon_(){var e=this.player_.volume();let t=3;u&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2),Ce(this.el_,[0,1,2,3].reduce((e,t)=>e+"".concat(t?" ":"","vjs-vol-").concat(t),"")),ke(this.el_,"vjs-vol-".clText(e)}}nn.prototype.controlText_="Mute",f.registerComponent("MuteToggle",nn);class rn active_)}sliderActive_(){this.addClass("vjs-slider-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:"vjs-volume-panel vjs-control ".concat(e)})}dispose(){this.handleMouseOut(),super..focus()}handleMouseOver(e){this.addClass("vjs-hover"),ot(document,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),p(document,"keyup",this.handleKeyPressuseOut()}}rn.prototype.options_={children:["muteToggle","volumeControl"]},f.registerComponent("VolumePanel",rn);s;f.registerComponent("SkipForward",class extends s{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){var e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return"vjs-skip-forward-".concat(this.getSkipForwardTime()," ").concat(super.buildCStTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}});class an ackward}buildCSSClass(){return"vjs-skip-backward-".concat(this.getSkipBackwardTime()," ").concat(super.buildCSTime]))}}an.prototype.controlText_="Skip Backward",f.registerComponent("SkipBackocus())}}f.registerComponent("Menu",on);class ln ,{})}buildWrapperCSSClass(){let e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var t=s.prototype.buildCSSClass();return"vjs-menu-button ".concat(e," ").concat(t," ").concat(super.buildCSSClass())}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button ".concat(e," ").concat(super.buildCSyUp_)}focus(){this.menuButtonover")}handleSubmenuKeyPress(e){this.handleSubmenuKle()}}f.registerComponent("MenuBu",s)})}}}f.registerComponent("TrackButton",dn);const hn=["Tab","Esc","Up","Down","Right","Left"];class un enuitem")}createEl(e,t,i){this.nonIconControl=!0;t=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),i);return t.replaceChild(o("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),t.querySelector(".vjs-icon-placehoyDown(t)}handleClick(e){this.seled_=!1))}}f.registerComponent("Menuspose()}}f.registerComponent("TextTrackMenuhange()}}f.registerComponent("OffTextTrackMenuItem",pn);class mn extends dn{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(t=[],i=cn){let e;this.label_&&(e="".concat(this.label_," off")),t.push(new pn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:e})),this.hideThreshold_+=1;var s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let e=0;e<s.length;e++){var n,r=s[e];-1<this.kinds_.indexOf(r.kind)&&((n=new i(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass("vjs-".concat(r.kind,"-menu-item")),t.push(n))}return t}}f.registerComponent("TextTrackBurtTime)}}f.registerComponent("ChaptersTrackMenuItem",gn);class fn e.cue)})}}buildCSSClass(){return"vjs-chapters-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-chapters-button ".concat(super.buildWrapperCSn i}}fn.prototype.kind_="chapters",fn.prototype.controlText_="Chapters",f.registerComponent("ChaptersButton",fn);class yn enable()}buildCSSClass(){return"vjs-descriptions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-descriptions-button ".concat(super.buildWrapperCSSClass())}}yn.prototype.kind_="descriptions",yn.prototype.controlText_="Descriptions",f.registerComponent("DescriptionsButton",yn);class _n extends mn{constructor(e,t,i){super(e,t,i)}buildCSSClass(){return"vjs-subtitles-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subtitles-button ".concat(super.buildWrapperCSSClass())}}_n.prototype.kind_="subtitles",_n.prototype.controlText_="Subtitles",f.registerComponent("SubtitlesBuhange()}}f.registerComponent("CaptionSettingsMenuItem",vn);class bn er(e,t,i)}buildCSSClass(){return"vjs-captions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-captions-button ".concat(super.buildWrapperCSItems(e)}}bn.prototype.kind_="captions",bn.prototype.controlText_="Captions",f.registerComponent("CaptionsButton",bn);class Tn extends cn{createEl(e,t,i){e=super.createEl(e,t,i),t=e.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(t.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),t.appendChild(o("span",{className:"vjs-control-text",textContent:" ".concat(this.localize("Captions"))}))),e}}f.registerComponent("SubsCapsMenuItem",Tn);class Sn extends mn{constructor(e,t={}){super(e,t),this.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)&&(this.label_="captions"),this.menuButton_.controlText(g(this.label_))}buildCSSClass(){return"vjs-subs-caps-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subs-caps-button ".concat(super.buildWrapperCSms(e,Tn)}}Sn.prototype.kinds_=["captions","subtitles"],Sn.prototype.controlText_="Subtitles",f.registerComponent("SubsCapsButton",Sn);class wn extends un{constructor(e,t){var i=t.track;const s=e.audioTracks(),n=(t.label=i.label||i.language||"Unknown",t.selected=i.enabled,super(e,t),this.track=i,this.addClass("vjs-".concat(i.kind,"-men(this,e)});s.addEventListener("change",n),this.on(ange",n)})}createEl(e,t,i){e=super.createEl(e,t,i),t=e.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(t.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),t.appendChild(o("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptionnabled)}}f.registerComponent("AudioTrackMenuItem",wn);class En eper(e,t)}buildCSSClass(){return"vjs-audio-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-audio-button ".concat(super.buildWrapperCSreturn t}}En.prototype.controlText_="Audio Track",f.registerComponent("AudioTrackBus.rate)}}kn.prototype.contentElType="button",f.registerComponent("PlaybackRateMenuItem",kn);class Cn elEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return"vjs-playback-rate ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-playback-rate ".concat(super.buildWrapperCSx")}}Cn.prototype.controlText_="Playback Rate",f.registerComponent("PlaybackRateMenuButton",Cn);class In extends f{buildCSSClass(){return"vjs-spacer ".concat(super.buildCSl(e,t,i)}}f.registerComponent("Spacer",In);f.registerComponent("CustomControlSpacer",class extends In{buildCSSClass(){return"vjs-custom-control-spacer ".concat(super.buildCSnt:"ltr"})}}xn.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&xn.prototype.options_.children.splice(xn.prototype.options_.children.length-1,0,"pictureInPictureToggle"),f.registerComponent("ControlBar",xn);class An extends Qt{constructor(e,t){super(e,t),this.on(e,"error",e=>this.open(e))}buildCSSClass(){return"vjs-error-display ".concat(super.buildCssage):""}}An.prototype.options_=Object.assign({},Qt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),f.registerComponent("ErrorDisplay",An);const Pn="vjs-text-track-settings";var Ni=["#000","Black"],t=["#00F","Blue"],Ln=["#0FF","Cyan"],On=["#0F0","Green"],Dn=["#F0F","Magenta"],Nn=["#F00","Red"],Mn=["#FFF","White"],r=["#FF0","Yellow"],Rn=["1","Opaque"],Un=["0.5","Semi-Transparent"],Bn=["0","Transparent"];const Fn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ni,Mn,Nn,On,t,r,Dn,Ln]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Rn,Un,Bn]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Mn,Ni,Nn,On,t,r,Dn,Ln]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],defaul:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Rn,Un]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[B)return e}Fn.windowColor.options=Fn.backgroundColor.options;class Hn ettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,t="",i="label"){e=Fn[e];const s=e.id.replace("%s",this.id_),n=[t,s].join(" ").trim();return["<".concat(i,' id="').concat(s,'" class="').concat("label"===i?"vjs-label":"",'">'),this.localize(e.label),"</".concat(i,">"),'<select aria-labelledby="'.concat(n,'">')].concat(e.options.map(e=>{var t=s+"-"+e[1].replace(/\W+/g,"");return['<option id="'.concat(t,'" value="').concat(e[0],'" '),'aria-labelledby="'.concat(n," ").concat(t,'">'),this.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){var e="captions-text-legend-".concat(this.id_);return['<fieldset class="vjs-fg vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){var e="captions-background-".concat(this.id_);return['<fieldset class="vjs-bg vjs-track-setting">','<legend id="'.concat(e,'">'),this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createn("")})}createrols_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the()}handleLanguagechange(){this.fill()}}f.registerComponent("TextTrackSetispose()}}f.registerComponent("ResizeManager",qn);const Vn={trackingThreshold:20,liveTolispose()}}f.registerComponent("LiveTracker",Wn);class GnateDom_()}createEl(){return this.els={title:o("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-".concat(tt++)}),description:o("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-".concat(tt++)})},o("div",{className:"vjs-title-bar"},{},Object.values(ls=null}}f.registerComponent("Titch_()}}}return!0},Yn=Object.defineProperty({},"inneinninnerablnnerHTML"),Jn=Object.defineProperty({}srcsrc",e),e}});class v",n)})}overrideNative_(e,t){if(t===this["featuresNative".concat(e,"Tracks")]){const i=e.toLowerCase();this["".concat(i,"TracksListeners_")]&&Object.keys(this["".concat(i,"TracksListeners_")]).forEach(e=>{this.el()["".concat(i,"Tracks")].removeEventListener(e,this["".concat(i,"TracksListeners_")][e])}),this["featuresNative".concat(e,"Tracks")]=!t,this["".concat(i,"TracksListeners_")]=null,this.proxyNativeTracksForType_(i)}}overrideNativeAudioTracks(e){this.overrideNative_(Video",e)}proxyNativeTracksForType_(i){var e=Oi[i];const s=this.el()[e.getterName],n=this[e.getterName]();if(this["featuresNative".concat(e.capitalName,"Tracks")]&&s&&s.addEventListener){constrigger(t)},addtrack(e){n.addTrack(e.track)},(e..shift())};this[e.getterName+"Listeners_"]=r,Object.keys(ner(t,i))}),this.on("loadstart",t),this.ondsing_=e}scrubbing(){return this.ision||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.ofeen"))}requestPictureInPicture(){return this.el_.requestPictureI}$(v,hild(t),e}),v.iPlayType)},v.cayType(e)},v.cane(e.type)},v.canConreturn!1}},v.canreturn!1}},v.canControlPlreturn!1}},v.canOverride}return!0},v.supportsNativefe||u&&ae},v.supportsNativeVideoTracks=function(){return!(!v.TEST_VID||!v.TEST_VID.videoTracks)},v.supportsNativeAioTracks)},v.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"[t](),!0)}),v.prototype.featuresVolumeControl=v.canControlVolume(),v.prototype.movingMediaElementInDOM=!u,v.prototype.featuresFullscreenResize=!0,v.prototype.featuresProgressEvents=!0,v.prototype.featuresTimeupdateEvents=!0,v.prototype.featuresVideoFrameCallback=!(!v.TEST_VID||!v.TEST_VID.requestVideoFrameCallback),v.disposeMetch(e){}}},v.resetMetch(e){}}},["muted","defaultMuted","autoplay","controls","loop","playsinlineibute(e)}}),["muted","defaultMuted","autoplay","loop","playsinlineibute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigins.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOriginel_[t]=e}}),["pause","load","playel_[e]()}}),_.withSourceHandlers(v),v.nativeSourceHandler={},v.nativeSourceHandler.creturn""}},v.nativeSourceHandler.canHandleSource=function(e,t){return e.type?v.nativeSourceHandler.canPlayType(e.type):e.src?(e=hi(e.src),v.nativeSourceHandler.canPlayType("video/".concat(e))):""},v.nativeSourceHandler.harc(e.src)},v.nativeSourceHandler.dispose=function(){},v.registerSourceHandler(v.nativeSourceHandler),_.registerTech("Html5",v);const Zn=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],er={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},tr=["tiny","xsmall","small","medium","large","xlarge","huge"],ir={},sr=(tr.forEach(e=>{var t="x"===e.charAt(0)?"x-".concat(e.substring(1)):e;ir[e]="vjs-layout-".concat(t)}),{tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0});class b extends f{constructor(e,t,i){if(e.id=e.id||t.id||"vjs_video_".concat(tt++),(t=Object.assign(b.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,t.language||(s=e.closest("[lang]"))&&(t.language=s.getAttribute("lang")),super(null,t,i),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.isFullscreen_=!1,this.log=G(this.id_),this.fsApi_=j,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Ae(e),this.language(this.options_.language),t.languages){const n={};Object.getOwnPropertyNames(t.languageguages[e]}),this.languages_=n}else this.languages_=b.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(e=>{if("function"!=typeof this[e])throw new Error('plugin "'.concat(e,'" does not exist'))}),this.scrubbing_=!1,this.el_=this.createEl(),Ct(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(ot(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);var s=h(this.options_),i=(t.plugins&&Object.keys(t.pluginugins[e])}),t.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(t.playbackRates),this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),me&&this.addClass("vjs-touch-enabled"),u||this.addClass("vjs-workinghover"),b.players[this.id_]=this,R.split(".")[0]);this.addClass("vjs-v".concat(i)),this.userActive(!0),this.reportUserActivity(),this.one("play",e=>this.listenForUserActivity_(e)),this.on("keydown",e=>this.handleKeyDown(e)),this.on("languagechange",e=>this.handleLanguagechange(e)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.Ois.el_=i}crossOrigin(e){if("undefined"==typeof e)return this.techGet_("crossOrigin");null!==e&&"anonymous"!==e&&"use-credentials"!==e?d.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(e,'"')):(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e))}width(e){return this.dimension(eight",e)}dimension(e,t){var i,s=e+"_";if(void 0===t)return this[s]||0;""===t||"auto"===t?(this[s]=void 0,this.updateStyleEl_()):(i=parseFloat(t),isNaN(i)?d.error('Improper value "'.concat(t,'" supplied for for ').concat(e)):(this[s]=i,this.updateStleEl_()}updateStyleEl_(){if(!0===window.VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height;var n=this.tech_&&this.tech_.el();void(n&&(0<=e&&(n.width=e),0<=t)&&(n.height=t))}else{let e,t,i,s;n=(i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),n=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/n:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*n,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),et(this.styleEl_,"\n      .".concat(s," {\n        width: ").concat(e,"px;\n        height: ").concat(t,"px;\n      }\n\n      .").concat(s,".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ").concat(100*n,"%;\n      }\n    "))}}loadTech_(e,t){this.tech_&&this.unloadTech_();var i=g(e),s=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(_.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let n=this.autoplay();const r={source:t,autoplay:n="string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay?!1:n,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:"".concat(this.id(),"_").concat(s,"_api"),playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};a.namvateName]}),Object.assign(r,this.options_[i]),Object.assign(r,this.options_[s]),Object.assign(r,this.options_[e.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(r.startTime=this.cache_.currentTime);s=_.getTech(e);if(!s)throw new Error("No Tech named '".concat(i,"' exists! '").concat(i,"' should be registered using videojs.registerTech()'"));this.tech_=new s(r),this.tech_.ready(m(this,this.handleTechReady_),!0),Kt(this.textTracksJson_||[],this.tech_),Zn.forEach(t=>{this.on(this.tech_,t,e=>this["handleTech".concat(g(t),"_")](e))}),Object.keys(er).forEach(t=>{this.on(this.tech_,t,e=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this["handleTech".concat(er[t],"_")].bind(this),event:e}):this["handleTech".concat(er[t],"_")](e)})}),this.on(this.tech_,"loadstart",e=>this.handleTechLoadStart_(e)),this.on(this.tech_,"sourceset",e=>this.handleTechSourceset_(e)),this.on(this.tech_,"waiting",e=>this.handleTechWaiting_(e)),this.on(this.tech_,"ended",e=>this.handleTechEnded_(e)),this.on(this.tech_,"seeking",e=>this.handleTechSeeking_(e)),this.on(this.tech_,"play",e=>this.handleTechPlay_(e)),this.on(this.tech_,"pause",e=>this.handleTechPause_(e)),this.on(this.tech_,"durationchange",e=>this.handleTechDurationChange_(e)),this.on(this.tech_,"fullscreenchange",(e,t)=>this.handleTechFullscreenChange_(e,t)),this.on(this.tech_,"fullscrror_(e,t)),this.on(this.tech_,"enterpictureinpicture",e=>this.handleTechEnterPictureInPicture_(e)),this.on(this.tech_,"leavepictureinpicture",e=>this.handleTechLeavePictureInPicture_(e)),this.on(this.tech_,"error",e=>this.handleTechError_(e)),this.on(this.tech_,"posterchange",e=>this.handleTechPosterChange_(e)),this.on(this.tech_,"textdata",e=>this.handleTechTextData_(e)),this.on(this.tech_,"ratechange",e=>this.handleTechRateChange_(e)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||we(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,thisy())}manualAutoplay_(t){if(this.tech_&&"string"==typeof t){var i=()=>{const e=this.muted(),t=(this.muted(!0),()=>{this.muted(e)});this.playTerminatedQueue_.push(t);var i=this.play();if(Wt(i))return i.catch(e=>{throw t(),new Error("Rejection at manualAutoplay. Restoring muted value. ".concat(e||""))})};let e;if("any"!==t||this.muted()?e="muted"!==t||this.muted()?this.play():i():Wt(e=this.play())&&(e=e.catch(i)),Wt(e))return e.then(()=>{this.trigger({type:"autoplay-success",autoplay:top",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger(}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(t){t=t.target.player;if(!t||t===this){t=this.el();let e=document[this.fsApi_.fullscreenElement]===t;!e&&t.matches?e=t.matches(":"+this.fsApi_.fullscreen):!e&&t.msMatchesSelector&&(e=t.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullcture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPata",e)}getCache(){return t,e}},!0)}techGet_(t){if(this.tech_&&this.tech_.isReady_){if(t in ms)return e=this.middleware_,i=this.tech_,e.reduceRight(ys(t),i[t]());if(t in fs)return ps(this.middleware_,this.tech_,t);var e,i;try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?d("Video.js: ".concat(t," method not defined for ").concat(this.techName_," playback technology."),e):"TypeError"===e.name?(d("Video.js: ".concat(t," unavailable on ").concat(this.techName_," playback technology element."),e),this.tech_.isReady_=!1e(t)})}pause(){this.techCallbbing")}tPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&window.documentPictureInPicture){const t=document.createElement(this.el().tagName);return t.classList=this.el().classList,t.classList.add("vjs-pip-container"),this.posterImage&&t.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&t.appendChild(this.titleBar.el().cloneNode(!0)),t.appendChild(o("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),window.documentPictureInPicture.requestWindow({initialAspectRatio:this.videoWidth()/this.videoHeight(),copyStyleSheets:!0}).then(e=>(this.el_.parentNode.insertBefore(t,this.el_),e.document.body.append(this.el_),e.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),e.addEventListener("unload",e=>{e=e.target.querySelector(".video-js");t.replaceWith(e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),e))}return"pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is ahis,e))}canPlayType(s){var n;for(let t=0,i=this.options_.techOrder;t<i.length;t++){var r=i[t];let e=_.getTech(r);if(e=e||f.getComponent(r)){if(e.isSupported()&&(n=e.canPlayType(s)))return n}else d.error('The "'.concat(r,'" tech is undefined. Skipped browser support check for that tech.'))}return""}selecrn!0})),n}var i=this.options_.tecetTech(e)]).filter(([e,t])=>t?t.isSupported():(d.error('The "'.concat(e,'" tech is undefined. Skipped browser support check for that tech.')),!1));leti,tech:e}};return(s=this.options_.sourceOrder?t(e,i,(n=r,(e,t)=>n(t,e))):t(i})),!1)}load(){this.techCal{}}currentSrc(){return this.currentSource()&&this.currentSource.type||""}preload(e){if(void 0===e)return this.techGet_("preload");this.techCall_("setPreload",e),this.options_)))}error(t){if(void 0===t)return this.error_||null;if(B("beforeerrorr hooks")}),this.options_.suppressNotSupportedError&&t&&4===t.cod.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("tart"],e)})}else null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close()):(this.error_=new i(t),this.addClass("vjs-error"),d.error("(CODE:".concat(this.error_.code," ").concat(i.errorTypes[this.error_.code],")"),this.error_.message,this.error_),this.trigger("error"),B("erroris)}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermoty")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoloadMedia(e,t){var i,s,n,r,a,o;e&&"object"==typeof e&&(this.reset(),this.cache_.media=h(e),{artist:e,artwork:i,description:s,poster:n,src:r,textTracks:a,title:o}=this.cache_.media,!i&&n&&(this.cache_.media.artwork=[{src:n,type:Ts(n)}]),r&&this.src(r),n&&this.poster(n),Array.isArray(a)&rack(e,!1)),this.titleBar&&this.titleBar.update({title:o,description:s||e||""}),thisnge"))}}a.namteName])}}),b.prototype.crossorigin=b.prototype.crossOrigin,b.players={};Mn=window.navigator;b.prototype.options_={techOrder:_.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Mn&&(Mn.languages&&Mn.languages[0]||Mn.userLanguage||Mn.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyStatehGet_(e)}}),igger(e)}}),f.registerComponent("=i[e]}),s}const rr="plugin",ar="activePlugins_rop[e]ar]t.nash()),t}pe)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'.concat(e,'", must be a string, was ').concat(typeof e,"."));if(lr(e))d.warn('A plugin named "'.concat(e,'" already exists. You may want to avoid re-registering plugins!'));else if(b.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'.concat(e,'", cannot share a name with an existing player method!'));if("function"!=typeof t)throw new Error('Illegal plugin for "'.concat(e,'", must be a function, was ').concat(typeof t,"."));return or[e]=t,e!==rr&&(pr.isBasic(t)?b.prototype[e]=nr(e,t):b.prototype[e]=ION||""}}function mr(e,i,s,n){{var r="".concat(i," is deprecated and will be removed in ").concat(e,".0; please use ").concat(s," instead."),a=n;let ty(this,e)}}}pr.getPlugin=dr,pr.BASE_PLUGIN_NAME=rr,pr.registerPlugin(rr,pr),b.prototype.uis[ar][e]},b.prototypern!!lr(e)slice(1):e;function T(e,t,i){let s=T.getPlayer(e);if(s)t&&d.warn('Player "'.concat(e,'" is already initialised. Options will not be applied.')),i&&s.ready(i);else{const n="string"==typeof e?We("#"+gr(e)):e;if(!ve(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");n.ownerDocument.defaultView&&n.ownerDocument.body.contains(n)||d.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(n.parentNode&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),B("beforesetup:t=h(t,e)});e=f.getComponent("Player");s=new e(n,t,i),B("setupch(e=>e(s))}return s}T.hooks_=U,T.hookt){B(e,t)},turn i}))},T.removeHook=F,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&_e()&&!(Ni=We(".vjs-styles-defaults"))&&(Ni=Ze("vjs-styles-defaults"),(Nn=We("head"))&&Nn.insertBefore(Ni,Nn.firstChild),et(Ni,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")),$e(1,T),T.VERSION=R,T.options=b.prototype.options_,T.>b.players,T n||t[s]}},T.getr(Boolean),T.players=b.players,T.getComponent=f.getComponent,T.registerComponent=(e,t)=>{_.isTech(t)&&d.warn("The ".concat(e," tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")),f.registerComponent.call(f,e,t)},T.getTech=_.getTech,T.registerTech=_.register].push(t)},Object.defineProperty(T,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(T.middleware,"TERMINATOR",{value:us,writeable:!1,enumerable:!0}),T.browser=e,T.obj=J,T.mergeOptions=mr(9,"videojs.mergeOptions","videojs.obj.merge",h),T.defineLazyProperty=mr(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",$),T.bind=mr(9,"videojs.bind","native Function.prototype.bind",m),T.registerPlugin=pr.registerPlugin,T.deregisterPlugin=pr.deregisterPlugiugin(e,t)),T.getPlugins=pr.getPlugins,T.getPlugin=pr.getPlugin,T.getPluginVersion=pr.getPluginVersion,T.aguages[e]},T.log=d,T.createLogger=G,T.time=Ht,T.createTimeRange=mr(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Mt),T.createTimeRanges=mr(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Mt),T.formatTime=mr(9,"videojs.formatTime","videojs.time.formatTime",jt),T.setFormatTime=mr(9,"videojs.setFormatTime","videojs.time.setFormatTime",Bt),T.resetFormatTime=mr(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Ft),T.parseUrl=mr(9,"videojs.parseUrl","videojs.url.parseUrl",oi),T.isCrossOrigin=mr(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",di),T.EventTarget=ft,T.any=ht,T.on=ot,T.one=dt,T.off=p,T.trigger=lt,T.xhr=vi,T.TextTrack=xi,T.AudioTrack=Ai,T.VideoTrack=Pi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEacrguments)}}),T.computedStyle=mr(9,"videojs.computedStyle","videojs.dom.computedStyle",ze),T.dom=Xe,T.fn=mt,T.num=ci,T.str=Lt,T.url=ui;Ot(function(e,t){/*!@name videojs-contrib-quality-levels @version 3.0.0 @license Apache-2.0*/e.exports=fefault:e}}ength=0}}r.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const d in r.prototype.allowedEvents_)r.prototype["on"+d]=null;var a="3.0.0";const n=i["default"].registerPlugin||i["default";rns({},e))};return n("qualityLevels",l),l.VERSION=a,l}(T)})exports=a}),yr="http://examph(;return i}/*!@name m3u8-parser @version 6.0.0 @license Apeturn i}const Sr=String.fromCharCode(9);class wr appers=[]}push(i){let s,n;0!==(i=i.trim()).length&&("#"!==i[0]?this.trigger("data",{type:"uri",uri:i}):this.tagMappncat([t])},[i]).forEach(t=>{for(let e=0;e<this.customParsers.length;e++)if(this.customParsers[e].call(this,t))return;var e,i;0!==t.indexOf("#EXT")?this.trigger("data",{type:"comment",text:t.slice(1)}):(t=t.replace("\r",""),(s=/^#EXTM3U/.exec(t))?this.trigger("data",{type:"tag",tagType:"m3u"}):(s=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(t))?(n={type:"tag",tagType:"inf"},s[1]&&(n.duration=parseFloat(s[1])),s[2]&&(n.title=s[2]),this.trigger("data",n)):(s=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(t))?(n={type:"tag",tagType:"targetduration"},s[1]&&(n.duration=parseInt(s[1],10)),this.trigger("data",n)):(s=/^#EXT-X-VERSION:([0-9.]*)?/.exec(t))?(n={type:"tag",tagType:"version"},s[1]&&(n.version=parseInt(s[1],10)),this.trigger("data",n)):(s=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(t))?(n={type:"tag",tagType:"media-sequence"},s[1]&&(n.number=parseInt(s[1],10)),this.trigger("data",n)):(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(t))?(n={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(n.number=parseInt(s[1],10)),this.trigger("data",n)):(s=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(t))?(n={type:"tag",tagType:"playlist-type"},s[1]&&(n.playlistType=s[1]),this.trigger("data",n)):(s=/^#EXT-X-BYTERANGE:(.*)?$/.exec(t))?(n=gi(br(s[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n)):(s=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(t))?(n={type:"tag",tagType:"allow-cache"},s[1]&&(n.allowed=!/NO/.test(s[1])),this.trigger("data",n)):(s=/^#EXT-X-MAP:(.*)$/.exec(t))?(n={type:"tag",tagType:"map"},s[1]&&((i=Tr(s[1])).URI&&(n.uri=i.URI),i.BYTERANGE)&&(n.byterange=br(i.BYTERANGE)),this.trigger("data",n)):(s=/^#EXT-X-STREAM-INF:(.*)$/.exec(t))?(n={type:"tag",tagType:"stream-inf"},s[1]&&(n.attributes=Tr(s[1]),n.attributes.RESOLUTION&&(i={},(e=n.attributes.RESOLUTION.split("x"))[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),n.attributes.RESOLUTION=i),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"])&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10)),this.trigger("data",n)):(s=/^#EXT-X-MEDIA:(.*)$/.exec(t))?(n={type:"tag",tagType:"media"},s[1]&&(n.attributes=Tr(s[1])),this.trigger("data",n)):(s=/^#EXT-X-ENDLIST/.exec(t))?this.trigger("data",{type:"tag",tagType:"endlist"}):(s=/^#EXT-X-DISCONTINUITY/.exec(t))?this.trigger("data",{type:"tag",tagType:"discontinuity"}):(s=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(t))?(n={type:"tag",tagType:"program-date-time"},s[1]&&(n.dateTimeString=s[1],n.dateTimeObject=new Date(s[1])),this.trigger("data",n)):(s=/^#EXT-X-KEY:(.*)$/.exec(t))?(n={type:"tag",tagType:"key"},s[1]&&(n.attributes=Tr(s[1]),n.attributes.IV)&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV)),this.trigger("data",n)):(s=/^#EXT-X-START:(.*)$/.exec(t))?(n={type:"tag",tagType:"start"},s[1]&&(n.attributes=Tr(s[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n)):(s=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out-cont"},s[1]?n.data=s[1]:n.data="",this.trigger("data",n)):(s=/^#EXT-X-CUE-OUT:(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out"},s[1]?n.data=s[1]:n.data="",this.trigger("data",n)):(s=/^#EXT-X-CUE-IN:(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-in"},s[1]?n.data=s[1]:n.data="",this.trigger("data",n)):(s=/^#EXT-X-SKIP:(.*)$/.exec(t))&&s[1]?((n={type:"tag",tagType:"skip"}).attributes=Tr(s[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(Sr)),this.trigger("data",n)):(s=/^#EXT-X-PART:(.*)$/.exec(t))&&s[1]?((n={type:"tag",tagType:"part"}).attributes=Tr(s[1]),["DURATION"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=br(n.attributes.BYTERANGE)),this.trigger("data",n)):(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t))&&s[1]?((n={type:"tag",tagType:"server-control"}).attributes=Tr(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOADutes[e]))}),this.trigger("data",n)):(s=/^#EXT-X-PART-INF:(.*)$/.exec(t))&&s[1]?((n={type:"tag",tagType:"part-inf"}).attributes=Tr(s[1]),["PART-TARGETutes[e]))}),this.trigger("data",n)):(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t))&&s[1]?((n={type:"tag",tagType:"preload-hint"}).attributes=Tr(s[1]),["BYTERANGE-START","BYTERANGE-LENGTHbutes[e])}),this.trigger("data",n)):(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t))&&s[1]?((n={type:"tag",tagType:"rendition-report"}).attributes=Tr(s[1]),["LAST-MSN","LAST-PARTs[e],10))}),this.trigger("data",n)):this.trigger("data",{type:"tag",data:t.slict[e]}),i}function kr(e){var t,i,s,n,r,{serverControl:e,targetDuration:a,partTargetDuration:o}=e;e&&(t="#EXT-X-SERVER-CONTROL",i="holdBack",s="partHoldBack",n=a&&3*a,r=o&&2*o,a&&!e.hasOwnProperty(i)&&(e[i]=n,this.trigger("info",{message:"".concat(t," defaulting HOLD-BACK to targetDuration * 3 (").concat(n,").")})),n&&e[i]<n&&(this.trigger("warn",{message:"".concat(t," clamping HOLD-BACK (").concat(e[i],") to targetDuration * 3 (").concat(n,")")}),e[i]=n),o&&!e.hasOwnProperty(s)&&(e[s]=3*o,this.trigger("info",{message:"".concat(t," defaulting PART-HOLD-BACK to partTargetDuration * 3 (").concat(e[s],").")})),o)&&e[s]<r&&(this.trigger("warn",{message:"".concat(t," clamping PART-HOLD-BACK (").concat(e[s],") to partTargetDuration * 2 (").concat(r,").")}),e[s]=r)}class Cr extends On{constructor(){super(),this.lineStream=new vr,this.parseStream=new wr,this.lineStream.pipe(this.parseStream);const e=this,s=[];let a={},n,o,l=!1;const d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let h=0,u=(this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},0),c=0;thiegment=a)}),this.parseStream.on("data",function(r){let t,i;({tag(.version)},"aCache=!0)+e.lengndLegme list"})},"medi.number})},"discontinuit.number})},"plalay(n.key=o)},"ibute group"})},dis.length)},"programimeObject},taranife.PRECISE}},"cue-out"(){a.cueOut=r.data},"cue-out-cont"(){a.cueOutCont=r.datIn=rGMENTS"])},part(){l=!0;var e=this.manifest.segments.length,t=Er(r.attributes),t=(a.parts=a.parts||[],a.parts.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=c),c=t.byterange.offset+t.byterange.length),a.parts.length-1);this.warnOnMissingAttributes_("#EXT-X-PART #".concat(t," for segment #").concat(e),r.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #".concat(t," lacks required attribute(s): LAST-PART")})})},"servis set"})},"preload-hint"(){var t=this.manifest.segments.length,i=Er(r.attributes),e=i.type&&"PART"===i.type,s=(a.preloadHints=a.preloadHints||[],a.preloadHints.push(i),!i.byterange||i.byterange.hasOwnProperty("offset")||(i.byterange.offset=e?c:0,e&&(c=i.byterange.offset+i.byterange.length)),a.preloadHints.length-1);if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #".concat(s," for segment #").concat(t),r.attributes,["TYPE","URI"]),i.type)for(let e=0;e<a.preloadHints.length-1;e++){var n=a.preloadHints[e];n.type&&n.type===i.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #".concat(s," for segment #").concat(t," has the same TYPE ").concat(i.type," as preload hint #").concat(e)})}},"rendition-report"(){var e=Er(r.attributes),e=(this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e),this.manifest.renditionReports.length-1),t=["LAST-MSN","URI"];l&&t.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #".concat(e),r.attributes,t)}manifest)}}[r.tagType]||function(){}).c,c=0,a={}},comment]=r.data)}})[r.type].call(e)})}warnOnMissing(", "))})}push(e){this.lineStreer("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTag,t)}var Nr={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Mr=["video","audio","text"],Rr=["Video","Audio",icewn"="'+e+'"'},jr="mp4a.40.2",Hr=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,qr=/^application\/dashrangth||0))},w=window.BigInt||Number,Wr=[w("0x1"),w("0x100"),w("0x10000"),w("0x1000000"),w("0x100000000"),w("0x10000000000"),w("0x1000000000000"),w("0x100000000000000"),w("0x1000000000000Nui[n+t])})},zr="http://example.com";function Xr(e){e=e;for(var t=window.atob?window.atob(e):Buffer.from(e,"base64").toString("binary"),i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(seeze(e):e}var Yr=Kr({HTML:"text/html",isHTML:function(e){return e===Yr.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Qr=Kr({HTML:"http://www.w3.org/1999/xht==Qr.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),;retureturn n}},freeze:Kr,MIME_TYPE:Yr,NAMESPACE:Qr},Jr=$r.find,Zr=$r}))):[]}function sa(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(ructor=e)}var t={},r=(t.ELEMENT_NODE=1,t.ATTRIBUTE_NODE=2,t.TEXT_NODE=3,t.CDATA_SECTION_NODE=4,t.ENTITY_REFERENCE_NODE=5,t.ENTITY_NODE=6,t.PROCESSING_INSTRUCTION_NODE=7,t.COMMENT_NODE=8,t.DOCUMENT_NODE=9,t.DOCUMENT_TYPE_NODE=10,t.DOCUMENT_FRAGMENT_NODE=11,t.NOTATION_NODE=12,{}),k={},ra=(r.INDEX_SIZE_ERR=(k[1]="Index size error",1),r.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2),r.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3)),aa=(r.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),r.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),r.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),r.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7),r.NOT_FOUND_ERR=(k[8]="Not found",8));r.NOT_SUPPORTED_ERR=(k[9]="Not supported",9),r.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10),r.INVALID_STATE_ERR=(k[11]="Invalid state",11),r.SYNTAX_ERR=(k[12]="Syntax error",12),r.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),r.NAMESPACE_ERR=(k[14]="Invalid namespace",14),r.INVALID_ACCESS_ERR=(k[15]="Invalid a": "+t),i}func._inc=i)}funct=null)}function ma(){}fune),t}function Ta(e){return e&&e.nodeType===I.DOCUMENT_TYPE_NODE}function Sa(e){return e&&e.nodeType===I.EL),t}function Pa(){this._nsMap={}}function La(){}function Oa(){}function Da(){}function Na(){}function Ma(){}function Ra(){}function Ua(){}function Ba(){}function Fa(){}function ja(){}function Ha(){}func[t]=i}C.prototype=Error.prototype,sa(r,C),oa.prototype={len[e]||null.join("")},filter:function(e){return Array.prototype.filter.call(this,el(this,e)}},la.prot),this[e]},na(la,oa),ha.prototype={length:0,item:oa.prototype.item,gereturn i}},seis,e,t),t},setNis,e,t),t},removthis,e),e},removeNthis,e),e},getNturn null}},ma.prototype={{return!0},creaild(i)),s},createDod=i||"",s}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,inthis,e,t)},reeChild(t)},ra(this,e)},ae(e,null)},hasirstChild}s,this,e)}e(),e=t)}},iture(e,t)},hases.length},loturn null},lookupNaturn null},isDefaulPrefix(e)}},sa(t,I),sa(t,I.prototype),ya.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,in;return e},ra(this,e)},relement=e)},this,e,t)},getE=e,!0}),i},getElementsB(e)}),r})},creElement=t},createDocume=new oa,e},createTextNode:function(e){var t=new Da;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Na;return t.ownerDocument=this,t.appendData(e),t},createCDData(e),t},createProcessingI.data=t,i},creatfied=!0,t},createEntiteName=e,t},creatElement=i},createAlName=t,i}},na(ya,I),ya.prototype.getElementsByTagName=(Pa.prototype={nodeType:1,hateNode(e)},gevalue||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},seteNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this.removeAttributeNode(e)},a,e);var t},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttriItemNS(e)},removeAttnodeName)},removeAteNode(e)},hasAdeNS(e,t)},getAvalue||""},setAteNode(e)},getAttriemNS(e,t)},getElement(e)}),i})},getElementsB(e)}),i})}}).getElementsByTagName,ya.prototype.getElementsByTagNameNS=Pa.prototype.getElementsByTagNameNS,na(Pa,I),La.prototype.nodeType=2,na(La,I),Oa.prototype={data:"",subng(e,e+t)},=e.length},ta(e,0,t)},aor(k[ra])},a(e,t,"")},r=i.length}},na(Oa,I),Da.prototype={nodeName:"#text",nodeType:3ibling),e}},na(Da,Oa),Na.prototype={nodeName:"#comment",nodeType:8},na(Na,Oa),Ma.prototype={nodeName:"#cdata-section",nodeType:4},na(Ma,Oa),Ra.prototype.nodeType=10,na(Ra,I),Ua.prototype.nodeType=12,na(Ua,I),Ba.prototype.nodeType=6,na(Ba,I),Fa.prototype.nodeType=5,na(Fa,I),ja.prototype.nodeName="#document-fragment",ja.prototype.nodeType=11,na(ja,I),Ha.prototype.nodeType=7,na(Ha,I),qa.prototype.serialill(e,t,i)},I.prototype.toString=Va;try{Object.defineProperty&&(Object.defineProperty(la.prototype,"le.$$length}}),Object.defineProperty(I.prototype,"textCone}}(eValu"$$"+t]=i})}catch(e){}var Dn={DocumentType:Ra,DOMException:C,DOMImplementation:ma,Element:Pa,Node:I,NodeList:oa,XMLSerializerll:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES}),Ya=(Ka.XML_ENTITIES,Ka.HTML_ENTITIES,Ka.entityMap,$r.NAMESPACE),Ln=/[A-Z_a-z\xC0-\xD6\xD8-\F\uFDF0-\uFFFDName=s.slice(h+1)):(d=null,e.localName=s),c=e.uri=i[d||""];if(t.startElement(c,u,s,e),!e.closed)return e.currentNSMap=i,e.localNSMap=n,1;if(t.endElement(c,u,s),n)for(d in n)Object(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(r.error("entity not found:"+e),e)}function t(e){var t;m<e&&(t=i.substring(m,e).replace(/&#?\w+;/g,a),u&&o(m),n.characters(t,0,e-m),m=e)}function o(e,t){for(;d<=e&&(t=h.exec(i));)l=t.index,d=l+t[0].length,u.lineNumber++;u.columnNumber=e-l+1}var l=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,u=n.locator,c=[{currentNSMap:e}],p={},m=0;for(;;){try{var g,f,y=i.indexOf("<",m);if(y<0)return i.substr(m).match(/^\s*$/)||(g=n.doc,f=g.createTextNode(i.substr(m)),g.appendChild(f),n.currentElement=f);switch(m<y&&t(y),i.charAt(y+1)){case"/":var _=i.indexOf(">",y+3),v=i.substring(y+2,_).replace(/[ \t\n\r]+$/g,""),b=c.pop(),T=(_<0?(v=i.substring(y+2).replace(/[\s<].*/,""),r.error("end tag name: "+v+" is not complete:"+b.tagName),_=y+1+v.length):v.match(/\s</)&&(v=v.replace(/[\s<].*/,""),r.error("end tag name: "+v+" maybe not complete"),_=y+1+v.length),b.localNSMan.endPrefixMapping(w);S||r.fata=?|(\/?\s*>|<)/g;n.lastIndex=t,n.exec(e);for(;i=n.exec(e);)if(s.push(i),i[1])return s}(e,t),r=s.l,s=s[r-1],i.startDTD(e,t,n),i.endDTD(),s.index+s[0].length}return-1}(i,y,n,r);break;default:u&&o(y);var E=new uo,k=c[c.length-1].currentNSMap,_=function(e,t,s,i,n,r){function a(e,t,i){s.attributeNames.hasOwnProperty(e)&&r.fatalError("Attribute "+e+" redefined"),s.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,n),i)}var o,l=++t,d=$a;for(;;){var h=e.charAt(l);switch(h){case"=":if(d===Ja)o=e.slice(t,l);else if(d!==Za)throw new Error("attribute equal must after attrName");d=eo;break;case"'":case'"':if(d===eo||d===Ja){if(d===Ja&&(r.warning('attribute value must after "="'),o=e.slice(t,l)),t=l+1,!(0<(l=e.indexOf(h,t))))throw new Error("attribute value no end '"+h+"' match");u=e.slice(t,l),a(o,u,t-1)}else{if(d!=to)throw new Error('attribute value must after "="');u=e.slice(t,l),a(o,u,t),r.warning('attribute "'+o+'" missed start quot('+h+")!!"),t=l+1}d=io;break;case"/":switch(d){case $a:s.setTagName(e.slice(t,l));case io:case so:case no:d=no,s.closed=!0;case to:case Ja:case Za:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),d==$a&&s.setTagName(e.slice(t,l)),l;case">":switch(d){case $a:s.setTagName(e.slice(t,l));case io:case so:case no:break;case to:case Ja:"/"===(u=e.slice(t,l)).slice(-1)&&(s.closed=!0,u=u.slice(0,-1));case Za:d===Za&&(u=o),d==to?(r.warning('attribute "'+u+'" missed quot(")!'),a(o,u,t)):(Ya.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,t));break;case eo:throw new Error("attribute value missed!!")}return l;case"":h=" ";default:if(h<=" ")switch(d){case $a:s.setTagName(e.slice(t,l)),d=so;break;case Ja:o=e.slice(t,l),d=Za;break;case to:var u=e.slice(t,l);r.warning('attribute "'+u+'" missed quot(")!!'),a(o,u,t);case io:d=so}else switch(d){case Za:s.tagName;Ya.isHTML(i[""])&&o.match(/^(?:disabled|checked|selected)$bute space is required"'+o+'"!!');case so:d=Ja,t=l;break;case eo:d=to,t=l;break;case no:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}(i,y,E,k,a,r),C=E.length;if(!E.closed&&function(e,t,i,s){var n=s[i];null==n&&((n=e.la)&&c.push(E),n.locator=u}else lo(E,n,k)&&c.push(E);Ya.isHTML(E.uri)&&!E.closed?_=function(e,t,i,s,n){if(/^(?:script|textarea)$/i.test(i)){var r=e.indexOf("</"+i+">",t),e=e.substring(t+1,r);if(/[&<]/.;/g,s),n..max(y,m)+1)}}(e,t,i,s,this.errorHandler),s.endDocument()}},uo.prototype={setTagName:function(e){if(!Qa.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!Qa.ttribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getL{t.lineNumber=e.lineNu,e)}:s),r[t]=i?function(e){i=i.domBuilderartElement:s.currentElement=r,this.locator&&vo(this.locator,r);for(var o=0;o<a;o++){var e=s.getURI(ue=d.nodeValue=l,r.s}},endElemes.locator,e),So(this,e)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){vathis.doct(e)&&this.doc.appendChild(s),this.locator)&&vo(this.locator,s)},skippedEntity:fuuments);e=this.doc.createComment(e);this.locator&&vo(ction(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var s=this.doc.implementation;s&&s.createDocumentType&&(s=s.createDocumentType(e,t,i),this.le=s)},warning:function(e){},error:function(e){},fatalError:function(e){throw new mo(e,this.locator)}},"endDTD,startEntity,endEntity,attriblElizOMP1.0>("object"==typeof i&&Object.keys(i).forEach(e=>{Array.isArray(t[e])&&Array.isArray(i[e])?t[e]=t[e].concat(i[e]):Eo(t[e])&&Eo(i[e])?t[e]=x(t[e],i[e]):t[e]=i[e]}),t),{}),ko=t=>Object.keys(t).map(e=>t[e]),Co=e=>e.reduce((e,t)=>e.concat(t),[]),Io=t=>{if(!t.length)return[];var i=[];for(let e=0;e<t.length;e++)i.push(t[e]);return i};var xo={INVALID_N;e<mber.MAX_SEGER&&(ic(etioresentationTime:a,number:o=0,duration:l}=e;if(t)return i=Ao({baseUrl:t,source:i.sourceURL,range:i.range}),(t=Ao({baseUrl:t,source:t,indexRange:n}ngth&&(t.duration=n[0].duration,t.timeline=n[0].timeline):s&&(t.duration=s,t.timeline=r),t.presentationTime=a||r,t.number=o,[t];throw new Error(xo.NO_BASE_URL)},No=(e,i,s)=>{var n=e.sidx.map||null,r=e.sidx.duration,a=e.timeline||0,t=e.sidx.byterange,t=t.offset+t.length,o=i.timescale,l=i.references.filter(e=>1!==e.referenceType),d=[],h=e.endList?"static":"dynamic",u=e.sidx.timeline;let c=u,p=e.mediaSequence||0,m;m="bigint"==typeof i.firstOffset?window.BigInt(t)+i.firstOffset:t+i.firstOffset;for(let t=0;t<l.length;t++){var g=i.references[t],f=g.referencedSize,g=g.subsegmentDuration;let e;e="bigint"==typeof m?m+window.BigIr:pelii},e.segments.length&&t.timeline>e.timeline||e.segments.length&&t.timeline>e.segments[e.segments.length-1].timeline)&&t.discontinuitySequence--):(e.segments[i].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontgments[0]entPr[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{})).map(e=>{var t,s;return e.discontinuityStarts=(t=e.segments||[],s="discontinuity",t.reduce((e,t,i)=>(t[s]&&e.push(i),e),[])),e})},qo=(e,t)=>{var i=jo(e.sidx),t=i&&t[i]&&t[i].sidx;return t&&No(e,t,e.sidx.resolvedUri),e},Vo=(e,o={})=>e.reduce((e,t)=>{var i,s,n,r,a=t.attributes.lang||"text";return e[a]||(e[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),e[a].playlists.push(qo(({attributes:a,segments:t,mediaSequence:i,discontinuityStarts:s,discontinuitySequence:n}=[t][0],"undefined"==typeof t&&(t=[{uri:a.baseUrl,timeline:a.periodStart,resolvedUri:a.baseUrl||"",duration:a.sourceDuration,number:0}],a.duration=a.sourceDuration),r={NAME:a.id,BANDWIDTH:a.bandwidth,"PROGRAM-ID":1},a.codecs&&(r.CODECS=a.codecs),{attributes:r,uri:"",endList:"static"===a.type,timeline:a.periodStart,resolvedUri:a.baseUrl||"",targetDuration:a.duration,timelineStarts:a.timelineStarts,discontinuityStarts:s,discontinuitySequence:n,mediaSequence:i,segments:t}),o)),e},{}),Wo=({attributes:e,segments:t,sidx:i,discontinuityStarts:s})=>{s={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targe.frion)=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,zo=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,Xo=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,Ko=i=>i?Object.keys(i).reduce((e,t)=>{t=i[t];return e.concat(t.playlists)},[]):[],Yo=({dashPlaylists:e,locations:t,sidxMapping:i={},previousManifest:s})=>{var n,r,a,o,l,d,h,u;return e.length?({sourceDuration:a,type:l,suggestedPresentatio(e.filter(zo)),r=Ho(e.filter(Xo)),e=e.map(e=>e.attributes.captionServices).filter(Boolean),a={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:((e,t={})=>{if(Object.keys(t).length)for(const i in e)e[i]=qo(e[i],t);return e})(n,i)},0<=o&&(a.minimumUpdatePeriod=1e3*o),t&&(a.locations=t),"dynamic"===l&&(a.suggestedPresentationDelay=d),o=0===a.playlists.length,t=h.length?((e,a={},o)=>{let l;e=e.reduce((e,t)=>{var i=t.attributes.role&&t.attributes.role.value||"",s=t.attributes.lang||"";let n=t.attributes.label||"main";s&&!t.attributes.label&&(r=i?" (".concat(i,")"):"",n="".concat(t.attributes.lang).concat(r)),e[n]||(e[n]={language:s,autoselect:!0,default:"main"===i,playlists:[],uri:""});var r=qo((({attributes:e,segments:t,sidx:i,mediaSequence:s,discontinuitySequence:n,discontinuityStarts:r},a)=>{n={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDuration:e.duration,discontinuitySequence:n,discontinuityStarts:r,timelineStarts:e.timelineStarts,mediaSequence:s,segments:t};return e.contentProtection&&(n.conteotection),i&&(n.sidx=i),a&&(n.attributes.AUDIO="audioys(e)[0]].default=!0),e})(h,i,o):null,l=r.length?Vo(r,i):null,h=(d=n.concat(Ko(t),Ko(l))).map(({timelineStarts:e})=>e),a.timeldiaGroups["CLOSED-CAPTIONS"].cc=e.reduce((s,e)=>(e&Of("$Number$")?((e,t,i)=>{var{NOW:e,clientOffset:s,availabilityStartTime:n,timescale:r=1,periodStart:a=0,minimumUpdatePeriod:o=0}=e;return Math.ceil((((e+s)/1e3+o-(n+a))*r-t)/i)})(s,p,g):(l*d-p)/g:(n[m].t-p)/g:f+1;var y=h+c.length+e;let t=h+c.length;for(;t<y;)c.push({nudurnge(e,t.base)):t.listurn s&&(n=s(i,t.segmentTimelin({tagName:e})=>e===t),sl=e=>e.textContent.trim(),nl=e=>{var t,i,s,n,ec(e);return e?([e,t,i,s,n,r]=e.slice(1),31536e3*parseFloat(e||0)+2592e3*parseFloat(t||0)+86400*parseFloat(i||0)+3600*parseFloat(s||0)+60*parseFloat(n||0)+parseFloat(r||0)):0},rl={mediaPresentationDuration(e){return nl(e)},availabilityStartTime(e){return/^\d+-\d+-\d+T\d3},minimumUpdatePeriod(e){return nl(e)},suggestedPresentationDelay(e){return nl(e)},type(e){return e},timeShiftBufferDepth(e){returrseInt(e,10)},height(e){return parseInt(e,10)},bandwidth(rameRate(e){return parseentationTimeOffset(e){return parseInt(e,10)},duration(e){var t=parseInt(e,10);return isNaN(t)?nl(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},DEFAULT(e){return e}},P=e=>e&&e.attributes?Io(e.attributes).reduce((e,t)=>{var i=rl[t.name]||rl.DEFAfb4ation")[0],t=t&&P(t);t&&r?t.initialization=r&&P(r):t&&t.initialization&&(t.initialization={sourceURL:t.initialization});const a={template:t,segmentTimeline:n&&A(n,"S").map(e=>P(e)),list:i&&x(P(i),{segmentUrls:s,initialization:P(r)}),base:e&&xt=P(e),i=ol(d,A(e,"BaseURL")),s=A(e,"Role")[0],s={role:P(s)};let n=x(l,t,s);var r,a,o,t=A(e,"Accessibiio:1,easyReader:0,"3D":0};var t,s;return/=/.test(e)?([t,s=""]=e.split("="),i.channel=t,i.language=e,s.split(",").forEach(e=>{var[e,t]=e.split(":");"lang"===e?i.language=t:"ervices:t})),A(e,"Label")[0]),s=(s&&s.childNodes.length&&(t=s.childNodes[0].nodeValue.trim(),n=x(n,{label:t})),A(e,"ContentProtection").reduce((e,t)=>{var i=P(t),s=(i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUattributes:i},i=A(t,"cenc:pssh")[0])&&(t=sl(i),e[s].pssh=t&&Xr(t)),e},{})),t=(Object.keys(s).length&&(n=x(n,{contentProtection:s})),ll(e)),s=A(e,"Representation"),e=x(h,t);return Co(s.map((r=n,a=i,o=e,e=>{var t=A(e,"BaseURL"),t=ol(a,t);const i=x(r,P(e)),s=ll(e);return t.map(e=>({segmentInfo:x(o,s),attributes:x(i,{baseUrl:e})}))})))},hl=(e,t={})=>{var{manifestUri:t="",NOW:i=Dat,t)=>{var i,s,n=P(e),t=d[t-1];n.start=({attributes:t,priorPer:0),d.purn array(r),Al)?o=4:E(e.subarray(r),Pl)&&(o=3),o){if(a++,n)return Ol(e.subarray(n,r));var l=void 0;"h264"===t?l=31&e[r+o]:"h265"===t&&(l=e[r+o]>>1&63),-1!==i.indexOf(l)&&(n=r+o),r+=o+("h264"===t?1:2)}else r+e.subarray(s)),i.firstOffset=Tl(e.subarray(s+8)),s+=16),t.getUint16(s+=2));for(s+=2;0<n;s+=12,n--)i.references.push({referenceType:(128&e[s])>>>7,referencedSize:2147483647&t.getUint32(s),subsegmentDuration:t.getUint32(s+4),startsWithSap:!!(128&e[s+8]),sapType:(112&e[s+8])>>>4,sapDeltaTime:268435455&t.getUint32(s+8)});return i},wl=S([73,68,51]),El={EBML:S([26,69,223,163]),DocType:S([66,130]),Segment:S([24,83,128,103]),SegmentInfo:S([21,73,169,102]),Tracks:S([22,84,174,107]),Track:S([174]),TrackNumber:S([215]),DefaultDuration:S([35,227,131])([1[16h&&!(e&kl[i]);i++)t++;return t},Il=function(e,t.match(/.{1,2}/g).map(e):"number"==typeof t?Lr(t):t},Al=S([0,0,0,1]),Pl=S([0,0,1]),Ll=S([0,0,3]),Ol=function(e){for(var t=[],i=1;i<e.length-2;)E(e.subarray(i,i+3),Ll)&&(t.push(i+2),i++),i++;if(0===t.length)return e;for(var s=e.length-t.length,n=new Uint8Array(s),r=0,i=0;i<s;r++,i++)r===t[0]&&(r++,t.shift()),n[i]=e[r];return n},L={webm:S([119,101,98,109]),matroska:S([109,97,116,114,111,115,107,97]),flac:S([102,76,97,67]),ogg:S([79,103,103,83]),ac,69]),"3gp":S([102,116,121,112,51,103]),mp4:S([102,116,121,112]),fmp4:S([11,1,2],{e=yl(},mkv:function(e){e=yl(e,[El.EBML,El.DocType])[0];return E(e,v,{offfse E(e,L["3gp"],{offset:4})},ac3:function(e){var t=pl(e);return E<=e.length1}return!1},flac:function(ection(e){return E(e,L.ogg)},avi:function(e){return E(e,L.riff)&&E(e,L.wav,{offset:8})},h264:function(e){return _l(e,"h264",7,3).length}nctn&&!/\/\//i.test(e);return i?e=new window.URL(e,window.location||yr):/\/\//i.test(e)||(e=fr.buildAbsoluteURL(window.location&&window.location.href||"",=[n,s]),s<0){for(lf(e==tet )+"e.pe.s):i{reundres).s.now ud===vedUri)&&(!e.uri||!t.uri||e.uri!==t.uri)),md=te.playlists.length||l.length;e++){var c=l[e];if(o-=c.duration,a){if(0<o)continue}else if(0<=o-Xl)continue;return{partIndex:c.partionList:l,startIndex:d,endIndex:e})}}returme:i}},isEnabled:dd,isDisabled:function(e){return e.disabled},isExcluded:od,isIncompatible:ld,playlistEnd:zl,iegmtEn=(e,t)=>""TLES"].forEach(e=>{if(n.mediaGroups[e])for(const i in n.mediaGroups[e])for(const s in n.mediaGroups[e][i]){var t=n.mediaGroups[e][i][s];r(t,e,i,s)}}];if(t.attributes&&t.attributes.AUDIO&&t.attributes.AUDIO===r)return}e.playlists=[gi({},e)]}e.playlists.forEach(function(e,t){var i=l(n,r,a,e),s=yd(t,i);e.uri?e.resolvedUri=e.resolvedUri||Ul(o.uri,e.uri):(e.uri=0===t?i:s,e.resolvedUri=e.uri),e.id=e.id||s,e.attributes=e.attributes||{},o.par s=o;let e=s.play)}}var r(t,Uriress,nr,i.playlists[n.uri]=r,_d(e,(t,e,i,s)=>{if(t.playlists)for(let e=0;e<t.playlists.length;e++)n.id===t.playlists[e].id&&(t.playlists[e]=r)}),i},Cd=(e,t)=>{var i=e.segments||[],i=i[i.length-1],s=i&&i.parts&&i.parts[i.parts.length-1],s=s&&s.duration||i&&i.duration;return t&&s?1e3*s:500*(e.partTargetDuration||e.targetDuration||10)};class Id extends Rn{constructor(e,t,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Fl("PlaylistLoader");var{withCredentials:i=!1}=i,e=(this.sr})(e,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:e,withCredentials:this.withCredentials},(e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})})}}playlistRequestError(e,t,i){var{uri:t,id:s}=t;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:"HLS playlist request error at URL: ".concat(t,"."),responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}parseManifest_({url:t,manifestString:i}){{var[{onwarn:i,oninfo:e,manifestString:s,customTagParsers:n=[],customTagMappers:r=[],llhls:a}]=[{onwarn:({message:e})=>this.logger_("m3u8-parser warn for ".concat(t,": ").concat(e)),oninfo:({message:e})=>this.logger_("m3u8-parser info for ".concat(t,": ").concat(e)),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls}];c=>o.addTagMapper(e)),o.push(s),o.end(),o.manifest);if(a||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(e){l.hasOwnProperty(e)&&delete l[e]}),l.segments&&l.segments.forEach(function(t){["parts","n(e){t.hasOwnProperty(e)&&delete t[e]})})),!l.targetDuration){let e=10;l.segments&&l.segments.length&&(e=l.segments.reduce((e,t)=>Math.max(e,t.duration),0)),i&&i("manifest has no targetDuration defaulting to ".concat(e)),l.targetDuration=e}return(e=ed(l)).length&&!l.partTargetDuration&&(n=e.reduce((e,t)=>Math:e}),tl,e?(this.main=e,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUtart()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.aUpdateTimeout=window.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){this.started=!0,"object"==typeof this.src?(this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0)):this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,t)=>{if(this.request){if(this.request=null,e)reLength||n.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),s(t=t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.status&&(n||e.responseText))),e)}function Ad(){function r(e,i){e=O({ng.fromCharCodeterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function Md(e){return e.resolvedU],Ud=e=>{va16).map(Ld).join("pros,t=t-(e.videoTimingInfo.transmuxedPresentationStart+n),new Date(e.dateTimeObject.getTime()+1e3*t)):null)&&(s.programDateTime=n.toISOString()),i(null,s)):i({message:"validust be provided")},Hd=({programTime:e,playlist:t,retryCount:i=2,seekTo:s,pauseAfterSeek:n=!0,tech:r,callback:a})=>{var o,l,d;if(a)return"undefined"!=typeof e&&t&&s?t.endList||r.hasStarted_?(t=>{if(!t.segments||0===t.segments.length)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0})(t)?(d=((e,t)=>{let i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;let s=t.segments[0];if(i<s.dateTimeObject)return null;for(let e=0;e<t.segments.length-1;e++){s=t.segments[e];var n=t.segments[e+1].dateTimeObject;if(i<n)break}var e=t.segments[t.segments.length-1],r=e.dateTime3*a);return i>a?null:{segment:s=i>r?e:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:gd.duration(t,t.mediaSequence+t.segments.inte(e),s=new Date(t)}catch(e){}me()-e)/1e3})((o=d.segment).dateTimeObject,e),"estimate"===d.type?0===i?a({message:"".concat(e," is not buffered yet. Try again")}):(s(d.estimatedStart+l),void r.one("seeked",()=>{Hd({programTime:e,playlist:t,retryCount:i-1,seekTo:s,pauseAfterSeek:n,tech:r,callback:a})})):(d=o.start+l,r.one("seeked",()=>a(null,r.currentTime())),n&&r.pause(),void s(d))):a({message:"".concat(e," was not fomDa10||r&&s.length<rt.segments&&!i.segments||!t.segments&&i.segments)return!1;if(t.segments||i.segments)for(let e=0;e<t.segments.length;e++){var s=t.segments[e],n=i.segments[e];if(s.uri!==n.uri)return!1;if(s.byterange||n.byterange){s=s.byterange,n=n.byterange;if(s&&!n||!s&&n)return!1;if(s.offset!==n.offset||s.length!==n.length)return!1}}return!0}const Gd=(e,t,i,s)=>{s=s.attributes.NAME||i;return"placeholder-uri-".concat(e,"-").concat(t,"-").ce.p[s]yterange.offset===t.l=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,i){return!this.request||(this.request=null,e?(this.sidx&&r&&!this.mainPlaylistLoader_.sidxMapping_[r]){const o=Bl(a.sidx.resolvedUri),l=(t,i)=>{if(!this.requestErrored_(t,i,s)){t=this.mainPlaylistLoader_.sidxMapping_;let e;try{e=Sl(S(i.response).subarray(8))}catch(e){return void this.requestErrored_(e,i,s)}return t[r]={sidxInfo:a.sidx,sidx:e},No(a,e,a.sidx.resolvedUri),n(!0)}};this.request=Vd(o,this.vhs_.xhr,(e,t,i,s)=>{var n,r;return e?l(e,t):i&&"mp4"===i?({offset:n,length:r}=a.sidx.byterange,s.length>=r+n?l(e,{response:s.subarray(n,n+r),status:t.status,uri:t.uri}):void(this.request=thi({uhod?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):this.mainLoaded_:Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=e-Date.now(),s()}}))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;var e=this.mainPlaylistLoader_.main;let t=zd({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(t=Xd(e,t,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=t||e;var i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(t)}updateMinimumUpdatePeriodTimeout_(){var e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(window.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.maain.playlists;const i=!this.media_||this.media_!==t[e];if(i?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=window.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},Cd(this.media(),Boolean(i))))};s()}this.t:60,BACKbjectURL(new Blob([t],{type:"application/javascript"}))}catch(e){var i=new BlobBuilder;return i.append(t),URL.creaerminate;return t.on=t.add[e]=r[e].slice(),r[e].splice(t,1),-1<t)},this.trigger=function(e){var t,i,s,n=r[e];if(n)if(2===arguments.length)for(i=n.length,t=0;t<i;++t)n[t].call(this,arguments[1]);else{for(s=[],t=arguments.length,t=1;t<arguments.length;++t)s.push(arguments[t]);for(i=n.led"!=typeof global?global:"undefined"!=typeof self?self:{},i=(e.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function",function(e){t.reset(e)}),t},e.prondTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)},e),ye=Math.pow(2,32),_e={getUint64:function(e){var t,e=new DataView(e.buffer,e.byteOffset,e.byteLength);return e.getBigUint64?(t=e.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:e.getUint32(0)*ye+e.getUint32(4)},MAX_UINT32:ye},ve=_e.MAX_UINT32;if(d={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var s in d)d.hasOwnProperty(s)&&(d[s]=[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3)]);te=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),se=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ie=new Uint8Array([0,0,0,1]),Ce=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),xe=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0ra{f4)),n( Uduleurex,00,mple.l)>)>d,n=,t)t){ancnewvoid 0==e.ptse))},"endedt ke,Ce={ftyp=t.l;return l.apply(null,[d..pts,s.dts=i.dts):(".nalCount=i.length,s(s.duration=n[n.lengr t;return!e[0][0].,r)).size,a.push(n);return a=e.byteLength,l=e.nalCount,turn d},generateSampleTableForFrame:function(e,t){var i=[],e=be(e,t||0);rnate){th,y(s+4*n),a=new DataView(r.buffer),o=0;o<e.length;o++)t=e[o],a.setUint32(i,t.data.byteLength),r.set(t.data,i+=4),i+=t.data6,5,32,164,27],Ae,8,17,191,252],Pe=fue,t)4],n(268),[27,253,128],n(25te),n=Math.ceil(Me.ONE_SECON,dts:l.dts-n,pts:l.pestDts:function(e,t,i:function(e){for(var t,i=[],s=0;s<e.lengor(var t,i=0,s=new Uint8Array(funcon(e){delete e.axSegmentPts=MayloadType:-1,pe=s,i.payloadSize=n[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var i,s,n,r,a=[];if(64&t[0])for(s=31&t[0],i=0;i<s;i++)r={type:3&t[2+(n=3*i)],pts:e},4&t[2+n]&&(r.ccData=t[3+n]<<8|t[4+n],a.push(r));return a},discardEmulatioDts_?this.ignoreNextEqualDtgnoreNextEqualDts_=!1)):tionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})(e)},r.prototype.flush=function()Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Ac:this.setsChannel2Active(e)&&(ths_[(e.type<<1)+this.activeCea608Con(e){return 4096==(30720&e.ccData)},r.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},r.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},r.prototype.dispatchCea708Packet=function(e){this.parse708captithis.winAttr={},this={},this.visible=0,thity=0,this.relativePootype.clearText=funcs.length>=this.virtuoreRowOverflow&&this.bCount;)this.rows.sddText=function(e){this.rows[t{var e;this.isEmpty()||(e=this.nction(e){e=e||{},m.prototype.init.call(this);vading)}),this.serviceEncom.prototype=new p,m.prototacket.ptsVals.push(e.pts),thi151===s?n=this.setWindowAttriion(n,a):143===s?a=indow.clearText():13===sunction(e){return this.sMultiByte,r=this.current708Pac8Array(s))):(i=Be[n=a|o]||n,4Line(this.getPts(e)),l.peisible=(32&s)>>5,t.rowLock=(16&s12&s)>>2,t.fillBlue=3&s,s=iirection=(12&s)>>2,t.jus+)t.windows[s].visible&&!t.windows[s].isEmpty()&&i.push(t.windows[s].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},m.prototype.pushCaption=function(e){""!==e.text&&(this.triggee,t){var i=this.current708){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var n=0;n<8;n++)i&1<<n&&(t.windows[n].visible=0);return e},m.prototype.toggleWindows=function(e,t){var i=this.current708Pan(e,t){var i=this.current708Por(var n=0;n<8;n++)i&1<<Color=function(e,t){var i=tcity=(192&s)>>6,t..edgeBlue=3&s,e},m.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,s=(i[e],t.currentWindow.penLoc);return t.currentWindow.pendingNewLine=!0,t=i[++e],s.row=15&t,t=i[++e],s.column=63&t,e},m.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)},{42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,8this.clearFormatting(e.pts),this.row_=n),1&i&&-1=splayed=function(ee(/^\n+|\n+$/g,"");t.lengis.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTRNG_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERpe.isSpecialCharacsExtCharacter=function(2<=t&&t<=63},g.prototype.e===this.EXT_&&32<=t&&("rollUp"!==this.mode_&&(tar i=0;i<this.rollUpRows_;i+matting=function(e,t){this.formatting_=this.formatting_.concat(t);t=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,t)},g.prototype.clearFormatting=function(e){var t;this.formatting_.length&&(t=this.formatting_Up=function(e,t){varRowsUp_=function(){for(var e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<je+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayei=this.displayed_[this.row_];this.displayed_[this.row_Stream:m}),qe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}for(var s="",gth;seTypeictur0]===a,0,1ength).replace(/\0.(6,10));s+=10,64&e[5]&&(i=(i+=4)+_(e.subarray(10,14)),s-.frameParsers["W*"](o),"com.apple.streamingigger("data",t.subarray(i,srPmt.push([e,i,t]):this.processPes_(e,i,t)},this.procest&&(e={type:"metadata",tracks:[]},null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)),n=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new T,{PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:it,TransportParseStream:Xe,ElementaryStream:Ke,TimestampRolloverStream:Ve,CaptionStreat,rt,T=st,this.trigge,sampleCount:n,audioobjecttype:1+(d[o+2]>>>6&3),channelcount:(1&d[o+2]),samplingfrequencyindex:(60&d[o+2])>))}ger("data",n.subarray(r+3,s-2)),r=s-2,s+=3);break;default:s+=3}n=n.subarray(r),s-=r,r=0},this.reset=function(ase 13:u=[160,99]e 16:u=[2,1];break;case 255:u=[c.readUnsignedByte()<<8|c.readUnsignedByte(),c.readUnsy:p Ve{var i=0<=(i=e[t+6]h-t<10||e[t]!=="I".charCodeAt(0)|(e,t))},gt&255==(255&e[t])<3;return 6144&e[t.fromCharCodebreak;if(n+(s=ft.pa<i.length;s++){var n=i[s];"headOfPipeline"!==n&&t[n].on&&t[n].on("log",Ot.bind(e,n))}}function vt(e,t){var i;if(e.length===t.length){for(i=0;i<e.length;i++)if(e[i]!==t[i])return;return 1}}function bt(e,t,i,s,n,r){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(s-t),pts:e+(n-i)},}}vimingInfo",bt(Et.audioTll!==o?0===(s=l?a:o)?return e.text?this.pendipendingCaptions.lengtding.headOfPipeline.frn!var qt(e){switch(e){case 5:return"slic}var Vt=St,i=function(e){return e>>>0},Pe=function(e){return("00"+e.toString(16)).slice(-2)},Wt=i,Gt=Nt,zt=i,Xt=_e.getUint64,Kt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],i.dtd.logs=[]},this.resetCaptionStream=function()thi|i[]),i.codec+=L(t[11])):i.codec="avc1.4d400array(4,8place(/^0":null},parsePat:function(e){var t=jt(e),i=4+Ht<<8|e[s+11]);e))>=e.byteLength?null:(i=nubsp_idr"===qt(31&i[n+3])&&(r=!0)N.a1888,c=e.dts/M,"!=typeof t||isNaN(t)?void 0:t*c.ONE_SECOND_IN_TS,t=gi(e,t);let i=null;t&&ptsTime),this.self.postMessagependStart)opsToAlignWit({cnt.,r=AliostT,bsh"})},ohypeof ecurrent.ODECS)}}return null}(e,i.AUDIO)||[])).audio&&(e,but},vt.ae,t)=>{var i=t.response,e=Sh(e,t);if(e)return a(e,n);if(16!==i.byteLength)return a({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:_h.FAILURE,xhr:t},n);var e=new DataView(i),s=new Uint32Array([e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12)]);for(let e=0;e<r.length;e++)r[e].byt{action:"probeMp4Tracks",data:i.map.bytes,transmuxer:i.transmuxer,callback:({tracks:e,data:t})=>(i.map.bytes=t,e.forEach(function(e){i.map.tracks=i.map.tracks||{},i.map.tracks[e.type]||"number"==typeof(i.map.tracks[e.type]=e).id&&e.timescale&&(i.map.timescales=i.map.timescales||{},i.map.timescales[e.id]=e.timescale)}),s(null))})},kh=({segment:i,bytes:t,trackInfoFn:s,timingInfoFn:e,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})=>{var p=i.map&&i.map.tracks||{};const m=Boolean(p.audio&&p.video);let g=e.bind(null,i,"audio","start");const f=e.bind(null,i,"audio","end");let y=e.bind(null,i,"video","start");const _=e.bind(null,i,"video","end");ph({action:"probeTs",transmuxer:i.transmuxer,data:t,baseSte=e.result;eo:e.hasVideo,isMuxed:m}),s=null,e.hasAudio&&!m&&g(e.audioStart),e.hasVideo&&y(e.videoStart),g=null,y=null),hh({bytes:t,transmuxer:i.e=>{e.type="combined"===e.type?"video":e.type,h(i,e)},onTracs&&(m&i,e))},onAue=>{g&&"undefined"!=typeof e.startrt),g=null),f&&"undefined=typeof e.start&&(y(e.start),y=null),_&&"undefined"!=typeof e.end&&_(e.end)},onVideoSegmentTimingInfo:e=>{n(e)},onAudioSegmentTimingInfo:e=>{r(e)},onId3:(e,t)=>{a(i,e,t)},onCaptions:e=>{o(i,[e])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:c,onDone:e=>{u&&(e.type="combined"===e.type?"video":e.type,u(null,i,e))}})}})},Ch=({segment:i,bytes:s,trackInfoFn:e,timingInfoFn:n,videoSegmentTimingInfoFn:t,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})=>{let p=new UiVideo:!!g.video,hasAudio:!!g.audio},y=(g.audio&&g.audio.codec&&"enca"!==g.audio.codec&&(f.audioCodec=g.auo&&n(i,"video","start",t),g.video&&e.byteLength&&i.transmuxer?ph({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:p,timescales:i.map.timescales,trackIds:[g.video.id],callback:e=>{s=e.data.buffer,i.bytes=p=e.data,e.logs.forEach(function(e){c(O(e,{stream:"mp4CaptionParser"}))}),y(e.captions)}}):y()}})}else{var m;i.transmuxer?("undefined"==typeof i.containe.d:u,!w.stats.firstBytesRece.forEach(e=>{var t,i;e.addEventListener("loadend",({loadendState:t,abortFn:i}=[{loadendState:k,abortFn:n}][0],e=>{e.target.aborted&&i&&!t.calledAbortFn&&(i(),t.calledAbortFn=!0)}))}),()=>vh(y)},Ph=Fl("CodecUtils"),Lh=(e,t)=>{t=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&t.AUDIO&&e.mediaGroups.AUDIO[t.AUDIO]},Oh=function(e){const s={};return e.forEach(({mediaType:e,type:t,details:i})=>{s[e]=s[e]||[]ng 0]}),s},Dh=Fl("PlaylistSelector"),Nh=function(e){var t;if(e&&e.playlist)return t=e.playlist,JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attridioOnly(o)&&(e=u.getAudioTrackPlaylists_(),c.audioOnly=!0),e.map(e=>{var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attrN&&e.attrs&&e.attributes.BANDWIDTH;return{bandwidth:s||window.Number.MAX_VALUE,width:t,height:i,playlist:e}})),r=(Mh(n,(e,t)=>e.bandwidth-t.bandwidth),(n=n.filter(e=>!gd.isIncompatible(e.playlist))).filter(e=>gd.isEnabled(e.playlist)));o=(r=r.length?r:n.filter(e=>!gd.isDisabled(e.playlist))).filter(e=>e.bandwidth*D.Blet a=o[o.length-1];var p=o.filter(e=>e.ba!1===h){const g=p||r[0]||n[0];if(g&&g.playlist){let e=p?"bandwidthBestRep":"sortedPlaylistabledPlay).concat(e," with options"),c),g.playlist}}else{var m,h=o.filter(e=>e.width&&e.height),o=(Mh(h,(e,t)=>e=o[o.le.width>l||e.height>d)).filter(e=>e.width===t[0].width&&e.height===t[0].height),a=m[m.length-1],i=m.filter(e=>e.bandwidth===a.bandwidth)[0]);let s;u.leastPixelDiffSelector&&(m=h.map(e=>(e.pixelDiff=Math.abs(e.width-l)+Math.abs(e.height-d),e)),Mh(m,(e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff),s=m[0]);const g=s||i||o||p||r[0]||eturn Rh(this.playlists.main,this.systemBandwidth,parseInt(fh(this.tech_.el(),"width"),10)*e,parseInt(fh(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)}function Bh(e,t,i){let s;var n;if(i&&i.cues)for(s=i.cues.lenrn T.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return T.,t.value.data}},privateDat"cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),o.a){var n=o.cues,r=[];for(let e=0;e<n.length;e++)n[e]&&r.push(n[e]);const l=r.reduce((e,t)=>{var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),d=Object.keys(l).sort((e,t)=>Number(e)-Number(t));d.forEach((e,t)=>{e=l[e];const i=Number(d[t+1])||s;e.forEach(e=>{e.endTime=i})})}}},jh=e=>"number"==typeof e&&isFinite(e),Hh=e=>{var{startOfSegment:t,duration:i,segment:s,part:n,playlist:{mediaSequence:r,id:a,segments:o=[]},mediaIndex:l,partIndex:d,timeline:h}=e,o=o.length-1;let u="mediaIndex/partIndex increment";e.getMediaInfoForTime?u="getMediaInfoForTime (".concat(e.getMediaInfoForTime,")"):e.isSyncRequest&&(u="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(u+=" with independent ".concat(e.independent));var c="number"==typeof d,e=e.segment.uri?"segment":"pre-segment",p=c?td({preloadSegment:s})-1:0;return"".concat(e," [").concat(r+l,"/").concat(r+o,"]")+(cat".cTimingInfo"),Vh=({timelineChangeController:e,currentTimeline:t,segmentTimeline:i,loaderType:s,audioDisabled:n})=>{return!(t===i||("audio"===s?(t=e.lastTimelineChange({type:"main"}))&&t.to===i:"main"!==s||!n||(t=e.pendingTimelineChange({type:"audio"}))&&t.to===i))},Wh=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+Xl,Gh=(e,t)=>{var i,s,n;return"hls"===t&&(t=(e=>{let s=0;return["video","audio"].forEach(function(t){t=e["".concat(t,"TimingInfo")];if(t){var{start:t,end:i}=t;let e;"bigint"==typeof t||"bigint"==typeof i?e=window.BigInt(i)-window.BigInt(t):"number"==typeof t&&"number"==typeof i&&(e=i-t),"undefined"!=typeof e&&e>s&&(s=e)}}),s="bigint"==typeof s&&s<Number.MAX_SAFE_INTEGER?Number(s):s})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo}))&&(i=e.playlist.targetDuration,s=Wh({segmentDuration:t,maxDuration:2*i}),n=Wh({segmentDuration:t,maxDuration:i}),t="Segment with index ".concat(e.mediaIndex," ")+"from playlist ".concat(e.playlist.id," ")+"has a duration of ".concat(t," ")+"when the reported duration is ".concat(e.duration," ")+"and the target duration is ".concat(i,". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1",s||n)?{severity:s?"warn":"info",message:t}:null};class zh extends T.EventTarget{constructor(e,t=0){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=11<=T.browser.IE_VERSION,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},r_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Fl("SegmentLoader[".concat(this.loaderType_,"]")),Object.defineProperty(this,"state",{g("".concat(this.state_," -> ").concat(e)),this.state_=e,this.trigger("statechangl).resolvedUri};return s&&(t.bytes=s.bytes),t}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(t,i={}){if(t){var s,n=this.playlist_,r=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=i,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},"main"===this.loaderType_)&&this.syncController_.setDateTimeMappingForStart(t);let e=null;if(n&&(n.id?e=n.id:n.uri&&(e=n.uri)),this.logger_("playlist update [".concat(e," => ").concat(t.id||t.uri,"]")),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();n&&n.uri===t.uri?(i=t.mediaSequence-n.mediaSequence,this.logger_("live window shift [".concat(i,"]")),null!==this.mediaIndex&&(this.mediaIndex-=i,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(s=this.playlist_.segments[this.mediaIndex],!this.partIndex||s.parts&&s.parts.length&&s.parts[this.partIndex]||(s=this.mediaIndex,this.logger_("currently processing part (index ".concat(this.partIndex,") no longer exists.")),this.resetLoader(),this.mediaIndex=s))),r&&(r.mediaIndex-=i,r.mediaIndex<0?(r.mediaIndex=null,r.part}paused(){return null===this.checkBufferTimeout_}resethis.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,i=this.partIndex){var s;return!(!t||!this.mediaSource_)&&(s="number"==typeof e&&t.segments[e],e=e+1===t.segments.length,i=!s||!s.parts||i+1===s.parts.length,t.endList)&&"open"===this.mediaSource_.readyState&&e&&i}chooseNextRequest_(){var e=this.buffered_(),t=Vl(e)||0,e=Wl(e,this.currentTime_()),i=!this.hasPlayed_()&&1<=e,s=e>=this.goalBufferLength_(),n=this.playlist_.segments;i r,i={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)},t=(i.isSyncRequest?i.mediaIndex=function(t,i,s){i=i||[];var n=[];let r=0;for(let e=0;e<i.length;e++){var a=i[e];if(t===a.timeline&&(n.push(e),(r+=a.duration)>s))return e}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,n,t):null!==this.mediaIndex?(s=n[this.mediaIndex],r="number"==typeof this.partIndex?this.partIndex:-1,i.startOfSegment=s.end||t,s.parts&&s.parts[r+1]?(i.mediaIndex=this.mediaIndex,i.partIndex=r+1):i.mediaIndex=this.mediaIndex+1):({segmentIndex:s,startTime:r,partIndex:o}=gd.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),i.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd ".concat(t):"currentTime ".concat(this.currentTime_()),i.mediaIndex=s,i.startOfSegment=r,i.partIndex=o),n[i.mediaIndex]);let a=t&&"number"==typeof i.partIndex&&t.parts&&t.parts[i.partIndex];if(!t||"number"==typeof i.partIndex&&!a)return null;"number"!=typeof i.partIndex&&t.parts&&(i.partIndex=0,a=t.parts[0]),e||!a||a.independent||(0===i.partIndex?(r=(s=n[i.mediaIndex-1]).parts&&s.parts.length&&s.parts[s.parts.length-1])&mentDurateturn!0}(this.currentMediaInfo_,t=t||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId))||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())}handleTimingInfo_(e,t,i,s){var n;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||((e=this.pendingSegment_)[n=qh(t)]=e[n]||{},e[n][i]=s,this.logger_("timinginfo: ".concat(t," - ").concat(i," - ").concat(s)),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats)eUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),p={};t.forEach(e=>{p[e.stream]=p[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=p[e.stream];t.startTime=Math.min(t.startTime,e.startTime+c),t.endTime=Math.max(t.endTime,e.endTime+c),t.captions.push(e)}),Object.keys(p).forEach(e=>{var{startTime:t,endTime:i,captions:s}=p[e],n=this.inbandTextTracks_,r=(this.logger_("adding cues from ".concat(t," -> ").concat(i," for ").concat(e)),n),a=this.vhs_.tech_,o=e;if(!r[o]){a.trigger({type:"usage",name:"vhs-608"});let s=o;/^cc708_/.test(o)&&(s="SERVICE"+o.split("_")[1]);var l=a.textTracks().getTrackById(s);if(l)r[o]=l;else{let e=o,t=o,i=!1;l=(a.options_.vhs&&a.options_.vhs.captionSextTrack({kind:"captions",id:s,default:i,label:e,language:t},!1).track}}Bh(t,i,n[e]);var{inbandTextTracks:d,captionArray:l,timestampOffset:h}={captionArray:s,inbandTextTraracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:s,videoDuration:State_({type:e,initSegment:t,map:i,playlist:s}){if(i){var n=Nd(i);if(this.activeInitSegmentId_===n)return null;t=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=n}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i},s){var n=this.sourceUpdater_.audioBuffered(),r=this.sourceUpdater_.videoBuffered(),a=(1<n.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+$l(n).join(", ")),1<r.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+$l(r).join(", ")),n.length?n.start(0):0),o=n.length?n.end(n.length-1):0,l=r.length?r.start(0):0,d=r.length?r.end(r.length-1):0;o-a<=1&&d-l<=1?(this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+"Appended byte length: ".concat(i.byteLength,", ")+"audio buffer: ".concat($l(n).join(", "),", ")+"video buffer: ".concat($l(r).join(", "),", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error")):(this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceB0 to ".concat(o)),this.remove(0,o,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in ".concat(1,"s")),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=window.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},1e3)},!0))}handleAppendError_({segmentInfo:e,typ=[s];let e=s.byteLength;i&&(r.unshift(i),e+=i.byteLength),n=(e=>{let t=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(e=>{i.set(e,t),t+=e.byteLength})),i})({bytes:e,segments:r})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:n},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:n}))}handleSegmentTimingInfo_(e,t,i){this.pendingSegment_&&t===this.pendingSegment_.requestId&&((t=this.pendingSegment_.segment)[e=""..transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push(()=>{var e=gi({},t,{forceTimestampOffset:!0});gi(t,this.generateSegmentInfo_(e)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(t)})}updateTransmuxerAndRequestSegment_(s){this.shouldUpdateTransmuxerTimestampOffset_(s.timestampOffset)&&(this.gopBuffer_.length=0,s.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:s.timestampOffset}));var e=this.createSimplifiedSegmentObj_(s),t=this.isEndOfStream_(s.mediaIndex,s.playlist,s.partIndex),i=null!==this.mediaIndex,n=s.timeline!==this.currentTimeline_&&0<s.timeline,t=t||i&&n;this.logger_("Requesting ".concat(Hh(s))),e.map&&!e.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),s.abortRequests=Ah({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,abortFn:this.handleAbort_.bind(this,s),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",s.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",s.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:t,endedTimelineFn:(smuxedDecodeEnd)),t.key&&(s=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),i.key=this.segmentKey(t.key),i.key.iv=s),t.map&&(i.map=this.initSegmentForMap(t.map)),i}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.byteseof t.transmuxedDecodeStart?t.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),t="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)}handleAppendsDone_(){var e,t,i;this.pendingSegment_&&this.trigger("appendsdone"),this.pendingSegment_?(e=this.pendingSegment_,this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_}),(t=Gh(e,this.sourceType_))&&("warn"===t.severity?T.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)?this.logger_("Throwing away un-appended sync request ".concat(Hh(e))):(this.logger_("Appended ".concat(Hh(e))),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t=e.segment,i=e.part,t=t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration,i=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration,t||i?(this.logger_("bad ".concat(t?"segment":"part"," ").concat(Hh(e))),this.resetEverything()):(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()))):(this.state="READY",this.paused()||this.monitorBuffer_())}recordThroughput_(e){var t,i;e.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of ".concat(e.duration)+" is less than the min to record ".concat(1/60)):(t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,e=Math.floor(e.byteLength/i*8*1e3),this.throughput.rate+=(e-t)/++this.throughput.count)}addSegmentMetadataCue_(e){var t,i,s,n;this.segmentMetadataTrack_&&(t=(n=e.segment).start,i=n.end,jh(t))&&jh(i)&&(Bh(t,i,this.segmentMetadataTrack_),s=window.WebKitDataCue||window.VTTCue,n={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeStriaylist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.ticlosed"!==s.mediaSource.readyState&&!Qh(i,s)){if(t.type!==i){if(null===(e=((t,i)=>{for(let e=0;e<i.length;e++){var s=i[e];if("mediaSource"===s.type)return null;if(s.type===t)return e}return null})(i,s.queue)))return;t=s.queue[e]}squeuePending[i]=null,$h(i,s))}}},Jh=(e,t)=>{var i=t["".concat(e,"Buffer")],s=Kh(e);i&&(i.removeEventListener("updateend",t["on".concat(s,"UpdateEnd_")]),i.removeEventListener("error",t["on".concat(s,"Error_")]),t.codecs[e]=null,t["".concat(e,"Buffer")]=null)},Zh=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),eu={appendBuffer:(s,n,r)=>(t,i)=>{var e=i["".concat(t,"Buffer")];if(Zh(i.mediaSource,e)){i.logger_("Appending segment ".concat(n.mediaIndex,"'s ").concat(s.length," bytes to ").concat(t,"Buffer"));try{e.appendBuffer(s)}catch(e){i.logger_("Error with code ".concat(e.code," ")+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment ".concat(n.mediaIndex," to ").concat(t,"Buffer")),i.queuePending[t]=null,r(e)}}},remove:(s,n)=>(t,i)=>{var e=i["".concat(t,"Buffer")];if(Zh(i.mediaSource,e)){i.logger_("Removing ".concat(s," to "m ").concat(t,"Buffer"));try{e.remove(s,n)}catch(e){i.logger_("Remove ".concat(s," to ").concat(n," from ").concat(t,"Buffer failed"))}}},timestampOffset:s=>(e,t)=>{var i=t["".concat(e,"Buffer")];Zh(t.mediaSource,i)&&(t.logger_("Setting ".concat(e,"timestampOffset to ").concat(s)),i.timestampOffset=s)},callback:i=>(e,t)=>{i()},endOfStream:t=>e=>{if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream(".concat(t||"",")"));try{e.mediaSource.endOfStream(t)}catch(e){T.log.warn("Failed to call media source endOfStream",e)}}},duration:t=>e=>{e.logger_("Setting mediaSource duration to ".concat(t));try{e.mediaSource.duration=t}catch(e){T.log.warn("Failed to set media source duration",e)}},abort:()=>(t,e)=>{if("open"===e.mediaSource.readyState){var i=e["".concat(t,"Buffer")];if(Zh(e.mediaSource,i)){e.logger_("calling abort on ".concat(t,"Buffer"));try{i.abort()}catch(e){T.log.warn("Failed to abort on ".concat(t,"Buffer"),e)}}}},addSourceBuffer:(s,n)=>e=>{var t=Kh(s),i=Fr(n),i=(e.logger_("Adding ".concat(s,"Buffer with codec ").concat(n," to mediaSource")),e.mediaSource.addSourceBuffer(i));i.addEventListener("updateend",e["on".concat(t,"UpdateEnd_")]),i.addEventListener("error",e["on".concat(t,"Error_")]),e.codecs[s]=n,e["".concat(s,"Buffer")]=i},removeSourceBuffer:i=>e=>{var t=e["".concat(i,"Buffer")];if(Jh(i,e),Zh(e.mediaSource,t)){e.logger_("Removing ".concat(i,"Buffer with codec ").concat(e.codecs[i]," from mediaSource"));try{e.mediaSoure:n=>(e,t)=>{var i=t["".concat(e,"Buffer")],s=Fr(n);Zh(t.mediaSource,i)&&t.codecs[e]!==n&&(t.logger_("changing ".concat(e,"Buffer codec from ").concat(t.codecs[e]ed_=!1,this.codecs={},this.onVideoUpdateEnd_=iu("video",this),this.onAudioUpdateEnd_=iu("audio",this),this.onddSourceBuffer(eSourceBuffer(){return!T.browser.IE_VERSION&&!T.browseype is not supported!")}addOrChangeSourceBuffers(i){if(!i||"object"!=typeof i||0===Object.keys(i).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(i).forEach(e=>{var t=i[e];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(e,t);this.canChangeType()&&this.changeType(e,t)})}appendBuffer(e,t){var{segmentInfo:i,type:s,bytes:n}=e;this.processedAppend_=!0,"audio"===s&&this.videoBuffer&&!this.videoAppendQueued_?(this.delayedAudioAppendQueue_.push([e,t]),this.logger_("delayed audio append of ".concat(n.length," until video append"))):(e=t,tu({type:s,sourceUpdatmediaIndex:-1},e),doneFn:t,name:"appendBuffer"}),"video"===s&&(this.videoAppendQueued_=!0,this.denull!==t&&(o.push([e,t]),e=null,t=null);return jl(o);return}}setDuration(e,t=Xh){tu({type:"mediaSource",sourceUpdater:this,action:eu.duration(e),name:"duration",doneFred().end(0)?tu({type:"audio",sourceUpdater:this,action:eu.remove(e,t),doneFn:i,name:"remove"}):i()}removeVideo(e,t,i=Xh){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?tu({type:"video",sourceUpdater:this,action:eu.remove(e,t),doneFn:i:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return"undefitampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&tu({type:"audio",his,action:eu.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&tu({type:"video",sourceUpdater:this,action:eu.callback(e),name:"callback"})}dispose(){this.trigger("dispose"removeSourceBuffer(e):this["".concat(e,)=Listener("sourceoperse received VTT cues, but ther}remove(e,t){Bh(e,t,this.subtitles(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,i){if(this.subtitlesTrack_)if(this.saveTransferStats_(t.stats),this.pendingSegment_)if(e)e.code===_h.TIMEOUT&&this.handleTimeout_(),e.code===_h.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);else{var s=this.pending,this.state="APPENDING",this.trigger("appending"),s.segment);if(n.map&&(n.map.bytes=t.map.bytes),s.bytes=t.bytes,"function"!=typeof window.WebVTT&&"function"==typeof this.loadVttJs)this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,i),()=>this.stopForError({message:"Error loading vtt.js"}));else{n.requested=!0;try{this.parseVTTCues_(s)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.lengt,end:s.startOfSegment+s.duration},s.isSyncRequest)this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";else{s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,s.cues.forEach(e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new window.VTTCue(e.startTime,e.endTime,e.text):e)});var r=this.subtitlesTrack_,a=r.cues;if(a)for(let i=0;i<a.length;i++){var,t,i){var s=e.segment;if(ping;e.cues.forEach(e=>{e.stament,h=t.timelineToDaull,a=null;n=n||0;var o=Zl(ntinuityStarts&&s.discySequence+e+1,o=i.discontinuitieslue:0})).segmentIndex&&(t.time*=-1),Math.abs(t.time+Gl({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.segmentIndex,endIndex:0}))):null}runStrategies_(t,i,s,n){var r=[];for(let e=0;e<lu.length;e++){var a=lu[e],o=a.run(this,t,i,s,n);o&&(o.strategy=a.name,r.push({strategy:a.name,syncPoint:o}))}return r}selectSyncPoint_(t,i){let s=t[0].syncPoint,n=Math.abs(t[0].syncPoint[i.key]-i.value),r=t[0].strategy;for(let e=1;e<t.length;e++){var a=Math.abs(t[e].syncPoint[i.key]-i.value);a<n&&(n=a,s=t[e].syncPoint,r=t[e].strategy)}return this.logger_("syncPoint for [".concat(i.key,": ").concat(i.value,"] chosen with strategy")+" [".concat(r,"]: [time:").concat(s.time,",")+" segmentIndex:".concat(s.segmentIndex)+("number"==typeof s.partIndex?",partIndex:".concat(s.partIndex):"")+"]"),s}saveExpiredSegmentInfo(t,i){var s=i.mediaSequence-t.mediaSequence;if(86400<s)T.log.warn("Not saving expired segment info. Media sequence gap ".concat(s,"var i=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),s=e.segment,i=(i&&(this.saveDiscontinuitySdiaIndex,time:s.start})),s.dateTimeObject);s.discontinuity&&t&&i&&(this.timelineToDatetimeMappings[s.timeline]=-i.getTime()/1e3)}timestampOffsetForTimeline(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,i){var s=e.segment,n=e.part;let r=this.timelines[e.timeline],a,o;if("number"==typeof e.timestampOffset)r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[s.discontinuities[r]||this.discontinuities[r]e({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:t,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}var uu=Zd(eh(th(function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){return!!this.listeners[e]&&(t=this.listeners[e].indexOf(t),this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t)},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.le)),t=new Uint8Array(e.byteLength),d=new Int32Array(t.buffer);let h,u,c,p,m;for(h=i[0],u=i[1],c=i[2],p=i[3],m=0;m<o.length;m+=4)s=f(o[m]),n=f(o[m+1]),r=f(o[m+2]),a=f(o[m+3]),l.decrypt(s,n,r,a,d,m),d[m]=f(d[m]^h),d[m+1]=f(d[m+1]^u),d[m+2]=f(d[m+2]^c),d[m+3]=f(d[m+3]^p),h=s,u=n,c=r,p=a;return t}(t,i,s);n.set(e,t.byteOffset)}}}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"un00000000"),t("on(e){const i.bynew Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new d(e,t,s,function(e,t){self.postMessage(n({source:i.source,decrypted:t}),[t.buffer])})}})));const cu=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},pu=(e,t)=>{(t.activePlaylistLoader=e).load()},mu={AUDIO:(a,o)=>()=>{var{segmentLoaders:{[a]:e},mediaTypes:{[a]:t},excludePlaylist:i}=o,e=(cu(e,t),t.activeTrack()),s=t.activeGroup(),s=(s.filter(e=>e.default)[0]||s[0]).id,n=t.tracks[s];if(e===n)i({error:{message:"Problem encountered loading the default audio track."}});else{T.log.warn("Problem encountered loading the alternate audio track.Switching back to def,t.onTrack:(e,t,i)=>{const{tech:s,requestOptions:n,segmentLoaders:{[e]:r},mediaTypes:{[e]:a}}=i;t.on("loadedmetadata",()=>{var e=t.media();r.playlist(e,n),r.track(a.activeTrack()),(!s.paused()||e.endList&&"none"!==s.preload())&&r.load()}),t.on("loadedplaylist",()=>{r.playlist(t.media(),n),s.paused()||r.load()}),t.on("error",mu[e](e,i))}},fu={AUDIO:(i,s)=>{var n,{vhs:r,sourceType:a,segmentLoaders:{[i]:e},requestOptions:o,main:{mediaGroups:l},mediaTypes:{[i]:{groups:d,tracks:h,logger_:u}},mainPlaylistLoader:c}=s,p=md(c.main);l[i]&&0!==Object.keys(l[i]).length||(l[i]={main:{default:{default:!0}}},p&&(l[i].main.default.playlists=c.main.playlists));for(const m in l[i]){d[m]||(d[m]=[]);for(const g in l[i][m]){let e=l[i][m][g],t;t=p?(u("AUDIO group '".concat(m,"' label '").concat(g,"' is&"dash"===a?new Qd(e.playlists[0],r,o,c):null,e=O({id:g,playlistLoader:t},e),gu[i](i,e.playlistLoader,s),d[m].push(e),"undefined"==typeof h[g]&&(n=new T.AudioTrack({id:g,kind:(e=>{let t=e.default?"main":"alternative";return t=e.characteristics&&0<=e.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":t})(e),enabled:!1,language:e.language,default:e.default,label:g}),h[g]=n)}}e.on("error",mu[i](i,s))},SUBTITLES:(i,s)=>{var n,{tech:mentLoaders:{[i]:e},requestOptions:l,main:{mediaGroups:d},mediaTypes:{[i]:{groups:h,tracks:u}},mainPlaylistLoader:c}=s;for(const p in d[i]){h[p]||(h[p]=[]);for(const m in d[i][p])if(!d[i][p][m].forced){let e=d[i][p][m],t;if("hls"===o)t=new Id(e.resolvedUri,a,l);else if("dash"===o){if(!e.playlists.filter(e=>e.excludeUntil!==1/0).length)return;t=new Qd(e.playlists[0],a,l,c)}else"vhs-json"===e:a.default&&dkind:"captturn!0;if(t[e].playlists&&yu(t[e].playlists,i))return!0}DIO:(i,s)=>()=>{var{[i]:{tracks:e}}=s["mediaTypes"];for(const t in e)if(e[t].enabled)return e[t];return null},SUBTITLES:(i,s)=>()=>{var{[i]:{tracks:e}}=s["mediaTypes"];for(ca();if(!s)return null;let n=null;s.attributes[o]&&(n=i[s.anGroupChanged=(d=e,h=r,()=>{var=i.activePlaylistLoader,a=i.lastGroup_;n&&a&&n.id===a.id||(i.lastGroup_=n,i.lastTrack_=s,cu(e,i),n&&!n.isMainPlaylist&&(n.playlistLoader?(e.resyncLoader(),pu(n.playlistLoader,i)):r&&t.resetEverything()))}),a[e].onGroupChanging=(i=e,s=r,()=>{var{segmentLoaders:{[i]:e},mediaTypes:{[i]:t}}=s;t.lastGroup_=null,e.abort(),e.pause()}),a[e].onTrackChanged=(u=e,c=r,()=>{var e,t,{mainPlaylistLoader:i,segmentLoaders:{[u]:s,main:n},mediaTypes:{[u]:r}}=c,a=r.activeTrack(),o=r.getActiveGroup(),l=r.activePlaylistLoader,d=r.lastTrack_;if((!d||!a||d.id!==a.id)&&(r.lastGroup_=o,r.lastTrack_=a,cu(s,r),o)){if(o.isMainPlaylist)return!a||!d||a.id===d.id||(t=(e=c.vhs.playlistController_).selectPlaylist(),e.media()===t)?void 0:(r.logger_("track change. Switching main audio from ".concat(d.id," toyChange_(t));if("AUDIO"===u){if(!o.playlistLoadetAudio(!0),void n.resetEverything();s.setAudio(!0),n.setAudio(!1)}l===o.playlistLoader||(s.track&&s.track(a),s.resetEverything()),pu(o.playlistLoader,r)}}),a[e].getActiveGroup=([t,n]=[e,r["mediaTypes"]],()=>{var e=n[t].activeTrack();return e?n[t].activeGroup(e):null})});v0]).id,a.UDIO.getActiveGroup().playlistLoader?(n.setAudio(!1),s):n).setAudio(!0)),e.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(e=>a[e].kChanged(),t.trigger({type:"usage",name:"vhs-audio-change"})};t.audioTracks().addEventListener("change",l),t.remoteTextTracks().addEventListener("change",a.SUBTITLES.onTrackChanged),i.on("dispose",()=>{t.audioTracks().removeEventListener("change",l),t.remoteTextTracks().removeEventListener("change",a.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(const d in a.AUDIO.tracks)t.audioTracks().addTrack(a.AUDIO.tracks[d])};let bu;const Tu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"];class Su extends T.EventTarget{constructor(e){super();const{src:t,withCredentials:i,tech:n,bandwidth:s,externVhs:r,useCueTags:a,playlistExclusionDuration:o,enableLowInitialPlaylist:l,sourceType:d,cacheEncryptionKeys:h,bufferBasedABR:u,leastPixelDiffSelector:c,captionServices:p}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let m=e["maxPlaylistRetries"];null!==m&&"undefined"!=typeof m||(m=1/0),bu=r,this.bufferBasedABR=Boolean(u),this.leastPixelDiffSelector=Boolean(c),this.withCredentials=i,this.tech_=n,this.vhs_=n.vhs,this.sourceType_=d,this.useCueTags_=a,this.playlistExclusionDuration=o,this.maxPlaylistRetries=m,this.enableLowInitialPlaylist=l,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:m,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Xh,activeTrack:Xh,getActiveGroup:Xh,onGroupChanged:Xh,onTrackChanged:Xh,lastTrack_:null,logger_:Fl("MediaGroups[".concat(e,"]"))}}),t})(),this.mediaSource=new window.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=jl(),this.hasPlayed_=!1,this.syncController_=new du(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new uu,this.sourceUpdater_=new su(this.mediaSource),this.inbandTextTracks_={},this.timelineChangvar g={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings},g=(this.mainPlaylistLoader_=new("dash"===this.sourceType_?Qd:Id)(t,this.vhs_,this.requestOptions_),this.set(O(g,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new ou(O(g,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((e,t)=>{function i(){n.off("vttjserror",s),e()}function s(){n.off("vttntLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.r_()),this.tech_.on("play",()=>this.startABRTimer_())),Tu.forEach(e=>{this[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(this,e)}),this.logger_=Fl("pc"),this.triggeredFmp4Usage=!1,"none"===this.tioAppendsToLoadedData__=-1,"none"===this.tech_.preload()?"play":"loadstart");this.tech_.one(g,()=>{const e=Date.now();this.tech_.one(is.audioAppendsToLoadedData__=this.audioSegmentLoadedData_(){ar a=[];for(const h in i)if(i[h][n.label]){var o=i[h][n.label];if(o.playlistsaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let t=this.mainPlaylistLoader_.media();if(!t){this.excludeUnsupportedVariants_();let e;if(!(e=(e=this.enableLowInitialPlaylist?itialMedia_=e,this.switchMedia_(this.initialMegments))return;t=this.initialMedia_}this.ht=1.5*e.targetDuration*1e3;cd(this.mainPlaylistLoiachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{var e=this.mainPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist S).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),bu.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),e.length&&1<Object.keys(i.AUDIO[e[0]]).length&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(t){var e=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),s=this.bufferLowWaterLine(),n=this.bufferHighWaterLine(),{currentPlaylist:i,buffered:e,currentTime:t,nextPlaylist:s,bufferLowWaterLine:n,bufferHighWaterLine:r,duration:a,bufferBasedABR:o,log:l}=[{buffered:this.tech_.buffered(),currentTime:i,currentPlaylist:e,nextPlaylist:t,bufferLowWaterLine:s,bufferHighWaterLine:n,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_}][0];if(s){var d="allowing switch ".concat(i&&i.id||"null"," -> ").concat(s.id);if(!i)return l("".concat(d," as current playlist is not set")),!0;if(s.id!==i.id){var h=Boolean(Hl(e,t).length);if(!i.endList)return h||"number"!=typeof i.partTargetDuration?(l("".concat(d," as current playlist is live")),!0):(l("not ".concat(d," as current playlist is live llhls, but currentTime isn't in buffered.")),!1);h=Wl(e,t),e=o?D.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:D.MAX_BUFFER_LOW_WATER_LINE;if(a<e)return l("".concat(d," as duration < max low water line (").concat(a," < ").concat(e,")")),!0;t=s.attributes.BANDWIDTH,a=i.attributes.BANDWIDTH;if(t<a&&(!o||h<r)){let e="".concat(d," as next bandwidth < current bandwidth (").concat(t," < ").concat(a,")");return o&&(e+=" and forwardBuffer < bufferHighWaterLine (".concat(h," < ").concat(r,")")),l(e),!0}if((!o||a<t)&&n<=h){let e="}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoadayis.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){var t,i;return!!this.seekable().length&&null!==(t=this.syncController_.getExpiredTime(e,this.duration()))&&(e=bu.Playlist.playlistEnd(e,t),t=this.tech_.currentTime(),(i=this.tech_.buffered()).length?(i=i.end(i.length-1))-t<=Kl&&e-i<=Kl:e-t<=Kl)}excludePlaylist({playlistToExclude:s=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:i}){if(s=s||this.mainPlaylistLoader_.media(),i=i||t.playlistExclusionDuration||this.playlistExclusionDuration,s){s.playlistErrors==n.length&&i!==1/0)return T.log.warn("Problem encountered with playlist ".concat(s.id,". ")+"Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(r);if(r){let i=!1;n.forEach(e=>{var t;e!==s&&"undefined"!=typeof(t=e.excludeUntil)&&t!==1/0&&(i=!0,delete e.excludeUntil)}),i&&(T.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let e;e=s.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*i,s.excludeUntil=e,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});var a,n=this.selectPlaylist();if(n)return i=t.internal?this.logger_:T.log.warn,a=t.message?" "+t.message:"",i("".concat(t.internal?"Internal problem":"Problem"," encountered with playlist ").concat(s.id,".")+"".concat(a," Switching to playlist ").concat(n.id,".")),n.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),n.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),i=n.targetDuration/2*1e3|(n,"exclude",r||a);this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error")}else this.error=t,"open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUp"pause"]),this.stopABRTimer_()}delegateLoaders_(i,e){const s=[];var t="all"===i,n=(!t&&"main"!==i||s.push(this.mainPlaylistLoadi()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}duration(){var e;return this.mainPlaylistLoader_&&(e=this.mainPlaylistLoader_.media())?e.endList?this.mediaSource?this.mediaSource.duration:bu.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let i;if(this.mainPlaylistLoader_){var s=this.mainPlaylistLoader_.media();if(s){var n=this.syncController_.getExpiredTime(s,this.duration());if(null!==n){var r=this.mainPlaylistLoader_.main,a=bu.Playlist.seekable(s,n,bu.Playlist.liveEdgeDelay(r,s));if(0!==a.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(s,this.duration())))return;if(0===(i=bu.Playlist.seekable(s,n,bu.Playlist.liveEdgeDelay(r,s))).length)return}let e,t;this.seekable_&&this.seekable_.length&&(e=this.seekable_.end(0),t=this.seekable_.start(0)),!i||i.start(0)>a.end(0)||a.steDuration_&&this.mediaSource.removeEventLirceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),e=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return t&&e}getCodecsOrExclude_(){const n={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();n.video=n.main;var e=gh(this.main(),t);const r={};var i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(n.main.hasVideo&&(r.video=e.video||n.main.videoCodec||"avc1.4d40odec||n.audio.audioCodec||jr,n.audio.isFmp4=(n.main.hasAudio&&!n.main.isMuxed?n.main.forEach(function(e){var t,i;r.hasOwnProperty(e)&&(t=n[e].isFmp4,i=r[e],!(t?xr:Ar)(i))&&(t=n[e].isFmp4?"browser":"muxer",a[t]=a[t]||[],a[t].push(r[e]),"audio"===e&&(s=t))}),i&&s&&t.attributes.AUDIO){const o=t.attributes.AUDIO;this.main().playlists.forEach(e=>{(e.attributes&&e.attributes.AUDIO)===o&&e!==t&&(e.excludeUntil=1/0)}),this.logger_("excluding audio group ".concat(o," as ").concat(s,' does not support codec(s): "').concat(r.audio,'"'))}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const l=[];if(["video","audio"].forEach(e=>{var t=(Br(this.sourceUpdater_.codecs[e]||"")[0]||{}).type,i=(Br(r[e]||"")[0]||{}).type;t&&i&&t.toLowerCase()!==i.toLowerCase()&&l.push('"'.concat(this.sourceUpdater_.codecs[e],'" -> "').concat(r[e],'"'))}),l.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:"Codec switching not supported: ".concat(l.join(", "),"."),internal:!0},playlistExclusionDuration:1/0})}return r}e=Object.keys(a).reduce((e,t)=>(e&&(e+=", lusionDuration:1/0})}tryToCreateSourceBuffers_(){var e;"open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||this.areMediaTypesKnown_()&&(e=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(e))}excludeUnsupportedVariants_(){const s=this.main().playlists,n=[];Object.keys(s).forEach(e=>{var t,i,e=s[e];-1===n.indexOf(e.id)&&(n.push(e.id),i=[],!(t=gh(this.main,e)).audio||Ar(t.audio)||xr(t.audio)||i.push("audio codec ".concat(t.audio)),!t.video||Ar(t.video)||xr(t.video)||i.push("video codec ".concat(t.video)),t.text&&"stpp.ttml.im1t"===t.text&&i.push("text codec ".concat(t.text)),i.length)&&(e.excludeUntil=1/0,this.logger_("excluding ".concat(e.id," for unsupported: ").concat(i.join(", "))))})}excludeIncompatibleVariants_(e){const n=[],r=this.main().playlists;e=Oh(Br(e));const a=mh(e),o=e.video&&Br(e.video)[0]||null,l=e.audio&&Br(e.audio)[0]||null;Object.keys(r).forEach(e=>{var t,i,s,e=r[e];-1===n.indexOf(e.id)&&e.excludeUntil!==1/0&&(n.push(e.id),t=[],s=gh(this.mainPlaylistLoader_.main,e),i=mh(s),s.audio||s.video)&&(i!==a&&t.push('codec count "'.concat(i,'" !== "').concat(a,'"')),this.sourceUpdater_.canChangeType()||(i=s.video&&Br(s.video)[0]||null,s=s.audio&&Br(s.audio)[0]||null,i&&o&&i.typerameRate=t.attributes["FRAME-RATE"]),this.codecs=gh(o.main(),t),this.playlist=t,this.id=i,this.enabled=(n=e.playlists,r=t.id,a=l,e=>{var t=n.main.playlists[r],i=ld(t),s=dd(t);return"undefined"==typeof e?s:(e?delete t.disabled:t.disabled=!0,e===s||i||(a(),e?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),e)})}}const Eu=["seeking","seeked","pause","playing","error"];class ku{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=nu"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),n=()=>this.resetTimeUpdate_(),r=this.playlistController_,a=["main","subtitle","audio"],o={},l=(a.forEach(e=>{o[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDon("playlistupdate",o[e].reseton(["seeked","seeking"],or["".concat(e,"SegmentLoader_")][t]("appended",this.seekingAppendCheck_)})});this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Eu,n),this.tech_.on("canplay",i),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(Eu,n),this.tech_.off("canplay",i),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.c}),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){var t=this.playlistController_["".concat(e,"SegmentLoahis["".concat(e,"Buffered_")]=t.buffered_()}checkSegmentDownloads_(e){var t=this.playlistController_,i=t["".concat(e,"SegmentLoader_")],s=i.buffered_(),n=function(t,i){if(t!==i){if(!t&&i||!i&&t)return!0;if(t.length!==i.length)return!0;for(let e=0;e<t.length;e++)if(t.start(e)!==i.start(e)||t.end(e)!==i.end(e))return!0}return!1}(this["".concat(e,"Buffered_")],s);this["".concat(e,"Buffered_")]=s,n?this.resetSegmentDownloads_(e):(this["".concat(e,"StalledDownloads_")]++,this.logger_("found #".concat(this["".concat(e,"StalledDownloads_")]," ").concat(e," appends that did not increase buffer (possible stalled download)"),{playlistId:i.playlist_&&i.playlist_.id,buffered:$l(s)}),this["".concat(e,"StalledDownlecordedTime===e&&(!t.length||e+Kl>=t.end(t.length-1))?this.techWaiting_():void(5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e))}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime();let i;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(s=e.end(e.length-1),i=s),this.beforeSeekableWindow_(e,t)&&(s=e.start(0),i=s+(s===e.end(0)?0:Kl)),"undefined"!=typeof i)this.logger_("Trying to seek outside of seekable at time ".concat(t," with ")+"seekable range ".concat(Ql(e),". Seeking to ")+"".concat(i,"."));else{var s=this.playlistController_.sourceUpdater_,e=this.tech_.buffered(),n=s.audioBuffer?s.audioBuffered():null,s=s.videoBuffer?s.videoBuffered():null,r=this.media(),a=r.partTargetDuration||2*(r.targetDuration-Xl),o=[n,s];for(let e=0;e<o.length;e++)if(o[e])if(Wl(o[e],t)<a)return!1;if(0===(r=ql(e,t)).length)return!1;i=r.start(0)+Kl,this.logger_("Buffered region starts (".concat(r.start(0),") ")+" just beyond seek point (".concat(t,"). Seeking to ").concat(i,"."))}return this.tech_.setCurrentTime(i),!0}waiting_(){var e,t;this.techWaiting_()||(e=this.tech_.currentTime(),t=this.tech_.buffered(),(t=Hl(t,e)).length&&e+3<=t.end(0)&&(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at ".concat(e," while inside a buffered region ")+"[".concat(t.start(0)," -> ").concat(t.end(0),"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})))}techWaiting_(){var e,t=this.seekable(),i=this.tech_.currentTime();return!!this.tech_.seeking()||(this.beforeSeekableWindow_(t,i)?(t=t.end(t.length-1),this.logger_("Fell out of live window at time ".concat(i,". Seeking to ")+"live point (seekable end) ".concat(t)),this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0):(t=this.tech_.vhs.playlistController_.sourceUpdater_,e=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:t.audioBuffered(),videoBuffered:t.videoBuffered(),currentTime:i})?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhsconcat(t.start(0))),this.resetTimeUpdate_(),this.skipTheGap_(i),!0)))}afterSeekableWindow_(e,t,i,s=!1){if(!e.length)return!1;let n=e.end(e.length-1)+Kl;var r=!i.endList;return t>(n=r&&s?e.end(e.length-1)+3*i.targetDuration:n)}beforeSeekableWindow_(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:t,audioBuffered:i,currentTime:s}){if(t){letech_.trigger({type:"usage",name:"v=[];type:"usage",name:"vhs-error-reload-initialized"})}),function(){s&&t.currentTime(s)});t.on("error",r),teak}t.selectedIndex_=s,t.trigger({selectedIndex:s,type:"is.systemBandwidth,s=this.systemBandwidth),0<this.systbutes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTIONributes.RESOLUTION.width:s)||window.Number.MAX_VALUE,i===s&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-s},xhr:Ad()},Au=(Object.keys(D).forEach(t=>{Object.defineProperty(N,t,{get(){return T.log.warn("using Vhs.".concat(t," is UNSAFE be sure you know what you are doing")),D[t]},set(e){T.log.w;reteoCe[o]&&(a[o].url=e[o]document.createElement)return!1;const t=document.createElement("video");return!!T.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","videe){return/maybech("Html5").isSupported())&&/maybe|probably/_.checkABR_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){var e;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((e=Ou())&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e)&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"})),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=D.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===D.INITIAL_BANDWIDTH,["withCredentials","useDeers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useaylistController_.sourceUpdater_.initializedEme()}).catch(e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){var e=this.playlistControle.media()});this.player_.tech_.on("keystatuschange",e=>{if("output-restricted"===e.status){e=this.playlistController_.main();if(e&&e.playlists){const t=[];e.playlists.forEach(e=>{e&&e.attributes&&e.attributes.RESOLUTION&&720<=e.attributes.RESOLUTION.height&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,t.push(e))}),t.length&&(T.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capab;t=this.qualityLevels_,(e=this).representaxu(t,e.playlists)}),this.playlists.on(tatic version(){return{"@videojs/http-streaming":"3.0WaitingForKey_),super.dispose()}convertToProgramTime(e,t){return jd(t})}seekToProgramTime(e,t,i=!0,s=2){return Hd({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfteojs-http-streamirce(e,t,i={}){i=O(T.options,i);return t.vhs=new Du(e,t,i),t.vhs.xhr=Ad(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){e=Pr(e);return e&&(t=Nu.getOverrideNative(t),!N.supportsTypeNatively(e)||t)?"maybe":""},getOverrideNative(e={}){var{vhs:e={}}=e,t=!(T.browser.IS_ANY_SAFARI||T.browsee:e=t}=e;return e}};return xr("avc1.4d400d,mp4a.40.2")&&T.getTech("Html5";/*!@name videojs-max-quality-srts&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).videojsMaxQualitySelector=e(t.videojs)}(this,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=e(t);const n=i.default.getComponent("MenuButton"),s=i.default.getComponent("MenuItem"),a=i.default.getComponent("Menu"),l=i.default.dom,o={parent:null};i.default.registerComponent("MaxQualityButton",class extends n{constructor(t,e){super(t,e),this.options=i.default.mergeOptions(o,e),this.parent=this.options.parent,this.items=[],this.addClass("vjs-max-quality-selector-button")}handleMenuItemClick(t){const e=parseInt(t.currentTarget.dataset.id,10);this.parent.changeLevel(e)}handleSubmenuKeyPress(t){if(void 0===t.currentTarget.dataset.id)return;const e=parseInt(t.currentTarget.dataset.id,10);this.parent.changeLevel(e)}createButton(t,e,i,n){const a=l.createEl("li",{className:e,innerHTML:i,tabIndex:-1},{"data-id":n}),o=new s(this.player_,{el:a});o.on("click",this.handleMenuItemClick.bind(this)),t.addItem(o)}createMenu(){const t=new a(this.player_,{menuButton:this}),e=[],i=[];if(this.items){this.parent.autoMode||this.parent.options.disableAuto||this.createButton(t,"vjs-menu-item",this.parent.options.autoLabel,-1);for(let n=0;n<this.items.length;n++){const s=this.items[n];if(this.parent.options.filterDuplicates&&e.includes(s.uniqueId))continue;if(e.push(s.uniqueId),this.parent.options.filterDuplicateHeights&&i.includes(s.height))continue;i.push(s.height);let a="vjs-menu-item";a+=s.isCurrent?" vjs-selected":"",this.createButton(t,a,this.parent.getQualityDisplayString(s),s.id)}if(!this.parent.options.showSingleItemMenu&&1===t.children_.length)return new a(this.player_,{menuButton:this})}return t}});const h=i.default.getPlugin("plugin"),u={index:-1,autoLabel:"Auto",defaultQuality:0,displayMode:0,minHeight:0,maxHeight:0,labels:[],disableAuto:!1,filterDuplicates:!0,filterDuplicateHeights:!0,showSingleItemMenu:!1,showBitrates:!1,sortEnabled:!0,sort:0};class r extends h{constructor(t,e){if(super(t),this.defaults=u,this.options=i.default.mergeOptions(u,e),this.log=i.default.log.createLogger("MaxQualitySelector"),this.autoMode=!0,this.qualityLevels=[],this.player.on("loadstart",this.handleMediaChange.bind(this)),void 0!==this.player.qualityLevels){this.qlInternal=this.player.qualindleQualityLevel.bind(this)),this.qlInternal.on("change",this.handleChange.bind(this));const e=this.options.index<0?t.controlBar.children().length+this.options.index:this.options.index;this.button=t.controlBar.addChild("Mar.ready((()=>{this.player.addClass("vjs-max-quality-selector")}))}update(){const t=this,e=[];this.qualityLevels.forEach((function(i,n){i.isCurrent=!1,t.qlInternal.levels_[i.id].enabled&&e.push(i.id)})),this.autoMode=e.length===this.qualityLevels.length;const i=this.qualityLevels.find((function(e){return e.id===t.selectedIndex}autoMode&&this.options.disableAuto&&(this.autoMode=!1,this.changeLevel(i.id)),i.isCurrent=!0,this.options.filterDuplicates&&this.qualityLevels.forEach((function(t,e){t.uniqueId===i.uniqueId&&(t.isCurrent=!0)})),this.options.filterDuplicateHeights&&this.qualityLevels.forEach((function(t,e){t.height===i.height&&(t.isCurrent=!0)})),this.button.HTML=this.getQualityDisplayString(i),this.button.show();let n=this.qualityLevels;n=this.options.sortEnabled?0===this.options.sort?this.qualityLevels.sort((function(t,e){return e.uniqueId-t.uniqueId})):this.qualityLevels.sort((function(t,e){return t.uniqueId-e.uniqueId})):this.qualityLevels.sort((function(t,e){return t.id-e.id})),this.button.items=n,this.button.update()}changeLevel(t){const e=this;if(t<0)returnrnal.levels_.forEach((function(t,i){0!==e.options.minHeight&&t.height<e.options.minHeight||0!==e.options.maxHeight&&t.height>e.options.maxHeight?t.enabled=!1:t.enabled=!0})),void this.update();const i=this.qualityLevels.find((e=>e.id===t));this.qlInternal.levels_.forEach((function(n,s){const a=e.qualityLevels.find((t=>t.id===s));void 0!==a&&(n.enabled=s===t||e.options.filterDuplicates&&a.uniqueId===i.uniqueId||e.options.filterDuplicateHeights&&a.height===i.height)})),this.autoMode&&this.update()}handleMediaChange(t){this.log.debug("Handling media change:",this.player.src(),this.playate(),0!==this.options.defaultQuality&&(this.firstRun=!0)}handleChange(t){if(this.log.debug("Handling qirstRun&&0!==this.options.defaultQuality){this.firstRun=!1;if(1===this.options.defaultQuality){const t=this.qualityLevels.reduce((function(t,e){return e.uniqueId<t.uniqueId?e:t}));this.selectedIndex=t.id,this.changeLevel(t.id),this.update()}else{const t=this.qualityLevels.reduce((function(t,e){return e.uniqueId>t.uniqueId?e:t}));this.selectedIndex=t.id,this.changeLevel(t.id),this.update()}}else this.selectedIndex=t.selectedIndex,this.update()}handleQualityLevel(t){const e=t.qualityLevel;if(void 0===e.width||void 0===e.height||void 0===e.bitrate)return;if(0!==this.options.minHeight&&e.height<this.options.minHeight||0!==this.options.maxHeight&&e.height>this.options.maxHeight)return void(e.enabled=!1);const i=e.width+e.height+e.bitrate,n={id:this.qlInternal.levels_.indexOf(e),uniqueId:i,width:e.width,height:e.height,dimension:e.widtimensionEnglishName(e.width,e.height),dimensionMarketingName:this.getDimensionMarketingName(e.width,e.height),bitrate:e.bitrate,bitrateName:this.getReadableBitrateString(e.bitrate),isCurrent:!1};this.qualityLevels.push(n)}getLevelNames(){const t=[];return this.qualityLevels.forEach((e=>{t.push(this.getQualityDisplayString(e))})),t}getLevelName(t,e){const i=this.options.labels;return void 0!==i[t]?i[t].toString():e}getDimensionEnglishName(t,e){switch(e){case 108:case 180:case 144:case 234:case 240:case 252:return"VLQ";case 360:return"LQ";case 480:case 486:case 540:return"SD";case 720:return"HD";case 1080:return"FHD";case 1440:return"QHD";case 2160:case 2304:return"UHD"}return"N/A"}getDimensionMarketingName(t,e){switch(e){case 2160:return"4k";case 2304:return"True 4k"}return e+"p"}getReadableBitrateString(t){let e=-1;do{t/=1024,e++}while(t>1024);return Math.max(t,.1).toFixed(1)+[" Kbps"," Mbps"," Gbps"][e]}getQualityDisplayString(t){if(!t)return"";let e="";return e=1===this.options.displayMode?t.dimensionMarketingName:2===this.options.displayMode?t.dimensionEnglishName:t.dimensionMarketingName+"<sup>"+t.dimensionEnglishName+"</sup>",this.autoMode&&t.isCurrent&&(e="".concat(this.options.autoLabel,"(").concat(e,")")),this.options.showBitrates&&(e+=" ("+t.bitrateName+")"),this.getLevelName(t.id,e)}}return r.defaultState={},r.VERSION="0.9.2",i.default.registerPlugin("maxQualitySelector",r),r}));!function(e,t){"ob define&&define.amd?define(["video.js"],t):(e=e||self).videojsVttThumbnails=t(e.videojs)}(this,function(r){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;function e(s){var i=this;this.ready(functiumbnails=new a(e,t)})}var n={},o={},t=r.registerPluginsBar.removeEventListener("lete this.registeredEvents.progressBarMouseEnter,delete this.registeredEvents.progressBarMouseLeave,delete this.registeredEvents.progressBarMouseMove,delete this.progressBar,delete this.vttData,delete this.thumbnailHolder,delete this.lastStyle},t.listenForDurat)},t.initializeTbjects,this.setupThumbnailElement()):this.getVttFile(t).then(function(e){s.vttData=s.processVtt(e),s.setupThumbnailElement()}))},t.getBaseUrl=function(){return[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.l).split(/([^\/]*)$/gi).shift()},t.getVttFile=function(i){var r=this;return new Promise(function(e,t){var s=new XMLHttpRequest;s.data={resolve:e},s.addEventListener("load",r.vttFileLoaded),s.open("GET",i),s.overrideMimeType("text/plain; charset=utf-8"),s.send()})},t.vttFileLoaded=function(){this.data.resolve(this.responseText)},t.setupThumbnailElement=function(){var e=this,t=null;this.options.showTimestamp||(t=this.player.$(".vjs-mouse-display"));var s=document.createElement("div");s.setAttribute("class","vjs-vtt-thumbnail-display"),this.progressBar=this.player.$(".vjs-progress-control"),this.progressBar.appendChild(s),this.thumbnailHolder=s,t&&!this.options.showTimestamp&&t.classList.add("vjs-hidden"),this.registeredEvents.progressBarMouseEne",this.registeredouseMoveCallMouseleave=functints.progressBarMouseMove),this.hideThumbnailHolder()},t.getXCoord=function(e,t){var s=e.getBoundingClientRect(),i=document.documentElement;return t-(s.left+(window.pageXOffset||i.scrollLeft||0))},t.onBarMousemove=function(e){this.updateThumbnailStyle(r.dom.getPointerPosition(this.progressBar,e).xunction(e){for(var t=0;t<this.vttData.length;++t){var s,i=this.vttData[t];if(e>=i.start&&e<i.end)return i.css.url&&!o[i.css.url]&&((s=new Image).src=i.css.url,o[i.css.url]=s),i.css}},t.showThumbnailHolder=function(){this.thumbnailHolder.style.opacity="1"},t.hideThumbnailHolder=function(){this.thumbnailHolder.style.opacity="0"},t.updateThumbnailStyle=function(e,t){var s=e*this.player.duration(),i=this.getStyleForTime(s);if(!i)return this.hideThumbnailHolder();var r=e*t,n=parseInt(i.width,10),o=n>>1,a=t-(r+o),l=r-o;if(0<l&&0<a?this.thumbnailHolder.style.transform="translateX("+(r-o)+"px)":l<=0?this.thumbnailHolder.style.transform="translateX(0px)":a<=0&&(this.thumbnailHolder.style.transform="translateX("+(t-n)+"px)"),!this.lastStyle||this.lastStyle!==i)for(var h in this.lastStyle=i)i.hasOwnProperty(h)&&(this.thumbnailHolder.style[h]=i[h])},t.processVtt=function(e){var a=this,l=[];return e.split(/[\r\n][\r\n]/i).forEach(function(e){var t,s,i,r,n,o;e.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)&&(i=(s=(t=e.split(/[\r\n]/i))[0].split(/ ?--> ?/i))[0],r=s[1],n=t[1]ullyQualifiedUrl=function(e,t){return 0<=e.indexOf("//")?e:0===t.indexOf("//")?[t.replace(/\/$/gi,""),this.trim(e,"/")].join("/"):0<t.indexOf("//")?[this.trim(t,"/"),this.trim(e,"/")].join("/"):e},t.getPropsFromDef=function(e){var t=e.split(/#xywh=/i),s=t[0],i=t[1].match(/[0-9]+/gi);return{x:i[0],y:i[1],w:i[2],h:i[3],image:s}},t.getVttCss=function(e){var t={},s=0<=this.options.src.indexOf("//")?this.options.src.split(/([^\/]*)$/gi).shift():this.gn t.background='url("'+i.ion(e){var t=e.split("."),s=t[0].split(":");return{milliseconds:parseInt(t[1],10)||0,seconds:parseInt(s.pop(),10)||0,minutes:parseInt(s.pop(),10)||0,hours:parseInt(s.pop(),10)||0}},t.getSecondsFromTimestamp=function(e){var t=this.deconstructTimestamp(e);return parseInt(3600*t.hours+60*t.minutes+t.seconds+t.milliseconds/1e3,10)},t.trim=function(e,t){var s=[" ","\n","\r","\t","\f","\v"," "," "," "," "," "," "," "," "," "," "," "," ","​","\u2028","\u2029","　"].join(""),i=0,r=0;for(e+="",t&&(s=(t+"").replace(/([-ads @version 6.6.5 @license Apache-2.0*/!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("videojs"),require("global/window"),require("global/docds";efgecofunctonype||"loadeddata"===e.type||"ion(e,t,n){if(e&&e[n])for(var a=e[n],o=Object.keys(a){mediainfo."+n+"."+o[r]+"}"]=a[o[r]]}};var f={proce,tkidAdCue:function(ack=function(t,n,a,o){t.ads.includedCues={};fd e.log.warn("Skileware to block content playback"),t.ads._playBlocked=!0,m.middleware.TERMINATOR},play:as-staonen):esumed"===e?this.onContentResumeyback");this.contentResuming&&this.tra{return e.apply(this,arguments)||this}k(t,e);pdate=!0)},t}(b);P.registerState("ContentState",T);var w,R=function(t)ntTyada(t){t.ads._hasThereBeenALoadStartDuringPlayerLife||e.log.wToContent=!0},n.onNoPreroll=function(){this.player.ads.debug("Skippinvjs-ad-loading")},n.endLinearAdMode=function(){var e=this.s.abort(t)},a.resumeContent=function(e){this.contentResuminevent (ContentPlayback)"),e.ads.nopreroll_||(e.ads.debug("Triggered reais}k(t,e),t._getName=function(){return"StitchedContentPlayback"};var n=t.prototthis.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",B.start(this.player)},n.onPlaying=function(){},n.onContentResumed=function(){},n.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},n.endLinear("change",d)}),r.onn(e){r.ads._state.handleEvent(e.type)}),r.on("dispose",function(){r.ads.reset(),r.textTracks().removeEventListener("change",d)})};return U.VERSION=a,function(t){!_(e)&&((e.registerPlugin||e.plugin)("ads",t),S()&&!e.usingContribAdsMiddleware_&&(e.use("*",A),e.usingContribAdsMiddleware_=!0,e.log.debug("Play middleware has been registered with videojs")))}(Uorts=r(require("videojs")):"function"==typeof define&&define.amd?define(["videojs"],r):(e=e||self).videojsPlaylist=r(e.videojs)}(this,function(t){"use sttrigger),r.timeout=null,r.trigger=null},c=function r(t,n){i(t),function(e){return"numbt.playlist.autoadvance_.delay=n,t.playlist.autoadvance_.trigger=function(){var e=function(){return r(t,n)};t.one("play",e),t.playlist.autoadvance_.timeout=t.setTimeout(function(){i(t),t.off("play",e),t.playlist.next()},1e3*n)},t.one("ended",t.playlist.autoadvance_.trigger)):t.playlist.autoadvance_.delay=null},f=function(e){return!!e&&"object"==typeof e},u=function(e,r){var t=e,n=r;return"object"==typeof e&&(t=e.src),"object"==typeof r&&(n=r.src),/^\/\//.test(t)&&(n=n.slice(n.indexOf("//"))),/^\/\//.test(n)&&(t=t.slice(t.indexOf("//"))),t===n},s=function(e,r){for(var t=0;t<e.length;t++){var n=e[t].sources;if(Array.isArray(n))for(var i=0;i<n.length;i+ylist=function(e,r){if(void 0===r&ll playlist() during a playlist change");if(Array.isArray(e)){var t=Array.isArray(u)?u.slice():null,n=e.slice();(u=n.slice()).filter(function(e){return f(e)}).length!==u.length&&(u=function(e){var r,t=[];return e.forEach(function(e){t.push(r)}),t}(u)),function(e){varemId_=r++})}(u),l=!0,a.trigger({type:"duringplaylistchange",nextIndex:r,nextPlaylist:n,previousIndex:o.currentIndex_,previousPlaylist:t||[]}),l=!1,-1!==r&&o.currentItem(r),t&&a.setTimeout(function(){a.trigger("playlistchange")},0)}return u.map(function(e){return e.originalValue||e}).slice()};return a.on("loadstart",function(){-1===o.currentItem()&&i(a)}),o.currentIndex_=-1,o.player_=a,o.autoadvance_={},o.repeat_=!1,o.currentPlaylistItemndex_!==e&&0<=e&&e<u.length)return o.currentIndex_=e,function(r,t){var n=!r.paused()||r.ended();r.trigger("beforeplaylistitem",t.originalValue||t),t.playlistItemId_&&(r.playlist.currentPlaylistItemId_=t.playlistItemId_),r.poster(t.poster||""),r.src(t.sources),function(e){for(var r=e.remoteTextTracks(),t=r&&r.length||0;t--;)e.removeRemoteTextTrack(r[t])}(r),r.reaylistitem",t.originalValue||t),n){var e=r.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}c(r,r.playlist.autoadvance_.delay)})}(o.player_,u[o.currentIndex_]),o.currentIndex_;var r=o.playerstItemId_)ndex_=t,o.currentIndex_;o.currentPlaylistItemId_=null}return ocurrentIndexr r=Array.isArrarn s(u,n},o.nexr)},o.previousIndex=function(){var e=o.currentItem();return-1===e?-1:o.repeat_&&0===e?o.lastIndex():Math.max(e-1,0)},o.first=function(){ifo.currentItem(eturn u[e].originalValue||u[e];o.currentIndex_=-1}},o.next=function(){if(!l){var e=o.nextIndex();if(e!==o.currentIndex_){var r=o.currentItem(e);return u[r].originalValu(e!==o.cur}},o.autoadvance=function(e){c(o.player_,e)},o.repeat=function(e){return void 0===e?o.repeat_:"boolean"==typeof e?(o.repeat_=!!e,o.repeat_):void t.log.error("videojs-playlist: Invalid value for repeat",e)},o.sort=function(e){u.length&&(u.sort(e),l||a.trigger("playlistsorted"))},o.reverse=function(){u.length&&(u.reverse(),l||a.trigger("playlistsorted"))},o.shuffle=function.rest,t=0,n=u;if(r&&(t=o.currentIndex_+1,n=u.slice(t)),!(n.length<=1)){var i;if(function(e){for(var r=-1,t=e.length-1;++r<e.length;){var n=r+Math.floor(Math.random()*(t-r+1)),i=e[n];e[n]=e[r],e[r]=i}}(n),r)(i=u).splice.apply(i,[t,n.length].concat(n));l||a.trigger("playlistsorted")}},Array.isArray(e)?o(e.slice(),r):u=[],o}var e=function(e,r){n(this,e,r)};return(t.registerPlugin||t.plugin)("playlist",e),e.VERSION="4.3.1",e});/*!@name videojs-playlist-ui @version 4.0.0 @license Apache-2.0*/!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).videojsPlaylistUi=e(t.videojs)}(this,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=e(t);const s=i.default.dom||i.default,a=i.default.registerPlugin||i.defaultSelect:!1,supportsCssPointerEvents:(()=>{const t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents})()},l=function(t){t.addClass("vjs-selected")},n=function(t){t.removeClass("vjs-selected"),t.thumbnail&&s.removeClass(t.thumbnail,"vjs-playlist-now-playing")},p=function(t){t.removeClass("vjs-up-next")},u=i.default.getow new Error("Cannot construct a PlaylistMenuItem withoue.item,this.playOnSelect=i.playOnSelect,this.emitTapEvents(),this.on(["click","tap"],this.switchPlaylistItem_),this.on("keydown",this.handleKeyDown_)}handleKeyDown_(t){13!==t.which&&32!==t.which||this.switchPlaylistItem_()}switchPlayrentItem(function(t,e){for(let i=0,s=t.length;i<s;i++)if(t[i]===e)return i;return-1}(this.player_.playlist(),this.item)),this.playOnSelect&&this.player_.play()}createEl(){const t=document.createElement("li"),e=this.options_.item,s=this.options_.showDescription;if("object"==typeof e.data){Object.keys(e.data).forEach((i=>{const s=e.data[i];t.dataset[i]=s}))}if(t.className="vjs-playlist-item",t.setAttribute("tabIndex",0),this.thumbnail=function(t){if(!t){const t=document.createElement("div");return t.className="vjs-playlist-thumbnail vjs-playlist-thumbnail-placeholder",t}const e=document.createElement("picture");if(e.className="vjs-playlist-thumbnail","string"==typeof t){const i=document.createElement("img");i.src=t,i.alt="",i.setAttribute("loading","lazy"),i.setAttribute("height","108"),i.setAttribute("width","192"),i.setAttribute("nopin","nopin"),e.appendChild(i)}else{for(let i=0;i<t.length-1;i++){const s=t[i],a=document.createElement("source");for(const t in s)a[t]=s[t];e.appendChild(a)}const i=t[t.length-1],s=document.createElement("img");s.alt="",s.setAttribute("loading","lazy"),s.setAttribute("height","108"),s.setAttribute("width","192"),s.setAttribute("nopin","nopin");for(const t in i)s[t]=i[t];e.appendChild(s)}return e}(e.thumbnail),t.appendChild(this.thumbnail),e.duration){const s=document.createElement("time"),a=i.default.formatTime(e.duration);s.className="vjs-playlist-duration",s.setAttribute("datetime","PT0H0M"+e.duration+"S"),s.appendChild(document.createTextNode(a)),t.appendChild(s)}const a=document.createElement("span"),o=this.localize("Now Playing");a.className="vjs-playlist-now-playing-text",a.appendChild(document.createTextNode(o)),a.setAttribute("title",o),this.thumbnail.appendChild(a);const l=document.createElement("div");l.className="vjs-playlist-title-container",this.thumbnail.appendChild(l);const n=document.createElement("span"),p=this.localize("Up Next");n.className="vjs-up-next-text",n.appendChild(document.createTextNode(p)),n.setAttribute("title",p),l.appendChild(n);const u=document.createElement("cite"),r=e.name||this.localize("Untitled Video");if(u.className="vjs-playlist-name",u.appendChild(document.createTextNode(r)),u.setAttribute("title",r),l.appendChild(u),s){const t=document.createElement("div"),i=e.description||"";t.className="vjs-playlist-description",t.appendChild(document.createTextNode(i)),t.setAttribute("title",i),l.appendChild(t)}return t}}class d extends u{constructor(t,e){if(!t.playlist)throw new Error("videojs-playlist is required for the playlist component");super(t,e),this.items=[],e.horizontal?this.addClass("vjs-playlist-horizontal"):this.addClass("vjs-playlist-vertical"),e.supportsCssPointerEvents&&this.addClass("vjs-csspointerevents"),this.createPlaylist_(),i.default.browser.TOlaylistchange","playlistsorted"],(t=>{this.update()})),this.on(t,"adstart",(()=>{this.addClass("vjs-ad-playing")})),this.on(t,"adend",(()=>{this.removeClass("vjs-ad-playing")})),this.on("dispose",(()=>{this.empty_(),t.playlistMenu=null})),this.on(t,"dispose",(()=>{this.dispose()}))}createEl(){return s.createEl("div",{className:this.options_.className})}empty_(){this.items&&this.items.length&&(this.items.forEach((t=>t.dispose())),this.items.length=0)}createPlaylist_(){const t=this.player_.playlist()||[];let e=this.el_.querySelector(".vjs-playlist-item-list"),i=this.el_.querySelector(".vjs-playlist-ad-overlay");e||(e=document.createElement("ol"),e.className="vjs-playlist-item-list",this.el_.appendChild(e)),this.empty_();for(let i=0;i<t.length;i++){const s=new r(this.player_,{item:t[i]},this.options_);this.items.push(s),e.appendChild(s.el_)}i||(i=document.createElement("li"),i.className="vjs-playlist-ad-overlay"),e.appendChild(i);const a=this.player_.playlist.currentItem();if(this.items.length&&a>=0){l(this.items[a]);const t=this.items[a].$(".vjs-playlist-thumbnail");t&&s.addClass(t,"vjs-playlist-now-playing")}}update(){const t=this.player_.playlist();if(this.items.length!==t.length)return void this.createPlaylist_();for(let e=0;e<this.items.length;e++)if(this.items[e].item!==t[e])return void this.createPlaylist_();const e=this.player_.playlist.currentItem();for(let t=0;t<this.items.length;t++){const i=this.items[t];t===e?(l(i),document.activeElement!==i.el()&&s.addClass(i.thumbnail,"vjs-playlist-now-playing"),p(i)):t===e+1?(n(i),i.addClass("vjs-up-next")):(n(i),p(i))}}}class c extends u{constructor(t,e){if(!t.playlist)throw new Error("videojs-playlist is required for the PlaylistAutoSkip component");super(t,e),this.displayAutoSkipTimeout=-1,this.skipVideoTimeout=-1,this.progressBarInterval=-1,this.skipVideoTimerTime=7e3,this.displayAutoSkipTime=15e3,this.debug=!1,this.autoskipContainer=i.default.dom.createEl("div",{className:"autoskipContainer",id:"autoskipContainer"}),this.autoskipStayButton=i.default.dom.createEl("div",{className:"autoskipStay",id:"autoskipStay",innerHTML:"Stay"}),this.autoskipNextButton=i.default.dom.createEl("div",{className:"autoskipNext",id:"autoskipNext",innerHTML:"Next"}),this.autoskipNextBG=i.default.dom.createEl("div",{className:"autoskipNextBG",id:"autoskipNextBG"}),this.styles=i.default.dom.createEl("style",{innerHTML:"@keyframes autoskipBGAnimation {\n      from {\n        transform: scaleX(0);\n      }\n      to {\n        transform: scaleX(1);\n      }\n    }\n    .autoskipBGcountdown {\n      animation: autoskipBGAnimation 7s linear forwards;\n    }\n    "}),this.autoskipContainer.style.position="absolute",this.autoskipContainer.style.right="5px",this.autoskipContainer.style.top="50%",this.autoskipNextBG.style.width="100%",this.autoskipNextBG.style.height="50%",this.autoskipNextBG.style["background-color"]="#5cb85c",this.autoskipNextBG.style.position="absolute",this.autoskipNextBG.style["transform-origin"]="left",this.autoskipNextBG.style.left="0",this.autoskipNextBG.style.top="0",this.autoskipNextBG.style["z-index"]="-1",this.autoskipNextBG.style["border-radius"]="5px",this.autoskipStayButton.style["line-height"]="32px",this.autoskipStayButton.style["font-size"]="20px",this.autoskipStayButton.style.opacity=".75",this.autoskipStayButton.style.outline="solid",this.autoskipStayButton.style["border-radius"]="5px",this.autoskipStayButton.style.cursor="pointer",this.autoskipStayButton.style["text-align"]="center",this.autoskipNextButton.style["line-height"]="32px",this.autoskipNextButton.style["font-size"]="20px",this.autoskipNextButton.style.opacity=".75",this.autoskipNextButton.style.outline="solid",this.autoskipNextButton.style["border-radius"]="5px",this.autoskipNextButton.style.cursor="pointer",this.autoskipNextButton.style["text-align"]="center",this.autoskipNextButtContainer.appendChild(this.autoskipNextButton),thitainer.appendChild(this.styles),this.debuglog=function(t){1==this.debug&&console.log("autoskip log: ",t)};var s=this;this.activate=function(){t.on("play",t.autoskip.autoskipPlayHandler),t.on("pause",t.autoskip.autoskipPauseHandler)},this.autoskipNextButton.addEventListener("click",(function(t){t.preventDefault(),s.debuglog("next clicked"),s.skipVideo()})),this.autoskipStayButton.addEventListener("click",(function(t){t.preventDefault(),s.debuglog("stay clicked"),s.hideAutoSkipContent(),s.player().off("play",s.autoskipPlayHandler),s.player().off("pause",s.autoskipPauseHandler)})),this.displayAutoSkipContent=function(){s.debuglog("displaying content"),s.animateProgressBar(),s.player().el().appendChild(s.autoskipContainer),s.startSkipVideoTimer()},this.hideAutoSkipContent=function(){s.debuglog("hiding content"),s.clearSkipVideoTimeout(),s.player().el().contains(s.autoskipContainer)&&s.player().el().removeChild(s.autoskipContainer),s.resetProgressBar()},this.clearDisplayAutoSkipTimeout=function(){-1!==s.displayAutoSkipTimeout&&(clearTimeout(s.displayAutoSkipTimeout),s.displayAutoSkipTimeout=-1)},this.startDisplayAutoSkipTimeout=function(){s.debuglog("starting display timer"),s.clearDisplayAutoSkipTimeout(),s.displayAutoSkipTimeout=setTimeout(s.displayAutoSkipContent,s.displayAutoSkipTime)},this.startSkipVideoTimer=function(){s.debuglog("starting soTimerTime)},this.skipVideo=function(){s.debuglog("skipping video"),s.hideAutoSkipContent(),s.player().playlist.next()},this.clearSkipVideoTimeout=function(){-1!==s.skipVideoTimeout&&(clearTimeout(s.skipVideoTimeout),s.skipVideoTimeout=-1)},this.autoskipPlayHandler=function(e){s.debuglog("play was called"),t.on("timeupdate",s.autoskipTimeupdateHandler)},this.autoskipTimeupdateHandler=function(t){s.player().off("timeupdate",s.autoskipTimeupdateHandler),s.debuglog("timeupdate was called, starting display timer"),s.startDisplayAutoSkipTimeout()},this.au(s.debuglog("paused whPlayHandler),s.player().off("pause",s.autoskipPauseHandler)),s.player().autoskip.clearDisplayAutoSkipTimeout(),s.player().autoskip.hideAutoSkipContent()},this.animateProgressBar=function(){s.resetProgressBar(),s.autoskipNextBG.classList.add("autoskipBGcountdown")},this.resetProgressBar=function(){s.autoskipNextBG.classList.remove("autoskipBGcountdown")}}}const h=t=>{for(let e=0;e<t.childNodes.length;e++)if(s.isEl(t.childNodes[e]))return!0;return!1},m=function(t){const e=this;if(!e.playlist)throw new Error("videojs-playlist plugin is required by the videojs-playlist-ui plugin");if(s.isEl(t)&&(i.default.log.warn('videojs-playlist-ui: Passing an element directly to playlistUi() is deprecated, use the "el" option instead!'),t={el:t}),t=i.default.mergeOptions(o,t),e.playlistMenu){const i=e.playlistMenu.el();if(i){const a=i.parentNode,o=i.nextSibling;e.playlistMenu.dispose(),s.emptyEl(i),o?a.insertBefore(i,o):a.appendChild(i),t.el=i}}s.isEl(t.el)||(t.el=(t=>{const e=document.querySelectorAll("."+t);let i;for(let t=0;t<e.length;t++)if(!h(e[t])){i=e[t];breaPlaylistAutoSkip",c),a("playlistUi",m),m.VERSION="4.0.0",m}));/*!@name videojs-vtt-links @version 0.0.3 @license UNLICENSED @copyright 2021 ezoic*/!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?modulefunction"==typeof define&&define.amd?define(["video.js"],e):(t=t||self).videojsVttLinks=ethis,function(t){"use strict";t=t&&Object.protot:t;var{TextTrack:e}=t,i=t.getPlugin("plugin");class s{constructor(){this._locked=0,this._queue=[],this._currentReleaser=void 0}isLocked(){return!!this._locked}runExclusive(t){var e=void 0;this._acquire().then(i=>{var[s,a]=i;return e=a,t()}).finally(()=>{e&&e()})}_acquire(){var t=this.isLocked(),e=new Promise((t,e)=>this._queue.push({resolve:t,reject:e}));return t||this._dispatch(),e}_release(){if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}}_dispatch(){var t=this._queue.shift();if(t){var e=!1;this._currentReleaser=(()=>{e||(e=!0,this._locked--,this._dispatch())}),t.resolve([this._locked++,this._currentReleaser])}}}class a extends i{constructor(t,e){super(t),this.options=e,this.trackMutex=new s,this.textTrackIdx=null,this.textTrack=null,this.hasLinks=!!this.options.src,this.hasMultipleLinks=this.hasLinks&&Array.isArray(this.options.src),this.languageNames=new Intl.DisplayNames(["en"],{type:"language"}),this.captionTrackIdx=null,this.captionTracks=null,this.hasCaptions=!!this.options.caption,this.hasMultipleCaptions=this.hasCaptions&&Array.isArray(this.options.caption),this.player.ready(()=>{this.player.addClass("vjs-vtt-links"),(this.hasMultipleLinks||this.hasMultipleCaptions)&&this.initializeAsPlaylist(),this.hasLinks&&!this.hasMultipleLinks&&(this.textTrack=this.addTextTrack(this.options.src)),this.hasCaptions&&!this.hasMultipleCaptions&&(this.captionTracks=this.addCaptionTracks(this.options.caption))})}initializeAsPlaylist(){this.player.playlist&&this.player.playlist.currentIndex?(this.player.on("texttrackchange",()=>{this.handleTextTrackChange()}),this.handleTextTrackChange()):console.warn("playlist not found - aborting texttrackchange listener setup")}handleTextTrackChange(){this.trackMutex.runExclusive(()=>{var t=this.player.playlist.currentIndex();this.hasMultipleLinks&&t!==this.textTrackIdx&&(this.textTrackIdx=t,this.removeTextTrack(),this.hasLinks&&(this.textTrack=this.addTextTrack(this.options.src[t]))),this.hasMultipleCaptions&&t!==this.captionTrackIdx&&(this.captionTrackIdx=t,this.removeCaptionTracks(),this.hasCaptions&&(this.captionTracks=this.addCaptionTracks(this.options.caption[t])))})}addTextTrack(t){var i=this,s=function(t){var s=this instanceof e?this:t.target.track,a=s.activeCues_||s.activeCues;i.handleCueChange(a)},a=this.player.addRemoteTextTrack({default:!0,kind:"metadata",mode:"hidden",src:t},!0);a.addEventListener("cuechange",s);var r=this.player.textTracks();if(r.tracks_)for(var n of r.tracks_)n.id===a.track.id&&n.on&&n.on("cuechange",s);return a}removeTextTrack(){if(this.textTrack)try{this.player.removeRemoteTextTrack(this.textTrack),this.textTrack=null,this.clearLinks()}catch(t){console.error(t)}}addCaptionTracks(t){if(!t)return[];var e="undefined"!=typeof ezVideo&&ezVideo.autoEnableCaptions,i=[],s=navigator&&navigator.language?navigator.language:"";for(var a in t){var r=a.split(" "),n=r[0],h="";try{h=this.languageNames.of(n),2==r.length&&(h+=" "+r[1])}catch(t){h=a}var o={default:!1,kind:"captions",srclang:"language_"+i.length,label:h,src:t[a]};e&&n===s&&(o.default=!0),i.push(this.player.addRemoteTextTrack(o,!0))}return i}removeCaptionTracks(){if(this.captionTracks){for(var t of this.captionTracks)this.player.removeRemoteTextTrack(t);this.captionTracks=null}}handleCueChange(t){var e=[];for(var i of t)try{var s=JSON.parse(i.text);e.push(s)}catch(t){console.error("could not parse cue text as json")}this.clearLinks(),this.renderLinks(e)}clearLinks(){if(this.options.el)for(;this.options.el.firstChild;)this.options.el.removeChild(this.options.el.firstChild)}renderLinks(t){if(this.options.el)for(var e of t){var i=this.buildLink(e);i&&this.options.el.appendChild(i)}}buildLink(t){var e=this.player,i=this.options&&this.options.onclick;switch(t.type){case"link":var s=document.createTextNode(t.text),a=document.createElement("a");a.setAttribute("href",t.href),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener"),t.text.trim()?a.appendChild(s):a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-6 17c1.513-6.587 7-7.778 7-7.778v-2.222l5 4.425-5 4.464v-2.223c0 .001-3.78-.114-7 3.334z"/></svg>',a.onclick=function(){e&&e.pause();var s=e&&e.currentTime()||0;i&&i(Math.round(s),t)};var r=document.createElement("div");return r.classList.add("vjs-vtt-links-link"),r.appendChild(a),r;default:return null}}}return a.defaultState={},a.VERSION="0.0.3",t.registerPlugin("vttLinks",a),a});/*!@name videojs-share @version 3.2.1 @license MIT*/!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).videojsShare=e(t.videojs)}(this,function(o){"use strict";const t="undefined"!=typeof window?window.location.href:"";var r={mobileVerification:!0,title:"Video",url:t,socials:["fbFeed","tw","reddit","gp","messenger","linkedin","vk","ok","mail","email","telegram","whatsapp","viber"],embds o.getComponent("Button"){constructor(t,e){super(t,e),this.addClass("vjs-menu-button"),this.addClass("vjs-share-control"),this.addClass("vjs-ileCliea"))t=(e.container.appendChild(o),r()(o));return a("copy"),o.remove(),t}var l=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof t?n=s(t,e):t instanceof HTMLInputEus(),windo&&p(addEemenl.noodeN{for(var e[o].gth;?n[t]=r:delete odule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var n in e)o.o={exports:{}},n[t](e,e.exports,o),e)).exports}var n,r}()),a="scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=550, height=440, toolbar=0, status=0";function c(e){return Object.keys(e).filter(function(t){return void 0!==e[t]&&""!==e[t]}).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.fbAppId,n=t.url,t=t.redirectUri;if(e)return e=c({app_id:e,display:"popup",redirect_uri:t,link:n}),"https://www.facebook.com/dialog/feed?".concat(e);throw new Error("fbAppId is not defined")}function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.fbAppId,n=t.url,o=t.hashtag,t=t.redirectUri;if(e)return e=c({app_id:e,display:"popup",redirect_uri:t,href:n,hashtag:o}),"https://www.facebook.com/dialog/share?".concat(e);throw new Error("fbAppId is not defined")}function u(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url;if(t)return t=c({kid_directed_site:"0",sdk:"joey",u:t,display:"popup",ref:"plugin",src:"share_button"}),"https://www.facebook.com/sharer/sharer.php?".concat(t);throw new Error("url is not defined")}function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.to,n=t.url,o=t.title,r=t.description,t=c({subject:t.subject,body:"".concat(o||"","\r\n").concat(r||"","\r\n").concat(n||"")});return"mailto:".concat(e||"","?").concat(t)}function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=c({url:t.url,title:t.title,imageUrl:t.image});return"https://connect.ok.ru/offer?".concat(t)}function purl?".concat(t)}function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.title,n=t.url,t=t.hashtags,e=c({text:e,url:n,hashtags:(void 0===t?[]:t).join(",")});return"https://twitter.com/intent/tweet?".concat(e)}function v(t){return window.navigator.userAgent.match(/Version\/[\d.]+.*Safari/)?window.open(t):window.location.assign(t)}function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.url,t=t.title;if(e||t)return t=c({text:[t,e].filter(function(t){return t}).join(" ")}),"viber://forward?".concat(t);throw new Error("url and title not specified")}function m(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.url,n=t.image,o=t.isVkParse,r=t;return r&&80<r.length&&(r="".concat(r.substr(0,80),"...")),t&&80<t.length&&(t="".concat(t.substr(0,80),"...")),o=c(o?{url:e}:{url:e,title:t,description:r,image:n,noparse:!0}),"https://vk.com/share.php?".concat(o)}function w(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.phone,t=c({text:[t.title,t.url].filter(function(t){return t}).join(" "),phone:e});return"https://api.whatsapp.com/send?".concat(t)}var y=Object.freeze({__proto__:null,email:function(){return window.location.assign(d(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))},fbButton:function(){return window.open(u(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),"_blank",a)},fbFeed:function(){return window.open(s(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),"_blank",a)},fbShare:function(){return window.open(l(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),"_blank",a)},getEmailUrl:d,getFbButtonUrl:u,getFbFeedUrl:s,getFbShareUrl:l,getOkUrl:h,getTelegramUrl:p,getTwUrl:f,getViberUrl:g,getVkUrl:m,getWhatsappUrl:w,gp:function(){var t=c({url:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url});return window.open("https://plus.google.com/share?".concat(t),"_blank",a)},line:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.title;if(t=t.url)return t=encodeURIComponent("".concat(t)),e&&(t="".concat(encodeURIComponent("".concat(e," "))).concat(t)),window.open("https://line.me/R/msg/text/?".concat(t),"_blank",a);throw new Error("url is not defined")},linkedin:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.title,n=t.url,e=c({title:e,summary:t.description,url:n});return window.open("https://www.linkedin.com/shareArticle?mini=true&".concat(e),"_blank",a)},mail:function(){var t=c({share_url:(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url,title:t.title,description:t.description,imageurl:t.image});return window.open("http://connect.mail.ru/share?".concat(t),"_blank",a)},messenger:function(){var t=(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).fbAppId,e=e.url;if(t)return t=c({app_id:t,link:e}),window.location.assign("fb-messenger://share?".concat(t));throw new Error("fbAppId is not defined")},ok:function(){return window.open(h(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),"_blank",a)},pinterest:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.description,e=c({url:t.url,description:e,media:t.media});return window.open("https://pinterest.com/pin/create/button/?".concat(e),"_blank",a)},reddit:function(){var t=c({url:(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url,title:t.title});return window.open("https://www.reddit.com/submit?".concat(t),"_blank",a)},telegram:function(){return window.open(p(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),"_blank",a)},tumblr:function(){var t=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url,e=r.title,n=r.caption,o=void 0===(o=r.tags)?[]:o,r=void 0===(r=r.posttype)?"link":r,t=c({canonicalUrl:t,title:e,caption:n,tags:o.join(","),posttype:r});return window.open("https://www.tumblr.com/widgets/share/tool?".concat(t),"_blank",a)},tw:function(){return window.open(f(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),"_blank",a)},viber:function(){return v(g(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))},vk:function(){return window.open(m(0<argument=arguments[0]?arguments[0]:{}),"_blank",a)},whatsapp:function(){return window.open(w(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),"_blank",a)}});const b=["whatsapp","viber","messenger"];function x(t=[],e=!0){return!e||/Android/.test(window.navigator.userAgent)||/iP(hone|ad|od)/i.test(window.navigator.userAgent)?t:t.filter(t=>!b.includes(t))}var _="data:image/svg+xml,%3csvg width='8' height='16' viewbox='0 0 8 16' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M5.937 2.752h1.891V.01L5.223 0c-2.893 0-3.55 2.047-3.55 3.353v1.829H0v2.824h1.673V16H5.19V8.006h2.375l.308-2.824H5.19v-1.66c0-.624.44-.77.747-.77' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e";const C={fbFeed:_,fbButton:_,tw:"data:image/svg+xml,%3csvg width='18' height='15' viewbox='0 0 18 15' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M0 12.616a10.657 10.657 0 0 0 5.661 1.615c6.793 0 10.507-5.476 10.507-10.223 0-.156-.003-.31-.01-.464A7.38 7.38 0 0 0 18 1.684a7.461 7.461 0 0 1-2.12.564A3.621 3.621 0 0 0 17.503.262c-.713.411-1.505.71-2.345.871A3.739 3.739 0 0 0 12.462 0C10.422 0 8.77 1.607 8.77 3.59c0 .283.033.556.096.82A10.578 10.578 0 0 1 1.254.656a3.506 3.506 0 0 0-.5 1.807c0 1.246.65 2.346 1.642 2.99a3.731 3.731 0 0 1-1.673-.45v.046c0 1.74 1.274 3.193 2.962 3.523a3.756 3.756 0 0 1-.972.126c-.239 0-.47-.022-.695-.064.469 1.428 1.833 2.467 3.449 2.494A7.531 7.531 0 0 1 .88 12.665c-.298 0-.591-.014-.881-.049' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",reddit:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewbox='0 0 24 24'%3e %3cpath d='M24 11.779a2.654 2.654 0 0 0-4.497-1.899c-1.81-1.191-4.259-1.949-6.971-2.046l1.483-4.669 4.016.941-.006.058a2.17 2.17 0 0 0 2.174 2.163c1.198 0 2.172-.97 2.172-2.163a2.171 2.171 0 0 0-4.193-.785l-4.329-1.015a.37.37 0 0 0-.44.249L11.755 7.82c-2.838.034-5.409.798-7.3 2.025a2.643 2.643 0 0 0-1.799-.712A2.654 2.654 0 0 0 0 11.779c0 .97.533 1.811 1.317 2.271a4.716 4.716 0 0 0-.086.857C1.231 18.818 6.039 22 11.95 22s10.72-3.182 10.72-7.093c0-.274-.029-.544-.075-.81A2.633 2.633 0 0 0 24 11.779zM6.776 13.595c0-.868.71-1.575 1.582-1.575.872 0 1.581.707 1.581 1.575s-.709 1.574-1.581 1.574-1.582-.706-1.582-1.574zm9.061 4.669c-.797.793-2.048 1.179-3.824 1.179L12 19.44l-.013.003c-1.777 0-3.028-.386-3.824-1.179a.369.369 0 0 1 0-.523.372.372 0 0 1 .526 0c.65.647 1.729.961 3.298.961l.013.003.013-.003c1.569 0 2.648-.315 3.298-.962a.373.373 0 0 1 .526 0 .37.37 0 0 1 0 .524zm-.189-3.095a1.58 1.58 0 0 1-1.581-1.574c0-.868.709-1.575 1.581-1.575s1.581.707 1.581 1.575-.709 1.574-1.581 1.574z' fill='white' fill-rule='evenodd'/%3e%3c/svg%3e",gp:"data:image/svg+xml,%3csvg width='21' height='14' viewbox='0 0 21 14' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M6.816.006C8.5-.071 10.08.646 11.37 1.655a24.11 24.11 0 0 1-1.728 1.754C8.091 2.36 5.89 2.06 4.34 3.272c-2.217 1.503-2.317 5.05-.186 6.668 2.073 1.843 5.991.928 6.564-1.895-1.298-.02-2.6 0-3.899-.042-.003-.76-.006-1.518-.003-2.278 2.17-.006 4.341-.01 6.516.007.13 1.786-.11 3.688-1.23 5.164-1.696 2.34-5.1 3.022-7.756 2.02C1.681 11.921-.207 9.161.018 6.348.077 2.905 3.305-.11 6.816.006zm10.375 3.812h1.893c.004.634.007 1.27.014 1.903.632.007 1.27.007 1.902.013v1.893l-1.902.016c-.007.636-.01 1.27-.014 1.902h-1.896c-.006-.632-.006-1.266-.013-1.899l-1.902-.02V5.735c.633-.006 1.266-.01 1.902-.013.004-.636.01-1.27.016-1.903z' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",messenger:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 223 223' width='512' height='512'%3e %3cpath d='M111.5 0C50.5 0 0.8 47 0.8 104.7c0 31.1 14.5 60.3 39.7 80.3 3.3 2.6 8 2 10.5-1.2 2.6-3.2 2-8-1.2-10.5 -21.6-17.1-34-42.1-34-68.5C15.8 55.2 58.7 15 111.5 15c52.8 0 95.7 40.2 95.7 89.7 0 49.4-42.9 89.7-95.7 89.7 -9.2 0-18.3-1.2-27.1-3.6 -1.9-0.5-4-0.3-5.7 0.7l-31.1 17.6c-3.6 2-4.9 6.6-2.8 10.2 1.4 2.4 3.9 3.8 6.5 3.8 1.3 0 2.5-0.3 3.7-1l28.4-16.1c9.1 2.2 18.5 3.4 28 3.4 61.1 0 110.7-47 110.7-104.7C222.3 47 172.6 0 111.5 0z' fill='white' fill-rule='evenodd'/%3e %3cpath d='M114.7 71.9c-2.6-1.2-5.8-0.8-8 1.1l-57.9 49.1c-3.2 2.7-3.6 7.4-0.9 10.6 2.7 3.2 7.4 3.6 10.6 0.9l45.5-38.6v35.9c0 2.9 1.7 5.6 4.3 6.8 1 0.5 2.1 0.7 3.2 0.7 1.7 0 3.5-0.6 4.9-1.8l57.9-49.1c3.2-2.7 3.6-7.4 0.9-10.6 -2.7-3.2-7.4-3.6-10.6-0.9l-45.5 38.6V78.7C119 75.7 117.3 73.1 114.7 71.9z' fill='white' fill-rule='evenodd'/%3e%3c/svg%3e",linkedin:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3e %3cpath fill='white' fill-rule='evenodd' d='M4.98 3.5C4.98 4.881 3.87 6 2.5 6S.02 4.881.02 3.5C.02 2.12 1.13 1 2.5 1s2.48 1.12 2.48 2.5zM5 8H0v16h5V8zm7.982 0H8.014v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0V24H24V13.869c0-7.88-8.922-7.593-11.018-3.714V8z'/%3e%3c/svg%3e",vk:"data:image/svg+xml,%3csvg width='22' height='12' viewbox='0 0 22 12' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M10.764 11.94h1.315s.397-.042.6-.251c.187-.192.18-.552.18-.552s-.025-1.685.794-1.934c.807-.245 1.844 1.629 2.942 2.35.832.545 1.463.425 1.463.425l2.938-.039s1.537-.09.808-1.244c-.06-.095-.425-.855-2.184-2.415-1.843-1.633-1.596-1.37.623-4.195 1.351-1.72 1.892-2.771 1.722-3.22-.16-.43-1.154-.316-1.154-.316l-3.308.02s-.246-.033-.427.071c-.178.102-.292.34-.292.34s-.524 1.33-1.222 2.463C14.09 5.833 13.5 5.96 13.26 5.81c-.56-.346-.42-1.388-.42-2.13 0-2.315.368-3.28-.716-3.531-.36-.082-.624-.137-1.544-.146C9.4-.01 8.4.006 7.835.27c-.377.176-.668.568-.49.59.218.029.713.128.976.47.339.44.327 1.43.327 1.43s.195 2.725-.455 3.064c-.446.232-1.057-.242-2.371-2.41-.673-1.11-1.18-2.338-1.18-2.338S4.542.848 4.368.725C4.157.576 3.86.529 3.86.529L.717.549S.245.562.072.757c-.155.175-.012.536-.012.536s2.46 5.5 5.247 8.271c2.556 2.542 5.457 2.375 5.457 2.375' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",ok:"data:image/svg+xml,%3csvg width='12' height='18' viewbox='0 0 12 18' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M6.843 8.83c2.17-.468 4.162-2.626 3.521-5.3C9.863 1.442 7.561-.599 4.742.161c-6.148 1.662-3.661 9.912 2.1 8.668zm-1.6-6.458c1.39-.375 2.504.554 2.788 1.57.363 1.305-.592 2.394-1.618 2.657-2.913.747-4.16-3.43-1.17-4.227zM9.05 9.536c.41-.23.748-.608 1.367-.577.832.044 2.514 1.404-.445 2.824-1.624.778-1.699.558-2.972.926.22.411 2.55 2.453 3.214 3.082 1.103 1.046.164 2.234-.967 2.115-.718-.077-2.971-2.352-3.38-2.82-.92.438-2.541 2.674-3.431 2.81-1.175.182-2.155-1.091-.96-2.19L4.65 12.73c-.287-.145-1.171-.261-1.59-.389C-1.57 10.93.08 8.838 1.405 8.963c.478.046.907.42 1.274.621 1.931 1.05 4.463 1.029 6.37-.048z' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",pinterest:"data:image/svg+xml,%3csvg viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M12.524 29.797a.192.192 0 0 0 .34.08 14.548 14.548 0 0 0 2.575-4.502c.172-.615 1.002-3.778 1.002-3.778a4.128 4.128 0 0 0 3.48 1.714c4.584 0 7.695-4.032 7.695-9.43 0-4.08-3.585-7.882-9.03-7.882C11.817 5.997 8.4 10.677 8.4 14.59c0 2.366.929 4.471 2.92 5.257a.494.494 0 0 0 .72-.344c.066-.24.222-.85.292-1.105a.655.655 0 0 0-.205-.766 3.87 3.87 0 0 1-.943-2.698 6.643 6.643 0 0 1 7.022-6.59c3.83 0 5.934 2.258 5.934 5.273 0 3.967-1.82 7.32-4.519 7.32a2.159 2.159 0 0 1-2.253-2.65c.562-1.586.985-3.22 1.26-4.883a1.867 1.867 0 0 0-1.92-2.065c-1.526 0-2.752 1.522-2.752 3.56a5.14 5.14 0 0 0 .456 2.179s-1.56 6.378-1.835 7.496a14.949 14.949 0 0 0-.053 5.224z' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",mail:"data:image/svg+xml,%3csvg width='17' height='16' viewbox='0 0 17 16' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M8.205 3.322c1.3 0 2.521.563 3.418 1.445v.003c0-.423.29-.742.694-.742l.101-.001c.631 0 .76.586.76.771l.004 6.584c-.045.431.454.653.73.377 1.077-1.086 2.366-5.585-.67-8.192-2.831-2.43-6.629-2.03-8.649-.664-2.146 1.453-3.52 4.668-2.185 7.688 1.455 3.294 5.617 4.276 8.091 3.296 1.253-.496 1.832 1.165.53 1.708-1.965.822-7.438.74-9.994-3.605C-.692 9.057-.6 3.896 3.98 1.222c3.505-2.046 8.125-1.48 10.91 1.374 2.913 2.985 2.743 8.572-.097 10.745-1.288.986-3.199.025-3.187-1.413l-.013-.47a4.827 4.827 0 0 1-3.388 1.381c-2.566 0-4.825-2.215-4.825-4.733 0-2.543 2.259-4.784 4.825-4.784zm3.231 4.602C11.34 6.08 9.944 4.97 8.26 4.97h-.063c-1.945 0-3.023 1.5-3.023 3.204 0 1.908 1.305 3.113 3.015 3.113 1.907 0 3.162-1.37 3.252-2.992l-.004-.372z' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",email:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='21' height='21' viewBox='0 0 350 350'%3e %3cg id='icon' style='stroke: none%3b stroke-width: 1%3b stroke-dasharray: none%3b stroke-linecap: butt%3b stroke-linejoin: miter%3b stroke-miterlimit: 10%3b fill: none%3b fill-rule: nonzero%3b opacity: 1%3b' transform='translate(-1.9444444444444287 -1.9444444444444287) scale(3.89 3.89)' %3e %3cpath d='M 75.546 78.738 H 14.455 C 6.484 78.738 0 72.254 0 64.283 V 25.716 c 0 -7.97 6.485 -14.455 14.455 -14.455 h 61.091 c 7.97 0 14.454 6.485 14.454 14.455 v 38.567 C 90 72.254 83.516 78.738 75.546 78.738 z M 14.455 15.488 c -5.64 0 -10.228 4.588 -10.228 10.228 v 38.567 c 0 5.64 4.588 10.229 10.228 10.229 h 61.091 c 5.64 0 10.228 -4.589 10.228 -10.229 V 25.716 c 0 -5.64 -4.588 -10.228 -10.228 -10.228 H 14.455 z' transform=' matrix(1 0 0 1 0 0) ' stroke-linecap='round' fill='white' fill-rule='evenodd'/%3e %3cpath d='M 11.044 25.917 C 21.848 36.445 32.652 46.972 43.456 57.5 c 2.014 1.962 5.105 -1.122 3.088 -3.088 C 35.74 43.885 24.936 33.357 14.132 22.83 C 12.118 20.867 9.027 23.952 11.044 25.917 L 11.044 25.917 z' transform=' matrix(1 0 0 1 0 0) ' stroke-linecap='round' fill='white' fill-rule='evenodd'/%3e %3cpath d='M 46.544 57.5 c 10.804 -10.527 21.608 -21.055 32.412 -31.582 c 2.016 -1.965 -1.073 -5.051 -3.088 -3.088 C 65.064 33.357 54.26 43.885 43.456 54.412 C 41.44 56.377 44.529 59.463 46.544 57.5 L 46.544 57.5 z' transform=' matrix(1 0 0 1 0 0) ' stroke-linecap='round' fill='white' fill-rule='evenodd'/%3e %3cpath d='M 78.837 64.952 c -7.189 -6.818 -14.379 -13.635 -21.568 -20.453 c -2.039 -1.933 -5.132 1.149 -3.088 3.088 c 7.189 6.818 14.379 13.635 21.568 20.453 C 77.788 69.973 80.881 66.89 78.837 64.952 L 78.837 64.952 z' transform=' matrix(1 0 0 1 0 0) ' stroke-linecap='round' fill='white' fill-rule='evenodd'/%3e %3cpath d='M 14.446 68.039 c 7.189 -6.818 14.379 -13.635 21.568 -20.453 c 2.043 -1.938 -1.048 -5.022 -3.088 -3.088 c -7.189 6.818 -14.379 13.635 -21.568 20.453 C 9.315 66.889 12.406 69.974 14.446 68.039 L 14.446 68.039 z' transform=' matrix(1 0 0 1 0 0) ' stroke-linecap='round' fill='white' fill-rule='evenodd'/%3e %3c/g%3e%3c/svg%3e",telegram:"data:image/svg+xml,%3csvg width='21' height='17' viewbox='0 0 21 17' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M10.873 13.323c-.784.757-1.56 1.501-2.329 2.252-.268.262-.57.407-.956.387-.263-.014-.41-.13-.49-.378-.589-1.814-1.187-3.626-1.773-5.44a.425.425 0 0 0-.322-.317A417.257 417.257 0 0 1 .85 8.541a2.37 2.37 0 0 1-.59-.265c-.309-.203-.353-.527-.07-.762.26-.216.57-.397.886-.522C2.828 6.304 4.59 5.638 6.35 4.964L19.039.101c.812-.311 1.442.12 1.366.988-.05.572-.2 1.137-.32 1.702-.938 4.398-1.88 8.794-2.82 13.191l-.003.026c-.23 1.006-.966 1.28-1.806.668-1.457-1.065-2.91-2.134-4.366-3.201-.068-.05-.14-.098-.217-.152zm-3.22 1.385c.023-.103.038-.151.043-.2.092-.989.189-1.977.27-2.967a.732.732 0 0 1 .256-.534c2.208-1.968 4.41-3.943 6.613-5.917.626-.561 1.256-1.12 1.876-1.688.065-.06.08-.174.117-.263-.095-.027-.203-.095-.285-.072-.189.052-.38.127-.545.23C12.722 5.343 9.45 7.395 6.175 9.44c-.167.104-.214.19-.147.389.518 1.547 1.022 3.098 1.531 4.648.02.061.048.12.094.23z' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",whatsapp:"data:image/svg+xml,%3csvg width='22' height='22' viewbox='0 0 22 22' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M7.926 5.587c-.213-.51-.375-.53-.698-.543a6.234 6.234 0 0 0-.369-.013c-.42 0-.86.123-1.125.395-.323.33-1.125 1.1-1.125 2.677 0 1.578 1.15 3.104 1.306 3.318.162.213 2.244 3.498 5.476 4.837 2.528 1.048 3.278.95 3.853.828.84-.181 1.894-.802 2.16-1.552.265-.75.265-1.39.187-1.527-.078-.135-.291-.213-.614-.375-.323-.161-1.894-.937-2.192-1.04-.29-.11-.569-.072-.788.239-.31.433-.614.873-.86 1.138-.194.207-.511.233-.776.123-.356-.149-1.351-.498-2.58-1.591-.95-.847-1.596-1.901-1.784-2.218-.187-.323-.02-.511.13-.685.161-.201.316-.343.478-.53.161-.188.252-.285.355-.505.11-.214.033-.434-.045-.595-.078-.162-.724-1.74-.99-2.38zM10.996 0C4.934 0 0 4.934 0 11c0 2.405.776 4.636 2.095 6.447L.724 21.534l4.228-1.351A10.913 10.913 0 0 0 11.003 22C17.067 22 22 17.066 22 11S17.067 0 11.003 0h-.006z' fill='white' fill-rule='evenodd'%3e%3c/path%3e%3c/svg%3e",viber:"data:image/svg+xml,%3csvg width='21' height='21' viewbox='0 0 21 21' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M18.639 14.904c-.628-.506-1.3-.96-1.96-1.423-1.318-.926-2.523-.997-3.506.491-.552.836-1.325.873-2.133.506-2.228-1.01-3.949-2.567-4.956-4.831-.446-1.002-.44-1.9.603-2.609.552-.375 1.108-.818 1.064-1.637C7.693 4.334 5.1.765 4.077.39 3.653.233 3.23.243 2.8.388.4 1.195-.594 3.169.358 5.507c2.84 6.974 7.84 11.829 14.721 14.792.392.169.828.236 1.049.297 1.567.015 3.402-1.494 3.932-2.992.51-1.441-.568-2.013-1.421-2.7zm-7.716-13.8c-.417-.064-1.052.026-1.02-.525.046-.817.8-.513 1.165-.565 4.833.163 8.994 4.587 8.935 9.359-.006.468.162 1.162-.536 1.149-.668-.013-.493-.717-.553-1.185-.64-5.067-2.96-7.46-7.991-8.233zm.984 1.39c3.104.372 5.64 3.065 5.615 6.024-.047.35.157.95-.409 1.036-.764.116-.615-.583-.69-1.033-.511-3.082-1.593-4.213-4.7-4.907-.458-.102-1.17-.03-1.052-.736.113-.671.752-.443 1.236-.385zm.285 2.419c1.377-.034 2.992 1.616 2.969 3.044.014.39-.028.802-.49.857-.333.04-.552-.24-.586-.585-.128-1.272-.798-2.023-2.073-2.228-.382-.061-.757-.184-.579-.7.12-.345.436-.38.76-.388z' filltn-text",this.socialBtnClass="vjs-share__social",this._createContent(),this._initToggle(),this._initClipboard(),this._initSharing()}getContent(){return this.content}get socialOptions(){var{url:t,title:e,description:n,image:o,fbAppId:r,isVkParse:i,redirectUri:a}=this.options;return{url:t,title:e,description:n,image:o,fbAppId:r,isVkParse:i,redirectUri:a}}_createContent(){var t='\n      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20">\n        <path fill="#FFF" fill-rule="evenodd" d="M10.07 20H1.318A1.325 1.325 0 0 1 0 18.67V6.025c0-.712.542-1.21 1.318-1.21h7.294l2.776 2.656v11.2c0 .734-.59 1.33-1.318 1.33zm6.46-15.926v9.63h-3.673v1.48h3.825c.727 0 1.318-.595 1.318-1.328v-11.2L15.225 0H7.93c-.776 0-1.318.497-1.318 1.21v2.123h1.47V1.48h5.877v2.594h2.57zm-.73-1.48l-.37-.357v.356h.37zM9.918 8.888v9.63H1.47V6.295h5.878V8.89h2.57zm-.73-1.483l-.372-.355v.355h.37z"></path>\n      </svg>\n      <span class="'.concat(this.copyBtnTextClass,'">').concat(this.player.localize("Copy"),"</span>\n    "),e=document.createElement("div");let n="";this.options.embedCode&&(n='\n        <div class="vjs-share__subtitle hidden-xs">'.concat(this.player.localize("Embed Code"),':</div>\n        <div class="vjs-share__short-link-wrapper hidden-xs">\n          <input class="vjs-share__short-link" type="text" readonly="true" value="').concat(this.options.embedCode,'">\n          <div class="vjs-share__btn">\n            ').concat(t,"\n          </div>\n        </div>")),e.innerHTML='<div class="vjs-share">\n      <div class="vjs-share__top hidden-sm">\n        <div class="vjs-share__title">'.concat(this.player.localize("Share"),'</div>\n      </div>\n\n      <div class="vjs-share__middle">\n        <div class="vjs-share__subtitle hidden-xs">').concat(this.player.localize("Direct Link"),':</div>\n        <div class="vjs-share__short-link-wrapper">\n          <input class="vjs-share__short-link" type="text" readonly="true" value="').concat(this.options.url,'">\n          <div class="vjs-share__btn">\n            ').concat(t,"\n          </div>\n        </div>\n\n        ").concat(n,'\n      </div>\n\n      <div class="vjs-share__bottom">\n        <div class="vjs-share__socials">\n          ').concat(this._getSocialItems().join(""),"\n        </div>\n      </div>\n    </div>"),this.content=e.firstChild}_initClipboard(){new i(".vjs-share__btn",{target:t=>t.previousElss",t=>{const e=t.trigger.querySelector(".".concat(this.copyBtnTextClass)),n=()=>{e.innerText=this.player.localize("Copy"),t.clearSelection()};e.innerText=this.player.localize("Copied"),"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints?setTimeout(n,1e3):e.parentElement.addEventListener("mouseleave",()=>{setTimeout(n,300)})})}_initSharing(){var t=this.content.querySelectorAll(".".concat(this.socialBtnClass));Array.from(t).forEach(t=>{t.addEventListener("click",t=>{t=t.currentTarget.getAttribute("data-social"),this.player.trigger({type:"sharing:social:clicked",platform:t}),t=y[t];"function"==typeof t&&t(this.socialOptions)})})}_initToggle(){var t=this.content.querySelector(".vjs-share__socials");10<this.socials.length||window.innerWidth<=180&&6<this.socials.length?t.style.height="calc((2em + 5px) * 2)":t.classList.add("horizontal")}_getSocialItems(){const e=[];return this.socials.forEach(t=>{C[t]&&e.push('\n          <button class="vjs-share__social vjs-share__social_'.concat(t,'" data-social="').concat(t,'">\n            <img src="').concat(C[t],'"/>\n socials=x(t.socials,t.mobileVerification);var t=this.content.getElementsByClassName("vjs-share__short-link")[0],e=this.content.getElementsByClassName("vjs-share__short-link")[1];t.value=this.options.url,e.value=this.options.embedCode}}class j extends this.playerClassName="vjs-videojs-share_open"}open(){var t=this.player();t.addClass(this.playerClassName),super.open(),t.trigger("sharing:opened")}close(){var t=this.player();t.removeClass(this.playerClhis.player=t,this.options=e}_createModal(){this.content=new k(this.player,this.options),this.modal=new j(this.player,{content:this.content.getContent(),temporary:!0}),this.el=this.modal.contentEl(),this.player.addChild(this.modal)}open(){this._createModal(),this.modal.open()}recreateModal(t){this.options=t,this.content&&this.content.recreateContent(t)}}class E extends o.getPlugin("plugin"){constructor(e,n){super(e),this.options=o.mergeOptions(r,n),this.player.ready(()=>{this.player.addClass("vjs-share"),e.addClass("vjs-videojs-share");var t=e.getChild("controlBar").children().length-1;e.getChild("controlBar").addChild("ShareButton",n,t),this.shareOverlay=e.addChild("ShareOverlay",n)}),this.newOptions=function(t){this.options=o.mergeOptions(r,t),this.shareOverlay.recreateModal(t)}}}return E.defaultState={},E.VERSION="3.2.1",o.registerComponent("ShareButton",e),o.registerComponent("ShareOverlay",S),o.registerPlugin("share",E),E});/*! videojs-markers - v1.0.1 - 201ypeof exports)r(require("videojs"));else{r(e.videojs),e.videojsMarkers={}}}(this,function(e){"use strict";var r,h=(r=e)&&r.__esModule?r:{defaultf Symbol&&"symbol"==typeof Symbol.iterator?fuunction"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b={markerStyle:{width:"7px","border-radius":"30%","backgrounmarkerTip:{display:!0,text:function(e){return"Break: "+e.text},time:function(e){return e.time}},breakOverlay:{display:!1,displayTime:3,text:function(e){return"Break overlay: "+e.overlayText},style:{width:"100%",height:"20%","ba},markers:[]};function unction(n){if(!h.default.mergeOptions){var o=funptions=function i(e,r){var a={};return[e,r].forEach(function(t){t&&Object.=r})}),a}}h.default.dom.createEl||(h.default.dom.createEl=function(e,r,t){var i=h.default.Player.prototype.dom.createEl(e,r);return u={},d=[],c=g,s=this,f=null,a=null,m=g;function r(){d.sort(function(e,r){return l.markerTip.time(e)-l.markerTip.time(r)})}function t(e){e.forEach(function(e){var t,i,a,r;e.key=(t=(new Date).getTime(ector(".vjs-progress-holder").appendChild((i=e,r=h.default.dom.createEl("div",{},{"data-marker-key":i.key,"data-marker-time":l.markerTip.time(i)}),y(i,r),r.addEventListener("click",function(e){var r=!1;if("function"==typeof l.onMarkerClick&&(r=!1===l.onMarkerClick(i)),!r){var t=this.getAttribute("data-marker-key");s.currentTime(l.markerTip.time(u[t]))}}),l.markerTip.display&&((a=r).addEventListener("mouseover",function(){var e=u[akerTip.html?f.querySelector(".vjs".vjs-tip-inner").innerText=l.markerTip.text(e),f.style.left=v(e)+"%";var r=T(f),t=T(a);f.arseFloat(t.width/4)+"px",f.style.visibility="visible"}}),a.addEventListener("mouseout",function(){f&&(f.style.visibility="hidden")})),r)),u[e.key]=e,d.push(e)}),r()}function v(e){return l.markerTip.time(e)/s.duration()*10arginLeft="0px";else{var i=T(r);r.style.marginLeft=i.width/2+"px"}}function i(e){a&&(m=g,a.style.visibility="hidden"),c=g;var i=[];e.forEach(function(e){var r=d[e];if(r){delete u[r.key],i.push(e);var t=s.el().querySelector(".vjs-marker[data-marker-key='"+r.key+"']");t&&t.parentNode.removeChild(t)}}),i.reverse(),i.forEach(function(e){d.splice(e,1)})e(),r=d[c],t=l.markerTip.time(r);t<=e&&e<=t+l.breakOverlay.displayTime?(m!==c&&(m=c,a&&(a.querySelector(".vjs-break-overlay-text").innerHTML=l.breakOverlay.text(r))),a&&(a.style.visibility="visible")):(m=g,a&&(a.style.visibility="hidden"))}}function k(){!function(){if(d.length){var e=function(e){return e<d.length-1?l.markerTip.time(d[e+1]):s.duration()},r=s.currentTime(),t=g;if(c!==g){var i=e(c);if(r>=l.markerTip.time(d[c])&&r<i)return;if(c===d.length-1&&r===s.duration())return}if(r<l.markerTip.time(d[0]))t=g;else for(var a=0;a<d.length;a++)if(i=e(a),r>=l.markerTip.time(d[a])&&r<i){t=a;break}t!==c&&(t!==g&&n.onMarkerReached&&n.onMarkerReached(d[t],t),c=t)}}(),e(),n.onTimeUpdateAfterMarkerUpdate&&n.onTimeUpdateAfterMarkerUpdate()}function p(){l.markerTip.display&&(f=h.default.dom.createEl("div",{className:"vjs-tip",innerHTtip-inner'></div>"}),s.el().querySelector(".vjs-progress-holder").appendChild(f)),s.markers.removeA),l.breakOverlay.display&&(a=h.default.dom.createEl("div",{className:"vjs-break-overlay",innerHTML:"<div class='vjs-break-overlay-text'></div>"}),Object.keys(l.breakOverlay.style).forEach(function(e){a&&(a.style[e]=l.breakOverlay.style[e])}),s.el().appendChild(a),m=g),k(),s.on("timeupdate",k),s.off("loadedmetadata")}s.on("loadedmetp()}),s.mavar e=s.currentTime(),r=0;r<d.length;r++){vadd:functioneAll:funnction(e){var r=s.el().querySelector(".vjs-marker[data-marker-key='"+e.key+"']"),t=l.markerTip.time(e);(i||r.getAttribute("data-marker-time")!==t)&&(y(e,r),r.setAttribute("data-marker-time",t))}),r()},reset:function(e){s.markers.removeAll(),t(e)},destroy:function(){s.markers.removeAll(),a&&a.remove(),f&&f.remove(),s.off("timeupdate",e),delete s.markers}}})});(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?(module.exports=factory(require("videojs"))):typeof define==="function"&&define.amd?define(["videojs"],factory):(global.vttPreview=factory(global.videojs));})(this,function(videojs){"use strict";videojs=videojs&&videojs.hasOwnProperty("default")?videojs["default"]:videojs;const Plugin=videojs.getPlugin("plugin");const DefaultImagesPerRow=10;const DefaultSpriteImageHeight=72;const DefaultSpriteImageWidth=128;class vttPreview extends Plugin{constructor(player,{videoObject,vttObjects}){super(player);let updateDimpreview=document.getElementById("ez-vid-preview-"+videoObject.PlayerId);if(preview!=undefined){let container=document.getElementById("ez-video-container-"+videoObject.PlayerId);let isEmbed=false;if(!!container){if(container.classList.contains("ez-embed")){isEmbed=true;}}
updateDims(player,preview);let imagesPerRow=vttObjects.filter((obj)=>obj.data.y===0).length;if(imagesPerRow<10){imagesPerRow=DefaultImagesPerRow;}
let imgHeight=DefaultSpriteImageHeight;let imgWidth=DefaultSpriteImageWidth;let spriteHeight=imagesPerRow*imgHeight;let spriteWidth=imagesPerRow*imgWidth;let xSize=(spriteWidth/imgWidth)*100+"%";let ySize=(spriteHeight/imgHeight)*100+"%";preview.style.backgroundSize=xSize+" "+ySize;let isFloating=false;player.on("seeking",function(){if(player.scrubbing()){let shouldUpdate=false;if(isEmbed){let stuckBar=document.getElementById("ez-video-ez-stuck-bar-"+videoObject.PlayerId);if(!!stuckBar&&stuckBar.classList.contains("ez-stuck-bar-visible")){if(!isFloating){isFloating=true;shouldUpdate=true;}}else if(isFloating){isFloating=false;shouldUpdate=true;}}else{container=document.getElementById("ez-video-container-"+videoObject.PlayerId);if(container.classList.contains("ez-stuck")){if(!isFloating){isFloating=true;shouldUpdate=true;}}else if(isFloating){isFloating=false;shouldUpdate=true;}}
if(shouldUpdate){updateDims(player,preview);}
preview.style.opacity="1";let time=player.currentTime();outer:for(let i=0;i<vttObjects.length;i++){let item=vttObjects[i];if(item.start<=time&&item.end>time){let image="url("+item.data.image+")";preview.style.backgroundImage=image;let xPos=(Math.abs(parseInt(item.data.x))/(spriteWidth-imgWidth))*100+
"%";let yPos=(Math.abs(parseInt(ikgroundPosition=xPos+" "+yPos;break outer;}}}});player.on("timeupdate",function(){if(!player.scrubbing()){preview.style.opacity="0";}});}}
updateDims(player,preview){let dims=player.currentDimensions();preview.style.width=dims.width+"px";preview.style.height=dims.height+"px";}}
var preview=function(player,options){return new vttPreview(player,options);};videojs.registerPlugin("vttPreview",preview);return preview;});