(window.webpackJsonp=window.webpackJsonp||[]).push([[23,3,6,35],{1197:function(e,t,n){e.exports=n.p+"static/media/account-not-verified.498b8407.jpg"},1198:function(e,t,n){e.exports=n.p+"static/media/salty.2d2f6057.jpg"},1199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&"object"===typeof r&&"default"in r?r.default:r,i=n(1200),c=new i,u=c.getBrowser(),s=c.getCPU(),l=c.getDevice(),d=c.getEngine(),p=c.getOS(),f=c.getUA(),m=function(e){return c.setUA(e)},h=b=Object.freeze({ClientUAInstance:c,browser:u,cpu:s,device:l,engine:d,os:p,ua:f,setUa:m,parseUserAgent:h});unction g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}nction S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}unction k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r C="mobile",A="tablet",I="smarttv",P="console",N="wearable",_="embedded",M=void 0,U={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},L={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},D={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},R=B=V=F=z=W=G=function(e,t,n,r){return{isSmartTV:e,engineName:B(t.name),engineVersion:B(t.version),osName:B(n.name),osVersion:B(n.version),userAgent:B(r)}},q=function(e,t,n,r){return{isConsole:e,engineName:B(t.name),engineVersion:B(t.version),osName:B(n.name),osVersion:B(n.version),userAgent:B(r)}},H=J=var Z=function(e){return e.type===C},X=function(e){return e.type===A},Y=$=function(e){return e.type===I},Q=function(e){return e.type===M},K=function(e){return e.type===N},ee=function(e){return e.type===P},te=ne=function(e){var t=e.vendor;return B(t)},re=function(e){var t=e.model;return B(t)},ae=oe=function(e){return e.name===L.Android},ie=function(e){return e.name===L.Windows},ce=function(e){return e.name===L.MAC_OS},ue=function(e){return e.name===L.WindowsPhone},se=function(e){return e.name===L.IOS},le=function(e){var t=e.version;return B(t)},de=function(e){var t=e.name;return B(t)},pe=function(e){return e.name===U.Chrome},fe=function(e){return e.name===U.Firefox},me=function(e){return e.name===U.Chromium},he=function(e){return e.name===U.Edge},be=function(e){return e.name===U.Yandex},ve=function(e){var t=e.name;return t===U.Safari||t===U.MobileSafari},ge=function(e){return e.name===U.MobileSafari},ye=function(e){return e.name===U.Opera},we=Oe=function(e){return e.name===U.MIUI},Se=Ee=function(e){var t=e.version;return B(t)},xe=function(e){var t=e.major;return B(t)},ke=function(e){var t=e.name;return B(t)},je=function(e){var t=e.name;return B(t)},Te=Ce=Ae=Ie=Pe=function(){return F("iPad")},Ne=function(){return F("iPhone")},_e=Me=function(e){return B(e)};ar Le=$(l),De=ee(l),Re=K(l),Be=te(l),Ve=ge(u)||Pe(),Fe=me(u),ze=Y(l)||Pe(),We=Z(l),Ge=X(l)||Pe(),qe=Q(l),He=Q(l),Je=oe(p),Ze=ue(p),Xe=se(p)||Pe(),Ye=pe(u),$e=fe(u),Qe=ve(u),Ke=ye(u),et=we(u),tt=le(p),nt=de(p),rt=Ee(u),at=xe(u),ot=ke(u),it=ne(l),ct=re(l),ut=je(d),st=Te(d),lt=Me(f),dt=he(u)||Ae(f),pt=be(u),ft=ae(l),mt=Ie(),ht=Pe(),bt=Ne(),vt=_e(),gt=Ce(),yt=Ae(f),wt=he(u)&&!Ae(f),Ot=ie(p),St=ce(p),Et=Oe(u),xt=Se(u);.AndroidView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return Je?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.BrowserTypes=U,t.BrowserView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return qe?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return De?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.CustomView=t.IEView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return et?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.IOSView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return Xe?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.MobileOnlyView=t.MobileView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return ze?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.OsTypes=L,t.SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return Le?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.TabletView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return Ge?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.WearableView=function(e){var t=e.renderWithFragment,n=e.children,r=x(e,["renderWithFragment","children"]);return Re?t?o.createElement(a.Fragment,null,n):o.createElement("div",r,n):null},t.WinPhoneView=t.browserName=ot,t.browserVersion=at,t.deviceDetect=function(e){var t=e?h(e):b,n=t.device,r=t.browser,a=t.engine,o=t.os,i=t.ua,c=R(n.type),u=c.isBrowser,s=c.isMobile,l=c.isTablet,d=c.isSmartTV,p=c.isConsole,f=c.isWearable,m=c.isEmbedded;return u?z(u,r,a,o,i):d?G(d,a,o,i):p?q(p,a,o,i):s?W(c,n,o,i):l?W(c,n,o,i):f?H(f,a,o,i):m?J(m,n,a,o,i):void 0},t.deviceType=ft,t.engineName=ut,t.engineVersion=st,t.fullBrowserVersion=rt,t.getSelectorsByUserAgent=t.getUA=lt,t.isAndroid=Je,t.isBrowser=qe,t.isChrome=Ye,t.isChromium=Fe,t.isConsole=De,t.isDesktop=He,t.isEdge=dt,t.isEdgeChromium=yt,t.isElectron=gt,t.isEmbedded=Be,t.isFirefox=$e,t.isIE=et,t.isIOS=Xe,t.isIOS13=mt,t.isIPad13=ht,t.isIPhone13=bt,t.isIPod13=vt,t.isLegacyEdge=wt,t.isMIUI=Et,t.isMacOs=St,t.isMobile=ze,t.isMobileOnly=We,t.isMobileSafari=Ve,t.isOpera=Ke,t.isSafari=Qe,t.isSamsungBrowser=xt,t.isSmartTV=Le,t.isTablet=Ge,t.isWearable=Re,t.isWinPhone=Ze,t.isWindows=Ot,t.isYandex=pt,t.mobileModel=ct,t.mobileVendor=it,t.osName=nt,t.osVersion=tt,t.parseUserAgent=h,t.setUserAgent=t.useDeviceData=kt,t.useDeviceSelectors=t.useMobileOrientation=t.withOrientationChange=function(e){return function(t){ar r,a,i;return n,o.Component),r=n,(a=[{key:"handleOrientationChange",value:,{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:,{key:"componentWillUnmount",value:,{key:"render",value:])&&y(r.prototype,a),i&&y(r,i),n}()}},1200:function(e,t,n){var r;!function(a,o){"use strict";var i="model",c="name",u="type",s="vendor",l="version",d="mobile",p="tablet",f="smarttv",m=h=b=function(e){return e.toLowerCase()},v=g=y=w={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},O={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,l],[/opios[\/ ]+([\w\.]+)/i],[l,[c,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[l,[c,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,l],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[c,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[l,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure Browser"],l],[/\bfocus\/([\w\.]+)/i],[l,[c,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[l,[c,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[c,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[c,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[l,[c,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 Browser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,l],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,"Facebook"],l],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[c,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,"Chrome WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,l],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[l,[c,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[l,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[l,y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[c,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",b]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",b]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",b]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[i,[s,"Samsung"],[u,p]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[i,[s,"Samsung"],[u,d]],[/\((ip(?:hone|od)[\w ]*);/i],[i,[s,"Apple"],[u,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[i,[s,"Apple"],[u,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[i,[s,"Huawei"],[u,p]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[i,[s,"Huawei"],[u,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[i,/_/g," "],[s,"Xiaomi"],[u,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[i,/_/g," "],[s,"Xiaomi"],[u,p]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[i,[s,"OPPO"],[u,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[i,[s,"Vivo"],[u,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[i,[s,"Realme"],[u,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[i,[s,"Motorola"],[u,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[i,[s,"Motorola"],[u,p]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[i,[s,"LG"],[u,p]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[i,[s,"LG"],[u,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[i,[s,"Lenovo"],[u,p]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[i,/_/g," "],[s,"Nokia"],[u,d]],[/(pixel c)\b/i],[i,[s,"Google"],[u,p]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[i,[s,"Google"],[u,d]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[i,[s,"Sony"],[u,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[i,"Xperia Tablet"],[s,"Sony"],[u,p]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[i,[s,"OnePlus"],[u,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[i,[s,"Amazon"],[u,p]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[i,/(.+)/g,"Fire Phone $1"],[s,"Amazon"],[u,d]],[/(playbook);[-\w\),; ]+(rim)/i],[i,s,[u,p]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[i,[s,"BlackBerry"],[u,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[i,[s,"ASUS"],[u,p]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[i,[s,"ASUS"],[u,d]],[/(nexus 9)/i],[i,[s,"HTC"],[u,p]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[s,[i,/_/g," "],[u,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[i,[s,"Acer"],[u,p]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[i,[s,"Meizu"],[u,d]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[i,[s,"Sharp"],[u,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[s,i,[u,d]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[s,i,[u,p]],[/(surface duo)/i],[i,[s,"Microsoft"],[u,p]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[i,[s,"Fairphone"],[u,d]],[/(u304aa)/i],[i,[s,"AT&T"],[u,d]],[/\bsie-(\w*)/i],[i,[s,"Siemens"],[u,d]],[/\b(rct\w+) b/i],[i,[s,"RCA"],[u,p]],[/\b(venue[\d ]{2,7}) b/i],[i,[s,"Dell"],[u,p]],[/\b(q(?:mv|ta)\w+) b/i],[i,[s,"Verizon"],[u,p]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[i,[s,"Barnes & Noble"],[u,p]],[/\b(tm\d{3}\w+) b/i],[i,[s,"NuVision"],[u,p]],[/\b(k88) b/i],[i,[s,"ZTE"],[u,p]],[/\b(nx\d{3}j) b/i],[i,[s,"ZTE"],[u,d]],[/\b(gen\d{3}) b.+49h/i],[i,[s,"Swiss"],[u,d]],[/\b(zur\d{3}) b/i],[i,[s,"Swiss"],[u,p]],[/\b((zeki)?tb.*\b) b/i],[i,[s,"Zeki"],[u,p]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[s,"Dragon Touch"],i,[u,p]],[/\b(ns-?\w{0,9}) b/i],[i,[s,"Insignia"],[u,p]],[/\b((nxa|next)-?\w{0,9}) b/i],[i,[s,"NextBook"],[u,p]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[s,"Voice"],i,[u,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[s,"LvTel"],i,[u,d]],[/\b(ph-1) /i],[i,[s,"Essential"],[u,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[i,[s,"Envizen"],[u,p]],[/\b(trio[-\w\. ]+) b/i],[i,[s,"MachSpeed"],[u,p]],[/\btu_(1491) b/i],[i,[s,"Rotor"],[u,p]],[/(shield[\w ]+) b/i],[i,[s,"Nvidia"],[u,p]],[/(sprint) (\w+)/i],[s,i,[u,d]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[s,"Microsoft"],[u,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[i,[s,"Zebra"],[u,p]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[i,[s,"Zebra"],[u,d]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[s,i,[u,"console"]],[/droid.+; (shield) bui/i],[i,[s,"Nvidia"],[u,"console"]],[/(playstation [345portablevi]+)/i],[i,[s,"Sony"],[u,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[i,[s,"Microsoft"],[u,"console"]],[/smart-tv.+(samsung)/i],[s,[u,f]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[s,"Samsung"],[u,f]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[s,"LG"],[u,f]],[/(apple) ?tv/i],[s,[i,"Apple TV"],[u,f]],[/crkey/i],[[i,"Chromecast"],[s,"Google"],[u,f]],[/droid.+aft(\w)( bui|\))/i],[i,[s,"Amazon"],[u,f]],[/\(dtv[\);].+(aquos)/i],[i,[s,"Sharp"],[u,f]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[s,v],[i,v],[u,f]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,f]],[/((pebble))app/i],[s,i,[u,"wearable"]],[/droid.+; (glass) \d/i],[i,[s,"Google"],[u,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[i,[s,"Zebra"],[u,"wearable"]],[/(quest( 2)?)/i],[i,[s,"Facebook"],[u,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[s,[u,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[i,[u,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[i,[u,p]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,p]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[u,d]],[/(android[-\w\. ]{0,9});.+buil/i],[i,[s,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[c,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,l],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[l,y,w]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[l,y,w]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[l,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,l],[/\(bb(10);/i],[l,[c,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[c,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[l,[c,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[c,"Chromium OS"],l],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,l],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[c,l]]},S=function e(t,n){if("object"===typeof t&&(n=t,t=void 0),!(this instanceof e))return new e(t,n).getResult();var r=t||("undefined"!==typeof a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),o=n?O,n):O;return this.getBrowser=this.getCPU=this.getDevice=this.getEngine=function(){var e={name:void 0,version:void 0};return g.call(e,r,o.engine),e},this.getOS=this.getResult=this.getUA=function(){return r},this.setUA=this.setUA(r),this};S.VERSION="0.7.31",S.BROWSER=m([c,l,"major"]),S.CPU=m(["architecture"]),S.DEVICE=m([i,s,u,"console",d,f,p,"wearable","embedded"]),S.ENGINE=S.OS=m([c,l]),"undefined"!==typeof t?("undefined"!==typeof e&&e.exports&&(t=e.exports=S),t.UAParser=S):n(91)?void 0===(r=function(){return S}.call(t,n,t,e))||(e.exports=r):"undefined"!==typeof a&&(a.UAParser=S);var E="undefined"!==typeof a&&(a.jQuery||a.Zepto);if(E&&!E.ua){var x=new S;E.ua=x.getResult(),E.ua.get=function(){return x.getUA()},E.ua.set=}("object"===typeof window?window:this)},150:151:152:function(e,t,n){"use strict";r o=n(166);function i(e){return function(){var t,n,i,c=r(e);if()){var u=r(this).constructor;t=Reflect.construct(c,arguments,u)}else t=c.apply(this,arguments);return n=this,!(i=t)||"object"!==a(i)&&"function"!==typeof i?Object(o.a)(n):i}}n.d(t,"a",function(){return i})},153:1547:function(e,t,n){"use strict";n.r(t);var r=n(36),a=n(30),o=n(220),i=n(218),c=n(228),u=n(221),s=n(2),l=n.n(s),d=n(3),p=n(150),f=n(151),m=n(153),h=n(152),b=n(0),v=n.n(b),g=n(198),y=n.n(g),w=n(5),O=n(593),S=n(164),E=n(35),x=(n(185),n(191)),k=n.n(x),j=n(1197),T=n.n(j),C=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).resendEmail=function(){},r.state={emailSent:!1},r}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.goBack,t=this.state.emailSent;return v.a.createElement("section",{className:"error-page"},v.a.createElement("img",{src:k.a,className:"error-logo",alt:"concept3d dark logo"}),v.a.createElement("h1",null,"Tour Builder"),v.a.createElement("h3",null,"This email account is unverified"),v.a.createElement("p",null,"Please verify your account to continue using Tour Builder"),v.a.createElement("img",{src:T.a,className:"tour-not-found-image",alt:"This tour is inactive"}),v.a.createElement(E.a,{className:"resend-email-btn",handleClick:this.resendEmail},t?"Email Sent!":"Resend Verification Email"),v.a.createElement("div",null,v.a.createElement(S.a,{handleClick:e},v.a.createElement(E.a,{className:"go-back-btn text-btn"},v.a.createElement("i",{className:"material-icons"},"reply"),"\xa0Go Back to Login"))),v.a.createElement("p",{className:"unverified-helplink"},"Still having trouble?\xa0",v.a.createElement("a",{href:"https://www.concept3d.com/tour-builder-starter-help/",target:"_blank",rel:"noopener noreferrer",className:"help-link"},"Contact Us.")))}}]),n}(b.PureComponent),A=n(531),I=n(407),P=function(e){var t=e.createTour,n=e.tours,r=e.permissions,a=Object(I.c)(r,n)?"disabled":"";return v.a.createElement("header",{className:"sidebar-header"},v.a.createElement("h3",null,"Tour Manager"),v.a.createElement(E.a,{className:"create-new-tour text-btn ".concat(a),name:"create new tour",handleClick:t,"data-cy":"create-new-tour-btn"},v.a.createElement("i",{className:"material-icons"},"add_circle"),"\xa0Create New Tour"))},N=_=n(224),M=n(1198),U=n.n(M),L=function(){return v.a.createElement("section",{className:"error-page"},v.a.createElement("img",{src:k.a,className:"error-logo",alt:"concept3d dark logo"}),v.a.createElement("h1",null,"Tour Builder"),v.a.createElement("h3",null,"Please go fetch your computer"),v.a.createElement("p",null,"A laptop or desktop is required to build a tour"),v.a.createElement("img",{src:U.a,className:"tour-not-found-image",alt:"Please log in on a computer"}),v.a.createElement(S.a,{href:"https://www.concept3d.com/interactive-virtual-experiences/the-platform/360-view",newTab:!0},v.a.createElement("button",{className:"go-back-btn"},"Tour Features")))},D=n(173),R=n(596),B=function(e){return v.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 71.6 71.6",className:"upgrade-icon"},v.a.createElement("defs",null),v.a.createElement("path",{className:"a",d:"M35.8,0A35.8,35.8,0,1,0,71.6,35.8,35.764,35.764,0,0,0,35.8,0Zm0,64.8a29,29,0,1,1,29-29A29.021,29.021,0,0,1,35.8,64.8Z"}),v.a.createElement("path",{className:"a",d:"M36.4,18.6a1.04,1.04,0,0,0-1.6,0L20.1,33.2a1.328,1.328,0,0,0,1,2.3h10a1.884,1.884,0,0,0-.2.8v16A1.685,1.685,0,0,0,32.6,54h6.1a1.685,1.685,0,0,0,1.7-1.7v-16a1.884,1.884,0,0,0-.2-.8h10a1.415,1.415,0,0,0,1-2.4Z"}))},V=n(597),F=n(527),z=n(1199),W=Object(w.a)(function(){return Promise.all([n.e(11),n.e(22)]).then(n.bind(null,1526))}),G=Object(w.a)(,q=Object(w.a)(,H=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).createTour=function(){var e=r.props,t=e.history,n=e.permissions,a=e.tours,o=e.populateSnackBar;if(Object(I.c)(n,a))o({showSnackBar:!0,message:"Please upgrade your plan to create more tours.",clearDelay:5e3});else{var i=y.a.generate();t.push("/home/newtour/".concat(i,"/general"))}},r.getFirstStopCoords=function(){var e=r.props,t=e.tours,n=e.stops,a=Object.keys(t),o=r.getStopTotal(a);return a.length>0&&a.reduce(function(e,r){var a,i=null===(a=t[r])||void 0===a?void 0:a.stopIds[0],c=n[i];if(!o||!c){var u=D.a.getCenter(),s=u.lng,l=u.lat;l&&s&&e.push([s,l])}if(c){var d=c.lng,p=c.lat;p&&d&&e.push([d,p])}return e},[])},r.getStopTotal=function(e){var t=r.props.tours;return e.reduce(function(e,n){return t[n].stopIds.length&&e++,e},0)},r.renderTourCards=function(){var e=r.props,t=e.tours,n=e.history,a=e.location,o=Object.keys(t).map(function(e){return t[e]}),i=Object(V.a)(o,"name");return i.length&&i.map(function(e,t){return v.a.createElement(q,{history:n,location:a,name:e.name,description:e.description,key:e.id,id:e.id,index:t,firstStopId:e.stopIds[0]})})},r.state={shrinkSidebar:!1,growSidebar:!1,firstTimeUser:!Object(R.a)("_viewedCMS",!0),emailUnverified:!1},r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark(function e(){var t,n,r,a,o,i,c,u,s,p;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.handleUserDataEvent,r=t.keycloak,a=t.history,o=r.tokenParsed,i=o.email,c=o.groups,u=o.sub,s=c.filter(,!z.isMobile&&s.length>1&&"true"!==localStorage.getItem("selectedAccount")&&(localStorage.setItem("selectedAccount","true"),a.push("/home/accounts")),p=function(){a.push("/home/privacy")},!(s.length<1)){e.next=9;break}a.push({pathname:"/tos/concept3d",state:{hasC3DAccount:!0,email:i}}),e.next=18;break;case 9:return e.prev=9,e.next=12,n(u,p);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),console.log(e.t0),a.push("/error/acountnotfound");case 18:window.addEventListener("beforeunload",function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)();case 2:t.returnValue=void 0;case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 19:case"end":return e.stop()}},e,this,[[9,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=e.location.pathname,r=this.props,a=r.history,o=r.tours,i=r.location.pathname,c=r.userCredentials.privacyPolicy,u=r.stops,s=Object.keys(o);if("boolean"!==typeof c||n===i||c||a.push("/home/privacy"),Boolean(s.length)&&"/home"===i&&Object.keys(u).length>0){var l=this.getFirstStopCoords(),d=D.a.getMap();if(l.find(function(e){return"object"===typeof e})){var p=D.a.setNewMapBounds(l);d&&(d.resize(),d.fitBounds(p,{padding:75}))}else d&&d.panTo(l,{zoom:10})}}},{key:"render",value:function(){var e=this.props,t=e.keycloak,n=e.location,r=e.tours,a=e.stops,o=e.history,i=e.showSnackBar,c=e.snackBarMessage,u=e.permissions,s=e.accountStatus,l=e.mapToken,d=this.state.emailUnverified,p="active"===s||"pursuit"===s||"sample"===s;if(z.isMobile)return v.a.createElement(L,null);var f=Object.keys(r),m=n.pathname.includes("/view")?null:v.a.createElement(A.a,{key:"map-wrapper",addControls:{nav:{show:!0,pos:"top-right"},layers:{show:!0,pos:"top-right"},geolocate:{show:!0,pos:"top-right"},geocoder:{show:!0,pos:"top-left"}},tours:r,stops:a,path:n.pathname,mapToken:l&&l.trim(),mapStyle:"streets"});if(d)return v.a.createElement(v.a.Fragment,null,v.a.createElement(W,{auth:t,history:o,location:n}),v.a.createElement(C,{goBack:t.logout}));if(!p)return v.a.createElement(v.a.Fragment,null,v.a.createElement(W,{auth:t,history:o,location:n}),v.a.createElement(O.a,{goBack:t.logout}));var h=Boolean(f.length);return v.a.createElement(v.a.Fragment,null,v.a.createElement(W,{auth:t,history:o,location:n}),!n.pathname.includes("forms")&&m,"/home"===n.pathname&&v.a.createElement(G,{route:"home"},v.a.createElement(P,{createTour:this.createTour,tours:r,permissions:u}),v.a.createElement("section",{className:"tours-list"},h?this.renderTourCards():v.a.createElement(N,null))),v.a.createElement(_.default,{position:"bottomCenter",bottomCenter:{bottom:0,left:0,right:0,marginLeft:"auto",marginRight:"auto"},inProp:i,className:"upgrade-subscription"},v.a.createElement("p",null,c),v.a.createElement(E.a,{name:"Foundation",handleClick:className:"plan-btn"},v.a.createElement(B,null),"\xa0 UPGRADE PLAN")))}}]),n}(b.Component);t.default=Object(r.c)(function(e){return{userCredentials:e.userCredentials,accountStatus:e.account.status,tours:e.tours.tours,stops:e.stops.stops,guardRails:Object(u.a)(e),showSnackBar:e.snackBar.showSnackBar,snackBarMessage:e.snackBar.message,permissions:e.account.permissions,mapToken:e.account.mapboxToken,tourAccountId:e.account.tourAccountId}},(H)},155:function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"h",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"n",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"m",function(){return u}),n.d(t,"i",function(){return s}),n.d(t,"o",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"g",function(){return h}),n.d(t,"l",function(){return b}),n.d(t,"c",function(){return v});var r="panos",a="images",o="icons",i="videos",c="audio",u="text",s="logo",l="videos360",d="https://s3-us-west-2.amazonaws.com/images-mb01-resized/SJvNC13nz/index.html",p=20,f={manageTours:"manageTours",manageUsers:"manageUsers",deleteAccount:"deleteAccount",publishTours:"publishTours"},m="https://res.cloudinary.com/concept3d/video/upload/vc_auto/audio_files/",h="us-west-2:8d221ae4-c54f-4155-9f62-af5b0015bc0a",b="xplorertourmedia",v="https://res.cloudinary.com/concept3d"},157:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u});var r,a=n(232),o=n(6),i=function(e,t,n){r?a.a.event({category:e,action:t,label:n},["client"]):a.a.event({category:e,action:t,label:n})},c=function(e){r?a.a.pageview(e,["client"]):a.a.pageview(e)},u=function(e,t,n){e?(r=e,a.a.initialize([{trackingId:o.a.defaultGaAccount,gaOptions:{cookieFlags:"secure;samesite=none"},titleCase:!1},{trackingId:r,gaOptions:{name:"client",cookieFlags:"secure;samesite=none"},titleCase:!1}])):a.a.initialize([{trackingId:o.a.defaultGaAccount,gaOptions:{cookieFlags:"secure;samesite=none"},titleCase:!1}]),a.a.set({dimension1:t,dimension2:n}),c(window.location.pathname),a.a.set({anonymizeIp:!0})}},158:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(3),i=n(6),c=n(7),u=n(25),s=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.aid,r=void 0===n?localStorage.getItem("aid"):n,o=Object(c.a)(),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/tours"),{headers:o,credentials:"include"});case 5:return s=e.sent,e.next=8,Object(u.a)(s);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),r=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/tours/").concat(t),{headers:n,credentials:"include"});case 5:return o=e.sent,e.next=8,Object(u.a)(o);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),r=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/tours"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"});case 5:return o=e.sent,e.next=8,Object(u.a)(o);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),r=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/tours/").concat(t.id),{method:"PUT",headers:n,body:JSON.stringify(t),credentials:"include"});case 5:return o=e.sent,e.next=8,Object(u.a)(o);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),r=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/tours/").concat(t),{method:"DELETE",headers:n,credentials:"include"});case 5:return o=e.sent,e.next=8,Object(u.a)(o);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(a.a.mark(function e(t,n){var r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)(),o=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(o,"/tours/").concat(t,"/stops"),{method:"DELETE",headers:r,body:JSON.stringify(n),credentials:"include"});case 5:return s=e.sent,e.next=8,Object(u.a)(s);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("aid"),r=Object(c.a)(),e.next=4,fetch("".concat(i.a.tourAPI,"/v2/").concat(n,"/tours/").concat(t,"/unpublish"),{method:"POST",headers:r,credentials:"include"});case 4:return o=e.sent,e.next=7,Object(u.a)(o);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=n(36),v=n(174);n.d(t,"e",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return w}),n.d(t,"m",function(){return O}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return E}),n.d(t,"g",function(){return x}),n.d(t,"l",function(){return k}),n.d(t,"h",function(){return T}),n.d(t,"k",function(){return A}),n.d(t,"i",function(){return I}),n.d(t,"j",function(){return P}),n.d(t,"a",function(){return N});var g=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(A()),n.prev=1,t&&r(j()),n.next=5,s({aid:e});case 5:n.sent.forEach(,r(I()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r(P(n.t0.message||"Something went wrong fetching tours."));case 13:case"end":return n.stop()}},n,null,[[1,10]])}));return function(e,t){return n.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){var o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(A()),t.prev=1,t.next=4,l(e);case 4:o=t.sent,n(T(o)),n(I()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(P(t.t0.message||"Something went wrong fetching the tour."));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e,n){return t.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(A()),n.prev=1,n.next=4,d(e);case 4:i=n.sent,Object(b.b)(function(){r(T(i)),r(I())}),"function"===typeof t&&t(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(P(n.t0.message||"Something went wrong saving the tour."));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e,t){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){var o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(A()),t.prev=1,t.next=4,p(e);case 4:o=t.sent,Object(b.b)(function(){n(T(o)),n(I())}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(P(t.t0.message||"Something went wrong saving the tour."));case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e,n){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(A()),t.prev=1,t.next=4,f(e);case 4:n(C(e)),n(I()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(P(t.t0.message||"Something went wrong deleting the tour."));case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e,n){return t.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(A()),n.prev=1,n.next=4,m(e,t);case 4:i=n.sent,Object(b.b)(function(){r(T(i)),r(I())}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(P(n.t0.message||"Something went wrong deleting stops."));case 11:case"end":return n.stop()}},n,null,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){var i,c,u,s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h(e);case 3:i=n.sent,c=i.tour,u=i.stops,s=void 0===u?[]:u,r(T(c)),s.forEach(,n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0),r(P(n.t0.message||"Something went wrong reverting the tour."));case 15:return n.prev=15,"function"===typeof t&&t(),n.finish(15);case 18:case"end":return n.stop()}},n,null,[[0,11,15,18]])}));return function(e,t){return n.apply(this,arguments)}}()},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ,j=function(){return{type:"CLEAR_TOURS"}},T=function(e){return{type:"SAVE_TOUR",tour:e}},C=function(e){return{type:"DELETE_TOUR",tourId:e}},A=function(){return{type:"TOURS_STATUS",status:"saving",errorMessage:""}},I=function(){return{type:"TOURS_STATUS",status:"ok",errorMessage:""}},P=function(e){return{type:"TOURS_STATUS",status:"error",errorMessage:e}},N=function(e,t){return{type:"ADD_STOP_TO_TOUR",tourId:e,stopId:t}}},162:function(e,t,n){"use strict";var r=n(1),a=n(37),o=n(2),i=n.n(o),c=n(3),u=n(198),s=n.n(u),l=n(36);var d=function(e){if(e.type.indexOf("audio/")>=0)return".mp3";var t=e.type.lastIndexOf("/")+1;return".".concat(e.type.substr(t))},p=n(155),f=n(181),m=n(170),h=n(6),b=n(266),v=n(256);b.config.region="us-west-2",b.config.credentials=new b.CognitoIdentityCredentials({IdentityPoolId:p.g});var g=function(e){var t=e.id,n=void 0===t?"":t,r=e.file,a=void 0===r?{}:r,o=e.mediaType,i=void 0===o?"":o,c=e.useEnv,u=void 0!==c&&c,s=e._bucket,l=void 0===s?"":s,d=localStorage.getItem("aid"),f=l||p.l,m=u?"".concat("360tours","/").concat(h.a.apiENV,"/").concat(d,"/").concat(i):i;return{Bucket:"".concat(f,"/").concat(m),Key:"".concat(n),Body:a,ContentType:"".concat(a.type)}},y=function(){var e=Object(c.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new v,e.abrupt("return",new Promise(function(e,r){n.upload(t,}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=n(158);n.d(t,"b",function(){return O}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return x}),n.d(t,"a",function(){return k}),n.d(t,"h",function(){return j}),n.d(t,"i",function(){return A}),n.d(t,"j",function(){return I}),n.d(t,"d",function(){return L}),n.d(t,"c",function(){return Z}),n.d(t,"e",function(){return X});var O=function(e){return function(){var t=Object(c.a)(i.a.mark(function t(n,r){var a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(P()),t.prev=1,a=localStorage.getItem("aid"),t.next=5,Object(f.b)(a,e);case 5:o=t.sent,Object(l.b)(function(){n(L(o)),n(_())}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(N(t.t0));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e,n){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.c)(e);case 3:r=t.sent,Object(l.b)(function(){n(M(e.type,r[e.type])),n(q())}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),n(H(t.t0));case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.g)(e);case 3:r=t.sent,n(U(e.type,r[e.type][e.id])),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(H(t.t0));case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(i.a.mark(function t(n){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.h)(e);case 3:r=t.sent,n(R(r[e.id])),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(H(t.t0));case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(c.a)(i.a.mark(function n(r){var a,o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Object(l.b)(,n.prev=1,a=localStorage.getItem("aid"),o={aid:a,id:e,type:t},n.next=6,Object(f.a)(o);case 6:Object(l.b)(function(){r(G()),r(O(!0))}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(J(n.t0));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()},j=function(e){var t=e.file,n=e.mediaType,r=e.name,a=e.description,o=e.alt,u=e.transcript,f=e.componentCB,m=e.permissions;return function(){var e=Object(c.a)(i.a.mark(function e(c){var h,b,v,w,O,E,x;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(B()),h=s()()+d(t),n===p.j&&(v=window.URL||window.webkitURL,(w=new Image).onload=function(){b=this.width/this.height},w.src=v.createObjectURL(t)),c(V()),O=g({id:h,file:t,mediaType:n,useEnv:n===p.f}),e.next=7,y(O);case 7:E=e.sent,x={permissions:m,aid:localStorage.getItem("aid"),id:h,name:r,description:a,alt:o,transcript:u,ratio:b,type:n,url:n===p.j?E.Location:t.name},t&&(c(F()),n===p.j?T(x,c,f):(Object(l.b)(function(){c(z()),c(S(x))}),"function"===typeof f&&f(h)));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},T=function(e,t,n){Object(f.f)(e).then(function(r){if(r.Error)t(H({message:"ERROR DURING UPLOAD"})),console.error(r.Error,"ERROR DURING UPLOAD");else{var a=JSON.parse(r.Payload),o={aid:e.aid,id:e.id,ratio:e.ratio,src:decodeURIComponent(e.url),url:a+"index.html",name:e.name||null,description:e.description||null,alt:e.alt||null};Object(l.b)(function(){var e;t(z()),t((e=o,function(){var t=Object(c.a)(i.a.mark(function t(n){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.d)(e);case 3:r=t.sent,a=r.Attributes,Object(l.b)(function(){n(D(a.panos)),n(q())}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(H(t.t0));case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()))}),"function"===typeof n&&n(e.id)}})},C=function(e){return function(){var t=Object(c.a)(i.a.mark(function t(n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(w.k)()),t.next=3,Object(m.d)(e).then(function(e){var t=e.tourId,r=e.tourStyles;Object(l.b)(function(){n(Object(w.h)({id:t,styles:r,uptoDate:!1})),n(q()),n(Object(w.i)())})}).catch(function(e){return console.error(e)});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=function(e){var t=e.tourId,n=e.primaryColor,o=e.logoId,u=e.logoURL,p=e.logoToUpload,f=e.faviconId,m=e.faviconToUpload,h=e.hotspotIcons,b=e.hotspotIconsToUpload,v=e.buttonStyles,O=e.uptoDate,S=e.permissions,E=e.componentCB;return function(){var e=Object(c.a)(i.a.mark(function e(x){var k,j,T,A,I,P,N;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x(Object(w.k)()),!(p||m||b.length>0)){e.next=13;break}return k=[p,m].concat(Object(a.a)(b)).filter(,j={aid:localStorage.getItem("aid"),id:t,uptoDate:O,permissions:S},T={logoURL:u,primaryColor:n,buttonStyles:v},x(B()),A=o,I=f,P=Object(r.a)({},h),e.next=11,Promise.all(k.map(function(){var e=Object(c.a)(i.a.mark(function e(t){var n,a,o,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s()()+d(t),x(V()),a="icons"===t.fileType,o=g({id:n,file:t,mediaType:a?"icons":"images",useEnv:a}),e.next=6,y(o);case 6:c=e.sent,A="logo"===t.fileType?n:A,I="favicon"===t.fileType?n:I,u=Object(r.a)(Object(r.a)({},"logo"===t.fileType?{logoId:n}:{logoId:A}),"favicon"===t.fileType?{faviconId:n}:{faviconId:I}),a&&(P[t.hotspotType]={id:n,path:c.key}),T=Object(r.a)(Object(r.a)(Object(r.a)({},T),u),{},{hotspotIcons:P}),"function"===typeof E&&E(n,t.fileType,t.hotspotType);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(){Object(l.b)(function(){x(F()),x(z()),x(C(Object(r.a)(Object(r.a)({},j),{styles:T})))})});case 11:e.next=15;break;case 13:N={aid:localStorage.getItem("aid"),id:t,styles:{primaryColor:n,logoId:o,logoURL:u,faviconId:f,buttonStyles:v},uptoDate:O,permissions:S,hotspotIcons:h},x(C(N));case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},I=function(e){var t=e.id,n=void 0===t?s()():t,r=e.mediaType,a=void 0===r?"videos":r,o=e.url,i=e.name,c=e.description;return function(e,t){var r=t().account;e(B());var u={aid:localStorage.getItem("aid"),id:n,name:i,description:c,type:a,url:o,permissions:r.permissions};Object(l.b)(function(){e(F()),e(z()),e(S(u))})}},P=function(){return{type:"MEDIA_FETCHING"}},N=function(e){return{type:"MEDIA_FETCH_ERROR",error:e}},_=function(){return{type:"MEDIA_FETCH_SUCCESS"}},M=function(e,t){return{type:"SAVE_ACCOUNT_MEDIA",mediaType:e,media:t}},U=L=D=function(e){return{type:"SAVE_ACCOUNT_PANO",panos:e}},R=function(e){return{type:"UPDATE_ACCOUNT_PANO",pano:e}},B=function(){return{type:"START_MEDIA_UPLOAD"}},V=function(){return{type:"START_RAW_UPLOAD"}},F=function(){return{type:"START_MEDIA_BUILD"}},z=function(){return{type:"START_MEDIA_SAVE"}},W=function(){return{type:"MEDIA_DELETING"}},G=function(){return{type:"MEDIA_DELETED"}},q=function(){return{type:"MEDIA_UPLOAD_COMPLETE"}},H=function(e){return{type:"MEDIA_UPLOAD_FAILED",error:e}},J=function(){return{type:"MEDIA_DELETE_FAILED"}},Z=function(){return{type:"MEDIA_FAIL_RESET"}},X=function(e){return{type:"TOGGLE_MAIN_MEDIA_STATUS",isMainMediaPlaying:e}}},164:function(e,t,n){"use strict";var r=n(12),a=n(0),o=n.n(a),i=["handleClick","newTab","children"];t.a=function(e){var t=e.handleClick,n=e.newTab,a=e.children,c=Object(r.a)(e,i);return o.a.createElement("a",Object.assign({onClick:t,target:n?"_blank":null,rel:n?"noopener noreferrer":null},c),a)}},166:170:function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"f",function(){return h});var r=n(2),a=n.n(r),o=n(3),i=n(4),c=n(6),u=n(7),s=n(25),l=function(e){var t=Object(u.a)();return fetch("".concat(c.a.tourAPI,"/tours"),{method:"POST",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},d=function(e){var t=Object(u.a)();return fetch("".concat(c.a.tourAPI,"/tours"),{method:"DELETE",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},p=function(e){var t=Object(u.a)();return fetch("".concat(c.a.tourAPI,"/tourstyles"),{method:"POST",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},f=function(e){var t={aid:e.aid,id:e.id,tourData:Object(i.a)({},e.id,e.tourData),published:e.published,uptoDate:e.uptoDate,tier:e.tier,gaId:e.gaId,mapboxToken:e.mapboxToken},n=Object(u.a)();return fetch("".concat(c.a.tourAPI,"/publishtour"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},m=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.a)(),e.next=3,fetch("".concat(c.a.tourAPI,"/publishtour/").concat(t),{headers:n});case 3:return r=e.sent,Object(s.b)(r),e.abrupt("return",Object(s.a)(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(a.a.mark(function e(t,n){var r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t,tier:n},o=Object(u.a)(),e.abrupt("return",fetch("".concat(c.a.tourAPI,"/publishtour/newTier/"),{method:"POST",headers:o,body:JSON.stringify(r),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}));case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},172:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={panos:"Panorama",images:"Image",videos:"Video",audio:"Audio",videos360:"360\xba Video",logo:"Logo"}[e];return t?n.toLowerCase():n}},173:function(e,t,n){"use strict";var r=n(257),a=n.n(r),o=n(258),i=n.n(o),c=n(31),u=n.n(c),s=n(150),l=n(151),d=n(157),p=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.publicTour,a=n.currentTour;Object(s.a)(this,e),this.setDefaultStyle=function(){var e=document.querySelector(".map-tile-selector.selected");return e?e.innerHTML.toLowerCase():t.currentTour.tourMapStyle},this.publicTour=r,this.currentTour=a,this.layerBtn=null,this.tooltip=null}return Object(l.a)(e,[{key:"onAdd",value:function(e){var t=this;return this.container=document.createElement("div"),this.container.innerHTML='<button class="mapboxgl-ctrl-icon mapboxgl-ctrl-layer"><i class="material-icons">layers</i></button>',this.container.addEventListener("click",,this.container.addEventListener("mouseenter",function(){return t.mouseIn()}),this.container.addEventListener("mouseleave",function(){return t.mouseOut()}),this.container.className="mapboxgl-ctrl mapboxgl-ctrl-group",this.container}},{key:"mouseIn",value:function(){this.layerBtn=document.querySelector(".mapboxgl-ctrl-layer"),this.tooltip=document.createElement("span"),this.tooltip.className="tooltip map-layers",this.tooltip.innerHTML="Map Layers",this.layerBtn.appendChild(this.tooltip)}},{key:"mouseOut",value:,{key:"toggleStyle",value:function(e){var t=e.getStyle().name;if(this.currentTour){var n=this.currentTour,r=n.id,a=n.mapRenderingUrl,o="Mapbox Satellite Streets"!==t?"satellite-streets":this.setDefaultStyle();b.updateMapStyle(o,r,a)}else{var i="Mapbox Streets"===t?"satellite-streets":"streets";b.updateMapStyle(i)}this.publicTour&&this.sendAnlytics(t)}},{key:"sendAnlytics",value:function(e){Object(d.a)("".concat(this.currentTour.id,"-").concat(this.currentTour.name),"Map type switch",e)}},{key:"onRemove",value:function(){this.container.parentNode.removeChild(this.container),this.container.removeEventListener("click",this.toggleStyle),this.container.removeEventListener("mouseenter",this.mouseIn),this.container.removeEventListener("mouseleave",this.mouseOut),this.map=void 0}}]),e}(),f={"Mapbox Streets":"streets","Mapbox Satellite Streets":"satellite-streets","Mapbox Light":"light","Mapbox Dark":"dark",Scenic:"scenic"},m=n(223),h={displayedMap:null,geocoderCtrl:null,navigationCtrl:null,geolocateCtrl:null,layerCtrl:null,renderMap:function(e,t){var n=e.container,r=e.mapControls,o=e.analytics,i=e.mapStyle,c=e.mapRendering,u=e.tourId,s=e.mapToken;a.a.accessToken=s,this.displayedMap=new a.a.Map({container:n,style:this.buildMapStyle(i),center:[-98.55562,39.809734],zoom:4}).on("error",function(e){var n=e.error;console.log("c3dgl error",n.message),!window.Cypress&&t(n)}),this.displayedMap.addControl(new a.a.AttributionControl,"bottom-left"),r&&this.addMapControls(r,o),c&&this.reAddRasterLayer(u,c)},addMapControls:function(e,t){var n=this,r=e.nav,o=e.layers,c=e.geolocate,u=e.geocoder;this.geocoderCtrl=new i.a({accessToken:a.a.accessToken,placeholder:"Search for a location"}),this.navigationCtrl=new a.a.NavigationControl,this.layerCtrl=new p(t),this.geolocateCtrl=new a.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),r.show&&this.setNavToolTips(this.navigationCtrl,r.pos),o.show&&this.displayedMap.addControl(this.layerCtrl,o.pos),c.show&&this.setGeoToolTip(this.geolocateCtrl,c.pos),u.show&&this.displayedMap.addControl(this.geocoderCtrl,u.pos),this.displayedMap.on("load",function(){return n.updateGeocoderProximity()}),this.displayedMap.on("moveend",},removeMapControls:updateLayerControls:function(e){var t=e.publicTour,n=e.currentTour;this.layerCtrl&&(this.layerCtrl.currentTour=n,this.layerCtrl.publicTour=t)},updateGeocoderProximity:function(){if(this.displayedMap.getZoom()>8.5){var e=this.displayedMap.getCenter().wrap();this.geocoderCtrl.setProximity({longitude:e.lng,latitude:e.lat})}else this.geocoderCtrl.setProximity(null)},setNavToolTips:function(e,t){this.displayedMap.addControl(e,t),[{selector:".mapboxgl-ctrl-zoom-in",name:"Zoom In",className:"zoom-in"},{selector:".mapboxgl-ctrl-zoom-out",name:"Zoom Out",className:"zoom-out"},{selector:".mapboxgl-ctrl-compass",name:"Rotate View",className:"rotate"}].forEach(function(e){var t=e.selector,n=e.name,r=e.className,a=document.querySelector(t),o=document.createElement("span");o.className="tooltip ".concat(r),o.innerHTML=n,a.addEventListener("mouseenter",function(){a.appendChild(o)}),a.addEventListener("mouseleave",function(){a.removeChild(o)})}),this.setAriaZoomLabels(),this.displayedMap.on("zoomend",this.setAriaZoomLabels.bind(this))},setAriaZoomLabels:function(){var e=document.querySelector(".mapboxgl-ctrl-zoom-in"),t=document.querySelector(".mapboxgl-ctrl-zoom-out");if(e&&t){var n=Math.floor(this.displayedMap.getZoom());e.ariaLabel="Zoom in, current zoom level ".concat(n),t.ariaLabel="Zoom out, current zoom level ".concat(n)}},setGeoToolTip:function(e,t){this.displayedMap.addControl(e,t);var n=e._container,r=document.createElement("span");r.className="tooltip geolocate",r.innerHTML="Your Location",n.addEventListener("mouseenter",function(){n.appendChild(r)}),n.addEventListener("mouseleave",},getMap:getContainer:function(){return this.displayedMap.getContainer()},getCenter:setNewMapBounds:function(e){return e.reduce(new a.a.LngLatBounds(e[0],e[0]))},createMarker:function(e,t){var n=this,r=e.markerCoords,o=e.className,i=e.order,c=e.panoId,u=e.stopName,s=e.changeStop,l=e.draggable,d=e.tourName,p=document.createElement("div");p.className=o,p.style.backgroundImage=c?"url('https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/numbered_tour_icons/number_".concat(i+1,".png')"):"url('https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/icon.png')";var f=new a.a.Marker(p,{offset:[0,-17.5]}).setLngLat(r).addTo(this.displayedMap);p.addEventListener("click",function(){h.remove(),!l&&n.displayedMap.panTo(r),"function"===typeof s&&s({stopNum:i,stopName:u,origin:"Map Marker - Change Stop"}),"function"===typeof t&&t()});var m={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,50],"bottom-left":[10,-20],"bottom-right":[-10,-20],left:[20,30],right:[-20,30]},h=new a.a.Popup({closeButton:!1,closeOnClick:!1,offset:m});return p.addEventListener("mouseenter",function(){p.classList.add("enlarge"),d&&h.setLngLat(r).setHTML("<p>".concat(d,"</p>")).addTo(n.displayedMap),d&&h._content.classList.add("tour-tooltip"),d&&h._container.classList.add("tour-tooltip")}),p.addEventListener("mouseleave",,f},deleteMarker:createMarkerWithPopup:function(e,t,n){var r=this,o=e.markerCoords,i=e.className,c=e.order,s=e.draggable,l=e.stopName,d=e.changeStop,p=document.createElement("div");p.className=i,p.style.backgroundImage="url('https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/numbered_tour_icons/number_".concat(c+1,".png')"),p.setAttribute("data-order",c+1);var f=new a.a.Marker(p,{offset:[0,-15]}).setLngLat(o).addTo(this.displayedMap);return s||(f.setPopup(new a.a.Popup({offset:25}).setHTML("")),f.getPopup()._listeners||f.getPopup().on("close",function(){u.a.unmountComponentAtNode(f.getPopup()._content),p.classList.remove("enlarge")}),p.addEventListener("click",function(){r.displayedMap.panTo(o,{zoom:15}),"function"===typeof d&&d({stopNum:c,stopName:l,origin:"Map Marker - Change Stop"})}),p.addEventListener("mouseenter",function(){p.classList.add("enlarge"),f.getPopup().isOpen()||(f.getPopup().addTo(r.displayedMap),u.a.render(t,f.getPopup()._content),f.getPopup()._container.addEventListener("mouseleave",function(e){var t=e.relatedTarget&&e.relatedTarget.getAttribute("class");null!==t&&t.includes("c3dgl-marker")||f.getPopup().remove()}),"function"===typeof n&&n({stopNum:c,stopName:l,origin:"Open Popup"}))}),p.addEventListener("mouseleave",function(e){if(f.getPopup().isOpen()){var t=e.relatedTarget&&e.relatedTarget.getAttribute("class");null!==t&&t.includes("popup")||f.getPopup().remove()}})),f},createRadarMarker:function(e){var t=e.lng,n=e.lat,r=document.createElement("div");return r.className="tour-stop-marker-fixed c3dgl-marker enlarge",r.style.backgroundImage='url("https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/radar.png")',new a.a.Marker(r).setLngLat([t,n]).addTo(this.displayedMap)},rotateRadarMarker:function(e,t,n){var r=e._element.style,a=Object(m.b)(r.transform,t,n);return r.transform=a,this.displayedMap.on("move",function(){r.transform=Object(m.b)(r.transform,t,n)}),this.displayedMap.on("moveend",function(){r.transform=Object(m.b)(r.transform,t,n)}),e},updateMarkerNumber:function(e,t){return e._element.style.backgroundImage='url("https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/numbered_tour_icons/number_'.concat(t+1,'.png")'),e},updateMarkerImage:function(e,t,n){e._element.classList.add("enlarge");var r=e._element.style,a='url("https://s3.us-east-2.amazonaws.com/c3dtourbuilderx/media/radar.png")',o=r.backgroundImage!==a?a:r.backgroundImage;return r.backgroundImage=o,r.transform=Object(m.b)(r.transform,t,n),e},makeMarkerDraggable:function(e,t,n){e.setDraggable(!0),t&&e.on("dragstart",t),n&&e.on("dragend",n)},setMarkerLocation:function(e,t,n){var r=new a.a.LngLat(n,t);e.setLngLat(r)},disableMarkerDragging:getMapStyle:function(){var e;if(null===(e=this.displayedMap)||void 0===e?void 0:e.isStyleLoaded())return this.displayedMap.getStyle().name},updateMapStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.getMapStyle();if(this.displayedMap&&f[r]!==e){var a=this.buildMapStyle(e);return this.displayedMap.setStyle(a),t&&n&&this.reAddRasterLayer(t,n)}if("streets"===e&&"streets"===f[r])return t&&n&&this.addRasterLayer(t,n)},buildMapStyle:function(e){return"streets"===e?"https://tileserver.concept3d.com/styles/klokantech-basic/style.json":"mapbox://styles/mapbox/".concat("scenic"===e?"cj8gg22et19ot2rnz65958fkn":"".concat(e,"-v9"))},reAddRasterLayer:addRasterLayer:function(e,t,n){if("function"===typeof n&&n(),window.Cypress)return!1;var r=this.displayedMap.getSource(e),a=this.displayedMap.getLayer(e);r||a||this.displayedMap.addLayer({id:e,type:"raster",source:{type:"raster",tileSize:256,scheme:"tms",tiles:[t]},"source-layer":e})},removeLayer:function(e){var t=this.displayedMap.getSource(e),n=this.displayedMap.getLayer(e);t&&n&&(this.displayedMap.removeLayer(e),this.displayedMap.removeSource(e))},drawMapPolygon:function(e){var t=this.displayedMap.getSource("route");t?t.setData({type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e}}):this.displayedMap.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":6}})},panTo:function(e,t,n){e&&t&&(n=n||this.displayedMap.getZoom(),this.displayedMap.panTo(new a.a.LngLat(t,e),{zoom:n}))}},b=t.a=h},174:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(3),i=n(6),c=n(7),u=n(25),s=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),r=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/tours/").concat(t,"/stops"),{headers:n,credentials:"include"});case 5:return o=e.sent,e.next=8,Object(u.a)(o);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),r=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/stops/").concat(t),{headers:n,credentials:"include"});case 5:return o=e.sent,e.next=8,Object(u.a)(o);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),r=localStorage.getItem("aid"),e.prev=2,e.next=5,fetch("".concat(i.a.tourAPI,"/v2/").concat(r,"/stops"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"});case 5:return o=e.sent,e.next=8,Object(u.a)(o);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(a.a.mark(function e(t,n){var r,o,s,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)(),o=localStorage.getItem("aid"),s=n?"?tourId=".concat(n):"",e.prev=3,e.next=6,fetch("".concat(i.a.tourAPI,"/v2/").concat(o,"/stops/").concat(t.id).concat(s),{method:"PUT",headers:r,body:JSON.stringify(t),credentials:"include"});case 6:return l=e.sent,e.next=9,Object(u.a)(l);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(3),e.t0;case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,n){return e.apply(this,arguments)}}(),f=n(36),m=n(158);n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return O});var h=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,s(e);case 4:t.sent.forEach(function(e){n(y(e))}),n(O()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(S(t.t0.message||"Something went wrong fetching stops."));case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e,n){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){var o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,l(e);case 4:o=t.sent,Object(f.b)(,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(S(t.t0.message||"Something went wrong fetching the stop."));case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e,n){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){var i,c,u;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(w()),n.prev=1,n.next=4,d(e);case 4:i=n.sent,c=i.stop,u=i.tourId,Object(f.b)(function(){r(y(c)),r(Object(m.a)(u,c.id)),r(Object(m.l)(u,!1)),r(O())}),"function"===typeof t&&t(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r(S(n.t0.message||"Something went wrong saving the stop."));case 14:case"end":return n.stop()}},n,null,[[1,11]])}));return function(e,t){return n.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(w()),n.prev=1,n.next=4,p(e,t);case 4:i=n.sent,Object(f.b)(function(){r(y(i)),r(Object(m.l)(t),!1),r(O())}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r(S(n.t0.message||"Something went wrong saving the stop."));case 11:case"end":return n.stop()}},n,null,[[1,8]])}));return function(e,t){return n.apply(this,arguments)}}()},y=function(e){return{type:"SAVE_STOP",stop:e}},w=function(){return{type:"STOPS_STATUS",status:"saving",errorMessage:""}},O=S=,181:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"e",function(){return f});var r=n(6),a=n(7),o=n(172),i=function(e,t){var n=Object(a.a)(),o=t?"?tour_data=true":"";return fetch("".concat(r.a.tourAPI,"/media/").concat(e).concat(o),{method:"GET",headers:n,credentials:"include"}).then(function(e){if(200!==e.status)throw{message:"Error Fetching Media Data"};return e.json()}).then(function(e){return e})},c=function(e){var t=Object(a.a)(),n=Object(o.a)(e.type);return fetch("".concat(r.a.tourAPI,"/media"),{method:"POST",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){if(200!==e.status)throw{message:"".concat(n," failed to upload. ").concat("Video"===n?"Check that the URL is correct and try again.":"Please try again."),status:e.status};return e.json()}).then(function(e){return e})},u=function(e){var t=Object(a.a)();return fetch("".concat(r.a.tourAPI,"/media"),{method:"PATCH",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},s=function(e){var t=Object(a.a)();return fetch("".concat(r.a.tourAPI,"/panos"),{method:"POST",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},l=function(e){var t=Object(a.a)();return fetch("".concat(r.a.accountsAPI,"/buildpano"),{method:"POST",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},d=function(e){var t=Object(a.a)();return fetch("".concat(r.a.tourAPI,"/panos"),{method:"PATCH",headers:t,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e})},p=function(e){var t=e.aid,n=e.id,o=e.type,i=Object(a.a)();return fetch("".concat(r.a.tourAPI,"/media/").concat(t,"/assets/").concat(n),{method:"DELETE",headers:i,body:JSON.stringify({type:o}),credentials:"include"}).then(function(e){return e}).then(function(e){return e.status}).catch(function(e){return console.log("ERROR DELETING MEDIA",e)})},f=function(e,t,n){var o=Object(a.a)();return fetch("".concat(r.a.tourAPI,"/media/").concat(e,"?type=").concat(t,"&search=").concat(n,"&tour_data=true"),{method:"GET",headers:o,credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(}},182:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return h});var r=n(2),a=n.n(r),o=n(3),i=n(23),c=n(6),u=n(7),s=n(28),l=n(25),d=function(e){var t=Object(u.a)();return fetch("".concat(c.a.tourAPI,"/accounts/").concat(encodeURIComponent(e)),{headers:t,credentials:"include"}).then(.then(function(e){return e})},p=function(e){var t=e.accountId,n=e.userId,r=e.packageQuantity,a=e.newTier,o=e.accountName,s=Object(u.a)();return fetch("".concat(c.a.accountsAPI,"/api/admin/accounts/tour/upgrade/").concat(encodeURIComponent(n)),{method:"POST",headers:s,body:JSON.stringify(e),credentials:"include"}).then(function(e){return e.json()}).then(function(e){if("string"===typeof e)return e;var n=e.stripeResponse,c=e.newPermissions,u=n;return i.a.push("/home/settings/subscription"),Object.assign({},{name:o,aid:t,stripeId:u.id,tier:a,packageQuantity:r,tierPermissions:c,customer:u})})},f=function(e,t){var n=new Headers,r=s.a.token;n.append("Authorization","Bearer ".concat(r));var a=[];if(t){var o=encodeURIComponent(t);a.push("search=".concat(o))}e&&a.push("start=".concat(e));var i=a.length?"".concat(c.a.tourAPI,"/admin/v2/accounts?sort=name asc, tier asc&").concat(a.join("&")):"".concat(c.a.tourAPI,"/admin/v2/accounts?sort=name asc, tier asc");return fetch(encodeURI(i),{headers:n,credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(},m=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=Object(u.a)(),e.next=4,fetch("".concat(c.a.accountsAPI,"/api/admin/v2/accounts/").concat(encodeURIComponent(t)),{headers:r,credentials:"include"});case 4:return o=e.sent,e.next=7,Object(l.a)(o,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=function(e,t){var n=Object(u.a)();return fetch("".concat(c.a.accountsAPI,"/api/v2/").concat(encodeURIComponent(e),"/settings/ga"),{headers:n,method:"PUT",body:JSON.stringify(t),credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(}},185:function(e,t,n){},191:function(e,t,n){e.exports=n.p+"static/media/logo_dark.05442d31.svg"},195:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(3),i=n(6),c=n(7),u=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),e.prev=1,e.next=4,fetch("".concat(i.a.accountsAPI,"/api/admin/accounts/tour/").concat(encodeURIComponent(t.userId),"/source/update"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(o=e.sent).errorMessage){e.next=10;break}return e.abrupt("return",o.errorMessage);case 10:return e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),e.prev=1,e.next=4,fetch("".concat(i.a.accountsAPI,"/api/admin/accounts/tour/").concat(encodeURIComponent(t.userId),"/source/new"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(o=e.sent).errorMessage){e.next=10;break}return e.abrupt("return",o.errorMessage);case 10:return e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(),e.prev=1,e.next=4,fetch("".concat(i.a.accountsAPI,"/api/admin/accounts/tour/payments/").concat(encodeURIComponent(t)),{headers:n,credentials:"include"});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),d=n(182),p=n(197),f=n(36);n.d(t,"f",function(){return h}),n.d(t,"e",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return y}),n.d(t,"b",function(){return w}),n.d(t,"d",function(){return O}),n.d(t,"a",function(){return S});var m=function(e){return{type:"SAVE_PAYMENT_INFO",data:e}},h=function(e){return{type:"SET_STRIPE_ERROR",error:e}},b=function(e){return{type:"SAVE_ACCOUNT_INFO",stripeId:e.stripeId,status:e.status,tier:e.tier,packageQuantity:e.packageQuantity,permissions:e.tierPermissions||{},payment:e.customer,aid:e.aid,name:e.name,gaId:e.gaId,mapboxToken:e.mapboxToken}},v=function(e,t){return function(n){Object(d.b)(e,t).then(function(e){n({type:"SAVE_ALL_ACCESSIBLE_ACCOUNTS",accounts:e})})}},g=function(e){return function(t){t({type:"ACCOUNT_UPDATING"}),Object(d.e)(e).then(function(n){t(Object(p.c)(e.newTier)),"string"===typeof n?Object(f.b)(function(){t(h(n)),t({type:"ACCOUNT_UPDATING"})}):Object(f.b)(function(){t(b(n)),t({type:"ACCOUNT_UPDATING"})})})}},y=function(e){return function(t){t({type:"ACCOUNT_UPDATING"}),u(e).then(function(n){"string"===typeof n?Object(f.b)(function(){t(h(n)),t({type:"ACCOUNT_UPDATING"})}):(Object(f.b)(function(){t(m(n)),t({type:"ACCOUNT_UPDATING"})}),"function"===typeof e.callback&&e.callback())})}},w=function(e){return function(t){t({type:"ACCOUNT_UPDATING"}),s(e).then(function(n){"string"===typeof n?(Object(f.b)(function(){}),t(h(n)),t({type:"ACCOUNT_UPDATING"})):(Object(f.b)(function(){t(m(n)),t({type:"ACCOUNT_UPDATING"})}),"function"===typeof e.callback&&e.callback())})}},O=function(e){return function(t){l(e).then(}},S=function(e,t){return function(n){n({type:"ACCOUNT_UPDATING"}),Object(d.a)(e,t).then(function(e){Object(f.b)(function(){n({type:"UPDATE_GAID",gaId:e.gaId}),n({type:"ACCOUNT_UPDATING"})})})}}},197:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return p});var r=n(2),a=n.n(r),o=n(3),i=n(36),c=n(170),u=n(162),s=n(158),l=function(e,t){return function(n){Object(c.c)(e).then(function(e){var r=e.tour;Object(i.b)(function(){n(Object(s.h)(r)),n(Object(u.b)(!0))}),"function"===typeof t&&t()})}},d=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.b)(e);case 2:r=t.sent,n(f(r));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(t,n){var r=Object.values(n().tourData.tours).filter(function(e){return e.published}).map(function(e){return e.id});Promise.all(r.map(function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.f)(n,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()))}},f=function(e){return{type:"SAVE_PUBLIC_TOUR",aid:e.aid,id:e.id,panos:e.panos,images:e.images,videos:e.videos,audio:e.audio,stops:e.stops,tours:e.tourData,tier:e.tier,active:e.active,gaId:e.gaId,mapboxToken:e.mapboxToken}}},206:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r,a=n(2),o=n.n(a),i=n(3),c=n(38),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;return function(){var t=Object(i.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r&&clearInterval(r),n(s()),r=setInterval(1e3*e);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},s=function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a();case 2:n=e.sent,t(l(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},l=function(e){return{type:"SAVE_ACTIVE_SESSIONS",data:e}}},218:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(3),i=n(36),c=n(170),u=n(6),s=n(7),l=n(162),d=n(195),p=n(182),f=n(158),m=n(220),h=n(206),b=n(263);n.d(t,"a",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return w}),n.d(t,"g",function(){return S}),n.d(t,"f",function(){return E}),n.d(t,"h",function(){return x}),n.d(t,"c",function(){return k});var v=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.c)(e).then(function(e){var t=r().media.mediaFetched;e.aid&&Object(i.b)(function(){n(w(e)),!t&&n(Object(l.d)(e))})});case 2:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},g=y=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(p.d)(e);case 3:(o=n.sent)?o.aid&&(localStorage.setItem("aid",o.aid),Object(i.b)(function(){r(Object(d.e)(o)),r(Object(m.a)()),r(Object(f.e)(o.aid,!0)),r(Object(l.b)(!0)),r(Object(h.a)()),r(Object(b.e)())}),localStorage.setItem("accountSwapped","true"),"function"===typeof t&&t()):r({type:"TOUR_ACCOUNT_SWAP_ERROR",value:!0}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:"TOUR_ACCOUNT_SWAP_ERROR",value:!0});case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()},w=O=function(e){var t=e.tourId;return{type:"SAVE_ACCOUNT_TOUR",tour:e.tour,tourId:t}},S=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.e)(e).then(function(e){var t=e.tourId,r=e.updatedTour;n(O({tourId:t,tour:r}))});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(t){(function(e){var t=e,n=Object(s.a)();return fetch("".concat(u.a.tourAPI,"/allstops"),{method:"POST",headers:n,body:JSON.stringify(t),credentials:"include"}).then(.then(})(e).then(function(e){var n;t({type:"SAVE_NEW_STOP_ORDER",tour:(n=e).tour,tourId:n.tourId})})}},x=function(){return{type:"SHOW_STOP_DESCRIPTION"}},k=function(){return{type:"HIDE_STOP_DESCRIPTION"}}},220:function(e,t,n){"use strict";n.d(t,"d",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return w});var r=n(2),a=n.n(r),o=n(3),i=n(36),c=n(22),u=n(182),s=(n(218),n(195)),l=n(158),d=n(162),p=n(206),f=function(e){return{type:"SAVE_POLICY_STATUS",privacyPolicy:e}},m=function(e){return{type:"SAVE_USER_CREDS",data:e}},h=function(e){var t=e.permissions;return{type:"SET_USER_PERMISSIONS",permissions:void 0===t?{}:t}},b=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){var o,u,s,h,b,v;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.b)(e);case 2:(u=n.sent).privacyPolicy||"function"===typeof t&&t(),s=Boolean(null===u||void 0===u?void 0:null===(o=u.roles)||void 0===o?void 0:o.find(),h=u.accounts[0],localStorage.setItem("default-aid",h),localStorage.setItem("uid",e),(!(b=localStorage.getItem("aid"))||b&&!s)&&localStorage.setItem("aid",h),v=localStorage.getItem("aid"),Object(i.b)(function(){s&&r({type:"SET_ROOT_ADMIN"}),r(m(u)),r(g()),r(f(u.privacyPolicy)),r(Object(l.e)(v)),r(Object(d.b)(!0)),r(w()),r(Object(p.a)())});case 12:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.l)(e);case 2:(r=t.sent)&&Object(i.b)(;case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("aid"),e.next=3,Object(u.d)(n);case 3:return r=e.sent,e.next=6,t(Object(s.e)(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.b)(e);case 2:r=t.sent,n(m(r));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.e)();case 2:n=e.sent,(r=n[localStorage.getItem("aid")])&&t(h(r));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},221:function(e,t,n){"use strict";var r=n(222),a=Object(r.createSelector)(function(e){return e.tours.tours},function(e,t){var n=Object.keys(t).length,r=Object.keys(e).length,a=Object.keys(e).map(function(t){return e[t]}),o=a.reduce(function(e,t){return e[t.id]=t.stopIds&&t.stopIds.length,e},{});return{totalCreatedStops:n,totalActiveStops:a.reduce(function(e,t){return t.stopIds?e+t.stopIds.length:0},0),totalTours:r,stopCountPerTour:o}});t.a=a},222:function(e,t,n){"use strict";_esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=o,t.createStructuredSelector=var i=t.createSelector=o(a)},223:function(e,t,n){"use strict";function r(e,t,n){var r=a(t)+360-a(n),o=r>360?r-360:r;if(e.includes("rotateZ")){var i=e.indexOf("rotateZ"),c=e.substring(0,i);return"".concat(c," rotateZ(").concat(o,"deg)")}return"".concat(e," rotateZ(").concat(o,"deg)")}function a(e){return e<0?Math.abs(e)+180:180-e}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a})},224:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(150),o=n(151),i=n(153),c=n(152),u=n(0),s=n.n(u),l=n(31),d=n.n(l),p=n(54),f=n(236),m=n.n(f),h=(n(235),function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onEnter=function(e){e.classList.add("snackbar__slide-enter--".concat(r.props.position)),e.style.animationFillMode="forwards",e.style.animationDuration="".concat(r.props.duration||.5,"s")},r.onEntered=function(e){e.classList.remove("snackbar__slide-enter--".concat(r.props.position))},r.onExit=function(e){e.classList.add("snackbar__slide-exit--".concat(r.props.position)),e.style.animationFillMode="forwards",e.style.animationDuration="".concat(r.props.duration||.5,"s")},r.state={defaultStyle:{}},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.defaultStyle,t=this.props,n=t.children,a=t.classNames,o=t.showSpinner,i=t.position,c=t.duration,u=t.styles,l=t.inProp,f=t.container,h=void 0===f?document.body:f,b=this.props[i],v=Object(r.a)(Object(r.a)(Object(r.a)({},e),u),b);return d.a.createPortal(s.a.createElement(m.a,{in:l,timeout:c||500,onEnter:this.onEnter,onEntered:this.onEntered,onExit:this.onExit,unmountOnExit:!0},function(){return s.a.createElement("article",{id:"snackbar",className:a,style:Object(r.a)({},v)},"before"===o&&s.a.createElement(p.ClipLoader,{color:"none",size:14}),n,"after"===o&&s.a.createElement(p.ClipLoader,{color:"none",size:14}))}),h)}}]),n}(u.Component));t.default=h},228:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t,n){e.showSnackBar!==n().snackBar.showSnackBar&&(t({type:"POPULATE_SNACKBAR",snackBarData:e}),setTimeout(e.clearDelay))}},a=function(){return{type:"CLEAR_SNACKBAR"}}},233:235:function(e,t,n){},236:237:263:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(3),i=n(22),c=n(6),u=n(7),s=n(25),l=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||localStorage.getItem("aid"),r=Object(u.a)(),e.next=4,fetch("".concat(c.a.accountsAPI,"/api/admin/v2/accounts/").concat(n,"/users"),{method:"GET",headers:r});case 4:return o=e.sent,e.next=7,Object(s.a)(o);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark(function e(t,n){var r,o,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||localStorage.getItem("aid"),o=Object(u.a)(),e.next=4,fetch("".concat(c.a.accountsAPI,"/api/admin/v2/accounts/").concat(r,"/users"),{method:"POST",headers:o,body:JSON.stringify(t)});case 4:return i=e.sent,e.next=7,Object(s.a)(i);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(a.a.mark(function e(t,n,r){var o,i,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r||localStorage.getItem("aid"),i=Object(u.a)(),e.next=4,fetch("".concat(c.a.accountsAPI,"/api/admin/v2/accounts/").concat(o,"/users/").concat(t),{method:"PUT",headers:i,body:JSON.stringify(n)});case 4:return l=e.sent,e.next=7,Object(s.a)(l);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return (),f=function(){var e=Object(o.a)(a.a.mark(function e(t,n){var r,o,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||localStorage.getItem("aid"),o=Object(u.a)(),e.next=4,fetch("".concat(c.a.accountsAPI,"/api/admin/v2/accounts/").concat(r,"/users/").concat(t),{method:"DELETE",headers:o});case 4:return i=e.sent,e.next=7,Object(s.a)(i);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||localStorage.getItem("aid"),r=Object(u.a)(),e.next=4,fetch("".concat(c.a.accountsAPI,"/api/admin/v2/accounts/").concat(n,"/roles"),{method:"GET",headers:r});case 4:return o=e.sent,e.next=7,Object(s.a)(o);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();n.d(t,"d",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"h",function(){return y}),n.d(t,"b",function(){return w}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return j}),n.d(t,"g",function(){return C});var h="Something went wrong! Please try again",b=function(){return function(){var e=Object(o.a)(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(T()),e.prev=1,e.next=4,l();case 4:e.sent.forEach(function(e){t(S(e))}),t(C()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(A(e.t0.errorMessage||h));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(o.a)(a.a.mark(function e(t,n){var r,o,i,c,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(T()),e.prev=1,e.next=4,m();case 4:r=e.sent,o=r.roles,i=void 0===o?[]:o,c=r.assignments,u=void 0===c?[]:c,i.forEach(function(e){t(E(e))}),u.forEach(,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(A(e.t0.errorMessage||h));case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t,n){return e.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(T()),n.next=4,d(e);case 4:r(C()),"function"===typeof t&&t(),r(b()),r(v()),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),i=n.t0.errorMessage||h,r(A(i,n.t0.status));case 14:case"end":return n.stop()}},n,null,[[0,10]])}));return function(e,t){return n.apply(this,arguments)}}()},y=function(e,t,n){return function(){var r=Object(o.a)(a.a.mark(function r(o,i){var c;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(T()),r.next=4,p(e,t);case 4:o(C()),"function"===typeof n&&n(),o(b()),o(v()),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),c=r.t0.errorMessage||h,o(A(c,r.t0.status));case 14:case"end":return r.stop()}},r,null,[[0,10]])}));return function(e,t){return r.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r,o){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(T()),n.next=4,f(e);case 4:r(k(e)),r(C()),"function"===typeof t&&t(),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),i=n.t0.errorMessage||h,r(A(i,n.t0.status));case 13:case"end":return n.stop()}},n,null,[[0,9]])}));return ()},O=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(T()),n.next=4,Object(i.j)(e);case 4:r(C()),"function"===typeof t&&t(),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),o=n.t0.errorMessage||h,r(A(o,n.t0.status));case 12:case"end":return n.stop()}},n,null,[[0,8]])}));return ()},S=function(e){return{type:"SAVE_ACCOUNT_USER",user:e}},E=function(e){return{type:"SAVE_ACCOUNT_ROLE",role:e}},x=function(e){return{type:"SAVE_ACCOUNT_ASSIGNMENT",assignment:e}},k=j=T=function(){return{type:"ACCOUNT_USERS_STATUS",status:"saving",errorMessage:"",errorCode:""}},C=A=,407:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o});var r=function(e,t,n){return 0!==t.maxStopsPerTour&&e&&e.stopIds.length>=t.maxStopsPerTour||n.totalActiveStops>=t.maxStops},a=function(e,t){return 0!==e.maxTours&&e.maxTours<=Object.keys(t).length},o=function(e,t,n){return 0===t.maxStopsPerTour?e&&n.totalActiveStops<t.maxStops:e&&e.stopIds.length<t.maxStopsPerTour&&n.totalActiveStops<t.maxStops}},527:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(2),a=n.n(r),o=n(3),i=n(6),c=n(7),u=function(){var e=Object(o.a)(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(c.a)(),e.next=3,fetch("".concat(i.a.tourAPI,"/logout"),{method:"get",headers:t,credentials:"include"});case 3:return n=e.sent,e.next=6,n.text();case 6:case"end":return e.stop()}},e)}));return ()},531:function(e,t,n){"use strict";var r=n(150),a=n(151),o=n(166),i=n(153),c=n(152),u=n(0),s=n.n(u),l=n(6),d=n(24),p=n.n(d),f=n(23),m=n(164),h=n(173),b=n(532),v=n.n(b),g=(n(595),function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={invalidToken:!1},e.invalidToken=e.invalidToken.bind(Object(o.a)(e)),e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addControls,n=e.analytics,r=e.mapStyle,a=e.mapRendering,o=e.tourId,i=e.mapToken,c=i||l.a.mapboxgl;this.mapContainer.style.height="100%",h.a.renderMap({container:this.mapContainer,mapControls:t,analytics:n,mapStyle:r,mapRendering:a,tourId:o,mapToken:c},this.invalidToken)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.mapStyle!==e.mapStyle||!this.state.invalidToken&&t.invalidToken||this.props.path!==e.path}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.mapStyle,a=n.tourId,o=n.mapRendering;r!==e.mapStyle&&h.a.updateMapStyle(r,a,o),!t.invalidToken&&this.state.invalidToken&&f.a.push("/token/error/404")}},{key:"invalidToken",value:,{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.tier,a=t.path,o=t.miniMapView,i=p()({"cms-view":!a.includes("/view")&&!a.includes("/share"),"main-view":"map"!==o,"minimap-view":"map"===o,hidden:a.includes("/hotspots-manager"),edit:a.includes("/edit")&&!a.includes("/edit/stop/"),starter:"starter"===r}),c="starter"===r?"starter":"";return s.a.createElement("section",{id:"map",className:i,ref:"data-cy":"".concat("map"===o?"minified-map":"maximized-map")},n,s.a.createElement(m.a,{className:"c3d-privacy-policy ".concat(c),href:"https://www.concept3d.com/concept3d-privacy-policy","aria-label":"concept3D privacy policy",newTab:!0},"Privacy Policy"),s.a.createElement(m.a,{className:"c3d-tos ".concat(c),href:"https://www.concept3d.com/concept3d-tour-builder-terms-of-service","aria-label":"concept3D terms of service",newTab:!0},"Terms of Service"),s.a.createElement(m.a,{className:"concept3d ".concat(c),href:"https://www.concept3d.com","aria-label":"concept3D site",newTab:!0},s.a.createElement("img",{src:v.a,alt:"Concept3D Logo",width:"100"})))}}]),n}(u.Component));t.a=g},532:function(e,t,n){e.exports=n.p+"static/media/logo.52521a24.svg"},593:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(164),i=(n(185),n(191)),c=n.n(i),u=n(594),s=n.n(u);t.a=function(e){var t=e.goBack,n=e.hideBackButton;return a.a.createElement("section",{className:"error-page"},a.a.createElement("img",{src:c.a,className:"error-logo",alt:"concept3d dark logo"}),a.a.createElement("h1",null,"Tour Builder"),a.a.createElement("h3",null,"This tour is inactive"),a.a.createElement("p",null,"The requested tour or account is no longer available, please select another tour to view"),a.a.createElement("img",{src:s.a,className:"tour-not-found-image",alt:"This tour is inactive"}),!n&&a.a.createElement(o.a,{handleClick:t},a.a.createElement("button",{className:"go-back-btn"},"Tour Builder Home")))}},594:595:596:function(e,t,n){"use strict";nction o(e,t){return""!==a(e)||(""!==t&&null!==t?(r(e,t,365),!1):void 0)}n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o})},597:function(e,t,n){"use strict";n.d(t,"a",;var r=n(37),a=function(e,t){if("function"!==typeof e.sort)return console.error("sortAlphabetically requires an Array"),[];if(1===e.length)return e;var n=e.filter(function(e){return t?!!e[t]:!!e}),a=e.filter(function(e){return t?!e[t]:!e}),o=n.sort(function(e,n){var r,a;return t?(r="function"===typeof e[t].toUpperCase?e[t].toUpperCase():e[t],a="function"===typeof n[t].toUpperCase?n[t].toUpperCase():n[t]):(r="function"===typeof e.toUpperCase?e.toUpperCase():e,a="function"===typeof n.toUpperCase?n.toUpperCase():n),r<a?-1:r>a?1:0});return[].concat(Object(r.a)(a),Object(r.a)(o))}}}]);