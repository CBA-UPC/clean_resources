(self.webpackChunk_mi_mi_com_i18n_frontend_static=self.webpackChunk_mi_mi_com_i18n_frontend_static||[]).push([[4935,9934,5756],{2345:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r={ae:{currencyCode:"AED",currencySymbol:"AED ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},af:{currencyCode:"AFN",currencySymbol:" ؋",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"integer"},am:{currencyCode:"AMD",currencySymbol:"֏",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},ar:{currencyCode:"ARS",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},at:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},au:{currencyCode:"AUD",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},az:{currencyCode:"AZN",currencySymbol:"₼",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},bd:{currencyCode:"BDT",currencySymbol:"৳ ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"integer"},be:{currencyCode:"EUR",currencySymbol:"€",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},bg:{currencyCode:"BGN",currencySymbol:" лв.",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},br:{currencyCode:"BRL",currencySymbol:"R$ ",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},by:{currencyCode:"BYN",currencySymbol:" Br",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},ca:{currencyCode:"CAD",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},ci:{currencyCode:"XOF",currencySymbol:" F CFA",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"integer",currencyPrecision:0},cl:{currencyCode:"CLP",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"integer",currencyPrecision:0},cn:{currencyCode:"CNY",currencySymbol:"￥",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},co:{currencyCode:"COP",currencySymbol:"$ ",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},cz:{currencyCode:"CZK",currencySymbol:" Kč",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},de:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal",originalRrpLabel:!0},dk:{currencyCode:"DKK",currencySymbol:" kr.",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},ec:{currencyCode:"USD",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},eg:{currencyCode:"EGP",currencySymbol:"جنيه",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},es:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},fr:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal",originalRrpLabel:!0},ge:{currencyCode:"GEL",currencySymbol:"₾",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},global:{currencyCode:"USD",currencySymbol:"US$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},gr:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},gt:{currencyCode:"GTQ",currencySymbol:"Q ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},hk:{currencyCode:"HKD",currencySymbol:"HK$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"integer"},hr:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},hu:{currencyCode:"HUF",currencySymbol:" Ft",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},id:{currencyCode:"IDR",currencySymbol:"Rp ",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"integer"},ie:{currencyCode:"EUR",currencySymbol:"€",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},il:{currencyCode:"ILS",currencySymbol:" ₪",currencyPosition:"post",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},ir:{currencyCode:"IRR",currencySymbol:" ریال",currencyPosition:"post",currencyFunction:"commaThousDotDec",currencyExpect:"integer"},in:{currencyCode:"INR",currencySymbol:"₹",currencyPosition:"pre",currencyFunction:"spaceHundredsCommaThousCommaDec",currencyExpect:"integer"},iq:{currencyCode:"IQD",currencySymbol:"د.ع. ",currencyPosition:"post",currencyFunction:"commaThousDotDec",currencyExpect:"integer",currencyPrecision:3},it:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal",originalRrpLabel:!0},jp:{currencyCode:"JPY",currencySymbol:"円",currencySuffix:"(税込)",currencyPosition:"post",currencyFunction:"commaThousDotDec",currencyExpect:"integer",currencyPrecision:0},ke:{currencyCode:"KES",currencySymbol:"K.Sh ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},kh:{currencyCode:"KHR",currencySymbol:"៛",currencyPosition:"post",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},kr:{currencyCode:"KRW",currencySymbol:"₩",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"integer",currencyPrecision:0},kz:{currencyCode:"KZT",currencySymbol:"₸",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},la:{currencyCode:"LAK",currencySymbol:"₭",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"integer"},lk:{currencyCode:"LKR",currencySymbol:"රු ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},lu:{currencyCode:"EUR",currencySymbol:"€",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},lv:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},ma:{currencyCode:"MAD",currencySymbol:"DH",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},mm:{currencyCode:"MMK",currencySymbol:"K",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"integer"},mn:{currencyCode:"MNT",currencySymbol:"₮",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},mo:{currencyCode:"MOP",currencySymbol:"MOP$",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},mx:{currencyCode:"MXN",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},my:{currencyCode:"MYR",currencySymbol:"RM ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},ng:{currencyCode:"NGN",currencySymbol:"₦",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},nl:{currencyCode:"EUR",currencySymbol:"€ ",currencyPosition:"pre",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal",originalRrpLabel:!0},np:{currencyCode:"NPR",currencySymbol:"रू ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},nz:{currencyCode:"NZD",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},pa:{currencyCode:"PAB",currencySymbol:"B/. ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},pe:{currencyCode:"PEN",currencySymbol:"S/ ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},ph:{currencyCode:"PHP",currencySymbol:"₱",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},pk:{currencyCode:"PKR",currencySymbol:"Rs ",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},pl:{currencyCode:"PLN",currencySymbol:" zł",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal",originalRrpLabel:!0},pt:{currencyCode:"EUR",currencySymbol:" €",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},ro:{currencyCode:"RON",currencySymbol:" L",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"decimal"},rs:{currencyCode:"RSD",currencySymbol:" Дин.",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"integer"},ru:{currencyCode:"RUB",currencySymbol:" ₽",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"integer",originalFollowFrom:!0},sa:{currencyCode:"SAR",currencySymbol:".ر.س ",currencyPosition:"post",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},se:{currencyCode:"SEK",currencySymbol:" kr",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},sg:{currencyCode:"SGD",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},th:{currencyCode:"THB",currencySymbol:"฿",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},tn:{currencyCode:"TND",currencySymbol:" DT",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal",currencyPrecision:3},tr:{currencyCode:"TRY",currencySymbol:" TL",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"integer"},tw:{currencyCode:"TWD",currencySymbol:"NT$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"integer"},ua:{currencyCode:"UAH",currencySymbol:" грн.",currencyPosition:"post",currencyFunction:"spaceThousCommaDec",currencyExpect:"decimal"},uk:{currencyCode:"GBP",currencySymbol:"£",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},us:{currencyCode:"USD",currencySymbol:"$",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},uz:{currencyCode:"UZS",currencySymbol:"лв",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"},vn:{currencyCode:"VND",currencySymbol:" ₫",currencyPosition:"post",currencyFunction:"dotThousCommaDec",currencyExpect:"integer",currencyPrecision:0},za:{currencyCode:"ZAR",currencySymbol:"R",currencyPosition:"pre",currencyFunction:"commaThousDotDec",currencyExpect:"decimal"}};function o(e){return Object.assign({currencyCode:"USD",currencySymbol:"US$",currencyPosition:"pre",currencyPrefix:"",currencySuffix:"",currencyFunction:"commaThousDotDec",currencyExpect:"decimal",currencyPrecision:2,currencyBlindPrice:"???",originalFollowFrom:!1,originalRrpLabel:!1},r[e]||{})}},1642:(e,t,n)=>{"use strict";n.r(t),n.d(t,{scmAlternateConfig:()=>A,scmAppMiFileUrl:()=>D,scmBuildGlobalConfig:()=>O,scmBuildSiteConfig:()=>M,scmBusinessSiteList:()=>r.zM,scmConfig:()=>o,scmCurrencyConfig:()=>l.S,scmCustomerSiteList:()=>r.dG,scmForterConfig:()=>s,scmGoogleConfig:()=>b,scmLanguageConfig:()=>x,scmLanguageIsRtl:()=>N,scmLanguageList:()=>C,scmLiveChatConfig:()=>i,scmSiteConfig:()=>r.Nj,scmSiteDeployArea:()=>r.af,scmSiteLangList:()=>r.Yc,scmSiteLanguageList:()=>I,scmSiteList:()=>r.Rz,scmStatConfig:()=>_.U,scmUsefulLocale:()=>k});var r=n(1455);function o(e){var t={wwwSiteV3:{idn:{pc:"//www.mi.co.id/".concat(e),m:"//mobile.mi.co.id/".concat(e)},sgp:{pc:"//www.mi.com/".concat(e),m:"//mobile.mi.com/".concat(e)}},wwwSite:{idn:{pc:"//www.mi.co.id/".concat(e),m:"//www.mi.co.id/".concat(e)},sgp:{pc:"//www.mi.com/".concat(e),m:"//www.mi.com/".concat(e)}},buySite:{ind:{pc:"//store.mi.com/".concat(e),m:"//m.store.mi.com/".concat(e)},idn:{pc:"//buy.mi.co.id/".concat(e),m:"//m.buy.mi.co.id/".concat(e)},rus:{pc:"//ru.buy.mi.com/".concat(e),m:"//ru.mbuy.mi.com/".concat(e)},nld:{pc:"//ams.buy.mi.com/".concat(e),m:"//ams-m.buy.mi.com/".concat(e)},sgp:{pc:"//buy.mi.com/".concat(e),m:"//m.buy.mi.com/".concat(e)}},apiSite:{ind:"//in-api.buy.mi.com/".concat(e),rus:"//ru-api.buy.mi.com/".concat(e),idn:"//api.buy.mi.co.id/".concat(e),nld:"//ams-api.buy.mi.com/".concat(e),sgp:"//sgp-api.buy.mi.com/".concat(e)},opxApiSite:{ind:"//in-api.buy.mi.com/i18n_op/opx/".concat(e),rus:"//ru-api.buy.mi.com/i18n_op/opx/".concat(e),nld:"//ams-api.buy.mi.com/i18n_op/opx/".concat(e),sgp:"//sgp-api.buy.mi.com/i18n_op/opx/".concat(e)},apiIntraSite:{ind:"//in.api.b2c.srv",rus:"//ru.api.b2c.srv",nld:"//ams.api.b2c.srv",sgp:"//sgp.api.b2c.srv"},goSite:{ind:"//in-go.buy.mi.com/".concat(e),rus:"//ru-go.buy.mi.com/".concat(e),idn:"//go.buy.mi.co.id/".concat(e),nld:"//ams-go.buy.mi.com/".concat(e),sgp:"//go.buy.mi.com/".concat(e)},goD2sSite:{ind:"//in-d2s.buy.mi.com/".concat(e),rus:"//ru-d2s.buy.mi.com/".concat(e),nld:"//ams-d2s.buy.mi.com/".concat(e),sgp:"//d2s.buy.mi.com/".concat(e)},bigTapSite:{ind:"//in-tp.mi.com",idn:"//tp.mi.co.id",nld:"//ams-tp.mi.com",sgp:"//sgp01.tp.hd.mi.com"},hdSite:{ind:"//in-hd.c.mi.com/".concat(e),rus:"//ru-hd.c.mi.com/".concat(e),idn:"//hd.mi.co.id/".concat(e),nld:"//ams-hd.c.mi.com/".concat(e),sgp:"//hd.c.mi.com/".concat(e)},salesMiddleSite:{ind:"",sgp:"//sg-api.salesmiddle.b2c.srv"},uploadSite:{ind:"//in-upload.store.mi.com",rus:"//ru-upload.global.mi.com",idn:"//upload-global.mi.co.id",nld:"//ams-upload.global.mi.com",sgp:"//upload.global.mi.com"},kachiShopSite:{sgp:"//m.kachishop.com/".concat(e)},eventBaseUrl:{ind:"//in.event.mi.com/in",rus:"//ru.event.mi.com/ru",idn:"//event.mi.co.id/id",nld:"//ams.event.mi.com/".concat(e),sgp:"//event.mi.com/".concat(e)},seckillBaseUrl:{ind:"//in-fs.buy.mi.com/in",rus:"//ru-fs.buy.mi.com/ru",idn:"//fs.buy.mi.co.id/id",nld:"//ams-fs.buy.mi.com/".concat(e),sgp:"//fs.buy.mi.com/".concat(e)}};return{wwwSiteV3:a(t.wwwSiteV3,e),wwwSite:a(t.wwwSite,e),buySite:a(t.buySite,e),apiSite:a(t.apiSite,e),opxApiSite:a(t.opxApiSite,e),apiIntraSite:a(t.apiIntraSite,e),goSite:a(t.goSite,e),goD2sSite:a(t.goD2sSite,e),bigTapSite:a(t.bigTapSite,e),hdSite:a(t.hdSite,e),salesMiddleSite:a(t.salesMiddleSite,e),uploadSite:a(t.uploadSite,e),kachiShopSite:a(t.kachiShopSite,e),eventBaseUrl:a(t.eventBaseUrl,e),seckillBaseUrl:a(t.seckillBaseUrl,e)}}function a(e,t){var n;return null!==(n=e[(0,r.af)(t)])&&void 0!==n?n:e.sgp}function i(e){var t={eg:"72681a7f-3be4-4a55-a529-a0d5b977fca0",id:"da5bb9f7-240f-4dee-8cbc-78cd1642cfce",mx:"b3f6daad-5176-46e7-a080-a25adb3a95a9",my:"67c9a74b-68ca-4238-9b14-ea5d3a6797c2",pl:"4edb90f9-9da7-4da1-8151-2622f512c376",es:"90cc674d-30a2-4603-8d4f-26d6f15d307f",fr:"fd67befd-dfb6-4d90-b7ec-f1d0622a9619",it:"1b06fea4-7ffb-47b7-9655-b049a0d96e36",de:"bf886ed9-8590-4193-925f-75230fc4c835",tr:"6b7d563a-8e72-47a8-98aa-3f8cb60025a3",cl:"3b978ebd-c111-4fac-b9dd-07e243af1021",uk:"c69a0ad7-404d-4948-9439-503ba283a886",co:"53094d53-1088-4b45-9b4f-ab08f8ca5b42",pe:"6f070475-0181-4694-a4d6-7d33967024c6",sa:"549ad034-0c81-4ec4-852d-cd30bf75cc1a",pk:"d1029cef-60b0-42be-9c19-a691ed324f33",th:"d0a02d27-523a-4aa3-b022-e8a01b58ae0c",vn:"b559afa4-bb3c-401e-81ad-b4eef47e7e3d",ph:"2bb789d6-8bfc-4765-a126-967f1b416275",cz:"1fa760db-17a9-429a-8307-c7367145563d",ng:"9f28b1c5-b694-438d-bfd6-8e315211dba6",default:""},n={cz:"cc2a190d-824c-4a3e-9688-057769101233",cl:"bd925601-44e6-ec11-82f0-002248363df1",de:"cc2a190d-824c-4a3e-9688-057769101233",eg:"cc2a190d-824c-4a3e-9688-057769101233",es:"cc2a190d-824c-4a3e-9688-057769101233",fr:"cc2a190d-824c-4a3e-9688-057769101233",it:"cc2a190d-824c-4a3e-9688-057769101233",mx:"bd925601-44e6-ec11-82f0-002248363df1",nl:"cc2a190d-824c-4a3e-9688-057769101233",pl:"cc2a190d-824c-4a3e-9688-057769101233",uk:"cc2a190d-824c-4a3e-9688-057769101233",tr:"cc2a190d-824c-4a3e-9688-057769101233",co:"bd925601-44e6-ec11-82f0-002248363df1",pe:"bd925601-44e6-ec11-82f0-002248363df1",sa:"6bc591a1-7202-ed11-811d-000d3ae9d6c5",pk:"6bc591a1-7202-ed11-811d-000d3ae9d6c5",ng:"cc2a190d-824c-4a3e-9688-057769101233",default:"d76ce7ee-a2ca-4e94-b0c8-b9af8529d793"},r={cz:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",cl:"https://unqbd92560144e6ec1182f0002248363-crm2.omnichannelengagementhub.com",de:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",eg:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",es:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",fr:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",it:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",mx:"https://unqbd92560144e6ec1182f0002248363-crm2.omnichannelengagementhub.com",nl:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",pl:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",uk:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",tr:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",co:"https://unqbd92560144e6ec1182f0002248363-crm2.omnichannelengagementhub.com",pe:"https://unqbd92560144e6ec1182f0002248363-crm2.omnichannelengagementhub.com",sa:"https://unq6bc591a17202ed11811d000d3ae9d-crm15.omnichannelengagementhub.com",pk:"https://unq6bc591a17202ed11811d000d3ae9d-crm15.omnichannelengagementhub.com",ng:"https://unqcc2a190d824c4a3e9688057769101-crm4.omnichannelengagementhub.com",default:"https://unqd76ce7eea2ca4e94b0c8b9af8529d-crm5.omnichannelengagementhub.com"},o={cz:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",ru:"https://api-ru.support.mi.com/chat/js/LiveChatBootstrapper.js",cl:"https://oc-cdn-public-sam.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",de:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",eg:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",es:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",fr:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",it:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",mx:"https://oc-cdn-public-sam.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",nl:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",pl:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",uk:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",tr:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",co:"https://oc-cdn-public-sam.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",pe:"https://oc-cdn-public-sam.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",sa:"https://oc-cdn-ocuae-uae.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",pk:"https://oc-cdn-ocuae-uae.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",ng:"https://oc-cdn-public-eur.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js",default:"https://oc-cdn-public-apj.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js"};return{appId:c({cz:"6b1066cf-390d-4300-a838-34ff02c1c08b",ru:"A2f5ihnmmxs.gH1_gcj35u-zcsxrO0Ov3JYk8nDEPOexzic0sXEqFck",cl:"4ed3546c-5bb4-43ed-b048-3375e45d7c5e",de:"33673207-ee4b-4d30-87c4-1af056f85f53",eg:"17d2184d-3402-4bc9-8a6e-a188f8f122c6",es:"08f0cad1-718d-4c34-b952-4fcfd08efac0",fr:"002d8974-4afd-40fe-b7a9-ab73c2ed353d",hk:"257800a1-aeca-462b-af4e-6c9bcd477626",id:"70804e77-13e1-420b-a642-c0a409689031",it:"c5fd6503-ad86-41ee-a462-6ea54315d87b",jp:"c0aae042-172c-4708-b350-5dc5f1a90cf9",mx:"be56ce87-adf2-4523-b035-c59813a139a4",my:"1c63f5ee-68d5-422d-a72a-2650d0ca88c1",nl:"14fb68c6-b41f-4339-a033-ad2c99d17cf5",pl:"e1c93004-229c-4ca6-a15b-432d17949668",ph:"c95fc61b-0426-4be1-a934-d6d363e9dbea",uk:"9c9dc144-01bc-4bb8-985e-bb2717880659",us:"67c2bb4d-6a59-466f-a407-e02bf42c2b44",sg:"497ee690-6be0-4fa0-ae14-5be0ec7090be",tw:"ea01d257-74fe-43d3-aac4-8cd8b4e07258",th:"01a2f568-ab79-40bf-b3bb-820a5bd3f7aa",tr:"a86fe57a-5f9d-4ddf-a30c-d89356b9dd76",vn:"115db083-9fa6-48b3-9a15-c6ac4956eda8",co:"ca57efee-e9b7-486e-9e04-bf62faf02e21",pe:"b72ee014-a160-471d-b49e-3212df41c459",sa:"14cfea3a-5cbb-48d9-808e-e5c7e85b620f",pk:"14cfea3a-5cbb-48d:""},e),appVisitorId:c(t,e),orgId:c(n,e),orgUrl:c(r,e),scriptSrc:c(o,e)}}function c(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.default}function s(e){return{forterSiteId:c({jp:"22e2fab99d93",mx:"02a931d051cf",default:""},e)}}var l=n(2345),u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},d={in:["UA-51415204-3","UA-51415204-15","UA-51415204-15"],id:["UA-51415204-10","",""],ru:["UA-51415204-29","UA-109515030-6","UA-109515030-6"],hk:["UA-51415204-5","UA-51415204-45","UA-51415204-45"],tw:["UA-51415204-4","UA-51415204-19","UA-51415204-19"],default:["","",""]};function m(e){var t=u(d[e]||d.default,3);return{web:t[0],app:t[1],ios:t[2]}}var p={hk:"GTM-NL4G49C",tw:"GTM-P23SD68",in:"GTM-PHF5K9",default:"GTM-N7BDPG6"};function f(e){var t;return null!==(t=p[e])&&void 0!==t?t:p.default}var h={default:"6Le2lq4ZAAAAAICguqzsVnvy9ZTCNYzl3fZyJJ9Q"};function v(e){var t;return null!==(t=h[e])&&void 0!==t?t:h.default}var g={de:"G-JZS80SHDYY",es:"G-W09SQPPCRY",fr:"G-C8K2YQ2YSQ",hk:"G-M8KNCVNGBK",id:"G-188XHR66L9",it:"G-LZ447Q99RL",jp:"G-3R908EE3W5",nl:"G-DLYDLES5MZ74WC",uk:"G-21NFY24QP4",in:"G-YYVZDLF0XE",mx:"G-NQFE700EM0",default:""};function y(e){var t;return null!==(t=g[e])&&void 0!==t?t:g.default}function b(e){var t="in"===e?{appId:"TH4OO0Y5GM7O9WTRT9HKJ9UW",scriptUrl:"https://cdn.moengage.com/webpush/moe_webSdk.min.latest.js",isOpenDebug:0,cluster:"DC_3",swPath:"/in/service-worker.js",swScope:"/in/"}:void 0;return{ga:m(e),gtm:f(e),captcha:v(e),ga4:y(e),moe:t}}var _=n(3851),E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},w={"af-ZA":{name:"Afrikaans (South Africa)",title:"Afrikaans",isRtl:!1},"am-ET":{name:"Amharic",title:"አማርኛ",isRtl:!1},"ar-001":{name:"Arabic (World)",title:"(العالم) العربية",isRtl:!0},"ar-EG":{name:"Arabic (Egypt)",title:"العربية (مصر)",isRtl:!0},"ar-IQ":{name:"Arabic (Iraq)",title:"(العراق) العربية",isRtl:!0},"ar-MA":{name:"Arabic (Morocco)",title:"العربية (المغرب)",isRtl:!0},"ar-SA":{name:"Arabic (Saudi Arabia)",title:"العربية (المملكة العربية السعودية)",isRtl:!0},"be-BY":{name:"Belarusian",title:"Беларуская",isRtl:!1},"bg-BG":{name:"Bulgarian",title:"Български",isRtl:!1},"bn-BD":{name:"Bangla (Bangladesh)",title:"বাংলা",isRtl:!1},"ca-ES":{name:"Catalan (Spain)",title:"Català",isRtl:!1},"cs-CZ":{name:"Czech",title:"Čeština",isRtl:!1},"da-DK":{name:"Danish (Denmark)",title:"Dansk",isRtl:!1},"de-AT":{name:"German (Austria)",title:"Deutsch (Österreich)",isRtl:!1},"de-DE":{name:"German (Germany)",title:"Deutsch",isRtl:!1},"dz-BT":{name:"Dzongkha",title:"རྫོང་ཁ་",isRtl:!1},"el-GR":{name:"Greek (Greece)",title:"Ελληνικά",isRtl:!1},"en-001":{name:"English (World)",title:"English (World)",isRtl:!1},"en-AE":{name:"English (United Arab Emirates)",title:"English (United Arab Emirates)",isRtl:!1},"en-BD":{name:"English (Bangladesh)",title:"English (Bangladesh)",isRtl:!1},"en-CA":{name:"English (Canada)",title:"English (Canada)",isRtl:!1},"en-GB":{name:"English (United Kingdom)",title:"English (United Kingdom)",isRtl:!1},"en-IN":{name:"English (India)",title:"English (India)",isRtl:!1},"en-KE":{name:"English (Kenya)",title:"English (Kenya)",isRtl:!1},"en-LK":{name:"English (Sri Lanka)",title:"English (Sri Lanka)",isRtl:!1},"en-MY":{name:"English (Malaysia)",title:"English (Malaysia)",isRtl:!1},"en-NG":{name:"English (Nigeria)",title:"English (Nigeria)",isRtl:!1},"en-NP":{name:"English (Nepal)",title:"English (Nepal)",isRtl:!1},"en-PH":{name:"English (Philippines)",title:"English (Philippines)",isRtl:!1},"en-PK":{name:"English (Pakistan)",title:"English (Pakistan)",isRtl:!1},"en-SG":{name:"English (Singapore)",title:"English (Singapore)",isRtl:!1},"en-US":{name:"English (United States)",title:"English (United States)",isRtl:!1},"en-ZA":{name:"English (South Africa)",title:"English (South Africa)",isRtl:!1},"es-419":{name:"Spanish (Latin America)",title:"Español (Latinoamérica)",isRtl:!1},"es-AR":{name:"Spanish (Argentina)",title:"Español (República Argentina)",isRtl:!1},"es-CO":{name:"Spanish (Colombia)",title:"Español (Colombia)",isRtl:!1},"es-CL":{name:"Spanish (Chile)",title:"Español (Chile)",isRtl:!1},"es-EC":{name:"Spanish (Ecuador)",title:"Español (Ecuador)",isRtl:!1},"es-ES":{name:"Spanish (Spain)",title:"Español (España)",isRtl:!1},"es-GT":{name:"Spanish (Guatemala)",title:"Español (Guatemala)",isRtl:!1},"es-MX":{name:"Spanish (Mexico)",title:"Español (México)",isRtl:!1},"es-PA":{name:"Spanish (Panama)",title:"Español (Panamá)",isRtl:!1},"es-PE":{name:"Spanish (Peru)",title:"Español (Perú)",isRtl:!1},"et-EE":{name:"Estonian",title:"Eesti",isRtl:!1},"fa-IR":{name:"Persian (Iran)",title:"فارسی",isRtl:!0},"fr-FR":{name:"French (France)",title:"Français (France)",isRtl:!1},"fr-CA":{name:"French (Canada)",title:"Français (Canada)",isRtl:!1},"fr-CI":{name:"French (Ivory Coast)",title:"Français (Côte d'Ivoire)",isRtl:!1},"fr-MA":{name:"French (Morocco)",title:"Français (Morocco)",isRtl:!1},"fr-TN":{name:"French (Tunisia)",title:"Français (Tunisie)",isRtl:!1},"fi-FI":{name:"Finnish",title:"Suomi",isRtl:!1},"fil-PH":{name:"Filipino",title:"Filipino",isRtl:!1},"ga-IE":{name:"Irish",title:"Gaeilge",isRtl:!1},"ha-NG":{name:"Hausa (Nigeria)",title:"Hausa",isRtl:!0},"he-IL":{name:"Hebrew",title:"עברית",isRtl:!0},"hi-IN":{name:"Hindi",title:"हिन्दी",isRtl:!1},"hr-HR":{name:"Croatian",title:"Hrvatski jezik",isRtl:!1},"hu-HU":{name:"Hungarian",title:"Magyar",isRtl:!1},"hy-AM":{name:"Armenian",title:"Հայերեն",isRtl:!1},"id-ID":{name:"Indonesian",title:"Bahasa Indonesia",isRtl:!1},"is-IS":{name:"Icelandic",title:"Íslenska",isRtl:!1},"it-IT":{name:"Italian (Italy)",title:"Italiano",isRtl:!1},"ja-JP":{name:"Japanese",title:"日本語",isRtl:!1},"ka-GE":{name:"Georgian",title:"ქართული",isRtl:!1},"km-KH":{name:"Khmer",title:"ភាសាខ្មែរ",isRtl:!1},"kn-IN":{name:"Kannada",title:"ಕನ್ನಡ",isRtl:!1},"ko-KR":{name:"Korean (South Korea)",title:"한국어",isRtl:!1},"ky-KG":{name:"Kyrgyz",title:"кыргызча",isRtl:!1},"lb-LU":{name:"Luxembourgish",title:"Lëtzebuergesch",isRtl:!1},"lo-LA":{name:"Lao",title:"ພາສາລາວ",isRtl:!1},"lt-LT":{name:"Lithuanian",title:"Lietuvių",isRtl:!1},"lv-LV":{name:"Latvian",title:"Latviešu",isRtl:!1},"ml-IN":{name:"Malayalam",title:"മലയാളം",isRtl:!1},"mn-MN":{name:"Mongolian",title:"Монгол",isRtl:!1},"ms-MY":{name:"Malay (Malaysia)",title:"Bahasa Melayu",isRtl:!1},"mt-MT":{name:"Maltese",title:"Malti",isRtl:!1},"my-MM":{name:"Burmese",title:"မြန်မာဘာသာ",isRtl:!1},"nb-NO":{name:"Norwegian Bokmål (Norway)",title:"Norsk (bokmål)",isRtl:!1},"ne-NP":{name:"Nepali (Nepal)",title:"नेपाली",isRtl:!1},"nl-BE":{name:"Dutch (Belgium)",title:"Nederlands (België)",isRtl:!1},"nl-NL":{name:"Dutch (Netherlands)",title:"Nederlands (Nederland)",isRtl:!1},"nn-NO":{name:"Norwegian Nynorsk",title:"Norsk (nynorsk)",isRtl:!1},"pl-PL":{name:"Polish",title:"Polski",isRtl:!1},"pt-BR":{name:"Portuguese (Brazil)",title:"Português (Brasil)",isRtl:!1},"pt-PT":{name:"Portuguese (Portugal)",title:"Português (Portugal)",isRtl:!1},"ro-RO":{name:"Romanian (Romania)",title:"Română",isRtl:!1},"ru-BY":{name:"Russian (Belarus)",title:"Русский (Белоруссия)",isRtl:!1},"ru-KZ":{name:"Russian (Kazakhstan)",title:"Русский (Казахстан)",isRtl:!1},"ru-RU":{name:"Russian (Russia)",title:"Русский",isRtl:!1},"ru-UZ":{name:"Russian (Uzbekistan)",title:"Русский (Узбекистан)",isRtl:!1},"rw-RW":{name:"Kinyarwanda",title:"Ikinyarwanda",isRtl:!1},"si-LK":{name:"Sinhala",title:"සිංහල",isRtl:!1},"sk-SK":{name:"Slovak",title:"Slovenčina",isRtl:!1},"sl-SI":{name:"Slovenian",title:"Slovenščina",isRtl:!1},"sq-AL":{name:"Albanian (Albania)",title:"Shqip",isRtl:!1},"sr-RS":{name:"Serbian (Cyrillic, Serbia)",title:"Српски",isRtl:!1},"sr-BA":{name:"Serbian (Latin, Bosnia & Herzegovina)",title:"Srpski (latinica)",isRtl:!1},"sv-SE":{name:"Swedish (Sweden)",title:"Svenska",isRtl:!1},"ta-IN":{name:"Tamil (India)",title:"தமிழ்",isRtl:!1},"th-TH":{name:"Thai",title:"ภาษาไทย",isRtl:!1},"ti-ER":{name:"Tigrinyal:!1},"tr-TR":{name:"Turkish (Turkey)",title:"Türkçe",isRtl:!1},"uk-UA":{name:"Ukrainian",title:"Українська",isRtl:!1},"ur-PK":{name:"Urdu (Pakistan)",title:"اردو",isRtl:!0},"vi-VN":{name:"Vietnamese",title:"Tiếng Việt",isRtl:!1},"ainland China)",title:"简体中文",isRtl:!1},"zh-HK":{name:"Chinese (Traditional, Hong Kong)",title:"繁體中文（香港）",isRtl:!1},"zh-TW":{name:"Chinese (Traditional, Taiwan)",title:"繁體中文（台灣）",isRtl:!1},"zu-ZA":{name:"Zulu",title:"isiZulu",isRtl:!1}};function C(){return Object.keys(w).map((function(e){return E({code:e},w[e])}))}function N(e){return!!x((0,r.Nj)(e).lang).isRtl}function x(e){var t=k(e)||"en-US";return w[t]}function k(e){if(!e)return"";var t=I();return t.includes(e)?e:e.includes("-")?k(S(e.split("-"),1)[0]):t.filter((function(t){return t.includes(e)}))[0]||""}function I(){return Object.keys(w)}var T=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function O(e){return{themeColor:"#fff",backgroundColor:"#fff",colorScheme:"light",icoFileUrl:"https://".concat(D(e),"/i18n/scm/favicon.ico"),icoImageUrl:"https://".concat(D(e),"/i18n/scm/favicon.png"),polyfillUrl:"//cdn.polyfill.io/v3/polyfill.min.js?features=es2015%2Ces2016%2Ces2017%2Ces2018%2Ces2019%2CIntersectionObserverEntry%2CIntersectionObserver",sentryUrl:"//i01.appmifile.com/webfile/globalweb/stat/js/sentry.min.js?v=5.19.0"}}var P={ae:{alternateLinkPC:"//www.mi.com/ae/",htmlTitle:"Xiaomi United Arab Emirates"},ar:{alternateLinkPC:"//www.mi.com/ar/",htmlTitle:"Xiaomi Argentina | Sitio Oficial de Xiaomi",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Detectamos que JavaScript está desactivado en este navegador. Activa JavaScript o cambia a un navegador compatible para seguir usando mi.com/ar."},at:{alternateLinkPC:"//www.mi.com/at/",htmlTitle:"Xiaomi Österreich",htmlDescription:"Willkommen auf der offiziellen Website von Xiaomi in Österreich, um die neuesten Xiaomi-Telefone, Redmi-Telefone, Xiaomi-Bänder, Smart-Home-Geräte und andere beliebte Produkte zu entdecken.",noScriptTitle:"JavaScript ist nicht verfügbar.",noScriptContent:"Wir haben festgestellt, dass JavaScript in diesem Browser deaktiviert ist. Bitte aktivieren Sie JavaScript oder wechseln Sie zu einem unterstützten Browser, um mi.com/at weiterhin zu besuchen."},bd:{alternateLinkPC:"//www.mi.com/bd/",htmlTitle:"Xiaomi Bangladesh",htmlDescription:"Welcome to Xiaomi Bangladesh official website to buy your favorite products. Here you can buy the latest Xiaomi smartphones, Redmi smartphones, Mi Bands, Power banks and other popular products, as well as various irregular discounts, all on mi.com/bd."},bg:{alternateLinkPC:"//www.mi.com/bg/",htmlTitle:"Xiaomi България - Официалният сайт на Xiaomi",htmlDescription:"Добре дошли на официалния сайт на компанията Xiaomi, където ще откриете най-новите модели на смартфоните Xiaomi, Redmi, Xiaomi смарт гривни, Smart Home устройства и други популярни продукти.",noScriptTitle:"JavaScript не е наличен.",noScriptContent:"Установихме, че JavaScript не се поддържа в този браузър. Моля, активирайте JavaScript или преминете към поддържан браузър, за да продължите да разглеждате mi.com/bg."},br:{alternateLinkPC:"//www.mi.com/br/",htmlTitle:"Xiaomi Brasil",noScriptTitle:"O JavaScript não está disponível.",noScriptContent:"Detectamos que o JavaScript está desabilitado neste navegador. Mude para um navegador compatível para continuar usando o mi.com/br."},by:{alternateLinkPC:"//www.mi.com/by/",fontFamily:"Roboto",htmlTitle:"Официальный сайт Xiaomi",htmlDescription:"Добро пожаловать на официальный сайт Xiaomi Узнайте первыми о новых смартфонах Xiaomi и Redmi, фитнес-браслетах, устройствах умного дома и других новинках бренда.",noScriptTitle:"JavaScript недоступен.",noScriptContent:"Мы обнаружили, что в этом браузере отключен JavaScript. Пожалуйста, включите JavaScript или откройте страницу в другом браузера, чтобы посетить mi.com/by."},ca:{alternateLinkPC:"//www.mi.com/ca/",htmlTitle:"Xiaomi Canada | Xiaomi Official Website"},ci:{alternateLinkPC:"//www.mi.com/ci/",htmlTitle:"Xiaomi Côte d'Ivoire Official Website",htmlDescription:"Bienvenue sur le site officiel de Xiaomi pour découvrir les nouveaux téléphones Xiaomi, les téléphones Redmi, les bracelets Xiaomi, appareils Smart Home et autres produits populaires.",noScriptTitle:"JavaScript n’est pas disponible.",noScriptContent:"Nous avons détecté que JavaScript est désactivé dans ce navigateur. Veuillez activer JavaScript ou passer à un navigateur pris en charge pour continuer à visiter mi.com/ci."},cl:{alternateLinkPC:"//www.mi.com/cl/",htmlTitle:"Xiaomi Chile",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Detectamos que JavaScript está desactivado en este navegador. Activa JavaScript o cambia a un navegador compatible para seguir usando mi.com/cl."},cn:{alternateLinkPC:"//www.mi.com/",alternateLinkM:"//mobile.mi.com",fontFamily:"MiSans",htmlTitle:"小米商城",htmlImage:"https://i01.appmifile.com/webfile/globalimg/share/default.jpg",htmlKeywords:"xiaomi, redmi, 小米, 红米, 小米商城",htmlDescription:"小米官网直营小米公司旗下所有产品，包括 Xiaomi 手机系列、Redmi 红米系列、小米电视、笔记本、米家智能家居等，同时提供小米客户服务及售后支持。",noScriptTitle:"JavaScript 不可用",noScriptContent:"我们检测到浏览器禁用了 JavaScript。请启用 JavaScript 或改用支持的浏览器后继续访问 mi.com。"},co:{alternateLinkPC:"//www.mi.com/co/",htmlTitle:"Xiaomi Colombia | Sitio Oficial de Xiaomi",htmlDescription:"¡Bienvenido al sitio oficial de Xiaomi Colombia! Descubre la tecnología más innovadora y disfruta de una experiencia única en celulares y smart home. ¡Compra ahora y forma parte de la revolución tecnológica!",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Detectamos que JavaScript está desactivado en este navegador. Activa JavaScript o cambia a un navegador compatible para seguir usando mi.com/co."},cz:{alternateLinkPC:"//www.mi.com/cz/",htmlTitle:"Xiaomi Czech",noScriptTitle:"JavaScript není k dispozici.",noScriptContent:"Zjistili jsme, že JavaScript je v tomto prohlížeči zakázaný. Povolte ho prosím nebo přejděte na podporovaný prohlížeč, abyste mohli používat mi.com/cz i nadále."},de:{alternateLinkPC:"//www.mi.com/de/",alternateLinkM:"//mobile.mi.com/de",htmlTitle:"Xiaomi Deutschland",htmlDescription:"Willkommen auf der offiziellen Website von Xiaomi Deutschland, um Ihre Lieblingsprodukte zu kaufen. Hier können Sie die neuesten Xiaomi-Smartphones, Redmi-Smartphones, Mi Bands, Powerbanks und andere beliebte Produkte sowie verschiedene unregelmäßige Rabatte auf mi.com/de kaufen.",noScriptTitle:"JavaScript ist nicht verfügbar.",noScriptContent:"Wir haben festgestellt, dass JavaScript in diesem Browser deaktiviert ist. Aktiviere JavaScript bitte oder wechsle zu einem unterstützten Browser, um mi.com/de weiter zu nutzen."},ec:{alternateLinkPC:"//www.mi.com/ec/",htmlTitle:"Xiaomi Ecuador | Sitio Oficial de Xiaomi",htmlDescription:"¡Bienvenido al sitio oficial de Xiaomi Ecuador! Explora la tecnología más innovadora en smartphones, gadgets y dispositivos smart para tu hogar. ¡Compra ahora y forma parte del futuro de la tecnología!",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Hemos identificado que JavaScript está desactivado en este navegador. Por favor, activa JavaScript o cambia a un navegador compatible para poder seguir visitando mi.com/ec."},eg:{alternateLinkPC:"//www.mi.com/eg/",fontFamily:"Tajawal",htmlTitle:"Xiaomi مصر",noScriptTitle:"JavaScript غير متوفر.",noScriptContent:"لقد اكتشفنا أن JavaScript معطل في هذا المتصفح. الرجاء تمكين JavaScript أو التبديل إلى مستعرض معتمد للاستمرار في استخدام mi.com/eg."},es:{alternateLinkPC:"//www.mi.com/es/",alternateLinkM:"//mobile.mi.com/es",htmlTitle:"Xiaomi España",htmlDescription:"Bienvenido al sitio web oficial de Xiaomi España para comprar tus productos favoritos. Aquí puede comprar los últimos teléfonos inteligentes Xiaomi, teléfonos inteligentes Redmi, Mi Bands, Power Banks y otros productos populares, así como varios descuentos irregulares, todo en mi.com/es.",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Detectamos que JavaScript está desactivado en este navegador. Activa JavaScript o cambia a un navegador compatible para seguir usando mi.com/es."},fr:{alternateLinkPC:"//www.mi.com/fr/",alternateLinkM:"//mobile.mi.com/fr",htmlTitle:"Xiaomi France",htmlDescription:"Bienvenue sur le site officiel de Xiaomi France pour acheter vos produits préférés. Ici, vous pouvez acheter les derniers smartphones Xiaomi, smartphones Redmi, Mi Bands, banques d'alimentation et autres produits populaires, ainsi que diverses remises irrégulières, le tout sur mi.com/fr.",noScriptTitle:"JavaScript n'est pas disponible.",noScriptContent:"Nous avons détecté que JavaScript est désactivé dans ce navigateur. Veuillez activer JavaScript ou utiliser un navigateur pris en charge pour continuer à vous servir de mi.com/fr."},global:{alternateLinkPC:"//www.mi.com/global/",htmlTitle:"Xiaomi Global Home",htmlDescription:"Welcome to Xiaomi global official website to buy your favorite products. Here you can buy the latest Xiaomi smartphones, Redmi smartphones, Mi Bands, Power banks and other popular products, as well as various irregular discounts, all on mi.com/global."},gt:{alternateLinkPC:"//www.mi.com/gt/",htmlTitle:"Xiaomi Guatemala | Sitio Oficial de Xiaomi",htmlDescription:"¡Bienvenido al sitio oficial de Xiaomi Guatemala! Explora la tecnología más innovadora en smartphones, gadgets y dispositivos smart para tu hogar. ¡Compra ahora y forma parte del futuro de la tecnología!",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Hemos identificado que JavaScript está desactivado en este navegador. Por favor, activa JavaScript o cambia a un navegador compatible para poder seguir visitando mi.com/gt."},gr:{alternateLinkPC:"//www.mi.com/gr/",fontFamily:"Roboto",htmlTitle:"Xiaomi Greece",noScriptTitle:"Η JavaScript δεν είναι διαθέσιμη.",noScriptContent:"Εντοπίσαμε ότι η JavaScript είναι απενεργοποιημένη σε αυτό το πρόγραμμα περιήγησης. Ενεργοποιήστε τη JavaScript ή χρησιμοποιήστε ένα υποστηριζόμενο πρόγραμμα περιήγησης για να συνεχίσετε να χρησιμοποιείτε το mi.com/gr."},hk:{fbDomainVerification:"4986wwjrddk3etwwmq78d6lnknpwqy",alternateLinkPC:"//www.mi.com/hk/",alternateLinkM:"//mobile.mi.com/hk",fontFamily:"MiSans",htmlTitle:"小米香港官網",htmlKeywords:"小米, 小米官網, 小米香港官網, 小米網, mi.com, mi, xiaomi, xiaomi.com, 小米手機, 紅米手機, 小米手環, 小米盒子, 小米行動電源, 小米之家, 紅米, 小米香港, 小米 香港, mi, hk, xiaomi hk, 小米商城, 小米wifi, mi小米手機官網香港, 小米手機官網, 小米之家香港, 香港小米之家, 香港小米",htmlDescription:"歡迎來到小米香港官方網站，我們為您提供小米手機、紅米手機、小米手環、行動電源、智能硬件、耳機音箱及各種配件，更有各項不定期的專屬優惠，全部都在 mi.com/hk 。",noScriptTitle:"JavaScript 無法使用",noScriptContent:"我們發現此瀏覽器中的 JavaScript 已停用。請啟用 JavaScript 或切換至受支援的瀏覽器，以繼續使用 mi.com/hk 。"},hr:{alternateLinkPC:"//www.mi.com/hr/",htmlTitle:"Xiaomi Hrvatska - Službena stranica tvrtke Xiaomi",htmlDescription:"Dobrodošli na službenu stranicu tvrtke Xiaomi Hrvatska. Otkrijte najnovije telefone iz Xiaomi i Redmi serije, Xiaomi pametne narukvice, pametne kućanske uređaje i druge popularne proizvode.",noScriptTitle:"JavaScript nije dostupna.",noScriptContent:"Otkrili smo da je JavaScript onemogućen u ovom pregledniku. Omogućite JavaScript ili prijeđite na podržani preglednik kako biste nastavili pretraživati mi.com/hr."},hu:{alternateLinkPC:"//www.mi.com/hu/",htmlTitle:"Xiaomi Magyarország - Xiaomi hivatalos weboldala",htmlDescription:"Üdvözöljük a Xiaomi hivatalos weboldalán, ahol felfedezheted a legújabb Xiaomi telefonokat, Redmi telefonokat, Xiaomi aktivitásmérőket, Smart Home eszközöket és más népszerű termékeket.",noScriptTitle:"A JavaScript nem elérhető",noScriptContent:"Azt észleltük, hogy a JavaScript le van tiltva ebben a böngészőben. Kérjük engedélyezze vagy váltson egy támogatott böngészőre, hogy továbbra is tudja látogatni a mi.com/hu oldalt."},id:{alternateLinkPC:"//www.mi.co.id/id/",alternateLinkM:"//mobile.mi.co.id/id",htmlTitle:"Xiaomi Indonesia",htmlDescription:"Selamat datang di situs resmi Xiaomi Indonesia untuk membeli produk favorit Anda. Di sini Anda dapat membeli smartphone Xiaomi terbaru, smartphone Redmi, Mi Band, Power bank, dan produk populer lainnya, serta berbagai diskon tidak teratur, semuanya di mi.co.id/id.",noScriptTitle:"JavaScript tidak tersedia.",noScriptContent:"Kami mendeteksi bahwa JavaScript dinonaktifkan di browser ini. Silakan aktifkan JavaScript atau beralih ke browser yang didukung untuk terus menggunakan mi.co.id/id."},iq:{alternateLinkPC:"//www.mi.com/iq/",fontFamily:"Tajawal",htmlTitle:"Xiaomi Iraq | Xiaomi Official Website Xiaomi العراق |   الموقع الرسمي لشاومي",htmlDescription:" مرحبًا بكم في موقع الرسمي لـ Xiaomi العراق لاكتشاف أحدث هواتف  Xiaomi، هواتف  Redmi،  أساور الذكية من Xiaomi، اجهزة منزل الذكية ومنتجات غيرها.",noScriptTitle:"JavaScript غير متوفر.",noScriptContent:"لقد اكتشفنا أن JavaScript غير متوفر في هذا المتصفح. يرجى تمكين JavaScript أو التبديل إلى متصفح مدعوم لمواصلة زيارة mi.com/iq."},in:{alternateLinkPC:"//www.mi.com/in/",alternateLinkM:"//mobile.mi.com/in",htmlTitle:"Xiaomi India",htmlDescription:"Xiaomi India official store helps you to discover Mi and Redmi mobiles, accessories, ecosystem products and many more."},it:{alternateLinkPC:"//www.mi.com/it/",alternateLinkM:"//mobile.mi.com/it",htmlTitle:"Xiaomi Italia",htmlKeywords:"xiaomi, mi, xiaomi italia, redmi, mi store, smartphone xiaomi, mi italia, mi.com",htmlDescription:"Benvenuto nel sito Web ufficiale di Xiaomi Italia per acquistare i tuoi prodotti preferiti. Qui puoi acquistare gli ultimi smartphone Xiaomi, smartphone Redmi, Mi Band, Power bank e altri prodotti popolari, oltre a vari sconti irregolari, tutti su mi.com/it.",noScriptTitle:"JavaScript non è disponibile.",noScriptContent:"JavaScript è disabilitato nel browser. Per continuare a utilizzare mi.com/it, abilita JavaScript o passa a un browser supportato."},jp:{alternateLinkPC:"//www.mi.com/jp/",alternateLinkM:"//mobile.mi.com/jp",fontFamily:"MPLUS1p",htmlTitle:"Xiaomi Japan",htmlDescription:"Xiaomi Japan (日本) 公式 ウェブサイトへようこそ。お気に入りの製品を購入できます。ここでは、最新のXiaomiスマートフォン、Redmiスマートフォン、Mi Bands、パワーバンク、その他の人気商品、およびさまざまな不定期割引をすべて mi.com/jp で購入できます。",noScriptTitle:"JavaScript を使用できません",noScriptContent:"このブラウザでは JavaScript が無効になっています。引き続き mi.com/jp を利用するため、JavaScript を有効にするか、サポートされているブラウザに切り替えてください。"},ke:{alternateLinkPC:"//www.mi.com/ke/",htmlTitle:"Xiaomi Kenya Offical Website",htmlDescription:"Welcome to Xiaomi Kenya official website to discover the latest Xiaomi Phones, Redmi Phones, Xiaomi Bands, Smart Home Devices and other popular products.",noScriptTitle:"JavaScript is not available.",noScriptContent:"We’ve detected that JavaScript is disabled in this browser. Please enable JavaScript or switch to a supported browser to continue visiting mi.com/ke."},kh:{alternateLinkPC:"//www.mi.com/kh/",fontFamily:"NotoSansKhmer",htmlTitle:"Xiaomi Cambodia | គេហទំព័រផ្លូវការរបស់ Xiaomi Cambodia ប្រចាំប្រទេសកម្ពុជា",htmlDescription:"សូមស្វាគមន៍មកកាន់គេហទំព័រផ្លូវការរបស់ Xiaomi Cambodia ប្រចាំប្រទេសកម្ពុជា ដើម្បីស្វែងរកទូរស័ព្ទដែលថ្មីបំផុតរបស់ Xiaomi, ទូរស័ព្ទម៉ាក Xiaomi, ឧបករណ៍ Smart Home និងផលិតផលពេញនិយមផ្សេងៗទៀត",noScriptTitle:"JavaScript មិនអាចប្រើបានទេ។",noScriptContent:"យើងបានរកឃើញថា JavaScript ត្រូវបានបិទនៅក្នុងកម្មវិធីរុករកនេះ។ សូមបើក JavaScript ឬប្តូរទៅកម្មវិធីរុករកដែលគាំទ្រ ដើម្បីបន្តការចូលមើល mi.com/kh."},kr:{alternateLinkPC:"//www.mi.com/kr/",fontFamily:"NotoSansKR",htmlTitle:"Xiaomi 코리아",noScriptTitle:"자바스크립트를 사용할 수 없습니다.",noScriptContent:"이 브라우저에서 자바스크립트를 사용할 수 없는 것으로 감지되었습니다. mi.com/kr을 계속 사용하려면 자바스크립트를 사용 설정하거나 지원되는 브라우저로 전환하세요."},kz:{alternateLinkPC:"//www.mi.com/kz/",fontFamily:"Roboto",htmlTitle:"Официальный сайт Xiaomi",htmlDescription:"Добро пожаловать на официальный сайт Xiaomi Узнайте первыми о новых смартфонах Xiaomi и Redmi, фитнес-браслетах, устройствах умного дома и других новинках бренда.",noScriptTitle:"JavaScript недоступен.",noScriptContent:"Мы обнаружили, что в этом браузере отключен JavaScript. Пожалуйста, включите JavaScript или откройте страницу в другом браузера, чтобы посетить mi.com/kz."},lk:{alternateLinkPC:"//www.mi.com/lk/",htmlTitle:"Xiaomi Sri Lanka"},ma:{alternateLinkPC:"//www.mi.com/ma/",fontFamily:"Tajawal",htmlTitle:"Xiaomi The Kingdom of Morocco",htmlDescription:"مرحبا بكم بالموقع الرسمي لشاومي المغرب الذي سيعرفكم على العديد من هواتف شاومي، هواتف ريدمي، أجهزة شاومي الذكية، و منتجات خاصة بالمنزل الذكي و أجهزة شهيرة أخرى.",noScriptTitle:"JavaScript غير متوفر.",noScriptContent:"لقد اكتشفنا أن JavaScript معطل في هذا المتصفح. الرجاء تمكين JavaScript أو التبديل إلى مستعرض معتمد للاستمرار في استخدام mi.com/ma."},mm:{alternateLinkPC:"//www.mi.com/mm/",htmlTitle:"Xiaomi Myanmar | Xiaomi Official Website"},mx:{alternateLinkPC:"//www.mi.com/mx/",alternateLinkM:"//mobile.mi.com/mx",htmlTitle:"Xiaomi México",htmlKeywords:"teléfonos xiaomi, celular xiaomi, celulares xiaomi, ultimo xiaomi, teléfonos xiaomi, xiaomi teléfono, teléfono xiaomi, ultimo celular xiaomi, xiaomi mobile, xiaomi 5g, precio de xiaomi, ofertas xiaomi, xiaomi móvil, celulares xiaomi precios, último modelo de xiaomi, mejor xiaomi, comprar xiaomi, xiaomi oficial, xiaomi phones, xiaomi precio méxico, xiaomi méxico oficial, precio xiaomi mi, xiaomi precio",htmlDescription:"Xiaomi, una empresa global que produce productos de calidad a precios honestos.",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Detectamos que JavaScript está desactivado en este navegador. Activa JavaScript o cambia a un navegador compatible para seguir usando mi.com/mx."},my:{alternateLinkPC:"//www.mi.com/my/",htmlTitle:"Xiaomi Malaysia",htmlDescription:"Welcome to Xiaomi Malaysia website to buy your favorite products. Here you can buy the latest Xiaomi smartphones, Redmi smartphones, Mi Bands, Power banks and other popular products, as well as various irregular discounts, all on mi.com/my."},ng:{alternateLinkPC:"//www.mi.com/ng/",htmlTitle:"Xiaomi Nigeria"},nl:{alternateLinkPC:"//www.mi.com/nl/",alternateLinkM:"//mobile.mi.com/nl",htmlTitle:"Xiaomi Nederland",htmlDescription:"Welkom op de officiële website van Xiaomi Nederland om uw favoriete producten te kopen. Hier kunt u de nieuwste Xiaomi-smartphones, Redmi-smartphones, Mi Bands, Powerbanks en andere populaire producten kopen, evenals verschillende onregelmatige kortingen, allemaal op mi.com/nl.",noScriptTitle:"JavaScript is niet beschikbaar",noScriptContent:"We hebben gedetecteerd dat JavaScript in deze browser is uitgeschakeld. Schakel JavaScript in of stap over op een ondersteunde browser om mi.com/nl te blijven gebruiken."},np:{alternateLinkPC:"//www.mi.com/np/",htmlTitle:"Xiaomi Nepal"},pa:{alternateLinkPC:"//www.mi.com/pa/",htmlTitle:"Xiaomi Panamá | Sitio Oficial de Xiaomi",htmlDescription:"¡Bienvenido al sitio oficial de Xiaomi Panamá! Explora la tecnología más innovadora en smartphones, gadgets y dispositivos smart para tu hogar. ¡Compra ahora y forma parte del futuro de la tecnología!",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Hemos identificado que JavaScript está desactivado en este navegador. Por favor, activa JavaScript o cambia a un navegador compatible para poder seguir visitando mi.com/pa."},pe:{alternateLinkPC:"//www.mi.com/pe/",htmlTitle:"Xiaomi Perú | Xiaomi Sitio Oficial de Xiaomi",htmlDescription:"¡Bienvenido al sitio oficial de Xiaomi Perú! Explora la tecnología más innovadora en smartphones, gadgets y dispositivos smart para tu hogar. ¡Compra ahora y forma parte del futuro de la tecnología!",noScriptTitle:"JavaScript no está disponible.",noScriptContent:"Detectamos que JavaScript está desactivado en este navegador. Activa JavaScript o cambia a un navegador compatible para seguir usando mi.com/pe."},ph:{alternateLinkPC:"//www.mi.com/ph/",alternateLinkM:"//mobile.mi.com/ph",htmlTitle:"Xiaomi Philippines",htmlDescription:"Welcome to Xiaomi Philippines official website to buy your favorite products. Here you can buy the latest Xiaomi smartphones, Redmi smartphones, Mi Bands, Power banks and other popular products, as well as various irregular discounts, all on mi.com/ph."},pk:{alternateLinkPC:"//www.mi.com/pk/",htmlTitle:"Xiaomi Pakistan"},pl:{alternateLinkPC:"//www.mi.com/pl/",alternateLinkM:"//mobile.mi.com/pl",htmlTitle:"Xiaomi Polska",htmlDescription:"Xiaomi to globana firma produkująca jakościowe produkty w rynkowych cenach.",noScriptTitle:"Obsługa JavaScript jest niedostępna.",noScriptContent:"Obsługa JavaScript jest wyłączona w tej przeglądarce. Aby dalej korzystać ze strony mi.com/pl, włącz obsługę JavaScript lub zainstaluj jedną z obsługiwanych przeglądarek."},ro:{alternateLinkPC:"//www.mi.com/ro/",htmlTitle:"Xiaomi România | Site oficial Xiaomi",htmlDescription:"Bine ai venit pe pagina oficială Xiaomi România, unde poți descoperi cele mai noi telefoane Xiaomi, telefoane Redmi, dispozitive pentru casă inteligentă și alte produse inovatoare",noScriptTitle:"JavaScript nu este disponibil.",noScriptContent:"Am detectat faptul că JavaScript este dezactivat în acest browser. Pentru a folosi mi.com/ro în continuare, activează JavaScript sau comută la un browser acceptat."},rs:{alternateLinkPC:"//www.mi.com/rs/",htmlTitle:"Xiaomi Srbija - Zvanični sajt kompanije Xiaomi",htmlDescription:"Dobro došli na zvaničnu webstranicu kompanije Xiaomi i otkrijte najnovije Xiaomi telefone, Redmi telefone, Xiaomi pametne narukvice, Pametne kućne aparate i ostale popularne uređaje.",noScriptTitle:"Java nije dostupna.",noScriptContent:"Detektovali smo da java JavaScript isključena na ovom pretraživaču. Da biste nastavili surf na mi.com/rs, molimo Vas da dozvolite JavaScript ili se prebacite na pretraživač koji dozvoljava JavaScript."},ru:{alternateLinkPC:"//www.mi.com/ru/",alternateLinkM:"//mobile.mi.com/ru",fontFamily:"Roboto",htmlTitle:"Xiaomi Россия",htmlDescription:"Добро пожаловать на официальный сайт Xiaomi Россия, чтобы купить ваши любимые продукты. Здесь вы можете купить новейшие смартфоны Xiaomi, смартфоны Redmi, браслеты Mi Band, внешние аккумуляторы и другие популярные товары, а также различные нерегулярные скидки на mi.com/ru.",noScriptTitle:"Функции JavaScript недоступны.",noScriptContent:"В вашем браузере отключены функции JavaScript. Включите их или начните использовать поддерживаемый браузер, чтобы продолжить пользоваться сайтом mi.com/ru."},sa:{alternateLinkPC:"//www.mi.com/sa/",fontFamily:"Tajawal",htmlTitle:"Xiaomi Saudi Arabia",noScriptTitle:"JavaScript غير متوفر.",noScriptContent:"لقد اكتشفنا أن JavaScript معطل في هذا المتصفح. الرجاء تمكين JavaScript أو التبديل إلى مستعرض معتمد للاستمرار في استخدام mi.com/sa."},se:{alternateLinkPC:"//www.mi.com/se/",htmlTitle:"Xiaomi Sverige",noScriptTitle:"JavaScript är inte tillgängligt.",noScriptContent:"Vi har upptäckt att JavaScript är inaktiverat i denna webbläsare. Använd en webbläsare som stöds om du vill fortsätta använda mi.com/se."},sg:{alternateLinkPC:"//www.mi.com/sg/",htmlTitle:"Xiaomi Singapore",htmlDescription:"Welcome to Xiaomi Singapore official website to buy your favorite products. Here you can buy the latest Xiaomi smartphones, Redmi smartphones, Mi Bands, Power banks and other popular products, as well as various irregular discounts, all on mi.com/sg."},th:{alternateLinkPC:"//www.mi.com/th/",fontFamily:"MiSansThai",htmlTitle:"Xiaomi Thailand",noScriptTitle:"JavaScript ไม่พร้อมใช้งาน",noScriptContent:"เราตรวจพบว่าไม่มีการเปิดใช้งาน JavaScript ในเบราว์เซอร์นี้ โปรดเปิดใช้งาน JavaScript หรือเปลี่ยนไปใช้เบราว์เซอร์ที่รองรับเพื่อใช้งาน mi.com/th"},tn:{alternateLinkPC:"//www.mi.com/tn/",htmlTitle:"Xiaomi Tunisie | Site Officiel Xiaomi",htmlDescription:"Bienvenue sur le site officiel de Xiaomi Tunisie, venez découvrir les dernières nouveautés de la marque Xiaomi : smartphones Redmi et Xiaomi, bracelets, appareils Smart Home et autres produits populaires.",noScriptTitle:"JavaScript is not available.",noScriptContent:"We’ve detected that JavaScript is disabled in this browser. Please enable JavaScript or switch to a supported browser to continue visiting mi.com/tn."},tr:{alternateLinkPC:"//www.mi.com/tr/",alternateLinkM:"//mobile.mi.com/tr",htmlTitle:"Xiaomi Türkiye",htmlDescription:"Favori ürünlerinizi satın almak için Xiaomi Türkiye resmi web sitesine hoş geldiniz. Burada en yeni Xiaomi akıllı telefonları, Redmi akıllı telefonları, Mi Bantları, Güç bankaları ve diğer popüler ürünlerin yanı sıra çeşitli düzensiz indirimleri mi.com/tr adresinden satın alabilirsiniz.",noScriptTitle:"JavaScript kullanılamıyor.",noScriptContent:"Bu tarayıcıda JavaScript'in engellenmiş olduğunu tespit ettik. JavaScript'e izin vererek veya desteklenen bir tarayıcıya geçiş yaparak mi.com/tr'u kullanmaya devam edebilirsin."},tw:{fbDomainVerification:"qv0t21ahk3kxrk038hfzdgxkso0n9q",alternateLinkPC:"//www.mi.com/tw/",alternateLinkM:"//mobile.mi.com/tw",fontFamily:"MiSans",htmlTitle:"小米台灣官網",htmlKeywords:"小米, 小米官網, 小米台灣官網, 小米網, mi.com, mi, xiaomi, xiaomi.com, 小米手機, 紅米手機, 小米手環, 小米盒子, 小米行動電源, 小米之家, www.mi.com/tw, 紅米, 小米台灣, 小米 台灣, xiaomi taiwan, 小米商城, 小米wifi",htmlDescription:"快上小米台灣官網選購您喜歡的商品，打造智慧有型的新生活。您可以在這裡買到最新的手機、小米手環、小米盒子、行動電源等熱門產品，更有各項不定期的好康優惠，全部都在 mi.com/tw 。",noScriptTitle:"JavaScript 無法使用",noScriptContent:"我們發現此瀏覽器中的 JavaScript 已停用。請啟用 JavaScript 或切換至受支援的瀏覽器，以繼續使用 mi.com/tw 。"},ua:{alternateLinkPC:"//www.mi.com/ua/",fontFamily:"Roboto",htmlTitle:"Xiaomi Ukraine",noScriptTitle:"JavaScript недоступно.",noScriptContent:"Ми виявили, що в цьому браузері вимкнуто JavaScript. Щоб продовжити користуватися mi.com/ua, увімкніть JavaScript або перейдіть у браузер, LinkM:"//mobile.mi.com/uk",htmlTitle:"Xiaomi UK",htmlDescription:"Welcome to Xiaomi UK official website to buy your favorite products. Here you can buy the latest Xiaomi smartphones, Redmi smartphones, Mi Bands, Power banks and other popular products, as well as various irregular discounts, all on mi.com/uk."},us:{alternateLinkPC:"//www.mi.com/us/",htmlTitle:"Xiaomi United States"},uz:{alternateLinkPC:"//www.mi.com/uz/",fontFamily:"Roboto",htmlTitle:"Официальный сайт Xiaomi",htmlDescriptфициальный сайт Xiaomi Узнайте первыми о новых смартфонах Xiaomi и Redmi, фитнес-браслетах, устройствах умного дома и других новинках бренда.",noScriptTitle:"JavaScript недоступен.",noScriptContent:"Мы обнаружили, что в этом браузере отключен JavaScript. Пожалуйста, включите JavaScript или откройте страницу в другом браузера, чтобы посетить mi.com/uz."},vn:{alternateLinkPC:"//www.mi.com/vn/",fontFamily:"Roboto",htmlTitle:"Xiaomi Việt Nam",noScriptTitle:"JavaScript không có sẵn.",noScriptContent:"Chúng tôi phát hiện JavaScript đã bị tắt ở trình duyệt này. Vui lòng chuyển sang trình duyệt được hỗ trợ để tiếp tục sử dụng mi.com/vn."},za:{alternateLinkPC:"//www.mi.com/za/",htmlTitle:"Xiaomi South Africa Official Website",htmlDescription:"Welcome to Xiaomi South Africa official website to discover the latest Xiaomi Phones, Redmi Phones, Xiaomi Bands, Smart Home Devices and other popular products.",noScriptTitle:"JavaScript is not available.",noScriptContent:"We’ve detected that JavaScript is disabled in this browser. Please enable JavaScript or switch to a supported browser to continue visiting mi.com/za."}};function M(e){var t={fbDomainVerification:"",fbAppId:"",alternateLinkPC:"",alternateLinkM:"",fontFamily:"CamphorPro",htmlTitle:"Xiaomi",htmlImage:"https://".concat(D(e),"/i18n/share/default.jpg"),htmlKeywords:"xiaomi, mi, redmi",htmlDescription:"Xiaomi, a global company producing quality products at honest pricing.",noScriptTitle:"JavaScript is not available.",noScriptContent:"We’ve detected that JavaScript is disabled in this browser. Please enable JavaScript or switch to a supported browser to continue using mi.com/".concat(e,".")};return Object.assign(t,P[e]||{})}function A(e){return Object.keys(P).map((function(t){return"mobile"===e?[t,P[t].alternateLinkM||""]:[t,P[t].alternateLinkPC||""]})).filter((function(e){var t=T(e,2),n=t[0];return!!t[1]&&"global"!==n})).map((function(e){var t=T(e,2),n=t[0],o=t[1];return["".concat((0,r.Nj)(n).lang),"".concat(o)]}))}function D(e){var t={nld:"i05.appmifile.com",rus:"i04.appmifile.com",ind:"i03.appmifile.com",sgp:"i02.appmifile.com",chn:"i01.appmifile.com"};return t[(0,r.af)(e)]||t.sgp}},5403:(e,t)=>{"use strict";t.h=void 0,t.h={local:"in",wwwSiteV3:{pc:"//www.mi.com/in",m:"//mobile.mi.com/in"},wwwSite:{pc:"//www.mi.com/in",m:"//www.mi.com/in"},buySite:{pc:"//store.mi.com/in",m:"//m.store.mi.com/in"},apiSite:"//in-api.buy.mi.com/in",opxApiSite:"//in-api.buy.mi.com/i18n_op/opx/in",apiIntraSite:"//in.api.b2c.srv",goSite:"//in-go.buy.mi.com/in",goD2sSite:"//in-d2s.buy.mi.com/in",bigTapSite:"//in-tp.mi.com",hdSite:"//in-hd.c.mi.com/in",salesMiddleSite:"",uploadSite:"//in-upload.store.mi.com",kachiShopSite:"//m.kachishop.com/in",eventBaseUrl:"//in.event.mi.com/in",seckillBaseUrl:"//in-fs.buy.mi.com/in",lang:"en-IN",langList:[],isToC:!0,dayjsLocal:"en-in",dayjsTimezone:"Asia/Kolkata",deployArea:"ind",dateTimeFormat:"DD/MM/YYYY hh:mm:ss a",dateTimeFormatNoSecond:"DD/MM/YYYY hh:mm a",dateTik:"DD/MM/YYYY dddd",dateTimeFormatNumMDay:"DD/MM",dateTimeFormatLongMDay:"D MMMM",dateTimeFormatAbbrMDay:"D MMM",dateTimeFormatYear:"YYYY",dateTimeFormatMonth:"MMM",dateTimeFormatDay:"D",unicodePropertyEscapes:["Latin"],shareSocialList:["facebook","twitter","whatsapp","telegram","clipboard"],phoneCode:"+91",phoneMaxLength:10,zipCodeMaxLength:6,siteCode:"in",siteId:0,regionId:0,xmsLanguage:"EN_IN",signUpUrl:"",capitalLongitude:77.1389453,capitalLatitude:28.5274851,serviceOnline:"",serviceEmail:"",serviceTimeLimit:"",currencyCode:"INR",currencySymbol:"₹",currencyPosition:"pre",currencyPrefix:"",currencySuffix:"",currencyFunction:"spaceHundredsCommaThousCommaDec",currencyExpect:"integer",currencyPrecision:2,currencyBlindPrice:"???",originalFollowFrom:!1,originalRrpLabel:!1,forterSiteId:"",stat:{domainId:{web:108,app:124,ios:124},oneTrack:{APP_ID:"2882303761517399893",PRO_ID:"16"},cookieDomain:".mi.com",cookieDefaultOnCat:"0,1,2,3:",cookiePolicyLevel:"low"},google:{ga:{web:"UA-51415204-3",app:"UA-51415204-15",ios:"UA-51415204-15"},gtm:"GTM-PHF5K9",captcha:"6Le2lq4ZAAAAAICguqzsVnvy9ZTCNYzl3fZyJJ9Q",ga4:"G-YYVZDLF0XE",moe:{appId:"TH4OO0Y5GM7O9WTRT9HKJ9UW",scriptUrl:"https://cdn.moengage.com/webpush/moe_webSdk.min.latest.js",isOpenDebug:0,cluster:"DC_3",swPath:"/in/service-worker.js",swScope:"/in/"}},liveChat:{appId:"",appVisitorId:"",orgId:"d76ce7ee-a2ca-4e94-b0c8-b9af8529d793",orgUrl:"https://unqd76ce7eea2ca4e94b0c8b9af8529d-crm5.omnichannelengagementhub.com",scriptSrc:"https://oc-cdn-public-apj.azureedge.net/livechatwidget/scripts/LiveChatBootstrapper.js"}}},1943:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(2345);function o(e){return(0,r.S)(e)}},1444:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(7294),o=n(4184),a=n.n(o),i=n(1893);function c(e){var t,n=e.baseClass,o=e.showArrow,c=e.itemDirection,s=e.itemEnergyInfo,l=s.labelImage,u=s.labelLink,d=s.infoContent,m=s.infoLink,p=a()(["".concat(n,"__item")],((t={})["".concat(n,"__item--column")]="column"===c,t));function f(e,t){e.preventDefault(),e.stopPropagation(),window.open(t)}var h=function(){return r.createElement("img",{className:"".concat(n,"__image"),src:l,alt:i.get("energy label"),onClick:function(e){return!u&&e.stopPropagation()}})};return r.createElement("div",{className:p},l?u?r.createElement("a",{className:"".concat(n,"__link ").concat(n,"__link--image"),href:u,target:"_blank",rel:"noreferrer",onClick:function(e){return f(e,u)}},h()):h():null,m?r.createElement("a",{className:"".concat(n,"__link ").concat(n,"__link--info"),href:m,target:"_blank",rel:"noreferrer",onClick:function(e){return f(e,m)}},o?"".concat(d||i.get("Product information sheet")," >"):d||i.get("Product information sheet")):null)}var s=n(5814);function l(e){var t,n=e.className,o=e.theme,i=void 0===o?"light":o,l=e.showArrow,u=void 0!==l&&l,d=e.groupDtemDirection,f=void 0===p?"row":p,h=e.energyInfo,v=Array.from(h||[]).filter((function(e){return(0,s.p)(e)}));if(!v.length)return null;var g="mi-energy-label",y=a()(g,"".concat(g,"--").concat(i),((t={})["".concat(g,"--row")]="row"===m,t["".concat(n)]=!!n,t));return r.createElement("div",{className:y},v.map((function(e,t){return r.createElement(c,{key:"".concat(e.labelImage,"-").concat(t),baseClass:g,showArrow:u,itemDirection:f,itemEnergyInfo:e})})))}},5814:(e,t,n)=>{"use strict";function r(e){var t=e.labelImage,n=e.infoLink;return!(!t&&!n)}function []),Array.from(e||[]).map((function(e){return{labelImage:String((null==e?void 0:e.energy_image)||""),labelLink:String((null==e?void 0:e.energy_info)||""),infoContent:String((null==e?void 0:e.product_energy)||""),infoLink:String((null==e?void 0:e.product_energy_info)||"")}}))}n.d(t,{T:()=>o,p:()=>r})},2547:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var r=n(7294),o=n(4537),a=n(8983),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function c(e){var t=e.msg,n=e.callback,c=e.baseClassName,s=void 0===c?"mi-input-alert":c,l=e.isAlwaysShow,u=e.styleMode,d=i((0,r.useState)(!!t),2),m=d[0],p=d[1],f=i((0,r.useState)(),2),h=f[0],v=f[1];return(0,r.useEffect)((function(){return p(!!t)}),[t]),(0,r.useEffect)((function(){if(h&&clearTimeout(h),!l&&!0===m){var e=setTimeout((function(){p(!1),"function"==typeof n&&n()}),1500);v(e)}return function(){h&&clearTimeout(h)}}),[m]),r.createElement(o.Z,{className:"".concat(s," ").concat(s,"--").concat(u)},m&&r.createElement(a.Z,{classNames:"".concat(s,"__wrapper"),timeout:300},r.createElement("span",{className:"".concat(s,"__content")},t)))}},956:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(7294),o=n(4184),a=n(8357);function i(e){var t,n=e.type,i=e.baseClassName,c=e.extClassNames,s=e.loaderColor,l=e.styleMode,u=e.callBackFn,d=(0,a.YB)();return s&&document.documentElement&&document.documentElement.style&&document.documentElement.style.setProperty("--background-loader","".concat(s)),r.createElement("div",{className:o("".concat(i," ").concat(i,"--").concat(l),(t={},t["".concat(i,"--mask")]="mask"===n,t["".concat(i,"--inner")]="inner"===n,t["".concat(i,"--scroll")]="scroll"===n,t["".concat(c)]=!!c,t))},r.createElement("div",{className:"".concat(i,"__animation")}),!!n&&"mask"===n&&r.createElement("p",{className:"".concat(i,"__title"),onClick:function(e){return"function"==typeof u?u(e):null}},d.get("Loading...")))}},261:(e,t,n)=>{"use strict";n.d(t,{u:()=>u});var r=n(7294),o=n(3253),a=n(4184),i=n.n(a),c=n(8357),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},l=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function u(e){var t,n,a,u=e.isModalShow,d=e.baseClassName,m=void 0===d?"mi-modal":d,p=e.closeModal,f=e.title,h=e.extra,v=e.titleLayOut,g=e.isBorderBottom,y=e.isShowCloseIcon,b=e.children,_=e.confirm,E=e.cancel,S=e.confirmText,w=e.cancelText,C=e.extraClassName,N=e.styleMode,x=e.closeIcon,k=void 0===x?r.createElement("i",{className:"xiaomi icon-close","aria-label":"close"}):x,I=(0,c.YB)();function T(e){var t="".concat(m,"__Body--overflow-hidden");e?(document.body&&document.body.style&&(document.body.style.marginRight="".concat(window.innerWidth-document.body.offsetWidth,"px")),document.body&&document.body.classList&&document.body.classList.add(t)):(document.body&&document.body.style&&(document.body.style.marginRight="0px"),document.body&&document.body.classList&&document.body.classList.remove(t))}return r.createElement(o,{contentLabel:"Modal",isOpen:u,onAfterOpen:function(){return T(!0)},onAfterClose:function(){return T(!1)},onRequestClose:function(){return"function"==typeof p&&p()},closeTimeoutMS:200,portalClassName:"".concat(m," ").concat(m,"--").concat(N),overlayClassName:"".concat(m,"__overlay"),className:l(["".concat(m,"__content")],s((C||"").split(" ")),!1).filter((function(e){return!!e})).join(" ")},(!!f||!!h)&&r.createElement("header",{className:i()("".concat(m,"__header"),(t={},t["".concat(m,"__header--border")]=!1!==g,t),(n={},n["".concat(m,"__header--only-close")]=!f&&!h&&!!y,n))},!!f&&r.createElement("div",{className:"".concat(m,"__title-wrap")},r.createElement("p",{className:i()("".concat(m,"__title"),(a={},a["".concat(m,"__title--left")]="left"===v,a["".concat(m,"__title--center")]="left"!==v,a))},f)),!!h&&r.createElement("div",{className:"".concat(m,"__extra")},h)),!!y&&r.createElement("button",{className:"button-close",onClick:function(){"function"==typeof p&&p()}},k),r.createElement("main",{className:"".concat(m,"__main")},b),(E||_)&&r.createElement("footer",{className:"".concat(m,"__footer")},E&&r.createElement("div",{role:"button",className:"".concat(m,"__button ").concat(m,"__button--cancel"),onClick:function(){"function"==typeof E&&E()}},w||I.get("Cancel")),_&&r.createElement("div",{role:"button",className:"".concat(m,"__button ").concat(m,"__button--confirm"),onClick:function(){"function"==typeof _&&_()}},S||I.get("Confirm"))))}o.setAppElement("body")},5443:(e,t,n)=>{"use strict";n.d(t,{D:()=>f});var r=n(7294),o=n(4184),a=n(6808),i=n(6924),c=n(1037),s=n(8357),l=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function u(e,t,n,r,o){if(!t)return"";var a=new URL("http"!==t.substr(0,4)?"https:".concat(t):t),i=new URLSearchParams(a.search||"");n&&"object"==typeof n&&Object.keys(n).length&&Object.keys(n).forEach((function(e){i.set(e,n[e])})),i.set("utm_channel","social"),i.set("utm_source",e),i.set("utm_medium",e),"clipboard"===e&&i.delete("utm_source"),r&&"object"==typeof r&&Object.keys(r).length&&Object.keys(r).forEach((function(e){i.set(e.replace(/([A-Z])/g,"_$1").toLowerCase(),r[e])}));var c="".concat(a.origin).concat(a.pathname,"?").concat(i.toString());if(o&&"object"==typeof o&&Object.keys(o).length){var s=o.buySite,l="".concat("http"!==s.substr(0,4)?"https:".concat(s):s),u=new URLSearchParams("");return o.title&&u.set("title",o.title),o.image&&u.set("image",o.image),o.desc&&u.set("desc",o.desc),c&&u.set("link",c),"".concat(l,"/static/toshare?").concat(u.toString())}return c}function d(e,t,n){var r=Object.assign({},n,{url:u(e,n.url,n.urlExtend||{},n.utmParams||{},n.seoAttr)}),o=window.innerWidth/2-300+window.screenX,a=window.innerHeight/2-240+window.screenY,i=window.open(function(e,t){if(!e)return"";var n=new URL(e),r=new URLSearchParams(n.search||""),o=[];return r.forEach((function(e,n,r){var a=e.replace(/{{(\w+)}}/g,"$1").split(" ").map((function(e){return t["".concat(e)]||""})).filter((function(e){return!!e})).join(" ");a?r.set(n,a):o=l(l([],o,!0),[n],!1)})),o.forEach((function(e){return r.delete(e)})),"".concat(n.origin).concat(n.pathname,"?").concat(r.toString())}(t,r),"".concat(e,"-window"),"width=".concat(600,", height=").concat(480,", top=").concat(a,", left=").concat(o,", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0"));i&&i.focus&&i.focus()}var m=n(2547),p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function f(e){var t,n=e.baseClassName,l=e.styleMode,f=e.extClassNames,h=e.shareTitle,v=e.shareUrl,g=e.shareDesc,y=e.shareSeparator,b=e.shareImage,_=e.shareTag,E=e.sharePhone,S=e.shareDisplay,w=e.shareRedirectUri,C=e.customSocialList,N=e.afterAnyShareCallback,x=e.afterFacebookShareCallback,k=e.afterTwitterShareCallback,I=e.afterVKShareCallback,T=e.afterWhatsAppShareCallback,O=e.afterTelegramShareCallback,P=e.afterLineShareCallback,M=e.afterWeiboShareCallback,A=e.afterCopiedCallback,D=e.isNeedSeoPage,L=e.utmParams,R=e.urlExtendParams,j=e.disabledCallback,F=e.pageType,V=void 0===F?"default":F,U=(0,s.aU)(),B=(0,s.YB)(),H=p((0,r.useState)(""),2),G=H[0],z=H[1],W=(0,r.useRef)(null),Y=C||(0,i.Nj)(U).shareSocialList||[],X="mihome_sdk"===a.get("request_from")?Y.filter((function(e){return"facebook"!==e})):Y,q=v||window.location.href||"",Z=g?"".concat(h).concat(y||" ").concat(g,"\n"):"".concat(h,"\n"),K=D?{title:h||"",image:b||"",desc:g||"",buySite:(0,c.jr)(U).buySite.pc}:void 0;function J(e){var t={facebook:function(){return function(e,t){"function"==typeof t&&t();var n=e.redirectUri||"";d("facebook","https://www.facebook.com/sharer.php?u={{url}}&quote={{text}}&redirect_uri={{redirectUri}}&display={{display}}&hashtag={{hashtag}}",{url:e.url,text:e.text,hashtag:e.hashtag?"#".concat(e.hashtag):"",display:e.display||(n?"page":"popup"),redirectUri:n&&"http"!==n.substr(0,4)?"https:".concat(n):n,utmParams:e.utmParams,urlExtend:e.urlExtend,seoAttr:e.seoAttr})}({url:q,text:Z,hashtag:_,display:S,redirectUri:w,utmParams:L,urlExtend:Object.assign({},R&&R.facebook,R&&R.default),seoAttr:K},(function(){"function"==typeof x&&x(),"function"==typeof N&&N(e)}))},twitter:function(){return t={url:q,text:Z,hashtag:_,utmParams:L,urlExtend:Object.assign({},R&&R.twitter,R&&R.default),seoAttr:K},"function"==typeof(n=function(){"function"==typeof k&&k(),"function"==typeof N&&N(e)})&&n(),void d("twitter","https://twitter.com/intent/tweet?url={{url}}&text={{text}}&hashtags={{hashtag}}",{url:t.url,text:t.text,hashtag:t.hashtag,utmParams:t.utmParams,urlExtend:t.urlExtend,seoAttr:t.seoAttr});var t,n},vk:function(){return t={url:q,text:Z,utmParams:L,urlExtend:Object.assign({},R&&R.vk,R&&R.default),seoAttr:K},"function"==typeof(n=function(){"function"==typeof I&&I(),"function"==typeof N&&N(e)})&&n(),void d("vk","https://vk.com/share.php?url={{url}}&title={{text}}",{url:t.url,text:t.text,utmParams:t.utmParams,urlExtend:t.urlExtend,seoAttr:t.seoAttr});var t,n},whatsapp:function(){return t={url:q,text:Z,phone:E,utmParams:L,urlExtend:Object.assign({},R&&R.whatsapp,R&&R.default),seoAttr:K},"function"==typeof(n=function(){"function"==typeof T&&T(),"function"==typeof N&&N(e)})&&n(),void d("whatsapp","https://api.whatsapp.com/send?text={{text}}+{{url}}",{url:t.url,text:t.text,phone:t.phone,utmParams:t.utmParams,urlExtend:t.urlExtend,seoAttr:t.seoAttr});var t,n},telegram:function(){return t={url:q,text:Z,utmParams:L,urlExtend:Object.assign({},R&&R.telegram,R&&R.default),seoAttr:K},"function"==typeof(n=function(){"function"==typeof O&&O(),"function"==typeof N&&N(e)})&&n(),void d("telegram","https://telegram.me/share/url?url={{url}}&text={{text}}",{url:t.url,text:t.text,utmParams:t.utmParams,urlExtend:t.urlExtend,seoAttr:t.seoAttr});var t,n},line:function(){return t={url:q,text:Z,utmParams:L,urlExtend:Object.assign({},R&&R.line,R&&R.default),seoAttr:K},"function"==typeof(n=function(){"function"==typeof P&&P(),"function"==typeof N&&N(e)})&&n(),void d("line","https://lineit.line.me/share/ui?url={{url}}&text={{text}}",{url:t.url,text:t.text,utmParams:t.utmParams,urlExtend:t.urlExtend,seoAttr:t.seoAttr});var t,n},weibo:function(){return t={url:q,text:Z,image:b,utmParams:L,urlExtend:Object.assign({},R&&R.line,R&&R.default),seoAttr:K},"function"==typeof(n=function(){"function"==typeof M&&M(),"function"==typeof N&&N(e)})&&n(),void d("weibo","http://service.weibo.com/share/share.php?url={{url}}&title={{text}}&pic={{image}}",{url:t.url,text:t.text,image:t.image,utmParams:t.utmParams,urlExtend:t.urlExtend,seoAttr:t.seoAttr});var t,n},clipboard:function(){return function(e,t){var n=e.textAreaEl;if(n){if(n.value="".concat(e.text,"\n").concat(u("clipboard",e.url,e.urlExtend||{},e.utmParams||{},e.seoAttr)),n.style.width="0px",n.style.height="0px",n.style.position="absolute",n.style.bottom="-10px",n.style.p(navigator.platform)){var r=n.contentEditable,o=n.readOnly,a=document.createRange();n.contentEditable="true",n.readOnly=!1,a.selectNodeContents(n);var i=window.getSelection();i&&(i.removeAllRanges(),i.addRange(a)),n.setSelectionRange(0,n.value.length),n.contentEditable=r,n.readOnly=o}else n.select();document.execCommand("copy"),n.blur(),"function"==typeof t&&t()}}({url:q,text:Z,seoAttr:K,utmParams:L,urlExtend:Object.assign({},R&&R.clipboard,R&&R.default),textAreaEl:W.current},(function(){z(B.get("Copied")),"function"==typeof A&&A(),"function"==typeof N&&N("clipboard")}))},more:function(){},default:function(){}};return j&&"function"==typeof j?j(e):(t[e]||t.default)()}var $={facebook:{default:r.createElement("i",{className:"xiaomi icon-facebook"}),v4:r.createElement("i",{className:"micon micon-facebook"})},twitter:{default:r.createElement("i",{className:"xiaomi icon-twitter"}),v4:r.createElement("i",{className:"micon micon-twitter"})},vk:{default:r.createElement("i",{className:"xiaomi icon-vk"}),v4:r.createElement("i",{className:"micon micon-vk"})},whatsapp:{default:r.createElement("i",{className:"xiaomi icon-whatsapp"}),v4:r.createElement("i",{className:"micon micon-whatapp"})},telegram:{default:r.createElement("i",{className:"xiaomi icon-telegram"}),v4:r.createElement("i",{classNamcon-line"}),v4:r.createElement("i",{className:"micon micon-line"})},weibo:{default:r.createElement("i",{className:"xiaomi icon-weibo"}),v4:r.createElement("i",{className:"micon micon-weibo"})},clipboard:{default:r.createElement("i",{className:"xiaomi icon-clipboard"}),v4:r.createElement("i",{className:"micon micon-copy"})}};return r.createElement("ul",{className:o("".concat(n," ").concat(n,"--").concat(l),(t={},t["".concat(f,"-list ").concat(f,"-list--").concat(l)]=!!f,t))},X.map((function(e){return function(e){var t,a,i,c,s,u,d,p;switch(e){case"facebook":return r.createElement("li",{key:"".concat(e),onClick:function(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(t={},t["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,t))},$.facebook[V],r.createElement("span",null,B.get("Facebook")));case"twitter":return r.createElement("li",{key:"".concat(e),onClick:function(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(a={},a["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,a))},$.twitter[V],r.createElement("span",null,B.get("Twitter")));case"vk":return r.createElement("li",{key:"".concat(e),onClick:function(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(i={},i["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,i))},$.vk[V],r.createElement("span",null,B.get("VK")));case"whatsapp":return r.createElement("li",{key:"".concat(e),onClick:function(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(c={},c["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,c))},$.whatsapp[V],r.createElement("span",null,B.get("WhatsApp")));case"telegram":return r.createElement("li",{key:"".concat(e),onClick:function(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(s={},s["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,s))},$.telegram[V],r.createElement("span",null,B.get("Telegram")));case"line":return r.createElement("li",{key:"".concat(e),onClick:function(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(u={},u["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,u))},$.line[V],r.createElement("span",null,B.get("Line")));case"weibo":return r.creaction(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(d={},d["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,d))},$.weibo[V],r.createElement("span",null,B.get("Weibo")));case"clipboard":return docpy")?r.createElement("li",{key:"".concat(e),onClick:function(){return J(e)},className:o("".concat(n,"__item ").concat(n,"__item--").concat(e),(p={},p["".concat(f,"-item ").concat(f,"-item--").concat(e)]=!!f,p))},$.clipboard[V],r.createElement("textarea",{ref:W}),r.createElement("span",null,B.get("Copy link")),r.createElement(m.B,{styleMode:l,msg:G,callback:function(){return z("")}})):r.createElement(r.Fragment,null);default:return r.createElement(r.Fragment,null)}}(e)})))}},8746:(e,t,n)=>{"use strict";n.d(t,{b:()=>m});var r,o=n(7294),a=n(8357),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timer=null,t.count=0,t.interval=1e3,t.startTime=0,t.state={millisecond:t.props.time*t.interval,isDisable:t.props.isDisable},t}return i(t,e),t.getDerivedStateFromProps=function(e,t){return e.isDisable!==t.isDisable?{isDisable:e.isDisable}:null},t.prototype.componentDidMount=function(){!this.props.autoPlay||this.state.isDisable||this.timer||(this.startTime=Date.now(),this.startTimer(this.interval))},t.prototype.componentWillUnmount=function(){this.clearTimer()},t.prototype.startCountDown=function(){this.state.isDisable||this.timer||(this.props.startCountDown&&"function"==typeof this.props.startCountDown&&this.props.startCountDown(),this.count=0,this.startTime=Date.now(),this.setState({millisecond:this.props.time*this.interval}),this.startTimer(this.interval))},t.prototype.doCount=function(){this.count++;var e=this.props.endTime&&this.props.deviceTime&&this.props.serverTime?(this.props.endTime-(Math.floor(Date.now()/this.interval)-this.props.deviceTime+this.props.serverTime))*this.interval:this.state.millisecond-this.interval;if(this.setState({millisecond:e>=0?e:0}),this.state.millisecond<=0)this.clearTimer(),this.props.endCountDown&&"function"==typeof this.props.endCountDown&&this.props.endCountDown();else{var t=Date.now()-(this.startTime+this.count*this.interval),n=this.interval-t,r=n<0?0:n>this.interval?this.interval:n;if(0===r&&t>=5*this.interval){var o=Math.floor(t/this.interval);this.count+=o;var a=this.state.millisecond-o*this.interval;this.setState({millisecond:a>=0?a:0})}this.startTimer(r)}},t.prototype.startTimer=function(e){var t=this;this.timer=setTimeout((function(){return t.doCount()}),e)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.render=function(){var e=this,t=this.state.millisecond/1e3,n=Number(Math.floor(t/86400)),r=String(Math.floor(t/3600%24)).padStart(2,"0"),a=String(Math.floor(t/60%60)).padStart(2,"0"),i=String(Math.floor(t%60)).padStart(2,"0"),c=String(Math.floor(t%60)),s=n<=0?"":"".concat(this.props.intl.get("{dayNum, plural, one {# day} other {# days}}",{dayNum:n})," ");return o.createElement(o.Fragment,null,this.props.autoPlay?this.props.isOnlyShowSeconds?o.createElement(o.Fragment,null,"".concat(c)):o.createElement(o.Fragment,null," ","".concat(s).concat(r," : ").concat(a," : ").concat(i)," "):o.createElement("a",{className:this.props.className||"mi-count-down__link",onClick:function(){return e.startCountDown()}},this.state.isDisable?"".concat(t,"s"):this.props.defaultContent))},t}(o.Component);function l(e){var t=(0,a.YB)();return o.createElement(s,c({},e,{intl:t}))}var u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},d=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function m(e){var t=e.inputStr,n=e.linkArr,r=e.target,a=void 0===r?"_self":r,i=e.type,c=e.isOnlyShowSeconds,s=e.onCountDown,m=e.onLinkClick,p=t.split(/#@cd@#/gi);if(p.length>1)for(var f=1;f<p.length;f+=2)p[f]=o.createElement("strong",{key:"highlight-countdown",className:"highlight-countdown"},parseInt(p[1]||0)>=0?o.createElement(l,{time:parseInt(p[1]||0),endCountDown:function(){return"function"==typeof s?s():null},isDisable:!1,autoPlay:!0,isOnlyShowSeconds:c||!1}):o.createElement(o.Fragment,null,"00 : 00 : 00"));var h=p.map((function(e){if("string"==typeof e){for(var t=("number"===i?e.replace(/[+-]?(0|([1-9]\d*))(\.\d+)?/g,"#@@#$&#@@#"):e).split(/#@@#/gi),r=function(e){var r=!!n&&n[~~(e/2)]||"";t[e]=r?o.createElement("a",{key:"highlight-".concat(e),className:"string__link--highlight",href:r,target:a,onClick:function(e){return function(e,t){"function"==typeof m&&m(e,t)}(e,r)}},t[e]):o.createElement("strong",{key:"highlight-".concat(e)},t[e])},c=1;c<t.length;c+=2)r(c);return t}return e})).map((function(e){return Array.isArray(e)?d([],u(e),!1):[e]})).reduce((function(e,t){return d(d([],u(e),!1),u(t.filter((function(e){return void 0!==e}))),!1)}),[]);return o.createElement(o.Fragment,null,h)}},7522:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(7294),o=n(956),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e){return r.createElement(o.a,a({},e,{baseClassName:"mi-loading",styleMode:"desktop"}))}},6375:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(7294),o=n(1943),a=n(8357),i=n(7380);function c(e){var t=e.salePrice,n=e.delPrice,c=e.isShowFrom,s=e.isShowSuffix,l=void 0!==s&&s,u=e.isHideDecimal,d=e.isDelPricePre,m=(0,a.aU)(),p=(0,a.YB)(),f=(0,o.S)(m).currencySymbol,h=l?(0,o.S)(m).currencySuffix:"",v=(0,o.S)(m).currencyPosition,g=!!(0,o.S)(m).originalFollowFrom,y=!!(0,o.S)(m).originalRrpLabel;function b(){return!isNaN((0,i.kZ)(t,m))?r.createElement("strong",null,"post"!==v&&r.createElement("small",null,f,h),(0,i.XY)(t,m,Object.assign({style:"decimal"},u?{minimumFractionDigits:0}:{})),"post"===v&&r.createElement("small",null,f,h)):r.createElement("strong",null,t)}function _(){var e=(0,i.XY)(n||"",m,Object.assign(u?{minimumFractionDigits:0}:{}));return r.createElement(r.Fragment,null,!!n&&t!==n&&r.createElement("del",null,g&&c?p.get("From {lowestPrice}",{lowestPrice:e}):y?p.get("RRP {price}",{price:e}):e))}function E(){return r.createElement(r.Fragment,null,c?(e=p.get("From {lowestPrice}",{lowestPrice:"#@@#price#@@#"}),(t=e.split(/#@@#/gi))[0]&&(t[0]=r.createElement("span",{key:"from-dom"},t[0])),t[1]=r.createElement(r.Fragment,{key:"sale-price-dom"},b()),t[2]&&(t[2]=r.createElement("span",{key:"from-dom"},t[2])),r.createElement(r.Fragment,null,t)):b());var e,t}return d?r.createElement(r.Fragment,null,_(),r.createElement("section",null,E())):r.createElement(r.Fragment,null,E(),_())}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e){return r.createElement(c,s({},e))}},8575:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(7294),o=n(8746),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e){return r.createElement(o.b,a({},e))}},2895:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var r=n(7294),o=n(3253),a=n(8357),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function c(e){var t=e.styleMode,n=e.baseClassName,c=void 0===n?"alert-modal":n,s=e.titleText,l=e.alertMessage,u=e.onClose,d=(0,a.YB)(),m=i((0,r.useState)(s||""),2),p=m[0],f=m[1],h=i((0,r.useState)(l||""),2),v=h[0],g=h[1];function y(e){var t="ale__Body--overflow-hidden";e?(document.body&&document.body.style&&(document.body.style.marginRight="".concat(window.innerWidth-document.body.offsetWidth,"px")),document.body&&document.body.classList&&document.body.classList.add(t)):(document.body&&document.body.style&&(document.body.style.marginRight="0px"),document.body&&document.body.classList&&document.body.classList.remove(t))}(0,r.useEffect)((function(){s&&f(s)}),[s]),(0,r.useEffect)((function(){l&&g(l)}),[l]);var b="alert-modal-common";return r.createElement(o,{contentLabel:"AlertModal",isOpen:!!l,onAfterOpen:function(){return y(!0)},onAfterClose:function(){return y(!1)},onRequestClose:function(){return"function"==typeof u&&u()},closeTimeoutMS:200,portalClassName:"".concat(b," ").concat(c," ").concat(c,"--").concat(t),overlayClassName:"".concat(b,"__overlay ").concat(c,"__overlay"),className:"".concat(b,"__content ").concat(c,"__content")},r.createElement("main",{className:"".concat(c,"__main")},!!p&&r.createElement("h5",{className:"".concat(c,"__title")},p),!!v&&r.createElement("span",{className:"".concat(c,"__message")},v)),r.createElement("footer",{clurn u()}},d.get("OK"))))}o.setAppElement("body");var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=argumentsl(e){return r.createElement(c,s({},e,{baseClassName:"alert-modal-v4",styleMode:"desktop"}))}},2379:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(7294),o=n(956),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e){return r.createElement(o.a,a({},e,{baseClassName:"mi-loading-v4",styleMode:"deskt=t||t-- >0)&&!(ro=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function a(e){for(var t=[],n=1;n<argumendefined.")},a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},c=function(e,t){function n(t){var n,r;if(0===Object.keys(t).length)return{};var a={};for(var i in t)if(Array.isArray(t[i]))try{for(var c=(n=void 0,o(t[i])),s=c.next();!s.done;s=c.next()){var l=s.value;if(l.locals.includes(e)||l.locals.includes("".concat("mi"))){a[i]=l.api;break}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return a}return void 0===e&&(e=""),{data:n(t.data),html:n(t.html),js:n(t.js),css:n(t.css)}};function s(e,t){return"[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(t)||console.error("type error"),{data:l(e.data,t.data),html:l(e.html,t.html),js:l(e.js,t.js),css:l(e.css,t.css)}}function l(e,t){var n=e||{},o=t||{},c={};return Object.keys(r(r({},n),o)).forEach((function(e){c[e]=n[e]&&o[e]?i(i([],a(n[e]),!1),a(o[e]),!1):n[e]?i([],a(n[e]),!1):o[e]?i([],a(o[e]),!1):[]})),c}},1196:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServiceContainer:()=>u.h,asyncComponent:()=>c,diffCss:()=>s.Rr,diffDom:()=>s.A3,diffJs:()=>s.e1,getDefaultValue:()=>d.o,getDiffConfig:()=>l.h,mergeConfig:()=>l.f});var r,o=n(7294),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or nul,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e){var t=o.lazy(e);return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){return o.createElement(o.Suspense,{fallback:null},o.createElement(t,i({},this.props)))},n}(o.Component)}var s=n(7683),l=n(1259),u=n(3710),d=n(1126)},3710:(e,t,n)=>{"use strict5478),d=n(5812),m=n(7507);function p(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var f=n(5709),h=n(655e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new y(e,this.callback))},e}(),y=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new i.w(n)),r}return h.ZT(t,e),t}(v.L),b=n(3438),_=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),E=n(9914),S=n(7604);var w=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new C(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),C=function(e){function t(t,n,r,o,a){var i=e.c,i.withObservable=o,i.scheduler=a,i.scheduleTimeout(),i}return h.ZT(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,S.ft)(t,new S.IY(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.sototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(S.Ds),N=n(4944);function x(e,t){return void 0===t&&(t=u.P),function(e,t,n){return void 0===n&&(n=u.P),function(r){var o=(0,E.J)(e),a=o?+e-n.now():Math.abs(e);return r.lift(new w(a,o,t,n))}}(e,(0,N._)(new _),t)}var k=n(5244);var I,T=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.notifier,this.source))},e}(),O=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.notifier=n,o.source=r,o}return h.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new k.prototype.error.call(this,a)}o=(0,S.ft)(r,new S.IY(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(S.Ds),P=n(486),M=n(7746),A=n(9655),D=(I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n value "+String(t)+" is not a constructor totype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),L=function(e){function t(t){var n=e.call(this,t)||this;return n.baseAjaxConfig={withCredentials:!0},n.LOGIN_ERROR_CODE=[20001,20006],n.URL_PARAMS_JOIN=["GET","get","JSONP","jsonp"],n.subscription=new i.w,n.getService=n.getService.bind(n),n.getObservable=n.getObservable.bind(n),n.adapterData=n.adapterData.bind(n),n.setAjaxStatus=n.setAjaxStatus.bind(n),n.resetService=n.resetService.bind(n),n}return D(t,e),t.prototype.checkIsError=function(e){return!!e.errno||!!e.errorno||!!e.error||!!e.code&&200!==e.code},t.prototype.getErrorCode=function(e){return e.code&&200!==e.code?Number(e.code||0):Number(e.errno||!!e.errorno||!!e.error||0)},t.prototype.getAjaxData=function(e,t){return Object.assign({},e,{__requestParams__:t.params||{},__requestUrl__:t.url||"",__requestExtendUrl__:Array.from(t.extendUrl||[])})},t.prototype.adan(e,t){if(thisthis.props.adapterError(e);return n?(this.props.setState(Object.assign({},this.props.value,n,{getServiceSuccess:!0,ajaxStatus:"error"})),t&&"function"==typeof t?t(n):n):{}}var r=this.props.adapter(e);return r?(this.props.setState(Object.assign({},this.props.value,r,{getServiceSuccess:!0,ajaxStatus:"success"})),t&&"function"==typeof t?t(r):r):{}},t.prototype.setAjaxStatus=function(e){this.props.setState(Object.assign({},this.props.value,{ajaxStatus:e}))},t.prototype.resetService=function(){this.props.setState(Object.assign({},this.props.defaultValue))},t.prototype.getObservable=function(e){return this.getApiData(e)},t.prototype.getService=function(e,t){var n=this.getApiData(e,t).subscribe();this.subscription.add(n)},t.prototype.getApiData=function(e,t){var n=this;this.setAjaxStatus("loading");var r=FormData&&e&&e.params instanceof FormData?this.insertBasicParamsToFormData(e.params,this.props.ajaxConfig.basicParams||{}):Object.assign({},this.props.ajaxConfig.basicParams||{},e?e.params:this.props.ajaxConfig.params),o=Object.assign(this.baseAjaxConfig,this.props.ajaxConfig,e,{params:r});return this.props.beforeSend&&this.props.beforeSend instanceof Function&&this.props.beforeSend(o||{}),this.fetchData(o).pipe((0,f.U)((function(e){return n.adapterData(e,t)})),function(e){return function(t){return t.lift(new g(e))}}((function(){n.props.afterSend&&n.props.afterSend instanceof Function&&n.props.afterSend(o||{})})))},t.prototype.insertBasicParamsToFormData=function(e,t){return Object.keys(t).forEach((function(n){return e.append(n,t[n])})),e},t.prototype.fetchData=function(e){var t,n=this,r={url:e.url||"",extendUrl:Array.from(e.extendUrl||[]),extendSplit:e.extendSplit||"/",method:e.method||"GET",jsonpParamKey:e.jsonpParamKey||"jsonpCallback",jsonpParamValue:e.jsonpParamValue||"jsonpCallback",headers:e.headers||{},params:e.params||{},user:e.user||"",password:e.password||"",timeout:e.timeout||6e4,responseType:e.responseType||"json",async:!1!==e.async,hasContent:!1===e.hasContent,crossDomain:!1!==e.crossDomain,withCredentials:!1!==e.withCredentials,retryOptions:Object.assign({maxRetryAttempts:0,scalingDuration:0,excludedStatusCodes:[],excludedErrorCodes:[]},e.retryOptions)},i=this.URL_PARAMS_JOIN.includes(r.method)?Object.keys(r.params||{}).map((function(e){return"".concat(e,"=").concat(r.params[e])})).join("&"):"",l=r.extendUrl.length?r.url+r.extendSplit+r.extendUrl.join(r.extendSplit):r.url,u=i?l+"?"+i:l,d=this.URL_PARAMS_JOIN.includes(r.method)?{}:r.params||{},m=Object.assign({},r,{url:u||"",body:d||{}});return(["JSONP","jsonp"].includes(m.method)?(0,c.D)(o(m.url,{jsonpCallback:m.jsonpParamKey,jsonpCallbackFunction:m.jsonpParamValue}).then((function(e){return e.json()})).then((function(e){return{response:e}})).catch((function(e){throw e}))).pipe((0,b.b)((function(e){if(n.checkIsError(e.response||{})){if(n.LOGIN_ERROR_CODE.includes(n.getErrorCode(e.response)))return(0,A.An)(n.props.nationConfig.local),(0,A.x4)({local:n.props.nationConfig.local,platform:"pc"===n.props.nationConfig.platform?"pc":"m",callbackUrl:window.location.href});throw e}})),(0,f.U)((function(e){return n.getAjaxData(e.response,m)}))):(0,a.h)(m).pipe(x(m.timeout),(0,b.b)((function(e){if(!(e.status>=200&&e.status<300))throw e;if(!e.response)throw Object.assign({},e,{status:503});if(n.checkIsError(e.response||{})){if(n.LOGIN_ERROR_CODE.includes(n.getErrorCode(e.response)))return(0,A.An)(n.props.nationConfig.local),(0,A.x4)({local:n.props.nationConfig.local,platform:"pc"===n.props.nationConfig.platform?"pc":"m",callbackUrl:window.location.href});throw e}})),(0,f.U)((function(e){return n.getAjaxData(e.response,m)})))).pipe((t=this.genericRetryStrategy(m.retryOptions),function(e){return e.lift(new T(t,e))}),(0,P.K)((function(e){var t=e.response||{errno:-1,errmsg:"Network error",data:null};return(0,s.of)(n.getAjaxData(t,m))})))},t.prototype.genericRetryStrategy=function(e){var t=this,n=void 0===e?{}:e,r=n.maxRetryAttempts,o=void 0===r?0:r,a=n.scalingDuration,i=void 0===a?0:a,c=n.excludedStatusCodes,s=void 0===c?[]:c,f=n.excludedErrorCodes,h=void 0===f?[]:f;return function(e){return e.pipe((0,M.zg)((function(e,n){if(n+1>o||s.includes(e.se.response?t.getErrorCode(e.response):0))throw e;return function(e,t,n){void 0===e&&(e=0);var r=-1;return(0,d.k)(t)?r=Number(t)<1?1:Number(t):(0,m.K)(t)&&(n=t),(0,m.K)(n)||(n=u.P),new l.y((function(t){var o=(0,d.k)(e)?e:+e-n.now();return n.schedule(p,o,{index:0,period:r,subscriber:t})}))}(i)})))}},t.prototype.componentDidMount=function(){this.props.isAutoFetch&&this.getService()},t.prototype.componentWillUnmount=function(){this.subscription.unsubscribe()},t.prototype.render=function(){var e=this.props.context.Provider,t=this.props.value;return t.getService=this.getService,t.getObservable=this.getObservable,t.resetService=this.resetService,r.createElement(e,{value:t},this.props.children)},t.defaultProps={context:r.createContext({}),value:{},defaultValue:{},nationConfig:{},ajaxConfig:{},isAutoFetch:!0,adapter:function(){return null},adapterError:function(){return null},setState:function(){return null},getService:function(){return null},getObservable:function(){return new l.y},resetService:function(){return null}},t}(r.Component)},1126:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(1906);function o(e,t){var n=t&&t.data||{},o=t&&t.ajaxStatus||"unsent",a=t&&t.getServiceSuccess||!1;return{data:e(n),errMsg:"",errNo:0,ajaxStatus:o,getServiceSuccess:a,getService:function(e,t){},getObservable:function(e){return new r.y},resetService:function(){}}}},6162:(e,t,n)=>{"use strict";n.d(t,{h:()=>ot});var r=n(7294),o=n(4150),a=n(4184),i=n(1037),c=n(1126),s=n(3710),l=n(5977),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e){return"busines,e),{basicParams:u(u({},e.basicParams),{flow:"company"})}):e}var m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},p=window;var f={data:p.__PRELOADED_STATE__&&p.__PRELOADED_STATE__.pageOADED_STATE__&&p.__PRELOADED_STATE__.pagedata?"success":"unsent",getServiceSuccess:!(!p.__PRELOADED_STATE_pagedata)},h=(0,c.o)(y,f),v=(0,r.createContext)(h);function g(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=m((0,r.useState)(h),2),c=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:y(t||{}),errMsg:n,errNo:r}}var p=d({url:"".concat((0,i.jr)(t.local).goSite,"/v2/search/suggestList"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0});return r.createElement(s.h,{context:v,setState:l,defaultValue:h,adapterError:function(e){return u(e)},adapter:u,value:c,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:p},o)}function y(e){return void 0===e&&(e={}),{keyWord:e.keyword||"",suggestList:b(e.item||[]),expId:e.exp_id||""}}function b(e){return void 0===e&&(e=[]),e.map((function(e){return{image:e.image||"",inAct:e.in_act||!1,link:e.link||"",name:e.name||"",price:e.price||"",priceBefore:e.price_before||"",rawPrice:e.raw_price||"",rawPriceBefore:e.raw_price_before||"",tag:e.tag||"",itemType:e.item_type||""}}))}var _=v,E=n(8124),S=n(9078),w=n(7380),C=n(8357),N=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},x=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function k(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;if(n)for(;e;){if(n.call(e,t))return e;e=e.parentElement}return null}var I="event",T="commodity";function O(e){var t=e.intl,n=e.recommend,o=e.local,c=e.platform,s=N((0,r.useState)(""),2),l=s[0],u=s[1],d=N((0,r.useState)(!1),2),m=d[0],p=d[1],f=N((0,r.useState)([]),2),h=f[0],v=f[1],g=N((0,r.useState)(!1),2),y=g[0],b=g[1],C=(0,r.useRef)(null),O=(0,r.useContext)(_),P=O.data.suggestList,M=function(e){e.target&&(k(e.target,".search__input")?!e.target.value&&p(!0):k(e.target,".search")||(p(!1),b(!1)))},A=function(e,t){if((e=e.replace(/[-_'=+|\\/]/g," "),!new RegExp("/search_".concat(e)).test(window.location.href))&&!function(e){var t=e||{},n=t.inAct,r=void 0!==n&&n,o=t.link,a=void 0===o?"":o,i=t.name;return!(!r||!a||i!==l||(window.location.assign(a),0))}(P[0])){t=t||"search";var n="".concat((0,i.jr)(o).buySite[c],"/search_").concat(encodeURIComponent(e));return(0,E.g)("click",{category:"index",label:"search",section:"search_page",action:"".concat(t,"_click"),targetUrl:n}),window.location.assign(n)}},D=function(e){e.preventDefault();var t=e.currentTarget.href;return(0,E.g)("click",{category:"index",label:"search",section:"search_page",action:"quick_links_click",targetUrl:t}),window.location.assign(t)},L=function(){l?(A(l),function(){var e=(0,S.$o)("searchHistory",o)||[];l&&!e.includes(l)&&(e.push(l),(0,S.qQ)("functional","searchHistory",e,o))}()):function(){if(!l){var e=(0,S.$o)("searchHistory",o)||[];e=e.slice(-3).reverse(),v(e)}}()},R=function(e,t,n){void 0===n&&(n=[]);var o=(0,r.useRef)({fn:e,timer:null}).current;return(0,r.useEffect)((function(){o.fn=e}),[e]),(0,r.useCallback)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o.timer&&clearTimeout(o.timer),o.timer=setTimeout((function(){o.fn.apply(o,x([],N(e),!1))}),t)}),n)}((function(){O.getService({params:{word:l}})}),150,[l]),j=function(e,t){var n="",r=t.replace(/[()[\]*+^${}|?]/gi,(function(e){return"\\".concat(e)}));try{n=e.replace(new RegExp(r,"gi"),(function(e){return"<span style='color: #000; font-weight: 600;'>".concat(e,"</span>")}))}catch(s){n=e}return n},F=function(e){var t=e.name,n=e.price,i=e.image,c=e.itemType;return r.createElement(r.Fragment,null,function(e,t,n){return n===I?r.createElement("img",{className:"event_icon",src:"//i01.appmifile.com/webfile/globalimg/event-query.png",alt:"name"}):n===T&&e?r.createElement("img",{className:"product_icon",src:e,alt:t}):null}(i,t,c),r.createElement("div",{className:"search__suggest--main-box"},r.createElement("span",{className:a("search__suggest--main-box--title",{event_query:c===I,product_query:c===T}),dangerouslySetInnerHTML:{__html:j(t,c===I?"":l)}}),c===T&&r.createElement("span",{className:"search__suggest--main-box--price"},(0,w.XY)(n,o))),r.createElement("i",{className:"xiaomi icon-arrow-right-s"}))};return(0,r.useEffect)((function(){return document.body.addEventListener("click",(function(e){return M(e)})),function(){document.body.removeEventListener("click",(function(e){return M(e)}))}}),[]),r.createElement("div",{className:"search"},r.createElement("input",{ref:C,className:"search__input",type:"text",placeholder:t.get("Search Products")||"Search Products",value:l,onChange:function(e){var t=e.target.value,n=t.length;u(e.target.value),p(0===n),t.length>=1?(b(!0),R()):(b(!1),O.resetService())},onKeyPress:function(e){13===e.nativeEvent.keyCode&&L()},onFocus:function(){P.length>0&&(b(!0),p(!1))}}),r.createElement("i",{className:"xiaomi icon-search-24",onClick:L}),m&&r.createElement("div",{className:"search__panel"},r.createElement("div",{className:"search__list-group"},r.createElement("ul",{className:"search__list search__history"},h.length>0&&h.map((function(e,t){return r.createElement("li",{className:"search__list-item",key:"SearchHistory".concat(t),onClick:function(){A(e,"search_log")}},e,r.createElement("i",{onClick:function(){!function(e){var t=(0,S.$o)("searchHistory",o)||[];t=t.filter((function(t){return t!==e})),(0,S.qQ)("functional","searchHistory",t,o),v(t)}(e)}}," ","×"))})))),r.createElement("div",{className:"search__list-group"},r.createElement("div",{className:"search__list-title"},t.get("QUICK LINKS")||"QUICK LINKS"),r.createElement("ul",{className:"search__l{return r.createElement("li",{className:"search__list-item",key:"SearchItem".concat(t)},r.createElement("a",{href:e.link,onClick:D},e.name))}))))),y&&!!P.length&&r.createElement("div",{className:"search__suggest"},r.createElement("ul",{className:"search__suggest--list"},P.map((function(e,t){var n=e.name,a=e.inAct;return r.createElement("li",{className:"search__suggest--item",key:n+t,onClick:function(){return function(e){var t=e.name,n=e.link,r=void 0===n?"":n,a=e.inAct,s=t.replace(/[-_'=+|\\/]/g," "),l=a&&r?r:"".concat((0,i.jr)(o).buySite[c],"/search_").concat(encodeURIComponent(s));return window.location.assign(l)}(e)}},a&&0===t?F(e):r.createElement(r.Fragment,null,r.createElement("div",{className:"search__suggest--main-box"},r.createElement("span",{className:"search__suggest--main-box--title",dangerouslySetInnerHTML:{__html:j(n,l)}})),r.createElement("i",{className:"xiaomi icon-arrow-right-s"})))})))))}function P(e){var t=(0,C.aU)(),n=(0,C.Fe)(),o=(0,C.YB)();return r.createElement(O,{local:t,platform:n,intl:o,recommend:e.recommend||[]})}var M=n(1259),A=(0,M.f)({data:{},html:{},js:{},css:{}},{data:{siteLogoUrl:[{api:"//i01.appmifile.com/webfile/globalimg/pandora/mi-logo.svg",locals:["mi"]}]}});function D(){var e,t=(0,C.aU)(),n=(0,C.Fe)(),o=null===(e=(0,M.h)(t,A).data)||void 0===e?void 0:e.siteLogoUrl;return r.createElement("div",{className:"site-logo"},r.createElement("div",{className:"site-logo__wrapper"},r.createElement("a",{href:(0,i.jr)(t).wwwSite[n],onClick:function(e){!function(e){e.preventDefault();var t=e.currentTarget.href;(0,E.g)("click",{category:"cart",label:"",section:"head",action:"homelogo_click",targetUrl:t}),window.location.assign(t)}(e)}},r.createElement("img",{src:o}))))}var L=(0,M.f)({data:{},html:{},js:{},css:{}},{data:{isSearchEnabled:[{api:!0,locals:["in","es","it","fr","mx","pl","de","jp","nl","ru","tr","hk","tw","uk"]}],isShowSiteLogo:[{api:!0,locals:["mi"]}]}}),R=n(6375),j=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!rll(a)}finally{if(o)throw o.error}}return i},F=(0,c.o)(B),V=(0,r.createContext)(F);function U(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=j((0,r.useState)(F),2),c=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:B({data:t}||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,i.jr)(t.local).goSite,"/misc/getproductinfo/pid_"),method:"GET",withCredentials:!0,retryOptions:{maxRetryAttempts:3,scalingDuration:5e3}};return r.createElement(s.h,{context:V,setState:l,defaultValue:F,adapterError:function(e){return u(e)},adapter:u,value:c,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function B(e){return void 0===e&&(e={data:[]}),{productInfo:H(e.data||[])}}function H(e){return void 0===e&&(e=[]),e.map((function(e){return{productId:e.productId||0,priceLabel:e.priceLabel||"",producrName:e.producrName||"",marketPrice:G(e.marketPrice||{})}}))}function G(e){return{s_price:z(e.s_price||{}),m_price:z(e.m_price||{})}}function z(e){return{value:e.value||"",name:e.name||""}}var W=V,Y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},X=window;var q={data:X.__PRELOADED_STATE__&&X.__PRELOADED_STATE__.pagedata||null,ajaxStatus:X.__PRELOADED_STATE__&&X.__PRELOADED_STATE__.pagedata?"success":"unsent",getServiceSuccess:!(!X.__PRELOADED_STATE__||!X.__PRELOADED_STATE__.pagedata)},Z=(0,c.o)($,q),K=(0,r.createContext)(Z);function J(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Y((0,r.useState)(Z),2),c=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:$(t||{}),errMsg:n,errNo:r}}var m=d({url:"".concat((0,i.jr)(t.local).goSite,"/recommend"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0});return r.createElement(s.h,{context:K,setState:l,defaultValue:Z,adapterError:function(e){return u(e)},adapter:u,value:c,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:m},o)}function $(e){return void 0===e&&(e={}),{recommend:Q(e.recommend||[]),expId:String(e.exp_id||""),shading:ee(e.sharding||{})}}function Q(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return ee(e)}))}function ee(e){return void 0===e&&(e={}),{name:String(e.name||""),type:String(e.type||""),link:String(e.link||""),frmTrack:te(e.frm_track||{})}}function te(e){return void 0===e&&(e={}),{alg:String(e.alg||"")}}var ne=K,re=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function oe(e){var t,n,o,c,s,l=e.navData,u=(0,C.aU)(),d=(0,r.useContext)(W),m=(0,r.useContext)(ne),p=re((0,r.useState)([]),2),f=p[0],h=p[1],v=re((0,r.useState)(!1),2),g=v[0],y=v[1],b=re((0,r.useState)({}),2),_=b[0],S=b[1];function w(e,t){e.preventDefault();var n=e.currentTarget.href||"";return t=t||e.currentTarget.innerText,(0,E.g)("click",{category:"index",label:"",section:"navigation",action:"".concat(t,"_click"),targetUrl:n}),!!n&&window.location.assign(n)}var N=function(e){var t=e.filter((function(e){return e.children.length})).map((function(e){return e.children})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.productId})).filter((function(e){return e}));return Array.from(new Set(t))}(l);function x(e){d.getService({url:"".concat((0,i.jr)(u).goSite,"/misc/getproductinfo/pid_").concat(e)},(function(e){0===e.errNo&&e.data&&((e.data.productInfo||[]).forEach((function(e){var t=e.productId;if(t){var n=e.marketPrice.s_price||{name:"",value:""},r=n.name||"",o=n.value;k[t]={from:r||"",price:o||0}}})),S(k))}))}var k={};(0,r.useEffect)((function(){if(N.length)for(var e=Math.ceil(N.length/10),t=0;t<e;t++){x(N.slice(10*t,10*t+10).join("_"))}}),[N.length]);var I=(0,M.h)(u,L),T=null===(c=I.data)||void 0===c?void 0:c.isSearchEnabled,O=null===(s=I.data)||void 0===s?void 0:s.isShowSiteLogo,A="navigation";return r.createElement("div",{className:"".concat(A,"-container ").concat(A,"-container--desktop")},r.createElement("d["".concat(A,"--expand")]=!!g,t))},r.createElement("div",{className:"".concat(A,"__static container")},r.createElement("div",{className:a("".concat(A,"__left"),(n={},n["".concat(A,"__left--without-search")]=!T,n))},!!O&&r.createElement(D,null),r.createElement("div",{className:"nav-group",onMouseLeave:function(){y(!1)}},!!l&&(l||[]).map((function(e,t){return r.createElement("div",{className:"".concat(A,"-item"),key:"Nav".concat(t)},r.createElement("a",{className:"".concat(A,"-item__title"),href:e.link,onMouseEnter:function(){var t,n;t=e.name,n=l.filter((function(e){return e.name===t}))[0].children,h(n),y(!!n.length)},onClick:function(e){w(e)},dangerouslySetInnerHTML:{__html:e.name}}))})),!!l.length&&r.createElement("div",{className:a("".concat(A,"__curtain"),(o={},o["".concat(A,"__curtain-expand")]=!!g,o))},r.createElement("div",{className:"".concat(A,"__curtain-wrap")},r.createElement("ul",{className:"".concat(A,"-item__list-group")},f.map((function(e,t){var n=e.price.trim();return r.createElement("li",{className:"".concat(A,"-item__child"),key:"NavChild-".concat(e.name,"-").concat(t)},r.createElement("a",{className:"".concat(A,"-item__child-img"),href:e.link,onClick:function(t){w(t,e.name)}},r.createElement("img",{src:"".concat(e.pic,"?width=140&height=140"),alt:e.name})),r.createElement("a",{className:"".concat(A,"-item__child-title"),href:e.link,onClick:function(e){w(e)},dangerouslySetInnerHTML:{__html:e.name}}),r.createElement("span",{className:"".concat(A,"-item__child-price")},(n||!(!_[e.productId]||!_[e.productId].price))&&r.createElement(R.n,{salePrice:n||_[e.productId]&&_[e.productId].price,isShowFrom:n?!n:!(!_[e.productId]||!_[e.productId].from)})))}))))))),!!T&&r.createElement("div",{className:"".concat(A,"__right")},r.createElement(P,{recommend:m.data.recommend})))))}function ae(e){var t,n=e.stepNumber,o=e.portalClassName,i=e.isArrowSvg,c=(0,C.YB)(),s=[{id:1,title:c.get("Shopping cart")},{id:2,title:c.get("Order information")},{id:3,title:c.get("Complete payment")}];return r.createElement("div",{className:a((t={},t["".concat(o)]=!!o,t),"shopping-step")},r.createElement("ul",{className:"shopping-step__list"},s.map((function(e,t){return r.createElement(r.Fragment,{key:e.id},r.createElement("li",{className:a("shopping-step__item",{"shopping-step__item--active":n===e.id})},r.createElement("span",{className:"shopping-sitem shopping-step__item--arrow"},r.createElement("svg",{width:"18px",height:"32px,{width:"100%",height:"100%",fiath",{d:"M0,0 L12,16 L0,32 Z",fill:"var(".concat(n===e.id?"--background-primary":"--background-light",")")}),r.createElement("path",{d:"M6,0 L18,16 L6,32 L18,32 L18,0 Z",fill:"var(".concat(n===e.id+1?"--background-primary":"--background-light",")")})))):r.createElement("li",{className:"shopping-step__item shopping-step__item--arrow"},r.createElement("i",{className:"xiaomi icon-arrow-right"}))))}))))}var ie=n(6808),ce=n(6924),se=n(9655);function le(e){var t=e.isMiniHeader,n=(0,C.aU)(),o=(0,C.Fe)(),a=(0,C.YB)(),i=(0,ce.Nj)(n).signUpUrl||(0,se.B8)({local:n,platform:o,isRegister:!0});function c(e,t){(0,E.g)("click",{category:"index",label:"",section:"sub_navigation",action:"".concat(e,"_click"),targetUrl:t})}return r.createElement("ul",{className:t?"account-info__list account-info__list--guest":"sign-group"},r.createElement("li",{className:t?"account-info__item":"entry__item"},r.createElement("a",{href:(0,se.B8)({local:n,platform:o}),rel:"nofollow",onClick:function(e){return function(e){e.preventDefault(),c(e.target.innerHTML,(0,se.B8)({local:n,platform:o})),(0,se.x4)({local:n,platform:o})}(e)}},a.get("sign in"))),r.createElement("li",{className:t?"account-info__item":"entry__item"},r.createElement("a",{href:i,rel:"nofollow",onClick:function(e){return function(e){return e.preventDefault(),c(e.target.innerText,i),window.location.assign(i)}(e)}},a.get("sign up"))))}function ue(e){var t=e.profile,n=e.selectOptions,o=e.isMiniHeader,a=(0,C.aU)(),c=(0,C.Fe)(),s=(0,C.Gh)(),l=(0,C.YB)();function u(e,t){e.preventDefault();var n=e.currentTarget.href||"".concat((0,i.jr)(a).buySite[c],"/user/order");return t&&(0,E.g)("click",{category:"cart",label:"",section:"head",action:"".concat(t,"_click"),targetUrl:n}),window.location.assign(n)}return r.createElement("ul",{className:o?"account-info__list account-info__list--user":"account-info"},r.createElement("li",{className:o?"account-info__item account-info__item--pull":"entry__item entry__item_pull"},r.createElement("a",{href:"".concat((0,i.jr)(a).buySite[c],"/user/order"),rel:"nofollow",onClick:function(e){return u(e,"order")}},r.createElement("span",{className:"limit-width"},t.userName||t.userId),r.createElement("i",{className:o?"xiaomi icon-select-arrow":"xiaomi icon-arrow-down-l"})),r.createElement("div",{className:o?"account-info__drop-down":""},r.createElement("ul",{className:o?"account-info__drop-down-list":"entry__dropdown-list"},(n||[]).filter((function(e){return"boolean"==typeof e.enableLocal?!!e.enableLocal:e.enableLocal.includes(a)})).map((function(e,n){return r.createElement("li",{className:o?"account-info__drop-down-item":"entry__dropdown-item",key:"".concat(e.id,"-").concat(n)},r.createElement("a",{className:o?"account-info__drop-down-link":"entry__dropdown-link",href:String(e.link||"#"),rel:"nofollow",onClick:function(t){return u(t,e.buryTitle)}},e.title,"myreview"===e.buryTitle&&!!t.hasReview&&r.createElement("i",null)))}))))),!!s&&r.createElement("li",{className:o?"account-info__item":"entry__item"},r.createElement("a",{href:"".concat((0,i.jr)(a).buySite[c],"/user/message"),rel:"nofollow",onClick:function(e){return u(e,"message")}},l.get("Message"),t.msgNum>0&&r.createElement("span",{className:o?"account-info__item-notice":"entry__item-notice"},"(",t.msgNum,")"))),!!s&&r.createElement("li",{className:o?"account-info__item":"entry__item"},r.createElement("a",{href:"".concat((0,i.jr)(a).buySite[c],"/user/order"),rel:"nofollow",onClick:function(e){return u(e,"order")}},l.get("My Orders"))))}var de=n(7522),me=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},pe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},fe=(0,c.o)(ge),he=(0,r.createContext)(fe);function ve(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=me((0,r.useState)(fe),2),c=a[0],l=a[1];function u(e){var t=e.data,n=e.errno,r=e.errmsg;return{data:ge(t||{}),errMsg:r||"",errNo:n||0}}var m=d({url:"".concat((0,i.jr)(t.local).goSite,"/cart"),method:"POST",basicParams:{cartV:"20000",from:"m"===t.platform?"mobile":"pc"},withCredentials:!0});return r.createElement(s.h,{context:he,setState:l,defaultValue:fe,adapterError:function(e){return u(e)},adapter:u,value:c,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:m},o)}function ge(e){var t,n,r,o;void 0===e&&(e={});var a=Object.assign({},(null==e?void 0:e.unifiedCartData)||{});return{totalItems:Number((null===(n=null===(t=a.checkout)||void 0===t?void 0:t.payment)||void 0===n?void 0:n.numSumAllNoGift)||0),totalPrice:String((null===(o=null===(r=a.checkout)||void 0===r?void 0:r.payment)||void 0===o?void 0:o.total)||0),items:ye(a.items||[]),validItems:be(a.items||[]),mainItems:_e(a.items||[])}}function ye(e){return void 0===e&&(e=[]),Array.from(e||[]).flatMap((function(e){var t,n,r,o=Array.from((null===(n=null===(t=e.belonging)||void 0===t?void 0:t.insurance)||void 0===n?void 0:n.items)||[]).filter((function(e){var t;return!!(null===(t=null==e?void 0:e.extInsurance)||void 0===t?void 0:t.checked)})),a=Array.from((null===(r=e.belonging)||void 0===r?void 0:r.bargain)||[]).filter((function(e){return!!(null==e?void 0:e.cartItems)})),i=Array.from(a||[]).flatMap((function(e){return Array.from(e.cartItems||[])}));return(pe(pe([e],me(o),!1),me(i),!1)||[]).map((function(e){return Ee(e)}))}))}function be(e){return void 0===e&&(e=[]),ye(e).filter((function(e){return!e.isNotAvailable}))}function _e(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return Ee(e)})).filter((function(e){return!e.isNotAvailable}))}function Ee(e){return{itemId:e.itemId||"",getType:e.getType||"",showType:e.showType||"",commodityId:Number(e.commodityId||0),goodsId:String(e.goodsId||""),productName:e.name||"",productImage:e.imgUrl||"",productId:e.productId||"",productNum:Number(e.num||1),isOutOfStock:!!e.isCos,isNotAvailable:!(e.isOnSale&&!e.isCos&&!e.isTimeout&&!e.isInvalid),isInvalid:!!e.isInvalid,salePrice:String(e.salePrice||0),marketPrice:String(e.marketPrice||0)}}var Se=he,we=function(){return(we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ce(e){var t=e.num,n=e.updateCartNum,o=(0,r.useContext)(Se),a=o.data,c=o.ajaxStatus,s=(0,C.aU)(),l=(0,C.Fe)(),u=(0,C.YB)(),d=(0,r.useRef)(!0);return r.createElement("div",{className:"minicart",onMouseEnter:function(){d.current=!0,o.getService({},(function(e){var t=e.data&&e.data.totalItems||0;n(t)}))}},r.createElement("a",{className:"entry__item",href:"".concat((0,i.jr)(s).buySite[l],"/cart"),onClick:function(e){!function(e){e.preventDefault();var t="".concat((0,i.jr)(s).buySite[l],"/cart");(0,E.g)("click",{category:"index",label:"",section:"index",action:"cart_click",targetUrl:t}),window.location.assign(t)}(e)}},r.createElement("i",{className:"xiaomi ".concat(Number(t)>0?"icon-cart-full-24":"icon-cart-empty-24")}),u.get("cart")," ( ",t," )"),r.createElement("div",{className:"minicart__panel"},r.createElement("div",{className:"minicart__wrapper"},function(e,t){switch(d.current?d.current=!1:t="success",t){case"unsent":case"loading":case"error":return r.createElement(de.a,{type:"inner"});case"success":return e.items.length>0?r.createElement(r.Fragment,null,r.createElement("ul",{className:"minicart__good-list"},e.items.map((function(e,t){return r.createElement("li",{key:"GoodItem".concat(t),className:"minicart__good-item ".concat(e.isOutOfStock?"minicart__good-item_out-stock":"")},r.createElement("a",{className:"item__img-wrap",href:"".concat((0,i.jr)(s).buySite[l],"/item/").concat(e.commodityId)},r.createElement("img",{className:"item__img",alt:e.productName,src:e.productImage})),r.createElement("div",{className:"item__name-wrap"},r.createElement("a",{className:"item__name",href:"".concat((0,i.jr)(s).buySite[l],"/item/").concat(e.commodityId)},e.productName)),e.isOutOfStock?r.createElement("div",{className:"item__price"},u.get("Out of Stock")):r.createElement("div",{className:"item__price"},"".concat((0,w.XY)(e.salePrice,s)," x ").concat(e.productNum)),r.createElement("i",{className:"item__remove",onClick:function(){return t=e.itemId,void o.getService({url:"".concat((0,i.jr)(s).goSite,"/cart/deletebatch"),params:{item_ids:t},retryOptions:{maxRetryAttempts:0}},(function(e){if(e.errNo)window.alert(e.errMsg||u.get("An error occurred"));else{var t=e.data&&e.data.totalItems||0;n(t)}}));var t}},"×"))}))),r.createElement("div",{className:"minicart__summary"},r.createElement("div",{className:"minicart__summary-info"},r.createElement("div",{className:"minicart__summary-total"},u.get("SUBTOTAL")," ",u.get("({num, plural, one {# item} other {# items}})",{num:e.totalItems})),r.createElement("div",{className:"minicart__summary-price"},(0,w.XY)(e.totalPrice,s))),r.createElement("a",{className:"go-cart",href:"".concat((0,i.jr)(s).buySite[l],"/cart")},u.get("Checkout")))):r.createElement("div",{className:"empty-text"},u.get("Your cart is empty!"));default:return r.createElement(r.Fragment,null)}}(a,c))))}function Ne(e){var t=(0,C.aU)(),n=(0,C.Fe)();return r.createElement(ve,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Ce,we({},e)))}var xe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},ke=(0,c.o)(Oe),Ie=(0,r.createContext)(ke);function Te(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=xe((0,r.useState)(ke),2),c=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno,o=e.message,a=e.code;return{data:Oe(t||{}),errMsg:n||o||"",errNo:r||a||0}}var d={url:"".concat((0,i.jr)(t.local).buySite[t.platform],"/misc/info"),method:"GET",withCredentials:!0,retryOptions:{maxRetryAttempts:2,scalingDuration:1e3}};return r.createElement(s.h,{context:Ie,setState:l,defaultValue:ke,adapterError:function(e){return u(e)},adapter:u,value:c,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Oe(e){return void 0===e&&(e={}),{notifyMessage:Pe(e.notifymessage||{}),unreadNum:Number(e.unread||0),isUnreviewed:!!e.unreviewed}}function Pe(e){return void 0===e&&(e={}),{type:Number(e.type||0),content:e.content||"",url:e.url||""}}var Me=Ie,Ae=n(1588),De=n(1218),Le=n(7683);function Re(e){var t=e.topNav,n=e.topDropdown;function o(e,t){e.preventDefault();var n=e.currentTarget.href;return(0,E.g)("click",{category:"index",label:"",section:"sub_navigation",action:"".concat(t,"_click"),targetUrl:n}),window.location.assign(n)}return r.createElement("ul",{className:"entry__left"},!!t&&Array.from(t||[]).map((function(e,t){return e.title?r.createElement("li",{className:"entry__item",key:t},r.createElement("a",{href:e.link,target:e.target||"_self",onClick:function(t){o(t,e.title)},rel:"nofollow"},e.title)):r.createElement(r.Fragment,null)})),!!n&&n.map((function(e,t){return r.createElement("li",{className:"entry__item ".concat(e.children?"entry__item_pull":""),key:t},r.createElement("a",{href:e.link,target:e.target||"_self",onClick:function(t){o(t,e.title)},rel:"nofollow"},e.title,e.children&&r.createElement("i",{className:"xiaomi icon-arrow-down-l"})),r.createElement("ul",{className:"entry__dropdown-list"},e.children&&e.children.map((function(e,t){return r.createElement("li",{className:"entry__dropdown-item",key:t},r.createElement("a",{href:e.link,target:e.target||"_self",rel:"nofollow",onClick:function(t){o(t,e.title)}},e.title))}))))})))}var je={html:{entrySection:[{api:function(e,t){return r.createElement(Re,{topNav:e,topDropdown:t})},locals:["mi"]}]}},Fe=(0,M.f)({data:{isShowMyAccount:[{api:["hk","tw"],locals:["mi"]},{api:[],locals:["poco"]}],isShowMyReviews:[{api:["in","es","fr","mx","pl","it","ru","nl","uk","hk","tw","id","de","jp"],locals:["mi"]},{api:["es","fr","it","de","uk","nl","id","hk","tw","ru"],locals:["poco"]}],isClearLogStatus:[{api:["us"],locals:["mi"]},{api:[],locals:["poco"]}]},html:{},js:{},css:{}},je),Ve=function(){return(Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ue=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Be(e){var t,n,o,a=e.topNav,c=e.topDropdown,s=e.isMiniHeader,l=e.isBuyHeader,u=e.miniHeaderTitle,d=e.buyHeaderLink,m=(0,C.aU)(),p=(0,C.Fe)(),f=(0,C.Gh)(),h=(0,C.YB)(),v=(0,r.useContext)(Me),g=(0,r.useContext)(Ae.j),y=(0,M.h)("".concat("mi"),Fe),b=(null===(t=y.data)||void 0===t?void 0:t.isShowMyAccount)||[],_=(null===(n=y.data)||void 0===n?void 0:n.isShowMyReviews)||[],E=(null===(o=y.data)||void 0===o?void 0:o.isClearLogStatus)||[],S=Ue((0,r.useState)((0,se.bg)()||""),1)[0],w=Ue((0,r.useState)(ie.get("XM_".concat(S,"_UN"))||""),2),N=w[0],x=w[1],k=Ue((0,r.useState)(Number(ie.get("msgNum")||0)),2),I=k[0],T=k[1],O=Ue((0,r.useState)("true"===ie.get("hasReview")),2),P=O[0],A=O[1],L=Ue((0,r.useState)(Number(ie.get("xm_user_".concat(m,"_num"))||0)),2),R=L[0],j=L[1],F=Ue((0,r.useState)(!1),2),V=F[0],U=F[1],B=[{id:1,title:h.get("My account"),link:"".concat((0,i.jr)(m).buySite[p],"/user/myaccount"),buryTitle:"myaccount",enableLocal:f},{id:2,title:h.get("Mi account"),link:"https://account.xiaomi.com/",buryTitle:"xiaomiaccount",enableLocal:!f||b},{id:3,title:h.get("Reward Mi"),link:"".concat((0,i.jr)(m).buySite[p],"/user/reward"),buryTitle:"reward",enableLocal:["in"]},{id:4,title:h.get("Mi VIP Club"),link:"".concat((0,i.jr)(m).buySite[p],"/user/privilege"),buryTitle:"privilege",enableLocal:["in"]},{id:5,title:h.get("Cardless EMI"),link:"".concat((0,i.jr)(m).buySite[p],"/mifinance"),buryTitle:"mifinance",enableLocal:["in"]},{id:6,title:h.get("My reviews"),link:"".concat((0,i.jr)(m).buySite[p],"/comment/myreview"),buryTitle:"myreview",enableLocal:_},{id:7,title:h.get("Sign out"),link:"".concat((0,i.jr)(m).buySite[p],"/site/logout"),buryTitle:"logout",enableLocal:!0}];function H(e){var t=isNaN(e)?Number(ie.get("xm_user_".concat(m,"_num"))||0):Number(e||0);j(t),isNaN(e)||ie.set("xm_user_".concat(m,"_num"),String(e),{expires:1,path:"/"+m,domain:(0,De.YN)(m)})}return(0,r.useEffect)((function(){S&&!N&&g.getService({timeout:500},(function(e){if(e.errNo)x(S);else{var t=e.data;if(t.profile.userId){var n=String(t.profile.nickName||t.profile.userId||S);x(n),ie.set("XM_".concat(S,"_UN"),n,{expires:7,path:"/"+m,domain:(0,De.YN)(m)})}}})),U(!!(0,se.bg)()),s||H(),f&&(0,se.bg)()&&"unsent"===v.ajaxStatus&&v.getService()}),[]),(0,r.useEffect)((function(){var e;"success"===v.ajaxStatus&&(e=v.data,T(Number(e.unreadNum||0)),A(!!e.isUnreviewed),ie.set("msgNum",String(I),{expires:.0035,path:"/"+m,domain:(0,De.YN)(m)}),ie.set("hasReview",String(P),{expires:7,path:"/"+m,domain:(0,De.YN)(m)}))}),[v.ajaxStatus]),l||s?r.createElement("div",{className:"mini-header__site site-header"},r.createElement("div",{class,r.createElement(D,null),!!u&&r.createElement("h1",{className:"site-header__mi-title"},u),r.createElement("div",{className:"site-header__spacer"}),l?r.createElement("div",{className:"site-header__learn-more"},r.createElement("a",{href:d&&d.link||"".concat((0,i.jr)(m).wwwSite[p]),"aria-label":d&&d.text||h.get("Learn more >"),target:"_blank",rel:"noreferrer"},d&&d.text||h.get("Lee:"site-header__account-info account-info"},E.includes(m)?null:V?r.createElement(ue,{selectOptions:B,isMiniHeader:!!s,profile:{userId:S,userName:N,msgNum:I,cartNum:R,hasReview:P}}):r.createElement(le,{isMiniHeader:!!s})))):r.createElement("div",{className:"entry"},r.createElement("div",{className:"container"},(0,Le.A3)(y.html&&y.html.entrySection,a,c),r.createElement("div",{className:"entry__right"},E.includes(m)?null:V?r.createElement(ue,{selectOptions:B,profile:{userId:S,userName:N,msgNum:I,cartNum:R,hasReview:P}}):r.createElement(le,null),!!f&&r.createElement(Ne,{num:R,updateCartNum:function(e){return H(e)}}))))}function He(e){var t=(0,C.aU)(),n=(0,C.Fe)();return r.createElement(Ae.$,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Te,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Be,Ve({},e))))}var Ge=n(8575),ze=n(5709),We=n(1931),Ye=n(2097),Xe=function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Ze(e){var t,n=e.notifyMessage,i=e.hasPropsData,c=e.burySettings,s=e.baseClassName,l=e.styleMode,u=(0,C.aU)(),d=(0,C.Fe)(),m=(0,C.YB)(),p=(0,r.useContext)(Me),f=(0,r.useContext)(Ye.ev),h=qe((0,r.useState)(!0),2),v=h[0],g=h[1],y=qe((0,o.m)((function(e){return e.pipe((0,ze.U)((function(e){var t=qe(e,4),n=t[0],r=t[1],o=t[2],a=t[3],i={text:n?o.text:r.content||r.title,link:n?o.link:r.url||r.link};return[[!!i.text,a].every((function(e){return!0===e})),i.link?(i.text||"").replace(/<(\S*)[^>]*>[^<]*<\/(\1)>/gi,"").replace(/<br>/gi,"\n"):i.text,i.link||""]})),(0,We.x)((function(e,t){var n=qe(e,3),r=n[0],o=n[1],a=n[2],i=qe(t,3),c=i[0],s=i[1],l=i[2];return r===c&&o===s&&a===l})),(0,ze.U)((function(e){var t=qe(e,3),n=t[0],r=t[1],o=t[2];return["1"!==ie.get("topNotified")&&n,r,o]})))}),[!1,"",""],[i,"m"===d?p.data.notifyMessage||{}:f.data.header.find((function(e){return"top_notify"===e.key}))||{},n,v]),3),b=y[0],_=y[1],S=y[2];return b?r.createElement("mark",{className:"".concat(s," ").concat(s,"--").concat(l)},r.createElement("div",{className:"".concat(s,"__wrapper")},r.createElement("span",{className:a("".concat(s,"__content"),(t={},t["".concat(s,"__content--link")]=!!S,t)),onClick:function(){return function(e,t){if(void 0===t&&(t={}),e)return(0,E.g)("click",{category:t&&t.category||"site_notification",label:t&&t.label||"",section:t&&t.section||"emergency_notice",action:"notice_click",targetUrl:e}),window.location.assign(e)}(S,c)},dangerouslySetInnerHTML:{__html:_}}),r.createElement("button",{className:"".concat(s,"__button"),"aria-label":m.get("Close"),onClick:function(){return function(e){void 0===e&&(e={}),(0,E.g)("click",{category:e&&e.category||"site_notification",label:e&&e.label||"",section:e&&e.section||"emergency_notice",action:"notice_delete_click"}),g(!1),ie.set("topNotified","1",{expires:1,path:"/"+u,domain:(0,De.YN)(u)})}(c)}},r.createElement("i",{className:"xiaomi icon-close"})))):r.createElement(r.Fragment,null)}function Ke(e){var t=e.isInHeader,n=e.notifyMessage,o=(0,C.aU)(),a=(0,C.Fe)(),i=!!n&&"string"==typeof n.text;return t?r.createElement(Ze,Xe({},e,{hasPropsData:i})):r.createElement(Te,{nationConfig:{local:o,platform:a},isServiceAutoFetch:!i&&"m"===a},r.createElement(Ye.iD,{nationConfig:{local:o,platform:a},isServiceAutoFetch:!i&&"pc"===a},r.createElement(Ze,Xe({},e,{hasPropsData:i}))))}var Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function $e(e){return r.createElement(Ke,Je({},e,{baseClassName:"notification",styleMode:"desktop"}))}var Qe=n(6381),et=(0,M.f)({data:{},html:{},js:{},css:{}},{data:{hasSearchRecommend:[{api:!0,locals:["in","es","it","fr","mx","pl","de","jp","nl","ru","tr","hk","tw","uk"]}]}}),tt=function(){return(tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},nt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function rt(e){var t,n=e.isSSR,a=e.isMiniHeader,i=e.isBuyHeader,c=e.miniHeaderTitle,s=e.miniHeaderSubtitle,l=e.buyHeaderLink,u=e.shoppingStepNumber,d=e.notifyMessage,m=e.data,p=(0,C.aU)(),f=(0,C.Fe)(),h=(0,r.useContext)(Ye.ev),v=null===(t=(0,M.h)(p,et).data)||void 0===t?void 0:t.isShowTitleBelow;function g(e,t){return nt(t.filter((function(t){return e===t.key})),1)[0]}function y(e,t){var n=g(e,t);return Array.from(n&&n.children||[])}var b=n?{base_data:{header:m.header||[],footer:[]}}:{},_=(0,o.m)((function(e){return e.pipe((0,ze.U)((function(e){var t=nt(e,3),n=t[0],r=t[1],o=t[2];return n&&r?[]:!!o&&(0,Ye.t5)(b,{},"",{local:p,platform:f}).header})),(0,Qe.w)((function(e){return e||h.getObservable({extendUrl:["header"]}).pipe((0,ze.U)((function(e){return e.data&&e.data.header||[]})))})))}),h.data.header||[],[!!a,!!d&&"string"==typeof d.text,!!n]),E=g("top_notify",_)||{},S=y("topbar_nav",_),w=y("topbar_nav_dropdown",_),N=y("nav",_),x=y("logo_doodle",_);return r.createElement(r.Fragment,null,!n&&r.createElement($e,{isInHeader:!0,notifyMessage:d&&"string"==typeof d.text?d:{text:E.title||"",link:E.link||""}}),r.createElement("header",{className:a||i?"mini-header":"header header--desktop"},r.createElement(He,{topNav:S,topDropdown:w,isMiniHeader:!!a,isBuyHeader:!!i,miniHeaderTitle:v?"":c||"",buyHeaderLink:l}),function(e,t,n){return e?r.createElement(r.Fragment,null):t?n?r.createElement("div",{className:"mini-header__title site-info"},r.createElement("hgroup",{className:"site-info__title"},!!c&&r.createElement("h1",null,c),!!s&&r.createElement("h4",null,r.createElement(Ge.b,{inputStr:s}))),r.createElement(ae,{portalClassName:"site-info__step",isArrowSvg:!0,stepNumber:u||1})):r.createElement(ae,{portalClassName:"mini-header__step",stepNumber:u||1}):r.createElement(oe,{navData:N,logoData:x})}(!!i,!!a,v)))}function ot(e){var t=e.isMiniHeader,n=(0,C.aU)(),o=(0,C.Fe)(),a=(0,M.h)(n,et),i=!!a.data&&!!a.data.hasSearchRecommend;return r.createElement(Ye.iD,{nationConfig:{local:n,platform:o},isServiceAutoFetch:!1},r.createElement(U,{nationConfig:{local:n,platform:o},isServiceAutoFetch:!1},r.createElement(J,{nationConfig:{local:n,platform:o},isServiceAutoFetch:i&&!t},r.createElement(g,{nationConfig:{local:n,platform:o},isServiceAutoFetch:!1},r.createElement(rt,tt({},e))))))}},2097:(e,t,n)=>{"use strict";n.d(t,{ev:()=>v,iD:()=>m,t5:()=>p});var r=n(7294),o=n(1126),a=n(3710),i=n(1037),c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},s=window;var l={data:s.__PRELOADED_STATE__&&s.__PRELOADED_STATE__.pagedata?{base_data:{header:s.__PRELOADED_STATE__.pagedata.header||[],footer:s.__PRELOADED_STATE__.pagedata.footer||[]}}:{base_data:{header:[],footer:[]}},ajaxStatus:s.__PRELOADED_STATE__&&s.__PRELOADED_STATE__.pagedata&&(s.__PRELOADED_STATE__.pagedata.header||s.__PRELOADED_STATE__.pagedata.footer)?"success":"unsent",getServiceSuccess:!(!s.__PRELOADED_STATE__||!s.__PRELOADED_STATE__.pagedata||!s.__PRELOADED_STATE__.pagedata.header&&!s.__PRELOADED_STATE__.pagedata.footer)},u=(0,o.o)(p,l),d=(0,r.createContext)(u);function m(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,s=c((0,r.useState)(u),2),l=s[0],m=s[1];function f(e){var n=e.__requestExtendUrl__,r=e.data,o=e.errmsg,a=e.errno,i=c(n,1)[0];return{data:p(r||{},l.data,String(i||""),t),errMsg:o,errNo:a}}var h={url:"".concat((0,i.jr)(t.local).goD2sSite,"/base/commondata/").concat("m"===t.platform?"mobile":"pc"),method:"GET",withCredentials:!1};return r.createElement(a.h,{context:d,setState:m,defaultValue:u,adapterError:function(e){return f(e)},adapter:f,value:l,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:h},o)}function p(e,t,n,r){void 0===e&&(e={}),void 0===t&&(t={});var o=r||{local:s.__PRELOADED_STATE__&&s.__PRELOADED_STATE__.app_local||"in",platform:s.__PRELOADED_STATE__&&1===s.__PRELOADED_STATE__.platform?"pc":"m"};return n?{header:"header"===n?h(e.base_data,o):t.header,footer:"footer"===n?h(e.base_data,o):t.footer}:{header:h(e.base_data&&e.base_data.header,o),footer:h(e.base_data&&e.base_data.footer,o)}}function f(e,t){if(void 0===e&&(e=[]),!t)return e.link||"";switch(e.url_type){case 1:return(0,i.jr)(t.local).wwwSite[t..link;default:return e.link||""}}function h(e,t){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{id:Number(e.id||0),key:e.key||".sub_title||"",link:f(e,t)||"",pic:e.pic||"",price:e.price||"",urlType:Number(e.url_type||0),target:e.target||"",productId:e.product_id||0,children:h(e.children||[],t)}}))}var v=d},1588:(e,t,n)=>{"use strict";n.d(t,{$:()=>u,j:()=>p});var r=n(7294),o=n(1126),a=n(3710),i=n(1037),c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},s=(0,o.o)(d),l=(0,r.createContext)(s);function u(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,u=c((0,r.useState)(s),2),m=u[0],p=u[1];function f(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:d(t||{}),errMsg:n,errNoethod:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0,retryOptions:{maxRetryAttempts:3,scalingDuration:5e3}};return r.createElement(a.h,{context:l,setState:p,defaultValue:s,adapterError:function(e){return f 0===e&&(e={});var t=["https://i01.appmifile.com/webfile/globalimg/pandora/user-head/head-1.png","https://i01.appmifile.com/webfile/globalimg/pandora/user-head/head-2.png","https://i01.appmifile.com/webfile/globalimg/pandora/user-head/head-3.png","https://i01.appmifile.com/webfile/globalimg/pandora/user-head/head-4.png"];return{userId:Number(e.userId||0),userName:e.userName||"",nickName:e.nickname||"",icon:e.icon||t[Math.floor(t.length*Math.random())],iconV4:e.icon||"//i01.appmifile.com/webfile/globalimg/pandora/user-head/user-avatar-v4-default.png",security:Number(e.security||0)}}var p=l},9655:(e,t,n)=>{"use strict";n.d(t,{An:()=>l,B8:()=>d,R9:()=>u,bg:()=>s,x4:()=>c});var r=n(1218),o=n(1037),a=n(2237),i=n(6808);function c(e){var t=d(e);window.location.assign("".concat(t))}function s(){return(0,a.gn)()?i.get("cUserId")||i.get("serviceToken")||"":i.get("cUserId")||i.get("userId")||i.get("serviceToken")||""}function l(e){i.remove("userId",{path:"/",domain:(0,r.YN)(e)}),i.remove("cUserId",{path:"/",domain:(0,r.h:"/".concat(e),domain:(0,r.YN)(e)}),(0,a.YO)()&&(i.remove("userId",{path:"/".concat(e),domain:(0,r.YN)(e)}),i.remove("cUserId",{path:"/".concat(e),domain:(0,r.YN)(e)}),i.remove("serviceToken",{path:"/",domain:(0,r.YN)(e)}))}function u(e){var t=s();return t||c(e),!!t}function d(e){var t=!!s(),n=encodeURIComponent(e.callbackUrl||window.location.href),r=e.isRegister||!1,a=e.local||"global";if(t||r)return!t&&r?"".concat((0,o.jr)(a).buySite.pc,"/site/login?redirectUrl=").concat(n,"&scene=register"):n;var i=e.platform||"m";return"".concat((0,o.jr)(a).buySite[i],"/site/login?redirectUrl=").concat(n)}},7380:(e,t,n)=>{"use strict";n.d(t,{XY:()=>a,kZ:()=>o});var r=n(1943);function o(e,t){var n,o=(0,r.S)(t).currencyFunction,a=null!==(n=(0,r.S)(t).currencyPrecision)&&void 0!==n?n:2,i=String(e).split("."),c=2===i.length?i[0]:"",s=2===i.length?i[1]:"",l=Number.isNaN(Number(e))||String(e)!==Number(e).toFixed(a)&&String(e)+"0"!==Number(e).toFixed(a)&&o.includes("dotThous")&&"0"!==c&&3===s.length?"dotThousCommaDec"===o?String(e+"").replace(/[.]/g,"").replace(/,/g,"."):"spaceThousCommaDec"===o?String(e+"").replace(/[ ]/g,"").replace(/,/g,"."):String(e+"").replace(/,/g,""):String(e||0);return Number(l)}function a(e,t,n){var a,i=(0,r.S)(t).currencyCode,c=(0,r.S)(t).currencySymbol,s=n&&n.isShowSuffix?(0,r.S)(t).currencySuffix:"",l=(0,r.S)(t).currencyFunction,u="integer"===(0,r.S)(t).currencyExpect?"integer":"decimal",d="post"===(0,r.S)(t).currencyPosition?"post":"pre",m=(0,r.S)(t).currencyBlindPrice||"???",p=null!==(a=(0,r.S)(t).currencyPrecision)&&void 0!==a?a:2,f=o(e,t),h="integer"===u,v=Object.assign({style:"currency",currency:i,minimumFractionDigits:h?0:p},n),g=function(e,t){if(0!==t)return(+e).toFixed(t);var n=+(+e).toFixed(0),r=+(+e).toFixed(p);return(+e).toFixed(n===r?0:p)},y=function(e,t){var n=(e=""+g(e,t.precision)).split(".");return t&&t.thousands?n[0]=n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t.thousands):t&&t.hundreds&&(n[0]=n[0].replace(/(\d)(?=(\d\d)+(?!\d))/g,"$1"+t.hundreds)),e=n.join(t.decimal)},b={commaThousDotDec:function(e,t){var n={decimal:".",thousands:",",precision:t.minimumFractionDigits||0};return y(e,n)},spaceHundredsCommaThousCommaDec:function(e,t){var n={decimal:".",thousands:",",precision:t.minimumFractionDigits||0},r=+e;return r>=1e3?y(Math.floor(r/1e3)+"",{decimal:".",hundreds:",",precision:0})+","+function(e,t){var n=""+g(e,t.precision),r=n.split(".");return r[0]=String("000"+r[0]).slice(-3),r.join(".")}((r%1e3).toFixed(2),n):y(r+"",n)},dotThousCommaDec:function(e,t){var n={decimal:",",thousands:".",precision:t.minimumFractionDigits||0};return y(e,n)},spaceThousCommaDec:function(e,t){var n={decimal:",",thousands:" ",precision:t.minimumFractionDigits||0};return y(e,n)}},_=Number(f).toString(),E="-1"===_?m:"NaN"===_?"---":(0,b[l||"commaThousDotDec"])(_,v);if(v&&"currency"===v.style){E=function(e,t){for(var n in t)e=e.replace("{{"+n+"}}",t[n]);return e}({pre:"{{code}}{{num}}",post:"{{num}}{{code}}"}[d],{num:E,code:c+s})}return E}},9078:(e,t,n)=>{"use strict";n.d(t,{$o:()=>i,qQ:()=>a});var r=n(7552);function o(){var e="temp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function a(e,t,n,a){if((0,r.wz)(e)e.getItem(a)||"{}")||{};i[t]=n,localStorage.setItem(a,JSON.stringify(i))}else localStorage.setItem(t,JSON.stringify(n))}catch(c){console.debug(c)}}function i(e,t){if(o()){var n=null;if(t&&localStorage.getItem(t))n=JSON.parse(localStorage.getItem(t)||"{}")[e]||null;else n=JSON.parse(localStorage.getItem(e)||"null");return n}}},1261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scmAppMiFileUrl=t.scmBuildGlobalConfig=t.scmAlternateConfig=t.scmBuildSiteConfig=void 0;const r=n(1642);t.scmBuildSiteConfig=function(e){const t=(0,r.scmBuildSiteConfig)(e);return Object.assign({},t,{isRtl:(0,r.scmLanguageIsRtl)(e)})},t.scmAlternateConfig=function(e){return(0,r.scmAlternateConfig)(e).map((([e,t])=>`<link rel="alternate" href="https:${t}/" hreflang="${e}" />`))};var o=n(1642);Object.defineProperty(t,"scmBuildGlobalConfig",{enumerable:!0,get:function(){return o.scmBuildGlobalConfig}}),Object.defineProperty(t,"scmAppMiFileUrl",{enumerable:!0,get:function(){return o.scmAppMiFileUrl}})},9363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scmCurrencyConfig=void 0;const r=n(1642);t.scmCurrencyConfig=function(e){return(0,r.scmCurrencyConfig)(e)}},4299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scmGCaptchaConfig=t.scmGTMConfig=t.scmGaConfig=void 0;const n={in:["UA-51415204-3","UA-51415204-13","UA-51415204-15","UA-51415204-15"],id:["UA-51415204-10","UA-109515030-17","",""],ru:["UA-51415204-29","UA-10951503030-6","UA-109515030-6"],hk:["UA-51415204-5","UA-51415204-22","UA-51415204-45","UA-51415204-45"],tw:["UA-51415204-4","UA-51415204-12","UA-51415204-19","UA-51415204-19"],default:["","","",""]};t.scmGaConfig=function(e){const[t,r,o,a]=n[e]||n.default;return{pc:t,m:r,app:o,ios:a}};const r={in:["GTM-PHF5K9","GTM-PHF5K9"],id:["GTM-5FDLVVG","GTM-5FDLVVG"],ru:["GTM-PMKBW9N","GTM-PMKBW9N"],hk:["GTM-NL4G49C","GTM-NL4G49C"],tw:["GTM-P23SD68","GTM-TS4H9NQ"],default:["",""]},o={hk:["GTM-NL4G49C","GTM-NL4G49C"],in:["",""],default:["GTM-N7BDPG6","GTM-N7BDPG6"]};t.scmGTMConfig=function(e,t){const n=t?o:r,[a,i]=n[e]||n.default;return{pc:a,m:i}};const a={default:"6Le2lq4ZAAAAAICguqzsVnvy9ZTCNYzl3fZyJJ9Q"};t.scmGCaptchaConfig=function(e){return e?a[e]:a.default}},6688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scmCookieLevelConfig=t.scmCookiePolicyConfig=t.scmCookieDomain=t.scmOneTrackConfig=t.scmStatDomainId=t.scmMiV4SiteList=t.scmSiteAttachConfig=t.scmBusinessSiteList=t.scmCustomerSiteList=t.scmSiteLangList=t.scmSiteConfig=t.scmForterConfig=t.scmLiveChatConfig=t.scmConfig=t.scmGCaptchaConfig=t.scmGTMConfig=t.scmGaConfig=t.scmAppMiFileUrl=t.scmAlternateConfig=t.scmBuildSiteConfig=t.scmBuildGlobalConfig=t.scmCurrencyConfig=void 0;var r=n(9363);Object.defineProperty(t,"scmCurrencyConfig",{enumerable:!0,get:function(){return r.scmCurrencyConfig}});var o=n(1261);Object.defineProperty(t,"scmBuildGlobalConfig",{enumerable:!0,get:function(){return o.scmBuildGlobalConfig}}),Object.definumerable:!0,get:function(){return o.scmBuildSiteConfig}}),Object.defineProperty(t,"scmAlternateConfig",{enumerable:!0,get:function(){return o.scmAlternateConfig}}),Object.definePropertyrn o.scmAppMiFileUrl}});var a=n(4299);Object.defineProperty(t,"scmGaConfig",{enumeract.defineProperty(t,"scmConfg",{enumerable:!0,get:function(){return i.scmLiveChatConfig}}),Object.defineProperty(t,"scmForterConfig",{enumerable:!0,get:function(){return i.scmForterConfig}});var c=n(747);Object.defineProperty(t,"scmSiteConfig",{enumerable:!0,get:function(){return c.scmSiteConfig}}),Object.defineProperty(t,"scmSiteLangList",{enumerable:!0,get:function(){return c.scmSiteLangList}}),Object.defineProperty(t,"scmCustomerSiteList",{enumerable:!0,get:function(){return c.scmCustomerSiteList}}),Object.defineProperty(t,"scmBusinessSiteList",{enumerable:!0,get:function(){return c.scmBusinessSiteList}});var s=n(705);Object.defineProperty(t,"scmSiteAttachConfig",{enumerable:!0,get:function(){return s.scmSiteAttachConfig}}),Object.defineProperty(t,"scmMiV4SiteList",{enumerable:!0,get:function(){return s.scmMiV4SiteList}});var l=n(3036);Object.defineProperty(t,"scmStatDomainId",{enumerable:!0,get:function(){return l.scmStatDomainId}}),Object.defineProperty(t,"scmOneTrackConfig",{enumerable:!0,get:function(){return l.scmOneTrackConfig}}),Object.defineProperty(t,"scmCookieDomain",{enumerable:!0,get:function(){return l.scmCookieDomain}}),Object.defineProperty(t,"scmCookiePolicyConfig",{enumerable:!0,get:function(){return l.scmCookiePolicyConfig}}),Object.defineProperty(t,"scmCookieLevelConfig",{enumerable:!0,get:function(){return l.scmCookieLevelConfig}})},1848:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scmForterConfig=t.scmLiveChatConfig=t.scmConfig=void 0;const r=n(2307);t.scmConfig=function(e){const t=(0,r.scmConfig)(e);return Object.assign({},t,{wwwSite:t.wwwSiteV3,wwwV4Site:t.wwwSite})},t.scmLiveChatConfig=function(e){return(0,r.scmLiveChatConfig)(e)},t.scmForterConfig=function(e){return(0,r.scmForterConfig)(e)}},705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scmMiV4SiteList=ease"lease},ua:{miV4:"release"},uk:{miV4:"release"},us:{miV4:"release"},uz:{miV4trict";Object.defineProperty(t,"__esModule",{value:!0}),t.scmevelCit:[5onfig=function(e){return(0,r.scmStatConfig){r&&!turn n<18;his.m(e,t),152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,7,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,11,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(e,t){var n=o.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,a=new Array,i=0;i<r;i++)for(var c=n[3*i+0],s=n[BLE[4*(e-1)+0];case r.M:return o.RS_BLOCK_TABLE[4*(e-1)+1];case r.Q:return o.RS_BLOCK_TABLE[4*(e-1)+2];case r.H:return o.RS_BLOABLE[n]]=n;e.exports=t},2792:e=>{e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},4892:(e,t,n)=>{var r=n(2792),o=n(2832),a=n(1518),i=0,c4,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,BitMODEi(e){for(var t=1;t<arguments.length;t++){var =!0),Object.defineProperty(e,r.key,r)}}functi"function"!=typeof t?p(e):t}function m(e){return(m=Object.at(f,Of?Object.onAftult)(n n.p "+t:TagNathis.{}),{,closnull}elector "+t+".")}function l(e){return!(!e&&!c)||((0,a.default)(!1,["react-modal: App el't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideAp.canUseDOM;t.default=i},8338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,i=n[0],c=n[n.length-1];if(e===document.activeElement){if(!o)return;r=cse&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appeateriENTERING=p,v.ENTERED=f,v.EXITING=h;const y=v;var b=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?nn.setAttribute("class",i(n.className&&n.className.baseVal||"",r)));var n,r}))},_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){v=r[0],a=r[1]?"appear":"en,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)}t.resolveasses(n,"enter"oneClassName:r?o+"-done":n[e+"Done"]}},t}(0,a.Z)(t,e);var n=t.prototype;return n.addClass=function(essList.contains(tclassNafunctio).map((function(t){return e[t]}))},p=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExitednction(n(e,t(0,o.Zr t=(n?e(d,u):e(u)).subscribe((function(e){u.next(e),l(e)}));return function(){t.unsubscrise strict";n.d(t,{X:()=>i});var r=n(655),o=n(5244),a=n(1016),i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r,t.prototype.getValue=function(){if(this.hasError)throw this.thrown(t){e),c=2),u=functioed)throw new c.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<tion(ion(),this.unsubscribe()},t}(o.L),s=function(e){function t(){return null!==e&&e.apply(this,argumention.c){t.(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);iturn(0,c.r)(eg"==tdd(t){return t.r=t.lift(n);return n.caught=r}}var i=function(){function e(e){this.sSITIVE_INFINITe(e,t){vs.active++,this.pe._c){varpletei=n(7)).pis.pr=funcn r.ln t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))},e}(),l=function(e){function t(t,n,r,o){var c=e.call(this,t)||this;return c._tapNext=a,c._tapError=a,c._tapComplete=a,c._tapError=r||a,c._tapComplete=o||a,(0,i.m)(n)?(c._context=c,c._tapNext=n):n&&(c._context=n,c._tapNext=n.next||a,c._tapError=n.error||a,c._tapComplete=n.complete||a),c}return r.ZT(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(o.L)},3109:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var r=))),r}))}},5278:(e,t,n)=>{"use strict";n.d(t,{P:()=>c,z:()=>i});var r=n(655),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(3884).w)),a=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),i=new(function(e){function t(n,r){void 0===r&&(r=a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototypesh=function(e){var t=this.actions;if(this.a(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(a))(o),c=i},999:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>o});var o=r()},1016:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},9217:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){rern e instanceof Date&&!isNaN(+e)}n.d(t,{J:()=>r})},5812:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(9026);function o(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},336:(e,t,n)=>{"use strict";funcunction"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},7507:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7843:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(6900),o=n(1644),a=n(999),i=n(5050),c=n(9217),s=n(336),l=n(2009),u=function(e){if(e&&"function"==typeof e[i.L])return u=e,function(e){var t=u[i.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,c.z)(e))return(0,r.V)(e);if((0,s.t)(e))return n=e,function(e){return n.then((function(t)urn e.error(t)})).then(null,o.z),e};if(e&&"function"==typeof e[a.hZ])return t=e,function(e){for(var n=t[a.hZ]();;){var r=void 0;try{r=n.next()}catch(o){return e.error(o),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,d=(0,l.K)(e)?"an invalid object":"'d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},6900:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},473:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Yb});var r=n(7294),o=n(5977),a=n(1126),i=n(3710),c=n(1037),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l={SELECT_MODEL:0,GRADING_FORM:1,PRICE_QUOTE:2,FINISHED:3},u={modelId:-1,deviceId:"",deviceName:"",devicePictureUrl:"",answers:[],extras:[],isActivelyInputIMEI:!1},d=s(s({},u),{hasFinishedAtLeastOneAssessment:!1,recordedPriceQuote:{}}),m="NO_CAMPAIGN",p=/^[a-zA-Z0-9/]{0,30}$/,f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},h=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},v=(0,a.o)(b),g=(0,r.createContext)(v);function y(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=f((0,r.useState)(v),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:b(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/misc/getgoodsinformation"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{tag:""},retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[10001,23e3]}};return r.createElement(i.h,{context:g,setState:l,defaultValue:v,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function b(e){return void 0===e&&(e={}),{categories:P(e.categories||[]),choiceData:_(e.choice_data||"{}"),discount:k(e.discount||"{}"),goodsInformation:M(e.goodsinformation||[]),equalPrice:!!e.equalprice,lowestPrice:e.lowestprice||"",highestPrice:e.highestprice||"",lowestMarketPrice:e.lowest_market_price||"",highestMarketPrice:e.highest_market_price||"",lowestReferencePrice:e.lowest_reference_price||"",highestReferencePrice:e.highest_reference_price||"",packSet:O(e.packset||[]),insurancesList:I(e.insuranceNew||{}),productType:e.productType||"",star:A(e.star||{}),earnestData:L(e.earnest_data||{}),userAccountType:Number(e.user_account_type||0),showDelivery:!!e.show_delivery,showMrp:!!e.show_mrp,showAlwaysNext:!!e.show_alwaysnext,isHiddenSpec:!!e.is_hidden_spec,extends:R(e.extends||{})}}function _(e){var t=JSON.parse(e||"{}");return{album:t.album||[],buyOutOf:t.buy_outof||"",category:t.category||"0",compareChoice:JSON.parse(t.compareChoice?t.compareChoice:"[]"),extra:E(t.ext||{}),goodsImages:Object.values(t.goods_images||{}),describe:t.describe||[],largeImage:t.image||"",miExchange:w(t.miexchange||{}),miExchangeFloat:C(t.miexchange_float||{}),sellingPoint:t.selling_point||"",eventOfferList:N(t.offers||[]),supportList:x(t.support||[]),skuRank:t.rank||{},skuTree:t.tree||{},skuList:t.skus||[],tips:t.tips||{},productTitle:t.title||"",productVideo:t.video||[],afterSaleRank:t.after_sale_rank||"",rankSort:t.rank_sort||[]}}function E(e){return{arViewData:S(e.ars)}}function S(e){return Array.from(e||[]).map((function(e){return{bgFileUrl:e.bg_url,fileUrl:e.file_url}}))}function w(e){return{isShow:1===Number(e.is_show||0),sectionTitle:e.title||"",imgUrl:e.logo||"",title:e.name||"",content:e.desc||"",urlText:e.url_name||"",urlLink:e.url||""}}function C(e){return{isShow:1===Number(e.is_show||0),imgUrl:e.img_url||"",linkUrl:e.url||""}}function N(e){return e.map((function(e){return{content:e.content.replace(/<(\S*)[^>]*>[^<]*<\/(\1)>/gi,"").replace(/<br>/gi,"\n"),link:e.link}}))}function x(e){return e.map((function(e){return{name:e.name.replace(/<(\S*)[^>]*>[^<]*<\/(\1)>/gi,"").replace(/<br>/gi,"\n"),link:e.link,note:e.note}}))}function k(e){return{price:e.saleprice||"",marketPrice:e.marketprice||"",discountTitle:e.discount||""}}function I(e){return Object.keys(e).map((function(t){var n=Array.from(e[t].insurancedatalist||[]).reduce((function(e,t){return e[t.sort||0]=h(h([],f(e[t.sort||0]||[]),!1),[T(t)],!1),e}),[]).filter((function(e){return!!e}));return{goodsId:Number(t||0),list:n}}))}function T(e){return{sortIndex:Number(e.sort||0),insuranceId:Number(e.goods_id||0),insuranceTag:e.mark||"",insurancePrice:Number(e.price||0),insuranceMarketPrice:Number(e.market_price||e.price||0),insuranceSkuId:Number(e.sku||0),insuranceHtmlText:e.agree_content||"",insuranceValidPeriod:e.valid_period||"",insuranceIcon:e.image_url||"",insuranceTitle:e.insurance_name||"",insuranceDescribe:e.insurance_describe||"",learnMoreLink:e.learn_more_link||"",isBought:!1,isAdditional:!0,isDisabled:!1}}function O(e){return Object.keys(e).map((function(t){return e[t]})).filter((function(e){return e instanceof Object&&e.product_id})).map((function(e){return{isOutOfStock:!!e.is_cos,isOnSale:!!e.is_sale,bundleId:Number(e.product_id||0),bundleName:e.product_name||"",bundleImage:e.image_url||"",price:Number(e.price||0),marketPrice:Number(e.market_price||0),elementsGoods:JSON.parse(e.elements_goods?e.elements_goods:"[]"),styleListInfo:JSON.parse(e.styleListInfo?e.styleListInfo:"[]").filter((function(e){return"{}"!==JSON.stringify(e)}))}}))}function P(e){return e.map((function(e){return{ad:e.ad||"",catId:Number(e.cat_id||0)||0,categoryTag:e.category_tag||"",children:e.chidern||"",description:e.description||"",icon:e.icon||"",level:Number(e.level||0)||0,parentId:Number(e.parent_id||0)||0,path:e.path||"",sort:Number(e.sort||0)||0,title:e.title||"",url:e.url||""}}))}function M(e){return e.map((function(e){return{goodsId:Number(e.id||0)||0,goodsName:e.name||"",goodsStyle:e.style_name||"",goodsTitle:e.product_name||"",goodsImage:e.image||"",commodityId:Number(e.commodity_id||0)||0,skuId:Number(e.sku||0)||0,currency:e.currency||"",isNotForSale:!!e.not_for_sale||!1,isOnSale:!!e.is_sale||!1,isOutOfStock:!!e.is_cos||!1,maxBuyNum:Number(e.buy_limit||1)||1,referencePrice:e.reference_price||"0",marketPrice:e.market_price||"0",price:e.price||"0",isReservation:!!e.is_deposit_presale||!1,isPreSale:!!e.is_presale||!1,isPreSaleOutOfStock:!!e.presale_cos||!1,isBigTap:!!e.is_bigtap||!1,isDaMiao:!!e.is_damiao||!1,hasRecommend:!!e.has_recommend||!1,hasPacket:!!e.has_packet||!1,isNeedSubscribe:!!e.needSubscribe||!1,goodsDealer:e.goods_dealer||"",tagName:e.tag||"",diff:e.diff||0,pbStart:e.pb_start||0,daMiaoStatus:e.status||0,daMiaoStatusName:e.status_name||"",daMiaoStatusUrl:e.status_url||"",mrpManufacturedFor:e.manufacturer_details||"",mrpManufacturedBy:e.manufacturer_by||"",mrpImporterDetails:e.importer_details||"",mrpProductCategory:e.cat_name||"",mrpCountryOrigin:e.country_origin||"",mrpMarketPrice:e.market_price_mrp||"",mrpSellingPrice:e.price_mrp||"",productId:Number(e.product_id||0)||0,isShowInExchange:Number(e.is_show_exchange||0)||0,isLakesc:e.exchangeDescription||"",weuTradeInConfig:{isSupportTradeIn:e.trade_in_weu_support||!1,campaignId:String(e.trade_in_weu_campaign_id||m),description:String(e.trade_in_weu_desc||""),kspContent:String(e.trade_in_weu_ksp||""),kspLink:String(e.trade_in_weu_ksp_link||"")},isRecommend:e.is_recommend||0,spuId:String(e.spu_id||""),graphics3DUrl:String(e.graphics_3d_url||"").replace(/^(http(s?):)?\/\//i,"https://")}}))}function A(e){return{commentsStar:e.comments_star||"",commentsTotal:e.comments_total||0,productId:Number(e.product_id||0)||0,scoreOneNum:e.one_star||0,scoreTwoNum:e.two_star||0,scoreThreeNum:e.three_star||0,scoreFourNum:e.four_star||0,scoreFiveNum:e.five_star||0,isShowGradeMark:!!e.show_grade_mark||!1,goodsComments:Array.from(e.good_comment||[]),mediaComments:Array.from(e.media_comment||[]),topReviewComments:D(e.essence_list||[]),selectedUserComments:Array.from(e.selected_comments||[]),selectedMediaComments:Array.from(e.selected_media_comments||[])}}function D(e){return e.map((function(e){return{userAvatar:e.user_avatar||"",userName:e.user_name||"",userId:Number(e.user_id||0),commentId:e.comment_id||"",commentContent:e.comment_content||"",commentImage:e.comment_images||[],commentVideo:e.comment_video||[],commentVideoCover:e.comment_video_cover||[],commentStar:Number(e.total_grade||0),commentTime:Number(e.add_time||0),goodsName:e.goods_name||"",goodsType:e.spec_value||""}}))}function L(e){return{text:e.flow_text||"",link:e.flow_url||""}}function R(e){return{energyImage:String(e.energy_image||""),energyInfo:String(e.energy_info||""),productEnergy:String(e.product_energy||""),productEnergyInfo:String(e.product_energy_info||"")}}var j=g,F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},U=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},B={isOptInTradeIn:!1,priceQuoteId:"",modelId:0,deviceId:"",deviceName:"",answers:[],extras:[],credit:0,extraCreditForOldDevice:0,extraCreditForNewDevice:0,totalCredit:0},H={isSkuPanelShow:!1,isCountDownShow:!0,isAlwaysNextActive:!1,productName:"",productPrice:0,totalPrice:0,currentGoodsId:0,currentGoodsSelect:0,currentGoodsNum:1,currentBundleIds:[[0,0]],currentInsuranceIds:[0],currentActivityMap:{dailyPicksIds:[],couponRewardsIds:[],reservationIds:[],bespeakList:[],preOrderList:[]},goodsInfoActivityList:[],goodsIdSkuInfoList:[],bigTapDiffTime:0,bigTapDisabledIds:[0],miExchange:{laku6ExchangeActive:!1,laku6ExchangeModelImei:"",isInExchangeActive:!1,inExchangeAmount:0,weuTradeInInfo:B,selectBrandName:"",selectModeName:""},isPreOrderTimeToBuy:!1,pinCode:""},G="OPEN_SKU_PANEL",z="CLOSE_SKU_PANEL",W="SHOW_COUNT_DOWN",Y="HIDE_COUNT_DOWN",X="ACTIVE_ALWAYS_NEXT",q="RESET_ALWAYS_NEXT",Z="e="RESET_GOODS_ID",me="SET_BUNDLE_ID",pe="RESET_BUNDLE_ID",fe="SET_INSURANCE_ID",he="RESET_INSURANCE_ID",ve="SET_LAKU6_EXCHANGE",ge="RESET_LAKU6_EXCHANGE",ye="SET_IN_EXCHANGE",be="SET_PREORDER_TIME_TO_BUY",_e="PIN_CODE",Ee="OPT_IN_TRADE_IN",Se="OPT_OUT_TRADountDownShow:!0});case Y:return F(F({},e),{isCountDownShow:!1});case X:return F(F({},e),{isAlwaysNextActive:!0});case q:return F(F({},e),{isAlwaysNextActive:!1});case Z:return F(F({},e),{productName:String(t.payload||"")});case K:return F(F({},e),{productPrice:Number(t.payload||0)});case J:return F(F({},e),{totalPrice:Number(t.payload||0)});case $:return F(F({},e),{bigTapDiffTime:Number(t.payload||0)});case Q:return F(F({},e),{bigTapDisabledIds:U([],V(new Set(U(U([],V(e.bigTapDisabledIds),!1),[Number(t.payload||0)],!1))),!1)});case ee:return F(F({},e),{goodsInfoActivityList:Array.from(t.payload||[])});case ne:return F(F({},e),{goodsIdSkuInfoList:Array.from(t.payload||[])});case re:var n={dailyPicksIds:Array.from(new Set(t.payload.dailyPicksIds)),couponRewardsIds:Array.from(new Set(t.payload.couponRewardsIds)),reservationIds:Array.from(new Set(t.payload.reservationIds)),bespeakList:Array.from(new Set(t.payload.bespeakList)),preOrderList:Array.from(new Set(t.payload.preOrderList))};return F(F({},e),{currentActivityMap:F({},n)});case oe:var r=F({},e.currentActivityMap);return r[t.payload.eventName]=Array.from(new Set(r[t.payload.eventName].concat([t.payload.eventId]))),F(F({},e),{currentActivityMap:F(F({},e.currentActivityMap),t.payload)});case ae:var o=F({},e.currentActivityMap);return o[t.payload.eventName]=o[t.payload.eventName].filter((function(e){return e!==t.payload.eventId})),F(F({},e),{currentActivityMap:F({},o)});case ie:return F(F({},e),{currentGoodsNum:Number(t.payload||1)});case ce:return F(F({},e),{currentGoodsNum:1});case se:return F(F({},e),{currentGoodsNum:Number(e.currentGoodsNum||1)+Number(t.payload||1)});case le:return F(F({},e),{currentGoodsNum:Number(e.currentGoodsNum||2)-Number(t.payload||1)});case ue:return F(F({},e),{currentGoodsId:Number(t.payload||0)});case te:return F(F({},e),{currentGoodsSelect:e.currentGoodsSelect+1});case de:return F(F({},e),{currentGoodsId:0});case me:var a=U([],V(e.currentBundleIds),!1);return a[Number(t.payload.sortIndex||0)]=[Number(t.payload.bundleId||0),Number(t.payload.accessoryId||0)],F(F({},e),{currentBundleIds:U([],V(a),!1)});case pe:return F(F({},e),{currentBundleIds:[[0,0]]});case fe:var i=U([],V(e.currentInsuranceIds),!1);return i[Number(t.payload.sortIndex||0)]=Number(t.payload.insuranceId||0),F(F({},e),{currentInsuranceIds:U([],V(i),!1)});case he:return F(F({},e),{currentInsuranceIds:[0]});case ve:return F(F({},e),{miExchange:F(F({},e.miExchange),{laku6ExchangeActive:!0,laku6ExchangeModelImei:t.payload||""})});case ge:return F(F({},e),{miExchange:F(F({},e.miExchange),{laku6ExchangeActive:!1,laku6ExchangeModelImei:""})});case ye:return F(F({},e),{miExchange:F(F({},e.miExchange),t.payload)});case Ne:return F(F({},e),{miExchange:F(F({},e.miExchange),{selectBrandName:t.payload||""})});case xe:return F(F({},e),{miExchange:F(F({},e.miExchange),{selectModeName:t.payload||""})});case be:return F(F({},e),{isPreOrderTimeToBuy:!0});case _e:return F(F({},e),{pinCode:t.payload||""});case Ee:return F(F({},e),{miExchange:F(F({},e.miExchange),{weuTradeInInfo:F(F({},e.miExchange.weuTradeInInfo),{isOptInTradeIn:!0})})});case Se:return F(F({},e),{miExchange:F(F({},e.miExchange),{weuTradeInInfo:F(F({},e.miExchange.weuTradeInInfo),{isOptInTradeIn:!1})})});case we:return F(F({},e),{miExchange:F(F({},e.miExchange),{weuTradeInInfo:F(F({},e.miExchange.weuTradeInInfo),t.payload)})});case Ce:return F(F({},e),{miExchange:F(F({},e.miExchange),{weuTradeInInfo:F(F({},B),{isOptInTradeIn:e.miExchange.weuTradeInInfo.isOptInTradeIn})})});default:return e}}var Ie=(0,r.createContext)({state:H,dispatch:function(e){}});function Te(e){var t=V((0,r.useReducer)(ke,H),2),n=t[0],o=t[1];return r.createElement(Ie.Provider,{value:{state:n,dispatch:o}},e.children)}var Oe=n(1893),Pe=n(3106),Me=n(6162),Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function De(e){var t=e.local,n=e.platform,o=e.tag,a=(0,r.useContext)(Ie).state,i=(0,r.useContext)(Pe.kn).dispatch,s=(a.productName||(o.match("-")?o.split("-").join(" "):o)).replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}));return(0,r.useEffect)((function(){i({type:Pe.At.SET_HEADER_TITLE,payload:"".concat(Oe.get("Buy {productName} Online",{productName:s}))})}),[s]),r.createElement(Me.h,Ae({},e,{isBuyHeader:!0,buyHeaderLink:{text:Oe.get("Learn more about {productTitle} >",{productTitle:s}),link:"".concat((0,c.jr)(t).wwwSite[n],"/").concat(o)},burySettings:{category:"buyproduct"}}))}var Le=n(4150),Re=n(4184),je=n.n(Re),Fe=n(1931),Ve=n(5709);function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return(0,Ve.U)(Be(e,n))(t)}}function Be(e,t){return function(n){for(var r=n,o=0;o<t;o++){var a=null!=r?r[e[o]]:void 0;if(void 0===a)return;r=a}return r}}var He=n(655),Ge=n(979);function ze(e,t){return function(n){return n.lift(new We(e,t))}}var We=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ye(e,this.predicate,this.thisArg))},e}(),Ye=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return He.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(Ge.L),Xe=n(3438),qe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ze=(0,a.o)($e),Ke=(0,r.createContext)(Ze);function Je(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=qe((0,r.useState)(Ze),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:$e(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/activity/product/list"),method:"POST",basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{goods_ids:""},retryOptions:{maxRetryAttempts:5,scalingDuration:5e3}};return r.createElement(i.h,{context:Ke,setState:l,defaultValue:Ze,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function $e(e){return void 0===e&&(e={}),{activityList:Qe(e.act_map||{}),allCouponList:nt(e.all_coupon_list||[]),exchangeCouponList:(t=e.exchangeCouponList||[],t.map((function(e){return{couponId:e.coupon_id||0,model:e.model||"",brand:e.brand||"",brandId:e.brand_id||"",isHot:e.isHot||!1,amount:e.amount||0,startTime:e.start_time||"",endTime:e.end_time||"",imei:e.imei||"",image:e.image||"",couponStatus:e.coupon_status||0,addTime:e.add_time||"",modelId:e.model_id||"",subsidyAmount:e.subsidy_amount||0,cashifyAmount:e.cashify_amount||0}}))),exchangePriceTip:e.exchangePriceTip||"",newExchangeDesc:e.newExchangeDesc||"",oldExchangeDesc:e.oldExchangeDesc||""};var t}function Qe(e){return Object.keys(e||{}).flatMap((function(t){return e[t]})).flatMap((function(e){return e.value})).filter((function(e){return e})).map((function(e){return{activityId:Number(e.act_id||0),activityNo:e.act_no||"",activityType:e.act_type||0,activityName:tt(e.act_type||0),goodsId:Number(e.goods_id||0),startTime:Number(e.start_time||0),startTimeTxt:e.start_time_txt||"",endTime:Number(e.end_time||0),endTimeTxt:e.end_time_txt||"",couponList:nt(e.coupon_list||[]),price:Number(e.disct_price||0),reductionPrice:Number(e.reduction||0),marketPrice:Number(e.price||0),tagList:e.tags||[],giftImageUrl:e.gift_url||"",reservationInfo:rt(e.ingot_act||{}),overSale:et(e.over_sale||{}),displayTime:Number(e.display_time||0),bumpUpSubsidyAmounts:e.bump_up_subsidy_amounts||{}}}))}function et(e){return{startTimeTxt:e.start_time_txt||"",endTimeTxt:e.end_time_txt||"",info:e.info||""}}function tt(e){switch(e){case-1:return"exchange";case 1:return"dailyPicks";case 2:return"couponRewards";case 3:return"reservation";case 5:return"crowdBuying";case 6:return"overSale";default:return""}}function nt(e){return e.map((function(e){return{couponValue:2===e.coupon_type?Number(1-e.value):Number(e.value||0),couponType:Number(e.coupon_type||0),couponAct:Number(e.coupon_act_type||0),couponTitle:1===e.coupon_type?e.show_title:e.value_desc,couponName:e.coupon_name||"",couponRange:e.coupon_range_desc||"",couponDesc:String(e.valid_desc||"").replace("<br>","\n"),goodsIds:Array.from(e.goods_ids||[]).map((function(e){return Number(e||0)}))}}))}function rt(e){return{aSkuId:Number(e.a_sku||0),aGoodsId:Number(e.a_goods_id||0),aPrice:Number(e.a_sale_price||0),aStartTime:Number(e.a_start_time||0),aEndTime:Number(e.a_end_time||0),bSkuId:Number(e.b_sku||0),bGoodsId:Number(e.b_goods_id||0),bPrice:Number(e.b_sale_price||0),bStartTime:Number(e.b_start_time||0),bStartTimeTxt:e.b_start_time_txt||"",bEndTime:Number(e.b_end_time||0),bEndTimeTxt:e.b_end_time_txt||"",discountAmount:Number(e.discount_amount||0),expandedPrice:Number(e.expanded_price||0),expectDeliverTimeStart:Number(e.expect_deliver_time_start||0),expectDeliverTimeStartTxt:e.expect_deliver_time_start_txt||"",expectDeliverTimeEnd:Number(e.expect_deliver_time_end||0),expectDeliverTimeEndTxt:e.expect_deliver_time_end_txt||"",actualPrice:Number(e.actual_price||0)}}var ot=Ke,at=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},it=(0,a.o)(lt),ct=(0,r.createContext)(it);function st(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=at((0,r.useState)(it),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:lt(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/activity/getcoupon"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{goods_ids:""},retryOptions:{maxRetryAttempts:5,scalingDuration:5e3}};return r.createElement(i.h,{context:ct,setState:l,defaultValue:it,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function lt(e){return void 0===e&&(e={}),{activityList:ut(e.act_map||{}),allCouponList:pt(e.all_coupon_list||[]),allGetCouponList:ft(e.all_get_coupon_list||[]),exchangeCouponList:(t=e.exchangeCouponList||[],t.map((function(e){return{couponId:e.coupon_id||0,model:e.model||"",brand:e.brand||"",brandId:e.brand_id||"",isHot:e.isHot||!1,amount:e.amount||0,startTime:e.start_time||"",endTime:e.end_time||"",imei:e.imei||"",image:e.image||"",couponStatus:e.coupon_status||0,addTime:e.add_time||"",modelId:e.model_id||"",subsidyAmount:e.subsidy_amount||0,cashifyAmount:e.cashify_amount||0}})))};var t}function ut(e){return Object.keys(e||{}).flatMap((function(t){return e[t]})).flatMap((function(e){return e.value})).filter((function(e){return e})).map((function(e){return{activityId:Number(e.act_id||0),activityNo:e.act_no||"",activityType:e.act_type||0,activityName:mt(e.act_type||0),goodsId:Number(e.goods_id||0),startTime:Number(e.start_time||0),startTimeTxt:e.start_time_txt||"",endTime:Number(e.end_time||0),endTimeTxt:e.end_time_txt||"",couponList:pt(e.coupon_list||[]),getCouponList:ft(e.get_coupon_list||[]),price:Number(e.disct_price||0),reductionPrice:Number(e.reduction||0),marketPrice:Number(e.price||0),tagList:e.tags||[],giftImageUrl:e.gift_url||"",reservationInfo:ht(e.ingot_act||{}),overSale:dt(e.over_salecouponValce("<br>"esc||"",couponDesc:1===e.valime:Number(e.valid_end_time||0)}}))}function ht(e){return{aSkuId:Number(e.a_sku||0),aGoodsId:Number(e.a_goods_id||0),aPrice:Number(e.a_sale_price||0),aStartTime:Number(e.a_surn e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},yt=(0,a.o)(Et),bt=(0,r.createContext)(yt);function _t(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=gt((0,r.useState)(yt),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Et(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/address/checkzipcode"),method:"POST",basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{zipcode:"",goodsid:"",sku:""},withCredentials:!0};return r.createElement(i.h,{context:bt,setState:l,defaultValue:yt,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Et(e){return void 0===e&&(e={}),{arrivalTime:e.arrival_time||"",canCod:1===e.can_cod,canDelivery:1===e.can_delivery,isEnable:1===e.enable,cityName:e.citys||"",errors:e.errors||"",limit:e.limit||"",limitCod:e.limit_cod||"",regionName:e.region_name||"",standardMsg:e.standardMsg||"",warehouse:e.warehouse||"",parentId:Number(e.parent_id||0),regionId:Number(e.region_id||0),sddNddData:St(e.sddnddData||{}),goodsStock:Ct(e.goodsStock||{}),standardEstimatedDelivery:String(e.standard_estimated_delivery||"")}}function St(e){return{supportList:(t=e.supportList||[],t.map((function(e){return{sddNddGoodsId:Number(e.goodsId||0),errMsg:e.errmsg||"",formatPrice:e.money||"",serverName:e.serverName||"",time:e.time||0,timeText:e.timeText||""}}))),popup:wt(e.popup||{})};var t}function wt(e){return{content:Array.from(e.content||[]).map((function(e){return{item:e.item||"",text:e.text||""}})),imgUrl:e.img||"",linkText:e.linkText||"",linkUrl:e.linkUrl||"",title:e.title||""}}function Ct(e){return Array.from(e||[]).map((function(e){return{goodsId:Number(e.goodsId||0),isOutOfStockInArea:!!e.isSubHomeSku&&!!e.isCos,OutOfStockMsg:e.outOfStockMsg||""}}))}var Nt=bt,xt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},kt=(0,a.o)(Ot),It=(0,r.createContext)(kt);function Tt(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=xt((0,r.useState)(kt),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Ot(t),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,",params:{sku:NaN},retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[10001,23e3]}};return r.createElement(i.h,{context:It,setState:l,defaultValue:kt,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Ot(e){return{isNeedShowSnapmint:e||!1}}var Pt=It;function Mt(e){return function(t){return t.lift(new At(e))}}var At=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new Dt(e,this.predicate))},e}(),Dt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return He.ZT(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(Ge.L),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return He.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Ge.L),Rt=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return He.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._erroor(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Ge.L),jt=n(7843),Ft=n(1906);function Vt(e,t,n,r,o){if(void 0===o&&(o=new Rt(e,n,r)),!o.closed)return t instanceof Ft.y?t.subscribe(o):(0,jt.s)(t)(o)}function Ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new Bt(r,n))}}var Bt=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new Ht(e,this.observables,this.project))},e}(),Ht=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.observables=n,o.project=r,o.toRespond=[];var a=n.length;o.values=new Array(a);for(var i=0;i<a;i++)o.toRespond.push(i);for(i=0;i<a;i++){var c=n[i];o.add(Vt(o,c,void 0,i))}return o}return He.ZT(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(Lt),Gt=n(2379);function zt(e){var t,n,o=e.className,a=void 0===o?"":o,i=e.baseClassName,c=void 0===i?"clip-image-v4":i,s=e.borderWidth,l=void 0===s?0:s,u=e.borderColor,d=void 0===u?"none":u,m=e.hasBorderShadow,p=void 0!==m&&m,f=e.hasShadow,h=void 0!==f&&f,v=e.fillColor,g=void 0===v?"none":v,y=e.src,b=e.alt;return r.createElement(r.Fragment,null,r.createElement("picture",{className:Re(c,(t={},t["".concat(c,"--shadow")]=h,t["".concat(a)]=!!a,t))},y&&r.createElement("img",{src:y,alt:b}),r.createElement("svg",{viewBox:"0 0 1 1",className:Re((n={},n["".concat(c,"__border")]=!0,n["".concat(c,"__border--shadow")]=p,n["".concat(a,"__border")]=!!a,n))},r.createElement("g",{strokeWidth:l/180,stroke:d,fill:g,transform:"scale(".concat(1-l/240,") translate(").concat(l/480,", ").concat(l/480,")")},r.createElement("path",{d:"M0.5,0 C0.33401568541666665,0 0.1981686275,0.010623529416666666 0.103860784375,0.104845098125 C0.0095745098125,0.19905294124999998 0,0.334686275 0,0.500486275 C0,0.6662843145833334 0.0095745098125,0.801986275 0.10389999999999999,0.8962098041666667 C0.19821176479166666,0.9904627458333333 0.3340294125,1 0.5,1 C0.6659666666666667,1 0.801786275,0.9904627458333333 0.8961,0.8962098041666667 C0.99040784375,0.8019588229166666 1,0.6662843145833334 1,0.500486275 C1,0.33447451041666665 0.9902980395833333,0.19868627458333332 0.8957725499999999,0.10447843145833334 C0.8014196083333333,0.0104960784375 0.6657705875000001,0 0.5,0 Z"})))),r.createElement("svg",{height:"0",width:"0"},r.createElement("clipPath",{id:"svgClipPath",clipPathUnits:"objectBoundingBox"},r.createElement("path",{d:"M0.5,0 C0.33401568541666665,0 0.1981686275,0.010623529416666666 0.103860784375,0.104845098125 C0.0095745098125,0.19905294124999998 0,0.334686275 0,0.500486275 C0,0.6662843145833334 0.0095745098125,0.801986275 0.10389999999999999,0.8962098041666667 C0.19821176479166666,0.9904627458333333 0.3340294125,1 0.5,1 C0.6659666666666667,1 0.801786275,0.9904627458333333 0.8961,0.8962098041666667 C0.99040784375,0.8019588229166666 1,0.6662843145833334 1,0.500486275 C1,0.33447451041666665 0.9902980395833333,0.19868627458333332 0.8957725499999999,0083333333,0.0104960784375 0.6657705875000001,0 0.5,0 Z"}))))}var Wt=function(){return(Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Yt(e){return r.createElement(zt,Wt({},e,{baseClassName:"clip-image-v4"}))}var Xt=n(6690),qt=n(8124),Zt=function(e,t,n){return"".concat(e,"?w=").concat(t,"&h=").concat(n,"&thumb=1")},Kt=function(e,t,n,r){return r?e.replace(/(\.jpg|\.png)/,"!".concat(t,"x").concat(n,"!").concat(r,"$1")):e.replace(/(\.jpg|\.png)/,"!".concat(t,"x").concat(n,"$1"))};function Jt(e,t,n,r){if(void 0===r&&(r=30),!e||!e.trim())return"";var o=function(e){return 1===e.split("//").length?"":e.split("//")[1].split("/")[0]||""}(e),a=new Map([["i01.appmifile.com",Kt(e,t,n,r)],["i02.appmifile.com",Kt(e,t,n,r)],["i03.appmifile.com",Kt(e,t,n,r)],["i04.appmifile.com",Kt(e,t,n,r)],["i05 a.has(o)?a.get(o)||"":r(var t, o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function en(e){var t,n,o=(0,r.useContext)(Ie).state,a=(0,r.useContext)(j),i=a.data,c=a.data&&a.data.choiceData&&a.data.choiceData.miExchangeFloat||0,s=Qt((0,Le.m)((function(e,t){return e.pipe(Mt((function(e){return 0===Qt(e,1)[0]})),(0,Fe.x)(),Ut(t),(0,Ve.U)((function(e){var t=Qt(e,2),n=Qt(t[0],3),r=n[0],o=n[1],a=n[2],i=t[1];if(0===r)return i;var c=o.find((function(e){return e.goodsId===r}))||{},s=a.find((function(e){return Qt(e,1)[0]===r}))[2]||{};return[c.goodsImage,s.rgb||""]})))}),[i.choiceData.largeImage||"",""],[o.currentGoodsId,o.goodsInfoActivityList,o.goodsIdSkuInfoList]),2),l=s[0],u=s[1];var d=(0,Le.m)((function(e){return e.pipe(Mt((function(e){var t=Qt(e,2);t[0];return!t[1].length})),(0,Ve.U)((function(e){var t=Qt(e,2),n=t[0],r=t[1];return 0===n?r[0]||{}:r.find((function(e){return e.goodsId===n}))||{}})),(0,Ve.U)((function(e){return e.graphics3DUrl})))}),"",[o.currentGoodsId,o.goodsInfoActivityList]);(0,r.useEffect)((function(){var e=0===o.currentGoodsId?o.goodsInfoActivityList[0]||{}:o.goodsInfoActivityList.find((function(e){return e.goodsId===o.currentGoodsId}))||{},t={itemName:e.goodsName,itemId:e.goodsId,commodityId:e.commodityId,spuId:e.spuId,isOpenGA:!0};d&&(0,Xt.otExpose)($t({tip:{c:45,e:23573},elementName:"view360",productId:e.productId,tag:e.tagName},t))}),[d]);var m=(0,Le.m)((function(e){return e.pipe((0,Fe.x)((function(e,t){return Qt(e,1)[0]===Qt(t,1)[0]})),(0,Ve.U)((function(e){var t=Qt(e,1)[0];return getComputedStyle(document.documentElement).getPropertyValue("--background-sku-img-normal").includes("transparent")?"":["#000000","#000","black"].includes(t)?getComputedStyle(document.documentElement).getPropertyValue("--background-sku-img-normal"):getComputedStyle(document.documentElement).getPropertyValue("--background-sku-img-highlight")})))}),"",[u]);return r.createElement("section",{className:"product__image-wrapper"},r.createElement("div",{className:je()("product__image",{"product__image--highlight":["#000000","#000","black"].includes(u),"product__image--loading":!l,Element(Gt.a,{type:"inner",loaderColor:m}),r.createElement("img",{alt:Oe.get("Product image"),src:Jt(l,600,600,85),className:"product__image-content"}),!!c.isShow&&r.createElement("div",{className:"product__image__mi-exchange"},r.createElement("a",{onClick:function(e){return t=e,n=c.linkUrl,t.stopPropagation(),(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:o.productName,action:"product_float_click",targetUrl:n}),void(n&&window.location.assign(n));var t,n},href:c.linkUrl||"","aria-label":Oe.get("Mi Exchange")},r.createElement("img",{src:c.imgUrl,alt:Oe.get("Mi Exchange")}))),(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&Array.isArray(l)&&!!l.length&&r.createElement("ul",{className:"sku__image"},l.map((function(e){return r.createElement("li",{key:e},r.createElement(Yt,{className:"sku__clip-img",borderColor:"#FF6900",borderWidth:2,src:"".concat(e,"?width=32&height=32")}))}))),!!d&&r.createElement("div",{className:"product__image-ar-view"},r.createElement("a",{onClick:function(e){return function(e,t){e.stopPropagation();var n=0===o.currentGoodsId?o.goodsInfoActivityList[0]||{}:o.goodsInfoActivityList.find((function(e){return e.goodsId===o.currentGoodsId}))||{},r={itemName:n.goodsName,itemId:n.goodsId,commodityId:n.commodityId,spuId:n.spuId,isOpenGA:!0};return(0,Xt.otClick)($t({tip:{c:45,e:23574},elementName:"view360",productId:n.productId,tag:n.tagName,linkUrl:t||""},r)),wid 0:n.includes("v4"))&&r.createElement("i",{className:"micon micon-dimension-3"}),r.createElement("span",null,Oe.get("3D View"))))))}var tn=n(1943);function nn(){var e=(0,r.useContext)(Ie).state,t=e.currentGoodsId,n=e.goodsIdSkuInfoList,o=e.goodsInfoActivityList,a=e.productName,i=e.currentGoodsNum,c=e.totalPrice,s=n.find((function(e){return e[0]===t}))||[],l=s[1]?"spec1::"+s[1][1]+"_spec2::"+s[1][0]:void 0;return t&&o?Object.assign(o.find((function(e,n){return e.goodsId===t}))||{},{productn=3,r=1,o=-1,a=-2,i=0,c=e.filter((function(e){return t.reservationIds.includes(e.activityId)})),s=e.filter((function(e){return t.dailyPicksIds.includes(e.activityId)})),l=Array.from(t.preOrderList||[]),u=Array.from(t.bespeakList||[]);return c.length?n:l.length?o:u.length?a:s.length?r:i}var on=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function an(e,t,n,r){var o=on(e,2),a=o[0],i=o[1],c=rn(t,n),s=3===c?t.filter((function(e){return n.reservationIds.includes(e.activityId)})).sort((function(e,t){return Number(e.reservationInfo.aPrice)-Number(t.reservationInfo.aPrice)})):[],l=1===c?t.filter((function(e){return n.dailyPicksIds.includes(e.activityId)})).sort((function(e,t){return e.price-t.price})):[],u=on(s,1)[0],d=on(l,1)[0];if(u&&r){var m=on([u.reservationInfo.aPrice,u.reservationInfo.aPrice],2),p=m[0],f=m[1];a=String(p),i=String(f)}else if(d){var h=on([d.price,d.marketPrice],2);p=h[0],f=h[1];a=String(p),i=String(f)}return[a,i,c]}var cn=n(9655),sn=n(7380),ln=n(8575),un=n(6375),dn=n(3253),mn=n(5443);function pn(e){var t,n,o,a=e.customSocialList,i=e.extClassNames,c=e.baseClassName,s=void 0===c?"social-share-modal":c,l=e.innerClassName,u=void 0===l?"social-share":l,d=e.shareTitle,m=e.shareUrl,p=e.shareDesc,f=e.shareSeparator,h=e.shareImage,v=e.shareTag,g=e.sharePhone,y=e.shareDisplay,b=e.shareRedirectUri,_=e.afterAnyShareCallback,E=e.afterFacebookShareCallback,S=e.afterTwitterShareCallback,w=e.afterVKShareCallback,C=e.afterWhatsAppShareCallback,N=e.afterTelegramShareCallback,x=e.afterLineShareCallback,k=e.afterWeiboShareCallback,I=e.afterCopiedCallback,T=e.isNeedSeoPage,O=e.utmParams,P=e.urlExtendParams,M=e.disabledCallback,A=e.isModalShow,D=e.onCloseModal,L=e.isShowCloseIcon,R=e.extraClassName,j=e.modalTitle,F=e.subtitleEl,V=e.children,U=e.bottomEl,B=e.styleMode,H=e.closeIcon,G=void 0===H?r.createElement("i",{className:"xiaomi icon-close","aria-label":"close"}):H,z=e.pageType,W=(0,r.useRef)(null);function Y(e){var t="".concat(s,"__Body--overflow-hidden");!function(e){if(e&&e.style){var t=e.getElementsByClassName("".concat(u,"__item")).length||0;e.style.setProperty("--social-share-modal-grid","".concat(t>=3?3:t))}}(W.current),e?(document.body&&document.body.style&&(document.body.style.marginRight="".concat(window.innerWidth-document.body.offsetWidth,"px")),document.body&&document.body.classList&&document.body.classList.add(t)):(document.body&&document.body.style&&(document.body.style.marginRight="0px"),document.body&&document.body.classList&&document.body.classList.remove(t))}var X="social-share-modal-common";return r.createElement(dn,{contentLabel:"SocialShareModal",isOpen:!!A,onAfterOpen:function(){return Y(!0)},onAfterClose:function(){return Y(!1)},onRequestClose:function(){return"function"==typeof D&&D()},closeTimeoutMS:200,portalClassName:"".concat(X," ").concat(s," ").concat(s,"--").concat(B),overlayClassName:"".concat(X,"__overlay ").concat(s,"__overlay"),className:Re("".concat(X,"__wrap"),"".concat(s,"__wrap"),(t={},t["".concat(R," ").concat(R,"--").concat(B)]=!!R,t))},!!L&&r.createElement("button",{className:"".concat(X,"__close ").concat(s,"__close"),onClick:function(){return"function"==typeof D&&D()}},G),!!j&&r.createElement("header",{className:Re("".concat(s,"__header"),(n={},n["".concat(R,"__header ").concat(R,"__header--").concat(B)]=!!R,n))},r.createElement("h2",{className:"".concat(s,"__title")},j),F),r.createElement("main",{className:Re("".concat(s,"__main"),(o={},o["".concat(R,"__main ").concat(R,"__main--").concat(B)]=!!R,o)),ref:W},V,r.createElement(mn.D,{customSocialList:a,extClassNames:i,shareTitle:d,shareUrl:m,shareDesc:p,shareSeparator:f,shareImage:h,shareTag:v,sharePhone:g,shareDisplay:y,shareRedirectUri:b,afterAnyShareCallback:_,afterFacebookShareCallback:E,afterTwitterShareCallback:S,afterVKShareCallback:w,afterWhatsAppShareCallback:C,afterTelegramShareCallback:N,afterLineShareCallback:x,afterWeiboShareCallback:k,afterCopiedCallback:I,isNeedSeoPage:T,utmParams:O,urlExtendParams:P,disabledCallback:M,baseClassName:u,styleMode:B,pageType:z}),U))}dn.setAppElement("body");n(8865),n(6997);var fn=function(){return(fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function hn(e){return r.createElement(pn,fn({},e,{baseClassName:"social-share-modal-v4",innerClassName:"social-share-v4",styleMode:"desktop",closeIcon:r.createElement("i",{className:"micon micon-dialog-close","aria-label":"close"}),pageType:"v4"}))}var vn=n(1671),gn=n(7484),yn=n(5278),bn=n(5812);function _n(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var En=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Sn(e){var t=e.timeObj,n=e.callback,o=t.time,a=(0,Le.m)d(t.schedule(_n,e,{subscriber:n,counter:0,period:e})),n}));var e,t})),i=(0,Le.m)((function(e){return e.pipe(Mt((function(e){return En(e,1)[0]<=0})),(0,Ve.U)((function(e){var t=En(e,2),n=t[0],r=t[1];return[1e3*n>Date.now(),r]})),(0,Ve.U)((function(e){var t=En(e,2),n=t[0],r=t[1];return n?r:0})))}),0,[o,a]),c=En((0,Le.m)((function(e){return e.pipe((0,Fe.x)(),Mt((function(e){return En(e,1)[0]<0})),(0,Ve.U)((function(e){return(1e3*En(e,1)[0]-Date.now())/1e3})),(0,Ve.U)((function(e){if(e<=0)return n(),["00","00","00"];var t=Math.floor(e/86400),r=Math.floor(e/3600%24);return t>0&&(r=24*t+1*r),[Number(r).toString().padStart(2,"0"),Math.floor(e/60%60).toString().padStart(2,"0"),Math.floor(e%60).toString().padStart(2,"0")]})))}),["00","00","00"],[o,i]),3),s=c[0],l=c[1],u=c[2];return r.createElement(r.Fragment,null,r.createElement("strong",{"data-type":"hrs"},r.createElement("span",null,s)),r.createElement("strong",{"data-type":"min"},r.createElement("span",null,l)),r.createElement("strong",{"data-type":"sec"},r.createElement("span",null,u)))}var wn=function(){return(wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Cn(e){return r.createElement(Sn,wn({},e))}var Nn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function xn(e){var t=e.activityList,n=e.showBuy,o=void 0!==n&&n,a=(0,r.useContext)(Ie),i=a.state,c=a.dispatch,s=nn(),l=Nn((0,r.useState)(Math.floor((new Date).getTime()/1e3)),1)[0],u=Nn((0,r.useState)({activityType:0,activityId:0,activityName:"",startTime:0,endTime:0,isAlreadyStart:!1,aPrice:0,isLess24Hour:!1,tagList:[],countDownTimeObj:{time:0,format:"%hh : %mm : %ss"}}),2),d=u[0],m=u[1],p=Nn((0,r.useState)({activityType:0,activityId:0,activityName:"",startTime:0,endTime:0,aStartTime:0,aStartTimeTxt:"",aEndTime:0,aEndTimeTxt:"",bStartTime:0,bStartTimeTxt:"",bEndTime:0,bEndTimeTxt:"",isAlreadyStart:!1,aPrice:0,isLess24Hour:!1,isLess24HourEnd:!1,expectDeliverTimeStartTxt:"",expectDeliverTimeEndTxt:"",countDownTimeObj:{time:0,format:"%hh : %mm : %ss"}}),2),f=p[0],h=p[1],v=Nn((0,r.useState)({daMiaoStatus:0,daMiaoStatusName:"",daMiaoStatusUrl:"",goodsId:0,isBigTap:!1,isOnSale:!1,isOutOfStock:!0,isPreSale:!1,isPreSaleOutOfStock:!0,pbStart:0,isLess24Hour:!1,countDownTimeObj:{time:0,format:"%hh : %mm : %ss"}}),2),g=v[0],y=v[1],b=Nn((0,r.useState)({daMiaoStatus:0,daMiaoStatusName:"",daMiaoStatusUrl:"",goodsId:0,isBigTap:!1,isOnSale:!1,isOutOfStock:!0,isPreSale:!1,isPreSaleOutOfStock:!0,pbStart:0,isLess24Hour:!1,countDownTimeObj:{time:0,format:"%hh : %mm : %ss"}}),2),_=b[0],E=b[1],S=(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){var t=Nn(e,3),n=t[0],r=t[1],o=t[2],a=o.find((function(e){return r.reservationIds.includes(e.activityId)&&e.goodsId===n}))||{};if(Object.keys(a||{}).length)return a.startTime<l&&(a.isAlreadyStart=!0),a.startTime-l<=a.startTime-a.displayTime&&(a.isLess24Hour=!0),a.endTime-l<=86400&&(a.isLess24HourEnd=!0),a.reservationInfo&&(a.aPrice=a.reservationInfo.aPrice,a.aStartTime=gn(1e3*parseInt(a.startTime)).format("YYYY.MM.DD HH:mm"),a.aEndTime=gn(1e3*parseInt(HH:mm"),a.bStartTime=gn(1e3*parseInt(a.reservationInfo.bStartTime)).format("YYYY.MM.DD HH:mm"),a.bEndTime=gn(1e3*parseInt(a.reservationInfo.bEndTime)).format("YYYY.MM.DD HH:mm"),a.aStartTimeTxt=a.startTimeTxt,a.aEndTimeTxt=a.endTimeTxt,a.bStartTimeTxt=a.reservationInfo.bStartTimeTxt,a.bEndTimeTxt=a.reservationInfo.bEndTimeTxt,a.expectDeliverTimeStartTxt=a.reservationInfo.expectDeliverTimeStartTxt,a.expectDeliverTimeEndTxt=a.reservationInfo.expectDeliverTimeEndTxt),a.countart?a.endTime:a.startTime,format:"%hh : %mm : %ss"},h(a),3;var i=o.find((function(e){return r.dailyPicksIds.includes(e.activityId)&&e.goodsId===n}))||{};if(Object.keys(i||{}).length)return i.countDownTimeObj={time:i.endTime,format:"%hh : %mm : %ss"},m(i),1;var c=r.preOrderList.find((function(e){return e.goodsId===n}));if(Object.keys(c||{}).length)return 24!==c.daMiaoStatus&&c.pbStart-l<=86400&&(c.isLess24Hour=!0),c.countDownTimeObj={time:c.pbStart,format:"%hh : %mm : %ss"},y(c),-1;var s=r.bespeakList.find((function(e){return e.goodsId===n}));return Object.keys(s||{}).length?(![4,14].includes(s.daMiaoStatus)&&s.pbStart-l<=86400&&(s.isLess24Hour=!0),s.countDownTimeObj={time:s.pbStart,format:"%hh : %mm : %ss"},E(s),-2):0})))}),0,[i.currentGoodsId,i.currentActivityMap,t]);if((0,r.useEffect)((function(){var e,t,n;if((!(null===(e="chunk_pc_v4")?void 0:e.includes("v4"))||(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&o)&&0!==S){var r=function(e){switch(e){case 3:return f;case 1:return d;case-1:return g;case-2:return _;default:return{}}}(S);(0,Xt.otExpose)({pageType:"version-selection",tip:"16.9.37.0.20554",elementName:r.activityId,elementTitle:r.activityName||"",itemName:s.goodsName||"",itemId:s.goodsId||"",productId:null===(n=i.goodsInfoActivityList[0])||void 0===n?void 0:n.productId,commodityId:s.commodityId||""})}}),[S]),!S)return r.createElement(r.Fragment,null);function w(e){switch(e){case"dailyPicks":return"dailyPicksIds";case"couponRewards":return"couponRewardsIds";case"reservation":return"reservationIds";default:return""}}var C={3:"".concat(Oe.get("Deposit pre-sale")),1:"".concat(Oe.get("DAILY PICKS")),"-1":"".concat(Oe.get("PreOrder")),"-2":"".concat(Oe.get("OpenBuy"))};function N(e,t){c({type:ae,payload:{eventName:w(e),eventId:t}})}return r.createElement(r.Fragment,null,3===S&&r.createElement(r.Fragment,null,r.createElement("div",{className:"bar-items bar-items--pink bar-items--preorder"},r.createElement("div",{className:Re("bar-items__left")},r.createElement("p",{className:"bar-items__title"},C[S])),!f.isLess24Hour&&!f.isAlreadyStart&&r.createElement("div",{className:"bar-items__countdown"},r.createElement("p",null,Oe.get("Sale starts {saleTime}",{saleTime:gn(1e3*f.startTime).format("MM-DD HH:mm")}))),f.isLess24Hour&&!f.isAlreadyStart&&i.isCountDownShow&&r.createElement("div",{className:"bar-items__countdown"},r.createElement("span",{className:"bar-items__desc"},Oe.get("Start in")),r.createElement("div",{className:"bar-items__num"},r.createElement(Cn,{timeObj:f.countDownTimeObj,callback:function(){c({type:Y}),c({type:be})}}))),f.isLess24HourEnd&&f.isAlreadyStart&&i.isCountDownShow&&r.createElement("div",{className:"bar-items__countdown"},r.createElement("span",{className:"bar-items__desc"},Oe.get("Ends in")),r.createElement("div",{className:"bar-items__num"},r.createElement(Cn,{timeObj:f.countDownTimeObj,callback:function(){return N(f.activityName,f.activityId),c({type:Y})}})))),r.createElement("div",{className:"event-description__desc"},r.createElement("p",null,f.aStartTimeTxt," - ",f.aEndTimeTxt,Oe.get(": "),Oe.get("Paying deposit")),r.createElement("p",null,f.bStartTimeTxt," - ",f.bEndTimeTxt,Oe.get(": "),Oe.get("Pay the final payment")),f.expectDeliverTimeStartTxt&&f.expectDeliverTimeEndTxt&&r.createElement("p",null,Oe.get("First paid, first shipped: {expectDeliverTimeStartTxt} to {expectDeliverTimeEndTxt}",{expectDeliverTimeStartTxt:f.expectDeliverTimeStartTxt,expectDeliverTimeEndTxt:f.expectDeliverTimeEndTxt})))),-1===S&&r.createElement("div",{className:"bar-items bar-items--pink bar-items--preorder"},r.createElement("div",{className:Re("bar-items__left")},r.createElement("p",{className:"bar-items__title"},C[S])),24!==g.daMiaoStatus&&!g.isLess24Hour&&r.createElement("div",{className:"bar-items__countdown"},r.createElement("p",null,Oe.get("Sale starts {saleTime}",{saleTime:gn(1e3*g.pbStart).format("MM-DD HH:mm")}))),24!==g.daMiaoStatus&&g.isLess24Hour&&i.isCountDownShow&&r.createElement("div",{className:"bar-items__countdown"},r.createElement("span",{className:"bar-items__desc"},Oe.get("Start in")),r.createElement("div",{className:"bar-items__num"},r.createElement(Cn,{timeObj:g.countDownTimeObj,callback:function(){return c({type:Y})}})))),-2===S&&r.createElement("div",{className:"bar-items bar-items--orange bar-items--open-buy"},r.createElement("div",{className:Re("bar-items__left")},r.createElement("p",{className:"bar-items__title"},C[S])),![4,14].includes(_.daMiaoStatus)&&!_.isLess24Hour&&r.createElement("div",{className:"bar-items__countdown"},r.createElement("p",null,Oe.get("Sale starts {saleTime}",{saleTime:gn(1e3*_.pbStart).format("MM-DD HH:mm")}))),![4,14].includes(_.daMiaoStatus)&&_.isLess24Hour&&i.isCountDownShow&&r.createElement("div",{className:"bar-items__countdown"},r.createElement("span",{className:"bar-items__desc"},Oe.get("Start in")),r.createElement("div",{className:"bar-items__num"},r.createElement(Cn,{timeObj:_.countDow),1===S&&r.createElement(r.Fragment,null,r.createElement("div",{className:"bar-items bar-items--yellow bar-items--daily-pick"},r.createElement("div",{className:"bar-items__left"},r.createElement("p",{className:"bar-items__title"},C[S])),r.createElement("div",{className:"bar-items__countdown"},r.createElement("span",{className:"bar-items__desc"},Oe.get("Ends in")),r.createElement("div",{className:"bar-items__num"},r.createElement(Cn,{timeObj:d.countDownTimeObj,callback:function(){return N(d.activityName,d.activityId)}})))),r.createElement("ul",{className:"event-description__tags"},d.tagList.map((function(e,t){return r.createElement("li",{className:"event-description__tag",key:t},r.createElement("span",null,e.name,!!e.detail&&": "),!!e.detail&&r.createElement("i",null,e.detail))})))))}var kn=n(1444),In=function(){return(In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Tn(e){return r.createElement(kn.Y,In({},e))}function On(e){var t=e.energyInfo;return r.createElement("section",{className:"root-product-panel__section energy-label-section"},r.createElement(Tn,{energyInfo:t}))}var Pn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Mn=(0,a.o)(Ln),An=(0,r.createContext)(Mn);function Dn(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Pn((0,r.useState)(Mn),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Ln(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/loyalty/share"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{shareType:""},withCredentials:!0};return r.createElement(i.h,{context:An,setState:l,defaultValue:Mn,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Ln(e){return void 0===e&&(e={}),{miTokens:Number(e.miTokens||0),message:e.msg||""}}var Rn=An,jn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Fn=(0,a.o)(Bn),Vn=(0,r.createContext)(Fn);function Un(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=jn((0,r.useState)(Fn),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Bn(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/getExchangeCoupon"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0};return r.createElement(i.h,{context:Vn,setState:l,defaultValue:Fn,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Bn(e){return void 0===e&&(e={}),{imei:String(e.imei||""),amount:String(e.amount||""),extendStr:Hn(e.laku6_extend),amountNumber:Number(e.amount||0)}}function Hn(e){return void 0===e&&(e={}),{model:e.model||""}}var Gn=Vn,zn=n(1259),Wn=(0,zn.f)({data:{},html:{},js:{},css:{}},{data:{hasShareToken:[{api:!0,locals:["in","es","fr","mx","it","uk","tw","hk","de","ru","id","nl","tr","jp","pl"]}],isGetShareTokenBefore:[{api:!0,locals:["es","fr","mx","it","uk","tw","hk","de","ru","id","nl","tr","jp","pl"]}]}}),Yn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterturn e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Xn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat,r.useContext)(Ie).state,l=(0,r.useContext)(j),u=(0,r.useContext)(ot),d=(0,r.useContext)(Rn),m=(0,r.useContext)(Gn),p=(0,zn.h)(n,Wn),f=!!p.data&&!!p.data.hasShareToken,h=!!p.data&&!!p.data.isGetShareTokenBefore,v=l.data,g=u.data,y=m.data,b=Yn((0,r.useState)(l.data.packSet),2),_=b[0],E=b[1],S=Yn((0,r.useState)(l.data.insurancesList),2),w=S[0],C=S[1],N=Yn((0,r.useState)(l.data.showMrp),2),x=N[0],k=N[1],I=nn();(0,r.useEffect)((function(){E(l.data.packSet),C(l.data.insurancesList),k(l.data.showMrp)}),[l.data]);var T=Yn((0,r.useState)(!1),2),O=T[0],P=T[1],M=Yn((0,r.useState)(!1),2),A=M[0],D=M[1],L=Yn((0,r.useState)(!1),2),R=L[0],F=L[1],V=Yn((0,Le.m)((function(e,t){return e.pipe(Mt((function(e){return 0===Yn(e,1)[0]})),(0,Fe.x)(),Ut(t),(0,Ve.U)((function(e){var t=Yn(e,2),n=Yn(t[0],12),r=n[0],o=n[1],a=n[2],i=n[3],c=n[4],s=n[5],l=n[6],u=n[7],d=n[8],m=n[9],p=n[10],f=n[11],h=t[1];if(0===r)return h;var v=s.find((function(e){return e.goodsId===r}))||{},g=a.map((function(e){var t=Yn(e,2),n=t[0];t[1];return n})),y=u.filter((function(e){return g.includes(e.bundleId)})),b=Xn([],Yn(y.map((function(e){return[e.bundleId,e.bundleName]}))),!1),_=(d.find((function(e){return e.goodsId===r}))||{goodsId:0,list:[]}).list.flatMap((function(e,t){return e.filter((function(e){return e.insuranceId===i[t]}))}))||[],E=Xn([],Yn(_.map((function(e){return[e.insuranceId,e.insuranceTitle]}))),!1),S=Yn(an([v.price,v.marketPrice],v.eventsList||[],c,!0),3),w=S[0],C=S[1],N=S[2],x=(v.eventsList||[]).find((function(e){return e.activityType===N})),k=Yn(l.filter((function(e){var t=Yn(e,2),n=t[0];t[1];return n===r})).map((function(e){var t=Yn(e,2);t[0];return t[1]})),1)[0],I=p.isInExchangeActive&&!!p.inExchangeAmount&&v.isShowInExchange,T=p.inExchangeAmount,O=I?[["inExchange","exchange","-"+T,"-"+T]].filter((function(e){var t=Yn(e,3),n=(t[0],t[1]);t[2];return!!n})):[],P=v.isLaku6Exchange&&p.laku6ExchangeActive,M=P?f.amountNumber:0,A=P?[[p.laku6ExchangeModelImei,"".concat(Oe.get("Trade-in")," ").concat(f.extendStr.model),0]]:[],D=Array.from(Xn(Xn(Xn([[r,(k||[]).join(", ")]],Yn(b),!1),Yn(E),!1),Yn(A),!1)).filter((function(e){var t=Yn(e,2),n=t[0];t[1];return!!n})).map((function(e){var t=Yn(e,2);return[t[0],t[1]+" * "+o]})).concat(O),L=M+T,R=Number(w||0)+Number(y.reduce((function(e,t){return e+t.price}),0)||0)+Number(_.reduce((function(e,t){return e+t.insurancePrice}),0)||0),j=Number(C||0)+Number(y.reduce((function(e,t){return e+t.marketPrice}),0)||0)+Number(_.reduce((function(e,t){return e+t.insuranceMarketPrice}),0)||0),F=function(e,t,n){return{dailyPicksTags:te(e||{},t),mrpInfo:ne(e||{},n),overSale:ee(e||{})}}(v||{},Number(N||0),m);return[(k||[]).join(", "),Number(w||0),Number(C||0),Number(v.referencePrice||0),D,R*o-L,j*o,N,F,x,v.marketPrice,v.goodsImage,v.productId]})))}),["",0,0,0,[],0,0,0,{dailyPicksTags:[],mrpInfo:[],overSale:{}}],[s.currentGoodsId,s.currentGoodsNum,s.currentBundleIds,s.currentInsuranceIds,s.currentActivityMap,s.goodsInfoActivityList,s.goodsIdSkuInfoList,_,w,x,s.miExchange,y]),13),U=V[0],B=V[1],H=V[2],G=V[3],z=V[4],W=V[5],Y=V[6],X=V[7],q=V[8],Z=V[9],K=V[10],J=V[11],$=V[12],Q=(0,r.useRef)(null);function ee(e){return Yn((e.eventsList||[]).filter((function(e){return 6===e.activityType})).map((function(e){return e.overSale})),1)[0]||{}}function te(e,t){return 1===t?(e.eventsList||[]).filter((function(e){return e.activityType===t})).flatMap((function(e){return e.tagList})):[]}function ne(e,t){if(!t)return[];var r=(0,tn.S)(n).currencySymbol;return[[Oe.get("Price detail"),"space",[["".concat(Oe.get("Maximum Retail Price")).concat(Oe.get(": ")),r+e.mrpMarketPrice,Oe.get("(inclusive of all taxes)")],["".concat(Oe.get("Selling Price")).concat(Oe.get(": ")),r+e.mrpSellingPrice,""]]],[Oe.get("Manufacturing and import Info"),"left",[["".concat(Oe.get("Product Name")).concat(Oe.get(": ")),e.goodsName,""],["".concat(Oe.get("Category")).concat(Oe.get(": ")),e.mrpProductCategory,""],["".concat(Oe.get("Country of Origin")).concat(Oe.get(": ")),e.mrpCountryOrigin,""]]],[Oe.get("Manufacturer's Details"),"left",[["",e.mrpManufacturedFor,""],["",e.mrpManufacturedBy,""]]],[Oe.get("Importer's Details"),"left",[["",e.mrpImporterDetails,""]]]]}var re=null===(t="chunk_pc_v4")?void 0:t.includes("v4"),oe=Yn((0,r.useState)(!1),2),ae=oe[0],ie=oe[1],ce=Yn((0,r.useState)(0),2),se=ce[0],le=ce[1],ue=Yn((0,r.useState)(!1),2),de=ue[0],me=ue[1],pe=(0,r.useRef)(null),fe=(0,r.useRef)(null),he=(0,r.useRef)(0),ve=(0,r.useMemo)((function(){return(0,tn.S)(n).originalRrpLabel&&!!G}),[G]),ge=function(){var e,t,n,r;if(pe.current&&fe.current){var o=document.body.scrollTop||document.documentElement.scrollTop,a=null===(e=pe.current)||void 0===e?void 0:e.offsetHeight,c=null===(t=pe.current)||void 0===t?void 0:t.offsetTop,s=null===(n=fe.current)||void 0===n?void 0:n.offsetHeight,l=a+c-s,u=(null===(r=document.querySelector(".product__main"))||void 0===r?void 0:r.clientHeight)||0;ie(re?o>=l&&o<u:o>=l),s&&s!==se&&le(s),re&&i&&(me(o<=he.current),he.current=o)}};function ye(e){f&&d.getService({params:{shareType:e}},(function(e){}))}function be(e){(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:"".concat(s.productName,"_").concat(e),action:"share_platform_click"}),(0,Xt.otClick)({tip:{a:16,b:9,c:21,d:1,e:17111},productId:$,elementName:e,elementTitle:e,itemName:I.goodsName||"",itemId:I.goodsId||"",commodityId:I.commodityId||"",isOpenGA:!0})}return(0,r.useEffect)((function(){return document.addEventListener("scroll",ge),function(){document.removeEventListener("scroll",ge)}}),[]),(0,r.useEffect)((function(){h&&(0,cn.bg)()&&ye("beforeShare")}),[]),function(e){var t,a,l,u,m,p;switch(e){case"unsent":case"loading":case"error":return r.createElement("section",{ref:pe,className:"product__section product__section-spacer information-section information-section--loading"},r.createElement("h2",{className:"information-section__product-title"},r.createElement("span",null),r.createElement("button",{className:"information-section__product-share","aria-label":Oe.get("Share")})),r.createElement("div",{className:"information-section__product-info"},r.createElement("div",{className:"information-section__product-sku-info"}),r.createElement("div",{className:"information-section__product-price"})));case"success":return r.createElement(r.Fragment,null,r.createElement("section",{ref:fe,className:Re("product__section information-mini-section",{"information-mini-section--active":ae,"upper-scroll":ae&&de})},(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&r.createElement("div",{className:"information-mini-section__product-image"},r.createElement("div",{className:"product__image-mini"},!J&&r.createElement(Gt.a,{type:"inner"}),r.createElement("img",{alt:Oe.get("Product image"),src:Jt(J,90,90,85),ref:Q,className:"product__image-content"}))),r.createElement("div",{className:"information-mini-section__product-content"},r.createElement("h1",{className:"information-mini-section__product-title-fix"},s.productName),r.createElement("div",{className:"information-mini-section__product-price-fix"},Number(W)<0?r.createElement(un.n,{salePrice:"0.00",delPrice:Number(Y).toFixed(2),isShowFrom:!1,activityType:X}):r.createElement(un.n,{salePrice:Number(W).toFixed(2),delPrice:Number(Y).toFixed(2),isShowFrom:!1,activityType:X}),!!x&&r.createElement("button",{className:"information-mini-section__product-mrp","aria-label":Oe.get("View summary"),onClick:function(){return D(!0)}},r.createElement("i",{className:"xiaomi icon-info"}))),r.createElement("div",{className:"information-mini-section__product-sku-fix"},z.map((function(e){var t=Yn(e,3),n=(t[0],t[1]);t[2];return n})).join(" + ")))),r.createElement("section",{ref:pe,className:"product__section product__section-spacer information-section",style:{marginTop:ae?"-".concat(se,"px"):"0"}},r.createElement("h2",{className:"information-section__product-title"},r.createElement("span",null,s.productName),r.createElement("button",{className:"information-section__product-share","aria-label":Oe.get("Share"),onClick:function(){P(!0),(0,Xt.otClick)({tip:{a:16,b:9,c:20,d:1,e:17110},productId:$,elementName:"share",elementTitle:"share",itemId:I.goodsId,itemName:I.goodsName,commodityId:I.commodityId,isOpenGA:!0})}},(null===(a="chunk_pc_v4")?void 0:a.includes("v4"))?r.createElement("i",{className:"micon micon-share"}):r.createElement("i",{className:"xiaomi icon-share"}))),r.createElement(hn,{isModalShow:O,onCloseModal:function(){return P(!1)},modalTitle:Oe.get("Share"),isShowCloseIcon:!0,shareTitle:v.choiceData.productTitle,shareImage:v.choiceData.largeImage,shareUrl:"".concat(window.location.origin).concat(window.location.pathname),afterFacebookShareCallback:function(){return be("facebook")},afterTwitterShareCallback:function(){return be("twitter")},afterVKShareCallback:function(){return be("vk")},afterWhatsAppShareCallback:function(){return be("whatsapp")},afterTelegramShareCallback:function(){return be("telegram")},afterLineShareCallback:function(){return be("line")},afterCopiedCallback:function(){return be("copy_link")},afterAnyShareCallback:function(){return ye("product")},subtitleEl:f?r.createElement("div",{className:"bottom-share-box__sub-title"},!(0,cn.bg)()&&r.createElement("p",{className:"bottom-share-box__before-login"},r.createElement(ln.b,{inputStr:Oe.get("Share after {signInLink}, get Mi Tokens!",{signInLink:"#@@#".concat(Oe.get("signing in"),"#@@#")}),linkArr:["".concat((0,c.jr)(n).buySite[o],"/site/login?redirectUrl=").concat(window.location.href)]})),h&&(0,cn.bg)()&&!!d.data.miTokens&&r.createElement(r.Fragment,null,r.createElement("p",{className:"bottom-share-box__after-login"},r.createElement(ln.b,{inputStr:Oe.get("Get {CoinsCount} Coins after sharing with your friends",{CoinsCount:"#@@#".concat(d.data.miTokens,"#@@#")})})),r.createElement("a",{className:"bottom-share-box__explore",target:"_blank",rel:"noreferrer",href:"".concat((0,c.jr)(n).buySite[o],"/user/points-center")},Oe.get("Explore Mi Points Center"))),h&&(0,cn.bg)()&&!!d.errMsg&&r.createElement("p",{className:"bottom-share-box__after-login"},d.errMsg)):r.createElement(r.Fragment,null)}),r.createElement("div",{className:"information-section__product-info"},r.createElement("div",{className:"information-section__product-sku-info"},U),r.createElement(xn,{activityList:g.activityList,earnestData:v.earnestData,local:n,showBuy:i}),r.createElement("div",{className:"information-section__product-price"},r.createElement(un.n,{salePrice:Number(B).toFixed(2),delPrice:Number(H).toFixed(2),isShowFrom:!1,activityType:X}),3===X&&(null===(l=null==Z?void 0:Z.reservationInfo)||void 0===l?void 0:l.discountAmount)>0&&r.createElement("span",{className:"information-section__save-price"},Oe.get("Save up to {savePrice}",{savePrice:(0,sn.XY)(null===(u=null==Z?void 0:Z.reservationInfo)||void 0===u?void 0:u.discountAmount,n)})),!!x&&r.createElement("button",{className:"information-section__product-mrp","aria-label":Oe.get("View summary"),onClick:function(){return D(!0)}},r.createElement("i",{className:"xiaomi icon-info"}))),3===X&&r.createElement("div",{className:"information-section__product-actual-price"},r.createElement("span",null,Oe.get("Final price"),Oe.get(": ")),r.createElement(un.n,{salePrice:Number(null===(m=null==Z?void 0:Z.reservationInfo)||void 0===m?void 0:m.actualPrice).toFixed(2),delPrice:Number(K).toFixed(2),isShowFrom:!1})),ve&&r.createElement("div",{className:"information-section__product-latest-price"},r.createElement("span",null,Oe.get("Latest lowest price: {price}",{price:(0,sn.XY)(G,n)})),r.createElement("button",{className:"information-section__product-latest-button","aria-label":Oe.get("View Details"),onClick:function(){return Fe.get(": "),q.overSale.startTimeTxt,"-",q.overSale.endTimeTxt),r.createElement(On,{energyInfo:[{labelImage:v.extends.energyImage,labelLink:v.extends.energyInfo,infoContent:v.extends.productEnergy,infoLink:v.extends.productEnergyInfo}]})),!!x&&q.mrpInfo&&!!q.mrpInfo.length&&r.createElement(vn.u,{isModalShow:A,isShowCloseIcon:!0,isBorderBottom:!1,title:(null===(p="chunk_pc_v4")?void 0:p.includes("v4"))?Oe.get("Product information"):void 0,closeModal:function(){return D(!1)},extraClassName:"mrp-info-dialog"},r.createElement(r.Fragment,null,r.createElement("ul",{className:"mrp-info-dialog__list"},q.mrpInfo.map((function(e,t){var n=Yn(e,3),o=n[0],a=n[1],i=n[2];return r.createElement("li",{className:"mrp-info-dialog__item",key:t},r.createElement("h3",{className:"mrp-info-dialog__item-title"},r.createElement("i",null),o),i.map((function(e,t){var n=Yn(e,3),o=n[0],i=n[1],c=n[2];return r.createElement("p",{key:t,className:"space"===a?"mrp-info-dialog__item-content mrp-info-dialog__item-content--space":"mrp-info-dialog__item-content"},o&&r.createElement("span",{className:"mrp-info-dialog__item-subtitle"},o,c&&r.createElement("i",{className:"mrp-info-dialog__item-note"},c)),i&&r.createElement("span",{className:"mrp-info-dialog__item-info"},i))})))}))),r.createElement("div",{className:"mrp-info-dialog__bg"}))),ve&&r.createElement(vn.u,{isModalShow:R,isShowCloseIcon:!0,isBorderBottom:!1,closeModal:function(){return F(!1)},title:Oe.get("Price statement"),extraClassName:"rrp-info-dialog"},r.createElement("div",{className:"rrp-info-dialog__content"},r.createElement("p",{className:"rrp-info-dialog__desc"},Oe.get("Latest lowest price: The lowest prices are updated in real time within the last 30 days. Update might be slightly delayed.")),r.createElement("p",{className:"rrp-info-dialog__desc"},Oe.get("The reference price is the lowest price of the promotion within 30 days, and the promotion is a limited time activity. When the promotion is over, the promotion price will be invalid, and the purchase price will be subject to the current price. In order not to miss any promotion, please follow MI.com.")))));default:return r.createElement(r.Fragment,null)}}(l.ajaxStatus)}var Zn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}fina.call(a)}finally{if(o)throw o.error}}return i};function Kn(){var e=(0,r.useContext)(j),t=e.data.choiceData.eventOfferList,n=nn();var o=Zn((0,r.useState)(Array(3).fill(1)),1)[0];return(0,r.useEffect)((function(){var r,o;!0===e.getServiceSuccess&&t.length>0&&(0,Xt.otExpose)({tip:"16.9.35.0.20228",pageType:"version-selection",elementName:"events",itemName:n.goodsName||"",itemId:n.goodsId||"",productId:(null===(o=null===(r=e.data)||void 0===r?void 0:r.goodsInformation[0])||void 0===o?void 0:o.productId)||"",commodityId:n.commodityId||"",isOpenGA:!0})}),[e.getServiceSuccess]),function(a){switch(a){case"unsent":case"loading":case"error":return r.createElement("section",{className:"product__section product__section-spacer offers-section offers-section--loading"},r.createElement("ul",{className:"offers-section__list"},o.map((function(e,t){return r.createElement("li",{className:"offers-section__item",key:t})}))));case"success":return t.length>0?r.createElement("section",{className:"product__section product__section-spacer offers-section"},r.createElement("ul",{className:"offers-section__list"},t.map((function(t,o){var a,i=t.content,c=t.link;return r.createElement("li",{className"))&&r.createElement(Yt,{className:"offers-section__item-dot",fillColor:"#ff6900"}),r.createElement("span",null,i,c&&r.createElement("a",{className:"offersgoodsName||"",itemId:n.goodsId||"",productId:(null===(o=null===(r=e.data)||void 0===r?void 0:r.goodsInformation[0])||void 0===o?void 0:o.productId)||"",commodityId:n.commodityId||"",isOpenGA:!0}),window.open(t))}(c)}},Oe.get("learn more"))))})))):r.createElement(r.Fragment,null);default:return r.createElement(r.Fragment,null)}}(e.ajaxStatus)}var Jn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},$n=(0,a.o)(tr),Qn=(0,r.createContext)($n);function er(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Jn((0,r.useState)($n),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:tr(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/getcoupon/draw"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"}};return r.createElement(i.h,{context:Qn,setState:l,defaultValue:$n,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function tr(e){return void 0===e&&(e={}),e||{html:{doubleTagIcon:[{api:function(){return r.createElement("img",{className:"events-info__double-tag-icon",src:"//i01.appmifile.com/webfile/globalimg/i18n_frontend/points_center/gold-points.png",alt:"icon"})},locals:["mi"]}]}},or=(0,zn.f)({data:{},html:{},js:{},css:{}},rr),ar=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function ir(e){var t,n=e.item,o=e.skuLength,a=e.local,i=ar((0,r.useState)(""),2),c=i[0],s=i[1],l=ar((0,r.useState)(!1),2),u=l[0],d=l[1],m=ar((0,r.useState)(!0),2),p=m[0],f=m[1],h=(0,r.useRef)(null),v=(0,zn.h)(a,or),g=!!v.data&&!!v.data.couponBgChristmas;return(0,r.useEffect)((function(){var e=h.current;if(e){var t=e.clientHeight;e.scrollHeight<=t&&f(!1)}}),[]),r.createElement("li",null,(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?r.createElement("div",{className:"coupon-list__item coupon-list--red"},r.createElement("div",{className:"coupon-list__item--left"},r.createElement("div",{className:"coupon-list__item--desc"},r.createElement("h6",{className:"coupon-list__item--name"},n.couponName),r.createElement("p",{className:"coupon-list__item--date"},n.couponDesc),!!n.couponRange&&r.createElement("p",{className:"coupon-list__item--range"},r.createElement("span",null,n.couponRange),r.createElement("i",{className:"micon micon-info",onClick:function(){s(n.couponRange),d(!0)}})))),r.createElement("div",{className:"coupon-list__item--right"},r.createElement("div",{className:"coupon-list__item--tag"},1===n.couponType?r.createElement(un.n,{salePrice:n.couponTitle,isHideDecimal:!0}):r.createElement("strong",null,n.couponTitle)))):r.createElement("div",{className:Re("coupon-list__item coupon-list--red",{"coupon-list--red--christmas":g})},r.createElement("div",{className:"coupon-list__item--lefonTitle,isHideDecimal:!0}):r.createElement("strong",null,n.couponTitle))),r.createElement("div",{className:"coupon-list__item--right"},r.createElement("div",{className:"coupon-list__item--desc"},r.createElement("h6",{className:"coupon-list__item--name"},n.couponName),r.createElement("p",{className:"coupon-list__item--date"},n.couponDesc),!!n.couponRange&&r.createElement("p",{className:"coupon-list__item--range"},r.createElement("span",null,n.couponRange),r.createElement("i",{className:"micon micon-info",onClick:function(){s(n.couponRange),d(!0)}}))))),r.createElement("div",{className:"coupon-list__item--model"},p&&r.createElement("input",{className:"coupon-list__item--arrow",type:"checkbox",onChange:function(e){return function(e){(0,qt.g)("click",{category:"version_selection",label:"couponreward",section:"promotion",action:"promotion_more",pidLocData:["0",!!e.checked+"className:"coupon-list__item--text"},Oe.get("* Applicable models"),Oe.get(": "),n.goodsName&&o===n.goodsName.length&&Oe.get("All"),n.goodsName&&o!==n.goodsName.length&&n.goodsName.join(", "))),r.createElement(vn.u,{extraClassName:"coupon-list-detail-modal",isModalShow:!!u,closeModal:function(){return d(!1)},isShowCloseIcon:!0},c))}var cr,sr=n(5507),lr=(cr=function(e,t){return(cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prottion"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}cr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ur=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isShowCaptcha:!1},n}return lr(t,e),t.prototype.componentDidMount=function(){var e=this;e.addScript(),window.onloadCallback=function(){e.renderCaptcha()}},t.prototype.addScript=function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback",e.defer=!0,e.async=!0,document.body.appendChild(e)},t.prototype.renderCaptcha=function(){var e=this.props,t=e.siteKey,n=void 0===t?"":t,r=e.callback,o=void 0===r?function(){}:r,a=window.grecaptcha;a&&a.render("googleCaptcha__content",{sitekey:n||(0,sr.wO)(),callback:o})},t.prototype.resetCaptcha=function(){var e=window.grecaptcha;e&&e.reset(document.getElementById("googleCaptcha__content"))},t.prototype.showCaptcha=function(){this.toggleBodyOverflowHidden(!0),this.setState({isShowCaptcha:!0}),this.resetCaptcha(),document.body.addEventListener("mousewheel",this.preventDefaultFn,!1)},t.prototype.toggleBodyOverflowHidden=function(e){e?(document.body&&document.body.style&&(document.body.style.marginRight="".concat(window.innerWidth-document.body.offsetWidth,"px")),document.body&&document.body.classList&&document.body.classList.add("mi-googy&&document.body.style&&(document.body.style.marginRight="0px"),document.body&&document.body.classList&&document.body.classList.remove("mi-googleCaptcha__Body--overflow-hidden"))},t.prototype.closeCaptcha=function(){this.toggleBodyOverflowHidden(!1),this.setState({isShowCaptcha:!1}),document.body.removeEventListener("mousewheel",this.preventDefaultFn)},t.prototype.preventDefaultFn=function(e){return e.preventDefault(),e.stopPropagation(),!1},t.prototype.render=function(){var e=this,t=this.state.isShowCaptcha;return r.createElement("div",{className:je()("googleCaptcha","googleCaptcha--pc",{"googleCaptcha--show":t}),onClick:function(){return e.closeCaptcha()}},r.createElement("div",{id:"googleCaptcha__content"}))},t}(r.Component),dr=n(3935),mr=n(4537),pr=n(8983),fr=(n(633),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function rn),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),hr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},vr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},gr=function(e){function t(t){var n=e.call(this,t)||this;return n.dialogRoot=document.querySelector("body"),n.el=n.portalElement(),n.state={isShow:n.props.isShow,showCb:n.props.showCb||function(){return null},hideCb:n.props.hideCb||function(){return null},backgroundClickable:!1!==n.props.backgroundClickable,backgroundScrollable:!0===n.props.backgroundScrollable,closeIconShow:!1!==n.props.closeIconShow,buttons:n.props.buttons||[],className:n.props.className||"",portalClassName:n.props.portalClassName||"",footerClassName:n.props.footerClassName||"",buttonClassName:n.props.buttonClassName||""},n.portalElement=n.portalElement.bind(n),n}return fr(t,e),t.prototype.portalElement=function(){var e=document.createElement("div");return e.setAttribute("class","mi-dialog-v4 ops.backgroundScrollable||t.toggleBodyOverflowHidden(!1)})),e.className!==this.props.className&&this.setState({className:this.props.className||""}),e.portalClassName!==this.props.portalClassName&&this.setState({portalClassName:this.props.portalClassName||""})},t.prototype.componentWillUnmount=function(){this.dialogRoot&&this.dialogRoot.removeChild(this.el),this.toggleBodyOverflowHidden(!1),this.state.hideCb()},t.prototype.onCloseClick=function(){this.setState({isShow:!1})},t.prototype.toggleBodyOverflowHidden=function(e){e?(document.body&&document.body.style&&(document.body.style.marginRight="".concat(window.innerWidth-document.body.offsetWidth,"px")),document.body&&document.body.classList&&document.body.classList.add("mi-dialog-v4__Body--overflow-hidden")):(document.body&&document.body.style&&(document.body.style.marginRight="0px"),document.body&&document.body.classList&&document.body.classList.remove("mi-dialog-v4__Body--overflow-hidden"))},t.prototype.stopPropagation=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},t.prototype.exitedCallback=function(){this.state.backgroundScrollable||this.toggleBodyOverflowHidden(!1),this.state.hideCb()},t.prototype.render=function(){var e=this,t=vr(["mi-dialog-v4__container"],hr(this.state.portalClassName.split(" ")),!1).filter((function(e){return!!e})).join(" "),n=vr(["mi-dialog-v4__content"],hr(this.state.className.split(" ")),!1).filter((function(e){return!!e})).join(" "),o=vr(["mi-dialog-v4__footer"],hr(this.state.footerClassName.split(" ")),!1).filter((function(e){return!!e})).join(" "),a=vr(["mi-dialog-v4__button"],hr(this.state.buttonClassName.split(" ")),!1).filter((function(e){return!!e})).join(" ");return dr.createPortal(r.createElement(mr.Z,null,this.state.isShow&&r.createElement(pr.Z,{classNames:"mi-dialog-v4__background",timeout:300,onExited:functioialog-v4__background",onClick:function(t){e.state.backgroundClickable&&e.onCloseClick(),e.stopPropagation(t)}},r.createElement("div",{className:t,onClick:function(t){return e.stopPropagation(t)}},this.state.closeIconShow&&r.createElement("i",{"aria-label":"close",className:"xiaomi icon-close",onClick:function(){return e.onCloseClick()}}),r.createElement("div",{className:n},this.props.children),0!==this.state.buttons.length&&r.createElement("div",{className:o},this.state.buttons.map((function(t,n){return r.createElement("div",{key:n,role:"button",className:a,onClick:function(n){t.onButtonClick(n),e.onCloseClick()}},t.label)}))))))),this.el)},t}(r.Component),yr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function br(e){var t=e.children,n=e.className,o=(0,r.useRef)(null),a=yr((0,r.useState)(!1),2),i=a[0],c=a[1];return(0,r.useEffect)((function(){var e=document.querySelector(".".concat(n)),t=document.querySelector("body");e||((e=document.createElement("div")).setAttribute("class",n),t&&t.appendChild(e)),o.current=e,c(!0)}),[n]),i?(0,dr.createPortal)(t,o.current):null}var _r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Er(e){var t=e.msg,n=e.callback,o=e.styleMode,a=e.imgUrl,i=_r((0,r.useState)(!!t),2),c=i[0],s=i[1],l=_r((0,r.useState)(),2),u=l[0],d=l[1];return(0,r.useEffect)((function(){return s(!!t)}),[t]),(0,r.useEffect)((function(){if(c&&u&&clearTimeout(u),!0===c){var e=(t||"").length/50*1e3,r=setTimeout((function(){s(!1),"function"==typeof n&&n()}),e<1e3?1e3:~~e);d(r)}return function(){u&&clearTimeout(u)}}),[c]),r.createElement(br,{className:"mi-toast mi-toast--".concat(o)},r.createElement(mr.Z,{component:null},!!t&&r.createElement(pr.Z,{classNames:"mi-toast__wrapper",timeout:300},r.createElement("div",{className:"mi-toast__content"},!!a&&r.createElement("div",{className:"mi-toast__img"},r.createElement("img",{src:a,alt:"toastImg"})),r.createElement("p",null,t)))))}var Sr=function(){return(Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function wr(e){return r.createElement(Er,Sr({},e,{styleMode:"desktop"}))}var Cr=n(2237),Nr=n(6808),xr=window;function kr(){return"1"===Nr.get("ISAPP")||"1"===Nr.get("ISIOS")}function Ir(){return"community_sdk"!==Nr.get("request_from")&&"mihome_sdk"!==Nr.get("request_from")&&(Number(Nr.get("APPVERSION"))>=31800||Number(Nr.get("IOSVERSION"))>=31300)}var Tr="";xr.isOpenMap=function(e){if(0!==e.code){var t="https://www.google.com/maps/search/?api=1&query="+Tr.replace("geo:","").split("?")[0];return window.open(t),!1}return!0};var Or=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(e){function t(t){),n.state={isGetModalShow:!1,isFailModalShow:!1,couponModalContent:"",selectIndex:-1,collectedItems:[],modalDetail:"",isModalShow:!1,toastMsg:""},n}return Or(t,e),t.prototype.clickGetNow=function(e,t){var n=this.props,r=n.local,o=n.platform;(0,cn.bg)()?(this.setState({selectIndex:t}),1===e.isRisk?this.captchaModalE:(0,Cr.YO)()?function(){if(kr()){if(Ir())return window.location.assign("xiao0;if(xr.WE&&xr.WE.login&&"function"==typeof xr.WE.login)return xr.WE.login(),!0}}():(0,cn.x4)({local:r,platform:"pc"===o?"pc":"m"})},t.prototype.getSelectCoupon=function(e,t){var n=this,r=this.props,o=r.getCouponList,a=r.getCouponDrawContext,i=r.productId,c=this.state.collectedItems,s=o.find((function(t,n){return n===e}))||{};a.getService({params:t?{act_no:(null==s?void 0:s.actNo)||"",coupon_type_id:(null==s?void 0:s.couponTypeId)||"",g_token:t||""}:{act_no:(null==s?void 0:s.actNo)||"",coupon_type_id:(null==s?void 0:s.couponTypeId)||""}},(function(t){if(0===t.errNo){(0,Xt.otClick)({tip:{b:9,c:32,d:e+1,e:19483},elementTitle:"collect",elementName:"get_coupon",productId:i,isOpenGA:!0,extra:{couponList:(null==s?void 0:s.couponTypeId)||""}});var r=c.map((function(t,n){return n===e?{index:n,received:!0}:t}));n.setState({collectedItems:r,toastMsg:Oe.get("Redeemed, use now!")},(function(){n.getCouponData()}))}else n.setState({toastMsg:t.errMsg})}))},t.prototype.getCouponData=function(){var e=this.props,t=e.activityGetCouponContext,n=e.goodsInfo.goodsInformation.map((function(e){return e.goodsId})).join(",");n&&t.getService({params:{goods_ids:n}})},t.prototype.closeGetModal=function(){this.setState({isGetModalShow:!1,couponModalContent:""})},t.prototype.closeFailModal=function(){this.setState({isFailModalShow:!1,couponModalContent:""})},t.prototype.captchaVerifiedCb=function(e){this.getSelectCoupon(this.state.selectIndex,e),this.captchaModalEl.current.closeCaptcha()},t.prototype.componentDidMount=function(){var e=this.props.getCoupnite:!1,exposeT--get-coupon"},(function(e){return Object.assign({},e,{isOpenGA:!0})}));var t=e.slice(0,5).map((function(e,t){return{index:t,received:1===e.isGet}}));this.setState({collectedItems:t})},t.prototype.componentWillUnmount=function(){this.observer&&this.observhis,t=this.props,n=t.getCouponList,o=t.productId,a=this.state,i=a.isGetModalShow,c=a.isFailModalShow,s=a.couponModalContent,l=a.collectedItems,u=a.modalDetail,d=a.isModalShow;return r.createElement(r.Fragment,null,r.createElement(ur,{ref:this.captchaModalEl,callback:function(t){return e.captchaVerifiedCb(t)}}),r.createElement("ul",null,n.slice(0,5).map((function(t,n){var a,i,c,s,u,d,m;return r.createElement("li",{key:n,className:Re("coupon-list__item coupon-list__item--get-coupon",[0!==t.isGet||(null===(a=l.find((function(e){return e.index===n})))||void 0===a?void 0:a.received)?"coupon-list--grey":"coupon-list--yellow"]),"data-ot-expose":JSON.stringify({tip:{b:9,c:32,d:n+1,e:19482},elementName:"get_coupon",extra:{couponList:t.couponTypeId},productId:o})},r.createElement("div",{className:"coupon-list__item--left"},r.createElement("div",{className:"coupon-list__item--tag"},1===t.couponType?r.createElement(un.n,{salePrice:t.couponTitle,isHideDecimal:!0}):r.createElement("strong",null,t.couponTitle)),!(null===(i="chunk_pc_v4")?void 0:i.includes("v4"))&&0===t.isGet&&!(null===(c=l.find((function(e){return e.index===n})))||void 0===c?void 0:c.received)&&r.createElement("div",{className:"coupon-list__item--collect",onClick:function(){return e.clickGetNow(t,n)}},Oe.get("Get Now")),(null===(s="chunk_pc_v4")?void 0:s.includes("v4"))&&r.createElement("div",{className:"coupon-list__item--desc"},r.createElement("h6",{className:"coupon-list__item--name"},t.couponName),1===t.validType?r.createElement("p",{className:"coupon-list__item--date"},Oe.get("Validity: {date} Days",{date:t.couponDesc})):r.createElement("p",{className:"coupon-list__item--date"},Oe.get("Validity"),Oe.get(": "),t.couponDesc),!!t.couponRange&&r.createElement("p",{className:"coupon-list__item--range"},r.createElement("span",null,t.couponRange),r.createElement("i",{className:"micon micon-info",onClick:function(){e.setState({modalDetail:t.couponRange,isModalShow:!0})}})))),r.createElement("div",{className:"coupon-list__item--right"},(null===(u="chunk_pc_v4")?void 0:u.includes("v4"))&&(0!==t.isGet||(null===(d=l.find((function(e){return e.index===n})))||void 0===d?void 0:d.received)?r.createElement("div",{className:"coupon-list__item--collect coupon-list__item--received"},Oe.get("Received")):r.createElement("div",{className:"coupon-list__item--collect",onClick:function(){return e.clickGetNow(t,n)}},Oe.get("Get Now"))),!(null===(m="chunk_pc_v4")?void 0:m.includes("v4"))&&r.createElement("div",{className:"coupon-list__item--desc"},r.createElement("h6",{className:"coupon-list__item--name"},t.couponName),1===t.validType?r.createElement("p",{className:"coupon-list__item--date"},Oe.get("Validity: {date} Days",{date:t.couponDesc})):r.createElement("p",{className:"coupon-list__item--date"},Oe.get("Validity"),Oe.get(": "),t.couponDesc),!!t.couponRange&&r.createElement("p",{className:"coupon-list__item--range"},r.createElement("span",null,t.couponRange),r.createElement("i",{className:"micon micon-info",onClick:function(){e.setState({modalDetail:t.couponRange,isModalShow:!0})}})))))}))),r.createElement(gr,{isShow:i,hideCb:function(){return e.closeGetModal()},className:"get-coupon--modal"},s),r.createElement(gr,{isShow:c,hideCb:function(){return e.closeFailModal()},className:"get-coupon--modal"},s),r.createElement(vn.u,{extraClassName:"coupon-list-detail-modal",isModalShow:!!d,closeModal:function(){return e.setState({isModalShow:!1})},isShowCloseIcon:!0},u),r.createElement(wr,{msg:this.state.toastMsg,callback:function(){e.setState({toastMsg:""})}}))},t}(r.Component),Mr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ar=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Dr(e){var t=e.local,n=e.platform,o=e.data,a=e.getCouponList,i=e.productId,s=(0,r.useContext)(Ie).state,l=Mr((0,r.useState)([]),2),u=l[0],d=l[1],m=Mr((0,r.useState)(!1),2),p=m[0],f=m[1],h=(0,r.useContext)(j),v=(0,r.useContext)(vt),g=(0,r.useContext)(nr);function y(){(0,Xt.otClick)({tip:{b:9,c:31,d:0,e:19481},elementTitle:Oe.get("Get Coupons"),elementName:"learn_more",productId:i,isOpenGA:!0}),f(!0)}(0,Le.m)((function(e){return e.pipe(ze((function(e){var t=Mr(e,2),n=t[0],r=t[1];return!!n&&!!r})),(0,Xe.b)((function(e){var t=Mr(e,2),n=(t[0],t[1]);(0,qt.g)("click",{category:"version_selection",label:"couponreward",section:"promotion",action:"promotion_entrance",pidLocData:[String(s.currentGoodsId||0),n]}),(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:n,act,[p,s.productName]);return(0,r.useEffect)((function(){var e,t,n,r=Ar([],Mr(o),!1);r.sort((e=["typeSort","priceSort"],n={typeSort:(t=function(e){return function(t,n){var r=0;return e(t,n)?r=-1:e(n,t)&&(r=1),r}})((function(e,t){return e.couponType<t.couponType})),priceSort:t((function(e,t){return e.couponValue>t.couponValue}))},function(t,r){var o=0,a=0;do{o=n[e[a++]](t,r)}while(0===o&&a<e.length);return o})),d(r||[])}),[o,s.currentGoodsId]),(0,r.useEffect)((function(){var e=(0,Xt.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeSelector:".get-coupon__item--label"},(function(e){return Object.assign({},e,{isOpenGA:!0})}));return function(){e&&e.disconnect()}}),[]),r.createElement("div",{className:"events-info__coupon-reward coupon-reward"},a.length>0&&r.createElement("div",{className:"get-coupon",onClick:y},r.createElement("ul",{className:"coupon-reward__list"},a.slice(0,1).map((function(e,n){return r.createElement("li",{key:n,className:"coupon-reward__item get-coupon__item--label","data-ot-expose":JSON.stringify({tip:{b:9,c:31,d:0,e:19480},elementTitle:Oe.get("Get Coupons"),elementName:"learn_more",productId:i})},r.createElement("span",null,r.createElement("span",null,Oe.get("Coupon"),Oe.get(": "),1===e.couponType?Oe.get("{price} Off",{price:(0,sn.XY)(Number(e.couponValue).toFixed(2),t)}):e.couponTitle)))}))),r.createElement("p",{className:"get-coupon__entry"},Oe.get("Get Coupons")," >")),o.length>0&&r.createElement("ul",{className:"coupon-reward__list",onClick:y},u&&!!u[0]&&r.createElement("li",{className:"coupon-reward__item coupon-reward__item--rewards"},r.createElement("span",null,r.createElement("span",null,Oe.get("Coupon reward"),Oe.get(": "),1===u[0].couponType?Oe.get("{price} Off",{price:(0,sn.XY)(Number(u[0].couponValue).toFixed(2),t)}):u[0].couponTitle)))),r.createElement(vn.u,{isModalShow:p,title:Oe.get("Coupons"),isShowCloseIcon:!0,closeModal:function(){return f(!1)},extraClassName:"coupon-list-modal"},r.createElement("div",{className:"coupon-list__wrapper"},a.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"coupon-list__title"},r.createElement("div",{className:"coupon-list__label"},r.createElement("span",null,Oe.get("Get Coupons")))),r.createElement(Pr,{local:t,platform:n,getCouponList:a,getCouponDrawContext:g,activityGetCouponContext:v,goodsInfo:h.data,productId:i})),o.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"coupon-list__title coupon-list__title--rewards"},r.createElement("div",{className:"coupon-list__label"},r.createElement("span",null,Oe.get("Coupon reward"))),r.createElement("p",{className:"coupon-list__label--desc"},Oe.get("Buy this product and get coupon reward below for your next purchase"))),r.createElement("ul",null,o.map((function(e,n){return r.createElement(ir,{item:e,key:n,skuLength:s.goodsIdSkuInfoList.length,local:t})}))))),o.length>0&&r.createElement("div",{className:"coupon-rules__wrapper"},r.createElement("a",{href:"".concat((0,c.jr)(t).wwwSite[n],"/support/coupon-reward-rules/"),target:"_blank",className:"coupon-rules__wrapper--href",onClick:function(){(0,qt.g)("click",{category:"version_selection",label:"couponreward",section:"promotion",action:"promotion_rules",pidLocData:[s.productName]})},rel:"noreferrer"},Oe.get("Check rules for coupon reward"),r.createElement("i",{className:"xiaomi icon-arrow-right"})))))}var Lr=n(7683),Rr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},jr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Fr(e){var t,n=e.local,o=e.platform,a=e.siteName,i=(0,r.useContext)(Ie).state,c=(0,r.useContext)(j),s=(0,r.useContext)(ot),l=(0,r.useContext)(vt),u=c.data,d=s.data,m=l.data,p=(0,zn.h)(a||"mi",or),f=(0,Le.m)((function(e){return e.pipe(ze((function(e){var t=Rr(e,4),n=t[0];t[1],t[2],t[3];return!!n})),(0,Ve.U)((function(e){var t=Rr(e,4),n=t[0],r=t[1],o=t[2];return t[3].filter((function(e){return e.goodsId===n})).flatMap((function(e){return e.couponList})).map((function(e){return Object.assign({},e,{goodsName:Array.from(e.goodsIds||[]).map((function(e){return o.filter((function(t){return t.goodsId===e})).map((function(e){return(Rr(r.filter((function(t){var n=Rr(t,2),r=n[0];n[1];return r===e.goodsId})).map((function(e){var t=Rr(e,2);t[0];return t[1]})),1)[0]||[]).join(" ")})).find((function(e){return!!e}))})).sort()})}))})))}),[],[i.currentGoodsId,i.goodsIdSkuInfoList,u.goodsInformation,d.activityList]),h=i.currentGoodsId?m.activityList.filter((function(e){return e.goodsId===i.currentGoodsId})).flatMap((function(e){return e.getCouponList})):m.allGetCouponList,v=Rr((0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){var t=Rr(e,3),n=t[0],r=t[1],o=t[2],a=n.filter((function(e){return 4===e.activityType})).map((function(e){return e.goodsId}));return[Array.from(jr([],Rr(ne(e){var t=Rr(e,3),n=t[0],r=t[1],o=t[2];return[n.length===r.length,n.includes(o)]})))}),[!1,!1],[d.activityList,i.goodsIdSkuInfoList,i.currentGoodsId]),2),g=v[0],y=v[1],b=Rr((0,Le.m)((function(e){reteturn!!n&&!!r})),(0,Xe.b)((functio_list_teEleiteratry{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ur=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Br(e){var t=e.portalClassName,n=e.iconClassName,o=e.className,a=e.children,i=Vr((0,r.useState)(!1),2),c=i[0],s=i[1];return r.createElement("div",{className:Ur(["mi-tip-box-v4"],Vr((t||"").split(" ")),!1).filter((function(e){return!!e})).join(" "),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},r.createElement("i",{className:Ur(["mi-tip-box-v4-v4__icon"],Vr((n||"").split(" ")),!1).filter((function(e){return!!e})).join(" ")}),r.createElement(mr.Z,{component:null},c&&r.createElement(pr.Z,{classNames:"mi-tip-box-v4__wrapper",timeout:150},r.createElement("div",{className:Ur(["mi-tip-box-v4__content"],Vr((o||"").split(" ")),!1).filter((function(e){return!!e})).join(" ")},a))))}var Hr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];tr&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Gr(){var e=(0,r.useContext)(j),t=e.data,n=t.choiceData.supportList,o=(0,r.useContext)(Ie).state,a=nn(),i=a.goodsName,c=void 0===i?"":i,s=a.goodsId,l=void 0===s?"":s,u=a.commodityId,d=void 0===u?"":u;var m=Hr((0,r.useState)(Array(4).fill(1)),1)[0];return function(e){switch(e){case"unsent":case"loading":case"error":return r.createElement("section",{className:"product__section product__section-spacer support-section support-section--loading"},r.createElement("ul",{className:"support-section__list"},m.map((function(e,t){return r.createElement("li",{className:"support-section__item",key:t},r.createElement("i",null),r.createElement("span",null))}))));case"success":return n.length>0?r.createElement("section",{className:"product__section product__section-spacer support-section"},r.createElement("ul",{className:"support-section__list"},n.map((function(e,n){var a,i,s=e.name,u=e.link,m=e.note;return r.createElement("li",{key:n,className:u?"support-section__item support-section__item--link":"support-section__item",onClick:function(){return function(e,n,r){var a;e&&((0,Xt.otClick)({tip:{a:16,b:9,c:6,d:n+1,e:7570},elementTitle:r,link:e,productId:null===(a=null==t?void 0:t.goodsInformation[0])||void 0===a?void 0:a.productId,goodsId:o.currentGoodsId,isOpenGA:!0,itemId:l,itemName:c,commodityId:d}),window.open(e))}(u,n,s)}},(null===(a="chunk_pc_v4")?void 0:a.includes("v4"))?r.createElement("i",{className:"micon micon-sure"}):r.createElement("i",{className:"xiaomi icon-delivery"}),r.createElement("span",null,s),m&&((null===(i="chunk_pc_v4")?void 0:i.includes("v4"))?r.createElement(Br,{portalClassName:"support-section__tooltip-wrapper",iconClassName:"micon micon-question-square support-section__faq",className:"support-section__tooltip"},m):r.-section__tooltip-wrapper",iconClassName:"xiaomi icon-question support-section__faq",className:"support-section__tooltip"},m)))})))):r.createElement(r.Fragment,null);default:return r.createElement(r.Fragment,null)}}(e.ajaxStatus)}var zr=n(209),Wr=n(1218),Yr=n(2886),Xr=n(7746);function qr(e,t){return(0,Xr.zg)(e,t,1)}var Zr=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Kr(e,this.predicate,this.thisArg,this.source))},e}(),Kr=function(e){function t(t,n,r,o){var a=e.call(this,t)||this;return a.predicate=n,a.thisArg=r,a.source=o,a.index=0,a.thisArg=r||a,a}return He.ZT(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Ge.L),Jr={leading:!0,trailing:!1};function $r(e,t,n){return void 0===t&&(t=yn.P),void 0===n&&(n=Jr),function(r){return r.lift(new Qr(e,t,n.leading,n.trailing))}}var Qr=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new eo(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),eo=function(e){function t(t,n,r,o,a){var i=e.call(this,t)||this;return i.duration=n,i.scheduler=r,i.leading=o,i.trailing=a,i._hasTrailingValue=!1,i._trailingValue=null,i}return He.ZT(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(to,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(Ge.L);function to(e){e.subscriber.clearThrottle()}var no=n(6381),ro=n(2547),oo=function(){return(oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ao(e){return r.createElement(ro.B,oo({},e,{baseClassName:"mi-input-alert-v4",styleMode:"desktop"}))}function io(e){return!e||([21,23,24].includes(e.daMiaoStatus)?e.isPreSaleOutOfStock:e.isNotForSale||e.isOutOfStock||!e.isOnSale)}var co=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},so=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function lo(e){var t=e.local,n=e.platform,o=(0,r.useContext)(Ie).state,a=(0,r.useContext)(j),i=(0,r.useContext)(Nt),s=(0,Le.m)((function(e){return e.pipe((0,Fe.x)(),qr((function(e){var t=co(e,1)[0];return Yr.of.apply(void 0,so([],co(t),!1))})),(t=function(e){return!!io(e)},function(e){return e.lift(new Zr(t,n,e))}));var t,n}),!0,[o.goodsInfoActivityList]),l=co((0,r.useMemo)((function(){var e=o.goodsInfoActivityList.find((function(e){return e.goodsId===o.currentGoodsId}))||{},t=o.goodsInfoActivityList.find((function(e){return!!e})),n=o.goodsInfoActivityList.map((function(e){return e.goodsId}));return[t?n.join(","):0,(null==e?void 0:e.skuId)||0]}),[o.goodsInfoActivityList,o.currentGoodsId]),2),u=l[0],d=l[1],m=co((0,r.useState)(Nr.get("XM_pincode_"+t)||""),2),p=m[0],f=m[1],h=co((0,r.useState)(""),2),v=h[0],g=h[1],y=co((0,r.useState)(!1),2),b=y[0],_=y[1],E=co((0,zr.$)((function(e){return e.pipe((0,Xe.b)((function(e){var t=co(e,2),n=t[0];t[1];if(n)return(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:o.productName,action:"pincode_check_click"}),n.preventDefault()})),(0,Ve.U)((function(e){var t=co(e,2);t[0];return t[1]})),ze((function(e){var t=co(e,1)[0],n=new RegExp("^[0-9]*$");return!(6!==t.length||!n.test(t))||(g(Oe.get("Pincode at least six number")),!1)})),$r(300,yn.z,{leading:!1,trailing:!0}),(0,no.w)((function(e){var n=co(e,3),r=n[0],o=n[1],a=n[2];return i.getObservable({params:{zipcode:r,goodsid:o,sku:a}}).pipe((0,Ve.U)((function(e){0===e.errNo&&Nr.set("XM_pincode_"+t,r,{expires:30,path:"/"+t,domain:(0,Wr.YN)(t)}),-1!==e.errNo?_(!0):g(e.errMsg)})))})))}),null),1)[0];function S(){f(""),_(!1),Nr.remove("XM_pincode_"+t,{path:"/"+t,domain:(0,Wr.YN)(t)}),i.resetService(),(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:o.productName,action:"pincode_change_click"})}(0,r.useEffect)((function(){a.data.showDelivery&&!s&&p&&6===p.length&&u&&d&&E(["",[p,u,d]])}),[s,u,d]);var w=(0,Le.m)((function(e){return e.pipe(ze((function(e){var t=co(e,1)[0];return["success","error"].includes(t)})),(0,Ve.U)((function(e){var t=co(e,5),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],c=!!o.goodsStock.length&&o.goodsStock.every((function(e){return!!e.isOutOfStockInArea})),s=co(c&&0===a?o.goodsStock:o.goodsStock.filter((function(e){return e.goodsId===a})),1)[0],l=c||!!s&&s.isOutOfStockInArea;return["error"===n||l,l?s.OutOfStockMsg:r,o,i]})),(0,Ve.U)((function(e){var o,a=co(e,4),i=a[0],s=a[1],l=a[2],u=a[3];return i?r.createElement("div",{className:"pin-code-info__result pin-code-info__result--failed"},r.createElement("div",{className:"pin-code-info__title"},r.createElement("h4",null,Oe.get("Your pin-code {pinCode}",{pinCode:u})),r.createElement("button",{onClick:function(){return S()},"aria-label":Oe.get("Change Pincode")},Oe.get("Change Pincode"))),r.createElement("div",{className:"pin-code-info__content"},r.createElement("i",{className:"xiaomi icon-info pin-code-info__icon"}),r.createElement("span",null,s))):r.createElement(r.Fragment,null,r.createElement("div",{className:"pin-code-info__result pin-code-info__result--success"},r.createElement("div",{className:"pin-code-info__spaninfo__button","aria-label":Oe.get("View Details")},r.createElement(Br,{portalClassName:"pin-code-info__tooltip-wrapper",iconClassName:"xiaomi icon-question pin-code-info__icon",className:"pin-code-info__tooltip"},function(e,o){return"sddNdd"===e?r.createElement(r.Fragment,null,r.createElement("h3",{className:"pin-code-info__tooltip-title"},o.sddNddData.popup.title),r.createElement("ul",{className:"pin-code-info__tooltip-list"},o.sddNddData.popup.content.map((function(e,t){var n=e.item,o=e.text;return r.createElement("li",{className:"pin-code-info__tooltip-item",key:t},r.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},t+1+"."+n),r.createElement("p",{className:"pin-code-info__tooltip-content"},o))}))),r.createElement("a",{href:o.sddNddData.popup.linkUrl,className:"pin-code-info__tooltip-link","aria-label":o.sddNddData.popup.linkText},o.sddNddData.popup.linkText)):r.createElement(r.Fragment,null,r.createElement("ul",{className:"pin-code-info__tooltip-list"},r.createElement("li",{className:"pin-code-info__tooltip-item"},r.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},"What is the estimated delivery time?"),r.createElement("p",{className:"pin-code-info__tooltip-content"},"Seller generally ships and delivers the item(s) within the time specified on the product page. Business / working days exclude public holidays and Sundays.")),r.createElement("li",{className:"pin-code-info__tooltip-item"},r.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},"How is the delivery time calculated?"),r.createElement("p",{className:"pin-code-info__tooltip-content"},"Estimated delivery time depends on the following factors:",r.createElement("br",null),"- Product(s) selected.",r.createElement("br",null),"- The destination pin-code e.g. 110014 to which you want the order to be shipped to.",r.createElement("br",null),"- Seller's location.",r.createElement("br",null),r.createElement("br",null),"Delivery time is calculated basis historical data of delivery timelines for orders originating from the entered pin-code. Delivery timelines might vary in a few cases depending on the above mentioned factors.")),r.createElement("li",{className:"pin-code-info__tooltip-item"},r.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},"Can delivery time be different than the time range shown on the product page?"),r.createElement("p",{className:"pin-code-info__tooltip-content"},"It is our constant endeavour to deliver quality products in the defined time-range. However, it is possible that our delivery partners might observe a non-working day between the day you place your order and the defined date of delivery. In such a scenario, there could be a delay in delivery of your order. Some delivery partners do not work on Sundays and this is factored in the delivery time-line which you see after placing the order."))),r.createElement("a",{href:"".concat((0,c.jr)(t).wwwSite[n],"/service/shipping/"),className:"pin-code-info__tooltip-link","aria-label":Oe.get("More answers in our Shipping FAQs »")},Oe.get("More answers in our Shipping FAQs »")))}(a,l)))),!!u&&r.createElement("strong",null,u))}))))))})))}),r.createElement(r.Fragment,null),[i.a r.createElementowDelivery&&!s?r.createElement(r.Fragmenttion-spacer pin-code-info"},b?w:r.createElement("form",{onSubmit:function(e){return E([e,[p,u,d]])},className:"pin-code-info__form",noValidate:!0},r.createElement("label",{htmlFor:"pinCodeCheckInput",className:"pin-code-info__label"},Oe.get("Check if stock is available at your pincode")),r.createElement("div",{className:"pin-code-info__group"},r.createElement("input",{required:!0,disabled:"loading"===i.ajaxStatus,type:"text",id:"pinCodeCheckInput",className:"pin-code-info__input",placeholder:Oe.get("Enter pincode to check delivery options"),maxLength:6,valuern f(e.target.value)}}),r.createElement("button",{disabled:"loading"===i.ajaxStatus||p.length<6,type:"submit",className:"pin-code-info__submit","aria-label":Oe.get("Check pin-code")},"loading"===i.ajaxStatus?Oe.get("Checking"):Oe.get("Check"))),r.createElement(ao,{msg:v,callback:function(){return g("")}})))):r.createElement(r.Fragment,null))}var uo={};var mo=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new po(e,this.resultSelector))},e}(),po=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return He.ZT(t,e),t.prototype._next=function(e){this.values.push(uo),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Vt(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,o=r[n]ond:0;r[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(Lt);function fo(e){return function(t){return t.lift(new mo(e))}}var ho=n(9026),vo=n(4072);var go=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},yo=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};var bo=function(){return(bo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var ty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(ninally{if(o)throw o.error}}return i},Eo=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function So(e){var t,n=e.skuMap,o=e.skuList,a=e.skuData,i=e.portalClassName,c=e.titleClassName,s=e.extendClassName,l=e.baseClassName,u=e.styleMode,d=(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){var t=_o(e,3),n=t[0],r=t[1],o=t[2];return!!n.length&&!!r.length&&!!o.length})))}),!1,[o,n,a]),m=_o((0,r.useState)([{list:Array(3).fill(1)},{list:Array(2).fill(1)}]),1)[0];return d?r.createElement(wo,bo({},e)):r.createElement("section",{className:Re((t={},t["".concat(u," ").concat(i,"--loading")]=!!i,t["".concat(l," ").concat(l,"--").concat(u," ").concat(l,"--loading")]=!!l,t["".concat(s," ").concat(s,"--").concat(u," ").concat(s,"--loading")]=!!s,t))},m.map((function(e,t){var n,o;return r.createElement(r.Fragment,{key:t},r.createElement("h3",{className:Re((n={},n["".concat(l,"__title ").concat(l,"__title--loading")]=!!l,n["".concat(s,"__title ").concat(s,"__title--loading")]=!!s,n["".concat(c," ").concat(c,"--loading")]=!!c,n))}),r.createElement("ul",{className:Re((o={},o["".concat(l,"__list")]=!!l,o["".concat(s,"__list")]=!!s,o))},e.list.map((function(e,t){var n,o;return r.createElement("li",{className:Re((n={},n["".concat(l,"__item")]=!!l,n["".concat(s,"__item")]=!!s,n)),key:t},r.createElement("button",{className:Re((o={},o["".concat(l,"__button")]=!!l,o["".concat(s,"__button")]=!!s,o))}))}))))})))}function wo(e){var t,n=e.skuMap,o=e.skuList,a=e.skuData,i=e.currentGoodsId,c=e.bigTapDisabledIds,s=e.setGoodsId,l=e.resetGoodsId,u=e.skuClickBury,d=e.portalClassName,m=e.titleClassName,p=e.extendClassName,f=e.baseClassName,h=e.styleMode,v=e.showClipImage,g=[f,p||""].filter((function(e){return!!e})),y=_o((0,r.useState)(i||0),1)[0],b=_o((0,r.useState)(""),2),_=b[0],E=b[1],S=_o((0,r.useState)(!1),2),w=S[0],C=S[1],N=_o((0,r.useState)(Array(o.length).fill(-1)),2),x=N[0],k=N[1];function I(e,t,n){var r=Array.from(e);return r[t]=n,r}var T=(0,r.useMemo)((function(){var e=o.map((function(e){return e&&e.list?e.list.map((function(e){return e.name})):[]})).map((function(e){return e.map((function(e,t){return t}))}));return e.map((function(e){return e.map((function(e){return[e]}))})).reduce((function(e,t){return e.reduce((function(e,n){return e.concat(t.map((function(e){return n.concat(e)})))}),[])}),[[]]).map((function(e){var t=n.filter((function(t){var n=_o(t,2),r=n[0];n[1];return r===e.join(",")})).map((function(e){var t=_o(e,2);t[0];return t[1].goodsId})).map((function(e){var t=_o(e,1)[0];return Number(t||0)}));return[e.join(","),t]}))}),[o,n]),O=(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){var t=_o(e,2),n=t[0],r=t[1];return n.map((function(e){var t=_o(e,2);return[t[0],t[1].map((function(e){var t=r.find((function(t){return t.goodsId===e}));return Object.assign({},t)}))]}))})))}),[],[T,a]),P=(0,r.useMemo)((function(){return o.map((function(e){return(null==e?void 0:e.list)||[]})).map((function(e,t){return e.map((function(e,n){return{className:g.map((function(e){return"".concat(e,"__button")})).join(" "),itemVisible:!0}}))}))}),[o]),M=(0,Le.m)((function(e,t){return e.pipe((0,Fe.x)((function(e,t){var n=_o(e,2),r=n[0],o=n[1],a=_o(t,2),i=a[0],c=a[1];return r.join(",")===i.join(",")&&o===c})),Ut(t),(0,Ve.U)((function(e){var t=_o(e,2),n=_o(t[0],3),r=n[0],o=n[1],a=n[2],i=t[1];return r.map((function(e,t,n){return[[t,e],n,o,a,i[t]]}))})),qr((function(e){return Yr.of.apply(void 0,Eo([],_o(e),!1)).pipe((0,Ve.U)((function(e,t){var n=_o(e,5),r=_o(n[0],2),o=(r[0],r[1],n[1]),a=n[2],i=n[3];return n[4].map((function(e,n){return[[t,n],o,a,i,e]}))})),qr((function(e){return Yr.of.apply(void 0,Eo([],_o(e),!1)).pipe((0,Ve.U)((function(e){var t=_o(e,5),n=_o(t[0],2),r=n[0],o=n[1],a=t[1],i=t[2],c=t[3],s=t[4],l=g.map((function(e){return"".concat(e,"__button--active")})).join(" "),u=g.map((function(e){return"".concat(e,"__button--hidden")})).join(" "),d=g.map((function(e){return"".concat(e,"__button--disabled")})).join(" "),m=g.map((function(e){return"".concat(e,"__button--sold-out")})).join(" "),p=Array.from(a);p[r]=o;var f=i.filter((function(e){var t=_o(e,2),n=t[0];t[1];return n===p.join(",")})).map((function(e){var t=_o(e,2);t[0];return t[1]})),h=new Set(s.className?s.className.split(" "):[]);a[r]===o?h.add(l):h.delete(l);var v=Object.assign({},s,{className:Array.from(h).join(" ")}),y=p.slice(0,r+1);if(i.map((function(e){var t=_o(e,2),n=t[0],r=t[1];return[n.split(",").map((function(e){return Number(e)})),r]})).filter((function(e){var t=_o(e,2),n=t[0];t[1];return y.map((function(e,t){return n[t]===e})).every((function(e){return!0===e}))})).flatMap((function(e){var t=_o(e,2);t[0];return t[1]})).length?(h.delete(u),v=Object.assign({},v,{className:Array.from(h).join(" "),isVisible:!0})):(h.add(u),v=Object.assign({},v,{className:Array.from(h).join(" "),isVisible:!1})),!f.length)return[v];var b=_o(f,1)[0];return b.length?(h.delete(d),v=Object.assign({},v,{className:Array.from(h).join(" "),isDisabled:!1}),b.every((function(e){return c.includes(e.goodsId)||io(e)}))?(h.add(m),v=Object.assign({},v,{className:Array.from(h).join(" "),isDisabled:!1})):(h.delete(m),v=Object.assign({},v,{className:Array.from(h).join(" "),isDisabled:!1})),[v]):(h.add(d),[v=Object.assign({},v,{className:Array.from(h).join(" "),isDisabled:!0})])})),fo())})),(0,Ve.U)((function(e){return[e]})),fo())})))}),P,[x,O,c||[]]),A=_o((0,zr.$)((function(e,t,n){return e.pipe((0,Fe.x)((function(e,t){var n=_o(e,2),r=(n[0],n[1]),o=_o(t,2),a=(o[0],o[1]);return r.join(",")===a.join(",")})),(0,Xe.b)((function(e){var t=_o(e,2),n=t[0];t[1];n&&(C(!0),u&&"function"==typeof u&&u(n))})),(0,Ve.U)((function(e){var t=_o(e,2);t[0];return t[1]})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,ho.k)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call((0,vo.D)([t].concat(e)),new mo(n))}}(t),Ut(n),(0,Xe.b)((function(e){var t=_o(e,2),n=_o(t[0],2),r=_o(n[0],4),o=r[0],a=r[1];r[2],r[3],n[1],_o(t[1],1)[0];return k((function(e){return I(e,o,a)}))})),(0,Ve.U)((function(e){var t=_o(e,2),n=_o(t[0],2),r=_o(n[],u=_o(n[1],1)[0],d=I(_o(t[1],1)[0],o,a),m=u.filter((function(e){vaeturn n===d.join(",")})).map((function(e){var t=_o(e,2);t[0];return _o(t[1],1)[0]})).find((function(e){return!!e}))||0;return m?s(m,c):i?l():E([+c,o,a,Date.now()].join(",")),[d]})))}),[x],[T]),1)[0];return(0,Le.m)((function(e,t){return e.pipe(Mt((function(e){var t=_,2),n=_o(t[0],3),r=(n[0],n[1],n[2]);t[1];return!r})),(0,Ve.U)((function(e){var t=_o(e,2),n=_o(t[0],3),r=n[0],o=n[1],a=(n[2],t[1]);if(o){var i=_o(r.filter((function(e){var{returnd((function(efunction(e,!0,1===t]])}(f,"__item")|Array.prototype.slice.call(t))};function Io(e){var t=e.skuMap,n=e.skuList,a=e.skuData,i=(0,o.k6)(),c=(0,r.useContext)(Ie),s=c.state,l=c.dispatch;return r.createElement(No,{skuMap:t,skuList:n,skuData:a,currentGoodsId:s.currentGoodsId,bigTapDisabledIds:s.bigTapDisabledIds,setGoodsId:function(e,t){return function(e,t){if(l({type:ue,payload:e}),t){l({type:te});var n=(window.location&&window.location.search||"").substr(1).split("&").map((function(e){return e.split("=")})),r=new Map;n.forEach((function(e){var t=xo(e,2),n=t[0],o=t[1];return!!n&&!!o&&r.set(n,o)})),r.set("gid","".concat(e));var o=ko([],xo(r.entries()),!1).map((function(e){return e.join("=")})).join("&");i.replace({search:"?".concat(o)})}}(e,t)},resetGoodsId:function(){l({type:de})},skuClickBury:function(e){return t=e,void(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:"".concat(s.productName,"_").concat(t),action:"sku_button_click"});var t},portalClassName:"product__section",titleClassName:"product__section-title"})Value=e,this.hation Do(e,t){==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e){var t=function(e,t){if("object"!==Lo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lo(t)?t:String(t)}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ro(r.key),r)}}function Fo(e,t,n){return t&&jo(e.prototype,t),n&&jo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vo=n(9611);function Uo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,Vo.Z)(e,t)}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ho=n(7326);function Go(e,t){if(t&&("object"===Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,Ho.Z)(e)}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bo(e);if(t){var o=Bo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Go(this,n)}}function Wo(e,t,n){return(t=Ro(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yo=n(3366);function Xo(e,t){if(null==e)return{};var n,r,o=(0,Yo.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function qo(e){if(Array.isAr|t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ko(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(eom(e):"Arguments"==rn qo(e)||function(e,t){var n=nultor"];if(null!=n){var r,o,n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!=a.call(n)).done)&&(c.push(:92PAGE_DOWN:case Qo.PAGE_UP:case Qo.PAUSE:case Qo.PRINT_SCREEN:case Qo.RIGHT:case Qo.SHIFT:case Qo.UP:case Qo.WIN_KEY:case Qo.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Qo.ZERO&&e<=Qo.NINE)return!0;if(e>=Qo.NUM_ZERO&&e<=Qo.NUM_MULTIPLY)return!0;if(e>=Qo.A&&e<=Qo.Z)return!0;if(-1!==window.navigator.u.QUESTION_MARK:case Qo.NUM_PLUS:case Qo.NUM_MINUS:case Qo.NUM_PERIOD:case Qo.NUM_DIVISION:case Qo.SEMICOLON:case Qoick\nr o onScroll onWhe|t.keepEmpty)&&(Array.isArray(e)?n=n.concatnctio"func:nuion i(){Na(a)}function c(){var e=Date.now();if(n){if(e-server=function(e){var t=this.observers_,n=t.iesh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=func.broadcastActive()})),e.length>0},e.prototype.connect_=function(){wa&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ka?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=functiostener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.var n=0,r=Object.keys(t);parseFloat(e)||0}function Aa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ma(e["border-"+n+"-width"])}),0)}function Da(e.length;n++){var o=r[n],a=e["padding-"+o(s-=u)}return ja(o.left,o.top,c,s)}var La="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Oa(e).SVGGraphicsElement}:function(e){return e instanceof Oa(e).SVGElement&&"function"==typeof e.getBBox};function Ra(e){return wa?La(e)?function(e){var t=e.getBBox();return ja(0,0,t.width,t.height)}(e):Da(e):Pa}function ja(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Fa=function(){function e(e){thight=0,this.contentRect_=ja(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Ra(this.target);return this.contentRect_=e,e.width!==this.brotHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Va=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a="undefined"!=tyeadOnlt,n){if(th Sa,"functiometer 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Oa(e).Element))throw new TypeError('parameter 1 is not of prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Eleme.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActivctive()}},e.prw new TypeEr1 argument requi"disconnect"].forEach(((this))[e].apply(t,argueObserver||t.forEach((ar t=zo(n);function n(){return Do(this,n),t.apren,o=e.disabled,a=r.useRef(null):n,u=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!s&&r.isValidElement(l)&&_a(l),m=d?l.ref:null,p=r.useMemo((function(){return ba(m,a)}),[m,a]),f=function(){return Ea(a.current)||Ea(i.current)};r.useImperativeHandle(t,(function(){return f()}));var h=r.useRef(e);h.current=e;var v=r.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),a=o.width,i=o.height,s=e.offsetWidth,l=e.offsetHeight,d=Math.floor(a),m=Math.floor(i);if(u.current.width!==d||u.current.height!==m||u.current.offsetWidth!==s||u.current.offsetHeight!==l){var p={width:d,height:m,offsetWidth:s,offsetHeight:l};u.current=p;var f=s===Math.round(a)?a:s,v=l===Math.round(i)?i:l,g=na(na({},p),{},{offsetWidth:f,offsetHeight:v});null==c||c(g,e,r),n&&Promise.resolve().then((function(){n(g,e)}))}}),[]);return r.useEffect((function(){var e,t,n=f();return n&&!o&&(e=n,t=v,za.has(e)||(za.set(e,new Set),Wa.observe(e)),za.get(e).add(t)),function(){return function(e,t){za.has(e)&&(za.get(e).delete(t),za.get(e).size||(Wa.unobserve(e),za.delete(e)))}(n,v)}}),[a.current,o]),r.createElement(Ya,{ref:i},d?r.cloneElement(l,{ref:p}):l)}const Za=r.forn?void 0BatchResize,o=r.useRef(0),a=r.useRef([]),i=r.useContext(Xa),c=r.useCallback((function(e,t,r){o.current+=1;var c=o.curren"relative",overflow:"hidden"},u=na(na({},u),{},{transform:"translateY(".concat(o,"px)"),position:"absolute",left:0,right:0,top:0}elete(e)}var ii=function(e){var t=arguments.urn ai(t),ni(t)};const ci=ii;function si(e){return"touches"in e?e.touches[0].pageY:e.pageY}var li=function(e){Uo(n,e);var t=zo(n);function n(){var e;Do(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).moveRaf=null,e.scrollbarRef=r.createRef(),e.thumbRef=r.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEvtener("touchmove",eonMouseUp),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),ci.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:si(t),startTop:moveRaf),r){var c=a+(si(t)-o),s=e.getEnableScrollRannStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=functiunt",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWiltouchstart"leTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,o=this.props,a=o.prefixCls,i=o.direction,op:0,bottom:0},d),{},{position:"a"-0, 0)}),[]);retuaps=vo(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function s(e){return void 0!==e?n(e):c}for(var l=null,u=1!==Math.abs(a-i),d=0;d<o.length;d+=1){var m=s(r[d]);if(m!==s(o[d])){l=d,u=u||m!==s(o[d+1]);break}}return null===],e||[],t);void 0!==(null==r?void 0th>1&&void 0!==arguments[1]&&a(clearTimeout(o.current),n.n.curreof window||!windreturn n.current=!1,function(){n.current=!0}}),[])},yi=function(e,t){gi((function(t){if(!t)return e()}),t)};const bi=gi;var _i=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","component","onScroll","onVisibleChange","innerProps"] n=e.prefixCls,o=void 0===n?"rc-virtual-list":n,a=e.className,i=e.height,c=e.itemHeight,s=e.fullHeight,l=void 0===s||s,u=e.style,d=e.data,m=e.children,p=e.itemKey,f=e.virtual,h=e.direction,v=e.component,g=void 0===v?"div":v,y=e.onScroll,b=e.onVisibleChange,_=e.innerProps,E=Xo(e,_i),S=!(!1===f||!i||!c),w=S&&d&&c*d.length>i,C=$o((0,r.useState)(0),2),N=,i((function(e){return e+1}))}))}return(0,r.useEffect)((function(){return u}),[]),[function(r,o){var a=e(r),i=c.current.get(a);o?(c.current.set(a,o),d()):c.current.delete(a),!i!=!o&&(o?null==t||t(r):null==n||n(r))},d,s.current,a]}(L,n,end:P.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=A.current)||void 0===e?void 0:e.off=Math.ceil(i/c)),void 0===r&&(r=P.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,P.length),offset:n}}),[w,S,N,P,Y,i]),q=X.scrollHeight,Z=X.start,K=X.end,J=X.offset;F.current.start=Z,F.current.end=K;var $=q-i,Q=(0,r.useRef)($);Q.current=$;var ee=N<=0,te=N>=$,ne=fi(ee,te);var re=$o(function(e,t,n,o){var a=(0,r.useRef)(0),i=(0,r(0,r.useRef)(!1),l=fi(t,n);return[function(t){if(e){ci.cancel(i.current);var n=t.deltaY;a.current+=n,c.current=n,l(n)||(pi||t.preventDefault(),i.current=ci((function(){var e=s.current?10:1;o(a.curre=t.detail===c.current)}]}(S,ee,te,(function(e){j((function(t){return t+e}))})),2),oe=re[0],ae=re[1];!function(e,t,n){var o,a=(0,r.useRef)(!1),i=(0,r.useRef)(0),c=(0,r.useRef)(null),s=(0,r.useRef)(null),l=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageY),r=i.current-t;i.current=t,n(r)&&e.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},u=function(){a.current=!1,o()},d=function(e){o(),1!==e.touchesent=Math.ceil(e.touches[0].pageY),c.current=e.target,c.current.addEventListener("touchmove",l),c.current.addEventListener("touchend",u))};o=fuemisarInterval(s.current)}}),[e])}(S,M,(function(e,t){return!ne(e,ent.addEventListerent.addEventListener("MozMouseP(null!=r){if(cct"===Lo(r)){var u,d=r.align;u="index"in r?r.index:t.findIndex((function(e){return a(e)===r.key}));var m=r.offset,p=void 0===m?0:m;!function r(s,m){if(!(s<0)&&e.current){var f=e.current.clientHeight,h=!1,v=m;if(f){for(var g=m||d,y=0,b=0,_=0,E=Math.min(t.length,u),S=0;S<=E;S+=1){var w=a(t[S]);b=y;var C=n.get(w);y=_=b+(void 0===C?o:C),S===u&&void 0===C&&(h=!0)}var N=null;switch(g){case"top":N=b-p;break;case"bottom":N=_-f+p;break;default:var x=e.current.scrollTop;b<x?v="top":_>x+f&&(v="bottom")}null!==N&&N!==e.current.scrollTop&&c(N)}l.current=ci((function(){h&&i(),r(s-1,v)}),2)}}(3)}}else s()}}(M,P,W,c,L,z,j,(function(){var e;null===(e=D.current)||void 0===e||e.delayHidden()}));r.useImperativeHandle(t,(function(){return{scrollTo:ie}})),bi((function(){if(b){var e=P.slice(Z,K+1);b(e,P)}}),[Z,K,P]);var ce=function(e,t,n,o,a,i){var c=i.getKey;return e.slice(t,n+1).map((function(e,n){var i=a(e,t+n,{}),s=c(e);return r.createElement(ui,{key:s,setRef:function(t){return o(e,t)}},i)}))}(P,Z,K,G,m,R),se=null;return i&&(se=na(Wo({},l?"height":"maxHeight",i),Si),S&&(se.overflowY="hidden",I&&(se.pointerEvents="none"))),r.createElement("div",(0,Ao.Z)({style:na(na({},u),{},{position:"relative"}),className:O},E),r.createElement(g,{className:"".concat(o,"-holder"),style:se,ref:M,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==N&&j(t),null==y||y(e)}},r.createElement(ei,{prefixCls:o,height:q,offset:J,onInnerResize:z,ref:A,innerProps:_},ce)),S&&r.createElement(li,{ref:D,prefixCls:o,scrollTop:N,height:i,scrollHeight:q,count:P.length,direction:h,ononStartMove:function(){T(!0)},onStopMove:function(){T(!1)}}))}var Ci=r.forwardRef(wi);Ci.displayName="List";const Ni=Ci;const xi=function(e){var t,n=e.className,o=e.customizeIcon,a=e.customizeIconProps,i=e.onMouseDown,c=e.onClick,s=e.children;return t="function"==typeof o?o(a):o,r.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),i&&i(e)},style:{userSelect:"none",WebkitUserSelect:"nonek:c,"ari!==t?t:r.createElement("span",{className:je()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},s))};function ki(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ii(e){return function(e){if(Array.isArray(e))return Zo(e)}(e)||ki(e)||Ko(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ti(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function Oi(e,t){var n,r=Ii(t);for(n=e.length-1;n>=0&&e[n].disabled;n-=1);var o=null;return-1!==n&&(o=r[n],r.splice(n,1)),{values:r,removedValue:o}}var Pi="undefined"!=typeof window&&window.document&&window.document.documentElement,Mi=0;function Ai(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Di(e){var t=e||{};return{label:t.label||"label",value:tstopPropagation()}},onKeyUp:function(){},scrollTo:function(e){P(e)}}})),0===I.length)return r.createElement("div",{role:"listbox",id:"".concat(s,"_list"),className:"".concat(k,"-empty"),onMouseDown:O},y);var F=Object.values(Di(l)),V=function(e){var t=I[e];if(!t)return null;var n=t.data||{},o=n.value,a=n.label,i=n.children,c=ca(n,!0),l=d?i:a;return t?r.createElement("div",(0,Ao.Z)({"aria-label":"string"==typeof l?l:null},c,{key:e,rcat(s,"_list),o):null};return r.createElement(r.Fragment,null,r.createElement("div",{role:"listbox",id:"".concat(s,"_list"),style:{height:0,width:0,overflow:"hidden"}},V(D-1),V(D),V(D+1)),r.createElement(Ni,{itemKey:"key",ref:T,data:I,height:v,itemHeight:g,fullHeight:!1,onMouseDown:O,onScroll:N,virtual:E,onMouseEnter:x},(function(e,t){vai=e.data,c=e.label,s=e.value,l=i.key;if(o)return r.createElement("div",{className:je()(k,"".concat(k,"-group"))},void 0!==c?c:l);var u,p,f=i.disabled,h=i.tow,"-disabled"),f),Wo(n,"".concat(w,"-selected"),S),n)),N=!_||"function"==typeof _||S,x=(d?v:"==typeof x?x.toString():void 0;return void 0!==h&&(I=h),r.createElement("div",(0,Ao.Z)({},E,{"aria-selected":S,className:C,title:I,onMouseMove:function(){D===t||f||R(t)},onClick:function(){f||j(s)},style:g}),r.createElement("div",{className:"".concat(w,"-content")},x),r.isValidElement(_)||S,N&&r.createElement(xi,{className:"".concat(k,"-option-state"),customizeIcon:_,customizeIconProps:{isSelected:S}},S?"✓":null))})))},Bi=r.forwardRef(Ui);Bi.displayName="OptionList";const Hi=Bi;var Gi=function(){return null};Gi.isSelectOption=!0;const zi=Gi;var Wi=function(){return null};Wi.isSelectOptGroup=!0;const Yi=Wi;var Xi=["children","value"],qi=["children"];function Zi(e){var t=e.kt,value:void 0!==o?o:t,children:r},Xo(n,Xi))}function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return la(e).map((function(e,n){if(!r.isValidElement(e)||!e.type)return null;var o=e.type.isSelectOptGroup,a=e.key,i=e.props,c=i.children,s=Xo(i,qi);return t||!o?Zi(e):na(na({key:"__RC_SELECT_GRP__".concat(null===a?n:a,"__"),label:a},s),{},{options:Ki(c)})})).filter((function(e){return e}))}const Ji=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry||kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windo-)|ai(ko|rn)|al(av|ca|co)|amoi|an )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(acs|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|ea0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|q70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))};function $i(e){var t=r.useRef();return t.current=e,r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[])}function Qi(e){var t=r.useRef(!1),n=$o(r.useSta1];return r.useEffect((function(){return t.current=!1,function(){t.curn&&t.current||a(e)}]}function ec(e){return void 0!==e}function tc(e,t){var n=t||{},r=n.defaultValue,o=n.value,a=n.onChange,i=n.postState,c=$o(Qi((function(){return ec(o)?o:ec(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),s=c[0],l=c[1],u=void 0!==o?o:s,d=i?i(u):u,m=$i(a),p=$o(Qi([u]),2),f=p[0],h=p[1];return yi((function(){var e=f[0];s!==e&&m(s,e)}),[f]),yi((function(){ec(o)||l(o)}),[o]),[d,$i((function(e,t){l(e,t),h([u],t)}))]}var nc=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],rc=void 0;function oc(e,t){var n=e.prefixCls,o=e.invalidate,a=e.item,i=e.renderItem,c=e.responsive,s=e.responsiveDisabled,l=e.registerSize,u=e.itemKey,d=e.className,m=e.style,p=e.children,f=e.display,h=e.order,v=e.component,g=void 0===v?"div":v,y=Xo(e,nc),b=c&&!f;function _(e){l(u,e)}r.useEffect((function(){return function(){_(null)}}),[]);var E,S=i&&a!==rc?i(a):p;o||(E={opacity:b?0:1,height:b?0:rc,overflowY:b?"hidden":rc,order:c?h:rc,pointerEvents:b?"none":rc,position:b?"absolute":rc});var w={};b&&(w["aria-hidden"]=!0);var C=r.createElement(g,(0,Ao.Z)({className:je()(!o&&n,d),style:na(na({},E),m)},w,y,{ref:t}),S);return c&&(C=r.createElement($a,{onResize:function(e){_(e.offsetWidth)},disabled:s},C)),ac.displayName="Item";const ic=ac;function cc(){var e=r.useRef(null);ndefined"==typeof MessageChannel)ci(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,dr.unstable_batchedUpdates)((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function sc(e,t){var n=$o(r.useState(t),2),o=n[0],a=n[1];return[o,$i((function(t){e((fl),uc=["component"],dc=["className"],mc=["className"],pc=function(e,t){var n=r.useContext(lc);if(!n){var o=e.component,a=void 0===o?"div":o,i=Xo(e,uc);return r.createElement(a,(0,Ao.Z)({},i,{ref:t}))}var c=n.className,s=Xo(n,dc),l=e.className,u=Xo(e,mc);return r.createElement(lc.Provider,{value:null},r.createElement(ic,(0,Ao.Z)({ref:t,className:je()(c,l)},s,u)))},fc=r.forwardRef(pc);fc.displayName="RawItem";const hc=fc;var vc=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],gc="responsive",yc="invalidate";function bc(e){return"+ ".concat(e.length," ...")}function _c(e,t)verflow":n,a=e.data,i=void 0===a?[]:a,c=e.renderItem,s=e.renderRawItem,l=e.itemKey,u=e.itemWidth,d=void 0===u?10:u,m=e.ssr,p=e.style,f=e.className,h=e.maxCount,v=e.renderRest,g=e.renderRawRest,y=e.suffix,b=e.component,_=void 0===b?"div":b,E=e.itemComponent,S=e.onVisibleChange,w=Xo(e,vc),C="full"===m,N=cc(),x=$o(sc(N,null),2),k=x[0],I=x[1],T=k||0,O=$o(sc(N,new Map),2),P=O[0],M=O[1],A=$o(sc(N,0),2),D=A[0],L=A[1],R=$o(sc(N,0),2),j=R[0],F=R[1],V=$o(sc(N,0),2),U=V[0],B=V[1],H=$o((0,r.useState)(null),2),G=H[0],z=H[1],W=$o((0,r.useState)(null),2),Y=W[0],X=W[1],q=r.useMemo((function(){return null===Y&&C?Number.MAX_SAFE_INTEGER:Y||0}),[Y,k]),Z=$o((0,r.useState)(!1),2),K=Z[0],J=Z[1],$="".concat(o,"-item"),Q=Math.max(D,j),ee=h===gc,te=i.length&&ee,ne=h===yc,re=te|ion(){var e=i;return te?e=nlice(q+1):i.slice(oe.length)}),[i,oe,te,q]),ie=(0,r.useCallback)((function(e,t){var n;return"function"==typeof l?l(e):null!==(n=l&&(null==e?void 0:e[l]))&&void 0!==n?n:t}),[l]),ce=(0,r.useCallback)(c||function(e){return e},[c]);function se(e,t,n){(Y!==e||void 0!==t&&t!==G)&&(X(e),n||(J(e<i.length-1),null==S||S(e)),void 0!==t&&z(t))}function le(e,t){M((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function ue(e){return P.get(ie(oe[e],e))}bi((function(){if(T&&"number"==typeof Q&&oe){var e=U,t=oe.length,n=t-1;if(!t)return void se(0,null);for(var r=0;r<t;r+=1){var o=ue(r);if(C&&(o=o||0),void 0===o){se(r-1,void 0,!0);break}if(e+=o,0===n&&e<=T||r===n-1&&e+ue(n)<=T){se(n,null);break}if(e+Q>T){se(r-1,e-o-U+j);break}}y&&ue(0)+U>U,ie,oe]);var de=K&&!!ae.length,me={};null!==G&&te&&(me={position:"absolute",left:G,top:0});var pe,fe={prefixCls:$,responsive:te,component:E,invalidate:ne},he=s?function(e,t){var n=ie(e,t);return r.createElement(lc.Provider,{key:n,value:na(na({},fe),{},{order:t,item:e,itemKey:n,registerSize:le,display:t<=q})},s(e,t))}:function(e,t){var n=ie(e,t);return r.createElement(ic,(0,Ao.Z)({},fe,{order:t,key:n,item:n,registerSize:le,display:t<=q}))},ve={order:de?q:Number.MAX_SAFE_INTEGER,className:"".concat($,"-rest"),registerSize:function(e,t){F(t),L(j)},display:de};if(g)g&&(pe=r.createElement(lc.Provider,{value:na(na({},fe),ve)},g(ae)));else{var ge=v||bc;pe=r.createElement(ic,(0,Ao.Z)({},.clientWidth)},disabled:!te},ye)),ye}var Ec=r.forwardRef(_c);Ec.displayName="Overflow",Ec.Item=hc,Ec.RESPONSIVE=gc,Ec.INVALIDATE=yc;const Sc=Ec;var wc=function(e,t){var n,o,a=e.prefixCls,i=e.id,c=e.inputElement,s=e.disabled,l=e.tabIndex,u=e.autoFoDown,g=e.onMouseDown,y=e.onChange,b=e.onPaste,_=e.onCompo=e.attrs,C=c||r.createElement("input",null),N=C,x=N.ref,k=N.props,I=k.onKeyDown,T=k.onChange,O=k.onMouseDown,P=k.onCompositionStart,M=k.onCompositionEnd,A=k.style;return C=r.cloneElement(C,na(na({id:i,ref:ba(t,x),disabled:s,tabIndex:l,autoComplete:d||"off",type:"search",-expanded":S,a-autocomplete":"list","i,"_list"),"aria-activ?f:"",maxLength:h,readOnly:!m,unselectable:m?null:"on",onKeyDown:function(e){v(e),I&&I(e)},onMouseDown:function(e){g(e),O&&O(e)},onChange:function(e){y(e),T&&="Input";conopagation()};const Ic=function(e){var t=e.id,n=e.prefixCls,o=e.putPaste,x=e.onInputKeyDon:rollWidth)}),[F]);var B=r.createEleputElement:null,disabled:l,autoFocus:m,autoComplete:p,editable:V,accessibilityIndex:f,value:F,onKeyDown:x,onMouseDown:k,onChange:Crflow"),data:o,renderItem:function(e){var t=e.disabled,n=e.label,o=e.value,i=!l&&!t,c=n;if("number"==typeof y&&("string"==typeof n||"number"==typeof n)){var s=String(c);s.length>y&&(c="".concat(s.slice(0,y),"..."))}var u=function(e){e&&e.stopPropagation(),w(o,{selected:!1})};return"function"==typeof E?function(e,t,n,o,i){return r.createElement("span",{onMouy:"key",maxCount:g});return r.createElement(r.Fragment,null,H,!o.length&&!F&&r.createElement("span",{classNas,s=e.autoComplete,l=e.accessibilityIndex,u=e.mode,d=e.open,m=e.values,p=e.h,v=e.searchValue,g=e.activeValue,y=e.maxLength,b=e.onInputKey&&"number"!=typeof O.label?void 0:O.label.todisabled:i,autoFocus:bilityDown:b,onMouseDown:_,onChange:function(e){k(!0),E(e)},onPaste:S,onCompositionStart:w,onCompositionEnd:C,tabIndex:f,attrs:ca(e,!0),maxLength:I?y:void 0})),!I&&O&&!M&&r.createElement("span",{className:"".concat(n,"-selection-item"),title:A},O.label),!O&&!M&&r.createElement("span",{className:"".concat(n,"-selection-placeholder")},p))};function Oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=r.useRef(null),n=r.useRef(null);function o(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.((function(){t.currente,l=e.sWN||e.prevet.value;if(u&&b.current&&/[\r\n]/.test(b.current)){var n=onEnd:function(e){o.current=!1,"combobox"!="-selector"),onClick:fustyle.msTouchAction?setTime:function(e){var t=g();e.target===n.currec);Mc.displayName="Selector";const Ac=Mc;function Dc(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}function Lc(e,t,n,r){var o=dr.unstable_batchedUpdates?function(e){dr.unstable_batchedUpdates(n,e)}:n;return null!=e&&e.addEventListener&&e.addEventListener(t,o,r),{remove:functioistener(t,o,r)}}}const Rc=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,o=return{}}));var s=(0,r.useRef)(!1);return!s.current&&hi()&&(c.current=o(),i.current=c.curr.useEffect)((function(){null==n||n(e)})),(0,r.useEffect)((function(){return null===c.current.parentNode&&null!==i.current&&i.current.appendChild(c.current),function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(c.current)}}),[]),c.current?dr.createPortal(a,c.current):null}));function jc(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var Fc=r.createContext({});const Vc=function(e){Uo(n,e);var t=zo(n);function n(){return Do(this,n),t.apply(this,arguments)}return Fo(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component)onend";function us(e,t){return e?"object"===Lo(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}const ds=hi()?r.useLayoutEffect:r.useEffect;var ms=[Wc,Yc,Xc,qc],ps=[Wc,Zc];function fs(e){return e===Xc||e===qc}const hs=function(e,t,n){var o=$o(Qi(zc),2),a=o[0],i=o[1],c=$o(function(){var e=r.useRef(null);function t(){ci.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=ci((function(){o<=1?r({isCanceled:function(){return a!==e.current}}):n(r,o-1)}));e.current=a},t]}(),2),s=c[0],l=c[1];var u=t?ps:ms;return ds((function(){if(a!==zc&&a!==qc){vion(){l()}}),[]),[function(){i(Wc,!0)},a]};function vs(e,t,n,o){var a=o.motionEnter,i=void 0===a||a,c=o.motionAppear,s=void 0===c||c,l=o.motionLeave,u=void 0===l||l,d=o.motionDeadline,m=o.motionLeaveImmediately,p=e,h=o.onLeavePrepare,v=o.onAppearStart,g=o.onEnterStart,y=o.onLeaveStart,b=o.onAppearActive,_=o.onEnterActive,E=o.onLeaveActive,S=o.onAppearEnd,w=o.onEnterEnd,C=o.onLeaveEnd,N=o.onVisibleC),2),A=M[0],D=M[1],L=(0,r.useRef)(!1),R=(0,r.useRef=Hc&&r?n=null==w?void 0:w(t,e):O===Gc&&r&&(n=null==C?void 0:C(t,e)),O!==Uc& Wo(r={},Wc,h),Wo(r,Yc,y),Wo(r,Xc,E),r;default:return{}}},G=r.useMemo((function(){return H(O)}),[O]),z=$o(hs(O,!e,(function(e){if(e===Wc){var t=G.prepare;return!!t&&t(j())}var n;Y in G&&D((null===(n=G[Y])||void 0===n?void)}),[t]),(0,r.useEffect)((function(){(O===Bc&&!s||O===Hc&&!i||O===Gc&&!u)&&P(Uc)}),[s,i,u]),(0,r.useEffect)((function(){return function(){L.current=!1,clearTimeout(R.current)}}),[]);var q=r.useRef(!1);(0,r.useEffect)((function(){k=Yc&&(Z=na({transition:"none"},Z)),[O,Y,Z,null!=k?k:t]}consemoveOnLeave,c=void 0===i||i,s=e.forceRender,l=e.children,u=e.motionName,d=e.leaved|!1===n)}(e,r.useContext(Fc).motion),f=(0,r.useRef)(),h=(0,r.useRef)();var v=$o(vs(p,a,(function(){try}),e),4),g=v[0],y=v[1],b=v[2],_=v[3],E=r.useRef(ments[1]?arguments[1]:[],n=[],r=0,o=t.length,a=ws(e),i=ws(t);a.forEach((function(e){for(var t=!1,a=r;a<o;a+=1){var c=i[a];ifntProps:a,onVisibleChanged:function(t){(null==c||c=e.prefixCls,n=e.motion,r=e.animation,createElement(Isourn e}function As(e){r]=n,e}var Ls,Rs={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};fform"):"transform"}fue",e.offsetHeight,e.r,"px")),void(e.style[turn Xs(e,!0)}function Ks(e){var ft:n-=i.clientLeft||a.clientLeft||0,top:r-=i.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaulreturn Js(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Qs=void 0}function rl(r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=o;!function(e,t,n){if(n.ignoreShake){var r=Ks(e),o=r.left.to:1/0},r=gl(e),o=hl.getDocument(e),a=o.defaultView||o.parentWindow,i=o.body,c=o.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===i||r===c||"visible"===hl.css(r,"overflow")){if(r===i||r===c)break}else{var s=hl.offset(r);s.left+=r.clientLeft,s.top+=r.clientToWr,t}function El(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,a=e.height,i=e.left,c=e.top;return"c"====r?i+=o/2:"r"===r&&(i+=o),{left:i,top:c}}functioreturn e.left<n.left||e.left+t.width>n.right}function Cl(e,t,n)>n.bottom}function Nl(e,t,n){var r=[];return hl.each(e,(function(e){r.pusn(e){return n[e]}))kl(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,[1],t.height)}function Tl(e,t,n,r){var o=n.points,a=n.offset||[0,0],i=n.targetOffset||[0,0],c=n.overflow,s=n.source||e;a=on(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=S(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){ifw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide ar o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallytryEn],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.calvo}}return{ngurable:!0}),r(f,"construorFunction"),e.isGeneratorFunction=function(e){var===(t.displayNact.setPrototypeOf?Object.setPrototypeOf(e,f)e},e.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,i,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,c,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];oid 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.char.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===eturn"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Vl(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ul(e){return function(){var t=this,n=arguments;return new Promise((funct}))}}var Bl=["measure","alignPret){var n=e.visible,o=e.prefixCls,der,m=e.align,p=e.point,f=e.getRootDomNode,h=e.getClassNameFromAlign,v=e.onAlign,g=e.onMouseEnter,y=e.onMousn[r.useMemo((function(){var ?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBou1&&(t=a,n=i),o({width:t,heie){a(e,!0)}function s(){ci.cancel(on(){switch(o){case"measure":t()}o&&(i.eturn Fl().wrap((function(e)||e.forceAlign()}function U(e,t){var |e.call(F)})))}),[R]);var B=na({},Ts(e,n)}})),r.useEffect((function(){BIndex:s,opacity:"motion"!==A&&"stable"!==A&&n?0e:u,forceRender:d}),(function(e,tName:i,onClick:p,style:na(na({},a[1],m=na(na({},a),{},{visible:c}).createContext(null);functionvar Ql=["onClick","onMouseDown","onToucr t=zo(n);function n(e){var o,a;return Do(this,n),o=t.call(this,e),Wo((0,Ho.Z)(o),"popupRef",r.createRef()),Wo((0,Ho.Z)(o),"triggerRef",r.createRef()),Wo((0,Ho.Z)(o),"portalContainer",void 0),Wo((r",void 0),Wo((0,Ho.Z)(o),"touchOutsideHandler",sideHandler1",void 0),Wo((0,Ho.Z)seLeave",(function(e){var t;e.relat|o.delaySetPopupVisible(!1,o.payTimer(),o.isFocusToShow()&ClickTime=Date.now()})),Wo((0,)),Wo((0,Ho.Z)(o),"onContextMenu",(Click",e),o.focusTime){var t;iickTime?t=o.preClickTime:o.preToucDownTimeout),o.mouseDownTimeouarguments)})),Wo((0,Ho.Z)(o),"onDocumentClick",(function(e){if(!o.props.mask||o.props.maskClosable){var t=e.target,n=o.getRootDomNode(),r=o.getPopupDomNode();Dc(n,t)&&!o.,(function(){var e=o.props.getTriggerDOMNode;if(e)return e(o.triggerRef.current);try{var t=Ea(o.triggerRef.current);if(t)return t}catch(n){}return dr.findDOMNode((0,Ho.Z)(o))})),Wo((0,Ho.Z)(o),"getPopupClassNameFromAlign",(function(e){var t=[],n=o.props,r=n.popupPlacement,a=n.builtinPlacements,i=n.prefixCls,c=n.alignPoint,s=n.getPopupClassNameFromAlign;return r&&a&&t.push(function(e,t,n,r){for(var o=n.points,a=Object.keys(e),i=0;i<a.length;i+=1){var c=a[i];if(jc(e[c].points,o,r))return"".concat(t,"-placement-").concat(c)}return""}(a,i,e,c)),s&&t.push(s(e)),t.join(" ")})),Wo((0,Ho.Z)(o),"getComponent",(function(){var e=o.props,t=e.prefixCls,n=e.destroyPopupOnHide,a=e.popupClassName,i=e.onPopupAlign,c=e.popupMotion,s=e.popupAnimation,l=e.popupTranup,g=e.stretch,y=e.alignPoint,return o.isMouseEnterToShnPopupMouseLeave),x.onMouseDown=o.onPopupMouseDown,x.onTouchStart=o.onPopupMou,o.state={prevPopupVisible:a,popupVisiblen(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Lc(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Lc(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Lc(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Lc(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),ci.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return na(na({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var a=n?{pageX:n.pageX,pageY:n.pageY}:nue(e,a),r.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.=this.state.popupVisible,t=this.props,n=t.children,o=t.forceRender,a=t.alignPoint,i=t.className,c=t.autoDestroy,s=r.Children.only(n),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,a&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var u=je()(s&&s.props&&s.props.className,i);u&&(l.className=u);var d=na({},l);_a(s)&&(d.ref=ba(this.triggerRef,s.ref));var m,p=r.cloneElement(s,d);return(e||this.popupRef.current||o)&&(m=r.createElement(tu,{key:"portal",getContainer:this.getContainer,didUpdvider,{value:this.triggerContextValue},p,m)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),n}(r.Component),Wo(nu,"contextType",Zl),Wo(nu,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Jl,getDocument:$l,onPopupVisibleChange:Kl,afterPopupVisibleChange:Kl,onPopupAlign:Kl,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),nu);var tu,nu,ru=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange"],ou=function(e,t){var n=e.prefixCls,o=(e.disabled,e.visible),a=e.children,i=e.popupElement,c=e.containerWidth,s=e.animation,l=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,m=e.direction,p=void 0===m?"ltr":m,f=e.placement,h=e.dropdownMatchSelectWidth,v=void 0===h||h,g=e.dropdownRender,y=e.dropdownAlign,b=e.getPopupContainer,_=e.empty,E=e.getTriggerDOMNode,S=e.onPopupVisibleChange,w=Xo(e,ru),C="".concat(n,"-dropdown"),N=i;g&&(N=g(i));var x=r.useMemo((function(){return function(e){var t="number"!=typeof e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(v)}),[v]),k=s?"".concat(C,"-").concat(s):l,I=r.useRef(null);r.useImperativeHandle(t,(function());return"number"==typeof v?T.width=v:v&&(T.width=c),r.createElement(eu,(0,Ao.Z)({},w,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:f||("rtl"===p?"bottomRight":"bottomLeft"),builtinPlacements:x,prefixCls:C,popupTible:o,getPopupContainer:b,popupClassName:je()(d,Wo({},"".concat(C,"-empty"),_)),popupStyle:T,getTriggerDOTrigger";const iu=au;var cu=["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","ooClearSearchValue","onSearch","fieldNames","allowClear",ent","getPopupContainer","placement","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDown","onChange","onSelect","onDeselect","onClear","internalProps"],su=["removeIcon","placeholder","autoFoength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","tabIndex"];const lu=function(e){var t=e.mode,n=e.options,o=e.children,a=e.backfill,i=e.allowClear,c=e.placeholder,s=e.gete,f=e.value,h=e.inputValue,v=e.optionLabelProp,g="multiple"===t||"tags"===t,y=void 0!==l?l:g||"combobox"===t,b=n||Ki(o);if(ga("tags"!==t||b.every((function(eetting option to disabled in t _=b.some((function(e){return e.options?e.options.some((function(e){return"number"==typeof("value"in e?e.value:e.key)})):"number"==typeof("value"in e?e.value:e.key)}));ga(!_,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(ga("combobox"!==t||!v,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),ga("combobox"===t||!a,"`backfill` onment` only work with `combobox` mode."),va("combobox"!==t||!s||!i||!c,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),u&&!y&&"combobox"!==t&&"tags"!==t&&ga(!1,"`onSearch` should work with `showSearch` instead of use alone."),va(!d||m,"`defaultOpen` makes Select open withou You can set `autoFocus` if needed."),null!=f){var E=Ti(f);ga(!p||E.every((function(e){return"object"===Lo(e)&&("key"in e||"value"in e)})),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),ga(!g||Array.isArray(f),"`value` should be array when `mode` is `multiple` or `tags`")}if(o){var S=null;la(o).some((function(e){if(!r.isValidElement(e)||!e.type)return!1;var t=e.type;return!t.isSelectOption&&(t.isSelectOptGroup?!la(e.props.children).every((function(t){retur=h,"`inputValue` is deprecated, please use `searchValue` instead.")}};var uu=function(e){var t=e.prefixCls,n=e.components.optionList,o=e.convertChildrenToData,a=e.flattenOptions,i=e.getLabeledValue,c=e.filterOptions,s=e.isValueDisabled,l=e.findValueOption,u=(e.warningProps,e.fillOptionsWithMissingValue),d=e.omitDOMProps;function m(e,m){var p,f=e.plterProp,M=void 0===P?"value":P,A=e.autoClearSearchValue,D=void 0===A||A,L=e.onSearch,R=e.fieldNames,j=e.allowClear,F=e.clearIcon,V=e.showArrow,U=e.inputIcon,B=e.menuItemSelectedIcon,H=e.disabled,G=e.loading,z=e.defaultActivetionLabelProp,q=e.backfill,Zoe.onMouseDown,we=e.onChange,Ce=e.onSelect,Ne=e.onDeselect,xe=e.onClear,ke=e.internalProps,Ie=void 0===ke?{}:ke,Te=Xo(e,cu),Oe="RC_SELECT_INTERNAL_ef)(null),.useRef)(null),Le=(0,r.useRef)(null),Re=(0,r.useMemo)((function(){return(fe||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[fe]),Fe=function(){var e=ar[0]?arguments[0]:10,t=$),i=function(){window.clearTimeout(a.current)};return r.useEffect((function(){return iUe=Ve[0],Be=Ve[1],He=Ve[2],Ge=$o((0,r.useState)(),2),ze=Ge[0],We=Ge[1];(0,r.useEffect)((function(){var e;We("rc_select_".concat((Pi?(e=Mi,Mi+=1):e="TEST_OR_SSR",e)))}),!==x?x:Ze||"combobox"===S,Je=$o((0,r.useState)(!1),2),$e=Je[0],Qe=Je[1];(0,r.useEffect)((function(){Qe(Ji())}),[]);var et=(0,r.useRef)(null);r.useImperativeHandle(m,(function(){var e,t,n;return{focus:null===(e=De.current)||void 0===e?void 0:e.focus,blur:null===(t=De.curn function(e,t){var n=t.labelInValue,r=t.combobox,o=new Map;if(void 0===e||""===e&&r)return[[],o];var a=Array.isArray(e)?e:[e],i=a;re((function(e){return null!==e})).map((function(e){var t=e.key,n=e.value,r=void 0!==n?n:t;return o.set(r,e),2),at=ot[0],it=ot[1],ct=(0,r.useMemo)((function(){return new Set(at)}),[at]),st=$o((0,r.useState)(null),2),lt=st[0],ut=st[1],dt=$o((0,r.useState)(""),2),mt=dt[0],pt=dt[1],ft=mt;"combobox"===S&&void 0!==nt?ft=nt:void 0!==I?ft=I:k&&(ft=k);var ht=(0,r.useMemo)((function(){var e=_;return void 0===e&&(e=o(E)),"tags"===S&&u&&(e=u(e,nt,Xe,N)),e||[]}),[_,E,S,nt]),vt=(0,r.useMemo)((function(){return a(ht,e)}),[ht]),gt=function(e){var t=r.useRef(null),n=r.useMemo((function(){var t=new Map;return e.forEach((function(e){var n=e.value;t.set(n,e)})),t}),[e]);return t.current=n,function(e){return e.map((function(e){return t.current.get(e)})).filter(Boolean)}}(vt),yt=(0,r.useMemo)((function(){if(!ft||!Ke)return Ii(ht);var e=c(ft,ht,{optionFilterProp:M,filterOption:"combobox"===S&&void 0===T?function(){return!0}:T});return"tags"===S&&e.every((function(e){return e[M]!==ft}))&&e.unshift({value:ft,label:ft,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),O&&Array.isArray(e)?Ii(e).sort(O):e}),[ht,ft,S,Ke,O]),bt=(0,r.useMemo)((function(){return a(yt,e)}),[yt]);(0,r.useEffect)((function(){Le.current&&Le.current.scrollTo&&Le.current.scrollTo(0)}),[ft]);var _t,Et,St=(0,r.useMemo)((function(){var e=at.map((function(e){var t=gt([e]);return na(na({},i(e,{options:t,prevValueMap:it,labelInValue:qe,optionLabelProp:Xe})),{},{disabled:s(e,t)})}));return S||1!==e.length||null!==e[0].value||null!==e[0].label?e:[]})_t),St=r.useMemo((function(){var e=new Map;Et.current.forEach((function(t){var n=t.value,r=t.label;n!==r&&e.set(n,r)}));var t=_t.map((function(t){var n=e.get(t.value);return t.isCacheable&&n?na(na({},t),{},{label:n}):t}));return Et.current=t,t}),[_t]);var wt=function(t,n,r){var o=gt([t]),a=l([t],o,{props:e})[0];Select?Ie.onRawSelect(t,a,r):!n&&Ie.onRawDeselect&&Ie.onRawDeselect(t,a,r))},Ct=$o((0,r.useState)([]),2),Nt=Ct[0],xt=Ct[1],kt=function(t){if(!Oe||!Ie.skipTriggerChange){var n=gt(t),r=function(e,t){var n=t.optionLabelProp,r=t.labelInValue,o=t.prevValueMap,a=t.options,i=t.getLabeledValue,c=e;return r&&(c=c.map((function(e){return i(e,{options:a,prevValueMap:o,labelInValue:r,optionLabelProp:n})}))),c}(Array.from(t),{labelInValue:qe,options:n,getLabeledValue:i,prevValueMap:it,optionLabelProp:Xe}),o=Ze?r:r[0];if(we&&(0!==at.length||0!==r.length)){var a=l(t,n,{prevValue n,r=t.s!==e)&&kt(Array.from(n)),(String(e)),ut("")):Ze&&!D||(pt(""),ut("")))},Tt="combobox"===S&&"function"==typeof Z&&Z()||null,Ot="function"==typeof K&&K(),Pt=$o(tc(void 0,{defaultValue:b,value:y}),2),Mt=Pt[0],At=Pt[1],Dt=Mt,Lt=!Y&&!yt.length;(H||Lt&&Dt&&"combobox"===S)&&(Dt=!1);var Rt,jt=!Lt&&Dt,Ft=function(e){var t=void 0!==e?e:!Dt;Mt===t||H||(At(t),ge&&ge(t))};Ot&&(Rt=function(e){Ft(e)}),function(e,t,n){var o=r.useRef(null);o.current={open:t,triggerOpen:n},r.useEffect((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&o.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[Me.current,null===(e=Ae.current)||void 0===e?void 0:e.getPopupElement()]}),jt,Ft);var Vt=function(e,t,n){var r=!0,o=e;ut(null);var a=n?null:Fi(e,fe),i=a;if("combobox"===S)t&&kt([o]);else if(a){o="","tags"!==S&&(i=a.map((function(e){var t=vt.find((function(t){return t.data[Xe]===e}));return t?t.data.value:null})).filter((function(e){return null!==e})));var c=Array.from(new Set([].concat(Ii(at),Ii(i))));kt(c),c.forEach((function(e){wt(e,!0,"input")})),Ft(!1),r=!1}return pt(o),L&&ft!==o&&L(o),r};(0,r.useEffect)(],Gt=(0,r.useRef)(!1),zt=[];(0,r.useEffect)((function(){return function(){zt.forEach((function(e){return clearTimeout(e)})),zt.splice(0,zt.length)}}),[]);var Wt=$o((0,r.useState)(0),2),Yt=Wt[0],Xt=Wt[1],qt=void 0!==z?2),Kt=Zt[0],Jt=Zt[1],$t=$o((0,r.useState)({}),2)[1];xc((function(){if(jt){var e,t=Math.ceil(null===(e=Me.current)||void 0===e?void 0:e.offsetWidls:h,id:Ye,open:Dt,childrenAsData:!_,options:yt,fieldNames:R,flattenOptions:bt,multiple:Ze,values:ct,height:ee,itemHeight:ne,onSelect:function(e,t){It(e,na(na({},t),{},{source:"option"}))},onToggleOpen:Ft,onActiveValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,o=void 0===r?"keyboard":r;Xt(t),q&&"combobox"===S&&null!==e&&"keyboard"==tion:qt,notFoundContent:Y,onScroll:nction(){$t({})},direction:pe});!H&&j&&(at.length||ft)&&(Qt=r.createElement(xi,{className:"".concat(h,"-clear"),onMouseDown:function(){Oe&&Ie.onClear&&Ie.onClear(),xe&&xe(),kt([]),Vt("",!1,!1)},customizeIcon:F},"×"));var tn,nn=void 0!==V?V:G||!Ze&&"combobox"!==S;nn&&(tn=r.createElement(xi,{className:je()("".concat(h,"-arrow"),Wo({},"".concat(h,"-arrow-loading"),G)),customizeIcon:U,customizeIconProps:{loading:G,searchValue:ft,open:Dt,focused:Ue,showSearch:Ke}}));var rn=je()(h,v,(Wo(p={},"".concat(h,"-focused"),Ue),Wo(p,"".concat(h,"-multiple"),Ze),Wo(p,"".concat(h,"-single"),!Ze),Wo(p,"".concat(h,"-allow-clear"),j),Wo(p,"".concat(h,"-show-arrow"),nn),Wo(p,"".concat(h,"-disabled"),H),Wo(p,"".concat(h,"-loading"),G),Wo(p,"".concat(h,"-open"),Dt),Wo(p,"".concat(h,"-customize-input"),Tt),Wo(p,"".concat(h,"-show-search"),Ke),p)),on=r.createElement(iu,{ref:Ae,disabled:H,prefixCls:h,visible:jt,popupElement:en,containerWidth:Kt,animation:re,transitionName:oe,dropdownStyle:ie,dropdownClassName:ce,direction:pe,dropdownMatchSelectWidth:se,dropdownRender:le,dropdownAlign:ue,placement:$,getPopupContainer:J,empty:!ht.length,getTriggerDOMNode:function(){return et.current},onPopupVisibleChange:Rt},Ot?r.cloneElement(Ot,{ref:ba(et,Ot.props.ref)}):r.createElement(Ac,(0,Ao.Z)({},e,{domRef:et,prefixCls:h,inputElement:Tt,ref:De,id:Ye,showSearch:Ke,mode:S,accessibilityIndex:Yt,multiple:Ze,tagRender:he,values:St,open:Dt,onToggleOpen:Ft,searchValue:ft,activeValue:lt,onSearch:Vt,onSearchSubmit:function(e){if(e&&e.trim()){var t=Array.from(new Set([].concat(Ii(at),[e])));kt(t),t.forEach((function(e){wt(e,!0,"input")})),pt("")}},onSelect:function(e,t){It(e,na(na({},t),{},{source:"selection"}))},tokenWithEnter:Re})));return Ot?on:r.createElement("div",(0,Ao.Z)({className:rn},Pe,{ref:Me,onMouseDown:function(e){var t,n=e.target,r=null===(t=Ae.current)||void 0=ntains(n)){var o=setTimeout((function(){var e,t=zt.indexOf(o);(-1!==t&&zt.splice(t,1),He(),$e||r.contains(document.activeElement))||(null===(e=De.current)||void 0===;c<a;c++)i[c-1]=arguments[c];Se.apply(void 0,[e].concat(i))}},onKeyDown:function(e){var t,n=Bt(),r=e.which;if(r===ea.ENTER&&("combobox"!==S&&e.preventDefault(),Dt||Ft(!0)),Ht(!!ft),r===ea.BACKSPACE&&!n&&Ze&&!ft&&at.length){var o=Oi(St,at);null!==o.removedValue&&(kt(o.values),wt(o.removedValue,!1,"input"))}for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];Dt&&Le.current&&(t=Le.current).onKeyDown.apply(t,[e].concat(i));Ee&&Ee.apply(void 0,[e].concat(i))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Dt&&Le.current&&(o=Le.current).onKeyUp.apply(o,[e].concat(n));_e&&_e.apply(void 0,[e].concat(n))},onFocus:function(){Be(!0),H||(ye&&!Gt.current&&ye.apply(void 0,arguments),me.includes("focus")&&Ft(!0)),Gt.current=!0},onBlur:function(){Be(!1,(function(){Gt.current=!1,Ft(!1)})),H||(ft&&("tags"===S?(Vt("",!1,!1),kt(Array.from(new Set([].concat(Ii(at),[ft]))))):"multiple"===S&&pt("")),be&&be.apply(void 0,arguments))}}),Ue&&!Dt&&r.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(at.join(", "))),on,tn,Qt)}return r.forwardRef(m)}({prefixCls:"rc-select",components:{optionList:Hi},convertChildrenToData:Ki,flattenOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=[],o=Di(n),a=o.label,i=o.value,c=o.options;function s(e,t){e.forEach((function(e){var n=e[a];t||!(c in e)?r.push({key:Ai(e,r.length),groupOption:t,data:e,label:n,value:e[i]}):(r.push({key:Ai(e,r.length),group:!0,data:e,label:n}),s(e[c],!0))}))}return s(e,!1),r},getLabeledValue:function(e,t){var n=t.options,r=t.prevValueMap,o=t.labelInValue,a=t.optionLabelProp,i=Ri([e],n)[0],c={value:e},s=o?r.get(e):void 0;return s&&"object"===Lo(s)&&"label"in s?(c.label=s.label,i&&"string"==typeof s.label&&"string"==typeof i[a]&&s.label.trim()!==i[a].trim()&&ga(!1,"`label` of `value` is not same as `label` in Select options.")):i&&a in i?c.label=i[a]:(c.label=e,c.isCacheable=!0),c.key=c.value,c},filterOptions:function(e,t,n){var r,o=n.optionFilterProp,a=n.filterOption,i=[];return!1===a?Ii(t):(r="function"==typeof a?a:function(e){return function(t,n){var r=t.toLowerCase();return"options"in n?ji(n.label).toLowerCase().includes(r):ji(n[e]).toLowerCase().includes(r)}}(o),t.forEach((function(t){if("options"in t)if(r(e,t))i.push(t);else{var n=t.options.filter((function(t){return r(e,t)}));n.length&&i.push(na(na({},t),{},{options:n}))}else r(e,Li(t))&&i.push(t)})),i)},isValueDisabled:function(e,t){return Ri([e],t)[0].disabled},findValueOption:Ri,warningProps:lu,fillOptionsWithMissingValue:function(e,t,n,r){var o=Ti(t).slice().sort(),a=Ii(e),i=new Set;return e.forEach((function(e){e.options?e.options.forEach((function(e){i.add(e.value)})):i.add(e.value)})),o.forEach((function(e){var t,o=r?e.value:e;i.has(o)||a.push(r?(Wo(t={},n,e.label),Wo(t,"value",o),t):{value:o})})),a}}),du=function(e){Uo(n,e);var t=zo(n);function n(){var e;Do(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).selectRef=r.createRef(),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return Fo(n,[{key:"render",value:function(){return r.createElement(uu,(0,Ao.Z)({ref:this.selectRef},this.props))}}]),n}(r.Component);du.Option=zi,du.OptGroup=Yi;const mu=du;function pu(e){var t,n,o=e.className,a=e.placeholder,i=e.onChange,c=e.dropdownClassName,s=e.options,l=e.styleMode,u=e.baseClassName,d=void 0===u?"mi-select":u,m=function(e){return r.createElement("i",{className:"micon ".concat(e," ").concat(d,"-").concat(e)})};return r.createElement(mu,{id:"my-select",className:je()((t={},t["".concat(d)]=!0,t["".concat(d,"--").concat(l)]=!0,t["".concat(o)]=!!o,t)),dropdownClassName:je()("".concat(d,"-dropdown"),"".concat(d,"-dropdown--").concat(l),(n={},n["".concat(c)]=!!c,n)),placeholder:a,allowClear:!0,onChange:i,options:s,inputIcon:m("micon-down"),clearIcon:m(""),removeIcon:m("micon-close"),menuItemSelectedIcon:m("")})}var fu=function(){return(fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};functi,fu({},e,{baseClassName:"mi-select-v4",styleMode:"desktop"}))}var vu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},gu=(0,r.forwardRef)((function(e,t){var n=e.className,o=e.data,a=void 0===o?[]:o,i=e.onChange,c=e.value,s=e.name,l=void 0===s?"":s,u=e.valueField,d=void 0===u?"value":u,m=e.textField,p=void 0===m?"text":m,f=e.title,h=(vu(e,["className","data","onChange","value","name","valueField","textField","title"]),je()("mi-dropdown",n));return r.createElement("div",{ref:t,className:h},r.createElement("i",{className:"xiaomi icon-select-arrow"}),r.createElement("select",{name:l,value:c,onChange:function(e){return function(e){i(e)}(e)}},f&&r.createElement("option",{value:""},f),!!a.length&&a.map((function(e,t){return r.createElement(yu,{key:"".concat(l,"Option").concat(t),value:e[d]},e[p])}))))}));function yu(e){var t=e.value,n=e.children;return r.createElement("option",{value:t},n)}gu.displayName="DropdownPC";var bu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},_u=(0,a.o)(wu),Eu=(0,r.createContext)(_u);function Su(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=bu((0,r.useState)(_u),2),s=a[0],l=a[1];function u(e){var tturn{dat:n,errNo:r}}var d={method:"GET",url:"".concat((0,c.jr)(t.local).goSite,"/address/checkzipcode/europe"),basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{zipcode:""},withCredentials:!0};return r.createElement(i.h,{context:Eu,setState:l,defaultValue:_u,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:o)}function wu(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),{id:e[0]&&e[0].id||"",name:e[0]&&e[0].name||"",citys:e[0]&&Cu(e[0].citys||[])}}function Cu(e){return void 0===e&&(e={}),e.map((function(e){return{id:e.id||"",name:e.name||"",districtId:e.district_id||"",canCod:e.can_cod||"",enable:e.enable||"",limitCod:e.limit_cod||"",codType:e.cod_type||"",remark:e.remark||"",price:e.price||"",price1:e.price1||"",canAppliances:e.can_appliances||"",wholeDelivery:e.whole_delivery||"",districts:e.districts||[]}}))}var Nu=Eu,xu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},ku=(0,a.o)(Ou),Iu=(0,r.createContext)(ku);function Tu(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=xu((0,r.useState)(ku),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno,o=e.message,a=e.code;return{data:Ou(t||{},s.data),errMsg:n||o||"",errNo:r||a||0}}var d={method:"GET",url:"".concat((0,c.jr)(t.local).goSite,"/address/shippingmessage"),basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{province_id:"",province_name:"",city_id:"",city_name:"",district_id:"",district_name:"",street_id:"",street_name:"",zipcode:"",goods_id:""},withCredentials:!0};return r.createElement(i.h,{context:Iu,setState:l,defaultValue:ku,adapterError:function(e){return u(e)},adapter:,t){return void 0===e&&(e={}),{shippingList:e.shipping_list&&Pu(e.shipping_list||[])}}function Pu(e){return void 0===e&&(e=[]),e.map((function(e){return{name:e.name||"",type:e.type||"",expectTime:e.expectTime||"",tips:e.tips||"",money:e.money||"",pickupList:Mu(e.pickup_list||[]),slotTimeList:e.slotTime_list||[],description:e.description||"",isSupport:e.is_support||0}}))}function Mu(e){return void 0===e&&(e=[]),e.map((function(e){return{address:e.address||"",distance:e.distance||"",businessHours:e.business_hours||"",extend:e.extend||""}}))}var Au=Iu,Du=function(){return(Du=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Ru(e){var t,n=e.goodsId,o=Lu((0,r.useState)(""),2),a=o[0],i=o[1],c=Lu((0,r.useState)(!1),2),s=c[0],l=c[1],u=Lu((0,r.useState)(""),2),d=u[0],m=u[1],p=Lu((0,r.useState)([]),2),f=p[0],h=p[1],v=Lu((0,r.useState)([]),2),g=v[0],y=v[1],b=Lu((0,r.useState)({name:"",id:""}),2),_=b[0],E=b[1],S=(0,r.useContext)(Nu),w=(0,r.useContext)(Au),C=(0,r.useContext)(j),N=nn(),x=N.goodsName,k=void 0===x?"":x,I=N.goodsId,T=void 0===I?"":I,O=N.commodityId,P=void 0===O?"":O,M=(0,r.useMemo)((function(){var e=C.data.goodsInformation;return e.length>0?e[0].productId:""}),[C.data.goodsInformation]),A=function(){a.length<5&&h([]),m(""),y([]),l(!1),E({name:"",id:""})},D=Lu((0,zr.$)((function(e){return e.pipe((0,Ve.U)((function(e){return[Lu(e,1)[0].target.value.trim()]})),To(300),ze((function(e){return e[0].length>3})),(0,Xe.b)((function(e){var t,n=Lu(e,1)[0];t=n,S.getService({params:{zipcode:t}},(function(e){0===e.errNo?(h(e.data.citys),l(!1)):(l(!0),m(Oe.get("The postal code is wrong, please re-enter"))),(0,Xt.otExpose)({tip:{c:27,d:0,e:17255},elementName:0===e.errNo?"result":"no_result",prams:{province_id:"",province_name:"",city_id:e,city_name:t,district_id:"",district_name:"",street_id:"",street_name:"",zipcode:a,goods_id:n}},(function(e){0===e.errNo?y(e.data.shippingList):m(e.errMsg||""),l(!0)}))},R=function(e){var t,n=e.target.value||"",r=e.target.selectedIndex||0,o=!!f.length&&(null===(t=f[r-1])||void 0===t?void 0:t.id)||"";E(Du(Du({},_),{name:n,id:o})),r||A(),L(o,n)};return(0,r.useEffect)((function(){g.length&&m(g.map((function(e){return e.name})).join(","))}),[g]),(0,r.useEffect)((function(){_.id&&L(_.id,_.name)}),[n]),(0,r.useEffect)((function(){a.length<5&&A()}),[a]),(0,Le.m)((function(e){return e.pipe((0,no.w)((function(e){return"loading"===Lu(e,1)[0]&&(l(!0),m(Oe.get("Loading, please wait"))),[]})))}),w.ajaxStatus||"loading",[w.ajaxStatus]),r.createElement("div",{className:"zipCode-section"},r.createElement("p",{className:"zipCode-section__label"},Oe.get("This product supports same-day delivery/next-day delivery/self-pickuregions, please enter zipcode for query.")),r.createElement("div",{className:"zipCode-section__container"},r.createElement("div",{className:"zipCode-section__input-container input-container"},r.createElement("input",{placeholder:Oe.get("Please enter the zipcode"),className:"input-container__input",value:a,onChange:function(e){i(e.target.value)},onKeyUp:function(e){D([e])},onFocus:function(){(0,Xt.otClick)({tip:{a:16,b:9,c:8,d:1,e:11509},itemName:k,itemId:T,productId:M,commodityId:P,isOpenGA:!0})}})),r.createElement("div",{className:"zipCode-section__dropdown-container dropdown-container"},(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?r.createElement(hu,{placeholder:Oe.get("City"),onChange:function(e){R({target:{value:e}})},dropdownClassName:"city-dropdown",options:f.map((function(e){return{label:e.name,value:e.districtId}})),className:"city-select"}):r.createElement(gu,{className:"dropdown-container__dropdown",title:Oe.get("City"),data:f,value:_.name,valueField:"district_id",textField:"name",onChange:function(e){R(e)}}))),r.createElement("div",{className:"empty-box"}),s&&r.createElement("div",{className:"zipCode-section__msg msg"},!!g.length&&r.createElement("p",{className:"msg__title"},Oe.get("Support the following matching methods:")),r.createElement("p",{className:"msg__content"},d)))}var ju=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Fu=(0,a.o)(Bu),Vu=(0,r.createContext)(Fu);function Uu(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=ju((0,r.useState)(Fu),2),s=a[0],l=aata,n=e.errmsg,r=e.errno,o=e.message,a=e.code;return{data:Bu(t||[]),errMsg:n||o||"",errNo:r||a||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/address/region"),withCredentials:!0,method:"GET",params:{parent:""}};return r.createElement(i.h,{context:Vu,setState:l,defaultValue:Fu,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Bu(e){return void 0===e&&(e=[]),"{}"===JSON.stringify(e)&&(e=[]),e.map((function(e){return{regionId:e.region_id||0,regionName:e.region_name||""}}))}var Hu=Vu,Gu=function(){return(Gu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},zu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Wu(e){var t,n=e.goodsId,o=zu((0,r.useState)(""),2),a=o[0],i=o[1],c=zu((0,r.useState)(!1),2),s=c[0],l=c[1],u=zu((0,r.useState)(""),2),d=u[0],m=u[1],p=zu((0,r.useState)([]),2),f=p[0],h=p[1],v=zu((0,r.useState)([]),2),g=v[0],y=v[1],b=zu((0,r.useState)([]),2),_=b[0],E=b[1],S=zu((0,r.useState)([]),2),w=S[0],C=S[1],N=zu((0,rtate)({Province:"",City:"",District:"",Street:""}),2),T=I[0],O=I[1],P=zu((0,r.useState)({Province:{name:"",id:""},City:{name:"",id:""},District:{name:"",id:""},Street:{name:"",id:""}}),2),M=P[0],A=P[1],D={Province:"City",City:"District",District:"Street"},L=(0,r.useContext)(Hu),R=(0,r.useContext)(Au),j=nn(),F=j.goodsName,V=void 0===F?"":F,U=j.goodsId,B=void 0===U?"":U,H=j.productId,G=void 0===H?"":H,z=j.commodityId,W=void 0===z?"":z,Y=function(e,t){"Province"===e&&y(t),"City"===e&&E(t),"District"===e&&C(t),"Street"===e&&k(t)},X=function(e,t){if(-1!==t){if("Province"===e)return g[t-1]&&g[t-1].regionName;if("City"===e)return _[t-1]&&_[t-1].regionName;if("District"===e)return w[t-1]&&w[t-1].regionName;if("Street"===e)return x[t-1]&&x[t-1].regionName}return""},q=function(e,t){L.getService({params:{parent:t||""}},(function(n){0===n.errNo?"Province"!==e?t&&Y(e,n.data||[]):Y(e,n.data||[]):(m(n.errMsg),l(!0))}))},Z=function(e,t){e&&M.District.id&&M.City.id&&M.Province.id&&R.getService({params:{province_id:M.Province.id,province_name:M.Province.name,city_id:M.City.id,city_name:M.City.name,district_id:M.District.id,district_name:M.District.name,street_id:e,street_name:t,zipcode:"",goods_id:n}},(function(e){0===e.errNo?(h(e.data.shippingList),m(function(e){return e.map((function(e){return e.name})).join(",")}(e.data.shippingList))):m(e.errMsg),l(!0)}))},K=function(e,t){var n,r,o=e.target.value,a=e.target.selectedIndex;!function(e,t,n){var r="";"Province"===e?(O(Gu(Gu({},t),{City:"",District:"",Street:""})),r=JSON.stringify(Gu(Gu({},n),{City:{name:"",id:""},District:{name:"",id:""},Street:{name:"",id:""}}))):"City"===e?(O(Gu(Gu({},t),{District:"",Street:""})),r=JSON.stringify(Gu(Gu({},n),{District:{name:"",id:""},Street:{name:"",id:""}}))):"District"===e?(O(Gu(Gu({},t),{Street:""})),r=JSON.stringify(Gu(Gu({},n),{Street:{name:"",id:""}}))):(O(Gu({},t)),r=JSON.str(t,Gu(Gu({},T),(n={},n[t]=o,n)),Gu(Gu({},M),(r={},r[t]={name:X(t,a),id:o},r))),"Street"!==t?q(D[t],o):((0,Xt.otClick)({tip:{a:16,b:9,c:8,d:1,e:11509},itemName:V,itemId:B,productId:G,commodityId:W,isOpenGA:!0}),Z(e.target.value,X(t,a)))};return(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){if(zu(e,1)[0])return q("Province")})))}),0,[a]),(0,r.useEffect)((function(){i((new Date).toTimeString())}),[]),(0,r.useEffect)((function(){M.Street.id&&Z(M.Street.id,M.Street.name)}),[n]),(0,r.useEffect)((function(){""!==T.Province&&""!==T.City&&""!==T.District&&""!==T.Street||(m(""),l(!1),h([]))}),[T]),(0,Le.m)((function(e){return e.pipe((0,no.w)((function(e){return"loading"===zu(e,1)[0]&&(l(!0),m(Oe.get("Loading, please wait"))),[]})))}),R.ajaxStatus||"loading",[R.ajaxStatus]),r.createElement("section",{className:"product__section address-section"},(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&r.createElement("h3",{className:"product__section-title"},Oe.get("Delivery Method")),r.createElement("p",{className:"address-section__label"},Oe.get("This product supports motorcycle delivery services in certain areas, you can select the address to query.")),r.createElement("div",{className:"dropdown-container"},r.createElement(gu,{className:Re("dropdown-container__item",{"dropdown-container__item--selected":!!T.Province}),title:Oe.get("Province"),data:g,value:T.Province,valueField:"regionId",textField:"regionName",onChange:function(e){K(e,"Province")}}),r.createElement(gu,{className:Re("dropdown-container__item",{"dropdown-container__item--selected":!!T.City}),title:Oe.get("City"),data:_,value:T.City,valueField:"regionId",textField:"regionName",onChange:function(e){K(e,"City")}}),r.createElement(gu,{className:Re("dropdown-ected":!!T.District}),title:Oe.get("District"),data:w,value:T.District,valueField:"regionId",textField:"regionName",onChange:function(e){K(e,"District")}}),r.createElement(gu,{className:Re("dropdown-container__item",{"dropdown-container__item--selected":!!T.Street}),title:Oe.get("Street"),data:x,value:T.Street,valueField:"regionId",textField:"regionName",onChange:function(e){K(e,"Street")}})),s&&r.createElement("div",{className:"msg"},!!f.length&&r.createElement("p",{className:"msg__title"},Oe.get("Support the following matching methods:")),r.createElement("p",{className:"msg__content"},d),!!f.find((function(e){return"motorcycle"===e.type}))&&r.createElement("p",{className:"msg__content"},Oe.get("Payment before 3pm, motorcycle delivery supports on same-day delivery (postponed on non-working days)"))))}var Yu=n(8357);function Xu(e){var t,n,o=e.baseClassName,a=void 0===o?"quantity-section":o,i=e.styleMode,c=e.decreaseGoodsNum,s=e.increaseGoodsNum,l=e.minBuyNum,u=void 0===l?1:l,d=e.maxBuyNum,m=e.onChange,p=e.onBlur,f=e.onFocus,h=e.currentNum,v=e.isCustomDisabled,g=e.isReadOnly,y=void 0===g||g,b=e.minusIcon,_=void 0===b?r.createElement("i",{className:"xiaomi icon-minus"}):b,E=e.plusIcon,S=void 0===E?r.createElement("i",{className:"xiaomi icon-plus"}):E,w=(0,Yu.YB)();return r.createElement("div",{className:"".concat(a,"__content ").concat(a,"__content--").concat(i)},r.createElement("button",{className:Re("".concat(a,"__button"),(t={},t["".concat(a,"__button--disabled")]=Number(h)<=u,t)),disabled:!v&&Number(h)<=u,onClick:function(){return c()},"aria-label":w.get("Reduce the quantity")},_),r.createElement("input",{onFocus:function(e){return"function"==typeof f&&f(e)},onBlur:function(e){return"function"==typeof p&&p(e)},readOnly:y,value:h,onChange:function(e){return"function"==typeof m&&m(e)},className:"".concat(a,"__value")}),r.createElement("button",{className:Re("".concat(a,"__button"),(n={},n["".concat(a,"__button--disabled")]=Number(h)>=d,n)),disabled:!v&&Number(h)>=d,onClick:function(){return s()},"aria-label":w.get("Increase the quantity")}," ",S))}var qu=function(){return(qu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=argume[o]=t[o]);return e}).apply(this,arguments)};function Zu(e){return r.createElement(Xu,qu({},e,{baseClassName:"quantity-section-v4",styleMode:"desktop",minusIcon:r.createElement("i",{className:"micon micon-unfold-less"}),plusIcon:r.createElement("i",{className:"micon micon-unfold-more"})}))}var Ku=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{if(o)throw o.error}}return i};function Ju(){var e=(0,r.useContext)(Ie),t=e.state,n=e.dispatch,o=(0,r.useContext)(j),a=Ku((0,r.useState)(String(t.currentGoodsNum)),2),i=a[0],c=a[1],s=Ku((0,r.useState)(""),2),l=s[0],u=s[1],d=1===o.data.ction(e,t,r){return e.pipe(Ut(t),(0,Ve.U)((function(e){var t=Ku(e,2),n=Ku(t[0],3),r=n[0],o=n[1],a=n[2],i=Ku(t[1],1)[0],s=String(a).length,l=r.replace(/[^0-9]/g,""),u=l?String(Number(l)).slice(0,s+1):l;return c(u),[i,u,o,a]})),To(200),(0,Ve.U)((function(e){var t=Ku(e,4),r=(t[0],t[1]),o=t[2],a=t[3],i=r;r&&!Number.isNaN(Number(r))&&(Number(r)<o?(i=String(o),u(Oe.get("Down to {count} products can be entered",{count:o}))):Number(r)>=a?(i=String(a),u(Oe.get("Up to {count} products can be entered",{count:a}))):u(""),i&&(c(i),n({type:ie,payload:Number(i)})))})))}),void 0,[i]),1)[0],p=Ku((0,Le.m)((function(e){return e.pipe(ze((function(e){return 0!==Ku(e,1)[0]})),(0,Fe.x)(),(0,Ve.U)((function(e){var t=Ku(e,5),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],c=r.find((function(e){return e.goodsId===n})),s=!c||a.includes(c.goodsId)||io(c),l=c.weuTradeInConfig.isSupportTradeIn&&i,d=s||l?1:c.maxBuyNum;return s&&u(""),[d,o,s]})),(0,Xe.b)((function(e){var t=Ku(e,3),r=t[0],o=t[1];t[2];r<o&&(c(String(r)),n({type:ie,payload:r}))})),(0,Ve.U)((function(e){var t=Ku(e,3),n=t[0];t[1];return[n,t[2]]})))}),[1,!0],[t.currentGoodsId,t.goodsInfoActivityList,t.currentGoodsNum,t.bigTapDisabledIds,t.miExchange.weuTradeInInfo.isOptInTradeIn]),2on(e){switch(e){case"unsent":case"loading":case"error":return r.createElement("section",{className:"product__section quantity-section quantity-section--loading"},r.createElement("h3",{className:"product__section-title product__section-title--loading"}),r.createElement("div",{className:"quantity-section__content"}));case"success":return r.createElement("section",{className:"product__section quantity-section"},r.createElement("h3",{className:"product__section-title"},Oe.get("Quantity")),r.createElement("div",{className:"quantity-section__container"},r.createElement(Zu,{decreaseGoodsNum:function(){var e;(e=t.currentGoodsNum)<=1||((0,qt.g)("click",{category:"version_selection",label:"buy_product",section:"".concat(t.productName,"_").concat(e,"_decrease"),action:"quantity_button_click"}),u(""),c(String(e-1)),n({type:le,payload:1}))},increaseGoodsNum:function(){return e=t.currentGoodsNum,(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:"".concat(t.productName,"_").concat(e,"_increase"),action:"quantity_button_click"}),u(""),c(String(e+1)),void n({type:se,payload:1});var e},maxBuyNum:f,currentNum:i,isReadOnly:!d||h,onBlur:function(){return c(String(t.currentGoodsNum))},onChange:function(e){return m([e.target.value,1,f])}}),r.createElement("div",{className:"quantity-section__gap"}),r.createElement("span",{className:"quantity-section__notice"},l)));default:return r.createElement(r.Fragment,null)}}(o.ajaxStatus)}var $u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Qu=(0,a.o)(nd),ed=(0,r.createContext)(Qu);function td(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=$u((0,r.useState)(Qu),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:nd(t||{}),errMsg:n||"(t.local).goSite,"/exchange/code/check"),method:"POST",basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{code:""},withCredentials:!0};return r.createElement(i.h,{context:ed,setState:l,defaultValue:Qu,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function nd(e){return void 0===e&&(e={}),{couponInfo:rd(e.couponInfo||{}),textInfo:od(e.text||{})}}function rd(e){return void 0===e&&(e={}),{couponName:e.couponName||"",couponDesc:e.couponDesc||"",couponValue:e.money||"",couponValueDesc:e.moneyDesc||""}}function od(e){return void 0===e&&(e={}),{title:e.coupon||"",content:e.recycle||""}}var ad=ed,id=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function cd(){var e=(0,r.useContext)(Ie),t=e.state,n=e.dispatch,o=(0,r.useContext)(j),a=(0,r.useContext)(ad),i=(0,r.useMemo)((function(){return 0===t.currentGoodsId?t.goodsInfoActivityList[0]||{}:t.goodsInfoActivityList.find((function(e){return e.goodsId===t.currentGoodsId}))||{}}),[t.currentGoodsId]),c=id((0,r.useState)(!1),2),s=c[0],l=c[1],u=id((0,r.useState)(""),2),d=u[0],m=u[1],p=id((0,r.useState)(""),2),f=p[0],h=p[1],v=(0,r.useMemo)((function(){return"//alwaysnext-xiaomi.zwipit.com/"}),[]),g=(0,r.useMemo)((function(){return[Oe.get("Pre-sell your device and gain the benefit of a shopping subsidy"),Oe.get("Buy a new device to directly enjoy shopping coupon with your purchase"),Oe.get("Schedule pick-up recycling and receive free express delivery service."),Oe.get("Professional testing and quick payment (for the recycling of old devices)")]}),[]);var y=id((0,zr.$)((function(e){return e.pipe((0,Xe.b)((function(e){var t=id(e,2),n=t[0];t[1];if(n)return n.preventDefault()})),(0,Ve.U)((function(e){var t=id(e,2);t[0];return t[1]})),ze((function(e){var t=new RegExp("^[a-zA-Z0-9]*$");return!(8!==e.length||!t.test(e))||(h(Oe.get("Pls. enter the correct AlwaysNext Code!")),!1)})),$r(500),(0,no.w)((function(e){return a.getObservable({params:{code:e}}).pipe((0,Ve.U)((function(e){0!==e.errNo&&h(e.errMsg)})))})))}),null),1)[0];return r.createElement(r.Fragment,null,"success"===o.ajaxStatus&&o.data.showAlwaysNextateElement("section",{className:"product__section always-next-section"},r.createElement("h3",{className:"product__section-title"},Oe.get("AlwaysNext"),r.createElement("button",{className:"always-next-section__faq-btn",onClick:function(){return l(!0)},"aria-label":Oe.get("View the process")},r.createElement("i",{className:"xiaomi icon-question always-next-section__faq"}))),"success"!==a.ajaxStatus&&r.createElement("ul",{className:"always-next-section__button-list"},r.createElement("li",{className:"always-next-section__button-item"},r.createElement("button",{className:je()("always-next-section__button",{"always-next-section__button--active":!!t.isAlwaysNextActive}),onClick:function(){return function(e){n({type:e?X:q}),e&&(0,Xt.otClick)({tip:"16.9.6.1.4316",elementName:"participate",elementTitle:Oe.get("Participate"),productId:i.productId,goodsId:t.currentGoodsId})}(!t.isAlwaysNextActive)},"aria-label":Oe.get("Participate")},r.createElement("span",null,Oe.get("Participate"))))),!!t.isAlwaysNextActive&&"success"!==a.ajaxStatus&&r.createElement("form",{onSubmit:function(e){return y([e,d])},className:"always-next-section__form",noValidate:!0},r.createElement("label",{htmlFor:"alwaysNextCheckInput",className:"always-next-section__label"},Oe.get("Get a extra coupon with your AlwaysNext code in this device")),r.createElement("div",{className:"always-next-section__group"},r.createElement("input",{required:!0,disabled:"loading"===a.ajaxStatus,type:"text",id:"alwaysNextCheckInput",className:"always-next-section__input",placeholder:Oe.get("Pre-recycling order no. of the old device"),maxLength:8,value:d,autoComplete:"off",onChange:function(e){return m(e.target.value)}}),r.createElement("button",{disabled:"loading"===a.ajaxStatus||d.length<8,type:"submit",className:"always-next-section__submit","aria-label":Oe.get("Get")},"loading"===a.ajaxStatus?Oe.get("Loading..."):Oe.get("Get"))),r.createElement(ao,{msg:f,callback:function(){return h("")}}),r.createElement("a",{className:"always-next-section__link",target:"_blank",rel:"noreferrer",href:v,"aria-label":Oe.get("You don't have an AlwaysNext code yet? Click here to learn more."),onClick:function(){(0,Xt.otClick)({tip:"16.9.6.1.4317",elementName:"evaluate_now",elementTitle:Oe.get("You don't have an AlwaysNext code yet? Click ductId,goodsId:t.currentGoodsId})}},Oe.get("You don't have an AlwaysNext code yet? Click here to learn more."))),"success"===a.ajaxStatus&&r.createElement("div",{className:"always-next-section__result"},r.createElement("i",{className:"xiaomi icon-cart-checked always-next-section__result-icon"}),r.createElement("div",{className:"always-next-section__result-content"},r.createElement("h3",{className:"always-next-section__result-title"},a.data.textInfo.title),r.createElement("p",{className:"always-next-section__result-desc"},a.data.textInfo.content)))),r.createElement(vn.u,{isModalShow:s,isShowCloseIcon:!0,isBorderBottom:!0,closeModal:function(){return l(!1)},title:Oe.get("AlwaysNext Service"),extraClassName:"always-next-modal",confirm:function(){return window.open(v,"_blank")},confirmText:Oe.get("Pre-sell your old device")},r.createElement("div",{className:"always-next-modal__content"},r.createElement("ul",{className:"always-next-modal__list"},g.map((function(e,t){return r.createElement("li",{className:"always-next-modal__item",key:t},r.createElement("p",{className:"always-next-modal__item-content"},e))}))),r.createElement("p",{className:"always-next-modal__desc"},Oe.get("Mi AlwaysNext service is provided by Zwipit. For more information about the service, please refer to the provisions and conditions."))))):r.createElement(r.Fragment,null))}var sd=n(9361),ld=function(){return(ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ud=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},dd=function(e){var t,n=e.children,o=e.type,a=e.size,i=e.disabled,c=e.className,s=ud(e,["children","type","size","disabled","className"]),l="mi-btn",u=Re(l,((t={})["".concat(l,"--").concat(o)]=!!o,t["".concat(l,"--").concat(a)]=!!a&&"tag"!==o,t["".concat(l,"--disabled")]=!!i,t),c);return r.createElement("button",ld({disabled:i,className:u},s),n)};dd.defaultProps={type:"default",size:"normal",disabled:!1,className:"",children:null};var md=function(){return(md=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function pd(e){return r.createElement(dd,md({},e))}var fd=n(2895),hd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function vd(e){var t,n=e.local,a=e.routeStep,i=e.validImei,s=e.setValidImei,l=hd((0,r.useState)(""),2),u=l[0],d=l[1],m=hd((0,r.useState)(""),2),p=m[0],f=m[1],h=(0,r.useContext)(Ie).state.currentGoodsId,v=(0,r.useContext)(Gn),g=(0,o.UO)(),y=function(e){return/^\d{15}$/.test(e)},b=(0,r.useMemo)((function(){var e="".concat((0,c.jr)(n).wwwSite.m,"/support/downloadapp");e=e.includes("http")?e:"https:"+e;var t=h?"".concat((0,c.jr)(n).wwwSite.m,"/").concat(g.tag,"?gid=").concat(h,"&openBuy=1"):"".concat((0,c.jr)(n).wwwSite.m,"/").concat(g.tag,"&openBuy=1");return t=t.includes("http")?t:"https:"+t,"".concat(e,"?nativeOpenUrl=").concat(encodeURIComponent(t),"&openBuy=1")}),[g,h]);return r.createElement(r.Fragment,null,r.createElement("main",{className:"laku6-preview-modal__main laku6-preview-modal__code step2"},!(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&r.createElement("i",{className:"back-icon xiaomi icon-back",onClick:function(){return a(1)}}),r.createElement("div",{className:"laku6-preview-modal__code--left"},r.createElement(sd,{value:b,className:"laku6-preview-modal__code--left--image"}),r.createElement("p",{className:"laku6-preview-modal__code--left--text"},Oe.get("Please use the old device to scan the QR code and assess the device in the Mi Store app. You can scan the QR code to download the Mi Store app.")),r.createElement("div",{className:"app-store-box"},r.createElement("img",{src:"//i01.appmifile.com/webfile/globalimg/google-play.png"}),r.createElement("img",{src:"//i01.appmifile.com/webfile/globalimg/app-sotre.png"}))),r.createElement("div",{className:"laku6-preview-modal__code--right"},r.createElement("p",{className:"laku6-preview-modal__code--right--title"},Oe.get("Please use the device to be recycled to scan the QR code to open the Mi Store app. We will assess your device.")),r.createElement("p",{className:"laku6-preview-modal__code--right--desc"},Oe.get("- Mi Store not installed: Scan the QR code to download the app and then use the old device to scan again to begin the assessment."),r.createElement("br",null),Oe.get("- Mi Store already installed: Scan the QR c-modal__code--right--line"}),r.createElement("div",{className:"imei-box"},r.createElement("p",{className:"laku6-preview-modal__code--right--title"},Oe.get("Mi Store app assessment complete. You can enter the IMEI to view the assessment results.")),r.createElement("input",{maxLength:15,type:"text",className:"imei-box__input",placeholder:"Please enter IME",onChange:function(e){f(""),s(e.target.value)},onBlur:function(){y(i)||f(Oe.get("Incorrect input of IMEI, please enter 15 digit IMEI"))},value:i}),!!p&&r.createElement("span",{className:"imei-box__tips-msg"},p),r.createElement("p",{className:"imei-box__tips-info"},Oe.get("* Android devices support Mi Store v3.13 and above")," ",r.createElement("br",null),Oe.get("* iOS devices support Mi Store 2.13 and above")," ",r.createElement("br",null),Oe.get("The version is too low. Please update the Mi Store app to begin the assessment."))))),r.createElement(pd,{className:je()("laku6-preview-modal__button",{disabled:!y(i)||!!p}),onClick:function(){y(i)&&v.getService({params:{imei:i,third_party_type:1}},(function(e){if(0===e.errNo&&e.data&&e.data.imei)d(""),a(3);else switch(e.errNo){case 170008:d(Oe.get("This IMEI equipment is being trade-in for new and can't be added to the order again.Please enquire for trade-in orders"));break;case 170024:d(Oe.get("Error loading trade-in message. Please refresh and try again"));break;default:d(e.errMsg||Oe.get("Error loading trade-in message. Please refresh and try again"))}}))}},Oe.get("Next step")),r.createElement(fd.a,{alertMessage:u,onClose:function(){return d("")}}))}function gd(e){var t=e.routeStep,n=(0,r.useMemo)((function(){return[{id:1,image:"//i01.appmifile.com/webfile/globalimg/laku6-step-1.png",icon:"wrong-model",title:Oe.get("1. Assess your old device online and generate a [recycling price], which will be deducted from the amount you will need to pay for new products."),desc:Oe.get("Use the Mi Store app to assess your old device and we will offer you our best trade-in price.")},{id:2,image:"//i01.appmifile.com/webfile/globalimg/laku6-step-2.png",icon:"location",title:Oe.get("2. Xiaomi's partner will contact you to have an on-site assessment of your old device."),desc:Oe.get("Please make sure that the old device is in the same condition as you entered for the online assessment. If the old device is authentic, Xiaomi's partner will recycle the old device based on the online price estimate. If the old device is in a condition different to you entered for the online assessment, it will not be recycled and the trade-in process will be terminated. The new device will be returned.")},{id:3,image:"//i01.appmifile.com/webfile/globalimg/laku6-step-3.png",icon:"business-security-updates",title:Oe.getcycled and the new device is delivered."),desc:Oe.get("The old device is recycled and the new device is delivered. Enjoy the better experience of the new device.")},{id:4,image:"",icon:"warning",title:"4. HP Black Market",desc:"Mulai 18 April 2020, pemerintah memberlakukan Peraturan Menteri Komunikasi dan Informatika Republik Indonesia Nomor 11 Tahun 2019 Tentang Pengaturan Pengendalian Perangkat Telekomunikasi yang Tersambung dalam Jaringan Seluler Melalui Identifikasi IMEI (International Mobile Equipment Identity)."}]}),[]);return r.createElement(r.Fragment,null,r.createElement("main",{className:"laku6-preview-modal__main step1"},n.filter((function(e){var t;return!!(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))||e.id<=3})).map((function(e){var t;return r.createElement("div",{className:"laku6-preview-modal__tips",key:e.id},(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?r.createElement("i",{className:"micon micon-".concat(e.icon," laku6-preview-modal__tips--icon")}):r.createElement("img",{className:"laku6-preview-modal__tips--image",src:e.image}),r.createElement("div",{className:"laku6-preview-modal__tips--right"},r.createElement("h4",{className:"laku6-preview-modal__tips--title"},e.title),r.createElement("p",{className:"laku6-preview-moc)))}))),r.createElement(pd,{className:"laku6-preview-modal__button",onClick:function(){return t(2)}},Oe.get("Start trade-in")))}var yd=function(){return(yd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},bd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},_d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Ed(e){var t,n="mi-checkbox-orange",o=e.id||"MiCheckboxInput",a=(0,r.useRef)(null),i=_d((0,r.useState)(e.checked),2),c=i[0],s=i[1],l=e.className,u=e.style,d=e.name,m=(e.id,e.type,e.label),p=e.disabled,f=e.readOnly,h=e.onClick,v=e.onFocus,g=e.onBlur,y=e.autoFocus,b=e.value,_=bd(e,["className","style","name","id","type","label","disabled","readOnly","onClick","onFocus","onBlur","autoFocus","value"]),E=Object.keys(_).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=_[t]),e}),{}),S=je()(n,((t={})["".concat(n,"--checked")]=c,t["".concat(n,"--disabled")]=p,t)),w=je()(l,"".concat(n,"-wrapper"));return r.createElement("div",{className:w},r.createElement("span",{className:S,style:u},r.createElement("span",{className:"".concat(n,"-inner")}),r.createElement("input",yd({name:d,id:o,type:"checkbox",readOnly:f,disabled:p,className:"".concat(n,"-input"),onClick:h,onFocus:v,onBlur:g,onChange:function(t){var n=e.disabled,r=e.onChange;n||(s(t.target.checked),r&&r({target:{props:e,checked:t.target.checked}}))},autoFocus:y,ref:a,value:b},E))),m&&r.createElement("label",{className:"".concat(n,"-label"),htmlFor:o},m))}function Sd(){setTimeout((function(){var e,t=(null===(e=document.querySelector("#buy-root"))||void 0===e?void 0:e.clientHeight)||0,n=document.querySelector(".buy-container");t&&n&&(n.style.height=t+"px")}),300)}var wd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Cd(e){var t,n=e.routeStep,o=e.closePreviewModal,a=e.local,i=wd((0,r.useState)(!1),2),c=i[0],s=i[1],l=(0,r.useContext)(Gn),u=(0,r.useContext)(Ie).dispatch,d=l.data,m=d.imei,p=d.amountNumber,f=d.extendStr;return r.createElement(r.Fragment,null,r.createElement("main",{className:"laku6-preview-modal__main laku6-preview-modal__confim step3"},r.createElement("div",{className:"laku6-prodcut-info"},r.createElement("h4",{className:"laku6-prodcut-info--title"},Oe.get("Old device price estimate")),r.createElement("p",{className:"laku6-prodcut-info--price"},(0,sn.XY)(p.toString(),a)),r.createElement("p",{className:"laku6-prodcut-info--replace"},r.createElement("span",{className:"laku6-prodcut-info--name"},Oe.get("Device to be recycled:")," ",f.model),r.createElement("span",{className:"laku6-prodcut-info--replace--btn",onClick:function(){return n(2)}},Oe.get("Change the device")," >")),r.createElement("p",{className:"laku6-prodcut-info--imei"},r.createElement("span",null,Oe.get("IMEI:"))," ",r.createElement("span",null,m))),r.createElement("div",{className:"laku6-confirm-info"},r.createElement("p",null,Oe.get("You can add your trade-in order to this order and then use the [deducted price] to place the order and make payment.")),r.createElement("p",null,Oe.get("Our partner will have an on-site verification of your old device. Please make sure that the old device is in the same condition as you entered for the online assessment so that it can be recycled successfully.")),r.createElement("div",{className:"laku6-confirm-info__tc"},r.createElement(Ed,{checked:c,onChange:function(){return s(!c)}}),(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&r.createElement("label",{htmlFor:"MiCheckboxInput"},r.createElement("i",{className:"micon micon-".concat(c?"checkbox-checked":"checkbox-unchecked"," tc__checkbox")})),r.createElement("span",null,Oe.get("I agree with"),r.createElement("a",{href:"//www.mi.co.id/id/service/support/trade-in.html",target:"_blank",rel:"noreferrer",className:"agree-the-term__link"},Oe.get("Terms & Conditions")))))),r.createElement(pd,{className:je()("laku6-preview-modal__button",{disabled:!c}),onClick:function(){c&&(Sd(),u({type:ve,payload:m}),o())}},Oe.get("Add to this order")))}var Nd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},xd={1:Oe.get("Trade-in process"),2:Oe.get("Use the Mi Store app to assess"),3:Oe.get("Old device price estimate")};function kd(e){var t,n,o,a,i=e.local,c=e.platform,s=Nd((0,r.useState)(0),2),l=s[0],u=s[1],d=Nd((0,r.useState)(""),2),m=d[0],p=d[1],f=(0,r.useContext)(Ie),h=f.state,v=f.dispatch,g=h.miExchange.laku6ExchangeActive,y=(0,r.useContext)(Gn),b=y.data,_=function(){u(0),p("")},E=function(){((0,cn.bg)()||((0,cn.x4)({local:i,platform:c,callbackUrl:window.location.href}),0))&&u(1)},S=(0,r.useCallback)((function(e){return u(e)}),[l]),w=function(){y.resetService(),v({type:ge})},C=function(){return r.createElement("p",{className:"lakuSix-box__msg--title"},g?Oe.get("You have joined the trade-in programme"):Oe.get("Do you want to join the trade-in programme?"))},N=function(){return r.createElement("span",{className:"lakuSix-price-box__cancel",onClick:w},Oe.get("Tap to deselect"))};return r.createElement(r.Fragment,null,r.createElement("section",{className:"laku6-section product__section"},(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?r.createElement("div",{className:"laku6-section__header"},r.createElement("h3",{className:"product__section-title"},Oe.get("Trade-in")),g&&N()):r.createElement("h3",{className:"product__section-title"},Oe.get("Trade-in")),r.createElement("div",{className:Re("product__section-content lakuSix-box",{"width-exchange":g})},(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))&&r.createElement("i",{className:"micon micon-fill-trade-in lakuSix-box__icon"}),r.createElement("div",{className:"lakuSix-box__msg"},(null===(o="chunk_pc_v4")?void 0:o.includes("v4"))?!g&&C():C(),g&&r.createElement(r.Fragment,null,r.createElement("p",{className:"lakuSix-box__msg__model"},Oe.get("Device to be recycled:")," ",b.extendStr.model),r.createElement("p",{className:"lakuSix-box__msg__imei"},Oe.get("IMEI:")," ",b.imei)),r.createElement("a",{className:"lakuSix-box__msg--preview",onClick:E},Oe.get("View the trade-in process")," >")),g?r.createElement("div",{className:"lakuSix-price-box"},r.createElement("a",{className:"lakuSix-price-box__replace",onClick:function(){return S(2)}},Oe.get("Change the device")," >"),r.createElement("span",{className:"lakuSix-price-box__price"},(0,sn.XY)((0-b.amountNumber).toString(),i)),(null===(a="chunk_pc_v4")?void 0:a.includes("v4"))?r.createElement("span",{className:"lakuSix-price-box__prompt"},Oe.get("Recycling price")):N()):r.createElement("span",{className:"lakuSix-box__btn",onClick:E},Oe.get("YES")))),r.createElement(vn.u,{isModalShow:0!==l,closeModal:_,extraClassName:"laku6-preview-modal",isShowCloseIcon:!0},r.createElement("header",{className:"laku6-preview-modal__header"},xd[l]),function(e){switch(e){case 1:return r.createElement(gd,{routeStep:S});case 2:return r.createElement(vd,{routeStep:S,validImei:m,setValidImei:p,local:i});case 3:return r.createElement(Cd,{routeStep:S,closePreviewModal:_,local:i});default:return r.createElement(r.Fragment,null)}}(l)))}var Id=(0,r.createContext)({}),Td=function(){return(Td=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Od(e,t,n,r){var o=Td(Td({isOpenGA:!0,tip:{c:47,e:t},elementName:"trade_in",elementTitle:n},r),{extra:r});"click"===e&&(0,Xt.otClick)(o),"expose"===e&&(0,Xt.otExpose)(o)}function Pd(e){var t=e.setIsModalShow,n=(0,Yu.YB)(),o=(0,Yu.aU)(),a=(0,Yu.Fe)(),i=(0,r.useContext)(Id),c=i.tradeInConfig,s=c.description,d=c.kspContent,m=c.kspLink,p=c.isOutOfStock,f=c.spuId,h=c.productId,v=i.updateTradeInStep,g=i.updateTradeInInfo;return r.createElement("div",{className:je()("trade-in__card",{"trade-in__card--disabled":p}),role:"button",tabIndex:0,onClick:function(){if(!p){if(Od("click",27065,"start",{spuId:f,productId:h}),!(0,cn.bg)())return(0,cn.x4)({local:o,platform:a});v(l.SELECT_MODEL),g(u),t(!0)}}},r.createElement("img",{className:"card__image",src:"//i01.appmifile.com/webfile/globalimg/exchange/in/exchange-icon-v4.png",alt:"Xiaomi Trade In"}),r.createElement("div",{className:"card__content"},r.createElement("h4",{className:"card__title"},n.get("Start your trade-in")),r.createElement("p",{className:"card__detail"},s)),!!d&&r.createElement("div",{className:"card__tag"},m?r.createElement("a",{className:"card__link",href:m,target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()}},d):r.createElement("span",null,d)))}var Md=function(){return(Md=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ad=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Dd(e){var t,n=e.symbol,o=e.className,a=Ad(e,["symbol","className"]);return r.createElement("i",Md({className:Re((t={},t["micon micon-".concat(n)]=!!n,t["".concat(o)]=!!o,t))},a))}var Ld=function(){return(Ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Rd(e){(0,r.useContext)(Id).isMobile;return r.createElement(Dd,Ld({},e))}function jd(e){var t=e.credit,n=void 0===t?0:t,o=e.extraCreditForOldDevice,a=void 0===o?0:o,i=e.extraCreditForNewDevice,c=void 0===i?0:i,s=(0,Yu.YB)(),l=(0,Yu.aU)();function u(e){return(0,sn.XY)(e.toFixed(2),l)}return r.createElement("ul",{className:"trade-in-credit-detail"},!!n&&r.createElement("li",null,s.get("Your phone's value: {price}",{price:u(n)})),!!a&&r.createElement("li",null,s.get("Recycle device's bonus: {price}",{price:u(a)})),!!c&&r.createElement("li",null,s.get("New device's bonus: {price}",{price:u(c)})))}function Fd(){var e=(0,Yu.aU)(),t=(0,Yu.YB)(),n=(0,r.useContext)(Ie),o=n.state.miExchange.weuTradeInInfo,a=n.dispatch,i=(0,r.useContext)(Id),c=i.updateNoteModalState,s=i.tradeInConfig.isOutOfStock;return r.createElement("div",{className:je()("trade-in__card","trade-in__card--finished",{"trade-in__card--active":o.isOptInTradeIn&&!s,"trade-in__card--disabled":s}),role:"button",tabIndex:0,onClick:function(){s||a({type:o.isOptInTradeIn?Se:Ee})}},r.createElement("img",{className:"card__image",src:"//i01.appmifile.com/webfile/globalimg/exchange/in/exchange-icon-v4.png",alt:"Xiaomi Trade In"}),r.createElemt"},r.createElement("h4",{className:"card__title"},t.get("Trade-in device: {deviceName}",{deviceName:o.deviceName})),r.createElement("div",{className:"card__price-wrapper"},r.createElement("strong",{className:"card__price"},"- ".concat((0,sn.XY)(o.totalCredit.toFixed(2),e))),r.createElement("button",{className:"card__price-button",onClick:function(e){e.stopPropagation(),c("show",r.createElement(jd,{credit:o.credit,extraCreditForOldDevice:o.extraCreditForOldDevice,extraCreditForNewDevice:o.extraCreditForNewDevice}))}},r.createElement(Rd,{symbol:"warning",className:"card__price-tip"}))),r.createElement("p",{className:"card__detail"},t.get("* Estimated valuation, an E-mail with shipping label and guidance will send to you after the purchase is finished."))))}var Vd=function(){return(Vd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ud(e){var t,n,o=e.setIsModalShow,a=e.replaceClassName,i=void 0===a?"":a,c=e.replaceTitleClassName,s=void 0===c?"":c,d=(0,Yu.YB)(),m=(0,r.useContext)(Id),p=m.isMobile,f=m.tradeInInfo,h=m.tradeInConfig,v=m.updateTradeInStep,g=m.updateTradeInInfo;return r.createElement("section",{className:Re((t={product__section:!p},t["".concat(i||"root-product-panel__section")]=p,t["trade-in-section"]=!0,t))},r.createElement("div",{className:"trade-in__header"},r.createElement("h3",{className:Re((n={"product__section-title":!p},n["".concat(s||"root-product-panel__title")]=p,n["trade-in__title"]=!0,n))},d.get("Xiaomi Trade-in")),f.hasFinishedAtLeastOneAssessment&&r.createElement("button",{className:Re("header__button",{"header__button--disabled":h.isOutOfStock}),onClick:function(){h.isOutOfStock||(v(l.SELECT_MODEL),g(u),o(!0),Od("click",27073,"modify"))}},d.get("Modify >"))),f.hasFinishedAtLeastOneAssessment?r.createElement(Fd,null):r.createElement(Pd,Vd({},e)))}var Bd=n(261),Hd=function(){return(Hd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Gd(e){return r.createElement(Bd.u,Hd({},e,{baseClassName:"mi-modal-v4",styleMode:"mobile",closeIcon:r.createElement("i",{className:"micon micon-dialog-close","aria-label":"close"})}))}var zd=n(956),Wd=function(){return(Wd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Yd(e){return r.createElement(zd.a,Wd({},e,{baseClassName:"mi-loading",styleMode:"mobile"}))}var Xd=function(){return(Xd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function qd(e){var t=e.className,n={type:"inner",extClassNames:void 0===t?"":t};return(0,r.useContext)(Id).isMobile?r.createElement(Yd,Xd({},n)):r.createElement(Gt.a,Xd({},n))}function Zd(){return r.createElement("div",{className:"modal__content modal__content--loading"},r.createElement(qd,null))}var Kd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Jd=(0,a.o)(em),$d=(0,r.createContext)(Jd);function Qd(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Kd((0,r.useState)(Jd),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:em(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/tradein/models"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0};return r.createElement(i.h,{context:$d,setState:l,defaultValue:Jd,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!0===n,ajaxConfig:d},o)}function em(e){return void 0===e&&(e={}),{modelList:Array.from(e.list||[]).map((function(e){return function(e)return{id:Number(e.id||-1),name:String(e.name||""),pictureUrl:String(e.picture_url||"")}}(e)}))}}var tm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return &!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},nm=(0,m);function om(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=tmt=e.data,n=e.errmsg,r=e.errno;return{data:am(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/tradein/grading-form"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0};return r.createElement(i.h,{context:rm,setState:l,defaultValue:nm,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!0===n,ajaxConfig:d},o)}function am(e){return void 0===e&&(e={}),{questions:Array.from(e.questions||[]).map((function(e){return function(e){void 0===e&&(e={});return{id:Number(e.id||0),name:String(e.name||""),infoCards:Array.from(e.infocards||[]).map((function(e){r0===e&&(e={});return{text:String(e.text||""),images:Array.from(e.images||[]).map((function(e){return String(e||"")}))}}(e)})),answers:Array.from(e.answers||[]).map((function(e){return function(e){void 0===e&&(e={});return{id:Number(e.id||0),name:String(e.name||"")}}(e)}))}}(e)})),extras:Array.from(e.extras||[]).map((function(e){return function(e){void 0===e&&(e={});return{id:Number(e.id||0),name:String(e.name||""),infoCards:[{text:String(e.info||""),images:[]}],type:Number(e.type||1)}}(e)})).filter((function(e){return 1===e.type}))}}function im(e){var t=e.userInput,n=e.closeDropDown,o=(0,Yu.YB)(),a=(0,r.useContext)($d),i=(0,r.useContext)(rm),c=a.data.modelList,s=a.ajaxStatus,l=a.errMsg,u=(0,r.useContext)(Id),d=u.tradeInConfig,m=d.spuId,p=d.productId,f=u.updateTradeInStep,h=u.updateTradeInInfo;return r.createElement("div",{className:"modal__dropdown"},function(){switch(s){case"unsent":case"loading":return r.createElement(qd,{className:"dropdown__loader"});case"error":return r.createElement("p",null,l);case"success":return c.length?r.createElement("ul",{className:"dropdown__list"},c.map((function(e,o){return r.createElement("li",{key:"".concat(e.id,"-").concat(o),className:"dropdown__item"},r.createElement("button",{className:"dropdown__label",onClick:function(){return r=e,o=/^\d{15}$/.test(t),h({modelId:r.id,deviceId:o?t:"",deviceName:r.name,devicePictureUrl:r.pictureUrl,answers:{},isActivelyInputIMEI:o}),i.getService({params:{model_id:r.id}}),Od("click",27067,"click_device",{spuId:m,productId:p,searchWord:r.name}),n(),f("next"),void a.resetService();var r,o}},e.name))}))):r.createElement("p",null,o.get("No result found"));default:return r.createElement("p",null,o.get("Please type in your IMEI or device model"))}}())}function cm(e){var t,n=e.stepConfig,o=e.className;return n.length?r.createElement("div",{className:je()("step-display",(t={},t["".concat(o)]=!!o,t))},r.createElement("ul",{className:"step__list",style:{"--list-columns":n.length}},n.map((function(e,t){return r.createElement("li",{key:"".concat(e.symbol,"-").concat(t),className:"step__item"},r.createElement(Rd,{symbol:e.symbol,className:"step__icon"}),r.createElement("span",{className:"step__desc"},e.description))})))):null}function sm(){var e=(0,Yu.YB)(),t=(0,r.useContext)(Id).updateNoteModalState;return r.createElement("div",{className:"modal__footnote"},r.createElement(Rd,{symbol:"phone1",className:"footnote__icon"}),r.createElement("p",{className:"footnote__content"},e.get("We will help you transfer data, and securely wipe your personal info after the device is received.")),r.createElement("button",{className:"result__tip",onClick:function(){t("show",r.createElement("div",{className:"footnote__tip"},r.createElement("p",null,e.get("No worry about data transfer...")),r.createElement("p",null,e.get("Xiaomi MIUI system provides a seamless way to transfer your data from your old device at the time you first power on the new device.")),r.createElement("p",null,e.get("After the old device is ready for recycling...")),r.createElement("p",null,e.get("Our trade-in partner Foxway is highly professional about taking care of the old device. Your data will be securely wiped at the time device is received."))))}},r.createElement(Rd,{symbol:"warning",className:"footnote__icon tip__icon"})))}var lm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function um(){var e,t,n=(0,Yu.YB)(),o=[{symbol:"business-elevated-requirement",description:n.get("Search your device and answer the questions. Check the price, and then fill out the registration form if you'd like to continue.")},{symbol:"package",description:n.get("Send in your device with the free shipping label after you get the new device in place(within 14 days).")},{symbol:"payment",description:n.get("After we have received and valued your device, the refund will be wired to your bank account in 16 days.")}],a=(0,r.useContext)(Id),i=(0,r.useContext)($d),c=lm((0,r.useState)(a.tradeInInfo.deviceName||""),2),s=c[0],l=c[1],u=lm((0,r.useState)(!1),2),d=u[0],m=u[1],p=(0,r.useRef)(null);function f(){m(!1)}e=p,t=function(){return f()},(0,r.useEffect)((function(){function n(n){(null==e?void 0:e.current)&&n.composedPath().includes(e.current)||t(n)}return window.addEventListener("click",n),function(){return window.removeEventListener("click",n)}}),[]);var h=lm((0,zr.$)((function(e){return e.pipe((0,Xe.b)((function(e){return l(e)})),(0,Ve.U)((function(e){return e.trim()})),(0,Fe.x)(),(0,Xe.b)((function(e){e||i.resetService()})),ze((function(e){return!!e})),$r(500,yn.z,{leading:!1,trailing:!0}),(0,no.w)((function(e){return i.getObservable({params:{term:e}})})),(0,Ve.U)((function(){})))}),void 0),1)[0];return(0,r.useEffect)((function(){Od("expose",27066,"search_device")}),[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"modal__content modal__select-model"},r.createElement(cm,{stepConfig:o}),r.createElement("div",{className:"modal__form"},r.createElement("label",{htmlFor:"trade-in-device-info",className:"modal__label"},n.get("Please type in your IMEI or device model")),r.createElement("div",{className:"modal__search",ref:p},r.createElement("input",{type:"text",id:"trade-in-device-info",className:"modal__input",value:s,onChange:function(e){return h(e.target.value)},onFocus:function(){m(!0),h(s)},placeholder:n.get("You might easily find the IMEI by dialing *#06#")}),d&&!!s.trim()&&r.createElement(im,{userInput:s.trim(),closeDropDown:f})))),r.createElement(sm,null))}function dm(e){var t=e.isAllowProceed,n=void 0===t||t,o=e.proceedText,a=void 0===o?"":o,i=e.onBack,c=e.onProceed,s=(0,r.useContext)(Id),u=s.tradeInStep,d=s.updateTradeInStep,m=(0,Yu.YB)();return r.createElement("div",{className:je()("modal__actions",{"modal__actions--single":u===l.SELECT_MODEL})},u!==l.SELECT_MODEL&&r.createElement("button",{className:"modal__button",onClick:function(){d("back"),"function"==typeof i&&i()}},m.get("Back")),r.createElement("button",{className:"modal__button modal__button--pronounced",disabled:!n,onClick:function(){n&&(d("next"),"function"==typeof c&&c())}},a||m.get("Next")))}var mm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function pm(e){var t,n,o,a,i,c=e.index,seResult,m=mm((0,r.useState)(),2),p=m[0],f=m[1],h=mm((0,r.useState)(!1),2),v=h[0],g=h[1],y=(null==l?void 0:l.infoCards)||(null==u?void 0:u.infoCards)||[],b="radio"===s?!!(null===(t=null==l?void 0:l.infoCards[0])||void 0===t?void 0:t.text)||!!(null===(n=null==l?void 0:l.infoCards[0])||void 0===n?void 0:n.images.length):!!(null===(o=null==u?void 0:u.infoCards[0])||void 0===o?void 0:o.text),_="radio"===s?"radio-".concat(null==l?void 0:l.id,"-").concat(c):"checkbox-".concat(null==u?void 0:u.id,"-").concat(c),E=function(){return r.createElement("label",{className:"question__tip",htmlFor:"".concat(_,"-desc")},r.createElement(Rd,{symbol:"warning",className:"tip__icon"}))};return r.createElement("li",{className:"question__item"},"radio"===s&&!!l&&r.createElement("div",{className:"question__main"},r.createElement("div",{className:"question__header"},r.createElement("h4",{className:"question__name"},l.name),b&&E()),r.createElement("div",{className:"question__option-group"},l.answers.map((function(e,t){var n="answer-".concat(l.id,"-").concat(e.id,"-").concat(t);return r.createElement(fm,{key:n,id:n,name:_,value:e.id,content:e.name,isChecked:e.id===p,onChange:function(e){var t=Number(e.target.value);f(t),d(l.id,t)}})})))),"che"question__main"},r.createElement("div",{className:"question__header"},r.createElement("input",{type:"checkbox",id:_,className:"modal__input-controller",onChange:function(e){var t=e.target.checked;g(t),d(u.id,t)}}),r.createElement("h4",{className:"question__name"},r.createElement("label",{htmlFor:_,className:"option__label"},r.createElement(Rd,{symbol:v?"checkbox-checked":"checkbox-unchecked",className:"option__icon"}),r.createElement("span",{className:"option__content option__content--dark"},u.name))),b&&E())),b&&r.createElement("div",{className:"question__desc"},r.createElement("input",{type:"checkbox",id:"".concat(_,"-desc"),className:"modal__input-controller"}),r.createElement("div",{className:"desc__content"},!!(null===(a=y[0])||void 0===a?void 0:a.text)&&r.createElement("div",{className:"desc__text",dangerouslySetInnerHTML:{__html:y[0].text}}),!!(null===(i=y[0])||void 0===i?void 0:i.images.length)&&r.createElement("ul",{className:"desc__image-grid"},y[0].images.map((function(e,t){return r.createElement("li",{key:"".concat(e,"-").concat(t),className:"desc__image-item"},r.createElement("a",{className:"desc__image-link",href:e,target:"_blank",rel:"noreferrer"},r.createElement("img",{className:"desc__image",src:e,alt:""})))}))))))}function fm(e){var t=e.id,n=e.name,o=e.value,a=e.content,i=e.isChecked,c=e.onChange;return r.createElement("div",{key:t,className:"question__option"},r.createElement("input",{type:"radio",className:"modal__input-controller",id:t,name:n,value:o,onChange:c}),r.createElement("label",{htmlFor:t,className:"option__label option__label--radio"},r.createElement(Rd,{symbol:i?"radio-checked":"radio-unchecked",className:"option__icon"}),r.createElement("span",{className:"option__content"},a)))}var hm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},vm=(0,a.o)(bm),gm=(0,r.createContext)(vm);function ym(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=hm((0,r.useState)(vm),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:bm(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/tradein/price-quote"),method:"POST",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0,retryOptions:{maxRetryAttempts:3}};return r.createElement(i.h,{context:gm,setState:l,defaultValue:vm,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!0===n,ajaxConfig:d},o)}function bm(e){var t;return void 0===e&&(e={}),{isEligible:null!==(t=e.trade_in_weu_eligible)&&void 0!==t&&t,priceQuoteId:String(e.trade_in_weu_price_quote_id||""),credit:Number(e.trade_in_weu_old_device_evaluate_price||0),extraCreditForOldDevice:Number(e.trade_in_weu_old_device_bonus_incl_vat||0),extraCreditForNewDevice:Number(e.trade_in_weu_new_device_bonus_incl_vat||0),totalCredit:Number(e.trade_in_weu_offered_price||0)}}var _m=function(){return(_m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Em=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Sm(){var e=(0,r.useContext)(Id),t=(0,r.useContext)(rm),n=(0,r.useContext)(gm),o=e.tradeInInfo,a=e.tradeInConfig,i=e.updateTradeInInfo,c=t.data,s=c.questions,l=c.extras,u=t.ajaxStatus,d=(0,Yu.YB)(),f=Em((0,r.useState)(""),2),h=f[0],v=f[1],g=Em((0,r.useState)({}),2),y=g[0],b=g[1],_=(0,r.useRef)(new Set),E=Em((0,r.useState)(!0),2),S=E[0],w=E[1],C=(0,r.useRef)(null),N=(0,r.useMemo)((function(){return"success"===t.ajaxStatus&&Object.keys(y).length===s.length&&(!!o.deviceId||(!S||h.trim().length>=5))}),[t.ajaxStatus,y,s,o.deviceId,S,h]);function x(e,t){b((function(n){var r;return _m(_m({},n),((r={})[e]=[t],r))}))}function k(e,t){t?_.current.add(e):_.current.delete(e)}(0,r.useEffect)((function(){Od("expose",27068,"evaluation")}),[]);return r.createElement(r.Fragment,null,function(){switch(u){case"unsent":case"loading":return r.createElement(Zd,null);case"success":return r.createElement("div",{className:"modal__content modal__question-form"},r.createElement("ul",{className:"modal__group"},s.map((function(e,t){return r.createElement(pm,{key:"question-".concat(e.id,"-").concat(t),index:t,questionType:"radio",questionInfo:e,updateResult:x})})),l.map((function(e,t){return r.createElement(pm,{key:"extra-".concat(e.id,"-").concat(t),index:t,questionType:"checkbox",extraInfo:e,updateResult:k})})),!o.isActivelyInputIMEI&&r.createElement(r.Fragment,null,r.createElement("li",{className:"question__item question__item--grid"},r.createElement("label",{htmlFor:"grading-device-id",className:"question__label"},d.get("Please type in your IMEI or device model")),r.createElement("input",{type:"checkbox",id:"grading-device-id-controller",className:"modal__input-controller",onChange:function(e){var t,n=!e.target.checked;w(n),n?null===(t=null==C?void 0:C.current)||void 0===t||t.focus():v("")}}),r.createElement("input",{type:"text",id:"grading-device-id",className:"modal__input",value:h,ref:C,onChange:function(e){var t=e.target.value;p.test(t)&&v(t)},placeholder:d.get("You might easily find the IMEI by dialing *#06#")})),r.createElement("li",{className:"question__item"},r.createElement("div",{className:"question__main"},r.createElement("div",{className:"question__header"},r.createElement("label",{htmlFor:"grading-device-id-controller",className:je()("question__name","option__label",{"option__label--highlight":!S})},r.createElement(Rd,{symbol:S?"checkbox-unchecked":"checkbox-checked",className:"option__icon"}),r.createElement("span",{ct--dark"},d.get("Can't find IMEI/SN? Skip and continue the process"))),r.createElement("label",{className:"question__tip",htmlFor:"question-imei"},r.createElement(Rd,{symbol:"warning",className:"tip__icon"})))),r.createElement("div",{className:"question__desc"},r.createElement("input",{type:"checkbox",id:"question-imei",className:"modal__input-controller"}),r.createElement("div",{className:"desc__content"},r.createElement("div",{className:"desc__text"},r.createElement("p",{className:"desc__paragraph"},d.get("No worry if you can't find the IMEI/SN of your device!")),r.createElement("p",{className:"desc__paragraph"},d.get("Just make sure to select the right model and we will help you figure out what's the IMEI/SN once the old device arrived at our trade-in partner Foxway so you can finish the trade-in.")),r.createElement("p",{className:"desc__paragraph"},d.get("After the device is received, Foxway will take the complete check and share the final price. Any stolen, locked device will be returned and the trade-in order will be canceled.")))))))));case"error":return r.createElement("p",null,d.get("Oops, something went wrong.  Please try again latter or contact custermer service."));default:return r.createElement(Zd,null)}}(),r.createElement("div",{className:"modal__footer"},r.createElement(dm,{isAllowProceed:N,onProceeim():"",t=Array.from(_.current);i({deviceId:e,answers:y,extras:t}),n.getService({params:{grading_form_result:JSON.stringify({answers:y,extras:t,model_id:o.modelId,item_identifier:e,trade_in_weu_campaign_id:a.campaignId===m?"":a.campaignId})}}),Od("click",27069,"evaluation_".concat(S?"A":"B","_next"))}})))}var wm=n(8746),Cm=function(){return(Cm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Nm(e){return r.createElement(wm.b,Cm({},e))}var xm=function(){return(xm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},km=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Im(){var e=(0,Yu.aU)(),t=(0,Yu.YB)(),n=km((0,r.useState)(!1),2),o=n[0],a=n[1],i=(0,r.useContext)(Id),s=(0,r.useContext)(Ie).dispatch,l=(0,r.useContext)(gm),u=i.isMobile,d=i.tradeInInfo,m=d.modelId,p=d.deviceId,f=d.deviceName,h=d.devicePictureUrl,v=d.answers,g=d.extras,y=d.isActivelyInputIMEI,b=i.tradeInConfig,_=i.updateTradeInInfo,E=i.updateNoteModalState,S=l.data,w=S.priceQuoteId,C=S.credit,N=S.extraCreditForOldDevice,x=S.extraCreditForNewDevice,k=S.totalCredit;(0,r.useEffect)((function(){Od("expose",27070,"value")}),[]);var I;return r.createElement(r.Fragment,null,r.createElement("div",{className:"modal__content trade-in__result"},r.createElement("p",{className:"result__prompt"},t.get("Great! Here is the value of your device")),r.createElement("h4",{className:"result__header result__header--price"},r.createElement("span",null,N||x?t.get("{credit} + {extraCredit} (Exclusive bonus)",{credit:(0,sn.XY)(C.toFixed(2),e),extraCredit:(0,sn.XY)((N+x).toFixed(2),e)}):(0,sn.XY)(C.toFixed(2),e)),r.createElement("button",{className:"result__tip",onClick:function(){E("show",r.createElement(jd,{credit:C,extraCreditForOldDevice:N,extraCreditForNewDevice:x}))}},r.createElement(Rd,{symbol:"warning",className:"tip__icon"}))),r.createElement("div",{className:"result__device-info"},!!h&&r.createElement("img",{className:"device-info__image",src:h,alt:f,loading:"lazy"}),r.createElement("ul",{className:"device-info__list"},r.createElement("li",{className:"device-info__item"},"Model: ".concat(f)),r.createElement("li",{className:"device-info__item"},"IMEI/Serial num: ".concat(p||t.get("Not able to find the IMEI/SN"))))),r.createElement("div",{className:"result__instruction"},(I={inputStr:t.get("A free shipping label and a guidance will be sent to you by our trade-in service partner Foxway via email after your purchase of the new product on mi.com. The final value of the trade-in coupon might change according to the type of the new product you purchase. A coupon will be sent to your Xiaomi account as the trade-in bonus only when both of the following requirements are met: 1. The 14 days cooling-off period of the new product ends and no refund or exchange of the new product is made during this period. 2. Foxway receives the trade-in device and completes the whole trade-in process. The coupon will be available for your next order. The coupon can be used for purchases on mi.com that exceed the value of the coupon. Please note that it may take up to 15 working days from the purchase of the product on mi.com to the receipt of the coupon. For more information please visit {tradeIn}.",{tradeIn:"#@@#".concat:["".concat((0,c.jr)(e).wwwV4Site.pc,"/support/terms/trade-in-terms")]},r.createElement("p",{className:"trade-in-info"},u?r.createElement(Nm,xm({},I)):r.createElement(ln.b,xm({},I))))),r.createElement("div",{className:"result__term"},r.createElement("input",{type:"checkbox",id:"trade-in-term-controller",className:"modal__input-controller ",onChange:function(e){return a(e.target.checked)}}),r.createElement("label",{htmlFor:"trade-in-term-controller",className:"option__label"},r.createElement(Rd,{symbol:o?"checkbox-checked":"checkbox-unchecked"}),r.createElement("span",null,function(){var n={inputStr:t.get("I have read and agree to the {tcLink} and {privacyPolicyLink}.",{tcLink:"#@@#".concat(t.get("trade-in program terms"),"#@@#"),privacyPolicyLink:"#@@#".concat(t.get("privacy policy"),"#@@#")}),linkArr:["".concat((0,c.jr)(e).wwwV4Site.pc,"/support/terms/trade-in-terms"),"".concat((0,c.jr)(e).wwwV4Site.pc,"/support/policy/trade-in-privacy-policy")]};return u?r.createElement(Nm,xm({},n,{target:"_blank"})):r.createElement(ln.b,xm({},n,{target:"_blank"}))}())))),r.createElement("div",{className:"modal__footer trade-in__result-footer"},r.createElement(dm,{isAllowProceed:o,proceedText:t.get("Apply"),onBack:function(){_(Object.assign({},{answers:{},extras:[]},y?{}:{deviceId:""}))},onProceed:function(){var e,t={priceQuoteId:w,credit:C,extraCreditForOldDevice:N,extraCreditForNewDevice:x,totalCredit:k};s({type:we,payload:xm({isOptInTradeIn:!0,modelId:m,deviceId:p,deviceName:f,answers:v,extras:g},t)}),_({hasFinishedAtLeastOneAssessment:!0,recordedPriceQuote:(e={},e[b.campaignId]=t,e)}),Od("click",27071,"value_next"),!u&&Sd()}}),r.createElement(sm,null)))}function Tm(){var e=(0,Yu.YB)();return(0,r.useEffect)((function(){Od("expose",27072,"value_decline")}),[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"modal__content trade-in__result trade-in__result--non-eligible"},r.createElement("h4",{className:"result__header"},e.get("Sorry...")),r.createElement("p",null,e.get("We are not able to finish your trade-in request at this time since the device condition didn't pass the evaluation.")),r.createElement("p",null,e.get("We will keep working to make Xiaomi trade-in eligible for more and more devices very soon. Thank you for supporting Xiaomi!"))),r.createElement("div",{className:"modal__footer trade-in__result-footer"},r.createElement(dm,{proceedText:e.get("Close")})))}function Om(){var e=(0,Yu.YB)(),t=(0,r.useContext)(gm),n=t.ajaxStatus,o=t.data.isEligible;return function(){switch(n){case"unsent":case"loading":return r.createElement(Zd,null);case"success":return o?r.createElement(Im,null):r.createElement(Tm,null);case"error":return r.createElement("p",null,e.get("Oops, something went wrong.  Please try again latter or contact custermer service."));default:return r.createElement(Zd,null)}}()}var Pm=function(){return(Pm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Mm(e){var t,n,o=e.isModalShow,a=e.isNoteModalShow,i=e.noteModalContent,c=e.setIsModalShow,s=(0,Yu.YB)(),u=(0,r.useContext)(Id),d=u.isMobile,m=u.tradeInStep,p=u.updateNoteModalState,f=((t={})[l.SELECT_MODEL]=s.get("Xiaomi Trade-in"),t[l.GRADING_FORM]=s.get("We are almost there..."),t[l.PRICE_QUOTE]=s.get("Xiaomi Trade-in"),t),h=((n={})[l.SELECT_MODEL]=um,n[l.GRADING_FORM]=Sm,n[l.PRICE_QUOTE]=Om,n)[m]||null,v={isModalShow:o&&m!==l.FINISHED,closeModal:function(){return c(!1)},isShowCloseIcon:!0,extraClassName:je()("trade-in__modal",{"trade-in__modal--visible":m===l.SELECT_MODEL}),title:f[m]||"Xiaomi Trade-in",children:h?r.createElement(h,null):null},g={extraClassName:"trade-in__tip-modal",isModalShow:a,closeModal:fuon(){return("OK"),children:i};return d?r.createElement(r.Fragment,null,r.createElement(Gd,Pm({},v)),r.createElement(Gd,Pm({},g)))t,null,r.createElement(vn.u,Pm({},v)),r.createElement(vn.u,Pm({},g)))}var Am=function(){return(Am=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Dm(e){return r.createElement(Er,Am({},e,{styleMode:"mobile"}))}var Lm=function(){return(Lm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Rm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function jm(e){var t,n,o,a=e.currentGoodsInfo,i=e.replaceClassName,c=void 0===i?"":i,s=e.replaceTitleClassName,u=void 0===s?"":s,p=(0,Yu.YB)(),f=Rm((0,r.useState)(l.SELECT_MODEL),2),h=f[0],v=f[1],g=Rm((0,r.useState)(d),2),y=g[0],b=g[1],_=Rm((0,r.useState)(!1),2),E=_[0],S=_[1],w=Rm((0,r.useState)(!1),2),C=w[0],N=w[1],x=Rm((0,r.useState)(null),2),k=x[0],I=x[1],T=Rm((0,r.useState)(""),2),O=T[0],P=T[1],M=(0,r.useMemo)((function(){var e;return!!(null===(e="chunk_pc_v4")?void 0:e.includes("mobile"))}),[]),A=(0,r.useContext)(gm),D=(0,r.=D.state.miExchange.weuTradeInInfo;function j(e){b((function(t){return Object.assign({},t,e)}))}(0,r.useEffect)((function(){var e,t;if(null===(e=null==a?void 0:a.weuTradeInConfig)||void 0===e?void 0:e.isSupportTradeIn){var n=(null===(t=null==a?void 0:a.weuTradeInConfig)||void 0===t?void 0:t.campaignId)||m;y.hasFinishedAtLeastOneAssessment&&(Object.prototype.hasOwnProperty.call(y.recordedPriceQuote,n)?L({type:we,payload:y.recordedPriceQuote[n]}):A.getService({params:{grading_form_result:JSON.stringify({answers:R.answers,model_id:R.modelId,item_identifier:R.deviceId,trade_in_weu_campaign_id:n===m?"":n})}},(function(e){var t;if(0===(null==e?void 0:e.errNo)){var r={priceQuoteId:e.data.priceQuoteId,credit:e.data.credit,extraCreditForOldDevice:e.data.extraCreditForOldDevice,extraCreditForNewDevice:e.data.extraCreditForNewDevice,totalCredit:e.data.totalCredit};L({type:we,payload:r}),j({recordedPriceQuote:Lm(Lm({},y.recordedPriceQuote),(t={},t[n]=r,t))})}else P((null==e?void 0:e.errMsg)||p.get("Oops, something went wrong.  Please try again latter or contact custermer service."))})))}}),[null===(t=null==a?void 0:a.weuTradeInConfig)||void 0===t?void 0:t.isSupportTradeIn,null===(n=null==a?void 0:a.weuTradeInConfig)||void 0===n?void 0:n.campaignId]);var F;return(null===(o=null==a?void 0:a.weuTradeInConfig)||void 0===o?void 0:o.isSupportTradeIn)?r.createElement(Id.Provider,{value:{isMobile:M,tradeInConfig:Lm(Lm({},a.weuTradeInConfig),{isOutOfStock:io(a),spuId:a.spuId,productId:a.productId}),tradeInStep:h,tradeInInfo:y,updateTradeInStep:function(e){"number"==typeof e&&v(e),"next"===e&&v((h+1)%Object.keys(l).length),"back"===e&&v(h-1)},updateTradeInInfo:j,updateNoteModalState:function(e,t){"show"===e&&(N(!0),I(t)),"close"===e&&N(!1)}}},r.createElement(Ud,{setIsModalShow:S,replaceClassName:c,replaceTitleClassName:u}),r.createElement(Mm,{isModalShow:E,isNoteModalShow:C,noteModalContent:k,setIsModalShow:S}),(F={msg:O,callback:function(){return P("")}},M?r.createElement(Dm,Lm({},F)):r.createElement(wr,Lm({},F)))):null}function Fm(e){var t=(0,Yu.aU)(),n=(0,Yu.Fe)();return r.createElement(Qd,{nationConfig:{local:t,platform:n}},r.createElement(om,{nationConfig:{local:t,platform:n}},r.createElement(ym,{nationConfig:{local:t,platform:n}},r.createElement(jm,Lm({},e)))))}var Vm=function(){return(Vm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Um(e){return r.createElement(Fm,Vm({},e))}var Bm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Hm(e){var t=e.local,n=e.bundleData,o=(0,r.useContext)(Ie),a=o.state,i=o.dispatch,c=(n=n.filter((function(e){return!e.isOutOfStock&&e.isOnSale&&!!e.bundleId}))).findIndex((function(e){return e.bundleId===a.currentBundleIds[0][0]})),s=Bm((0,r.useState)(c),2),l=s[0],u=s[1],d=Bm((0,r.useState)(a.currentBundleIds[0][0]),2),m=d[0],p=d[1],f=Bm((0,r.useState)([0]),2),h=f[0],v=f[1],g=Bm((0,r.useState)({goodsIndex:0,goodsList:[]}),2),y=g[0],b=g[1],_=Bm((0,r.useState)(!1),2),E=_[0],S=_[1],w=Bm((0,zr.$)((function(e,t){return e.pipe(Ut(t),(0,Ve.U)((function(e){var t=Bm(e,2),r=t[0],o=t[1],a=Bm(r,2),c=a[0],s=a[1];if(c===o[0])return i({type:pnfo.length,d=Array(l).fill(0);return v(d),x(c,s),u(c),p(s),[c]})),(0,Xe.b)((function(e){var t=Bm(e,1)[0],r=~t?n[t].bundleName||"":"UNSELECT";(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:"".concat(a.productName,"_").concat(r),action:"bundle_button_click"})})))}),[c]),2),C=w[0],N=Bm(w[1],1)[0];function x(e,t){var r=n[e].styleListInfo,o=r.map((function(e){return Object.keys(e).length})),a=r.map((function(e,t){return h[t]||0})).map((function(e,t,n){for(var r=t+1,a=r===o.length?n[t]+1:n[t],i=1,c=r;c<o.length;c++)i=o[c]*i;return a*i})).reduce((function(e,t){return e+t}));i({type:me,payload:{bundleId:t,accessoryId:a}})}return n.length?r.createElement("section",{className:"product__section bundle-section"},r.createElement("h3",{className:"product__section-title"},Oe.get("Bundle")),r.createElement("ul",{className:je()("bundle-section__bar",{"bundle-section__bar--active":-1!==N})},n.map((function(e,n){var o,a=Number(e.marketPrice)-Number(e.price);return r.createElement("li",{className:je()("bundle-section__item",{"bundle-section__item--active":N===n}),key:n,onClick:function(){return C([n,e.bundleId])}},(null===(o="chunk_pc_v4")?void 0:o.Element("i",{className:"micon micon-close"}),r.createElement("p",{className:"bundle-section__name",title:e.bundleName},e.bundleName),r.createElement("p",{className:"bundle-section__sale-price"},(0,sn.XY)(Number(e.price).toFixed(2),t)),r.createElement("p",{className:"bundle-section__save-price"},a?Oe.get("save {money}",{money:(0,sn.XY)(Number(a).toFixed(2),t)}):r.createElement("span",null," ")))}))),-1!==N&&!!n[N].styleListInfo.length&&r.createElement("div",{className:je()("bundle-section__content",{noTopLeftBorderRadius:0===N&&1!==n.length,noTopRightBorderRadius:N===n.length-1&&1!==n.length,noTopBorderRadius:1===n.length})},r.createElement("ul",{className:"bundle-section__list"},n[N].styleListInfo.map((function(e,n){var o,a=Object.keys(e),i=Object.values(e);i.forEach((function(e,t){e.goodsId=a[t]}));var c=i[h[n]]||i[0],s=c.image,u=c.name,d=c.spec_value,p=c.price;return r.createElement("li",{className:"bundle-section__goods",key:"".concat(N,"_").concat(n)},r.createElement("img",{className:"bundle-section__left",src:s}),r.createElement("div",{className:"bundle-section__right"},r.createElement("div",{className:"bundle-section__main"},r.createElement("p",{className:"bundle-section__name"},u),r.createElement("p",{className:"bundle-section__goods-price"},(0,sn.XY)(p,t))),i.length>1&&r.createElement("div",{className:"bundle-section__pick-main",onMouseEnter:function(){return function(e,t){b({goodsIndex:e,goodsList:t}),S(!0)}(n,i)},onMouseLeave:function(){return S(!1)}},d,(null===(o="chunk_pc_v4")?void 0:o.includes("v4"))?r.createElement("i",{className:"micon micon-down"}):r.createElement("i",{className:"xiaomi icon-select-arrow"}),E&&y.goodsIndex===n&&r.createElement("div",{className:"bundle-section__picker-list"},y.goodsList.map((function(e,t){return r.createElement("div",{className:h[y.goodsIndex]===t?"bundle-section__picker-item bundle-section__picker-item--active":"bundle-section__picker-item",key:e.goodsId,onClick:function(){!function(e,t){h[e]=t,v(h),x(l,m),S(!1),b({goodsIndex:y.goodsIndex,goodsList:y.goodsList})}(y.goodsIndex,t)}},e.spec_value)}))))))}))))):r.createElement(r.Fragment,null)}var Gm={data:{hasSecondConfirmDialog:[{api:!0,locals:["es","fr","it","pl"]}]},html:{},js:{},css:{}},zm=function(){return(zm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Wm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Ym(e){var t,n=e.local,o=e.platform,a=e.isDisabledAll,i=e.insurancesData,s=e.insuranceDispatch,l=e.insuranceActionType,u=e.currentGoodsId,d=e.currentInsuranceIds,m=e.currentProductType,p=e.currentGoodsNum,f=e.pageType,h=e.insurancesItemCls,v=void 0===h?"":h,g=e.selectDispatch,y=e.currentProductId,b=(0,zn.h)(n,Gm),_=b.data&&!!b.data.hasSecondConfirmDialog,E=Wm((0,r.useState)(!1),2),S=E[0],w=E[1],C=Wm((0,r.useState)(-1),2),N=C[0],x=C[1],k=Wm((0,r.useState)(0),2),I=k[0],T=k[1],O=Wm((0,r.useState)(!1),2),P=O[0],M=O[1],A=Wm((0,r.useState)(""),2),D=A[0],L=A[1],R=nn();if((0,Le.m)((function(e){return e.pipe((0,Fe.x)((function(e,t){return Wm(e,1)[0]===Wm(t,1)[0]})),(0,Xe.b)((function(e){var t=Wm(e,3),n=(t[0],t[1]),r=t[2];x(-1),T(0),(r||[]).map((function(e,t){return e.find((function(e){return e.insuranceId===n[t]}))||{}})).forEach((function(e,t){return s({type:l,payload:{sortIndex:t,insuranceId:e.insuranceId||0}})}))})))}),-1,[u,d,i]),(0,r.useEffect)((function(){if(f){Array.from(i||[]).flatMap((function(e){return e})).every((function(e){return e.isDisabled}))&&(0,Xt.otExpose)($("expose","invalid",0,1));var e=(0,Xt.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeSelector:".insurance-section__list li"},(function(e){return $("expose","item",e.id,e.pos,{sortWay:e.sort,elementTitle:e.name})}));return function(){e&&e.disconnect()}}}),[i]),(0,r.useEffect)((function(){if(1!==f){var e=(0,Xt.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeSelector:".insurance-section__list li"},(function(e){return $("expose","item",e.id,e.pos)}));return function(){e&&e.disconnect()}}}),[i]),!i||!i.length)return r.createElement(r.Fragment,null);var j=!!i&&i[N]&&i[N][I]||{},F=j.insuranceId,V=j.insuranceIcon,U=j.insuranceTitle,B=j.insurancePrice,H=j.insuranceMarketPrice,G=j.insuranceDescribe,z=j.learnMoreLink,W=j.insuranceTag,Y=j.insuranceHtmlText,X=j.insuranceValidPeriod;function q(){w(!1),L(""),_&&(M(!1),!f&&$("click","cancel",F,I))}function Z(e,t,n){e.stopPropagation(),e.preventDefault();var r=t||(e.currentTarget||{}).href||"";(0,qt.g)("click",{category:"version_selection",label:"common_protect"===W?"mi_protect":"mi_screen_protect",section:m,action:"learn_more",targetUrl:r});var o=n||Array.from(i||[]).slice(0,N).flatMap((function(e){return e})).length+I+1;return 1===f?$("click","more",F,o,{link:r}):$("click","(e,t,r,a){e.stopPropagation();var s="".concat((0,c.jr)(n).wwwSite[o],"/about/miprotecttc/");(0,qt.g)("click",{category:"version_selection",label:"common_protect"===t?"mi_protect":"mi_screen_protect",section:m,action:"terms_link",targetUrl:s});var l=r||Array.from(i||[]).slice(0,N).flatMap((function(e){return e})).l?"terms_dialog":"terms",a||0,l,{link:s})}function J(e){return{__html:e}}function $(e,t,n,r,o){var a=(1===f?{invalid_expose:[{c:4,d:r,e:2819},"products","invalid","invalid"],item_expose:[{c:4,d:r,e:2813},"products",n,""],more_click:[{c:4,d:r,e:3032},"products",n,"learn_more"],terms_click:[{c:4,d:r,e:2,chosen_click:[{c:4,d:r,e:2815},"products",n,"select_protect"],cancel_click:[{c:4,d:r,e:2816},"products",n,"cancel_select_protect"],dialog_click:[{c:5,d:r,e:2817},"protect",n,"confirm"]}:{item_expose:[{a:16,b:9,c:22,d:1,e:17114},"insurance"],agree_click:[{a:16,b:9,c:22,d:0,e:17112},"agree"],terms_click:[{a:16,b:9,c:22,d:0,e:17112},"terms"],dialog_expose:[{a:16,b:9,c:23,d:1,e:17115},"insurance_pop"],more_dialog_click:[{a:16,b:9,c:23,d:0,e:17113},"learn_more"],terms_dialog_click:[{a:16,b:9,c:23,d:0,e:17113},"terms"],chosen_click:[{a:16,b:9,c:23,d:0,e:17113},"agree"],cancel_click:[{a:16,b:9,c:23,d:0,e:17113},"cancel"],confirm_click:[{a:16,b:9,c:23,d:1,e:17113},"confirm"]})["".concat(t,"_").concat(e)]||null;if(a){var i=1===f?{tip:a[0]||"",modulePos:0,moduleTitle:a[1]||"",elementName:a[2]||"",elementTitle:a[3]||"",extra:o||{}}:{tip:a[0]||"",elementName:a[1]||"",elementTitle:String(n),productId:y,goodsId:u};if(1!==f&&(i.isOpenGA=!0,i.itemName=R.goodsName||"",i.itemId=R.goodsId||"",i.commodityId=R.commodityId||""),"click"!==e)return i;(0,Xt.otClick)(i)}}var Q=null===(t="chunk_pc_v4")?void 0:t.includes("v4"),ee=function(e,t){return r.createElement("div",{className:"insurance-section__price-wrap"},r.createElement("p",{className:"insurance-section__price"},r.createElement(un.n,{salePrice:Number(e.insurancePrice).toFixed(2),delPrice:Number(e.insuranceMarketPrice).toFixed(2)})),r.createElement("i",{className:"insurance-section__more"},!!e.insuranceValidPeriod&&r.createElement(r.Fragment,null,"(",e.insuranceValidPeriod,")"),d[t]===e.insuranceId&&r.createElement("span",null,"x",p)))},te=r.createElement("div",{className:"insurance-section-box__price-wrap"},r.createElement("div",{className:"insurance-section-box__price"},r.createElement(un.n,{salePrice:Number(B).toFixed(2),delPrice:Number(H).toFixed(2),isShowFrom:!1})),!!X&&r.createElement("i",{className:"insurance-section-box__valid"},"(",X,")")),ne={isModalShow:S,confirm:function(){return function(){if(P){w(!1),M(!1),L(""),s({type:l,payload:{sortIndex:N,insuranceId:F}}),g&&g(i[N][I],!0),(0,qt.g)("click",{category:"version_selection",labeprotect":"mi_screen_protect",section:m,action:"protect_select"});var e=Array.from(i||[]).slice(0,N).flatMap((function(e){return e})).length+I+1;$("click",1===f?"dialog":"confirm",F,e),1!==f&&$("click","agree",F,e)}else L(Oe.get("Please tick the consent clause first."))}()},cancel:function(){return q()},closeModal:function(){return q()},confirmText:Oe.get("Confirm Purchase"),cancelText:"".concat(Oe.get("Cancel")),extraClassName:"insurance-section-modal"};return Q&&(ne=zm(zm({},ne),{isShowCloseIcon:!0,title:Oe.get("Protection Xiaomi Care"),isBorderBottom:!0})),r.createElement(r.Fragment,null,Array.from(i||[]).map((function(e,t){return r.createElement("ul",{className:"insurance-section__list",key:t},Array.from(e||[]).map((function(o,c){var u=Array.from(i||[]).slice(0,t).flatMap((function(e){return e})).length+c+1,p=o.isDisabled||a||e.some((function(e){return e.isDisabled}));re{className:je()("insurance-section__item",[v],{"insurance-section__item--active":d[t]===o.insuranceId,"insurance-section__item--disabled":p}),"data-ot-expose":'{"pos": '.concat(u,', "id": ').concat(o.insuranceId,', "sort": "').concat(p?"invalid":"valid",'", "name": "').concat(o.insuranceTitle,'" }'),key:"".concat(t,"_").concat(c,"_").concat(o.insuranceId),onClick:function(){return function(e,t,n,r,o){if(!o&&!a){var i=n.insuranceId,c=n.insuranceTag;if(d[e]===i)return s({type:l,payload:{sortIndex:e,insuranceId:0}}),g&&g(n,!1),void(1===f&&$("click","cancel",i,r));x(e),_?(w(!0),T(t),!f&&(0,Xt.otExpose)($("expose","dialog",i,r))):(s({type:l,payload:{sortIndex:e,insuranceId:i}}),g&&g(n,!0),(0,qt.g)("click",{category:"version_selection",label:"common_protect"===c?"mi_protect":"mi_screen_protect",section:m,action:"protect_select"})),1===f&&$("click","chosen",i,r)}}(t,c,o,u,p)}},r.createElement("img",{className:"insurance-section__left",src:o.insuranceIcon,alt:o.insuranceTitle}),r.createElement("div",{className:"insurance-section__right"},r.createElement("div",{className:"insurance-section__main"},r.createElement("p",{className:"insurance-section__name"},o.insuranceTitle),"in"===n&&r.createElement("a",{href:o.learnMoreLink,target:"_blank","aria-label":Oe.get("Learn more >"),onClick:function(e){return Z(e,o.learnMoreLink,u)},className:"insurance-section__learn-more",rel:"noreferrer"},Oe.get("Learn more >")),!Q&&ee(o,t)),Q&&ee(o,t),r.createElement("div",{className:"insurance-section__desc-wrap"},r.createElement("div",{className:"insurance-section__desc"},!Q&&r.createElement("span",{className:"insurance-section__words"},o.insuranceDescribe,r.createElement("a",{href:o.learnMoreLink,target:"_blank","aria-label":Oe.get("Learn more >"),onClick:function(e){return Z(e,o.learnMoreLink,u)},className:"insurance-section__learn-more",rel:"noreferrer"},Oe.get("Learn more >"))),f&&p?function(e){if(!e.length)return r.createElement(r.Fragment,null);var t=[e.some((function(e){return e.isBought})),!1,e.some((function(e){return!e.isAdditional}))],n=e.findIndex((function(e){return e.isBought})),o=e.findIndex((function(e){return!e.isAdditional})[~n?n:0].insuranceTitle}),Oe.get("You still have an insurance replenishment order not paidnsuranceName}” for your device",{insuranceName:e[-1!==o?o:0].insuranceTitle})],i=t.findIndex((function(e){return!0===e}));return r.createElement("div",{className:"insurance-section__terms-wrap insurance-section__terms-wrap--error"},r.createElement("span",{className:"insurance-section__label-wrap"},a[i]||Oe.get("An error occurred")))}(e):r.cteElement("div",{className:"insurance-section__checkbox-wrap"},r.createElement("div",{className:je()("insurance-section__checkbox","insurance-section__checkbox--mini",{"insurance-section__checkbox--checked":d[t]===o.insuranceId,"insurance-section__checkbox--disabled":p})},r.createElement("i",{className:"xiaomi icon-check"}))),r.createElement("span",{className:"insurance-section__label-wrap",dangerouslySetInnerHTML:J(o.insuranceHtmlText),onClick:function(e){return K(e,o.insuranceTag,u,o.insuranceId)}}))))))})))})),r.createElement(vn.u,zm({},ne),r.createElement("div",{className:"insurance-section-box"},r.createElement("div",{className:"insurance-section-box__header"},r.createElement("div",{className:"insurance-section-box__logo"},r.createElement("img",{src:V,className:"insurance-section-box__icon",alt:U})),r.createElement("div",{className:"insurance-section-box__info"},r.createElement("div",{className:"insurance-section-box__title"},r.createElement("div",{className:"insurance-section-box__name"},U),!Q&&te),Q&&te,r.createElement("div",{className:"insurance-section-box__des"},G),r.createElement("a",{href:z,"aria-label":Oe.get("Learn more >"),onClick:function(e){return Z(e,z)},className:"insurance-section-box__learn-more"},Oe.get("Learn more >")))),r.createElement(r.Fragment,null,r.createElement("div",{className:"insurance-section-box__content"},r.createElement("div",{className:"insurance-section-box__checkbox-wrap"},r.createElement("div",{className:je()("insurance-section-box__checkbox","insurance-section-box__checkbox--mini",{"insurance-section-box__checkbox--checked":P}),onClick:function(){P||f||$("click","chosen",F,I),M(!P)}},!Q&&r.createElement("i",{className:"xiaomi icon-check"}))),r.createElement("span",{className:"insurance-section-box__label-wrap",dangerouslySetInnerHTML:J(Y),onClick:function(e){return K(e,W)}})),r.createElement(ao,{msg:D,isAlwaysShow:!0,callback:function(){return L("")}})))))}var Xm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function qm(e){var t=(0,r.useContext)(Ie),n=t.state,o=t.dispatch,a=e.local,i=e.platform,c=e.isDisabledAll,s=e.insurancesData,l=e.hasInsurancesFn,u=Xm((0,r.useMemo)((function(){var e=n.goodsInfoActivityList.find((function(e){return e.goodsId===n.currentGoodsId}))||{};return[e.mrpProductCategory||"",e.productId||""]}),[n.currentGoodsId]),2),d=u[0],m=u[1],p=(0,r.useMemo)((function(){return((s||[]).find((function(e){return e.goodsId===n.currentGoodsId}))||{}).list||[]}),[n.currentGoodsId]);return(0,r.useEffect)((function(){l(!!p.length)}),[p]),p.length?r.createElement("section",{className:"product__section insurance-section insurance-section--desktop"},r.createElement("h3",{className:"product__section-title"},Oe.get("Mi Phone Protection")),r.createElement(Ym,{local:a,platform:i,isDisabledAll:c,insurancesData:p,insuranceDispatch:function(e){return o(e)},insuranceActionType:fe,currentGoodsId:n.currentGoodsId,currentInsuranceIds:n.currentInsuranceIds,currentProductType:d,currentGoodsNum:n.currentGoodsNum,currentProductId:m})):r.createElement(r.Fragment,null)}var Zm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Km="//i01.appmifile.com/webfile/globalimg/i18n_frontend/buyproduct-salecore/";function Jm(e){var t=e.score,n=Zm((0,r.useState)(""),2),o=n[0],a=n[1];return(0,r.useEffect)((function(){!function(e){e>=0&&e<2?a("level1"):e>=2&&e<4?a("level2"):e>=4&&e<6?a("level3"):e>=6&&e<8?a("level4"):e>=8&&e<=10&&a("level5")}(Number(t))}),[]),r.createElement("div",{className:"salescore-section__list-scorebox ".concat(o)},r.createElement("div",{className:"salescore-section__list-scoreshow"},t.split("").map((function(e,t){return"."===e?r.createElement("img",{key:"list-point".concat(t),className:"salescore-section__list-point",src:"".concat(Km,"pc_version02_separator.png"),alt:"img"}):r.createElement("img",{key:"list-number".concat(t),className:"salescore-section__list-number",src:"".concat(Km,"pc_version02_num").concat(e,".png"),alt:"img"})}))))}function $m(e){var t=(0,Yu.YB)(),n=e.local,o=e.afterSaleRankData,a=e.hasInsurancesData?1:0;return"fr"===n?r.createElement("section",{className:"product__section salescore-section"},r.createElement("div",{className:"salescore-section__list"},r.createElement(Jm,{score:o}),r.createElement("div",{className:"salescore-section__list-repaire"},"Indice de réparabilité")),r.createElement("div",{className:"salescore-section__link"},r.createElement("div",{className:"salescore-section__link-learn",onClick:function(){window.open("/".concat(n,"/support/repairability?i=").concat(a))}},t.get("Learn more >")))):r.createElement(r.Fragment,null)}var Qm=(0,r.createContext)([]);function ep(){return(0,r.useContext)(Qm)}var tp={PINCODE:0,SELECT_MODEL:1,IMEI:3,CONFIRM_PRICE:2,DISCLAIMER:4,FINISHED:5},np=0,rp=1,op={pincode:"",brand:{brandId:"",name:""},model:{modelId:"",name:""},storage:{modelId:"",name:""},imei:"",imgUrl:"",amount:0,subsidyAmount:0};function ap(e,t){return e.filter((function(e){return e.activityName===t})).map((function(e){return e.goodsId}))}function ip(e,t){return e.find((function(e){return e.goodsId===t}))}var cp=function(){return(cp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},sp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},lp=(0,r.memo)((function(e){var t,n=e.setIsModalShow,o=e.local,a=e.platform,i=e.setExchangeProcedure,s=(0,r.useContext)(Ie),l=s.state,u=s.dispatch,d=(0,r.useContext)(ot).data,m=sp(ep(),2)[1],p=sp((0,r.useState)(!1),2),f=p[0],h=p[1],v=sp((0,r.useState)(l.goodsInfoActivityList.find((function(e){return e.goodsId===l.currentGoodsId}))),2),g=v[0],y=v[1],b=(0,r.useMemo)((function(){return 0===l.currentGoodsId?l.goodsInfoActivityList[0]||{}:l.goodsInfoActivityList.find((function(e){return e.goodsId===l.currentGoodsId}))||{}}),[l.currentGoodsId]);return(0,r.useEffect)((function(){var e=l.goodsInfoActivityList.find((function(e){return e.goodsId===l.currentGoodsId}));y(e),h(ap(d.activityList,"exchange").includes(l.currentGoodsId))}),[l.currentGoodsId,null==d?void 0:d.activityList]),r.createElement("div",{className:"mi-exchange-initial-content__content",onClick:function(){(0,Xt.otClick)({tip:{c:9,d:1,e:15380},moduleTitle:"miexchange",productId:b.productId,goodsId:b.goodsId}),(0,Xt.otClick)({tip:{b:9,c:47,e:33696},elementName:"trade_in",elementTitle:"mi_exchange",buttonName:"buy_with_exchange",pageType:"version-selection",isOpenGA:!0}),(0,cn.bg)()?(null==d?void 0:d.exchangeCouponList.length)?function(){var e=d.exchangeCouponList[0];m((function(t){return cp(cp({},t),{imei:e.imei,brand:{name:e.brand,brandId:e.brandId,isHot:e.isHot},model:{name:e.model,modelId:e.modelId},imgUrl:e.image,amount:e.amount,subsidyAmount:e.subsidyAmount})}));var t=e.amount,n=e.subsidyAmount,r=(ip(d.activityList,l.currentGoodsId)||{}).reductionPrice||0;u({type:ye,payload:{isInExchangeActive:!0,inExchangeAmount:t+n+r}}),i(tp.FINISHED)}():((0,Xt.otExpose)({tip:{b:9,c:47,e:33700},elementName:"trade_in",elementTitle:"enter_pincode",pageType:"version-selection",isOpenGA:!0}),n(!0)):(0,cn.R9)({local:o,platform:a,callbackUrl:window.location.href})}},r.createElement("img",{className:"mi-exchange-initial-content__image",src:(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?"//i01.appmifile.com/webfile/globalimg/exchange/in/exchange-icon-v4.png":"//i01.appmifile.com/webfile/globalimg/exchange/in/exchange-icon.png",alt:Oe.get("Trade in with MI")}),r.createElement("div",{className:"mi-exchange-initial-content__infomation"},r.createElement("h3",{className:"mi-exchange-initial-content__infomation-title"},Oe.get("Mi Exchange")),r.createElement("p",{className:"mi-exchange-initial-content__infomation-content"},r.createElement("span",{className:"mi-exchange-initial-content__infomation-content-description"},null==g?void 0:g.exchangeDesc," "),r.createElemion(e){e.stopPropagation(),(0,Xt.otClick)({tip:{b:9,c:47,e:33696},elementName:"trade_in",elementTitle:"mi_exchange",buttonName:"T&C",pageType:"version-selection",isOpenGA:!0}),window.location.assign("".concat((0,c.jr)(o).wwwSite[a],"/service/exchangetc/"))},className:"mi-exchange-initial-content__infomation-content-link"},Oe.get("T&C >"))),r.createElement("span",{className:"mi-exchange-initial-content__link","aria-label":Oe.get("Start")},Oe.get("Buy with Exchange"))),f&&r.createElement("span",{className:"mi-exchange-initial-content__content-tag",onClick:function(e){(0,Xt.otClick)({tip:{c:11,d:1,e:15382},moduleTitle:"event_banner",productId:b.productId,goodsId:b.goodsId}),(0,Xt.otClick)({tip:{b:9,c:47,e:33696},elementName:"trade_in",elementTitle:"mi_exchange",buttonName:"extra_bonus",pageType:"version-selection",isOpenGA:!0}),e.stopPropagation(),window.location.assign("".concat((0,c.jr)(o).wwwSite[a],"/miexchange/"))}},Oe.get("Extra Bonus")))}));function up(e){var t,n=e.usedPhoneValue,o=void 0===n?0:n,a=e.additionalValue,i=void 0===a?0:a,c=e.additionalDiscount,s=void 0===c?0:c,l=e.dumpAmountCount,u=void 0===l?0:l,d=e.oldExchangeDesc,m=void 0===d?"":d,p=e.newExchangeDesc,f=void 0===p?"":p,h=e.maxPriceExchangeDesc,v=void 0===h?"":h,g=e.platform,y=void 0===g?"m":g,b=e.showTip;return r.createElement("p",{className:Re("exchange-confirm-price__desc-tip-".concat(y),(t={},t["exchange-confirm-price__desc-tip-".concat(y,"--show")]=b,t))},o>0&&r.createElement("p",null,Oe.get("used phone's value:")," ",o),i>0&&r.createElement("p",null,Oe.get("Additional value")," ",i),(o>0||i>0)&&m,s>0&&r.createElement("p",null,Oe.get("Additional discount")," ",s),s>0&&f,u>0&&r.createElement("p",null,Oe.get("Bump up offer")," ",u),v)}var dp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},mp=(0,a.o)(hp),pp=(0,r.createContext)(mp);function fp(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=dp((0,r.useState)(mp),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:hp(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/createcoupon"),method:"POST",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0};return r.createElement(i.h,{context:pp,setState:l,defaultValue:mp,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function hp(e){return void 0===e&&(e={}),{couponId:e.coupon_id||0,amount:e.amount||0,subsidyAmount:e.subsidy_amount||0,subsidyAmount1:e.subsidy_amount1||0,brand:e.brand||"",model:e.model||"",modelId:e.modelId||"",image:e.image||"",imei:e.imei||"",bumpUpSubsidyAmounts:e.bump_up_subsidy_amount||0}}var vp=pp,gp=function(){return(gp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},bp=function(e){var t=e.tradeInAmount,n=e.subsidyAmount,o=e.bumpUpSubsidyAmount,a=e.reduction,i=e.exchangePriceTip,c=e.newExchangeDesc,s=e.oldExchangeDesc,l=e.productId,u=e.goodsId,d=e.showTip;return(0,r.useEffect)((function(){(0,Xt.otExpose)({tip:{b:9,c:16,d:1,e:15395},moduleTitle:"hover",productId:l,goodsId:u})})),r.createElement(up,{usedPhoneValue:t,additionalValue:n,additionalDiscount:a,dumpAmountCount:o,oldExchangeDesc:s,newExchangeDesc:c,maxPriceExchangeDesc:i,showTip:d,platform:"pc"})},_p=function(e){var t,n=(0,r.useContext)(Ie),o=n.state,a=n.dispatch,i=yp(ep(),2),s=i[0],l=i[1],u=(0,r.useContext)(ot),d=(0,r.useContext)(vp),m=yp((0,r.useState)(!0),2),p=m[0],f=m[1],h=yp((0,r.useState)(s.amount),2),v=h[0],g=h[1],y=yp((0,r.useState)(!1),2),b=y[0],_=y[1],E=yp((0,r.useState)(!1),2),S=E[0],w=E[1],C=e.setExchangeProcedure,N=e.setIsModalShow,x=e.local,k=e.platform,I=yp((0,r.useState)(s.imgUrl),2),T=I[0],O=I[1],P=(0,tn.S)(x).currencySymbol,M=u.data,A=(ip(M.activityList,o.currentGoodsId)||{}).reductionPrice||0,D=(ip(M.activityList,o.currentGoodsId)||{})[s.model.modelId]||0,L=yp((0,r.useState)(s.subsidyAmount+A+D),2),R=L[0],j=L[1],F=yp((0,r.useState)(s.subsidyAmount),2),V=F[0],U=F[1],B=yp((0,r.useState)(D),2),H=B[0],G=B[1],z=(0,r.useMemo)((function(){return 0===o.currentGoodsId?o.goodsInfoActivityList[0]||{}:o.goodsInfoActivityList.find((function(e){return e.goodsId===o.currentGoodsId}))||{}}),[o.currentGoodsId]);return(0,r.useEffect)((function(){a(p?{type:ytId,goodsId:z.goodsId}),(0,Xt.otClicktName:"trade_in",elementTitle:"mi_exchanctive:!1,inExchangeAmount:0}33700},elementName:"trade_in",ele(Ie).state,n=e.isProcedureFinished;return r.createEle,t.props,t.childr 12on af())}function pf(e){for(;!of(tf());)ef();return rf(e,qp)}var ff="-ms-",hf="-moz-",vf="-webkit-",gf="comm",yf="rule",bf="decl";function _f(e,t){for(vae.return=e.return||e.value;case gf:return"";case yf:e.value=e.props.join(",")}return Hp(n=_f(e.children,r))?e.return=e.value+"{"+n+"}":""}function Sf(e,t){switch(fu+e+e;case 5737:case 4201:case 3177:case 3433:case 6356:case 5844:case 3191:case 664se ase 4810:case 6968:case 2756:return vf+e+hf+e+ff+e+e;case 6828:case 4268:return vf+e+ff+e+e;case 6165:return vf+e+ff+"flex-"+e+e;case 5187:return vf+e+Fp(e,/(\w+).+(:[^]+)/,vf+e+f")+vf+e+fse 4765:if(Hp(e)-1-t>6)switch(Up(e,t+1)){case 109:if(45!==Up(e,t+4))break;case 102:return Fp(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+hf+(108==Up(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Vp(e,"stretch")?Sf(Fp(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Up(e,t+1))break;case 6444:switch(Up(e,Hp(e)-3-(~Vp(e,"!important")&&10))){case 107:return Fp(e,":",":"+vf)+e;case 101:return Fp(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vf+(45===Up(e,14)?"inline-":"")+"box$3$1"+vf+"$2$3$1"+ff+"$2box$3")+e}break;case 5936:switch(Up(e,t+11)){case 114:return vf+e+ff+Fp(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vf+e+ff+Fp(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vf+e+ff+Fp(e,/[svh]\w+-[tblr]{2}/,"lr wf,[0S+=sf(e,2,-2),0)}function kf(e,t,n,r){return Jp(e,t,n,b=e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.paren,a=If(t,o),i=n.props,c=0,s=0;c<a.length;c++)for(var l=0;l<i.length;l++,s++)"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Mf=[function(e,t,n,r){if(!e.return)switch(e.type){case bf:e.return=Sf(e.value,e.length);break;case"@keyframes":return _f([$p(Fp(e.value,"@","@"+vf),e,"")],r);case yf:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _f([$p(Fp(t,/:(read-\w+)/,":-moz-$1"type.fe("data-em};var f={key:t,sheet:new Dp({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:i,registered:{},insert:a};return f.sheet.hydrate(c),f};function Df(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Lf=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}};const Rf=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16)>>0).toString(36)};const jf={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeighO_([^ll!null!=t&&void 0!==t+"}":Bf(i)&&(r+=Hf(a)+":"+Gf(a,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var c=zf(e,t,i);switch(a){case"animation":case";var tt||!qf.call(t,"css"))return r.createElement.apply(voi,n,rh(r))},theme:(0,r.useContext)(Jf)}itable:!0}):e[t]=n,e}function sh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lh(e){for(varnPropertyDescriptors(n)):sh(Object(n)).forEach((fuy(o)&&t[o]&&r.push("".concat(fh(e,o)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var vh=fValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,lh({},Xo(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function yh(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function bh(e){return yh(e)?window.pageYOffset:e.scrollTop}function _h(e,t){yh(e)?windo){teEventListener(te"===t.position,r=/(auto|scroll)/,o=document.documentElement;if("fixed"===t.position)return o;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.positidow,x),{placement:"bottom",maxHeighn It:k}}if("bottom"===0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].coew,s=n.tcement:n,maxHeight:e.state.maxHeight})},e}return Fo(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(r.Component);Ph.contextType=Oh;var Mh=function(e){var t=e.theme,n=t.spacing.ba-options":!0}essage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};Rh.defaultProps={children:"Loading..."};var jh,Fh=function(e){Uo(n,e);var t=mh(n);function n(){var e;Do(this,n);for(var r=arguments.len.propsn null;var d=this.state.pYOffset,f:h)}}]),n}(r.Component);var Vh,Uh,Bh={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:curre",(0,Ao697l2.758-3.0.469 0.469 0.46197 0 1.615-n.colors;returnyframes "+t+"{"+e.ect.free,backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Kh=function(e){var t=e.className,n=e.cx,r=e.g,Ao.Z)({css:rata:a,inno({"multh("div",(ontru:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerRef,i=e.innerProps;return th("div",(0,Ao.Z)({css:o("menu",e),className:r({menu:!0},n),ref:a},i),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps,i=e.innerRef,c=e.isMulti;return th("div",(0,Ao.Z)({css:o("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":c},n),ref:i},a),t)},MenuPortal:Fh,LoadingMessage:Rh,NoOptionsMessage:Lh,MultiValue:tv,MultiValueContainer:Qh,MultiValueLabel:ev,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return th("div",n,t||th(Gh,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,i=e.isFocused,c=e.isSelected,s=e.innerRef,l=e.innerProps;return th("div",(0,Ao.Z)({css:o("option",e),className:r({option:!0,"option--is-disabled":a,"option--is-focused":i,"option--is-selected":c},n),ref:s},l),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return th("div",(0,Ao.Z)({css:o("placeholder",e),className:r({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps,i=e.isDisabled,c=e.isRtl;return th("div",(0,Ao.Z)({css:o("container",e),className:r({"--is-disabled":i,"--is-rtl":c},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,i=e.innerProps;return th("div",(0,Ao.Z)({css:o("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":a},n)},i),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.innerProps,a=e.isMulti,i=e.getStyles,c=e.hasValue;return th("div",(0,Ao.Z)({css:i("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":c},n)},o),t)}},rv=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function ov(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||rv(r)&&rv(o)))return!1;var r,o;return!0}const av=function(e,t){var n;void 0===t&&(t=ov);var r,o=[],a=!1;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}};for(var iv={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},cv=function(e){return th("span",(0,Ao.Z)({css:iv},e))},sv={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,o=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to os":"");case"ven ===n?{}:n,o=e.options,a=e.label,i=void 0===a?"":a,c=e.selectValue,s=e.isDisabled,l=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&c)return"value"},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},lv.focusableOptions,i=e.isFocused,c=e.selectValue,s=e.selectProps,l=s.ariaLiⱾꞨꞄ"},{base:"T",letters:"T⓻ỮỬetters:"ꜽ"},{base:"b",letetters:"dⓓģǥɠꞡᵹꝿ"},{be:"i",letters:"iⓘse:"ljȭṏōṑṓŏletters:"sⓢｓßśṥs:"zⓩngth;hv++)mnction(e){rn;var n=Xo(e,["i100,opacity:0,pos Nv(){var e=this.scrollTop,ren,n=e.lockll),d=(0,r.u&function(e){e.edTouches[0].clientY;d(e,t)}),[d]),h=(0,r.useCallback)((function(e){if(e){var t=!!kh&&{passive:!1};"function"==typeof e.addEventListener&&e.addEventListener("wheel",m,t),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",p,t),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",f,t)}}),[f,p,m]),v=(0,r.useCallback)((function(e){e&&("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",m,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",p,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",f,!1))}),[f,p,m]);return(0,r.useEffect)((function(){if(t){var e=u.current;return h(e),function(){v(e)}}}),[t,h,v]),functocument.body,n=t&&t.style;if(o&&Ev.forEach((function(e){var t=n&&n[e];a.current[e]=t})),o&&Iv<1){var r=parseInt(a.current.paddingRight,10)||0,i=document.body?document.body.clientWidth:0,c=window.innerWidth-i+r||0;Object.keys(Sv).forEach((function(e){var t=Sv[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(c,"px"))}t&&xv()&&(t.addEventListener("touchmove",wv,Tv),e&&(e.addEventListener("touchstart",Nv,Tv),e.addEventListener("touchmove",Cv((function(e){var t=a.current[e];n&&(n[e]=t)})),t&&xv()&&(t.removeEventListener("touchmove",wv,Tv),e&&(e.removeEventListener("touchstart",Nv,Tv),e.removecurrent;return c(e),function(){s(e)}}}),[t,outline:"0 !important",position:"relative",transUnitfunction(){return{alignItems:"center",alr.props,o=n.onChange,a=n.name;t.name=a,r.aret-value"}),a&&(r.setState({inputr t=r.props.isMulti,n=r.state.selecmove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selepValue=function(){var e=r.prh-1],o=t.slice(0,t.length-1),a=e?o:o[0]||null;r.onChange(a,{action:"pop-value",removedValue:n})},r,r.cx=function(){for(vaon(e){return"".concat(r.ildCategorizedOptions())},ret.tagName&&r.onMenuClo&&e.preventDefault()},r.onDromousedown"===e.type&&0!penAfterFocus=!1,"touchenrn r.focusInput()})))},r.oceof HTMLElement&&yh(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStasitionEnd=function(){r.isCompositX-r.initialTouchX),a=Math.abs(5}},r.onTouchEnd=function(e){r.userIsDraserIsDragging||r.onControlMouseDown(e)}utChange=function(e){var t=e.currentpdate:!1,isFocused:!0}),(r.openAftee("",{action:"input-blur"}lue():c&&r.clearValue()}break;case"Tab"steningComposition(),this.startList&&this.setState({isFocused:!1},this.oight-t.offsetHeight+a,t.scrollHeight)):,!0)}},{key:"onMenuOpen",value:functioputRef.blur()}},{key:"opereturn this.getOptionLabel(e)}nction(){document&&document.addeEventListener("touchr,onChange:ph,onFocus:this.onInputFocus,rled:m,key:"".concat(e.getOptionValue(t)).concat(c),index:c,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMousemmonProps,n=this.props,o=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!e||!a)return null;return r.createElement(e,(0,Ao.Z)({},t"renderIndicatorSeparattate.isFocused;return"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,o=t.GroupHeading,a=t.Menu,i=t.MenuList,c=t.MenuPortal,s=t.LoadingMessage,l=t.NoOptionsMessage,u=t.Option,d=this.commonProps,m=this.state.focusedOption,p=this.props,f=p.captureMenuScroll,h=p.inputValue,v=p.isLoading,g=p.loadingMessage,y=p.minMenuHeight,b=p.maxMenuHeight,_=p.menuIsOpen,E=p.menuPlacement,S=p.menuPosition,w=p.menuPortalTarget,C=p.menuShouldBlockScroll,N=p.menuShouldScrollIntoView,x=p.noOptionsMessage,k=p.onMenuScrollToTop,I=p.onMenuScrollToBottom;if(!_)return null;var T,O=function(t,n){var o=t.type,a=t.data,i=t.isDisabled,c=t.isSelected,s=t.label,l=t.value,p=m===a,f=i?void 0:function(){return e.onOptionHover(a)},h=i?void 0:function(){return e.selectOption(a)},v="".concat(e.getElementId("option"),"-").concat(n),g={id:v,onClick:h,onMouseMove:f,onMouseOver:f,tabIndex:-1};return r.createElement(u,(0,Ao.Z)({},d,{innerProps:g,data:a,isDisabled:i,isSelected:c,key:v,label:s,type:o,value:l,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(t){if("group"===t.type){var a=t.data,i=t.options,c=t.index,s="".concat(e.getElementId("group"),"-").concat(c),l="".concat(s,"-heading");return r.createElement(n,(0,Ao.Z)({},d,{key:s,data:a,options:i,Heading:o,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return O(e,"".concat(c,"-").concat(e.index))})))}if("option"===t.type)return O(t,"".concat(t.index))}));else if(v){var P=g({inputValue:h});if(null===P)return null;T=r.createElement(s,d,P)}else{var M=x({inputValue:h});if(null===M)return null;T=r.createElement(l,d,M)}var A={minMenuHeight:y,maxMenuHeight:b,menuPlacement:E,menuPosition:S,menuShouldScrollIntoView:N},D=r.createElement(Ph,(0,Ao.Z)({},d,A),(function(t){var n=t.ref,o=t.placerProps,c=o.placement,s=o.maxHeight;return r.createElement(a,(0,Ao.Z)({},d,A,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouion(t){return r.createElement(i,(0,Ao.Z)({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:v,maxHeight:s,focusedOption:m}),T)})))}));return w||"fixed"===S?r.createElement(c,(0,Ao.Z)({},d,{appendTo:w,controlElement:this.controlRef,menuPlacement:E,menuPosition:S}),D):D}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,o=t.isDisabled,a=t.isMulti,i=t.name,c=this.state.selectValue;if(i&&!o){if(a){if(n){var s=c.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:i,type:"hidden",value:s})}var l=c.length>0?c.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:i,type:"hidden"});return r.createElement("div",null,l)}var u=c[0]?this.getOptionValue(c[0]):"";return r.createElement("input",{name:i,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,usableOptions();return r.createElement(lv,(0,Ao.Z)({},e,{ariaSelection:n,focusedOption:o,focusedValue:a,isFocused:i,selectValue:c,focusableOptions:s}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,o=e.SelectContainer,a=e.ValueContainer,i=this.props,c=i.className,s=i.id,l=i.isDisabled,u=i.menuIsOpen,d=this.state.isFocused,m=this.commonProps=this.getCommonProps();return r.createElement(o,(0,Ao.Z)({},m,{className:c,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:d}),this.renderLiveRegion(),r.createElement(t,(0,Ao.Z)({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:d,menuIsOpen:u}),r.createElement(a,(0,Ao.Z)({},m,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,(0,Ao.Z)({},m,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,a=e.options,i=e.value,c=e.menuIsOpen,s=e.inputValue,l={};if(n&&(i!==n.value||a!==n.options||c!==n.menuIsOpen||s!==n.inputValue)){var u=vh(i),d=c?function(e,t){return Vv(Fv(e,t))}(e,u):[],m=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,u):null;l={selectValue:u,focusedOption:function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,d),focusedValue:m,clearFocusValueOnUpdate:!1}}var p=null!=o&&e!==n?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{};return lh(lh(lh({},l),p),{},{prevProps:e})}}]),n}(r.Component);qv.defaultProps=Rv;var Zv,Kv,Jv,$v={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};const Qv=(Zv=qv,Jv=Kv=function(e){Uo(n,e);var t=mh(n);function n(){var e;Do(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callPrallProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return Fo(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var e=this,t=this.props;t.defaultInputValue,t.defaultMenuIsOpen,t.defaultValue;var n=Xo(t,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return r.createElement(Zv,(0,Ao.Z)({},n,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(r.Component),Kv.defaultProps=$v,Jv);var eg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},tg=(0,a.o)(og),ng=(0,r.createContext)(tg);function rg(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=eg((0,r.useState)(tg),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:og(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/brandlist"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"}};return r.createElement(i.h,{context:ng,setState:l,defaultValue:tg,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function og(e){return void 0===e&&(e=[]),e.length?e.map((function(e){return{id:e.id||0,brandId:e.brand_id||"",name:e.name||"",image:e.image||"",isHot:e.isHot||0}})):[]}var ag=ng,ig=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},cg=(0,a.o)(ug),sg=(0,r.createContext)(cg);function lg(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=ig((0,r.useState)(cg),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:ug(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/modellist"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"}};return r.createElement(i.h,{context:sg,setState:l,defaultValue:cg,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function ug(e){return void 0===e&&(e={}),{totalPage:e.total_page||0,modelList:dg(e.list||[])}}function dg(e){return void 0===e&&(e=[]),e.map((function(e){return{id:e.id||0,modelId:e.model_id||"",name:e.name||"",image:e.image||"",subsidyAmount:e.subsidy_amount||0}}))}var mg=sg,pg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},fg=(0,a.o)(gg),hg=(0,r.createContext)(fg);function vg(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=pg((0,r.useState)(fg),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:gg(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/model-storage"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"}};return r.createElement(i.h,{context:hg,setState:l,defaultValue:fg,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function gg(e){return void 0===e&&(e={}),{totalPage:e.total_page||0,modelStorageList:yg(e.list||[])}}function yg(e){return void 0===e&&(e=[]),e.map((function(e){return{modelId:e.model_id,variantName:e.name,brandId:e.brand_id}}))}var bg=hg,_g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Eg=(0,a.o)(Cg),Sg=(0,r.createContext)(Eg);function wg(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=_g((0,r.useState)(Eg),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Cg(t||{},e.__requestParams__.codes),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/misc/selfdata"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc",v:1677568849694}};return r.createElement(i.h,{context:Sg,setState:l,defaultValue:Eg,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Cg(e,t){void 0===e&&(e={});var n={};if(!t)return n;try{for(var r=t.split(",").filter((function(e){return!!e})),o=0;o<r.length;o++)n[r[o]]=JSON.parse(e[r[o]]||"")}catch(a){console.log(a,"err")}return n}var Ng=Sg,xg=function(){return(xg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},kg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ig=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};var Tg={};function Og(e){var t="undefined"==typeof window||"undefined"==typeof document,n=Ig((0,r.useState)((function(){return t?"false":document.documentElement.getAttribute(e)||void 0})),2),o=n[0],a=n[1];return(0,r.useEffect)((function(){if(!t){var n=Tg[e];return n||(n=function(e){var t=[];return new MutationObserver((function(){var n=document.documentElement.getAttribute(e)||void 0;t.forEach((function(e){return e(n)}))})).observe(document.documentElement,{attributes:!0,childList:!1,subtree:!1,attributeFilter:[e]}),function(e){return t.push(e),function(){var n=t.indexOf(e);n>=0&&t.splice(n,1)}}}(e),Tg[e]=n),n(a)}}),[e]),o}var Pg=n(5383),Mg=function(){return(Mg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ag=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Dg=new RegExp(/^\d{15}$/),Lg={DEFAULT:"",NO_NETWORK:Oe.get("Sorry, we have some connection issues, please try again."),ILLEGAL:Oe.get("The IMEI is not correct, Please check your IMEI")},Rg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},jg=(0,a.o)(Ug),Fg=(0,r.createContext)(jg);function Vg(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Rg((0,r.useState)(jg),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Ug(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/get-price"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"},withCredentials:!0};return r.createElement(i.h,{context:Fg,setState:l,defaultValue:jg,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Ug(e){void 0===e&&(e={});var t=function(e){void 0===e&&(e={});var t=[],n=[];e.trade_in_amount&&(t.push(e.trade_in_amount),n.push(Oe.get("Old device value")));(e.subsidy_amount||e.reduction)h(Oe.get("Additional discount")));e.bump_up_subsidy_amount&&(t.push(e.bump_up_subsidy_amount),n.push(Oe.get("Bump up offer")));return{priceCount:t,priceText:n}}(e),n=t.priceCount,r=t.priceText;return{modelId:e.model_id||"",modelName:e.model_name||"",brandId:e.brand_id||"",brandName:e.brand_name||"",modelImage:e.model_image||"",variantName:e.variant_name||"",tradeInAmount:e.trade_in_amount||0,subsidyAmount:e.subsidy_amount||0,bumpUpSubsidyAmount:e.bump_up_subsidy_amount||0,reduction:e.reduction||0,totalAmount:e.total_amount||0,priceCount:n,priceText:r}}var Bg=Fg,Hg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Gg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}},r.createContext)(zg);function Yg(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Gg((0,r.useState)(zg),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Xg(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/sendsmscode"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"}};return r.createElement(i.h,{context:Wg,setState:l,defaultValue:zg,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Xg(e){return void 0===e&&(e={}),{data:e}}var qg=Wg,Zg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Kg=(0,a.o)(Qg),Jg=(0,r.createContext)(Kg);function $g(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Zg((0,r.useState)(Kg),2),s=a[0],l=a[1];function u(e){var t=e.errmsg,n=e.errno;return{data:Qg(e.data||{}),errMsg:t,errNo:n}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/verifysmscode"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"}};return r.createElement(i.h,{context:Jg,setState:l,defaultValue:Kg,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Qg(e){return void 0===e&&(e={}),{data:e}}var ey,ty=Jg,ny=function(){return(ny=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ry=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},oy=new RegExp(/^(\+?91|0)?[789]\d{9}$/),ay={OTPCODE_ERROR:Oe.get("Please check the OTP and retry."),OTHER_ERROR:Oe.get("Oops, something went wrong.  Please try again latter or contact custermer service.")},iy=function(){return(iy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cy=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},sy=((ey={})[tp.PINCODE]={title:Oe.get("Mi exchange"),Comp:function(e){var t,n,o,a,i=Pp(ep(),2),c=i[0],s=i[1],l=e.handleGoAheadProcedure,u=Pp((0,r.useState)(Mp.test(c.pincode)),2),d=u[0],m=u[1],p=Pp((0,r.useState)(c.pincode),2),f=p[0],h=p[1],v=Pp((0,r.useState)(Ap.DEFAULT),2),g=v[0],y=v[1],b=(0,r.useRef)(null),_=(0,r.useContext)(Tp),E=[{icon:(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?r.createElement("i",{className:"micon micon-phone1"}):r.createElement("div",{className:"pincode-progress-step__image pincode-progress-step__image-1"}),desc:Oe.get("Evaluate old phone")},{icon:(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))?r.createElement("i",{className:"micon micon-coupons"}):r.createElement("div",{classNaimage-2"}),desc:Oe.get("Avail instant discount")},{icon:(null===(o="chunk_pc_v4")?void 0:o.includes("v4"))?r.createElement("i",{className:"micon micon-return"}):r.createElement("div",{className:"pincode-progress-step__image pincode-progress-step__image-3"}),desc:Oe.get("Handover your old phone")}];return r.createElement("div",{className:"exchange-pincode"},r.createElement(wp,{processList:E,processClassName:"in-exchange-pin-tips-list"}),r.createElement("div",{className:"exchange-pincode--form"},r.createElement("p",{className:"exchange-pincode--form--info"},Oe.get("Enter pincode to check exchange serviceability")),r.createElement("input",{type:"text",className:"exchange-pincode--form__input",value:f,onChange:function(){h(b.current.value),Mp.test(b.current.value)?(y(Ap.DEFAULT),m(!0)):(y(Ap.ILLEGAL),m(!1))},ref:b,placeholder:Oe.get("Please enter pincode")}),r.createElement("p",{className:je()("exchange-pincode--form--error",{visible:!!g})},g),r.createElement("button",{className:je()("exchange-pincode--form__confirm",{enable:d}),disabled:!d,onClick:function(){_.getService({params:{zipcode:b.current.value,addressType:"oldfornew"}},(function(e){0!==e.errNo?20009===e.errNo?y(Ap.ILLEGAL):y(Ap.NO_NETWORK):e.data.canDelivery&&e.data.inUse?(s((function(e){return Op(Op({},e),{pincode:b.current.value})})),l()):y(Ap.WRONG_PINCODE)}))}},(null===(a="chunk_pc_v4")?void 0:a.includes("v4"))?Oe.get("Next"):Oe.get("NEXT"))))}},ey[tp.SELECT_MODEL]={title:Oe.get("Mi exchange"),Comp:function(e){var t,n="exchange-model-learnmore",o=(0,r.useContext)(ag),a=(0,r.useContext)(mg),i=(0,r.useContext)(bg),c=(0,r.useContext)(Ng),s=kg(ep(),2),l=s[0],u=s[1],d=e.handleGoAheadProcedure,m=e.handleGoBackProcedure,p=e.setVerifyText,f=kg((0,r.useState)(o.data),2),h=f[0],v=f[1],g=kg((0,r.useState)(o.data.filter((function(e){return!!e.isHot}))),2),y=g[0],b=g[1],_=kg((0,r.useState)(a.data.modelList),2),E=_[0],S=_[1],w=kg((0,r.useState)(!1),2),C=w[0],N=w[1],x=kg((0,r.useState)(!1),2),k=x[0],I=x[1],T=i.data.modelStorageList;function O(e){u((function(t){return xg(xg({},t),{brand:e})}))}function P(e){u((function(t){return xg(xg({},t),{model:e})}))}function M(e){u((function(t){return xg(xg({},t),{storage:e})}))}return(0,r.useEffect)((function(){!h.length&&o.getService({params:{page:1,pageSize:200}},(function(e){0!==e.errNo?p(e.errMsg):(v(e.data),b(e.data.filter((function(e){return!!e.isHot}))),O(e.data[0]))}))}),[]),(0,r.useEffect)((function(){c.getService({params:{codes:n}})}),[]),(0,r.useEffect)((function(){var e;l.brand.brandId&&a.getService({params:{brandId:l.brand.brandId,page:1,pageSize:200,v2:!!(null===(e="chunk_pc_v4")?void 0:e.includes("v4"))}},(function(e){0!==e.errNo?p(e.errMsg):(S(e.data.modelList),P(e.data.modelList[0]),N(!0))}))}),[l.brand]),(0,r.useEffect)((function(){l.model.modelId&&i.getService({params:{model_parent_id:l.model.modelId}})}),[l.model.modelId]),(0,r.useEffect)((function(){T.length&&(I(!0),M(T[0]))}),[T]),(0,r.useEffect)((function(){(0,Xt.otExpose)({tip:{b:9,c:47,e:33701},elementName:"trade_in",elementTitle:"model_selection",pageType:"version-selection",isOpenGA:!0})}),[]),r.createElement("div",{className:"exchange-select-modal"},r.createElement("div",{className:"brand"},r.createElement("p",{className:"brand-question"},Oe.get("Select Brand")),r.createElement(Qv,{options:h,onChange:function(e){N(!1),I(!1),O(e)},placeholder:Oe.get("Click to select"),defaultValue:y[0],value:l.brand,isSearchable:!0,classNamePrefix:"brand-select",getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.brandId}}),r.createElement("p",{className:"brand-desc"},Oe.get("We offer the extra bonus for Xiaomi device!")," ",r.createElement("span",{className:"brand-desc--btn",onClick:function(){var e,t,r=(null===(t=null===(e=c.data)||void 0===e?void 0:e[n])||void 0===t?void 0:t.url)||"";r&&window.location.assign(r)}},Oe.get("Learn more")))),r.createElement("div",{className:"model"},r.createElement("p",{className:"model-question"},Oe.get("Select Model")),r.createElement(Qv,{options:E,onChange:function(e){P(e)},isDisabled:!C,placeholder:Oe.get("Click to select"),value:l.model,isSearchable:!0,classNamePrefix:"model-select",getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.modelId}})),r.createElement("div",{className:"model"},r.createElement("p",{className:"model-question"},Oe.get("Select Storage")),r.createElement(Qv,{options:T,onChange:function(e){M(e)},isDisabled:!k,placeholder:Oe.get("Click to select"),value:l.storage,isSearchable:!0,classNamePrefix:"model-select",getOptionLabel:function(e){return e.variantName},getOptionValue:function(e){return e.modelId}})),(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?r.createElement("div",{className:"exchange-select-modal__actions"},r.createElement("button",{className:"exchange-select-modal__back",onClick:m},Oe.get("Back")),r.createElement("button",{className:je()("exchange-select-modal__confirm",{enable:!!l.model.name&&C}),disabled:!l.model.name||!C,onClick:d},Oe.get("Next"))):r.createElement("button",{className:je()("exchange-select-modal__confirm",{enable:!!l.model.name&&C}),disabled:!l.model.name||!C,onClick:d},Oe.get("NEXT")))}},ey[tp.IMEI]={title:Oe.get("Mi exchange"),Comp:function(e){var t,n,o,a,i,c=Ag(ep(),2),s=c[0],l=c[1],u=e.handleGoAheadProcedure,d=e.handleGoBackProcedure,m=e.currentGoodsInfo,p=e.local,f=Ag((0,r.useState)(Dg.test(s.imei)),2),h=f[0],v=f[1],g=Ag((0,r.useState)(s.imei),2),y=g[0],b=g[1],_=Ag((0,r.useState)(Lg.DEFAULT),2),E=_[0],S=_[1],w=(0,r.useRef)(null),C=(0,r.useContext)(vp),N=Og("moe"),x="true"===(null!==Pg.yv&&void 0!==Pg.yv?Pg.yv:N),k=[{icon:(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?r.createElement("i",{className:"micon micon-damaged-body"}):r.createElement("div",{className:"imei-mention-request__image imei-mention-request__image-1"}),desc:Oe.get("Damaged Body")},{icon:(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))?r.createElement("i",{className:"micon micon-damaged-screen"}):r.createElement("div",{className:"imei-mention-request__image imei-mention-request__image-2"}),desc:Oe.get("Damaged Screen")},{icon:(null===(o="chunk_pc_v4")?void 0:o.includes("v4"))?r.createElement("i",{className:"micon micon-imei-code"}):r.createElement("div",{className:"imei-mention-request__image imei-mention-request__image-3"}),desc:Oe.get("IMEI Mismatch")},{icon:(null===(a="chunk_pc_v4")?void 0:a.includes("v4"))?r.creat"micon micon-wrong-model"}):r.creai-mention-request__image imei-mention-request__image-4"}),desc:Oe.get("Incorrect Brand or Model")}];function I(){C.getService({params:{imei:w.current.value,modelId:s.storage.modelId,isCheck:rp,itemId:m.goodsId}},(function(e){if(0!==e.errNo)S(e.errMsg);else{if(l((function(e){return Mg(Mg({},e),{imei:w.current.value})})),"in"===p){var t={tip:"16.9.47.1.27068",model:s.model.name||"",type:s.brand.name||"",moeEnable:x};(0,Xt.otCustom)(Mg({event:"buy_with_exchange_step_2"},t))}u()}}))}return(0,r.useEffect)((function(){if("in"===p){var e={tip:"16.9.47.1.27076",model:s.model.name||"",type:s.brand.name||"",moeEnable:x};(0,Xt.otCustom)(Mg({event:"buy_with_exchange_step_1"},e))}})),(0,r.useEffect)((function(){(0,Xt.otExpose)({tip:{b:9,c:47,e:33703},elementName:"trade_in",elementTitle:"IMEI_confirm",pageType:"version-selection",isOpenGA:!0})}),[]),r.createElement("div",{className:"exchange-imei"},r.createElement(wp,{processClassName:"in-exchange-imei-tips-list",processList:k}),r.createElement("div",{className:"exchange-imei--mention"},r.createElement("p",{className:"exchange-imei--mention__content"},Oe.get("The old device will be")," ",r.createElement("span",{className:"highlight"},Oe.get("rejected"))," ",Oe.get("at the time of delivery in case any of the")," ",r.createElement("span",{className:"highlight"},Oe.get("above conditions"))," ",Oe.get("are found."))),r.createElement("div",{className:"exchange-imei--form"},r.createElement("p",{className:"exchange-imei--form--info"},Oe.get("Provide your IMEI to avail exchange")),r.createElement("input",{type:"text",className:"exchange-imei--form__input",value:y,onChange:function(){b(w.current.value),Dg.test(w.current.value)?(S(Lg.DEFAULT),v(!0)):(S(Lg.ILLEGAL),v(!1))},ref:w,placeholder:Oe.get("Dial *#06# to get IMEI")}),r.createElement("p",{className:je()("exchange-imei--form--error",{visible:!!E})},E),(null===(i="chunk_pc_v4")?void 0:i.includes("v4"))?r.createElement("div",{className:"exchange-imei--form__actions"},r.createElement("button",{className:"exchange-imei--form__back",onClick:d},Oe.get("Back")),r.createElement("button",{className:je()("exchange-imei--form__confirm",{enable:h}),disabled:!h,onClick:I},Oe.get("Apply credit now"))):r.createElement("button",{className:je()("exchange-imei--form__confirm",{enable:h}),disabled:!h,onClick:I},Oe.get("Apply credit now"))))}},ey[tp.CONFIRM_PRICE]={title:Oe.get("Mi exchange"),Comp:function(e){var t,n,o=e.handleGoAheadProcedure,a=e.handleGoBackProcedure,i=e.local,s=e.platform,l=e.setExchangeProcedure,u=e.currentGoodsInfo,d=Hg((0,r.useState)(!1),2),m=d[0],p=d[1],f=(0,r.useContext)(ot),h=Hg(ep(),1)[0],v=(0,r.useContext)(Bg),g=v.data,y=g.totalAmount,b=g.modelName,_=g.variantName,E=g.modelImage,S=g.brandName,w=g.priceCount,C=g.priceText,N=g.tradeInAmount,x=g.subsidyAmount,k=g.bumpUpSubsidyAmount,I=g.reduction,T=f.data,O=T.exchangePriceTip,P=T.newExchangeDesc,M=T.oldExchangeDesc;(0,r.useEffect)((function(){v.getService({params:{model_id:h.storage.modelId,item_id:u.goodsId,zipcode:h.pincode}})}),[]),(0,r.useEffect)((function(){(0,Xt.otExpose)({tip:{b:9,c:47,e:33702},elementName:"trade_in",elementTitle:"model_confirm",pageType:"version-selection",isOpenGA:!0})}),[]);var A;return r.createElement("div",{className:"exchange-confirm-price"},r.createElement("p",{className:"exchange-confirm-price-mention"},Oe.get("Congrats! This is final exchange value.")),r.createElement("div",{className:"exchange-confirm-price__desc"},r.createElement("p",{className:"exchange-confirm-price__desc-price"},function(){var e=(0,sn.XY)(String(y),i,{isShowSuffix:!0});if(w.length<=1)return e;var t=w.map((function(e){return(0,sn.XY)(String(e),i,{isShowSuffix:!0})})).join(" + ");return"".concat(t," = ").concat(e)}(),r.createElement("i",{className:(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?"micon micon-question-square exchange-confirm-price__desc-square":"xiaomi icon-question",onMouseOver:function(){p(!0)},onMouseLeave:function(){p(!1)}},r.createElement(up,{usedPhoneValue:N,additionalValue:x,additionalDiscount:I,dumpAmountCount:k,oldExchangeDesc:M,newExchangeDesc:P,maxPriceExchangeDesc:O,showTip:m,platform:"pc"})))),(A=C.join(" + "),r.createElement("p",{className:"check-result--price"},A)),r.createElement("div",{className:"exchange-confirm-price__content"},r.createElement("img",{src:E,alt:"",className:"exchange-confirm-price__content__image"}),r.createElement("div",{className:"exchange-confirm-price__content-info"},r.createElement("p",{className:"exchange-confirm-price__content-info-item"},Oe.get("Brand:")," ",S,r.createElement("span",{className:"exchange-confirm-price__content-info-link",onClick:function(){(0,Xt.otClick)({tip:{c:14,d:1,e:15391},moduleTitle:"quote",productId:u.productId,goodsId:u.goodsId,elementName:"replace"}),(0,Xt.otClick)({tip:"16.9.47.0.33705",elementName:"trade_in",elementTitle:"model_confirm",pageType:"version-selection",buttonName:"replace",isOpenGA:!0}),l(tp.SELECT_MODEL)}},Oe.get("Replace >"))),r.createElement("p",{className:"exchange-confirm-price__content-info-item"},Oe.get("Model:")," ",b),r.createElement("p",{className:"exchange-confirm-price__content-info-item"},Oe.get("Storage:")," ",_))),(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))?r.createElement("div",{className:"exchange-confirm-price__actions"},r.createElement("button",{className:"exchange-confirm-price__back",onClick:a},Oe.get("Back")),r.createElement("button",{className:"exchange-confirm-price__confirm",onClick:o},Oe.get("Next"))):r.createElement("button",{className:"exchange-confirm-price__confirm",onClick:o},Oe.get("Next")),r.createElement("a",{className:"exchange-confirm-price__link",onClick:function(){(0,Xt.otClick)({tip:{c:14,d:1,e:15390},moduleTitle:"quote",productId:u.productId,goodsId:u.goodsId,elementName:"any_question"}),(0,Xt.otClick)({tip:{b:9,c:47,e:33705},elementName:"trade_in",elementTitle:"model_confirm",pageType:"version-selection",buttonName:"any_question",isOpenGA:!0})},href:"".concat((0,c.jr)(i).wwwSite[s],"/service/exchangetc/"),target:"_blank",rel:"noreferrer"},Oe.get("Any question?")))}},ey[tp.DISCLAIMER]={title:Oe.get("OTP Verification"),Comp:function(e){var t,n,o,a=(0,r.useContext)(Ie),i=a.state,c=a.dispatch,s=ry(ep(),2),l=s[0],u=s[1],d=e.handleGoAheadProcedure,m=e.handleGoBackProcedure,p=e.setVerifyText,f=e.currentGoodsInfo,h=e.local,v=ry((0,r.useState)(!1),2),g=v[0],y=v[1],b=ry((0,r.useState)(!0),2),_=b[0],E=b[1],S=ry((0,r.useState)(60),2),w=S[0],C=S[1],N=ry((0,r.useState)(""),2),x=N[0],k=N[1],I=ry((0,r.useState)(""),2),T=I[0],O=I[1],P=ry(function(e,t,n){var o,a=ry((0,r.useState)(e),2),i=a[0],c=a[1],s=ry((0,r.useState)(!1),2),l=s[0],u=s[1];return(0,r.useEffect)((function(){return l?o=window.setInterval((function(){i>=1&&c((function(e){return e-1}))}),1e3):(n(),o&&clearTimeout(o)),function(){o&&clearTimeout(o)}}),[l,i]),(0,r.useEffect)((function(){t(i),i<1&&(u(!1),c(e))}),[i]),[function(){u(!0)}]}(60,(function(e){return C(e)}),(function(){C(60),E(!0)})),1)[0],M=(0,r.useContext)(qg),A=(0,r.useContext)(vp),D=(0,r.useContext)(ty),L=(ip((0,r.useContext)(ot).data.activityList,i.currentGoodsId)||{}).reductionPrice||0,R=A.data,j=R.amount,F=R.subsidyAmount,V=R.image,U=Og("moe"),B="true"===(null!==Pg.yv&&void 0!==Pg.yv?Pg.yv:U);function H(){D.getService({params:{phone:x,code:T}},(function(e){70006===e.errNo?p(ay.OTPCODE_ERROR):0===e.errNo?A.getService({params:{imei:l.imei,modelId:l.storage.modelId,phone:x,isCheck:np,itemId:f.goodsId}}ny(ny({},e),{imgUrl:V,amount:j,subsidyAmount:F})})),c({type:ye,payload:{isInExchangeActive:!0,inExchangeAmount:j+F+L}}),"in"===h){var t={tip:"16.9.47.1.27069",model:l.model.name||"",type:l.brand.name||"",moeEnable:B};(0,Xt.otCustom)(ny({event:"buy_with_exchange_confirmation"},t))}d()}else p(ay.OTHER_ERROR)})):p(ay.OTHER_ERlementName:"treType:"version-selection",buttonName:"confirm",isOpenGA:!0})}var G=(0,r.useMemo)((function(){return console.log(x,T,g,9999),!!x.trim()&&!!T.trim()&&g}),[x,T]);function z(e){switch(ek;case"otpcode":O(e.target.value)}}return(0,r.useEffect)((function(){(0,Xt.otExpose)({tip:{b:9,c:47,e:33704},elementName:"trade_in",elementTitle:"OTP_Verification",pageType:"version-selection",isOpenGA:!0})}),[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"exchange-disclaimer"},r.createElement("p",{className:"exchange-disclaimer-tip"},Oe.get("Congratulations! You have reached the last step for the Exchange.")),r.createElement("div",{className:"disclaimer__form"},r.createElement("div",{className:"disclaimer__form-item"},r.createElement("span",{className:"disclaimer__form-item__label"},Oe.get("Phone No.")),r.createElement("input",{name:"phone",type:"text",className:"disclaimer__form-item__input",placeholder:(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?Oe.get("Phone No."):void 0,value:x,onChange:z})),r.createElement("div",{className:"disclaimer__form-item"},r.createElement("span",{className:"disclaimer__form-item__label"},Oe.get("OTP code")),r.createElement("input",{name:"otpcode",type:"text",className:"disclaimer__form-item__input",placeholder:(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))?Oe.get("OTP code"):void 0,value:T,onChange:z}),r.createElement("button",{className:je()("disclaimer__form-item__button",{enable:g&&_}),disabled:!g||!_,onClick:function(){(0,Xt.otClick)({tip:{c:15,d:1,e:15393},md,goodsId:f.goodsId,elementName:"OTP"}),(0,Xt.otClick)({tip:{b:9,c:47,e:33706},elementName:"trade_in",elementTitle:"OTP_Verification",pageType:"version-selection",buttonName:"OTP_code",isOpenGA:!0}),P(),E(!1),M.getService({params:{phone:x}})}},_?Oe.get("Get OTP"):w))),(null===(o="chunk_pc_v4")?void 0:o.includes("v4"))?r.createElement("div",{className:"exchange-disclaimer__actions"},r.createElement("button",{className:"exchange-disclaimer__back",onClick:m},Oe.get("Back")),r.createElement("button",{className:je()("exchange-disclaimer__confirm",{enable:G}),disabled:!G,onClick:H},Oe.get("Confirm"))):r.createElement("button",{className:je()("exchange-disclaimer__confirm",{enable:G}),disabled:!G,onClick:H},Oe.get("CONFIRM"))))}},ey),ly=function(e){var t=e.exchangeProcedure,n=e.setExchangeProcedure,o=e.isModalShow,a=e.setIsModalShow,i=(0,r.useContext)(Ie).state,c=cy((0,r.useState)(Oe.get("Mi exchange")),2),s=c[0],l=c[1],u=cy((0,r.useState)(""),2),d=u[0],m=u[1],p=(0,r.useMemo)((function(){return 0===i.currentGoodsId?i.goodsInfoActivityList[0]||{}:i.goodsInfoActivityList.find((function(e){return e.goodsId===i.currentGoodsId}))||{}}),[i.currentGoodsId]),f=(0,r.useCallback)((function(e,n){var r,o,a,i;switch(t){case tp.PINCODE:r="pincode",o="pincode",a="next";break;case tp.SELECT_MODEL:r="selectModel",o="model_selection",a="next";break;case tp.IMEI:r="imei",o="imei",a="next";break;case tp.CONFIRM_PRICE:r="confirmPrice",o="quote",a="apply_credit_now";break;case tp.DISCLAIMER:r="disclaimer",o="clarification",a="confirm";break;default:r="pincode",o="pincode",a="next"}switch(e){case"click":i=Xt.otClick;break;case"expose":i=Xt.otExpose;break;default:i=function(){}}i({tip:"back"===n?{b:9,c:0,d:1,e:15406}:{expose_pincode:[{b:9,c:10,d:1,e:15381}],expose_selectModel:[{b:9,c:12,d:1,e:15384}],expose_imei:[{b:9,c:13,d:1,e:15386}],expose_confirmPrice:[{b:9,c:14,d:1,e:15388}],expose_disclaimer:[{b:9,c:15,d:1,e:15392}],click_pincode:[{b:9,c:10,d:1,e:15383}],click_selectModel:[{b:9,c:12,d:1,e:15385}],click_imei:[{b:9,c:13,d:1,e:15387}],click_confirmPrice:[{b:9,c:14,d:1,e:15389}],click_disclaimer:[{b:9,c:15,d:1,e:15394}]}["".concat(e,"_").concat(r)][0]||"",moduleTitle:o,goodsId:p.goodsId||"",productId:p.productId||"",elementName:"expose"!==e?"back"===n?"back":a:void 0})}),[p,t]),h=(0,r.useCallback)((function(){var o,a;f("expose"),l((null===(o=sy[t])||void 0===o?void 0:o.title)||"");var i=(null===(a=sy[t])||void 0===a?void 0:a.Comp)||null;return i?(0,r.createElement)(i,iy(iy({},e),{handleGoBackProcedure:v,handleGoAheadProcedure:g,setExchangeProcedure:n,setVerifyText:m,currentGoodsInfo:p})):null}),[t]);function v(){f("click","back"),n(t-1)}function g(){f("click","next"),n((t+1)%Object.keys(tp).length)}var y=(0,r.useMemo)((function(){var e;return t===tp.PINCODE||(null===(e="chunk_pc_v4")?void 0:e.includes("v4"))?null:r.createElement("i",{className:"xiaomi icon-arrow-left-s",onClick:v})}),[t]);return r.createElement(r.Fragment,null,r.createElement(vn.u,{isModalShow:o&&t!==tp.FINISHED,closeModal:function(){return a(!1)},isShowCloseIcon:!0,extraClassName:"mi-exchange-modal",title:s,extra:y},r.createElement(h,null)),r.createElement(wr,{msg:d,isShow:!!d,callback:function(){return m("")}}))},uy=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function dy(e){var t=e.local,n=e.platform,o=uy((0,r.useState)(tp.PINCODE),2),a=o[0],i=o[1],c=uy((0,r.useState)(!1),2),s=c[0],l=c[1],u=uy((0,r.useState)(op),2),d=u[0],m=u[1];return r.createElement(Qm.Provider,{value:[d,m]},r.createElement(Sp,{local:t,platform:n,setExchangeProcedure:i,isProcedureFinished:a===tp.FINISHED,setIsModalShow:l}),r.createElement(ly,{local:t,platform:n,exchangeProcedure:a,setExchangeProcedure:i,isModalShow:s,setIsModalShow:l}))}var my=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},py=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function fy(){var e=(0,r.useContext)(Ie),t=e.state,n=e.dispatch,o=(0,r.useContext)(j),a=(0,r.useContext)(Gn).data,i=my((0,r.useState)(o.data.packSet),2),c=i[0],s=i[1],l=my((0,r.useState)(o.data.insurancesList),2),u=l[0],d=l[1];(0,r.useEffect)((function(){s(o.data.packSet),d(o.data.insurancesList)}),[o.data]);var m=my((0,Le.m)((function(e,t){return e.pipe(Mt((function(e){return 0===my(e,1)[0]})),(0,Fe.x)(),Ut(t),(0,Ve.U)((function(e){var t=my(e,2),r=my(t[0],10),o=r[0],a=r[1],i=r[2],c=r[3],s=r[4],l=r[5],u=r[6],d=r[7],m=r[8],p=r[9],f=t[1];if(0===o)return f;var h=l.find((function(e){return e.goodsId===o}))||{},v=i.map((function(e){var t=my(e,2),n=t[0];t[1];return n})),g=u.filter((function(e){return v.includes(e.bundleId)}))||[],y=py([],my(g.map((function(e){return[e.bundleId,e.bundleName,e.price,e.marketPrice]}))),!1),b=(d.find((function(e){return e.goodsId===o}))||{goodsId:0,list:[]}).list.flatMap((function(e,t){return e.filter((function(e){return e.insuranceId===c[t]}))}))||[],_=py([],my(b.map((function(e){return[e.insuranceId,e.insuranceTitle,e.insurancePrice,e.insuranceMarketPrice]}))),!1),E=my(an([h.price,h.marketPrice],h.eventsList||[],s,!0),3),S=E[0],w=E[1],C=E[2],N=(h.eventsList||[]).find((function(e){return e.activityType===C})),x=[["giftId",(N?N.tagList.filter((function(e){return 3===e.type})).map((function(e){return e.detail})):[])[0]||"","0.00"]].filter((function(e){var t=my(e,3),n=(t[0],t[1]);t[2];return!!n})),k=m.isInExchangeActive&&!!m.inExchangeAmount&&h.isShowInExchange,I=m.inExchangeAmount,T=k?[["inExchange",Oe.get("Mi Exchange"),"-"+I,"-"+I]].filter((function(e){var t=my(e,3),n=(t[0],t[1]);t[2];return!!n})):[],O=h.isLaku6Exchange&&m.laku6ExchangeActive,P=O?p.amountNumber:0,M=O?[[m.laku6ExchangeModelImei,Oe.get("Trade-in"),0-P,0-P]]:[],A=Array.from(py(py(py(py([[o,h.goodsName,S,w]],my(y),!1),my(_),!1),my(x),!1),my(M),!1)).filter((function(e){var t=my(e,3),n=t[0];t[1],t[2];return!!n})).map((function(e){var t=my(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return[n,r+" * "+a,Number(Number(o||0)*a).toFixed(2),Number(Number(i||0)*a).toFixed(2)]})).concat(T),D=P+I,L=Number(S||0)+Number(g.reduce((function(e,t){return e+t.price}),0)||0)+Number(b.reduce((function(e,t){return e+t.insurancePrice}),0)||0),R=Number(w||0)+Number(g.reduce((function(e,t){return e+t.marketPrice}),0)||0)+Number(b.reduce((function(e,t){return e+t.insuranceMarketPrice}),0)||0)-I;return n({type:K,payload:Number(S||0)}),n({type:J,payload:L*a-P}),[A,L*a-D,R*a,h.weuTradeInConfig.isSupportTradeIn&&!io(h)]})))}),["","","",0,!1],[t.currentGoodsId,t.currentGoodsNum,t.currentBundleIds,t.currentInsuranceIds,t.currentActivityMap,t.goodsInfoActivityList,c,u,t.miExchange,a]),4),p=m[0],f=m[1],h=m[2],v=m[3];return function(e){switch(e){case"unsent":case"loading":case"error":return r.createElement("section",{className:"product__section order-list-section order-list-section--loading"},r.createElement("ul",{className:"order-list-section__list"},r.createElement("li",{className:"order-list-section__item"}),r.createElement("li",{className:"order-list-section__item order-list-section__item--total"})));case"success":return r.createElement("section",{className:"product__section order-list-section"},r.createElement("ul",{className:"order-list-section__list"},Array.from(p||[]).map((function(e,t){var n=my(e,4),o=n[0],a=n[1],i=n[2],c=n[3];return r.cist-section__item",key:"".concat(o,"_").concat(t)},r.createElement("span",null,a),r.createElement("div",{className:"order-list-section__item-spacer"}),i<0?r.createElement(r.Fragment,null,"- ",r.createElement(un.n,{salePrice:Number(0-i).toFixed(2),delPrice:Number(0-c).toFixed(2),isShowFrom:!1})):r.createElement(un.n,{salePrice:Number(i).toFixed(2),delPrice:Number(c).toFixed(2),isShowFrom:!1}))})),r.createElement("li",{className:"order-list-section__item order-list-section__item--total notranslate"},r.createElement("span",null,Oe.get("Total"),Oe.get(": ")),r.createElement("div",{className:"order-list-section__item-spacer"}),f<0?r.createElement(un.n,{salePrice:Number(0).toFixed(2),delPrice:Number(0).toFixed(2),isShowFrom:!1}):r.createElement(un.n,{salePrice:Number(f).toFixed(2),delPrice:Number(h).toFixed(2),isShowFrom:!1})),v&&t.miExchange.weuTradeInInfo.isOptInTradeIn&&r.createElement("li",{className:"order-list-section__item"},r.createElement("span",null,Oe.get("Trade-in (Cashback latter)")),r.createElement("div",{className:"order-list-section__item-spacer"}),"- ",r.createElement(un.n,{salePrice:Number(t.miExchange.weuTradeInInfo.totalCredit).toFixed(2),isShowFrom:!1}))));default:return r.createElement(r.Fragment,null)}}(o.ajaxStatus)}var hy={data:{isShowDealer:[{api:!0,locals:["in"]}]},html:{},js:{},css:{}};function vy(e){var t=e.local,n=e.dealerName,o=(0,zn.h)(t,hy);return o.data&&!!o.data.isShowDealer&&n?r.createElement("section",{className:"product__section dealer-section"},Oe.get("Sold by: {companyName}",{companyName:n})):r.createElement(r.Fragment,null)}var gy={data:{isShowPolicy:[{api:!0,locals:["jp"]}]},html:{},js:{},css:{}};function yy(e){var t=e.local,n=(0,zn.h)(t,gy);return n.data&&!!n.data.isShowPolicy?r.createElement("section",{className:"product__section policy-section"},r.createElement(ln.b,{inputStr:Oe.get("{n} days for free return, for more information, please check the {link}.",{link:"#@@#".concat(Oe.get("Return Policy"),"#@@#")}),linkArr:["".concat((0,c.jr)(t).wwwSite.pc,"/service/support/returns.html")]})):r.createElement(r.Fragment,null)}function by(e){var t=e.snapmintPrice,n=e.currentGoodsData;return(0,r.useEffect)((function(){(0,Xt.otExpose)({tip:"16.9.44.0.23155",pageType:"version-selection",elementTitle:(0,Cr.YQ)(),elementName:"snapmint-paytest",itemId:n.goodsId||"",itemName:n.goodsName||"",commodityId:n.commodityId||"",spuId:"",productId:n.productId||"",isOpenGA:!0})}),[]),(0,r.useEffect)((function(){var e,t;e="https://emis.snapmint.com/mi/build/static/css/snapmint-main.css",(t=document.createElement("link")).type="text/css",t.rel="stylesheet",t.href=e,document.body.appendChild(t);!function(e,t){for(var n=document.getElementsByTagName("head")[0]||document.documentElement,r=[],o=0,a=0;a<e.length;a++)r[a]=document.createElement("script"),r[a].setAttribute("type","text/javascript"),r[a].onload=r[a].onreadystatechange=function(){o++,this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),o===e.length&&t()},r[a].setAttribute("src",e[a]),n.appendChild(r[a])}(["https://emis.snapmint.com/mi/snapmint_emi.js","https://emis.snapmint.com/mi/build/static/js/snapmint-chunk.js","https://emis.snapmint.com/mi/build/static/js/snapmint-main.js","https://emis.snapmint.com/mi/common.js"],(function(){var e,t,n=(null===(e=document.querySelector(".information-section__product-title>span"))||void 0===e?void 0:e.textContent)||"",r=(null===(t=document.querySelector(".information-section__product-price>strong"))||void 0===t?void 0:t.textContent)||"";window.p_title=n,window.p_price=r,document.getElementsByClassName("snapmint_lowest_emi_value")[0].setAttribute("data-snapmint-price",window.parseNum(r));var o=document.querySelector(".information-section__product-price>strong");o&&("function"==typeof myScript&&new MutationObserver(myScript).observe(o,{characterData:!0,attributes:!0,childList:!0,subtree:!0}))}))}),[]),r.createElement("section",{className:"product__section snapmint-section"},r.createElement("div",{id:"stw-modal-body"}),r.createElement("div",{className:"snap_emi_txt",onClick:function(){(0,Xt.otClick)({tip:"16.9.44.0.23156",pageType:"version-selection",elementTitle:(0,Cr.YQ)(),eleytest",itemId:n.goodn"==typeof openModal&&openModal()}}),r.createElement("span",{className:"snapmint_lowest_emi_value hidden",style:{display:"none"},"data-snapmint-price":t,"data-snapmint-subvention":"false","data-snapmint-skuid":"productsku","data-snapmint-merchant_id":"1456","data-snapmint-page":"product"}))}window.mid=1456,window.parseNum=function(e){return e?e=e.replace(/[^.\d]/g,""):""};var _y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Ey(e,t){var n=t||window.location.search||(window.location.hash||"").replace(/.+\?/g,"?").replace(/#.+/g,"");if(!n)return"";var r=n.slice(1).split("&").map((function(e){return e.split("=")}));return(_y(r.filter((function(t){var n=_y(t,2),r=n[0];n[1];return r===e})).map((function(e){var t=_y(e,2);t[0];return t[1]})),1)[0]||"").replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}var Sy={ae:{miV4:"release"},ar:{miV4:"release"},at:{miV4:"release"},bd:{miV4:"release"},bg:{miV4:"release"},br:{miV4:"release"},by:{miV4:"release"},ca:{miV4:"release"},ci:{miV4:"release"},cl:{miV4:"release"},co:{miV4:"release"},cz:{miV4:"release"},de:{miV4:"release"},ec:{miV4:"release"},eg:{miV4:"release"},es:{miV4:"release"},fr:{miV4:"release"},global:{miV4:"release"},gr:{miV4:"release"},gt:{miV4:"release"},hk:{miV4:"release"},hr:{miV4:"release"},hu:{miV4:"release"},id:{miV4:"release"}ase"},it:{miV4:"release"},jp:{miV4:"release"},ke:{miV4:"release"},kh:{miV4:"release"},kr:{miV4:"release"},kz:{miV4:"release"},lk:{miV4:"release"},ma:{miV4:"release"},mm:{miV4:"release"},mx:{miV4:"release"},my:{miV4:"release"},ng:{miV4:"release"},nl:{miV4:"release"},np:{miV4:"release"},pa:{miV4:"release"},pe:{miV4:"release"},ph:{miV4:"release"},pk:{miV4:"release"},pl:{miV4:"release"},ro:{miV4:"release"},rs:{miV4:"release"},ru:{miV4:"release"},sa:{miV4:"release"},se:{miV4:"release"},sg:{miV4:"release"},th:{miV4:"release"},tn:{miV4:"release"},tr:{miV4:"release"},tw:{miV4:"release"},ua:{miV4:"release"},uk:{miV4:"release"},us:{miV4:"release"},uz:{miV4:"release"},vn:{miV4:"release"},za:{miV4:"release"}};var wy=n(7552);function Cy(e,t,n,r){var o=(0,wy.uU)();(0,wy.wz)(e)&&Nr.set(t,n,r||{domain:(0,Wr.YN)(o)})}function Ny(e){return Nr.get(e)||""}function xy(){var e=(0,wy.uU)(),t=function(e){return Object.assign({miV4:""},Sy[e]||{})}(e).miV4;return"gray-release"===t?"4.0"===Ny("xm_version"):"release"===t&&function(e){var t,n="1"===Ny("ISAPP"),r="1"===Ny("ISIOS");if(n||r){var o=Ny("APPVERSION")||"0",a=Ny("IOSVERSION")||"0",i={de:!!(Number(o)>=40200&&n||Number(a)>=40200&&r),es:!!(Number(o)>=40200&&n||Number(a)>=40200&&r),fr:!!(Number(o)>=4e4&&n||Number(a)>=4e4&&r),hk:!!(Number(o)>=40912&&n||Number(a)>=40909&&r),id:!!(Number(o)>=40700&&n||Number(a)>=40800&&r),in:!!(Number(o)>=40600&&n||Number(a)>=40700&&r),it:!!(Number(o)>=40200&&n||Number(a)>=40200&&r),jp:!!(Number(o)>=40400&&n||Number(a)>=40500&&r),mx:!0,nl:!!(Number(o)>=40400&&n||Number(a)>=40500&&r),pl:!0,ru:!!(Number(o)>=40400&&n||Number(a)>=40500&&r),tr:!!(Number(o)>=40400&&n||Number(a)>=40500&&r),tw:!!(Number(o)>=40912&&n||Number(a)>=40909&&r),uk:!!(Number(o)>=40400&&n||Number(a)>=40500&&r),default:!0};return null!==(t=i[e])&&void 0!==t?t:i.default}return!0}(e)}var ky=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Iy=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};var Ty=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Oy=(0,a.o)(Ay),Py=(0,r.createContext)(Oy);function My(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Ty((0,r.useState)(Oy),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Ay(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/arrivalnotice/watch"),method:"GET",params:{goodsId:""},withCredentials:!0};return r.createElement(i.h,{context:Py,setState:l,defaultValue:Oy,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Ay(e){return void 0===e&&(e={}),{id:Number(e.id||0),hasEmail:e.has_email||!1}}var Dy=Py,Ly=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ry=(0,a.o)(Vy),jy=(0,r.createContext)(Ry);function Fy(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Ly((0,r.useState)(Ry),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Vy(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/cart/add"),method:"G===t.platform?"mobile":"pc"},params:{id:"",act_no:"",act_type:"",source:"",token:"",oneclick:0,tracking_addcart:""},withCredentials:!0};return r.createElement(i.h,{context:jy,setState:l,defaultValue:Ry,beforeSend:function(e){try{var n=(0,Wr.JV)(t.local),r="1"===Nr.get("ISAPP")?n.app:"1"===Nr.get("ISIOS")?n.ios:n[t.platform];Cy("analytical","STATDOMAINID",String(r||""),{expires:365,path:"/"+t.local,domain:(0,Wr.YN)(t.local)}),Cy("analytical","STATTIMESTAMP",String(Date.now()||0),{expires:1,path:"/"+t.local,domain:(0,Wr.YN)(t.local)});var o=Nr.get("mstz")||"";if(o){var a=(o.split("|")||[])[2]||"";if(a){var i=Ly(a.split("."),1)[0];Cy("analytical","STATSESSIONID",String(i),{expires:1,path:"/"+t.local,domain:(0,Wr.YN)(t.local)})}}}catch(c){}},adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Vy(e){return void 0===e&&(e={}),{cartData:Uy(e.cartdata||{totalWithoutGift:0})}}function Uy(e){return void 0===e&&(e={}),{totalWithoutGift:e.totalWithoutGift||0}}var By=jy,Hy={data:{isSendFbqData:[{api:!0,locals:["in"]}],isShowRecommendDialog:[{api:!0,locals:["in"]}]},html:{customIcon:[{api:function(){return!1},locals:["mi"]},{api:function(){return r.createElement("i",{className:"xiaomi icon-poco-custom-service add-cart-section__icon-item-image"})},locals:["poco"]}]},js:{},css:{}},Gy=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},zy=(0,a.o)(Xy),Wy=(0,r.createContext)(zy);function Yy(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Gy((0,r.useState)(zy),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Xy(t||{}),errMsg:n||"",errNo:r||0}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/arrivalnotice/setemail"),params:{email:""},withCredentials:!0};return r.createElement(i.h,{context:Wy,setState:l,defaultValue:zy,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Xy(e){return void 0===e&&(e={}),e}var qy=Wy,Zy=function(){return(Zy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ky=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Jy(e){var t,n,o,a=e.isShow,i=e.needEmail,c=e.resetCallBack,s=(0,r.useContext)(qy),l=Ky((0,r.useState)(""),2),u=l[0],d=l[1],m=Ky((0,r.useState)(""),2),p=m[0],f=m[1],h=(0,r.useMemo)((function(){return!u||(0,wy.oP)(u)}),[u]),v=function(){i&&u||c(),h&&i&&u&&s.getService({params:{email:u}},(function(e){0===e.errNo?c():f(e.errMsg)}))},g={isModalShow:!!a,isShowCloseIcon:!0,isBorderBottom:!0,title:Oe.get("ARRIVAL NOTICE"),closeModal:c,extraClassName:"subscribe-dialog"};return(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&(g=Zy(Zy({},g),{confirmText:Oe.get("Confirm"),confirm:v,isBorderBottom:!1})),r.createElement(vn.u,Zy({},g),r.createElement("div",{className:"subscribe-dialog__content"},r.createElement("div",{className:"subscribe-dialog__icon"},(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))?r.createElement("i",{className:"micon micon-checkbox-checked"}):r.createElement("i",{className:"xiaomi icon-check"})),r.createElement("h4",{className:"subscribe-dialog__subtitle"},Oe.get("WE'LL NOTIFY YOU WHEN STOCKS ARRIVE")),r.createElement("p",{className:"subscribe-dialog__detail"},Oe.get("This product has been added to your Notification List. If stocks arrive within 30 days, we will use your contact details to keep you updated.")),i&&r.createElement("div",{className:"subscribe-dialog__email"},r.createElement("input",{type:"text",className:"subscribe-dialog__email__input",placeholder:Oe.get("Notify me by Email"),onChange:function(e){return d(e.target.value)}}),r.createElement("p",{className:Re("subscribe-dialog__email--error",{emailIsLegal:h})},Oe.get("Please enter your Email in the correct format")))),!(null===(o="chunk_pc_v4")?void 0:o.includes("v4"))&&r.createElement("div",{className:"subscribe-dialog__actions"},r.createElement("button",{className:"subscribe-dialog__button",onClick:function(){return v()},disabled:!h&&i},Oe.get("Confirm"))),r.createElement(fd.a,{alertMessage:p,onClose:function(){return f("")}}))}var $y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};var Qy,eb,tb,nb,rb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a) i};(null===(Qy="chunk_pc_v4")?void 0:Qy.includes("pc"))?(null===(eb="chunk_pc_v4")?void 0:eb.includes("v4"))?n.e(5027).then(n.bind(n,5027)):n.e(8785).then(n.bind(n,8785)):(null===(tb="chunk_pc_v4")?void 0:tb.includes("mobile"))&&((null===(nb="chunk_pc_v4")?void 0:nb.includes("v4"))?n.e(2475).then(n.bind(n,2475)):n.e(6162).then(n.bind(n,674)));var ob={RecommendPop:{pc:15860,m:15869},AgreeToRecommend:{pc:15861,m:15870},DisagreeToRecommend:{pc:15862,m:15871},RecommendClose:{pc:15867,m:15875},RecommendSelectPop:{pc:15864,m:15872},RecommendSelectBuy:{pc:15865,m:15873},RecommendSelectBack:{pc:15866,m:15874},RecommendSelectClose:{pc:15868,m:15876}};function ab(e){var t,n,o,a,i,c=e.isShow,s=e.resetCallBack,l=e.data,u=e.addToCart,d=e.skuList,m=e.skuMap,p=e.skuData,f=e.platform,h=e.itemByPlatform,v=h.Modal,g=h.PriceDisplay,y=h.SkuSelect,b=l.currentGoodsInfo,_=l.recommendGoodsInfo,E=rb((0,r.useState)(0),2),S=E[0],w=E[1],C=rb((0,r.useState)(_.goodsId),2),N=C[0],x=C[1],k=rb((0,r.useState)("0"),2),I=k[0],T=k[1],O=rb((0,r.useState)({}),2),P=O[0],M=O[1],A=(0,r.useContext)(Ie).state;(0,r.useEffect)((function(){var e=p.find((function(e){return e.goodsId===N}))||{};M(e);var t=rb(an([e.price,e.marketPrice],e.eventsList||[],A.currentActivityMap,!1),1)[0];T(t)}),[N]),(0,r.useEffect)((function(){c?x(_.goodsId):w(0)}),[c]),(0,r.useEffect)((function(){c&&P.goodsId&&(0,Xt.otExpose)({tip:{c:0===S?18:19,d:1,e:ob["".concat(0===S?"RecommendPop":"RecommendSelectPop")][f]},productId:P.productId||"",goodsId:P.goodsId||""})}),[c,S,P]),(0,r.useEffect)((function(){x(_.goodsId)}),[_.goodsId]);var D=Number(P.price)-Number(b.price),L=[{title:Oe.get("Want to Upgrade?"),content:r.createElement(r.Fragment,null,r.createElement("div",{className:"recommend-dialog__content recommend-dialog__content--step0"},r.createElement("p",null," ",Oe.get("Just pay"),r.createElement("b",{className:"highlight-orange"},r.createElement(g,{salePrice:D.toFixed(2),isShowFrom:!1})),Oe.get("more to get more features")),r.createElement("p",null," ",Oe.get("Your chosen product:")," ",r.createElement("b",{className:"highlight-dark"},b.goodsName)),r.createElement("p",null,Oe.get(" XIAOMI Recommends:")," ",r.createElement("b",{className:"highlight-dark"},P.goodsName)),r.createElement("p",null," ",Oe.get("Buy")," ",r.createElement("b",{className:"highlight-dark"},P.goodsName," "),Oe.get("at"),r.createElement("b",{className:"highlight-orange"},r.createElement(g,{salePrice:Number(I).toFixed(2),isShowFrom:!1})))),r.createElement("div",{className:"recommend-dialog__actions"},r.createElement("button",{className:"recommend-dialog__button recommend-dialog__button--cancel",onClick:function(){(0,Xt.otClick)({tip:{c:18,d:1,e:ob.DisagreeToRecommend[f]},productId:P.productId||"",goodsId:P.goodsId||"",elementName:"no"}),u()}},Oe.get("No, buy the original")),r.createElement("button",{className:"recommend-dialog__button",onClick:function(){(0,Xt.otClick)({tip:{c:18,d:1,e:ob.AgreeToRecommend[f]},productId:P.productId||"",goodsId:P.goodsId||"",elementName:"yes"}),w(1)}},Oe.get("Yes, buy recommended items"))))},{title:Oe.get("Select specifications"),content:r.createElement(r.Fragment,null,r.createElement("div",{className:"recommend-dialog__content recommend-dialog__content--step1"},!(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&r.createElement("p",{className:"select-title"},Oe.get("Selected item:")," "),r.createElement("p",{className:"current-recommend"},(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))&&r.createElement("span",{className:"select-title"},Oe.get("Selected item:")," "),r.createElement("span",null,P.goodsName),(null===(o="chunk_pc_v4")?void 0:o.includes("v4"))&&r.createElement("span",{className:"current-recommend__gap"}),r.createElement("span",{className:"current-recommend__price"},r.createElement(g,{salePrice:Number(I).toFixed(2),isShowFrom:!1}))),r.createElement(y,{skuMap:m,skuList:d,skuData:p,currentGoodsId:N,bigTapDisabledIds:A.bigTapDisabledIds,setGoodsId:function(e){return x(e)},skuClickBury:function(e){return t=e,void(0,qt.g)("click",{category:"version_selection",label:"buy_product",section:"".concat(A.productName,"_").concat(t),action:"sku_button_click"});var t},resetGoodsId:function(){return x(0)},portalClassName:"product__section",titleClassName:"product__section-title"})),r.createElement("div",{className:"recommend-dialog__actions recommend-dialog__actions--step1"},!(null===(a="chunk_pc_v4")?void 0:a.includes("v4"))&&r.createElement("p",{className:"tip"},Oe.get("* You can add insurance to the shopping cart")),r.createElement("button",{className:"recommend-dialog__button recommend-dialog__button--cancel width-fixed",onClick:function(){w(0),(0,Xt.otClick)({tip:{c:19,d:1,e:ob.RecommendSelectBack[f]},productId:P.productId||"",goodsId:P.goodsId||"",elementName:"back"})}},Oe.get("Back")),r.createElement("button",{className:"recommend-dialog__button width-fixed",onClick:function(){(0,Xt.otClick)({tip:{c:19,d:1,e:ob.RecommendSelectBuy[f]},productId:P.productId||"",goodsId:P.goodsId||"",elementName:"buy_now"}),u(P)}},Oe.get("Buy Now"))),(null===(i="chunk_pc_v4")?void 0:i.includes("v4"))&&r.createElement("p",{className:"recommend-dialog__tip"},Oe.get("* You can add insurance to the shopping cart")))}];return r.createElement(v,{isModalShow:!!c,isShowCloseIcon:!0,isBorderBottom:!0,title:L[S].title,closeModal:function(){(0,Xt.otClick)({tip:{c:0===S?18:19,d:1,e:ob["".concat(0===S?"RecommendClose":"RecommendSelectClose")][f]},productId:P.productId||"",goodsId:P.goodsId||"",elementName:"close"}),s()},extraClassName:"recommend-dialog"},L[S].content)}var ib=function(){return(ib=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function sb(e){var t,n=e.local,o=e.platform,a=e.tag,i=e.skuList,s=e.skuData,l=e.skuMap,u=(0,zn.h)(n,Hy),d=(0,r.useContext)(Ie).state,m=nn(),p=(0,r.useContext)(j),f=(0,r.useContext)(Dy),h=(0,r.useContext)(By),v=Og("moe"),g="true"===(null!==Pg.yv&&void 0!==Pg.yv?Pg.yv:v),y=cb((0,r.useState)(""),2),b=y[0],_=y[1],E=cb((0,r.useState)(!1),2),S=E[0],w=E[1],C=cb((0,r.useState)(!!Nr.get("NOTIFY_GID_"+d.currentGoodsId)),2),N=C[0],x=C[1],k=cb((0,r.useState)(!1),2),I=k[0],T=k[1],O=cb((0,r.useState)(!1),2),P=O[0],M=O[1],A=(0,r.useMemo)((function(){return(0,Wr.JV)(n)}),[n]),D=cb((0,r.useState)("1"===Nr.get("ISAPP")?A.app:"1"===Nr.get("ISIOS")?A.ios:A[o]),1)[0],L=cb((0,Le.m)((function(e){return e.pipe(Mt((function(e){return 0===cb(e,1)[0]})),(0,Fe.x)(),(0,Ve.U)((function(e){var t=cb(e,9),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],c=t[5],s=(t[6],t[7]),l=t[8],u=s.isInExchangeActive,d=s.inExchangeAmount,m=s.laku6ExchangeActive,p=s.weuTradeInInfo,f=c.find((function(e){return e.goodsId===n}))||{},h=rn(f.eventsList||[],i),v=u&&!!d&&f.isShowInExchange||m&&f.isLaku6Exchange&&f.isOnSale&&!io(f)||f.weuTradeInConfig.isSupportTradeIn&&p.isOptInTradeIn&&!io(f);return[n||0,r||1,f,o||[[0,0]],a||[0],h||0,v,l]})),(function(e){return e.pipe((0,Ve.U)((function(e){var t=ky(e,8),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],c=t[5],s=t[6],l=t[7];return[[o,n,c],[o.isNotForSale,o.isOnSale,o.isOutOfStock,o.isPreSale,o.isPreSaleOutOfStock,o.isReservation,o.isBigTap,o.isNeedSubscribe,+r,i.map((function(e){return e?"".concat(e,"-777-").concat(r,"-").concat(n):null})),a.map((function(e){var t=ky(e,2),n=t[0],o=t[1];return n?"".concat(n,"-").concat(o,"-").concat(r):null}))]]})),(0,Ve.U)((function(e){var t=ky(e,4),n=ky(t[0],3),r=n[0],o=n[1],a=n[2],i=ky(t[1],10),c=i[0],s=i[1],l=(i[2],i[3]),u=(i[4],i[5]),d=(i[6],i[7]),m=i[8],p=i[9],f=ky(t[2],2),h=f[0],v=f[1],g=ky(t[3],3),y=g[0],b=g[1],_=g[2],E=Iy(Iy([y],ky(b),!1),ky(_),!1).filter((function(e){return e})).join("_");if(0===o)return["noGoodsId","",{}];if(c)return["notForSale","",r];if(!s)return["outOfStock","",r];if(m)return["quicklyBuy",E,r];if(u&&3===a)return 1e3*(Array.from(r.eventsList||[]).find((function(e){return"reservation"===e.activityName}))||{}).startTime>Date.now()&&!p?["reservationBefore","",r]:io(r)?["outOfStock","",r]:["reservationBuy",E,r];if([0,1].includes(h))return d?["bespeak","",r]:io(r)?["outOfStock","",r]:["addToCart",l?E+"?source=presales":E,r];switch(h){case 2:return["bespeak",v,r];case 3:return["bespeakBefore",v,r];case 4:return["bespeakBuy",v,r];case 11:case 13:return["bespeakBefore",v,r];case 14:return["bespeakBuy",v,r];case 21:case 23:return["preOrderBefore",v,r];case 24:return["preOrderBuy",v,r];default:return["outOfStock","",r]}})))}))}),["noGoodsId","",{}],[d.currentGoodsId,d.currentGoodsNum,d.currentBundleIds,d.currentInsuranceIds,d.currentActivityMap,d.goodsInfoActivityList,d.isCountDownShow,d.miExchange,d.isPreOrderTimeToBuy]),3),R=L[0],F=L[1],V=L[2],U=cb((0,Le.m)((function(e){return e.pipe((0,Fe.x)(),(0,Ve.U)((function(e){var t=cb(e,5),n=t[0],r=t[1],o=t[2],a=t[3],es(o.goodsId)||io(o)),o,i]})),(0,Ve.U)((function(e){var t,n=cb(e,6),r=n[0],o=n[1],a=n[2],i=n[3],c=n[4],s=n[5],l={notForSale:"notForSale",outOfStock:r?"outOfStock":"notifyMe",addToCart:i?"soldOut":"buyNow",bespeak:"register",bespeakBuy:"buyNow",preOrderBuy:"buyNow",reservationBuy:"buyNow",reservationBefore:"buyNow",bespeakBefore:"comingSoon",preOrderBefore:"comingSoon",quicklyBuy:"buyNow",default:"noGoodsId"},u={notForSale:["not_sales",Oe.get("Not for Sale")],outOfStock:["out_of_stock",Oe.get("Out of Stock")],notifyMe:["notify_me",Oe.get("Notify Me")],soldOut:["sold_out",Oe.get("Sold out")],buyNow:["buy_now",Oe.get("Buy Now")],register:["register",Oe.get("Register")],toApp:["to_app",Oe.get("Please purchase the preorder products on Mi Store APP.")],comingSoon:["coming_soon",Oe.get("Coming Soon")],noGoodsId:["please_choose",Oe.get("Please select a product")]}[l[o||"default"]||"noGoodsId"];return(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?"1"===Ey("skupanel")&&"please_choose"!==u[0]&&(0,Xt.otExpose)({tip:{a:16,b:9,c:2,d:1,e:2338},modulePos:0,moduleTitle:"submit",elementName:u[0]||"",elementTitle:u[1]||"",tag:c.tagName||"",goodsId:c.goodsId||"",isOpenGA:!0}):"buynow"===l[o||"default"]&&(0,Xt.otExpose)({tip:{c:2,d:1,e:2338},modulePos:0,moduleTitle:"submit",elementName:u[0]||"",elementTitle:u[1]||"",tag:c.tagName||"",goodsId:c.goodsId||""}),[r,o,a,i,u,s]})),(function(e){return e.pipe((0,Ve.U)((function(e){var t=ky(e,6),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],c=t[5];switch(r){case"notForSale":return["add-cart-section__submit--disabled",Oe.get("Not for Sale"),!0,i];case"outOfStock":return n?["add-cart-section__submit--disabled",Oe.get("Out of Stock"),!0,i]:["add-cart-section__submit--sold-out",Oe.get("Notify Me"),!1,i];case"bespeak":return["add-cart-section__submit--main",o||Oe.get("Register"),!1,i];case"bespeakBuy":case"preOrderBuy":return["add-cart-section__submit--main",o||Oe.get("Buy Now"),!1,i];case"addToCart":return a?["add-cart-section__submit--disabled",Oe.get("Sold out"),!0,i]:["add-cart-section__submit--main",Oe.get("Buy Now"),!1,i];case"quicklyBuy":case"reservationBuy":return["add-cart-section__submit--main",Oe.get("Buy Now"),!1,i];case"bespeakBefore":case"preOrderBefore":return["add-cart-section__submit--main",o||Oe.get("Coming Soon"),!1,i];case"reservationBefore":return c?["add-cart-section__submit--main",Oe.get("Buy Now"),!1,i]:["add-cart-section__submit--disabled",o||Oe.get("Coming Soon"),!0,i];default:return["add-cart-section__submit--disabled",Oe.get("Please select a product"),!0,i]}})))}))}),["add-cart-section__submit--disabled",Oe.get("Please select a product"),!0,[]],[N,R,V,d.bigTapDisabledIds,d.isPreOrderTimeToBuy]),4),B=U[0],H=U[1],G=U[2],z=U[3],W=cb((0,Le.m)((function(e){return e.pipe((0,Fe.x)(),(0,Ve.U)((function(e){var t=cb(e,6),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4];return[n,r,o,!t[5]&&(i.includes(a.goodsId)||io(a))]})),(function(e){return e.pipe((0,Ve.U)((function(e){var t=ky(e,4),n=t[0],r=t[1],o=t[2];switch(t[3],o){case"notForSale":return["notSaleTip",!1];case"outOfStock":return n?["notified",r]:["unNotify",r];case"reservationBuy":case"reservationBefore":return["reservationCheckbox",r];case"addToCart":case"bespeak":case"bespeakBefore":case"bespeakBuy":case"preOrderBefore":case"preOrderBuy":default:return["",!1]}})))}),(0,Ve.U)((function(e){var t,a=cb(e,2),i=a[0],s=a[1];switch(i){case"notSaleTip":return[Oe.get("Not sold separately"),"add-cart-section__notify add-cart-section__notify--tips"];case"notified":return[Oe.get("This product has been added to your notification list. We'll notify you once it is back in stock."),"add-cart-section__notify add-cart-section__notify--added"];case"unNotify":return[Oe.get("Looking to purchase this product? Click 'NOTIFY ME'"),"add-cart-section__notify add-cart-section__notify--notify"];case"downloadApp":return["",""];case"reservationCheckbox":return[r.createElement(r.Fragment,{key:"reservationCheckbox"},r.createElement("div",{className:"add-cart-section__checkbox-portal",onClick:function(){return M(!s)}},r.createElement("div",{className:s?"add-cart-section__checkbox add-cart-section__checkbox--checked":"add-cart-section__checkbox"},!(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&r.createElement("i",{className:"xiaomi icon-check"}))),r.createElement("input",{type:"checkbox",id:"reservationCheckbox",checked:s,onChange:function(){return M(!s)}}),r.createElement("label",{className:"add-cart-section__checkbox-label",htmlFor:"reservationCheckbox",dangerouslySetInnerHTML:{__html:Oe.get("Tick the consent clause to agree to the Xiaomi")}}),r.createElement("a",{href:"".concat((0,c.jr)(n).wwwSite[o],"/service/support/pre-order-terms.html")},Oe.get("Preorder Terms and Conditions"))),"add-cart-section__notify add-cart-section__checkbox-wrapper"];default:return["",""]}})))}),["",""],[N,P,R,V,d.bigTapDisabledIds,d.isPreOrderTimeToBuy]),2),Y=W[0],X=W[1],q=cb((0,zr.$)((function(e,t){return e.pipe(function(e,t,n){return function(r){return r.pipe((0,Ve.U)((function(r){return[r,e({local:t,platform:n,callbackUrl:window.location.href})]})),Mt((function(e){var t=ky(e,2);return t[0],!t[1]})),(0,Ve.U)((function(e){var t=ky(e,2),n=t[0];return t[1],n})))}}(cn.R9,n,o),$r(500),Ut(t),(0,no.w)((function(e){var t=cb(e,2),r=t[0],o=t[1];return f.getObservable({params:{goodsId:r}}).pipe((0,Ve.U)((function(e){return 0===e.errNo?(Nr.set("NOTIFY_GID_"+r,"true",{expires:1,patta.hasEmail),w(!0),Date.now()):(_(e.errMsg),o)})))})))}),0,[d.currentGoodsId]),2),Z=q[0],K=q[1],J=cb((0,zr.$)((function(e){return e.pipe($r(500),(0,Xe.b)((function(e){var t=cb(e,8),n=(t[0],t[1],t[2],t[3]);t[4],t[5],t[6],t[7];(0,qt.g)("click",{category:"version_selection",label:n+"",section:"addCart",action:"buy_click"})})),ze((function(e){var t=cb(e,8),n=(t[0],t[1],t[2],t[3],t[4]);t[5],t[6],t[7];return n.currentGoodsNum>1&&n.miExchange.isInExchangeActive&&_(Oe.get("Sorry, you can only purchase one device at a time with mi exchange.")),1===n.currentGoodsNum})),(0,no.w)((function(e){var t,r=cb(e,8),a=r[0],i=(r[1],r[2]),s=(r[3],r[4]),l=r[5],u=r[6],d=r[7],m=Ey("pageId"),p=Ey("viewId");try{Q(s)}catch(E){}var f={common:Object.assign(function(e){var t;if(!e)return{};return{view_tip:e.viewTip||"",instance_id:e.instanceId||"",ref_tip:e.refTip||"",session_id:e.sessionId||"",lastsource:e.lastSource||"",utm_type:e.utmType||"",utm_channel:e.utmChannel||"",utm_campaign:e.utmCampaign||"",utm_source:e.utmSource||"",utm_medium:e.utmMedium||"",utm_term:e.utmTerm||"",utm_content:e.utmContent||"",exp_id:(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?"mistore4":""}}((0,Xt.getSettings)()),{app_platform:o||"pc",tip:l||"",site_country:n||""}),biz:{cart_add:{goods_amount:String(s.totalPrice)}}},v=Array.from(d.eventsList||[]).find((function(e){return"reservation"===e.activityName}))||{},g="reservationBuy"===u?{act_no:v.activityNo||"",act_type:v.activityType||0,source:"deposit"}:{},y=s.miExchange.laku6ExchangeActive?((t={source:"i18n_exchange_laku6"})["extend[0][imei]"]=s.miExchange.laku6ExchangeModelImei,t):{},b=s.miExchange.weuTradeInInfo.isOptInTradeIn&&d.weuTradeInConfig.isSupportTradeIn?{source:"trade_in",trade_in_weu_price_quote_id:s.miExchange.weuTradeInInfo.priceQuoteId||"",trade_in_weu_product_name:s.miExchange.weuTradeInInfo.deviceName||""}:{};return h.getObservable({params:ib(ib(ib({id:a,tracking_addcart:"".concat(D,"->{").concat(m,"}::{").concat(p,"}->{").concat(o,"_buy_").concat(i,"}::{btnBuyNow}"),otdata:window.btoa(JSON.stringify(f)),oneclick:1},y),b),g)}).pipe((0,Ve.U)((function(e){if(0===e.errNo){var t=s.miExchange.laku6ExchangeActive?"":"&useexchange=1",r=xy()?"".concat((0,c.jr)(n).wwwV4Site.pc,"/checkout/?oneclick=1"):"".concat((0,c.jr)(n).buySite[o],"/buy/checkout?oneclick=1").concat(t);return window.location.assign(r)}_(e.errMsg)})))})))}),null),1)[0],$=cb((0,zr.$)((function(e){return e.pipe($r(500),(0,Xe.b)((function(e){var t=cb(e,6),n=(t[0],t[1],t[2],t[3]);t[4],t[5];(0,qt.g)("click",{category:"version_selection",label:n+"",section:"addCart",action:"buy_click"})})),(0,no.w)((function(e){var t=cb(e,6),r=t[0],a=t[1],i=t[2],s=t[3],l=t[4],u=t[5],d=Ey("pageId"),m=Ey("viewId");try{Q(l)}catch(f){}var p={common:Object.assign(function(e){var t;if(!e)return{};return{view_tip:e.viewTip||"",instance_id:e.instanceId||"",ref_tip:e.refTip||"",session_id:e.sype:e.utmType||"",utm_channel:e.utmChannel||"",utm_campaign:e.utmCampaign||"",utm_source:e.utmSource||"",utm_medium:e.utmMedium||"",utm_term:e.utmTerm||"",utm_content:e.utmContent||"",exp_id:(null===(t="chunk_pc_t.getSettings)()),{app_platform:o||"pc",tip:u||"",site_country:n||""}),biz:{cart_add:{goods_amount:String(l.totalPrice)}}};return h.getObservable({params:{id:r,tracking_addcart:"".concat(D,"->{").concat(d,"}::{").concat(m,"}->{").concat(o,"_buy_").concat(i,"}::{btnBuyNow}"),otdata:window.btoa(JSON.stringify(p))}}).pipe((0,Ve.U)((function(e){if(0===e.errNo)return a?window.location.assign("".concat((0,c.jr)(n).buySite[o],"/cart/recommend?phone=").concat(i,"&goodsId=").concat(s)):window.location.aso],"/cart/"));_(e.errMsg)})))})))}),null),1)[0];function Q(e){if(u.data&&u.data.isSendFbqData&&"function"==typeof window.fbq){var t=cb(e.goodsInfoActivityList.filter((function(t)entGoodsId})),1)[0];window.fbq("track","AddToCart",{content_name:e.productName||"",content_category:t.mrpProductCategory||"",content_ids:[t.skuId],content_type:"product",value:e.productPrice||0,currency:(0,tn.S)(n).currencyCode||""})}}function ee(e,t){var r="".concat((0,c.jr)(n).wwwSite[o],"in"===n?"/flashsale/openbuy/":"/hdindex/openbuy/"),a=t||r;return(0,qt.g)("click",{category:"version_selection",label:e+"",section:"openBuy",action:"buy_click",targetUrl:a}),window.location.assign(a)}function te(e,t){var r="".concat((0,c.jr)(n).wwwSite[o],"in"===n?"/flashsale/preorder/":"/hdindex/preorder/"),a=t||r;return(0,qt.g)("click",{category:"version_selection",label:e+"",section:"preOrder",action:"buy_click",targetUrl:a}),window.location.assign(a)}(0,Le.m)((function(e){return e.pipe((0,Fe.x)(),(0,Xe.b)((function(e){var t=cb(e,1)[0];return x(!!Nr.get("NOTIFY_GID_"+t))})))}),[!1],[d.currentGoodsId,K]);var ne=cb(function(e){var t=$y(e,12),n=t[0],o=t[1],a=t[2],i=t[3],c=t[4],s=t[5],l=t[6],u=t[7],d=t[8],m=t[9],p=t[10],f=t[11],h=$y((0,r.useState)(!1),2),v=h[0],g=h[1],y=$y((0,r.useState)({currentGoodsInfo:{},recommendGoodsInfo:{}}),2),b=y[0],_=y[1],E=(0,r.useContext)(j),S=$y((0,zr.$)((function(e){return e.pipe($r(500),(0,Xe.b)((function(e){var t=$y(e,2),n=t[0],r=t[1];_({currentGoodsInfo:n,recommendGoodsInfo:r}),g(!0)})))}),null),1)[0],w=$y((0,Le.m)((function(e){return e.pipe((0,Fe.x)(),(0,Ve.U)((function(e){var t=$y(e,4),n=t[0],r=t[1],o=t[2],a=t[3],i=o.filter((function(e){return!(a.includes(e.goodsId)||io(e))})),c=i.map((function(e){return e.goodsId}));return[n.filter((function(e){return c.includes(Number(e[1].goodsId[0]))})),r,i]})))}),[[],[],[]],[n,o,a,u.bigTapDisabledIds]),3),C=w[0],N=w[1],x=w[2];return[v,g,b,S,function(e){var t;if(g(!1),e){var n=$y(an([e.price,e.marketPrice],e.eventsList||[],u.currentActivityMap,!1),1)[0],r=(0,Xt.otClick)({tip:{c:2,d:1,e:2886},modulePos:0,moduleTitle:"submit",elementName:s[0]||"",elementTitle:s[1]||"",tag:e.tagName||"",goodsId:e.goodsId||"",productId:e.productId||"",expId:(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))?"mistore4":"",extra:{goodsCount:1,goodsAmount:n||0}});d([e.goodsId+"-0-1",e.hasRecommend,e.tagName,e.goodsId,{totalPrice:Number(n),productPrice:Number(n),productName:e.goodsTitle,goodsInfoActivityList:[e],currentGoodsId:e.goodsId},r])}else m(i,u,c,l,p,f,!0)},function(){var e=C.findIndex((function(e){return l.goodsId===Number(e[1].goodsId[0])}));if(e<=0)re][0].split(",")[0]),n=function(e){if(e<=0)return!1;var t=e-1,r=C.filter((function(e){return Number(e[0][0].split(",")[0])===t})).reduce((function(e,t){var n=Number(t[1].goodsId[0])||0,r=E.data.goodsInformation.find((function(e){return e.goodsId===n}));return Number(null==r?void 0:r.price)>Number(l.price)&&e.push(n),e}),[]);return r.length?E.data.goodsInformation.find((function(e){return e.goodsId===r[0]}))||!1:n(t)};return n(t)},C,N,x]}([l,i,s,R,F,z,V,d,$,me,N,P]),9),re=ne[0],oe=ne[1],ae=ne[2],ie=ne[3],ce=ne[4],se=ne[5],le=ne[6],ue=ne[7],de=ne[8];function me(t,r,o,a,i,c,s){var l=r.currentGoodsId,p=r.bigTapDisabledIds,f=r.currentGoodsNum,h=r.totalPrice,v="outOfStock"===t&&!i;gn().format("YYYY-MM-DD HH:mm:ss");var y=(0,Xt.otClick)({tip:{a:16,b:9,c:2,d:1,e:v?2885:2886},modulePos:0,moduleTitle:"submit",elementName:z[0]||"",elementTitle:z[1]||"",tag:a.tagName||"",goodsId:l||"",productId:a.productId||"",expId:v?"":"mistore4",isOpenGA:v,itemName:a.goodsName||"",itemId:String(l)||"",commodityId:a.commodityId||"",notifyMeClickDate:gn().format("a:v?{}:{goodsCount:f||0,goodsAmount:h||0}});if(!v)if("in"===n){var b=e.categories&&e.categories.length>0?{categoryName:e.categories[e.categories.length-1].title,categorygth-1].catId}:{categoryName:"",categoryId:""},E=e.categories&&e.categories.length>1?{subCategoryName:e.categoriesubCategoryId:e.categories[e.categoriee:"",subCategoryId:""};(0,Xt.otEcommerce)({event:"add_to_cart",ecommerce:{tip:"16.9.2.1.2886",elementName:z[0]||"",elementTitle:z[1]||"",commodityId:a.commodityId||"",product_id:a.productId,productId:a.productId,productName:a.productName||"",currency:(0,tn.S)(n).currencyCode||"",items:[{itemName:m.goodsName||"",itemId:d.currentGoodsId||0,price:m.totalPrice||0,quantity:d.currentGoodsNum||0,itemCategory2:m.itemCategory2}],categoryName:b.categoryName,categoryId:String(b.categoryId),parentCategoryName:E.subCategoryName,parentCategoryId:String(E.subCategoryId),moeEnable:g}})}else(0,Xt.otEcommerce)({event:"add_to_cart",ecommerce:{tip:"16.9.2.1.2886",elementName:z[0]||"",elementTitle:z[1]||"",commodityId:a.commodityId||"",items:[{itemName:m.goodsName||"",itemId:d.currentGoodsId||0,price:m.totalPrice||0,quantity:d.currentGoodsNum||0,itemCategory2:m.itemCategory2}]}});var S={addToCart:function(e){var t,n=e.targetUrl,r=e.goodsId,o=e.goodsInfo,a=e.globalState;(null===(t=u.data)||void 0===t?void 0:t.isShowRecommendDialog)&&o.isRecommend&&se()&&!s?ie([V,se(),y]):$([n,o.hasRecommend,o.tagName,r,a,y])},quicklyBuy:function(e){var t=e.targetUrl,n=e.goodsId,r=e.goodsInfo,o=e.globalState;J([t,r.hasRecommend,r.tagName,n,o,y,"quicklyBuy",r])},outOfStock:function(e){var t=e.goodsId;return e.isNotified?null:Z(t)},reservationBuy:function(e){var t=e.goodsInfo,n=e.goodsId;e.canReservation?J([o,t.hasRecommend,t.tagName,n,r,y,"reservationBuy",t]):_(Oe.get("Please tick the consent clause to agree to the Xiaomi Preorder Terms and Conditions first."))},preOrderBefore:function(e){return te(e.goodsId,e.targetUrl)},preOrderBuy:function(e){return te(e.goodsId,e.targetUrl)},bespeak:function(e){return ee(e.goodsId,e.targetUrl)},bespeakBefore:function(e){return ee(e.goodsId,e.targetUrl)},bespeakBuy:function(e){return ee(e.goodsId,e.targetUrl)},default:function(){}};return _(""),(S[t]||S.default)({goodsId:l,targetUrl:o,goodsInfo:a,isNotified:i,canReservation:c,disabledIds:p,globalState:r})}var pe=cb((0,zr.$)((function(e){return e.pipe($r(500),(0,Xe.b)((function(){return p.getService({params:{tag:a}})})))})),1)[0];return r.createElement(r.Fragment,null,r.createElement("section",{className:"product__section add-cart-section"},"success"===p.ajaxStatus&&Y?r.createElement("aside",{className:X},Y):r.createElement(r.Fragment,null),r.createElement("div",{className:"add-cart-section__wrap"},function(e){switch(e){case"success":return r.createElement("div",{className:"add-cart-section__submit-group"},r.createElement("button",{className:"add-cart-section__btn add-cart-section__submit ".concat(B),onClick:function(){return me(R,d,F,V,N,P)},disabled:!!G,"aria-label":H},H));case"error":return r.createElement("button",{className:"add-cart-section__btn add-cart-section__submit add-cart-section__submit--failed",onClick:function(){return pe([])},"aria-label":Oe.get("Click here to retry")},Oe.get("Click here to retry"));case"unsent":case"loading":default:return r.createElement("button",{className:"add-cart-section__btn add-cart-section__submit add-cart-section__submit--loading",disabled:!0,"aria-label":Oe.get("Data loading...")},Oe.get("Data loading..."))}}(p.ajaxStatus)),r.createElement(fd.a,{alertMessage:b,onClose:function(){return _("")}})),r.createElement(Jy,{isShow:S,needEmail:I,resetCallBack:function(){return w(!1)}}),(null===(t=u.data)||void 0===t?void 0:t.isShowRecommendDialog)&&r.createElement(ab,{itemByPlatform:{Modal:vn.u,PriceDisplay:un.n,SkuSelect:No},platform:o,isShow:re,data:ae,skuList:ue,skuMap:le,skuData:de,resetCallBack:function(){return oe(!1)},addToCart:ce}))}function lb(){return r.createElement("div",{className:"product__notice"},r.createElement("p",{dangerouslySetInnerHTML:{__html:Oe.get("financing footer")}}))}var ub=(0,zn.f)({data:{isShowPinCodeCheckComponent:[{api:!0,locals:["in"]}],isShowZipCodeComponent:[{api:!0,locals:["fr","pl"]}],isShowShipAddressSectionComponent:[{api:!0,locals:["id"]}],isShowExchangeSectionComponent:[{api:!0,locals:["in"]}],isShowQuantityBottom:[{api:!0,locals:["in"]}],isShowLiveChat:[{api:!0,locals:["hk","tw","es","fr","mx","it","de","nl","pl","tr","uk","id","ru","in"]}]},html:{},js:{},css:{}},{data:{isShowProductNotice:[{api:!0,locals:["de"]}],isShowSnapmint:[{api:!0,locals:["in"]}]},html:{}}),db=function(){return(db=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.car=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},pb=function(e,t,n){if(n||2===argumength;oArray.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function fb(e,t){return hb(t,e.map((function(e){return e.list?e.list.map((function(e){return e.name||""})):[]})))}function hb(e,t,n,r){if(void 0===n&&(n={skuName:[],skuIndex:[],goodsId:[]}),void 0===r&&(r=0),!t||!t.length||r&&r>=t.length||!e)return[];var o=[];return Object.keys(e).forEach((function(a){var i=t[r].findIndex((function(e){return e===a})),c={skuName:pb(pb([],mb(Array.from(n.skuName||[])),!1),[a],!1),skuIndex:pb(pb([],mb(Array.from(n.skuIndex||[])),!1),[i],!1),goodsId:[]};if(r+1===t.length){var s=db({},e[a]);c.goodsId=s.ids,o=pb(pb([],mb(o),!1),[c],!1)}if(e[a].next&&e[a].next instanceof Object&&r+1<t.length){var l=hb(e[a].next,t,c,r+1);o=pb(pb([],mb(o),!1),mb(l),!1)}})),o}function vb(e,t,n,r){if(void 0===n&&(n={skuName:[]}),void 0===r&&(r=0),!t||!t.length||r&&r>=t.length||!e)return[];var o=[];return Object.keys(e).forEach((function(a){var i={skuName:pb(pb([],mb(Array.from(n.skuName||[])),!1),[a],!1)};if(r+1===t.length&&(o=pb(pb([],mb(o),!1),[i],!1)),e[a].next&&e[a].next instanceof Object&&r+1<t.length){var c=vb(e[a].next,t,i,r+1);o=pb(pb([],mb(o),!1),mb(c),!1)}})),o}function gb(e,t,n){return function(r){return r.pipe(Mt((function(e){var t=mb(e,4),n=(t[0],t[1]);t[2],t[3];return!Object.keys(n).length})),(0,Xe.b)((function(t){var n=mb(t,4),r=n[0];n[1],n[2],n[3];return e(r||"")})),(0,Ve.U)((function(e){var t=mb(e,4),n=(t[0],t[1]),r=t[2],o=t[3];return[o&&o.length?o.reduce((function(e,t){return r[t]&&(e[t]=r[t]),e}),{}):r,Object.keys(n).map((function(e){return{key:e,title:n[e].name,list:"capacity"===e&&o&&o.length?o.map((function(t){return n[e].all[t]})):Object.keys(n[t){return n[e].all[t]}))}}))]})),(0,Ve.U)((function(e){var t=mb(e,2),n=t[0],r=t[1],o=r.map((function(e){return e.list?(e.list||[]).map((function(e){return e.name||""})):[]}));return[n,((vb(n,o)||[]).map((function(e){return e.skuName||[]}))[0]||[]).map((function(e){var t=o.findIndex((function(t){return t.includes(e)}));return r[t]}))]})),(0,Ve.U)((function(e){var t=mb(e,2),n=t[0],r=t[1];return[fb(r,n),r]})),(0,Ve.U)((function(e){var t=mb(e,2),r=t[0],o=t[1];return n&&"function"==typeof n?n(r,o):[r,o]})),(0,Xe.b)((function(e){var n=mb(e,2),r=n[0],o=n[1],a=r.map((function(e){var t=e.goodsId,n=e.skuName,r=mb(t,1)[0],a=n.map((function(e,t){return(o[t]&&o[t].list||[]).find((function(t){return t.name===e}))})),i=Object.assign.apply(Object,pb([{}],mb(a),!1));return[Number(r||0),n,{tips:i.tips,img:i.img,rgb:i.rgb}]}));t(a)})),(0,Ve.U)((function(e){var t=mb(e,2),n=t[0],r=t[1];return[n.map((function(e){return[e.skuIndex.join(","),e]})),r]})))}}var yb=n(5355),bb=n(6924),_b={data:{customLiveChat:[{api:{bgColor:"#D24204",chatPosition:"right",chatTitle:"Давайте пообщаемся",scriptId:"LiveChat.SDK",isPoco:"poco"==="".concat("mi")},locals:["ru"]}],visitorLivechat:[{api:!0,locals:["id","pl","my","eg","es","fr","it","de","cl","uk"]}],isUseLiveChatURL:[{api:{in:"https://in.chat.kefu.mi.com/page/index/v2?tag=in&token=aW4jNTAwMCNpbi53ZWIubWkjd2Vic2l0ZSNnb29kc0RldGFpbA==&groupId=P0&locale=en&closedshow=1"},locals:["in"]}]},css:{},html:{},js:{}},Eb=function(){return(Eb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Sb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},wb=function(e){var t=e.siteName,n=e.local,o=e.platform,a=e.warning,i=e.isShowWarning,s=e.loadChart,l=e.onClickClose,u=e.onClickStartChat,d=Sb((0,r.useState)(!0),2),m=d[0],p=d[1],f=Sb((0,r.useState)(!1),2),h=f[0],v=f[1],g=Sb((0,r.useState)(!1),2),y=g[0],b=g[1],_=(0,zn.h)(n,_b),E=_.data,S=E.visitorLivechat,w=E.isUseLiveChatURL,C=E.customLiveChat,N=function(){var r=e.product,o=void 0===r?{}:r,a=e.userInfoContext.data.profile,i=function(){var e={};return o.goodsTitle&&(e.ProductInfo={value:JSON.stringify({Name:o.goodsTitle,Link:location.href,Price:o.marketPrice,Img:o.goodsImage,Describe:o.goodsName})}),t&&(e.Source={value:"mi"===t?1:2,isDisplayable:!0}),n&&(e.CountryCode={value:n,isDisplayable:!0},e.LanguageCode={value:(0,bb.Nj)(n).lang,isDisplayable:!0}),a.nickName&&(e.Name={value:a.nickName,isDisplayable:!0}),a.userId&&(e.MiId={value:0===a.userId?"":a.userId,isDisplayable:!0}),e};if(C){var c=window;c.LiveChat.SDKDK.startChat()}else window.Microsoft.Omnichannel.LiveChatWidget.SDK.setContextProvider(i),window.Microsoft.Omnichannel.LiveChatWidget.SDK.startChat()},x=function(e){(0,Xt.otClick)({tion",elementName:"chat",elementTitle:"livechat_policy_".concat(e)})};return(0,r.useEffect)((function(){_.data.isUseLiveChatURL,function(e,t,n){var r=C;if(r&&(document.getElementByn;if((!C||(0,cn.bg)())&&s&&!y){var o=(0,c.qM)(t),a=o.appId,i=o.appVisitorId,l=o.orgId,u=o.orgUrl,d=o.scriptSrc,m=!(0,cn.bg)()&&S,p=document.createElement("script");p.type="text/javascript",p.src=d,p.setAttribute("data-"data-enable-lcw-autofill","true"),C?(p.setAttribute("data-olor-override",r.bgColor),p.setAttribute("data-position-override",r.chatPosition),p.setAttribute("data-header-title",r.chatTitle),p.id=r.scriptId):(p.id="Microsoft_Omnichannel_LCWidget",p.setAttribute("w-version","prod"),p.setAttribute("data-org-id",l),p.setAttribute("data-org-url",u)),document.body.appendChild(p),b(!0)}}(0,n,o)}),[s]),r.createElement("div",{className:"live-chat-support poco",id:"live-chat-support"},r.createElement("div",{className:"live-chat-icon",onClick:function(){"function"==typeof u&&u(),w?window.open(w[n],void 0,"scrollbars=no,status=no,location=no,toolbar=no,menubar=no,\n      width=375,height=".concat(.7*screen.height,", left=0"pc"===o?"pc":"m"})}}),i&&m&&a&&r.createElement("div",{className:"live-chat-warning-container"},r.createElement("div",{className:"live-chat-warning-triangle"}),r.createElement("div",{className:"live-chat-warning"},r.createElement("span",null,a),r.createElement("span",{className:"live-chat-warning-close",onClick:function(){p(!1),"function"==typeof l&&l()}},"x"))),r.createElement(vn.u,{isModalShow:h,closeModal:function(){return v(lText:Oe.get("No"),isBorderBottom:!1,confirm:function(){v(!1),x("yes"),N()},cancel:function(){x("no"),v(!1)}},r.createElement("div",{className:"livechat-privacy__tip"},r.createElement(ln.b,{inputStr:Oe.get("I have read and agree to Xiaomi's {link} and {privacy}",{link:"#@privacy:"#@@#".concat(Oe.get("privacy policy"),"#@@#")}),linkArr:["".concat((0,c.jr)(n).wwwSite.pc,"/support/terms/terms-of-use"),"".concat((0,c.jr)(n).wwwSite.pc,"/about/privacy")],target:"_blank"}))))},Cb=function(e){var t=(0,Yu.aU)(),n=(0,Yu.Fe)();return r.createElement(yb.UserInfoService,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!0},r.createElement(Nb,Eb({},e)))};function Nb(e){var t=(0,Yu.aU)(),n=(0,Yu.Fe)(),o=(0,r.useContext)(yb.UserInfoContext);return r.createElement(wb,Eb({},e,{local:t,platform:n,userInfoContext:o}))}var xb=n(9078),kb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ib=[{text:Oe.get("You might like those perfect phones")},{text:Oe.get("Larger capacity have better user experience in long run")},{text:Oe.get("Struggling? Let me help!")}],Tb=function(e){var t,n=(0,r.useContext)(j),o=kb((0,r.useState)(!1),2),a=o[0],i=o[1],c=kb((0,r.useState)(""),2),s=c[0],l=c[1],u=kb((0,r.useState)(!1),2),d=u[0],m=u[1],p=(0,Yu.aU)(),f=(0,zn.h)(p,_b).data.isUseLiveChatURL,h=e.siteName,v=e.tag,g=e.buyProduct_selectConfig,y=e.product,b=e.loadChart,_=function(){(0,xb.qQ)("required","live-chat_buyProduct_".concat(v,"_close-warning"),(new Date).toDateString())},E=function(e,n){void 0===n&&(n=5e3),clearTimeout(t),l(e),t=setTimeout((function(){l(""),_()}),n)};return(0,r.useEffect)((function(){if("success"===n.ajaxStatus){var e="undefined"!=typeof document?localStorage.getItem("live-chat_buyProduct_".concat(v,"_close-warning")):null,t=!0;"undefined"!=typeof document&&null!==e&&(gn(new Date).subtract(1,"day")>gn(e)?(t=!0,localStorage.removeItem("live-chat_buyProduct_".concat(v,"_close-warning"))):t=!1),i(t);var r=!1;if("undefined"!=typeof document){var o=JSON.parse(localStorage.getItem("buyProduct_".concat(v,"_visit"))||"{}"),a=o.startTime,c=void 0===a?gn(new Date):a,s=o.time,l=void 0===s?0:s;gn(new Date).subtract(2,"day")>gn(c)?(0,xb.qQ)("required","buyProduct_".concat(v,"_visit"),JSON.stringify({startTime:gn(new Date),time:1})):l>=2?(r=!0,m(!0),(0,xb.qQ)("required","buyProduct_".concat(v,"_visit"),JSON.stringify({startTime:c,time:l+1}))):(0,xb.qQ)("required","buyProduct_".concat(v,"_visit"),JSON.stringify({startTime:c,time:l+1}))}r?E(Ib[2].text):!r&&g&&E(Ib[1].text)}}),[n.ajaxStatus]),(0,r.useEffect)((function(){s||d||!g||E(Ib[1].text)}),[g]),(0,r.useEffect)((function(){var e,t;if(a&&s){var r=void 0;d?r="在某个版本选择页2日内3次访问停留":!d&&g&&(r="在一个版本页中挑选不同配置4次"),(0,Xt.otExpose)({isOpenGA:!0,tip:"16.9.30.1.17996",elementName:"pop",elementTitle:r,productId:(null===(t=null===(e=n.data)||void 0===e?void 0:e.goodsInformation[0])||void 0===t?void 0:t.productId)||""})}}),[a,s]),r.createElement(Cb,{siteName:h,warning:s,product:y,isShowWarning:a,onClickClose:function(){var e,t;(0,Xt.otClick)({tip:{b:9,c:30,d:1,e:17997},isOpenGA:!0,elementName:"close",productId:(null===(t=null===(e=n.data)||void 0===e?void 0:e.goodsInformation[0])||void 0===t?void 0:t.productId)||""}),_()},onClickStartChat:function(){var e,t;(0,Xt.otClick)({tip:{b:9,c:29,d:1,e:17994},link:f?f[p]:void 0,isOpenGA:!0,elementName:"chat",elementTitle:a&&s?"chat-pop":"chat",productId:(null===(t=null===(e=n.data)||void 0===e?void 0:e.goodsInformation[0])||void 0===t?void 0:t.productId)||""})},loadChart:b})},Ob=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Pb(e){var t,n,o,a,i,c,s,l,u,d=e.local,m=e.platform,p=e.siteName,f=e.tag,h=e.showBuy,v=void 0!==h&&h,g=e.isPoco,y=void 0!==g&&g,b=(0,r.useContext)(Ie),_=b.state,E=b.dispatch,S=(0,r.useContext)(j),w=(0,r.useContext)(ot),C=(0,r.useContext)(vt),N=(0,r.useContext)(Nt),x=(0,r.useContext)(Pt),k=S.data,I=S.data.showDelivery,T=w.data,O=N.data,P=(0,zn.h)(d,ub),M=!!P.data&&!!P.data.isShowProductNotice,A=!!P.data&&!!P.data.isShowSnapmint,D=Ob((0,r.useState)(!1),2),L=D[0],R=D[1],F=nn(),V=Og("moe"),U="true"===(null!==Pg.yv&&void 0!==Pg.yv?Pg.yv:V);(0,r.useEffect)((function(){if(k.goodsInformation.length){var e=Number(Ey("gid")||0);Ob(k.goodsInformation.filter((function(t){return t&&t.goodsId===e})),1)[0]&&E({type:ue,payload:e})}}),[k.goodsInformation]);var B=Ob((0,Le.m)((function(e){return e.pipe((0,Fe.x)(),(0,Ve.U)((function(e){return Ob(e,1)[0]})),Ue("choiceData"),(0,Ve.U)((function(e){return[e.productTitle,e.skuRank,e.skuTree,e.rankSort]})),gb((function(e){return E({type:Z,payload:e||""})}),(function(e){return E({type:ne,payload:e})})))}),[[],[]],[k]),2),H=B[0],G=B[1];(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){return Ob(e,1)[0]})),Ue("goodsInformation"),(0,Ve.U)((function(e){return e.map((function(e){return e.goodsId})).join(",")})),ze((function(e){return!!e})),(0,Fe.x)(),(0,Xe.b)((function(e){w.getService({params:{goods_ids:e}})})),(0,Xe.b)((function(e){C.getService({params:{goods_ids:e}})})))}),!1,[k]),(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){return Ob(e,1)[0].skuId})),ze((function(e){return!!e})),(0,Fe.x)(),(0,Xe.b)((function(e){A&&x.getService({params:{sku:e}})})))}),!1,[F]);var z=(0,Le.m)((function(e){return e.pipe((t=function(e){return E({type:re,payload:e})},n=function(e){return E({type:ee,payload:e})},function(e){return e.pipe(Mt((function(e){var t=mb(e,3),n=t[0];return t[1],t[2],!n.length})),(0,Fe.x)((function(e,t){var n=mb(e,3),r=n[0],o=n[1],a=n[2],i=mb(t,3),c=i[0],s=i[1],l=i[2];return(r||[]).length===(c||[]).length&&(o||[]).length===(s||[]),(0,Xe.b)((function(e){var n=mb(e,3),r=n[0],o=n[1],a=(n[2],(r||[]).filter((function(e){return e.isReservation})).map((function(e){return e.goodsId}))),i=(o||[]).filter((function(e){return"reservation"===e.activityName&&a.includes(e.goodsId)})),c={dailyPicksIds:(o||[]).filter((function(e){return"dailyPicks"===e.activityName})).map((function(e){return e.activityId})),couponRewardsIds:(o||[]).filter((function(e){return"couponRewards"===e.activityName})).map((function(e){return e.activityId})),reservationIds:i.map((function(e){return e.activityId})),bespeakList:(r||[]).filter((function(e){return[1,2,3,4,11,13,14].includes(e.daMiaoStatus)})),preOrderList:(r||[]).filter((function(e){return[21,23,24].includes(e.daMiaoStatus)}))};t(c)})),(0,Ve.U)((function(e){var t=mb(e,3),n=t[0],r=t[1],o=t[2];return(n||[]).map((function(e){var t=mb((o||[]).filter((function(t){return t.goodsId===e.goodsId})),1)[0],n=!!t&&t.isOutOfStockInArea||e.isOutOfStock;return Object.assign({},e,{eventsList:(r||[]).filter((function(t){return t.goodsId===e.goodsId}))},{isOutOfStock:n})}))})),(0,Xe.b)((function(e){return n(e)})))}));var t,n}),[],[k.goodsInformation,T.activityList,O.goodsStock]),W=Ob((0,Le.m)((function(e){return e.pipe(ze((function(e){var t=Ob(e,3);t[0],t[1];return 0!==t[2]})),(0,Ve.U)((function(e){var t=Ob(e,3),n=t[0],r=t[1],o=t[2];return[n,r.find((function(e){return e.goodsId===o}))||{}]})),(0,Ve.U)((function(e){var t=Ob(e,2),n=t[0],r=t[1];return[!(io(r)||!r.isOnSale||!n.packSet||!n.packSet.length||r.isReservation),!io(r)&&!!r.isOnSale&&!r.isReservation,r.goodsDealer||"",!(io(r)||!r.isOnSale||!r.isShowInExchange||r.isReservation),!!r.isLaku6Exchange]})),(0,Xe.b)((function(e){var t=Ob(e,2),n=t[0],r=t[1];n||E({type:pe}),r||E({type:he})})))}),[!1,!1,!1,""],[k,_.goodsInfoActivityList,_.currentGoodsId]),5),Y=W[0],X=W[1],q=W[2],K=W[3],J=W[4],$=(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){var t=Ob(e,4),n=t[0],r=t[1],o=t[2],a=t[3];return!!(a&&Object.getOwnPropertyNames(a).length>0)&&(!!n.length&&!!r.length&&!!o.length)})))}),!1,[G,H,z,F]),Q=(0,Le.m)((function(e){return e.pipe((0,Ve.U)((function(e){var t=Ob(e,2),n=t[0],r=t[1];return n.find((function(e){return e.goodsId===r}))||{}})))}),!1,[_.goodsInfoActivityList,_.currentGoodsId]);return(0,r.useEffect)((function(){var e,t,n,r;if((!(null===(e="chunk_pc_v4")?void 0:e.includes("v4"))||(null===(t="chunk_pc_v4")?void 0:t.includes("v4"))&&v)&&$)if("in"===d){var o=S.data.categories,a=o&&o.length>0?{categoryName:o[o.length-1].title,categoryId:o[o.length-1].catId}:{categoryName:"",categoryId:""},i=o&&o.length>1?{subCategoryName:o[o.length-2].title,subCategoryId:o[o.length-2].catId}:{subCategoryName:"",subCategoryId:""};(0,Xt.otEcommerce)({event:"view_item",ecommerce:{pageType:"version-selection",productId:(null===(n=S.data.goodsInformatioock?"out_of_stock":"in_stock",tag:F.tagName||"",tip:"16.9.0.0.2337",items:[{itemName:F.goodsName||"",itemId:F.goodsId||"",price:F.totalPrice||0,itemCategory2:Q.itemCategory2,index:0,quantity:_.currentGoodsNum||0}],categoryName:a.categoryName,categoryId:String(a.categoryId),parentCategoryName:i.subCategoryName,parentCategoryId:String(i.subCategoryId),imageUrl:F.goodsImage,moeEnable:U}})}else(0,Xt.otEcommerce)({event:"view_item",ecommerce:{pageType:"version-selection",productId:(null===(r=S.data.goodsInformation[0])||void 0===r?void 0:r.productId)||"",commodityId:F.commodityId||"",stock:F.isOutOfStock?"out_of_stock":"in_stock",tag:F.tagName||"",tip:"16.9.0.0.2337",items:[{itemName:F.goodsName||"",itemId:F.goodsId||"",price:F.totalPrice||0,itemCategory2:Q.itemCategory2,index:0,quantity:_.currentGoodsNum||0}]}})}),[$,v]),(0,r.useEffect)((function(){if($)try{(0,Xt.pubSubPush)({itemId:F.goodsId,eventName:"page_view",pageType:"product-station"})}catch(e){}}),[$]),r.createElement("main",{className:je()("product__main",{"product__main--footer-nopadding":M,"product__main--hide-specs":k.isHiddenSpec})},r.createElement("div",{className:"product__container"},r.createElement("aside",{className:"product__aside"},r.createElement(en,{local:d,platform:m})),r.createElement("article",{className:"product__article"},r.createElement(qn,{siteName:powBuy:v}),r.createElement(Kn,null),r.createElement(Fr,{local:d,platform:m,siteName:p||"mi"}),r.createElement(Gr,null),(null===(t=P.data)||void 0===t?void 0:t.isShowPinCodeCheckComponent)&&r.createElement(lo,{local:d,platform:m}),r.createElement(Io,{skuList:G,skuMap:H,skuData:z}),(null===(n=P.data)||void 0===n?void 0:n.isShowZipCodeComponent)&&!!I&&r.createElement(Ru,{local:d,platform:m,goodsId:_.currentGoodsId||(null===(o=null==k?void 0:k.goodsInformation[0])||void 0===o?void 0:o.goodsId)||0}),(null===(a=P.data)||void 0===a?void 0:a.isShowShipAddressSectionComponent)&&!!I&&r.createElement(Wu,{local:d,platform:m,goodsId:_.currentGoodsId||(null===(i=null==k?void 0:k.goodsInformation[0])||void 0===i?void 0:i.goodsId)||0}),!(null===(c=P.data)||void 0===c?void 0:c.isShowQuantityBottom)&&r.createElement(Ju,null),r.createElement(cd,null),J&&r.createElement(kd,{local:d,platform:m}),r.createElement(Um,{currentGoodsInfo:Q}),Y&&r.createElement(Hm,{local:d,bundleData:k.packSet}),$&&r.createElement(qm,{local:d,platform:m,isDisabledAll:!X,insurancesData:k.insurancesList,hasInsurancesFn:R}),(!!k.choiceData.afterSaleRank||!!k.extends.energyImage)&&r.createElement("section",{className:"product__section extra-section"},k.choiceData.afterSaleRank&&r.createElement($m,{local:d,afterSaleRankData:k.choiceData.afterSaleRank,hasInsurancesData:L})),(null===(s=P.data)||void 0===s?void 0:s.isShowExchangeSectionComponent)&&K&&r.createElement(dy,{local:d,platform:m}),(null===(l=P.data)||void 0===l?void 0:l.isShowQuantityBottom)&&r.createElement(Ju,null),r.createElement(fy,null),(null===(u=P.data)||void 0===u?void 0:u.isShowLiveChat)&&r.createElement(Tb,{siteName:p||"mi",tag:f,buyProduct_noStock:io(Q),buyProduct_selectConfig:_.currentGoodsSelect>=4,product:Q,loadChart:v||y}),$&&r.createElement(vy,{local:d,dealerName:q}),$&&r.createElement(yy,{local:d}),A&&F.price&&"success"===x.ajaxStatus&&x.data.isNeedShowSnapmint?r.createElement(by,{snapmintPrice:F.price,currentGoodsData:F}):r.createElement(r.Fragment,null),r.createElement(sb,{local:d,platform:m,siteName:p||"mi",tag:f,skuList:G,skuMap:H,skuData:z,categories:k.categories}))),M&&r.createElement(lb,null))}function Mb(e){var t=e.local,n=e.platform,a=e.siteName,i=e.showBuy,c=e.isPoco,s=void 0!==c&&c,l=(0,o.UO)(),u=l.tag||l.productName||l.commodityId||"";return r.createElement(Te,null,r.createElement(Ab,{siteName:a,local:t||"global",platform:n||"pc",tag:u,showBuy:i,isPoco:s}))}function Ab(e){var t=e.local,n=e.platform,o=e.tag,a=e.siteName,i=e.showBuy,c=e.isPoco,s=(0,r.useContext)(j);return(0,r.useEffect)((function(){s.getService({params:{tag:o}})}),[o]),r.createElement(Db,{siteName:a,local:t,platform:n,tag:o,showBuy:i,isPoco:c})}function Db(e){var t,n,o=e.local,a=e.platform,i=e.tag,s=e.siteName,l=e.showBuy,u=e.isPoco,d=(0,Yu.YB)();return(0,r.useEffect)((function(){var e;(null===(e="chunk_pc_v4")?void 0:e.==(t="chunk_pc_v4")?void 0:t.includes("v4"))&&r.createElement(De,{siteName:s,local:o,platform:a,tag:i||""}),(null===(n="chunk_pc_v4")?void 0:n.includes("v4"))&&!(0,cn.bg)()&&r.createElement("section",{className:"product__login-notice-bar"},r.createElement("span",null,r.createElement(ln.b,{inputStr:d.get("To facilitate your purchase, please log in in advance. {signInLink}",{signInLink:"#@@#".concat(d.get("Log in Now."),"#@@#")}),linkArr:["".concat((0,c.jr)(o).buySite[a],"/site/login?redirectUrl=").concat(window.location.href)],onLinkClick:function(){return(0,Xt.otClick)({tip:{b:9,c:46,d:1,e:26231},elementName:"sign_in_version_selection",elementTitle:d.get("To facilitate your purchase, please log in in advance. {signInLink}",{signInLink:d.get("Log in Now.")}),isOpenGA:!0})}}))),r.createElement(Pb,{siteName:s,local:o,platform:a,tag:i||"",showBuy:l,isPoco:u}))}var Lb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Rb=(0,a.o)(Vb),jb=(0,r.createContext)(Rb);function Fb(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=Lb((0,r.useState)(Rb),2),s=a[0],l=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:Vb(t||{}),errMsg:n,errNo:r}}var d={url:"".concat((0,c.jr)(t.local).goSite,"/exchange/getSubsidyInfo"),method:"GET",basicParams:{from:"m"===t.platform?"mobile":"pc"}};return r.createElement(i.h,{context:jb,setState:l,defaultValue:Rb,adapterError:function(e){return u(e)},adapter:u,value:s,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function Vb(e){return void 0===e&&(e={}),{list:Ub(e.list)}}function Ub(e){return void 0===e&&(e=[]),e.length?e.map((function(e){return{endTime:e.endTime||0,endTimeStr:e.endTimeStr||"",eventType:e.eventType||0,isMultistageSubsidy:e.isMultistageSubsidy||0,multistageSubsidy:Hb(e.multistageSubsidy||[]),productList:Bb(e.productList||[]),startTime:e.startTime||0,startTimeStr:e.startTime_str||"",status:e.status||0,subsidyContent:e.subsidyContent||"",subsidyTitle:e.subsidyTitle||""}})):[]}function Bb(e){return void 0===e&&(e=[]),e.length?e.map((function(e){return{product:e.product||0,tag:e.tag||0,name:e.name||0,amount:e.amount||0}})):[]}function Hb(e){return void 0===e&&(e=[]),e.length?e.map((function(e){return{to:e.to||0,amount:e.amount||0}})):[]}var Gb=function(){return(Gb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},zb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Wb(e){var t=(0,o.UO)(),n=(0,r.useContext)(j),a=zb((0,r.useState)("1"===Ey("skupanel")),2),i=a[0],c=a[1];return(0,r.useEffect)((function(){(0,qt.g)("init",{local:e.local}),window.addEventListener("replaceState",(function(){c("1"===Ey("skupanel"))}))}),[]),(0,r.useEffect)((function(){var e,r,o=t.tag||t.commodityId||"";if(n.getServiceSuccess){var a=(null===(r=null===(e=n.data)||void 0===e?void 0:e.goodsInformation[0])||void 0===r?void 0:r.productId)||"";i?(0,Xt.otView)({tip:{a:16,b:9,c:0,e:2337},tag:o||"",productId:a,expId:"mistore4",isOpenGA:!0,pageType:"version-selection"}):(0,Xt.otExit)(),window.goodsConfig&&"object"==typeof window.goodsConfig?window.goodsConfig.ProductId=a:window.goodsConfig={ProductId:a}}return function(){(0,Xt.otExit)()}}),[n.getServiceSuccess,i]),(0,r.useEffect)((function(){var e,t=document.getElementById("root-chunk"),r=null===(e=document.getElementsByClassName("buy-container"))||void 0===e?void 0:e[0],o=document.getElementById("nav-buy_now");"error"===n.ajaxStatus&&23e3===n.errNo&&(null==t||t.classList.add("hide"),null==r||r.classList.add("hide"),null==o||o.classList.add("hide"))}),[n.ajaxStatus]),"error"===n.ajaxStatus&&23e3===n.errNo?r.createElement(r.Fragment,null):r.createElement(r.Fragment,null,r.createElement(Mb,Gb({},e,{showBuy:i})))}function Yb(e){var t=e.local,n=e.platform;return r.createElement(y,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Je,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(_t,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(My,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1.createElement(td,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Uu,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Su,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Tu,{nationConfig:{loccal:t,platform:n},isServiceAutoFetch:!1},r.createElement(lg,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(fp,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(kp,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Yg,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Fb,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement($g,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Un,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(st,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(er,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Yy,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Tt,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(vg,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Vg,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(wg,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Wb,Gb({},e)))))))))))))))))))))))))))}},3903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(7294),o=n(3935),a=n(1189),i=n(473),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function u(e){var t=l((0,r.useState)(null),2),n=t[0],u=t[1],d=l((0,r.useState)(null),2),m=d[0],p=d[1];return function(e,t,n,o,a){var i=(0,r.useRef)(!0);if(i.current){if(a)return;var c=void 0;(c=document.querySelector("#root"))&&new MutationObserver((function(r){var a,i,c,l;if(!e||!t)try{for(var u=s(r),d=u.next();!d.done;d=u.next()){var m=d.value,p=null===(c=Array.from(m.addedNodes))||void 0===c?void 0:c.find((function(e){var t;return"object"==typeof e&&"string"==typeof e.className&&(null===(t=e.className)||void 0===t?void 0:t.includes("review-container"))})),f=null===(l=Array.from(m.addedNodes))||void 0===l?void 0:l.find((function(e){var t;return"object"==typeof e&&"string"==typeof e.className&&(null===(t=e.className)||void 0===t?void 0:t.includes("buy-container"))})),h=null==p?void 0:p.querySelector("#review-root"),v=null==f?void 0:f.querySelector("#buy-root");!e&&h&&n(h),!t&&v&&o(v)}}catch(g){a={error:g}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}})).observe(c,{childList:!0,subtree:!0})}i.current=!1}(n,m,u,p,e.isSSR),(0,r.useEffect)((function(){var e=document.querySelector("#review-root"),t=document.querySelector("#buy-root");e&&u(e),t&&p(t)}),[]),r.createElement(r.Fragment,null,n&&(0,o.createPortal)(r.createElement(a.default,c({},e)),n),m&&(0,o.createPortal)(r.createElement(i.default,c({},e)),m),!1)}},1189:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Rt});var r=n(7294),o=n(3935),a=n(5977),i=n(1893),c=n(1126),s=n(3710),l=n(1037),u=function(eon"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},d=(0,c.o)(f),m=(0,r.createContext)(d);function p(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=u((0,r.useState)(d),2),i=a[0],c=a[1];function p(e){var t=e.daturn{data:f(t||{},o),errMsg:n,errNo:r}}var h={method:"POST",url:"".concat((0,l.jr)(t.local).goSite,"/comment/glist"),basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{pageindex:1,orderby:0,product_id:"",area_id:128,showimg:0,type:0},withCredentials:!0,retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[2004007]}};return r.createElement(s.h,{context:m,setState:c,defaultValue:d,adapterError:function(e){utoFetch:!1!==n|{})}}function h(e){return void 0===e&&(e=[]),(e||[]).map((function(e){return{addTime:e.add_time||"0",additionalAddTime:e.additional_add_time||"",additionalCommentContent:e.additional_comment_content||"",additionalCommentImages:e.additional_comment_images||[],additionalCommentVideo:e.additional_comment_video||[],commentContent:e.comment_content||"",afterDays:e.after_days||"",canAddComment:e.can_add_comment||!1,commentId:e.comment_id||"",commentImages:e.comment_images||[],commentTitle:e.comment_title||"",commentVideo:e.comment_video||[],downNum:e.down_num||"0",goodsName:e.goods_name||"",specValue:e.spec_value||"",isAnonymous:e.iorder_id||"",orderItemId:e.order_item_id||"",pmsCommodityId:e.pms_commodity_id||"",pmsGoodsId:e.pms_goods_id||"",pmsProductId:e.pms_product_id||"",productTag:e.product_tag||"",replyContent:e.reply_content||"",replyTime:e.reply_time||"0",replyUpNum:e.reply_up_num||"0",totalGrade:e.total_grade||"5",upNum:e.up_num||"0",userAvatar:e.user_avatar||"",userId:e.user_id||"",userName:e.user_name||"",userReplyNum:e.user_reply_num||0,commentNum:e.comment_num||0,userUpNum:e.user_up_num||0,recentComments:e.recent_comments||"",createTime:e.create_time||"",userReplys:v(e.user_replys||[]),userDetail:y(e.user_detail||{}),upStat:e.up_stat||!1,downStat:e.down_stat||!1,customerStat:e.customer_stat||!1}}))}function v(e){return void 0===e&&(e=[]),(e||[]).map((function(e){return{commentId:e.comment_id||0,isAnonymous:e.is_anonymous||"0",replyContent:e.reply_content||"",replyId:e.reply_id||0,replyTime:e.reply_time||"",userAvatar:e.user_avatar||"",userId:e.user_id||"",userName:e.user_name||""}}))}function g(e){return{additionalComment:e.additional_comment||0,allComment:e.all_comment||0,imageComment:e.image_comment||0,videoComment:e.video_comment||0}}function y(e){return{isAnonymous:e.is_anonymous||"",userAvatar:e.user_avatar||"",nickName:e.nick_name||"",createTime:e.create_time||"",commentNum:e.comment_num||0,replyNum:e.reply_num||0,upNum:e.up_num||0,downNum:e.down_num||0,recentComments:b(e.recent_comments||{})}}function b(e){return{commentId:e.comment_id||0,goodsName:e.goods_name||""}}var _=m,E=n(5814),S=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},w=(0,c.o)(x),C=(0,r.createContext)(w);function N(e){var t=e.nationConfig,n=e.isServiceAutoFetch,e)(w),2),i=a[0],c=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:x(t||{},i.data),errMsg:n,errNo:r}}var d={method:"POST",url:"".concat((0,l.jr)(t.local).goSite,"/comment/reviewheader"),basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{commodity_id:""},withCredentials:!0,retryOptions:{maxReton:5e3,excludedErrorCodes:[2004007]}};return r.createElement(s.h,{context:C,setState:c,defaultValue:w,adapterError:function(e){return u(e)},adapter:u,value:i,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function ve_star||0}}function I(e){return{style:T(e.style||[],e.energy||[]),price:e.price||"",marketPrice:e.market_price||"",priceMin:e.price_min||"",priceMax:e.price_max||"",second:e.second||!1}}function T(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.map((function(e){return{name:e.name||"",commodityId:e.commodity_id||"",isSale:e.is_sale||!1,image:e.image||"",energyInfo:(0,E.T)(t||[])}}))}var O=C,P=n(4184),M=n.n(P),A=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.dona)}finally{if(o)throw o.error}}return i},D=function(e){var t=e.barWidth,n=e.barHeight,o=e.barList,a=e.text,i=e.className,c=void 0===i?"":i,s=e.total,l=e.handleStarFilter,u=e.isLoading,d=A((0,r.useState)(-1),2),m=d[0],p=d[1],f=function(e){var t=8*(e+"").length+30;return Math.max(e/s*234,t)+"px"};return r.createElement("ul",{className:"barlist ".concat(c)},!!o.length&&o.map((function(e,o){return r.createElement("li",{key:o,onClick:function(){return function(e){u||e===m||(p(e),l&&l(5-e))}(o)},style:{width:t+"px",height:n+"px"},className:"bar"},r.createElement("div",{className:"bar-bottom"},r.createElement("div",{className:P("bar-top",{zero:0===e}),style:{width:f(e)}},r.createElement("b",{className:"bar-top-count"},e))),r.createElement("div",{className:"bar-selection"},r.createElement("i",{className:P("bar-selection-checkbox",{"xiaomi icon-checked":o===m})}),5-o," ",a))})))},L=n(2379),R=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},j=function(e){var t=e.total,n=void 0===t?5:t,o=e.count,a=void 0===o?0:o,i=e.fontSize,c=void 0===i?15:i,s=e.className,l=void 0===s?"":s,u=e.platform,d=void 0===u?"pc":u,m=e.onClick,p=Math.floor(n)>0?n:5,f=m?0:a>p?p:a,h=R((0,r.useState)(f),2),v=h[0],g=h[1],y=Math.floor(a%1*100),b=(0,r.useCallback)((function(e){m&&(g(e),m&&m(e))}),[m]);function _(e){return"pc"===d?"".concat(e,"Px"):"".concat(e/72,"rem")}(0,r.useEffect)((function(){g(f)}),[a,n]);var E={margin:0,marginRight:"".concat(_(~~(c/3))),width:"".concat(_(c)),height:"".concat(_(c))};function S(e){return Object.assign(e+1>v&&0!==y?{width:"".concat(y,"%")}:{},{fontSize:"".concat(_(c))})}return r.createElement("dl",{className:"star-list ".concat(l)},Array(p).fill(null).map((function(e,t){return r.createElement("dd",{key:"star-".concat(t),className:P("star",{current:t<v,clickable:!!m}),style:E,onClick:function(){return b(t+1)}},r.createElement("i",{className:"icon-wrapper xiaomi icon-star-orange icon-star-top",style:S(t)}),r.createElement("i",{className:"icon-wrapper xiaomi icon-star-orange icon-star-bottom",style:{fontSize:"".concat(_(c))}}))})))},F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function V(e){return r.createElement(j,F({},e))}var U=n(1444),B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function H(e){return r.createElement(U.Y,B({},e))}var G=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},z=function(e){var t=e.commentsStar,n=e.commentsTotal,o=e.oneStar,a=e.twoStar,c=e.threeStar,s=e.fourStar,u=e.fiveStar,d=e.style,m=e.local,p=e.platform,f=e.handleStarFilter,h=e.isLoading,v=e.loadingStatus,g=e.second,y=G((0,r.useState)(d[0]||{}),2),b=y[0],_=y[1],E=G((0,r.useState)(0),2),S=E[0],w=E[1];function C(e,t){_(e),w(t)}(0,r.useEffect)((function(){_(d[0]||{})}),[d]);var N=[u,s,c,a,o];return r.createElement("div",{className:"review-head"},r.createElement("div",{className:"review-info"},r.createElement("p",{className:"review-info-title"},i.get("Customer Reviews"),r.createElement("b",{className:"review-info-totalNum"},n),r.createElement("span",{className:"review-info-text"},i.get("reviews"))),r.createElement("div",{className:"review-degree"},"success"!==v&&r.createElement("div",{className:"degree-left"},r.createElement(L.a,{type:"inner"})),"success"===v&&r.createElement("div",{className:"degree-left"},r.createElement("div",{className:"degree-left-num"},t),r.createElement(V,{platform:p,count:Number(t),className:"degree-left-stars"}),r.createElement("div",{className:"degree-left-summary"},r.createElement("b",null,t)," ",i.get("out of 5 star"))),r.createElement("div",{className:"degree-right"},r.createElement(D,{className:P({isLoading:h}),isLoading:h,total:n,barWidth:312,barHeight:20,barList:N,text:i.get("star"),handleStarFilter:f})))),r.createElement("div",{className:"review-bigImg"},"success"!==v&&r.createElement(L.a,{type:"inner"}),"success"===v&&!!d.length&&r.createElement("a",{href:"".concat((0,l.jr)(m).buySite[p],"/item/").concat(b.commodityId),className:"review-bigImg-link"},b.image&&("ru"===m?r.createElement("img",{src:"".concat(b.image,"?thumb=1&w=180&h=180"),alt:"",className:"review-bigImg-img"}):r.createElement("img",{src:"".concat(b.image,"?width=180&height=180"),alt:"",className:"review-bigImg-img"})))),r.createElement("div",{className:"review-goods"},"success"!==v&&r.createElement(L.a,{type:"inner"}),"success"===v&&!!d.length&&r.createElement(r.Fragment,null,r.createElement("h3",{className:"review-goods-name"},b.name),r.createElement(H,{className:"review-goods-energy",energyInfo:b.energyInfo}),r.createElement("ul",{className:"review-goods-items"},d.filter((function(e){return e.isSale})).map((function(e,t){return r.createElement("li",{className:P("review-goods-item",{current:t===S}),key:t},"ru"===m?r.createElement("img",{src:"".concat(e.image,"?thumb=1&w=34&h=34"),alt:e.name,onClick:function(){return C(e,t)}}):r.createElement("img",{src:"".concat(e.image,"?width=34&height=34"),alt:e.name,onClick:function(){return C(e,t)}}))}))),g&&r.createElement("div",{className:"review-goods-buyBtn"},r.createElement("a",{href:"".concat((0,l.jr)(m).buySite[p],"/item/").concat(b.commodityId),className:"review-goods-link"},i.get("VIEW PRODUCT"))))))},W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Y=[{text:i.get("All"),hasNum:!0,numKey:"allComment"},{text:i.get("Most Recent"),hasNum:!1,numKey:"mostRecent"},{text:i.get("Images"),hasNum:!0,numKey:"imageComment"},{text:i.get("Videos"),hasNum:!0,numKey:"videoCcoandleTagFilter","currentTagIndex","isLoading"]);return r.c"review-tags",{isLoading:o)},e.text,e.hasme,c=e.userAvatar,s"Active Since:"),content:u?(0,q.unix)(u).format("MMMM D,YYYY"):"",hasHTML:!1},{title:i.get("My Reviews:"),content:"".concat(n," ").concat(i.get("review")).concat(Z.includes(t)?"<br/>".concat(d," ").concat(i.get("cat(o),hasHTML:content:s.goodsNav",{className:"commenter-info"},r.createElement("div",{className:"commenter-info-private"},r.globationConfi[0],c=a[1];funct:!0,retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[2004007]}};return r.createElement(s.h,{context:Q,setState:c,defaultValue:$,adapterError:function(e){return u(e)},adapter:u,value:i,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function te(e){return void 0===e&&(e={}),{down:Boolean(e.down||!1),down_num:Number(e.down_num||0),up:Boolean(e.up||!1),up_num:Number(e.up_num||0)}}var ne=Q,re=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n>0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},oe=(0,c.o)(ce),ae=(0,r.createContext)(oe);function ie(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=re((0,r.useState)(oe),2),i=a[0],c=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno,o=e.message,a=e.code;return{data:ce(t||{}),errMsg:n||o||"",errNo:r||a||0}}var d={method:"POST",url:"".concat((0,l.jr)(t.local).goSite,"/comment/upcustomer"),basatform?"mobi_id:""},withCredentials:!0,retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[2004007]}};return r.createElement(s.h,{context:ae,setState:c,defaultValue:oe,adapterError:function(e){return u(e)},adapter:u,value:i,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function ce(e){return void 0===e&&(e={}),{down:Boolean(e.down||!1),down_num:Number(e.down_num||0),up:Boolean(e.up||!1),up_num:Number(e.up_num||0)}}var se=ae,le=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={ry{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},ue=(0,c.o)(pe),de=(0,r.createContext)(ue);function me(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=le((0,r.useState)(ue),2),i=a[0],c=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno,o=e.message,a=e.code;return{data:pe(t||{}),errMsg:n||o||"",errNo:r||a||0}}var d={method:"POST",url:"".concat((0,l.jr)(t.local).goSite,"/comment/reply"),basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{comment_id:"",content:"",is_anonymous:0},withCredentials:!0,retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[2004007]}};return r.createElement(s.h,{context:de,setState:c,defaultValue:ue,adapterError:function(e){return u(e)},adapter:u,value:i,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function pe(e){return void 0===e&&(e={}),{replyId:e.reply_id||"",content:e.content||"",personinfo:fe(e.personinfo||{})}}function fe(e){return void 0===e&&(e={}),{userId:e.userId||0,userName:e.userName||"",icon:e.icon||"",nickname:e.nickname||""}}var he=de,ve=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r0,c.o)(_e),ye=(0,r.crenction be(e){var t=e.nationConfig,n=e.isServiceAutoFetch,o=e.children,a=ve((0,r.useState)(ge),2),i=a[0],c=a[1];function u(e){var t=e.data,n=e.errmsg,r=e.errno,o=e.message,a=e.code;return{data:_e(t||{}),errMsg:n||o||"",errNo:r||a||0}}var d={method:"POST",url:"".concat((0,l.jr)(t.local).goSite,"/comment/shareComment"),basicParams:{from:"m"===t.platform?"mobile":"pc"},params:{comment_id:""},withCredentials:!0,retryOptions:{maxRetryAttempts:5,scalingDuration:5e3,excludedErrorCodes:[2004007]}};return r.createElement(s.h,{context:ye,setState:c,defaultValue:ge,adapterError:function(e){return u(e)},adapter:u,value:i,nationConfig:t,isAutoFetch:!1!==n,ajaxConfig:d},o)}function _e(e){return void 0===e&&(e={}),{status:Boolean(e.status||!1)}}var Ee=ye;function Se(e,t,n){return n||(n=t),e.replace(/\.(jpg|jpeg|png|gif)/,"!".concat(t,"x").concat(n,".$1"))}var we=n(9655),Ce=n(1671),Ne=n(3438),xe=n(655),ke=n(5278),Ie=n(9914),Te=n(979),Oe=n(1906),Pe=new Oe.y((function(e){return e.complete()}));function Me(e){return e?function(e){return new Oe.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Pe}var Ae,De=n(2886),Le=n(4944);Ae||(Ae={});var Re=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,De.of)(this.value);case"E":return(0,Le._)(this.error);case"C":return Me()}throw new Error("unexpected notification kinNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=functi"E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();var je=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Fe(e,this.delay,this.scheduler))},e}(),Fe=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return xe.ZT(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,o=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var a=Math.max(0,n[0].time-r.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new Ve(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Re.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Re.createComplete()),this.unsubscribe()},t}(Te.L),Ve=function(){return function(e,t){this.time=e,this.notification=t}}(),Ue=n(4150),Be=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function He(e){var t=(0,r.useRef)(null),n=e.isModalShow,o=e.modalShowFn,a=e.videoUrl,i=Be((0,r.useState)(!0),2),c=i[0],s=i[1],l=Be((0,r.useState)(!0),2),u=l[0],d=l[1],m=Be((0,r.useState)(!1),2),p=m[0],f=m[1],h=function(e){e.preventDefault(),t.current.paused?(t.current.play(),s(!1),d(!0)):(t.current.pause(),s(!0),d(!1))};return(0,Ue.m)((function(e){return e.pipe((0,Ne.b)((function(e){var t=Be(e,2);t[0];return t[1]&&d(!0)})),function(e,t){void 0===t&&(t=ke.P);var n=(0,Ie.J)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new je(n,t))}}(1500),(0,Ne.b)((function(e){var t=Be(e,2),n=t[0],r=t[1];n&&!r&&d(!1)})))}),"",[u,c]),r.createElement(r.Fragment,null,n&&r.createateElement("div",{className:"review-modal-video"},r.createElementtadata","x5-playsinline":"true","x5-video-player-type":"on":"portrait","webkit-playsinline":"true",playsInline:!0,controls:u,width:"950px",src:a,loop:!1,onClick:function(e){return h(e)},onMouseMove:function(){return d(!0)},onDoubleClick:function(){return function(){var e=t.current;if(p){var n=document||{};n.exitFullscreen?n.exitFullscreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.msExitFullscreen&&n.msExitFullscreen(),f(!1)}else e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),f(!0)}()},className:M()({ful,{className:"review-modal-video-controls"},r.createElement("i",{className:M()({start:c,pause:!c}),onClick:function(e){h(e)}})),r.createElement("i",{onClick:function(){return o(!1)},className:"xiaomi icon-close review-modal-video-closebtn"}))))}var Ge=n(6808),ze=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function We(e){var t=e.isModalShow,n=e.modalShowFn,o=e.galleryData,a=e.currentIndex,i=(0,r.useRef)(null),c=document||{},s=ze((0,r.useState)(a),2),l=s[0],u=s[1],d=ze((0,r.useState)(a>0),2),m=d[0],p=d[1],f=ze((0,r.useState)(o.length>a+1),2),h=f[0],v=f[1],g=ze((0,r.useState)(0),2),y=g[0],b=g[1],_=ze((0,r.useState)(!1),2),E=_[0],S=_[1],w=ze((0,r.useState)(!1),2),C=w[0],N=w[1],x=ze((0,r.useState)(!0),2),k=x[0],I=x[1],T=ze((0,r.useState)(!1),2),O=T[0],M=T[1];var A=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"];function D(){N(!!c.webkitIsFullScreen||!!c.mozFullScreen||!!c.msFullscreenElement)}function L(e,t){return{backgroundImage:"url(".concat(Se(e,450),")"),transform:"rotate(".concat(y,"deg)"),width:l===t?E?450:900:0}}return(0,r.useEffect)((function(){return A.forEach((function(e){window.addEventListener(e,D)})),function(){A.forEach((function(e){window.removeEventListener(e,D)}))}}),[]),(0,r.useEffect)((function(){I(!1)}),[]),(0,r.useEffect)((function(){if(O){var e=Number(Ge.get("pageCurrentHeight")||"0");e=isNaN(e)?0:e,window.scrollTo({top:e})}else Ge.set("pageCurrentHeight",window.scrollY.toString())}),[O]),(0,r.useEffect)((function(){!function(){if(!k){var e=i.current;C?(M(!1),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()):(c.exitFullscreen?c.exitFullscreen():c.webkitExitFullscreen?c.webkitExitFullscreen():c.mozCancelFullScreen?c.mozCancelFullScreen():c.msExitFullscreen&&c.msExitFullscreen(),M(!0))}}()}),[C]),(0,r.useEffect)((function(){b(0),S(!1),p(l>0),v(o.length>l+1)}),[l]),r.createElement(r.Fragment,null,t&&!!o.length&&r.createElement(Ce.u,{isModalShow:t,closeModal:function(){return n(!1)}},r.createElement("div",{className:"review-modal-image"},r.createElement("div",{className:"review-modal-image-header"},r.createElement("i",{className:"xiaomi icon-xiangyouxuanzhuan",onClick:function(){S(!E),b(y+90)}}),r.createElement("i",{className:"xiaomi icon-xiangzuoxuanzhuan",onClick:function(){S(!E),b(y-90)}}),r.createElement("i",{className:"xiaomi icon-quanping",onClick:function(){return N(!0)}})),r.createElement("div",{className:"review-modal-image-wrapper"},o.map((function(e,t){return r.createElement("div",{key:"img-".concat(t),className:P("review-modal-image-container",{current:t===l}),style:L(e,t),onDoubleClick:function(){return N(!C)}})}))),r.createElement("div",{className:"review-modal-image-footer"},o.map((function(e,t){return r.createElement("div",{key:"thumb-".concat(t),className:P("review-modal-image-footer-thumb",{current:t===l}),style:{backgroundImage:"url(".concat(Se(e,95),")")},onClick:function(){u(t)}})}))),m&&r.createElement("i",{className:"review-modal-image-gopre xiaomi icon-arrow-left-s",onClick:function(){u(l-1)}}),h&&r.createElement("i",{className:"review-modal-image-gonext xiaomi icon-arrow-right-s",onClick:function(){u(l+1)}}),r.createElement("i",{onClick:function(){return n(!1)},className:"xiaomi icon-close review-modal-image-closebtn"}))),r.createElement("img",{className:P("modal-fullscreen",{hide:!C}),src:o[l],alt:"",ref:i,onDoubleClick:function(){return N(!C)}}))}var Ye=n(5443),Xe=(n(6997),n(8865),function(){return(Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});function qe(e){return r.createElement(Ye.D,Xe({},e,{baseClassName:"social-share-v4",styleMode:"desktop",pageType:"v4"}))}var Ze=n(2895),Ke=n(1259),Je=(0,Ke.f)({data:{shareSpecialItem:[{api:"vk",locals:["ru"]}]},html:{},js:{},css:{}},{data:{}}),$e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];t0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Qe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},et=90,tt=["in"],nt=i.get("Write down your reply"),rt=function(e){var t,n=e.local,o=e.platform,a=e.addTime,c=e.commentId,s=e.totalGrade,u=e.commentContent,d=e.commentTitle,m=e.commentImages,p=e.commentVideo,f=e.replyContent,h=e.replyUpNum,v=e.upNum,g=e.userReplys,y=e.goodsName,b=e.additionalCommentContent,_=e.additionalAddTime,E=e.additionalCommentImages,S=e.additionalCommentViomerStat,N=(0,r.useContext)(ne),x=(0,r.useContext)(se),k=(0,r.useContext)(he),I=(0,r.useContext)(Ee),T=(0,Ke.h)(n,Je),O=T.data&&T.data.shareSpecialItem||"twitter",M=$e((0,r.useState)({}),2),A=M[0],D=M[1],L=$e((0,r.useState)(!1),2),R=L[0],j=L[1],F=$e((0,r.useState)([]),2),U=F[0],B=F[1],H=$e((0,r.useState)(!1),2),G=H[0],z=H[1],W=$e((0,r.useState)(!1),2),Y=W[0],X=W[1],Z=$e((0,r.useState)(""),2),K=Z[0],J=Z[1],$=$e((0,r.useState)(0),2),Q=$[0],ee=$[1],te=$e((0,r.useState)(w),2),re=te[0],oe=te[1],ae=$e((0,r.useState)(~~Number(v)),2),ie=ae[0],ce=ae[1],le=$e((0,r.useState)(C),2),ue=le[0],de=le[1],me=$e((0,r.useState)(~~Number(h)),2),pe=me[0],fe=me[1],ve=$e((0,r.useState)(g),2),ge=ve[0],ye=ve[1],be=$e((0,r.useState)(""),2),_e=be[0],Se=be[1],Ce=$e((0,r.useState)(""),2),Ne=Ce[0],xe=Ce[1];function ke(e){return e||"https://i01.appmifile.com/webfile/globalimg/pandora/user-head/head-1.png"}function Ie(e){I.getService({params:{comment_id:c,share_type:e}})}fuElement("p",{className:"comment-goods"},y),r.createElement("a",{className:"comment-content",href:"".concat((0,l.jr)(n).buySite[o],"/comment/detail?comment_id=").concat(c),dangerouslySetInnerHTML:{__html:"".concat((t=u,R?t.substring(0,280):t))}}),R&&r.createElement("span",{className:"readmore",onClick:function(e){!function(e){e.preventDefault(),j(!1)}(e)}},i.get("Read more")),r.createElement("div",{className:"comment-multimedia"},!!p&&!!p.length&&p.map((function(e,t){return r.createElement("div",{className:"comment-video",key:"comment-video-".concat(t)},r.createElement("video",{src:e}),r.createElement("div",{className:"comment-video-playbtn",onClick:function(){return Te(e)}}))})),!!m&&!!m.length&&m.map((function(e,t){return r.createElement(ot,{key:"comment-image-".concat(t),imageUrl:e,className:"comment-image",onClick:function(){return Oe(t,m)}})}))),!!b&&r.createElement("div",{className:"comment-additional"},r.createElement("span",{className:"comment-additional-time"},(0,q.unix)(parseInt(_)).format("MMMM D,YYYY")),r.createElement("p",{className:"comment-additional-content"},b)),r.createElement("div",{className:P("comment-multimedia",{hasBorder:!b})},!!S&&!!S.length&&S.map((function(e,t){return r.createElement("div",{className:"commereturn r.createElement(ot,{key:"cnction(){return Oe(t,E)}})}))),hare to")),r.createElement(qe,{ex(c),customSocialList:["facebook",O],aike",{active:re}),onClick:functiomment-reply"},r.createElement_id:t,content:A[t],is_ane){if(0!==e.errNo)xe(e.errMsg);el))),r.createElement("ul",{classeateElement("img",{key:f,className:"reply-avatar",src:"https://i01.appmifile.com/webfile/globalimg/en/2015/icons/logo.png",alt:""}),r.createElement("div",{className:"reply-wrapper"},r.createElement("h4",{className:"reply-userName offical"},i.get("Mi")),r.createElement("p",{className:"reply-text"},f,r.createElement("span",{className:P("reply-text-like",{active:ue}),onClick:function(){if(!(0,we.bg)())return(0,we.x4)({local:n,platform:o});x.getService({params:{comment_id:c}},(function(e){0!==e.errNo?xe(e.errMsg):(de(!ue),fe(ue?pe-1:pe+1))}))}},r.createElement("i",{className:"xiaomi icon-dianzan"})," ",i.get("Likes"),"(",pe,")")))),ge.map((function(e,t){return t<3&&r.createElement("li",{className:"repl-avatar",src:ke(e.userAvatar),altclassName:"reply-userName"},e.userName),r.createElement("p",{className:"reply-text"},e.replyContent)))})),ge.length>3&&r.createElement("li",{className:"reply-more"},r.createElement("a",{href:"".concat((0,l.jr)(n).buySite[o],"/comment/detail?comment_id=").concat(c)},i.get("more")," >"))))),Y&&r.createElement(He,{local:n,platform:o,isModalShow:Y,modalShowFn:X,videoUrl:K}),G&&r.createElement(We,{local:n,platform:o,isModalShow:G,modalShowFn:z,galleryData:U,currentIndex:Q}),r.createElement(Ze.a,{alertMessage:Ne,onClose:function(){return xe("")}}))rl,o=void 0===n?"":n,a=e.className,i=void 0===a?"":a,c=e.onClick,s=void 0===c?function(){}:c,l=(0,r.useRef)({}),u=$e((0,r.useState)({}),2),d=u[0],m=u[1];return(0,r.useEffect)((function(){if(l.current.clientWidth&&l.current.clientHeight||m({width:et,height:et}),l.current&&l.current.clientWidth&&l.current.clientHeight){var e=l.current;!function(e,t){if(!l.current)return void m({width:et,height:et});if(e>t){m({height:et,marginLeft:-(e/et-1)*et/2})}else{m({width:et,marginTop:-(t/et-1)*et/2})}}(e.clientWidth,e.clientHeight)}}),[l.current,~~((null===(t=l.current)||void 0===t?void 0:t.clientWidth)/2),~~(l.current.clientHeight/2)]),r.createElement("div",{className:"".concat(i),onClick:function(){return s()}},r.createElement("img",{src:Se(o,et),alt:"",style:d,ref:l}))}var at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)ull!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}lt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),dt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},mt=function(e){function t(t){var n,o=e.call(this,t)||this;return o.defaultRetry=r.createElement("button",{key:"defaultRetry",className:P("infinite-scroll__retry-button",(n={},n["".concat((o.props.className||"").split("__")[0],"__retry-button")]=!!o.props.className,n)),"aria-label":o.props.intl.get("Click here to retry"),onClick:function(){return"function"==typeof o.props.loadMore&&o.props.loadMore(o.pageLoaded+=1)}},otener.bind(o),o.eventListenerOptions=o.eventListenerOptions.bind(o),o.mousewheelListener=o.mousewheateTopPosition=o.calculateTopPosition.bind(o),o}return ut(t,e),t.prototype.componentDidMount=function(){document.documentElement.scrollTop=document.body.scrollTop=0,this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()},t.prototype.componentDidUpdate=function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()},t.prototype.componentWillUnmount=function(){this.detachScrollListener(),this.detachMousewheelListener()},t.prototype.isPassiveSupported=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(n){e=!1}return e},t.prototype.eventListenerOptions=function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e},t.prototype.detachMousewheelListener=function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)},t.prototype.detachScrollListener=function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)},t.prototype.getParentElement=function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode},t.prototype.filterProps=function(e){return e},t.prototype.attachScrollListener=function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}},t.prototype.mousewheelListener=function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()},t.prototype.scrollListener=function(){var e,t=this.scrollComponent,n=window,r=this.getParentElement(t);if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,a=void 0!==n.pageYOffset?n.pageYOffset:o.scrollTop;e=this.props.isReverse?a:this.calculateOffset(t,a)}else e=this.props.isReverse?r.scrollTop:t.scrollHeight-r.scrollTop-r.clientHeight;e<Number(this.props.threshold)&&t&&null!==t.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"==typeof this.props.loadMore&&"success"===this.props.ajaxStatus&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))},t.prototype.calculateOffset=function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0},t.prototype.calculateTopPosition=function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0},t.prototype.render=function(){var e,t=this,n=this.filterProps(this.props),o=n.children,a=n.element,i=n.hasMore,c=(n.initialLoad,n.isReverse),s=n.loader,l=(n.loadMore,n.loaderRetry),u=n.className,d=n.ajaxStatus,m=n.styleMode,p=(n.pageStart,n.forwardedRef,n.threshold,n.useCapture,n.useWindow,n.getScrollParent,n.intl,dt(n,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","loaderRetry","className","ajaxStatus","styleMode","pageStart","forwardedRef","threshold","useCapture","useWindow","getScrollParent","intl"]));p.ref=function(e){t.scrollComponent=e};var f=[o];return i&&"error"!==d&&s&&(c?f.unshift(s):f.push(s)),i&&"error"===d&&(l?c?f.unshift(l):f.push(l):this.defaultRetry&&(c?f.unshift(this.defaultRetry):f.push(this.defaultRetry))),r.createElement(a,Object.assign(p,{className:P("infinite-scroll infinite-scroll--".concat(m),(e={},e["".concat(u)]=!!u,e))}),f)},t.defaultProps={element:"div",hasMo.ptener(t,n),a=function(){return s.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,u=e.length;l<u;l++)_t(e[l],t,n,r,o)}r.add(a)}var Et=n(209),St=n(1931),wt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Ct(e){var t=e.className,n=void 0===t?"":t,o=e.onClick,a=void 0===o?function(){}:o,i=e.offsetHeight,c=void 0===i?1e3:i,s=wt((0,r.useState)(!1),2),l=s[0],u=s[1],d=bt(window,"scroll"),m=wt((0,Et.$)((function(e){return e.pipe((0,yt.U)((function(){return document.body.getBoundingClientRect().y+c<0})),(0,St.x)(),(0,Ne.b)((function(e){return u(e)})))})),1)[0];function p(e,t){void 0===e&&(e=0),void 0===t&&(t=0),t||(document.body.scrollTop=document.documentElement.scrollTop=e);var n=t/20,r=document.body.scrollTop+document.documentElement.scrollTop,o=(e-r)/n,a=setInterval((function(){n>0?(n--,p(r+=o)):clearInterval(a)}),20)}return(0,r.useEffect)((function(){var e=d.subscribe(m);return function(){e.unsubscribe()}}),[]),r.createElement("i",{className:P("xiaomi icon-top backtop ".concat(n),{unvisible:!l}),onClick:function(e){p(0,100),a(e)}})}var Nt=1,xt=2,kt=3,It=4,Tt=function(){return(Tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ot=functiotion"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Pt(e){var ontext)(_State)(0),2),s=c[0],l=c[1],u=Ot((0,r.useState)(0),2),d=u[0],m=u[1],p=Ot((0,r.useState)(0),2),f=p[0],h=p[1],v=Ot((0,r.useState)(0),2),g=v[0],y=v[1],b=Ot((0,r.useState)(""),2),E(1),2),C=w[0],N=w[1],x=Ot((0,r.useState)(!0),2),k=x[0],I=x[1],T=Ot((0,r.useState)(!1),2),P=T[0],M=T[1],A=Ot((0,r.useState)(0),2),D=A[0],R=A[1],j=Ot((0,r.useState)(o.data.commentDetailCount),2),F=j[0],V=j[1],U=Ot((0,r.useState)(a.data),2),B=U[0],H=U[1],G=Ot((0,r.useState)(o.data.comments),2),W=G[0],Y=G[1];return(0,r.useEffect)((function(){M(!1),o.getService({params:{product_id:t,orderby:d,showimg:f,type:g,pageindex:C,star:D}},(function(e){I(!1),0!==e.errNo?S(e.errMsg):(Y(W.concat(e.data.comments)),V(e.data.commentDetailCount),M(e.datTotal>e.data.pageIndex))}))}),[d,f,g,D,C]),(0,r.useEffect)((function(){a.getService({params:{commodity_id:n}},(fun]),(0,r.useEffect)((function(){switch(Y([]),m(0),h(0),y(0),N(1),s){case Nt:m(1);break;case xt:h(1);break;case kt:y(1);break;case It:y(2)}}),[s]),r.createElement("div",{className:"container"},r.createElement(z,Tt({},e,B.commodity,B.detail,{handleStarFilter:function(e){k||(I(!0),N(1),Y([]),R(e))},isLoading:k,loadingStatus:a.ajaxStatus})),r.createElement(X,Tt({},e,F,{currentTagIndex:s,handleTagFilter:function(e){k||(I(!0),s!==e&&l(e))},isLoading:k})),r.createElement(ht,{intl:i,ajaxStatus:o.ajaxStatus,loadMore:function(){I(!0),P&&!k&&N(C+1)},hasMore:P},r.createElement(st,Tt({commentsList:W,isLoading:k},e))),k&&r.createElement(L.a,{type:"inner"}),r.createElement(Ze.a,{alertMessage:E,onClose:function(){S("")}}),r.createElement(Ct,null))}var Mt=n(8124),At=function(){return(At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Dt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Lt(e){var t=(0,a.UO)(),n=null===window||void 0===window?void 0:window._page_data,i=(null==n?void 0:n.productType)||t.productName||t.tag||"",c=(null==n?void 0:n.commodityType)||(null==n?void 0:n.productType)||t.productName||t.commodityId||t.tag||"",s=Dt((0,r.useState)(null),2),l=s[0],u=s[1];return(0,r.useEffect)((function(){(0,Mt.g)("init",{local:e.local});var t=(null==n?void 0:n.productType)?document.querySelector("#review-root"):null;t&&u(t)}),[]),r.createElement(r.Fragment,null,l?(0,o.createPortal)(r.createElement(Pt,At({productName:i,commodityId:c},e)),l):r.createElement(Pt,At({productName:i,commodityId:c},e)))}function Rt(e){var t=e.local,n=e.platform;return r.createElement(p,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(N,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(ie,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(me,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(be,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(ee,{nationConfig:{local:t,platform:n},isServiceAutoFetch:!1},r.createElement(Lt,At({},e))))))))}},5383:(e,t,n)=>{"use strict";if(n.d(t,{ME:()=>v,Oc:()=>h,yv:()=>p}),305==n.j)var r=n(9655);if(305==n.j)var o=n(540);if(305==n.j)var a=n(5709);if(305==n.j)var i=n(486);var c=n(6808);if(305==n.j)var s=n(5403);var l=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(t){a(t)}}function c(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(s){c=[6,s],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},d=function(e){var t=function(){},n=s.h.google.moe;return new Promise((function(r,o){var a;!function(e,n,a,i,c,s){var l;e.moengage_object=c;var u={},d=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(e.moengage_q=e.moengage_q||[]).push({f:t,a:n})}},m=["track_event","add_user_attribute","add_first_name","add_last_name","add_email","add_mobile","add_user_name","add_gender","add_birthday","destroy_session","add_unique_user_id","moe_events","call_web_push","track","location_type_attribute"],p={onsite:["getData","registerCallback"]};for(var f in e[c]={},m)e[c][m[f]]=t,u[m[f]]=d(m[f]);for(var f in p)for(var h in p[f])null==u[f]&&(u[f]={}),u[f][p[f][h]]=d(f+"."+p[f][h]);var v=n.createElement(a),g=n.getElementsByTagName(a)[0];v.async=!0,v.src=i,v.type="text/javascript",null===(l=null==g?void 0:g.parentNode)||void 0===l||l.insertBefore(v,g),e.moe=e.moe||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s=e[0],u},v.onload=function(){s&&(e[c]=e.moe(s)),r(e[c])},v.onerror=function(e){o(new Error("Failed to load ".concat(e.target.src)))}}(window,document,"script",n.scriptUrl,"Moengage",{app_id:n.appId,debug_logs:null!==(a=null==e?void 0:e.debug_logs)&&void 0!==a?a:n.isOpenDebug,cluster:n.cluster,swPath:n.swPath,swScope:n.swScope})}))},m=function(e){return new Promise((function(t){(0,o.h)({url:"".concat(e,"/user/extend-info?type=uid"),method:"GET",withCredentials:!0}).subscribe((function(e){var n,r;t(null===(r=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===r?void 0:r.uid)}),(function(){t("")}))}))},p=c.get("moeEnable"),f="true"===p,h=function(e){return l(void 0,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return f?(0,r.bg)()?[3,2]:[4,d()]:[2];case 1:return n.sent(),[2];case 2:return[4,m(e)];case 3:return t=n.sent(),d().then((function(e){t&&e.update_unique_user_id(t)})).catch((function(e){return console.error(e)})),[2]}}))}))},v=function(e,t){(0,o.h)({url:"".concat(e,"/misc/info?from=").concat(t),withCredentials:!0,method:"GET"}).pipe((0,a.U)((function(e){return e.response})),(0,i.K)((function(e){throw new Error(e)}))).subscribe((function(t){var n,r,o,a,i;0===(null==t?void 0:t.errno)&&(f||(f=(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.moengageEnabled)||!1,h(e)),document.documentElement.setAttribute("moe",(null===(o=null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.moengageEnabled)||void 0===o?void 0:o.toString())||""),c.set("moeEnable",null===(i=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.moengageEnabled)||void 0===i?void 0:i.toString(),{expires:2,path:"/in",domain:".mi.com"}))}))}},8963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294);const o=function(e){var t=(0,r.useRef)();return t.current||(t.current={v:e()}),t.current.v}},2473:e=>{"use strict";var t=function(){};e.exports=t}}]);