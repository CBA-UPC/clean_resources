(()=>{function(){"use strict";function e(n){window.READ_MORE_DEBUG&&console.log.apply(null,["[RMB debug]:",n])}window.READ_MORE_MATCH_MEDIA=window.READ_MORE_MATCH_MEDIA||"(min-width: 200px)",window.READ_MORE_SELECTOR=window.READ_MORE_SELECTOR||"#read-more-content-wrapper",window.READ_MORE_CONTENT_DESKTOP=window.READ_MORE_CONTENT_DESKTOP||"300px",window.READ_MORE_CONTENT_MOBILE=window.READ_MORE_CONTENT_MOBILE||"200px",window.READ_MORE_HIDE=window.READ_MORE_HIDE||"",window.READ_MORE_TEXT=window.READ_MORE_TEXT||"Read More",window.READ_MORE_FONT_SIZE=window.READ_MORE_FONT_SIZE||"16px",window.READ_MORE_TEXT_COLOR=window.READ_MORE_TEXT_COLOR||"#326891",window.READ_MORE_BACKGROUND_COLOR=window.READ_MORE_BACKGROUND_COLOR||"#EDF2F5",window.READ_MORE_BORDER_COLOR=window.READ_MORE_BORDER_COLOR||"#326891",window.READ_MORE_BORDER_SIZE=window.READ_MORE_BORDER_SIZE||"1px",window.READ_MORE_BORDER_RADIUS=window.READ_MORE_BORDER_RADIUS||"5px",window.READ_MORE_PADDING=window.READ_MORE_PADDING||"10px 100px",window.READ_MORE_PADDING_MOBILE=window.READ_MORE_PADDING_MOBILE||"10px 40px",window.READ_MORE_ON_REMOVE_LISTENER=window.READ_MORE_ON_REMOVE_LISTENER||!0,window.READ_MORE_WAITING_LISTENER=window.READ_MORE_WAITING_LISTENER||!0,window.READ_MORE_DEBUG=window.READ_MORE_DEBUG||!1,window.location.search.includes("_rmb_debug")&&(window.READ_MORE_DEBUG=!0),e("Start initialization");var t,o="".concat(window.READ_MORE_SELECTOR," { visibility: hidden; height: 1px; overflow: hidden; opacity: 0; } .widget-btn { position: absolute; left: 50%; transform: translateX(-50%); bottom: 40px; display: block; margin: 0 auto; padding: ").concat(window.READ_MORE_PADDING,"; font-size: ").concat(window.READ_MORE_FONT_SIZE,"; text-align: center; color: ").concat(window.READ_MORE_TEXT_COLOR,"; text-transform: uppercase; background-color: ").concat(window.READ_MORE_BACKGROUND_COLOR,"; cursor: pointer; transition: all 0.2s; border: ").concat(window.READ_MORE_BORDER_SIZE," solid ").concat(window.READ_MORE_BORDER_COLOR,"; border-radius: ").concat(window.READ_MORE_BORDER_RADIUS,"; z-index: 200; } .clipped-content { position: relative; max-height: ").concat(window.READ_MORE_CONTENT_DESKTOP,"; overflow: hidden; } @media (max-width: 768px) { .widget-btn { padding: ").concat(window.READ_MORE_PADDING_MOBILE,"; } .clipped-content { max-height: ").concat(window.READ_MORE_CONTENT_MOBILE,"; } } .clipped-content:before { position: absolute; bottom: 0; left: 0; right: 0; width: 100%; height: 250px; background: linear-gradient(to top, #fff 40%, rgba(255, 255, 255, 0)); content: ''; z-index: 100; } .widget-wrap { position: relative; } ").concat(window.READ_MORE_SELECTOR,".visible-content { visibility: visible; height: auto; opacity: 1; }"),i=document.createElement("style");i.innerText=o;var E,d=(window.READ_MORE_ON_REMOVE_LISTENER&&(E=new MutationObserver((function(t){var o,i=t);try{var E=function(){var n=o.value;n.removedNodes&&n.removedNodes.length>0&&n.removedNodes.forEach((function(t){"BUTTON"===t.nodeName&&"widget-btn"===t.className&&(e("Button returned to layout"),n.target.appendChild(t))}))};for(i.s();!(o=i.n()).done;)E()}catch(n){i.e(n)}finally{i.f()}})),e("OnRemove observer created")),{connect:function(){E&&(E.observe(document.querySelector(window.READ_MORE_SELECTOR),{childList:!0}),e("OnRemove observer connected"))},disconnect:),r=window.matchMedia(window.READ_MORE_MATCH_MEDIA);function R(){var n,t=document.querySelector(window.READ_MORE_SELECTOR);t?_(t):(e("No content wrap found"),window.READ_MORE_WAITING_LISTENER&&(n=new MutationObserver((function(){var t=document.querySelector(window.READ_MORE_SELECTOR);t&&(_(t),n.disconnect(),e("Waiting observer disconnected"))})),n.observe(document,{attributes:!0,childList:!0,subtree:!0}),e("Waiting observer created and connected")))}function _(n){if(!window.READ_MORE_BTN){document.head.appendChild(i),e("Styles added"),t=function(n){if("string"==typeof n&&n.length>0){var t=document.querySelectorAll(n);return t.forEach((function(n){n.style.display="none"})),e("Hide content"),t}return null}(window.READ_MORE_HIDE),window.READ_MORE_BTN=!0;var o=document.querySelector(window.READ_MORE_SELECTOR),E=document.createElement("button");E.innerHTML=window.READ_MORE_TEXT,E.classList.add("widget-btn"),o.appendChild(E),o.classList.add("clipped-content"),n.classList.add("visible-content"),d.connect(),e("Button READY"),E.addEventListener("click",c)}}function c(){w(),document.head.removeChild(i),window.READ_MORE_BTN=!0,r.removeEventListener("change",a),e("Button destroyed")}function w(){var n=document.querySelector(window.READ_MORE_SELECTOR),o=n.querySelector(".widget-btn");window.READ_MORE_BTN&&o&&(d.disconnect(),n.classList.remove("clipped-content"),o.parentNode.removeChild(o),function(n){n&&(n.forEach((),e("Hidden content shown")),n=null}(t)),window.READ_MORE_BTN=!1,e("Button hidden")}function a(n){n.matches?R():w()}r.matches&&("complete"===document.readyState||"interactive"===document.readyState?(e("Showing button based on media query match"),R()):(e("Waiting for media DOMContentLoaded"),window.addEventListener("DOMContentLoaded",R))),r.addEventListener("change",a),e("Added media query listener")}()})();