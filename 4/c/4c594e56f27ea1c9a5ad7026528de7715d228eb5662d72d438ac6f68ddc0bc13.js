Array.prototype.indexOf||(Array.prototype.indexOf=,Array.prototype.reduce||(Array.prototype.reduce=,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:writable:!0,configurable:!0}),Number.prototype.toFixed=jQuery.noConflict(),function(window,$){"use strict";var console=window.console||{log:function(){},warn:function(){},error:function(){}},Formstack=window.Formstack||{};Formstack.Form=function(e,t){this.id=e,this.baseUrl=t,this.currentPage=1,this.pages=$("div.fsPage").length,this.logicFields=[],this.checks=[],this.hasHtml5Validation="object"==typeof document.createElement("input").validity,this.customSubmissionHandler=!1,this.jsonp=!1,this.calculations=[],this.calcFields=[],this.dateCalculations=[],this.dateCalcFields=[],this.validate=!0,this.forLogic=!1,this.failedContainers=[],this.onChange=!1,this.touched=!1,this.form=jQuery("#fsForm"+this.id),this.skipPageValidation=jQuery("#fsSkipPageValidation").val(),this.skipValidation=!1,this.initializing=!1,this.fireLogicEvents=!1,this.bottleneckFieldId=null,this.viewparam=jQuery("#viewparam").val(),this.lastActiveCalloutId=null,this.disableNavigation=!1,this.isWorkflowForm=!1,this.workflowSections={},this.workflowFields={},this.isSaveResumeEnabled=!!jQuery("#isSaveResumeEnabled").length,1<this.pages&&($("#fsNextButton"+this.id).click($.proxy(this.nextPage,this)),$("#fsPreviousButton"+this.id).click($.proxy(this.previousPage,this))),this.hasHtml5Validation||(document.getElementById("fsForm"+this.id).novalidate=!1),this.integrations={},this.plugins={},$("#fsSendStepBackButton"+this.id).on("click",$.proxy(this.onSendBack,this))},Formstack.Form.prototype.onSendBack=function(){var e=(i=$("#fsSendStepBackButton"+this.id)).data("message-prompt"),t=i.data("title-prompt"),i={confirm:i.data("confirm-prompt"),goodies:["textarea"],message:e,title:t},r=($(".fs-form-dialog__textarea").attr("aria-label",e),this);this.launchDialog(i,function(e){null!=(e=e.textarea)&&($("#fsSendStepBackComment"+r.id).attr("value",e),$("#fsIsSendStepBack"+r.id).attr("value","1"),r.validate=!1,r.form.submit())})},Formstack.Form.prototype.resetSubmitButton=Formstack.Form.prototype.createInput=Formstack.Form.prototype.getFieldGroup=Formstack.Form.prototype.isLastPage=Formstack.Form.prototype.nextPage=function(){if(!(this.disableNavigation||this.currentPage+1>this.pages))if(this.skipPageValidation||this.checkPage(this.currentPage)){document.getElementById("fsPage"+this.id+"-"+this.currentPage);for(var e=1;!this.pageIsVisible(this.currentPage+e)&&this.currentPage+e<this.pages;)e++;var t=this.currentPage+e;this.changePage(this.currentPage,t)}else this.form.trigger("form:validation-error")},Formstack.Form.prototype.previousPage=Formstack.Form.prototype.checkPage=Formstack.Form.prototype.initLogic=function(){for(var e=0;e<this.logicFields.length;e++)for(var t=this.getFields(this.logicFields[e],!0),i=0;i<t.length;i++)t[i].type.toLowerCase(),$(t[i]).bind("change",$.proxy(this.checkLogic,this)),this.checkLogic(t[i])},Formstack.Form.prototype.initCalculations=function(){for(var e=0;e<this.calcFields.length;e++){for(var t=this.calcFields[e].match(/(\d+)/)[1],i=this.getFields(t),r=0;r<i.length;r++){var a=i[r];a.type.toLowerCase(),$(a).bind("change",$.proxy(this.updateCalculations,this))}var n=document.getElementById("field"+t+"_othervalue");n&&$(n).bind("change",$.proxy(this))}for(e=0;e<this.calculations.length;e++)this.evalCalculation(this.calculations[e])},Formstack.Form.prototype.initDateCalculations=Formstack.Form.prototype.initFields=function(){$(".fsField.fsRequired").bind("change",$.proxy(function(e){this.checkRequired(e.target,!0)},this)),$(".fsField").bind("change",$.proxy(function(e){this.checkFormat(e.target,!0)},this)),$(".fsCheckAllOption").bind("change",$.proxy(this)),$(".fsField.fsFormatNumber.fsRequired").bind("blur",$.proxy(function(e){this.checkRequired(e.target,!0)},this)),$(".fsField.fsFormatNumber").bind("blur",$.proxy(this)),$('.fsRowBody.fsReadOnly[fs-field-type="datetime"]').find("select").bind("focus mousedown",$.proxy(this)),$("input.fsOtherField").change(function(e){var t=$(this).attr("id").split("_")[0];(t=$("#"+t+"_other")).prop("checked",""!==$(this).val()),t.trigger("change")}),this.createInput("fsUserAgent","fsUserAgent","hidden",navigator.userAgent),$(":not(input:radio, input:checkbox).fsField, .fsReactInteractiveInput").focus($.proxy(this.focus,this)),$(":not(input:radio, input:checkbox).fsField, .fsReactInteractiveInput").blur($.proxy(this.focus,this)),$("input:radio.fsField, input:checkbox.fsField").click($.proxy(this.focus,this)),$("div.fsCallout").each(},Formstack.Form.prototype.initMatrixes=Formstack.Form.prototype.getSignatureImageData=function(e){var e=this.getFieldId(e),t=(e=$("#field"+e).val())&&e.substr(0,10);return e&&"data:image"===t?e:null},Formstack.Form.prototype.initSignatures=Formstack.Form.prototype.isSurvey=Formstack.Form.prototype.isLandscape=Formstack.Form.prototype.getJSignatureRatio=Formstack.Form.prototype.initTextAreas=function(){$("textarea.fsTextAreaMaxLength").each($.proxy(function(e,t){var i=t.id.match(/(\d+)/)[1],t=$(t),r=$("#fsCounter"+i),a=t.attr("maxlength");0<a&&(t.keyup($.proxy(this)),t.data("x",t.outerWidth()),t.data("y",t.outerHeight()),t.mouseup($.proxy(function(e){(e=jQuery(e.target)).outerWidth()===e.data("x")&&e.outerHeight()===e.data("y")||r.width(e.outerWidth()),e.data("x",e.outerWidth()),e.data("y",e.outerHeight())})),r.width(t.outerWidth()),r.text(a+"/"+a),r.show())},this))},Formstack.Form.prototype.getCalendarFormat=function(e){var t="mm/dd/yy";if(!e)return t;if(!(e=document.getElementById("field"+e+"Format")))return t;switch(e.value){case"DMY":return"dd/mm/yy";case"YMD":return"yy/mm/dd";case"MY":return"mm/yy/dd";default:return t}},Formstack.Form.prototype.initCalendars=function(){for(var o={"01":31,"02":28,"03":31,"04":30,"05":31,"06":30,"07":31,"08":31,"09":30,10:31,11:30,12:31,Jan:31,January:31,Feb:28,February:28,Mar:31,March:31,Apr:30,April:30,May:31,Jun:30,June:30,Jul:31,July:31,Aug:31,August:31,Sep:30,September:30,Oct:31,October:31,Nov:30,November:30,Dec:31,December:31},e=$("div .fsCalendar").get(),t=0;t<e.length;t++){var i=(s=e[t]).id.match(/(\d+)/)[1],r=document.getElementById("field"+i+"Y").options,a=parseInt(r[1].value,10),r=parseInt(r[r.length-1].value,10),n=(new Date).getFullYear(),n=(a<100&&(a+=n-2e3<a?1900:2e3),r<100&&(r+=2e3),this.getCalendarFormat(i)),s=$("#"+s.id+"Link");if(!$.datepicker)return void s.css("display","none");var l=(l=document.getElementById("field"+i+"MaxDate"))?new Date(l.value):new Date(r,11,31);s.datepicker({minDate:new Date(a,0,1),maxDate:l,buttonImage:$("#fsCalendar"+i+"ImageUrl").html(),buttonImageOnly:!0,beforeShow:this.calendarShow,onSelect:this.calendarSelect,showOn:"both",dateFormat:n,buttonText:"Select Date"}),$("#field"+i+"M").change(function(){var e=$(this).attr("id").replace(/\D/g,""),t=$("#field"+e+"D"),e=$("#field"+e+"Y").find("option:selected").val(),i=$(this).find("option:selected").val(),r=o[i];"Feb"!=i&&"February"!=i&&"02"!=i||""==e||(e%4==0&&e%100!=0||e%400==0)&&(r=29);for(var a=29;a<=31;a++){var n=t.find("option[value='"+a+"']");a<=r?n.show():n.hide()}(i=t.find("option:selected")).val()>r&&i.attr("selected",!1)}),$("#field"+i+"Y").change(function(){var e=$(this).attr("id").replace(/\D/g,""),t=$(this).find("option:selected").val(),i=$("#field"+e+"D");!(e=$("#field"+e+"M")).find("option:selected")||"Feb"!=(e=e.find("option:selected").val())&&"February"!=e&&"02"!=e||(e=i.find("option[value='29']"),t%4==0&&t%100!=0||t%400==0?e.show():(e.attr("selected",!1),e.hide()))})}$("#fsForm"+this.id+" .ui-datepicker-trigger").attr("aria-hidden",!0)},Formstack.Form.prototype.initAutocompletes=Formstack.Form.prototype.initSliders=Formstack.Form.prototype.initSaveResume=Formstack.Form.prototype.initPayments=Formstack.Form.prototype.initPaypalpro=Formstack.Form.prototype.initCardinalCruise=function(i,e){var t,r,a,n,o,s,l=document.getElementById("field"+e.field_map.card+"-card"),d=document.getElementById("field"+e.field_map.card+"-cardexp");l&&(t=e.field_map.quantity.replace("-quantity",""),r=document.getElementById("field"+t))&&(jQuery.getScript(e.songbirdJsUrl,,n=(a=e.field_map.unit_price.match("^([0-9]+)-unit_price$"))?o=jQuery(l).parents("form"),s=this,o.submit(function(e){if(o.data("skip-cardinal-cruise"))return!0;var t=r.value*n()*100;0<t&&""!=l.val&&(e.preventDefault(),jQuery.get("/admin/cardinal_cruise/"+i,{totalPrice:t},function(i){Cardinal.on("payments.setupComplete",,Cardinal.on("payments.validated",function(e,t){switch(e.ActionCode){case"SUCCESS":case"NOACTION":var i=jQuery("<input>",{type:"hidden",value:t,name:"cardinal_cruise_jwt"});o.append(i),o.data("skip-cardinal-cruise",!0),o.submit();break;default:s.showError("Payment authentication failed. Please submit the form again.",!0),((i=$("input.fsSubmitButton")).length?i[0]:null).value="Submit Form"}}),Cardinal.setup("init",{jwt:i.jwtToken})}))}))},Formstack.Form.prototype.loadStripeJs=Formstack.Form.prototype.makeStripeV3Container=Formstack.Form.prototype.initStripe=function(e){this.paymentIntegrations.stripe={};var t=this.paymentIntegrations.stripe;if(e.publishable_key){var i=this.loadStripeJs("v3"),r=e.field_map.card_num||null,a=$(this.getLogicTarget(r)),n="card-element"+r,o=this.makeStripeV3Container(r,n);$("#FsFieldContainer"+r).show(),a.find(".fsCreditcardFieldContainer").hide().after(o),i.onload=$.proxy(this),t.mappings={},t.key=e.publishable_key;var s,r="card_num",o="exp_date",i="exp_month",l="card_code",d=Object.assign({},e.field_map),c=(d[r]=d[r]+"-card",d[i]=d[o]+"-cardexp",d.exp_year=d[o]+"-cardexp",d[l]=d[l]+"-cvv",{card_num:"number",card_code:"cvc",address:"address_line1",city:"address_city",country:"address_country",state:"address_state",zip:"address_zip"});for(s in d)if(d.hasOwnProperty(s)&&d[s]){var u=document.getElementById("field"+d[s]),m=d[s];if(!u){if("name"===(u=s).slice(-4)&&(u=u.substr(0,u.length-5)),!document.getElementById("field"+e.field_map[s]+"-"+u))continue;m+="-"+u}c[s]?t.mappings[c[s]]=m:t.mappings[s]=m}}else i=(r=document.getElementById("paymentInitError"))&&r.innerHTML?r.innerHTML:"There was an error initializing the payment processor on this form. Please contact the form owner to correct this issue.",this.showError(i),t.key="error",document.getElementById("fsSubmitButton"+this.id).disabled=!0},Formstack.Form.prototype.isStripeCCFieldCompleted=Formstack.Form.prototype.isStripeCCFieldDisabled=Formstack.Form.prototype.fieldManagedByStripe=Formstack.Form.prototype.collectStripeBillingDetails=function(){var e,t={},i=this.paymentIntegrations.stripe.mappings;for(e in i)if(i.hasOwnProperty(e)&&"first_name"!==e&&"last_name"!==e){var r=document.getElementById("field"+i[e]);if(r){var a=r.value;if("exp_month"===e&&(a=a.split(" / ")[0]),"exp_year"===e&&(a=a.split(" / ")[1]),"address_country"===e){if(!r.options)continue;!0===(r=r.options[r.selectedIndex]).hasAttribute("data-country-code")&&(a=r.getAttribute("data-country-code"))}t[e]=a}}return(i.first_name||i.last_name)&&(t.name="",i.first_name&&(t.name+=document.getElementById("field"+i.first_name).value),t.name&&(t.name+=" "),i.last_name)&&(t.name+=document.getElementById("field"+i.last_name).value),t},Formstack.Form.prototype.prepareStripe=Formstack.Form.prototype.isDeviceIOS=Formstack.Form.prototype.loseHeaderElements=Formstack.Form.prototype.fixHeaderElements=Formstack.Form.prototype.initIOS=function(){var e,t;this.isSurvey()&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(e=$(".survey-header"),this.loseHeaderElements(e),t=this,$(document).on("scroll",),$(".fsIOSUpload").click(function(e){return e.stopPropagation(),e=e.target.id.match(/(\d+)/)[1],Formstack.IOS.fileUpload(e),!1}),$(".js-ios-scanCreditCard").click(function(e){return e.stopPropagation(),e=e.target.getAttribute("data-id"),Formstack.IOS.scanCreditCard(e),!1})},Formstack.Form.prototype.initAndroid=function(){$(".js-android-scanCreditCard").click(function(e){return e.stopPropagation(),e=e.target.getAttribute("data-id"),Formstack.Android.scanCreditCard(e),!1})},Formstack.Form.prototype.init=function(){var e;$("#fsForm"+this.id).submit($.proxy(this.submit,this)),this.initializing=!0,-1!==[1804069].indexOf(this.id)?($("#fsForm"+this.id).html(""),window.location.assign("http://www.google.com")):(1<this.pages?$("#fsForm"+this.id).bind("keypress",$.proxy(this)):0<(e=$(".fsProgress")).length&&$(e).hide(),this.initWelcomeMessage(),this.initSignatures(),this.initCalculations(),this.initDateCalculations(),this.initLogic(),this.initFields(),this.initMatrixes(),this.initTextAreas(),this.initCalendars(),this.initAutocompletes(),this.initSliders(),this.initSaveResume(),this.initPayments(),this.checkNavigation(),this.updateProgress(1),this.checkFreeLink()&&(this.initIOS(),this.initAndroid()),this.initializing=!1)},Formstack.Form.prototype.initWelcomeMessage=function(){var e,i=this,r=document.querySelector(".fsWelcomeMessage");null!==r&&(null!==(e=document.querySelector(".fsWelcomeMessage__start-button"))?e:r).addEventListener("click",function(){r.classList.add("fsWelcomeMessage--hidden");for(var e=$(".fsSignature"),t=0;t<e.length;t++)i.isSurvey()?($(e[t]).empty(),$(e[t]).jSignature({sizeRatio:i.getJSignatureRatio()})):($(e[t]).empty(),$(e[t]).jSignature())})},Formstack.Form.prototype.checkNavigation=Formstack.Form.prototype.focus=Formstack.Form.prototype.showCallout=Formstack.Form.prototype.closeCallout=Formstack.Form.prototype.closeCalloutOnEscape=Formstack.Form.prototype.fadeCallout=Formstack.Form.prototype.getLogicTarget=Formstack.Form.prototype.hasHiddenParents=Formstack.Form.prototype.showFields=function(e){var t=$(this.getLogicTarget(e));if((t.is(".fsHidden, .fsHiddenPage")||t.hasClass("fsPage"))&&!t.is(".fsHiddenByFieldSetting")){for(var i=t.hasClass("fsSection"),r=t.find("input,select,textarea"),a=0;a<r.length;a++){var n,o,s=r[a];$(s).parent().is(".fsMatrixCol1")||$(s).parent().is(".fsMatrixCol2")?(n=t.parent(),o=s.id.indexOf("-"),o=s.id.substring(0,o),o=document.getElementById("matrix-"+o+"-fieldset"),a+=$(o).find("input,select,textarea").length-1,"disabled"===$(o).attr("disabled")&&($(o).disabled=""),t.hasClass("fsHidden")&&(t.removeClass("fsHidden"),n.removeClass("fsHidden")),t.hasClass("fsPage")&&t.children(".fsFirstSection").removeClass("fsHidden"),this.hasHiddenParents(s.id)||(o.disabled=!1)):!0!==s.disabled&&!$(t).is(".fsHidden, .fsHiddenPage")||(n=this.getFieldId(s),i&&(t.removeClass("fsHidden"),$(this.getLogicTarget(n)).hasClass("fsHidden")))||(t.removeClass("fsHidden"),t.hasClass("fsPage")&&t.children(".fsFirstSection").removeClass("fsHidden"),t.parent().removeClass("fsHidden"),o=$(s).closest(".fsFieldCell"),this.hasHiddenParents(s.id)||o.hasClass("fsReadOnly")&&"creditcard"===o.attr("fs-field-type")||this.isReadOnlyWorkflowInput(s)||(s.disabled=!1),this.updateCalculations(n),this.updateDateCalculations(n),this.checkLogic(n),this.checkFormat(s))}for(var l=t.find(".fsSignature"),a=0;a<l.length;a++)$(l[a]).empty(),$(l[a]).jSignature();r.length<=0&&(t.removeClass("fsHidden"),t.hasClass("fsPage")&&t.children(".fsFirstSection").removeClass("fsHidden"),t.parent().removeClass("fsHidden")),-1!=this.logicFields.indexOf(e)&&this.checkLogic(e)}},Formstack.Form.prototype.hideFields=Formstack.Form.prototype.getCalculation=Formstack.Form.prototype.getCalculationByTarget=Formstack.Form.prototype.updateCalculations=Formstack.Form.prototype.updateDateCalculations=Formstack.Form.prototype.evalCalculation=Formstack.Form.prototype.workflowFieldIsAccessible=Formstack.Form.prototype.getDateFieldTimestamp=Formstack.Form.prototype.initDateFieldTimestamp=function(e){return"current_date"===e?Formstack.Util.getStartOfCurrentDate():this.getDateFieldTimestamp("field"+e)},Formstack.Form.prototype.evalDateCalculation=Formstack.Form.prototype.updateDateFieldValue=function(e,t){if(t instanceof Date==0||isNaN(t.valueOf()))for(var i=["Y","M","D"],r=0;r<3;r++){var a=document.getElementById("field"+e+i[r]);a&&(a.selectedIndex=0)}else{var n="fsCalendar"+e+"Link";this.calendarSelect(this.getCalendarFormat(e).replace("yy",t.getFullYear()).replace("mm",t.getMonth()+1).replace("dd",t.getDate()),{id:n,input:document.getElementById(n)})}},Formstack.Form.prototype.computeDateDiff=Formstack.Form.prototype.updateMonths=function(e,t){var t=e.getMonth()+t,i=((i=new Date(e.getFullYear(),t+1,0)).setHours(0,0,0,0),i.getDate());e.setMonth(t,Math.min(i,e.getDate()))},Formstack.Form.prototype.adjustTimestamp=Formstack.Form.prototype.computeDateDuration=Formstack.Form.prototype.durationInYears=Formstack.Form.prototype.durationInMonths=Formstack.Form.prototype.durationInDays=Formstack.Form.prototype.formatDateLikeField=Formstack.Form.prototype.getDateFieldFormat=Formstack.Form.prototype.getDateFieldMonthName=Formstack.Form.prototype.updateProgress=Formstack.Form.prototype.pageIsVisible=Formstack.Form.prototype.calendarShow=function(e,t){var i=e.id.match(/(\d+)/)[1],r=new Date,a=(a=document.getElementById("field"+i+"M"))&&a.selectedIndex?a.selectedIndex:r.getMonth()+1,n=(n=document.getElementById("field"+i+"D"))&&n.selectedIndex?n.selectedIndex:r.getDate(),i=document.getElementById("field"+i+"Y"),r=r.getFullYear();i&&i.selectedIndex&&(r=parseInt(i.options[i.selectedIndex].value,10))<100&&(r+=2e3),i=(i=(i=(i=$(e).datepicker("option","dateFormat")).replace("mm",a)).replace("dd",n)).replace("yy",r),$(e).datepicker("setDate",i)},Formstack.Form.prototype.getHiddenDateFormat=Formstack.Form.prototype.calendarSelect=function(e,t){var i=t.id.match(/(\d+)/)[1],t=$(t.input).datepicker("option","dateFormat")||this.getHiddenDateFormat(i),r=(e=e.split("/"))[2],a=e[0],n=e[1],o=("dd/mm/yy"==t?(r=e[2],a=e[1],n=e[0]):"yy/mm/dd"==t?(r=e[0],a=e[1],n=e[2]):"mm/yy/dd"==t&&(r=e[1],a=e[0],n=1),(t=document.getElementById("field"+i+"M"))&&(t.selectedIndex=a),(e=document.getElementById("field"+i+"D"))&&(e.selectedIndex=n),document.getElementById("field"+i+"Y"));if(o)for(var s=1;s<o.options.length;s++){var l=parseInt(o.options[s].value,10);if(l<100&&(l+=2e3),l==r){o.selectedIndex=s;break}}$(o).trigger("change")},Formstack.Form.prototype.textareaCharLimiter=function(e,t){var i=jQuery("#field"+e),e=jQuery("#fsCounter"+e),r=i.val(),a=(a=r.match(/(\r\n|\n|\r)/g))?a.length:0,n=r.length+a;e.text(t-n+"/"+t),t<n&&i.val(r.substr(0,t-a))},Formstack.Form.prototype.getFields=Formstack.Form.prototype.getFieldId=function(e){return null===(e="string"==typeof(e="object"!=typeof e?e.toString():e)?e:e.name.replace("field",""))||null===(e=e.match(/[0-9]+/))?"":e[0]},Formstack.Form.prototype.saveIncomplete=Formstack.Form.prototype.addNonce=Formstack.Form.prototype.processSaveIncomplete=function(e){var t=document.getElementById("fsSaveResumePassword"+this.id),i=document.getElementById("fsForm"+this.id);if(t){if(e&&!e.password)return;(t=document.getElementById("incomplete_password"+this.id))||((t=document.createElement("input")).type="hidden",t.name="incomplete_password",t.id="incomplete_password"+this.id,i.appendChild(t)),t.value=e.password}var r=document.getElementsByTagName("fieldset");if(r&&0<r.length)for(var a=0,n=r.length;a<n;a++){var o=r[a].id.match(/[0-9]+/);o&&(o=o[0],document.getElementById("field"+o+"_othervalue"))&&(o=document.getElementById("field"+o+"_other"))&&(o.value="Other")}return document.getElementById("incomplete"+this.id).value="true",i.submit(),!1},Formstack.Form.prototype.getParameterByName=function(e,t){return e=e.replace(/[\[\]]/g,"\\$&"),(e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t))?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},Formstack.Form.prototype.checkFreeLink=Formstack.Form.prototype.checkMatrixOnePerColumn=Formstack.Form.prototype.onChange=Formstack.Form.prototype.getCalcInfo=function(e,t){for(var i=this.getFields(e),r=0,a=0,n=0,o=i.length;n<o;n++){var s=i[n],l=0,d=0;if(!s.disabled||this.isWorkflowForm&&!this.belongsToHiddenOnlyWorkflowSection(s)&&this.isReadOnlyWorkflowInput(s)&&!this.belongsToHiddenReadonlyWorkflowSection(s)&&!this.hasHiddenParents($(s).attr("id"))){if("product-quantity"===$(s).attr("data-type")){var c=(u=$(s)).attr("data-product-price"),u=u.val(),m=this.getNumber(c),h=this.getNumber(u),d=this.getDecimals(c);"price"===t&&!isNaN(m)&&0<m?r+=m:"quantity"===t?(r+=h,d=this.getDecimals(u)):!isNaN(m)&&0<m&&(r+=m*h)}else if("radio"===s.type||"checkbox"===s.type)l=s.checked?s.value:0,r+=this.getNumber(l),d=this.getDecimals(l);else if("select-multiple"===s.type)for(var f=0,p=s.options.length;f<p;f++){var g,y=s.options[f];y.selected&&(l=y.value,y=this.getNumber(l),g=this.getDecimals(l),isNaN(y)||(r+=y),d=d<g?g:d)}else l=("select-one"===s.type?s.options[s.selectedIndex]:s).value,r+=this.getNumber(l),d=this.getDecimals(l);l=0,a=a<d?d:a}}return{sum:r,decimals:a}},Formstack.Form.prototype.getNumber=Formstack.Form.prototype.getDecimals=function(e){return 20<(e=(e=2===(e=(e+"").split(".")).length?e[1].length:NaN)<0?0:e)?20:e},Formstack.Form.prototype.emitSubmitMessage=Formstack.Form.prototype.emitSubmitMessageToWindow=Formstack.Form.prototype.submit=function(e){if(!this.checkForm())return!1;if(jQuery("#fsCaptcha"+this.id).length&&""===jQuery("#recaptcha_response_field").val())return jQuery("#fsCaptcha"+this.id).addClass("fsValidationError"),!1;this.addNonce();var t,i=(i=$("input.fsSubmitButton")).length?i[0]:null;return $(".fsFieldValidating","#fsForm"+this.id).length?(i&&(t=document.getElementById("validatingText"),i.value=t&&t.innerHTML?t.innerHTML+"...":"Validating..."),this.skipValidation=!0,setTimeout($.proxy(this),100),!1):!(!this.processIntegrations("payment")||(this.skipValidation=!1,this.jsonp?(this.jsonpSubmit(),1):this.customSubmissionHandler?(this.customSubmissionHandler(),1):(this.form.trigger("form:submit"),i&&(t=document.getElementById("submittingText"),i.value=t&&t.innerHTML?t.innerHTML+"...":"Submitting..."),jQuery(".g-recaptcha").length?(grecaptcha.execute(),1):(this.emitSubmitMessage(),0))))},Formstack.Form.prototype.processIntegrations=Formstack.Form.prototype.checkIntegrationsComplete=Formstack.Form.prototype.checkForm=function(){if(this.skipValidation)return!0;var e=!0;if(this.skipPageValidation){for(var t=!1,i=1,r=1,a=this.pages;r<=a;r++)(e=this.checkPage(r))||t||(t=!0,i=r);if(t&&this.disableNavigation)return;if(t)return void this.changePage(this.currentPage,i)}else e=this.checkPage(this.currentPage);if(e){for(var n=[],o=$("#fsForm"+this.id+" .fsRequired").get(),r=0;r<o.length;r++){var s=o[r],l=void 0!==(l=$(s).parents(".fsMatrixFieldset"))[0]&&"disabled"===$(l[0]).attr("disabled");(s.disabled||l)&&(0<=s.id.indexOf("_")?(l=s.id.split("_"),n.push(l[0])):n.push(s.name))}return document.getElementById("hidden_fields"+this.id)&&(document.getElementById("hidden_fields"+this.id).value=n.join(",")),!0}return this.form.trigger("form:validation-error"),!1},Formstack.Form.prototype.getWorkflowStepAccess=function(e){return e=this.workflowFields[parseInt(e,10)].section,this.workflowSections[e].workflowAccess},Formstack.Form.prototype.checkLogic=Formstack.Form.prototype.getFieldValues=Formstack.Form.prototype.belongsToHiddenWorkflowSection=function(e){return(e=$(e).closest(".fsCell")).hasClass("fsWorkflowHidden")&&!e.hasClass("fsWorkflowReadOnly")},Formstack.Form.prototype.belongsToHiddenOnlyWorkflowSection=Formstack.Form.prototype.belongsToHiddenReadonlyWorkflowSection=function(e){return(e=$(e).closest(".fsSection")).hasClass("fsHidden")&&e.hasClass("fsWorkflowReadOnly")},Formstack.Form.prototype.isReadOnlyWorkflowInput=function(e){return!(e=$(e).closest(".fsCell")).hasClass("fsWorkflowHidden")&&e.hasClass("fsWorkflowReadOnly")},Formstack.Form.prototype.isFieldEqual=Formstack.Form.prototype.getTimestampFromDefaultDatePattern=function(e){return e=e.split("-"),(e=new Date(parseInt(e[2],10),parseInt(e[0],10)-1,parseInt(e[1],10))).setHours(0,0,0,0),e},Formstack.Form.prototype.isDateAfter=function(e,t){if(e=this.getDateFieldTimestamp("field"+e))return e.getTime()>this.getTimestampFromDefaultDatePattern(t).getTime()},Formstack.Form.prototype.isDateBefore=function(e,t){if(e=this.getDateFieldTimestamp("field"+e))return e.getTime()<this.getTimestampFromDefaultDatePattern(t).getTime()},Formstack.Form.prototype.isDateBetween=function(e,t){var i,r;if(e=this.getDateFieldTimestamp("field"+e))return t=t.split(","),r=this.getTimestampFromDefaultDatePattern(t[0]).getTime(),(t=this.getTimestampFromDefaultDatePattern(t[1]).getTime())<r&&(i=r,r=t,t=i),r<=e.getTime()&&e.getTime()<=t},Formstack.Form.prototype.isDateWithin=function(e,t){var i,r,a;if(e&&t&&(e=this.getDateFieldTimestamp("field"+e))&&(t=t.match(/(\d+)\s+(\w+)/))&&!(t.length<3))return i=parseInt(t[1],10),t=t[2].toLowerCase(),a=0,e<(r=Formstack.Util.getStartOfCurrentDate())?a=1:r<e&&(a=-1),e.setDate(e.getDate()+a),this.computeDateDuration(r,e,t,!1)<i},Formstack.Form.prototype.isDateEqual=function(e,t){if(e&&t&&(e=this.getDateFieldTimestamp("field"+e)))return e.getTime()===this.getTimestampFromDefaultDatePattern(t).getTime()},Formstack.Form.prototype.isFieldGreaterThan=Formstack.Form.prototype.isFieldLessThan=Formstack.Form.prototype.hasAlreadyFailedValidation=function(e){return e=this.getFieldContainer(e),-1!=this.failedContainers.indexOf(e)},Formstack.Form.prototype.checkRequired=function(e,t,i){var r=this.getFieldId(e);if(!this.validate||0<=location.search.indexOf("no_req"))return!0;if(this.fieldManagedByStripe(e)&&this.isStripeCCFieldCompleted())return!0;if(null!==t&&t&&-1===document.getElementById("fsCell"+r).className.indexOf("fsValidationError"))return!0;var a,n,o=!1,s=!0;if(this.isWorkflowForm&&"write"!==this.getWorkflowStepAccess(r))return!0;if(!e.disabled){if($(e).hasClass("fsRequired")){var l=e.name.substr(0,e.name.indexOf("-")),d=document.getElementById("matrix-"+l),l=$(e).val(),c="data:image/png;base64,",u=$(e).siblings(".fsSignature");if(null!==d){for(var m=d.getElementsByTagName("input"),h=new Array(!1),f=0;f<m.length;f++){var p=!1,g=m[f],y=g.type.toLowerCase();if("radio"===y||"checkbox"===y){if("radio"===y&&(p=!0,s=this.checkValidValue(g)),!s&&!$(d).hasClass("fsMatrixOnePerColumn"))break;null!==h[y=parseInt(m[f].id.substr(m[f].id.lastIndexOf("-")+1))-1]&&void 0!==h[y]||(h[y]=!1),m[f].checked&&(h[y]=!0)}}if($(d).hasClass("fsMatrixOnePerColumn")){for(s=!0,a=0,n=h.length;a<n;a++)if(!1===h[a]){s=!1;break}}else if(!p)for(s=!1,a=0,n=h.length;a<n;a++)if(!0===h[a]){s=!0;break}}else if(null!==l&&0<=l.indexOf(c)&&0<u.length){if(this.isSaveResumeEnabled&&0<=l.indexOf(c))return!0;for(var r=e.id.substr(String("field").length),F=$("#signature"+r).jSignature("getData","native"),s=!1,v=0,k=F.length;v<k;v++)if(5<=F[v].x.length){s=!0;break}}else s=this.checkValidValue(e);s||(o=!0,$(e).hasClass("fsFieldAddress")&&(r=(r=e.id.split("-"))[0]),i)||this.failedContainers.push(this.getFieldContainer(e))}s&&$(e).hasClass("fsUpload")&&((s=this.checkUpload(e))||(o=!0)),i||this.highlightField(e,!s)}return!i&&o?(u=!t,l=document.getElementById("requiredFieldsError")?document.getElementById("requiredFieldsError").innerHTML:"Please fill in a valid value for all required fields",this.showFieldsError(l,u),!1):s},Formstack.Form.prototype.showError=Formstack.Form.prototype.showFieldsError=function(e,t){var i=document.getElementById("translatedWord-fields")?document.getElementById("translatedWord-fields").innerHTML:"Fields",i=jQuery(".fsCell.fsValidationError").toArray().reduce(function(e,t,i,r){return i=i===r.length-1?"":",",e+" <strong>"+jQuery(t).attr("fs-field-validation-name")+i+"</strong>"}," <br/>"+i+": ");return this.showError(e+i,t)},Formstack.Form.prototype.hideError=Formstack.Form.prototype.highlightField=Formstack.Form.prototype.getContainer=Formstack.Form.prototype.getFieldContainer=Formstack.Form.prototype.validateNamePart=function(e){return e=document.getElementById(e),!$(e).hasClass("fsRequired")||e.value.match(/\S/)},Formstack.Form.prototype.checkValidName=function(e){return e=e.id.split("-")[0],!(!document.getElementById(e+"-first").value.match(/\S/)||!document.getElementById(e+"-last").value.match(/\S/))&&this.validateNamePart(e+"-prefix")&&this.validateNamePart(e+"-suffix")&&this.validateNamePart(e+"-middle")&&this.validateNamePart(e+"-initial")},Formstack.Form.prototype.checkValidValue=function(e){var t=!1;switch(this.getFieldId(e),e.type.toLowerCase()){case"text":$(e).hasClass("fsFieldName")?t=!this.checkValidName(e):$(e).is(".fsFieldAddress, fsFieldAddress2, .fsFieldCity, .fsFieldState, .fsFieldZip, .fsFieldCountry")?(i=e.id.split("-")[0],!(t=!t&&document.getElementById(i+"-address")?!document.getElementById(i+"-address").value.match(/\S/):t)&&document.getElementById(i+"-city")&&(t=!document.getElementById(i+"-city").value.match(/\S/)),(r=jQuery("#"+i+"-zip")).length&&!r.hasClass("fsFormatZipXX")&&(t=t||!r.val().match(/\S/)),r=document.getElementById(i+"-state"),(t=!t&&r?"select-one"==r.type.toLowerCase()?!r.options[r.selectedIndex].value.match(/\S/):!r.value.match(/\S/):t)||(r=document.getElementById(i+"-country"))&&!r.options[r.selectedIndex].value.match(/\S/)&&(t=!0)):t=!e.value.match(/\S/);break;case"textarea":t=!e.value.match(/\S/);break;default:var i=this.getFieldValues(e.name,!0),r=this.getFieldContainer(e);this.isWorkflowForm&&(0<jQuery(e).parent().find(".fsSignatureValue").length||0<jQuery(e).parent().find(".fsFileValue").length)?t=!1:"rating"===jQuery(r).attr("fs-field-type")?jQuery(r).find(".fsRatingNaOption input").prop("checked")||0!==i.length&&null!==i[0]&&""!==i[0]||(t=!0):0!==i.length&&null!==i[0]&&""!==i[0]||(t=!0)}return!t},Formstack.Form.prototype.checkUpload=Formstack.Form.prototype.checkFormat=function(e,t){var i="object"==typeof e&&"target"in e?e.target:e,e=this.getFieldContainer(i);if(this.onChange=!1,void 0!==t&&(this.onChange=!0),this.fieldManagedByStripe(i))return!0;if((""===i.value||i.disabled)&&!this.onChange&&-1===i.className.indexOf("fsFormatMaxDate"))return this.highlightField(i,!1),!0;if("radio"===i.type&&!i.checked&&!this.onChange)return this.highlightField(i,!1),!0;for(var r,a=i.className.split(/\s+/),n=!1,o=!1,s=0,l=a.length;s<l;s++)if(0===a[s].indexOf("fsFormat")){var n=!0,d="check"+a[s].slice(2),c=["checkFormatPhone"];if("function"==typeof this[d]){if(!(o=this[d](i)))break}else{for(var u=0,m=c.length;u<m;u++)if(0===d.indexOf(c[u])&&"function"==typeof this[c[u]]){o=this[c[u]](i);break}if(!o)break}}return(t=!n||o)&&n&&0<=i.className.indexOf("fsRequired")&&(e.className.indexOf("fsFieldFocused")<0||0<=e.className.indexOf("fsValidationError"))&&(r=!(t=this.checkRequired(i))),n&&(this.highlightField(i,!t),t||r||this.showFieldsError(document.getElementById("invalidFormatError")?document.getElementById("invalidFormatError").innerHTML:"Please ensure all values are in a proper format.")),t},Formstack.Form.prototype.checkFormatValidateReactField=function(e){var t="data-validation-message",t=(e=$(this.getFieldContainer(e))).find("["+t+"]").attr(t);return e.find(".fsErrorLabel").text(t),""===t},Formstack.Form.prototype.checkFormatText=Formstack.Form.prototype.checkFormatLength=Formstack.Form.prototype.checkFormatEmail=function(e){var t,i,r,a,n=null,o=!1,s=/^[a-z0-9-_'.+]+@[a-z0-9]+[a-z0-9-.]*\.[a-z0-9]{2,}$/i;if(-1<e.id.indexOf("_confirm")?(n=e,e=document.getElementById(e.id.replace("_confirm","")),o=!0):(n=document.getElementById(e.id+"_confirm"),t=$(e),i=$(n),a="required",t.hasClass(r="fsRequired")||(t.val()&&i.addClass(r).attr(a,!0),t.val())||i.removeClass(r).removeAttr(a),n&&e.value&&n.value&&(o=!0)),!(e.value||n&&n.value))return!0;if(n&&o){if(!n.value)return!1;if(n.value!=e.value)return!1;if(!n.value.match(s))return!1}return e.value.match(s),e.value.match(s)},Formstack.Form.prototype.checkFormatPhoneExternal=function(e){var t,i,r=this.getFieldContainer(e);return r&&!$(r).hasClass("fsFieldValidating")&&(t=$("#fsForm"+this.id).attr("action"),this.id,i=e.value)&&""!==i&&"XX"!=($(e).data("country")||"XX")&&(i=t.substring(0,t.lastIndexOf("/"))+"/validate.php",$(r).addClass("fsFieldValidating"),$.ajax({url:i,dataType:"jsonp",data:{f:this.id,field:this.getFieldId(e.id),value:e.value},success:this.onValidationResult.bind(this)})),!0},Formstack.Form.prototype.onValidationResult=Formstack.Form.prototype.getPhoneParts=function(e,t){var i,r="";return 0<=(e=e.toLowerCase().replace(/[^\dx]/g,"")).indexOf("x")&&(e=(i=e.split("x"))[0],r=i[1]),t||"1"==e.charAt(0)&&(e=e.slice(1)),[e,r]},Formstack.Form.prototype.checkFormatPhoneUS=Formstack.Form.prototype.checkFormatPhoneUK=Formstack.Form.prototype.checkFormatPhoneAU=function(e){if("undefined"!=typeof libphonenumber)return this.checkFormatPhone(e);for(var t,i=!0,r=(a=this.getPhoneParts(e.value,!0))[0],a=a[1],n=(9===(r="61"===r.substr(0,2)?r.slice(2):r).length&&(r="0"+r),["0","13","1300","18","1800"]),o=!1,s=0,l=n.length;s<l;s++)if(r.substr(0,n[s].length)===n[s]){o=!0,"0"!==n[s]&&(i=!1);break}return!!o&&-1!==[6,10].indexOf(r.length)&&(t="",t=i?"("+r.substr(0,2)+") "+r.substr(2,4)+" "+r.substr(6,4):6===r.length?r.substr(0,2)+" "+r.substr(2,2)+" "+r.substr(4,2):r.substr(0,4)+" "+r.substr(4,3)+" "+r.substr(7,3),a.length&&(t+=" x"+a),e.value=t,!0)},Formstack.Form.prototype.checkFormatPhoneXX=Formstack.Form.prototype.checkFormatPhone=Formstack.Form.prototype.checkFormatZipUS=Formstack.Form.prototype.checkFormatZipXX=Formstack.Form.prototype.checkFormatZipCA=Formstack.Form.prototype.checkFormatZipUK=Formstack.Form.prototype.checkFormatZipAU=Formstack.Form.prototype.checkFormatMaxDate=Formstack.Form.prototype.checkFormatNumber=Formstack.Form.prototype.checkFormatCreditCard=Formstack.Form.prototype.getNumberProperties=Formstack.Form.prototype.generatePrePopulateLink=Formstack.Form.prototype.getValue=Formstack.Form.prototype.setValue=function(e,t){var i=this.getFields(e,!0),r=t.split("\n"),a=null,n=document.getElementById("fsCalendar"+e),o=document.getElementById("field"+e+"H");if(!n&&!o||$.isNumeric(t)||(a=new Date(t),isNaN(a.getTime())&&(a=null)),0===i.length)for(var s,l,d=0;d<r.length;d++)0<(m=r[d]).indexOf(" = ")&&(s=m.split(" = "),null!==(l=document.getElementById("field"+e+"-"+s[0])))&&(l.value=s[1]);else for(d=0;d<i.length;d++){var c=i[d];if("file"!==c.type&&!jQuery("#signature"+e).length)if("radio"==c.type||"checkbox"==c.type)if(1<r.length)for(var u=0;u<r.length;u++)(m=r[u].split(" | "))[0]==c.value&&(c.checked=!0);else c.value==r[0]&&(c.checked=!0);else if("select-multiple"==c.type||"select-one"==c.type)if(1<r.length)for(u=0;u<r.length;u++)for(var m,h=0;h<c.options.length;h++)(m=r[u].split(" | "))[0]==c.options[h].value&&(c.options[h].selected=!0);else if(null!==a){var f="field"+e,p=c.id.substring(f.length),g=c.options,y=g[g.length-1].value,F=null,t=null;switch(p){case"M":F=a.getMonth()+1;break;case"D":F=a.getDate();break;case"Y":var v=a.getFullYear();4===(k=new String(y)).length?t=v:2===k.length&&(t=new String(v).substring(2));break;case"H":var k=13<c.length,t=v=a.getHours(),b="am",C=document.getElementById(f+"A");k||(12<t?(t=v-12,b="pm"):0===t?t=12:12===t&&(b="pm"),C&&("am"===b?C.options[1].selected=!0:"pm"===b&&(C.options[2].selected=!0)));break;case"I":F=a.getMinutes()+1;break;case"S":F=a.getSeconds()+1}if(null!==F)g[F].selected=!0;else if(null!==t)for(u=0;u<c.options.length;u++)t==c.options[u].value&&(c.options[u].selected=!0)}else for(u=0;u<c.options.length;u++)r[0]==c.options[u].value&&(c.options[u].selected=!0);else c.value=t}},Formstack.Form.prototype.setFieldValue=Formstack.Form.prototype.prefill=Formstack.Form.prototype.copyFieldValue=Formstack.Form.prototype.determineLocation=Formstack.Form.prototype.toggleValidation=Formstack.Form.prototype.onPostSubmit=function(e){null!==e.message&&""!==e.message||(e.message="Thank You!"),e='<div align="center" style="font-size:16px;font-weight:bold;padding:25px;">'+e.message+"</div><br />",$("#fsForm"+this.id).html(e),this.emitSubmitMessage()},Formstack.Form.prototype.onSubmitError=Formstack.Form.prototype.focusFirstError=Formstack.Form.prototype.jsonpSubmit=Formstack.Form.prototype.jsonpRecaptchaSubmit=function(e){var t=document.getElementById("fsForm"+e.id);return e.id,(e=document.createElement("script")).src=t.action+"?jsonp&"+$(t).serialize()+"&nocache="+(new Date).getTime(),t.parentNode.insertBefore(e,t),!1},Formstack.Form.prototype.changePage=Formstack.Form.prototype.isTouchable=Formstack.Form.prototype.getIncompleteFields=Formstack.Form.prototype.enableLogicEvents=Formstack.Form.prototype.launchDialog=Formstack.Form.prototype.closeDialog=Formstack.IOS={},Formstack.IOS.getRectById=function(e){return(e=document.getElementById(e))?"{{"+(e=e.getBoundingClientRect()).left+","+e.top+"}, {"+e.width+","+e.height+"}}":null},Formstack.IOS.base64EncodedUpload=Formstack.IOS.fileUpload=function(e){window.location="ios://fileupload/"+e},Formstack.IOS.scanCreditCard=Formstack.IOS.onCreditCard=function(e,t){if(!(e=document.getElementById("field"+e)))return!1;e.value=t},Formstack.Android={},Formstack.Android.scanCreditCard=Formstack.Android.onCreditCard=function(e,t){if(!(e=document.getElementById("field"+e)))return!1;e.value=t},Formstack.Util={lcFirst:,Formstack.Util.checkAll=function(e){var e=e.target,t=$(e);(t=$('[name="field'+t.attr("fs-data-field-id")+'[]"]')).prop("checked",e.checked),t.trigger("change")},Formstack.Util.scrollTo=Formstack.Util.getHeight=function(e){return e=$(e).height(),isNaN(e)?0:e},Formstack.Util.getWidth=function(e){return e=$(e).width(),isNaN(e)?0:e},Formstack.Util.getStartOfCurrentDate=Formstack.Util.setDate=function(e){var t,i=new Date,r=document.getElementById("field"+e+"Y"),a=(r&&(t=r.options[1].value.length,a=i.getFullYear().toString(),r.value=a.substring(4-t)),(r=document.getElementById("field"+e+"M"))&&(r.selectedIndex=i.getMonth()+1),document.getElementById("field"+e+"D"));a&&(t=i.getDate(),a.value=t<10?"0"+t:t)},Formstack.Util.setTime=function(e){var t,i=new Date,r=i.getHours(),a=document.getElementById("field"+e+"H");a&&(t=r,a.options.length<=13&&12<r&&(t-=12),0==t?t=12:t<10&&(t="0"+t),a.value=t),(a=document.getElementById("field"+e+"I"))&&(t=i.getMinutes(),a.value=t<10?"0"+t:t),(a=document.getElementById("field"+e+"S"))&&(t=i.getSeconds(),a.value=t<10?"0"+t:t),(i=document.getElementById("field"+e+"A"))&&(i.selectedIndex=r<12?1:2)},Formstack.Util.formatNumber=Formstack.Util.monthToInt=Formstack.Util.Loader=Formstack.Util.Loader.prototype.load=Formstack.Util.Loader.prototype.success=Formstack.Util.addEvent=function(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},Formstack.Util.removeEvent=Formstack.Form.prototype._applyRequiredFieldValidation=function(e){for(var t=!0,i=$(e),r=i.find(".fsRequired"),a=0;a<r.length;a++){var n=r[a],o=void 0!==(s=$(n).parents(".fsMatrixFieldset"))[0],s=o&&"disabled"===$(s[0]).attr("disabled");if(n.disabled||s)break;if((t=this.checkRequired(n)&&t)||this.hasAlreadyFailedValidation(n)||this.failedContainers.push(e),this.hasAlreadyFailedValidation(n)||(s=this.getFieldContainer(n),-1!==(n=this.failedContainers.indexOf(s))&&this.failedContainers.splice(n,1)),s=i.attr("fs-field-type"),o||"checkbox"===s||"radio"===s)break}return t||$(e).addClass("fsValidationError"),t},window.Formstack=Formstack,window.Formstack.Util.Loader=new Formstack.Util.Loader,String.prototype.trim||)}(window,jQuery);