(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[5866],{47168:(e,t,i)=>{"use strict";i.d(t,{i:()=>s,w:()=>n});var a=i(80413),n=e=>t=>{t({type:a.c,payload:{hasBillboardPanel:e}})},s=,31289:(e,t,i)=>{"use strict";i.d(t,{QG:()=>f,O4:()=>g,uM:()=>I,et:()=>b});var a=i(66062),n=i(18274),s=i(68858),r=i(66229),o=i(34629),d=i(55752),l=i.n(d);function c(e,t){return l()(e(),["bloggerState","bloggerMap",t],{})}function p(e,t,i,a){var n=c(e,i.amebaId).attribute||{},s=n.isPremium,r=n.isTieup;return!(s||r||!n.isShowAdUser)&&!function(e,t,i){var{adState:a}=e();return!!l()(a,["adLoadMap",t,i])}(e,t,a)}var h="LoadPcAdIds",u="ResetAdsData",v=(e,t)=>({type:o.tB,payload:{id:t,pathname:e}}),m=(e,t)=>({type:o.yX,payload:{id:t,pathname:e}}),y=(e,t,i)=>({type:o.Kt,payload:{id:t,pathname:e,error:i},error:!0}),f=(0,n.H)(((e,t)=>function(){var i=(0,a.Z)((function*(i,a){var n=h;if(p(a,e,t,n)){i(v(e,n)),"[adLoadAction] ".concat(n);try{var{amebaId:o}=t,d=c(a,o).blog||"";yield i((0,r.Mz)(d,s.SU)),i(m(e,n))}catch(l){l instanceof Error&&console.warn(l),i(y(e,n,l))}}}));return function(e,t){return i.apply(this,arguments)}}())),g=(0,n.H)(((e,t,i)=>function(){var n=(0,a.Z)((function*(a,n){var o=u;if(p(n,e,i,o)){a(v(e,o)),"[adLoadAction] ".concat(o);try{var{amebaId:d}=i,l=c(n,d).blog||"",h=[a((0,r.Mz)(l,s.wO))];yield Promise.all(h),a((0,r.gq)(e,l,t)),a(m(e,o))}catch(f){f instanceof Error&&console.warn(f),a(y(e,o,f))}}}));return function(e,t){return n.apply(this,arguments)}}())),b=e=>({type:o.FO,payload:{count:e}}),I=e=>({type:o.YM,payload:{fullPageAdType:e}})},11496:(e,t,i)=>{"use strict";i.d(t,{Q_:()=>d});var a=i(66062),n=i(18274),s=i(55752),r=i.n(s),o=i(45859),d=(0,n.H)({ttl:3e5},(e=>function(){var t=(0,a.Z)((function*(t,i){var a=r()(i(),["demographicsState"],{});if(a.error)return null;if(a.value)return null;try{var n=yield(e=>{if(!e)throw new Error("Required params lanceId is not defined");var t="".concat(window.process.env.API_DEMOGRAPHICS,"/demographics/").concat(e);return fetch(t,{mode:"cors"})})(e);if(!n.ok)throw new Error("Failed to get demographics");return t((e=>({type:o.q,payload:{value:e}}))((yield n.json()).demographics))}catch(s){return t((e=>({type:o.T,payload:{error:e},error:!0}))(s))}}));return ()))},89013:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var a=i(76955),n=i(19008),s={pid:77014,mid:541998,type:"banner",display:"inline"},r=(0,a.memo)((e=>{var{id:t,asid:i}=e;return(0,a.useEffect)((()=>{(e=>{(0,n.v)("https://imp-adedge.i-mobile.co.jp/script/v1/spot.js?".concat(Date.now())),window.adsbyimobile=window.adsbyimobile||[],window.adsbyimobile.push(Object.assign(Object.assign({},s),e))})({elementid:t,asid:i})}),[t,i]),a.createElement("div",{id:t})}))},48516:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var a=i(76955),n=i(62869),s=i.n(n),r=i(5154),o=i.n(r),d=i(51650),l=class c extends a.PureComponent{static get defaultProps(){return{children:null,className:"",targetUrl:void 0,onClick:o(),onMouseEnter:o()}}sSpaTargetLink(e){var{pathname:t,hostname:i}=e,a=i===new URL(window.process.env.HTTP_PATH_AMEBLO).hostname,n="/"===t,s="/accessibility"===t,[r,o]=t.split("/"),d=/_/.test(o);return a&&!(n||s||d)}handleClick(e){s()(this.props.onClick)&&this.props.onClick(e)}render(){var e,t=this.props,{children:i,className:n,targetUrl:s,onMouseEnter:r}=t,o=l(t,["children","className","targetUrl","onMouseEnter"]);if(void 0===s)return a.createElement("a",Object.assign({className:n},o),i);try{e=new URL(s)}catch(u){e=null}if(e&&this.isSpaTargetLink(e)){var c=e.pathname,p=e.search?"".concat(e.search):"",h=e.hash?"".concat(e.hash):"";return a.createElement(d.rU,Object.assign({className:n,to:"".concat(c).concat(p).concat(h),onClick:this.handleClick,onMouseEnter:r},o),i)}return a.createElement("a",Object.assign({className:n,href:s,onClick:this.handleClick,onMouseEnter:r},o),i)}}c.displayName="AnchorBlock"},10793:(e,t,i)=>{"use strict";i.d(t,{f:()=>d});var a=i(76955),n=i(52377),s=i(5154),r=i.n(s),o=i(54285);class d extends a.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleInview=this.handleInview.bind(this),this.startListen=this.startListen.bind(this),this.stopListen=this.stopListen.bind(this),this.inviewTracked=!1,this.tapTracked=!1}static get defaultProps(){return{activate:["tap"],algorithmId:"",bloggerAmebaId:"",categories:[],categoryId:"",subCategoryId:"",children:null,contentId:"",disable:!1,displayPosition:"",entryId:"",orderId:"",pageId:"",sectionId:"",serviceId:"",tagName:"",tapLogger:r(),viewLogger:r()}}componentDidMount(){this.startListen()}componentDidUpdate(){this.startListen()}et params(){var{algorithmId:e,bloggerAmebaId:t,categoryId:i,subCategoryId:a,contentId:n,displayPosition:s,pageId:r,entryId:o,orderId:d,sectionId:l,serviceId:c,tagName:p}=this.props;return{algorithmId:e,bloggerAmebaId:t,categories:this.props.categories.filter((),categoryId:i,subCategoryId:a,contentId:n,displayPosition:s,pageId:r,entryId:o,orderId:d,sectionId:l,serviceId:c,tagName:p}}startListen(){-1===this.props.activate.indexOf("view")||this.inviewTracked||(d.intersectionListener||(d.intersectionListener=(0,o.T)({})),this.stopListen(),this.trigger=n.findDOMNode(this),this.trigger&&!this.unlisten&&(this.unlisten=d.intersectionListener.listen(this.trigger,(e=>{(e.isIntersecting||e.intersectionRatio>0)&&(this.stopListen(),this.handleInview())}))))}andleClick(e){var t=a.Children.only(this.props.children).props.onClick;t&&t(e),this.props.tapLogger(this.params)}ender(){if(this.props.disable)return this.props.children;var e=this.props.children;return-1!==this.props.activate.indexOf("tap")&&(e=a.cloneElement(e,{onClick:this.handleClick})),e}}d.displayName="Tracker"},59731:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var a=i(54396),n=i.n(a),s=i(76955),r=i(45525),o=i(24427),d=i.n(o);const l=(0,r.w1)(d())((e=>{var{style:t}=e;return s.createElement("div",{className:d().Container,style:t},s.createElement(n(),{className:d().Icon}),s.createElement("p",{className:d().Message},"\u5e83\u544a\u3092\u8868\u793a\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"))}))},39846:52359:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});var a=i(68858),n={[a.Z9.Infeed]:{asid:1830124,elementid:"im-19f8810533534dc2813b78014b2e48db"},[a.Z9.EntryRectangle]:{asid:1830125,elementid:"im-5e60ebdf568a43ce9a7b1df7d18c7a23"},[a.Z9.MegaPanel]:{asid:1830126,elementid:"im-5e7e35bc238f4fb0be1f4afc33a3519f"},[a.Z9.SpecialMegaPanel]:{asid:1830127,elementid:"im-00901ad634354c9a927c9d2c69f28026"},[a.Z9.SecondInfeed]:{asid:1830128,elementid:"im-aee436e334fd4207997765636ac3018e"},[a.Z9.FooterMegaPanel]:{asid:1830129,elementid:"im-989ec2a911bc4d4d93b9093ab4455003"},[a.Z9.SmartPanel]:{asid:1838951,elementid:"im-a27a9ecfc87344c49c33036a4167891a"},[a.Z9.SpInArticleInjectedAds]:{asid:1838950,elementid:"im-3404e24b738c42da85ac600d25320a54"}}},50703:(e,t,i)=>{"use strict";i.d(t,{x:()=>a});var a={prebid:{general:{adGeneration:{id:"80641"},aja:{asi:"em9cx12iR"},appnexus:{placementId:14998205},openx:{unit:"540651674"},pubmatic:{adSlot:"SP_ZubattoPanel_general_prebid@320x100"},rubicon:{siteId:"188860",zoneId:"920176"},yieldone:{placementId:"48097"}},top_blogger:{adGeneration:{id:"80593"},aja:{asi:"KErd-Jhig"},appnexus:{placementId:14998211},openx:{unit:"540651678"},pubmatic:{adSlot:"SP_ZubattoPanel_topblogger_prebid@320x100"},rubicon:{siteId:"188862",zoneId:"920188"},yieldone:{placementId:"48103"}},official:{adGeneration:{id:"80592"},aja:{asi:"CFfYP1hmR"},appnexus:{placementId:14998210},openx:{unit:"540651682"},pubmatic:{adSlot:"SP_ZubattoPanel_official_others_prebid@320x100"},rubicon:{siteId:"188876",zoneId:"920284"},yieldone:{placementId:"51081"}},"ebizo-ichikawa":{adGeneration:{id:"80642"},aja:{asi:"OhJ-BJ2ig"},appnexus:{placementId:14998206},openx:{unit:"540651679"},pubmatic:{adSlot:"SP_ZubattoPanel_official_ebizo-ichikawa_prebid@320x100"},rubicon:{siteId:"188864",zoneId:"920202"},yieldone:{placementId:"51075"}},maokobayashi0721:{adGeneration:{id:"80644"},aja:{asi:"Pdd4YJhmR"},appnexus:{placementId:14998208},openx:{unit:"540651680"},pubmatic:{adSlot:"SP_ZubattoPanel_official_maokobayashi0721_prebid@320x100"},rubicon:{siteId:"188868",zoneId:"920220"},yieldone:{placementId:"51077"}},"inagakigoro-official":{adGeneration:{id:"80643"},aja:{asi:"sQjiE1hmR"},appnexus:{placementId:14998207},openx:{unit:"540651681"},pubmatic:{adSlot:"SP_ZubattoPanel_official_inagakigoro-official_prebid@320x100"},rubicon:{siteId:"188872",zoneId:"920252"},yieldone:{placementId:"51079"}}},criteo:{general:1227099,top_blogger:1228659,"ebizo-ichikawa":1228667,maokobayashi0721:1228675,"inagakigoro-official":1228684,official:1228693}}},6473:(e,t,i)=>{"use strict";i.d(t,{_F:()=>a,dU:()=>n,lA:()=>s,mW:()=>r});var a=(e,t,i)=>i?"official"!==t?void 0!==i[t]?i[t]:null:i[e]||i.official:null,n=(e,t,i,a)=>"general"===t?a["general_".concat(i)]?a["general_".concat(i)]:a[t]||null:a[e]||a.official,s=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,t,i.prebid)},r=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,t,i.criteo)}},85969:(e,t,i)=>{"use strict";i.d(t,{D:()=>d,U:()=>l});var a=i(84218),n=i.n(a),s=i(52361),r=i.n(s),o=i(18043);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.XZ,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t||n()(e,o.XZ)||r()(e,o.XZ)?"default_simple_standard":"basic_default"}var l=e=>{switch(e){case"sidebar_off":return 0;case"sidebar_right_1":case"sidebar_left_1":return 1;case"sidebar_both":case"sidebar_right_2":case"sidebar_left_2":return 2;default:return}}},71202:(e,t,i)=>{"use strict";i.d(t,{mt:()=>d});i(55752);var a=i(66062),n=function(){var e=(0,a.Z)((function*(e,t,i,a){"undefined"!=typeof window&&"undefined"!=typeof window&&window.__firebase&&window.__firebase.push instanceof Function&&window.__firebase.push((()=>{try{window.firebase.performance().trace(e).record(t,i,a)}catch(n){console.warn(n,"Failed exec firebase.performance functions")}}))}));return (),s=i(5563),r=i(13884),o="session-to-request",d=(e,t)=>(i,a)=>{if(window.performance&&window.performance.now){var d=window.performance.now(),{adPerf:l}=a(),c=l.isPageTransitioned,p=l.recordMap[t];c||p||(i(((t)),i((0,s.R9)({duration:d,sectionId:e,specType:o,sdkType:t})),n("First Ad Request",Date.now()-d,d,{attributes:{adType:e,sdk:t}}))}}},77207:(e,t,i)=>{"use strict";i.d(t,{hx:()=>m,Ux:()=>w,Ky:()=>k,Yz:()=>f,Sp:()=>I,qb:()=>g,fH:()=>b});var a=i(41185),n=i(66062),s=i(18274),r=i(22811),o=i(55752),d=i.n(o),l=i(82532),c=i.n(l),p=i(70709),h="4";var u=i(79838);ar m=(e,t,i)=>function(){var s=(0,n.Z)((function*(n){try{var s={},i),o=d()(r.parse(document.cookie),"P",null);o&&(s.p=o);var l=yield function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="adc",a=e;Array.isArray(e)&&(a=e.join(","),i="bulk");var n={s:!0,v:h},s=c()({},n,t),r=(0,p.ui)("".concat(window.process.env.API_ADCROSS,"/vdo/").concat(i,"/").concat(a),s);return fetch(r,{credentials:"include",mode:"cors"})}(t,s);if(!l.ok){if(404===l.status)return null;throw new Error(l.statusText)}var m=yield l.json();return n(((e,t,i,m))}catch(y){return n(((e,t,i,a)=>({type:u.Z2,payload:{name:e,pid:t,options:i,error:a},error:!0}))(y))}}));return function(e){return s.apply(this,arguments)}}(),y=(e,t,i)=>({type:u.Uk,payload:{measDomain:e,hash:t,v:i}}),f=(e,t,i)=>function(){var a=(0,n.Z)((function*(a){try{return yield function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={hash:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:h},i=(0,p.ui)("https://".concat(e,"/vdo/meas/click"),t);return fetch(i,{credentials:"include",mode:"cors"})}(e,t,i),a(y(e,t,i))}catch(n){return a(((e,t,i,a)=>({type:u.vi,payload:{measDomain:e,hash:t,v:i,error:a},error:!0}))(e,t,i,n))}}));return function(e){return a.apply(this,arguments)}}(),g=(e,t,i)=>function(){var a=(0,n.Z)((function*(a){try{return yield function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={hash:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:h},i=(0,p.ui)("https://".concat(e,"/vdo/meas/inview"),t);return fetch(i,{credentials:"include",mode:"cors"})}(e,t,i),a(y(e,t,i))}catch(n){return a(((e,t,i,a)=>({type:u.tR,payload:{measDomain:e,hash:t,v:i,error:a},error:!0}))(e,t,i,n))}}));return function(e){return a.apply(this,arguments)}}(),b=(e,t,i,a,s,r)=>function(){var o=(0,n.Z)((function*(n){try{return yield function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>2?arguments[2]:void 0,i={hash:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",ratio:arguments.length>3?arguments[3]:void 0,sec:arguments.length>4?arguments[4]:void 0,v:arguments.length>5&&void 0!==arguments[5]?arguments[5]:h},a=(0,p.ui)("https://".concat(e,"/vdo/meas/play/").concat(t),i);return fetch(a,{credentials:"include",mode:"cors"})}(e,t,i,a,s,r),n(((e,t,i)=>({type:u.X_,payload:{measDomain:e,hash:t,v:i}}))(e,t,r))}catch(o){return n(((e,t,i,a)=>({type:u.g2,payload:{measDomain:e,hash:t,v:i,error:a},error:!0}))(e,t,r,o))}}));return function(e){return o.apply(this,arguments)}}(),I=(0,s.H)({ttl:18e5},((e,t,i,a)=>function(){var s=(0,n.Z)((function*(n){try{return yield function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={hash:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",name:arguments.length>2?arguments[2]:void 0,v:arguments.length>3&&void 0!==arguments[3]?arguments[3]:h},i=(0,p.ui)("https://".concat(e,"/vdo/meas/event"),t);return fetch(i,{credentials:"include",mode:"cors"})}(e,t,i,a),n(((e,t,a))}catch(s){return n(((e,t,i,a)=>({type:u.UE,payload:{measDomain:e,hash:t,v:i,error:a},error:!0}))(e,t,a,s))}}));return ())),k=w=,28869:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var a=i(3e4),n=(i(91938),i(76955)),s=i(29466),r=i.n(s),o=i(5154),d=i.n(o),l=i(69383);class c extends n.Component{static get defaultPropsouldComponentUpdate(e,t){return this.props.hash!==e.hash||this.props.measDomain!==e.measDomain||this.props.v!==e.v||this.props.children!==e.children||!r()(this.props.trackInview,e.trackInview)||this.state.isActiveVisibilitySensor!==t.isActiveVisibilitySensor}handleInview(e,t){var{isIntersecting:i}=e;if(i){t();var{measDomain:a,hash:n,v:s,trackInview:r}=this.props;r(a,n,s),this.setState({isActiveVisibilitySensor:!1})}}render(){var{children:e}=this.props;return(0,a.Z)(l.ZP,{disabled:!this.state.isActiveVisibilitySensor,onChange:this.handleInview},void 0,e)}}c.displayName="AdcrossVideoInviewElement"},69181:(e,t,i)=>{"use strict";i.d(t,{B:()=>u});var a,n,s,r=i(3e4),o=(i(91938),i(76955)),d=i(55382),l=i.n(d),c=i(45525),p=i(93518),h=i.n(p),u=(0,c.w1)(h())((s=n=class extends o.Component{nder(){return(0,r.Z)("div",{className:l()(h().Block,this.props.className)})}},n.displayName="LoadingBlock",a=s))||a},78615:(e,t,i)=>{"use strict";i.d(t,{z:()=>O});var a=i(3e4),n=i(76955),s=(i(91938),i(29466)),r=i.n(s),o=i(5154),d=i.n(o),l=i(69383),c=i(45525),p=i(34894),h=i.n(p),u=i(63027),v=i.n(u),m=i(15010),y=i.n(m),f=i(25198),g=i.n(f),b=i(62869),I=i.n(b),k=i(48516);class w extends n.Component{static get defaultProps(){return{className:null,name:"",targetUrl:null,trackClick:d(),trackEvent:d(),onClick:d(),v:4}}houldComponentUpdate(e){return this.props.className!==e.className||this.props.hash!==e.hash||this.props.measDomain!==e.measDomain||this.props.measType!==e.measType||this.props.name!==e.name||this.props.targetUrl!==e.targetUrl||this.props.v!==e.v||this.props.children!==e.children||!r()(this.props.trackClick,e.trackClick)||!r()(this.props.trackEvent,e.trackEvent)}handleClick(){var{measDomain:e,hash:t,v:i,trackClick:a}=this.props;a(e,t,i)}handleEvent(e){var{measDomain:t,hash:i,name:a,v:n,trackEvent:s}=this.props;s(t,i,a,n),I()(this.props.onClick)&&this.props.onClick(e)}render(){var{children:e,className:t,measType:i,targetUrl:n}=this.props;return"click"===i?n?(0,a.Z)(k.Z,{className:t,rel:"noopener noreferrer",target:"_blank",targetUrl:n,onClick:this.handleClick},void 0,e):null:(0,a.Z)("button",{className:t,onClick:this.handleEvent},void 0,e)}}w.displayName="AdcrossVideoClickElement";var P,_,V,C=i(61990),S=i.n(C),x="second",T="ratio",O=(0,c.w1)(S())((V=_=class extends n.Component{static get defaultProps(){return{className:"",isAutoPlay:!1,isLoop:!1,isMuted:!0,isPlaysInline:!1,setTrackValue:d(),showProgress:!1,targetUrl:"",trackClick:d(),trackEvent:d(),trackMineMovie:d(),trackPlay:d()}}constructor(e){super(e),this.video=n.createRef(),this.playSecondIndex=1,this.playSecondInterval=5,this.playRatioIndex=1,this.playRatioInterval=0,this.handleVoiceIconClick=this.handleVoiceIconClick.bind(this),this.handleClickVideoReload=this.handleClickVideoReload.bind(this),this.handleVideoEnded=this.handleVideoEnded.bind(this),this.handleDurationChange=this.handleDurationChange.bind(this),this.trackAdcrossPlayLog=this.trackAdcrossPlayLog.bind(this),this.shouldTrackPlay=this.shouldTrackPlay.bind(this),this.handleTimeupdate=this.handleTimeupdate.bind(this),this.handleInview=this.handleInview.bind(this),this.handlePause=this.handlePause.bind(this),this.handlePlayIconClick=this.handlePlayIconClick.bind(this),this.handlePlay=this.handlePlay.bind(this),this.trackMinePlayLog=this.trackMinePlayLog.bind(this),this.state={isActiveVisibilitySensor:!0,muted:e.isMuted,ended:!1,isVideoInVisible:!1,isVideoPausedInVisible:!1,isVideoInVisibleFirst:!1,viewType:e.viewType,progressRatio:0}}static getDerivedStateFromProps(e,t){return"inline"===t.viewType&&"expansion"===e.viewType?{isActiveVisibilitySensor:!1,viewType:e.viewType}:"expansion"===t.viewType&&"inline"===e.viewType?{muted:!0,ended:!1,isActiveVisibilitySensor:!0}:null}shouldComponentUpdate(e,t){return!(this.props.className===e.className&&this.props.hash===e.hash&&this.props.isAutoPlay===e.isAutoPlay&&this.props.isLoop===e.isLoop&&this.props.isMuted===e.isMuted&&this.props.isPlaysInline===e.isPlaysInline&&this.props.measDomain===e.measDomain&&this.state.ended===t.ended&&this.state.muted===t.muted&&this.state.isVideoInVisibleFirst===t.isVideoInVisibleFirst&&this.state.isActiveVisibilitySensor===t.isActiveVisibilitySensor&&this.state.isVideoInVisible===t.isVideoInVisible&&this.state.isVideoPausedInVisible===t.isVideoPausedInVisible&&this.state.progressRatio===t.progressRatio&&this.props.viewType===e.viewType&&this.props.targetUrl===e.targetUrl&&this.props.serviceCode===e.serviceCode&&this.props.showProgress===e.showProgress&&this.props.movieId===e.movieId&&this.props.pageId===e.pageId&&r()(this.props.playLogMap,e.playLogMap)&&r()(this.props.videoObj,e.videoObj)&&r()(this.props.trackClick,e.trackClick)&&r()(this.props.trackEvent,e.trackEvent)&&r()(this.props.trackPlay,e.trackPlay)&&r()(this.props.setTrackValue,e.setTrackValue)&&r()(this.props.trackMineMovie,e.trackMineMovie))}componentDidUpdate(e,t){"expansion"===t.viewType&&"inline"===e.viewType&&this.video.current.paused&&this.video.current.play()}handleDurationChange(){this.playRatioInterval=this.video.current.duration/4}andleTimeupdate(){if(this.video.current&&(this.setState({progressRatio:this.video.current.currentTime/this.video.current.duration}),this.state.isVideoInVisibleFirst)){var e=this.video.current.currentTime>=this.playSecondInterval*this.playSecondIndex,t=this.video.current.currentTime>=this.playRatioInterval*this.playRatioIndex;if(e||t){if(e){var i=this.playSecondInterval*this.playSecondIndex;this.trackAdcrossPlayLog(i,this.props.viewType,x),this.trackMinePlayLog(i),this.video.current.removeEventListener("timeupdate",this.handleTimeupdate,!1),this.playSecondIndex+=1;var a=Math.floor(this.video.current.duration/this.playSecondInterval);return void(this.playSecondIndex<=a&&this.video.current.addEventListener("timeupdate",this.handleTimeupdate,!1))}this.trackAdcrossPlayLog(25*this.playRatioIndex,this.props.viewType,T),this.video.current.removeEventListener("timeupdate",this.handleTimeupdate,!1),this.playRatioIndex+=1;var n=Math.floor(this.video.current.duration/this.playRatioInterval);this.playRatioIndex<=n&&this.video.current.addEventListener("timeupdate",this.handleTimeupdate,!1)}}}handleClickVideoReload(){this.video.current.play(),this.setState({ended:!1,progressRatio:0})}handleVideoEnded(){var{hash:e,measDomain:t,setTrackValue:i,trackPlay:a,viewType:n}=this.props;this.shouldTrackPlay(T,100)&&(a(t,e,n,100),i(T,100)),this.setState({ended:!0,isVideoPausedInVisible:!1})}handleVoiceIconClick(e){e.stopPropagation(),this.video.current.muted=!this.video.current.muted,this.setState({muted:this.video.current.muted}),this.video.current.muted||this.props.trackEvent(this.props.measDomain,this.props.hash,"music_click")}handlePlayIconClick(e){this.state.isVideoPausedInVisible&&(e.preventDefault(),e.stopPropagation(),this.video.current.play(),this.setState({isVideoInVisibleFirst:!0}),this.state.isVideoInVisibleFirst||this.trackAdcrossPlayLog(0,this.props.viewType,T))}rackAdcrossPlayLog(e,t,i){var{hash:a,measDomain:n,setTrackValue:s,trackPlay:r}=this.props;i!==x?i===T&&this.shouldTrackPlay(T,e)&&(r(n,a,t,e),s(T,e)):this.shouldTrackPlay(x,e)&&(r(n,a,t,null,e),s(x,e))}trackMinePlayLog(e){if(this.shouldTrackPlay(x,e)){var{movieId:t,pageId:i,serviceCode:a,targetUrl:n}=this.props,s={pageId:i,movieUrl:n,movieId:t,playTime:e,service:a};this.props.trackMineMovie(s)}}shouldTrackPlay(e,t){var{playLogMap:i}=this.props;return!i[e]||!i[e].includes(t)}handleInview(e){var t=e.intersectionRatio>=.5;if(this.video.current){t&&!this.state.ended?(this.state.isVideoInVisibleFirst?this.video.current.play():(().then((()=>{this.trackAdcrossPlayLog(0,this.props.viewType,T),this.setState({isVideoInVisibleFirst:!0})})).catch((e=>{console.error(e),this.setState({isVideoPausedInVisible:!0})})),this.setState({isVideoInVisible:!0})):t&&this.state.ended?this.setState({isVideoInVisible:!0}):(this.video.current.pause(),this.setState({isVideoInVisible:!1}))}}renderElement(){var{hash:e,measDomain:t,targetUrl:i,trackEvent:s,viewType:r,showProgress:o,trackClick:d}=this.props;return(0,a.Z)("div",{className:S().Block},void 0,!this.state.isVideoInVisibleFirst||this.state.isVideoPausedInVisible?(0,a.Z)("a",{className:S().VideoStartLink,href:i,onClick:this.handlePlayIconClick},void 0,(0,a.Z)("div",{className:S().VideoStartIcon},void 0,(0,a.Z)(h(),{"aria-label":"\u518d\u751f\u3059\u308b",className:S().IconStart}))):"",(0,a.Z)("div",{className:S().VideoBlock},void 0,this.state.ended&&(0,a.Z)("div",{className:S().AfterNavigationOverlay},void 0,(0,a.Z)("div",{className:S().AfterNavigation},void 0,(0,a.Z)("div",{className:S().AfterNavigationInner},void 0,(0,a.Z)(w,{className:S().Replay,hash:e,measDomain:t,measType:"event",name:"movie_repeat",trackEvent:s,onClick:this.handleClickVideoReload},void 0,(0,a.Z)(v(),{className:S().IconRefresh,role:"presentation"}),"\u3082\u3046\u4e00\u5ea6\u518d\u751f")))),(0,a.Z)(w,{hash:e,measDomain:t,measType:"click",targetUrl:i,trackClick:d},void 0,n.createElement("video",{autoPlay:this.props.isAutoPlay,className:S().Video,loop:this.props.isLoop,muted:this.props.isMuted,playsInline:this.props.isPlaysInline,poster:this.props.videoObj.thumbnail,ref:this.video,src:this.props.videoObj.url,onDurationChange:this.handleDurationChange,onEnded:this.handleVideoEnded,onPause:this.handlePause,onPlay:this.handlePlay,onTimeUpdate:this.handleTimeupdate})),o&&(0,a.Z)("div",{className:S().ProgressBar,style:{transform:"scaleX(".concat(this.state.progressRatio,")")}})),"expansion"===r&&(0,a.Z)("div",{className:S().Sound},void 0,this.state.muted&&(0,a.Z)(y(),{"aria-label":"\u30df\u30e5\u30fc\u30c8",className:S().IconSpeaker,onClick:this.handleVoiceIconClick}),!this.state.muted&&(0,a.Z)(g(),{"aria-label":"\u97f3\u58f0\u3042\u308a",className:S().IconSpeaker,onClick:this.handleVoiceIconClick})))}render(){return(0,a.Z)(l.ZP,{disabled:!this.state.isActiveVisibilitySensor,threshold:.5,onChange:this.handleInview},void 0,this.renderElement())}},_.displayName="SpAdcrossVideo",P=V))||P},9609:(e,t,i)=>{"use strict";i.d(t,{T:);var a={adcrossVideo:{pid:"FxqvFMwR",options:{v:4,label:"ametopi"}}};,18888:(e,t,i)=>{var a=i(18300)((function(e){return e[1]}));a.push([e.id,"._HsVJbhmf{align-items:center;background:#f5f6f6;border-radius:8px;color:rgba(8, 18, 26, 0.61);display:flex;flex-direction:column;height:130px;justify-content:center;width:100%}._3UA49FcT{font-size:28px}._C3OCYrrU{font-size:12px;font-weight:700;line-height:1.3;margin-top:12px}",""]),a.locals={Container:"_HsVJbhmf",Icon:"_3UA49FcT",Message:"_C3OCYrrU"},e.exports=a},8373:(e,t,i)=>{var a=i(18300)((function(e){return e[1]}));a.push([e.id,'@keyframes _360f7lYJ{0%{transform:translateX(-100%)}to{transform:translateX(100%)}}._JVs3Y9L2{position:relative}._JVs3Y9L2:before{animation:_360f7lYJ 2s ease infinite;background:#999;content:"";height:1px;position:absolute;top:0;width:100%}',""]),a.locals={Block:"_JVs3Y9L2",loading:"_360f7lYJ"},e.exports=a},16236:(e,t,i)=>{var a=i(18300)(();a.push([e.id,"._1oFHH8Kq{position:relative}._nCdtDu54{min-height:180px}._1laDIX_F{height:100%;left:0;position:absolute;top:0;width:100%;z-index:1001}._OVDysrX4{background:rgba(0, 0, 0, 0.5);border:2px solid #fff;border-radius:50%;bottom:0;height:56px;left:0;line-height:56px;margin:auto;position:absolute;right:0;top:0;width:56px}._yqtArFQL{color:#fff;font-size:28px;left:50%;margin:-.5em 0 0 -.5em;position:absolute;top:50%}._3rIiQ78c{display:block;position:relative;width:100%}._2DwpwNWp{background-color:rgba(0, 0, 0, 0.5);border-radius:50%;bottom:8px;color:#ccc;height:24px;left:8px;position:absolute;width:24px}._2ba-W_7m{font-size:16px;left:50%;margin:-.5rem 0 0 -.5rem;position:absolute;top:50%}._KvwP7jiE{background:rgba(0, 0, 0, 0.6);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1001}._34J4tf4b{align-items:center;display:flex;height:100%;justify-content:center;width:100%}._8ETo1UIm{box-sizing:border-box;padding:0 40px;text-align:center;width:100%}._2SQQFN5p{background-color:transparent;color:#fff;font-size:16px}._3G6ueBN7{margin-right:4px;vertical-align:-2px}._2cqM0-r7{background:#298737;bottom:0;height:3px;position:absolute;transform-origin:left;transition-duration:.3s;transition-property:transform;transition-timing-function:linear;width:100%;z-index:1001}",""]),a.locals={Block:"_1oFHH8Kq",VideoBlock:"_nCdtDu54",VideoStartLink:"_1laDIX_F",VideoStartIcon:"_OVDysrX4",IconStart:"_yqtArFQL",Video:"_3rIiQ78c",Sound:"_2DwpwNWp",IconSpeaker:"_2ba-W_7m",AfterNavigationOverlay:"_KvwP7jiE",AfterNavigation:"_34J4tf4b",AfterNavigationInner:"_8ETo1UIm",Replay:"_2SQQFN5p",IconRefresh:"_3G6ueBN7",ProgressBar:"_2cqM0-r7"},e.exports=a},24427:(e,t,i)=>{var a=i(18888),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s=Object.defineProperty||function(e,t,i){e[t]=i.value};"string"==typeof a&&(a=[[e.id,a,""]]),e.exports=function(e){var t=n({},e.locals||{});return s(t,"_",{value:function(){return e}}),s(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(a)},93518:(e,t,i)=>{var a=i(8373),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},s=Object.defineProperty||function(e,t,i){e[t]=i.value};"string"==typeof a&&(a=[[e.id,a,""]]),e.exports=function(e){var t=n({},e.locals||{});return s(t,"_",{value:function(){return e}}),s(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(a)},61990:(e,t,i)=>{var a=i(16236),n=Object.assign||s=Object.defineProperty||"string"==typeof a&&(a=[[e.id,a,""]]),e.exports=function(e){var t=n({},e.locals||{});return s(t,"_",{value:),s(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(a)}}]);