!function(){"use strict";function o(){}unction h(t,n){this.t={},this.i(t,n)}unction s(t){this.o=null,this.endpoint=t,this.h=[this.v,this.p,this.g]}function t(t,n){this.attributes={_:null,m:this.k(this.I()),sessionId:this.I(),D:[]};var i=this.T(t,"trackId",null);if(!/^[0-9A-Fa-f]{32}$/.test(i))throw new Error('Track identity option is required and must be hex value long 32 characters: {trackId: "447236e0d12298df77282a6870b50042"}');this.options={j:i,O:{L:this.T(t,"base.sendAllowed",!0)}},this.q(t,!0),this.sender=new s({O:this.T(t,"endpoint.base","/tr"),A:this.T(t,"endpoint.img","/tri")}),this.S(n||[]),this.B()}o.C=(o.M="__bts")+"_cid",o.N="session",o.P="timing",(o.J={event:"e",target:"ta"})[o.N]="s",o.J[o.P]="t",a.R=function(t,n,i){return n?null:{error:"Is required"+(i?" one parameter from name list":""),name:t,group:i}},a.U=function(t,n){return n&&"string"!=typeof n?{error:"Is not string",name:t}:null},a.V=function(t,n){var i=Object.keys(o.J).join("|"),e=new RegExp("^("+i+")$");return"string"!=typeof n||e.test(n)?null:{error:"Is not event type ("+i+")",name:t}},a.$=function(t,n){return n&&"string"==typeof n&&256<n.length?{error:"Max length: 256",name:t}:null},a.F=function(t,n){return n&&"Invalid Date"===new Date(n).toString()?{error:"Invalid date",name:t}:null},h.prototype={getData:G:function(t,n){for(var i,e,s={},r=[],o=0;o<t.length;o++)t[o].group?s[i=t[o].group]?s[i].H.push(t[o].name):s[i]={H:[t[o].name],error:t[o].error}:r.push(t[o]);for(e in s)s[e].H.length===n[e].length&&r.push(s[e]);return r},i:function(t,n){var s=[],r={};if(n.forEach(function(n){var i=!1,e=(n.group&&(r[n.group]?r[n.group].push(n.name):r[n.group]=[n.name]),t[n.name]);n.rules.forEach(function(t){t=t(n.name,e,n.group);t&&(i=!0,s=s.concat(t))}),i||(this.t[n.K]=n.filter?n.filter(e):e)}.bind(this)),0<(s=this.G(s,r)).length)throw new Error(JSON.stringify(s))}},e.prototype={create:function(t,n){var i,e="";n&&((i=new Date).setFullYear(i.getFullYear()+n),e="; expires="+i.toGMTString()),document.cookie=this.key+"="+t+e+"; path=/; SameSite=Lax"},read:function(){for(var t=this.key+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var e=n[i];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null}},s.prototype={send:function(e){this.o?this.o.call(this,e):this.h.some(function(t,n){var i=t.call(this,e);if(n!==this.h.length-1||i)return i&&(this.o=t),i;throw new Error("Tracking cannot send data by any of the methods")}.bind(this))},W:function(t,n){var i,e=t;for(i in n)e+=(e.split("?")[1]?"&":"?")+i+"="+window.encodeURIComponent(n[i]);return e},X:function(t){return new Blob([JSON.stringify(t)],{type:"application/json"})},v:function(t){return this.Y(function(){window.navigator.sendBeacon(this.endpoint.O,this.X(t))}.bind(this))},p:function(t){return this.Y(function(){window.fetch(this.endpoint.O,{method:"POST",body:this.X(t),keepalive:!0,headers:{"Content-Type":"application/json"}})}.bind(this))},g:function(t){return this.Y(function(){(new Image).src=this.W(this.endpoint.A,t)}.bind(this))},Y:function(t,n){if(!t())return!1;try{n()}catch(t){return console.error(t),!1}return!0}},(t.prototype={q:function(t,n){this.options.ping={Z:this.T(t,"ping.allowed",!!n||this.options.ping.Z),interval:this.T(t,"ping.interval",n?30:this.options.ping.interval)},this.options.tt={connection:this.T(t,"timings.connection",!!n||this.options.tt.connection),nt:this.T(t,"timings.dnsLookup",!!n||this.options.tt.nt),it:this.T(t,"timings.ssl",!!n||this.options.tt.it),et:this.T(t,"timings.ttfb",!!n||this.options.tt.et),request:this.T(t,"timings.request",!!n||this.options.tt.request),response:this.T(t,"timings.response",!!n||this.options.tt.response),protocol:this.T(t,"timings.protocol",!!n||this.options.tt.protocol)}},I:function(){if(void 0!==window.Uint8Array&&void 0!==window.crypto&&void 0!==window.crypto.getRandomValues)return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,;var i=(new Date).getTime(),e=void 0!==window.performance&&window.performance.now&&1e3*window.performance.now()||0;return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,},T:function(t,n,i){var e,s=t,r=n.split("."),o=1;for(e of r){if(void 0===s[e])return i;if(s=s[e],o===r.length)return s;o++}return i},S:st:B:function(){this.attributes._&&clearInterval(this.attributes._),this.options.ping.Z&&!this.attributes._&&(this.attributes._=window.setInterval(function(){this.push({type:o.N,category:"ts.session",event:"ping"})}.bind(this),1e3*this.options.ping.interval));var t,n=window.performance.getEntriesByType("navigation")[0],i={type:o.P,category:"ts.timing",label:"ms"};this.options.tt.connection&&-1===this.attributes.D.indexOf("connection")&&(this.push(this.rt(i,{event:"connection",value:this.st(n.connectEnd-n.connectStart)})),this.attributes.D.push("connection")),this.options.tt.nt&&-1===this.attributes.D.indexOf("dnsLookup")&&(this.push(this.rt(i,{event:"dnsLookup",value:this.st(n.domainLookupEnd-n.domainLookupStart)})),this.attributes.D.push("dnsLookup")),this.options.tt.it&&-1===this.attributes.D.indexOf("ssl")&&((t=0)<n.secureConnectionStart&&(t=n.connectEnd-n.secureConnectionStart),this.push(this.rt(i,{event:"ssl",value:this.st(t)})),this.attributes.D.push("ssl")),this.options.tt.et&&-1===this.attributes.D.indexOf("ttfb")&&(this.push(this.rt(i,{event:"ttfb",value:this.st(n.responseStart-n.requestStart)})),this.attributes.D.push("ttfb")),this.options.tt.request&&-1===this.attributes.D.indexOf("request")&&(this.push(this.rt(i,{event:"request",value:this.st(n.responseStart-n.requestStart)})),this.attributes.D.push("request")),this.options.tt.response&&-1===this.attributes.D.indexOf("response")&&(this.push(this.rt(i,{event:"response",value:this.st(n.responseEnd-n.responseStart)})),this.attributes.D.push("response")),this.options.tt.protocol&&-1===this.attributes.D.indexOf("protocol")&&(t="",window.performance&&window.performance.timing.nextHopProtocol?t=performance.timing.nextHopProtocol:window.performance&&window.performance.getEntries?t=performance.getEntries()[0].nextHopProtocol:window.chrome&&window.chrome.loadTimes&&(t=window.chrome.loadTimes().connectionInfo),this.push(this.rt(i,{event:"protocol",value:t,label:""})),this.attributes.D.push("protocol"))},k:function(t){var n=new e(o.C),i=n.read();return i||n.create(t,2),i||t},ot:ht:function(){return{je:1,l:this.ut(),sr:window.screen.width+"x"+window.screen.height,cr:window.screen.availWidth+"x"+window.screen.availHeight,u:window.location.href,ts:(new Date).toISOString(),tz:(new Date).getTimezoneOffset()/60*-1}},ut:function(){var t=window.navigator.languages&&window.navigator.languages[0]||window.navigator.language||window.navigator.userLanguage;return"string"==typeof t?t:""},ct:function(t,n,i){return t?Object.keys(t).map(function(t){return{name:t,K:t.replace(n,i),rules:[a.U,a.$]}}):[]},lt:function(t,i){var e;return t?(e={},t.forEach(function(t,n){e[i+(n+1)]=t}),e):null},rt:function(){for(var t={},n=0;n<arguments.length;n++)for(var i=arguments[n],e=i?Object.keys(i):[],s=0;s<e.length;s++)void 0!==i[e[s]]&&(t[e[s]]=i[e[s]]);return t},dt:function(t){var n="userIdentity",i="eventAttribute",e=this.lt(t.userIdentities,n),s=this.lt(t.eventAttributes,i),r="additionalEventData";return new h(this.rt(t,s,e),[{name:"url",K:"u",rules:[a.U]},{name:"type",K:"et",rules:[a.R,a.V],filter:,{name:"category",group:r,K:"ec",rules:[a.R,a.U,a.$]},{name:"event",group:r,K:"e",rules:[a.R,a.U,a.$]},{name:"label",group:r,K:"el",rules:[a.R,a.U,a.$]},{name:"value",group:r,K:"ev",rules:[a.R,a.U,a.$]}].concat(this.ct(e,n,"u"),this.ct(s,i,"a"))).getData()},ft:function(t){this.options.O.L?this.sender.send(t):console.log(t)}}).push=function(t){t=this.rt(this.ot(),this.ht(),this.dt(t));this.ft(t)},t.prototype.setOptions=t.prototype.getAttribute=function(t){switch(t){case"cookieId":t=this.attributes.m;break;case"sessionId":t=this.attributes.sessionId;break;default:t=null}return t},window[o.M]=t}();
