(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{1250:function(t,e,r){"use strict";r.d(e,"d",(function(){return m})),r.d(e,"b",(function(){return v})),r.d(e,"a",(function(){return g}));var n=r(1933),o=r.n(n),i=r(1040),a=r(1137);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){u=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="executing",b="completed",m={};function v(){}function g(){}function w(){}var O={};s(O,a,(function(){return this}));var j=Object.getPrototypeOf,S=j&&j(j(F([])));S&&S!==r&&n.call(S,a)&&(O=S);var E=w.prototype=v.prototype=Object.create(O);function L(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,u){var l=p(t[o],t,i);if("throw"!==l.type){var f=l.arg,s=f.value;return s&&"object"==c(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,r,n){var o=d;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===b){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=T(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?b:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return g.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,f,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},L(x.prototype),s(x.prototype,l,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(E),s(E,f,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=F,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}var p=new Map,d=function(){var t,e=(t=u().mark((function t(e,r,n){var c,l,s,h,d,m,v,g,w,O,j,S,E,L,x,_,T,C,I,P,F,k,N,A,D,M,G,U,R,H,K,B,V,z,J,Y;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.store.getState(),l=c.floorList,s=e.store.actions,h=s.UPDATE_SINGLE_FLOOR_LIST,d=s.UPDATE_DYNAMIC_LOADED_LIST,m=l.find((function(t){return t.floorId===r})),g=(v=m||{}).templateConfig,w=v.floorId,j=(O=g||{}).tabResource,S=O.isShowTab,E=void 0===S?"0":S,r!==w||!Object(a.a)(j)){t.next=33;break}return t.prev=6,m.autoMultiSubFloor=m.autoMultiSubFloor||m.subFloors,T=(null===g||void 0===g?void 0:g.subFloor)&&Object(i.t)(g.subFloor,[]),C=m.autoMultiSubFloor[0],I=g.materialGroup&&Object(i.t)(g.materialGroup,[]),P=(null===I||void 0===I?void 0:I.length)&&[I[0].token],t.next=14,e.fetchGetContentV2(P);case 14:F=t.sent,k=e.store.getState(),N=k.floorList,A=k.dynamicContentLoadedList,D=k.productHasLoaded,M=N.find((function(t){return t.floorId===r})),G=n?y(m.subFloors,r):null,U=[],M.templateConfig.multiAutoTabContentLoaded=!0,null!==F&&void 0!==F&&F.length&&null!==(L=F[0])&&void 0!==L&&L.contents?(H=F[0],K=H.contents,B=H.remainingTime,V=Object(i.t)(K,[]),z=b(),M.templateConfig.remainingTime=B,M.templateConfig.skillUUID4=z,J=V.findIndex((),U=V.map((function(t){var e=o()(C);e.templateConfig=f(f({},e.templateConfig),{},{tabKey:t.tabKey,remainingTime:B,skillUUID4:z});var r="".concat(C.orignFloorId||C.floorId,"_").concat(t.tabKey);return"UPDATE"===n&&(A=A.filter((),D=D.filter(()),f(f(f(f({},n?{tabProductList:G.get(t.tabKey)}:{}),e),t),{},{floorId:r,floorName:t.title,name:t.title,groupId:t.tabKey,sort:t.tabKey,metricFloorId:"".concat(C.originMetricFloorId||C.metricFloorId,"_").concat(t.tabKey),orignFloorId:C.orignFloorId||C.floorId,originMetricFloorId:C.originMetricFloorId||C.metricFloorId})})),T=V.map((function(t){return f(f(f({},T[0]),t),{},{groupId:t.tabKey,defaultSelected:J>=0?t.tabKey===p.get(r)&&"T":t.isDefaultSelected&&"T"})})),M.templateConfig.noAutoMultiTabContent=(null===(R=U)||void 0===R?void 0:R.length)<=1&&"1"!==E):(M.templateConfig.noAutoMultiTabContent=!0,M.templateConfig.ceiling="0"),Y=(null===(x=U)||void 0===x?void 0:x.length)>0?[1]:[],M.subFloors=U,M.templateConfig.subFloor=JSON.stringify(T),1===(null===(_=U)||void 0===_?void 0:_.length)&&(M.templateConfig.ceiling="0"),N=N.map((function(t){return M.floorId===t.floorId?f({},M):t})),h({floorList:N,dynamicContentLoadedList:A,productHasLoaded:D}),d({floorId:w,tokenContentList:Y,isNeedProcess:!0}),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(6);case 33:case"end":return t.stop()}}),t,null,[[6,30]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){h(i,n,o,a,c,"next",t)}function c(t){h(i,n,o,a,c,"throw",t)}a(void 0)}))});return (),y=function(t){var e=new Map;return t.forEach((),e},b=function(){var t=return"".concat(t()+t(),"-").concat(t(),"-").concat(t(),"-").concat(t(),"-").concat(t()).concat(t()).concat(t())},m=v=g=function(t){return t>18e5?179e4:t>6e5?59e4:t>1e4?t-1e4:t<1e3?1e3:t};e.c=d},1283:function(t,e,r){"use strict";r.d(e,"b",(function(){return w})),r.d(e,"a",(function(){return O}));var n=r(1044),o=r(1040);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=["subContents"];function c(){c=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new P(n||[]);return o(a,"_invoke",{value:_(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",y="executing",b="completed",m={};function v(){}function g(){}function w(){}var O={};s(O,u,(function(){return this}));var j=Object.getPrototypeOf,S=j&&j(j(F([])));S&&S!==r&&n.call(S,u)&&(O=S);var E=w.prototype=v.prototype=Object.create(O);function L(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,a,c,u){var l=p(t[o],t,a);if("throw"!==l.type){var f=l.arg,s=f.value;return s&&"object"==i(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):e.resolve(s).then((function(t){f.value=t,c(f)}),(function(t){return r("throw",t,c,u)}))}u(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function _(e,r,n){var o=d;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===b){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=T(c,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?b:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function F(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return g.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,f,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},L(x.prototype),s(x.prototype,l,(function(){return this})),e.AsyncIterator=x,e.async=L(E),s(E,f,"Generator"),s(E,u,(function(){return this})),s(E,"toString",(),e.keys=e.values=F,P.prototype={constructor:P,reset:stop:dispatchException:abrupt:complete:finish:catch:delegateYield:,e}ction(t,e){try{var r=(t||{}).templateConfig;if(null!==e&&void 0!==e&&e.length){var o=Object(n.safeJSONParse)(null===r||void 0===r?void 0:r.subFloor,[]),i=d(t.subFloors,1)[0],a=e.map((function(t){return h(h(h({},i),t),{},{floorId:"".concat(i.floorId,"_").concat(t.tabKey),name:t.title,groupId:t.tabKey,sort:t.tabKey,templateConfig:h(h({},i.templateConfig),{},{tabKey:t.tabKey})})}));return o=e.map((function(t){return h(h(h({},o[0]),t),{},{groupId:t.tabKey})})),h(h({},t),{},{subFloors:a,templateConfig:h(h({},t.templateConfig),{},{subFloor:JSON.stringify(o)})})}}catch(c){return t}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=t.findIndex((function(t){return t.floorId===r}));return o>=0&&t.splice.apply(t,[o,n].concat(f(e))),t.map(()},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=0,n=[];try{for(var o=0;o<t.length;o++){var i=t[o].floorId;(i===e||"string"===typeof i&&null!==i&&void 0!==i&&i.startsWith(e))&&(n[r]=t[o].isFirstScreenSSR,r+=1)}}catch(a){}return{floorLength:r,isFirstScreenFloor:n}},w=function(){var t,e=(t=c().mark((function t(e,r){var o,i,l,f,s,p,d,y,b,w,O,j,S,E,L,x,_,T,C;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.store.getState(),i=o.floorList,l=e.store.actions,f=l.UPDATE_SINGLE_FLOOR_LIST,s=l.UPDATE_DYNAMIC_LOADED_LIST_BATCH,p=[],d=[],y=g(i,r),b=y.floorLength,w=y.isFirstScreenFloor,t.prev=5,O=i.find((),j=(O||{}).templateConfig,S=j.materialGroup&&Object(n.safeJSONParse)(j.materialGroup,[]),E=(null===S||void 0===S?void 0:S.length)&&[S[0].token],t.next=12,e.fetchGetContentV2(E);case 12:L=t.sent,x=L[0]||{},_=x.contents,null!==(T=Object(n.safeJSONParse)(_,[]))&&void 0!==T&&T.length?(C=T.map((function(t,e){var r=e>0?"".concat(O.floorId,"_").concat(e):O.floorId,o=t||{},i=(o.subContents,u(o,a)),c=Object(n.safeJSONParse)(t.subContents,[]),l=i.name,f=i.headId,s=h(h({},O),{},{isFirstScreenSSR:w[e]||!1,templateConfig:h(h({},O.templateConfig),{},{multiAutoTabContentLoaded:!0}),subFloors:[h({},O.subFloors[0])],floorId:r,extendConfig:{shouldRequest:0===e,shouldExposeTrace:0===e,isLastItem:e===(null===T||void 0===T?void 0:T.length)-1,cardnumber:e+1,ad_title:l,senceid:f}});return d.push({floorId:r,tokenContentList:[i],isNeedProcess:!0}),m(s,c)})),p=v(i,C,r,b)):(p=v(i,[],r,b),d.push({floorId:r,tokenContentList:[],isNeedProcess:!0}),e.logDevTrace("o_tangram_three_dimension_empty",{contents:_})),t.next=24;break;case 18:t.prev=18,t.t0=t.catch(5),p=v(i,[],r,b),d.push({floorId:r,tokenContentList:[],isNeedProcess:!0}),e.logDevTrace("o_tangram_three_dimension_error",{});case 24:f({floorList:p}),s(d);case 26:case"end":return t.stop()}}),t,null,[[5,18]])})),;return (),O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.cardnumber,r=t.ad_title,n=t.senceid,i=t.rec_poiid;return Object(o.b)({cardnumber:e,ad_title:r,senceid:n,rec_poiid:i})}},1284:function(t,e,r){"use strict";var n=r(1084),o=r.n(n),i=r(13),a=r.n(i),c=r(974),u=r(1250),l=r(1137),f=r(1283);nction p(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(l){return void r(l)}c.done?e(u):Promise.resolve(u).then(n,o)}unction y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var m=[],v=function(t){var e=t.floorId,r=t.templateConfig,n=void 0===r?{}:r,s=t.handleUpdateHeight,p=t.children,b=t.subTabList,v=t.isMobile,g=t.extendConfig,w=(void 0===g?{}:g).shouldRequest,O=void 0===w||w,j=Object(c.useCtrl)(),S=Object(c.useModelState)(),E=S.startLoadContent,L=S.departureCityId,x=S.districtInfo,_=(void 0===x?{}:x).districtId,T=S.previewSkeleton,C=n.tabResource,I=void 0===C?"0":C,P=n.multiAutoTabContentLoaded,F=void 0!==P&&P,k=n.noAutoMultiTabContent,N=n.remainingTime,A=n.skillUUID4,D=n.dataDimension,M=y(Object(i.useState)(!1),2),G=M[0],U=M[1],R=E&&Object(l.a)(I)&&!F,H=Object(l.a)(I)&&F&&k,K=y(Object(i.useState)(R),2),B=K[0],V=K[1],z=j.store.actions.UPDATE_DYNAMIC_LOADED_LIST;Object(i.useEffect)((function(){if(O&&Object(l.b)(D)&&!G){m.push({floorId:e,listener:function(t){null!==t&&void 0!==t&&t.startsWith(e)&&(m=m.filter((function(t){return t.floorId!==e})),U(!0))}})}return function(){m=m.filter((function(t){return t.floorId!==e}))}}),[D,e,O,G]),Object(i.useEffect)((function(){if(!Object(l.a)(I)){var t=null!==b&&void 0!==b&&b.length?[1]:[];z({floorId:e,tokenContentList:t,isNeedProcess:!0})}}),[]),Object(i.useEffect)((,[R]),Object(i.useEffect)((,[F]),Object(i.useEffect)((,[H,s]),Object(i.useEffect)((function(){d(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(v&&T||!O)){t.next=2;break}return t.abrupt("return");case 2:if(!G||F||!Object(l.a)(I)){t.next=13;break}if(t.prev=3,!Object(l.b)(D)){t.next=9;break}return t.next=7,Object(f.b)(j,e);case 7:t.next=11;break;case 9:return t.next=11,Object(u.c)(j,e);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[3,,11,13]])})))()}),[D,e,v,F,T,O,I,G]),Object(i.useEffect)((function(){var t="".concat(e,"_multiTimerOut"),r=Object(u.a)(N);return window&&r>=0&&(window[t]&&clearTimeout(window[t]),window[t]=setTimeout((function(){d(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.c)(j,e,"UPDATE");case 2:case"end":return t.stop()}}),t)})))()}),r)),function(){window&&window[t]&&(clearTimeout(window[t]),window[t]=null)}}),[A]),Object(i.useEffect)((function(){return function(){L&&_&&Object(u.b)()}}),[L,_]);var J=function(t){!G&&t&&U(!0),Object(l.b)(D)&&!O&&m.forEach(()};return Object(l.a)(I)?a.a.createElement(o.a,{onChange:J,partialVisibility:!0,active:B,offset:{bottom:-400,top:-400}},H?a.a.createElement("div",null," "):p):p};e.a=a.a.memo(v)},1843:function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var n=r(13),o=r.n(n),i=r(974),a=r(1109),c=r(1052),u=r(1283),l=r(1043),f=r(1406),s=r(1057);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t){var e=t.templateConfig,r=t.subFloors,h=void 0===r?[]:r,p=t.state,y=t.handlers,m=t.traceValue,v=t.TabWrapper,w=t.SubFloorContent,O=t.imageLazyLoad,j=t.ceilingOffset,S=void 0===j?0:j,E=t.floorId,L=t.metricFloorId,x=t.clientPreloadAll,_=t.extendConfig,T=t.subFloorCeilingHeight,C=y.handleLogClickTrace,I=Object(i.useModelState)(),P=I.departureCityId,F=I.districtInfo,k=(void 0===F?{}:F).districtId,N=I.ceilingHeightList,A=I.query,D=(void 0===A?{}:A).floortab,M=e.skillUUID4,G=b(Object(n.useState)(0),2),U=G[0],R=G[1],H=b(Object(n.useState)(!1),2),K=H[0],B=H[1],V=Object(n.useRef)(),z=Object(n.useRef)(),J=Object(n.useMemo)((,[e,h]),Y=J.subTabList,W=J.groupedSubList,q=J.isValid,$=Object(n.useMemo)((function(){return Y.some(()}),[Y]),Q=Object(n.useMemo)((function(){return function(t){var e,r,n=t.subTabList,o=void 0===n?[]:n,i=t.metricFloorId,a=t.floortab,c=b(null!==(e=null===a||void 0===a||null===(r=a.split)||void 0===r?void 0:r.call(a,"-"))&&void 0!==e?e:[],2),u=c[0],l=c[1];if(u&&l&&i==u&&l<o.length)return Number(l);var f=0;try{f=o.findIndex(()}catch(s){}return-1===f?0:f}({subTabList:Y,floortab:D,metricFloorId:L})}),[Y,D,L]),X=b(Object(n.useState)(Q),2),Z=X[0],tt=X[1],et=Object(n.useCallback)((,[B]),rt=Object(n.useCallback)((,[R]),nt=Object(n.useMemo)((function(){var t={};return U&&(t.height=Math.floor(U),!$&&(t.overflow="hidden")),t}),[U,$]),ot=Object(n.useCallback)((function(t){var e=t.index,r=t.title,n=(Y[e]||{}).poiId,o=g({traceValue:d(d({},m),Object(u.a)(d(d({},_),{},{rec_poiid:n}))),index:e,title:r}),i=o.clickTraceKey,a=o.clickTraceValue;C({traceKey:i,traceValue:a})}),[C,g,m,Y,_]),it=b(Object(f.a)(z),2),at=(it[0],it[1]),ct=Object(n.useMemo)((function(){return Object(c.d)(E,N).currentCeilingHeight}),[E,N]),ut=Object(n.useCallback)((function(){if(K&&at){var t=window.scrollY+at;S>0&&(t=t-S-ct),window.scrollTo(0,Math.ceil(t)+1)}}),[K,at]),lt=Object(n.useCallback)((function(t){var e=t.index,r=t.title;tt(e),setTimeout(a.forceCheck,0),ot({index:e,title:r}),ut(),window.scrollBy(0,1),window.scrollBy(0,-1)}),[tt,ot,ut]);return Object(n.useEffect)((,[M]),Object(n.useEffect)((function(){P&&k&&(tt(Q),setTimeout(a.forceCheck,0),ut())}),[P,k]),q?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:nt,ref:z},o.a.createElement(v,{handlers:y,floorId:E,topValue:S,templateConfig:e,subTabList:Y,currentIndex:Z,switchTab:lt,containerRef:z,subFloorRef:V,handleUpdateHeight:rt,handleUpdateIsCeiling:et,traceValue:m,imageLazyLoad:O,extendConfig:_,subFloorCeilingHeight:T})),o.a.createElement("div",{ref:V},W.map((function(t,r){var n=t.reduce((,0),i=!0;return O||r!==Z||(i=!1),!s.N&&x||r===Z?o.a.createElement(w,{tabFloorId:E,subList:t,handlers:y,state:p,imageLazyLoad:i,clientPreloadAll:x,key:"".concat(n,"subfloor").concat(r),show:r===Z,tabConfig:e,currentIndex:Z,extendConfig:_,currentFloorIndex:r}):null})))):null}function g(t){var e=t.traceValue,r=t.title,n=t.index;return{clickTraceKey:"tang_page_button_click",clickTraceValue:JSON.stringify(d(d({},e),{},{button:"multitab",tabname:r,button_sort:n+1,tab_sort:n+1}))}}r(1250),r(1284)},2812:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return F}));var n=r(13),o=r.n(n),i=r(974),a=r(1043),c=r(1057),u=r(1843),l=r(167),f=r.n(l),s=r(1137),h=r(1269),p=r(1040),d=r(1406),y=r(1284),b=r(1068),m=function(t){var e=t.templateConfig,r=t.isInTrip,n=e.displayStyle,i=e.lineNumber,a="1"===n&&"2"===i;return o.a.createElement(b.PlaceholderSkeleton,{className:"multiple_modules_tab_item",style:{width:"100%",borderRadius:0,borderColor:"transparent"},isInTrip:r},o.a.createElement("div",{className:"tab_title_box"},o.a.createElement("p",{className:"tab_main_title"}),a&&o.a.createElement("span",{className:"tab_subtitle"})))};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}unction S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=o.a.memo((function(t){return o.a.createElement(y.a,t,o.a.createElement(L,t))}));function L(t){var e=t.templateConfig,r=t.subTabList,a=t.switchTab,c=t.currentIndex,u=t.subFloorRef,l=t.handleUpdateHeight,h=t.handleUpdateIsCeiling,p=e.tabResource,y=void 0===p?"0":p,b=e.multiAutoTabContentLoaded,v=void 0!==b&&b,g=Object(i.useModelState)().isInTrip,O=Object(n.useRef)({}),S=Object(n.useRef)(),E=S&&S.current?S.current.getBoundingClientRect():{height:44},L=E.height,_=j(Object(n.useState)(!1),2),T=_[0],C=_[1],I=j(Object(n.useState)(),2),P=I[0],F=I[1],k=j(Object(d.a)(u),4),N=k[0],A=k[1],D=k[2],M=(k[3],!Object(s.a)(y)||Object(s.a)(y)&&v);Object(n.useEffect)((function(){var t=document.querySelector("#hp_container");new MutationObserver((function(){var e=window.getComputedStyle(t).getPropertyValue("paddingLeft"),r=window.getComputedStyle(t).getPropertyValue("width");F({left:e,width:r})})).observe(t,{attributes:!0,attributeFilter:["style"]})}),[]),Object(n.useEffect)((,[N,D]),Object(n.useEffect)((function(){var t;L!==(null===O||void 0===O||null===(t=O.current)||void 0===t?void 0:t.wrapperHeight)&&(l(L),O.current.wrapperHeight=L)}),[E]),Object(n.useEffect)((function(){var t=e.ceiling,r=void 0===t?"0":t,n=A+u.current.offsetHeight;C("1"===r&&M&&!!L&&0!==A&&A-L<0&&n>0),h(T)}),[A,L,M]);var G=function(t){var e=t.templateConfig,r=e.lineNumber,n=void 0===r?"0":r,o=e.floorBgColor,i=e.tabLayout,a=e.topBottomMargin,c=void 0===a?"0":a,u=e.displayStyle,l=f()({multiple_modules_tab_box:!0,tab_has_border:"4"===u,tab_has_main:"1"===u&&1===Number(n),tab_has_main_sub:"1"===u&&2===Number(n),tab_in_center:"1"===i}),s=Number(c)-16,h=s<0?"".concat(s,"px"):"",p=s>0?"".concat(s,"px"):"",d="".concat(c,"px");return{boxClass:l,bgStyle:{backgroundColor:o,marginTop:h,paddingTop:p,paddingBottom:d}}}({templateConfig:e}),U=G.bgStyle,R=G.boxClass,H=T?{position:"fixed",top:0,left:null===P||void 0===P?void 0:P.left,width:null===P||void 0===P?void 0:P.width,zIndex:998}:{},K=f()({multiple_modules_tab_wrapper:!0,templateOfTrip:g,templateOfCtrip:!g}),B=Object(s.a)(y)&&!v;return o.a.createElement("div",{className:K,style:w(w({},U),H),ref:S},o.a.createElement("ul",{className:R},B&&o.a.createElement(m,{templateConfig:e,isInTrip:g}),!B&&r.map((function(t,r){var n=t.title,i=t.subTitle,u=t.title_shark,f=t.subTitle_shark,s=c===r;return o.a.createElement(x,{switchTab:a,tabWrapperRef:S,handleUpdateHeight:l,isCur:s,key:r,index:r,title:n,subTitle:i,titleShark:u,subTitleShark:f,templateConfig:e})}))))}function x(t){var e=t.title,r=t.subTitle,n=t.titleShark,i=t.subTitleShark,a=t.templateConfig,c=t.isCur,u=t.switchTab,l=t.index,s=t.tabWrapperRef,d=t.handleUpdateHeight,y=function(t){var e=t.templateConfig,r=t.isCur,n=e.displayStyle,o=e.mainTitleBold,i=e.mainTitleHighlightBold,a=e.mainTitleColor,c=e.mainTitleHighlightColor,u=e.mainTitleSize,l=e.mainTitleHighlightSize,f=e.subTitleColor,s=e.titleColor,h=e.titleHighlightColor,d=e.subTitleHighlightColor,y=e.bgBorderHighlightColor,b=e.bgBorderColor,m=e.lineNumber,v=e.selectedBgColor,g=e.selectedTextColor,w=e.selectedTextSize,O=e.unselectedBgColor,S=e.unselectedTextColor,E=e.unselectedTextSize,L=e.unselectedWireframeColor,x=e.wireframeBorderRadius,_="0"===n,T="1"===n,C="4"===n;v=v||"#E9F2FE",O=O||"#FFFFFF",g=g||"#287DFA",S=S||"#0F294D",L=L||"#DADFE6",w=w||"14",E=E||"14";var I=T&&"2"===m;_&&(a=s,c=h);var P=_?"#0086F6":"#FFFFFF";a=a||"#333333",c=c||P,u=u||"18",l=l||"18",f=f||"#333333",d=d||"#FFFFFF",y=y||"#0086F6",b=b||"#FFFFFF";var F="1"===o?"bold":"normal",k="1"===i?"bold":"normal",N={color:r?c:a,fontSize:"".concat(r?l:u,"px"),fontWeight:r?k:F,cursor:r?"":"pointer"},A={background:c},D={color:r?d:f},M={};T&&(M={background:r?y:b,cursor:r?"":"pointer"});C&&(N={color:r?g:S,fontSize:"".concat(r?w:E,"px")},M={borderColor:r?v:L,background:r?v:O,cursor:r?"":"pointer"});if(x){var G=j(Object(p.t)(x,[0,0,0,0]),4),U=G[0],R=void 0===U?0:U,H=G[1],K=void 0===H?0:H,B=G[2],V=void 0===B?0:B,z=G[3],J=void 0===z?0:z;M.borderRadius="".concat(Number(R),"px ").concat(Number(K),"px ").concat(Number(V),"px ").concat(Number(J),"px")}return{mainTitleStyle:N,subTitleStyle:D,boxStyle:M,isUnderLine:_,showSubTitle:I,underlineStyle:A}}({templateConfig:a,isCur:c}),b=y.mainTitleStyle,m=y.subTitleStyle,v=y.boxStyle,g=y.isUnderLine,w=y.underlineStyle,O=y.showSubTitle,S=Object(h.b)(n||e),E=Object(h.b)(i||r),L=f()({multiple_modules_tab_item:!0,multiple_modules_tab_cur:c});return o.a.createElement("li",{className:L,style:v,onClick:function(){u({index:l,title:e}),setTimeout((function(){if(s||!s.current){var t=s.current.getBoundingClientRect().height;d(t)}}),0)}},o.a.createElement("div",{className:"tab_title_box"},o.a.createElement(_,{title:S,mainTitleStyle:b}),o.a.createElement(T,{show:O,subTitle:E,subTitleStyle:m}),o.a.createElement(C,{show:c&&g,underlineStyle:w})))}function _(t){var e=t.title,r=t.mainTitleStyle;return o.a.createElement("p",{className:"tab_main_title",style:r},e)}function T(t){var e=t.show,r=t.subTitle,n=t.subTitleStyle;return e?o.a.createElement("span",{className:"tab_subtitle",style:n},r):null}function C(t){var e=t.show,r=t.underlineStyle;return e?o.a.createElement("span",{className:"cur_line_bottom",style:r}):null}var I=r(1506);unction F(t){return o.a.createElement(u.a,P({},t,{TabWrapper:E,SubFloorContent:k}))}function k(t){var e=t.subList,r=t.handlers,n=t.show,u=t.imageLazyLoad,l=Object(i.useModelState)(),f=r.handleGetCommonTangTrace;return o.a.createElement(o.a.Fragment,null,e.map((function(t,e){if(c.N&&(null===t||void 0===t||!t.isFirstScreenSSR))return null;var i=t.templateConfig,s=void 0===i?{}:i,h=t.templateName,p=t.floorId,d=t.category,y=I.a[h];if(a.a(y),0===Object.keys(s).length||!y)return null;var b=c.N?{}:a.x({item:t,commonTrace:f("PC")}),m={};return c.w.includes(d)||c.N||(m={className:"expose_dom","data-expose-key":"tang_page_module_expo","data-trace-value":JSON.stringify(b)}),o.a.createElement("div",P({key:p+"multi_sub"+e,style:a.S(n)},m),o.a.createElement(y,P({handlers:r,state:l,traceValue:b,imageLazyLoad:u,isSub:!0,isMobile:!1,show:n},t)))})))}}}]);