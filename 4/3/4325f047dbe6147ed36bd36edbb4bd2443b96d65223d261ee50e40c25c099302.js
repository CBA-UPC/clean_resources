"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3740],{22837:function(t,e,i){let n,r,o;i.d(e,{Z:);let s="[data-trix-attachment]",a={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},l={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(t){return h(t.parentNode)===l[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test,attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},h=t=>{var e;return null==t||null===(e=t.tagName)||void 0===e?void 0:e.toLowerCase()},u=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),c=u&&parseInt(u[1]);var d,g,m,p,f={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:c&&c>12,samsungAndroid:c&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:"undefined"!=typeof InputEvent&&["data","getTargetRanges","inputType"].every(},b={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};let v=[b.bytes,b.KB,b.MB,b.GB,b.TB,b.PB];var A={prefix:"IEC",precision:2,forma)}}};leis},y=document.documentElement,C=y.matches,E=function(t){let{onElement:e,matchingSelector:i,withCallback:n,inPhase:r,preventDefault:o,times:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e||y,l="capturing"===))};return h.dest,l),a.addEventListener(t,h,l),h},R=function(t){let{onElement:e,bubbles:i,cancelable:n,attributes:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i=!1!==i,n=!1!==n;let o=document.createEvent("Events");return o.initEvent(t,i,n),null!=r&&x.call(o,r),(null!=e?e:y).dispatchEvent(o)e)}}nte} it)},F=function(t){let{onlyNodesOfType:e,usingFilter:i,expandEntityReferences:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}L}})();return document.createTreeWalker(t,r,null!=i?i:null,!0===n)()},I=function(t){let e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"==typeof t?t=(n=t).tagName:n={attributes:n};let r=document.createElement(t);if(null!=n.editable&&(null==n.attributes&&(n.attributes={}),n.attributes.contenteditable=n.editable),n.attributes)for(e in n.attributes)i=n.attributes[e],r.setAttribute(e,i);if(n.style)for(e in n.style)i=n.style[e],r.style[e]=i;if(n.data)for(e in n.data)i=n.data[e],r.dataset[e]=i;return n.className&&n.className.split(" ").forEach(t=>{r.classList.add(t)}),n.textContent&&(r.textContent=n.textContent),n.childNodes&&[].concat(n.childNodes).forEach(t=>{r.appendChild(t)}),r},P=function(){if(null!=n)return n;for(let t in n=[],l){let e=l[t];e.tagName&&n.push(e.tagName)}return nld),O=function(t){let{strict:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{strict:!0};return e?M(t):M(t)||!M(t.firstChild)&&P().includes(B(t))&&!P().includes(B(t.firstChild))},M=t=>j(t)&&"block"===(null==t?void 0:t.data),j=t=>(null==t?void 0:t.nodeType)===Node.COMMENT_NODE,W=function(t){let{name:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t)return V(t)?"\uFEFF"===t.data?!e||t.parentNode.dataset.trixCursorTarget===e:void 0:W(t.firstChild),staODE,z={level2Enabled:!0,getL:0},pickFiles(t){let e=I("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("chane)}),T(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var _={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:"\n"},H={bold:{tagName:"strong",inheritable:!0,pa00}},italic:{tagName:"em",inheritable:!0,paryle},href:{groupTagName:"a",parser(t){let e="a:not(".concat(s,")"),i=t.closest(e);if(i)return i.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},J={getDefaultH>')};let K={interval:5e3};var G=Object.freeze({__proto__:null,attachments:a,blockAttributes:l,browser:f,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:A,input:z,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:b,parser:_,textAttributes:H,toolbar:J,undo:K});class ${static proxyMethod(t){let{name:e,toMethod:i,toProperty:n,optional:r}=X(t);this.prototype[e]=function(){var t,o;let s,a;return i?a=r?null===(t=this[i])||void 0===t?void 0:t.call(this):this[i]():n&&(a=this[n]),r?(s=null===(o=a)||void 0===o?void 0:o[e])?Y.call(s,a,arguments):void 0:(s=a[e],Y.call(s,a,arguments))}}}let X=function(t){let e=t.match(Q);if(!e)throw Error("can't parse @proxyMethod expression: ".concat(t));let i={name:e[4]};return null!=e[2]?i.toMethod=e[1]:i.toProperty=e[1],null!=e[3]&&(i.optional=!0),i},{apply:Y}=Function.prototype,Q=RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");class Z extend}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return o(this.codepoints.slice(0,Math.max(0,t))).lentoJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}let tt=1===(null===(d=Array.from)||void 0===d?void 0:d.call(Array,"\uD83D\uDC7C").length),te=null!=(null===(g=" ".codePointAt)||void 0===g?void 0:g.call(" ",0)),ti=" \uD83D\uDC7C"===(null===(m=String.fromCodePoint)||void 0===m?void 0:m.call(String,32,128124));r=tt&0)):function(t){let e=[],i=0,{length:n}=t;for(;i<n;){let r=t.charCodeAt(i++);if(55296<=r&&r<=56319&&i<n){let e=t.charCodeAt(i++);56320==(64512&e)?r=((1023&r)<<10)+(1023&e)+65536:i--}e.push(r)}return e},o")};let tn=0;class tr extendJSONString(){return JSON.stringify(ths)}getCacheKey(){return this.id.toString()}}let to=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},ts=function(t){let e=t.slice(0);for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.splice(...n),e},ta=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,tl=function(){let t=I("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=I("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),i=I("form");i.appendChild(t),i.appendChild(e);let n=function(){try{return new FormData(i).has(e.dirName)}catch(t){return!1}}(1}}();reture)r"}}(),th=null,tu=null,tc=null,td=nullth),tm=t=>l[t],tp=()=>(tu||(tu=Object.keys(l)),tu),tf=t=>H[t]tc)t)},e}")}")),tC={"application/x-trix-feature-detection":"test"})}},tR=/Mac|^iP/.test(navigator.platform)?t=>t.metaKey:t=>t.ctrlKey,1),tS=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(let i in t){let n=t[i];e[i]=n}return e},tL=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let i in t)if(t[i]!==e[i])return!1;return!0})]}i)}o)}t)}e)};class tI extends ${constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,}update(){this.notifySelectionManagersOfSelectionChang()}}let tP=new tI t} e}()}er)(t),tU=t=>t.replace(RegExp("".concat("\uFEFF"),"g"),"").replace(RegExp("".concat("\xa0"),"g")," "),tq=new RegExp("[^\\S".concat("\xa0","]")),tV=t=>t.replace(RegExp("".concat(tq.source),"g")," ").replace(/\ {2,}/g," "),tz=function(t,e){let i;if(t.isEqualTo(e))return["",""];let n=t_(t,e),{length:r}=n.utf16String;if(r){let{offset:o}=n,s=t.codepoints.slice(0,o).concat(t.codepoints.slice(o+r));i=t_(e,Z.fromCodepoints(s))}else i=t_(e,t);return[n.utf16String.toString(),i.utf16String.toString()]}i}};class tH extends}add(t,e){return this.merge(tJ(t,))}get(t){return this.values}getKeys(){return Object.keys(this.valutoObject(){return tG(this.values)}toJSON(){return this.toObjec)}}}let,i} i},i}t)}:t};class tY{static groupObjects(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{depth:i,asTree:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n&&null==i&&(i=0);let r=[];return Array.from(e).forEach(e=>{var o,s,a,l;if(t){if(null!==(s=e.canBeGrouped)&&void 0!==s&&s.call(e,i)&&null!==(a=(l=t[t.length-1]).canBeGroupedWith)&&void 0!==a&&a.call(l,e,i))return void t.push(e);r.push(new this(t,{depth:i,asTree:n})),t=null}null!==(o=e.canBeGrouped)&&void 0!==o&&o.call(e,i)?t=[e]:r.push(e)}),t&&r.push(new this(t,{depth:i,asTree:n})))}getObjects(){return this.objects}getDepth(){return this.de")}}class tQ extend]}}class}let t0=t=>t.dataset.trixStoreKey;class t1 extends ${isPerforming(){return!0===this.perform}getPromise(){return this.promise||(this.promise=new Promise((t,e)=>(this.performing=!0,this.perform((i,n)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(n):e(n)})))),this.proml}}t1.proxyMethod("getPromise().then"),t1.proxyMethod("getPromise().catch");class t2 extendis}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.!ndElement(){return this.findElementForObject(this.obje))}findViewForObject(t){for(let e of this.getAllChildViews())if(e.object===t)returs}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews}}class t6 extends}let{css:t3}=G;class t5 extends]}createNodes(){let t;let e=t=I({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=I({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?t.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(e=>{t.appendChild(e)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=I({tagName:"progress",attributes:{class:t3.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[t4("left"),e,t4("right)}getData(){let t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1()}getCaptionConfig(){var t;let e=this.attachment.getType(),i=tS(null===(t=a[e])||void 0===t?void 0:t.caption);return"file"===e&&(i.name=!0)}}let t4=t=>I({tagName:"span",textContent:"\uFEFF",data:{trixCursorTarget:t,trixSerialize:!1}})e)};class t9 extendsis}createContentNt}refresh(t){var e;if(t||(t=null===(e=this.findElement())||void 0===e?void 0:e.querySelector("img")),t)return this.updateAttributesForImage)}}class t8 extends()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes(),e=this.createElement();if(e){le t}(e);Array.from(t).forEach(t=>{i.appendChild(t)}),t=[e]}returpreserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,"\xa0")),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat("\xa0"," $2")).replace(/\ {2}/g,"".concat("\xa0"," ")).replace(/\ {2}/g," ".concat("\xa0")),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,"\xa0")),t}}class et extendsig}createNodes(){let t=[],e=tY.groupObjects(this.getPieces()),i=e.length-1;for(let r=0;r<e.length;r++){let o=e[r],s={};0===r&&(s.isFirst=!0),r===i&&(s.isLast=!0),ee(n)&&(s.followsWhitespace=!0);let a=this.findOrCreateCachedChildView(t8,o,{textConfig:this.textConfig,context:s});t.push(...Array.from(a.getNodes()||[]));var n=o}retur))}}let()),{css:ei}=G;class en extends}class er extends}render(){if(this.childViews=[],this.shadowElement=I("div"),!this.document.isEmpty()){let t=tY.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forE))}createDocumentFragmentForSync(){let t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forE))}),Array.from(eo(t)).forEt)}),t}}let eo=t=>t.querySelectorAll("[data-trix-store-key]")ML)}el.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIteratois},el.prototype.next=function(t){return this._invoke("next",t)},el.prototype.throw=function(t){return this._invoke("throw",t)},el.prototype.rett)};class ec extendscopyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge()}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has)}isBlockBreak(){returanBeGrouped(){return this.hasAttribute("hre")}getLength(){return this.len!1}}eu(ec,"types",{});class ed extends=t}perform(t){let e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.oner!1),e.src=this.url}}class eg extendsgetAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){var t,e,i,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.attributes.merge(r);if(!this.attributes.isEqualTo(o))return this.attributes=o,this.didChangeAttributes(),null===(t=this.previewDelegate)||void 0===t||null===(e=t.attachmentDidChangeAttributes)||void 0===e||e.call(t,this),null===(i=this.delegate)||void 0===i||null===(n=i.attachmentDidChangeAttributes)||void 0===n?void 0:n.call(i,thgetURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesiz)}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.ftoJSON(){return this.getAttributeeload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new ed(t).t()}).ca()))}}eu(eg,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class em extendsgetValue(){return this.attachm"}toJSON(){let t=super.toJSON(...arguments);return t.attachment=this.attachm())}}eu(em,"permittedAttributes",["caption","presentation"]),ec.registerType("attachment",em);class ep extentes)}constructor(t){super(...arguments),this.string=t.replace(/\r\n?/g,"\n"),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBloc)}}ec.registerType("string",ep);class ef extength}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this.constructor(ts(this.objects(e,i))}insertObjectAtIndex(t,e){return this.splice1)}getObjectAtIndex(t){return this.obj]}splitObjectAtPosition(t){let e,i;let{index:n,offset:r}=this.findIndexAndOffsetAtPosition(t),o=this.objects.slice(0);if(null!=n){if(0===r)e=n,i=0;else{let t=this.getObjectAtIndex(n),[s,a]=t.splitAtOffset(r);o.splice(n,1,s,a),e=n+1,i=s.getLength()-r}}else e=o.length,i=0;return[o,e,i]}consolidate(){let t=[],e=this.objects[0];return this.objects.slice(1).),e=i)}),e&&t.push(e),new this.construion}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.to"]")}}}let eb=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;let i=!0;for(let n=0;n<t.length;n++){let r=t[n];i&&!r.isEqualTo(e[n])&&(i=!1)}return i},ev=t=>t=>t[1];class ex extends tr{static textForAttachmentWithAttributes(t,e){return new this([new emt,e)])}static fromJSON(t){return new this(Array.from(t).map(t=>ec.fromJS ef(e)}copy(){return this.copyWithPieceList(this.piee))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRan,i)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,e=>e.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,e=>e.copyWithoutAttribu|{}}getExpandedRangeForAttributeAtOffset(t,e){let i,n=i=e,r=this.getLength();for(;n>0&&this.getCommonAttributesAtRange([n-1,i])[t];)n--;for(;i<r&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[n,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRat)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attahis}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return 0===this.getLeak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosist(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.te())))}getDirection(){return tl(this.toSttion()}}class ey extends tr{static fromJSON(t){return new this(ex.fromJSON(t.text),t.attr=e||[]}isEmpty(){return this.text.isBlockutes)}copyWithoutText(){return this.copyWithTexext,t)}copyWithoutAttributes(){return this.copyWithAttribute())}getLastAttribute(){return ew(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributess[t-1]}hasAttribute(t){return this.attributes.incles())}getNestableAttributes(){return this.attributes.filter(t=>tm(t).nete)}isListItem(){var t;return null===(t=tm(this.getLastAttribute()))||void 0===t?void 0:t.listAttribute}isTerminalBlock(){var t;return null===(t=tm(this.getLastAttribute()))||void 0===t?void 0:t.tReturn}findLineBreakInDirectionFromPosition(t,e){let i;let n=this.toString();switch(t){case"forward":i=n.indexOf("\n",e);break;case"backward":i=n.slice(0,e).lastIndexOf("\n")}if(-1!==i)rbutes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getL]}canBeGroupedWith(t,e){let i=t.getAttributes(),n=i[e],r=this.attributes[e];return r===n&&!(!1===tm(r).group&&!(()=>{if(!td)for(let t in td=[],l){let{listAttribute:e}=l[t];null!=e&&td.push(e)}return td})().includes(i[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}let eC=function(t){return t=ek(t=eE(t))},eE=function(t){let e=!1,i=t.getPieces(),n=i.slice(0,i.length-1),r=i[i.length-1];return r?(n=n.map(t=>t.isBlockBreak()?(e=!0,eL(t)):t),e?new ex([...n,r]):t):t},eR=ex.textForStringWithAttributes("\n",{blockBreak:xt(eR)},eS=function(t){let e=t.getLength();return 0!==e&&t.getTextAtRange([e-1,e]).isBlockBreak()},eL=t=>t.copyWithoutAttribute("blockBret]:(-1t,i,1)};class eF ext}copyWithBaseBlockAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.getBlocktes(i)});return new this.constru(e,i))}insertDocumentAtRange(t,e){let{blockList:i}=t,[n]=e=tD(e),{index:r,offset:o}=this.locationFromPosition(n),s=this,a=this.getBlockAtPosition(n);return tw(e)&&a.isEmpty()&&!a.hasAttributes()?s=new this.constructor(s.blockList.removeObjectAtIndex(r)):a.getBlockBreakPosition()===o&&n++,s=s.removeTextAtRange(e),new this.constructor(s.blockList.insertSplittableListAtPosition(i,n))}mergeDocumentAtRange(t,e){let i,n;e=tD(e);let[r]=e,o=this.locationFromPosition(r),s=this.getBlockAtIndex(o.index).getAttributes(),a=t.getBaseBlockAttributes(),l=s.slice(-a.length);if(to(a,l)){let e=s.slice(0,-a.length);i=t.copyWithBaseBlockAttributes(e)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(s);let h=i.getBlockCount(),u=i.getBlockAtIndex(0);if(to(s,u.getAttributes())){let t=u.getTextWithoutBlockBreak();if(n=this.insertTextAtRange(t,e),h>1){i=new this.constructor(i.getBlocks().slice(1));let e=r+t.getLength();n=n.insertDocumentAtRange(i,e)}}else n=this.insertDocumentAtRange(i,e);ror(e)}moveTextFromRangeToPosition(t,e){let i;t=tD(t);let[n,r]=t;if(n<=e&&e<=r)return this;let o=this.getDocumentAtRange(t),s=this.removeTextAtRange(t),a=n<e;a&&(e-=o.getLength());let[l,...h]=o.getBlocks();return 0===h.length?(i=l.getTextWithoutBlockBreak(),a&&(e+=1)):i=l.text,s=s.insertTextAtRange(i,e),0===h.length?s:(o=new this.constructor(h),e+=i.getLength(),s.insertDocumentAtRang)}applyBlockAttributeAtRange(t,e,i){let n=this.expandRangeToLineBreaksAndSplitBlocks(i),r=n.document;i=n.range;let o=tm(t);if(o.listAttribute){r=r.removeLastListAttributeAtRange(i,{exceptAttributeName:t});let e=r.convertLineBreaksToBlockBreaksInRange(i);r=e.document,i=e.range}else r=o.exclusive?r.removeBlockAttributesAtRange(i):o.terminal?r.removeLastTerminalAttributeAtRange(i):r.consolidateBlocksAtRange(i);return r.addAttributeAtRanger(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;let[i,n]=t=tD(t),r=this.locationFromPosition(i),o=this.locationFromPosition(n),s=this,a=s.getBlockAtIndex(r.index);if(r.offset=a.findLineBreakInDirectionFromPosition("backward",r.offset),null!=r.offset&&(e=s.positionFromLocation(r),s=s.insertBlockBreakAtRange([e,e+1]),o.index+=1,o.offset-=s.getBlockAtIndex(r.index).getLength(),r.index+=1),r.offset=0,0===o.offset&&o.index>r.index)o.index-=1,o.offset=s.getBlockAtIndex(o.index).getBlockBreakPosition();else{let t=s.getBlockAtIndex(o.index);"\n"===t.text.getStringAtRange([o.offset-1,o.offset])?o.offset-=1:o.offset=t.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==t.getBlockBreakPosition()&&(e=s.positionFromLocation(o),s=s.insertBlockBreakAtRange([e,e+1]))}return i=s.positionFromLocation(r),n=s.positionFromLocation(o),{document:s,range:t=tD([i,n])}}convertLineBreaksToBlockBreaksInRange(t){let[e]=t=tD(t),i=this.getStringAtRange(t).slice(0,-1),n=this;return i.replace(/-1,e])}),{document:n,r0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){let{index:e}=this.locationFromPosition(t);return this.getBlockAtI1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let i,n;t=tD(t);let[r,o]=t,s=this.locationFromPosition(r),a=this.locationFromPosition(o);if(s.index===a.index)return e(i=this.getBlockAtIndex(s.index),n=[s.offset,a.offset],s.index);for(let t=s.index;t<=a.index;t++)if(i=this.getBlockAtIndex(t)){switch(t){case s.index:n=[s.offset,i.text.getLength()];break;case a.index:n=[0,a.offset];break;default:n=[0,i.text.getLength()]}e(ect()}}getCommonAttributesAtPosition(t){let e,i;let{index:n,offset:r}=this.locationFromPosition(t),o=this.getBlockAtIndex(n);if(!o)return{};let s=eB(o),a=o.text.getAttributesAtPosition(r),l=o.text.getAttributesAtPosition(r-1),h=Object.keys(H)ritable);for(e in l)((i=l[e])===a[e]||h.includes(e))&&(s[e]=i);rurn t}getAttachmentById(t){for(let e of this.getAttachments())if(e.id===t)r))}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let e=0,i=this.blockList.toArray();for(let n=0;n<i.length;n++){let{text:r}=i[n],o=r.getRangeOfAttachment(t);if(o)return tD([e+o[0],e+o[1]]);e+=r.getLeurn e}findRangesForBlockAttribute(t){let e=0,i=[];return this.getBlocks().),e+=r}),i}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0,n=[],r=[];return this.getPieces().forEach(o=>{let s=o.getLength();(e?o.getAttribute(t)===e:o.hasAttribute(t))&&(n[1]===i?n[1]=i+s:r.push(n=[i,i+s])),iString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArrasole())))}}let eB=function(t){let e={},i=t.getLastAttribute();return i&&(e[i]=!0),e},eI="style href src width height class".split(" "),eP="javascript:".split(" "),eN="script iframe form".split(" ");class eO extends ${static sanitize(t,e){let i=new this(t,e);return i.sanit=eM(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.in}e.body},ej=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{string:t=tU(t),attributes:e,type:"strinurn{}}};class eU ex()}}createHiddenCl}processTextNode(t){var e;let i=t.data;return eq(t.parentNode)||(i=tV(i),eK(null===(e=t.previousSibling)||void 0===e?void 0:e.textContent)&&(i=eH(i))),this.appendStringWithAttributes(i,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(U(t)){if(Object.keys(e=eW(t,"attachment")).length){let i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,i),t.innerHTML=""}return this.processedElements.push(t)}switch(B(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"}10)),n})(t);for(let t in i){let n=i[t];e[t]=n}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(_.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(_.tableCellSepa}getTextAttributes(t){let e;let i={};for(let n in H){let r=H[n];if(r.tagName&&S(t,{matchingSelector:r.tagName,untilNode:this.containerElement}))i[n]=!0;else if(r.parser){if(e=r.parser(t)){let o=!1;for(let i of this.findBlockElementAncestors(t))if(r.parser(i)===e){o=!0;break}o||(i[n]=e)}}else r.styleProperty&&(e=t.style[r.styleProperty])&&(i[n]=e)}if(U(t)){let n=eW(t,"attributes");for(let t in n)e=n[t],i[t]=e}return i}getBlockAttributes(t){let e=[];for(;t&&t!==this.containerElement;){for(let n in l){var i;let r=l[n];!1!==r.parse&&B(t)===r.tagName&&(null!==(i=r.test)&&void 0!==i&&i.call(r,t)||!r.test)&&(e.push(n),r.listAttribute&&e.push(r.listAttribute))}t=t.parentNode}return e.resplay}isInsignificantTextNode(t){if((null==t?void 0:t.nodeType)!==Node.TEXT_NODE||!eJ(t.data))return;let{parentNode:e,previousSibling:i,nextSibling:n}=t;return eV(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||eq(e)?void 0:!i||this.isBlockElement(i)||!n||this.isBlockElet)}desontttoACC"))testest(t),eG=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],e$="data-trix-serialized-attributes",eX="[".concat(e$,"]"),eY=RegExp("<!--block-->","g"),eQ={"application/json":function(t){let e;if(t instanceof eF)e=t;else{if(!(t instanceof HTMLElement))throw Error("unserializable object");e=eU.parse(t.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(t){let e;if(t instanceof eF)e=er.render(t);else{if(!(t instanceof HTMLElement))throw Error("unserializable object");e=t.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).>{T(t)}),eG.e(t)})}),Array.from(e.querySelectorAll(eX)).forEach(t=>{try{let e=JSON.parse(t.getAttribute(e$));for(let i in t.removeAttribute(e$),e){let n=e[i];t.setAttribute(i,n)}}catch(t){}}),e.innerHTML.replace(eY,"")}};var eZ=Object.freeze({__proto__:null});class e0 exment)}}e0.proxyMethod("attachment.getAttribute"),e0.proxyMethod("attachment.hasAttribute"),e0.proxyMethod("attachment.setAttribute"),e0.proxyMethod("attachment.getAttributes"),e0.proxyMethod("attachment.setAttributes"),e0.proxyMethod("attachment.isPending"),e0.proxyMethod("attachment.isPreviewable"),e0.proxyMethod("attachment.getURL"),e0.proxyMethod("attachment.getHref"),e0.proxyMethod("attachment.getFilename"),e0.proxyMethod("attachment.getFilesize"),e0.proxyMethod("attachment.getFormattedFilesize"),e0.proxyMethod("attachment.getExtension"),e0.proxyMethod("attachment.getContentType"),e0.proxyMethod("attachment.getFile"),e0.proxyMethod("attachment.setFile"),e0.proxyMethod("attachment.releaseFile"),e0.proxyMethod("attachment.getUploadProgress"),e0.proxyMethod("attachment.setUploadProgress");class e1 exe}}c)}}class e6 ex(n)}insertText(t){let{updatePosition:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{updatePosition:!0},i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));let n=i[0],r=n+t.getLength();return e&&this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertBlock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ey,e=new eF([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new eF,e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));let i=e[0],n=i+t.getLength();return this.setSelection(n),this.notifyDelegateOfInsertionAtRanger])}replaceHTML(t){let e=eU.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),n=this.document.rangeFromLocationRange(i);return this.setDocument(e),this.setSelection(n)}insertFile(t){return this.insertFilt(e)}shouldManageDeletingInDirection(t){let e=this.getLocationRange();if(tw(e)){if("backward"===t&&0===e[0].offset||this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,i,n,{length:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getLocationRange(),s=this.getSelectedRange(),a=tw(s);if(a?i="backward"===t&&0===o[0].offset:n=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){let t=this.getBlock();if(t.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(s[0]),t.isEmpty())return!1}return a&&(s=this.getExpandedRangeInDirection(t,{length:r}),"backward"===t&&(e=this.getAttachmentAtRange(s))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(s)),this.setSelection(s[0]),!i&&!n&& ")}selectPlaceholder(){if(null!=this.placeholderPosition)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedn=null}hasCurrentAe(t)}canSetCurrentTextAttribute(t){let e=this.getSelectedDocument();if(e){for(let t of Array.from(e.getAttachments()))if(!t.hasContent())return!1;re))}removeTextAttribute(t){let e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRang(t,e))}canDecreaseNestingLevel(){var t;return(null===(t=this.getBlock())||void 0===t?void 0:t.getNestingLevs())}}}decreaseNestingLevel(){let t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLee(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange()),{index:e}=this.document.locationFromPosition(t),i=e,n=this.getBlock().getAttributeLevel(),r=this.document.getBlockAtIndex(i+1);for(;r&&r.isListItem()&&!(r.getAttributeLevel()<=n);)i++,r=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:e,offset:0});let o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,o]))}updateCurrentAttributes(){let t=this.getSelectedRange({ignoreLock:!0});if(t){let e=this.document.getCommonAttributesAtRange(t);if(Array.from(tg()).forEach(t=>{e[t]||this.canSetCurrentAttribute(t)||(e[t]=!1)}),!tL(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChbutes)}getCurrentTextAttributes(){let t={};for(let e in this.currentAttributes){let i=this.currentAttributes[e];!1!==i&&tf(e)&&(t[e]=i)}rn",!0)}thawSelection(){return this.removeCurrentAttribute("fge(i)}getSelectedRange(){let t=this.getLocationRange();if(t)return this.document.rangeFromLocationRe)}withTargetDOMRange(t,e){let i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRan[i,n])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;let e=this.getExpandedRangeInDirection(t);return null!=this.getAttachmentAtRange(e)}moveCursorInDirection(t){let e,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{let n=this.getSelectedRange();e=!tT(n,i=this.getExpandedRangeInDirection(t))}if("backward"===t?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),e){let t=this.getAttachmentAtRange(i);if(t)return this.editAttachment(t)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRefreshAttachments(){let t=this.document.getAttachments(),{added:e,removed:i}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],n=[],r=new Set;t.add(t)});let o=new Set;return e.ush(t)}),t.ush(t)}),{added:i,removed:n}}(this.attachments,t);return this.attachments=t,Array.from(i).l())}),t})()}attachmentDidChangeAttributes(t){var e,i;return this.revision++,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidEditAttachment)||void 0===i?void 0:i.caull)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachmen(t,e))}breakFormattedBlock(t){let{document:e}=t,{block:i}=t,n=t.startPosition,r=[n-1,n];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&"\n"===t.nextCharacter?n+=1:e=e.removeTextAtRange(r),r=[n,n]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?r=[n-1,n+1]:(r=[n,n+1],n+=1):t.startLocation.offset-1!=0&&(n+=1);let o=new eF([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(o,r)),this.setSelecutes)}notifyDelegateOfInsertionAtRange(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidPerformInsertionAtRange)||void 0===i?void 0:i.set(n+e)}}e6.proxyMethod("getSelectionManager().getPointRange"),e6.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),e6.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),e6.proxyMethod("getSelectionManager().locationIsCursorTarget"),e6.proxyMethod("getSelectionManager().selectionIsExpanded"),e6.proxyMethod("delegate?.getSelectionManager");class e3 tries=[]}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.undoEntries.slice(-1)[0];if(!i||!e5(n,t,e)){let i=this.createEntry({description:t,context:e});this.undoEntries.push(i),this.redoEntries=[]}}undo(){let t=this.undoEntries.pop();if(t){let e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.sapshot)}}canUndo(){return this.undoEntriesshot()ingify(i),e4="attachmentGallery"Range}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange(e4,t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,"\n"!==this.document.getCharacterAtPosition(e[1])&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),0!==e[0]&&"\n"!==this.document.getCharacterAtPosition(e[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(e4[1]+=apshot()},e8=[e9][0,0]})}loadHTML(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=eU.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelecteute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.able:i})}redo(){if(this.canRedo())return this.undoManagr.undo()}lement=t}findLocationFromContainerAndOffset(t,e){let{strict:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0},n=0,r=!1,o={index:0,offset:0},s=this.findAttachmentElementParentForNode(t);s&&(t=s.parentNode,e=w(s));let a=F(this.element,{usingFilter:is});for(;a.nextNode();){let s=a.currentNode;if(s===t&&V(t)){W(s)||(o.offset+=e);break}if(s.parentNode===t){if(n++===e)break}else if(!D(t,s)&&n>0)break;O(s,{strict:i})?(r&&o.index++,o.offset=0,r=!0):o.offset+=ii(s)}return o}findContainerAndOffsetFromLocation(t){let e,i;if(0===t.index&&0===t.offset){for(e=this.element,i=0;e.firstChild;)if(N(e=e.firstChild)){i=1;break}return[e,i]}let[n,r]=this.findNodeAndOffsetFromLocation(t);if(n){if(V(n))0===ii(n)?(e=n.parentNode.parentNode,i=w(n.parentNode),W(n,{name:"right"})&&i++):(e=n,i=t.offset-r);else{if(e=n.parentNode,!O(n.previousSibling)&&!N(e))for(;n===e.lastChild&&(n=e,!N(e=e.parentNode)););i=w(n),0!==t.offset&&i++}return[e,i]}}findNodeAndOffsetFromLocation(t){let e,i,n=0;for(let r of this.getSignificantNodesForIndex(t.index)){let o=ii(r);if(t.offset<=n+o){if(V(r)){if(e=r,i=n,t.offset===i&&W(e))break}else e||(e=r,i=n)}if((n+=o)>t.offset)break}reentNode}}getSignificantNodesForIndex(t){let e=[],i=F(this.element,{usingFilter:ir}),n=!1;for(;i.nextNode();){var r;let o=i.currentNode;if(M(o)){if(null!=r?r++:r=0,r===t)n=!0;else if(n)break}else n&&e.push(o)}return U(tR_RR_AR_ACCEPT};class ia{createDOMRangeFromPoint(t){let e,{x:i,y:n}=t;if(document.caretPositionFromPoint){let{offsetNode:t,offset:r}=document.caretPositionFromPoint(i,n);return(e=document.createRange()).setStart(t,r),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,n);if(document.body.createTextRange){let t=tO();try{let t=document.body.createTextRange();t.moveToPoint(i,n),t.select()}catch(t){}return e=tO()ngth-1]]}}class il seDown})}getLocationRange(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!1===t.strict?this.createLocationRangeFromDOMRange(tO()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLoca()}selectionIsCollapsed(){var t;return!0===(null===(t=tO())||void 0===t?void 0:t.crily()}pauseTemporarily(){let t;this.paused=!0;let e=()=>{if(this.paused=!1,clearTimeout(i),Array.from(testroy()}),D(document,this.element))return this.selectionDidChange()},i=setTimeout(e,200);t=["mousemove","keydl])),t}}getLocationAtPoint(t){var e;let i=this.createDOMRangeFromPoint(t);if(i)return null===(e=this.createLocationRangeFromDOMRange(i))||void 0===e?vontainer)}}il.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),il.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),il.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),il.proxyMethod("pointMapper.createDOMRangeFromPoint"),il.proxyMethod("pointMapper.getClientRectsForDOMRange");var ih=Object.freeze({__proto__:null,Attachment:eg,AttachmentManager:e1,AttachmentPiece:em,Block:ey,Composition:e6,Document:eF,Editor:it,HTMLParser:eU,HTMLSanitizer:eO,LineBreakInsertion:e2,LocationMapper:ie,ManagedAttachment:e0,Piece:ec,PointMapper:ia,SelectionManager:il,SplittableList:ef,StringPiece:ep,Text:ex,UndoManager:e3}),iu=Object.freeze({__proto__:null,ObjectView:t2,AttachmentView:t5,BlockView:en,DocumentView:er,PieceView:t8,PreviewableAttachmentView:t9,TextView:et});let{lang:ic,css:id,keyNamese.undo)}};class ip extends ${constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(...arguments),eu(this,"makeElementMutable",imtableixMutable}))),eu(this,"addToolbar",im(()=>{let t=I({tagName:"div",className:id.attachmentToolbar,data:{trixMutable:!0},childNodes:I({tagName:"div",className:"trix-button-row",childNodes:I({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:I({tagName:"button",className:"trix-button trix-button--remove",textContent:ic.remove,attributes:{title:ic.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&t.appendChild(I({tagName:"div",className:id.attachmentMetadataContainer,childNodes:I({tagName:"span",className:id.attachmentMetadata,childNodes:[I({tagName:"span",className:id.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),I({tagName:"span",className:id.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),E("click",{onElement:t,withCallback:this.didClickToolbar}),E("click",{onElement:t,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),R("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:t,attachment:this.attachmedChil:()=>T(t)}})),eu(this,"installCaptionEditor",im(()=>{let t=I({tagName:"textarea",className:id.attachmentCaptionEditor,attributes:{placeholder:ic.captionPlaceholder},data:{trixMutable:!0}});t.value=this.attachmentPiece.getCaption();let e=t.cloneNode();e.classList.add("trix-autoresize-clone"),e.tabIndexght+"px"};E("input",{onElement:t,withCallback:i}),E("input",{onElement:t,withCallback:this.didInputCaption}),E("keydown",{onElement:t,withCallback:this.didKeyDownCaption}),E("change",{onElement:t,withCallback:this.didChangeCaption}),E("blur",{onElement:t,withCallback:this.didBlurCaption});let n=this.element.querySelector("figcaption"),r=n.cloneNode();foculay=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=i,this.options=n,this.attachment=this.attachmentPiece.attachment,"a"===B(this.element)&&(this.element=this.element.firstChild),this.r(this)}savePendingCaption(){if(null!=this.pendingCaption){var t,e,i,n;let r=this.pendingCaption;(this.pendingCaption=null,r)?null===(t=this.delegate)||void 0===t||null===(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)||void 0===e||e.call(t,{caption:r},this.attachment):null===(i=this.delegate)||void 0===i||null===(n=i.attachmentEditorDidRequestRemovingAttributeForAttachment)||void 0===n||n.call(i,"caption",this.attrim()}didChangeCaption(t){return this.savePendingaption()}}class ib extends ${constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new er(this.composition.document,{element:this.element}),E("focus",{onElement:this.element,withCallback:this.didFocus}),E("blur",{onElement:this.element,withCallback:this.didBlur}),E("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),E("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickAttachment}),E("click",{onElement:this.element,matchingSelector:"a".concat(s),preventDefault:!0})}didFocus(t){var e;let i=()=>{var t,e;if(!this.focused)return this.focused=!0,null===(t=this.delegate)||void 0===t||null===(e=t.compositionControllerDidFocus)||void 0===e?void 0:e.call(t)};return(null===(e=this.blurPromise)||void 0===e?void 0:e.then(i))||i()}didBlur(t){this.blurPromise=new Promise(t=>tk(()=>{var e,i;return L(this.element)||(this.focused=null,null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidBlur)||void 0===i||i.call(e)),this.blurPromise=nuelement}render(){var t,e,i,n,r,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillSyncDocumentView)||void 0===n||n.call(i),this.documentView.sync(),null===(r=this.delegate)||void 0===r||null===(o=r.compositionControllerDidSyncDocumentView)||void 0===o||o.call(r)),null===(t=this.delegate)||void 0===t||null===(e=t.compositionControllerDidRender)||void 0===e?void 0:ject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewer()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var i,n;return null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillUpdateAttachment)||void 0===n||n.call(i,e),this.composition.updateAttributesForAttachll(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidRequestDeselectingAttachment)||void 0===i?void 0:i.call(e,t)}canSyncDocumentView(){return!this.isEditingAtttends ${}let iA="data-trix-mutable",ix="[".concat(iA,"]"),iy={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class iC ent,iy)}stop(){return this.observer.disnt(t))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(let e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0or:ix})}nodesModifiedByMutation(t){let e=[];switch(t.type){case"attributes":t.attributeName!==iA&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationpe===t)}getTextChangesFromChildList(){let t,e;let i=[],n=[];return Array.from(this.getMutationsByType("childList")es||[]))}),0===i.length&&1===n.length&&M(n[0])?(t=[],e=["\n"]):(t=iE(i),e=iE(n)),{additions:t.filter((t,i)=>t!==e[i]).map(tU),deletions>e!==t[i]).map(tU)}}getTextChangesFromCharacterData(){let t,e;let i=this.getMutationsByType("characterData");if(i.length){var n,r;let o,s;let a=i[0],l=i[i.length-1],h=(n=tU(a.oldValue),r=tU(l.target.data),n=Z.box(n),(r=Z.box(r)).length<n.length?[s,o]=tz(n,r):[o,s]=tz(r,n),{added:o,removed:s});t=h.added,e=h.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}}let iE=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];for(let i of Array.from(t))switch(i.nodeType){case Node.TEXT_NODE:e.push(i.data);break;case Node.ELEMENT_NODE:"br"===B(i)?e.push("\n"):e.push(...Array.from(iE(i.childNodes)||[]))}return e};class iR extends t1{constructor(t){super(...arguments),this.file=t}perform(t){let e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch(t){}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}}class ik{constructor(t){this.ggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&iS(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&"insertText"!==this.event.inputType&&(this.bugge.key)===iD(e),iL=RegExp("(".concat("￼","|").concat("\uFEFF","|").concat("\xa0","|\\s)" ").trim();class iw extends ${constructor(t){for(let e in super(...arguments),this.element=t,this.mutationObserver=new iC(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new ik(this.element),this.constructor.events)E(e,{onElement:this.element,withCallback:this.handMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserer()})})}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput(()=>{L(this.element)||this.flakyKeyboardDetector.shouldIgnore(e)||(this.eventName=t,this.constructor.events[t].call(this,e))})}}handleInput(t){var e,i;try{null===(e=this.delegate)||void 0===e||e.inputControllerWillHandleInput(),t.call(this)}finally{null===(i=this.delegate)||void 0===i||i.inputControllerDidHan.outerHTML}}eu(iw,"events",{});let{browser:iT,keyNames:iF}=G,iB=0;class iItSummary()}setInputSummary(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let e in this.inputSummary.eventName=this.eventName,t){let i=t[e];this.inputSummary[e]=i}return this.ieset()})}mutationIsExpected(t){let{textAdded:e,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;let n=null!=e?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,r=null!=i?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=["\n"," \n"].includes(e)&&!n,s="\n"===i&&!r;if(o&&!s||s&&!o){let t=this.getSelectedRange();if(t){var a;let i=o?e.replace(/\n$/,"").length||-1:(null==e?void 0:e.length)||1;if(null!==(a=this.responder)&&void 0!==a&&a.positionIsBlockBreak(t[1]+i))return!0}}sEnded()}deleteInDirection(t,e){var i;return!1!==(null===(i=this.responder)||void 0===i?void 0:i.deleteInDirection(t))?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(t){if(null==t||!t.setData)return!1;for(let e in tC){let i=tC[e];try{if(t.setData(e,i),!t.getData(e)===i)return!1}catch(t){return!1}}return!0}(t))return;let i=null===(e=this.responder)||void 0===e?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",er.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){let e={};return Array.from((null==t?void 0:t.types)||=>{e[t]=!0}),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){let e=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},n=I({style:i,tagName:"div",editable:!0});return document.body.appendChild(n),n.focus(),requestAnige(e),t(i)})}}eu(iI,"events",{keydown(t){var e,i;this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;let n=iF[t.keyCode];if(n){let i=this.keys;["ctrl","alt","shift","metid 0:n[e])}),null!=(null===(e=i)||void 0===e?void 0:e[n])&&(this.setInputSummary({keyName:n}),tP.reset(),i[n].call(this,t))}if(tR(t)){let e=String.fromCharCode(t.keyCode).toLowerCase();if(e){let n=["alt","])return e}).filter(t=>t);n.push(e),null!==(i=this.delegate)&&void 0!==i&&i.inputControllerDidReceiveKeyboardCommand(n)&&t.preventDefault()}}},keypress(t){var e,i;if(null!=this.inputSummary.eventName||t.metaKey||t.ctrlKey&&!t.altKey)return;let n=iO(t);return n?(null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.insertString(n),this.setInputSummary({textAdded:n,didDelete:this.selectionIsExpanded()})):void dRange(t)}},dragenter(t){t.preventDefault(:i.call(e)},dragover(t){if(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer)){var e,i;t.preventDefault();let n={x:t.clientX,y:t.clientY};if(!tL(n,this.draggingPoint))return this.draggingPoint=n,null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidReceiveDragOverPoint)||void 0===i?void 0:i.call(e,this.draggingPoinPoint=null},drop(t){var e,i,n,r,o;t.preventDefault();let s=null===(e=t.dataTransfer)||void 0===e?void 0:e.files,a=t.dataTransfer.getData("application/x-trix-document"),l={x:t.clientX,y:t.clientY};if(null===(i=this.responder)||void 0===i||i.setLocationRangeFromPointRange(l),null!=s&&s.length)this.attachFiles(s);else if(this.draggedRange)null===(n=this.delegate)||void 0===n||n.inputControllerWillMoveText(),null===(r=this.responder)||void 0===r||r.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender();else if(a){let t=eF.fromJSONString(a);null===(o=this.responder)||void 0===o||o.insertDocument(t),this.requestRender()}this.draggedRange=null,this.draggingPoistRetDefault()},paste(t){var e,i,n,r,o,s,a,l,h,u,c,d,g,m;let p=t.clipboardData||t.testClipboardData,f={clipboard:p};if(!p||iM(t))return void this.getPastedHTMLUsingHiidPaste(f)});let b=p.getData("URL"),v=p.getData("text/html"),A=p.getData("public.url-name");if(b){let t;f.type="text/html",t=A?tV(A).trim():b,f.html=this.createLinkHTML(b,t),null===(e=this.delegate)||void 0===e||e.inputControllerWillPaste(f),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()}),null===(i=this.responder)||void 0===i||i.insertHTML(f.html),this.requestRender(),null===(n=this.delegate)||void 0===n||n.inputControllerDidPaste(f)}else if(tE(p))f.type="text/plain",f.string=p.getData("text/plain"),null===(r=this.delegate)||void 0===r||r.inputControllerWillPaste(f),this.setInputSummary({textAdded:f.string,didDelete:this.selectionIsExpanded()}),null===(o=this.responder)||void 0===o||o.insertString(f.string),this.requestRender(),null===(s=this.delegate)||void 0===s||s.inputControllerDidPaste(f);else if(v)f.type="text/html",f.html=v,null===(a=this.delegate)||void 0===a||a.inputControllerWillPaste(f),null===(l=this.responder)||void 0===l||l.insertHTML(f.html),this.requestRender(),null===(h=this.delegate)||void 0===h||h.inputControllerDidPaste(f);else if(Array.from(p.types).includes("Files")){let t=null===(u=p.items)||void 0===u||null===(u=u[0])||void 0===u||null===(c=u.getAsFile)||void 0===c?void 0:c.call(u);if(t){let e=iP(t);!t.name&&e&&(t.name="pasted-file-".concat(++iB,".").concat(e)),f.type="File",f.file=t,null===(d=this.delegate)||void 0===d||d.inputControllerWillAttachFiles(),null===(g=this.responder)||void 0===g||g.insertFile(f.file),this.requestRender(),null===(m=this.delegate)||void 0===m||m.inputControllerDidPaste(f)}}t.preventDefault()},compositionstart(t){return this.getCompositionInput().start(t.data)},compositionupdate(t){return this.getCompositionInput().update(t.data)},cond(t.data)}idInppagation()}}),eu(iI,"keys",{backspace(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return(t){var e,i;return this.setInputSummary({preferDocument:!0}),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i?void 0:i.insertLineBreak()},tab(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.canIncreaseNestingLevel()&&(null===(i=this.responder)||void 0===i||i.increaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection("backw"forward")},control:{d(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection("fockward",t)},o(t){var e,i;return t.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.insertString("\n",{updatePosition:!1}),this.requestRender()}},stDeDefault())},left(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection("backw"forward")}},alt:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),null===(e=this.delegate)||void 0===e?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),null===(e=this.delegate)||void 0===e?void 0:e.inputControllerWillPerformTyping()}}}),iI.proxyMethod("responder?.getSelectedRange"),iI.proxyMethod("responder?.setSelectedRange"),iI.proxyMethod("responder?.expandSelectionInDirection"),iI.proxyMethod("responder?.selectionIsInCursorTarget"),iI.proxyMethod("responder?.selectionIsExpanded");let iP=t=>{var e;return null===(e=t.type)||void 0===e||null===(e=e.match(/\/(\w+)$/))||void 0===e?void 0:e[1]},iN=!(null===(p=" ".codePointAt)||void 0===p||!p.calloString()}},iM=function(t){let e=t.clipboardData;if(e){if(e.types.includes("text/html")){for(let t of e.types){let i=/^CorePasteboardFlavorType/.test(t),n=/^dyn\./.test(t)&&e.getData(t);if(i||n)return!0}return!1}{let t=e.types.includes("com.apple.webarchive"),i=e.types.includes("com.apple.flat-rtfd");return t||i}}};class iis.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,i;"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&(null===(i=this.responder)||void 0===i||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null===(e=this.responder)||void 0===e?void 0:e.getSelec.range=t)}}end(t){var e,i,n,r;return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.setSelectedRange(this.range),null===(n=this.responder)||void 0===n||n.insertString(this.data.end),null===(r=this.responder)||void 0===r?void 0:r.setSelectedRange(this.range[0]+this.data.end.length)):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()}getEndData(){return this.range}}ij.proxyMethod("inputController.setInputSummary"),ij.proxyMethod("inputController.requestRender"),ij.proxyMethod("inputController.requestReparse"),ij.proxyMethod("responder?.selectionIsExpanded"),ij.proxyMethod("responder?.insertPlaceholder"),ij.proxyMethod("responder?.selectPlaceholder"),ij.proxyMethod("responder?.forgetPlaceholder");class iWbind(this)}elementDidMutate(){var t,e;return this.scheduledRender?this.composing?null===(t=this.delegate)||void 0===t||null===(e=t.inputControllerDidAllowUnhandledInput)||void 0===e?void 0:e.call(t):void 0:thiis.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null===(e=this.delegate)||void 0===e||e.render(),null===(t=this.afterRender)||void 0===t||t.call(this),this.afterRender=null}reparse(){var t;return null===(t=this.delegate)||void 0===t?void 0:e(t,e)})}deleteInDirection(t){var e;let{recordUndoEntry:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recordUndoEntry:!0};i&&(null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping());let n=()=>{var e;return null===(e=this.responder)||void 0===e?void 0:e.deleteInDirection(t)},r=this.getTargetDOMRange({minLength:2});return r?this.withTargetDOMRanall(this))}getTargetDOMRange(){var t,e;let{minLength:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{minLength:0},n=null===(t=(e=this.event).getTargetRanges)||void 0===t?void 0:t.call(e);if(n&&n.length){let t=iU(n[0]);if(0===i||t.toString().length>=l}return i}}eu(iW,"evenvent(t,i)}},paste(t){var e,i,n,r,o,s,a;let l;let h=null===(a=t.clipboardData)||void 0===a?void 0:a.getData("URL");return iV(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):iz(t)?(t.preventDefault(),l={type:"text/plain",string:t.clipboardData.getData("text/plain")},null===(e=this.delegate)||void 0===e||e.inputControllerWillPaste(l),null===(i=this.responder)||void 0===i||i.insertString(l.string),this.render(),null===(n=this.delegate)||void 0===n?void 0:n.inputControllerDidPaste(l)):h?(t.preventDefault(),l={type:"text/html",html:this.createLinkHTML(h)},null===(r=this.delegate)||void 0===r||r.inputControllerWillPaste(l),null===(o=this.responder)||void 0===o||o.insertHTML(l.html),this.render(),null===(s=this.delegate)||void 0===s?void 0:s.inputControllerDidPaste(l)):void 0}eRendtP.reset()},dragstart(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.selectionContainsAttachments()&&(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:null===(i=this.responder)||void 0===i?void 0:i.getSelectedRange(),point:iH(t)}tDefault()},dragover(t){if(this.dragging){var e;t.preventDefault();let i=iH(t);if(!tL(i,this.dragging.point))return this.dragging.point=i,null===(e=this.responder)||void 0===e?void 0:e.setLocationRangeFromPointRange(i)}else iq(t)&&t.preventDefault()},drop(t){var e,i,n;if(this.dragging)return t.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillMoveText(),null===(i=this.responder)||void 0===i||i.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(iq(t)){t.preventDefault();let e=iH(t);return null===(n=this.responder)||void 0===n||n.setLocationRangeFromPointRange(e),this.attachFiles(t.dataTransfer.fileging=null)},compositionend(t){this.composing&&(this.composing=!1,f.recentAndroid||this.scheduleRender())}}),eu(iW,"keys",{ArrowLeft(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection("backward")"forward"s.render()},Tab(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.canIncreaseNestingLevel())return this.event.preventDefault(),null===(e=this.responder)||void 0===e||e.increaseNestingLevel(),this.render()}s.render()}}),eu(iW,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},dRange()})},deleteComEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var t;if(null!==(t=this.responder)&&void 0!==t&&t.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},fgLevel()})},bute(i)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerWillPerformRedo()},historyUndo(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFrovent.data)},insertFromDrop(){var t;let e=this.deleteByDragRange;if(e)return this.deleteByDragRange=null,null===(t=this.delegate)||void 0===t||t.inputControllerWillMoveText(),this.withTaromRange(e)})},insertFromPaste(){var t,e,i,n,r;let{dataTransfer:o}=this.event,s={dataTransfer:o},a=o.getData("URL"),l=o.getData("text/html");if(a){let t;this.event.preventDefault(),s.type="text/html";let i=o.getData("public.url-name");t=i?tV(i).trim():a,s.html=this.createLinkHTML(a,t),null===(e=this.delegate)||void 0===e||e.inputControllerWillPaste(s),this.withTargetDOMRange(function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertHTML(s.html)}),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(s)}}else tE(o)?(s.type="text/plain",s.string=o.getData("text/plain"),null===(i=this.delegate)||void 0===i||i.inputControllerWillPaste(s),this.withTargetDOMRange(function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertString(s.string)}),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(s)}):l?(this.event.preventDefault(),s.type="text/html",s.html=l,null===(n=this.delegate)||void 0===n||n.inputControllerWillPaste(s),this.withTargetDOMRange(function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertHTML(s.html)}),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(s)}):null!==(t=o.files)&&void 0!==t&&t.length&&(s.type="File",s.file=o.files[0],null===(r=this.delegate)||void 0===r||r.inputControllerWillPaste(s),this.withTarle(s.file)}),this.idPaste(s)})},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString("\n")vent.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},inseBreak()})},insertReplacementText(){let t=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(t,{updatePosition:!1})})/plain")))},insvent.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet"dOfs(".lepesh(tt.clientY}),iJ="[data-trix-attribute]",iK="[data-trix-action]",iG="".concat(iJ,", ").concat(iK),i$="[data-trix-dialog]",iX="".concat(i$,"[data-trix-active]"),iY="".concat(i$," [data-trix-method]"),iQ="".concat(i$," [data-trix-t(eix-attribute");class i2 extends ${constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),E("mousedown",{onElement:this.element,matchingSelector:iK,withCallback:this.didClickActionButton}),E("mousedown",{onElement:this.element,matchingSelector:iJ,withCallback:this.didClickAttributeButton}),E("click",{onElement:this.element,matchingSelector:iG,preventDefault:!0}),E("click",{onElement:this.element,matchingSelector:iY,withCallback:this.didClickDialogButton}),E("keydown",{onElement:this.element,matchingSelector:iQ,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var i,n;null===(n=this.delegate)||void 0===n||n.toolbarDidClickButton(),t.preventDefault();let r=i0(e);return this.getDialog(r)?this.toggleDialog(r):null===(i=this.delegate)||void 0===i?void 0:i.toolbarDidInvokeAction(r,e)}didClickAttributeButton(t,e){var i,n;null===(i=this.delegate)||void 0===i||i.toolbarDidClickButton(),t.preventDefault();let r=i1(e);return this.getDialog(r)?this.toggleDialog(r):null===(n=this.delegate)||void 0===n||n.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(t,e){let i=S(e,{matchingSelector:i$});return this[e.getAttribute("data-trix-method")].cdeDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,e)=>{t.disabled=!1===this.actions[e]})}eachActionButton(t){return Array.from(this.element.querySelectorAll(iK)).map(e=>eButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,e)=>(t.disabled=!1===this.attributes[e],this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorA>t(e,i1(e)))}applyKeyboardCommand(t){let e=JSON.stringify(t.sort());for(let t of Array.from(this.element.querySelectorAll("[data-trix-key]"))){let i=t.getAttribute("data-trix-key").split("+");if(JSON.stringify(i.sort())===e)return R("mousedown",{onElement:t}),ialog(t)}setAttribute(t){var e;let i=i1(t),n=iZ(t,i);return n.willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):(null===(e=this.delegate)||void 0===e||e.toolbarDidUpdateAttribute(i,n.value),this.hideDialog()}hideDialog(){var t;let e=this.element.querySelector(iX);if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),null===(t=this.delegate)||void 0===t?void 0:t.toolbarDidHideDialog(e.getAttribute("data-trit(t,"]"))}}class i6oadHTML(n)}registerSelectionManager(){return tP.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return tP.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionControllange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){let e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attder()}compositionWillLoadSnapshot(){this.loadingnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAtfocus")}compositionControllerDidBlur(){return this.notifyEditorElemnge(e[1])}compositionControllerWillUpdatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAtRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingdoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControlpaste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboarionRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPoon(t,e)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElemme:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){var e;return!!this.actionIsExternal(t)||!(null===(e=this.actions[t])||void 0===e||null===(e=e.test)||void 0===e||!e.call(this))}invokeAction(t,e){var i;return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:e}):null===(i=this.actions[t])||void 0===i||null===(i=i.perform)||void 0===i?void 0:ictions})}runEditorFilters(){var t,e;let i=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(t=>{let{document:e,selectedRange:n}=i;(i=t.call(this.editor,i)||{}).document||(i.document=e),i.selectedRange||(i.selectedRange=n)}),t=i,e=this.composition.getSnapshot(),!tT(t.selectedRange,e.selectedRange)||!t.document.isEqualTo(e.document))return this.composition.loadSnapshot(i)}updateInputElement(){let t=function(t,e){let i=eQ[e];if(i)return i(t);throw Error("unknown content type: ".concat(e))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(t)}notifyE.render()}recordFormattingUndoEntry(t){let e=tm(t),i=this.selectionManager.getLocationRange();if(e||!tw(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTyptable:!0})}getUndoContext(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...ArrRange()}get actions(){return this.constructor.actions}}eu(i6,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLeves.render()}},attachtest:()sertFiles)}}}),i6.proxyMethod("getSelectionManager().setLocationRange"),i6.proxyMethod("getSelectionManager().getLocationRange");var i3=Object.freeze({__proto__:null,AttachmentEditorController:ip,CompositionController:ib,Controller:iv,EditorController:i6,InputController:iw,Level0InputController:iI,Level2InputController:iW,ToolbarController:i2}),i5=Object.freeze({__proto__:null,MutationObserver:iC,SelectionChangeObserver:tI}),i4=Object.freeze({__proto__:null,FileVerificationOperation:iR,ImagePreloadOperation:ed});tv("trix-toolbar","%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}");class i7 extends ultHTML())}}let i9=0,i8=function(t){if(!t.hasAttribute("contenteditable"))return t.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.times=1,E(t,e)}("focus",{onElement:t,withCallback:()=>e(t),ni(t)},ne=function(t){var e,i;if(null!==(e=(i=document).queryCommandSupported)&&void 0!==e&&e.call(i,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),E("mscontrolselect",{onElement:t,preventDefault:!0})},ni=function(t){var e,i;if(null!==(e=(i=document).queryCommandSupported)&&void 0!==e&&e.call(i,"DefaultParagraphSeparator")){let{tagName:t}=l.default;if(["div","p"].includes(t))return document.execCommand("DefaultParagraphSeparator",!1,t)}},nn=f.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};tv("trix-editor","%t {\n    display: block;\n}\n\n%t:empty:not(:focus)::before {\n    content: attr(placeholder);\n    color: graytext;\n    cursor: text;\n    pointer-events: none;\n    white-space: pre-line;\n}\n\n%t a[contenteditable=false] {\n    cursor: text;\n}\n\n%t img {\n    max-width: 100%;\n    height: auto;\n}\n\n%t ".concat(s," figcaption textarea {\n    resize: none;\n}\n\n%t ").concat(s," figcaption textarea.trix-autoresize-clone {\n    position: absolute;\n    left: -9999px;\n    max-height: 0px;\n}\n\n%t ").concat(s," figcaption[data-trix-placeholder]:empty::before {\n    content: attr(data-trix-placeholder);\n    color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n    display: ").concat(nn.display," !important;\n    width: ").concat(nn.width," !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n    vertical-align: top !important;\n    margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n    vertical-align: bottom !important;\n    margin-right: -1px !important;\n}"));class nr extends this),e}}get form(){var t;return null===(t=this.inputElement)||void 0===t?voibling),e}}get editor(){var t;return null===(t=this.editorController)||void 0===t?void 0:t.editor}get name(){var t;return null===(t=this.inputElement)||void 0===t?voalue=t)}connectedCallback(){this.hasAttribute("data-trix-internal")||(i8(this),this.hasAttribute("role")||this.setAttribute("role","textbox"),function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;let e=function(){let e=Array.from(t.extContefilter(t=>t),i=e.join(" ");return i?t.setAttribute("aria-label",i):t.removeAttribute("aria-label")};e(),E("focus",{onElement:t,withCallback:e})}(this),this.editorController||(R("trix-before-initialize",{onElement:this}),this.editorController=new i6({editorElement:this,html:this.defaultValue=this.value}),requestAniment:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),!document.querySelector(":focus")&&this.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===this&&thListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerCstener,!1)}unregisterCs.reset()}clickBubbled(t){if(t.defaultPrevented||this.contains(t.target))return;let e=S(t.target,{matchingSelector:"label"});return e&&Array.from(this.labels).includes(e)?this.focfaultValue}}let no={VERSION:"2.0.10",config:G,core:eZ,models:ih,views:iu,controllers:i3,observers:i5,operations:i4,elements:Object.freeze({__proto__:null,TrixEditorElement:nr,TrixToolbarElement:i7}),filters:Object.freeze({__proto__:null,Filter:e7,attachmentGalleryFilter:e9})};Object.assign(no,ih),window.Trix=noditor",nr)},0)}}]);