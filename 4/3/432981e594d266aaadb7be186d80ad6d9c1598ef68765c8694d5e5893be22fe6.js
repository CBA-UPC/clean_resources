"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7704],{37648:(e,t,s)=>{s.d(t,{E:()=>i});s(50959),s(11527);const i=e=>null},59711:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>Fe,SKELETON_SHELVES_COUNT:()=>Le,default:()=>Ee});s(70054),s(75930),s(86277),s(65484),s(35174),s(96241);var i=s(50959),n=s(82187),a=s.n(n),r=s(29132),o=s(75802),l=s(10226),c=s(37902),d=s(85648),p=s(41038),m=s(88099),u=s(91643),g=s(67998),h=s(51450),x=s(46974),v=s(29673),j=s(80626),f=s(53724),y=s(24902),b=s(51901),S=s(50540),w=s(17676),D=s(74883),k=s(58206),C=s(43286),N=s(82557),_=s(65376),I=s(61058),M=s(76862);const H="AaXwi9LLckdsxNwrosnQ",L="yX31EzBkHzNooefkSvT3",F="EjJHF7tjFYigQK8pIVbV",T="Z5xLXZofWXGooKRjW6kd",W="kM546dTx5cxDNH530zm8",E="mnhJCpUiriAb7Ay3HOTz",A="rRldspwHsrgo8DsecR2Q";var P=s(11527);const R=e=>{let{isMWP:t}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${T} ${W}`,"aria-hidden":"true",children:[(0,P.jsx)("source",{src:(0,_.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,P.jsx)("source",{src:(0,_.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,P.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${T} ${E}`,"aria-hidden":"true",children:[(0,P.jsx)("source",{src:(0,_.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,P.jsx)("source",{src:(0,_.g)(`videos/Sw23-${t?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]})},U=e=>{let{isMWP:t}=e;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("picture",{children:[(0,P.jsx)("source",{srcSet:(0,_.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,P.jsx)("source",{srcSet:(0,_.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,P.jsx)("img",{className:`${T} ${W}`,src:"",alt:""})]}),(0,P.jsxs)("picture",{children:[(0,P.jsx)("source",{srcSet:(0,_.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,P.jsx)("source",{srcSet:(0,_.g)(`images/Sw23-${t?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,P.jsx)("img",{className:`${T} ${E}`,src:"",alt:""})]})]})},$=(0,i.forwardRef)(((e,t)=>{let{linkUri:s,loggedIn:i,isMWP:n,isStatic:r=!1,onClick:o}=e;const l=(0,I.jh)(),c=(0,M.T)();return(0,P.jsx)("div",{className:H,ref:t,children:(0,P.jsxs)("div",{className:(0,D.Mg)("invertedLight",a()(L,{[F]:n})),children:[r||c?(0,P.jsx)(U,{isMWP:n}):(0,P.jsx)(R,{isMWP:n}),(0,P.jsx)(k.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:A,children:i?d.ag.get("shared.wrapped-banner.title"):d.ag.get("shared.wrapped-banner.title-loggedout")}),(0,P.jsx)(k.D,{as:"p",variant:l===I.Uo.SMALL||n?"mesto":"ballad",semanticColor:"textBase",children:i?d.ag.get("shared.wrapped-banner.body"):d.ag.get("shared.wrapped-banner.body-loggedout")}),(0,P.jsx)(C.D,{colorSet:"invertedDark",iconTrailing:N.T,href:s,target:"_blank",size:l===I.Uo.SMALL||n?"small":"medium",onClick:o,children:d.ag.get("shared.wrapped-banner.button")})]})})}));var O=s(86337);const z=()=>{const e=(0,S.g)(),t=(0,l.W6)(w.bQB),{openURLWithSessionTransfer:s}=(0,O.e)(),{spec:n,logger:a}=(0,j.fU)(b.e,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,i.useMemo)((()=>n.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[n]),o=(0,j.Wi)(r),c="https://spotify.com/wrapped",d=(0,i.useCallback)((e=>{a.logInteraction(r.hitUiNavigate({destination:c})),s(c),e.preventDefault()}),[a,s,r]);return(0,P.jsx)($,{linkUri:c,loggedIn:!e,onClick:d,ref:o,isStatic:t})};s(46758),s(45205);var Z=s(79977);const J=JSON.parse('{"data":{"__typename":"HomeLearningSectionData","title":{"text":"Introducing"}},"sectionItems":{"items":[{"title":"Video Courses","description":"Learn from the best online creators.Try everything, for free."}],"totalCount":1}}');var V=s(69736),B=s(85255),K=s(77725);const Q="https://learning.spotify.net",Y="dnyg39bzenKDCjizwMzt",q="wQraCJRwv242wm4StxJc",X="ZRShtgAZLMUHmCZ3kelw",G="fodeOTunaw7uLX6oRbLw",ee="CVo6IW1mq3srWy9YZrAk",te="IbWcT9VDY62fMGWKyVRg",se="Dfqze5PoXWjDFglzjSTo",ie="KBC0QaBWPGFHcOPnXlFA",ne=["Learn from the best online creators.","Try everything, for free."],ae=e=>{let{index:t}=e;const{spec:s,logger:n,UBIFragment:a}=(0,j.fU)(B.I,{data:{uri:"spotify:app:learning",position:t,reason:""}}),r=(0,i.useCallback)((()=>{const e=s.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:Q});n.logInteraction(e)}),[n,s]);return(0,P.jsx)(a,{spec:s,children:(0,P.jsx)("div",{className:Y,tabIndex:0,role:"button",onClick:()=>{r(),window.open(Q,"_blank","noopener")},children:(0,P.jsxs)("div",{className:q,children:[(0,P.jsxs)("div",{className:X,children:[(0,P.jsx)("div",{className:ee,children:(0,P.jsx)(V.x,{variant:"titleMedium",semanticColor:"textBase",children:"Video Courses"})}),(0,P.jsx)(V.x,{variant:"bodySmall",className:te,children:ne[0]}),(0,P.jsx)(V.x,{variant:"bodySmall",className:te,children:ne[1]})]}),(0,P.jsx)("div",{className:G,children:(0,P.jsx)(C.D,{as:"a",size:"small",href:Q,target:"_blank",colorSet:"invertedLight",iconTrailing:K.h,onClick:e=>{r(),e.stopPropagation()},children:(0,P.jsx)(V.x,{variant:"bodySmallBold",children:"Discover Courses"})})}),(0,P.jsx)("div",{className:se}),(0,P.jsx)("div",{className:ie})]})})})};var re=s(53502),oe=s(98874);const le="zecaxp9A6ET66ZYuMSLr",ce="CNmffmOxA0meXLgIZ2P4",de=e=>{let{spec:t,index:s,shelfTitle:n,isDjRendered:a}=e;const r=(0,i.useCallback)((e=>e<=3?e:4!==e||a?4===e&&a?3:5!==e||a?5===e&&a?2:a?Math.min(4,e-3):4:3:2),[a]);return(0,P.jsx)(j.Nh,{spec:t.shelvesFactory(),children:(0,P.jsxs)(oe.G,{getSpanColumns:r,className:le,children:[(0,P.jsx)("div",{className:ce,children:(0,P.jsx)(re.r,{title:n})}),(0,P.jsx)(ae,{index:s})]})})},pe=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var me=s(62303),ue=s(21453),ge=s(70526),he=(s(53321),s(39301),s(36255)),xe=s(81879);const ve=e=>{var t;let{spec:s,section:n,index:a}=e;return(0,i.useMemo)((()=>n.sectionItems.items.some((e=>(0,xe.d)(e.content)))),[n.sectionItems])?(0,P.jsx)(j.Nh,{spec:s.shelvesFactory(),children:(0,P.jsx)(he.q,{total:n.sectionItems.totalCount,seeAllUri:n.uri,pageId:n.uri,title:(null===(t=n.data.title)||void 0===t?void 0:t.text)??"",index:a,id:n.uri,children:n.sectionItems.items.map(xe.x).filter((e=>!!e))})}):null};var je=s(17622);const fe=e=>{var t;let{spec:s,section:i,index:n}=e;return(0,P.jsx)(j.Nh,{spec:s.shelvesFactory(),children:(0,P.jsx)(je.default,{title:(null===(t=i.data.title)||void 0===t?void 0:t.text)??void 0,showAll:!1,index:n})})};var ye=s(62648),be=s(37648),Se=s(85998);const we=e=>{var t;let{spec:s,greeting:i,section:n,index:a}=e;const r=(0,ue.xp)();switch(null===(t=n.data)||void 0===t?void 0:t.__typename){case"HomeGenericSectionData":return(0,P.jsx)(ve,{spec:s,section:(0,Se.f)(n,n.data),index:a});case"HomeShortsSectionData":return(0,P.jsx)(ye.s,{spec:s,greeting:i,section:(0,Se.f)(n,n.data)});case"HomeRecentlyPlayedSectionData":return(0,P.jsx)(fe,{spec:s,section:(0,Se.f)(n,n.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,Se.f)(n,n.data),{data:t,sectionItems:s}=e,i=s.items[0];if(r(n,n.data)&&"PlaylistResponseWrapper"===i.content.__typename&&"Playlist"===i.content.data.__typename){var o;const{data:e}=i.content;return(0,P.jsx)(ue.KE,{uri:ue.rv,shelfTitle:(null===(o=t.title)||void 0===o?void 0:o.text)??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,P.jsx)(be.E,{sectionItems:n.sectionItems.items,uri:n.uri,localStorageKey:n.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,ge._)(n.data),null}};const De=e=>{let{spec:t,greeting:s,container:n}=e;const{spec:a,logger:r}=(0,j.fU)(Z.createDesktopHomeFeatureActivationShelfEventFactory,{}),o=(0,l.W6)(w.iiT,{loadingValue:!1}),c=(0,l.W6)(w.FRh,{loadingValue:!1}),d=(0,i.useMemo)((()=>((e,t,s)=>{const i=[];s&&i.push(J),t&&i.push(pe);let n=[];return n=function(e){var t;const s=e.sections.items;return s.length>0&&"HomeShortsSectionData"===(null===(t=s[0].data)||void 0===t?void 0:t.__typename)}(e)?[e.sections.items[0],...i,...e.sections.items.slice(1)]:[...i,...e.sections.items],n.map((e=>{var t;return"HomeLearningSectionData"===(null===(t=e.data)||void 0===t?void 0:t.__typename)?{localOverride:!0,item:e}:{localOverride:!1,item:e}}))})(n,o,c)),[n,o,c]),p=(0,ue.xp)();return(0,i.useEffect)((()=>{(0,me.wW)()&&r.logImpression(a.impressionElementFactory().impression())}),[a,r]),(0,P.jsx)(P.Fragment,{children:d.map(((e,i)=>{if(e.localOverride){const s=e.item,n=null==s?void 0:s.sectionItems.items[0];if(!s||!n)return null;const a=d.find((e=>{var t;return"HomeYourDJSectionData"===(null===(t=e.item.data)||void 0===t?void 0:t.__typename)}));let r=!1;if(a){const e=a.item;r=p(e,e.data)}return(0,P.jsx)(de,{spec:t,index:i,isDjRendered:r,shelfTitle:s.data.title.text},`${i}-${n.title}`)}return(0,P.jsx)(we,{spec:t,greeting:s,section:e.item,index:i},`${i}-${e.item.uri}`)}))})};var ke=s(75235),Ce=s(62116),Ne=s(91530),_e=s(84440),Ie=s(8885);const Me=()=>(0,l.W6)(w.Jw1)===w.pFI.ONHOME?(0,P.jsx)(Ie.w,{children:(0,P.jsx)(_e.W,{onSearch:!1})}):null;var He=s(24322);const Le=6,Fe=6,Te=(0,i.memo)((e=>{let{shelfCount:t,cardCount:s}=e;return(0,P.jsx)("section",{"data-testid":"home-page",children:(0,P.jsx)("div",{className:He.Z.home,children:(0,P.jsxs)("div",{className:a()(He.Z.content,"contentSpacing"),children:[(0,P.jsx)(m.H,{withTitle:!1}),[...new Array(t).keys()].map(((e,t)=>(0,P.jsx)(ke.e,{withTitle:!0,cardCount:s},t)))]})})})})),We=e=>{var t;let{spec:s}=e;(0,g.z)("home");const i=(0,r.v9)(Ne.rZ),n=(0,o.TH)(),c=new URLSearchParams(n.search).get("pCountry"),{subfeedId:p=null}=(0,o.UO)(),{data:m,error:v,fetching:j}=(0,f.b3)({timeZone:(0,y.UE)(),sp_t:(0,h.vQ)("sp_t")??"",country:c??i,facet:p},{gcTime:y.us,staleTime:y.fS}),b=(0,l.W6)(w._dp),S=(0,l.W6)(w.bQB),D=b||S;if(j)return(0,P.jsx)(Te,{shelfCount:Le,cardCount:Fe});if(null!==v)return(0,P.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")});const k=null==m?void 0:m.home;return"HomeResponsePayload"!==(null==k?void 0:k.__typename)?(0,P.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")}):0===k.sectionContainer.sections.totalCount||0===k.sectionContainer.sections.items.length?((0,x.vK)(new Error("Empty response from pathfinder"),"Home"),(0,P.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")})):(0,P.jsx)("section",{"data-testid":"home-page",children:(0,P.jsx)("div",{className:He.Z.home,children:(0,P.jsxs)("div",{className:a()(He.Z.content,"contentSpacing"),children:[D&&(0,P.jsx)(z,{}),(0,P.jsx)(De,{spec:s,greeting:(null===(t=k.greeting)||void 0===t?void 0:t.text)??null,container:k.sectionContainer})]})})})},Ee=()=>{const{spec:e}=(0,j.fU)(c.F,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,Ce.k)({type:"locale",uri:"home"});return(0,P.jsxs)(j.Nh,{spec:e,children:[(0,P.jsx)(p.$,{children:(0,v.nW)({i18n:d.ag,shouldLocalize:t})}),(0,P.jsx)(i.Suspense,{fallback:null,children:(0,P.jsx)(Me,{})}),(0,P.jsx)(We,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.de4c4283.js.map