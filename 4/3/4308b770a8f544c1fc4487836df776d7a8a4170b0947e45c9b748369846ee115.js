var _caq=_caq||[];if(!window.CiRt){var Ci=(function(){var o,expireDateTime,now=getUnixTimestampNow();onloadDateTime=now,unloadDateTime=null,navGeoSupported=(navigator.geolocation)?true:false,citracker_ref=null,plugins={},documentAlias=document,navigatorAlias=navigator,screenAlias=screen,windowAlias=window,locationHrefAlias=windowAlias.location.href,locationHostnameAlias=windowAlias.location.hostname,hasLoaded=false,registeredOnLoadHandlers=[],info_demographics={},SDK_VERSION='1.0.0-beta';ction isFunction(a){return typeof a==='function'}ction validateSettings(a){if(!a){throw"Can't find ciads settings.";}if(typeof a!=="object"){throw"Wrong type of ciads settings.";}if(!a.rtSiteId||typeof a.rtSiteId!=="number"){throw"incorrect rtSiteId setting of ciads.";}if(!a.rtUuId||typeof a.rtUuId!=="string"){throw"incorrect rtUuId setting of ciads.";}}function apply(){var i,f,parameterArray;for(i=0;i<arguments.length;i+=1){parameterArray=arguments[i];f=parameterArray.shift();if(isString(f)){if(o[f])o[f].apply(o,parameterArray)}else{f.apply(o,parameterArray)}}}function addEventListener(a,b,c,d){if(a.addEventListener){a.addEventListener(b,c,d);return true}else if(a.attachEvent){return a.attachEvent('on'+b,c)}a['on'+b]=c}function executePluginMethod(a,b){var c='',i,pluginMethod;for(i in plugins){if(Object.prototype.hasOwnProperty.call(plugins,i)){pluginMethod=plugins[i][a];if(isFunction(pluginMethod)){c+=pluginMethod(b)}}}return c}function beforeUnloadHandler(){var a;executePluginMethod('unload');if(expireDateTime){do{a=getUnixTimestampNow()}while(a<expireDateTime)}}function loadHandler(){var i;if(!hasLoaded){hasLoaded=true;executePluginMethod('load');for(i=0;i<registeredOnLoadHandlers.length;i++){registeredOnLoadHandlers[i]()}}return true}function addReadyListener(){if(documentAlias.addEventListener){addEventListener(documentAlias,'DOMContentLoaded',}else if(documentAlias.attachEvent){documentAlias.attachEvent('onreadystatechange',;if(documentAlias.documentElement.doScroll&&windowAlias===windowAlias.top){())}}addEventListener(windowAlias,'load',loadHandler,false)}unction getProtocolScheme(a){var e=new RegExp('^([a-z]+):'),matches=e.exec(a.toLowerCase());return matches?matches[1]:null}function getHostname(a){var e=new RegExp('^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)'),matches=e.exec(a.toLowerCase());return matches?matches[1]:a}function getParameter(a,b){var e=new RegExp('^(?:https?|ftp)(?::/*(?:[^?]+)[?])([^#]+)'),matches=e.exec(a),f=new RegExp('(?:^|&)'+b+'=([^&]*)'),result=matches?f.exec(matches[1]):0;return result?decodeWrapper(result[1]):''}unction cacheFixup(a,b){if(a=='webcache.googleusercontent.com'||a=='cc.bingj.com'||a.substr(0,9)=='74.6.239.'){b=documentAlias.links[0].href;a=getHostname(b)}return[a,b]}function urlFixup(a,b,c){if(a==='translate.googleusercontent.com'){if(c===''){c=b}b=getParameter(b,'u');a=getHostName(b)}else if(a==='cc.bingj.com'||a==='webcache.googleusercontent.com'||a.slice(0,5)==='74.6.'){b=documentAlias.links[0].href;a=getHostName(b)}return[a,b,c]}unction CiTracker(h,l){var m={},locationArray=urlFixup(documentAlias.domain,windowAlias.location.href,getReferrer()),domainAlias=domainFixup(locationArray[0]),locationHostnameAlias=locationArray[0],locationHrefAlias=locationArray[1],configReferrerUrl=locationArray[2],configRequestMethod='GET',configTrackerUrl=configTrackerUrl||('https:'==document.location.protocol?'https://':'http://')+'ad.ipredictive.com/d/rt/pixel',configTrackerRtSiteId=h||'',configTrackerRtUuId=l||'',configAppId,configAppName,configTitle=documentAlias.title,configDownloadExtensions='7z|aac|arc|arj|asf|asx|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wma|wmv|wpd||xls|xml|z|zip',configHostsAlias=[domainAlias],configIgnoreClasses=[],configDownloadClasses=[],configLinkClasses=[],configTrackerPause=500/1000,configCustomData,configDoNotTrack=false,browserHasCookies='0',pageReferrer,pluginMap={pdf:['pdf','application/pdf','0'],quicktime:['qt','video/quicktime','0'],realplayer:['realp','audio/x-pn-realaudio-plugin','0'],wma:['wma','application/x-mplayer2','0'],director:['dir','application/x-director','0'],flash:['fla','application/x-shockwave-flash','0'],java:['java','application/x-java-vm','0'],gears:['gears','application/x-googlegears','0'],silverlight:['ag','application/x-silverlight','0']},linkTrackingInstalled=false,escapeWrapper=windowAlias.encodeURIComponent||escape,unescapeWrapper=windowAlias.decodeURIComponent||unescape,geoStatus={geosupported:navGeoSupported,geoenabled:false,geoerrorcode:null,latitude:null,longitude:null},stringify=function(d){var e=new RegExp('[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]','g'),meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};nction str(a,b){var i,k,v,partial,d=b[a];if(d===null){return'null'}if(d&&typeof d==='object'&&typeof d.toJSON==='function'){d=d.toJSON(a)}switch(typeof d){case'string':return quote(d);case'number':return isFinite(d)?String(d):'null';case'boolean':case'null':return String(d);case'object':partial=[];if(d instanceof Array){for(i=0;i<d.length;i++){partial[i]=str(i,d)||'null'}v=partial.length===0?'[]':'['+partial.join(',')+']';return v}if(d instanceof Date){return quote(d.getUTCFullYear()+'-'+f(d.getUTCMonth()+1)+'-'+f(d.getUTCDate())+'T'+f(d.getUTCHours())+':'+f(d.getUTCMinutes())+':'+f(d.getUTCSeconds())+'Z')}for(k in d){v=str(k,d);if(v){partial.push(quote(k)+':'+v)}}v=partial.length===0?'{}':'{'+partial.join(',')+'}';return v}}return str('',{'':d})},m={};nction getImage(a,b){var c=getUnixTimestampNow(),image=new Image(1,1);if(!b)expireDateTime=c+b;else expireDateTime=c;image.onload=image.onerror=function(){if(console)console.debug('img loaded url = '+a)};image.src=a}function detectBrowserPlugins(){var i,mimeType;if(typeof navigatorAlias.javaEnabled!=='undefined'){try{if(navigatorAlias.javaEnabled())pluginMap.java[2]='1'}catch(e3){pluginMap.java[2]='0'}}if(typeof windowAlias.GearsFactory==='function'){pluginMap.gears[2]='1'}if(navigatorAlias.mimeTypes&&navigatorAlias.mimeTypes.length){for(i in pluginMap){mimeType=navigatorAlias.mimeTypes[pluginMap[i][1]];if(mimeType&&mimeType.enabledPlugin){pluginMap[i][2]='1'}}}}nction getGeolocation(){var b={maximumAge:3E5,timeout:1E4,enableHighAccuracy:false};if(navigator.geolocation){geoStatus.geosupported=true;if(console)console.debug('Geolocation is supported!');navigator.geolocation.getCurrentPosition(function(a){geoStatus.errorcode=a.code;if(console)console.debug('Error occurred. Error code: '+a.code)},b)}else{if(console)console.log('Geolocation is not supported for this Browser/OS version yet.')}return geoStatus}function getRequest(){var i,request,ts=getUnixTimestampNow();request='uuid='+configTrackerRtUuId+'&rtsite_id='+configTrackerRtSiteId+'&sdk_src=js'+'&ts='+ts+'&rr='+(Math.random()+'').slice(2)+'&sdkv='+getSdkVersion();if(isDefined(configAppId))request+='&app_id='+escapeWrapper(configAppId);if(isDefined(configAppName))request+='&app_name='+escapeWrapper(configAppName);request+='&res='+screenAlias.width+'x'+screenAlias.height+'&cookie='+browserHasCookies;request+='&ref='+escapeWrapper(pageReferrer)+'&dloc='+escapeWrapper(locationHrefAlias);request+='&ds=1';if(isDefined(geoStatus.latitude)&&geoStatus.latitude!=null&&isDefined(geoStatus.longitude)&&geoStatus.longitude!=null)request+='&lat='+escapeWrapper(geoStatus.latitude)+'&lon='+escapeWrapper(geoStatus.longitude);if(isDefined(configCustomData)){if(isString(configCustomData)){var j={};j['data']=configCustomData;request+='&ex='+escapeWrapper(stringify(j))}else request+='&ex='+escapeWrapper(stringify(configCustomData))}if(!isEmptyObject(info_demographics))request+='&p='+escapeWrapper(stringify(info_demographics));for(i in pluginMap){request+='&'+'xp_'+pluginMap[i][0]+'='+pluginMap[i][2]}request=configTrackerUrl+'?'+request;return request}function logPageView(a){var b=getRequest();var c='pageview';var d={};d['url']=locationHrefAlias;d['title']=isDefined(a)?a:configTitle;b+='&event='+c;b+='&ev_'+c+'='+escapeWrapper(stringify(d));b+=executePluginMethod('log');sendRequest(b,configTrackerPause)}function logConversion(a,b){var c=getRequest();var d='conversion';var e={};e['item']=a;e['amount']=''+b;c+='&event='+d;c+='&ev_'+d+'='+escapeWrapper(stringify(e));c+=executePluginMethod('conversion');sendRequest(c,configTrackerPause)}function logLink(a,b,c){var d=getRequest();var e='linkclick';var f={};f['url']=a;f['linktype']=b;d+='&event='+e;d+='&ev_'+e+'='+escapeWrapper(stringify(f));if(isDefined(c)){if(c!==null){d+='&ex1='+escapeWrapper(stringify(c))}}d+=executePluginMethod('click');sendRequest(d,configTrackerPause)}function logUnload(a){var b=getRequest();var c='pageunload';var d={};d['ur']=locationHrefAlias;b+='&event='+c;b+='&ev_'+c+'='+escapeWrapper(stringify(d));if(isDefined(a)){if(a!==null){b+='&ex1='+escapeWrapper(stringify(a))}}sendRequest(b,configTrackerPause)}function logCustomEvent(a,b){var c=getRequest();var d=(isObject(b))?stringify(b):b;if(a){c+='&event=ce_'+a;if(b)c+='&cev_'+a+'='+escapeWrapper(d);sendRequest(c,configTrackerPause)}}function isSiteHostName(a){var i,alias,offset;for(i=0;i<configHostsAlias.length;i++){alias=configHostsAlias[i].toLowerCase();if(alias.substr(0,2)=='*.'){if((a)==alias.substr(2)){return true}offset=a.length-alias.length+1;if((offset>0)&&(a.substr(offset)==alias.substr(1))){return true}}}return false}function getClassesRegExp(a,b){var i,classesRegExp='(^| )(ci[_-]'+b;if(isDefined(a)){for(i=0;i<a.length;i++){classesRegExp+='|'+a[i]}}classesRegExp+=')( |$)';return new RegExp(classesRegExp)}function getLinkType(a,b,c){if(!c){return'link'}var d=getClassesRegExp(configDownloadClasses,'download'),linkPattern=getClassesRegExp(configLinkClasses,'link'),downloadExtensionsPattern=new RegExp('\\.('+configDownloadExtensions+')([?&#]|$)','i');return linkPattern.test(a)?'link':(d.test(a)||downloadExtensionsPattern.test(b)?'download':0)}function clickHandler(a){var b,parentElement,tag,linkType;if(!isDefined(a)){a=windowAlias.event}if(isDefined(a.target)){b=a.target}else if(isDefined(a.srcElement)){b=a.srcElement}else{return}while((parentElement=b.parentNode)&&((tag=b.tagName)!='A'&&tag!='AREA')){b=parentElement}if(isDefined(b.href)){var c=b.hostname,sourceHostName=c.toLowerCase(),sourceHref=b.href.replace(c,sourceHostName),scriptProtocol=new RegExp('^(javascript|vbscript|jscript|mocha|livescript|ecmascript): *','i');if(!scriptProtocol.test(sourceHref)){linkType=getLinkType(b.className,sourceHref,isSiteHostName(sourceHostName));if(linkType){logLink(sourceHref,linkType)}}}}function addClickListener(a){addEventListener(a,'click',clickHandler,false)}function addClickListeners(){if(!linkTrackingInstalled){linkTrackingInstalled=true;var i,ignorePattern=getClassesRegExp(configIgnoreClasses,'ignore'),linkElements=documentAlias.links;if(linkElements){for(i=0;i<linkElements.length;i++){if(!ignorePattern.test(linkElements[i].className)){addClickListener(linkElements[i])}}}}}function registerHook(a,b){var c=null;if(typeof a=='string'&&!isDefined(m[a])){if(typeof b=='object'){c=b}else if(typeof b=='string'){try{eval('hookObj ='+b)}catch(e){}}m[a]=c}return c}function sendXmlHttpRequest(a){try{var b=windowAlias.XDomainRequest?new windowAlias.XDomainRequest():windowAlias.XMLHttpRequest?new windowAlias.XMLHttpRequest():windowAlias.ActiveXObject?new ActiveXObject('Microsoft.XMLHTTP'):null;b.open('POST',configTrackerUrl,true);b.onreadystatechange=function(){if(this.readyState===4&&this.status!==200){getImage(a)}};b.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');b.send(a)}catch(e){getImage(a)}}function sendRequest(a,b){var c='';if(navigator&&navigator.userAgent)c=navigator.userAgent;var d=getDeviceType(c);var e=getUnixTimestampNow();if(!configDoNotTrack){if(configRequestMethod==='POST'){sendXmlHttpRequest(a)}else{console.log(a);getImage(a,b)}expireDateTime=e+b}}function getDeviceType(a){var b=0;if(/iphone|ipod|android.*(mobile)|opera.*(mini|mobi)/i.test(a)){ciads_supported_device=true;b=1}if(/ipad/i.test(a)){ciads_supported_device=true;b=2}if(b!=2){if((b==1&&/xoom|SCH-I800/i.test(a))||(b==0&&/android|xoom|SCH-I800|opera/i.test(a))){ciads_supported_device=true;b=2}}return b}function isDeviceSupported(){return getDeviceType(navigator.userAgent)>0}pageReferrer=getReferrer();browserHasCookies=hasCookies();detectBrowserPlugins();executePluginMethod('run',registerHook);return{hook:m,getHook:setRtSiteId:function(a){if(isDefined(a)){configTrackerRtSiteId=a}},setRtUuId:function(a){if(isDefined(a)){configTrackerRtUuId=a}},setCustomData:function(a){if(isDefined(a)){configCustomData=a}},setLinkTrackingTimer:function(a){if(isDefined(a)){configTrackerPause=a}},setIgnoreClasses:function(a){if(typeof a=='object'&&a instanceof Array){configIgnoreClasses=a}else if(typeof a=='string'){configIgnoreClasses=[a]}},setDocumentTitle:setDoNotTrack:function(a){if(a&&a==true)configDoNotTrack=true;else configDoNotTrack=false},setUserProfileWithJSONObject:function(a){if(a){if(isObject(a)){info_demographics=a}else if(isString(a)){info_demographics='{'+a+'}'}}},setUserProfile:function(a,b){if(a&&b){if(isString(a))info_demographics[a]=b}},addListener:enableLinkTracking:function(){if(hasLoaded){addClickListeners()}else{registeredOnLoadHandlers[registeredOnLoadHandlers.length]=function(){addClickListeners()}}},trackConversion:function(a,b){logConversion(a,b)},trackPageView:function(a){logPageView(a)},enableGeoTrackingByUserPermit:trackUnload:trackCustomEvent:}ddEventListener(windowAlias,'beforeunload',beforeUnloadHandler,false);addReadyListener();o=new CiTracker();validateSettings(ciads_settings);apply(['setRtSiteId',ciads_settings.rtSiteId]);apply(['setRtUuId',ciads_settings.rtUuId]);apply(['setUserProfileWithJSONObject',ciads_settings.profile]);apply(['trackPageView']);_caq=new TrackerProxy();return{addPlugin:getCiTracker:getCiAsyncTracker:function(){return o},getCiTrackerVersion:PROFILE:{AGE:"age",GENDER:"gender",GENDER_MALE:"m",GENDER_FEMALE:"f",USER_ID:"uid",ZIP_CODE:"zipCode",COUNTRY:"country",ETHNICITY:"ethnicity",ETHNICITY_WHITE:"white",ETHNICITY_BLACK:"black",ETHNICITY_HISPANIC:"hispanic",ETHNICITY_ASIAN:"asian",ETHNICITY_OTHER:"other"}}}())}