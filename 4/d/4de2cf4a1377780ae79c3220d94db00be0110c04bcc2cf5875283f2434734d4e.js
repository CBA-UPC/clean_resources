var ASCDP=window.ASCDP||{};ASCDP.adS=ASCDP.adS||{},[function(e){e.exports=JSON.parse('{"n":{"UT_IFRAME":"utif_","UT_DIV":"div_utif_"},"k":{"WARN":"WARN"},"f":{"DEBUG_MODE":"ast_debug","AST_DONGLE":"ast_dongle","AST_DEBUG_MEMBER":"ast_debug_member","AST_DEBUG_BIDDER":"ast_debug_bidder","AST_TEST":"ast_test","AST_TOOLKIT":"ast_toolkit","AST_OVERRIDE":{"BASE":"ast_override_","DIV":"div","INDEX":"index","TAG_ID":"tag_id","INV_CODE":"inv_code","PUBLISHER_ID":"publisher_id"}},"m":{"UNDEFINED":"undefined","OBJECT":"object","STRING":"string","NUMBER":"number"},"d":{"IE":"msie","OPERA":"opera"},"o":{"LOADED":"loaded","IMPRESSION":"impression"},"g":{"UT_BASE":"/ut/v3","IMPBUS":"ib.adnxs.com","IMPBUS_SIMPLE":"ib.adnxs-simple.com","UT_PREBID":"/ut/v3/prebid"},"s":{"MEDIA_TYPE":"media_type","CREATIVE_ID":"creative_id","AD_TYPE":"ad_type","BANNER":"banner","VIDEO":"video","CONTENT":"content","UUID":"uuid"},"l":{"BANNER":"banner","NATIVE":"native","VIDEO":"video"},"a":{"CREATIVE_ID":"creative_id","NOTIFY":"notify_url","NOAD":"no_ad_url","IMP_URLS":"impression_urls","TRACKERS":"trackers"},"e":{"RTB":"rtb","CSM":"csm","SSM":"ssm"},"b":{"BANNER":"banner","NATIVE":"native","VIDEO":"video"},"j":{"VIDEO_MEDIATION_JS":"//acdn.adnxs-simple.com/video/astMediation/AstMediationManager.js","BANNER_MEDIATION_JS": "//www.asadcdn.com/adlib/libmodules/extensions/mediation'+(ASCDP.hashMap.extensions.mediation?"."+ASCDP.hashMap.extensions.mediation:"")+'.js","SAFE_FRAME_URL":"//acdn.adnxs-simple.com/ast/safeframe/static/0.60.1/html/safeframe-v2.html","USERSYNC_URL":"https://acdn.adnxs.com/dmp/async_usersync.html","CDN_ORIGIN":"acdn.adnxs-simple.com"},"h":{"REQUEST":"adRequested","AVAILABLE":"adAvailable","LOADED":"adLoaded","LOADED_MEDIATED":"adLoadedMediated","NO_BID_MEDIATED":"adNoBidMediated","REQUEST_FAIL":"adRequestFailure","NO_BID":"adNoBid","DEFAULT":"adDefault","ERROR":"adError","COLLAPSE":"adCollapse","BAD_REQUEST":"adBadRequest"},"r":{"ARRAY":"Array","STRING":"String","FUNC":"Function","NUM":"Number","OBJ":"Object","BOOL":"Boolean"},"p":{"DEFAULT_ZINDEX":3000,"STATUS":{"READY":"ready","NOTIFY_EXPANDED":"expanded","NOTIFY_COLLAPSED":"collapsed","NOTIFY_ERROR":"error","FOCUS_CHANGE":"focus-change","GEOM_UPDATE":"geom-update","CMP":"cmp"}},"i":{"CREATIVE":"creative"},"c":{"NATIVE_VIEWABILITY":{"AD_RESPONSE":"adresponse","IMPRESSION":"impression"}},"q":{"ERROR_TYPES":{"AD_RESPONSE_ERROR":"adResponseError","ENDPOINT_ERROR":"endpointError"}}}')},function(e,t,n){"use strict";function a(e=""){return e.includes("adsdk.microsoft.com")||e.includes("adsdkprod.azureedge.net")||e.includes("adsdkprprod.azureedge.net")||e.includes("acdn.adnxs.com/ast/ast.js")||e.includes("acdn.adnxs-simple.com/ast/ast.js")||location.href.includes("pleaseTrackMeAdTelemetry")}unction i(){var e;return 0<(null==(e=window.location.ancestorOrigins)?void 0:e.length)?window.location.ancestorOrigins[window.location.ancestorOrigins.length-1]:window.location.href}.d(t,"d",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o})},function(e,r,i){"use strict";!function(t){i.d(r,"a",function(){return a});var e=i(8),n=i(1);const a=new class{constructor(){this.sessionData={},this.placementData={},this.sampleRate=1,this.skipLogging=!1,this.populateSessionData()}populateSessionData(){this.sessionData={sessionUuid:Object(e.v4)(),ua:window.navigator.userAgent,url:Object(n.c)(),sdkType:t.env.NAME||"unknown",sdkVersion:t.env.VERSION||"unknown"}}setSampleRate(e){this.sampleRate=t.env.IS_DEV||t.env.IS_TESTS||Object(n.a)()?1:e,this.skipLogging=this.skipLoggingBySampleRate()}dPlacementData(e,t){this.placementData[e]||(this.placementData[e]={}),this.placementData[e]=Object.assign(Object.assign({},this.placementData[e]),t)}etPlacementData(e=""){return null!=(e=this.placementData[e])?e:{}}}}.call(this,i(5))},function(e,t,o){"use strict";!function(n){o.d(t,"a",function(){return e});var a=o(2),r=o(4),i=o(9);class e{skipLogging(){var e;return!(n.env.IS_DEV||n.env.IS_TESTS||null==(e=a.a.getSessionData().url)||!e.includes("//localhost"))||a.a.skipLogging}log(e,{id:t}={}){t=Object.assign(Object.assign(Object.assign(Object.assign({},a.a.getSessionData()),a.a.getPlacementData(t)),e),{timestamp:(new Date).getTime()});this.skipLogging()||(n.env.IS_DEV?Object(i.a)(t):fetch(r.a.telemetry.endpoint,{method:"POST",body:JSON.stringify(t,(e,t)=>t instanceof Error?{name:t.name,message:t.message,stack:t.stack}:t),headers:{"Content-Type":"application/json"},credentials:"omit"}))}}}.call(this,o(5))},function(e,r,i){"use strict";!function(e){i.d(r,"a",function(){return a});var t=i(10),n=i(11);let a=t.a;e.env.IS_DEV&&(a=n.a)}.call(this,i(5))},function(e,t){var n,a,e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}y{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{a="function"==typeof clearTimeout?clearTimeout:i}catch(e){a=i}var s,d=[],c=!1,l=-1;xtTick=g.prototype.run=e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.prependListener=f,e.prependOnceListener=f,e.listeners=e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=e.umask=,function(e,t,n){"use strict";n.d(t,"a",function(){return a});const i=e=>({debug:"#888888",log:e?"#FFFFFF":"#000000",info:"#0000FF",warning:"#FFA500",error:"#FF0000",exception:"#8B0000"});function a(e){var t,n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,a="custom"===e.type?`[${e.type}] `+(null==(a=e.data)?void 0:a.subtype):e.type,n="custom"===e.type?i(n).debug:"event"===e.type?i(n).info:"unhandledError"===e.type?i(n).exception:"handledError"===e.type?i(n).error:i(n).log,r=/error/i.test(String(e.type)),a="Telemetry logging: %c"+a,n=`font-size: 15px; font-weight: bold; color: ${n};`;if(r?console.group(a,n):console.groupCollapsed(a,n),console.log("body",e),"string"==typeof e.data){const a=JSON.parse(e.data);if(console.log("body.data:",a),r){let e=a;for(;e;){const a=new Error;a.name=e.name,a.message=e.message,a.filename=e.filename,a.lineno=e.lineno,a.colno=e.colno,a.stack=e.stack||(null==(t=e.error)?void 0:t.stack),a.type=e.type,console.error(a),e=null!=(t=e.debugData)&&t.cause?(console.log("--\x3e Caused by:"),e.debugData.cause):void 0}}}console.groupEnd(),console.log("--------------------")}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={telemetry:{endpoint:"https://bat.bing.net/adsdk/logs"}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={telemetry:{endpoint:"https://bat.bing-int.net/adsdk/logs"}}},function(e,t,n){var l,u,p=n(6),g=n(7),f=0,m=0;e.exports=function(e,t,n){var a=t&&n||0,r=t||[],i=(e=e||{}).node||l,n=void 0!==e.clockseq?e.clockseq:u,o=(null!=i&&null!=n||(o=p(),null==i&&(i=l=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==n&&(n=u=16383&(o[6]<<8|o[7]))),void 0!==e.msecs?e.msecs:(new Date).getTime()),s=void 0!==e.nsecs?e.nsecs:m+1,d=o-f+(s-m)/1e4;if(d<0&&void 0===e.clockseq&&(n=n+1&16383),1e4<=(s=(d<0||f<o)&&void 0===e.nsecs?0:s))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=o,u=n;d=(1e4*(268435455&(o+=122192928e5))+(m=s))%4294967296,r[a++]=d>>>24&255,r[a++]=d>>>16&255,r[a++]=d>>>8&255,r[a++]=255&d,e=o/4294967296*1e4&268435455;r[a++]=e>>>8&255,r[a++]=255&e,r[a++]=e>>>24&15|16,r[a++]=e>>>16&255,r[a++]=n>>>8|128,r[a++]=255&n;for(var c=0;c<6;++c)r[a+c]=i[c];return t||g(r)}},function(s,e,t){"use strict";var u;function p(e){C.setParentNode(e),C.getContainer().querySelector("#ancookie-close").addEventListener("click",;function t(){var o=C.getSliderElement(),s=D(o),d=C.getMessageElement(),c=(d.setAttribute("style","-webkit-transition: none; -webkit-transform: translateX(0); -webkit-column-width: "+s+"px;"),C.getNav());c.innerHTML="",clearTimeout(n),n=setTimeout(function(){clearInterval(u),d.style.webkitTransition="opacity 0.3s ease-out",d.style.opacity=1;var e,t,n,a=o.scrollWidth+10;if(1<Math.round(a/s)){a=c;for(var r="<span class=selected></span>",i=1;i<2;i++)r+="<span></span>";a.innerHTML=r,t=D(C.getSliderElement()),n={cycles:2,isFirstSlide:!0},u=setInterval(function(){n.cycles||clearInterval(u),e=n.isFirstSlide?1:0,n=function(e,t){var n=C.getMessageElement();n.style.webkitTransition="opacity 0.3s ease-out, -webkit-transform 1.2s cubic-bezier(0.23, 1, 0.32, 1)",n.style.webkitTransform="translateX("+e+"px)",0==e&&t.cycles--,t.isFirstSlide=!t.isFirstSlide;for(var a=C.getContainer().querySelectorAll("span"),r=0;r<a.length;r++)"selected"===a[r].className?a[r].removeAttribute("class"):a[r].setAttribute("class","selected");return t}(-1*e*t,n)},3e3)}},300)}var n;t(),window.addEventListener("resize",t)}t.r(e),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(e){return}}()||(Object.defineProperty=;var w,I,E,x,A,C={getContainer:function(){return w=w||A.querySelector("#ancookie-container")},getMessageElement:function(){return I=I||A.querySelector("#ancookie-msg")},getSliderElement:function(){return E=E||A.querySelector("#ancookie-slider")},getNav:setParentNode:;ar R="http://ib.adnxs.com/seg?add=1&redir=",M="//ib.adnxs.com/getuidj",Y=!1;function X(){var e;Y||(Y=!0,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?("true"!==document.cookie.replace(/(?:(?:^|.*;\s*)anCookiesetFooter\s*\=\s*([^;]*).*$)|^.*$/,"$1")&&((e=document.createElement("div")).id="cookiemsg-slider",e.innerHTML='<style media="screen">.ancookie-header {\n  background: #d3d3d3;\n  text-overflow: ellipsis;\n  border-collapse: collapse;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  min-height: 38px;\n}\n\n.ancookie-header * {\n  font-size: 12px;\n  font-family: Verdana, Arial, Helvetica, sans-serif !important;\n  color: #555;\n  line-height: normal !important;\n  margin: 0;\n  padding: 0;\n}\n\n.ancookie-header p {\n  padding: 10px 10px 10px 38px;\n  text-align: left;\n}\n\n.ancookie-header a:link,\n.ancookie-header a:hover,\n.ancookie-header a:visited,\n.ancookie-header a:active {\n  color: #e6e6e6;\n  text-decoration: underline;\n  font-weight: 700;\n}\n\n.ancookie-header {\n  position: fixed;\n  opacity: 0.9;\n}\n\n.ancookie-header * {\n  font-size: 11px !important;\n}\n\n#ancookie-msg {\n  height: 34px;\n  opacity: 0;\n}\n\n@media only screen and (min-width: 1224px) {\n  .ancookie-header * {\n    font-size: 12px !important;\n  }\n\n  #ancookie-msg {\n    height: 20px;\n    opacity: 0;\n  }\n}\n\n@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n  .ancookie-header {\n    position: fixed;\n  }\n}\n\n.ancookie-header {\n  z-index: 9999;\n  opacity: 1;\n}\n\n#ancookie-slider {\n  overflow: hidden;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n#ancookie-slider p {\n  position: relative;\n  margin: 0;\n  padding: 0;\n  opacity: 0;\n  -webkit-column-gap: 20px;\n  -webkit-column-rule-width: 0;\n}\n\n#ancookie-nav {\n  position: absolute;\n  right: 0;\n  left: 0;\n  top: -11px;\n  z-index: 200;\n  text-align: center;\n}\n\n#ancookie-nav div {\n  display: inline-block;\n  padding: 0 10px;\n  background-color: #d3d3d3;\n  border-radius: 10px 10px 0 0;\n}\n\n#ancookie-nav span {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  background-color: #e6e6e6;\n  border-radius: 50%;\n  margin: 1px 2px;\n  box-sizing: border-box;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 0.5;\n}\n\n#ancookie-nav span.selected {\n  background-color: #555;\n  -webkit-transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);\n  -webkit-opacity: 1;\n}\n\n#ancookie-close {\n  position: absolute;\n  right: 5px;\n  bottom: 20px;\n  cursor: pointer;\n  -webkit-transform: scale(1.5);\n  transform: scale(1.5);\n}\n</style><div class="ancookie-header" id="ancookie-container">\n  <div id="ancookie-nav">\n    <div></div>\n  </div>\n  <div id="ancookie-slider">\n    <p id="ancookie-msg">Your browser blocks 3rd party cookies by default. By clicking on page you allow our partner AppNexus to place cookies to show relevant ads. Read more or opt out of these cookies <a href="https://www.appnexus.com/en/company/platform-privacy-policy#choices" target="_blank" style="color: #4f4f4f;">here</a>. This notice appears once </p>\n    <div id="ancookie-close">&times</div>\n  </div>\n</div>\n',e=e,document.body.appendChild(e),p(e),document.cookie="anCookiesetFooter=true; expires=Fri, 31 Dec 9999 23:59:59 GMT"),function(e,t){var n;try{n=new XMLHttpRequest}catch(e){return}n.open("GET",e),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState&&200===n.status)try{var e=JSON.parse(n.responseText);t(e)}catch(e){console.error(e)}},n.send()}(M,$)):console.log("Not safari, skipping link override"))}function $(e){if(console.log(e.uid),0===(parseInt(e.uid,10)||0)){console.log("Perfoming link override.");for(var t=0;t<document.links.length;t++){var n=document.links[t];n.href=R+encodeURIComponent(n.href)}}}var K,Q=t(2),e=t(3),Z=t(1);class ee extends e.a{trackEvent(e,t){this.log("string"==typeof e?{type:e}:e,{id:t})}trackCustomEvent(e,t){var n=e["type"],e=e,["type"]);this.log({type:Object(Z.b)("custom",n),data:e},{id:t})}}const d=new ee;(n=K=K||{})[n.Critical=1]="Critical",n[n.HighImpact=2]="HighImpact",n[n.Alert=3]="Alert";class te extends e.a{logError(e,t,n){var a=n;this.log({severity:e,type:Object(Z.b)("error",t),message:null==n?void 0:n.message,data:n?{filename:null==a?void 0:a.filename,lineno:null==a?void 0:a.lineno,colno:null==a?void 0:a.colno,stack:(null==a?void 0:a.stack)||(null==(e=null==n?void 0:n.error)?void 0:e.stack),type:null==n?void 0:n.type,debugData:null==n?void 0:n.debugData}:void 0})}trackCriticalError(e,t){this.logError(K.Critical,e,t)}trackHighImpactError(e,t){this.logError(K.HighImpact,e,t)}const ne=new te,ae="adServerRequestFill",re="adServerRequestNoFill",ie="impression",oe=oe("optIn"),oe("optOut"),oe("adServerRequest"),oe("adServerRequestFill"),oe("adServerRequestNoFill"),oe("impression"),oe("mrcView"),oe("adClick"),oe("timeout");var se,de=t(4);(n=se=se||{}).resource="resource",n.measure="measure";class ce extends e.a{constructor(){super(...arguments),this.resourcesToTrackFilters={sdksFiles:Z.d},this.logResourcePerf=e=>{const{duration:t,name:n}=e;if(!n.includes(de.a.telemetry.endpoint))for(const[e,a]of Object.entries(this.resourcesToTrackFilters))if(a(n)){this.log({type:Object(Z.b)("perf",se.resource,e),data:{duration:Math.ceil(t),name:n}});break}}}ackMark(e,t){performance.mark(e+"_end"),this.logMarks({measureName:e,startMarkName:e+"_start",endMarkName:e+"_end"},t)}logMarks({measureName:e,startMarkName:t,endMarkName:n},a){t=performance.measure(e,t,n).duration;this.log({type:Object(Z.b)("perf",se.measure,e),data:Object.assign(Object.assign({},a),{duration:Math.ceil(t)})})}endResourcesTiming(){performance.getEntriesByType&&window.performance.getEntriesByType("resource").forEach(this.logResourcePerf)}connectPerfObserver(){window.PerformanceObserver&&(this.observer=new PerformanceObserver(,this.observer.observe({entryTypes:["resource"]}))}const le=new ce;function ue(e){var t,n,a=e.strategy,e=e.data,r=v().document.createElement("iframe");r.width=0,r.height=0,r.border="0",r.hspace="0",r.vspace="0",r.tabIndex="-1",r.marginWidth="0",r.marginHeight="0",r.style.border="0",r.style.display="none",r.scrolling="no",r.frameBorder="0","WithContent"===a&&(n=e,ye(t=r),t.contentWindow.document.open(),t.contentWindow.document.write(n),t.contentWindow.document.close()),"WithAttributes"===a&&(n=e,(t=r).src=n.src,t.id=n.id,t.sandbox=n.sandbox,ye(t))}var m=t(0),pe=m.e.RTB,ge=m.s.BANNER,fe=m.s.CONTENT,me="https:"===window.document.location.protocol?"https:":"http:",he=function(e,t){var n,a,r=void 0,i=m.n.UT_IFRAME+e.targetId+"_"+Be(),o=v();return(r=null!==o.document.getElementById(i)?o.document.getElementById(i):o.document.createElement("iframe")).id=i,e.alwaysUseXDomainIframe||e.enableSafeFrame?(L("targetId: "+e.targetId+" is using safeFrame. Loading this ad into sandboxed iframe"),a=void 0,a=t.renderer_url?"\x3c!-- renderer loading in SF--\x3e":e.isBannerMediation?apntag.getAdMarkup(e.targetId,e.uuid):e.isVideoMediation?e.adResponse.ad[pe][ge][fe]:""+(a=be(e)).replace("/&/g","&amp;").replace("/</g","&lt;").replace("/>/g","&gt;").replace('/"/g',"&quot;").replace("/'/g","&#39;"),n=e.curWindow,delete e.curWindow,a={targetId:e.targetId,ad:a,host:o.location.protocol+"//"+o.location.host,geom:e.geom,debug:Je(),hasFocus:document.hasFocus(),hostSfSupport:e.safeframe,isMediated:e.isMediated,rendererUrl:t.renderer_url,enableMediationEvents:apntag.requests.enableMediationEvents,expandByCreative:Ue(e.targetId),currentTag:e},e.safeframe.meta&&(a.meta=e.safeframe.meta),r.name=JSON.stringify(a),e.curWindow=n,e.safeframe.sandbox&&(r.sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts")):r.name=i,r.setAttribute("height",e.initialHeight),r.setAttribute("width",e.initialWidth),r.tabIndex="-1",r.width=e.initialWidth+"px",r.height=e.initialHeight+"px",r.border="0",r.hspace="0",r.vspace="0",r.marginWidth="0",r.marginHeight="0",r.style.border="0",r.scrolling="no",r.frameBorder="0",e.renderingManagement&&e.renderingManagement.sandboxAdIframe&&!r.hasAttribute("sandbox")&&0<(o=e.renderingManagement.sandboxAttributes||[]).length&&(S("renderingManagement.sandboxAdIframe was enabled, enabling sandbox attributes: "+o.join(" ")),r.setAttribute("sandbox",o.join(" "))),e.customIframeProps&&W(e.customIframeProps,function(e,t){r[t]=e}),r},ve=function(e,t){t.alwaysUseXDomainIframe||t.enableSafeFrame?e.src=me+m.j.SAFE_FRAME_URL:(e=function(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document||e.contentDocument}catch(e){j("Error getting iframe document: "+e)}return t}(e),t=be(t),e.open("text/html","replace"),e.write(t),e.close())};function ye(e){var t=v().document.getElementsByTagName("body");t.length&&t[0].appendChild(e)}function be(e){var t=e.targetId,n="";return e.isMediated?(n=e.ad.mediatedContent,L("Invoking mediation for displaying banner ad: "+t)):e.adResponse&&1===e.adResponse.ads.length&&(n=$e(e.adResponse.ads)[ge][fe]),t=t,n=n,e=e.alwaysUseXDomainIframe||e.enableSafeFrame,'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>\n    <script>inDapIF=true;\n    apntag_targetId = "'+t+'";\n    '+(e?"":'window.onerror = function(e) {\n        if(window.parent && window.parent.apntag) {\n          window.parent.apntag.recordErrorEvent(e,"'+t+'");\n          return true;\n        }\n      };')+'\n    <\/script></head>\n    <body>\n    <script>\n    document.body.id = "'+t+'";\n    <\/script>\n    '+n+"\n    </body></html>"}var we=m.r.ARRAY,Ie=m.r.STRING,Ee=m.r.FUNC,_e=m.r.NUM,Se=m.r.OBJ,ke=Object.prototype.hasOwnProperty,Te=!1,xe=m.f.DEBUG_MODE,Ae=m.m.UNDEFINED,Ce=m.e.RTB,De=m.e.CSM,Re=m.e.SSM,Me=m.i,Pe=null;try{Pe="object"==typeof console.info&&null!==console.info?console.info:console.info.bind(window.console)}catch(s){}ar h=function(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on"+t,n)},Oe=Ne=_=function(e){return Ne(e,Ee)},O=function(e){return Ne(e,Ie)},N=function(e){return Ne(e,we)},q=nction Ue(e){var t=(e=(e=apntag.requests.tags[e])&&e.initCollapsed)&&e.expandBy&&0<=it(Me).indexOf(e.expandBy);return e&&t}function Le(e,t){return!!e&&-1!==e.indexOf(t)}unction je(e,t,n){return null==t?n:O(t)?t:q(t)?t.toString():void F("Unsuported type for param: "+e+" required type: String")}function B(e,t,n,a){return null==t?a:Ne(t,n)?t:(F("Unsuported type for param: "+e+" required type: "+n),n===_e&&(t=Number(t)),isNaN(t)?a:t)}var U=function(e){if(e){if(N(e)||O(e))return 0===e.length;for(var t in e)if(ke.call(e,t))return!1}return!0},We=ze=function(){var e=new Date;return"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] "},L=function(e){var t,n;Je()&&We()&&(t=ze(),n=Qe()?"SAFEFRAME MESSAGE: ":"MESSAGE: ",console.log(t+n+e))},F=function(e){var t,n;Je()&&We()&&(t=ze(),n=Qe()?"SAFEFRAME WARN: ":"WARN: ",console.warn?console.warn(t+n+e):console.log(t+n+e))},j=function(e,t){var n,a;Je()&&We()&&(t=t||"GENERAL_ERROR",n=ze(),a=Qe()?"SAFEFRAME ":"",console.error?console.error(n+a+t+": "+e):console.log(n+a+t+": "+e))},Ve=S=function(e,t){var n,a;Je()&&We()&&(n=ze(),Pe&&(t&&0!==t.length||(t=""),a=Qe()?"SAFEFRAME INFO: ":"INFO: ",Pe(n+a+e+(""===t?"":" : params : "),t)))},Ge=function(e,t,n){var e=e.document,a=e.createElement("script"),t=(a.type="text/javascript",a.async=!0,n&&"function"==typeof n&&(a.readyState?a.onreadystatechange=a.onload=,a.src=t,e.getElementsByTagName("head"));return(t=t.length?t:e.getElementsByTagName("body")).length&&(t=t[0]).insertBefore(a,t.firstChild),a},He=function(e,t,n){var a=void 0;if(n="anx_"+n+(new Date).getTime(),e&&t){(a=new Image).id=n,a.src=t,a.height=0,a.width=0,a.style.display="none",a.onload=try{e.insertBefore(a,e.firstChild)}catch(e){j("Error logging impression for tag: "+n+" :"+e.message)}}},W=function(e,t){if(!U(e)){if(_(e.forEach))return e.forEach(t);var n=0,a=e.length;if(0<a)for(;n<a;n++)t(e[n],n,e);else for(n in e)ke.call(e,n)&&t(e[n],n,e)}},Je=function(){return!(!Qe()&&(v().apntag=v().apntag||{},apntag&&!1===apntag.debug&&!1===Te&&(apntag.debug="TRUE"===Xe(xe).toUpperCase(),Te=!0),!apntag||!apntag.debug))},Ye=function(){try{return window.top.location.search}catch(e){try{return window.location.search}catch(e){return""}}},Xe=function(e,t){e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t||Ye());return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},z=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):typeof e[t]!==Ae&&e.constructor.prototype[t]!==e[t]},v=function(){return window},$e=function(e){if(e&&0<e.length)return e[0][Ce]||e[0][De]||e[0][Re]||void 0},Ke=function(e){if(null===e||!(e instanceof Object))return e;var t,n=e instanceof Array?[]:{};for(t in e)n[t]=Ke(e[t]);return n};function Qe(){return typeof $sf!==Ae&&$sf.ext&&$sf.ext.debug}function Ze(t,e){var n={};return["debug","displayed","initialHeight","initialWidth","invCode","member","showTagCalled","sizes","targetId","utCalled","utDivId","utiframeId","uuid","keywords"].forEach(,e&&(n.on=e.on,n.off=e.off,n.modifyTag=e.modifyTag,n.setKeywords=e.setKeywords),n}function r(e){apntag.requests.tags=apntag.requests.tags||{};var t=!0;return t=typeof apntag.requests.tags[e]===Ae?!1:t}function et(){apntag.requests.hasLeft=!1,W(apntag.requests.tags,function(e,t){e.displayed||e.prebid||e.isMediated||(F(t+" is not displayed.",m.k.WARN),apntag.requests.hasLeft=!0)}),apntag.requests.hasLeft||L("all Tags are displayed.")}var tt,nt,at=rt=function(){return v().document.location.protocol+"//"+m.j.CDN_ORIGIN},it=k=function(e,t){var n=void 0;if(_(e))return ,ot=function(e,t){e.viewability&&e.viewability.config&&(e=e.viewability.config,"string"==typeof t&&(e=e.replace("%native_dom_id%",t),Je()&&null===document.getElementById(t)&&F("No element found in the page for the native creative "+t+", see https://docs.xandr.com/bundle/seller-tag/page/seller-tag/define-tag.html 'targetId'")),ue({strategy:"WithContent",data:e}))},st=(tt=0,Array.prototype.slice),dt=Fe(m.h,,g=(nt={},(n={}).on=function(e,t,n){var a;!function(e){var t=dt,n=e;if(!U(t))for(var a=t.length;a--;)if(t[a]===n)return 1}(e)?j("Wrong event name : "+e+" Valid event names :"+dt):((a={})[t]=n,nt[e]=nt[e]||[],nt[e].push(a))},n.emit=function(e){var n,a,t=st.call(arguments,1);e=e,n=(t=t)[0],a=st.call(t,1),L("Emitting event for: "+e+" for ad tag: "+n),W(nt[e],function(e){var t="";if(null!=(t=z(e,"*")?e["*"]:e[n])&&"function"==typeof t)try{t.apply(null,a)}catch(e){j("events._dispatch: Error executing event handler function: "+e.message)}})},n.off=function(e,t,n){U(nt[e])||W(nt[e],function(e){"*"===t&&null!==e[Object.keys(e)[0]]&&void 0!==e[Object.keys(e)[0]]?void 0!==n&&Object.values(e)!==n||(e[Object.keys(e)[0]]=null):null===e[t]||void 0===e[t]||void 0!==n&&e[t]!==n||(e[t]=null)})},n.get=function(){return nt},n),e="https:"===function(){try{return v().top.document.location.protocol}catch(e){return v().document.location.protocol}}()?"https:":"http:",ct=[],lt=!1,ut=e+m.j.VIDEO_MEDIATION_JS,pt=e+m.j.BANNER_MEDIATION_JS,gt=m.s.AD_TYPE,ft=m.b.BANNER,mt=m.b.VIDEO,ht=function(e,t,n,a){e===mt&&(null!==t&&ct.push(t),lt&&window.APNVideo_AstMediationManager?W(ct,function(e){if(!e.called)try{window.APNVideo_AstMediationManager.selectAd(e.uuid,e,n,a),e.called=!0}catch(e){j("Error invoking video mediation","mediationmanager.js",e)}}):(Ge(window,ut,,lt=!0))},vt=function(e){return e.isMediated||e.isRtbVideoFallback?e.adResponse.ad:e.adResponse.ads[0]},yt=function(e){var t=e.content_source,n=e.ad_type;if(t)return e[t][n]},V=[],t=m.f.AST_OVERRIDE,bt=t.BASE,wt=bt+t.DIV,It=bt+t.INDEX,Et=bt+t.TAG_ID,_t=bt+t.INV_CODE;unction kt(e,t,n){var a,r,t=Number(t);isNaN(t)?j("Force Creative must be a number"):(e.force_creative_id=t,a=e,r=null,W(n,,L("Force Creative in use for targetId: "+r))}Tt=window;var Tt,xt=function(){try{var e=function(){var e=function(){var t=[],n=void 0;do{try{n=n?n.parent:Tt;try{t.push({referrer:n.document.referrer||null,location:n.location.href||null,isTop:n===Tt.top})}catch(e){t.push({referrer:null,location:null,isTop:n===Tt.top}),F("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(e){return t.push({referrer:null,location:null,isTop:!1}),t}}while(n!==Tt.top);return t}(),t=);if(t)for(var n=0,a=t.length;n<a;n++)e[n].ancestor=t[n];return e}(),t=e.length-1,n=null!==e[t].location||0<t&&null!==e[t-1].referrer,a=function(e){for(var t,n=[],a=null,r=null,i=null,o=null,s=null,d=void 0,d=e.length-1;0<=d;d--){try{r=e[d].location}catch(e){}if(r)a=encodeURIComponent(r),n.push(a),s=s||a;else if(0!==d){t=e[d-1];try{i=t.referrer,o=t.ancestor}catch(e){}i?(a=encodeURIComponent(i),n.push(a),s=s||a):o?(a=encodeURIComponent(o),n.push(a),s=s||a):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:s}}(e);return{referer:a.detectedRefererUrl,reachedTop:n,numIframes:t,stack:a.stack}}catch(e){}},At={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Ct=[];W(At,;var Dt=m.r.STRING,Rt=m.r.NUM,Mt=m.r.BOOL,Pt=m.f.AST_DONGLE,Ot=m.f.AST_TOOLKIT,Nt=m.f.AST_TEST,qt=m.f.AST_DEBUG_MEMBER,Bt=m.f.AST_DEBUG_BIDDER;function Ut(e){var a=[];return W(e,function(e,t){if(N(e)){var n=[];W(e,function(e){(e=je("keywords."+t,e))&&n.push(e)}),e=n}else{if(e=je("keywords."+t,e),!O(e))return;e=[e]}a.push({key:t,value:e})}),a}function Lt(e,o,t,s){var n={},d=(e.disablePsa&&W(e.tags,,e.msft&&(n.msft=e.msft),e.gdpr_consent&&(n.gdpr_consent=e.gdpr_consent),e.gpp_consent&&(n.privacy=e.gpp_consent),e.us_privacy&&(n.us_privacy=e.us_privacy),e.geoOverride&&(n.geo_override={country_code:e.geoOverride.countryCode,postal_code:e.geoOverride.zip}),[]),c=0,a=(W(e.tags,function(e){var t,n,a,r,i;!e.utCalled&&e.member===o&&function(t){if(!s)return 1;var n=!1;return W(s,,n}(e)&&(i={},(t=e).uuid=Be(),U(t.sizes)||(a=Ft(t.sizes),U(a)||(i.sizes=a,i.primary_size=a[0])),U(t.privateSizes)||(a=Ft(t.privateSizes),U(a)||(i.private_sizes=a)),t.supplyType&&O(t.supplyType)&&(i.supply_type=t.supplyType),t.pubClick&&O(t.pubClick)&&(i.pubclick={url:t.pubClick}),t.pubClickEnc&&O(t.pubClickEnc)&&(i.pubclickenc={url:t.pubClickEnc}),t.reserve&&(q(t.reserve)||N(t.reserve))&&(i.reserve=t.reserve),t.extInvCode&&O(t.extInvCode)&&(i.ext_inv_code=t.extInvCode),i.uuid=t.uuid,t.tagId&&(i.id=t.tagId),t.formats&&(i.formats=t.formats),t.position&&("above"===t.position?i.position=1:"below"===t.position?i.position=2:i.position=0),t.invCode&&(i.code=t.invCode),t.prebid&&(i.prebid=t.prebid),t.externalImpId&&(i.external_imp_id=t.externalImpId),!0===t.allowSmallerSizes?i.allow_smaller_sizes=!0:i.allow_smaller_sizes=!1,!0===t.disablePsa&&(i.disable_psa=!0),t.allowedFormats&&(i.ad_types=t.allowedFormats),!0!==t.usePmtRule&&!1!==t.usePmtRule||(i.use_pmt_rule=t.usePmtRule),O(t.globalPlacementId)&&(i.gpid=t.globalPlacementId),U(t.video)||(a={},(n=t.video).id&&(a.id=n.id),U(n.mimes)||(a.mimes=n.mimes),n.maxDuration&&(a.maxduration=n.maxDuration),n.minDuration&&(a.minduration=n.minDuration),n.startDelay&&(a.startdelay=n.startDelay),n.skippable&&(a.skippable=n.skippable),n.skipOffset&&(a.skipoffset=n.skipOffset),U(n.playbackMethod)||(a.playback_method=n.playbackMethod),U(n.frameworks)||(a.frameworks=n.frameworks),i.video=a),U(t.native)||(n={},(a=t.native).renderer_id&&(n.renderer_id=a.renderer_id),a.placement_type&&(n.placement_type=a.placement_type),r={},a.id&&(r.id=a.id),a.title&&(r.title=a.title),a.body&&(r.description=a.body),a.sponsoredBy&&(r.sponsored_by=a.sponsoredBy),a.image&&(r.main_image=a.image,U(r.main_image.sizes)&&(r.main_image.sizes=[{}])),a.icon&&(r.icon=a.icon,U(r.icon.sizes)&&(r.icon.sizes=[{}])),a.cta&&(r.ctatext=a.cta),a.desc2&&(r.desc2=a.desc2),a.rating&&(r.rating=a.rating),a.displayUrl&&(r.displayurl=a.displayUrl),a.likes&&(r.likes=a.likes),a.downloads&&(r.downloads=a.downloads),a.price&&(r.price=a.price),a.salePrice&&(r.saleprice=a.salePrice),a.phone&&(r.phone=a.phone),a.address&&(r.address=a.address),a.video&&(r.video={required:a.video.required||!1,min_duration:a.video.minDuration||0,max_duration:a.video.maxDuration}),a.privacySupported&&(r.privacy_supported=!0),a.customTitle1&&(r.customtitle1=a.customTitle1),a.customTitle2&&(r.customtitle2=a.customTitle2),a.customTitle3&&(r.customtitle3=a.customTitle3),a.customTitle4&&(r.customtitle4=a.customTitle4),a.customTitle5&&(r.customtitle5=a.customTitle5),a.customBody1&&(r.custombody1=a.customBody1),a.customBody2&&(r.custombody2=a.customBody2),a.customBody3&&(r.custombody3=a.customBody3),a.customBody4&&(r.custombody4=a.customBody4),a.customBody5&&(r.custombody5=a.customBody5),a.customCta1&&(r.customctatext1=a.customCta1),a.customCta2&&(r.customctatext2=a.customCta2),a.customCta3&&(r.customctatext3=a.customCta3),a.customCta4&&(r.customctatext4=a.customCta4),a.customCta5&&(r.customctatext5=a.customCta5),a.customDisplayUrl1&&(r.customdisplayurl1=a.customDisplayUrl1),a.customDisplayUrl2&&(r.customdisplayurl2=a.customDisplayUrl2),a.customDisplayUrl3&&(r.customdisplayurl3=a.customDisplayUrl3),a.customDisplayUrl4&&(r.customdisplayurl4=a.customDisplayUrl4),a.customDisplayUrl5&&(r.customdisplayurl5=a.customDisplayUrl5),a.customSocialUrl1&&(r.customsocialurl1=a.customSocialUrl1),a.customSocialUrl2&&(r.customsocialurl2=a.customSocialUrl2),a.customSocialUrl3&&(r.customsocialurl3=a.customSocialUrl3),a.customSocialUrl4&&(r.customsocialurl4=a.customSocialUrl4),a.customSocialUrl5&&(r.customsocialurl5=a.customSocialUrl5),a.customImage1&&(r.customimage1=a.customImage1),a.customImage2&&(r.customimage2=a.customImage2),a.customImage3&&(r.customimage3=a.customImage3),a.customImage4&&(r.customimage4=a.customImage4),a.customImage5&&(r.customimage5=a.customImage5),a.customIcon1&&(r.customicon1=a.customIcon1),a.customIcon2&&(r.customicon2=a.customIcon2),a.customIcon3&&(r.customicon3=a.customIcon3),a.customIcon4&&(r.customicon4=a.customIcon4),a.customIcon5&&(r.customicon5=a.customIcon5),a.customSocialIcon1&&(r.customsocialicon1=a.customSocialIcon1),a.customSocialIcon2&&(r.customsocialicon2=a.customSocialIcon2),a.customSocialIcon3&&(r.customsocialicon3=a.customSocialIcon3),a.customSocialIcon4&&(r.customsocialicon4=a.customSocialIcon4),a.customSocialIcon5&&(r.customsocialicon5=a.customSocialIcon5),r&&(n.layouts=[r]),i.ad_types=i.ad_types||[],-1===i.ad_types.indexOf("native")&&i.ad_types.push("native"),i.native=n),U(t.keywords)||(a=Ut(t.keywords),i.keywords=a),t.forceCreativeId&&(r=Number(t.forceCreativeId),isNaN(r)?j("Force Creative must be a number"):(i.force_creative_id=r,L("Force Creative in use for targetId: "+t.targetId))),t.nobidIfUnsold&&(i.nobid_if_unsold=!0),t.trafficSourceCode&&(i.traffic_source_code=t.trafficSourceCode.toString()),t.customPubLog&&(O(t.customPubLog)?i.custom_pub_log=t.customPubLog:j("customPubLog must be a string")),n=i,e.utCalled=!0,e.tagNumber=c,c++,d.push(n))}),e.tags),r=d,i=t;if(Le(Ye(),bt)){var l=void 0,u=void 0,p=void 0,g=void 0,f=void 0,m=void 0;if(!U(St(It)))for(V=St(It).split(","),l=0;l<V.length;l++){var f=V[l].split(":"),h=Number(f[0]);if(isNaN(h)||void 0===r[h])j("Invalid ast_override value for index : "+h);else{for(var m=null,v=null,g=0;g<i.length;g++)g===h&&(v=i[g].uuid);for(p=0;p<r.length;p++)r[p].uuid===v&&kt(r[p],f[1],a)}}if(!U(St(wt)))for(V=St(wt).split(","),l=0;l<V.length;l++){f=V[l].split(":");for(var y=null,b=Object.keys(a),p=0;p<b.length;p++)f[0]===b[p]&&(y=a[b[p]].uuid);if(y)for(u=0;u<r.length;u++)r[u].uuid===y&&kt(r[u],f[1],a);else j("Invalid ast_override value for target div id : "+f[0])}if(!U(St(Et)))for(V=St(Et).split(","),l=0;l<V.length;l++){f=V[l].split(":");for(var w=!1,u=0;u<r.length;u++)(m=r[u]).id===Number(f[0])&&(kt(m,f[1],a),w=!0);w||j("Invalid ast_override value for tag id : "+f[0])}if(!U(St(_t)))for(V=St(_t).split(","),l=0;l<V.length;l++){f=V[l].split(":");var I=!1;for(u=0;u<r.length;u++)(m=r[u]).code===f[0]&&(kt(m,f[1],a),I=!0);I||j("Invalid ast_override value for invCode : "+f[0])}}var E,_,S,k,T,x,t={rd_ref:(t=xt()).referer,rd_top:t.reachedTop,rd_ifs:t.numIframes,rd_stk:t.stack.join(",")},A=(e.pageUrlOverride&&(A=!!(navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(ipad|iphone|ipod)/g)),_=!(!window.webkit||!window.webkit.messageHandlers),(A||_)&&(t.rd_can=e.pageUrlOverride)),n.referrer_detection=t,n.tags=d,n.uuid=Be(),n.member_id=o,n.sdk={source:"ast",version:"0.60.1"},null);function C(e,t,n,a){t&&(a?e.push({source:n,id:t,rti_partner:a}):e.push({source:n,id:t}))}U(e.keywords)?U(e.targetingParams)||(A=Ut(e.targetingParams),n.keywords=A):(A=Ut(e.keywords),n.keywords=A),U(e.user)||(n.user=(_=e.user,t={},U(_)||(_.externalUid&&O(_.externalUid)&&(t.external_uid=_.externalUid),N(_.segments)&&(S=[],W(_.segments,function(e){q(e)?S.push({id:e}):P(e)&&e.id&&q(e.id)&&e.value&&q(e.value)&&S.push(e)}),t.segments=S),A=B("user.age",_.age,Rt),t.age=A,A=B("user.gender",_.gender,Rt),t.gender=A,A=B("user.language",_.language,Dt),t.language=A,A=B("user.dnt",_.dnt,Mt),t.dnt=A,A=B("user.coppa",_.coppa,Mt),t.coppa=A),t),U(e.user.userIds))||(t=e.user.userIds,E=[],N(t)?W(t,function(e){if(P(e)&&O(e.type)&&(O(e.id)||N(e.eids)))switch(e.type.toLowerCase()){case"criteo":C(E,e.id,"criteo.com",null);break;case"ttd":C(E,e.id,"adserver.org","TDID");break;case"netid":C(E,e.id,"netid.de",null);break;case"liveramp":C(E,e.id,"liveramp.com",null);break;case"uid2":C(E,e.id,"uidapi.com","UID2");break;case"extendedids":W(e.eids,function(e){O(e.source)&&O(e.id)&&E.push({source:e.source,id:e.id})});break;default:E.push(e)}else F("Invalid userId object")}):F("Invalid userIds"),t=E,n.eids=t),U(e.content)||(t={},k=B("content.language",e.content.language,Dt),t.language=k,n.request_content=t),U(e.schainConfig)||(k=e.schainConfig,t=At.STRICT,(t=void 0!==k&&(P(k)||(j("Invalid schain object found:  the schain config will not be used as it is not an object."),0))?(t=O(k.validation)&&-1!==Ct.indexOf(k.validation)?k.validation:t)===At.OFF||function(e,t){var n=["complete","ver","ext","nodes"],a="Detected something wrong within the schain config:",r="";unction o(){(t===At.STRICT?j:F)(a+r)}if(P(e)||(i("schain.config  should be an object"),o(),t!==At.STRICT)){if(Object.keys(e).forEach(function(e){-1===n.indexOf(e)&&i("schain.config."+e+"  is not a valid schain property")}),q(e.complete)&&qe(e.complete)||i("schain.config.complete  should be an Integer"),O(e.ver)||i("schain.config.ver  should be a string"),!z(e,"ext")||P(e.ext)||i("schain.object.ext  should be an object"),N(e.nodes)){var s=["asi","sid","hp","rid","name","domain","ext"];e.nodes.forEach(function(e,t){P(e)?(Object.keys(e).forEach(function(e){-1===s.indexOf(e)&&i("schain.config.nodes["+t+"]."+e+"  is not a valid schain property")}),O(e.asi)||i("schain.config.nodes["+t+"].asi  should be a string"),O(e.sid)||i("schain.config.nodes["+t+"].sid  should be a string"),q(e.hp)&&qe(e.hp)||i("schain.config.nodes["+t+"].hp  should be an Integer"),z(e,"rid")&&!O(e.rid)&&i("schain.config.nodes["+t+"].rid  should be a string"),z(e,"name")&&!O(e.name)&&i("schain.config.nodes["+t+"].name  should be a string"),z(e,"domain")&&!O(e.domain)&&i("schain.config.nodes["+t+"].domain  should be a string"),!z(e,"ext")||P(e.ext)||i("schain.config.nodes["+t+"].ext  should be an object")):i("schain.config.nodes["+t+"]  should be an object")})}else if(i("schain.config.nodes  should be an Array"),o(),t===At.STRICT)return;return!(0<r.length&&(o(),t===At.STRICT))}}(k.config,t)?k.config:(j("Invalid schain object found:  due to 'strict' validation setting, the schain object will not be passed.  See the above error for details."),null):null)&&(n.schain=t)),U(e.device)||(n.device=(t={},x=e.device,U(x)||(U(x.useragent)||(t.useragent=x.useragent),U(x.geo)||(t.geo=x.geo),U(x.ip)||(t.ip=x.ip),U(x.deviceType)||(t.devicetype=x.deviceType),U(x.make)||(t.make=x.make),U(x.model)||(t.model=x.model),U(x.os)||(t.os=x.os),U(x.osVersion)||(t.os_version=x.osVersion),U(x.carrier)||(t.carrier=x.carrier),T=B("device.connectionType",x.connectionType,Rt),t.connectiontype=T,U(x.mcc)||(t.mcc=x.mcc),U(x.mnc)||(t.mnc=x.mnc),U(x.lmt)||(t.lmt=x.lmt),U(x.deviceId)||(t.device_id=x.deviceId),T=B("device.devTime",x.devTime,Rt),t.devtime=T),t)),U(e.app)||(n.app=(x={},T=e.app,U(T)||U(T.appid)||(x.appid=T.appid),x)),U(e.site)||(n.site=(t={},M=e.site,U(M)||U(M.id)||(t.id=M.id),t)),e.publisherId&&(n.publisher_id=e.publisherId),e.auctionTimeout&&(n.auction_timeout_ms=e.auctionTimeout),n.tags=d;var D,R,M=Xe(Pt)||apntag.dongle;return M&&!apntag.dongle&&(apntag.dongle=M),((Xe(Ot)||apntag.toolkit)&&M||!U(e.toolkit))&&(n.toolkit={enabled:!0,dongle:M||e.toolkit.dongle}),(t=Xe(qt))&&""!==t&&(apntag.debug_member=t),(e=Xe(Bt))&&""!==e&&(apntag.debug_bidder=e),(t="TRUE"===Xe(Nt).toUpperCase())&&""!==t&&(apntag.requests.test=t),apntag.debug&&!U(apntag.dongle)&&(e="",apntag.debug_member&&(e=apntag.debug_member),t=e,e=apntag.dongle,D=apntag.debug_bidder,R={},apntag.debug&&!U(e)&&(R.enabled=!0,t&&(R.member_id=Number(t)),e&&(R.dongle=String(e)),D&&(R.bidder_id=Number(D)),R.debug_timeout=1e3),t=R,n.debug=t),n}var Ft=function(e){var t=[],n={};if(N(e)&&2===e.length&&!N(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e&&null!==e)for(var a=0;a<e.length;a++){var r=e[a];(n={}).width=parseInt(r[0],10),n.height=parseInt(r[1],10),t.push(n)}return t},jt={};function Wt(e,t){n=e.uuid,a={},W(apntag.requests.tags,;var n,a,r=a;if(this.targetId=r.targetId,this.uuid=e.uuid,e.nobid)return this.nobid=!0,this.tagId=e.tag_id,this.auctionId=e.auction_id,this;e.ads&&e.ads.length,this.tagId=e.tag_id,this.auctionId=e.auction_id;var t=t||e.ads[0],i=this,e=(W({adType:t.ad_type,buyerMemberId:t.buyer_member_id,source:t.content_source,cpm:t.cpm,cpm_publisher_currency:t.cpm_publisher_currency,publisher_currency_code:t.publisher_currency_code,creativeId:t.creative_id,mediaSubtypeId:t.media_subtype_id,mediaTypeId:t.media_type_id,brandCategoryId:t.brand_category_id,dealId:t.deal_id,isExclusive:t.is_sov,isRoadblock:t.is_roadblock},function(e,t){i[t]=e}),void 0),o=void 0,s=(d=[],d=U((s=r).sizes)?d:Ft(s.sizes)),d=(N(s)&&s[0]&&(e=s[0].height,o=s[0].width),t.msft&&(this.msft=t.msft),t.content_source||"rtb");t[d]&&t[d].banner?(this.banner={width:t[d].banner.width,height:t[d].banner.height,content:t[d].banner.content,trackers:t[d].trackers},e=t[d].banner.height,o=t[d].banner.width):t.rtb&&t.rtb.video?(s=t.rtb.video,this.video={duration:s.duration_ms,playbackMethods:s.playback_methods,frameworks:s.frameworks,content:s.content,trackers:t.rtb.trackers}):t.rtb&&t.rtb[m.l.NATIVE]&&(d=t.rtb[m.l.NATIVE],this[m.l.NATIVE]={type:(s=d).type,title:s.title,body:s.desc,desc2:s.desc2,fullText:s.full_text,icon:s.icon,image:s.main_img,cta:s.ctatext,sponsoredBy:s.sponsored,impressionTrackers:s.impression_trackers,clickTrackers:s.link&&s.link.click_trackers,clickUrl:s.link&&s.link.url,clickFallbackUrl:s.link&&s.link.fallback_url,javascriptTrackers:s.javascript_trackers,video:s.video,privacyLink:s.privacy_link,rating:s.rating,displayUrl:s.displayurl,likes:s.likes,downloads:s.downloads,price:s.price,salePrice:s.saleprice,phone:s.phone,address:s.address,customTitle1:s.title1,customTitle2:s.title2,customTitle3:s.title3,customTitle4:s.title4,customTitle5:s.title5,customBody1:s.body1,customBody2:s.body2,customBody3:s.body3,customBody4:s.body4,customBody5:s.body5,customCta1:s.ctatext1,customCta2:s.ctatext2,customCta3:s.ctatext3,customCta4:s.ctatext4,customCta5:s.ctatext5,customDisplayUrl1:s.displayurl1,customDisplayUrl2:s.displayurl2,customDisplayUrl3:s.displayurl3,customDisplayUrl4:s.displayurl4,customDisplayUrl5:s.displayurl5,customSocialUrl1:s.socialurl1,customSocialUrl2:s.socialurl2,customSocialUrl3:s.socialurl3,customSocialUrl4:s.socialurl4,customSocialUrl5:s.socialurl5,customImage1:s.image1,customImage2:s.image2,customImage3:s.image3,customImage4:s.image4,customImage5:s.image5,customIcon1:s.icon1,customIcon2:s.icon2,customIcon3:s.icon3,customIcon4:s.icon4,customIcon5:s.icon5,customSocialIcon1:s.socialicon1,customSocialIcon2:s.socialicon2,customSocialIcon3:s.socialicon3,customSocialIcon4:s.socialicon4,customSocialIcon5:s.socialicon5},r.trackingManagement&&r.trackingManagement.native&&r.trackingManagement.native.loadViewScriptAt===m.c.NATIVE_VIEWABILITY.IMPRESSION||(S("Loading native viewability script during adResponse phase"),ot(t,this.targetId)),t.renderer_id&&(this.renderer_id=t.renderer_id),t.renderer_url&&(this.renderer_url=t.renderer_url)),this.height=e,this.width=o}function zt(e,t,n,a){return{code:a,errMessage:e||n.message,exception:n,targetId:t}}var f=function(e,t){if(!e||!e.uuid)return{};if(jt[e.uuid]&&!t)return jt[e.uuid];try{var n=new Wt(e,t);return t||(jt[e.uuid]=n),n}catch(e){j("adManager.getAdObj: Error trying to instantiate new adObj: "+e.message)}};Vt=void 0,Gt={};var Vt,Gt,y={getInstance:function(){return Vt=Vt||{add:getIframe:function(e){return z(Gt,e)?Gt[e]:null},getIframes:resetInstance:removeIframe:function(e){return z(Gt,e)?(delete Gt[e],Gt):null}}}},Ht=window.document,Jt="auto",G="scroll",Yt=window.Number,Xt=Yt&&Yt.MAX_VALUE,$t=-1*Xt,Kt="toLowerCase",Qt="toFixed",Zt="length",en="overflow",tn=window.String,nn=window.Math,H=Math.max,an=Math.min,rn=Math.round,on=window,n=window.navigator,e=n.userAgent||"",sn=!(!window.ActiveXObject&&"ActiveXObject"in window)&&on&&"ActiveXObject"in on,dn=((t={}).ie=t.opera=t.gecko=t.webkit=t.safari=t.chrome=t.air=t.ipod=t.ipad=t.iphone=t.android=t.webos=t.silk=t.nodejs=t.phantomjs=0,t.mobile=t.ios=t.caja=n&&n.cajaVersion,(n=e)&&(En(/KHTML/,n)&&(t.webkit=1),En(/IEMobile|XBLWP7/,n)&&(t.mobile="windows"),En(/Fennec/,n)&&(t.mobile="gecko"),(e=i(n,/AppleWebKit\/([^\s]*)/,1))&&(t.webkit=a(e),t.safari=t.webkit,En(/PhantomJS/,n)&&(e=i(n,/PhantomJS\/([^\s]*)/,1))&&(t.phantomjs=a(e)),En(/ Mobile\//,n)||En(/iPad|iPod|iPhone/,n)?(t.mobile="Apple",e=(e=i(n,/OS ([^\s]*)/,1))&&a(e.replace("_",".")),t.ios=e,(e=i(n,/iPad|iPod|iPhone/,t.ipad=t.ipod=t.iphone=0))&&(t[e[Kt]()]=t.ios)):((e=i(n,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0))&&(t.mobile=e),En(/webOS/,n)&&(t.mobile="WebOS",(e=i(n,/webOS\/([^\s]*);/,1))&&(t.webos=a(e))),En(/ Android/,n)&&(t.mobile="Android",(e=i(n,/Android ([^\s]*);/,1))&&(t.android=a(e))),En(/Silk/,n)&&(e=i(n,/Silk\/([^\s]*)\)/,1))&&(t.silk=a(e))),(e=n.match(/(Chrome|CrMo)\/([^\s]*)/))&&e[1]&&e[2]?(t.chrome=a(e[2]),t.safari=0,"CrMo"===e[1]&&(t.mobile="chrome")):(e=i(n,/AdobeAIR\/([^\s]*)/))&&(t.air=e[0])),t.webkit||((e=i(n,/Opera[\s\/]([^\s]*)/,1))?(t.opera=a(e),(e=i(n,/Opera Mini[^;]*/,0))&&(t.mobile=e)):(e=i(n,/MSIE\s([^;]*)/,1))?t.ie=a(e):(e=i(n,/Gecko\/([^\s]*)/))&&(e=i(n,/rv:([^\s\)]*)/,t.gecko=1))&&(t.gecko=a(e)))),t),cn=dn.ie||0,ln=dn.webkit||0,un=dn.gecko||0,pn=dn.opera||0,gn=0,fn={},mn="clientWidth",hn="clientHeight";function vn(e){var t,n,a,r,i,o,s,d,c,l,u,p,g={t:0,l:0,r:0,b:0,w:0,h:0,z:0},f="getBoundingClientRect",m=0,h=0,v=xn(e)||on.document,y=v.compatMode,v=v.documentMode||0;if(yn(e))try{if(i=Sn(e),t=An(e),n=Rn(e),g.l=e.offsetLeft||0,g.t=e.offsetTop||0,r=null,p=un||519<ln,(a=e)!==t&&e[f])sn&&(!v||0<v&&v<8||"BackCompat"===y)&&(s=t.clientLeft,d=t.clientTop),c=e[f](),g.t=c.top,g.l=c.left,(s||d)&&(g.l-=s,g.t-=d),(n.y||n.x)&&(!dn.ios||4.2<=dn.ios)&&(g.l+=n.x,g.t+=n.y);else{for(;(a=a.offsetParent)&&yn(a)&&r!==a;)s=a.offsetLeft,d=a.offsetTop,g.t+=d,g.l+=s,p&&(g=kn(a,g)),r=a;if("fixed"!=i.position){for(a=e,r=null;(a=a.parentNode)&&yn(a)&&r!==a&&a!=t;)l=a.scrollTop,u=a.scrollLeft,un&&"visible"!=(o=Sn(a))[en]&&(g=kn(a,g,o)),(l||u)&&(g.l-=u,g.t-=l),r=a;g.l+=n.x,g.t+=n.y}else g.l+=n.x,g.t+=n.y}m=e==t?(h=e[hn],e[mn]):(h=e.offsetHeight,e.offsetWidth),g.b=g.t+h,g.r=g.l+m,g.w=H(m,0),g.h=H(h,0),g.z=i.zIndex}catch(e){g={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return g}nction wn(e){return(e=In(e))&&-1==e.search(/\D+/g)||e&&-1!=e.search(/px/gi)}function In(e){var t=typeof e;return"string"==t?e:"number"!=t||e?"object"==t&&e&&e.join?e.join(""):!1===e?"false":!0===e?"true":e?tn(e):"":"0"}unction i(e,t,n){e=e&&e.match(t);return null==n?e:e&&e[n]||null}unction _n(e){var t,n=null;try{!e||(n=e.parentWindow||e.defaultView||null)||(n=(t=xn(e))&&(t.parentWindow||t.defaultView)||null)}catch(e){n=null}return n}function Sn(e){var t;if(_n(e).getComputedStyle)try{t=_n(e).getComputedStyle(e,null)}catch(e){t=null}else try{t=e.currentStyle}catch(e){t=null}return t}function kn(e,t,n){var a=0,r=0;return(n=n||Sn(e))&&(a=n.borderTopWidth,r=n.borderLeftWidth,a=wn(a)?J(a,0):0,r=wn(r)?J(r,0):0,un&&/^t(?:able|d|h|r|head|foot)$/i.test(Cn(e))&&(a=r=0)),(t=t||{t:0,l:0}).t+=a,t.l+=r,t}unction xn(e){var t=null;try{e&&(t=9==bn(e)?e:e.document||e.ownerDocument||null)}catch(e){t=null}return t}function An(e){var e=e&&xn(e)||Ht,t=e.compatMode,n=e.documentElement;return n=t&&!pn&&"CSS1Compat"!=t?e.body:n}function J(e,t,n,a){if("number"!=typeof e)try{e=e?parseFloat(e):Yt.NaN}catch(t){e=Yt.NaN}return null==a&&(a=Xt),null==n&&(n=$t),(isNaN(e)||e<n||a<e)&&null!=t?t:e}unction Dn(e,t,n){try{2<arguments[Zt]?null===n?e.removeAttribute(t):(n=In(n),"class"==t[Kt]()?e.className=n:e.setAttribute(t,n)):n=In(e.getAttribute(t))}catch(e){n=""}return n}function Rn(e){var t={x:0,y:0,w:0,h:0},n={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},a=0,r=0,i=(e=xn(e)||Ht).documentElement||n,n=e.body||n;return(e=e.defaultView)&&(a=J(e.pageXOffset,0),r=J(e.pageYOffset,0)),t.x=H(i.scrollLeft,n.scrollLeft,a),t.y=H(i.scrollTop,n.scrollTop,r),t.w=H(i.scrollWidth,n.scrollWidth,0),t.h=H(i.scrollHeight,n.scrollHeight,0),t}function Mn(e,t,q){var n,a,r,i,o,s,d,c,l,u,B,p,g,U,f,m,h,v,y,b,w,I,E,_,S,k,T,x,A,L,F,C=e&&Tn(e),j=An(e),D=vn(e),R=vn(j),W=Rn(j),M=(M=An(e),O=P=0,M&&(P=M.scrollWidth||0,O=M.scrollHeight||0),{t:0,l:0,b:O,r:P,w:P,h:O}),P={t:0,l:0,r:0,b:0,w:0,h:0},O={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},z=[],N={left:null,right:null,top:null,bottom:null};if(t=t&&"object"==typeof t?t:{},C)for(n=R.t,a=R.l,r=R.r,i=R.b;(b=Sn(C))&&("block"!=b.display&&"absolute"!=b.position&&"none"==b.float&&"none"==b.clear||(F=C==j,d=(A=vn(C)).t,c=A.l,l=A.r,u=A.b,h=b[en+"X"],v=b[en+"Y"],y=b[en],b=F?[-1,-1,-1,-1]:function(e){var t,n,a,r,i=[-1,-1,-1,-1],o=["clipTop","clipRight","clipBottom","clipLeft"],s=0;if(e)if(cn)for(;n=o[s];)wn(t=e[n])&&0<=(t=J(t,-1))&&(i[s]=t),s++;else if((t=e.clip)&&-1!=t.search(/\d+/g))for(r=(i=(i=(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1")).split(" "))[Zt]<=1?i.split(","):i)[Zt],s=0;r--;)wn(a=i[s])?i[s]=J(a,-1):i[s]=-1,s++;return i}(b),L=!1,U=F?(B=W.w,W.h):(B=C.scrollWidth,C.scrollHeight),p=C.offsetWidth,f=C.offsetHeight,g=C[mn],m=C[hn],!s&&g<p&&(s=p-g),!o&&m<f&&(o=f-m),F?(g<B&&((c=0)>a&&(a=c),(l=(on.innerWidth||p)+W.x)<r&&(r=l)),m<U&&((d=0)>n&&(n=d),(u=(on.innerHeight||f)+W.y)<i&&(i=u))):(s&&l-c==p&&(l-=s),o&&u-d==f&&(u-=o),"hidden"!=h&&h!=G&&h!=Jt&&"hidden"!=y&&y!=G&&y!=Jt||(a<c&&(a=c,N.left=C),l<r&&(r=l,N.right=C),(h==G||y==G||(h==Jt||y==Jt)&&g<B)&&(z.push(C),L=!0)),0<b[3]&&(E=c+b[3])>a&&(a=E,N.left=C),0<b[1]&&(_=l+b[1])<r&&(r=_,N.right=C),"hidden"!=v&&v!=G&&v!=Jt&&"hidden"!=y&&y!=G&&y!=Jt||(n<d&&(n=d,N.top=C),u<i&&(i=u,N.bottom=C),L||(v==G||y==G||(v==Jt||y==Jt)&&m<U)&&(z.push(C),L=!0)),0<b[0]&&(w=d+b[0])>n&&(n=w,N.top=C),0<b[2]&&(I=A.t+b[2])<i&&(i=I,N.bottom=C))),C!=j)&&(C=Tn(C))&&Cn(C););(P={t:H(n,0),l:H(a,0),r:H(r,0),b:H(i,0)}).w=H(P.r-P.l,0),P.h=H(P.b-P.t,0),c=D.l,l=D.r,d=D.t,k=l-c,T=(u=D.b)-d,E=P.l,_=P.r,w=P.t,I=P.b,S=(S=(S=an(u,I)-H(d,w))<0?0:S)>T?T:S,x=(x=(x=an(l,_)-H(c,E))<0?0:x)>k?k:x,O.t=!(w<d)||I<=d?0:H(d-w,0),O.b=!(u<I)||u<=w?0:H(I-u,0),O.l=!(E<c)||_<=c||I<=d||u<=w?0:H(c-E,0),O.r=!(l<_)||l<=E||I<=d?0:H(_-l,0),O.w=H(O.r-O.l,0),O.h=H(O.b-O.t,0),O.xiv=0<k?J((x/k)[Qt](2)):0,O.yiv=0<T?J((S/T)[Qt](2)):0,O.iv=0<k||0<T?J((x*S/(k*T))[Qt](2)):0,O.civ=0,q&&.49<O.iv&&(S=(x=function(e){var t,n,a,r,i,o,s,d,c,l,u,p,g,f,m,h=vn(e),v=xn(e),y=An(v),b=h.t,w=h.l,I=[],E=0;if(I.on=0,t=h.w,n=h.h,i=a=rn(t/10),o=r=rn(n/10),!(t<=1||n<=1||a<1||r<1)&&(m=(h=Rn()).y,f=h.x,p=w+t,g=b+n,v&&y&&v.elementFromPoint)){for(;i<t;){for(o=r;o<n;)d=b+o,(s=w+i)<=p&&d<=g&&I.push({x:s,y:d,on:0}),o+=r;i+=a}for(;c=I[E++];)s=H(c.x-f,0),s=an(s,c.x),d=H(c.y-m,0),d=an(d,c.y),0!=s?0!=d?(u=v.elementFromPoint(s,d))&&u!==y&&u!==e&&!function(e,t){var n=!1,a=e&&e.nodeType||-1,r=t&&t.nodeType||-1;if(1==a&&-1!=r)if(e.contains)if(pn||1==r)n=e.contains(t);else for(;t;){if(e===t){n=!0;break}t=t.parentNode}else e.compareDocumentPosition&&(n=e===t||!!(16&e.compareDocumentPosition(t)));return n}(u,e)&&((l=Dn(u,"id"))||Dn(u,"id",l=In(["geom_inter","_",(new Date).getTime(),"_",nn.round(100*nn.random()),"_",gn++])),c.on=l,I.on++):(c.on="!y-offscreen",I.on++):(c.on="!x-offscreen",I.on++)}return I}(e))[Zt],(k=J(x.on,0))&&(T=1-J((k/S)[Qt](2),0),O.civ=O.iv=T)),t.rect=D,t.clipRect=P,t.docRect=M,z[Zt]?(t.isRoot=!1,t.canScroll=!0,O.xs=!!o,O.ys=!!s):R.b>=P.b||R.r>=P.r?(t.isRoot=!0,O.xs=!!(M.w>R.w&&o),O.ys=!!(M.h>R.h&&s),t.canScroll=M.w>R.w||M.h>R.h):O.ys=O.xs=t.isRoot=t.canScroll=!1,t.scrollNodes=z,t.clipNodes=N,t.expRect=O}function Pn(o,e,t){var n,a,r,i,s,d,c,l={},u={};if(Mn(e,u,!0),!t&&!u.isRoot&&u.canScroll&&((a=u.expRect).xs||a.ys)){On(o),fn[o]=n=[];for(var p=0;p<u.scrollNodes.length;p++){var g=u.scrollNodes[p],f={};f.node=g,f.onscroll=function(e){var t=o,n=g,a=fn[t];if(a)for(var r=0;r<a.length;r++){var i=a[r];if(i.node===n){i.tID&&(clearTimeout(i.tID),delete i.tID),i.tID=setTimeout(function(){var e=y.getInstance().getIframe(t);e&&pa(e.iframe,t,Pn(t,e.iframe,!0))},oa);break}}},h(g,G,f.onscroll),n.push(f)}}return l.win=(t=(e=on).innerHeight||0,r=e.innerWidth||0,s=t+(i=e.screenY||e.screenTop||0),d=r+(e=e.screenX||e.screenLeft||0),c=An(c),t||r||!c||(t=c.clientHeight||0,d=e+(r=c.clientWidth||0),s=i+t),{t:i,l:e,b:s,r:d,w:r,h:t}),l.par=u.clipRect,a=u.expRect,(c=u.rect).iv=a.iv,c.xiv=a.xiv,c.yiv=a.yiv,delete a.iv,delete a.xiv,delete a.yiv,l.exp=a,l.self=c,l}function On(e){var t,n=fn[e];if(n)for(;t=n.pop();)t.tID&&clearTimeout(t.tID),Oe(t.node,G,t.onscroll),t.node=t.onscroll=null,fn[e]=null;delete fn[e]}var Nn=v();function qn(e){ue({strategy:"WithAttributes",data:{id:"itunes-launch-store",src:e.detail.url}})}function Bn(e){$n=e}function Un(e){Qn=e}function Ln(e){e?(Xn=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Kn=Le(e,"http")||Le(e,"https")?e:"https://"+e,L("Setting endpoint to: "+Kn)):j("Cannot set an empty endpoint")}unction jn(e,t){var n=t,a=void 0,t=void 0;function r(e){var t=b?"tcString":"consentData",t=(b&&e&&e.gdprApplies&&(e.purpose&&e.purpose.consents&&!e.purpose.consents[1]?Fn(!0):e.purpose&&e.purpose.consents&&!0===e.purpose.consents[1]&&Fn(!1)),{consent_string:e?e[t]:void 0,consent_required:e?e.gdprApplies:void 0});e&&e.addtlConsent&&"string"==typeof e.addtlConsent&&-1!==e.addtlConsent.indexOf("~")&&(e=e.addtlConsent.substring(e.addtlConsent.indexOf("~")+1),t.addtl_consent=Fe(e.split("."),),ta.gdpr_consent=t}function i(e){clearTimeout(a),r(ea),k(o(e))}function o(e){e&&F(e+" Resuming request without consent information."),n()}if((ta=e).consentManagement&&(ta.consentManagement.disabled||ta.consentManagement.tcf&&ta.consentManagement.tcf.disabled))return S("TCF Consent module was disabled."),k(o());if(e=1e4,ta.consentManagement&&q(ta.consentManagement.timeout)&&(e=ta.consentManagement.timeout),ea)return r(ea),k(o());function s(e,t){b?!t||"object"!=typeof e||null===e||!0===e.gdprApplies&&"string"!=typeof e.tcString?i("TCF CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):"useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus?(clearTimeout(a),r(ea=e),k(o())):"cmpuishown"===e.eventStatus&&((ea=e).tcString&&e.purposeOneTreatment&&(clearTimeout(a),r(ea),k(o()))):"object"!=typeof e||null===e||"string"!=typeof e.consentData||""===e.consentData?i("CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):(clearTimeout(a),r(ea=e),k(o()))}var d,c,a=setTimeout(e),e=i,l={};try{(t=window.__tcfapi||window.top.__tcfapi)||(t=window.__cmp||window.top.__cmp)&&(b=!1)}catch(s){}if(_(t))t(b?"addEventListener":"getConsentData",null,s);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)b=!1,t=Object.keys(ta.tags),t=Ft(ta.tags[t[0]].sizes),window.$sf.ext.register(t[0].width,t[0].height,function(e,t){"cmpReturn"===e&&s(t.vendorConsentData)}),window.$sf.ext.cmp("getConsentData");else{for(var u=window,p=void 0;!p;){try{(u.frames.__tcfapiLocator||u.frames.__cmpLocator)&&(p=u),u.frames.__cmpLocator&&(b=!1)}catch(s){}if(u===window.top)break;u=u.parent}if(!p)return e("TCF CMP not found.");d=p,c=b?"__tcfapi":"__cmp",window[c]=function(e,t,n){var a,r=""+Math.random(),t=(e={command:e,parameter:t,callId:r},(t=c+"Call")in(a={})?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a);l[r]=n,d.postMessage(t,"*")},h(window,"message",g,!1),b?window.__tcfapi("addEventListener",null,f):window.__cmp("getConsentData",null,f)}function g(e){var t=b?"__tcfapiReturn":"__cmpReturn",e="string"==typeof e.data&&e.data.includes(t)?JSON.parse(e.data):e.data;e[t]&&(e=e[t],l[e.callId](e.returnValue,e.success),b||delete l[e.callId])}function f(e,t){b||Oe(window,"message",g,!1),s(e,t)}}function Wn(i){L("Expand iframe started by host");var e,t,n,a=!1,r=!1,o=0,s=0,d=0,c=0,l=v().document.getElementById(m.n.UT_DIV+i.targetId),u=y.getInstance().getIframe(i.targetId),p=u.iframe.style,g=((l=(l=l||u.iframe.parentNode).style).display="",parseInt(l.width,10)),f=parseInt(l.height,10);isNaN(g)&&(g=0),isNaN(f)&&(f=0),i.bounds.multiDir?(d=g+(t=B("data.bounds.left",i.bounds.left,na))+B("data.bounds.right",i.bounds.right,na),c=f+(e=B("data.bounds.top",i.bounds.top,na))+B("data.bounds.bottom",i.bounds.bottom,na),e?(s=-1*e,r=!0):s=0,t?(o=-1*t,a=!0):o=0):(d=(a=(o=i.bounds.x)<0)?g+-1*o:g+o,c=(r=(s=i.bounds.y)<0)?f+-1*s:f+s),d<=g&&c<=f||(p.width=d+"px",p.height=c+"px",a&&(p.left=o+"px"),r&&(p.top=s+"px"),p.zIndex=m.p.DEFAULT_ZINDEX,p.position="relative",l.position="relative",i.bounds.push?(l.width=d+"px",l.height=c+"px"):(l.width=g+"px",l.height=f+"px"),e=function(){var e,t,n,a,r;e=m.p.STATUS.NOTIFY_EXPANDED,t=i,a=(n=u).iframe.contentWindow,(r={}).targetId=t.targetId,r.status=e,r.geom=sa(t.targetId,n.iframe),ba(a,JSON.stringify(r),rt())},i.ext&&"number"==typeof i.ext.tweenTime?(t=u.iframe,a=c,n=e,(o=t.style).transition="height "+i.ext.tweenTime+"ms ease",o.height=a,o["overflow-y"]="hidden",h(t,"transitionend",):e())}var zn=[],Vn={},Gn={},Hn=[],o={},Jn=k(function(){h(Nn,"focus",da),h(Nn,"blur",ca),h(Nn,"resize",ga),h(Nn,"scroll",ga),h(Nn,"pagehide",function(){try{Oe(Nn,"focus",da),Oe(Nn,"blur",ca),Oe(Nn,"resize",ga),Oe(Nn,"scroll",ga),fa()}catch(e){}})}),c=v(),Yn=!1,Xn=!1,$n={},Kn=void 0,Qn={},Zn=function(){return $n},ea=void 0,ta=void 0,b=!0,na=m.r.NUM,aa=0,ra=0,ia=0,oa=500,sa=function(e,t){e=Pn(e,t);return e.anx=function(){try{if(void 0!==window.top.location.href){for(var e=window,t=0,n=0;t+=e.pageYOffset||e.document.documentElement.scrollTop||e.document.body.scrollTop,n+=e.pageXOffset||e.document.documentElement.scrollLeft||e.document.body.scrollLeft,(e=e.parent).parent!==window.top;);return{scrollTop:t,scrollLeft:n}}}catch(e){}return{scrollTop:0,scrollLeft:0}}(),e},da=function(){la(!0)},ca=function la(t){ua(),ra=window.setTimeout(function(){var a=t,e=y.getInstance().getIframes();W(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&(n=e.iframe.contentWindow,(e={}).targetId=t,e.value=a,e.status=m.p.STATUS.FOCUS_CHANGE,ba(n,JSON.stringify(e),rt()))}),ua()},2)}ar pa=function(e,t,n){var e=e.contentWindow,a={};a.targetId=t,a.geom=n,a.status=m.p.STATUS.GEOM_UPDATE,ba(e,JSON.stringify(a),rt())},ga=function(){aa=aa||window.setTimeout(ma,oa)},fa=function(){var e=y.getInstance().getIframes();W(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&(clearInterval(ia),ia=0,On(t))})};function ma(){var e=y.getInstance().getIframes();W(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&(n=e.iframe,pa(n,t,sa(t,n)))}),aa&&(clearTimeout(aa),aa=0)}var ha,va,ya,ba=function(e,t,n){"string"!=typeof t&&(t=JSON.stringify(t)),e?e.postMessage(t,n):L("Safeframe not yet rendered")},wa=(ha={},va=[],ya="",{invokeNotify:function(t,n,a){va.push(Ta(t,n,a)),W(ha,function(e){e.addNotifyMessage(Ta(t,n,a)),"loading"!==e.status&&ka(e)})},loadRenderer:function(e,t){var n=t.renderer_id;if(e.enableSafeFrame&&(!window.$sf||!window.$sf.ext))return n=t.renderer_id+"_"+e.targetId,void(ha[n]=Aa(t.renderer_url,n,e));var a,r=ha[n];r?(a=ha[n],"loaded"===r.status?(Da(e),_a(a,e,Sa),e.displayed=!0):r.addTag(e)):(Ge(window,t.renderer_url),ha[n]=Aa(t.renderer_url,n,e))},setRendererStatus:function(e,t){e=ha[e];e&&(e.status=t,ka(e))},registerRenderer:function(e,t,n){var a;ya=n,t=_(n=t)?{renderAd:n,notify:function(){}}:P(n)&&_(n.renderAd)?{renderAd:n.renderAd,notify:n.notify}:void 0,e&&ha[e]&&P(t)?((a=ha[e]).renderFn=t.renderAd,a.notifyFn=t.notify,a.status="loaded",window.currentTag&&window.currentTag.enableSafeFrame&&(n={name:"updateRenderStatus",targetId:window.currentTag.targetId,rId:e,status:"loaded"},ba(window.parent,n,ya)),ka(a),W(a.getTags(),function(e){e.displayed||(Da(e),_a(a.renderFn,e,,e.displayed=!0)})):j("ast.js","registerRenderer must be called with (id, cbFn)")},clearState:),Ia=m.a.NOTIFY,Ea=m.a.CREATIVE_ID;function _a(e,t,n){_(e)?e.call(apntag,t,n):P(e)&&(_(e.renderFn)?e.renderFn.call(apntag,t,n):j("Error invoking rendererObj.renderAd(). renderAd must be a function"))}function Sa(e,t,n){n&&n.isSafeFrame?(n=e,ba(window.parent,{name:"emitEvent",cmd:[n,t]},ya),apntag.mockSfListner&&apntag.mockSfListner.handler&&(apntag.mockSfListner.handler(apntag.mockSfListner.adObj),ba(window.parent,{name:"resizeAd",targetId:n,cmd:["auto","auto"]},ya))):apntag.emitEvent(e,t)}function ka(t){_(t.notifyFn)&&W(t.getNotifyMessages(),function(e){e.sent||(e.sent=!0,t.notifyFn(e.messageType,e.messagePayload,e.targetId))})}function Ta(e,t,n){return{messageType:e,messagePayload:t,targetId:n,sent:!1}}function xa(e,t,n){var a=[],r=[];this.getTags=function(){return a},this.addTag=function(e){a.push(e)},this.addNotifyMessage=function(e){r.push(e)},this.getNotifyMessages=function(){return r},this.url=e,this.id=t,this.status="loading",this.renderFn=this.notifyFn=Ca,this.isSafeFrame=n.enableSafeFrame||!1,this.addTag(n)}function Aa(e,t,n){var a,e=new xa(e,t,n);return a=e,W(va,,e}function Ca(e,t,n){var a;e=e,t=t,n=n=n||this.getTags()[0].targetId,a=y.getInstance().getIframe(n).iframe.contentWindow,ba(a,{messageType:e,messagePayload:t,status:"notify",targetId:n},rt())}function Da(e){e&&e.isMediated||(e=vt(e),He(window.document.body,e[Ia],e[Ea]))}function Ra(e){if(i=e.sizeMapping,!(N(i)&&0<i.length||(S("No size mapping defined"),0)))return e.sizes;t=(i=Ma||v()).document;var t,n=i.innerWidth||t.body.clientWidth||t.documentElement.clientWidth||0,a=void 0;if(!n){for(var a=e.sizeMapping[0],r=0;r<e.sizeMapping.length;r++)parseInt(e.sizeMapping[r].minWidth,10)>parseInt(a.minWidth,10)&&(a=e.sizeMapping[r]);return a.sizes||e.sizes}for(var i="",o=e.sizeMapping.slice().sort(,s=0;s<o.length;s++)n>=o[s].minWidth&&(a=o[s]);return a&&a.sizes?(i=a.sizes,L("tag : "+e.targetId+" resized based on device width to : "+i)):L("tag : "+e.targetId+" not mapped to any sizes for device width. This request will be suppressed."),i}var Ma=void 0,Pa=m.m.UNDEFINED,Oa=m.c.NATIVE_VIEWABILITY.AD_RESPONSE;function Na(e,t){var n=!1;if(2===arguments.length?(a=c.apntag.requests.tags[t],(e.sizes&&a.sizeMapping||e.sizeMapping&&!a.sizeMapping)&&(n=!0)):(t=e.targetId,e.sizes&&e.sizeMapping&&(n=!0)),n)return j("sizes and sizeMapping both cannot be defined for targetId: "+t),0;if(e.sizeMapping){var a=Ra(e);if(""===a)return;e.sizes=a}return 1}function qa(e){S("Invoking apntag.defineTag",arguments);var t=function(e){if(e.rid&&(apntag.requests.keywords.rid=e.rid),e.provider_id&&(apntag.requests.keywords.provider_id=e.provider_id),e.debug&&(apntag.debug=e.debug),e.astToolkit&&e.astDongle&&(apntag.requests.toolkit={enabled:!0,dongle:e.astDongle}),e.size)j("Size is deprecated, please use sizes instead.");else if(e.member?e.member=Number(e.member):e.member=apntag.requests.member,e.member||(e.member="none"),e.tagId||e.invCode&&e.member)if(e.sizeMapping&&!Na(e))j("tag not mapped to any sizes for device width: "+e.targetId);else try{var t=e.targetId,n=(r=t,i=(a=e).member,apntag.requests=apntag.requests||{},apntag.requests.tags=apntag.requests.tags||{},apntag.requests.utCalled=apntag.requests.utCalled||!1,apntag.requests.hasLeft=apntag.requests.hasLeft||!1,apntag.requests.cbCalled=apntag.requests.cbCalled||!1,apntag.requests.enableSafeFrame&&(a.enableSafeFrame=!0),a.safeframe=Ke(o)||{},z(a,"safeframeConfig")&&(z(a.safeframeConfig,"allowExpansionByPush")&&(a.safeframe.expansionByPush=a.safeframeConfig.allowExpansionByPush),z(a.safeframeConfig,"allowExpansionByOverlay")&&(a.safeframe.expansionByOverlay=a.safeframeConfig.allowExpansionByOverlay),z(a.safeframeConfig,"sandbox")&&(a.safeframe.sandbox=a.safeframeConfig.sandbox),z(a.safeframeConfig,"meta")&&(a.safeframe.meta=a.safeframeConfig.meta)),apntag.requests.tags[r]=a,apntag.requests.tags[r].utCalled=apntag.requests.tags[r].utCalled||!1,apntag.requests.tags[r].showTagCalled=apntag.requests.tags[r].showTagCalled||!1,apntag.requests.tags[r].displayed=apntag.requests.tags[r].displayed||!1,apntag.requests.tags[r].initialHeight=1,apntag.requests.tags[r].initialWidth=1,apntag.requests.tags[r].on=apntag.onEvent||void 0,apntag.requests.tags[r].off=apntag.offEvent||void 0,apntag.requests.tags[r].setSizes=apntag.setSizes||void 0,apntag.requests.tags[r].modifyTag=apntag.modifyTag||void 0,apntag.requests.tags[r].trackingManagement=apntag.requests.trackingManagement||{native:{loadViewScriptAt:Oa}},apntag.requests.tags[r].renderingManagement||(apntag.requests.tags[r].renderingManagement={}),["insertWrapperDiv","sandboxAdIframe","sandboxAttributes"].forEach(function(e){a.renderingManagement&&z(a.renderingManagement,e)?apntag.requests.tags[r].renderingManagement[e]=a.renderingManagement[e]:apntag.requests.renderingManagement&&z(apntag.requests.renderingManagement,e)&&(apntag.requests.tags[r].renderingManagement[e]=apntag.requests.renderingManagement[e])}),apntag.requests.tags[r].refresh=apntag.requests.tags[r].setKeywords=Vn[i]=typeof Vn[i]===Pa?[]:Vn[i],Vn[i].push(a.targetId),apntag.requests.tags[r]);return L("defineTag called for: "+t),apntag.requests&&!0===apntag.requests.utCalled&&!apntag.requests.tags[t].utCalled&&L("A placement was loaded after ut call was started. These ad calls will not be coordinated"),n}catch(e){j("buildAdTagContainer: "+e.message)}else j("tagId or (invCode & memberId) should be defined for targetId: "+e.targetId);var a,r,i}(e);if(t){if(Hn.push(t),Gn[t.targetId])return Gn[t.targetId];var n={targetId:t.targetId,on:t.on,off:t.off,modifyTag:t.modifyTag,setKeywords:t.setKeywords};return Gn[t.targetId]=n}j("No ad will be requested for targetId: "+e.targetId)}function Ba(){var e=document.createElement("iframe");return e.id="appnexus-debug-console-loader",e.height="100%",e.width="100%",e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.frameBorder="0",e}unction La(t){try{return Object.keys(apntag.requests.tags).filter([0]}catch(t){return""}}var Fa='<span style="color: #ccc">nobid</span>';function ja(e,t){if(e.nobid)return Fa;e=e.ads&&e.ads[0][t];return e||0===e?e:""}var Wa=function(){var e=navigator.userAgent.toLowerCase();return(/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[])[1]},za=m.b.BANNER,Va=m.b.NATIVE,Ga=m.s.AD_TYPE,Ha=m.b.VIDEO,Ja=m.s.BANNER,Ya=m.s.CONTENT,Xa=m.a.CREATIVE_ID,$a=m.i,Ka=m.a.IMP_URLS,Qa=m.a.NOAD,Za=m.m.OBJECT,er=m.e.RTB,tr=m.a.TRACKERS,nr=m.m.UNDEFINED,ar=function(e,t,n,a){var r=void 0,i=e.adResponse;(l=e).adResponse&&l.adResponse.ads&&((c=$e(l.adResponse.ads)).banner&&(s=(o=l.initCollapsed)&&o.expandBy&&0<=it($a).indexOf(o.expandBy),o&&!s&&F("TagID "+l.tagId+" initCollapsed is set but expandBy is not recognized, initial size will not be collapsed"),l.initialHeight=s?0:c.banner.height,l.initialWidth=s?0:c.banner.width));var o=vt(e);if(typeof o===nr||null===o||typeof o.error!==nr)He(window.document.body,i[Qa],i.uuid);else if(i&&e.showTagCalled){if(!function(e,t){if(t.renderer_url&&t.renderer_id){if(e.usesRenderer=!0,2===t.renderer_id&&e.enableSafeFrame&&(e.safeframe.expansionByPush=!0,e.customIframeProps={style:"overflow:hidden",allow:"autoplay"}),"native"===t.ad_type&&e.trackingManagement&&e.trackingManagement.native&&e.trackingManagement.native.loadViewScriptAt===m.c.NATIVE_VIEWABILITY.IMPRESSION&&(S("Loading native viewability script during native render sequence"),ot(t,e.targetId)),!e.enableSafeFrame)return function(e,t){var n=yt(t);if(typeof n===nr)return j("No Content Source Found"),e.displayed=!1;t[t.ad_type]=n;n=e;n.isMediated||n.isRtbVideoFallback||(n.adResponse.ad=n.adResponse.ads[0]),wa.loadRenderer(e,t)}(e,t),1;wa.loadRenderer(e,t)}}(e,o)){if(o[Ga]===Va&&!e.usesRenderer)return L("Render for the following ad should be handled outside of ast.js :"+e.targetId),e.displayed=!0,l=f(e.adResponse),g.emit(m.h.LOADED,e.targetId,l),Ve("The "+e.targetId+" ad is loaded."),e.targetId;if(o[Ga]===Ha&&!e.usesRenderer)return F("Response has no renderer for video"),e.displayed=!1,e.targetId;if(o[Ga]===za||e.usesRenderer){if(o.content_source===er&&!e.usesRenderer){var s=o[er][Ja];if(U(s)||typeof s!==Za)return j("Response has no banner object"),e.displayed=!1,e.targetId;if(!z(s,Ya))return j("Response has no banner content"),e.displayed=!1,e.targetId;if(!z(s,"width"))return j("Response has no banner width"),e.displayed=!1,e.targetId;if(!z(s,"height"))return j("Response has no banner height"),e.displayed=!1,e.targetId}var d,c=void 0,i=(z(n,e.targetId)&&(c=n[e.targetId]),void 0),l=((e.alwaysUseXDomainIframe||e.enableSafeFrame)&&(a(),l=(i=e.wcElement||window.document.getElementById(e.targetId)).style.height,a=i.style.width,i.style.height=e.initialHeight,i.style.width=e.initialWidth,i.style.height=l,i.style.width=a),Ke(t)),l=(z(e.safeframe,"expansionByPush")&&(l.expansionByPush=e.safeframe.expansionByPush),z(e.safeframe,"expansionByOverlay")&&(l.expansionByOverlay=e.safeframe.expansionByOverlay),z(e.safeframe,"sandbox")&&(l.sandbox=e.safeframe.sandbox),z(e.safeframe,"meta")&&(l.meta=e.safeframe.meta),e.safeframe=l,r=function(e){var t=void 0,n=at(e),a=e.curWindow||window,r=e.wcElement;try{t=r&&r.querySelector("#"+n)?r.querySelector("#"+n):a.document.getElementById(n)?a.document.getElementById(n):a.document.createElement("div")}catch(t){return j("Error creating Ad Div: ",t),void(e.displayed=!1)}return t.style.display="none",t.id=n,t}(e),(e.alwaysUseXDomainIframe||e.enableSafeFrame)&&(r.style.height=e.initialHeight+"px",r.style.width=e.initialWidth+"px",r.style.display="block",i.appendChild(r),e.geom=function(e,t){L("Geom starting");e=sa(e,t);return 0===ia&&(ia=setInterval(ga,1e3)),e}(e.targetId,r)),a=he(e,o),y.getInstance()),i={},u=a;if(e.renderingManagement&&e.renderingManagement.insertWrapperDiv&&((d=document.createElement("div")).append(a),u=d,S("renderingManagement.insertWrapperDiv was enabled, creating extra div element around iframe container")),i.iframe=a,i.originalWidth=e.initialWidth,i.originalHeight=e.initialHeight,l.add(e.targetId,i),n[e.targetId]=a,typeof c!==nr&&window.document.getElementById(c.id)?r.replaceChild(u,c):r.appendChild(u),e.displayed=!0,window.document.body)try{!function(e,t,n){var a=Wa(),r=e.curWindow||window,r=e.wcElement||r.document.getElementById(e.targetId);if(r){e.alwaysUseXDomainIframe||e.enableSafeFrame||(r.appendChild(t),t.style.display="inline"),e.utDivId=t.id,e.utiframeId=n.id,(a===m.d.IE||a===m.d.OPERA?function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=me+m.j.SAFE_FRAME_URL;else{var n=be(t);try{e.contentWindow.contents=n}catch(t){e.src="javascript:document.write('<script>document.domain=\""+document.domain+"\"<\/script>')",e.contentWindow.contents=n}var n=document.getElementsByTagName("base"),a=void 0;n.length&&(a=n.target,n[0].target="_self"),e.src='javascript:window["contents"];',n.length&&(n[0].target=a)}}:ve)(n,e);t=e.adResponse.ads?e.adResponse.ads[0]:e.adResponse.ad;if(void 0===t)return F("No ad found in response, nothing to display."),e.displayed=!1;if(!e.isMediated&&!e.usesRenderer||e.adResponse.ad&&"rtb"===e.adResponse.ad.content_source){{var i=t;var o=n;for(var s=i[er][tr][0][Ka],d=0;d<s.length;d++)He(o.parentElement,s[d],i[Xa])}L("Win notification sent for ad tag: "+e.targetId)}a=yt(t),n=Number(r.style.width.replace(/[^\d\.\-]/g,"")),t=(!isNaN(n)&&n>a.width&&("center"===e.promoAlignment?r.setAttribute("align","center"):r.setAttribute("align","left")),L("The "+e.targetId+" ad is loaded."),Ve("The "+e.targetId+" ad is loaded."),f(e.adResponse));e.usesRenderer||apntag.requests.enableMediationEvents&&e.isMediated||g.emit(m.h.LOADED,e.targetId,t)}else F("No div element found for display ad. This ad will not show. Div id: "+e.targetId),e.displayed=!1}(e,r,a)}catch(t){j("Error rendering ad: ",t),e.displayed=!1}else j("Error rendering ad: window.document.body is undefined"),e.displayed=!1}else j("Error rendering ad: unknown type"),e.displayed=!1}return e.targetId}},rr=m.b.NATIVE,ir=m.b.BANNER,or=m.b.VIDEO,sr=m.m.UNDEFINED,dr=m.j.USERSYNC_URL;function cr(e,n,a){L("renderAd is called"),W(apntag.requests.tags,function(e){if(e.uuid===n){e.adResponse=a;try{a.ad&&a.ad.ad_type===ir&&(t=a.ad.content_source,e.ad={mediatedContent:a.ad[t].banner.content},e.initialHeight=a.ad[t].banner.height,e.initialWidth=a.ad[t].banner.width)}catch(e){j("Error while setting mediated content for banner in renderAd"+e)}var t=ar(e,o,Zn(),Jn);zn.push(t)}})}function lr(e,t,n,a){var r=void 0;e.uuid===t.uuid&&(!0===t.nobid?(d.trackEvent({type:re,data:{batchId:a}},e.tagId),L("No bid for targetId:"+e.targetId),r=f(t),g.emit(m.h.NO_BID,n,r)):(e.adResponse=t,e.utCalled=!0,r=f(t),Q.a.addPlacementData(e.tagId,{adType:r.adType,adHeight:r.height,adWidth:r.width}),d.trackEvent({type:ae,data:{batchId:a}},e.tagId),g.emit(m.h.AVAILABLE,n,r),e.prebid||e.displayed||(t=ar(e,o,Zn(),Jn),zn.push(t))))}function ur(e,t,l){var n,a,r,u=null;if(apntag.requests.cbCalled=!0,typeof e===sr||null===e||e.error){var i=e&&e.error?m.q.ERROR_TYPES.AD_RESPONSE_ERROR:m.q.ERROR_TYPES.ENDPOINT_ERROR,o=e&&e.error?e.error:"Malformed response from ad server",s=new Error(o),d=(ne.trackCriticalError(i,s),j("Error response from impbus: "+o),{});try{d=JSON.parse(t)}catch(e){}W(apntag.requests.tags,function(t,n){var a=zt(o,n,void 0,200);t&&(u=f(t.adResponse)),W(d.tags,function(e){e.uuid===t.uuid&&g.emit(m.h.BAD_REQUEST,n,a,u)})})}else{e.debug&&e.debug.debug_info&&(i=Ua()+(i=(i=e.debug.debug_info).replace(/(\n)/g,"<br>")),s=document.body,(t=document.createElement("div")).id="appnexus_debug_window",(a=document.createElement("div")).style.width="100%",a.style.height="400px",a.style.clear="both",s.insertBefore(a,null),(a=t.style).position="fixed",a.bottom="0px",a.left="0px",a.width="100%",a.height="450px",a.overflow="hidden",a["border-top"]="1px solid",a["z-index"]=999999,a.background="white",s.insertBefore(t,null),(a=document.createElement("div")).style.width="100%",a.style.height="30px",s=Ba(),t.appendChild(s),r=s.contentWindow.document,s.onload=function(){for(var e=r.getElementsByTagName("br"),t=e.length,n=0,a=void 0;n<t-1;n++)"br"===((a=e[n].nextSibling)&&a.nodeName.toLowerCase())&&(a.style.display="none")},r.open(),r.write(i),r.write("<\/script>"),r.close()),e.toolkit&&e.toolkit.enabled&&(a=Ua()+(a=e.tags).map(function(a){return'\n      <table style="border: 1px solid black; border-radius: 5px; font-family: sans-serif; margin: 1em; padding: .5em">\n        <tr>\n          <td style="padding-right: 5em;"><b>Target&nbsp;ID</b></td>\n          <td style="width: 100%;">'+La(a)+"</td>\n        </tr>\n        <tr>\n          <td><b>Creative ID</b></td>\n          <td>"+ja(a,"creative_id")+"</td>\n        </tr>\n        <tr>\n          <td><b>Buyer Member ID</b></td>\n          <td>"+ja(a,"buyer_member_id")+"</td></tr>\n        <tr>\n          <td><b>Creative Size</b></td>\n          <td>"+function(){if(a.nobid)return Fa;var e=null,t=null,n=a.ads&&a.ads.length?a.ads[0]:{};return n.rtb&&n.rtb.banner&&(e=n.rtb.banner.height,t=n.rtb.banner.width),e&&t?t+" x "+e:""}()+"</td>\n        </tr>\n        <tr>\n          <td><b>Available Sizes</b></td>\n          <td>"+function(e){try{var t=La(e),n=apntag.requests.tags[t].sizes;return JSON.stringify(n)}catch(e){return""}}(a)+"</td></tr>\n        <tr>\n          <td><b>Winning Bid</b></td>\n          <td>"+ja(a,"cpm")+"</td></tr>\n        <tr>\n          <td><b>Demand Source</b></td>\n          <td>"+function(e){if(e.nobid)return Fa;var t=function(e){var t,n=apntag.requests.tags;if(e.ads.length&&e.ads[0].seller_member_id)return e.ads[0].seller_member_id;for(t in n)if(n.hasOwnProperty(t)&&n[t].uuid===e.uuid)return n[t].member;return null}(e);return e.ads[0].csm?"CSM":e.ads[0].buyer_member_id===t||e.ads[0].deal_id?e.ads[0].buyer_member_id!==t&&e.ads[0].deal_id?"Deal":e.ads[0].buyer_member_id===t?"Direct":"":"RTB"}(a)+"</td></tr>\n        <tr>\n          <td><b>Ad Type</b></td>\n          <td>"+ja(a,"ad_type")+"</td></tr>\n        <tr>\n          <td><b>Media Type</b></td>\n          <td>"+ja(a,"media_type_id")+'</td></tr>\n        <tr>\n          <td style="color: #555; font-size: smaller; padding-top: .5em;" colspan="2">\n            Console Ad Profile:\n            <a href="//console.appnexus.com/ad-quality?id='+a.placement.publisher.id+'" target="_blank">'+a.ad_profile_id+"</a>\n            "+(a.ads?'| <a href="//ib.adnxs.com/cr?id='+a.ads[0].creative_id+'" target="_blank">Creative Preview<a/>':"")+"\n          </td>\n        </tr>\n      </table>\n    "}).join(" "),t=document.body,(c=document.createElement("div")).id="appnexus_debug_window",(n=document.createElement("div")).style.width="100%",n.style.height="400px",n.style.clear="both",t.insertBefore(n,null),(n=c.style).position="fixed",n.bottom="0px",n.left="0px",n.width="100%",n.height="450px",n.overflow="hidden",n["border-top"]="1px solid",n["z-index"]=999999,n.background="white",t.insertBefore(c,null),(n=document.createElement("div")).style.width="100%",n.style.height="30px",t=Ba(),c.appendChild(t),(n=t.contentWindow.document).open(),n.write(a),n.close()),W(e.tags,function(o){if(o.error)W(apntag.requests.tags,function(e){var t;e.uuid===o.uuid&&(t="There was an exception from targetId:"+e.targetId+" this usually means there is a setup error on the tag (invalid ID etc)",j(t,o.error),ne.trackCriticalError(m.q.ERROR_TYPES.AD_RESPONSE_ERROR,new Error(t)),t=zt(t,e.targetId,void 0,200),g.emit(m.h.BAD_REQUEST,e.targetId,t))});else{if(o.ads&&o.ads.length&&o.ads[0].ad_type===rr)if(n=o,e={},a=void 0,W(Hn,,a&&(e=a.native),r=[],W(e,,e=f(n),i=[],W(e.native,,c=0<i.length,W(r,function(e){c=c&&-1<i.indexOf(e)}),!c)return e="required native assets missing from response",ne.trackCriticalError(m.q.ERROR_TYPES.AD_RESPONSE_ERROR,new Error(e)),void j(e);var s=o.ads,d=(t=!1,s&&W(s,,t),e=o.rtb_video_fallback;W(apntag.requests.tags,d||e?function(e,t){var n,a,r,i;e.uuid===o.uuid&&(e.utCalled=!0,d?e.isMediated=!0:e.isRtbVideoFallback=!0,r=s,i=ft,r=i=Array.isArray(r)&&0<r.length&&r[0][gt]===mt?mt:i,i=apntag.requests.tags,n=o,a={},W(i,function(e){e.uuid===n.uuid&&e.mediationOptions&&(a=e.mediationOptions)}),i=a,r===or?(e.isVideoMediation=!0,u=f(o),g.emit(m.h.AVAILABLE,t,u),ht(r,o,i,cr)):(e.isBannerMediation=!0,r=e.targetId,i=o,r="<script>"+'var APN_macros = {};APN_macros.uuid = "'+r+'";'+"APN_macros.enableMediationEvents = "+apntag.requests.enableMediationEvents+";"+"APN_macros.expandByCreative = "+Ue(r)+";APN_macros.ads = "+'window.parent.apntag.getAdMarkup("'+r+'", "'+i.uuid+'");;'+"document.write('<scr' + 'ipt src=\""+pt+"\"></scr' + 'ipt>');<\/script>",o.ad={ad_type:ir},e.ad={mediatedContent:r},lr(e,o,t,l)))}:}var t,n,e,a,r,i,c}),apntag.requests.checkDisplay&&et();var c=apntag.requests.trackingManagement&&apntag.requests.trackingManagement.userSync;if(c&&!1===c.syncEnabled)S("AST userSync feature was disabled as per setPageOpts.");else if(!0===Yn)S("AST userSync feature was disabled due to TCF consent choices.");else{t=3e3;if(t=c&&c.syncDelay?c.syncDelay:t)return setTimeout(p,t);p()}}function p(){var e,t;S("AST is loading the userSync URL."),ue({strategy:"WithAttributes",data:{id:++tt+Math.random().toString(16).substr(2),src:(e=apntag.requests.trackingManagement&&apntag.requests.trackingManagement.userSync,t=dr+"?",(t=e?(t+="number"==typeof e.sellerId?"seller_id="+e.sellerId+"&":"")+("number"==typeof e.publisherId?"pub_id="+e.publisherId+"&":""):t).substring(0,t.length-1)),sandbox:"allow-scripts allow-same-origin"}})}}function pr(e,t){var n=t,a=void 0;function r(e){e={us_privacy:e?e.uspString:void 0};fr.us_privacy=e.us_privacy}function i(e){clearTimeout(a),r(),k(o(e))}function o(e){e&&F(e+" Resuming request without CCPA USP consent information."),n()}if((fr=e).consentManagement&&(fr.consentManagement.disabled||fr.consentManagement.usp&&fr.consentManagement.usp.disabled))return S("USP Consent module was disabled."),k(o());if(t=1e4,fr.consentManagement&&q(fr.consentManagement.timeout)&&(t=fr.consentManagement.timeout),gr)return r(gr),k(o());function s(e){"object"!=typeof e||null===e||"string"!=typeof e.uspString||""===e.uspString?i("CCPA USP CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):(clearTimeout(a),r(gr=e),k(o()))}var d,a=setTimeout(function(){i("CCPA USP CMP workflow exceeded timeout threshold.")},t),e=i,c={},t=void 0;try{t=window.__uspapi||window.top.__uspapi}catch(s){}if(_(t))t("getUSPData",1,s);else{for(var l=window,u=void 0;!u;){try{l.frames.__uspapiLocator&&(u=l)}catch(s){}if(l===window.top)break;l=l.parent}if(!u)return e("CCPA USP CMP not found.");d=u,window.__uspapi=function(e,t,n){var a=""+Math.random(),e={__uspapiCall:{command:e,version:t,callId:a}};c[a]=n,d.postMessage(e,"*")},h(window,"message",p,!1),window.__uspapi("getUSPData",1,}function p(e){var e="string"==typeof e.data&&e.data.includes("uspapiReturn")?JSON.parse(e.data):e.data;e.__uspapiReturn&&(e=e.__uspapiReturn,c[e.callId](e.returnValue,e.success),delete c[e.callId])}}var gr=void 0,fr=void 0,mr=void 0,T={},hr=void 0;function vr(s,e,d,c,l){W(Vn[e],function(e){var t,n,a,r,i,o;t=s,e=e,a=c,r=l,0===(n=d)&&(t="Failure to contact endpoint. This can be caused by invalid CORS headers or failure of server to respond."),i=apntag.requests.tags[e],o=void 0,i&&(o=f(i.adResponse)),i=zt(t,e,r,n),g.emit(a,e,i,o)})}function yr(n,a){var e=c,t=(t=n).url+(t.url.indexOf("?")+1?"&":"?")+"cb=apntag.handleCb&q="+encodeURI(t.data),r=Ge(e,t);apntag.requests.utCalled=!0,r.onload=r.onerror=function(e){var t;apntag.requests.errorReported||(vr(t="Unknown script error contacting endpoint over JSONP. Endpoint: "+n.url,a,"-1",m.h.REQUEST_FAIL,e),j(t))},r.onreadystatechange=function(e){var t;"loaded"!==r.readyState&&"complete"!==r.readyState||apntag.requests.cbCalled||apntag.requests.errorReported||(apntag.requests.errorReported=!0,vr(t="Unknown network error contacting endpoint over JSONP. Endpoint: "+n.url,a,"-1",m.h.REQUEST_FAIL,e),j(t))}}function br(n){W(Vn,function(e,t){"none"===t?Ir(t,n):(t=Number(t),isNaN(t)?j("Invalid value for member"):Ir(t,n))})}function wr(e){e=e||Fe(apntag.requests.tags,function(e){return e.targetId}),N(e)||(e=[e]);var n,a,o,s,r,t=!1,i=!1,d=!1,c=(jn(apntag.requests,function(){t=!0,i&&d&&br(e)}),pr(apntag.requests,function(){i=!0,t&&d&&br(e)}),apntag.requests),l=function(){d=!0,t&&i&&br(e)},u=l,p=void 0;function g(e){var t={gpp:e&&""!==e.gppString?e.gppString:void 0};e&&e.applicableSections?t.gpp_sid=e.applicableSections:e&&e.applicableSection?t.gpp_sid=e.applicableSection:t.gpp_sid=T.applicableSections,t.gpp_sid&&-1===t.gpp_sid[0]&&(t.gpp_sid=void 0),hr.gpp_consent=t}function f(e,t){clearTimeout(p),g(t),k(m(e))}function m(e){e&&F(e+" Resuming request without GPP consent information."),u()}function h(e){return e&&Array.isArray(e.applicableSections)&&0<e.applicableSections.length&&0!==e.applicableSections[0]}function v(e){return e&&Array.isArray(e.applicableSection)&&0<e.applicableSection.length&&0!==e.applicableSection[0]}function y(e){var t;e&&(S("Received a response from GPP CMP for eventlistener",e),e.pingData&&"error"===e.pingData.cmpStatus?a("CMP returned with a cmpStatus:error response.  Please check CMP setup."):"1.0"===mr?"sectionChange"===e.eventName||"loaded"===e.pingData.cmpStatus&&"visible"!==e.pingData.cmpDisplayStatus?(t=r.__gpp("getGPPData"),S("Received a response from GPP CMP for getGPPData",t),n(t)):T.applicableSections||(t=r.__gpp("getGPPData"),S("Called GPP CMP early to determine the value of applicableSections, value returned from CMP: ",t),h(t)?T.applicableSections=t.applicableSections:v(t)&&(T.applicableSections=t.applicableSection)):"1.1"===mr&&("sectionChange"===e.eventName||"signalStatus"===e.eventName&&"ready"===e.data||e.pingData&&"loaded"===e.pingData.cmpStatus&&"visible"!==e.pingData.cmpDisplayStatus?(S("Received a desired event response from GPP CMP, pingData was: ",e.pingData),n(e.pingData)):T.applicableSections||(S("Called GPP CMP early to determine the value of applicableSections, value returned from CMP: ",e.pingData),h(e.pingData)&&(T.applicableSections=e.pingData.applicableSections))))}function b(e,t,n,a){s||(window.addEventListener("message",function(e){var e="string"==typeof e.data&&e.data.includes("__gppReturn")?JSON.parse(e.data):e.data;e.__gppReturn&&e.__gppReturn.callId&&(e=e.__gppReturn,o.hasOwnProperty(e.callId)&&o[e.callId](e.returnValue))},!1),s=!0),S("Making a postMessage call to the CMP for command: ",e);var r,i=Math.random().toString(),a=(e={command:e,parameter:a,version:"1.0"===mr?1:mr,callId:i},(a="__gppCall")in(r={})?Object.defineProperty(r,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[a]=e,r);o[i]=n,t.postMessage(a,"*")}function w(e){e&&(S("Received a response from GPP CMP for eventlistener",e),"error"===e.pingData.cmpStatus?a("CMP returned with a cmpStatus:error response.  Please check CMP setup."):"1.0"===mr?"sectionChange"===e.eventName||"loaded"===e.pingData.cmpStatus&&"visible"!==e.pingData.cmpDisplayStatus?b("getGPPData",r,E):T.applicableSections||b("getGPPData",r,I):"1.1"===mr&&("sectionChange"===e.eventName||"signalStatus"===e.eventName&&"ready"===e.data||e.pingData&&"loaded"===e.pingData.cmpStatus&&"visible"!==e.pingData.cmpDisplayStatus?(S("Received a desired event response from GPP CMP, pingData was: ",e.pingData),n(e.pingData)):T.applicableSections||(S("Called GPP CMP early to determine the value of applicableSections, value returned from CMP: ",e.pingData),h(e.pingData)&&(T.applicableSections=e.pingData.applicableSections))))}function I(e){S("Called GPP CMP early to determine the value of applicableSections, value returned from CMP: ",e),h(e)?T.applicableSections=e.applicableSections:v(e)&&(T.applicableSections=e.applicableSection)}function E(e){S("Received a response from GPP CMP for getGPPData",e),n(e)}(l=(hr=c).consentManagement)&&(l.disabled||l.gpp&&l.gpp.disabled)?(S("GPP Consnent module was disabled."),k(m())):(c=1e4,l&&q(l.timeout)&&(c=hr.consentManagement.timeout),p=setTimeout(c),n=function(e){e&&"object"==typeof e&&null!==e&&"string"==typeof e.gppString&&(Array.isArray(e.applicableSections)||Array.isArray(e.applicableSection))?(clearTimeout(p),g(e),k(m())):f("GPP CMP returned unexpected consentObject during lookup process; returned value was ("+e+")")},a=f,s=!(o={}),r=(l=function(){for(var e=window,t=void 0,n=!1;;){try{if("function"==typeof e.__gpp){t=e,n=!0;break}}catch(e){}try{if(e.frames.__gppLocator){t=e;break}}catch(e){}if(e===window.top)break;e=e.parent}return{cmpFrame:t,cmpDirectAccess:n}}()).cmpFrame,l=l.cmpDirectAccess,r?l&&_(r.__gpp)?(S("Detected GPP CMP API is directly accessible, calling it now..."),(l=r.__gpp("ping",function(e,t){!0===t&&e&&"1.1"===e.gppVersion?(S("Detected GPP CMP is running version 1.1.  Proceeding with next steps..."),mr="1.1",r.__gpp("addEventListener",y)):t||a('GPP CMP returned a failed "success" when calling the ping command. Check the state of CMP.')}))&&"1.0"===l.gppVersion&&(S("Detected GPP CMP is running version 1.0.  Proceeding with next steps..."),mr="1.0",r.__gpp("addEventListener",y))):(S("Detected GPP CMP is outside the current iframe where AST is located, calling it now..."),b("ping",r,function(e){!e||"1.0"!==e.gppVersion&&"1.1"!==e.gppVersion||(S("Detected GPP CMP is running version"+e.gppVersion+".  Proceeding with next steps..."),mr=e.gppVersion,b("addEventListener",r,w))})):a("GPP CMP not found."))}var Ir=function(e,t){i=e,n=t,W(apntag.requests.tags,function(e){e.utCalled||-1===n.indexOf(e.targetId)||g.emit(m.h.REQUEST,e.targetId)}),Ve("Ad is requested for member "+i);var n,a,r,i=Lt(apntag.requests,e,Hn,t),o=(t=i,v().context&&"AMP-AD"===v().context.tagName&&(t.is_amp=!0,t.referrer_detection&&(t.referrer_detection.rd_can=v().context.canonicalUrl),(a=v().context.consentSharedData)&&(a={consent_string:a.consentString,consent_required:a.consentRequired},t.gdpr_consent=a)),a=i=t,t={},Xn||((Kn=Kn==="https://"+m.g.IMPBUS&&Yn?"https://"+m.g.IMPBUS_SIMPLE:Kn)!=="https://"+m.g.IMPBUS_SIMPLE||Yn||(Kn="https://"+m.g.IMPBUS)),r=!1,W(apntag.requests.tags,,o=r?Kn+m.g.UT_PREBID:Kn+m.g.UT_BASE,t.url=o,t.data=JSON.stringify(a),t);U(i.tags)?F("ast.loadTagsByMemberId: no defined tags at this point so no /UT request will be made"):("withCredentials"in new XMLHttpRequest?function(t,n){var e,a=t.data,r=new XMLHttpRequest,i=(e=JSON.parse(t.data)).tags?e.tags.map(:[],o=Math.floor(1e8*Math.random());i.forEach(function(e){Q.a.addPlacementData(e,{placementId:e}),d.trackEvent({type:"adServerRequest",data:{batchId:o}},e)}),r.onload=function(){var e;if(200===this.status)try{e=JSON.parse(this.responseText),apntag.handleCb(e,a,o)}catch(e){j("failed to parse ad response from impbus: "+e.message),vr(e.message,n,this.status,m.h.REQUEST_FAIL,e)}else j(this.status+" : "+this.statusText),vr(this.statusText,n,this.status,m.h.REQUEST_FAIL)},r.onerror=function(e){e=e.target.status;vr("Error contacting impbus endpoint: "+t.url+" http response code:"+e,n,e,m.h.REQUEST_FAIL)},r.open("POST",t.url,!0),r.setRequestHeader("Content-Type","text/plain"),apntag.requests.test&&r.setRequestHeader("X-Is-Test",1),r.withCredentials=!0;try{r.send(a),apntag.requests.utCalled=!0}catch(e){j("Error making POST request: "+e),yr(t,n)}}:yr)(o,e)};function Er(e){if(L("getTag called for tag "+e),r(e))return e&&Gn[e]?Gn[e]:void 0;j("the "+e+" tag is not defined.",m.k.WARN)}var _r;Q.a.addSessionData({sdkType:"ast",sdkVersion:"0.60.1"}),Q.a.setSampleRate(.001),_r=ne,window.addEventListener("error",e=>{Object(Z.d)(e.filename)&&_r.trackCriticalError("unhandled",e)}),Object(Z.c)().includes("give_me_error_please")&&setTimeout(1e3),le.init(),d.trackEvent({type:"sdkInit",data:void 0});var Sr=m.b.NATIVE,kr=m.b.VIDEO,Tr=m.m.UNDEFINED,xr=m.m.NUMBER,Ar=m.a.NOAD;if(h(c,"message",function(e){if(e.origin===rt()&&"string"==typeof e.data){S("Data sent from creative",e.data);var t=void 0;try{t=JSON.parse(e.data)}catch(t){return void("nobid"===e.data?L("No bid response returned"):j("Invalid data from creative: "+e.data))}if(z(t,"eventType"))"adError"===t.eventType&&window.apntag.recordErrorEvent(t.exception,t.targetId);else switch(t.name){case"expand":Wn(t);break;case"collapse":o=t,L("Collapse iframe started by host"),s=v(),d=y.getInstance().getIframe(o.targetId),c=d.iframe.style,s=(s.document.getElementById(m.n.UT_DIV+o.targetId)||d.iframe.parentNode).style,l=d.originalWidth,n=d.originalHeight,o.ext&&(0===o.ext.width&&(l=0),0===o.ext.height&&(n=0)),c.left="",c.top="0px",s.width=l+"px",c.width=l+"px",s.height=n+"px",c.height=n+"px",c.zIndex="",l=d.iframe.contentWindow,(s={}).targetId=o.targetId,s.geom=sa(o.targetId,d.iframe),s.status=m.p.STATUS.NOTIFY_COLLAPSED,ba(l,JSON.stringify(s),rt());break;case"cmp":i=t,apntag.requests.gdpr_consent?r():jn(apntag.requests,r);break;case"resizeAd":apntag.resizeAd(t.targetId,t.cmd);break;case"mediatedNative":apntag.handleMediationBid(t.targetId);break;case"emitEvent":apntag.emitEvent.apply(null,t.cmd);break;case"message":break;case"updateRenderStatus":wa.setRendererStatus(t.rId+"_"+t.targetId,t.status);break;case"setParentDivStyleDefaultProp":var n=apntag.requests.tags[""+t.targetId].wcElement,a=n?n.querySelector("#"+m.n.UT_DIV+t.targetId):document.getElementById(m.n.UT_DIV+t.targetId);W(t.cmd,}}function r(){var e=apntag.requests.gdpr_consent,t=y.getInstance().getIframe(i.targetId).iframe.contentWindow,e={targetId:i.targetId,gdpr_consent:e,status:m.p.STATUS.CMP};ba(t,e,rt())}var i,o,s,d,c,l,n}),o.expansionByPush=!1,o.expansionByOverlay=!0,o.readCookie=!1,o.writeCookie=!1,o.sandbox=!1,/(iPhone)/i.test(navigator.userAgent))try{h(Nn.document,"apntag_iTunesLaunch",qn)}catch(e){}try{console.info?console.info("AST library loaded: 0.60.1"):console.log("AST library loaded: 0.60.1")}catch(s){}c.apntag=typeof c.apntag!==Tr?c.apntag:{};var l=c.apntag;function Cr(t){var n={};return W(l.requests.tags,function(e){t!==e.uuid&&t!==e.targetId||(n=e)}),n}l.anq=l.anq||[],l.debug=l.debug||!1,l.dongle=l.dongle||void 0,l.loaded=!0,l.requests=l.requests||{},l.requests.keywords=l.requests.keywords||{},Ln(m.g.IMPBUS),l.requests.tagsOnPageCount=l.requests.tagsOnPageCount||0,l.requests.waitOnTagsCount=l.requests.waitOnTagsCount||0,l.requests.showTagDefinedMap=l.requests.showTagDefinedMap||Qn,l.highlightAd=function(e){S("Invoking apntag.highlightAd",arguments),d.trackCustomEvent({type:"apntag.highlightAd",tagNumber:e}),e&&(e=Zn()[e])&&(e.style.border="3px solid #e67300")},l.anq.push=l.setEndpoint=function(e,t){S("Invoking apntag.setEndpoint",arguments),d.trackCustomEvent({type:"apntag.setEndpoint",endpoint:e,freezeIbUrl:t}),Ln(e,t)},l.setPageOpts=function(e){var t,n;S("Invoking apntag.setPageOpts",arguments),d.trackCustomEvent({type:"apntag.setPageOpts",pageOpts:e}),(e=e)&&(e.member&&(apntag.requests.member=Number(e.member)),e.targetingParams&&(apntag.requests.targetingParams=e.targetingParams,F("targetingParams will be deprecated soon. Please use keywords instead")),e.keywords&&(apntag.requests.keywords=e.keywords),e.user&&(apntag.requests.user=e.user),e.app&&(apntag.requests.app=e.app),e.device&&(apntag.requests.device=e.device),e.geoOverride&&(n=function(e){var t=e.countryCode;if("string"==typeof t&&2===t.length){e=e.zip;if(!("string"!=typeof e||e.length<1))return{countryCode:t.toUpperCase(),zip:e};F("Ignoring geoOveride options, Invalid zip code, it should be of type String and of atleast 1 character.")}else F("Ignoring geoOveride options, Invalid country code, it should be of type String and of 2 characters.")}(e.geoOverride))&&(apntag.requests.geoOverride=n),e.site&&(apntag.requests.site=e.site),e.content&&(apntag.requests.content=e.content),e.disablePsa&&(apntag.requests.disablePsa=!0),apntag.requests.enableSafeFrame=!1,e.enableSafeFrame&&(Jn(),apntag.requests.enableSafeFrame=!0),e.publisherId&&(apntag.requests.publisherId=e.publisherId),e.consentManagement&&(apntag.requests.consentManagement=e.consentManagement),e.auctionTimeout&&(apntag.requests.auctionTimeout=e.auctionTimeout),e.enableMediationEvents&&(apntag.requests.enableMediationEvents=!0),e.us_privacy&&(O(e.us_privacy)?apntag.requests.us_privacy=e.us_privacy:F("Ignoring us_privacy, it should be a string")),e.pageUrl&&(apntag.requests.pageUrlOverride=e.pageUrl),e.test&&(apntag.requests.test=!0),e.schain&&(apntag.requests.schainConfig=e.schain),e.msft&&(apntag.requests.msft=e.msft),e.trackingManagement&&((n=e.trackingManagement).native&&n.native.loadViewabilityScriptAt&&(!(t=O(n.native.loadViewabilityScriptAt)?n.native.loadViewabilityScriptAt.toLowerCase():null)||t!==m.c.NATIVE_VIEWABILITY.AD_RESPONSE&&t!==m.c.NATIVE_VIEWABILITY.IMPRESSION?F('Ignoring trackingManagement.native.loadViewabilityScriptAt, it should be either "impression" or "adResponse"'):(apntag.requests.trackingManagement=apntag.requests.trackingManagement||{},apntag.requests.trackingManagement.native={loadViewScriptAt:t})),n.userSync&&(t={},q(n.userSync.syncDelay)&&(t.syncDelay=n.userSync.syncDelay),"boolean"==typeof n.userSync.syncEnabled&&(t.syncEnabled=n.userSync.syncEnabled),q(n.userSync.publisherId)&&(t.publisherId=n.userSync.publisherId),q(n.userSync.sellerId)&&(t.sellerId=n.userSync.sellerId),apntag.requests.trackingManagement=apntag.requests.trackingManagement||{},apntag.requests.trackingManagement.userSync=t)),e.renderingManagement&&(n=e.renderingManagement,apntag.requests.renderingManagement=apntag.requests.renderingManagement||{},"boolean"==typeof n.insertWrapperDiv&&(apntag.requests.renderingManagement.insertWrapperDiv=n.insertWrapperDiv),"boolean"==typeof n.sandboxAdIframe&&(apntag.requests.renderingManagement.sandboxAdIframe=n.sandboxAdIframe),Array.isArray(n.sandboxAttributes)&&(apntag.requests.renderingManagement.sandboxAttributes=n.sandboxAttributes)))},l.defineTag=function(e){return S("Invoking apntag.defineTag",arguments),Q.a.addPlacementData(e.tagId,{placementId:e.tagId}),d.trackCustomEvent({type:"apntag.defineTag",adOpts:e},e.tagId),qa(e)},l.getTag=function(e){var t,n;if(!e||r(e))return n=t=void 0,e?(n=Er(e),t=Ze(l.requests.tags[e],n)):(t={},l.requests.tags?Object.keys(l.requests.tags).forEach(function(e){n=Er(e),t[e]=Ze(l.requests.tags[e],n)}):F("getTag is called before defineTag function, so the tag object will be empty.")),t;j(e+" is not defined.",m.k.WARN)},l.getAdWrap=function(e){if(S("Invoking apntag.getAdWrap",arguments),d.trackCustomEvent({type:"apntag.getAdWrap",tagId:e}),r(e))return e&&l.requests.tags&&l.requests.tags[e]&&l.requests.tags[e].adWrap?l.requests.tags[e].adWrap:void 0;j("the "+e+" tag is not defined.",m.k.WARN)},l.setSizes=function(e,t){S("Invoking apntag.setSizes",arguments),d.trackCustomEvent({type:"apntag.setSizes",size:t},e),arguments.length<2&&(t=e,e=this.targetId),r(e)?l.requests.tags[e].sizes=t:j("the "+e+" tag is not defined.",m.k.WARN)},l.modifyTag=function(e,t){S("Invoking apntag.modifyTag",arguments),d.trackCustomEvent({type:"apntag.modifyTag",targetId:e,params:t});var n={};arguments.length<2&&(t=e,e=this.targetId),r(e)?((t.sizes||t.sizeMapping)&&Na(t,e),W(l.requests.tags[e],function(e,t){n[t]=e}),W(t,function(e,t){n[t]=e}),l.requests.tags[e]=n):j("the "+e+" tag is not defined.",m.k.WARN)},l.setKeywords=function(e,t,n){S("Invoking apntag.setKeywords",arguments),d.trackCustomEvent({type:"apntag.setKeywords",targetId:e,params:t,options:n});var a={};"object"==typeof t&&null!==t?r(e)?(W(l.requests.tags[e],function(e,t){a[t]=e}),a.keywords=a.keywords||{},"object"==typeof n&&null!==n&&!0===n.overrideKeyValue?W(t,:W(t,function(e,t){z(a.keywords,t)?N(a.keywords[t])?a.keywords[t]=a.keywords[t].concat(e):a.keywords[t]=[a.keywords[t]].concat(e):a.keywords[t]=e}),l.requests.tags[e]=a):j("the "+e+" tag is not defined.",m.k.WARN):F("unable to set keywords it should be an object")},l.onEvent=function(e,t,n){if(S("Invoking apntag.onEvent",arguments),2===arguments.length&&"function"==typeof t&&typeof this.targetId===Tr)n=t,t="*";else if(arguments.length<3&&(n=t,t=this.targetId,!r(t)))return void j("the "+t+" tag is not defined.",m.k.WARN);g.on(e,t,n)},l.offEvent=function(e,t,n){if(S("Invoking apntag.offEvent",arguments),1===arguments.length&&typeof this.targetId===Tr)t="*";else if(arguments.length<2&&(t=this.targetId,!r(t)))return void j("the "+t+" tag is not defined.",m.k.WARN);if(N(e))for(var a=0;a<e.length;a++)g.off(e[a],t,n);else g.off(e,t,n)},l.loadTags=function(e){S("Invoking apntag.loadTags",arguments),d.trackCustomEvent({type:"apntag.loadTags",tagIds:e}),wr(e)},l.refresh=function(e){S("Invoking apntag.refresh",arguments),d.trackCustomEvent({type:"apntag.refresh",targetObj:e});var t=e;apntag.requests.utCalled=!1,apntag.requests.hasLeft=!1,apntag.requests.cbCalled=!1,apntag.requests.errorReported=!1,e=[],N(n=t)?e=n:O(n)&&e.push(n),r={};var a,r,n,i=0===(a=e).length?apntag.requests.tags:(W(apntag.requests.tags,function(e,t){for(var n=0;n<a.length;n++)a[n]===t&&(r[t]=e)}),r);W(i,function(e,a){W(zn,function(e){if(a===e){var t=c.document,n=i[a].wcElement||t.getElementById(e);if(n)for(;n.hasChildNodes();)n.removeChild(n.firstChild)}})}),W(i,function(e){e.utCalled=!1,e.displayed=!1,e.isMediated=!1,e.isBannerMediation=!1,e.isVideoMediation=!1,e.ad={}});try{wr()}catch(t){j("refreshTags "+t.message)}},l.resizeAd=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};S("Invoking apntag.resizeAd",arguments),d.trackCustomEvent({type:"apntag.resizeAd",targetId:e,widthHeightArr:t,config:n}),function(e,t,n){var a,r,i,n=2<arguments.length&&void 0!==n?n:{},o=0,s=0,t=(N(t)&&2===t.length?(s=t[0],o=t[1]):j("resizeAd must be invoked with a (targetId,[width, height])"),Zn()[e]);t?(n=n.resizeAdParentDiv,a=apntag.requests.tags[e].wcElement,r=Er(e),r=at(r),a=a?a.querySelector("#"+r):c.document.getElementById(r),r=apntag.requests.tags[e],a?(i=!1,"boolean"==typeof n?i=n:r&&"boolean"==typeof r.resizeAdParentDiv&&(i=r.resizeAdParentDiv),i&&(a.style.height=o+"px",a.style.width=s+"px",a.style.height=o,a.style.width=s),a.style.height=o,a.style.width=s,t.height=o+"px",t.width=s+"px",t.height=o,t.width=s,r&&!r.enableSafeFrame&&("none"!==a.style.display&&0===o&&0===s?(r.styleDisplay=a.style.display,a.style.display="none"):"none"===a.style.display&&0!==o&&0!==s&&(a.style.display=r.styleDisplay||"inline")),L("ResizeAd successful for targetId: "+e),r&&r.isMediated&&t.contentWindow&&(i=(n=v()).location.protocol+"//"+n.location.host,t.contentWindow.postMessage(JSON.stringify({name:"resizeAd",size:[s,o]}),i))):j("Failed to find target for resizeAd: "+e)):j("Failed to find target for resizeAd : "+e)}(e,t,n)},l.enableCookieSet=function(){var e,t;F("apntag.enableCookieSet has been depreciated"),d.trackCustomEvent({type:"apntag.enableCookieSet"}),e=window.addEventListener?"addEventListener":"attachEvent",t=window[e],e="attachEvent"==e?"onload":"load","complete"===document.readyState||"interactive"===document.readyState?X():t(e,!1)},l.collapseAd=function(e,t,n){S("Invoking apntag.collapseAd",arguments),F("apntag.collapseAd has been depreciated, Please use apntag.resizeAd"),d.trackCustomEvent({type:"apntag.collapseAd",targetId:e,height:t,width:n});var a=0,r=0,i=Er(e);i?(i=at(i),typeof t===xr&&(a=t),typeof n===xr&&(r=n),null!==(t=c.document.getElementById(i))?(l.resizeAd(e,[r,a]),t.style.height=a,t.style.width=r,t.style.display="none",n=l.requests.tags[e],i=f(n.adResponse),g.emit(m.h.COLLAPSE,e,i)):j("CollapseAd failed to find ad div : "+e)):j("CollapseAd failed to find targetId : "+e)},l.showTag=function(e,t){var n=void 0;if(S("Invoking apntag.showTag",arguments),d.trackCustomEvent({type:"apntag.showTag",divId:e,win:t}),"object"==typeof t&&(t.hasOwnProperty("iframeWindow")||t.hasOwnProperty("wcElement"))){if(n=t.wcElement instanceof Element&&t.wcElement,t.wcElement&&!n)return void j("wcElement is not a DOM element : "+e);t=t.iframeWindow||c}else t=t||c;if(L("showTag called for "+e),Qn[e]=!0,r(e)){var a=apntag.requests.tags[e];if(a.showTagCalled=!0,a.curWindow=t,a.wcElement=n,a.displayed)return void F("Attempting to display ad that is already displayed, will not render this ad again: "+e);apntag.requests.utCalled?a.adResponse?(t=ar(a,o,Zn(),Jn),zn.push(t),apntag.requests.hasLeft&&et()):apntag.requests.checkDisplay=!0:F(e+" : showTag() called before ad request was made. This placement might not display if a subsequent loadTags() call is not made")}else L("the "+e+" tag was loaded before the ad placement was available.",m.k.WARN)},l.setPageTargeting=function(e,t){S("Invoking apntag.setPageTargeting",arguments),d.trackCustomEvent({type:"apntag.setPageTargeting",key:e,value:t}),l.requests.targetingParams&&e&&t&&(l.requests.targetingParams[e]=t)},l.getPageTargeting=function(e){if(S("Invoking apntag.getPageTargeting",arguments),d.trackCustomEvent({type:"apntag.getPageTargeting",key:e}),l.requests.targetingParams&&e)return l.requests.targetingParams[e]},l.clearPageTargeting=function(e){S("Invoking apntag.clearPageTargeting",arguments),d.trackCustomEvent({type:"apntag.clearPageTargeting",key:e}),l.requests.targetingParams&&e&&delete l.requests.targetingParams[e]},l.enableDebug=function(){l.debug=!0,S("Invoking apntag.enableDebug",arguments),d.trackCustomEvent({type:"apntag.enableDebug"})},l.disableDebug=function(){S("Invoking apntag.disableDebug",arguments),d.trackCustomEvent({type:"apntag.disableDebug"}),l.debug=!1},l.notify=function(e,t,n){e?(d.trackCustomEvent({type:"apntag.notify",messageType:e,messagePayload:t,targetId:n}),wa.invokeNotify(e,t,n)):j("apntag.notify must be called with `messageType`")},l.registerRenderer=function(e,t){S("Invoking apntag.registerRenderer",arguments),d.trackCustomEvent({type:"apntag.registerRenderer",id:e,cb:t}),wa.registerRenderer(e,t)},l.getAstVersion=l.recordErrorEvent=function(e,t){S("Invoking apntag.recordErrorEvent",arguments),d.trackCustomEvent({type:"apntag.recordErrorEvent",e:e,targetId:t});var n=l.requests.tags[t],n=f(n.adResponse),e=zt(e.message,t,e,200);g.emit(m.h.ERROR,t,e,n)},l.clearRequest=function(a){S("Invoking apntag.clearRequest",a||arguments),d.trackCustomEvent({type:"apntag.clearRequest",targetIds:a}),a?(N(a)||(a=[a]),W(a,function(e){e&&!r(e)&&F(e+" is not defined.",m.k.WARN)}),W(l.requests.tags,function(e){var t,n,e=e.targetId;a.includes(l.requests.tags[e].targetId)&&(t=Qn,n=Zn(),0!==Object.keys(t).length&&(delete t[e],Un(t)),0!==Object.keys(n).length&&(delete n[e],Bn(n)),delete l.requests.tags[e],y.getInstance().removeIframe(e))}),0===Object.keys(l.requests.tags).length&&(l.requests={},l.requests.tags={})):(l.requests={},l.requests.tags={},Un({}),Bn({}),y.getInstance().resetInstance())},l.handleCb=function(e,t,n){S("Invoking apntag.handleCb",arguments);try{ur(e,t,n)}catch(e){t=e.message||e;j("Internal AST error : ",e);vr(t,void 0,200,m.h.BAD_REQUEST,e)}},l.emitEvent=function(e,t,n){var a,r,i;n&&n.content_source&&!l.requests.enableMediationEvents||(S("Invoking apntag.emitEvent",arguments),a=Cr(e).tagId,"impression"===t&&d.trackEvent({type:ie},a),a=t,t=n,n=Cr(n=e),t=t,r=(e=n).adResponse&&e.adResponse.ads&&e.adResponse.ads.length,i=r&&e.adResponse.ads[r-1].ad_type===m.b.NATIVE,i=e.isMediated&&i&&!t?f(e.adResponse,e.adResponse.ads[r-1]):f(e.adResponse,t),L("handling event for DOM ID:  "+i.targetId+" eventType : "+a),(a=a===m.o.LOADED?"adLoaded":a)===m.h.LOADED||a===m.h.LOADED_MEDIATED||a===m.h.NO_BID_MEDIATED?g.emit(a,i.targetId,i):g.emit(a,i.targetId),a===m.h.NO_BID&&n.isMediated&&(r=n.adResponse,He(window.document.body,r[Ar],r.uuid)))},l.getAdMarkup=function(e,t){if(d.trackCustomEvent({type:"apntag.getAdMarkup",targetId:e,uuid:t}),l.requests.tags&&l.requests.tags[e]){e=l.requests.tags[e];if(e.uuid===t)return e.adResponse.ads}},l.setSafeFrameConfig=function(e){d.trackCustomEvent({type:"apntag.setSafeFrameConfig",params:e}),z(e,"allowExpansionByPush")&&(o.expansionByPush=e.allowExpansionByPush),z(e,"allowExpansionByOverlay")&&(o.expansionByOverlay=e.allowExpansionByOverlay),z(e,"sandbox")&&(o.sandbox=e.sandbox),z(e,"meta")&&(o.meta=e.meta)},l.fireImpressionTrackers=function(e){var t;e.impressionTrackersFired||(e.impressionTrackersFired=!0,S("Firing impression trackers for",e.tagId),d.trackEvent({type:ie},e.tagId),(t=e.native&&e.native.impressionTrackers)&&t.length&&t.forEach(function(e){He(c.document.body,e)}),(t=Cr(e.uuid))&&t.trackingManagement&&t.trackingManagement.native&&t.trackingManagement.native.loadViewScriptAt===m.c.NATIVE_VIEWABILITY.IMPRESSION&&(S("Loading native viewability script during fireImpressionTrackers"),ot(t.adResponse.ads[0],t.targetId)),(t=e.native&&e.native.javascriptTrackers)&&ue({strategy:"WithContent",data:t}))},l.attachClickTrackers=function(t,e){var n=e instanceof Element,a=n?e.id:e,n=n?e:document.getElementById(e);n?(S("Attaching click track handler to",a),h(n,"click",function(){var e=t.native&&t.native.clickTrackers;d.trackEvent({type:"adClick"},t.tagId),e&&e.length&&(S("Firing click trackers for",t.tagId),e.forEach()})):j("HTML element with id "+a+" not found, click trackers not attached")},l.checkAdAvailable=function(e){return d.trackCustomEvent({type:"apntag.checkAdAvailable",targetId:e}),e=apntag.requests.tags[e],t=e&&e.adResponse,n=e&&e.utCalled&&!e.showTagCalled&&t&&f(t),function(e){n&&(t.nobid||e.resolve(n),t.nobid&&e.reject())};var t,n},l.handleMediationBid=function(e){d.trackCustomEvent({type:"apntag.handleMediationBid",targetId:e});var t,n,a=Cr(e),r=[];try{var i=a.adResponse.ads,r=i[i.length-1]}catch(e){S("Trying to get mediated adresponse for renderer",e)}function o(){l.resizeAd(e,[0,0])}if(r.renderer_url){if(a.displayed=!1,r.targetId=e,r.ad_type===kr){var s=a.targetId;try{l.requests.tags[s].adResponse.ads=[r]}catch(s){S("Trying to set adresponse for video renderer",s)}a.enableSafeFrame&&(i=a.targetId,(i=y.getInstance().getIframe(i))&&i.iframe&&(i.iframe.allow="autoplay",i.iframe.style="overflow:hidden"))}a.enableSafeFrame?(t=a,n=y.getInstance().getIframe(t.targetId).iframe.contentWindow,delete t.curWindow,t={status:"nativeAssembly",targetId:t.targetId},ba(n,JSON.stringify(t),rt())):wa.loadRenderer(a,r),o()}else(n=f(a.adResponse,r)).adType===Sr&&o(),g.emit(m.h.LOADED,e,n)},Ve("AST library loaded");for(var Dr=0;Dr<l.anq.length;Dr++)typeof l.anq[Dr].called===Tr&&(l.anq[Dr].call(),l.anq[Dr].called=!0);if(!l.requests.checkDisplay){var Rr=et,Mr,Pr=!1;f(document.addEventListener)document.addEventListener("DOMContentLoaded",Or,!1);else if(document.attachEvent){var Nr,n=void 0;try{n=null!==window.frameElement}catch(Rr){}document.documentElement.doScroll&&!n&&(Nr=function(){if(!Pr)try{document.documentElement.doScroll("left"),Or()}catch(e){setTimeout(Nr,10)}})(),document.attachEvent("onreadystatechange",}window.addEventListener?window.addEventListener("load",Or,!1):window.attachEvent?window.attachEvent("onload",Or):(Mr=window.onload,window.onload=}"function"==typeof window.define&&window.define.amd&&window.define("appnexusAst",[],}]);