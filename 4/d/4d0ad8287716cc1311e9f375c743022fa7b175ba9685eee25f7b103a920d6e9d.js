(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6833],{13994:31455:function(e,t,n){"use strict";n.d(t,{Z:function(){return Breadcrumbs}});var r=n(52322),a=n(99219),l=n(51830);,62193:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(52322),a=n(18406),l=n(97185),i=n(86045),s=n(2784),d=n(99219),o=n(21215),m=n(75497),c=n(31455),u=n(49323),x=n(73235),h=n(66547),b=n(76526),v=n(26806);function _templateObject(){let e=(0,x._)(["\n    mutation RemoveTeamMember($data: TeamMemberRemoveInput!) {\n  removeTeamMember(data: $data) {\n    ...Team\n  }\n}\n    ",""]);return _templateObject=function(){return e},e}let f=(0,h.ZP)(_templateObject(),b.t);et g=(0,h.ZP)(getTeam_templateObject(),b.t);var j=n(47330),p=n(86414),y=n(83122),N=n(53954),w=n(5632),T=n(56958),_=n(99083);let E=[{Header:"Member",width:180,Cell:e=>{let{cell:{row:{original:{user:t}}}}=e;return(0,r.jsx)(m._,{user:t})}},{Header:"Role",Cell:e=>{let{cell:{row:{original:t}}}=e;return(0,r.jsx)("div",{className:(0,y.AK)(t.role===j.qm.Manager?"border-blue-300 bg-blue-50 text-blue-800":"border-gray-300 bg-gray-50 text-gray-600","inline-block items-center rounded-md border px-1.5 py-1 text-sm font-normal capitalize leading-none "),children:t.role.toLowerCase()})}},{Header:"",accessor:"id",Cell:e=>{let{cell:{row:{original:t}},canEdit:n,handleRemoveMember:a}=e;return n?(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:className:"mx-2 inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-1 text-base font-medium leading-5 text-gray-700 shadow-sm hover:bg-gray-50",children:"Remove"})}):null}}];function SettingsTeam(){var e,t,n,a;let{currentUser:l}=(0,N.xJ)(),i=(0,w.useRouter)(),[,m]=v.Db(f),[x,h]=(0,s.useState)(!1),b=(0,y.H8)(i.query),k=b.id,[{data:M,fetching:Z,error:C}]=v.aM({query:g,variables:{id:k||""},pause:!k}),O=null==M?void 0:M.team,R=(0,N.j_)(j.KG.Team),P=R===j.KA.Edit,q=R===j.KA.None?{}:{"data-testid":"members-".concat(P?"edit":"view")},z=(null==O?void 0:null===(e=O.members)||void 0===e?void 0:e.length)===0&&!Z,B=[{name:"Teams",href:"/settings/teams"},{name:null!==(t=null==O?void 0:O.name)&&void 0!==t?t:""}],handleRemoveMember=async e=>{var t,n;let r=null===(t=e.user)||void 0===t?void 0:t.email,a=null===(n=e.user)||void 0===n?void 0:n.id;r&&a&&(null==O?void 0:O.id)&&T.A.promise(m({data:{teamId:null==O?void 0:O.id,userId:a}}).then(e=>{let{error:t}=e;if(t)throw t;p.Z.track("team_member_removed")}),{loading:"Removing ".concat(r,"..."),error:e=>(console.error(e),"Error removing ".concat(r)),success:)},A=((null==O?void 0:O.members)||[]).sort((e,t)=>e.role===j.qm.Manager?-1:t.role===j.qm.Manager?1:0)||[],{editTeam:S,updateEditTeam:H,setEditTeam:K}=(0,_.Ry)(),handleOpenEditModal=return(0,r.jsxs)("div",{className:"mx-auto w-full max-w-3xl",...q,children:[(0,r.jsxs)("header",{children:[(0,r.jsx)(c.Z,{nav:B}),(0,r.jsx)(o.Z,{title:null!==(n=null==O?void 0:O.name)&&void 0!==n?n:"",description:null!==(a=null==O?void 0:O.description)&&void 0!==a?a:"",Actions:(0,r.jsx)(EditTeamButton,{enabled:!z&&P,handleClick:handleOpenEditModal})})]}),(0,r.jsx)("div",{className:"flex flex-col lg:flex-row-reverse",children:Z?(0,r.jsx)("div",{}):z?(0,r.jsx)("div",{className:"flex w-full items-center justify-center rounded-md border p-4 text-center text-gray-500 md:p-6",children:(0,r.jsxs)("div",{className:"mx-auto max-w-3xl px-6 py-16 text-center",children:[(0,r.jsx)("div",{className:"text-blue m-auto mb-3 inline-block",children:(0,r.jsx)(d.yjj,{className:"h-8 w-8"})}),(0,r.jsx)("h2",{className:"mb-2 text-lg font-semibold text-gray-800",children:"There are no members yet in this team"}),(0,r.jsx)("div",{className:"mb-7 text-base text-gray-500",children:"Members can be added to teams to administer certain workspace items."}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(EditTeamButton,{enabled:P,handleClick:handleOpenEditModal})})]})}):(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(u.Z,{columns:E,cellProps:{handleRemoveMember,canEdit:P},data:A,loading:Z})})}),(0,r.jsx)(_.ZP,{editTeam:S,updateEditTeam:H,open:x,handleClose:)]})}let EditTeamButton=e=>{let{enabled:t,handleClick:n}=e;return t?(0,r.jsx)("button",{onClick:n,className:"duration-70 flex items-center justify-between rounded-md border border-zinc-900 bg-zinc-900 px-3 py-2 text-base font-medium text-white transition-all hover:bg-zinc-700 focus:border-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-300",children:(0,r.jsx)("span",{className:"flex-1",children:"Edit team"})}):null};var k=n(81291);function TeamPage(){return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(k.Z,{title:"Team",includeSlug:!0}),(0,r.jsx)(i.Z,{children:(0,r.jsx)(SettingsTeam,{})})]})}TeamPage.getLayout=var M=TeamPage}},function(e){e.O(0,[3211,8426,3265,1617,4637,5837,7274,4054,7330,9219,5306,6870,7156,6456,7185,5157,9083,9774,2888,179],,_N_E=e.O()}]);
//# sourceMappingURL=[id]-8d6849cfb0c2e3c7.js.map