"use strict";(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[4050],{9969:(t,e,s)=>{s.d(e,{Z:()=>y});var r=s(35272),i=s(46423),n=s(54067),a=s(27009),o=s(26152),l=s(32420),d=s(23653),c=s(34853);const h=["id","src","ops","type","width","height","mediaServerUrl"];ar p=s(71130),u=s(32034),g=s(60067),v=s(75628),f=s(74300);const Z=(0,u.P1)(((t,{type:e,id:s})=>e===d.bV.LIVE?(0,f.oE)(t,{stationId:s}):""),(,(),y=(0,p.connect)((0,u.zB)({appMounted:g.ih,mediaServerUrl:v.C3,siteUrl:v.$2,src:Z}))((function(t){let e,{id:s,src:p,ops:u=[],type:g,width:v,height:f,mediaServerUrl:Z}=t,y=t,h);return g===d.bV.LIVE&&p===l.W$&&i.ZP.warn(i.Ke.REACT,"Cannot generate live station image without a src prop"),e=null!=p&&p.length?p:g&&s?(0,a.pO)(Z,{id:s,resourceType:g}):l.W$,(0,c.tZ)(n.ZP,m({ops:[v?(0,o.Tj)(v,f||v):r.Z,...u.filter(()],src:e},y))}))},46716:(t,e,s)=>{s.r(e),s.d(e,{default:);var r=s(9969),i=s(17),n=s(85826),a=s(45420),o=s(59277),l=s(72798),d=s(96832),c=s(71130),h=s(32034),m=s(75628),p=s(88645),u=s(11129),g=s(3849),v=s(34853),f=s(7862);const Z=(0,a.Z)(f.string)(n.Z);class y extends d.Component{constructor(...t){super(...t),this.state=this.getInitialState(),this.onChange=()=>{var t;return("string"==typeof(t=document.querySelector('[class="stationName"]')).innerText?t.innerText:t.textContent).length<13},this.onSubmit=t=>{const{ampUrl:e,profileId:s,sessionId:r}=this.props;return(0,l.Z)((0,p.Gt)({ampUrl:e,profileId:s,seedId:s,sessionId:r})).then((({data:n})=>{let a=this.state.stationId;const d=(0,i.Z)(n,["value","id"]);if(d?(a=d,o.Z.setItem("ihr-favorites-id",d)):a=o.Z.getItem("ihr-favorites-id"),!t)return!1;(0,l.Z)((0,p.e5)({ampUrl:e,name:t,profileId:s,sessionId:r,stationId:a})).then((({data:e})=>{if(e.success)return this.setState({stationName:t}),this.props.onSuccess(t),!0}),()})),!1}}getInitialState(){let t=this.props.stationName||"My";return t.indexOf(" Favorites Radio")>-1&&(t=t.split(" Favorites Radio")[0]),{stationId:this.props.stationId,stationName:t}}render(){return(0,v.tZ)("div",{children:(0,v.tZ)(Z,{fontSize:"1.8rem",getErrorMessage:t=>t&&t.length<2?this.props.translate("Rename your Favorites Radio station now."):"",initialValue:this.state.stationName,onSave:this.onSubmit,small:!0})})}}const I=(0,h.zB)({ampUrl:m.h_,profileId:u.v4,sessionId:u.MQ}),S=(0,g.NC)("translate")((0,c.connect)(I)(y));var b=s(46255);const w=(0,b.Z)("div",{target:"es1aedh0"})({name:"1vcv6o8",styles:"font-size:1.6rem;line-height:2rem;padding-top:0.6rem"}),x=(0,b.Z)("div",{target:"ex8alaq0"})({name:"1eywbip",styles:"font-size:3.2rem;font-weight:bold;max-width:calc(100% - 4rem);margin:0.8rem 0;padding-top:0.4rem;text-align:left"});var O=s(90758),_=s(12243),C=s(40887),U=s(53455),A=s(42622),N=s(54067),E={name:"1ehdtg4",styles:"max-width:36rem"},R={name:"1s4xd7h",styles:"margin:0 auto;max-width:10rem"};const L=({close:t,modal:e})=>{const s=(0,c.useDispatch)(),i=(0,O.Z)(),n=(0,c.useSelector)(_.UA),a=(0,c.useSelector)(_.oY);return(0,v.tZ)(e,{children:(0,v.tZ)(e.Container,{children:(0,v.BX)(e.Content,{css:E,children:[(0,v.tZ)("div",{css:R,children:(0,v.tZ)(r.Z,{alt:"",aspectRatio:1,src:n,width:N.ul})}),(0,v.BX)(x,{className:"dialog-title",children:[i("Welcome to"),(0,v.tZ)("br",{}),i("Your Favorites Radio!")]}),(0,v.tZ)(w,{css:t=>({color:t.colors.gray[400]}),children:i("All your favorites and thumbs up in one station. The more you interact with iHeart, the better it gets.")}),(0,v.tZ)(w,{css:children:i("Please name your station now:")}),(0,v.tZ)(S,{onSuccess:e=>{(t=>{const e=t.indexOf("Favorites Radio")>-1?t:`${t} Favorites Radio`;s((0,C.zZ)("favorites.named",1)),s((0,A.Td)(e)),s((0,U.fA)(e))})(e),t()},stationName:a,transport:l.Z})]})})})}}}]);
//# sourceMappingURL=components-NewFavoritesModal.www.js.map