(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([["infogram-charts/dep-34"],{5262:(t,e,r)=>{r.d(e,{OQ:()=>s,i7:()=>h,op:()=>f});var a=r(3072);var n=r(391);var i=r(3090);var o=r(5232);var l=r(3100);var c=r(1737);unction s(t,e,r,a,n,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;var l=[];return t.forEach(function(t,r){if(null!==t.y){var c={};var u=t.xPos;var s=u;var h="start";var f=n-u;var v=u;var d=-1;var g=!0;var p=e.collection[r];var y=p.width+a;var x=Math.round(Math.abs(t.width));var m=!i&&x>y;(t.x<o||t.x===o&&"POPULATION_PYRAMID_LEFT"===t.seriesIdx)&&(h="end",v=f,f=u,d=1),m?s-=d*a:f>=x+y?s-=d*(x+a):v>=y?(s+=d*a,h="end"===h?"start":"end"):g=!1,g&&(c.inside=m,c.textX=s,c.textY=t.yPos+t.height/2+.25*p.height,c.textAnchor=h,c.text=t.xLabel,c.index=r,c.seriesIdx=t.seriesIdx,c.yLabel=t.yLabel,c.xLabel=t.xLabel,c.groupLabel=t.groupLabel,c.color=t.color,l.push(c))}}),l}function h(t,e,r,a){var n=[];return t.forEach(function(t,o){if(null!==t.y){var l={};var c=t.xPos;var u=e.collection[o];var s=u.width;var h=s+2*a;var f=Math.round(Math.abs(t.width));var v=f-2*a;var d=t.yLabel;if(!(f>h)){var g=i.xv.getTrimmedText([d],r,v),p=g.collection,y=g.widths;(d=p[0])===i.dH?(d="",s=0):s=y[0]}l.textX=Math.round(a+c+(v-s)/2),l.inside=!0,l.textY=Math.round(t.yPos+t.height/2+.25*u.height),l.textAnchor="start",l.text=d,l.index=o,l.seriesIdx=t.seriesIdx,l.yLabel=t.yLabel,l.xLabel=t.xLabel,l.groupLabel=t.groupLabel,l.color=t.color,n.push(l)}}),n}function f(t){var e=t.chartId,r=t.selection,i=t.data,s=t.textStyle,h=t.tooltip,f=t.tooltipText,v=t.tooltipTextValue,d=t.legend,g=t.format;var p=function(t,e){return function(){var r=(0,c.B)(t);return r.opacity=e,r.toString()}};var y=var x=function(t,e){var r=(0,o.FZ)(s);if(r.manual){var n=r.stroke,i=r.fill;var l=p(i,.3);var u=p(n,.3);e.on("highlightStart.text",function(e){var r=t.filter(y(e)).transition().duration(150).ease(a.G).style("fill",l);r.select(".text-outline").attr("stroke",u).attr("fill",u),r.select(".text-outline-fill").style("fill",l)}),e.on("highlightEnd.text",function(e){var r=t.filter(y(e)).transition().duration(150).ease(a.G).style("fill",(0,c.B)(i).toString());r.select(".text-outline").attr("fill",(0,c.B)(n).toString()).attr("stroke",(0,c.B)(n).toString()),r.select(".text-outline-fill").style("fill",(0,c.B)(i).toString())});return}e.on("highlightStart.text",function(e){t.filter(y(e)).transition().duration(150).ease(a.G).style("opacity",.3)}),e.on("highlightEnd.text",};function m(){var t;return t=function(t,a){var i,c,u;return this,function(t){return i=(i=r.selectAll(".igc-labels").data([0])).merge(i.enter().append("g").attr("class","igc-labels")),c=(0,o._)(i,a,s),(0,o.s6)(c,s,g),u=(0,n.Z)("highlightStart","highlightEnd","openUrl"),d&&d.data().forEach(function(t){d.addListener({id:"".concat(e,"_").concat(t.groupId),dispatch:u})}),[2,new Promise(function(t){var e=0;c.transition().duration(50).style("opacity",1).on("start",.on("end",,x(c,u),(0,l.U)(c.filter(function(t){return t.inside}),u,h,f,v)})]})},(m=.apply(this,arguments)}return r,i)}},5261:(t,e,r)=>{r.d(e,{$:()=>N,M:()=>F});var a=r(449);var n=r.n(a);var i=r(5249);var o=r(3079);var l=r(5226);var c=r(3101);var u=r(3071);var s=r(5220);var h=r(5262);var f=r(5234);var v=r(3057);var d=r(3106);var g=r(5263);var p=r(5219);var y=r(3107);var x=r(5222);var m=r(5264);var b=r(5228);var w=r(5230);var S=r(3089);var k=r(942);var O=r(3096);var L=r(5245);var P=r(941);var T=r(3104);var I=r(3098);var E=r(944);var A=r(943);var M=r(3066);var Z=r(3067);var j=r(5265);var V=r(5266);bar",j.$);var W=["PopulationPyramid","Tornado"];var N=function(t){"use strict";var e;!a,t);var r=(e=),;ar s,Z;return Z=[{key:"getClassName",value:],s=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,r=this.root;var a=new L.T({instance:this});var s=this.getSheetData();var Z=(0,y.s)(s);var j=this.runtime={width:e.width,height:e.height,components:{},metrics:{},layout:{},sheet:s,formatter:Z,inanimate:(0,d.U7)(e)};var V=j.layout;var C=e.fixedHeight;var D=s.axis[0];var G=s.axis[1];var U="absolute"===e.series.data;var R=U?(0,f.FW)(this):[this.prepareSheetData(s)];var _=U?R[this.sheetIndex]:R[0];var N=["PopulationPyramid","Tornado"].includes(this.getClassName());if(this.createTickIntervals(),(0,O.Z)(this,{width:j.width}),(0,T.o)(this,e.style.legend),N&&(0,I.wL)({instance:this,attachEvents:),!v.k.prototype.sheetsNotFound.call(this)){var X={top:0,right:1,bottom:0,left:0};var Q=j.layout.marginTitle={left:0,right:0,top:0,bottom:0};var Y=j.layout.marginAxis={left:0,right:0};var $={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0};var q=V.leftLabelPadding={top:0,right:10,bottom:0,left:0};var J;var K=this.getClassName();var tt=this.createAnimationCounter(W.includes(K)?3:_.length+2);s.categories.categoryHeight&&(J=Number(s.categories.categoryHeight)),_[0].data=_[0].data.filter(;var te=_[0].data.map(function(t){return t.y});if(te.length<1)return this.events.call("startAnimation"),this.events.call("endAnimation"),this.resetRootElement();var tr=e.style.axis.x;var ta=e.style.axis.y;this.titleLayout(["x","y"]);var tn={height:0};D.ticks&&((tn=(0,k.Zw)(Z.axis.x.tickSample(),tr.tick)).height=Math.min(tn.height,30));var ti=j.width-X.left-Q.left-X.right-Q.right;var to=j.height-X.top-Q.top-X.bottom-Q.bottom;var tl=(0,l.Z)(0,te.length);var tc=(0,i.Z)().domain(tl).padding(.1);if(!C&&J){var tu=10;for(tc.range([0,tu-(tn.height+5)]);tc.bandwidth()-J<0;)tu+=1,tc.range([0,tu-(tn.height+5)]);tu-=1,j.height=tu+X.top+Q.top+X.bottom+Q.bottom,to=tu}var ts=to-(tn.height+5);tc.range([0,ts]);var th=ti-Y.left-Y.right;var tf=(0,f.xQ)("x");var tv=j.xDomain=(0,f.bt)(tf)(R);s.grid.symmetrical&&(tv=(0,p.HU)(tv));var td=(0,p.b9)(D,tv);G.ticks||(q.right=0);var tg=!!G.aboveVisual;var tp=e.style.axis.y.tick.align;var ty=q.right;tv[0]<0&&(ty*=2);var tx=(0,k.Zw)(te,ta.tick);$.maxLeftCategoryWidth=.35*th-q.right,$.maxLeftCategoryHeight=tc.bandwidth()+.1*tc.bandwidth()/.9-q.top-q.bottom;var tm=j.metrics.leftCategoryWidth=0;var tb=!1;var tw;G.ticks&&!tg&&(tx.width<=$.maxLeftCategoryHeight?tm=tx.height:((tb=$.maxLeftCategoryHeight<tx.height)&&(tw=(0,x.RL)(tc,tx,(0,k.w7)(te,ta.tick))),Math.ceil(tm=S.UH.wrappedText($.maxLeftCategoryWidth,tw?tw.map(function(t){return te[t]}):te,ta.tick,tx.height).width)<=$.maxLeftCategoryWidth&&(tm=Math.ceil(tm)))),j.metrics.leftCategoryWidth=tm;var tS=(0,m.d)().scale(tc).data(te).style(ta.tick).bounds({width:tm+q.right,height:to}).offset({left:-(tm+ty),top:0}).padding(q);tb&&tS.indexFilter(tw);var tk=j.xScale=(0,o.Z)().clamp(td);tk.domain(tv);var tO={visible:!1};if(tg){ty=0;var tL=tk.copy();tL.range([0,th]);var tP="center"===tp?Math.ceil(tx.width/2):tx.width+5;(function(t,e,r){var a;var n=t.domain().slice();var i=z(n,2),o=i[0],l=i[1];var u=[t(o),t(l)],s=u[0],h=u[1];var f=(0,c.Z)(t.range());var v=z(e,2),d=v[0],g=v[1];var p,y,x;var m=(y=(p=z(n,2))[0],x=p[1],y<=0&&x>=0)?0:(a=Math).min.apply(a,H(n));var b=t(m);var w=0;if(!(d>0)||!(g>0)||!(d+g>h-s)){if(d>0&&Math.abs(s-t(m))<d){var S=Math.abs(t(m)-d);var k=t.range().slice();for(;S>s;){k=t.range().slice();var O=S-s;if(O<A.sU||(t.range([k[0]+O,k[1]]),t(m)===b))break;if(S=Math.abs(t(m)-d),(w=Math.abs(d-Math.abs(t(m)-t(o))))>r){t.range(k),w=Math.abs(d-Math.abs(t(m)-t(o)));break}}w=Math.min(w,r),t.range([w,f])}var L=0;if(g>0&&Math.abs(h-t(m))<g){var P=t(m);var T=Math.abs(t(m)+g);var I=t.range().slice();for(;T>h;){I=t.range().slice();var E=h-T;if(E>-A.sU||(t.range([I[0],I[1]+E]),t(m)===P))break;if(T=Math.abs(t(m)+g),(L=Math.abs(g-Math.abs(t(m)-t(l))))>r){t.range(I),L=Math.abs(g-Math.abs(t(m)-t(l)));break}}L=Math.min(L,r),t.range([w,f-L-w])}}})(tL,[["center","right"].includes(tp)?tP:0,["center","left"].includes(tp)?tP:0],$.maxLeftCategoryWidth),(tO=function(t){var e=t.height,r=t.categories,a=t.metrics,n=t.x0,i=t.align;var o=function(t){var e=function(e){return t[e].y};return Object.assign(e,u),e};var l=e/r.length-9-a.height;var c={labels:[],bars:[],visible:!1};var u={bandwidth:function(){return l},copy:;if(l>=1){var s=0+a.baseLineOffset;var h=a.height+3;var f="left"===i?n+5:"center"===i?n:n-5;var v="left"===i?"start":"center"===i?"middle":"end";r.reduce(function(t,e){var r={x:f,y:s,text:e,textAnchor:v};var n={y:h};return s+=a.height+9+l,h+=l+a.height+9,t.labels.push(r),t.bars.push(n),t},c),c.scale=o(c.bars),c.visible=!0}return c}({height:ts,categories:te,metrics:tx,x0:tL(0),align:tp})).visible?(tc=tO.scale,ty=0,tk.range(tL.range().slice())):(th-=tm+ty,tk.range([0,th]))}else th-=tm+ty,tk.range([0,th]);j.metrics.leftCategoryWidth=tm;var tT=n().get(s,"graphOptions.bar",{}),tI=tT.showValues;if(tT.valuesOutside&&tI&&((0,g.V)({scale:tk,graphs:n().flatten(R),axisOptions:D,getText:getTextMetrics:getValue:function(t){return t.x},getTextSize:function(t){return t.width},adjust:barSize:function(t,e){return t>0?e(t)-e(0):e(0)-e(t)}}),s.grid.symmetrical)){var tE=(0,p.HU)(tk.domain());tk.domain(tE)}var tA=(0,w.V)().scale(tc).orient(w.V.ORIENTS.horizontal).tickSize(-ti).highlightZero(!N&&s.grid.horizontalZeroHighlight).style(e.style.grid);s.grid.horizontal||tA.tickValues([]);var tM=j.components.xGridLines=(0,w.V)().scale(tk).orient(w.V.ORIENTS.vertical).tickSize(to).highlightZero(!N&&s.grid.verticalZeroHighlight).style(e.style.grid);var tZ=j.components.xAxisBottomText=(0,b.R)().scale(tk).orient("bottom").style(tr.tick).textOffset(-5).offset({top:to-tn.height/4});V.igc={x:X.left+Q.left+Y.left+(tm+ty),y:X.top+Q.top},this.xTicksSetup(),this.gridSetupVertical(),this.titleComponents(["x","y"]);var tj=j.components,tV=tj.bottomTitle,tC=tj.leftTitle;tV.orientBounds({y2:j.height-X.bottom-5,y1:X.top,x2:j.width,x1:X.left+Q.left+Y.left+tm+tS.padding().right}),tC.orientBounds({x2:j.width,x1:X.left+4,y2:X.top+Q.top+to,y1:X.top+Q.top}),tV.dispatch().on("animationEnd",tt),j.inanimate&&(0,d.wH)([tC,tV,tM,tA,tZ,tS]),this.containerSetup();var tD=r.select(".igc");r.attr("width",j.width).attr("height",j.height),a.add(function(){tD.selectAll(".igc-labels").remove(),r.transition().ease(u[t.options.animation.ease]).duration(t.options.animation.duration).on("start",.on("end",,tD.attr("transform","translate(".concat(V.igc.x,", ").concat(V.igc.y,")"))}),a.addGrid(tA,"igc-ygrid"),a.addGrid(tM,"igc-xgrid");var tG=(0,P.F2)(this);var tU=function(t){return t.yLabel};var tB=var tR=_.map(function(t){var e=t.data,r=B(t,["data"]);var a;return {data:F({data:e,scaleX:tk,scaleY:tc,getOffsetX:function(){return null!==(a=r.baseValue)&&void 0!==a?a:0},extraPixelSize:1})},r)});if(a.addGraph([{graphs:tR,x:tk,y:tc,textStyle:e.style.graph.item.value,transitionDuration:e.animation.duration,tooltip:tG,tooltipText:tU,tooltipTextValue:tB,animationEnd:["PopulationPyramid","Tornado"].includes(K)?function(){var r=tR.reduce(function(t,r){if(!r.showValues)return t;var a=r.data;var n=tc.bandwidth();var i=(0,k.w7)(a.map(function(t){return Z.labels.format(t.xLabel)}),e.style.graph.item.value);if(n>=i.height){var o=(0,h.OQ)(a,i,e.style.graph.item.value,2,(0,c.Z)(tk.range()),r.valuesOutside,r.baseValue);return H(t).concat(H(o))}return t},[]);if(!r.length){tt();return}(0,h.op)({chartId:t.chartId,selection:tD,data:r,format:function(t){return Z.labels.format(t.text)},textStyle:e.style.graph.item.value,tooltip:tG,tooltipText:tU,tooltipTextValue:tB,legend:!1}).then(tt)}:tt}]),G.ticks){if(a.addGrid(function(t){t.selectAll(".tick").remove(),t.attr("transform",null)},"igc-y-axis-text"),tg){if(tO.visible){var tz;var tH;var t_;var tW;var tN;var tF;var tX=(tz=function(t){t.each(function(){var t=(0,E.Z)(this);var e=[];t.selectAll(".tick").each(;var r=t.selectAll(".tick").data(t_);r.exit().remove(),(r=r.enter().append("g").attr("class","tick").merge(r)).selectAll("text").remove(),r.styles(tH).style("opacity",A.sU),r.each(function(t,e){var r=(0,E.Z)(this).selectAll("text").data([t_[e]]);r.exit().remove(),(r=r.enter().append("text").merge(r)).attr("x",t.x).attr("y",t.y).attr("text-anchor",t.textAnchor).attr("fill",tH.color).text(function(t){return t.text})}),tW?tF(t.selectAll(".tick").transition().delay(tN)):t.selectAll(".tick").call(tF)})},tH=(0,M.BX)(),t_=[],tW=!0,tN=0,tF=Object.assign(tz,{data:function(t){return arguments.length?(t_=t,tz):t_},style:function(t){return arguments.length?(tH=t,tz):tH},animate:function(t){return arguments.length&&(tW=t),tz},animationDelay:),tz).data(tO.labels).style(ta.tick).animate(!j.inanimate).animationDelay(1200);a.addGrid(tX,"igc-y-axis-text")}}else a.addGrid(tS,"igc-y-axis-text");s.grid.vertical&&!tg?a.add(function(){t.createBorderLineFunc(r.select(".igc .igc-grid .igc-y-axis-text"),tS)()}):a.addGrid("igc-y-axis-text")}else a.addGrid("igc-y-axis-text");a.addGrid(tZ,"igc-x-axis-text"),a.addTitle(tC,"igc-title-left"),a.addTitle(tV,"igc-title-bottom"),a.start()}}},{key:"graphInstanceSetup",value:function(t,e,r,a,n){var i=this;var o=this.runtime.formatter;var l=e.data.length;var u=(0,d.R4)(this,;var s=this.getClassName();var f="Bar"===s;var v=this.options.style.graph.item.value,g=v.placementStrategy,p=(v.hideOverlapping,v.align),y=B(v,["placementStrategy","hideOverlapping","align"]);var x=f&&"aligned"===g;var m=a.tooltip,b=a.tooltipText,w=a.tooltipTextValue;var S;var O=null!==(S=e.baseValue)&&void 0!==S?S:0;var L=e.data;t.data(L).groupId(n).alpha(this.options.opacity).tooltip(m).tooltipText(b).tooltipValue(w).transitionDelay(u).transitionDuration(a.transitionDuration),W.includes(s)||t.dispatch().on("animationEnd",function(){if(!e.showValues){a.animationEnd();return}var t=i.root.select(".igc");if(x){var r;var n=(r=e.data.map(function(t){return t.color}),e.data.map(function(t,e){return{categoryIdx:e,colors:r,data:[{x:t.x,y:e,xLabel:t.xLabel,yLabel:t.y,seriesIdx:e}]}}));var l=(0,V.DD)({graphs:n,xScale:a.x,yScale:a.y,style:y,formatter:o,hideOverlapping:!1,align:e.valuesOutside?"outside":p});(0,V.l5)({data:l,selection:t,style:y,chartId:i.chartId,tooltip:m,tooltipText:b,tooltipTextValue:w,outlineColorAlways:!1,colors:n[0].colors}).then(a.animationEnd);return}var u=a.y.bandwidth();var s=(0,k.w7)(L.map(function(t){return o.labels.format(t.xLabel)}),a.textStyle);var f=[];if(u>=s.height&&(f=(0,h.OQ)(L,s,a.textStyle,2,(0,c.Z)(a.x.range()),e.valuesOutside,O)),!f.length){a.animationEnd();return}(0,h.op)({chartId:i.chartId,selection:t,data:f,format:textStyle:a.textStyle,tooltip:m,tooltipText:b,tooltipTextValue:w,legend:!1}).then(a.animationEnd)})}},{key:"defaults",value:,{key:"emptySheetData",value:function(){return n().merge({},G(U(a.prototype),"emptySheetData",this).call(this),{series:[{title:"",type:"bar"}],graphOptions:{bar:{showValues:!0,valuesOutside:!1}},axis:[{title:"",ticks:!0,tickInterval:10},{title:"",ticks:!0}],grid:{vertical:!0,verticalZeroHighlight:!0,horizontal:!1}})}},{key:"prepareSheetData",value:function(t){var e=t.categories.colors;var r=n().get(t,"series[0]");var a=r.type;var i=n().get(t,"graphOptions.bar",{}),o=i.showValues,l=i.valuesOutside;return[{type:a,data:r.data.map(function(a,i){return{x:(0,k.IP)(a,null),y:(0,k.IP)(t.categories.data[i]),xLabel:(0,k.IP)(r.rawData[i]),color:(0,k.Lq)(i,e),link:n().get(r,"links[".concat(i,"]"),null)}}),showValues:o,valuesOutside:l}]}}],D(a.prototype,s),Z&&D(a,Z),a}(s.s);function F(t){var e=t.data,r=t.scaleX,a=t.scaleY,n=t.getOffsetX,i=t.extraPixelSize;var o=a.bandwidth();return e.reduce(function(t,e,l){var c={};var u=n(e);return c.x=e.x,c.xLabel=e.xLabel,c.y=e.y,c.yLabel=e.y,c.height=o,c.width=r(e.x)-r(u),c.xPos=Math.round(r(u)+(i&&c.width>0?i:0)),c.yPos=a(l),c.color=e.color,c.index=l,c.seriesIdx=e.seriesIdx,c.link=e.link,t.push(c),t},[])}},5234:5265:(t,e,r)=>{r.d(e,{$:);var a=r(449);var n=r.n(a);var i=r(944);var o=r(391);var l=r(3075);var c=r(3072);var u=r(942);var s=r(3069);var h=r(941);var f=r(3100);function v(){var t=function(t){m.duration.x=S,0===S&&(m.duration.y=S,m.duration.text=S),t.each(function(){if(!v.length){k.call("animationStart"),k.call("animationUpdateEnd"),k.call("animationEnd");return}var t=(0,i.Z)(this);var o=t.selectAll("path");o.transition().duration(0),t.selectAll("text").remove();var l=[];o.each(function(t){l.push(n().merge({},t))}),0===l.length&&(l=v.map(function(t){return n().merge({},t,{width:0})})),(0,u.Jz)(l,v,;var c=function(t){a(t),(0,f.U)(t,k,P,O,L),k.call("animationEnd")};e(l[0]);var s=t.selectAll("path").data(l);var h=s.enter().insert("path","text");var d=0===s.size()&&s.size()<h.size();s.exit().remove(),s.style("stroke-width",0).style("fill",.style("opacity",p);var g=m.duration;d?(k.call("animationStart"),k.call("animationUpdateEnd"),h.call(r,function(){c(s.merge(h))})):(k.call("animationStart"),s.transition().duration(g.x).attrTween("d",x().transition().duration(g.y).on("start",function(){b.update++}).attrTween("d",x(function(t){return t.next})).on("end",function(){if(0==--b.update){if(k.call("animationUpdateEnd"),0===h.size()){c(s);return}h.call(r,}}))})};var e=function(t){var e={y:["yPos","height"]};var r;var a;var n;if(t){var i=t.next;for(r in m.duration)e[r]&&(n=e[r].length,a=0,e[r].forEach(o),n===a&&(m.duration[r]=0))};var r=function(t,e){t.style("fill",function(t){return t.color}).style("stroke-width",0).style("opacity",p).attr("d",,t.transition().duration(S).ease(l._D).delay(w).attrTween("d",x(function(t){return t.next})).on("start",.on("end",function(){0==--b.enter&&e()})};var a=function(t){T&&T.data().forEach(,k.on("highlightStart",function(e){t.filter(function(t){return t.seriesIdx!==e}).transition().duration(150).ease(c.G).style("opacity",.3*p)}),k.on("highlightEnd",function(e){t.filter(.transition().duration(150).ease(c.G).style("opacity",p)})};var v=[];var d;var g;var p=1;var y=s.sc;var x=(0,s.og)(y,"y");var m={duration:{x:700,y:400}};var b={enter:0,update:0};var w=0;var S=700;var k=(0,o.Z)("highlightStart","highlightEnd","animationStart","animationEnd","animationUpdateEnd","openUrl");var O=function(t){return t.x};var L=var P=h.gB;var T;return Object.assign(t,{data:function(e){return arguments.length?(v=e,t):v},groupId:function(e){return arguments.length?(g=e,t):g},chartId:function(e){return arguments.length?(d=e,t):d},dispatch:alpha:function(e){return arguments.length?(p=e,t):p},tooltip:function(e){return arguments.length?(P=e,t):P},tooltipText:function(e){return arguments.length?(O=e,t):O},tooltipValue:function(e){return arguments.length?(L=e,t):L},transitionDelay:function(e){return arguments.length?(w=e,t):w},transitionDuration:function(e){return arguments.length?(S=e,t):S},legend:),t}}}]);