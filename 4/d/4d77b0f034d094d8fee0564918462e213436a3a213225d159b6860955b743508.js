(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1371:function(n,e,u){"use strict";u.r(e);var l={props:{info:{type:Object,default:()=>({})}},render:()=>null},d=u(45),p=Object(d.a)(l,undefined,undefined,!1,null,null,null);e.default=p.exports}}]);:"00"},initialMinutes:{default:"01"},min:null,max:null,hasError:{type:Boolean}},emits:["input","update"],setup(e,t){let{emit:a}=t;const o=e,i=Object(s.ref)(null),n=Object(s.computed)((()=>o.value.timestamp&&-1!==o.value.timestamp)),u=e=>{const{value:t,initialHours:a,initialMinutes:s}=o,r=n.value?new Date(Object(l.e)(t.timestamp)):null;if(!r)return e?{hour:a,minute:s}:null;return{hour:r.getHours().toString().padStart(2,"0"),minute:r.getMinutes().toString().padStart(2,"0")}},d=Object(s.computed)({get(){const{timestamp:e}=o.value;return n.value?Object(l.d)(e,"yyyy-MM-dd"):i.value},set(e){if(e){const t=u(!0);i.value=e,a("input",{timestamp:Object(l.k)(new Date("".concat(e,"T").concat(t.hour,":").concat(t.minute)).getTime())})}else i.value=null}}),c=Object(s.computed)({get(){const e=u(!1);return e?"".concat(e.hour,":").concat(e.minute):""},set(e){if(e){const[t,s]=e.split(":"),r="".concat(d.value,"T").concat(t,":").concat(s);a("input",{timestamp:Object(l.k)(new Date(r).getTime())})}else a("input",{timestamp:-1})}});return{__sfc:!0,props:o,emit:a,INVALID_TIMESTAMP:-1,savedDate:i,isValidTimestamp:n,getSelectedTime:u,selectedDate:d,selectedTime:c,handleEmptyValue:e=>{e.target.value||(i.value=null,a("input",{timestamp:e.target.validity.badInput?-1:null}))},FormList:r.l,FormInputLabeled:r.i,FormLabel:r.k,FormContent:r.c,FormRow:r.o}}}),i=a(45),n=Object(i.a)(o,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.FormList,{staticClass:"space--mb-0 space--mh-0",attrs:{wide:""}},[t(a.FormRow,{attrs:{error:e.hasError&&!a.selectedDate}},[t(a.FormContent,{staticClass:"space--b-0"},[t(a.FormInputLabeled,{ref:"date",attrs:{id:e.name,"input-type":"date",autocomplete:"off",name:e.name,placeholder:e.placeholder,"input-class":" input",min:e.min,max:e.max},on:{blur:a.handleEmptyValue,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.handleEmptyValue.apply(null,arguments)}},model:{value:a.selectedDate,callback:function(e){a.selectedDate=e},expression:"selectedDate"}})],1)],1),a.selectedDate?t(a.FormRow,{staticClass:"space--mt-3",attrs:{error:e.hasError}},[t(a.FormLabel,[e._v(" "+e._s("Tijd")+" ")]),t(a.FormContent,{staticClass:"space--b-0"},[t(a.FormInputLabeled,{attrs:{id:`${e.name}-time`,"input-type":"time",autocomplete:"off",name:`${e.name}-time`,"input-class":"width--all-12 "},model:{value:a.selectedTime,callback:function(e){a.selectedTime=e},expression:"selectedTime"}})],1)],1):e._e()],1)}),[],!1,null,null,null),u=n.exports,d=Object(s.defineComponent)({__name:"form-row-date-native",props:{value:null,fieldName:null,placeholder:null,initialHours:null,initialMinutes:null,min:null,max:null},emits:["input"],setup(e,t){let{emit:a}=t;const l=e,o=Object(s.inject)("$v"),i=Object(s.computed)({get:()=>l.value,set(e){a("input",e)}});return{__sfc:!0,emit:a,$v:o,props:l,localValue:i,FormRow:r.o,FormLabel:r.k,FormContent:r.c,FormMessageList:r.m,ControlDateSelectorNative:u}}}),c=Object(i.a)(d,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.FormRow,{directives:[{name:"track",rawName:"v-track:formField",value:{name:e.fieldName},expression:"{ name: fieldName }",arg:"formField"}]},[t(a.FormLabel,{staticClass:"flex boxAlign-ai--all-c boxAlign-jc--all-sb"},[e._t("label")],2),t(a.FormContent,[t(a.ControlDateSelectorNative,{directives:[{name:"track",rawName:"v-track:submissionFieldSelected.focus",arg:"submissionFieldSelected",modifiers:{focus:!0}}],attrs:{name:e.fieldName,"initial-hours":e.initialHours,"initial-minutes":e.initialMinutes,placeholder:e.placeholder,min:e.min,max:e.max,"has-error":a.$v.error[e.fieldName]},model:{value:a.localValue,callback:function(e){a.localValue=e},expression:"localValue"}}),a.$v.messages[e.fieldName]&&a.$v.messages[e.fieldName].length?t(a.FormMessageList,{attrs:{messages:a.$v.messages[e.fieldName]}}):e._e()],1)],1)}),[],!1,null,null,null);t.a=c.exports},1278:function(e,t,a){"use strict";a.r(t);var s=a(729),r=a(730),l=a(5),o=a(100),i=a(108),n=a(509),u=a(1034),d=a(860),c=a(567),m=a(17),p=a(611),f={__name:"step-final-details-form",setup(e){const t=Object(c.j)(),s=Object(c.e)(),{groups:r}=Object(c.f)(),f=t.value.type===m.o,h=Object(l.computed)((()=>Object(p.b)(t.value))),g={secondaryLabel:"",secondaryLimitLabel:"",primaryLabel:f?"Wat is de meest relevante categorie voor jouw kortingscode?":"Wat is de meest relevante categorie voor jouw aanbieding?",primaryLimitLabel:f?"Jouw kortingscode is toegewezen aan de volgende categorie. Niet de meest relevante? Klik op de categorie om 'm te veranderen.":"Je deal is toegewezen aan de volgende categorie. Niet de meest relevante? Klik op de categorie om deze te wijzigen."},v=Object(l.inject)("$v");const y=Object(o.a)(new Date,"yyyy-MM-dd"),b=Object(o.a)(Object(i.g)().getTime(),"yyyy-MM-dd");return{__sfc:!0,FormWizardAdminSection:()=>Promise.all([a.e(9),a.e(81)]).then(a.bind(null,1226)),thread:t,features:s,groups:r,isVoucherType:f,showAdminSection:h,groupsI18n:g,$v:v,validateStartDate:function(){v.validate("startDate",t.value.startDate),v.validate("endDate",t.value.endDate)},validateEndDate:function(){v.validate("endDate",t.value.endDate)},dateMin:y,dateMax:b,FormList:n.l,FormRow:n.o,FormSeparator:n.p,FormContent:n.c,FormRowDateNative:u.a,FormRowGroups:d.a}}},h=a(45),g=Object(h.a)(f,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.FormList,{staticClass:"space--mh-0 width--all-12 width--max-pageNarrow"},[a.features.startDate?t(a.FormRowDateNative,{staticClass:"width--all-12 width--fromW3-6 flex--inline flex--dir-col space--fromW3-r-2",attrs:{"field-name":"startDate","two-columns-layout":"",placeholder:"Nu",min:a.dateMin,max:a.dateMax,"initial-hours":"00","initial-minutes":"01"},on:{input:a.validateStartDate},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s("Startdag")+" ")]},proxy:!0}],null,!1,2783242260),model:{value:a.thread.startDate,callback:function(t){e.$set(a.thread,"startDate",t)},expression:"thread.startDate"}}):e._e(),t(a.FormRow,{staticClass:"hide--fromW3 space--mt-2 space--mb-3"},[t(a.FormSeparator)],1),a.features.endDate?t(a.FormRowDateNative,{staticClass:"width--all-12 width--fromW3-6 flex--inline flex--dir-col space--fromW3-l-2",attrs:{"field-name":"endDate","two-columns-layout":"",placeholder:"Geen",min:a.dateMin,max:a.dateMax,"initial-hours":"23","initial-minutes":"59"},on:{input:a.validateEndDate},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s("Einddatum")+" ")]},proxy:!0}],null,!1,2885726873),model:{value:a.thread.endDate,callback:function(t){e.$set(a.thread,"endDate",t)},expression:"thread.endDate"}}):e._e(),a.features.groups?t(a.FormRowGroups,{attrs:{thread:a.thread,groups:a.groups,i18n:a.groupsI18n,required:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s("Categorieën"))]},proxy:!0}],null,!1,3473309718),model:{value:a.thread.groups,callback:function(t){e.$set(a.thread,"groups",t)},expression:"thread.groups"}}):e._e(),a.showAdminSection?t(a.FormRow,{},[t(a.FormContent,[t(a.FormWizardAdminSection)],1)],1):e._e()],1)}),[],!1,null,null,null).exports,v={__name:"step-final-details",setup:e=>({__sfc:!0,FormWizardStepBase:s.a,FormWizardStepTitle:r.a,StepFinalDetailsForm:g})},y=Object(h.a)(v,(function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t(a.FormWizardStepBase,{scopedSlots:e._u([{key:"title",fn:function(){return[t(a.FormWizardStepTitle,[e._v(" "+e._s("Laatste details")+" ")])]},proxy:!0},{key:"form",fn:function(){return[t(a.StepFinalDetailsForm)]},proxy:!0}])})}),[],!1,null,null,null);t.default=y.exports},729:function(e,t,a){"use strict";var s={props:{alignCenter:{type:Boolean,default:!1}},computed:{containerClasses(){return{"boxAlign-ai--all-c":this.alignCenter}},hasTitle(){return!!this.$scopedSlots.title},hasSubTitle(){return!!this.$scopedSlots["sub-title"]}}},r=a(45),l=Object(r.a)(s,(function(){var e=this,t=e._self._c;return t("Transition",e._g({attrs:{appear:"",name:"slide-in","leave-active-class":"hide","leave-to-class":"hide"}},e.$listeners),[t("section",{staticClass:"flex flex--grow-1 flex--shrink-0 boxAlign-jc--all-c width--all-12",class:e.containerClasses},[t("div",{staticClass:"flex flex--dir-col space--fromW2-h-4 space--h-3 space--fromW3-t-6 space--b-4 boxAlign-ai--all-c width--all-12"},[e.hasTitle?t("div",{staticClass:"space--mb-4 width--all-12 width--max-pageNarrow"},[e._t("title")],2):e._e(),e.hasSubTitle?t("div",{staticClass:"space--mb-4 width--all-12 width--max-pageNarrow"},[e._t("sub-title")],2):e._e(),e._t("form"),e._t("footnotes")],2)])])}),[],!1,null,null,null);t.a=l.exports},730:function(e,t,a){"use strict";var s=a(45),r=Object(s.a)({},(function(e,t){return e("h1",{staticClass:"size--all-xxxl text--color-charcoal text--b",class:t.data.staticClass},[t._t("default")],2)}),[],!0,null,null,null);t.a=r.exports},746:function(e,t,a){var s=a(248),r=a(323);e.exports=function(e,t){return e&&e.length?r(e,s(t,2)):[]}},860:function(e,t,a){"use strict";var s=a(93),r=a(509),l=a(17),o=a(746),i=a.n(o);var n={components:{FormRow:r.o,FormLabel:r.k,FormContent:r.c,FormMessageList:r.m,GroupSelectorControl:()=>a.e(212).then(a.bind(null,1194))},inject:["$v"],props:{value:{type:Array,default:""},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},thread:{type:Object,required:!0},maxGroups:{type:Number,default:1},groups:{type:Array,default:()=>[]},primaryGroupsName:{type:String,default:"threadGroups"},secondaryGroupsName:{type:String,default:""},i18n:{type:Object,default:()=>({primaryLabel:"",primaryLimitLabel:"",secondaryLabel:"",secondaryLimitLabel:""})},required:{type:Boolean,default:!1},fieldName:{type:String,default:"groups"}},computed:Object.assign({},Object(s.e)("threadForm",{isGroupSearchFeature:e=>{var t;return null===(t=e.features)||void 0===t?void 0:t.groupSearch}}),{localValue:{get(){return this.value},set(e){this.$emit("input",e)}},selectedGroupsIds(){return this.localValue.map((e=>e.threadGroupId)).join(",")},assignedBySystemCategoryIds(){const e=this.$store.state.threadForm.groups.filter((e=>e.assignedBySystem&&e.matchesAutoAssignment)),t=this.$store.state.threadForm.thread.groups.filter((e=>e.assignedBySystem));return i()(e.concat(t),"threadGroupId").map((e=>e.threadGroupId)).sort().join(",")},scopeGroupThreadType(){return this.thread.type===l.e},errors(){var e;return(null===(e=this.$v)||void 0===e?void 0:e.error)||{}},errorsMessages(){var e;return(null===(e=this.$v)||void 0===e?void 0:e.messages)||{}}}),watch:{value(e){e.length&&this.validateGroups(e)}},methods:Object.assign({},Object(s.d)("threadForm",["UPDATE_FIELD"]),{validateGroups(e){this.$v.clear("systemAssignedGroups"),this.secondaryGroupsName&&this.$v.clear(this.secondaryGroupsName),this.$v.validate(this.primaryGroupsName,e)},updateUnselectedGroups(e){this.UPDATE_FIELD({path:"unselectedGroups",value:e})}})},u=a(45),d=Object(u.a)(n,(function(){var e=this,t=e._self._c;return t("FormRow",{directives:[{name:"track",rawName:"v-track:formField",value:{name:e.fieldName},expression:"{ name: fieldName }",arg:"formField"}],attrs:{error:e.errors.threadGroups||e.errors.discussionThreadGroups||e.errors.systemAssignedGroups}},[t("FormLabel",{attrs:{required:e.required}},[e._t("label")],2),t("input",{attrs:{type:"hidden",name:e.primaryGroupsName},domProps:{value:e.selectedGroupsIds}}),e.assignedBySystemCategoryIds?t("div",{directives:[{name:"track",rawName:"v-track:submissionFieldAutoFilled.view",value:{categoryIds:e.assignedBySystemCategoryIds},expression:"{\n\t\t\tcategoryIds: assignedBySystemCategoryIds,\n\t\t}",arg:"submissionFieldAutoFilled",modifiers:{view:!0}}],key:e.assignedBySystemCategoryIds}):e._e(),t("FormContent",[t("GroupSelectorControl",{attrs:{groups:e.groups,"search-enabled":e.isGroupSearchFeature,limit:e.maxGroups,i18n:e.i18n,"thread-type":e.thread.type,"scope-group-thread-type":e.scopeGroupThreadType},on:{"update-unselected-groups":e.updateUnselectedGroups},scopedSlots:e._u([{key:"primary-messages",fn:function(){return[e.errorsMessages[e.primaryGroupsName]&&e.errorsMessages[e.primaryGroupsName].length?t("FormMessageList",{attrs:{messages:e.errorsMessages[e.primaryGroupsName]}}):e._e()]},proxy:!0},{key:"secondary-messages",fn:function(){return[e.errorsMessages[e.secondaryGroupsName]&&e.errorsMessages[e.secondaryGroupsName].length?t("FormMessageList",{attrs:{messages:e.errorsMessages[e.secondaryGroupsName]}}):e._e()]},proxy:!0},{key:"other-messages",fn:function(){return[e.errorsMessages.systemAssignedGroups&&e.errorsMessages.systemAssignedGroups.length?t("FormMessageList",{attrs:{messages:e.errorsMessages.systemAssignedGroups}}):e._e()]},proxy:!0}]),model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})],1)],1)}),[],!1,null,null,null);t.a=d.exports}}]);ge")],2),t.$slots.action?e("button",{staticClass:"linkGrey space--mt-2 size--all-s",on:{click:function(t){return a.emit("action")}}},[t._t("action")],2):t._e()])],1),t.hasCloseButton?e(a.AlertMessageCloseBtn,{on:{click:a.hide}}):t._e()],1):t._e()}),[],!1,null,null,null);e.a=u.exports},883:function(t,e,a){"use strict";var s=a(5);const i=s.default.component("DndZone",{props:{validate:{type:Function,default:function(t,e,a){if(t&&e&&a)return!0}},mirrorMinHeight:{type:Number,default:150},mirrorMaxWidth:{type:Number,default:500},calcInterval:{type:Number,default:150},lockDistance:{type:Number,default:25},shadowAnchor:{type:Function,default:function(){return this.$el}},mirrorAnchor:{type:Function,default:function(){return this.$el}},transitionDuration:{type:Number,default:.2},shadowOpacity:{type:Number,default:.5},shadowMargin:{type:[Boolean,String],default:"0px"},shadowPadding:{type:[Boolean,String],default:!1},dragstartBuffer:{type:Number,default:50},nativeScroll:{type:Boolean,default:!0},handleClass:{type:[Boolean,String],default:!1},pushToLast:{type:Boolean,default:!1}},data:()=>({isDndZone:!0,dndState:"Idle",positionCache:null,lockPosition:!1,dataObject:null,dataObjectContainer:null,registeredContainers:{},shadow:null,mirror:null,transitions:{leaveContainer:{id:null,updated:null},enterContainer:{id:null,updated:null}},dragOffset:{x:0,y:0},intervalID:null,event:null,cursorX:null,cursorY:null,prevX:0,prevY:0,lastAction:0,cursorEl:null,passiveCallback:{passive:!0},scrollInvoked:{top:null,left:null,bottom:null,right:null},activeScroll:!1,shadowPos:{top:0,left:0,pageXOffset:0,pageYOffset:0}}),computed:{dataObjectComponent(){return this.dataObjectContainer?this.dataObjectContainer.getDataObjectComponent(this.dataObject)[0]:null},dataObjectDomElement(){return this.dataObjectComponent?this.dataObjectComponent.$el:null},cursorContainer(){return this.cursorEl&&this.dataObject?this.getValidContainer(this.cursorEl):null},cursorIndex(){return this.cursorContainer&&this.cursorX&&this.cursorY&&!this.lockPosition?this.cursorContainer.getIndex(this.cursorX,this.cursorY):null},cursorPosition(){return this.cursorContainer?this.cursorContainer.dndId+"-"+this.cursorIndex:null}},watch:{cursorPosition(t){if(this.lockPosition)return this.positionCache;if(t&&this.dataObjectContainer){this.positionCache=t;let e=this.cursorContainer;if(!e)return;let a=Math.min(this.dataObjectContainer.dndModel.length-1,this.cursorIndex),s=this.dataObjectContainer.getDataObjectIndex(this.dataObject);if(this.dataObjectContainer==e){let t=Math.min(this.dataObjectContainer.dndModel.length-1,this.cursorIndex),a=this.dataObjectContainer.getDataObjectIndex(this.dataObject);if(a==t)return;if(!this.validate(this.dataObjectComponent,e,this))return;this.$emit("move",{from:{container:e,index:a},to:{container:e,index:t}}),this.dataObjectContainer.removeDataObject(this.dataObject),e.addDataObject(this.dataObject,t),this.lockPosition=!0,e.nr.hasChanged=!0,this.transitions.leaveContainer={id:this.dataObjectContainer.dndId,updated:!1},this.transitions.enterContainer={id:e.dndId,updated:!1}}else{if(e.dndZone!==this.dataObjectContainer.dndZone)return;if(!this.validate(this.dataObjectComponent,e,this))return;this.$emit("move",{from:{container:this.dataObjectContainer,index:s},to:{container:e,index:a}}),this.dataObjectContainer.removeDataObject(this.dataObject),this.dataObjectContainer.nr.hasChanged=!0,e.addDataObject(this.dataObject,this.cursorIndex,this.pushToLast),e.nr.hasChanged=!0,this.lockPosition=!0,this.transitions.leaveContainer={id:this.dataObjectContainer.dndId,updated:!1},this.transitions.enterContainer={id:e.dndId,updated:!1}}}}},mounted(){document.documentElement.style.setProperty("--dnd-transition-duration",this.transitionDuration+"s"),this.$el.addEventListener("mousedown",this.routeEvent),this.$el.addEventListener("touchstart",this.routeTouchEvent),this.$el.addEventListener("drag",this.muteEvent,!1),this.$el.addEventListener("dragstart",this.muteEvent,!1)},beforeDestroy(){this.$el.removeEventListener("mousedown",this.routeEvent),this.$el.removeEventListener("touchstart",this.routeTouchEvent),this.$el.removeEventListener("drag",this.muteEvent,!1),this.$el.removeEventListener("dragstart",this.muteEvent,!1)},methods:{routeEvent(t){if("mouseup"===t.type||0===t.buttons)this.clear();else if("mousedown"===t.type&&1===t.buttons)this.event=t,this.init(t);else if("mousemove"===t.type&&1===t.buttons&&(this.event=t,this.animateMirror(),!this.nativeScroll)){let t=this.canScroll();for(let e in t)t[e]&&!this.scrollInvoked[e]&&this.scroll(e)}},routeTouchEvent(t){if(t.touches.length>1)return!1;if("touchend"===t.type&&"DragTrack"===this.dndState&&(t.preventDefault(),t.stopPropagation()),"touchend"===t.type||t.touches.length>1)t.target.removeEventListener("touchmove",this.routeTouchEvent),t.target.removeEventListener("touchend",this.routeTouchEvent),this.clear();else if("touchstart"===t.type)t.target.addEventListener("touchmove",this.routeTouchEvent),t.target.addEventListener("touchend",this.routeTouchEvent),this.setTouchEvent(t),this.init(t);else if("touchmove"===t.type){if("DragTrack"===this.dndState&&(t.preventDefault(),t.stopPropagation(),this.setTouchEvent(t),this.animateMirror(),!this.nativeScroll)){let t=this.canScroll();for(let e in t)t[e]&&!this.scrollInvoked[e]&&this.scroll(e)}"DragStartBuffer"===this.dndState&&this.setIdleState()}},setTouchEvent(t){let e=t.touches[0]?t.touches[0].screenX:0,a=t.touches[0]?t.touches[0].screenY:0,s=t.touches[0]?t.touches[0].clientX:0,i=t.touches[0]?t.touches[0].clientY:0;this.event={screenX:e,screenY:a,clientX:s,clientY:i,target:"touchmove"===t.type?document.elementFromPoint(s,i)||document.body:t.target}},init(t){"Idle"===this.dndState&&(this.dndState="DragStartBuffer",window.setTimeout(function(){if("DragStartBuffer"===this.dndState){if(this.handleClass&&!t.target.classList.contains(this.handleClass))return void(this.dndState="Idle");let e=this.getValidItem(t.target);if(!e)return void(this.dndState="Idle");this.dataObject=e.dndModel;let a=this.getContainer(e);if(e&&a){this.dataObject=e.dndModel,this.updateDataObjectContainer(),this.dataObjectContainer.$children[0].$vnode.componentInstance._hasMove=!0,this.addListeners(),this.$el.classList.add("dnd-zone"),document.documentElement.style.setProperty("--dnd-transition-duration",this.transitionDuration+"s");let t=e.$el,a=e.$el.getBoundingClientRect();this.animateShadow(a,t),this.animateMirror(a,t),this.nativeScroll||(this.activeScroll=!0),Object.keys(this.registeredContainers).forEach((t=>{this.registeredContainers[t].saveRects()})),this.dataObjectDomElement.classList.add("dnd-dragged"),clearInterval(this.intervalID),this.intervalID=window.setInterval(this.track,this.calcInterval),this.dndState="DragTrack"}else this.dndState="Idle"}}.bind(this),this.dragstartBuffer))},animateShadow(t,e){!this.shadow&&t&&e?(this.shadow=e.cloneNode(!0),this.shadow.classList.add("dnd-shadow"),this.shadowOpacity&&this.shadow.style.setProperty("opacity",this.shadowOpacity,"important"),this.shadowMargin&&this.shadow.style.setProperty("margin",this.shadowMargin,"important"),this.shadowPadding&&this.shadow.style.setProperty("padding",this.shadowPadding,"important"),this.setRect(this.shadow,t),this.shadowAnchor().append(this.shadow)):t&&this.setRect(this.shadow,t)},animateMirror(t,e){if(!this.mirror&&t&&e){let a=document.createElement(e.parentElement.tagName),s=e.cloneNode(!0);a.append(s),this.cloneAttributes(a,e.parentElement),this.cloneAttributes(s,e),this.dragOffset.x=this.event.clientX-t.left,this.dragOffset.y=this.event.clientY-t.top;let i=this.mirrorMaxWidth/t.width,n=this.mirrorMinHeight/t.height,r=Math.min(1,Math.max(i,n));this.dragOffset.x*=r,this.dragOffset.y*=r,s.style.setProperty("transform","scale("+r+","+r+")"),s.style.setProperty("transform-origin","0 0"),s.style.setProperty("position","fixed","important"),s.classList.add("dnd-mirror"),s.style.setProperty("margin","0","important"),s.style.setProperty("width",t.width+"px","important"),s.style.setProperty("height",t.height+"px","important"),s.style.setProperty("pointer-events","none","important"),s.style.setProperty("visibility","visible","important"),a.style.setProperty("padding","0","important"),a.style.setProperty("visibility","hidden","important"),a.style.setProperty("position","fixed","important"),a.style.setProperty("pointer-events","none","important"),a.style.setProperty("width","0px","important"),a.style.setProperty("height","0px","important"),this.mirror=s,this.mirrorAnchor().append(a)}this.mirror.style.setProperty("top",this.event.clientY-this.dragOffset.y+"px"),this.mirror.style.setProperty("left",this.event.clientX-this.dragOffset.x+"px")},containerUpdated(t){if(this.transitions.leaveContainer.id===t.dndId&&(this.transitions.leaveContainer.updated=!0),this.transitions.enterContainer.id===t.dndId&&(this.transitions.enterContainer.updated=!0),this.transitions.enterContainer.updated&&this.transitions.leaveContainer.updated){this.registeredContainers[this.transitions.enterContainer.id].saveRects(),this.updateDataObjectContainer();let t=this.dataObjectDomElement;for(;t&&t!==this.$el;)t.classList.remove("dnd-move"),t=t.parentElement;let e=this.dataObjectDomElement.getBoundingClientRect();this.dataObjectDomElement.classList.add("dnd-dragged"),window.requestAnimationFrame((()=>{this.animateShadow(e)})),this.animateContainer(this.registeredContainers[this.transitions.enterContainer.id]),this.transitions.enterContainer.id!==this.transitions.leaveContainer.id&&this.animateContainer(this.registeredContainers[this.transitions.leaveContainer.id])}},animateContainer(t){t.newRect.height===t.oldRect.height&&t.newRect.width===t.oldRect.width||(t.setRect(t.oldRect),window.requestAnimationFrame((()=>{t.setRect(t.newRect),t.$el.classList.add("dnd-transition"),t.$el.addEventListener("transitionend",(()=>{t.$el.classList.remove("dnd-transition"),t.unsetRect()}),{once:!0})})))},track(){if(this.event&&"DragTrack"===this.dndState){if(this.lockPosition){if(Math.abs(this.event.clientX-this.cursorX)+Math.abs(this.event.clientY-this.cursorY)<this.lockDistance)return;this.lockPosition=!1}this.cursorEl=this.event.target,this.cursorX=this.event.clientX,this.cursorY=this.event.clientY}},clear(){if("Idle"!==this.dndState){if(this.removeListeners(),this.$el.classList.remove("dnd-zone"),document.documentElement.style.removeProperty("--dnd-transition-duration"),!this.dataObjectDomElement)return void this.setIdleState();let t=this.mirror.getBoundingClientRect();this.dataObjectDomElement.classList.remove("dnd-move");let e=this.dataObjectDomElement.getBoundingClientRect();if(Math.abs(t.top-e.top)+Math.abs(t.left-e.left)+Math.abs(t.width-e.width)+Math.abs(t.height-e.height)>0){this.mirror.style.setProperty("top",e.top+"px","important"),this.mirror.style.setProperty("left",e.left+"px","important"),this.mirror.style.setProperty("width",e.width+"px","important"),this.mirror.style.setProperty("height",e.height+"px","important"),this.mirror.style.setProperty("transform","scale(1,1)","important"),this.mirror.style.setProperty("transition-duration",this.transitionDuration+"s","important"),this.mirror.style.setProperty("transition-property","all","important"),this.mirror.classList.remove("dnd-mirror"),this.shadow.style.setProperty("top",e.top+"px","important"),this.shadow.style.setProperty("left",e.left+"px","important"),this.shadow.style.setProperty("width",e.width+"px","important"),this.shadow.style.setProperty("height",e.height+"px","important");let t=!0;this.mirror.addEventListener("transitionend",function(){t&&(t=!1,this.setIdleState(),this.$emit("dragEnd"))}.bind(this))}else this.setIdleState(),this.$emit("dragEnd")}},setIdleState(){this.dndState="Idle",this.shadow&&this.shadow.parentElement.removeChild(this.shadow),this.mirror&&this.mirror.parentElement.parentElement.removeChild(this.mirror.parentElement),this.dataObjectDomElement&&this.dataObjectDomElement.classList.remove("dnd-dragged"),this.activeScroll=null,this.dataObject=null,this.dataObjectContainer=null,this.shadow=null,this.mirror=null,this.event=null,this.cursorX=null,this.cursorY=null,this.cursorEl=null,this.prevX=null,this.prevY=null,Object.keys(this.registeredContainers).forEach((t=>{let e=this.registeredContainers[t];e.nr.hasChanged=!1,e.$el.classList.remove("dnd-transition"),e.unsetRect()}))},registerContainer(t){this.registeredContainers[t.dndId]=t},unregisterContainer(t){delete this.registeredContainers[t.dndId]},updateDataObjectContainer(){let t=Object.keys(this.registeredContainers);for(let e=0;e<t.length;e++){let a=this.registeredContainers[t[e]];if(a.getDataObjectIndex(this.dataObject)>-1)return void(this.dataObjectContainer=a)}this.dataObjectContainer=null},scroll(t){this.scrollInvoked[t]=window.setInterval(function(){switch(t){case"top":window.scrollTo(window.pageXOffset,window.pageYOffset-this.scrollSpeed(this.event,document.documentElement));break;case"left":window.scrollTo(window.pageXOffset-this.scrollSpeed(this.event,document.documentElement),window.pageYOffset);break;case"bottom":window.scrollTo(window.pageXOffset,window.pageYOffset+this.scrollSpeed(this.event,document.documentElement));break;case"right":window.scrollTo(window.pageXOffset+this.scrollSpeed(this.event,document.documentElement),window.pageYOffset)}this.shadow.style.setProperty("transition-duration","0s","important"),this.shadow.style.setProperty("top",this.shadowPos.top+this.shadowPos.pageYOffset-window.pageYOffset+"px"),this.canScroll()[t]&&this.activeScroll||(clearInterval(this.scrollInvoked[t]),this.shadow.style.removeProperty("transition-duration"),this.scrollInvoked[t]=null,this.dataObjectContainer.saveRects())}.bind(this),16)},scrollSpeed:(t,e)=>Math.max(0,20+Math.max(0-t.clientY,0-t.clientX,t.clientY-e.clientHeight,t.clientX-e.clientWidth)),canScroll(){return{top:this.event.clientY<=20&&window.pageYOffset>0,left:this.event.clientX<=20&&window.pageXOffset>0,bottom:this.event.clientY>=document.documentElement.clientHeight-20&&window.pageYOffset<document.documentElement.scrollHeight-document.documentElement.clientHeight,right:this.event.clientX>=document.documentElement.clientWidth-20&&window.pageXOffset<document.documentElement.scrollWidth-document.documentElement.clientWidth}},muteEvent:t=>(t.preventDefault(),t.stopPropagation(),!1),simulateMouseEvent(t){if("touchstart"===t.type&&(t.target.addEventListener("touchmove",this.simulateMouseEvent),t.target.addEventListener("touchend",this.simulateMouseEvent)),"touchend"===t.type&&"DragTrack"===this.dndState&&(t.preventDefault(),t.stopPropagation()),"touchend"===t.type)return void this.clear();if("touchmove"===t.type&&"DragTrack"===this.dndState&&(t.preventDefault(),t.stopPropagation()),"touchmove"===t.type&&"DragStartBuffer"===this.dndState&&this.setIdleState(),t.touches.length>1)return!1;let e="touchstart"===t.type?"mousedown":"touchend"===t.type?"mouseup":"mousemove",a=new MouseEvent(e,{view:window,bubbles:!0,cancelable:!0,screenX:t.touches[0]?t.touches[0].screenX:0,screenY:t.touches[0]?t.touches[0].screenY:0,clientX:t.touches[0]?t.touches[0].clientX:0,clientY:t.touches[0]?t.touches[0].clientY:0,button:0,buttons:1});("touchmove"===t.type?document.elementFromPoint(a.clientX,a.clientY)||document.body:t.target).dispatchEvent(a)},cloneAttributes(t,e){[...e.attributes].forEach((e=>{t.setAttribute("id"===e.nodeName?"data-id":e.nodeName,e.nodeValue)}))},addListeners(){document.body.addEventListener("mousemove",this.routeEvent),document.addEventListener("mouseup",(()=>{this.clear()}),{once:!0})},removeListeners(){document.body.removeEventListener("mousemove",this.routeEvent),this.$el.removeEventListener("mouseup",this.routeEvent)},getItem(t){for(;t&&t.$parent;){if(t.isDraggable&&t.dndModel)return t;t=t.$parent}return null},getValidItem(t){for(;t!==this.$el;){if(t.__vue__)return this.getItem(t.__vue__);t=t.parentElement}return null},getContainer(t){if(!this.dataObject)return null;for(;t&&t.$parent;){if(t.isNestable&&t.dndModel&&t.dndZone==this&&!this.isSubset(t.dndModel,this.dataObject))return t;t=t.$parent}return null},getValidContainer(){let t=this.cursorEl;for(;t&&t!==this.$el&&t!==document.body;){if(t.__vue__)return this.getContainer(t.__vue__);t=t.parentElement}return null},isSubset(t,e){return e.children&&e.children.length>0&&t!==e.children?Object.keys(e.children).some((a=>{this.isSubset(t,e.children[a])})):t===e.children},setRect(t,e){let a=t.style;this.shadowPos.left=e.left,this.shadowPos.top=e.top,this.shadowPos.pageXOffset=window.pageXOffset,this.shadowPos.pageYOffset=window.pageYOffset,a.setProperty("width",e.width+"px"),a.setProperty("height",e.height+"px"),a.setProperty("top",e.top+"px"),a.setProperty("left",e.left+"px")}},render:function(){return this.$slots.default}}),n=s.default.component("DndContainer",{props:{tag:{type:String,default:"div"},dndId:{type:[Number,String],default:null},dndModel:{type:Array,default:function(){return[]}},containerTransfer:{type:Object,default:function(){return{}}},verticalSearch:{type:Boolean,default:!1},isNestable:{type:Boolean,default:!0}},data:()=>({itemCount:null,oldRect:null,newRect:null,dndZone:null,processing:!1,nr:{rects:null,hasChanged:!1,hasUpdated:!1}}),mounted(){this.itemCount=this.dndModel.length,this.register(),this.oldRect=this.$el.getBoundingClientRect(),this.newRect=this.oldRect},beforeUpdate(){this.nr.hasChanged&&(this.unsetRect(),this.oldRect=this.$el.getBoundingClientRect())},updated(){this.nr.hasChanged&&(this.newRect=this.$el.getBoundingClientRect(),this.nr.hasChanged=!1,this.dndZone.containerUpdated(this))},beforeDestroy(){this.unsetRect()},methods:{addDataObject(t,e,a){0===this.dndModel.length||e>this.dndModel.length-1||a?this.dndModel.push(t):this.dndModel.splice(e,0,t)},removeDataObject(t){let e=this.dndModel.indexOf(t);this.dndModel.splice(e,1)},getDataObjectIndex(t){return this.dndModel.indexOf(t)},getDataObjectComponent(t){return this.$children[0].$children.filter((e=>e.dndModel===t))},getRectangleMap(t){let e=[],a=1/0,s=-1/0,i=[],n=[],r=[];if(this.verticalSearch)for(let a=0;a<t.length;a++)e.push(t[a].bottom);else{for(let l=0;l<t.length;l++){a=Math.min(a,t[l].top),s=Math.max(s,t[l].bottom),l===t.length-1||t[l].right>t[l+1].right?(n.push(t[l].right),e.push([a,s]),i.push([],n),r.push(l+1-n.length,l+1-n.length),n=[],a=l===t.length-1?1/0:t[l+1].bottom):n.push((t[l].right+t[l+1].left)/2)}i.push([]),r.push(t.length)}return{map:e.flat(),rows:i,pointers:r}},getIndex(t,e){let a=this.getRectangleMap(this.nr.rects);if(this.verticalSearch)return this.binarySearch(a.map,e);{let s=this.binarySearch(a.map,e);return this.binarySearch(a.rows[s],t)+a.pointers[s]}},getDndZone(t){for(;t.$parent;){if(t.isDndZone)return t;t=t.$parent}return null},register(){this.dndZone=this.getDndZone(this),this.dndZone&&this.dndZone.registerContainer(this)},unregister(){this.dndZone&&this.dndZone.unregisterContainer(this,!0)},binarySearch(t,e){let a=0,s=t.length-1,i=t.length;for(;a<=s;){let n=Math.floor((a+s)/2);t[n]>e?(i=n,s=n-1):a=n+1}return i},setRect(t){this.$el.style.setProperty("height",t.height+"px","important"),this.$el.style.setProperty("width",t.width+"px","important")},unsetRect(){this.$el.style.removeProperty("height"),this.$el.style.removeProperty("width")},saveRects(t){let e=[...this.$el.children];if(!t)for(let t=0;t<e.length;t++)if(e[t].classList.contains("dnd-move"))return void e[t].addEventListener("transitionend",(()=>{this.saveRects(!0)}),{once:!0});this.nr.rects=e.map((t=>this.getValidItem(t))).filter((t=>t)).map((t=>t.$el.getBoundingClientRect()))},getItem(t){for(;t&&t.$parent;){if(t.isDraggable&&t.dndModel)return t;t=t.$parent}return null},getValidItem(t){for(;t!==this.$el;){if(t.__vue__)return this.getItem(t.__vue__);t=t.parentElement}return null}},render:function(t){return t("transition-group",{props:{tag:this.tag,name:"dnd"},class:this.class,style:this.style,attrs:this.attrs},this.$slots.default)}}),r=s.default.component("DndItem",{props:{dndId:{type:[Number,String],default:null},handleClass:{type:[Boolean,String],default:!1},dndModel:{type:Object,default:function(){return{}}},isDraggable:{type:Boolean,default:!0}},render:function(){return this.$slots.default}});var l=a(750),o=a(843),d=a(44),c=Object(d.a)({},(function(t,e){return t("div",{directives:[{name:"track",rawName:"v-track:imageSizeWarning.view",arg:"imageSizeWarning",modifiers:{view:!0}}],staticClass:"boxAlign-ai--all-c boxAlign-jc--all-c flex bg--color-whiteTranslucent"},[t("span",{staticClass:"bg--color-orangePale text--color-brandPrimary size--all-xs width--all-12 space--v-1 boxAlign-ai--all-c boxAlign-jc--all-c flex"},[t("BaseIcon",{attrs:{name:"warning",small:""}}),t("span",{staticClass:"space--ml-2"},[e._v(e._s("Låg upplösning"))])],1)])}),[],!0,null,null,null).exports,h={components:{BaseButton:a(506).a,GalleryThumbnailSlot:l.a,GalleryThumbnailCoverLabel:o.a,GalleryThumbnailSizeWarning:c},props:{isCover:{type:Boolean,default:!1},imageIndex:{type:Number,required:!0}},computed:{isShowSizeWarning(){var t;return null!==(t=this.$store.getters["threadForm/isShowGalleryImageSizeWarning"](this.imageIndex))&&void 0!==t&&t},imageUrl(){return this.$store.getters["threadForm/getGalleryImageUrl"](this.imageIndex)}}},u=Object(d.a)(h,(function(){var t=this,e=t._self._c;return e("GalleryThumbnailSlot",{staticClass:"width--all-6 width--fromW3-4 space--v-2 space--h-2"},[e("div",{staticClass:"threadSubmission-gallery--thumbnail aGrid height--all-full width--all-12 bRad--a"},[e("div",{staticClass:"mute--hover-opacity aGrid-item height--all-full width--all-12 flex boxAlign-ai--all-c boxAlign-jc--all-c border--color-greyBackground border bRad--a overflow--hidden bg--color-white clickable-grab"},[e("img",{staticClass:"aGrid-item width--max-12 height--max-100",attrs:{src:t.imageUrl}}),e("div",{staticClass:"aGrid-item aGrid-item--b-0 width--all-12"},[t.isShowSizeWarning?e("GalleryThumbnailSizeWarning"):t._e(),t.isCover?e("GalleryThumbnailCoverLabel",{staticClass:"dnd-zone--hide"}):t._e()],1),e("span",{staticClass:"aGrid-item box--all-b height--all-full width--all-12 dnd-handle"})]),e("BaseButton",{directives:[{name:"track",rawName:"v-track:removeImage.click",value:{isPoorQuality:!!t.isShowSizeWarning},expression:"{ isPoorQuality: !!isShowSizeWarning }",arg:"removeImage",modifiers:{click:!0}}],staticClass:"aGrid-item aGrid-item--r-0 aGrid-item--t-0 space--mt-n2 space--mr-n2 dnd-zone--hide)",attrs:{variant:"secondary",mode:"default",size:"s",square:""},on:{click:function(e){return t.$emit("remove")}}},[e("BaseIcon",{attrs:{name:"cross",small:""}})],1)],1)])}),[],!1,null,null,null).exports,m=a(813),p=a(830),g={components:{GalleryThumbnailSlot:l.a,GalleryImageFileInput:p.a},computed:{addImageLabel(){return this.$breakpoint.smAndDown?"Lägg till bilder":"Lägg till eller dra bilder"}}},f=Object(d.a)(g,(function(){var t=this,e=t._self._c;return e("GalleryThumbnailSlot",{staticClass:"space--v-2 space--h-2 width--all-6 width--fromW3-4"},[e("GalleryImageFileInput",{staticClass:"threadSubmission-gallery--add-item height--all-full width--all-12 flex flex--dir-col boxAlign-ai--all-c boxAlign-jc--all-c bRad--a clickable",attrs:{name:"files[]",accept:".jpg, .jpeg, .png, .gif, .webp",multiple:""},on:{change:function(e){return t.$emit("select-files",e.target.files)}}},[e("span",{staticClass:"circle--xl bg--color-brandPrimary"},[e("BaseIcon",{attrs:{name:"plus"}})],1),t.$breakpoint.smAndUp?e("span",{staticClass:"text--color-brandPrimary text--lh-1-2 size--all-xs hAlign--all-c space--h-3 space--mt-2"},[t._v(" "+t._s(t.addImageLabel)+" ")]):t._e()])],1)}),[],!1,null,null,null).exports,b=a(514),v=Object(s.defineComponent)({__name:"gallery-thumbnail-loader",setup:t=>({__sfc:!0,BaseSpinner:b.a})}),y=Object(d.a)(v,(function(){var t=this._self._c;return t("div",{staticClass:"circle--xxl bg--color-brandPrimary"},[t(this._self._setupProxy.BaseSpinner,{staticClass:"spinner--color-inverted"})],1)}),[],!1,null,null,null).exports,C={components:{GalleryThumbnail:u,GalleryThumbnailEmpty:m.a,GalleryThumbnailAddNew:f,GalleryThumbnailLoader:y,DndZone:i,DndContainer:n,DndItem:r},props:{emptySlotsSize:{type:Number,default:8},gallerySize:{type:Number,required:!0},loadingCount:{type:Number,default:0},images:{type:Array,default:()=>[]}},computed:{isShowAddNewImage(){return this.images.length+this.loadingCount<this.gallerySize}},methods:{imageUniqueKey:t=>t.remoteUrl?t.remoteUrl:t.path?t.path:t.slots[0].name}},w=Object(d.a)(C,(function(){var t=this,e=t._self._c;return e("DndZone",{attrs:{"handle-class":"dnd-handle"},on:{move:t.$listeners["move-image"]}},[e("DndContainer",{staticClass:"aGrid width--all-12 flex flex--wrap flex--shrink-0 boxAlign-as--all-fs",attrs:{"dnd-id":"grid-example","dnd-model":t.images}},[t._l(t.images,(function(a,s){return e("DndItem",{key:t.imageUniqueKey(a),attrs:{"dnd-id":a.path,"dnd-model":a}},[e("GalleryThumbnail",{attrs:{"is-cover":!s,"image-index":s},on:{remove:function(e){return t.$emit("remove-image",s,a)}}})],1)})),t._l(t.loadingCount,(function(t,a){return e("GalleryThumbnailEmpty",{key:`${t.name}_${a}`,staticClass:"space--v-2 space--h-2 width--all-6 width--fromW3-4"},[e("GalleryThumbnailLoader")],1)})),t.isShowAddNewImage?e("GalleryThumbnailAddNew",{key:"add_new_image",on:{"select-files":t.$listeners["select-files"]}}):t._e()],2)],1)}),[],!1,null,null,null);e.a=w.exports},885:function(t,e,a){"use strict";var s=a(44),i={components:{FileDropPlaceholder:Object(s.a)({},(function(t,e){return t("div",e._g({staticClass:"aGrid-item--cover bRad--a bg--color-white border border--color-brandPrimary border--dash boxAlign-ai--all-c boxAlign-jc--all-c flex flex--dir-col text--color-brandPrimary"},e.listeners),[t("svg",{staticClass:"space--mb-2",attrs:{width:"35",height:"33",viewBox:"0 0 35 33",fill:"currentColor"}},[t("path",{attrs:{d:"M30.2835 12.5386C32.6416 14.152 34.0068 16.8826 34.0068 19.8612C34.0068 24.8258 29.9111 28.9212 24.9468 28.9212H22.3404C20.9752 28.9212 20.9752 26.439 22.3404 26.439H24.9468C28.546 26.439 31.5248 23.4603 31.5248 19.861C31.5248 17.5028 30.2838 15.3929 28.2978 14.1516C28.2978 14.1516 27.6772 13.6551 27.8013 12.9106C28.4219 7.94606 24.9467 3.22983 19.9823 2.60904C14.273 1.74018 9.55692 6.0843 9.55692 11.7934C9.43279 12.5382 9.18455 13.1586 8.43981 13.1586C5.08865 13.5309 2.48254 16.3856 2.48254 19.8604C2.48254 23.4596 5.46129 26.4385 9.18439 26.4385H11.6666C13.0318 26.4385 13.0318 28.9207 11.6666 28.9207H9.18439C4.09575 28.9207 0 24.825 0 19.8607C0 15.5168 2.97875 11.9173 7.07444 10.9245C7.57094 4.09827 13.5281 -0.866217 20.2305 0.126563C26.3122 0.995422 30.7803 6.45642 30.2839 12.5381L30.2835 12.5386Z",fill:"currentColor"}}),t("path",{attrs:{d:"M15.7626 31.7764C15.7626 33.3897 18.2449 33.3897 18.2449 31.7764V20.2338L21.3478 23.3367C22.5888 24.4538 24.3265 22.7161 23.0853 21.5992L17.9967 16.3864C17.5002 15.8899 16.6315 15.7658 16.135 16.3864L10.9222 21.5992C9.6812 22.7163 11.4187 24.4538 12.6598 23.3367L15.7627 20.2338L15.7626 31.7764Z",fill:"currentColor"}})]),e._v(" "+e._s("Släppa för att ladda upp")+" ")])}),[],!0,null,null,null).exports},props:{disabled:Boolean,default:!1},data:()=>({enterCount:0}),computed:{isAllowDrop(){return this.enterCount>0},wrapperClasses(){return this.isAllowDrop?"aGrid":""}},methods:{onDragEnter(t){t.dataTransfer.types.includes("Files")&&this.enterCount++,1===this.enterCount&&this.$emit("dragenter")},onDragLeave(){this.enterCount>0&&this.enterCount--,0===this.enterCount&&this.$emit("dragleave")},onDrop(t){this.enterCount=0,this.$emit("drop",t.dataTransfer.files)}}},n=Object(s.a)(i,(function(){var t=this,e=t._self._c;return t.disabled?e("div",[t._t("default")],2):e("div",{class:t.wrapperClasses,on:{dragover:function(t){t.stopPropagation(),t.preventDefault()},dragenter:t.onDragEnter,dragleave:t.onDragLeave,drop:function(e){return e.stopPropagation(),e.preventDefault(),t.onDrop.apply(null,arguments)}}},[t._t("default"),t.isAllowDrop?e("FileDropPlaceholder"):t._e()],2)}),[],!1,null,null,null);e.a=n.exports},893:function(t,e,a){"use strict";var s=a(5),i=a(813),n=a(830),r=Object(s.defineComponent)({__name:"gallery-thumbnails-list-skeleton",props:{disabled:{type:Boolean}},setup:t=>({__sfc:!0,ITEMS_COUNT:8,GalleryThumbnailEmpty:i.a,GalleryImageFileInput:n.a})}),l=a(44),o=Object(l.a)(r,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"aGrid width--all-12 flex flex--wrap flex--shrink-0 boxAlign-as--all-fs"},[t._l(a.ITEMS_COUNT,(function(t){return e(a.GalleryThumbnailEmpty,{key:t,staticClass:"space--v-2 space--h-2 width--all-6 width--fromW3-4"})})),t.disabled?t._e():e("div",{staticClass:"aGrid-item--cover flex flex--dir-col boxAlign-ai--all-c boxAlign-jc--all-c height--fromW3-8"},[e(a.GalleryImageFileInput,{staticClass:"button button--type-primary button--mode-brand button--shape-circle",attrs:{name:"files[]",accept:".jpg, .jpeg, .png, .gif, .webp",multiple:""},on:{change:function(e){return t.$emit("select-files",e.target.files)}}},[e("BaseIcon",{attrs:{name:"plus",left:""}}),t._v(" "+t._s("Ladda upp bilder")+" ")],1),e("div",{staticClass:"space--mt-2 text--color-charcoalTint text--b hAlign--all-c width--all-8 text--lh-1-5 size--all-s"},[t._v(" "+t._s("Eller dra in dem")+" "),e("div",[t._v("("+t._s("Maximal filstorlek 6 MB, maximala dimensioner 6000px. Minsta dimensioner är 150x150px")+")")])])],1)],2)}),[],!1,null,null,null);e.a=o.exports},894:function(t,e,a){"use strict";var s={props:{threadType:{type:String,required:!0}},computed:{translations(){return({deal:{sub_title:"Ladda upp, upp till 8 bilder för att publicera din deal. Du kan dra och släppa för att ordna dem och välja omslagsbilden.",title:"Få din deal att sticka ut med bilder"},discussion:{sub_title:"Ladda upp upp till en bild för att publicera din diskussion med en trådbild.",title:"Låt din diskussion sticka ut med en bild"},sub_title:"Ladda upp, upp till 8 bilder för att publicera din deal. Du kan dra och släppa för att ordna dem och välja omslagsbilden.",title:"Få din deal att sticka ut med bilder",voucher:{sub_title:"Ladda upp, upp till 8 bilder för att publicera din rabattkod. Du kan dra och släppa för att ordna dem och välja omslagsbilden.",title:"Få din rabattkod att sticka ut med bilder"}}||{})[this.threadType.toLowerCase()]||{}}}},i=a(44),n=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex"},[e("div",{staticClass:"flex--grow-1"},[e("div",{staticClass:"space--mb-2 hide--toW2"},[e("h3",{staticClass:"size--fromW2-l text--b"},[t._v(t._s(t.translations.title))])]),e("p",{staticClass:"size--all-s text--color-greyShade"},[t._v(" "+t._s(t.translations.sub_title)+" ")])]),t._t("default")],2)}),[],!1,null,null,null);e.a=n.exports},895:function(t,e,a){"use strict";var s=a(5),i=a(508),n=a(506),r=Object(s.defineComponent)({__name:"gallery-image-url-upload",props:{disabled:{type:Boolean}},emits:["submit","paste-images"],setup(t,e){let{emit:a}=e;const r=Object(s.ref)("");return{__sfc:!0,emit:a,url:r,submit:function(){a("submit",r.value),r.value=""},pasteImages:function(t){const e=t.clipboardData.files;e.length>0&&a("paste-images",e)},FormRow:i.o,FormLabel:i.k,FormInputLabeled:i.i,BaseButton:n.a}}}),l=a(44),o=Object(l.a)(r,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",[e(a.FormRow,{directives:[{name:"track",rawName:"v-track:formField",value:{name:"uploadImageViaLink"},expression:"{ name: 'uploadImageViaLink' }",arg:"formField"}],attrs:{disabled:t.disabled}},[e(a.FormLabel,[t._v(t._s("Ladda upp via URL"))]),e("div",{staticClass:"flex boxAlign-ai--all-c"},[e("div",{staticClass:"flex--grow-1"},[e(a.FormInputLabeled,{directives:[{name:"track",rawName:"v-track:submissionFieldSelected.click",arg:"submissionFieldSelected",modifiers:{click:!0}}],attrs:{name:"url",placeholder:"https: //",disabled:t.disabled},on:{paste:a.pasteImages},scopedSlots:t._u([{key:"appendButton",fn:function(){return[e(a.BaseButton,{directives:[{name:"track",rawName:"v-track:uploadImgViaUrl.click",arg:"uploadImgViaUrl",modifiers:{click:!0}}],attrs:{variant:"primary",mode:"brand",square:"",disabled:!a.url||t.disabled,size:"s"},on:{click:a.submit}},[e("BaseIcon",{attrs:{name:"arrow-right"}})],1)]},proxy:!0}]),model:{value:a.url,callback:function(t){a.url=t},expression:"url"}})],1)])],1)],1)}),[],!1,null,null,null);e.a=o.exports},896:function(t,e,a){"use strict";var s={components:{BaseSpinner:a(514).a}},i=a(44),n=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"aGrid-item--cover bRad--a bg--color-white border border--color-grey border--dash boxAlign-ai--all-c boxAlign-jc--all-c flex flex--dir-col text--color-greyShade"},[e("BaseSpinner",{staticClass:"spinner--size-big"}),e("span",{staticClass:"space--mt-3"},[t._v(" "+t._s("Laddar bilder ...")+" ")])],1)}),[],!1,null,null,null);e.a=n.exports},897:function(t,e,a){"use strict";var s=a(762).a,i=a(44),n=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"track",rawName:"v-track:imageGallery",value:{imagesCount:t.galleryImages.length},expression:"{ imagesCount: galleryImages.length }",arg:"imageGallery"}],staticClass:"aGrid"},[t.isImageFetching?e("FetchingPlaceholder",{staticClass:"zIndex--above"}):t._e(),t.$breakpoint.xsOnly?e("GalleryDescription",{staticClass:"space--mb-2",attrs:{"thread-type":t.thread.type}}):t._e(),t._l(t.messages,(function(a){return e("AlertMessage",{key:a.id,staticClass:"space--mb-2",attrs:{id:a.id,"message-type":a.type,"has-close-button":a.hasCloseButton},on:{hide:t.removeMessage},scopedSlots:t._u([a.title?{key:"title",fn:function(){return[t._v(t._s(a.title))]},proxy:!0}:null,{key:"message",fn:function(){return[t._v(t._s(a.message))]},proxy:!0}],null,!0)})})),e("FileDrop",{on:{drop:function(e){return t.selectFiles(!0,...arguments)}}},[e("div",{staticClass:"border border--dash border--color-borderGrey bRad--a flex flex--dir-col space--h-3 space--v-3 space--mt-4"},[e("div",{staticClass:"flex"},[t.$breakpoint.smAndUp?e("GalleryDescription",{staticClass:"threadSubmission-gallery--width flex--dir-col flex--shrink-0 space--r-3",attrs:{"thread-type":t.thread.type}},[t.$breakpoint.smAndUp?e("GalleryImageUrlUpload",{staticClass:"space--mt-3",attrs:{disabled:0===t.emptyThumbnailSlotsCount},on:{submit:t.uploadFromUrl}}):t._e()],1):t._e(),e("div",{staticClass:"flex flex--dir-col flex--grow-1 space--mt-n2 space--ml-n2 space--mr-n2 space--mb-n2 userSelect--none"},[t.isNoImages?e("GalleryThumbnailsListSkeleton",{on:{"select-files":function(e){return t.selectFiles(!1,...arguments)}}}):e("GalleryThumbnailsList",{attrs:{"gallery-size":t.gallerySize,images:t.galleryImages,"loading-count":t.filesToUpload.length},on:{"move-image":t.moveImage,"remove-image":t.removeImage,"select-files":function(e){return t.selectFiles(!1,...arguments)}}})],1)],1)])])],2)}),[],!1,null,null,null);e.a=n.exports}}]);