!function(){"use strict";var e=ar n=function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};l,d,f,p,v,h=g=y=m="dclid",b="fbclid",_="gbraid",I="gclid",w="ko_click_id",S="li_fat_id",E="msclkid",T="rtd_cid",O="ttclid",k="twclid",P="wbraid",R={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},x=),U="Event rejected due to exceeded retry count";!c||(c={})),l||(l={})),d||(d={})),f||(f={})),p||(p={})),v||(v={}));var q=Object.freeze({__proto__:null,get SpecialEventType(){return d},get IdentifyOperation(){return c},get RevenueProperty(){return l},get LogLevel(){return f},get ServerZone(){return p},get Status),D=N=L=),A="AMP",j="".concat(A,"_unsent"),C="https://api2.amplitude.com/2/httpapi",M=V=F=),Q=function(e,t){return n(n({},t),{event_type:d.IDENTIFY,user_properties:e.getUserProperties()})},$=K=),B=),z="Amplitude Logger ",W=),J=Z=),Y=G=ar X=),ee=te=ne=ie=re=oe=),se=),ue=ae=ce=),le=se),de=),fe=pe=),ve=he=Object.entries||(Object.entries=;var ge=),ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:self,me=),be=_e=),Ie=we=Se=function(e){return we(e,"attribution")},Ee=function(e){return we(e,"fileDownloads")},Te=function(e){return we(e,"formInteractions")},Oe=function(e){return we(e,"pageViews")},ke=Pe=function(e){var t,n=i=void 0;return Oe(e.defaultTracking)&&(n=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(i=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:i,eventType:t}},Re=xe=Ue=qe=),De=),Ne=1e3,Le=De),Ae=De),je=se),Ce=se),Me=Ve=Fe=Qe="[Amplitude]",$e="".concat(Qe," Form Started"),Ke="".concat(Qe," Form Submitted"),Be="".concat(Qe," File Downloaded"),ze="session_start",We="session_end",Je="".concat(Qe," File Extension"),Ze="".concat(Qe," File Name"),Ye="".concat(Qe," Link ID"),Ge="".concat(Qe," Link Text"),He="".concat(Qe," Link URL"),Xe="".concat(Qe," Form ID"),et="".concat(Qe," Form Name"),tt="".concat(Qe," Form Destination"),nt="cookie",it=function(e){function n(t,n,i,r,o,s,u,a,c,l,d,p,v,h,g,y,m,b,_,I,w,S,E,T,O,k,P,R,x){void 0===i&&(i=new oe),void 0===r&&(r={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===o&&(o=!0),void 0===u&&(u=1e3),void 0===a&&(a=5),void 0===c&&(c=30),void 0===l&&(l=nt),void 0===g&&(g=new W),void 0===y&&(y=f.Warn),void 0===b&&(b=!1),void 0===w&&(w=""),void 0===S&&(S="US"),void 0===T&&(T=18e5),void 0===O&&(O=new Le({loggerProvider:g})),void 0===k&&(k={ipAddress:!0,language:!0,platform:!0}),void 0===P&&(P="fetch"),void 0===R&&(R=!1);var U=e.call(this,{apiKey:t,storageProvider:O,transportProvider:st(P)})||this;return U.apiKey=t,U.appVersion=n,U.cookieOptions=r,U.defaultTracking=o,U.flushIntervalMillis=u,U.flushMaxRetries=a,U.flushQueueSize=c,U.identityStorage=l,U.ingestionMetadata=d,U.instanceName=p,U.loggerProvider=g,U.logLevel=y,U.minIdLength=m,U.partnerId=_,U.plan=I,U.serverUrl=w,U.serverZone=S,U.sessionTimeout=T,U.storageProvider=O,U.trackingOptions=k,U.transport=P,U.useBatch=R,U._optOut=!1,U._cookieStorage=i,U.deviceId=s,U.lastEventId=v,U.lastEventTime=h,U.optOut=b,U.sessionId=E,U.userId=x,U.loggerProvider.enable(U.logLevel),U}return t(n,e),Object.defineProperty(n.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastEventId",{get:set:enumerable:!1,configurable:!0}),n.prototype.updateStorage=n}(Z),rt=ot=st=ut=at=ct=lt=function(e){var t=this;void 0===e&&(e={});var s={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(t,s){var a;return r(this,void 0,void 0,(function(){var r,c,l,d,f,p,v,h;return o(this,(function(o){switch(o.label){case 0:return r=n({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:(b=null===(a=t.cookieOptions)||void 0===a?void 0:a.domain,_=b,_?(_.startsWith(".")&&(_=_.substring(1)),[new RegExp("".concat(_.replace(".","\\."),"$"))]):[])},e),t.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),c=t.cookieStorage,g=t.apiKey,void 0===(y="MKTG")&&(y=""),void 0===m&&(m=10),l=[A,y,g.substring(0,m)].filter(Boolean).join("_"),[4,Promise.all([(new x).parse(),c.get(l)])];case 1:return d=u.apply(void 0,[o.sent(),2]),f=d[0],p=d[1],v=ae(t.sessionTimeout,t.lastEventTime),function(e,t,n,r){void 0===r&&(r=!0);var o=e.referrer,s=e.referring_domain,u=i(e,["referrer","referring_domain"]),a=t||{};a.referrer;var c=a.referring_domain,l=i(a,["referrer","referring_domain"]);if(ct(n.excludeReferrers,e.referring_domain))return!1;if(!r&&!o&&t)return!1;var d=JSON.stringify(u)!==JSON.stringify(l),f=at(s||"")!==at(c||"");return!t||d||f}(f,p,r,v)&&(r.resetSessionOnNewCampaign&&(s.setSessionId(Date.now()),t.loggerProvider.log("Created a new session for new campaign.")),t.loggerProvider.log("Tracking attribution."),h=f,r),s.track(h),c.set(l,f)),[2]}var g,y,m,b,_}))}))},execute:;return s},dt=ft=function(e){var t;void 0===e&&(e={});var i,s=h(),a=void 0,c=l=d="undefined"!=typeof location?location.href:null,f=p=v={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:execute:teardown:;return v},pt=vt=ht=gt=function(){var e,t=[],n=function(e,n,i){e.addEventListener(n,i),t.push({element:e,type:n,handler:i})};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,i){return r(void 0,void 0,void 0,(function(){var r;return o(this,()}))},execute:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,e]}))}))},teardown:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return null==e||e.disconnect(),t.forEach((function(e){var t=e.element,n=e.type,i=e.handler;null==t||t.removeEventListener(n,i)})),t=[],[2]}))}))}}},yt=function(){var e,t=[];return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(n,i){return r(void 0,void 0,void 0,(function(){var r,s;return o(this,(function(o){return i?("undefined"==typeof document||(r=s=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,Array.from(document.getElementsByTagName("a")).forEach(r),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(()).observe(document.body,{subtree:!0,childList:!0})),[2]):(n.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])}))}))},execute:teardown:},mt=!1,bt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i.prototype.init=i.prototype._init=function(t){var i,s;return r(this,void 0,void 0,(function(){var r,u,a,c,l=this;return o(this,(function(o){switch(o.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,rt(t.apiKey,t,this)]);case 1:return r=o.sent(),[4,e.prototype._init.call(this,r)];case 2:return o.sent(),this.setSessionId(null!==(s=null!==(i=t.sessionId)&&void 0!==i?i:this.config.sessionId)&&void 0!==s?s:Date.now()),(u=be(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new X).promise];case 3:return o.sent(),[4,this.add(new qe).promise];case 4:return o.sent(),[4,this.add(new _e).promise];case 5:return o.sent(),function(e){if(!mt){var t=[Oe(e.defaultTracking)?"Page Views":"",ke(e.defaultTracking)?"Sessions":"",Ee(e.defaultTracking)?"File Downloads":"",Te(e.defaultTracking)?"Form Interactions":""].filter(Boolean),n=t.join(", ");if(t.length){var i="Your Amplitude instance is configured to track ".concat(n,". Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.");e.loggerProvider.log(i),e.logLevel<f.Verbose&&console.log(i)}mt=!0}}(this.config),Ee(this.config.defaultTracking)?[4,this.add(yt()).promise]:[3,7];case 6:o.sent(),o.label=7;case 7:return Te(this.config.defaultTracking)?[4,this.add(gt()).promise]:[3,9];case 8:o.sent(),o.label=9;case 9:return Se(this.config.defaultTracking)?(d=this.config,a=Se(d.defaultTracking)&&d.defaultTracking&&"object"==typeof d.defaultTracking&&d.defaultTracking.attribution&&"object"==typeof d.defaultTracking.attribution?n({},d.defaultTracking.attribution):{},c=lt(a),[4,this.add(c).promise]):[3,11];case 10:o.sent(),o.label=11;case 11:return[4,this.add(ft(Pe(this.config))).promise];case 12:return o.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 13:return o.sent(),u.eventBridge.setEventReceiver((),[2]}var d}))}))},i.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},i.prototype.setUserId=i.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},i.prototype.setDeviceId=i.prototype.reset=i.prototype.getSessionId=i.prototype.setSessionId=function(e){var t;if(this.config){if(e!==this.config.sessionId){var n=this.getSessionId(),i=this.config.lastEventTime,r=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,ke(this.config.defaultTracking)&&(n&&i&&this.track(We,void 0,{device_id:this.previousSessionDeviceId,event_id:++r,session_id:n,time:i+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(ze,void 0,{event_id:++r,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}}else this.q.push(this.setSessionId.bind(this,e))},i.prototype.extendSession=i.prototype.setTransport=i.prototype.identify=i.prototype.groupIdentify=i.prototype.revenue=i.prototype.process=i}(K),_t=It=_t(),wt=It.add,St=It.extendSession,Et=It.flush,Tt=It.getDeviceId,Ot=It.getSessionId,kt=It.getUserId,Pt=It.groupIdentify,Rt=It.identify,xt=It.init,Ut=It.logEvent,qt=It.remove,Dt=It.reset,Nt=It.revenue,Lt=It.setDeviceId,At=It.setGroup,jt=It.setOptOut,Ct=It.setSessionId,Mt=It.setTransport,Vt=It.setUserId,Ft=It.track,Qt=Object.freeze({__proto__:null,add:wt,extendSession:St,flush:Et,getDeviceId:Tt,getSessionId:Ot,getUserId:kt,groupIdentify:Pt,identify:Rt,init:xt,logEvent:Ut,remove:qt,reset:Dt,revenue:Nt,setDeviceId:Lt,setGroup:At,setOptOut:jt,setSessionId:Ct,setTransport:Mt,setUserId:Vt,track:Ft,Types:q,createInstance:_t,runQueuedFunctions:Re,Revenue:B,Identify:F});!)}();
