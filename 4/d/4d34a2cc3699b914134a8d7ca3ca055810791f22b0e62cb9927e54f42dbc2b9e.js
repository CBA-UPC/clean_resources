(window["webpackJsonp_help-center"]=window["webpackJsonp_help-center"]||[]).push([[4],{"+tJC":function(e,t,a){},"1Grf":BchO:PFBo:function(e,t,a){e.exports={common_layout:"common_layout___2xNte",content:"content___3VS-L"}},fj3b:function(e,t,a){"use strict";a.r(t);var n=a("PIq7"),c=a("tJVT"),r=a("cDcd"),l=a.n(r),o=a("TSYQ"),i=a.n(o),u=a("LDlK"),s=a("G1kC"),d=a("gRkY"),f=a("VnJq"),b=a("cD83"),m=a("W0XZ"),v=a("lxOd"),p=a("k1fw"),_=a("jkix"),g=a("+huO"),h=a("c5yE"),O=a("nSV2"),j=a("lOii"),y=a("wuUx"),k=a("549i"),E=a("3d4B"),C=a("BhN1"),S=a("oXoT"),w=a("WVsX"),I=a("PFBo"),N=a.n(I),P="2",B=e=>{var t=e.onCancelClick,a=Object(r["useState"])(_["p"].query().keyword||""),n=Object(c["a"])(a,2),o=n[0],u=n[1],s=Object(r["useRef"])(null),d=Object(r["useState"])(!0),f=Object(c["a"])(d,2),b=f[0],I=f[1],B=Object(r["useState"])({page:"1",size:"15"}),R=Object(c["a"])(B,2),x=R[0],L=R[1],T=Object(r["useState"])(!1),D=Object(c["a"])(T,2),q=D[0],H=D[1],A=Object(r["useState"])([]),F=Object(c["a"])(A,2),U=F[0],G=F[1],W=Object(r["useState"])(0),J=Object(c["a"])(W,2),M=J[0],V=J[1],z=Object(k["c"])(),K=z.frontendId,X=E["a"].useContainer(),Y=X.getRequestId(),Q=C["a"].useContainer(),Z=Q.deviceId,$=e=>{H(!0),Object(O["d"])(e).then((e=>{var t=((null===e||void 0===e?void 0:e.hits)||[]).map((e=>{var t,a=Object(j["a"])((null===e||void 0===e||null===(t=e.highlight)||void 0===t?void 0:t.title)||"");return Object(p["a"])(Object(p["a"])({},e),{},{highlight:Object(p["a"])(Object(p["a"])({},e.highlight||{}),{},{title:a})})}));G(b?t),V(null===e||void 0===e?void 0:e.total)})).finally(()},ee=Object(v["a"])((e=>{I(!1),L({page:"1",size:"15"}),h["e"].trackerSync({tags:h["a"].HelpCenter,pageType:h["a"].HelpCenter,operation:h["b"].ActionSearch,pageSection:h["c"].SearchPanel,targetType:h["f"].Search,data:Object(h["g"])({searchKeywords:e,entryPage:y["d"].ArticlePage,requestId:Y})})}),{wait:300}),te=ee.run;Object(r["useEffect"])((()=>{o.length>0?$(Object(p["a"])({frontendId:String(K),keyword:o,deviceId:Z,type:P},x)):G([])}),[x,K]);var ae=M>Number(U.length);return Object(m["a"])(s,(e=>{if(!q&&ae&&s.current){var t=s.current,a=t.scrollHeight,n=t.clientHeight;e.top+n>a-50&&(b||I(!0),L((e=>Object(p["a"])(Object(p["a"])({},e),{},{page:String(+e.page+1)}))))}return!0})),l.a.createElement("div",{ref:s,className:i()(N.a.common_layout)},l.a.createElement(w["a"],{pageId:k["a"].ArticleDetail,mode:S["a"].AutoFocus,keyword:o,onCancelClick:t,setKeyword:),l.a.createElement("div",{className:"".concat(N.a.content)},l.a.createElement(g["a"],{keyword:o,list:U,loading:!b&&q,onCancelClick:t})))},R=B,x=a("KzUQ");function L(e){var t=l.a.useRef(e);t.current=e,l.a.useEffect((()=>{var e=+Date.now();return()=>{if("function"===typeof t.current){var a=+Date.now();t.current(a-e)}}}),[])}var T,D=a("q+XM"),q=a("yyTa"),H=a("uyBr"),A=a("U3g3"),F=a("WdTz"),U=a("7N6N"),G=(a("PGb5"),a("WTqp"));a("+tJC");((T||(T={}));var W,J=[{name:"help_center_bad_reason_not_understand",id:T.NotUnderstand},{name:"help_center_bad_reason_incomplete_info",id:T.IncompleteInfo},{name:"help_center_bad_reason_not_helpful",id:T.NotHelpful},{name:"help_center_bad_reason_error_link",id:T.ErrorLink},{name:"help_center_bad_reason_bad_process_policy",id:T.BadProcessPolicy}],M=a("BchO"),V=a.n(M);function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},z.apply(this,arguments)}function K(e,t){if(null==e)return{};var a,n,c=X(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function X(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}var Y,Q=function(e){var t=e.svgRef,a=e.title,n=K(e,["svgRef","title"]);return l.a.createElement("svg",z({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,W||(W=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.32314 11.1163L15.4696 2.96973L16.5303 4.03038L8.56058 12.0002L16.5303 19.9698L15.4696 21.0305L7.32315 12.8841C6.835 12.3959 6.83499 11.6045 7.32314 11.1163Z",fill:"black",fillOpacity:.65})))},Z=l.a.forwardRef((function(e,t){return l.a.createElement(Q,z({svgRef:t},e))}));a.p; ae=function(e){var t=e.svgRef,a=e.title,n=ee(e,["svgRef","title"]);return l.a.createElement("svg",$({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Y||(Y=l.a.createElement("path",{d:"M20.9997 4.14526L19.8505 2.99609L11.9976 10.849L4.14478 2.99614L2.99561 4.14531L10.8484 11.9981L2.99599 19.8506L4.14516 20.9998L11.9976 13.1473L19.8501 20.9998L20.9993 19.8506L13.1468 11.9981L20.9997 4.14526Z",fill:"black",fillOpacity:.65})))},ne=l.a.forwardRef((),ce=(a.p,a("1Grf"),"feedback-dialog-add-style");function re(){try{var e=document.getElementById(ce);if(!e){var t=document.createElement("style");t.id=ce,document.head.appendChild(t);var a=t.sheet;a&&a.insertRule("html{margin:0;overscroll-behavior:none;}",a.cssRules.length)}}catch(n){}}function le(){try{var e=document.getElementById(ce);e&&document.head.removeChild(e)}catch(t){}}var oe=(e,t)=>{var a=e||{},n=a.show,r=a.title,o=a.className,u=void 0===o?"":o,s=a.children,d=a.maskCancelable,f=void 0!==d&&d,b=a.showBack,m=void 0!==b&&b,v=a.onClose,p=l.a.useState(n),_=Object(c["a"])(p,2),g=_[0],h=_[1],O=l.a.useRef("");function j(){h(!1),"function"===typeof v&&v()}unction k(){h(!1),"function"===typeof v&&v(!0)}var E=l.a.useRef(j);eturn E.current=j,l.a.useImperativeHandle(t,(()=>({close:))),l.a.useEffect((,[n,g]),l.a.useEffect((()=>{g?(O.current=document.body.style.overflow,document.body.style.overflow="hidden",re()):(document.body.style.overflow=O.current,le())}),[g]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:i()("dialogMask",{visible:g}),onClick:y}),l.a.createElement("div",{className:i()("feedback-dialog",{[u]:!!u,visible:g}),onClick:C},g?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"title"},r||""),l.a.createElement("div",{className:"content"},s),m?l.a.createElement("div",{className:i()("feedback-dialog-iconWraper","feedback-dialog-backIcon"),onClick:k},l.a.createElement(Z,{className:"feedback-dialog-icon"})):null,l.a.createElement("div",{className:i()("feedback-dialog-iconWraper","feedback-dialog-closeIcon"),onClick:j},l.a.createElement(ne,{className:"feedback-dialog-icon"}))):null))},ie=l.a.forwardRef(oe);function ue(e){var t=Object(U["c"])(),a=t.$t,n=Object(r["useState"])(""),o=Object(c["a"])(n,2),u=o[0],s=o[1],d=Object(r["useState"])(null),f=Object(c["a"])(d,2),b=f[0],m=f[1],v=e.onCancel,p=e.onConfirm,_=e.visible,g=Object(r["useRef"])(null);function h(e){e.preventDefault(),b&&p(u,b)}nction y(e){var t=e.target.value;t&&m(t)}return Object(r["useEffect"])((,[_]),l.a.createElement(ie,{show:_,title:a("help_center_feedback_popup_title"),onClose:j},l.a.createElement("div",{className:V.a.checkboxContent},l.a.createElement(G["a"].Group,{layout:"vertical",onChange:y,value:b},J.map((e=>l.a.createElement(G["a"],{value:e.id},l.a.createElement("div",{className:V.a.checkboxBorder},a(e.name))))))),l.a.createElement("textarea",{className:V.a.textarea,placeholder:a("helpcenter_feedback_desc"),ref:g,onChange:O}),l.a.createElement("div",{className:V.a.footerButton},l.a.createElement("div",{className:i()(V.a.modal_btn,{[V.a.active]:!!b}),onClick:h},a("helpcenter_modal_submit"))))}var se=ue;function de(e){var t=Object(r["useState"])(""),a=Object(c["a"])(t,2),n=a[0],o=a[1],i=Object(r["useState"])(!1),u=Object(c["a"])(i,2),s=u[0],d=u[1],f=Object(k["c"])(),b=f.frontendId,m=e.articleId,v=e.articleData,g=E["a"].useContainer(),j=g.getRequestId();function y(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=_["p"].query(),c=n.previousPage;h["e"].trackerSync({tags:h["a"].HelpCenter,pageType:h["a"].HelpCenterArticlePage,operation:e,targetType:t,data:Object(h["g"])(Object(p["a"])({articleTitle:(v||{}).title||"",articleId:"".concat(m),previousPage:c?decodeURI(c):"other",requestId:j},a||{}))})}catch(r){}}bject(r["useEffect"])((()=>{!0===s&&y(h["b"].Impression,h["f"].Evaluate)}),[s]);var S=Object(q["a"])(O["f"],{throttleWait:500,manual:!0,onSuccess:e=>{e&&(Object(F["c"])(Object(U["a"])("helpcenter_feedback_success_desc")),o(A["a"].Good))},onError:()=>{Object(F["b"])(Object(U["a"])("helpcenter_ajax_fail_message"))}}),w=S.run,I=Object(q["a"])(O["f"],{throttleWait:500,manual:!0,onSuccess:e=>{e&&(Object(F["c"])(Object(U["a"])("helpcenter_feedback_success_desc")),o(A["a"].Bad),C())},onError:e=>{Object(F["b"])(e.message||Object(U["a"])("helpcenter_ajax_fail_message"))}}),N=I.run;unction B(){y(h["b"].Click,h["f"].Evaluate,{evaluation:"No"}),C()}return l.a.createElement("div",null,l.a.createElement(H["a"],{isMobile:!0,value:n,onYes:()=>{y(h["b"].Click,h["f"].Evaluate,{evaluation:"Yes"}),w({frontendId:Number(b),id:Number(m),isLike:!0})},onNo:B}),l.a.createElement(se,{onCancel:P,onConfirm:(e,t)=>{y(h["b"].Click,h["f"].FeedbackSubmit),y(h["b"].Click,h["f"].SubmitButton,{rateBadReason:String(t)}),N({frontendId:Number(b),id:Number(m),isLike:!1,feedback:e,badReason:t})},visible:s}))}var fe=de,be=a("gq9/"),me=a.n(be);function ve(e){var t=e.articleInfo,a=e.loading,r=t.data,o=t.id,b=Object(n["a"])(!1),m=Object(c["a"])(b,2),v=m[0],p=m[1],_=p.setFalse,g=p.setTrue,O=E["a"].useContainer(),j=O.getRequestId();function C(){Object(D["a"])(null===r||void 0===r?void 0:r.title,null===r||void 0===r?void 0:r.id,j),g()}function S(){Object(D["b"])(y["d"].ArticlePage,j),_()}return L((e=>{null!==r&&void 0!==r&&r.title&&h["e"].trackerSync({operation:h["b"].ActionViewDuration,pageType:h["a"].HelpCenterArticlePage,data:{articleId:"".concat(r.id),articleTitle:r.title,viewDuration:"".concat(e),requestId:j}})})),l.a.createElement("div",{className:i()({[me.a.unScrollable]:v})},l.a.createElement(l.a.Fragment,null,l.a.createElement(d["a"],{type:f["a"].OnlyTitle,articleData:r,onSearchClick:C,pageId:k["a"].ArticleDetail}),l.a.createElement(x["a"],{loading:a},l.a.createElement(s["a"],{key:o,isMobile:!0,articleData:r,onSearchClick:C,rateComponent:l.a.createElement(fe,{articleId:o,articleData:r})})),l.a.createElement(u["a"],null)),v?l.a.createElement("div",{className:me.a.searchPanel},l.a.createElement(R,{onCancelClick:S})):null)}t["default"]=Object(b["a"])(ve)},"gq9/":]);
//# sourceMappingURL=mobile_article_detail.113cfbe6.async.js.map