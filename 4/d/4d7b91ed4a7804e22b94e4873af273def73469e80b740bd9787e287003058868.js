var MEMO=function(){var strings_edge="elsa.memoinsights.com",strings_version="v3.0.6",strings_initEndpoint="/n",strings_timeOnSiteEndpoint="/t",strings_eventEndpoint="/event",strings_badPixel="/pixel?bad=true&error=",strings_testPid="000000000000000000000000",strings_memoError="MEMO-ERROR: ",strings_error100="100 - Missing url",strings_returnCookie="__srret",strings_userCookie="__srui",strings_one="1",strings_img="img",strings_onepx="1px",strings_width="width",strings_undef="undefined",strings_error="error",strings_info="info",strings_sprDebug="SPR_DEBUG",strings_testMode="test_mode",strings_slashes="//",strings_string="string",strings_referrer="referrer",strings_uid="uid",strings_url="url",strings_title="title",strings_pid="pid",strings_ignoreMeta="ignore_metadata",strings_meta="meta",strings_time="time",strings_datetime="datetime",strings_property="property",strings_itemprop="itemprop",strings_name="name",strings_canonical="canonical",strings_link="link",strings_rel="rel",strings_ogUrl="og:url",strings_twitterUrl="twitter:url",strings_ogTitle="og:title",strings_twitterTitle="twitter:title",strings_articlePublishedAt="article:published_at",strings_articleSrPublishedAt="article:sr_published_at",strings_articlePublishedTime="article:published_time",strings_datePublished="datePublished",strings_openGraphPubDate="og:pubdate",strings_pubDate="pubdate",strings_articleAuthors="article:author",strings_articleSrAuthors="article:sr_author",strings_author="author",strings_articleTags="article:tag",strings_articleSrTags="article:sr_tag",strings_articleChannels="article:section",strings_articleSrChannels="article:sr_section",strings_content="content",strings_href="href",strings_s="s",strings_r="r",strings_t="t",strings_e="e",strings_v="v",strings_ignoreErrors="ignore_errors",strings_authors="authors",strings_channels="channels",strings_tags="tags",strings_date="date",strings_ajax="ajax",strings_refUrl="ref_url",strings_pageUrl="page_url",strings_manualScrollDepth="manual_scroll_depth",strings_contentHeight="content_height",strings_csd="csd",strings_invalidScrollDepth="[error] Invalid amount please send scroll depths of only: 25, 50, 75 or 100",strings_scrollDepthInfo="[info] sending scrollDepth of: ",strings_scrollDepthInactive="[info] scroll depth not activated, not sending data",common={rnd:dateFromURL:function(URLToCheck){for(var dtParts=[],dtDelims=/-|\//,dtPatterns=[/\d{4}\/\d{1,2}\/\d{1,2}/,/\d{4}-\d{1,2}-\d{1,2}/,/20\d{6}/],i=0;i<dtPatterns.length;i++){var dateMatchArray=URLToCheck.match(dtPatterns[i]);if(null!=dateMatchArray){var encodedDate=dateMatchArray[0];return encodedDate.match(dtDelims)?dtParts=encodedDate.split(dtDelims):(dtParts[0]=encodedDate.substring(0,4),dtParts[1]=encodedDate.substring(4,6),dtParts[2]=encodedDate.substring(6,8)),new Date(dtParts[0],dtParts[1]-1,dtParts[2])}}},oIsArray:log:isString:shallowCopy:mergeObjects:contains:function(array,num){return-1!==(array.join(",")+",").indexOf(num+",")},containsInteger:function(arr,num){if(!isNaN(num)&&!this.isString(num))for(var i=0;i<=arr.length;i++)if(arr[i]===num)return!0;return!1},createListFromParam:function(param){if(typeof param===strings_string&&(param=param.split(",")),this.oIsArray(param)){for(var i=0;i<param.length;i+=1)typeof param[i]===strings_string&&(param[i]=param[i].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\|/,""));return param.join("|")}},noop:function(){},getProtocol:quartileValues:[25,50,75,100]},qs={encode:function(params,prefix){var items=[];if(common.oIsArray(params))for(var v,i=0;i<params.length;i+=1)v=params[i],/\[\]$/.test(prefix)?items.push(encodeURIComponent(prefix)+"="+encodeURIComponent(v)):items.push(this.encode(v,prefix+"["+("object"==typeof v?i:"")+"]"));else if("object"!=typeof params||null===params||"nodeType"in params)items.push(encodeURIComponent(prefix)+"="+encodeURIComponent(params));else{var name;for(name in params)Object.prototype.hasOwnProperty.call(params,name)&&(prefix?items.push(this.encode(params[name],prefix+"["+name+"]")):items.push(this.encode(params[name],name)))}return items.join("&")}},debug={externalDebugger:!1,info:common.noop,error:common.log,init:function(ignoreErrors){window[strings_sprDebug]&&(this.externalDebugger=!0,window[strings_sprDebug][strings_info]&&(this[strings_info]=window[strings_sprDebug][strings_info]),window[strings_sprDebug][strings_error]&&(this[strings_error]=window[strings_sprDebug][strings_error]))},reset:function(){this.externalDebugger=!1,this[strings_info]=common.noop,this[strings_info]=common.log},setErrorPixel:function(error){var img=document.createElement(strings_img);img.src=common.getProtocol()+strings_edge+strings_badPixel+error.message,img.setAttribute(strings_width,strings_onepx),document.body?document.body.appendChild(img):document.head.appendChild(img)},setLogLevel:function(logType){logType===strings_info?(this[strings_info]=common.log,this[strings_error]=common.log):logType===strings_error?(this[strings_info]=common.noop,this[strings_error]=common.log):(this[strings_info]=common.noop,this[strings_error]=common.noop)}},dom={zero:0,coordinates:{x:0,y:0},isVisible:!0,init:function(){var hidden,visibilityChange,_this=this;_this.zero=0,this.on(window,"mousemove",(),typeof document.hidden!==strings_undef?(hidden="hidden",visibilityChange="visibilitychange"):typeof document.mozHidden!==strings_undef?(hidden="mozHidden",visibilityChange="mozvisibilitychange"):typeof document.msHidden!==strings_undef?(hidden="msHidden",visibilityChange="msvisibilitychange"):typeof document.webkitHidden!==strings_undef&&(hidden="webkitHidden",visibilityChange="webkitvisibilitychange"),typeof document.addEventListener!==strings_undef&&typeof hidden!==strings_undef&&document.addEventListener(visibilityChange,(,!1);var notFired=!0;window.addEventListener?window.addEventListener("DOMContentLoaded",(function addEventLoad(){_this.flush(),window.removeEventListener("DOMContentLoaded",addEventLoad,!1)}),!1):document.attachEvent&&document.attachEvent("onreadystatechange",(function attachEventLoad(){_this.ready&&(document.detachEvent("onreadystatechange",attachEventLoad),notFired&&(notFired=!1,_this.flush()))}))},detectFacebookUrl:function(){return this.getAttributesFromMeta(this,strings_property,strings_ogUrl)},detectCanonicalUrl:detectTwitterUrl:function(){return this.getAttributesFromMeta(this,strings_name,strings_twitterUrl)},detectWindowUrl:function(){return window.location.protocol+strings_slashes+window.location.hostname+window.location.pathname},detectUrl:function(){var url=this.detectCanonicalUrl()||this.detectFacebookUrl()||this.detectTwitterUrl()||this.detectWindowUrl();return common.oIsArray(url)?url[0]:url},detectDate:function(){var date=this.getAttributesFromMeta(this,strings_property,strings_articleSrPublishedAt)||this.getAttributesFromMeta(this,strings_name,strings_pubDate)||this.getAttributesFromMeta(this,strings_property,strings_pubDate)||this.getAttributesFromMeta(this,strings_property,strings_articlePublishedAt)||this.getAttributesFromMeta(this,strings_property,strings_articlePublishedTime)||this.getAttributesFromMeta(this,strings_property,strings_openGraphPubDate)||this.getAttributesFromTime(this,strings_itemprop,strings_datePublished)||this.getAttributesFromMeta(this,strings_name,strings_date);return common.oIsArray(date)?date[0]:date},detectAuthors:function(){return this.getAttributesFromMeta(this,strings_property,strings_articleSrAuthors)||this.getAttributesFromMeta(this,strings_property,strings_articleAuthors)||this.getAttributesFromMeta(this,strings_property,strings_author)||this.getAttributesFromMeta(this,strings_name,strings_author)},detectArrayField:function(srMetaType,metaType){return this.getAttributesFromMeta(this,strings_property,srMetaType)||this.getAttributesFromMeta(this,strings_property,metaType)},getReferrer:detectTitle:function(url){var title=this.getAttributesFromMeta(this,strings_property,strings_ogTitle)||this.getAttributesFromMeta(this,strings_name,strings_twitterTitle)||document.title||url||!1;return common.oIsArray(title)?title[0]:title},getAttributesFromTag:function(context,tag_name,attribute,value,key){for(var tag=context.$(tag_name),arr=[],i=0;i<tag.length;i++)tag[i].getAttribute(attribute)===value&&arr.push(tag[i].getAttribute(key));if(arr.length)return 1==arr.length?arr[0]:arr},getAttributesFromLinks:function(context,linkType){return this.getAttributesFromTag(context,strings_link,strings_rel,linkType,strings_href)},getAttributesFromMeta:function(context,attribute,value){return this.getAttributesFromTag(context,strings_meta,attribute,value,strings_content)},getAttributesFromTime:function(context,attribute,value){return this.getAttributesFromTag(context,strings_time,attribute,value,strings_datetime)},removeElement:function(el){var container=document.body,body=this.$("BODY")[0],head=this.$("HEAD")[0];return container&&container.contains(el)?container.removeChild(el):body&&body.contains(el)?body.removeChild(el):head&&head.contains(el)&&head.removeChild(el),el},addScript:function(src){var _this=this,script=document.createElement("script");return script.type="text/javascript",script.setAttribute("async",!0),script.setAttribute("name","memo"),script.setAttribute("id","memo-script"),script.src=src,debug[strings_info](src),this.onReady((function(){setTimeout((,1)})),script},queue:[],ready:!1,flush:function(){var cb=this.queue.shift();for(this.ready=!0;cb;)cb(),cb=this.queue.shift()},onReady:function(callback){var _this=this;function checkReady(){/loaded|interactive|complete/.test(document.readyState)?_this.flush():setTimeout(checkReady,500)}this.ready?(this.queue.push(callback),this.flush()):document.documentElement.doScroll&&window.self===window.top?function IECompliance(){if(!document.uniqueID&&document.expando)return this.queue.push(callback);try{document.documentElement.doScroll("left"),callback()}catch(e){setTimeout(IECompliance,0)}}():(this.queue.push(callback),checkReady())},on:function(element,event,callback){return element.addEventListener?element.addEventListener(event,callback,!1):element.attachEvent("on"+event,callback),element},off:function(element,event,callback){return element.addEventListener?element.removeEventListener(event,callback,!1):element.detachEvent("on"+event,callback),element},scrollPos:function(){return(window.pageYOffset?window.pageYOffset:document.documentElement?document.documentElement.scrollTop:0)-this.zero},$:function(selector){var tags,name,results=[],i=0;if(!selector)return[];if("string"!=typeof selector)return[selector];switch(selector.charAt(0)){case"#":results.push(document.getElementById(selector.substring(1)));break;case".":for(tags=document.getElementsByTagName("*"),name=" "+selector.substring(1)+" ";i<tags.length;i+=1)(" "+tags[i].className+" ").replace(/[\n\t\r]/g," ").indexOf(name)>-1&&results.push(tags[i]);break;default:results=document.getElementsByTagName(selector)}return results}},api={callbacks:{},jsonp:function(domain,path,params,callback,callbackParamName){if(callback=callback||/^https?:\/\/[\w\d\.]+\/*$/.test(params.url))debug[strings_info]("Memo will not collect on home pages.");else{callbackParamName||(callbackParamName="cb");var rnd="cb"+common.rnd(),api=this;params[callbackParamName]="MEMO.API.callbacks."+rnd;var protocol=common.getProtocol();"file://"===protocol&&(protocol="http://"),params[strings_v]=strings_version;var request=protocol+domain+path+"?"+qs.encode(params),script=dom.addScript(request);params[strings_testMode]&&console.log(request),api.callbacks[rnd]=function(response){setTimeout((,0),callback(response);try{delete api.callbacks[rnd]}catch(e){api.callbacks[rnd]=null}}}}},cookie={patterns:{},getValue:function(key){var matched,escaped,cookie=document.cookie||"",pattern=this.patterns[key];return pattern||(escaped=key.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),pattern=new RegExp("(?:^|;)\\s?"+escaped+"=(.*?)(?:;|$)","i"),this.patterns[key]=pattern),(matched=cookie.match(pattern))&&decodeURIComponent(matched[1])},setValue:function(key,value,expiration,useHttp){var expires="",secure="; Secure; SameSite=None";expiration&&(expires="; expires="+expiration.toGMTString()),useHttp&&(secure=""),document.cookie=key+"="+value+expires+secure+"; path=/"},del:function(key){this.setValue(key,"",new Date(1982,5,13))}},reachConfig={current:{}},optionBuilder={build:function(params){var uid,options;return(options=common.shallowCopy(params))[strings_authors]&&(options[strings_authors]=common.createListFromParam(options[strings_authors])),options[strings_channels]&&(options[strings_channels]=common.createListFromParam(options[strings_channels])),options[strings_tags]&&(options[strings_tags]=common.createListFromParam(options[strings_tags])),options[strings_date]&&typeof options[strings_date]!==strings_string&&(options[strings_date]=options[strings_date].toString()),""==options[strings_refUrl]?options[strings_referrer]="":options[strings_referrer]=this.setReferrer(options[strings_referrer]),options[strings_refUrl]=this.setReferrer(options[strings_refUrl]),options[strings_pageUrl]=options[strings_pageUrl]||window.location.toString(),options[strings_uid]?options[strings_uid]=options[strings_uid]:(uid=this.getUserId())&&(options[strings_uid]=uid),options[strings_url]&&(options[strings_url]=this.safeDecodeUrl(options[strings_url]),params[strings_url]=options[strings_url]),options},setReferrer:function(ref){return""!==ref&&(ref=ref||dom.getReferrer()),ref},getUserId:safeDecodeUrl:function(url){var newUrl=url;return 0!==newUrl.indexOf("http%253A")&&0!==newUrl.indexOf("https%253A")||(newUrl=decodeURIComponent(newUrl)),0!==newUrl.indexOf("http%3")&&0!==newUrl.indexOf("https%3")||(newUrl=decodeURIComponent(newUrl)),newUrl}},activeTime={playing:!1,engagedCache:!0,timeSincePing:0,tickDuration:5e3,timeoutLimit:12e5,interval:null,reset:function(){dom.zero=dom.scrollPos(),window.clearInterval(this.interval)},track:function(params){var options,self=this;self.interval=setInterval((function(){dom.isVisible&&(self.timeSincePing+=self.tickDuration),self.timedOut()&&(self.timeSincePing=0),(options=common.shallowCopy(params))[strings_t]=self.timeSincePing,options[strings_e]=self.isEngaged()?5e3:0,options[strings_s]=dom.scrollPos(),0===options[strings_pid]&&(options[strings_pid]=strings_testPid),dom.isVisible&&!self.timedOut()&&self.validOptions(options)&&options[strings_e]>0&&(self.timeSincePing=0,api.jsonp(strings_edge,strings_timeOnSiteEndpoint,options)),self.lastX=dom.coordinates.x,self.lastY=dom.coordinates.y,self.lastScroll=dom.scrollPos()}),self.tickDuration)},isEngaged:function(){return!0!==this.firstTickHappened?(this.firstTickHappened=!0,!0):this.lastX!==dom.coordinates.x||this.lastY!==dom.coordinates.y||this.lastScroll!==dom.scrollPos()},timedOut:validOptions:,possibleValues=common.quartileValues,scrollDepth={dataSent:[],data:{},response:null,options:null,testMode:!1,init:function(response,options){this.reset(),this.options=options,this.response=response;var self=this;dom.onReady((function(){var height=self.getHeight();self.height=height,self.scrollEvent||(self.scrollEvent=function(){self.checkScrollDepth()}),reachConfig.current[strings_manualScrollDepth]?self.removeScrollDepth():self.addScrollDepth()}))},addScrollDepth:function(){typeof document.addEventListener!==strings_undef?document.addEventListener("scroll",this.scrollEvent,!1):window.attachEvent("onscroll",this.scrollEvent),this.checkScrollDepth()},removeScrollDepth:function(){typeof document.removeEventListener!==strings_undef?document.removeEventListener("scroll",this.scrollEvent,!1):window.detachEvent("onscroll",this.scrollEvent)},checkScrollDepth:function(){var winHeight=Math.min(document.documentElement.clientHeight,window.innerHeight||0),scrolled=this.getScrollY()+winHeight,val=0;(val=scrolled>=this.height?possibleValues[3]:scrolled/this.height*100)>=97?this.scrollDepthReached(possibleValues[3]):val>=possibleValues[2]?this.scrollDepthReached(possibleValues[2]):val>=possibleValues[1]?this.scrollDepthReached(possibleValues[1]):val>=possibleValues[0]&&this.scrollDepthReached(possibleValues[0])},getHeight:function(){var height,body,html;return reachConfig.current[strings_contentHeight]?height=reachConfig.current[strings_contentHeight]:(body=document.body,html=document.documentElement,height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)),height},getScrollY:scrollDepthReached:function(depth){this.data={},common.contains(possibleValues,depth)?common.contains(this.dataSent,depth)||(this.setDataToSend(depth),this.response[strings_csd]?this.sendToEdge():debug[strings_info](strings_scrollDepthInactive)):debug[strings_error](strings_invalidScrollDepth)},setDataToSend:function(depth){var i,d;for(i=0;i<possibleValues.length;i+=1)depth>=(d=possibleValues[i])&&!common.contains(this.dataSent,d)&&(this.dataSent.push(d),this.data[d]=!0,debug[strings_info](strings_scrollDepthInfo+d))},params:function(){var newParams={event:"csd",sd:this.data};return common.mergeObjects(newParams,this.options)},sendToEdge:function(){if(!this.response.error){var params=this.params();api.jsonp(strings_edge,strings_eventEndpoint,params)}},reset:,pageView={track:function(options){var reach=this;0===options[strings_pid]&&(options[strings_pid]=strings_testPid),api.jsonp(strings_edge,strings_initEndpoint,options,(function(response){scrollDepth.init(response,options),response.error?debug[strings_error](strings_memoError+response.error.code+" - "+response.error.message):response.uid&&reach.setUserId(response.uid)}))},setUserId:function(uid,useHttp){cookie.setValue(strings_userCookie,uid,new Date(Date.now()+31536e6),useHttp)}},Reach={elem:{},config:{},collected:!1,init:function(){try{dom.init();var params=window.__memo_config;cookie.getValue(strings_returnCookie)?this.isNew=!0:this.isNew=!1,cookie.setValue(strings_returnCookie,strings_one,new Date(Date.now()+31536e6)),this.collect(params)}catch(e){dom.onReady(()}},collect:function(params){if(params){var options;reachConfig.current=params,this.config=common.shallowCopy(reachConfig.current),this.config[strings_r]=this.isNew;var ajaxCollect=this.config[strings_ajax]&&this.collected;if(ajaxCollect||(params[strings_url]=params[strings_url]||dom.detectUrl()),!params[strings_url])return void debug[strings_error](strings_memoError+strings_error100);if(debug.init(params[strings_ignoreErrors]),ajaxCollect&&(params.hasOwnProperty(strings_ignoreMeta)||(params[strings_ignoreMeta]=!0),params[strings_pageUrl]=params[strings_refUrl]=params[strings_referrer]=params.url),params[strings_title]||(params[strings_title]=dom.detectTitle(params[strings_url])),params[strings_date]||(params[strings_date]=dom.detectDate()||common.dateFromURL(params[strings_url])),!params[strings_tags]){var tags=dom.detectArrayField(strings_articleSrTags,strings_articleTags);tags&&(params[strings_tags]=tags)}if(!params[strings_channels]){var channels=dom.detectArrayField(strings_articleSrChannels,strings_articleChannels);channels&&(params[strings_channels]=channels)}if(!params[strings_authors]){var authors=dom.detectAuthors();authors&&(params[strings_authors]=authors)}activeTime.reset(),options=optionBuilder.build(params),pageView.track(options),activeTime.track(options),this.collected=!0}else debug[strings_error]("Params not passed to collect")}};return{API:api,debug:debug,setLogLevel:function(logType){debug.setLogLevel(logType)},collect:function(params){Reach.collect(params)},init:function(){Reach.init()},stop:scrollDepthReached:}();window.MEMO=MEMO,window.MEMO.init();