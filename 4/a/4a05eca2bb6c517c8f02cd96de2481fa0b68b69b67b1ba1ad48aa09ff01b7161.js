/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojtranslations/nls/localeElements",{root:{supplemental:{defaultRegion:{ar:"001",as:"IN",be:"BY",bg:"BG",bn:"BD",bo:"CN",brx:"IN",bs:"BA",ca:"ES",cs:"CZ",da:"DK",de:"DE",el:"GR",en:"US",es:"ES",et:"EE",fi:"FI",fr:"FR",ga:"IE",gu:"IN",he:"IL",hi:"IN",hr:"HR",hu:"HU",id:"ID",is:"IS",it:"IT",ja:"JP",kn:"IN",ko:"KR",kok:"IN",ks:"IN","ks-Arab":"IN",lt:"LT",lv:"LV",mk:"MK",ml:"IN",mr:"IN",ms:"MY",mt:"MT",nb:"NO",ne:"NP",nl:"NL",nn:"NO",no:"NO",or:"IN",pa:"IN","pa-Guru":"IN","pa-Arab":"PK",pl:"PL",pt:"BR",ro:"RO",ru:"RU",sk:"SK",sl:"SI",sq:"AL",sr:"RS","sr-Cyrl":"RS","sr-Latn":"RS",sv:"SE",ta:"IN",te:"IN",th:"TH",tr:"TR",uk:"UA",ur:"PK",vi:"VN",zh:"CN","zh-Hans":"CN","zh-Hant":"TW"},weekData:{firstDay:{"001":1,AE:6,BH:6,BR:0,DZ:6,EG:6,IQ:6,JO:6,KW:6,LB:1,LY:6,MA:6,OM:6,QA:6,SA:0,SD:6,SY:6,TN:0,YE:0,BY:1,BG:1,ES:1,CZ:1,DK:1,AT:1,CH:1,DE:1,LU:1,CY:1,GR:1,AU:0,CA:0,GB:1,IE:0,IN:0,MT:0,NZ:0,PH:0,SG:0,US:0,ZA:0,AR:0,CL:1,CO:0,CR:1,DO:0,EC:1,GT:0,HN:0,MX:0,NI:0,PA:0,PE:0,PR:0,PY:0,SV:0,UY:1,VE:0,EE:1,FI:1,BE:1,FR:1,IL:0,HR:1,HU:1,ID:0,IS:1,IT:1,JP:0,KR:0,LT:1,LV:1,MK:1,MY:1,NO:1,NL:1,PL:1,PT:1,RO:1,RU:1,SK:1,SI:1,AL:1,BA:1,ME:1,RS:1,SE:1,TH:0,TR:1,UA:1,VN:1,CN:0,HK:0,MO:0,TW:0},weekendStart:{"001":6,AE:5,BH:5,DZ:5,EG:5,IQ:5,JO:5,KW:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,SY:5,TN:5,YE:5,IN:0,IL:5},weekendEnd:{"001":0,AE:6,BH:6,DZ:6,EG:6,IQ:6,JO:6,KW:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SY:6,TN:6,YE:6,IL:6}},prefferedHours:{"001":"H",AE:"h",BH:"h",DZ:"h",EG:"h",IQ:"h",JO:"h",KW:"h",LB:"h",LY:"h",MA:"H",OM:"h",QA:"h",SA:"h",SD:"h",SY:"h",TN:"h",YE:"h",BG:"H",ES:"H",CZ:"H",DK:"H",AT:"H",CH:"H",DE:"H",LU:"H",CY:"h",GR:"h",AU:"h",CA:"h",GB:"H",IE:"H",IN:"h",NZ:"h",PH:"h",SG:"h",US:"h",ZA:"h",AR:"H",BO:"H",CL:"H",CO:"h",CR:"H",CU:"H",DO:"h",EC:"H",GT:"H",HN:"H",MX:"H",NI:"H",PA:"h",PE:"H",PR:"h",SV:"H",UY:"H",VE:"h",EE:"H",FI:"H",BE:"H",FR:"H",IL:"H",HR:"H",ID:"H",IS:"H",IT:"H",JP:"H",KR:"h",LT:"H",LV:"H",MK:"H",MY:"h",NL:"H",PT:"H",RO:"H",RU:"H",SK:"H",SI:"H",AL:"h",BA:"H",ME:"H",RS:"H",SE:"H",TR:"H",UA:"H",CN:"h",HK:"h",MO:"h",TW:"h"},plurals:{ar:function(e){return 0===e?"zero":1===e?"one":2===e?"two":e%100===Math.floor(e%100)&&e%100>=3&&e%100<=10?"few":e%100===Math.floor(e%100)&&e%100>=11&&e%100<=99?"many":"other"},as:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},be:function(e){return e%10==1&&e%100!=11?"one":e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14)?"few":e%10==0||e%10===Math.floor(e%10)&&e%10>=5&&e%10<=9||e%100===Math.floor(e%100)&&e%100>=11&&e%100<=14?"many":"other"},bg:function(e){return 1===e?"one":"other"},bn:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},bo:function(e){return"other"},brx:function(e){return 1===e?"one":"other"},bs:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return 0===i&&t%10==1&&(t%100!=11||n%10==1&&n%100!=11)?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14))?"few":"other"},ca:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},cs:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===i?"few":0!==i?"many":"other"},da:function(e){var t=Math.floor(Math.abs(e)),i=parseInt(e.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===e||0!==i&&(0===t||1===t)?"one":"other"},de:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},el:function(e){return 1===e?"one":"other"},en:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},es:function(e){return 1===e?"one":"other"},et:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},fi:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},fr:ga:function(e){return 1===e?"one":2===e?"two":e===Math.floor(e)&&e>=3&&e<=6?"few":e===Math.floor(e)&&e>=7&&e<=10?"many":"other"},gu:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},he:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":2===t&&0===i?"two":0!==i||e>=0&&e<=10||e%10!=0?"other":"many"},hi:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},hr:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return 0===i&&t%10==1&&(t%100!=11||n%10==1&&n%100!=11)?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14))?"few":"other"},hu:function(e){return 1===e?"one":"other"},id:function(e){return"other"},is:function(e){var t=Math.floor(Math.abs(e)),i=parseInt(e.toString().replace(/^[^.]*.?|0+$/g,""),10);return 0!==i||t%10!=1||t%100==11&&0===i?"other":"one"},it:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},ja:function(e){return"other"},kn:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},ko:function(e){return"other"},kok:function(e){return"other"},ks:function(e){return 1===e?"one":"other"},lt:function(e){var t=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return e%10!=1||e%100>=11&&e%100<=19?e%10===Math.floor(e%10)&&e%10>=2&&e%10<=9&&!(e%100>=11&&e%100<=19)?"few":0!==t?"many":"other":"one"},lv:function(e){var t=e.toString().replace(/^[^.]*.?/,"").length,i=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return e%10==0||e%100===Math.floor(e%100)&&e%100>=11&&e%100<=19||2===t&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=19?"zero":e%10==1&&(e%100!=11||2===t&&i%10==1&&(i%100!=11||2!==t&&i%10==1))?"one":"other"},mk:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return 0!==i||t%10!=1&&n%10!=1?"other":"one"},ml:function(e){return 1===e?"one":"other"},mr:function(e){return 0===Math.floor(Math.abs(e))||1===e?"one":"other"},ms:function(e){return"other"},mt:function(e){return 1===e?"one":0===e||e%100===Math.floor(e%100)&&e%100>=2&&e%100<=10?"few":e%100===Math.floor(e%100)&&e%100>=11&&e%100<=19?"many":"other"},nb:function(e){return 1===e?"one":"other"},ne:function(e){return 1===e?"one":"other"},nl:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},nn:function(e){return 1===e?"one":"other"},no:function(e){return 1===e?"one":"other"},or:function(e){return 1===e?"one":"other"},pa:function(e){return e===Math.floor(e)&&e>=0&&e<=1?"one":"other"},pl:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===i&&1!==t&&(t%10===Math.floor(t%10)&&t%10>=0&&t%10<=1||0===i&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===i&&t%100===Math.floor(t%100)&&t%100>=12&&t%100<=14))?"many":"other"},pt:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===t&&(0===i||0===t&&1===n)?"one":"other"},"pt-PT":function(e){var t=e.toString().replace(/^[^.]*.?/,"").length;return 1===e&&0===t?"one":"other"},ro:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":0!==i||0===e||1!==e&&e%100===Math.floor(e%100)&&e%100>=1&&e%100<=19?"few":"other"},ru:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 0===i&&t%10==1&&t%100!=11?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===i&&(t%10==0||0===i&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===i&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},sk:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===i?"few":0!==i?"many":"other"},sl:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 0===i&&t%100==1?"one":0===i&&t%100==2?"two":0===i&&(t%100===Math.floor(t%100)&&t%100>=3&&t%100<=4||0!==i)?"few":"other"},sq:function(e){return 1===e?"one":"other"},sr:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length,n=parseInt(e.toString().replace(/^[^.]*.?/,""),10);return 0===i&&t%10==1&&(t%100!=11||n%10==1&&n%100!=11)?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14))?"few":"other"},sv:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===i?"one":"other"},ta:function(e){return 1===e?"one":"other"},te:function(e){return 1===e?"one":"other"},th:function(e){return"other"},tr:uk:function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*.?/,"").length;return 0===i&&t%10==1&&t%100!=11?"one":0===i&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===i&&(t%10==0||0===i&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===i&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},ur:vi:function(e){return"other"},zh:,currencyData:{fractions:{IDR:{_rounding:"0",_digits:"0"},JPY:{_rounding:"0",_digits:"0"},KRW:{_rounding:"0",_digits:"0"}}}}},ar:1,"ar-AE":1,"ar-BH":1,"ar-DZ":1,"ar-EG":1,"ar-IQ":1,"ar-JO":1,"ar-KW":1,"ar-LB":1,"ar-LY":1,"ar-MA":1,"ar-OM":1,"ar-QA":1,"ar-SA":1,"ar-SD":1,"ar-SY":1,"ar-TN":1,"ar-YE":1,as:1,be:1,"be-BY":1,bg:1,"bg-BG":1,bn:1,bo:1,"bo-IN":1,brx:1,bs:1,"bs-Cyrl":1,"bs-Cyrl-BA":1,"bs-Latn":1,"bs-Latn-BA":1,ca:1,"ca-ES":1,cs:1,"cs-CZ":1,da:1,"da-DK":1,de:1,"de-AT":1,"de-CH":1,"de-DE":1,"de-LU":1,el:1,"el-CY":1,"el-GR":1,en:1,"en-AU":1,"en-CA":1,"en-GB":1,"en-IE":1,"en-IN":1,"en-MT":1,"en-NZ":1,"en-PH":1,"en-SG":1,"en-US":1,"en-ZA":1,es:1,"es-AR":1,"es-BO":1,"es-CL":1,"es-CO":1,"es-CR":1,"es-CU":1,"es-DO":1,"es-EC":1,"es-ES":1,"es-GT":1,"es-HN":1,"es-MX":1,"es-NI":1,"es-PA":1,"es-PE":1,"es-PR":1,"es-PY":1,"es-SV":1,"es-US":1,"es-UY":1,"es-VE":1,et:1,"et-EE":1,fi:1,"fi-FI":1,fr:1,"fr-BE":1,"fr-CA":1,"fr-CH":1,"fr-FR":1,"fr-LU":1,ga:1,"ga-IE":1,gu:1,he:1,"he-IL":1,hi:1,"hi-IN":1,hr:1,"hr-HR":1,hu:1,"hu-HU":1,id:1,"id-ID":1,is:1,"is-IS":1,it:1,"it-CH":1,"it-IT":1,ja:1,"ja-JP":1,kn:1,ko:1,"ko-KR":1,kok:1,ks:1,lt:1,"lt-LT":1,lv:1,"lv-LV":1,mk:1,"mk-MK":1,ml:1,mr:1,ms:1,"ms-MY":1,mt:1,"mt-MT":1,nb:1,"nb-NO":1,ne:1,"ne-IN":1,nl:1,"nl-BE":1,"nl-NL":1,nn:1,"nn-NO":1,no:1,"no-NO":1,or:1,pa:1,pl:1,"pl-PL":1,pt:1,"pt-BR":1,"pt-PT":1,ro:1,"ro-RO":1,ru:1,"ru-RU":1,sk:1,"sk-SK":1,sl:1,"sl-SI":1,sq:1,"sq-AL":1,sr:1,"sr-Cyrl":1,"sr-Cyrl-BA":1,"sr-Cyrl-ME":1,"sr-Cyrl-RS":1,"sr-Latn":1,"sr-Latn-BA":1,"sr-Latn-ME":1,"sr-Latn-RS":1,sv:1,"sv-SE":1,ta:1,te:1,th:1,"th-TH":1,tr:1,"tr-TR":1,uk:1,"uk-UA":1,ur:1,"ur-IN":1,vi:1,"vi-VN":1,zh:1,"zh-Hans":1,"zh-Hans-CN":1,"zh-Hans-SG":1,"zh-Hant":1,"zh-Hant-HK":1,"zh-Hant-MO":1,"zh-Hant-TW":1,__noOverlay:!0,__defaultNoOverlayLocale:"en-US"}),define("ojs/ojlocaledata",["exports","ojs/ojcore-base","ojL10n!ojtranslations/nls/localeElements"],function(e,t,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var n=i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const r={};t._registerLegacyNamespaceProp("LocaleData",r),r.setBundle=r.getFirstDayOfWeek=function(){return r._getWeekData("firstDay")},r.getWeekendStart=function(){return r._getWeekData("weekendStart")},r.getWeekendEnd=r.getDayNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=r._getCalendarData().days["stand-alone"][e];return[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat]},r.getMonthNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=r._getCalendarData().months["stand-alone"][e];return[t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]]},r.isMonthPriorToYear=function(){var e=r._getCalendarData().dateFormats.long.toUpperCase();return e.indexOf("M")<e.indexOf("Y")},r._getWeekData=function(e){var t=r.__getBundle(),i=r._getRegion()||"001",n=t.supplemental.weekData[e],a=n[i];return void 0===a&&(a=n["001"]),a},r._getCalendarData=function(){var e=r.__getBundle().main;return e[Object.keys(e)[0]].dates.calendars.gregorian},r._getRegion=function(){var e=t.Config.getLocale();if(e){var i=e.toUpperCase().split(/-|_/);if(i.length>=2){var n=i[1];if(4!==n.length)return n;if(i.length>=3)return i[2]}}return r.__getBundle().supplemental.defaultRegion[e]},r.__getBundle=function(){var e=r._bundle;return e||n},r.__updateBundle=function(e){n=e};const a=r.getDayNames,s=r.getFirstDayOfWeek,o=r.getMonthNames,l=r.getWeekendEnd,u=r.getWeekendStart,d=r.isMonthPriorToYear,c=r.setBundle,h=r.__getBundle,p=r._getCalendarData;e.__getBundle=h,e._getCalendarData=p,e.getDayNames=a,e.getFirstDayOfWeek=s,e.getMonthNames=o,e.getWeekendEnd=l,e.getWeekendStart=u,e.isMonthPriorToYear=d,e.setBundle=c,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverterutils",["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;eturn i.getConverterInstance=function(i){let n="",r={},a=null;if(i&&("object"==typeof i&&(i.parse&&"function"==typeof i.parse||i.format&&"function"==typeof i.format?a=i:(n=i.type,r=i.options||{})),!a&&(n=n||i,n&&"string"==typeof n))){if(e.Validation&&e.Validation.converterFactory)return e.Validation.converterFactory(n).createConverter(r);t.error('oj.Validation.converterFactory is not available and it is needed to support the deprecated json format for the converters property. Please include the backward compatibility "ojvalidation-base" module.')}return a},i}),define("ojs/ojvalidator",["ojs/ojcore"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const t=function(e){this.Init(e)};return e.Object.createSubclass(t,e.Object,"oj.Validator"),t.prototype.Init=t}),define("ojs/ojvalidation-error",["exports","ojs/ojcore","ojs/ojmessaging"],function(e,t,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const n=function(e,t){var n={summary:e,detail:t,severity:i.SEVERITY_LEVEL.ERROR};this.Init(n)};n.prototype=new Error,t._registerLegacyNamespaceProp("ValidatorError",n),n.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Validator Error",this.message=t||i},n.prototype.getMessage=function(){return this._message};const r=function(e,t){var n={summary:e,detail:t,severity:i.SEVERITY_LEVEL.ERROR};this.Init(n)};r.prototype=new Error,t._registerLegacyNamespaceProp("ConverterError",r),r.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Converter Error",this.message=t||i},r.prototype.getMessage=function(){return this._message},e.ConverterError=r,e.ValidatorError=n,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvalidator-required",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const r=function(e){this.Init(e)};return e.Object.createSubclass(r,i,"oj.RequiredValidator"),r._BUNDLE_KEY_DETAIL="oj-validator.required.detail",r._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",r.prototype.Init=function(e){r.superclass.Init.call(this),this._options=e},r.prototype.validate=function(e){var i,r,a,s,o,l="";if(null==e||("string"==typeof e||e instanceof Array)&&0===e.length)throw this._options&&(i=this._options.messageDetail||this._options.message||null,s=this._options.messageSummary||null,l=this._options.label||""),o={label:l},a=s?t.applyParameters(s,o):t.getTranslatedString(this._getSummaryKey(),o),r=i?t.applyParameters(i,o):t.getTranslatedString(this._getDetailKey(),o),new n.ValidatorError(a,r)},r.prototype.getHint=function(){var e="";return this._options&&this._options.hint&&(e=t.getTranslatedString(this._options.hint)),e},r.prototype._getSummaryKey=function(){return r._BUNDLE_KEY_SUMMARY},r.prototype._getDetailKey=function(){return r._BUNDLE_KEY_DETAIL},r}),define("ojs/ojeditablevalue",["exports","ojs/ojcore-base","ojs/ojcomponentcore","jquery","ojs/ojlabel","ojs/ojthemeutils","ojs/ojcontext","ojs/ojlogger","ojs/ojvalidator-required","ojs/ojlabelledbyutils","ojs/ojtranslation","ojs/ojmessaging","ojs/ojconverterutils","ojs/ojvalidation-error","ojs/ojpopup","hammerjs","ojs/ojjquery-hammer","ojs/ojdomutils","ojs/ojanimation","ojs/ojfocusutils"],function(e,t,i,n,r,a,s,o,l,u,d,c,h,p,_,f,m,v,g,b){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b;const y=function(e){this.Init(e)};t.Object.createSubclass(y,t.MessagingStrategy,"BaseInsideLabelStrategy"),y.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},y.prototype._CreateLabel=function(){var e=this.GetComponent(),t=this._GetContainer(e);if(!t)return;var i=e.options,n=e._getRootElement(),r=this._GetFormControlLabelStyleClass();n.classList.add(r),this.GenerateIdIfNeeded(n),this._showUserAssistanceNotInline=e._showUserAssistanceNotInline();let a=i.required&&this._showUserAssistanceNotInline;this._createOjLabelElement(n,e,t,i.labelHint,a,i.helpHints,this._showUserAssistanceNotInline)},y.prototype._createOjLabelElement=function(e,t,i,n,r,a,s){var o=document.createElement("oj-label");o.id=y._getLabelId(e),o.setAttribute("data-oj-binding-provider","none"),o.setAttribute("data-oj-internal",""),o.setAttribute("for",e.id);var l=[t._GetDefaultStyleClass(),"label"].join("-");o.classList.add(l),r&&o.setAttribute("show-required",r),s&&a&&(o.help=a);var u=document.createElement("span");u.id=[e.id,"|hint"].join(""),u.textContent=n,o.appendChild(u),this._InsertOjLabel(o,i,t),this._CreateEventHandlers(u,e,o,t)},y.prototype._GetContainer=y.prototype._CreateEventHandlers=function(e,t,i,n){this._labelHintChangedCallback=y._labelHintChangedHandler.bind(this,e),t.addEventListener("labelHintChanged",this._labelHintChangedCallback),this._requiredChangedCallback=y._requiredChangedHandler.bind(this,i,n),t.addEventListener("requiredChanged",this._requiredChangedCallback),this._helpHintsChangedCallback=y._helpHintsChangedHandler.bind(this,i,n),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},y.prototype._DestroyLabel=function(){var e=this.GetComponent(),t=e.options,i=e._getRootElement(),n=this._GetFormControlLabelStyleClass();i.classList.remove(n);var r=y._getLabelId(i);const a=i.querySelector(`[id='${r}']`);a&&(a.for="",a.parentElement.removeChild(a)),t.labelledBy=void 0,this._DeleteEventHandlers(i)},y.prototype._DeleteEventHandlers=function(e){e.removeEventListener("labelHintChanged",this._labelHintChangedCallback),e.removeEventListener("requiredChanged",this._requiredChangedCallback),e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback,delete this._labelHintChangedCallback,delete this._requiredChangedCallback},y._getLabelId=function(e){return[e.id,"-labelled-by"].join("")},y._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value},y._requiredChangedHandler=function(e,t,i){null==this._showUserAssistanceNotInline&&(this._showUserAssistanceNotInline=t._showUserAssistanceNotInline()),e.showRequired=i.detail.value&&this._showUserAssistanceNotInline},y._helpHintsChangedHandler=function(e,t,i){this._showUserAssistanceNotInline=t._showUserAssistanceNotInline(),this._showUserAssistanceNotInline&&(e.help=i.detail.value)};const E={validationContext:{COMPONENT_CREATE:1,CONVERTER_OPTION_CHANGE:2,DISABLED_OPTION_CHANGE:3,READONLY_OPTION_CHANGE:4,REFRESH_METHOD:5,REQUIRED_OPTION_CHANGE:6,RESET_METHOD:7,USER_ACTION:8,VALIDATE_METHOD:9,VALIDATORS_OPTION_CHANGE:10,VALUE_OPTION_CHANGE:11}};E.validateMethodOptions={doValueChangeCheck:!1,validationContext:E.validationContext.VALIDATE_METHOD},E.converterOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.CONVERTER_OPTION_CHANGE},E.disabledOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.DISABLED_OPTION_CHANGE},E.requiredOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REQUIRED_OPTION_CHANGE},E.readOnlyOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.READONLY_OPTION_CHANGE},E.refreshMethodOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REFRESH_METHOD},E.validatorsOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.VALIDATORS_OPTION_CHANGE};E.VALIDATE_VALUES={VALID:"valid",INVALID:"invalid"},E.getAttributeValue=function(e,t){var i,n={};if(e&&t){var r=e[0];switch(t){case"disabled":i=r.hasAttribute("disabled")?!!r.disabled:void 0;break;case"pattern":i=r.pattern||void 0;break;case"placeholder":i=r.placeholder||void 0;break;case"readonly":i=r.hasAttribute("readonly")?!!r.readOnly:void 0;break;case"required":if(r.hasAttribute("required")){var a=r.required;i=void 0===a||!!a}else i=void 0;break;case"title":i=r.hasAttribute("title")?r.title:void 0;break;case"value":i=e.val()||void 0;break;case"min":case"max":default:i=r.getAttribute(t)||void 0}}return void 0!==i?(n.fromDom=!0,n.value=i):n.fromDom=!1,n},E.initializeOptionsFromDom=function(e,t,i,n){for(var r={},a=0;a<e.length;a++){var s,o,l=e[a],u=l.attribute,d=l.option||u,c=l.coerceDomValue,h=l.validateOption,p=i.element,_=i.options[d];void 0===t[d]&&(_=i.options[d],(o=E.getAttributeValue(p,u)).fromDom&&(s=o.value,c&&("boolean"==typeof c?s=E.coerceDomValueForOption(d,s):"function"==typeof c&&(s=c.call(i,s))),r[d]=s));var f=d in r?r[d]:_;h&&"boolean"==typeof h&&E.validateValueForOption(d,f)}null!=n&&n(r),i.option(r,{_context:{writeback:!0,internalSet:!0}})},E.validateValueForOption=function(e,t){var i=!1;switch(e){case"required":null!==t&&"boolean"!=typeof t&&(i=!0);break;case"readOnly":case"disabled":null!==t&&"boolean"!=typeof t&&(i=!0)}if(i)throw new Error("Option '"+e+"' has invalid value set: "+t)},E.coerceDomValueForOption=function(e,t){var i=t;switch(e){case"required":i=!!t}return i},E.setPickerAttributes=function(e,t){if(e&&t){var i=t.class;if(i)for(var n=i.split(" "),r=0,a=n.length;r<a;++r)e[0].classList.add(n[r]);t.style&&o.error("picker-attributes.style attribute violates the recommended\n        Content Security Policy which disallows inline styles and is therefore ignored.\n        Use the picker-attributes.class attribute instead.")}},E.hasNoLabelFlag=E._getOjLabelAriaLabelledBy=function(e,t){var i,n=E._getCustomOjLabelElements(e);if(n){i="";for(var r=0;r<n.length;r++){var a=n[r],s=a.getAttribute("label-id");if(!s){var o=a.querySelector("label");o?s=o.getAttribute("id"):(a.setAttribute("label-id",t),s=t)}i+=s,r+1<n.length&&(i+=" ")}}return i},E._getCustomOjLabelElements=function(e){var t=[];if(e)for(var i=e.split(/\s+/),n=0;n<i.length;n++){var r=i[n],a=document.getElementById(r);a?t.push(a):o.info("Cannot find oj-label with id "+a)}return t},E._initInputIdLabelForConnection=function(e,t,i){t&&(e.setAttribute("id",t+"|input"),i&&this._linkLabelForInputComp(i,e.id)),i&&this._setReadonlyDivLabelledBy(i)},E._labelledByUpdatedForInputComp=function(e,t){e&&(t&&this._linkLabelForInputComp(e,t),this._setReadonlyDivLabelledBy(e)),this._IsRequired()&&this.options.translations.required&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator())},E._linkLabelForInputComp=E._setReadonlyDivLabelledBy=function(e){t.Assert.assert(e);let i=this._getReadonlyDiv();i&&i.setAttribute("aria-labelledby",e+"|label")},E._createOrUpdateReadonlyDiv=function(e,t=!0){let i=this._getReadonlyDiv();if(!i&&t){if(i=this._createReadonlyDiv(e),!i)return;this.options.labelledBy&&this._setReadonlyDivLabelledBy(this.options.labelledBy),this._setAriaLabelFromLabelHint()}i&&(i.textContent=this._GetDisplayValue(),E._setTabIndex(e,i))},E._setTabIndex=function(e,t){let i=e.tabIndex;null!==i&&(t.tabIndex=i)},E._setDataOjInputIdAttrOnLabel=function(e,t){if(t)for(var i=0;i<t.length;i++){t[i].setAttribute("data-oj-input-id",e)}},E.validate=function(){var e;if(e=this._SetValue(this._GetDisplayValue(),null,this._VALIDATE_METHOD_OPTIONS),this._IsCustomElement()){if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});e=Promise.resolve(e?"valid":"invalid")}else if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});return e},E._refreshRequired=function(e){var t,i,n,r=this._AriaRequiredUnsupported();if(this._refreshTheming("required",e),r||(i=this._GetContentElement(),(n=e)&&i?i[0].setAttribute("aria-required",n):i[0].removeAttribute("aria-required")),!this._IsCustomElement()&&(this.$label||this._createOjLabel(),this.$label&&(this.$label.ojLabel("option","showRequired",e),r))){var a=this._getAriaLabelledByElement(this.element);if(null!==a&&0!==a.length&&(t=a[0].getAttribute("id")),t){let i=t+"_requiredIcon";e?this._describedByUpdated(null,i):this._describedByUpdated(i,null)}}},E._AfterSetOptionRequired=E._AfterSetOptionValidators=function(){var e;this._ResetAllValidators(),this._hasInvalidMessagesShowing()&&(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.validatorsOptionOptions))},E._AfterSetOptionAsyncValidators=function(){this._AfterSetOptionValidators()},E._AfterSetOptionConverter=function(){this._converter=null,this._converterChangedCounter+=1;var e=this._GetConverter();if(e instanceof Promise){var t=this;this._setBusyStateAsyncConverterLoading();var i=this._converterChangedCounter;this._loadingConverter(e).then(function(){i===t._converterChangedCounter&&t._ResetConverter(),t._clearBusyStateAsyncConverterLoading()})}else this._ResetConverter()},E._AfterCreateConverterCached=function(){this._HasPlaceholderSet()&&(this._SetPlaceholder(this.options.placeholder),this._customPlaceholderSet=!0),this._initComponentMessaging(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL),this._Refresh("value",this.options.value,!1),this.options.messagesShown.length>0&&this._setMessagesOption("messagesShown",this.options.messagesShown,null,!0)},E._ResetConverter=function(){var e;this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT)),this._hasInvalidMessagesShowing()?(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.converterOptionOptions)):this._Refresh("converter",this.options.converter,!0)},E._GetNormalizedValidatorsFromOption=function(){var e,i,n,r,a,s,l=!0,u=[];if(n=this.options.validators)for(e=0;e<n.length;e++)"object"==typeof(i=n[e])?(i.validate&&"function"==typeof i.validate||(l=!1),l||(s=i.type)&&"string"==typeof s&&(t.Validation&&t.Validation.validatorFactory?a=t.Validation.validatorFactory(s):o.error('oj.Validation.validatorFactory is not available and it is needed to support the deprecated json format for validators property. Please include the backward compatibility "ojvalidation-base" module.'),a&&((r=t.CollectionUtils.copyInto({},i.options)||{}).converter=r.converter||this._GetConverter(),r.label=r.label||this._getLabelText(),i=a.createValidator(r))),u.push(i)):o.error("Unable to parse the validator provided:"+i);return u},E._GetNormalizedAsyncValidatorsFromOption=function(){var e,t,i,n=[];for(i=this.options.asyncValidators,e=0;e<i.length;e++)"object"==typeof(t=i[e])?t.validate&&"function"==typeof t.validate&&n.push(t):o.error("Unable to parse the validator provided:"+t);return n},E._GetConverter=function(){var e,t,i,n=this;if(!this._converter){if((e=this.options.converter)instanceof Promise?i=e:t=h.getConverterInstance(e),i)return i.then(function(e){return n._converter=e,n._converter||null});this._converter=t}return this._converter||null},E._SetBusyState=function(e){void 0===this._resolveBusyStateAsyncMap&&(this._resolveBusyStateAsyncMap=new Map);var t=this._resolveBusyStateAsyncMap.get(e);if(!t){var i=this.element[0],n=s.getContext(i).getBusyContext(),r="The page is waiting for async validators for displayValue "+e;i&&i.id&&(r+=' for "'+i.id+'" '),r+="to finish.",t=n.addBusyState({description:r}),this._resolveBusyStateAsyncMap.set(e,t)}},E._ClearBusyState=function(e){var t;void 0!==this._resolveBusyStateAsyncMap&&(t=this._resolveBusyStateAsyncMap.get(e))&&(t(),this._resolveBusyStateAsyncMap.delete(e))},E._SetBusyStateAsyncValidatorHint=function(e){void 0===this._resolveBusyStateAsyncValidatorHintMap&&(this._resolveBusyStateAsyncValidatorHintMap=new Map);var t=this._resolveBusyStateAsyncValidatorHintMap.get(e);if(!t){var i=this.element[0],n=s.getContext(i).getBusyContext(),r="The page is waiting for async validator hint for counter "+e;i&&i.id&&(r+=' for "'+i.id+'" '),r+="to finish.",t=n.addBusyState({description:r}),this._resolveBusyStateAsyncValidatorHintMap.set(e,t)}},E._ClearBusyStateAsyncValidatorHint=function(e){var t;void 0!==this._resolveBusyStateAsyncValidatorHintMap&&(t=this._resolveBusyStateAsyncValidatorHintMap.get(e))&&(t(),this._resolveBusyStateAsyncValidatorHintMap.delete(e))},E._SetBusyStateAsyncConverterLoading=function(){if(!this._resolveBusyStateAsyncConverterLoading){var e=this.element[0],t=s.getContext(e).getBusyContext(),i="The page is waiting for async converter loading ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to finish.",this._resolveBusyStateAsyncConverterLoading=t.addBusyState({description:i})}},E._ClearBusyStateAsyncConverterLoading=function(){void 0!==this._resolveBusyStateAsyncConverterLoading&&(this._resolveBusyStateAsyncConverterLoading(),delete this._resolveBusyStateAsyncConverterLoading)},E._getShowLoadingDelay=function(){null==this._defaultOptions&&(this._defaultOptions=a.parseJSONFromFontFamily("oj-form-control-option-defaults"));var e=parseInt(this._defaultOptions.showIndicatorDelay,10);return isNaN(e)?0:e},E._SetInputType=function(e){var i="text",n=t.AgentUtils.getAgentInfo();if(n.os===t.AgentUtils.OS.ANDROID||n.os===t.AgentUtils.OS.IOS||n.os===t.AgentUtils.OS.WINDOWSPHONE)if(e.indexOf(this.options.virtualKeyboard)>=0)i=this.options.virtualKeyboard;else{var r=this._GetConverter();if(r&&r.resolvedOptions){var a=r.resolvedOptions();e.indexOf(a.virtualKeyboardHint)>=0&&(i=a.virtualKeyboardHint)}}null==i?this.element[0].removeAttribute("type"):this.element[0].setAttribute("type",i)},E._createReadonlyDiv=function(e){if(this._UseReadonlyDiv()){var t=document.createElement("div");t.classList.add("oj-text-field-readonly-div");var i=document.createElement("div");return i.classList.add("oj-text-field-readonly"),i.setAttribute("role","textbox"),i.setAttribute("aria-readonly",!0),t.appendChild(i),e.parentNode.insertBefore(t,e),i}return null},E._getReadonlyDiv=function(){return this.widget()[0].querySelector(".oj-text-field-readonly")};var C="display",S="display",O="display",A={MESSAGES:["inline"],VALIDATOR_HINT:["notewindow"],CONVERTER_HINT:["placeholder","notewindow"]};t.__registerWidget("oj.editableValue",n.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:{},help:void 0,helpHints:{definition:"",source:""},labelHint:"",labelEdge:void 0,messagesCustom:[],messagesHidden:void 0,messagesShown:void 0,title:"",userAssistanceDensity:"reflow",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(e){var t;if(!(t=this._super(e))&&!this._IsCustomElement()&&"oj-label-help-icon"===e.subId){var i=this._GetLabelElement();i&&(t=i.parent().find(".oj-label-help-icon"))}return t||null},getSubIdByNode:function(e){var t,i,r,a=null;return null!=e&&null!=(t=n(e).closest("a.oj-label-help-icon"))&&null!=(i=t.closest(".oj-label"))&&(r=i.find("label")[0])&&r===this._GetLabelElement()[0]&&(a={subId:"oj-label-help-icon"}),a},isValid:function(){return void 0===this._valid&&(this._valid=!this._hasInvalidMessages()),this._valid},refresh:function(){this._super(),this._doRefresh()},reset:function(){this._clearAllMessages(),this._runDeferredValidation(this._VALIDATION_CONTEXT.RESET_METHOD),this._refreshComponentDisplayValue(this.options.value,!0)},showMessages:function(){var e,t,i,n=[],r=this.options.messagesHidden,a=r.length>0;for(e=0;e<r.length;e++)(t=r[e])instanceof c.ComponentMessage?(t._forceDisplayToShown(),i=t.clone()):i=new c(t.summary,t.detail,t.severity),n.push(i);a&&(this._clearMessages("messagesHidden"),this._updateMessagesOption("messagesShown",n),this._setValidOption("invalidShown",null))},_VALIDATION_MODE:{FULL:1,VALIDATORS_ONLY:2,REQUIRED_VALIDATOR_ONLY:3},_VALIDATION_CONTEXT:E.validationContext,_VALIDATE_METHOD_OPTIONS:E.validateMethodOptions,_InitOptions:_ComponentCreate:function(){var e=this.element,t=this._GetSavedAttributes(e);if(this._super(),this.options.messagesCustom=this.options.messagesCustom||[],this.options.messagesHidden=[],this.options.messagesShown=this.options.messagesCustom.length>0?this._cloneMessagesBeforeSet(this.options.messagesCustom):[],this._SetDisabledDom(e),t&&!this._IsCustomElement()){var i=e[0].tagName.toLowerCase();"input"!==i&&"textarea"!==i||["required","title","pattern"].forEach(function(i){i in t&&e.removeAttr(i)})}},_AfterCreate:function(){var e,t=this;this._super(),this._refreshTheming("disabled",this.options.disabled),this.widget()[0].classList.add("oj-form-control"),this._IsTextFieldComponent()&&(this._IsCustomElement()?this._getRootElement().classList.add("oj-text-field"):this.widget()[0].classList.add("oj-text-field")),this._toggleOjHasNoValueClass(),this.widget().uniqueId(),this._IsCustomElement()?this.options.labelledBy?this._labelledByUpdated(this.options.labelledBy):this._setAriaLabelFromLabelHint():this._createOjLabel(),(e=this.options.describedBy)&&this._describedByUpdated(null,e),this._runDeferredValidation(this._VALIDATION_CONTEXT.COMPONENT_CREATE);var i=this._GetConverter();this._converterChangedCounter=0,i instanceof Promise?(this._setBusyStateAsyncConverterLoading(),this._ResolveLabelEdgeStrategyType(),this._loadingConverter(i).then():(this._AfterCreateConverterCached(),this._setValidOption(this._determineValidFromMessagesOptions(),null))},_SaveAttributes:function(e){this._IsCustomElement()||this._SaveAllAttributes(e)},_RestoreAttributes:_AfterSetOption:function(e,t){switch(e){case"disabled":this._AfterSetOptionDisabledReadOnly(e,E.disabledOptionOptions);break;case"displayOptions":this._initComponentMessaging();break;case"labelEdge":this._initComponentMessaging(),this._setAriaLabelFromLabelHint();break;case"labelHint":this._setAriaLabelFromLabelHint();break;case"help":this._IsCustomElement()?this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE)):this._Refresh(e,this.options[e]);break;case"messagesCustom":this._messagesCustomOptionChanged(t),this._setValidOption(this._determineValidFromMessagesOptions(),null);break;case"placeholder":this._SetPlaceholder(this.options.placeholder),this._placeholderOptionChanged(t);break;case"title":this._IsCustomElement()||this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE));break;case"translations":this.refresh();break;case"userAssistanceDensity":this._initComponentMessaging();break;case"value":this._AfterSetOptionValue(e,t)}},_AfterSetOptionDisabledReadOnly:function(e,t){var i=!this.options[e];this._Refresh(e,this.options[e]),i&&this._runMixedValidationAfterSetOption(t)},_AfterSetOptionValue:function(e,t){var i,n=t?t._context:null,r=!1;n&&(r=!!n.originalEvent,i=n.doNotClearMessages||!1),r||(i||this._clearAllMessages(null),this._runDeferredValidation(this._VALIDATION_CONTEXT.VALUE_OPTION_CHANGE)),this._Refresh(e,this.options[e],!0)},_CanSetValue:function(){return!(this.options.disabled||!1)},_destroy:function(){var e,t,r=this._super();if(this._clearAllMessages(null,!0),this.widget().removeUniqueId(),this._getComponentMessaging()._isActive()&&this._getComponentMessaging().deactivate(),this.$label)for(t=this.$label.length,e=0;e<t;e++)this.$label[e]&&null!=i.__GetWidgetConstructor(this.$label[e])&&n(this.$label[e]).ojLabel("destroy");return r},GetFocusElement:_setOption:function(e,t,i){var n,r,s,l=!1;switch(e){case"messagesHidden":case"messagesShown":case"rawValue":l=!0;break;case"describedBy":r=this.options.describedBy,s=t,this._describedByUpdated(r,s);break;case"labelledBy":t&&this._labelledByUpdated(t);break;case"readOnly":this._addRemoveOjReadOnlyClassOnLabel(document.getElementById(this.options.labelledBy),t);break;case"displayOptions":var u=t,d=null!==t&&void 0===t.validatorHint&&void 0===t.converterHint&&void 0===t.messages;if(d){"use"===(a.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?(u.validatorHint=S,u.converterHint=O,u.messages=C):(u.validatorHint=A.VALIDATOR_HINT,u.converterHint=A.CONVERTER_HINT,u.messages=A.MESSAGES)}}return l?(o.error(e+" option cannot be set"),this):(n=this._superApply(arguments),this._AfterSetOption(e,i),n)},_GetContentElement:function(){return this.element},_GetLabelElement:function(){if(this._IsCustomElement())return null;var e;if(this.$label)return this.$label;if(E.hasNoLabelFlag(this.widget()))return null;var t=this._getAriaLabelledByElement(this.element);if(null!==t&&0!==t.length)return t;var i=this.element[0].id;return void 0!==i&&0!==(t=n("label[for='"+i+"']")).length||0!==(e=this.element.closest("[aria-labelledby]")).length&&null!==(t=this._getAriaLabelledByElement(e))&&0!==t.length?t:null},_GetElementValue:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this._GetContentElement()},_GetConverter:function(){return null},_GetImplicitValidators:_GetDisplayValue:_GetNormalizedValidatorsFromOption:function(){return[]},_GetNormalizedAsyncValidatorsFromOption:_GetAllValidatorsFromValidatorsOptionAndImplicit:function(){var e,t,i,n,r=[];if(!this._allValidators){t=this._GetImplicitValidators(),i=[];var a,s=Object.keys(t),o=s.length;if(o>0){for(e=0;e<o;e++)a=s[e],i.push(t[a]);r=r.concat(i)}(n=this._GetNormalizedValidatorsFromOption()).length>0&&n.forEach(function(e){r.push(e)}),this._allValidators=r}return this._allValidators},_ResetAllValidators:function(){this._allValidators&&(this._allValidators.length=0),this._allValidators=null,this._IsCustomElement()?this._updateValidatorMessagingHint():this._getComponentMessaging().update(this._getValidatorHintsMC())},_GetAriaLabelElement:function(){return this._getRootElement()},_addRemoveOjReadOnlyClassOnLabel:function(e,t){if(e&&void 0!==t){const i="oj-read-only";t?e.classList.add(i):e.classList.remove(i)}},_setAriaLabelFromLabelHint:function(){if(this._IsCustomElement()){var e=this._GetAriaLabelElement(),t=e.getAttribute("aria-label");let i=this._getReadonlyDiv();this.options.labelledBy||!this.options.labelHint||"none"!==this.options.labelEdge||t&&t!==this._ariaLabelFromHint||this._getRootElement().getAttribute("aria-labelledby")?this._ariaLabelFromHint&&this._ariaLabelFromHint===t?(e.removeAttribute("aria-label"),i&&i.removeAttribute("aria-label")):t?i&&i.setAttribute("aria-label",t):i&&i.removeAttribute("aria-label"):(e.setAttribute("aria-label",this.options.labelHint),i&&i.setAttribute("aria-label",this.options.labelHint),this._ariaLabelFromHint=this.options.labelHint)}},_getAllAsyncValidatorsWithHint:function(){var e,t,i=this._GetNormalizedAsyncValidatorsFromOption(),n=[];if(this._IsRequired()&&"hint"in(t=this._getImplicitRequiredValidator())&&n.push(t),i.length>0)for(e=0;e<i.length;e++)"hint"in(t=i[e])&&n.push(t);var r=this._GetAllValidatorsFromValidatorsOptionAndImplicit();if(r.length>0)for(e=0;e<r.length;e++)"hint"in(t=r[e])&&n.push(t);return n},_initAsyncValidatorMessagingHint:function(){var e,t,i=this._getAllAsyncValidatorsWithHint(),n=this;this._asyncValidatorHintCounter=0,i.length>0&&(t=this._getValidatorHintsMC(),e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(i,t).then(function(){n._clearBusyStateAsyncValidatorHint(e)}))},_getValidatorHintsMC:_updateValidatorMessagingHint:function(){var e,t=this._getAllAsyncValidatorsWithHint(),i=this._getComponentMessaging(),n=this,r=this._getValidatorHintsMC();t.length>0?(this._asyncValidatorHintCounter+=1,e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(t,r).then():i.update(r)},_addAsyncValidatorsHintsMessagingContent:function(e,t){var i,n=this._asyncValidatorHintCounter,r=this._getComponentMessaging(),a=[],s=this,o=[];for(i=0;i<e.length;i++)o.push(e[i].hint);function l(e){return e.then(function(e){var i,o={};return s._asyncValidatorHintCounter===n?(null!==e&&(a.push(e),o.validatorHint=t.validatorHint.concat(a),r.update(o)),i="resolved"):i="ignore",{v:e,status:i}},}return new Promise(function(e){Promise.all(o.map(l)).then(function(){e(a)})})},_IsRequired:function(){return!1},_HandleChangeEvent:_SetRawValue:function(e,t){var i={};i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this._CompareOptionValues("rawValue",this.options.rawValue,e)||this.option("rawValue",e,i)},_IsValueEmpty:function(e){return null==e||("string"==typeof e?t.StringUtils.isEmptyOrUndefined(e):"number"==typeof e?isNaN(e):!!Array.isArray(e)&&(0===e.length||1===e.length&&(null===e[0]||void 0===e[0])))},_toggleOjHasNoValueClass:function(e){let t=this._getRootElement();this._IsValueEmpty(e)?t.classList.add("oj-has-no-value"):t.classList.remove("oj-has-no-value")},_Refresh:function(e,t,i){var n,r;switch(e){case"converter":var a=this.options.value;this._refreshComponentDisplayValue(a,i);break;case"disabled":this._refreshTheming("disabled",this.options.disabled);break;case"help":if(!this._IsCustomElement()&&this.$label){n=this.options.help.definition,r=this.options.help.source,this.$label.ojLabel("option","help",{definition:n,source:r});var s=this.$label[0];if(s){let e=s.id;if(e){let t=e+"_helpIcon";null!=r||null!=n?this._describedByUpdated(null,t):this._describedByUpdated(t,null)}}}break;case"value":this._refreshComponentDisplayValue(t,i)}},_NotifyHidden:function(){this._superApply(arguments),this._getComponentMessaging().close()},_NotifyDetached:function(){this._superApply(arguments),this._getComponentMessaging().close()},_ResetComponentState:function(){this.$label&&this.$label.ojLabel("refresh"),this._implicitReqValidator=null,this._converter=null,this._ResetAllValidators()},_SetDisplayValue:function(e){var t=this._GetContentElement();t.val()!==e&&t.val(e)},_SetDisabledDom:function(e){"boolean"==typeof this.options.disabled&&(e[0].disabled=this.options.disabled)},_SetPlaceholder:function(e){var t=this._GetContentElement()[0];t&&(null==e?t.removeAttribute("placeholder"):t.setAttribute("placeholder",e))},_SetPlaceholderOption:_HasPlaceholderSet:function(){return this.options.placeholder},_ClearPlaceholder:_SetValue:function(e,t,i){var n,r,a,s=!i||"boolean"!=typeof i.doValueChangeCheck||i.doValueChangeCheck,l=this,u=!1;return this._toggleOjHasNoValueClass(e),void 0===e?(o.warn("Attempt to set a value of undefined"),!1):(s&&e===l._getLastDisplayValue()?o.level>o.LEVEL_WARN&&o.info((e.toString,e.toString())):(n=e+"_"+(this._asyncValidatorValidateCounter+1),(r=this._AsyncValidate(e,t,i,n))instanceof Promise?u=r.then(function(e){return a=e,l._afterAsyncValidateUpdateValue(e,t,i)}).then(function(){return l._clearBusyState(n),void 0!==a}):(this._afterAsyncValidateUpdateValue(r,t,i),u=void 0!==r)),u)},_ParseValueShowErrors:function(e,t){var i;this._clearAllMessages(t);try{return this._parseValue(e,t)}catch(e){i=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",i,t),this._setValidOption("invalidShown",t)}},_AsyncValidate:function(e,t,i,n){var r,a,s,l=i&&i.validationMode?i.validationMode:this._VALIDATION_MODE.FULL,u=i&&i.validationContext?i.validationContext:this._VALIDATION_CONTEXT.USER_ACTION,d=i&&i.doNotClearMessages||!1;if(void 0!==e){if(this._CanSetValue()){d||this._clearAllMessages(t);try{return this._asyncValidatorValidateCounter+=1,l===this._VALIDATION_MODE.FULL?(this._setLastDisplayValue(e),a=this._parseValue(e,t,!0)):a=e,(s=this._asyncValidateValue(a,t,u))instanceof Promise?(this._setBusyState(n),s.then():s}catch(e){r=this._processValidationErrors(e,u),this._updateMessagesOption("messagesShown",r,t),this._setValidOption("invalidShown",t)}}else o.level>o.LEVEL_WARN&&o.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.");return s}o.warn("Attempt to set a value of undefined")},_afterAsyncValidateUpdateValue:function(e,t,i){var n,r=!1;return void 0!==e&&(i&&!0===i.doNotClearMessages?this.isValid()||!this._hasInvalidComponentMessagesShowing():this.isValid())&&(i&&i._context&&(n=i._context),this._updateValueOption(e,t,i&&i.validationContext,n,i),r=!0),r},_CompareOptionValues:function(e,i,n){return"value"===e||"rawValue"===e?t.Object.compareValues(i,n):0===e.indexOf("messages")?this._messagesEquals(i,n):this._superApply(arguments)},_GetDefaultStyleClass:function(){return t.Assert.failedInAbstractFunction(),""},_MESSAGING_CONTENT_UPDATE_TYPE:{INIT:1,VALIDITY_STATE:2,CONVERTER_HINT:3,VALIDATOR_HINTS:4,TITLE:5},_OPTION_TO_CSS_MAPPING:{disabled:"oj-disabled",required:"oj-required"},_clearAllMessages:function(e,t){t?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this._clearMessages("messagesHidden",e),this._clearMessages("messagesShown",e),this._clearMessages("messagesCustom",e))},_clearComponentMessages:function(){var e,t=this.options.messagesShown;e=t.length,this._clearMessages("messagesHidden");for(var i=e-1;i>=0;i--)t[i]instanceof c.ComponentMessage&&t.splice(i,1);t.length!==e&&this._setMessagesOption("messagesShown",t,null,!0)},_setMessagesOption:function(e,t,i,n){var r={},a=0===t.length&&0===this.options[e].length;!n&&a||(r._context={originalEvent:i,writeback:!0,internalSet:!0},"messagesCustom"!==e&&(r._context.readOnly=!0),r.changed=n||!a,this._resetValid(),this.option(e,t,r),this._updateMessagingContent())},_setValidOption:function(e,t){var i={};"pending"===e&&"valid"!==this._determineValidFromMessagesOptions()||e!==this.options.valid&&(i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this.option("valid",e,i))},_clearMessages:function(e,t){this._setMessagesOption(e,[],t)},_cloneMessagesBeforeSet:function(e){var t,i,n,r=[];if(e&&e.length>0)for(t=0;t<e.length;t++)n=e[t],i=new c(n.summary,n.detail,n.severity),i=Object.freeze?Object.freeze(i):i,r.push(i);return r},_createOjLabel:function(){var e,t;this._IsCustomElement()||(this.$label=this._GetLabelElement(),this.$label&&(e=this.options.help.definition,t=this.options.help.source,this.$label.ojLabel({rootAttributes:{class:this._GetDefaultStyleClass()+"-label"},help:{definition:e,source:t}}),this._createDescribedByForLabel()))},_createDescribedByForLabel:function(){var e,t=this.options.help.definition;if(null!=this.options.help.source||null!=t){var i=this.$label[0];i&&(e=i.id),e&&this._describedByUpdated(null,e+"_helpIcon")}},_doRefresh:function(){var e,t=!1;this._ResetComponentState(),this._initComponentMessaging(),this._Refresh("disabled",this.options.disabled),this._hasInvalidMessagesShowing()&&(t=!0),this._clearComponentMessages(),t?(e=this._GetDisplayValue(),this._SetValue(e,null,E.refreshMethodOptions)):(this._IsRequired()&&this._runDeferredValidation(E.refreshMethodOptions.validationContext),this._Refresh("value",this.options.value,!0))},_getLastModelValue:function(){return this._oj_lastModelValue},_getLastDisplayValue:function(){return void 0===this._oj_lastElementValue&&(this._oj_lastElementValue=""),this._oj_lastElementValue},_getAriaLabelledByElement:function(e){if(this._IsCustomElement())return null;var t=e[0].getAttribute("aria-labelledby");return void 0!==t?n("label[id='"+t+"']"):null},_getMessages:function(){var e=[];return this.options.messagesShown&&(e=e.concat(this.options.messagesShown)),this.options.messagesHidden&&(e=e.concat(this.options.messagesHidden)),e},_getLabelText:function(){if(this.$label)return this.$label[0].textContent;var e=E._getCustomOjLabelElements(this.options.labelledBy),t=null;if(e)for(var i=0;i<e.length;i++){i>0&&(t+=" "),t=e[i].textContent}return t},_getValidityState:function(){return this._validityState||(this._validityState=new t.ComponentValidity(this.isValid(),this._getMessages())),this._validityState},_hasValidityState:_hasInvalidMessages:_hasInvalidMessagesShowing:function(){return!this.isValid()&&this.options.messagesShown.length>0},_hasInvalidComponentMessagesShowing:function(){for(var e,t,i=this.options.messagesShown,n=0;n<i.length;n++)(t=i[n])instanceof c.ComponentMessage&&t._isMessageAddedByComponent()&&(e=e||[]).push(t);return void 0!==e&&!c.isValid(e)},_initComponentMessaging:function(){var e=this._getComponentMessaging(),t=this._GetMessagingLauncherElement(),i=this._GetContentElement(),n=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.INIT);this._customPlaceholderSet||this._ClearPlaceholder(),e.activate(t,i,n),this._asyncValidatorValidateCounter=0},_messagesCustomOptionChanged:function(e){var t,i,n=e?e._context:null,r=this.options.messagesCustom,a=this.options.messagesShown,s=[];for(t=0;t<a.length;t++)(i=a[t])instanceof c.ComponentMessage&&i._isMessageAddedByComponent()&&s.push(i);for(t=0;t<r.length;t++)s.push(r[t]);this._setMessagesOption("messagesShown",s,n?n.originalEvent:null,e&&e.changed)},_placeholderOptionChanged:function(e){"displayOptions"===this._getResolvedUserAssistance()&&(!(e&&e._context||{}).internalMessagingSet?(this._customPlaceholderSet=!0,this._GetConverter()&&this._initComponentMessaging()):this._customPlaceholderSet=!1)},_setLastModelValue:function(e){this._oj_lastModelValue=e},_setLastDisplayValue:function(e){this._oj_lastElementValue=e},_updateMessagesOption:function(e,t,i){var n,r,a;if("object"==typeof t&&Array.isArray(t))for(a=this.options[e],r=t.length,n=0;n<r;n++)a.push(t[n]);this._setMessagesOption(e,a,i,!0)},_updateMessagingContent:function(){this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE))},_updateValueOption:function(e,t,i,n,r){var a,s,o=n||{};switch(t&&(o.originalEvent=t),i){case this._VALIDATION_CONTEXT.CONVERTER_OPTION_CHANGE:case this._VALIDATION_CONTEXT.DISABLED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.READONLY_OPTION_CHANGE:case this._VALIDATION_CONTEXT.REFRESH_METHOD:case this._VALIDATION_CONTEXT.REQUIRED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.VALIDATE_METHOD:case this._VALIDATION_CONTEXT.VALIDATORS_OPTION_CHANGE:o.writeback=!0,o.doNotClearMessages=!0}if(o.internalSet=!0,r&&r.targetOptions){a={},s=!1;for(var l=0;l<r.targetOptions.length;l++)a[r.targetOptions[l]]=e,s=s||"value"===r.targetOptions[l]}else a={value:e},s=!0;this.option(a,{_context:o}),s&&this._AfterSetOptionValue("value",{_context:o})},_resetValid:_determineValidFromMessagesOptions:function(){var e=this.options.messagesHidden,t=this.options.messagesShown,i="valid";return t&&0!==t.length&&!c.isValid(t)?i="invalidShown":e&&0!==e.length&&!c.isValid(e)&&(i="invalidHidden"),i},_formatValue:function(e){var t=e,i=this._GetConverter();return i&&"object"==typeof i&&(i.format&&"function"==typeof i.format?t=i.format(e):o.level>o.LEVEL_WARN&&o.info("converter does not support the format method.")),t},_getComponentMessaging:_getHintsFromAllValidatorsWithGetHintFunction:function(e){var t,i,n=[],r="";for(this._IsRequired()&&(i=this._getImplicitRequiredValidator()).getHint&&"function"==typeof i.getHint&&(r=i.getHint())&&n.push(r),t=0;t<e.length;t++)r="","object"==typeof(i=e[t])&&i.getHint&&"function"==typeof i.getHint&&(r=i.getHint())&&n.push(r);return n},_getImplicitRequiredValidator:function(){var e,t={};return null==this._implicitReqValidator&&(e={hint:(t=this.options.translations&&this.options.translations.required||{}).hint||null,label:this._getLabelText(),messageSummary:t.messageSummary||null,messageDetail:t.messageDetail||null},this._implicitReqValidator=new l(e)),this._implicitReqValidator},_getResolvedUserAssistance:function(){let e=a.parseJSONFromFontFamily("oj-form-control-option-defaults");if(e){return"use"===e.useUserAssistanceOptionDefault?this.options.userAssistanceDensity:"displayOptions"}return"displayOptions"},_showUserAssistanceNotInline:_getMessagingContent:function(e){var t,i,n={},r="";if((e=e||this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE)!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE||(n.validityState=this._getMessagingContentValidityState()),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT||((i=this._GetConverter())&&"object"==typeof i&&i.getHint&&"function"==typeof i.getHint&&(r=i.getHint()||""),n.converterHint=r),e===this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS){t=this._GetAllValidatorsFromValidatorsOptionAndImplicit();let e=this._getHintsFromAllValidatorsWithGetHintFunction(t)||[];n.validatorHint=e}if(e===this._MESSAGING_CONTENT_UPDATE_TYPE.INIT||e===this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE){var a;if(this._IsCustomElement()){var s=this.options.help;null!=s&&(a=s.instruction)}else a=this.options.title;n.title=a||""}return n},_getMessagingContentValidityState:function(){let e;return this._hasValidityState()?(e=this._getValidityState(),e.update(this.isValid(),this._getMessages())):e=this._getValidityState(),e},_messagesEquals:function(e,t){var i,r=-1,a=!0,s=n.extend([],e),o=n.extend([],t);return s.length===o.length&&(s.forEach(function(e){e instanceof c?i=e:(i=new c(e.summary,e.detail,e.severity),i=Object.freeze?Object.freeze(i):i),r=-1,o.forEach(function(e,t){c.getSeverityLevel(i.severity)===c.getSeverityLevel(e.severity)&&i.summary===e.summary&&i.detail===e.detail&&(r=t)}),r>-1?o.splice(r,1):a=!1}),a)},_parseValue:function(e,t,i){var n=this._GetConverter(),r=e;if(n&&"object"==typeof n)if(n.parse&&"function"==typeof n.parse)try{i&&this._setValidOption("pending",t),r=n.parse(e)}catch(e){throw e}else o.level>o.LEVEL_WARN&&o.info("converter does not support the parse method.");return r},_addValidationError:function(e,t){var i,n,r,a;e instanceof p.ConverterError||e instanceof p.ValidatorError?(n=(r=e.getMessage()).severity||c.SEVERITY_LEVEL.ERROR,a=r.summary||d.getTranslatedString("oj-message.error"),i=r.detail||d.getTranslatedString("oj-converter.detail")):e.summary||e.detail?(n=c.SEVERITY_LEVEL.ERROR,a=e.summary||d.getTranslatedString("oj-message.error"),i=e.detail||d.getTranslatedString("oj-converter.detail")):(n=c.SEVERITY_LEVEL.ERROR,a=d.getTranslatedString("oj-message.error"),i=e.message||d.getTranslatedString("oj-converter.detail")),t.push({summary:a,detail:i,severity:n})},_processValidationErrors:function(e,t,i){var n,r=[],a=e._messages||[],s={};s.context=t||0,s.display=i||c.ComponentMessage.DISPLAY.SHOWN,0===a.length&&this._addValidationError(e,a);for(var o=0;o<a.length;o++)n=a[o],r.push(this._createComponentMessage(n.summary,n.detail,n.severity,s));return r||null},_createComponentMessage:function(e,t,i,n){var r;return r=new c.ComponentMessage(e,t,i,n),r=Object.seal?Object.seal(r):r},_refreshComponentDisplayValue:function(e,t){var i;return this._toggleOjHasNoValueClass(e),(t||e!==this._getLastModelValue())&&(i=this._UpdateElementDisplayValue(e)),i},_refreshTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_runDeferredValidation:function(e){var t=this;if(this._CanSetValue()){if(!this._resolveBusyStateDeferredValidation){var i=this.element[0],n=s.getContext(i).getBusyContext(),r="The page is waiting for async deferred validation ";i&&i.id&&(r+='for "'+i.id+'" '),r+="to finish.",this._resolveBusyStateDeferredValidation=n.addBusyState({description:r})}var a=this._validateValueForRequiredOnly(this.options.value,e);if(!(a instanceof Promise))return this._setValidOption(this._determineValidFromMessagesOptions(),null),void(this._resolveBusyStateDeferredValidation&&(this._resolveBusyStateDeferredValidation(),delete this._resolveBusyStateDeferredValidation));a.then(function(){t._resolveBusyStateDeferredValidation&&(t._resolveBusyStateDeferredValidation(),delete t._resolveBusyStateDeferredValidation),t._setValidOption(t._determineValidFromMessagesOptions(),null)})}else o.level>o.LEVEL_WARN&&o.info("Deferred validation skipped as component is readonly or disabled.");this._setValidOption(this._determineValidFromMessagesOptions(),null)},_runMixedValidationAfterSetOption:function(e){var t,i=!1;this._hasInvalidMessagesShowing()&&(i=!0),this._clearComponentMessages(),i&&(t=this._GetDisplayValue(),this._SetValue(t,null,e)),!i&&this._IsRequired()?this._runDeferredValidation(e.validationContext):this._setValidOption(this._determineValidFromMessagesOptions(),null)},_UpdateElementDisplayValue:function(e,t){var i,n;i=e;try{i=this._formatValue(e);try{this._setLastModelValue(e),this._afterConverterFormat(i)}catch(e){throw e}n=i}catch(r){t||this._afterConverterFormatFailure(r),this._setLastModelValue(e),this._afterConverterFormat(i),n=void 0}return n},_SetLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.add("oj-loading"),this._saveAriaLabel=t.getAttribute("aria-label");var i=d.getTranslatedString("oj-ojEditableValue.loading");t.setAttribute("aria-label",i)},_ClearLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.remove("oj-loading"),this._saveAriaLabel?t.setAttribute("aria-label",this._saveAriaLabel):t.removeAttribute("aria-label")},_UseReadonlyDiv:_ShowHelpHints:function(){return this._IsTextFieldComponent()?"focus":"always"},_ShowHelpHintsLocation:function(){return"inline"},_afterConverterFormat:function(e){var t;this._SetDisplayValue(e),t=this._GetDisplayValue(),this._setLastDisplayValue(t),this._SetRawValue(t,null)},_afterConverterFormatFailure:function(e){var t;t=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",t),this._setValidOption("invalidShown",null)},_loadingConverter:function(e){var t=this,i=E._getShowLoadingDelay(),n=this._converterChangedCounter,r=setTimeout(i);return e.then(function(e){return t._ClearLoading(),clearTimeout(r),e})},_validateValueForRequiredOnly:function(e,i){var n,r,a=this;if(this._IsRequired()){r=this._getImplicitRequiredValidator();try{this._setValidOption("pending",null);var s=r.validate(t.StringUtils.trim(e));if(s instanceof Promise)return s.then(function(){},function(e){(n=a._processValidationErrors(e,i,c.ComponentMessage.DISPLAY.HIDDEN))&&a._updateMessagesOption("messagesHidden",n)})}catch(e){(n=this._processValidationErrors(e,i,c.ComponentMessage.DISPLAY.HIDDEN))&&this._updateMessagesOption("messagesHidden",n)}}return null},_asyncValidateValue:function(e,i,n){var r,a,s,l,u,d=this._GetNormalizedAsyncValidatorsFromOption(),c=this._GetAllValidatorsFromValidatorsOptionAndImplicit(),h=!1,p=this,_=[],f=this._asyncValidatorValidateCounter,m=[],v=this._IsRequired();if(v&&(l=this._getImplicitRequiredValidator()),(v||d.length>0||c.length>0)&&this._setValidOption("pending",i),l)try{var g=l.validate(t.StringUtils.trim(e));g&&m.push(g)}catch(e){this._addValidationError(e,_),this._setValidOption("invalidShown",i),h=!0}for(r=0;r<d.length;r++){try{u=d[r].validate(e)}catch(e){u=Promise.reject(e)}u instanceof Promise||(u=Promise.resolve(u)),m.push(u)}for(r=0;r<c.length;r++)try{(u=c[r].validate(e))instanceof Promise&&m.push(u)}catch(e){this._addValidationError(e,_),this._setValidOption("invalidShown",i),h=!0}if(_.length>0){let e=new Error;e._messages=_,s=this._processValidationErrors(e,n),this._updateMessagesOption("messagesShown",s,i)}function b(t){return t.then(function(t){var i;return p._asyncValidatorValidateCounter===f?i="resolved":(o.level>o.LEVEL_WARN&&o.info("Validate ignored because new value came in before async validator finished for "+e),i="ignore"),{v:t,status:i}},function(t){var r;return p._asyncValidatorValidateCounter===f?(s=p._processValidationErrors(t,n),p._updateMessagesOption("messagesShown",s,i),h||(p._setValidOption("invalidShown",i),h=!0),r="rejected"):(o.level>o.LEVEL_WARN&&o.info("Validate ignored because new value came in before async validator finished for "+e),r="ignore"),{e:t,status:r}})}return m.length>0?new Promise(function(e){Promise.all(m.map(b)).then(function(t){t.filter(.length>0?a="ignoreValidation":(a=h?"invalidShown":"valid",p._setValidOption(p._determineValidFromMessagesOptions(),i)),e(a)})}):(0===_.length&&this._setValidOption(p._determineValidFromMessagesOptions(),i),0===_.length?e:void 0)},_labelledByUpdated:function(e){var t=E._getCustomOjLabelElements(e);if(t)for(let e=0;e<t.length;e++){var i=t[e];i.classList.add(this._GetDefaultStyleClass()+"-label"),void 0===this.widget().attr("data-oj-internal")&&void 0!==this.options.readOnly&&this._addRemoveOjReadOnlyClassOnLabel(i,this.options.readOnly)}},_describedByUpdated:u._describedByUpdated,_setBusyState:E._SetBusyState,_clearBusyState:E._ClearBusyState,_setBusyStateAsyncValidatorHint:E._SetBusyStateAsyncValidatorHint,_clearBusyStateAsyncValidatorHint:E._ClearBusyStateAsyncValidatorHint,_setBusyStateAsyncConverterLoading:E._SetBusyStateAsyncConverterLoading,_clearBusyStateAsyncConverterLoading:E._ClearBusyStateAsyncConverterLoading,_AfterCreateConverterCached:E._AfterCreateConverterCached,_getReadonlyDiv:E._getReadonlyDiv,_createOrUpdateReadonlyDiv:E._createOrUpdateReadonlyDiv,_createReadonlyDiv:E._createReadonlyDiv,_setReadonlyDivLabelledBy:E._setReadonlyDivLabelledBy,_GetFormControlContainer:function(){if(this._IsCustomElement()){var e="."+[this._GetComponentManagedBaseLabelStyleClass(),"container"].join("-");return this._getRootElement().querySelector(e)}},_IsTextFieldComponent:function(){return!1},_GetComponentManagedBaseLabelStyleClass:_CreateMiddleWrapper:_ResolveLabelEdgeStrategyType:function(){var e=this.options.labelEdge;return this._IsCustomElement()&&"inside"===e&&(this._IsTextFieldComponent()||(e=t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL)),e}},!0),i.setDefaultOptions({editableValue:{displayOptions:i.createDynamicPropertyGetter(function(e){var t;return(t="use"===(a.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?{messages:C,converterHint:O,validatorHint:S}:{messages:e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?["notewindow"]:A.MESSAGES,converterHint:A.CONVERTER_HINT,validatorHint:A.VALIDATOR_HINT})[e.isCustomElement?"helpInstruction":"title"]=["notewindow"],t}),help:i.createDynamicPropertyGetter(,labelEdge:i.createDynamicPropertyGetter(function(e){if(e.isCustomElement)return(a.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).labelEdge}),userAssistanceDensity:i.createDynamicPropertyGetter(function(e){return e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?"compact":"reflow"})}});const j=function(e){this.Init(e)},I={},w={};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW,j),t.Object.createSubclass(j,t.MessagingStrategy,"oj.PopupMessagingStrategy"),j._DEFAULTS_BY_COMPONENT={ojRadioset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",events:{open:"focusin"}},ojTextArea:{position:"launcher",events:{open:"focusin"}},ojInputPassword:{position:"launcher",events:{open:"focusin"}},ojSwitch:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorPalette:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},default:{position:"launcher-wrapper",events:{open:"focusin"}}},j._SELECTOR_FORMCONTROL_HINT="oj-form-control-hint",j._SELECTOR_FORMCONTROL_HINT_CONVERTER="oj-form-control-hint-converter",j._SELECTOR_FORMCONTROL_HINT_VALIDATOR="oj-form-control-hint-validator",j._SELECTOR_FORMCONTROL_HINT_TITLE="oj-form-control-hint-title",j._OPEN_NAMESPACE=".ojPopupMessagingOpen",j._CLOSE_NAMESPACE=".ojPopupMessagingClose",j.prototype.activate=function(e){j.superclass.activate.call(this,e),this._initMessagingPopup()},j.prototype.reactivate=function(e){j.superclass.reactivate.call(this,e),this._updatePopupIfOpenOrComponentHasFocus()},j.prototype.update=function(){j.superclass.update.call(this),this._updatePopupIfOpenOrComponentHasFocus()},j.prototype.deactivate=j.prototype.close=function(){this._closePopup()},j.prototype._closePopup=function(){this._queueAction(function(e){if(this._isPopupInitialized())return e&&this._setActionResolver(this.$messagingContentRoot,"close",e),void this.$messagingContentRoot.ojPopup("close");e&&e(!0)}.bind(this))},j.prototype._initMessagingPopup=j.prototype._addAnimateEventListeners=function(e){var t=function(e,t,i){var n=this.GetComponent();n&&n._trigger&&(t.stopPropagation(),n._trigger(e,null,i)||t.preventDefault())};e.on("ojanimatestart.notewindow",t.bind(this,"animateStart")),e.on("ojanimateend.notewindow",t.bind(this,"animateEnd"))},j.prototype._removeAnimateEventListeners=j.prototype._setBusyState=function(e){var t=this.GetComponent(),i=t?t.element:null,n=i?i[0]:null,r=s.getContext(n).getBusyContext(),a="The page is waiting for note window ";return n&&n.id&&(a+='for "'+n.id+'" '),a+="to "+e,r.addBusyState({description:a})},j.prototype._setActionResolver=function(e,t,i){var n;this._actionCount>1&&(n=e.ojPopup("option","animation"),e.ojPopup("option","animation",null));var r=this._setBusyState(t);e.one("oj"+t,function(){n&&e.ojPopup("option","animation",n),r(),i(!0)})},j.prototype._queueAction=function(e){if(this.GetComponent()._IsCustomElement()){var t=this,i=function(e){var i=new Promise(e);return i.then(,i};this._actionCount?(this._actionCount+=1,this._actionPromise=this._actionPromise.then():(this._actionCount=1,this._actionPromise=i(e))}else e(null)},j.prototype._openPopup=function(e){this._queueAction(function(i){var n,r,a;if(this._canOpenPopup()&&(r=this._buildPopupHtml(),!t.StringUtils.isEmptyOrUndefined(r))){var s=this._getPopupElement(),o=s.ojPopup("isOpen");if((n=I.getPopupContentNode(s)).innerHTML="",n.innerHTML=r,!o)return a=this.GetLauncher(),e&&"press"===e.type&&this._openPopupOnPressEvent(a),i&&this._setActionResolver(s,"open",i),void s.ojPopup("open",a);o&&s.ojPopup("refresh")}i&&i(!0)}.bind(this))},j.prototype._openPopupOnPressEvent=function(e){this._inPressEvent=!0,e[0].addEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].addEventListener("change",this._eatChangeAndClickOnPress,!0),e.one("touchend",function(){setTimeout(function(){this._inPressEvent=!1},50)})},j.prototype._eatChangeAndClickOnPress=function(e){this._inPressEvent&&(e.preventDefault(),e.stopPropagation(),"click"===e.type&&(this._inPressEvent=!1))},j.prototype._canOpenPopup=function(){var e=this.GetComponent().options,t=e.disabled||!1,i=e.readOnly||!1;return!(t||i)},j.prototype._updatePopupIfOpenOrComponentHasFocus=function(){var e,t,i,n;null!=this.GetLauncher()&&(i=this.GetLauncher()[0].contains(document.activeElement),this._isPopupInitialized()?(n=this._getPopupElement()).ojPopup("isOpen")&&((e=this._buildPopupHtml())?((t=I.getPopupContentNode(n)).innerHTML="",t.innerHTML=e,n.ojPopup("refresh")):n.ojPopup("close")):i&&(e=this._buildPopupHtml())&&this._openPopup(void 0))},j.prototype._unregisterLauncherEvents=function(){var e=this.GetLauncher();e.off(j._OPEN_NAMESPACE),e.off(j._CLOSE_NAMESPACE),e[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0),v.isTouchSupported()&&(e.ojHammer().off("press"),e.ojHammer("destroy"),e.off("contextmenu",this._eatContextMenuOnOpenPopupListener),this._eatContextMenuOnOpenPopupListener=null,this._inPressEvent=null),this._openPopupCallback=null,this._closePopupCallback=null},j.prototype._registerLauncherEvents=function(){var e,t,i,n,r,a,s,o,l=this.GetLauncher();(n=(i=j._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?i.events:j._DEFAULTS_BY_COMPONENT.default.events).open&&((s=this._openPopupCallback)||(s=this._openPopup.bind(this),this._openPopupCallback=s),o=n.open.indexOf("press"),a=this._getNamespacedEvents(n.open.replace("press",""),j._OPEN_NAMESPACE),l.on(a,s),v.isTouchSupported()&&-1!==o&&(this._eatContextMenuOnOpenPopupListener=function(){return!1},l.on("contextmenu",this._eatContextMenuOnOpenPopupListener),r={recognizers:[[f.Press,{time:750}]]},l.ojHammer(r).on("press",s))),n.close&&((t=this._closePopupCallback)||(t=this._closePopup.bind(this),this._closePopupCallback=t),e=this._getNamespacedEvents(n.close,j._CLOSE_NAMESPACE),l.on(e,t))},j.prototype._getNamespacedEvents=function(e,t){var i,n,r;if(""===e||""===t)return e;r=(i=e.split(" ")).length,n=[];for(var a=0;a<r;a++)i[a]&&n.push(i[a]+t);return n.join(" ")},j.prototype._getPopupPosition=function(){var e,t,i;return(e=(t=j._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?t.position:j._DEFAULTS_BY_COMPONENT.default.position)&&("launcher"===e?i=this.GetLauncher():"launcher-wrapper"===e&&(i=this.GetLauncher().parent())),i||(i=this.GetComponent().widget()),{my:"start bottom",at:"end top",collision:"flipcenter",of:i}},j.prototype._getPopupElement=function(){var e,t;if(this.$messagingContentRoot)return this.$messagingContentRoot;if(e=I.getNextFreePopup(),t=this._getPopupPosition(),e.ojPopup("option","position",t),e.ojPopup("option","beforeClose",this._popupBeforeCloseCallback.bind(this)),e.ojPopup("option","close",this._popupCloseCallback.bind(this)),e.ojPopup("option","open",this._popupOpenCallback.bind(this)),this.GetComponent()._IsCustomElement()){var i=(a.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).animation;i.actionPrefix="notewindow",e.ojPopup("option","animation",i),this._addAnimateEventListeners(e)}else e.ojPopup("option","animation",null);return this.$messagingContentRoot=e,this.$messagingContentRoot},j.prototype._popupOpenCallback=function(e){var t=n(e.target),r=this;window.setTimeout(function(){i.isComponentInitialized(t,"ojPopup")?t.ojPopup("option","autoDismiss","focusLoss"):delete r.$messagingContentRoot},10)},j.prototype._popupBeforeCloseCallback=j.prototype._popupCloseCallback=function(e){var t=this.GetLauncher(),r=n(e.target);this._removeAnimateEventListeners(r),i.isComponentInitialized(r,"ojPopup")&&(r.ojPopup("option","autoDismiss","none"),r.ojPopup("option","open",null),r.ojPopup("option","close",null),r.ojPopup("option","beforeClose",null)),t&&t[0]&&(t[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),t[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0)),this.$messagingContentRoot=null,this._inPressEvent=null,I.getPopupContentNode(r).innerHTML="",this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},j.prototype._destroyTooltip=j.prototype._buildPopupHtml=function(){var e=!1,t=this.GetComponent().document[0],i=[],n="";return this.ShowMessages()&&i.push(this._buildMessagesHtml(t)),(this.ShowConverterHint()||this.ShowValidatorHint()||this.ShowTitle())&&i.push(this._buildHintsHtml(t)),i.forEach(function(i){i&&(e?n=n.concat(w.getSeparatorHtml(t)):e=!0,n=n.concat(i))}),n},j.prototype._buildMessagesHtml=function(e){var t,i="",n=this.GetMaxSeverity();return this.HasMessages()&&(t=this.GetMessages(),i=w.buildMessagesHtml(e,t,n,!1)),i},j.prototype._buildHintsHtml=function(e){var t,i,n=[],r="";if(this.ShowConverterHint()&&(t=(n=this.GetConverterHint()).length?n[0]:"",r+=w.buildHintHtml(e,j._SELECTOR_FORMCONTROL_HINT_CONVERTER,t,!1,j._SELECTOR_FORMCONTROL_HINT)),this.ShowValidatorHint())for(n=this.GetValidatorHints(),i=0;i<n.length;i++)r+=w.buildHintHtml(e,j._SELECTOR_FORMCONTROL_HINT_VALIDATOR,n[i],!1,j._SELECTOR_FORMCONTROL_HINT);return this.ShowTitle()&&(r+=w.buildHintHtml(e,j._SELECTOR_FORMCONTROL_HINT_TITLE,this.GetTitle(),!0,j._SELECTOR_FORMCONTROL_HINT)),r?"<div class='oj-form-control-hints'>"+r+"</div>":""},j.prototype._isPopupInitialized=function(){return!!this.$messagingContentRoot&&i.isComponentInitialized(this.$messagingContentRoot,"ojPopup")},w.buildHintHtml=function(e,t,i,n,r){var a;if(i){a=e.createElement("div");for(var s=r.split(" "),o=0,l=s.length;o<l;++o)a.classList.add(s[o]);a.classList.add(t),w._appendTextDom(a,w.GetTextDom(e,i,n))}return a?a.outerHTML:""},w.getSeverityTranslatedString=function(e){var t;switch(e){case c.SEVERITY_LEVEL.FATAL:t=d.getTranslatedString("oj-message.fatal");break;case c.SEVERITY_LEVEL.ERROR:t=d.getTranslatedString("oj-message.error");break;case c.SEVERITY_LEVEL.WARNING:t=d.getTranslatedString("oj-message.warning");break;case c.SEVERITY_LEVEL.INFO:t=d.getTranslatedString("oj-message.info");break;case c.SEVERITY_LEVEL.CONFIRMATION:t=d.getTranslatedString("oj-message.confirmation")}return t},w.getSeparatorHtml=function(e){var t;return(t=n(e.createElement("hr")))?t.get(0).outerHTML:""},w.buildMessagesHtml=function(e,t,i,n){var r,a,s,o,l,u,d,h,p="",_=[],f={};for(a=0;a<t.length;a++)l=(o=t[a])instanceof c?o:new c(o.summary,o.detail,o.severity),f[u=c.getSeverityLevel(l.severity)]||(f[u]=[]),f[u].push(l);for(a=i;a>=c.SEVERITY_LEVEL.CONFIRMATION;a--)for(_=f[a]||[],s=0;s<_.length;s++)o=_[s],u=c.getSeverityLevel(o.severity),d=w.getSeverityTranslatedString(u),h=o.summary||d,r=o.detail||"",p=p.concat(w.buildMessageHtml(e,h,r,u,n));return p},w.buildMessageHtml=function(e,t,i,n,r){var s,o,l,u,d,c=w.getSeverityTranslatedString(n);if((l=e.createElement("div")).classList.add(w._SELECTOR_MESSAGE),r)for(var h=w._getSeveritySelector(n).split(" "),p=0,_=h.length;p<_;++p)l.classList.add(h[p]);u=e.createElement("span");for(var f=w._getSeverityIconSelector(n).split(" "),m=0,v=f.length;m<v;++m)u.classList.add(f[m]);if(null==c?u.removeAttribute("title"):u.setAttribute("title",c),u.setAttribute("role","img"),l.appendChild(u),(s=e.createElement("span")).classList.add(w._SELECTOR_MESSAGE_CONTENT),"header"===(a.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).messageSummaryOptionDefault&&((d=e.createElement("div")).classList.add(w._SELECTOR_MESSAGE_SUMMARY),d.textContent=t,s.appendChild(d)),i){var g=w.GetTextDom(e,i,!0);(o=e.createElement("div")).classList.add(w._SELECTOR_MESSAGE_DETAIL),w._appendTextDom(o,g),s.appendChild(o)}return l.appendChild(s),l.outerHTML},w._getSeverityIconSelector=function(e){var t;switch(e){case c.SEVERITY_LEVEL.FATAL:case c.SEVERITY_LEVEL.ERROR:t=w._SELECTOR_MESSAGE_ERROR_ICON;break;case c.SEVERITY_LEVEL.WARNING:t=w._SELECTOR_MESSAGE_WARNING_ICON;break;case c.SEVERITY_LEVEL.INFO:t=w._SELECTOR_MESSAGE_INFO_ICON;break;case c.SEVERITY_LEVEL.CONFIRMATION:t=w._SELECTOR_MESSAGE_CONFIRMATION_ICON}return w._DEFAULT_STATUS_ICON_SELECTORS+t},w._getSeveritySelector=function(e){var t;switch(e){case c.SEVERITY_LEVEL.FATAL:case c.SEVERITY_LEVEL.ERROR:t=w._SELECTOR_MESSAGE_ERROR;break;case c.SEVERITY_LEVEL.WARNING:t=w._SELECTOR_MESSAGE_WARNING;break;case c.SEVERITY_LEVEL.INFO:t=w._SELECTOR_MESSAGE_INFO;break;case c.SEVERITY_LEVEL.CONFIRMATION:default:t=w._SELECTOR_MESSAGE_CONFIRMATION}return t},w.GetTextDom=function(e,i,n){var r=null;return t.StringUtils.isString(i)&&(n&&v.isHTMLContent(i)?r=v.cleanHtml(i.substring(6,i.length-7)):(r=e.createElement("span")).textContent=i),r},w._appendTextDom=function(e,i){t.StringUtils.isString(i)?e.innerHTML=i:e.appendChild(i)},w._DEFAULT_STATUS_ICON_SELECTORS="oj-component-icon oj-message-status-icon ",w._SELECTOR_MESSAGE="oj-message",w._SELECTOR_MESSAGE_SUMMARY="oj-message-summary",w._SELECTOR_MESSAGE_DETAIL="oj-message-detail",w._SELECTOR_MESSAGE_CONTENT="oj-message-content",w._SELECTOR_MESSAGE_ERROR_ICON="oj-message-error-icon",w._SELECTOR_MESSAGE_WARNING_ICON="oj-message-warning-icon",w._SELECTOR_MESSAGE_INFO_ICON="oj-message-info-icon",w._SELECTOR_MESSAGE_CONFIRMATION_ICON="oj-message-confirmation-icon",w._SELECTOR_MESSAGE_ERROR="oj-message-error",w._SELECTOR_MESSAGE_WARNING="oj-message-warning",w._SELECTOR_MESSAGE_INFO="oj-message-info",w._SELECTOR_MESSAGE_CONFIRMATION="oj-message-confirmation",I.getNextFreePopup=function(){var e,t=I._getPool(),i=t.find("."+I._SELECTOR_MESSAGING);if(0===i.length){(e=n(I._getPopupContentHtml()))[0].style.display="none",e.appendTo(t);e.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})}else e=n(i[0]);return e},I.getPopupContentNode=function(e){return e.find("."+I._SELECTOR_MESSAGING_CONTAINER)[0]},I.destroyFreePopup=function(){var e;if(I._getFreePoolCount()>0){var t=(e=I.getNextFreePopup())[0];e.ojPopup("destroy"),t.parentNode.removeChild(t)}},I._getPool=function(){var e=n("#"+I._MESSAGING_POPUP_POOL_ID);if(e.length>0)return e;var t=(e=n("<div>"))[0];return t.setAttribute("id",I._MESSAGING_POPUP_POOL_ID),t.setAttribute("role","presentation"),document.body.appendChild(t),e},I._getFreePoolCount=function(){return I._getPool().find("."+I._SELECTOR_MESSAGING).length},I._getPopupContentHtml=I._SELECTOR_MESSAGING_CONTAINER="oj-messaging-popup-container",I._SELECTOR_MESSAGING="oj-messaging-popup",I._MESSAGING_POPUP_POOL_ID="__oj_messaging_popup_pool";const T=function(e,t){this.Init(e),this._userAssistanceDivElement=t};t.Object.createSubclass(T,t.MessagingStrategy,"InlineHelpHintsStrategy"),T.prototype.activate=function(e){T.superclass.activate.call(this,e),this._createInlineHelpHints()},T.prototype.reactivate=function(e,t){T.superclass.reactivate.call(this,e),this._userAssistanceDivElement=t,this._isContainerRootDomInDocument()||this._createInlineHelpHints(),this._setFocusInContentCurrent(!1)},T.prototype.shouldUpdate=function(e){let t=!(!e||void 0===e.title),i=!(!e||void 0===e.validatorHint),n=!(!e||void 0===e.converterHint);return t||i||n},T.prototype.update=T.prototype.deactivate=function(){var e=this.GetComponent()._getRootElement(),t=this._getHelpHintsInlineContainer(e);t&&(this.RemoveAriaDescribedByForInlineMessaging(t),t.parentElement.removeChild(t)),this._focusinCallback&&this._deleteFocusEventHandlers(e),this._deleteHelpHintsAttributeEventHandlers(e),T.superclass.deactivate.call(this)},T.prototype._createInlineHelpHints=function(){var e=this.GetComponent();let t=e._ShowHelpHints();"always"===t&&this._addHelpHintsContent(e),"focus"===t&&this._createFocusEventHandlers(e),this._createHelpHintsAttributeEventHandlers(e)},T.prototype._createFocusEventHandlers=function(e){var t=e._getRootElement();this._focusinCallback=T._focusinHandler.bind(this,e),t.addEventListener("focusin",this._focusinCallback),this._focusoutCallback=T._focusoutHandler.bind(this),t.addEventListener("focusout",this._focusoutCallback)},T.prototype._deleteFocusEventHandlers=function(e){e.removeEventListener("focusin",this._focusinCallback),delete this._focusinCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback},T.prototype._createHelpHintsAttributeEventHandlers=function(e){var t=e._getRootElement();this._helpHintsChangedCallback=T._helpHintsChangedHandler.bind(this),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},T.prototype._deleteHelpHintsAttributeEventHandlers=function(e){e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback},T.prototype._getHelpHintsInlineContainer=T.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},T._helpHintsChangedHandler=T.prototype._addHelpHintsContent=function(e){let t,i=e.options.help,r=i?i.instruction:null,a=e.options.helpHints;if(r){let e=w.GetTextDom(document,r,!0);t=e?e.outerHTML:""}if(!t&&this.ShowValidatorHint()){let e=this.GetValidatorHints();e.length>0&&(t=e.join("<br/>"))}if(!t){let e=a?a.definition:null;e&&(t=e)}if(!t&&this.ShowConverterHint()){let e=this.GetConverterHint();e.length>0&&(t=e.join("<br/>"))}let s,o=a?a.source:null;if(o&&(s=this._getHelpSourceDom(o)),(t||s)&&!this.containerRoot){if(this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-helphints-inline-container"),n(this.containerRoot).uniqueId(),this.AddAriaDescribedByForInlineMessaging(this.containerRoot),"inline"===e._ShowHelpHintsLocation())this._userAssistanceDivElement.appendChild(this.containerRoot);else{let t=e._GetFormControlContainer();t.parentElement.insertBefore(this.containerRoot,t)}}return this.containerRoot&&(t&&(t="<div>"+t+"</div>",this.containerRoot.innerHTML=t),s&&this.containerRoot.appendChild(s),t||s||(this.containerRoot.innerHTML="")),this._userAssistanceDivElement&&(t||s?this._userAssistanceDivElement.classList.add("oj-has-helphints"):this._userAssistanceDivElement.classList.remove("oj-has-helphints")),t||s},T.prototype._getHelpSourceDom=function(e){t.Assert.assertString(e);let i=document.createElement("div"),n=document.createElement("a");n.classList.add("oj-helphints-anchor"),n.setAttribute("tabindex","0"),n.setAttribute("target","_blank");try{v.validateURL(e),n.setAttribute("href",e)}catch(t){throw new Error(t+". The source option ("+e+") is invalid.")}let r=d.getTranslatedString("oj-ojEditableValue.helpSourceText");return n.textContent=r,i.appendChild(n),v.makeFocusable({element:n,applyHighlight:!0,component:this.GetComponent()}),i},T.prototype._updateInlineHelpHints=function(e=!1){const t=this.GetComponent();this.containerRoot&&(this.containerRoot.innerHTML=""),"always"===t._ShowHelpHints()||e?this._addHelpHintsContent(t):this._setFocusInContentCurrent(!1)},T.prototype._isFocusInContentCurrent=function(){return this._focusInContentCurrent},T.prototype._setFocusInContentCurrent=function(e){this._focusInContentCurrent=e},T._focusinHandler=function(e,t){let i=t.currentTarget,n=t.relatedTarget;if(!n||!i.contains(n))if(this._focusIn=!0,this._userAssistanceDivElement.classList.add("oj-focus"),this.containerRoot&&this._isFocusInContentCurrent())this._animateOpen();else{let t=this._addHelpHintsContent(e);this._setFocusInContentCurrent(!0),t&&this._animateOpen()}},T._focusoutHandler=function(e){let t=e.currentTarget,i=e.relatedTarget;if(!i||!t.contains(i)){this._focusIn=!1;var n=bind(this);if(this.containerRoot&&this.containerRoot.hasChildNodes()){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;g.startAnimation(this.containerRoot,"inline-hints-"+e,t,this.GetComponent()).then(}else n()}},T.prototype._getDefaultAnimation=function(){return T._defaultAnimation||(T._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),T._defaultAnimation},T.prototype._animateOpen=function(){if(this.containerRoot&&this.containerRoot.hasChildNodes()){let e=this._getDefaultAnimation().open,t="open";g.startAnimation(this.containerRoot,"inline-hints-"+t,e,this.GetComponent())}},T.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=s.getContext(e).getBusyContext(),i="The page is waiting for inline help hints ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},T.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};const R=function(e,t){this.Init(e),this._parentElement=t};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.INLINE,R),t.Object.createSubclass(R,t.MessagingStrategy,"oj.InlineMessagingStrategy"),R.prototype.activate=function(e){R.superclass.activate.call(this,e)},R.prototype.reactivate=function(e,t){R.superclass.reactivate.call(this,e),this._parentElement=t,this._updateInlineMessage()},R.prototype.shouldUpdate=R.prototype.update=function(){R.superclass.update.call(this),this._updateInlineMessage()},R.prototype.deactivate=function(){this._removeMessagingContentRootDom(),R.superclass.deactivate.call(this)},R.prototype._getDefaultAnimation=function(){if(!R._defaultAnimation){var e=(a.parseJSONFromFontFamily("oj-messaging-inline-option-defaults")||{}).animation;R._defaultAnimation=e=e||{}}return R._defaultAnimation},R.prototype._replaceAnimationOptions=function(e,i){var n,r;t.StringUtils.isString(e)?(r=!0,n=e+""):(r=!1,n=JSON.stringify(e));for(var a=Object.keys(i),s=0;s<a.length;s++){var o=a[s];n=n.replace(new RegExp(o,"g"),i[o])}return r?n:JSON.parse(n)},R.prototype._determineAnimation=function(e,t){var i,n,r,a=this._getDefaultAnimation();if(a){var s,o=e[0],l=o.innerHTML,u=o.offsetHeight;o.innerHTML=t,s=o.offsetHeight,o.innerHTML=l,"noanimation"!==(i=s>u?"open":s<u?"close":"noanimation")&&(n=a[i])&&(r=this._replaceAnimationOptions(n,{"#oldHeight":u+"px","#newHeight":s+"px"}))}return{action:i,effect:r}},R.prototype._setBusyState=function(){if(!this._resolveBusyState){var e=this.GetComponent(),t=e?e.element:null,i=t?t[0]:null,n=s.getContext(i).getBusyContext(),r="The page is waiting for inline message ";i&&i.id&&(r+='for "'+i.id+'" '),r+="to open/close",this._resolveBusyState=n.addBusyState({description:r})}},R.prototype._clearBusyState=R.prototype._queueAction=function(e){var t=this,i=this.$messagingContentRoot;if(t._inInlineMessagingAnimation)this._currentContentToShow=e;else{this._currentContentToShow=null,this._setBusyState(),""!==e&&this._addRemoveOjHasMessagesClass(e),this._timeoutId&&clearTimeout(this._timeoutId);var n=this.GetComponent();if(n&&n._NotifyMessagingStrategyQueueAction){var r;if(!this._notifyQueueActionPromise)this._notifyQueueActionPromise=new Promise(function(e){r=e}),this._notifyQueueActionPromiseResolve=function(){this._notifyQueueActionPromise=null,this._notifyQueueActionPromiseResolve=null,r()}.bind(this);n._NotifyMessagingStrategyQueueAction(this._notifyQueueActionPromise)}this._timeoutId=setTimeout(function(){if(t._timeoutId=null,i&&i[0]){var n=t._determineAnimation(i,e),r=n.action,a=n.effect;"noanimation"===r?(i[0].innerHTML=e,t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()):("close"===r?i[0].setAttribute("aria-live","off"):i[0].setAttribute("aria-live","polite"),"open"===r&&(i[0].innerHTML=e),t._inInlineMessagingAnimation=!0,g.startAnimation(i[0],"inline-"+r,a,t.GetComponent()).then(function(){var n;t._inInlineMessagingAnimation=!1,"close"===r&&(i[0].setAttribute("aria-live","polite"),i[0].innerHTML=e),null!==t._currentContentToShow?(n=t._currentContentToShow,t._currentContentToShow=null,t._queueAction(n)):(""===e&&t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve())}))}else t._addRemoveOjHasMessagesClass(""),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()},0)}},R.prototype._addRemoveOjHasMessagesClass=R.prototype._updateInlineMessage=function(){var e;e=this._buildInlineHtml();var t=this._isMessagingContentRootDomInDocument();e&&!t&&this._createInlineMessage(),this.$messagingContentRoot&&this.$messagingContentRoot[0]&&(this.GetComponent()._IsCustomElement()?this._queueAction(e):this.$messagingContentRoot[0].innerHTML=e)},R.prototype._createInlineMessage=function(){this.$messagingContentRoot=n(this._getInlineContentHtml()),this.AddAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]),this._addAriaLive(this.$messagingContentRoot),this._parentElement?this._parentElement.appendChild(this.$messagingContentRoot[0]):this.GetComponent().widget()[0].appendChild(this.$messagingContentRoot[0])},R.prototype._getInlineContentHtml=function(){return"<div class='oj-messaging-inline-container'></div>"},R.prototype._removeMessagingContentRootDom=function(){if(this._isMessagingContentRootDomInDocument()){this.RemoveAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]);let e=this.$messagingContentRoot[0].parentNode;e&&e.removeChild(this.$messagingContentRoot[0])}this.$messagingContentRoot=null},R.prototype._addAriaLive=function(e){t.Assert.assertPrototype(e,n),e[0].setAttribute("aria-live","polite")},R.prototype._buildInlineHtml=function(){var e;return this.ShowMessages()?(e=this.GetComponent().document[0],this._buildMessagesHtml(e)):""},R.prototype._buildMessagesHtml=function(e){var t,i,n="";return this.HasMessages()&&(i=this.GetMessages(),t=this.GetMaxSeverity(),n=w.buildMessagesHtml(e,i,t,!0)),n},R.prototype._isMessagingContentRootDomInDocument=function(){var e=!1;if(!this.$messagingContentRoot)return!1;{let t=this.$messagingContentRoot[0].id;e=document.getElementById(t)}return null!==e};const L=t.Object.createSubclass(L,t.MessagingStrategy,"InlineRequiredStrategy"),L.prototype.activate=function(e){L.superclass.activate.call(this,e),null==this.containerRoot&&this._createInlineRequired()},L.prototype.reactivate=function(e,t){L.superclass.reactivate.call(this,e),this._parentElement=t,this._isContainerRootDomInDocument()||this._createInlineRequired()},L.prototype.shouldUpdate=L.prototype.update=function(){L.superclass.update.call(this)},L.prototype.deactivate=function(){var e=this._getRequiredInlineContainer();e&&this._parentElement.removeChild(e),this.GetComponent()._getRootElement().removeEventListener("requiredChanged",this._requiredChangedCallback),delete this._requiredChangedCallback,this._parentElement=null,this.containerRoot=null,L.superclass.deactivate.call(this)},L.prototype._createInlineRequired=function(){var e=this.GetComponent();const t=e.options,i=e._getRootElement();if(t.required){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-required-inline-container");let t=d.getTranslatedString("oj-ojEditableValue.requiredText");this.containerRoot.textContent=t,n(this.containerRoot).uniqueId(),this._parentElement.appendChild(this.containerRoot),e._AriaRequiredUnsupported()&&this.AddDescribedByToElement(i,this.containerRoot.id)}this._requiredChangedCallback||(this._requiredChangedCallback=this._requiredChangedHandler.bind(this,e),i.addEventListener("requiredChanged",this._requiredChangedCallback))},L.prototype._getRequiredInlineContainer=L.prototype._requiredChangedHandler=function(e,t){let i=t.detail.value,n=this._getRequiredInlineContainer();i&&null===n?this._createInlineRequired():i||null===n||n&&this._parentElement.removeChild(n)},L.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e};var P=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,P),t.Object.createSubclass(P,t.MessagingStrategy,"InlineUserAssistanceStrategy"),P.prototype.activate=function(e){P.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent(),i=t.options,n=t._getRootElement();this._readonlyChangedCallback=this._readonlyChangedHandler.bind(this,t),n.addEventListener("readonlyChanged",this._readonlyChangedCallback),this._disabledChangedCallback=this._disabledChangedHandler.bind(this,t),n.addEventListener("disabledChanged",this._disabledChangedCallback),this._userAssistanceDensityChangedCallback=this._userAssistanceDensityChangedHandler.bind(this,t),n.addEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),null==this.containerRoot&&this._createInlineContainer(),this._isDisabledOrReadonly()||this._activateContainerStrategies(e,i)},P.prototype.reactivate=function(e){P.superclass.reactivate.call(this,e);const t=this.GetComponent().options;this._isDisabledOrReadonly(t)||(this._isContainerRootDomInDocument()||this._createInlineContainer(),this._inlineMessagingStrategy?(this._inlineMessagingStrategy.reactivate(e,this.containerRoot),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.reactivate(e,this.containerRoot),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.reactivate(e,this.containerRoot)):this._activateContainerStrategies(this._componentMessaging,t))},P.prototype.shouldUpdate=function(e){return!this._isDisabledOrReadonly()&&(this._shouldUpdateContent=e,!0)},P.prototype.update=function(){P.superclass.update.call(this),this._inlineMessagingStrategy&&(this._isDisabledOrReadonly()||(this._inlineMessagingStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineMessagingStrategy.update(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineRequiredStrategy.update(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineHelpHintsStrategy.update()))},P.prototype.deactivate=function(){this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),this._removeContainerRootDom(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy;const e=this.GetComponent()._getRootElement();e.removeEventListener("readonlyChanged",this._readonlyChangedCallback),delete this._readonlyChangedCallback,e.removeEventListener("disabledChanged",this._disabledChangedCallback),delete this._disabledChangedCallback,e.removeEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),delete this._userAssistanceDensityChangedCallback,P.superclass.deactivate.call(this)},P.prototype._createInlineContainer=function(){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-user-assistance-inline-container");const e=this.GetComponent(),t=e.options.userAssistanceDensity;"efficient"===t?this.containerRoot.classList.add("oj-efficient"):"reflow"===t&&this.containerRoot.classList.add("oj-reflow"),n(this.containerRoot).uniqueId(),e.widget()[0].appendChild(this.containerRoot)},P.prototype._removeContainerRootDom=function(){if(this._isContainerRootDomInDocument()){let e=this.containerRoot.parentNode;e&&e.removeChild(this.containerRoot)}this.containerRoot=null},P.prototype._isContainerRootDomInDocument=function(){var e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},P.prototype._activateContainerStrategies=function(e,t){void 0===this._inlineMessagingStrategy&&(this._inlineMessagingStrategy=new R(this._displayOptions,this.containerRoot),this._inlineMessagingStrategy.activate(e)),void 0!==t.required&&void 0===this._inlineRequiredStrategy&&(this._inlineRequiredStrategy=new L(this._displayOptions,this.containerRoot),this._inlineRequiredStrategy.activate(e)),void 0===this._inlineHelpHintsStrategy&&(this._inlineHelpHintsStrategy=new T(this._displayOptions,this.containerRoot),this._inlineHelpHintsStrategy.activate(e))},P.prototype._userAssistanceDensityChangedHandler=function(e,t){let i=t.detail.value;"efficient"===i?(this.containerRoot.classList.add("oj-efficient"),this.containerRoot.classList.remove("oj-reflow")):"reflow"===i?(this.containerRoot.classList.add("oj-reflow"),this.containerRoot.classList.remove("oj-efficient")):(this.containerRoot.classList.remove("oj-efficient"),this.containerRoot.classList.remove("oj-reflow"))},P.prototype._readonlyChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},P.prototype._disabledChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},P.prototype._deactivateContainerStrategies=function(){this._inlineMessagingStrategy&&this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy},P.prototype._isDisabledOrReadonly=function(e=this.GetComponent().options){var t=e.disabled||!1,i=e.readOnly||!1;return t||i};const D=function(e){this.Init(e)};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,D),t.Object.createSubclass(D,y,"InsideFormControlLabelStrategy"),D.prototype.activate=function(e){D.superclass.activate.call(this,e),this._CreateLabel()},D.prototype.reactivate=function(e){D.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel()},D.prototype.shouldUpdate=function(){return!1},D.prototype.update=D.prototype.deactivate=function(){this._DestroyLabel(),D.superclass.deactivate.call(this)},D.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},D.prototype._InsertOjLabel=function(e,t,i){let n=i._getRootElement();n.insertBefore(e,n.firstElementChild)},D.prototype._CreateEventHandlers=D._labelHintChangedHandler=const x=function(e){this.Init(e)};t.Object.createSubclass(x,t.MessagingStrategy,"oj.InsideLabelPlaceholderStrategy"),x.prototype.activate=x.prototype.reactivate=x.prototype.deactivate=x.prototype.shouldUpdate=function(e){return e&&void 0!==e.converterHint||this.GetComponent().options.placeholder},x.prototype.update=x.prototype._destroyPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();this._blurCallback(),t.removeEventListener("focusout",this._blurCallback,!1),delete this._blurCallback,t.removeEventListener("focusin",this._focusCallback,!1),delete this._focusCallback,i.removeEventListener("placeholderChanged",this._placeholderChangedCallback,!1),delete this._placeholderChangedCallback,e._HasPlaceholderSet()&&(e._SetPlaceholder(e.options.placeholder),e._customPlaceholderSet=!0)},x.prototype._createPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();e._customPlaceholderSet=!0,this._blurCallback=x._blurHandler.bind(this,t),t.addEventListener("focusout",this._blurCallback,!1),this._focusCallback=x._focusHandler.bind(this),t.addEventListener("focusin",this._focusCallback,!1),this._placeholderChangedCallback=this._placeholderChanged.bind(this),i.addEventListener("placeholderChanged",this._placeholderChangedCallback,!1),this._placeholderChanged()},x.prototype._placeholderChanged=function(){var e,t=this.GetComponent()._GetContentElement()[0];e=b.containsFocus(t)?this._focusCallback:this._blurCallback,Promise.resolve(!0).then(function(){e()})},x.ShowConverterHintAsPlaceholder=function(e){var t=e.options.displayOptions;if(!t||"displayOptions"!==e._getResolvedUserAssistance())return!1;var i=t.converterHint;return i instanceof Array?"placeholder"===i[0]:"placeholder"===i},x._focusHandler=function(){var e,t=this.GetComponent();if(x.ShowConverterHintAsPlaceholder(t)){var i=this.GetConverterHint();e=i.length>0?i[0]:null}e||(e=t.options.placeholder),t._SetPlaceholder(e)},x._blurHandler=function(e){if(e.hasAttribute("aria-haspopup")){var t=e.getAttribute("aria-owns"),i=document.getElementById(t);if(b.containsFocus(i))return}var n,r=this.GetComponent();if(x.ShowConverterHintAsPlaceholder(r)){var a=this.GetConverterHint();n=a.length>0?a[0]:null}n||(n=r.options.placeholder),null==n?r._SetPlaceholder(null):r._SetPlaceholder("")};const N=t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE,N),t.Object.createSubclass(N,y,"oj.InsideLabelStrategy"),N.prototype.activate=function(e){N.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent()._getRootElement();this._placeholderChangedCallback=this._placeholderChangedHandler.bind(this),t.addEventListener("placeholderChanged",this._placeholderChangedCallback),this._activatePlaceholderStrategyIfNeeded(e),this._CreateLabel()},N.prototype.reactivate=function(e){N.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel(),this._placeholderStrategy?this._placeholderStrategy.reactivate(e):this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},N.prototype.shouldUpdate=N.prototype.update=function(){this._placeholderStrategy&&this._placeholderStrategy.update()},N.prototype.deactivate=function(){this._placeholderStrategy&&(this._placeholderStrategy.deactivate(),delete this._placeholderStrategy);this.GetComponent()._getRootElement().removeEventListener("placeholderChanged",this._placeholderChangedCallback),delete this._placeholderChangedCallback,this._DestroyLabel(),N.superclass.deactivate.call(this)},N.prototype._activatePlaceholderStrategyIfNeeded=function(e){if(void 0===this._placeholderStrategy){let t=()=>{let t=x;this._placeholderStrategy=new t(this._displayOptions),this._placeholderStrategy.activate(e)};const i=this.GetComponent();(i.options.placeholder||"displayOptions"===i._getResolvedUserAssistance()&&x.ShowConverterHintAsPlaceholder(i))&&t()}},N.prototype._placeholderChangedHandler=N.prototype._GetContainer=function(e){let t=e._GetFormControlContainer();if(!t)return null;let i="_GetContentWrapper";return e[i]&&(t=e[i]()),t},N.prototype._GetFormControlLabelStyleClass=function(){return[N._BASE_STYLE_CLASS,"label","inside".toLowerCase()].join("-")},N.prototype._InsertOjLabel=N._BASE_STYLE_CLASS="oj-text-field",e.EditableValueUtils=E,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverter",["ojs/ojcore-base","jquery"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const i=function(e){this.Init(e)};return e.Object.createSubclass(i,e.Object,"oj.Converter"),i.prototype.Init=function(e){i.superclass.Init.call(this),this._options=e},i.prototype.getOptions=i.prototype.resolvedOptions=i}),define("ojs/ojvalidator-async",[],function(){}),define("ojs/ojconverterutils-i18n",["exports","ojs/ojcore-base","ojs/ojtranslation","jquery","ojs/ojconverterutils","ojs/ojvalidation-error","ojs/ojlogger"],function(e,t,i,n,r,a,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const o={numeringSystems:{latn:"0123456789",arab:"",thai:""},regexTrim:/^\s+|\s+$|\u200f|\u200e/g,regexTrimNumber:/\s+|\u200f|\u200e/g,regexTrimRightZeros:/0+$/g,zeros:["0","00","000"],_ISO_DATE_REGEXP:/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,getLocalTimeZoneOffset:function(){var e=(new Date).getTimezoneOffset();return o.getTimeStringFromOffset("Etc/GMT",e,!1,!1)},dateToLocalIso:function(e){var t=e;"number"==typeof t&&(t=new Date(t));var i=o.padZeros(t.getFullYear(),4)+"-"+o.padZeros(t.getMonth()+1,2)+"-"+o.padZeros(t.getDate(),2)+"T"+o.padZeros(t.getHours(),2)+":"+o.padZeros(t.getMinutes(),2)+":"+o.padZeros(t.getSeconds(),2);return t.getMilliseconds()>0&&(i+="."+o.trimRightZeros(o.padZeros(t.getMilliseconds(),3))),i},partsToIsoString:function(e){var t=o.padZeros(e[0],4)+"-"+o.padZeros(e[1],2)+"-"+o.padZeros(e[2],2)+"T"+o.padZeros(e[3],2)+":"+o.padZeros(e[4],2)+":"+o.padZeros(e[5],2);return e[6]>0&&(t+="."+o.trimRightZeros(o.padZeros(e[6],3))),t},isoToLocalDate:function(e){return e&&"string"==typeof e?this._isoToLocalDateIgnoreTimezone(e):null},_isoToLocalDateIgnoreTimezone:function(e){var t=o._IsoStrParts(e),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6]);return i.setFullYear(t[0]),i},_IsoStrParts:function(e){!1===o._ISO_DATE_REGEXP.test(e)&&o._throwInvalidISOStringSyntax(e);var t,i=e.split("T"),n=e.indexOf("T"),r=new Date,a=!1,s=[r.getFullYear(),r.getMonth()+1,r.getDate(),0,0,0,0];if(""!==i[0]){o.startsWith(i[0],"-")&&(i[0]=i[0].substr(1),a=!0);var l=i[0].split("-");for(t=0;t<l.length;t++){var u=parseInt(l[t],10);if(1===t&&(u<1||u>12)&&o._throwInvalidISOStringRange(e,"month",u,1,12),2===t){var d=o._getDaysInMonth(s[0],s[1]-1);(u<1||u>d)&&o._throwInvalidISOStringRange(e,"day",u,1,d)}s[t]=u}a&&(s[0]=-s[0])}if(-1!==n){var c=i[1].split("."),h=c[0].split(":");for(t=0;t<h.length;t++){var p=parseInt(h[t],10);0===t&&(p<0||p>24)&&o._throwInvalidISOStringRange(e,"hour",p,0,24),1===t&&(p<0||p>59)&&o._throwInvalidISOStringRange(e,"minute",p,0,59),2===t&&(p<0||p>59)&&o._throwInvalidISOStringRange(e,"second",p,0,59),s[3+t]=p}2===c.length&&c[1]&&(s[6]=parseInt(o.zeroPad(c[1],3,!1),10))}return s},getISOStrFormatInfo:function(e){var t={format:null,dateTime:null,timeZone:"",isoStrParts:null},i=o._ISO_DATE_REGEXP.exec(e);if(null===i&&o._throwInvalidISOStringSyntax(e),void 0===i[1]&&void 0===i[2])return t.format="local",t.dateTime=e,t.isoStrParts=o._IsoStrParts(t.dateTime),t;t.timeZone=void 0!==i[1]?i[1]:i[2],"Z"===t.timeZone?t.format="zulu":t.format="offset";var n=e.length,r=t.timeZone.length;return t.dateTime=e.substring(0,n-r),t.isoStrParts=o._IsoStrParts(t.dateTime),t},getISOStrFormatType:function(e){let t;const i=o._ISO_DATE_REGEXP.exec(e);if(null===i&&o._throwInvalidISOStringSyntax(e),void 0===i[1]&&void 0===i[2])return t="local",t;return t="Z"===(void 0!==i[1]?i[1]:i[2])?"zulu":"offset",t},_isLeapYear:function(e){return e%400==0||e%100!=0&&e%4==0},_getDaysInMonth:function(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return o._isLeapYear(e)?29:28;default:return 30}},_throwInvalidISOStringRange:function(e,t,i,n,r){var a=new RangeError("The string "+e+" is not a valid ISO 8601 string: "+i+" is out of range.  Enter a value between "+n+" and "+r+" for "+t),s={errorCode:"isoStringOutOfRange",parameterMap:{isoString:e,value:i,minValue:n,maxValue:r,propertyName:t}};throw a.errorInfo=s,a},_throwInvalidISOStringSyntax:function(e){var t=new Error("The string "+e+" is not a valid ISO 8601 string syntax."),i={errorCode:"invalidISOString",parameterMap:{isoStr:e}};throw t.errorInfo=i,t},trim:function(e){return(e+"").replace(o.regexTrim,"")},trimRightZeros:function(e){return(e+"").replace(o.regexTrimRightZeros,"")},trimNumber:function(e){return(e+"").replace(o.ree,t){ret"").join(" ").toUpperCase()},padZeros:function(e,t){var i=e+"",n=!1;return e<0&&(i=i.substr(1),n=!0),t>1&&i.length<t&&(i=(i=o.zeros[t-2]+i).substr(i.length-t,t)),n&&(i="-"+i),i},zeroPad:function(e,t,i){for(var n=""+e,r=n.length;r<t;r+=1)n=i?"0"+n:n+"0";return n},getTimeStringFromOffset:function(e,t,i,n){var r=i?t>=0:t<0,a=Math.abs(t),s=Math.floor(a/60),l=a%60,u=r?"-":"+";n&&(s=o.zeroPad(s,2,!0));var d=e+u+s;return(l>0||n)&&(d+=":"+o.zeroPad(l,2,!0)),d},getNumberingSystemKey:function(e,t){if(void 0===t)return"latn";var i=o.getNumberingExtension(t),n="symbols-numberSystem-"+i;return void 0===e.numbers[ion(e){return e.split("-")[0]},getBCP47Region:function(e){var t=e.split("-");return 3===t.length?t[2]:2===t.length&&2===t[1].length?t[1]:"001"},getNumberingExtension:function(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4{return Object.keys(e).length},getLocaleElementsMainNode:function(e){var t=e.main;return t[Object.keys(t)[0]]},getLocaleElementsMainNodeKey:function(e){var t=e.main;return Object.keys(t)[0]},_toBoolean:function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e},getGetOption:function(e,t){if(void 0===e)throw new Error("Internal "+t+" error. Default options missing.");return function(i,n,r,a){if(void 0!==e[i]){var s=e[i];switch(n){case"boolean":s=o._toBoolean(s);break;case"string":s=String(s);break;case"number":s=Number(s);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==r&&-1===r.indexOf(s)){for(var l=[],u=0;u<r.length;u++)l.push(r[u]);var d="The value '"+e[i]+"' is out of range for '"+t+"' options property '"+i+"'. Valid values: "+l,c=new RangeError(d),h={errorCode:"optionOutOfRange",parameterMap:{propertyName:i,propertyValue:e[i],propertyValueValid:l,caller:t}};throw c.errorInfo=h,c}return s}return a}},matchString:function(e,t,i,n){void 0===n&&(n={sensitivity:"base",usage:"sort"});var r=o.getGetOption(n,"OraI18nUtils.matchString");n.usage=r("usage","string",["sort","search"],"sort"),n.sensitivity=r("sensitivity","string",["base","accent","case","variant"],"base");for(var a=e.length,s=t.length-1,l=0;l<a;l++)for(var u=0;u<3;u++){var d=a-l;if(d=Math.min(d,s+u),0===e.substr(l,d).localeCompare(t,i,n))return[l,l+(d-1)]}return null}};var l={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3}(this._normalizeIsoString(e))},o._copyTimeOver=function(e,t){if(!e||!t)throw new Error("Provided invalid arguments");var i=this._normalizeIsoString(t),n=e.indexOf("T"),r=i.indexOf("T");return i.substring(0,r)+(-1!==n?e.substring(n):"T00:00:00.000")},o._clearTime=function(e){return this._dateTime(e,{hours:0,minutes:0,seconds:0,milliseconds:0})},o._dateTime=function(e,t,i){if(!e||!t)throw new Error("Invalid argument invocation");var r,a,s=null,o=l,u=this.padZeros,d=this._normalizeIsoString(e),c=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(d);if(!c)throw new Error("Unable to capture anything");if(c=c.slice(1),Array.isArray(t)){s={};for(var h=0,p=t.length;h<p;h++){var _=t[h];if(_ in o){if(a=c[r=o[_].pos],i&&"timeZone"===_)throw new Error("Dude you tried to ask timezone to be parsed");if(i){var f=parseInt(a,10);s[_]=1===r?f-1:f}else s[_]=a}}}else if(n.isPlainObject(t)){for(var m=Object.keys(t),v=0;v<m.length;v++){var g=m[v],b=o[g];r=b.pos,a=t[g],1===r&&"number"==typeof a&&(a+=1),c[r]=b.pad?u(a,b.pad):a}s=c[0]+"-"+c[1]+"-"+c[2]+"T"+c[3]+":"+c[4]+":"+c[5]+(c.length>6&&c[6]?"."+c[6]+(8===c.length&&c[7]?c[7]:""):"")}return s},o._normalizeIsoString=function(e){if(!e)throw new Error("Provided invalid arguments");var t,i=(new Date).toISOString(),n=i.substring(0,i.indexOf("T")),r=e.indexOf("T"),a=-1===r?e:e.substring(0,r);return(a=a||n)+(-1!==r?(t=e.substring(r)).split(":").length>1?t:t+":00":"T00:00:00.000")},o.formatString=function(e,t){for(var i=t.length,n=e,r=0;r<i;r++){var a="{"+r+"}";n=n.replace(a,t[r])}return n},o.getInitials=function(e,t){var i,n=0,r=0;if(void 0!==e&&e.length>0&&(n=e.charCodeAt(0)),n>=1536&&n<=1791)return"";if(n>=2304&&n<=2431)return e.charAt(0);if(n>=3584&&n<=3711)return e.charAt(0);if(n>=4352&&n<=4607||n>=12592&&n<=12687||n>=43360&&n<=43391||n>=44032&&n<=55295)return e;if(void 0!==t&&t.length>0&&(n=t.charCodeAt(0)),n>=11904&&n<=12255||n>=12288&&n<=12591||n>=12688&&n<=12799||n>=13056&&n<=19903||n>=19968&&n<=40959||n>=63744&&n<=64255)return t;if(n>=55296&&n<=56319){if(t.length<2)return"";if((r=t.charCodeAt(1))<56320||r>57343)return"";if((i=1024*(n-55296)+(r-56320)+65536)>=110592&&i<=110847||i>=127488&&i<=127743||i>=131072&&i<=173791||i>=173824&&i<=177983||i>=177984&&i<=178207||i>=178208&&i<=183983||i>=194560&&i<=195103)return t}return n="",r="",void 0!==e&&e.length>0&&(n=e.charAt(0).toUpperCase()),void 0!==t&&t.length>0&&(r=t.charAt(0).toUpperCase()),n+r};const u={isoToDate:function(e){return o.isoToDate(e)},isoToLocalDate:function(e){return o.isoToLocalDate(e)},dateToLocalIso:function(e){return o.dateToLocalrn o.getLocalTimeZoneOffset()},getConverterInstance:function(e){return r.getConverterInstance(e)},_minMaxIsoString:function(e,t){if(e){var i=(t=t||this.dateToLocalIso(new Date)).indexOf("T");0===e.indexOf("T")&&i>0&&(e=t.substring(0,i)+e)}return e},_getISOStrFormatType:function(e){return o.getISOStrFormatType(e)},_verifyValueMinMax:function(e,t,i){let n,r,a;if(e)try{n=u._getISOStrFormatType(e)}catch(e){s.warn("value must be an iso string: "+e)}if(t)try{r=u._getISOStrFormatType(t)}catch(e){s.warn("min must be an iso string: "+e)}if(i)try{a=u._getISOStrFormatType(i)}catch(e){s.warn("max must be an iso string: "+e)}e&&t&&i&&(n!==r||n!==a)&&s.warn(`min and max must be in the same iso string format as value.\n    value is in ${n} format.`),e&&t&&n!==r&&s.warn(`min must be in the same iso string format as value.\n    value is in ${n} format.`),e&&i&&n!==a&&s.warn(`max must be in the same iso string format as value.\n      value is in ${n} format.`),t&&i&&r!==a&&s.warn(`min and max must be in the same iso string format.\n      min is in ${r} format and max is in ${a} format.`)},__getConverterOptionError:function(e,n){t.Assert.assertObject(n);var r,s="",o="",l=n.propertyName;if("optionTypesMismatch"===e){var d=n.requiredPropertyName;r=n.requiredPropertyValueValid,s=i.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:l,propertyValue:n.propertyValue,requiredPropertyName:d}),o=u._getOptionValueDetailMessage(d,r)}else"optionTypeInvalid"===e?(l=n.propertyName,r=n.propertyValueValid,s=i.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:l}),o=u._getOptionValueDetailMessage(l,r)):"optionOutOfRange"===e?(s=i.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:l,propertyValue:n.propertyValue}),r=n.propertyValueValid,o=u._getOptionValueDetailMessage(l,r)):"optionValueInvalid"===e&&(s=i.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:l,propertyValue:n.propertyValue}),r=n.propertyValueHint,o=u._getOptionValueDetailMessage(l,r));return new a.ConverterError(s,o)},_getOptionValueDetailMessage:function(e,t){var n;return t?("string"==typeof t?n="oj-converter.optionHint.detail":(n="oj-converter.optionHint.detail-plural",t=t.join(i.getTranslatedString("oj-converter.plural-separator"))),i.getTranslatedString(n,{propertyName:e,propertyValueValid:t})):""},_copyTimeOver:function(e,t){return o._copyTimeOver(e,t)},_clearTime:function(e){ret,i){return o._dateTiturn o._norm,t){return o.getInitials(e,t)}};e.IntlConverterUtils=u,e.OraI18nUtils=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverter-number",["exports","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojlocaledata","ojs/ojconverter","ojs/ojtranslation","ojs/ojconfig","ojs/ojcore-base","ojs/ojvalidation-error"],function(e,t,i,n,r,a,s,o,l){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const u=function(){var e,n=/^[+-]?infinity$/i,r=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,a=/([^+-.0-9]*)([+-]?\d*\.?\d*(E[+-]?\d+)?).*$/,s=/([\^$.*+?|\[\](){}])/g,o=/(^0\.0*)([^0].*$)/,l=/^0+$/,u={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},d={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},c={HALF_UP:"ceil",CEILING:"ceil",UP:"ceil",HALF_DOWN:"floor",FLOOR:"floor",DOWN:"floor",DEFAULT:"round"};function h(e,t,i){var n;for(n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e}function p(e,t,i,n,r){var a=e[t];return void 0!==a?(a=Number(a),(isNaN(a)||a<i||a>n)&&function(e,t,i,n){var r=new RangeError(e+" is out of range.  Enter a value between "+t+" and "+i+" for "+n),a={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:t,maxValue:i,propertyName:n}};throw r.errorInfo=a,r}(a,i,n,t),Math.floor(a)):r}function _(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4)),n}function f(e,n,r,a){var s,o=n,l=i.OraI18nUtils.getLocaleElementsMainNode(e),u=function(e,t){if(void 0===t)return"latn";var i=_(t),n="symbols-numberSystem-"+i;return void 0===e.numbers[n]&&(i="latn"),i}(l,a);o.numberingSystemKey=u,o.numberingSystem="symbols-numberSystem-"+u;var d=r.lenientParse;if(o.lenientParse=d||"full",o.style=r.style,void 0!==r.pattern&&r.pattern.length>0)s=r.pattern;else{var c;switch(o.style){case"decimal":c="decimalFormats-numberSystem-";break;case"currency":c="currencyFormats-numberSystem-";break;case"percent":c="percentFormats-numberSystem-";break;default:c="decimalFormats-numberSystem-"}c+=o.numberingSystemKey,s=l.numbers[c].standard}var h=r.decimalFormat;void 0===h&&(h=r.currencyFormat),void 0===h||"decimal"!==o.style&&"currency"!==o.style||(o.shortDecimalFormat=l.numbers["decimalFormats-numberSystem-latn"][h].decimalFormat);var f=l.numbers[o.numberingSystem].decimal,v=l.numbers[o.numberingSystem].group,g=r.separators;if(void 0!==g){o.separators=g;var b=g.decimal,y=g.group;void 0!==b&&""!==b&&(f=g.decimal),void 0!==y&&(v=g.group)}var E=i.OraI18nUtils.getLocaleElementsMainNodeKey(e),C=E.split("-")[0];if(o.plurals=e.supplemental.plurals,o.lang=C,o.pat=s,o.minusSign=l.numbers[o.numberingSystem].minusSign,o.decimalSeparator=f,o.exponential=l.numbers[o.numberingSystem].exponential,o.groupingSeparator=v,o.currencyDisplay=r.currencyDisplay,void 0!==r.currency&&(o.currencyCode=r.currency.toUpperCase()),void 0!==r.unit&&(o.unit=r.unit.toLowerCase()),function(e,t,i,n){for(var r,a=n,s=!1,o=!1,l=0,u=0,d=!0,c=1;c>=0&&u<t.length;--c){var h=!1,p="",_="",f=-1,v=1,g=0,b=0,y=0,E=-1,C=-1,S=0;d=!0;for(var O=u;O<t.length;++O){var L=t.charAt(O);switch(S){case 0:case 2:if(h){if("'"===L){O+1<t.length&&"'"===t.charAt(O+1)?(O+=1,d?p=p.concat("''"):_=_.concat("''")):h=!1;continue}}else{if("#"===L||"0"===L||","===L||"."===L){S=1,O-=1;continue}if(""===L){void 0===e.currency&&m("style"),a.style="currency";var P=O+1<t.length&&""===t.charAt(O+1);P&&(O+=1),d?p=p.concat(P?"'":"'"):_=_.concat(P?"'":"'");continue}if("'"===L){if("'"===L){O+1<t.length&&"'"===t.charAt(O+1)?(O+=1,d?p=p.concat("''"):_=_.concat("''")):h=!0;continue}}else{if(";"===L){0!==S&&0!==c||T(t),u=O+1,O=t.length;continue}if("%"===L){a.style="percent",1!==v&&T(t),a.isPercent=!0,v=100,d?p=p.concat("'%"):_=_.concat("'%");continue}if(""===L){1!==v&&T(t),a.style="perMill",a.isPerMill=!0,v=1e3,d?p=p.concat("'"):_=_.concat("'");continue}if("-"===L){d?p=p.concat("'-"):_=_.concat("'-");continue}}}d?p=p.concat(L):_=_.concat(L);break;case 1:if(1!==c){0===(l-=1)&&(S=2,d=!1);continue}if(l+=1,"#"===L)b>0?y+=1:g+=1,E>=0&&f<0&&(E+=1);else if("0"===L)y>0&&T(t),b+=1,E>=0&&f<0&&(E+=1);else if(","===L)C=E,E=0;else{if("."!==L){if(M=O,V="E",F=void 0,void 0,F=t.substr(M,V.length),null!==new RegExp(V,"i").exec(F)){for(o&&T(t),o=!0,r=0,O+="E".length;O<t.length&&"0"===t.charAt(O);)r+=1,l+=1,O+=1;(g+b<1||r<1)&&T(t),S=2,d=!1,O-=1;continue}S=2,d=!1,O-=1,l-=1;continue}f>=0&&T(t),f=g+b+y}}}if(0===b&&g>0&&f>=0){var D=f;0===D&&(D+=1),y=g-D,g=D-1,b=1}if((f<0&&y>0||f>=0&&(f<g||f>g+b)||0===E||h)&&T(t),1===c){I=A=p,w=j=_;var x=g+b+y,N=f>=0?f:x;a.minimumIntegerDigits=N-g,a.maximumIntegerDigits=o?g+a.minimumIntegerDigits:2147483647,a.maximumFractionDigits=f>=0?x-f:0,a.minimumFractionDigits=f>=0?g+b-f:0,a.groupingSize=E>0?E:0,a.groupingSize0=C}else I=p,w=_,s=!0}var M,V,F;0===t.length&&(A="",j="",a.minimumIntegerDigits=0,a.maximumIntegerDigits=2147483647,a.minimumFractionDigits=0,a.maximumFractionDigits=2147483647);a.useExponentialNotation=o,a.minExponentDigits=r,(!s||0===I.localeCompare(A)&&0===w.localeCompare(j))&&("currency"===a.style&&"ar"===a.lang?(w=j+"'-",I=A):(w=j,I="'-"+A));!function(e,t){var i=t,n={};null!==A&&(i.positivePrefix=R(A,e,i,n));null!==j&&(i.positiveSuffix=R(j,e,i,n));null!==I&&(i.negativePrefix=R(I,e,i,n));null!==w&&(i.negativeSuffix=R(w,e,i,n));void 0!==n.name&&(i.positiveSuffix=""+n.name,i.positivePrefix="","ar"===i.lang?(i.negativeSuffix=e.numbers[i.numberingSystem].minusSign+""+n.name,i.negativePrefix=""):(i.negativeSuffix=""+n.name,i.negativePrefix=e.numbers[i.numberingSystem].minusSign))}(i,a)}(r,s,l,o),void 0===r.pattern&&(o.minimumIntegerDigits=p(r,"minimumIntegerDigits",1,21,o.minimumIntegerDigits),void 0!==r.maximumFractionDigits&&(o.maximumFractionDigits=p(r,"maximumFractionDigits",0,20,o.maximumFractionDigits),o.maximumFractionDigits<o.minimumFractionDigits&&(o.minimumFractionDigits=o.maximumFractionDigits)),void 0!==r.minimumFractionDigits&&(o.minimumFractionDigits=p(r,"minimumFractionDigits",0,20,o.minimumFractionDigits)),o.maximumFractionDigits<o.minimumFractionDigits&&(o.maximumFractionDigits=o.minimumFractionDigits,t.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===o.style&&void 0===r.minimumFractionDigits&&(void 0===h||"standard"===h))){var S=e.supplemental.currencyData.fractions[r.currency];if(void 0!==S){var O=parseInt(S._digits,10);o.minimumFractionDigits=O,o.maximumFractionDigits=O}}}function m(e){var t=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw t.errorInfo=i,t}function v(e,t){var n=i.OraI18nUtils.getGetOption(e,t),r=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===r||"currency"===r){var a="decimal"===r?"decimalFormat":"currencyFormat";r=n(a,"string",["standard","short","long"]),"OraNumberConverter.parse"===t&&void 0!==r&&"standard"!==r&&function(e){var t=new Error("long and short "+e+" are not supported for parsing"),i={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}};throw t.errorInfo=i,t}(a)}var s=n("currency","string");"currency"===r&&void 0===s&&m("style"),s=n("unit","string"),"unit"===r&&void 0===s&&function(e){var t=new TypeError('The property "unit" is required when the property "'+e+'" is "unit". An accepted value is "byte" or "bit".'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw t.errorInfo=i,t}("style"),r=n("roundingMode","string",["UP","DOWN","FLOOR","CEILING","HALF_UP","HALF_DOWN","HALF_EVEN"])}function g(e,t,n){var r=n.groupingSize,a=n.groupingSize0,s=n.decimalSeparator,o=e+"",u=o.split(/e/i),d=u.length>1?parseInt(u[1],10):0,c=(u=(o=u[0]).split(".")).length>1?u[1]:"",p=Math.min(n.maximumFractionDigits,c.length-d);u.length>1&&c.length>d&&(e=b(e,p,t.roundingMode||"DEFAULT"));d=(u=(o=Math.abs(e)+"").split(/e/i)).length>1?parseInt(u[1],10):0,u=(o=u[0]).split("."),o=u[0],c=u.length>1?u[1]:"",d>0?(o+=(c=h(c,d,!1)).slice(0,d),c=c.substr(d)):d<0&&(c=(o=h(o,(d=-d)+1,!0)).slice(-d,o.length)+c,o=o.slice(0,-d)),p>0&&c.length>0?(c=c.length>p?c.slice(0,p):h(c,p,!1),!0===l.test(c)&&(c=c.slice(0,n.minimumFractionDigits)),c=s+c):c=n.minimumFractionDigits>0?s:"",c=h(c=i.OraI18nUtils.trimRightZeros(c),s.length+n.minimumFractionDigits,!1);var _=n.groupingSeparator,f="";!1===t.useGrouping&&void 0===t.pattern&&(_="");var m=(o=h(o,n.minimumIntegerDigits,!0)).length-1;for(c=c.length>1?c:"";m>=0;){if(0===r||r>m)return o.slice(0,m+1)+(f.length?_+f+c:c);f=o.slice(m-r+1,m+1)+(f.length?_+f:""),m-=r,a>0&&(r=a)}return o.slice(0,m+1)+_+f+c}function b(e,t,i){var n,r=i,a=function(e){var t=e.toString(),i=!1;"-"===(t=t.replace("E","e")).charAt(0)&&(i=!0,t=t.substring(1));var n=t.split("e"),r=n[0],a=Number(n[1]);if(a>0)if((t=r.substr(0,1)+r.substr(2)).length-1<a)for(var s=a+1-t.length;s>0;)t+="0",s-=1;else t.length-1>a&&(t=t.substr(0,a+1)+"."+t.substr(a+1));else if(a<0){var o=r.substr(0,1)+r.substr(2);t="0.";for(var l=a;l<-1;l++)t+="0";t+=o}return i&&(t="-"+t),t}(e);if(void 0===(a=a.split("."))[1])return Math.abs(e);if("DEFAULT"!==i){if("HALF_UP"===i||"HALF_EVEN"===i||"HALF_DOWN"===i){if("5"===a[1][t]){var s=a[1].substr(t);(s=parseInt(s,10))>5&&(r="HALF_UP")}else r="DEFAULT";e=Math.abs(e)}n=function(e,t,i){if(0===t)return Math[i](e);var n=e.toString().split("e"),r=n[0],a=n[1],s=r+"e"+(a?parseInt(a,10)-t:-t),o=parseFloat(s),l=Math[i](o);return n=l.toString().split("e"),r=n[0],a=n[1],s=r+"e"+(a?parseInt(a,10)+t:t),o=parseFloat(s)}(e,-t,r=function(e,t,i,n){var r=c[t];if("HALF_EVEN"===t){var a;if(0===i){var s=e[0].length;a=parseInt(e[0][s-1],10)}else a=parseInt(e[1][i-1],10);r=a%2==0?c.HALF_DOWN:c.HALF_UP}else"UP"===t&&n<0?r=c.DOWN:"DOWN"===t&&n<0&&(r=c.UP);return r}(a,r,t,e))}else{var o=Math.pow(10,t);if(n=Math.round(e*o)/o,!isFinite(n))return e}return Math.abs(n)}function y(e,t,n,r,a){var s=i.OraI18nUtils.getLocaleElementsMainNode(n);if(!isFinite(e))return e===1/0||e===-1/0?s.numbers[r.numberingSystem].infinity:"NaN";var l=e;!0===r.isPercent||"percent"===r.style?l*=100:!0===r.isPerMill&&(l*=1e3);var c=t.decimalFormat;void 0===c&&(c=t.currencyFormat);var p=r.style;l="decimal"!==p&&"currency"!==p||void 0===c||"standard"===c?!0===r.useExponentialNotation?function(e,t){var i=e+"",n=0,r=i.split(/e/i),a=r[0];o.lastIndex=0;var s=o.exec(a);null!==s?(n=s[1].length-1,a=s[2]):a=a.replace(".","");var l=r.length>1?parseInt(r[1],10):0,u=parseInt(a,10),d=t.minimumIntegerDigits+t.maximumFractionDigits;if(a.length>d){d-=a.length;var c=Math.pow(10,d);u=Math.round(u*c)}var p=t.minimumIntegerDigits+t.minimumFractionDigits;u=h(u+="",p,!1),-1!==i.indexOf(".")?l-=t.minimumIntegerDigits-i.indexOf(".")+n:l-=p-a.length-t.minimumFractionDigits;var _=Math.abs(l);_=h(_+"",t.minExponentDigits,!0),l<0&&(_=t.minusSign+_);var f=u.slice(0,t.minimumIntegerDigits);return u.slice(t.minimumIntegerDigits).length>0?f+=t.decimalSeparator+u.slice(t.minimumIntegerDigits)+t.exponential+_:f+=t.exponential+_,f}(l,r):"unit"===p?function(e,t,n,r){var a,s,o=Math.abs(e);o>=1099511627776?(a="digital-tera",s=o/1099511627776):o>=1073741824?(a="digital-giga",s=o/1073741824):o>=1048576?(a="digital-mega",s=o/1048576):o>=1024?(a="digital-kilo",s=o/1024):(a="digital-",s=o),a+=n.unit;var l=n.lang,u=n.plurals[l](s);u="unitPattern-count-"+u,e<0&&(s=-s);var d=g(s,t,n),c=r.units.narrow[a][u];return d=i.OraI18nUtils.formatString(c,[d])}(l,t,r,s):g(l,t,r):function(e,t,i){var n,r,a,s=Math.abs(e),o=function(e){for(var t=Object.keys(u),i=0;i<t.length;i++)for(var n=t[i],r=u[n].length,a=0;a<r;a++)if(u[n][a]<=e)return[n,u[n][a]];return[e,null]}(s),l="";if(null!==o[1]){var c=i.lang,h=i.plurals[c](Math.floor(s/d[o[0]]));if(n=o[1]+"-count-"+h,void 0===(n=i.shortDecimalFormat[n])&&(h="other",n=o[1]+"-count-"+h,n=i.shortDecimalFormat[n]),a=(r=function(e){var t=0,i=0,n=0,r="";if("0"!==e[0]){for(;"0"!==e[t]&&t<e.length;)t+=1;r=e.substr(0,t),n=t}for(t=n;t<e.length&&"0"===e[t];t++)i+=1;return[r,i]}(n))[1],l=r[0],a<n.length){var p=1*Math.pow(10,a);s/=p=o[1]/p*10}}var _="";return void 0!==n&&(_=n.substr(a+r[0].length)),e<0&&(s=-s),_=l+g(s,t,i)+(_=_.replace(/'\.'/g,"."))}(l,t,r);var f="";f+=e<0&&l-0!=0?r.negativePrefix+l+r.negativeSuffix:r.positivePrefix+l+r.positiveSuffix;var m=_(a);if(void 0===i.OraI18nUtils.numeringSystems[m]&&(m="latn"),"latn"!==m){var v,b=[];for(v=0;v<f.length;v++)f[v]>="0"&&f[v]<="9"?b.push(i.OraI18nUtils.numeringSystems[m][f[v]]):b.push(f[v]);return b.join("")}return f}function E(e,t){var n=t.groupingSeparator,r=t.decimalSeparator,s=t.minusSign,o="",l="",u=i.OraI18nUtils.toUpper(t.exponential),d=i.OraI18nUtils.toUpper(e),c=n;d=(d=d.split(u).join("E")).split(c).join("");var h=c.replace(/\u00A0/g," ");c!==h&&(d=d.split(h).join("")),"."===(d=d.split(r).join(".")).charAt(0)&&(d=d.substr(1),l="."),d=d.replace(s,"-");var p=l+a.exec(d)[2];return i.OraI18nUtils.startsWith(p,"-")?(p=p.substr("-".length),o="-"):i.OraI18nUtils.startsWith(d,"+")&&(p=p.substr("+".length),o="+"),[o,p]}function C(e,t,n,r){return isNaN(e)&&S(n.style,n,r),!0===n.isPercent||"percent"===n.style?e/=100:!0===n.isPerMill&&(e/=1e3),i.OraI18nUtils.getGetOption(t,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(e=function(e,t,i){var n=t.maximumFractionDigits,r=e<0,a=i.roundingMode||"DEFAULT",s=b(e,n,a);return r?-s:s}(e,n,t)),e}function S(e,t,i){var n,r="Enter a number in this format:"+t.pat;switch(e){case"decimal":n="decimalFormatMismatch";break;case"currency":n="currencyFormatMismatch";break;case"percent":n="percentFormatMismatch"}var a=new Error(r),s={errorCode:n,parameterMap:{value:i,format:t.pat}};throw a.errorInfo=s,a}function O(e,t,a,o){var l=i.OraI18nUtils.getLocaleElementsMainNode(t),u={},d=function(e,t){var n,r=_(t);if(void 0===i.OraI18nUtils.numeringSystems[r])return e;var a=[];for(n=0;n<e.length;n++){var s=i.OraI18nUtils.numeringSystems[r].indexOf(e[n]);-1!==s?a.push(s):a.push(e[n])}return a.join("")}(e,o);f(t,u,a,o);var c=NaN,h=d.replace(/ /g,"");if(n.test(h))return c=parseFloat(d);var p=function(e,t,n,r){var a,o=i.OraI18nUtils.trimNumber(e),l="",u=!1,d=r.numbers[n.numberingSystem].plusSign,c=new RegExp("^"+d.replace(s,"\\$1"));o=o.replace(c,"");var h=i.OraI18nUtils.trimNumber(n.positivePrefix),p=i.OraI18nUtils.trimNumber(n.positiveSuffix),_=i.OraI18nUtils.trimNumber(n.negativePrefix),f=i.OraI18nUtils.trimNumber(n.negativeSuffix),m=new RegExp("^"+(h||"").replace(s,"\\$1")),v=new RegExp((p||"").replace(s,"\\$1")+"$"),g=new RegExp("^"+(_||"").replace(s,"\\$1")),b=new RegExp((f||"").replace(s,"\\$1")+"$");if(!0===g.test(o)&&!0===b.test(o))o=(o=o.replace(g,"")).replace(b,""),l="-",u=!0;else if(!0===m.test(o)&&!0===v.test(o))o=(o=o.replace(m,"")).replace(v,""),l="+",u=!0;else if("currency"===n.style){var y,C=n.currencyCode,O=C;if(void 0!==r.numbers.currencies[C]&&(O=r.numbers.currencies[C].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?y=O:"code"===n.currencyDisplay&&(y=C),void 0!==y){var A=(h||"").replace(y,""),j=(p||"").replace(y,""),I=(_||"").replace(y,""),w=(f||"").replace(y,"");m=new RegExp(("^"+A).replace(s,"\\$1")),v=new RegExp(j.replace(s,"\\$1")+"$"),g=new RegExp(("^"+I).replace(s,"\\$1")),b=new RegExp(w.replace(s,"\\$1")+"$"),!0===g.test(o)&&!0===b.test(o)?(o=(o=o.replace(g,"")).replace(b,""),l="-",u=!0):!0===m.test(o)&&!0===v.test(o)&&(o=(o=o.replace(m,"")).replace(v,""),l="+",u=!0)}}return u?a=[l,o]:"full"===n.lenientParse?(a=E(o,n))[2]=!0:S(n.style,n,e),a}(d,0,u,l),m=p[0],v=p[1];if(m=m||"+",p[2])return C(c=parseFloat(m+v),a,u,e);var g=function(e,t){var n,r,a={},s=t.decimalSeparator,o=t.groupingSeparator,l=e.replace(/ /g,""),u=t.exponential,d=l.indexOf(u.toLowerCase());d<0&&(d=l.indexOf(i.OraI18nUtils.toUpper(u))),d<0?(r=l,a.exponent=null):(r=l.substr(0,d),a.exponent=l.substr(d+u.length));var c=s,h=r.indexOf(c);h<0?(n=r,a.fraction=null):(n=r.substr(0,h),a.fraction=r.substr(h+c.length)),n=n.split(o).join("");var p=o.replace(/\u00A0/g," ");return o!==p&&(n=n.split(p).join("")),a.integer=n,a}(v,u),b=g.integer,y=g.fraction,O=g.exponent,A=m+b;if(null!==y&&(A+="."+y),null!==O){var j=function(e,t){var n,r=t.minusSign,a=t.plusSign,s=i.OraI18nUtils.trimNumber(e);return r=i.OraI18nUtils.trimNumber(r),a=i.OraI18nUtils.trimNumber(a),i.OraI18nUtils.startsWith(s,r)?n=["-",s.substr(r.length)]:i.OraI18nUtils.startsWith(s,i.OraI18nUtils.trimNumber(a))&&(n=["+",s.substr(a.length)]),n||["",s]}(O,u);A+="e"+(j[0]||"+")+j[1]}return r.test(A)?c=parseFloat(A):"full"===u.lenientParse?(A=E(d,u),c=parseFloat(A[0]+A[1])):S(u.style,u,e),C(c,a,u,e)}var A,j,I,w;function T(e){var t=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "#,##0.###".'),i={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:"#,##0.###"}};throw t.errorInfo=i,t}function R(e,t,i,n){for(var r="",a=0;a<e.length;){var s=e.charAt(a);if(a+=1,"'"!==s){switch(s){case"":var o=i.currencyCode,l=o,u=o;void 0!==t.numbers.currencies[o]&&(l=t.numbers.currencies[o].displayName,u=t.numbers.currencies[o].symbol),void 0===i.currencyDisplay||"symbol"===i.currencyDisplay?s=u:"code"===i.currencyDisplay?s=o:(s=l,n.name=s);break;case"%":s=t.numbers[i.numberingSystem].percentSign;break;case"":s=t.numbers[i.numberingSystem].perMille;break;case"-":s=t.numbers[i.numberingSystem].minusSign}r=r.concat(s)}}return r}function L(e,t,n){var r={};return v(t,"OraNumberConverter.resolvedOptions"),f(e,r,t,n),r.numberingSystemKey=_(n),void 0===i.OraI18nUtils.numeringSystems[r.numberingSystemKey]&&(r.numberingSystemKey="latn"),r}function P(e,t,i){var n={locale:i,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===t.useGrouping||t.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==t.decimalFormat&&(n.decimalFormat=t.decimalFormat),"currency"===e.style&&void 0!==t.currencyFormat&&(n.currencyFormat=t.currencyFormat),"currency"===e.style&&(n.currency=t.currency,n.currencyDisplay=void 0===t.currencyDisplay?"symbol":t.currencyDisplay),void 0!==t.unit&&(n.unit=t.unit),void 0!==t.pattern&&(n.pattern=t.pattern);var r=t.roundingMode,a=t.roundDuringParse;void 0!==r&&(n.roundingMode=r),void 0!==a&&(n.roundDuringParse=a);var s=e.lenientParse;void 0!==s&&(n.lenientParse=s);var o=e.separators;return void 0!==o&&(n.separators=o),n.virtualKeyboardHint=function(e,t){var i="text";switch(t.style){case"unit":i="text";break;case"currency":case"percent":i=void 0===t.pattern?"text":D(e,t);break;default:i=void 0===t.pattern?"short"===t.decimalFormat||"long"===t.decimalFormat?"text":function(e,t){if(void 0===t.useGrouping||t.useGrouping){if("."===e.decimalSeparator&&""===e.groupingSeparator)return"number"}else if("."===e.decimalSeparator)return"number";return"text"}(e,t):D(e,t)}return i}(e,t),n}function D(e,t){var i;if(i=t.pattern,/[^0-9.#]/i.test(i))return"text";var n=function(e){if(-1!==e.indexOf(","))return!0;return!1}(t.pattern),r=function(e){if(-1!==e.indexOf("."))return!0;return!1}(t.pattern);if(n&&r){if(""!==e.groupingSeparator||"."!==e.decimalSeparator)return"text";if(e.groupingSeparator===e.decimalSeparator)return"text"}return r&&!n&&"."!==e.decimalSeparator||!r&&n&&""!==e.groupingSeparator?"text":"number"}return{getInstance:function(){return e||(e={format:function(e,t,i,n){(arguments.length<=2||void 0===i)&&(i={useGrouping:!0,style:"decimal"}),v(i,"OraNumberConverter.format");var r={};return f(t,r,i,n),y(e,i,t,r,n)},parse:function(e,t,i,n){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===i)&&(i={useGrouping:!0,style:"decimal"}),v(i,"OraNumberConverter.parse"),O(e,t,i,n))},resolvedOptions:function(e,t,n){(arguments.length<3||void 0===n)&&(n=i.OraI18nUtils.getLocaleElementsMainNodeKey(e)),(arguments.length<2||void 0===t)&&(t={useGrouping:!0,style:"decimal"});var r=L(e,t,n);return P(r,t,n)}}),e}}}(),d=function(){this.Init()};oj.Object.createSubclass(d,r,"oj.NumberConverter"),d.prototype.Init=function(e){d.superclass.Init.call(this,e)},d.prototype.format=function(e){return=function(e){return d.superclass.parse.call(this,e)};const c=function(e){this.Init(e)};o.Object.createSubclass(c,d,"oj.IntlNumberConverter"),c.prototype.Init=function(e){c.spped||(this._wrapped=u.getInstance()),this._wrapped},c.prototype.format=function(e){if(null==e||"string"==typeof e&&0===o.StringUtils.trim(""+e).length||"number"==typeof e&&isNaN(e))return"";var i,r=s.getLocale(),l=n.__getBundle(),u=this.resolvedOptions();try{i=this._getWrapped().format(e,l,u,r)}catch(t){throw this._processConverterError(t,e)}if("NaN"===i){var d=a.getTranslatedString("oj-converter.number.invalidNumberFormat.summary",{value:e}),c=a.getTranslatedString("oj-converter.number.invalidNumberFormat.detail");t.error(d+" "+c)}return i},c.prototype.getHint=function(){return null},c.prototype.getOptions=function(){return c.superclass.getOptions.call(this)},c.prototype.parse=function(e){var t,i,r;if(null==e||""===e)return null;t=s.getLocale(),i=n.__getBundle(),r=this.resolvedOptions();try{return this._getWrapped().parse(o.StringUtils.trim(e),i,r,t)}catch(t){throw this._processConverterError(t,e)}},c.prototype.resolvedOptions=function(){var e,i=s.getLocale();if(i!==this._locale||!this._resolvedOptions){e=n.__getBundle();try{if(!e)return t.error("locale bundle for the current locale %s is unavailable",i),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,this.getOptions(),i),this._locale=i}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},c.prototype._processConverterError=function(e,t){var n,r,s,u,d=e.errorInfo;if(d){var c=d.errorCode,h=d.parameterMap;switch(o.Assert.assertObject(h),c){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":n=i.IntlConverterUtils.__getConverterOptionError(c,h);break;case"decimalFormatMismatch":s="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":s="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":s="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":u=a.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),r=a.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),n=new l.ConverterError(u,r)}s&&(u=a.getTranslatedString(s,{value:t||h.value,format:h.format}),r=a.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),n=new l.ConverterError(u,r))}return n||(u=e.message,r=e.message,n=new l.ConverterError(u,r)),n},c.prototype._getHintValue=function(){var e="";try{e=this.format(12345.98765)}catch(i){i instanceof l.ConverterError&&(e="",t.error("error retrieving hint value in format"))}return e},e.IntlNumberConverter=c,e.NumberConverter=d,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvalidator-numberrange",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error","ojs/ojconverterutils"],function(e,t,i,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const a=function(e){this.Init(e)};return e.Object.createSubclass(a,i,"oj.NumberRangeValidator"),a.prototype.Init=function(e){a.superclass.Init.call(this),e&&(this._min=e.min,this._max=e.max,this._converter=r.getConverterInstance(e.converter),this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},a.prototype.validate=function(e){var i=e?e.toString():e,r=parseFloat(i),a=this._customMessageSummary,s=this._customMessageDetail,o=s.rangeOverflow,l=s.rangeUnderflow,u=s.exact,d=a.rangeOverflow,c=a.rangeUnderflow,h=void 0!==this._min?parseFloat(this._min):null,p=void 0!==this._max?parseFloat(this._max):null,_="",f="",m=null,v=t;if(null!==e){if(null!==h&&null!==p){if(r>=h&&r<=p||h>p)return}else if(null!==h){if(r>=h)return}else if(null===p||r<=p)return;var g=function(t,i){return null!==p&&null!==h&&h===p?(m={value:e,num:i},f=u?v.applyParameters(u,m):v.getTranslatedString("oj-validator.range.number.messageDetail.exact",m),r>p?_=d||v.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"):r<h&&(_=d?c:v.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==p&&r>p?(m={value:e,max:i},_=d||v.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),f=o?v.applyParameters(o,m):v.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",m)):(m={value:e,min:t},_=c||v.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),f=l?v.applyParameters(l,m):v.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",m)),[_,f]}(h&&this._converter?this._converter.format(h):h,p&&this._converter?this._converter.format(p):p);throw new n.ValidatorError(g[0],g[1])}},a.prototype.getHint=function(){var e=this._hint,i=e.inRange,n=e.exact,r=e.min,a=e.max,s=t,o=void 0!==this._min?parseFloat(this._min):null,l=void 0!==this._max?parseFloat(this._max):null;return function(e,t){var u=null;return null!==o&&null!==l?u=o!==l?i?s.applyParameters(i,{min:e,max:t}):s.getTranslatedString("oj-validator.range.number.hint.inRange",{min:e,max:t}):n?s.applyParameters(n,{num:e}):s.getTranslatedString("oj-validator.range.number.hint.exact",{num:e}):null!==o?u=r?s.applyParameters(r,{min:e}):s.getTranslatedString("oj-validator.range.number.hint.min",{min:e}):null!==l&&(u=a?s.applyParameters(a,{max:t}):s.getTranslatedString("oj-validator.range.number.hint.max",{max:t})),u}(o&&this._converter?this._converter.format(o):o,l&&this._converter?this._converter.format(l):l)},a}),define("ojs/ojinputnumber",["ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojbutton","ojs/ojeditablevalue","ojs/ojcomponentcore","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojlogger","ojs/ojvalidator-numberrange","ojs/ojconverter-number"],function(e,t,i,n,r,a,s,o,l,u,d){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var c,h={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string",value:""},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},step:{type:"number"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{numberRange:{type:"object",properties:{hint:{type:"object",properties:{exact:{type:"string"},inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{exact:{type:"string"},rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipDecrement:{type:"string"},tooltipIncrement:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"number",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","number","text"],value:"auto"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},stepDown:{},stepUp:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},evenfunction p(){return new d.IntlNumberConverter(null)}h.extension._WIDGET_NAME="ojInputNumber",h.extension._ALIASED_PROPS={readonly:"readOnly"},h.extension._INNER_ELEM="input",h.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],oj.CustomElementBridge.register("oj-input-number",{metadata:oj.CollectionUtils.mergeDeep(h,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),e.__registerWidget("oj.ojInputNumber",t.oj.editableValue,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ALLOWED_TYPES:["number","text"],options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,converter:null,labelledBy:null,max:null,min:null,name:"",placeholder:"",rawValue:void 0,readOnly:!1,required:!1,step:1,transientValue:null,validators:[],value:null,virtualKeyboard:"auto"},getNodeBySubId:function(e){var t,i=this._superApply(arguments);return i||("oj-inputnumber-up"===(t=e.subId)&&(i=this.widget()[0].querySelector(".oj-inputnumber-up")),"oj-inputnumber-down"===t&&(i=this.widget()[0].querySelector(".oj-inputnumber-down")),"oj-inputnumber-input"===t&&(i=this.widget()[0].querySelector(".oj-inputnumber-input"))),i||null},getSubIdByNode:function(e){var t=null;return null!=e&&(e===this.widget()[0].querySelector(".oj-inputnumber-up")?t={subId:"oj-inputnumber-up"}:e===this.widget()[0].querySelector(".oj-inputnumber-down")?t={subId:"oj-inputnumber-down"}:e===this.widget()[0].querySelector(".oj-inputnumber-input")&&(t={subId:"oj-inputnumber-input"})),t||this._superApply(arguments)},refresh:function(){this._super(),this._setup()},stepDown:function(e){var t=this.options.step;if(0!==t){var i=(null!=e?e:1)*t*-1;this._step(i)}},stepUp:function(e){var t=this.options.step;if(0!==t){var i=(null!=e?e:1)*t;this._step(i)}},widget:function(){return t(this.uiInputNumber)},_InitOptions:function(e,t){var i=this.options,n=this;if(this._superApply(arguments),!this._IsCustomElement()){var a=[{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}];r.EditableValueUtils.initializeOptionsFromDom(a,t,this,function(e){for(var t=["value","step","min","max"],r=0;r<t.length;r++){var a=t[r],s=a in e?e[a]:i[a];null!=s&&(e[a]="step"===a?n._parseStep(s):n._parse(a,s))}})}if(this._IsCustomElement()&&n._parseStep(i.step),this.initialValue=i.value,null!=i.min&&null!=i.max&&i.max<i.min)throw new Error("ojInputNumber's max must not be less than min")},_ComponentCreate:function(){this._super(),this._draw(),this._inputNumberDefaultValidators={},this._setup(),this._registerEvents(),this._focusable({element:t(this.uiInputNumber),applyHighlight:!0})},_AfterCreate:function(){if(this._super(),this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),this._refreshAriaMinMax(),this.stepQueue=[],this._blurEnterSetValueCounter=0,this._IsCustomElement()){let e=this.options.labelledBy;this._initInputIdLabelForConnection(this._GetContentElement()[0],this.widget()[0].id,e)}this.options.readOnly&&this._createOrUpdateReadonlyDiv(this.element[0])},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"min":case"max":this._Refresh(e,this.options[e]);break;case"readOnly":this._AfterSetOptionDisabledReadOnly(e,r.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"converter":this._AfterSetOptionConverter(e);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES)}},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_AfterSetOptionValue:function(e,t){this._superApply(arguments);var i,n,r=t?t._context:null;r&&(i=!!r.originalEvent,n=r.doNotClearMessages||!1),i||n||(this.initialValue=this.options.value)},_SetDisplayValue:function(e){if(this._superApply(arguments),this.options.readOnly){let t=this._getReadonlyDiv();t&&(t.textContent=e)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:r.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:r.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:r.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:r.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:r.EditableValueUtils._ResetConverter,_ResetAllValidators:function(){this._inputNumberDefaultValidators={},this._superApply(arguments)},_GetConverter:function(){return this.options.converter?this._getConverter():p()},_GetNormalizedValidatorsFromOption:r.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:r.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setOption:function(e,t,i){var n;if(this._IsCustomElement()||"value"!==e&&"max"!==e&&"min"!==e)if("step"===e)n=this._parseStep(t);else{if("transientValue"===e)return void l.error(e+" option cannot be set");n=t}else n=this._parse(e,t);if(this._super(e,n,i),"value"===e&&this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),"max"!==e&&"min"!==e||this._AfterSetOptionValidators(),"disabled"===e&&(this.element[0].disabled=!!t),"readOnly"===e&&(this._createOrDestroyOjButtonset(),this.element[0].readOnly=!!t,t&&this._createOrUpdateReadonlyDiv(this.element[0]),this._refreshStateTheming("readOnly",this.options.readOnly)),"step"===e&&this._createOrDestroyOjButtonset(),"labelledBy"===e){let e=this.options.labelledBy;if(e){var r=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(e,r)}}},_destroy:function(){var e=this._super();return this.buttonSet&&this._destroyOjButtonset(),this.initialValue=null,this.element.off("blur keydown keyup compositionstart compositionend input"),s.unwrap(this.element,t(this.uiInputNumber)),clearTimeout(this.timer),e},validate:r.EditableValueUtils.validate,_Refresh:function(e,t,i){var n;switch(this._superApply(arguments),e){case"value":n=this.options.value||0,this._updateButtonsAria(n);break;case"disabled":n=this.options.value||0,this._updateButtons(n);break;case"max":case"min":this._refreshAriaMinMax(),n=this._getDisplayValueParsed(),this._updateButtons(n);break;case"converter":n=this.options.value,this._refreshAriaText(n);break;case"required":this._refreshRequired(t)}},_labelledByUpdatedForInputComp:r.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:r.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:r.EditableValueUtils._linkLabelForInputComp,_refreshRequired:r.EditableValueUtils._refreshRequired,_GetImplicitValidators:function(){var e=this._superApply(arguments);return null==this.options.min&&null==this.options.max||(this._inputNumberDefaultValidators.numberrange=this._getImplicitNumberRangeValidator()),Object.assign(this._inputNumberDefaultValidators,e)},_GetDefaultStyleClass:function(){return"oj-inputnumber"},_SetLoading:function(){this._super(),this.element[0].readOnly=!0,this._refreshRoleSpinbutton(!1)},_ClearLoading:function(){this._super();var e=this.options.readOnly;this.element[0].readOnly=e},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement())return this._getRootElement().querySelector(".oj-text-field-middle")},_GetAriaLabelElement:function(){return this.element[0]},_BUNDLE_KEY:{_TOOLTIP_DECREMENT:"tooltipDecrement",_TOOLTIP_INCREMENT:"tooltipIncrement"},_OPTION_TO_CSS_MAPPING:{readOthis._createRangeValidatorOptions();return new u(e)},_setup:function(){var e=this._needsButtonset();if(e){var t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),i=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT);this.upButton.ojButton({label:t}),this.downButton.ojButton({label:i})}"boolean"==typeof this.options.readOnly&&(this.element[0].readOnly=this.options.readOnly),this._refreshStateTheming("readOnly",this.options.readOnly),this._refreshRoleSpinbutton(e),this._refreshRequired(this.options.required)},_markInternalComponents:function(){this.upButton[0].setAttribute("data-oj-internal",""),this.downButton[0].setAttribute("data-oj-internal",""),this.buttonSet[0].setAttribute("data-oj-internal","")},_createOjButtonset:function(){var e=this._createButtonset();this.inputNumberWrapper.appendChild(e.buttonSet);for(var i=this.uiInputNumber.querySelectorAll(".oj-inputnumber-button"),n=i.length,r=0;r<n;r++)i[r].setAttribute("tabIndex","-1");const a=o.getCachedCSSVarValues(["--oj-private-input-number-button-global-chroming-default"])[0]||"solid";var s=e.upButton.parentNode;this.upButton=t(e.upButton).ojButton({display:"icons",chroming:a,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),icons:{start:"oj-component-icon oj-inputnumber-up-icon"}}),this.downButton=t(e.downButton).ojButton({display:"icons",chroming:a,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT),icons:{start:"oj-component-icon oj-inputnumber-down-icon"}}),this.buttonSet=t(s).ojButtonset({focusManagement:"none",chroming:a}),this._markInternalComponents()},_destroyOjButtonset:function(){this.buttonSet.ojButtonset("destroy"),this.buttonSet.remove(),this.upButton=null,this.downButton=null,this.buttonSet=null},_createOrDestroyOjButtonset:function(){let e=this._needsButtonset();e&&null==this.buttonSet?(this._createOjButtonset(),this._updateButtons(this.options.value||0),this.uiInputNumber.classList.add("oj-has-buttons")):!e&&this.buttonSet&&(this._destroyOjButtonset(),this.uiInputNumber.classList.remove("oj-has-buttons")),this._refreshRoleSpinbutton(e)},_draw:function(){var e=this.element[0];e.classList.add("oj-inputnumber-input"),e.classList.add("oj-text-field-input");var t=document.createElement("span");t.className="oj-inputnumber-wrapper",this.inputNumberWrapper=t,this.uiInputNumber=t;var i=document.createElement("div");if(i.className="oj-text-field-container",i.setAttribute("role","presentation"),this.OuterWrapper){i.appendChild(t);var n=this._CreateMiddleWrapper();t.appendChild(n),n.appendChild(e),this.OuterWrapper.appendChild(i),this.uiInputNumber=this.OuterWrapper,this.uiInputNumber.classList.add("oj-inputnumber"),this.uiInputNumber.classList.add("oj-component")}else{var r=document.createElement("div");r.className="oj-inputnumber oj-component",e.parentNode.insertBefore(r,e),r.appendChild(i),i.appendChild(t),t.appendChild(e),this.uiInputNumber=r}this.saveType=e.type,this._SetInputType(this._ALLOWED_TYPES),this._needsButtonset()&&(this._createOjButtonset(),this.uiInputNumber.classList.add("oj-has-buttons"))},_needsButtonset:function(){return!0!==this.options.readOnly&&this.options.step>0},_createButtonset:function(){var e=document.createElement("div");e.className="oj-buttonset-width-auto";var t=document.createElement("button");t.setAttribute("type","button"),t.className="oj-inputnumber-button oj-inputnumber-down",e.appendChild(t);var i=document.createElement("button");return i.setAttribute("type","button"),i.className="oj-inputnumber-button oj-inputnumber-up",e.appendChon:i}},_start:function(){return this.spinning=!0,!0},_repeat:function(t,i,n,r){var a,s=!1,o=this,l=this.options.step;i>0?this.upButton[0].classList.contains("oj-disabled")&&(s=!0):this.downButton[0].classList.contains("oj-disabled")&&(s=!0),t=t||500,clearTimeout(this.timer),this.timer=setTimeout(function(){s||o._repeat(40,i,n,!0)},t),r?(a=this.element[0],e.Context.getContext(a).getBusyContext().isReady()&&(this.stepQueue=[],this._spin(i*l,n,!0))):this._stepNoStartStop(i*l,n)},_spin:function(e,t,i){var n,r=this._GetDisplayValue()||0,a=this._ParseValueShowErrors(r);return void 0!==a?(n=this._adjustParsedValueOnSpinAndUpdateDisplay(a,e),this._valuePending=i,this._SetValue(n,t,{validationMode:this._VALIDATION_MODE.VALIDATORS_ONLY,targetOptions:i?["transientValue"]:["transientValue","value"]})):(this._updateButtonsAria(a),!1)},_adjustParsedValueOnSpinAndUpdateDisplay:function(e,t){var i,n,r=this.options,a=r.min,s=r.max,o=r.step,l=this.initialValue;return i=this._precision(a,o,l),n=this._adjustValue(e,t,a,s,o,i,l),this._CanSetValue()&&void 0!==this._UpdateElementDisplayValue(n,!0)&&this._updateButtonsAria(n),n},_precision:function(e,t,i){var n=this._precisionOf(t);return null!=e&&(n=Math.max(n,this._precisionOf(e))),null!=i&&ring(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e,t,i,n,r,a,s){var o,u,d;if(a>0)return this._adjustValueForFractions(e,t,i,n,r,a,s);null==(u=null!=i?i:s)&&(u=0);try{e=parseFloat(e.toFixed(a))}catch(t){t instanceof TypeError&&(l.warn("inputNumber's value after conversion is not a number. \nThe converter must convert the value to a Number. coercing using +"),e=+e)}d=e-u;var c=Math.round(d/r)*r;if(o=(c=parseFloat(c.toFixed(a)))===d?e+t:u+(d=t<0?Math.ceil(d/r)*r:Math.floor(d/r)*r)+t,o=parseFloat(o.toFixed(a)),null!=i&&o<i)return i;if(null!=n&&o>n){var h=Math.floor((n-u)/r)*r+u;return h=parseFloat(h.toFixed(a))}return o},_adjustValueForFractions:function(t,i,n,r,a,s,o){e.Assert.assert(s>0);var l=Math.pow(10,s),u=null!=n?Math.round(n*l):n,d=null!=r?Math.round(r*l):r,c=Math.round(a*l);return this._adjustValue(Math.round(t*l),Math.round(i*l),u,d,c,0,Math.round(o*l))/l},_stop:function(e){if(this.spinning){if(this._valuePending){var t={originalEvent:e,internalSet:!0};this.option({value:this.options.transientValue},{_context:t}),this._valuePending=!1}clearTimeRealMouseEvent:function(){return!s.recentTouchEnd()},_updateButtons:function(e){var t,i,n=this.options,r=n.max,a=n.min,s=this.downButton,o=this.upButton,l=null!=r,u=null!=a;(s||o)&&(t=s[0].classList.contains("oj-disabled"),i=o[0].classList.contains("oj-disabled"),n.disabled||void 0===e||l&&u&&r===a&&e===r?(t||s.ojButton("disable"),i||o.ojButton("disable")):l&&e>=r?(t&&s.ojButton("enable"),i||o.ojButton("disable")):u&&e<=a?(t||s.ojButton("disable"),i&&o.ojButton("enable")):(t&&s.ojButton("enable"),i&&o.ojButton("enable")))},_getConverter:r.EditableValueUtils._GetConverter,_createOrUpdateReadonlyDiv:r.EditableValueUtils._createOrUpdateReadonlyDiv,_getDisplayValueParsed:function(){var e,t;try{t=this._GetDisplayValue()||0,e=this._parseValue(t)}catch(t){e=void 0}return e},_blurEnterSetValue:function(e){var t,i,n,r=this.element.val(),a=this;this._stop(e),this.stepQueue=[],this._blurEnterSetValueCounter+=1,n=this._blurEnterSetValueCounter,this._valuePending=!1,(i=this._SetValue(r,e,{targetOptions:["transientValue","value"]}))instanceof Promise?i.then(function(e){n===a._blurEnterSetValueCounter&&(e||(t=a._getDisplayValueParsed(),a._updateButtonsAria(t)))}):(t=i?this.options.value:this._getDisplayValueParsed(),this._updateButtonsAria(t))},_updateButtonsAria:function(e){this._refreshAriaValueNowText(e),this._updateButtons(e)},_createRangeValidatorOptions:function(){var e,t,i,n,r,a,s,o,l,u=this.options,d=u.min,c=u.max,h=null!=d?d:void 0,p=null!=c?c:void 0,_=u.translations,f=_&&_.numberRange||{},m=f.hint||{},v=f.messageDetail||{},g=f.messageSummary||{};return null!==m&&(e=m.min||null,t=m.max||null,i=m.inRange||null,n=m.exact||null),null!==v&&(r=v.rangeOverflow||null,a=v.rangeUnderflow||null,s=v.exact||null),null!==g&&(o=g.rangeOverflow||null,l=g.rangeUnderflow||null),{min:h,max:p,hint:{min:e||null,max:t||null,inRange:i||null,exact:n||null},messageDetail:{rangeOverflow:r||null,rangeUnderflow:a||null,exact:s||null},messageSummary:{rangeOverflow:o||null,rangeUnderflow:l||null},converter:this._GetConverter()}},_parse:function(e,t){var i;if(i=null!==t?+t:t,isNaN(i))throw new Error("ojInputNumber's "+e+" option is not a number");return i},_parseStep:function(e){var t;if(null===e)return 1;if(""===e)throw new Error("Invalid step for ojInputNumber; step must be a number 0 or greater.");if((t=this._parse("step",e))<0)throw new Error("Invalid step for ojInputNumber; step must be 0 or greater.");return t},_refreshStateTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_refreshRoleSpinbutton:function(e){e?this.element[0].setAttribute("role","spinbutton"):this.elin),this._setAttr("aria-vsetAttr("aria-valuenow",e),this._refreshAriaText(e)},_refreshAriaText:function(e){var t=this.element.val();""===t||this._CompareOptionValues("value",""+e,t)?this._setAttr("aria-valuetext",null):this._setAttr("aria-valuetext",t)},_setAttr:function(e,t){void 0!==t&&(null===t?this.element[0].removeAttribute(e):this.element[0].setAttribute(e,t))},_stepNoStartStop:function(e,t){var i,n,r,a,s=this;if(void 0===e){if(0===this.stepQueue.length)return;n=(i=this.stepQueue.shift()).step,r=i.event}else{if(this.stepQueue.length>=1)return void this.stepQueue.push({step:e,event:t});n=e,r=t}(a=this._spin(n,r,!1))instanceof Promise&&(this.stepQueue.push({step:n,event:r}),a.then(function(){s.stepQueue.shift(),s._stepNoStartStop(void 0,r)}))},_step:function(e,t){this._start(),this._stepNoStartStop(e,t),this._stop(t)},_SetInputType:r.EditableValueUtils._SetInputType,_regularEventsAndListeners:{compositionstart:function(){this._isComposing=!0},compositionend:function(e){this._isComposing=!1,this._SetRawValue(this.element.val(),e)},input:function(e){this._isComposing||this._SetRawValue(this.element.val(),e)},keydown:function(e){var i=t.ui.keyCode;switch(e.keyCode){case i.ENTER:this._blurEnterSetValue(e),e.preventDefault();break;case i.UP:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,1,e))),e.preventDefault();break;case i.DOWN:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,-1,e))),e.preventDefault()}},keyup:function(e){var i=t.ui.keyCode;switch(e.keyCode){case i.UP:case i.DOWN:default:this._stop(e)}},blur:function(e){this._blurEnterSetValue(e)},"touchend .oj-inputnumber-button":function(e){this._stop(e)},"touchcancel .oj-inputnumber-button":function(e){this._stop(e)},"mousedown .oj-inputnumber-button.oj-enabled":function(e){this._isRealMouseEvent(e)&&(this._start(),this._repeat(null,e.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,e))},"mouseup .oj-inputnumber-button":function(e){this._isRealMouseEvent(e)&&this._stop(e)},"mouseenter .oj-inputnumber-button.oj-enabled":function(e){e.currentTarget.classList.contains("oj-active")&&this._isRealMouseEvent(e)&&(this._start(),this._repeat(null,e.currentTarget.classList.contains("oj-inputnumbeunction(e){this._isRealMouseEvent(e)&&this._stop(e)}},_passiveEventsAndListeners:{"touchstart .oj-inputnumber-button.oj-enabled":function(e){this._start(),this._repeat(null,e.currentTarget.classList.conisteners),this._on(this._passiveEventsAndListeners)}}),a.setDefaultOptions({ojInputNumber:{step:a.createDynamicPropertyGetter(function(){return o.getCachedCSSVarValues(["--oj-private-input-number-global-step-defPropertyGetter(function(){return null==c&&(c=p()),c})}})}),define("ojs/ojvalidator-regexp",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const r=function(e){this.Init(e)};return e.Object.createSubclass(r,i,"oj.RegExpValidator"),r._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",r._BUNDLE_KEY_SUion(e){r.superclass.Init.call(this),this._options=e},r.prototype.validate=function(e){var i,r,a,s=this._options&&this._options.pattern||"";if(null!=e&&""!==e){var o=e.toString(),l="^("+s+")$",u=o.match(l);if(null===u||u[0]!==o){this._options&&(a=this._options.messageSummary||null,i=this._options.messageDetail||null,r=this._options&&this._options.label||"");var d={label:r,pattern:s,value:o},c=a?t.applyParameters(a,d):t.getTranslatedString(this._getSummaryKey(),d),h=i?t.applyParameters(i,d):t.getTranslatedString(this._getDetailKey(),d);throw new n.ValidatorError(c,h)}}},r.prototype.getHint=function(){var e=null,i={};return this._options&&this._options.hint&&(i={pattern:this._options.pattern},e=t.applyParameters(this._options.hint,i)),e},r.prototype._getSummaryKey=function(){retgetDetailKey=function(){return r._BUNDLE_KEY_DETAIL},r}),define("ojs/ojfilter",[],function(){}),define("ojs/ojfilter-length",[],function(){"use strict";return class{constructor(e){if(this.options=e,!e.max)throw new Error("length filter's max option cannot be less than 1. max option is "+e.max);if(isNaN(e.max))throw new Error("length filter's max option is not a number. max option is "+e.max);if(null!==e.max&&e.max<1)throw new Error("length filter's max option cannot be less than 1. max option is "+e.max);e.countBy=void 0===e.countBy?"codePoint":e.countBy}filter(e,t){return this.calcLength(t)<=this.options.max?t:e.slice(0,this.options.max)}calcLength(e){const t=this.options.countBy;if(""==e||null==e||null==e)return 0;const i=e.length;let n,r=0;switch(t){case"codePoint":for(let t=0;t<i;t++)55296==(63488&e.charCodeAt(t))&&(r+=1);n=i-r/2;break;case"codeUnit":default:n=i}return n}}}),define("ojs/ojinputtext",["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojeditablevalue","ojs/ojcore-base","ojs/ojdomutils","ojs/ojfilter-length","ojs/ojvalidator-regexp","ojs/ojcustomelement-utils"],function(e,t,i,n,r,a,s,o,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},t={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maskIcon:{type:"string",enumValues:["hidden","visible"],value:"hidden"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleHidePassword:{type:"string"},accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},accessibleShowPassword:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};t.extension._WIDGET_NAME="ojInputPassword",t.extension._INNER_ELEM="input",t.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],t.extension._ALIASED_PROPS={readonly:"readOnly"},r.CustomElementBridge.register("oj-input-password",{metadata:r.CollectionUtils.mergeDeep(t,e)});var i={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},clearIcon:{type:"string",enumValues:["always","conditional","never"],value:"never"},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},length:{type:"object",properties:{countBy:{type:"string",enumValues:["codePoint","codeUnit"],value:"codePoint"},max:{type:"number"}}},list:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","email","number","search","tel","text","url"],value:"auto"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojInputText",i.extension._INNER_ELEM="input",i.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex","autocapitalize"],i.extension._ALIASED_PROPS={readonly:"readOnly"},r.CustomElementBridge.register("oj-input-text",{metadata:r.CollectionUtils.mergeDeep(i,e)});var n={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},length:{type:"object",properties:{countBy:{type:"string",enumValues:["codePoint","codeUnit"],value:"codePoint"},counter:{type:"string",enumValues:["none","remaining"],value:"none"},max:{type:"number"}}},maxRows:{type:"number",value:0},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},resizeBehavior:{type:"string",enumValues:["both","horizontal","none","vertical"],value:"none"},rows:{type:"number",extension:{_COPY_TO_INNER_ELEM:!0}},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};n.extension._WIDGET_NAME="ojTextArea",n.extension._INNER_ELEM="textarea",n.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex","autocapitalize"],n.extension._ALIASED_PROPS={readonly:"readOnly"},r.CustomElementBridge.register("oj-text-area",{metadata:r.CollectionUtils.mergeDeep(n,e)})}(),r.__registerWidget("oj.inputBase",t.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"spellcheck"}],_INPUT_HELPER_KEY:"",_BLUR_HANDLER_KEY:"blur",_KEYDOWN_HANDLER_KEY:"keydown",_KEYUP_HANDLER_KEY:"keyup",_COMPOSITIONSTART_HANDLER_KEY:"compositionstart",_COMPOSITIONEND_HANDLER_KEY:"compositionend",_INPUT_HANDLER_KEY:"input",_DROP_HANDLER_KEY:"drop",_CLICK_HANDLER_KEY:"click",_TEXT_FIELD_COUNTER_CLASS:"oj-text-field-counter",_TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS:"oj-text-field-hidden-aria-live",_TEXT_FIELD_MAX_LENGTH_REMAINING_KEY:"accessibleMaxLengthRemaining",_TEXT_FIELD_MAX_LENGTH_EXCEEDED_KEY:"accessibleMaxLengthExceeded",_counterSpanEl:null,_ariaLiveTimer:null,options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,labelledBy:null,name:"",placeholder:"",rawValue:void 0,rerApply(arguments);return this._processAttrCheck(),t},_InitOptions:function(e,t){this._super(e,t),this._IsCustomElement()||n.EditableValueUtils.initializeOptionsFromDom(this._GET_INIT_OPTIONS_PROPS_FOR_WIDGET,t,this)},_ComponentCreate:function(){var e=this._superApply(arguments),i=this.options.readOnly;if(this._rtl="rtl"===this._GetReadingDirection(),this._isAndroidDevice=r.AgentUtils.getAgentInfo().os===r.AgentUtils.OS.ANDROID,"boolean"==typeof i&&this.element.prop("readonly",i),this._DoWrapElement()){var n,a;if(this.OuterWrapper?(n=this.OuterWrapper).className?n.className=n.className+" "+this._WIDGET_CLASS_NAMES:n.className=this._WIDGET_CLASS_NAMES:((n=document.createElement("div")).className=this._WIDGET_CLASS_NAMES,this.element[0].parentNode&&this.element[0].parentNode.insertBefore(n,this.element[0])),a=n,this._wrapper=t(n),this._DoWrapElementAndTriggers()){var o=this._CreateContainerWrapper();n.appendChild(o),a=o;var l=this._CreateMiddleWrapper();l&&(o.appendChild(l),a=l)}a.appendChild(this.element[0]),this._focusable({element:this._wrapper,applyHighlight:!0})}else this._focusable({element:this.element,applyHighlight:!0});return this._CLASS_NAMES&&(this.element.addClass(this._CLASS_NAMES),this.element.addClass("oj-text-field-input")),this._defaultRegExpValidator={},this._eventHandlers=null,this._hasMaxLength()&&(this.lengthFilter=new s(this.options.length)),e},_AfterCreate:function(){var e=this._superApply(arguments),i=["disabled","readOnly"],n=this;if(this._refreshRequired(this.options.required),this._attachDetachEventHandlers(),this._AppendInputHelper(),this._AppendAriaLiveHelper(),t.each(i,function(e,t){n.options[t]&&n._processOptions(t,n.options[t])}),this._IsCustomElement()){let e=this.options.labelledBy;this._initInputIdLabelForConnection(this._GetContentElement()[0],this.widget()[0].id,e)}return this._hasMaxLength()&&this._processLengthCounterAttr(this.options.length.counter),e},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:n.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:n.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:n.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:n.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:n.EditableValueUtils._ResetConverter,_GetConverter:n.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:n.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:n.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_SetDisplayValue:function(e){if(this._superApply(arguments),this.options.readOnly){let t=this._getReadonlyDiv();t&&(t.textContent=e)}},_createOrUpdateReadonlyDiv:n.EditableValueUtils._createOrUpdateReadonlyDiv,_processOptions:function(e,t){"disabled"===e&&this.element.prop("disabled",t),"readOnly"===e&&(this.element.prop("readonly",t),t&&this._createOrUpdateReadonlyDiv(this.element[0],this._DoWrapElement()&&this.OuterWrapper),this._refreshStateTheming("readOnly",t)),"disabled"!==e&&"readOnly"!==e||this._attachDetachEventHandlers()},_setOption:function(e,t,i){var n=this._superApply(arguments);if("disabled"===e||"readOnly"===e)this._processOptions(e,t);else if("pattern"===e)this._defaultRegExpValidator.regexp=this._getImplicitRegExpValidator(),this._AfterSetOptionValidators();else if("labelledBy"===e){let e=this.options.labelledBy;if(e){var r=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(e,r)}}return n},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"readOnly":this._AfterSetOptionDisabledReadOnly(e,n.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"converter":this._AfterSetOptionConverter(e);break;case"length":this._AfterSetOptionLength(this.options.length)}},_hasMaxLength:function(){return this.options.length&&this.options.length.max&&!isNaN(this.options.length.max)},_filterTextOnValueChange:function(){if(this.options.length.max){var e=this.options.rawValue,t=this.options.value;this._filterTextAndSetValues(e,t,!0,!1)}},_destroy:function(){var e=this._superApply(arguments);return this.element.off("blur drop keydown keyup compositionstart compositionend input"),this._inputHelper&&this._inputHelper.remove(),this._DoWrapElement()&&!this._IsCustomElement()&&(this._DoWrapElementAndTriggers()?a.unwrap(this.element,ton(){this._supthis.element.prop("readonly",this.options.readOnly)},_attachDetachEventHandlers:function(){if(this.options.readOnly||this.options.disabled){if(this._eventHandlers)for(var e=[this._BLUR_HANDLER_KEY,this._KEYDOWN_HANDLER_KEY,this._KEYUP_HANDLER_KEY,this._COMPOSITIONSTART_HANDLER_KEY,this._COMPOSITIONEND_HANDLER_KEY,this._INPUT_HANDLER_KEY,this._DROP_HANDLER_KEY],i=0,n=e.length;i<n;i++)this._eventHandlers[e[i]]&&(this.element.off(e[i],this._eventHandlers[e[i]]),delete this._eventHandlers[e[i]])}else{this._eventHandlers={};var r=t.proxy(this._onBlurHandler,this),a=t.proxy(this._onKeyDownHandler,this),s=t.proxy(this._onKeyUpHandler,this),o=t.proxy(this._onCompositionStartHandler,this),l=t.proxy(this._onCompositionEndHandler,this),u=t.proxy(this._onInputHandler,this),d=function(){this.focus()};this.element.on(this._BLUR_HANDLER_KEY,r),this.element.on(this._KEYDOWN_HANDLER_KEY,a),this.element.on(this._KEYUP_HANDLER_KEY,s),this.element.on(this._COMPOSITIONSTART_HANDLER_KEY,o),this.element.on(this._COMPOSITIONEND_HANDLER_KEY,l),this.element.on(this._INPUT_HANDLER_KEY,u),this.element.on(this._DROP_HANDLER_KEY,d),this._eventHandlers[this._BLUR_HANDLER_KEY]=r,this._eventHandlers[this._KEYDOWN_HANDLER_KEY]=a,this._eventHandlers[this._KEYUP_HANDLER_KEY]=s,this._eventHandlers[this._COMPOSITIONSTART_HANDLER_KEY]=o,this._eventHandlers[this._COMPOSITIONEND_HANDLER_KEY]=l,this._eventHandlers[this._INPUT_HANDLER_KEY]=u,this._eventHandlers[this._DROP_HANDLER_KEY]=d}},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_processAttrCheck:function(){for(var e=this._ATTR_CHECK,t=0,i=e.length;t<i;t++){var n=e[t].attr;"setMandatory"in e[t]&&thinction(e){this._SetValue(this._GetDisplayValue(),e)},_onKeyDownHandler:function(e){},_onKeyUpHandler:function(e){e.keyCode===t.ui.keyCode.ENTER&&this._SetValue(thositionStartHandler:function(){this._isComposing=!0},_onCompositionEndHandler:function(e){this._isComposing=!1,this._SetRawValue(this._GetContentElement().val(),e),this._hasMaxLength()&&this._onInputHandler(e)},_onInputHandler:function(e){if(!this._isComposing||this._isAndroidDevice)if(this._hasMaxLength()){var t=this._GetContentElement().val();this._filterTextAndSetValues(t,t,!1,!0)}else this._SetRawValue(this._GetContentElement().val(),e)},_DoWrapElement:function(){return this._WIDGET_CLASS_NAMES},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES},_CreateContainerWrapper:function(){var e=document.createElement("div");return e.setAttribute("role","presentation"),e.className=this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES,e},_AppendInputHelper:function(){if(this._INPUT_HELPER_KEY&&this._DoWrapElement()){var e=this.element.attr("aria-describedby")||"",i=this._GetSubId(this._INPUT_HELPER_KEY);e+=" "+i,this.element.attr("aria-describedby",e),this._inputHelper=t("<div class='oj-helper-hidden-accessible' aria-hidden='true' id='"+i+"'>"+this._EscapeXSS(this.getTranslatedString(this._INPUT_HELPER_KEY))+"</div>"),this._AppendInputHelperParent().append(this._inputHelper)}},_AppendAriaLiveHelper:function(){var e=this._AppendInputHelperParent();if(this.options.length&&this.options.length.max){var t=document.createElement("div");t.classList.add("oj-helper-hidden-accessible"),t.classList.add(this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS);var i=document.createElement("div");i.setAttribute("aria-live","polite");var n=document.createElement("div");n.setAttribute("aria-live","assertive"),t.appendChild(S:function(e){return t("<span>"+e+"</span>").text()},_AppendInputHelperParent:function(){return this.widget()},_GetImplicitValidators:function(){var e=this._superApply(arguments);if(this.options.pattern){var t=this._getImplicitRegExpValidator();this._defaultRegExpValidator.regexp=t}return Object.assign(this._defaultRegExpValidator,e)},_CanSetValue:function(){return!!this._super()&&!(this.options.readOnly||!1)},_refreshStateTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&this.widget().toggleClass(this._OPTION_TO_CSS_MAPPING[e],!!t)},_getImplicitRegExpValidator:function(){if(!this.options.pattern)return null;var e={pattern:this.options.pattern,label:this._getLabelText()};return t.extend(e,this.options.tratAriaLabelnt[0]},_GetSubId:function(e){return this.uuid+"_"+e},_IsRTL:function(){return this._rtl},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){var e=this._GetContentElement()[0];if(!e.parentElement.classList.contains("oj-text-field-middle")){var t=document.createElement("DIV");t.classList.add("oj-text-field-middle"),e.parentElement.insertBefore(t,e),t.appenLengthFilter:function(e){this.lengthFilter=new s(e)},_AfterSetOptionLength:function(e){var t;e.max&&(this._resetLengthFilter(e),t=this._GetContentWrapper().parentElement.parentNode.classList.contains("oj-complete")?this.element[0].value:this.options.value,this._filterTextAndSetValues(t,t,!0,!1));this._processLengthCounterAttr(e.counter)},_setFoctFocusOnTextArea=function(){this.element[0].focus()}.bind(this)},_processLengthCounterAttr:function(e){var t=this._GetContentWrapper().parentElement,i=t.querySelector("."+this._TEXT_FIELD_COUNTER_CLASS),n=t.parentNode.querySelector("."+this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS),r=this.lengthFilter?this.lengthFilter.calcLength(this.options.rawValue):-1,a="",s="";if("none"===e||null==e||0===this.options.length.max||this.options.disabled||this.options.readOnly)i&&(i.removeEventListener(this._CLICK_HANDLER_KEY,this._setFocusOnTextArea),t.removeChild(i)),this._counterSpanEl=null,-1===r||0===this.options.length.max||this.options.disabled||this.options.readOnly?s="":(a=this.options.length.max-r,s=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_REMAINING_KEY,{chars:a}));else{if(null===i){var o=document.createElement("div");o.className=this._TEXT_FIELD_COUNTER_CLASS,this._TEXTAREA_COUNTER_CONTAINER&&(o.className+=" "+this._TEXTAREA_COUNTER_CONTAINER),i=document.createElement("span"),this._INPUTTEXT_COUNTER_EL&&(i.className+=" "+this._INPUTTEXT_COUNTER_EL),this._TEXTAREA_COUNTER_EL&&(i.className+=" "+this._TEXTAREA_COUNTER_EL,this._setFocusOnTextAreaBind(),o.addEventListener(this._CLICK_HANDLER_KEY,this._setFocusOnTextArea)),o.appendChild(i),t.appendChild(o),this._counterSpanEl=i,this._counterSpanEl.textContent=""}-1!==r&&(a=this.options.length.max-r,s=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_REMAINING_KEY,{chars:a}))}this._counterSpanEl&&(this._counterSpanEl.textContent=a),n&&(this._ariaLiveTimer&&clearTimeout(this._ariaLiveTimer),this._ariaLiveTimer=setTimeout(()=>{n.children[0].textContent=s,this._ariaLiveTimer=null},500))},_filterTextAndSetValues(e,t,i,n){var r=this.lengthFilter.filter(e,t);this._SetRawValue(r,null),this._SetDisplayValue(r,null);var a=this._GetContentWrapper().parentElement.parentNode.querySelector("."+this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS);if(a){var s=a.children[1];(r?r.length:0)<(t?t.length:0)?(s.textContent="",s.textContent=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_EXCEEDED_KEY,{len:this.options.length.max})):this.lastFilteredText!==t&&(s.textContent="")}this.lastFilteredText=r,i&&this._SetValue(this.lastFilteredText),n&&this._processLengthCounterAttr(this.options.length.counter)},refresh:function(){var e=this._superApply(arguments);return this._rtl="rtl"===this._GetReadingDirection(),this._refreshRequired(this.options.required),e},_refreshRequired:n.EditableValueUtils._refreshRequired,_labelledByUpdatedForInputComp:n.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:n.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:n.EditableValueUtils._linkLabelForInputComp,_ValidateReturnBoolean:n.EditableValueUtils._ValidateReturnBoolean,_ValidateReturnPromise:n.Editse,getNodeBySubId:function(e){return this._super(e)},validate:n.EditableValueUtils.validate,rn this._DoWrapElement()?this._wrapper:this.element}},!0),r.__registerWidget("oj.ojInputPassword",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"password"}],_CLASS_NAMES:"oj-inputpassword-input",_WIDGET_CLASS_NAMES:"oj-inputpassword oj-form-control oj-component",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_MASK_ICON_SHOW_PASSWORD_LABEL_KEY:"accessibleShowPassword",_MASK_ICON_HIDE_PASSWORD_LABEL_KEY:"accessibleHidePassword",options:{converter:null,maskIco_super();return this._processMaskVisibilityIcon(),e},_processMaskVisibilityIcon:function(){var e=this._GetContentWrapper().parentElement,i=this.element[0],n=e.querySelector("span.oj-text-field-end");if(this.options.disabled||this.options.readOnly)n&&(e.removeChild(n),i.type="password");else if(null===n){if("visible"===this.options.maskIcon){var r,a;(n=document.createElement("span")).className="oj-text-field-end",(a=document.createElement("a")).className="oj-component-icon oj-clickable-icon-nocontext",a.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_SHOW_PASSWORD_LABEL_KEY)),a.role="button",a.setAttribute("target","_blank"),a.setAttribute("tabindex","0"),(r=document.createElement("span")).className="oj-inputpassword-show-password-icon",a.appendChild(r),n.appendChild(a),e.appendChild(n);var s=t(a);this._AddHoverable(s),this._AddActiveable(s),a.addEventListener(this._CLICK_HANDLER_KEY,this._onMaskVisibilityIconClickHandler.bind(this)),a.addEventListener(this._KEYDOWN_HANDLER_KEY,this._onMaskVisibilityIconKeyDownHandler.bind(this))}}else"visible"!==this.options.maskIcon&&(e.removeChild(n),i.type="password")},_onMaskVisibilityIconClickHandler:function(){var e=this.element[0],t=this._GetContentWrapper().parentElement.querySelector("a.oj-component-icon"),i=t.children[0];"password"===e.type?(e.type="text",i.classList.remove("oj-inputpassword-show-password-icon"),i.classList.add("oj-inputpassword-hide-password-icon"),t.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_HIDE_PASSWORD_LABEL_KEY))):(e.type="password",i.classList.remove("oj-inputpassword-hide-password-icon"),i.classList.add("oj-inputpassword-show-password-icon"),t.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_SHOW_PASSWORD_LABEL_KEY)))},_onMaskVisibilityIconKeyDownHandler:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode;switch(e.keyCode){case i.SPACE:case i.ENTER:this._onMaskVisibilityIconClickHandler()}}},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"disabled":case"readOnly":case"maskIcon":this._processMaskVisibilityIcon()}},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_UseReadonlyDiv:function(){return!1},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputpassword-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputpassword"}}),r.__registerWidget("oj.ojInputText",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_CLASS_NAMES:"oj-inputtext-input",_WIDGET_CLASS_NAMES:"oj-inputtext oj-form-control oj-component",_ALLOWED_TYPES:["email","number","search","tel","text","url"],_CLICK_HANDLER_KEY:"click",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_INPUTTEXT_COUNTER_EL:"oj-inputtext-counter-el",options:{clearIcon:"never",converter:null,list:"",pattern:"",virtualKeyboard:"auto",length:{max:null,countBy:"codePoint"}},_ComponentCreate:function(){var e=this._super(),t=this.options.clearIcon;return this._processClearIconAttr(t),this._processSlottedChildren(),this._AddHoverable(this._wrapper),this._SetInputType(this._ALLOWED_TYPES),e},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_processClearIconAttr:function(e){var t=this._GetContentWrapper().parentElement,i=t.querySelector("a.oj-inputtext-clear-icon-btn");if("never"===e||this.options.disabled||this.options.readOnly)i&&t.removeChild(i),t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.remove("oj-inputtext-clearicon-conditional");else{if(null===i){var n,a=r.AgentUtils.getAgentInfo();(i=document.createElement("a")).className="oj-inputtext-clear-icon-btn oj-component-icon oj-clickable-icon-nocontext",i.setAttribute("tabindex","-1"),a.os===r.AgentUtils.OS.ANDROID||a.os===r.AgentUtils.OS.IOS||a.os===r.AgentUtils.OS.WINDOWSPHONE?i.setAttribute("aria-label","Clear input"):i.setAttribute("aria-hidden","true"),i.setAttribute("target","_blank"),(n=document.createElement("span")).className="oj-inputtext-clear-icon",i.appendChild(n),t.appendChild(i),i.addEventListener(this._CLICK_HANDLER_KEY,this._onClearIconClickHandler.bind(this))}var s;if("always"===e)t.classList.add("oj-inputtext-clearicon-visible");else t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.add("oj-inputtext-clearicon-conditional"),(s=t.classList.contains("oj-complete")?this.element[0].value:this.options.value)&&""!==s?t.classList.remove("oj-form-control-empty-clearicon"):t.classList.add("oj-form-control-empty-clearicon")}},_processSlottedChildren:function(){var e=l.CustomElementUtils.getSlotMap(this._getRootElement());!function(e){for(var t={contextMenu:!0,start:!0,end:!0,"":!0},i=Object.keys(e),n=i.length-1;n>-1;n--){var r=i[n];if(!t[r])for(var a=e[r],s=0;s<a.length;s++){var o=a[s];o.parentElement.removeChild(o)}}}(e);var t=this._GetContentWrapper(),i="start";e[i]&&function(e,t){var i=document.createElement("span"),n=e.parentElement;i.classList.add("oj-text-field-start"),n.insertBefore(i,e),n.classList.add("oj-text-field-has-start-slot");for(var r=0;r<t.length;r++){var a=t[r];i.appendChild(a)}}(t,e[i]),e[i="end"]&&function(e,t){var i=document.createElement("span"),n=e.parentElement;i.classList.add("oj-text-field-end"),n.appendChild(i),n.classList.add("oj-text-field-has-end-slot");for(var r=0;r<t.length;r++){var a=t[r];i.appendChild(a)}}(t,e[i])},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"clearIcon":case"disabled":case"readOnly":this._processClearIconAttr(this.options.clearIcon);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES);break;case"value":this._processClearIconAttr(this.options.clearIcon),this._filterTextOnValueChange(),this._AfterSetOptionLength(this.options.length)}},_onInputHandler:function(e){this._super(e);var t=e.target,i=this._GetContentWrapper().parentElement;"conditional"===this.options.clearIcon&&(""!==t.value?i.classList.remove("oj-form-control-empty-clearicon"):i.classList.add("oj-form-control-empty-clearicon"))},_onClearIconClickHandler:function(e){var t=this.element[0];t.value="",this._SetRawValue(t.value,e),t.focus(),this._GetContentWrapper().parentElement.classList.add("oj-form-control-empty-clearicon"),this._processLengthCounterAttr(this.options.length.counter)},_onBlurHandler:function(e){var t=this._wrapper[0],i=e.relatedTarget;i&&i.classList.contains("oj-inputtext-clear-icon-btn")&&i.parentElement&&a.isAncestorOrSelf(t,i.parentElement)?t.classList.add("oj-focus"):this._super(e)},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputtext-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputtext"},_GetTranslationsSectionName:function(){return"oj-inputBase"},_SetInputType:n.EditableValueUtils._SetInputType}),r.__registerWidget("oj.ojTextArea",t.oj.inputBase,{version:"1.0.0",defaultElement:"<textarea>",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"oj-textarea-input",_WIDGET_CLASS_NAMES:"oj-textarea oj-form-control oj-component",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_TEXTAREA_COUNTER_CONTAINER:"oj-textarea-counter-container",_TEXTAREA_COUNTER_EL:"oj-textarea-counter-el",_INPUT_HANDLER_KEY:"input",options:{converter:null,maxRows:0,pattern:"",resizeBehavior:"none",rows:void 0,length:{max:null,countBy:"codePoint",counter:"none"}},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"value":this._filterTextOnValueChange(),this._AfterSetOptionLength(this.options.length)}},_AfterCreate:function(){var e=this._superApply(arguments);void 0===this.options.value&&this._SetDisplayValue(""),this.widget()[0].querySelector("."+this._INPUT_CONTAINER_CLASS).style.resize=this.options.resizeBehavior,this._setupResizeTextareaBind();var t=this.options.maxRows;return-1===t&&this.widget()[0].classList.add("oj-maxrows-neg1"),e},_AfterCreateConverterCached:function(){var e=this._super(),t=this._GetContentElement()[0],i=this.options.maxRows;return!this._textAreaElementNotDisplayed()&&(-1===i||i>t.rows)&&(this._calculateLineHeight(t),this._resizeTextArea()),e},_setOption:function(e,t,i){var n=this._superApply(arguments);if("resizeBehavior"===e)this.widget()[0].querySelector("."+this._INPUT_CONTAINER_CLASS).style.resize=t;else if("value"===e){let e=this._textAreaElementNotDisplayed(),t=this.options.maxRows;!e&&(-1===t||t>this._GetContentElement()[0].rows)&&this._resizeTextArea()}return n},_NotifyAttached:function(){this._super();var e=this.options.maxRows;(-1===e||e>this._GetContentElement()[0].rows)&&this._resizeTextArea()},_onInputHandler:function(e){this._super(e);var t=this._GetContentElement()[0],i=this.options.maxRows;(-1===i||i>t.rows)&&this._resizeTextArea()},_resizeTextArea:function(){if(this._textAreaElementNotDisplayed()||void 0===this._lineHeight)return;const e=this.options.maxRows,t=this._GetContentElement()[0],i=t.rows;t.style.height=0;const n=this._getStylingHeight(t,"padding"),r=this._lineHeight*i+n,a=t.scrollHeight;var s=0;if(-1===e)s=a<r?r:a;else if(e>i){var o=this._lineHeight*e+n;s=a>o?o:a<r?r:a}else s=r;t.style.height=s+"px"},_setupResizeTextareaBind:function(){this._textAreaElementNotDisplayed()||(this._resizeTextareaBind=function(){var e=this._GetContentElement()[0],t=this.options.maxRows;(-1===t||t>e.rows)&&this._resizeTextArea()}.bind(this),window.addEventListener("resize",this._resizeTextareaBind,!1))},_getStylingHeight:function(e,t){var i=window.getComputedStyle(e),n=0;"padding"!==t&&"paddingAndBorder"!==t||(n+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom));"border"!==t&&"paddingAndBorder"!==t||(n+=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth));return n},_calculateLineHeight:function(e){if(!this._textAreaElementNotDisplayed()){var t=window.getComputedStyle(e);if("none"!==t.display){var i=t.lineHeight;switch(i){case"normal":var n=parseFloat(t.fontSize);this._lineHeight=1.2*n;break;default:oveEventListener("resize",this._resizeTextareaBind)},_ReleaseResources:function(){this._super(),this._cleanUpListeners()},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-textarea-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_UseReadonlyDiv:function(){var e=this._super();return e?-1===this.options.maxRows:e},_GetDefaultStyleClass:function(){return"oj-textarea"},_GetTranslationsSectionion(){return this._GetConverter()instanceof Promise},_onKeyUpHandler:function(e){},_onKeyDownHandler:function(e){if((13===e.keyCode||"Enter"===e.key)&&e.altKey){var t=this._GetContentElement()[0],i=t.value,n=i.substring(0,t.selectionStart),r=i.substring(t.selectionEnd);t.value=n+"\r\n"+r;var a=t.value.length-r.length;t.setSelectionRange(a,a),t.blur(),t.focus();var s=this.options.maxRows;(-1===s||s>t.rows)&&this._resizeTextArea(),e.stopPropagation()}},_textAreaElementNotDisplayed:function(){return this._UseReadonlyDiv()&&this.options.readOnly&&-1===this.options.maxRows}})}),define("ojs/ojoptgroup",["ojs/ojcore-base","ojs/ojcomponentcore"],function(e,t){"use strict";function i(e){this.updateDOM=function(){var t=e.element.customOptgroupRenderer;t&&"function"==typeof t&&t(e.element)}}var n;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,(n={properties:{disabled:{type:"boolean",value:!1},label:{type:"string"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).properties.customOptgroupRenderer={},n.extension._CONSTRUCTOR=i,e.CustomElementBridge.register("oj-optgroup",{metadata:n})}),define("ojs/ojlabelvalue",["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel","ojs/ojcore-base"],function(e,t,i,n){"use strict";function r(e){var t,i,n=e.element;this.createDOM=function(){n.classList.add("oj-label-value","oj-form");var e=document.createElement("div");for(e.classList.add("oj-flex"),e.setAttribute("data-oj-context",""),e.setAttribute("data-oj-internal",""),(t=document.createElement("div")).classList.add("oj-flex-item"),t.setAttribute("data-oj-context",""),t.setAttribute("data-oj-internal",""),(i=document.createElement("div")).classList.add("oj-flex-item"),i.setAttribute("data-oj-context",""),i.setAttribute("data-oj-internal","");n.firstElementChild;){var r=n.firstElementChild;switch(r.getAttribute("slot")){case"label":t.appendChild(r);break;case"value":i.appendChild(r),"OJ-FORM-LAYOUT"===r.tagName&&i.classList.add("oj-formlayout-nested-formlayout");break;default:n.removeChild(r)}}e.appendChild(t),e.appendChild(i),n.appendChild(e)},this.updateDOM=function(){var e=function(){for(var e=n.parentElement;e;e=e.parentElement)if(-1!==e.tagName.indexOf("-"))return e;return null}(),r=function(e){var t="top";"inherit"===n.labelEdge?e&&"labelEdge"in e&&(t=e.labelEdge):t=n.labelEdge;return t}(e),a="start"===r?function(e){var t="33%";if("inherit"===n.labelWidth){if(e&&"labelWidth"in e){t=e.labelWidth;var i=t.match(/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/);switch(i[2]){case"vw":case"vmin":case"vmax":case"%":var r=Number(n.getAttribute("data-oj-colspan")),a=n.getAttribute("data-oj-column-gap");r>0&&(t="calc((("+t+" / "+r+") - (("+a+" * ("+(r-1)+") * "+i[1]/r/100+")))")}}}else t=n.labelWidth;return t}(e):"100%",s=function(e){var t="column";e&&"direction"in e&&(t=e.direction);return t}(e);"start"===r?(n.classList.add("oj-formlayout-labels-inline"),n.classList.remove("oj-form-control-label-inside")):"inside"===r?(n.classList.add("oj-form-control-label-inside"),n.classList.remove("oj-formlayout-labels-inline")):(n.classList.remove("oj-formlayout-labels-inline"),n.classList.remove("oj-form-control-label-inside")),"row"===s?n.classList.add("oj-formlayout-form-across"):n.classList.remove("oj-formlayout-form-across"),t.style.flexGrow="0",t.style.flexShrink="1",t.style.flexBasis=a,t.style.width=a,t.style.maxWidth=a,i.style.flex="1 1 0"}}var a;n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,(a={properties:{colspan:{type:"number",value:1},labelEdge:{type:"string",enumValues:["inherit","inside","start","top"],value:"inherit"},labelWidth:{type:"string",value:"inherit"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._CONSTRUCTOR=r,n.CustomElementBridge.register("oj-label-value",{metadata:a})}),define("ojs/ojformlayout",["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcontext","ojs/ojlogger","ojs/ojthemeutils"],function(e,t,i,n,r,a,s,o){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var l={properties:{colspanWrap:{type:"string",enumValues:["nowrap","wrap"]},columns:{type:"number",value:0},direction:{type:"string",enumValues:["column","row"]},labelEdge:{type:"string",enumValues:["inside","start","top"]},labelWidth:{type:"string",value:"33%"},labelWrapping:{type:"string",enumValues:["truncate","wrap"],value:"wrap"},maxColumns:{type:"number",value:1},readonly:{type:"boolean",value:!1},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"efficient"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};Object.freeze(l);var u=0;const d="oj-form-layout-option-defaults";function c(e){var t=this,i=e.element,l="data-oj-formlayout-bonus-dom";const c="oj-formlayout-labels-nowrap";var h,p,_,f,m,v=!0,g=!1;function b(e){i.columns<1&&"row"===i.direction&&r.addResizeListenerEdge||"inside"===e.labelEdge||"none"===e.labelEdge}function S(e){var t=null;return C(e)||e instanceof Element&&"labelHint"in e&&""!==e.labelHint&&(K(e),t=function(e){let t=e.labelledBy;if(t){document.getElementById(t)&&s.error("The oj-form-layout descendent component with id "+e.id+' has both label-hint and labelled-by. Remove labelled-by="'+t+'" since no matching element was found in the document, and a label will be created using the label-hint.')}var i=document.createElement("oj-label");i.setAttribute(l,""),i.setAttribute("data-oj-internal",""),i.setAttribute("data-oj-binding-provider","none"),i.setAttribute("data-oj-context","");var n=document.createElement("span");n.id=e.id+"|hint",n.textContent=e.labelHint,Y(e)&&R(e,i);return i.appendChild(n),function(e,t){var i=e,n=t;i.id=n.id+"-labelled-by",i.setAttribute("for".addEventListener("userAssistanceDensityChanged",I)}(e)),t}function O(e){var t=e.target,i=document.getElementById(t.id+"|hint");i&&(i.textContent=e.detail.value)}function A(e){var t=e.target,i=T(t);let n=e.detail.value;if(i){w(t)&&(i.help=n)}}function j(e){var t=e.target,i=T(t);if(i){let n;n=!!e.detail.value&&w(t),i.showRequired=n}}function I(e){let t=e.target,i=e.detail.value,n=e.detail.previousValue;if("compact"!==i&&"compact"!==n)return;let r=T(t);if(Y(t))R(t,r);else{t.required&&(r.showRequired=!1);const e=t.helpHints;e&&(e.definition||e.source)&&(r.help={definition:null,source:null})}}function w(e){let t="use"===o.parseJSONFromFontFamily("oj-form-control-option-defaults").useUserAssistanceOptionDefault?e.userAssistanceDensity:"displayOptions";return"compact"===t||"displayOptions"===t}function T(e){return"labelledBy"in e?document.getElementById(e.labelledBy):i.querySelector('oj-label[for="'+e.id+'"]')}function R(e,t){var i=t,n=e.helpHints;let r;n&&(n.definition||n.source)&&(i.help=n),r=!!e.required&&w(e),i.showRequired=r}function L(){return"column"===i.direction||1===m}function P(e,t){if(!L()){for(var i,n=t.previousSibling;n&&1!==n.nodeType;)i=n,n=n.previousSibling;for(;i&&i!==t;)n=i.nextSibling,e.appendChild(i),i=n}}function D(e){if(!L())for(;e.nextSibling;){var t=e.nextSibling;if(1===t.nodeType)break;if(8===t.nodeType&&0===t.textContent.trim().indexOf("oj-bind-"))break;e.appendChild(t)}}function x(e,t){e&&D(e);var i=B("oj-flex");return t.parentElement.insertBefore(i,t),P(i,i),i}function N(){let e=i.maxColumns;const t=i.columns;if(t>0)e=t,i.classList.add("oj-form-layout-no-min-column-width");else if(i.classList.remove("oj-form-layout-no-min-column-width"),"row"===i.direction&&!W()){let t=parseFloat(window.getComputedStyle(_).columnWidth);if(!isNaN(t)){let n=parseFloat(window.getComputedStyle(i.parentElement).width),r=Math.max(Math.floor(n/t),1);r<e&&(e=r)}}return e}function M(e,t){var n=1;if("column"===i.direction)return"100%";e&&"colspan"in e&&e.colspan&&(n=Math.min(Math.floor(e.colspan),t));let r=o.parseJSONFromFontFamily(d).columnGap,a="calc(((100% / "+m+") - (("+r+" * ("+(m-1)+") / "+m+"))"+(W()?" - 0.1px":"")+")";return n>1&&(a+=" * "+n+" + ("+r+" * "+(n-1)+")"),a+=")",a}function V(e,t){var i=B("oj-flex-item");return i.style.flexGrow="0",i.style.flexShrink="1",i.style.flexBasis=t,i.style.width=t,i.style.maxWidth=t,e.appendChild(i),i}function F(e,t){var n=t%m,r=M();if("column"!==i.diret=B("oj-formlayout-column-gutter");e.appendChild(t)}function k(e,t,n,r){var a=M(e,r);P(n,e);var s=B("oj-flex-item");if(n.appendChild(s),s.appendChild(e),t)if(s.style.flexGrow="1",s.style.flexShrink="1",s.style.flexBasis=a,s.style.width=a,s.style.maxWidth=a,"OJ-FORM-LAYOUT"===t.tagName&&s.classList.add("oj-formlayout-nested-formlayout"),"start"===i.labelEdge){s.style.display="flex";let n=B("oj-formlayout-inline-label"),r=B("oj-formlayout-inline-value");n.style.flexGrow="0",n.style.flexShrink="0",n.style.flexBasis=i.labelWidth,n.style.width=i.labelWidth,n.style.maxWidth=i.labelWidth,n.appendChild(e),s.appendChild(n),r.style.flexGrow="1",r.style.flexShrink="1",r.style.flexBasis="calc(100% - "+i.labelWidth+")",r.style.width=r.style.flexBasis,r.style.maxWidth=r.style.flexBasis,r.appendChild(t),s.appendChild(r)}else s.appendChild(t);else if("labelHint"in e&&C(e))s.style.flexGrow="1",s.style.flexShrink="1",s.style.flexBasis=a,s.style.width=a,s.style.maxWidth=a,s.appendChild(e);else if(s.appendChild(e),s.style.flexGrow="1",s.style.flexShrink="1",s.style.flexBasis=a,s.style.width=a,s.style.maxWidth=a,s.classList.add("oj-formlayout-no-label-flex-item"),"OJ-LABEL-VALUE"===e.tagName){let t=o.parseJSONFromFontFamily(d).columnGap;s.classList.add("oj-formlayout-nested-labelvalue"),e.setAttribute("data-oj-colspan",r),e.setAttribute("data-oj-column-gap",t),e.refresh()}else"OJ-FORM-LAYOUT"===e.tagName&&s.classList.add("oj-formlayout-nested-formlayout");D(n)}function B(e){var t=document.createElement("div");return t.setAttribute(l,""),t.setAttribute("data-oj-internal",""),t.classList.add(e),t}function U(e){for(var t=e,n=!0;t!==i;){if("OJ-FORM-LAYOUT"===t.tagName){n=!1;break}if(null==(t=t.parentElement)){n=!1;break}}return n}function G(e){for(;e.firstChild;){var t=e.firstChild;e.parentNode.insertBefore(t,e)}e.parentNode.removeChild(e)}function K(e){var t=e;t.id||(t.id="oflId_"+u,u+=1)}function W(){var e=n.AgentUtils.getAgentInfo();return"ie"===e.browser&&11===e.browserVersion}function Y(e){let t=o.parseJSONFromFontFamily("oj-form-control-option-defaults"),i="displayOptions";if(t){i="use"===t.useUserAssistanceOptionDefault?e.userAssistanceDensity:"displayOptions"}return"compact"===i||"displayOptions"===i}function q(e){var t=o.parseJSONFromFontFamily(d)||{};e?(e.props.labelEdge||(i.labelEdge=t.labelEdge),e.props.colspanWrap||(i.colspanWrap=t.colspanWrap),e.props.direction||(i.direction=t.direction)):(i.labelEdge||(i.labelEdge=t.labelEdge),i.colspanWrap||(i.colspanWrap=t.colspanWrap),i.direction||(i.direction=t.direction))}q(e),t._rootElementMutationObserver=new MutationObserver(function(e){document.body.contains(i)?(!function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if("childList"===r.type)for(var a=r.addedNodes.length,s=0;s<a;s++){var o=r.addedNodes[s];o.parentNode===i&&_.appendChild(o)}}}(e),function(e){for(var t=!0,n=e.length,r=["colspan","label-hint"],a=0;a<n;a++){var s=e[a];if("childList"===s.type&&((o=s.target)===i||o&&"DIV"===o.tagName&&o.hasAttribute(l))&&U(s.target)){t=!1;break}if("attributes"===s.type&&r.includes(s.attributeName)){t=!1;break}}var o;return t}(e)||(!function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];if("childList"===n.type)for(var r=n.removedNodes.length,a=0;a<r;a++){var s=n.removedNodes[a];1===s.nodeType&&(s.removeEventListener("labelHintChanged",O),s.removeEventListener("helpHintsChanged",A),s.removeEventListener("requiredChanged",j),s.removeEventListener("userAssistanceDensityChanged",I))}}}(e),i.refresh())):this.disconnect()}),t._resizeHandler=function(e,t){N()!==m&&i.refresh()},this.createDOM=function(){i.classList.add("oj-form-layout"),(_=document.createElement("div")).classList.add("oj-form"),_.setAttribute("data-oj-context",""),_.setAttribute("data-oj-internal",""),_.setAttribute(l,""),i.readonly?_.classList.remove("oj-enabled"):_.classList.add("oj-enabled");for("efficient"===i.userAssistanceDensity?_.classList.add("oj-efficient"):_.classList.remove("oj-efficient");i.firstChild;)_.appendChild(i.firstChild);i.appendChild(_)},t.handlePropertyChanged=function(e,t){switch(e){case"readonly":return i.readonly?_.classList.remove("oj-enabled"):_.classList.add("oj-enabled"),!0;case"userAssistanceDensity":{const e="oj-efficient";return"efficient"===i.userAssistanceDensity?_.classList.add(e):_.classList.remove(e),!0}case"labelWrapping":return"truncate"===i.labelWrapping?_.classList.add(c):_.classList.remove(c),!0;default:return!1}},this.updateDOM=function(){function e(){!function(){if(!p){var e=a.getContext(i).getBusyContext(),t={description:"The oj-form-layout component with id = '"+i.id+"' is being rendered."};p=e.addBusyState(t)}}(),q(),f=[],a.getContext(_).getBusyContext().whenReady().then(function(){var e,o=document.activeElement,l=!1;!function(){if(!h){var e=a.getContext(_).getBusyContext(),t={description:"The oj-form div for oj-form-layout component with id = '"+i.id+"' is being rendered."};h=e.addBusyState(t)}}(),t._rootElementMutationObserver.disconnect(),(e=_)&&t._resizeHandler&&r.removeResizeListener(e,t._resizeHandler),function(){var e;if("start"===i.labelEdge){var t=parseInt(i.labelWidth,10);(isNaN(t)||t>0)&&_.classList.add("oj-form-cols-labels-inline"),i.classList.add("oj-formlayout-labels-inline"),_.classList.remove("oj-form-cols")}else _.classList.add("oj-form-cols"),_.classList.remove("oj-form-cols-labels-inline"),i.classList.remove("oj-formlayout-labels-inline");"truncate"===i.labelWrapping?_.classList.add(c):_.classList.remove(c);let n=m;if((m=N())!==n){var r="oj-formlayout-max-cols-"+m,a=i.className;-1!==a.indexOf("oj-formlayout-max-cols-")?i.className=a.replace(/oj-formlayout-max-cols-[\d+]/,r):i.classList.add(r)}"row"===i.direction?(e=1,_.classList.add("oj-formlayout-form-across")):(e=m,_.classList.remove("oj-formlayout-form-across"));_.style.columnCount=e,_.style.webkitColumnCount=e,_.style.MozColumnCount=e}(),v||function(){for(var e=_.querySelectorAll("[data-oj-formlayout-bonus-dom]"),t=e.length,i=0;i<t;++i){var n=e[i];U(n)&&("OJ-LABEL"===n.tagName?(n.for="",n.parentElement.removeChild(n)):G(n))}}(),function(){var e=_.firstElementChild,t=0,n="column"===i.direction;for(;e;){var r=e.tagName.toLowerCase();if(-1!==r.indexOf("-"))if("oj-label"===r){var a=e;if(!(e=e.nextElementSibling))throw K(i),K(a),E(),y(),new Error("oj-form-layout component with id='"+i.id+"' has an oj-label child element with id='"+a.id+"' but has no next sibling element that it is associated with.")}else"oj-label-value"===r?v||e.refresh():e.classList.contains("oj-complete")?S(e):((n||t%m==0)&&e.setAttribute("data-oj-needs-oj-flex-div",""),f.push(e));t+=1,e=e.nextElementSibling}}(),function(){var e,t=[],n=_.children.length,r="column"===i.direction,a=0,o=0;!function(e,t){for(var i=t,n=e.length-1;n>=0;n--)i[n]=e[n]}(_.children,t);var l,u=0,d=!1,c=!1;for(;a<n;){var h=t[a];if(l=1,(r||o%m==0)&&(e=x(e,h)),-1===f.indexOf(h))if("oj-label"===h.tagName.toLowerCase())k(h,t[a+=1],e);else if("labelHint"in h&&C(h))k(h,null,e);else{if("colspan"in h&&h.colspan>1)if(r)d||(s.error('Colspan attribute is ignored unless direction is set to "row"'),d=!0);else{var p=m-u;l=Math.floor(h.colspan),"wrap"===i.colspanWrap&&p<l&&u>0?(F(e,o),o+=p,l=Math.min(l,m),e=x(e,h)):l=Math.min(l,p),!c&&m>1&&(c=!0)}k(h,null,e,l)}o+=l,r||o%m==0||H(e),u=o%m,a+=1}c&&!r?_.classList.add("oj-form-control-full-width"):_.classList.remove("oj-form-control-full-width");F(e,o)}(),n.Components&&n.Components.subtreeAttastorOrSelf(i,o)),l&&setTimeout(function(){o.focus()},0),b(_),t._rootElementMutationObserver.observe(i,{childList:!0,subtree:!0,attributes:!0}),v&&(v=!1),E(),y()})}var o;g||(!(v||!i.hasAttribute("data-oj-context"))&&!(o=a.getContext(i).eady()?(g=!0,o.whenReady().then(function(){g=!1,e()})):e())}}c.getDynamicDefaults=function(){var e=o.parseJSONFromFontFamily(d)||{};return{labelEdge:e.labelEdge,direction:e.direction}},l.extension._CONSTRUCTOR=c,l.extension._TRACK_CHILDREN="nearestCustomElement",n.CustomElementBridge.register("oj-form-layout",{metadata:n.CollectionUtils.mergeDeep(l,{properties:{readonly:{binding:{provide:[{name:"containerReadonly"},{name:"readonly"}],consume:{name:"containerReadonly"}}},userAssistanceDensity:{binding:{provide:[{name:"containerUserAssistanceDensity",default:"efficient"},{name:"userAssistanceDensity",default:"efficient"}],consume:{name:"containerUserAssistanceDensity"}}},labelEdge:{binding:{provide:[{name:"containerLabelEdge"},{name:"labelEdge",transform:{top:"provided",start:"provided"}}],consume:{name:"containerLabelEdge"}}}}})})}),define("ojs/ojradiocheckbox",["ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojcomponentcore"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e.__registerWidget("oj._ojRadioCheckbox",t.oj.baseComponent,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",his.$label=this._getLabelsForElement()),this.$label},refresh:fun},refreshDisabledd",e),this.$choiceItem.toggleClass("oj-selected",e)},widget:function(){return this.uiRadioCheckbox},_InitOptions:function(e,t){var i,n;if(this._super(e,t),"checked"in t||(this.initCheckedFromDom=!0,i=!!this.element.prop("checked"),this.option("checked",i,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.checked)throw new Error("checked option must be a boolean");if("disabled"in t||(n=!!this.element.prop("disabled"),this.option("disabled",n,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.disabled)throw new Error("disabled option must be a boolean");"type"in t||this.option("type",this.element.prop("type"),{_context:{internalSet:!0}})},_ComponentCreate:function(){this._super();var e=this.options.type;"checkbox"===e?(this.uiRadioCheckbox=this.element.addClass("oj-checkbox oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-checkbox-label")):"radio"===e&&(this.uiRadioCheckbox=this.element.addClass("oj-radio oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-radio-label")),this.$choiceItem=this._getChoiceItem();var i=document.createElement("span");i.setAttribute("class","oj-radiocheckbox-icon oj-component-icon"),this.element.wrapAll(i);this._focusable(this.element),this._AddHoverable(this.$choiceItem),this._AddActiveable(this.$choiceItem),this._focusable({element:this.$choiceItem,applyHighlight:!0}),this._AddHoverable(this.$label)<span class='oj-radiocheckbox-lautes:function(e){thhis._savedClasses):this.element.removeAttr("class")},_setup:function(){this._renderDisabled(),this.initCheckedFromDom||this._setCheckedOnDom(this.options.checked),this.options.checked&&this.setSelectedClass(this.options.checked)},_setCheckedOnDom:function(e){e=!!e,this.element.prop("checked",e)},_renderDisabled:function(){this._IsEffectivelyDisabled()?(this.element.prop("disabled",!0).removeAttr("aria-disabled").removeClass("oj-enabled").addClass("oj-disabled"),this.$label.removeClass("oj-enabled").addClass("oj-disabled"),this.$choiceItem.removeClass("oj-enabled").addClass("oj-disabled")):(this.element.prop("disabled",!1).removeAttr("aria-disabled").removeClass("oj-disabled").addClass("oj-enabled"),this.$label.addClass("oj-enabled").removeClass("oj-disabled"),this.$choiceItem.addClass("oj-enabled").removeClass("oj-disabled"))},_setOption:function(e,t){this._superApply(arguments),"disabled"===e&&(t=!!t,this._renderDisabled(t)),"checked"===e&&(this._setCheckedOnDom(t),this.setSelectedClass(t))},_getLabelsForElement:function(){var e,n=this.element.closest("label"),r="label[for='"+this.element.prop("id")+"']",a=t(r);return 0!==n.length&&i.error("Found a label that is an input's ancestor. This is not supported in the ojCheckboxset or ojRadioset component and the component will\nnot work correctly. Use a label as a sibling to the input and use the label 'for' attribute to tie the two together."),0===(a=a.not(n)).length&&(e=this.element.siblings(r),a=a.add(e)),a},_getChoiceItem:function(){var e,t,n,r=null;return(e=this.element.parent())&&(e.hasClass("oj-choice-item")||e.hasClass("oj-choice-row")||e.hasClass("oj-choice-row-inline"))?r=e:(i.warn("The radioset/checkboxset's input and label dom should be wrapped in a dom node with class 'oj-choice-item'. JET is adding this missing dom to make the component work correctly."),"<span class='oj-choice-item oj-choice-item-added'></span>",t="label[for='"+this.element.attr("id")+"']",0!==(n=this.element.siblings().filter(t)).length?(this.element.add(n).wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),r=this.element.parent()):(this.element.wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),r=this.element.parent())),r},getNodeBySubId:function(e){var t=this._super(e);if(!t){var i=e.subId;"oj-radiocheckbox-input"===i&&(t=this.element[0]),"oj-radiocheckbox-label"===i&&(t=this.label()[0])}return t||null},_destroy:function(){var e=this._super();this._RemoveHoverable(this.$choiceItem),this._RemoveActiveable(this.$choiceItem),this._RemoveHoverable(this.$label),this._RemoveActiveable(this.$label);var i=this.options.type;"checkbox"===i?this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-checkbox-label"):"radio"===i&&this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-radio-label"),this.$choiceItem.removeClass("oj-enabled oj-disabled oj-selected");return t.each(this.$label,function(){var e=this.getElementsByClassName("oj-radiocheckbox-label-text");void 0!==e&&t(e[0].childNodes[0]).unwrap()}),this.element.unwrap(),this.$choiceItem.hasClass("oj-choice-item-added")&&this.element.unwrap(),this.$choiceItem=null,this.$label=null,e}});const r={};e._registerLegacyNamespaceProp("RadioCheckboxUtils",r),r.renderOptions=function(){var e=this._optionsDataArray,t=this.element[0];if(e){var i="OJ-RADIOSET"===t.tagName?"oj-radioset-wrapper":"oj-checkboxset-wrapper",r=t.querySelector("."+i),a=r.querySelectorAll(".oj-choice-item");for(let e=0;e<a.length;e++){let t=a[e];t.parentNode.removeChild(t)}a=r.querySelectorAll("oj-option");for(let e=0;e<a.length;e++){let t=a[e];t.parentNode.removeChild(t)}var s=this.options.optionRenderer,o=this.options.optionsKeys,l=o&&o.value?o.value:"value";"function"!=typeof s&&(s=function(e){var t=o&&o.label?o.label:"label",i=document.createElement("oj-option");return i.value=e.data[l],i.textContent=e.data[t],i.disabled=e.data.disabled,i});for(let i=0;i<e.length;i++){var u={component:t,index:i,data:e[i]},d=s(u);d&&"OJ-OPTION"===d.tagName&&(d.hasAttribute("data-oj-binding-provider")||d.setAttribute("data-oj-binding-provider","none"),null!==d.value&&void 0!==d.value||(d.value=u.data[l]),r.appendChild(d),n.subtreeAttached(d))}this.refresh()}},r.generateOptionsFromData=function(){var t=this.options.options;if(r.removeDataListener.call(this),t&&e.DataProviderFeatureChecker.isDataProvider(t)){var i,n={description:'The component identified by "'+this.element[0].id+'" is fetching data'},a=e.Context.getContext(this.element[0]).getBusyContext().addBusyState(n);this._clientId=this._clientId||Symbol(),this._optionsDataArray=[];var s=t.fetchFirst({clientId:this._clientId})[Symbol.asyncIterator](),o=this,l=function(e){var t;if(e&&e.value){var n=e.value;for(i=0;i<n.data.length;i++)o._optionsDataArray.push(n.data[i]);e.done||ll(o),r.addDataListener.call(o),a()},function(){a()})}},r.addDataListener=function(){r.removeDataListener.call(this),this.options.options&&e.DataProviderFeatureChecker.isDataProvider(this.options.options)&&(this._optionsDataProvider=this.options.options,this._optionsDataListener=r.generateOptionsFromData.bind(this),this._optionsDataProvider.addEventListener("refresh",this._optionsDataListener),this._optionsDataProvider.addEventListener("mutate",this._optionsDataListener))},r.removeDataListener=function(){this._optionsDataListener&&(this._optionsDataProvider.removeEventListener("refresh",this._optionsDataListener),this._optionsDataProvider.removeEventListener("mutate",this._optionsDataListener),this._optionsDataProvider=null,this._optionsDataListener=null)}}),define("ojs/ojcheckboxset",["ojs/ojcomponentcore","ojs/ojeditablevalue","ojs/ojradiocheckbox","ojs/ojoption","ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojtranslation","ojs/ojlabelledbyutils"],function(e,t,i,n,r,a,s,o,l){"use strict";var u,d;r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,(u={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},optionRenderer:{type:"function"},options:{type:"object"},optionsKeys:{type:"object",properties:{label:{type:"string"},value:{type:"string"}}},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{readonlyNoValue:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"Array<any>",writeback:!0,value:[]}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojCheckboxset",u.extension._ALIASED_PROPS={readonly:"readOnly"},u.extension._TRACK_CHILDREN="immediate",r.CustomElementBridge.register("oj-checkboxset",{metadata:r.CollectionUtils.mergeDeep(u,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),d={doValueChangeCheck:!1},r.__registerWidget("oj.ojCheckboxset",a.oj.editableValue,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",_WRAPPER_CLASS_NAMES:"oj-checkboxset-wrapper oj-form-control-container",options:{disabled:!1,labelledBy:null,readOnly:!1,optionRenderer:null,options:null,optionsKeys:{},required:!1,value:[]},refresh:function(){this._super(),this._setup()},widget:function(){return this.uiCheckboxset},validate:t.EditableValueUtils.validate,_InitOptions:function(e,i){var n,r,s=[];this._super(e,i),this._IsCustomElement()||t.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"title"},{attribute:"required",coerceDomValue:!0,validateOption:!0}],i,this),this._IsCustomElement()?this._checkValueType(this.options.value):void 0===i.value?(this.$checkboxes=this._findCheckboxesWithMatchingName(),(n=th.length>0&&(n.each(function(){s.push(a(this).val())}),r=s,this.option("value",r,{_context:{writeback:!0,internalSet:!0}})),void 0===this.options.value&&(this.options.value=[])):this._checkValueType(this.options.value)},_ComponentCreate:function(){const e=this.element;if(this._super(),e.is("fieldset"))throw new Error("ojCheckboxset cannot be bound to a fieldset. Use a div instead.");e.uniqueId(),this._externalTabIndex=this.element.attr("tabindex")||0,this.element.removeAttr("tabindex"),r.RadioCheckboxUtils.generateOptionsFromData.call(this),this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes._ojRadioCheckbox().attr("data-oj-internal",""),this.uiCheckboxset=e.addClass("oj-checkboxset oj-component").attr("role","group");const t=e.contents().filter(function(){return!(this.getAttribute&&"contextMenu"===this.getAttribute("slot"))});t.length>0?t.wrapAll(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`):e.append(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`),this.options.readOnly&&this.element[0].querySelector(".oj-checkboxset-wrapper").setAttribute("tabindex",this._externalTabIndex),this._on(this._events),this._setup()},_ResetComponentState:function(){this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes.filter(".oj-checkbox").each(function(){var e=void 0!==a(this).attr("disabled")&&!!a(this).prop("disabled");a(this)._ojRadioCheckbox("option","disabled",e)}),this.$checkboxes.not(".oj-checkbox")._ojRadioCheckbox()},GetFocusElement:function(){return this._GetContentEl:disabled").first()[0]},_SetDisabledDom:function(){},_IsRequired:function(){return this.options.required},_refreshRequired:t.EditableValueUtils._refreshRequired,_processOjOptions:function(){if(this._IsCustomElement()){var e,t,i=this.element[0],n=i.querySelector(".oj-checkboxset-wrapper"),r=this._customOptionRenderer.bind(this),a=this.element.children("oj-option").add(this.element.children(".oj-checkboxset-wrapper").find("oj-option")),s=function(e,t){for(var i=e.slice(0),n=t.length-1,r=i.length-1;r>0&&n>-1;){var a=t[n].value,s=i[r];if(a!==s){var o=i.indexOf(a);o>-1&&(i[o]=s,i[r]=a,r-=1),n-=1}else r-=1,n-=1}return i}(this.options.value,a),o=s.length;n||(n=i);var l=i.querySelector("[data-no-value-span]");if(l)(o>0||!this.options.readOnly)&&l.parentElement.removeChild(l);else if(0===o&&this.options.readOnly){var u=document.createElement("span");u.setAttribute("data-no-value-span",""),u.setAttribute("class","oj-choice-item"),u.setAttribute("aria-readonly",!0);var d=this.getTranslatedString("readonlyNoValue");null!==d&&(u.textContent=d),n.appendChild(u)}for(e=0,t=a.length;e<t;e++)a[e].customOptionRenderer=r,this.options.readOnly?this._processReadonlyOptions(a[e],s):this._initInputLabelFromOjOption(a[e])}},_processReadonlyOptions:function(e,t){const i=e.value,n=t.length,r=this.element.get(0),s=a(e).parentsUntil(r,"span.oj-choice-item").get(0);if(null==s?e.classList.add("oj-helper-hidden"):s.classList.add("oj-helper-hidden"),n>0){var o=t.indexOf(i);if(o>-1){var l=o===n-1;this._initReadonlyLabelFromOjOption(e,s,l)}else null!=s&&s.removeAttribute("aria-readonly")}else null!=s&&s.removeAttribute("aria-readonly")},_initInputLabelFromOjOption:function(e){var t,i,n=e;a(n).uniqueId();var r=n.getAttribute("id"),s=r+"|cb",o=document.getElementById(s);if(null!==o){i=n;do{i=i.parentElement}while(i&&"LABEL"!==i.tagName);if(i&&(n.textContent&&""!==n.textContent?i.classList.remove("oj-helper-hidden"):i.classList.add("oj-helper-hidden")),!this.options.readOnly){var l=n;do{l=l.parentElement}while(l&&!l.classList.contains("oj-choice-item"));l&&l.classList.contains("oj-helper-hidden")&&l.classList.contains("oj-choice-item")&&"SPAN"===l.tagName&&l.classList.remove("oj-helper-hidden"),n&&n.classList.contains("oj-helper-hidden")&&n.classList.remove("oj-helper-hidden"),o&&o.parentElement.classList.contains("oj-helper-hidden")&&o.parentElement.classList.remove("oj-helper-hidden")}}else(o=document.createElement("input")).setAttribute("type","checkbox"),o.setAttribute("value",n.value),o.setAttribute("id",s),o.setAttribute("tabindex",this._externalTabIndex),"LABEL"===n.parentElement.nodeName?((i=n.parentElement).parentElement.insertBefore(o,i),i.parentElement.removeAttribute("aria-readonly"),i.parentElement.classList.remove("oj-helper-hidden")):(t=document.createElement("span"),i=document.createElement("label"),t.setAttribute("class","oj-choice-item"),n.parentElement.insertBefore(t,n),t.appendChild(o),t.appendChild(i),i.appendChild(n)),i.setAttribute("for",s),n.textContent&&""!==n.textContent||i.classList.add("oj-helper-hidden"),n.classList.remove("oj-helper-hidden");var u=this.element[0].id,d=n.getAttribute("aria-label"),c=n.getAttribute("aria-labelledby"),h=i.querySelector("span[data-oj-internal]");h&&h.parentElement.removeChild(h),o.setAttribute("data-oj-option-id",r),u&&""!==u?o.setAttribute("name",u):o.removeAttribute("name"),d&&""!==d?o.setAttribute("aria-label",d):o.removeAttribute("aria-label"),c&&""!==c?o.setAttribute("aria-labelledby",c):o.removeAttribute("aria-labelledby"),n.disabled?o.setAttribute("disabled",!0):o.removeAttribute("disabled")},_initReadonlyLabelFromOjOption:function(e,t,i){function n(e,t){var i=e.querySelector("span[data-oj-internal]");if(t&&!i){var n=o.getTranslatedString("oj-converter.plural-separator");(i=document.createElement("span")).setAttribute("data-oj-internal",""),i.textContent=n,e.appendChild(i)}else!t&&i&&i.parentElement.removeChild(i)}var r=document.createElement("label"),s=e,l=this.element.hasClass("oj-choice-direction-row"),u=l&&!i;if(t){a(s).uniqueId();var d=s.getAttribute("id")+"|cb",c=document.getElementById(d);if(null!==c){c.parentElement.classList.add("oj-helper-hidden");var h=c.parentElement.nextElementSibling;null!==h&&(r.appendChild(s),c.classList.contains("oj-checkbox")&&a(c)._ojRadioCheckbox("destroy"),t.removeChild(h.previousSibling),t.removeChild(h),t.appendChild(r))}t.classList.remove("oj-helper-hidden"),t.setAttribute("aria-readonly",!0),n(s.parentElement,u)}else{e.classList.remove("oj-helper-hidden");var p=document.createElement("span");s.parentElement.insertBefore(p,s),p.setAttribute("class","oj-choice-item"),r.appendChild(s),n(r,u),l||r.setAttribute("class","oj-checkbox-label"),p.appendChild(r),p.setAttribute("aria-readonly",!0)}},_customOptionRenderer:function(e){var t=e,i=t.getAttribute("id")+"|cb",n=document.getElementById(i);null!==n&&n.classList.contains("oj-checkbox")&&a(n)._ojRadioCheckbox("option","disabled",t.disabled)},_labelledByUpdatedForSet:l._labelledByUpdatedForSet,_findCheckboxesWithMatchingName:function(){var e,t,i=this.element.find("input[type=checkbox]:first");return 0===i.length&&s.warn("Could not find any input type=checkbox within this element"),void 0===(e=i.attr("name"))?this.element.find("input[type=checkbox]").not("[name]"):(t='input[type=checkbox][name="'+e+'"]',this.element.find(t))},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find("input[type=checkbox]:tabbable").first();this._OpenContextMenu(t,i,{launcher:n})},_GetMessagingLauncherElement:function(){return this.widget()},_setup:function(){this._propagateDisabled(this.options.disabled),null!==this.$checkboxes&&(1===this.$checkboxes.length?this.element.addClass("oj-checkboxset-single"):this.element.removeClass("oj-checkboxset-single")),this.options.readOnly?this.element.addClass("oj-read-only"):this.element.removeClass("oj-read-only"),this.element.hasClass("oj-choice-direction-column")||this.element.hasClass("oj-choice-direction-row")||this.element.addClass("oj-choice-direction-column"),this._refreshRequired(this.options.required);var e=this.widget();this._labelledByUpdatedForSet(e[0].id,null,this.options.labelledBy,e)},_events:{change:function(e){this._HandleChangeEvent(e)},"click .oj-checkboxset-wrapper":function(e){this.widget()[0].classList.contains("oj-choice-direction-row")||"INPUT"===e.target.tagName||a(e.target).find("input").click()}},_checkValueType:function(e){null==e?this.option("value",[],{_context:{writeback:!0,internalSet:!0}}t on JET Checkboxset: "+e+".It must be an Array. ")},_HandleChangeEvent:function(e){var t,i;(i=this.$checkboxes).length>0&&i.each(function(){this===e.target&&a(this)._ojRadioCheckbox("setSelectedClass",e.target.checked)}),t=this._GetDisplayValue(),this._SetValue(t,e,d)},_GetDisplayValue:function(e){return this._GetElementValue()},_SetDisplayValue:function(e){var t,i,n,r,s=this.$checkboxes.length;if(this._checkValueType(e),null==e||0===e.length)this.$checkboxes._ojRadioCheckbox("option","checked",!1);else for(t=0;t<s;t++){n=this.$checkboxes[t],r=a(n),i=this._GetOptionValue(n);var o=this._GetOptionIndex(e,i),l=r._ojRadioCheckbox("option","checked");-1!==o?l||r._ojRadioCheckbox("option","checked",!0):l&&r._ojRadioCheckbox("option","checked",!1)}},_GetElementValue:function(){var e=this,t=[],i=this.$checkbox:(i.each(function(){t.push(e._GetOptionValue(this))}),t)},_GetOptionIndex:function(e,t){var i,n=e.indexOf(t);if(-1===n){i=e.length;for(var a=0;a<i;a++)if(r.Object.compareValues(e[a],t)){n=a;break}}return n},_GetOptionValue:function(e){var t,i;return this._IsCustomElement()?(t=document.getElementById(e.getAttribute("data-oj-option-id")))&&(i=t.value):i=e.value,i},_GetDefaultStyleClass:function(){return"oj-checkboxset"},_GetContentElement:function(){return null!=this.$checkboxes||(this.$checkboxes=this._findCheckboxesWithMatchingName()),this.$checkboxes},_AriaRequiredUnsupported:function(){return!0},_ShowHelpHintsLocation:function(){return"above"},_AfterSetOptionRequired:t.EditableValueUtils._AfterSetOptionRequired,_propagateDisabled:function(e){var t=!!e;this.$checkboxes.each(function(){a(this).data("oj-_ojRadioCheckbox").__setAncestorComponentDisabled(t)}),this.$checkboxes._ojRadioCheckbox("refreshDisabled")},_setOption:function(e,t,i){var n=this.options.labelledBy;switch(this._super(e,t,i),e){case"disabled":this._propagateDisabled(t);break;case"readOnly":this.options.readOnly=!!t;var a=this.element[0].querySelector(".oj-checkboxset-wrapper"),s=this.options.value;this.options.readOnly?(a.setAttribute("tabindex",this._externalTabIndex),this.element.addClass("oj-read-only")):(a.removeAttribute("tabindex"),this.element.removeClass("oj-read-only")),this._ResetComponentState(),null!=s&&this._SetDisplayValue(s);break;case"value":this._processOjOptions();break;case"labelledBy":var o=this.widget();this._labelledByUpdatedForSet(o[0].id,n,t,o);break;case"options":r.RadioCheckboxUtils.generateOptionsFromData.call(this);break;case"optionsKeys":case"optionRenderer":r.RadioCheckboxUtils.renderOptions.call(this)}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e)}},getNodeBySubId:function(e){var t,i,n=this._super(e);if(!n)switch(t=this.$checkboxes.get(),e.subId){case"oj-checkboxset-inputs":n=t;break;case"oj-checkboxset-checkbox":if(void 0!==(i=e.value)){var r,a,s=t.length,o=[];for(r=0;r<s;r++)o[r]=this._GetOptionValue(t[r]);-1!==(a=this._GetOptionIndex(o,i))&&(n=t[a])}}return n||null},getSubIdByNode:function(e){for(var t=this._GetContentElement()[0].parentElement.parentElement.parentElement,i=e;i&&i!==t;){if("LABEL"===i.nodeName&&(i=document.getElementById(i.for)),"INPUT"===i.nodeName)return{subId:"oj-checkboxset-checkbox",value:this._GetOptionValue(i)};i=i.parentElement}return this._super(e)},_destroy:function(){var e=this._super(),t=this.element[0].firstElementChild;return this.$checkboxes&&this.$checkboxes._ojRadioCheckbox("destroy"),a(t).contents().unwrap(),r.RadioCheckboxUtils.removeDataListener.call(this),e}})}),define("ojs/ojradioset",["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojeditablevalue","ojs/ojradiocheckbox","ojs/ojoption","ojs/ojdataprovider","ojs/ojcore-base","ojs/ojlogger","ojs/ojlabelledbyutils"],function(e,t,i,n,r,a,s,o,l,u){"use strict";var d,c;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,(d={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},optionRenderer:{type:"function"},options:{type:"object"},optionsKeys:{type:"object",properties:{label:{type:"string"},value:{type:"string"}}},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{readonlyNoValue:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojRadioset",d.extension._ALIASED_PROPS={readonly:"readOnly"},d.extension._TRACK_CHILDREN="immediate",o.CustomElementBridge.register("oj-radioset",{metadata:o.CollectionUtils.mergeDeep(d,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),c={doValueChangeCheck:!1},o.__registerWidget("oj.ojRadioset",t.oj.editableValue,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",_WRAPPER_CLASS_NAMES:"oj-radioset-wrapper oj-form-control-container",options:{disabled:!1,readOnly:!1,labelledBy:null,optionRenderer:null,options:nd 0},re._setup()},widget:function(){return this.uiRadioset},validate:n.EditableValueUtils.validate,_InitOptions:function(e,t){var i,r;this._super(e,t),this._IsCustomElement()||(n.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],t,this),void 0===t.value&&(this.$radios=this._findRadiosWithMatchingName(),void 0!==(r=0===(i=this.$radios.filter(":checked")).length?void 0:i.val())&&this.option("value",r,{_context:{writeback:!0,internalSet:!0}}),void 0===this.options.value&&(this.options.value=null)))},_ComponentCreate:function(){const e=this.element;if(this._super(),e.uniqueId(),this._externalTabIndex=this.element.attr("tabindex")||0,this.element.removeAttr("tabindex"),o.RadioCheckboxUtils.generateOptionsFromData.call(this),this._processOjOptions(),this.$radios=this._findRadiosWithMatchingName(),e.is("fieldset"))throw new Error("ojRadioset cannot be bound to a fieldset. Use a div instead.");this.$radios._ojRadioCheckbox().attr("data-oj-internal",""),this.uiRadioset=e.addClass("oj-radioset oj-component").attr("role","radiogroup");const t=e.contents().filter(function(){return!(this.getAttribute&&"contextMenu"===this.getAttribute("slot"))});if(t.length>0?t.wrapAll(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`):e.append(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`),this.options.readOnly){let e=this.element[0].querySelector(".oj-radioset-wrapper");e.setAttribute("tabindex",this._externalTabIndex),e.setAttribute("aria-readonly","true")}this._on(this._events),this._setup()},_ResetComponentState:function(){this._processOjOptions(),this.$radios=this._findRadiosWithMatchingName(),this.$radios.filter(".oj-radio").each(function(){var e=void 0!==t(this).attr("disabled")&&!!t(this).prop("disabled");t(this)._ojRadioCheckbox("option","disabled",e)}),this.$radios.not(".oj-radio")._ojRadioCheckbox()},GetFocusElement:function(){const e=this._GetContentElement().not(":disabled").filter(":checked")[0];return e||this._GetConte_IsRequired:functhis.options.required},_SetDisabledDom:function(e){},_refreshRequired:n.EditableValueUtils._refreshRequired,_processOjOptions:function(){if(this._IsCustomElement()){var e,t,i=this._customOptionRenderer.bind(this),n=this.element[0],r=n.querySelector(".oj-radioset-wrapper"),a=this.options.value;r||(r=n);var s=n.querySelector("[data-no-value-span]");if(s)(a&&""!==a||!this.options.readOnly)&&s.parentElement.removeChild(s);else if((!a||""===a)&&this.options.readOnly){var o=document.createElement("span");o.setAttribute("data-no-value-span",""),o.setAttribute("class","oj-choice-item");var l=this.getTranslatedString("readonlyNoValue");null!==l&&(o.textContent=l),r.appendChild(o)}var u=this.element.children("oj-option").add(this.element.children(".oj-radioset-wrapper").find("oj-option"));for(e=0,t=u.length;e<t;e++)u[e].customOptionRenderer=i,this.options.readOnly?this._processReadonlyOptions(u[e]):this._initInputLabelFromOjOption(u[e])}},_processReadonlyOptions:function(e){const i=this.options.value,n=e.value,r=this.element.get(0),a=t(e).parentsUntil(r,"span.oj-choice-item").get(0);null==a?e.classList.add("oj-helper-hidden"):a.classList.add("oj-helper-hidden"),i===n&&(e.classList.remove("oj-helper-hidden"),this._initReadonlyLabelFromOjOption(e,a))},_initInputLabelFromOjOption:function(e){var i,n,r=e;t(r).uniqueId();var a=r.getAttribute("id"),s=a+"|rb",o=document.getElementById(s);if(null!==o){var l=r;do{l=l.parentElement}while(l&&!l.classList.contains("oj-choice-item"));l&&l.classList.contains("oj-helper-hidden")&&l.classList.contains("oj-choice-item")&&"SPAN"===l.tagName&&l.classList.remove("oj-helper-hidden"),r&&r.classList.contains("oj-helper-hidden")&&r.classList.remove("oj-helper-hidden"),o&&o.parentElement.classList.contains("oj-helper-hidden")&&o.parentElement.classList.remove("oj-helper-hidden")}else(o=document.createElement("input")).setAttribute("type","radio"),o.setAttribute("value",r.value),o.setAttribute("id",s),o.setAttribute("tabindex",this._externalTabIndex),"LABEL"===r.parentElement.nodeName?((n=r.parentElement).setAttribute("for",s),n.parentElement.insertBefore(o,n),n.parentElement.classList.remove("oj-helper-hidden")):((n=document.createElement("label")).setAttribute("for",s),(i=document.createElement("span")).setAttribute("class","oj-choice-item"),r.parentElement.insertBefore(i,r),i.appendChild(o),i.appendChild(n),n.appendChild(r)),r.classList.remove("oj-helper-hidden");var u=this.element[0].id,d=r.getAttribute("aria-label"),c=r.getAttribute("aria-labelledby");o.setAttribute("data-oj-option-id",a),u&&""!==u&&o.setAttribute("name",u),d&&""!==d?o.setAttribute("aria-label",d):o.removeAttribute("aria-label"),c&&""!==c?o.setAttribute("aria-labelledby",c):o.removeAttribute("aria-labelledby"),r.disabled?o.setAttribute("disabled",!0):o.removeAttribute("disabled")},_initReadonlyLabelFromOjOption:function(e,i){var n,r,a=e;if(i){t(a).uniqueId();var s=a.getAttribute("id")+"|rb",o=document.getElementById(s);null!==o&&o.parentElement.classList.add("oj-helper-hidden"),i.classList.remove("oj-helper-hidden")}else n=document.createElement("span"),r=document.createElement("label"),n.setAttribute("class","oj-choice-item"),a.parentElement.insertBefore(n,a),r.appendChild(a),n.appendChild(r)},_customOptionRenderer:function(e){var i=e,n=i.getAttribute("id")+"|rb",r=document.getElementById(n);null!==r&&r.classList.contains("oj-radio")&&t(r)._ojRadioCheckbox("option","disabled",i.disabled)},_labelledByUpdatedForSet:u._labelledByUpdatedForSet,_findRadiosWithMatchingName:function(){var e,t,i=this.element,n=i.find("input[type=radio]:first");return 0===n.length&&l.warn("Could not find any input type=radio within this element"),void 0===(e=n.attr("name"))?i.find("input[type=radio]").not("[name]"):(t='input[type=radio][name="'+e+'"]',i.find(t))},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find("input[type=radio]"),r=n.filter(":checked"),a=r.length?r:n.filter(":enabled").first();this._OpenContextMenu(t,i,{launcher:a})},_GetMessagingLauncherElement:function(){return this.widget()},_setup:function(){this._propagateDisabled(this.options.disabled),this.element.hasClass("oj-choice-direction-column")||this.element.hasClass("oj-choice-direction-row")||this.element.addClass("oj-choice-direction-column"),this.options.readOnly?this.element.addClass("oj-read-only"):this.element.removeClass("oj-read-only"),this._refreshRequired(this.options.required);var e=this.widget();this._labelledByUpdatedForSet(e[0].id,null,this.options.labelledBy,e)},_events:{change:function(e){this._HandleChangeEvent(e)},"click .oj-radioset-wrapper":function(e){this.widget()[0].classList.contains("oj-choice-direction-row")||"INPUT"===e.target.tagName||t(e.target).find("input").click()}},_HandleChangeEvent:function(e){var t=this._GetDilayValue:function(e){return this._GetElementValue()},_SetDisplayValue:function(e){var i,n,r=this.$radios.length,a=-1,s=this.$radios.get(),l=[];for(i=0;i<r;i++)if(l[i]=this._GetOptionValue(s[i]),l[i]===e){a=i;break}if(-1===a)for(i=0;i<r;i++)if(o.Object.compareValues(l[i],e)){a=i;break}for(i=0;i<r;i++){var u=(n=t(this.$radios[i]))._ojRadioCheckbox("option","checked");i===a?u||n._ojRadioCheckbox("option","checked",!0):u&&n._ojRadioCheckbox("option","checked",!1)}},_GetElementValue:function(){var e=this.$radios.filter(":checked");return 0===e.length?null:this._GetOptionValue(e[0])},_GetOptionValue:function(e){var t,i;return this._IsCustomElement()?(t=document.getElementById(e.getAttribute("data-oj-option-id")))&&(i=t.value):i=e.value,i},_GetDefaultStyleClasos=this._findRadiosWithMaadios},_AriaRequiredUns!0},_ShowHelpHintsLocation:function(){return"above"},_AfterSetOptionRequired:n.EditableValueUtils._AfterSetOptionRequired,_propaojRadioCheckbox").__setAncestorComponentDisabled(i)}),this.$radios._ojRadioCheckbox("refreshDisabled")},_setOption:function(e,t,i){var n=this.options.labelledBy;switch(this._super(e,t,i),e){case"disabled":this._propagateDisabled(t);break;case"readOnly":var r=this.element[0].querySelector(".oj-radioset-wrapper"),a=this.options.value;t?(r.setAttribute("tabindex",this._externalTabIndex),r.setAttribute("aria-readonly","true"),this.element.addClass("oj-read-only")):(r.removeAttribute("tabindex"),r.removeAttribute("aria-readonly"),this.element.removeClass("oj-read-only")),this._ResetComponentState(),null!=a&&this._SetDisplayValue(a);break;case"value":this._processOjOptions();break;case"labelledBy":var s=this.widget();this._labelledByUpdatedForSet(s[0].id,n,t,s);break;case"options":o.RadioCheckboxUtils.generateOptionsFromData.call(this);break;case"optionsKeys":case"optionRenderer":o.RadioCheckboxUtils.renderOptions.call(this)}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e)}},getNodeBySubId:function(e){var t,i,n,r=this._super(e);if(!r)switch(t=this.$radios.get(),e.subId){case"oj-radioset-inputs":r=t;break;case"oj-radioset-radio":if(void 0!==(i=e.value)){var a=t.length,s=-1,l=[];for(n=0;n<a;n++)if(l[n]=this._GetOptionValue(t[n]),l[n]===i){s=n;break}if(-1===s)for(n=0;n<a;n++)if(o.Object.compareValues(l[n],i)){s=n;break}-1!==s&&(r=t[s])}}return r||null},getSubIdByNode:function(e){for(var t=this._GetContentElement()[0].parentElement.parentElement.parentElement,i=e;i&&i!==t;){if("LABEL"===i.nodeName&&(i=document.getElementById(i.for)),"INPUT"===i.nodeName)return{subId:"oj-radioset-radio",value:this._GetOptionValue(i)};i=i.parentElement}return this._super(e)},_destroy:function(){var e=this._super(),i=this.element[0].firstElementChild;return this.$radios&&this.$radios._ojRadioCheckbox("destroy"),t(i).contents().unwrap(),o.RadioCheckboxUtils.removeDataListener.call(this),e}})}),define("ojs/ojconverter-color",["ojs/ojcore-base","ojs/ojtranslation","ojs/ojconverter","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const r=function(e){this.Init(e)};return e.Object.createSubclass(r,i,"oj.ColorConverter"),r.prototype.Init=function(e){(e=e||{}).format=e.format||"rgb",r.superclass.Init.call(this,e)},r.prototype.format=function(e){var t=this._getFormat(),i=null;return"rgb"===t?i=e.toString():"hsl"===t?i=r._toHslString(e):"hex"===t?i=r._toHexString(e):"hex3"===t?i=r._toHexString(e,!0):"hsv"===t?i=r._toHsvString(e):r._throwInvalidColorFormatOption(),i||r.superclass.format.call(this,e)},r.prototype.parse=function(t){try{return new e.Color(t)}catch(e){throototype.getHint=function(){rOptions=function(){retuunction(){return r.superclass.getOptions.call(this)},r.prototype._getFormat=function(){return r.sup._toHexString=function(e,t){return"#"+r._toHex(e,t)},r._toHslString=function(e){var t=r._rgbToHsl(e._r,e._g,e._b),i=Math.round(360*t.h),n=Math.round(100*t.s),a=Math.round(100*t.l);return 1===e._a?"hsl("+i+", "+n+"%, "+a+"%)":"hsla("+i+", "+n+"%, "+a+"%, "+e._a+")"},r._toHex=function(e,t){return r._rgbToHex(e._r,e._g,e._b,t)},r._toHsvString=function(e){var t=r._rgbToHsv(e._r,e._g,e._b),i=Math.round(360*t.h),n=Math.round(100*t.s),a=Math.round(100*t.v);return 1===e._a?"hsv("+i+", "+n+"%, "+a+"%)":"hsva("+i+", "+n+"%, "+a+"%, "+e._a+")"},r._rgbToHex=function(e,t,i,n){var a=[r._pad2(Math.round(e).toString(16)),r._pad2(Math.round(t).toString(16)),r._pad2(Math.round(i).toString(16))];return n&&a[0].charAt(0)===a[0].charAt(1)&&a[1].charAt(0)===a[1].charAt(1)&&a[2].charAt(0)===a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")},r._rgbToHsl=function(e,t,i){e=r._bound01(e,255),t=r._bound01(t,255),i=r._bound01(i,255);var n,a,s=Math.max(e,t,i),o=Math.min(e,t,i),l=(s+o)/2;if(s===o)n=0,a=0;else{var u=s-o;switch(a=l>.5?u/(2-s-o):u/(s+o),s){case e:n=(t-i)/u+(t<i?6:0);break;case t:n=(i-e)/u+2;break;case i:n=(e-t)/u+4}n/=6}return{h:n,s:a,l:l}},r._rgbToHsv=function(e,t,i){e=r._bound01(e,255),t=r._bound01(t,255),i=r._bound01(i,255);var n,a=Math.max(e,t,i),s=Math.min(e,t,i),o=a,l=a-s,u=0===a?0:l/a;if(a===s)n=0;else{switch(a){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:u,v:o}},r._bound01=function(e,t){r._isOnePointZero(e)&&(e="100%");var i=r._isPercentage(e);return e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),Math."==typeof e&&-1!on(e){return"string"==typeof e&&-1!==e.indexOf("%")},r._pad2=function(e){return 1===e.length?"0"+e:""+e},r._throwInvalidColorSyntax=function(){var e=t.getTranslatedString("oj-converter.color.invalidSyntax.summary"),i=t.getTranslatedString("oj-converter.color.invalidSyntax.detail");throw new n.ConverterError(e,i)},r._throwInvalidColorFormatOption=function(){var e=t.getTranslatedString("oj-converter.color.invalidFormat.summary"),i=t.getTranslatedString("oj-converter.color.invalidFormat.detail");throw new n.ConverterError(e,i)},r}),define("ojs/ojvalidator-length",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.ault")?i.default:i;const r=function(e){this.Init(e)};return r.defaults={countBy:"codeUnit"},e.Object.createSubclass(r,i,"oj.LengthValidator"),r.prototype.Init=function(e){var t=e.countBy;if(r.superclass.Init.call(this),this._min=void 0!==e.min?parseInt(e.min,10):null,this._max=void 0!==e.max?parseInt(e.max,10):null,isNaN(this._min))throw new Error("length validator's min option is not a number. min option is "+e.min);if(isNaN(this._max))throw new Error("length validator's max option is not a number. max option is "+e.min);if(null!==this._min&&this._min<0)throw new Error("length validator's min option cannot be less than 0. min option is "+e.min);if(null!==this._max&&this._max<1)throw new Error("length validator's max option cannot be less than 1. max option is "+e.max);this._countBy=void 0===t?r.defaults.countBy:t,e&&(this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},r.prototype.getHint=function(){var e,i=null,n=this._hint,r=n.exact,a=n.inRange,s=n.max,o=n.min,l=this._max,u=this._min,d=t;return null!==u&&null!==l?u!==l?(e={min:u,max:l},i=a?d.applyParameters(a,e):d.getTranslatedString("oj-validator.length.hint.inRange",e)):(e={length:u},i=r?d.applyParameters(r,e):d.getTranslatedString("oj-validator.length.hint.exact",e)):null!==u?(e={min:u},i=o?d.applyParameters(o,e):d.getTranslatedString("oj-validator.length.hint.min",e)):null!==l&&(e={max:l},i=s?d.applyParameters(s,e):d.getTranslatedString("oj-validator.length.hint.max",e)),i},r.prototype.validate=function(e){var i,r=this._customMessageDetail,a=this._customMessageSummary,s="",o=this._max,l=a.tooLong,u=a.tooShort,d=r.tooLong,c=r.tooShort,h=this._min,p="",_=t,f=""+e,m=this._getLength(f);if(!(null===h||m>=this._min)||!(null===o||m<=this._max))throw m<this._min?(i={value:e,min:h},p=u?_.applyParameters(u,i):_.getTranslatedString("oj-validator.length.messageSummary.tooShort"),s=c?_.applyParameters(c,i):_.getTranslatedString("oj-validator.length.messageDetail.tooShort",i)):(i={value:e,max:o},p=l?_.applyParameters(l,i):_.getTranslatedString("oj-validator.length.messageSummary.tooLong"),s=d?_.applyParameters(d,i):_.getTranslatedString("oj-validator.length.messageDetail.tooLong",i)),new n.ValidatorError(p,s)},r.prototype._getLength=function(t){var i,n=this._countBy.toLowerCase(),r=t.length,a=0;switch(n){case"codepoint":for(var s=0;s<r;s++)55296==(63488&t.charCodeAt(s))&&(a+=1);e.Assert.assert(a%2==0,"the number of surrogate chars must be an even number."),i=r-a/2;break;case"codeunit":default:i=r}return i},r}),define("ojs/ojvalidationfactory-base",["ojs/ojcore","ojs/ojlogger","ojs/ojconverter-color","ojs/ojvalidator-length","ojs/ojvalidator-regexp","ojs/ojvalidator-required"],function(e,t,i,n,r,a){"use strict";var s={_converterFactories:{},_validatorFactories:{},_defaultConverterFactories:{},_defaultValidatorFactories:{},converterFactory:function(e,i){var n;if(e&&!i){if(null===(n=s._getFactory(e,s._converterFactories))){let i=e.toLowerCase(),n="Converter of type "+e+" cannot be found.";switch(i){case"datetime":t.error(n+" Please import the ojs/ojvalidation-datetime module.");break;case"number":t.error(n+" Please import the ojs/ojvalidation-number module.");break;default:t.warn(n)}}}else e&&i&&(n=s._registerFactory(e,i,s._converterFactories,s._CONTRACTS.converter),t.error("Registering a custom type or overriding the standard types is no longer supported. Please directly set the converter on the component. Please consult the Release Notes for further information."));return n},validatorFactory:function(e,i){var n;if(e&&!i){if(null===(n=s._getFactory(e,s._validatorFactories))){var r=e.toLowerCase(),a="Unable to locate a validatorFactory for the requested type: "+e;switch(r){case"daterestriction":case"datetimerange":t.error(a+". Please import the ojs/ojvalidation-datetime module.");break;case"numberrange":t.error(a+". Please import the ojs/ojvalidation-number module.");break;default:t.warn(a)}}}else e&&i&&(n=s._registerFactory(e,i,s._validatorFactories,s._CONTRACTS.validator),t.error("Registering a custom type or overriding the standard types is no longer supported. Please directly set the converter on the component. Please consult the Release Notes for further information."));return n},getDefaultConverterFactory:function(e){return s._getFactory(e,s._deeturn s._getFactory(e,s._defaultValidatorFactories)},__registerDefaultConverterFactory:function(e,t){var i=s._CONTRACTS.converter;s._registerFactory(e,t,s._defaultConverterFactories,i),s._registerFactory(e,t,s._converterFactories,i)},__registerDefaultValidatorFactory:function(e,t){var i=s._CONTRACTS.validator;s._registerFactory(e,t,s._defaultValidatorFactories,i),s._registerFactory(e,t,s._validatorFactories,i)},_doImplementsCheck:function(e,t,i){if(t&&!s._quacksLike(e,t))throw new Error("Factory instance does not implement the methods expected by the factory of type "+i)},_getFactory:function(t,i){e.Assert.assertString(t);return(i[t.toLowerCase()]||{}).instance||null},_quacksLike:function(t,i){var n=!0;e.Assert.assertObject(t),e.Assert.assertObject(i);for(var r=Object.keys(i),a=0;a<r.length;a++){var s=r[a];if("function"==typeof i[s]&&(!t[s]||"function"!=typeof t[s])){n=!1;break}}return n},_registerFactory:function(t,i,n,r){e.Assert.assertString(t),e.Assert.assertObject(i);var a={};a.instance=i,s._doImplementsCheck(i,r.type,r.name),n[t.toLowerCase()]=a}},o={CONVERTER_TYPE_NUMBER:"number",CONVERTER_TYPE_DATETIME:"datetime",CONVERTER_TYPE_COLOR:"color",createConverter:function(e){}},l={VALIDATOR_TYPE_REQUIRED:"required",VALIDATOR_TYPE_REGEXP:"regexp",VALIDATOR_TYPE_NUMBERRANGE:"numberRange",VALIDATOR_TYPE_LENGTH:"length",VALIDATOR_TYPE_DATETIMERANGE:"dateTimeRange",VALIDATOR_TYPE_DATERESTRICTION:"dateRestriction",createValidator:function(e){}};s._CONTRACTS={converter:{name:"oj.ConverterFactory",type:o},validator:{name:"oj.ValidatorFactory",type:l}};var u={createConverter:function(e){return function(e){return new i(e)}(e)}};s.__registerDefaultConverterFactory(o.CONVERTER_TYPE_COLOR,u);var d={createValidator:function(e){return function(e){return new a(e)}(e)}};s.__registerDefaultValidatorFactory(l.VALIDATOR_TYPE_REQUIRED,d);var c={createValidator:function(e){return function(e){return new r(e)}(e)}};s.__registerDefaultValidatorFactory(l.VALIDATOR_TYPE_REGEXP,c);var h={createValidator:function(e){return function(e){return new n(e)}(e)}};s.__registerDefaultValidatorFactory(l.VALIDATOR_TYPE_LENGTH,h);var p={};return p.Validation=s,p.ValidatorFactory=l,p.ConverterFactory=o,p}),define("ojs/ojvalidation-base",["ojs/ojcore","jquery","ojs/ojtranslation","ojs/ojmessaging","ojs/ojlocaledata","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojconverter","ojs/ojvalidator","ojs/ojvalidationfactory-base","ojs/ojconverter-color","ojs/ojvalidator-length","ojs/ojvalidator-regexp","ojs/ojvalidator-required","ojs/ojvalidation-error","ojs/ojvalidator-async"],function(e,t,i,n,r,a,s,o,l,u,d,c,h,p){"use strict";e.ColorConverter=d,e.LengthValidator=c,e.RegExpValidator=h,e.RequiredValidator=p,e.IntlConverterUtils=s.IntlConverterUtils,e.OraI18nUtils=s.OraI18nUtils,e.Converter=o,e.Validator=l,e.Validation=u.Validation,e.ValidatorFactory=u.ValidatorFactory,e.ConverterFactory=u.ConverterFactory;var _={};return _.ColorConverter=e.ColorConverter,_.IntlConverterUtils=e.IntlConverterUtils,_.LengthValidator=e.LengthValidator,_.RegExpValidator=e.RegExpValidator,_.RequiredValidator=e.RequiredValidator,_.Validation=e.Validation,_}),define("ojs/ojvalidationfactory-number",["ojs/ojcore","ojs/ojvalidationfactory-base","ojs/ojconverter-number","ojs/ojvalidator-numberrange"],function(e,t,i,n){"uurn function(e){return new i.IntlNumberConverter(e)}(e)}};t.Validation.__registerDefaultConverterFactory(t.ConverterFac:function(e){return function(e){return new n(e)}(e)}};t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE,a);var s={};return s.NumberConverterFactory=r,s.NumberRangeValidatorFactory=a,s}),define("ojs/ojvalidation-number",["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojtranslation","ojL10n!ojtranslations/nls/localeElements","ojs/ojlocaledata","ojs/ojvalidation-base","ojs/ojlogger","ojs/ojvalidator-numberrange","ojs/ojconverter-number","ojs/ojvalidationfactory-number"],function(e,t,i,n,r,a,s,o,l,u,d){"use strict";e.NumberRangeValidator=l,e.NumberConverter=u.NumberConverter,e.IntlNumberConverter=u.IntlNumberConverter,e.NumberConverterFactory=d.NumberConverterFactory,e.NumberRangeValidatorFactory=d.NumberRangeValidatorFactory;var c={};return c.NumberConverter=e.NumberConverter,c.NumberRangeValidator=e.NumberRangeValidator,c.IntlNumberConverter=e.IntlNumberConverter,c}),define("ojs/ojvalidationgroup",["ojs/ojcore-base","ojs/ojcustomelement-utils","ojs/ojcontext","ojs/ojlogger","ojs/ojcomponentcore"],function(e,t,i,n,r){"use strict";function a(e){var a,s=this,o=e.element,l=[];function u(){l=[],function e(t){var i,n=[],r=t.childNodes,a=r.length;for(i=0;i<a;i++){var s=r[i];f(s)?l.push(s):n.push(s)}for(a=n.length,i=0;i<a;i++)e(n[i])}(o),e.props.valid=_();for(var t=l.length,i=0;i<t;i++)d(l[i])}function d(e){e.addEventListener("validChanged",h.bind(this)),e.addEventListener("disabledChanged",p.bind(this)readonlyChanged",p)}function h(){e.props.valid=_()}function p(t){var i=t.target,n=i.valid,r=!(i.readonly||i.disabled);"valid"===n||(e.props.valid=r&&"invalidShown"===n?"invalidShown":_())}function _(){for(var e="valid",t=l.length,i=0;i<t&&"invalidShown"!==e;i++){var n=l[i];if(b(n)){var r=n.valid,a=n.disabled,s=n.readonly;a||s||("invalidShown"===r?e="invalidShown":"invalidHidden"===r?e="invalidHidden":"pending"===r&&"valid"===e&&(e="pending"))}}return e}function f(e){if(1===e.nodeType&&-1!==e.tagName.indexOf("-")&&"valid"in e&&(b(e)&&void 0!==e.valid))return!0;return!1}function m(e,t){var i=t.length;if(f(e))return!0;for(var n=0;n<i;n++)if(f(t[n]))return!0;return!1}function v(e){var t=l.length;if(1!==e.nodeType)return!1;for(var i=0;i<t;i++){if(l[i].contains(e))return!0}return!1}function g(e){for(var t=l.length,i=0;i<e.length;i++){var n=e[i];if(1===n.nodeType){if(-1!==l.indexOf(n))return!0;for(var r=0;r<t;r++)if(n.contains(l[r]))return!0}}return!1}function b(e){var i,n=t.CustomElementUtils.getElementBridge(e);if(!n)return!0;var a=n._WIDGET_ELEM;return void 0!==a&&(i=r.__GetWidgetConstructor(a)),!(void 0!==a&&!i)}s._rootElementMutationObserver=new MutationObserver(function(e){if(document.body.contains(o)){for(var t=e.length,i=!1,n=0;n<t&&!i;n++){var r=e[n],a=r.target,s=r.removedNodes,l=r.addedNodes;if(!(i=g(s))&&l.length>0)!v(a)&&m(a,l)&&(i=!0)}i&&(!function(e){for(var t=e.length,i=0;i<t;i++)for(var n=e[i],r=n.removedNodes.length,a=0;a<r;a++){var s=n.removedNodes[a];1===s.nodeType&&c(s)}}(e),u())}else this.disconnect()}),s.createDOM=function(){for(o.classList.add("oj-validation-group"),(a=document.createElement("div")).setAttribute("data-oj-context","");o.firstChild;)a.appendChild(o.firstChild);o.appendChild(a)},s.updateDOM=function(){var e=i.getContext(a).getBusyContext();let t=i.getContext(o).getBusyContext().addBusyState({description:`oj-validation-group#${o.id} initial valid state`});e.whenReady().then(function(){for(var e=l.length,t=0;t<e;t++)c(l[t]);u(),s._rootElementMutationObserver.observe(o,{childList:!(t)},s.handlePropertyChanged=function(e,t){return!0},s.showMessages=function(){for(var e=0;e<l.length;e++){var t=l[e];t.disabled||t.readonly||"showMessages"in t&&t.showMessages()}},s.focusOn=function(e){var t=null,i=null;"@firstInvalidShown"===e?(i=function(){var e=[];if("invalidShown"!==o.valid)return null;for(var t=l.length,i=0;i<t;i++){var n=l[i];n.disabled||n.readonly||"invalidShown"===n.valid&ntPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),e[0]}())&&("focusOn"in i?i.focusOn("@firstInvalidShown"):i.focus()):void 0===e?(t=function(){for(var e=null,t=l.length,i=0;i<t;i++)if(!(e=l[i]).readonly&&!e.disabled)return e;return null}())&&("focusOn"in t?t.focusOn():t.focus()):n.info("focusOn's parameter value is not '@firstInvalidShown' or empty, so it's a no-op.")}}var s;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,(s={properties:{valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0}},methods:{focusOn:{},getProperty:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._CONSTRUCTOR=a,Object.freeze(s),e.CustomElementBridge.register("oj-validation-group",{metadata:s})}),define("ojs/ojasyncvalida strict";return class{constructor(e){this.options=e}validate(e){let t=this;if(!this._validator)return this._InitLoadingPromise(),this._loadingPromise.then(function(i){t._validator=new i.default(t.options);try{t._validator.validate(e)}catch(e){return Promise.reject(e)}return null});try{this._validator.validate(e)}catch(e){return Promise.reject(e)}return Promise.resolve(null)}_GetHint(){let e=this;return this._validator?Promise.resolve(e._validator.getHint()):(this._InitLoadingPromise(),this._loadingPromise.then(function(t){return e._validatos),e._validator.getHint()}))}_InitLoadingPromise(){}}}),define("ojs/ojasyncvalidator-length",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-length"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojasyncvalidator-numberrange",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-numberrange"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojasyncvalidator-regexp",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-regexp"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojasyncvalidator-required",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http,this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-required"],function(e){t(function(e){if(e&&e.__esModul.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojslider",["ojs/ojcore","ojs/ojeditablevalue","jqueryui-amd/widgets/draggable","ojs/ojtouchproxy","ojs/ojcore-base","jquery","ojs/ojtranslation","ojs/ojdomutils"],function(e,t,i,n,r,a,s,o){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},t={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number",value:100},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},step:{type:"number",value:1},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{invalidStep:{type:"string"},maxMin:{type:"string"},noValue:{type:"string"},optionNum:{type:"string"},valueRange:{type:"string"}}},type:{type:"string",enumValues:["fromMax","fromMin","single"],value:"fromMin"},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"number",writeback:!0,value:0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};t.extension._WIDGET_NAME="ojSlider",t.extension._INNER_ELEM="input",r.CustomElementBridge.register("oj-slider",{metadata:r.CollectionUtils.mergeDeep(t,e)});var i={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number",value:100},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},step:{type:"number",value:1},transientValue:{type:"object",writeback:!0,readOnly:!0,properties:{end:{type:"number"},start:{type:"number"}}},translations:{type:"object",value:{},properties:{higherValueThumb:{type:"string"},lowerValueThumb:{type:"string"},startEnd:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"object",writeback:!0,properties:{end:{type:"number"},start:{type:"number"}}}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojSlider",i.extension._INNER_ELEM="input",r.CustomElementBridge.register("oj-range-slider",{metadata:r.CollectionUtils.mergeDeep(i,e)})}(),r.__registerWidget("oj.ojSlider",a.oj.editableValue,{defaultElement:"<input>",version:"1.0.1",widgetEventPrefix:"oj",options:{labelledBy:null,max:100,min:0,orientation:"horizontal",readOnly:!1,disabled:!1,step:1,type:"fromMin",value:0,rawValue:void 0},_numPages:5,_dTL:function(){return"rtl"===o.getReadingDirection()},_ComponentCreate:function(){if(this._super(),this._inputtag=!1,this.element.is("INPUT"))if(this._inputtag=!0,this.element[0].style&&(this._styleFromInputTag=this.element[0].style.cssText),this._inputElementOriginalDisplay=this.element[0].style.display,this.element[0].style.display="none",this.OuterWrapper)this._elementWrapped=a(this.OuterWrapper);else{var e=a(this.element).wrap("<div> </div>");this._elementWrapped=e.parent()}else this._elementWrapped=this.element;this._transientValueName=this._IsCustomElement()?"transientValue":"rawValue",this._componentCreateStyling(),this._componentSetup()},_SetRawValue:function(e,t){var i={};i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},r.Object.compareValues(this.options[this._transientValueName],e)||this.option(this._transientValueName,e,i)},_componentCreateStyling:function(){this._elementWrapped[0].classList.add("oj-slider","oj-component","oj-form-control"),this._setOrientationStyles(!0)},_setOrientationStyles:function(e){var t=this._elementWrapped[0];this._isVertical()?(e||t.classList.remove("oj-slider-horizontal"),t.classList.add("oj-slider-vertical")):(e||t.classList.remove("oj-slider-vertical"),t.classList.add("oj-slider-horizontal"))},_componentSetup:function(){this._newMultiValue=[],this._thumbIndex=null,this._isCustomRangeSlider()&&(this.options.type="range","number"==typeof this.options.value&&(this.options.value={start:null,end:null})),"range"===this.options.type?this._multipleThumbs=!0:this._multipleThumbs=!1,this._calculateNewMax(),this._createSliderContainer(),this._createBarBackground(),this._buildValueOption(),this._createRange(),this._createThumbs(),this._updateUI(),this._setupEvents()},_copyLabelledbyToThumb:function(e){var t,i=this._elementWrapped.find(".oj-slider-thumb");if(this._isCustomRangeSlider()){var n=document.getElementById(e),r=n?n.textContent:"",o=s.getTranslatedString("oj-ojSlider.lowerValueThumb"),l=s.getTranslatedString("oj-ojSlider.higherValueThumb");i.attr("aria-label",r+" "+o),t=i[1],a(t).attr("aria-label",r+" "+l)}else i.attr("aria-labelledby",e),i.length>1&&(t=i[1],a(t).attr("aria-labelledby",String(e)))},_setAriaLabelToThumb:function(e){var t;if(this._isCustomRangeSlider()){var i=s.getTranslatedString("oj-ojSlider.lowerValueThumb"),n=s.getTranslatedString("oj-ojSlider.higherValueThumb");(t=this._elementWrapped.find(".oj-slider-thumb")).attr("aria-label",e+" "+i);var r=t[1];a(r).attr("aria-label",e+" "+n)}else(t=this.OuterWrapper.querySelector(".oj-slider._super(),this._makeDraggable(),this._setAriaInfo()},_setAriaInfo:function(){var e,i,n;if(this.OuterWrapper){if(this.options.labelledBy){var r=this.uuid+"_Label";n=t.EditableValueUtils._getOjLabelAriaLabelledBy(this.options.labelledBy,r),this._copyLabelledbyToThumb(n)}this.options.labelledBy&&!document.getElementById(this.options.labelledBy)||(e=this.OuterWrapper.getAttribute("aria-label"))&&this._setAriaLabelToThumb(e)}else if(i=this._GetLabelElementLocal()){var a=i.attr("id");a||(a=i.attr("for")),a.length>0&&this._copyLabelledbyToThumb(a)}else(e=this.element.attr("aria-label"))&&this._elementWrapped.find(".oj-slider-thumb").attr("aria-label",e)},_GetLabelElementLocal:function(){var e=this._getAriaLabelledByElementLocal();return null!==e&&0!==e.length||null!==(e=this._getAriaLabelForElementLocal())&&0!==e.length?e:null},_getAriaLabelForElementLocal:function(){var e;if(void 0!==(e=this.element.prop("id"))){var t=a("label[for='"+e+"']");if(t.length>0)return t;var i="span[for='"+e+"']";if(0!==a(i).length)return a(i)}return null},_getAriaLabelledByElementLocal:function(){var e=this.element.attr("aria-labelledby");if(void 0===e&&this.OuterWrapper){var t=this._elementWrapped.attr("aria-labelledby");if(t&&null!==document.getElementById(t))return a(document.getElementById(t))}if(void 0!==e){var i=a("label[id='"+e+"']");if(i.length>0)return i;var n=a("span[id='"+e+"']");if(n.length>0)return n}return null},widget:function(){return this._elementWrapped},_SetDisplayValue:function(e){this._sliderDisplayValue=e},_GetDisplayValue:function(){return this._sliderDisplayValue},_getElementId:function(){return this.OuterWrapper?(this._elementWrapped[0].id||this._elementWrapped.uniqueId(),this._elementWrapped[0].id):(this.element[0].id||this:function(e){return this._getElementId()+"-thumb"+e},_getBarValueId:function(){return this._getElementId()+"-barValue"},_getBarBackgroundId:function(){return tion(){return this._getElementId()+"-sliderWrapper"},_createThumbs:function(){var e,t,i="",n="class='oj-slider-thumb ui-state-default' tabindex='0' role='slider'aria-valuemin = '"+this._valueMin()+"' aria-valuemax = '"+this._valueMax()+"' ></span>",r=[];for(t=this._multipleThumbs?2:1,e=0;e<t;e++)i="<span id='"+this._getThumbId(e)+"' "+n,r.push(i);this._thumbs=a(r.join("")).appendTo(this._sliderContainer),this._thumb=this._thumbs.eq(0),this._refreshThumbOptions()},_refreshThumbOptions:function(){var e=this,t=0;this._thumbs.each(function(){a(this).data("oj-slider-thumb-index",t),t+=1,e._isVertical()&&a(this).attr("aria-orientation","vertical"),e.options.disabled?(a(this).attr("aria-disabled","true"),a(this).removeAttr("tabindex")):(a(this).removeAttr("aria-disabled"),a(this).attr("tabindex","0")),e.options.readOnly?a(this).attr("title","read only"):a(this).removeAttr("title")})},_createSliderContainer:function(){var e=this._getSliderWrapperId(),t=this._elementWrapped.find("#"+e);t.length&&t.remove(),this._sliderContainer=a("<div></div>"),a(this._sliderContainer).attr("id",e),this._sliderContainer.addClass("oj-slider-container").addClass("oj-form-control-container"),this.element.after(this._sliderContainer),this._sliderContainer[0].style.cssText=this._styleFromInputTag},_createBarBackground:function(){var e=this._getBarBackgroundId(),t=this._elementWrapped.find("#"+e);t.length&&t.remove(),this._barback=a("<div></div>"),a(this._barback).attr("id",e),this._barback.addClass("oj-slider-bar"),this._sliderContainer.append(this._barback);var i=this;this._barback.on("mousedown"+i.eventNamespace,function(e){i._repositionThumb(e),i._mouseStop(e),i._getActiveThumb().focus()})},_buildValueOption:function(){var e=this.options;if(this._isCustomRangeSlider())null===e.value?this.options.value={start:this._valueMin(),end:this._valueMax()}:(null!==e.value.start&&void 0!==e.value.start||(this.options.value.start=this._valueMin()),null!==e.value.end&&void 0!==e.value.end||(this.options.value.end=this._valueMax()),this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}}));else if(e.type)if(null==this.options.value)this._multipleThumbs?this.options.value=[this._valueMin(),this._valueMax()]:this.options.value=this._valueMin(),this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}});else if(this._multipleThumbs){var t;2!==this.options.value.length&&(t=this.options.value.length>0?this.options.value[0]:this._valueMin(),this.options.value=[t,this._valueMax()],this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}}))}},_createRange:function(){var e=this.options,t="";if(e.type){var i=this;this._range=a("<div></div>"),a(this._range).attr("id",this._getBarValueId()),this._sliderContainer.append(this._range),t="oj-slider-range oj-slider-bar-value",this._range.on("mousedown"+i.eventNamespace,function(e){i._repositionThumb(e),i._mouseStop(e),i._getActiveThumb().focus()}),this._range=this._sliderContainer.find("#"+this._getBarValueId());var n="";"fromMin"===e.type?n=" oj-slider-range-min":"fromMax"===e.type&&(n=" oj-slider-range-max"),this._range.addClass(t+n)}else this._rangethis._touchProxh:function(e){r._TouchProxy.removeTouchListeners(e)},_setupEvents:function(){this._CanSetValue()&&this._AddHoverable(this._elementWrapped),this._thumbs.toArray().forEach(function(e){var t=a(e);this._UnregisterChildNode(t),this._on(t,this._thumbEvents),this._setupTouch(t),this._focusable({element:t,applyHighlight:!0})},this)},_GetMessagingLauncherElement:function(){return this._elementWrapped},_GetContentElement:function(){return this._getActiveThumb()},_destroySliderDom:function(){this._thumbs.toArray().forEach(function(e){var t=a(e);this._tearDownTouch(t)},this),this._destroyDraggable(),this._range&&this._range.remove(),this._sliderContainer&&this._sliderContainer.remove(),this.OuterWrapper?(this._elementWrapped.removeUniqueId(),this._RemoveHoverable(this._elementWrapped)):(this.element.removeUniqueId(),this._RemoveHoverable(this.element))},_unwrapSlider:function(){o.unwrap(this.element,this._elementWrapped),this.element[0].style.display=this._inputElementOriginalDisstroySliderDom(),this._unwrapSlider(),this._super()},_repositionThumb:function(e){var t,i,n,r=this.options,s=0,o=this;return this._closestThumb=this._thumb,!(r.disabled||r.readOnly||(t={x:e.pageX,y:e.pageY},i=this._getNormValueFromMouse(t),n=this._valueMax()-this._valueMin()+1,this._multipleThumbs&&this._thumbs.each(function(e){var t=Math.abs(i-o._getMultiValues(e));(n>t||n===t&&(e===o._lastChangedValueIndex||o._getMultiValues(e)===r.min))&&(n=t,this._closestThumb=a(this),s=e)}),this._thumbIndex=s,this._closestThumb&&(this._thumbs.hasClass("ui-state-hover")||this._slide(e,s,i),this._getActiveThumb().addClass("oj-active").focus(),this._range.addClass("oj-active"),0)))},_initDragging:function(e,t){var i=this.options;return!i.disabled&&!i.readOnly&&(t.removeClass("oj-focus-highlight"),t.addClass("oj-active").focus(),this._range.addClass("oj-active"),!0)},_mouseDragInternal:function(e,t){var i=this._getNormValueFromThumb(t);this._slide(e,this._thumbIndex,i,!0);var n=100*this._getFracFromThumb(t);return this._multipleThumbs?this._setRangeMultiThumb(n,this._thumbIndex):this._setRange(n),!1},_mouseStop:function(e,t){this._thumbs.removeClass("oj-active"),this._range.removeClass("oj-active");var i=this._getNormValueFromThumb(t);return this._slide(e,this._thumbIndex,i),this._change(e,this._ction(){return"vertical"===this.options.orientation},_getOrientationAdjustedFrac:function(e){var t=e;return t>1&&(t=1),t<0&&(t=0),this._isVertical()&&(t=1-t),t},_getNormValueFromMouse:function(e){var t,i,n=this._getFracFromMouse(e);return t=this._valueMax()-this._valueMin(),this._isRTL()&&!this._isVertical()&&(n=1-n),i=this._valueMin()+n*t,this._trimAlignValue(i)},_getFracFromMouse:function(e){var t,i,n;return this._isVertical()?(t=this._barback.height(),i=e.y-this._barback.offset().top):(t=this._barback.width(),i=e.x-this._barback.offset().left),0===t?1:(n=i/t,n=this._getOrientationAdjustedFrac(n))},_getActiveThumb:function(){return this._multipleThumbs?a(this._thumbs[this._thumbIndex?this._thumbIndex:0]):this._thumb},_getFracFromThumb:function(e){var t,i,n,r,a=e;if(e||(a=this._getActiveThumb()),this._isVertical()){var s=a.outerHeight()/2;r=a.offset().top+s,t=this._barback.height(),i=r-this._barback.offset().top}else{var o=a.outerWidth()/2;r=a.offset().left+o,t=this._barback.width(),i=r-this._barback.offset().left}return 0===t?1:(n=i/t,n=this._getOrientationAdjustedFrac(n))},_getNormValueFromThumb:function(e){var t,i,n;return t=this._getFracFromThumb(e),i=this._valueMax()-this._valueMin(),this._isRTL()&&!this._isVertical()&&(t=1-t),n=this._valueMialue:function(e){return this._getMultiValues(e?0:1)},_getNewThumbValueLimited:function(e,t,i){return this._isCustomRangeSlider()?null!==this.options.value.start&&null!==this.options.value.end&&(0===e&&t>i||1===e&&t<i)?i:t:2===this.options.value.length&&(0===e&&t>i||1===e&&t<i)?i:t},_slide:function(e,t,i,n){var r;if(this._multipleThumbs){r=this._getOtherThumbValue(t);var a=this._getNewThumbValueLimited(t,i,r);this._setMultiValue(e,t,a,n)}else this._setSingleValue(e,i,n),n||this._inputtag&&this.element.val(i)},_setSingleValue:function(e,t,i){this._newValue=this._trimAlignValue(t),this._SetRawValue(this._newValue,e),i||(this.options[this._transientValueName]=this._newValue,this._SetValue(this._newValue,e),this._updateUI())},_change:function(e,t,i){this._multipleThumbs?(this._lastChangedValues=this._getNewValues(t,this._newMultiValue[t]),this._SetRawValue(this._lastChangedValues,e),i||this._SetValue(this._lastChangedValues,e)):(this._SetRawValue(this._newValue,e),i||this._SetValue(this._newValue,e)),this._lastChangedValueIndex=t},_getNewValues:function(e,t){var i;if(this._isCustomRangeSlider())(i={}).start=this._trimAlignValue(this.options.value.start),i.end=this._trimAlignValue(this.options.value.end),e===this._thumbIndex&&(0===e&&(i.start=t),1===e&&(i.end=t));else{var n;for(i=[],i=this.options.value.slice(),n=0;n<i.length;n++)i[n]=this._trimAlignValue(i[n]);e===this._thumbIndex&&(i[e]=t)}return i},_getSingleValue:function(){return this._getValueAligned()},_getMultiValues:function(e){return this._getValuesAligned(e)},_setMultiValue:function(e,t,i,n){this._newMultiValue[t]=this._trimAlignValue(i),this._change(e,t,n),n||this._updateUI()},_NotifyAttached:function(){this._super(),this._makeDraggable()},_setOption:function(e,t,i){var n;if("value"===e)if(this._isCustomRangeSlider())if(t instanceof Object)if(this._checkStartEnd(t.start,t.end),isNaN(t.start))n=this._parse(e,t.start),this._checkValueBounds(n,this._valueMin(),this._valueMax());else{this._multipleThumbs=!0,n=t;for(var r=Object.keys(t),a=0;a<r.length;a++)this._checkValueBounds(n[r[a]],this._valueMin(),this._valueMax())}else{n={start:this._valueMin(),end:this._valueMax()},this.options.value={start:this._valueMin(),end:this._valueMax()};for(var s=Object.keys(n),o=0;o<s.length;o++)this._checkValueBounds(n[s[o]],this._valueMin(),this._valueMax())}else if(Array.isArray(t))if(isNaN(t[0]))this._multipleThumbs=!1,n=this._parse(e,t[0]),this._checkValueBounds(n,this._valueMin(),this._valueMax());else{this._multipleThumbs=!0,n=t;for(var l=0;l<n.length;l++)this._checkValueBounds(n[l],this._valueMin(),this._valueMax())}else this._multipleThumbs=!1,n=this._IsCustomElement()?t:this._parse(e,t),this._checkValueBounds(n,this._valueMin(),this._valueMax());else"max"===e||"min"===e?(n=this._IsCustomElement()?t:this._parse(e,t),"min"===e?(this._checkMinMax(n,this._valueMax()),this._multipleThumbs?(this._getMultiValues(0)<n&&(this._isCustomRangeSlider()?this._super("value",{start:n,end:this._getMultiValues(1)},i):this._super("value",[n,this._getMultiValues(1)],i)),this._getMultiValues(1)<n&&(this._isCustomRangeSlider()?this._super("value",{start:this._getMultiValues(0),end:n},i):this._super("value",[this._getMultiValues(0),n],i))):this._getSingleValue()<n&&this._super("value",n,i)):"max"===e&&(this._checkMinMax(this._valueMin(),n),this._multipleThumbs?(this._getMultiValues(0)>n&&(this._isCustomRangeSlider()?this._super("value",{start:n,end:this._getMultiValues(1)},i):this._super("value",[n,this._getMultiValues(1)],i)),this._getMultiValues(1)>n&&(this._isCustomRangeSlider()?this._super("value",{start:this._getMultiValues(0),end:n},i):this._super("value",[this._getMultiValues(0),n],i))):this._getSingleValue()>n&&this._super("value",n,i))):n="step"===e?this._parseStep(t):t;switch(this._super(e,n,i),"readOnly"===e&&(this.options.readonly=n),"disabled"===e&&(this.options.disabled=n),e){case"disabled":this._refreshThumbOptions(),this.options.disabled?this._disableDraggable():this._makeDraggable();break;case"value":this._updateUI(),this._makeDraggable();break;case"min":case"max":this._calculateNewMax(),this._updateUI(),this._makeDraggable();break;case"orientation":this._setOrientationStyles(),this._reCreate();break;case"readonly":case"step":case"type":this._reCreate();brWrapped.addClass(this.options.value;return e=this._trimAlignValue(e)},_isCustomRangeSlider:function(){return!(!this._IsCustomElement()||"OJ-RANGE-SLIDER"!==this.element[0].parentNode.tagName)},_getValuesAligned:function(e){var t,i=null;return this._isCustomRangeSlider()?(t=0===e?void 0!==this.options.value.start&&null!==this.options.value.start?this.options.value.start:this._valueMin():void 0!==this.options.value.end&&null!==this.options.value.end?this.options.value.end:this._valueMax(),i=this._trimAlignValue(t)):i=this._trimh.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this._valueMin();if((this.options.max-e)/this.options.step%1!=0){var t=(this.options.max-e)%this.options.step;this.max=this.options.max-t+this.options.step}else this.max=this.options.max},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_getGrid:function(){var e;e=this.options.step>0?(this._valueMax()-this._valueMin())/this.options.step:100;var t=(this._isVertical()?this._barback.height():this._barback.width())/e;return t<1&&(t=1),this._isVertical()?[1,t]:[t,1]},_getThumbsValueFrac:function(e){return(this._getMultiValues(e)-this._valueMin())/(this._valueMax()-this._valueMin())},_updateUI:function(){var e,t,i,n,r,s;this._multipleThumbs?(this._thumbs.toArray().forEach(function(t,o){var l=a(t);e=100*this._getThumbsValueFrac(o),this._isRTL()&&!this._isVertical()&&(e=100-e),this._isVertical()?l.css({top:100-e+"%"}):l.css({left:e+"%"}),0===o?(r=l,100===e?l.css({zIndex:1}):l.css({zIndex:""})):s=l,l.hasClass("oj-active")||(l.attr("aria-valuenow",this._getMultiValues(o)),l.attr("aria-valuemin",i),l.attr("aria-valuemax",n)),this._setRangeMultiThumb(e,o)},this),r.hasClass("oj-focus")&&(r.css({zIndex:1}),s.css({zIndex:""})),s.hasClass("oj-focus")&&(r.css({zIndex:""}),s.css({zIndex:1}))):(t=this._getValueAligned(),i=this._valueMin(),n=this._valueMax(),e=n!==i?(t-i)/(n-i)*100:0,this._isRTL()&&!this._isVertical()&&(e=100-e),this._isVertical()?this._thumb.css({top:100-e+"%"}):this._thumb.css({left:e+"%"}),a(this._thumb).hasClass("oj-active")||(a(this._thumb).attr("aria-valuenow",t),a(this._thumb).attr("aria-valuemin",i),a(this._thumb).attr("aria-valuemax",n)),this._setRange(e))},_setRange:function(e){var t=this.options.type;this._isVertical()?("fromMin"===t&&this._range.css({height:e+"%"}),"fromMax"===t&&this._range.css({height:100-e+"%"})):this._isRTL()?("fromMin"===t&&this._range.css({width:100-e+"%"}),"fromMax"===t&&this._range.css({width:e+"%"})):("fromMin"===t&&this._range.css({width:e+"%"}),"fromMax"===t&&this._range.css({width:100-e+"%"}))},_setRangeMultiThumb:function(e,t){var i=this._range.attr("id");if(0===t){var n=100*this._getThumbsValueFrac(1);switch(this.options.type){case"fromMin":this._isVertical()?this._range.css({height:e+"%"}):this._range.css({width:e+"%"});break;case"range":this._isVertical()?(this._range.css({top:100-n+"%"}),this._range.css({height:n-e+"%"})):this._isRTL()?(this._range.css({left:100-n+"%"}),this._range.css({width:n-(100-e)+"%"})):(this._range.css({left:e+"%"}),this._range.css({width:n-e+"%"}))}}else{var r=100*this._getThumbsValueFrac(0);switch(this.options.type){case"fromMax":this._isVertical()?this._range.css({height:100-e+"%"}):this._range.css({width:100-e+"%"});break;case"range":if(this._isVertical())document.getElementById(i)&&(this._range.css({top:100-e+"%"}),this._range.css({height:e-r+"%"}));else if(this._isRTL())document.getElementById(i)&&(this._range.css({left:e+"%"}),this._range.css({width:100-e-r+"%"}));else if(document.getElementById(i)){var a=parseInt(document.getElementById(i).style.left,10);this._range.css({width:e-a+"%"})}}}},_thumbEvents:{keydown:function(e){var t,i,n,r,s=a(e.target).data("oj-slider-thumb-index");switch(this._thumbIndex=s,e.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e.preventDefault(),a(e.target).addClass("oj-active")}switch(n=this.options.step,t=i=this._multipleThumbs?this._getMultiValues(s):this._getSingleValue(),e.keyCode){case a.ui.keyCode.HOME:i=this._valueMin();break;case a.ui.keyCode.END:i=this._valueMax();break;case a.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this._numPages);break;case a.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this._numPages);break;case a.ui.keyCode.UP:if(t===this._valueMax())return;r=t+n,i=this._trimAlignValue(r);break;case a.ui.keyCode.RIGHT:if(!this._isRTL()||this._isVertical()){if(t===this._valueMax())return;r=t+n}else{if(t===this._valueMin())return;r=t-n}i=this._trimAlignValue(r);break;case a.ui.keyCode.DOWN:if(t===this._valueMin())return;r=t-n,i=this._trimAlignValue(r);break;case a.ui.keyCode.LEFT:if(!this._isRTL()||this._isVertical()){if(t===this._valueMin())return;r=t-n}else{if(t===this._valueMax())return;r=t+n}i=this._trimAlignValue(r)}this._slide(e,s,i)},keyup:function(e){switch(e.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:var t=a(e.target).data("oj-slider-thumb-index");this._thumbIndex=t,this._change(e,t,!1),a(e.target).removeClass("oj-active"),this._updateUI(!0),this._thumbIndex=null}}},_InitOptions:function(e,i){var n=this.options,r=this;this._superApply(arguments);var a=[{attribute:"disabled",validateOption:!0},{attribute:"value"},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}];if(!this._IsCustomElement()&&(t.EditableValueUtils.initializeOptionsFromDom(a,i,this,function(e){for(var t=e,i=["value","step","min","max"],a=0;a<i.length;a++){var s=i[a],o=s in t?t[s]:n[s];null!=o&&("step"===s?t[s]=r._parseStep(o):"min"===s||"max"===s?t[s]=r._parse(s,o):"value"===s&&(Array.isArray(o)?t[s]=o:t[s]=r._parse(s,o)))}}),void 0===n.value))throw new Error(this.getTranslatedString("noValue"));if(this._isCustomRangeSlider()&&this._checkStartEnd(n.value.start,n.value.end),this._checkMinMax(n.min,n.max),Array.isArray(n.value))for(var s=0;s<n.value.length;s+=1)this._checkValueBounds(n.value[s],n.min,n.max);else this._checkValueBounds(n.value,n.min,n.max)},_checkValueBounds:function(e,t,i){if(null!=t&&e<t)throw new Error(this.getTranslatedString("valueRange"));if(null!=i&&e>i)throw new Error(this.getTranslatedString("valueRange"))},_checkMinMax:function(e,t){if(null!=e&&null!=t&&e>=t)throw new Error(this.getTranslatedString("maxMin"))},_checkStartEnd:function(e,t){if(null!=e&&null!=t&&e>t)throw new Error(this.getTranslatedString("startEnd"))},getNodeBySubId:function(e){if(null==e)return this.element?this.element[0]:null;var t=e.subId;return"oj-slider-thumb-0"===t?this.widget().find(".oj-slider-thumb")[0]:"oj-slider-thumb-1"===t?this.widget().find(".oj-slider-thumb")[1]:"oj-slider-bar"===t||"oj-slider-bar-value"===t?this.widget().find("."+t)[0]:null},getSubIdByNode:function(e){if(null!=e){if(e.id===this._getThumbId(0)&&a(e).hasClass("oj-slider-thumb"))return{subId:"oj-slider-thumb-0"};if(e.id===this._getThumbId(1)&&a(e).hasClass("oj-slider-thumb"))return{subId:"oj-slider-thumb-1"};if(a(e).hasClass("oj-slider-bar"))return{subId:"oj-slider-bar"};if(a(e).hasClass("oj-slider-bar-value"))return{subId:"oj-slider-bar-value"}}return null},_GetDefaultStyleClass:function(){return"oj-slider"},_parse:function(e,t){var i;if(i=null!==t?+t:t,isNaN(i))throw new Error(this.getTranslatedString("optionNum",{option:e}));return i},_parseStep:function(e){var t;if(null===e)return 1;if((t=this._parse("step",e))<=0)throw new Error(this.getTranslatedString("invalidStep"));return(null===t||t<=0)&&(t=1),t},_getEndInterval:function(){return this._barback.oferval:function(){return this._barback.offset().left},_callDraggable:function(e){var t,i=this._getGrid(),n=e[0].style;t=this._isVertical()?"y":"x";var r=this;e.draggable({axis:t,grid:i,disabled:!1,start:function(t){e[0]===a(r._thumbs)[0]?r._thumbIndex=0:e[0]===a(r._thumbs)[1]&&(r._thumbIndex=1),r._initDragging(t,e)},drag:function(t,i){var s=i.position;if(r._isVertical()?(n.left="",s.left=""):(n.top="",s.top=""),r._mouseDragInternal(t,e),r._isVertical()?(s.top<0&&(s.top=0),s.top>r._barback.height()&&(s.top=r._barback.height())):(s.left<0&&(s.left=0),s.left>r._barback.width()&&(s.left=r._barback.width())),r._multipleThumbs){var o,l;if(o=0===r._thumbIndex?a(r._thumbs[1]):a(r._thumbs[0]),r._isVertical()){var u=e.outerHeight()/2,d=r._barback.offsetParent().offset().top;l=o.offset().top+u-d}else{var c=e.outerWidth()/2,h=r._barback.offsetParent().offset().left;l=o.offset().left+c-h}0===r._thumbIndex?r._isVertical()?s.top<l&&(s.top=l):r._isRTL()?s.left<l&&(s.left=l):s.left>l&&(s.left=l):r._isVertical()?s.top>l&&(s.top=l):r._isRTL()?s.left>l&&(s.left=l):s.left<l&&(s.left=l)}},stop:function(t){this.style.width="",this.style.height="",r._mouseStop(t,e)}})},_makeDraggable:function(){this.options.disabled||rEach(function(e){var t=a(e);this._callDraggable(t)},this):this._callDraggable(this._thumb))},_disableDraggable:function(){this._multipleThumbs?this._thumbs.toArray().forEach(function(e){var t=a(e);t.is(".ui-draggable")&&t.draggable("disable")},this):this._thumb.is(".ui-draggable")&&this._thumb.draggable("disable")},_destroyDraggable:function(){this._multipleThumbs?this._thumbs.toArray().forEach(function(e){var t=a(e);t.is(".ui-draggable")&&t.draggable("destroy")},this):this._thumb.is(".ui-draggable")&&this._thumb.draggable("destroy")}})}),define("ojs/ojswitch",["ojs/ojcore","ojs/ojeditablevalue","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojfocusutils"],function(e,t,i,n,r,a){"use strict";var s;i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,(s={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},readonly:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{switchOff:{type:"string"},switchOn:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"boolean",writeback:!0,value:!1}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojSwitch",s.extension._INNER_ELEM="input",s.extension._ALIASED_PROPS={readonly:"readOnly"},s.extension._GLOBAL_TRANSFER_ATTRS=["tabindex"],i.CustomElementBridge.register("oj-switch",{metadata:i.CollectionUtils.mergeDeep(s,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),i.__registerWidget("oj.ojSwitch",n.oj.editableValue,{version:"1.1.0",defaultElement:"<input>",widgetEventPrefix:"oj",options:{disabled:!1,labelledBy:null,readOnly:!1,value:!1},widget:function(){return this._element2},getNodeBySubId:function(e){var t,i=this._super(e),n=this.widget();return i||(i=null==e||null==e.subId?n:null)||"oj-switch-thumb"!==(t=e.subId)&&"oj-switch-track"!==t?i||null:n.find("."+t)[0]},getSubIdByNode:function(e){var t,i=n(this.element).attr("id"),r=this._super(e);return null!=e&&(n(e).hasClass("oj-switch-track")||n(e).hasClass("oj-switch-thumb"))&&(i===(t=n(e).parents("div.oj-switch").find("input.oj-component-initnode").attr("id"))&&n(e).hasClass("oj-switch-track")?r={subId:"oj-switch-track"}:i===t&&n(e).hasClass("oj-switch-thumb")&&(r={subId:"oj-switch-thumb"})),r},_BUNDLE_KEY:{_SWITCH_OFF:"SwitchOFF",_SWITCH_ON:"SwitchON"},_InitOptions:function(e,i){var n,r;n=[{attribute:"disabled",validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"checidateOption:!1,coerceDomValue:function(e){return!!e}},{attribute:"title"}];let a=i;const s=i.translations;if(s){const e=Object.assign({},s);void 0!==s.switchOn&&(e.SwitchON=s.switchOn),void 0!==s.switchOff&&(e.SwitchOFF=s.switchOff),a=Object.assign({},i,{translations:e})}this._super(e,a),this._IsCustomElement()||(t.EditableValueUtils.initializeOptionsFromDom(n,i,this),r=this.option("value"),this.option({value:!!r},{_context:{writeback:!0,internalSet:!0}}))},_ComponentCreate:function(){if(this._super(),!this.element.is("input"))throw new Error("ojSwitch can be bound to INPUT only.");this._inputElementOriginalDisplay=this.element.css("display"),this._inputElementTabIndex=this.element.attr("tabindex")||0,this.element.css("display","none").attr("type","checkbox").attr("checked",this.option("value")).attr("tabindex","-1").attr("disabled",this.option("disabled")).attr("readonly",this.option("readOnly")),this.OuterWrapper?this._element2=n(this.OuterWrapper):this._element2=this.element.wrap("<div></div>").parent(),this._element2.addClass("oj-switch oj-component oj-form-control");const e=`\n      <div class='oj-switch-container oj-form-control-container'>\n        <div class='oj-switch-track'>\n          <div class='oj-switch-thumb' tabIndex='${this._inputElementTabIndex}'></div>\n        </div>\n      </div>\n      `;this._element2.append(e),this.switchThumb=this._element2.find(".oj-switch-thumb"),this.switchThumb.attr("role",this._setSwitchRole()),this.switchTrack=this._element2.find(".oj-switch-track")},_AfterCreate:function(){this._super();var e=this.switchThumb;this._SetAriaInfo(e),this._ariaLabelElement=this.switchThumb[0],this._setup()},_SetAriaInfo:function(e){var i,n;if(i=this.OuterWrapper?this._element2[0]:this._element2[0].querySelector("input"),this._IsCustomElement()){if(this.options.labelledBy){var r=this.uuid+"_Label";n=t.EditableValueUtils._getOjLabelAriaLabelledBy(this.options.labelledBy,r)}}else{var a=this._GetLabelElement();a&&(n=a.attr("id"))}if(n)e.attr("aria-labelledby",n);else{var s=i.getAttribute("aria-label");s&&(e.attr("aria-label",s),i.riaLabelElement?this._ariaLabelElement:this._super()},_setup:function(){var e=n(this.widget());if(this._setupEvents(),void 0!==e){if(this.element.attr("checked",this.option("value")),e.removeClass("oj-disabled oj-read-only oj-selected oj-hover oj-active"),n(this.switchThumb).attr("tabindex",this._inputElementTabIndex),n(this.switchThumb).html(""),this.option("disabled")||this.option("readOnly"))if(this.option("disabled"))e.addClass("oj-disabled"),n(this.switchThumb).removeAttr("tabindex");else{e.addClass("oj-read-only");let t=this._setReadOnlyValue();n(this.switchThumb).html(t)}this.option("value")&&e.addClass("oj-selected"),n(this.switchThumb).attr("aria-checked",this.option("value")),n(this.switchThumb).removeAttr("aria-disabled"),n(this.switchThumb).removeAttr("aria-readonly"),e.removeAttr("aria-disabled"),this._CanSetValue()||(this.option("disabled")?n(this.switchThumb).attr("aria-disabled","true"):n(this.switchThumb).attr("aria-readonly","true"))}},_setReadOnlyValue:function(){var e=this._BUNDLE_KEY._SWITCH_OFF;return this.option("value")&&(e=this._BUNDLE_KEY._SWITCH_ON),this.getTranslatedString(e)},_setupEvents:function(){this._off(this._element2,"keydown keyup mouseup touchend"),this._CanSetValue()&&(this._on(this._element2,this._switchEvents),this._AddHoverable(this._element2),this._AddActiveable(this._element2)),this._focusable({element:this.switchThumb,applyHighlight:!0})},_switchEvents:{keydown:function(e){const t=e.which||e.keyCode;t!==n.ui.keyCode.ENTER&&t!==n.ui.keyCode.SPACE||(n(e.currentTarget).addClass("oj-active"),e.preventDefault())},keyup:function(e){const t=e.which||e.keyCode;t!==n.ui.keyCode.ENTER&&t!==n.ui.keyCode.SPACE||this._SetValue(!this.option("value"),e)},mouseup:function(e){r.isAncestorOrSelf(this.switchTrack[0],e.target)&&(0===e.button&&this._isRealMouseEvent(e)&&this._SetValue(!this.option("value"),e),a.focusElement(this.switchThumb[0]))},touchend:function(e){r.isAncestorOrSelf(this.switchTrack[0],e.target)&&(this._SetValue(!this.option("value"),e),a.focusElement(this.switchThumb[0]))}},_GetDefaultStyleClass:function(){return"oj-switch"},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_setSwitchRole:function(){return"switch"},_destroy:function(){return this._CanSetValue()&&(this._RemoveHoverable(this._element2),this._RemoveActiveable(this._element2)),this._element2.find(".oj-switch-track").remove(),r.unwrap(this.element),this._RestoreAttributes(this.element),this._super()},_GetMessagingLauncherElement:function(){return this._element2},_GetContentElement:function(){return this.switchThumb},_AfterSetOption:function(e,i,n){switch(this._superApply(arguments),e){case"readOnly":this._AfterSetOptionDisabledReadOnly(e,t.EditableValueUtils.readOnlyOptionOptions)}},option:function(e,t){let i=arguments,n=e;return"translations.switchOn"===e?n="translations.SwitchON":"translations.switchOff"===e&&(n="translations.SwitchOFF"),i.length>0&&(i[0]=n),this._superApply(i)},_setOption:function(e,t,i){var n;switch(e){case"disabled":case"readOnly":case"value":n=!!t;break;default:n=t}switch(this._super(e,n,i),e){case"labelledBy":this._SetAriaInfo(this.switchThumb)}},_isRealMouseon(e,t,i){this._superApply(arguments),this._setup()}})}),define("ojs/ojcolor",["ojs/ojcore-base"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=/^\s+/,i=/\s+$/,n=Math.round,r=Math.min,a=Math.max;function s(e){var n;n=function(e){var n={r:0,g:0,b:0},s=1,d=null,c=null,h=null,f=!1;"string"==typeof e&&(e=function(e){if("transparent"===(e=e.replace(t,"").replace(i,"").toLowerCase()))return{r:0,g:0,b:0,a:0};var n=p.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=p.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=p.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=p.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=p.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=p.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=p.hex6.exec(e))return{r:l(n[1]),g:l(n[2]),b:l(n[3])};if(n=p.hex3.exec(e))return{r:l(n[1]+""+n[1]),g:l(n[2]+""+n[2]),b:l(n[3]+""+n[3])};return!1}(e));"object"==typeof e&&(_(e.r)&&_(e.g)&&_(e.b)?(m=e.r,v=e.g,g=e.b,n={r:255*o(m,255),g:255*o(v,255),b:255*o(g,255][u],g:255*[l,i,i,s,a,a][u],b:255*[a,a,l,i,i,s][u]}}(e.h,d,c),f=!0):_(e.h)&&_(e.s)&&_(,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(e=o(e,360),t=o(t,100),i=o(i,100),0===t)n=i,r=i,a=i;else{var l=i<.5?i*(1+t):i+t-i*t,u=2*i-l;n=s(u,l,e+1/3),r=s(u,l,e),a=s(u,l,e-1/3)}return{r:255*n,g:255*r,b:255*a}}(e.h,d,h),f=!0),void 0!==e.a&&(s=e.a));var m,v,g;if(!f)throw new Error("Invalid Color format");return s=function(e){var t=parseFloat(e);(isNaN(t)||t<0||t>1)&&(t=1);return t}(s),{r:r(255,a(n.r,0)),g:r(255,a(n.g,0)),b:r(255,a(n.b,0)),a:s}}(e=e||""),this._r=n.r,this._g=n.g,this._b=n.b,this._a=Math.round(100*n.a)/100}function o(e,t){var i=e;(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(i)&&(i="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(i);return i=r(t,a(0,parseFloat(i))),n&&(i=parseIntt/parseFloat(t)}function l(e){return parseInt(e,16)}function u(e){var t=e;return t<=1&&(t=100*t+"%"),t}s.prototype.getRed=function(e){return e?this._r:n(this._r)},s.prototype.getGreen=function(e){return e?this._g:n(this._g)},s.prototype.getBlue=function(e){return e?this._b:n(this._b)},s.prototype.getAlpha=function(){return this._a},s.prototype.toString=function(){return"rgb"+((t=(e=this)._a<1)?"a(":"(")+n(e._r)+", "+n(e._g)+", "+n(e._b)+(t?", "+e._a:"")+")";var e,t},s.prototype.isEqual=function(e){var t=!1;return e instanceof s&&(t=this._r===e._r&&this._g===e._g&&this._b===e._b&&this._a===e._a),t},s.ALICEBLUE=null,s.ANTIQUEWHITE=null,s.AQUA=null,s.AQUAMARINE=null,s.AZURE=null,s.BEIGE=null,s.BISQUE=null,s.BLACK=null,s.BLANCHEDALMOND=null,s.BLUE=null,s.BLUEVIOLET=null,s.BROWN=null,s.BURLYWOOD=null,s.CADETBLUE=null,s.CHARTREUSE=null,s.CHOCOLATE=null,s.CORAL=null,s.CORNFLOWERBLUE=null,s.CORNSILK=null,s.CRIMSON=null,s.CYAN=null,s.DARKBLUE=null,s.DARKCYAN=null,s.DARKGOLDENROD=null,s.DARKGRAY=null,s.DARKGREY=null,s.DARKGREEN=null,s.DARKKHAKI=null,s.DARKMAGENTA=null,s.DARKOLIVEGREEN=null,s.DARKORANGE=null,s.DARKORCHID=null,s.DARKRED=null,s.DARKSALMON=null,s.DARKSEAGREEN=null,s.DARKSLATEBLUE=null,s.DARKSLATEGRAY=null,s.DARKSLATEGREY=null,s.DARKTURQUOISE=null,s.DARKVIOLET=null,s.DEEPPINK=null,s.DEEPSKYBLUE=null,s.DIMGRAY=null,s.DIMGREY=null,s.DODGERBLUE=null,s.FIREBRICK=null,s.FLORALWHITE=null,s.FORESTGREEN=null,s.FUCHSIA=null,s.GAINSBORO=null,s.GHOSTWHITE=null,s.GOLD=null,s.GOLDENROD=null,s.GRAY=null,s.GREEN=null,s.GREENYELLOW=null,s.GREY=null,s.HONEYDEW=null,s.HOTPINK=null,s.INDIANRED=null,s.INDIGO=null,s.IVORY=null,s.KHAKI=null,s.LAVENDER=null,s.LAVENDERBLUSH=null,s.LAWNGREEN=null,s.LEMONCHIFFON=null,s.LIGHTBLUE=null,s.LIGHTCORAL=null,s.LIGHTCYAN=null,s.LIGHTGOLDENRODYELLOW=null,s.LIGHTGRAY=null,s.LIGHTGREEN=null,s.LIGHTGREY=null,s.LIGHTPINK=null,s.LIGHTSALMON=null,s.LIGHTSEAGREEN=null,s.LIGHTSKYBLUE=null,s.LIGHTSLATEGRAY=null,s.LIGHTSLATEGREY=null,s.LIGHTSTEELBLUE=null,s.LIGHTYELLOW=null,s.LIME=null,s.LIMEGREEN=null,s.LINEN=null,s.MAGENTA=null,s.MAROON=null,s.MEDIUMAQUAMARINE=null,s.MEDIUMBLUE=null,s.MEDIUMORCHID=null,s.MEDIUMPURPLE=null,s.MEDIUMSEAGREEN=null,s.MEDIUMSLATEBLUE=null,s.MEDIUMSPRINGGREEN=null,s.MEDIUMTURQUOISE=null,s.MEDIUMVIOLETRED=null,s.MIDNIGHTBLUE=null,s.MINTCREAM=null,s.MISTYROSE=null,s.MOCCASIN=null,s.NAVAJOWHITE=null,s.NAVY=null,s.OLDLACE=null,s.OLIVE=null,s.OLIVEDRAB=null,s.ORANGE=null,s.ORANGERED=null,s.ORCHID=null,s.PALEGOLDENROD=null,s.PALEGREEN=null,s.PALETURQUOISE=null,s.PALEVIOLETRED=null,s.PAPAYAWHIP=null,s.PEACHPUFF=null,s.PERU=null,s.PINK=null,s.PLUM=null,s.POWDERBLUE=null,s.PURPLE=null,s.REBECCAPURPLE=null,s.RED=null,s.ROSYBROWN=null,s.ROYALBLUE=null,s.SADDLEBROWN=null,s.SALMON=null,s.SANDYBROWN=null,s.SEAGREEN=null,s.SEASHELL=null,s.SIENNA=null,s.SILVER=null,s.SKYBLUE=null,s.SLATEBLUE=null,s.SLATEGRAY=null,s.SLATEGREY=null,s.SNOW=null,s.SPRINGGREEN=null,s.STEELBLUE=null,s.TAN=null,s.TEAL=null,s.THISTLE=null,s.TOMATO=null,s.TURQUOISE=null,s.VIOLET=null,s.WHEAT=null,s.WHITE=null,s.WHITESMOKE=null,s.YELLOW=null,s.YELLOWGREEN=null,s.TRANSPARENT=null;var d,c,h,p=(c="[\\s|\\(]+("+(d="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+d+")[,|\\s]+("+d+")\\s*\\)?",h="[\\s|\\(]+("+d+")[,|\\s]+("+d+")[,|\\s]+("+d+")[,|\\s]+("+d+")\\s*\\)?",{CSS_UNIT:new RegExp(d),rgb:new RegExp("rgb"+c),rgba:new RegExp("rgba"+h),hsl:new RegExp("hsl"+c),hsla:new RegExp("hsla"+h),hsv:new RegExp("hsv"+c),hsva:new RegExp("hsva"+h),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})F]{2})$/});function _(e){return!!p.CSS_UNIT.exec(e)}return Object.defineProperty(s,"ALICEBLUE",{writable:!1,value:new s("f0f8ff")}),Object.defineProperty(s,"ANTIQUEWHITE",{writable:!1,value:new s("faebd7")}),Object.defineProperty(s,"AQUA",{writable:!1,value:new s("0ff")}),Object.defineProperty(s,"AQUAMARINE",{writable:!1,value:new s("7fffd4")}),Object.defineProperty(s,"AZURE",{writable:!1,value:new s("f0ffff")}),Object.defineProperty(s,"BEIGE",{writable:!1,value:new s("f5f5dc")}),Object.defineProperty(s,"BISQUE",{writable:!1,value:new s("ffe4c4")}),Object.defineProperty(s,"BLACK",{writable:!1,value:new s("000")}),Object.defineProperty(s,"BLANCHEDALMOND",{writable:!1,value:new s("ffebcd")}),Object.defineProperty(s,"BLUE",{writable:!1,value:new s("00f")}),Object.defineProperty(s,"BLUEVIOLET",{writable:!1,value:new s("8a2be2")}),Object.defineProperty(s,"BROWN",{writable:!1,value:new s("a52a2a")}),Object.defineProperty(s,"BURLYWOOD",{writable:!1,value:new s("deb887")}),Object.defineProperty(s,"CADETBLUE",{writable:!1,value:new s("5f9ea0")}),Object.defineProperty(s,"CHARTREUSE",{writable:!1,value:new s("7fff00")}),Object.defineProperty(s,"CHOCOLATE",{writable:!1,value:new s("d2691e")}),Object.defineProperty(s,"CORAL",{writable:!1,value:new s("ff7f50")}),Object.defineProperty(s,"CORNFLOWERBLUE",{writable:!1,value:new s("6495ed")}),Object.defineProperty(s,"CORNSILK",{writable:!1,value:new s("fff8dc")}),Object.defineProperty(s,"CRIMSON",{writable:!1,value:new s("dc143c")}),Object.defineProperty(s,"CYAN",{writable:!1,value:new s("0ff")}),Object.defineProperty(s,"DARKBLUE",{writable:!1,value:new s("00008b")}),Object.defineProperty(s,"DARKCYAN",{writable:!1,value:new s("008b8b")}),Object.defineProperty(s,"DARKGOLDENROD",{writable:!1,value:new s("b8860b")}),Object.defineProperty(s,"DARKGRAY",{writable:!1,value:new s("a9a9a9")}),Object.defineProperty(s,"DARKGREY",{writable:!1,value:new s("a9a9a9")}),Object.defineProperty(s,"DARKGREEN",{writable:!1,value:new s("006400")}),Object.defineProperty(s,"DARKKHAKI",{writable:!1,value:new s("bdb76b")}),Object.defineProperty(s,"DARKMAGENTA",{writable:!1,value:new s("8b008b")}),Object.defineProperty(s,"DARKOLIVEGREEN",{writable:!1,value:new s("556b2f")}),Object.defineProperty(s,"DARKORANGE",{writable:!1,value:new s("ff8c00")}),Object.defineProperty(s,"DARKORCHID",{writable:!1,value:new s("9932cc")}),Object.defineProperty(s,"DARKRED",{writable:!1,value:new s("8b0000")}),Object.defineProperty(s,"DARKSALMON",{writable:!1,value:new s("e9967a")}),Object.defineProperty(s,"DARKSEAGREEN",{writable:!1,value:new s("8fbc8f")}),Object.defineProperty(s,"DARKSLATEBLUE",{writable:!1,value:new s("483d8b")}),Object.defineProperty(s,"DARKSLATEGRAY",{writable:!1,value:new s("2f4f4f")}),Object.defineProperty(s,"DARKSLATEGREY",{writable:!1,value:new s("2f4f4f")}),Object.defineProperty(s,"DARKTURQUOISE",{writable:!1,value:new s("00ced1")}),Object.defineProperty(s,"DARKVIOLET",{writable:!1,value:new s("9400d3")}),Object.defineProperty(s,"DEEPPINK",{writable:!1,value:new s("ff1493")}),Object.defineProperty(s,"DEEPSKYBLUE",{writable:!1,value:new s("00bfff")}),Object.defineProperty(s,"DIMGRAY",{writable:!1,value:new s("696969")}),Object.defineProperty(s,"DIMGREY",{writable:!1,value:new s("696969")}),Object.defineProperty(s,"DODGERBLUE",{writable:!1,value:new s("1e90ff")}),Object.defineProperty(s,"FIREBRICK",{writable:!1,value:new s("b22222")}),Object.defineProperty(s,"FLORALWHITE",{writable:!1,value:new s("fffaf0")}),Object.defineProperty(s,"FORESTGREEN",{writable:!1,value:new s("228b22")}),Object.defineProperty(s,"FUCHSIA",{writable:!1,value:new s("f0f")}),Object.defineProperty(s,"GAINSBORO",{writable:!1,value:new s("dcdcdc")}),Object.defineProperty(s,"GHOSTWHITE",{writable:!1,value:new s("f8f8ff")}),Object.defineProperty(s,"GOLD",{writable:!1,value:new s("ffd700")}),Object.defineProperty(s,"GOLDENROD",{writable:!1,value:new s("daa520")}),Object.defineProperty(s,"GRAY",{writable:!1,value:new s("808080")}),Object.defineProperty(s,"GREY",{writable:!1,value:new s("808080")}),Object.defineProperty(s,"GREEN",{writable:!1,value:new s("008000")}),Object.defineProperty(s,"GREENYELLOW",{writable:!1,value:new s("adff2f")}),Object.defineProperty(s,"HONEYDEW",{writable:!1,value:new s("f0fff0")}),Object.defineProperty(s,"HOTPINK",{writable:!1,value:new s("ff69b4")}),Object.defineProperty(s,"INDIANRED",{writable:!1,value:new s("cd5c5c")}),Object.defineProperty(s,"INDIGO",{writable:!1,value:new s("4b0082")}),Object.defineProperty(s,"IVORY",{writable:!1,value:new s("fffff0")}),Object.defineProperty(s,"KHAKI",{writable:!1,value:new s("f0e68c")}),Object.defineProperty(s,"LAVENDER",{writable:!1,value:new s("e6e6fa")}),Object.defineProperty(s,"LAVENDERBLUSH",{writable:!1,value:new s("fff0f5")}),Object.defineProperty(s,"LAWNGREEN",{writable:!1,value:new s("7cfc00")}),Object.defineProperty(s,"LEMONCHIFFON",{writable:!1,value:new s("fffacd")}),Object.defineProperty(s,"LIGHTBLUE",{writable:!1,value:new s("add8e6")}),Object.defineProperty(s,"LIGHTCORAL",{writable:!1,value:new s("f08080")}),Object.defineProperty(s,"LIGHTCYAN",{writable:!1,value:new s("e0ffff")}),Object.defineProperty(s,"LIGHTGOLDENRODYELLOW",{writable:!1,value:new s("fafad2")}),Object.defineProperty(s,"LIGHTGRAY",{writable:!1,value:new s("d3d3d3")}),Object.defineProperty(s,"LIGHTGREY",{writable:!1,value:new s("d3d3d3")}),Object.defineProperty(s,"LIGHTGREEN",{writable:!1,value:new s("90ee90")}),Object.defineProperty(s,"LIGHTPINK",{writable:!1,value:new s("ffb6c1")}),Object.defineProperty(s,"LIGHTSALMON",{writable:!1,value:new s("ffa07a")}),Object.defineProperty(s,"LIGHTSEAGREEN",{writable:!1,value:new s("20b2aa")}),Object.defineProperty(s,"LIGHTSKYBLUE",{writable:!1,value:new s("87cefa")}),Object.defineProperty(s,"LIGHTSLATEGRAY",{writable:!1,value:new s("789")}),Object.defineProperty(s,"LIGHTSLATEGREY",{writable:!1,value:new s("789")}),Object.defineProperty(s,"LIGHTSTEELBLUE",{writable:!1,value:new s("b0c4de")}),Object.defineProperty(s,"LIGHTYELLOW",{writable:!1,value:new s("ffffe0")}),Object.defineProperty(s,"LIME",{writable:!1,value:new s("0f0")}),Object.defineProperty(s,"LIMEGREEN",{writable:!1,value:new s("32cd32")}),Object.defineProperty(s,"LINEN",{writable:!1,value:new s("faf0e6")}),Object.defineProperty(s,"MAGENTA",{writable:!1,value:new s("f0f")}),Object.defineProperty(s,"MAROON",{writable:!1,value:new s("800000")}),Object.defineProperty(s,"MEDIUMAQUAMARINE",{writable:!1,value:new s("66cdaa")}),Object.defineProperty(s,"MEDIUMBLUE",{writable:!1,value:new s("0000cd")}),Object.defineProperty(s,"MEDIUMORCHID",{writable:!1,value:new s("ba55d3")}),Object.defineProperty(s,"MEDIUMPURPLE",{writable:!1,value:new s("9370db")}),Object.defineProperty(s,"MEDIUMSEAGREEN",{writable:!1,value:new s("3cb371")}),Object.defineProperty(s,"MEDIUMSLATEBLUE",{writable:!1,value:new s("7b68ee")}),Object.defineProperty(s,"MEDIUMSPRINGGREEN",{writable:!1,value:new s("00fa9a")}),Object.defineProperty(s,"MEDIUMTURQUOISE",{writable:!1,value:new s("48d1cc")}),Object.defineProperty(s,"MEDIUMVIOLETRED",{writable:!1,value:new s("c71585")}),Object.defineProperty(s,"MIDNIGHTBLUE",{writable:!1,value:new s("191970")}),Object.defineProperty(s,"MINTCREAM",{writable:!1,value:new s("f5fffa")}),Object.defineProperty(s,"MISTYROSE",{writable:!1,value:new s("ffe4e1")}),Object.defineProperty(s,"MOCCASIN",{writable:!1,value:new s("ffe4b5")}),Object.defineProperty(s,"NAVAJOWHITE",{writable:!1,value:new s("ffdead")}),Object.defineProperty(s,"NAVY",{writable:!1,value:new s("000080")}),Object.defineProperty(s,"OLDLACE",{writable:!1,value:new s("fdf5e6")}),Object.defineProperty(s,"OLIVE",{writable:!1,value:new s("808000")}),Object.defineProperty(s,"OLIVEDRAB",{writable:!1,value:new s("6b8e23")}),Object.defineProperty(s,"ORANGE",{writable:!1,value:new s("ffa500")}),Object.defineProperty(s,"ORANGERED",{writable:!1,value:new s("ff4500")}),Object.defineProperty(s,"ORCHID",{writable:!1,value:new s("da70d6")}),Object.defineProperty(s,"PALEGOLDENROD",{writable:!1,value:new s("eee8aa")}),Object.defineProperty(s,"PALEGREEN",{writable:!1,value:new s("98fb98")}),Object.defineProperty(s,"PALETURQUOISE",{writable:!1,value:new s("afeeee")}),Object.defineProperty(s,"PALEVIOLETRED",{writable:!1,value:new s("db7093")}),Object.defineProperty(s,"PAPAYAWHIP",{writable:!1,value:new s("ffefd5")}),Object.defineProperty(s,"PEACHPUFF",{writable:!1,value:new s("ffdab9")}),Object.defineProperty(s,"PERU",{writable:!1,value:new s("cd853f")}),Object.defineProperty(s,"PINK",{writable:!1,value:new s("ffc0cb")}),Object.defineProperty(s,"PLUM",{writable:!1,value:new s("dda0dd")}),Object.defineProperty(s,"POWDERBLUE",{writable:!1,value:new s("b0e0e6")}),Object.defineProperty(s,"PURPLE",{writable:!1,value:new s("800080")}),Object.defineProperty(s,"REBECCAPURPLE",{writable:!1,value:new s("663399")}),Object.defineProperty(s,"RED",{writable:!1,value:new s("f00")}),Object.defineProperty(s,"ROSYBROWN",{writable:!1,value:new s("bc8f8f")}),Object.defineProperty(s,"ROYALBLUE",{writable:!1,value:new s("4169e1")}),Object.defineProperty(s,"SADDLEBROWN",{writable:!1,value:new s("8b4513")}),Object.defineProperty(s,"SALMON",{writable:!1,value:new s("fa8072")}),Object.defineProperty(s,"SANDYBROWN",{writable:!1,value:new s("f4a460")}),Object.defineProperty(s,"SEAGREEN",{writable:!1,value:new s("2e8b57")}),Object.defineProperty(s,"SEASHELL",{writable:!1,value:new s("fff5ee")}),Object.defineProperty(s,"SIENNA",{writable:!1,value:new s("a0522d")}),Object.defineProperty(s,"SILVER",{writable:!1,value:new s("c0c0c0")}),Object.defineProperty(s,"SKYBLUE",{writable:!1,value:new s("87ceeb")}),Object.defineProperty(s,"SLATEBLUE",{writable:!1,value:new s("6a5acd")}),Object.defineProperty(s,"SLATEGRAY",{writable:!1,value:new s("708090")}),Object.defineProperty(s,"SLATEGREY",{writable:!1,value:new s("708090")}),Object.defineProperty(s,"SNOW",{writable:!1,value:new s("fffafa")}),Object.defineProperty(s,"SPRINGGREEN",{writable:!1,value:new s("00ff7f")}),Object.defineProperty(s,"STEELBLUE",{writable:!1,value:new s("4682b4")}),Object.defineProperty(s,"TAN",{writable:!1,value:new s("d2b48c")}),Object.defineProperty(s,"TEAL",{writable:!1,value:new s("008080")}),Object.defineProperty(s,"THISTLE",{writable:!1,value:new s("d8bfd8")}),Object.defineProperty(s,"TOMATO",{writable:!1,value:new s("ff6347")}),Object.defineProperty(s,"TURQUOISE",{writable:!1,value:new s("40e0d0")}),Object.defineProperty(s,"VIOLET",{writable:!1,value:new s("ee82ee")}),Object.defineProperty(s,"WHEAT",{writable:!1,value:new s("f5deb3")}),Object.defineProperty(s,"WHITE",{writable:!1,value:new s("fff")}),Object.defineProperty(s,"WHITESMOKE",{writable:!1,value:new s("f5f5f5")}),Object.defineProperty(s,"YELLOW",{writable:!1,value:new s("ff0")}),Object.defineProperty(s,"YELLOWGREEN",{writable:!1,value:new s("9acd32")}),Object.defineProperty(s,"TRANSPARENT",{writable:!1,value:new s("rgba(0,0,0,0)")}),e._registerLegacyNamespaceProp("Color",s),s}),define("ojs/ojfilepickerutils",["exports","ojs/ojcore-base"],function(e,t){"use strict";let i;const n=(t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t).AgentUtils.getAgentInfo().os===t.AgentUtils.OS.IOS,r=()=>{n&&document.body.removeChild(i),i=null};e.pickFiles=function(e,t){(e=>{i&&r(),i=document.createElement("input"),i.type="file",(null==e?void 0:e.capture)&&"none"!=e.capture&&(i.capture=e.capture);const t=null==e?void 0:e.accept,a=t&&t.length?t.join(","):null;i.accept=a,i.multiple="multiple"==(null==e?void 0:e.selectionMode),i.style.display="ndChild(i)})(t),i.onchange=function(){e(i.files),r()},i.click()},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojfilepicker",["exports","ojs/ojcore-base","ojs/ojdomutils","ojs/ojvcomponent","preact","ojs/ojtranslation","ojs/ojfilepickerutils","ojs/ojfocusutils"],function(e,t,i,n,r,a,s,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototyp)||s);return a>3&&s&&Object.defineProperty(t,i,s),s};e.FilePicker=class extends r.Component{constructor(e){super(e),this.rootRef=r.createRef(),this._handleSelectingFiles=e=>{var t;if("click"===e.type||"keypress"===e.type&&"Enter"===e.code){this.selecting=!0,e.preventDefault();const i=this.props;return s.pickFiles(this._handleFileSelected,{accept:i.accept,selectionMode:i.selectionMode,capture:null!==(t=i.capture)&&void 0!_handleFileSelected=e=ragEnter=e=>{e.preventDefault(),e.stopPropagation()},this._handleDragOver=e=>{e.preventDefault(),e.stopPropagation();const i=e.dataTransfer;if(this.inDropZone)return;const n=t.AgentUtils.getAgentInfo();if(this.inDropZone=!0,this.isDroppable=!0,n.browser!==t.AgentUtils.BROWSER.SAFARI&&n.browser!==t.AgentUtils.BROWSER.IE){const t=i.items;let n=[];const r=this._validateSelectionMode(t),s=this._validateTypes(t);r&&0===s.rejected.length?this.setState({validity:"valid"}):(this.isDroppable=!1,r?n=this._getMimeTypeValidationMessages(s.rejected):n.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.singleFileUploadError")}),this._fireInvalidSelectAction(n,e,!0))}else this.setState({validity:"valid"})},this._handleDragLeave=(e,t=!1)=>{this.inDropZone&&(e.preventDefault(),e.stopPropagation(),this.rootRef.current.contains(e.relatedTarget)||(this.inDropZone=!1,this.setState({validity:"NA"}),this.isDroppable||t||(this.dragPromiseResolver(),this.dragPromiseResolver=null)))},this._handleFileDrop=e=>{if(this.inDropZone){e.preventDefault(),e.stopPropagation();const t=this._createFileList(e.dataTransfer.files);let i=!1;if(this.isDroppable){let n=[];if(this._validateSelectionMode(t)){const e=this._validateTypes(t);e.rejected.length>0&&(n=this._getMimeTypeValidationMessages(e.rejected),i=!0)}else n.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.singleFileUploadError")});n.length>0&&(this.isDroppable=!1,this._fireInvalidSelectAction(n,e,!1)),this.isDroppable&&this._handleFilesAdded(t,e)}this._handleDragLeave(e,i)}},this._handleFocusIn=()=>{this.selecting||this.setState({focus:!i.recentPointer()})},this._handleFocusOut=()=>{this.selecting||this.setState({focus:!1})},this._handleFocus=e=>{var t;null===(t=this.rootRef.current)||void 0===t||t.dispatchEvent(new FocusEvent("focus",{relatedTarget:e.relatedTarget}))},this._handleBlur=e=>{var t;null===(t=this.rootRef.current)||void 0===t||t.dispatchEvent(new FocusEvent("blur",{relatedTarget:e.relatedTarget}))},this.state={focus:!1,validity:"NA"}}_doSelectHelper(e){const t=new Promise(e=>{this.elementPromiseResolver=e});return this._fileSelectedHelper(e),t}_fileSelectedHelper(e){if(e.length>0){const t=this._validateTypes(e).rejected;t.length>0?this._fireInvalidSelectAction(this._getMimeTypeValidationMessages(t),null,1}focus(){o.focusFirstTabStop(this.rootRef.current)}blur(){const e=document.activeElement;this.rootRef.current.contains(e)&&e.blur()}render(e){const t=e.trigger;if(e.disabled)return this._renderDisabled(e,t);const i="drop"!==e.selectOn?this._handleSelectingFiles:void 0;return t?this._renderWithCustomTrigger(e,t,i):this._renderWithDefaultTrigger(e,i)}_renderDisabled(e,t){const i=t?"oj-filepicker":"oj-filepicker oj-filepicker-no-trigger";return r.h(n.Root,{class:i},r.h("div",{class:"oj-filepicker-disabled oj-filepicker-container"},t||this._renderDefaultTriggerContent(e)))}_renderWithCustomTrigger(e,t,i){const a=this._getDndHandlers(e);return r.h(n.Root,{class:"oj-filepicker "+this._getFocusClass(),ref:this.rootRef,onfocusin:this._handleFocusIn,onfocusout:this._handleFocusOut,onFocus:this._handleFocus,onBlur:this._handleBlur,role:this._getRole(e,i),"aria-label":this._getAriaLabel(e,i)},r.h("div",{onClick:i,onKeyPress:this._handleSelectingFiles,onDragEnter:a.handleDragEnter,onDragOver:a.handleDragOver,onDragLeave:a.handleDragLeave,onDragEnd:a.handleDragLeave,onDrop:a.handleFileDrop,class:"oj-filepicker-container"},t))}_renderWithDefaultTrigger(e,t){const i=this.state.validity,a="valid"===i?"oj-valid-drop":"invalid"===i?"oj-invalid-drop":"",s=this._getDndHandlers(e);return r.h(n.Root,{class:"oj-filepicker oj-filepicker-no-trigger",ref:this.rootRef,role:this._getRole(e,t),"aria-label":this._getAriaLabel(e,t)},r.h("div",{onClick:t,onKeyPress:this._handleSelectingFiles,class:"oj-filepicker-container"},r.h("div",{tabIndex:0,class:`oj-filepicker-dropzone ${a} ${this._getFocusClass()}`,onDragEnter:s.handleDragEnter,onDragOver:s.handleDragOver,onDragLeave:s.handleDragLeave,onDragEnd:s.handleDragLeave,onDrop:s.handleFileDrop,onfocusin:this._handleFocusIn,onfocusout:this._handleFocusOut,onFocus:this._handleFocus,onBlur:this._handleBlur},this._renderDefaultTriggerContent(e))))}_renderDefaultTriggerContent(e){return[r.h("div",{class:"oj-filepicker-text"},this._getPrimaryText(e)),r.h("div",{class:"oj-filepicker-secondary-text"},this._getSecondaryText(e))]}_getRole(e,t){const i=t?"button":void 0;return e.role?e.role:i}_getAriaLabel(e,t){const i=t?e.trigger?"Add Files.":`Add Files. ${this._getPrimaryText(e)}. ${this._getSecondaryText(e)}`:void 0;return e["aria-label"]?e["aria-label"]:i}_getPrimaryText(e){const t=e.primaryText;let i;if(t)if("string"==typeof t)i=t;else{i=t()}else i=a.getTranslatedString("oj-ojFilePicker.dropzonePrimaryText");return i}_getSecondaryText(e){const t="single"===e.selectionMode,i=e.secondaryText;let n;if(i)if("string"==typeof i)n=i;else{n=i({selectionMode:e.selectionMode})}else n=a.getTranslatedString(t?"oj-ojFilePicker.secondaryDropzoneText":"oj-ojFilePicker.secondaryDropzoneTextMultiple");return n}_getDndHandlers(e){return"click"!==e.selectOn?{handleDragEnter:this._handleDragEnter,handleDragOver:this._handleDragOver,handleDragLeave:this._hans(){return this.state.focus?"oj-focus-highlight":""}_validateSelectionMode(e){return"single"!==this.props.selectionMode||1===e.length}_validateTypes(e){const t=[],i=[];let n,r;if(e)for(let s=0;s<e.length;s++){n=e[s];const o=n.name;if(r=a.getTranslatedString("oj-ojFilePicker.unknownFileType"),o){let e=o.split(".");r=e.length>1?"."+e.pop():r}r=n.type?n.type:r,-1===t.indexOf(r)&&-1===i.indexOf(r)&&(this._acceptFile(n)?t.push(r):i.push(r))}return{accepted:t,rejected:i}}_getMimeTypeValidationMessages(e){const t=[];return 1===e.length?t.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.singleFileTypeUploadError",{fileType:e[0]})}):t.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.multipleFileTypeUploadError",{fileTypes:e.join(a.getTranslatedString("oj-converter.plural-separator"))})}),t}_acceptFile(e){const i=this.props.accept;if(!i||0===i.length||!e)return!0;let n;for(let r=0;r<i.length;r++){if(n=t.StringUtils.trim(i[r]),!n)return!0;if(n.startsWith(".",0)){if(!e.name||e.name&&e.name.endsWith(n))return!0}else{if(!e.type)return!1;if("image/*"===n){if(e.type.startsWith("image/",0))return!0}else if("video/*"===n){if(e.type.startsWith("video/",0))return!0}else if("audio/*"===n){if(e.type.startsWith("audio/",0))return!0}else if(e.type===n)return!0}}return!1}_handleFilesAdded(e,t){var i,n;const r=this._createFileList(e);null===(n=(i=this.props).onOjBeforeSelect)||void 0===n||n.call(i,{files:r,originalEvent:t}).then(()=>{var e,i;null===(i=(e=this.props).onOjSelect)||void 0===i||i.call(e,{files:r,originalEvent:t}),this.elementPromiseResolver&&(this.elementer=null)},e=>{this._fireInvalidSelectAction(e,t,!1)})}_fireInvalidSelectAction(e,t,i){var n,r;i&&this.onst a=i?new Promise(e=>{this.dragPromiseResolver=e}):null;null===(r=(n=this.props).onOjInvalidSelect)||void 0===r||r.call(n,{messages:e,originalEvent:t,until:a}),this.elementPromiseResolver&&(this.elementPromiseResolver(),this.elementPromiseResolver=null)}_createFilngth:{value:e.length},item:{value(e){return this[e]}}};for(let i=0;i<e.length;i++)t[i]={value:e[i],enumerable:!0};return Object.create(FileList.prototype,t)}},e.FilePicker.defaultProps={accept:null,capture:"none",disabled:!1,selectOn:"auto",selectionMode:"multiple"},e.FilePicker.metadata={properties:{accept:{type:"Array<string>|null"},capture:{type:"string|null",enumValues:["user","environment","implementation","none"]},disabled:{type:"boolean"},primaryText:{type:"string|function"},secondaryText:{type:"string|function"},selectOn:{type:"string",enumValues:["auto","click","clickAndDrop","drop"]},selectionMode:{type:"string",enumValues:["multiple","single"]}},slots:{trigger:{}},events:{ojBeforeSelect:{cancelable:!0},ojInvalidSelect:{},ojSelect:{}},extension:{_OBSERVED_GLOBAL_PROPS:["aria-label","role"]},methods:{_doSelectHelper:{},focus:{},blur:{}}},e.FilePicker=l([n.customElement("oj-file-picker")],e.FilePicker),Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcachediteratorresultsdataprovider",["ojs/ojcore-base","ojs/ojeventtarget","ojs/ojcomponentcore"],function(e,t,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class n{constructor(t){this.dataProvider=t,this.CacheAsyncIterable=class{constructor(e,t,i){this._parent=e,this.dataProviderAsyncIterator=t,this.cache=i,this[Symbol.asyncIterator]=()=>new this._parent.CacheAsyncIterator(this._parent,this.dataProviderAsynccache=i,this._cachedOffset=0,this._iteratedOffset=0}next(){const e=this._parent._lastFetchParams,t=e.size?e.size:-1;let i;if(-1===t){if(this.cache.isDone())return i=this.cache.getDataList(e,this._cachedOffset),this._cachedOffset=this._cachedOffset+i.data.length,Promise.resolve(new this._parent.CacheAsyncIteratorReturnResult(i))}else{if(this.cache.getSize()>=this._cachedOffset+t||this.cache.isDone())return i=this.cache.getDataList(e,this._cachedOffset),this._cachedOffset=this._cachedOffset+i.data.length,this._cachedOffset<this.cache.getSize()||!this.cache.isDone()?Promise.resolve(new this._parent.CacheAsyncIteratorYieldResult(i)):Promise.resolve(new this._parent.CacheAsyncIteratorReturnResult(i));if(this._cachedOffset>0)return new Promise((e,t)=>{if(this._iteratedOffset<this._cachedOffset){const t=()=>this.asyncIterator.next().then(i=>{if(this._iteratedOffset=this._iteratedOffset+i.value.data.length,!(this._iteratedOffset>=this._cachedOffset||i.done))return t();e()});return t()}e()}).then(()=>this.asyncIterator.next().then(e=>(this._iteratedOffset=this._iteratedOffset+e.value.data.length,this._cachedOffset=this._iteratedOffset,this.cache.addListResult(e),e.done?new this._parent.CacheAsyncIteratorReturnResult(e.value):new this._parent.CacheAsyncIteratorYieldResult(e.value))))}return this.asyncIterator.next().then(e=>(this._iteratedOffset=this._iteratedOffset+e.value.data.length,this._cachedOffset=this._iteratedOffset,this.cache.addListResult(e),-1!==t||this.cache.isDone()||this.asyncIterator.next().then(e=>{this.cache.addListResult(e)}),e.done?new this._parent.CacheAsyncIteratorReturnResult(e.value):new this._parent.CacheAsyncIteratorYieldResult(e.value)))}},this.CacheAsyncIteratorYieldResult=class{constructor(e){this.value=e,this[n._VALUE]=e,this[n._DONE]=!1}},this.CacheAsyncIteratorReturnResult=class{constructor(e){this.value=e,this[n._VALUE]=e,this[n._DONE]=!0}},this.cache=new e.DataCache,this._lastFetchParams=null,t.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>t.createOptimizedKeyMap(e)),t.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>t.createOptimizedKeySet(e)),t.addEventListener(n._MUTATE,e=>{this.cache.processMutations(e.detail),this.dispatchEvent(e)}),t.addEventListener(n._REFRESH,e=>{this.cache.reset(),this.dispatchEvent(e)})}containsKeys(e){const t=new Set,i=new Set,n=this.cache.getDataByKeys(e);if(e.keys.forEach(e=>{n.results.get(e)?t.add(e):i.add(e)}),0===i.size)return Promise.resolve({containsParameters:e,results:t});{const n={attributes:e.attributes,keys:i,scope:e.scope};return this.dataProvider.containsKeys(n).then(i=>(i.results.forEach(e=>{t.add(e)}),{containsParameters:e,results:t}))}}fetchByKeys(e){const t=new Map,i=new Set,n=this.cache.getDataByKeys(e);if(e.keys.forEach(e=>{const r=n.results.get(e);r?t.set(e,r):i.add(e)}),0===i.size)return Promise.resolve({fetchParameters:e,results:t});{const n={attributes:e.attributes,keys:i,scope:e.scope};return this.days(n).then(i=>(i.results.forEach((e,i)=>{t.set(i,e)}),{fetchParameters:e,results:t}))}}fetchByOffset(e){const t=e.size?e.size:n._DEFAULT_SIZE;if(this._compareLastFetchParameters(e)&&e.offset+t<=this.cache.getSize()){const i=JSON.parse(JSON.stringify(e));i.size=t;const n=this.cache.getDataByOffset(i);if(n)return Promise.resolve(n)}return this.dataProvider.fetchByOffset(e)}fetchFirst(e){this._compareLastFetchParameters(e)||this.cache.reset(),this._storeLastFetchParams(e);const t=this.dataProvider.fetchFirst(e);return new this.CacheAsyncIterable(this,t[Symbol.asyncIterator](),this.cache)}getCapability(e){const t=this.dataProvider.getCapability(e);return"fetchCapability"===e?{attributeFilter:null==t?void 0:t.attributeFilter,caching:"visitedByCurrentIterator"}:t}getTotalSize(){return null!=this._lastFetchParams&&!this._lastFetchParams.filterDef&&this.cache.isDone()?Promise.resolve(this.cache.getSize()):this.dataProvider.getTotalSize()}isEmpty(){return null!=this._lastFetchParams&&!this._lastFetchParams.filterDef&&this.cache.isDone()?0===this.cache.getSize()?"yes":"no":this.dataProvider.isEmpty()}_compareLastFetchParameters(t){return t=t||{},null!=this._lastFetchParams&&e.Object.compareValues(this._lastFetchParams.attributes,t.attributes||null)&&e.Object.compareValues(this._lastFetchParams.filterDef,this._getFilterDef(t.filterCriterion))&&e.Object.compareValues(this._lastFetchParams.sortCriteria,t.sortCriteria||null)}_storeLastFetchParams(e){e=e||{},this._lastFetchParams={},this._lastFetchParams.size=e.size,this._lastFetchParams.attributes=e.attributes?JSON.parse(JSON.stringify(e.attributes)):null,this._lastFetchParams.filterDef=this._getFilterDef(e.filterCriterion),this._lastFetchParams.sortCriteria=e.sortCriteria?JSON.parse(JSON.stringify(e.sortCriteria)):null}_getFilterDef(e){if(!e)bject.keys(e).forEach(i=>{"filter"!==i&&(t[i]=e[i])}),t}}return n._KEY="key",n._KEYS="keys",n._DATA="data",n._STARTINDEX="startIndex",n._SORT="sort",n._SORTCRITERIA="sortCriteria",n._FILTERCRITERION="filterCriterion",n._METADATA="metadata",n._ITEMS="items",n._FROM="from",n._OFFSET="offset",n._REFRESH="refresh",n._MUTATE="mutate",n._SIZE="size",n._FETCHPARAMETERS="fetchParameters",n._VALUE="value",n._DONE="done",n._RESULTS="results",n._CONTAINSPARAMETERS="containsParameters",n._DEFAULT_SIZE=25,n._CONTAINSKEYS="containsKeys",n._FETCHBYKEYS="fetchByKeys",n._FETCHBYOFFSET="fetchByOffset",n._FETCHFIRST="fetchFirst",n._ADDEVENTLISTENER="addEventListener",n._FETCHATTRIBUTES="attributes",t.EventTargetMixin.applyMixin(n),e._registerLegacyNamespaceProp("CachedIteratorResultsDataProvider",n),n}),define("ojs/ojdedupdataprovider",["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojeventtarget","ojs/ojcachediteratorresultsdataprovider"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class r{constructor(i){this.dataProvider=i,this.DedupAsyncIterable=class{constructor(e,t,i,n){this._parent=e,this.params=t,this.dataProviderAsyncIterator=i,this.cache=n,this[Symbol.asyncIterator]=()=>new this._parent.DedupAsyncIterator(this._parent,this.params,this.dataProviderAsyncs.asyncIterator=i,this.cache=n,this._cachedOffset=0}next(){const e=new Set;if(this.params.size>0){this._parent.cache.getDataByOffsetdOffset}).results.forEach(t=>{e.add(t.metadata.key)})}return this.asyncIterator.=>{const a=i[r._VALUE],s=a.metadata.map(e=>e[r._KEY]);this._cachedOffset=tset+s.length;const o=new Set;s.forEach(e=>{o.add(e)});const l=[],u=[],d=[];if(o.forEach((t,i)=>{e.has(t)&&(l.push(t),u.push(a.data[i]),d.push(a.metadata[i]))}),l.length>0){const e=new Set;for(const t of l)e.add(t);const i=new this._parent.DataProviderOperationEventDetail(this._parent,e,d,u,[]),n=new this._parent.DataProviderMutationEventDetail(this._parent,null,i,null);this._parent.dispatchEvent(new t.DataProviderMutationEvent(n))}return this._parent.dataProvider instanceof n||this._parent.cache.addListResult(i),i})}},this.DataProviderMutationEventDetail=class{constructor(e,t,i,n){this._parent=e,this.add=t,this.remove=i,this.update=n,this[r._ADD]=t,this[r._REMOVE]=i,this[r._UPDATE]=n}},this.DataProviderOperationEventDetail=class{constructor(e,t,i,n,a){this._parent=e,this.keys=t,this.metadata=i,this.data=n,this.indexes=a,this[r._KEYS]=t,this[r._METADATA]=i,this[r._DATA]=n,this[r._INDEXES]=a}},this.cache=i instanceof n?i.cache:new e.DataCache,i.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>i.createOptimizedKeyMap(e)),i.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>i.createOptimizedKeySet(e)),i.addEventListener(r._MUTATE,e=>{e.detail&&e.detail.add&&this._processAddMutations(e.detail.add),tEFRESH,e=>{this.cache.reset(),this.dispatchEvent(e)})}containsKeys(e){return this.dataProvider.containsKeys(e)}fetchByKeys(e){return this.dataProvider.fetchByKeys(e)}fetchByOffset(e){return this.dataProvider.fetchByOffset(e)}fetchFirst(e){const t=this.dataProvider.fetchFirst(e);return new this.DedupAsyncIterable(this,e,t[Symbol.asyncIterator](),this.cache)}getCapability(e){const t=this.dataProvider.getCapability(e);return"dedup"===e?{type:"iterator"}:t}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_processAddMutations(e){const i=e[r._KEYS];if(i&&i.size>0){const e=new Set,n=[],r=[];if(this.cache.getDataByKeys({keys:i}).results.forEach((t,i)=>{e.add(i),n.push(t.data),r.push(t.metadata)}),e.size>0){const i=new this.DataProviderOperationEventDetail(this,e,r,n,[]),a=new this.DataProviderMutationEventDetail(this,null,i,null);this.dispatchEvent(new t.DataProviderMutationEvent(a))}}}}return r._KEY="key",r._KEYS="keys",r._DATA="data",r._METADATA="metadata",r._ITEMS="items",r._FROM="from",r._OFFSET="offset",r._REFRESH="refresh",r._MUTATE="mutate",r._SIZE="size",r._FETCHPARAMETERS="fetchParameters",r._VALUE="value",r._DONE="done",r._RESULTS="results",r._ADD="add",r._UPDATE="update",r._REMOVE="remove",r._INDEXES="indexes",i.EventTargetMixin.applyMixin(r),e._registerLegacyNamespaceProp("DedupDataProvider",r),r}),define("ojs/ojmutateeventfilteringdataprovider",["ojs/ojcore-base","ojs/ojcachediteratorresultsdataprovider","ojs/ojdedupdataprovider","ojs/ojcomponentcore","ojs/ojeventtarget","ojs/ojdataprovider"],function(e,t,i,n,r,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class s{constructor(n){this.dataProvider=n,this.MutateEventFilteringAsyncIterable=class{constructor(e,t,i,n){this._parent=e,this.params=t,this.dataProviderAsyncIterator=i,this.cache=n,this[Symbol.asyncIterator]=()=>new this._parent.MutateEventFilteringAsyncIterator(this._parent,this.params,this.dataProviderAsyncIterator,this.ct=e,this.params=t,this.asyncIterator=i,this.cache=n}next(){let e=this;return this.asyncIterator.next().then(n=>(e._parent.dataProvider instanceof t||e._parent.dataProvider instanceof i||e._parent.cache.addListResult(n),n))}},this.DataProviderMutationEventDetail=class{constructor(e,t,i){this.add=e,this.remove=t,this.update=i,this[s._ADD]=e,this[s._REMOVE]=t,this[s._UPDATE]=i}};let r=this;this.cache=n instanceof t||n instanceof i?n.cache:new e.DataCache,n.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>n.createOptimizedKeyMap(e)),n.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>n.createOptimizedKeySet(e)),n.addEventListener(s._MUTATE,e=>{if(e.detail){let t=r._processMutations(e.detail.remove),i=r._processMutations(e.detail.update);if(t&&t.keys&&t.keys.size>0||i&&i.keys&&i.keys.size>0||e.detail.add&&e.detail.add.keys&&e.detail.add.keys.size>0){let n=new r.DataProviderMutationEventDetail(e.detail.add,t,i),a=Object.assign({},e);a.detail=n,r.dispatchEvent(a)}}else r.dispatchEvent(e)}),n.addEventListener(s._REFRESH,e=>{r.cache.reset(),r.dispatchEvent(e)})}containsKeys(e){return this.dataProvider.containsKeys(e)}fetchByKeys(e){return this.dataProvider.fetchByKeys(e)}fetchByOffset(e){return this.dataProvider.fetchByOffset(e)}fetchFirst(e){const t=this.dataProvider.fetchFirst(e);return new this.MutateEventFilteringAsyncIterable(this,e,t[Symbol.asyncIterator](),this.cache)}getCapability(e){let t=this.dataProvider.getCapability(e);return"eventFiltering"===e?{type:"iterator"}:t}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_processMutations(e){if(e){let t=e[s._KEYS];if(t&&t.size>0){let i=ne});t.forEach(function(e){n.results.has(e)||i.add(e)});let r=Object.assign({},e);on(e){let t=[];r.keys.forEach(function(e){t.push(e)});let i=t.indexOf(e);r.keys.delete(e),t.splice(i,1),r.data&&r.data.splice(i,1),r.indexes&&r.indexes.splice(i,1),r.metadata&&r.metadata.splice(i,1)}),r}}return e}}return s._KEY="key",s._KEYS="keys",s._DATA="data",s._METADATA="metadata",s._ITEMS="items",s._FROM="from",s._OFFSET="offset",s._REFRESH="refresh",s._MUTATE="mutate",s._SIZE="size",s._FETCHPARAMETERS="fetchParameters",s._VALUE="value",s._DONE="done",s._RESULTS="results",s._ADD="add",s._UPDATE="update",s._REMOVE="remove",s._INDEXES="indexes",r.EventTargetMixin.applyMixin(s),e._registerLegacyNamespaceProp("MutateEventFilteringDataProvider",s),s}),define("ojs/ojdataproviderfactory",["exports","ojs/ojeventtarget","ojs/ojcachediteratorresultsdataprovider","ojs/ojdedupdataprovider","ojs/ojmutateeventfilteringdataprovider"],function(e,t,i,n,r){"use strict";function a(e,t){var a,o,l;const u=null===(a=null==t?void 0:t.capabilities)||void 0===a?void 0:a.fetchCapability,d=null===(o=null==t?void 0:t.capabilities)||void 0===o?void 0:o.dedupCapability,c=null===(l=null==t?void 0:t.capabilities)||void 0===l?void 0:l.eventFilteringCapability,h=e.getCapability("fetchCapability"),p=e.getCapability("dedup"),_=e.getCapability("eventFiltering");let f=!0,m=!0,v=!0;const g=null==h?void 0:h.caching;"none"!==(null==u?void 0:u.caching)&&"all"!==g&&"visitedByCurrentIterator"!==g||(f=!1);const b=null==p?void 0:p.type;"none"!==(null==d?void 0:d.type)&&"global"!==b&&"iterator"!==b||(m=!1);const y=null==_?void 0:_.type;"none"!==(null==c?void 0:c.type)&&"global"!==y&&"iterator"!==y||(v=!1);let E=e;return f&&(E=new i(E)),m&&(E=new n(E)),v&&(E=new r(E)),e.getChildDataProvider&&(E=new s(e,E,t)),E}i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;class s{constructor(e,t,i){this.treeDataProvider=e,this.enhancedDataPrUTATE,e=>{this.updateCache(e),tREFRESH,e=>{this.flushCache(),this.dispatchEvent(e)}),t.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>t.createOptimizedKeyMap(e)),.createOptimizedKeySet=e=>t.createOptimizedKeySet(e)),this._mapKeyToChild=new Map}getChildDataProvider(e){const t=this._mapKeyToChild.get(e);return t||this.cacheEnhancedDataProvider(e)}containsKeys(e){return this.enhancedDataProvider.containsKeys(e)}fetchByKeys(e){return this.enhancedDataProvider.fetchByKeys(e)}fetchByOffset(e){return this.enhancedDataProvider.fetchByOffset(e)}fetchFir){return this.enhancedDataProvider.getCapability(e)}getTotalSisEmpty(){return this.enhancedDataProvider.isEmpty()}cacheEnhancedDataProvider(e){const t=this.treeDataProvider.getChildDataProvider(e);if(t){const i=a(t,this.options);return this._mapKeyToChild.set(e,i),i}return null}updateCache(e){const t=e.detail.remove,i=e.detail.update;let n;t&&(n=t.keys,n&&n.forEach(e=>{this._kelete(e)}))}flushCache(){this._mapKeyToChild.clear()}}s._REFRESH="refresh",s._MUTATE="mutate",t.EventTargetMixin.applyMixin(s),e.getEnhancedDataProvider=a,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojselectbase",["exports","ojs/ojeditablevalue","ojs/ojpopupcore","ojs/ojinputtext","ojs/ojlistview","ojs/ojhighlighttext","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojlogger","ojs/ojconfig","ojs/ojthemeutils","ojs/ojfocusutils","ojs/ojdataprovider","ojs/ojcontext","ojs/ojcomponentcore","ojs/ojkeyset","ojs/ojcustomelement-utils","ojs/ojdataproviderfactory","ojs/ojlistdataproviderview","ojs/ojtreedataproviderview","ojs/ojtimerutils"],function(e,t,i,n,r,a,s,o,l,u,d,c,h,p,_,f,m,v,g,b,y,E){"use strict";s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b,y=y&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y;const C=function(e){this._minLength=0,this._className=e.className,this._dataProvider=e.dataProvider,this._containerElem=e.containerElem,this._fullScreenPopup=e.fullScreenPopup,this._idSuffix=e.idSuffix,this._enabled=e.enabled,this._readonly=e.readOnly,this._value=e.value,this._getTranslatedStringFunc=e.getTranslatedStringFunc,this._addBusyStateFunc=e.addBusyStateFunc,this._lovMainField=e.lovMainField,this._filterInputText=e.filterInputText,this._lovDropdown=e.lovDropdown,this._liveRegion=e.liveRegion,this._showMainFieldFunc=e.showMainFieldFunc,this._setFilterFieldTextFunc=e.setFilterFieldTextFunc,this._setUiLoadingStateFunc=e.setUiLoadingStateFunc,this._isValueForPlaceholderFunc=e.isValueForPlaceholderFunc,this._isShowValueInFilterFieldFunc=e.isShowValueInFilterFieldFunc,this._lastDataProviderPromise=null,this._fetchType=this.hasData()?"init":null;var t=c.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||"0";this._dropdownVerticalOffset=parseInt(t,10)};C.prototype.setValue=function(e){this._value=e},C.prototype.getFetchType=function(){return this._fetchType},C.prototype.destroy=function(){var e=this._closeDelayTimer;isNaN(e)||(delete this._closeDelayTimer,window.clearT.hasData=function(){return containerElem).hasClass("oj-listbox-dropdown-open")},C.prototype._usingHandler=function(e,t){if(s.PositionUtils.isAligningPositionClipped(t)){var i=this._addBusyStateFunc("clondow.setTimeout(function(){this.closeDropdown(),i()}.bind(this),1)}else{var n=o(this._containerElem),r=this._lovDropdown.getElement(),a=o(r),l=s.PositionUtils.calcAvailablePopupSize(e,t),u=r.style;e.left>=0&&(u.maxWidth=l.width+"px"),u.maxHeight=l.height+"px";var d=this.getDropdownPosition(!0);a.position(d),"bottom"===t.vertical?(n.addClass("oj-listbox-drop-above"),a.addClass("oj-listbox-drop-above")):(n.removeClass("oj-listbox-drop-above"),a.removeClass("oj-listbox-drop-above"))}},C.prototype.getDropdownPosition=function(e){var t,i="rtl"===l.getReadingDirection();if(this._fullScreenPopup){var n=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset;t={my:"start top",at:"start top",of:window,offset:{x:n,y:r}},t=s.PositionUtils.normalizeHorizontalAlignment(t,i)}else{var a={my:"start top",at:"start bottom",of:this._lovMainField.getElement(),collision:"flip",offset:{x:0,y:this._dropdownVerticalOffset}};e||(a.using=this._usingHandler.bind(this)),t=s.PositionUtils.normalizeHorizontalAlignment(a,i),t=s.PositionUtils.coerceToJet(t),(t=s.PositionUtils.coerceToJqUi(t)).of=a.of}return t},C.prototype.sizeDropdown=function(){var e=this._lovDropdown.getElement();if(this._fullScreenPopup){var t=Math.min(window.innerWidth,window.screen.availWidth),i=Math.min(window.innerHeight,window.screen.availHeight);if("phone"===d.getDeviceType()&&window.parent&&window!==window.parent){var n=Math.min(window.parent.innerHeight,window.parent.screen.availHeight),r=Math.min(i,n);if(i>r){var a=i-r;e.style.paddingBottom=a+"px"}}e.style.width=t+"px",e.style.height=i+"px"}else e.style.minWidth=o(this._containerElem).width()+"px"},C.prototype.openDropdown=function(e){if(this.isDropdownOpen()||!1===this._enabled||!0===this._readonly)return!1;if(this._fullScreenPopup){var t=this._lovMainField.getInputElem(),i=this._isShowValueInFilterFieldFunc()?t.value:"";this._setFilterFieldTextFunc(i)}return o(this._containerElem).addClass("oj-listbox-dropdown-open"),e||this.updateResults(!0,this._fullScreenPopup),!0},C.prototype.closeDropdown=function(){if(this.isDropdownOpen()){var e=o(this._containerElem);e.removeClass("oj-listbox-dropdown-open"),this._ariaExpanded&&(e.removeClass("oj-listbox-drop-above"),o(this._lovDropdown.getElement()).removeClass("oj-listbox-drop-above"),this._lovDropdown.close(),this._ariaExpanded=!1,this._lovMainField.getInputElem().setAttribute("aria-expanded","false"),this._lastSearchTerm=null)}},C.prototype.updateResults=function(e,t){var i;i=!0===e?"":this._filterInputText.rawValue||"";var n=this._lastSearchTerm;if(!0===e||!n||i!==n){var r=this._lovDropdown.getElement().classList;!0===e?r.add("oj-listbox-initial-open"):r.remove("oj-listbox-initial-open"),this._lastSearchTerm=i,i.length>=this._minLength?e&&!0!==e?this._runQuery(i,t):this._runQuery(i,t,!0===e):this.closeDropdown()}},C.prototype._runQuery=function(e,t,i){var n=this._lovDropdown;if(this._minLength>e.length)this.closeDropdown();else if(this.openDropdown(!0),this.hasData()){this._ariaExpanded||(n.open(),this._ariaExpanded=!0,this._lovMainField.getInputElem().setAttribute("aria-expanded","true")),t&&!this._fullScreenPopup&&h.focusFirstTabStop(n.getElement());var r=this._fetchFromDataProvider(e,i);r.then(function(){r===this._lastDataProviderPromise&&this._handleQueryResultsFetch(t)}.bind(this),function(e){r===this._lastDataProviderPromise&&(u.warn("Select: _fetchFromDataProvider promise was rejected: "+e),this._handleQueryResultsFetch(t))}.bind(this))}},C.prototype._handleQueryResultsFetch=function(e){if(this.isDropdownOpen()){this._lovDropdown.getElement().classList.remove("oj-listbox-initial-open");var t,i=this._lovDropdown.getResultsCount(),n=i?i.count:0,r=!i||i.done;0===n?t=this._getTranslatedStringFunc("noMatchesFound"):(this.sizeDropdown(),t=r?this._getTranslatedStringFunc("multipleMatchesFound",{num:String(n)}):this._getTranslatedStringFunc("nOrMoreMatchesFound",{num:String(n)})),this.updateLiveRegion(t),e&&this._fullScreenPopup&&h.focusFirstTabStop(this._lovDeLiveRegion=function(e){o(this._liveRegion).text(e)},C.prototype.cancel=function(){this.ProviderEvent=function(e){this._lastSearchTerm=null},C.prototype._fetchFromDataProvider=function(e,t){var i=!1,n=this._addBusyStateFunc("fetching data");"init"===this._fetchType&&(this.isDropdownOpen()||(i=!0,this._setUiLoadingStateFunc("start")),this._fetchType=null);var r=null;if(e){if(this._dataProvider){var a=this._dataProvider.getCapability("filter");a&&a.textFilter||u.error("Select: DataProvider does not support text filter.  Filtering results in dropdown may not work correctly.")}r=s.FilterFactory.getFilter({filterDef:{text:e}})}var o=new Promise(function(a,s){var l=this._lovDropdown.renderResults(e,r,this._isValueForPlaceholderFunc(this._value)?null:this._value,t),d=function(){i&&this._setUiLoadingStateFunc("stop"),n(),o===this._lastDataProviderPromise?a():s("AbstractLovBase._fetchFromDataProvider: rejecting earlier promise")}.bind(this);l.then(function(){d()},function(e){o===this._lastDataProviderPromise&&u.warn("Select: renderResults promise was rejected: "+e),d()})}.bind(this));return this._lastDataProviderPromise=o,o};const S=function(e){functioe,t);this[Symbol.asyncIterator]=function(){return n}}function i(e,t){this.next=function(){var i=e.next();return new Promise(function(e,n){i.then(function(i){var n=i.value;n.data&&(t.count+=n.data.length),t.done=i.done,e(i)},function(e){n(e)})})}}this._fetchedDataCount={count:0,done:!0},this.setFilterCriterion=function(e){var t,i,n=this._filterCriterion;if(this._filterCriterion=e,t=n,i=this._filterCriterion,!(t===i||!t&&!i||t&&i&&t.text===i.text)){var r=new p.DataProviderRefreshEvent;Object.defineProperty(r,"filterCriterionChanged",{value:!0}),this.dispatchEvent(r)}},this.getFetchedDataCount=function(){return this._fetchedDataCount},this.setFetchedDataCount=function(e){this._fetchedDataCount=e},this.fetchFirst=function(i){if(e)return this._filterCriterion&&(i.filterCriterion=this._filterCriterion),this._fetchedDataCount.count=0,this._fetchedDataCount.done=!0,this._fetchedDataCount.childrenCountMap&&this._fetchedDataCount.childrenCountMap.clear(),new t(e.fetchFirst(i)[Symbol.asyncIterator](),this._fetchedDataCount);var n={};return n[Symbol.asyncIterator]=function(){return{next:function(){return Promise.resolve({value:{data:[],fetchParameters:i,metadata:[]},done:!0})}}},n},this.containsKeys=function(t){return e?e.containsKeys(t):Promise.resolve({containsParameters:t,results:new Set})},this.fetchByKeys=function(t){return e?e.fetchByKeys(t):Promise.resolve({fetchParameters:t,results:new Map})},this.fetchByOffset=function(t){return e?(this._filterCriterion&&(t.filterCriterion=this._filterCriterion),e.fetchByOffset(t)):Promise.resolve({,this.isEmpty=function(){return e?e.getTotalSize():Promise.resolve(0)},this.addEventListener=function(t,i){istener=function(t,patchEvent=functionbility=function(t){return e?e.getCapability(t):null},e&&s.DataProviderFeatureChecker.isTreeDataProvider(e)&&(this._fetchedDataCount.childrenCountMap=new Map,this.getChildDataProvider=function(t){let i=e.getChildDataProvider.apply(e,arguments);if(i){i=new S(i),this._filterCriterion&&i.setFilterCriterion(this._filterCriterion);let e=this._fetchedDataCount.childrenCountMap.get(t);e?i.setFetchedDataCount(e):(e=i.getFetchedDataCount(),this._fetchedDataCount.childrenCountMap.set(t,e))}return i}.bind(this))},O={KEYS:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46},_isControlKey:function(e){switch(e.which||e.keyCode){case O.KEYS.SHIFT:case O.KEYS.CTRL:case O.KEYS.ALT:return!0;default:return e.metaKey||e.ctrlKey}},_isFunctionKey:function(e){var t=e.which||e.keyCn(e){return Oy(e)},nextUid:(A=1,function(){var e=A;return A+=1,e}),killEvent:topEventPropagation:function(e){e.stopPropagation()},addBusyState:function(e,t){var i={description:"The component identified by '"+e.id+"' "+t};return _.getContext(tem:function(e,t,i){return{key:e,data:t,metadata:i}},dispatchCustomEvent:function(e,t,i,n){var r=n||{};r.subtype=i;var a={bubbles:!1,cancelable:!1,detail:r};return e.dispatchEvent(new CustomEvent(t,a))},copyAttribute:function(e,t,i,n){var r=e.getAttribute(t);null===r?O.remov"style"===t?O._removeStyles(e):e.removeAttribute(t)},_removeStyles:function(e){for(var t,i=e.style,n=i.length-1;n>=0;n--)t=i.item(n),i.removeProperty(t)},isDataProvider:function(e){return!(!e||!f.DataProviderFeatureChecker)&&f.DataProvider&f.DataProviderFeatureChecker.isTreeDataProvider(e)}};var A;const j=function(){};j.prototype.init=function(e){this._dataProvider=e.dataProvider,this._fullScreenPopup=e.fullScreenPopup,this._bodyElem=o(e.bodyElem),this._itemTemplate=e.itemTemplate,this._collectionTemplate=e.collectionTemplate,this._getTemplateEngineFunc=e.getTemplateEngineFunc,this._templateContextComponentElement=e.templateContextComponentElement,this._addBusyStateFunc=e.addBusyStateFunc,this._itemTextRendererFunc=e.itemTextRendererFunc,this._filterInputText=e.filterInputText,this._getThrottlePromiseFunc=e.getThrottlePromiseFunc,this._isValueForPlaceholderFunc=e.isValueForPlaceholderFunc,this._isValueItemForPlaceholderFunc=e.isValueItemForPlaceholderFunc,this._currentFirstItem=null,this._templateEngine=null,this._resultsCount=null,this._NO_RESULTS_FOUND_CLASSNAME="oj-listbox-searchselect-no-results";var t=this._addBusyStateFunc("LovDropdown initializing");this._addDataProviderEventListeners();var i,n,r=this._createInnerDom(e);this._containerElem=r,this._dropdownPositioningProxyContainer=this._createDropdownPositioningProxyElem(e);var a=new Promise(function(e,t){i=e,n=t});this._collectionContext={parentElement:this._containerElem[0],idSuffix:e.idSuffix,renderDone:i,renderError:n,data:this._dataProvider,searchText:void 0,selected:void 0,selectedItem:void 0,selectedItemChangedListener:this._HandleCollectionSelectedItemChanged.bind(this),currentRow:{rowIndex:void 0,rowKey:void 0},currentRowChangedListener:this._handleCollectionCurrentRowChanged.bind(this),currentRowKeyChangedListener:this._handleCollectionCurrentRowKeyChanged.bind(this),handleRowAction:this._handleRowAction.bind(this)},this._collectionRendererFunc=this._collectionTemplate?this._templateCollectionRenderer.bind(this):this._defaultCollectionRenderer.bind(this),this._collectionRendererFunc(this._collectionContext),r.on("change","."+e.className+"-input",O.stopEventPropagation),r.on("click mouseup mousedown",O.stopEventPropagation);var s=function(){e.afterDropdownInitFunc&&e.afterDropdownInitFunc(this._resultsElem[0]),t()}.bind(this);if(a.then(s,s),r.on("keydown",this._handleKeyDown.bind(this)),this._updateLabelFunc){var l=this._updateLabelFunc;this._updateLabelFunc=null,l()}},j.prototype._dispatchEvent=function(e,t){return O.dispatchCustomEvent(this._containerElem[0],"lovDropdownEvent",e,t)},j.prototype.destroy=function(){(this._itemTemplate||this._collectionTemplate)&&this._containerElem&&this._getTemplateEngineFunc().then(function(e){e.clean(this._containerElem[0])}.bind(this)),this._removeurn this._containerElem?this._containerElem[0]:null},j.prototype._createInnerDom=function(e){var t=e.idSuffix,i=document.createElement("div");i.setAttribute("data-oj-containerid",e.parentId),i.setAttribute("data-oj-context",""),i.setAttribute("id","lovDropdown_"+t),i.setAttribute("class","oj-listbox-drop oj-listbox-searchselect oj-listbox-"+e.styleClassComponentName+(this._fullScreenPopup?" oj-listbox-fullscreen":"")),i.style.display="none",i.setAttribute("role","presentation"),this._fullScreenPopup&&i.appendChild(this._filterInputText);var n=document.createElement("div");return n.setAttribute("class","oj-searchselect-results-placeholder"),i.appendChild(n),o(i)},j.prototype._createDropdownPositioningProxyElem=function(e){var t=e.idSuffix,i=document.createElement("div");i.style.visibility="hidden",i.style.position="absolute",i.style.overflow="hidden";var n=document.createElement("div");n.setAttribute("data-oj-containerid",e.parentId),n.setAttribute("data-oj-context",""),n.setAttribute("id","lovDropdownPositioningProxy_"+t),n.setAttribute("class","oj-listbox-drop oj-listbox-searchselect"),i.appendChild(n);var r=document.createElement("div");return r.setAttribute("class","oj-select-results"),n.appendChild(r),o(i)},j.prototype._defaultItemRenderer=function(e){var t,i=e.parentElement,n=this._itemTextRendererFunc({key:e.key,data:e.data,metadata:e.metadata});!1===e.leaf?(t=document.createElement("span"),o(t).text(n)):((t=document.createElement("oj-highlight-text")).setAttribute("text",n),t.setAttribute("match-text",this._collectionContext.searchText)),i.appendChild(t)},j.prototype._templateItemRenderer=function(e,t){var i=o.extend({},t);i.componentElement=this._templateContextComponentElement,i.searchText=this._collectionContext.searchText;var n=i.parentElement;if(e)for(var r=e.execute(i.componentElement,this._itemTemplate,i),a=0;a<r.length;a++)n.appendChild(r[a])},j.prototype.renderResults=function(e,t,i,n){var r,a,s=this._addBusyStateFunc("LovDropdown rendering results");this._latestFilterCriteria=t,this._ClearSelection(),this._duringListViewInitialization=!0;var o=new Promise(function(e,t){r=e,a=t}),l=new Promise(function(t,r){o.then(function(){_.getContext(this._containerElem[0]).getBusyContext().whenReady().then(function(){l===this._lastRenderResultsPromise?this._configureResults(e,i,n).then(t,r):t()}.bind(this),r)}.bind(this),r)}.bind(this));this._lastRenderResultsPromise=l;var d=this._collectionContext;d.data=this._dataProvider,d.searchText=e,this._getThrottlePromiseFunc().then(function(){if(d.renderError){var e=d.renderError;this._clearContextRenderPromiseFunctions(d),e("LovDropdown.renderResults: rejecting earlier promise")}d.renderDone=r,d.renderError=a,this._dataProvider.setFilterCriterion(t),this._collectionRendererFunc(d)}.bind(this));var c=function(){l===this._lastRenderResultsPromise&&(this._duringListViewInitialization=!1),s()}.bind(this);return l.then(function(){c()},function(e){l===this._lastRenderResultsPromise&&u.warn("Select: LovDropdown.renderResults retPromise rejected: "+e),c()}.bind(this))},j.prototype.updateLabel=function(e,t){var i=this._resultsElem;if(i){if(!this._collectionTemplate){var n=i[0];e?(n.setAttribute("aria-labelledby",e),n.setAttribute("aria-label","")):t&&(n.setAttribute("aria-label",t),n.setAttribute("aria-labelledby",""))}}else this._updateLabelFunc=this.updateLabel.bind(this,e,t)},j.prototype.updateItemTextRendererFunc=function(e){if(this._itemTextRendererFunc=e,!this._collectionTemplate&&!this._itemTemplate&&this._resultsElem){var t=this._resultsElem[0],i=this._addBusyStateFunc("LovDropdown setting new default item renderer");t.setProperty("item.renderer",this._defaultItemRenderer.bind(this)),_.getContext(t).getBusyContext().whenReady().then(i,i)}},j.prototype._configureResults=function(e,t,i){var n=_.getContext(this._containerElem[0]).getBusyContext();return this._SetCurrentFirstItem(null),this._focusinListener&&(this._containerElem[0].removeEventListener("focusin",this._focusinListener),this._focusListener=null),this._resultsCount=this._dataProvider.getFetchedDataCount()||{},null==this._resultsCount.count||0===this._resultsCount.count?(this._containerElem.addClass(this._NO_RESULTS_FOUND_CLASSNAME),Promise.resolve()):(this._containerElem.removeClass(this._NO_RESULTS_FOUND_CLASSNAME),i?this._ConfigureResultsInitial(t,n):null==e||""===e?this._ConfigureResultsNoSearchText(t,n):this._ConfigureResultsWithSearchText(t,n))},j.prototype._ConfigureResultsInitial=function(e,t){return s.Assert.failedInAbstractFunction(),t.whenReady()},j.prototype._ConfigureResultsNoSearchText=function(e){return s.Assert.failedInAbstractFunction(),e.whenn s.Assert.failedInAbstractFunction(),e.whenReady()},j.prototype._FetchFirstResult=function(){return s.DataProviderFeatureChecker.isTreeDataProvider(this._dataProvider)?this._fetchFirstLeafData():this._fetchFirstFlatData()},j.prototype._fetchFirstFlatData=function(){const e=this._dataProvider.fetchByOffset({offset:0,size:1});let t=null;const i=function(e){if(null!=e){const i=e.results;i.length>0&&(t=this._createValueItemFromItem(i[0]))}return Promise.resolve(t)}.bind(this);return e.then(i)},j.prototype._fetchFirstLeafData=function(){const e=this._dataProvider;let t=!1;const i=function(n,r){let a,s=0;if(null!=r){const t=e.getFetchedDataCount().childrenCountMap;t&&t.has(r)&&(a=t.get(r).count)}if(null==a&&(a=n.getFetchedDataCount().count||0),0===a)return Promise.resolve(null);const o=function(r){const l=r.results;let u,d=0===a||a===s+1;if(l.length){const n=l[0],r=n.metadata,a=e.getChildDataProvider(r.key);if(null!=a)u=i(a,r.key);else{const e=this._createValueItemFromItem(n);t=!0,u=Promise.resolve(e)}}else u=Promise.resolve(null),d=!0;return u.then(function(e){return d||t?Promise.resolve(e):(s+=1,n.fetchByOffset({offset:s,size:1}).then(o))})}.bind(this);return n.fetchByOffset({offset:s,size:1}).then(o)}.bind(this);return i(e,null)},j.prototype._ClearSelection=function(){this._SetCollectionCurrentRow({rowKey:null}),this._SetCollectionSelectedKeySet(new m.KeySetImpl([ns=function(e){e.renderDone=null,e.renderError=null},j.prototype._GetDefaultCollectionRendererSelectionMode=function(){return s.Assert.failedInAbstractFunction(),null},j.prototype._defaultCollectionRenderer=function(e){var t,i=e.renderDone,n=e.renderError;if(this._resultsElem)t=this._resultsElem[0],_.getContext(t).getBusyContext().whenReady().then(function(){t.data=e.data,t.selected=e.selected,t.currentItem=e.currentRow.rowKey,this._clearContextRenderPromiseFunctions(e),i()}.bind(this),function(t){u.warn("Select: busyContext promise rejected before setting props on listView: "+t),this._clearContextRenderPromiseFunctions(e),n(t)}.bind(this));else{var r=o(e.parentElement).find(".oj-searchselect-results-placeholder")[0],a=e.idSuffix;(t=document.createElement("oj-list-view")).setAttribute("data-oj-internal",""),t.setAttribute("data-oj-binding-provider","none"),t.setAttribute("id","oj-searchselect-results-"+a),t.setAttribute("selection-mode",this._GetDefaultCollectionRendererSelectionMode()),t.setAttribute("class","oj-select-results oj-group-header-sm"),t.setAttribute("drill-mode","none"),t.setAttribute("gridlines.item","hidden");var l=document.createElement("template");l.setAttribute("slot","noData");var d=document.createElement("div");d.setAttribute("class","oj-searchselect-no-results-container"),l.content?l.content.appendChild(d):l.appendChild(d),t.appendChild(l),e.parentElement.replaceChild(t,r),this._resultsElem=o(t),this._resultsElem.on("click",O.killEvent),_.getContext(t).getBusyContext().whenReady().then(function(){t.addEventListener("ojItemAction",e.handn(t){e.currentRowKeyChangedListener(t.detail.value)}),e.data&&s.DataProviderFeatureChecker&&s.DataProviderFeatureChecker.isTreeDataProvider(e.data)&&(t.setProperty("item.fe=>e.leaf),t.setProperty("item.selectable",e=>e.leaf)),this._itemTemplate?this._getTemplateEngineFunc().then(function(n){t.setProperty("item.renderer",this._templateItemRenderer.bind(this,n)),this._clearContextRenderPromiseFunctions(e),i()}.bind(this),function(t){u.warn("Select: template item renderer template engine promise rejected: "+t),this._clearContextRenderPromiseFunctions(e),n(t)}.bind(this)):(t.setProperty("item.renderer",this._defaultItemRenderer.bind(this)),this._clearContextRenderPromiseFunctions(e),i())}.bind(this),function(t){u.warn("Select: creating default listView busyContext promise rejected: "+t),this._clearContextRenderPromiseFunctions(e),n(t)}.bind(this))}},j.prototype._templateCollectionRenderer=function(e){var t=e.renderDone,i=e.renderError;if(this._resultsElem){var n=this._collectionTemplateContext;n.data=e.data,n.searchText=e.searchText,n.selected=e.selected,this._clearContextRenderPromiseFunctions(e),t()}else{var r=o(e.parentElement),a=r.find(".oj-searchselect-results-placeholder")[0];this._getTemplateEngineFunc().then(function(i){this._templateEngine=i,this._collectionTemplateContext=this._createCollectionTemplateContext(i,e);for(var n=i.execute(this._templateContextComponentElement,this._collectionTemplate,this._collectionTemplateContext),s=0;s<n.length;s++)a.parentNode.insertBefore(n[s],a);a.parentNode.removeChild(a),this._resultsElem=r.find(".oj-select-results"),this._resultsElem.on("click",O.killEvent),this._clearContextRenderPromiseFunctions(e),t()}.bind(this),function(t){u.warn("Select: template collection renderer template engine promise rejected: "+t),this._clearContextRenderPromiseFunctions(e),i(t)}.bind(this))}},j.prototype._addDataProviderEventListeners=function(){var e=this._dataProvider;if(e){var t=this._handleDataProviderEvent.bind(this);this._savedDataProviderEH=t,e.addEventListener("mutate",t),e.addEventListener("refresh",t)}},j.prototype._removeDataProviderEventListeners=function(){var e=this._dataProvider,t=this._savedDataProviderEH;e&&t&&(e.removeEventListener("mutate",t),e.removeEventListener("refresh",t)),this._savedDataProviderEH=void 0},j.prototype._handleDataProviderEvent=function(e){var t=this._addBusyStateFunc("LovDropdown handling data provider event");_.getContext(this._containerElem[0]).getBusyContext().whenReady().then(function(){t()},function(e){u.warn("Select: LovDropdown.handleDataProviderEvent busyContext promise rejected: "+e),t()})},j.prototype.close=function(){this._lastRenderResultsPromise=null;var e=document.activeElement;l.isAncestor(this.getElement(),e)&&e.blur(),this._ClearSelection(),this._focusinListener&&(this._containerElem[0].removeEventListener("focusin",this._focusinListener),this._focusListener=null);var t={};t[s.PopupService.OPTION.POPUP]=this._containerElem,s.PopupService.getInstance().close(t),this._containerElem.detach(),this._dispatchEvent("dropdownClosed")},j.prototype.open=function(){var e=this._containerElem;this._containerElem.removeClass(this._NO_RESULTS_FOUND_CLASSNAME),e[0]!==this._bodyElem.children().last()[0]&&e.appendTo(this._bohEvent("closeDropdown",{trigger:"popupCloseEvent"})}.bind(this),t[s.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[s.PopupService.EVENT.POPUP_AUTODISMISS]=this._clickAwayHandler.bind(this),t[s.PopupService.EVENT.POPUP_REFRESH]=function(){this._dispatchEvent("sizeDropdown"),this._bodyElem.append(this._dropdownPositioningProxyContainer),this._dispatchEvent("adjustDropdownPosition",{popupElem:e[0],positioningProxyElem:this._dropdownPositioningProxyContainer.children()[0]}),this._dropdownPositioningProxyContainer.detach()}.bind(this),t[s.PopupService.EVENT.POPUP_AFTER_OPEN]=function(e){var t=e.popup[0];this._dispatchEvent("sizeDropdown"),this._bodyElem.append(this._dropdownPositioningProxyContainer),this._dispatchEvent("adjustDropdownPosition",{popupElem:t,positioningProxyElem:this._dropdownPositioningProxyContainer.children()[0]}),this._dropdownPositioningProxyContainer.detach(),this._fullScreenPopup&&t.scrollIntoView()}.bind(this);var i={};i[s.PopupService.OPTION.POPUP]=e,i[s.PopupService.OPTION.EVENTS]=t,i[s.PopupService.OPTION.LAYER_SELECTORS]="oj-listbox-drop-layer",i[s.PopupService.OPTION.CUSTOM_ELEMENT]=!0,this._fullScreenPopup&&(i[s.PopupService.OPTION.MODALITY]=s.PopupService.MODALITY.MODAL),this._dispatchEvent("openPopup",{psOptions:i})},j.prototype._clickAwayHandler=function(e){var t=this._containerElem,i=o(e.target);if(!i.closest(t).length&&!i.closest("#"+o.escapeSelector(t.attr("data-oj-containerid"))).length){var n=t.closest(".oj-listbox-drop-layer");n.length>0&&i.closest(n).length>0||t.length>0&&this._dispatchEvent("closeDropdown",{trigger:"clickAway"})}},j.prototype._surrogateRemoveHandler=function(){this._containerElem&&this._containerElem.remove()},j.prototype._handleKeyDown=function(e){var t=e.which||e.keyCode;t===O.KEYS.TAB?this._dispatchEvent("tabOut"):t===O.KEYS.ESC&&this._dispatchEvent("closeDropdown",{trigger:"escKeyDown"_HandleCollectionSelectedItemChanged=function(e,t){},j.prototype._handleCollectionCurrentRowChanged=function(e){this._duringListViewInitialization||null==e||this._handlingCollectionFocusinOnce||(this._collectionContext.currentRow={rowIndex:e.rowIndex,rowKey:e.rowKey},this._handleCollectionCurrentRowKeyChanged(e.rowKey))},j.prototype._handleCollectionCurrentRowKeyChanged=function(e){this._duringListViewInitialization||null==e||this._handlingCollectionFocusinOnce||(this._collectionContext.currentRow.rowKey=e)},j.prototype._handleRowAction=function(e,t){var i=this._createValueItemFromItem(e.detail.context);thispatchEvent("handleSelection",{valueItem:e,event:t})},j.prototype._createCollectionTemplateContext=function(e,t){var i={};if(e){i.data=t.data,i.searchText=t.searchText,e.defineTrackableProperty(i,"selected"),e.defineTrackableProperty(i,"selectedItem",void 0,t.selectedItemChangedListener);let n={};e.defineTrackableProperty(n,"rowKey",void 0,t.currentRowKeyChangedListener),e.defineTrackableProperty(i,"currentRow",n,t.currentRowChangedListener),i.handleRowAction=t.handleRowAction}else u.error("JET Select: template engine not available when creating context for collectionTemplate");return i},j.prototype._createValueItemFromItem=function(e){return null==e.data||null==e.metadata?null:{key:e.metadata.key,data:e.data,metadata:e.metadata}},j.prototype._SetCollectionSelectedKeySet=function(e){this._collectionContext.selected=e,null!=this._collectionTemplateContext?this._collectionTemplateContext.selected=e:null==this._collectionTemplate&&this._resultsElem&&this._resultsElem[0].setProperty("selected",e)},j.prototype._SetCollectionCurrentRow=function(e){this._collectionContext.currentRow={rowIndex:e.rowIndex,rowKey:e.rowKey},null!=this._collectionTemplateContext?(this._addListenerForRowKeyProperty(e),this._collectionTemplateContext.currentRow=e):null==this._collectionTemplate&&this._resultsElem&&this._resultsElem[0].setProperty("currentItem",e.rowKey)},j.prototype.getValueItemForSelection=function(){var e=this._collectionContext.currentRow.rowKey,t=this._currentFirstItem,i=this._collectionContext.selectedItem;if(null!=e){let i={};return i.key=e,t&&t.key===e&&(i.data=t.data,i.metadata=t.metadata),i}return i},j.prototype.getResultsCount=function(){return this._resultsCount},j.prototype._SetCurrentFirstItem=function(e){this._currentFirstItem=e},j.prototype._addListenerForRowKeyProperty=function(e){var t=this._collectionContext,i=e.rowKey;this._templateEngine&&this._templateEngine.defineTrackableProperty(e,"rowKey",i,t.currentRowKeyChangedListener)},j.prototype._FetchFirstResultForKeyboardFocus=function(){var e=_.getContext(this._containerElem[0]).getBusyContext();return this._FetchFirstResult().then(function(t){return null!=t&&(this._focusinListener=this._handleCollectionFocusinOnce.bind(this,t),this._containerElem[0].addEventListener("focusin",this._focusinListener)),e.whenReady()}.bind(this))},j.prototype._handleCollectionFocusinOnce=function(e){if(this._containerElem[0].removeEventListener("focusin",this._focusinListener),this._focusinListener=null,!l.recentPointer()){var t=this._addBusyStateFunc("LovDropdown setting selected KeySet on focusin");this._handlingCollectionFocusinOnce=!0,this._SetCollectionCurrentRow({rowKey:e.key}),_.getContext(this.nction(){this._handlingCollectionFocusinOnce=!1,t()}.bind(this))}};const I=function(e){this._addBusyStateFunc=e.addBusyStateFunc,this._forceReadOnly=e.forceReadOnly,this._createOrUpdateReadonlyDivFunc=e.createOrUpdateReadonlyDivFunc,this._containerElem=this._createInnerDom(e);var t=o(this._containerElem).find("input."+e.className+"-input");this._inputElem=t[0]};I.prototype.getElement=function(){return this._containerElem},I.prototype.getInputElem=functioputText=function(){return this._inputElem.value||""},I.prototype._createInnerDom=function(e){var t=e.className,i=e.componentId,n=e.inputType,r=e.enabled,a=e.readOnly,s=e.ariaLabel,o=e.ariaControls,l=e.cachedMainFieldInputElement,u=document.createElement("div");u.setAttribute("class","oj-text-field-container oj-searchselect-main-field oj-text-field-has-end-slot"),u.setAttribute("role","presentation");var d=document.createElement("div");d.setAttribute("class","oj-text-field-middle"),u.appendChild(d);var c=l||document.createElement("input");return c.setAttribute("id",i+"|input"),c.setAttribute("autocomplete","off"),c.setAttribute("autocorrect","off"),c.setAttribute("autocapitalize","off"),c.setAttribute("spellcheck","false"),c.setAttribute("class",t+"-input oj-text-field-input"),c.setAttribute("aria-autocomplete","list"),c.setAttribute("placeholder",e.placeholder),c.disabled=!r&&!a,(a||this._forceReadOnly&&r)&&c.setAttribute("readonly","true"),a||(c.setAttribute("role","combobox"),c.setAttribute("aria-expanded","false")),s&&c.setAttribute("aria-label",s),o&&c.setAttribute("aria-controls",o),null!==n&&""!==n?c.setAttribute("type",n):c.setAttribute("type","text"),d.appendChild(c),e.endContent&&u.appendChild(e.endContent),a&&this._createOrUpdateReadonlyDivFunc(c),u},I.prototype.updateLabel=function(e,t){e?(this._inputElem.setAttribute("aria-labelledby",e),this._inputElem.removeAttribute("aria-label")):t&&(this._inputElem.setAttribute("aria-label",t),this._inputElem.removeAttribute("aria-labelledby"))},s.__registerWidget("oj.ojSelectBase",o.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",_ALLOWED_INPUT_TYPES:["email","number","search","tel","text","url"],_OPTIONS_REQUIRING_REFRESH:new Set(["disabled","readOnly","placeholder","data"]),options:{placeholder:"",data:null,required:!1,virtualKeyboard:"search",null},widget:function(){return o(this.OuterWrapper)},_ComponentCreate:function(){this._super(),this._fullScreenPopup="phone"===d.getDeviceRenderMode()},_AfterCreate:function(){this._super(),this._initInputIdLabelForConnection(this._GetContentElement()[0],this.OuterWrapper.id,this.options.labelledBy)},_IsTextFigetElement().querySelector(".oj-text-field-middle")},_HandleAfterFocusToggle:function(e,t){"focusout"===t&&this._abstractLovBase.isDropdownOpen()&&e.classList.add("oj-focus")},_IsRequired:function(){return this.options.required},_labelledByUpdatedForInputComp:t.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:t.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:t.EditableValueUtils._linkLabelForInputComp,_AfterSetOptionRequired:t.EditableValueUtils._AfterSetOptionRequired,_refreshRequired:t.EditableValueUtils._refreshRequired,_setTabIndex:t.EditableValueUtils._setTabIndex,_AriaRequiredUnsupported:function(){return!1},_VerifyConnectedForSetup:function(){return!0},_SetInputType:t.EditableValueUtils._SetInputType,_GetStyleClassComponentName:function(){return s.Assert.failedInAbstractFunction(),""},_GetTemplateSlot:function(e){var t=v.CustomElementUtils.getSlotMap(this.OuterWrapper)[e];return t&&t[0]&&"TEMPLATE"===t[0].tagName?t[0]:null},_SetupSelectResources:function(e){this._loadingIndicatorCount=0;for(var t=this.OuterWrapper,i=t.childNodes,n=[],r=0;r<i.length;r++)n.push(i[r]);var a=this.options;this._wrapDataProviderIfNeeded(a.data),this._addDataProviderEventListeners(),this._n(){return s.getTranslatedString.apply(s,arguments)},u=function(e){return this._AddBusyState(e)}.bind(this),d=t.getAttribute("id");d||(d="oj-"+this._GetStyleClassComponentName()+"-"+O.nextUid(),t.setAttribute("id",d));var c=d;this._idSuffix=d;var h=!a.disabled;this._lovEnabled=h;var p=a.readOnly||!1,f=this.element;f.prop("disabled",!(h&&!p));var m=this._cssOptionDefaults.showIndicatorDelay;m=parseInt(m,10),m=isNaN(m)?250:m,this._showIndicatorDelay=m;var v=f.attr("type"),g="oj-searchselect";this._className=g,this._initContainer(g,c,p);var b=new I({className:g,ariaLabel:t.getAttribute("aria-label"),ariaControls:t.getAttribute("aria-controls"),componentId:d,inputType:v,enabled:h,readOnly:p,placeholder:a.placeholder,addBusyStateFunc:u,forceReadOnly:this._fullScreenPopup,endContent:this._createMainFieldEndContent(h,p),cachedMainFieldInputElement:e,createOrUpdateReadonlyDivFunc:this._createOrUpdateReadonlyDiv.bind(this)});this._lovMainField=b,this._initLovMainField(b);var y=b.getElement();t.appendChild(y);var E=this._createFilterInputText(g,c);this._fullScreenPopup||(E.style.visibility="hidden",t.appendChild(E)),this._filterInputText=E;var S=this._CreateLovDropdown();this._initLovDropdownFunc=function(e){var i=function(t){this._fullScreenPopup?(E.setAttribute("aria-controls",t.igetBusyContext().whenReady().then(function(){e&&e()})):e&&e()}.bind(this);this._initLovDropdown(c,v,d,l,u,i);var n=S.getElement();t.appendChild(n),n.addEventListener("lovDropdownEvent",this._handleLovDropdownEvent.bind(this)),this._fullScreenPopup||n.addEventListener("mousedown",function(){this._mousedownOnDropdown=!0}.bind(this)),o(b.getInputElem()).attr("aria-owns",n.id)}.bind(this),this._lovDropdown=S;var A=new C({className:g,dataProvider:this._wrappedDataProvider,containerElem:t,fullScreenPopup:this._fullScreenPopup,idSuffix:c,lovMainField:b,filterInputText:E,lovDropdown:S,liveRegion:this._liveRegion,enabled:h,readOnly:p,value:a.value,getTranslatedStringFunc:l,addBusyStateFunc:u,showMainFieldFunc:this._showMainField.bind(this),setFilterFieldTextFunc:this._SetFilterFieldText.bind(this),setUiLoadingStateFunc:this._setUiLoadingState.bind(this),isValueForPlaceholderFunc:this._IsValueForPlaceholder.bind(this),isShowValueInFilterFieldFunc:this._IsShowValueInFilterField.bind(this)});if(this._abstractLovBase=A,f.hide().attr("aria-hidden",!0),e){var j=this.options.describedBy;j&&this._describedByUpdated(null,j)}if(this._refreshRequired(a.required),this._initInputIdLabelForConnection(this._GetContentElement()[0],t.id,this.options.labelledBy),this._updateLabel(),this._setTabIndex(f[0],b.getInputElem()),p){var w=this._getReadonlyDiv();w&&this._setTabIndex(f[0],w)}for(var T=0;T<n.length;T++)t.appendChild(n[T]);this._SetupInitialValue()},_AddBusyState:function(e,t){var i=t||this.OuterWrapper,n=O.addBusyState(i,e);if(this._makingInternalValueChange){ernalValueChangePromise();return function(){n(),r()}}return n},_StartMakingInternalValueChange:function(){var e=this._makingInternalValueChangePromise,t=this._chainInternalValueChangePromise();return this._makingInternalValudeferredMakingInternalValueChangeQueueCallback=null}.bind(this)),t},_chainInternalVafunction(){var e=null,t=new Promise(function(t){e=t}),i=O.addBusyState(this.OuterWrapper,"Processing value change");t.then(i,i);var n=t;this._makingInternalValueChangePromise&&(n=Promise.als._deferredMakingInternalValueChangeQueueCallback()}.bind(this);return n.then(r,r),this._makingInternalValueChangePromise=n,e},_queueValueChangeDeferredCallback:function(e){var t=O.addBusyState(this.OuterWrapper,"queueing deferred callback while making value change"),i=this._deferredMakingInternalValueChangeQueueCallback;this._deferredMakingInternalValueChangeQueueCallback=function(){try{i&&i(),e()}finally{t()}}},_SetupInitialValue:function(){s.Assert.failedInAbstractFunction()},_ReleaseSelectResources:function(e){for(var t=this._loadingIndicatorCount;t>=0;t--)this._setUiLoadingState("stop");this._loadingIndicatorCount=0,this._savedLoadingIndicator=!1,this._mousedownOnDropdown=!1,this._deferredSetDisplayValue=null,this._bReleasedResources&&this._clearMainFieldFocusHandlerTimer(),o(this._filterInputText).remove(),e&&(o(this._lovMainField.getInputElem()).detach(),this._cleanUpMainFieldInputElement(),o(this._lovMainField.getInputElem()).off(this._lovMainFieldInputEventListeners)),o(this._lovMainField.getElement()).remove(),o(this._liveRegion).remove(),this._abstractLovBase.destroy(),this._lovDropdown.getElement()&&(o(this._lovDropdown.getElement()).remove(),this._lovDropdown.destroy());var i=this.OuterWrapper,n=i.classList;n.remove(this._className),n.remove("oj-form-control"),n.remove("oj-component"),n.remove("oj-read-only"),n.remove("oj-enabled"),n.remove("oj-disabled"),o(i).off("change","."+this._className+"-input",O.stopEventPropagation).off(this._containerEventListeners),this._containerEventListeners=null,this.element.removeAttr("aria-hidden").show(),this._removeDataProviderEventListeners(),this._wrappedDataProvider=null,this._liveRegion=null,this._abstractLovBase=null,this._lovMainField=null,this._filterInputText=null,this._lovDropdown=null},_cleanUpMainFieldInputElement:function(){var e=this._lovMainField.getInputElem();if(s.AgentUtils.getAgentInfo().browser===s.AgentUtils.BROWSER.IE)e.removeAttribute("readonly"),e.removeAttribute("role"),e.removeAttribute("type"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-label"),e.removeAttribute("aria-labelledby");else if(e.hasAttributes())for(var t,i=e.attributes,n=i.length-1;n>=0;n--)t=i[n].name,O.removeAttribute(e,t);e.value=""},_updateLabel:function(){var e,t,i=this.options,n=this._lovMainField,r=this._lovDropdown,a=this._filterInputText;i.labelledBy&&(e=i.labelledBy);var s=this.OuterWrapper.getAttribute("aria-label");s&&(t=s),r.updateLabel(e,t),n.updateLabel(e,t),e?(a.setAttribute("labelled-by",e),a.setAttribute("aria-label","")):t&&(a.setAttribute("aria-label",t),a.setAttribute("labelled-by","")),this._fullScreenPopup&&(i.labelHint?(a.setAttribute("label-hint",i.labelHint),a.setAttribute("label-edge","inside"),a.setAttribute("labelled-by",""TextRendererFunc(this._ItemTextRenderer.bind(this))},_initContainer:function(e,t,i){var n=this.OuterWrapper,r=o(n),a=n.classList;a.add(e),a.add("oj-form-control"),a.add("oj-component"),i?a.add("oj-read-only"):a.add(this._lovEnabled?"oj-enabled":"oj-disabled"),this._fullScreenPopup?a.add("oj-searchselect-mobile"):a.remove("oj-searchselect-mobile"),this._toggleNoValueStyleClass();var s=document.createElement("div");s.setAttribute("id","oj-listbox-live-"+t),s.setAttribute("class","oj-helper-hidden-accessible oj-listbox-liveregion"),s.setAttribute("aria-live","polite"),n.appendChild(s),r.on("change","."+e+"-input",O.stopEventPropagation),this._containerEventListeners={click:O.killEvent,keythis),mouseup:function(){r.removeClass("oj-active")}},r.on(this._containerEventListeners),this._liveRegion=s},_toggleNoValueStyleClass:function(){var e=this.OuterWrapper.classList;this._IsValueForPlaceholder(this.options.value)?e.add("oj-searchselect-no-value"):e.remove("oj-searchselect-no-value")},_SetFilterFieldText:function(e){(this._ignoreFilterFieldRawValueChanged=!0,this._filterInputText.value=e,this._fullScreenPopup)&&(this._lovDropdown.getElement().parentElement||o(this._filterInputText).find("oj-label").remove());this._filterInputText&&(_.getContext(this._filterInputText).getBusyContext().isReady()&&this._filterInputText.refresh());this._ignoreFilterFieldRawValueChanged=!1},_IsShowValueInFilterField:function(){return!1},_ShowFilterField:function(e){if(!this._fullScreenPopup){var t=this._filterInputText;if("hidden"===t.style.visibility){var i=this._lovMainField,n=i.getInputElem();if(!e){var r=this._IsShowValueInFilterField()?n.value:"";this._SetFilterFieldText(r),O.copyAttribute(n,"aria-describedby",t,"described-by")}var a=this._getFilterInputElem();a&&(a.setAttribute("role","combobox"),e||(O.copyAttribute(n,"aria-required",a,"aria-required"),O.copyAttribute(n,"aria-invalid",a,"aria-invalid"))),i.getInputElem().style.visibility="hidden",t.style.visibility="",this.OuterWrapper.appendChild(t)}if(!e)if(s.AgentUtils.getAgentInfo().browser===s.AgentUtils.BROWSER.IE){var o=this._AddBusyState("Se filter field");setTimeout(function(){t.focus(),o()},0)}else t.focus()}},_showMainField:function(){if(!this._fullScreenPopup){var e=this._filterInputText;if("hidden"!==e.style.visibility){var t=this._lovMainField.getInputElem();t.setSelectionRange(0,0),t.style.visibility="",e.style.visibility="hidden"}}},_IsFilterInputTextCleared:function(){var e=this._filterInputText.rawValue;return null==e||""===e},_handleContainerKeyDown:function(e){if(this._lovEnabled&&!this.options.readOnly&&!O.isControlOrFunctionKey(e)){var t=e.which||e.keyCode;if(t!==O.KEYS.PAGE_UP&&t!==O.KEYS.PAGE_DOWN){var i=this._abstractLovBase,n=this._lovDropdown;switch(t){case O.KEYS.UP:case O.KEYS.DOWN:if(i.isDropdownOpen())if(h.focusFirstTabStop(n.getElement()),this.OuterWrapper.classList.add("oj-focus"),s.AgentUtils.getAgentInfo().browser===s.AgentUtils.BROWSER.IE){var r=this._AddBusyState("Select showing filter field while arrowing into dropdown");setTimeout(function(){this._ShowFilterField(!0),r()}.bind(this),0)}else this._ShowFilterField(!0);else this._openDropdown();e.preventDefault();break;case O.KEYS.ENTER:e.preventDefault(),this._HandleContainerKeyDownEnter(e);break;case O.KEYS.TAB:this._HandleContainerKeyDownTab(e);break;case O.KEYS.ESC:i.isDropdownOpen()&&(i.cancel(),e.preventDefault())}}else e.preventDefault()}},_HandleContainerKeyDownEnter:function(e){s.Assert.failedInAbstractFunction()},_HandleContainerKeyDownTab:function(e){s.Assert.failedInAbstractFunction()},_handleContainerMouseDown:function(e){var t=this._abstractLovBase;this._mousedownOnDropdown=!1,this._lovEnabled||e.preventDefault();var i=this.OuterWrapper,n=o(i),r=0===e.button,a=!1,s=this._lovMainField.getInputElem();if(r&&!this.options.readOnly){if(this._fullScreenPopup){var u=i.querySelector(".oj-searchselect-clear-value");if(u&&l.isAncestorOrSelf(u,e.target))return}if(this._lovEnabled)if(t.isDropdownOpen()){if(!this._fullScreenPopup&&t.isDropdownOpen()){var d=this._filterInputText.querySelector(".oj-searchselect-arrow");l.isAncestorOrSelf(d,e.target)&&this._CloseDropdown()}}else{var c=this._lovMainField.getElement().querySelector(".oj-searchselect-arrow"),h=l.isAncestorOrSelf(c,e.target);!this._fullScreenPopup&&h&&s.setSelectionRange(1e6,1e6),this._openDropdown(),this._fullScreenPopup&&e.preventDefault()}}if(n.addClass("oj-active"),r){if(!this._fullScreenPopup&&this._lovEnabled){var p=this._getFilterInputElem();"hidden"===this._filterInputText.style.visibility?(e.target!==p&&e.target!==s||(a=!0),s.focus()):this.options.readOnly||(e.target===p&&(a=!0),this._ShowFilterField())}a||e.preventDefault()}},_handleLovDropdownEvent:function(e){var t=e.detail,i=this._abstractLovBase;if(i)switch(t.subtype){case"closeDropdown":this._mousedownOnDropdown=!1,"escKeyDown"===t.trigger?this._filterInputText.focus():"clickAway"===t.trigger&&(this._userHasTypedFilterText=!1,this._showMainField(),this.OuterWrapper.classList.remove("oj-focus")),this._CloseDropdown();break;case"tabOut":this._HandleLovDropdownEventTabOut(e);break;case"sizeDropdown":i.sizeDropdown();break;case"adjustDropdownPosition":var n=i.getDropdownPosition();if(this._fullScreenPopup)o(t.popupElem).position(n);else{var r=t.positioningProxyElem,a=o(r).find(".oj-select-results")[0],l=o(t.popupElem),u=l.find(".oj-select-results");r.style.width=l.outerWidth()+"px",a.style.height=u.css("max-height"),o(r).position(n)}break;case"openPopup":var d=t.psOptions;d[s.PopupService.OPTION.LAUNCHER]=this.element,d[s.PopupService.OPTION.POSITION]=i.getDropdownPosition(),s.PopupService.getInstance().open(d);break;case"handleSelection":this._HandleLovDropdownEventSelection(e);break;case"dropdownClosed":this._HClosed:function(e){this._searchTextOnKeyDown=void 0},_HandleLovDropdownEventTabOut:function(e){s.Assert.failedInAbstractFunction()},_HandleLovDropdownEventSelection:function(e){s.Assert.failedInAbstractFunction()},_CloseDropdown:function(){this._mousedownOnDropdown=!1;var e=this._lovDropdown.getElement();if(null!=e){var t=document.activeElement;t&&l.isAncestor(e,t)&&t.blur(),this._abstractLovBase.closeDropdown()}},_createMainFieldEndContent:function(e,t){var i=document.createElement("span");i.setAttribute("class","oj-text-field-end");var n=this._createDropdownIcon(e,t);if(i.appendChild(n),this._fullScreenPopup){var r=this._createClearValueIcon();i.appendChild(r)}return i},_createDropdownIcon:function(e,t){var i=this._className,n=document.createElement("a"),r=i+"-arrow "+i+"-open-icon "+i+"-icon oj-component-icon oj-clickable-icon-nocontext";return t||e||(r+=" oj-disabled"),n.setAttribute("class",r),n.setAttribute("role","presentation"),n},_createClearValueIcon:function(){var e=this._className,t=document.createElement("a"),i=e+"-clear-value "+e+"-clear-value-icon "+e+"-icon oj-component-icon oj-clickable-icon-nocontext";t.setAttribute("class",i),t.setAttribute("role","button");var n=this.getTranslatedString("labelAccClearValue");return t.setAttribute("aria-label",n),t.addEventListener("click",this._HandleClearValueIconClick.bind(this)),t},_HandleClearValueIconClick:function(){s.Assert.failedInAbstractFunction()},_GetDefaultValueItemForPlaceholder:function(){return s.Assert.failedInAbstractFunction(),null},_initLovMainField:function(e){this._lovMainFieldInputEventListeners={focus:function(e){if(O.killEvent(e),!this._fullScreenPopup&&!this.options.readOnly){this._clearMainFieldFocusHandlerTimer();var t=this._AddBusyState("Select showing filter field after focusing main field");this._mainFieldFocusHandlerTimer=E.getTimer(0);var i=this._lovMainField.getInputElem(),n={selectionStart:i.selectionStart,selectionEnd:i.selectionEnd,selectionDirection:i.selectionDirection};this._mainFieldFocusHandlerTimer.getPromise().then(function(e){if(e){this._mainFieldFocusHandlerTimer=null,this._ShowFilterField();var r=this._lovMainField.getInputElem();i===r&&(n={selectionStart:i.selectionStart,selectionEnd:i.selectionEnd,selectionDirection:i.selectionDirection});var a=this._getFilterInputElem();a&&a.setSelectionRange(n.selectionStart,n.selectionEnd,n.selectionDirection)}t()}.bind(this))}}.bind(this)},o(e.getInputElem()).on(this._lovMainFieldInputEventListeners),o(e.getElement()).on({mousedown:this._handleContainerMousimer.clear(),this._mainFieldFocusHandlerTimer=null)},_getFilterInputElem:function(){var e=o(this._filterInputText).find("input");return e.length>0?e[0]:null},_createFilterInputText:function(e,t){var i=this.OuterWrapper.getAttribute("aria-label"),n=this.OuterWrapper.getAttribute("aria-controls"),r=this.options,a=document.createElement("oj-input-text");if(a.setAttribute("display-options.messages","none"),a.setAttribute("user-assistance-density","compact"),a.setAttribute("id",e+"-filter-"+t),a.setAttribute("class",e+"-filter"),a.setAttribute("clear-icon",this._fullScreenPopup?"conditional":"never"),a.setAttribute("autocomplete","off"),a.setAttribute("aria-autocomplete","list"),a.setAttribute("data-oj-internal",""),a.setAttribute("data-oj-context",""),a.setAttribute("data-oj-binding-provider","none"),r.placeholder&&a.setAttribute("placeholder",r.placeholder),a.setAttribute("disabled",r.disabled),i&&a.setAttribute("aria-label",i),!this._fullScreenPopup&&n&&a.setAttribute("aria-controls",n),a.setAttribute("virtual-keyboard",r.virtualKeyboard),this._fullScreenPopup){var s=this.getTranslatedString("cancel"),u=document.createElement("span");u.setAttribute("id","cancelButton_"+this._idSuffix),u.setAttribute("slot","start"),u.setAttribute("class",e+"-back-button"),u.settInputElem().focus(),this._abstractLovBase.cancel()}.bind(this)),a.appendChild(u);var d=document.createElement("span");d.setAttribute("class",e+"-back-icon "+e+"-icon oj-component-icon oj-clickable-icon-nocontext"),u.appendChild(d)}else{var c=document.createElement("a");c.setAttribute("class",e+"-arrow "+e+"-open-icon "+e+"-icon oj-component-icon oj-clickable-icon-nocontext"),c.setAttribute("slot","end"),a.appendChild(c)}var h=o(this.Outer._userHasTypedFilterText=!0,this._updath.addClass("oj-focus"),this._mousedownOnDropdown=!1}),a.addEventListener("blur",function(e){h.removeClass("oj-focus"),this._fullScreenPopup||e.relatedTarget&&l.isAncestor(this._lovDropdown.getElement(),e.relatedTarget)||this._mousedownOnDropdown||this._showMainField(),this._mousedownOnDropdown=!1}.bind(this)),this._fullScreenPopup||a.addEventListener("mousedown",this._handlen(){return s.Assert.failedInAbstractFunction(),null},_initLovDropdown:function(e,t,i,n,r,a){this._lovDropdown.init({dataProvider:this._wrappedDataProvider,className:"oj-select",parentId:i,idSuffix:e,fullScreenPopup:this._fullScreenPopup,inputType:t,bodyElem:o(this.OuterWrapper).closest("body")[0],itemTemplate:this._GetTemplateSlot("itemTemplate"),collectionTemplate:this._GetTemplateSlot("collectionTemplate"),getTemplateEngineFunc:this._loadTemplateEngine.bind(this),templateContextComponentElement:this.OuterWrapper,getTranslatedStringFunc:n,addBusyStateFunc:r,itemTextRendererFunc:this._ItemTextRenderer.bind(this),filterInputText:this._filterInputText,afterDropdownInitFunc:a,getThrottlePromiseFunc:this._GetThrottlePromise.bind(this),isValueForPlaceholderFunc:this._IsValueForPlaceholder.bind(this),isValueItemForPlaceholderFunc:this._IsValueItemForPlaceholder.bind(this),styleClassComponentName:this._GetStyleClassComponentName()})},_openDropdown:function(){if(this._mousedownOnDropdown=!1,this._initLovDropdownFunc){var e=this._stractLovBase&&this._abstractLovBase.openDropdown()}.bind(this))}else this._abstractLovBase.openDropdown()},_updateResults:function(e){if(this._initLovDropdownFunc){var t=this._ractLovBase&&this._abstractLovBase.updateResults(e)}.bind(this))}else this._abstractLovBase.updateResults(e)},_loadTemplateEngine:function(){if(!this._templateEngine){var e=this._AddBusyState("Select loading template engine");return new Promise(function(t,i){d.__getTemplateEngine().then(function(i){this._templateEngine=i,t(i),e()}.bind(this),function(t){i(new Error("Error loading template engine: "+t)),e()})}.bind(this))}return Promise.resolve(this._templateEngine)},refresh:function(){if(this._makingInternalValueChange)this._queueValueChangeDeferredCallback(function(){this.refresh()}.bind(this));else{var e=this._lovMainField.getInputElem();this._bSuperRefreshing=!0,this._super(),this._bSuperRefreshing=!1,this._ReleaseSelectResources(!0),this._SetupSelectResources(e),this._initComponentMessaging(),this._deferredSetDisplayValue&&this._deferredSetDisplayValue()}},_SetupResources:function(){this._super(),this._bReleasedResources&&(this._bReleasedResources=!1,this._SetupSelectResources(ReleasedResources=!0,this._ReleaseSelectResources()},validate:function(){if(thChange){var e,t,i=new Promise(function(i,n){e=i,t=n});return this._queueValueChangeDeferredCallback(function(){this.validate().then(e,t)}.bind(this)),i}return this._ValidateHelper()},_ValidateHelper:function(){s.Assert.fName:function(){s.Assertfunction(e,t,i){s.Assert.failedInAbstractFunction()},_UpdateValueItem:function(e){s.Assert.failedInAbstractFunction()},_setOptions:function(e,t){if(this._makingInternalValueChange)this._queueValueChangeDeferredCallback(function(){var i=Object.assign({},e);i.hasOwnProperty("labelledBy")&&i.labelledBy===this.options.labelledBy&&(delete i.labelledBy,0===Object.entries(i).length)||this._setOptions(i,t)}.bind(this));else{var i;this._processSetOptions||(this._processSetOptions=[]),this._processSetOptions.push({});for(var n=!1,r=e.hasOwnProperty("data"),a=e.hasOwnProperty("value"),s=e.hasOwnProperty(this._GetValueItemPropertyName()),o=!1,l=Object.keys(e),u=0;u<l.length;u++)if(this._OPTIONS_REQUIRING_REFRESH.has(l[u])){o=!0;break}o&&(a?(this._deferSettingValue=!0,i=this._AddBusyState("Defer setting value")):r&&!s&&(n=this._valueItemSetInternally));var d=!1;!this._fullScreenPopup&&this._lovEnabled&&"hidden"!==this._filterInputText.style.visibility&&(d=!0);try{this._super(e,t);var c=this._processSetOptions.pop();if(c.forRefresh&&c.forRefresh(),i&&(this._deferSettingValue=!1),c.value)c.value();else if(n){var h=this._StartMakingInternalValueChange();this._setOption("value",this.options.value),h()}if(d&&"hidden"===this._filterInputText.style.visibility)_.getContext(this._filterInputText).getBusyContext().whenReady().then(function(){this._ShowFilterField()}.bind(this))}finally{i&&i()}}},_setOption:function(e,t,i){var n,r=this._abstractLovBase;if(this._super(e,t,i),this._processSetOptions&&this._processSetOptions.length>0&&(n=this._processSetOptions[this._processSetOptions.length-1]),e===this._GetValueItemPropertyName())this._valueItemSetInternally=!1,this._SyncValueWithValueItem(t,this.options.value);else if("value"===e){var a=function(){r.setValue(t),this._IsValueForPlaceholder(t)?this._SetValueItem(this._GetDefaultValueItemForPlaceholder()):this._UpdateValueItem(t),this._SetDisplayValue()}.bind(this);n?n.value=a:a()}else if(this._OPTIONS_REQUIRING_REFRESH.has(e)){var s=function(){this.refresh()}.bind(this);n?n.forRefresh=s:s()}else if("labelledBy"===e){if(this.options.labelledBy){var o=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(this.options.labelledBy,o)}this._updateLabel()}else"itemText"===e&&this._UpdateItemText()},_AfterSetOption:function(e,t){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_INPUT_TYPES),this.refresh();break;case"labelHint":case"labelEdge":this._updateLabel()}},_AfterSetOptionValue:function(e,t){this._superApply(arguments),"value"===e&&this._toggleNoValueStyleClass()},_NotifyDetached:function(){this._superA){this._superApply(arguments),this._CloseDropdown()},_NotifyContextMenuGesture:function(e,t,i){var n=this._GetMessagingLauncherElement();this._OpenContextMenu(t,i,{launcher:n})},_NotifyMessagingStrategyQueueAction:function(eon(){this._messagingStrategyQueueActionPromise=null}.bind(this))},_GetContentElement:function(){return this._lovMainField?o(this._lovMainField.getInputElem()):this.element},_wrapDataProviderIfNeeded:function(e){if(O.isDataProvider(e)){var t=e;O.isTreeDataProvider(e)?e instanceof y||(t=new y(e)):e instanceof b||(t=new b(e)),t=g.getEnhancedDataProvider(t,{capabilities:{fetchCapability:{caching:"visitedByCurrentIterator"}}}),t=new S(t),this._wrappedDataProvider=t}else this._wrappedDataProvider=new S(null)},_addDataProviderEventListeners:function(){var e=this._wrappedDataProvider;if(e){this._removeDataProviderEventListeners();var t=this._HandleDataProviderEvent.bind(this);this._savedDataProviderEH=t,e.addEventListener("mutate",t),e.addEventListener("refresh",t)}},_removeDataProviderEventListeners:function(){var e=this._wrappedDataProvider,t=this._savedDataProviderEH;e&&t&&(e.removeEventListener("mutate",t),e.removeEventListener("refresh",t),this._savedDataProviderEH=void 0)},_HandleDataProviderEvent:function(e){},_ItemTextRenderer:function(e){var t;if(e&&e.data){var i=this.options.itemText;t="string"==typeof i?e.data[i]:i(e)}return t},_IsValueItemForPlaceholder:function(e){return s.Assert.fon(e){return stem:function(e){s.Assert.failedInAbstractFunction()},_FetchByKeysFromDataProvider:function(e){var t;if(this._cachedFetchByKeys&&this._cachedFetchByKeys.promise&&s.Object.compareValues(e,this._cachedFetchByKeys.key))t=this._cachedFetchByKeys.promise;else{var i=this._AddBusyState("fetching selected data"),n=!1;"init"===this._abstractLovBase.getFetchType()&&(this._abstractLovBase.isDropdownOpen()||(n=!0,this._setUiLoadingState("start"))),t=new Promise(function(t,i){this._wrappedDataProvider.fetchByKeys({keys:new Set(erEach(function(e){i.push(etadata)}),t({data:i,metadata:n})},function(e){i(e)})}.bind(this)),this._cachedFetchByKeys={key:e,promise:t};var r=function(){this._bReleasedResources||(this._cachedFetchByKeys=void 0,n&&this._setUiLoadingS"Select: fetchByKeys promise was rejected: "+e),r()})}return t},_setUiLoadingState:function(e){"start"===e?(this._loadingIndicatorTimer&&this._loadingIndicatorTimer.clear(),this._loadingIndicatorTimer=E.getTimer(this._showIndicatore().then(function(e){e&&this._addLoadingIndicator()}.bind(this))):"stop"===e&&(this._loadingIndicatorTimer&&(this._loadingIndicatorTimer.clear(),this._loadingIndicatorTimer=null),this._removeLoadingIndicator())},_addLoadingIndicator:function(){this._loadingIndicatorCount+=1,this._savedLoadingIndicator||(this._SetLoading(),this._savedLoadingIndicator=!0)},_removeLoadingIndicator:function(){this._loadingIndicatorCount>0&&(this._loadingIndicatorCount-=1),0===this._loadingIndicatorCount&&this._savedLoadingIndicator&&(this._ClearLoading(),this._savedLoadingIndicator=!1)}}),e.AbstractLovBase=C,e.FilteringDataProviderView=S,e.LovDropdown=j,e.LovMainField=I,e.LovUtils=O,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojselectsingle",["ojs/ojselectbase","ojs/ojcore-base","ojs/ojkeyset","jquery","ojs/ojcomponentcore","ojs/ojthemeutils","ojs/ojlogger"],function(e,t,i,n,r,a,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var o={properties:{data:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},itemText:{type:"string|function",value:"label"},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},placeholder:{type:"string",value:""},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{cancel:{type:"string"},labelAccClearValue:{type:"string"},labelAccOpenDropdown:{type:"string"},multipleMatchesFound:{type:"string"},nOrMoreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},noResultsLine1:{type:"string"},noResultsLine2:{type:"string"},oneMatchFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"any",writeback:!0},valueItem:{type:"object",writeback:!0,value:{key:null,data:null,metadata:null}},virtualKeyboard:{type:"string",enumValues:["email","number","search","tel","text","url"],value:"search"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojValueAction:{}},extension:{}};o.extension._WIDGET_NAME="ojSelectSingle",o.extension._INNER_ELEM="input",o.extension._GLOBAL_TRANSFER_ATTRS=["tabindex"],o.extension._ALIASED_PROPS={readonly:"readOnly"},oj.CustomElementBridge.register("oj-select-single",{metadata:oj.CollectionUtils.mergeDeep(o,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})});const l=function(){};t.Object.createSubclass(lype.init=function(e){l.superclass.init.call(this,e)},l.prototype._createKeySetImpl=function(e){return null==e?new i.KeySetImpl([]):new i.KeySetImpl([e])},l.prototype._ConfigureResultsInitial=function(e,t){if(!this._isValueForPlaceholderFunc(e)){this._SetCollectionCurrentRow({rowKey:e});var i=this._createKeySetImpl(e);return this._SetCollectionSelectedKeySet(i),t.whenReady()}return this._fullScreenPopup?t.whenReady():this._FetchFirstResultForKeyboardFocus()},l.prototype._ConfigureResultsNoSearchText=function(e,t){this._SetCollectionCurrentRow({rowKey:null});var i=this._createKeySetImpl(e);return this._SetCollectionSelectedKeySet(i),this._fullScreenPopup?t.whenReady():this._FetchFirstResultForKeyboardFocus()},l.prototype._ConfigureResultsWithSearchText=function(e,t){return this._FetchFirstResult().then(function(i){if(null==i)return this._SetCurrentFirstItem(null),this._ClearSelection(),t.whenReady();var n=i.key;this._SetCurrentFirstItem(i),this._SetCollectionCurrentRow({rowKey:n});var r=this._createKeySetImpl(e);return this._SetCollectionSelectedKeySet(r),t.whenReady()}.bind(this))},l.prototype._HandleCollectionSelectedItemChanged=function(e,t){if(!this._duringListViewInitialization&&!this._handlingCollectionFocusinOnce){var i=this._isValueItemForPlaceholderFunc(e)?null:e;this._collectionContext.selectedItem=i,this._handleSelection(i,t)}},l.prototype._GetDefaultCollectionRendererSelectionMode=function(){return"single"},t.__registerWidget("oj.ojSelectSingle",n.oj.ojSelectBase,{options:{valueItem:{key:null,data:null,metadata:null}},_ComponentCreate:function(){this._super(),this._cssOptionDefaults=a.parseJSONFromFontFamily("oj-searchselect-option-defaults")||{},this._defaultValueForPlaceholder=null,this._defaultValueItemForPlaceholder={key:null,data:null,metadata:null},this._SetupSelectResources()},_AfterCreate:function(){this._super();var e=this._getRootElement();this._focusable({element:e,applyHighlight:!1,afterToggle:this._HandleAfterFocusToggle.bind(this,e)}),"none"===this.options.labelEdge&&this._updateLabel()},_GetTranslationsSectionName:functioon(e){this._resolveValueItemLater=!1,this._super(e)},_ReleaseSelectResources:function(e){this._super(e)},_fetchDataAndSelect:function(e,t,i){if(null!=e.daection(this._defaultValueItemForPlaceholder,null,i)}.bind(this),a=function(n){if(n.data.length>0){var a={};a.key=e.key,a.data=n.data[0],a.metadata=n.metadata[0],this._handleSelection(a,t,i)}else r()}.bind(this);this._FetchByKeysFromDaelection(this._GetDefaultValueItemForPlaceholder())},_handleSelection:function(e,t,i){var n=this._StartMakingInternalValueChange(),r=this._IsValueItemForPlaceholder(e)?this._defaultValueItemForPlaceholder:e,a=function(){if(!this._bReleasedResources){if(!t||"blur"!==t.type){var e=this._lovMainField.getInputElem();this._fullScreenPopup?e.focus():(this._IsValueItemForPlaceholder(r)&&(e.value=""),this._SetFilterFieldText(e.value),i||this._ShowFilterField())}this._CloseDropdown()}n()}.bind(this),s=function(){this._messagingStrategyQueueActionPromise?this._messagingStrategyQueueActionPromise.then(a,a):a()}.bind(this);this._handleUserSelectedValueItem(r,t,void 0).then(s,s)},_handleUserSelectedValueItem:function(e,t,i){var n=this.options.value,r=this._abstractLovBase;this._cachedFetchByKeys&&(this._valueHasChanged=!0,this._setUiLoadingState("stop")),this._resolveValueItemLater=!0;var a=null;this._IsValueItemForPlaceholder(e)||(a=e.key),r.setValue(a),this._userSelectedValueItem=e;var s=this._SetValue(a,t,{doValueChangeCheck:!1,_context:i}),o=function(t){this._userSelectedValueItem=null,t&&this._fireValueActionEvent(e,n),this._resolveFetchDataAndSelectPromise&&(this._resolveFetchDataAndSelectPromise(),this._resolveFetchDataAndSelectPromise=null)instancn s.then(o,function(){o(!1)});var l=function(){o(s)};return Promise.resolve().then(l,l)},_SetDisplayValue:function(e){this._deferSettingValue||(ferredSetDisplayValue=null,this._SetDisplayValue(e)}.bind(this):(this._applyValueItem(this.options.valueItem)||this._initSelectedValue(),this._resolveValueItemLater=!1))},_ValidateHelper:function(){this._isInValidate=!0;var e=n(this._lovMainField.getInputElem()).val(),t=this._SetValue(e,null,this._VALIDATE_tion(e){return Promise.resolve(e?"valid":"invalid")}):Promise.resolve(t?"valid":"invalid"),this._isInValidate=!1,t},_SetValue:function(e,t,i){e===this._GetDisplayValue()&&void 0===(e=this._isInValidate&&""===e&&!this.isValid()?null:this.options.value)&&(e=null);var n=this._StartMakingInternalValueChange(),r=this._super(e,t,i);return n(),r},_GetDefaultStyleClass:function(){return"oj-searchselect"},_GetStyleClassComponentName:function(){return"selectsingle"},_mergeValueAndValueItem:function(e,i){var n=!1;return this._IsValueForPlaceholder(e)?i&&!this._deferSettingValue&&this._SyncValueWithValueItem(i,e,{doNotClearMessages:!0}):i&&(n=!t.Object.compareValues(e,i.key)),n},_SyncValueWithValueItem:function(e,i,n){var r,a=this._abstractLovBase;if(r=this._IsValueItemForPlaceholder(e)?this._IsValueForPlaceholder(i)?i:this._defaultValueForPlaceholder:e?e.key:null,!t.Object.compareValues(r,i)){var s=this._StartMakingInternalValueChange(),o={internalSet:!0,writeback:!0};n&&Object.assign(o,n);var l={doValueChangeCheck:!1,_context:o};this.option("value",r,l),a.setValue(r),this._AfterSetOptionValue("value",l),s()}},_initSelectedValue:function(e){if(!this._applyValueItem(e)){var t=this._IsValueItemForPlaceholder(e)?this.options.value:e.key;!this._IsValueForPlaceholder(t)&&this._deferSettingValue||this._initSelectionHelper(t,this._updateSelectedOption.bind(this),e)}},_applyValueItem:function(e){return!this._resolveValueItemLater&&!this._IsValueItemForPlaceholder(e)&&(this._updateInputElemValue(e),!0)},_updateSelectedOption:function(e){this._updateInputElemValue(e),this._SetValueItem(e)},_SetValueItem:function(t){this._valueItemSetInternally=!0;var i=t;t&&!this._IsValueItemForPlaceholder(t)&&(i=e.LovUtils.createValueItem(t.key,t.data,t.metadata));var n=this._StartMakingInternalValueChange();this.option(this._GetValueItemPropertyName(),i,{_context:{internalSet:!0,changed:!0,writeback:!0}}),n()},_Updthis._SetValueItem(e),this._updateSelectedOption(e)}.bind(this))},_updateInputElemValue:function(e){var t=n(this._lovMainField.getInputElem()),i=null;if(e&&e.data){var r=this._ItemTextRenderer(e),a=t.val();void 0!==r&&a!==r&&(i=r)}else i="";if(null!==i){if(t.val(i),this.options.readOnly){let e=this._getReadonlyDiv();e&&(e.textContent=i)}(!this._fullScreenPopup&&"hidden"!==this._filterInputText.style.visibility||this._fullScreenPopup&&this._abstractLovBase.isDropdownOpen())&&!this._userHasTypedFiltehis.options.valueItem;this._updateInputElemValue(e)},_initSelectionHelper:function(e,i,n){if(this._IsValueForPlaceholder(e)){var r=n&&t.Object.compareValues(n,this._defaultValueItemForPlaceholder)?n:this._defaultValueItemForPlaceholder;i(r)}else if(this._abstractLovBase.hasData())if(this._userSelectedValueItem){var a=this._userSelectedValueItem;this._initSelectionFetchByKey({data:[a.data],metadata:[a.metadata]},e,i)}else this.options.data?(this._loadingAwaitingData&&(this._loadingAwaitingData=!1,this._setUiLoadingState("stop")),this._FetchByKeysFromDataProvider([e]).then(function(t){this._bReleasedResources||this._initSelectionFetchByKey(t,e,i)}.bind(this),function(){this._bReleasedResources||this._initSelectionFetchByKey(null,e,i)}.bind(this))):this._loadingAwaitingData||(this._loadingAwaitingData=!0,this._setUiLoadingState("start"))},_initSelectionFetchByKey:function(i,n,r){if(t.Object.compareValues(n,this.options.value)&&!this._valueHasChanged){var a=null,o=null;i&&i.data&&i.data.length>0?(a=i.data[0],o=i.metadata[0]):s.warn("SelectSingle: could not fetch data for selected value: "+n),r(e.LovUtils.createValueItem(n,a,o)),this._valueHasChanged=void 0}},_fireValueActionEvent:function(e,t){var i={value:e.key,itemContext:e,previousValue:t},n=new CustomEvent("ojValueAction",{detail:i}),r=this.OuterWrapper,a=this._StartMakingInternalValueChange();r.dispatchEvent(n),a()},unction(e){this._resolveFetchDataAndSelectPromise=e}.bind(this));if(null!=e){const i={key:e};this._fetchDataAndSelect(i,t)}else this._handleSelection(this._defaultValueItemForPlaceholder);return i},_HandleDataProviderEvent:function(e){if(!e.filterCriterionChanged){var i=this.options.value;if("mutate"===e.type)if(null!=e.detail.remove)e.detail.remove.keys.forEach(function(e){t.Object.compareValues(e,i)&&(i=this._defaultValueForPlaceholder,s.warn("Select: selected value removed from data provider"))}.bind(this));var n=this._StartMakingInternalValueChange();this._setOption("value",i),n(),this._abstractLovBase.handleDataProviderEvent(e)}},_HandleContainerKeyDownEnter:function(e){if(this._userHasTypedFilterText=!1,!this._fullScreenPopup&&this._IsFilterInputTextCleared())this._handleSelection(this._defaultValueItemForPlaceholder);else if(!this._fullScreenPopup&&this._abstractLovBase.isDropdownOpen()){var t=this._lovDropdown.getValueItemForSelection();null!=t&&this._fetchDataAndSelect(t,e)}},_HandleContainerKeyDownTab:function(e){if(this._userHasTypedFilterText=!1,!this._fullScreenPopup){if(e.shiftKey)for(var t=this._filterInputText,i=t.parentNode;i.firstChild!==t;)i.appendChild(i.firstChild);if(this._IsFilterInputTextCleared())this._IsValueForPlaceholder(this.options.value)&&this._IsValueItemForPlaceholder(this.options.valueItem)||this._handleSelection(this._defaultValueItemForPlaceholder,null,!0);else if(this._abstractLovBase.isDropdownOpen()){var n=this._lovDropdown.getValueItemForSelection();null!=n&&this._fetchDataAndSelect(n,e,!0)}}this._CloseDropdown()},_HandleLovDropdownEventTabOut:function(e){if(this._userHasTypedFilterText=!1,this._filterInputText.focus(),!this._fullScreenPopup){let t=this._lovDropdown.getValueItemForSelection();null!=t&&this._fetchDataAndSelect(t,e,!0)}},_HandleLovDropdownEventSelection:function(e){var t=e.detail;this._userHasTypedFilterText=!1,this._handleSelection(t.valueItem,t.event)},_GetDefaultValueItemForPlaceholder:function(){return this._defaultValueItemForPlaceholder},_IsValueItemForPlaceholder:function(e){return null==e||this._},_IsValueForPlaceholder:function(e){return null==e},_IsShowValueInFilterField:function(){return!0},_SetupInitialValue:function(){var e=this.options;this._abstractLovBase.hasData()&&this._initSelectedValue(e.valueItem),this._resolveValueItemLater=this._mergeValueAndValueItem(e.value,e.valueItem)},_GetValueItemPropertyNueItem"},_CreateLovDropdown:function(){return new l}}),r.setDefaultOptions({ojSelectSingle:{displayOptions:{converterHint:["none"]}}})}),define("bundles/ojformbundle",function(){});
//# sourceMappingURL=ojformbundle.js.map