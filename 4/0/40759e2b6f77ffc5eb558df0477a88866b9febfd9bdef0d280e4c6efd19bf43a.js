"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8420],{87355:(e,l,t)=>{t.r(l),t.d(l,{CulturalMomentHub:()=>q,REDIRECT_BASE:()=>X,default:()=>z});var i=t(10226),n=t(17676),o=t(50959),s=t(82187),r=t.n(s),a=t(39371),d=t(85648),u=t(80936),c=t(67204),v=t(80626),m=t(39505),p=t(98716),g=t(97922),h=t(81639),x=t(16118),f=t(11527);const b=e=>{let{image:l,color:t=m.k77,title:i}=e;const n=void 0===l?g.fR.SMALL:g.fR.DEFAULT,o=null!=l&&l.uri?[{url:l.uri}]:[];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(g.gF,{backgroundImages:o,backgroundColor:t,size:n,children:[(0,f.jsx)(h.W,{children:i?(0,f.jsx)(x.i,{text:i}):null}),(0,f.jsx)(g.sP,{children:i?(0,f.jsx)(g.xd,{children:i}):null})]}),(0,f.jsx)(p.H,{color:t})]})};t(46758),t(27082),t(86277),t(55115);var j=t(11317),y=t(36255),w=t(20109),D=t(87964);const A=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const I=(e,l,t)=>{var i,n,o,s;if(void 0===e.id)return null;const r=l.map(((e,l)=>function(e,l){var t,i,n,o,s,r,a,d,u,c,v;const m=null===(t=e.component)||void 0===t?void 0:t.id,p=e.id;if(void 0===m||void 0===p)return null;const g=null===(i=e.events)||void 0===i||null===(i=i.click)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.uri,h=null===(n=e.images)||void 0===n||null===(n=n.main)||void 0===n?void 0:n.uri,x=h?[{url:h}]:[];switch(m){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===g?null:(0,f.jsx)(w.B,{uri:g,name:(null===(o=e.text)||void 0===o?void 0:o.title)??"",images:x,showImages:x,description:(null===(s=e.text)||void 0===s?void 0:s.description)??(null===(r=e.text)||void 0===r?void 0:r.subtitle)??"",durationMilliseconds:(b=null===(a=e.custom)||void 0===a?void 0:a.duration,"number"==typeof b?b:0),releaseDate:A(null===(d=e.custom)||void 0===d?void 0:d.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:l},g);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===g?null:(0,f.jsx)(D.Z,{uri:g,name:(null===(u=e.text)||void 0===u?void 0:u.title)??"",images:x,description:(null===(c=e.text)||void 0===c?void 0:c.description)??"",authorName:(null===(v=e.text)||void 0===v?void 0:v.subtitle)??"",index:l},g);default:return null}var b}(e,l))).flatMap((e=>e?[e]:[]));if(0===r.length)return null;const a=null===(i=(0,j.EC)((null===(n=e.events)||void 0===n||null===(n=n.click)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.uri)??""))||void 0===i?void 0:i.toURLPath(!0);return(0,f.jsx)(y.q,{title:(null===(o=e.text)||void 0===o?void 0:o.title)??"",total:r.length,seeAllUri:a,index:t,id:e.id,seeAllLabel:null===(s=e.text)||void 0===s?void 0:s.accessory,children:r})},R=e=>{const l=(e=>{const l=Array();let t,i=Array();return e.forEach((e=>{var n;if("culturalmoments:sectionHeaderWithAction"===(null===(n=e.component)||void 0===n?void 0:n.id))t&&0!==i.length&&l.push({heading:t,components:i}),t=e,i=Array();else if(t){var o,s,r;"culturalmoments:carousel"===(null===(o=e.component)||void 0===o?void 0:o.id)||"glue2:carousel"===(null===(s=e.component)||void 0===s?void 0:s.id)?null===(r=e.children)||void 0===r||r.forEach((e=>{i.push(e)})):i.push(e)}})),t&&0!==i.length&&l.push({heading:t,components:i}),l})(e);return(0,f.jsx)(f.Fragment,{children:l.map(((e,l)=>I(e.heading,e.components,l)))})};var C=t(32414),k=t(69736),N=t(36353),S=t(65376),O=t(60046),B=t(4417);const F="pgo3GiB844kDFl6Qbo05",E="RhOeeOpI4AOwx0QAVneD",M="XSE6HhcsNgvOjU0xmuTN";var U=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(U||{});const W=e=>{let{spec:l}=e;const t=d.ag.getLocaleForTranslation(),i=(0,v.$P)(),n=(0,v.Wi)(l),o=e=>{if(e===U.ANDROID){const t=l.googleBadgeFactory().hitNavigateToWebviewUri({destination:e});i.logInteraction(t)}else{const t=l.appleBadgeFactory().hitNavigateToWebviewUri({destination:e});i.logInteraction(t)}};return(0,f.jsxs)(C.x,{variant:"tinted",style:{width:600},ref:n,children:[(0,f.jsx)(k.x,{as:"p",variant:"bodyMediumBold",style:{marginBottom:N.dl},children:d.ag.get("web-player.cultural-moments.unsupportedHeading")}),(0,f.jsx)(k.x,{as:"p",variant:"bodySmall",style:{marginBottom:N.o7},children:d.ag.get("web-player.cultural-moments.unsupportedDescription")}),(0,f.jsxs)("div",{className:r()(M),children:[(0,f.jsx)(O.default,{to:U.IOS,target:"_blank",onClick:()=>o(U.IOS),children:(0,f.jsx)("img",{src:(0,S.g)((0,B.b)(t)),alt:d.ag.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:F})}),(0,f.jsx)(O.default,{to:U.ANDROID,target:"_blank",onClick:()=>o(U.ANDROID),children:(0,f.jsx)("img",{src:(0,S.g)((0,B.V)(t)),alt:d.ag.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:r()(F,E)})})]})]})};var L=t(24676),P=t(37335),T=t(41038),_=t(91643);const H="BnW4ga5mfG9DYWXeADCL",V="RL_W31RCuHFbSTBORR6w",$="xfR1I0mMRPPSCr9FUSJs",G=e=>{var l,t,i,n,s,m;let{uri:p,id:g}=e;const{data:h,error:x,loading:j}=(0,L.J)(c.cW.D,[g]),{spec:y,UBIFragment:w}=(0,v.fU)(a.Y,{data:{identifier:p,uri:p}}),D=(0,o.useMemo)((()=>y.shelvesFactory()),[y]),A=(0,o.useMemo)((()=>y.mobilePromptFactory()),[y]),I=null==h||null===(l=h.body.hubViewData)||void 0===l?void 0:l.body,C=null==h||null===(t=h.body.hubViewData)||void 0===t?void 0:t.header;if(null===h||void 0===I||void 0===C||j||null!==x)return(0,f.jsx)(_.h,{hasError:null!==x,errorMessage:d.ag.get("error.generic")});const k=null===(i=h.body.hubViewData)||void 0===i?void 0:i.title,N=null==C||null===(n=C.text)||void 0===n?void 0:n.title;return(0,f.jsxs)(w,{spec:y,children:[(0,f.jsx)(T.$,{children:k??""}),N?(0,f.jsx)("div",{className:H,children:(0,f.jsx)(b,{title:null==C||null===(s=C.text)||void 0===s?void 0:s.title,image:null===(m=C.images)||void 0===m?void 0:m.background})}):null,(0,f.jsx)(w,{spec:D,children:(0,f.jsxs)("div",{className:$,children:[N&&(0,f.jsx)(P.I,{}),(0,f.jsx)("div",{className:r()("contentSpacing",V),children:(0,f.jsxs)(u.C,{children:[(0,f.jsx)(W,{spec:A}),I?R(I):null]})})]})})]})};var J=t(50540),Q=t(96989);const X="https://accounts.spotify.com/login",Y=()=>{const e=window.location.href;return window.location.href=`${X}?continue=${encodeURIComponent(e)}`,null},q=e=>{const l=(0,J.g)(),t=(0,i.W6)(n.B4B,{loadingValue:!1});return l?(0,f.jsx)(Y,{}):t?(0,f.jsx)(G,{...e}):(0,f.jsx)(Q.InstrumentedRedirect,{to:"/"})},z=q}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.66ddc183.js.map