!this,function(){return [,function(e,t,r){"use strict";t.__esModule=!0;var a=function(e,t){var r;if(s.isObject(e)&&s.isObject(t))for(r in t)!s.isObject(t[r])||s.isFunction(t[r])||s.isArray(t[r])?e[r]=t[r]:(e.hasOwnProperty(r)||(e[r]={}),a(e[r],t[r]));return e},n=/(;.*?)(?=#|\?|$)/gm,i=function(e,t){var r=e.replace(n,""),a=document.createElement("a");a.href=r;var i={protocol:a.protocol,host:a.host,pathname:"/"===a.pathname?"":a.pathname,hash:a.hash?a.hash.substr(1):"",search:"",parameters:{}};if(a.search.length){var o=[];a.search.substr(1).split("&").forEach(function(e){var r=e.split("="),a=r[0],n=r[1];t[a]&&"undefined"!==n&&(i.parameters[a]=n,o.push(e))}),i.search=o.join("&")}return i},o=function(e){var t=(e||location.hostname).split("."),r=t.length;if(r<2)return null;var a=r-2;if("uk"===t[r-1]){if(r<3)return null;a=r-3}return t.slice(a).join(".")},s={isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isScalar:isObject:isFunction:isArray:Array.isArray||isUndefined:ensureArray:function(e,t){return void 0===t&&(t=","),"string"==typeof e&&(e=e.split(t)),e},prefixObject:function(e,t){var r,a={};for(r in e)a[t+r]=e[r];return a},createUrl:function(e){var t,r=[];if(t=e.baseUrl,e.query){for(var a in e.query)r.push(a+"="+encodeURIComponent(e.query[a]));t+="?"+r.join("&")}return t},sanitizeUrl:function(e,t){var r,a=i(e,t);return r=a.protocol+"//"+a.host+a.pathname,a.search&&(r+="?"+a.search),a.hash&&"."===a.hash[0]&&(r+="#"+a.hash),r},mergeDeep:a,urlParser:i,getDomain:o};t.util=s},,,function(e,t,r){"use strict";t.__esModule=!0;var a=function(){eturn TrackingLogger.prototype.registerObserver=TrackingLogger.prototype.removeObserver=TrackingLogger.prototype.notifyObservers=function(e){var t;for(t=0;t<this.observers.length;t++)this.observers[t].update(e)},TrackingLogger.prototype.log=TrackingLogger}();t.TrackingLogger=a;var n=new a;t.logger=n,n.registerObserver({update:)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0;var a=r(47),n=r(1),i=function(){function TrackingData(){this.trackData=new a.MultiLayer,this.propertiesCache={},this.filters={}}return TrackingData.unifyParameters=function(e){var t={key:null,properties:e.properties||{},parameter:{}};return e.parameter&&Object.keys(e.parameter).forEach(function(r){var a=e.parameter[r];t.parameter[r]=n.util.isObject(a)?a:{set:a}}),t},TrackingData.getPresetKey=function(e){return e+TrackingData.PRESET_AFFIX},TrackingData.prototype.getData=function(){return this.trackData},TrackingData.prototype.addFilter=TrackingData.prototype.runFilter=function(e,t,r){var a;for(a in this.filters)this.filters[a](e,t,r)},TrackingData.prototype.preset=function(e){for(var t in e)if(this.trackData.hasLayer(t)){var r=TrackingData.unifyParameters(e[t]);this.trackData.setLayer(TrackingData.getPresetKey(t),r)}},TrackingData.prototype.getProperties=function(e){return this.propertiesCache[e]||(this.propertiesCache[e]={system:this.trackData.merge([e,TrackingData.getPresetKey(e)],["properties","system"]),lib:this.trackData.merge(["lib",e,TrackingData.getPresetKey("lib"),TrackingData.getPresetKey(e)],["properties","lib"])}),this.propertiesCache[e]},TrackingData.prototype.setCache=function(e,t,r){var a,n=["lib",e,TrackingData.getPresetKey("lib"),TrackingData.getPresetKey(e)];(a=this.trackData.findLayer(n,["parameter",t,"cache"],!0))&&this.trackData.setValue(a,["parameter",t],"cache_value",r)},TrackingData.prototype.getAllParameter=function(e,t){void 0===t&&(t={parameter:null,properties:null});var r;return r=["lib",e.key,TrackingData.getPresetKey("lib"),TrackingData.getPresetKey(e.key),t],this.trackData.merge(r,"parameter")},TrackingData.PRESET_AFFIX="_preset",TrackingData}();t.TrackingData=i},function(e,t,r){"use strict";function cloneDeep(e,t){switch(i(e)){case"object":return cloneObjectDeep(e,t);case"array":return cloneArrayDeep(e,t);default:return n(e)}}function cloneObjectDeep(e,t){if(a(e)||!0===t&&"object"===i(e)){var r={};return o(e,r),r}return"function"==typeof t?t(e):e}ar a=r(32),n=r(49),i=r(35),o=r(51);e.exports=cloneDeep},function(e,t){on isGeneratorObj(e){return"function"==typeof e["throw"]&&"function"==typeof e["return"]&&"function"==typeof e.next}unction isBuffer(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var r=Object.prototype.toString;e.exports=,function(e,t,r){"use strict";function getTcfConsent(e,t){void 0===t&&(t=2);var r=!1;try{window.__tcfapi("getPermission",t,function(e){r=e},e)}catch(a){return r}return r}function getTcfVersion(){var e=null;try{window.__tcfapi("getTCFVersion",e,}catch(t){return e}return"string"==typeof e?parseInt(e):e}t.__esModule=!0,t.getTcfConsent=getTcfConsent,t.getTcfVersion=getTcfVersion},,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0;var a=r(46),n=r(30),i=r(52),o=r(53),s=r(54),c=r(4),u=r(56),f=r(58),l=r(60),p=r(61),g=r(62),h=r(63),m=r(64),y=r(65),d=r(66),k=function(){function TrackLib(e,t){void 0===t&&(t={}),this.trackOptions=new a.TrackOptions(t),this.trackData=new n.TrackingData,this.trackSystems=new i.TrackingSystems(this.trackData),this.trackGenerator=new o.TrackingGenerators(this.trackData),this.addTrackingSystem(u.libSystem),this.addTrackingSystem(f.brainTrackingSystem),this.addTrackingSystem(l.pakpieTrackingSystem),this.addTrackingSystem(p.tifTrackingSystem),this.addTrackingSystem(g.gtmTrackingSystem),this.addTrackingGenerator(h.imageGenerator),this.addTrackingGenerator(m.imagePakpieGenerator),this.addTrackingGenerator(y.objectGenerator),this.preset(e),this.addFilter("brain-tcf-2.0",d.tcf2Filter),this.tracker=new s.Tracker(this.trackData,this.trackSystems,this.trackGenerator,this.trackOptions)}return TrackLib.prototype.preset=function(e){return this.trackData.preset(e),this},TrackLib.prototype.addFilter=TrackLib.prototype.addTrackingSystem=function(e){return this.trackSystems.add(e),this},TrackLib.prototype.getTrackingSystem=function(e){return this.trackSystems.get(e)},TrackLib.prototype.getTrackingData=function(e){var t={},r=this.getTrackingSystem(e);return r&&(t=this.tracker.getTrackParameter(r)),t},TrackLib.prototype.addTrackingGenerator=TrackLib.prototype.track=function(e,t){return void 0===t&&(t={}),this.tracker.run(e,t),this},TrackLib.prototype.getLogger=function(){return c.logger},TrackLib}();t.TrackLib=k},function(e,t,r){"use strict";t.__esModule=!0;var a=r(1),n=r(4),i={buffer:{read:!1,write:!1,retry:3,key:"trlbuf",container:"html5"}},o=function(){function TrackOptions(e){this.options=a.util.mergeDeep(i,e),e.observer&&a.util.isObject(e.observer)&&a.util.isFunction(e.observer.update)&&n.logger.registerObserver(e.observer)}return TrackOptions.prototype.get=function(){return this.options},TrackOptions}();t.TrackOptions=o},function(e,t,r){"use strict";t.__esModule=!0;var a=r(1),n=r(31),i=function(){eturn MultiLayer.prototype.copyTree=function(e,t,r){var a=r.shift();return r.length?!!t.hasOwnProperty(a)&&(e.hasOwnProperty(a)||(e[a]={}),this.copyTree(e[a],t[a],r)):(e[a]=t[a],!0)},MultiLayer.prototype.addLayer=function(e){return!this.layers.hasOwnProperty(e)&&(this.layers[e]={},!0)},MultiLayer.prototype.hasLayer=MultiLayer.prototype.getLayer=MultiLayer.prototype.findLayer=function(e,t,r){for(var a,n,i=0,o=e;i<o.length;i++)if(a=o[i],this.getLayerValue(a,t)===r){n=this.layers[a];break}return n},MultiLayer.prototype.getValue=function(e,t,r){var n;return t=a.util.ensureArray(t,"."),n=this.walkTree(e,t),a.util.isUndefined(n)&&(n=r),n},MultiLayer.prototype.setValue=function(e,t,r,n){var i;t=a.util.ensureArray(t,"."),i=this.walkTree(e,t),i[r]=n},MultiLayer.prototype.getLayerValue=function(e,t,r){var a=r;return this.layers.hasOwnProperty(e)&&(a=this.getValue(this.layers[e],t,r)),a},MultiLayer.prototype.setLayerValue=function(e,t,r,a){this.layers.hasOwnProperty(e)&&this.setValue(this.layers[e],t,r,a)},MultiLayer.prototype.merge=function(e,t){var r,n={};for(e=a.util.ensureArray(e),r=0;r<e.length;r++)a.util.isObject(e[r])?n=a.util.mergeDeep(n,e[r][t]):this.layers.hasOwnProperty(e[r])&&(n=a.util.mergeDeep(n,this.getLayerValue(e[r],t)));return n},MultiLayer.prototype.getChildren=function(e){return this.tree.hasOwnProperty(e)?this.tree[e].children:{}},MultiLayer.prototype.linkLayer=function(e,t){var r=!1;return this.layers.hasOwnProperty(e)&&this.layers.hasOwnProperty(t)&&(this.tree.hasOwnProperty(e)||(this.tree[e]={parents:{},children:{}}),this.tree.hasOwnProperty(t)||(this.tree[t]={parents:{},children:{}}),this.tree[e].children[t]=this.layers[t],this.tree[t].parents[e]=this.layers[e],r=!0),r},MultiLayer.prototype.setLayer=function(e,t){return!!this.addLayer(e)&&(this.layers[e]=Object.assign(this.layers[e],n(t)),!0)},MultiLayer.prototype.walkTree=function(e,t){return t.length&&!a.util.isUndefined(e)?this.walkTree(e[t[0]],t.slice(1)):e},MultiLayer}();t.MultiLayer=i},function(e,t,r){"use strict";function clone(e){var t=i(e);return clone.hasOwnProperty(t)?clone[t](e):e}var a=r(33),n=r(50),i=r(35);clone.array=clone.date=clone.object=function(e){return a(e)?n({},e):e},clone.map=function(e){return new Map(e)},clone.regexp=function(e){var t="";return t+=e.multiline?"m":"",t+=e.global?"g":"",t+=e.ignoreCase?"i":"",new RegExp(e.source,t)},clone.set=e.exports=clone},function(e,t,r){"use strict";function copy(e,t){a(t)&&n(t,}var a=r(33),n=r(34);e.exports=function(e,t){if(!a(e))throw new TypeError("expected the first argument to be an object");for(var r=arguments.length,n=0;++n<r;)copy(e,arguments[n]);return e}},function(e,t,r){"use strict";t.__esModule=!0;var a=function(){eturn TrackingSystems.prototype.add=function(e){this.trackData.getData().setLayer(e.key,e)&&"lib"!==e.key&&this.trackData.getData().linkLayer("lib",e.key)},TrackingSystems.prototype.get=TrackingSystems}();t.TrackingSystems=a},function(e,t,r){"use strict";t.__esModule=!0;var a=function(){function TrackingGenerators(e){this.trackData=e,this.trackData.getData().addLayer("_generator")}return TrackingGenerators.getGeneratorKey=TrackingGenerators.prototype.add=function(e){var t=TrackingGenerators.getGeneratorKey(e.key);this.trackData.getData().setLayer(t,e)&&this.trackData.getData().linkLayer("_generator",t)},TrackingGenerators.prototype.get=function(e){var t=TrackingGenerators.getGeneratorKey(e);return this.trackData.getData().getLayer(t)},TrackingGenerators.GENERATOR_AFFIX="_generator",TrackingGenerators}();t.TrackingGenerators=a},function(e,t,r){"use strict";t.__esModule=!0;var a=r(30),n=r(1),i=r(55),o=r(31),s=function(){function Tracker(e,t,r,a){var n=this;this.trackData=e,this.trackSystems=t,this.trackGenerators=r,this.trackOptions=a,this.trackBuffer=new i.TrackBuffer(this.trackOptions.get().buffer),this.trackOptions.get().buffer.read&&this.trackBuffer.addListener(}return Tracker.prototype.run=function(e,t){var r=this;this.setCallData(e,t);var a=this.getActiveTrackingSystems();Object.keys(a).forEach(function(e){var i=a[e],s=[r.getTrackParameter(i)],c=o(r.trackData.getProperties(i.key));c.system=Object.assign(c.system,t[e]);var u=r.trackGenerators.get(c.lib.generator);u&&(c.lib.generatorAdapter&&n.util.isFunction(c.lib.generatorAdapter)&&(s=c.lib.generatorAdapter(c,s[0])),s.forEach(function(e){if(r.trackOptions.get().buffer.write&&u.getValue){var t=u.getValue(e);r.trackBuffer.add(t,u.key)}else u.run(e)}))})},Tracker.prototype.getTrackParameter=function(e){var t,r,a,i,o,s,c=this,u={};for(t=this.trackData.getProperties(e.key),r=this.callData,a=n.util.mergeDeep({},this.callData),r.systemParameter=this.trackData.getData().merge(["lib",e.key],"parameter"),r.allParameter=this.trackData.getAllParameter(e,r),r.properties=this.trackData.getProperties(e.key),i=this.trackData.getData().getValue(t,["lib","useparameter"],[]),n.util.isFunction(i)&&(i=i(e,r)),o=0;o<i.length;o++)s=this.resolveParameter(e,i[o],r),n.util.isObject(s)&&(u=Object.assign(u,s));return this.trackData.getData().getValue(t,["lib","prefixparameter"],[]).forEach(function(t){Object.keys(r.allParameter).filter(.forEach(function(t){var a=c.resolveParameter(e,t,r);u=Object.assign(u,a)})}),this.trackData.runFilter(e,u,a),u},Tracker.prototype.resolveParameter=function(e,t,r,a){void 0===a&&(a={});var i,o={},s={parameter:{},properties:{}},c=r.allParameter[t];if(a=Object.assign({alias:!0},a),c.cache&&c.hasOwnProperty("cache_value"))i=c.cache_value;else switch(c.need&&n.util.isObject(c.need)&&(s=this.resolveNeededValues(e,c.need,r)),!0){case c.hasOwnProperty("fixed"):i=c.fixed;break;case c.hasOwnProperty("calc")&&n.util.isFunction(c.calc):i=c.calc(s,c,e);break;case c.hasOwnProperty("set"):i=c.set}if(n.util.isObject(i))o=i;else{var u=a.alias&&c.alias?c.alias:t;n.util.isScalar(i)?o[u]=i:c.hasOwnProperty("defaultValue")&&n.util.isScalar(c.defaultValue)&&(o[u]=c.defaultValue)}return!c.cache||c.hasOwnProperty("cache_value")||n.util.isUndefined(i)||this.trackData.setCache(e.key,t,i),o},Tracker.prototype.getActiveTrackingSystems=function(){var e,t,r,a={},i=this.trackData.getData().getChildren("lib");for(e in i)if(t=!1,r=!1,!i[e].properties||!i[e].properties.lib||"function"!=typeof i[e].properties.lib.hasConsent||i[e].properties.lib.hasConsent()){if(this.callData.properties[e]&&n.util.isBoolean(this.callData.properties[e].active))t=this.callData.properties[e].active;else{var o=this.trackData.getProperties(e);!0===this.trackData.getData().getValue(o,["lib","active"])&&(t=!0)}if(this.callData.properties[e]&&n.util.isArray(this.callData.properties[e].protocols))r=-1!==this.callData.properties[e].protocols.indexOf(location.protocol);else{var o=this.trackData.getProperties(e),s=this.trackData.getData().getValue(o,["lib","protocols"]);n.util.isArray(s)&&(r=-1!==s.indexOf(location.protocol))}t&&r&&(a[e]=i[e])}return a},Tracker.prototype.setCallData=function(e,t){this.callData={properties:null,parameter:null,allParameter:null,systemParameter:null},"string"==typeof e&&(e={section:e}),this.callData.parameter=e,this.callData.properties=t;var r=a.TrackingData.unifyParameters(this.callData);this.callData.parameter=Object.assign({},r.parameter)},Tracker.prototype.bufferListener=function(e,t){switch(e){case i.BufferEvents.ready:this.writeFromBuffer()}},Tracker.prototype.writeFromBuffer=function(){var e,t,r=this;(e=this.trackBuffer.get())&&(t=this.trackGenerators.get(e.generator))&&t.track(e.value).then(function(){r.trackBuffer.complete(e)})["catch"](},Tracker.prototype.resolveNeededValues=function(e,t,r){var a,i,o,s,c={parameter:{},properties:{}},u=!0;if(t.properties&&n.util.isArray(t.properties))for(a=this.trackData.getProperties(e.key),c.properties={},o=0;o<t.properties.length;o++)u=u&&this.trackData.getData().copyTree(c.properties,a,n.util.ensureArray(t.properties[o],"."));if(t.parameter&&n.util.isArray(t.parameter))for(c.parameter={},o=0;o<t.parameter.length;o++)i=this.resolveParameter(e,t.parameter[o],r,{alias:!1}),c.parameter=Object.assign(c.parameter,i);if(t.runtime&&n.util.isArray(t.runtime))for(c.runtime={},o=0;o<t.runtime.length;o++)s=t.runtime[o],c.runtime[s]=this.runtimeHelper(s);return u||(c=null),c},Tracker.prototype.runtimeHelper=function(e){var t;switch(e){case"activeSystems":t=this.getActiveTrackingSystems()}return t},Tracker}();t.Tracker=s},function(e,t,r){"use strict";.__esModule=!0;var a=r(1),n=r(4),i={ready:"ready"};t.BufferEvents=i;var o=function(){function TrackBuffer(e){this.options=e,this.storage=null,this.buffer=null,this.listener=[],this.active=localStorageAvailable(),this.active&&(this.storage=localStorage),this.ensureBuffer()}return TrackBuffer.prototype.addListener=TrackBuffer.prototype.add=function(e,t){var r;r={created:(new Date).getTime(),value:e,generator:t,meta:{tries:1}},this.buffer.push(r),this.saveBuffer()},TrackBuffer.prototype.complete=TrackBuffer.prototype.error=function(e){this.remove(e),e.meta.tries<this.options.retry&&this.retry(e),this.saveBuffer()},TrackBuffer.prototype.get=function(e){return void 0===e&&(e=0),this.ensureBuffer(),e<this.buffer.length?this.buffer[e]:null},TrackBuffer.prototype.isActive=TrackBuffer.prototype.retry=function(e){e.meta.tries++,this.buffer.push(e)},TrackBuffer.prototype.remove=function(e){var t=this.getIndex(e);a.util.isNumber(t)&&this.buffer.splice(t,1)},TrackBuffer.prototype.emit=function(e,t){void 0===t&&(t={});var r;for(r=0;r<this.listener.length;r++)this.listener[r](e,t)},TrackBuffer.prototype.checkReady=function(){this.buffer.length>0&&this.emit(i.ready)},TrackBuffer.prototype.getIndex=function(e){var t,r=null;for(this.ensureBuffer(),t=0;t<this.buffer.length;t++)if(this.buffer[t].value===e.value){r=t;break}return r},TrackBuffer.prototype.ensureBuffer=function(){null===this.buffer&&(this.buffer=this.loadBuffer(),null===this.buffer&&(this.buffer=[]))},TrackBuffer.prototype.saveBuffer=function(){var e;return!!this.active&&(this.ensureBuffer(),e=JSON.stringify(this.buffer),this.storage.setItem(this.options.key,e),this.checkReady(),n.logger.log("storage","write",this.buffer),!0)},TrackBuffer.prototype.loadBuffer=function(){var e,t=null;if(this.storage){if(e=this.storage.getItem(this.options.key))try{e=JSON.parse(e)}catch(r){}t=a.util.isArray(e)?e:[]}return t},TrackBuffer}();t.TrackBuffer=o},function(e,t,r){"use strict";function applyParameterAdapters(e){var t={};return Object.keys(h).forEach(,Object.assign({},e,t)}t.__esModule=!0;var a=r(57),n=r(1),i=["corr_","posi_","cont_","resu_","coun_","size_","time_","sett_","perm_"],o={qa:"wa-qa",live:"wa"},s=["1und1.de","1and1.com","gmx.at","gmx.ch","gmx.net","gmx.com","gmx.co.uk","gmx.es","gmx.fr","mail.com","web.de"],c={"1und1.de":"/1und1/1und1/s","1and1.com":"/1and1/1and1/s","gmx.at":"/gmx/gmx/s","gmx.ch":"/gmx/gmx/s","gmx.net":"/gmx/gmx/s","gmx.com":"/gmx/gmx-com/s","gmx.co.uk":"/gmx/gmx-com/s","gmx.es":"/gmx/gmx-com/s","gmx.fr":"/gmx/gmx-com/s","mail.com":"/mailcom/mailcom/s","web.de":"/webde/webde/s"},u={"1und1":"1und1.de/wa/t.gif","1und1de":"1und1.de/wa/t.gif","1and1":"1and1.com/wa/t.gif","1and1com":"1and1.com/wa/t.gif",gmx:"gmx.net/wa/t.gif",gmxat:"gmx.net/wa/t.gif",gmxch:"gmx.net/wa/t.gif",gmxde:"gmx.net/wa/t.gif",gmxnet:"gmx.net/wa/t.gif",gmxcom:"gmx.com/wa/t.gif",gmxcouk:"gmx.co.uk/wa/t.gif",gmxes:"gmx.es/wa/t.gif",gmxfr:"gmx.fr/wa/t.gif",mailcom:"mail.com/wa/t.gif",webde:"web.de/wa/t.gif"},f={},l={mc:!0,ac:!0,domainName:!0,isCH:!0,is1Reg:!0,isInapp:!0,q:!0,cd:!0,ved:!0},p=["browserswitch.decision.end","general.start"],g={key:"lib",parameter:{timestamp:{calc:,reso_scr_w:{cache:!0,calc:function(){return window.screen.width}},reso_scr_h:{cache:!0,calc:,reso_scr_ppi:{cache:!0,calc:function(){var e=0;if(window.matchMedia){var t=function(e){return!0===matchMedia("(max-resolution: "+e+"dpi)").matches},r=0,a=96,n=t(r),i=t(a),o=a-r,s=void 0,c=0;if(n!==i)for(;o>1;){if(s=r+Math.floor(o/2),n!==t(s)?a=s:r=s,o=a-r,++c>12){e=-1;break}e=a}}return e}},soft_name:{},soft_version:{},soft_variant:{},brand:{defaultValue:"unknown"},registrationcountry:{},hid:{},product:{},reso_win_w:{cache:!1,calc:function(){return window.innerWidth}},reso_win_h:{cache:!1,calc:,section:{},trackingtype:{},eventposition:{},pageurl:{cache:!1,need:{parameter:["hid","section"]},calc:function(e){var t=e&&e.parameter&&e.parameter.hid?e.parameter.hid:null,r=e&&e.parameter&&e.parameter.section?e.parameter.section:null,a="string"==typeof r&&-1!==p.indexOf(r);if(t&&!a)return null;var i=n.util.sanitizeUrl(document.location.href,l);return i=i.length?i:null}},referrer:{cache:!0,calc:function(){if(!document.referrer)return null;var e=n.util.sanitizeUrl(document.referrer,l);return e=e.length?e:null}},campaign:{calc:,result:{},profileblocked:{},environment:{},lib_name:{fixed:"@poseidon/tracklib"},lib_version:{fixed:"4.3.0"},visit_calc:{}},properties:{lib:{useparameter:function(e,t){var r=Object.keys(t.systemParameter);return t.properties.lib.hasOwnProperty("addparameter")&&(r=r.concat(t.properties.lib.addparameter)),r},addparameter:[],prefixparameter:i,generatorAdapter:function(e,t){var r,a,n="string"==typeof t.brand?t.brand:null,i="number"==typeof t.visit_calc?t.visit_calc:undefined,o="number"==typeof t.sett_nct?t.sett_nct:undefined;return a=e.lib.hasOwnProperty("stage")&&"string"==typeof e.lib.stage?e.lib.stage:"live",e.system.base_url?r=e.system.base_url:"function"==typeof e.lib.getBrainUrl&&(r=e.lib.getBrainUrl(n,a,i,o)),[{baseUrl:r,query:applyParameterAdapters(t)}]},getBrainUrl:function(e,t,r,a){if(void 0===r&&(r=0),void 0===a&&(a=0),f[e+"-"+t+"-"+r+"-"+a])return f[e+"-"+t+"-"+r+"-"+a];var i,l=("qa"===t?o.qa:o.live)+".";l="qa"!==t&&1===a?"":l;var p=n.util.getDomain(location.hostname),g="qa"!==t&&1===a?"nct.ui-portal.de":p;if(1===r&&-1!==s.indexOf(p))i=""+g+c[p];else if(-1!==s.indexOf(p))i=g+"/wa/t.gif";else{if(!u[e])return"";i=1===a?g+"/wa/t.gif":u[e]}return f[e+"-"+t+"-"+r+"-"+a]="https://"+l+i,f[e+"-"+t+"-"+r+"-"+a]},protocols:["http:","https:"]}}};t.libSystem=g;var h={campaign:function(e){return"#"+e.split("#").filter(.map(function(e){return e.split(":").length>1&&(e=e.split(":")[1]),e.replace(/@/g,"_")}).join("#")}}},function(e,t,r){"use strict";function getQueryParameter(e){var t,r,n,i,o=document.location.search.slice(1);if(o){o=o.split("#")[0],t=o.split("&");for(var s=0;s<t.length;s++)r=t[s].split("="),n=r[0].toLowerCase(),i=r[1]?r[1]:null,n&&i&&(a[n]=i)}return a[e]?a[e]:null}function getLibCampaign(){for(var e,t,r=["mediacode","hashtag","kid"],a=[],n=0,o=r;n<o.length;n++)e=o[n],(t=i[e]?i[e]():null)&&a.push(e+":"+t);return a.length?"#"+a.join("#"):null}t.__esModule=!0;var a={},n={getItem:function(e){if(!e)return null;var t;try{t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))}catch(r){}return t||null}},i={hashtag:function(){if(document.location.hash){var e=document.location.hash.slice(1);if("."===e[0]){e=e.split("?")[0].split("&")[0];var t=void 0;try{t=decodeURIComponent(e)}catch(r){}return t}}return null},mediacode:kid:function(){var e=getQueryParameter("kid");return e||(e=n.getItem("cookieKID")),e}};t.getLibCampaign=getLibCampaign},function(e,t,r){"use strict";t.__esModule=!0;var a=r(1),n=r(59),i={key:"brain",parameter:{name:{need:{properties:["system.section_prefix"],parameter:["trackingtype","section"]},calc:function(e){return[e.properties.system.section_prefix,e.parameter.trackingtype,e.parameter.section].join(".")}},timestamp:{alias:"mts"},registrationcountry:{alias:"country"},trackingtype:{alias:"type",need:{properties:["system.mapping"]},calc:function(e,t){if(!e.properties.system)return undefined;var r,a=e.properties.system;if(t.set&&"string"==typeof t.set){var n=t.set;r=a.mapping.trackingtype.hasOwnProperty(n)?a.mapping.trackingtype[n]:n}return r}},tif:{need:{runtime:["activeSystems"]},calc:,reso_scr_w:{alias:"rsw"},reso_scr_h:{alias:"rsh"},reso_win_w:{alias:"vpw"},reso_win_h:{alias:"vph"},reso_scr_ppi:{},touch:{cache:!0,calc:,label:{need:{properties:["system.label_prefix"]},calc:function(e,t){var r=e.properties.system,n={};return t.set&&a.util.isObject(t.set)&&(n=a.util.prefixObject(t.set,r.label_prefix)),n}}},properties:{lib:{active:!1,generator:"img",useparameter:function(e){return Object.keys(e.parameter)}},system:{label_prefix:"n_",section_prefix:"brain",mapping:{trackingtype:{cl:"click",ev:"event"}}}}};t.brainTrackingSystem=i},function(e,t,r){"use strict";t.__esModule=!0;var a={touchevents:function(){var e=!1;return("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(e=!0),e}};t.features=a},function(e,t,r){"use strict";t.__esModule=!0;var a={key:"pakpie",parameter:{attributeset:{fixed:2}},properties:{lib:{active:!0,generator:"img_pakpie"}}};t.pakpieTrackingSystem=a},function(e,t,r){"use strict";function convertSectionToPageIdentifier(e,t,r,a){var n=e.split("."),i=[],o=!1;return t&&i.push(t),r&&i.push(r),n.shift(),a&&i.push(a),"view"===n[n.length-1]&&(n.pop(),o=!0),i=i.concat(n),0===n.length&&o&&i.push("index"),i.join("/")}function getPageIdentifierFromUrl(e,t,r){var a=[];return t&&a.push(t),r&&a.push(r),a.push(e.replace(u,"").replace(l,"").replace(f,"")),a.join("/")}function getMatchingTld(e){var t=a.filter(;return t?t[0]:null}function getConversionParams(e){var t={};Object.keys(s).forEach(;var r=i.concat(o);return Object.keys(e).filter(.forEach(,t}function getTrafficParams(e){var t=Object.assign({},e);return i.forEach(,t}t.__esModule=!0;var a=["at","ch","de","co.uk","com","es","fr","net"],n={net:"de"},i=["evtid","mediaID","mpID","conversionData"],o=["region"],s={brand:"site",pageidentifier:"sc",hid:"haID"},c={key:"tif",parameter:{pageidentifier:{need:{parameter:["section","product","pageurl"],properties:["system.brain_tif_mapping","system.prefix","system.mobile_os","system.get_product_name"]},calc:function(e){var t=e.parameter.section,r=e.properties.system,a=r.brain_tif_mapping;if("section"===a&&"string"==typeof t){var n=r.mobile_os,i=r.prefix,o=r.get_product_name,s="string"==typeof e.parameter.product?parseInt(e.parameter.product):e.parameter.product,c=void 0;return s!==undefined&&"function"==typeof o&&(c=o(s)),convertSectionToPageIdentifier(t,n,i,c)}if("url"===a){var n=r.mobile_os,i=r.prefix;return getPageIdentifierFromUrl(window.location.pathname,n,i)}return"string"==typeof t?t.split(".").join("/"):t}},brand:{},region:{calc:function(){var e=getMatchingTld(window.location.hostname);return e=n[e]||e,e?e.replace(".",""):undefined}},hid:{},crx:{},evtid:{set:919},mediaID:{set:1015},mpID:{set:4},conversionData:{}},properties:{lib:{active:!1,generator:"obj",generatorAdapter:function(e,t){var r,a={obj:e.system.tif_container,methodName:"track",data:getTrafficParams(t)};return"undefined"!=typeof a.data.product&&(a.data.ul=a.data.product,delete a.data.product),e.system.fire_conversion&&(r={obj:e.system.tif_container,methodName:"fire_conversion",data:getConversionParams(t)},r.data.conversionData&&(r.data.conversionData.split("&").forEach(function(e){var t=e.split("=");2===t.length&&(r.data[t[0]]=t[1])}),delete r.data.conversionData)),e.system.fire_conversion?[a,r]:[a]},useparameter:function(e){var t=Object.keys(e.parameter);return t.push("product"),t}},system:{tif_container:{},brain_tif_mapping:"section",prefix:null,mobile_os:null,product_for_userlevel:null}}};t.tifTrackingSystem=c;var u=/^\//,f=/\/$/,l=/\.htm(l)?$/;t.getPageIdentifierFromUrl=getPageIdentifierFromUrl,t.getMatchingTld=getMatchingTld,t.getConversionParams=getConversionParams},function(e,t,r){"use strict";t.__esModule=!0;var a=r(36),n={key:"gtm",parameter:{event:{fixed:"tracklibEvent"},section:{alias:"tracklibVariable"}},properties:{lib:{active:!1,generator:"obj",generatorAdapter:function(e,t){var r=e.system;return[{obj:window[r.gtm_global],methodName:"push",data:t}]},useparameter:hasConsent:,system:{gtm_global:{set:"dataLayer"}}}};t.gtmTrackingSystem=n},function(e,t,r){"use strict";t.__esModule=!0;var a=r(1),n=r(4),i=o=function(e){var t=new Image(1,1);return new Promise(function(r,a){t.addEventListener("load",function(){r("load")}),t.addEventListener("error",function(){a("error")}),t.addEventListener("abort",,t.src=e,n.logger.log("img","request",e)})},s={key:"img",run:function(e){var t=i(e);return o(t)},getValue:function(e){return i(e)},track:function(e){return o(e)}};t.imageGenerator=s},function(e,t,r){"use strict";t.__esModule=!0;var a=r(1),n=r(4),i=function(e){var t,r,n,i=0;for(t=a.util.createUrl(e),n=t.split("?"),n[1]+="&signature=",r=0;r<n[1].length;r++)i+=n[1].charCodeAt(r);return i=i%5843+9127,n[1]+=i,t=n.join("?")},o=function(e){var t,r=new Image(1,1);return t=new Promise(function(t,a){r.addEventListener?(r.addEventListener("load",function(){n.logger.log("img_pakpie","loaded",e),t("load")}),r.addEventListener("error",function(){n.logger.log("img_pakpie","error",e),a("error")}),r.addEventListener("abort",function(){n.logger.log("img_pakpie","abort",e),a("abort")}),r.src=e,n.logger.log("img_pakpie","request",e)):(r.src=e,n.logger.log("img_pakpie","request",e),t("unknown"))}),t["catch"](,t},s={key:"img_pakpie",getValue:function(e){return i(e)},track:run:;t.imagePakpieGenerator=s},function(e,t,r){"use strict";t.__esModule=!0;var a=r(1),n=r(4),i={key:"obj",run:function(e){return new Promise(function(t){a.util.isObject(e)&&a.util.isObject(e.obj)&&e.methodName&&a.util.isFunction(e.obj[e.methodName])&&(e.obj[e.methodName](e.data),n.logger.log("obj","request",e)),t(!0)})}};t.objectGenerator=i},function(e,t,r){"use strict";t.__esModule=!0;var a=r(36);t.PERSONAL_DATA_ATTRIBUTES=["reso_scr_w","reso_scr_h","reso_scr_ppi","corr_","hid","reso_win_w","reso_win_h","cont_page_id","cont_lvts","cont_segment","size_","soft_variant","campaign"],t.tcf2Filter=function(e,r,n){if("pakpie"===e.key){var i=!1,o=a.getTcfVersion();"number"==typeof o&&(i=o>=2?a.getTcfConsent("brainTracking",2):!(1===r.profileblocked)),i||(r.profileblocked=1,Object.keys(r).forEach(function(e){t.PERSONAL_DATA_ATTRIBUTES.forEach(function(t){0===e.indexOf(t)&&delete r[e]})}))}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,)});
//# sourceMappingURL=tracklib.min.map