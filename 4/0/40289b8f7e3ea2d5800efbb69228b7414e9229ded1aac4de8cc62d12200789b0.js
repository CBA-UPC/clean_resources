
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2e3c2603-afc4-5d74-b167-8880db248beb")}catch(e){}}();
(self.webpackChunkng_client=self.webpackChunkng_client||[]).push([[902],{6902:(Ae,I,c)=>{"use strict";c.r(I),c.d(I,{Template2ShopModule:()=>Bs});var m=c(4666),N=c(4221),w=c(4975),k=c(2157),j=c(1821),L=c(3647),Y=c(8135),V=c(895),F=c(5400),e=c(2135),x=c(4350),r=c(5921),y=c(3910),_=c(348),T=c(4282),h=c(9775),p=c(891),D=c(9037),v=c(2071),S=c(8952),E=c(6051),Ee=c(5285),$=c(5502),q=c(3403),be=c(1724),we=c(2266),Z=c(2393),f=c(5403),O=c(8615),R=c(6156),Pe=c(8416),W=c(3705),M=c(5894),H=c(3334),C=c(2508),K=c(9173),X=c(3628);function Le(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.Facebook")))}function Ye(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Login.Facebook")))}function Ve(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.Google")))}function qe(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Login.Google")))}function Me(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.Apple")))}function Ge(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Login.Apple")))}function Je(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.Email")))}function Qe(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Login.Email")))}let ze=(()=>{var i;class o extends h.H{constructor(s,n,a,u,l){super(u),this.route=s,this.authenticationService=n,this.ngZone=a,this.googleAnalyticsService=l,this.sponsorshipCode="",this.shopId=0,this.registrationShopType=p.s.None,this.isRegister=!1,this.customReturnUrl="",this.canLogin=!1,this.newsletterOptIn=!1,this.newsletterPartnerOptIn=!1,this.cguAccepted=!1}loginFacebook(){this.canLogin&&this.authenticationService.loginFacebook(this.isRegister,this.getLoginParams())}loginApple(){this.canLogin&&this.authenticationService.loginApple(this.isRegister,this.getLoginParams())}loginGoogle(){this.canLogin&&this.authenticationService.loginGoogle(this.isRegister,this.getLoginParams())}loginEmail(){this.canLogin&&this.authenticationService.loginEmail(this.isRegister,this.getLoginParams())}getLoginParams(){return new T.f({redirectToUrl:this.getReturnUrl(),sponsorshipCode:this.sponsorshipCode,registrationShopType:this.registrationShopType,shopId:this.shopId,newsletterOptIn:this.newsletterOptIn,newsletterPartnerOptIn:this.newsletterPartnerOptIn,cguAccepted:this.cguAccepted})}getReturnUrl(){return this.authenticationService.getReturnUrl(this.route,this.customReturnUrl)}eventMeasurementRegistration(s,n){!0===s&&this.googleAnalyticsService.sendEventMeasurement(n,this.ngUnsubscribe)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(F.gz),e.Y36(Z.e),e.Y36(e.R0b),e.Y36(f.sK),e.Y36(M.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["widilo-third-party-auth-buttons"]],inputs:{sponsorshipCode:"sponsorshipCode",shopId:"shopId",registrationShopType:"registrationShopType",isRegister:"isRegister",customReturnUrl:"customReturnUrl",canLogin:"canLogin",newsletterOptIn:"newsletterOptIn",newsletterPartnerOptIn:"newsletterPartnerOptIn",cguAccepted:"cguAccepted"},features:[e.qOj],decls:21,vars:35,consts:[["type","button",3,"name","disabled","click"],[1,"fa-brands","fa-facebook-f"],[4,"ngIf","ngIfElse"],["loginFacebookRes",""],[1,"fa-brands","fa-google","custom-color"],["loginGoogleRes",""],[1,"fa-brands","fa-apple"],["loginAppleRes",""],[1,"fa-solid","fa-envelope"],["loginEmailRes",""]],template:function(s,n){if(1&s&&(e.TgZ(0,"div")(1,"button",0),e.NdJ("click",function(){return n.eventMeasurementRegistration(n.isRegister,"facebook-registration"),n.loginFacebook()}),e._UZ(2,"i",1),e.YNc(3,Le,3,3,"span",2),e.YNc(4,Ye,3,3,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(6,"button",0),e.NdJ("click",function(){return n.eventMeasurementRegistration(n.isRegister,"google-registration"),n.loginGoogle()}),e._UZ(7,"i",4),e.YNc(8,Ve,3,3,"span",2),e.YNc(9,qe,3,3,"ng-template",null,5,e.W1O),e.qZA(),e.TgZ(11,"button",0),e.NdJ("click",function(){return n.eventMeasurementRegistration(n.isRegister,"apple-registration"),n.loginApple()}),e._UZ(12,"i",6),e.YNc(13,Me,3,3,"span",2),e.YNc(14,Ge,3,3,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(16,"button",0),e.NdJ("click",function(){return n.eventMeasurementRegistration(n.isRegister,"email-registration"),n.loginEmail()}),e._UZ(17,"i",8),e.YNc(18,Je,3,3,"span",2),e.YNc(19,Qe,3,3,"ng-template",null,9,e.W1O),e.qZA()()),2&s){const a=e.MAs(5),u=e.MAs(10),l=e.MAs(15),d=e.MAs(20);e.Gre("",n.concatwebsitename,"-third-party-auth-buttons"),e.xp6(1),e.MT6("",n.concatwebsitename,"-btn-primary_facebook ",n.concatwebsitename,"-btn_third-party-auth"),e.Q6J("name",n.isRegister?"registerFacebookButton":"loginFacebookButton")("disabled",!n.canLogin),e.xp6(2),e.Q6J("ngIf",n.isRegister)("ngIfElse",a),e.xp6(3),e.MT6("",n.concatwebsitename,"-btn-primary_google ",n.concatwebsitename,"-btn_third-party-auth"),e.Q6J("name",n.isRegister?"registerGoogleButton":"loginGoogleButton")("disabled",!n.canLogin),e.xp6(2),e.Q6J("ngIf",n.isRegister)("ngIfElse",u),e.xp6(3),e.MT6("",n.concatwebsitename,"-btn-primary_apple ",n.concatwebsitename,"-btn_third-party-auth"),e.Q6J("name",n.isRegister?"registerAppleButton":"loginAppleButton")("disabled",!n.canLogin),e.xp6(2),e.Q6J("ngIf",n.isRegister)("ngIfElse",l),e.xp6(3),e.MT6("",n.concatwebsitename,"-btn-primary ",n.concatwebsitename,"-btn_third-party-auth"),e.Q6J("name",n.isRegister?"registerEmailButton":"loginEmailButton")("disabled",!n.canLogin),e.xp6(2),e.Q6J("ngIf",n.isRegister)("ngIfElse",d)}},dependencies:[m.O5,f.X$],encapsulation:2}),o})(),je=(()=>{var i;class o extends h.H{constructor(s){super(s)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-disabled-cookies-message"]],features:[e.qOj],decls:12,vars:21,consts:[[1,"fa-solid","fa-shield-halved"]],template:function(s,n){1&s&&(e.TgZ(0,"div")(1,"div"),e._UZ(2,"i",0),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&s&&(e.Gre("",n.concatwebsitename,"-disabled-cookies-message"),e.xp6(1),e.Gre("",n.concatwebsitename,"-disabled-cookies-message_title"),e.xp6(3),e.Oqu(e.lcZ(5,15,"DisabledCookies.Title")),e.xp6(2),e.Gre("",n.concatwebsitename,"-disabled-cookies-message_text"),e.xp6(1),e.Oqu(e.lcZ(8,17,"DisabledCookies.Message")),e.xp6(2),e.Gre("",n.concatwebsitename,"-disabled-cookies-message_text"),e.xp6(1),e.Oqu(e.lcZ(11,19,"DisabledCookies.Help")))},dependencies:[f.X$],encapsulation:2}),o})();var $e=c(7599);let We=(()=>{var i;class o{constructor(s,n){this.translate=s,this.culture=n,this.required="required",this.invalidEmailAddress="Invalid email address",this.invalidPassword="Invalid password. Password must be at least 6 characters long, and contain a number.",this.minLength="Minimum length",this.maxLength="Maximum length",(0,x.D)({required:this.translate.get("Common.Required"),invalidEmail:this.translate.get("Common.InvalidEmailAddress"),invalidPassword:this.translate.get("Common.InvalidPassword"),minLength:this.translate.get("Common.MinLength"),maxLength:this.translate.get("Common.MaxLength"),invalidAlphaNumeric:this.translate.get("Sponsorship.InvalidAlphaNumericPattern"),sponsorshipCodeAlreadyUsed:this.translate.get("Sponsorship.SponsorshipCodeAlreadyUsed"),sponsorshipCodeChangeNotAuthorized:this.translate.get("Sponsorship.SponsorshipCodeChangeNotAuthorized"),unauthorizedEmail:this.translate.get("Common.UnauthorizedEmailError"),fileType:this.translate.get("Common.FileTypeError"),fileSize:this.translate.get("Common.FileSizeError"),invalidOption:this.translate.get("Common.InvalidSelectedOption"),invalidDecimal:this.translate.get("Common.InvalidDecimalPattern"),invalidTextArea:this.translate.get("Common.InvalidTextArea"),invalidNumberOfEmoji:this.translate.get("Common.InvalidNumberOfEmoji"),invalidRealWord:this.translate.get("Common.InvalidRealWord"),invalidClickCashbackDelay:this.translate.get("Profile.Support Request InvalidClickCashbackDelay"),passwordNoMatch:this.translate.get("Common.PasswordNoMatch"),shopRefuseRequest:this.translate.get("Profile.Support Request Shop Refuse Support Request")}).subscribe(a=>{this.required=a.required,this.invalidEmailAddress=a.invalidEmail,this.invalidPassword=a.invalidPassword,this.minLength=a.minLength,this.maxLength=a.maxLength,this.invalidAlphaNumericPattern=a.invalidAlphaNumeric,this.sponsorshipCodeAlreadyUsed=a.sponsorshipCodeAlreadyUsed,this.sponsorshipCodeChangeNotAuthorized=a.sponsorshipCodeChangeNotAuthorized,this.unauthorizedEmail=a.unauthorizedEmail,this.invalidFileType=a.fileType,this.invalidFileSize=a.fileSize,this.invalidSelectedOption=a.invalidOption,this.invalidDecimalPattern=a.invalidDecimal,this.invalidTextArea=a.invalidTextArea,this.invalidNumberOfEmoji=a.invalidNumberOfEmoji,this.invalidRealWord=a.invalidRealWord,this.invalidClickCashbackDelay=a.invalidClickCashbackDelay,this.passwordNoMatch=a.passwordNoMatch,this.shopRefuseSupportRequests=a.shopRefuseRequest})}getValidationTypes(){return["email","required","invalidCreditCard","invalidEmailAddress","invalidPassword","minlength","maxlength","invalidAlphaNumericPattern","sponsorshipCodeAlreadyUsed","sponsorshipCodeChangeNotAuthorized","unauthorizedEmail","unhandledError","invalidFileType","invalidFileSize","invalidSelectedOption","invalidDecimalPattern","invalidTextArea","invalidNumberOfEmoji","invalidClickCashbackDelay","passwordNoMatch","shopRefuseSupportRequests"]}getValidatorErrorMessage(s,n,a){return{email:this.invalidEmailAddress,required:`${n} ${this.required}`,invalidCreditCard:"Is invalid credit card number",invalidEmailAddress:this.invalidEmailAddress,invalidPassword:this.invalidPassword,minlength:a?`${this.minLength} : ${a.requiredLength}`:"",maxlength:a?`${this.maxLength} : ${a.requiredLength}`:"",invalidAlphaNumericPattern:this.invalidAlphaNumericPattern||"",sponsorshipCodeAlreadyUsed:this.sponsorshipCodeAlreadyUsed||"",sponsorshipCodeChangeNotAuthorized:this.sponsorshipCodeChangeNotAuthorized||"",unauthorizedEmail:this.unauthorizedEmail||"",unhandledError:a?a.message:"",invalidFileType:this.invalidFileType||"",invalidFileSize:this.invalidFileSize||"",invalidSelectedOption:this.invalidSelectedOption||"",invalidDecimalPattern:this.invalidDecimalPattern||"",invalidClickCashbackDelay:this.invalidClickCashbackDelay||"",passwordNoMatch:this.passwordNoMatch||"",shopRefuseSupportRequests:this.shopRefuseSupportRequests||""}[s]}creditCardValidator(s){return s&&s.value&&s.value.length&&!s.value.match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/)?{invalidCreditCard:!0}:null}emailRegexValidator(s){if(!s||!s.value||!s.value.length)return null;const n=s.value.trim();return n&&n.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?null:{invalidEmailAddress:!0}}passwordValidator(s){return s&&s.value&&s.value.length&&!s.value.match(/^(?=.*[0-9]).{6,100}$/)?{invalidPassword:!0}:null}matchPasswordValidator(s,n){return!1===(s.value.length&&n.value.length&&s.value===n.value)?(n.setErrors({passwordNoMatch:!0}),{passwordNoMatch:!0}):null}ibanValidator(s){return!(0,$e.isValid)(s)}alphaNumericValidator(s){const n=new RegExp("^[a-zA-Z0-9]*$");return s.value&&!s.value.match(n)?{invalidAlphaNumericPattern:!0}:null}getDecimalValidators(s=!1){const a="."===this.getSeparator(this.culture,"decimal")?/^\d+(\.\d{1,2})?$/:/^\d+(,\d{1,2})?$/;return this.customPatternValidator({pattern:a,errorType:"invalidDecimalPattern",required:s})}customPatternValidator(s){return n=>{const a=null==n.value?"":String(n.value);if(typeof s.required<"u"&&!1===s.required&&""===a)return null;if(a&&null!=s&&s.pattern&&!a.match(s.pattern)){const u={};return null!=s&&s.errorType&&(u[s.errorType]=!0),u}return null}}selectValidator(s){return this.customPatternValidator({pattern:s,errorType:"invalidSelectedOption"})}fileSizeValidator(s){return function(n){const a=n.value;return a&&a.size>=s?{invalidFileSize:!0}:null}}fileTypeValidator(s){return function(n){const a=n.value;if(a){const u=a.type.toLowerCase();return-1===s.map(d=>d.toLowerCase()).indexOf(u.toLowerCase())?{invalidFileType:!0}:null}return null}}getEnumValidationRegexPattern(s,n=!1){let a=Object.keys(s).filter(l=>!isNaN(Number(l)));return n||(a=a.filter(l=>"0"!==l)),`^(${a.join("|")})$`}conditionalValidator(s,n){return a=>a.parent&&s()?n(a):null}getSeparator(s,n){var a;return null===(a=Intl.NumberFormat(s).formatToParts(1000.1).find(l=>l.type===n))||void 0===a?void 0:a.value}sortCodeValidator(s){return s&&s.value&&s.value.length&&!s.value.match("^[0-9]{6,6}$")?{invalidSortCode:!0}:null}accountNumberValidator(s){return s&&s.value&&s.value.length&&!s.value.match("^[0-9]{8,8}$")?{invalidAccountNumberCode:!0}:null}correctTextValidator(s){return s&&s.value&&s.value.length&&s.value.match(/\s{2,}/)?{invalidTextArea:!0}:null}checkEmojiValidator(s){return s&&s.value&&s.value.length&&((s.value||"").match(/(?:\uD83D(?:\uDD73\uFE0F?|\uDC41(?:(?:\uFE0F(?:\u200D\uD83D\uDDE8\uFE0F?)?|\u200D\uD83D\uDDE8\uFE0F?))?|[\uDDE8\uDDEF]\uFE0F?|\uDC4B(?:\uD83C[\uDFFB-\uDFFF])?|\uDD90(?:(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F))?|[\uDD96\uDC4C\uDC48\uDC49\uDC46\uDD95\uDC47\uDC4D\uDC4E\uDC4A\uDC4F\uDE4C\uDC50\uDE4F\uDC85\uDCAA\uDC42\uDC43\uDC76\uDC66\uDC67](?:\uD83C[\uDFFB-\uDFFF])?|\uDC71(?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2640\u2642]\uFE0F?))?)|\u200D(?:[\u2640\u2642]\uFE0F?)))?|\uDC68(?:(?:\uD83C(?:\uDFFB(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF]|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFC(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF]|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFD(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFE(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF]|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFF(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE]|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?)|\u200D(?:\uD83E[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD]|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D(?:\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uDC68\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92])|\u2708\uFE0F?|\u2764(?:\uFE0F\u200D\uD83D(?:\uDC8B\u200D\uD83D\uDC68|\uDC68)|\u200D\uD83D(?:\uDC8B\u200D\uD83D\uDC68|\uDC68)))))?|\uDC69(?:(?:\uD83C(?:\uDFFB(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D(?:\uDC69\uD83C[\uDFFC-\uDFFF]|\uDC68\uD83C[\uDFFC-\uDFFF])|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFC(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D(?:\uDC69\uD83C[\uDFFB\uDFFD-\uDFFF]|\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFD(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D(?:\uDC69\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFE(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D(?:\uDC69\uD83C[\uDFFB-\uDFFD\uDFFF]|\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?|\uDFFF(?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83D(?:\uDC69\uD83C[\uDFFB-\uDFFE]|\uDC68\uD83C[\uDFFB-\uDFFE])|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?)|\u200D(?:\uD83E[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD]|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D(?:\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92])|\u2708\uFE0F?|\u2764(?:\uFE0F\u200D\uD83D(?:\uDC8B\u200D\uD83D[\uDC68\uDC69]|[\uDC68\uDC69])|\u200D\uD83D(?:\uDC8B\u200D\uD83D[\uDC68\uDC69]|[\uDC68\uDC69])))))?|[\uDC74\uDC75](?:\uD83C[\uDFFB-\uDFFF])?|[\uDE4D\uDE4E\uDE45\uDE46\uDC81\uDE4B\uDE47\uDC6E](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|\uDD75(?:(?:\uFE0F(?:\u200D(?:[\u2642\u2640]\uFE0F?))?|\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDC82\uDC77](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|\uDC78(?:\uD83C[\uDFFB-\uDFFF])?|\uDC73(?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDC72\uDC70\uDC7C](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC86\uDC87\uDEB6](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDC83\uDD7A](?:\uD83C[\uDFFB-\uDFFF])?|\uDD74(?:(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F))?|\uDC6F(?:\u200D(?:[\u2642\u2640]\uFE0F?))?|[\uDEA3\uDEB4\uDEB5](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDEC0\uDECC\uDC6D\uDC6B\uDC6C](?:\uD83C[\uDFFB-\uDFFF])?|\uDDE3\uFE0F?|\uDC15(?:\u200D\uD83E\uDDBA)?|[\uDC3F\uDD4A\uDD77\uDD78\uDDFA\uDEE3\uDEE4\uDEE2\uDEF3\uDEE5\uDEE9\uDEF0\uDECE\uDD70\uDD79\uDDBC\uDD76\uDECD\uDDA5\uDDA8\uDDB1\uDDB2\uDCFD\uDD6F\uDDDE\uDDF3\uDD8B\uDD8A\uDD8C\uDD8D\uDDC2\uDDD2\uDDD3\uDD87\uDDC3\uDDC4\uDDD1\uDDDD\uDEE0\uDDE1\uDEE1\uDDDC\uDECF\uDECB\uDD49]\uFE0F?|[\uDE00\uDE03\uDE04\uDE01\uDE06\uDE05\uDE02\uDE42\uDE43\uDE09\uDE0A\uDE07\uDE0D\uDE18\uDE17\uDE1A\uDE19\uDE0B\uDE1B-\uDE1D\uDE10\uDE11\uDE36\uDE0F\uDE12\uDE44\uDE2C\uDE0C\uDE14\uDE2A\uDE34\uDE37\uDE35\uDE0E\uDE15\uDE1F\uDE41\uDE2E\uDE2F\uDE32\uDE33\uDE26-\uDE28\uDE30\uDE25\uDE22\uDE2D\uDE31\uDE16\uDE23\uDE1E\uDE13\uDE29\uDE2B\uDE24\uDE21\uDE20\uDE08\uDC7F\uDC80\uDCA9\uDC79-\uDC7B\uDC7D\uDC7E\uDE3A\uDE38\uDE39\uDE3B-\uDE3D\uDE40\uDE3F\uDE3E\uDE48-\uDE4A\uDC8B\uDC8C\uDC98\uDC9D\uDC96\uDC97\uDC93\uDC9E\uDC95\uDC9F\uDC94\uDC9B\uDC9A\uDC99\uDC9C\uDDA4\uDCAF\uDCA2\uDCA5\uDCAB\uDCA6\uDCA8\uDCA3\uDCAC\uDCAD\uDCA4\uDC40\uDC45\uDC44\uDC8F\uDC91\uDC6A\uDC64\uDC65\uDC63\uDC35\uDC12\uDC36\uDC29\uDC3A\uDC31\uDC08\uDC2F\uDC05\uDC06\uDC34\uDC0E\uDC2E\uDC02-\uDC04\uDC37\uDC16\uDC17\uDC3D\uDC0F\uDC11\uDC10\uDC2A\uDC2B\uDC18\uDC2D\uDC01\uDC00\uDC39\uDC30\uDC07\uDC3B\uDC28\uDC3C\uDC3E\uDC14\uDC13\uDC23-\uDC27\uDC38\uDC0A\uDC22\uDC0D\uDC32\uDC09\uDC33\uDC0B\uDC2C\uDC1F-\uDC21\uDC19\uDC1A\uDC0C\uDC1B-\uDC1E\uDC90\uDCAE\uDD2A\uDDFE\uDDFB\uDC92\uDDFC\uDDFD\uDD4C\uDED5\uDD4D\uDD4B\uDC88\uDE82-\uDE8A\uDE9D\uDE9E\uDE8B-\uDE8E\uDE90-\uDE9C\uDEF5\uDEFA\uDEB2\uDEF4\uDEF9\uDE8F\uDEA8\uDEA5\uDEA6\uDED1\uDEA7\uDEF6\uDEA4\uDEA2\uDEEB\uDEEC\uDCBA\uDE81\uDE9F-\uDEA1\uDE80\uDEF8\uDD5B\uDD67\uDD50\uDD5C\uDD51\uDD5D\uDD52\uDD5E\uDD53\uDD5F\uDD54\uDD60\uDD55\uDD61\uDD56\uDD62\uDD57\uDD63\uDD58\uDD64\uDD59\uDD65\uDD5A\uDD66\uDD25\uDCA7\uDEF7\uDD2E\uDC53-\uDC62\uDC51\uDC52\uDCFF\uDC84\uDC8D\uDC8E\uDD07-\uDD0A\uDCE2\uDCE3\uDCEF\uDD14\uDD15\uDCFB\uDCF1\uDCF2\uDCDE-\uDCE0\uDD0B\uDD0C\uDCBB\uDCBD-\uDCC0\uDCFA\uDCF7-\uDCF9\uDCFC\uDD0D\uDD0E\uDCA1\uDD26\uDCD4-\uDCDA\uDCD3\uDCD2\uDCC3\uDCDC\uDCC4\uDCF0\uDCD1\uDD16\uDCB0\uDCB4-\uDCB8\uDCB3\uDCB9\uDCB1\uDCB2\uDCE7-\uDCE9\uDCE4-\uDCE6\uDCEB\uDCEA\uDCEC-\uDCEE\uDCDD\uDCBC\uDCC1\uDCC2\uDCC5-\uDCD0\uDD12\uDD13\uDD0F-\uDD11\uDD28\uDD2B\uDD27\uDD29\uDD17\uDD2C\uDD2D\uDCE1\uDC89\uDC8A\uDEAA\uDEBD\uDEBF\uDEC1\uDED2\uDEAC\uDDFF\uDEAE\uDEB0\uDEB9-\uDEBC\uDEBE\uDEC2-\uDEC5\uDEB8\uDEAB\uDEB3\uDEAD\uDEAF\uDEB1\uDEB7\uDCF5\uDD1E\uDD03\uDD04\uDD19-\uDD1D\uDED0\uDD4E\uDD2F\uDD00-\uDD02\uDD3C\uDD3D\uDD05\uDD06\uDCF6\uDCF3\uDCF4\uDD31\uDCDB\uDD30\uDD1F-\uDD24\uDD34\uDFE0-\uDFE2\uDD35\uDFE3-\uDFE5\uDFE7-\uDFE9\uDFE6\uDFEA\uDFEB\uDD36-\uDD3B\uDCA0\uDD18\uDD33\uDD32\uDEA9])|\uD83E(?:[\uDD1A\uDD0F\uDD1E\uDD1F\uDD18\uDD19\uDD1B\uDD1C\uDD32\uDD33\uDDB5\uDDB6\uDDBB\uDDD2](?:\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:\uD83E(?:\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?))?)|\u200D(?:\uD83E(?:\uDD1D\u200D\uD83E\uDDD1|[\uDDB0\uDDB1\uDDB3\uDDB2\uDDAF\uDDBC\uDDBD])|\u2695\uFE0F?|\uD83C[\uDF93\uDFEB\uDF3E\uDF73\uDFED\uDFA4\uDFA8]|\u2696\uFE0F?|\uD83D[\uDD27\uDCBC\uDD2C\uDCBB\uDE80\uDE92]|\u2708\uFE0F?)))?|[\uDDD4\uDDD3](?:\uD83C[\uDFFB-\uDFFF])?|[\uDDCF\uDD26\uDD37](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDD34\uDDD5\uDD35\uDD30\uDD31\uDD36](?:\uD83C[\uDFFB-\uDFFF])?|[\uDDB8\uDDB9\uDDD9-\uDDDD](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDDDE\uDDDF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?|[\uDDCD\uDDCE\uDDD6\uDDD7\uDD38](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|\uDD3C(?:\u200D(?:[\u2642\u2640]\uFE0F?))?|[\uDD3D\uDD3E\uDD39\uDDD8](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDD23\uDD70\uDD29\uDD2A\uDD11\uDD17\uDD2D\uDD2B\uDD14\uDD10\uDD28\uDD25\uDD24\uDD12\uDD15\uDD22\uDD2E\uDD27\uDD75\uDD76\uDD74\uDD2F\uDD20\uDD73\uDD13\uDDD0\uDD7A\uDD71\uDD2C\uDD21\uDD16\uDDE1\uDD0E\uDD0D\uDD1D\uDDBE\uDDBF\uDDE0\uDDB7\uDDB4\uDD3A\uDDB0\uDDB1\uDDB3\uDDB2\uDD8D\uDDA7\uDDAE\uDD8A\uDD9D\uDD81\uDD84\uDD93\uDD8C\uDD99\uDD92\uDD8F\uDD9B\uDD94\uDD87\uDDA5\uDDA6\uDDA8\uDD98\uDDA1\uDD83\uDD85\uDD86\uDDA2\uDD89\uDDA9\uDD9A\uDD9C\uDD8E\uDD95\uDD96\uDD88\uDD8B\uDD97\uDD82\uDD9F\uDDA0\uDD40\uDD6D\uDD5D\uDD65\uDD51\uDD54\uDD55\uDD52\uDD6C\uDD66\uDDC4\uDDC5\uDD5C\uDD50\uDD56\uDD68\uDD6F\uDD5E\uDDC7\uDDC0\uDD69\uDD53\uDD6A\uDD59\uDDC6\uDD5A\uDD58\uDD63\uDD57\uDDC8\uDDC2\uDD6B\uDD6E\uDD5F-\uDD61\uDD80\uDD9E\uDD90\uDD91\uDDAA\uDDC1\uDD67\uDD5B\uDD42\uDD43\uDD64\uDDC3\uDDC9\uDDCA\uDD62\uDD44\uDDED\uDDF1\uDDBD\uDDBC\uDE82\uDDF3\uDE90\uDDE8\uDDE7\uDD47-\uDD49\uDD4E\uDD4F\uDD4D\uDD4A\uDD4B\uDD45\uDD3F\uDD4C\uDE80\uDE81\uDDFF\uDDE9\uDDF8\uDDF5\uDDF6\uDD7D\uDD7C\uDDBA\uDDE3-\uDDE6\uDD7B\uDE71-\uDE73\uDD7E\uDD7F\uDE70\uDDE2\uDE95\uDD41\uDDEE\uDE94\uDDFE\uDE93\uDDAF\uDDF0\uDDF2\uDDEA-\uDDEC\uDE78-\uDE7A\uDE91\uDE92\uDDF4\uDDF7\uDDF9-\uDDFD\uDDEF])|[\u263A\u2639\u2620\u2763\u2764]\uFE0F?|\u270B(?:\uD83C[\uDFFB-\uDFFF])?|[\u270C\u261D](?:(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F))?|\u270A(?:\uD83C[\uDFFB-\uDFFF])?|\u270D(?:(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F))?|\uD83C(?:\uDF85(?:\uD83C[\uDFFB-\uDFFF])?|\uDFC3(?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDFC7\uDFC2](?:\uD83C[\uDFFB-\uDFFF])?|\uDFCC(?:(?:\uFE0F(?:\u200D(?:[\u2642\u2640]\uFE0F?))?|\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDFC4\uDFCA](?:(?:\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|\uDFCB(?:(?:\uFE0F(?:\u200D(?:[\u2642\u2640]\uFE0F?))?|\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\uDFF5\uDF36\uDF7D\uDFD4-\uDFD6\uDFDC-\uDFDF\uDFDB\uDFD7\uDFD8\uDFDA\uDFD9\uDFCE\uDFCD\uDF21\uDF24-\uDF2C\uDF97\uDF9F\uDF96\uDF99-\uDF9B\uDF9E\uDFF7\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37]\uFE0F?|\uDFF4(?:(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67\uDB40\uDC7F|\uDC73\uDB40\uDC63\uDB40\uDC74\uDB40\uDC7F|\uDC77\uDB40\uDC6C\uDB40\uDC73\uDB40\uDC7F)))?|\uDFF3(?:(?:\uFE0F(?:\u200D\uD83C\uDF08)?|\u200D\uD83C\uDF08))?|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|[\uDFFB-\uDFFF\uDF38-\uDF3C\uDF37\uDF31-\uDF35\uDF3E-\uDF43\uDF47-\uDF53\uDF45\uDF46\uDF3D\uDF44\uDF30\uDF5E\uDF56\uDF57\uDF54\uDF5F\uDF55\uDF2D-\uDF2F\uDF73\uDF72\uDF7F\uDF71\uDF58-\uDF5D\uDF60\uDF62-\uDF65\uDF61\uDF66-\uDF6A\uDF82\uDF70\uDF6B-\uDF6F\uDF7C\uDF75\uDF76\uDF7E\uDF77-\uDF7B\uDF74\uDFFA\uDF0D-\uDF10\uDF0B\uDFE0-\uDFE6\uDFE8-\uDFED\uDFEF\uDFF0\uDF01\uDF03-\uDF07\uDF09\uDFA0-\uDFA2\uDFAA\uDF11-\uDF20\uDF0C\uDF00\uDF08\uDF02\uDF0A\uDF83\uDF84\uDF86-\uDF8B\uDF8D-\uDF91\uDF80\uDF81\uDFAB\uDFC6\uDFC5\uDFC0\uDFD0\uDFC8\uDFC9\uDFBE\uDFB3\uDFCF\uDFD1-\uDFD3\uDFF8\uDFA3\uDFBD\uDFBF\uDFAF\uDFB1\uDFAE\uDFB0\uDFB2\uDCCF\uDC04\uDFB4\uDFAD\uDFA8\uDF92\uDFA9\uDF93\uDFBC\uDFB5\uDFB6\uDFA4\uDFA7\uDFB7-\uDFBB\uDFA5\uDFAC\uDFEE\uDFF9\uDFE7\uDFA6\uDD8E\uDD91-\uDD9A\uDE01\uDE36\uDE2F\uDE50\uDE39\uDE1A\uDE32\uDE51\uDE38\uDE34\uDE33\uDE3A\uDE35\uDFC1\uDF8C])|\u26F7\uFE0F?|\u26F9(?:(?:\uFE0F(?:\u200D(?:[\u2642\u2640]\uFE0F?))?|\uD83C(?:[\uDFFB-\uDFFF](?:\u200D(?:[\u2642\u2640]\uFE0F?))?)|\u200D(?:[\u2642\u2640]\uFE0F?)))?|[\u2618\u26F0\u26E9\u2668\u26F4\u2708\u23F1\u23F2\u2600\u2601\u26C8\u2602\u26F1\u2744\u2603\u2604\u26F8\u2660\u2665\u2666\u2663\u265F\u26D1\u260E\u2328\u2709\u270F\u2712\u2702\u26CF\u2692\u2694\u2699\u2696\u26D3\u2697\u26B0\u26B1\u26A0\u2622\u2623\u2B06\u2197\u27A1\u2198\u2B07\u2199\u2B05\u2196\u2195\u2194\u21A9\u21AA\u2934\u2935\u269B\u2721\u2638\u262F\u271D\u2626\u262A\u262E\u25B6\u23ED\u23EF\u25C0\u23EE\u23F8-\u23FA\u23CF\u2640\u2642\u2695\u267E\u267B\u269C\u2611\u2714\u2716\u303D\u2733\u2734\u2747\u203C\u2049\u3030\u00A9\u00AE\u2122]\uFE0F?|[\u0023\u002A\u0030-\u0039](?:\uFE0F\u20E3|\u20E3)|[\u2139\u24C2\u3297\u3299\u25FC\u25FB\u25AA\u25AB]\uFE0F?|[\u2615\u26EA\u26F2\u26FA\u26FD\u2693\u26F5\u231B\u23F3\u231A\u23F0\u2B50\u26C5\u2614\u26A1\u26C4\u2728\u26BD\u26BE\u26F3\u267F\u26D4\u2648-\u2653\u26CE\u23E9-\u23EC\u2B55\u2705\u274C\u274E\u2795-\u2797\u27B0\u27BF\u2753-\u2755\u2757\u26AB\u26AA\u2B1B\u2B1C\u25FE\u25FD])/g)||[]).length>5?{invalidNumberOfEmoji:!0}:null}realWordsValidator(s,n){if(!s||!s.length)return null;const l=s.split(" ").reduce((d,g)=>Math.max(d,g.length),0);return!!(s.match(/(.)\1{3,}/)||l>20)||null}rangeValidator(s,n){return function(a){const u=+a.value;return s>u||u>n?{valueNotInRange:!0}:null}}onlyIntegerValidator(s){return s&&s.value&&!s.value.toString().match("^[0-9]*$")?{notAnInteger:!0}:null}}return(i=o).\u0275fac=function(s){return new(s||i)(e.LFG(f.sK),e.LFG("CULTURE"))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),o})();function He(i,o){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-input-error"),e.xp6(1),e.Oqu(t.errorMessage)}}let Ke=(()=>{var i;class o extends h.H{constructor(s,n){super(s),this.validationService=n}get errorMessage(){const s=this.validationService.getValidationTypes();if(this.control&&this.controlName)for(let n=0;n<s.length;n++){const a=s[n];if(this.control.errors&&this.control.hasError(a))return this.validationService.getValidatorErrorMessage(a,this.controlName,this.control.errors[a]);if(this.control instanceof C.vC){const u=this.control.controls.find(l=>l.invalid);if(u&&u.errors&&u.hasError(a))return this.validationService.getValidatorErrorMessage(a,this.controlName,u.errors[a])}}return null}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(f.sK),e.Y36(We))},i.\u0275cmp=e.Xpm({type:i,selectors:[["control-messages"]],inputs:{control:"control",controlName:"controlName"},features:[e.qOj],decls:1,vars:1,consts:[[3,"class",4,"ngIf"]],template:function(s,n){1&s&&e.YNc(0,He,2,4,"p",0),2&s&&e.Q6J("ngIf",null!==n.errorMessage)},dependencies:[m.O5],encapsulation:2}),o})();function Xe(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-card-login_title"),e.xp6(1),e.Oqu(e.lcZ(2,4,"Register.Title"))}}const et=function(i,o){return{registrationAmount:i,sponsorName:o}};function tt(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-card-login_topinfo mb-1"),e.xp6(1),e.hij(" ",e.xi3(2,4,"Register.Sponsorship: var = registrationAmount, sponsorName",e.WLB(7,et,t.registrationAmount,t.sponsorName)),"")}}function it(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-card-login_topinfo"),e.xp6(1),e.Oqu(e.lcZ(2,4,"Register.Earn Money"))}}const xe=function(i){return{registrationAmount:i}};function st(i,o){if(1&i&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"Register.Register Bonus: var = registrationAmount",e.VKq(4,xe,t.registrationAmount)))}}const nt=function(i){return{color:i}},at=function(i){return{registrationAmountTotal:i}};function ot(i,o){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("ngStyle",e.VKq(5,nt,t.colorTraffic)),e.xp6(1),e.Oqu(e.xi3(2,2,"Register.Traffic Register Bonus: var = registrationAmountTotal",e.VKq(7,at,t.trafficShopRegistrationTotalAmount)))}}function rt(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-card-login_topinfo-small"),e.xp6(1),e.hij("*",e.xi3(2,4,"Register.Traffic Register Comment: var = registrationAmount",e.VKq(7,xe,t.trafficShopRegistrationAmount)),"")}}function ut(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div")(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"i",5),e.YNc(6,st,3,6,"span",6),e.YNc(7,ot,3,9,"span",7),e.qZA(),e.YNc(8,rt,3,9,"div",0),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Gre("",t.concatwebsitename,"-card-login_topinfo"),e.xp6(2),e.Oqu(e.lcZ(4,7,"Register.Register For Free")),e.xp6(3),e.Q6J("ngIf",t.showRegistrationValue&&t.registrationAmount),e.xp6(1),e.Q6J("ngIf",t.showTrafficRegistrationValue&&t.trafficShopRegistrationTotalAmount),e.xp6(1),e.Q6J("ngIf",t.showTrafficRegistrationValue&&t.trafficShopRegistrationAmount)}}function lt(i,o){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.Gre("",t.concatwebsitename,"-input-error"),e.xp6(1),e.Oqu(e.lcZ(2,4,"Register.Cgu Required"))}}const ct=function(i){return{webSiteName:i}};function ht(i,o){if(1&i&&(e.TgZ(0,"label",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,"Register.Opt In Newsletter: var = webSiteName",e.VKq(4,ct,t.webSiteName)))}}function Dt(i,o){if(1&i&&(e._UZ(0,"control-messages",22),e.ALo(1,"translate")),2&i){const t=e.oxw(3);e.s9C("controlName",e.lcZ(1,2,"Common.Form Field")),e.Q6J("control",t.newsletterCheckbox)}}const pt=function(i){return{externalPartnerName:i}};function dt(i,o){if(1&i&&(e.TgZ(0,"label",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Oqu(e.xi3(2,1,"Register.Opt In Newsletter Partner: var = externalPartnerName",e.VKq(4,pt,t.externalPartnerName)))}}function mt(i,o){if(1&i&&(e._UZ(0,"control-messages",22),e.ALo(1,"translate")),2&i){const t=e.oxw(4);e.s9C("controlName",e.lcZ(1,2,"Common.Form Field")),e.Q6J("control",t.newsletterPartnerCheckbox)}}function gt(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div",14),e._UZ(2,"input",23),e.YNc(3,dt,3,6,"label",24),e.qZA(),e.YNc(4,mt,2,4,"control-messages",20),e.qZA()),2&i){const t=e.oxw(3);e.Gre("",t.concatwebsitename,"-card-login_register-checkbox"),e.xp6(3),e.Q6J("ngIf",t.externalPartnerName),e.xp6(1),e.Q6J("ngIf",t.showRegisterControlInvalid(t.newsletterPartnerCheckbox))}}function ft(i,o){if(1&i&&(e.TgZ(0,"form",13)(1,"div")(2,"div",14),e._UZ(3,"input",15),e.TgZ(4,"label",16),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"a",17),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"a",17),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.YNc(17,lt,3,6,"p",0),e.qZA(),e.TgZ(18,"div")(19,"div",14),e._UZ(20,"input",18),e.YNc(21,ht,3,6,"label",19),e.qZA(),e.YNc(22,Dt,2,4,"control-messages",20),e.qZA(),e.YNc(23,gt,5,5,"div",0),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("formGroup",t.registerForm),e.xp6(1),e.Gre("",t.concatwebsitename,"-card-login_register-checkbox"),e.xp6(4),e.hij(" ",e.lcZ(6,24,"Register.CguText_1")," "),e.xp6(2),e.Gre("",t.concatwebsitename,"-link"),e.s9C("href",t.urls.cgu,e.LSH),e.xp6(1),e.Oqu(e.lcZ(9,26,"Register.cgu")),e.xp6(2),e.hij(" ",e.lcZ(11,28,"Register.CguText_2")," "),e.xp6(2),e.Gre("",t.concatwebsitename,"-link"),e.s9C("href",t.urls.privacyPolicy,e.LSH),e.xp6(1),e.Oqu(e.lcZ(14,30,"Register.privacyPolicy")),e.xp6(2),e.hij(" ",e.lcZ(16,32,"Register.CguText_3")," "),e.xp6(2),e.Q6J("ngIf",t.showRegisterControlInvalid(t.cguCheckbox)),e.xp6(1),e.Gre("",t.concatwebsitename,"-card-login_register-checkbox"),e.xp6(3),e.Q6J("ngIf",t.webSiteName),e.xp6(1),e.Q6J("ngIf",t.showRegisterControlInvalid(t.newsletterCheckbox)),e.xp6(1),e.Q6J("ngIf",t.hasSignUpPartnerNewsletter)}}function Ct(i,o){if(1&i&&e._UZ(0,"widilo-third-party-auth-buttons",26),2&i){const t=e.oxw(2);e.Q6J("canLogin",t.registerForm.valid)("newsletterOptIn",!0===t.newsletterCheckbox.value)("newsletterPartnerOptIn",!0===t.newsletterPartnerCheckbox.value)("cguAccepted",!0===t.cguCheckbox.value)("isRegister",!0)("registrationShopType",t.registrationShopType)("sponsorshipCode",t.sponsorshipCode)("shopId",t.shopId)}}function Ft(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,ft,24,34,"form",10),e.YNc(2,Ct,1,8,"widilo-third-party-auth-buttons",11),e.TgZ(3,"div")(4,"span",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.switchToLogin())}),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerForm),e.xp6(1),e.Q6J("ngIf",t.cguCheckbox&&t.newsletterCheckbox&&t.registerForm&&t.newsletterPartnerCheckbox),e.xp6(1),e.Gre("",t.concatwebsitename,"-card-login_switch"),e.xp6(1),e.Gre("",t.concatwebsitename,"-link"),e.xp6(1),e.Oqu(e.lcZ(6,9,"Register.Login"))}}function _t(i,o){1&i&&e._UZ(0,"app-disabled-cookies-message")}let vt=(()=>{var i;class o extends h.H{constructor(s,n,a,u,l,d,g,A){super(g),this.route=s,this.authenticationService=n,this.mainConfigurationService=a,this.cashbackParametersService=u,this.storageService=l,this.formBuilder=d,this.platformId=A,this.sponsorshipCode="",this.returnUrl="",this.isFragmentCashback=!1,this.isTinyRegiter=!1,this.isShopRoute=!1,this.displayCookiesDisabledMessage=!1,this.isBridgeExternalPartner=!1,this.shopId=0,this.hasSignUpPartnerNewsletter=!1,this.externalPartnerName="",this.isWelcomePage=!1,this.isCashbackInterstitial=!1,this.isRedirectPartner=!1,this.isAuthInterstitial=!1,this.registrationShopType=p.s.None,this.showTitle=!0,this.showEarnMoney=!1,this.showRegistrationValue=!1,this.showTrafficRegistrationValue=!1,this.sponsorName="",this.colorTraffic="",this.isRegisterFormValid=!1,this.isRegisterFormPristine=!0}ngOnInit(){this.storageService.isCookieEnabled()||this.isMobileApp||(0,m.PM)(this.platformId)?(this.route.paramMap.subscribe(s=>{this.sponsorshipCode=s.get("sponsorshipCode")||"",this.sponsorshipCode?this.authenticationService.getSponsorshipInfos(this.sponsorshipCode).subscribe(n=>{this.sponsorName=n.success?n.proposerUserName:""}):this.sponsorName=""}),this.cashbackParametersService.getCashbackParameters(s=>{this.registrationAmount=s.registrationAmount,this.trafficShopRegistrationAmount=s.trafficShopRegistrationAmount,this.trafficShopRegistrationTotalAmount=s.trafficShopRegistrationTotalAmount},this.ngUnsubscribe),this.returnUrl=this.authenticationService.getReturnUrl(this.route),this.isCashbackInterstitial&&(this.showTitle=!1),this.showTrafficRegistrationValue=this.registrationShopType===p.s.Traffic,this.showRegistrationValue=this.isWelcomePage||this.isCashbackInterstitial&&!this.showTrafficRegistrationValue,this.showEarnMoney=this.isWelcomePage||this.showTrafficRegistrationValue,this.mainConfigurationService.getMainConfiguration(s=>{this.showTrafficRegistrationValue&&(this.colorTraffic=s.dealColorTraffic),this.webSiteName=s.webSiteName},this.ngUnsubscribe),this.registerForm=this.createRegisterForm()):this.displayCookiesDisabledMessage=!0}switchToLogin(){this.authenticationService.switchfromRegistertoAuthLoginPage(new T.f({redirectToUrl:this.returnUrl,sponsorshipCode:this.sponsorshipCode,registrationShopType:this.registrationShopType,shopId:this.shopId}))}createRegisterForm(){return this.setRegisterFormControls(),this.formBuilder.group({cguCheckbox:this.cguCheckbox,newsletterCheckbox:this.newsletterCheckbox,newsletterPartnerCheckbox:this.newsletterPartnerCheckbox})}setRegisterFormControls(){this.cguCheckbox=this.createRequiredTrueFormControl(!1),this.newsletterCheckbox=this.createFormControl(!1),this.newsletterPartnerCheckbox=this.createFormControl(!1)}createRequiredTrueFormControl(s){return new C.NI(s,[C.kI.requiredTrue])}createFormControl(s){return new C.NI(s)}showRegisterControlInvalid(s){return s&&(!s.pristine||this.registerForm&&!this.registerForm.valid&&!this.registerForm.pristine)&&s.invalid}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(F.gz),e.Y36(Z.e),e.Y36(q.W),e.Y36(K.z),e.Y36(X.V),e.Y36(C.QS),e.Y36(f.sK),e.Y36(e.Lbi))},i.\u0275cmp=e.Xpm({type:i,selectors:[["widilo-register-card"]],inputs:{deal:"deal",shopId:"shopId",hasSignUpPartnerNewsletter:"hasSignUpPartnerNewsletter",externalPartnerName:"externalPartnerName",isWelcomePage:"isWelcomePage",isCashbackInterstitial:"isCashbackInterstitial",isRedirectPartner:"isRedirectPartner",isAuthInterstitial:"isAuthInterstitial",registrationShopType:"registrationShopType"},features:[e.qOj],decls:9,vars:9,consts:[[3,"class",4,"ngIf"],[4,"ngIf"],[1,"mt-2"],[4,"ngIf","ngIfElse"],["displayCookiesDisabled",""],[1,"fas","fa-plus"],["class","color-cta-cashback",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[1,"color-cta-cashback"],[3,"ngStyle"],[3,"formGroup",4,"ngIf"],[3,"canLogin","newsletterOptIn","newsletterPartnerOptIn","cguAccepted","isRegister","registrationShopType","sponsorshipCode","shopId",4,"ngIf"],[3,"click"],[3,"formGroup"],[1,"custom-control","custom-checkbox","custom-checkbox-sm"],["type","checkbox","formControlName","cguCheckbox","id","cguCheckbox",1,"custom-control-input"],["for","cguCheckbox",1,"custom-control-label"],["target","_blank","rel","noopener",3,"href"],["type","checkbox","formControlName","newsletterCheckbox","id","newsletterCheckbox",1,"custom-control-input"],["class","custom-control-label","for","newsletterCheckbox",4,"ngIf"],[3,"control","controlName",4,"ngIf"],["for","newsletterCheckbox",1,"custom-control-label"],[3,"control","controlName"],["type","checkbox","formControlName","newsletterPartnerCheckbox","id","newsletterPartnerCheckbox",1,"custom-control-input"],["class","custom-control-label","for","newsletterPartnerCheckbox",4,"ngIf"],["for","newsletterPartnerCheckbox",1,"custom-control-label"],[3,"canLogin","newsletterOptIn","newsletterPartnerOptIn","cguAccepted","isRegister","registrationShopType","sponsorshipCode","shopId"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Xe,3,6,"div",0),e.YNc(2,tt,3,10,"div",0),e.YNc(3,it,3,6,"div",0),e.YNc(4,ut,9,9,"div",1),e.TgZ(5,"div",2),e.YNc(6,Ft,7,11,"ng-container",3),e.YNc(7,_t,1,0,"ng-template",null,4,e.W1O),e.qZA()()),2&s){const a=e.MAs(8);e.Gre("",n.concatwebsitename,"-card-login"),e.xp6(1),e.Q6J("ngIf",n.showTitle),e.xp6(1),e.Q6J("ngIf",n.isWelcomePage&&n.sponsorName&&n.registrationAmount),e.xp6(1),e.Q6J("ngIf",n.showEarnMoney),e.xp6(1),e.Q6J("ngIf",n.showRegistrationValue||n.showTrafficRegistrationValue),e.xp6(2),e.Q6J("ngIf",!n.displayCookiesDisabledMessage)("ngIfElse",a)}},dependencies:[m.O5,m.PC,C._Y,C.Wl,C.JJ,C.JL,C.sg,C.u,ze,je,Ke,f.X$],encapsulation:2}),o})();function At(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onBack())}),e.ALo(1,"translate"),e._UZ(2,"i",6),e.qZA()}if(2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-interstitial_back"),e.s9C("title",e.lcZ(1,4,"Common.Back"))}}function Et(i,o){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",7),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();let s;e.Gre("",t.concatwebsitename,"-interstitial_landing_logo"),e.xp6(1),e.hYB("alt","",e.lcZ(2,9,"Common.Alt Image Logo")," ",null!==(s=t.webSiteName)&&void 0!==s?s:"",""),e.Q6J("defaultImage",t.shop.logo.placeholder)("lazyLoad",t.shop.logo.url)("width",t.shop.logo.width)("height",t.shop.logo.height)}}function bt(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-interstitial_landing_deal-value_no-code"),e.xp6(1),e.Oqu(e.lcZ(2,4,"Deal.No Code"))}}function wt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",13)(5,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.voteUp(n.deal.id))}),e._UZ(6,"i",15),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.voteDown(n.deal.id))}),e._UZ(10,"i",17),e._uU(11),e.ALo(12,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.Gre("",t.concatwebsitename,"-interstitial_landing_deal-value_vote"),e.xp6(2),e.Oqu(e.lcZ(3,12,"Interstitial.Is Code Valid")),e.xp6(3),e.Gre("",t.concatwebsitename,"-interstitial_landing_deal-value_vote-up-btn"),e.xp6(2),e.hij(" ",e.lcZ(8,14,"Interstitial.Vote Yes")," "),e.xp6(2),e.Gre("",t.concatwebsitename,"-interstitial_landing_deal-value_vote-down-btn"),e.xp6(2),e.hij(" ",e.lcZ(12,16,"Interstitial.Vote No")," ")}}function xt(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.Gre("",t.concatwebsitename,"-interstitial_landing_deal-value_vote"),e.xp6(1),e.hij(" ",e.lcZ(2,4,"Interstitial.Thank You For Your Vote")," ")}}function St(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return n.copyToClipboard(),e.KtG(n.eventMeasurementMiscellaneous())}),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()(),e.YNc(7,wt,13,18,"div",3),e.YNc(8,xt,3,6,"div",3)}if(2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-interstitial_landing_deal-value_code"),e.xp6(2),e.Oqu(t.deal.coupon),e.xp6(1),e.Gre("",t.concatwebsitename,"-interstitial_landing_deal-value_code_copy"),e.xp6(1),e.hij(" ",t.isCopied?e.lcZ(5,10,"Deal.Copied"):e.lcZ(6,12,"Deal.Copy")," "),e.xp6(3),e.Q6J("ngIf",t.shop&&!t.shop.isDealVoteDisabled&&!t.cookieExists&&!t.hasJustVoted),e.xp6(1),e.Q6J("ngIf",t.hasJustVoted)}}function Tt(i,o){1&i&&(e.ynx(0),e._UZ(1,"i",18),e.BQk())}function Bt(i,o){1&i&&(e._uU(0),e.ALo(1,"translate")),2&i&&e.Oqu(e.lcZ(1,1,"Interstitial.Or"))}function kt(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.YNc(3,bt,3,6,"div",8),e.YNc(4,St,9,14,"ng-template",null,9,e.W1O),e.TgZ(6,"div"),e.YNc(7,Tt,2,0,"ng-container",10),e.YNc(8,Bt,2,3,"ng-template",null,11,e.W1O),e.qZA()()),2&i){const t=e.MAs(5),s=e.MAs(9),n=e.oxw();e.Gre("",n.concatwebsitename,"-interstitial_landing_deal-value"),e.xp6(1),e.Gre("",n.concatwebsitename,"-interstitial_landing_deal-value_title"),e.xp6(1),e.Oqu(n.deal.title),e.xp6(1),e.Q6J("ngIf",!n.deal.coupon)("ngIfElse",t),e.xp6(3),e.Gre("",n.concatwebsitename,"-interstitial_landing_deal-value_cashback-value-separator"),e.xp6(1),e.Q6J("ngIf",!(null!=n.shop&&n.shop.isCashback)||(null==n.shop?null:n.shop.isCashback)&&!n.deal.isNotCumulative&&(null==n.shop?null:n.shop.isCumulativeCashback))("ngIfElse",s)}}const Se=function(i,o){return{value:i,shopName:o}};function yt(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-interstitial_landing_cashback-value"),e.xp6(1),e.hij(" ",e.xi3(2,4,"Interstitial.Cashback Value: var = value, shopName",e.WLB(7,Se,t.shop.cashbackValue,t.shop.name))," ")}}function It(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-interstitial_landing_cashback-value"),e.xp6(1),e.hij(" ",e.xi3(2,4,"Interstitial.Voucher Value: var = value, shopName",e.WLB(7,Se,t.shop.voucherCashbackValue,t.shop.name))," ")}}function Nt(i,o){if(1&i&&(e._UZ(0,"img",20),e.ALo(1,"translate")),2&i){const t=e.oxw(2);e.s9C("alt",e.lcZ(1,4,"Common.Alt Image Logo")),e.Q6J("src",t.cashbackRedirectPageLogo.url,e.LSH)("width",t.cashbackRedirectPageLogo.width)("height",t.cashbackRedirectPageLogo.height)}}function Zt(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Nt,2,6,"img",19),e.qZA()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-interstitial_landing_partner"),e.xp6(1),e.Gre("",t.concatwebsitename,"-interstitial_landing_partner_text"),e.xp6(1),e.hij(" ",e.lcZ(3,8,"Interstitial.In Partnership With")," "),e.xp6(2),e.Q6J("ngIf",t.cashbackRedirectPageLogo&&t.webSiteName)}}let Ot=(()=>{var i;class o extends h.H{constructor(s,n,a,u,l,d,g,A,B,U,P){super(a),this.authService=s,this.injector=n,this.shopService=u,this.interstitialHelperService=l,this.outService=d,this.copyToClipboardService=g,this.cookieService=A,this.dealService=B,this.googleAnalyticsService=U,this.mainConfigurationService=P,this.isOpeningCashback=!1,this.isOpeningTraffic=!1,this.isOpeningVoucher=!1,this.isAuthorized=!1,this.isCopied=!1,this.cookieExists=!1,this.cookieVotesName="CookieVotes",this.hasJustVoted=!1,this.showCashbackValue=!1,this.registrationShopType=p.s.None,this.hasSignUpPartnerNewsletter=!1,this.externalPartnerName="",this.baseUrl=this.injector.get(S.cx)}closeModal(){var s;null===(s=this.closeDialogSubject)||void 0===s||s.next(),this.interstitialHelperService.allowScrollBody(),!this.isOpeningCashback&&!this.isOpeningTraffic&&!this.isOpeningVoucher&&this.interstitialHelperService.dealInterstitialClosed.emit()}dialogInit(s,n){var a,u,l,d;this.isAuthorized=this.authService.isAuthorized,this.mainConfigurationService.getMainConfiguration(g=>{this.cashbackRedirectPageLogo=g.cashbackRedirectPageLogoImageViewModel},this.ngUnsubscribe),n.data&&(n.data.deal&&(this.deal=n.data.deal,this.deal&&(this.cookieExists=this.hasAlreadyVoted(this.deal.id))),n.data.externalPartner&&(this.externalPartner=n.data.externalPartner,this.externalPartner&&(this.externalPartnerName=this.externalPartner.name)),n.data.externalPartnerShopId&&(this.externalPartnerShopId=n.data.externalPartnerShopId),n.data.shop&&(this.shop=n.data.shop,this.webSiteName=n.data.shop.webSiteName),this.isOpeningCashback=null!==(a=n.data.isOpeningCashback)&&void 0!==a&&a,this.isOpeningTraffic=null!==(u=n.data.isOpeningTraffic)&&void 0!==u&&u,this.isOpeningVoucher=null!==(l=n.data.isOpeningVoucher)&&void 0!==l&&l,this.hasSignUpPartnerNewsletter=null!==(d=n.data.externalPartnerHasNewsletter)&&void 0!==d&&d),this.closeDialogSubject=n.closeDialogSubject,this.isOpeningCashback?this.registrationShopType=p.s.Cashback:this.isOpeningTraffic?this.registrationShopType=p.s.Traffic:this.isOpeningVoucher&&(this.registrationShopType=p.s.Voucher),this.isRedirectPartnerModal()&&(n.onClose=()=>new Promise(g=>{this.interstitialHelperService.onCloseInterstitialDialog(),this.outCloseBridgeExternalPartner(),g()})),this.showCashbackValue=this.isOpeningCashback||null!=this.deal&&null!=this.shop&&this.shop.isCashback}isRedirectPartnerModal(){return void 0!==this.externalPartner&&!this.isOpeningTraffic&&!this.isOpeningVoucher}onActiveCashbackFromDeal(){const s=this.shop;s&&this.shopService.openCashback(this.authService.isAuthorized,s.id,s.routeName,this.baseUrl,"/"+_.F_)}onClose(){this.isRedirectPartnerModal()?(this.outCloseBridgeExternalPartner(),this.closeModal()):this.closeModal()}onBack(){this.externalPartner&&(this.externalPartner.url.endsWith("/")||(this.externalPartner.url=this.externalPartner.url+"/"),location.href=`${this.externalPartner.url}out/back-ext-partner-shop/${this.externalPartnerShopId}`)}outCloseBridgeExternalPartner(){const s=this.shop;s&&this.outService.out(!0,s.id,s.routeName,0,!0)}copyToClipboard(){this.deal&&(this.copyToClipboardService.copyToClipboard(this.deal.coupon),this.isCopied=!0)}voteUp(s){this.addDealIdToCookieVotes(s),this.hasJustVoted=!0,this.dealService.voteUp(s)}voteDown(s){this.addDealIdToCookieVotes(s),this.hasJustVoted=!0,this.dealService.voteDown(s)}getCookieVotes(){this.cookieService.check(this.cookieVotesName)||this.cookieService.set(this.cookieVotesName,"");const s=this.cookieService.get(this.cookieVotesName);return s?JSON.parse(s):[]}addDealIdToCookieVotes(s){this.cookieService.check(this.cookieVotesName)||this.cookieService.set(this.cookieVotesName,"");const n=this.getCookieVotes();n.push(s.toString()),this.cookieService.set(this.cookieVotesName,JSON.stringify(n))}hasAlreadyVoted(s){return-1!==this.getCookieVotes().indexOf(s.toString())}eventMeasurementMiscellaneous(){this.googleAnalyticsService.sendEventMeasurement("copy-to-clipboard-from-modal",this.ngUnsubscribe)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(Z.e),e.Y36(e.zs3),e.Y36(f.sK),e.Y36(E.d),e.Y36(O.m),e.Y36(R.q),e.Y36(Pe.y),e.Y36($.N),e.Y36(W.q),e.Y36(M.$),e.Y36(q.W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-interstitial"]],features:[e.qOj],decls:12,vars:26,consts:[["type","button","name","modalBackButton",3,"class","title","click",4,"ngIf"],["type","button","name","modalCloseButton",3,"title","click"],["aria-hidden","true",1,"fa-solid","fa-xmark","fa-sm"],[3,"class",4,"ngIf"],[3,"isCashbackInterstitial","deal","shopId","hasSignUpPartnerNewsletter","externalPartnerName","registrationShopType","isRedirectPartner"],["type","button","name","modalBackButton",3,"title","click"],["aria-hidden","true",1,"fas","fa-arrow-left","fa-sm"],[3,"defaultImage","lazyLoad","width","height","alt"],[3,"class",4,"ngIf","ngIfElse"],["coupon",""],[4,"ngIf","ngIfElse"],["notCumulative",""],["type","button","name","modalDealCodeCopyButton",3,"click"],[1,"d-flex","justify-content-center","align-items-center"],["type","button","name","modalDealUpVoteButton",3,"click"],["aria-hidden","true",1,"fa-regular","fa-thumbs-up"],["type","button","name","modalDealDownVoteButton",3,"click"],["aria-hidden","true",1,"fa-regular","fa-thumbs-down"],["aria-hidden","true",1,"fa-solid","fa-plus","fa-sm"],[3,"src","width","height","alt",4,"ngIf"],[3,"src","width","height","alt"]],template:function(s,n){1&s&&(e.TgZ(0,"div"),e.YNc(1,At,3,6,"button",0),e.TgZ(2,"button",1),e.NdJ("click",function(){return n.onClose()}),e.ALo(3,"translate"),e._UZ(4,"i",2),e.qZA(),e.TgZ(5,"div"),e.YNc(6,Et,3,11,"div",3),e.YNc(7,kt,10,14,"div",3),e.YNc(8,yt,3,10,"div",3),e.YNc(9,It,3,10,"div",3),e._UZ(10,"widilo-register-card",4),e.YNc(11,Zt,5,10,"div",3),e.qZA()()),2&s&&(e.MT6("",n.concatwebsitename,"-interstitial ",n.concatwebsitename,"-interstitial-cashback"),e.xp6(1),e.Q6J("ngIf",n.externalPartner&&!n.isOpeningTraffic&&!n.isOpeningVoucher),e.xp6(1),e.Gre("",n.concatwebsitename,"-interstitial_close"),e.s9C("title",e.lcZ(3,24,"Interstitial.Close")),e.xp6(3),e.Gre("",n.concatwebsitename,"-interstitial_landing"),e.xp6(1),e.Q6J("ngIf",n.shop&&n.shop.logo),e.xp6(1),e.Q6J("ngIf",n.deal),e.xp6(1),e.Q6J("ngIf",n.showCashbackValue&&n.shop&&n.shop.cashbackValue&&n.shop.name),e.xp6(1),e.Q6J("ngIf",n.isOpeningVoucher&&n.shop&&n.shop.voucherCashbackValue&&n.shop.name),e.xp6(1),e.Q6J("isCashbackInterstitial",!0)("deal",n.deal)("shopId",n.shop&&n.shop.id?n.shop.id:0)("hasSignUpPartnerNewsletter",n.hasSignUpPartnerNewsletter)("externalPartnerName",n.externalPartnerName)("registrationShopType",n.registrationShopType)("isRedirectPartner",n.isRedirectPartnerModal()),e.xp6(1),e.Q6J("ngIf",n.externalPartner&&!n.isOpeningTraffic&&!n.isOpeningVoucher))},dependencies:[m.O5,H.z1,vt,f.X$],encapsulation:2}),o})();class Rt{constructor(){this.isOpeningCashback=!1,this.deal=void 0,this.isOpeningTraffic=!1,this.externalPartnerShopId=0,this.isOpeningVoucher=!1,this.externalPartnerHasNewsletter=!1}}var Te=c(1974);let G=(()=>{var i;class o{constructor(s,n,a){this.modalService=s,this.interstitialHelperService=n,this.platformId=a}openInterstitialDialog(s,n,a=new Rt){(0,m.NF)(this.platformId)&&(this.modalService.openDialog(s,{childComponent:Ot,data:a,settings:{modalDialogClass:`modal-dialog modal-dialog-centered ${n}-modal-dialog-custom`,bodyClass:`modal-body ${n}-modal-body-interstitial`,headerClass:`${n}-modal-header-interstitial`,contentClass:`modal-content ${n}-modal-content-interstitial ${n}-modal-content-interstitial-cashback`,overlayClass:`modal-backdrop fade show ${n}-modal-backdrop-interstitial`},onClose:()=>new Promise(u=>{this.interstitialHelperService.onCloseInterstitialDialog(),u()})}),setTimeout(()=>{this.interstitialHelperService.preventScrollBody()},500))}getSettingsInterstitialDealDialog(s){return{modalDialogClass:`modal-dialog modal-dialog-centered ${s}-modal-dialog-custom`,modalClass:`modal fade ngx-modal ${s}-modal-interstitial`,bodyClass:`modal-body ${s}-modal-body-interstitial`,headerClass:`${s}-modal-header-interstitial`,contentClass:`modal-content ${s}-modal-content-interstitial ${s}-modal-content-interstitial-deal`,overlayClass:`modal-backdrop fade show ${s}-modal-backdrop-interstitial`}}}return(i=o).\u0275fac=function(s){return new(s||i)(e.LFG(Te.XJ),e.LFG(O.m),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),o})();var J=c(2485),Be=c(4497),ke=c(8253),ee=c(1358),ye=c(3281),Ie=c(17),Ne=c(7141);const Ut=["walkthroughAnchorCashback"];let Pt=(()=>{var i;class o extends h.H{constructor(s,n,a,u,l,d,g,A,B,U,P,ie,se,ne,ae,oe,re,ue,le,ce,he,De,pe,de,me,ge,fe,Ce,Fe,_e){super(Fe),this.route=s,this.router=n,this.shopService=a,this.helperService=u,this.platformId=l,this.document=d,this.el=g,this.renderer=A,this.cookieService=B,this.mainConfigurationService=P,this.changeFragmentService=ie,this.viewRef=se,this.walkthroughService=ne,this.baseInterstitialService=ae,this.clickService=oe,this.authService=re,this.sanitizer=ue,this.cashbackParametersService=le,this.externalPartnerCookieService=ce,this.interstitialHelperService=he,this.topbarService=De,this.adminBrowserExtensionService=pe,this.googleAnalyticsService=de,this.zone=me,this.outService=ge,this.storageService=fe,this.ratingHelperService=Ce,this.assetService=_e,this.routeName="",this.dealActiveId="",this.nbDeals=0,this.nbDealCodes=0,this.nbDealWithoutCodes=0,this.nbDealCashback=0,this.nbDealVoucher=0,this.filterAllDealsActive=!0,this.filterOnlyDealCodesActive=!1,this.filterOnlyDealWithoutCodesActive=!1,this.filterOnlyCashbackActive=!1,this.filterOnlyVoucherDeal=!1,this.dealCounter=0,this.hasCashbackDescription=!1,this.hasCashbackInfos=!1,this.hasCashbackConditions=!1,this.hasVoucherConditions=!1,this.hasVoucherCashbackRatesDescriptions=!1,this.dealColorTraffic="",this.voucherCTAColor="",this.maxScore=5,this.cookieValue="UNKNOWN",this.cookieExists=!1,this.cookieNotesName="CookieNotes",this.isOpenDetailsCashback=!1,this.isOpenDetailsTraffic=!1,this.isOpenDetailsVoucher=!1,this.isOpeningCashback=!1,this.isOpeningTraffic=!1,this.isOpeningVoucher=!1,this.createExternalPartnerCookieForShop=!1,this.isAuthorized=!1,this.isTopBarActive=!1,this.displayBonusInfo=!0,this.paramNoteResult={},this.paramNoteTitle={},this.paramPromoCode={},this.paramPromoCodeHtml="",this.paramRecentDeals={},this.paramCashbackTitle={},this.paramCashbackHeader={},this.paramCashbackValue={},this.paramTrafficDetailsAmount={registrationAmount:"",trafficShopRegistrationAmount:""},this.paramTrafficTitle={dealValue:"",shopName:""},this.searchForFragment=!0,this.searchCounter=0,this.searchSecurityThreshold=50,this.isAdminExtensionInstalled=!1,this.mark=ve=>{this.shop&&(this.shop.rating=ve+1)},this.allShopsRoute="/"+_.jk.allShops,this.shopCategoryRoute="/"+_.W$,this.currentDate=new Date,this.baseUrl=U.get(S.cx),this.stars=[]}ngOnInit(){this.interstitialHelperService.dealInterstitialClosed.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(()=>{this.scrollToDealActive()}),this.changeFragmentService.change.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(n=>{this.template===D.w.widilo&&"cashback"===n?this.handleActiveCashback():(this.changeFragment(n),this.handleActiveDeal())});for(let n=0;n<this.maxScore;n++)this.stars.push(n);if(this.template===D.w.widilo&&this.isMobileApp&&this.listenForIsMobileStepCashBack(),this.route.paramMap.subscribe(n=>{this.dealActiveId="",this.routeName=n.get("routename")||"",this.route.fragment.pipe((0,y.q)(1)).subscribe(a=>{this.dealActiveId="",this.template===D.w.widilo&&(this.isMobileApp||this.listenForIsMobileStepCashBack(),this.cashbackParametersService.getCashbackParameters(l=>{this.registrationAmount=l.registrationAmount},this.ngUnsubscribe));let u=!0;a?this.template===D.w.widilo&&"cashback"===a?(this.isOpeningCashback=!0,this.isOpenDetailsCashback=!0):a.startsWith("a_")||(this.dealActiveId=a):this.template===D.w.widilo&&(this.isOpeningCashback=!1,u=!1,this.route.queryParams.pipe((0,y.q)(1)).subscribe(l=>{l.partner&&(l.traffic&&!this.authService.isAuthorized||l.voucher)?(l.traffic&&(this.isOpeningTraffic=!0,this.isOpenDetailsTraffic=!0,this.createExternalPartnerCookieForShop=!0),l.voucher&&(this.isOpeningVoucher=!0,this.isOpenDetailsCashback=!1,this.createExternalPartnerCookieForShop=!0),this.shopService.getRedirectExternalPartnerInfos(l.partner).subscribe(d=>{this.externalPartner=d,this.setData()})):this.setData()})),u&&this.setData(),this.mainConfigurationService.getMainConfiguration(l=>{this.dealColorTraffic=l.dealColorTraffic,this.voucherCTAColor=l.voucherCTAColor,this.webSiteName=l.webSiteName,this.paramCashbackHeader={webSiteName:this.webSiteName}},this.ngUnsubscribe),this.shopService.getMomentShops(l=>{this.momentShops=l},this.ngUnsubscribe)})}),this.authService.isAuthorized&&(this.displayBonusInfo=!1),this.template===D.w.widilo){this.topbarService.getTopBar(a=>{this.isTopBarActive=!!a},this.ngUnsubscribe);const n=this.topbarService.eventCloseTopBar.subscribe(()=>{this.isTopBarActive=!1,n.unsubscribe()})}const s=this.renderer.createComment("cxenseparse_end");this.renderer.appendChild(this.el.nativeElement,s),(0,m.NF)(this.platformId)&&(this.adminBrowserExtensionService.isAdminExtensionInstalled?this.adminBrowserExtensionService.adminBrowserExtensionParameters&&this.injectAdminVariables(this.adminBrowserExtensionService.adminBrowserExtensionParameters.webSiteConfiguration):this.adminBrowserExtensionService.eventAdminExtensionInstalled.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(n=>{this.injectAdminVariables(n.webSiteConfiguration)}))}injectAdminVariables(s){this.zone.run(()=>{this.webSiteConfiguration=s,this.isAdminExtensionInstalled=!0})}ngAfterViewInit(){this.route.fragment.pipe((0,y.q)(1)).subscribe(s=>{s&&s.startsWith("a_")&&(this.fragmentToSearch=s)})}ngAfterViewChecked(){if(this.searchForFragment&&this.fragmentToSearch&&this.fragmentToSearch.length){const s=this.document.getElementById(this.fragmentToSearch);s?(setTimeout(()=>{null==s||s.scrollIntoView({behavior:"smooth"})},0),this.searchForFragment=!1):(this.searchCounter++,this.searchSecurityThreshold<=this.searchCounter&&(this.searchForFragment=!1))}}get style(){if(this.shop){let s="";if(this.shop.isTrafficShop&&this.dealColorTraffic&&(s+=`--traffic-color: ${this.dealColorTraffic}; --traffic-color-darker: ${this.helperService.darken(this.dealColorTraffic,5)};`),this.shop.isVoucher&&this.voucherCTAColor&&(s+=`--voucher-cta-color: ${this.voucherCTAColor}; --voucher-cta-color-darker: ${this.helperService.darken(this.voucherCTAColor,5)};`),s.length>0)return this.sanitizer.bypassSecurityTrustStyle(s)}return this.sanitizer.bypassSecurityTrustStyle("")}listenForIsMobileStepCashBack(){this.walkthroughService.isMobileStepCashBack.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(s=>{this.isOpenDetailsCashback=!s,this.isOpenDetailsTraffic=!s})}setSchema(){(0,x.D)({home:this.translate.get("BreadcrumbList.Home"),shop:this.translate.get("BreadcrumbList.Shops")}).subscribe(s=>{if(this.shop){const n=new v.S;n.addLastReviewed(this.shop.modificationDate),n.addBreadcrumbListItem([{id:this.baseUrl.replace("https://","").replace("http://",""),name:s.home},{id:this.baseUrl.replace("https://","").replace("http://","")+this.shopRoute,name:s.shop},{id:this.baseUrl.replace("https://","").replace("http://","")+this.shopRoute+"/"+this.routeName,name:this.shop.name}]);const a={"@type":"Organization",name:this.shop.metaTitle,description:this.shop.metaDescription,image:this.shop.logo.url};if(this.shop.reviewCount>0&&(a.aggregateRating={"@type":"AggregateRating",name:this.shop.name,ratingCount:this.shop.reviewCount,ratingValue:this.shop.rating,bestRating:"5",worstRating:"1",itemReviewed:{"@type":"Thing",name:this.shop.name}}),n.add(a),this.shop&&this.shop.paragraphs&&this.shop.paragraphs.length>0){const u=[];this.shop.paragraphs.forEach(l=>{l.videoUrls&&l.videoUrls.length>0&&l.videoUrls.forEach(d=>{u.push(d)})}),null!=u&&u.length>0&&n.addVideos(u,this.shop.modificationDate,this.shop.metaTitle,this.shop.metaDescription)}(this.template===D.w.widilo&&!this.authService.isAuthorized||this.template!==D.w.widilo)&&this.shop&&this.shop.displayFrequentlyAskedQuestion&&this.shop.frequentlyAskedQuestions&&this.shop.frequentlyAskedQuestions.length&&n.addFaq(this.shop.frequentlyAskedQuestions),this.schema=n.schema}})}setMetas(){this.shop&&(this.helperService.setTitleAndMetaAndLinks(this.shop.metaTitle,this.shop.metaDescription,(_.F_?_.F_+"/":"")+this.shop.routeName),this.helperService.updateMetaProperty("og:title",this.shop.metaTitle),this.helperService.updateMetaProperty("og:description",this.shop.metaDescription))}setDataResult(){if(this.shop){var s;if(this.shop.isIndexable?this.helperService.unsetRobotNoIndex():this.helperService.setRobotNoIndex(),this.shop.metaExclusive?this.translate.get("Shop.MetaExclusive").subscribe(a=>{this.shop&&(this.shop.metaTitle=`${a} - ${this.shop.metaTitle}`,this.shop.metaDescription=`${a} - ${this.shop.metaDescription}`),this.setMetas(),this.setSchema()}):(this.setMetas(),this.setSchema()),this.shop.facebookShareImage&&this.helperService.updateMetaProperty("og:image",this.shop.facebookShareImage.url),this.template===D.w.widilo&&this.shop&&this.shop.isCashback&&this.authService.isAuthorized){const a=this.zone.onStable.pipe((0,r.R)(this.ngUnsubscribe)).subscribe(()=>{this.walkthroughAnchorCashback&&(this.walkthroughService.shopHasInitEvent.emit(),a.unsubscribe())})}if(this.hasVoucherConditions=this.template===D.w.widilo&&this.shop.voucherConditions&&(this.shop.voucherConditions.static&&this.shop.voucherConditions.static.length>0||this.shop.voucherConditions.dynamic&&this.shop.voucherConditions.dynamic.length>0),this.hasVoucherCashbackRatesDescriptions=this.template===D.w.widilo&&null!=this.shop.voucherCashbackRates&&this.shop.voucherCashbackRates.length>1,this.hasCashbackDescription=this.shop.cashbackDescription&&(this.shop.cashbackDescription.static&&this.shop.cashbackDescription.static.length>0||this.shop.cashbackDescription.dynamic&&this.shop.cashbackDescription.dynamic.length>0),this.hasCashbackInfos=(null===(s=this.shop.cashbackInfos)||void 0===s?void 0:s.length)>0,this.hasCashbackConditions=this.shop.cashbackConditions&&(this.shop.cashbackConditions.static&&this.shop.cashbackConditions.static.length>0||this.shop.cashbackConditions.dynamic&&this.shop.cashbackConditions.dynamic.length>0),this.template!==D.w.widilo&&(0,m.NF)(this.platformId)&&(this.cookieExists=this.testIfShopRouteNameInCookieNotes(this.shop.id.toString())),this.template===D.w.widilo&&(this.shop&&!this.authService.isAuthorized&&((this.shop.isTrafficShop||this.shop.isVoucher)&&this.createExternalPartnerCookieForShop&&this.externalPartner&&(this.externalPartnerCookieService.replaceAndCreateCookie(this.shop.routeName,this.externalPartner.id,this.externalPartner.code),this.createExternalPartnerCookieForShop=!1),this.shop.isTrafficShop&&this.cashbackParametersService.getCashbackParameters(a=>{this.paramTrafficDetailsAmount={registrationAmount:a.registrationAmount,trafficShopRegistrationAmount:a.trafficShopRegistrationAmount},this.trafficShopRegistrationTotalAmount=a.trafficShopRegistrationTotalAmount,this.shop&&(this.paramTrafficTitle={dealValue:this.trafficShopRegistrationTotalAmount,shopName:this.shop.name})},this.ngUnsubscribe)),this.shop.isCashback&&this.shop.hasCashbackDelay)){const a=this.shop,u=this.helperService.setCashbackDelayUnitResource(a.cashbackAppearanceTime,a.cashbackAppearanceTimeUnit),l=this.helperService.setCashbackDelayUnitResource(a.cashbackValidationTime,a.cashbackValidationTimeUnit);this.translate.get(u).subscribe(d=>{var g;return this.cashbackAppearanceTimeSentence=`${null===(g=this.shop)||void 0===g?void 0:g.cashbackAppearanceTime} ${d}`}),this.translate.get(l).subscribe(d=>{var g;return this.cashbackValidationTimeSentence=`${null===(g=this.shop)||void 0===g?void 0:g.cashbackValidationTime} ${d}`})}this.dealCounter=0,this.authService.isAuthorized&&!1===this.isOpeningVoucher&&(this.isOpenDetailsCashback=!0),this.isAuthorized=this.authService.isAuthorized,this.filterAllDealsActive=!0,this.filterOnlyDealCodesActive=!1,this.filterOnlyDealWithoutCodesActive=!1,this.filterDeals=this.shop.deals,this.paramRecentDeals={shopName:this.shop.name},this.paramNoteResult={averageNote:this.shop.rating,totalNotes:this.shop.reviewCount},this.paramNoteTitle={shopName:this.shop.name};let n=this.shop.deals?this.shop.deals.filter(a=>!a.isSignUpNewsletter).length:0;if(this.shop.isTrafficShop&&0!==n&&n--,this.paramPromoCode={shopName:this.template===D.w.template4?`<strong>${this.shop.name}</strong>`:this.shop.name,monthName:this.shop.monthName,year:this.currentDate.getFullYear(),numberOfDeals:n},this.template===D.w.template4&&this.translate.get("Shop.Promo Code: var = shopName, monthName, year, numberOfDeals",this.paramPromoCode).subscribe(a=>{this.paramPromoCodeHtml=this.sanitizer.bypassSecurityTrustHtml(a)}),this.paramReductionCode={shopName:this.shop.name,monthName:this.shop.monthName,year:this.currentDate.getFullYear(),numberOfDeals:n},this.paramCashbackTitle={shopName:this.shop.name,monthName:this.shop.monthName,year:this.currentDate.getFullYear()},this.paramCashbackValue={cashbackValue:this.shop.cashbackValue},this.shop.deals?(this.nbDeals=this.shop.deals.filter(a=>!a.isSignUpNewsletter).length,this.nbDealCodes=this.shop.deals.filter(a=>a.coupon&&!a.isCashback&&!a.isSignUpNewsletter).length,this.nbDealWithoutCodes=this.shop.deals.filter(a=>!a.coupon&&!a.isCashback&&!a.isSignUpNewsletter).length,this.nbDealCashback=this.shop.deals.filter(a=>a.isCashback&&!a.isSignUpNewsletter).length,this.nbDealVoucher=this.shop.deals.filter(a=>a.isVoucher&&!a.isSignUpNewsletter).length):(this.nbDeals=0,this.nbDealCodes=0,this.nbDealWithoutCodes=0,this.nbDealCashback=0,this.nbDealVoucher=0),this.template===D.w.widilo&&(this.isOpeningCashback&&this.handleActiveCashback(),this.authService.isAuthorized||(this.isOpeningTraffic&&(this.handleActiveTraffic(),this.isOpenDetailsTraffic=!0,this.isOpeningTraffic=!1),this.isOpeningVoucher&&(this.handleActiveVoucher(),this.isOpeningVoucher=!1))),this.dealActiveId?this.handleActiveDeal(!0):this.template!==D.w.widilo&&(this.toastDeal=this.getDealForToast()),this.template===D.w.widilo){this.stars=[0,0,0,0,0];const a=this.shop.rating%1,u=this.shop.rating-a;for(let l=0;l<u;l++)this.stars[l]=2;a>0&&(this.stars[u]=1),this.paramNoteResult={averageNote:this.shop.ratingView,totalNotes:this.shop.reviewCount}}this.template===D.w.widilo&&this.storageService.canAccessSessionStorage()&&(this.shop&&this.shop.isCashback?this.storageService.setIsCashbackInSessionStorage():this.storageService.removeIsCashbackFromSessionStorage(),this.shop&&!this.isAuthorized&&this.storageService.setRegistrationShopIdInSessionStorage(this.shop.id))}}openInterstitial(s){var n;null!==(n=this.shop)&&void 0!==n&&n.isDealOfferActive&&!this.isAuthorized&&this.scrollToDealActive(),(this.template!==D.w.widilo||!this.authService.isAuthorized)&&(this.isMobileApp?this.authService.loginEmail(!0,new T.f({})):this.shop&&this.baseInterstitialService.openInterstitialDialog(this.viewRef,this.concatwebsitename,{shop:this.shop,deal:s}))}openInterstitialDialog(){this.shop&&this.baseInterstitialService.openInterstitialDialog(this.viewRef,this.concatwebsitename,{shop:this.shop,isOpeningCashback:this.isOpeningCashback})}openInterstitialTraffic(){this.shop&&this.baseInterstitialService.openInterstitialDialog(this.viewRef,this.concatwebsitename,{shop:this.shop,isOpeningCashback:!1,externalPartner:this.externalPartner,isOpeningTraffic:!0})}openInterstitialVoucher(){this.shop&&this.baseInterstitialService.openInterstitialDialog(this.viewRef,this.concatwebsitename,{shop:this.shop,isOpeningCashback:!1,externalPartner:this.externalPartner,isOpeningVoucher:!0})}onEvent(s){s.stopPropagation()}setData(){this.shopService.getShop(this.routeName).pipe((0,y.q)(1)).subscribe(s=>{if(this.shop=s,!1===this.shop.isTrafficShop&&this.isOpeningTraffic&&(this.isOpeningTraffic=!1),this.template===D.w.widilo&&this.shop.isVoucher&&this.shop.requestConnected&&(this.privateVoucherCardImg=this.assetService.get("voucher/voucher.png")),!1===this.shop.isVoucher&&this.isOpeningVoucher&&(this.isOpeningVoucher=!1),this.dealActiveId){let n=!1;this.shop&&this.shop.deals&&this.shop.deals.length>0&&this.shop.deals.filter(a=>a.id.toString()===this.dealActiveId).forEach(a=>{a.coupon?n=!0:(a.isCollapsed=!0,a.open=!0)}),this.shop&&this.shop.expiredDeals&&this.shop.expiredDeals.length>0&&this.shop.expiredDeals.filter(a=>a.id.toString()===this.dealActiveId).forEach(a=>{a.coupon?n=!0:(a.isCollapsed=!0,a.open=!0)}),n?(this.shop&&this.shop.deals&&this.shop.deals.length>0&&this.shop.deals.filter(a=>a.id.toString()===this.dealActiveId).forEach(a=>{a.isCollapsed=!0,a.open=!0}),this.shop&&this.shop.expiredDeals&&this.shop.expiredDeals.length>0&&this.shop.expiredDeals.filter(a=>a.id.toString()===this.dealActiveId).forEach(a=>{a.isCollapsed=!0,a.open=!0}),this.shop.isDealCouponActive=!0,this.setDataResult()):(this.shop.isDealOfferActive=!0,this.setDataResult())}else this.setDataResult();if(this.template===D.w.template1&&this.shop){if(this.shop.paragraphs&&this.shop.paragraphs.length){const n=this.shop.paragraphs.length;for(let a=0;a<n;a++){const u=this.shop.paragraphs[a];if(u.title&&u.title.length){this.firstParagraph=u;break}}}if(this.shop.shortDescriptionParagraphs&&this.shop.shortDescriptionParagraphs.length){const n=this.shop.shortDescriptionParagraphs.length;for(let a=0;a<n;a++){const u=this.shop.shortDescriptionParagraphs[a];if(u.title&&u.title.length){this.firstParagraphShortDescription=u;break}}}}},s=>{this.helperService.setMetaError(s),this.router.navigate(["/not-found"])})}addNote(s){this.shop&&this.shopService.addNote(this.shop.id,s).subscribe(n=>{this.shop&&(this.shop.rating=n.averageNote,this.shop.reviewCount=n.totalNotes,this.paramNoteResult={averageNote:this.shop.rating,totalNotes:this.shop.reviewCount})},n=>{})}save(){this.shop&&(this.addShopRouteNameInCookieNotes(this.shop.id.toString()),this.cookieExists=this.testIfShopRouteNameInCookieNotes(this.shop.id.toString()),this.addNote(this.shop.rating))}markAndSave(s){this.mark(s),this.save()}getStarIconClassForShopRatingFromClick(s){return this.shop?this.ratingHelperService.getStarIconClassForShopRatingFromClick(s,this.shop.rating,this.cookieExists,this.concatwebsitename):""}getStarIconClassForShopRatingFromReviews(s){return this.ratingHelperService.getStarIconClassForShopRatingFromReviews(s)}getStarIconClassForReviewRating(s,n){return this.ratingHelperService.getStarIconClassForReviewRating(s,n)}getCookieNotes(){this.cookieService.check(this.cookieNotesName)||this.cookieService.set(this.cookieNotesName,"");const s=this.cookieService.get(this.cookieNotesName);return s?JSON.parse(s):[]}addShopRouteNameInCookieNotes(s){this.cookieService.check(this.cookieNotesName)||this.cookieService.set(this.cookieNotesName,"");const n=this.getCookieNotes();n.push(s),this.cookieService.set(this.cookieNotesName,JSON.stringify(n))}testIfShopRouteNameInCookieNotes(s){return-1!==this.getCookieNotes().indexOf(s)}changeFragment(s){this.dealActiveId=s,this.dealCounter=0,this.shop&&this.shop.deals&&this.shop.deals.length>0&&this.shop.deals.filter(n=>n.id.toString()===this.dealActiveId).forEach(n=>{n.isCollapsed=!0,n.open=!0}),this.shop&&this.shop.expiredDeals&&this.shop.expiredDeals.length>0&&this.shop.expiredDeals.filter(n=>n.id.toString()===this.dealActiveId).forEach(n=>{n.isCollapsed=!0,n.open=!0}),this.filterDeals&&this.filterDeals.length>0&&this.filterDeals.filter(n=>n.id.toString()===this.dealActiveId).forEach(n=>{n.isCollapsed=!0,n.open=!0}),this.shop&&(this.shop.isDealOfferActive=!0,this.shop.isDealCouponActive=!1),this.scrollToDealActive()}openAllDeals(){var s;this.filterAllDealsActive=!0,this.filterOnlyDealCodesActive=!1,this.filterOnlyDealWithoutCodesActive=!1,this.filterOnlyCashbackActive=!1,this.filterOnlyVoucherDeal=!1,this.filterDeals=(null===(s=this.shop)||void 0===s?void 0:s.deals)||[]}openOnlyDealCodes(){var s;this.filterAllDealsActive=!1,this.filterOnlyDealCodesActive=!0,this.filterOnlyDealWithoutCodesActive=!1,this.filterOnlyCashbackActive=!1,this.filterOnlyVoucherDeal=!1,this.filterDeals=(null===(s=this.shop)||void 0===s?void 0:s.deals.filter(n=>n.coupon&&!n.isCashback&&!n.isVoucher))||[]}openOnlyDealWithoutCodes(){var s;this.filterAllDealsActive=!1,this.filterOnlyDealCodesActive=!1,this.filterOnlyDealWithoutCodesActive=!0,this.filterOnlyCashbackActive=!1,this.filterOnlyVoucherDeal=!1,this.filterDeals=(null===(s=this.shop)||void 0===s?void 0:s.deals.filter(n=>!n.coupon&&!n.isCashback&&!n.isVoucher))||[]}openOnlyCashback(){var s;this.filterAllDealsActive=!1,this.filterOnlyDealCodesActive=!1,this.filterOnlyDealWithoutCodesActive=!1,this.filterOnlyCashbackActive=!0,this.filterOnlyVoucherDeal=!1,this.filterDeals=(null===(s=this.shop)||void 0===s?void 0:s.deals.filter(n=>n.isCashback))||[]}openOnlyVoucher(){var s;this.filterAllDealsActive=!1,this.filterOnlyDealCodesActive=!1,this.filterOnlyDealWithoutCodesActive=!1,this.filterOnlyCashbackActive=!1,this.filterOnlyVoucherDeal=!0,this.filterDeals=(null===(s=this.shop)||void 0===s?void 0:s.deals.filter(n=>n.isVoucher))||[]}handleActiveCashback(){}handleActiveDeal(s=!1){const n=this.getActiveDeal();if(null!=n){let a=this.template===D.w.template1||this.template===D.w.template2||this.template===D.w.widilo&&this.authService.isAuthorized;s&&(a=a||this.template===D.w.template4),a&&(this.isMobileApp?this.outService.redirectMobileApp(p.s.None,n.shopId,n.shopRouteName,n.id):(this.openInterstitialDeal(n),s&&this.scrollToDealActive()))}}handleActiveTraffic(){this.isMobileApp&&this.shop?this.authService.loginEmail(!0,new T.f({registrationShopType:p.s.Traffic,shopId:this.shop.id})):this.openInterstitialTraffic()}handleActiveVoucher(){this.isMobileApp&&this.shop?this.authService.loginEmail(!0,new T.f({registrationShopType:p.s.Voucher,shopId:this.shop.id})):this.openInterstitialVoucher()}getActiveDeal(){var s;let n,a=(null===(s=this.shop)||void 0===s?void 0:s.deals.filter(l=>l.id.toString()===this.dealActiveId))||[];var u;return a.length>0?n=a[0]:(a=(null===(u=this.shop)||void 0===u?void 0:u.expiredDeals.filter(l=>l.id.toString()===this.dealActiveId))||[],a.length>0&&(n=a[0])),n}scrollToFragment(s){const n=this.document.getElementById(s);n&&n.scrollIntoView({behavior:"smooth"})}scrollToDealActive(){this.scrollToFragment(this.dealActiveId)}scrollWhenAllDealsReady(){this.dealCounter++,this.shop&&this.dealCounter===(this.filterDeals?this.filterDeals.length:0)+(this.shop&&this.shop.expiredDeals?this.shop.expiredDeals.length:0)&&setTimeout(()=>{this.scrollToDealActive()},500)}openDetailsCashback(){this.isOpenDetailsCashback=!this.isOpenDetailsCashback}openDetailsTraffic(){this.isOpenDetailsTraffic=!this.isOpenDetailsTraffic}openDetailsVoucher(){this.isOpenDetailsVoucher=!this.isOpenDetailsVoucher}handleClickTrafficShop(){this.isAuthorized||(this.isOpenDetailsTraffic=!0,this.shop&&this.clickService.registerClick(this.shop.id).subscribe(()=>{this.handleActiveTraffic()}))}getDealForToast(){if(this.shop&&this.shop.deals&&this.shop.deals.length){const s=this.shop.deals.length;for(let n=0;n<s;n++){const a=this.shop.deals[n];if(a&&!a.isCashback&&!a.isTraffic&&!a.isTrafficCashbackShops&&!a.isVoucher)return a}}}eventMeasurementActivateCashback(){var s;const n={};n.shopName=(null===(s=this.shop)||void 0===s?void 0:s.name)||"",this.googleAnalyticsService.sendEventMeasurement(this.isOpenDetailsCashback?"activate-cashback-logged-in":"activate-cashback-not-logged-in",this.ngUnsubscribe,n)}eventMeasurementShowDetailsCashback(){var s,n;const a={};a.shopName=(null===(s=this.shop)||void 0===s?void 0:s.name)||"",this.isOpenDetailsCashback&&null!==(n=this.shop)&&void 0!==n&&n.isCashback&&this.googleAnalyticsService.sendEventMeasurement("show-details-cashback",this.ngUnsubscribe,a)}eventMeasurementShowDetailsTraffic(){if(this.isOpenDetailsTraffic){var s;const n={};n.shopName=(null===(s=this.shop)||void 0===s?void 0:s.name)||"",this.googleAnalyticsService.sendEventMeasurement("show-details-traffic",this.ngUnsubscribe,n)}}eventMeasurementRegisterButton(){var s;if(null!==(s=this.shop)&&void 0!==s&&s.isTrafficShop){const n={};n.shopName=this.shop.name,this.googleAnalyticsService.sendEventMeasurement("show-modal-trafficshop-page",this.ngUnsubscribe,n)}}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(F.gz),e.Y36(F.F0),e.Y36(E.d),e.Y36(Ee.W),e.Y36(e.Lbi),e.Y36(m.K0),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36($.N),e.Y36(e.zs3),e.Y36(q.W),e.Y36(be.l),e.Y36(e.s_b),e.Y36(we.h),e.Y36(G),e.Y36(J.w),e.Y36(Z.e),e.Y36(Be.H7),e.Y36(K.z),e.Y36(ke.W),e.Y36(O.m),e.Y36(ee.F),e.Y36(ye.v),e.Y36(M.$),e.Y36(e.R0b),e.Y36(R.q),e.Y36(X.V),e.Y36(Ie.E),e.Y36(f.sK),e.Y36(Ne.d))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(s,n){if(1&s&&e.Gf(Ut,5),2&s){let a;e.iGM(a=e.CRH())&&(n.walkthroughAnchorCashback=a.first)}},hostVars:2,hostBindings:function(s,n){2&s&&e.Akn(n.style)},features:[e.qOj],decls:0,vars:0,template:function(s,n){},encapsulation:2}),o})();var Lt=c(4817);let Ze=(()=>{var i;class o extends G{constructor(s,n,a){super(s,n,a),this.modalService=s,this.interstitialHelperService=n,this.platformId=a}openInterstitialDealDialog(s,n,a,u){this.modalService.openDialog(s,{childComponent:Lt.q,data:{deal:u,shop:n},settings:this.getSettingsInterstitialDealDialog(a),onClose:()=>new Promise(l=>{this.interstitialHelperService.allowScrollBody(),l()})}),this.interstitialHelperService.preventScrollBody()}}return(i=o).\u0275fac=function(s){return new(s||i)(e.LFG(Te.XJ),e.LFG(O.m),e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),o})();var Yt=c(1490),Vt=c(5314),qt=c(1221),Mt=c(7712),Gt=c(5399),Jt=c(9736),Qt=c(8694),zt=c(8237),b=(()=>{return(i=b||(b={}))[i.None=0]="None",i[i.Article=1]="Article",i[i.AdventCalendar=2]="AdventCalendar",i[i.Faq=3]="Faq",i[i.TopShops=4]="TopShops",i[i.Vouchers=5]="Vouchers",i[i.HotDeal=6]="HotDeal",i[i.BrowserExtension=7]="BrowserExtension",i[i.MobileApp=8]="MobileApp",i[i.TopDeals=9]="TopDeals",b;var i})(),jt=c(8173);let te=(()=>{var i;class o extends jt.b{getPageSidebar(s,n){const a=this.nameof("pageSidebar");this.getDataWithCallback(a,"pagesidebars",n,s,void 0,{propertyToSetName:a})}}return(i=o).\u0275fac=function(){let t;return function(n){return(t||(t=e.n5z(i)))(n||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),o})(),$t=(()=>{var i;class o extends h.H{constructor(s,n){super(n),this.pageSidebarService=s,this.route=""}ngOnInit(){this.pageSidebarService.getPageSidebar(s=>{this.pageSidebar=s,this.setRoute()},this.ngUnsubscribe)}setRoute(){if(this.pageSidebar)switch(this.pageSidebar.routeNameType){case b.Article:this.route=`/${_.g6}`;break;case b.AdventCalendar:this.route=`/${_.jk.adventCalendar}`;break;case b.Faq:this.route=`/${_.vr}`;break;case b.Vouchers:this.route=`/${_.jk.voucher}`;break;case b.TopShops:this.route=`/${_.zQ}`;break;case b.HotDeal:this.route=`/${_.Ko}`;break;case b.BrowserExtension:this.route=`/${_.jk.browserExtension}`;break;case b.MobileApp:this.route=`/${_.jk.mobileApp}`;break;case b.TopDeals:this.route=`/${_.xp}`}}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(te),e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e.qOj],decls:0,vars:0,template:function(s,n){},encapsulation:2}),o})();function Wt(i,o){if(1&i&&e._UZ(0,"div"),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-page-sidebar_overlay"),e.Udp("background-color",t.pageSidebar.overlayColor)("opacity","0.5")}}function Ht(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-page-sidebar_title"),e.Udp("color",t.pageSidebar.titleTextColor),e.xp6(1),e.Oqu(t.pageSidebar.title)}}function Kt(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-page-sidebar_subtitle"),e.Udp("color",t.pageSidebar.titleTextColor),e.xp6(1),e.Oqu(t.pageSidebar.subtitle)}}const Xt=function(i){return[i]};function ei(i,o){if(1&i&&(e.TgZ(0,"a",5),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-page-sidebar_btn"),e.Udp("background-color",t.pageSidebar.buttonBackgroundColor)("color",t.pageSidebar.buttonTextColor+" !important")("border-color",t.pageSidebar.buttonBackgroundColor),e.Q6J("routerLink",e.VKq(12,Xt,t.route))("fragment",t.fragment),e.xp6(1),e.Oqu(t.pageSidebar.buttonLabel)}}function ti(i,o){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,Wt,1,7,"div",2),e.TgZ(2,"div"),e.YNc(3,Ht,2,6,"span",3),e.YNc(4,Kt,2,6,"span",3),e.YNc(5,ei,2,14,"a",4),e.qZA()()),2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-page-sidebar"),e.Q6J("defaultImage",t.pageSidebar.backgroundImage.placeholder)("lazyLoad",t.pageSidebar.backgroundImage.url),e.xp6(1),e.Q6J("ngIf",t.pageSidebar.hasOverlay),e.xp6(1),e.Gre("",t.concatwebsitename,"-page-sidebar_content"),e.xp6(1),e.Q6J("ngIf",t.pageSidebar.title),e.xp6(1),e.Q6J("ngIf",t.pageSidebar.subtitle),e.xp6(1),e.Q6J("ngIf",t.pageSidebar.buttonLabel)}}let ii=(()=>{var i;class o extends $t{constructor(s,n){super(s,n)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(te),e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["t2-page-sidebar"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"class","defaultImage","lazyLoad",4,"ngIf"],[3,"defaultImage","lazyLoad"],[3,"class","background-color","opacity",4,"ngIf"],[3,"class","color",4,"ngIf"],[3,"routerLink","fragment","class","background-color","color","border-color",4,"ngIf"],[3,"routerLink","fragment"]],template:function(s,n){1&s&&e.YNc(0,ti,6,12,"div",0),2&s&&e.Q6J("ngIf",n.pageSidebar&&n.pageSidebar.backgroundImage)},dependencies:[m.O5,H.z1,F.rH],encapsulation:2}),o})(),si=(()=>{var i;class o extends h.H{constructor(s){super(s)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{deals:"deals"},features:[e.qOj],decls:0,vars:0,template:function(s,n){},encapsulation:2}),o})();function ni(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",t.dealValue," ",e.lcZ(2,2,"Deal.Off")," ")}}function ai(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Deal.Free Delivery")))}function oi(i,o){if(1&i&&e.YNc(0,ai,3,3,"span",1),2&i){const t=e.oxw().$implicit,s=e.MAs(6);e.Q6J("ngIf",t.isFreeDelivery)("ngIfElse",s)}}function ri(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.gift)}}function ui(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.dateString)}}function li(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Deal.Today")))}function ci(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e.YNc(2,ni,3,4,"span",1),e.YNc(3,oi,1,2,"ng-template",null,2,e.W1O),e.YNc(5,ri,2,1,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,ui,2,1,"span",1),e.YNc(11,li,3,3,"ng-template",null,4,e.W1O),e.qZA()()),2&i){const t=o.$implicit,s=e.MAs(4),n=e.MAs(12);e.xp6(2),e.Q6J("ngIf",null!=t.dealValue&&t.dealValue.length>0)("ngIfElse",s),e.xp6(6),e.hij(" ",t.title," "),e.xp6(2),e.Q6J("ngIf",null!=t.dateString&&t.dateString.length>0)("ngIfElse",n)}}let hi=(()=>{var i;class o extends si{constructor(s){super(s)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["t2-shop-recent-deals"]],features:[e.qOj],decls:14,vars:13,consts:[[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["freeDelivery",""],["gift",""],["goodToday",""]],template:function(s,n){1&s&&(e.TgZ(0,"table")(1,"thead")(2,"tr")(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,ci,13,5,"tr",0),e.qZA()()),2&s&&(e.Gre("table ",n.concatwebsitename,"-recent-deals"),e.xp6(4),e.Oqu(e.lcZ(5,7,"Deal.Recent Value")),e.xp6(3),e.Oqu(e.lcZ(8,9,"Deal.Recent Title")),e.xp6(3),e.Oqu(e.lcZ(11,11,"Deal.Recent Expiration")),e.xp6(3),e.Q6J("ngForOf",n.deals))},dependencies:[m.sg,m.O5,f.X$],encapsulation:2}),o})(),Di=(()=>{var i;class o extends h.H{constructor(s){super(s),this.paragraphs=[],this.shopCategoryRoute="/"+_.W$,this.articleRoute="/"+_.g6,this.eventRoute="/"+_.M8}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{paragraphs:"paragraphs"},features:[e.qOj],decls:0,vars:0,template:function(s,n){},encapsulation:2}),o})();function pi(i,o){if(1&i&&(e.TgZ(0,"h2",3),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,s=e.oxw();e.Gre("",s.concatwebsitename,"-sidebar-widget-title no-mb"),e.Q6J("id",t.anchor),e.xp6(1),e.Oqu(t.title)}}function di(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"p",4),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.data)}}function mi(i,o){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function gi(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"ul"),e.YNc(2,mi,2,1,"li",0),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.data)}}function fi(i,o){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function Ci(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"ol"),e.YNc(2,fi,2,1,"li",0),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.data)}}function Fi(i,o){if(1&i&&(e.ynx(0),e.YNc(1,di,3,1,"ng-container",2),e.YNc(2,gi,3,1,"ng-container",2),e.YNc(3,Ci,3,1,"ng-container",2),e.BQk()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.isText),e.xp6(1),e.Q6J("ngIf",t.isUnorderedList),e.xp6(1),e.Q6J("ngIf",t.isOrderedList)}}function _i(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Fi,4,3,"ng-container",0),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.content)}}function vi(i,o){if(1&i&&(e.TgZ(0,"div")(1,"a",5),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(1),e.s9C("href",t.url,e.LSH),e.xp6(1),e.Oqu(t.title)}}function Ai(i,o){if(1&i&&(e.ynx(0),e.YNc(1,pi,2,5,"h2",1),e.YNc(2,_i,2,1,"ng-container",2),e.YNc(3,vi,3,2,"div",0),e.BQk()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.title),e.xp6(1),e.Q6J("ngIf",null==t.content?null:t.content.length),e.xp6(1),e.Q6J("ngForOf",t.externalUrls)}}let Ei=(()=>{var i;class o extends Di{constructor(s){super(s)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["t2-shop-short-description"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"id","class",4,"ngIf"],[4,"ngIf"],[3,"id"],[2,"white-space","pre-wrap"],["target","_blank","rel","noopener",3,"href"]],template:function(s,n){1&s&&e.YNc(0,Ai,4,3,"ng-container",0),2&s&&e.Q6J("ngForOf",n.paragraphs)},dependencies:[m.sg,m.O5],encapsulation:2}),o})();var Oe=c(251);let xi=(()=>{var i;class o extends h.H{constructor(s,n,a,u,l,d,g,A){super(g),this.injector=s,this.dealService=a,this.clickService=u,this.outService=l,this.router=d,this.scrollService=A,this.toastIsHot=!1,this.hasBeenFiredOnce=!1,this.isBrowser=(0,m.NF)(n),this.baseUrl=this.injector.get(S.cx),this.scrollEventName=this.scrollService.getScrollEventName()}ngOnInit(){this.addScrollListener(),this.router.events.subscribe(s=>{s instanceof F.m2&&(setTimeout(()=>{this.hasBeenFiredOnce=!1,this.addScrollListener()},100),this.clearTimeouts())})}ngOnDestroy(){return this.removeScrollListener(),this.clearTimeouts(),super.ngOnDestroy()}onWindowScroll(){this.hasBeenFiredOnce||(this.hasBeenFiredOnce=!0,this.removeScrollListener(),this.waitingTimeout=setTimeout(()=>{this.toastIsHot=!0,this.displayTimeout=setTimeout(()=>{this.toastIsHot=!1},7e3)},5e3))}removeScrollListener(){this.isBrowser&&this.onWindowScrollBinded&&window.removeEventListener(this.scrollEventName,this.onWindowScrollBinded)}addScrollListener(){if(this.isBrowser){const s=this.scrollService.testWindowSupportsPassiveEvents();this.onWindowScrollBinded=this.onWindowScroll.bind(this),window.addEventListener(this.scrollEventName,this.onWindowScrollBinded,{once:!0,passive:s})}}clearTimeouts(){clearTimeout(this.waitingTimeout),clearTimeout(this.displayTimeout)}openDiv(){const s=this.deal;s&&this.deal&&(s.isCashback&&this.template!==this.TemplateEnum.widilo?(this.deal.isCollapsed=!0,this.outService.out(!1,s.shopId,s.shopRouteName,s.id,!1,!1,void 0,void 0,void 0,void 0,!0)):s.isTraffic&&this.template!==this.TemplateEnum.widilo?(this.deal.isCollapsed=!0,this.outService.out(!1,s.shopId,s.shopRouteName,s.id,!1,!0)):this.dealService.openDeal(this.baseUrl,this.shopRoute,s.shopRouteName,s.id,s.coupon,s.shopId,s.isCashback))}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(e.zs3),e.Y36(e.Lbi),e.Y36(W.q),e.Y36(J.w),e.Y36(R.q),e.Y36(F.F0),e.Y36(f.sK),e.Y36(Oe.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{deal:"deal"},features:[e.qOj],decls:0,vars:0,template:function(s,n){},encapsulation:2}),o})();function Si(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.Gre("",t.concatwebsitename,"-toast-deal_left_text"),e.xp6(1),e.Oqu(e.lcZ(2,4,"Toast.Deal With Value"))}}function Ti(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.YNc(3,Si,3,6,"span",4),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Gre("",t.concatwebsitename,"-toast-deal_left_value"),e.xp6(1),e.Oqu(t.deal.dealValue),e.xp6(1),e.Q6J("ngIf",null==t.deal?null:t.deal.coupon)}}function Bi(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-toast-deal_left_value-text"),e.xp6(1),e.Oqu(e.lcZ(2,4,"Toast.Deal No Value"))}}const ki=function(i,o){return{"toast-deal--visible":i,"toast-deal--bottombar":o}},yi=function(i){return{shopName:i}};function Ii(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",1),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openDiv())}),e.TgZ(1,"span"),e.YNc(2,Ti,4,5,"ng-container",2),e.YNc(3,Bi,3,6,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"span"),e._uU(6,"\xa0"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA()()}if(2&i){const t=e.MAs(4),s=e.oxw();e.Gre("",s.concatwebsitename,"-toast-deal"),e.Q6J("ngClass",e.WLB(19,ki,s.toastIsHot,s.toastIsHot&&s.isBottomBarVisible)),e.xp6(1),e.Gre("",s.concatwebsitename,"-toast-deal_left"),e.xp6(1),e.Q6J("ngIf",null==s.deal?null:s.deal.dealValue)("ngIfElse",t),e.xp6(3),e.Gre("",s.concatwebsitename,"-toast-deal_separator"),e.xp6(2),e.Gre("",s.concatwebsitename,"-toast-deal_right"),e.xp6(1),e.hij(" ",e.xi3(9,16,"Toast.Deal Text: var = shopName",e.VKq(22,yi,s.deal.shopName))," ")}}let Ni=(()=>{var i;class o extends xi{constructor(s,n,a,u,l,d,g,A,B){super(s,n,a,u,l,d,g,B),this.injector=s,this.dealService=a,this.clickService=u,this.outService=l,this.router=d,this.topbarService=A,this.scrollService=B,this.isBottomBarVisible=!1}ngOnInit(){super.ngOnInit(),this.topbarService.getTopBar(s=>{this.isBottomBarVisible=!!s},this.ngUnsubscribe)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(e.zs3),e.Y36(e.Lbi),e.Y36(W.q),e.Y36(J.w),e.Y36(R.q),e.Y36(F.F0),e.Y36(f.sK),e.Y36(ee.F),e.Y36(Oe.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["t2-toast-deal"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"ngClass","class","click",4,"ngIf"],[3,"ngClass","click"],[4,"ngIf","ngIfElse"],["noValue",""],[3,"class",4,"ngIf"]],template:function(s,n){1&s&&e.YNc(0,Ii,10,24,"span",0),2&s&&e.Q6J("ngIf",n.deal)},dependencies:[m.mk,m.O5,f.X$],encapsulation:2}),o})();var Re=c(8798);let Zi=(()=>{var i;class o extends h.H{constructor(s,n,a,u,l,d){var g;super(d),this.formBuilder=s,this.cdr=n,this.http=a,this.transferData=l,this.siteKey="",this.webSiteName="",this.isBrowser=!1,this.isClickOnSignUpNewsLetter=!1,this.hasAlreadySignUpNewsLetter=!1,this.isPrivacyPolicyVisible=!1,this.isBrowser=(0,m.NF)(u),this.newsletterPartner=this.transferData.newsletterPartner,this.siteKey=null===(g=this.newsletterPartner)||void 0===g?void 0:g.siteKey}signUpNewsLetter(){this.isClickOnSignUpNewsLetter=!this.isClickOnSignUpNewsLetter,this.isBrowser&&(this.aFormGroup=this.formBuilder.group({recaptcha:["",C.kI.required],email:new C.p4("",[C.kI.required,this.emailValidator])}))}showPrivacyPolicy(){var s;null!==(s=this.newsletterPartner)&&void 0!==s&&s.privacyPolicyUrl&&!1===this.isPrivacyPolicyVisible&&(this.isPrivacyPolicyVisible=!0)}onSubmit(){if(this.aFormGroup){if(this.aFormGroup.invalid)return;if(this.newsletterPartner&&this.newsletterPartner.url){const s=this.aFormGroup.controls,n=new FormData;n.set("email",s.email.value),n.set("accName",this.newsletterPartner.accName),n.set("listName",this.newsletterPartner.listName),n.set("successUrl",this.newsletterPartner.successUrl),n.set("errorUrl",this.newsletterPartner.errorUrl),n.set("Source",this.newsletterPartner.source),this.http.post(this.newsletterPartner.url,n).subscribe(u=>{this.hasAlreadySignUpNewsLetter=!0,this.isClickOnSignUpNewsLetter=!1},u=>{this.hasAlreadySignUpNewsLetter=!0,this.isClickOnSignUpNewsLetter=!1})}}}emailValidator(s){if(!s||!s.value||!s.value.length)return null;const n=s.value.trim();return n&&n.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?null:{invalidEmailAddress:!0}}handleReset(){this.cdr.detectChanges()}handleSuccess(s){this.cdr.detectChanges()}handleLoad(){this.cdr.detectChanges()}handleExpire(){this.cdr.detectChanges()}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(C.QS),e.Y36(e.sBO),e.Y36(Re.eN),e.Y36(e.Lbi),e.Y36(S.yU),e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{webSiteName:"webSiteName"},features:[e.qOj],decls:0,vars:0,template:function(s,n){},encapsulation:2}),o})();const Oi=["captchaWrapperElem"];let Q=(()=>{class i{constructor(t){this.zone=t,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(t,s,n,a){if(this.grecaptchaScriptLoaded(t.useEnterprise))return void this.zone.run(t.useEnterprise?()=>{n(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{n(window[this.windowGrecaptcha])});t.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(n.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(n.bind(this,window[this.windowGrecaptcha]));const u=document.createElement("script");u.id=this.scriptElemId,u.innerHTML="",u.src=this.getCaptchaScriptUrl(t,s,a),u.async=!0,u.defer=!0,document.getElementsByTagName("head")[0].appendChild(u)}cleanup(){const t=document.getElementById(this.scriptElemId);t&&t.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(t){return!!(window[this.getCallbackName(t)]&&window[this.windowGrecaptcha]&&(t&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(t){return t?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(t){return t?`&hl=${t}`:""}getCaptchaScriptUrl(t,s,n){return`https://www.${t.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${t.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(t.useEnterprise)}&render=${s}${this.getLanguageParam(n)}`}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.R0b))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ri=(()=>{class i{constructor(t,s,n,a){this.renderer=t,this.zone=s,this.injector=n,this.scriptService=a,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new e.vpe,this.load=new e.vpe,this.reset=new e.vpe,this.ready=new e.vpe,this.error=new e.vpe,this.expire=new e.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.onChange=u=>{},this.onTouched=u=>{},this.isLoaded=!1}ngAfterViewInit(){var t;this.control=null===(t=this.injector.get(C.a5,void 0,e.XFs.Optional))||void 0===t?void 0:t.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(t){t&&t.hl&&!t.hl.firstChange&&t.hl.currentValue!==t.hl.previousValue&&this.scriptService.cleanup(),t&&t.useGlobalDomain&&!t.useGlobalDomain.firstChange&&t.useGlobalDomain.currentValue!==t.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(t){const s=document.getElementById(t);if(!s)throw Error(`Captcha element with id '${t}' was not found`);this.captchaElem=s}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(t){this.currentResponse=t,this.success.next(t),this.zone.run(()=>{this.onChange(t),this.onTouched(t)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",t=>{this.onloadCallback(t)},this.hl)}onloadCallback(t){if(this.reCaptchaApi=t,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const t=this.renderer.createElement("div");t.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,t),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(t){}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.zs3),e.Y36(Q))},i.\u0275dir=e.lG2({type:i,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[e.TTD]}),i})();var z=(()=>{return(i=z||(z={}))[i.InvisibleReCaptcha=0]="InvisibleReCaptcha",i[i.ReCaptcha2=1]="ReCaptcha2",z;var i})();let Ui=(()=>{class i extends Ri{constructor(t,s,n,a){super(t,s,n,a),this.renderer=t,this.zone=s,this.injector=n,this.scriptService=a,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=z.ReCaptcha2}ngOnChanges(t){super.ngOnChanges(t)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:t=>this.zone.run(()=>this.handleCallback(t)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.zs3),e.Y36(Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngx-recaptcha2"]],viewQuery:function(t,s){if(1&t&&e.Gf(Oi,5),2&t){let n;e.iGM(n=e.CRH())&&(s.captchaWrapperElem=n.first)}},inputs:{theme:"theme",size:"size"},features:[e._Bn([{provide:C.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}]),e.qOj,e.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(t,s){1&t&&e._UZ(0,"div",null,0)},encapsulation:2}),i})(),Pi=(()=>{class i{constructor(t,s){this.scriptService=t,this.zone=s}execute(t,s,n,a,u){this.executeAsPromise(t,s,a).then(n).catch(l=>u?u(l):console.error(l))}executeAsPromise(t,s,n){return new Promise((a,u)=>{this.scriptService.registerCaptchaScript(n||{},t,g=>{this.zone.runOutsideAngular(()=>{try{g.execute(t,{action:s}).then(A=>this.zone.run(()=>a(A)))}catch(A){u(A)}})})})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Q),e.LFG(e.R0b))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Li=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Q,Pi],imports:[m.ez]}),i})();const Ue=function(i){return{webSiteName:i}};function Yi(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",8),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.signUpNewsLetter())}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Gre("",t.concatwebsitename,"-title-sign-up"),e.xp6(1),e.Oqu(e.xi3(3,8,"Shop.SignUp Newsletter Title: var = webSiteName",e.VKq(13,Ue,t.webSiteName))),e.xp6(2),e.Gre("btn ",t.concatwebsitename,"-btn-sign-up"),e.xp6(1),e.hij(" ",e.lcZ(6,11,"Shop.SignUp Newsletter Button")," ")}}function Vi(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.Gre("",t.concatwebsitename,"-title-sign-up"),e.xp6(1),e.Oqu(e.xi3(2,4,"Shop.SignUp Newsletter Thanks Title: var = webSiteName",e.VKq(7,Ue,t.webSiteName)))}}function qi(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Yi,7,15,"ng-container",5),e.YNc(2,Vi,3,9,"ng-template",null,7,e.W1O),e.BQk()),2&i){const t=e.MAs(3),s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!s.hasAlreadySignUpNewsLetter)("ngIfElse",t)}}function Mi(i,o){if(1&i&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"a",15),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&i){const t=e.oxw(4);e.Gre("",t.concatwebsitename,"-sign-up_privacy-policy mt-1"),e.xp6(2),e.Oqu(e.lcZ(3,7,"Shop.SignUp Newsletter PrivacyPolicy Before")),e.xp6(2),e.Q6J("href",t.newsletterPartner.privacyPolicyUrl,e.LSH),e.xp6(1),e.Oqu(e.lcZ(6,9,"Shop.SignUp Newsletter PrivacyPolicy")),e.xp6(3),e.Oqu(e.lcZ(9,11,"Shop.SignUp Newsletter PrivacyPolicy After"))}}function Gi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.onSubmit())}),e.TgZ(1,"input",11),e.NdJ("focus",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.showPrivacyPolicy())}),e.qZA(),e.TgZ(2,"ngx-recaptcha2",12),e.NdJ("reset",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.handleReset())})("expire",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.handleExpire())})("load",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.handleLoad())})("success",function(n){e.CHM(t);const a=e.oxw(3);return e.KtG(a.handleSuccess(n))}),e.qZA(),e.YNc(3,Mi,10,13,"div",13),e.TgZ(4,"button",14),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.Q6J("formGroup",t.aFormGroup),e.xp6(1),e.Gre("",t.concatwebsitename,"-input-email-sign-up"),e.xp6(1),e.Q6J("siteKey",t.siteKey)("useGlobalDomain",!1)("size","normal")("hl","en")("theme","light"),e.xp6(1),e.Q6J("ngIf",t.newsletterPartner&&t.newsletterPartner.privacyPolicyUrl&&t.isPrivacyPolicyVisible),e.xp6(1),e.Gre("btn ",t.concatwebsitename,"-btn-sign-up"),e.Q6J("disabled",!t.aFormGroup.valid),e.xp6(1),e.Oqu(e.lcZ(6,15,"Shop.SignUp Newsletter Button"))}}function Ji(i,o){if(1&i&&e.YNc(0,Gi,7,17,"form",9),2&i){const t=e.oxw(2);e.Q6J("ngIf",t.isBrowser&&t.aFormGroup)}}function Qi(i,o){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div"),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"div",4),e.YNc(5,qi,4,2,"ng-container",5),e.YNc(6,Ji,1,1,"ng-template",null,6,e.W1O),e.qZA()()),2&i){const t=e.MAs(7),s=e.oxw();e.xp6(2),e.Gre("d-flex justify-content-center align-items-center ",s.concatwebsitename,"-envelop-sign-up"),e.xp6(2),e.Q6J("ngClass",s.isClickOnSignUpNewsLetter?"d-flex justify-content-center d-sm-block":"d-flex flex-column align-items-center justify-content-center"),e.xp6(1),e.Q6J("ngIf",!s.isClickOnSignUpNewsLetter)("ngIfElse",t)}}let zi=(()=>{var i;class o extends Zi{constructor(s,n,a,u,l,d){super(s,n,a,u,l,d),this.transferData=l}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(C.QS),e.Y36(e.sBO),e.Y36(Re.eN),e.Y36(e.Lbi),e.Y36(S.yU),e.Y36(f.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["t2-sign-up-newsletter"]],features:[e.qOj],decls:1,vars:1,consts:[["class","row","style","margin-bottom:15px;margin-top:20px;",4,"ngIf"],[1,"row",2,"margin-bottom","15px","margin-top","20px"],[1,"d-none","d-sm-flex","col-4","offset-0","col-sm-3","offset-sm-0","col-md-3","col-lg-2","offset-lg-2","justify-content-center","align-items-center"],["aria-hidden","true",1,"far","fa-envelope","fa-3x"],[1,"col-12","offset-0","col-sm-9","offset-sm-0","col-md-8","offset-md-0","col-lg-6","offset-lg-0",3,"ngClass"],[4,"ngIf","ngIfElse"],["formSignUpNewsLetter",""],["displayThanksMessage",""],[3,"click"],["class","d-flex flex-column",3,"formGroup","ngSubmit",4,"ngIf"],[1,"d-flex","flex-column",3,"formGroup","ngSubmit"],["type","email","name","email","formControlName","email","placeholder","Email",3,"focus"],["formControlName","recaptcha",3,"siteKey","useGlobalDomain","size","hl","theme","reset","expire","load","success"],[3,"class",4,"ngIf"],["type","submit",3,"disabled"],["target","_blank","rel","noopener",3,"href"]],template:function(s,n){1&s&&e.YNc(0,Qi,8,6,"div",0),2&s&&e.Q6J("ngIf",n.webSiteName)},dependencies:[m.mk,m.O5,C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,Ui,f.X$],encapsulation:2}),o})();function ji(i,o){if(1&i&&e._UZ(0,"json-ld",9),2&i){const t=e.oxw();e.Q6J("json",t.schema)}}function $i(i,o){if(1&i&&(e._UZ(0,"img",15),e.ALo(1,"translate")),2&i){const t=e.oxw(2);e.hYB("alt","",e.lcZ(1,6,"Common.Alt Image Logo")," ",t.shop.name,""),e.Q6J("defaultImage",t.shop.logo.placeholder)("lazyLoad",t.shop.logo.url)("width",t.shop.logo.width)("height",t.shop.logo.height)}}function Wi(i,o){if(1&i){const t=e.EpF();e.ynx(0),e._UZ(1,"span",19),e.TgZ(2,"t2-deal",20),e.NdJ("change",function(){e.CHM(t);const n=e.oxw(4);return e.KtG(n.scrollWhenAllDealsReady())}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("id",t.id),e.xp6(1),e.Q6J("deal",t)("isShop",!0)("cashbackWebsiteDomain",s.shop.cashbackWebsiteDomain)("isDealOfferActive",s.shop.isDealOfferActive)("isDealCouponActive",s.shop.isDealCouponActive)}}function Hi(i,o){if(1&i&&e._UZ(0,"t2-sign-up-newsletter",22),2&i){const t=e.oxw(5);e.Q6J("webSiteName",t.webSiteName)}}function Ki(i,o){if(1&i&&e.YNc(0,Hi,1,1,"t2-sign-up-newsletter",21),2&i){const t=e.oxw(4);e.Q6J("ngIf",t.webSiteName)}}function Xi(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Wi,3,6,"ng-container",17),e.YNc(2,Ki,1,1,"ng-template",null,18,e.W1O),e.qZA()),2&i){const t=o.$implicit,s=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!t.isSignUpNewsletter)("ngIfElse",s)}}function es(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Xi,4,2,"div",16),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.filterDeals)}}function ts(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"span",19),e.TgZ(2,"t2-deal",23),e.NdJ("change",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.scrollWhenAllDealsReady())}),e.qZA()()}if(2&i){const t=o.$implicit,s=e.oxw(3);e.xp6(1),e.Q6J("id",t.id),e.xp6(1),e.Q6J("deal",t)("isShop",!0)("isExpired",!0)("isDealOfferActive",s.shop.isDealOfferActive)("isDealCouponActive",s.shop.isDealCouponActive)}}const is=function(i){return{shopName:i}};function ss(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,ts,3,6,"div",16),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Gre("",t.concatwebsitename,"-subtitle-shop-mobile mb-1"),e.xp6(1),e.Oqu(e.xi3(3,5,"Shop.Expired Deal: var = shopName",e.VKq(8,is,t.shop.name))),e.xp6(2),e.Q6J("ngForOf",t.shop.expiredDeals)}}function ns(i,o){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e.YNc(3,$i,2,8,"img",13),e.qZA(),e.TgZ(4,"div",14)(5,"h1"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"h2"),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.YNc(11,es,2,1,"ng-container",7),e.YNc(12,ss,5,10,"ng-container",7),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.shop.logo),e.xp6(2),e.Gre("",t.concatwebsitename,"-title-shop-mobile"),e.xp6(1),e.Oqu(e.xi3(7,11,"Shop.Promo Code: var = shopName, monthName, year, numberOfDeals",t.paramPromoCode)),e.xp6(2),e.Gre("",t.concatwebsitename,"-subtitle-shop-mobile"),e.xp6(1),e.Oqu(e.xi3(10,14,"Shop.Reduction Code: var = shopName, monthName, year, numberOfDeals",t.paramReductionCode)),e.xp6(2),e.Q6J("ngIf",t.filterDeals&&t.filterDeals.length>0),e.xp6(1),e.Q6J("ngIf",t.shop.expiredDeals&&t.shop.expiredDeals.length>0)}}function as(i,o){if(1&i&&(e.TgZ(0,"div",38)(1,"a",39),e.ALo(2,"translate"),e._UZ(3,"i",40),e.qZA(),e.TgZ(4,"a",41),e.ALo(5,"translate"),e._UZ(6,"i",42),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hYB("href","",t.webSiteConfiguration.adminurl,"/Shops/Edit/",t.shop.id,"",e.LSH),e.s9C("title",e.lcZ(2,6,"Shop.Edit")),e.xp6(3),e.hYB("href","",t.webSiteConfiguration.adminurl,"/Shops/Details/",t.shop.id,"",e.LSH),e.s9C("title",e.lcZ(5,8,"Shop.Details"))}}function os(i,o){if(1&i&&(e._UZ(0,"img",43),e.ALo(1,"translate")),2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-deal-shop-logo mx-4 mt-1 mb-1"),e.hYB("alt","",e.lcZ(1,9,"Common.Alt Image Logo")," ",t.shop.name,""),e.Q6J("defaultImage",t.shop.logo.placeholder)("lazyLoad",t.shop.logo.url)("width",t.shop.logo.width)("height",t.shop.logo.height)}}function rs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",44),e.NdJ("click",function(){const a=e.CHM(t).index,u=e.oxw(2);return e.KtG(u.cookieExists?"":u.markAndSave(a))}),e.qZA()}if(2&i){const t=o.index,s=e.oxw(2);e.Q6J("ngClass",s.getStarIconClassForShopRatingFromClick(t))}}function us(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"label",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.openOnlyDealCodes())}),e._UZ(1,"input",46)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-container-checkbox"),e.xp6(2),e.Gre("",t.concatwebsitename,"-checkmark"),e.xp6(1),e.AsE(" ",e.lcZ(4,8,"Shop.Badge Code")," (",t.nbDealCodes,") ")}}function ls(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"label",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.openOnlyDealWithoutCodes())}),e._UZ(1,"input",48)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-container-checkbox"),e.xp6(2),e.Gre("",t.concatwebsitename,"-checkmark"),e.xp6(1),e.AsE(" ",e.lcZ(4,8,"Shop.Badge Offer")," (",t.nbDealWithoutCodes,") ")}}function cs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"label",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.openOnlyCashback())}),e._UZ(1,"input",50)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-container-checkbox"),e.xp6(2),e.Gre("",t.concatwebsitename,"-checkmark"),e.xp6(1),e.AsE(" ",e.lcZ(4,8,"Shop.Badge Cashback")," (",t.nbDealCashback,") ")}}function hs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"label",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.openOnlyVoucher())}),e._UZ(1,"input",52)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Gre("",t.concatwebsitename,"-container-checkbox"),e.xp6(2),e.Gre("",t.concatwebsitename,"-checkmark"),e.xp6(1),e.AsE(" ",e.lcZ(4,8,"Deal.Voucher Badge")," (",t.nbDealVoucher,") ")}}function Ds(i,o){if(1&i&&e._UZ(0,"t2-shop-short-description",53),2&i){const t=e.oxw(2);e.Q6J("paragraphs",t.shop.shortDescriptionParagraphs)}}function ps(i,o){if(1&i&&(e.TgZ(0,"div")(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",54),e._UZ(5,"t2-bulk-shops",55),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Gre("",t.concatwebsitename,"-sidebar-widget-title"),e.xp6(1),e.Oqu(e.lcZ(3,6,"Common.Similar Shops")),e.xp6(3),e.Q6J("isShop",!0)("bulkShops",t.shop.similarShops)}}function ds(i,o){if(1&i&&(e.TgZ(0,"div",56),e._UZ(1,"t2-toast-deal",57),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("deal",t.toastDeal)}}function ms(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",24),e.YNc(2,as,7,10,"div",25),e.YNc(3,os,2,11,"img",26),e._UZ(4,"br"),e.YNc(5,rs,1,1,"i",27),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",28)(10,"p",29)(11,"b"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"label",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAllDeals())}),e._UZ(15,"input",31)(16,"span"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,us,5,10,"label",32),e.YNc(20,ls,5,10,"label",33),e.YNc(21,cs,5,10,"label",34),e.YNc(22,hs,5,10,"label",35),e.qZA(),e.YNc(23,Ds,1,1,"t2-shop-short-description",36),e.TgZ(24,"div",29),e._UZ(25,"t2-deal-side-bar"),e.qZA(),e.TgZ(26,"div"),e._UZ(27,"t2-event-side-bar"),e.qZA(),e.TgZ(28,"div"),e._UZ(29,"t2-page-sidebar"),e.qZA(),e.YNc(30,ps,6,8,"div",7),e.YNc(31,ds,2,1,"div",37),e.qZA()}if(2&i){const t=e.oxw();e.Gre("",t.concatwebsitename,"-shop-short-description"),e.xp6(1),e.MT6("",t.concatwebsitename,"-deal-container text-center no-mb d-none d-lg-block ",t.concatwebsitename,"-note-container"),e.xp6(1),e.Q6J("ngIf",t.isAdminExtensionInstalled&&t.webSiteConfiguration&&t.webSiteConfiguration.adminurl),e.xp6(1),e.Q6J("ngIf",t.shop.logo),e.xp6(2),e.Q6J("ngForOf",t.stars),e.xp6(2),e.Oqu(e.xi3(8,27,"Shop.Note Result: var = averageNote, totalNotes",t.paramNoteResult)),e.xp6(5),e.hij("",e.lcZ(13,30,"Shop.Title Badge")," "),e.xp6(2),e.Gre("",t.concatwebsitename,"-container-checkbox"),e.xp6(2),e.Gre("",t.concatwebsitename,"-checkmark"),e.xp6(1),e.AsE(" ",e.lcZ(18,32,"Shop.Badge All")," (",t.nbDeals,") "),e.xp6(2),e.Q6J("ngIf",t.nbDealCodes>0),e.xp6(1),e.Q6J("ngIf",t.nbDealWithoutCodes>0),e.xp6(1),e.Q6J("ngIf",t.shop.isCashback),e.xp6(1),e.Q6J("ngIf",t.shop.isVoucher),e.xp6(1),e.Q6J("ngIf",t.shop.shortDescriptionParagraphs&&t.shop.shortDescriptionParagraphs.length>0),e.xp6(7),e.Q6J("ngIf",t.shop.similarShops.length>0),e.xp6(1),e.Q6J("ngIf",!t.dealActiveId&&t.toastDeal)}}const gs=function(){return["./"]};function fs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"a",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.scrollToFragment(n.anchor))}),e._uU(2),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("fragment",t.anchor),e.Q6J("routerLink",e.DdM(3,gs)),e.xp6(1),e.Oqu(t.title)}}function Cs(i,o){if(1&i&&(e.ynx(0),e.YNc(1,fs,3,4,"li",7),e.BQk()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.title)}}function Fs(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div")(2,"h2"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ul",58),e.YNc(6,Cs,2,1,"ng-container",16),e.qZA()(),e._UZ(7,"t2-paragraphs",53),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Gre("",t.concatwebsitename,"-shop-description-summary"),e.xp6(1),e.Gre("",t.concatwebsitename,"-title-responsive no-mb"),e.xp6(1),e.Oqu(e.lcZ(4,11,"Shop.Summary")),e.xp6(2),e.ekj("shop-description-summary-split",t.shop.paragraphs.length>5),e.xp6(1),e.Q6J("ngForOf",t.shop.paragraphs),e.xp6(1),e.Q6J("paragraphs",t.shop.paragraphs)}}function _s(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"t2-shop-recent-deals",60),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Gre("",t.concatwebsitename,"-title-responsive-h2"),e.xp6(1),e.Oqu(e.xi3(3,5,"Shop.Recent Deals: var = shopName",t.paramRecentDeals)),e.xp6(2),e.Q6J("deals",t.shop.recentDeals)}}function vs(i,o){if(1&i&&(e.ynx(0),e._UZ(1,"section-faq",61),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("faqs",t.shop.frequentlyAskedQuestions)("title",t.shop.name)}}function As(i,o){if(1&i&&(e.TgZ(0,"div",62)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"t2-bulk-shops",63),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Gre("",t.concatwebsitename,"-title-responsive-h2"),e.xp6(1),e.Oqu(e.lcZ(3,5,"Common.Moment Shops")),e.xp6(2),e.Q6J("bulkShops",t.momentShops)}}const Es=[{path:"",component:(()=>{var i;class o extends Pt{constructor(s,n,a,u,l,d,g,A,B,U,P,ie,se,ne,ae,oe,re,ue,le,ce,he,De,pe,de,me,ge,fe,Ce,Fe,_e,ve){super(s,n,a,u,l,d,g,A,B,U,P,ie,se,ne,ae,oe,re,ue,le,ce,he,De,pe,me,de,ge,fe,Ce,Fe,_e),this.template2InterstitialService=ve}openInterstitialDeal(s){this.shop&&this.template2InterstitialService.openInterstitialDealDialog(this.viewRef,this.shop,this.concatwebsitename,s)}}return(i=o).\u0275fac=function(s){return new(s||i)(e.Y36(F.gz),e.Y36(F.F0),e.Y36(E.d),e.Y36(Ee.W),e.Y36(e.Lbi),e.Y36(m.K0),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36($.N),e.Y36(e.zs3),e.Y36(q.W),e.Y36(be.l),e.Y36(e.s_b),e.Y36(we.h),e.Y36(G),e.Y36(J.w),e.Y36(Z.e),e.Y36(Be.H7),e.Y36(K.z),e.Y36(ke.W),e.Y36(O.m),e.Y36(ee.F),e.Y36(ye.v),e.Y36(e.R0b),e.Y36(M.$),e.Y36(R.q),e.Y36(X.V),e.Y36(Ie.E),e.Y36(f.sK),e.Y36(Ne.d),e.Y36(Ze))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mirror-discounts-shop"]],features:[e.qOj],decls:13,vars:7,consts:[[3,"json",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],["class","col-lg-8 order-lg-12 order-md-1 order-sm-1 order-1",4,"ngIf"],[1,"col-lg-4","order-lg-1","order-md-12","order-sm-12","order-12"],[3,"class",4,"ngIf"],[4,"ngIf"],["class","col-md-12",4,"ngIf"],[3,"json"],[1,"col-lg-8","order-lg-12","order-md-1","order-sm-1","order-1"],[1,"d-flex","justify-content-start","align-items-stretch","mb-2"],[1,"d-lg-none","d-flex","justify-content-center","align-items-center",2,"max-width","150px","border-radius","20px","padding","5px","background-color","white","margin-right","10px"],["style","width: 100%; height: auto; background-color: white; ",3,"defaultImage","lazyLoad","width","height","alt",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center"],[2,"width","100%","height","auto","background-color","white",3,"defaultImage","lazyLoad","width","height","alt"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["signUpNewsletter",""],[1,"anchor_deal",3,"id"],[3,"deal","isShop","cashbackWebsiteDomain","isDealOfferActive","isDealCouponActive","change"],[3,"webSiteName",4,"ngIf"],[3,"webSiteName"],[3,"deal","isShop","isExpired","isDealOfferActive","isDealCouponActive","change"],[2,"border-radius","15px","cursor","default"],["style","position:absolute; z-index:500",4,"ngIf"],[3,"defaultImage","lazyLoad","width","height","alt","class",4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-none","d-lg-block"],[1,"mt-2"],["for","filterAll",3,"click"],["type","radio","name","radio","id","filterAll","checked","checked"],["for","filterCode",3,"class","click",4,"ngIf"],["for","filterOffer",3,"class","click",4,"ngIf"],["for","filterCashback",3,"class","click",4,"ngIf"],["for","filterVoucher",3,"class","click",4,"ngIf"],[3,"paragraphs",4,"ngIf"],["class","position-relative d-none d-lg-block",4,"ngIf"],[2,"position","absolute","z-index","500"],["target","_blank","rel","noopener",1,"btn-admin","btn-admin-edit",3,"href","title"],[1,"fa-solid","fa-pencil"],["target","_blank","rel","noopener",1,"btn-admin","btn-admin-details",3,"href","title"],[1,"fa-solid","fa-eye"],[3,"defaultImage","lazyLoad","width","height","alt"],[3,"ngClass","click"],["for","filterCode",3,"click"],["type","radio","name","radio","id","filterCode"],["for","filterOffer",3,"click"],["type","radio","name","radio","id","filterOffer"],["for","filterCashback",3,"click"],["type","radio","name","radio","id","filterCashback"],["for","filterVoucher",3,"click"],["type","radio","name","radio","id","filterVoucher"],[3,"paragraphs"],[1,"mb-1"],[3,"isShop","bulkShops"],[1,"position-relative","d-none","d-lg-block"],[3,"deal"],[1,"list-unstyled"],[3,"routerLink","fragment","click"],[3,"deals"],[3,"faqs","title"],[1,"col-md-12"],[3,"bulkShops"]],template:function(s,n){1&s&&(e.YNc(0,ji,1,1,"json-ld",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2),e._UZ(5,"t2-ad-side-bars"),e.YNc(6,ns,13,17,"div",4),e.TgZ(7,"div",5),e.YNc(8,ms,32,34,"div",6),e.qZA()()()(),e.YNc(9,Fs,8,13,"div",7),e.YNc(10,_s,5,8,"ng-container",7),e.YNc(11,vs,2,2,"ng-container",7),e.YNc(12,As,5,7,"div",8),e.qZA()),2&s&&(e.Q6J("ngIf",n.schema),e.xp6(6),e.Q6J("ngIf",n.shop),e.xp6(2),e.Q6J("ngIf",n.shop),e.xp6(1),e.Q6J("ngIf",n.shop&&n.shop.paragraphs&&n.shop.paragraphs.length>0),e.xp6(1),e.Q6J("ngIf",n.shop&&n.shop.displayRecentDeals&&n.shop.recentDeals&&n.shop.recentDeals.length>0),e.xp6(1),e.Q6J("ngIf",n.shop&&n.shop.displayFrequentlyAskedQuestion&&n.shop.frequentlyAskedQuestions&&n.shop.frequentlyAskedQuestions.length>0),e.xp6(1),e.Q6J("ngIf",n.momentShops&&n.momentShops.length>0))},dependencies:[m.mk,m.sg,m.O5,F.rH,H.z1,Yt.W,Vt.I,qt.X,Mt.N,Gt._,Jt.Y,Qt.A,zt.e,ii,hi,Ei,Ni,zi,f.X$],encapsulation:2}),o})()}];let bs=(()=>{var i;class o{}return(i=o).\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[F.Bz.forChild(Es),F.Bz]}),o})();var ws=c(8394),xs=c(5597),Ss=c(1980);let Ts=(()=>{var i;class o{}return(i=o).\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[te],imports:[m.ez,V.m,Ss.S]}),o})(),Bs=(()=>{var i;class o{}return(i=o).\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[G,Ze],imports:[m.ez,bs,V.m,j.W,k.d,Y.Q,w.H,L.T,N.B,ws.L,xs.z,C.UX,Li,Ts]}),o})()},7599:function(Ae,I){var c,N;c=function(w){Array.prototype.map||(Array.prototype.map=function(h){"use strict";if(null==this)throw new TypeError;var p=Object(this),D=p.length>>>0;if("function"!=typeof h)throw new TypeError;for(var v=new Array(D),S=arguments.length>=2?arguments[1]:void 0,E=0;E<D;E++)E in p&&(v[E]=h.call(S,p[E],E,p));return v});var k="A".charCodeAt(0),j="Z".charCodeAt(0);function L(h){return(h=(h=h.toUpperCase()).substr(4)+h.substr(0,4)).split("").map(function(p){var D=p.charCodeAt(0);return D>=k&&D<=j?D-k+10:p}).join("")}function Y(h){for(var D,p=h;p.length>2;)D=p.slice(0,9),p=parseInt(D,10)%97+p.slice(D.length);return parseInt(p,10)%97}function F(h){return h.replace(y,"").toUpperCase()}function e(h,p,D,v){this.countryCode=h,this.length=p,this.structure=D,this.example=v}e.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=function V(h){var p=h.match(/(.{3})/g).map(function(D){var v,S=D.slice(0,1),E=parseInt(D.slice(1),10);switch(S){case"A":v="0-9A-Za-z";break;case"B":v="0-9A-Z";break;case"C":v="A-Za-z";break;case"F":v="0-9";break;case"L":v="a-z";break;case"U":v="A-Z";break;case"W":v="0-9a-z"}return"(["+v+"]{"+E+"})"});return new RegExp("^"+p.join("")+"$")}(this.structure))},e.prototype.isValid=function(h){return this.length==h.length&&this.countryCode===h.slice(0,2)&&this._regex().test(h.slice(4))&&1==Y(L(h))},e.prototype.toBBAN=function(h,p){return this._regex().exec(h.slice(4)).slice(1).join(p)},e.prototype.fromBBAN=function(h){if(!this.isValidBBAN(h))throw new Error("Invalid BBAN");var D=("0"+(98-Y(L(this.countryCode+"00"+h)))).slice(-2);return this.countryCode+D+h},e.prototype.isValidBBAN=function(h){return this.length-4==h.length&&this._regex().test(h)};var x={};function r(h){x[h.countryCode]=h}r(new e("AD",24,"F04F04A12","AD1200012030200359100100")),r(new e("AE",23,"F03F16","AE070331234567890123456")),r(new e("AL",28,"F08A16","AL47212110090000000235698741")),r(new e("AT",20,"F05F11","AT611904300234573201")),r(new e("AZ",28,"U04A20","AZ21NABZ00000000137010001944")),r(new e("BA",20,"F03F03F08F02","BA391290079401028494")),r(new e("BE",16,"F03F07F02","BE68539007547034")),r(new e("BG",22,"U04F04F02A08","BG80BNBG96611020345678")),r(new e("BH",22,"U04A14","BH67BMAG00001299123456")),r(new e("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1")),r(new e("BY",28,"A04F04A16","BY13NBRB3600900000002Z00AB00")),r(new e("CH",21,"F05A12","CH9300762011623852957")),r(new e("CR",22,"F04F14","CR72012300000171549015")),r(new e("CY",28,"F03F05A16","CY17002001280000001200527600")),r(new e("CZ",24,"F04F06F10","CZ6508000000192000145399")),r(new e("DE",22,"F08F10","DE89370400440532013000")),r(new e("DK",18,"F04F09F01","DK5000400440116243")),r(new e("DO",28,"U04F20","DO28BAGR00000001212453611324")),r(new e("EE",20,"F02F02F11F01","EE382200221020145685")),r(new e("EG",29,"F04F04F17","EG800002000156789012345180002")),r(new e("ES",24,"F04F04F01F01F10","ES9121000418450200051332")),r(new e("FI",18,"F06F07F01","FI2112345600000785")),r(new e("FO",18,"F04F09F01","FO6264600001631634")),r(new e("FR",27,"F05F05A11F02","FR1420041010050500013M02606")),r(new e("GB",22,"U04F06F08","GB29NWBK60161331926819")),r(new e("GE",22,"U02F16","GE29NB0000000101904917")),r(new e("GI",23,"U04A15","GI75NWBK000000007099453")),r(new e("GL",18,"F04F09F01","GL8964710001000206")),r(new e("GR",27,"F03F04A16","GR1601101250000000012300695")),r(new e("GT",28,"A04A20","GT82TRAJ01020000001210029690")),r(new e("HR",21,"F07F10","HR1210010051863000160")),r(new e("HU",28,"F03F04F01F15F01","HU42117730161111101800000000")),r(new e("IE",22,"U04F06F08","IE29AIBK93115212345678")),r(new e("IL",23,"F03F03F13","IL620108000000099999999")),r(new e("IS",26,"F04F02F06F10","IS140159260076545510730339")),r(new e("IT",27,"U01F05F05A12","IT60X0542811101000000123456")),r(new e("IQ",23,"U04F03A12","IQ98NBIQ850123456789012")),r(new e("JO",30,"A04F22","JO15AAAA1234567890123456789012")),r(new e("KW",30,"U04A22","KW81CBKU0000000000001234560101")),r(new e("KZ",20,"F03A13","KZ86125KZT5004100100")),r(new e("LB",28,"F04A20","LB62099900000001001901229114")),r(new e("LC",32,"U04F24","LC07HEMM000100010012001200013015")),r(new e("LI",21,"F05A12","LI21088100002324013AA")),r(new e("LT",20,"F05F11","LT121000011101001000")),r(new e("LU",20,"F03A13","LU280019400644750000")),r(new e("LV",21,"U04A13","LV80BANK0000435195001")),r(new e("MC",27,"F05F05A11F02","MC5811222000010123456789030")),r(new e("MD",24,"U02A18","MD24AG000225100013104168")),r(new e("ME",22,"F03F13F02","ME25505000012345678951")),r(new e("MK",19,"F03A10F02","MK07250120000058984")),r(new e("MR",27,"F05F05F11F02","MR1300020001010000123456753")),r(new e("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S")),r(new e("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR")),r(new e("NL",18,"U04F10","NL91ABNA0417164300")),r(new e("NO",15,"F04F06F01","NO9386011117947")),r(new e("PK",24,"U04A16","PK36SCBL0000001123456702")),r(new e("PL",28,"F08F16","PL61109010140000071219812874")),r(new e("PS",29,"U04A21","PS92PALS000000000400123456702")),r(new e("PT",25,"F04F04F11F02","PT50000201231234567890154")),r(new e("QA",29,"U04A21","QA30AAAA123456789012345678901")),r(new e("RO",24,"U04A16","RO49AAAA1B31007593840000")),r(new e("RS",22,"F03F13F02","RS35260005601001611379")),r(new e("SA",24,"F02A18","SA0380000000608010167519")),r(new e("SC",31,"U04F04F16U03","SC18SSCB11010000000000001497USD")),r(new e("SE",24,"F03F16F01","SE4550000000058398257466")),r(new e("SI",19,"F05F08F02","SI56263300012039086")),r(new e("SK",24,"F04F06F10","SK3112000000198742637541")),r(new e("SM",27,"U01F05F05A12","SM86U0322509800000000270100")),r(new e("ST",25,"F08F11F02","ST68000100010051845310112")),r(new e("SV",28,"U04F20","SV62CENR00000000000000700025")),r(new e("TL",23,"F03F14F02","TL380080012345678910157")),r(new e("TN",24,"F02F03F13F02","TN5910006035183598478831")),r(new e("TR",26,"F05F01A16","TR330006100519786457841326")),r(new e("UA",29,"F25","UA511234567890123456789012345")),r(new e("VA",22,"F18","VA59001123000012345678")),r(new e("VG",24,"U04F16","VG96VPVG0000012345678901")),r(new e("XK",20,"F04F10F02","XK051212012345678906")),r(new e("AO",25,"F21","AO69123456789012345678901")),r(new e("BF",27,"F23","BF2312345678901234567890123")),r(new e("BI",16,"F12","BI41123456789012")),r(new e("BJ",28,"F24","BJ39123456789012345678901234")),r(new e("CI",28,"U02F22","CI70CI1234567890123456789012")),r(new e("CM",27,"F23","CM9012345678901234567890123")),r(new e("CV",25,"F21","CV30123456789012345678901")),r(new e("DZ",24,"F20","DZ8612345678901234567890")),r(new e("IR",26,"F22","IR861234568790123456789012")),r(new e("MG",27,"F23","MG1812345678901234567890123")),r(new e("ML",28,"U01F23","ML15A12345678901234567890123")),r(new e("MZ",25,"F21","MZ25123456789012345678901")),r(new e("SN",28,"U01F23","SN52A12345678901234567890123")),r(new e("GF",27,"F05F05A11F02","GF121234512345123456789AB13")),r(new e("GP",27,"F05F05A11F02","GP791234512345123456789AB13")),r(new e("MQ",27,"F05F05A11F02","MQ221234512345123456789AB13")),r(new e("RE",27,"F05F05A11F02","RE131234512345123456789AB13")),r(new e("PF",27,"F05F05A11F02","PF281234512345123456789AB13")),r(new e("TF",27,"F05F05A11F02","TF891234512345123456789AB13")),r(new e("YT",27,"F05F05A11F02","YT021234512345123456789AB13")),r(new e("NC",27,"F05F05A11F02","NC551234512345123456789AB13")),r(new e("BL",27,"F05F05A11F02","BL391234512345123456789AB13")),r(new e("MF",27,"F05F05A11F02","MF551234512345123456789AB13")),r(new e("PM",27,"F05F05A11F02","PM071234512345123456789AB13")),r(new e("WF",27,"F05F05A11F02","WF621234512345123456789AB13"));var y=/[^a-zA-Z0-9]/g,_=/(.{4})(?!$)/g;function T(h){return"string"==typeof h||h instanceof String}w.isValid=function(h){if(!T(h))return!1;h=F(h);var p=x[h.slice(0,2)];return!!p&&p.isValid(h)},w.toBBAN=function(h,p){typeof p>"u"&&(p=" "),h=F(h);var D=x[h.slice(0,2)];if(!D)throw new Error("No country with code "+h.slice(0,2));return D.toBBAN(h,p)},w.fromBBAN=function(h,p){var D=x[h];if(!D)throw new Error("No country with code "+h);return D.fromBBAN(F(p))},w.isValidBBAN=function(h,p){if(!T(p))return!1;var D=x[h];return D&&D.isValidBBAN(F(p))},w.printFormat=function(h,p){return typeof p>"u"&&(p=" "),F(h).replace(_,"$1"+p)},w.electronicFormat=F,w.countries=x},void 0!==(N=c.apply(I,[I]))&&(Ae.exports=N)}}]);
//# debugId=2e3c2603-afc4-5d74-b167-8880db248beb
!R&&r.formatDate(_)},q=s&&s.index||"";var z=!1;a=(a+='<div style="display:contents">')+"<div"+i.attrs(i.merge([{class:i.classes(["teaser","organism__loading",H],[!1,!1,!0]),"data-config":i.escape(h),"data-tmdatatrack-index":i.escape(q),style:"overflow:hidden;"},{"data-noimage":!K},W(),{"data-feliz":Z}]),!0)+">",r.content(z,!0),a+="</div></div>"}x=(K=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},T=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),_=t.publishedDate||void 0,P=t.amendedTitle||t.title,I="shopWindow"===t.type||"affiliateShopWindow"===t.type,O=t.type,H=void 0,B=t.publicationName+"-"+t.environment+"-"+t.id,U=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,W=function(){var t={};if(I){var e="affiliateShopWindow"===O?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===O?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},j=function(){return I?"teaser|"+t.type+"|"+T:null},F=function(){return new n<n.parse(t.lastModifiedDate)+108e5},Z=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,I&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&F()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&U&&y&&S){var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(B),"data-tmdatatrack-index":i.escape(q)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+P,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=P)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<div class="label-line">',T&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",j(),!0,!0)+i.attr("data-link-tracking",s?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=T)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",g,!0,!0)+i.attr("src",x.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",g,!0,!0)+i.attr("data-src",x.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(_)},q=s&&s.index||"";var G=t.source;z=!1,a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",H,v?"is-recommendations-wipeout-hidden":L?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(q),"data-tmdatatrack-source":i.escape(G)},{"data-noimage":!K},W(),Z]),!0)+">",r.content(z||f,f),a+="</div>";break;default:var K,X,Q;x=(K=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},T=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),_=t.publishedDate||void 0,P=t.amendedTitle||t.title,I="shopWindow"===t.type||"affiliateShopWindow"===t.type,O=t.type,H=void 0,B=t.publicationName+"-"+t.environment+"-"+t.id,U=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,W=function(){var t={};if(I){var e="affiliateShopWindow"===O?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===O?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},j=function(){return I?"teaser|"+t.type+"|"+T:null},F=function(){return new n<n.parse(t.lastModifiedDate)+108e5},Z=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,I&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&F()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&U&&y&&S){var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(B),"data-tmdatatrack-index":i.escape(q)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+P,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=P)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<div class="label-line">',T&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",j(),!0,!0)+i.attr("data-link-tracking",s?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=T)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",g,!0,!0)+i.attr("src",x.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",g,!0,!0)+i.attr("data-src",x.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(_)},q=s&&s.index||"",G=t.source,z=!1,a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",H,v?"is-recommendations-wipeout-hidden":L?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(q),"data-tmdatatrack-source":i.escape(G)},{"data-noimage":!K},W(),Z]),!0)+">",r.content(z||f,f),a+="</div>"}},W=g.data?g.data.attributes.showMoreUrl:void 0,j=m.homeSection&&m.homeSection.name||m.tagData&&m.tagData.name||m.topicData&&m.topicData.title,F=(K=m.channel&&m.channel.uniqueName)?"channel-"+K:void 0,Z=l.liveEventIncludedInDuet?"duet-live-event":void 0,q=[l.type,l.view,l.layout,F,O,Z],z=(X=g.data?g.data.attributes.pagination:void 0)?X.url.split("=")[0]+"=":void 0,G=X?X.url.split("?")[0]:void 0,Y=(Q=m.experiment||{}).experimentId,J=Q.variant,($="oxj1rd1qQwC_xhOgfzADig"===Y&&-1===["0"].indexOf(J))&&q.push("smile-teaser"),r.navigation=e=function(t,r,n,o,s){this&&this.block,this&&this.attributes;var c=2===(n="string"==typeof n?k(n,10):n)?s:o+(n-1);if(r>1){a+='<div class="pagination">',a+="<ul>",n>1?a=(a+='<li class="pagi-previous">')+'<a class="left"'+i.attr("href",c,!0,!0)+"></a></li>":(a+='<li class="pagi-previous disabled">',a+="<a></a></li>");var l=n-2;n>=r-2&&(l=r-4);var d=n+2;d<5&&r>=5&&(d=5);for(var u=l;u<=d;++u)1===u?a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",s,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>":u<=r&&u>0&&(a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",o+u,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>");n<r?a=(a+='<li class="pagi-next">')+"<a"+i.attr("href",o+(n+1),!0,!0)+"></a></li>":(a+='<li class="pagi-next disabled">',a+="<a></a></li>"),a+="</ul></div>"}},E&&r.navigation(x,b,u,s,G),a=a+"<div"+(i.attr("class",i.classes(["pancake","use-image-placeholders",q],[!1,!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+">",l.liveEventIncludedInDuet&&(a=a+'<div data-component="liveEvent" data-context="pancake"'+i.attr("data-component-data",o.stringify({data:m}),!0,!0)+"></div>"),function(){var t=B;if("number"==typeof t.length)for(var e=0,a=t.length;e<a;e++){var i=t[e];r["duet-teaser"](i,l.view,{index:p+"-"+l.index+"-"+e,group:l.group,location:l.location})}else for(var e in a=0,t)a++,i=t[e],r["duet-teaser"](i,l.view,{index:p+"-"+l.index+"-"+e,group:l.group,location:l.location})}.call(this),A&&(D=!0),a+="</div>",l.showMore&&void 0!=W&&(a=(a=a+"<div"+i.attr("class",i.classes(["show-more",l.layout],[!1,!0]),!1,!0)+">")+'<a class="publication-theme-button" href="#"'+i.attr("data-node",W,!0,!0)+i.attr("data-pancake",l,!0,!0)+' id="showMore">',a=(a+="Show more ")+i.escape(null==(e=j)?"":e)+"</a></div>"),l.pagination&&void 0!=X&&X.numberOfPages&&X.currentPage&&r.navigation(1,X.numberOfPages,X.currentPage,z,G);break;case"ensemble":var K,X,Q,$;r.teaser=e=function(t,o){function s(t,e){return t.binaryHref.replace("BINARY","ALTERNATES/s"+e)+" "+k(e)+"w"}function u(t,e){var a=t.image&&t.image.length?t.image[0]:{href:"#",dataHeight:409,dataWidth:615};if(a.binaryHref&&e){for(var i="",r=0;r<e.length-1;r++)i+=s(a,e[r])+", ";return i+=s(a,e[e.length-1])}}this&&this.block,this&&this.attributes,E&&(a=a+"<img"+i.attr("srcset",u(t,d),!0,!0)+">");var p=u(t,[180,458]),g=t.image&&t.image.length,b=g?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},L=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),x=t.publishedDate||void 0,T=t.amendedTitle||t.title,_="shopWindow"===t.type||"affiliateShopWindow"===t.type,A=t.type,D=t.publicationName+"-"+t.environment+"-"+t.id,M=!(l&&("featuredStories"===l.group||"splash"===l.group)),P=(t.comments&&t.comments.enabled,function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m));r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,_&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&(t.comments&&t.comments.enabled,function(){return new n<n.parse(t.lastModifiedDate)+108e5})()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&M&&y&&S){var n=P&&"section-article"===P["data-tmdatatrack"]&&{"data-tmdatatrack":P["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":P["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(D),"data-tmdatatrack-index":i.escape(I)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+T,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=P&&"section-article"===P["data-tmdatatrack"]&&{"data-tmdatatrack":P["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":P["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(I)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",void 0],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",o?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=T)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=P&&"section-article"===P["data-tmdatatrack"]&&{"data-tmdatatrack":P["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":P["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(I)},n]),!0)+">",a+='<div class="label-line">',L&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",_?"teaser|"+t.type+"|"+L:null,!0,!0)+i.attr("data-link-tracking",o?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=L)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var s=o?o.location?o.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+o.group+"|":"",c=o?"|index "+o.index:"",d=o?s+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",p,!0,!0)+i.attr("src",b.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",p,!0,!0)+i.attr("data-src",b.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(x)};var I=o&&o.index||"",O=t.source;a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",void 0,v?"is-recommendations-wipeout-hidden":h?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(I),"data-tmdatatrack-source":i.escape(O)},{"data-noimage":!g},function(){var t={};if(_){var e="affiliateShopWindow"===A?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===A?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t}(),P]),!0)+">",r.content(f,f),a+="</div>"},r.mainTeaser=e=function(t,o,s){this&&this.block,this&&this.attributes;var d=t.image&&t.image.length,u=d?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},p=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),f=t.publishedDate||void 0,h=t.amendedTitle||t.title,v="shopWindow"===t.type||"affiliateShopWindow"===t.type,g=(t.type,t.publicationName+"-"+t.environment+"-"+t.id),b=!(l&&("featuredStories"===l.group||"splash"===l.group)),k=(t.comments&&t.comments.enabled,function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m));r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,v&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&(t.comments&&t.comments.enabled,function(){return new n<n.parse(t.lastModifiedDate)+108e5})()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&b&&y&&S){var n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(g),"data-tmdatatrack-index":i.escape(E)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+h,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(E)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",o?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(E)},n]),!0)+">",a+='<div class="label-line">',p&&(n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(E)},n]),!0)+">")+i.escape(null==(e=p)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(n,s){this&&this.block,this&&this.attributes;var c=o?o.location?o.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+o.group+"|":"",d=o?"|index "+o.index:"",m=o?c+"image"+d:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes(["section-theme-border"],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",m,!0,!0)+i.attr("aria-label",h,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!s&&"lazy",!0,!0)+i.attr("srcset",L,!0,!0)+i.attr("src",u.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes(["section-theme-border"],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",m,!0,!0)+i.attr("aria-label",h,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!s&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",L,!0,!0)+i.attr("data-src",u.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>");var v="wide"===T;if($)if(v){if(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">",a+=i.escape(null==(e=h)?"":e),R){var g=I.displayTitle||I.title;a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=g)?"":e)+"</div>"}else r.innerContent(t);a+="</a></div>"}else a=(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>",r.innerContent(t),a+="</div>";else if(v)if(a=(a=a+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>",R)g=I.displayTitle||I.title,a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=g)?"":e)+"</div>";else{if(a+="<div>",p){var b=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]};a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(E)},b]),!0)+">")+i.escape(null==(e=p)?"":e)+"</a>"}r.innerContent(t),a+="</div>"}else p&&(b=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(E)},b]),!0)+">")+i.escape(null==(e=p)?"":e)+"</a>"),a=(a=a+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>",r.innerContent(t);l&&l.showDate&&!R&&r.formatDate(f)};var E=o&&o.index||"";a=a+"<div"+i.attrs(i.merge([{class:"teaser teaser-highlight","data-tmdatatrack-index":i.escape(E)},{"data-noimage":!d},k]),!0)+">",r.content(),a+="</div>"},W=g.data?g.data.attributes.showMoreUrl:void 0,j=m.homeSection&&m.homeSection.name||m.tagData&&m.tagData.name||m.topicData&&m.topicData.title,F=(K=m.channel&&m.channel.uniqueName)?"channel-"+K:void 0,Z=l.liveEventIncludedInDuet?"duet-live-event":void 0,q=[l.type,l.view,l.layout,F,O,Z],z=(X=g.data?g.data.attributes.pagination:void 0)?X.url.split("=")[0]+"=":void 0,G=X?X.url.split("?")[0]:void 0,Y=(Q=m.experiment||{}).experimentId,J=Q.variant,($="oxj1rd1qQwC_xhOgfzADig"===Y&&-1===["0"].indexOf(J))&&q.push("smile-teaser"),r.navigation=e=function(t,r,n,o,s){this&&this.block,this&&this.attributes;var c=2===(n="string"==typeof n?k(n,10):n)?s:o+(n-1);if(r>1){a+='<div class="pagination">',a+="<ul>",n>1?a=(a+='<li class="pagi-previous">')+'<a class="left"'+i.attr("href",c,!0,!0)+"></a></li>":(a+='<li class="pagi-previous disabled">',a+="<a></a></li>");var l=n-2;n>=r-2&&(l=r-4);var d=n+2;d<5&&r>=5&&(d=5);for(var u=l;u<=d;++u)1===u?a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",s,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>":u<=r&&u>0&&(a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",o+u,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>");n<r?a=(a+='<li class="pagi-next">')+"<a"+i.attr("href",o+(n+1),!0,!0)+"></a></li>":(a+='<li class="pagi-next disabled">',a+="<a></a></li>"),a+="</ul></div>"}},E&&r.navigation(x,b,u,s,G),a=a+"<div"+(i.attr("class",i.classes(["pancake","use-image-placeholders",q],[!1,!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+">";var tt=g.data.attributes.title,et={"data-tmdatatrack":"section-ensemble-link","data-tmdatatrack-url":tt&&tt.url};tt&&tt.name&&(a=(a=(a+='<h3 class="publication-font">')+"<a"+i.attrs(i.merge([{class:"section-theme-indicator",href:i.escape(tt.url)},et]),!0)+">")+i.escape(null==(e=tt.name)?"":e)+"</a></h3>"),B.length>0&&(r.mainTeaser(B[0],{index:1,group:l.group},!0),B.shift(),a+='<div class="pancake duet secondary">',function(){var t=B;if("number"==typeof t.length)for(var e=0,a=t.length;e<a;e++){var i=t[e];r.teaser(i,{index:p+"-"+l.index+"-"+e,group:l.group,location:l.location})}else for(var e in a=0,t)a++,i=t[e],r.teaser(i,{index:p+"-"+l.index+"-"+e,group:l.group,location:l.location})}.call(this),a+="</div>"),a+="</div>",l.showMore&&void 0!=W&&(a=(a=a+"<div"+i.attr("class",i.classes(["show-more",l.layout],[!1,!0]),!1,!0)+">")+'<a class="publication-theme-button" href="#"'+i.attr("data-node",W,!0,!0)+i.attr("data-pancake",l,!0,!0)+' id="showMore">',a=(a+="Show more ")+i.escape(null==(e=j)?"":e)+"</a></div>"),l.pagination&&void 0!=X&&X.numberOfPages&&X.currentPage&&r.navigation(1,X.numberOfPages,X.currentPage,z,G);break;case"live-event":l.liveEventIncludedInDuet||(a=(a=a+"<div"+i.attr("class",i.classes(["pancake",l.layout],[!1,!0]),!1,!0)+">")+'<div data-component="liveEvent" data-context="pancake"'+i.attr("data-component-data",o.stringify({data:m}),!0,!0)+"></div></div>");break;case"opta":a=a+'<div data-component="optaWidget" data-context="pancake"'+i.attr("data-component-data",o.stringify(g.data.attributes),!0,!0)+"></div>";break;case"chart":a=a+'<div data-component="totaliser19" data-context="pancake"'+i.attr("data-component-data",o.stringify({ingredients:B}),!0,!0)+"></div>";break;case"carousel":a=a+'<div data-component="autoscroll" data-context="pancake"'+i.attr("data-component-data",o.stringify({pancakeData:g,ingredients:B,pancake:l}),!0,!0)+"></div>";break;case"grid":a=a+'<div data-component="grid" data-context="pancake"'+i.attr("data-component-data",o.stringify({pancakeData:g}),!0,!0)+"></div>";break;case"html":a=a+'<div data-component="htmlEmbed" data-context="pancake"'+i.attr("data-component-data",o.stringify({ingredients:B}),!0,!0)+"></div>"}else l.placeholder&&(a=a+"<div"+(i.attr("class",i.classes(["pancake",[l.type,l.view,l.layout,F]],[!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+" data-placeholder></div>")}else l.placeholder&&(a=a+"<div"+(i.attr("class",i.classes(["pancake",[l.type,l.view,l.layout,F]],[!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+" data-placeholder></div>");H&&"topStories"===l.group&&"duet"===l.type&&0===l.index?a+='<div class="ovp solo wide primary"></div>':H&&"featuredStories"===l.group&&"duet"===l.type&&0===l.index&&(a+='<div class="ovp solo wide centred"></div>')},r.renderLayout=e=function(t,e){this&&this.block,this&&this.attributes;var a={},i=!1;t&&t.length&&function(){var n=t;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var c=(d=n[o]).group;a[c]||(a[c]=0),d.index=a[c]++;var l=e&&e.content&&e.content[d.group];"quartet"===d.type&&"wipeout"===d.group&&3===o&&l&&(i=!0),"duet"!=d.type||i||D||(A=!0),r.pancake(d,e,o)}else for(var o in s=0,n){var d;s++,c=(d=n[o]).group,a[c]||(a[c]=0),d.index=a[c]++,l=e&&e.content&&e.content[d.group],"quartet"===d.type&&"wipeout"===d.group&&3===o&&l&&(i=!0),"duet"!=d.type||i||D||(A=!0),r.pancake(d,e,o)}}.call(this)},E&&r.renderLayout(g,m),p&&r.renderLayout(o.parse(g),o.parse(m))}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"Date"in n?n.Date:"undefined"!=typeof Date?Date:void 0,"JSON"in n?n.JSON:"undefined"!=typeof JSON?JSON:void 0,"base"in n?n.base:"undefined"!=typeof base?base:void 0,"baseTracking"in n?n.baseTracking:"undefined"!=typeof baseTracking?baseTracking:void 0,"console"in n?n.console:"undefined"!=typeof console?console:void 0,"crops"in n?n.crops:"undefined"!=typeof crops?crops:void 0,"current"in n?n.current:"undefined"!=typeof current?current:void 0,"data"in n?n.data:"undefined"!=typeof data?data:void 0,"futureRender"in n?n.futureRender:"undefined"!=typeof futureRender?futureRender:void 0,"isClientRender"in n?n.isClientRender:"undefined"!=typeof isClientRender?isClientRender:void 0,"isrecommendationsDuet"in n?n.isrecommendationsDuet:"undefined"!=typeof isrecommendationsDuet?isrecommendationsDuet:void 0,"isrecommendationsWipeout"in n?n.isrecommendationsWipeout:"undefined"!=typeof isrecommendationsWipeout?isrecommendationsWipeout:void 0,"layout"in n?n.layout:"undefined"!=typeof layout?layout:void 0,"numpages"in n?n.numpages:"undefined"!=typeof numpages?numpages:void 0,"parseInt"in n?n.parseInt:"undefined"!=typeof parseInt?parseInt:void 0,"print"in n?n.print:"undefined"!=typeof print?print:void 0,"publicSectionParams"in n?n.publicSectionParams:"undefined"!=typeof publicSectionParams?publicSectionParams:void 0,"srcset"in n?n.srcset:"undefined"!=typeof srcset?srcset:void 0,"standalone"in n?n.standalone:"undefined"!=typeof standalone?standalone:void 0,"start"in n?n.start:"undefined"!=typeof start?start:void 0,"trackingIndex"in n?n.trackingIndex:"undefined"!=typeof trackingIndex?trackingIndex:void 0,"view"in n?n.view:"undefined"!=typeof view?view:void 0,"window"in n?n.window:"undefined"!=typeof window?window:void 0),a}},{55:55}],17:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r={},n=t||{};return function(t,n,o,s,c,l,d,u,m,p,f,h,v,g,b,k,w,y){var L=u.image&&u.image.length,E=L?u.image[0]:{href:"#",dataHeight:409,dataWidth:615},x=u.primaryTag||(u.teaserLabelData?u.teaserLabelData.label:""),C=u.publishedDate||void 0,T=u.amendedTitle||u.title,S="shopWindow"===u.type||"affiliateShopWindow"===u.type,_=u.type,A=u.publicationName+"-"+u.environment+"-"+u.id,D=!(g&&("featuredStories"===g.group||"splash"===g.group)),M=(u.comments&&u.comments.enabled,function(t){if(!t||!t.templateRoot)return{};switch(t.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":u.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":u.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":u.id};default:return{}}}(d));r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,S&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(e){this&&this.block,this&&this.attributes,"live-event"===e.type&&e.liveIdentifier&&(e.comments&&e.comments.enabled,function(){return new t<t.parse(e.lastModifiedDate)+108e5})()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===e.subType||"advertising"===e.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===e.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),e.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==e.type&&"photo-story"!==e.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),e.tags&&function(){var t=e.tags;if("number"==typeof t.length)for(var a=0,i=t.length;a<i;a++){var n=t[a];r.tags(n)}else for(var a in i=0,t)i++,n=t[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!f){if(t.comments&&t.comments.enabled&&l&&c&&D&&c&&b){var n=M&&"section-article"===M["data-tmdatatrack"]&&{"data-tmdatatrack":M["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":M["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(A),"data-tmdatatrack-index":i.escape(P)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+T,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",w?o+"description"+y:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),s&&(n=M&&"section-article"===M["data-tmdatatrack"]&&{"data-tmdatatrack":M["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":M["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(P)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,m&&n&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",n,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",void 0],[!1,!0]),!1,!0)+i.attr("href",u.url,!0,!0)+i.attr("data-articleid",u.id,!0,!0)+i.attr("data-link-tracking",w?o+"title"+y:"",!0,!0))+">")+i.escape(null==(e=T)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,f)r.innerContent(u);else{var t=M&&"section-article"===M["data-tmdatatrack"]&&{"data-tmdatatrack":M["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":M["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(P)},t]),!0)+">",a+='<div class="label-line">',x&&(a=(a=a+'<a class="label"'+i.attr("href",u.teaserLabelData&&u.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",S?"teaser|"+u.type+"|"+x:null,!0,!0)+i.attr("data-link-tracking",w?o+"Tag|Fire"+y:"",!0,!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a+="</div>",r.innerContent(u),a+="</div>"}},r.content=e=function(t,e){this&&this.block,this&&this.attributes;var n=w?w.location?w.location+"|Rec|":"PostArticle|Rec|"+u.type+"|"+w.group+"|":"",o=w?"|index "+w.index:"",s=w?n+"image"+o:"";u.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+">",u.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",u.url,!0,!0)+i.attr("data-link-tracking",s,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",t&&"high",!0,!0)+i.attr("loading",t&&!e&&"lazy",!0,!0)+i.attr("srcset",k,!0,!0)+i.attr("src",E.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](u),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+' data-mod="image">',u.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",u.url,!0,!0)+i.attr("data-link-tracking",s,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",t&&"high",!0,!0)+i.attr("loading",t&&!e&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",k,!0,!0)+i.attr("data-src",E.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](u),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),g&&g.showDate&&!m&&r.formatDate(C)};var P=w&&w.index||"",I=u.source;a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",void 0,v?"is-recommendations-wipeout-hidden":h?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(P),"data-tmdatatrack-source":i.escape(I)},{"data-noimage":!L},function(){var t={};if(S){var e="affiliateShopWindow"===_?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===_?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t}(),M]),!0)+">",r.content(p,p),a+="</div>"}.call(this,"Date"in n?n.Date:"undefined"!=typeof Date?Date:void 0,"advertisingParterLogo"in n?n.advertisingParterLogo:"undefined"!=typeof advertisingParterLogo?advertisingParterLogo:void 0,"baseTracking"in n?n.baseTracking:"undefined"!=typeof baseTracking?baseTracking:void 0,"bookmarksEnabled"in n?n.bookmarksEnabled:"undefined"!=typeof bookmarksEnabled?bookmarksEnabled:void 0,"commentCountEnabled"in n?n.commentCountEnabled:"undefined"!=typeof commentCountEnabled?commentCountEnabled:void 0,"commentsEnabled"in n?n.commentsEnabled:"undefined"!=typeof commentsEnabled?commentsEnabled:void 0,"data"in n?n.data:"undefined"!=typeof data?data:void 0,"ingredient"in n?n.ingredient:"undefined"!=typeof ingredient?ingredient:void 0,"isAdvertisingContent"in n?n.isAdvertisingContent:"undefined"!=typeof isAdvertisingContent?isAdvertisingContent:void 0,"isClientRender"in n?n.isClientRender:"undefined"!=typeof isClientRender?isClientRender:void 0,"isSmileExperiment4"in n?n.isSmileExperiment4:"undefined"!=typeof isSmileExperiment4?isSmileExperiment4:void 0,"isrecommendationsDuet"in n?n.isrecommendationsDuet:"undefined"!=typeof isrecommendationsDuet?isrecommendationsDuet:void 0,"isrecommendationsWipeout"in n?n.isrecommendationsWipeout:"undefined"!=typeof isrecommendationsWipeout?isrecommendationsWipeout:void 0,"pancake"in n?n.pancake:"undefined"!=typeof pancake?pancake:void 0,"sectionUuidSet"in n?n.sectionUuidSet:"undefined"!=typeof sectionUuidSet?sectionUuidSet:void 0,"srcset"in n?n.srcset:"undefined"!=typeof srcset?srcset:void 0,"trackingData"in n?n.trackingData:"undefined"!=typeof trackingData?trackingData:void 0,"trackingIndex"in n?n.trackingIndex:"undefined"!=typeof trackingIndex?trackingIndex:void 0),a}},{55:55}],18:[function(t,e,a){e.exports=t(20)},{20:20}],19:[function(t,e,a){"use strict";var i=t(49),r=t(30),n=t(38),o=t(36),s=t(27),c=t(44),l=t(41),d=t(33),u=t(25),m=t(22),p=t(45);e.exports=function(t){return new Promise(function(e,a){var f,h=t.data,v=t.headers,g=t.responseType;function b(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}i.isFormData(h)&&i.isStandardBrowserEnv()&&delete v["Content-Type"];var k=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(w+":"+y)}var L=s(t.baseURL,t.url);function E(){if(k){var i="getAllResponseHeaders"in k?c(k.getAllResponseHeaders()):null,n={data:g&&"text"!==g&&"json"!==g?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:i,config:t,request:k};r(function(t){e(t),b()},function(t){a(t),b()},n),k=null}}if(k.open(t.method.toUpperCase(),o(L,t.params,t.paramsSerializer),!0),k.timeout=t.timeout,"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(E)},k.onabort=function(){k&&(a(new u("Request aborted",u.ECONNABORTED,t,k)),k=null)},k.onerror=function(){a(new u("Network Error",u.ERR_NETWORK,t,k,k)),k=null},k.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||d;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),a(new u(e,i.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,t,k)),k=null},i.isStandardBrowserEnv()){var x=(t.withCredentials||l(L))&&t.xsrfCookieName?n.read(t.xsrfCookieName):void 0;x&&(v[t.xsrfHeaderName]=x)}"setRequestHeader"in k&&i.forEach(v,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete v[e]:k.setRequestHeader(e,t)}),i.isUndefined(t.withCredentials)||(k.withCredentials=!!t.withCredentials),g&&"json"!==g&&(k.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&k.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(t){k&&(a(!t||t&&t.type?new m:t),k.abort(),k=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),h||(h=null);var C=p(L);C&&-1===["http","https","file"].indexOf(C)?a(new u("Unsupported protocol "+C+":",u.ERR_BAD_REQUEST,t)):k.send(h)})}},{22:22,25:25,27:27,30:30,33:33,36:36,38:38,41:41,44:44,45:45,49:49}],20:[function(t,e,a){"use strict";var i=t(49),r=t(35),n=t(24),o=t(29);var s=function t(e){var a=new n(e),s=r(n.prototype.request,a);return i.extend(s,n.prototype,a),i.extend(s,a),s.create=function(a){return t(o(e,a))},s}(t(32));s.Axios=n,s.CanceledError=t(22),s.CancelToken=t(21),s.isCancel=t(23),s.VERSION=t(34).version,s.toFormData=t(47),s.AxiosError=t(25),s.Cancel=s.CanceledError,s.all=function(t){return Promise.all(t)},s.spread=t(46),s.isAxiosError=t(40),e.exports=s,e.exports.default=s},{21:21,22:22,23:23,24:24,25:25,29:29,32:32,34:34,35:35,40:40,46:46,47:47,49:49}],21:[function(t,e,a){"use strict";var i=t(22);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var a=this;this.promise.then(function(t){if(a._listeners){var e,i=a._listeners.length;for(e=0;e<i;e++)a._listeners[e](t);a._listeners=null}}),this.promise.then=function(t){var e,i=new Promise(function(t){a.subscribe(t),e=t}).then(t);return i.cancel=function(){a.unsubscribe(e)},i},t(function(t){a.reason||(a.reason=new i(t),e(a.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},r.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},e.exports=r},{22:22}],22:[function(t,e,a){"use strict";var i=t(25);function r(t){i.call(this,null==t?"canceled":t,i.ERR_CANCELED),this.name="CanceledError"}t(49).inherits(r,i,{__CANCEL__:!0}),e.exports=r},{25:25,49:49}],23:[function(t,e,a){"use strict";e.exports=function(t){return!(!t||!t.__CANCEL__)}},{}],24:[function(t,e,a){"use strict";var i=t(49),r=t(36),n=t(26),o=t(28),s=t(29),c=t(27),l=t(48),d=l.validators;function u(t){this.defaults=t,this.interceptors={request:new n,response:new n}}u.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var a=e.transitional;void 0!==a&&l.assertOptions(a,{silentJSONParsing:d.transitional(d.boolean),forcedJSONParsing:d.transitional(d.boolean),clarifyTimeoutError:d.transitional(d.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,i.unshift(t.fulfilled,t.rejected))});var n,c=[];if(this.interceptors.response.forEach(function(t){c.push(t.fulfilled,t.rejected)}),!r){var u=[o,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(c),n=Promise.resolve(e);u.length;)n=n.then(u.shift(),u.shift());return n}for(var m=e;i.length;){var p=i.shift(),f=i.shift();try{m=p(m)}catch(t){f(t);break}}try{n=o(m)}catch(t){return Promise.reject(t)}for(;c.length;)n=n.then(c.shift(),c.shift());return n},u.prototype.getUri=function(t){t=s(this.defaults,t);var e=c(t.baseURL,t.url);return r(e,t.params,t.paramsSerializer)},i.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,a){return this.request(s(a||{},{method:t,url:e,data:(a||{}).data}))}}),i.forEach(["post","put","patch"],function(t){function e(e){return function(a,i,r){return this.request(s(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}u.prototype[t]=e(),u.prototype[t+"Form"]=e(!0)}),e.exports=u},{26:26,27:27,28:28,29:29,36:36,48:48,49:49}],25:[function(t,e,a){"use strict";var i=t(49);function r(t,e,a,i,r){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),i&&(this.request=i),r&&(this.response=r)}i.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=r.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){o[t]={value:t}}),Object.defineProperties(r,o),Object.defineProperty(n,"isAxiosError",{value:!0}),r.from=function(t,e,a,o,s,c){var l=Object.create(n);return i.toFlatObject(t,l,function(t){return t!==Error.prototype}),r.call(l,t.message,e,a,o,s),l.name=t.name,c&&Object.assign(l,c),l},e.exports=r},{49:49}],26:[function(t,e,a){"use strict";var i=t(49);function r(){this.handlers=[]}r.prototype.use=function(t,e,a){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=r},{49:49}],27:[function(t,e,a){"use strict";var i=t(39),r=t(37);e.exports=function(t,e){return t&&!i(e)?r(t,e):e}},{37:37,39:39}],28:[function(t,e,a){"use strict";var i=t(49),r=t(31),n=t(23),o=t(32),s=t(22);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s}e.exports=function(t){return c(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return c(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e},function(e){return n(e)||(c(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},{22:22,23:23,31:31,32:32,49:49}],29:[function(t,e,a){"use strict";var i=t(49);e.exports=function(t,e){e=e||{};var a={};function r(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function n(a){return i.isUndefined(e[a])?i.isUndefined(t[a])?void 0:r(void 0,t[a]):r(t[a],e[a])}function o(t){if(!i.isUndefined(e[t]))return r(void 0,e[t])}function s(a){return i.isUndefined(e[a])?i.isUndefined(t[a])?void 0:r(void 0,t[a]):r(void 0,e[a])}function c(a){return a in e?r(t[a],e[a]):a in t?r(void 0,t[a]):void 0}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return i.forEach(Object.keys(t).concat(Object.keys(e)),function(t){var e=l[t]||n,r=e(t);i.isUndefined(r)&&e!==c||(a[t]=r)}),a}},{49:49}],30:[function(t,e,a){"use strict";var i=t(25);e.exports=function(t,e,a){var r=a.config.validateStatus;a.status&&r&&!r(a.status)?e(new i("Request failed with status code "+a.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):t(a)}},{25:25}],31:[function(t,e,a){"use strict";var i=t(49),r=t(32);e.exports=function(t,e,a){var n=this||r;return i.forEach(a,function(a){t=a.call(n,t,e)}),t}},{32:32,49:49}],32:[function(t,e,a){(function(a){(function(){"use strict";var i=t(49),r=t(42),n=t(25),o=t(33),s=t(47),c={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var d,u={transitional:o,adapter:("undefined"!=typeof XMLHttpRequest?d=t(19):void 0!==a&&"[object process]"===Object.prototype.toString.call(a)&&(d=t(19)),d),transformRequest:[function(t,e){if(r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t))return t;if(i.isArrayBufferView(t))return t.buffer;if(i.isURLSearchParams(t))return l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var a,n=i.isObject(t),o=e&&e["Content-Type"];if((a=i.isFileList(t))||n&&"multipart/form-data"===o){var c=this.env&&this.env.FormData;return s(a?{"files[]":t}:t,c&&new c)}return n||"application/json"===o?(l(e,"application/json"),function(t,e,a){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(a||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||u.transitional,a=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,o=!a&&"json"===this.responseType;if(o||r&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw n.from(t,n.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:t(43)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){u.headers[t]={}}),i.forEach(["post","put","patch"],function(t){u.headers[t]=i.merge(c)}),e.exports=u}).call(this)}).call(this,t(54))},{19:19,25:25,33:33,42:42,43:43,47:47,49:49,54:54}],33:[function(t,e,a){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},{}],34:[function(t,e,a){e.exports={version:"0.27.2"}},{}],35:[function(t,e,a){"use strict";e.exports=function(t,e){return function(){for(var a=new Array(arguments.length),i=0;i<a.length;i++)a[i]=arguments[i];return t.apply(e,a)}}},{}],36:[function(t,e,a){"use strict";var i=t(49);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(t,e,a){if(!e)return t;var n;if(a)n=a(e);else if(i.isURLSearchParams(e))n=e.toString();else{var o=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))}))}),n=o.join("&")}if(n){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t}},{49:49}],37:[function(t,e,a){"use strict";e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},{}],38:[function(t,e,a){"use strict";var i=t(49);e.exports=i.isStandardBrowserEnv()?{write:function(t,e,a,r,n,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(a)&&s.push("expires="+new Date(a).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(n)&&s.push("domain="+n),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{49:49}],39:[function(t,e,a){"use strict";e.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},{}],40:[function(t,e,a){"use strict";var i=t(49);e.exports=function(t){return i.isObject(t)&&!0===t.isAxiosError}},{49:49}],41:[function(t,e,a){"use strict";var i=t(49);e.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");function r(t){var i=t;return e&&(a.setAttribute("href",i),i=a.href),a.setAttribute("href",i),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname}}return t=r(window.location.href),function(e){var a=i.isString(e)?r(e):e;return a.protocol===t.protocol&&a.host===t.host}}():function(){return!0}},{49:49}],42:[function(t,e,a){"use strict";var i=t(49);e.exports=function(t,e){i.forEach(t,function(a,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=a,delete t[i])})}},{49:49}],43:[function(t,e,a){e.exports=null},{}],44:[function(t,e,a){"use strict";var i=t(49),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(t){var e,a,n,o={};return t?(i.forEach(t.split("\n"),function(t){if(n=t.indexOf(":"),e=i.trim(t.substr(0,n)).toLowerCase(),a=i.trim(t.substr(n+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([a]):o[e]?o[e]+", "+a:a}}),o):o}},{49:49}],45:[function(t,e,a){"use strict";e.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},{}],46:[function(t,e,a){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},{}],47:[function(t,e,a){(function(a){(function(){"use strict";var i=t(49);e.exports=function(t,e){e=e||new FormData;var r=[];function n(t){return null===t?"":i.isDate(t)?t.toISOString():i.isArrayBuffer(t)||i.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):a.from(t):t}return function t(a,o){if(i.isPlainObject(a)||i.isArray(a)){if(-1!==r.indexOf(a))throw Error("Circular reference detected in "+o);r.push(a),i.forEach(a,function(a,r){if(!i.isUndefined(a)){var s,c=o?o+"."+r:r;if(a&&!o&&"object"==typeof a)if(i.endsWith(r,"{}"))a=JSON.stringify(a);else if(i.endsWith(r,"[]")&&(s=i.toArray(a)))return void s.forEach(function(t){!i.isUndefined(t)&&e.append(c,n(t))});t(a,c)}}),r.pop()}else e.append(o,n(a))}(t),e}}).call(this)}).call(this,t(52).Buffer)},{49:49,52:52}],48:[function(t,e,a){"use strict";var i=t(34).version,r=t(25),n={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){n[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});var o={};n.transitional=function(t,e,a){function n(t,e){return"[Axios v"+i+"] Transitional option '"+t+"'"+e+(a?". "+a:"")}return function(a,i,s){if(!1===t)throw new r(n(i," has been removed"+(e?" in "+e:"")),r.ERR_DEPRECATED);return e&&!o[i]&&(o[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(a,i,s)}},e.exports={assertOptions:function(t,e,a){if("object"!=typeof t)throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),n=i.length;n-- >0;){var o=i[n],s=e[o];if(s){var c=t[o],l=void 0===c||s(c,o,t);if(!0!==l)throw new r("option "+o+" must be "+l,r.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new r("Unknown option "+o,r.ERR_BAD_OPTION)}},validators:n}},{25:25,34:34}],49:[function(t,e,a){"use strict";var i,r=t(35),n=Object.prototype.toString,o=(i=Object.create(null),function(t){var e=n.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())});function s(t){return t=t.toLowerCase(),function(e){return o(e)===t}}function c(t){return Array.isArray(t)}function l(t){return void 0===t}var d=s("ArrayBuffer");function u(t){return null!==t&&"object"==typeof t}function m(t){if("object"!==o(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var p=s("Date"),f=s("File"),h=s("Blob"),v=s("FileList");function g(t){return"[object Function]"===n.call(t)}var b=s("URLSearchParams");function k(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),c(t))for(var a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var w,y=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return w&&t instanceof w});e.exports={isArray:c,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!l(t)&&null!==t.constructor&&!l(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return t&&("function"==typeof FormData&&t instanceof FormData||"[object FormData]"===n.call(t)||g(t.toString)&&"[object FormData]"===t.toString())},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isPlainObject:m,isUndefined:l,isDate:p,isFile:f,isBlob:h,isFunction:g,isStream:function(t){return u(t)&&g(t.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:k,merge:function t(){var e={};function a(a,i){m(e[i])&&m(a)?e[i]=t(e[i],a):m(a)?e[i]=t({},a):c(a)?e[i]=a.slice():e[i]=a}for(var i=0,r=arguments.length;i<r;i++)k(arguments[i],a);return e},extend:function(t,e,a){return k(e,function(e,i){t[i]=a&&"function"==typeof e?r(e,a):e}),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,a,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,a&&Object.assign(t.prototype,a)},toFlatObject:function(t,e,a){var i,r,n,o={};e=e||{};do{for(r=(i=Object.getOwnPropertyNames(t)).length;r-- >0;)o[n=i[r]]||(e[n]=t[n],o[n]=!0);t=Object.getPrototypeOf(t)}while(t&&(!a||a(t,e))&&t!==Object.prototype);return e},kindOf:o,kindOfTest:s,endsWith:function(t,e,a){t=String(t),(void 0===a||a>t.length)&&(a=t.length),a-=e.length;var i=t.indexOf(e,a);return-1!==i&&i===a},toArray:function(t){if(!t)return null;var e=t.length;if(l(e))return null;for(var a=new Array(e);e-- >0;)a[e]=t[e];return a},isTypedArray:y,isFileList:v}},{35:35}],50:[function(t,e,a){"use strict";a.byteLength=function(t){var e=l(t),a=e[0],i=e[1];return 3*(a+i)/4-i},a.toByteArray=function(t){var e,a,i=l(t),o=i[0],s=i[1],c=new n(function(t,e,a){return 3*(e+a)/4-a}(0,o,s)),d=0,u=s>0?o-4:o;for(a=0;a<u;a+=4)e=r[t.charCodeAt(a)]<<18|r[t.charCodeAt(a+1)]<<12|r[t.charCodeAt(a+2)]<<6|r[t.charCodeAt(a+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;2===s&&(e=r[t.charCodeAt(a)]<<2|r[t.charCodeAt(a+1)]>>4,c[d++]=255&e);1===s&&(e=r[t.charCodeAt(a)]<<10|r[t.charCodeAt(a+1)]<<4|r[t.charCodeAt(a+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e);return c},a.fromByteArray=function(t){for(var e,a=t.length,r=a%3,n=[],o=0,s=a-r;o<s;o+=16383)n.push(d(t,o,o+16383>s?s:o+16383));1===r?(e=t[a-1],n.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[a-2]<<8)+t[a-1],n.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return n.join("")};for(var i=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)i[s]=o[s],r[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.indexOf("=");return-1===a&&(a=e),[a,a===e?0:4-a%4]}function d(t,e,a){for(var r,n,o=[],s=e;s<a;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(i[(n=r)>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],51:[function(t,e,a){},{}],52:[function(t,e,a){(function(e){(function(){"use strict";var e=t(50),i=t(53);a.Buffer=o,a.SlowBuffer=function(t){+t!=t&&(t=0);return o.alloc(+t)},a.INSPECT_MAX_BYTES=50;var r=2147483647;function n(t){if(t>r)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=o.prototype,e}function o(t,e,a){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return s(t,e,a)}function s(t,e,a){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var a=0|m(t,e),i=n(a),r=i.write(t,e);r!==a&&(i=i.slice(0,r));return i}(t,e);if(ArrayBuffer.isView(t))return d(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(B(t,ArrayBuffer)||t&&B(t.buffer,ArrayBuffer))return function(t,e,a){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(a||0))throw new RangeError('"length" is outside of buffer bounds');var i;i=void 0===e&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,e):new Uint8Array(t,e,a);return i.__proto__=o.prototype,i}(t,e,a);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return o.from(i,e,a);var r=function(t){if(o.isBuffer(t)){var e=0|u(t.length),a=n(e);return 0===a.length?a:(t.copy(a,0,0,e),a)}if(void 0!==t.length)return"number"!=typeof t.length||U(t.length)?n(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),e,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return c(t),n(t<0?0:0|u(t))}function d(t){for(var e=t.length<0?0:0|u(t.length),a=n(e),i=0;i<e;i+=1)a[i]=255&t[i];return a}function u(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function m(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||B(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var a=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===a)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return O(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return V(t).length;default:if(r)return i?-1:O(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,a){var i=t[e];t[e]=t[a],t[a]=i}function f(t,e,a,i,r){if(0===t.length)return-1;if("string"==typeof a?(i=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),U(a=+a)&&(a=r?0:t.length-1),a<0&&(a=t.length+a),a>=t.length){if(r)return-1;a=t.length-1}else if(a<0){if(!r)return-1;a=0}if("string"==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:h(t,e,a,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,a):Uint8Array.prototype.lastIndexOf.call(t,e,a):h(t,[e],a,i,r);throw new TypeError("val must be string, number or Buffer")}function h(t,e,a,i,r){var n,o=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,s/=2,c/=2,a/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var d=-1;for(n=a;n<s;n++)if(l(t,n)===l(e,-1===d?0:n-d)){if(-1===d&&(d=n),n-d+1===c)return d*o}else-1!==d&&(n-=n-d),d=-1}else for(a+c>s&&(a=s-c),n=a;n>=0;n--){for(var u=!0,m=0;m<c;m++)if(l(t,n+m)!==l(e,m)){u=!1;break}if(u)return n}return-1}function v(t,e,a,i){a=Number(a)||0;var r=t.length-a;i?(i=Number(i))>r&&(i=r):i=r;var n=e.length;i>n/2&&(i=n/2);for(var o=0;o<i;++o){var s=parseInt(e.substr(2*o,2),16);if(U(s))return o;t[a+o]=s}return o}function g(t,e,a,i){return H(O(e,t.length-a),t,a,i)}function b(t,e,a,i){return H(function(t){for(var e=[],a=0;a<t.length;++a)e.push(255&t.charCodeAt(a));return e}(e),t,a,i)}function k(t,e,a,i){return b(t,e,a,i)}function w(t,e,a,i){return H(V(e),t,a,i)}function y(t,e,a,i){return H(function(t,e){for(var a,i,r,n=[],o=0;o<t.length&&!((e-=2)<0);++o)a=t.charCodeAt(o),i=a>>8,r=a%256,n.push(r),n.push(i);return n}(e,t.length-a),t,a,i)}function L(t,a,i){return 0===a&&i===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(a,i))}function E(t,e,a){a=Math.min(t.length,a);for(var i=[],r=e;r<a;){var n,o,s,c,l=t[r],d=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u<=a)switch(u){case 1:l<128&&(d=l);break;case 2:128==(192&(n=t[r+1]))&&(c=(31&l)<<6|63&n)>127&&(d=c);break;case 3:n=t[r+1],o=t[r+2],128==(192&n)&&128==(192&o)&&(c=(15&l)<<12|(63&n)<<6|63&o)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:n=t[r+1],o=t[r+2],s=t[r+3],128==(192&n)&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&n)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(d=c)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),r+=u}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var a="",i=0;for(;i<e;)a+=String.fromCharCode.apply(String,t.slice(i,i+=x));return a}(i)}a.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,e,a){return s(t,e,a)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(t,e,a){return function(t,e,a){return c(t),t<=0?n(t):void 0!==e?"string"==typeof a?n(t).fill(e,a):n(t).fill(e):n(t)}(t,e,a)},o.allocUnsafe=function(t){return l(t)},o.allocUnsafeSlow=function(t){return l(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(B(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),B(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var a=t.length,i=e.length,r=0,n=Math.min(a,i);r<n;++r)if(t[r]!==e[r]){a=t[r],i=e[r];break}return a<i?-1:i<a?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var a;if(void 0===e)for(e=0,a=0;a<t.length;++a)e+=t[a].length;var i=o.allocUnsafe(e),r=0;for(a=0;a<t.length;++a){var n=t[a];if(B(n,Uint8Array)&&(n=o.from(n)),!o.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(i,r),r+=n.length}return i},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,a){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if((a>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,a);case"utf8":case"utf-8":return E(this,e,a);case"ascii":return C(this,e,a);case"latin1":case"binary":return T(this,e,a);case"base64":return L(this,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,a);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=a.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},o.prototype.compare=function(t,e,a,i,r){if(B(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===a&&(a=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||a>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=a)return 0;if(i>=r)return-1;if(e>=a)return 1;if(e>>>=0,a>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var n=r-i,s=a-e,c=Math.min(n,s),l=this.slice(i,r),d=t.slice(e,a),u=0;u<c;++u)if(l[u]!==d[u]){n=l[u],s=d[u];break}return n<s?-1:s<n?1:0},o.prototype.includes=function(t,e,a){return-1!==this.indexOf(t,e,a)},o.prototype.indexOf=function(t,e,a){return f(this,t,e,a,!0)},o.prototype.lastIndexOf=function(t,e,a){return f(this,t,e,a,!1)},o.prototype.write=function(t,e,a,i){if(void 0===e)i="utf8",a=this.length,e=0;else if(void 0===a&&"string"==typeof e)i=e,a=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(a)?(a>>>=0,void 0===i&&(i="utf8")):(i=a,a=void 0)}var r=this.length-e;if((void 0===a||a>r)&&(a=r),t.length>0&&(a<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var n=!1;;)switch(i){case"hex":return v(this,t,e,a);case"utf8":case"utf-8":return g(this,t,e,a);case"ascii":return b(this,t,e,a);case"latin1":case"binary":return k(this,t,e,a);case"base64":return w(this,t,e,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,t,e,a);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),n=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function C(t,e,a){var i="";a=Math.min(t.length,a);for(var r=e;r<a;++r)i+=String.fromCharCode(127&t[r]);return i}function T(t,e,a){var i="";a=Math.min(t.length,a);for(var r=e;r<a;++r)i+=String.fromCharCode(t[r]);return i}function S(t,e,a){var i=t.length;(!e||e<0)&&(e=0),(!a||a<0||a>i)&&(a=i);for(var r="",n=e;n<a;++n)r+=N(t[n]);return r}function _(t,e,a){for(var i=t.slice(e,a),r="",n=0;n<i.length;n+=2)r+=String.fromCharCode(i[n]+256*i[n+1]);return r}function A(t,e,a){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>a)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,a,i,r,n){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<n)throw new RangeError('"value" argument is out of bounds');if(a+i>t.length)throw new RangeError("Index out of range")}function M(t,e,a,i,r,n){if(a+i>t.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function P(t,e,a,r,n){return e=+e,a>>>=0,n||M(t,0,a,4),i.write(t,e,a,r,23,4),a+4}function I(t,e,a,r,n){return e=+e,a>>>=0,n||M(t,0,a,8),i.write(t,e,a,r,52,8),a+8}o.prototype.slice=function(t,e){var a=this.length;t=~~t,e=void 0===e?a:~~e,t<0?(t+=a)<0&&(t=0):t>a&&(t=a),e<0?(e+=a)<0&&(e=0):e>a&&(e=a),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=o.prototype,i},o.prototype.readUIntLE=function(t,e,a){t>>>=0,e>>>=0,a||A(t,e,this.length);for(var i=this[t],r=1,n=0;++n<e&&(r*=256);)i+=this[t+n]*r;return i},o.prototype.readUIntBE=function(t,e,a){t>>>=0,e>>>=0,a||A(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,a){t>>>=0,e>>>=0,a||A(t,e,this.length);for(var i=this[t],r=1,n=0;++n<e&&(r*=256);)i+=this[t+n]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,a){t>>>=0,e>>>=0,a||A(t,e,this.length);for(var i=e,r=1,n=this[t+--i];i>0&&(r*=256);)n+=this[t+--i]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},o.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},o.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,a,i){(t=+t,e>>>=0,a>>>=0,i)||D(this,t,e,a,Math.pow(2,8*a)-1,0);var r=1,n=0;for(this[e]=255&t;++n<a&&(r*=256);)this[e+n]=t/r&255;return e+a},o.prototype.writeUIntBE=function(t,e,a,i){(t=+t,e>>>=0,a>>>=0,i)||D(this,t,e,a,Math.pow(2,8*a)-1,0);var r=a-1,n=1;for(this[e+r]=255&t;--r>=0&&(n*=256);)this[e+r]=t/n&255;return e+a},o.prototype.writeUInt8=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUInt16BE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUInt32LE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUInt32BE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,a,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*a-1);D(this,t,e,a,r-1,-r)}var n=0,o=1,s=0;for(this[e]=255&t;++n<a&&(o*=256);)t<0&&0===s&&0!==this[e+n-1]&&(s=1),this[e+n]=(t/o>>0)-s&255;return e+a},o.prototype.writeIntBE=function(t,e,a,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*a-1);D(this,t,e,a,r-1,-r)}var n=a-1,o=1,s=0;for(this[e+n]=255&t;--n>=0&&(o*=256);)t<0&&0===s&&0!==this[e+n+1]&&(s=1),this[e+n]=(t/o>>0)-s&255;return e+a},o.prototype.writeInt8=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,a){return t=+t,e>>>=0,a||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,a){return P(this,t,e,!0,a)},o.prototype.writeFloatBE=function(t,e,a){return P(this,t,e,!1,a)},o.prototype.writeDoubleLE=function(t,e,a){return I(this,t,e,!0,a)},o.prototype.writeDoubleBE=function(t,e,a){return I(this,t,e,!1,a)},o.prototype.copy=function(t,e,a,i){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(a||(a=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<a&&(i=a),i===a)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-a&&(i=t.length-e+a);var r=i-a;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,a,i);else if(this===t&&a<e&&e<i)for(var n=r-1;n>=0;--n)t[n+e]=this[n+a];else Uint8Array.prototype.set.call(t,this.subarray(a,i),e);return r},o.prototype.fill=function(t,e,a,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,a=this.length):"string"==typeof a&&(i=a,a=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var r=t.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<a)throw new RangeError("Out of range index");if(a<=e)return this;var n;if(e>>>=0,a=void 0===a?this.length:a>>>0,t||(t=0),"number"==typeof t)for(n=e;n<a;++n)this[n]=t;else{var s=o.isBuffer(t)?t:o.from(t,i),c=s.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<a-e;++n)this[n+e]=s[n%c]}return this};var R=/[^+/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function O(t,e){var a;e=e||1/0;for(var i=t.length,r=null,n=[],o=0;o<i;++o){if((a=t.charCodeAt(o))>55295&&a<57344){if(!r){if(a>56319){(e-=3)>-1&&n.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&n.push(239,191,189);continue}r=a;continue}if(a<56320){(e-=3)>-1&&n.push(239,191,189),r=a;continue}a=65536+(r-55296<<10|a-56320)}else r&&(e-=3)>-1&&n.push(239,191,189);if(r=null,a<128){if((e-=1)<0)break;n.push(a)}else if(a<2048){if((e-=2)<0)break;n.push(a>>6|192,63&a|128)}else if(a<65536){if((e-=3)<0)break;n.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return n}function V(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,a,i){for(var r=0;r<i&&!(r+a>=e.length||r>=t.length);++r)e[r+a]=t[r];return r}function B(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function U(t){return t!=t}}).call(this)}).call(this,t(52).Buffer)},{50:50,52:52,53:53}],53:[function(t,e,a){a.read=function(t,e,a,i,r){var n,o,s=8*r-i-1,c=(1<<s)-1,l=c>>1,d=-7,u=a?r-1:0,m=a?-1:1,p=t[e+u];for(u+=m,n=p&(1<<-d)-1,p>>=-d,d+=s;d>0;n=256*n+t[e+u],u+=m,d-=8);for(o=n&(1<<-d)-1,n>>=-d,d+=i;d>0;o=256*o+t[e+u],u+=m,d-=8);if(0===n)n=1-l;else{if(n===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),n-=l}return(p?-1:1)*o*Math.pow(2,n-i)},a.write=function(t,e,a,i,r,n){var o,s,c,l=8*n-r-1,d=(1<<l)-1,u=d>>1,m=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:n-1,f=i?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+u>=1?m/c:m*Math.pow(2,1-u))*c>=2&&(o++,c/=2),o+u>=d?(s=0,o=d):o+u>=1?(s=(e*c-1)*Math.pow(2,r),o+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;t[a+p]=255&s,p+=f,s/=256,r-=8);for(o=o<<r|s,l+=r;l>0;t[a+p]=255&o,p+=f,o/=256,l-=8);t[a+p-f]|=128*h}},{}],54:[function(t,e,a){var i,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,d=[],u=!1,m=-1;function p(){u&&l&&(u=!1,l.length?d=l.concat(d):m=-1,d.length&&f())}function f(){if(!u){var t=c(p);u=!0;for(var e=d.length;e;){for(l=d,d=[];++m<e;)l&&l[m].run();m=-1,e=d.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];d.push(new h(t,e)),1!==d.length||u||c(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],55:[function(t,e,a){"use strict";var i=Object.prototype.hasOwnProperty;function r(t,e){return Array.isArray(t)?function(t,e){for(var a,i="",n="",o=Array.isArray(e),s=0;s<t.length;s++)(a=r(t[s]))&&(o&&e[s]&&(a=c(a)),i=i+n+a,n=" ");return i}(t,e):t&&"object"==typeof t?function(t){var e="",a="";for(var r in t)r&&t[r]&&i.call(t,r)&&(e=e+a+r,a=" ");return e}(t):t||""}function n(t){if(!t)return"";if("object"==typeof t){var e="";for(var a in t)i.call(t,a)&&(e=e+a+":"+t[a]+";");return e}return t+""}function o(t,e,a,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),a||-1===e.indexOf('"'))?(a&&(e=c(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}a.merge=function t(e,a){if(1===arguments.length){for(var i=e[0],r=1;r<e.length;r++)i=t(i,e[r]);return i}for(var o in a)if("class"===o){var s=e[o]||[];e[o]=(Array.isArray(s)?s:[s]).concat(a[o]||[])}else if("style"===o){var s=n(e[o]);s=s&&";"!==s[s.length-1]?s+";":s;var c=n(a[o]);c=c&&";"!==c[c.length-1]?c+";":c,e[o]=s+c}else e[o]=a[o];return e},a.classes=r,a.style=n,a.attr=o,a.attrs=function(t,e){var a="";for(var s in t)if(i.call(t,s)){var c=t[s];if("class"===s){c=r(c),a=o(s,c,!1,e)+a;continue}"style"===s&&(c=n(c)),a+=o(s,c,!1,e)}return a};var s=/["&<>]/;function c(t){var e=""+t,a=s.exec(e);if(!a)return t;var i,r,n,o="";for(i=a.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}r!==i&&(o+=e.substring(r,i)),r=i+1,o+=n}return r!==i?o+e.substring(r,i):o}a.escape=c,a.rethrow=function e(a,i,r,n){if(!(a instanceof Error))throw a;if(!("undefined"==typeof window&&i||n))throw a.message+=" on line "+r,a;try{n=n||t(51).readFileSync(i,"utf8")}catch(t){e(a,null,r)}var o=3,s=n.split("\n"),c=Math.max(r-o,0),l=Math.min(s.length,r+o);var o=s.slice(c,l).map(function(t,e){var a=e+c+1;return(a==r?"  > ":"    ")+a+"| "+t}).join("\n");a.path=i;a.message=(i||"Pug")+":"+r+"\n"+o+"\n\n"+a.message;throw a}},{51:51}],56:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(a,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(a,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(a,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(a,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(a,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return u.default}});var i=m(t(64)),r=m(t(65)),n=m(t(67)),o=m(t(68)),s=m(t(58)),c=m(t(70)),l=m(t(69)),d=m(t(63)),u=m(t(59));function m(t){return t&&t.__esModule?t:{default:t}}},{58:58,59:59,63:63,64:64,65:65,67:67,68:68,69:69,70:70}],57:[function(t,e,a){"use strict";function i(t){return 14+(t+64>>>9<<4)+1}function r(t,e){const a=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(a>>16)<<16|65535&a}function n(t,e,a,i,n,o){return r((s=r(r(e,t),r(i,o)))<<(c=n)|s>>>32-c,a);var s,c}function o(t,e,a,i,r,o,s){return n(e&a|~e&i,t,e,r,o,s)}function s(t,e,a,i,r,o,s){return n(e&i|a&~i,t,e,r,o,s)}function c(t,e,a,i,r,o,s){return n(e^a^i,t,e,r,o,s)}function l(t,e,a,i,r,o,s){return n(a^(e|~i),t,e,r,o,s)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let a=0;a<e.length;++a)t[a]=e.charCodeAt(a)}return function(t){const e=[],a=32*t.length;for(let i=0;i<a;i+=8){const a=t[i>>5]>>>i%32&255,r=parseInt("0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(15&a),16);e.push(r)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[i(e)-1]=e;let a=1732584193,n=-271733879,d=-1732584194,u=271733878;for(let e=0;e<t.length;e+=16){const i=a,m=n,p=d,f=u;a=o(a,n,d,u,t[e],7,-680876936),u=o(u,a,n,d,t[e+1],12,-389564586),d=o(d,u,a,n,t[e+2],17,606105819),n=o(n,d,u,a,t[e+3],22,-1044525330),a=o(a,n,d,u,t[e+4],7,-176418897),u=o(u,a,n,d,t[e+5],12,1200080426),d=o(d,u,a,n,t[e+6],17,-1473231341),n=o(n,d,u,a,t[e+7],22,-45705983),a=o(a,n,d,u,t[e+8],7,1770035416),u=o(u,a,n,d,t[e+9],12,-1958414417),d=o(d,u,a,n,t[e+10],17,-42063),n=o(n,d,u,a,t[e+11],22,-1990404162),a=o(a,n,d,u,t[e+12],7,1804603682),u=o(u,a,n,d,t[e+13],12,-40341101),d=o(d,u,a,n,t[e+14],17,-1502002290),n=o(n,d,u,a,t[e+15],22,1236535329),a=s(a,n,d,u,t[e+1],5,-165796510),u=s(u,a,n,d,t[e+6],9,-1069501632),d=s(d,u,a,n,t[e+11],14,643717713),n=s(n,d,u,a,t[e],20,-373897302),a=s(a,n,d,u,t[e+5],5,-701558691),u=s(u,a,n,d,t[e+10],9,38016083),d=s(d,u,a,n,t[e+15],14,-660478335),n=s(n,d,u,a,t[e+4],20,-405537848),a=s(a,n,d,u,t[e+9],5,568446438),u=s(u,a,n,d,t[e+14],9,-1019803690),d=s(d,u,a,n,t[e+3],14,-187363961),n=s(n,d,u,a,t[e+8],20,1163531501),a=s(a,n,d,u,t[e+13],5,-1444681467),u=s(u,a,n,d,t[e+2],9,-51403784),d=s(d,u,a,n,t[e+7],14,1735328473),n=s(n,d,u,a,t[e+12],20,-1926607734),a=c(a,n,d,u,t[e+5],4,-378558),u=c(u,a,n,d,t[e+8],11,-2022574463),d=c(d,u,a,n,t[e+11],16,1839030562),n=c(n,d,u,a,t[e+14],23,-35309556),a=c(a,n,d,u,t[e+1],4,-1530992060),u=c(u,a,n,d,t[e+4],11,1272893353),d=c(d,u,a,n,t[e+7],16,-155497632),n=c(n,d,u,a,t[e+10],23,-1094730640),a=c(a,n,d,u,t[e+13],4,681279174),u=c(u,a,n,d,t[e],11,-358537222),d=c(d,u,a,n,t[e+3],16,-722521979),n=c(n,d,u,a,t[e+6],23,76029189),a=c(a,n,d,u,t[e+9],4,-640364487),u=c(u,a,n,d,t[e+12],11,-421815835),d=c(d,u,a,n,t[e+15],16,530742520),n=c(n,d,u,a,t[e+2],23,-995338651),a=l(a,n,d,u,t[e],6,-198630844),u=l(u,a,n,d,t[e+7],10,1126891415),d=l(d,u,a,n,t[e+14],15,-1416354905),n=l(n,d,u,a,t[e+5],21,-57434055),a=l(a,n,d,u,t[e+12],6,1700485571),u=l(u,a,n,d,t[e+3],10,-1894986606),d=l(d,u,a,n,t[e+10],15,-1051523),n=l(n,d,u,a,t[e+1],21,-2054922799),a=l(a,n,d,u,t[e+8],6,1873313359),u=l(u,a,n,d,t[e+15],10,-30611744),d=l(d,u,a,n,t[e+6],15,-1560198380),n=l(n,d,u,a,t[e+13],21,1309151649),a=l(a,n,d,u,t[e+4],6,-145523070),u=l(u,a,n,d,t[e+11],10,-1120210379),d=l(d,u,a,n,t[e+2],15,718787259),n=l(n,d,u,a,t[e+9],21,-343485551),a=r(a,i),n=r(n,m),d=r(d,p),u=r(u,f)}return[a,n,d,u]}(function(t){if(0===t.length)return[];const e=8*t.length,a=new Uint32Array(i(e));for(let i=0;i<e;i+=8)a[i>>5]|=(255&t[i/8])<<i%32;return a}(t),8*t.length))};a.default=d},{}],58:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;a.default="00000000-0000-0000-0000-000000000000"},{}],59:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,r=(i=t(69))&&i.__esModule?i:{default:i};var n=function(t){if(!(0,r.default)(t))throw TypeError("Invalid UUID");let e;const a=new Uint8Array(16);return a[0]=(e=parseInt(t.slice(0,8),16))>>>24,a[1]=e>>>16&255,a[2]=e>>>8&255,a[3]=255&e,a[4]=(e=parseInt(t.slice(9,13),16))>>>8,a[5]=255&e,a[6]=(e=parseInt(t.slice(14,18),16))>>>8,a[7]=255&e,a[8]=(e=parseInt(t.slice(19,23),16))>>>8,a[9]=255&e,a[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,a[11]=e/4294967296&255,a[12]=e>>>24&255,a[13]=e>>>16&255,a[14]=e>>>8&255,a[15]=255&e,a};a.default=n},{69:69}],60:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;a.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],61:[function(t,e,a){"use strict";let i;Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)};const r=new Uint8Array(16)},{}],62:[function(t,e,a){"use strict";function i(t,e,a,i){switch(t){case 0:return e&a^~e&i;case 1:return e^a^i;case 2:return e&a^e&i^a&i;case 3:return e^a^i}}function r(t,e){return t<<e|t>>>32-e}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(t){const e=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let a=0;a<e.length;++a)t.push(e.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,o=Math.ceil(n/16),s=new Array(o);for(let e=0;e<o;++e){const a=new Uint32Array(16);for(let i=0;i<16;++i)a[i]=t[64*e+4*i]<<24|t[64*e+4*i+1]<<16|t[64*e+4*i+2]<<8|t[64*e+4*i+3];s[e]=a}s[o-1][14]=8*(t.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<o;++t){const n=new Uint32Array(80);for(let e=0;e<16;++e)n[e]=s[t][e];for(let t=16;t<80;++t)n[t]=r(n[t-3]^n[t-8]^n[t-14]^n[t-16],1);let o=a[0],c=a[1],l=a[2],d=a[3],u=a[4];for(let t=0;t<80;++t){const a=Math.floor(t/20),s=r(o,5)+i(a,c,l,d)+u+e[a]+n[t]>>>0;u=d,d=l,l=r(c,30)>>>0,c=o,o=s}a[0]=a[0]+o>>>0,a[1]=a[1]+c>>>0,a[2]=a[2]+l>>>0,a[3]=a[3]+d>>>0,a[4]=a[4]+u>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]};a.default=n},{}],63:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,r=(i=t(69))&&i.__esModule?i:{default:i};const n=[];for(let t=0;t<256;++t)n.push((t+256).toString(16).substr(1));var o=function(t,e=0){const a=(n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]).toLowerCase();if(!(0,r.default)(a))throw TypeError("Stringified UUID is invalid");return a};a.default=o},{69:69}],64:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t(61)),r=n(t(63));function n(t){return t&&t.__esModule?t:{default:t}}let o,s,c=0,l=0;var d=function(t,e,a){let n=e&&a||0;const d=e||new Array(16);let u=(t=t||{}).node||o,m=void 0!==t.clockseq?t.clockseq:s;if(null==u||null==m){const e=t.random||(t.rng||i.default)();null==u&&(u=o=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==m&&(m=s=16383&(e[6]<<8|e[7]))}let p=void 0!==t.msecs?t.msecs:Date.now(),f=void 0!==t.nsecs?t.nsecs:l+1;const h=p-c+(f-l)/1e4;if(h<0&&void 0===t.clockseq&&(m=m+1&16383),(h<0||p>c)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,l=f,s=m;const v=(1e4*(268435455&(p+=122192928e5))+f)%4294967296;d[n++]=v>>>24&255,d[n++]=v>>>16&255,d[n++]=v>>>8&255,d[n++]=255&v;const g=p/4294967296*1e4&268435455;d[n++]=g>>>8&255,d[n++]=255&g,d[n++]=g>>>24&15|16,d[n++]=g>>>16&255,d[n++]=m>>>8|128,d[n++]=255&m;for(let t=0;t<6;++t)d[n+t]=u[t];return e||(0,r.default)(d)};a.default=d},{61:61,63:63}],65:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t(66)),r=n(t(57));function n(t){return t&&t.__esModule?t:{default:t}}var o=(0,i.default)("v3",48,r.default);a.default=o},{57:57,66:66}],66:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t,e,a){function n(t,n,o,s){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let a=0;a<t.length;++a)e.push(t.charCodeAt(a));return e}(t)),"string"==typeof n&&(n=(0,r.default)(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+t.length);if(c.set(n),c.set(t,n.length),(c=a(c))[6]=15&c[6]|e,c[8]=63&c[8]|128,o){s=s||0;for(let t=0;t<16;++t)o[s+t]=c[t];return o}return(0,i.default)(c)}try{n.name=t}catch(t){}return n.DNS=o,n.URL=s,n},a.URL=a.DNS=void 0;var i=n(t(63)),r=n(t(59));function n(t){return t&&t.__esModule?t:{default:t}}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";a.DNS=o;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a.URL=s},{59:59,63:63}],67:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t(61)),r=n(t(63));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(t,e,a){const n=(t=t||{}).random||(t.rng||i.default)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){a=a||0;for(let t=0;t<16;++t)e[a+t]=n[t];return e}return(0,r.default)(n)};a.default=o},{61:61,63:63}],68:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t(66)),r=n(t(62));function n(t){return t&&t.__esModule?t:{default:t}}var o=(0,i.default)("v5",80,r.default);a.default=o},{62:62,66:66}],69:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,r=(i=t(60))&&i.__esModule?i:{default:i};var n=function(t){return"string"==typeof t&&r.default.test(t)};a.default=n},{60:60}],70:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,r=(i=t(69))&&i.__esModule?i:{default:i};var n=function(t){if(!(0,r.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)};a.default=n},{69:69}],71:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={campaign:{title:"Support the Liverpool Echo",body:"Our news online is free for everyone. If you can, please make a contribution and help us give Liverpool and Merseyside the coverage they need and deserve.",signature:"Ali Machray, Editor-in-Chief, Liverpool Echo"},heritage:{title:"Be part of our future",body:"Our news online is free for everyone. If you can, please make a contribution and help us give Liverpool and Merseyside the coverage they need and deserve.",signature:"Ali Machray, Editor-in-Chief, Liverpool Echo"}}},{}],72:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,r=t(71),n=(i=r)&&i.__esModule?i:{default:i};a.default={toggleCampaignAndHeritage:function(t){return t?n.default[t]:n.default.campaign}}},{71:71}],73:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r){a+='<a class="close-prompt" href="#">',a+="&times;</a>",a=(a+="<h1>")+i.escape(null==(e=r.title)?"":e)+"</h1>",a=(a+="<p>")+i.escape(null==(e=r.body)?"":e)+"</p>",a=(a+='<div class="button-wrapper">')+'<a class="contribute-button"'+i.attr("href",t,!0,!0)+">",a+="Contribute today</a></div>"}.call(this,"fullUrl"in r?r.fullUrl:"undefined"!=typeof fullUrl?fullUrl:void 0,"proposition"in r?r.proposition:"undefined"!=typeof proposition?proposition:void 0),a}},{55:55}],74:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r){a+='<a class="close-prompt" href="#">',a+="x</a>",a=(a+="<h1>")+i.escape(null==(e=r.title)?"":e)+"</h1>",a=(a=(a+="<p>")+i.escape(null==(e=r.body)?"":e)+"</p>")+'<a class="contribute-button"'+i.attr("href",t,!0,!0)+">",a+="Contribute today</a>"}.call(this,"fullUrl"in r?r.fullUrl:"undefined"!=typeof fullUrl?fullUrl:void 0,"proposition"in r?r.proposition:"undefined"!=typeof proposition?proposition:void 0),a}},{55:55}],75:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t){a+='<div class="thankyou-title">',a+="<h1>",a+="Thank you for contributing to the Liverpool Echo</h1></div>",a+='<div class="thankyou-body">',a+="<p>",a=(a+="We've emailed a receipt to ")+i.escape(null==(e=t)?"":e)+"</p></div>"}.call(this,"email"in r?r.email:"undefined"!=typeof email?email:void 0),a}},{55:55}],76:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=c(t(5)),r=c(t(73)),n=c(t(74)),o=c(t(75)),s=c(t(72));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){i.default.fire(window,"analytics.track",t)},d=function(t){return document.cookie.split(";").some(function(e){return e.trim().startsWith(t+"=")})},u=document.createElement("div"),m=function(t){t.preventDefault(),function(t,e,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var r=i.toUTCString();document.cookie=t+"="+e+"; expires="+r+"; path=/"}("prompt-closed","true",1);var e=document.querySelector(".footer-contribution");e.parentNode&&e.parentNode.removeChild(e),l("onCtaClose")},p=function(t){var e=document.querySelector(".mod-video.float-and-park-smaller.float-and-park"),a=document.querySelector(".footer-contribution.v1.prompt-is-shown"),i=document.querySelector(".footer-contribution.v2.prompt-is-shown"),r=u.classList.contains("prompt-is-shown");if(t){u.classList.add("prompt-is-shown"),!r&&l("onCtaLoad"),document.querySelector(".float-and-park")&&(a&&e.setAttribute("style","top:"+(a.getBoundingClientRect().y-240)+"px;"),i&&e.setAttribute("style","top:"+(i.getBoundingClientRect().y-240)+"px;"));var n=document.querySelector(".mod-header");i&&i.setAttribute("style","left:"+(n.getBoundingClientRect().x+n.scrollWidth-i.scrollWidth)+"px;"),document.querySelector("#div-gpt-ad-sticky-bottom-banner")&&a.setAttribute("style","bottom:60px;")}else u.classList.remove("prompt-is-shown"),e&&e.setAttribute("style","top:calc(100vh - 240px);"),a&&a.setAttribute("style","bottom:0px;")},f=function(){l("onCtaClick")},h=function(t){if(d("prompt-closed"))return!1;if("true"!==t.features["contributions-enable-unit"])return!1;if("true"===localStorage.getItem("hasContributed"))return!1;if(!localStorage.getItem("noFirstVisit"))return!1;if(!window.digitalData)return!1;if(window.digitalData.page.attributes.pageName.includes("Hillsborough"))return!1;var e=t.pageInfo||{};if(!Boolean(e.articleType))return!0;if(!["news","opinion"].includes(e.articleType||""))return!1;var a=window.digitalData.article.attributes;if(a.sensitiveArticle)return!1;var i=a.allTags||"";if(i.includes("Hillsborough"))return!1;if(i.includes("Liverpool City Centre"))return!1;if(i.includes("Liverpool Council"))return!1;var r=t.pageInfo.articleSubType;return!["advertorial","sponsored"].includes(r||"")};a.default={prompt:function(){if(localStorage.getItem("noFirstVisit")){var t=window.TMCONFIG,e=t.features["contributions-prompt-version"],a=t.features["contributions-prompt-proposition"];if(h(t)){u.className="footer-contribution "+e;var i=t.features["contributions-redirect-base-url"]+"?comingfrom="+(window.location&&encodeURIComponent(window.location.href));u.innerHTML=function(t){switch(t){case"v1":return r.default;case"v2":return n.default;default:return r.default}}(e)({fullUrl:i,proposition:s.default.toggleCampaignAndHeritage(a)});var o=document.querySelector("footer");if(!localStorage.getItem("noFirstVisit"))return!1;document.body.insertBefore(u,o),u.querySelector(".close-prompt").addEventListener("click",m),document.querySelector(".article-body")?window.addEventListener("scroll",function(){var t=function(){var t=document.querySelector(".article-body");if(!t)return!1;var e=Math.floor(t.scrollHeight/3*2)+t.offsetTop,a=t.scrollHeight+t.offsetTop,i=document.querySelector(".footer-contribution"),r=window.scrollY+i.getBoundingClientRect().y,n=window.scrollY+i.getBoundingClientRect().y+i.scrollHeight,o=i.classList.contains("prompt-is-shown")?e-i.scrollHeight-10:e;return{v1:r>o&&n<a,v2:r>o}}()[e];p(t)}):window.addEventListener("scroll",function(){p(!0)});var c=document.querySelector(".footer-contribution.v2.prompt-is-shown");c&&window.addEventListener("resize",function(){var t=document.querySelector(".mod-header");c.setAttribute("style","left:"+(t.getBoundingClientRect().x+t.scrollWidth-c.scrollWidth)+"px;")}),document.querySelector("a.contribute-button").addEventListener("click",f),document.querySelector(".prompt-is-shown")&&l("onCtaLoad")}}else localStorage.setItem("noFirstVisit","true")},thankYouInject:function(){var t=document.createElement("div"),e=document.querySelector(".mod-header"),a=localStorage.getItem("contributorEmail");t.className="mod-header nav-with-article thank-you-contribution",t.setAttribute("id","desktop-thankyou-contribution"),t.innerHTML=(0,o.default)({email:a});var r=localStorage.getItem("hasContributed"),n=localStorage.getItem("hasBeenGreeted");r&&"true"!==n&&(e.parentNode.insertBefore(t,e.nextSibling),localStorage.setItem("hasBeenGreeted","true"),i.default.fire(window,"analytics.track","onThankYouPage"))},getCookie:d}},{5:5,72:72,73:73,74:74,75:75}],77:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.COMMUNICATOR_PROPERTY_NAME=a.COMMUNICATOR_QUERY_PARAM=a.getCommunicatorId=a.setUserInfo=void 0;var i,r=t(5),n=(i=r)&&i.__esModule?i:{default:i};var o="ccid";a.setUserInfo=function(t,e){var a,i=window.commercialData&&window.commercialData.info;if(i){var r=i.user||{};r[t]=e,window.commercialData.info.user=r,a={commercialData:{info:{user:r}}},n.default.listen(window,"dataLayer.ready",function(t){t.data.update(a)})}},a.getCommunicatorId=function(){return new URLSearchParams(window.location.search).get(o)},a.COMMUNICATOR_QUERY_PARAM=o,a.COMMUNICATOR_PROPERTY_NAME="communicatorId"},{5:5}],78:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,r=t(5),n=(i=r)&&i.__esModule?i:{default:i},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t(7));var s=function(){var t=o.getBreakpoint(window.innerWidth);return{resize:function(){var e=o.getBreakpoint(window.innerWidth);t!==e&&(t=e,n.default.fire(document.body,"breakpointchange",t))}}}(),c={debounce:{resize:250,scroll:5,scrollChange:500},scrollDirection:null,topScrollOffset:{previous:0}};a.default=function(){window.addEventListener("resize",o.debounce(function(){void 0===window.orientation&&document.body.classList.add("processing"),n.default.fire(window,"resize.start")},c.debounce.resize,!0)),window.addEventListener("resize",o.debounce(function(){void 0===window.orientation&&document.body.classList.remove("processing"),n.default.fire(window,"resize.stop")},c.debounce.resize)),window.addEventListener("scroll",o.debounce(function(){n.default.fire(window,"scroll.start")},c.debounce.scroll,!0)),window.addEventListener("scroll",o.debounce(function(){n.default.fire(window,"scroll.stop")},c.debounce.scroll)),window.addEventListener("resize.stop",s.resize),window.addEventListener("scroll",o.debounce(function(){var t,e,a;t=c.topScrollOffset.previous,e=window.pageYOffset,a=e>t?"down":"up",t===e||e<0||document.body.setAttribute("data-scroll-direction",a),c.topScrollOffset.previous=window.pageYOffset},c.debounce.scrollChange)),window.addEventListener("touchmove",o.debounce(function(){n.default.fire(window,"touchmove.start")},c.debounce.scroll,!0)),window.addEventListener("touchmove",o.debounce(function(){n.default.fire(window,"touchmove.stop")},c.debounce.scroll));var t=new Promise(function(t){n.default.domReady(function(e){t(e)})}),e=new Promise(function(t){n.default.listen(window,"dataLayer.ready",function(e){t(e)})});if(Promise.all([t,e]).then(function(){n.default.fire(document.body,"tm.ready"),n.default.fire(window,"analytics.mark","tm.ready")}),window.PerformanceObserver){var a=new window.PerformanceObserver(function(t){t.getEntries().forEach(function(t){var e=t.name,a=t.startTime;try{window.digitalData.page.info.timing[e.replace(/-([a-z])/gi,function(t){return t[1].toUpperCase()})]=a}catch(t){}})});try{a.observe({entryTypes:["paint"]})}catch(t){}}}},{5:5,7:7}],79:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(2).component.create({init:function(){}});a.default=i},{2:2}],80:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=n(t(3)),r=n(t(81));function n(t){return t&&t.__esModule?t:{default:t}}a.default=i.default.create({init:function(t){var e,a=(e="GS_RESTRICT",(e=(document.cookie+";").match(new RegExp(e+"=.*;")))&&e[0].split(/=|;/)[1]);if(1===parseInt(a)){t.innerHTML=(0,r.default)();var i=t.children[0];t.parentNode.replaceChild(i,t),document.querySelector("body").classList.add("gs-content-lock")}},offsets:{top:0}})},{3:3,81:81}],81:[function(t,e,a){t(55);e.exports=function(t){var e="";return e+='<div class="geoblock">',e+='<div class="geoblock-overlay"></div>',e+='<div class="geoblock-alert">',e+='<p class="geoblock-header">',e+="Page unavailable</p>",e+="<p>",e+="Sorry, we can't serve this content to the country you're visiting from</p></div></div>"}},{55:55}],82:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,r=t(3),n=(i=r)&&i.__esModule?i:{default:i};function o(t,e){var a="data-"+e;t.hasAttribute(a)&&(t.setAttribute(e,t.getAttribute(a)),t.removeAttribute(a))}function s(t){var e=t.querySelector("img"),a=window.TMCONFIG&&window.TMCONFIG.features||{};if(1===a.mobileImageCropTest&&t.querySelector("meta[itemprop=height]")&&t.querySelector("meta[itemprop=width]")){var i=t.querySelector("meta[itemprop=width]").getAttribute("content"),r=t.querySelector("meta[itemprop=height]").getAttribute("content"),n=t.querySelector(".outer .spacer");null!==n&&(n.style.paddingTop="0%"),i/r<1?(t.setAttribute("style","width:50%; margin:0 0 8px 8px; float:right;"),e.setAttribute("data-src",e.getAttribute("data-src").replace("s615b","n310p"))):e.setAttribute("data-src",e.getAttribute("data-src").replace("s615b","n615").replace("s615","n615"))}var s=e.getAttribute("data-inline-image");if(a.articleImageCrops&&"true"===s){var c=e.getAttribute("data-src");if(c&&c.includes("s615b")){var l=a.articleImageCrops.split(",").map(function(t){return t.split("/")}).map(function(t){return c.replace("s615b",t[0])+" "+t[1]});e.setAttribute("data-srcset",l.toString())}a.articleImageSizes&&e.setAttribute("sizes",a.articleImageSizes)}o(e,"srcset"),o(e,"src")}a.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t=JSON.parse(t)}catch(e){t={}}var a=t.offset&&t.offset[e.breakpoint]||"number"==typeof t.offset&&t.offset||500;return n.default.create({init:s,offsets:{top:a,bottom:a}})}},{3:3}],83:[function(t,e,a){"use strict";var i=c(t(84)),r=c(t(86)),n=c(t(103)),o=c(t(99)),s=t(100);function c(t){return t&&t.__esModule?t:{default:t}}var l,d="oxj1rd1qQwC_xhOgfzADig"===(l=void 0===(l=(window.TMCONFIG||{}).experiment)?{}:l).experimentId;d&&(0,s.initWhenReady)();var u={mostRead:r.default,tabs:n.default,recommendations:o.default.init(null,d)};(0,i.default)(u,"article")},{100:100,103:103,84:84,86:86,99:99}],84:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.TMFeatures=void 0;var i=E(t(106)),r=E(t(78)),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t(7)),o=E(t(82)),s=E(t(15)),c=E(t(116)),l=E(t(5)),d=t(136),u=E(t(105)),m=E(t(129)),p=E(t(92)),f=E(t(88)),h=E(t(87)),v=E(t(79)),g=E(t(104)),b=E(t(80)),k=E(t(108)),w=E(t(76)),y=t(77),L=E(t(85));function E(t){return t&&t.__esModule?t:{default:t}}var x=t(131).CONSTANTS.NOTIFICATION,C=window.TMCONFIG&&window.TMCONFIG.features||{},T={breakpoint:n.getBreakpoint()},S={image:(0,o.default)(C.image,T),pancakes:s.default,offlineLoader:c.default,geoblock:b.default,lazyResources:k.default,newsletterPreferences:p.default,myBookmarks:h.default,experience:v.default,whatsAppCommunity:g.default,newsletterPreferencesSolus:f.default};"true"===C.viafouraEnabled&&("true"===C.viafouraNewCdn?window.$script("https://cdn.viafoura.net/entry/index.js"):window.$script("https://cdn.viafoura.net/vf-v2.js"));var _=C.PWA;if(_)try{_=JSON.parse(_)}catch(t){_=_||{}}if(_){var A=(0,d.validate)(_.subsets,_.scope);if(A){var D=""+location.hostname+A.homepage;if(_.combinedPrompt){var M=(0,m.default)(D,(0,d.getManifest)(D),A.options||_.options);Object.assign(S,M)}}}var P=new URLSearchParams(window.location.search).get("utm_source");if(P&&"push"===P){var I={"Event Category":x.CATEGORY,"Event Action":x.NOTIFICATION_OPENED,"Event Label":new URL("/",location).href};(0,d.analytics)(x.SERVICE_NAME,I,x.CATEGORY),(0,d.analytics)("pwaPushClicked",1)}if(window.location.hash.includes("source=pwa")&&(0,d.analytics)("pwaLaunched",1),C.breakingNews?(0,u.default)():C.breakingNewsPull&&(0,u.default)("Pull"),window.location.search.includes(y.COMMUNICATOR_QUERY_PARAM)){var R=(0,y.getCommunicatorId)();(0,y.setUserInfo)(y.COMMUNICATOR_PROPERTY_NAME,R)}w.default.prompt(),w.default.thankYouInject(),a.default=function(t,e){"true"===window.TMCONFIG.features["mvtTests.enable"]&&L.default.felizAsap(L.default.mvtTracking),Object.assign(S,t),(0,r.default)(),(0,i.default)(S,C),l.default.fire(window,"analytics.mark",e)},a.TMFeatures=C},{104:104,105:105,106:106,108:108,116:116,129:129,131:131,136:136,15:15,5:5,7:7,76:76,77:77,78:78,79:79,80:80,82:82,85:85,87:87,88:88,92:92}],85:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(t(7));a.default={felizAsap:function(t){return new Promise(function(e,a){try{window.feliz?t():document.addEventListener("FELIZ",function(){return t()}),e()}catch(t){window.console.error(t),a()}})},mvtTracking:function(){var t=JSON.parse(window.TMCONFIG.features.mvtTests||"[]").filter(function(t){return""!==t}),e=void 0;if(!(t.length&&t.length>=1))throw new Error("MVT experiment not set in section params array");t.length>1&&window.console.log("More than one experience, how to match optimize ID. Make sure the tracked experiment is the first in the array"),e=t[0];var a=window.TMCONFIG.features["mvtTests.googleOptimizeId"],r=function(t){var e=i.getCookie(t);if(!e)throw new Error("MVT cookie not set");return e}(e);r&&window.feliz.event("optimise-experiment",{id:(a||e)+"."+r})}}},{7:7}],86:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(2);function r(t){Array.from(t.querySelectorAll('[data-mod="tabs"]')).map(function(t){t.removeAttribute("data-ignore")})}var n=i.component.create({init:function(t){i.events.listen(document.body,"injection.complete.mostRead",function(){var e,a;e=t.cloneNode(!0),(a=document.getElementById("most-read-secondary"))&&(e.setAttribute("data-ignore",!0),r(e),a.appendChild(e),i.component.activate(a)),r(t)})}});a.default=n},{2:2}],87:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(2).component.create({init:function(){}});a.default=i},{2:2}],88:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(2).component.create({init:function(){}});a.default=i},{2:2}],89:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r){a+='<div id="pref-centre">',a+='<h1 class="pref-centre--title">',a+="Newsletter Preferences</h1>",a+='<div id="main-container">',r.length>0&&(a+='<div class="unsubscribe">',a+=" ",a+="You have successfully ",a+="<strong>",a+="UNSUBSCRIBED </strong>",a=(a+="from ")+i.escape(null==(e=r)?"":e)+"</div>"),a+='<div class="messages" style="display:none;"></div>',a+='<div id="email-container">',a+='<label class="pref-centre--subtitle" for="email">',a+='Get the latest updates emailed to your inbox on the subjects that matter to you most. Sign up by clicking on the emails you want to get, then scroll down and select "Save changes"</label>',a+='<input class="email" name="email" type="hidden" data-pure360-email placeholder="Please enter your email address">',a+='<div class="email" style="display:none;"></div></div>',a+='<div id="newsletter-sections"></div></div>',a+='<div class="modal" id="email-modal-container">',a+='<div class="modal-backdrop"></div>',a+='<form id="email-modal-form">',a+='<div class="modal-content">',a+='<div class="modal-body">',a+='<div class="close-modal-button" onclick="window.hideModal(&quot;#email-modal-container&quot;);">',a+='<img src="/@trinitymirrordigital/marwood/TM/img/preference-centre/close_button_chameleon.svg"></div>',a+="<h1>",a+="Enter your email to complete.</h1>",a+='<input class="email" name="email" type="text" data-pure360-email placeholder="Please enter your email address">',a+='<input id="publicationName" name="publicationName" type="hidden">',a+='<input id="friendlyName" name="friendlyName" type="hidden">',a+='<button class="brand-hi" id="complete-button" type="submit">',a+="Complete</button></div>",a+='<div class="consent-text">',a+="IMPORTANT NOTICE ",a+=null==(e=t)?"":e,a+='<a href="/privacy-notice/">',a+=" More info.</a></div></div></form></div>",a+='<div class="modal" id="success-modal-container">',a+='<div class="modal-backdrop"></div>',a+='<div class="modal-content">',a+='<div class="modal-body">',a+='<div class="success-icon">',a+='<img src="/@trinitymirrordigital/marwood/TM/img/preference-centre/check-white.svg"></div>',a+='<h1 class="success">',a+="Success!",a+="<br>",a+="Your preferences have been updated.</h1>",a+='<button class="brand-hi" id="close-button" type="button" onclick="window.hideModal(&quot;#success-modal-container&quot;);">',a+="Close</button></div>",a+='<div class="consent-text">',a+="IMPORTANT NOTICE ",a+=null==(e=t)?"":e,a+='<a href="/privacy-notice/">',a+=" More info.</a></div></div></div></div>"}.call(this,"consentText"in r?r.consentText:"undefined"!=typeof consentText?consentText:void 0,"listName"in r?r.listName:"undefined"!=typeof listName?listName:void 0),a}},{55:55}],90:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r,n,o){a+='<section class="publication-preferences">';const s=0==n?"collapse-toggle visible-form":"collapse-toggle hidden-form",c=0==n?"display:block;":"display:none;";a=a+'<div class="publication-header"'+i.attr("onclick","window.toggleForm('"+o.publicationData.name+"');",!0,!0)+">",a=(a=(a=(a+="<h2>")+i.escape(null==(e=o.publicationData.friendlyName)?"":e)+"</h2>")+"<span"+(i.attr("class",i.classes([s],[!0]),!1,!0)+i.attr("data-collapse-publication-id",o.publicationData.name,!0,!0))+"></span></div>")+'<div class="publication-form"'+i.attr("data-publication-form-container",!0,!0,!0)+i.attr("data-publication-id",o.publicationData.name,!0,!0)+i.attr("style",i.style(c),!0,!0)+">",a+="<ul>",function(){var r=o.newsletters;if("number"==typeof r.length)for(var n=0,s=r.length;n<s;n++){var c=r[n];a=(a=(a+="<form data-pure360-preferenceCentre>")+'<label class="newsletter-label"'+i.attr("for",c.newsletterDisplayName,!0,!0)+">")+i.escape(null==(e=c.newsletterDisplayName)?"":e)+"</label>",a=(a+='<label class="switch">')+'<input class="checkbox" type="checkbox"'+i.attr("name",c.newsletterDisplayName,!0,!0)+i.attr("data-pure360-listToggle",!0,!0,!0)+">",a=(a=(a+='<span class="slider round"></span></label>')+'<input type="hidden" name="accName"'+i.attr("value",c.profile,!0,!0)+">")+'<input type="hidden" name="listName"'+i.attr("value",c.pure360MailingListID,!0,!0)+">",a+='<input type="hidden" name="fullEmailValidationInd" value="N">',a=(a+='<input type="hidden" name="SignUpSource" value="Preference">')+'<input type="hidden" name="doubleOptin"'+i.attr("value",c.doubleOptInMessage&&c.doubleOptInMessage.length>0?"true":"false",!0,!0)+">",a+='<input type="hidden" name="email">',a+='<input type="hidden" name="TrackingId" readonly data-uuid>',a+='<input type="hidden" name="MailingListId">',a=(a+='<input type="hidden" name="PublicationId">')+'<input type="hidden" name="ConsentDate"'+i.attr("value",t,!0,!0)+"></form>"}else for(var n in s=0,r)s++,c=r[n],a=(a=(a+="<form data-pure360-preferenceCentre>")+'<label class="newsletter-label"'+i.attr("for",c.newsletterDisplayName,!0,!0)+">")+i.escape(null==(e=c.newsletterDisplayName)?"":e)+"</label>",a=(a+='<label class="switch">')+'<input class="checkbox" type="checkbox"'+i.attr("name",c.newsletterDisplayName,!0,!0)+i.attr("data-pure360-listToggle",!0,!0,!0)+">",a=(a=(a+='<span class="slider round"></span></label>')+'<input type="hidden" name="accName"'+i.attr("value",c.profile,!0,!0)+">")+'<input type="hidden" name="listName"'+i.attr("value",c.pure360MailingListID,!0,!0)+">",a+='<input type="hidden" name="fullEmailValidationInd" value="N">',a=(a+='<input type="hidden" name="SignUpSource" value="Preference">')+'<input type="hidden" name="doubleOptin"'+i.attr("value",c.doubleOptInMessage&&c.doubleOptInMessage.length>0?"true":"false",!0,!0)+">",a+='<input type="hidden" name="email">',a+='<input type="hidden" name="TrackingId" readonly data-uuid>',a+='<input type="hidden" name="MailingListId">',a=(a+='<input type="hidden" name="PublicationId">')+'<input type="hidden" name="ConsentDate"'+i.attr("value",t,!0,!0)+"></form>"}.call(this),a=a+'<input class="brand-hi submit-button" type="submit" value="Save changes"'+i.attr("onclick","window.publicationFormSubmit('"+o.publicationData.name+"', '"+o.publicationData.friendlyName+"');",!0,!0)+i.attr("data-save-button-id",o.publicationData.name,!0,!0)+"></ul>",a+='<div class="privacy-notice">',a+="<h3>",a+="IMPORTANT NOTICE</h3>",a+="<p>",a+=" ",a+=null==(e=r)?"":e,a+='<a href="/privacy-notice/">',a+=" More info.</a></p></div></div></section>"}.call(this,"consentDate"in r?r.consentDate:"undefined"!=typeof consentDate?consentDate:void 0,"consentText"in r?r.consentText:"undefined"!=typeof consentText?consentText:void 0,"index"in r?r.index:"undefined"!=typeof index?index:void 0,"section"in r?r.section:"undefined"!=typeof section?section:void 0),a}},{55:55}],91:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.ENDPOINTS={NOW_AWS:"https://4id0n8uq30.execute-api.eu-west-1.amazonaws.com/v1/"},a.INPUT_TYPES={INPUT:"INPUT",CHECKBOX:"CHECKBOX",SELECT:"SELECT"},a.ACTIONS={UPDATE:"update",REMOVE:"remove",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"},a.COOKIE={BASE_NAME:"mailing-list-subscribed",DURATION:365}},{}],92:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(56),r=t(2),n=u(t(5)),o=t(93),s=t(91),c=u(t(89)),l=u(t(90)),d=t(7);function u(t){return t&&t.__esModule?t:{default:t}}var m=window.TMCONFIG.publication,p=window.TMCONFIG.frontendRoot,f=new URLSearchParams(decodeURIComponent(location.search).split("?")[2])||"",h=new URLSearchParams(location.search),v=function(t,e){return t.querySelector(e)},g=function(t,e){return Array.from(t.querySelectorAll(e))},b=function(){var t="";return g(document,"input[data-pure360-email]").forEach(function(e){e.value&&(t=e.value)}),t},k=function(){return f.get("email")},w=[],y=function(t){g(document,"div[data-publication-id="+t+"] form[data-pure360-preferenceCentre]").map(function(t){return{form:t,preferencesPromise:function(t){var e=window.TMCONFIG.features.newslettersBaseUrl;return fetch(e+"/interface/signup_preload.php?email="+k()+"&url="+t).then(function(t){return t.text()}).then(function(t){var e=(new DOMParser).parseFromString(t,"text/html");return g(e,"input").map(function(t){return{name:t.name,value:t.value}})})}(function(t,e){var a=v(t,'input[name="accName"]').value,i=v(t,'input[name="listName"]').value,r=s.ENDPOINTS.NOW_AWS,n=g(t,"input, select").map(function(t){return t.name.replace("[]","").replace("-all","")}).filter(function(t,e,a){return a.indexOf(t)===e}).filter(function(t){return t.length}).filter(function(t){return!["accName","listName","fullEmailValidationInd","doubleOptin","dobDay","dobMonth","dobYear","SignUpSource",e].includes(t)}).join(",");return r+"/"+a.toLowerCase()+"/"+i.toLowerCase()+"/"+n}(t,v(t,'input[type="checkbox"][data-pure360-listToggle]').name))}}).map(function(t){var e=t.form;t.preferencesPromise.then(function(t){x({form:e,preferences:t}),C(e)})})},L=function(t){return t?t.replace(/^(.)(.*)(@)(.*)(\..*)$/,function(t,e,a,i,r,n){return e+a.replace(/./g,"*")+i+r.replace(/./g,"*")+n}):""},E=function(t,e,a,i,r){v(document,"input[data-pure360-email]").setAttribute("readonly",!0);var c=window.TMCONFIG.features.newslettersBaseUrl+"/interface/list.php",l=e===s.ACTIONS.REMOVE?s.ACTIONS.UNSUBSCRIBE:s.ACTIONS.SUBSCRIBE,d=g(t,'input[type="checkbox"]:checked, input:not([type="checkbox"]):not([type="submit"]), select').map(function(t){return{key:t.name,value:t.value,type:t.tagName}}).reduce(function(t,e){return t[e.key]?t[e.key]=[t[e.key],e.value].join(","):t[e.key]=encodeURIComponent(e.value),t},{}),u=new XMLHttpRequest;u.open("POST",c),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),u.onreadystatechange=function(){4===u.readyState&&200===u.status&&("OK"===u.responseText?(e===s.ACTIONS.UPDATE?(n.default.fire(window,"analytics.track",{name:"newsletter_registered",category:"newsletter_subscription",value:{details:{label:"PreferenceCentre"}}}),n.default.fire(window,"analytics.track",{name:"success",category:"custom.newsletter"}),t.setAttribute("data-subscribed","true")):t.removeAttribute("data-subscribed"),(0,o.handleNewsletterCookie)(r,e),window.showModal("#success-modal-container"),window.hideModal("#email-modal-container")):window.alert("Sorry, we are having trouble to "+l+" "+(l===s.ACTIONS.SUBSCRIBE?"to":"from")+" "+a+" "+i+". Please try again later"))},e&&(d.mode=e);var m=Object.entries(d).map(function(t){return t.join("=")}).join("&");u.send(m)},x=function(t){var e=t.form;t.preferences.map(function(t){var a=t.name;return v(e,'*[name="'+a+'"]')&&(t.type=v(e,'*[name="'+a+'"]').tagName),v(e,'input[name="'+a+'[]"][type="checkbox"]')&&(t.type=s.INPUT_TYPES.CHECKBOX),t}).map(function(t){var a=t.name,i=t.type,r=t.value;i===s.INPUT_TYPES.INPUT?v(e,'input[name="'+a+'"]').value=r:i===s.INPUT_TYPES.SELECT?v(e,'select[name="'+a+'"]').value=r:i===s.INPUT_TYPES.CHECKBOX&&r.split(",").forEach(function(t){t&&(v(e,'input[name="'+a+'[]"][value="'+t+'"]').checked=!0)})})},C=function(t){v(t,"input[data-uuid]").value.length||(v(t,"input[data-uuid]").value=(0,i.v4)());var e=v(t,'input[name="accName"]').value,a=v(t,'input[name="listName"]').value,r=(0,o.getListTaxonomy)(w,e,a);v(t,'input[name="MailingListId"]').value=r.listId,v(t,'input[name="PublicationId"]').value=r.pubId,v(t,'input[name="email"]').value.length&&(t.setAttribute("data-subscribed","true"),v(t,'input[type="checkbox"][data-pure360-listToggle]').checked=!0,v(document,"input[data-pure360-email]").value=v(t,'input[name="email"]').value,v(document,"input[data-pure360-email]").setAttribute("readonly",!0),v(document,"div.email").style.display="block",v(document,"div.email").innerHTML=L(v(t,'input[name="email"]').value))};window.toggleForm=function(t){var e=v(document,".collapse-toggle[data-collapse-publication-id='"+t+"']"),a=e.parentElement.nextSibling;"none"===a.style.display?(a.style.display="block",e.classList.remove("hidden-form"),e.classList.add("visible-form")):(a.style.display="none",e.classList.remove("visible-form"),e.classList.add("hidden-form"))};var T=function(){var t=p+"/@trinitymirrordigital/newsletter-pref-centre/"+m+".json";(0,o.getJSON)(t,function(t,e){t?window.console.error("[Newsletters] unable to load config file :",t):function(t){var e=v(document,"#newsletter-sections");t.sections.forEach(function(t,a){var i=(0,l.default)({section:t,index:a,consentText:window.TMCONFIG.features.consentText,consentDate:window.TMCONFIG.features.consentDate});e.insertAdjacentHTML("beforeend",i)});var a=g(e,"div[data-publication-form-container]");a&&a.length>0&&a.map(function(t){var e=t.getAttribute("data-publication-id");y(e)})}(e)})},S=function(t){return fetch(t).then(function(t){return t.json()}).catch(function(t){return window.console.error("[Newsletters] unable to load/parse taxonomy file :",t),[]}).then(function(t){return w=t})},_=function(t){if(0===t.length)return!1;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},A=function(t){t.preventDefault(),_(b())?window.publicationFormSubmit(v(document,"input#publicationName").value,v(document,"input#friendlyName").value):alert("Please enter your email address to confirm changes")};window.hideModal=function(t){v(document,t).style.display="none"},window.showModal=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";v(document,t).style.display=e},window.publicationFormSubmit=function(t,e){var a=g(document,'div[data-publication-id="'+t+'"] form[data-pure360-preferenceCentre]');if(0!==g(document,"input[data-pure360-listToggle]:checked").length||b()){if(!_(b()))return v(document,"input#publicationName").value=t,v(document,"input#friendlyName").value=e,void window.showModal("#email-modal-container");v(document,"div.email").style.display="block",v(document,"div.email").innerHTML=L(b());var i=!1;a.forEach(function(t){var a=v(t,"input[data-pure360-listToggle]"),r={publicationId:v(t,'input[name="PublicationId"]').value,mailingListName:v(t,'input[name="listName"]').value,mailingListId:v(t,'input[name="MailingListId"]').value,trackingId:v(t,'input[name="TrackingId"]').value},n=s.COOKIE.BASE_NAME+"-"+r.mailingListName.split(" ").join(""),o=(0,d.getCookie)(n);if(o){var c=decodeURIComponent(o).split("trackingId:")[1];r.trackingId=c}var l=t.getAttribute("data-subscribed");if(a.checked){if(l)return;v(t,'input[name="email"]').value&&k()||(v(t,'input[name="email"]').value=b()),E(t,s.ACTIONS.UPDATE,e,a.name,r),i=!0}else{if(!l)return;v(t,'input[name="email"]').value.length&&(v(document,"input[data-pure360-email]").value=v(t,'input[name="email"]').value,E(t,s.ACTIONS.REMOVE,e,a.name,r),i=!0)}}),i||window.alert("It doesn't look like you made any changes")}else window.alert("Please select a newsletter")},window.toggleSelect=function(t,e){g(document,'div[data-publication-id="'+e+'"] form[data-pure360-preferenceCentre]').forEach(function(e){return v(e,'input[type="checkbox"][data-pure360-listToggle]').checked="on"===t})};var D=r.component.create({init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("true"!==window.TMCONFIG.features.useNewPreferenceCentre)return document.getElementById("newsletter-preferences-container").innerHTML=(0,c.default)({emailHash:t.length>0?t:k(),listName:e.length>0?e:h.get("listName")||"",consentText:window.TMCONFIG.features.consentText,newslettersBaseUrl:window.TMCONFIG.features.newslettersBaseUrl}),document.getElementById("email-modal-form").addEventListener("submit",A),S(p+"/@trinitymirrordigital/newsletter-pref-centre/taxonomy.json").then(function(){return T()}).then(function(t){return function t(){return new Promise(function(e,a){"function"==typeof window.chartbeat?(n.default.fire(window,"analytics.track",{name:"newsletter_viewable",category:"newsletter_subscription",value:{details:{label:"PreferenceCentre"}}}),e("ok")):(setTimeout(t,1e3),a("retrying"))}).catch(function(t){"retrying"===t?window.console.log("retrying"):window.console.log("event error")})}(),t})}});a.default=D},{2:2,5:5,56:56,7:7,89:89,90:90,91:91,93:93}],93:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.handleNewsletterCookie=a.getListTaxonomy=a.getJSON=void 0;var i=t(7),r=t(91),n=function(t,e,a){return t.reduce(function(t,a){return t&&t[a]?t[a]:e},a)};a.getJSON=function(t,e){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="json",a.onload=function(){var t=a.status;200==t?e(null,a.response):e(t)},a.send()},a.getListTaxonomy=function(t,e,a){var i={listId:"",pubId:""},r=t.find(function(t){return n(["@type"],[],t).includes("http://reachplc.com/mailinglists#Profile")&&n(["http://www.w3.org/2000/01/rdf-schema#label",0,"@value"],"",t).toLowerCase()===e.toLowerCase()});if(!r)return window.console.warn('[Newsletters] unable to locate taxonomy profile for "'+e+'"'),i;var o=t.reduce(function(t,e){return t[e["@id"]]=e,t},{}),s=n(["http://www.w3.org/2004/02/skos/core#narrower"],[],r).map(function(t){return n(["@id"],"",t)}).map(function(t){return n([t],"",o)}).map(function(t){return n(["http://www.w3.org/2004/02/skos/core#narrower"],[],t).map(function(t){return n(["@id"],"",t)})}).flat().find(function(t){return n([t,"http://www.w3.org/2004/02/skos/core#altLabel",0,"@value"],"",o).toLowerCase()===a.toLowerCase()});i.listId=n([s,"http://purl.org/dc/elements/1.1/identifier",0,"@value"],"",o);var c=n([s,"http://www.w3.org/2004/02/skos/core#broader",0,"@id"],"",o);return i.pubId=n([c,"http://purl.org/dc/elements/1.1/identifier",0,"@value"],"",o),i.listId&&i.pubId||window.console.warn('[Newsletters] unable to locate taxonomy for "'+e+":"+a+'"'),i},a.handleNewsletterCookie=function(t,e){var a=t.publicationId,n=t.mailingListName,o=t.mailingListId,s=t.trackingId;if(a&&n&&o&&s&&e){var c=encodeURIComponent(r.COOKIE.BASE_NAME+"-"+n.split(" ").join("")),l=encodeURIComponent("publicationId:"+a+"mailingListId:"+o+"trackingId:"+s);e===r.ACTIONS.UPDATE&&(0,i.setCookie)(c,l,r.COOKIE.DURATION),e===r.ACTIONS.REMOVE&&(0,i.delCookie)(c)}}},{7:7,91:91}],94:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r={},n=t||{};return function(t,n,o,s,c,l,d,u,m,p,f,h,v,g,b){var k=h||{},w=new o(k.url);w.origin.includes("liverpoolecho")?k.publicationName="liverpoolecho":w.origin.includes("birminghammail")?k.publicationName="birminghammail":w.origin.includes("glasgowlive")?k.publicationName="glasgowlive":w.origin.includes("belfastlive")&&(k.publicationName="belfastlive"),w.origin.includes("bertha")?k.environment="bertha":w.origin.includes("stable")?k.environment="stable":k.environment="prod",k.id=k.articleId,k.primaryTag=k.tags[0],k.teaserLabelData={label:k.primaryTag,url:"/all-about/"+k.primaryTag.toLowerCase().replace(new n("[W_]+","g"),"").replace(/\s/g,"-").replace("/","-").replace(new n("ö","g"),"o").replace(new n("ç","g"),"c").replace(new n("ş","g"),"s").replace(new n("ı","g"),"i").replace(new n("ğ","g"),"g").replace(new n("ü","g"),"u").replace("--","-").replace(new n("^-"),"").replace(new n("-$"),"")},k.comments={enabled:!0,provider:"viafoura",streamId:k.publicationName+"-"+k.id};var y=k.image&&k.image.href;y?k.image.href=y.replace("BINARY","ALTERNATES/s180"):k.image={href:"#"},k.image=[k.image],k.publicationName;var L=k.image&&k.image.length,E=L?k.image[0]:{href:"#",dataHeight:409,dataWidth:615},x=k.primaryTag||(k.teaserLabelData?k.teaserLabelData.label:""),C=k.publishedDate||void 0,T=k.amendedTitle||k.title,S="shopWindow"===k.type||"affiliateShopWindow"===k.type,_=k.type,A=k.publicationName+"-"+k.environment+"-"+k.id,D=!(f&&("featuredStories"===f.group||"splash"===f.group)),M=(k.comments&&k.comments.enabled,function(t){if(!t||!t.templateRoot)return{};switch(t.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":k.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":k.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":k.id};default:return{}}}(l));r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,S&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(e){this&&this.block,this&&this.attributes,"live-event"===e.type&&e.liveIdentifier&&(e.comments&&e.comments.enabled,function(){return new t<t.parse(e.lastModifiedDate)+108e5})()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===e.subType||"advertising"===e.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===e.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),e.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==e.type&&"photo-story"!==e.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),e.tags&&function(){var t=e.tags;if("number"==typeof t.length)for(var a=0,i=t.length;a<i;a++){var n=t[a];r.tags(n)}else for(var a in i=0,t)i++,n=t[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!u){if(t.comments&&t.comments.enabled&&D){var n=M&&"section-article"===M["data-tmdatatrack"]&&{"data-tmdatatrack":M["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":M["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(A),"data-tmdatatrack-index":i.escape(P)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+T,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",g?c+"description"+b:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),n=M&&"section-article"===M["data-tmdatatrack"]&&{"data-tmdatatrack":M["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":M["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(P)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>'}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,d&&s&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",s,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",void 0],[!1,!0]),!1,!0)+i.attr("href",k.url,!0,!0)+i.attr("data-articleid",k.id,!0,!0)+i.attr("data-link-tracking",g?c+"title"+b:"",!0,!0))+">")+i.escape(null==(e=T)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,u)r.innerContent(k);else{var t=M&&"section-article"===M["data-tmdatatrack"]&&{"data-tmdatatrack":M["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":M["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(P)},t]),!0)+">",a+='<div class="label-line">',x&&(a=(a=a+'<a class="label"'+i.attr("href",k.teaserLabelData&&k.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",S?"teaser|"+k.type+"|"+x:null,!0,!0)+i.attr("data-link-tracking",g?c+"Tag|Fire"+b:"",!0,!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a+="</div>",r.innerContent(k),a+="</div>"}},r.content=e=function(t,e){this&&this.block,this&&this.attributes;var n=g?g.location?g.location+"|Rec|":"PostArticle|Rec|"+k.type+"|"+g.group+"|":"",o=g?"|index "+g.index:"",s=g?n+"image"+o:"";k.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+">",k.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",k.url,!0,!0)+i.attr("data-link-tracking",s,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",t&&"high",!0,!0)+i.attr("loading",t&&!e&&"lazy",!0,!0)+i.attr("srcset",v,!0,!0)+i.attr("src",E.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](k),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+' data-mod="image">',k.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",k.url,!0,!0)+i.attr("data-link-tracking",s,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",t&&"high",!0,!0)+i.attr("loading",t&&!e&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",v,!0,!0)+i.attr("data-src",E.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](k),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),f&&f.showDate&&!d&&r.formatDate(C)};var P=g&&g.index||"",I=k.source;a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",void 0,p?"is-recommendations-wipeout-hidden":m?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(P),"data-tmdatatrack-source":i.escape(I)},{"data-noimage":!L},function(){var t={};if(S){var e="affiliateShopWindow"===_?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===_?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t}(),M]),!0)+">",r.content(!0,!0),a+="</div>"}.call(this,"Date"in n?n.Date:"undefined"!=typeof Date?Date:void 0,"RegExp"in n?n.RegExp:"undefined"!=typeof RegExp?RegExp:void 0,"URL"in n?n.URL:"undefined"!=typeof URL?URL:void 0,"advertisingParterLogo"in n?n.advertisingParterLogo:"undefined"!=typeof advertisingParterLogo?advertisingParterLogo:void 0,"baseTracking"in n?n.baseTracking:"undefined"!=typeof baseTracking?baseTracking:void 0,"data"in n?n.data:"undefined"!=typeof data?data:void 0,"isAdvertisingContent"in n?n.isAdvertisingContent:"undefined"!=typeof isAdvertisingContent?isAdvertisingContent:void 0,"isSmileExperiment4"in n?n.isSmileExperiment4:"undefined"!=typeof isSmileExperiment4?isSmileExperiment4:void 0,"isrecommendationsDuet"in n?n.isrecommendationsDuet:"undefined"!=typeof isrecommendationsDuet?isrecommendationsDuet:void 0,"isrecommendationsWipeout"in n?n.isrecommendationsWipeout:"undefined"!=typeof isrecommendationsWipeout?isrecommendationsWipeout:void 0,"pancake"in n?n.pancake:"undefined"!=typeof pancake?pancake:void 0,"recommendationJson"in n?n.recommendationJson:"undefined"!=typeof recommendationJson?recommendationJson:void 0,"srcset"in n?n.srcset:"undefined"!=typeof srcset?srcset:void 0,"trackingData"in n?n.trackingData:"undefined"!=typeof trackingData?trackingData:void 0,"trackingIndex"in n?n.trackingIndex:"undefined"!=typeof trackingIndex?trackingIndex:void 0),a}},{55:55}],95:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r={},n=t||{};return function(t,n,o,s,c,l,d,u,m,p,f,h,v,g,b,k,w,y,L,E,x,C,T,S){var _={},A=!1,D=!1,M=0;if(w){if(w["pancake.modifications.section"])try{_.pancake=o.parse(w["pancake.modifications.section"])}catch(t){P(t,"Could not parse public section parameter pancake.modifications.section")}if(w["teaser.modifications.section"])try{_.teaser=o.parse(w["teaser.modifications.section"])}catch(t){P(t,"Could not parse public section parameter teaser.modifications.section")}}function P(t,e){l?(l.log("PUG ERROR: "+t),l.log(e)):!S&&k&&(k("PUG ERROR: "+t),k(e))}r.pancake=e=function(l,m,v){this&&this.block,this&&this.attributes;var k=m.content[l.group],w=m.features&&"true"===m.features.viafouraEnabled&&"true"===m.features.commentsEnabled,y=m.features&&"true"===m.features.viafouraEnabled&&"true"===m.features.commentCountEnabled&&function(t){if(!t.experiment)return!0;var e=t.experiment||{};return!("oxj1rd1qQwC_xhOgfzADig"===e.experimentId&&-1===["0"].indexOf(e.variant))}(m),S=m.features&&m.features.viafouraSectionUuid,I=m.partnershipContentData||{},R="advertising"===I.partnerTemplate,N=I.partnerLogo&&I.partnerLogo.binarySrc,O=R?"advertising-teaser publication-theme":"",V=m.features&&"true"===m.features.bookmarksEnabled,H=m.features&&"true"===m.features.ovpOnSectionPage;if(k){try{_.pancake&&t.isArray(_.pancake)&&_.pancake.forEach(function(t){l=function(t,e){return e.group===t.group&&e.index===t.index&&(e.max?t.max=e.max:e.adjustMax&&(t.max+=e.adjustMax),t.liveEventIncludedInDuet&&(t.max=1)),t}(l,t)})}catch(t){P(t,"Error applying modifications")}var B=l.max?k.data.attributes.ingredients.splice(0,l.max):k.data.attributes.ingredients,U=l.min||l.max||1;if(B&&B.length>=U)switch(_.teaser&&_.teaser.noLazyLoad&&B.slice(0,_.teaser.noLazyLoad).forEach(function(t){t.noLazyLoad=!0,_.teaser.noLazyLoad-=1}),l.type){case"solo":r.teaser=e=function(t,o,s){var u;function v(t,e){return t.binaryHref.replace("BINARY","ALTERNATES/s"+e)+" "+b(e)+"w"}function g(t,e){var a=t.image&&t.image.length?t.image[0]:{href:"#",dataHeight:409,dataWidth:615};if(a.binaryHref&&e){for(var i="",r=0;r<e.length-1;r++)i+=v(a,e[r])+", ";return i+=v(a,e[e.length-1])}}switch(this&&this.block,this&&this.attributes,E&&(a=a+"<img"+i.attr("srcset",g(t,d),!0,!0)+">"),o){case"featured":var k=!0;u=g(t,[508,650,810]);var L=(q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},x=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),T=t.publishedDate||void 0,_=t.amendedTitle||t.title,A="shopWindow"===t.type||"affiliateShopWindow"===t.type,D=t.type,M=void 0,P=t.publicationName+"-"+t.environment+"-"+t.id,O=!(l&&("featuredStories"===l.group||"splash"===l.group)),H=(t.comments&&t.comments.enabled,function(){var t={};if(A){var e="affiliateShopWindow"===D?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===D?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t}),B=function(){return A?"teaser|"+t.type+"|"+x:null},U=function(){return new n<n.parse(t.lastModifiedDate)+108e5},W=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m);G="publication-font",z="section-theme-border",r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,A&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&U()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&O&&y&&S){var r=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(P),"data-tmdatatrack-index":i.escape(j)},r]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+_,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}$||(a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>")}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(j)},n]),!0)+">",a+='<div class="label-line">',x&&(n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},n]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(n,c){this&&this.block,this&&this.attributes;var d=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",m=s?"|index "+s.index:"",p=s?d+"image"+m:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0)+i.attr("srcset",u,!0,!0)+i.attr("src",L.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",u,!0,!0)+i.attr("data-src",L.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>");var f="wide"===o;if($)if(f){if(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">",a+=i.escape(null==(e=_)?"":e),R){var h=I.displayTitle||I.title;a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>"}else r.innerContent(t);a+="</a></div>"}else a=(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t),a+="</div>";else if(f)if(a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",R)h=I.displayTitle||I.title,a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>";else{if(a+="<div>",x){var v=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},v]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"}r.innerContent(t),a+="</div>"}else x&&(v=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},v]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t);l&&l.showDate&&!R&&r.formatDate(T)};var j=s&&s.index||"";if(a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser","teaser-highlight","teaser-prominent",M],[!1,!1,!1,!0]),"data-noimage":i.escape(!q),"data-tmdatatrack-index":i.escape(j)},W]),!0)+">",k&&(a=a+'<div class="featured-image mod-backgroundImage"'+i.attr("data-backgroundImage",L.href,!0,!0)+' data-mod="backgroundImage"></div>'),r.content(J),V){var F=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(j)},F]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>'}a+="</div>";break;case"wide":u=g(t,[508,540]),L=(q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},x=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),T=t.publishedDate||void 0,_=t.amendedTitle||t.title,A="shopWindow"===t.type||"affiliateShopWindow"===t.type,D=t.type,M=void 0,P=t.publicationName+"-"+t.environment+"-"+t.id,O=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,H=function(){var t={};if(A){var e="affiliateShopWindow"===D?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===D?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},B=function(){return A?"teaser|"+t.type+"|"+x:null},U=function(){return new n<n.parse(t.lastModifiedDate)+108e5},W=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),G="publication-font",z="section-theme-border",r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,A&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&U()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&O&&y&&S){var r=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(P),"data-tmdatatrack-index":i.escape(j)},r]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+_,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}$||(a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>")}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(j)},n]),!0)+">",a+='<div class="label-line">',x&&(n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},n]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(n,c){this&&this.block,this&&this.attributes;var d=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",m=s?"|index "+s.index:"",p=s?d+"image"+m:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0)+i.attr("srcset",u,!0,!0)+i.attr("src",L.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",u,!0,!0)+i.attr("data-src",L.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>");var f="wide"===o;if($)if(f){if(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">",a+=i.escape(null==(e=_)?"":e),R){var h=I.displayTitle||I.title;a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>"}else r.innerContent(t);a+="</a></div>"}else a=(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t),a+="</div>";else if(f)if(a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",R)h=I.displayTitle||I.title,a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>";else{if(a+="<div>",x){var v=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},v]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"}r.innerContent(t),a+="</div>"}else x&&(v=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},v]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t);l&&l.showDate&&!R&&r.formatDate(T)},j=s&&s.index||"",a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser","teaser-highlight","teaser-prominent",M],[!1,!1,!1,!0]),"data-noimage":i.escape(!q),"data-tmdatatrack-index":i.escape(j)},W]),!0)+">",k&&(a=a+'<div class="featured-image mod-backgroundImage"'+i.attr("data-backgroundImage",L.href,!0,!0)+' data-mod="backgroundImage"></div>'),r.content(J),V&&(F=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(j)},F]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>'),a+="</div>";break;case"splash":u=g(t,[508,810]),L=(q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},x=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),T=t.publishedDate||void 0,_=t.amendedTitle||t.title,A="shopWindow"===t.type||"affiliateShopWindow"===t.type,D=t.type,M=void 0,P=t.publicationName+"-"+t.environment+"-"+t.id,O=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,H=function(){var t={};if(A){var e="affiliateShopWindow"===D?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===D?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},B=function(){return A?"teaser|"+t.type+"|"+x:null},U=function(){return new n<n.parse(t.lastModifiedDate)+108e5},W=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),G="publication-font",z="section-theme-border",r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,A&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&U()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&O&&y&&S){var r=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(P),"data-tmdatatrack-index":i.escape(j)},r]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+_,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}$||(a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>")}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(j)},n]),!0)+">",a+='<div class="label-line">',x&&(n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},n]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(n,c){this&&this.block,this&&this.attributes;var d=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",m=s?"|index "+s.index:"",p=s?d+"image"+m:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0)+i.attr("srcset",u,!0,!0)+i.attr("src",L.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",u,!0,!0)+i.attr("data-src",L.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>");var f="wide"===o;if($)if(f){if(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">",a+=i.escape(null==(e=_)?"":e),R){var h=I.displayTitle||I.title;a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>"}else r.innerContent(t);a+="</a></div>"}else a=(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t),a+="</div>";else if(f)if(a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",R)h=I.displayTitle||I.title,a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>";else{if(a+="<div>",x){var v=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},v]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"}r.innerContent(t),a+="</div>"}else x&&(v=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(j)},v]),!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t);l&&l.showDate&&!R&&r.formatDate(T)},j=s&&s.index||"",a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser","teaser-highlight","teaser-prominent",M],[!1,!1,!1,!0]),"data-noimage":i.escape(!q),"data-tmdatatrack-index":i.escape(j)},W]),!0)+">",k&&(a=a+'<div class="featured-image mod-backgroundImage"'+i.attr("data-backgroundImage",L.href,!0,!0)+' data-mod="backgroundImage"></div>'),r.content(J),V&&(F=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(j)},F]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>'),a+="</div>";break;case"wipeout":u=g(t,[508,810]);var Z=g(t,[508,810,"1176b"]);L=(q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},x=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),T=t.publishedDate||void 0,_=t.amendedTitle||t.title,A="shopWindow"===t.type||"affiliateShopWindow"===t.type,D=t.type,M=void 0,P=t.publicationName+"-"+t.environment+"-"+t.id,O=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,H=function(){var t={};if(A){var e="affiliateShopWindow"===D?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===D?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},B=function(){return A?"teaser|"+t.type+"|"+x:null},U=function(){return new n<n.parse(t.lastModifiedDate)+108e5},W=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),G="publication-font",z="section-theme-border",M="teaser-hero",r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,A&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&U()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&O&&y&&S){var r=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(P),"data-tmdatatrack-index":i.escape(j)},r]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+_,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}t.bullets&&t.bullets.length?(a=a+"<a"+i.attr("href",t.url,!0,!0)+">",a+="<ul>",function(){var r=t.bullets;if("number"==typeof r.length)for(var n=0,o=r.length;n<o;n++){var s=r[n];a=(a+='<li class="section-theme-background-indicator">')+i.escape(null==(e=s)?"":e)+"</li>"}else for(var n in o=0,r)o++,s=r[n],a=(a+='<li class="section-theme-background-indicator">')+i.escape(null==(e=s)?"":e)+"</li>"}.call(this),a+="</ul></a>"):t.leadtext&&($||(a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>"))}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var e=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(j)},e]),!0)+">",a+='<div class="label-line"></div>',r.innerContent(t),a+="</div>"}},r.content=e=function(n,c){this&&this.block,this&&this.attributes;var d=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",m=s?"|index "+s.index:"",p=s?d+"image"+m:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0)+i.attr("srcset",u,!0,!0)+i.attr("src",L.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",p,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!c&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",u,!0,!0)+i.attr("data-src",L.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes(["desktop",z],[!1,!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+i.attr("href",t.url,!0,!0)+">")+"<img"+(i.attr("fetchpriority",J&&"high",!0,!0)+i.attr("loading",J&&"lazy",!0,!0)+i.attr("srcset",Z,!0,!0)+i.attr("src",L.href,!0,!0)+i.attr("content",L.href,!0,!0)+i.attr("alt",L.altText,!0,!0))+"></a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes(["desktop",z],[!1,!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+i.attr("href",t.url,!0,!0)+">")+"<img"+(i.attr("fetchpriority",J&&"high",!0,!0)+i.attr("loading",J&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent-wide.png"'+i.attr("data-srcset",Z,!0,!0)+i.attr("data-src",L.href,!0,!0)+i.attr("content",L.href,!0,!0)+i.attr("alt",L.altText,!0,!0)+"></a>",r["image-overlays"](t),a+="</figure>");var f="wide"===o;if($)if(f){if(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">",a+=i.escape(null==(e=_)?"":e),R){var h=I.displayTitle||I.title;a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>"}else r.innerContent(t);a+="</a></div>"}else a=(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t),a+="</div>";else f?(a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",R?(h=I.displayTitle||I.title,a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=h)?"":e)+"</div>"):(a+="<div>",r.innerContent(t),a+="</div>")):(a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?d+"title"+m:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>",r.innerContent(t));l&&l.showDate&&!R&&r.formatDate(T)},j=s&&s.index||"",a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser","teaser-highlight","teaser-prominent",M],[!1,!1,!1,!0]),"data-noimage":i.escape(!q),"data-tmdatatrack-index":i.escape(j)},W]),!0)+">",k&&(a=a+'<div class="featured-image mod-backgroundImage"'+i.attr("data-backgroundImage",L.href,!0,!0)+' data-mod="backgroundImage"></div>'),r.content(J),V&&(F=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(j)},F]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>'),a+="</div>";break;default:var q,z,G;L=(q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},x=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),T=t.publishedDate||void 0,_=t.amendedTitle||t.title,A="shopWindow"===t.type||"affiliateShopWindow"===t.type,D=t.type,M=void 0,P=t.publicationName+"-"+t.environment+"-"+t.id,O=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,H=function(){var t={};if(A){var e="affiliateShopWindow"===D?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===D?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},B=function(){return A?"teaser|"+t.type+"|"+x:null},U=function(){return new n<n.parse(t.lastModifiedDate)+108e5},W=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,A&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&U()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&O&&y&&S){var n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(P),"data-tmdatatrack-index":i.escape(j)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+_,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(j)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",G],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=_)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=W&&"section-article"===W["data-tmdatatrack"]&&{"data-tmdatatrack":W["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":W["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(j)},n]),!0)+">",a+='<div class="label-line">',x&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",B(),!0,!0)+i.attr("data-link-tracking",s?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=x)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",u,!0,!0)+i.attr("src",L.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([z],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",_,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",u,!0,!0)+i.attr("data-src",L.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(T)},j=s&&s.index||"";var Y=t.source,J=!1;a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",M,h?"is-recommendations-wipeout-hidden":f?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(j),"data-tmdatatrack-source":i.escape(Y)},{"data-noimage":!q},H(),W]),!0)+">",r.content(J||p,p),a+="</div>"}};var W=k.data?k.data.attributes.showMoreUrl:void 0,j=m.homeSection&&m.homeSection.name||m.tagData&&m.tagData.name||m.topicData&&m.topicData.title,F=(K=m.channel&&m.channel.uniqueName)?"channel-"+K:void 0,Z=l.liveEventIncludedInDuet?"duet-live-event":void 0,q=[l.type,l.view,l.layout,F,O,Z],z=(X=k.data?k.data.attributes.pagination:void 0)?X.url.split("=")[0]+"=":void 0,G=X?X.url.split("?")[0]:void 0,Y=(Q=m.experiment||{}).experimentId,J=Q.variant;($="oxj1rd1qQwC_xhOgfzADig"===Y&&-1===["0"].indexOf(J))&&q.push("smile-teaser"),r.navigation=e=function(t,r,n,o,s){this&&this.block,this&&this.attributes;var c=2===(n="string"==typeof n?b(n,10):n)?s:o+(n-1);if(r>1){a+='<div class="pagination">',a+="<ul>",n>1?a=(a+='<li class="pagi-previous">')+'<a class="left"'+i.attr("href",c,!0,!0)+"></a></li>":(a+='<li class="pagi-previous disabled">',a+="<a></a></li>");var l=n-2;n>=r-2&&(l=r-4);var d=n+2;d<5&&r>=5&&(d=5);for(var u=l;u<=d;++u)1===u?a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",s,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>":u<=r&&u>0&&(a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",o+u,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>");n<r?a=(a+='<li class="pagi-next">')+"<a"+i.attr("href",o+(n+1),!0,!0)+"></a></li>":(a+='<li class="pagi-next disabled">',a+="<a></a></li>"),a+="</ul></div>"}},E&&r.navigation(x,g,u,s,G),a=a+"<div"+(i.attr("class",i.classes(["pancake","use-image-placeholders",q],[!1,!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+">",function(){var t=B;if("number"==typeof t.length)for(var e=0,a=t.length;e<a;e++){var i=t[e];r.teaser(i,l.view,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}else for(var e in a=0,t)a++,i=t[e],r.teaser(i,l.view,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}.call(this),a+="</div>",l.showMore&&void 0!=W&&(a=(a=a+"<div"+i.attr("class",i.classes(["show-more",l.layout],[!1,!0]),!1,!0)+">")+'<a class="publication-theme-button" href="#"'+i.attr("data-node",W,!0,!0)+i.attr("data-pancake",l,!0,!0)+' id="showMore">',a=(a+="Show more ")+i.escape(null==(e=j)?"":e)+"</a></div>"),l.pagination&&void 0!=X&&X.numberOfPages&&X.currentPage&&r.navigation(1,X.numberOfPages,X.currentPage,z,G);break;case"quartet":r.teaser=e=function(t,o,s){function c(t,e){return t.binaryHref.replace("BINARY","ALTERNATES/s"+e)+" "+b(e)+"w"}function u(t,e){var a=t.image&&t.image.length?t.image[0]:{href:"#",dataHeight:409,dataWidth:615};if(a.binaryHref&&e){for(var i="",r=0;r<e.length-1;r++)i+=c(a,e[r])+", ";return i+=c(a,e[e.length-1])}}switch(this&&this.block,this&&this.attributes,E&&(a=a+"<img"+i.attr("srcset",u(t,d),!0,!0)+">"),o){case"opinions":if(t){var h=t.publicationName+"-"+t.environment+"-"+t.id;if(t.authors){var v=t.authors[0],g=t.amendedTitle||t.title,k=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),L="shopWindow"===t.type,x=s?"|index "+s.index:"",C=L?"teaser|"+t.type+"|"+k:null,T=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",_=s&&s.index||"";if(a=a+"<div"+i.attr("class",i.classes(["teaser",["teaser-opinion section-theme-background-with-transparency"]],[!1,!0]),!1,!0)+' data-tmdatatrack="section-opinion-article"'+i.attr("data-tmdatatrack-articleid",t.id,!0,!0)+i.attr("data-tmdatatrack-index",_,!0,!0)+">",a=(a=(a+='<div class="inner">')+'<a class="author section-theme-highlight"'+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=v.name)?"":e)+"</a>",a=(a=(a+="<h2>")+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=g)?"":e)+"</a></h2></div>",t.comments&&t.comments.enabled&&w&&y&&y&&S){var A=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(h),"data-tmdatatrack-index":i.escape(_)},A]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+W,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}v.imageUrl&&(a=(a=(a+='<figure data-mod="image">')+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("aria-label",v.name,!0,!0))+">")+"<img"+(i.attr("data-src",v.imageUrl,!0,!0)+i.attr("altText",v.name,!0,!0))+"></a></figure>"),a+="</div>"}}break;case"wipeout":var D,M=u(t,[180,"220b","270b"]),P=("recomm"===Y||"id-6007"===Y)&&"0"!=J&&"1"==J,I=(_=s&&s.index,m.channel&&"ece_frontpage"!==m.channel.uniqueName),O=m.homeSection&&m.homeSection.isHomePage||m.channel&&"ece_frontpage"===m.channel.uniqueName;P&&(I||O&&("3-1-2"==_||"3-1-3"==_))&&(D='{"type": "recommendationsWipeout"}');var H='{"type": "recommendationsWipeout"}'===D;if(H){var B=(Q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},U=(k=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),t.publishedDate||void 0),W=t.amendedTitle||t.title,j=(L="shopWindow"===t.type||"affiliateShopWindow"===t.type,t.type),F=void 0,Z=(h=t.publicationName+"-"+t.environment+"-"+t.id,!(l&&("featuredStories"===l.group||"splash"===l.group))),q=(t.comments&&t.comments.enabled,function(){var t={};if(L){var e="affiliateShopWindow"===j?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===j?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t}),z=(C=function(){return L?"teaser|"+t.type+"|"+k:null},function(){return new n<n.parse(t.lastModifiedDate)+108e5}),G=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m);r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,L&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&z()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType?(a+='<em class="sponsored">',a+="Advertorial</em>"):"sponsored"===t.subType?(a+='<em class="sponsored">',a+="Sponsored</em>"):"advertising"===t.subType&&(a+='<em class="sponsored">',a+="Ad Feature</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t,n){this&&this.block,this&&this.attributes;var o=n?"##HREF##":t.url,c=n?"##LEAD##":t.leadtext;if(!$){if(t.comments&&t.comments.enabled&&w&&y&&Z&&y&&S){var l=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(h),"data-tmdatatrack-index":i.escape(_)},l]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+W,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",o,!0,!0)+i.attr("data-link-tracking",s?T+"description"+x:"",!0,!0)+">")+i.escape(null==(e=c)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(l=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(_)},l]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(r){this&&this.block,this&&this.attributes;var n=r?"##ID##":t.id,o=r?"##HREF##":t.url,c=r?"##HEADLINE##":W;a=(a=(a=(a=(a=(a=a+"<a"+(i.attr("class",i.classes(["headline",et],[!1,!0]),!1,!0)+i.attr("href",o,!0,!0)+i.attr("data-articleid",n,!0,!0)+i.attr("data-link-tracking",s?T+"title"+x:"",!0,!0))+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;border-bottom:4px solid white;">')+i.escape(null==(e=c)?"":e)+"</a>")+"<a"+i.attr("class",i.classes(["headline",et],[!1,!0]),!1,!0)+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;width:50%;border-bottom:4px solid white;">')+i.escape(null==(e=c)?"":e)+"</a>")+"<a"+i.attr("class",i.classes(["headline",et],[!1,!0]),!1,!0)+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;width:25%;border-bottom:4px solid white;">')+i.escape(null==(e=c)?"":e)+"</a>"},r.teaserLabelComment=e=function(n){if(this&&this.block,this&&this.attributes,$)r.innerContent(t,n);else{var o=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]},c=n?"##LABEL##":k,l=n?"##LABELADDR##":t.teaserLabelData&&t.teaserLabelData.url;a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(_),style:"position:relative;"},o]),!0)+">",a+='<div class="label-line">',k&&(a=(a=a+'<a class="label"'+i.attr("href",l,!0,!0)+i.attr("data-link-desc",C(),!0,!0)+i.attr("data-link-tracking",s?T+"Tag|Fire"+x:"",!0,!0)+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;">')+i.escape(null==(e=c)?"":e)+"</a>"),a+="</div>",r.innerContent(t,n),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"",u=n?"##HREF##":t.url,m=n?"##HEADLINE##":W,p=n?"##SRCSET##":M,f=n?"##PHOTO##":B.href;t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([tt],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",u,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",m,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&"lazy",!0,!0)+i.attr("srcset",p,!0,!0)+i.attr("src",f,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([tt],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",u,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",m,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",p,!0,!0)+i.attr("data-src",f,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text" style="position:relative;">',r.teaserText(n),a+="</div>",r.teaserLabelComment(n),l&&l.showDate&&!R&&r.formatDate(U)},_=s&&s.index||"";var K=!1;a=(a+='<div style="display:contents">')+"<div"+i.attrs(i.merge([{class:i.classes(["teaser","organism__loading",F],[!1,!1,!0]),"data-config":i.escape(D),"data-tmdatatrack-index":i.escape(_),style:"overflow:hidden;"},{"data-noimage":!Q},q(),{"data-feliz":G}]),!0)+">",r.content(K,!0),a+="</div></div>"}B=(Q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},k=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),U=t.publishedDate||void 0,W=t.amendedTitle||t.title,L="shopWindow"===t.type||"affiliateShopWindow"===t.type,j=t.type,F=void 0,h=t.publicationName+"-"+t.environment+"-"+t.id,Z=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,q=function(){var t={};if(L){var e="affiliateShopWindow"===j?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===j?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},C=function(){return L?"teaser|"+t.type+"|"+k:null},z=function(){return new n<n.parse(t.lastModifiedDate)+108e5},G=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,L&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&z()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&Z&&y&&S){var n=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(h),"data-tmdatatrack-index":i.escape(_)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+W,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?T+"description"+x:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(_)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",et],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?T+"title"+x:"",!0,!0))+">")+i.escape(null==(e=W)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(_)},n]),!0)+">",a+='<div class="label-line">',k&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",C(),!0,!0)+i.attr("data-link-tracking",s?T+"Tag|Fire"+x:"",!0,!0)+">")+i.escape(null==(e=k)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([tt],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",W,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",M,!0,!0)+i.attr("src",B.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([tt],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",W,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",M,!0,!0)+i.attr("data-src",B.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(U)},_=s&&s.index||"";var X=t.source;K=!1,a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",F,H?"is-recommendations-wipeout-hidden":f?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(_),"data-tmdatatrack-source":i.escape(X)},{"data-noimage":!Q},q(),G]),!0)+">",r.content(K||p,p),a+="</div>";break;default:var Q,tt,et;M=u(t,[180,"220b","270b"]),B=(Q=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},k=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),U=t.publishedDate||void 0,W=t.amendedTitle||t.title,L="shopWindow"===t.type||"affiliateShopWindow"===t.type,j=t.type,F=void 0,h=t.publicationName+"-"+t.environment+"-"+t.id,Z=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,q=function(){var t={};if(L){var e="affiliateShopWindow"===j?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===j?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},C=function(){return L?"teaser|"+t.type+"|"+k:null},z=function(){return new n<n.parse(t.lastModifiedDate)+108e5},G=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,L&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&z()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&Z&&y&&S){var n=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(h),"data-tmdatatrack-index":i.escape(_)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+W,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?T+"description"+x:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(_)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",et],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?T+"title"+x:"",!0,!0))+">")+i.escape(null==(e=W)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=G&&"section-article"===G["data-tmdatatrack"]&&{"data-tmdatatrack":G["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":G["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(_)},n]),!0)+">",a+='<div class="label-line">',k&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",C(),!0,!0)+i.attr("data-link-tracking",s?T+"Tag|Fire"+x:"",!0,!0)+">")+i.escape(null==(e=k)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([tt],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",W,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",M,!0,!0)+i.attr("src",B.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([tt],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",W,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",M,!0,!0)+i.attr("data-src",B.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(U)},_=s&&s.index||"",X=t.source,K=!1,a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",F,H?"is-recommendations-wipeout-hidden":f?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(_),"data-tmdatatrack-source":i.escape(X)},{"data-noimage":!Q},q(),G]),!0)+">",r.content(K||p,p),a+="</div>"}},W=k.data?k.data.attributes.showMoreUrl:void 0,j=m.homeSection&&m.homeSection.name||m.tagData&&m.tagData.name||m.topicData&&m.topicData.title,F=(K=m.channel&&m.channel.uniqueName)?"channel-"+K:void 0,Z=l.liveEventIncludedInDuet?"duet-live-event":void 0,q=[l.type,l.view,l.layout,F,O,Z],z=(X=k.data?k.data.attributes.pagination:void 0)?X.url.split("=")[0]+"=":void 0,G=X?X.url.split("?")[0]:void 0,Y=(Q=m.experiment||{}).experimentId,J=Q.variant,($="oxj1rd1qQwC_xhOgfzADig"===Y&&-1===["0"].indexOf(J))&&q.push("smile-teaser"),r.navigation=e=function(t,r,n,o,s){this&&this.block,this&&this.attributes;var c=2===(n="string"==typeof n?b(n,10):n)?s:o+(n-1);if(r>1){a+='<div class="pagination">',a+="<ul>",n>1?a=(a+='<li class="pagi-previous">')+'<a class="left"'+i.attr("href",c,!0,!0)+"></a></li>":(a+='<li class="pagi-previous disabled">',a+="<a></a></li>");var l=n-2;n>=r-2&&(l=r-4);var d=n+2;d<5&&r>=5&&(d=5);for(var u=l;u<=d;++u)1===u?a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",s,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>":u<=r&&u>0&&(a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",o+u,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>");n<r?a=(a+='<li class="pagi-next">')+"<a"+i.attr("href",o+(n+1),!0,!0)+"></a></li>":(a+='<li class="pagi-next disabled">',a+="<a></a></li>"),a+="</ul></div>"}},E&&r.navigation(x,g,u,s,G),a=a+"<div"+(i.attr("class",i.classes(["pancake","use-image-placeholders",q],[!1,!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+">",function(){var t=B;if("number"==typeof t.length)for(var e=0,a=t.length;e<a;e++){var i=t[e];r.teaser(i,l.group,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}else for(var e in a=0,t)a++,i=t[e],r.teaser(i,l.group,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}.call(this),a+="</div>",l.showMore&&void 0!=W&&(a=(a=a+"<div"+i.attr("class",i.classes(["show-more",l.layout],[!1,!0]),!1,!0)+">")+'<a class="publication-theme-button" href="#"'+i.attr("data-node",W,!0,!0)+i.attr("data-pancake",l,!0,!0)+' id="showMore">',a=(a+="Show more ")+i.escape(null==(e=j)?"":e)+"</a></div>"),l.pagination&&void 0!=X&&X.numberOfPages&&X.currentPage&&r.navigation(1,X.numberOfPages,X.currentPage,z,G);break;case"duet":r["duet-teaser"]=e=function(t,o,s){function u(t,e){return t.binaryHref.replace("BINARY","ALTERNATES/s"+e)+" "+b(e)+"w"}function f(t,e){var a=t.image&&t.image.length?t.image[0]:{href:"#",dataHeight:409,dataWidth:615};if(a.binaryHref&&e){for(var i="",r=0;r<e.length-1;r++)i+=u(a,e[r])+", ";return i+=u(a,e[e.length-1])}}this&&this.block,this&&this.attributes,E&&(a=a+"<img"+i.attr("srcset",f(t,d),!0,!0)+">");var v,g=f(t,[180,390,458]),k=("recomm"===Y||"id-6007"===Y)&&"0"!=J&&"1"==J;m.channel&&m.channel.uniqueName,A&&M<4&&!D&&k&&(o="default-placeholder",M+=1,v='{"type": "recommendationsDuet"}');var L='{"type": "recommendationsDuet"}'===v;switch(o){case"social":var x=(K=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},T=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),_=t.publishedDate||void 0,P=t.amendedTitle||t.title,I="shopWindow"===t.type||"affiliateShopWindow"===t.type,O=t.type,H=void 0,B=t.publicationName+"-"+t.environment+"-"+t.id,U=!(l&&("featuredStories"===l.group||"splash"===l.group)),W=(t.comments&&t.comments.enabled,function(){var t={};if(I){var e="affiliateShopWindow"===O?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===O?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t}),j=function(){return I?"teaser|"+t.type+"|"+T:null},F=function(){return new n<n.parse(t.lastModifiedDate)+108e5},Z=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m);P=t.amendedTitle||t.socialHeadline||t.title,r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,I&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&F()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&U&&y&&S){var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(B),"data-tmdatatrack-index":i.escape(q)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+P,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=P)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<div class="label-line">',T&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",j(),!0,!0)+i.attr("data-link-tracking",s?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=T)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",g,!0,!0)+i.attr("src",x.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",g,!0,!0)+i.attr("data-src",x.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(_)};var q=s&&s.index||"";a=a+"<div"+i.attrs(i.merge([{class:"teaser social","data-tmdatatrack-index":i.escape(q)},{"data-noimage":!K,"data-tmdatatrack-source":t.source,"data-tmdatatrack-platform":t.platform,"data-tmdatatrack-articleid":t.articleId},Z]),!0)+">",r.content(),a+="</div>";break;case"default-placeholder":if(L){x=(K=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},T=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),_=t.publishedDate||void 0,P=t.amendedTitle||t.title,I="shopWindow"===t.type||"affiliateShopWindow"===t.type,O=t.type,H=void 0,B=t.publicationName+"-"+t.environment+"-"+t.id,U=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,W=function(){var t={};if(I){var e="affiliateShopWindow"===O?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===O?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},j=function(){return I?"teaser|"+t.type+"|"+T:null},F=function(){return new n<n.parse(t.lastModifiedDate)+108e5},Z=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,I&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&F()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType?(a+='<em class="sponsored">',a+="Advertorial</em>"):"sponsored"===t.subType?(a+='<em class="sponsored">',a+="Sponsored</em>"):"advertising"===t.subType&&(a+='<em class="sponsored">',a+="Ad Feature</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t,n){this&&this.block,this&&this.attributes;var o=n?"##HREF##":t.url,l=n?"##LEAD##":t.leadtext;if(!$){if(t.comments&&t.comments.enabled&&w&&y&&U&&y&&S){var d=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(B),"data-tmdatatrack-index":i.escape(q)},d]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+P,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",o,!0,!0)+i.attr("data-link-tracking",s?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=l)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(d=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(q)},d]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(r){this&&this.block,this&&this.attributes;var n=r?"##ID##":t.id,o=r?"##HREF##":t.url,l=r?"##HEADLINE##":P;a=(a=(a=(a=(a=(a=a+"<a"+(i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+i.attr("href",o,!0,!0)+i.attr("data-articleid",n,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;border-bottom:4px solid white;">')+i.escape(null==(e=l)?"":e)+"</a>")+"<a"+i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;width:50%;border-bottom:4px solid white;">')+i.escape(null==(e=l)?"":e)+"</a>")+"<a"+i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;width:25%;border-bottom:4px solid white;">')+i.escape(null==(e=l)?"":e)+"</a>"},r.teaserLabelComment=e=function(n){if(this&&this.block,this&&this.attributes,$)r.innerContent(t,n);else{var o=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]},l=n?"##LABEL##":T,d=n?"##LABELADDR##":t.teaserLabelData&&t.teaserLabelData.url;a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(q),style:"position:relative;"},o]),!0)+">",a+='<div class="label-line">',T&&(a=(a=a+'<a class="label"'+i.attr("href",d,!0,!0)+i.attr("data-link-desc",j(),!0,!0)+i.attr("data-link-tracking",s?c+"Tag|Fire"+C:"",!0,!0)+' style="color:transparent;background-color:black;filter: grayscale(100%);opacity:0.7;">')+i.escape(null==(e=l)?"":e)+"</a>"),a+="</div>",r.innerContent(t,n),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"",u=n?"##HREF##":t.url,m=n?"##HEADLINE##":P,p=n?"##SRCSET##":g,f=n?"##PHOTO##":x.href;t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",u,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",m,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&"lazy",!0,!0)+i.attr("srcset",p,!0,!0)+i.attr("src",f,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",u,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",m,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",p,!0,!0)+i.attr("data-src",f,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text" style="position:relative;">',r.teaserText(n),a+="</div>",r.teaserLabelComment(n),l&&l.showDate&&!R&&r.formatDate(_)},q=s&&s.index||"";var z=!1;a=(a+='<div style="display:contents">')+"<div"+i.attrs(i.merge([{class:i.classes(["teaser","organism__loading",H],[!1,!1,!0]),"data-config":i.escape(v),"data-tmdatatrack-index":i.escape(q),style:"overflow:hidden;"},{"data-noimage":!K},W(),{"data-feliz":Z}]),!0)+">",r.content(z,!0),a+="</div></div>"}x=(K=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},T=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),_=t.publishedDate||void 0,P=t.amendedTitle||t.title,I="shopWindow"===t.type||"affiliateShopWindow"===t.type,O=t.type,H=void 0,B=t.publicationName+"-"+t.environment+"-"+t.id,U=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,W=function(){var t={};if(I){var e="affiliateShopWindow"===O?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===O?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},j=function(){return I?"teaser|"+t.type+"|"+T:null},F=function(){return new n<n.parse(t.lastModifiedDate)+108e5},Z=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,I&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&F()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&U&&y&&S){var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(B),"data-tmdatatrack-index":i.escape(q)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+P,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=P)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<div class="label-line">',T&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",j(),!0,!0)+i.attr("data-link-tracking",s?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=T)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",g,!0,!0)+i.attr("src",x.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",g,!0,!0)+i.attr("data-src",x.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(_)},q=s&&s.index||"";var G=t.source;z=!1,a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",H,h?"is-recommendations-wipeout-hidden":L?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(q),"data-tmdatatrack-source":i.escape(G)},{"data-noimage":!K},W(),Z]),!0)+">",r.content(z||p,p),a+="</div>";break;default:var K,X,Q;x=(K=t.image&&t.image.length)?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},T=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),_=t.publishedDate||void 0,P=t.amendedTitle||t.title,I="shopWindow"===t.type||"affiliateShopWindow"===t.type,O=t.type,H=void 0,B=t.publicationName+"-"+t.environment+"-"+t.id,U=!(l&&("featuredStories"===l.group||"splash"===l.group)),t.comments&&t.comments.enabled,W=function(){var t={};if(I){var e="affiliateShopWindow"===O?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===O?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t},j=function(){return I?"teaser|"+t.type+"|"+T:null},F=function(){return new n<n.parse(t.lastModifiedDate)+108e5},Z=function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m),r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,I&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&F()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&U&&y&&S){var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(B),"data-tmdatatrack-index":i.escape(q)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+P,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",s?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",Q],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",s?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=P)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=Z&&"section-article"===Z["data-tmdatatrack"]&&{"data-tmdatatrack":Z["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":Z["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(q)},n]),!0)+">",a+='<div class="label-line">',T&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",j(),!0,!0)+i.attr("data-link-tracking",s?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=T)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var o=s?s.location?s.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+s.group+"|":"",c=s?"|index "+s.index:"",d=s?o+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",g,!0,!0)+i.attr("src",x.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([X],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",P,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",g,!0,!0)+i.attr("data-src",x.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(_)},q=s&&s.index||"",G=t.source,z=!1,a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",H,h?"is-recommendations-wipeout-hidden":L?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(q),"data-tmdatatrack-source":i.escape(G)},{"data-noimage":!K},W(),Z]),!0)+">",r.content(z||p,p),a+="</div>"}},W=k.data?k.data.attributes.showMoreUrl:void 0,j=m.homeSection&&m.homeSection.name||m.tagData&&m.tagData.name||m.topicData&&m.topicData.title,F=(K=m.channel&&m.channel.uniqueName)?"channel-"+K:void 0,Z=l.liveEventIncludedInDuet?"duet-live-event":void 0,q=[l.type,l.view,l.layout,F,O,Z],z=(X=k.data?k.data.attributes.pagination:void 0)?X.url.split("=")[0]+"=":void 0,G=X?X.url.split("?")[0]:void 0,Y=(Q=m.experiment||{}).experimentId,J=Q.variant,($="oxj1rd1qQwC_xhOgfzADig"===Y&&-1===["0"].indexOf(J))&&q.push("smile-teaser"),r.navigation=e=function(t,r,n,o,s){this&&this.block,this&&this.attributes;var c=2===(n="string"==typeof n?b(n,10):n)?s:o+(n-1);if(r>1){a+='<div class="pagination">',a+="<ul>",n>1?a=(a+='<li class="pagi-previous">')+'<a class="left"'+i.attr("href",c,!0,!0)+"></a></li>":(a+='<li class="pagi-previous disabled">',a+="<a></a></li>");var l=n-2;n>=r-2&&(l=r-4);var d=n+2;d<5&&r>=5&&(d=5);for(var u=l;u<=d;++u)1===u?a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",s,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>":u<=r&&u>0&&(a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",o+u,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>");n<r?a=(a+='<li class="pagi-next">')+"<a"+i.attr("href",o+(n+1),!0,!0)+"></a></li>":(a+='<li class="pagi-next disabled">',a+="<a></a></li>"),a+="</ul></div>"}},E&&r.navigation(x,g,u,s,G),a=a+"<div"+(i.attr("class",i.classes(["pancake","use-image-placeholders",q],[!1,!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+">",l.liveEventIncludedInDuet&&(a=a+'<div data-component="liveEvent" data-context="pancake"'+i.attr("data-component-data",o.stringify({data:m}),!0,!0)+"></div>"),function(){var t=B;if("number"==typeof t.length)for(var e=0,a=t.length;e<a;e++){var i=t[e];r["duet-teaser"](i,l.view,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}else for(var e in a=0,t)a++,i=t[e],r["duet-teaser"](i,l.view,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}.call(this),A&&(D=!0),a+="</div>",l.showMore&&void 0!=W&&(a=(a=a+"<div"+i.attr("class",i.classes(["show-more",l.layout],[!1,!0]),!1,!0)+">")+'<a class="publication-theme-button" href="#"'+i.attr("data-node",W,!0,!0)+i.attr("data-pancake",l,!0,!0)+' id="showMore">',a=(a+="Show more ")+i.escape(null==(e=j)?"":e)+"</a></div>"),l.pagination&&void 0!=X&&X.numberOfPages&&X.currentPage&&r.navigation(1,X.numberOfPages,X.currentPage,z,G);break;case"ensemble":var K,X,Q,$;r.teaser=e=function(t,o){function s(t,e){return t.binaryHref.replace("BINARY","ALTERNATES/s"+e)+" "+b(e)+"w"}function u(t,e){var a=t.image&&t.image.length?t.image[0]:{href:"#",dataHeight:409,dataWidth:615};if(a.binaryHref&&e){for(var i="",r=0;r<e.length-1;r++)i+=s(a,e[r])+", ";return i+=s(a,e[e.length-1])}}this&&this.block,this&&this.attributes,E&&(a=a+"<img"+i.attr("srcset",u(t,d),!0,!0)+">");var v=u(t,[180,458]),g=t.image&&t.image.length,k=g?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},L=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),x=t.publishedDate||void 0,T=t.amendedTitle||t.title,_="shopWindow"===t.type||"affiliateShopWindow"===t.type,A=t.type,D=t.publicationName+"-"+t.environment+"-"+t.id,M=!(l&&("featuredStories"===l.group||"splash"===l.group)),P=(t.comments&&t.comments.enabled,function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m));r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,_&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&(t.comments&&t.comments.enabled,function(){return new n<n.parse(t.lastModifiedDate)+108e5})()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&M&&y&&S){var n=P&&"section-article"===P["data-tmdatatrack"]&&{"data-tmdatatrack":P["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":P["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(D),"data-tmdatatrack-index":i.escape(I)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+T,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=P&&"section-article"===P["data-tmdatatrack"]&&{"data-tmdatatrack":P["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":P["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(I)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline",void 0],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",o?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=T)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=P&&"section-article"===P["data-tmdatatrack"]&&{"data-tmdatatrack":P["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":P["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(I)},n]),!0)+">",a+='<div class="label-line">',L&&(a=(a=a+'<a class="label"'+i.attr("href",t.teaserLabelData&&t.teaserLabelData.url,!0,!0)+i.attr("data-link-desc",_?"teaser|"+t.type+"|"+L:null,!0,!0)+i.attr("data-link-tracking",o?c+"Tag|Fire"+C:"",!0,!0)+">")+i.escape(null==(e=L)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(e,n){this&&this.block,this&&this.attributes;var s=o?o.location?o.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+o.group+"|":"",c=o?"|index "+o.index:"",d=o?s+"image"+c:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0)+i.attr("srcset",v,!0,!0)+i.attr("src",k.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes([void 0],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",d,!0,!0)+i.attr("aria-label",T,!0,!0))+">")+"<img"+(i.attr("fetchpriority",e&&"high",!0,!0)+i.attr("loading",e&&!n&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",v,!0,!0)+i.attr("data-src",k.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"),a+='<div class="teaser-text">',r.teaserText(),a+="</div>",r.teaserLabelComment(),l&&l.showDate&&!R&&r.formatDate(x)};var I=o&&o.index||"",O=t.source;a=a+"<div"+i.attrs(i.merge([{class:i.classes(["teaser",void 0,h?"is-recommendations-wipeout-hidden":f?"is-recommendations-duet-hidden":""],[!1,!0,!0]),"data-tmdatatrack-index":i.escape(I),"data-tmdatatrack-source":i.escape(O)},{"data-noimage":!g},function(){var t={};if(_){var e="affiliateShopWindow"===A?"shop-window-affiliate":"shop-window",a="affiliateShopWindow"===A?"Affiliate":"Inventions";t.class=[e,"click-track"],t["data-link-partner"]=a,t["data-element-type"]="Shop Window",t["data-impr-tracking"]="true"}return t}(),P]),!0)+">",r.content(p,p),a+="</div>"},r.mainTeaser=e=function(t,o,s){this&&this.block,this&&this.attributes;var d=t.image&&t.image.length,u=d?t.image[0]:{href:"#",dataHeight:409,dataWidth:615},p=t.primaryTag||(t.teaserLabelData?t.teaserLabelData.label:""),f=t.publishedDate||void 0,h=t.amendedTitle||t.title,v="shopWindow"===t.type||"affiliateShopWindow"===t.type,g=(t.type,t.publicationName+"-"+t.environment+"-"+t.id),b=!(l&&("featuredStories"===l.group||"splash"===l.group)),k=(t.comments&&t.comments.enabled,function(e){if(!e||!e.templateRoot)return{};switch(e.templateRoot){case"topStories":return{"data-tmdatatrack":"top-stories","data-tmdatatrack-articleid":t.id};case"mostReadMostRecent":return{"data-tmdatatrack":"mostReadMostRecent","data-tmdatatrack-articleid":t.id};case"channel":return{"data-tmdatatrack":"section-article","data-tmdatatrack-articleid":t.id};default:return{}}}(m));r.formatDate=e=function(t){if(this&&this.block,this&&this.attributes,t&&null!==t){var r=t.replace(/T.*/,"").split("-").reverse().join("-");a=(a+='<time class="date" data-time="true">')+i.escape(null==(e=r)?"":e)+"</time>"}},r.getShopWindowPublicationDetails=e=function(t){this&&this.block,this&&this.attributes,v&&t.domainName&&(a=(a=(a+='<div class="advertising-shopwindow-link">')+"<a"+i.attr("href",t.url,!0,!0)+">")+i.escape(null==(e=t.domainName.replace("www.",""))?"":e)+"</a></div>")},r.tags=e=function(t){this&&this.block,this&&this.attributes,"Anfield Extra"!==t&&"Premium Boro"!==t||(a=(a+='<div class="premium-banner publication-font premium-teaser-background">')+i.escape(null==(e=t)?"":e)+"</div>")},r["image-overlays"]=e=function(t){this&&this.block,this&&this.attributes,"live-event"===t.type&&t.liveIdentifier&&(t.comments&&t.comments.enabled,function(){return new n<n.parse(t.lastModifiedDate)+108e5})()&&(a+='<em class="live-identifier publication-theme-background-indicator">',a+="Live-event</em>"),"advertorial"===t.subType||"advertising"===t.subType?(a+='<em class="sponsored">',a+="Ad Feature</em>"):"sponsored"===t.subType&&(a+='<em class="sponsored">',a+="Sponsored</em>"),t.hasVideo&&(a+='<div class="video-icon section-theme-border section-theme"></div>'),"gallery"!==t.type&&"photo-story"!==t.type||(a+='<div class="gallery-icon section-theme-border section-theme"></div>'),t.tags&&function(){var e=t.tags;if("number"==typeof e.length)for(var a=0,i=e.length;a<i;a++){var n=e[a];r.tags(n)}else for(var a in i=0,e)i++,n=e[a],r.tags(n)}.call(this)},r.innerContent=e=function(t){if(this&&this.block,this&&this.attributes,!$){if(t.comments&&t.comments.enabled&&w&&y&&b&&y&&S){var n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__comments","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]};a=(a=a+"<div"+i.attrs(i.merge([{class:"comments-count","data-uuid":i.escape(g),"data-tmdatatrack-index":i.escape(E)},n]),!0)+">")+'<a class="viafoura"'+i.attr("href",t.url+"#comments-wrapper",!0,!0)+i.attr("aria-label","Comments for "+h,!0,!0)+">",a+='<span class="count-number"></span></a></div>'}a=(a=a+'<a class="description"'+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"description"+C:"",!0,!0)+">")+i.escape(null==(e=t.leadtext)?"":e)+"</a>",r.getShopWindowPublicationDetails(t),V&&(n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__bookmark","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]},a=a+"<div"+i.attrs(i.merge([{class:"bookmark-btn-pancake","data-bookmarked":!1,"data-tmdatatrack-index":i.escape(E)},n]),!0)+">",a+='<span class="bookmark-text-pancake" data-name="Bookmark">',a+="Bookmark</span>",a+='<span class="bookmark-icon-pancake">',a+='<svg class="active-svg svg-change-fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3Z" fill="rgba(0,0,0,0)"></path>',a+='<path d="M17 3H7C5.9 3 5 3.9 5 5V21L12 18L19 21V5C19 3.9 18.1 3 17 3ZM17 18L12 15.82L7 18V5H17V18Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-bookmark-done" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 22 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M9.78232 0H3.13924C1.41266 0 0 1.4 0 3.11111V28L10.9873 23.3333L21.9747 28V12.1924H18.8354V23.3333L10.9873 19.9422L3.13924 23.3333V3.11111H9.78232V0ZM15.843 0.0349392H18.9266V3.01215H21.9747V6.16658H18.9266V9.28557H15.843V6.16658H12.8304V3.01215H15.843V0.0349392Z" fill="#D8021E"></path></svg>',a+='<svg class="svg-to-bookmark" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 25 28" fill="none">',a+='<path fill-rule="evenodd" clip-rule="evenodd" d="M20.309 12.4051C20.8802 12.4051 21.4375 12.3451 21.9747 12.2309V28L10.9873 23.3215L0 28V2.83544C0 1.26947 1.26947 0 2.83544 0H13.6772C12.829 1.26719 12.3343 2.79104 12.3343 4.43044C12.3343 8.83474 15.9047 12.4051 20.309 12.4051ZM15.5556 4.31369L18.8876 7.71296L24.8111 1.66982L23.1743 0L18.8876 4.31369L17.2508 2.58424L15.5556 4.31369Z" fill="#D8021E"></path></svg></span></div>')}},r.teaserPartnerLogo=e=function(){this&&this.block,this&&this.attributes,R&&N&&(a=(a+='<div class="adv-partner-logo">')+"<img"+i.attr("src",N,!0,!0)+"></div>")},r.teaserText=e=function(){this&&this.block,this&&this.attributes,a=(a=a+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-articleid",t.id,!0,!0)+i.attr("data-link-tracking",o?c+"title"+C:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>"},r.teaserLabelComment=e=function(){if(this&&this.block,this&&this.attributes,$)r.innerContent(t);else{var n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]};a=a+"<div"+i.attrs(i.merge([{class:"teaser-label-comment","data-tmdatatrack-index":i.escape(E)},n]),!0)+">",a+='<div class="label-line">',p&&(n=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(E)},n]),!0)+">")+i.escape(null==(e=p)?"":e)+"</a>"),a+="</div>",r.innerContent(t),a+="</div>"}},r.content=e=function(n,s){this&&this.block,this&&this.attributes;var c=o?o.location?o.location+"|Rec|":"PostArticle|Rec|"+t.type+"|"+o.group+"|":"",d=o?"|index "+o.index:"",m=o?c+"image"+d:"";t.noLazyLoad?(a=a+"<figure"+i.attr("class",i.classes(["section-theme-border"],[!0]),!1,!0)+">",t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",m,!0,!0)+i.attr("aria-label",h,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!s&&"lazy",!0,!0)+i.attr("srcset",L,!0,!0)+i.attr("src",u.href,!0,!0))+' alt="">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>"):(a=a+"<figure"+i.attr("class",i.classes(["section-theme-border"],[!0]),!1,!0)+' data-mod="image">',t.isLive&&(a+='<div class="live-tag">',a+="Live</div>"),a=(a=a+"<a"+(i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",m,!0,!0)+i.attr("aria-label",h,!0,!0))+">")+"<img"+(i.attr("fetchpriority",n&&"high",!0,!0)+i.attr("loading",n&&!s&&"lazy",!0,!0))+' src="/@trinitymirrordigital/marwood/TM/img/placeholders/transparent.png"'+i.attr("data-srcset",L,!0,!0)+i.attr("data-src",u.href,!0,!0)+' alt="" onerror="this.style.opacity=\'0\'">',r.teaserPartnerLogo(),a+="</a>",r["image-overlays"](t),a+="</figure>");var v="wide"===T;if($)if(v){if(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">",a+=i.escape(null==(e=h)?"":e),R){var g=I.displayTitle||I.title;a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=g)?"":e)+"</div>"}else r.innerContent(t);a+="</a></div>"}else a=(a=(a+='<div class="teaser-text">')+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>",r.innerContent(t),a+="</div>";else if(v)if(a=(a=a+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>",R)g=I.displayTitle||I.title,a+='<div class="advertising-label">',a=(a+="Advertising feature from ")+i.escape(null==(e=g)?"":e)+"</div>";else{if(a+="<div>",p){var b=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]};a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(E)},b]),!0)+">")+i.escape(null==(e=p)?"":e)+"</a>"}r.innerContent(t),a+="</div>"}else p&&(b=k&&"section-article"===k["data-tmdatatrack"]&&{"data-tmdatatrack":k["data-tmdatatrack"]+"__label","data-tmdatatrack-articleid":k["data-tmdatatrack-articleid"]},a=(a=a+"<a"+i.attrs(i.merge([{class:"label section-theme-highlight",href:i.escape(t.teaserLabelData.url),"data-link-tracking":"PostArticle|News|MostRecent|Tag|Fire|index 1","data-tmdatatrack-index":i.escape(E)},b]),!0)+">")+i.escape(null==(e=p)?"":e)+"</a>"),a=(a=a+"<a"+(i.attr("class",i.classes(["headline","publication-font"],[!1,!0]),!1,!0)+i.attr("href",t.url,!0,!0)+i.attr("data-link-tracking",o?c+"title"+d:"",!0,!0))+">")+i.escape(null==(e=h)?"":e)+"</a>",r.innerContent(t);l&&l.showDate&&!R&&r.formatDate(f)};var E=o&&o.index||"";a=a+"<div"+i.attrs(i.merge([{class:"teaser teaser-highlight","data-tmdatatrack-index":i.escape(E)},{"data-noimage":!d},k]),!0)+">",r.content(),a+="</div>"},W=k.data?k.data.attributes.showMoreUrl:void 0,j=m.homeSection&&m.homeSection.name||m.tagData&&m.tagData.name||m.topicData&&m.topicData.title,F=(K=m.channel&&m.channel.uniqueName)?"channel-"+K:void 0,Z=l.liveEventIncludedInDuet?"duet-live-event":void 0,q=[l.type,l.view,l.layout,F,O,Z],z=(X=k.data?k.data.attributes.pagination:void 0)?X.url.split("=")[0]+"=":void 0,G=X?X.url.split("?")[0]:void 0,Y=(Q=m.experiment||{}).experimentId,J=Q.variant,($="oxj1rd1qQwC_xhOgfzADig"===Y&&-1===["0"].indexOf(J))&&q.push("smile-teaser"),r.navigation=e=function(t,r,n,o,s){this&&this.block,this&&this.attributes;var c=2===(n="string"==typeof n?b(n,10):n)?s:o+(n-1);if(r>1){a+='<div class="pagination">',a+="<ul>",n>1?a=(a+='<li class="pagi-previous">')+'<a class="left"'+i.attr("href",c,!0,!0)+"></a></li>":(a+='<li class="pagi-previous disabled">',a+="<a></a></li>");var l=n-2;n>=r-2&&(l=r-4);var d=n+2;d<5&&r>=5&&(d=5);for(var u=l;u<=d;++u)1===u?a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",s,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>":u<=r&&u>0&&(a=(a=(a=a+"<li"+i.attr("class",i.classes([u===n?"active":""],[!0]),!1,!0)+">")+"<a"+i.attr("href",o+u,!0,!0)+">")+i.escape(null==(e=u)?"":e)+"</a></li>");n<r?a=(a+='<li class="pagi-next">')+"<a"+i.attr("href",o+(n+1),!0,!0)+"></a></li>":(a+='<li class="pagi-next disabled">',a+="<a></a></li>"),a+="</ul></div>"}},E&&r.navigation(x,g,u,s,G),a=a+"<div"+(i.attr("class",i.classes(["pancake","use-image-placeholders",q],[!1,!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+">";var tt=k.data.attributes.title,et={"data-tmdatatrack":"section-ensemble-link","data-tmdatatrack-url":tt&&tt.url};tt&&tt.name&&(a=(a=(a+='<h3 class="publication-font">')+"<a"+i.attrs(i.merge([{class:"section-theme-indicator",href:i.escape(tt.url)},et]),!0)+">")+i.escape(null==(e=tt.name)?"":e)+"</a></h3>"),B.length>0&&(r.mainTeaser(B[0],{index:1,group:l.group},!0),B.shift(),a+='<div class="pancake duet secondary">',function(){var t=B;if("number"==typeof t.length)for(var e=0,a=t.length;e<a;e++){var i=t[e];r.teaser(i,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}else for(var e in a=0,t)a++,i=t[e],r.teaser(i,{index:v+"-"+l.index+"-"+e,group:l.group,location:l.location})}.call(this),a+="</div>"),a+="</div>",l.showMore&&void 0!=W&&(a=(a=a+"<div"+i.attr("class",i.classes(["show-more",l.layout],[!1,!0]),!1,!0)+">")+'<a class="publication-theme-button" href="#"'+i.attr("data-node",W,!0,!0)+i.attr("data-pancake",l,!0,!0)+' id="showMore">',a=(a+="Show more ")+i.escape(null==(e=j)?"":e)+"</a></div>"),l.pagination&&void 0!=X&&X.numberOfPages&&X.currentPage&&r.navigation(1,X.numberOfPages,X.currentPage,z,G);break;case"live-event":l.liveEventIncludedInDuet||(a=(a=a+"<div"+i.attr("class",i.classes(["pancake",l.layout],[!1,!0]),!1,!0)+">")+'<div data-component="liveEvent" data-context="pancake"'+i.attr("data-component-data",o.stringify({data:m}),!0,!0)+"></div></div>");break;case"opta":a=a+'<div data-component="optaWidget" data-context="pancake"'+i.attr("data-component-data",o.stringify(k.data.attributes),!0,!0)+"></div>";break;case"chart":a=a+'<div data-component="totaliser19" data-context="pancake"'+i.attr("data-component-data",o.stringify({ingredients:B}),!0,!0)+"></div>";break;case"carousel":a=a+'<div data-component="autoscroll" data-context="pancake"'+i.attr("data-component-data",o.stringify({pancakeData:k,ingredients:B,pancake:l}),!0,!0)+"></div>";break;case"grid":a=a+'<div data-component="grid" data-context="pancake"'+i.attr("data-component-data",o.stringify({pancakeData:k}),!0,!0)+"></div>";break;case"html":a=a+'<div data-component="htmlEmbed" data-context="pancake"'+i.attr("data-component-data",o.stringify({ingredients:B}),!0,!0)+"></div>"}else l.placeholder&&(a=a+"<div"+(i.attr("class",i.classes(["pancake",[l.type,l.view,l.layout,F]],[!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+" data-placeholder></div>")}else l.placeholder&&(a=a+"<div"+(i.attr("class",i.classes(["pancake",[l.type,l.view,l.layout,F]],[!1,!0]),!1,!0)+i.attr("data-group",l.group,!0,!0)+i.attr("data-group-index",l.index,!0,!0))+" data-placeholder></div>");H&&"topStories"===l.group&&"duet"===l.type&&0===l.index?a+='<div class="ovp solo wide primary"></div>':H&&"featuredStories"===l.group&&"duet"===l.type&&0===l.index&&(a+='<div class="ovp solo wide centred"></div>')},r.renderLayout=e=function(t,e){this&&this.block,this&&this.attributes;var a={},i=!1;t&&t.length&&function(){var n=t;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var c=(d=n[o]).group;a[c]||(a[c]=0),d.index=a[c]++;var l=e&&e.content&&e.content[d.group];"quartet"===d.type&&"wipeout"===d.group&&3===o&&l&&(i=!0),"duet"!=d.type||i||D||(A=!0),r.pancake(d,e,o)}else for(var o in s=0,n){var d;s++,c=(d=n[o]).group,a[c]||(a[c]=0),d.index=a[c]++,l=e&&e.content&&e.content[d.group],"quartet"===d.type&&"wipeout"===d.group&&3===o&&l&&(i=!0),"duet"!=d.type||i||D||(A=!0),r.pancake(d,e,o)}}.call(this)},E&&r.renderLayout(v,R),m&&r.renderLayout(o.parse(v),o.parse(R));const I=[{type:"duet",group:"recommendations",view:"social",location:"rhs"}],R={content:{recommendations:{data:{attributes:{ingredients:y=y.map(e=>{if(!t.isArray(e.image)){const{image:{href:t=""}={}}=e||{};e.image=[{binaryHref:t,href:t.replace("BINARY","ALTERNATES/s458")}]}return e})}}}}};y&&r.renderLayout(I,R)}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"Date"in n?n.Date:"undefined"!=typeof Date?Date:void 0,"JSON"in n?n.JSON:"undefined"!=typeof JSON?JSON:void 0,"base"in n?n.base:"undefined"!=typeof base?base:void 0,"baseTracking"in n?n.baseTracking:"undefined"!=typeof baseTracking?baseTracking:void 0,"console"in n?n.console:"undefined"!=typeof console?console:void 0,"crops"in n?n.crops:"undefined"!=typeof crops?crops:void 0,"current"in n?n.current:"undefined"!=typeof current?current:void 0,"futureRender"in n?n.futureRender:"undefined"!=typeof futureRender?futureRender:void 0,"isClientRender"in n?n.isClientRender:"undefined"!=typeof isClientRender?isClientRender:void 0,"isrecommendationsDuet"in n?n.isrecommendationsDuet:"undefined"!=typeof isrecommendationsDuet?isrecommendationsDuet:void 0,"isrecommendationsWipeout"in n?n.isrecommendationsWipeout:"undefined"!=typeof isrecommendationsWipeout?isrecommendationsWipeout:void 0,"layout"in n?n.layout:"undefined"!=typeof layout?layout:void 0,"numpages"in n?n.numpages:"undefined"!=typeof numpages?numpages:void 0,"parseInt"in n?n.parseInt:"undefined"!=typeof parseInt?parseInt:void 0,"print"in n?n.print:"undefined"!=typeof print?print:void 0,"publicSectionParams"in n?n.publicSectionParams:"undefined"!=typeof publicSectionParams?publicSectionParams:void 0,"recommendations"in n?n.recommendations:"undefined"!=typeof recommendations?recommendations:void 0,"srcset"in n?n.srcset:"undefined"!=typeof srcset?srcset:void 0,"standalone"in n?n.standalone:"undefined"!=typeof standalone?standalone:void 0,"start"in n?n.start:"undefined"!=typeof start?start:void 0,"trackingIndex"in n?n.trackingIndex:"undefined"!=typeof trackingIndex?trackingIndex:void 0,"view"in n?n.view:"undefined"!=typeof view?view:void 0,"window"in n?n.window:"undefined"!=typeof window?window:void 0),a}},{55:55}],96:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=a.RHS="rhs",r=a.TOPBAR="topBar";a.TOPBOX="topbox",a.COLLABORATIVE="collaborative",a.ARTICLE_URL_PARAM="?url="+window.location.href.split("?")[0],a.REC_EVENT="injection.complete.recommendations",a.ACTIVATE_EVENT="component.activate",a.TYPE_TOPBOX="recommendationsTopBox",a.TOPBOX_PLACEHOLDER_ID="recommendations-topbox",a.PAGE_TYPES={ADVERTORIAL:"advertorial",SPONSORED:"sponsored",ADVERTISING:"advertising",AFFILIATE:"affiliate",MARKETPLACE:"marketplace"},a.FELIX_REC_TYPES={Recommended:i,TopBox:r}},{}],97:[function(t,e,a){"use strict";var i=function(){return window.feliz.getPageConfig("recommendations")};e.exports=function(t){window.feliz?t(i()):document.addEventListener("FELIZ",function(){return t(i())})}},{}],98:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getEndpoint=a.haveShownRecommendations=a.listenWraparoundScaleEvent=a.updateLinkTracking=a.addBrandingOnTopBox=a.splitPlaceholders=a.logAndRemovePlaceholders=a.removePlaceHolders=a.getDataConfig=a.hideCLSPlaceholder=a.log=void 0;var i=t(96),r=window.console.log,n=function(t){var e=void 0;try{e=JSON.parse(t.getAttribute("data-config"))}catch(t){r.warning("[Marwood - Recommendations Client]: Error parsing attribute data-config, error description: "+t)}return e},o=function(t){t&&t.length&&t.forEach(function(t){var e=document.getElementById(t.id);e&&e.parentElement.removeChild(e)})};a.log=r,a.hideCLSPlaceholder=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.querySelector(".topbox-cls-placeholder"),a=document.querySelector(".topbox-cls-placeholder > #recommendations-topbox > .teaser");t||e&&!a&&e.classList.add("hidden")},a.getDataConfig=n,a.removePlaceHolders=o,a.logAndRemovePlaceholders=function(t,e){r("[Marwood - Recommendations Client - "+t+"]: No endpoint."),o(e)},a.splitPlaceholders=function(t){if(t&&Array.isArray(t)){var e=[],a=[],i=[],r=[];return t.forEach(function(o,s){var c=n(o);"recommendationsTopBox"===c.type?e.push(t[s]):"recommendationsWipeout"===c.type?i.push(t[s]):"recommendationsDuet"===c.type?r.push(t[s]):a.push(t[s])}),{topboxPlaceholder:e,rhsPlaceholders:a,wipeoutPlaceholders:i,duetPlaceholders:r}}},a.addBrandingOnTopBox=function(t){t.querySelector(".headline").classList.add("brand-passion-text-pseudo")},a.updateLinkTracking=function(t,e,a){return t.setAttribute("data-tmdatatrack",a),t.setAttribute("data-tmdatatrack-index",e),t.querySelectorAll("[data-link-tracking]").forEach(function(t){t.setAttribute("data-link-tracking",t.getAttribute("data-link-tracking").replace(i.RHS,a))}),t},a.listenWraparoundScaleEvent=function(){var t=document.getElementById("recommendations-topbox");t&&document.body.addEventListener("wraparound.scale.complete",function(e){var a=e.data,i=a.scaleProp,r=a.scaleValue;t.style[i]=r})},a.haveShownRecommendations=function(t,e){if(!e||!e.url)return!0;var a=e.url.split("/");return!t.includes(a[a.length-1])},a.getEndpoint=function(t,e){var a=window.felix&&window.felix.getPageConfig(t),r=window.TMCONFIG&&window.TMCONFIG.features&&window.TMCONFIG.features.readNextRecommendation,n=function(t){if(!window.localStorage)return null;var e="RECOMMENDER_BASE_OVERRIDE_KEY_PREFIX_"+t;return window.localStorage.getItem(e)}(t)||a||r,o=a?i.ARTICLE_URL_PARAM:"/"+i.COLLABORATIVE+i.ARTICLE_URL_PARAM;return n?""+n+o+(e?"&count="+e:""):""}},{96:96}],99:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=p(t(5)),r=t(7),n=t(102),o=p(t(95)),s=p(t(94)),c=p(t(14)),l=t(6),d=t(100),u=t(96),m=t(98);function p(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var h=[u.PAGE_TYPES.ADVERTORIAL,u.PAGE_TYPES.SPONSORED,u.PAGE_TYPES.ADVERTISING,u.PAGE_TYPES.AFFILIATE,u.PAGE_TYPES.MARKETPLACE],v=function(t,e){var a=void 0;(0,r.ajaxPromise)(t).then(function(t){if(!(a={recommendations:JSON.parse(t.responseText)}).recommendations.length)return(0,m.log)("[Marwood - Recommendations Client]: No recommendations data."),void(0,m.removePlaceHolders)(e);g(a,e)}).catch(function(t){(0,m.log)("[Marwood - Recommendations Client]: Error processing request: "+t)})},g=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&e.length&&t&&t.length){var r=[].concat(t),s=0;e.forEach(function(t){var e=a?{type:"recommendations",items:"30",heading:"Recommended"}:(0,m.getDataConfig)(t);if(e){if(e.type===u.TYPE_TOPBOX){var c="true"===window.TMCONFIG.features.enableTopboxOnCommercialContent,l=window.TMCONFIG&&window.TMCONFIG.pageInfo&&window.TMCONFIG.pageInfo.articleSubType;if(h.includes(l)&&!c)return void(0,m.hideCLSPlaceholder)();if(window.TMCONFIG.features.redesignTopbox)return void(0,m.hideCLSPlaceholder)()}if(t.innerHTML="",e.heading&&t.insertAdjacentHTML("beforeend",'<div class="heading">'+e.heading+"</div>"),r.length&&e.items){var d=(0,n.topslotShopWindowData)("topSlot"),p=(0,n.topslotShopWindowData)("affiliateTopSlot");if(e.type===u.TYPE_TOPBOX&&d.length>0){var v=document.createElement("DIV");v.innerHTML=(0,o.default)({recommendations:d});var g=Array.from(v.querySelectorAll(".teaser"));r=[].concat(f(g),f(r))}if(e.type===u.TYPE_TOPBOX&&p.length>0){var b=document.createElement("DIV");b.innerHTML=(0,o.default)({recommendations:p});var k=Array.from(b.querySelectorAll(".teaser"))[0];r.splice(3,0,k)}r.splice(0,e.items).forEach(function(a){e.type===u.TYPE_TOPBOX?((0,m.addBrandingOnTopBox)(a),(0,m.updateLinkTracking)(a,s++,u.TOPBOX),document.body.classList.add("with-topbox")):(0,m.updateLinkTracking)(a,s++,u.RHS),t.insertAdjacentHTML("beforeend",a.outerHTML)}),(0,m.listenWraparoundScaleEvent)(),i.default.fire(t,u.ACTIVATE_EVENT)}}})}else(0,m.hideCLSPlaceholder)()}(function(t,e,a){var i=document.createElement("DIV"),r=void 0,n=sessionStorage.getItem(e);if(n){var s=JSON.parse(n),c=t.recommendations.filter(function(t){return(0,m.haveShownRecommendations)(s.articles,t)});s.articles.includes(a[a.length-1])||s.articles.push(a[a.length-1]),sessionStorage.setItem(e,JSON.stringify(s)),i.innerHTML=c.length<12?(0,o.default)(t):(0,o.default)({recommendations:c})}else r=JSON.stringify({articles:[a[a.length-1]]}),sessionStorage.setItem(e,r),i.innerHTML=(0,o.default)(t);return Array.from(i.querySelectorAll(".teaser"))}(t,"visited-articles",window.location.href.split("?")[0].split("/")),e,a)},b=function(t){if(t.length){var e=(0,m.getEndpoint)(u.TOPBAR);e?v(e,t):(0,m.logAndRemovePlaceholders)(u.TOPBAR,t)}},k=function(t,e){var a=(0,m.getEndpoint)(u.RHS,e);a?v(a,t):(0,m.logAndRemovePlaceholders)(u.RHS,t)},w=function(t,e){var a=(0,m.splitPlaceholders)(t)||[],i=a.topboxPlaceholder,r=a.rhsPlaceholders,n=a.wipeoutPlaceholders,o=void 0===n?[]:n,s=a.duetPlaceholders,c=void 0===s?[]:s;b(i),k(r,e),function(t,e){window.document.addEventListener("FELIZ",function(){A(t,e)})}([].concat(f(o),f(c)),e)},y=function(t){var e=window.SMILE_UTILITIES.getRecommendationsChunk(d.WIDGET_ID_RECOMMENDED);e&&g({recommendations:e},t,!0)},L=function(t,e,a){var i=void 0;try{i=JSON.parse(t.dataset.feliz)}catch(t){i={}}var r=t.getAttribute("data-tmdatatrack-index"),n=(0,s.default)({recommendationJson:e}),o=t.parentElement;o.innerHTML=n;var c=o.querySelector("img[data-src]");c.setAttribute("fetchpriority","high"),c.setAttribute("loading","eager"),c.setAttribute("src",c.dataset.src),c.parentElement.parentElement.setAttribute("data-init","");var l=o.querySelector(".teaser-label-comment"),d=o.querySelector(".teaser-label-comment > .comments-count"),u=o.querySelector(".teaser-label-comment > .bookmark-btn-pancake");for(var m in i)o.firstElementChild.setAttribute(m,i[m]),"data-tmdatatrack"===m?(l.setAttribute(m,i[m]+"__label"),d.setAttribute(m,i[m]+"__comments"),u.setAttribute(m,i[m]+"__bookmark")):l.setAttribute(m,i[m]);"wipeout"===a&&o.firstElementChild.classList.add("is-wipeout-teaser"),"duet"===a&&o.firstElementChild.classList.add("is-duet-teaser"),o.firstElementChild.setAttribute("data-tmdatatrack-source",e.source),o.firstElementChild.setAttribute("data-tmdatatrack-articleid",e.articleId),o.firstElementChild.setAttribute("data-tmdatatrack-index",r),l.setAttribute("data-tmdatatrack-index",r),l.setAttribute("data-tmdatatrack-articleid",e.articleId),d.setAttribute("data-tmdatatrack-index",r),u.setAttribute("data-tmdatatrack-index",r)};function E(t){var e=document.querySelectorAll('.comments-count[data-uuid="'+t.containerId+'"] .count-number'),a=!0,i=!1,r=void 0;try{for(var n,o=e[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var s=n.value;if(t.commentCount>0){var c=document.createElement("span");c.classList.add("vf-comments-count"),c.innerHTML=t.commentCount,s.appendChild(c)}}}catch(t){i=!0,r=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}}function x(t){var e=window.TMCONFIG.features||{},a=e.viafouraSectionUuid;(0,l.isCommentCountEnabled)(e)&&(0,l.fetchCommentCount)(function(t){var e=t.querySelectorAll(".teaser"),a=[],i=!0,r=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value.querySelector(".comments-count");if(c){var l=c.getAttribute("data-uuid");a.includes(l)||a.push(l)}}}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}(t),a).then(function(t){if(t.length>0){var e=!0,a=!1,i=void 0;try{for(var r,n=t[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){E(r.value)}}catch(t){a=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw i}}}})}var C=function(t){x(t),(0,c.default)(t)},T=function(){var t=document.querySelectorAll(".teaser.organism__loading"),e=document.querySelectorAll(".teaser.is-recommendations-duet-hidden:not(.organism__loading)");t&&t.length>0&&([].concat(f(t),f(document.querySelectorAll(".teaser.is-duet-teaser"))).forEach(function(t){t.classList.add("is-recommendations-duet-hidden")}),e.forEach(function(t){t.classList.remove("is-recommendations-duet-hidden"),t.setAttribute("data-tmdatatrack-source","journalist");var e=t.querySelector("img[data-src]");e&&(e.setAttribute("fetchpriority","high"),e.setAttribute("loading","eager"),e.setAttribute("src",e.dataset.src),e.parentElement.parentElement.setAttribute("data-init",""))}))},S=function(){var t=document.querySelectorAll(".teaser.organism__loading"),e=document.querySelectorAll(".teaser.is-recommendations-wipeout-hidden:not(.organism__loading)");t&&t.length>0&&([].concat(f(t),f(document.querySelectorAll(".teaser.is-wipeout-teaser"))).forEach(function(t){t.classList.add("is-recommendations-wipeout-hidden")}),e.forEach(function(t){t.classList.remove("is-recommendations-wipeout-hidden"),t.setAttribute("data-tmdatatrack-source","journalist");var e=t.querySelector("img[data-src]");e&&(e.setAttribute("fetchpriority","high"),e.setAttribute("loading","eager"),e.setAttribute("src",e.dataset.src),e.parentElement.parentElement.setAttribute("data-init",""))}))},_=function(t){try{var e=new URL(t.url);return!!e||((0,m.log)("[Marwood - Recommendations Client]: "+(e?"":"Unable to construct url of teaser")),!1)}catch(t){return(0,m.log)("[Marwood - Recommendations Client]: "+t),!1}},A=function(t,e){window.feliz?function(t,e){var a=window.feliz,i=window.TMCONFIG.features;if(!a)return(0,m.log)("[Marwood - Recommendations Client]: Feliz not found on page."),void w(t,e);var r=new Set(Array.from(document.querySelectorAll('main div[data-group="wipeout"] .teaser, div.pancake.use-image-placeholders.solo.wide.primary[data-group-index="0"] > .teaser.teaser-prominent, div.pancake.use-image-placeholders.duet.social[data-group-index="0"] > .teaser[data-tmdatatrack-index="1"], div.pancake.use-image-placeholders.solo.wide[data-group-index="0"] > .teaser.teaser-prominent[data-tmdatatrack-index="4-0-0"], div.pancake.use-image-placeholders.duet.primary[data-group-index="1"] > .teaser[data-tmdatatrack-index="5-1-0"], div.pancake.use-image-placeholders.duet.primary[data-group-index="1"] > .teaser[data-tmdatatrack-index="5-1-1"], div.pancake.use-image-placeholders.duet.social.secondary[data-group-index="0"] > .teaser.social[data-tmdatatrack-index="6-0-0"], div.pancake.use-image-placeholders.duet.social.secondary[data-group-index="0"] > .teaser.social[data-tmdatatrack-index="6-0-1"], .whats-hot.read-next.brand-hint-bg .rec-list > .rec-teaser')).map(function(t){return t.dataset.tmdatatrackArticleid})),n=a.getPageConfig("recommendations").filter(function(t){return t.tags&&t.tags.length>0}),o=new Set(Array.from(document.querySelectorAll(".whats-hot.read-next.brand-hint-bg .rec-list > .rec-teaser")).map(function(t){return t.dataset.tmdatatrackArticleid})),s=(i.felizRhsRecommendations?a.getPageConfig("rhsRecommendations"):n).filter(function(t){return!o.has(""+t.articleId)}),c=n.filter(function(t){return!r.has(""+t.articleId)}),l=document.querySelectorAll(".pancake.solo.primary .teaser"),d=document.querySelectorAll(".pancake.duet.social .teaser"),p=document.querySelector(".pancake.duet.primary"),h=p?p.querySelectorAll(".teaser:nth-child(n+5)"):[],v=new Set([].concat(f(l),f(d),f(h)).map(function(t){return t.dataset.tmdatatrackArticleid})),y=n.filter(function(t){return!v||!v.has(""+t.articleId)}),E=(0,m.splitPlaceholders)(t)||[],x=E.topboxPlaceholder,A=E.rhsPlaceholders,D=E.wipeoutPlaceholders,M=E.duetPlaceholders;D.length&&(D.some(function(t,e){return!_(c[e])})?S():(D.forEach(function(t,e){c[e]&&L(t,c[e],"wipeout")}),setTimeout(S,2e3)),C(document.querySelector("main.mod-pancakes")));M.length&&(M.some(function(t,e){return!_(y[e])})?T():(M.forEach(function(t,e){y[e]&&L(t,y[e],"duet")}),setTimeout(T,2e3)),C(document.querySelector("main.mod-pancakes")));if(n||((0,m.log)("[Marwood - Recommendations Client]: No feliz recommendations returned."),b(x)),x.length&&(n.length?g({recommendations:n},x):(0,m.logAndRemovePlaceholders)(u.TOPBAR,x)),!s.length)return(0,m.log)("[Marwood - Recommendations Client]: No feliz recommendations for rhs returned."),void k(A,e);g({recommendations:s},A)}(t,e):w(t,e)};a.default={init:function(t){var e,a,r;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var n=document.querySelector("aside.related-column");if(!n)return void(0,m.log)("[Marwood - Recommendations Client]: No container found.");n.insertAdjacentHTML("beforeend",'<div id="recommendations-top-heading" class="recommendations-smile recommendations tm-recs seldon-recs pancake duet no-bottom-margin"></div>');var o=[];o.push(document.querySelector(".recommendations")),window.SMILE_UTILITIES?y(o):document.addEventListener(d.EVENT_NAME_SMILE_UTILITIES,function(){y(o)})}else i.default.listen(document.body,u.REC_EVENT,function e(a){document.body.removeEventListener(u.REC_EVENT,e);var i=a.data&&a.data.placeholders||[];if(!i||!Array.isArray(i))return(0,m.log)("[Marwood - Recommendations Client]: No placeholders found in "+a.data+"."),void(0,m.hideCLSPlaceholder)();i.filter(function(t){return t.id===u.TOPBOX_PLACEHOLDER_ID}).length||(0,m.hideCLSPlaceholder)(),window.felix?A(i,t):document.addEventListener("FELIX",function(){return A(i,t)})}),window.TMCONFIG&&window.TMCONFIG.pageInfo&&Object.keys(window.TMCONFIG.pageInfo).length||(a=document.querySelectorAll(".pancake.quartet[data-group='wipeout'] >div> .teaser[data-config='{\"type\": \"recommendationsWipeout\"}']"),r=document.querySelectorAll('.pancake.duet >div> .teaser[data-config=\'{"type": "recommendationsDuet"}\']'),e=a.length>0?Array.from(a):r.length>0?Array.from(r):[],setTimeout(function(){A(e,t)},1e3))}}},{100:100,102:102,14:14,5:5,6:6,7:7,94:94,95:95,96:96,98:98}],100:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.EVENT_NAME_SMILE_UTILITIES=a.WIDGET_ID_BOTTOMRECOMMEND=a.WIDGET_ID_INBODY2=a.WIDGET_ID_INBODY1=a.WIDGET_ID_RECOMMENDED=a.WIDGET_ID_MOSTREAD=a.initWhenReady=void 0;var i,r=t(7),n=t(97),o=(i=n)&&i.__esModule?i:{default:i};var s=["baseLayout","tabletPortraitUpwards"],c=window.console.error.bind(null,"Smile Utilities Error: "),l=function(t){var e=s.includes((0,r.getBreakpoint)());switch(t){case"MOSTREAD":return e?{min:0,max:3}:{min:0,max:5};case"BOTTOMRECOMMENDED":return e?{min:3,max:8}:{min:5,max:10};case"INBODY2":return e?{min:8,max:11}:{min:10,max:13};case"INBODY1":return e?{min:11,max:13}:{min:13,max:15};case"RECOMMENDED":return e?null:{min:15,max:45};default:return c("getMinMax - Unknown widgetId ",{widgetId:t}),null}},d=function(t){var e=l(t);return null===e?null:u.slice(e.min,e.max)},u=void 0,m=function(t){u=t,window.SMILE_UTILITIES={getMinMax:l,getRecommendationsChunk:d},document.dispatchEvent(new CustomEvent("SMILE_UTILITIES"))};a.initWhenReady=function(){return(0,o.default)(m)},a.WIDGET_ID_MOSTREAD="MOSTREAD",a.WIDGET_ID_RECOMMENDED="RECOMMENDED",a.WIDGET_ID_INBODY1="INBODY1",a.WIDGET_ID_INBODY2="INBODY2",a.WIDGET_ID_BOTTOMRECOMMEND="BOTTOMRECOMMENDED",a.EVENT_NAME_SMILE_UTILITIES="SMILE_UTILITIES"},{7:7,97:97}],101:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.addTracking=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shop-window-top-box";if(!t)return;var a=function(){var t=window.TMCONFIG.features&&window.TMCONFIG.features["authUI.publicationID"]||window.TMCONFIG.publication,e=window.location.href;return{publication:t,sourceUrl:e}}(),i=a.publication,r=a.sourceUrl,n="topSlot"===e?"shop-window-top-box":"affiliate-shop-window-top-box",o=new URL(t);return o.searchParams.set("int_source",i+"-"+r),o.searchParams.set("int_medium",n),o.searchParams.set("int_campaign",t),o.href}},{}],102:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.topslotShopWindowData=void 0;var i=t(101),r=function(t,e,a){return[].concat(t).filter(function(t){return t.url&&t.title&&t.image&&t.image.length>0}).map(function(t){return t.image=t.image[0],t.articleId=t.id,t.source="topSlot"===a?"SHOP_WINDOW":"AFFILIATE_SHOP_WINDOW",t.url=(0,i.addTracking)(t.url,a),e&&(t.platform=e),t.teaserLabelData&&delete t.teaserLabelData,t})};a.topslotShopWindowData=function(t){var e="topSlot"===t?document.getElementById("shopwindow-topslot-confg"):document.getElementById("affiliate-shopwindow-topslot-confg"),a=e&&JSON.parse(e.getAttribute("content"))||{},i=[];if(a.ingredients){var n=a.platform||"";i=r(a.ingredients,n,t)}return i}},{101:101}],103:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(2);function r(t,e){var a=t.getAttribute("data-tabset"),r=t.getAttribute("data-value"),n=t.getAttribute("data-class");e.querySelectorAll(a?'[data-tabset="'+a+'"]':"[data-value]").forEach(function(t){var a=t.getAttribute("data-active-class")||"active";t.getAttribute("data-value")===r?(t.classList.add(a),e.classList.add(n)):(t.classList.remove(a),e.classList.remove(t.getAttribute("data-class")))}),i.component.activate(e)}var n=i.component.create({init:function(t){i.events.delegate(t,".tab-triggers button","click",function(){r(this,t)},{preventDefault:!0,stopPropagation:!0}),r(t.querySelector("[data-value]"),t)}});a.default=n},{2:2}],104:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(2).component.create({init:function(){}});a.default=i},{2:2}],105:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=n(t(5)),r=n(t(107));function n(t){return t&&t.__esModule?t:{default:t}}var o="breaking-news";function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";i.default.fire(window,"analytics.track",{name:"breakingNews"+a+t,category:"metrics",value:e})}a.default=function(t){(0,r.default)(o+":render",function(e,a){s("Prompt",a,t)}),(0,r.default)(o+":close",function(e,a){s("Close",a,t)}),window.location.hash.includes("source="+o)&&s("Clicked",1,t)}},{107:107,5:5}],106:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modularCss;return c={modularCss:e},l(t),s||(n.default.domReady(d),window.addEventListener("breakpointchange",d),window.addEventListener("component.activate",d),n.default.listen(window,"component.register",u,{purgeEventData:!0}),s=!0),o};var i,r=t(5),n=(i=r)&&i.__esModule?i:{default:i};var o={},s=!1,c={};function l(t){Object.keys(t).forEach(function(e){o[e]||(o[e]=t[e],function(t){if(t&&!t.observer){var e,a,i,r,n,o,s,c,l={rootMargin:(e=t.offsets||{},a=e.top,i=void 0===a?0:a,r=e.right,n=void 0===r?0:r,o=e.left,s=void 0===o?0:o,c=e.bottom,i+"px "+n+"px "+(void 0===c?0:c)+"px "+s+"px")};t.observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(t.init(e.target),t.observer.unobserve(e.target),e.target.setAttribute("data-observed",!1))})},l)}}(o[e]))})}function d(t){var e=t.target;e===window&&(e=document),e.querySelectorAll("[data-component]").forEach(function(t){var e=o[t.getAttribute("data-component")];e&&e.render&&e.render(t,t.getAttribute("data-context"))});var a=Array.from(e.querySelectorAll("[data-mod]:not([data-init]):not([data-ignore]):not([data-observed])")),i=[];!function(t){t.forEach(function(t){t.getBoundingClientRect().width>0&&t.getAttribute("data-mod").split(",").forEach(function(e){var a=o[e];a&&a.observer&&(a.observer.observe(t),t.setAttribute("data-observed",!0))})})}(a.filter(function(t){return!t.hasAttribute("data-immediate")||(i.push(t),!1)})),function(t){t.forEach(function(t){t.getAttribute("data-mod").split(",").forEach(function(e){var a=o[e];a&&a.init(t)})})}(i),c.modularCss&&function(t){t.forEach(function(t){var e=o[t.getAttribute("data-mod")];e&&e.css&&!e.styled&&(window.$css(window.TMCONFIG.frontendRoot+"/@trinitymirrordigital/"+e.css),e.styled=!0)})}(a)}function u(t){t.data&&t.data.components&&(l(t.data.components),d(t))}},{5:5}],107:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t,e){window.addEventListener("message",function(a){try{var i=JSON.parse(a.data),r=i.key,n=i.value;r===t&&e(r,n)}catch(a){}})}},{}],108:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=n(t(3)),r=n(t(5));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){window.console.warn("LAZYLOAD RESOURCE ERROR",t)}var s=new Promise(function(t){window.addEventListener("load",t),setTimeout(t,1e4)});a.default=i.default.create({init:function(t){s.then(function(){r.default.fire(window,"analytics.track",{name:"lazy",category:"resources",value:1}),r.default.fire(window,"resources.lazy")});try{JSON.parse(t.getAttribute("data-js")).forEach(function(t){return s.then(function(){window.$script(t)})})}catch(t){o(t)}try{JSON.parse(t.getAttribute("data-css")).forEach(function(t){return s.then(function(){window.$css(t)})})}catch(t){o(t)}}})},{3:3,5:5}],109:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.addTagToChannel=void 0;var i=t(137);a.addTagToChannel=function(t,e,a,r){if(document.cookie.includes("pwaPush:"+e+":"+i.PUSH_SERVICE_KEY+"=granted")){if("granted"!==t)return;window.UA&&window.UA.then(function(t){var n=t.channel;n&&(r||a(e)).then(function(t){var e=(t.push_options||{}).tagName;n.tags.has(e)||((0,i.externalDebug)("Re Subscribing to tag: "+e),n.tags.has("debug_re_subscribe_tag")||n.tags.add("debug_re_subscribe_tag"),n.tags.add(e))})})}}},{137:137}],110:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.deleteCaches=a.response=void 0;var i,r=t(137),n=t(8),o=(i=n)&&i.__esModule?i:{default:i};var s="offline/",c=2e3,l=[{name:"gpt",pattern:function(t){return"https://www.googletagservices.com/tag/js/gpt.js"===t}},{name:"permutive",pattern:function(t){return"https://d3alqb8vzo7fun.cloudfront.net/8a2c2f13-f564-4fff-8d22-177534028b95-1.0.js"===t}},{name:"weather.com",pattern:function(t){return t.startsWith("https://widgets-stage.weather.com/")}},{name:"gigya",pattern:function(t){return t.startsWith("https://cdns.gigya.com/JS/gigya.js")}},{name:"facebook",pattern:function(t){return"https://connect.facebook.net/en_US/sdk.js"===t}},{name:"onscroll",pattern:function(t){return t.match(/tags\.onscroll\.com.*/)}}],d=[{name:"breaking-news",pattern:function(t){return t.match(/\/breaking-news-client\/breaking\//)}}];function u(t){t.modal&&t.removeChild(t.modal),delete t.modal,clearTimeout(t.modalTimeout),t.classList.remove("skeleton")}a.default=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modalTimeout,a=arguments[2].clog,i=window.localStorage.getItem(r.HASH_KEY),n=window.localStorage.getItem(r.DATE_KEY),o=new Promise(function(o,s){!function(t){var e=document.createElement("DIV");e.className="modal",t.appendChild(e),t.classList.add("skeleton"),t.modal=e}(t),t.modalTimeout=setTimeout(function(){u(t),a("Timed out getting new version"),s("TIMEOUT"),a("TIMEOUT")},e||c),caches.open(r.CACHE_KEY).then(function(t){t.match(location.href).then(function(t){if(t){var e=t.headers.get(r.HASH_PREFIX),a=t.headers.get("date");t.text().then(function(t){i!==e&&Date(a)>Date(n)&&o({content:t,contentHash:e,status:"networkCacheUpdate",date:a})})}})}),navigator.serviceWorker.addEventListener("message",function(t){if(t.origin===location.origin){var e=t.data;if(e&&"NEW_VERSION"===e.message&&e.url===location.href){a("Updating from sw message"),a("NETWORK UPDATE");var i={content:e.content,contentHash:e.contentHash,status:"networkUpdate",date:e.date};o(i)}}})});return o.then(function(e){a("GETDATA RESOLVED"),function(t,e){if(window.localStorage.getItem(r.HASH_KEY)!==e.contentHash){var a=document.implementation.createHTMLDocument("temp");a.documentElement.innerHTML=e.content,t.parentNode.replaceChild(a.querySelector("main"),t),u(t);var i=document.createEvent("HTMLEvents");i.initEvent("component.activate",!0,!0),i.data={},document.querySelector("main").dispatchEvent(i),window.localStorage.setItem(r.HASH_KEY,e.contentHash),window.localStorage.setItem(r.DATE_KEY,e.date)}else u(t)}(t,e),a(e.status)}).catch(function(t){a("GETDATA REJECTED"),a("Error getting data: "+t)}),o},a.response=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i=arguments[3],n=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).debug,c=t.request.url,u=function(){};n&&(u=function(t){console.log("[TM PWA] "+t)});var m=c.match(/\/\/.+?\//)[0].includes(e),p=m&&!c.includes("service-worker.js");if((p=function(t,e){for(var a=l.length,i=d.length,r=0;!e&&r<a;)e=l[r].pattern(t),r++;for(r=0;e&&r<i;)d[r].pattern(t)&&(e=!1),r++;return e}(c,p))&&"GET"===t.request.method){var f="navigate"===t.request.mode,h=i.cacheFirst&&i.cacheFirst.useCachedHtml;if(f&&!h)return;t.respondWith(caches.open(r.CACHE_KEY).then(function(e){return e.match(t.request).then(function(t){f&&t&&u("CACHE RESPONSE");var e={};m||(e.mode="no-cors");var n=fetch(c,e).then(function(t){var e=void 0;if(f){var a=t.clone(),i={status:a.status,statusText:a.statusText,headers:{}};a.headers.forEach(function(t,e){i.headers[e]=t}),e=a.text().then(function(t){return i.headers[r.HASH_PREFIX]=(0,o.default)(t),new Response(t,i)}),u("NETWORK RESPONSE")}return caches.open(r.CACHE_KEY).then(function(a){f?e.then(function(t){a.delete(c),a.put(c,t.clone()).then(function(){t.clone().text().then(function(e){!function(t,e){var a=e.clog;t.message="NEW_VERSION",clients.matchAll().then(function(e){e.forEach(function(e){a("Posting message"),e.postMessage(t)})})}({url:c,content:e,contentHash:t.headers.get(r.HASH_PREFIX),date:t.headers.get("date")},{clog:u})})}).catch(function(t){a.delete(c),u("Error updating cache - deleting entry: "+t)})}):(a.delete(c),a.put(c,t.clone()).catch(function(t){a.delete(c),u("Error updating cache - deleting entry: "+t)}))}),e?Promise.resolve(e.then(function(t){return t.clone()})):t.clone()}).catch(function(t){if(u(t),i.offlineSupport&&f)return console.log("OFFLINE"),caches.match(a+s)});return t||n})}))}},a.deleteCaches=function(){caches.keys().then(function(t){return Promise.all(t.filter(function(t){return t.startsWith(r.CACHE_NAME)}).map(function(t){if(t!==r.CACHE_KEY)return caches.delete(t)}))})}},{137:137,8:8}],111:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getConfig=void 0,a.stub=function(t){var e={getConfig:l};return a.getConfig=l=t.stub(),{getConfig:l,restore:function(){a.getConfig=l=e.getConfig}}};var i,r=t(112),n=(i=r)&&i.__esModule?i:{default:i};var o="config",s=1,c=3e3;function l(t){return new Promise(function(e,a){setTimeout(a,c),(0,n.default)(t,o).then(function(t){var a=t.get(s);a.onsuccess=function(){e(a.result.config)}})})}a.default=function(t,e){return(0,n.default)(t,o,"readwrite").then(function(t){t.put({version:s,config:e})})},a.getConfig=l},{112:112}],112:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=[{name:"config",key:"version"},{name:"pageviews",key:"url"}];a.default=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"readonly";return new Promise(function(r,n){var o=t.open("marwood-pwa",1);o.onupgradeneeded=function(){i.forEach(function(t){o.result.objectStoreNames.contains(t.name)||o.result.createObjectStore(t.name,{keyPath:t.key})})},o.onsuccess=function(){if(o.result.onversionchange=function(t){null===t.newVersion&&t.target.close()},o&&o.result&&o.result.objectStoreNames.contains(e)){var t=o.result.transaction(e,a).objectStore(e);if(t)return void r(t)}n()}})}},{}],113:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getFirstTag=a.getQueue=a.writeTagToQueue=a.checkForQueue=a.recursivelyAddTags=void 0;var i=t(137);function r(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var n=function(){return JSON.parse(localStorage.getItem("pwaTagQueue"))},o=function(){var t=n();if(t){var e,a=(e=t,Array.isArray(e)?e:Array.from(e)),i=a[0],o=a.slice(1);return{tag:i,removeTagFromQueue:function(){o.length?localStorage.setItem("pwaTagQueue",JSON.stringify([].concat(r(o)))):localStorage.removeItem("pwaTagQueue")}}}},s=function(t){var e=t.publication,a=t.href,r=t.tagName;return new Promise(function(t,n){(0,i.externalDebug)("attempting "+r+" to channel"),window.UA||n(),window.UA.then(function(n){n.addEventListener("tags",function(){(0,i.externalDebug)(r+" added to channel"),t()}),n.addEventListener("channel",function(n){var o=n.channel;(function(t,e){return new Promise(function(a,r){try{caches.open(i.MANIFEST_CACHE_NAME+":"+t).then(function(t){t.match(e).then(function(t){var e=t.clone();a(e)})})}catch(t){r(t)}})})(e,a).then(function(n){n&&[i.MANIFEST_CACHE_NAME+":"+e,i.MANIFEST_CACHE_NAME+":"+o.id+":"+r].forEach(function(t){return function(t,e,a){caches.open(t).then(function(t){t.put(e,a)})}(t,a,n.clone())});o.tags.has(r)&&t(),o.tags.add(r)})}),n.register()})})};a.recursivelyAddTags=function t(){var e=o();if(e){var a=e.tag,r=e.removeTagFromQueue;s(a).then(function(){r(),t()})}else(0,i.externalDebug)("No more tags in tag queue")},a.checkForQueue=function(){return!!localStorage.getItem("pwaTagQueue")},a.writeTagToQueue=function(t){var e=n(),a=(e?new(Function.prototype.bind.apply(Array,[null].concat(r(e)))):[]).concat(t);localStorage.setItem("pwaTagQueue",JSON.stringify(a))},a.getQueue=n,a.getFirstTag=o},{137:137}],114:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i="marwood-bd7a7ceec54e01db3de197f5513641e8",r="offline/";function n(t){caches.open(i).then(function(e){document.querySelectorAll('meta[name="cache-preload"]').forEach(function(t){var a=t.getAttribute("content");e.match(a).then(function(t){t||e.add(a)})});var a=t+r;e.match(a).then(function(t){t||fetch(a).then(function(t){if(t.redirected){var i=t.clone(),r={status:i.status,statusText:i.statusText,headers:{}};t.headers.forEach(function(t,e){r.headers[e]=t}),i.text().then(function(t){e.put(a,new Response(t,r))})}else e.put(a,t)})})})}a.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,a=t.maxUrls,o=t.endpoint,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";navigator.serviceWorker.addEventListener("message",function(t){t.origin===location.origin&&"SERVICE_WORKER_INSTALL"===t.data&&n(s)}),navigator.onLine&&location.pathname!==s+r&&(n(s),"number"!=typeof a&&(a=10),o||e||(e=".teaser"),window.addEventListener("load",function(){var t=JSON.parse(localStorage.getItem("offlineUrls"))||[];(function(t,e){var a=t.endpoint,i=t.selector;if(a)return new Promise(function(t){window.feliz?t(window.feliz.getPageConfig("recommendations")):document.addEventListener("FELIZ",function(){t(window.feliz.getPageConfig("recommendations"))})}).then(function(t){return t.filter(function(t){return t.url&&t.url.length>0}).slice(0,e).map(function(t){return{url:t.url,text:t.title,image:t.image.href.replace("/BINARY/","/alternates/s615b/"),tag:t.tags&&t.tags[0]}})});if(i){var r=Array.from(document.querySelectorAll(i)).slice(0,e);return Promise.resolve(r.map(function(t){var e=t.querySelector("a.headline"),a=t.querySelector("img"),i=t.querySelector("a.label");return{url:e&&e.getAttribute("href"),text:e&&e.innerHTML,image:a&&a.getAttribute("data-src")||a.getAttribute("src"),tag:i&&i.innerHTML}}))}})({endpoint:o,selector:e},a).then(function(e){var r=e;t.length&&(r=e.filter(function(e){return t.find(function(t){return e.url!==t.url})})),r.length&&caches.open(i).then(function(e){r.forEach(function(i){i.text&&i.url&&i.image&&e.addAll([i.url,i.image]).then(function(){t.find(function(t){return t.url===i.url})||t.unshift(i),t.length>a&&t.pop(),localStorage.setItem("offlineUrls",JSON.stringify(t))})})})})}))}},{}],115:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t){t.length&&function(){var r=t;if("number"==typeof r.length)for(var n=0,o=r.length;n<o;n++){var s=r[n];a=a+'<a class="offline-article"'+i.attr("href",s.url,!0,!0)+">",a=(a+="<strong>")+i.escape(null==(e=s.text)?"":e)+"</strong>",a=(a+="<span>")+i.escape(null==(e=s.tag)?"":e)+"</span>",a=(a+="<figure>")+"<img"+i.attr("src",s.image,!0,!0)+"></figure></a>"}else for(var n in o=0,r)o++,s=r[n],a=a+'<a class="offline-article"'+i.attr("href",s.url,!0,!0)+">",a=(a+="<strong>")+i.escape(null==(e=s.text)?"":e)+"</strong>",a=(a+="<span>")+i.escape(null==(e=s.tag)?"":e)+"</span>",a=(a+="<figure>")+"<img"+i.attr("src",s.image,!0,!0)+"></figure></a>"}.call(this)}.call(this,"articles"in r?r.articles:"undefined"!=typeof articles?articles:void 0),a}},{55:55}],116:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=o(t(3)),r=o(t(115)),n=t(117);function o(t){return t&&t.__esModule?t:{default:t}}a.default=i.default.create({init:function(t){var e=JSON.parse(localStorage.getItem("offlineUrls")),a=(0,r.default)({articles:e});t.innerHTML=a,(0,n.trackOfflineLanding)()}})},{115:115,117:117,3:3}],117:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.track=function(t,e){(0,n.default)(t,o,"readwrite").then(function(t){t.put({url:e,timestamp:(new Date).getTime()})})},a.offlineLandingTracking=function(){var t=localStorage.getItem(s);return localStorage.removeItem(s),t},a.trackOfflineLanding=function(){localStorage.setItem(s,Number(localStorage.getItem(s)||0)+1)};var i,r=t(112),n=(i=r)&&i.__esModule?i:{default:i};var o="pageviews",s="offlineLandingPageViews";a.default=function(t,e){(0,n.default)(t,o,"readwrite").then(function(t){var a=t.count();a.onsuccess=function(){var i=a.result-1;i>0&&e(i),t.clear()}})}},{112:112}],118:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r){const n={firefox:"Allow Notifications",edge:"Yes"};let o;o=r?`Tap '${n[t]||"Allow"}' to get notifications to your phone...`:`Click '${n[t]||"Allow"}' to get notifications to your browser...`,a=(a=(a+='<div class="browser-prompt-overlay">')+"<div"+i.attr("class",i.classes(["browser-prompt-text",[r?"mobile":"desktop",t]],[!1,!0]),!1,!0)+">")+i.escape(null==(e=o)?"":e)+"</div></div>"}.call(this,"browserType"in r?r.browserType:"undefined"!=typeof browserType?browserType:void 0,"isMobile"in r?r.isMobile:"undefined"!=typeof isMobile?isMobile:void 0),a}},{55:55}],119:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.buildSubscriptionForm=a.subscribeToMultiplePublications=a.getAllAvailableSubscriptions=void 0;var i=d(t(1)),r=d(t(120)),n=t(137),o=t(128),s=t(121),c=t(129),l=t(136);function d(t){return t&&t.__esModule?t:{default:t}}var u=t(131),m=u.CONSTANTS,p=m.ACCEPTED,f=m.MULTIPLE_SUBSCRIPTION,h=m.PERMISSION,v=m.PUSH,g=u.DEBUG.FLOW_DEBUG,b=function(t){return i.default[t]||{}},k=function(t,e,a){var i={};return Object.keys(t).forEach(function(r){var n=e.indexOf(r)>=0||r===a;i[r]={label:t[r].name,selected:n}}),i},w=function(t,e,a,i){return t.map(function(t){return new Promise(function(r,s){return e.tags.add(t).then(function(){var s=a[t].scope;(0,o.setTagCookies)(s,h.GRANTED);var c=(0,o.getManifestURL)(s),l=""+location.hostname+s,d=n.MANIFEST_CACHE_NAME+":"+e.id+":"+t,u=n.MANIFEST_CACHE_NAME+":"+l,m=(0,o.cacheSelectedManifest)(c,d),p=(0,o.cacheSelectedManifest)(c,u);Promise.all([m,p]).then(function(){return(0,o.fireSubscribedEvent)(i)}).then(r)}).catch(function(){(0,n.externalDebug)("Error adding "+t+" to channel",!1,g),s()})})})},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="Notification"in window&&Notification.permission;return e&&a!==h.GRANTED?((0,n.externalDebug)("User has not enabled notifications on the browser yet, unable to preload channel",!1,g),Promise.resolve(void 0)):t?((0,n.externalDebug)("Channel has already been preloaded",!1,g),Promise.resolve(t)):new Promise(function(e,i){(0,n.externalDebug)("User has enabled notifications but no preloaded channel, will attempt to reload",!1,g);try{t?e(t):((0,n.externalDebug)("checking permission",!1,g),(0,c.pushNotifications)(a,!0).then(function(t){(0,n.externalDebug)("permission selected",!1,g),t===h&&(0,o.loadChannel)().then(function(t){(0,n.externalDebug)("permission confirmed",!1,g),e(t)}),t===h.DENIED&&i({blocked:!0})}))}catch(t){(0,n.externalDebug)("Error checking for channel",!1,g),i(t)}})};a.getAllAvailableSubscriptions=b,a.subscribeToMultiplePublications=w,a.buildSubscriptionForm=k,a.default=function(t,e,a,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments[5];y(e,!0).then(function(e){(0,n.externalDebug)("injecting checklist modal",!1,g);var u=function(t){return(0,n.path)("tags.list.device",t)||[]}(e),m=window.TMCONFIG.publication,L=b(m),E=k(L,u,a),x=window.TMCONFIG.features.newsletterSiteName,C=L[a].name,T=(0,r.default)({selectedSubscriptions:E,icon:t,showHeader:c,currentTagLabel:C}),S=void 0,_=d||document.body;_.insertAdjacentHTML("beforeend",T),S=_.querySelector(".all-publications-form"),(0,o.removeComponentListener)(".prompt-close",S),(0,o.removeComponentListener)(".confirm-close",S),S.querySelector(".subscription-list").addEventListener("submit",function(t){S.remove(),t.preventDefault(),t.stopPropagation();var a=[].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(t.target.elements)).filter(function(t){return t.checked}).map(function(t){return t.name});y(e).then(function(t){var e=a.filter(function(t){return!(u.indexOf(t)>-1)}),r=u.filter(function(t){return!(a.indexOf(t)>-1)}),c=w(e,t,L,i),d=function(t,e,a){return t.map(function(t){return new Promise(function(i,r){return e.tags.remove(t).then(function(){var e=a[t].scope;(0,o.setTagCookies)(e,h.DENIED),i()}).catch(function(){(0,n.externalDebug)("Error unsubscribing "+t+" from channel",!1,g),r()})})})}(r,t,L);Promise.all([c,d]).then(function(){var t=e.length-r.length;(0,l.analytics)(""+v+f+p,t),(0,n.externalDebug)("updated tags on channel",!1,g),a.length?(0,s.successfulResponse)(a,L,x):(0,s.unsubscribedResponse)(m)}).catch(function(t){(0,s.errorResponse)(t)})}).catch(function(t){(0,n.externalDebug)("Error: "+t,!1,g),(0,s.blockedResponse)()})})})}},{1:1,120:120,121:121,128:128,129:129,131:131,136:136,137:137}],120:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r,n,o,s){var c=t.keys(o);a+='<div class="all-publications-form">',s||(a+='<div class="prompt-close"></div>'),a=(a=a+"<div"+i.attr("class",i.classes(["header",`${s?"show-header":"hide-component"}`],[!1,!0]),!1,!0)+">")+'<div class="pwa-icon"'+i.attr("style",i.style('background-image: url("'+n+'");'),!0,!0)+"></div>",a+='<div class="alert-header">',a+="All done! You will now receive push notifications from",a=(a+='<span class="name">')+i.escape(null==(e=r)?"":e)+"</span>",a+="</div></div>",a+='<div class="subheader">',a+="You can also get push notifications for these topics too:</div>",a+='<form class="subscription-list">',function(){var t=c;if("number"==typeof t.length)for(var r=0,n=t.length;r<n;r++){var s=t[r],l=o[s];a+='<div class="subscriptions-selector">',a+="<label>",a=(a+=i.escape(null==(e=l.label)?"":e))+'<input type="checkbox"'+i.attr("checked",l.selected,!0,!0)+i.attr("name",s,!0,!0)+">",a+='<div class="checkmark publication-theme-border"></div></label></div>'}else for(var r in n=0,t)n++,s=t[r],l=o[s],a+='<div class="subscriptions-selector">',a+="<label>",a=(a+=i.escape(null==(e=l.label)?"":e))+'<input type="checkbox"'+i.attr("checked",l.selected,!0,!0)+i.attr("name",s,!0,!0)+">",a+='<div class="checkmark publication-theme-border"></div></label></div>'}.call(this),a+='<div class="privacy">',a+="We will only send notifications to your web browser. Notifications can be disabled at any time in your browsers settings. ",a+='<a class="brand-text" href="/notifications-help">',a+="Show me how</a>",a+="</div>",a+='<div class="submit">',s&&(a+='<button class="confirm-close publication-theme-border publication-theme" type="button">',a+="Ok</button>"),a+='<button class="notify-button publication-theme-highlight" type="submit">',a+="Update</button></div></form></div>"}.call(this,"Object"in r?r.Object:"undefined"!=typeof Object?Object:void 0,"currentTagLabel"in r?r.currentTagLabel:"undefined"!=typeof currentTagLabel?currentTagLabel:void 0,"icon"in r?r.icon:"undefined"!=typeof icon?icon:void 0,"selectedSubscriptions"in r?r.selectedSubscriptions:"undefined"!=typeof selectedSubscriptions?selectedSubscriptions:void 0,"showHeader"in r?r.showHeader:"undefined"!=typeof showHeader?showHeader:void 0),a}},{55:55}],121:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(127);Object.defineProperty(a,"terminatorComponent",{enumerable:!0,get:function(){return s(i).default}}),Object.defineProperty(a,"articleTerminatorPrompt",{enumerable:!0,get:function(){return i.articleTerminatorPrompt}});var r=t(119);Object.defineProperty(a,"checklistPopUp",{enumerable:!0,get:function(){return s(r).default}}),Object.defineProperty(a,"getAllAvailableSubscriptions",{enumerable:!0,get:function(){return r.getAllAvailableSubscriptions}}),Object.defineProperty(a,"subscribeToMultiplePublications",{enumerable:!0,get:function(){return r.subscribeToMultiplePublications}}),Object.defineProperty(a,"buildSubscriptionForm",{enumerable:!0,get:function(){return r.buildSubscriptionForm}});var n=t(122);Object.defineProperty(a,"popUpComponent",{enumerable:!0,get:function(){return s(n).default}}),Object.defineProperty(a,"articlePopupPrompt",{enumerable:!0,get:function(){return n.articlePopupPrompt}});var o=t(124);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"successfulResponse",{enumerable:!0,get:function(){return o.successfulResponse}}),Object.defineProperty(a,"blockedResponse",{enumerable:!0,get:function(){return o.blockedResponse}}),Object.defineProperty(a,"unsubscribedResponse",{enumerable:!0,get:function(){return o.unsubscribedResponse}}),Object.defineProperty(a,"errorResponse",{enumerable:!0,get:function(){return o.errorResponse}})},{119:119,122:122,124:124,127:127}],122:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.articlePopupPrompt=void 0;var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=u(t(3)),n=t(128),o=t(129),s=t(137),c=u(t(123)),l=t(121),d=t(136);function u(t){return t&&t.__esModule?t:{default:t}}var m=t(131),p=m.CONSTANTS,f=p.ACCEPTED,h=p.CUSTOM_POPUP,v=p.IN_PROGRESS,g=p.PERMISSION,b=p.PUSH,k=m.DEBUG.FLOW_DEBUG,w=function(t,e,a,i,r,u){var m=e||{},p=m.scope,w=m.push_options,y=m.name,L=w&&w.tagName||{};if(y){var E=(0,s.getAssetUrl)(e.icons.length>2?e.icons[2].src:e.icons[0].src);t.innerHTML=(0,c.default)({icon:E,name:y}),(0,s.externalDebug)("Displaying popup modal",!1,k);var x=t.children[0];(u||document.body).insertAdjacentElement("beforeend",x),x.querySelector(".showmore-button").addEventListener("click",function(t){(0,d.analytics)(""+b+h+f),t.stopPropagation(),(0,n.setTagCookies)(p,v),function(t,e,a,i,r){a===g.DENIED?((0,s.externalDebug)("Show me more permission denied",!1,k),(0,l.blockedResponse)()):(0,l.checklistPopUp)(t,e,i,r)}(E,i,a,L,r),x.remove()}),x.querySelector(".notify-button").addEventListener("click",function(t){(0,d.analytics)(""+b+h+f),t.stopPropagation(),function(t,e,a,i,r,c){(0,o.pushNotifications)(i,!0).then(function(i){i===g.GRANTED?t?(0,n.subscribeUserToTag)(e,a,t,c).then(function(){return(0,l.checklistPopUp)(r,t,e,c,!0)}).catch(function(){return(0,s.externalDebug)("Error subscribing user to "+e,!1,k)}):(0,n.loadChannel)().then(function(t){(0,n.subscribeUserToTag)(e,a,t,c).then(function(){(0,l.checklistPopUp)(r,t,e,c,!0)}).catch(function(){return(0,s.externalDebug)("Error subscribing user to "+e,!1,k)})}):i===g.DENIED&&((0,s.externalDebug)("Notify me permission denied",!1,k),(0,l.blockedResponse)())})}(i,L,p,a,E,r),x.remove()}),x.querySelector(".prompt-close").addEventListener("click",function(t){t.stopPropagation(),(0,n.setTagCookies)(p,g.DENIED),x.remove()})}};a.default=function(t,e,a,o){return r.default.create({init:function(r){return a!==g.DENIED&&Promise.all([t,e]).then(function(t){var e=i(t,2),c=e[0],l=e[1];(0,s.externalDebug)("Channel "+JSON.stringify(l),!1,k),(0,n.checkCookieHasBeenSet)(c.scope)||w(r,c,a,l,o)})}})},a.articlePopupPrompt=w},{121:121,123:123,128:128,129:129,131:131,136:136,137:137,3:3}],123:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r){a+='<div class="pwa-prompt-template pwa-prompt-popup">',a+='<div class="prompt-close"></div>',a=(a+='<div class="header">')+'<div class="pwa-icon"'+i.attr("style",i.style('background-image: url("'+t+'");'),!0,!0)+"></div>",a+='<div class="alert-header">',a+="Would you like to receive push notifications from ",a=(a+="<strong>")+i.escape(null==(e=r)?"":e)+"</strong>",a+="?</div></div>",a+='<div class="web-buttons">',a+='<button class="showmore-button publication-theme-border publication-theme">',a+="See all topics</button>",a+='<button class="notify-button publication-theme-highlight icon-bell-button">',a+="Notify me</button></div></div>"}.call(this,"icon"in r?r.icon:"undefined"!=typeof icon?icon:void 0,"name"in r?r.name:"undefined"!=typeof name?name:void 0),a}},{55:55}],124:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.errorResponse=a.unsubscribedResponse=a.blockedResponse=a.successfulResponse=void 0;var i,r=t(125),n=(i=r)&&i.__esModule?i:{default:i},o=t(137);var s=function(t,e,a,i,r){var o=(0,n.default)({message:t,iconClass:e,showMeHowLink:a,subList:r,publication:i});document.body.insertAdjacentHTML("beforeend",o);var s=document.querySelector(".pwa-prompt-response"),c=document.querySelector(".pwa-prompt-response .prompt-close"),l=document.querySelector(".pwa-prompt-response #confirmation-button");c.addEventListener("click",function(t){t.stopPropagation(),s.remove()}),l.addEventListener("click",function(t){t.stopPropagation(),s.remove()})};a.successfulResponse=function(t,e,a){var i=t.map(function(t){return e[t].name});s("Great! You will now receive push notifications from ","prompt-success-icon",!1,a,i)},a.blockedResponse=function(){(0,o.externalDebug)("Blocked response function called",!1,"newFlowDebug");s("It looks like you've blocked notifications from this site so we won't send you any.","prompt-denied-icon",!0)},a.unsubscribedResponse=function(t){s("OK, you have unselected all topics so we won’t send you notifications","prompt-success-icon",!1,t)},a.errorResponse=function(){s("Sorry, there seems to have been an issue. Please try again later.","prompt-denied-icon",!1)}},{125:125,137:137}],125:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r,n,o,s){let c,l;s&&([c,...l]=s),a+='<div class="pwa-prompt-template pwa-prompt-response">',a+='<div class="prompt-close"></div>',a=(a+='<div class="header">')+"<div"+i.attr("class",i.classes(["pwa-icon","publication-theme-highlight",t],[!1,!1,!0]),!1,!0)+"></div>",a+='<div class="prompt-text">',a+=" ",a+='<div class="response-header">',a+=i.escape(null==(e=r)?"":e),s&&(a+="<strong>",a+=" ",a+=i.escape(null==(e=n)?"":e),a=(a+=" - ")+i.escape(null==(e=c)?"":e)+"</strong>",function(){var t=l;if("number"==typeof t.length)for(var r=0,n=t.length;r<n;r++){var o=t[r];r===l.length-1?(a+=" and ",a+="<strong>",a=(a+=" ")+i.escape(null==(e=o)?"":e)+"</strong>"):(a+=",",a+="<strong>",a=(a+=" ")+i.escape(null==(e=o)?"":e)+"</strong>")}else for(var r in n=0,t)n++,o=t[r],r===l.length-1?(a+=" and ",a+="<strong>",a=(a+=" ")+i.escape(null==(e=o)?"":e)+"</strong>"):(a+=",",a+="<strong>",a=(a+=" ")+i.escape(null==(e=o)?"":e)+"</strong>")}.call(this)),a+="</div>",o&&(a+='<div class="disclaimer">',a+="If you'd like to receive notifications from us then you'll need to unblock them. ",a+='<a class="brand-text" href="/notifications-help/#Unblock">',a+="Show me how</a>",a+="</div>"),a+="</div></div>",a+='<div class="web-buttons">',a+='<button class="showmore-button publication-theme-highlight" id="confirmation-button">',a+="Ok</button></div></div>"}.call(this,"iconClass"in r?r.iconClass:"undefined"!=typeof iconClass?iconClass:void 0,"message"in r?r.message:"undefined"!=typeof message?message:void 0,"publication"in r?r.publication:"undefined"!=typeof publication?publication:void 0,"showMeHowLink"in r?r.showMeHowLink:"undefined"!=typeof showMeHowLink?showMeHowLink:void 0,"subList"in r?r.subList:"undefined"!=typeof subList?subList:void 0),a}},{55:55}],126:[function(t,e,a){t(55);e.exports=function(t){var e="";return e+='<div class="pwa-prompt-terminator">',e+='<div class="icon-bell publication-theme-highlight"></div>',e+='<div class="alert-header brand-text">',e+="Get push notifications</div></div>"}},{55:55}],127:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.articleTerminatorPrompt=void 0;var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=c(t(3)),n=c(t(126)),o=t(121),s=t(137);function c(t){return t&&t.__esModule?t:{default:t}}var l=t(131).DEBUG.FLOW_DEBUG,d=function(t,e,a,i,r){if(a&&e){t.innerHTML=(0,n.default)();var c=t.children[0];(0,s.externalDebug)("Adding article terminator to DOM",!1,l),e.insertAdjacentElement("beforeend",c),c.addEventListener("click",function(){return function(t,e,a){var i=document.querySelector(".pwa-prompt-popup"),r="Notification"in window&&Notification.permission;if(!i){var n=document.createElement("DIV");n.classList.add("pwa-prompt-popup"),(0,o.articlePopupPrompt)(n,t,r,e,a)}}(a,i,r)})}};a.articleTerminatorPrompt=d,a.default=function(t,e,a){return r.default.create({init:function(r){if(window.TMCONFIG.pageInfo.articleType)return Promise.all([t,e]).then(function(t){var e=i(t,2),n=e[0],o=e[1],s=document.getElementById("social-methods");d(r,s,n,o,a)}).catch(function(){(0,s.externalDebug)("error getting manifest and channel",!1,l)})}})}},{121:121,126:126,131:131,137:137,3:3}],128:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.fireSubscribedEvent=a.removeComponentListener=a.checkCookieHasBeenSet=a.loadChannel=a.subscribeUserToTag=a.cacheSelectedManifest=a.setTagCookies=a.getManifestURL=void 0;var i,r=t(8),n=(i=r)&&i.__esModule?i:{default:i},o=t(137),s=t(136);var c=t(131),l=c.CONSTANTS,d=l.PERMISSION,u=l.PUSH,m=l.STARTED,p=l.TTL,f=c.DEBUG.FLOW_DEBUG,h=function(t){var e=o.PUSH_SERVICE_KEY.replace(/^(\w)/,function(t){return t.toUpperCase()}),a=t+":"+o.PUSH_SERVICE_KEY,i=window.localStorage.getItem(a)||(0,n.default)((new Date).getTime().toString());window.localStorage.setItem(a,i),(0,s.analytics)(""+u+m+e,o.PUSH_SERVICE_KEY+":"+t+":"+i)},v=function(t){return t+"manifest.json"},g=function(t,e){var a=location.hostname,i=u+":"+a+t;(0,s.cookie)(i,e,p.PROMPT),(0,s.cookie)(i+":airship",e,p.PROMPT)},b=function(t,e){return new Promise(function(a,i){try{caches.open(e).then(function(e){e.match(t).then(function(i){i||function(t,e){return new Promise(function(a){fetch(t).then(function(i){e.put(t,i).then(a)})})}(t,e).then(a)})})}catch(t){i()}})};a.getManifestURL=v,a.setTagCookies=g,a.cacheSelectedManifest=b,a.subscribeUserToTag=function(t,e,a,i){return new Promise(function(r){var n=(0,o.path)("tags.list.device",a);n&&n.indexOf(t)>-1?((0,o.externalDebug)("Channel already subscribed to "+t,!1,f),r()):((0,o.externalDebug)("Adding tag to channel",!1,f),a.tags.add(t).then(function(){(0,o.externalDebug)("User added to channel",!1,f),g(e,d.GRANTED);var n=v(e),s=""+location.hostname+e,c=o.MANIFEST_CACHE_NAME+":"+a.id+":"+t,l=o.MANIFEST_CACHE_NAME+":"+s,u=b(n,c),m=b(n,l);Promise.all([u,m]).then(function(){return h(i)}).then(r)}).catch(function(){(0,o.externalDebug)("Error: adding "+t+" to channel",!1,f)}))})},a.loadChannel=function(){return new Promise(function(t){return(0,o.externalDebug)("Pre-loading channel",!1,f),new Promise(function(t,e){var a=window.TMCONFIG.features["webPushNotifications.vapidKey"],i=void 0===a?"":a,r={userVisibleOnly:!0,applicationServerKey:(0,o.urlBase64ToUint8Array)(i)};navigator.serviceWorker.ready.then(function(a){(0,o.externalDebug)("Service Worker Ready",!1,f),a.pushManager.getSubscription().then(function(i){i?t():((0,o.externalDebug)("Creating subscription on service worker",!1,f),a.pushManager.subscribe(r).then(t).catch(function(t){return e(t)}))}).catch(function(t){(0,o.externalDebug)("Error: creating subscription",!1,f),e(t)})})}).then(function(){return new Promise(function(t,e){window.UA||((0,o.externalDebug)("Airship SDK failed",!1,f),e());try{(0,o.externalDebug)("checking for channel",!1,f),window.UA.then(function(e){e.channel?((0,o.externalDebug)("Existing channel found "+e.channel.channel_id,!1,f),t(e.channel)):((0,o.externalDebug)("No channel detected with Airship, setting up new channel",!1,f),e.register(),e.addEventListener("channel",function(e){(0,o.externalDebug)("Airship channel created "+e.channel.channel_id,!1,f),t(e.channel)}))})}catch(t){(0,o.externalDebug)("Error: getting channel",!1,f),e(t)}}).then(function(e){return t(e)}).catch(function(e){(0,o.externalDebug)(e,!1,"NEW_PUSH_FLOW"),t(void 0)})}).catch(function(){(0,o.externalDebug)("Error: preloading channel",!1,f),t(void 0)})})},a.checkCookieHasBeenSet=function(t){var e=location.hostname,a=u+":"+e+t;return document.cookie.indexOf(a)>=0},a.removeComponentListener=function(t,e){var a=e.querySelector(t);a&&a.addEventListener("click",function(t){t.stopPropagation(),e.remove()})},a.fireSubscribedEvent=h},{131:131,136:136,137:137,8:8}],129:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.pushNotifications=void 0;var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=g(t(3)),n=g(t(5)),o=t(136),s=t(135),c=t(137),l=t(113),d=t(109),u=t(121),m=t(128),p=t(132),f=g(t(133)),h=g(t(130)),v=g(t(118));function g(t){return t&&t.__esModule?t:{default:t}}var b=t(131),k=b.CONSTANTS,w=b.FELIX_SETTINGS,y=w.WEB_ALERT,L=w.ADD_TO_HOME_SCREEN,E=w.DOWNLOAD_APP;function x(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=function(t){(0,p.showPopup)(y.NOTIFICATION)&&t(Notification.permission)},i=new Promise(function(t){window.felix?a(t):document.addEventListener("FELIX",function(){return a(t)})}),r=void 0,n=void 0;return e&&(n=setTimeout(function(){var t=(0,p.getBrowserType)();if(t){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);document.body.insertAdjacentHTML("beforeend",(0,v.default)({isMobile:e,browserType:t})),(r=document.querySelector(".browser-prompt-overlay")).addEventListener("click",function(){return r.remove()})}},100)),i.then(function(){e&&(r?r.remove():clearTimeout(n)),(0,o.analytics)(""+k.PUSH+k.STARTED)}),i}function C(t,e,a,i){var r=i.home,n=i.push,l=i.permission,d=i.native;if(a&&a.name){var u=a.name,m=(0,c.getAssetUrl)(a.icons.length>2?a.icons[2].src:a.icons[0].src),v=a.push_options||{},g=v.tagName,b=v.vapidKey,w=a.related_applications&&a.related_applications[0]||{},y=w.id||"";t.innerHTML=(0,h.default)({icon:m,name:u,home:r,push:n,native:d&&w});var L=t.children[0];t.parentNode.replaceChild(L,t);var E=L.querySelector("button"),C=L.querySelector(".decline");if(d){var T=k.NATIVE+":"+e.split("/")[0]+":"+y;E.addEventListener("click",function(){(0,o.analytics)(""+k.NATIVE+k.STARTED,e),(0,o.cookie)(T,k.PERMISSION.GRANTED,k.TTL.ACCEPT),window.open(a.related_applications[0].url)}),C.addEventListener("click",function(){(0,o.cookie)(T,k.PERMISSION.DENIED,k.TTL.DECLINE)})}if(n){var S=k.NOTIFICATION,_={"Event Category":S.CATEGORY,"Event Action":"","Event Label":e};E.addEventListener("click",function(){(l?x(l):Promise.resolve(k.PERMISSION.GRANTED)).then(function(t){t===k.PERMISSION.GRANTED&&((0,o.analytics)(""+k.PUSH+k.CUSTOM_POPUP+k.ACCEPTED),(0,o.analytics)(S.SERVICE_NAME,Object.assign({},_,{"Event Action":S.PROMPT_ACCEPTED}),S.CATEGORY),Notification.permission===k.PERMISSION.DEFAULT&&(_["Event Action"]=S.BROWSER_PROMPT_DISPLAYED,(0,o.analytics)(S.SERVICE_NAME,_,S.CATEGORY)),Notification.requestPermission().then(function(t){t===k.PERMISSION.GRANTED&&(0,f.default)(e,g,b)}))})}),C.addEventListener("click",function(){_["Event Action"]=S.PROMPT_DECLINED,(0,o.analytics)(S.SERVICE_NAME,_,S.CATEGORY),(0,o.cookie)(k.PUSH+":"+e,k.PERMISSION.DENIED,k.TTL.WEB_PUSH_DECLINE),(0,o.cookie)(k.PUSH+":"+e+":"+c.PUSH_SERVICE_KEY,k.PERMISSION.DENIED,k.TTL.WEB_PUSH_DECLINE),(0,s.removeSignUp)(e,g)})}else if(r){var A=document.querySelector(".article-body"),D=void 0,M=!1;if(A){var P=document.createElement("div");P.id="hide-home-screen",A.insertAdjacentElement("beforeend",P),(D=new IntersectionObserver(function(t,e){t[0].boundingClientRect.bottom<=t[0].rootBounds.height?(L.remove(),e.disconnect()):L.classList.remove("hidden")})).observe(document.getElementById("hide-home-screen")),M=!0}else L.classList.remove("hidden");E.addEventListener("click",function(){window.TMAddToHomescreen&&(window.TMAddToHomescreen.prompt(),(0,o.analytics)(""+k.HOMESCREEN+k.STARTED,e)),M&&D.disconnect()}),C.addEventListener("click",function(){(0,o.cookie)(k.HOMESCREEN+":"+e,k.PERMISSION.DENIED,k.TTL.DECLINE),M&&D.disconnect()})}E.addEventListener("click",function(){setTimeout(function(){L.parentNode.removeChild(L)},100),(0,p.setPromptClosedCookie)(n,r,d,e)}),C.addEventListener("click",function(t){t.preventDefault(),setTimeout(function(){L.parentNode.removeChild(L)},100),(0,p.setPromptClosedCookie)(n,r,d,e)})}}a.pushNotifications=x,a.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,p.trackBrowserPermission)(k.NOTIFICATION.SERVICE_NAME.toLowerCase()),(0,c.externalDebug)("------------------------"),document.cookie.includes(k.PUSH+":"+t+"="+k.PERMISSION.GRANTED)&&((0,c.externalDebug)("previous web push cookie found"),Notification.permission!==k.PERMISSION.GRANTED&&(0,p.revokePushPermission)(t));var s=(0,p.getKnownVariables)(t),h=s.permission,v=s.skipInstall,g=s.skipPush,b=s.skipNative,w=s.disableA2HS,T=s.newPushFlow;s.useLocalStorageQueue&&((0,l.checkForQueue)()&&((0,c.externalDebug)("Queue exists will start adding channels"),(0,l.recursivelyAddTags)()));var S=Promise.resolve(void 0);if(document.cookie.includes(k.PUSH+":"+t+"="+k.PERMISSION.GRANTED)&&window.UA&&!T&&((0,c.externalDebug)("airship detected"),(e||(0,o.getManifest)(t)).then(function(e){var a=e.push_options||{},i=a.tagName,r=a.vapidKey;document.cookie.includes(k.PUSH+":"+t+":"+c.PUSH_SERVICE_KEY+"="+k.PERMISSION.GRANTED)||((0,c.externalDebug)("no airship cookie found"),(0,f.default)(t,i,r),(0,o.analytics)(k.CHANGED))})),window.addEventListener("airship.sdk.snippet.loaded",function(){(0,d.addTagToChannel)(h,t,o.getManifest,e)}),h===k.PERMISSION.GRANTED&&a.pushSingleStep&&delete a.pushSingleStep,h===k.PERMISSION.GRANTED&&T&&(S=(0,m.loadChannel)()),"systemImmediately"!==a.pushSequence||T||x(h),!((0,p.userClosedPromptPreviously)(t)||v&&g&&b)){var _=new Promise(function(e){(v||T||w||(0,p.isIOS)())&&e(!1),g||window.setTimeout(function(){e(!1)},k.A2HS_TIMEOUT),window.addEventListener("beforeinstallprompt",function(a){a.preventDefault(),window.TMAddToHomescreen=a,window.TMAddToHomescreen.userChoice&&window.TMAddToHomescreen.userChoice.then(function(e){"accepted"===e.outcome?(0,o.analytics)(""+k.HOMESCREEN+k.ACCEPTED,t):(0,o.analytics)(""+k.HOMESCREEN+k.DECLINED,t)}),e(!0)})});e=e||(0,o.getManifest)(t),n.default.fire(document.body,"component.activate"),(0,p.injectComponents)(a);var A=r.default.create({init:function(r){T||function(r){Promise.all([_,e]).then(function(e){var n=i(e,2),s=n[0],c=n[1];if(!(0,p.delayUserToSubscribe)(a)){var l=!(b||(0,p.userInteractedWithNativePrompt)(t,c)||!g&&(0,p.hasExplicitPermission)(h)),d=function(e,a){(0,p.showPopup)(a)&&C(r,t,c,e)},u=function(t,e){window.felix?d(t,e):document.addEventListener("FELIX",function(){return d(t,e)})},m={home:s,push:!1,permission:!0,native:l};if(!l)return"subscribeAllow"!==a.pushSequence||g?void x(h).then(function(e){var i=!g&&(0,p.hasExplicitPermission)(e);if((0,p.hasExplicitPermission)(e)||(s||i||l)&&!(0,p.delayUserToSubscribe)(a)){var n=c.push_options||{},d=n.tagName,m=n.vapidKey,h={home:s,push:i,native:l};if(i&&a.pushSingleStep)(0,f.default)(t,d,m);else if(i){u(h,y.SUBJECTIVE);var v=k.NOTIFICATION,b={"Event Category":v.CATEGORY,"Event Action":v.PROMPT_DISPLAYED,"Event Label":t};(0,o.analytics)(v.SERVICE_NAME,b,v.CATEGORY)}else s?u(h,L):C(r,t,c,{home:s,push:i,native:l})}}):(m.permission=h,m.push=!0,void(window.felix?d(m):document.addEventListener("FELIX",function(){return d(m)})));u(m,E)}})}(r)},offsets:{top:1e4}}),D={pwaTerminator:(0,u.terminatorComponent)(e,S,t),pwaPopup:(0,u.popUpComponent)(e,S,h,t)};return T?D:{pwaPrompt:A}}}},{109:109,113:113,118:118,121:121,128:128,130:130,131:131,132:132,133:133,135:135,136:136,137:137,3:3,5:5}],130:[function(t,e,a){var i=t(55);e.exports=function(t){var e,a="",r=t||{};return function(t,r,n,o,s){let c;(!s&&!t&&!o||!s&&t)&&(c="hidden"),o&&(c="native-install"),o?(a=a+"<div"+(i.attr("class",i.classes(["pwa-modal-prompt",c],[!1,!0]),!1,!0)+i.attr("data-push",s&&s.toString(),!0,!0)+i.attr("data-home",t&&t.toString(),!0,!0)+i.attr("data-native",!!o,!0,!0))+">",a+='<div class="native-banner-brand brand-hint-bg">',a+='<a class="decline" href="#" data-tmdatatrack="download-app-close">',a+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">',a=(a+='<path d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"></path></svg></a>')+'<div class="native-banner-icon"'+i.attr("style",i.style('background-image: url("'+(s||t||!o.icon?r:o.icon)+'");'),!0,!0)+"></div></div>",a+='<div class="native-banner-content">',a+="<p>",a+="Enjoy the best experience with our mobile app</p>",a+='<button data-tmdatatrack="download-app">',a+="Download Free</button></div></div>"):(a=(a=a+"<div"+(i.attr("class",i.classes(["pwa-modal-prompt",c],[!1,!0]),!1,!0)+i.attr("data-push",s&&s.toString(),!0,!0)+i.attr("data-home",t&&t.toString(),!0,!0)+i.attr("data-native",!!o,!0,!0))+">")+'<div class="pwa-icon"'+i.attr("style",i.style('background-image: url("'+(s||t||!o.icon?r:o.icon)+'");'),!0,!0)+"></div>",s?(a+="<p>",a+=i.escape(null==(e=n)?"":e),a+=" uses notifications to keep you updated.</p>",a+='<button data-tmdatatrack="web-alert-subjective">',a+="Keep me updated</button>",a+='<a class="decline" href="#" data-tmdatatrack="web-alert-subjective-close">',a+="No thanks</a>"):t&&(a+="<p>",a+="You can add ",a+=i.escape(null==(e=n)?"":e),a+=" to your Home screen for quicker access.</p>",a+='<button data-tmdatatrack="add-to-home-screen">',a+="Add to Home screen</button>",a+='<a class="decline" href="#" data-tmdatatrack="add-to-home-screen-close">',a+="No thanks</a>"),a+="</div>")}.call(this,"home"in r?r.home:"undefined"!=typeof home?home:void 0,"icon"in r?r.icon:"undefined"!=typeof icon?icon:void 0,"name"in r?r.name:"undefined"!=typeof name?name:void 0,"native"in r?r.native:"undefined"!=typeof native?native:void 0,"push"in r?r.push:"undefined"!=typeof push?push:void 0),a}},{55:55}],131:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.CONSTANTS={A2HS_TIMEOUT:1e4,ACCEPTED:"Accepted",BLOCK_ALL_A2HS:"blockAllA2HS",CHANGED:"pushProviderChanged",CLOSED:"closed",CUSTOM_POPUP:"CustomPopUp",DECLINED:"Declined",ERROR:"Error",HOMESCREEN:"pwaInstall",IN_PROGRESS:"inProgress",MULTIPLE_SUBSCRIPTION:"MultipleSubscription",NATIVE:"pwaNativeInstall",PERMISSION:{PROMPT:"prompt",DEFAULT:"default",DENIED:"denied",GRANTED:"granted"},PROMPT:"pwaPrompt",PUSH:"pwaPush",STARTED:"Started",SYSTEM_PUSH:"pwaSystemPush",TTL:{ACCEPT:99999,DECLINE:60,PROMPT:0,WEB_PUSH_DECLINE:30},NOTIFICATION:{SERVICE_NAME:"Notifications",CATEGORY:"Engagement (PIE)",NOTIFICATION_OPENED:"Push Notification Clicked",NOTIFICATION_CLOSED:"Push Notification Closed",PROMPT_DISPLAYED:"Reach Prompt Displayed",PROMPT_ACCEPTED:"Sign-up Prompt Accepted",PROMPT_DECLINED:"Sign-up Prompt Declined",BROWSER_PROMPT_DISPLAYED:"Notifications Prompted",SUBSCRIPTION_FAILED:"Push Subscribe Airship Failed",SUBSCRIPTION_SUCCESS:"Push Subscribe Started Airship"}},a.DEBUG={FLOW_DEBUG:"newFlowDebug"},a.FELIX_SETTINGS={ADD_TO_HOME_SCREEN:"add-to-home-screen",DOWNLOAD_APP:"download-app",WEB_ALERT:{NOTIFICATION:"web-alert-notification",NOTIFICATION_CLOSE:"web-alert-notification-close",SUBJECTIVE:"web-alert-subjective"}},a.DISPLAY_PROMPT={SCROLLED_PERCENT:{ARTICLE:50,DEFAULT:0},VISITS:{MIN:3,TTL:1800}}},{}],132:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.trackBrowserPermission=a.setPromptClosedCookie=a.savePushNotificationsOption=a.hasExplicitPermission=a.hasEnoughPermission=a.delayUserToSubscribe=a.revokePushPermission=a.userInteractedWithNativePrompt=a.userClosedPromptPreviously=a.getKnownVariables=a.injectComponents=a.checkMinimumNoOfVisists=a.checkPosition=a.showPopup=a.isIOS=a.getBrowserType=void 0;var i,r=t(137),n=t(134),o=(i=n)&&i.__esModule?i:{default:i},s=t(136);var c=t(131),l=c.CONSTANTS,d=c.DISPLAY_PROMPT,u=c.FELIX_SETTINGS.WEB_ALERT,m=(a.getBrowserType=function(){var t=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime),e="undefined"!=typeof InstallTrigger,a=!!document.documentMode,i=m(),r={chrome:t,firefox:e,ie:a,edge:!a&&!!window.StyleMedia,opera:!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,android:navigator.userAgent.indexOf("Mozilla/5.0")>-1&&navigator.userAgent.indexOf("Android ")>-1&&navigator.userAgent.indexOf("AppleWebKit")>-1&&navigator.userAgent.indexOf("Chrome")>-1,ios:i};return Object.keys(r).filter(function(t){return r[t]}).reverse()[0]},a.isIOS=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}),p=(a.showPopup=function(t){return window.felix.getPageConfig(t)},a.checkPosition=function(){var t=document.querySelector(".article-body");if(t){var e=t.scrollHeight+t.offsetTop,a=Math.floor(e*d.SCROLLED_PERCENT.ARTICLE/100);return window.pageYOffset>a}return!0},function(t){var e=window.localStorage.getItem(t);if(e){var a=JSON.parse(e);return(new Date).getTime()>a.expiresAt?(function(t){localStorage.removeItem(t)}(t),0):a.value}return 0}),f=(a.checkMinimumNoOfVisists=function(t){var e,a,i=t+":visitsToEnablePrompt",r=p(i)+1;return r===d.VISITS.MIN||(e=i,a={value:r,expiresAt:(new Date).getTime()+1e3*d.VISITS.TTL},localStorage.setItem(e,JSON.stringify(a)),!1)},a.injectComponents=function(t){var e=t.pushSequence,a=t.pushSingleStep,i="systemImmediately"===e&&(void 0===a?null:a);document.body.insertAdjacentHTML("beforeend",(0,o.default)({component:"pwaPrompt",triggerImmediately:i})),document.body.insertAdjacentHTML("beforeend",(0,o.default)({component:"pwaTerminator",triggerImmediately:i})),document.body.insertAdjacentHTML("beforeend",(0,o.default)({component:"pwaPopup",triggerImmediately:i}))},a.getKnownVariables=function(t){var e="Notification"in window&&Notification.permission,a=(0,r.path)("TMCONFIG.isPreview",window)||!1;return{permission:e,skipInstall:window.matchMedia("(display-mode: standalone)").matches||document.cookie.includes(l.HOMESCREEN+":"+t+"=")||document.cookie.includes(l.HOMESCREEN+":"+l.BLOCK_ALL_A2HS+"=")||a,skipPush:!e||e===l.PERMISSION.DENIED||document.cookie.includes(l.PUSH+":"+t+"=")||a,skipNative:!/(android)/i.test(navigator.userAgent)&&!m()||a,disableA2HS:"true"===(0,r.path)("TMCONFIG.features.disableA2HS",window),newPushFlow:(0,r.path)("TMCONFIG.features.newNotificationSubscription",window),useLocalStorageQueue:(0,r.path)("TMCONFIG.features.writeTagToLocalStorage",window)}},a.userClosedPromptPreviously=function(t){return document.cookie.includes(l.PROMPT+":"+t+"="+l.CLOSED)},a.userInteractedWithNativePrompt=function(t,e){var a=l.NATIVE+":"+t.split("/")[0];return e.related_applications&&e.related_applications.length>0&&(a=a+":"+e.related_applications[0].id),document.cookie.includes(a)},function(t){document.cookie=t+";expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;"}),h=(a.revokePushPermission=function(t){f(l.PUSH+":"+t+"="+l.PERMISSION.GRANTED),f(l.PUSH+":"+t+":"+r.PUSH_SERVICE_KEY+"="+l.PERMISSION.GRANTED),f(l.PROMPT+":"+t+"="+l.CLOSED)},a.delayUserToSubscribe=function(t){return t.pushSubscribeDelay&&document.cookie.includes(""+l.SYSTEM_PUSH)},a.hasEnoughPermission=function(t){var e=l.PERMISSION;return[e.DEFAULT,e.GRANTED].includes(t)}),v=a.hasExplicitPermission=function(t){return h(t)},g=a.savePushNotificationsOption=function(t){v(t)?((0,s.cookie)(l.SYSTEM_PUSH,t,l.TTL.PROMPT),(0,s.analytics)(""+l.PUSH+l.ACCEPTED),window.felix.click(u.NOTIFICATION,0,0,{})):((0,s.analytics)(""+l.PUSH+l.DECLINED),window.felix.click(u.NOTIFICATION_CLOSE,0,0,{}))};a.setPromptClosedCookie=function(t,e,a,i){(t&&!e&&!a||!t&&e&&!a||!t&&!e&&a)&&(0,s.cookie)(l.PROMPT+":"+i,l.CLOSED,l.TTL.PROMPT)},a.trackBrowserPermission=function(t){document.addEventListener("DOMContentLoaded",function(){window.navigator.permissions&&window.navigator.permissions.query&&window.navigator.permissions.query({name:t}).then(function(t){t.onchange=function(){return function(t){var e=l.NOTIFICATION,a=l.PERMISSION,i=t.name,r=t.state;if(![a.DEFAULT,a.PROMPT].includes(r)){var n={"Event Category":e.CATEGORY,"Event Action":""+i.charAt(0).toUpperCase()+i.slice(1)+" "+r.charAt(0).toUpperCase()+r.slice(1),"Event Label":window.location.host};(0,s.analytics)(""+i.charAt(0).toUpperCase()+i.slice(1),n,e.CATEGORY),g(r)}}(t)}})})}},{131:131,134:134,136:136,137:137}],133:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(137),r=t(136),n=s(t(135)),o=s(t(8));function s(t){return t&&t.__esModule?t:{default:t}}var c=t(131).CONSTANTS,l=i.PUSH_SERVICE_KEY.replace(/^(\w)/,function(t){return t.toUpperCase()}),d=function(t,e,a,o,s){(0,i.externalDebug)("migrating: "+e+" "+t);var d=!0,u=c.NOTIFICATION,m={"Event Category":u.CATEGORY,"Event Action":"","Event Label":t};try{(0,n.default)(t,e,a,s)}catch(a){Error("Airship subscription failed.",t,e,a),(0,i.externalDebug)("Error: airship subscription failed "+a+" "+t+", "+e),(0,r.analytics)(""+c.PUSH+c.ERROR+l,i.PUSH_SERVICE_KEY+":"+t+":"+o+":ERROR:"+a),m["Event Action"]=u.SUBSCRIPTION_FAILED,(0,r.analytics)(u.SERVICE_NAME,m,u.CATEGORY),d=!1}finally{d&&((0,i.externalDebug)("setting airship cookie"),(0,r.cookie)(c.PUSH+":"+t,c.PERMISSION.GRANTED,c.TTL.ACCEPT),(0,r.cookie)(c.PUSH+":"+t+":"+i.PUSH_SERVICE_KEY,c.PERMISSION.GRANTED,c.TTL.ACCEPT),(0,r.analytics)(""+c.PUSH+c.STARTED+l,i.PUSH_SERVICE_KEY+":"+t+":"+o),m["Event Action"]=u.SUBSCRIPTION_SUCCESS,(0,r.analytics)(u.SERVICE_NAME,m,u.CATEGORY),s&&s.forEach(function(t){var e=t.publication;(0,r.cookie)(c.PUSH+":"+e,c.PERMISSION.GRANTED,c.TTL.ACCEPT),(0,r.cookie)(c.PUSH+":"+e+":"+i.PUSH_SERVICE_KEY,c.PERMISSION.GRANTED,c.TTL.ACCEPT)}))}};a.default=function(t,e,a){(0,i.externalDebug)("subscribeToPublication"),(0,i.externalDebug)("pushNotification - airship detected, attempting airship signup");var n=t+":"+i.PUSH_SERVICE_KEY,s=window.localStorage.getItem(n)||(0,o.default)((new Date).getTime().toString());window.localStorage.setItem(n,s),(0,i.externalDebug)("attempting airship signup: "+e);var l=(0,i.path)("TMCONFIG.features.PWA",window),u=JSON.parse(l),m=u.subsets;if(m){var p=window.location.hostname,f=c.PUSH+":"+p,h=m.map(function(t){var e=t.key?"/manifest-"+t.key+".json":u.scope+"manifest.json";return{manifest:t.manifest?"/"+t.manifest:e,homepage:t.homepage,publication:""+p+t.homepage}}).filter(function(e){var a=e.homepage;return!t.includes(a)&&document.cookie.includes(""+f+a+"="+c.PERMISSION.GRANTED)&&!document.cookie.includes(""+f+a+":"+i.PUSH_SERVICE_KEY+"="+c.PERMISSION.GRANTED)});if(h.length){var v=h.map(function(t){var e=t.homepage,a=t.manifest;return(0,r.getManifest)(""+p+e,a)});Promise.all(v).then(function(r){var n=r.map(function(t,e){return{tagName:(t.push_options||{}).tagName,publication:h[e].publication,manifest:h[e].manifest}});(0,i.externalDebug)("subsets: "+n.map(function(t){var e=t.tagName;return t.publication+":"+e}).join("; ")),d(t,e,a,s,n)})}else d(t,e,a,s)}else d(t,e,a,s)}},{131:131,135:135,136:136,137:137,8:8}],134:[function(t,e,a){var i=t(55);e.exports=function(t){var e="",a=t||{};return function(t,a,r){e=(e=e+'<div class="pwa-prompt-trigger"'+i.attr("data-mod",t,!0,!0)+i.attr("data-immediate",r,!0,!0)+">")+'<div class="pwa-prompt hidden"'+i.attr("data-platform",a,!0,!0)+"></div></div>"}.call(this,"component"in a?a.component:"undefined"!=typeof component?component:void 0,"platform"in a?a.platform:"undefined"!=typeof platform?platform:void 0,"triggerImmediately"in a?a.triggerImmediately:"undefined"!=typeof triggerImmediately?triggerImmediately:void 0),e}},{55:55}],135:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.removeSignUp=a.externalDebug=a.openNotification=a.showNotification=a.COMMANDS=void 0;var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=t(137),n=t(111),o=t(113),s={UNSUBSCRIBE:"unsubscribe"},c=function(t,e,a){var i=window.TMCONFIG&&window.TMCONFIG.features&&window.TMCONFIG.features.writeTagToLocalStorage;i?((0,r.externalDebug)("writing tag to local storage"),(0,o.writeTagToQueue)({href:document.querySelector("link[rel=manifest]").href,publication:t,tagName:e}),a&&((0,r.externalDebug)("writing subsets to local storage"),a.forEach(function(t){var e=t.homepage,a=t.manifest,i=t.tagName;(0,o.writeTagToQueue)({href:a,path:e,tagName:i})})),(0,o.recursivelyAddTags)()):((0,r.externalDebug)("creating airship sdk"),window.UA.then(function(n){(0,r.externalDebug)("got airship sdk"),n.addEventListener("channel",function(o){window.TMCONFIG&&window.TMCONFIG.features&&window.TMCONFIG.features.includeTemporaryAirshipTag&&(n.channel.tags.add("UA_temporary_tag"),(0,r.externalDebug)("temporary airship tag added")),(0,r.externalDebug)("airship channel created "+o.channel.id);var s=document.querySelector("link[rel=manifest]").href;caches.open(r.MANIFEST_CACHE_NAME+":"+t).then(function(a){(0,r.externalDebug)("opened cache: "+r.MANIFEST_CACHE_NAME+":"+t),a.match(s).then(function(t){if(t){(0,r.externalDebug)("Got manifest cache");var a=r.MANIFEST_CACHE_NAME+":"+o.channel.id,i=t.clone();(0,r.externalDebug)("Checking existing cache: "+r.MANIFEST_CACHE_NAME+":"+o.channel.id),caches.has(a).then(function(t){t||((0,r.externalDebug)("Cache does not exist, writing to it"),caches.open(a).then(function(t){(0,r.externalDebug)("storing channel cache as "+a),t.put(s,i)}))});var n=a+":"+e;caches.open(n).then(function(e){(0,r.externalDebug)("storing tag cache as "+n),e.put(s,t.clone())})}else(0,r.externalDebug)("No manifest response from "+s)})}),a&&a.forEach(function(t){var e=t.publication,a=t.tagName,i=t.manifest;caches.open(r.MANIFEST_CACHE_NAME+":"+e).then(function(t){t.match(i).then(function(t){if(t){(0,r.externalDebug)("Got manifest cache for subset "+e+" "+a);var n=r.MANIFEST_CACHE_NAME+":"+o.channel.id+":"+a;caches.open(n).then(function(e){(0,r.externalDebug)("storing subset tag cache as "+n),e.put(i,t.clone())})}})})}),e&&!i?((0,r.externalDebug)("adding channel tag "+e),n.channel.tags.add(e),a&&a.forEach(function(t){(0,r.externalDebug)("adding channel tags "+t.tagName),n.channel.tags.add(t.tagName)})):(0,r.externalDebug)("no tagName")}),n.register()}))};a.default=function(t,e,a,i){(0,r.externalDebug)("airship signup started: "+t+" "+e);var n={userVisibleOnly:!0,applicationServerKey:(0,r.urlBase64ToUint8Array)(a)};navigator.serviceWorker.ready.then(function(a){(0,r.externalDebug)("service worker registered"),a.pushManager.getSubscription().then(function(o){o?((0,r.externalDebug)("got previous subscription, unsubscribing"),o.unsubscribe().then(function(){(0,r.externalDebug)("unsubscribe successful, creating new push manager subscription"),a.pushManager.subscribe(n).then(function(){(0,r.externalDebug)("push manager subscription created, creating airship subscription"),localStorage.setItem("newPushProvider",!0),c(t,e,i)})})):((0,r.externalDebug)("no previous subscription, creating push manager subscription"),a.pushManager.subscribe(n).then(function(){(0,r.externalDebug)("push manager subscription created, creating airship subscription"),localStorage.setItem("newPushProvider",!0),c(t,e,i)}))})})},a.COMMANDS=s,a.showNotification=function(t){var e=t.data.json(),a=e.body,o=e.url,s=e.silent,c=e.publication,l=e.channel_id,d=e.action,u=void 0===d?{}:d,m=e.title,p=e.icon,f=u["^+t"],h=c||l,v=r.MANIFEST_CACHE_NAME+":"+h+(f?":"+f:""),g=self.denied;if(!(g&&g.filter(function(t){return t.includes(":"+f)}).length>0)){var b=(0,n.getConfig)(indexedDB),k=caches.open(v).then(function(t){return t.keys()}).then(function(t){return caches.open(v).then(function(e){return e.match(t[t.length-1])})}).then(function(t){return t.json()}),w=Promise.all([k,b]).then(function(t){var e=i(t,2),n=e[0],c=e[1],l=c.options&&c.options.pushSticky&&self.navigator.appVersion.includes("Win"),d={icon:(0,r.getAssetUrl)(p||n.push_options.icon),badge:(0,r.getAssetUrl)(n.push_options.badge),data:{url:o||u["^u"]},silent:s};return m&&(d.body=a),l&&(d.requireInteraction=!0,d.actions=[{action:"open",title:"Open"},{action:"close",title:"Close"}]),self.registration.showNotification(m||a,d)});t.waitUntil(w)}},a.openNotification=function(t){var e=t.notification,a=t.action,i=e.data,r=i.url,n=i.action,o=void 0===n?{}:n;if("close"===a)e.close();else{var s=r||o["^u"];s&&self.clients.openWindow(s+"?utm_source=push"),e.close()}t.stopPropagation()},a.externalDebug=r.externalDebug,a.removeSignUp=function(t,e){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:s.UNSUBSCRIBE,message:t+":"+e})}},{111:111,113:113,137:137}],136:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.MANIFEST_CACHE_NAME=a.validate=a.urlBase64ToUint8Array=a.cookie=a.getManifest=a.analytics=void 0,a.stub=function(t){var e={analytics:p,getManifest:v};return a.analytics=p=t.stub(),a.getManifest=v=t.stub(),{analytics:p,getManifest:v,restore:function(){a.analytics=p=e.analytics,a.getManifest=v=e.getManifest}}};var i=t(117),r=d(i),n=d(t(110)),o=d(t(5)),s=d(t(114)),c=d(t(111)),l=t(137);function d(t){return t&&t.__esModule?t:{default:t}}var u=navigator.userAgent.match(/iPhone|iPad|iPod/i);function m(t,e){var a=e.clog;o.default.fire(window,"contentupdate",t),a("CONTENTUPDATE: "+t)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"metrics";o.default.fire(window,"analytics.track",{name:t,category:a,value:e})}function f(t,e,a){var i=a.clog,r=window.localStorage.getItem(l.HASH_KEY);(0,n.default)(t,e.cacheFirst,{clog:i}).then(function(t){m(r===t.contentHash?"unchanged":"fresh",{clog:i}),p("cacheFirstPageView")}).catch(function(){m("cached",{clog:i}),p("cacheFirstPageView"),i("CACHED PAGE VIEW"),navigator.serviceWorker.addEventListener("message",function(t){if(t.origin===location.origin){var e=t.data;e&&"NEW_VERSION"===e.message&&e.url===location.href&&(r!==e.contentHash?(p("stalePageView"),i("STALE PAGE VIEW")):(p("cachedPageView"),i("MOULDY PAGE VIEW")))}})})}function h(t){return encodeURIComponent(t||"")}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],a=document.querySelector("link[rel=manifest]");if(a){var i=e||a.href;return new Promise(function(e,a){caches.open(l.MANIFEST_CACHE_NAME+":"+t).then(function(t){t.match(i).then(function(a){a?e(a):fetch(i).then(function(a){t.put(i,a.clone()),e(a.clone())})})}).catch(function(t){return a(t)})}).then(function(t){return t.json().then(function(t){return t})})}}a.default=function(t,e,a){var n=function(){};if("serviceWorker"in navigator){try{t=JSON.parse(t)}catch(e){t=t||{}}if(!t.debug)try{t.debug=new URLSearchParams(window.location.search).get("pwaDebug")}catch(t){}(0,c.default)(window.indexedDB,t,a);var l="/service-worker.js?v=6daddcc48fafe6ed6d5f49029deabe86";t.debug&&(l+="&pwaDebug="+t.debug,n=function(t){window.console.log("[TM PWA] "+t)}),t.cacheFirst&&(l+="&cacheFirst=true"),t.offlineSupport&&(l+="&offlineSupport=true"),e&&(l=l+"&pushDisplayService="+e+"&vap="+h(a.vapidKey)+"&a="+h(a.appKey)+"&t="+h(a.token)+"&i="+h());var d=void 0;if(t.scope&&(d={scope:t.scope}),window.sessionStorage.setItem("swUrl",l),navigator.serviceWorker.register(l,d).then(function(){n("Service worker registered successfully");var t="\n      !function (n, t, c, e, u) { \n      function r(n) { try { f = n(u) } catch (n) { return h = n, void i(p, n) } i(s, f) } \n      function i(n, t) { for (var c = 0; c < n.length; c++)d(n[c], t); } \n      function o(n, t) { return n && (f ? d(n, f) : s.push(n)), t && (h ? d(t, h) : p.push(t)), l } \n      function a(n) { return o(!1, n) } \n      function d(t, c) { n.setTimeout(function () { t(c) }, 0) } \n      var f, h, s = [], p = [], l = { then: o, catch: a, _setup: r }; \n      n[e] = l; \n      var v = t.createElement(\"script\"); \n      v.src = c, v.async = !0, v.id = \"_uasdk\", v.rel = e, t.head.appendChild(v) }(window, document, \n      'https://aswpsdkus.com/notify/v1/ua-sdk.min.js', \n      'UA', // This value can be changed to use a custom variable name. \n      { appKey: '"+a.appKey+"', \n      token: '"+a.token+"', \n      vapidPublicKey: '"+a.vapidKey+"', \n      websitePushId: 'web.com.reach.all',\n      workerUrl: '"+l+"' })",e=document.createElement("script");e.innerHTML=t,document.body.appendChild(e);var i=new Event("airship.sdk.snippet.loaded");window.dispatchEvent(i)},function(e){t.debug&&(n("Service worker registration failed"),n(e))}),t.offlineSupport&&navigator.onLine){(0,r.default)(window.indexedDB,function(t){p("attemptedPageViews",t)});var v=(0,i.offlineLandingTracking)();v&&p("offlineLandingPageViews",v)}if(t.cacheFirst&&t.cacheFirst.useCachedHtml&&(navigator.serviceWorker.controller||t.cacheFirst&&t.cacheFirst.force)){var g=document.querySelector("main");if(g)f(g,t.cacheFirst,{clog:n});else{var b=new MutationObserver(function(){var e=document.body;e&&(b.disconnect(),(b=new MutationObserver(function(){var e=document.querySelector("main");e&&(f(e,t.cacheFirst,{clog:n}),b.disconnect())})).observe(e,{childList:!0}))});b.observe(document.documentElement,{childList:!0})}}else m("none",{clog:n});t.offlineSupport&&(0,s.default)(t.offlineSupport,t.scope),window.matchMedia("(display-mode: standalone)").matches&&(p("pwaPageView"),document.documentElement.setAttribute("tm-pwa",t.scope||"/")),!0===window.navigator.standalone&&u&&(p("iOSPwaPageView"),document.documentElement.setAttribute("tm-pwa",t.scope||"/"),o.default.delegate(document.body,"a","click",function(t){var e=t.target.getAttribute("href");window.history.pushState({},"",e),location.replace(e)},{preventDefault:!0})),window.indexedDB.deleteDatabase("1"),window.indexedDB.deleteDatabase("cacheStatus")}else m("none",{clog:n})},a.analytics=p,a.getManifest=v,a.cookie=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),document.cookie=t+"="+e+";expires="+i.toUTCString()+";path=/"},a.urlBase64ToUint8Array=l.urlBase64ToUint8Array,a.validate=function(t,e){var a=e||"";if(!t)return{homepage:a};var i=void 0;try{i=JSON.parse(document.getElementById("manifest-validation").getAttribute("content"))}catch(t){return null}var r=t.filter(function(t){return i.url&&i.url.includes(t.homepage)}),n=t.filter(function(t){return i.primaryTag&&i.primaryTag===t.tag}),o=t.filter(function(t){return i.tags&&i.tags.includes(t.tag)});if(1===r.length)return r[0];if(1===n.length)return n[0];if(1===o.length)return o[0];var s=t.filter(function(t){return t.scope===a});return s.length>0?s[0]:"string"==typeof e?{homepage:e}:void 0},a.MANIFEST_CACHE_NAME=l.MANIFEST_CACHE_NAME},{110:110,111:111,114:114,117:117,137:137,5:5}],137:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=/(.*\/amp\/.*|.*\.amp)/g,r="TM-Hash-"+location.href,n="TM-Date-"+location.href;a.CACHE_KEY="marwood-bd7a7ceec54e01db3de197f5513641e8",a.CACHE_NAME="marwood",a.MANIFEST_CACHE_NAME="manifestCache",a.urlBase64ToUint8Array=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=atob(e),i=new Uint8Array(a.length),r=0;r<a.length;++r)i[r]=a.charCodeAt(r);return i},a.isAmpArticle=function(t){return t.match(i)},a.HASH_PREFIX="TM-Hash",a.HASH_KEY=r,a.DATE_KEY=n,a.PUSH_SERVICE_KEY="airship",a.PUSH_SERVICE_SCRIPT="https://aswpsdkus.com/notify/v1/ua-sdk.min.js",a.getAssetUrl=function(t){return t&&t.replace?t.replace("prod",function(t){return/-bertha\./.test(t)?"bertha":/-stable\./.test(t)?"stable":"prod"}(self.location)):t},a.path=function(t,e){if(t&&e){var a=t.split?t.split("."):t;if(a.reduce)return a.reduce(function(t,e){return t&&t[e]?t[e]:void 0},e)}},a.externalDebug=function(t,e){e&&localStorage.removeItem("airship");var a=JSON.parse(localStorage.getItem("airship")||"[]");t.length&&a.push(t),localStorage.setItem("airship",JSON.stringify(a))}},{}]},{},[83]);
//# sourceMappingURL=article.min.js.map