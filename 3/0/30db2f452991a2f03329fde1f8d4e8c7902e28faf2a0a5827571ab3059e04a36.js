/**
 * @license ev-widgets.js v3.22.0
 * (c) 2015-2022 Evolok, Inc. https://www.evolok.com/
 *
 * License: MIT
 */
let moment;!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(){"use strict";var e=angular.module("ev-widget.pm.2checkout",[]);e.config(["$locationProvider",function(e){e.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1})}]),e.directive("ev2checkout",["pm2Util","EVExceptionHandler","EVENTS","$translate","$location",function(e,t,n,i,r){return{restrict:"E",scope:{},templateUrl:"pm-v2/ev-2checkout.tpl.html",link:function(r,a,o){function s(e){var t="ev.widgets.twocheckout.error."+e.errorCode;i(t).then((function(e){r.twocheckoutErrorMessage=e})).catch((function(e){i("ev.widgets.twocheckout.error.default").then((function(e){r.twocheckoutErrorMessage=e}))}))}r.loggedIn=EV.util.Storage.cookie.get("ev_ss"),r.widgetGuid=o.id||"ev-widget.pm.2checkout-"+EV.util.random_guid(),r.errorWidgetGuid="error-"+r.widgetGuid,r.widgetTitle=o.title||"PAYMENT DETAILS",r.showHeader="false"!==o.showHeader,r.showErrorMsgs="false"!==o.showErrorMsgs,r.live="false"!==o.live,EV.Event.publish(EV.Event.PM_REGISTER_PROVIDER_WIDGET,{paymentType:"CARD",selector:"ev-2checkout"}),function(){var e=document.createElement("script");e.src="https://www.2checkout.com/checkout/api/2co.min.js",e.onload=function(){console.log("2Checkout ready!"),function(){t.removeError(r.errorWidgetGuid);var e=document.querySelectorAll(".twocheckout-payment .input");Array.prototype.forEach.call(e,(function(e){e.addEventListener("focus",(function(){e.classList.add("focused")})),e.addEventListener("blur",(function(){e.classList.remove("focused")})),e.addEventListener("keyup",(function(){0===e.value.length?e.classList.add("empty"):e.classList.remove("empty")}))}))}()},document.body.appendChild(e)}(),r.submit=function(n,i){function a(a){var o=e.getBasket();if(o&&o.id){var s={token:a.response.token.token};return e.processPayment(s,o.id).then((function(t){EV.Event.publish(EV.Event.PM_PAYMENT_SUCCESS,t),r.success=!0,e.removeBasket(o),e.removeExtraProperties(),n&&n()})).catch((function(e){console.error(e),EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(r.errorWidgetGuid,e),i&&i("payment")})).finally((function(){return r.submitting=!1}))}if(o)l=EV.util.error("undefined_order_id","Error",400);else var l=EV.util.error("no_products_selected","No products selected",400);EV.Event.publish(EV.Event.PM_ERROR,l),t.handleError(r.errorWidgetGuid,l),r.$apply((function(){return r.submitting=!1})),i&&i("payment")}function o(e){s(e),r.showError=!0,EV.Event.publish(EV.Event.PM_ERROR,e.errorMsg),i&&i("payment"),r.$apply((function(){return r.submitting=!1}))}if(r.showError=!1,r.twocheckoutErrorMessage="",r.submitting=!0,t.removeError(r.errorWidgetGuid),!e.isCheckoutButtonLoaded()||n){if(!r.loggedIn){var l=EV.util.error("not_logged_in","Error",400);return EV.Event.publish(EV.Event.PM_ERROR,l),t.handleError(r.errorWidgetGuid,l),void(i&&i("payment"))}if(r.twocheckoutErrorMessage)return void(i&&i("payment"));if(!document.getElementById("sellerId")){var c=document.createElement("input");c.setAttribute("id","sellerId"),c.setAttribute("type","hidden"),c.setAttribute("value",EV.PM.twoCheckoutSellerId),document.querySelector("#pay-twocheckout").appendChild(c)}if(!document.getElementById("publishableKey")){var d=document.createElement("input");d.setAttribute("id","publishableKey"),d.setAttribute("type","hidden"),d.setAttribute("value",EV.PM.twoCheckoutKey),document.querySelector("#pay-twocheckout").appendChild(d)}TCO.loadPubKey(r.live?"production":"sandbox",(function(){TCO.requestToken(a,o,"pay-twocheckout")}))}},EV.Event.on(EV.Event.PM_CREATE_ORDER_SUCCESS,(function(e){r.order=e})),EV.Event.on(EV.Event.PM_REDIRECT_TO_PAYMENT,(function(e){e&&"TWOCHECKOUT"===e.providerName&&EV.Event.publish(EV.Event.PM_REDIRECT_TO_2CHECKOUT_PAYMENT,e)})),EV.Event.on(EV.Event.LOGIN_SUCCESS,(function(){r.loggedIn=!0})),EV.Event.on(EV.Event.LOGOUT_ACTION,(function(){r.loggedIn=!1})),r.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PAYMENT,(function(t,n){var i=e.getBasket();i&&i.paymentType&&"CARD"===i.paymentType&&r.submit(n.successCb,n.errorCb)})),r.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PROFILE,(function(e,n){t.removeError(r.errorWidgetGuid)}))}}}])}function n(){"use strict";angular.module("ev-widget.pm.applePay",[]).directive("evApplePay",["pm2Util","EVExceptionHandler","EVENTS","$translate","$http",function(e,t,n,i,r){return{restrict:"E",scope:{},templateUrl:"pm-v2/ev-apple-pay.tpl.html",link:function(i,r,a,o){function s(){return new Promise((function(t,r){e.isCheckoutButtonLoaded()?(console.log("[processPayment] isCheckoutButtonLoaded()"),EV.Event.publish(n.INTERNAL.PM_CHECKOUT.TRIGGER_CHECKOUT,{}),document.querySelector("ev-checkout-button").style.display="block"):(console.log("[processPayment] submit()"),i.submit()),console.log("[processPayment] resolve({})"),t({})}))}i.loggedIn=EV.util.Storage.cookie.get("ev_ss"),i.widgetGuid=a.id||"ev-widget.pm.applePay-"+EV.util.random_guid(),i.errorWidgetGuid="error-"+i.widgetGuid,i.widgetTitle=a.title||"PAYMENT DETAILS",i.showHeader="false"!==a.showHeader,i.showErrorMsgs="false"!==a.showErrorMsgs,a.live,i.appleTransactionInfo=null,i.applePaySession=null,t.removeError(i.errorWidgetGuid),window.ApplePaySession?ApplePaySession.canMakePaymentsWithActiveCard(EV.PM.appleMerchantId).then((function(e){e?(r.ready((function(){i.$emit("ev-apple-pay:ready")})),console.info("Apple Pay ready! Can make apple pay purchases")):(r.ready((function(){i.$emit("ev-apple-pay:ready")})),console.info("Apple Pay ready! Is possible on this browser, but not activated."),document.querySelector(".apple-pay-button-not-active").style.display="block")})):console.warn("Apple Pay ready! But functionality unavailable on current browser"),EV.Event.on(EV.Event.LOGIN_SUCCESS,(function(){i.loggedIn=!0})),EV.Event.on(EV.Event.LOGOUT_ACTION,(function(){i.loggedIn=!1})),EV.Event.on(EV.Event.PM_REDIRECT_TO_PAYMENT,(function(e){console.log("EV.Event.PM_REDIRECT_TO_PAYMENT",e),e&&"APPLE_PAY"===e.paymentType&&EV.Event.publish(EV.Event.PM_REDIRECT_TO_APPLE_PAY_PAYMENT,e)})),i.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PAYMENT,(function(t,n){console.log("EVENTS.INTERNAL.PM_CHECKOUT.SUBMIT_PAYMENT",n);var r=e.getBasket();r&&r.paymentType&&"APPLE_PAY"===r.paymentType&&i.submit(n.successCb,n.errorCb)})),i.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PROFILE,(function(e,n){console.log("EVENTS.INTERNAL.PM_CHECKOUT.SUBMIT_PROFILE",n),t.removeError(i.errorWidgetGuid)})),EV.Event.publish(EV.Event.PM_REGISTER_PROVIDER_WIDGET,{paymentType:"APPLE_PAY",selector:"ev-apple-pay"});var l=void 0;i.submit=function(n,r){if(i.showError=!1,i.applePayErrorMessage="",i.submitting=!0,t.removeError(i.errorWidgetGuid),!i.loggedIn){var a=EV.util.error("not_logged_in","Error",400);return EV.Event.publish(EV.Event.PM_ERROR,a),t.handleError(i.errorWidgetGuid,a),void(r&&r("payment"))}if(i.applePayErrorMessage)r&&r("payment");else{var o,s=e.getBasket(),c={token:l};if(s&&s.id)return e.processPayment(c,s.id).then((function(t){EV.Event.publish(EV.Event.PM_PAYMENT_SUCCESS,t),i.success=!0,e.removeBasket(s),n&&n()})).catch((function(e){console.error(e),EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(i.errorWidgetGuid,e),r&&r("payment")})).finally((function(){return i.submitting=!1}));o=s?EV.util.error("undefined_order_id","Error",400):EV.util.error("no_products_selected","No products selected",400),EV.Event.publish(EV.Event.PM_ERROR,o),t.handleError(i.errorWidgetGuid,o),i.$apply((function(){return i.submitting=!1})),r&&r("payment")}},i.$on("ev-apple-pay:ready",(function(){var t=document.querySelector(".apple-pay-button");t.style.display="block",t.addEventListener("click",(function(){console.log("Apple Pay clicked"),i.appleTransactionInfo?(console.log("########### Apple Payment Request ##############"),console.log(i.appleTransactionInfo),i.applePaySession=new ApplePaySession(1,i.appleTransactionInfo),i.applePaySession.onvalidatemerchant=function(e){console.log("starting applePaySession.onvalidatemerchant"),console.log(e);var t=e.validationURL;c(t,(function(e){console.log("merchantSession retrieved"),console.log(e),i.applePaySession.completeMerchantValidation(e)}))},i.applePaySession.onpaymentmethodselected=function(t){console.log("starting applePaySession.onpaymentmethodselected"),console.log(t);var n={type:"final",label:EV.PM.appleDisplayNameStore,amount:i.appleTransactionInfo.total.amount},r=[{type:"final",label:e.getBasket().products[0].paymentPlan.displayName,amount:i.appleTransactionInfo.total.amount}];i.applePaySession.completePaymentMethodSelection(n,r)},i.applePaySession.onpaymentauthorized=function(e){console.log("starting applePaySession.onpaymentauthorized"),console.log(e),console.log("############### payment token ###############"),console.log(e.payment.token),l=e.payment.token,new Promise((function(e,t){s().then((function(){console.log("[onPaymentAuthorized] processPayment outfilled"),e({transactionState:"SUCCESS"})})).catch((function(){console.log("[onPaymentAuthorized] processPayment rejected"),e({transactionState:"ERROR",error:{intent:"PAYMENT_AUTHORIZATION",message:"Insufficient funds",reason:"PAYMENT_DATA_INVALID"}})}))})).then((function(e){e&&"SUCCESS"===e.transactionState?(console.log("Successful Transaction outcome"),console.log(e),i.applePaySession.completePayment(ApplePaySession.STATUS_SUCCESS)):(console.log("Failed Transaction outcome"),console.log(e),i.applePaySession.completePayment(ApplePaySession.STATUS_FAILURE))}))},i.applePaySession.oncancel=function(e){console.log("starting session.cancel"),console.log(e)},i.applePaySession.begin()):console.warn("Try selecting a plan again and then retry Apple Pay")}))})),EV.Event.on(EV.Event.PM_PRODUCTS_SELECTED,(function(t){console.log("PM_PRODUCT_SELECTED",t[0].paymentPlan.id),e.getPaymentPlanTotalPrice(t[0].paymentPlan.id).then((function(e){console.log("[Apple Pay] Payment Plan final price",e),i.appleTransactionInfo={currencyCode:t[0].paymentPlan.currency.id,countryCode:t[0].paymentPlan.countryCode||"GB",total:{label:EV.PM.appleDisplayNameStore,amount:e.totalPrice},supportedNetworks:["masterCard","visa"],merchantCapabilities:["supports3DS","supportsEMV","supportsCredit","supportsDebit"]}})).catch((function(e){console.error("Error in retrieving/processing totalPrice from paymentPlan",e)}))}));var c=function(t,n){var i={merchantIdentifier:EV.PM.appleMerchantId,displayName:EV.PM.appleDisplayNameStore,initiative:"web",initiativeContext:window.location.host,appleUrl:t,testEnvironment:!1};e.verifyPaymentDetails("APPLE_PAY",i).then((function(e){n(e)})).catch((function(e){console.log("error in retrieving the merchantSession",e)}))}}}}])}function i(){"use strict";angular.module("ev-widget.pm.checkoutDotCom",[]).directive("evCheckoutdotcom",["pm2Util","EVExceptionHandler","EVENTS","$translate",function(e,t,n,i){return{restrict:"E",scope:{},templateUrl:"pm-v2/ev-checkoutdotcom.tpl.html",link:function(i,r,a,o){i.loggedIn=EV.util.Storage.cookie.get("ev_ss"),i.widgetGuid=a.id||"ev-widget.pm.checkoutDotCom-"+EV.util.random_guid(),i.errorWidgetGuid="error-"+i.widgetGuid,i.widgetTitle=a.title||"PAYMENT DETAILS",i.showHeader="false"!==a.showHeader,i.showErrorMsgs="false"!==a.showErrorMsgs,function(){var e=document.createElement("script");e.src="https://cdn.checkout.com/js/frames.js",e.onload=function(){console.log("Checkout.com ready!"),t.removeError(i.errorWidgetGuid),Frames.init({publicKey:EV.PM.checkoutDotComPublicKey,containerSelector:".frame-container"})},document.body.appendChild(e)}(),EV.Event.publish(EV.Event.PM_REGISTER_PROVIDER_WIDGET,{paymentType:"CARD",selector:"ev-checkoutdotcom"}),i.submit=function(n,r){if(i.showError=!1,i.checkoutDotComErrorMessage="",i.submitting=!0,t.removeError(i.errorWidgetGuid),!e.isCheckoutButtonLoaded()||n){if(!i.loggedIn){var a=EV.util.error("not_logged_in","Error",400);return EV.Event.publish(EV.Event.PM_ERROR,a),t.handleError(i.errorWidgetGuid,a),void(r&&r("payment"))}return i.checkoutDotComErrorMessage?void(r&&r("payment")):void Frames.submitCard().then((function(a){var o,s=e.getBasket(),l={token:a.cardToken};if(s&&s.id)return e.processPayment(l,s.id).then((function(t){EV.Event.publish(EV.Event.PM_PAYMENT_SUCCESS,t),i.success=!0,e.removeBasket(s),n&&n()})).catch((function(e){console.error(e),EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(i.errorWidgetGuid,e),Frames.unblockFields(),r&&r("payment")})).finally((function(){return i.submitting=!1}));o=s?EV.util.error("undefined_order_id","Error",400):EV.util.error("no_products_selected","No products selected",400),EV.Event.publish(EV.Event.PM_ERROR,o),t.handleError(i.errorWidgetGuid,o),i.$apply((function(){return i.submitting=!1})),r&&r("payment")})).catch((function(){r("payment"),i.submitting=!1}))}},EV.Event.on(EV.Event.LOGIN_SUCCESS,(function(){i.loggedIn=!0})),EV.Event.on(EV.Event.LOGOUT_ACTION,(function(){i.loggedIn=!1})),EV.Event.on(EV.Event.PM_REDIRECT_TO_PAYMENT,(function(e){e&&"CHECKOTDOTCOM"===e.providerName&&EV.Event.publish(EV.Event.PM_REDIRECT_TO_CHECKOUTDOTCOM_PAYMENT,e)})),i.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PAYMENT,(function(t,n){var r=e.getBasket();r&&r.paymentType&&"CARD"===r.paymentType&&i.submit(n.successCb,n.errorCb)})),i.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PROFILE,(function(e,n){t.removeError(i.errorWidgetGuid)}))}}}])}function r(){"use strict";angular.module("ev-widget.pm.gocardless",[]).directive("evGocardless",["pm2Util","EVExceptionHandler","EVENTS","$translate","$http",function(e,t,n,i,r){return{restrict:"E",scope:{},templateUrl:"pm-v2/ev-gocardless.tpl.html",link:function(r,a,o){function s(){var n={accountNumber:r.accountNumber,branchCode:r.sortCode,countryCode:r.countryCode};e.checkBankDetails("DIRECT_DEBIT",n).then((function(e){console.log(e.data),r.setDDSubmited=!0,r.bankName=e.bankName})).catch((function(e){if(e.data){var n=EV.util.error("invalid_bank_details",e.data.message,400);EV.Event.publish(EV.Event.PM_ERROR,n),t.handleError(r.errorWidgetGuid,n),r.showError=!0,r.setDDSubmited=!1,r.bankName=null}}))}function l(e){var n=e.errors[0].field.replace(/_([a-z])/g,(function(e){return e[1].toUpperCase()}));i("ev.widgets.gocardless."+n).then((function(n){var i=EV.util.error("validation_failed",n+" "+e.errors[0].message,400);EV.Event.publish(EV.Event.PM_ERROR,i),t.handleError(r.errorWidgetGuid,i)})).catch((function(e){EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(r.errorWidgetGuid,e)}))}function c(){r.loggedIn?e.retrieveCustomerBankAccountDetails().then((function(e){r.bankAccounts=e,r.newAccount=null==r.bankAccounts||0===r.bankAccounts.length})):(r.bankAccounts=null,r.newAccount=!0)}function d(){r.accountHolderNameError=r.sortCodeError=r.accountNumberError=r.authorizeMandateError=null;var e="ev.widgets.errors.field_required",t=!0;return r.accountHolderName||(r.accountHolderNameError=e,t=!1),r.sortCode?6!==r.sortCode.length&&(r.sortCodeError="ev.widgets.errors.field_length6",t=!1):(r.sortCodeError=e,t=!1),r.accountNumber?8!==r.accountNumber.length&&(r.accountNumberError="ev.widgets.errors.field_length8",t=!1):(r.accountNumberError=e,t=!1),r.authorizeMandate||(r.authorizeMandateError=e,t=!1),t}r.loggedIn=EV.util.Storage.cookie.get("ev_ss"),r.live="false"!==o.live,r.widgetGuid=o.id||"ev-widget.pm.gocardless-"+EV.util.random_guid(),r.errorWidgetGuid="error-"+r.widgetGuid,r.widgetTitle=o.title||"Direct Debit Mandate",r.showHeader="false"!==o.showHeader,r.showErrorMsgs="false"!==o.showErrorMsgs,r.countryCode="GB",r.privacyNotice=o.privacyNotice||"https://gocardless.com/legal/privacy/",r.directDebitGuarantee=o.directDebitGuarantee||"https://gocardless.com/direct-debit/guarantee/",r.addressLine1=o.addressLine1,r.addressLine2=o.addressLine2,r.addressLine3=o.addressLine3,r.city=o.city,r.postcode=o.postcode,r.email=o.email,r.phone=o.phone,EV.Event.publish(EV.Event.PM_REGISTER_PROVIDER_WIDGET,{paymentType:"DIRECT_DEBIT",selector:"ev-gocardless"}),function(e){var t=document.createElement("script");t.src=e?"https://pay.gocardless.com/js/beta":"https://pay-sandbox.gocardless.com/js/beta",t.onload=function(){console.log("Gocardless ready!")},document.body.appendChild(t)}(r.live),c(),r.submitSetUpDirectDebit=function(){if(t.removeError(r.errorWidgetGuid),r.newAccount)if(d())s();else var e=EV.util.error("form_error","Please correct the errors below",400);else r.selectedBankAccount?r.setDDSubmited=!0:e=EV.util.error("form_error_bankAccount","Please select a bank account",400);e&&(EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(r.errorWidgetGuid,e),r.showError=!0)},r.createNewAccount=function(e){r.newAccount=e},r.changeSetUpDirectDebit=function(){r.setDDSubmited=!1,r.ddConfirmed=!1},r.confirmDirectDebit=function(){if(t.removeError(r.errorWidgetGuid),r.ddConfirmed=!0,r.newAccount){var e=EV.PM.gocardlessKey;GoCardless.customerBankAccountTokens.create({publishable_access_token:e,customer_bank_account_tokens:{account_number:r.accountNumber,branch_code:r.sortCode,account_holder_name:r.accountHolderName,country_code:"GB"}},(function(e){e.error?(l(e.error),r.ddConfirmed=!1):r.purchasePayload={customer_bank_account_token:e.customer_bank_account_tokens.id,country_code:"GB",update_account:"true"}}))}else r.purchasePayload={update_account:"true",customer_bank_account_id:r.selectedBankAccount.id}},r.submitDirectDebitConfirmation=function(n,i){if(!r.setDDSubmited||!r.ddConfirmed){var a=EV.util.error("set_direct_debit","Please set up the Direct Debit and confirm your details",400);return EV.Event.publish(EV.Event.PM_ERROR,a),t.handleError(r.errorWidgetGuid,a),r.showError=!0,void(i&&i("direct_debit"))}if(t.removeError(r.errorWidgetGuid),!e.isCheckoutButtonLoaded()||n){r.submitting=!0;var o=e.getBasket();return o&&o.id?e.processPayment(r.purchasePayload,o.id).then((function(t){EV.Event.publish(EV.Event.PM_PAYMENT_SUCCESS,t),r.success=!0,e.removeBasket(o),e.removeExtraProperties(),n&&n()})).catch((function(e){console.error(e),EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(r.errorWidgetGuid,e),i&&i("payment")})).finally((function(){return r.submitting=!1})):void 0}},EV.Event.on(EV.Event.PM_REDIRECT_TO_PAYMENT,(function(e){e&&"GOCARDLESS"===e.providerName&&EV.Event.publish(EV.Event.PM_REDIRECT_TO_GOCARDLESS_PAYMENT,e)})),EV.Event.on(EV.Event.LOGIN_SUCCESS,(function(){r.loggedIn=!0})),EV.Event.on(EV.Event.LOGOUT_ACTION,(function(){r.loggedIn=!1,c()})),r.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PAYMENT,(function(t,n){var i=e.getBasket();i&&i.paymentType&&"DIRECT_DEBIT"===i.paymentType&&r.submitDirectDebitConfirmation(n.successCb,n.errorCb)})),r.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PROFILE,(function(e,n){t.removeError(r.errorWidgetGuid)}))}}}])}function a(){"use strict";angular.module("ev-widget.pm.googlePay",[]).directive("evGooglePay",["pm2Util","EVExceptionHandler","EVENTS","$translate",function(e,t,n,i){return{restrict:"E",scope:{},templateUrl:"pm-v2/ev-google-pay.tpl.html",link:function(i,r,a,o){function s(t){e.getPaymentPlanTotalPrice(t.id).then((function(e){console.log("[Google Pay] Payment Plan final price",e),i.googleTransactionInfo={currencyCode:t.currency.id,totalPriceStatus:"FINAL",totalPrice:""+e.totalPrice}})).catch((function(e){console.error("Error in retrieving/processing totalPrice from paymentPlan",e)}))}function l(t){return new Promise((function(r,a){f=JSON.parse(t.paymentMethodData.tokenizationData.token),e.isCheckoutButtonLoaded()?(EV.Event.publish(n.INTERNAL.PM_CHECKOUT.TRIGGER_CHECKOUT,{}),document.querySelector("ev-checkout-button").style.display="block"):i.submit(),r({})}))}function c(e){return new Promise((function(t,n){l(e).then((function(){t({transactionState:"SUCCESS"})})).catch((function(){t({transactionState:"ERROR",error:{intent:"PAYMENT_AUTHORIZATION",message:"Insufficient funds",reason:"PAYMENT_DATA_INVALID"}})}))}))}function d(){if(i.googleTransactionInfo){var e=function(){var e=Object.assign({},m);return e.allowedPaymentMethods=[b],e.transactionInfo=i.googleTransactionInfo,e.merchantInfo={merchantId:EV.PM.googleMerchantId,merchantName:EV.PM.googleMerchantName},e.callbackIntents=["PAYMENT_AUTHORIZATION"],e}();u().loadPaymentData(e).catch((function(e){console.log(e)}))}else console.warn("Try selecting a plan again and then retry Google Pay")}function u(){return null===h&&(h=new google.payments.api.PaymentsClient({environment:p,paymentDataCallbacks:{onPaymentAuthorized:c}})),h}i.loggedIn=EV.util.Storage.cookie.get("ev_ss"),i.widgetGuid=a.id||"ev-widget.pm.googlePay-"+EV.util.random_guid(),i.errorWidgetGuid="error-"+i.widgetGuid,i.widgetTitle=a.title||"PAYMENT DETAILS",i.showHeader="false"!==a.showHeader,i.showErrorMsgs="false"!==a.showErrorMsgs;var p="true"===a.live?"PRODUCTION":"TEST";i.googleTransactionInfo=null,function(){var e=document.createElement("script");e.src="https://pay.google.com/gp/p/js/pay.js",e.onload=function(){console.log("Google Pay ready!"),t.removeError(i.errorWidgetGuid),u().isReadyToPay(y).then((function(e){if(e.result){var t=h.createButton({onClick:d});document.getElementById("ev-google-pay-container").appendChild(t)}})).catch((function(e){console.error(e)}))},document.body.appendChild(e)}(),EV.Event.publish(EV.Event.PM_REGISTER_PROVIDER_WIDGET,{paymentType:"GOOGLE_PAY",selector:"ev-google-pay"});var f=void 0;i.submit=function(n,r){if(i.showError=!1,i.googlePayErrorMessage="",i.submitting=!0,t.removeError(i.errorWidgetGuid),!i.loggedIn){var a=EV.util.error("not_logged_in","Error",400);return EV.Event.publish(EV.Event.PM_ERROR,a),t.handleError(i.errorWidgetGuid,a),void(r&&r("payment"))}if(i.googlePayErrorMessage)r&&r("payment");else{var o,s=e.getBasket(),l={token:f};if(s&&s.id)return e.processPayment(l,s.id).then((function(t){EV.Event.publish(EV.Event.PM_PAYMENT_SUCCESS,t),i.success=!0,e.removeBasket(s),n&&n()})).catch((function(e){console.error(e),EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(i.errorWidgetGuid,e),r&&r("payment")})).finally((function(){return i.submitting=!1}));o=s?EV.util.error("undefined_order_id","Error",400):EV.util.error("no_products_selected","No products selected",400),EV.Event.publish(EV.Event.PM_ERROR,o),t.handleError(i.errorWidgetGuid,o),i.$apply((function(){return i.submitting=!1})),r&&r("payment")}},EV.Event.on(EV.Event.LOGIN_SUCCESS,(function(){i.loggedIn=!0})),EV.Event.on(EV.Event.LOGOUT_ACTION,(function(){i.loggedIn=!1})),EV.Event.on(EV.Event.PM_REDIRECT_TO_PAYMENT,(function(e){e&&"GOOGLE_PAY"===e.paymentType&&EV.Event.publish(EV.Event.PM_REDIRECT_TO_GOOGLE_PAY_PAYMENT,e)})),i.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PAYMENT,(function(t,n){var r=e.getBasket();r&&r.paymentType&&"GOOGLE_PAY"===r.paymentType&&i.submit(n.successCb,n.errorCb)})),i.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PROFILE,(function(e,n){t.removeError(i.errorWidgetGuid)})),EV.Event.on(EV.Event.PM_PRODUCTS_SELECTED,(function(e){console.log("PM_PRODUCT_SELECTED",e[0].paymentPlan.id),s(e[0].paymentPlan)}));var h=null,m={apiVersion:2,apiVersionMinor:0},g={type:"PAYMENT_GATEWAY",parameters:{gateway:EV.PM.googleGatewayProvider,gatewayMerchantId:EV.PM.googleMerchantPublicKey}},v={type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","MASTERCARD","VISA"]}},b=Object.assign({tokenizationSpecification:g},v),y=Object.assign({},m);y.allowedPaymentMethods=[v]}}}])}function o(){"use strict";angular.module("ev-widget.pm.mercado",[]).directive("evMercado",["pm2Util","EVExceptionHandler","EVENTS","$translate",function(e,t,n,i){return{restrict:"E",scope:{},templateUrl:"pm-v2/ev-mercado.tpl.html",link:function(r,a,o,s){function l(e){var t="ev.widgets.mercado.error."+e.code;i(t).then((function(e){r.mercadoErrorMessage=e})).catch((function(e){i("ev.widgets.mercado.error.default").then((function(e){r.mercadoErrorMessage=e}))}))}function c(e,t){return e.length<=t}function d(e){return/^\d+$/.test(e)}var u;r.loggedIn=EV.util.Storage.cookie.get("ev_ss"),r.widgetGuid=o.id||"ev-widget.pm.mercado-"+EV.util.random_guid(),r.errorWidgetGuid="error-"+r.widgetGuid,r.widgetTitle=o.title||"PAYMENT DETAILS",r.showHeader="false"!==o.showHeader,r.showErrorMsgs="false"!==o.showErrorMsgs,function(){var e=document.createElement("script");e.src="https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js",e.onload=function(){console.log("Mercado ready!"),function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,(function(){n.call(e)}))}function n(){return document.querySelector('input[data-checkout="cardNumber"]').value.replace(/[ .-]/g,"").slice(0,6)}function i(e){var t=document.querySelector('input[data-checkout="cardNumber"]').value.replace(/[ .-]/g,"").slice(0,16);t=t.replace(/[^a-z0-9]+/gi,"").replace(/(.{4})/g,"$1 "),document.querySelector('input[data-checkout="cardNumber"]').value=t;var i=n();"keyup"==e.type?i.length>=6&&Mercadopago.getPaymentMethod({bin:i},a):setTimeout((function(){i.length>=6&&Mercadopago.getPaymentMethod({bin:i},a)}),100)}function a(e,t){if(t||(u=t),200==e&&t){var n=document.querySelector("#pay");if(null==document.querySelector("input[name=paymentMethodId]")){var i=document.createElement("input");i.setAttribute("name","paymentMethodId"),i.setAttribute("type","hidden"),i.setAttribute("value",t[0].id),n.appendChild(i)}else document.querySelector("input[name=paymentMethodId]").value=t[0].id;u=t[0].id}}t.removeError(r.errorWidgetGuid);var o=document.querySelectorAll(".mercado-payment .input");Array.prototype.forEach.call(o,(function(e){e.addEventListener("focus",(function(){e.classList.add("focused")})),e.addEventListener("blur",(function(){e.classList.remove("focused")})),e.addEventListener("keyup",(function(){0===e.value.length?e.classList.add("empty"):e.classList.remove("empty")}))})),Mercadopago.setPublishableKey(EV.PM.mercadoKey),Mercadopago.getIdentificationTypes(),e(document.querySelector('input[data-checkout="cardNumber"]'),"keyup",i),e(document.querySelector('input[data-checkout="cardNumber"]'),"change",i)}()},document.body.appendChild(e),angular.element((function(){EV.Event.publish(EV.Event.PM_MERCADO_WIDGET_LOADED)}))}(),EV.Event.publish(EV.Event.PM_REGISTER_PROVIDER_WIDGET,{paymentType:"CARD",selector:"ev-mercado"}),r.submit=function(n,i){if(r.showError=!1,r.mercadoErrorMessage="",r.submitting=!0,t.removeError(r.errorWidgetGuid),!e.isCheckoutButtonLoaded()||n){if(!r.loggedIn){var a=EV.util.error("not_logged_in","Error",400);return EV.Event.publish(EV.Event.PM_ERROR,a),t.handleError(r.errorWidgetGuid,a),void(i&&i("payment"))}if(r.mercadoErrorMessage)return void(i&&i("payment"));var o=document.querySelector("#pay");if(!function(e){return null!=e&&""!=e.trim()&&(3==e.length||4==e.length)&&d(e)}(o.elements.securityCode.value)||!u)return r.showError=!0,l({code:u?"securityCode":"cardNumber"}),r.submitting=!1,EV.Event.publish(EV.Event.PM_ERROR,"invalid parameters"),void(i&&i("payment"));var s=o.elements.docNumber.value,p=o.elements.docType.value;return d(s)||"Otro"!=p?"Otro"===p&&!c(s,8)||"Otro"!==p&&!c(s,8)?(r.showError=!0,l({code:"docNumberLength"}),r.submitting=!1,EV.Event.publish(EV.Event.PM_ERROR,"invalid parameters"),void(i&&i("payment"))):void Mercadopago.createToken(o,(function(a,o){if(200!=a&&201!=a)o.error&&(r.showError=!0,o.cause.length>0?l(o.cause[0]):r.mercadoErrorMessage=o.message,r.submitting=!1,EV.Event.publish(EV.Event.PM_ERROR,o.message),i&&i("payment"));else{var s=document.querySelector("#pay"),c=document.createElement("input");c.setAttribute("name","token"),c.setAttribute("type","hidden"),c.setAttribute("value",o.id),s.appendChild(c);var d,p=e.getBasket(),f={token:{response:o,paymentMethodId:u}};if(p&&p.id)return e.processPayment(f,p.id).then((function(t){EV.Event.publish(EV.Event.PM_PAYMENT_SUCCESS,t),r.success=!0,e.removeBasket(p),n&&n()})).catch((function(e){console.error(e),EV.Event.publish(EV.Event.PM_ERROR,e),t.handleError(r.errorWidgetGuid,e),i&&i("payment")})).finally((function(){return r.submitting=!1}));d=p?EV.util.error("undefined_order_id","Error",400):EV.util.error("no_products_selected","No products selected",400),EV.Event.publish(EV.Event.PM_ERROR,d),t.handleError(r.errorWidgetGuid,d),r.$apply((function(){return r.submitting=!1})),i&&i("payment")}})):(r.showError=!0,l({code:"docNumberAlphaNum"}),r.submitting=!1,EV.Event.publish(EV.Event.PM_ERROR,"invalid parameters"),void(i&&i("payment")))}},EV.Event.on(EV.Event.LOGIN_SUCCESS,(function(){r.loggedIn=!0})),EV.Event.on(EV.Event.LOGOUT_ACTION,(function(){r.loggedIn=!1})),EV.Event.on(EV.Event.PM_REDIRECT_TO_PAYMENT,(function(e){e&&"MERCADO"===e.providerName&&EV.Event.publish(EV.Event.PM_REDIRECT_TO_MERCADO_PAYMENT,e)})),r.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PAYMENT,(function(e,t){r.submit(t.successCb,t.errorCb)})),r.$on(n.INTERNAL.PM_CHECKOUT.SUBMIT_PROFILE,(function(e,n){t.removet}}}},xr={key:0,class:"heading"},Cr={class:"title"},Pr={key:0,class:"pagination"},Ar=r("button",{class:"icon-arrow prev"},[r("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M0.526419 11.1938C0.343616 11.018 0.252216 10.8071 0.252216 10.561C0.252216 10.3079 0.340101 10.097 0.515872 9.92825L4.6922 6.00504L0.515872 2.09237C0.33307 1.9166 0.245185 1.70567 0.252216 1.45959C0.259246 1.20648 0.354163 0.995558 0.536965 0.826818C0.705705 0.665108 0.9096 0.587769 1.14865 0.5948C1.38067 0.601831 1.58808 0.689716 1.77088 0.858457L6.07376 4.89768C6.28468 5.09454 6.4253 5.33008 6.49561 5.60428C6.56592 5.87145 6.56592 6.14214 6.49561 6.41634C6.4253 6.69055 6.28468 6.92608 6.07376 7.12294L1.77088 11.1622C1.60917 11.3168 1.40176 11.3977 1.14865 11.4047C0.888507 11.4118 0.681098 11.3415 0.526419 11.1938Z",fill:"#21A6C4"})])],-1),Tr=r("button",{class:"icon-arrow next"},[r("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M0.526419 11.1938C0.343616 11.018 0.252216 10.8071 0.252216 10.561C0.252216 10.3079 0.340101 10.097 0.515872 9.92825L4.6922 6.00504L0.515872 2.09237C0.33307 1.9166 0.245185 1.70567 0.252216 1.45959C0.259246 1.20648 0.354163 0.995558 0.536965 0.826818C0.705705 0.665108 0.9096 0.587769 1.14865 0.5948C1.38067 0.601831 1.58808 0.689716 1.77088 0.858457L6.07376 4.89768C6.28468 5.09454 6.4253 5.33008 6.49561 5.60428C6.56592 5.87145 6.56592 6.14214 6.49561 6.41634C6.4253 6.69055 6.28468 6.92608 6.07376 7.12294L1.77088 11.1622C1.60917 11.3168 1.40176 11.3977 1.14865 11.4047C0.888507 11.4118 0.681098 11.3415 0.526419 11.1938Z",fill:"#21A6C4"})])],-1),Er=[Ar,Tr],Or={class:"content persons"},Rr=["href"],Dr={key:0,class:"m"},Br=["media","srcset","width","height"],Lr=["src","alt","width","height"],Ir={key:1,class:"info"},Ur={class:"name"},Nr=D({__name:"MeetTheTeam",props:{componentProps:{}},setup(e){const{generateResponsiveImage:t}=nt(),s=[{media:"",width:128,height:128}],{componentProps:o}=e,{title:n}=o,i=n?"section":"div",l=o.persons.map(_=>{var w,$;let m=`https://${wt()}static.foxnews.com/static/orion/styles/img/outkick/bg/default-dark.png`,h=(w=_.thumbnail)!=null&&w.url?($=_.thumbnail)==null?void 0:$.url:m;return{..._,url:_.canonicalUrl,image:t(h,s,215,121)}}),d=`https://${_t()}.${ms()}/personalities`,g=l.length>=6;return(_,m)=>(c(),L(H(a(i)),{class:"collection-team"},{default:X(()=>[a(n)?(c(),u("header",xr,[r("h2",Cr,[r("a",{href:d},x(a(n)),1)]),a(g)?(c(),u("div",Pr,Er)):b("",!0)])):b("",!0),r("div",Or,[(c(!0),u(P,null,R(a(l),(h,w)=>{var $,y,v,S,C;return c(),u("article",{key:`idx-${w+1}`,class:st(`person person-${w+1}`)},[r("a",{href:`https://${("useSiteSubdomain"in _?_.useSiteSubdomain:a(_t))()}.${h.url}`},[h.image?(c(),u("div",Dr,[r("picture",null,[(c(!0),u(P,null,R(($=h.image)==null?void 0:$.sourceSet,(k,A)=>(c(),u("source",{key:A,media:k.media,srcset:k.src,width:k.width,height:k.height},null,8,Br))),128)),r("img",{src:(y=h.image)==null?void 0:y.src,alt:((v=h.image)==null?void 0:v.title)||`Headshot of ${h.title}`,width:(S=h.image)==null?void 0:S.width,height:(C=h.image)==null?void 0:C.height},null,8,Lr)])])):b("",!0),h.title?(c(),u("div",Ir,[r("h3",Ur,x(h.title),1)])):b("",!0)],8,Rr)],2)}),128))])]),_:1}))}}),Mr=e=>{const{model:t}=e;return{is:"MeetTheTeam",props:{componentProps:{...t}}}};async function qr(){const e="iR15LpJ1",t="MtFpsDNf",s=await pt.get(`https://cdn.jwplayer.com/live/channels/${e}.json`).then(i=>i.data),o=s.status=="active";return{playlistData:await pt.get(`https://cdn.jwplayer.com/v2/playlists/${t}`).then(i=>i.data).catch(()=>{throw ls({statusCode:404,statusMessage:"[getLiveData] jwplayer playlist Error"})}),getStatus:s,isLive:o}}const Fr={class:"m"},jr=r("div",{id:"video-container",class:"video-container embed-media"},null,-1),Hr=["href"],Jr={autoplay:"",loop:"",muted:"",playsinline:""},zr=["src"],Vr={class:"info"},Wr={key:0,class:"notice is-live"},Kr=r("div",{class:"badge"},"Live",-1),Xr=[Kr],Gr={class:"title"},Qr={class:"title"},Zr=["href"],Yr={key:0,class:"live-banner"},tn=r("h4",null,"Live",-1),en=[tn],os=D({__name:"Livestream",props:{componentProps:{}},async setup(e){let t,s;const{componentProps:o}=e,n=W(),i=([t,s]=U(()=>qr()),t=await t,s(),t),l=i.playlistData.playlist[0].mediaid,d=i.getStatus,p=`https://cdn.jwplayer.com/v2/media/${d.current_event}`,_=i.playlistData.playlist,m=i.isLive,h=o.title,w=v=>m?h:v.title,$=v=>v.title?`https://video.outkick.com/m/${v.mediaid}/${yt(v.title)}?list=HYH6RvlJ`:"https://video.outkick.com";function y(){let v="";return n.path==="/"?v="article article-2 is-video is-idle":v="live-video",v}return(v,S)=>{const C=_s;return c(!0),u(P,null,R(a(_).slice(0,1),(k,A)=>(c(),u("article",{key:`idx-${A}`,class:st([`is-video is-${a(m)?"live":a(d).status}`,y()])},[r("div",Fr,[a(m)?(c(),u(P,{key:0},[jr,tt(C,null,{default:X(()=>[(c(),L(H("script"),null,{default:X(()=>[ee(' jwplayer("video-container").setup({ "playlist": "'+x(p)+'" }); ')]),_:1}))]),_:1})],64)):(c(),u("a",{key:1,href:$(k)},[r("video",Jr,[r("source",{src:`https://cdn.jwplayer.com/thumbs/${a(l)}.mp4`,type:"video/mp4"},null,8,zr)])],8,Hr))]),r("div",Vr,[a(n).path==="/watch"?(c(),u(P,{key:0},[a(m)?(c(),u("div",Wr,Xr)):b("",!0),r("h2",Gr,x(w(k)),1),b("",!0)],64)):(c(),u(P,{key:1},[r("h3",Qr,[r("a",{href:$(k)},x(w(k)),9,Zr)]),a(m)?(c(),u("div",Yr,en)):b("",!0)],64))])],2))),128)}}}),sn={class:"collection-hero","data-category":"hero"},on={class:"inner"},rn={class:"content"},nn={class:"articles articles-upper"},an={class:"articles articles-lower"},cn=D({__name:"SpotlightArticles",props:{componentProps:{}},async setup(e){let t,s;const{componentProps:o}=e,n=W(),i={url:n.fullPath,path:n.path,queryString:JSON.stringify(n.query),component:"components/layoutComponents/SpotlightArticles/SpotlightArticles.vue"},l=o.articles.map(f=>({articleUrl:f.articleUrl,title:f.title,dek:"",imageUrl:f.imageUrl,imageCopyrightOverride:f.copyright,kicker:f.kicker,pillOverride:f.eyebrow})),d={searchCriteriaSelected:Pt.ByFixedArticles,fixedArticles:l},{articles:p}=([t,s]=U(()=>et(d,!1,i)),t=await t,s(),t),[g,..._]=p.value,$=Z(g,{showImage:!0,showKicker:!0},[{media:"(min-width: 600px)",width:516,height:290},{media:"(min-width: 768px)",width:696,height:392},{media:"(min-width: 1024px)",width:460,height:259},{media:"(min-width: 1366px)",width:672,height:378}],{media:"",width:366,height:206}),y={showImage:!0,showKicker:!0},v=[{media:"(max-width: 767px)",width:366,height:205},{media:"(min-width: 768px)",width:166,height:90}],S={media:"",width:292,height:163},C=_.map(f=>Z(f,y,v,S)),k=$,A=C.slice(0,6);return(f,E)=>{const B=at;return c(),u("div",sn,[r("div",on,[r("div",rn,[r("div",nn,[tt(B,Y(a(k),{class:"article-1 is-hero"}),null,16),tt(os,{componentProps:{title:f.componentProps.jwLivestreamTitle},classes:"article article-2"},null,8,["componentProps"])]),r("div",an,[(c(!0),u(P,null,R(a(A),(N,q)=>(c(),L(B,Y({key:`idx-${q+3}`},N,{class:`article-${q+3}`}),null,16,["class"]))),128))])])])])}}}),ln=e=>{const{model:t}=e;return{is:"SpotlightArticles",props:{componentProps:{...t}}}},hn={class:"item-featured-content"},un={class:"heading"},dn={class:"title fancy-title-outer"},pn=["href"],mn=r("span",null,[r("span",null,"Screencaps")],-1),_n=[mn],fn={class:"title"},gn=["href"],wn=["href"],yn=r("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M0.526419 11.1938C0.343616 11.018 0.252216 10.8071 0.252216 10.561C0.252216 10.3079 0.340101 10.097 0.515872 9.92825L4.6922 6.00504L0.515872 2.09237C0.33307 1.9166 0.245185 1.70567 0.252216 1.45959C0.259246 1.20648 0.354163 0.995558 0.536965 0.826818C0.705705 0.665108 0.9096 0.587769 1.14865 0.5948C1.38067 0.601831 1.58808 0.689716 1.77088 0.858457L6.07376 4.89768C6.28468 5.09454 6.4253 5.33008 6.49561 5.60428C6.56592 5.87145 6.56592 6.14214 6.49561 6.41634C6.4253 6.69055 6.28468 6.92608 6.07376 7.12294L1.77088 11.1622C1.60917 11.3168 1.40176 11.3977 1.14865 11.4047C0.888507 11.4118 0.681098 11.3415 0.526419 11.1938Z",fill:"#21A6C4"})],-1),vn={class:"content"},$n={key:0,class:"footing"},bn=["href"],Sn=r("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M0.526419 11.1938C0.343616 11.018 0.252216 10.8071 0.252216 10.561C0.252216 10.3079 0.340101 10.097 0.515872 9.92825L4.6922 6.00504L0.515872 2.09237C0.33307 1.9166 0.245185 1.70567 0.252216 1.45959C0.259246 1.20648 0.354163 0.995558 0.536965 0.826818C0.705705 0.665108 0.9096 0.587769 1.14865 0.5948C1.38067 0.601831 1.58808 0.689716 1.77088 0.858457L6.07376 4.89768C6.28468 5.09454 6.4253 5.33008 6.49561 5.60428C6.56592 5.87145 6.56592 6.14214 6.49561 6.41634C6.4253 6.69055 6.28468 6.92608 6.07376 7.12294L1.77088 11.1622C1.60917 11.3168 1.40176 11.3977 1.14865 11.4047C0.888507 11.4118 0.681098 11.3415 0.526419 11.1938Z",fill:"#21A6C4"})],-1),kn=D({__name:"SingleTout",props:{componentProps:{}},async setup(e){let t,s;const{componentProps:o}=e,n=W(),i={url:n.fullPath,path:n.path,queryString:JSON.stringify(n.query),component:"components/layoutComponents/SingleTout/SingleTout.vue"},l={articleUrl:o.articleUrl,title:"",dek:"",imageUrl:""},d={searchCriteriaSelected:Pt.ByFixedArticles,fixedArticles:[l]},{articles:p}=([t,s]=U(()=>et(d,!1,i)),t=await t,s(),t),g=p.value[0],w=Z(g,{showImage:!0,showAuthors:!0,showPublishTime:!0},[{media:"(max-width: 767px)",width:366,height:205},{media:"(min-width: 1024px) and (max-width: 1279px)",width:526,height:296}],{media:"",width:292,height:163}),$=o.moreButtonUrl,y=o.moreButtonText||"More",v={urls:"outkick.com/tag/morning-screencaps"},S=ft(i),C=([t,s]=U(()=>S.getTags(v)),t=await t,s(),t),k=C==null?void 0:C.results[0].canonical_url.replace("outkick.com/tag","/category"),A=w;return(f,E)=>{const B=at;return c(),u("section",hn,[r("header",un,[r("h2",dn,[r("a",{href:a(K)(a(k)),class:"fancy-title-inner"},_n,8,pn)]),r("h2",fn,[r("a",{href:a(K)(a(k))},"Screencaps",8,gn)]),a($)?(c(),u("a",{key:0,href:a(K)(a($)),class:"icon-arrow more"},[r("span",null,x(a(y)),1),yn],8,wn)):b("",!0)]),r("div",vn,[tt(B,Y(a(A),{class:"article-1 is-hero"}),null,16)]),a($)?(c(),u("footer",$n,[r("a",{href:a(K)(a($)),class:"icon-arrow more"},[r("span",null,x(a(y)),1),Sn],8,bn)])):b("",!0)])}}}),xn=e=>{const{model:t}=e;return{is:"SingleTout",props:{componentProps:{...t}}}},Cn={class:"embed-media twitter"},Pn={class:"content"},An=["href"],Tn=D({__name:"TwitterTimeline",props:{componentProps:{}},setup(e){const{componentProps:t}=e,s=t.handler||"https://twitter.com/OutKick?ref_src=twsrc%5Etfw";return(o,n)=>(c(),u("div",Cn,[r("div",Pn,[r("a",{class:"twitter-timeline","data-height":"600","data-theme":"light",href:a(s)},"Tweets by OutKick",8,An),(c(),L(H("script"),{async:"",src:"https://platform.twitter.com/widgets.js",charset:"utf-8"}))])]))}}),En=e=>{const{model:t}=e;return{is:"TwitterTimeline",props:{componentProps:{...t}}}},On=e=>{const{model:t}=e;return{is:"Livestream",props:{componentProps:{...t}}}},Rn={key:0,class:"heading"},Dn={class:"title fancy-title-outer"},Bn=["href"],Ln={key:1,class:"fancy-title-inner"},In={class:"sponsor"},Un=["href"],Nn={class:"content articles"},Mn={key:1,class:"footing"},qn=["href"],Fn={class:"icon-arrow more"},jn=D({__name:"OneByFour",props:{componentProps:{}},async setup(e){let t,s;const{componentProps:o}=e,n=W(),i={url:n.fullPath,path:n.path,queryString:JSON.stringify(n.query),component:"components/layoutComponents/OneByFour/OneByFour.vue"},l={articleUrl:o.articleUrl,title:o.heroTitleOverride,dek:o.heroDescriptionOverride,imageUrl:o.heroImageUrlOverride,kicker:o.kicker},d={searchCriteriaSelected:Pt.ByFixedArticles,fixedArticles:[l]},{articles:p}=([t,s]=U(()=>et(d,!1,i)),t=await t,s(),t),g=p.value[0],{articles:_}=([t,s]=U(()=>et(o.searchCriteria,!1,i)),t=await t,s(),t),m={showImage:o.showThumbnail,showAuthors:o.showAuthorName,showCategory:o.showEyebrow,showDescription:!0,showPublishTime:!1,showKicker:!0},$=Z(g,m,[{media:"(max-width: 767px)",width:366,height:205},{media:"(min-width: 768px)",width:526,height:296}],{media:"",width:292,height:163}),y={showCategory:o.showEyebrow,showAuthors:o.showAuthorName,showImage:o.showThumbnail,showPublishTime:!1},v=[{media:"(max-width: 767px)",width:366,height:205},{media:"(min-width: 768px)",width:166,height:90}],S={media:"",width:.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):(127<n&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t}(e)).length;n<r;n++)i=255&(t^e.charCodeAt(n)),t=t>>>8^"0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*i,8);return-1^t}function x(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.async=null==t||t,this.withCredentials=null==i||i,this.timeout=n||5e3,this.contentType=e||"application/x-www-form-urlencoded"}var e,t,i;return e=r,(t=[{key:"send",value:function(e){var t=new XMLHttpRequest,i=e.postData||"";t.open(i?"POST":"GET",e.wfUrl,!0),t.withCredentials=this.withCredentials,t.setRequestHeader("Content-type",this.contentType),t.async=this.async,t.timeout=this.timeout,t.gotResponse=!1;var n=this._onFail.bind(t,e),e=this._onReadyStateChanged.bind(t,e);return t.addEventListener("error",n),t.addEventListener("abort",n),t.addEventListener("timeout",n),t.addEventListener("readystatechange",e),t.send(i),!0}},{key:"_onFail",value:function(e){this.gotResponse||(this.gotResponse=!0,e.onFail&&e.onFail([this.status],e.wfUrl))}},{key:"_onReadyStateChanged",value:function(e){4==this.readyState&&(this.gotResponse||(this.gotResponse=!0,e.onSuccess&&e.onSuccess(this.responseText,void 0,e.wfUrl)))}}])&&x(e.prototype,t),i&&x(e,i),r}(),W=[{id:5,mime:"application/javascript",video:!1},{id:8,mime:"video/x-ms-wmv",video:!0},{id:10,mime:"video/mp4",video:!0},{id:11,mime:"video/ogg",video:!0},{id:12,mime:"video/webm",video:!0}];function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function V(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.store=e,this.creatives=t,this.XHR=new U(this.store.get("psthdrs")||"application/json",!0,!0,5e3),this._init(),this._setBaseUrl(),this._getConsentData(),this._checkMimeTypes()}var e,t,n;return e=i,(t=[{key:"_init",value:function(){this._setCounter(),this.dynamicNoaopMaxValue=this.store.get("dnapmxvl"),this.playerVersion=this.store.get("player_version"),this.timezoneOffset=-1*(new Date).getTimezoneOffset(),this.waterfallVersion=this.store.get("wfv"),this.isAmp=this.store.get("isAmp")?"1":"0",this.encodeWaterfallResponse=this.store.get("encwfrs")?1:void 0,this.changedBaseUrlDc=!1,this.providedIds=this._loadProvidedIds(),this.waterfallSource=this._setWfSource(this.store.get("wfsrc"))}},{key:"_setCounter",value:function(){this.dast=this.store.get("auc_dast"),window._cm_wfCounters||(window._cm_wfCounters={}),window._cm_wfCounters.hasOwnProperty(this.dast)||(window._cm_wfCounters[this.dast]=1)}},{key:"_setBaseUrl",value:function(){var e,t=this.store.get("wf_base_path")||this.creatives.CM_DOMAIN,i=this.store.get("wf_path")||this.creatives.SERVICE;this.baseUrl="".concat("string"==typeof(e=t)&&0!==(e=e.replace(/^(http[s]?:|ftp:)/g,"")).indexOf("//")?"//"+e:e).concat(/.*\/$/g.test(t)?"":"/").concat(i)}},{key:"changeWfBasePath",value:function(){var e=this.store.get("domain_wf_base_path");!this.changedBaseUrlDc&&this.getWfCounter()>this.store.get("numOfWfUntilDcSwitch")&&e&&(this.changedBaseUrlDc=!0,this.store.set("wf_base_path",e),this._setBaseUrl())}},{key:"_getConsentData",value:function(){this.updateCMPData=this.store.get("updtcmpbfrwf"),this.updateCMPData&&this._initConsentData()}},{key:"_setWfSource",value:function(e){switch(e){case"liteUnit":return 1;case"player":return 2;default:return-1}}},{key:"_initConsentData",value:function(){this.rboxConsentData=window.TRC&&window.TRC.consentData?window.TRC.consentData:{},this.consentData={cdb:this.store.get("cdb")||this.rboxConsentData.consentDaisyBit,gdprApplies:this.store.get("gdprApplies")||this.rboxConsentData.gdprApplies}}},{key:"_checkMimeTypes",value:function(){var e=document.createElement("video");this.supportedMimeTypes=[],this.supportedMimeTypes.push(5);for(var t=0;t<W.length;t++){var i=W[t];i.video&&e.canPlayType(i.mime)&&this.supportedMimeTypes.push(i.id)}e=void 0,this.supportedMimeTypes=this.supportedMimeTypes.join(",")}},{key:"generateUrl",value:function(e){e="".concat(this.baseUrl,"?").concat(this._setWfUrlQuerystring(e));return windoing"},Mi={class:"title"},qi={class:"content shows"},Fi={class:"m"},ji=["href"],Hi=["media","srcset","width","height"],Ji=["src","alt","width","height"],zi={class:"social-icons"},Vi=r("div",{class:"label"},"Listen on",-1),Wi={key:0,class:"spotify"},Ki=r("a",{href:"#"},"Spotify",-1),Xi=[Ki],Gi=r("li",{class:"podcast"},[r("a",{href:"#"},"Twitter")],-1),Qi=r("div",{class:"pagination"},null,-1),Zi=D({__name:"TopShows",props:{componentProps:{}},setup(e){const{generateResponsiveImage:t}=nt(),{componentProps:s}=e,o=[{media:"(max-width: 599px)",width:238,height:134},{media:"(min-width: 600px)",width:338,height:190},{media:"(min-width: 768px)",width:131,height:74},{media:"(min-width: 1024px)",width:179,height:101},{media:"(min-width: 1366px)",width:215,height:121}],n=gt(()=>s.shows.map(d=>({...d,image:t(d.imageUrl,o,215,121)}))),i=s.title?"section":"div",l=s.title;return(d,p)=>(c(),L(H(a(i)),{class:"collection-shows"},{default:X(()=>[a(l)?(c(),u("header",Ni,[r("h2",Mi,x(a(l)),1)])):b("",!0),r("div",qi,[(c(!0),u(P,null,R(n.value,(g,_)=>{var m,h,w,$,y;return c(),u("article",{key:`idx-${_+1}`,class:st(`show show-${_+1}`)},[r("div",Fi,[r("a",{href:g.url},[r("picture",null,[(c(!0),u(P,null,R((m=g.image)==null?void 0:m.sourceSet,(v,S)=>(c(),u("source",{key:S,media:v.media,srcset:v.src,width:v.width,height:v.height},null,8,Hi))),128)),r("img",{src:(h=g.image)==null?void 0:h.src,alt:(w=g.image)==null?void 0:w.title,width:($=g.image)==null?void 0:$.width,height:(y=g.image)==null?void 0:y.height},null,8,Ji)])],8,ji)]),r("div",zi,[Vi,r("ul",null,[(c(),u("li",Wi,Xi)),Gi])])],2)}),128))]),Qi]),_:1}))}}),Yi=e=>{const{model:t}=e;return{is:"TopShows",props:{componentProps:{...t}}}},ta={class:"item item-newsletter"},ea={key:0,class:"title"},sa={class:"content"},oa=r("div",{class:"_form_44"},null,-1),ra=["innerHTML"],na=D({__name:"Newsletter",props:{componentProps:{}},setup(e){const{componentProps:t}=e,s=t.title,o=t.legal;return(n,i)=>(c(),u("div",ta,[a(s)?(c(),u("h2",ea,x(a(s)),1)):b("",!0),r("div",sa,[oa,(c(),L(H("script"),{src:"https://outkick.activehosted.com/f/embed.php?id=44",type:"text/javascript",charset:"utf-8"})),a(o)?(c(),u("p",{key:0,innerHTML:a(o)},null,8,ra)):b("",!0)])]))}}),rs=e=>{const{model:t}=e;return{is:"Newsletter",props:{componentProps:{...t}}}},ia=e=>{const{model:t}=e;return{is:"StrikeGam",props:{componentProps:{...t}}}},aa={class:"item item-podcast"},ca=r("header",{class:"heading"},[r("h2",{class:"title"},"Podcasts")],-1),la=D({__name:"PodcastListings",props:{componentProps:{}},setup(e){const{componentProps:t}=e,s=`https://playlist.megaphone.fm/?p=${t.playlistId}`;return(o,n)=>(c(),u("section",aa,[ca,r("div",{class:"content"},[r("iframe",{src:s,frameborder:"0",width:"100%",height:"482"},`
      `)])]))}}),ha=e=>{const{model:t}=e;return{is:"PodcastListings",props:{componentProps:{...t}}}},ua={class:"item item-about"},da=r("header",{class:"heading"},[r("h2",{class:"title"},"About the show")],-1),pa={class:"content hosts"},ma={key:0,class:"m"},_a=["media","srcset","width","height"],fa=["src","alt","width","height"],ga={class:"info"},wa={class:"title"},ya=["href"],va=["innerHTML"],$a={key:1,class:"social-icons"},ba=["href"],Sa=D({__name:"AboutTheShow",props:{componentProps:{}},async setup(e){let t,s;const{generateResponsiveImage:o}=nt(),n=[{media:"",width:80,height:80}],{componentProps:i}=e,l=i.selectedShow,d=W(),p={url:d.fullPath,path:d.path,queryString:JSON.stringify(d.query),component:"components/layoutComponents/ShowBigTop/ShowBigTop.vue"},g=ft(p),_={urls:l.canonicalUrl},h=([t,s]=U(()=>g.getShows(_)),t=await t,s(),t).results[0],y={urls:((h==null?void 0:h.fn__hosts)||[]).map(k=>k.canonical_url).join()},v=([t,s]=U(()=>g.getPersons(y)),t=await t,s(),t),S=v==null?void 0:v.results,C=gt(()=>S==null?void 0:S.map(k=>{var E,B;let A=`https://${wt()}static.foxnews.com/static/orion/styles/img/outkick/bg/default-dark.png`,f=(E=k.thumbnail)!=null&&E.content.url?(B=k.thumbnail)==null?void 0:B.content.url:A;return{...k,image:o(f,n,120,120)}}));return(k,A)=>(c(),u("section",ua,[da,r("div",pa,[(c(!0),u(P,null,R(C.value,(f,E)=>{var B,N,q,J,F;r,fr:t.failsRow,c:t.conversions,t:t.tries}})}},{key:"_buildOptionalParamsForPOSTData",value:function(){var e=this.store.get("subUnitType"),t=this.store.get("EP_PLAYER"),i=this.store.get("sessionData"),t={sd:i&&"undefined"!==i?i:void 0,en:this.encodeWaterfallResponse,subu:void 0!==e?e:void 0,ls:!this.sentCookiesData&&t?t:void 0,pids:this._buildProvidedIds()};return this.sentCookiesData||(this.sentCookiesData=!0),JSON.parse(JSON.stringify(t))}},{key:"send",value:function(e){this.XHR.send(e)}},{key:"getWfCounter",value:function(){return window._cm_wfCounters[this.dast]}},{key:"increaseWfCounter",value:function(){window._cm_wfCounters[this.dast]++}},{key:"getConsentData",value:function(){return this.consentData}},{key:"getRboxConsentData",value:function(){return this.rboxConsentData}},{key:"_getPanoramaId",value:function(){try{return window&&window.localStorage&&window.localStorage.getItem?window.localStorage.getItem("panoramaId"):void 0}catch(e){return}}},{key:"_loadProvidedIds",value:function(){try{if(!window||!window.localStorage||!window.localStorage.getItem)return{};var e=window.localStorage.getItem("idproviders"),t=window.JSON.parse(e);return S(t)&&null!==t?t:{}}catch(e){return{}}}},{key:"_buildProvidedIds",value:function(){var e=[];if(!S(this.providedIds)||null===this.providedIds)return[];for(var t=0,i=Object.entries(this.providedIds);t<i.length;t++){var n=M(i[t],2),r=n[0],n=n[1];if(S(n)&&null!==n)try{for(var a=0,s=Object.entries(n);a<s.length;a++){var o=M(s[a],2),l=o[0],c=o[1];e.push(this._buildProvidedId(r,l,c))}}catch(e){}}return e}},{key:"_buildProvidedId",value:function(e,t,i){return{pr:e,nm:t,id:i}}}])&&V(e.prototype,t),n&&V(e,n),i}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return q(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw r}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function X(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Q(i);return e=n?(e=Q(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==H(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(r,a["EventEmitter"]);var e,t,i,n=K(r);function r(e,t){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this)).config=e,i.store=t,i.creatives=new O(e),i.pixels=new F(e),i._setWfGenerator(),i._init(),i}return e=r,(t=[{key:"_init",value:function(){this.waterfallInProgress=!1,this.isFirstRun=!0,this.maxAllowedEmptyWaterfalls=this.store.get("ltmxemptwf"),this.emptyWaterfallsInARow=0,this.waterfallFailsInARow=0,this.demandFillSuccessful=!1,this.onSuccess=this._onSuccess.bind(this),this.onFail=this._onFail.bind(this),this.callWaterfall=this._callWaterfall.bind(this),this.scrollableElement=this.config.get("scrollableElement")?document.querySelector(this.config.get("scrollableElement")):window,this._initDroppableAdTypes(),this._isVeryLightWaterfall()&&this._initDynamicTimeBetweenWfs()}},{key:"_reportDemandFirstWf",value:function(){this.config.get("player.settings.unitFetcherWfRes")?b(this.config,"player.settings.unitFetcherDemand",!0):b(this.config,"player.settings.liteUnitDemand",!0)}},{key:"_onSuccess",value:function(e,t,i,n){if(!e)return this._increaseWaterfallFailsInARow(),void this._increaseEmptyWaterfalls();n=this._parseWfResponse(e,n);this.config.get("isHip")&&!this.alreadyCheckAdjac&&(this.alreadyCheckAdjac=!0,this.isAdjacInFirstWF=this._didReceivedAdjacInFirstWF(n),b(this.config,"isAdjacInFirstWF",this.isAdjacInFirstWF),this._dispatchAdjacToRbox()),this._didReceivedOnlyAdxInFirstWF(n)&&b(this.config,"onlyAdxInQueue",!0),this._didReceivedDemand(n)?(this._onDemandReceived(e,n),this.demandFillSuccessful=!0,this._reportDemandFirstWf()):this._isStandardWaterfall()&&!this._isEmptyWf(n)?this._onDemandReceived(e,n,!0):(this._isEmptyWf(n)?this._increaseEmptyWaterfalls():this._increaseWaterfallFailsInARow(),this._setFailedItemStats(n.tags),this._emitFailedWaterfall()),this.waterfallInProgress=!1}},{key:"_parseWfResponse",value:function(e,t){try{return(t||this.store.get("encwfrs"))&&(e=function(e){for(var t="",i=0;i<e.length;i++){var n=i%"PlAyER".length,r=e[i].charCodeAt(0).toString(10),n="PlAyER"[n].charCodeAt(0).toString(10);t+=String.fromCharCode(r^n)}return t}(function(e){try{for(var t=e.length,i=[],n=0;n<p.length;n++)i[p.charCodeAt(n)]=n;var r,a=p.charAt(64);!a||-1!==(r=e.indexOf(a))&&(t=r);for(var s,o,l=[],c=0,u=0;u<t;u++)u%4&&(s=i[e.charCodeAt(u-1)]<<u%4*2,o=i[e.charCodeAt(u)]>>>6-u%4*2,l[c>>>2]|=(s|o)<<24-c%4*8,c++);for(var f=[],u=0;u<c;u++){var d=l[u>>>2]>>>24-u%4*8&255;f.push(String.fromCharCode(d))}return decodeURIComponent(escape(f.join("")))}catch(e){return""}}(e))),JSON.parse(e.replace(/^\(|\)$/g,""))}catch(e){return""}}},{key:"_didReceivedDemand",value:function(e){if(this._isEmptyWf(e))return!1;if(this.store.set("sessionData",e.sd),0<e.tags.length&&(this.emptyWaterfallsInARow=0),this.config.get("demo"))return!0;for(var t=0;t<e.tags.length;t++){var i=e.tags[t];if(this._doesItemContainVAST(i)||this._isPremiumAdvType(i))return!0}return!1}},{key:"_didReceivedAdjacInFirstWF",value:function(e){var t;if(this._isEmptyWf(e))return!1;if(((null===(t=this.wfGenerator)||void 0===t?void 0:t.getWfCounter())||0)-1===this.config.get("wfMaxSeqToAdjac")){for(var i=0;i<e.tags.length;i++){var n=e.tags[i];if((n.url||n.vast)&&1===n.adjac)return!0}return!1}}},{key:"_isEmptyWf",value:function(e){return!e||!e.tags||0===e.tags.length}},{key:"_isStandardWaterfall",value:function(){var e=this.config.get("preset.level");return e==c.AGG_LEVELS.LEVELS.STANDARD||e==c.AGG_LEVELS.LEVELS.SAFE_WF_NO_POLITICS_AND_NO_GAMBLING}},{key:"_isVeryLightWaterfall",value:function(){var e=this.config.get("preset.level");return e==c.AGG_LEVELS.LEVELS.VERY_LIGHT_WATERFALL||e==c.AGG_LEVELS.LEVELS.DIRECT_AND_TREMOR_RTB}},{key:"_doesItemContainVAST",value:function(e){return e.vast}},{key:"_isPremiumAdvType",value:function(e){return e.advType!==c.ADV_TYPES.TAGS&&!this._isPrebid(e)}},{key:"_isPrebid",value:function(e){return e.advType===c.ADV_TYPES.PREBID}},{key:"_setFailedItemStats",value:function(e){var t=this;(e||[]).forEach(function(e){t.store.incr("failsCount"),t._setItemStats(e)})}},{key:"_setItemStats",value:function(e){var t=this.store.get("lineItems")||[];-1<t.indexOf(e.lineItemId)?this._increaseItemFails(e):(this._setNewItemStats(e),t.push(e.lineItemId),this.store.set("lineItems",t))}},{key:"_increaseItemFails",value:function(e){this.store.increaseFails(parseInt(e.lineItemId))}},{key:"_setNewItemStats",value:function(e){this.store.set(parseInt(e.lineItemId),{fails:1,failsRow:1,conversions:0,tries:1})}},{key:"_increaseEmptyWaterfalls",value:function(){this.emptyWaterfallsInARow++}},{key:"_increaseWaterfallFailsInARow",value:function(){this.waterfallFailsInARow++}},{key:"_emitFailedWaterfall",value:function(){this.emit("failedWaterfall")}},{key:"_onDemandReceived",value:function(e,t,i){this.stop(),this.waterfallFailsInARow=0,this.emptyWaterfallsInARow=0,this._setFirstWaterfallResponse(e),this._emitDemandReceived(!i)}},{key:"stop",value:function(){this.stopped=!0,this._isVeryLightWaterfall()?this.waterfallsInterval=clearTimeout(this.waterfallsInterval):this.waterfallsInterval=clearInterval(this.waterfallsInterval)}},{key:"_setFirstWaterfallResponse",value:function(e){b(this.config,"player.settings.ltuntWfRes",e)}},{key:"_emitDemandReceived",value:function(e){this.emit("demandReceived",e)}},{key:"_onFail",value:function(e,t){this._increaseEmptyWaterfalls(),this._increaseWaterfallFailsInARow(),this.waterfallInProgress=!1,this._emitFailedWaterfall()}},{key:"_initDroppableAdTypes",value:function(){var t=this;this.adsToDrop=[],(this.store.get("drpbletps")||[]).forEach(function(e){t.adsToDrop.push(e)})}},{key:"_initDynamicTimeBetweenWfs",value:function(){this.maxTimeBetweenWaterfalls=this.store.get("mxtmbtwfs"),this.minTimeBetweenWaterfalls=this.store.get("mntmbtwfs"),this.defaultTimeBetweenWaterfalls=this.store.get("time_between_waterfall"),this.timeBetweenWfFunc=this.store.get("tmbtwfs"),"function"!=typeof this.timeBetweenWfFunc&&(this.timeBetweenWfFunc=void 0),this.minTimeBetweenWfFunc=this.store.get("mntmbtwfsf"),"function"!=typeof this.minTimeBetweenWfFunc&&(this.minTimeBetweenWfFunc=void 0),this.defaultMinTimeBetweenWf=this.store.get("mintimwf")||5e3}},{key:"handleUnitFetcherDemand",value:function(){return this._onSuccess(this.config.get("player.settings.unitFetcherWfRes"),null,null,!0),!!this.demandFillSuccessful||(b(this.config,"player.settings.unitFetcherWfRes",void 0),!1)}},{key:"run",value:function(){this._hasUnitFetcherWaterfallResponse()&&this.handleUnitFetcherDemand()||(this._hasStaticWaterfall()||this._hasFirstWaterfallResponse()?(this._updateDelayWf(!1),this._emitDemandReceived(!0)):this._initWfGenerator())}},{key:"_hasUnitFetcherWaterfallResponse",value:function(){return this.config.get("player.settings.unitFetcherWfActive")&&this.config.get("player.settings.unitFetcherWfRes")}},{key:"_hasStaticWaterfall",value:function(){return this.config.get("demandConfig")}},{key:"_hasFirstWaterfallResponse",value:function(){return this.config.get("player.settings.firstWfRes")}},{key:"_waitOnDelayWaterfall",value:function(){this._shouldListenToStoriesDisplayChange()?this._waitForStoriesDisplay():this._waitForFirstScroll()}},{key:"_initWfGenerator",value:function(){var e=this;this.wfGenerator=new G(this.store,this.creatives.get()),this._canRunWaterfall()?P(function(){e._runWaterfalls()},null):this._shouldDelayWaterfall()?this._waitOnDelayWaterfall():this._waitForTabChange()}},{key:"_setWfGenerator",value:function(){window.TRC=window.TRC||{},window.TRC["wf-generator"]=window.TRC["wf-generator"]||{},window.TRC["wf-generator"].instances=window.TRC["wf-generator"].instances||{},window.TRC["wf-generator"].instances[this.store.get("auc_dast")]=G}},{key:"_canRunWaterfall",value:function(){return!this.stopped&&(!this._didPassedMaxEmptyWaterfalls()&&(!this._shouldDelayWaterfall()&&!this._isInIdleMode()))}},{key:"_didPassedMaxEmptyWaterfalls",value:function(){return!!this.maxAllowedEmptyWaterfalls&&this.emptyWaterfallsInARow>this.maxAllowedEmptyWaterfalls}},{key:"_shouldDelayWaterfall",value:function(){return this.store.get("dlywf")}},{key:"_shouldListenToStoriesDisplayChange",value:function(){return this.config.get("predictors.storiesDisplayChange.isActive")}},{key:"_isInIdleMode",value:function(){return document.hidden}},{key:"_runWaterfalls",value:function(){this._startWaterfallsTimer(),this._callWaterfall()}},{key:"_startWaterfallsTimer",value:function(){this._isVeryLightWaterfall()?this._startNextWaterfallsTimer():(this.timeBetweenWfs=l(this.config.get("player.settings.mintimwf")),this.waterfallsInterval=setInterval(this.callWaterfall,1e3*this.timeBetweenWfs))}},{key:"_startNextWaterfallsTimer",value:function(){var e=this;this.timeBetweenWfs=l(this._calcTimeBetweenWfs()),0<this.timeBetweenWfs?this.waterfallsInterval=setTimeout(function(){e._startNextWaterfallsTimer(),e.callWaterfall()},1e3*this.timeBetweenWfs):this.stop()}},{key:"_calcTimeBetweenWfs",value:function(){var e=this._getTimeBetweenWfs();return e>this.maxTimeBetweenWaterfalls?-1:Math.max(e,this.minTimeBetweenWaterfalls)}},{key:"_getTimeBetweenWfs",value:function(){if(this.timeBetweenWfFunc)try{return this.timeBetweenWfFunc(0,this.waterfallFailsInARow,this.store,!document.hidden)}catch(e){return this.defaultTimeBetweenWaterfalls}return-1}},{key:"_callWaterfall",value:function(){var e,t;this._canRunWaterfall()&&(this.lastRun=(new Date).getTime(),e=this._getWaterfallUrl(),t=this._getWaterfallPOSTData(),this.isFirstRun=!1,this.waterfallInProgress=!0,this.wfGenerator.send({wfUrl:e,postData:t,onSuccess:this.onSuccess,onFail:this.onFail}),this.wfGenerator.increaseWfCounter(),this.wfGenerator.changeWfBasePath())}},{key:"_getWaterfallUrl",value:function(){return this.wfGenerator.generateUrl({roll:{roll_type:"pre-roll"},pubid:this.config.get("pubId")||this.config.get("preroll.pubId"),tagid:this.config.get("pubTagId")||this.config.get("preroll.pubTagId"),isFirstRun:this.isFirstRun,unitWfParams:{}})}},{key:"_getWaterfallPOSTData",value:function(){return JSON.stringify(this.wfGenerator.generatePOSTParams({queueStatus:{items:[],size:0,prevItems:[]},droppedAdTypes:this.adsToDrop}))}},{key:"_waitForFirstScroll",value:function(){this.config.get("predictors.firstScroll.isActive")&&this._isUserAtTopOfThePage()?(this.checkScroll=this._checkScroll.bind(this),this.scrollableElement.addEventListener("scroll",this.checkScroll)):this._onFirstScroll()}},{key:"_updateDelayWf",value:function(e){this.store.set("dlywf",e),b(this.config,"player.settings.dlywf",e)}},{key:"_waitForStoriesDisplay",value:function(){var e=this;this._shouldListenToStoriesDisplayChange()&&window.TRC&&(this.config.get("predictors.storiesDisplayChange.isStartWf")&&window.TRC.listen("categoriesDisplayed",function(){e._updateDelayWf(!1),e._runWaterfalls()}),this.config.get("predictors.storiesDisplayChange.isStopWf")&&window.TRC.listen("categoriesHidden",function(){e._updateDelayWf(!0)}))}},{key:"_isUserAtTopOfThePage",value:function(){return this.scrollableElement!==window?0===this.scrollableElement.scrollTop:0===document.getElementsByTagName(c.SELECTORS.BODY)[0].scrollTop&&0===document.documentElement.scrollTop}},{key:"_checkScroll",value:function(){this._isUserAtTopOfThePage()||this._onFirstScroll()}},{key:"_onFirstScroll",value:function(){this.scrollableElement.removeEventListener("scroll",this.checkScroll),this._updateDelayWf(!1),this._runWaterfalls()}},{key:"_waitForTabChange",value:function(){this.checkTabChange=this._checkTabChange.bind(this),window.addEventListener("visibilitychange",this.checkTabChange)}},{key:"_checkTabChange",value:function(){document.hidden||(window.removeEventListener("visibilitychange",this.checkTabChange),this._runWaterfalls())}},{key:"getFromStore",value:function(e){return this.store.get(e)}},{key:"isWaterfallInProgress",value:function(){return this.waterfallInProgress}},{key:"_hasPrebidDemand",value:function(e){var t,i=Y(e.tags);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(this._isPrebid(n))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"_dispatchAdjacToRbox",value:function(){this.isAdjacInFirstWF?this._dispatchTRC("adjacAdPlaying",this.config.get("rboxContainerId")):this._dispatchTRC("noAdjacInFirstWF",this.config.get("rboxContainerId"))}},{key:"_dispatchTRC",value:function(e,t){if(window.TRC&&window.TRC.dispatch)try{window.TRC.dispatch(e,t)}catch(e){}}},{key:"_didReceivedOnlyAdxInFirstWF",value:function(e){return!this._isEmptyWf(e)&&e.tags.filter(function(e){return(e.vast||e.url)&&e.t===c.ITEM_TYPES.ADX}).length===e.tags.length}}])&&X(e.prototype,t),i&&X(e,i),r}();function $(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Z=i(0),ee=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this._buildSettings(),this._setDroppableTypes()}var e,i,n;return e=t,(i=[{key:"_buildSettings",value:function(){this.settings=this._setSettings(),this._appendFunctionsToSettings(),this._setSubUnitType(),this._setReplacementWfUrl();var t,e=Z(this.config.get("player.settings"),this._getPlayerSettings()),e=Z((t={},["frameType","dtagid","dpubid","creativeId"].forEach(function(e){return t[e]=g[e]}),t),e);this.settings=Z(this.settings,e)}},{key:"_setSettings",value:function(){return JSON.parse(s.SETTINGS.replace("{{PLAYER_VERSION}}",(e=(e=this.config).get("player.versions.vplayer"),e=parseInt(e.replace(/^v|\./g,"")),isNaN(e)?1101:e)).replace("{{IS_AMP}}",window.TRC&&window.TRC.isAMP||!1).replace("{{AB_TEST}}",this.config.get("_abTest")).replace("{{AUC_DAST}}",this._getAucDast()).replace("{{PRESET_LEVEL}}",this._getPresetLevel()));var e}},{key:"_appendFunctionsToSettings",value:function(){this.settings.tmbtwfs=function(e,t,i,n){return i.get("time_between_waterfall")},this.settings.mntmbtwfsf=function(e,t,i,n){return i.get("mintimwf")}}},{key:"_setSubUnitType",value:function(){var e=y();void 0!==e&&(e!==c.SUB_UNIT_TYPE.STICKY_BELOW||function(){var e=document.querySelector(".tbl-feed-container");if(e){var t=!0,i=document.createElement("div");return i.style.position="fixed",i.style.left="".concat(5,"px"),e.append(i),5!==i.getBoundingClientRect().left&&(t=!1),i.remove(),t}}()?this.settings.subUnitType=e:this.config.stickyCard.isActive=!1)}},{key:"_setReplacementWfUrl",value:function(){var e=this.config.get("player.urls.domainWfBasePath");e&&(e=I(e),this.settings.domain_wf_base_path=e)}},{key:"_getAucDast",value:function(){return this.config.get("cmDast")||""}},{key:"_getPresetLevel",value:function(){return this.config.get("preset.level")||1}},{key:"_getPlayerSettings",value:function(){var e,t={};for(e in this.config)0===e.indexOf("player.settings.")&&(t[e.split(".")[2]]=this.config[e]);return t}},{key:"_setDroppableTypes",value:function(){this.config.get("unitType")===u.FEED_MANAGER?this._setFeedManagerDroppableTypes():this._setNonFeedManagerDroppableTypes()}},{key:"_setFeedManagerDroppableTypes",value:function(){var e=this.config.get("startCard"),t=this.config.get("permanentCard"),t=!(1!==e&&e||1!==t&&t);this.config.get("detachToSlider.isStartFromSlider")&&this.config.get("detachToSlider.isDetachToSlider")||t&&function(){var e,t=TRCImpl.boxes||{};for(e in t){var i=t[e]||{},n=i.isFeedCard,r=!1;if((r=i.itemsTypes&&i.itemsTypes["is-organic"]?i.itemsTypes["is-organic"]:r)&&n&&i.boxes.length)return i.mode}}()||this._dropAdjacency()}},{key:"_dropAdjacency",value:function(){this.set("drpbletps",["adjacencyAd"])}},{key:"_setNonFeedManagerDroppableTypes",value:function(){this.config.get("isContainerRatioNotValidForTakeOver")&&this._dropAdjacency()}},{key:"get",value:function(e){return this.settings[e]}},{key:"getWfData",value:function(){return[]}},{key:"set",value:function(e,t){this.settings[e]=t}},{key:"increaseFails",value:function(e){var t=this.get(e);t.fails++,t.failsRow++,t.tries++,this.set(e,t)}},{key:"incr",value:function(e){this.settings.hasOwnProperty(e)||(this.settings[e]=0),this.settings[e]++}}])&&$(e.prototype,i),n&&$(e,n),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ne(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=oe(i);return e=n?(e=oe(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==te(e)&&"function"!=typeof e?se(t):e}}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(r,a["EventEmitter"]);var e,t,i,n=ae(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this)).config=e,t.store=new ee(e),t._bindedEmitLoadUnit=t._emitLoadUnit.bind(se(t)),t._initActions(),t.pixels=new F(t.config),t}return e=r,(t=[{key:"_emitLoadUnit",value:function(e){this._onLoadUnit(e),this.emit("loadUnit",e)}},{key:"_onLoadUnit",value:function(e){var t;this._clearWfHandlerListeners(),this._clearNoDemandTimer(),this.wfHandler&&(b(this.config,"player.settings.ltuntwflstrn",this.wfHandler.lastRun),b(this.config,"player.settings.wf_base_path",this.wfHandler.getFromStore("wf_base_path")),0<(t=this.wfHandler.getFromStore("failsCount"))&&b(this.config,"player.settings.failsCount",t)),e||this._onLoadingWithoutFill()}},{key:"_clearWfHandlerListeners",value:function(){this.wfHandler&&(this.wfHandler.removeListener("demandReceived",this._bindedEmitLoadUnit),this.wfHandler.removeListener("failedWaterfall",this._bindedEmitLoadUnit),this.wfHandler.stop(),this._setWfsData())}},{key:"_setWfsData",value:function(){this._setSessionData(),this._setLineItems()}},{key:"_setSessionData",value:function(){b(this.config,"player.settings.sessionData",this.wfHandler.getFromStore("sessionData"))}},{key:"_setLineItems",value:function(){var t=this,e=this.wfHandler.getFromStore("lineItems")||[];b(this.config,"player.settings.lineItems",e),e.forEach(function(e){return b(t.config,"player.settings.".concat(e),t.wfHandler.getFromStore(e))})}},{key:"_onLoadingWithoutFill",value:function(){this.wfHandler&&(0<this.wfHandler.emptyWaterfallsInARow&&b(this.config,"player.settings.emptyWaterfallsInARow",this.wfHandler.emptyWaterfallsInARow),0<this.wfHandler.waterfallFailsInARow&&b(this.config,"player.settings.waterfallFailsInARow",this.wfHandler.waterfallFailsInARow))}},{key:"_clearNoDemandTimer",value:function(){this.noDemandTimer&&(this.noDemandTimer=clearTimeout(this.noDemandTimer))}},{key:"_initActions",value:function(){var e,t=this._handleVeryLightWaterfall.bind(this),i=this._handleStandardWaterfall.bind(this);this.actions=(ie(e={},c.AGG_LEVELS.LEVELS.STANDARD,i),ie(e,c.AGG_LEVELS.LEVELS.SAFE_WF_NO_POLITICS_AND_NO_GAMBLING,i),ie(e,c.AGG_LEVELS.LEVELS.LIGHT_WATERFALL,this._handleLightWaterfall.bind(this)),ie(e,c.AGG_LEVELS.LEVELS.VERY_LIGHT_WATERFALL,t),ie(e,c.AGG_LEVELS.LEVELS.DIRECT_AND_TREMOR_RTB,t),ie(e,c.AGG_LEVELS.LEVELS.DIRECT_ONLY,t),ie(e,c.AGG_LEVELS.LEVELS.PASSBACK,this._handlePassback.bind(this)),e)}},{key:"_hasUnitFetcherWaterfallResponse",value:function(){return this.config.get("player.settings.unitFetcherWfActive")&&this.config.get("player.settings.unitFetcherWfRes")}},{key:"_handleStandardWaterfall",value:function(){window.taboolaBridge?(this.wfHandler=new J(this.config,this.store),this._hasUnitFetcherWaterfallResponse()&&this.wfHandler.handleUnitFetcherDemand(),this._emitLoadUnit()):(this._initWfHandler(),this.wfHandler.once("failedWaterfall",this._bindedEmitLoadUnit))}},{key:"_handleLightWaterfall",value:function(){this._initWfHandler(),this._startNoDemandTimer(this._bindedEmitLoadUnit)}},{key:"_initWfHandler",value:function(){this.wfHandler=new J(this.config,this.store),this.wfHandler.once("demandReceived",this._bindedEmitLoadUnit),this.wfHandler.run()}},{key:"_startNoDemandTimer",value:function(e){this.noDemandTimer=setTimeout(this._onTimerEnds.bind(this,e),1e3*(this.config.get("secondsToFill")||5))}},{key:"_onTimerEnds",value:function(e){this.wfHandler.isWaterfallInProgress()||this.passbackFunc?this.wfHandler.once("failedWaterfall",e):this._emitLoadUnit()}},{key:"_handleVeryLightWaterfall",value:function(){this._initWfHandler()}},{key:"_handlePassback",value:function(){this._initWfHandler(),this._startNoDemandTimer(this._invokePassback.bind(this))}},{key:"_invokePassback",value:function(){this._onLoadUnit(),this.pixels.firePixel(this.pixels.PIXEL_TYPES.PASSBACK_FUNCTION_CALLED),this.passbackFunc()}},{key:"load",value:function(){var e=this._hasPassback()?c.AGG_LEVELS.LEVELS.PASSBACK:this.config.get("preset.level")||1;this.actions[e]()}},{key:"_hasPassback",value:function(){return this.passbackFunc=this.config.get("onPassback")||this._getPassbackHandlerFromTRC(),void 0!==this.passbackFunc}},{key:"_getPassbackHandlerFromTRC",value:function(){if(window.TRC&&window.TRC._taboolaClone)for(var e=0;e<window.TRC._taboolaClone.length;e++)if("video.passback"===window.TRC._taboolaClone[e].listenTo)return window.TRC._taboolaClone[e].handler}},{key:"terminate",value:function(){this._clearWfHandlerListeners()}}])&&ne(e.prototype,t),i&&ne(e,i),r}(),t={atr:{},platform:{Desktop:{atr:{pubId:208401,pubTagId:1047981,preroll:{pubId:208401,pubTagId:1047981},midroll:{pubId:208401,pubTagId:1047981},postroll:{pubId:208401,pubTagId:1047981}}},Mobile:{atr:{secondsBW:20,pubId:208401,pubTagId:1047981,preroll:{pubId:208401,pubTagId:1047981},midroll:{pubId:208401,pubTagId:1047981},postroll:{pubId:208401,pubTagId:1047981}}}}},r={atr:{},platform:{Desktop:{atr:{secondsBW:20}},Mobile:{atr:{secondsBW:20}}}},ce={atr:{},platform:{Desktop:{atr:{pubId:165757,pubTagId:946347,preroll:{pubId:165757,pubTagId:946347},midroll:{pubId:165757,pubTagId:946347},postroll:{pubId:165757,pubTagId:946347}}},Mobile:{atr:{pubId:165757,pubTagId:946347,preroll:{pubId:165757,pubTagId:946347},midroll:{pubId:165757,pubTagId:946347},postroll:{pubId:165757,pubTagId:946347}}}}},ue={demo:{strength:101,atr:{cookieMatchActive:!1},1:{atr:{originId:15,"preroll.pubId":133128,"preroll.pubTagId":779408,"midroll.pubId":133128,"midroll.pubTagId":779408,"postroll.pubId":133128,"postroll.pubTagId":779408,pubId:133128,pubTagId:779408,player:{settings:{mprdct:0,cmbopps:!1,encwfrs:!1,mntmbtwfs:999,mintimwf:999e3,mxtmbtwfs:999,time_between_waterfall:999,frrst1aftrrst93:!1,rmvrvlwntwrk:!1}},onOutOfView:"pause",isPWOV:!1,noaop:1}},2:{atr:{isDebug:!0,originId:15,"preroll.pubId":133128,"preroll.pubTagId":779408,"midroll.pubId":133128,"midroll.pubTagId":779408,"postroll.pubId":133128,"postroll.pubTagId":779408,pubId:133128,pubTagId:779408,player:{settings:{mprdct:0,cmbopps:!1,encwfrs:!1}},onOutOfView:"pause"}},3:{atr:{isDebug:!0,originId:15,"preroll.pubId":133128,"preroll.pubTagId":1184655,"midroll.pubId":133128,"midroll.pubTagId":1184655,"postroll.pubId":133128,"postroll.pubTagId":1184655,pubId:133128,pubTagId:1184655,player:{settings:{mprdct:0,cmbopps:!1,encwfrs:!1}},isPWOV:!1}},4:{atr:{isDebug:!0,originId:15,"preroll.pubId":133128,"preroll.pubTagId":1046821,"midroll.pubId":133128,"midroll.pubTagId":1046821,"postroll.pubId":133128,"postroll.pubTagId":1046821,pubId:133128,pubTagId:1046821,player:{settings:{mprdct:0,cmbopps:!1,encwfrs:!1}},onOutOfView:"pause"}},5:{atr:{originId:15,"preroll.pubId":133128,"preroll.pubTagId":1633025,"midroll.pubId":133128,"midroll.pubTagId":1633025,"postroll.pubId":133128,"postroll.pubTagId":1633025,pubId:133128,pubTagId:1633025,player:{settings:{mprdct:0,cmbopps:!1,encwfrs:!1}},onOutOfView:"pause",isPWOV:!1}}},level:{strength:1,atr:{},101:{atr:{},units:{FEED_MANAGER:ce,INLINE_INSTREAM_OLD:ce,INLINE_INSTREAM_VFORCE:ce,SLIDER_INSTREAM:ce,SLIDER_OUTSTREAM:ce,WIDGET_ITEM:ce,RECO_REEL_WIDGET:ce}},2:{atr:{secondsToClose:120},units:{FEED_MANAGER:r,INLINE_INSTREAM_OLD:r,INLINE_INSTREAM_VFORCE:r,SLIDER_INSTREAM:r,SLIDER_OUTSTREAM:r,WIDGET_ITEM:r,RECO_REEL_WIDGET:r}},3:{atr:{secondsToClose:120},units:{FEED_MANAGER:t,INLINE_INSTREAM_OLD:t,INLINE_INSTREAM_VFORCE:t,SLIDER_INSTREAM:t,SLIDER_OUTSTREAM:t,WIDGET_ITEM:t,RECO_REEL_WIDGET:t}},4:{atr:{pubId:383725,pubTagId:2077655,preroll:{pubId:383725,pubTagId:2077655},midroll:{pubId:383725,pubTagId:2077655},postroll:{pubId:383725,pubTagId:2077655}}}},isFireAllPixels:{strength:101,atr:{},1:{atr:{pixels:{startWithABT:{isFire:!0},getAdAny:{isFire:!0},getAdNoRV:{isFire:!0},getAd:{isFire:!0},secondsToCloseTimer:{isFire:!0},secondsToCloseGlobalTimer:{isFire:!0},midrollCollapseTimer:{isFire:!0}}}},2:{atr:{pixels:{getAdAny:{isFire:!0},getAdNoRV:{isFire:!0},getAd:{isFire:!0}}}}},predictorsPresets:{strength:101,1:{atr:{predictors:{multiAd:{isActive:!0,predictPoints:{any:{qState:"q1"}}},playerReady:{isActive:!0,predictPoint:0},distancePixels:{isActive:!0,predictPoints:{1:{pixelsFromSelectors:10}}}}}},2:{atr:{predictors:{multiAd:{isActive:!0,predictPoints:{any:{qState:"q0"}}},playerReady:{isActive:!1},distancePixels:{isActive:!0,predictPoints:{1:{pixelsFromSelectors:10}}},firstScroll:{isActive:!0,predictPoints:[0,0]}}}},3:{atr:{predictors:{multiAd:{isActive:!0,predictPoints:{any:{qState:"q0"}}},playerReady:{isActive:!0,predictPoint:0},distancePixels:{isActive:!1},firstScroll:{isActive:!1}}}},4:{atr:{predictors:{multiAd:{isActive:!0,predictPoints:{any:{qState:"q1"}}},playerReady:{isActive:!0,predictPoint:0},distancePixels:{isActive:!1},firstScroll:{isActive:!1}}}},5:{atr:{predictors:{multiAd:{isActive:!1},playerReady:{isActive:!0,predictPoint:0},distancePixels:{isActive:!1},firstScroll:{isActive:!1}}}},99:{atr:{predictors:{autoKill:{isActive:!1},getAdFail:{isActive:!1},multiAd:{isActive:!1},loading:{isActive:!1},repeat:{isActive:!1},playerReady:{isActive:!1},distancePercent:{isActive:!1},distancePixels:{isActive:!1},firstScroll:{isActive:!1}}}},101:{atr:{predictors:{multiAd:{isActive:!0,predictPoints:{any:{qState:"q1"}}},playerReady:{isActive:!0,predictPoint:0},distancePixels:{isActive:!0,predictPoints:{1:{pixelsFromSelectors:10}}}}}}},isDebug:{strength:102,1:{atr:{player:{settings:{encwfrs:!1}}}}}},t=i(0),fe=i.n(t);function de(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"getPreset",value:function(e){var t=e.key,i=e.value,n=e.unitType,r=e.platform;if(ue[t]&&ue[t][i]){var a=ue[t],e=ue[t].strength||1,t=ue[t].atr||{},t=fe()(t,a[i].atr);return{presetData:t=a[i]&&a[i].units?this._getFromUnits(t,a[i].units,n,r)||t:t,strength:e}}}},{key:"_getFromUnits",value:function(e,t,i,n){if(t[i]){var r=t[i].atr||{};return fe()(e,r),e=t[i].platform?this._getByPlatform(e,t[i].platform,n)||e:e}}},{key:"_getByPlatform",value:function(e,t,i){if(t[i]){i=t[i].atr||{};return e=fe()(e,i)}}}])&&de(t.prototype,i),n&&de(t,n),e}();function he(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ge=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.presets=[],this.config=e,this._setPresetLevels()}var e,i,n;return e=t,(i=[{key:"_setPresetLevels",value:function(){this._setDemoPreset(),this._setAggLevelPreset(),this._setIsFileAllPixelsPreset(),this._setPredictorsPresetsPreset(),this._setIsDebugPreset()}},{key:"_setDemoPreset",value:function(){var e=this.config.get("demo");e&&this._pushPreset("demo",e)}},{key:"_pushPreset",value:function(e,t){this.presets.push({key:e,value:t,unitType:this.config.get("unitType"),platform:this.config.get("isMobile")?"Mobile":"Desktop"})}},{key:"_setAggLevelPreset",value:function(){var e=this.config.get("preset.level");e&&this._pushPreset("level",e)}},{key:"_setIsFileAllPixelsPreset",value:function(){var e=this.config.get("isFireAllPixels");e&&this._pushPreset("isFireAllPixels",e)}},{key:"_setPredictorsPresetsPreset",value:function(){var e=this.config.get("predictorsPresets");e&&this._pushPreset("predictorsPresets",e)}},{key:"_setIsDebugPreset",value:function(){this.config.get("isDebug")&&this._pushPreset("isDebug",1)}},{key:"getPresets",value:function(){var e=this._getPresetsDataByStrength();this._applyArrayOfPresets(e.weaker),this._handleSettingsByCondition(),this._applySettings(this.fullfilledSetByCondition),this._applyArrayOfPresets(e.stronger)}},{key:"_getPresetsDataByStrength",value:function(){var t=this;this.presetLevelHandler=new pe;var i={weaker:[],stronger:[]};return this.presets.forEach(function(e){e=t.presetLevelHandler.getPreset(e);e&&(100<e.strength?i.stronger:i.weaker).push(e.presetData)}),i}},{key:"_applyArrayOfPresets",value:function(e){var t=this;e.forEach(function(e){return t._applySettings(e)})}},{key:"_handleSettingsByCondition",value:function(){var i=this;this.fullfilledSetByCondition={},(this.config.get("settingsByConditions")||[]).forEach(function(e){if(e.conditions&&e.settings&&0<e.conditions.length&&_(e.conditions))for(var t in e.settings)-1<t.indexOf("preset")?i._handlePresetLevelFromCondition(t,e.settings[t]):-1<t.indexOf("abTest")?i._pushAbTest(t,e.settings[t]):i.fullfilledSetByCondition[t]=e.settings[t]})}},{key:"_handlePresetLevelFromCondition",value:function(e,t){b(this.config,e,t);t=this.presetLevelHandler.getPreset({key:e,level:t,unitType:this.config.get("unitType"),platform:this.config.get("isMobile")?"Mobile":"Desktop"});t&&(100<t?results.stronger.push(t.presetData):this._applyArrayOfPresets([t.presetData]))}},{key:"_pushAbTest",value:function(e,t){var i,n=this.config.get("pushedArr")||[];n.push((i=t,(t=e)in(e={})?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e)),b(this.config,"pushedArr",n)}},{key:"_applySettings",value:function(e){for(var t in e)b(this.config,t,e[t])}}])&&he(e.prototype,i),n&&he(e,n),t}();function ye(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ve=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this._init()}var e,i,n;return e=t,(i=[{key:"_init",value:function(){this.syncUrl=this.config.get("sync"),this.cookieSyncParams=this.config.get("predictors.time.cookieSync")||{}}},{key:"sync",value:function(){this.syncUrl&&this.cookieSyncParams.isActive&&(this._setSyncTimeout(),this._sync())}},{key:"_setSyncTimeout",value:function(){this._canStartTimer()&&setTimeout(this._sync.bind(this),1e3*this.cookieSyncParams.lengthInSeconds)}},{key:"_canStartTimer",value:function(){return!this.stopped&&0<this.cookieSyncParams.repeat}},{key:"_sync",value:function(){var e,t=this;this.stopped||(this.cookieSyncParams.repeat--,(e=document.createElement("iframe")).style.display="none",e.src=this.syncUrl,e.onerror=function(){t.stop()},document.body.appendChild(e))}},{key:"stop",value:function(){this.stopped=!0}},{key:"getCookieSyncParams",value:function(){return this.cookieSyncParams}}])&&ye(e.prototype,i),n&&ye(e,n),t}(),me=0,_e=1,be=21,Ee=22,Te=23,Ae=24,we=25,Ie=30,Pe=32,Se=33,De=41,Ce=42;function Fe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Re=function(){function c(e,t){var i,n,r,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),r=function(){return!(!navigator||"function"!=typeof navigator.sendBeacon)},(n="_isSendBeaconSupported")in(i=this)?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,this.useSendBeacon=this._isSendBeaconSupported()&&a,this.baseUrl=e,this.useSendBeacon||(this.async=null==s||s,this.withCredentials=null==o||o,this.timeout=l||5e3,this.contentType=t||"application/x-www-form-urlencoded")}var e,t,i;return e=c,(t=[{key:"_onFail",value:function(){this.gotResponse||(this.gotResponse=!0)}},{key:"send",value:function(e,t){this.useSendBeacon?this._sendBeacon(e,t):this._sendXHR(e,t)}},{key:"_sendBeacon",value:function(e,t){t=void 0!==t?"?rst=".concat(t):"",t="".concat(this.baseUrl).concat(t);navigator.sendBeacon(t,e)}},{key:"_sendXHR",value:function(e,t){if(this.baseUrl){var i=new XMLHttpRequest,t=void 0!==t?"?rst=".concat(t):"",t="".concat(this.baseUrl).concat(t);return i.open(e?"POST":"GET",t,!0),i.withCredentials=this.withCredentials,i.setRequestHeader("Content-type",this.contentType),i.async=this.async,i.timeout=this.timeout,i.gotResponse=!1,this._setHttpEvents(i),i.send(e),!0}return!1}},{key:"_setHttpEvents",value:function(e){var t=this;e.addEventListener("error",this._onFail),e.addEventListener("abort",this._onFail),e.addEventListener("timeout",this._onFail),e.addEventListener("readystatechange",function(){4==t.readyState&&(t.gotResponse||(t.gotResponse=!0))})}}])&&Fe(e.prototype,t),i&&Fe(e,i),c}();function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Oe(e){return e?1:0}function ke(e,t,i){Le(e,We(t,i)||{})}function Be(e){return e=parseInt(9/16*e),isNaN(e)?0:e}var xe=function(e){return e.get("player.urls.oppsRequest")||"".concat(e.get("opps_base_path"),"/OpportunityServlet")},Ue=function(e){var t,i,n=e.config,r=e.opportunityType,a=e.tagItem,e=null==a?void 0:a.lineItemStats,e={tms:Date.now(),st:k(null==a?void 0:a.rollType),rs:+(null==a?void 0:a.waterfallTagId),os:+(null==a?void 0:a.sequenceId)+1,d:(new Date).getTime()-(null==a?void 0:a.created),rst:r,dast:(null==a?void 0:a.vidDast)||(null==a?void 0:a.dast),pstn:n.get("pstn")||1,dp:B(null==a?void 0:a.dp),mob:Oe(n.get("isMobile")),vstt:Oe(!document.hidden),unv:999,unt:B(n.get("unitType")),abt:n.get("_abTest"),agl:n.get("preset.level"),rp:null==a?void 0:a.vastPrice,mty:null==a?void 0:a.mty,fv_t:e&&e.tries,fv_c:e&&e.conversions,fv_f:e&&e.fails,fv_fr:e&&e.failsRow,su:y(),extpvid:window.TRCImpl&&window.TRCImpl.external_page_view,vpd:n.get("pubId")||n.get("preroll.pubId"),vptd:n.get("pubTagId")||n.get("preroll.pubTagId"),pv:999,vmt:0,ft:n.get("frameType"),be:0,pap:"",pdast:"",rv:Boolean(null==a?void 0:a.requiredViewability),"auc-dast":n.get("cmDast")};return w(null==a||null===(t=a.prebid)||void 0===t?void 0:t.price)&&(e.cisbp=btoa(null==a||null===(i=a.prebid)||void 0===i?void 0:i.price)),ke(e,n,a),[e]},We=function(e,t){var i=e.get("width");return{vpd:e.get("pubId")||e.get("preroll.pubId"),vptd:e.get("pubTagId")||e.get("preroll.pubTagId"),vmt:0,pt:B(999),w:"".concat(i)||void 0,h:"".concat(Be(i)),rv:null==t?void 0:t.requiredViewability}},Me=function(e,t){try{var i=[];return JSON.stringify(e,function(e,t){if(null!=t&&S(t)){if(-1<i.indexOf(t))return;i.push(t)}return t},t)}catch(e){return""}};function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,a=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ge(e,t){var i,n=Ne(Ue({config:e,tagItem:t}),1)[0];for(i in n)n["".concat(He).concat(i.replace("-","").replace("_",""))]=n[i],delete n[i];return n}var He="zMoat";function Ye(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?qe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Xe(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function ze(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(r),!0).forEach(function(e){var t,i;t=n,e=r[i=e],i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}function Ke(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e){var t=e.vertical,e=e.horizontal;return"".concat(t,"-").concat(e)}var Je=function(){function a(e){var n,r,t=this,i=e.config,e=e.pixels;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.config=i,this.store=new ee(i),this.isFirstRun=!0,this.fireOpportunity=(n=this.config,i=xe(n),r=new Re(i,n.get("psthdrs"),n.get("sendBeacon")),function(e,t,i){w(t)&&r.send(Me(Ue({config:n,opportunityType:e,tagItem:t})),e)}),this.pixels=e,this.wfGenerator=new G(this.store,new O(this.config).get()),setTimeout(function(){return t._loadExternalPlayer()},0)}var e,t,i;return e=a,(t=[{key:"_loadExternalPlayer",value:function(){var e=document.getElementsByTagName("script")[0],i=document.createElement("script");i.className=this._getScriptTagClassName(),i.src=this._getExternalScriptSrc(),this._getExternalPlayerAttributes().forEach(function(e){var t=e.name,e=e.value;i.setAttribute(t,e)}),i.onerror=this._externalPlayerOnLoadError.bind(this),i.onload=this._externalPlayerOnLoad.bind(this),e.parentNode.insertBefore(i,e)}},{key:"_generateUrl",value:function(){var e=this.wfGenerator.generateUrl({roll:{roll_type:"pre-roll"},pubid:this.config.get("pubId")||this.config.get("preroll.pubId"),tagid:this.config.get("pubTagId")||this.config.get("preroll.pubTagId"),isFirstRun:this.isFirstRun,unitWfParams:{epp:this._getExternalPlayerType()}});return this.isFirstRun&&(this.isFirstRun=!1),this.wfGenerator.increaseWfCounter(),e}},{key:"_getEventHandler",value:function(e){var t=this,i=this.fireOpportunity.bind(this,e);if(e!==_e)return function(e){return i(t._buildTagItemForReporting(e))};var n=this.fireOpportunity.bind(this,Pe);return function(e){e=t._buildTagItemForReporting(e);i(e),n(e)}}},{key:"_buildTagItemForReporting",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!e.prebid)return e;var t=e.prebid.bidder,i=e.externalPrebidTags;if(e.created=null!=e&&e.created?null==e?void 0:e.created:Date.now(),e.sequenceId=null!=e&&e.sequenceId?null==e?void 0:e.sequenceId:0,void 0===i)return e;i=i.find(function(e){return(null===(e=e.ecampid)||void 0===e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase())});return i?ze(ze({},i),e):e}},{key:"_getMoatObject",value:function(e){return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Ge(e,t);return Ve({level1:"".concat(e.get("unitType")||"").concat(e.get("isMobile")?"_Mobile":""),level2:t.advId,level3:t.lineItemId,level4:window.location.hostname||"",slicer1:t.url,slicer2:e.get("pubTagId")||e.get("preroll.pubTagId"),zMoataucdast:e.get("cmDast"),zMoatdast:t.vidDast,zMoatabt:e.get("ab_test"),zMoatframetype:e.get("frameType"),zMoatsubunittypeid:y(),zMoatos:+t.waterfallTagId+1,zMoatrv:t.requiredViewability},i)}(this.config,e)}},{key:"_getCallbackArray",value:function(){function e(e){return{name:i[e],fn:t._getEventHandler(e)}}var t=this,i=this._getOppNameMapping();return[e(me),e(De),e(Ce),e(_e),e(Ie),e(be),e(Ee),e(Te),e(Ae),e(Se),e(we)].concat(Ye(this._getAdditionalEventHandlers()))}},{key:"_getScriptTagClassName",value:function(){return""}},{key:"_getExternalScriptSrc",value:function(){}},{key:"_getExternalPlayerAttributes",value:function(){return[]}},{key:"_externalPlayerOnLoadError",value:function(){}},{key:"_externalPlayerOnLoad",value:function(){}},{key:"_getOppNameMapping",value:function(){}},{key:"_getAdditionalEventHandlers",value:function(){return[]}},{key:"_getExternalPlayerType",value:function(){}},{key:"_getPositionConfiguration",value:function(){var e=this._isFeedManager();return this.config.get("".concat(e?"detachToSlider.":"","position"))}},{key:"_isFeedManager",value:function(){return this.config.get("unitType")===u.FEED_MANAGER}}])&&Ke(e.prototype,t),i&&Ke(e,i),a}();function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function et(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=nt(i);return e=n?(e=nt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==$e(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(r,Je);var e,t,i,n=it(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(t=[{key:"_externalPlayerOnLoad",value:function(){var i=ExCoPlayer.connect(),e=this._getPositionConfiguration(),t=e.vertical,n=e.horizontal,r=e.verticalOffset,a=e.horizontalOffset,e=[{name:"_generateUrl",fn:this._generateUrl.bind(this)},{name:"_getMoatObject",fn:this._getMoatObject.bind(this)}];!function(e,t){try{var i=JSON.parse(t.get("player.settings.unitFetcherWfRes"));e.push({name:"_getInitialWfResponse",fn:function(){return i}})}catch(e){return}}(e,this.config),i.init({selector:this.config.get("parentSelector")||c.SELECTORS.BODY,sticky:{position:Qe({vertical:t,horizontal:n}),offsetX:a,offsetY:r},callbacks:e}),this._getCallbackArray().forEach(function(e){var t=e.name,e=e.fn;return i.on(t,e)})}},{key:"_getPlayerID",value:function(){return this.config.get("excoPlayerID")}},{key:"_getExternalScriptSrc",value:function(){return"//player.ex.co/player/".concat(this._getPlayerID())}},{key:"_getExternalPlayerAttributes",value:function(){return[{name:"programmatic",value:"true"}]}},{key:"_getScriptTagClassName",value:function(){return"exco-player"}},{key:"_externalPlayerOnLoadError",value:function(){var e;null!==(e=this.pixels)&&void 0!==e&&e.firePixel(this.pixels.PIXEL_TYPES.EXTERNAL_PLAYER_LOAD_FAILED)}},{key:"_fireExcoPlayerLoadedPixel",value:function(){var e;null!==(e=this.pixels)&&void 0!==e&&e.firePixel(this.pixels.PIXEL_TYPES.EXTERNAL_PLAYER_LOADED)}},{key:"_fireExcoPlayerInitPixel",value:function(){var e;null!==(e=this.pixels)&&void 0!==e&&e.firePixel(this.pixels.PIXEL_TYPES.EXTERNAL_PLAYER_INIT)}},{key:"_getOppNameMapping",value:function(){var e={};return Ze(e,me,"tb.tag-started"),Ze(e,De,"tb.ad-init"),Ze(e,Ce,"tb.ad-started"),Ze(e,_e,"tb.ad-impression"),Ze(e,Ie,"tb.ad-viewability"),Ze(e,be,"tb.ad-first-quartile"),Ze(e,Ee,"tb.ad-midpoint"),Ze(e,Te,"tb.ad-third-quartile"),Ze(e,Ae,"tb.ad-completed"),Ze(e,Se,"tb.ad-clicked"),Ze(e,we,"tb.completion"),e}},{key:"_getAdditionalEventHandlers",value:function(){return[{name:"player-load",fn:this._fireExcoPlayerLoadedPixel.bind(this)},{name:"player-init",fn:this._fireExcoPlayerInitPixel.bind(this)}]}},{key:"_getExternalPlayerType",value:function(){return c.EXTERNAL_PREBID_PLAYER.EXCO}}])&&et(e.prototype,t),i&&et(e,i),r}();function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=ct(i);return e=n?(e=ct(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==at(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function ft(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(i),!0).forEach(function(e){dt(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ut(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function dt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var pt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(r,Je);var e,t,i,n=lt(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.apply(this,arguments)}return e=r,(t=[{key:"_externalPlayerOnLoad",value:function(){var i=this,e=document.querySelector(this.config.get("parentSelector")||c.SELECTORS.BODY),t=this._getAdConfig(),n=this._getPositionConfiguration(),r=n.vertical,a=n.horizontal,s=n.verticalOffset,o=n.horizontalOffset,o={sticky:(dt(n={position:Qe({vertical:r,horizontal:a})},r,s),dt(n,a,o),n)};this.config.get("components.contentVideo.isActive")&&(o.content={});var n={getVastUrl:this._generateUrl.bind(this),getMoatConfig:function(e,t){return i._getMoatObject(ft(ft({},t),{},{url:e}))},wf:this.config.get("player.settings.unitFetcherWfRes")},l=new avTaboolaWrapper(e,t,o,n);this._getCallbackArray().forEach(function(e){var t=e.name,i=e.fn;l.on(t,function(e,t){i(function(e,t){var i;if("pb"!==(null==e||null===(i=e.tagInfo)||void 0===i?void 0:i.type))return t;e=e.tagInfo;return ft({prebid:{bidder:null==e?void 0:e.bidder,price:null==e?void 0:e.bidCpm}},t)}(e,t))})}),this._fireAniviewPlayerLoadedPixel(),l.run()}},{key:"_getAdConfig",value:function(){var e=this.config.get("aniview.custom5"),t=this.config.get("schain"),i=[];return e&&i.push("AV_CDIM5=".concat(e)),t&&i.push("AV_SCHAIN=".concat(t)),{ref1:i.join("&")}}},{key:"_fireAniviewPlayerLoadedPixel",value:function(){var e;null!==(e=this.pixels)&&void 0!==e&&e.firePixel(this.pixels.PIXEL_TYPES.EXTERNAL_PLAYER_LOADED)}},{key:"_externalPlayerOnLoadError",value:function(){var e;null!==(e=this.pixels)&&void 0!==e&&e.firePixel(this.pixels.PIXEL_TYPES.EXTERNAL_PLAYER_LOAD_FAILED)}},{key:"_getExternalPlayerType",value:function(){return c.EXTERNAL_PREBID_PLAYER.ANIVIEW}},{key:"_getExternalScriptSrc",value:function(){return"https://player.aniview.com/script/custom/taboola/wrapper/avTaboolaWrapper.js"}},{key:"_getOppNameMapping",value:function(){var e={};return dt(e,me,"TagParsed"),dt(e,De,"AdLoaded"),dt(e,Ce,"startAd"),dt(e,_e,"AdImpression"),dt(e,Ie,"AdViewableImpression"),dt(e,be,"AdVideoFirstQuartile"),dt(e,Ee,"AdVideoMidpoint"),dt(e,Te,"AdVideoThirdQuartile"),dt(e,Ae,"AdVideoComplete"),dt(e,Se,"AdClickThru"),dt(e,we,"AdComplete"),e}}])&&st(e.prototype,t),i&&st(e,i),r}();function ht(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var gt=i(0),yt=function(){function r(e){var t,i,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n={exco:rt,aniview:pt},(i="externalPlayerLoaders")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.config=e,this.id=this.config.redId,this.cmTagVendorsUrl="infra/cmTagVendors.js",this.cmTagMainUrl="infra/cmTag{{MAIN_FILE}}.js",this.cmTagCssUrl="assets/css/cmOsUnit.css",this._events=[],this._settings={},this._init()}var e,t,i;return e=r,(t=[{key:"_init",value:function(){this._getWindow(),this.win&&this.win.document&&(this._setConfig(),this._setCMTag(),this._setIframeData())}},{key:"_getWindow",value:function(){!this.config.isStayInIframe&&(1!=this.config.stayInIframe||this.config.unitType!==u.EXPANDABLE&&this.config.unitType!==u["300X600"])?this._getTopWindow():this.win=window}},{key:"_getTopWindow",value:function(){this.config.placementLevel=0;try{for(this.win=window;this.win.self!==this.win.top;)this.win=this.win.top,this.config.placementLevel++}catch(e){}}},{key:"_setConfig",value:function(){this._appendCMTagConfig(),this._initUrlCmParams(),this._appendReferrer(),this._appendPlacementElement(),this._appendGA()}},{key:"_appendCMTagConfig",value:function(){this.win.cmTagConfig&&this.win.cmTagConfig.abTest&&(this.config.pushedArr=this.config.pushedArr||[],this.config.pushedArr.push({abTest:this.win.cmTagConfig.abTest}),delete this.win.cmTagConfig.abTest),this._appendObject(this.win.cmTagConfig)}},{key:"_appendObject",value:function(e){S(e)&&(this.config=gt(this.config,e))}},{key:"_initUrlCmParams",value:function(){var e;this.urlCMParams=this._getUrlCmParamsFromUrl(this.win.location.href),window.TRC&&window.TRC.isAMP&&(e=this._getUrlCmParamsFromUrl(this.win.context.location.href),this.urlCMParams=gt(this.urlCMParams,e))}},{key:"_getUrlCmParamsFromUrl",value:function(e){var t={};return e.slice(e.indexOf("?")+1).split("&").filter(function(e){return 0===e.indexOf("cm_")}).forEach(function(e){e=e.slice(3).split("=");t[e[0]]=e[1]}),t}},{key:"_appendReferrer",value:function(){this.win.document.referrer&&this._appendObject({referrerUrl:encodeURIComponent(this.win.document.referrer)})}},{key:"_appendPlacementElement",value:function(){this.config.placementElement=0<this.config.placementLevel?this.win.frameElement:document.getElementById("_cm_videoUnit_placeHolder".concat(this.config.redId))}},{key:"_appendGA",value:function(){this.config.isGA=Math.floor(Math.random()*Number(this.config.gaRatio))+1===1}},{key:"_setCMTag",value:function(){this.win.cmTag=this.win.cmTag||{},this.win.cmTag.config=this.config}},{key:"_setIframeData",value:function(){var e={inIframe:this._inIframe(),iframe:this._getIframe()};e.inIframe&&(e.isFriendlyIframe=this._isFriendlyIframe()),e.isFriendlyIframe&&(e.inDFP=this._inDFP(e.iframe)),e.inDFP&&(e.dfpData=this._getDFPData(e.iframe)),this.config.iframeData=e}},{key:"_inIframe",value:function(){return self!==top}},{key:"_getIframe",value:function(){try{return window.frameElement||document.frameElement}catch(e){}}},{key:"_isFriendlyIframe",value:function(){try{return top.document.getElementsByName("iframe"),!0}catch(e){return!1}}},{key:"_inDFP",value:function(t){if(t)return[/^google/].some(function(e){return e.test(t.id)})}},{key:"_getDFPData",value:function(e){if(e){e={id:e.getAttribute("id"),width:+e.getAttribute("width"),height:+e.getAttribute("height")};return e["1x1"]=1==e.width&&1==e.height,e}}},{key:"_load",value:function(e){this.terminate||(this._stopSync(),this._setUnitPixels(e),this._loadUnit())}},{key:"_stopSync",value:function(){var e;this.cookieMatch&&(this.cookieMatch.stop(),e=this.cookieMatch.getCookieSyncParams(),b(this.config,"predictors.time.cookieSync",e))}},{key:"_setUnitPixels",value:function(e){this._setShouldFireUnitLoadPixels(),this._setUnitLoadedPixel(),this._setUnitLoadedWithFillPixel(e)}},{key:"_setShouldFireUnitLoadPixels",value:function(){var e,t,i=this.config.get("fireLoadUnitPixelsFactor")||0;this.shouldFireUnitLoadPixels=(e=0,t=99,parseInt(Math.random()*(t-e)+e)<i)}},{key:"_setUnitLoadedPixel",value:function(){this.shouldFireUnitLoadPixels?(-1===this.config.get("_abTest").indexOf("t120")&&(this._config.pushedArr=this._config.pushedArr||[],this._config.pushedArr.push({abTest:"t120"})),b(this._config,"".concat(this.pixels.PIXEL_TYPES.UNIT_LOADED,".isFire"),!0)):b(this._config,"".concat(this.pixels.PIXEL_TYPES.UNIT_LOADED,".isFire"),!1)}},{key:"_setUnitLoadedWithFillPixel",value:function(e){var t="".concat(this.pixels.PIXEL_TYPES.UNIT_LOADED_WITH_FILL,".isFire");e&&!1!==this.config.get(t)&&b(this._config,t,!0)}},{key:"_loadUnit",value:function(){this.terminate||this._isNextUpSetupFailed()||(this._setUnitUrl(),this._setUnitMainFile(),this._loadUnitCSSFile(),this._loadUnitJSFile())}},{key:"_setUnitUrl",value:function(){this.config.urlPrefix&&(this.config.urlPrefix=decodeURIComponent(this.config.urlPrefix)),this.unitUrl=this.config.urlPrefix||"".concat(this.config.unitsBaseUrl).concat(this.config.version,"/")}},{key:"_isNextUpSetupFailed",value:function(){var e=this.config.get("nextUp.selector");return this.config.get("nextUp.isActive")&&e&&!document.querySelector(e)}},{key:"_setUnitMainFile",value:function(){Object({NODE_ENV:"production"}).WEBPACK_SERVER;var e=this._isLaterVersionThan(this._getUrlPrefixVersion(),"13_0_0")?this.config.unitType:"Main";this.cmTagMainUrl=this.cmTagMainUrl.replace("{{MAIN_FILE}}",e)}},{key:"_isLaterVersionThan",value:function(e,t){e=this._stripVersionToSegments(e),t=this._stripVersionToSegments(t);for(var i=Math.min(e.length,t.length),n=0;n<i;n++){var r=e[n]-t[n];if(0!=r)return 0<r}return 0<e.length-t.length}},{key:"_stripVersionToSegments",value:function(e){return e.replace(/(\.0+)+$/,"").split("_")}},{key:"_getUrlPrefixVersion",value:function(){return this.unitUrl.match(/\d+_\d+[_\d+]*/)[0]}},{key:"_getResourceUrl",value:function(e){e="".concat(this.unitUrl).concat(e);return e=this.config.isForceBrotli?function(e,t,i){var n=2<arguments.length&&void 0!==i?i:"",i=-1<e.indexOf("?")?"&":"?";return"".concat(e).concat(i).concat(t,"=").concat(n)}(e,"tbl-br","force"):e}},{key:"_loadUnitJSFile",value:function(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.onload=this._onLoad.bind(this)||function(){},e.setAttribute("crossorigin","anonymous"),e.setAttribute("src",this._getResourceUrl(this.cmTagMainUrl)),this.win.document.getElementsByTagName("head")[0].appendChild(e)}},{key:"_onLoad",value:function(){var e=this;this.terminate||(this._config.player&&this.config.player&&(this._config.player=gt(this._config.player,this.config.player)),void 0!==this.config.get("isAdjacInFirstWF")&&b(this._config,"isAdjacInFirstWF",this.config.get("isAdjacInFirstWF")),this.config.get("isAdjacInFirstWF")&&"RECO_REEL_WIDGET"===this.config.get("unitType")&&this.config.get("midrollRecoReel")&&delete this._config.preroll,this._config.onlyAdxInQueue=this.config.get("onlyAdxInQueue")||!1,this.cmTagMainStarted=!0,P(function(){e.win.startCMTagMain(e._config,e)}))}},{key:"_loadUnitCSSFile",value:function(){var e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",this._getResourceUrl(this.cmTagCssUrl)),this.win.document.getElementsByTagName("head")[0].appendChild(e)}},{key:"on",value:function(e,t){this._events.push({name:e,cb:t})}},{key:"set",value:function(e,t){e&&"string"==typeof e&&t&&(this._settings[e]=t)}},{key:"start",value:function(){var e=this;setTimeout(function(){e.config.isLoadUnitOnWindowLoaded?e._startOnDomComplete():e._start()},250)}},{key:"_startOnDomComplete",value:function(){function e(){"complete"===document.readyState&&(document.removeEventListener("readystatechange",e),setTimeout(t._start.bind(t),0))}var t=this;document.addEventListener("readystatechange",e),e()}},{key:"_start",value:function(){var e=this;this._initUnit(),P(function(){e._checkDisabledAutoPlay(),P(function(){m(e.config.isWaitForStartEvent)?e._handleWaitForStartEvent():e._startUnit()},null)},null)}},{key:"_initUnit",value:function(){var e=this;this._enforceFitToSize(),this._setConfigObj(),this._appendCMUrlParams(),this._setFrameType(),this._setPresets(),this._appendCMUrlParams(),P(function(){e._createModelForUnit(),e._setAbTest(),e._initPixels(),e.pixels._firePageViewPixel()},null)}},{key:"_startUnit",value:function(){this._setCookieSync();var e=this.config.get("externalPlayerLoader"),e=this.externalPlayerLoaders[e];e?new e({config:this.config,pixels:this.pixels}):this._initUnitLoader()}},{key:"_checkDisabledAutoPlay",value:function(){var e,t,i=this;this.config.get("validateAutoplayOniOS.isActive")&&"iOS"===this.config.get("wurfl.os.name")&&(e=this.config.get("player.urls.blankLocation").replace(/{{(.+?)}}/g,function(e,t){return i.config.get(t)}),(t=document.createElement("video")).src=e,t.autoplay=!0,t.loop=!0,t.muted=!0,t.volume=0,t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.setAttribute("autoPlay",""),t.style.display="none",t.style.willChange="transform",document.body.append(t),void 0!==(t=t.play())&&t.then(function(e){}).catch(function(e){i._onVideoPlayError()}))}},{key:"_onVideoPlayError",value:function(){this.config.player.settings.iosAutoPlayDisabled=!0,document.dispatchEvent(new Event("ltIosAutoDisable")),this.pixels.firePixel(this.pixels.PIXEL_TYPES.DISABLED_AUTO_PLAY)}},{key:"_enforceFitToSize",value:function(){this.terminateCb=this._terminate.bind(this),this.config.isFitToSize&&(window.addEventListener("resize",this.terminateCb),window.addEventListener("orientationchange",this.terminateCb))}},{key:"_terminate",value:function(){var e=this;window.removeEventListener("resize",this.terminateCb),window.removeEventListener("orientationchange",this.terminateCb),this.cmTagMainStarted||P(function(){e.terminate=!0,e._stopUnitLoader(),e._stopSync()},null)}},{key:"_stopUnitLoader",value:function(){this.unitLoader&&this.unitLoader.terminate()}},{key:"_setConfigObj",value:function(){var e,t,i={};for(e in this.config)b(i,e,this.config[e]);this.config=i,this._appendFPPSettings(),t=this.config,(g=t).get=A}},{key:"_appendFPPSettings",value:function(){for(var e in this._appendAdvancedSettings(this._settings.additionalVideoConfiguration),this._appendAdvancedSettings(this._settings.advancedVideoConfiguration),this._settings)b(this.config,e,this._settings[e])}},{key:"_appendAdvancedSettings",value:function(e){if(e&&S(e))for(var t in e)this._settings[t]=e[t]}},{key:"_appendCMUrlParams",value:function(){for(var e in this.urlCMParams)b(this.config,e,this.urlCMParams[e])}},{key:"_initPixels",value:function(){this.pixels=new F(this.config),this._fireStartWithABTPixel()}},{key:"_fireStartWithABTPixel",value:function(){var e;window.cmTag.customDataForTest=window.cmTag.customDataForTest||{},window.cmTag.customDataForTest.startWithABT=!1,this.config.get("_abTest")&&(window.cmTag.customDataForTest.startWithABT=!0,e=window.performance.timeOrigin||"",e={debug:"pn:!sqg:!torgn:".concat(e,"!ts:").concat(Date.now()),mntl:this.config.get("preset.level")},this.pixels.firePixel(this.pixels.PIXEL_TYPES.START_WITH_ABT,e),b(this._config,"".concat(this.pixels.PIXEL_TYPES.START_WITH_ABT,".isFire"),!1))}},{key:"_createModelForUnit",value:function(){var e;this._config=(e=this.config,d({},e)),this._config.get=void 0}},{key:"_setAbTest",value:function(){var e,t;t=g.get("unitType"),-1<[u.FEED_MANAGER,u.INLINE_FEED,u.MSN_WIDGET,u.WIDGET_ITEM,u.MID_ARTICLE_SLIDER].indexOf(t)&&(t=y(),g._appendedAbTests=[{abTest:"ufm".concat(w(t)?c.UFM_AB_TEST_GROUPS[t]:"")}]),b(this.config,"_abTest",(e=this.config.get("pushedArr")||[],t=this.config.get("_appendedAbTests")||[],e.concat(t).map(function(e){if(e.hasOwnProperty("abTest"))return e.abTest}).filter(function(e){return void 0!==e}).sort(function(e,t){e=e.toUpperCase(),t=t.toUpperCase();return t<e?1:e<t?-1:0}).join("!")))}},{key:"_setFrameType",value:function(){b(this.config,"frameType",function(){if(void 0!==window.taboolaMobile)return c.FRAME_TYPES.IN_APP;if(window.TRC&&window.TRC.isAMP)return c.FRAME_TYPES.AMP;var e=g.get("iframeData");return e.inIframe?e.isFriendlyIframe?c.FRAME_TYPES.FRIENDLY_IFRAME:c.FRAME_TYPES.NON_FRIENDLY_IFRAME:c.FRAME_TYPES.PLAIN_PAGE}())}},{key:"_setPresets",value:function(){new ge(this.config).getPresets()}},{key:"_setCookieSync",value:function(){this._canDoCookieMatch()&&(this.cookieMatch=new ve(this.config),this.cookieMatch.sync())}},{key:"_canDoCookieMatch",value:function(){return this.config.get("cookieMatchActive")}},{key:"_initUnitLoader",value:function(){var e=this;this.unitLoader=new le(this.config),this.unitLoader.once("loadUnit",this._load.bind(this)),P(function(){e.unitLoader.load()},null)}},{key:"_handleWaitForStartEvent",value:function(){this._createStartEventCallback()}},{key:"_createStartEventCallback",value:function(){window.TRC=window.TRC||{},window.TRC.videoFunctions={},window.TRC.videoFunctions.startEvent=this._startEventCallback.bind(this)}},{key:"_startEventCallback",value:function(){window.TRC.videoFunctions.startEvent=function(){},this._config.isWaitForStartEvent=!1,this._startUnit()}}])&&ht(e.prototype,t),i&&ht(e,i),r}();function vt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var mt=i(0),_t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,window.TRC=window.TRC||{},this._initCMTag()}var e,i,n;return e=t,(i=[{key:"_initCMTag",value:function(){window.cmTag=window.cmTag||{},window.cmTag.set=this._set.bind(this),window.cmTag.push=this._push.bind(this),window.cmTag.setMacros=this._setMacros.bind(this),window.cmTag.setByCondition=this._setByCondition.bind(this)}},{key:"_set",value:function(){var e,t,i;arguments&&(e=arguments[0],t=arguments[1],(i=arguments[2])?this._setUnit(e,t,i):"string"==typeof e&&void 0!==t?this._setKeyVal(e,t):this._appendObject(e))}},{key:"_appendObject",value:function(e){S(e)&&(this.config=mt(this.config,e))}},{key:"_setUnit",value:function(e,t,i){this.config.units[e]=this.config.units[e]||{},this.config.units[e][t]=i}},{key:"_setKeyVal",value:function(e,t){this.config[e]=t}},{key:"_push",value:function(e,t){var i;e&&t&&(this.config.pushedArr=this.config.pushedArr||[],this.config.pushedArr.push((i=t,(t=e)in(e={})?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e)))}},{key:"_setMacros",value:function(e){this._appendObject(e);e=this._createUnit();return e.start(),e}},{key:"_createUnit",value:function(){return new yt(this.config)}},{key:"_setByCondition",value:function(e){e&&this.config.settingsByConditions.push(e)}}])&&vt(e.prototype,i),n&&vt(e,n),t}()},39:function(e,t,i){"use strict";i.r(t);var t=i(16),r=i.n(t),a=i(2);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._createCMTagFunctionality()}var t,i,n;return t=e,(i=[{key:"_createCMTagFunctionality",value:function(){this.cmTag=new a.a(r()())}}])&&s(t.prototype,i),n&&s(t,n),e}())}});}catch(ex){}]=n},w=function(e,t,n){l?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},C=function(e,t){t&&v(t.toString)&&h(e,"toString",t.toString.bind(t),!0)},S=Object.create||function(e,t){var n=function(){};n.prototype=e;var i=new n;return void 0!==t&&r(t).forEach((function(e){w(i,e,t[e])})),i},_=function(e,t){return!!Object.setPrototypeOf&&o((function(){var n=function t(n){var i=new e(n);return Object.setPrototypeOf(i,t.prototype),i};return Object.setPrototypeOf(n,e),n.prototype=S(e.prototype,{constructor:{value:n}}),t(n)}))},P=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),A=P.isFinite,k=Function.call.bind(String.prototype.indexOf),$=Function.apply.bind(Array.prototype.indexOf),T=Function.call.bind(Array.prototype.concat),L=Function.call.bind(String.prototype.slice),O=Function.call.bind(Array.prototype.push),V=Function.apply.bind(Array.prototype.push),N=Function.call.bind(Array.prototype.join),I=Function.call.bind(Array.prototype.shift),R=Math.max,D=Math.min,M=Math.floor,x=Math.abs,F=Math.exp,U=Math.log,G=Math.sqrt,B=Function.call.bind(Object.prototype.hasOwnProperty),H=function(){},j=P.Map,W=j&&j.prototype.delete,q=j&&j.prototype.get,Y=j&&j.prototype.has,z=j&&j.prototype.set,K=P.Symbol||{},Z=K.species||"@@species",J=Number.isNaN||function(e){return e!=e},X=Number.isFinite||function(e){return"number"==typeof e&&A(e)},Q=v(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t||J(t)?t:t<0?-1:1},ee=function(e){var t=Number(e);return t<-1||J(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(U(1+t)/(1+t-1))},te=function(e){return"[object Arguments]"===g(e)},ne=te(arguments)?te:function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==g(e)&&"[object Function]"===g(e.callee)},ie=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e},re=function(e){return"[object String]"===g(e)},ae=function(e){return"[object RegExp]"===g(e)},oe=function(e){return"function"==typeof P.Symbol&&"symbol"==typeof e},se=function(e,t,n){var i=e[t];h(e,t,n,!0),C(e[t],i)},le="function"==typeof K&&"function"==typeof K.for&&oe(K()),ce=oe(K.iterator)?K.iterator:"_es6-shim iterator_";P.Set&&"function"==typeof(new P.Set)["@@iterator"]&&(ce="@@iterator"),P.Reflect||h(P,"Reflect",{},!0);var de=P.Reflect,ue=String,pe="undefined"!=typeof document&&document?document.all:null,fe=null==pe?function(e){return null==e}:function(e){return null==e&&e!==pe},he={Call:function(e,n){var i=arguments.length>2?arguments[2]:[];if(!he.IsCallable(e))throw new TypeError(e+" is not a function");return t(e,n,i)},RequireObjectCoercible:function(e,t){if(fe(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return null!=e&&!0!==e&&!1!==e&&("function"==typeof e||"object"==typeof e||e===pe)},ToObject:function(e,t){return Object(he.RequireObjectCoercible(e,t))},IsCallable:v,IsConstructor:function(e){return he.IsCallable(e)},ToInt32:function(e){return he.ToNumber(e)>>0},ToUint32:function(e){return he.ToNumber(e)>>>0},ToNumber:function(e){if(le&&"[object Symbol]"===g(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=he.ToNumber(e);return J(t)?0:0!==t&&X(t)?(t>0?1:-1)*M(x(t)):t},ToLength:function(e){var t=he.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e==1/t:J(e)&&J(t)},SameValueZero:function(e,t){return e===t||J(e)&&J(t)},IsIterable:function(e){return he.TypeIsObject(e)&&(void 0!==e[ce]||ne(e))},GetIterator:function(t){if(ne(t))return new e(t,"value");var n=he.GetMethod(t,ce);if(!he.IsCallable(n))throw new TypeError("value is not an iterable");var i=he.Call(n,t);if(!he.TypeIsObject(i))throw new TypeError("bad iterator");return i},GetMethod:function(e,t){var n=he.ToObject(e)[t];if(!fe(n)){if(!he.IsCallable(n))throw new TypeError("Method not callable: "+t);return n}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=he.GetMethod(e,"return");if(void 0!==n){var i,r;try{i=he.Call(n,e)}catch(e){r=e}if(!t){if(r)throw r;if(!he.TypeIsObject(i))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!he.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=he.IteratorNext(e);return!he.IteratorComplete(t)&&t},Construct:function(e,t,n,i){var r=void 0===n?e:n;if(!i&&de.construct)return de.construct(e,t,r);var a=r.prototype;he.TypeIsObject(a)||(a=Object.prototype);var o=S(a),s=he.Call(e,o,t);return he.TypeIsObject(s)?s:o},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!he.TypeIsObject(n))throw new TypeError("Bad constructor");var i=n[Z];if(fe(i))return t;if(!he.IsConstructor(i))throw new TypeError("Bad @@species");return i},CreateHTML:function(e,t,n,i){var r=he.ToString(e),a="<"+t;""!==n&&(a+=" "+n+'="'+he.ToString(i).replace(/"/g,"&quot;")+'"');return a+">"+r+"</"+t+">"},IsRegExp:function(e){if(!he.TypeIsObject(e))return!1;var t=e[K.match];return void 0!==t?!!t:ae(e)},ToString:function(e){if(le&&"[object Symbol]"===g(e))throw new TypeError("Cannot convert a Symbol value to a number");return ue(e)}};if(l&&le){var me=function(e){if(oe(K[e]))return K[e];var t=K.for("Symbol."+e);return Object.defineProperty(K,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!oe(K.search)){var ge=me("search"),ve=String.prototype.search;h(RegExp.prototype,ge,(function(e){return he.Call(ve,e,[this])}));se(String.prototype,"search",(function(e){var t=he.RequireObjectCoercible(this);if(!fe(e)){var n=he.GetMethod(e,ge);if(void 0!==n)return he.Call(n,e,[t])}return he.Call(ve,t,[he.ToString(e)])}))}if(!oe(K.replace)){var be=me("replace"),ye=String.prototype.replace;h(RegExp.prototype,be,(function(e,t){return he.Call(ye,e,[this,t])}));se(String.prototype,"replace",(function(e,t){var n=he.RequireObjectCoercible(this);if(!fe(e)){var i=he.GetMethod(e,be);if(void 0!==i)return he.Call(i,e,[n,t])}return he.Call(ye,n,[he.ToString(e),t])}))}if(!oe(K.split)){var Ee=me("split"),we=String.prototype.split;h(RegExp.prototype,Ee,(function(e,t){return he.Call(we,e,[this,t])}));se(String.prototype,"split",(function(e,t){var n=he.RequireObjectCoercible(this);if(!fe(e)){var i=he.GetMethod(e,Ee);if(void 0!==i)return he.Call(i,e,[n,t])}return he.Call(we,n,[he.ToString(e),t])}))}var Ce=oe(K.match),Se=Ce&&function(){var e={};return e[K.match]=function(){return 42},42!=="a".match(e)}();if(!Ce||Se){var _e=me("match"),Pe=String.prototype.match;h(RegExp.prototype,_e,(function(e){return he.Call(Pe,e,[this])}));se(String.prototype,"match",(function(e){var t=he.RequireObjectCoercible(this);if(!fe(e)){var n=he.GetMethod(e,_e);if(void 0!==n)return he.Call(n,e,[t])}return he.Call(Pe,t,[he.ToString(e)])}))}}var Ae=function(e,t,n){C(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),l?d(Object.getOwnPropertyNames(e),(function(i){i in H||n[i]||y(e,i,t)})):d(Object.keys(e),(function(i){i in H||n[i]||(t[i]=e[i])})),t.prototype=e.prototype,E(e.prototype,"constructor",t)},ke=function(){return this},$e=function(e){l&&!B(e,Z)&&b(e,Z,ke)},Te=function(e,t){var n=t||function(){return this};h(e,ce,n),!e[ce]&&oe(ce)&&(e[ce]=n)},Le=function(e,t,n){if(function(e,t,n){l?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}(e,t,n),!he.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},Oe=function(e,t,n,i){if(!he.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var r=t.prototype;he.TypeIsObject(r)||(r=n);var a=S(r);for(var o in i)if(B(i,o)){var s=i[o];h(a,o,s,!0)}return a};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Ve=String.fromCodePoint;se(String,"fromCodePoint",(function(e){return he.Call(Ve,this,arguments)}))}var Ne={fromCodePoint:function(e){for(var t,n=[],i=0,r=arguments.length;i<r;i++){if(t=Number(arguments[i]),!he.SameValue(t,he.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?O(n,String.fromCharCode(t)):(t-=65536,O(n,String.fromCharCode(55296+(t>>10))),O(n,String.fromCharCode(t%1024+56320)))}return N(n,"")},raw:function(e){var t=he.ToObject(e,"bad template"),n=he.ToObject(t.raw,"bad raw value"),i=n.length,r=he.ToLength(i);if(r<=0)return"";for(var a,o,s,l,c=[],d=0;d<r&&(a=he.ToString(d),s=he.ToString(n[a]),O(c,s),!(d+1>=r));)o=d+1<arguments.length?arguments[d+1]:"",l=he.ToString(o),O(c,l),d+=1;return N(c,"")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&se(String,"raw",Ne.raw),m(String,Ne);var Ie=function e(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var i=e(t,n/2);return i+i},Re={repeat:function(e){var t=he.ToString(he.RequireObjectCoercible(this)),n=he.ToInteger(e);if(n<0||n>=Infinity)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Ie(t,n)},startsWith:function(e){var t=he.ToString(he.RequireObjectCoercible(this));if(he.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,i=he.ToString(e);arguments.length>1&&(n=arguments[1]);var r=R(he.ToInteger(n),0);return L(t,r,r+i.length)===i},endsWith:function(e){var t=he.ToString(he.RequireObjectCoercible(this));if(he.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,i=he.ToString(e),r=t.length;arguments.length>1&&(n=arguments[1]);var a=void 0===n?r:he.ToInteger(n),o=D(R(a,0),r);return L(t,o-i.length,o)===i},includes:function(e){if(he.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=he.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==k(this,n,t)},codePointAt:function(e){var t=he.ToString(he.RequireObjectCoercible(this)),n=he.ToInteger(e),i=t.length;if(n>=0&&n<i){var r=t.charCodeAt(n);if(r<55296||r>56319||n+1===i)return r;var a=t.charCodeAt(n+1);return a<56320||a>57343?r:1024*(r-55296)+(a-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&se(String.prototype,"includes",Re.includes),String.prototype.startsWith&&String.prototype.endsWith){var De=a((function(){return"/a/".startsWith(/a/)})),Me=o((function(){return!1==="abc".startsWith("a",1/0)}));De&&Me||(se(String.prototype,"startsWith",Re.startsWith),se(String.prototype,"endsWith",Re.endsWith))}if(le){var xe=o((function(){var e=/a/;return e[K.match]=!1,"/a/".startsWith(e)}));xe||se(String.prototype,"startsWith",Re.startsWith);var Fe=o((function(){var e=/a/;return e[K.match]=!1,"/a/".endsWith(e)}));Fe||se(String.prototype,"endsWith",Re.endsWith);var Ue=o((function(){var e=/a/;return e[K.match]=!1,"/a/".includes(e)}));Ue||se(String.prototype,"includes",Re.includes)}m(String.prototype,Re);var Ge=["\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒ","â€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028","\u2029\ufeff"].join(""),Be=new RegExp("(^["+Ge+"]+)|(["+Ge+"]+$)","g"),He=function(){return he.ToString(he.RequireObjectCoercible(this)).replace(Be,"")},je=["Â…","â€‹","ï¿¾"].join(""),We=new RegExp("["+je+"]","g"),qe=/^[-+]0x[0-9a-f]+$/i,Ye=je.trim().length!==je.length;h(String.prototype,"trim",He,Ye);var ze=function(e){return{value:e,done:0===arguments.length}},Ke=function(e){he.RequireObjectCoercible(e),this._s=he.ToString(e),this._i=0};Ke.prototype.next=function(){var e=this._s,t=this._i;if(void 0===e||t>=e.length)return this._s=void 0,ze();var n,i,r=e.charCodeAt(t);return r<55296||r>56319||t+1===e.length?i=1:i=(n=e.charCodeAt(t+1))<56320||n>57343?1:2,this._i=t+i,ze(e.substr(t,i))},Te(Ke.prototype),Te(String.prototype,(function(){return new Ke(this)}));var Ze={from:function(e){var t,i,r,a,o,s,l=this;if(arguments.length>1&&(t=arguments[1]),void 0===t)i=!1;else{if(!he.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2]),i=!0}if(void 0!==(ne(e)||he.GetMethod(e,ce))){o=he.IsConstructor(l)?Object(new l):[];var c,d,u=he.GetIterator(e);for(s=0;!1!==(c=he.IteratorStep(u));){d=c.value;try{i&&(d=void 0===r?t(d,s):n(t,r,d,s)),o[s]=d}catch(e){throw he.IteratorClose(u,!0),e}s+=1}a=s}else{var p,f=he.ToObject(e);for(a=he.ToLength(f.length),o=he.IsConstructor(l)?Object(new l(a)):new Array(a),s=0;s<a;++s)p=f[s],i&&(p=void 0===r?t(p,s):n(t,r,p,s)),Le(o,s,p)}return o.length=a,o},of:function(){for(var e=arguments.length,t=this,n=i(t)||!he.IsCallable(t)?new Array(e):he.Construct(t,[e]),r=0;r<e;++r)Le(n,r,arguments[r]);return n.length=e,n}};m(Array,Ze),$e(Array),e=function(e,t){this.i=0,this.array=e,this.kind=t},m(e.prototype,{next:function(){var t=this.i,n=this.array;if(!(this instanceof e))throw new TypeError("Not an ArrayIterator");if(void 0!==n&&t<he.ToLength(n.length)){var i,r=this.kind;return"key"===r?i=t:"value"===r?i=n[t]:"entry"===r&&(i=[t,n[t]]),this.i=t+1,ze(i)}return this.array=void 0,ze()}}),Te(e.prototype);var Je=Array.of===Ze.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}();Je||se(Array,"of",Ze.of);var Xe={copyWithin:function(e,t){var n,i=he.ToObject(this),r=he.ToLength(i.length),a=he.ToInteger(e),o=he.ToInteger(t),s=a<0?R(r+a,0):D(a,r),l=o<0?R(r+o,0):D(o,r);arguments.length>2&&(n=arguments[2]);var c=void 0===n?r:he.ToInteger(n),d=c<0?R(r+c,0):D(c,r),u=D(d-l,r-s),p=1;for(l<s&&s<l+u&&(p=-1,l+=u-1,s+=u-1);u>0;)l in i?i[s]=i[l]:delete i[s],l+=p,s+=p,u-=1;return i},fill:function(e){var t,n;arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]);var i=he.ToObject(this),r=he.ToLength(i.length);t=he.ToInteger(void 0===t?0:t);for(var a=(n=he.ToInteger(void 0===n?r:n))<0?r+n:n,o=t<0?R(r+t,0):D(t,r);o<r&&o<a;++o)i[o]=e;return i},find:function(e){var t=he.ToObject(this),i=he.ToLength(t.length);if(!he.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var r,a=arguments.length>1?arguments[1]:null,o=0;o<i;o++)if(r=t[o],a){if(n(e,a,r,o,t))return r}else if(e(r,o,t))return r},findIndex:function(e){var t=he.ToObject(this),i=he.ToLength(t.length);if(!he.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:null,a=0;a<i;a++)if(r){if(n(e,r,t[a],a,t))return a}else if(e(t[a],a,t))return a;return-1},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"entry")}};if(Array.prototype.keys&&!he.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!he.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ce]&&(m(Array.prototype,{values:Array.prototype[ce]}),oe(K.unscopables)&&(Array.prototype[K.unscopables].values=!0)),c&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Qe=Array.prototype.values;se(Array.prototype,"values",(function(){return he.Call(Qe,this,arguments)})),h(Array.prototype,ce,Array.prototype.values,!0)}m(Array.prototype,Xe),1/[!0].indexOf(!0,-0)<0&&h(Array.prototype,"indexOf",(function(e){var t=$(this,arguments);return 0===t&&1/t<0?0:t}),!0),Te(Array.prototype,(function(){return this.values()})),Object.getPrototypeOf&&Te(Object.getPrototypeOf([].values()));var et=o((function(){return 0===Array.from({length:-1}).length})),tt=function(){var e=Array.from([0].entries());return 1===e.length&&i(e[0])&&0===e[0][0]&&0===e[0][1]}();if(et&&tt||se(Array,"from",Ze.from),!o((function(){return Array.from([0],void 0)}))){var nt=Array.from;se(Array,"from",(function(e){return arguments.length>1&&void 0!==arguments[1]?he.Call(nt,this,arguments):n(nt,this,e)}))}var it=-(Math.pow(2,32)-1),rt=function(e,t){var i={length:it};return i[t?(i.length>>>0)-1:0]=!0,o((function(){return n(e,i,(function(){throw new RangeError("should not reach here")}),[]),!0}))};if(!rt(Array.prototype.forEach)){var at=Array.prototype.forEach;se(Array.prototype,"forEach",(function(e){return he.Call(at,this.length>=0?this:[],arguments)}))}if(!rt(Array.prototype.map)){var ot=Array.prototype.map;se(Array.prototype,"map",(function(e){return he.Call(ot,this.length>=0?this:[],arguments)}))}if(!rt(Array.prototype.filter)){var st=Array.prototype.filter;se(Array.prototype,"filter",(function(e){return he.Call(st,this.length>=0?this:[],arguments)}))}if(!rt(Array.prototype.some)){var lt=Array.prototype.some;se(Array.prototype,"some",(function(e){return he.Call(lt,this.length>=0?this:[],arguments)}))}if(!rt(Array.prototype.every)){var ct=Array.prototype.every;se(Array.prototype,"every",(function(e){return he.Call(ct,this.length>=0?this:[],arguments)}))}if(!rt(Array.prototype.reduce)){var dt=Array.prototype.reduce;se(Array.prototype,"reduce",(function(e){return he.Call(dt,this.length>=0?this:[],arguments)}))}if(!rt(Array.prototype.reduceRight,!0)){var ut=Array.prototype.reduceRight;se(Array.prototype,"reduceRight",(function(e){return he.Call(ut,this.length>=0?this:[],arguments)}))}var pt=8!==Number("0o10"),ft=2!==Number("0b10"),ht=f(je,(function(e){return 0===Number(e+0+e)}));if(pt||ft||ht){var mt=Number,gt=/^0b[01]+$/i,vt=/^0o[0-7]+$/i,bt=gt.test.bind(gt),yt=vt.test.bind(vt),Et=We.test.bind(We),wt=qe.test.bind(qe),Ct=function(){var e=function(t){var n;n=arguments.length>0?ie(t)?t:function(e,t){var n;if("function"==typeof e.valueOf&&(n=e.valueOf(),ie(n)))return n;if("function"==typeof e.toString&&(n=e.toString(),ie(n)))return n;throw new TypeError("No default value")}(t):0,"string"==typeof n&&(n=he.Call(He,n),bt(n)?n=parseInt(L(n,2),2):yt(n)?n=parseInt(L(n,2),8):(Et(n)||wt(n))&&(n=NaN));var i=this,r=o((function(){return mt.prototype.valueOf.call(i),!0}));return i instanceof e&&!r?new mt(n):mt(n)};return e}();Ae(mt,Ct,{}),m(Ct,{NaN:mt.NaN,MAX_VALUE:mt.MAX_VALUE,MIN_VALUE:mt.MIN_VALUE,NEGATIVE_INFINITY:mt.NEGATIVE_INFINITY,POSITIVE_INFINITY:mt.POSITIVE_INFINITY}),Number=Ct,E(P,"Number",Ct)}var St=Math.pow(2,53)-1;m(Number,{MAX_SAFE_INTEGER:St,MIN_SAFE_INTEGER:-St,EPSILON:2220446049250313e-31,parseInt:P.parseInt,parseFloat:P.parseFloat,isFinite:X,isInteger:function(e){return X(e)&&he.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&x(e)<=Number.MAX_SAFE_INTEGER},isNaN:J}),h(Number,"parseInt",P.parseInt,Number.parseInt!==P.parseInt),1===[,1].find((function(){return!0}))&&se(Array.prototype,"find",Xe.find),0!==[,1].findIndex((function(){return!0}))&&se(Array.prototype,"findIndex",Xe.findIndex);var _t=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Pt=function(e,t){l&&_t(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},At=function(){for(var e=Number(this),t=arguments.length,n=t-e,i=new Array(n<0?0:n),r=e;r<t;++r)i[r-e]=arguments[r];return i},kt=function(e){return function(t,n){return t[n]=e[n],t}},$t=function(e,t){var n,i=r(Object(t));return he.IsCallable(Object.getOwnPropertySymbols)&&(n=p(Object.getOwnPropertySymbols(Object(t)),_t(t))),u(T(i,n||[]),kt(t),e)},Tt={assign:function(e,t){var n=he.ToObject(e,"Cannot convert undefined or null to object");return u(he.Call(At,1,arguments),$t,n)},is:function(e,t){return he.SameValue(e,t)}},Lt=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}();if(Lt&&se(Object,"assign",Tt.assign),m(Object,Tt),l){var Ot={setPrototypeOf:function(e,t){var i,r=function(e,t){return function(e,t){if(!he.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!he.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)}(e,t),n(i,e,t),e};try{i=e.getOwnPropertyDescriptor(e.prototype,t).set,n(i,{},null)}catch(n){if(e.prototype!=={}[t])return;i=function(e){this[t]=e},r.polyfill=r(r({},null),e.prototype)instanceof e}return r}(Object,"__proto__")};m(Object,Ot)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var e=Object.create(null),t=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var i=t(n);return i===e?null:i},Object.setPrototypeOf=function(t,i){return n(t,null===i?e:i)},Object.setPrototypeOf.polyfill=!1}(),!!a((function(){return Object.keys("foo")}))){var Vt=Object.keys;se(Object,"keys",(function(e){return Vt(he.ToObject(e))})),r=Object.keys}if(a((function(){return Object.keys(/a/g)}))){var Nt=Object.keys;se(Object,"keys",(function(e){if(ae(e)){var t=[];for(var n in e)B(e,n)&&O(t,n);return t}return Nt(e)})),r=Object.keys}if(Object.getOwnPropertyNames&&!!a((function(){return Object.getOwnPropertyNames("foo")}))){var It="object"==typeof window?Object.getOwnPropertyNames(window):[],Rt=Object.getOwnPropertyNames;se(Object,"getOwnPropertyNames",(function(e){var t=he.ToObject(e);if("[object Window]"===g(t))try{return Rt(t)}catch(e){return T([],It)}return Rt(t)}))}if(Object.getOwnPropertyDescriptor&&!!a((function(){return Object.getOwnPropertyDescriptor("foo","bar")}))){var Dt=Object.getOwnPropertyDescriptor;se(Object,"getOwnPropertyDescriptor",(function(e,t){return Dt(he.ToObject(e),t)}))}if(Object.seal&&!!a((function(){return Object.seal("foo")}))){var Mt=Object.seal;se(Object,"seal",(function(e){return he.TypeIsObject(e)?Mt(e):e}))}if(Object.isSealed&&!!a((function(){return Object.isSealed("foo")}))){var xt=Object.isSealed;se(Object,"isSealed",(function(e){return!he.TypeIsObject(e)||xt(e)}))}if(Object.freeze&&!!a((function(){return Object.freeze("foo")}))){var Ft=Object.freeze;se(Object,"freeze",(function(e){return he.TypeIsObject(e)?Ft(e):e}))}if(Object.isFrozen&&!!a((function(){return Object.isFrozen("foo")}))){var Ut=Object.isFrozen;se(Object,"isFrozen",(function(e){return!he.TypeIsObject(e)||Ut(e)}))}if(Object.preventExtensions&&!!a((function(){return Object.preventExtensions("foo")}))){var Gt=Object.preventExtensions;se(Object,"preventExtensions",(function(e){return he.TypeIsObject(e)?Gt(e):e}))}if(Object.isExtensible&&!!a((function(){return Object.isExtensible("foo")}))){var Bt=Object.isExtensible;se(Object,"isExtensible",(function(e){return!!he.TypeIsObject(e)&&Bt(e)}))}if(Object.getPrototypeOf&&!!a((function(){return Object.getPrototypeOf("foo")}))){var Ht=Object.getPrototypeOf;se(Object,"getPrototypeOf",(function(e){return Ht(he.ToObject(e))}))}var jt=l&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&he.IsCallable(e.get)}();if(l&&!jt){b(RegExp.prototype,"flags",(function(){if(!he.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}))}var Wt=l&&o((function(){return"/a/i"===String(new RegExp(/a/g,"i"))})),qt=le&&l&&function(){var e=/./;return e[K.match]=!1,RegExp(e)===e}(),Yt=o((function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})})),zt=Yt&&o((function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})}));if(!Yt||!zt){var Kt=RegExp.prototype.toString;h(RegExp.prototype,"toString",(function(){var e=he.RequireObjectCoercible(this);return ae(e)?n(Kt,e):"/"+ue(e.source)+"/"+ue(e.flags)}),!0),C(RegExp.prototype.toString,Kt)}if(l&&(!Wt||qt)){var Zt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Jt=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},Xt=he.IsCallable(Jt.get)?Jt.get:function(){return this.source},Qt=RegExp,en=function e(t,n){var i=he.IsRegExp(t);return this instanceof e||!i||void 0!==n||t.constructor!==e?ae(t)?new e(he.Call(Xt,t),void 0===n?he.Call(Zt,t):n):(i&&(t.source,void 0===n&&t.flags),new Qt(t,n)):t};Ae(Qt,en,{$input:!0}),RegExp=en,E(P,"RegExp",en)}if(l){var tn={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};d(r(tn),(function(e){e in RegExp&&!(tn[e]in RegExp)&&b(RegExp,tn[e],(function(){return RegExp[e]}))}))}$e(RegExp);var nn=1/Number.EPSILON,rn=Math.pow(2,-23),an=Math.pow(2,127)*(2-rn),on=Math.pow(2,-126),sn=Math.E,ln=Math.LOG2E,cn=Math.LOG10E,dn=Number.prototype.clz;delete Number.prototype.clz;var un={acosh:function(e){var t=Number(e);if(J(t)||e<1)return NaN;if(1===t)return 0;if(t===1/0)return t;var n=1/(t*t);if(t<2)return ee(t-1+G(1-n)*t);var i=t/2;return ee(i+G(1-n)*i-1)+1/ln},asinh:function(e){var t=Number(e);if(0===t||!A(t))return t;var n=x(t),i=n*n,r=Q(t);return n<1?r*ee(n+i/(G(i+1)+1)):r*(ee(n/2+G(1+1/i)*n/2-1)+1/ln)},atanh:function(e){var t=Number(e);if(0===t)return t;if(-1===t)return-1/0;if(1===t)return 1/0;if(J(t)||t<-1||t>1)return NaN;var n=x(t);return Q(t)*ee(2*n/(1-n))/2},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,i=t<0;return i&&(t=-t),t===1/0?n=1/0:n=(t/((n=F(U(t)/3))*n)+2*n)/3,i?-n:n},clz32:function(e){var t=Number(e),n=he.ToUint32(t);return 0===n?32:dn?he.Call(dn,n):31-M(U(n+.5)*ln)},cosh:function(e){var t=Number(e);if(0===t)return 1;if(J(t))return NaN;if(!A(t))return 1/0;var n=F(x(t)-1);return(n+1/(n*sn*sn))*(sn/2)},expm1:function(e){var t=Number(e);if(t===-1/0)return-1;if(!A(t)||0===t)return t;if(x(t)>.5)return F(t)-1;for(var n=t,i=0,r=1;i+n!==i;)i+=n,n*=t/(r+=1);return i},hypot:function(e,t){for(var n=0,i=0,r=0;r<arguments.length;++r){var a=x(Number(arguments[r]));i<a?(n*=i/a*(i/a),n+=1,i=a):n+=a>0?a/i*(a/i):a}return i===1/0?1/0:i*G(n)},log2:function(e){return U(e)*ln},log10:function(e){return U(e)*cn},log1p:ee,sign:Q,sinh:function(e){var t=Number(e);if(!A(t)||0===t)return t;var n=x(t);if(n<1){var i=Math.expm1(n);return Q(t)*i*(1+1/(i+1))/2}var r=F(n-1);return Q(t)*(r-1/(r*sn*sn))*(sn/2)},tanh:function(e){var t=Number(e);return J(t)||0===t?t:t>=20?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(F(t)+F(-t))},trunc:function(e){var t=Number(e);return t<0?-M(-t):M(t)},imul:function(e,t){var n=he.ToUint32(e),i=he.ToUint32(t),r=65535&n,a=65535&i;return r*a+((n>>>16&65535)*a+r*(i>>>16&65535)<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-1/0||J(t))return t;var n=Q(t),i=x(t);if(i<on)return n*function(e){return e+nn-nn}(i/on/rn)*on*rn;var r=(1+rn/Number.EPSILON)*i,a=r-(r-i);return a>an||J(a)?n*(1/0):n*a}},pn=function(e,t,n){return x(1-e/t)/Number.EPSILON<(n||8)};m(Math,un),h(Math,"sinh",un.sinh,Math.sinh(710)===1/0),h(Math,"cosh",un.cosh,Math.cosh(710)===1/0),h(Math,"log1p",un.log1p,-1e-17!==Math.log1p(-1e-17)),h(Math,"asinh",un.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),h(Math,"asinh",un.asinh,Math.asinh(1e300)===1/0),h(Math,"atanh",un.atanh,0===Math.atanh(1e-300)),h(Math,"tanh",un.tanh,-2e-17!==Math.tanh(-2e-17)),h(Math,"acosh",un.acosh,Math.acosh(Number.MAX_VALUE)===1/0),h(Math,"acosh",un.acosh,!pn(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),h(Math,"cbrt",un.cbrt,!pn(Math.cbrt(1e-300),1e-100)),h(Math,"sinh",un.sinh,-2e-17!==Math.sinh(-2e-17));var fn=Math.expm1(10);h(Math,"expm1",un.expm1,fn>22025.465794806718||fn<22025.465794806718),h(Math,"hypot",un.hypot,Math.hypot(1/0,NaN)!==1/0);var hn=Math.round,mn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),gn=[nn+1,2*nn-1].every((function(e){return Math.round(e)===e}));h(Math,"round",(function(e){var t=M(e);return e-t<.5?t:-1===t?-0:t+1}),!mn||!gn),C(Math.round,hn);var vn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=un.imul,C(Math.imul,vn)),2!==Math.imul.length&&se(Math,"imul",(function(e,t){return he.Call(vn,Math,arguments)}));var bn=function(){var e=P.setTimeout;if("function"==typeof e||"object"==typeof e){he.IsPromise=function(e){return!!he.TypeIsObject(e)&&void 0!==e._promise};var t,i=function(e){if(!he.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this;if(t.resolve=void 0,t.reject=void 0,t.promise=new e((function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=n})),!he.IsCallable(t.resolve)||!he.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&he.IsCallable(window.postMessage)&&(t=function(){var e=[],t="zero-timeout-message";return window.addEventListener("message",(function(n){if(n.source===window&&n.data===t){if(n.stopPropagation(),0===e.length)return;I(e)()}}),!0),function(n){O(e,n),window.postMessage(t,"*")}});var r,a,o=he.IsCallable(P.setImmediate)?P.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:function(){var e=P.Promise,t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}}()||(he.IsCallable(t)?t():function(t){e(t,0)}),s=function(e){return e},l=function(e){throw e},c={},d=function(e,t,n){o((function(){u(e,t,n)}))},u=function(e,t,n){var i,r;if(t===c)return e(n);try{i=e(n),r=t.resolve}catch(e){i=e,r=t.reject}r(i)},p=function(e,t){var n=e._promise,i=n.reactionLength;if(i>0&&(d(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,a=0;r<i;r++,a+=3)d(n[a+0],n[a+2],t),e[a+0]=void 0,e[a+1]=void 0,e[a+2]=void 0;n.result=t,n.state=1,n.reactionLength=0},f=function(e,t){var n=e._promise,i=n.reactionLength;if(i>0&&(d(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,a=0;r<i;r++,a+=3)d(n[a+1],n[a+2],t),e[a+0]=void 0,e[a+1]=void 0,e[a+2]=void 0;n.result=t,n.state=2,n.reactionLength=0},h=function(e){var t=!1;return{resolve:function(n){var i;if(!t){if(t=!0,n===e)return f(e,new TypeError("Self resolution"));if(!he.TypeIsObject(n))return p(e,n);try{i=n.then}catch(t){return f(e,t)}return he.IsCallable(i)?void o((function(){v(e,n,i)})):p(e,n)}},reject:function(n){if(!t)return t=!0,f(e,n)}}},g=function(e,t,i,r){e===a?n(e,t,i,r,c):n(e,t,i,r)},v=function(e,t,n){var i=h(e),r=i.resolve,a=i.reject;try{g(n,t,r,a)}catch(e){a(e)}},b=function(){var e=function(t){if(!(this instanceof e))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!he.IsCallable(t))throw new TypeError("not a valid resolver");var n=Oe(this,e,r,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),i=h(n),a=i.reject;try{t(i.resolve,a)}catch(e){a(e)}return n};return e}();r=b.prototype;var y=function(e,t,n,i){var r=!1;return function(a){r||(r=!0,t[e]=a,0!=--i.count)||(0,n.resolve)(t)}};return m(b,{all:function(e){var t=this;if(!he.TypeIsObject(t))throw new TypeError("Promise is not object");var n,r,a=new i(t);try{return function(e,t,n){for(var i,r,a=e.iterator,o=[],s={count:1},l=0;;){try{if(!1===(i=he.IteratorStep(a))){e.done=!0;break}r=i.value}catch(t){throw e.done=!0,t}o[l]=void 0;var c=t.resolve(r),d=y(l,o,n,s);s.count+=1,g(c.then,c,d,n.reject),l+=1}return 0==--s.count&&(0,n.resolve)(o),n.promise}(r={iterator:n=he.GetIterator(e),done:!1},t,a)}catch(e){var o=e;if(r&&!r.done)try{he.IteratorClose(n,!0)}catch(e){o=e}return(0,a.reject)(o),a.promise}},race:function(e){var t=this;if(!he.TypeIsObject(t))throw new TypeError("Promise is not object");var n,r,a=new i(t);try{return function(e,t,n){for(var i,r,a,o=e.iterator;;){try{if(!1===(i=he.IteratorStep(o))){e.done=!0;break}r=i.value}catch(t){throw e.done=!0,t}a=t.resolve(r),g(a.then,a,n.resolve,n.reject)}return n.promise}(r={iterator:n=he.GetIterator(e),done:!1},t,a)}catch(e){var o=e;if(r&&!r.done)try{he.IteratorClose(n,!0)}catch(e){o=e}return(0,a.reject)(o),a.promise}},reject:function(e){if(!he.TypeIsObject(this))throw new TypeError("Bad promise constructor");var t=new i(this);return(0,t.reject)(e),t.promise},resolve:function(e){var t=this;if(!he.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(he.IsPromise(e)&&e.constructor===t)return e;var n=new i(t);return(0,n.resolve)(e),n.promise}}),m(r,{catch:function(e){return this.then(null,e)},then:function(e,t){var n=this;if(!he.IsPromise(n))throw new TypeError("not a promise");var r,a=he.SpeciesConstructor(n,b);r=arguments.length>2&&arguments[2]===c&&a===b?c:new i(a);var o,u=he.IsCallable(e)?e:s,p=he.IsCallable(t)?t:l,f=n._promise;if(0===f.state){if(0===f.reactionLength)f.fulfillReactionHandler0=u,f.rejectReactionHandler0=p,f.reactionCapability0=r;else{var h=3*(f.reactionLength-1);f[h+0]=u,f[h+1]=p,f[h+2]=r}f.reactionLength+=1}else if(1===f.state)o=f.result,d(u,r,o);else{if(2!==f.state)throw new TypeError("unexpected Promise state");o=f.result,d(p,r,o)}return r.promise}}),c=new i(b),a=r.then,b}}();if(P.Promise&&(delete P.Promise.accept,delete P.Promise.defer,delete P.Promise.prototype.chain),"function"==typeof bn){m(P,{Promise:bn});var yn=_(P.Promise,(function(e){return e.resolve(42).then((function(){}))instanceof e})),En=!a((function(){return P.Promise.reject(42).then(null,5).then(null,H)})),wn=a((function(){return P.Promise.call(3,H)})),Cn=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,H).then(null,H)}catch(e){return!0}return t===n}(P.Promise),Sn=l&&function(){var e=0,t=Object.defineProperty({},"then",{get:function(){e+=1}});return Promise.resolve(t),1===e}(),_n=function e(t){var n=new Promise(t);t(3,(function(){})),this.then=n.then,this.constructor=e};_n.prototype=Promise.prototype,_n.all=Promise.all;var Pn=o((function(){return!!_n.all([1,2])}));if(yn&&En&&wn&&!Cn&&Sn&&!Pn||(Promise=bn,se(P,"Promise",bn)),1!==Promise.all.length){var An=Promise.all;se(Promise,"all",(function(e){return he.Call(An,this,arguments)}))}if(1!==Promise.race.length){var kn=Promise.race;se(Promise,"race",(function(e){return he.Call(kn,this,arguments)}))}if(1!==Promise.resolve.length){var $n=Promise.resolve;se(Promise,"resolve",(function(e){return he.Call($n,this,arguments)}))}if(1!==Promise.reject.length){var Tn=Promise.reject;se(Promise,"reject",(function(e){return he.Call(Tn,this,arguments)}))}Pt(Promise,"all"),Pt(Promise,"race"),Pt(Promise,"resolve"),Pt(Promise,"reject"),$e(Promise)}var Ln=function(e){var t=r(u(e,(function(e,t){return e[t]=!0,e}),{}));return e.join(":")===t.join(":")},On=Ln(["z","a","bb"]),Vn=Ln(["z",1,"a","3",2]);if(l){var Nn=function(e,t){return t||On?fe(e)?"^"+he.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?Vn?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},In=function(){return Object.create?Object.create(null):{}},Rn=function(e,t,r){if(i(r)||re(r))d(r,(function(e){if(!he.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])}));else if(r instanceof e)n(e.prototype.forEach,r,(function(e,n){t.set(n,e)}));else{var a,o;if(!fe(r)){if(o=t.set,!he.IsCallable(o))throw new TypeError("bad map");a=he.GetIterator(r)}if(void 0!==a)for(;;){var s=he.IteratorStep(a);if(!1===s)break;var l=s.value;try{if(!he.TypeIsObject(l))throw new TypeError("Iterator value "+l+" is not an entry object");n(o,t,l[0],l[1])}catch(e){throw he.IteratorClose(a,!0),e}}}},Dn=function(e,t,r){if(i(r)||re(r))d(r,(function(e){t.add(e)}));else if(r instanceof e)n(e.prototype.forEach,r,(function(e){t.add(e)}));else{var a,o;if(!fe(r)){if(o=t.add,!he.IsCallable(o))throw new TypeError("bad set");a=he.GetIterator(r)}if(void 0!==a)for(;;){var s=he.IteratorStep(a);if(!1===s)break;var l=s.value;try{n(o,t,l)}catch(e){throw he.IteratorClose(a,!0),e}}}},Mn={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var i=function(e,t){if(!he.TypeIsObject(e)||!function(e){return!!e._es6map}(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+he.ToString(e))},r=function(e,t){i(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};r.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var e,t=this.i,n=this.kind,i=this.head;if(void 0===this.i)return ze();for(;t.isRemoved()&&t!==i;)t=t.prev;for(;t.next!==i;)if(!(t=t.next).isRemoved())return e="key"===n?t.key:"value"===n?t.value:[t.key,t.value],this.i=t,ze(e);return this.i=void 0,ze()}},Te(r.prototype);var a,o=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var n=Oe(this,e,a,{_es6map:!0,_head:null,_map:j?new j:null,_size:0,_storage:In()}),i=new t(null,null);return i.next=i.prev=i,n._head=i,arguments.length>0&&Rn(e,n,arguments[0]),n};return b(a=o.prototype,"size",(function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size})),m(a,{get:function(e){i(this,"get");var t,n=Nn(e,!0);if(null!==n)return(t=this._storage[n])?t.value:void 0;if(this._map)return(t=q.call(this._map,e))?t.value:void 0;for(var r=this._head,a=r;(a=a.next)!==r;)if(he.SameValueZero(a.key,e))return a.value},has:function(e){i(this,"has");var t=Nn(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return Y.call(this._map,e);for(var n=this._head,r=n;(r=r.next)!==n;)if(he.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){i(this,"set");var r,a=this._head,o=a,s=Nn(e,!0);if(null!==s){if(void 0!==this._storage[s])return this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),o=a.prev}else this._map&&(Y.call(this._map,e)?q.call(this._map,e).value=n:(r=new t(e,n),z.call(this._map,e,r),o=a.prev));for(;(o=o.next)!==a;)if(he.SameValueZero(o.key,e))return o.value=n,this;return r=r||new t(e,n),he.SameValue(-0,e)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){i(this,"delete");var n=this._head,r=n,a=Nn(t,!0);if(null!==a){if(void 0===this._storage[a])return!1;r=this._storage[a].prev,delete this._storage[a]}else if(this._map){if(!Y.call(this._map,t))return!1;r=q.call(this._map,t).prev,W.call(this._map,t)}for(;(r=r.next)!==n;)if(he.SameValueZero(r.key,t))return r.key=e,r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){i(this,"clear"),this._map=j?new j:null,this._size=0,this._storage=In();for(var t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=e,n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return i(this,"keys"),new r(this,"key")},values:function(){return i(this,"values"),new r(this,"value")},entries:function(){return i(this,"entries"),new r(this,"key+value")},forEach:function(e){i(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,r=this.entries(),a=r.next();!a.done;a=r.next())t?n(e,t,a.value[1],a.value[0],this):e(a.value[1],a.value[0],this)}}),Te(a,a.entries),o}(),Set:function(){var e,t=function(e,t){if(!he.TypeIsObject(e)||!function(e){return e._es6set&&void 0!==e._storage}(e))throw new TypeError("Set.prototype."+t+" called on incompatible receiver "+he.ToString(e))},i=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=Oe(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:In()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Dn(t,n,arguments[0]),n};e=i.prototype;var a=function(e){if(!e["[[SetData]]"]){var t=new Mn.Map;e["[[SetData]]"]=t,d(r(e._storage),(function(e){var n=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var n=t.charAt(0);return"$"===n?L(t,1):"n"===n?+L(t,1):"b"===n?"btrue"===t:+t}}(e);t.set(n,n)})),e["[[SetData]]"]=t}e._storage=null};b(i.prototype,"size",(function(){return t(this,"size"),this._storage?r(this._storage).length:(a(this),this["[[SetData]]"].size)})),m(i.prototype,{has:function(e){var n;return t(this,"has"),this._storage&&null!==(n=Nn(e))?!!this._storage[n]:(a(this),this["[[SetData]]"].has(e))},add:function(e){var n;return t(this,"add"),this._storage&&null!==(n=Nn(e))?(this._storage[n]=!0,this):(a(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){var n;if(t(this,"delete"),this._storage&&null!==(n=Nn(e))){var i=B(this._storage,n);return delete this._storage[n]&&i}return a(this),this["[[SetData]]"].delete(e)},clear:function(){t(this,"clear"),this._storage&&(this._storage=In()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return t(this,"values"),a(this),new o(this["[[SetData]]"].values())},entries:function(){return t(this,"entries"),a(this),new o(this["[[SetData]]"].entries())},forEach:function(e){t(this,"forEach");var i=arguments.length>1?arguments[1]:null,r=this;a(r),this["[[SetData]]"].forEach((function(t,a){i?n(e,i,a,a,r):e(a,a,r)}))}}),h(i.prototype,"keys",i.prototype.values,!0),Te(i.prototype,i.prototype.values);var o=function(e){this.it=e};return o.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},Te(o.prototype),i}()};if(P.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(P.Set=Mn.Set),P.Map||P.Set){o((function(){return 2===new Map([[1,2]]).get(1)}))||(P.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new j;return arguments.length>0&&Rn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,P.Map.prototype),t},P.Map.prototype=S(j.prototype),h(P.Map.prototype,"constructor",P.Map,!0),C(P.Map,j));var xn=new Map,Fn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);return e.set(-0,e),e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}(),Un=xn.set(1,2)===xn;Fn&&Un||se(Map.prototype,"set",(function(e,t){return n(z,this,0===e?0:e,t),this})),Fn||(m(Map.prototype,{get:function(e){return n(q,this,0===e?0:e)},has:function(e){return n(Y,this,0===e?0:e)}},!0),C(Map.prototype.get,q),C(Map.prototype.has,Y));var Gn=new Set,Bn=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&function(e){return e.delete(0),e.add(-0),!e.has(0)}(Gn),Hn=Gn.add(1)===Gn;if(!Bn||!Hn){var jn=Set.prototype.add;Set.prototype.add=function(e){return n(jn,this,0===e?0:e),this},C(Set.prototype.add,jn)}if(!Bn){var Wn=Set.prototype.has;Set.prototype.has=function(e){return n(Wn,this,0===e?0:e)},C(Set.prototype.has,Wn);var qn=Set.prototype.delete;Set.prototype.delete=function(e){return n(qn,this,0===e?0:e)},C(Set.prototype.delete,qn)}var Yn=_(P.Map,(function(e){var t=new e([]);return t.set(42,42),t instanceof e})),zn=Object.setPrototypeOf&&!Yn,Kn=function(){try{return!(P.Map()instanceof P.Map)}catch(e){return e instanceof TypeError}}();0===P.Map.length&&!zn&&Kn||(P.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new j;return arguments.length>0&&Rn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},P.Map.prototype=j.prototype,h(P.Map.prototype,"constructor",P.Map,!0),C(P.Map,j));var Zn=_(P.Set,(function(e){var t=new e([]);return t.add(42,42),t instanceof e})),Jn=Object.setPrototypeOf&&!Zn,Xn=function(){try{return!(P.Set()instanceof P.Set)}catch(e){return e instanceof TypeError}}();if(0!==P.Set.length||Jn||!Xn){var Qn=P.Set;P.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new Qn;return arguments.length>0&&Dn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},P.Set.prototype=Qn.prototype,h(P.Set.prototype,"constructor",P.Set,!0),C(P.Set,Qn)}var ei=new P.Map,ti=!o((function(){return ei.keys().next().done}));if(("function"!=typeof P.Map.prototype.clear||0!==(new P.Set).size||0!==ei.size||"function"!=typeof P.Map.prototype.keys||"function"!=typeof P.Set.prototype.keys||"function"!=typeof P.Map.prototype.forEach||"function"!=typeof P.Set.prototype.forEach||s(P.Map)||s(P.Set)||"function"!=typeof ei.keys().next||ti||!Yn)&&m(P,{Map:Mn.Map,Set:Mn.Set},!0),P.Set.prototype.keys!==P.Set.prototype.values&&h(P.Set.prototype,"keys",P.Set.prototype.values,!0),Te(Object.getPrototypeOf((new P.Map).keys())),Te(Object.getPrototypeOf((new P.Set).keys())),c&&"has"!==P.Set.prototype.has.name){var ni=P.Set.prototype.has;se(P.Set.prototype,"has",(function(e){return n(ni,this,e)}))}}m(P,Mn),$e(P.Map),$e(P.Set)}var ii=function(e){if(!he.TypeIsObject(e))throw new TypeError("target must be an object")},ri={apply:function(){return he.Call(he.Call,null,arguments)},construct:function(e,t){if(!he.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:e;if(!he.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return he.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(ii(e),l){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return ii(e),t in e}};Object.getOwnPropertyNames&&Object.assign(ri,{ownKeys:function(e){ii(e);var t=Object.getOwnPropertyNames(e);return he.IsCallable(Object.getOwnPropertySymbols)&&V(t,Object.getOwnPropertySymbols(e)),t}});var ai=function(e){return!a(e)};if(Object.preventExtensions&&Object.assign(ri,{isExtensible:function(e){return ii(e),Object.isExtensible(e)},preventExtensions:function(e){return ii(e),ai((function(){return Object.preventExtensions(e)}))}}),l){var oi=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e,t);if(!i){var r=Object.getPrototypeOf(e);if(null===r)return;return oi(r,t,n)}return"value"in i?i.value:i.get?he.Call(i.get,n):void 0},si=function(e,t,i,r){var a=Object.getOwnPropertyDescriptor(e,t);if(!a){var o=Object.getPrototypeOf(e);if(null!==o)return si(o,t,i,r);a={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in a?!!a.writable&&(!!he.TypeIsObject(r)&&(Object.getOwnPropertyDescriptor(r,t)?de.defineProperty(r,t,{value:i}):de.defineProperty(r,t,{value:i,writable:!0,enumerable:!0,configurable:!0}))):!!a.set&&(n(a.set,r,i),!0)};Object.assign(ri,{defineProperty:function(e,t,n){return ii(e),ai((function(){return Object.defineProperty(e,t,n)}))},getOwnPropertyDescriptor:function(e,t){return ii(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){return ii(e),oi(e,t,arguments.length>2?arguments[2]:e)},set:function(e,t,n){return ii(e),si(e,t,n,arguments.length>3?arguments[3]:e)}})}if(Object.getPrototypeOf){var li=Object.getPrototypeOf;ri.getPrototypeOf=function(e){return ii(e),li(e)}}if(Object.setPrototypeOf&&ri.getPrototypeOf){Object.assign(ri,{setPrototypeOf:function(e,t){if(ii(e),null!==t&&!he.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===de.getPrototypeOf(e)||!(de.isExtensible&&!de.isExtensible(e))&&!function(e,t){for(var n=t;n;){if(e===n)return!0;n=ri.getPrototypeOf(n)}return!1}(e,t)&&(Object.setPrototypeOf(e,t),!0)}})}Object.keys(ri).forEach((function(e){!function(e,t){he.IsCallable(P.Reflect[e])?o((function(){return P.Reflect[e](1),P.Reflect[e](NaN),P.Reflect[e](!0),!0}))&&se(P.Reflect,e,t):h(P.Reflect,e,t)}(e,ri[e])}));var ci=P.Reflect.getPrototypeOf;if(c&&ci&&"getPrototypeOf"!==ci.name&&se(P.Reflect,"getPrototypeOf",(function(e){return n(ci,P.Reflect,e)})),P.Reflect.setPrototypeOf&&o((function(){return P.Reflect.setPrototypeOf(1,{}),!0}))&&se(P.Reflect,"setPrototypeOf",ri.setPrototypeOf),P.Reflect.defineProperty&&(o((function(){var e=!P.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!P.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t}))||se(P.Reflect,"defineProperty",ri.defineProperty)),P.Reflect.construct&&(o((function(){var e=function(){};return P.Reflect.construct((function(){}),[],e)instanceof e}))||se(P.Reflect,"construct",ri.construct)),"Invalid Date"!==String(new Date(NaN))){var di=Date.prototype.toString;se(Date.prototype,"toString",(function(){var e=+this;return e!=e?"Invalid Date":he.Call(di,this)}))}var ui={anchor:function(e){return he.CreateHTML(this,"a","name",e)},big:function(){return he.CreateHTML(this,"big","","")},blink:function(){return he.CreateHTML(this,"blink","","")},bold:function(){return he.CreateHTML(this,"b","","")},fixed:function(){return he.CreateHTML(this,"tt","","")},fontcolor:function(e){return he.CreateHTML(this,"font","color",e)},fontsize:function(e){return he.CreateHTML(this,"font","size",e)},italics:function(){return he.CreateHTML(this,"i","","")},link:function(e){return he.CreateHTML(this,"a","href",e)},small:function(){return he.CreateHTML(this,"small","","")},strike:function(){return he.CreateHTML(this,"strike","","")},sub:function(){return he.CreateHTML(this,"sub","","")},sup:function(){return he.CreateHTML(this,"sup","","")}};d(Object.keys(ui),(function(e){var t=String.prototype[e],i=!1;if(he.IsCallable(t)){var r=n(t,"",' " '),a=T([],r.match(/"/g)).length;i=r!==r.toLowerCase()||a>2}else i=!0;i&&se(String.prototype,e,ui[e])}));var pi=function(){if(!le)return!1;var e="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(K()))return!0;if("[null]"!==e([K()]))return!0;var t={a:K()};return t[K()]=!0,"{}"!==e(t)}(),fi=o((function(){return!le||"{}"===JSON.stringify(Object(K()))&&"[{}]"===JSON.stringify([Object(K())])}));if(pi||!fi){var hi=JSON.stringify;se(JSON,"stringify",(function(e){if("symbol"!=typeof e){var t;arguments.length>1&&(t=arguments[1]);var r=[e];if(i(t))r.push(t);else{var a=he.IsCallable(t)?t:null;r.push((function(e,t){var i=a?n(a,this,e,t):t;if("symbol"!=typeof i)return oe(i)?kt({})(i):i}))}return arguments.length>2&&r.push(arguments[2]),hi.apply(this,r)}}))}return P})),function(e){"use strict";function t(e){return E(e)?(y(e.objectMaxDepth)&&(ei.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN),void(y(e.urlErrorParamsEnabled)&&O(e.urlErrorParamsEnabled)&&(ei.urlErrorParamsEnabled=e.urlErrorParamsEnabled))):ei}function n(e){return S(e)&&0<e}function i(e,t){return t=t||Error,function(){var n,i=arguments[0];for(n="["+(e?e+":":"")+i+"] http://errors.angularjs.org/1.8.2/"+(e?e+"/":"")+i,i=1;i<arguments.length;i++){var r;n=n+(1==i?"?":"&")+"p"+(i-1)+"=",n+=encodeURIComponent(r="function"==typeof(r=arguments[i])?r.toString().replace(/ \{[\s\S]*$/,""):void 0===r?"undefined":"string"!=typeof r?JSON.stringify(r):r)}return new t(n)}}function r(e){if(null==e||T(e))return!1;if(P(e)||C(e)||Jn&&e instanceof Jn)return!0;var t="length"in Object(e)&&e.length;return S(t)&&(0<=t&&t-1 in e||"function"==typeof e.item)}function a(e,t,n){var i,o;if(e)if(k(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(P(e)||r(e)){var s="object"!=typeof e;for(i=0,o=e.length;i<o;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else if(w(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)ni.call(e,i)&&t.call(n,e[i],i,e);return e}function o(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){return++pi}function c(e,t,n){for(var i=e.$$hashKey,r=0,a=t.length;r<a;++r){var o=t[r];if(E(o)||k(o))for(var s=Object.keys(o),l=0,d=s.length;l<d;l++){var u=s[l],p=o[u];n&&E(p)?_(p)?e[u]=new Date(p.valueOf()):$(p)?e[u]=new RegExp(p):p.nodeName?e[u]=p.cloneNode(!0):V(p)?e[u]=p.clone():"__proto__"!==u&&(E(e[u])||(e[u]=P(p)?[]:{}),c(e[u],[p],!0)):e[u]=p}}return i?e.$$hashKey=i:delete e.$$hashKey,e}function d(e){return c(e,ai.call(arguments,1),!1)}function u(e){return c(e,ai.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function f(e,t){return d(Object.create(e),t)}function h(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return k(e.toString)&&e.toString!==li}function b(e){return void 0===e}function y(e){return void 0!==e}function E(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!ci(e)}function C(e){return"string"==typeof e}function S(e){return"number"==typeof e}function _(e){return"[object Date]"===li.call(e)}function P(e){return Array.isArray(e)||e instanceof Array}function A(e){switch(li.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function k(e){return"function"==typeof e}function $(e){return"[object RegExp]"===li.call(e)}function T(e){return e&&e.window===e}function L(e){return e&&e.$evalAsync&&e.$watch}function O(e){return"boolean"==typeof e}function V(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function N(e){return ii(e.nodeName||e[0]&&e[0].nodeName)}function I(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function R(e,t,i){function r(e,t,n){if(0>--n)return"...";var i,r=t.$$hashKey;if(P(e)){i=0;for(var a=e.length;i<a;i++)t.push(o(e[i],n))}else if(w(e))for(i in e)t[i]=o(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=o(e[i],n));else for(i in e)ni.call(e,i)&&(t[i]=o(e[i],n));return r?t.$$hashKey=r:delete t.$$hashKey,t}function o(e,t){if(!E(e))return e;if(-1!==(n=s.indexOf(e)))return l[n];if(T(e)||L(e))throw di("cpws");var n=!1,i=function(e){switch(li.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(o(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0])).lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(k(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=P(e)?[]:Object.create(ci(e)),n=!0),s.push(e),l.push(i),n?r(e,i,t):i}var s=[],l=[];if(i=n(i)?i:NaN,t){if(function(e){return e&&S(e.length)&&hi.test(li.call(e))}(t)||"[object ArrayBuffer]"===li.call(t))throw di("cpta");if(e===t)throw di("cpi");return P(t)?t.length=0:a(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),s.push(e),l.push(t),r(e,t,i)}return o(e,i)}function D(e,t){return e===t||e!=e&&t!=t}function M(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,i=typeof e;if(i===typeof t&&"object"===i){if(!P(e)){if(_(e))return!!_(t)&&D(e.getTime(),t.getTime());if($(e))return!!$(t)&&e.toString()===t.toString();if(L(e)||L(t)||T(e)||T(t)||P(t)||_(t)||$(t))return!1;for(n in i=se(),e)if("$"!==n.charAt(0)&&!k(e[n])){if(!M(e[n],t[n]))return!1;i[n]=!0}for(n in t)if(!(n in i)&&"$"!==n.charAt(0)&&y(t[n])&&!k(t[n]))return!1;return!0}if(!P(t))return!1;if((i=e.length)===t.length){for(n=0;n<i;n++)if(!M(e[n],t[n]))return!1;return!0}}return!1}function x(e,t,n){return e.concat(ai.call(t,n))}function F(e,t){var n=2<arguments.length?ai.call(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,x(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function U(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:T(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":L(n)&&(i="$SCOPE"),i}function G(e,t){if(!b(e))return S(t)||(t=t?2:null),JSON.stringify(e,U,t)}function B(e){return C(e)?JSON.parse(e):e}function H(e,t){e=e.replace(yi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return fi(n)?t:n}function j(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function W(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return j(e,n*((t=H(t,i))-i))}function q(e){e=Jn(e).clone().empty();var t=Jn("<div></div>").append(e).html();try{return e[0].nodeType===_i?ii(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+ii(t)}))}catch(e){return ii(t)}}function Y(e){try{return decodeURIComponent(e)}catch(e){}}function z(e){var t={};return a((e||"").split("&"),(function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(i=e.substring(0,n),r=e.substring(n+1)),y(i=Y(i))&&(r=!y(r)||Y(r),ni.call(t,i)?P(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))})),t}function K(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function J(t,n){var i,r,o={};a(Ei,(function(e){e+="app",!i&&t.hasAttribute&&t.hasAttribute(e)&&(i=t,r=t.getAttribute(e))})),a(Ei,(function(e){var n;e+="app",!i&&(n=t.querySelector("["+e.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(e))})),i&&(wi?(o.strictDi=null!==function(e,t){var n,i,r=Ei.length;for(i=0;i<r;++i)if(n=Ei[i]+t,C(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),n(i,r?[r]:[],o)):e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function X(t,n,i){E(i)||(i={}),i=d({strictDi:!1},i);var r=function(){if((t=Jn(t)).injector()){var r=t[0]===e.document?"document":q(t);throw di("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),(r=Ge(n,i.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply((function(){t.data("$injector",i),n(t)(e)}))}]),r},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name)?r():(e.name=e.name.replace(s,""),ui.resumeBootstrap=function(e){return a(e,(function(e){n.push(e)})),r()},void(k(ui.resumeDeferredBootstrap)&&ui.resumeDeferredBootstrap()))}function Q(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ee(e){if(!(e=ui.element(e).injector()))throw di("test");return e.get("$$testability")}function te(e,t){return t=t||"_",e.replace(Ci,(function(e,n){return(n?t:"")+e.toLowerCase()}))}function ne(){me.legacyXHTMLReplacement=!0}function ie(e,t,n){if(!e)throw di("areq",t||"?",n||"required");return e}function re(e,t,n){return n&&P(e)&&(e=e[e.length-1]),ie(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ae(e,t){if("hasOwnProperty"===e)throw di("badname",t)}function oe(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=Jn(ai.call(e,0,r))),t.push(n));return t||e}function se(){return Object.create(null)}function le(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!v(e)||P(e)||_(e)?G(e):e.toString()}return e}function ce(e,t){if(P(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(E(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function de(e,t){var i=[];return n(t)&&(e=ui.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(E(t=U(e,t))){if(0<=i.indexOf(t))return"...";i.push(t)}return t}))}function ue(e,t){return t.toUpperCase()}function pe(e){return e.replace($i,ue)}function fe(e){return 1===(e=e.nodeType)||!e||9===e}function he(t,n){var i,r,o,s,l=n.createDocumentFragment(),c=[];if(Ni.test(t)){if(i=l.appendChild(n.createElement("div")),r=(Ii.exec(t)||["",""])[1].toLowerCase(),o=me.legacyXHTMLReplacement?t.replace(Ri,"<$1></$2>"):t,10>Zn)for(r=xi[r]||xi._default,i.innerHTML=r[1]+o+r[2],s=r[0];s--;)i=i.firstChild;else{for(s=(r=Di[r]||[]).length;-1<--s;)i.appendChild(e.document.createElement(r[s])),i=i.firstChild;i.innerHTML=o}c=x(c,i.childNodes),(i=l.firstChild).textContent=""}else c.push(n.createTextNode(t));return l.textContent="",l.innerHTML="",a(c,(function(e){l.appendChild(e)})),l}function me(t){if(t instanceof me)return t;var n,i;if(C(t)&&(t=mi(t),n=!0),!(this instanceof me)){if(n&&"<"!==t.charAt(0))throw Oi("nosel");return new me(t)}n?(n=e.document,ke(this,t=(i=Vi.exec(t))?[n.createElement(i[1])]:(i=he(t,n))?i.childNodes:[])):k(t)?Ne(t):ke(this,t)}function ge(e){return e.cloneNode(!0)}function ve(e,t){!t&&fe(e)&&Jn.cleanData([e]),e.querySelectorAll&&Jn.cleanData(e.querySelectorAll("*"))}function be(e){for(var t in e)return!1;return!0}function ye(e){var t,n=e.ng339,i=(t=n&&Ai[n])&&t.events;(t=t&&t.data)&&!be(t)||i&&!be(i)||(delete Ai[n],e.ng339=void 0)}function Ee(e,t,n,i){if(y(i))throw Oi("offargs");var r=(i=Ce(e))&&i.events,o=i&&i.handle;if(o){if(t){var s=function(t){var i=r[t];y(n)&&I(i||[],n),y(n)&&i&&0<i.length||(e.removeEventListener(t,o),delete r[t])};a(t.split(" "),(function(e){s(e),Li[e]&&s(Li[e])}))}else for(t in r)"$destroy"!==t&&e.removeEventListener(t,o),delete r[t];ye(e)}}function we(e,t){var n=e.ng339;(n=n&&Ai[n])&&(t?delete n.data[t]:n.data={},ye(e))}function Ce(e,t){var n=(n=e.ng339)&&Ai[n];return t&&!n&&(e.ng339=n=++ki,n=Ai[n]={events:{},data:{},handle:void 0}),n}function Se(e,t,n){if(fe(e)){var i,r=y(n),a=!r&&t&&!E(t),o=!t;if(e=(e=Ce(e,!a))&&e.data,r)e[pe(t)]=n;else{if(o)return e;if(a)return e&&e[pe(t)];for(i in t)e[pe(i)]=t[i]}}}function _e(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Pe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;a(t.split(" "),(function(e){e=mi(e),i=i.replace(" "+e+" "," ")})),i!==n&&e.setAttribute("class",mi(i))}}function Ae(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;a(t.split(" "),(function(e){e=mi(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")})),i!==n&&e.setAttribute("class",mi(i))}}function ke(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function $e(e,t){return Te(e,"$"+(t||"ngController")+"Controller")}function Te(e,t,n){for(9===e.nodeType&&(e=e.documentElement),t=P(t)?t:[t];e;){for(var i=0,r=t.length;i<r;i++)if(y(n=Jn.data(e,t[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Le(e){for(ve(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Oe(e,t){t||ve(e);var n=e.parentNode;n&&n.removeChild(e)}function Ve(t,n){"complete"===(n=n||e).document.readyState?n.setTimeout(t):Jn(n).on("load",t)}function Ne(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function Ie(e,t){var n=Hi[t.toLowerCase()];return n&&ji[N(e)]&&n}function Re(e,t,n){n.call(e,t)}function De(e,t,n){var i=t.relatedTarget;i&&(i===e||Gi.call(e,i))||n.call(e,t)}function Me(){this.$get=function(){return d(me,{hasClass:function(e,t){return e.attr&&(e=e[0]),_e(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ae(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)}})}}function xe(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):n="function"===(n=typeof e)||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e}function Fe(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function Ue(e){return(e=Function.prototype.toString.call(e).replace(Qi,"")).match(Ki)||e.match(Zi)}function Ge(e,t){function n(e){return function(t,n){return E(t)?void a(t,s(e)):e(t,n)}}function i(e,t){if(ae(e,"service"),(k(t)||P(t))&&(t=h.instantiate(t)),!t.$get)throw er("pget",e);return f[e+"Provider"]=t}function r(e,t){return function(){var n=y.invoke(t,this);if(b(n))throw er("undef",e);return n}}function o(e,t,n){return i(e,{$get:!1!==n?r(e,t):t})}function l(e){ie(b(e)||P(e),"modulesToLoad","not an array");var t,n=[];return a(e,(function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=h.get(i[0]);r[i[1]].apply(r,i[2])}}if(!p.get(e)){p.set(e,!0);try{C(e)?(t=Qn(e),y.modules[e]=t,n=n.concat(l(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):k(e)||P(e)?n.push(h.invoke(e)):re(e,"module")}catch(t){throw P(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),er("modulerr",e,t.stack||t.message||t)}}})),n}function c(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw er("cdep",t+" <- "+u.join(" <- "));return e[t]}try{return u.unshift(t),e[t]=d,e[t]=n(t,i),e[t]}catch(n){throw e[t]===d&&delete e[t],n}finally{u.shift()}}function r(e,n,r){for(var a=[],o=0,s=(e=Ge.$$annotate(e,t,r)).length;o<s;o++){var l=e[o];if("string"!=typeof l)throw er("itkn",l);a.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return a}return{invoke:function(e,t,n,i){if("string"==typeof n&&(i=n,n=null),n=r(e,n,i),P(e)&&(e=e[e.length-1]),i=e,Zn||"function"!=typeof i)i=!1;else{var a=i.$$ngIsClass;O(a)||(a=i.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(i))),i=a}return i?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=P(e)?e[e.length-1]:e;return(e=r(e,t,n)).unshift(null),new(Function.prototype.bind.apply(i,e))},get:i,annotate:Ge.$$annotate,has:function(t){return f.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},u=[],p=new Yi,f={$provide:{provider:n(i),factory:n(o),service:n((function(e,t){return o(e,["$injector",function(e){return e.instantiate(t)}])})),value:n((function(e,t){return o(e,g(t),!1)})),constant:n((function(e,t){ae(e,"constant"),f[e]=t,m[e]=t})),decorator:function(e,t){var n=h.get(e+"Provider"),i=n.$get;n.$get=function(){var e=y.invoke(i,n);return y.invoke(t,null,{$delegate:e})}}}},h=f.$injector=c(f,(function(e,t){throw ui.isString(t)&&u.push(t),er("unpr",u.join(" <- "))})),m={},v=c(m,(function(e,t){var n=h.get(e+"Provider",t);return y.invoke(n.$get,n,void 0,e)})),y=v;f.$injectorProvider={$get:g(v)},y.modules=h.modules=se();var w=l(e);return(y=v.get("$injector")).strictDi=t,a(w,(function(e){e&&y.invoke(e)})),y.loadNewModules=function(e){a(l(e),(function(e){e&&y.invoke(e)}))},y}function Be(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var n;e?(e.scrollIntoView(),k(n=a.yOffset)?n=n():V(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):S(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))):t.scrollTo(0,0)}function a(e){var t;(e=C(e)?e:S(e)?e.toString():n.hash())?(t=o.getElementById(e))||(t=function(e){var t=null;return Array.prototype.some.call(e,(function(e){if("a"===N(e))return t=e,!0})),t}(o.getElementsByName(e)))?r(t):"top"===e&&r(null):r(null)}var o=t.document;return e&&i.$watch((function(){return n.hash()}),(function(e,t){e===t&&""===e||Ve((function(){i.$evalAsync(a)}))})),a}]}function He(e,t){return e||t?e?t?(P(e)&&(e=e.join(" ")),P(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function je(e){return E(e)?e:{}}function We(e,t,n,i,r){function o(){C=null,l()}function s(){M(v=b(v=S())?null:v,A)&&(v=A),y=A=v}function l(){var e=y;s(),E===c.url()&&e===v||(E=c.url(),y=v,a(_,(function(e){e(c.url(),v)})))}var c=this,d=e.location,u=e.history,p=e.setTimeout,f=e.clearTimeout,m={},g=r(n);c.isMock=!1,c.$$completeOutstandingRequest=g.completeTask,c.$$incOutstandingRequestCount=g.incTaskCount,c.notifyWhenNoOutstandingRequests=g.notifyWhenNoPendingTasks;var v,y,E=d.href,w=t.find("base"),C=null,S=i.history?function(){try{return u.state}catch(e){}}:h;s(),c.url=function(t,n,r){if(b(r)&&(r=null),d!==e.location&&(d=e.location),u!==e.history&&(u=e.history),t){var a=y===r;if(t=rn(t).href,E===t&&(!i.history||a))return c;var o=E&&Ct(E)===Ct(t);return E=t,y=r,!i.history||o&&a?(o||(C=t),n?d.replace(t):o?(n=d,a=(r=t).indexOf("#"),r=-1===a?"":r.substr(a),n.hash=r):d.href=t,d.href!==t&&(C=t)):(u[n?"replaceState":"pushState"](r,"",t),s()),C&&(C=t),c}return(C||d.href).replace(/#$/,"")},c.state=function(){return v};var _=[],P=!1,A=null;c.onUrlChange=function(t){return P||(i.history&&Jn(e).on("popstate",o),Jn(e).on("hashchange",o),P=!0),_.push(t),t},c.$$applicationDestroyed=function(){Jn(e).off("hashchange popstate",o)},c.$$checkUrlChange=l,c.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(e,t,n){var i;return t=t||0,n=n||g.DEFAULT_TASK_TYPE,g.incTaskCount(n),i=p((function(){delete m[i],g.completeTask(e,n)}),t),m[i]=n,i},c.defer.cancel=function(e){if(m.hasOwnProperty(e)){var t=m[e];return delete m[e],f(e),g.completeTask(h,t),!0}return!1}}function qe(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,i,r){return new We(e,i,t,n,r)}]}function Ye(){this.$get=function(){function e(e,n){function r(e){e!==p&&(f?f===e&&(f=e.n):f=e,a(e.n,e.p),a(e,p),(p=e).n=null)}function a(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var o=0,s=d({},n,{id:e}),l=se(),c=n&&n.capacity||Number.MAX_VALUE,u=se(),p=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(c<Number.MAX_VALUE)r(u[e]||(u[e]={key:e}));return e in l||o++,l[e]=t,o>c&&this.remove(f.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t===p&&(p=t.p),t===f&&(f=t.n),a(t.n,t.p),delete u[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=se(),o=0,u=se(),p=f=null},destroy:function(){u=s=l=null,delete t[e]},info:function(){return d({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,(function(t,n){e[n]=t.info()})),e},e.get=function(e){return t[e]},e}}function ze(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ke(t,n){function i(e,t,n){var i=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,r=se();return a(e,(function(e,a){if((e=e.trim())in w)r[a]=w[e];else{var o=e.match(i);if(!o)throw lr("iscp",t,a,e,n?"controller bindings definition":"isolate scope definition");r[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a},o[4]&&(w[e]=r[a])}})),r}function r(e){var t=e.require||e.controller&&e.name;return!P(t)&&E(t)&&a(t,(function(e,n){var i=e.match(p);e.substring(i[0].length)||(t[n]=i[0]+n)})),t}var o={},l=/^\s*directive:\s*([\w-]+)\s+(.*)$/,c=/(([\w-]+)(?::([^;]+))?;?)/,u=function(e){var t,n={};for(e=e.split(","),t=0;t<e.length;t++)n[e[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),p=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/,w=se();this.directive=function e(n,i){return ie(n,"name"),ae(n,"directive"),C(n)?(function(e){var t=e.charAt(0);if(!t||t!==ii(t))throw lr("baddir",e);if(e!==e.trim())throw lr("baddir",e)}(n),ie(i,"directiveFactory"),o.hasOwnProperty(n)||(o[n]=[],t.factory(n+"Directive",["$injector","$exceptionHandler",function(e,t){var i=[];return a(o[n],(function(a,o){try{var s=e.invoke(a);k(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||n,s.require=r(s);var l=s,c=s.restrict;if(c&&(!C(c)||!/[EACM]/.test(c)))throw lr("badrestrict",c,n);l.restrict=c||"EA",s.$$moduleName=a.$$moduleName,i.push(s)}catch(e){t(e)}})),i}])),o[n].push(i)):a(n,s(e)),this},this.component=function e(t,n){function i(e){function t(t){return k(t)||P(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:et(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return a(n,(function(e,t){"$"===t.charAt(0)&&(o[t]=e)})),o}if(!C(t))return a(t,s(F(this,e))),this;var r=n.controller||function(){};return a(n,(function(e,t){"$"===t.charAt(0)&&(i[t]=e,k(r)&&(r[t]=e))})),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationTrustedUrlList=function(e){return y(e)?(n.aHrefSanitizationTrustedUrlList(e),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return y(e)?(n.imgSrcSanitizationTrustedUrlList(e),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var S=!0;this.debugInfoEnabled=function(e){return y(e)?(S=e,this):S};var _=!1;this.strictComponentBindingsEnabled=function(e){return y(e)?(_=e,this):_};var $=10;this.onChangesTtl=function(e){return arguments.length?($=e,this):$};var T=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(T=e,this):T};var V=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(V=e,this):V};var R=se();this.addPropertySecurityContext=function(e,t,n){var i=e.toLowerCase()+"|"+t.toLowerCase();if(i in R&&R[i]!==n)throw lr("ctxoverride",e,t,R[i],n);return R[i]=n,this},function(){function e(e,t){a(t,(function(t){R[t.toLowerCase()]=e}))}e(xr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(xr.CSS,["*|style"]),e(xr.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" ")),e(xr.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" ")),e(xr.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" "))}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,r,s,g,y,w,x,U){function G(){try{if(! --Le)throw Pe=void 0,lr("infchng",$);w.$apply((function(){for(var e=0,t=Pe.length;e<t;++e)try{Pe[e]()}catch(e){r(e)}Pe=void 0}))}finally{Le++}}function B(e,t){if(!e)return e;if(!C(e))throw lr("srcset",t,e.toString());for(var n="",i=mi(e),r=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,a=(r=/\s/.test(i)?r:/(,)/,i=i.split(r),r=Math.floor(i.length/2),0);a<r;a++){var o=2*a;n=(n=n+x.getTrustedMediaUrl(mi(i[o])))+" "+mi(i[o+1])}return i=mi(i[2*a]).split(/\s/),n+=x.getTrustedMediaUrl(mi(i[0])),2===i.length&&(n+=" "+mi(i[1])),n}function H(e,t){if(t){var n,i,r,a=Object.keys(t);for(n=0,i=a.length;n<i;n++)this[r=a[n]]=t[r]}else this.$attr={};this.$$element=e}function j(e,t){try{e.addClass(t)}catch(e){}}function W(e,t,n,i,r){e instanceof Jn||(e=Jn(e));var a=Y(e,t,e,n,i,r);W.$$addScopeClass(e);var o=null;return function(t,n,i){if(!e)throw lr("multilink");ie(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new());var s=(i=i||{}).parentBoundTranscludeFn,l=i.transcludeControllers;if(i=i.futureParentElement,s&&s.$$boundTransclude&&(s=s.$$boundTransclude),o||(o=(i=i&&i[0])&&"foreignobject"!==N(i)&&li.call(i).match(/SVG/)?"svg":"html"),i="html"!==o?Jn(me(o,Jn("<div></div>").append(e).html())):n?Bi.clone.call(e):e,l)for(var c in l)i.data("$"+c+"Controller",l[c].instance);return W.$$addScopeInfo(i,t),n&&n(i,t),a&&a(t,i,i,s),n||(e=a=null),i}}function Y(e,t,n,i,r,a){for(var o,s,l,c,d,u=[],p=P(e)||e instanceof Jn,f=0;f<e.length;f++)o=new H,11===Zn&&z(e,f,p),(a=(s=Z(e[f],[],o,0===f?i:void 0,r)).length?ne(s,e[f],o,t,n,null,[],[],a):null)&&a.scope&&W.$$addScopeClass(o.$$element),o=a&&a.terminal||!(l=e[f].childNodes)||!l.length?null:Y(l,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:t),(a||o)&&(u.push(f,a,o),c=!0,d=d||a),a=null;return c?function(e,n,i,r){var a,o,s,l,c,p;if(d)for(p=Array(n.length),l=0;l<u.length;l+=3)p[a=u[l]]=n[a];else p=n;for(l=0,c=u.length;l<c;)o=p[u[l++]],n=u[l++],a=u[l++],n?(n.scope?(s=e.$new(),W.$$addScopeInfo(Jn(o),s)):s=e,n(a,s,o,i,n.transcludeOnThisElement?K(e,n.transclude,r):!n.templateOnThisElement&&r?r:!r&&t?K(e,t):null)):a&&a(e,o.childNodes,void 0,r)}:null}function z(e,t,n){var i,r=e[t],a=r.parentNode;if(r.nodeType===_i)for(;(i=a?r.nextSibling:e[t+1])&&i.nodeType===_i;)r.nodeValue+=i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}function K(e,t,n){function i(i,r,a,o,s){return i||((i=e.$new(!1,s)).$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}var r,a=i.$$slots=se();for(r in t.$$slots)a[r]=t.$$slots[r]?K(e,t.$$slots[r],n):null;return i}function Z(e,t,n,i,a){var o,s=n.$attr;switch(e.nodeType){case 1:le(t,Je(o=N(e)),"E",i,a);for(var l,d,u,p,f,h=e.attributes,m=0,v=h&&h.length;m<v;m++){var b,y=!1,S=!1,_=!1,P=!1,A=!1;d=(l=h[m]).name,p=l.value,(f=(u=Je(d.toLowerCase())).match(Re))?(_="Attr"===f[1],P="Prop"===f[1],A="On"===f[1],d=d.replace(dr,"").toLowerCase().substr(4+f[1].length).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))):(b=u.match(De))&&ce(b[1])&&(y=d,S=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),P||A?(n[u]=p,s[u]=l.name,P?be(e,t,u,d):t.push(Hn(g,w,r,u,d,!1))):(s[u=Je(d.toLowerCase())]=d,!_&&n.hasOwnProperty(u)||(n[u]=p,Ie(e,u)&&(n[u]=!0)),ye(e,t,p,u,_),le(t,u,"A",i,a,y,S))}if("input"===o&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Te)break;if(E(s=e.className)&&(s=s.animVal),C(s)&&""!==s)for(;e=c.exec(s);)le(t,u=Je(e[2]),"C",i,a)&&(n[u]=mi(e[3])),s=s.substr(e.index+e[0].length);break;case _i:he(t,e.nodeValue);break;case 8:if(!$e)break;J(e,t,n,i,a)}return t.sort(pe),t}function J(e,t,n,i,r){try{var a=l.exec(e.nodeValue);if(a){var o=Je(a[1]);le(t,o,"M",i,r)&&(n[o]=mi(a[2]))}}catch(e){}}function X(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw lr("uterdir",t,n);1===e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(0<r);else i.push(e);return Jn(i)}function Q(e,t,n){return function(i,r,a,o,s){return r=X(r[0],t,n),e(i,r,a,o,s)}}function ee(e,t,n,i,r,a){var o;return e?W(t,n,i,r,a):function(){return o||(o=W(t,n,i,r,a),t=n=a=null),o.apply(this,arguments)}}function ne(t,n,i,o,s,l,c,u,p){function f(e,t,n,i){e&&(n&&(e=Q(e,n,i)),e.require=m.require,e.directiveName=g,(A===m||m.$$isolateScope)&&(e=we(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=Q(t,n,i)),t.require=m.require,t.directiveName=g,(A===m||m.$$isolateScope)&&(t=we(t,{isolateScope:!0})),u.push(t))}function h(e,t,o,s,l){var p,f,h,m,g,v,y,w;for(p in n===o?(s=i,w=i.$$element):s=new H(w=Jn(o),i),g=t,A?m=t.$new(!0):S&&(g=t.$parent),l&&(y=function(e,t,n,i){var r;if(L(e)||(i=n,n=t,t=e,e=void 0),I&&(r=v),n||(n=I?w.parent():w),!i)return l(e,t,r,n,T);var a=l.$$slots[i];if(a)return a(e,t,r,n,T);if(b(a))throw lr("noslot",i,q(w))},y.$$boundTransclude=l,y.isSlotFilled=function(e){return!!l.$$slots[e]}),_&&(v=ae(w,s,y,_,m,t,A)),A&&(W.$$addScopeInfo(w,m,!0,!($&&($===A||$===A.$$originalDirective))),W.$$addScopeClass(w,!0),m.$$isolateBindings=A.$$isolateBindings,(f=_e(t,s,m,m.$$isolateBindings,A)).removeWatches&&m.$on("$destroy",f.removeWatches)),v){f=_[p],h=v[p];var C=f.$$bindings.bindToController;h.instance=h(),w.data("$"+f.name+"Controller",h.instance),h.bindingInfo=_e(g,s,h.instance,C,f)}for(a(_,(function(e,t){var n=e.require;e.bindToController&&!P(n)&&E(n)&&d(v[t].instance,re(t,n,w,v))})),a(v,(function(e){var t=e.instance;if(k(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){r(e)}if(k(t.$onInit))try{t.$onInit()}catch(e){r(e)}k(t.$doCheck)&&(g.$watch((function(){t.$doCheck()})),t.$doCheck()),k(t.$onDestroy)&&g.$on("$destroy",(function(){t.$onDestroy()}))})),p=0,f=c.length;p<f;p++)Ce(h=c[p],h.isolateScope?m:t,w,s,h.require&&re(h.directiveName,h.require,w,v),y);var T=t;for(A&&(A.template||null===A.templateUrl)&&(T=m),e&&e(T,o.childNodes,void 0,l),p=u.length-1;0<=p;p--)Ce(h=u[p],h.isolateScope?m:t,w,s,h.require&&re(h.directiveName,h.require,w,v),y);a(v,(function(e){k((e=e.instance).$postLink)&&e.$postLink()}))}p=p||{};for(var m,g,v,y,w,C=-Number.MAX_VALUE,S=p.newScopeDirective,_=p.controllerDirectives,A=p.newIsolateScopeDirective,$=p.templateDirective,T=p.nonTlbTranscludeDirective,O=!1,V=!1,I=p.hasElementTranscludeDirective,R=i.$$element=Jn(n),D=o,M=!1,x=!1,U=0,G=t.length;U<G;U++){var B=(m=t[U]).$$start,j=m.$$end;if(B&&(R=X(n,B,j)),v=void 0,C>m.priority)break;if((w=m.scope)&&(m.templateUrl||(E(w)?(fe("new/isolated scope",A||S,m,R),A=m):fe("new/isolated scope",A,m,R)),S=S||m),g=m.name,!M&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(w=U+1;M=t[w++];)if(M.transclude&&!M.$$tlb||M.replace&&(M.templateUrl||M.template)){x=!0;break}M=!0}if(!m.templateUrl&&m.controller&&(_=_||se(),fe("'"+g+"' controller",_[g],m,R),_[g]=m),w=m.transclude)if(O=!0,m.$$tlb||(fe("transclusion",T,m,R),T=m),"element"===w)I=!0,C=m.priority,v=R,R=i.$$element=Jn(W.$$createComment(g,i[g])),n=R[0],Ee(s,ai.call(v,0),n),D=ee(x,v,o,C,l&&l.name,{nonTlbTranscludeDirective:T});else{var Y=se();if(E(w)){v=e.document.createDocumentFragment();var z=se(),K=se();for(var J in a(w,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,z[e]=t,Y[t]=null,K[t]=n})),a(R.contents(),(function(t){var n=z[Je(N(t))];n?(K[n]=!0,Y[n]=Y[n]||e.document.createDocumentFragment(),Y[n].appendChild(t)):v.appendChild(t)})),a(K,(function(e,t){if(!e)throw lr("reqslot",t)})),Y)Y[J]&&(D=Jn(Y[J].childNodes),Y[J]=ee(x,D,o));v=Jn(v.childNodes)}else v=Jn(ge(n)).contents();R.empty(),(D=ee(x,v,o,void 0,void 0,{needsNewScope:m.$$isolateScope||m.$$newScope})).$$slots=Y}if(m.template)if(V=!0,fe("template",$,m,R),$=m,w=k(m.template)?m.template(R,i):m.template,w=Ne(w),m.replace){if(l=m,v=Ni.test(w)?Qe(me(m.templateNamespace,mi(w))):[],n=v[0],1!==v.length||1!==n.nodeType)throw lr("tplrt",g,"");Ee(s,R,n),w=Z(n,[],G={$attr:{}});var te=t.splice(U+1,t.length-(U+1));(A||S)&&oe(w,A,S),t=t.concat(w).concat(te),de(i,G),G=t.length}else R.html(w);if(m.templateUrl)V=!0,fe("template",$,m,R),$=m,m.replace&&(l=m),h=ue(t.splice(U,t.length-U),R,i,s,O&&D,c,u,{controllerDirectives:_,newScopeDirective:S!==m&&S,newIsolateScopeDirective:A,templateDirective:$,nonTlbTranscludeDirective:T}),G=t.length;else if(m.compile)try{y=m.compile(R,i,D);var ne=m.$$originalDirective||m;k(y)?f(null,F(ne,y),B,j):y&&f(F(ne,y.pre),F(ne,y.post),B,j)}catch(e){r(e,q(R))}m.terminal&&(h.terminal=!0,C=Math.max(C,m.priority))}return h.scope=S&&!0===S.scope,h.transcludeOnThisElement=O,h.templateOnThisElement=V,h.transclude=D,p.hasElementTranscludeDirective=I,h}function re(e,t,n,i){var r;if(C(t)){var o=t.match(p);t=t.substring(o[0].length);var s=o[1]||o[3];o="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[t])&&r.instance,!r){var l="$"+t+"Controller";r="^^"===s&&n[0]&&9===n[0].nodeType?null:s?n.inheritedData(l):n.data(l)}if(!r&&!o)throw lr("ctreq",t,e)}else if(P(t))for(r=[],s=0,o=t.length;s<o;s++)r[s]=re(e,t[s],n,i);else E(t)&&(r={},a(t,(function(t,a){r[a]=re(e,t,n,i)})));return r||null}function ae(e,t,n,i,r,a,o){var s,l=se();for(s in i){var c=i[s],d={$scope:c===o||c.$$isolateScope?r:a,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"===u&&(u=t[c.name]),d=y(u,d,!0,c.controllerAs),l[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return l}function oe(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=f(e[i],{$$isolateScope:t,$$newScope:n})}function le(e,n,r,a,s,l,c){if(n===s)return null;var d=null;if(o.hasOwnProperty(n))for(var u=0,p=(s=t.get(n+"Directive")).length;u<p;u++)if(n=s[u],(b(a)||a>n.priority)&&-1!==n.restrict.indexOf(r)){if(l&&(n=f(n,{$$start:l,$$end:c})),!n.$$bindings){var h=d=n,m=n.name,g={isolateScope:null,bindToController:null};if(E(h.scope)&&(!0===h.bindToController?(g.bindToController=i(h.scope,m,!0),g.isolateScope={}):g.isolateScope=i(h.scope,m,!1)),E(h.bindToController)&&(g.bindToController=i(h.bindToController,m,!0)),g.bindToController&&!h.controller)throw lr("noctrl",m);E((d=d.$$bindings=g).isolateScope)&&(n.$$isolateBindings=d.isolateScope)}e.push(n),d=n}return d}function ce(e){if(o.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;i<r;i++)if((e=n[i]).multiElement)return!0;return!1}function de(e,t){var n=t.$attr,i=e.$attr;a(e,(function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i=i.length?i+("style"===r?";":" ")+t[r]:t[r]),e.$set(r,i,!0,n[r]))})),a(t,(function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))}))}function ue(e,t,n,i,o,l,c,d){var u,p,h=[],m=t[0],g=e.shift(),v=f(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),b=k(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),s(b).then((function(r){var s,f;if(r=Ne(r),g.replace){if(r=Ni.test(r)?Qe(me(y,mi(r))):[],s=r[0],1!==r.length||1!==s.nodeType)throw lr("tplrt",g.name,b);r={$attr:{}},Ee(i,t,s);var w=Z(s,[],r);E(g.scope)&&oe(w,!0),e=w.concat(e),de(n,r)}else s=m,t.html(r);for(e.unshift(v),u=ne(e,s,n,o,t,g,l,c,d),a(i,(function(e,n){e===s&&(i[n]=t[0])})),p=Y(t[0].childNodes,o);h.length;){r=h.shift(),f=h.shift();var C=h.shift(),S=h.shift();w=t[0];if(!r.$$destroyed){if(f!==m){var _=f.className;d.hasElementTranscludeDirective&&g.replace||(w=ge(s)),Ee(C,Jn(f),w),j(Jn(w),_)}f=u.transcludeOnThisElement?K(r,u.transclude,S):S,u(p,r,w,i,f)}}h=null})).catch((function(e){A(e)&&r(e)})),function(e,t,n,i,r){e=r,t.$$destroyed||(h?h.push(t,n,i,e):(u.transcludeOnThisElement&&(e=K(t,u.transclude,r)),u(p,t,n,i,e)))}}function pe(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function fe(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw lr("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,q(i))}function he(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=!!(e=e.parent()).length;return t&&W.$$addBindingClass(e),function(e,n){var r=n.parent();t||W.$$addBindingClass(r),W.$$addBindingInfo(r,i.expressions),e.$watch(i,(function(e){n[0].nodeValue=e}))}}})}function me(t,n){switch(t=ii(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ve(e){return B(x.valueOf(e),"ng-prop-srcset")}function be(e,t,n,i){if(v.test(i))throw lr("nodomevents");var r=function(e,t){var n=t.toLowerCase();return R[e+"|"+n]||R["*|"+n]}(e=N(e),i),a=m;"srcset"!==i||"img"!==e&&"source"!==e?r&&(a=x.getTrusted.bind(x,r)):a=ve,t.push({priority:100,compile:function(e,t){var r=g(t[n]),o=g(t[n],(function(e){return x.valueOf(e)}));return{pre:function(e,t){function n(){var n=r(e);t[0][i]=a(n)}n(),e.$watch(o,n)}}}})}function ye(e,t,i,r,a){var o=N(e),s=function(e,t){return"srcdoc"===t?x.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?x.RESOURCE_URL:x.MEDIA_URL:"xlinkHref"===t?"image"===e?x.MEDIA_URL:"a"===e?x.URL:x.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?x.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:x.URL}(o,r),l=u[r]||a,c=n(i,!a,s,l);if(c){if("multiple"===r&&"select"===o)throw lr("selmulti",q(e));if(v.test(r))throw lr("nodomevents");t.push({priority:100,compile:function(){return{pre:function(e,t,a){t=a.$$observers||(a.$$observers=se());var o=a[r];o!==i&&(c=o&&n(o,!0,s,l),i=o),c&&(a[r]=c(e),(t[r]||(t[r]=[])).$$inter=!0,(a.$$observers&&a.$$observers[r].$$scope||e).$watch(c,(function(e,t){"class"===r&&e!==t?a.$updateClass(e,t):a.$set(r,e)})))}}}})}}function Ee(t,n,i){var r,a,o=n[0],s=n.length,l=o.parentNode;if(t)for(r=0,a=t.length;r<a;r++)if(t[r]===o){t[r++]=i,a=r+s-1;for(var c=t.length;r<c;r++,a++)a<c?t[r]=t[a]:delete t[r];t.length-=s-1,t.context===o&&(t.context=i);break}for(l&&l.replaceChild(i,o),t=e.document.createDocumentFragment(),r=0;r<s;r++)t.appendChild(n[r]);for(Jn.hasData(o)&&(Jn.data(i,Jn.data(o)),Jn(o).off("$destroy")),Jn.cleanData(t.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function we(e,t){return d((function(){return e.apply(null,arguments)}),e,t)}function Ce(e,t,n,i,a,o){try{e(t,n,i,a,o)}catch(e){r(e,q(n))}}function Se(e,t){if(_)throw lr("missingattr",e,t)}function _e(e,t,i,r,o){function s(t,n,r){k(i.$onChanges)&&!D(n,r)&&(Pe||(e.$$postDigest(G),Pe=[]),c||(c={},Pe.push(l)),c[t]&&(r=c[t].previousValue),c[t]=new Ze(r,n))}function l(){i.$onChanges(c),c=void 0}var c,d=[],u={};return a(r,(function(r,a){var l,c,p,f,m=r.attrName,v=r.optional;switch(r.mode){case"@":v||ni.call(t,m)||(Se(m,o.name),i[a]=t[m]=void 0),v=t.$observe(m,(function(e){(C(e)||O(e))&&(s(a,e,i[a]),i[a]=e)})),t.$$observers[m].$$scope=e,C(l=t[m])?i[a]=n(l)(e):O(l)&&(i[a]=l),u[a]=new Ze(cr,i[a]),d.push(v);break;case"=":if(!ni.call(t,m)){if(v)break;Se(m,o.name),t[m]=void 0}if(v&&!t[m])break;c=g(t[m]),f=c.literal?M:D,p=c.assign||function(){throw l=i[a]=c(e),lr("nonassign",t[m],m,o.name)},l=i[a]=c(e),v=function(t){return f(t,i[a])||(f(t,l)?p(e,t=i[a]):i[a]=t),l=t},v.$stateful=!0,v=r.collection?e.$watchCollection(t[m],v):e.$watch(g(t[m],v),null,c.literal),d.push(v);break;case"<":if(!ni.call(t,m)){if(v)break;Se(m,o.name),t[m]=void 0}if(v&&!t[m])break;var b=(c=g(t[m])).literal,y=i[a]=c(e);u[a]=new Ze(cr,i[a]),v=e[r.collection?"$watchCollection":"$watch"](c,(function(e,t){if(t===e){if(t===y||b&&M(t,y))return;t=y}s(a,e,t),i[a]=e})),d.push(v);break;case"&":if(v||ni.call(t,m)||Se(m,o.name),(c=t.hasOwnProperty(m)?g(t[m]):h)===h&&v)break;i[a]=function(t){return c(e,t)}}})),{initialChanges:u,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var Pe,Ae=/^\w/,ke=e.document.createElement("div"),$e=T,Te=V,Le=$;H.prototype={$normalize:Je,$addClass:function(e){e&&0<e.length&&U.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&U.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Xe(e,t);n&&n.length&&U.addClass(this.$$element,n),(n=Xe(t,e))&&n.length&&U.removeClass(this.$$element,n)},$set:function(e,t,n,i){var o=Ie(this.$$element[0],e),s=Wi[e],l=e;o?(this.$$element.prop(e,t),i=o):s&&(this[s]=t,l=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=te(e,"-")),"img"===N(this.$$element)&&"srcset"===e&&(this[e]=t=B(t,"$set('srcset', value)")),!1!==n&&(null===t||b(t)?this.$$element.removeAttr(i):Ae.test(i)?o&&!1===t?this.$$element.removeAttr(i):this.$$element.attr(i,t):function(e,t,n){ke.innerHTML="<span "+t+">";var i=(t=ke.firstChild.attributes)[0];t.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],i,t)),(e=this.$$observers)&&a(e[l],(function(e){try{e(t)}catch(e){r(e)}}))},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=se()),r=i[e]||(i[e]=[]);return r.push(t),w.$evalAsync((function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])})),function(){I(r,t)}}};var Oe=n.startSymbol(),Ve=n.endSymbol(),Ne="{{"===Oe&&"}}"===Ve?m:function(e){return e.replace(/\{\{/g,Oe).replace(/}}/g,Ve)},Re=/^ng(Attr|Prop|On)([A-Z].*)$/,De=/^(.+)Start$/;return W.$$addBindingInfo=S?function(e,t){var n=e.data("$binding")||[];P(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,W.$$addBindingClass=S?function(e){j(e,"ng-binding")}:h,W.$$addScopeInfo=S?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:h,W.$$addScopeClass=S?function(e,t){j(e,t?"ng-isolate-scope":"ng-scope")}:h,W.$$createComment=function(t,n){var i="";return S&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},W}]}function Ze(e,t){this.previousValue=e,this.currentValue=t}function Je(e){return e.replace(dr,"").replace(ur,(function(e,t,n){return n?t.toUpperCase():t}))}function Xe(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),a=0;e:for(;a<i.length;a++){for(var o=i[a],s=0;s<r.length;s++)if(o===r[s])continue e;n+=(0<n.length?" ":"")+o}return n}function Qe(e){var t=(e=Jn(e)).length;if(1>=t)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===_i&&""===n.nodeValue.trim())&&oi.call(e,t,1)}return e}function et(e,t){if(t&&C(t))return t;if(C(e)){var n=fr.exec(e);if(n)return n[3]}}function tt(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ae(t,"controller"),E(t)?d(e,t):e[t]=n},this.$get=["$injector",function(t){function n(e,t,n,r){if(!e||!E(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,r,a,o){var s,l,c;if(a=!0===a,o&&C(o)&&(c=o),C(i)){if(!(o=i.match(fr)))throw pr("ctrlfmt",i);if(l=o[1],c=c||o[3],i=e.hasOwnProperty(l)?e[l]:function(e,t,n){if(!t)return e;for(var i,r=e,a=(t=t.split(".")).length,o=0;o<a;o++)i=t[o],e&&(e=(r=e)[i]);return!n&&k(e)?F(r,e):e}(r.$scope,l,!0),!i)throw pr("ctrlreg",l);re(i,l,!0)}return a?(a=(P(i)?i[i.length-1]:i).prototype,s=Object.create(a||null),c&&n(r,c,s,l||i.name),d((function(){var e=t.invoke(i,s,r,l);return e!==s&&(E(e)||k(e))&&(s=e,c&&n(r,c,s,l||i.name)),s}),{instance:s,identifier:c})):(s=t.instantiate(i,r,l),c&&n(r,c,s,l||i.name),s)}}]}function nt(){this.$get=["$window",function(e){return Jn(e.document)}]}function it(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",(function(){e.off("visibilitychange",n)})),function(){return r}}]}function rt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function at(e){return E(e)?_(e)?e.toISOString():G(e):e}function ot(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,(function(e,n){null===e||b(e)||k(e)||(P(e)?a(e,(function(e){t.push(Z(n)+"="+Z(at(e)))})):t.push(Z(n)+"="+Z(at(e))))})),t.join("&")}}}function st(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,i,r){P(n)?a(n,(function(t,n){e(t,i+"["+(E(t)?n:"")+"]")})):E(n)&&!_(n)?o(n,(function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))})):(k(n)&&(n=n()),t.push(Z(i)+"="+(null==n?"":Z(at(n)))))}(e,"",!0),t.join("&")}}}function lt(e,t){if(C(e)){var n,i,r=e.replace(yr,"").trim();if(r)if((n=i=(i=t("Content-Type"))&&0===i.indexOf(mr))||(n=(n=r.match(vr))&&br[n[0]].test(r)),n)try{e=B(r)}catch(t){if(!i)return e;throw Er("baddata",e,t)}}return e}function ct(e){var t,n=se();return C(e)?a(e.split("\n"),(function(e){t=e.indexOf(":");var i=ii(mi(e.substr(0,t)));e=mi(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)})):E(e)&&a(e,(function(e,t){var i=ii(t),r=mi(e);i&&(n[i]=n[i]?n[i]+", "+r:r)})),n}function dt(e){var t;return function(n){return t||(t=ct(e)),n?(void 0===(n=t[ii(n)])&&(n=null),n):t}}function ut(e,t,n,i){return k(i)?i(e,t,n):(a(i,(function(i){e=i(e,t,n)})),e)}function pt(){var e=this.defaults={transformResponse:[lt],transformRequest:[function(e){return E(e)&&"[object File]"!==li.call(e)&&"[object Blob]"!==li.call(e)&&"[object FormData]"!==li.call(e)?G(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ce(gr),put:ce(gr),patch:ce(gr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var n=this.interceptors=[],r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,s,l,c,u,p,f,m){function g(t){function n(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],a=t[n++];e=e.then(r,a)}return t.length=0,e}function r(e,t){var n,i={};return a(e,(function(e,r){k(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e})),i}function s(e){var t=d({},e);return t.data=ut(e.data,e.headers,e.status,l.transformResponse),200<=(e=e.status)&&300>e?t:p.reject(t)}if(!E(t))throw i("$http")("badreq",t);if(!C(m.valueOf(t.url)))throw i("$http")("badreq",t.url);var l=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);l.headers=function(t){var n,i,a,o=e.headers,s=d({},t.headers);o=d({},o.common,o[ii(t.method)]);e:for(n in o){for(a in i=ii(n),s)if(ii(a)===i)continue e;s[n]=o[n]}return r(s,ce(t))}(t),l.method=ri(l.method),l.paramSerializer=C(l.paramSerializer)?f.get(l.paramSerializer):l.paramSerializer,o.$$incOutstandingRequestCount("$http");var c=[],u=[];return t=p.resolve(l),a(S,(function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&u.push(e.response,e.responseError)})),t=(t=n(t,c)).then((function(t){var n=t.headers,i=ut(t.data,dt(n),void 0,t.transformRequest);return b(i)&&a(n,(function(e,t){"content-type"===ii(t)&&delete n[t]})),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(s,s)})),(t=n(t,u)).finally((function(){o.$$completeOutstandingRequest(h,"$http")}))}function v(n,i){function r(e){if(e){var n={};return a(e,(function(e,i){n[i]=function(n){function i(){e(n)}t?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}})),n}}function o(e,t,i,r,a){(200<=(t=-1<=t?t:0)&&300>t?v.resolve:v.reject)({data:e,status:t,headers:dt(i),config:n,statusText:r,xhrStatus:a})}function c(e){o(e.data,e.status,ce(e.headers()),e.statusText,e.xhrStatus)}function d(){var e=g.pendingRequests.indexOf(n);-1!==e&&g.pendingRequests.splice(e,1)}var f,h,v=p.defer(),S=v.promise,A=n.headers,$="jsonp"===ii(n.method),T=n.url;return $?T=m.getTrustedResourceUrl(T):C(T)||(T=m.valueOf(T)),T=function(e,t){return 0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}(T,n.paramSerializer(n.params)),$&&(T=function(e,t){var n=e.split("?");if(2<n.length)throw Er("badjsonp",e);return n=z(n[1]),a(n,(function(n,i){if("JSON_CALLBACK"===n)throw Er("badjsonp",e);if(i===t)throw Er("badjsonp",t,e)})),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(T,n.jsonpCallbackParam)),g.pendingRequests.push(n),S.then(d,d),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(f=E(n.cache)?n.cache:E(e.cache)?e.cache:w),f&&(y(h=f.get(T))?h&&k(h.then)?h.then(c,c):P(h)?o(h[1],h[0],ce(h[2]),h[3],h[4]):o(h,200,{},"OK","complete"):f.put(T,S)),b(h)&&((h=_(n.url)?l()[n.xsrfCookieName||e.xsrfCookieName]:void 0)&&(A[n.xsrfHeaderName||e.xsrfHeaderName]=h),s(n.method,T,i,(function(e,n,i,r,a){function s(){o(n,e,i,r,a)}f&&(200<=e&&300>e?f.put(T,[e,n,ct(i),r,a]):f.remove(T)),t?u.$applyAsync(s):(s(),u.$$phase||u.$apply())}),A,n.timeout,n.withCredentials,n.responseType,r(n.eventHandlers),r(n.uploadEventHandlers))),S}var w=c("$http");e.paramSerializer=C(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var S=[];a(n,(function(e){S.unshift(C(e)?f.get(e):f.invoke(e))}));var _=function(e){var t=[Hr].concat(e.map(rn));return function(e){return e=rn(e),t.some(an.bind(null,e))}}(r);return g.pendingRequests=[],function(e){a(arguments,(function(e){g[e]=function(t,n){return g(d({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){a(arguments,(function(e){g[e]=function(t,n,i){return g(d({},i||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),g.defaults=e,g}]}function ft(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function ht(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return function(e,t,n,i,r){function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var a=r.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o),a.removeEventListener("error",o),r.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},a.addEventListener("load",o),a.addEventListener("error",o),r.body.appendChild(a),o}return function(r,s,l,c,d,u,p,f,h,m){function g(e){S="timeout"===e,w&&w(),C&&C.abort()}function v(e,t,i,r,a,o){y(_)&&n.cancel(_),w=C=null,e(t,i,r,a,o)}if(s=s||e.url(),"jsonp"===ii(r))var E=i.createCallback(s),w=o(s,E,(function(e,t){var n=200===e&&i.getResponse(E);v(c,e,n,"",t,"complete"),i.removeCallback(E)}));else{var C=t(r,s),S=!1;if(C.open(r,s,!0),a(d,(function(e,t){y(e)&&C.setRequestHeader(t,e)})),C.onload=function(){var e=C.statusText||"",t="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=t?200:"file"===rn(s).protocol?404:0),v(c,n,t,C.getAllResponseHeaders(),e,"complete")},C.onerror=function(){v(c,-1,null,null,"","error")},C.ontimeout=function(){v(c,-1,null,null,"","timeout")},C.onabort=function(){v(c,-1,null,null,"",S?"timeout":"abort")},a(h,(function(e,t){C.addEventListener(t,e)})),a(m,(function(e,t){C.upload.addEventListener(t,e)})),p&&(C.withCredentials=!0),f)try{C.responseType=f}catch(e){if("json"!==f)throw e}C.send(b(l)?null:l)}if(0<u)var _=n((function(){g("timeout")}),u);else u&&k(u.then)&&u.then((function(){g(y(u.$$timeoutId)?"timeout":"abort")}))}}(e,i,e.defer,t,n[0])}]}function mt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function a(e){return"\\\\\\"+e}function o(n){return n.replace(p,e).replace(f,t)}function s(e,t,n,i){var r=e.$watch((function(e){return r(),i(e)}),t,n);return r}function l(a,l,p,f){var h=p===r.URL||p===r.MEDIA_URL;if(!a.length||-1===a.indexOf(e)){if(l)return;return l=o(a),h&&(l=r.getTrusted(p,l)),(l=g(l)).exp=a,l.expressions=[],l.$$watchDelegate=s,l}f=!!f;for(var m,v,E,w,C=0,S=[],_=a.length,P=[],A=[];C<_;){if(-1===(m=a.indexOf(e,C))||-1===(v=a.indexOf(t,m+c))){C!==_&&P.push(o(a.substring(C)));break}C!==m&&P.push(o(a.substring(C,m))),C=a.substring(m+c,v),S.push(C),C=v+u,A.push(P.length),P.push("")}w=1===P.length&&1===A.length;var k=h&&w?void 0:function(e){try{return e=p&&!h?r.getTrusted(p,e):r.valueOf(e),f&&!y(e)?e:le(e)}catch(e){i(wr.interr(a,e))}};if(E=S.map((function(e){return n(e,k)})),!l||S.length){var $=function(e){for(var t=0,n=S.length;t<n;t++){if(f&&b(e[t]))return;P[A[t]]=e[t]}return h?r.getTrusted(p,w?P[0]:P.join("")):(p&&1<P.length&&wr.throwNoconcat(a),P.join(""))};return d((function(e){var t=0,n=S.length,r=Array(n);try{for(;t<n;t++)r[t]=E[t](e);return $(r)}catch(e){i(wr.interr(a,e))}}),{exp:a,expressions:S,$$watchDelegate:function(e,t){var n;return e.$watchGroup(E,(function(i,r){var a=$(i);t.call(this,a,i!==r?n:a,e),n=a}))}})}}var c=e.length,u=t.length,p=new RegExp(e.replace(/./g,a),"g"),f=new RegExp(t.replace(/./g,a),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function gt(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},i=function(e){t.clearInterval(e),delete n[e]},r=e((function(e,i,r){return e=t.setInterval(e,i),n[e]=r,e}),i);return r.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Cr("badprom");if(!n.hasOwnProperty(e.$$intervalId))return!1;e=e.$$intervalId;var t=n[e],r=t.promise;return r.$$state&&(r.$$state.pur=!0),t.reject("canceled"),i(e),!0},r}]}function vt(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,i){return function(r,a){return function(o,s,l,c){function d(){u?o.apply(null,p):o(f)}var u=4<arguments.length,p=u?ai.call(arguments,4):[],f=0,h=y(c)&&!c,m=(h?n:t).defer(),g=m.promise;return l=y(l)?l:0,g.$$intervalId=r((function(){h?e.defer(d):i.$evalAsync(d),m.notify(f++),0<l&&f>=l&&(m.resolve(f),a(g.$$intervalId)),h||i.$apply()}),s,m,h),g}}}]}function bt(e,t){var n=rn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||Pr[n.protocol]||null}function yt(e,t,n){if(kr.test(e))throw Ar("badpath",e);(i="/"!==e.charAt(0))&&(e="/"+e),e=rn(e);for(var i,r=(i=(i&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname).split("/")).length;r--;)i[r]=decodeURIComponent(i[r]),n&&(i[r]=i[r].replace(/\//g,"%2F"));n=i.join("/"),t.$$path=n,t.$$search=z(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Et(e,t){return e.slice(0,t.length)===t}function wt(e,t){if(Et(t,e))return t.substr(e.length)}function Ct(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function St(e,t,n){this.$$html5=!0,n=n||"",bt(e,this),this.$$parse=function(e){var n=wt(t,e);if(!C(n))throw Ar("ipthprfx",e,t);yt(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(y(a=wt(e,i))?(o=a,o=n&&y(a=wt(n,a))?t+(wt("/",a)||a):e+o):y(a=wt(t,i))?o=t+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o);var a,o}}function _t(e,t,n){bt(e,this),this.$$parse=function(i){var r;b(a=wt(e,i)||wt(t,i))||"#"!==a.charAt(0)?this.$$html5?r=a:(r="",b(a)&&(e=i,this.replace())):b(r=wt(n,a))&&(r=a),yt(r,this,!1),i=this.$$path;var a,o=/^\/[A-Z]:(\/.*)/;Et(r,a=e)&&(r=r.replace(a,"")),o.exec(r)||(i=(r=o.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return Ct(e)===Ct(t)&&(this.$$parse(t),!0)}}function Pt(e,t,n){this.$$html5=!0,_t.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(e===Ct(i)?a=i:(o=wt(t,i))?a=e+n+o:t===i+"/"&&(a=t),a&&this.$$parse(a),!!a);var a,o},this.$$normalizeUrl=function(t){return e+n+t}}function At(e){return function(){return this[e]}}function kt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function $t(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):E(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),(O(e.rewriteLinks)||C(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,a,o){function s(e,t,n){var r=c.url(),a=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(e){throw c.url(r),c.$$state=a,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,d;d=i.baseHref();var u,p=i.url();if(t.enabled){if(!d&&t.requireBase)throw Ar("nobase");u=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(d||"/"),d=r.history?St:Pt}else u=Ct(p),d=_t;var f=u.substr(0,Ct(u).lastIndexOf("/")+1);(c=new d(u,f,"#"+e)).$$parseLinkUrl(p,p),c.$$state=i.state();var h=/^\s*(javascript|mailto):/i;a.on("click",(function(e){if((o=t.rewriteLinks)&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var r=Jn(e.target);"a"!==N(r[0]);)if(r[0]===a[0]||!(r=r.parent())[0])return;if(!C(o)||!b(r.attr(o))){var o=r.prop("href"),s=r.attr("href")||r.attr("xlink:href");E(o)&&"[object SVGAnimatedString]"===o.toString()&&(o=rn(o.animVal).href),h.test(o)||!o||r.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(o,s)||(e.preventDefault(),c.absUrl()!==i.url()&&n.$apply())}}})),c.absUrl()!==p&&i.url(c.absUrl(),!0);var m=!0;return i.onUrlChange((function(e,t){Et(e,f)?(n.$evalAsync((function(){var i,r=c.absUrl(),a=c.$$state;c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,a).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=a,s(r,!1,a)):(m=!1,l(r,a)))})),n.$$phase||n.$digest()):o.location.href=e})),n.$watch((function(){if(m||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var e=i.url(),t=c.absUrl(),a=i.state(),o=c.$$replace,d=!function(e,t){return e===t||rn(e).href===rn(t).href}(e,t)||c.$$html5&&r.history&&a!==c.$$state;(m||d)&&(m=!1,n.$evalAsync((function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,a).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=a):(d&&s(t,o,a===c.$$state?null:c.$$state),l(e,a)))})))}c.$$replace=!1})),c}]}function Tt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){var t=n.console||{},i=t[e]||t.log||h;return function(){var e=[];return a(arguments,(function(t){e.push(function(e){return A(e)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(t))})),Function.prototype.apply.call(i,t,e)}}var r=Zn||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Lt(e){return e+""}function Ot(e,t){return void 0!==e?e:t}function Vt(e,t){return void 0===e?t:void 0===t?e:e+t}function Nt(e,t,n){var i,r,o=e.isPure=function(e,t){switch(e.type){case Ir.MemberExpression:if(e.computed)return!1;break;case Ir.UnaryExpression:return 1;case Ir.BinaryExpression:return"+"!==e.operator&&1;case Ir.CallExpression:return!1}return void 0===t?Rr:t}(e,n);switch(e.type){case Ir.Program:i=!0,a(e.body,(function(e){Nt(e.expression,t,o),i=i&&e.expression.constant})),e.constant=i;break;case Ir.Literal:e.constant=!0,e.toWatch=[];break;case Ir.UnaryExpression:Nt(e.argument,t,o),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ir.BinaryExpression:Nt(e.left,t,o),Nt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ir.LogicalExpression:Nt(e.left,t,o),Nt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ir.ConditionalExpression:Nt(e.test,t,o),Nt(e.alternate,t,o),Nt(e.consequent,t,o),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ir.Identifier:e.constant=!1,e.toWatch=[e];break;case Ir.MemberExpression:Nt(e.object,t,o),e.computed&&Nt(e.property,t,o),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Ir.CallExpression:i=n=!!e.filter&&!t(e.callee.name).$stateful,r=[],a(e.arguments,(function(e){Nt(e,t,o),i=i&&e.constant,r.push.apply(r,e.toWatch)})),e.constant=i,e.toWatch=n?r:[e];break;case Ir.AssignmentExpression:Nt(e.left,t,o),Nt(e.right,t,o),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ir.ArrayExpression:i=!0,r=[],a(e.elements,(function(e){Nt(e,t,o),i=i&&e.constant,r.push.apply(r,e.toWatch)})),e.constant=i,e.toWatch=r;break;case Ir.ObjectExpression:i=!0,r=[],a(e.properties,(function(e){Nt(e.value,t,o),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(Nt(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))})),e.constant=i,e.toWatch=r;break;case Ir.ThisExpression:case Ir.LocalsExpression:e.constant=!1,e.toWatch=[]}}function It(e){if(1===e.length){var t=(e=e[0].expression).toWatch;return 1!==t.length||t[0]!==e?t:void 0}}function Rt(e){return e.type===Ir.Identifier||e.type===Ir.MemberExpression}function Dt(e){if(1===e.body.length&&Rt(e.body[0].expression))return{type:Ir.AssignmentExpression,left:e.body[0].expression,right:{type:Ir.NGValueParameter},operator:"="}}function Mt(e){this.$filter=e}function xt(e){this.$filter=e}function Ft(e,t,n){this.ast=new Ir(e,n),this.astCompiler=n.csp?new xt(t):new Mt(t)}function Ut(e){return k(e.valueOf)?e.valueOf():Lr.call(e)}function Gt(){var e,t,n=se(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function o(e,t){var i,a;switch(typeof e){case"string":return a=e=e.trim(),(i=n[a])||(i=new Ft(i=new Nr(g),r,g).parse(e),n[a]=p(i)),f(i,t);case"function":return f(e,t);default:return f(h,t)}}function s(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&(e=Ut(e),"object"==typeof e&&!n))&&(e===t||e!=e&&t!=t)}function l(e,t,n,i,r){var a;if(1===(l=i.inputs).length){var o=s,l=l[0];return e.$watch((function(e){var t=l(e);return s(t,o,l.isPure)||(a=i(e,void 0,void 0,[t]),o=t&&Ut(t)),a}),t,n,r)}for(var c=[],d=[],u=0,p=l.length;u<p;u++)c[u]=s,d[u]=null;return e.$watch((function(e){for(var t=!1,n=0,r=l.length;n<r;n++){var o=l[n](e);(t||(t=!s(o,c[n],l[n].isPure)))&&(d[n]=o,c[n]=o&&Ut(o))}return t&&(a=i(e,void 0,void 0,d)),a}),t,n,r)}function c(e,t,n,i,r){function a(){c(l)&&s()}function o(e,t,n,i){return l=h&&i?i[0]:u(e,t,n,i),c(l)&&e.$$postDigest(a),f(l)}var s,l,c=i.literal?d:y,u=i.$$intercepted||i,f=i.$$interceptor||m,h=i.inputs&&!u.inputs;return o.literal=i.literal,o.constant=i.constant,o.inputs=i.inputs,p(o),s=e.$watch(o,t,n,r)}function d(e){var t=!0;return a(e,(function(e){y(e)||(t=!1)})),t}function u(e,t,n,i){var r=e.$watch((function(e){return r(),i(e)}),t,n);return r}function p(e){return e.constant?e.$$watchDelegate=u:e.oneTime?e.$$watchDelegate=c:e.inputs&&(e.$$watchDelegate=l),e}function f(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}(e.$$interceptor,t),e=e.$$intercepted);var n=!1,i=function(i,r,a,o){return i=n&&o?o[0]:e(i,r,a,o),t(i)};return i.$$intercepted=e,i.$$interceptor=t,i.literal=e.literal,i.oneTime=e.oneTime,i.constant=e.constant,t.$stateful||(n=!e.inputs,i.inputs=e.inputs?e.inputs:[e],t.$$pure||(i.inputs=i.inputs.map((function(e){return e.isPure===Rr?function(t){return e(t)}:e})))),p(i)}var g={csp:vi().noUnsafeEval,literals:R(i),isIdentifierStart:k(e)&&e,isIdentifierContinue:k(t)&&t};return o.$$getAst=function(e){return new Ft(new Nr(g),r,g).getAst(e).ast},o}]}function Bt(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return jt((function(e){t.$evalAsync(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function Ht(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return jt((function(e){t.defer(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function jt(e,t,n){function r(){return new o}function o(){var e=this.promise=new s;this.resolve=function(t){u(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function l(){for(;!S&&_.length;){var e=_.shift();if(!e.pur){e.pur=!0;var n="Possibly unhandled rejection: "+("function"==typeof(n=e.value)?n.toString().replace(/ \{[\s\S]*$/,""):b(n)?"undefined":"string"!=typeof n?de(n,void 0):n);A(e.value)?t(e.value,n):t(n)}}}function c(i){!n||i.pending||2!==i.status||i.pur||(0===S&&0===_.length&&e(l),_.push(i)),!i.processScheduled&&i.pending&&(i.processScheduled=!0,++S,e((function(){var r,a,o;o=i.pending,i.processScheduled=!1,i.pending=void 0;try{for(var s=0,c=o.length;s<c;++s){i.pur=!0,a=o[s][0],r=o[s][i.status];try{k(r)?u(a,r(i.value)):1===i.status?u(a,i.value):f(a,i.value)}catch(e){f(a,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--S,n&&0===S&&e(l)}})))}function u(e,t){e.$$state.status||(t===e?h(e,C("qcycle",t)):p(e,t))}function p(e,t){function n(t){r||(r=!0,h(e,t))}var i,r=!1;try{(E(t)||k(t))&&(i=t.then),k(i)?(e.$$state.status=-1,i.call(t,(function(t){r||(r=!0,p(e,t))}),n,(function(t){m(e,t)}))):(e.$$state.value=t,e.$$state.status=1,c(e.$$state))}catch(e){n(e)}}function f(e,t){e.$$state.status||h(e,t)}function h(e,t){e.$$state.value=t,e.$$state.status=2,c(e.$$state)}function m(n,i){var r=n.$$state.pending;0>=n.$$state.status&&r&&r.length&&e((function(){for(var e,n,a=0,o=r.length;a<o;a++){n=r[a][0],e=r[a][3];try{m(n,k(e)?e(i):i)}catch(e){t(e)}}}))}function g(e){var t=new s;return f(t,e),t}function v(e,t,n){var i=null;try{k(n)&&(i=n())}catch(e){return g(e)}return i&&k(i.then)?i.then((function(){return t(e)}),g):t(e)}function y(e,t,n,i){var r=new s;return u(r,e),r.then(t,n,i)}function w(e){if(!k(e))throw C("norslvr",e);var t=new s;return e((function(e){u(t,e)}),(function(e){f(t,e)})),t}var C=i("$q",TypeError),S=0,_=[];d(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&c(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return v(t,$,e)}),(function(t){return v(t,g,e)}),t)}});var $=y;return w.prototype=s.prototype,w.defer=r,w.reject=g,w.when=y,w.resolve=$,w.all=function(e){var t=new s,n=0,i=P(e)?[]:{};return a(e,(function(e,r){n++,y(e).then((function(e){i[r]=e,--n||u(t,i)}),(function(e){f(t,e)}))})),0===n&&u(t,i),t},w.race=function(e){var t=r();return a(e,(function(e){y(e).then(t.resolve,t.reject)})),t.promise},w}function Wt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,a=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=r,a}]}function qt(){var e=10,t=i("$rootScope"),n=null,o=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,s,l){function c(e){e.currentScope.$$destroyed=!0}function d(e){9===Zn&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function u(){this.$id=++pi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$suspended=this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(e){if(y.$$phase)throw t("inprog",y.$$phase);y.$$phase=e}function f(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function m(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function g(){}function v(){for(;S.length;)try{S.shift()()}catch(e){i(e)}o=null}u.prototype={constructor:u,$new:function(e,t){var n;return t=t||this,e?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++pi,this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",c),n},$watch:function(e,t,i,r){var a=s(e);if(t=k(t)?t:h,a.$$watchDelegate)return a.$$watchDelegate(this,t,i,a,e);var o=this,l=o.$$watchers,c={fn:t,last:g,get:a,exp:r||e,eq:!!i};return n=null,l||((l=o.$$watchers=[]).$$digestWatchIndex=-1),l.unshift(c),l.$$digestWatchIndex++,f(this,1),function(){var e=I(l,c);0<=e&&(f(o,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){function n(){l=!1;try{c?(c=!1,t(r,r,s)):t(r,i,s)}finally{for(var n=0;n<e.length;n++)i[n]=r[n]}}var i=Array(e.length),r=Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var d=!0;return s.$evalAsync((function(){d&&t(r,r,s)})),function(){d=!1}}return 1===e.length?this.$watch(e[0],(function(e,n,a){r[0]=e,i[0]=n,t(r,e===n?r:i,a)})):(a(e,(function(e,t){var i=s.$watch(e,(function(e){r[t]=e,l||(l=!0,s.$evalAsync(n))}));o.push(i)})),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){var t,n,o;if(!b(i=e)){if(E(i))if(r(i))for(a!==p&&(m=(a=p).length=0,d++),e=i.length,m!==e&&(d++,a.length=m=e),t=0;t<e;t++)o=a[t],n=i[t],o!=o&&n!=n||o===n||(d++,a[t]=n);else{for(t in a!==f&&(a=f={},m=0,d++),e=0,i)ni.call(i,t)&&(e++,n=i[t],o=a[t],t in a?o!=o&&n!=n||o===n||(d++,a[t]=n):(m++,a[t]=n,d++));if(m>e)for(t in d++,a)ni.call(i,t)||(m--,delete a[t])}else a!==i&&(a=i,d++);return d}}n.$$pure=s(e).literal,n.$stateful=!n.$$pure;var i,a,o,l=this,c=1<t.length,d=0,u=s(e,n),p=[],f={},h=!0,m=0;return this.$watch(u,(function(){if(h?(h=!1,t(i,i,l)):t(i,o,l),c)if(E(i))if(r(i)){o=Array(i.length);for(var e=0;e<i.length;e++)o[e]=i[e]}else for(e in o={},i)ni.call(i,e)&&(o[e]=i[e]);else o=i}))},$digest:function(){var r,a,s,c,d,u,f,h,m=e,b=w.length?y:this,E=[];p("$digest"),l.$$checkUrlChange(),this===y&&null!==o&&(l.defer.cancel(o),v()),n=null;do{for(d=!1,u=b,c=0;c<w.length;c++){try{(0,(h=w[c]).fn)(h.scope,h.locals)}catch(e){i(e)}n=null}w.length=0;e:do{if(c=!u.$$suspended&&u.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(r=c[c.$$digestWatchIndex])if((a=(0,r.get)(u))===(s=r.last)||(r.eq?M(a,s):fi(a)&&fi(s))){if(r===n){d=!1;break e}}else d=!0,n=r,r.last=r.eq?R(a,null):a,(0,r.fn)(a,s===g?a:s,u),5>m&&(E[f=4-m]||(E[f]=[]),E[f].push({msg:k(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:a,oldVal:s}))}catch(e){i(e)}if(!(c=!u.$$suspended&&u.$$watchersCount&&u.$$childHead||u!==b&&u.$$nextSibling))for(;u!==b&&!(c=u.$$nextSibling);)u=u.$parent}while(u=c);if((d||w.length)&&!m--)throw y.$$phase=null,t("infdig",e,E)}while(d||w.length);for(y.$$phase=null;_<C.length;)try{C[_++]()}catch(e){i(e)}C.length=_=0,l.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===y&&l.$$applicationDestroyed(),f(this,-this.$$watchersCount),this.$$listenerCount)m(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e,t){y.$$phase||w.length||l.defer((function(){w.length&&y.$digest()}),null,"$evalAsync"),w.push({scope:this,fn:s(e),locals:t})},$$postDigest:function(e){C.push(e)},$apply:function(e){try{p("$apply");try{return this.$eval(e)}finally{y.$$phase=null}}catch(e){i(e)}finally{try{y.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){var t=this;e&&S.push((function(){t.$eval(e)})),e=s(e),null===o&&(o=l.defer((function(){y.$apply(v)}),null,"$applyAsync"))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(delete n[i],m(r,1,e))}},$emit:function(e,t){var n,r,a,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},d=x([c],arguments,1);do{for(n=s.$$listeners[e]||o,c.currentScope=s,r=0,a=n.length;r<a;r++)if(n[r])try{n[r].apply(null,d)}catch(e){i(e)}else n.splice(r,1),r--,a--;if(l)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=this,a={name:e,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return a;for(var o,s,l=x([a],arguments,1);n=r;){for(a.currentScope=n,o=0,s=(r=n.$$listeners[e]||[]).length;o<s;o++)if(r[o])try{r[o].apply(null,l)}catch(e){i(e)}else r.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return a.currentScope=null,a}};var y=new u,w=y.$$asyncQueue=[],C=y.$$postDigestQueue=[],S=y.$$applyAsyncQueue=[],_=0;return y}]}function Yt(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r=i?t:e,a=rn(n&&n.trim()).href;return""===a||a.match(r)?n:"unsafe:"+a}}}function zt(e){var t=[];return y(e)&&a(e,(function(e){t.push(function(e){if("self"===e)return e;if(C(e)){if(-1<e.indexOf("***"))throw Mr("iwcard",e);return e=gi(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if($(e))return new RegExp("^"+e.source+"$");throw Mr("imatcher")}(e))})),t}function Kt(){this.SCE_CONTEXTS=xr;var t=["self"],n=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=zt(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(n=zt(e)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(i,r){function a(t,n){var i;return"self"===t?(i=an(n,Hr))||(e.document.baseURI?i=e.document.baseURI:(Dr||((Dr=e.document.createElement("a")).href=".",Dr=Dr.cloneNode(!1)),i=Dr.href),i=an(n,i)):i=!!t.exec(n.href),i}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw Mr("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var l=o(),c={};return c[xr.HTML]=o(l),c[xr.CSS]=o(l),c[xr.MEDIA_URL]=o(l),c[xr.URL]=o(c[xr.MEDIA_URL]),c[xr.JS]=o(l),c[xr.RESOURCE_URL]=o(c[xr.URL]),{trustAs:function(e,t){var n=c.hasOwnProperty(e)?c[e]:null;if(!n)throw Mr("icontext",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw Mr("itype",e);return new n(t)},getTrusted:function(e,i){if(null===i||b(i)||""===i)return i;if((d=c.hasOwnProperty(e)?c[e]:null)&&i instanceof d)return i.$$unwrapTrustedValue();if(k(i.$$unwrapTrustedValue)&&(i=i.$$unwrapTrustedValue()),e===xr.MEDIA_URL||e===xr.URL)return r(i.toString(),e===xr.MEDIA_URL);if(e===xr.RESOURCE_URL){var o,l,d=rn(i.toString()),u=!1;for(o=0,l=t.length;o<l;o++)if(a(t[o],d)){u=!0;break}if(u)for(o=0,l=n.length;o<l;o++)if(a(n[o],d)){u=!1;break}if(u)return i;throw Mr("insecurl",i.toString())}if(e===xr.HTML)return s(i);throw Mr("unsafe")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function Zt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Zn)throw Mr("iequirks");var i=ce(xr);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,(function(t){return i.getTrusted(e,t)}))};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return a(xr,(function(e,t){var n=ii(t);i[("parse_as_"+n).replace(Fr,ue)]=function(t){return r(e,t)},i[("get_trusted_"+n).replace(Fr,ue)]=function(t){return o(e,t)},i[("trust_as_"+n).replace(Fr,ue)]=function(t){return s(e,t)}})),i}]}function Jt(){this.$get=["$window","$document",function(e,t){var n={},i=!((!e.nw||!e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=p((/android (\d+)/.exec(ii((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},s=o.body&&o.body.style,l=!1,c=!1;return s&&(l=!(!("transition"in s)&&!("webkitTransition"in s)),c=!(!("animation"in s)&&!("webkitAnimation"in s))),{history:!(!i||4>r||a),hasEvent:function(e){if("input"===e&&Zn)return!1;if(b(n[e])){var t=o.createElement("div");n[e]="on"+e in t}return n[e]},csp:vi(),transitions:l,animations:c,android:r}}]}function Xt(){this.$get=g((function(e){return new Qt(e)}))}function Qt(e){function t(){var e=r.pop();return e&&e.cb}function n(e){for(var t=r.length-1;0<=t;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}var i={},r=[],a=this.ALL_TASKS_TYPE="$$all$$",o=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(r,s){s=s||o;try{r()}finally{var l;i[l=s||o]&&(i[l]--,i[a]--),l=i[s];var c=i[a];if(!c||!l)for(l=c?n:t;c=l(s);)try{c()}catch(t){e.error(t)}}},this.incTaskCount=function(e){i[e=e||o]=(i[e]||0)+1,i[a]=(i[a]||0)+1},this.notifyWhenNoPendingTasks=function(e,t){i[t=t||a]?r.push({type:t,cb:e}):e()}}function en(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,a){function o(s,l){o.totalPendingRequests++,C(s)&&!b(n.get(s))||(s=a.getTrustedResourceUrl(s));var c=i.defaults&&i.defaults.transformResponse;return P(c)?c=c.filter((function(e){return e!==lt})):c===lt&&(c=null),i.get(s,d({cache:n,transformResponse:c},e)).finally((function(){o.totalPendingRequests--})).then((function(e){return n.put(s,e.data)}),(function(e){return l||(e=Ur("tpload",s,e.status,e.statusText),t(e)),r.reject(e)}))}return o.totalPendingRequests=0,o}]}function tn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return a(e,(function(e){var r=ui.element(e).data("$binding");r&&a(r,(function(r){n?new RegExp("(^|\\s)"+gi(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)}))})),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function nn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function a(a,s,l){k(a)||(l=s,s=a,a=h);var c,d=ai.call(arguments,3),u=y(l)&&!l,p=(u?i:n).defer(),f=p.promise;return c=t.defer((function(){try{p.resolve(a.apply(null,d))}catch(e){p.reject(e),r(e)}finally{delete o[f.$$timeoutId]}u||e.$apply()}),s,"$timeout"),f.$$timeoutId=c,o[c]=p,f}var o={};return a.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw Gr("badprom");if(!o.hasOwnProperty(e.$$timeoutId))return!1;e=e.$$timeoutId;var n=o[e],i=n.promise;return i.$$state&&(i.$$state.pur=!0),n.reject("canceled"),delete o[e],t.defer.cancel(e)},a}]}function rn(e){return C(e)?(Zn&&(Br.setAttribute("href",e),e=Br.href),Br.setAttribute("href",e),e=Br.hostname,!jr&&-1<e.indexOf(":")&&(e="["+e+"]"),{href:Br.href,protocol:Br.protocol?Br.protocol.replace(/:$/,""):"",host:Br.host,search:Br.search?Br.search.replace(/^\?/,""):"",hash:Br.hash?Br.hash.replace(/^#/,""):"",hostname:e,port:Br.port,pathname:"/"===Br.pathname.charAt(0)?Br.pathname:"/"+Br.pathname}):e}function an(e,t){return e=rn(e),t=rn(t),e.protocol===t.protocol&&e.host===t.host}function on(){this.$get=g(e)}function sn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,a,o,s,l;try{e=n.cookie||""}catch(t){e=""}if(e!==r)for(e=(r=e).split("; "),i={},o=0;o<e.length;o++)0<(s=(a=e[o]).indexOf("="))&&(l=t(a.substring(0,s)),b(i[l])&&(i[l]=t(a.substring(s+1))));return i}}function ln(){this.$get=sn}function cn(e){function t(n,i){if(E(n)){var r={};return a(n,(function(e,n){r[n]=t(n,e)})),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",fn),t("date",Cn),t("filter",dn),t("json",Sn),t("limitTo",_n),t("lowercase",Jr),t("number",hn),t("orderBy",An),t("uppercase",Xr)}function dn(){return function(e,t,n,a){if(!r(e)){if(null==e)return e;throw i("filter")("notarray",e)}var o;switch(a=a||"$",pn(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=function(e,t,n,i){var r=E(e)&&n in e;return!0===t?t=M:k(t)||(t=function(e,t){return!(b(e)||(null===e||null===t?e!==t:E(t)||E(e)&&!v(e)||(e=ii(""+e),t=ii(""+t),-1===e.indexOf(t))))}),function(a){return r&&!E(a)?un(a,e[n],t,n,!1):un(a,e,t,n,i)}}(t,n,a,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function un(e,t,n,i,r,a){var o=pn(e),s=pn(t);if("string"===s&&"!"===t.charAt(0))return!un(e,t.substring(1),n,i,r);if(P(e))return e.some((function(e){return un(e,t,n,i,r)}));switch(o){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&un(e[l],t,n,i,!0))return!0;return!a&&un(e,t,n,i,!1)}if("object"===s){for(l in t)if(!k(a=t[l])&&!b(a)&&!un((o=l===i)?e:e[l],a,n,i,o,o))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function pn(e){return null===e?"null":typeof e}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac);var r=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:mn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(r,n)}}function hn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:mn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function mn(e,t,n,i,r){if(!C(e)&&!S(e)||isNaN(e))return"";var a=!isFinite(e),o=!1,s=Math.abs(e)+"",l="";if(a)l="âˆž";else{for(o=function(e){var t,n,i,r,a,o=0;for(-1<(n=e.indexOf(qr))&&(e=e.replace(qr,"")),0<(i=e.search(/e/i))?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)===Yr;i++);if(i===(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)===Yr;)a--;for(n-=i,t=[],r=0;i<=a;i++,r++)t[r]=+e.charAt(i)}return n>Wr&&(t=t.splice(0,Wr-1),o=n-1,n=1),{d:t,e:o,i:n}}(s),function(e,t,n,i){var r=e.d,a=r.length-e.i;if(i=r[n=(t=b(t)?Math.min(Math.max(n,a),i):+t)+e.i],0<n){r.splice(Math.max(e.i,n));for(var o=n;o<r.length;o++)r[o]=0}else for(a=Math.max(0,a),e.i=1,r.length=Math.max(1,n=t+1),r[0]=0,o=1;o<n;o++)r[o]=0;if(5<=i)if(0>n-1){for(i=0;i>n;i--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[n-1]++;for(;a<Math.max(0,t);a++)r.push(0);(t=r.reduceRight((function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)}),0))&&(r.unshift(t),e.i++)}(o,r,t.minFrac,t.maxFrac),l=o.d,s=o.i,r=o.e,a=[],o=l.reduce((function(e,t){return e&&!t}),!0);0>s;)l.unshift(0),s++;for(0<s?a=l.splice(s,l.length):(a=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),a.length&&(l+=i+a.join("")),r&&(l+="e+"+r)}return 0>e&&!o?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function gn(e,t,n,i){var r="";for((0>e||i&&0>=e)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=Yr+e;return n&&(e=e.substr(e.length-t)),r+e}function vn(e,t,n,i,r){return n=n||0,function(a){return a=a["get"+e](),(0<n||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),gn(a,t,i,r)}}function bn(e,t,n){return function(i,r){var a=i["get"+e]();return r[ri((n?"STANDALONE":"")+(t?"SHORT":"")+e)][a]}}function yn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function En(e){return function(t){var n=yn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,gn(t=1+Math.round(t/6048e5),e)}}function wn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Cn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,a=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=p(t[9]+t[10]),r=p(t[9]+t[11])),a.call(e,p(t[1]),p(t[2])-1,p(t[3])),i=p(t[4]||0)-i,r=p(t[5]||0)-r,a=p(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,i,r,a,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,s,l="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,C(n)&&(n=Zr.test(n)?p(n):t(n)),S(n)&&(n=new Date(n)),!_(n)||!isFinite(n.getTime()))return n;for(;i;)(s=Kr.exec(i))?i=(c=x(c,s,1)).pop():(c.push(i),i=null);var d=n.getTimezoneOffset();return r&&(d=H(r,d),n=W(n,r,!0)),a(c,(function(t){o=zr[t],l+=o?o(n,e.DATETIME_FORMATS,d):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}}function Sn(){return function(e,t){return b(t)&&(t=2),G(e,t)}}function _n(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):p(t),fi(t)?e:(S(e)&&(e=e.toString()),r(e)?(n=0>(n=!n||isNaN(n)?0:p(n))?Math.max(0,e.length+n):n,0<=t?Pn(e,n,n+t):0===n?Pn(e,t,e.length):Pn(e,Math.max(0,n+t),n)):e)}}function Pn(e,t,n){return C(e)?e.slice(t,n):ai.call(e,t,n)}function An(e){function t(t){return t.map((function(t){var n=1,i=m;if(k(t))i=t;else if(C(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t)).constant)){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}}))}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e,t){var n=0,i=e.type;if(i===(r=t.type)){var r=e.value,a=t.value;"string"===i?(r=r.toLowerCase(),a=a.toLowerCase()):"object"===i&&(E(r)&&(r=e.index),E(a)&&(a=t.index)),r!==a&&(n=r<a?-1:1)}else n="undefined"===i?1:"undefined"===r?-1:"null"===i?1:"null"===r||i<r?-1:1;return n}return function(e,o,s,l){if(null==e)return e;if(!r(e))throw i("orderBy")("notarray",e);P(o)||(o=[o]),0===o.length&&(o=["+"]);var c=t(o),d=s?-1:1,u=k(l)?l:a;return e=Array.prototype.map.call(e,(function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:c.map((function(i){var r=i.get(e);return i=typeof r,null===r?i="null":"object"===i&&(k(r.valueOf)&&n(r=r.valueOf())||v(r)&&n(r=r.toString())),{value:r,type:i,index:t}}))}})),e.sort((function(e,t){for(var n=0,i=c.length;n<i;n++){var r=u(e.predicateValues[n],t.predicateValues[n]);if(r)return r*c[n].descending*d}return(u(e.tieBreaker,t.tieBreaker)||a(e.tieBreaker,t.tieBreaker))*d})),e.map((function(e){return e.value}))}}function kn(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function $n(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=ta,this.$$element=e,this.$$animate=i,Tn(this)}function Tn(e){e.$$classCache={},e.$$classCache[Ma]=!(e.$$classCache[Da]=e.$$element.hasClass(Da))}function Ln(e){function t(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function n(e,n,i){n=n?"-"+te(n,"-"):"",t(e,Da+n,!0===i),t(e,Ma+n,!1===i)}var i=e.set,r=e.unset;e.clazz.prototype.$setValidity=function(e,a,o){b(a)?(this.$pending||(this.$pending={}),i(this.$pending,e,o)):(this.$pending&&r(this.$pending,e,o),On(this.$pending)&&(this.$pending=void 0)),O(a)?a?(r(this.$error,e,o),i(this.$$success,e,o)):(i(this.$error,e,o),r(this.$$success,e,o)):(r(this.$error,e,o),r(this.$$success,e,o)),this.$pending?(t(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,n(this,"",null)):(t(this,"ng-pending",!1),this.$valid=On(this.$error),this.$invalid=!this.$valid,n(this,"",this.$valid)),n(this,e,a=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,a,this)}}function On(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Vn(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function Nn(e,t,n,i,r,a){var o=ii(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",(function(){s=!0})),t.on("compositionupdate",(function(e){(b(e.data)||""===e.data)&&(s=!1)})),t.on("compositionend",(function(){s=!1,c()}))}var l,c=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var r=t.val();e=e&&e.type,"password"===o||n.ngTrim&&"false"===n.ngTrim||(r=mi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",c);else{var d=function(e,t,n){l||(l=a.defer((function(){l=null,t&&t.value===n||c(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||d(e,this,this.value)})),r.hasEvent("paste")&&t.on("paste cut drop",d)}t.on("change",c),ha[o]&&i.$$hasNativeValidators&&o===n.type&&t.on("keydown wheel mousedown",(function(e){if(!l){var t=this.validity,n=t.badInput,i=t.typeMismatch;l=a.defer((function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)}))}})),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function In(e,t){return function(n,i){var r,o;if(_(n))return n;if(C(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),aa.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(r,(function(e,n){n<t.length&&(o[t[n]]=+e)})),r=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0),100>o.yyyy&&r.setFullYear(o.yyyy),r}return NaN}}function Rn(e,t,n,i){return function(r,a,o,s,l,c,d,u){function p(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function f(e){return y(e)&&!_(e)?h(e)||void 0:e}function h(e,t){var i=s.$options.getOption("timezone");g&&g!==i&&(t=j(t,H(g)));var r=n(e,t);return!isNaN(r)&&i&&(r=W(r,i)),r}Dn(r,a,o,s,e),Nn(0,a,o,s,l,c);var m,g,v="time"===e||"datetimelocal"===e;if(s.$parsers.push((function(n){return s.$isEmpty(n)?null:t.test(n)?h(n,m):void(s.$$parserName=e)})),s.$formatters.push((function(e){if(e&&!_(e))throw Ua("datefmt",e);if(p(e)){m=e;var t=s.$options.getOption("timezone");t&&(g=t,m=W(m,t,!0));var n=i;return v&&C(s.$options.getOption("timeSecondsFormat"))&&(n=i.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),e=d("date")(e,n,t),v&&s.$options.getOption("timeStripZeroSeconds")&&(e=e.replace(/(?::00)?(?:\.000)?$/,"")),e}return g=m=null,""})),y(o.min)||o.ngMin){var E=o.min||u(o.ngMin)(r),w=f(E);s.$validators.min=function(e){return!p(e)||b(w)||n(e)>=w},o.$observe("min",(function(e){e!==E&&(w=f(e),E=e,s.$validate())}))}if(y(o.max)||o.ngMax){var S=o.max||u(o.ngMax)(r),P=f(S);s.$validators.max=function(e){return!p(e)||b(P)||n(e)<=P},o.$observe("max",(function(e){e!==S&&(P=f(e),S=e,s.$validate())}))}}}function Dn(e,t,n,i,r){(i.$$hasNativeValidators=E(t[0].validity))&&i.$parsers.push((function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void(i.$$parserName=r):e}))}function Mn(e){e.$parsers.push((function(t){return e.$isEmpty(t)?null:la.test(t)?parseFloat(t):void(e.$$parserName="number")})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!S(t))throw Ua("numfmt",t);t=t.toString()}return t}))}function xn(e){return y(e)&&!S(e)&&(e=parseFloat(e)),fi(e)?void 0:e}function Fn(e){var t=e.toString(),n=t.indexOf(".");return-1===n?-1<e&&1>e&&(e=/e-(\d+)$/.exec(t))?Number(e[1]):0:t.length-n-1}function Un(e,t,n){var i=(0|(e=Number(e)))!==e,r=(0|t)!==t,a=(0|n)!==n;if(i||r||a){var o=i?Fn(e):0,s=r?Fn(t):0,l=a?Fn(n):0;o=Math.max(o,s,l);e*=o=Math.pow(10,o),t*=o,n*=o,i&&(e=Math.round(e)),r&&(t=Math.round(t)),a&&(n=Math.round(n))}return 0==(e-t)%n}function Gn(e,t,n,i,r){if(y(i)){if(!(e=e(i)).constant)throw Ua("constexpr",n,i);return e(t)}return r}function Bn(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],a=0;a<t.length;a++)if(r===t[a])continue e;n.push(r)}return n}function i(e){if(!e)return e;var t=e;return P(e)?t=e.map(i).join(" "):E(e)?t=Object.keys(e).filter((function(t){return e[t]})).join(" "):C(e)||(t=e+""),t}var r;return e="ngClass"+e,["$parse",function(o){return{restrict:"AC",link:function(s,l,c){function d(e,t){var n=[];return a(e,(function(e){(0<t||p[e])&&(p[e]=(p[e]||0)+t,p[e]===+(0<t)&&n.push(e))})),n.join(" ")}var u,p=l.data("$classCounts"),f=!0;p||(p=se(),l.data("$classCounts",p)),"ngClass"!==e&&(r||(r=o("$index",(function(e){return 1&e}))),s.$watch(r,(function(e){if(e===t){var n=d((n=u)&&n.split(" "),1);c.$addClass(n)}else n=d((n=u)&&n.split(" "),-1),c.$removeClass(n);f=e}))),s.$watch(o(c[e],i),(function(e){if(f===t){var i=u&&u.split(" "),r=e&&e.split(" "),a=n(i,r);i=n(r,i),a=d(a,-1),i=d(i,1);c.$addClass(i),c.$removeClass(a)}u=e}))}}}]}function Hn(e,t,n,i,r,a){return{restrict:"A",compile:function(o,s){var l=e(s[i]);return function(e,i){i.on(r,(function(i){var r=function(){l(e,{$event:i})};if(t.$$phase)if(a)e.$evalAsync(r);else try{r()}catch(e){n(e)}else e.$apply(r)}))}}}}function jn(e,t,n,i,r,a,o,s,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=ta,this.$options=Ga,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=i,this.$$animate=a,this.$$timeout=o,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,Tn(this),function(e){e.$$scope.$watch((function(t){return(t=e.$$ngModelGet(t))===e.$modelValue||e.$modelValue!=e.$modelValue&&t!=t||e.$$setModelValue(t),t}))}(this)}function Wn(e){this.$$options=e}function qn(e,t){a(t,(function(t,n){y(e[n])||(e[n]=t)}))}function Yn(e,t){e.prop("selected",t),e.attr("selected",t)}function zn(e,t,n){if(e){if(C(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw i("ngPattern")("noregexp",t,e,q(n));return e}}function Kn(e){return e=p(e),fi(e)?-1:e}var Zn,Jn,Xn,Qn,ei={objectMaxDepth:5,urlErrorParamsEnabled:!0},ti=/^\/(.+)\/([a-z]*)$/,ni=Object.prototype.hasOwnProperty,ii=function(e){return C(e)?e.toLowerCase():e},ri=function(e){return C(e)?e.toUpperCase():e},ai=[].slice,oi=[].splice,si=[].push,li=Object.prototype.toString,ci=Object.getPrototypeOf,di=i("ng"),ui=e.angular||(e.angular={}),pi=0;Zn=e.document.documentMode;var fi=Number.isNaN||function(e){return e!=e};h.$inject=[],m.$inject=[];var hi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,mi=function(e){return C(e)?e.trim():e},gi=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},vi=function(){if(!y(vi.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");vi.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=vi;try{new Function(""),n=!1}catch(e){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return vi.rules},bi=function(){if(y(bi.name_))return bi.name_;var t,n,i,r,a=Ei.length;for(n=0;n<a;++n)if(i=Ei[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return bi.name_=r},yi=/:/g,Ei=["ng-","data-ng-","ng:","x-ng-"],wi=function(t){var n=t.currentScript;return!n||(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement)&&[(n=n.attributes).getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every((function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document),Ci=/[A-Z]/g,Si=!1,_i=3,Pi={full:"1.8.2",major:1,minor:8,dot:2,codeName:"meteoric-mining"};me.expando="ng339";var Ai=me.cache={},ki=1;me._data=function(e){return this.cache[e[this.expando]]||{}};var $i=/-([a-z])/g,Ti=/^-ms-/,Li={mouseleave:"mouseout",mouseenter:"mouseover"},Oi=i("jqLite"),Vi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ni=/<|&#?\w+;/,Ii=/<([\w:-]+)/,Ri=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Di={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};Di.tbody=Di.tfoot=Di.colgroup=Di.caption=Di.thead,Di.th=Di.td;var Mi,xi={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(Mi in Di){var Fi=Di[Mi],Ui=Fi.slice().reverse();xi[Mi]=[Ui.length,"<"+Ui.join("><")+">","</"+Fi.join("></")+">"]}xi.optgroup=xi.option;var Gi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Bi=me.prototype={ready:Ne,toString:function(){var e=[];return a(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return Jn(0<=e?this[e]:this[this.length+e])},length:0,push:si,sort:[].sort,splice:[].splice},Hi={};a("multiple selected checked disabled readOnly required open".split(" "),(function(e){Hi[ii(e)]=e}));var ji={};a("input select option textarea button form details".split(" "),(function(e){ji[e]=!0}));var Wi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};a({data:Se,removeData:we,hasData:function(e){for(var t in Ai[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)we(e[t]),Ee(e[t])}},(function(e,t){me[t]=e})),a({data:Se,inheritedData:Te,scope:function(e){return Jn.data(e,"$scope")||Te(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Jn.data(e,"$isolateScope")||Jn.data(e,"$isolateScopeNoTemplate")},controller:$e,injector:function(e){return Te(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:_e,css:function(e,t,n){return t=pe(t.replace(Ti,"ms-")),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){if((i=e.nodeType)!==_i&&2!==i&&8!==i&&e.getAttribute){var i=ii(t),r=Hi[i];if(!y(n))return e=e.getAttribute(t),r&&null!==e&&(e=i),null===e?void 0:e;null===n||!1===n&&r?e.removeAttribute(t):e.setAttribute(t,r?i:n)}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return 1===n||n===_i?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===N(e)){var n=[];return a(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(ve(e,!0),void(e.innerHTML=t))},empty:Le},(function(e,t){me.prototype[t]=function(t,n){var i,r,a=this.length;if(e!==Le&&b(2===e.length&&e!==_e&&e!==$e?t:n)){if(E(t)){for(i=0;i<a;i++)if(e===Se)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(a=b(i=e.$dv)?Math.min(a,1):a,r=0;r<a;r++){var o=e(this[r],t,n);i=i?i+o:o}return i}for(i=0;i<a;i++)e(this[i],t,n);return this}})),a({removeData:we,on:function(e,t,n,i){if(y(i))throw Oi("onargs");if(fe(e)){var r=(i=Ce(e,!0)).events,a=i.handle;a||(a=i.handle=function(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],a=r?r.length:0;if(a){if(b(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||Re;1<a&&(r=ce(r));for(var l=0;l<a;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}(e,r));for(var o=(i=0<=t.indexOf(" ")?t.split(" "):[t]).length,s=function(t,i,o){var s=r[t];s||((s=r[t]=[]).specialHandlerWrapper=i,"$destroy"===t||o||e.addEventListener(t,a)),s.push(n)};o--;)t=i[o],Li[t]?(s(Li[t],De),s(t,void 0,!0)):s(t)}},off:Ee,one:function(e,t,n){(e=Jn(e)).on(t,(function i(){e.off(t,n),e.off(t,i)})),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ve(e),a(new me(t),(function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t}))},children:function(e){var t=[];return a(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){if(1===(n=e.nodeType)||11===n)for(var n=0,i=(t=new me(t)).length;n<i;n++)e.appendChild(t[n])},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new me(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){var n=Jn(t).eq(0).clone()[0],i=e.parentNode;i&&i.replaceChild(n,e),n.appendChild(e)},remove:Oe,detach:function(e){Oe(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var r=0,a=(t=new me(t)).length;r<a;r++){var o=t[r];i.insertBefore(o,n.nextSibling),n=o}},addClass:Ae,removeClass:Pe,toggleClass:function(e,t,n){t&&a(t.split(" "),(function(t){var i=n;b(i)&&(i=!_e(e,t)),(i?Ae:Pe)(e,t)}))},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,n){var i,r,o=t.type||t,s=Ce(e);(s=(s=s&&s.events)&&s[o])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:h,type:o,target:e},t.type&&(i=d(i,t)),t=ce(s),r=n?[i].concat(n):[i],a(t,(function(t){i.isImmediatePropagationStopped()||t.apply(e,r)})))}},(function(e,t){me.prototype[t]=function(t,n,i){for(var r,a=0,o=this.length;a<o;a++)b(r)?y(r=e(this[a],t,n,i))&&(r=Jn(r)):ke(r,e(this[a],t,n,i));return y(r)?r:this}})),me.prototype.bind=me.prototype.on,me.prototype.unbind=me.prototype.off;var qi=Object.create(null);Fe.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return fi(e)?qi:e},get:function(e){if(e=this._transformKey(e),-1!==(e=this._idx(e)))return this._values[e]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){return e=this._transformKey(e),-1!==(e=this._idx(e))&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Yi=Fe,zi=[function(){this.$get=[function(){return Yi}]}],Ki=/^([^(]+?)=>/,Zi=/^[^(]*\(\s*([^)]*)\)/m,Ji=/,/,Xi=/^\s*(_?)(\S+?)\1\s*$/,Qi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,er=i("$injector");Ge.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw C(n)&&n||(n=e.name||function(e){return(e=Ue(e))?"function("+(e[1]||"").replace(/