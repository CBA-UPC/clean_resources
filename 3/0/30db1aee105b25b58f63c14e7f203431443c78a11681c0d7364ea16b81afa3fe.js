(self._cf=self._cf||[]).push([[4870,78363],{336712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ExternalUserLozenge:()=>d,ExternalUserLozengeProps:()=>u});var i=n(615919),s=n(840506),r=n(93972),o=n(142807),c=n(480963),a=n(332072);const l=(0,r.defineMessages)({externalUserLozengeText:{id:"external-collab-ui.user-guest-lozenge",defaultMessage:"Guest"},guestUserTooltip:{id:"external-collab-ui.user-guest-lozenge.tooltip",defaultMessage:"Guests can only access certain spaces and have limited access to user info."}}),u={text:s.createElement(a.Z,{content:s.createElement(o.Z,(0,i.Z)({},l.guestUserTooltip))},s.createElement(o.Z,(0,i.Z)({},l.externalUserLozengeText))),appearance:"default",isBold:!1},d=()=>{const{text:e,appearance:t,isBold:n}=u;return s.createElement(c.Z,{appearance:t,isBold:n},e)};d.displayName="ExternalUserLozenge"},649567:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});const i=n(779076).ZP`fragment ExternalCollaboratorEntitlementFragment on Query{entitlements{externalCollaborator{isEntitled}}}`},189445:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});const i=,611246:863750:(e,t,n)=>{"use strict";n.d(t,{R:()=>v});var i=n(615919),s=n(199009),r=n(454812),o=n(636755),c=n(579141),a=n(301771),l=n(419539),u=n(336712),d=n(697674),h=n(734875);const p=(0,d.FO)({key:h.F6}),f="initialState",m="searchUser",g="succeeded",y="failed";class v extends r.ZP{sync remoteInitialState(e){try{const t=await this.doSearch("",e);return this._notifyAnalyticsListeners(o.oX,f,g),t}catch(t){throw this._notifyAnalyticsListeners(o.oX,f,y),t}}async remoteSearch(e,t){try{const n=await this.doSearch(e,t);return this._notifyAnalyticsListeners(o.oX,m,g),n}catch(n){throw this._notifyAnalyticsListeners(o.oX,m,y),n}}async doSearch(e,t){p.start();const n=await this.post(await this.cloudId(),await this.orgId(),e,t);if(!n.ok){const e=await n.json();throw p.stop({customData:{isExCoEnabled:this.includeExternalCollaborators,success:!1}}),new Error(JSON.stringify(e))}const i=(await n.json()).recommendedUsers.map((e=>this.isUser(e)?this.convertToUserMention(e):(this.isTeam(e),this.convertToTeamMention(e))));return p.stop({customData:{isExCoEnabled:this.includeExternalCollaborators,success:!0}}),{query:e,mentions:i}}async cloudId(){const{cloudId:e}=await(0,l.g)();return e}async orgId(){const{orgId:e}=await(0,l.g)();return e}async post(e,t,n,s){return await(0,a.y)(this.userTeamEndpoint,{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({context:(0,i.Z)((0,i.Z)({contextType:"Mentions",principalId:"context",productKey:s&&s.product||"confluence",siteId:e,containerId:s&&s.containerId,objectId:s&&s.objectId,childObjectId:s&&s.childObjectId,mentionsSessionId:s&&s.sessionId},t?{organizationId:t}:{}),this.includeExternalCollaborators?{productAttributes:{isEntitledConfluenceExternalCollaborator:!0}}:{}),searchQuery:(0,i.Z)({queryString:n},this.includeExternalCollaborators?{productAccessPermissionIds:["write","external-collaborator-write"]}:{}),maxNumberOfResults:20,includeTeams:!0})})}isUser(e){return"USER"===e.entityType}convertToUserMention(e){var t;return(0,i.Z)({id:e.id,name:e.name||e.nickname||"",mentionName:e.nickname||"",avatarUrl:e.avatarUrl,accessLevel:e.accessLevel,userType:e.userType},null!=e&&null!==(t=e.attributes)&&void 0!==t&&t.isConfluenceExternalCollaborator?{lozenge:u.ExternalUserLozengeProps}:{})}onvertToTeamMention(e){const{teamLinkResolver:t}=this.teamMentionConfig;let n="";const i=`${window.location.origin}/people/team/${e.id}`;return"function"==typeof t&&(n=t(e.id)),{id:e.id,name:e.displayName,mentionName:e.displayName,avatarUrl:e.smallAvatarImageUrl,accessLevel:c.kI[c.kI.CONTAINER],userType:c.FW[c.FW.TEAM],context:{members:e.members,includesYou:e.includesYou,memberCount:e.memberCount,teamLink:n||i}}}}},688889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(784569),s=n(649233),r=n(804929),o=n(9019),c=n(779076),a=n(649567);const l=c.ZP`query MentionsProviderQuery{...ExternalCollaboratorEntitlementFragment}${a.$}`,u=async()=>(0,i.WQ)().query({query:l}).then(().catch((e=>{(0,r.UJ)().submitError(e,{attribution:o.x.MISSION_CONTROL}),(0,s.Xb)(e)}))},756281:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});const i={ALT:{key:"Alt",which:18},BACKSPACE:{key:"Backspace",which:8},CTRL:{key:"Control",which:17},DELETE:{key:"Delete",which:46},DOWN:{key:"ArrowDown",which:40},END:{key:"End",which:35},ENTER:{key:"Enter",which:13},ESCAPE:{key:"Escape",which:27},HOME:{key:"Home",which:36},INSERT:{key:"Insert",which:45},LEFT:{key:"ArrowLeft",which:37},META:{key:"Meta",which:91},PAGEDOWN:{key:"PageDown",which:34},PAGEUP:{key:"PageUp",which:33},RIGHT:{key:"ArrowRight",which:39},SPACE:{key:" ",which:32},SHIFT:{key:"Shift",which:16},TAB:{key:"Tab",which:9},UP:{key:"ArrowUp",which:38}}},495302:(e,t,n)=>{"use strict";n.d(t,{Cc:()=>o,Rq:()=>r,ns:()=>l,p:()=>s});var i=n(570489);const s=(e,t,n="")=>e?`${n}/people/${e}?ref=confluence${t?`&src=${encodeURIComponent(t)}`:""}`:"",r=async(e,t)=>e?`${i.b}/people/${e}?ref=confluence${t?`&src=${encodeURIComponent(t)}`:""}`:"",o=(e,t,n="")=>e?`${n}/people/team/${e}?ref=confluence${t?`&src=${encodeURIComponent(t)}`:""}`:"",c=a=e=>{const t={class:"className"},n={};return((e).forEach((i=>{n[t[i]||i]=e.getAttribute(i)})),n.dangerouslySetInnerHTML={__html:e.innerHTML},n};function l(e){return e.filter(c).map((e=>{const t=a(e);t["data-user-hover-bound"]="true",t.href=s(t["data-account-id"],null);const n=window.document.createElement("span");return e.parentNode?(e.parentNode.replaceChild(n,e),{props:t,placeholder:n}):{}}))}},912638:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>r,rs:()=>s});class i{constructor(e){this.value=e,this.valueOf=this.toString=this.toJSON=}const s=r=(...e)=>t=>e.includes(t)?Object.freeze(new i(t)):t},346301:341690:693728:357586:403194:454358:82910:820556:457546:387672:39542:951246:630334:651837:948332:971676:864961:320162:191879:259267:288372:821548:664886:400436:878240:983267:517039:773460:(e,t,n)=>{var i=n(630334),s="__core-js_shared__",r=i[s]||(i[s]={});e.exports=,521922:603292:495229:449978:784992:100785:12526:328501:249702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{triggerEditorPluginsLoaded:()=>v});var i=n(548854),s=n.n(i),r=n(445945),o=n(193599),c=n(912638),a=n(849397);const l="confluence.editor.autocomplete.fabric.mentions";let u,d=!1;function h(){u=Date.now(),d=!1,(0,r.X$)("analytics",{name:`${l}.trigger`,data:{}})}async function p(e,t){const n=m(!1);d=!0,(0,r.X$)("analytics",{name:`${l}.${g("insert",n)}`,data:{sessionDurationInMillis:n}});const i={sessionDurationInMillis:n,queryLength:t.queryLength,mentioneeId:(0,c.rs)(t.mentioneeId),contentId:(0,c.rs)(t.contentId),userType:t.userType,memberCount:t.memberCount,includesYou:t.includesYou};(0,r.X$)("analytics",{name:"confluence.spa.editor.autocomplete.fabric.mentions.insert",data:i});(await(0,a.getAnalyticsWebClient)()).sendUIEvent({action:"inserted",actionSubject:"mentionTypeahead",source:"legacyEditor",attributes:i})}function f(){if(!d){const e=m(!0);(0,r.X$)("analytics",{name:`${l}.${g("close",e)}`,data:{sessionDurationInMillis:e}})}d=!1}function m(e){let t=-1;return u&&(t=Date.now()-u,e&&(u=null)),t}function g(e,t){return-1===t?e:t<1e3?`${e}.less.than.1s`:t<5e3?`${e}.less.than.5s`:t<1e4?`${e}.less.than.10s`:t<2e4?`${e}.less.than.20s`:`${e}.more.than.20s`}const y=n(380158).Z;(0,r.ak)("init.rte",(()=>{(0,r.ak)("mention-autocomplete-on-start",h),(0,r.ak)("mention-autocomplete-on-select",p),(0,r.ak)("mention-autocomplete-on-death",f)})),(0,r.ak)("rte-destroyed",(()=>{(0,r.AO)("mention-autocomplete-on-death",f),(0,r.AO)("mention-autocomplete-on-select",p),(0,r.AO)("mention-autocomplete-on-start",h)})),(0,r.ak)("rte-pre-resolveplugins",(()=>{const e=(0,o.oU)();s().tinymce.create("tinymce.plugins.MentionsAutoComplete",y),s().tinymce.PluginManager.add("fabricmention",s().tinymce.plugins.MentionsAutoComplete),e.addTinyMcePluginInit(()}));const v=,380158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ve});var i={};n.r(i);var s=n(615919),r=n(865311),o=n.n(r),c=n(548854),a=n.n(c),l=n(445945),u=n(784569),d=n(419539),h=n(469203),p=n(193599),f=n(754028);ar g=n(971701),y=n(150539),v=n(570489),b=n(495302),E=n(611246),w=n(189445),P=n(688889),C=n(863750),x=n(579141),I=n(301771);class S{ookupMentionNames(e){const t=e.reduce(((e,t,n)=>`${e}${n>0?"&":""}accountId=${encodeURIComponent(t)}`),"");return(0,I.y)(`/wiki/rest/api/user/bulk?${t}`,{credentials:"same-origin"}).then(().then((e=>e&&e.results&&e.results.length?e.results.map(():[]))}}const Z="/gateway/api/mentions",T="/gateway/api/teams/mentions";async function k(e,t,n,i){const r={url:`${Z}/${e}`,productId:"micros-group/confluence",containerId:t||null,shouldHighlightMention:,o=(0,s.Z)((0,s.Z)({},r),{},{url:T,teamLinkResolver:e=>(0,b.Cc)(e,"fabric",v.b)});return r.mentionNameResolver=new g.j(new S,i),async function(e,t){const{featureFlags:n}=await(0,d.g)();let i=!1;if(n[E.pA]){const e=await(0,P.Z)();i=!0===(0,w.D)(e)}return new C.R("/gateway/api/v1/recommendations",e,t,i)}(r,o)}async function A(e,t,n,i){var s,r,o;const c=(null!=(o=n)?o.spaceId:o)||null;if(!e)throw new Error("MentionResource cannot be configured without a cloud id");return{mentionResource:await k(e,c,t,i),presenceResource:new y.ZP({url:"/gateway/api/directory/graphql",cloudId:e,productId:"confluence"}),mentionServiceUrl:`${Z}/${e}`,contextIdentifier:{containerId:c,objectId:(null!=(r=n)?r.contentId:r)||null,childObjectId:(null!=(s=n)?s.commentId:s)||null}}}var L=n(199009),R=n(840506),M=n(150030),N=n(278811),O=n.n(N),$=n(635457),D=n(328338),_=n(32807);class U{constructor(e,t){(0,L.Z)(this,"mentionProvider",void 0),(0,L.Z)(this,"contextIdentifier",void 0),(0,L.Z)(this,"callWithContextIds",((e,t)=>(...n)=>{const i=n?n.length:0,s=i!==t?((e,t,n)=>{if(0===t)return e;const i=new Array(t);return i.fill(n),e.length>0?[...e,...i]:i})(n,t-i,void 0):n;return this.mentionProvider[e](...s,this.contextIdentifier)})),(0,L.Z)(this,"callDefault",(e=>),(0,L.Z)(this,"subscribe",this.callDefault("subscribe")),(0,L.Z)(this,"unsubscribe",this.callDefault("unsubscribe")),(0,L.Z)(this,"filter",this.callWithContextIds("filter",1)),(0,L.Z)(this,"recordMentionSelection",this.callWithContextIds("recordMentionSelection",1)),(0,L.Z)(this,"shouldHighlightMention",this.callDefault("shouldHighlightMention")),(0,L.Z)(this,"isFiltering",this.callDefault("isFiltering")),this.mentionProvider=e,this.contextIdentifier=t}var K=n(430564),q=n(659898),H=n(122529),j=n(636755);const F=(e="")=>`${e}_${O()()}`;var z=n(635144);class B extends R.PureComponent{constructor(...e){super(...e),(0,L.Z)(this,"popup",void 0)}componentDidMount(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.position="absolute",this._applyAbsolutePosition(),this._renderContent()}omponentWillUnmount(){this.popup&&(M.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup))}_applyBelowPosition(){const e=this.props.target&&document.getElementById(this.props.target);if(e){const t=e.getBoundingClientRect(),n=t.bottom+(this.props.offsetY||0),i=t.left+(this.props.offsetX||0);this.popup&&(this.popup.style.top=`${n}px`,this.popup.style.bottom="",this.popup.style.left=`${i}px`)}}_applyAbovePosition(){const e=this.props.target&&document.getElementById(this.props.target);if(e){const t=e.getBoundingClientRect(),n=window.innerHeight-t.top+(this.props.offsetY||0),i=t.left+(this.props.offsetX||0);this.popup&&(this.popup.style.top="",this.popup.style.bottom=`${n}px`,this.popup.style.left=`${i}px`)}}_applyAbsolutePosition(){if("above"===this.props.relativePosition)this._applyAbovePosition();else if("below"===this.props.relativePosition)this._applyBelowPosition();else{const e=this.props.target&&document.getElementById(this.props.target);if(e){const t=e.getBoundingClientRect(),n=window.innerHeight;t.top<n/2?this._applyBelowPosition():this._applyAbovePosition()}}this.props.zIndex&&this.popup&&(this.popup.style.zIndex=`${this.props.zIndex}`)}_renderContent.displayName="Popup",(0,L.Z)(B,"defaultProps",{relativePosition:"auto",offsetX:0,offsetY:0,zIndex:0});var W=n(51442),Q=n(295847),X=n(12318),Y=n(946972),V=n(2142),G=n(16728),J=n(233006);const ee=(0,Y.Z)("div",{target:"e4bpyfw0"})("align-items:center;display:flex;justify-content:center;flex-direction:column;background-color:var(--ds-surface-overlay, white);color:",`var(--ds-text-subtle, ${G.Mx})`,";border:1px solid var(--ds-surface-overlay, #fff);border-radius:",(0,V.E0)(),"px;"),te=(0,Y.Z)("div",{target:"e4bpyfw1"})({name:"1egnnf",styles:"height:108px;margin-bottom:var(--ds-space-100, 8px);margin-top:36px;width:83px;"}),ne=(0,Y.Z)("div",{target:"e4bpyfw2"})((0,J.AC)(),";margin-bottom:var(--ds-space-100, 8px);"),ie=(0,Y.Z)("div",{target:"e4bpyfw3"})({name:"33g0kw",styles:"margin-bottom:var(--ds-space-600, 48px);"});class se extends R.PureComponent{render(){return R.createElement(te,null,R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 163.3 212","aria-labelledby":"title"},R.createElement("defs",null,R.createElement("style",{dangerouslySetInnerHTML:{__html:".cls-1{fill:url(#linear-gradient);}.cls-2,.cls-5{opacity:0.6;}.cls-3{fill:#c1c7d0;}.cls-4{fill:#b3bac5;}.cls-5{isolation:isolate;}"}}),R.createElement("linearGradient",{id:"linear-gradient",x1:"25.54",y1:"806.64",x2:"137.75",y2:"694.44",gradientTransform:"translate(0 -578)",gradientUnits:"userSpaceOnUse"},R.createElement("stop",{offset:0,stopColor:"#c1c7d0"}),R.createElement("stop",{offset:"0.24",stopColor:"#c4cad2",stopOpacity:"0.97"}),R.createElement("stop",{offset:"0.5",stopColor:"#cdd1d9",stopOpacity:"0.89"}),R.createElement("stop",{offset:"0.78",stopColor:"#dcdee4",stopOpacity:"0.75"}),R.createElement("stop",{offset:1,stopColor:"#ebecf0",stopOpacity:"0.6"}))),R.createElement("title",null,this.props.title?this.props.title:"Generic Error"),R.createElement("g",{"data-name":"Layer 2"},R.createElement("g",{"data-name":"Layer 1-2"},R.createElement("path",{className:"cls-1",d:"M94.8,74.2l66.4,115.1a15.16,15.16,0,0,1-5.5,20.7,15.4,15.4,0,0,1-7.6,2H15.2A15.19,15.19,0,0,1,0,196.8a15.4,15.4,0,0,1,2-7.6l66.5-115a15.21,15.21,0,0,1,20.7-5.6A15.81,15.81,0,0,1,94.8,74.2Zm-7.6,83.5,2.9-44.3a9.26,9.26,0,0,0-8.6-9.8h-.6a9.18,9.18,0,0,0-9.2,9.2v.6l2.9,44.3a6.33,6.33,0,0,0,6.3,5.9h0A6.26,6.26,0,0,0,87.2,157.7ZM71.4,181.2a9.5,9.5,0,0,0,9.4,9.6h.9a9.79,9.79,0,0,0,8.8-10.5,9.69,9.69,0,0,0-9.7-8.8A9.58,9.58,0,0,0,71.4,181.2Z"}),R.createElement("g",{className:"cls-2"},R.createElement("path",{className:"cls-3",d:"M92.7,27.2,85.3.4a.57.57,0,0,0-.7-.4c-.2.1-.4.2-.4.5L79.5,25.6l-5.8-1.1c-.3-.1-.6.2-.7.5v.3L80.3,52a.75.75,0,0,0,.7.5.82.82,0,0,0,.5-.5l4.7-25.1,5.8,1c.3.1.6-.2.7-.5Z"}),R.createElement("path",{className:"cls-3",d:"M66.1,41.8,55.2,33.2a.3.3,0,0,0-.4,0,.19.19,0,0,0,0,.3L60.4,45l-2.7,1.3c-.1.1-.2.2-.1.4a.1.1,0,0,0,.1.1l10.9,8.5a.3.3,0,0,0,.4,0,.19.19,0,0,0,0-.3L63.4,43.6l2.7-1.3a.33.33,0,0,0,0-.5Z"})),R.createElement("g",{className:"cls-2"},R.createElement("path",{className:"cls-4",d:"M102.1,56.8a1.42,1.42,0,0,1-.6-.2,1,1,0,0,1-.3-1.2c-.2-.8-2.3-2.8-3.5-4.1-3-3-4.9-5-3.8-6.5s3.6-.2,7.3,1.7a28.41,28.41,0,0,0,4.5,2,21.58,21.58,0,0,0-3.3-3.6c-3-3-4.9-5-3.8-6.5s3.6-.2,7.4,1.7a27.65,27.65,0,0,0,4.4,2,21.58,21.58,0,0,0-3.3-3.6c-3-3-4.9-5-3.8-6.5s3.6-.2,7.3,1.7c1.6.8,4.2,2.1,5,2.1a.91.91,0,0,1,1.2,0,1.08,1.08,0,0,1,.2,1.4c-1.1,1.5-3.6.2-7.3-1.7a27.65,27.65,0,0,0-4.4-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5s-3.6.2-7.3-1.7a28.41,28.41,0,0,0-4.5-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5s-3.6.2-7.3-1.7a28.41,28.41,0,0,0-4.5-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5A1.8,1.8,0,0,1,102.1,56.8Z"})),R.createElement("g",{className:"cls-5"},R.createElement("path",{className:"cls-4",d:"M107.7,71.1a1.05,1.05,0,0,1-.9-.5c-1-1.9-2.2-4-.9-5.2s3.3.2,5.5,1.6a19.31,19.31,0,0,0,2.9,1.7,15.89,15.89,0,0,0-1.4-3.1c-1.3-2.3-2.5-4.4-1.1-5.6s3.3.2,5.5,1.6c1,.6,2.5,1.7,3.1,1.7a1,1,0,0,1,1.3.1,1,1,0,0,1-.1,1.4c-1.3,1.2-3.3-.2-5.5-1.6a19.31,19.31,0,0,0-2.9-1.7,13.64,13.64,0,0,0,1.4,3.1c1.3,2.3,2.4,4.4,1.1,5.6s-3.3-.2-5.5-1.6a19.31,19.31,0,0,0-2.9-1.7,13.07,13.07,0,0,0,1.2,2.7,1,1,0,0,1-.4,1.4A.6.6,0,0,1,107.7,71.1Zm12.5-7.6Z"})),R.createElement("g",{className:"cls-5"},R.createElement("path",{className:"cls-4",d:"M53.4,68.1a2,2,0,0,1-.7-.1c-1.6-.7-1.2-3.1-.8-5.6a10.87,10.87,0,0,0,.3-3.4A15,15,0,0,0,50,61.6c-1.5,2.1-3,4.1-4.6,3.4a1,1,0,0,1-.5-1.3,1,1,0,0,1,1.2-.6,11.23,11.23,0,0,0,2.3-2.7c1.5-2.1,3-4.1,4.7-3.4s1.3,3.1.8,5.7a13.86,13.86,0,0,0-.3,3.3,11.82,11.82,0,0,0,2.1-2.6c1.5-2.1,3-4.1,4.7-3.4s1.2,3.1.9,5.2a1,1,0,1,1-1.9-.3,14.28,14.28,0,0,0,.3-2.9,15,15,0,0,0-2.2,2.6C56,66.4,54.7,68.1,53.4,68.1Z"}))))))}}se.displayName="GenericErrorIllustration";const re={401:X.P7,403:X.D6,default:X.TN};class oe extends R.PureComponent{static getAdvisedActionMessage(e){if(e&&e.hasOwnProperty("statusCode")){return re[e.statusCode.toString()]||re.default}return re.default}render(){const{error:e}=this.props,t=oe.getAdvisedActionMessage(e);return R.createElement(ee,null,R.createElement(se,null),R.createElement(ne,null,R.createElement(X.m9,null)),R.createElement(ie,null,R.createElement(t,null)))}}oe.displayName="MentionListError";var ce=n(606192);const ae=`var(--ds-border, ${G.YS})`,le=`${(0,V.E0)()}px`,ue="var(--ds-shadow-overlay, 0 4px 8px -2px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31))",de="340px",he=(0,Y.Z)("div",{target:"e13lzocv0"})("display:block;overflow-x:hidden;overflow-y:auto;padding:var(--ds-space-050, 4px) 0;margin:0;background:var(--ds-surface, white);max-height:","264px",";border-radius:",(0,V.E0)(),"px;");class pe extends R.PureComponent{constructor(...e){super(...e),(0,L.Z)(this,"scrollableDiv",void 0),(0,L.Z)(this,"reveal",(e=>{if(e&&this.scrollableDiv){const t=(0,M.findDOMNode)(e),n=this.scrollableDiv.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<n.top?this.scrollableDiv.scrollTop+=i.top-n.top:i.bottom>n.bottom&&(this.scrollableDiv.scrollTop+=i.bottom-n.bottom)}})),(0,L.Z)(this,"handleRef",(e=>{this.scrollableDiv=e}))}renderpe.displayName="Scrollable";const fe=(0,Y.Z)("div",{target:"eexhmjt0"})("display:",(e=>e.empty?"none":"block"),";width:",de,";color:var(--ds-text-subtle, #333);border:1px solid ",ae,";border-radius:",le,";box-shadow:",ue,";");function me(e,t){const n=e.length;let i=t;for(;i<0&&n>0;)i+=n;return i%n}lass ye extends R.PureComponent{constructor(e){super(e),(0,L.Z)(this,"lastMousePosition",void 0),(0,L.Z)(this,"scrollable",void 0),(0,L.Z)(this,"items",void 0),(0,L.Z)(this,"selectNext",(()=>{const e=me(this.props.mentions,this.state.selectedIndex+1);this.selectIndex(e)})),(0,L.Z)(this,"selectPrevious",(()=>{const e=me(this.props.mentions,this.state.selectedIndex-1);this.selectIndex(e)})),(0,L.Z)(this,"selectIndex",((e,t)=>{const{mentions:n}=this.props;this.setState({selectedIndex:e,selectedKey:ge(e,n)},t)})),(0,L.Z)(this,"selectId",((e,t)=>{const{mentions:n}=this.props,i=function(e,t){let n;if(t){for(n=0;n<t.length&&t[n].id!==e;)n++;n===t.length&&(n=void 0)}return n}(e,n);void 0!==i&&this.setState({selectedIndex:i,selectedKey:e},t)})),(0,L.Z)(this,"chooseCurrentSelection",(()=>{const{mentions:e,onSelection:t}=this.props,{selectedIndex:n}=this.state,i=e&&e[n||0];(0,z.ZP)("ak-mention-list.chooseCurrentSelection",i),t&&i&&t(i)})),(0,L.Z)(this,"mentionsCount",(()=>{const{mentions:e}=this.props;return e&&e.length||0})),(0,L.Z)(this,"selectIndexOnHover",((e,t)=>{if(!t)return;const n=(0,W.s8)(t);(0,W.l0)(this.lastMousePosition,n)&&this.selectId(e.id),this.lastMousePosition=n})),(0,L.Z)(this,"itemSelected",(e=>{this.selectId(e.id,(()=>{this.chooseCurrentSelection()}))})),(0,L.Z)(this,"handleScrollableRef",(e=>{this.scrollable=e})),this.setDefaultSelectionState()}UNSAFE_componentWillReceiveProps(e){const{mentions:t}=e,{selectedKey:n}=this.state;if(t){if(!n)return;for(let e=0;e<t.length;e++)if(n===t[e].id)return void this.setState({selectedIndex:e});this.setDefaultSelectionState()}}componentDidUpdate(){const{mentions:e}=this.props,{selectedIndex:t}=this.state;e&&e[t]&&this.revealItem(e[t].id)}revealItem(e){const t=this.items[e];t&&this.scrollable&&this.scrollable.reveal(t)}setDefaultSelectionState(){this.state={selectedIndex:0,selectedKey:void 0}}renderItems(){const{mentions:e}=this.props;return e&&e.length?(this.items={},R.createElement("div",null,this.props.initialHighlightElement,e.map(((e,t)=>{const n=e.id;return R.createElement(Q.Z,{mention:e,selected:this.isSelectedMention(e,t),key:n,onMouseMove:this.selectIndexOnHover,onSelection:this.itemSelected,ref:e=>{e?this.items[n]=e:delete this.items[n]}})})))):null}isSelectedMention(e,t){const{selectedKey:n}=this.state;return n?n===e.id:0===t}render(){const{mentions:e,resourceError:t}=this.props,n=e&&e.length;let i,s;return t&&!n?i=R.createElement(oe,{error:t}):n&&(s=R.createElement(pe,{ref:this.handleScrollableRef},this.renderItems())),R.createElement(ce.Z,null,R.createElement(fe,{empty:!n&&!t},i,s))}}function ve(e,t){const n=[];for(let i=0;i<e.length;i++){const r=(0,s.Z)({},e[i]),o=t[r.id];o&&(r.presence=o),n.push(r)}return n}ye.displayName="MentionList";class be extends R.PureComponent{constructor(e){super(e),(0,L.Z)(this,"subscriberKey",void 0),(0,L.Z)(this,"mentionListRef",void 0),(0,L.Z)(this,"selectNext",(()=>{this.mentionListRef&&this.mentionListRef.selectNext()})),(0,L.Z)(this,"selectPrevious",(()=>{this.mentionListRef&&this.mentionListRef.selectPrevious()})),(0,L.Z)(this,"selectIndex",((e,t)=>{this.mentionListRef&&this.mentionListRef.selectIndex(e,t)})),(0,L.Z)(this,"selectId",((e,t)=>{this.mentionListRef&&this.mentionListRef.selectId(e,t)})),(0,L.Z)(this,"chooseCurrentSelection",(()=>{this.mentionListRef&&this.mentionListRef.chooseCurrentSelection()})),(0,L.Z)(this,"mentionsCount",(()=>this.mentionListRef?this.mentionListRef.mentionsCount():0)),(0,L.Z)(this,"filterChange",(e=>{const t=function(e){const t={};for(let n=0;n<e.length;n++){const i=e[n];i.presence&&(t[i.id]=i.presence)}return t}(this.state.mentions);this.setState({resourceError:void 0,mentions:ve(e,t)}),this.refreshPresences(e)})),(0,L.Z)(this,"sendAnalytics",((e,t,n)=>{e===j.oX&&(0,j.XK)(this.props)(t,n)})),(0,L.Z)(this,"filterError",(e=>{(0,z.ZP)("ak-resourced-mentions-list._filterError",e),this.setState({resourceError:e})})),(0,L.Z)(this,"presenceUpdate",(e=>{this.setState({mentions:ve(this.state.mentions,e)})})),(0,L.Z)(this,"notifySelection",(e=>{this.props.resourceProvider.recordMentionSelection(e),this.props.onSelection&&this.props.onSelection(e)})),(0,L.Z)(this,"handleMentionListRef",(e=>{this.mentionListRef=e})),this.subscriberKey=F("ak-resourced-mention-list"),this.state={resourceError:void 0,mentions:[]},this.applyPropChanges({},e)}componentDidMount(){this.subscribeMentionProvider(this.props.resourceProvider),this.subscribePresenceProvider(this.props.presenceProvider)}UNSAFE_componentWillReceiveProps(e){this.applyPropChanges(this.props,e)}componentWillUnmountubscribeMentionProvider(e){e&&e.subscribe(this.subscriberKey,this.filterChange,this.filterError,void 0,void 0,this.sendAnalytics)}subscribePresenceProvider(e){e&&e.subscribe(this.subscriberKey,this.presenceUpdate)}unsubscribeMentionProvider(e){e&&e.unsubscribe(this.subscriberKey)}unsubscribePresenceProvider(e){e&&e.unsubscribe(this.subscriberKey)}applyPropChanges(e,t){const n=e.resourceProvider,i=e.presenceProvider,s=e.query,r=t.resourceProvider,o=t.presenceProvider,c=t.query,a=n!==r,l=!("string"!=typeof c||!r)&&(s!==c||a);a&&(this.unsubscribeMentionProvider(n),this.subscribeMentionProvider(r)),i!==o&&(this.unsubscribePresenceProvider(i),this.subscribePresenceProvider(o)),l&&r.filter(c)}refreshPresences(e){if(this.props.presenceProvider){const t=e.map((e=>e.id));this.props.presenceProvider.refreshPresence(t)}}render(){const{mentions:e,resourceError:t}=this.state;return R.createElement(ye,{mentions:e,resourceError:t,onSelection:this.notifySelection,ref:this.handleMentionListRef})}}be.displayName="ResourcedMentionListWithoutAnalytics";const Ee=(0,K.Z)({})(be),we=(0,Y.Z)("div",{target:"e1pja68y0"})("display:",(,";"),Pe=(0,Y.Z)("div",{target:"e1pja68y1"})("background:var(--ds-surface, #fff);color:",`var(--ds-text-subtlest, ${G.Y8})`,";border:1px solid ",ae,";border-radius:",le,";box-shadow:",ue,";display:block;width:",de,";white-space:nowrap;&{p{margin:0;overflow:hidden;padding:9px;text-overflow:ellipsis;}}");class Ce extends R.PureComponent{constructor(e){super(e),(0,L.Z)(this,"subscriberKey",void 0),(0,L.Z)(this,"mentionListRef",void 0),(0,L.Z)(this,"selectNext",(()=>{this.mentionListRef&&this.mentionListRef.selectNext()})),(0,L.Z)(this,"selectPrevious",(()=>{this.mentionListRef&&this.mentionListRef.selectPrevious()})),(0,L.Z)(this,"selectIndex",((e,t)=>{this.mentionListRef&&this.mentionListRef.selectIndex(e,t)})),(0,L.Z)(this,"selectId",((e,t)=>{this.mentionListRef&&this.mentionListRef.selectId(e,t)})),(0,L.Z)(this,"chooseCurrentSelection",(),(0,L.Z)(this,"mentionsCount",(),(0,L.Z)(this,"onFilterVisibilityChange",((e,t)=>{e!==t&&(t?this.props.onOpen&&this.props.onOpen():this.props.onClose&&this.props.onClose())})),(0,L.Z)(this,"filterChange",((e,t,n)=>{(0,z.ZP)("ak-mention-picker.filterChange",e.length);const i=this.state.visible,s=e.length>0;this.setState({visible:s}),this.onFilterVisibilityChange(i,s),(0,j.AW)(this.props)("rendered",n&&n.duration,e.map((e=>e.id)),t)})),(0,L.Z)(this,"filterError",(e=>{(0,z.ZP)("ak-mention-picker.filterError",e);const t=this.state.visible;this.setState({visible:!0,info:void 0}),this.onFilterVisibilityChange(t,!0)})),(0,L.Z)(this,"filterInfo",(e=>{(0,z.ZP)("ak-mention-picker.filterInfo",e),this.setState({info:e})})),(0,L.Z)(this,"handleMentionListRef",(),this.subscriberKey=F("ak-mention-picker"),this.state={visible:!1},this.applyPropChanges({},e)}componentDidMount(){this.subscribeResourceProvider(this.props.resourceProvider)}plyPropChanges(e,t){const n=e.resourceProvider,i=t.resourceProvider;n!==i&&(this.unsubscribeResourceProvider(n),this.subscribeResourceProvider(i))}subscribeResourceProvider(e){e&&e.subscribe(this.subscriberKey,this.filterChange,this.filterError,this.filterInfo,void 0)}unsubscribeResourceProviderender(){const{resourceProvider:e,presenceProvider:t,onSelection:n,query:i,target:s,position:r,zIndex:o,offsetX:c,offsetY:a,intl:l}=this.props,{visible:u,info:d}=this.state,h=R.createElement(Ee,{resourceProvider:e,presenceProvider:t,onSelection:n,query:i,ref:this.handleMentionListRef}),p=d&&!u?R.createElement(Pe,null,R.createElement("p",null,d)):null;let f;return r?((0,z.ZP)("target, position",s,r),f=s?R.createElement(B,{target:s,relativePosition:r,zIndex:o,offsetX:c,offsetY:a},R.createElement(q.Z,{locale:(null==l?void 0:l.locale)||"en"},R.createElement("div",null,h,p))):null):f=R.createElement("div",null,h,p),R.createElement(we,{className:"ak-mention-picker",visible:u||d},f)}}Ce.displayName="MentionPicker",(0,L.Z)(Ce,"defaultProps",{onSelection:()=>{},onOpen:()=>{},onClose:()=>{}});const xe=(0,H.ZP)(Ce,{forwardRef:!0}),Ie=(0,K.Z)({})(xe);var Se=n(206950),Ze=n(849397),Te=n(713493),ke=n(471810);const Ae=function(e){return e.replace(/[&"'<>`]/g,(e=>{const t={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;","`":"&#96;"};return"string"==typeof t[e]?t[e]:"&quot;"}))},Le=1,Re=2;function Me(e,t,n){const i=t.jquery?t:o()(t),s=a().AJS.Position.spaceAboveBelow(a().AJS.Rte.getEditorFrame(),e),r=a().AJS.Rte.Content.offset(e),c=o()(a()).width(),l=Math.max(i.width()+r.left-c,0),u=n&&n.adjustX||0,d=n&&n.adjustY||0,h=r.left-l+u,p=i.outerHeight(!0),f=function(e){return e.below>e.above?Re:Le}(s);let m;m=f===Le?r.top-p-d:r.top+e.height()+d,t.css({left:h,top:m,display:"block"})}const Ne="TEAM",Oe={adjustY:2};function $e(e){const t=(0,ke.Rg)(),n=Ae(e.name);let i;const s=e.userType===Ne;i=s?{href:(0,b.Cc)(e.id,"tinymce",v.b)}:{href:(0,b.p)(e.id,null,v.b),accountid:e.id,"data-linked-resource-default-alias":n};const r={attrs:i,body:{html:n,text:n},classes:[s?"":"confluence-link"]};t.fromData(r).insert()}class De{constructor(e){(0,L.Z)(this,"_mentionSelected",(e=>{e?this.options.update(e):this.options.die()})),(0,L.Z)(this,"_getAnalyticsContext",(),this._mentionSelected=this._mentionSelected.bind(this),this._setPickerRef=this._setPickerRef.bind(this),this.options=e,this.resourceProvider=function(e){const{mentionResource:t,contextIdentifier:n}=e||{};return n?new U(t,(0,s.Z)((0,s.Z)({},n),{},{sessionId:O()()})):t}(e),(0,$.tp)($.zo)&&(this.presenceProvider=e.presenceResource),this.$mentionPickerContainer=o()("<div/>"),this.mentionPickerContainer=this.$mentionPickerContainer[0],this.query=e.query,this.$mentionPickerContainer.css({position:"absolute","z-index":1e4,display:"none"}),o()("body").append(this.mentionPickerContainer),this._renderPicker(),this.resourceProvider.subscribe("@atlaskit/mentions",(e=>{e&&e.length>0&&this.reposition()}),()}sync _renderPicker(){const e=R.createElement(Se.bd,null,R.createElement(D.ZP,{client:(0,Ze.getAnalyticsWebClient)()},R.createElement(_.Z,{data:this._getAnalyticsContext()},R.createElement(Ie,{resourceProvider:this.resourceProvider,presenceProvider:this.presenceProvider,query:this.query,onSelection:this._mentionSelected,ref:this._setPickerRef,createTeamPath:`${v.b}/people/search#createTeam`}))));M.render(e,this.mentionPickerContainer)}update(e){const t=e.userType===Ne&&!!e.context;if((0,l.X$)("mention-autocomplete-on-select",{mentioneeId:e.id,contentId:(0,Te.XG)("content-id"),queryLength:(this.query||"").length,userType:e.userType,memberCount:t?e.context.memberCount:null,includesYou:t?e.context.includesYou:null}),$e(e),t){i.TeamMentionHighlightController.registerTeamMention();const t=(0,p.oN)().getEditor(),n=e.context.members,s=n.length;for(let e=0;e<s;e++)0===e&&t.execCommand("mceInsertContent",!1," ("),$e(n[e]),e+1===s?t.execCommand("mceInsertContent",!1,")"):t.execCommand("mceInsertContent",!1,", ")}}e(){M.unmountComponentAtNode(this.mentionPickerContainer),this.$mentionPickerContainer.remove(),this.resourceProvider.unsubscribe("@atlaskit/mentions")}onKeyUp(){this.mentionPickerRef.selectPrevious()}onKeyDown(){this.mentionPickerRef.selectNext()}onKeyEnter(){this.mentionPickerRef.chooseCurrentSelection()}eposition(){var e,t,n;e=this.options.anchor,t=this.$mentionPickerContainer,n=Oe,setTimeout((,1)}}var _e=n(756281),Ue=n(962373);n(328501),(0,h.XD)();const Ke={leadingChar:"",isDataValid:()=>!1,backWords:0,onBeforeDie:()=>{}};class qe{constructor(e){this.ed=(0,p.oN)().getEditor(),this.settings=Object.assign({},Ke,e),this.control=null,this.picker=null}start(){console.debug("startAutoComplete (FE) - Started"),this.control=(0,p.he)().Control(this.ed,this.settings),this.control&&((0,l.X$)("mention-autocomplete-on-start"),this.attachEventsToControl())}attachEventsToControl(){const e=this,t=e.control;if("function"==typeof this.settings.onBeforeDie){const t=this.control.die;this.control.die=function(...n){e.settings.onBeforeDie.apply(e.control,n),t.apply(e.control,n)}}const n={onBeforeKey(t,n){return t.keyCode!==_e.f.ESCAPE.which&&e.control&&(0,Ue.cn)(e.control.getContainer()[0],"isDirty"),t.keyCode===_e.f.DOWN.which?(this.settings.onKeyDown&&this.settings.onKeyDown(),a().tinymce.dom.Event.cancel(t),!1):t.keyCode===_e.f.UP.which?(this.settings.onKeyUp&&this.settings.onKeyUp(),a().tinymce.dom.Event.cancel(t),!1):t.keyCode===_e.f.ENTER.which?(e.settings.onBeforeEnter&&e.settings.onBeforeEnter(e.ed.undoManager),this.settings.onKeyEnter&&this.settings.onKeyEnter(),a().tinymce.dom.Event.cancel(t),!1):t.keyCode===_e.f.TAB.which?(this.settings.onKeyTab&&this.settings.onKeyTab(),a().tinymce.dom.Event.cancel(t),!1):!(t.keyCode===_e.f.ESCAPE.which||t.keyCode===_e.f.BACKSPACE.which&&!n)||(console.debug("autoCompleteControl.onBeforeKey - killing autoCompleteControl"),this.die(t.keyCode===_e.f.BACKSPACE.which),!1)},onKeyPress(e){const n=(0,h.w1)()?e.keyCode:e.which;if(e.keyCode===_e.f.ENTER.which)return a().tinymce.dom.Event.cancel(e),!1;const i=String.fromCharCode(n);return this.settings.endChars.indexOf(i)>=0&&(console.debug("autoCompleteControl.onKeyPress - caught autocomplete-closing char - character"),t.die()),!0},onAfterKey(t,n){const i=e.control.getContainer()[0].querySelectorAll("#autocomplete-trigger"),s=i[0].innerText;return i.length>0&&s!==e.settings.leadingChar?(console.debug("after","dying because of: trigger text is modified"),e.reset(),!1):t.keyCode===_e.f.ENTER.which?(a().tinymce.dom.Event.cancel(t),!1):(this.settings.onTextChange&&this.settings.onTextChange(s,n),!0)},onDeath(){console.debug("autoCompleteControl.onDeath called"),e.control=null,(0,l.X$)("mention-autocomplete-on-death")},onScroll;Object.assign(t,n)}const He=n(779076).ZP`query SpaceIDQuery($spaceKey:String!){space(key:$spaceKey){id}}`;(0,h.XD)((0,f.Jj)().navigator.userAgent);const je="@";let Fe,ze;function Be(e){0}function We(){if((!Fe.control||Fe.control.dying)&&ze&&(Fe.start(),Fe.control)){const e=Fe.control.getContainer();turn e&&e.addClass("fabric-mentions-autocomplete"),Fe.picker=new De({mentionResource:ze.mentionResource,presenceResource:ze.presenceResource,anchor:e,query:Fe.control.word,update:t,die:n,contextIdentifier:ze.contextIdentifier}),!0}return!1}function Qe(e){const t=a().location.href.match(/\/spaces\/([^/]+)\//),n=t?t[1]:null;(0,d.g)().then((({cloudId:t})=>(e=>(0,u.WQ)().query({query:He,variables:{spaceKey:e}}))(n).then((n=>A(t,null,(0,s.Z)((0,s.Z)({},e),{},{spaceId:n.data.space.id})).then((e=>ze=e)).catch((e=>Be())))).catch((e=>{A(t).then(().catch(()})))).catch(()}const Xe=e=>{var t;const n=(null!=(t=e)&&null!=(t=t.formElement)&&null!=(t=t.offsetParent)?t.id:t)||"";return n.includes("comment-")||n.includes("addcomment")?n.replace("comment-",""):null},Ye=e=>{var t;return null!=(t=e)&&null!=(t=t.settings)?t.page_id:t},Ve={init(e){const t=(0,p.oN)();m(),Qe({contentId:Ye(e),commentId:Xe(e)}),e.addCommand("mceConfInsertFabricMentionsAutocomplete",We),function(){(0,p.he)().Settings[je]={ch:je,endChars:[],onTextChangeisDataValid:onKeyUp(){Fe.picker.onKeyUp&&Fe.picker.onKeyUp()},onKeyDown(){Fe.picker.onKeyDown&&Fe.picker.onKeyDown()},onKeyEnter(){Fe.picker.onKeyEnter&&Fe.picker.onKeyEnter()},onKeyTabupdate(e,t){Fe.picker.update&&Fe.picker.update(t),Fe.picker.die&&Fe.picker.die(),Fe.reset()}};const e={leadingChar:je,onBeforeDie(){if(Fe.picker&&Fe.picker.die(),Fe.control){const e=o()(Fe.control.getContainer()),t=e.find(".inserting");e.hasClass("isDirty")||t.closest("#autocomplete-search-text").remove()}},onBeforeEnter(e){if(Fe.control){const t=o()(Fe.control.getContainer()).find("#autocomplete-search-text");t.text().length>0&&(t.prepend(je),e&&"function"==typeof e.add&&e.add())}}};Fe=new qe(e)}(),(0,l.ak)("confluence.editor.registerHandlers",((e,t)=>{const n=t.handlerManager,i=t.ed,s=(0,t.createHandler)(/(?:\s|\xA0|^|\ufeff|\u200b)()$/,((...e)=>{m(),We()}),!0,"#autocomplete");i.onKeyPress.addToTop(((e,t)=>{if(t.metaKey)return!0;const n=(0,h.w1)()?t.keyCode:t.which;return"@"!==String.fromCharCode(n)||(We()&&a().tinymce.dom.Event.cancel(t),!1)})),n.registerHandler("@".charCodeAt(0),s)})),e.onContextMenu.add((),o()("#insertmention-button").click((),(0,l.ak)("editor.text-placeholder.activated",((t,n)=>{var i;n&&"mention"===n.placeholderType&&(!(i=n.triggerEvent)||!i.shiftKey||i.ctrlKey||i.altKey||i.altGraphKey||i.metaKey||64!==i.which||a().tinymce.dom.Event.cancel(n.triggerEvent),a().tinymce.execCommand("mceFocus",!1,e.id),We())})),t.Placeholder&&t.Placeholder.addPlaceholderType&&t.Placeholder.addPlaceholderType({type:"mention",label:"User mention",tooltip:"Instructional text is replaced with suggested people when a person types."})},getInfo:()=>({longname:"Fabric Mentions",author:"Atlassian",authorurl:"http://www.atlassian.com",version:`${a().tinymce.majorVersion}.${a().tinymce.minorVersion}`}),getServiceUrl:},962373:(e,t,n)=>{"use strict";n.d(t,{Mm:()=>d,cn:()=>u,hF:()=>a});var i=n(548854),s=n.n(i),r=n(515021);const o=1e3/60;function c(e,t,n,i){if(n<=0||!n||t===e.scrollTop)return e.scrollTop=t,void(i&&i());const r=t-e.scrollTop,c=r/n*o;let a=e.scrollTop;const l=()=>{const n=a+c;if(r<0&&n<=t||r>0&&n>=t)return e.scrollTop=t,void(i&&i());a=n,e.scrollTop=a,s().requestAnimationFrame(l)};s().requestAnimationFrame(l)}function a(e,t={}){if(!e)return;t.container||(t.container=(0,r.H0)());const{container:n,topGap:i=0,bottomGap:s=0,duration:o=0}=t,a=e.getBoundingClientRect(),{top:l,bottom:u}=a,{clientHeight:d,scrollTop:h}=t.container,p=-l+i,f=u-d+s;return p>0?c(n,h-p,o):f>0?c(n,h+f,o):void 0}function l(e,t,n){e&&t.split(" ").forEach(()}unction d(e){if(!e||e===document)return null;const t=s().getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:d(e.parentNode)}},471810:(e,t,n)=>{"use strict";n.d(t,{DJ:()=>o,Rg:()=>a,kK:()=>c,ny:()=>l});var i=n(548854),s=n.n(i),r=n(10946);const o=function(){r.W.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then((()=>{s().Confluence.SpaceBlueprint.Dialog.launch()}))},c=function(){r.W.require(["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:resources"]).then((()=>{s().Confluence.Blueprint.loadDialogAndOpenTemplate({})}))},a="undefined"!=typeof Confluence&&Confluence;const l=()=>"undefined"!=typeof Confluence&&Confluence.Binder&&Confluence.Binder.userHover&&Confluence.Binder.userHover()},515021:(e,t,n)=>{"use strict";unction s(){return"undefined"!=typeof document&&document.scrollingElement?document.scrollingElement:i()}function r(e){return"undefined"!=typeof document&&document.querySelector?document.querySelector(e):null}.d(t,{H0:()=>s,R2:()=>r,rI:()=>o})},193599:(e,t,n)=>{"use strict";n.d(t,{he:()=>l,oN:()=>a,oU:()=>c});var i=n(548854),s=n.n(i),r=n(429360),o=n(293147);function c(){return(0,r.q)(),(0,o.V)(),s().AJS.Rte.BootstrapManager}function a(){return(0,r.q)(),s().AJS.Rte},754028:(e,t,n)=>{"use strict";unction s(){if("undefined"==typeof window||!window.location)return;let e=window.location.origin;return e||(e=`${window.location.protocol}//${window.location.hostname}${window.location.port?`:${window.location.port}`:""}`),e}function r(){"undefined"!=typeof window&&window.location.reload()}unction c(...e){"undefined"!=typeof window&&window.addEventListener.apply(window,e)}function a(...e){"undefined"!=typeof window&&window.removeEventListener.apply(window,e)}function l(){return"undefined"==typeof window?0:window.pageYOffset}unction d(...e){if(window&&window.require)return window.require.apply(window,e)}.d(t,{H5:()=>r,Jj:()=>h,Oo:()=>c,WS:()=>u,XO:()=>l,hW:()=>s,iG:()=>o,le:()=>d,xg:()=>a,xh:()=>i})},480963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(840506),s=n(789085),r=n(723177),o=n(429762);const c=(0,r.tu)({display:"inline-flex",borderRadius:"border.radius",blockSize:"min-content",position:"static",overflow:"hidden"}),a=(0,i.memo)((({children:e,testId:t,isBold:n=!1,appearance:r="default",maxWidth:a=200,style:l})=>{const h=n?"bold":"subtle",p=r in u[h]?r:"default",f="string"==typeof a?a:`${a}px`,m="string"==typeof a&&/%$/.test(a);return i.createElement(o.Z,{as:"span",backgroundColor:u[h][p],style:{backgroundColor:null==l?void 0:l.backgroundColor,maxWidth:m?a:"100%"},paddingInline:"space.050",xcss:c,testId:t},i.createElement(s.Z,{fontSize:"size.050",fontWeight:"bold",lineHeight:"lineHeight.100",textTransform:"uppercase",color:d[h][p],shouldTruncate:!0,UNSAFE_style:{color:null==l?void 0:l.color,maxWidth:m?"100%":`calc(${f} - var(--ds-space-100, 8px))`},testId:t&&`${t}--text`},e))}));a.displayName="Lozenge";const l=a,u={bold:{default:"color.background.neutral.bold",inprogress:"color.background.information.bold",moved:"color.background.warning.bold",new:"color.background.discovery.bold",removed:"color.background.danger.bold",success:"color.background.success.bold"},subtle:{default:"color.background.neutral",inprogress:"color.background.information",moved:"color.background.warning",new:"color.background.discovery",removed:"color.background.danger",success:"color.background.success"}},d={bold:{default:"inverse",inprogress:"inverse",moved:"warning.inverse",new:"inverse",removed:"inverse",success:"inverse"},subtle:{default:"subtle",inprogress:"information",moved:"warning",new:"discovery",removed:"danger",success:"success"}}},233006:(e,t,n)=>{"use strict";n.d(t,{$G:()=>c,AC:()=>p,Dq:()=>l,Mf:()=>g,aR:()=>a,lL:()=>d,pB:()=>m,pp:()=>u,qm:()=>f,uU:()=>h});var i=n(615919),s=n(16728),r=n(2142);const o=(e,t)=>({fontSize:e/(0,r.JB)()+"em",fontStyle:"inherit",lineHeight:t/e}),c={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}},a=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h900.size,c.h900.lineHeight)),{},{color:`var(--ds-text, ${(0,s.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:6.5*(0,r.ww)()+"px"}),l=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h800.size,c.h800.lineHeight)),{},{color:`var(--ds-text, ${(0,s.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.01em",marginTop:5*(0,r.ww)()+"px"}),u=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h700.size,c.h700.lineHeight)),{},{color:`var(--ds-text, ${(0,s.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:5*(0,r.ww)()+"px"}),d=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h600.size,c.h600.lineHeight)),{},{color:`var(--ds-text, ${(0,s.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",marginTop:3.5*(0,r.ww)()+"px"}),h=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h500.size,c.h500.lineHeight)),{},{color:`var(--ds-text, ${(0,s.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",marginTop:3*(0,r.ww)()+"px"}),p=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h400.size,c.h400.lineHeight)),{},{color:`var(--ds-text, ${(0,s.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",marginTop:2*(0,r.ww)()+"px"}),f=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h300.size,c.h300.lineHeight)),{},{color:`var(--ds-text, ${(0,s.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:2.5*(0,r.ww)()+"px",textTransform:"uppercase"}),m=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h200.size,c.h200.lineHeight)),{},{color:`var(--ds-text-subtlest, ${(0,s.Pe)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:2*(0,r.ww)()+"px"}),g=(e={})=>(0,i.Z)((0,i.Z)({},o(c.h100.size,c.h100.lineHeight)),{},{color:`var(--ds-text-subtlest, ${(0,s.Pe)(e)})`,fontWeight:"var(--ds-font-weight-bold, 700)",marginTop:2*(0,r.ww)()+"px"})},327115:971701:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var i=n(199009),s=n(579141),r=n(636755);class o{constructor(e,t={}){(0,i.Z)(this,"client",void 0),(0,i.Z)(this,"nameCache",new Map),(0,i.Z)(this,"nameQueue",new Map),(0,i.Z)(this,"nameStartTime",new Map),(0,i.Z)(this,"processingQueue",new Map),(0,i.Z)(this,"debounce",0),(0,i.Z)(this,"fireHydrationEvent",void 0),(0,i.Z)(this,"processQueue",(()=>{clearTimeout(this.debounce),this.debounce=0;const{queue:e,extraQueue:t}=this.splitQueueAtLimit();this.nameQueue=t,this.processingQueue=new Map([...this.processingQueue,...e]),this.client.lookupMentionNames(Array.from(e.keys())).then((t=>{t.forEach((t=>{const{id:n}=t;e.delete(n),this.resolveQueueItem(t)})),e.forEach(((e,t)=>{this.resolveQueueItem({id:t,status:s.dP.UNKNOWN})}))})).catch((()=>{e.forEach(((e,t)=>{this.resolveQueueItem({id:t,status:s.dP.SERVICE_ERROR})}))})),this.nameQueue.size>0&&this.scheduleProcessQueue()})),this.client=e,this.fireHydrationEvent=(0,r.Ng)(t)}lookupName(e){const t=this.nameCache.get(e);return t?(this.fireAnalytics(!0,t),t):new Promise((t=>{const n=this.processingQueue.get(e);n&&this.processingQueue.set(e,[...n,t]);const i=this.nameQueue.get(e)||[];this.nameQueue.set(e,[...i,t]),0!==i.length||n||this.nameStartTime.set(e,Date.now()),this.scheduleProcessQueue(),this.isQueueAtLimit()&&this.processQueue()}))}cacheName(e,t){this.nameCache.set(e,{id:e,name:t,status:s.dP.OK})}sQueueAtLimit(){return this.nameQueue.size>=this.client.getLookupLimit()}splitQueueAtLimit(){const e=Array.from(this.nameQueue.entries()),t=this.client.getLookupLimit();return{queue:new Map(e.slice(0,t)),extraQueue:new Map(e.slice(t))}}resolveQueueItem(e){const{id:t}=e,n=this.processingQueue.get(t);n&&(this.processingQueue.delete(t),this.nameCache.set(t,e),n.forEach((),this.fireAnalytics(!1,e))}fireAnalytics(e,t){const{id:n}=t,i=t.status===s.dP.OK?"completed":"failed",r=this.nameStartTime.get(n),o=r?Date.now()-r:0;this.nameStartTime.delete(n),this.fireHydrationEvent(i,n,e,o)}}(0,i.Z)(o,"waitForBatch",100)},454812:(e,t,n)=>{"use strict";n.d(t,{Hb:()=>p,ZP:()=>m,a3:()=>h,bj:()=>f});var i=n(615919),s=n(199009),r=n(599635),o=n(579141),c=n(635144),a=n(636755),l=n(394367),u=n.n(l);const d=class h{constructor(){(0,s.Z)(this,"changeListeners",void 0),(0,s.Z)(this,"errListeners",void 0),(0,s.Z)(this,"infoListeners",void 0),(0,s.Z)(this,"allResultsListeners",void 0),(0,s.Z)(this,"analyticsListeners",void 0),this.changeListeners=new Map,this.allResultsListeners=new Map,this.errListeners=new Map,this.infoListeners=new Map,this.analyticsListeners=new Map}subscribe(e,t,n,i,s,r){t&&this.changeListeners.set(e,t),n&&this.errListeners.set(e,n),i&&this.infoListeners.set(e,i),s&&this.allResultsListeners.set(e,s),r&&this.analyticsListeners.set(e,r)}class p extends h{shouldHighlightMention(e){return!1}filter(e){throw new Error(`not yet implemented.\nParams: query=${e}`)}otifyListeners(e,t){(0,c.ZP)("ak-mention-resource._notifyListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.changeListeners.forEach(((n,i)=>{try{n(e.mentions.slice(0,20),e.query,t)}catch(s){(0,c.ZP)(`error from listener '${i}', ignoring`,s)}}))}_notifyAllResultsListeners(e){(0,c.ZP)("ak-mention-resource._notifyAllResultsListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.allResultsListeners.forEach(((t,n)=>{try{t(e.mentions.slice(0,20),e.query)}catch(i){(0,c.ZP)(`error from listener '${n}', ignoring`,i)}}))}_notifyErrorListeners(e,t){this.errListeners.forEach(((n,i)=>{try{n(e,t)}catch(s){(0,c.ZP)(`error from listener '${i}', ignoring`,s)}}))}_notifyInfoListeners(e){this.infoListeners.forEach(((t,n)=>{try{t(e)}catch(i){(0,c.ZP)(`error from listener '${n}', ignoring`,i)}}))}_notifyAnalyticsListeners(e,t,n,i){this.analyticsListeners.forEach(((s,r)=>{try{s(e,t,n,i)}catch(o){(0,c.ZP)(`error from listener '${r}', ignoring`,o)}}))}}const f=e=>!!(e&&e.supportsMentionNameResolving&&e.supportsMentionNameResolving()),m=class extends p{constructor(e){super(),(0,s.Z)(this,"config",void 0),(0,s.Z)(this,"lastReturnedSearch",void 0),(0,s.Z)(this,"activeSearches",void 0),(0,s.Z)(this,"productName",void 0),(0,s.Z)(this,"shouldEnableInvite",void 0),(0,s.Z)(this,"inviteExperimentCohort",void 0),(0,s.Z)(this,"userRole",void 0),(0,s.Z)(this,"onInviteItemClick",void 0),this.verifyMentionConfig(e),this.config=e,this.lastReturnedSearch=0,this.activeSearches=new Set,this.productName=e.productName,this.shouldEnableInvite=!!e.shouldEnableInvite,this.inviteExperimentCohort=e.inviteExperimentCohort,this.onInviteItemClick=e.onInviteItemClick,this.userRole=e.userRole||"basic",this.config.debounceTime&&(this.filter=u()(this.filter,this.config.debounceTime))}otify(e,t,n){if(e>this.lastReturnedSearch)this.lastReturnedSearch=e,this._notifyListeners(t,{duration:Date.now()-e});else{const t=new Date(e).toISOString().substr(17,6);(0,c.ZP)("Stale search result, skipping",t,n)}this._notifyAllResultsListeners(t)}notifyError(e,t){this._notifyErrorListeners(e,t),t&&this.activeSearches.delete(t)}async filter(e,t){try{const n=Date.now();let i;if(e){this.activeSearches.add(e);const n=this.search(e,t);i=await n.mentions}else i=await this.initialState(t);this.notify(n,i,e)}catch(n){this.notifyError(n,e)}}recordMentionSelection(e,t){return this.recordSelection(e,t).then((,()}isFiltering(e){return this.activeSearches.has(e)}resolveMentionName(e){return this.config.mentionNameResolver?this.config.mentionNameResolver.lookupName(e):{id:e,name:"",status:o.dP.UNKNOWN}}cacheMentionNamedateActiveSearches(e){this.activeSearches.add(e)}verifyMentionConfig(e){if(!e.url)throw new Error("config.url is a required parameter");e.securityProvider||(e.securityProvider=d)}learContext(e={}){return Object.keys(e).filter(().reduce(((t,n)=>(0,i.Z)({[n]:e[n]},t)),{})}getQueryParams(e){const t={};return this.config.containerId&&(t.containerId=this.config.containerId),this.config.productId&&(t.productIdentifier=this.config.productId),(0,i.Z)((0,i.Z)({},t),this.clearContext(e))}async remoteInitialState(e){const t={path:"bootstrap",queryParams:this.getQueryParams(e)};try{const e=await r.P6.requestService(this.config,t);return this._notifyAnalyticsListeners(a.oX,a.O3.INITIAL_STATE,a.eX.SUCCEEDED),this.transformServiceResponse(e,"")}catch(n){throw this._notifyAnalyticsListeners(a.oX,a.O3.INITIAL_STATE,a.eX.FAILED),n}}sync remoteSearch(e,t){const n={path:"search",queryParams:(0,i.Z)({query:e,limit:100},this.getQueryParams(t))};try{const t=await r.P6.requestService(this.config,n);return this._notifyAnalyticsListeners(a.oX,a.O3.SEARCH,a.eX.SUCCEEDED),this.transformServiceResponse(t,e)}catch(s){throw this._notifyAnalyticsListeners(a.oX,a.O3.SEARCH,a.eX.FAILED),s}}transformServiceResponse(e,t){const n=e.mentions.map((e=>{let n;return((0,o.Lp)(e)||(0,o.kK)(e))&&(n=e.userType),(0,i.Z)((0,i.Z)({},e),{},{lozenge:n,query:t})}));return(0,i.Z)((0,i.Z)({},e),{},{mentions:n,query:e.query||t})}async recordSelection(e,t){const n={path:"record",queryParams:(0,i.Z)({selectedUserId:e.id},this.getQueryParams(t)),requestInit:{method:"POST"}},s=(0,o.kK)(e)?a.O3.SELECT_TEAM:a.O3.SELECT;try{const e=await r.P6.requestService(this.config,n);return this._notifyAnalyticsListeners(a.oX,s,a.eX.SUCCEEDED),e}catch(c){throw this._notifyAnalyticsListeners(a.oX,s,a.eX.FAILED),c}}}},150539:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d});var i=n(199009),s=n(635144),r=n(454812);class o{constructor(e,t){(0,i.Z)(this,"presence",void 0),(0,i.Z)(this,"expiry",void 0),this.presence=e,this.expiry=Date.now()+t}class c extends r.a3{otifyListeners(e){this.changeListeners.forEach(((t,n)=>{try{t(e)}catch(i){(0,s.ZP)(`error from listener '${n}', ignoring`,i)}}))}}class a extends c{constructor(e){if(super(),(0,i.Z)(this,"config",void 0),(0,i.Z)(this,"presenceCache",void 0),(0,i.Z)(this,"presenceParser",void 0),!e.url)throw new Error("config.url is a required parameter");if(!e.cloudId)throw new Error("config.cloudId is a required parameter");this.config=e,this.config.url=a.cleanUrl(e.url),this.presenceCache=e.cache||new l(e.cacheExpiry),this.presenceParser=e.parser||new u}refreshPresence(e){const t=this.presenceCache.getBulk(e);this.notifyListeners(t);const n=this.presenceCache.getMissingUserIds(e);n.length&&this.retrievePresence(n)}retrievePresence(e){this.queryDirectoryForPresences(e).then(().then(()}queryDirectoryForPresences(e){const t={query:"query getPresenceForMentions($organizationId: String!, $userIds: [String!], $productId: String) {\n                PresenceBulk(organizationId: $organizationId, product: $productId, userIds: $userIds) {\n                  userId\n                  state\n                  stateMetadata\n                }\n              }",variables:{organizationId:this.config.cloudId,userIds:e}};this.config.productId&&(t.variables.productId=this.config.productId);const n={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)};return fetch(this.config.url,n).then((e=>e.json()))}static cleanUrlclass l{constructor(e,t){(0,i.Z)(this,"cache",void 0),(0,i.Z)(this,"size",void 0),(0,i.Z)(this,"expiryInMillis",void 0),(0,i.Z)(this,"flushTrigger",void 0),this.expiryInMillis=e||l.defaultTimeout,this.flushTrigger=t||l.defaultFlushTrigger,this.cache={},this.size=0}_delete(e){delete this.cache[e],this.size--}_deleteIfExpired(e){this.contains(e)&&this.cache[e].expired()&&this._delete(e)}t(e){return this._deleteIfExpired(e),this.contains(e)?this.cache[e].presence:{}}getBulk(e){const t={};for(const n of e)this.contains(n)&&(t[n]=this.get(n));return t}getMissingUserIds(e){return e.filter(()}update(e){this.size>=this.flushTrigger&&this._removeExpired(),Object.keys(e).forEach((t=>{this.cache[t]=new o(e[t],this.expiryInMillis),this.size++}))}}(0,i.Z)(l,"defaultTimeout",2e4),(0,i.Z)(l,"defaultFlushTrigger",50);class u{arse(e){const t={};if(e.hasOwnProperty("data")&&e.data.hasOwnProperty("PresenceBulk")){const n=e.data.PresenceBulk;for(const e of n)if(e.userId&&e.state){const n=u.extractState(e)||e.state;t[e.userId]={status:this.mapState(n)}}else e.hasOwnProperty("userId")&&e.hasOwnProperty("state")||console.error("Unexpected response from presence service contains keys: "+Object.keys(e))}return t}static extractStatetatic isFocusState(e){if(e.stateMetadata)try{const t=JSON.parse(e.stateMetadata);return t&&!!t.focus}catch(t){console.error(`Failed to parse presence's stateMetadata for user with id ${e.userId}: ${e.stateMetadata}`),console.error(t)}return!1}}(0,i.Z)(u,"FOCUS_STATE","focus");const d=a},579141:(e,t,n)=>{"use strict";n.d(t,{FW:()=>r,Lp:()=>l,X:()=>c,dP:()=>o,kI:()=>s,kK:()=>u,ks:()=>d,kz:()=>a,tI:()=>h,ue:()=>i});let i=function(e){return e[e.SELF=0]="SELF",e[e.RESTRICTED=1]="RESTRICTED",e[e.DEFAULT=2]="DEFAULT",e}({}),s={}),r={}),o={});function c(e){return!!e&&e===s[s.NONE]}function a(e){return!!e.userType&&e.userType===r[r.SPECIAL]}function l(e){return e.userType&&e.userType===r[r.APP]}function u(e){return e.userType&&e.userType===r[r.TEAM]}onst h=,636755:(e,t,n)=>{"use strict";n.d(t,{AW:()=>f,KE:()=>m,Ng:()=>v,O3:()=>d,XK:()=>g,eX:()=>p,oX:()=>l,tv:()=>u,zW:()=>y});var i=n(615919),s=n(1705),r=n(327115),o=n(579141);const c="platform-pkg",a="0.0.0-use.local",l="sli",u="smart";let d=function(e){return e.SEARCH="searchUser",e.SEARCH_TEAM="searchTeam",e.INITIAL_STATE="initialState",e.SELECT="select",e.SELECT_TEAM="selectTeam",e}({}),h={}),p={});const f=e=>(t,n,i=[],o)=>{if(e.createAnalyticsEvent){const l={action:t,actionSubject:h.TYPEAHEAD,attributes:{packageName:c,packageVersion:a,componentName:h.MENTION,duration:Math.round(n),userIds:i,queryLength:o?o.length:0},eventType:s.Ru};e.createAnalyticsEvent(l).fire(r.p)}},m=e=>(t,n,i,l,u)=>{const d={action:n,actionSubject:t,eventType:s._d,attributes:{packageName:c,packageVersion:a,componentName:h.MENTION,accessLevel:u,isSpecial:(0,o.ks)(i),userId:l}},p=e(d);return p.fire(r.p),p},g=e=>(t,n)=>{if(e.createAnalyticsEvent){const i=y(t,n);e.createAnalyticsEvent(i).fire(r.p)}},y=(e,t,n)=>({action:t,actionSubject:e,eventType:s.Ru,attributes:(0,i.Z)({packageName:c,packageVersion:a,componentName:h.MENTION},n)}),v=e=>(t,n,i,o)=>{if(e.createAnalyticsEvent){const l={action:t,actionSubject:h.MENTION,actionSubjectId:"hydration",attributes:{packageName:c,packageVersion:a,componentName:h.MENTION,userId:n,fromCache:i,duration:Math.round(o)},eventType:s.Ru};e.createAnalyticsEvent(l).fire(r.p)}}},635144:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s});let i=!1;function s(e,...t){i&&console.log(e,...t)}},599635:(e,t,n)=>{"use strict";n.d(t,{a3:()=>r,P6:()=>u});var i={};n.r(i),n.d(i,{requestService:()=>l});var s=n(199009);class r{constructor(){(0,s.Z)(this,"lastResult",void 0),(0,s.Z)(this,"listeners",new Set)}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}tifyError(e){this.listeners.forEach((t=>{t.error&&t.error(e)}))}ar o=n(615919);const c={},a=(e,t)=>{if(t)for(const n in t)if({}.hasOwnProperty.call(t,n)){const i=t[n];if(Array.isArray(i))for(let t=0;t<i.length;t++)e[n]=i[t];else e[n]=i}},l=(e,t)=>{const{url:n,securityProvider:i,refreshedSecurityProvider:s}=e,{path:r,queryParams:u,requestInit:d}=t||c,h=i&&i(),p=((e,t="",n,i)=>{const s=new URLSearchParams(new URL(e,"https://BASE_FALLBACK").search||void 0);if(e=e.split("?")[0],n)for(const c in n)({}).hasOwnProperty.call(n,c)&&s.append(c,n[c]);if(i&&i.params)for(const c in i.params)if({}.hasOwnProperty.call(i.params,c)){const e=i.params[c];if(Array.isArray(e))for(let t=0;t<e.length;t++)s.append(c,e[t]);else s.append(c,e)}let r="";t&&"/"!==e.substr(-1)&&!t.startsWith("/")&&(r="/");let o=s.toString();return o&&(o="?"+o),`${e}${r}${t}${o}`})(n,r,u,h),f=((e,t)=>{const n={};return a(n,t),e&&a(n,e.headers),n})(h,d&&d.headers),m=((h),g=(null==t?void 0:t.ignoreResponsePayload)||!1,y=(0,o.Z)((0,o.Z)({},d),{},{headers:f,credentials:m});return fetch(p,y).then((e=>204===e.status?Promise.resolve():e.ok?g?Promise.resolve():e.json():401===e.status&&s?s().then((e=>l({url:n,securityProvider:,t))):Promise.reject({code:e.status,reason:e.statusText})))},u=i}}]);
//# sourceMappingURL=4870.KQ88V-MrtX.js.map