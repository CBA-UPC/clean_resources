//@ui5-bundle sap/sf/surj/shell/library-preload.js
sap.ui.predefine("sap/sf/surj/shell/BizXHeader.controller",["jquery.sap.global","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/core/Fragment","sap/ui/core/Icon","sap/m/Dialog","xweb/widget-loader/miniapp/util/Bootstrap","./util/Util","./util/DeferredUtil","./util/ActionSearchUtil","./util/Logger","./util/AnimateUtil","./util/A11yPreferences","./util/SearchUtil","./util/JamUtil","./util/ShowMeUtil","./util/LinkUtil","./util/CookiePolicyUtil","./util/ProxyUtil","./util/FLPServices","./util/NotificationUtil","./controls/BizXMenuListItem","./controls/BizXSuggestionItem","./controls/BizXMenuPopover","./controls/GlobalAssignmentMenuItem","./controls/IntroSuggestionItem","./controls/PeopleSuggestionItem","./controls/ShowMoreSuggestionItem","./controls/ResponsiveSidePanel","./controls/BizXSearchField","./core/BizXResourceModel","./quickcard/QuickcardHandler","./util/PasswordUtil","./controls/BizXButton","./util/Polyfill","jquery.sap.storage","./util/PeopleSearchUtil","./library"],function(e,t,i,r,a,o,n,s,l,u,c,d,h,f,g,p,m,v,_,b,S,y,P,T,M,C,A,O,w,I,N,x,E,k){"use strict";var H=sap.ui.getCore();var L=H.getLibraryResourceBundle("sap.sf.surj.shell.i18n");var D=c.getLogger("BizXShell.controller");var R="sap.sf.todo.util.PanelManager";var B=50;var G=["ActionPeople","People","Jam","JamGroup"];var F=["TITLE","PHONE"];var U={LOGOUT:"sap-icon://log",OPTIONS:"sap-icon://action-settings",SWITCH_TO_ASSIGNMENT:"sap-icon://visits",SELECTED_ASSIGNMENT:"sap-icon://employee-approvals",HOME_ASSIGNMENT:"sap-icon://home",GLOBAL_ASSIGNMENT:"sap-icon://globe",PRIMARY_ASSIGNMENT:"sap-icon://favorite",ADMIN:"sap-icon://technical-object",FEEDBACK:"sap-icon://notification-2",PROXY_NOW:"sap-icon://citizen-connect",DEFAULT:"sap-icon://shortcut",TILE_CATALOG:"sap-icon://grid",TODO_ACTION:"sap-icon://sys-enter",SHOW_VERION_INFO:"sap-icon://hint"};var z={Action:L.getText("COMMON_ACTIONS"),CopilotAction:L.getText("COMMON_COPILOT_ACTIONS"),People:L.getText("COMMON_People")};var q=window.MSGS||{};var Q={ActionPeople:{label:L.getText("COMMON_Action_or_people_search"),placeholder:L.getText("COMMON_Search_for_actions_or_people"),intro:L.getText("COMMON_Global_Action_Search_Intro")},People:{label:L.getText("COMMON_People"),placeholder:L.getText("COMMON_Search_for_people")},Jam:{label:q.COMMON_Jam_search||L.getText("COMMON_Jam_search"),placeholder:q.COMMON_Global_Jam_Search_Placeholder||L.getText("COMMON_Global_Jam_Search_Placeholder")},JamGroup:{placeholder:L.getText("COMMON_Global_Jam_Group_Search_Placeholder")}};var j={todos:"todos",notifications:"notif"};var J="side-panel";var V="aria-expanded";var X="aria-controls";var W=3;var $=[];var K=t.system.phone;return sap.ui.controller("sap.sf.surj.shell.BizXHeader",{onInit:function(){var r=window;var a=this.mModel=H.getModel("pageHeader");if(!a&&window.pageHeaderJsonData){a=this.mModel=new i(window.pageHeaderJsonData);H.setModel(a,"pageHeader")}this._removeDuplicateSubTabs(a);this._normalizeModelData(a);this._handleSapShellParam();this._addClassIfLowVisionEnabled();this._initUserPhoto(a);this._initUtilityLinks(a);if(!s.isRunningBaseDomain()){a.setProperty("/showMeInfo",null);a.setProperty("/settings/showGlobalNotification","false");if(!s.isBaseDomainCORSEnabled()&&!s.getODataProxyUrl()){a.setProperty("/enableGlobalTodos",false)}}var o=a.getProperty("/enableGlobalTodos");if(o&&K){this._todoActionPath="/actionLinks/"+$.length;$.push({id:"TODO_ACTION",icon:U.TODO_ACTION,label:"TODO_ACTION",visible:false})}if(window.SFGuidedTourRegistry){SFGuidedTourRegistry.register("sfGuidedTour_NavigationMenu",{id:"customHeaderModulePickerBtn"})}this.mNoResultItem=new C({introSnippet:'<div class="noSearchResults">'+L.getText("COMMON_No_Results")+"</div>"});this.mIntroItem=new C({introSnippet:"{universalSearch>/introSnippet}"});this._initDialogPosFix();this._initSearchConfig();this._initGlobalNotificationCount();this._initShowMe();this._initTodos();this._initShowCookiePolicy();this._initSecurityPolicy();this._mouseEnterSuggestion=e.proxy(this._mouseEnterSuggestion,this);this._mouseLeaveSuggestion=e.proxy(this._mouseLeaveSuggestion,this);var l=a.getProperty("/globalInstanceRef");var c=this.getView();if(l){r[l]=r[l]||c}var d=this;c.setModel(a,"pageHeader");c.setModel(H.getModel("i18n")||new N,"i18n");c.setModel(H.getModel("universalSearch"),"universalSearch");var h=["clearAddedSubTabs","clearSubTabs","addSubTabs","getJamBaseUrl","getUrlOfSubTabWithId","setUrlOfSubTabWithId","getSubTab","setSelectedSubTab","updateJamGroupSearchInfo"];h.push("updateUtilityLinkVisibility","proxyNow","_adjustPlacematHeight","showVersionDialog","getSubTabIndex","updateSubTab","updateSubTabAt","isSubTabsVisible","addShellbarItem","updateShellbarItem","removeShellbarItem","setNotificationCount","setShellbarVisibility");e.each(h,;this._postMessagePageHeaderCompReady();window.BizXHeaderController=this;this._initFooter();u.checkRedirectAction();this._initSessionTimeout();var f=a.getProperty("/downtimeNotification");if(f){this._initDowntime(f)}var g=a.getProperty("/bodyClasses");if(g){e("body").addClass(g)}var p=a.getProperty("/settings");if(s.isRunningBaseDomain()&&p){if(p.feedBackFeatureEnabled=="true"){s.initFeedback()}if(p.isKbaAnswerRequired=="true"){s.initKBA()}if(p["ui5-content-density-support"]==="true"){e("html, body").addClass(t.support.touch?"sapUiSizeCozy":"sapUiSizeCompact")}var m=H.getConfiguration().getTheme();if(p["sync-high-contrast-with-ui5"]=="true"){e("html").addClass(m.indexOf("sap_belize_hc")==0?"syncHighContrastWithUI5":"syncHighContrastWithUI5Off")}}E.checkPasswordChange();if(p&&p.userAssistEnabled=="true"){if(s.isRunningBaseDomain()||s.isUASupportedExternalModule()){sap.ui.require(["sap/sf/userassistance/userAssistanceUtil"],function(e){e.init(p)})}}if(s.isRunningBaseDomain()){this._handleSidePanelParam()}s.addPageInitScripts();this._initInProductSupport(a);this._updateBodyClassesForFiori3ShellBar();s.setHeaderController(this);if(p&&p.liteMode=="true"){var v=this;var _=a.getProperty("/pageInfo");var b=_.moduleId;var S=_.pageId;var y=a.getProperty("/userLocale");var P=a.getProperty("/userInfo/id");var T=a.getProperty("/settings/tileCatalogUtilityLink");if(typeof T==="string"){T=T.toLowerCase()==="true"}s.fetchPageNavigations({moduleId:b,pageId:S,language:y,userId:P,tileCatalogUtilityLink:T}).then(function(e){Object.keys(e).forEach(function(t){var i=e[t];if(i){if(t==="settings"){Object.keys(i).forEach(function(e){pageHeaderJsonData.settings[e]=i[e];a.setProperty("/settings/"+e,i[e])})}else{pageHeaderJsonData[t]=i;a.setProperty("/"+t,i)}}});v._removeDuplicateSubTabs(a);v._initPageNavigations(a);v._initGlobalAssignmentLink(a);v._initInProductSupport(a);v._initUtilityLinks(a)}).catch(function(e){D.error(e)})}else{this._initPageNavigations(a);this._initGlobalAssignmentLink(a)}s.setupWidgetLoader();n.loadWidget("xweb/theming-loader")},_initUtilityLinks:function(t){var i=this;var r=t.getProperty("/utilityLinks/links");if(!s.isRunningBaseDomain()){r=r&&r.filter(function(e){var t=e.id;return!(t=="PROXY_NOW"||t=="PROXY_BECOME_SELF")});t.setProperty("/utilityLinks/links",r)}r&&e.each(r,function(t,r){var a=e.extend({},r);a.icon=U[a.id]||U.DEFAULT;if(a.id==="LOGOUT"){i._prependOnClick(a,"if (window.BizXHeaderController) {BizXHeaderController.onBeforeLogout()}")}$.push(a)});var a=t.getProperty("/utilityLinks/label/label");if(!t.getProperty("/userTopNav")){t.setProperty("/userTopNav",{fullName:a})}else{t.setProperty("/userTopNav/fullName",a)}t.setProperty("/actionLinks",$)},_initUserPhoto:function(e){var t=e.getProperty("/userInfo");var i=t.photoSrc;if(!i){i={urlType:"eduPhoto",photoType:"liveProfile",mod:t.mod};if(t.userIdEncoded){i.userIdEncoded=t.userIdEncoded}else{i.userId=t.id}}if(!e.getProperty("/userTopNav")){e.setProperty("/userTopNav",{photoSrc:i})}else{e.setProperty("/userTopNav/photoSrc",i)}},_initInProductSupport:function(e){var t=e.getProperty("/settings");if(t&&t.inProductSupportEnabled=="true"){if(s.isRunningBaseDomain()||s.isBaseDomainCORSEnabled()){s.initIPS()}}},_addClassIfLowVisionEnabled:function(){if(h.isLowVisionEnabled()){e("body").addClass("globalLowVisionSupport "+h.getLowVisionType())}},_removeDuplicateSubTabs:function(e){var t=e.getProperty("/subTabs");var i={};for(var r=0;r<t.length;r++){var a=t[r].id;if(a==null){continue}if(i[a]){t.splice(r,1);r--}else{i[a]=true}}e.setProperty("/subTabs",t)},onExit:_initGlobalAssignmentLink:function(t){var i=this;var r=[];var a=false;var o=t.getProperty("/globalAssignmentLinks");o&&e.each(o,function(o,n){var s=e.extend({},n);if(s.isSelected){s.icon=U.SELECTED_ASSIGNMENT}else{s.icon=U.SWITCH_TO_ASSIGNMENT}t.setProperty("/bEmploymentDifferentiatorsFlag",s.employeeDifferentiatorsInfo);var l="";if(t.getProperty("/bEmploymentDifferentiatorsFlag")){l=s.empDifferentiators||L.getText("COMMON_Search_No_Title_Placeholder")}else{l=s.employeeTitle||L.getText("COMMON_Search_No_Title_Placeholder")}if(!s.isActive){var u=L.getText("COMMON_InActive");s.dimmedText=" "+L.getText("COMMON_PARENTHETICAL_PHRASE",[u])}s.label=l;var c;var d;if(s.isPrimaryAssignment){c=U.PRIMARY_ASSIGNMENT;d=L.getText("COMMON_Primary_Employment");s.assignment="primaryAssignment"}else if(s.isGlobalAssignment){c=U.GLOBAL_ASSIGNMENT;d=L.getText("COMMON_Global_Assignment");s.assignment="globalAssignment"}else if(s.isHomeAssignment){c=U.HOME_ASSIGNMENT;d=L.getText("COMMON_Home_Assignment");s.assignment="homeAssignment"}if(d){s.assignmentTypeText=d}if(c){s.supplementalIcons=[{src:c,tooltip:d}]}i._updateGlobalAssignmentLink(s);if(K){$.push(s);a=true}r.push(s);if(n.isSelected){var h=e.extend({},n);t.setProperty("/selectedAssignment",h)}});if(r.length==0){r.push({userId:t.getProperty("/userInfo/id")})}if(a){t.setProperty("/actionLinks",$)}t.setProperty("/activeEmployments",r)},_updateGlobalAssignmentLink:function(e){if(e.url){var t="!function(u){"+"function e(){TopNavLogout.navigateAfterLoggingOutFromSPs(u)}"+"if(window.TopNavLogout){"+"e()"+"}else{"+"sap.ui.require(['sap/sf/surj/shell/util/TopNavLogout'],e,function(){window.location.href=u})"+"}"+"}("+JSON.stringify(e.url).replace(/"/g,"'")+")";if(e.onclick){t+=";"+e.onclick}e.onclick=t;e.url=null}},_filterSubTabs:function(e,t){var i=this;(t.subTabs||[]).forEach(function(t){var r=t.id||"";if(r.endsWith("_SERVICE_CENTER")){e.setProperty("/bIsEnableServiceCenter",true);e.setProperty("/oEnableServiceCenter",t)}else{i.registerSubTab(t)}});t.subTabs=(t.subTabs||[]).filter(function(e){var t=e.id||"";return!t.endsWith("_SERVICE_CENTER")});e.setProperty("/initialTabLength",t.subTabs.length)},_initPageNavigations:function(e){var t=e.getData();var i=t.modules||[];var r=-1;var a=false;for(var o=0;o<i.length;o++){var n=i[o];if(r<0&&n.isSelected){r=o}if(n.id==="HOME"){a=n}}e.setProperty("/selectedModule",r>=0?i[r]:null);e.setProperty("/title",i[r>=0?r:0].label);e.setProperty("/homeModule",a);this._setEnableHomeIcon(e,a);this._filterSubTabs(e,t);this._updateBodyClassesForSubTabs();this._postMessagePageTitle(e)},_postMessagePageTitle:function(e){var t;if(b.isSupported()){t=this._getPageTitle(e);if(t){b.ShellUIService.setTitle(t)}}else if(window.PostMessageAPI){t=this._getPageTitle(e);if(t){PostMessageAPI.sendMessage("navToApp",{title:t})}}},_normalizeModelData:function(e){e.setData(l.normalizeODataResponse(e.getData()));var t=e.getProperty("/universalSearchConfig");var i={};var r=false;for(var a in t){var o=a.substring(0,1).toUpperCase()+a.substring(1);i[o]=t[a];r=r||o!=a}if(r){e.setProperty("/universalSearchConfig",i)}},_setEnableHomeIcon:function(e,t){if(!t||!t.onclick&&!t.url){e.setProperty("/enableHomeIcon",false)}},_getPageTitle:function(e){var t=e.getProperty("/modulePageTitle");var i=this._getSelectedItem(e.getProperty("/modules"));var r=this._getSelectedItem(e.getProperty("/subTabs"));if(!t){var a=i&&i.label;var o=r&&r.label;if(o==a){o=null}if(a&&o){t=a+": "+o}else{t=o||a}if(!t){t=document.title.trim();var n="SuccessFactors:";if(t.indexOf(n)==0){t=t.substring(n.length).trim()}}}return t},_getSelectedItem:function(e){if(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.isSelected){return i}}}return null},_prependOnClick:function(e,t){if(e.onclick){e.onclick=t+";"+e.onclick}else{e.onclick=t;if(e.href||e.url){e.onclick+=";return true"}}},onAfterRendering:function(){var t=true;var i=this;var r=e("#sfLoadBlockerLayer");var a=r.length>0;var o=l.whenUI5LibraryCSSReady().done(function(){if(!t){if(a){r.hide()}else{i._$().css("visibility","visible")}}});t=false;if(o.state()=="pending"){if(a){r.css("background-color","transparent").show()}else{this._$().css("visibility","hidden")}}if(this.mModel.getProperty("/options/ultraWideHeader")){e(window).scroll(e.proxy(this._adjustUltraWideHeader,this));e(window).resize(e.proxy(this._adjustUltraWideHeader,this));SFBodyEventDispatcher.addResizeListener(this,"_adjustUltraWideHeader");this._adjustUltraWideHeader()}var n=window.pageHeaderJsonData;this._testInvalidate();var s=e("#keepWindowScrollWithFiori3Header").attr("content")==="true";if(this._isFiori3HeaderEnabled()&&!s){var u=this._adjustPlacematHeight.bind(this);e(window).resize(u);setTimeout(u,0)}if(!this.mModel.getProperty("/userInfo/photoEnabled")){var c=e(".surjUtilityLinksMenu span.sapMBtnContent");if(c.css("max-Width")!=c.css("width")){c.css("line-height","2.375rem")}}},_afterRenderSearch:function(){var e=(s.findURLParam("q")||"").trim();if(e){if(this._isPageStartingUp()){var t=H.byId("bizXSearchField");if(t!=null){H.getModel("universalSearch").setProperty("/filter",e);t.focus()}}}},_isPageStartingUp:function(){if(!this._searchRenderTime){this._searchRenderTime=(new Date).getTime()}var e=(new Date).getTime()-this._searchRenderTime;return e<2e3},_adjustPlacematHeight:function(){var t=e("div.globalPlacemat").first();if(t.length==0){return}var i=e("div.globalFooter");var r=e(".globalHeader");var a=0;if(r.length>0){a=r.is(":visible")?r.outerHeight(true):0}if(i.length>0){a+=i.outerHeight(true)}t.outerHeight(document.documentElement.clientHeight-a-2,true)},adjustNameSize:function(t){if(typeof this._nameInterval=="undefined"){this._nameInterval=setInterval(e.proxy(function(){var t=e(".surjUtilityLinksMenu .sapMBtnContent,.surjTopNavHeaderBar .surjUserPhotoName");var i=parseInt(t.css("max-height"));if(!isNaN(i)){clearInterval(this._nameInterval);this._nameInterval=undefined;var r=t[0];var a=13;while(r.scrollHeight>r.offsetHeight&&a>10){t.css("font-size",a+"px");a--}}},this),10)}},_testInvalidate:function(){if(!this._hasInvalidated&&!e("body").hasClass("bizXEmbeddedMode")){this._hasInvalidated=true;var t=this.getView();setTimeout(function(){if(e(".sapMBarLeft",t.$()).css("width")=="0px"){t.invalidate()}},100)}},_onAfterRenderingNotification:function(){var t=e.sap.getObject("jamApp.InboxPopover");if(t&&t.bindNotificationBellEvent){t.bindNotificationBellEvent("#current-user-notification-count");this.disableGlobalNotificationButtonClick()}var i=H.byId("current-user-notification-count");if(i){var r=i.$();r.attr(V,false);var a=S.getGlobalNotificationPanelId();var o=e("#"+a);if(o.length&&!r.attr(X)){r.attr(X,a)}}},_adjustUltraWideHeader:function(){var t=this._$();var i=e("#bizXHeaderPlaceholder");if(i.length==0){var r=t.offset();this._iTopOffset=r.top;this._iLeftOffset=r.left;if(H.getConfiguration().getRTL()){this._iLeftOffset+=e("body").prop("scrollWidth")-e(window).width()}this._iHorizMargin=this._iLeftOffset*2-t.outerWidth()+t.innerWidth();i=e('<div id="bizXHeaderPlaceholder"></div>').css({height:t.outerHeight()+"px"}).insertBefore(t)}var a=e(window).width()-this._iHorizMargin-d.getHtmlOffset()+"px";t.css({position:"fixed",top:this._iTopOffset-e(window).scrollTop()+"px",width:a});e("#globalHeaderFullWidthBackground").css({left:e(window).scrollLeft()+"px",width:a})},_initSearchConfig:function(){var t=this.mModel.getProperty("/universalSearchConfig")||{};this.getView()._universalSearchConfig=t;var i=f.createThrottle();i.attachEvent("pageReady",e.proxy(this.showSearchResultPage,this));i.attachEvent("error",e.proxy(this.showSearchError,this));i.attachEvent("pending",e.proxy(this.showSearchPending,this));this.mSearchThrottle=i;this._initSearchTypeItems()},_initSearchTypeItems:function(){var t=this.mModel.getProperty("/universalSearchConfig")||{};var r={};var a=[];var o=null;var n=0;var l=false;if(!s.isRunningBaseDomain()){var u=t.ActionPeople;var c=u&&u.searchEnabled;var d=t.People;if(s.isBaseDomainCORSEnabled()){if(!c&&d){d.searchEnabled=d.searchEnabled||c;d.autoCompletionEnabled=false}}else{if(c){u.searchEnabled=false}if(d){d.searchEnabled=d.searchEnabled||c;d.autoCompletionEnabled=false}}}G.forEach(function(i){var s=t[i];if(!s){if(i=="JamGroup"){var u=g.getDefaultGroupId();s=e.extend({},t.Jam,{groupId:u,label:g.getDefaultGroupLabel(),searchEnabled:u!=null})}else{s={searchEnabled:false}}}if(i=="People"&&s.searchEnabled&&t.ActionPeople&&t.ActionPeople.searchEnabled){s.searchEnabled=false}if(s.searchEnabled){var c=i!="JamGroup"||!!s.groupId;if(c){n++}a.push({searchType:i,label:s.label||Q[i].label||"???",visible:c});if(s.selectedByDefault){o=i}}if(s.searchEnabled){l=true}r[i]=s});if(!o&&a.length>0){o=a[0].searchType}this.mDefaultSearchType=o;e.extend(r,{searchEnabled:l,externalSearchText:L.getText("ACTIONSEARCH_Employee_Directory"),searchTypeItems:a,searchTypeVisible:n>1});var h=H.getModel("universalSearch");if(h){h.setData(r)}else{H.setModel(new i(r),"universalSearch")}if(l){this.resetSearch()}},updateJamGroupSearchInfo:function(){this._initSearchTypeItems()},clearSearch:reset:function(){var e=H.getModel("universalSearch");var t=e.getProperty("/transitiveAction");e.setProperty("/filter","");if(t!=null){this.resetSearch("ActionPeople")}else{this.resetSearch(e.getProperty("/searchType"))}},resetSearch:function(t){t=t||this.mDefaultSearchType;this.mSearchThrottle.abort();var i=H.byId("bizXSearchField");var r=Q[t];var a=H.getModel("universalSearch");var o=r?r.placeholder:"";var n=t?t.indexOf("Transitive")==0:false;if(t=="JamGroup"){var s=a.getProperty("/JamGroup/label");o=jQuery.sap.formatMessage(o,[s])}if(n){var l=a.getProperty("/transitiveAction");o=l&&l.actionLabel}var u={query:"",searchType:t,placeholder:o,tooltip:o,externalSearchVisible:false};if(!n){e.extend(u,{transitiveAction:null})}for(var c in u){a.setProperty("/"+c,u[c])}this._showAllClicked=false;var d=this.getMinimumFilterLength();var f={ActionPeople:"COMMON_ActionSearch_AutoComplete_A11y",Action:"COMMON_ActionSearch_AutoComplete_A11yActions",People:"COMMON_ActionSearch_AutoComplete_A11yPeople"}[t]||"COMMON_ActionSearch_AutoComplete_A11yGeneric";var g=L.getText(f,[d]);var p=null;var m=!a.getProperty("/transitiveAction");if(m&&i&&i._oSuggest&&i._oSuggest.isOpen()&&this._hasResults&&!this.isQuickcardFocused()){p=g}this._hasResults=false;a.setProperty("/a11yAnnouncement",p);a.setProperty("/enableSuggestions",this.isAutoCompleteEnabled());a.setProperty("/enableExternalSearch",this.isExternalSearchEnabled());a.setProperty("/minimumFilterLength",d);a.setProperty("/a11yLabel",g);if(m&&i){i.removeAllSuggestionItems();var v=r?r.intro:null;if(v){if(h.isKeyboardOnlyNavigationEnabled()){v='<div class="globalActionSearchIntro actionSearchA11yInstruction">'+g+"</div>"+v}a.setProperty("/introSnippet",v);i.addSuggestionItem(this.mIntroItem)}}if(i&&i._oSuggest){i._oSuggest.setHighlightedExternalSearch(false)}},afterSuggestClose:function(){setTimeout(e.proxy(function(){if(!this.isQuickcardFocused()){this.getQuickcardHandler().hideActiveQuickcard()}},this),10)},isExternalSearchEnabled:function(){var e=H.getModel("universalSearch");var t=e.getProperty("/searchType");return!this.isAutoCompleteEnabled()||t&&t.indexOf("Jam")==0},isAutoCompleteEnabled:function(){var e=H.getModel("universalSearch");var t=e.getProperty("/searchType");if(t=="ActionPeople"||e.getProperty("/transitiveAction")){return true}var i=e.getProperty("/"+t);return i&&i.autoCompletionEnabled},isShowQuickcardOnSelect:function(){var e=H.getModel("universalSearch");var t=e.getProperty("/searchType");var i=e.getProperty("/"+t);return i&&i.showQuickcardOnSelect},getMinimumFilterLength:function(){var e=H.getModel("universalSearch");var t=e.getProperty("/searchType");if(e.getProperty("transitiveAction")){t="ActionPeople"}var i=e.getProperty("/"+t);return i&&i.allowOneCharQuery?1:2},openSearchSuggestion:function(){if(this.isAutoCompleteEnabled()){H.byId("bizXSearchField").suggest(true)}else{var e=this;var t=new I({resetOnBlur:true,showRefreshButton:true,showSearchButton:false,value:"{universalSearch>/filter}",placeholder:"{universalSearch>/placeholder}",tooltip:"{universalSearch>/tooltip}",enableExternalSearch:true,externalSearch:[this.externalSearch,this],enableSuggestions:false,showSearchType:"{universalSearch>/searchTypeVisible}",pressSearchType:[this.showSearchType,this]});var i=new o("BizXSearchDialog-autocompleteDisabled",{showHeader:false,content:t,afterOpen:function(){t.focus()},afterClose:function(){i.destroy()},buttons:[new sap.m.Button({text:L.getText("COMMON_Cancel"),press:function(){i.close()}}),new sap.m.Button({text:L.getText("COMMON_Ok"),press:function(){e.externalSearch();i.close()}})]});i.setParent(this.getView());i.open()}},pressJobPicker:function(e){var t=this.mModel.getProperty("/bEmploymentDifferentiatorsFlag");var i=t?"empDiffTextForSwitcher":"";var r=t?"supplementalIconForSwitcher":"";this.showMenu(e.getSource(),{menuStyleClass:"gaMenuItems",from:"end",itemPath:"pageHeader>/activeEmployments",showArrow:true,showIcons:true,showHeader:true,header:L.getText("COMMON_Current_Employments"),menuItemTemplate:new M({templateShareable:true,icon:"{pageHeader>icon}",label:"{pageHeader>label}",url:"{pageHeader>url}",onclick:"{pageHeader>onclick}",secondaryText:{parts:[{path:"pageHeader>subtitle"}],formatter:function(e){if(t){return""}return e}},tooltip:{parts:[{path:"pageHeader>label"},{path:"pageHeader>assignmentTypeText"}],formatter:function(e,i){if(t){if(i==undefined){return e}else{return e+" "+i}}return null}},dimmedText:"{pageHeader>dimmedText}",assignmentTypeText:"{pageHeader>assignmentTypeText}",supplementalIcons:{path:"pageHeader>supplementalIcons",template:new a({templateShareable:true,decorative:false,src:"{pageHeader>src}",tooltip:{parts:[{path:"pageHeader>tooltip"}],formatter:function(e){if(t){return null}return e}}}).addStyleClass(r)}}).addStyleClass(i)})},search:function(e){},searchSuggest:function(e){var t=H.getModel("universalSearch");var i=t.getProperty("/searchType");var r=t.getProperty("/transitiveAction");var a=t.getProperty("/filter");var o=H.byId("bizXSearchField");if(i=="ActionPeople"&&r){i="TransitiveAction";t.setProperty("/searchType",i)}a=a&&a.trim();if(a&&a.length>=t.getProperty("/minimumFilterLength")){if(this.isAutoCompleteEnabled()){var n=H.byId("surjTopNavSearchResults");var s=r&&r.actionId;var l={searchValue:a,maxresults:10,keys:F};if(s){l.actionId=s;l.queryType=this._getTransitiveSearchType(r)}if(i=="JamGroup"){l.groupId=g.getDefaultGroupId()}t.setProperty("/query",a);t.setProperty("/externalSearchVisible",false);o.removeAllSuggestionItems();this.mSearchThrottle.change(i,l)}else{this.externalSearch()}}else if(!r){this.resetSearch(i)}o._oSuggest&&o._oSuggest.setSelected(-1)},_getTransitiveSearchType:function(){return"people"},_createCrossOriginSidePanel:function(e){var t=e.panel_title;var i=e.panel_type;var r=e.button_selector;var a=s.ensureBaseDomain("/sf/home?"+J+"="+i);var o;switch(i){case j.todos:o="COMMON_CROSS_ORIGIN_Go_to_Todos";break;case j.notifications:o="COMMON_CROSS_ORIGIN_Go_to_Notifications";break;default:}var n=this.getView();var l=this;return new Promise(function(e,i){sap.ui.require(["sap/m/MessagePage","sap/m/Button"],function(s,u){var c=new w({top:l._getHeaderHeight(),from:"end",refocusRef:H.byId(r),content:new s({title:t,icon:"sap-icon://generate-shortcut",text:"",description:L.getText("COMMON_FUTURE_Feature_Support"),buttons:[new u({text:L.getText("COMMON_Go_Now"),press:function(){m.handle({url:a})},tooltip:o?L.getText(o):""})]})});c.setParent(n);e(c,i)})})},_createSuggestionItem:function(e,t,i,r,a){var o=null;switch(e){case"Jam":o=new P({text:t.Name,highlightedText:"{universalSearch>/query}"});var n=t.CssClass;if(n){o.setCustomCss(t.CssClass)}else{o.setIcon(t.ImgUrl)}break;case"Action":case"CopilotAction":o=new P({text:t.actionLabel,highlightedText:"{universalSearch>/query}"});break;case"People":o=new A({user:t,highlightedText:"{universalSearch>/query}",enablePhoto:this._enablePhoto&&t.photoViewable});break;case"showMore":var s;var l=t.totalCount-t.items.length;switch(t.type){case"People":s=l>100?L.getText("COMMON_Show_100_more_people"):L.getText("COMMON_Show_x_more_people",l);break;case"Action":case"CopilotAction":s=l>100?L.getText("COMMON_Show_100_more_actions"):L.getText("COMMON_Show_x_more_actions",l);break}o=new O({text:s});break}if(o.setSectionTitle){o.setSectionTitle(i)}if(o){o.__itemType=e;o.__item=t;o.__activeIndex=r;o.__totalCount=a}return o},showSearchResultPage:function(t){var i=this.oSearchResultsParams=t.getParameters();var r=i.items;var a=H.getModel("universalSearch");var o=this;var n=H.byId("bizXSearchField");var s=i.itemOffset;var l=false;var u=e("#autocomplete\\.enablePhotoForActionSearchAndQuickcard");if(u.length>0){this._enablePhoto=u.attr("content")!="false"}else{var c=window.pageHeaderJsonData;var d=c&&c.settings;this._enablePhoto=!d||d["autocomplete.enablePhotoForActionSearchAndQuickcard"]!=="false"}e.each(r,function(t,r){if(r.items){var a=z[r.type];e.each(r.items,function(e,t){var i=s+e;var u=r.type;if(u=="People"){l=true}n.addSuggestionItem(o._createSuggestionItem(u,t,e==0?a:null,i,r.totalCount))});if(r.hasMore){n.addSuggestionItem(o._createSuggestionItem("showMore",r,null))}}else{var u=s+t;var c=i.type;if(c=="People"){l=true}n.addSuggestionItem(o._createSuggestionItem(c,r,null,u,i.totalCount))}});var h=a.getProperty("/searchType");var f=this.mModel.getProperty("/settings/enabledDirectorySearch")==="true";var g=f&&h.indexOf("People")>=0&&l;if(r.length==0&&i.first){n.addSuggestionItem(this.mNoResultItem)}a.setProperty("/externalSearchVisible",g);n.suggest(true);var p=a.getProperty("/transitiveAction");var m=null;var v=i.response;var _=false;if(v&&v.showingMore){var m=L.getText({People:"COMMON_GlobalSearch_Announcement_Showing_More_People",Action:"COMMON_GlobalSearch_Announcement_Showing_More_Actions",CopilotAction:"COMMON_GlobalSearch_Announcement_Showing_More_CopilotActions"}[i.type]||"COMMON_GlobalSearch_Announcement_Showing_More_Items",[i.totalCount]);m=L.getText("COMMON_GlobalSearch_Count_Summary",[m]);a.setProperty("/a11yAnnouncement",m);setTimeout(function(){var e=n._oSuggest.getList();if(e){e.selectByIndex(v.items.length-1,false)}},100)}else if(i.first){var b=i.totalCount;if(b==undefined){var S={};b=0;e.each(r,function(e,t){var i=t.type;var r=t.totalCount;var a=t.items&&t.items.length;b+=r;S[t.type]=L.getText("COMMON_GlobalSearch_Announcement_"+i+(a==1?"_Singular":"_Plural")+(r>a?"_Limited":""),[r,a])});if(b==0){m=L.getText("COMMON_GlobalSearch_Announcement_NoResults");_=true}else if(i.type=="ActionPeople"){m=S.CopilotAction?L.getText("COMMON_GlobalSearch_Announcement_ActionCopilotPeople",[S.Action,S.CopilotAction,S.People]):L.getText("COMMON_GlobalSearch_Announcement_ActionPeople",[S.Action,S.People])}else{m=L.getText("COMMON_ComboBox_Aria_Item_Count_Announcement",[b])}}else if(b>0){var y={People:"COMMON_GlobalSearch_Announcement_People",Action:"COMMON_GlobalSearch_Announcement_Action",CopilotAction:"COMMON_GlobalSearch_Announcement_CopilotAction"}[i.type];if(y){y+=b==1?"_Singular":"_Plural"}m=L.getText(y||"COMMON_ComboBox_Aria_Item_Count_Announcement",[b]);if(p){m=this._getTransitiveSearchType(p)=="people"?L.getText("COMMON_GlobalSearch_Announcement_Transitive_Action_Person",[m,p.actionLabel]):L.getText("COMMON_GlobalSearch_Announcement_Transitive_Action",[m,p.actionLabel])}else{m=L.getText("COMMON_GlobalSearch_Count_Summary",[m])}}else{m=L.getText("COMMON_GlobalSearch_Announcement_NoResults");_=true}}if(m){a.setProperty("/a11yAnnouncement",m)}if(!_){this._hasResults=true;setTimeout(function(){if(n._oSuggest){var e=n._oSuggest.getList();if(e){var t=e.$().find(".bizXSuggestionItem");t.unbind("mouseenter",o._mouseEnterSuggestion);t.bind("mouseenter",o._mouseEnterSuggestion);t.unbind("mouseleave",o._mouseLeaveSuggestion);t.bind("mouseleave",o._mouseLeaveSuggestion)}}},100)}if(i.hasMore){setTimeout(function(){o._checkScroll()},100)}},getQuickcardHandler:focusQuickcard:function(e){this._quickcardFocused=true;var t=e&&e.getSource()||H.byId("bizXSearchField");var i=this;var r=this.getQuickcardHandler();function a(){i._quickcardFocused=false;r.removeQuickcardHiddenCallback(a);t.focus()}r.addQuickcardHiddenCallback(a);r.focusQuickcard()},isQuickcardFocused:function(){return this._quickcardFocused},highlightExternalSearch:function(){var e=H.getModel("universalSearch");e.setProperty("/a11yAnnouncement",L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Directory_Search"));this.getQuickcardHandler().hideActiveQuickcard()},quickcardRequest:function(t){if(t&&t.getParameters){t=t.getParameters()}if(!K){var i=t.suggestionItem;var r=i.__itemType;var a=i.__item;var o=i.__activeIndex;var n=i.__totalCount;if(!t.noAnnouncement){var s=H.getModel("universalSearch");s.setProperty("/a11yAnnouncement","");var l=s.getProperty("/transitiveAction");var u=r=="People";var c,d,h;if(i.getA11yAnnouncement){c=i.getA11yAnnouncement()}if(!c){c=i.getSuggestionText()}if(l){var f=[l.actionLabel];d=u?L.getText("COMMON_GlobalSearch_Announcement_Select_Transitive_Person",f):L.getText("COMMON_GlobalSearch_Announcement_Select_Transitive",f)}else if(r=="showMore"){d={Person:L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Show_All_People"),Action:L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Show_All_Actions"),CopilotAction:L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Show_All_CopilotActions")}[a.type]||L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Show_All_Items")}else{d={People:L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Person"),Action:L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Action"),CopilotAction:L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_CopilotAction")}[r]||L.getText("COMMON_GlobalSearch_Announcement_Press_Enter_Item")}if(r=="showMore"){h=L.getText("COMMON_GlobalSearch_Announcement_Selected_ShowMore",[c,d])}else{var f=[c,o+1,n,d];h={People:L.getText("COMMON_GlobalSearch_Announcement_Selected_Person",f),Action:L.getText("COMMON_GlobalSearch_Announcement_Selected_Action",f),CopilotAction:L.getText("COMMON_GlobalSearch_Announcement_Selected_CopilotAction",f)}[r]||L.getText("COMMON_GlobalSearch_Announcement_Selected_Item",f)}s.setProperty("/a11yAnnouncement",h)}return this.getQuickcardHandler().showQuickcardForSuggestion({type:r,item:a,suggestionItem:i,itemIndex:t.itemIndex,origin:t.origin,immediate:t.immediate,fromHeader:true,a11yAnnouncements:t.noAnnouncement?null:{focused:L.getText("COMMON_GlobalSearch_Announcement_Quickcard_Focused"),available:L.getText("COMMON_GlobalSearch_Announcement_Quickcard_Available")}})}return e.Deferred().reject()},_mouseEnterSuggestion:function(e){var t=e.currentTarget;var i=H.byId(t.id);var r=this;if(this.mQuickcardRequest&&this.mQuickcardRequest.cancel){this.mQuickcardRequest.cancel()}this.mQuickcardRequest=this.quickcardRequest({suggestionItem:i,noAnnouncement:true}).always(},_mouseLeaveSuggestion:_checkScroll:_isScrolledBottom:function(){if(this._oScrollDelegate){var e=this._oScrollDelegate.getScrollTop();var t=this._oScrollDelegate.getMaxScrollTop();return t-e<B}return false},setSearchScrollDelegate:function(t){var i=t.getParameter("scrollDelegate");this._oScrollDelegate=i;i.setGrowingList(e.proxy(this._checkScroll,this))},showSearchError:function(e){var t=H.getModel("universalSearch");var i=H.byId("bizXSearchField");var r=L.getText("COMMON_AJAX_DEFAULT_ERROR");var a=e.getParameters();var o=a&&a.response;if(o&&typeof o!="string"&&typeof o[0]=="string"){if(o[1]&&o[1].statusText=="Unauthorized"){o=q.COMMON_SESSION_EXPIRED_MESSAGE_DETAILS||L.getText("COMMON_SESSION_EXPIRED_MESSAGE_DETAILS")}else{o=o[0]}}if(typeof o=="string"){r=o}t.setProperty("/introSnippet",'<div class="noSearchResults">'+r+"</div>");i.addSuggestionItem(this.mIntroItem);i.suggest(true)},showSearchPending:function(e){var t=H.getModel("universalSearch");var i=e.getParameter("pending");D.info("GlobalSearch pending: "+i);t.setProperty("/pending",i)},externalSearch:function(){var e=H.getModel("universalSearch");var t=e.getProperty("/filter");if(t&&t.length>1){var i=e.getProperty("/searchType");var r={searchValue:t};if(i=="ActionPeople"){i="People"}if(i=="JamGroup"){r.groupId=g.getDefaultGroupId()}f.externalSearch(i,r)}},selectSearchTypeItem:function(e){var t=e.getSource();var i=t.getBindingContext("universalSearch").getProperty("searchType");this.resetSearch(i)},selectSuggestItem:function(t){var i=this;var r=t.getParameter("selectedItem");var a=r.__itemType;var o=r.__item;var n=r.__activeIndex;if(o){var s=H.getModel("universalSearch");var l=H.byId("bizXSearchField");if(a=="showMore"){this._showAllClicked=true;l.removeAllSuggestionItems();s.setProperty("/externalSearchVisible",false);s.setProperty("/filter",s.getProperty("/query"));this.mSearchThrottle.change(function(){return e.Deferred().resolve(e.extend({showingMore:true},o))},{searchValue:s.getProperty("/query")})}else if(a=="Jam"){window.location.href=o.Href}else{var u=s.getProperty("/transitiveAction");var c=null;if(u){a="Action";c=o;o=u}if(a=="Action"&&o.transitive&&!c){s.setProperty("/searchType","TransitiveAction");s.setProperty("/transitiveAction",o);s.setProperty("/filter","");s.setProperty("/placeholder","");l.removeAllSuggestionItems();l.focus();if(K){l.reopenSuggestionsAndClear()}}else{var d=this.oSearchResultsParams.totalCount;if(this.oSearchResultsParams.type=="ActionPeople"){var h=this.oSearchResultsParams.items;e.each(h,function(e,t){if(t.type===a){d=t.totalCount;return false}})}if(this.isShowQuickcardOnSelect()&&a=="People"){this.quickcardRequest({suggestionItem:r,immediate:true}).done(function(){i.focusQuickcard()})}else{l.suggest(false);f.selectItem(a,{item:o,subject:c,criteria:this.oSearchResultsParams.criteria,totalCount:d,showAllClicked:this._showAllClicked,activateIndex:n,actionArgs:o.actionArgs})}}}}},navigate:function(e){var t=e.getSource();if(t instanceof sap.m.SelectList||t instanceof sap.m.List){t=t.getSelectedItem()}var i=t.getBindingContext("pageHeader").getObject();if(i.id=="TODO_ACTION"){this.showTodoPanel()}else{m.handle(i)}},navigateToHome:function(){var e=this.mModel.getProperty("/homeModule");if(e){m.handle(e)}},feedbackClickHandler:function(){this.loadFeedback().then(function(){console.log("Feedback dialog loaded successfully")}).catch(function(e){console.error(e)})},loadFeedback:function(){var e=this;return this.getQSI().then(function(t){return new Promise(function(i){sap.ui.require(["sap/sf/surj/shell/util/FeedbackEmbeddedDataUtil"],function(r){if(e.bFeedbackLoaded){t.API.unload()}window.feedbackEmbeddedData=r.getFeedbackEmbeddedData(e.mModel);t.API.load();t.API.run();e.bFeedbackLoaded=true;i()})})})},getQSI:function(){var e=this.mModel.getProperty("/settings/feedback.bootstrap_url");if(this.oQsiPromise){return this.oQsiPromise}return this.oQsiPromise=new Promise(function(t){window.addEventListener("qsi_js_loaded",function(){t(window.QSI)});s.dangerouslyIncludeScript(e).catch(})},testLoadFeedbackReset:serviceCenterClickHandler:function(){var e=this.mModel.getProperty("/oEnableServiceCenter");if(e){m.handle(e)}},getCompanyLogoAlignment:function(){var t=e('<div id="globalLogoPositionRevealer"></div>').appendTo("body");var i=t.css("left");t.remove();if(this._isFiori3HeaderEnabled()&&i=="0px"){i="-1px"}return{"-1px":"Left","0px":"Middle","1px":"Right"}[i]},detectThemeChanges:function(){var e=H.byId("bizXHeaderCompanyLogo");var t=this._getCustomHeader();this.insertCompanyLogo(t,e)},insertCompanyLogo:function(e,t){switch(this.getCompanyLogoAlignment()){case"Middle":e.addContentMiddle(t);break;case"Left":e.insertContentLeft(t,0);break;default:e.addContentRight(t);break}},_initJamNotificationCount:function(){var e=new i;var t=g.isEnabled();var r=false;e.setProperty("/visible",t&&!r);if(t){g.getNotificationCount().progress(function(t){e.setProperty("/newCount",t)})}H.setModel(e,"jamNotification")},_initGlobalNotificationCount:disableGlobalNotificationButtonClick:toggleGlobalNotificationPanel:function(){if(!this._hasGlobalNotificationClickBeenOverridden()){if(s.isRunningBaseDomain()||s.isBaseDomainCORSEnabled()){}else{if(!this._notifPanelPromise){this._notifPanelPromise=this._createCrossOriginSidePanel({panel_title:L.getText("COMMON_Notification_title"),button_selector:"current-user-notification-count",panel_type:j.notifications})}this._notifPanelPromise.then(function(e){e.show()})}}this.setNotificationButtonAria()},setNotificationButtonAria:function(){var e=H.byId("current-user-notification-count");if(e){var t=e.$();t.attr(V,true);if(!t.attr(X)){t.attr(X,S.getGlobalNotificationPanelId())}}},_hasGlobalNotificationClickBeenOverridden:function(){return this._overrideGlobalNotificationClick},showModulePicker:function(t){this.showMenuOrSidePanel(t.getSource(),{menuStyleClass:"moduleDropDownPopup",from:"begin",itemPath:"pageHeader>/modules",sidePanelItemTemplate:new sap.m.StandardListItem({icon:"{pageHeader>icon}",title:"{pageHeader>label}"}).addStyleClass("globalMenuItem"),menuItemTemplate:new y({label:"{pageHeader>label}",url:"{pageHeader>url}",onclick:"{pageHeader>onclick}",target:{parts:[{path:"pageHeader>newWindow"}],formatter:})});var i=e("#customHeaderModulePickerBtn");if(i.length&&!i.attr(X)){i.attr(X,"customHeaderModulePickerBtn-menuPopover")}},showUtilityLinks:function(e){var t=this.mModel.getProperty("/actionLinks");if(t==null||t.length==0){return}var i=e.getSource();var r=this._isFiori3HeaderEnabled();var a={label:"{pageHeader>label}",url:"{pageHeader>url}",onclick:"{pageHeader>onclick}",target:"{pageHeader>target}",visible:{parts:[{path:"pageHeader>visible"}],formatter:function(e){return e!==false}}};if(r){a.icon="{pageHeader>icon}"}this.showMenuOrSidePanel(i,{showArrow:r,showHeader:r,header:"{pageHeader>/userTopNav/fullName}",from:"end",itemPath:"pageHeader>/actionLinks",contentMinWidth:i.$().width()+"px",sidePanelItemTemplate:new sap.m.StandardListItem({icon:"{pageHeader>icon}",title:"{pageHeader>label}",description:"{pageHeader>dimmedText} ",info:"{pageHeader>assignment}",visible:{parts:[{path:"pageHeader>visible"}],formatter:function(e){return e!==false}}}).addStyleClass("globalMenuItem").addEventDelegate({onAfterRendering:function(e){var t=e.srcControl;var i=t.getProperty("info");t.addStyleClass(i)}}),menuItemTemplate:new y(a),menuStyleClass:"utilityLinksMenuPopover"})},updateUtilityLinkVisibility:function(e,t){var i=this.mModel.getProperty("/actionLinks");i&&i.forEach(function(i){if(i.id===e){i.visible=t}})},showSearchType:function(e){var t=e.getSource();this.showMenu(t,{from:"end",itemPath:"universalSearch>/searchTypeItems",listItemTemplate:new y({type:"Active",label:"{universalSearch>label}",press:[this.selectSearchTypeItem,this]})})},showMenu:function(t,i){var r=t.getId()+"-menuPopover";var a=H.byId(r);if(!a){var o=i.menuItemTemplate||i.listItemTemplate;o.addEventDelegate({onclick:function(e){var t=100;setTimeout(function(){a.close()},t)},ontap:);a=new T(r,{from:i.from,title:i.header,showHeader:!!i.showHeader,showArrow:!!i.showArrow,placement:i.placement||"Bottom",beforeOpen:function(){var e=t.$();e.children(".sapMBtnInner").addClass("globalModulePickerActive");e.attr(V,"true");t.addStyleClass("bizXMenuShown");i.beforeOpen&&i.beforeOpen.apply(i,arguments)},afterClose:function(){setTimeout(function(){var i=t.$();i.children(".sapMBtnInner").removeClass("globalModulePickerActive");t.removeStyleClass("bizXMenuShown");i.attr(V,"false");e("#customHeaderModulePickerBtn").attr(V,false)},100);i.afterClose&&i.afterClose.apply(i,arguments)},content:new sap.m.List({backgroundDesign:"Transparent",items:{path:i.itemPath,template:o}})});a.addStyleClass("globalHumanistText");if(i.menuStyleClass){a.addStyleClass(i.menuStyleClass)}a.setParent(this.getView())}if(a.isOpen()||t.hasStyleClass("bizXMenuShown")){a.close()}else{a.openBy(t)}},showSidePanel:function(t,i){var r=t.getId()+"-sidePanel";var a=H.byId(r);if(!a){var o=new sap.m.ScrollContainer({vertical:true,horizontal:false,width:"100%",height:"100%"});var n=new sap.m.List({backgroundDesign:"Transparent",headerText:i.header,mode:"SingleSelectMaster",select:[this],items:{path:i.itemPath,template:i.sidePanelItemTemplate}}).addStyleClass("globalMenu");n.addEventDelegate({onAfterRendering:function(){e("#"+this.getId()).find(":not(:has(*))").addClass("leaf")}},n);o.addContent(n);a=new w(r,{top:this._getHeaderHeight(),from:i.from,content:o}).addStyleClass("bizxHeaderSidePanel");a.setParent(this.getView())}if(a.isShown()){a.hide()}else{a.show()}},showMenuOrSidePanel:function(t,i){var r=e("html").hasClass("sapUiMedia-StdExt-Phone");this[r?"showSidePanel":"showMenu"](t,i)},pressProductSwitcher:function(e){if(!this._fragPromise){this._fragPromise=Promise.all([r.load({name:"sap.sf.surj.shell.fragments.ProductSwitcher",controller:this}),this.getSapProducts()]).then(function(e){return e[0].setModel(new i({products:e[1]}))})}var t=e.getSource();this._fragPromise.then(.catch(function(e){D.error(e);sap.ui.require(["sap/m/MessageBox"],function(e){e.error(L.getText("COMMON_AJAX_DEFAULT_ERROR"))})})},getSapProducts:function(){var e=this.getSessionStorage();var t=e&&e.get("SapProducts-"+this.mModel.getProperty("/userLocale"));if(t){return Promise.resolve(t)}return new Promise(function(e,t){l.invokeODataService({baseUrl:"/odata/v2/restricted/_PageMetaData_/",serviceName:"getSapProducts"}).then(t)})},openURL:function(e){if(e&&e.trim()!==""){sap.m.URLHelper.redirect(e,true)}},_initShowMe:function(){p.init()},_initDialogPosFix:function(){var t=o.prototype._calcCenter;if(t){e("body").addClass("withDialogPosFix")}},_initSecurityPolicy:function(){s.initCSP()},isTodoPanelFullyFeatured:function(){return s.isRunningBaseDomain()},_initTodos:function(){var e=this.mModel;if(e.getProperty("/enableGlobalTodos")){var t=this._todoActionPath;var i=function(i){e.setProperty("/globalTodoCount",i);if(t){e.setProperty(t+"/visible",i>0);e.setProperty(t+"/label",i==1?L.getText("COMMON_You_Have_Todos_SINGULAR"):L.getText("COMMON_You_Have_Todos_PLURAL",[i]))}};if(this.isTodoPanelFullyFeatured()){Z().done(function(t){t.create(i,function(t,i){e.setProperty("/globalTodoErrorMessage",t);if(i){D.error("Error getting todo count",i)}})})}else{this.getTodoCountManually().then(i,}}},_getHeaderHeight:getTodoCountManually:function(){var t=this.getSessionStorage();var i=t&&t.get("todoCount");if(i!=null){return e.Deferred().resolve(i)}l.registerODataService({serviceName:["getTodoPanelInitializer","getTodoDetails"],serviceAlias:"_ToDo_"});l.finalizeODataRegistry({serviceAlias:"_ToDo_"});return l.invokeService({type:"ODataService",serviceName:"getTodoPanelInitializer"}).then(function(i){var r=0;var a=l.normalizeODataResponse(i,"TodoPanelInitializer");e.each(a.tiles,function(e,t){var i=t.properties||JSON.parse(t.propertiesJSON);var a=i&&i.numberValue;if(a){if(typeof a==="number"){r+=a}else if(a.bindModel){var o=H.getModel(a.model);if(o){var n=o.getProperty(a.path);if(typeof n==="number"){r+=n}}}}else{r+=1}});t&&t.put("todoCount",r);return r})},getSessionStorage:function(){var t;var i=s.getSessionRef();if(i){t=e.sap.storage("session","_bizxheader_"+i)}return t},_initShowCookiePolicy:function(){v.init()},showTodoPanel:function(){if(this.isTodoPanelFullyFeatured()){Z().done(e.proxy(function(e){e.togglePanel();this.toggleTodoButtonAriaExpanded(e.getPanel())},this)).fail(function(){sap.ui.require(["sap/m/MessageBox"],})}else{if(!this._todoPanelPromise){this._todoPanelPromise=this._createCrossOriginSidePanel({panel_title:L.getText("COMMON_You_Have_Todos"),button_selector:"globalTodos",panel_type:j.todos})}this._todoPanelPromise.then(function(e){e.show()});this.toggleTodoButtonAriaExpanded(this._todoPanelPromise)}},toggleTodoButtonAriaExpanded:function(e){var t=H.byId("globalTodos");if(e&&t){var i=t.$();if(e instanceof Promise){e.then(this.ariaUnexpandedAfterHide);e.then(this.setTodoAriaControls)}else{this.ariaUnexpandedAfterHide(e,i);this.setTodoAriaControls(e,i)}i.attr(V,true)}},ariaUnexpandedAfterHide:function(e,t){var i=t||H.byId("globalTodos").$();e.attachEvent("afterHide",},setTodoAriaControls:function(e,t){var i=t||H.byId("globalTodos").$();i.attr(X,e.getId())},getJamBaseUrl:function(){return g.getBaseUrl()},getUrlOfSubTabWithId:function(e){var t=H.getModel("pageHeader");var i=t.getProperty("/subTabs");for(var r=0;r<i.length;r++){var a=i[r];if(a.id==e){return a.url}}return null},setUrlOfSubTabWithId:function(t,i){var r=H.getModel("pageHeader");var a=r.getProperty("/subTabs");var o=a.length;if(o>0){for(var n=0;n<a.length;n++){var s=a[n];if(s.id==t){s=e.extend({},s);s.url=i;r.setProperty("/subTabs/"+n,s)}}}},_updateBodyClassesForSubTabs:function(){e("body")[!this.isSubTabsVisible()?"addClass":"removeClass"]("globalNavigationSansSubNav")},_updateBodyClassesForFiori3ShellBar:function(){e("body")[this._isFiori3HeaderEnabled()?"addClass":"removeClass"]("fioriShellBarEnabled")},clearAddedSubTabs:function(){var e=this.mModel;var t=e.getProperty("/initialTabLength");var i=e.getProperty("/subTabs");for(var r=i.length-1;r>=t;--r){i.pop()}e.setProperty("/subTabs",i);this._updateBodyClassesForSubTabs()},clearSubTabs:function(){var t=this.mModel;var i=t.getProperty("/subTabs");for(var r=i.length-1;r>=0;--r){i.pop()}t.setProperty("/subTabs",i);t.setProperty("/initialTabLength",0);e("body").addClass("globalNavigationSansSubNav")},getExistingSubTabsMap:function(e){var t=e.getProperty("/subTabs");var i={};for(var r=0;r<t.length;r++){if(t[r].id==null){continue}i[t[r].id]=true}return i},addSubTabs:function(t){if(!e.isArray(t)){if(t){t=[t]}else{t=[]}}var i=this.mModel;var r=i.getProperty("/subTabs");var a=r.length;var o=this.getExistingSubTabsMap(i);var n=t.length;var s=false;for(var l=0;l<n;l++){var u=t[l];u.alwaysShow=true;s=s||u.isSelected;if(!o[u.id]){r.push(u)}this.registerSubTab(u)}if(s){for(var l=0;l<a;l++){r[l].isSelected=false}}i.setProperty("/subTabs/",r);this._updateBodyClassesForSubTabs()},registerSubTab:function(e){var t=e.id;if(t){var i="bizxSubTab_"+t;if(window.SFGuidedTourRegistry){SFGuidedTourRegistry.registerTopNavLink(t,i,e.isSelected)}if(window.ONBHighlighter){ONBHighlighter.registerTopNavLink(t,i)}}},getSubTab:setSelectedSubTab:function(e){var t=this.mModel;var i=t&&t.getProperty("/subTabs")||[];i.forEach(;H.byId("surjSubTabBar").invalidate()},getSubTabIndex:function(e){if(this.mModel){var t=this.mModel.getProperty("/subTabs");if(t!=null){for(var i=0;i<t.length;i++){var r=t[i];if(r&&r.id==e){return i}}}}return-1},updateSubTab:function(e,t){var i=this.getSubTabIndex(e);var r=i>=0;if(r){this.updateSubTabAt(i,t)}return r},updateSubTabAt:function(t,i){if(typeof i=="string"){i={label:i,title:i}}if(this.mModel){var r="/subTabs/"+t;var a=e.extend(this.mModel.getProperty(r),i);this.mModel.setProperty(r,a)}},getModel:function(){return this.mModel},focusHeader:function(){sap.ushell.renderers.fiori2.AccessKeysHandler.handleFocusBackToMe({shiftKey:true,keyCode:9,preventDefault:function(){}})},focusContent:function(){var t=sap.ushell.renderers.fiori2.AccessKeysHandler;var i=t.fnExternalKeysHandler;if(i&&e.isFunction(i)){i.call(t,{shiftKey:false,keyCode:9,preventDefault:function(){}},t.bFocusPassedToExternalHandlerFirstTime);t.bFocusPassedToExternalHandlerFirstTime=false}},isSubTabsVisible:function(){var e=this.mModel;return e.getProperty("/subTabs/length")>1||!!e.getProperty("/subTabs/0/alwaysShow")},_$:function(){return e("#"+this.getView().getId())},_initializeChatbotSupport:function(){e.sap.require("sap.sf.digitalexperience.CopilotServicesUtil");e.sap.registerModulePath("sap.cp.ui","/copilot/ui");try{e.sap.require("sap.cp.ui.copilot-bootstrap");u.registerQuickcardHandler({actionName:"CopilotQuickcardHandler",actionHandler:function(e){jQuery.sap.require("sap.cp.ui.services.DigitalAssistant");sap.cp.ui.services.DigitalAssistant.askCoPilot(e.actionLabel)}})}catch(e){}},showVersionInfo:function(t){if(this._aboutBoxMarkup==null){this._aboutBoxMarkup=this.mModel.getProperty("/aboutBoxMarkup")||e("#aboutBox").html()}var i={content:this._aboutBoxMarkup,refocusRef:t||this._getUtilityLinksMenuButton()};sap.ui.require(["sap/sf/surj/shell/util/AboutBoxUtil"],function(e){e.open(i)});return false},proxyNow:function(){if(s.isRunningBaseDomain()){_.showDialog()}else{}},onBeforeLogout:function(){if(window.SFSessionStorage){SFSessionStorage.clear()}if(window.SFSessionTimeout){SFSessionTimeout.disableUIDisplay();SFSessionTimeout.endSession()}if(!window.TopNavLogout){jQuery.sap.require("sap.sf.surj.shell.util.TopNavLogout")}},hideUtilityLinksPopover:function(){var e=H.byId("utilityLinksMenuId-menuPopover");if(e){setTimeout(function(){e.close()},100)}},_getUtilityLinksMenuButton:function(){return jQuery("#utilityLinksMenuId")},_initDowntime:function(e){if(e){var t="_downtimeDisplayed_"+e.fromDate+"_"+e.toDate;var i=this.getSessionStorage();if(i&&!i.get(t)){i.put(t,e);sap.ui.require(["sap/sf/surj/shell/util/DowntimeNotificationUtil"],function(t){t.show(e)})}}},_initSessionTimeout:function(){var e=window.useSessionTimeout;if(!s.isRunningBaseDomain()&&s.isBaseDomainCORSEnabled()&&this.mModel.getProperty("/settings/sessionTimeoutConfigs")){e=true}if(e){sap.ui.require(["sap/sf/surj/shell/session/SessionTimer"],function(e){e.start()})}},_handleEmbeddedMode:function(){var t=this.mModel;if(t.getProperty("/allowEmbeddableMode")&&window.top!=window.self&&!t.getProperty("/useSimplifiedHeader")){e("body").addClass("bizXEmbeddedMode")}},_handleSapShellParam:function(){var e=s.findURLParam("sap-shell")||"";var t=e.toUpperCase()==="FLP";var i=e.toUpperCase()==="FALSE";var r=this.getSessionStorage();if(i){r&&r.remove("allowEmbeddableMode");this.mModel.setProperty("/allowEmbeddableMode",false)}else if(t){r&&r.put("allowEmbeddableMode",true);this.mModel.setProperty("/allowEmbeddableMode",true)}this._handleEmbeddedMode()},_handleSidePanelParam:function(){var e=s.findURLParam(J)||"";switch(e){case j.todos:this.showTodoPanel();return;case j.notifications:this.toggleGlobalNotificationPanel();return;default:return}},_isFiori3HeaderEnabled:function(){var e=this.mModel||H.getModel("pageHeader");var t=e.getProperty("/headerVersion");return t>=W},_initFooter:function(){var t=this.mModel.getProperty("/footer");if(t){var i=e("#footer");if(i.length==0){i=e(t);var r=e(".globalPlacemat");if(r.length>0){i.insertAfter(r)}}}else{e("body").addClass("hideGlobalFooter")}},addShellbarItem:function(e,t){if(!e||!e.id){throw new Error("item must have id")}var i=this._getCustomHeader();var r=H.byId(e.id);if(r&&r.getParent()==i){r.destroy()}var a={icon:e.icon,tooltip:e.title,visible:e.visible!==false};if(e.press){a.press=e.press}if(e.helpId){a.customData=new sap.ui.core.CustomData({key:"help-id",value:"enaWebAssistantHelpButton",writeToDom:true})}var o=new k(e.id,a);o._shellbarItem=e;var n=i.getContentRight().length;i.insertContentRight(o,2+(isNaN(t)?0:Math.min(Math.max(0,t),n-2)))},removeShellbarItem:updateShellbarItem:function(e){var t=H.byId(e.id);if(!t){throw new Error("item does not exist: "+e.id)}var i=t._shellbarItem;if(e.visible!=null){i.visible=e.visible;t.setVisible(e.visible)}if(e.title!=null){i.title=e.title;t.setTooltip(e.title)}if(e.press){if(i.press){t.detachPress(i.press)}i.press=e.press;t.attachPress(e.press)}},_initOverrideNotificationCount:function(){var e=new i;e.setProperty("/visible",false);e.setProperty("/newCount",undefined);H.setModel(e,"overrideNotification")},setNotificationCount:function(e){var t=H.getModel("overrideNotification");t.setProperty("/visible",e!=null);t.setProperty("/newCount",e)},setShellbarVisibility:function(e){document.querySelectorAll(".globalHeaderHeight,.globalHeaderFullWidthBackground").forEach(;this._adjustPlacematHeight()},_postMessagePageHeaderCompReady:function(){var e=window,t=e.parent;if(t!==e){t.postMessage("sfPageHeaderCompReady","*")}},_getCustomHeader:function(){return H.byId("bizXShellCustomHeader")}});var Y;function Z(){if(!Y){Y=e.Deferred();var t=e.sap.getObject(R);if(t){Y.resolve(t)}else{sap.ui.require(["sap/sf/todo/util/PanelManager"],function(e){Y.resolve(e)},function(e){var t="Could not load TodoPanel.";jQuery.sap.log.error(t,e);Y.reject(t)})}}return Y}});
sap.ui.predefine("sap/sf/surj/shell/BizXHeader.view",["jquery.sap.global","sap/ui/core/CustomData","sap/ui/core/delegate/ItemNavigation","./controls/Container","./controls/NotificationWrapper","./controls/FocusMarker","./controls/BizXButton","./controls/BizXSearchField","./controls/UserPhoto","./util/SuppIconPool","./util/A11yPreferences","./util/Util","sap/m/SearchField","sap/m/SuggestionItem","sap/m/Bar","sap/m/Text","sap/m/Image","sap/m/OverflowToolbar","sap/m/Link","sap/ui/core/theming/Parameters"],function(e,t,a,r,o,n,i,s,l,u,c,d,p,g,f,b,v,h,m,S){"use strict";var T=sap.ui.getCore();var C=T.getLibraryResourceBundle("sap.sf.surj.shell.i18n");var _=3;var w="aria-controls";sap.ui.jsview("sap.sf.surj.shell.BizXHeader",{createContent:function(t){this.addStyleClass("sfRevolutionTopNavigationMobile globalHeaderContainerWidthBackground globalNavigationContainer globalHeaderHeight surjTopNav globalHeader");if(c.isLowVisionEnabled()){this.addStyleClass("globalLowVisionSupport");this.addStyleClass(c.getLowVisionType())}var a=[this.createCustomHeader(t),this.createSubHeader(t)];if(e.sap.getObject("sap.ushell.renderers.fiori2.AccessKeysHandler")){var r=new n;var o=new n;r.addEventDelegate({onfocusin:function(){t.focusContent()}});o.addEventDelegate({onfocusin:function(){t.focusHeader()}});a.push(r,o)}return a},createCustomHeader:function(a){var o=this;var n=T.getModel("pageHeader");var l=n.getProperty("/headerVersion");var u=l>=_;var c=new p({enableSuggestions:true,suggestionItems:[new g({text:"test"}),new g({text:"test"}),new g({text:"test"})],suggest:function(){c.suggest(true)}});var h=new s("bizXSearchField",{resetOnBlur:true,showRefreshButton:true,showSearchButton:false,visible:{parts:[{path:"universalSearch>/searchEnabled"}],formatter:,a11yLabel:"{universalSearch>/a11yLabel}",a11yAnnouncement:"{universalSearch>/a11yAnnouncement}",value:"{universalSearch>/filter}",transitiveText:"{universalSearch>/transitiveAction/actionLabel}",showSearchType:"{universalSearch>/searchTypeVisible}",searchTypeTooltip:C.getText("COMMON_Global_Action_Search_Selector_Aria_Label"),searchTypeAriaLabel:C.getText("COMMON_SEARCH_SELECTOR_A11Y"),tooltip:"{universalSearch>/tooltip}",placeholder:"{universalSearch>/placeholder}",enableSuggestions:"{universalSearch>/enableSuggestions}",pending:"{universalSearch>/pending}",pressSearchType:[a.showSearchType,a],search:[a.search,a],suggest:[a.searchSuggest,a],reset:[a.reset,a],scrollDelegateAvailable:[a.setSearchScrollDelegate,a],suggestionItemSelected:[a.selectSuggestItem,a],enableExternalSearch:"{universalSearch>/enableExternalSearch}",externalSearch:[a.externalSearch,a],quickcardRequest:[a.quickcardRequest,a],focusQuickcard:[a.focusQuickcard,a],highlightExternalSearch:[a.highlightExternalSearch,a],afterSuggestClose:[a.afterSuggestClose,a],width:"",customData:new t({key:"help-id",value:"bizxHeaderSearchField",writeToDom:true})}).addEventDelegate({onAfterRendering:a._afterRenderSearch.bind(a)});var m=h.isUseDialog();var S=new i("bizXSuggestButton",{icon:"sap-icon://search",tooltip:"{universalSearch>/placeholder}",press:[a.openSearchSuggestion,a],visible:{parts:[{path:"universalSearch>/searchEnabled"}],formatter:,customData:new t({key:"help-id",value:"bizxHeaderSuggestButton",writeToDom:true})});if(m){h.isActive=function(){return S.isActive()}}var y;var H=new f("bizXShellCustomHeader",{design:"Header",contentLeft:[new i("bizXShellHomeIcon",{visible:{parts:["pageHeader>/enableHomeIcon","pageHeader>/homeModule"],formatter:function(e,t){return!!t&&!!e&&!u}},icon:"sap-icon://home",press:[a.navigateToHome,a],tooltip:C.getText("COMMON_Go_To_Home_Page"),ariaLabel:C.getText("COMMON_Home"),customData:new t({key:"help-id",value:"bizxHeaderHomeIcon",writeToDom:true})}).addStyleClass("surjTopNavHomeButton bizXDisableMobile"),y=new i("customHeaderModulePickerBtn",{visible:{path:"pageHeader>/modules",formatter:function(e){return e.length>0}},ariaLabel:C.getText("COMMON_MENU_MAIN_NAVIGATION"),icon:u?"sap-icon://megamenu":"sap-icon://slim-arrow-down",text:{parts:[{path:"pageHeader>/title"}]},press:[a.showModulePicker,a],iconFirst:false,tooltip:{parts:["pageHeader>/title","pageHeader>/selectedModule","pageHeader>/modules"],formatter:function(e,t,a){var r=0;for(r=a.length-1;r>=0;r--){if(a[r].isSelected)break}var o=t?t.title:e;return C.getText("COMMON_MENU_CURRENT_MODULE_MAIN_NAVIGATION_A11Y",[o])}},customData:new t({key:"help-id",value:"bizxHeaderModulePicker",writeToDom:true})}).addStyleClass("bizXShellDropMenuButton bizXDisableMobile").addEventDelegate({onAfterRendering:function(){var t=e("#customHeaderModulePickerBtn");t.attr({"aria-haspopup":true,"aria-expanded":false});var a="customHeaderModulePickerBtn-menuPopover";if(e("#"+a).length&&!t.attr(w)){t.attr(w,a)}}}),new i({visible:{path:"pageHeader>/modules",formatter:,icon:u?"sap-icon://megamenu":"sap-icon://menu2",press:[a.showModulePicker,a]}).addStyleClass("bizXMobileOnly"),new b({text:{parts:[{path:"pageHeader>/title"}]},visible:!u}).addStyleClass("surjTopNavTitle globalHeaderText bizXMobileOnly")],contentRight:[S,h,this.createTodoButton(a),this.createJobPickerButton(a),this.createFeedbackButton(a),this.createServiceCenterButton(a),this.createGlobalNotificationButton(a),this.createUserMenuButton(a),this.createProductSwitcherButton(a)]}).addStyleClass("globalHeaderBar surjTopNavHeaderBar");var N=n.getProperty("/settings");var M;if(N&&N.hideGlobalNavigationMenuEnabled!=null){M=String(N.hideGlobalNavigationMenuEnabled)=="true"}else{M=e("#hideGlobalNavigationMenuEnabled").attr("content")=="true"}if(M){y.addStyleClass("hiddenGlobalNavigationMenu")}H.addEventDelegate({onAfterRendering:function(){H.$().attr("role","banner");var t=e(".sapMBarRight",H.$());if(t&&t.css("width")){t.css("width","")}if(jQuery("#"+h.getId()+">form").length==0){setTimeout(function(){h.rerender()},500)}}});var x=new v({densityAware:false,src:"{pageHeader>/logoInfo/url}",alt:C.getText("COMMON_LOGO_ALT",n.getProperty("/logoInfo/altText")),decorative:false,visible:false}).addStyleClass("globalLogoPrimaryImage sapMBtnHoverable sapMFocusable");var A=(new r).addStyleClass("globalLogoUploadedImageRevealer");A.addEventDelegate({onAfterRendering:function(){d.waitForGlobalTheme().then(function(){var e=jQuery(".globalLogoUploadedImageRevealer");if(e.length>0&&e.css("left")=="1px"){var t=e.css("background-image");if(t!="none"){x.setSrc((t.match(/url\("?([^"]*)"?\)/)||[])[1])}}x.setVisible(true)})}});var O=new r("bizXHeaderCompanyLogo",{customData:new t({key:"help-id",value:"bizxHeaderCompanyLogo",writeToDom:true}),content:[x,A]}).addStyleClass("bizXDesktopOnly globalLogo company-logo");O.addEventDelegate({onAfterRendering:);O.onclick=a.navigateToHome.bind(a);O.onkeydown=function(t){if(t.keyCode===e.sap.KeyCodes.ENTER||t.keyCode===e.sap.KeyCodes.SPACE){a.navigateToHome()}};a.insertCompanyLogo(H,O);this.oHeaderBar=H;return H},createSubHeader:function(e){var t=this;sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls._mSupportedControls["sap.m.Link"]={canOverflow:true,listenForEvents:["press"],noInvalidationProps:["enabled","type"]};var o=new sap.ui.core.InvisibleText({text:C.getText("COMMON_Selected")}).toStatic();var n=true;var i=new h("surjSubTabBar",{visible:{parts:[{path:"pageHeader>/subTabs/length"},{path:"pageHeader>/subTabs/0/alwaysShow"}],formatter:function(e,t){return e>1||!!t}},ariaLabelledBy:new sap.ui.core.InvisibleText({text:C.getText("COMMON_Subnavigation")}).toStatic(),content:{path:"pageHeader>/subTabs",factory:function(e,t){var a="globalNavigationItem";var r="globalNavigationActiveItem";var n=t.getObject();var i=new m(n.id?"bizxSubTab_"+n.id:e,{text:"{pageHeader>label}",tooltip:{parts:[{path:"pageHeader>title"}]},href:{parts:[{path:"pageHeader>url"}]},rel:"noopener"}).addStyleClass(n.isSelected?r:a).addStyleClass("surjSubTabItem");if(n.isSelected){i.addAriaDescribedBy(o)}function s(e,t){var a="window.pageHeaderComp.setSelectedSubTab&&window.pageHeaderComp.setSelectedSubTab("+t+")";if(!e){return a}if(typeof e=="string"){return e+";"+a}else if(typeof e=="function"){return function(a){e(a);window.pageHeaderComp.setSelectedSubTab&&window.pageHeaderComp.setSelectedSubTab(t)}}}i.addEventDelegate({onAfterRendering:function(){var e=i.$();var t=s(n.onclick,e.index());if(e.length>0&&t){if(typeof t=="string"){e.attr("onclick",t)}else if(typeof t=="function"){e[0].onclick=t}}var o=n.isSelected;if(o&&!i.hasStyleClass(r)||!o&&!i.hasStyleClass(a)){i.toggleStyleClass(a,!o).toggleStyleClass(r,o)}}});return i}}}).addEventDelegate({onAfterRendering:function(){ar t=i.getAggregation("_overflowButton");var r=i.getAggregation("_popover");if(n&&t&&r){e();t.addEventDelegate({onAfterRendering:);r.addStyleClass("globalMenu");r.attachBeforeOpen(function(){var e=this.getAssociatedContent();e.forEach(function(e){T.byId(e).addStyleClass("globalMenuItem surjOverflowItem")})});r.attachBeforeClose(function(){var e=this.getAssociatedContent();e.forEach(});if(!this._subTabItemNav){this._subTabItemNav=(new a).setCycling(false);i.addDelegate(this._subTabItemNav)}n=false}if(this._subTabItemNav){var o=i.getDomRef();var s=o.children;var l=s.length;var u=t&&t.$().css("visibility")==="hidden";if(u){--l}var c=0;for(var d=0,p;d<l;d++){p=s[d];p.setAttribute("aria-posinset",d+1);p.setAttribute("aria-setsize",l);p.setAttribute("role","menuitem");if(p.classList.contains("globalNavigationActiveItem")){c=d;p.setAttribute("aria-current","page")}}this._subTabItemNav.setRootDomRef(o);this._subTabItemNav.setItemDomRefs(s);this._subTabItemNav.setSelectedIndex(c)}i.getDomRef().setAttribute("role","menubar")}}).addStyleClass("surjSubTabBar globalNavigation sub-nav-container");var s=new r({content:[i]}).addEventDelegate({onAfterRendering:);return s},createJobPickerButton:function(a){var r={mouseenter:e.proxy(a.mouseEnterJobPicker,a),mouseleave:e.proxy(a.mouseLeaveJobPicker,a)};var o=new i({icon:"sap-icon://switch-classes",tooltip:{parts:[{path:"pageHeader>/selectedAssignment"}],formatter:function(e){if(e){return C.getText("COMMON_Select_Employment_Tooltip_Text",[e.label])}return C.getText("COMMON_Select_Employment_Tooltip_Text_NoSelection")}},ariaLabelledBy:new sap.ui.core.InvisibleText({text:{parts:[{path:"pageHeader>/selectedAssignment"}],formatter:function(e){if(e){return C.getText("COMMON_Select_Employment_Tooltip_Text",[e.label])}return C.getText("COMMON_Select_Employment_Aria_Text_NoSelection")}}}).toStatic(),visible:{parts:[{path:"pageHeader>/globalAssignmentLinks"}],formatter:function(e){return!sap.ui.Device.system.phone&&!!e&&e.length>1}},press:[a.pressJobPicker,a],customData:new t({key:"help-id",value:"bizxHeaderJobPickerButton",writeToDom:true})}).addStyleClass("jobSelectorButton").addEventDelegate({onAfterRendering:);return o},createGlobalNotificationButton:function(a){return new o({text:{parts:[{path:"globalNotification>/newCount"},{path:"jamNotification>/newCount"},{path:"overrideNotification>/newCount"}],formatter:function(e,t,a){var r;if(a!=null){r=parseInt(a?a:0,10)}else{r=parseInt(e?e:0,10)+parseInt(t?t:0,10)}return r>50?"50+":r?r:""}},visible:{parts:[{path:"globalNotification>/visible"},{path:"jamNotification>/visible"},{path:"overrideNotification>/visible"}],formatter:function(e,t,a){return!!(e||t||a)}},content:new i("current-user-notification-count",{icon:"sap-icon://bell",ariaLabel:C.getText("COMMON_Notification_title"),tooltip:{parts:[{path:"globalNotification>/newCount"},{path:"jamNotification>/newCount"},{path:"overrideNotification>/newCount"}],formatter:function(e,t,a){var r;if(a!=null){r=parseInt(a?a:0,10)}else{r=parseInt(e?e:0,10)+parseInt(t?t:0,10)}return r!=1?C.getText("COMMON_Global_Notifications_new_count_plural",[r]):C.getText("COMMON_Global_Notifications_new_count_singular")}},press:[a.toggleGlobalNotificationPanel,a],customData:new t({key:"help-id",value:"bizxHeaderNotificationButton",writeToDom:true})}).addStyleClass("surjNotificationBtn").addEventDelegate({onAfterRendering:e.proxy(a._onAfterRenderingNotification,a)})})},createTodoButton:function(e){return new o({text:{parts:[{path:"pageHeader>/globalTodoCount"}],formatter:function(e){if(e===0){return""}if(e>99){return"99+"}return e}},visible:{path:"pageHeader>/enableGlobalTodos",formatter:function(e){return!sap.ui.Device.system.phone&&!!e}},content:new i("globalTodos",{ariaLabel:C.getText("COMMON_You_Have_Todos"),icon:"sap-icon://sys-enter",tooltip:{parts:[{path:"pageHeader>/globalTodoCount"}],formatter:function(e){if(e===0){return C.getText("HOME_Todo_MSG_ALL_COMPLETED")}if(e>99){return C.getText("COMMON_You_Have_Todos_PLURAL",["99+"])}return e===1?C.getText("COMMON_You_Have_Todos_SINGULAR"):C.getText("COMMON_You_Have_Todos_PLURAL",[e])}},press:[e.showTodoPanel,e],customData:new t({key:"help-id",value:"bizxHeaderTodoButton",writeToDom:true})}).addStyleClass("surjTodoButton").addEventDelegate({onAfterRendering:function(){var e=T.byId("globalTodos");if(e){e.$().attr("aria-expanded",false);if(!e.$().attr(w)&&window.BizXHeaderController&&window.BizXHeaderController._panel){e.$().attr(w,window.BizXHeaderController._panel.getId())}}}})})},createFeedbackButton:function(e){var a=C.getText("COMMON_Give_Product_Feedback");return new i("bizXShellFeedbackButton",{visible:{parts:["pageHeader>/settings/feedback.bootstrap_url","pageHeader>/settings/disablePXFeedback"],formatter:function(e,t){return!!e&&t!=="true"}},icon:"sap-icon://feedback",press:[e.feedbackClickHandler,e],tooltip:a,ariaLabel:a,customData:new t({key:"help-id",value:"bizXShellFeedbackButton",writeToDom:true})}).addStyleClass("surjTopNavHomeButton bizXDisableMobile")},createServiceCenterButton:function(e){return new i("bizXShellServiceCenterButton",{visible:{parts:["pageHeader>/bIsEnableServiceCenter"],formatter:,icon:"sap-icon://headset",press:[e.serviceCenterClickHandler,e],tooltip:{parts:["pageHeader>/oEnableServiceCenter"],formatter:function(e){return e&&e.title}},ariaLabel:{parts:["pageHeader>/oEnableServiceCenter"],formatter:,customData:new t({key:"help-id",value:"bizXShellServiceCenterButton",writeToDom:true})}).addStyleClass("surjTopNavHomeButton bizXDisableMobile")},createUserMenuButton:function(e){var a=T.getModel("pageHeader");var r=a.getProperty("/headerVersion");var n,s;var u=[e.showUtilityLinks,e];var c="utilityLinksMenuId";if(a&&!a.getProperty("/userInfo/photoEnabled")&&r<_){s={press:u,enabled:{parts:["pageHeader>/actionLinks/length"],formatter:function(e){return e>0}},ariaLabel:C.getText("COMMON_MENU_ACCOUNT_NAVIGATION_ARIA_LABEL"),icon:{parts:["pageHeader>/actionLinks/length","pageHeader>/headerVersion"],formatter:function(e,t){return e>0&&t<_?"sap-icon://slim-arrow-down":null}},text:{parts:["pageHeader>/userTopNav/fullName","pageHeader>/headerVersion"],formatter:,tooltip:{parts:["pageHeader>/userTopNav/fullName"],formatter:function(e){return C.getText("COMMON_MENU_ACCOUNT_NAVIGATION",e)}},iconFirst:false,customData:new t({key:"help-id",value:"bizxHeaderUserMenuButton",writeToDom:true})};n=new i(c,s).addStyleClass("bizXShellDropMenuButton surjUtilityLinksMenu")}else{s={click:u,ariaLabel:C.getText("COMMON_MENU_ACCOUNT_NAVIGATION_ARIA_LABEL"),tooltip:{parts:["pageHeader>/userTopNav/fullName"],formatter:function(e){return C.getText("COMMON_MENU_ACCOUNT_NAVIGATION",e)}},user:"{pageHeader>/userTopNav}",profile:{circle:true,placeholder:sap.ui.resource("sap.sf.surj.shell.img.userphoto","")+"UserPhotoPlaceholder_50x50.png"},focusable:{parts:["pageHeader>/actionLinks/length"],formatter:function(e){return e>0}},showUserName:{parts:["pageHeader>/headerVersion"],formatter:function(e){return e<_}},nameDirection:"EAST",showMenuIcon:{parts:["pageHeader>/actionLinks/length","pageHeader>/headerVersion"],formatter:function(e,t){return e>0&&t<_}},useMButtonStyles:{parts:["pageHeader>/actionLinks/length"],formatter:function(e){return e>0}},customData:new t({key:"help-id",value:"bizxHeaderUserMenuButton",writeToDom:true}),useAvatar:{parts:["pageHeader>/headerVersion","pageHeader>/userInfo/photoEnabled"],formatter:function(e,t){return e>=_&&!t}},displaySize:{parts:["pageHeader>/headerVersion"],formatter:};n=new l(c,s).addStyleClass("globalPlacematText surjUtilityLinksMenu")}var d=new o({text:{parts:[{path:"pageHeader>/enableGlobalTodos"},{path:"pageHeader>/globalTodoCount"}],formatter:function(e,t){if(sap.ui.Device.system.phone&&!!e&&t>0){return""+t}return""}},content:n});n.addEventDelegate({onAfterRendering:function(){n.$().attr("aria-expanded",false);e.adjustNameSize.bind(e)}});return d},createProductSwitcherButton:function(e){var t=T.getModel("pageHeader");var a=t.getProperty("/productSwitcherEnabled")&&(d.isRunningBaseDomain()||d.isBaseDomainCORSEnabled());if(a){var r=new i("productSwitcherBtn",{icon:"sap-icon://grid",press:[e.pressProductSwitcher,e]});return r}},addCopilotButton:function(e){var t=this.oHeaderBar;if(!t||!e)return;var a=T.getModel("pageHeader");var r=a.getProperty("/headerVersion");if(r>=_){e.setIcon(this._getCopilotImage());t.addContentMiddle(e)}else{t.insertContentRight(e,2)}},_getCopilotImage:function(){var e=S.get("_sap_f_Shell_Bar_Copilot_Design");var t;if(e&&e!="dark"){t="sap/f/shellBar/CoPilot_white.svg"}else{t="sap/f/shellBar/CoPilot_dark.svg"}return sap.ui.require.toUrl(t)},getControllerName:function(){return"sap.sf.surj.shell.BizXHeader"}})});
sap.ui.predefine("sap/sf/surj/shell/BizXShell.controller", ["jquery.sap.global","sap/ui/model/json/JSONModel"],function(e,o){return sap.ui.controller("sap.sf.surj.shell.BizXShell",{onInit:function(){var e=sap.ui.getCore();var a=e.getModel("pageHeader");if(!a&&window.pageHeaderJsonData){a=new o(window.pageHeaderJsonData);e.setModel(a,"pageHeader")}this.getView().setModel(a,"pageHeader")},showVersionInfo:function(e){var o=window.BizXHeaderController;o&&o.showVersionInfo(e.getParameter("refocusRef"))}})});
sap.ui.predefine("sap/sf/surj/shell/BizXShell.view",["jquery.sap.global","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/HTML","./controls/BizXApp","./controls/BizXPage","./controls/BizXShell","sap/m/Text","sap/m/library","sap/m/Toolbar"],function(e,t,n,r,a,o,i,l,s,u){"use strict";var p=3;sap.ui.jsview("sap.sf.surj.shell.BizXShell",{createContent:function(e){this.addStyleClass("surjShellview");return new i("bizXShell",{appWidthLimited:"{pageHeader>/appWidthLimited}",app:new a({backgroundColor:"transparent",pages:new o("bizXPage",{enableScrolling:{path:"pageHeader>/headerVersion",formatter:,fullHeight:"{pageHeader>/fullHeight}",containerCSS:"{pageHeader>/containerCSS}",placematCSS:"{pageHeader>/placematCSS}",customHeader:new n({propagateModel:true,name:"sap.sf.surj.shell.component.header",async:true,manifest:true}),content:this.createModuleContent(e),footer:this.createFooter(e)})})})},createModuleContent:function(e){var r=t.getOwnerComponentFor(this);var a=r&&r.getComponentData()||{};if(a.content){return a.content}else if(a.name){return new n(a)}else if(typeof window.createModuleContent=="function"){return createModuleContent(e)}else{return new l({text:"Override window.createModuleContent to customize this content"})}},createFooter:function(e){var t=window.pageHeaderJsonData;var n=t&&t.footer;if(n){return new u({height:"auto",content:new r({content:n})})}},getControllerName:function(){return"sap.sf.surj.shell.BizXShell"}})});
sap.ui.predefine("sap/sf/surj/shell/component/header/Component", ["sap/ui/core/UIComponent","sap/ui/Device","sap/sf/surj/shell/controls/ShellBar","sap/sf/surj/shell/util/Util"],function(e,a,r,s){"use strict";return e.extend("sap.sf.surj.shell.component.header.Component",{metadata:{manifest:"json"},createContent:function(){var e;var n=3;var i=4;s.handleHeaderVersionOverride();var t=(window.pageHeaderJsonData||{}).headerVersion||0;var o=a.browser;var d=o.name;var p=d&&(o.BROWSER.INTERNET_EXPLORER==d||o.BROWSER.EDGE==d);if(p){t=n;if(window.pageHeaderJsonData){window.pageHeaderJsonData.headerVersion=n}}if(t===i){e=new r}else if(t<i){e=sap.ui.view({viewName:"sap.sf.surj.shell.BizXHeader",type:"JS",viewData:{component:this}})}return e}})});
sap.ui.predefine("sap/sf/surj/shell/component/shell/Component", ["sap/ui/core/UIComponent"],function(e){"use strict";return e.extend("sap.sf.surj.shell.component.shell.Component",{metadata:{manifest:"json"}})});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXApp",["sap/m/App"],function(e){return e.extend("sap.sf.surj.shell.controls.BizXApp",{renderer:{},init:function(){var s=window.pageHeaderJsonData||{};this._debugZoomAndScroll=!s.responsiveLayout;e.prototype.init.apply(this,arguments)}})});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXButton",["jquery.sap.global","sap/m/Button","./BizXButtonRenderer"],function(t,e,r){"use strict";return e.extend("sap.sf.surj.shell.controls.BizXButton",{metadata:{properties:{ariaLabel:"string"}},renderer:r,setTooltip:function(t){if(typeof t=="string"||t==null){this.setAggregation("tooltip",t,true);this.$().attr("title",t||"")}else{return oParentObject.prototype.setTooltip.apply(this,arguments)}},onAfterRendering:function(){var t=e.prototype.onAfterRendering;var r=t&&t.apply(this,arguments);this.$().attr("type","button");return r}})});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXButtonRenderer",["jquery.sap.global","sap/ui/core/Renderer","sap/m/ButtonRenderer"],function(e,r,t){"use strict";var s=e.extend(r.extend(t),{renderAccessibilityAttributes:function(e,r,t){var s=r.getAriaLabel();if(s){t["label"]=s}}});e.sap.setObject("sap.sf.surj.shell.controls.BizXButtonRenderer",s);return s});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXMenuListItem", ["sap/m/ListItemBase","sap/sf/surj/shell/util/Util","./BizXMenuListItemRenderer"],function(e,t,s){"use strict";var i=e.extend("sap.sf.surj.shell.controls.BizXMenuListItem",{metadata:{properties:{icon:"string",label:"string",indicatorText:"string",url:"string",onclick:"string",target:"string"}},renderer:s,isActionable:function(){return false},onmouseover:function(){this.focus()},onfocusin:function(){this.$().find(".globalMenuItem").addClass("globalMenuItemFocus")},onfocusout:onclick:function(e){var s=this.$().attr("data-onclick");if(this.$().attr("data-preventClickDefault")==="true"){e.preventDefault()}if(s){t.dangerouslyEvalScript("(function(){"+s+"})()")}},onAfterRendering:function(){var e=sap.m.ListItemBase.prototype.onAfterRendering;e&&e.apply(this,arguments);this.updateAccessibilityState()}});i.prototype._getImage=function(e,t,s,i){var n=this._image;if(n){n.setSrc(s);if(n instanceof sap.m.Image){n.setDensityAware(i)}}else{n=sap.ui.core.IconPool.createControlByURI({id:e,src:s,densityAware:i,useIconTooltip:false},sap.m.Image).setParent(this,null,true)}if(n instanceof sap.m.Image){n.addStyleClass(t,true)}else{n.addStyleClass(t+"Icon",true)}this._image=n;return this._image};return i});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXMenuListItemRenderer", ["jquery.sap.global","sap/ui/core/Renderer","sap/m/ListItemBaseRenderer"],function(e,t,r){var a=r.apiVersion>1;var i=e.extend(t.extend(r),{renderLIAttributes:function(e,t){var r=t.getIcon();var i=t.getUrl();var n=t.getTarget();var s=t.getOnclick();var o=["bizXMLIA","globalMenuItem","bizXMenuListItem"];if(r){o.push("hasIcon")}if(i&&i.indexOf("javascript:void(0)")>-1){i=null}if(a){o.forEach(function(t){e.class(t)});if(i){e.attr("href",i)}else{e.attr("href","#");e.attr("data-preventClickDefault","true")}e.attr("rel","noopener");if(s){e.attr("data-onclick",s)}if(n){e.attr("target",n)}}else{o.forEach(function(t){e.addClass(t)});if(i){e.write(' href="');e.writeEscaped(i);e.write('"')}else{e.write(' href="#"');e.write(' data-preventClickDefault="true"')}e.write(' rel="noopener"');if(s){e.write(' data-onclick="',s,'"')}if(n){e.write(' target="',n,'"')}}},getAriaRole:function(){return"option"},openItemTag:function(e,t){t.TagName="a";if(a){e.openStart("a",t)}else{e.write("<a")}},closeItemTag:renderLIContentWrapper:function(e,t){var r=t.getIndicatorText();var i=t.getLabel();var n=t.getIcon();if(n){e.renderControl(t._getImage(t.getId()+"-img","bizXMenu",t.getIcon(),false))}if(a){if(i){e.text(i)}if(r){e.openStart("span",t);e.class("surjIndicatorText");e.openEnd("span");e.text(r);e.close("span")}}else{if(i){e.writeEscaped(i)}if(r){e.write('<span class="surjIndicatorText">');e.writeEscaped(r);e.write("</span>")}}}});e.sap.setObject("sap.sf.surj.shell.controls.BizXMenuListItemRenderer",i);return i});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXMenuPopover",["jquery.sap.global","sap/m/Popover","sap/m/PopoverRenderer"],function(e,s,t){"use strict";return s.extend("sap.sf.surj.shell.controls.BizXMenuPopover",{metadata:{library:"sap.sf.surj.shell",properties:{from:"string"}},renderer:function(e,s){e.addClass("bizXMenuPopover globalMenu");t.render.apply(this,arguments)},_adaptPositionParams:function(){s.prototype._adaptPositionParams.apply(this,arguments);var t=e.inArray(this.getPlacement(),this._placements);if(this.getFrom()=="end"){var r=this._myPositions[t];var o=this._atPositions[t];this._myPositions[t]=r.replace("begin","end");this._atPositions[t]=o.replace("begin","end")}},onAfterRendering:function(){s.prototype.onAfterRendering.apply(this,arguments);this.$().removeAttr("role")}})});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXPage",["jquery.sap.global","sap/m/Page","sap/m/PageAccessibleLandmarkInfo","sap/sf/surj/shell/util/DeferredUtil","sap/ui/core/ComponentContainer","../util/Util","./Container"],function(e,t,i,a,r,n,o){"use strict";var s=["insightsPlacematIcon","showMePlacematIcon"];var l=n.findURLParam("device")==="mobi";return t.extend("sap.sf.surj.shell.controls.BizXPage",{metadata:{library:"sap.sf.surj.shell",properties:{fullHeight:"boolean",containerCSS:"string",placematCSS:"string"},aggregations:{customHeader:{type:"sap.ui.core.Control",multiple:false},placematButtons:{type:"sap.m.Button",multiple:true},_placematIcons:{visibility:"hidden",type:"sap.ui.core.Control",multiple:false},footer:{type:"sap.ui.core.Control",multiple:false}},events:{heightAdjusted:{}}},renderer:function(t,a){var r=a.getTooltip_AsString();var n=a.getContainerCSS();var o=a.getPlacematCSS();var s=a.getLandmarkInfo();t.write("<div");t.writeControlData(a);t.addClass("sapMPage");t.addClass("bizXPage");if(a.getFullHeight()){t.addClass("bizXFullHeight")}t.writeClasses();if(r){t.writeAttributeEscaped("title",r)}if(i._writeLandmarkInfo){i._writeLandmarkInfo(t,a,"root")}else if(a._formatLandmarkInfo){t.writeAccessibilityState(a,a._formatLandmarkInfo(s,"Root"))}t.write(">");t.write('<section id="'+a.getId()+'-cont">');t.write('<div id="globalHeaderFullWidthBackground" class="globalHeaderFullWidthBackground"></div>');t.write('<div class="globalLighting1"><div class="globalLighting2"><div class="bizXContent"');if(n){t.write(' style="',n,'"')}t.write(">");t.renderControl(a.getCustomHeader());t.write('<div id="content" role="main" class="globalPlacemat"');if(o){t.write(' style="',o,'"')}t.write(">");t.renderControl(a.getAggregation("_placematIcons"));t.write('<div class="bizXPageContentParent">');e.each(a.getContent()||[],;t.write("</div></div>");t.renderControl(a.getFooter());t.write("</div></div></div>");t.write("</section>");t.write("</div>")},init:function(){this._adjustFullHeight=e.proxy(this._adjustFullHeight,this);t.prototype.init&&t.prototype.init.apply(this,arguments);this._aOrderedPlacematIconIndexs=[];this._oHeaderRendered=e.Deferred();this.setAggregation("_placematIcons",(new o).addStyleClass("placematIcons"))},addPlacematButton:function(e){e.addStyleClass("globalToolbarIcon");var t=e.getId();var i=s.indexOf(t);var a=this._aOrderedPlacematIconIndexs;var r;var n;for(var o=0,l=a.length;o<l;o++){var d=a[o];if(d>i){r=n=o;break}}if(isNaN(r)){r=a.length;n=-1}this._aOrderedPlacematIconIndexs.splice(r,0,n);this.getAggregation("_placematIcons").insertAggregation("content",e,r);setTimeout(this._adjustFullHeight.bind(this),0)},onAfterRendering:function(){var i=t.prototype.onAfterRendering;i&&i.apply(this,arguments);if(this.getFullHeight()){e(window).bind("resize",this._adjustFullHeight);var r=this;e.when(a.whenUI5LibraryCSSReady(),this._oHeaderRendered).done(}else{var n=this.$("cont");var o=e("html, html body, .globalBackground, .globalLighting1, .globalLighting2");n.height()&&n.scroll(function(){o.css("background-position-y",-n.scrollTop()+"px")})}},destroy:function(){t.prototype.destroy.apply(this,arguments);e(window).unbind("resize",this._adjustFullHeight)},setCustomHeader:function(e){function i(e){e.addEventDelegate({onAfterRendering:function(){a.resolve()}})}t.prototype.setCustomHeader.apply(this,arguments);var a=this._oHeaderRendered;if(e&&e.attachComponentCreated){e.attachComponentCreated(function(e){var t=e.getParameter("component").getRootControl();i(t)})}else if(e instanceof sap.ui.core.Control){i(e)}},_adjustFullHeight:function(){if(l){return}if(!this.getFullHeight()){return}var t=e("#content");var i=t.parent()[0];if(i&&i.scrollHeight>0){t.css("height","");if(this.getAggregation("_placematIcons").getContent().length){var a=t.find(".bizXPageContentParent");var r=t.find(".placematIcons");a.css({height:"calc(100% - "+r.innerHeight()+"px)"})}var n=i.scrollHeight-i.offsetHeight;var o=parseFloat(t.css("borderTopWidth"));var s=parseFloat(t.css("borderTopWidth"));t.css("height",t.innerHeight()-n+o+s+"px");this.fireHeightAdjusted()}}})});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXSearchField",["jquery.sap.global","sap/m/SearchField","sap/ui/core/Control","sap/ui/Device","sap/ui/core/InvisibleText","sap/sf/surj/shell/controls/BizXSuggest","sap/sf/surj/shell/util/Logger","jquery.sap.encoder"],function(e,t,i,s,r,a,n,o){"use strict";var l=e.sap.KeyCodes;var u="suggestionItems";function h(e){if(e.getEnableSuggestions()){var t=!e._oSuggest;if(t){var i=new a(e);e._oSuggest=i}e._oSuggest.open();t&&e.attachEventOnce("afterSuggestOpen",function(){e.fireScrollDelegateAvailable({scrollDelegate:e._oSuggest.getPicker().getScrollDelegate()})})}}return t.extend("sap.sf.surj.shell.controls.BizXSearchField",{metadata:{library:"sap.sf.surj.shell",properties:{a11yLabel:"string",resetOnBlur:"boolean",showSearchType:"any",searchTypeAriaLabel:"string",searchTypeTooltip:"string",transitiveText:"string",pending:"boolean",enableExternalSearch:"boolean",a11yAnnouncement:"string"},events:{reset:{},pressSearchType:{},scrollDelegateAvailable:{},suggestionItemSelected:{},externalSearch:{},quickcardRequest:{},focusQuickcard:{},highlightExternalSearch:{},afterSuggestOpen:{},afterSuggestClose:{}}},renderer:function(e,t){if(!t.getVisible()){return}e.addClass("bizXSF");if(t.getShowSearchType()){e.addClass("bizXSFHasST")}if(t.getTransitiveText()){e.addClass("bizXSFHasTT")}if(t.getPending()){e.addClass("bizXSFP")}var i=t.getPlaceholder(),r=t.getValue(),a=t.getProperty("width"),n=t.getId(),o=t.getShowRefreshButton(),l=t.getShowSearchButton(),u={};e.write("<div");e.writeControlData(t);if(a){e.writeAttribute("style","width:"+a+";")}e.addClass("sapMSF");if(r){e.addClass("sapMSFVal")}if(!t.getEnabled()){e.addClass("sapMSFDisabled")}e.writeClasses();var h=t.getTooltip_AsString();if(h){e.writeAttributeEscaped("title",h)}e.write(">");e.write('<form method="post" action="javascript:void(0);"');e.writeAttribute("id",n+"-F");e.addClass("sapMSFF");if(!l){e.addClass("sapMSFNS")}else if(o){e.addClass("sapMSFReload")}else{e.addClass("sapMSFSBNR")}e.writeClasses();e.write(">");e.write('<div class="bizXSFB bizXSFSI"></div>');e.write('<span class="bizXSFTT"></span>');if(!t._hasPlacehoder&&!t._hasPlaceholder&&i){e.write("<label ");e.writeAttribute("id",n+"-P");e.writeAttribute("for",t.getReferenceId());e.addClass("sapMSFPlaceholder");e.writeClasses();e.write(">");e.writeEscaped(i);e.write("</label>")}e.write('<input type="search" autocorrect="off" autocomplete="off"');e.writeAttribute("id",t.getReferenceId());e.addClass("sapMSFI");if(s.os.android&&s.os.version>=4&&s.os.version<4.1){e.addClass("sapMSFIA4")}e.writeClasses();if(t.getEnableSuggestions()&&s.system.phone){e.writeAttribute("readonly","readonly")}if(!t.getEnabled()){e.writeAttribute("disabled","disabled")}if(i){e.writeAttributeEscaped("placeholder",i)}if(t.getMaxLength()){e.writeAttribute("maxLength",t.getMaxLength())}if(r){e.writeAttributeEscaped("value",r)}if(t.getEnabled()&&o){if(t._a11yText){var g=t._a11yText.getId();u.describedby={value:g,append:true}}}if(i){u.label=i}e.writeAccessibilityState(t,u);e.write(">");e.write("<div");e.writeAttribute("id",t.getId()+"-a11yAnnouncement");e.addClass("sapUiPseudoInvisibleText");e.writeClasses();e.writeAttribute("aria-live","assertive");e.write("></div>");if(t.getEnabled()){e.write("<div");e.writeAttribute("id",t.getId()+"-reset");e.addClass("sapMSFR");e.addClass("sapMSFB");if(s.browser.firefox){e.addClass("sapMSFBF")}if(!l){e.addClass("sapMSFNS")}e.writeClasses();e.write("></div>");if(l){e.write("<div");e.writeAttribute("id",t.getId()+"-search");e.addClass("sapMSFS");e.addClass("sapMSFB");if(s.browser.firefox){e.addClass("sapMSFBF")}e.writeClasses();if(t.getRefreshButtonTooltip()){e.writeAttributeEscaped("title",t.getRefreshButtonTooltip())}e.write("></div>")}if(t.getShowSearchType()){e.write('<button id="',t.getId(),'-searchType" class="bizXSFB bizXSFST"');var d=t.getSearchTypeAriaLabel();if(d){e.write(' aria-label="');e.writeEscaped(d);e.write('"')}var c=t.getSearchTypeTooltip();if(c){e.write(' title="');e.writeEscaped(c);e.write('"')}e.write(' data-help-id="bizxHeaderSearchType" type="button"></button>')}}e.write("</form>");e.write("</div>")},getReferenceId:onkeydown:function(e){var t=e.keyCode;if(t==l.BACKSPACE&&this.getValue()==""){this.fireReset()}if(t==l.F6&&this._oSuggest&&this._oSuggest.isExternalSearchVisible()){e.preventDefault()}},onkeyup:function(e){var t=e.target;var i=this.$("searchType");var s=e.keyCode;if(s==l.ENTER||s==l.SPACE){if(t.id==this.getId()+"-searchType"){e.preventDefault();this.firePressSearchType({target:t})}}if(s==l.F6&&this._oSuggest&&this._oSuggest.isExternalSearchVisible()){e.preventDefault();this._pressedF6()}if(t.id==this.getReferenceId()){if(s==l.ESCAPE){e.preventDefault();this._pressedEscape()}}if(e.ctrlKey&&e.shiftKey&&s==49){e.preventDefault();this._pressedCtrlShift1()}},onsapenter:function(e){var t=e.target;if(t.id==this.getReferenceId()){e.preventDefault();this._pressedEnter()}},fireSearch:function(e){var i=t.prototype.fireSearch.apply(this,arguments);var s=sap.ui.getCore().getConfiguration().getVersion();if(s.compareTo(a._BIZX_ONTAP_COMPAT_VERSION)<0){return i}if(e&&e.suggestionItem){this.fireSuggestionItemSelected({selectedItem:e.suggestionItem})}return i},_pressedEnter:function(){if(this._oSuggest){var e=this._oSuggest.getSelected();if(e>=0){this.fireSuggestionItemSelected({selectedItem:this.getSuggestionItems()[e]})}else if(this._oSuggest.getHighlightedExternalSearch()||this.getEnableExternalSearch()&&!this._oSuggest.isExternalSearchVisible()){this.fireExternalSearch()}else{this._oSuggest.setSelected(0,false)}}else if(this.getEnableExternalSearch()){this.fireExternalSearch()}},_pressedEscape:function(){this.fireReset()},_pressedCtrlShift1:function(){this.fireFocusQuickcard()},_pressedF6:function(){if(this._oSuggest.getHighlightedExternalSearch()){var e=this._iLastSelectedIndex;this._oSuggest.setHighlightedExternalSearch(false);this._oSuggest.setSelected(e,false);if(e>=0){this.fireQuickcardRequest({suggestionItem:this.getSuggestionItems()[e]})}}else{this._iLastSelectedIndex=this._oSuggest.getSelected();this._oSuggest.setSelected(-1);this._oSuggest.setHighlightedExternalSearch(true);this.fireHighlightExternalSearch()}},setA11yAnnouncement:function(e){var t="a11yAnnouncement";this.setProperty(t,e,true);if(this._liveAnnounceTimeout!=null){clearTimeout(this._liveAnnounceTimeout)}var i=this;var s=this.$(t);if(e){n.info("Announcing: "+e);s.text(e);this._liveAnnounceTimeout=setTimeout(1e3)}else{s.text("")}},quickcardRequest:_fireChangeEvent:function(){if(this.getVisible()){return t.prototype._fireChangeEvent.apply(this,arguments)}},ontouchend:function(i){if(i.originalEvent.button===2){return}var r=i.target;if(e(r).hasClass("sapMSFF")||e(r).hasClass("bizXSFSI")){this.focus()}if(r.id==this.getId()+"-reset"){var a=!this.getValue();this.clear({clearButton:true});var n=document.activeElement;if((s.system.desktop||a||/(INPUT|TEXTAREA)/i.test(n.tagName)||n===this._resetElement&&this._active===this._inputElement)&&n!==this._inputElement){this._inputElement&&this._inputElement.focus()}this.fireSuggest({suggestValue:""})}else if(r.id==this.getId()+"-searchType"){this.firePressSearchType({target:r})}else{t.prototype.ontouchend.apply(this,arguments)}},onmouseover:function(t){var i=e(t.toElement);if(i.hasClass("bizXSFST")){this.$("F").removeClass("hover")}else if(i.closest(".sapMSFF").length>0){this.$("F").addClass("hover")}},onmouseout:function(t){if(e(t.toElement).closest("#"+this.getId()).length==0){this.$("F").removeClass("hover")}},onFocus:function(){if(this.__ignoreBlur){return}t.prototype.onFocus.apply(this,arguments)},onBlur:function(){if(this.__ignoreBlur){return}t.prototype.onBlur.apply(this,arguments)},onfocusin:function(e){if(e.target.tagName=="INPUT"){if(this.__ignoreBlur){return}var i=this;var s=this.$();var r=s.css("width");t.prototype.onFocus.apply(this,arguments);this._animateToCurrentWidth(s,r).done(function(){if(i.getEnableSuggestions()){i.suggest(true)}})}},onfocusout:function(e){if(e.target.tagName=="INPUT"){if(e&&e.relatedTarget&&e.relatedTarget.tagName==="XWEB-QUICKCARD-POPOVER"){var i=window.BizXHeaderController;if(i){i.focusQuickcard()}}if(this.__ignoreBlur){this.focus();return}var s=this.$();var r=s.css("width");t.prototype.onBlur.apply(this,arguments);this._animateToCurrentWidth(s,r);if(this.getResetOnBlur()){this.fireReset()}var a=this;setTimeout(function(){if(window.BizXHeaderController&&!BizXHeaderController.isQuickcardFocused()){a.suggest(false)}},10)}},suggest:function(e){if(this.getEnableSuggestions()){e=e===undefined||!!e;if(e&&(this.getSuggestionItems().length||s.system.phone)){h(this)}else{t.prototype.suggest.call(this,e)}}return this},setA11yLabel:function(e){this.setProperty("a11yLabel",e,true);if(!this._a11yText){this._a11yText=(new r).toStatic();this._a11yText.setParent(this)}this._a11yText.setText(e)},setResetOnBlur:function(e){this.setProperty("resetOnBlur",e,true)},setPending:function(e){this.setProperty("pending",e,true);this.$()[e?"addClass":"removeClass"]("bizXSFP")},setTransitiveText:function(t){this.setProperty("transitiveText",t,true);var i=this.$();i[t?"addClass":"removeClass"]("bizXSFHasTransitive");var s=e(".bizXSFTT",i).text(t);e(".sapMSFI",i).css({width:t?"calc(100% - "+s.outerWidth()+"px)":"100%"})},setPlaceholder:function(e){this.$("P").text(e);this.$("I").attr("placeholder",e);this.setProperty("placeholder",e,true)},_hasPlaceholder:),setEnableSuggestions:setValue:function(e){var i;if(typeof this._updateTranslations==="function"){this._updateTranslations()}if(typeof this._updateValue=="function"){this._lastValue=e;i=this._updateValue(e)}else{i=t.prototype.setValue.apply(this,arguments)}return i},isUseDialog:function(){return a.USE_DIALOG},_animateToCurrentWidth:function(t,i){if(this.mAnimDfd){this.mAnimDfd.reject()}var s=e.Deferred();var r=t.css("width");if(r!=i){this.mAnimDfd=s.fail(function(){t.stop(true,true)});var a=this;t.css("width",i).animate({width:r},{complete:function(){t.css("width","");a.mAnimDfd=null;s.resolve()}})}else{s.resolve()}return s.promise()},reopenSuggestionsAndClear:addSuggestionItem:function(e,t){this._oSuggest&&this._oSuggest.update();return i.prototype.addAggregation.call(this,u,e,true)},removeAllSuggestionItems:function(e){this._oSuggest&&this._oSuggest.update();return i.prototype.removeAllAggregation.call(this,u,true)}})});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXShell",["jquery.sap.global","sap/m/Shell"],function(e,t){"use strict";return t.extend("sap.sf.surj.shell.controls.BizXShell",{metadata:{library:"sap.sf.surj.shell"},renderer:function(e,t){var s=t.getTooltip_AsString();e.write("<div");e.writeControlData(t);e.addClass("sapMShell");e.addClass("bizXShell");if(t.getAppWidthLimited()){e.addClass("sapMShellAppWidthLimited")}e.writeClasses();e.writeStyles();if(s){e.writeAttributeEscaped("title",s)}e.write('><div class="sapMShellCentralBox"><section class="sapMShellContent" id="'+t.getId()+'-content" data-sap-ui-root-content="true">');e.renderControl(t.getApp());e.write("</section></div></div>")}})});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXSuggest", ["jquery.sap.global","sap/ui/Device","sap/m/Suggest","../util/A11yPreferences"],function(e,t,r,n){"use strict";function i(t){var r=this;var s=i.USE_DIALOG;var l=t;var u;var c=sap.ui.getCore().getConfiguration().getRTL();var g=null;this._super.apply(this,arguments);o(this,{getPicker:function(){return g},getList:function(){if(g){return g.getContent()[0]}},setSelected:function(e,t){if(this.getHighlightedExternalSearch()){return}var r=this._super(e,t);if(t){var n=this.getSelectedSuggestionItem();var i=n&&n.$();if(i&&i.length){var a=this.getList();var s=a&&a.getParent();var o=s&&s.getScrollDelegate();var u=o._$Container;if(u&&u.length){var c=u.offset();var g=i.offset();var f=c.top+u.height();var h=g.top+i.height();var d=0;if(h>f){d=h-f}else if(g.top<c.top){d=g.top-c.top}if(d!=0){var v=o.getScrollLeft();var p=o.getScrollTop()+d;o.scrollTo(v,p,0);if(o._fnScrollLoadCallback){o._fnScrollLoadCallback()}}}}if(n){l.quickcardRequest({suggestionItem:n})}}else if(r<0){var S=this.getList();S&&S.$().children("li").eq(r).removeClass("sapMSelectListItemBaseSelected").attr("aria-selected","false")}return r},getSelectedSuggestionItem:function(){var e=this.getSelectedItemIndex();var t=this.getList().getItems();if(e>=0&&Array.isArray(t)&&t.length>e){return t[e]}},getSelectedItemIndex:setHighlightedExternalSearch:function(e){this.bFooterHighlighted=e;if(this._externalSearchLink){this._externalSearchLink[e?"addStyleClass":"removeStyleClass"]("surjFocused")}},getHighlightedExternalSearch:function(){return this.bFooterHighlighted},isExternalSearchVisible:function(){return this._externalSearchLink&&this._externalSearchLink.getVisible()},open:function(){var o=t;this._super();if(!g){var l;if(s){l=e(".sapMDialog")}else{l=e(".sapMSltPicker")}var f=l.length;if(f>0){g=sap.ui.getCore().byId(e(l[f-1]).attr("id"));g.addStyleClass("bizXSuggestPicker");if(n.isLowVisionEnabled()){g.addStyleClass("globalLowVisionSupport");g.addStyleClass(n.getLowVisionType())}g.removeDelegate(g.aDelegates[0].oDelegate);g.attachAfterClose&&g.attachAfterClose(function(){o.fireAfterSuggestClose()});var h=sap.ui.getCore().getConfiguration().getVersion();if(h.compareTo(i._BIZX_ONTAP_COMPAT_VERSION)<0){g.addEventDelegate({ontap:function(e){var t=a(e.target);if(t){o.fireSuggestionItemSelected({selectedItem:t})}}})}if(s){var d=g.getCustomHeader();if(d.removeContentLeft){d.removeContentLeft(0)}else{d.removeContent(d.getContent()[0])}g.addStyleClass("bizXSuggestDialog");sap.ui.require(["sap/sf/surj/shell/controls/BizXSearchField"],function(t){var n=u=new t({showRefreshButton:true,showSearchButton:false,showSearchType:"{universalSearch>/searchTypeVisible}",transitiveText:"{universalSearch>/transitiveAction/actionLabel}",placeholder:"{universalSearch>/placeholder}",pending:"{universalSearch>/pending}",liveChange:function(e){var t=e.getParameter("newValue");o.setValue(t);o.fireLiveChange({newValue:t});o.fireSuggest({suggestValue:t});r.update()},search:function(e){if(!e.getParameter("clearButtonPressed")){g.close()}}});e.each(["pressSearchType","reset"],function(t,r){e.each(o.mEventRegistry[r]||[],});g.attachAfterOpen&&g.attachAfterOpen(function(){o.fireAfterSuggestOpen();var e=n.getTransitiveText&&n.getTransitiveText();e&&n.setTransitiveText(e)});if(d.addContentLeft){d.addContentLeft(n)}else{d.insertContent(n,0)}})}else{var v=o.$().outerWidth();g.setContentWidth(v+"px");var p=r._externalSearchLink=new sap.m.Link({press:function(){o.fireExternalSearch()},visible:"{universalSearch>/externalSearchVisible}",text:"{universalSearch>/externalSearchText}"}).addStyleClass("bizXSuggestExternalSearch");if(r.bFooterHighlighted){p.addStyleClass("surjFocused")}g.setFooter(r._externalSearchLink);g.addEventDelegate({onmouseup:function(e){o.__ignoreBlur=false},onmousedown:onAfterRendering:function(){var e=g.getDomRef();e.style.maxWidth=v+"px"}});var S=function(){g.close()};g.attachAfterOpen(function(){window.addEventListener("scroll",S);o.$("I").attr("aria-owns",g.getId());o.fireAfterSuggestOpen();var e=g.$("scroll");if(c&&e.length){e[0].style.marginLeft="initial"}});g.attachBeforeClose(function(){window.removeEventListener("scroll",S);o.$("I").removeAttr("aria-owns")})}}}},reopenAndClear:function(){var e=50,t=0;function n(i){window.setTimeout(function(){if(r.isOpen()){return}if(++t<e){r.open();n()}else{console.warn("Timed out trying to reopen suggestions")}},i||100)}u&&u.clear({clearButton:true});n(500)}})}function a(e){var t=s(e);while(!t&&e.parentNode){e=e.parentNode;t=s(e)}return t}function s(e){var t=sap.ui.getCore().byId(e.id);if(t instanceof sap.m.SuggestionItem){return t}}i.USE_DIALOG=t.system.phone;i._BIZX_ONTAP_COMPAT_VERSION="1.77";i.prototype=new r;i.prototype._super=r;e.sap.setObject("sap.sf.surj.shell.controls.BizXSuggest",i);function o(t,r){e.each(r,function(e,r){var n=r;if(typeof r=="function"&&l.test(r)){var i=t[e];n=function(){var e=t._super;var n;t._super=i;try{n=r.apply(t,arguments)}finally{t._super=e}return n}}t[e]=n})}var l=/xyz/.test(?/\b_super\b/:/.*/;return i});
sap.ui.predefine("sap/sf/surj/shell/controls/BizXSuggestionItem", ["sap/m/SuggestionItem"],function(t){"use strict";var e=t.extend("sap.sf.surj.shell.controls.BizXSuggestionItem",{metadata:{properties:{highlightedText:"string",sectionTitle:"string",a11yAnnouncement:"string",customCss:"string"}}});e.prototype.render=function(e,i,s,n){var r=i.getSectionTitle();var o=i.getCustomCss();if(!e.openStart){if(r){e.write('<div class="bizXSuggestionTitle">');e.writeEscaped(r);e.write("</div>")}e.addClass("bizXSuggestionItem");if(o){e.addClass(o)}}else{if(r){e.openStart("div");e.class("bizXSuggestionTitle");e.openEnd();e.text(r);e.close("div")}e.class("bizXSuggestionItem");if(o){e.class(o)}}t.prototype.render.apply(this,[e,i,i.getHighlightedText()||s,n])};return e});
sap.ui.predefine("sap/sf/surj/shell/controls/Container",["jquery.sap.global","sap/ui/core/Control"],function(e,t){"use strict";return t.extend("sap.sf.surj.shell.controls.Container",{metadata:{properties:{tagName:{type:"string",defaultValue:"div"}},defaultAggregation:"content",aggregations:{content:{multiple:true,type:"sap.ui.core.Control"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:function(t,r){var a=r.getTagName();t.write("<"+a);if(a=="button"){t.write(' type="button"')}t.writeAccessibilityState(r);t.writeControlData(r);t.addClass("surjContainer");t.writeClasses();t.write(">");e.each(r.getContent()||[],function(e,r){t.renderControl(r)});t.write("</"+a+">")}})});
sap.ui.predefine("sap/sf/surj/shell/controls/FocusMarker",["jquery.sap.global","sap/ui/core/Control"],function(e,t){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");return t.extend("sap.sf.surj.shell.controls.FocusMarker",{metadata:{},renderer:function(e,t){e.write("<button");e.writeControlData(t);e.addClass("sfFocusMarker");e.addClass("hiddenAriaContent");e.writeClasses();e.writeAttributeEscaped("title",r.getText("COMMON_HIDDEN_FOCUS_MARKER_TITLE"));e.writeAccessibilityState(t,{hidden:true});e.write("></button>")}})});
sap.ui.predefine("sap/sf/surj/shell/controls/GACESearchInput",["jquery.sap.global","sap/sf/surj/shell/controls/SearchInput"],function(e,t){"use strict";return t.extend("sap.sf.surj.shell.controls.GACESearchInput",{metadata:{library:"sap.sf.surj.shell"},renderer:{},_createCriteria:function(t){var r=this.getSearchType();var n=e.extend({searchValue:t},this.getSettings()||{});var s=this.getBindingContext();n.bindingContext=s;return n},_getDisplayText:function(e){var t="";if(e){t=e.name;if(e.code){t+=" ("+e.code+")"}}return t},_getDisplayInfo:function(e){},_getPhotoSrc:function(e){}})});
sap.ui.predefine("sap/sf/surj/shell/controls/GACESearchResult",["jquery.sap.global","sap/ui/core/Control","sap/ui/core/Icon","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/controls/UserPhoto"],function(e,t,r,s,i,n){"use strict";var o=/^(true|yes|y)$/i;var a=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");return t.extend("sap.sf.surj.shell.controls.GACESearchResult",{metadata:{library:"sap.sf.surj.shell",properties:{text:"string",searchValue:"string",resultScope:"string",personItem:"any",photoSrc:"sap.sf.surj.shell.controls.UserPhotoSrc",settings:"object"},aggregations:{_userPhoto:{type:"sap.sf.surj.shell.controls.UserPhoto",visibility:"hidden",multiple:false}}},renderer:function(t,i){var n=i.getAggregation("_userPhoto");var o=i.getSearchValue();var l=i.getSettings();var u=i.getPersonItem();var p=l&&l.findtype==="proxy";var c=u.employments||[];var m=u.userName;var f="COMMON_Person_AutoComplete_Alternate_Employment";t.write("<div");t.writeControlData(i);t.addClass("surjresult surjGaceResultImg"+(u.subItem&&!u.firstSubItem?" surjGaceResultFrame":""));t.writeClasses();t.write(">");t.write('<div class="surjGacePhotoFrame">');if(n){t.renderControl(n)}t.write("</div>");t.write("<div>");t.write('<div class="surjcontent surjGaceTitle">');var d=l&&l.additionalCriteria||{};var g=d.resultScope;if(!u.subItem||u.firstSubItem){var C=s.getHighlightedMarkup(u.name,o,'<em class="surjhighlight surjAutoCompleteHighlight">',"</em>");t.write('<div class="surj-peui-name">',C);if(m&&m!=null){t.write("<span>");t.write(" "+a.getText("COMMON_PARENTHETICAL_PHRASE",e.sap.escapeHTML(m)));t.write("</span>")}if(g&&g.toUpperCase()=="PERSON"){if(u.isActive=="false"){var v=a.getText("COMMON_InActive");t.write('<span class="surjGACEInactive">');t.writeEscaped(" "+a.getText("COMMON_PARENTHETICAL_PHRASE",[v]));t.write("</span>")}}t.write("</div>");t.write("</div>")}if(g&&g.toUpperCase()=="PERSON"){if(u.email){t.write('<div class="surjGACEEmail">');t.writeEscaped(u.email);t.write("</div>")}i._renderContingentLabel(t,u.isContingentWorker)}else{c.forEach(function(e,s){var n=null;var o="surj-peui-title";if(u.hasEmploymentDifferentiatorText===true){n=a.getText("COMMON_Person_AutoComplete_DiffText",[e.employmentDifferentiatorText])}else{n=e.title;var c=e.locationName;var m=e.departmentName;var d=!i.isEmpty(n);var g=!i.isEmpty(c);var C=p&&!i.isEmpty(m);if(g){n=n?a.getText("COMMON_Person_AutoComplete_Title_And_Location",[n,c]):c}if(C){n=n?a.getText("COMMON_Person_AutoComplete_Title_And_Location",[n,m]):m}if(d^g^C){n=a.getText("COMMON_Person_AutoComplete_DiffText",[n])}}var v=new r({src:i.getIcon(e,l)}).addStyleClass("surjGACEIcon");var h=a.getText("COMMON_Search_No_Information_Placeholder");if(n==h||i.isEmpty(n)){n=i.displayEmptyWhenOneEmployment(u,a.getText(f))}t.write("<div class="+o+">");t.write('<span class="surj-empDiffColumn1">'+n+"</span>");if(e.isActive=="false"){var _=a.getText("COMMON_InActive");t.write("&nbsp;");t.write('<span class="surjGACEInactive">');t.writeEscaped(a.getText("COMMON_PARENTHETICAL_PHRASE",[_]));t.write("</span>")}if(e.showIcon){v.addStyleClass("surj-sempDiffColumn2");t.renderControl(v)}t.write("</div>");i._renderContingentLabel(t,e.isContingentWorker)})}t.write("</div></div></div>")},displayEmptyWhenOneEmployment:function(e,t){if(e["firstSubItem"]&&e["lastSubItem"]){return"&nbsp;"}return t},isEmpty:_renderContingentLabel:function(e,t){if(t==="Y"){e.write('<div class="surj-result-cgt">');e.writeEscaped(a.getText("COMMON_Contingent_Worker"));e.write("</div>")}else if(t==="?"){var s=new r({src:"sap-icon://sys-help"}).addStyleClass("surj-result-cgt-noAuth");s.setTooltip(a.getText("COMMON_Contingent_Worker_No_Permission_Info"));e.renderControl(s)}},getIcon:function(e,t){if(e.employmentType=="GA"){if(e.isHomeAssignment=="true"){return"sap-icon://home"}else{return"sap-icon://world"}}else if(e.employmentType=="ST"&&e.isHomeAssignment=="true"){return"sap-icon://home"}else if(o.test(e.isPrimaryEmployment)&&t&&t.additionalCriteria&&o.test(t.additionalCriteria.includeSecondEmpl)){return"sap-icon://favorite"}},setPhotoSrc:function(e){var t=this.getAggregation("_userPhoto");if(t){if(e){t.setPhotoSrc(e)}else{t.destroy()}}else if(e){this.setAggregation("_userPhoto",new i({profile:{},user:{photoSrc:e}}))}return this.setProperty("photoSrc",e)}})});
sap.ui.predefine("sap/sf/surj/shell/controls/IntroSuggestionItem",["jquery.sap.global","sap/m/SuggestionItem"],function(t,e){"use strict";return e.extend("sap.sf.surj.shell.controls.IntroSuggestionItem",{metadata:{properties:{introSnippet:"string"}},render:function(t,e,s,n){if(!t.openStart){t.write("<li");t.writeElementData(e);t.addClass("sapMSuLI");t.addClass("bizXIntroSuggestionItem");t.writeClasses();t.write(">");t.write(e.getIntroSnippet());t.write("</li>")}else{t.openStart("li",e);t.class("sapMSuLI");t.class("bizXIntroSuggestionItem");t.openEnd();t.unsafeHtml(e.getIntroSnippet());t.close("li")}}})});
sap.ui.predefine("sap/sf/surj/shell/controls/MultiSelectSearchInput",["jquery.sap.global","sap/m/ComboBoxBaseRenderer","sap/m/MultiComboBox","sap/m/inputUtils/ListHelpers","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/Device","sap/sf/surj/shell/controls/PeopleSuggestionItem","sap/sf/surj/shell/util/SearchUtil","./SearchInput"],function(e,t,s,o,i,a,l,r,n,u){return s.extend("sap.sf.surj.shell.controls.MultiSelectSearchInput",{metadata:{properties:{settings:"object",searchType:{type:"string",defaultValue:"jsup"},scrollThreshold:{type:"int",defaultValue:10},alwaysBottom:{type:"boolean",defaultValue:false},showButton:{type:"boolean",defaultValue:false},pending:{type:"boolean",defaultValue:false},objectValue:"any",forceItemSelection:{type:"boolean",defaultValue:false},startSuggestion:{type:"int",group:"Behavior",defaultValue:2},showValueHelp:{type:"boolean",group:"Behavior",defaultValue:true},showSuggestion:{type:"boolean",group:"Behavior",defaultValue:false},valueHelpOnly:{type:"boolean",group:"Behavior",defaultValue:false},showTableSuggestionValueHelp:{type:"boolean",group:"Behavior",defaultValue:true},showInvalidValueState:{type:"boolean",group:"Behavior",defaultValue:false}},events:{valueHelpRequest:{parameters:{fromSuggestions:{type:"boolean"}}}}},renderer:{getAccessibilityState:function(e){var s=t.getAccessibilityState.apply(this,arguments);var o=i.getLibraryResourceBundle("sap.m");s.roledescription=o.getText("MULTIINPUT_ARIA_ROLE_DESCRIPTION");return s}},constructor:function(){var e=this.fnFilter;s.apply(this,arguments);this.fnFilter=e;this.getIcon().setVisible(false);this.addAggregation("_endIcon",this._getValueHelpIcon());this.applySettings({selectionChange:this._onSelectionChange.bind(this),showClearIcon:this.getShowClearIcon(),showValueHelp:this.getShowValueHelp(),startSuggestion:this.getStartSuggestion()});this._oThrottle=n.createThrottle();this._oThrottle.attachEvent("pageReady",this._onPageReady.bind(this));this._oThrottle.attachEvent("pending",this._onPending.bind(this));this._checkScroll=this._checkScroll.bind(this)},fnFilter:onBeforeRendering:function(){s.prototype.onBeforeRendering.call(this);var e=this.getShowValueHelp()&&this.getEnabled()&&this.getEditable();var t=this.getAggregation("_endIcon")||[];var o=t[0];if(e){o=this._getValueHelpIcon();o.setProperty("visible",true,true)}else if(o){o.setProperty("visible",false,true)}},setShowValueHelp:function(e){this.setProperty("showValueHelp",e);if(this._oSuggestionPopover&&this._oSuggestionPopover._oPopupInput){this._oSuggestionPopover._oPopupInput.setShowValueHelp(e)}return this},open:function(){s.prototype.open.apply(this,arguments);this.focus();return this},oninput:function(e){s.prototype.oninput.apply(this,arguments);this._onSuggest(e.originalEvent||e)},ontap:onsapselect:function(e){var t=s.prototype.onsapselect;typeof t==="function"&&t.call(this,e);this._fireValueHelpRequestForValueHelpOnly()},onsapshow:function(e){if(this.getShowValueHelp()){e.preventDefault();this._handleItemToFocus();return this._fireValueHelpRequest(false)}return s.prototype.onsapshow.call(this,e)},onchange:function(e){if(this.getShowValueHelp()||this.getShowSuggestion()){return}this.onChange(e)},getItemsMap:function(){return this.getItems().reduce({})},setSelection:function(){var e=this.getValue();var t=this._lastValue;s.prototype.setSelection.apply(this,arguments);this.setValue(e);this.setLastValue(t)},setValue:function(){s.prototype.setValue.apply(this,arguments);var e=this.getValue();this._sDomValue=e;this._sOldValue=e;this._sOldInput=e;return this},_handleTypeAhead:function(){this._bDoTypeAhead=false;return s.prototype._handleTypeAhead.apply(this,arguments)},_handleInputFocusOut:function(){this._sOldInput=this._sOldValue="";return s.prototype._handleInputFocusOut.apply(this,arguments)},_synchronizeSelectedItemAndKey:function(){s.prototype._synchronizeSelectedItemAndKey.apply(this,arguments);this.setSelectedItems(this.getSelectedItems())},_createSuggestionsPopover:function(){var e=s.prototype._createSuggestionsPopover.apply(this,arguments);e._oPopover.addStyleClass("surjliSuggest").addStyleClass("globalMenu").addStyleClass("globalContainerHoverSansFocus");return e},_getValueHelpIcon:function(){if(!this._oValueHelpIcon){this._oValueHelpIcon=this.addEndIcon({id:this.getId()+"-vhi",src:a.getIconURI("value-help"),useIconTooltip:false,alt:(this._oRbM||this._oRb).getText("INPUT_VALUEHELP_BUTTON"),decorative:false,noTabStop:true,press:this._onValueHelpIconPress.bind(this)})}return this._oValueHelpIcon},_onValueHelpIconPress:function(e){if(!this.getValueHelpOnly()){var t=e.getSource().getParent();var s;if(l.support.touch){s=t.$("inner");s.attr("readonly","readonly");t.focus();s.removeAttr("readonly")}else{t.focus()}this.bValueHelpRequested=true;this._fireValueHelpRequest(false)}},_showWrongValueVisualEffect:function(){if(this.getShowInvalidValueState()){s.prototype._showWrongValueVisualEffect.apply(this,arguments)}else{this._syncInputWidth(this.getAggregation("tokenizer"))}},_handleFieldValidationState:function(e){if(this.getShowInvalidValueState()){s.prototype._handleFieldValidationState.apply(this,arguments)}},_fireValueHelpRequest:function(e){this.fireValueHelpRequest({multiSelectMode:true,multiSelectSearchInput:this,fromSuggestions:e,userInputValue:this.getValue()})},_getShowMoreButtonPress:function(){var e;var t=this._getTypedInValue();if(this.getShowTableSuggestionValueHelp()){if(t){e=t;this.updateDomValue(e);this._resetTypeAhead();this._setTypedInValue(e)}this._fireValueHelpRequest(true);this._closeSuggestionPopup()}},_configureList:function(e){s.prototype._configureList.apply(this,arguments);if(e){e.removeStyleClass("sapMListBGSolid");e.addStyleClass("sapMListBGTranslucent sapMListTblCnt surjSuggestionsPopoverList")}},_mapItemToListItem:function(e){var t=null;if(e){var s,i;var a=this.getRenderer();if(e.isA("sap.ui.core.SeparatorItem")){t=o.createListItemFromCoreItem(e,this.getShowSecondaryValues());return t}s=a.CSS_CLASS_MULTICOMBOBOX+"Item";i=this.isItemSelected(e)?s+"Selected":"";t=this._createListItem(e,s,i);t.addStyleClass(s+" "+i);e.data(o.CSS_CLASS+"ListItem",t);this.setSelectable(e,e.getEnabled());this._decorateListItem(t)}return t},_createListItem:function(e,t,s){var o;if(e instanceof r){var i=e.data("resultItem");o=new sap.m.CustomListItem({type:sap.m.ListType.Active,tooltip:e.getTooltip(),visible:e.getEnabled(),content:this._createSearchResult(e.getUser())}).data("resultItem",i).data("suggestionItem",e).addEventDelegate({onAfterRendering:function(e){jQuery("#"+e.srcControl.getId()).attr("role","menuitem")}}).addStyleClass(this._getListItemStyleClass(i)).addStyleClass(t+" "+s)}else{o=new sap.m.StandardListItem({info:e.getAdditionalText&&this.getShowSecondaryValues()?e.getAdditionalText():"",type:sap.m.ListType.Active,tooltip:e.getTooltip(),title:e.getText(),visible:e.getEnabled()}).addStyleClass(t+" "+s)}return o},_onPageReady:function(e){var t=e.getParameter("criteria");var s=t.searchValue||t.query;var o=e.getParameter("items");if(o&&o.length>0){var i=this.getItemsMap();o.forEach(function(e){if(!i[e.userId]){var t=new r({key:e.userId,user:e}).data("resultItem",e);this.addItem(t)}},this);this._checkScroll()}this.isOpen()||this.open()},_checkScroll:function(){if(this.isOpen()){if(!this._oScrollDelegate){this._oScrollDelegate=this.getPicker().getScrollDelegate();this._oScrollDelegate&&this._oScrollDelegate.setGrowingList(this._checkScroll)}if(this._isScrolledBottom()&&this._oThrottle.hasMore()){this._oThrottle.more()}}else if(!this.bIsDestroyed){setTimeout(this._checkScroll,10)}},_onSuggest:function(e){var t=this.getSelectedKeys();var s=typeof e=="string"?e:e.target.value;this.getItems().forEach(function(e){t.includes(e.getKey())||this.removeItem(e)},this);if(s.length>=this.getStartSuggestion()||e===""){this.isOpen()||this.open();this._doSearch(s)}},_onSelectionChange:function(e){var t=e.getParameter("changedItem").data("resultItem");var s=this.getSelectedItems();var o=this.getAggregation("tokenizer");var i=o.getTokens();var a=s.find(;t&&this.setProperty("objectValue",t,true);if(a){var l=i.find(;if(l){l.data("resultItem",t)}}this._oThrottle.abort();this.setValue("")},_setTypedInValue:u.prototype._setTypedInValue,_getTypedInValue:u.prototype._getTypedInValue,_resetTypeAhead:u.prototype._resetTypeAhead,_onPending:u.prototype._onPending,_fireValueHelpRequestForValueHelpOnly:u.prototype._fireValueHelpRequestForValueHelpOnly,_createSearchResult:u.prototype._createSearchResult,_doSearch:u.prototype._doSearch,_createCriteria:u.prototype._createCriteria,_getPhotoSrc:u.prototype._getPhotoSrc,_getDisplayInfo:u.prototype._getDisplayInfo,_getSubtitle:u.prototype._getSubtitle,_getDisplayText:u.prototype._getDisplayText,_getListItemStyleClass:u.prototype._getListItemStyleClass,_hasPhoto:u.prototype._hasPhoto,_isPersonResult:u.prototype._isPersonResult,_isHideUserName:u.prototype._isHideUserName,_isUserSearch:u.prototype._isUserSearch,_isGACESearchResultItem:u.prototype._isGACESearchResultItem,_getSuggestionColumns:u.prototype._getSuggestionColumns,_isScrolledBottom:u.prototype._isScrolledBottom,setPending:u.prototype.setPending,toggleIconPressedStyle:e.noop})},true);
sap.ui.predefine("sap/sf/surj/shell/controls/NotificationWrapper",["jquery.sap.global","sap/ui/core/Control"],function(t,e){"use strict";var i=sap.ui.getCore();var o=i.getLibraryResourceBundle("sap.sf.surj.shell.i18n");return e.extend("sap.sf.surj.shell.controls.NotificationWrapper",{metadata:{properties:{text:"string"},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}},renderer:function(t,e){t.write("<div");t.writeControlData(e);t.addClass("surjNotificationWrapper");t.writeClasses();t.write(">");var i=e.getContent();if(i){t.renderControl(i)}t.write("</div>")},onAfterRendering:function(){this._updateNotificationText()},_updateNotificationText:function(){var e=this.getText();var i=this.$();if(i&&i.length>0){var r=i.find(".surjNotificationText");if(r.length>0){if(e){r.text(e)}else{r.remove()}}else if(e){var n=t('<div class="surjNotificationText globalHeaderAlertBadge"></div>').text(e);var a=i.find("button");if(a.length>0){a.append(n);var s=parseInt(e?e:0,10)||0;var l;if(s===0){l=o.getText("HOME_Todo_MSG_ALL_COMPLETED")}else{l=s===1?o.getText("COMMON_You_Have_Todos_SINGULAR"):o.getText("COMMON_You_Have_Todos_PLURAL",[s])}a.find("#globalTodos-tooltip").text(l)}else{i.append(n)}}}},setContent:function(e){this.setAggregation("content",e);e.addEventDelegate({onAfterRendering:t.proxy(this._updateNotificationText,this)})},setText:function(t){this.setProperty("text",t,true);this._updateNotificationText()}})});
sap.ui.predefine("sap/sf/surj/shell/controls/PeopleSuggestionItem", ["jquery.sap.global","sap/m/SuggestionItem","./UserPhoto"],function(e,t,s){"use strict";var i=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var n=t.extend("sap.sf.surj.shell.controls.PeopleSuggestionItem",{metadata:{properties:{user:"sap.sf.surj.shell.controls.UserInfo",sectionTitle:"string",highlightedText:"string",enablePhoto:"boolean"},aggregations:{_userPhoto:{type:"sap.sf.surj.shell.controls.UserPhoto",multiple:false,visibility:"hidden"}}},getA11yAnnouncement:function(){var e=this.getUser();var t=e.userName;var s=e.keys;var n=s&&s.TITLE;var r=s&&s.PHONE;var a=[];a.push(this.getSuggestionText());if(t){a.push(i.getText("COMMON_PARENTHETICAL_PHRASE",[t]))}if(e.contingentWorker||e.isContingentWorkerString=="Y"){a.push(i.getText("COMMON_Contingent_Worker"))}if(e.multipleAssignment){n=i.getText("ACTIONSEARCH_Multiple_Assignments")}if(e.multipleEmployment){n=i.getText("ACTIONSEARCH_Multiple_Employments")}if(e.isActive==="false"){n=n||"";n=i.getText("COMMON_User_Name_Inactive",[n])}n&&a.push(n);if(r){a.push(i.getText("COMMON_GlobalSearch_Announcement_PhoneNumber",[r]))}return a.join(" ")},setUser:function(t){var i=e.extend({},t);var n=window.pageHeaderJsonData;var r=n&&n.settings;var a=r&&r.encryptUserIdInURLEnabled=="true";if(!i.photoSrc){var o={urlType:"eduPhoto",photoType:"liveProfile",mod:t.imageMod};if(a){o.userIdEncoded=t.userIdEncoded}else{o.userId=t.userId}i.photoSrc=o}this.setAggregation("_userPhoto",new s({profile:{},user:i}));this.setProperty("user",t,false);this.setText(t.name)}});function r(e,t,s){var i;if(t){i=t.toUpperCase().indexOf(s.toUpperCase());if(!e.openStart){if(i>-1){e.writeEscaped(t.slice(0,i));e.write("<b>");e.writeEscaped(t.slice(i,i+s.length));e.write("</b>");t=t.substring(i+s.length)}e.writeEscaped(t)}else{if(i>-1){e.text(t.slice(0,i));e.openStart("b").openEnd();e.text(t.slice(i,i+s.length));e.close("b");t=t.substring(i+s.length)}e.text(t)}}}n.prototype.render=function(t,s,n,a){var o=t;var l=s.getUser();var p=l.name;var g=l.userName;var c=l.keys;var d=c&&c.TITLE;var u=c&&c.PHONE;var S=s.getDescription();n=n||"";var m=this.getEnablePhoto();var f=s.getAggregation("_userPhoto");var I=s.getSectionTitle();if(!o.openStart){if(I){o.write('<div class="bizXSuggestionTitle">');o.writeEscaped(I);o.write("</div>")}o.write("<li");o.writeElementData(s);o.writeAttribute("role","option");o.writeAttribute("role","listitem");o.addClass("bizXSuggestionItem");o.addClass("bizXPeopleSuggestionItem");if(m&&f){o.addClass("bizXPSIHasPhoto")}if(l.contingentWorker||l.isContingentWorkerString=="Y"){o.addClass("bizXPSIHasTags")}o.addClass("sapMSuLI");o.addClass("sapMSelectListItem");o.addClass("sapMSelectListItemBase");o.addClass("sapMSelectListItemBaseHoverable");if(a){o.addClass("sapMSelectListItemBaseSelected");o.writeAttribute("aria-selected","true")}o.writeClasses();o.write(">");if(m&&f){o.renderControl(f)}o.write('<div class="bizXPSINameWrap">');if(l.contingentWorker||l.isContingentWorkerString=="Y"){o.write('<div class="bizXPSIContingent">');o.writeEscaped(i.getText("COMMON_Contingent_Worker"));o.write("</div>")}if(u){o.write('<span class="bizxPSIPN">');o.writeEscaped(u);o.write("</span>")}o.write('<span class="bizxPSIN">');r(o,p,s.getHighlightedText()||n);if(g){o.write(' <span class="bizxPSIUn">');o.write(i.getText("COMMON_PARENTHETICAL_PHRASE",[e.sap.escapeHTML(g)]));o.write("</span>")}o.write("</span>");if(l.multipleAssignment){d=i.getText("ACTIONSEARCH_Multiple_Assignments")}if(l.multipleEmployment){d=i.getText("ACTIONSEARCH_Multiple_Employments")}if(l.isActive==="false"){d=d||"";d=i.getText("COMMON_User_Name_Inactive",[d])}if(d){o.write('<span class="bizxPSIT">');o.writeEscaped(d);o.write("</span>")}o.write("</div>");o.write("</li>")}else{if(I){o.openStart("div");o.class("bizXSuggestionTitle");o.openEnd();o.text(I);o.close("div")}o.openStart("li",s);o.attr("role","option");o.attr("role","listitem");o.class("bizXSuggestionItem");o.class("bizXPeopleSuggestionItem");if(m&&f){o.class("bizXPSIHasPhoto")}if(l.contingentWorker||l.isContingentWorkerString=="Y"){o.class("bizXPSIHasTags")}o.class("sapMSuLI");o.class("sapMSelectListItem");o.class("sapMSelectListItemBase");o.class("sapMSelectListItemBaseHoverable");if(a){o.class("sapMSelectListItemBaseSelected");o.attr("aria-selected","true")}o.openEnd();if(m&&f){o.renderControl(f)}o.openStart("div");o.class("bizXPSINameWrap");o.openEnd();if(l.contingentWorker||l.isContingentWorkerString=="Y"){o.openStart("div");o.class("bizXPSIContingent");o.openEnd();o.text(i.getText("COMMON_Contingent_Worker"));o.close("div")}if(u){o.openStart("span");o.class("bizxPSIPN");o.openEnd();o.text(u);o.close("span")}o.openStart("span");o.class("bizxPSIN");o.openEnd();r(o,p,s.getHighlightedText()||n);if(g){o.text(" ");o.openStart("span");o.class("bizxPSIUn");o.openEnd();o.unsafeHtml(i.getText("COMMON_PARENTHETICAL_PHRASE",[e.sap.escapeHTML(g)]));o.close("span")}o.close("span");if(l.multipleAssignment){d=i.getText("ACTIONSEARCH_Multiple_Assignments")}if(l.multipleEmployment){d=i.getText("ACTIONSEARCH_Multiple_Employments")}if(l.isActive==="false"){d=d||"";d=i.getText("COMMON_User_Name_Inactive",[d])}if(d){o.openStart("span");o.class("bizxPSIT");o.openEnd();o.text(d);o.close("span")}o.close("div");o.close("li")}};return n});
sap.ui.predefine("sap/sf/surj/shell/controls/ResponsiveSidePanel",["jquery.sap.global","sap/ui/core/Control","sap/ui/core/Popup","sap/ui/Device","sap/sf/surj/shell/util/A11yPreferences"],function(e,t,i,s,o){"use strict";return t.extend("sap.sf.surj.shell.controls.ResponsiveSidePanel",{metadata:{library:"sap.sf.surj.shell",interfaces:["sap.ui.core.PopupInterface"],publicMethods:["show","hide","isShown"],events:{afterHide:{},afterShow:{}},properties:{closeOnClick:"boolean",from:"string",refocusRef:"any",widthThreshold:{type:"int",defaultValue:320},resizeHide:{type:"boolean",defaultValue:false},top:{type:"any",defaultValue:0},left:"string",modal:"boolean"},aggregations:{header:{multiple:false,type:"sap.m.IBar"},content:{multiple:true,type:"sap.ui.core.Control",singularName:"content"}},defaultAggregation:"content"},init:function(){var t=this;this.oPopup=new i(this);this.oPopup.setModal(true,"transparentShim");this.oPopup.setDurations(250,250);this.oPopup.onsapescape=e.proxy(this.hide,this);this.oPopup.attachClosed(function(){var e=t.getRefocusRef();jQuery.sap.focus(e);t.fireAfterHide();if(window.SFBodyEventDispatcher){SFBodyEventDispatcher.handleBodyReset(false,true)}})},exit:show:function(){if(this.hide===e.sap.getObject("sap.sf.surj.shell.controls.ResponsiveSidePanel").prototype.hide){this.hide=e.proxy(this.hide,this)}var t=this.oPopup;var i=this.getFrom();var s=parseInt(this.getTop());var o=sap.ui.getCore().getConfiguration().getRTL();if(i=="begin"){i=o?"right":"left"}if(i=="end"){i=o?"left":"right"}var n=e("#content");t.setPosition(i+" top+"+s,i+" top",document.body,"0 0");t.setAnimations(e.proxy(function(e,t,s){var o=this.$("wrapper");var n=e.css("overflow");o.css({position:"absolute",width:e.width()+"px"}).css(i=="left"?"right":"left",0);e.css({width:0,display:"block"}).animate({width:this.getWidth()+"px"},t,null,function(){o.css({position:"static",width:"100%"});e.css("overflow",n);s&&s();window.scrollTo(window.scrollX,0)})},this),e.proxy(function(e,t,i){var s=e.css("overflow");this.$("wrapper").css({position:"absolute",width:e.width()+"px"});e.animate({width:0},t,null,i)},this));t.open();this.mInitWidth=e(window).width();setTimeout(e.proxy(this),100)},hide:function(){if(this.isShown()){e("#sap-ui-blocklayer-popup").off("mousedown touchstart",this.hide);if(window.SFBodyEventDispatcher){SFBodyEventDispatcher.removeResizeListener(null,this)}else{jQuery(window).off("resize",this._resizeHandler)}this.oPopup.close()}},isShown:renderer:function(t,i){t.write("<div");t.writeControlData(i);t.addClass("globalPortletBodyBackground");t.addClass("surjResponsiveSidePanel");if(o.isLowVisionEnabled()){t.addClass("globalLowVisionSupport");t.addClass(o.getLowVisionType())}t.writeClasses();t.write(' style="width:',i.getWidth(),"px;height:",i._getHeight(),'px;overflow:hidden">');t.write('<div id="',i.getId(),'-wrapper" style="width:100%;height:100%;">');var s=i.getHeader();s&&t.renderControl(s);var n=i.getContent();t.write('<div id="',i.getId(),'-content" style="width:100%;height:',i._getContentHeight(),'px">');e.each(n,;t.write("</div></div></div>")},getWidth:function(){var t=e(window).width();var i=this.getWidthThreshold();if(s.system.phone||t<i){return t}else{return i}},onAfterRendering:function(){if(window.SFBodyEventDispatcher){SFBodyEventDispatcher.addResizeListener(this,"_onWindowResize")}else{this._resizeHandler=this._resizeHandler||e.proxy(this._onWindowResize,this);e(window).on("resize",this._resizeHandler)}this.fireAfterShow()},_onWindowResize:function(){var t=e(window).width();if(this.getResizeHide()&&Math.abs(this.mInitWidth-t)>30){this.hide()}else{this.$().css({height:this._getHeight()+"px",width:this.getWidth()+"px"});this.$("content").css("height",this._getContentHeight()+"px")}},_getHeight:function(){return e(window).height()-parseInt(this.getTop())},_getContentHeight:function(){return this._getHeight()-(this.getHeader()?48:0)}})});
sap.ui.predefine("sap/sf/surj/shell/controls/SearchInput",["jquery.sap.global","sap/m/Input","sap/m/Popover","sap/m/ColumnListItem","sap/m/Column","sap/sf/surj/shell/controls/SearchResult","sap/sf/surj/shell/controls/GACESearchResult","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/util/A11yPreferences","./SearchInputRenderer","sap/sf/surj/shell/util/Util","sap/sf/surj/shell/util/GACESearchUtil","sap/sf/surj/shell/util/PeopleSearchUtil"],function(e,t,s,i,o,r,n,a,l,u,h,p,c){"use strict";var g=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var f;var d="aria-expanded";return t.extend("sap.sf.surj.shell.controls.SearchInput",{metadata:{properties:{settings:"object",searchType:{type:"string",defaultValue:"jsup"},scrollThreshold:{type:"int",defaultValue:20},alwaysBottom:{type:"boolean",defaultValue:false},showButton:{type:"boolean",defaultValue:false},pending:{type:"boolean",defaultValue:false},objectValue:"any",forceItemSelection:{type:"boolean",defaultValue:false},allowOverflow:{type:"boolean",defaultValue:false}},interfaces:["sap.m.IOverflowToolbarContent"],renderer:u,library:"sap.sf.surj.shell",events:{itemSelected:{parameters:{selectedItem:{type:"any"}}},itemChange:{}},aggregations:{_buttonLabelText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},constructor:function(s,i){if(typeof s=="object"){i=s;s=undefined}var o=this;var r=this._getBaseSettings(i);this._oThrottle=a.createThrottle(i&&i.throttleTime!=null?{throttleTime:i.throttleTime}:null);this._oThrottle.attachEvent("pageReady",e.proxy(this._onPageReady,this));this._oThrottle.attachEvent("pending",e.proxy(this._onPending,this));if(typeof s=="string"){t.call(this,s,r)}else{t.call(this,r)}},ontap:function(e){var s=this.getRenderer().CSS_CLASS_COMBOBOXBASE,i=e.srcControl;if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();if(i.isOpenArea&&i.isOpenArea(e.target)){if(this.isOpen()){this.close();this.removeStyleClass(s+"Pressed");return}this.open()}else{var o=t.prototype.ontap;o&&o.apply(this,arguments)}if(this.isOpen()){this.addStyleClass(s+"Pressed")}},ontouchstart:function(e){if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();if(this.isOpenArea(e.target)){this.bOpenedByButton=true;this.addStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed")}else{var s=t.prototype.ontouchstart;s&&s.apply(this,arguments)}},ontouchend:function(e){if(!this.getEnabled()||!this.getEditable()){return}e.setMarked();if(!this.isOpen()&&this.isOpenArea(e.target)){this.removeStyleClass(this.getRenderer().CSS_CLASS_COMBOBOXBASE+"Pressed")}},onsapshow:function(e){if(this.getShowValueHelp()){t.prototype.onsapshow.call(this,e);return}if(!this.getShowButton()||!this.getEnabled()||!this.getEditable()){return}e.setMarked();if(e.keyCode===jQuery.sap.KeyCodes.F4){e.preventDefault()}if(this.isOpen()){this.close();return}this.bOpenedByButton=true;this.open()},getStartSuggestion:function(){if(this.bOpenedByButton){return 0}return t.prototype.getStartSuggestion.call(this)},open:focus:function(){t.prototype.focus.call(this);if(this.isOpen()&&window.getSelection){window.getSelection().removeAllRanges()}},close:function(){this._closeSuggestionPopup()},_onPopoverOpening:function(){jQuery("#"+this.getIdForLabel()).attr(d,"true")},_onPopoverClosed:function(e){this.bOpenedByButton=false;jQuery("#"+this.getIdForLabel()).attr(d,"false")},isOpen:isOpenArea:getOpenArea:_openSuggestionPopup:function(e){if(this.isMobileDevice()){var s=this._oSuggPopover;if(s&&s._oPopupInput&&this._sSelectedValue){var i=s._oPopupInput;this._sPrevSuggValue=this._sSelectedValue;i._bSelectingItem=true;i.setValue(this._sSelectedValue)}}t.prototype._openSuggestionPopup.apply(this,arguments)},_refreshItemsDelayed:function(){if(this._oSuggestionTable&&this.isMobileDevice()&&this._hasTabularSuggestions()){this._oSuggestionTable.removeStyleClass("sapMInputSuggestionTableHidden");return}t.prototype._refreshItemsDelayed.apply(this,arguments)},_getBaseSettings:function(t){return e.extend({},t,{autocomplete:false,filterSuggests:false,showSuggestion:true,showTableSuggestionValueHelp:false,suggestionColumns:this._getSuggestionColumns(),suggestionItemSelected:e.proxy(this._onSuggestionItemSelected,this),suggest:e.proxy(this._onSuggest,this),change:e.proxy(this._onChange,this)})},_onChange:_onSuggestionItemSelected:function(e){var t=e.getParameter("selectedRow").__oResultItem;var s=this._getDisplayText(t,true);this._oThrottle.abort();this.setValue(s||"");if(t){this.setProperty("objectValue",t,true);this.fireItemSelected({selectedItem:t})}},_onSuggest:function(e){this.removeAllSuggestionRows();this._initSuggestionPopup();var t=typeof e=="string"?e:e.getParameter("suggestValue");if(t.trim().length>=this.getStartSuggestion()||e===""){this._doSearch(t)}},_onPageReady:function(t){var s=this;var o=t.getParameter("criteria");var n=o.searchValue||o.query;var a=t.getParameter("items");var l=a.length;if(a&&l>0){this.$().find(".sapUiPseudoInvisibleText").attr("aria-live","polite").attr("role","status").html("");e.each(a,function(t,o){var r=new i({cells:s._createSearchResult(o,n)}).addEventDelegate({onAfterRendering:function(e){var s=e.srcControl;var i=s.getParent();jQuery("#"+s.getId()).attr("role","option").attr("aria-setsize",l).attr("aria-posinset",t+1);jQuery("#"+i.getId()+" > table").attr("role","listbox")}}).addStyleClass(s._getListItemStyleClass(o));s.addSuggestionRow(e.extend(r,{__oResultItem:o}))});this._checkScroll()}else{this.$().find(".sapUiPseudoInvisibleText").removeAttr("aria-live").removeAttr("role");this.addSuggestionRow(new i({cells:e.extend(new r({text:g.getText("COMMON_No_Results")}).addEventDelegate({onAfterRendering:function(e){this.$().find(".sapUiPseudoInvisibleText").html(g.getText("COMMON_No_Results")).attr("aria-live","polite").attr("role","status");e&&e.srcControl&&e.srcControl.$().closest(".sapMListTbl").attr("role","presentation")}.bind(this)}),{__bNoResults:true})}))}},_onPending:setPending:function(e){this.setProperty("pending",e,true);this[e?"addStyleClass":"removeStyleClass"]("bizXSFPending")},_doSearch:function(e){this._oThrottle.change(this.getSearchType(),this._createCriteria(e))},_createCriteria:function(t){var s;if(this.getSearchType()=="jsup"){s=e.extend({query:t},this.getSettings()||{})}else{s=e.extend({searchValue:t},this.getSettings()||{})}return s},_checkScroll:function(){if(this.isOpen()){if(!this._oScrollDelegate){this._oScrollDelegate=this._oSuggestionPopup.getScrollDelegate();this._oScrollDelegate&&this._oScrollDelegate.setGrowingList(e.proxy(this._checkScroll,this))}if(this._isScrolledBottom()&&this._oThrottle.hasMore()){this._oThrottle.more()}}else if(!this.bIsDestroyed){setTimeout(e.proxy(this._checkScroll,this),10)}},_isScrolledBottom:function(){if(this._oScrollDelegate){var e=this._oScrollDelegate.getScrollTop();var t=this._oScrollDelegate.getMaxScrollTop();return t-e<this.getScrollThreshold()}return false},_initSuggestionPopup:function(){if(!this._popupInit){var t=this._oSuggestionPopup;if(t&&this.getAlwaysBottom()){t._calcVertical=t.addStyleClass("surjliSuggest");t.addStyleClass("globalMenu");t.addStyleClass("globalContainerHoverSansFocus");t.attachBeforeOpen(e.proxy(this._onPopoverOpening,this));t.attachAfterOpen(e.proxy(this._onPopoverOpened,this));t.attachAfterClose(e.proxy(this._onPopoverClosed,this));this._popupInit=true}},_onPopoverOpened:function(){jQuery("#"+this.sId+"-popup-table-listUl").attr("role","listbox")},_createSearchResult:function(e,t){if(this._isGACESearchResultItem(e)){var s=this.getSettings();var i=s&&s.additionalCriteria&&s.additionalCriteria.resultScope||"EMPLOYMENT";var o;if(!e.subItem||e.firstSubItem){o=this._getPhotoSrc(e)}return new n({resultScope:i,personItem:e,settings:s}).setText(this._getDisplayText(e,false)).setPhotoSrc(o).setSearchValue(t)}else{var a=(new r).setSearchValue(t).setText(this._getDisplayText(e,false)).setInfo(this._getDisplayInfo(e)).setSubtitle(this._getSubtitle(e));if(this._hasPhoto(e)){a.setPhotoSrc(this._getPhotoSrc(e))}return a}},_getPhotoSrc:function(e){var t;if(e.legacyItem){e=e.legacyItem}if(this._hasPhoto(e)){if(!e.photoViewable){if(!f){f=sap.ui.resource("sap.sf.surj.shell.img.userphoto","UserPhotoPlaceholder_50x50.png")}t=f}else{t=e.photoUrl||e.photoSrc}if(!t){var s=e.UserId||e.userId;var i=e.photoMod;t={userIdEncoded:e.assignmentIdEncoded,userId:s,urlType:"eduPhoto",photoType:"face",mod:i};if(h.isEncryptedUserIdInURLEnabled()){var o=e.userIdEncoded||e.assignmentIdEncoded;if(o){t.userIdEncoded=o}}}}return t},_getDisplayInfo:function(e){if(e.legacyItem){e=e.legacyItem}if(this._isUserSearch()){if(this._isHideUserName()){var t=[];if(e.Location){t.push(e.Location)}if(e.Department){t.push(e.Department)}if(t.length>0){return t.join(", ")}}else{return e.userName||e.UserName}}return null},_getSubtitle:function(e){var t=e.keys&&e.keys.TITLE;return t===null?"":t},_getDisplayText:function(e,t){var s=e;if(!e){return null}var i=e.legacyItem;if(i){e=i}if(this._isGACESearchResultItem(s)){var o=e.employments&&e.employments[0];var r=o&&o.title;if(e.hasEmploymentDifferentiatorText===true){return g.getText("COMMON_Person_AutoComplete_Title_And_Location",[e.name,o.employmentDifferentiatorText])}if(r){return g.getText("COMMON_Person_AutoComplete_Title_And_Location",[e.name,r])}if(t==true&&!e.name){return e.email}return e.name}else if(this._isUserSearch()){var n=e.FullName||e.fullName||e.name;if(!n){n=g.getText("COMMON_User_Display_Name",[e.firstName||e.FirstName,"",e.lastName||e.LastName])}return n}else{return e.name||e.actionLabel}},_getListItemStyleClass:function(e){var t=["surjli"];var s=e;var i=e.legacyItem;if(i){e=i}if(this._isGACESearchResultItem(s)){if(this._hasPhoto(e)){t.push("surjli-personEmployment")}t.push("surjli-personEmploymentGACE");if(e.subItem){t.push("surjli-subItem")}if(e.firstSubItem){t.push("surjli-firstSubItem")}else{t.push("surjli-nonFirstSubItem")}if(e.lastSubItem){t.push("surjli-lastSubItem")}else{t.push("surjli-nonLastSubItem")}}else if(this._getSubtitle(e)!=null){t.push("surjli-hasSubTitle")}if(this._hasPhoto(e)){t.push("surjli-hasphoto")}if(l.isLowVisionEnabled()){t.push("globalLowVisionSupport");t.push(l.getLowVisionType())}t.push("globalMenuItem");t.push("globalMenuItemBackground");return t.join(" ")},_hasPhoto:function(t){var s=e.sap.getObject("pageHeaderJsonData.settings");return this._isPersonResult(t)&&(s&&s["autocomplete.enablePhoto"]=="true"||e("#autocomplete\\.enablePhoto").attr("content")=="true")},_isPersonResult:_isHideUserName:function(){return e.sap.getObject("pageHeaderJsonData.settings")["autocomplete.hideUserName"]=="true"||e("#autocomplete\\.hideUserName").attr("content")=="true"},_isUserSearch:function(){switch(this.getSearchType()){case"jsup":var e=this.getSettings();var t=e&&e.findtype||"fullname";return"firstname lastname username fullname proxy customUserSearch".indexOf(t)>=0;case"Person-Employment-User":case"People":return true}return false},_isGACESearchResultItem:function(e){return this.getSearchType()=="Person-Employment-User"&&e.personBased},_getSuggestionColumns:onBeforeRendering:onAfterRendering:function(){jQuery("#"+this.getIdForLabel()).attr(d,"false");jQuery("#"+this.getIdForLabel()).attr("role","combobox")},onfocusout:function(e){if(this.getForceItemSelection()){if(this._focusOutId==null){this._focusOutId=setTimeout(function(){this._focusOutId=null;this.setValue(this._getDisplayText(this.getObjectValue(),false))}.bind(this),0)}}var s=t.prototype.onfocusout;s&&s.apply(this,arguments)},onfocusin:function(e){var s=this.getOpenArea();var i=e.target;if(s==i||s&&s.parentNode==i){this.focus()}var o=t.prototype.onfocusin;o&&o.apply(this,arguments)},_initArrowButton:function(){var e=this;var t=this._arrowButton;if(!t&&this.getShowButton()){var s=sap.ui.getCore().getLibraryResourceBundle("sap.m");t=this._arrowButton=this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:s.getText("COMBOBOX_BUTTON"),decorative:false,press:);t.addAriaLabelledBy("")}if(t){t.setVisible(this.getShowButton())}},setShowButton:function(e){var t=this.setProperty("showButton",e,true);this._initArrowButton();return t},getOverflowToolbarConfig:function(){var e={canOverflow:this.getAllowOverflow(),propsUnrelatedToSize:["pending"]};return e}})});
sap.ui.predefine("sap/sf/surj/shell/controls/SearchInputRenderer", ["jquery.sap.global","sap/ui/core/Renderer","sap/m/InputRenderer","sap/m/ComboBoxRenderer"],function(jQuery,e,n,s){"use strict";var r=e.extend(n);r.CSS_CLASS_COMBOBOXBASE=s.CSS_CLASS_COMBOBOXBASE;r.addOuterClasses=function(e,s){if(s.getPending()){if(!e.openStart){e.addClass("bizXSFPending")}else{e.class("bizXSFPending")}}n.addOuterClasses(e,s)};return r},true);
sap.ui.predefine("sap/sf/surj/shell/controls/SearchResult",["jquery.sap.global","sap/ui/core/Control","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/controls/UserPhoto"],function(jQuery,e,t,s){"use strict";return e.extend("sap.sf.surj.shell.controls.SearchResult",{metadata:{library:"sap.sf.surj.shell",properties:{text:{type:"string",defaultValue:""},info:"string",searchValue:"string",subtitle:"string",photoSrc:"sap.sf.surj.shell.controls.UserPhotoSrc",isEscapedText:"boolean"},aggregations:{_userPhoto:{type:"sap.sf.surj.shell.controls.UserPhoto",visibility:"hidden",multiple:false}}},renderer:function(e,s){function r(){var t=s.getInfo();if(t){e.write('&nbsp;&nbsp;<span class="info">&#x200E;(');e.write(t);e.write(")&#x200E;</span>&nbsp;&nbsp;")}}var i=s.getSubtitle();e.write("<div");e.writeControlData(s);e.addClass("surjresult");e.writeClasses();e.write(">");var o=s.getAggregation("_userPhoto");o&&e.renderControl(o);e.write('<div class="surjcontent">');if(i!=null){e.write('<div class="surjli-Title">')}var l=sap.ui.getCore().getConfiguration().getRTL();if(l){r()}e.write(t.getHighlightedMarkup(s.getText(),s.getSearchValue(),'<em class="surjhighlight">',"</em>",s.getIsEscapedText()));if(!l){r()}if(i!=null){e.write("</div>");if(i){e.write('<div class="surjli-SubTitle">');e.writeEscaped(i);e.write("</div>")}}e.write("</div></div>")},setPhotoSrc:function(e){var t=this.getAggregation("_userPhoto");if(t){if(e){t.setPhotoSrc(e)}else{t.destroy()}}else if(e){this.setAggregation("_userPhoto",new s({profile:{},user:{photoSrc:e}}))}return this.setProperty("photoSrc",e)}})});
sap.ui.predefine("sap/sf/surj/shell/controls/SearchResultList",["sap/m/List"],function(s){"use strict";return s.extend("sap.sf.surj.shell.controls.SearchResultList",{metadata:{},renderer:{}})});
sap.ui.predefine("sap/sf/surj/shell/controls/SearchResultPopover",["sap/m/Popover"],function(e){"use strict";return e.extend("sap.sf.surj.shell.controls.SearchResultPopover",{metadata:{},renderer:{}})});
sap.ui.predefine("sap/sf/surj/shell/controls/ShellBar",["sap/ui/core/Control","sap/sf/surj/shell/util/Util","xweb/widget-loader/miniapp/util/Bootstrap"],function(e,r,t){var n="bizXShellBarContainer";function l(){var e=document.getElementById(n);return e&&e.querySelector('[data-ui5-stable="sf-header-shellbar"]')}return e.extend("sap.sf.surj.shell.controls.ShellBar",{metadata:{library:"sap.sf.surj.shell"},renderer:onAfterRendering:function(){this._tryRenderHeader()},_tryRenderHeader:function(){if(this._pending||l()){return}var e=this;this._pending=true;try{r.setupWidgetLoader();t.loadWidget("xweb/shellbar").then(function(r){r(document.getElementById(n));e._pending=false})}catch(r){console.error("Could not load web component shellbar widget",r);e._pending=false}}})});
sap.ui.predefine("sap/sf/surj/shell/controls/ShowMeCallout",["sap/ui/core/Control","sap/ui/layout/HorizontalLayout","sap/ui/layout/VerticalLayout","sap/sf/surj/shell/controls/Container","sap/m/Popover","sap/m/Image","sap/m/Link","sap/m/Text","sap/m/Button"],function(e,t,n,a,s,o,r,l,i){"use strict";var u=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var h={width:"120px",height:"90px"};var _="manage";var M="author";var c="play";var d=sap.ui.resource("sap.sf.surj.shell.img.showme","");var p=d+"show_me_how_to_thumb.jpg";var f=d+"video_play.png";var O=d+"showme_admin_done_bar.png";return e.extend("sap.sf.surj.shell.controls.ShowMeCallout",{metadata:{properties:{modality:{type:"string",default:c},isMobile:{type:"boolean",default:false},thumbUrl:{type:"string",default:""},videoTitle:{type:"string",default:""},videoDesc:{type:"string",default:""},isDraft:{type:"boolean",default:false},useDefaultContent:{type:"boolean",default:false}}},setEventHandler:openBy:function(e){if(!this._callout){this._callout=new s({showHeader:false,placement:"Bottom",content:this._createContent(),footer:this._createFooter()}).addStyleClass("surjShowMECO")}this._callout.openBy(e)},isOpen:close:_createContent:function(){var e=this;var n;if(this.getModality()==M){this.setThumbUrl(p);n="playShowMeAuthorHelp"}else{n="playShowMe"}return new t({content:[new a({content:[new o({src:e.getThumbUrl(),alt:u.getText("COMMON_SHOW_ME_THUMBNAIL_IMAGE_DESCRIPTION"),width:h.width,height:h.height,press:function(){e._eventHandlerFn({action:n})}}),new o({src:f,press:).addStyleClass("surjShowMeCOVideoPlayButton")]}).addStyleClass("surjShowMeThumb"),e.getModality()==M?e._createContentAuthor():e._createContentPlay()]}).addStyleClass("surjShowMeCOContent")},_createContentPlay:function(){var e=this;return new n({content:[new r({text:e.getVideoTitle(),press:function(){e._eventHandlerFn({action:"playShowMe"})}}),new l({text:e.getVideoDesc().replace(/\n/g,"<br>")})]}).addStyleClass("surjShowMeCOText")},_createContentAuthor:function(){var e=this;var t=[];if(!this.getIsMobile()){t.push(new l({text:u.getText("COMMON_SHOW_ME_AUTHOR_WELCOME")}));t.push(new a({content:this._formatMessage(u.getText("COMMON_SHOW_ME_LEARN_MORE"),function(){e._eventHandlerFn({action:"playShowMeAuthorHelp"})})}).addStyleClass("surjShowMeFormattedMsgContainer"));t.push(new i({text:u.getText("COMMON_SHOW_ME_AUTHOR_LINK"),press:function(){e._eventHandlerFn({action:"recordShowMe"})}}))}else{t.push(new l({text:u.getText("COMMON_SHOW_ME_MOBILE_AUTHOR")}))}return new n({content:t}).addStyleClass("surjShowMeCOText")},_createFooter:function(){var e=this;var t=[new r({text:u.getText("COMMON_DONT_SHOW_AGAIN"),press:).addStyleClass("surjShowMeCOFooterDontShowLink")];if(this.getModality()==_){var s;if(!this.getIsMobile()){if(this.getIsDraft()){s=u.getText("COMMON_SHOW_ME_NOT_PUBLISHED")}else if(this.getUseDefaultContent()){s=u.getText("COMMON_SHOW_ME_MANAGE_DEFAULT_VIDEO")}else{s=u.getText("COMMON_SHOW_ME_MANAGE_VIDEO")}}else{s=u.getText("COMMON_SHOW_ME_MOBILE_MANAGE_VIDEO")}t.push(new n({content:[new o({src:O,width:"100%"}),new a({content:e._formatMessage(s,}).addStyleClass("surjShowMeCOFooterMsgContainer surjShowMeFormattedMsgContainer")]}).addStyleClass("surjShowMeCOFooterMain"))}return new n({width:"400px",content:t}).addStyleClass("surjShowMeCOFooter")},_formatMessage:function(e,t){var n=[];var a=e.split(/<a.*?>/);for(var s=0;s<a.length;++s){var o=a[s];if(o){o=o.replace(/<br\/>/g,"\n");var i=o.split(/<\/a>/);if(i.length>1){n.push(new r({text:i[0],press:t}));n.push(new l({text:i[1]}))}else{n.push(new l({text:o}))}}}return n}})});
sap.ui.predefine("sap/sf/surj/shell/controls/ShowMoreSuggestionItem",["sap/m/SuggestionItem"],function(e){"use strict";return e.extend("sap.sf.surj.shell.controls.ShowMoreSuggestionItem",{metadata:{properties:{a11yAnnouncement:"string"}},render:function(e,s,t,a){if(!e.openStart){e.write("<li");e.writeElementData(s);e.addClass("bizXSuggestionItem");e.addClass("bizXShowMoreSuggestionItem");e.addClass("sapMSuLI");e.addClass("sapMSelectListItem");e.addClass("sapMSelectListItemBase");e.writeClasses();e.write(">");e.writeEscaped(s.getText());e.write("</li>")}else{e.openStart("li",s);e.class("bizXSuggestionItem");e.class("bizXShowMoreSuggestionItem");e.class("sapMSuLI");e.class("sapMSelectListItem");e.class("sapMSelectListItemBase");e.openEnd();e.text(s.getText());e.close("li")}}})});
/*!
 * ${copyright}
 */
sap.ui.predefine("sap/sf/surj/shell/controls/Table", ["jquery.sap.global","sap/m/Table"],function(i,t){"use strict";var e="surjTableWithResizingColumn";var s="resizingColumn";var o=8;var n="";var l=t.extend("sap.sf.surj.shell.controls.Table",{renderer:{},metadata:{properties:{useResizableColumns:{type:"boolean",defaultValue:true}}},constructor:function(){t.apply(this,arguments);this._initColumnResize=this._initColumnResize.bind(this);this.addStyleClass("surjTable")},destroy:function(){t.prototype.destroy.apply(this,arguments);this._initColumnResize=null},onAfterRendering:function(){t.prototype.onAfterRendering.apply(this,arguments);if(this.getUseResizableColumns()){this._initColumnResize()}return this},_initColumnResize:function(){var i=this.getColumns();var t,e,s;for(var o,u=0;u<i.length;u++){o=i[u];s=o.$();if(s.hasClass(l.RESIZABLE_COLUMN_CLASS_NAME)){o.data("surj-resize-icon",n,true);t=parseInt(o.getWidth(),10);if(!t){t=s.width();o.setWidth(t+"px",true)}e=o.data("initialWidth");if(!e){e=o.getWidth();o.data("initialWidth",e)}this._applyColumnResizeHandlers({$col:o.$(),$this:this.$(),oCol:o,sInitialWidth:e,iWidth:t})}}return this},_applyColumnResizeHandlers:function(i){i.bPressed=false;i.iX=null;i.iX0=null;i.iCrtWidth=i.iWidth;i.onColumnMouseMove=this._onColumnResizingMouseMove.bind(this,i);i.onColumnResizingMouseUp=this._onColumnResizingMouseUp.bind(this,i);i.$col.on("dblclick",this._onColumnDoubleClick.bind(this,i)).on("mousedown",this._onColumnMouseDown.bind(i.oCol.getDomRef(),i));return this},_onColumnDoubleClick:function(i,t){i.$col.width(i.sInitialWidth);i.oCol.setWidth(i.sInitialWidth,true);i.iX=i.iX0=null;i.iCrtWidth=i.iWidth;i.bPressed=false;t.stopPropagation();return false},_onColumnMouseDown:function(i,t){var e=window.getComputedStyle?window.getComputedStyle(this,null):this.currentStyle;var s=e?t.offsetX+parseInt(e.paddingRight,10):t.offsetX;if(s>=this.offsetWidth-o&&s<=this.offsetWidth){i.iX=i.iX0=t.pageX-i.$this.rect().left;i.iCrtWidth=i.$col.width();i.bPressed=true;i.$this.on("mousemove",i.onColumnMouseMove).on("mouseup",i.onColumnResizingMouseUp);t.stopPropagation()}return false},_onColumnResizingMouseMove:function(i,t){if(i.bPressed){i.$this.addClass(e);i.$col.addClass(s);i.iX=t.pageX-i.$this.rect().left;i.iCrtWidth=i.iWidth+(i.iX-i.iX0);i.iCrtWidth<o&&(i.iCrtWidth=o);if(Math.abs(i.iWidth-i.iCrtWidth)>o){i.$col.width(i.iCrtWidth)}t.stopPropagation()}return false},_onColumnResizingMouseUp:function(i,t){if(i.bPressed){i.iX=t.pageX-i.$this.rect().left;i.iCrtWidth=i.iWidth+(i.iX-i.iX0);i.iCrtWidth<o&&(i.iCrtWidth=o);if(Math.abs(i.iWidth-i.iCrtWidth)>o){i.$col.width(i.iCrtWidth);i.oCol.setWidth(i.iCrtWidth+"px",true)}t.stopPropagation()}i.$col.removeClass(s);i.$this.removeClass(e).off("mousemove",i.onColumnMouseMove).off("mouseup",i.onColumnResizingMouseUp);i.iX=null;i.iWidth=null;i.bPressed=false;return false}});l.RESIZABLE_COLUMN_CLASS_NAME="surjTableResizableColumn";return l});
sap.ui.predefine("sap/sf/surj/shell/controls/UserPhoto", ["jquery.sap.global","sap/ui/core/Control","sap/ui/base/DataType","sap/ui/Device","sap/ui/core/Icon","../util/UserPhotoUtil","../util/NameFormatter","../util/Config","../util/DeferredUtil","../util/Util"],function(e,t,r,i,s,a,o,n,l,h){var u="sap.sf.surj.shell";var d=u+".controls";var c=e.sap.getObject(d,false);var p={circle:false,cropping:"MIDDLE_MIDDLE",fullNameInitials:false,maxHeight:30,minFontSize:8};var g=sap.ui.resource("sap.sf.surj.shell.img.userphoto","");var f={P_180_240:g+"UserPhotoPlaceholder_180x240.png",P_60_80:g+"UserPhotoPlaceholder_60x80.png",S_112:g+"UserPhotoPlaceholder_112x112.png",S_50:g+"UserPhotoPlaceholder_50x50.png",S_30:g+"UserPhotoPlaceholder_30x30.png"};var m={PORTRAIT_180_240:{width:"180px",height:"240px",fullNameInitials:true,placeholder:f.P_180_240},PORTRAIT_60_80:{width:"60px",height:"80px",placeholder:f.P_60_80},CIRCLE_234:{circle:true,width:"234px",height:"234px",placeholder:f.S_112},CIRCLE_180:{circle:true,width:"180px",height:"180px",placeholder:f.S_112},CIRCLE_140:{circle:true,width:"140px",height:"140px",placeholder:f.S_112},CIRCLE_90:{circle:true,width:"90px",height:"90px",placeholder:f.S_112},CIRCLE_80:{circle:true,width:"80px",height:"80px",placeholder:f.S_112},CIRCLE_40:{circle:true,width:"40px",height:"40px",placeholder:f.S_50},CIRCLE_64:{circle:true,width:"64px",height:"64px",placeholder:f.S_50},SQUARE_112:{width:"112px",height:"112px",placeholder:f.S_112},SQUARE_64:{width:"64px",height:"64px",placeholder:f.S_50},SQUARE_50:{width:"50px",height:"50px",placeholder:f.S_50},SQUARE_40:{width:"40px",height:"40px",placeholder:f.S_50},SQUARE_30:{width:"30px",height:"30px",placeholder:f.S_30}};var v={LOCAL:"localpicture",EDU:"eduPhoto"};var w={userId:["string",null],userIdEncoded:["string",null],urlType:[v.LOCAL,v.EDU,null],photoType:["string",null],clientPhotoCachingEnabled:["boolean",null],baseUrl:["string",null],mod:["string","number",null]};var y={photoType:"quickCard"};var S={width:["string","number",null],height:["string","number",null],placeholder:["string",null],circle:["boolean",null],textOnSilhouette:["initial","full",null],css:["string",null],imageCss:["string",null],nameCss:["string",null],maxHeight:["number",null],minFontSize:["number",null]};var C={localpicture:{photoAction:"ps_p_action",photoType:"p_type",userId:"ps_p_uid"},eduPhoto:{photoType:"photo_type",userId:"user_id",userIdEncoded:"user_id_encoded"}};var P=e.extend(r.createType(d+".PhotoProfile",{isValid:function(e){var t=typeof e;if(typeof e=="string"){return!!m[e]}else{return n.validate(e,S)}}}),m);var _=r.createType(d+".UserPhotoSrc",{isValid:function(e){return n.validate(e,["string",null,w])}});e.sap.setObject(d+".PhotoProfile",P);e.sap.setObject(d+".UserPhotoSrc",_);e.sap.setObject(d+".Cropping",{START:"START",END:"END",BOTH:"BOTH",SCALE:"SCALE"});e.sap.setObject(d+".NameDirection",{NORTH:"NORTH",EAST:"EAST",WEST:"WEST",SOUTH:"SOUTH",CENTER:"CENTER"});var N=n.createDataType(d+".UserInfo",{userId:["string",null],firstName:["string",null],mi:["string",null],lastName:["string",null],photoSrc:[n.dataType(d+".UserPhotoSrc"),null],hiResPhotoSrc:[n.dataType(d+".UserPhotoSrc"),null]});var I=t.extend(d+".UserPhoto",{metadata:{library:u,interfaces:[d+".IUserPhoto"],properties:{user:d+".UserInfo",options:{type:"object",defaultValue:null},profile:d+".PhotoProfile",horizontalCrop:{type:d+".Cropping",defaultValue:c.Cropping.BOTH},verticalCrop:{type:d+".Cropping",defaultValue:c.Cropping.BOTH},nameDirection:{type:d+".NameDirection",defaultValue:c.NameDirection.SOUTH},focusable:"boolean",showUserName:"boolean",skipCalculateImageStyle:"boolean",showHoverBorder:"boolean",keys:{type:"string[]"},nameWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},wideAsPhoto:"boolean",tallAsPhoto:"boolean",shrinkNameToFit:"boolean",showNameWhenNoPhoto:{type:"boolean",defaultValue:true},passedInNameStyle:"string",useMButtonStyles:"boolean",buttonType:"string",splitName:{type:"boolean",defaultValue:false},useAvatar:{type:"boolean",group:"Appearance",defaultValue:false},displayShape:{type:"any",group:"Appearance",defaultValue:"Circle"},displaySize:{type:"any",group:"Appearance",defaultValue:"M"},showMenuIcon:"boolean",highlightText:"string",ariaLabel:"string"},aggregations:{_menuIcon:{type:"sap.ui.core.Icon",visibility:"hidden",multiple:false}},events:{ready:{},click:{},mouseover:{},mouseout:{},touchstart:{},touchend:{},keydown:{}}},onAfterRendering:function(t){var r=this.$();this._bindDomEvents(r);if(this.getFocusable()){r.attr("type","button")}if(!this.mAspectRatio){this._bindImageEvents(e("img.surjUserPhotoImg",r))}else{this._updateStyles()}if(this.getShrinkNameToFit()){this._shrinkNameToFit(r)}},onkeydown:function(e){var t;if(e.ctrlKey&&e.shiftKey&&e.keyCode==49){t="control-shift-1"}if(e.which===jQuery.sap.KeyCodes.SPACE||e.which===jQuery.sap.KeyCodes.ENTER){this._activeButton()}this.fireKeydown({keyEvent:e,keyCombo:t})},onkeyup:function(e){if(e.which===jQuery.sap.KeyCodes.SPACE||e.which===jQuery.sap.KeyCodes.ENTER){this._inactiveButton()}},ontouchstart:function(e){if(e.targetTouches.length===1){this._activeButton()}},ontouchend:function(){this._inactiveButton()},ontouchcancel:function(){this._inactiveButton()},_activeButton:function(){if(this.getUseMButtonStyles()){this.$("inner").addClass("sapMBtnActive")}},_inactiveButton:function(){if(this.getUseMButtonStyles()){this.$("inner").removeClass("sapMBtnActive")}},setUser:function(e,t){var r=this.getUseAvatar();this.setProperty("user",e,!r);this.refreshImage(t)},refreshImage:function(t){if(this.getUseAvatar()){var r=this._oAvatar;r&&r.setSrc(this.getPhotoSrc());return}var i=this.$();var s=e("img.surjUserPhotoImg",i).removeClass("surjUserPhotoImg");var a=s.length||e(".surjUserPhotoWrapper",i);this.mAspectRatio=null;if(s.length||a.length){var o=e('<img class="surjUserPhotoImg">').attr({src:this.getPhotoSrc(),title:this.getTooltip_AsString()||this.getFullName(),alt:this.getTooltip_AsString()||this.getFullName()}).css(U.getImageStyles(this));this._bindImageEvents(o);if(s.length==0){a.prepend(o)}else if(t){o.insertAfter(s);s.css({position:"absolute"}).fadeOut(function(){s.remove()})}else{s.replaceWith(o)}}},_bindImageEvents:function(e){var t=this;e&&e.length&&e.bind("load",function(){E(this).don})}).bind("fail})},_bindDomEvents:function(t){var r=this;e.each(["click","mouseover","mouseout","touchstart","touchend"],function(e,i){t.bind(i,function(){r.fireEvent(i,{user:r.getUser()})})})},_shrinkNameToFit:function(t){var r=this.getProfile();e(".surjUserPhotoName, .surjUserPhotoNameNoPhoto",t).each(function(){var t=e(this);var i=parseInt(t.css("width"))||parseInt(t.css("max-width"));if(!isNaN(i)){var s=x(t.text(),this,e.extend({},r,{width:i}));t.css("font-size",s)}})},_updateStyles:function(){var t=this.$();if(t.length){var r=U.getImageStyles(this);r&&e(".surjUserPhotoImg",t).css(r);r=U.getNameStyles(this);r&&e(".surjUserPhotoName",t).css(r);r=U.getImageWrapperStyles(this);r&&e(".surjUserPhotoWrapper",t).css(r)}},updateStyles:function(){this._updateStyles()},getProfil},getFullName:function(){var e=this.getUser();if(!e){return""}var t=e.name||e.fullName;if(t){return t}else{return o.format(e)}},getNameInitial},getNameLines:function(){if(this.getSplitName()){return o.splitFullName(this.getUser())}else{return[this.getFullName()]}},hasPhot},getPhotoSrc:function(){var e=this.getUser();var t=this.getUseAvatar();if(!e){return t?"sap-icon://person-placeholder":null}var r=e.photoSrc;if(T()){r=e.hiResPhotoSrc||r}if(r==null||this.mBackupImage){var i=this.getProfile();if(i.placeholder){return t?null:i.placeholder}else{return t?null:g+"UserPhotoPlaceholder_180x240.png"}}else{return _.parse(r)}},setOptions:function(e){this.setProperty("options",e,true);var t=this.getMetadata();for(var r in e){if(t.hasProperty(r)){this.setProperty(r,e[r])}}},getAvatar:function(){if(!this._oAvatar){e.sap.require("sap.f.Avatar");this._oAvatar=new sap.f.Avatar({src:this.getPhotoSrc(),displayShape:this.getDisplayShape(),displaySize:this.getDisplaySize()}).addStyleClass("surjUserPhotoWrapper");this._oAvatar.setInitials(this.getNameInitials());this._oAvatar.setTooltip(this.getFullName())}return this._oAvatar},getAccessibilityInfo:function(){return{description:this.getTooltip_AsString()||this.getFullName()}}});var U=c.UserPhotoRenderer={render:function(e,t){var r=t.getFocusable()?"button":"div";var a=t.getShowUserName();var o=t.getNameDirection();var n=t.getTooltip_AsString();var l=t.getProfile();var h=t.getAriaLabel();e.write("<",r);e.writeControlData(t);if(l.css){e.addClass(l.css)}if(t.getUseMButtonStyles()){e.addClass("sapMBtn")}e.addClass("surjUserPhoto");if(t.getShowHoverBorder()){e.addClass("surjUserPhotoHighlight")}if(a){e.addClass("surjUserPhotoName-"+o)}if(l.circle){e.addClass("surjUserPhotoCircle")}if(l.innerCss){e.addClass(l.innerCss)}e.writeClasses();if(n){e.write(' title="');e.writeEscaped(n);e.write('"')}if(h){e.write(' aria-label="');e.writeEscaped(h);e.write('"')}e.write("><div");e.writeAttribute("id",t.getId()+"-inner");e.addClass("surjUserPhotoInner");if(a&&o=="CENTER"){e.addClass("surjUserPhotoCentered")}if(t.getUseMButtonStyles()){var u=t.getButtonType()||"Default";e.addClass("sapMBtn"+u);e.addClass("sapMBtnHoverable sapMBtnInner sapMFocusable");if(i.browser.internet_explorer||i.browser.edge){e.addClass("sapMIE")}}e.writeClasses();e.write(">");if(t.getUseMButtonStyles()&&(i.browser.internet_explorer||i.browser.edge)){e.write('<span class="sapMBtnFocusDiv"></span>')}if(a){switch(o){case"WEST":case"NORTH":this.renderName(e,t);this.renderImage(e,t);break;case"CENTER":this.renderImage(e,t);this.renderName(e,t);break;default:this.renderImage(e,t);this.renderName(e,t)}}else{this.renderImage(e,t)}if(t.getShowMenuIcon()){var d=t.getAggregation("_menuIcon");if(!d){d=new s({src:"sap-icon://slim-arrow-down"});d.setTooltip(n);t.setAggregation("_menuIcon",d)}e.renderControl(d)}e.write("</div>");e.write("</",r,">")},renderImage:function(t,r){var i=r.getUseAvatar();if(i){t.renderControl(r.getAvatar());return}var s=r.getProfile();var a=r.getPhotoSrc();var o=r.getSkipCalculateImageStyle();var n=r.getNameDirection();t.write("<div");t.addClass("surjUserPhotoWrapper");if(s.imageCss){t.addClass(s.imageCss)}if(o){t.addClass("userPhotoCentered")}t.writeClasses();A(t,this.getImageWrapperStyles(r));t.write(">");if(a){t.write('<img class="surjUserPhotoImg"');t.writeAttribute("src",a);t.writeAttributeEscaped("title",r.getTooltip_AsString()||r.getFullName());t.writeAttributeEscaped("alt",r.getTooltip_AsString()||r.getFullName());A(t,this.getImageStyles(r));t.write("/>")}if(!r.hasPhoto()&&r.getShowNameWhenNoPhoto()&&!r.getShowUserName()){t.write('<div class="surjUserPhotoNameNoPhoto">');if(!e("body").hasClass("nonLatin")&&!s.fullNameInitials){t.writeEscaped(r.getNameInitials())}else{this.renderNameFragments(r,t)}t.write("</div>")}t.write("</div>")},renderName:function(t,r){t.write("<div");var i=r.getProfile();var s=r.getNameDirection();var a=r.getPassedInNameStyle();t.addClass("surjUserPhotoName");if(a){t.addClass(a)}if(i.nameCss){t.addClass(i.nameCss)}var o=r.getKeys();o&&e.each(});t.writeClasses();A(t,this.getNameStyles(r));t.write(">");this.renderKeysPreName(r,t);this.renderNameFragments(r,t);this.renderKeys(r,t);t.write("</div>")},renderNameFragments:function(t,r){var i=t.getHighlightText();var s=i&&new RegExp(RegExp.escape(i),"i");var a=t.getKeys();var o=a&&a.length>0;o&&r.write('<div class="surjName">');if(t.getSplitName()){e.each(t.getNameLines(),function(t,a){r.write("<span");r.addClass("surjNameFragment");r.addClass("surjNameFragment"+t);r.writeClasses();r.write(">");if(i){r.write(e.sap.encodeHTML(a).replace(s,function(e){return"<em>"+e+"</em>"}))}else{r.writeEscaped(a)}r.write("</span>")})}else{var n=t.getFullName();if(i){r.write(e.sap.encodeHTML(n).replace(}))}else{r.writeEscaped(n)}}o&&r.write("</div>")},renderKeysPreName:function(t,r){var i=t.getUser();var s=t.getKeys();s&&e.each(s,function(e,t){if(t=="PHONE"){var s=i&&i.keys&&i.keys[t];r.write("<div");r.addClass("globalFloatRight");r.addClass("surjUserInfoKey");r.addClass("surjUserInfoKey"+t);r.writeClasses();r.write(">");s&&r.writeEscaped(s);r.write("</div>")}})},renderKeys:function(t,r){var i=t.getUser();var s=t.getKeys();s&&e.each(s,function(e,t){if(t!="PHONE"){var s=i&&i.keys&&i.keys[t];r.write("<div");r.addClass("surjUserInfoKey");r.addClass("surjUserInfoKey"+t);r.writeClasses();r.write(">");s&&r.writeEscaped(s);r.write("</div>")}})},getImageWrapperStyles:function(e){var t=e.getProfile();var r={};if(t.width){r.width=t.width}if(t.height){r.height=t.height}return r},getImageStyles:function(t){if(t.getSkipCalculateImageStyle()){return{opacity:"1"}}var r=t.mAspectRatio;var i;if(r){var s=t.getProfile();var a=s.width;var o=s.height;if(!a||!o){var n=e(".surjUserPhotoWrapper",t.$());if(!n.length){return{}}else{if(n.css("width")==="100%"){return{}}else{a=n.css("width");o=n.css("height")}}}var l=parseInt(a,10);var h=parseInt(o,10);var u=/^[\d\.]+(\w+)$/.exec(a);if(u){var d=u[1];var c=l/h;var p=r>c;var g=p?t.getHorizontalCrop():t.getVerticalCrop();if(g=="SCALE"){p=!p;g=p?t.getHorizontalCrop():t.getVerticalCrop()}var f,m;if(p){f=h;m=Math.round(h*r)}else{m=l;f=Math.round(l/r)}i={opacity:1,width:m+d,height:f+d};var v=l-m;var w=h-f;switch(g){case"SCALE":case"BOTH":if(p){i["margin-left"]=Math.round(v/2)+d}else{i["margin-top"]=Math.round(w/2)+d}break;case"START":if(p){i["margin-left"]=-v+d}else{i["margin-top"]=-w+d}break}}}else{i={opacity:"0.1"}}return i},getNameStyles:function(e){var t={display:"","margin-left":"0","margin-right":"0","min-height":"0"};if(e.getShowUserName()){var r=e.getProfile();var i=e.getNameDirection();var s=e.getNameWidth();if(s){t.width=s}else if(e.getWideAsPhoto()){t.width=r.width}else if(e.getTallAsPhoto()){var a=i=="EAST"?"left":"right";t["min-height"]=r.height;t["margin-"+a]=r.width}}else{t.display="none"}return t}};e.extend(P,{parse:function(t){if(t===undefined){return P.parse("PORTRAIT_180_240")}function r(e){if(typeof e.width=="number"){e.width=e.width+"px"}if(typeof e.height=="number"){e.width=e.height+"px"}}if(typeof t=="string"){var i=e.extend({css:"surjUserPhoto-"+t},p,m[t]);r(i);return i}else{for(var s in m){if(t===m[s]){return P.parse(s)}}if(P.isValid(t)){var i=e.extend({},t);r(i);return t}else{throw new Error("[UserPhoto] Invalid profile object provided")}}}});e.extend(_,{TYPES:v,parse:function(e){if(_.isValid(e)){return a.formatUserPhoto(e)}throw new Error("[UserPhoto] Invalid user info")},getPhotoMod:a.getPhotoMod});var b={};function E(t){var r=t.src;if(!b[r]){var i=e.Deferred();b[r]=i.promise();setTimeout(function(){var r=e(t);var s=r.width();var a=r.height();var o=s/a;if(!isNaN(o)&&o<2&&o>.5){i.resolve(o)}else{var n=new Image;n.onload=function(){i.resolve(n.width/n.height)};n.src=t.src}},100)}return b[r]}function T(){return window.devicePixelRatio&&window.devicePixelRatio>1}function A(t,r){if(r){e.each(r,function(e,r){t.addStyle(e,r)});t.writeStyles()}}function x(e,t,r){function i(e,t){return Math.min(r.maxHeight,Math.max(r.minFontSize,Math.floor(e*t)-1))}function s(e,t,r){t=t||document.body;r=r||"1em";e=e||"M";var i=document.createElement("div");i.style.display="inline-block";i.style.lineHeight="1em";i.style.fontSize=r;i.style.padding=0;i.style.visibility="hidden";i.appendChild(document.createTextNode(e));t.appendChild(i);var s=[Math.max(i.offsetWidth,i.scrollWidth),i.offsetHeight];t.removeChild(i);return s}var a=s(e,t);var o=s(null,t);var n=s(e,t,r.minFontSize+"px");if(n[0]<r.width&&o[1]<a[1]){return i(r.minFontSize,r.width/n[0])+"px"}else if(r.maxHeight&&a[1]>r.maxHeight){return i(o[1],r.maxHeight/a[1])+"px"}return"1em"}return I});
sap.ui.predefine("sap/sf/surj/shell/core/BizXResourceBundle",["sap/ui/base/Object"],function(e){"use strict";return e.extend("sap.sf.surj.shell.core.BizXResourceBundle",{getText:function(e,t){var u=window.MSGS;return u&&u[e]&&u.get.apply(u,[e].concat(t||[]))||"???"+e+"???"},hasTex},metadata:{interfaces:["jQuery.sap.util.ResourceBundle"],final:true}})});
sap.ui.predefine("sap/sf/surj/shell/core/BizXResourceModel",["jquery.sap.global","sap/ui/model/resource/ResourceModel","sap/sf/surj/shell/core/BizXResourceBundle"],function(e,s,u){"use strict";return s.extend("sap.sf.surj.shell.core.BizXResourceModel",{constructor:function(){this._bizxbundle=new u;s.call(this,{bundleName:"bizx",bundle:this._bizxbundle})},loadResourceBundl}})});
sap.ui.predefine("sap/sf/surj/shell/mvc/GACEAdvancedSearch.controller",["jquery.sap.global","sap/ui/core/mvc/Controller","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/controls/SearchInput","sap/sf/surj/shell/controls/PeopleSuggestionItem","sap/sf/surj/shell/util/GACEConstants","sap/ui/core/ValueState"],function(e,t,r,i,s,a,o){"use strict";var n=sap.ui.getCore();var l=a.ADV_SEARCH_DIALOG.COLUMN_IDS;var d=n.getLibraryResourceBundle("sap.sf.surj.shell.i18n");var c;var h;var u;return t.extend("sap.sf.surj.shell.mvc.GACEAdvancedSearch",{onInit:function(){this._errorMap={};this._onWindowResize=this._onWindowResize.bind(this);this._onAfterPageRenderingEvtDelegate={onAfterRendering:this.onAfterPageRendering.bind(this)};this._aPendingSelections=[]},onAfterPageRendering:function(t){if(t&&t.srcControl){var r=this.oScrollDelegate=t.srcControl.getScrollDelegate();if(r){r.setGrowingList(e.proxy(this.checkScrollPosition,this))}}},onAfterRendering:function(){var e=this;var t=this.getView();var r=this.mModel=t.getModel();var i=r.getProperty("/columnViewSettings")||this._getHidableColumnIDs();r.setProperty("/columnViewSettings",i);if(!r.getProperty("/columnVisiblity")){r.setProperty("/columnVisiblity",i)}r.setSizeLimit(1e3);var s=n.byId(t.getId()+"-advancedSearchResults");s.removeEventDelegate(this._onAfterPageRenderingEvtDelegate);s.addEventDelegate(this._onAfterPageRenderingEvtDelegate);var a=n.byId(t.getId()+"-searchResultsTable");a.setShowNoData(false);this._markEvenOddSearchFields(n.byId(t.getId()+"-fieldsPanel"));this._markEvenOddSearchFields(n.byId(t.getId()+"-advancedFieldsSubPanel"));window.removeEventListener("resize",this._onWindowResize);window.addEventListener("resize",this._onWindowResize);r.setProperty("/screen",{width:window.innerWidth,height:window.innerHeight})},_getHidableColumnIDs:function(){return l.reduc},{})},_onWindowResize:function(){var e=this;var t=this.mModel;clearTimeout(this._iWindowResize);this._iWindowResize=setTimeout(function(){t.setProperty("/screen/width",window.innerWidth);t.setProperty("/screen/height",window.innerHeight);clearTimeout(e._iWindowResize)},200)},_markEvenOddSearchFields:function(e){if(e){e.getContent().filte}).forEach(function(e,t){e&&e.addStyleClass(t%2?"even":"odd")})}return this},onTogglePress:function(e){var t=this.getView();var r=n.byId(t.getId()+"-advancedSearchCheckBox");var i=e.getSource();if(i.getPressed()){r.setVisible(true);i.setTooltip(d.getText("COMMON_HIDE_DISPLAY_OPTIONS"))}else{r.setVisible(false);i.setTooltip(d.getText("COMMON_SHOW_DISPLAY_OPTIONS"))}},search:function(e){this.clearSearchResults();var t=this.createAdvancedSearchCriteria();var i=r.search("GACEAdvancedSearch",t);this.handleSearchPromise(i);this.navigateToSearchResults()},handleInactiveUsersChange:function(e){this.mModel.setProperty("/additionalCriteria/includeInactive",e.getSource().getState())},handleSearchPromise:function(t){this._lastSearchPromise=t;this.showLoading(t);t.done(e.proxy(this.handleSearchResult,this));t.fail(e.proxy(this.handleSearchError,this))},handleSearchResult:function(t){this._lastResponse=t;var r=t.items||[];var i=[];var s=pageHeaderJsonData.settings;var a=!(s&&s["advancedPersonSearch.personBased"]==="true");var o=this.mModel.getProperty("/additionalCriteria/resultScope");/^(employment|person)$/i.test(o)&&(a=/^(employment)$/i.test(o));for(var l=0;l<r.length;l++){var c=r[l];var h=c.employments;var u=d.getText("COMMON_InActive");var g=d.getText("COMMON_Active");if(h.length>1){for(var p=0;p<h.length;p++){var v=e.extend({},c);var f=c.employments[p];f.userId=f.assignmentId;var m=[];m.push(f);v.primaryEmploymentUserId=v.assignmentId;v.userId=f.userId;v.employments=m;if(!h[p].title){h[p].title=""}if(h[p].isHomeAssignment==="true"){v.sIconName="sap-icon://home";v.sTooltip=d.getText("COMMON_Home_Assignment")}else if(h[p].employmentType=="GA"){v.sIconName="sap-icon://world";v.sTooltip=d.getText("COMMON_Global_Assignment")}if(h[p].isPrimaryEmployment==="true"){v.sIconName="sap-icon://favorite";v.sTooltip=d.getText("COMMON_Primary_Employment")}if(a&&h[p].hasOwnProperty("isContingentWorker")){v.isContingentWorker=h[p].isContingentWorker}if(p>0){v.sDuplicate="duplicate"}else{v.oUserPhoto={photoSrc:this.getPhotoSrc(v)}}h[p].status=h[p].isActive=="false"?u:g;i.push(v)}}else{c.userId=c.assignmentId;var S=c.employments[0];if(S){if(!S.title){c.employments[0].title=""}if(a&&S.hasOwnProperty("isContingentWorker")){c.isContingentWorker=S.isContingentWorker}S.status=S.isActive=="false"?u:g;c.employments[0].userId=S.assignmentId}c.oUserPhoto={photoSrc:this.getPhotoSrc(c)};i.push(c)}}var y=this.mModel.getProperty("/searchResultItems")||[];y.push.apply(y,i);this._scrollPosition=!this.oScrollDelegate?{x:0,y:0}:{x:this.oScrollDelegate.getScrollLeft(),y:this.oScrollDelegate.getScrollTop()};this.mModel.setProperty("/searchResultItems",y);var P=this._getHidableColumnIDs();for(var p=0;p<t.columnVisibility.length;p++){var I=t.columnVisibility[p].key;P[I]=t.columnVisibility[p].value=="true"?true:false}this.mModel.setProperty("/columnVisiblity",P);if(t.items.length==0){var _=this.getView();var M=n.byId(_.getId()+"-searchResultsTable");M.setShowNoData(true)}},resultsUpdateFinished:function(){var e=this.getView().searchResultsTable.getItems()[0];e&&e.focus();if(this.oScrollDelegate){this.oScrollDelegate.scrollTo(this._scrollPosition.x,this._scrollPosition.y,0);this.checkScrollPosition()}},handleSearchErro},loadMore:function(){if(this._lastResponse&&this._lastResponse.more){var e=this._lastResponse.more();this._lastResponse=null;this.handleSearchPromise(e)}},createAdvancedSearchCriteria:function(){var t=this.mModel.getProperty("/textSearchFieldValue");var r=this.mModel.getProperty("/selectedFieldValues");var i=[];var s;for(var a in t){if(r.hasOwnProperty(a)){s={};var o=[];var n=t[a];if(n){o.push(n);var l=[];var d=r[a].id;l.push(d);s={key:a,ids:l,values:o}}}else{var c=t[a];c=c&&c.trim();if(c===""||c===null){continue}var h=[];h.push(c);s={key:a,values:h}}s.key&&i.push(s)}var u=this.mModel.getProperty("/AdvancedFields");for(var g=0;g<u.length;g++){if(u[g].selectedValue){var l=[];var d=u[g].selectedValue;l.push(d);s={key:u[g].field,ids:l};s.key&&i.push(s)}}var p=this.mModel.getProperty("/additionalCriteria");p=e.extend({oDataVersion:this.mModel.getProperty("/oDataServiceKey"),searchParameters:i},p,p&&p.includeInactive?{includeInactiveEmpl:"YES"}:null);delete p.includeInactive;return p},clearSearchResults:function(){this._lastSearchPromise=null;this._lastResponse=null;this.mModel.setProperty("/searchResultItems",[])},showLoading:function(e){var t=this.mModel;if(e.state()=="pending"){t.setProperty("/busy",true);e.alway})}},checkScrollPositio},isScrolledBottom:function(){if(this.oScrollDelegate){var e=this.oScrollDelegate.getScrollTop();var t=this.oScrollDelegate.getMaxScrollTop();return t-e<20}return false},navigateToSearchResults:function(){this.mModel.setProperty("/view","searchResults");var e=this.getView();n.byId(e.getId()+"-advancedSearchContainer").to(e.getId()+"-advancedSearchResults")},back:function(e){this.mModel.setProperty("/view","searchFields");var t=this.getView();n.byId(t.getId()+"-advancedSearchContainer").to(t.getId()+"-advancedSearchFields");var r=n.byId(t.getId()+"-searchResultsTable");if(r.getShowNoData()){r.setShowNoData(false)}},onSelectionChange:function(e){var t=this.mModel;if(t.getProperty("/multiSelectMode")){var r=t.getProperty("/multiSelectSearchInput");var i=pageHeaderJsonData.settings;var a=i&&i["advancedPersonSearch.personBased"]==="true";var o=r.getSettings().additionalCriteria.resultScope;var n,l;/^(employment|person)$/i.test(o)&&(a=/^(employment)$/i.test(o));e.getParameter("listItems").forEach(function(t){n=t.data("searchResultItem");l=r.getItemsMap()[n.userId];if(!l){l=new s({key:n.userId,user:n}).data("resultItem",n);r.addItem(l)}var i={item:l,id:l.getId(),key:l.getKey(),fireChangeEvent:true,suppressInvalidate:true,listItemUpdated:true};n.personBased=a;if(e.getParameter("selected")){r.setSelection(i);this._aPendingSelections.push({params:i,action:"removeSelection"})}else{r.removeSelection(i);this._aPendingSelections.push({params:i,action:"setSelection"})}},this)}},selectUser:function(e){var t=this.getView();var r=n.byId(t.getId()+"-searchResultsTable");var s=r.getSelectedItem();var a=s&&s.data("searchResultItem");var o=this.mModel.getProperty("/source");if(o instanceof i){var l=a&&a.employments[0]&&a.employments[0].title;var c=a&&a.name;if(l){c=d.getText("COMMON_Person_AutoComplete_Title_And_Location",[c,l])}o.setValue(c);o.setObjectValue(a,true);o.fireItemSelected({selectedItem:a})}var h=this.mModel.getProperty("/callback");if(typeof h=="function"){h(a)}this.getView().getParent().close();delete this._aPendingSelections;delete this._onAfterPageRenderingEvtDelegate},cancelSearch:function(){var e=this.mModel;if(e.getProperty("/multiSelectMode")){var t=e.getProperty("/multiSelectSearchInput");this._aPendingSelections.forEac})}this.getView().getParent().close();delete this._aPendingSelections;delete this._onAfterPageRenderingEvtDelegate},selectSearchResult:function(e){var t=e.getParameter("selectedItem");var r=e.getSource();var i=r.getBindingContext().getObject();this.clearChildFields(i,t.code);this.mModel.setProperty("/selectedFieldValues/"+i.field,t);if(r.getValueState()==o.Error){r.setValueState(o.None);this._errorMap[i.field]=false;this._updateSearchButtonState()}},clearChildFields:function(e,t){var r=this.mModel.getProperty("/selectedFieldValues/"+e.field);if(e.childFields&&e.childFields.length>0){var i=this.mModel.getProperty("/selectedFieldValues");for(var s=0;s<e.childFields.length;s++){var a=e.childFields[s];var o=r&&r.code;if(i.hasOwnProperty(a)&&o!=t){this.mModel.setProperty("/selectedFieldValues/"+a,"");this.mModel.setProperty("/textSearchFieldValue/"+a,"")}}}},onChange:function(e){var t=e.getSource();this._validateInput(t)},onDateTypeStringInputChang},_validateDateTypeStringInput:function(e){var t=e.getBindingContext().getObject();var r=t.field;var i=e.getValue().trim();if(i.length>100){e.setValueState(o.Error);this._errorMap[r]=true}else if(e.getValueState()==o.Error){e.setValueState(o.None);this._errorMap[r]=false}this._updateSearchButtonState()},onHireDateChange:function(e){var t=e.getSource();var r=sap.ui.core.format.DateFormat.getInstance({pattern:"yyyy-MM-dd"});var i=t.getDateValue();var s=r.format(i);t.setValue(s);var a=t.getBindingContext().getObject();if(a.field=="HIRE_DATE_FROM"){h=i}else{u=i}this._validateHireDate(t)},_validateHireDate:function(e){var t=e.getBindingContext().getObject();var r=t.field;if(h!=null&&u!=null){if(h>u){e.setValueState(o.Error);this._errorMap[r]=true}else{e.setValueState(o.None);this._errorMap[r]=false}}else if(e.getValueState()==o.Error){e.setValueState(o.None);this._errorMap[r]=false}this._updateSearchButtonState()},_validateInput:function(e){var t=e.getValue().trim();var r=e.getBindingContext().getObject();var i=r.field;var s=this.mModel.getProperty("/selectedFieldValues");if(t){if(s.hasOwnProperty(i)){var a=s[i];var n=a.name;if(a.code){n=n+" ("+a.code+")"}if(n!==t){e.setValueState(o.Error);this._errorMap[i]=true}}else{e.setValueState(o.Error);this._errorMap[i]=true}}else if(e.getValueState()==o.Error){e.setValueState(o.None);this._errorMap[i]=false}else if(s[i]){var l={};this.mModel.setProperty("/selectedFieldValues/"+i,l);this.clearChildFields(r,t)}this._updateSearchButtonState()},_updateSearchButtonState:function(){var e=true;for(var t in this._errorMap){if(this._errorMap[t]===true){e=false;break}}n.byId(this.getView().getId()+"-searchButton").setEnabled(e)},getPhotoSrc:function(e){var t=null;if(!e){return t}if(e.legacyItem){e=e.legacyItem}if(e.UserId||e.userId||e.photoUrl||e.photoSrc){if(this.getPhotoViewPermission()){if(!e.photoViewable){if(!c){c=sap.ui.resource("sap.sf.surj.shell.img.userphoto","UserPhotoPlaceholder_50x50.png")}t=c}else{t=e.photoUrl||e.photoSrc}if(!t){t={userIdEncoded:e.assignmentIdEncoded,userId:e.UserId||e.userId||"",urlType:"eduPhoto",photoType:"face",mod:e.photoMod}}}}return t},getPhotoViewPermission:function(){var t=e.sap.getObject("pageHeaderJsonData.settings");return t&&t["autocomplete.enablePhoto"]==="true"||e("#autocomplete\\.enablePhoto").attr("content")==="true"}})});
sap.ui.predefine("sap/sf/surj/shell/mvc/GACEAdvancedSearch.view", ["jquery.sap.global","sap/sf/surj/shell/util/GACEConstants","sap/sf/surj/shell/controls/UserPhoto","sap/sf/surj/shell/controls/Table","sap/m/Bar","sap/m/Button","sap/m/CheckBox","sap/m/Column","sap/m/ColumnListItem","sap/m/DatePicker","sap/m/HBox","sap/m/Input","sap/m/Label","sap/m/Link","sap/m/ListMode","sap/m/NavContainer","sap/m/Page","sap/m/Panel","sap/m/RadioButton","sap/m/Select","sap/m/Switch","sap/m/ToggleButton","sap/m/Toolbar","sap/m/Title","sap/m/VBox","sap/ui/core/CustomData","sap/ui/core/Icon","sap/ui/core/Item","sap/ui/core/TitleLevel"],function(e,t,a,s,n,l,i,r,o,d,c,u,h,p,C,S,m,O,g,M,_,f,T,A,E,w,N,v,b){var x=t.ADV_SEARCH_DIALOG;var I="/AdvancedFields";var y=sap.ui.getCore();var L=y.getLibraryResourceBundle("sap.sf.surj.shell.i18n");var R=function(e){var t=e<x.SCREEN_WIDTH_TRESHOLD?x.SMALL_SCREEN_H_PADDING:x.REGULAR_SCREEN_H_PADDING;e||(e=window.innerWidth);t=e-2*t-x.COLUMN_SELECT_WITDH-x.COLUMN_PHOTO_WITDH;t*=x.COLUMN_WITDH_PERCENT;t=t+"px";return t};var V=function(e,t){var a;if(e&&e.length>0){a=e[0].status}if(!a){a=t=="true"?L.getText("COMMON_Active"):L.getText("COMMON_InActive")}return a};var P=function(e){var t="";if(typeof e!=="string"){return t}var a;if(e.search(/^(true|yes|y)$/i)>-1){a="COMMON_Yes"}else if(e.search(/^(false|no|n)$/i)>-1){a="COMMON_No"}else{a="COMMON_Unknown"}t=L.getText(a);return t};var D=function(e,t){if(t){if(t.multiSelectMode&&t.multiSelectSearchInput){return t.multiSelectSearchInput.getSelectedKeys().includes(e.userId)}else if(t.source&&t.source.getObjectValue){var a=t.source.getObjectValue();return a&&a.userId===e.userId}}return false};var G=function(e){var t=L.getText("COMMON_Location");if(e instanceof Array&&e.length){for(var a,s=0;s<e.length;s++){a=e[s];if(a&&a.field==="LOCATION"&&a.labelText){t=a.labelText;break}}}return t};sap.ui.jsview("sap.sf.surj.shell.mvc.GACEAdvancedSearch",{_columnWidthFormatter:R,_locationLabelFormatter:G,createContent:function(g){function _(t,a){var s=a.getObject();var n=100;var l=L.getText("UNIVERSAL_PERSON_SEARCH_MAX_CHARACTERS_EXCEEDED",[n]);var i;switch(s.dataType){case"String":i=new u({width:"100%",valueStateText:l,value:"{/textSearchFieldValue/"+s.field+"}"}).addStyleClass("surjGACESearchInputField");i.attachChange(g.onDateTypeStringInputChange,g);break;case"StringReadOnly":this.mModel=a.getModel();var r={id:s.fieldListValue[0],name:s.fieldListValueLabel[0]};this.mModel.setProperty("/textSearchFieldValue/"+s.field,s.fieldListValueLabel[0]);this.mModel.setProperty("/selectedFieldValues/"+s.field,r);i=new u({width:"100%",value:s.fieldListValueLabel[0],editable:false}).addStyleClass("surjGACESearchInputField");break;case"StringCombo":var o=[];for(var c=0;c<s.fieldListValue.length;c++){var p=new v({text:s.fieldListValueLabel[c],key:s.fieldListValue[c]});o.push(p)}i=new M({items:o,selectedKey:"{/textSearchFieldValue/"+s.field+"}",width:"100%"}).addStyleClass("surjGACESearchInputField");break;case"AutoComplete":e.sap.require("sap.sf.surj.shell.controls.GACESearchInput");i=new sap.sf.surj.shell.controls.GACESearchInput({searchType:"GACESearchField",value:"{/textSearchFieldValue/"+s.field+"}",itemSelected:[g.selectSearchResult,g],itemChange:[g.onChange,g],showButton:true}).addStyleClass("surjGACESearchInputField");break;case"DatePicker":i=new d({displayFormat:L.getText("COMMON_DateFormat"),valueFormat:"yyyy-MM-dd",width:"100%",value:"{/textSearchFieldValue/"+s.field+"}"}).addStyleClass("surjGACESearchInputField");i.attachChange(g.onHireDateChange,g);break}var C=new h({width:"100%",showColon:true,labelFor:i.getId()});C.setText(s.labelText);i.data("labelledBy",C.getId());e.sap.require("sap.sf.surj.shell.controls.Container");return new sap.sf.surj.shell.controls.Container({content:[C,i],visible:s.visible}).addStyleClass("surjGACESearchField")}var x=new n({contentLeft:[new h({text:L.getText("COMMON_FindUser_Search_Results"),textAlign:"Left"}).addStyleClass("surjGACESubHeader")],contentRight:[new f({icon:"sap-icon://show",enabled:true,pressed:false,tooltip:L.getText("COMMON_SHOW_DISPLAY_OPTIONS"),press:[g.onTogglePress,g]})]}).addStyleClass("surjGACEHeader");var y=new h({text:"{name}",tooltip:"{name}",customData:{key:"assignmentId",value:"{assignmentId}"}}).addStyleClass("leaf");var F=this.searchResultsTable=new s(this.getId()+"-searchResultsTable",{selectionChange:g.onSelectionChange.bind(g),mode:{path:"/multiSelectMode",formatte}},updateFinished:[g.resultsUpdateFinished,g],columns:[new r({width:t.ADV_SEARCH_DIALOG.COLUMN_PHOTO_WITDH/16+"rem",visible:g.getPhotoViewPermission(),header:new h({tooltip:L.getText("COMMON_USER_PHOTO"),text:L.getText("COMMON_USER_PHOTO")})}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},mergeDuplicates:true,mergeFunctionName:"data#assignmentId",visible:true,header:new h({tooltip:L.getText("COMMON_Name"),text:L.getText("COMMON_Name")})}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},visible:{parts:[{path:"/columnVisiblity/JOBTITLE"},{path:"/columnViewSettings/JOBTITLE"}],formatter:function(e,t){return e&&t}},header:new h({tooltip:L.getText("COMMON_Jobtitle"),text:L.getText("COMMON_Jobtitle")})}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},visible:{parts:[{path:"/columnVisiblity/EMAIL"},{path:"/columnViewSettings/EMAIL"}],formatter:function(e,t){return e&&t}},header:new h({tooltip:L.getText("EMPFILE_HRIS_EMAIL"),text:L.getText("EMPFILE_HRIS_EMAIL")})}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},visible:{parts:[{path:"/columnVisiblity/DIVISION"},{path:"/columnViewSettings/DIVISION"}],formatter:function(e,t){return e&&t}},header:new h({tooltip:L.getText("COMMON_Division"),text:L.getText("COMMON_Division")})}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},visible:{parts:[{path:"/columnVisiblity/DEPARTMENT"},{path:"/columnViewSettings/DEPARTMENT"}],formatter:function(e,t){return e&&t}},header:new h({tooltip:L.getText("COMMON_GACEDepartment"),text:L.getText("COMMON_GACEDepartment")})}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},visible:{parts:[{path:"/columnVisiblity/CONTINGENTWORKER"},{path:"/columnViewSettings/CONTINGENTWORKER"}],formatter:function(e,t){return e&&t}},header:new h({tooltip:L.getText("COMMON_Contingent_Worker"),text:L.getText("COMMON_Contingent_Worker")}).addStyleClass("surjGACEContingentWorkerColumn")}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},visible:{parts:[{path:"/columnVisiblity/LOCATION"},{path:"/columnViewSettings/LOCATION"}],formatte}},header:new h({tooltip:{path:I,formatter:G},text:{path:I,formatter:G}})}),new r({styleClass:s.RESIZABLE_COLUMN_CLASS_NAME,width:{path:"/screen/width",formatter:R},visible:"{/columnViewSettings/STATUS}",header:new h({tooltip:L.getText("COMMON_Status"),text:L.getText("COMMON_Status")})})],items:{path:"/searchResultItems",template:new o({customData:new w({key:"searchResultItem",value:"{}"}),selected:{parts:[{path:""},{path:"/"}],formatter:D},cells:[new a({tooltip:"{name}",user:"{oUserPhoto}",useAvatar:true,displayShape:"Circle",displaySize:"S",nameDirection:sap.sf.surj.shell.controls.NameDirection.EAST}).addStyleClass("surjResultPhoto"),y,new c({width:"100%",items:[new h({width:"100%",tooltip:"{employments/0/title}",text:"{employments/0/title}"}).addStyleClass("surjGACETitle").addStyleClass("leaf"),new N({src:"{sIconName}",tooltip:"{sTooltip}"})]}).addStyleClass("surjresult"),new p({href:{path:"email",formatte}},tooltip:"{email}",text:"{email}",rel:"noopener"}).addStyleClass("leaf"),new h({tooltip:"{employments/0/divisionName}",text:"{employments/0/divisionName}"}).addStyleClass("leaf"),new h({tooltip:"{employments/0/departmentName}",text:"{employments/0/departmentName}"}).addStyleClass("leaf"),new h({tooltip:{path:"isContingentWorker",formatter:P},text:{path:"isContingentWorker",formatter:P}}).addStyleClass("leaf"),new h({tooltip:"{employments/0/locationName}",text:"{employments/0/locationName}"}).addStyleClass("leaf"),new h({tooltip:{parts:["employments","isActive"],formatter:V},text:{parts:["employments","isActive"],formatter:V}}).addStyleClass("leaf")]}).addStyleClass("surjGACESearchResultTableRow").addStyleClass("globalMenuItem").data("sDuplicate","{sDuplicate}")}}).addStyleClass("sapUiSizeCompact").addStyleClass("surjGACESearchResultTable").addStyleClass("globalMenu");this.onPostRendering=this.onPostRendering.bind(this);this.updateAdvancedSearchPanelA11YLabels=this.updateAdvancedSearchPanelA11YLabels.bind(this);return new S(this.getId()+"-advancedSearchContainer",{pages:[new m(this.getId()+"-advancedSearchFields",{showHeader:false,busy:"{/busy}",content:[new O(this.getId()+"-fieldsPanel",{content:{path:"/Fields",factory:_}}).addStyleClass("surjGACEBorder").addStyleClass("surjGACEAdvancedSearchFieldsPanel"),new O(this.getId()+"-advancedFieldsPanel",{headerToolbar:new T({content:[new A({text:L.getText("COMMON_Advanced_Search_Options"),level:b.H3})]}).addStyleClass("sapUiLargeMarginBegin"),expandable:true,expanded:"{/expandAdvanced}",tooltip:L.getText("COMMON_GlobalSearch_Announcement_ExpandCollapse_Advanced_Search_Options"),expand:this.onPostRendering,visible:{parts:[{path:"/AdvancedFields/length"}],formatte}},content:[this.createInactiveUsersSwitch(g),new O(this.getId()+"-advancedFieldsSubPanel",{content:{path:I,factory:_}}).addStyleClass("surjGACEBorder").addStyleClass("surjGACEAdvancedSearchFieldsSubPanel")]}).addStyleClass("surjGACEPanelBorder").addStyleClass("surjGACEAdvancedSearchFieldsPanel")],footer:new n({contentRight:[new l(this.getId()+"-searchButton",{enabled:{parts:[{path:"/busy"}],formatter:function(e){return!e}},type:"Emphasized",text:L.getText("COMMON_Search"),tooltip:L.getText("COMMON_Search"),press:[g.search,g]}),new l({enabled:{parts:[{path:"/busy"}],formatter:function(e){return!e}},text:L.getText("COMMON_Cancel"),tooltip:L.getText("COMMON_Cancel"),press:[g.cancelSearch,g]})]})}).addStyleClass("surjGACEBackground"),new m(this.getId()+"-advancedSearchResults",{showHeader:true,customHeader:x,content:[new E(this.getId()+"-advancedSearchCheckBox",{visible:false,items:[new c({items:[new i({selected:"{/columnViewSettings/JOBTITLE}",visible:"{/columnVisiblity/JOBTITLE}",enabled:true,tooltip:L.getText("COMMON_Jobtitle"),text:L.getText("COMMON_Jobtitle")}),new i({selected:"{/columnViewSettings/EMAIL}",visible:"{/columnVisiblity/EMAIL}",enabled:true,tooltip:L.getText("EMPFILE_HRIS_EMAIL"),text:L.getText("EMPFILE_HRIS_EMAIL")}),new i({selected:"{/columnViewSettings/DIVISION}",visible:"{/columnVisiblity/DIVISION}",tooltip:L.getText("COMMON_Division"),text:L.getText("COMMON_Division")}),new i({selected:"{/columnViewSettings/DEPARTMENT}",visible:"{/columnVisiblity/DEPARTMENT}",tooltip:L.getText("COMMON_GACEDepartment"),text:L.getText("COMMON_GACEDepartment")}),new i({selected:"{/columnViewSettings/CONTINGENTWORKER}",visible:"{/columnVisiblity/CONTINGENTWORKER}",tooltip:L.getText("COMMON_Contingent_Worker"),text:L.getText("COMMON_Contingent_Worker")}),new i({selected:"{/columnViewSettings/LOCATION}",visible:"{/columnVisiblity/LOCATION}",tooltip:{path:I,formatter:G},text:{path:I,formatter:G}}),new i({selected:"{/columnViewSettings/STATUS}",visible:true,tooltip:L.getText("COMMON_Status"),text:L.getText("COMMON_Status")})]}).addStyleClass("surjGACECheckbox")]}),F],footer:new n({contentRight:[new l({enabled:{parts:[{path:"/busy"}],formatter:function(e){return!e}},type:"Emphasized",text:L.getText("COMMON_Select"),tooltip:"Save selected search results.",press:[g.selectUser,g]}),new l({enabled:{parts:[{path:"/busy"}],formatte}},text:L.getText("COMMON_Cancel"),tooltip:L.getText("COMMON_Cancel"),press:[g.cancelSearch,g]})]})})]}).addEventDelegate({onAfterRendering:this.onPostRendering})},createInactiveUsersSwitch:function(e){var t=new _({state:"{/additionalCriteria/includeInactive}",customTextOn:L.getText("COMMON_Yes"),customTextOff:L.getText("COMMON_No"),change:e.handleInactiveUsersChange.bind(e)});var a=new h({text:L.getText("COMMON_GACESearch_ActiveUsersOnly"),width:"100%",labelFor:t.getId()});return new sap.sf.surj.shell.controls.Container({visible:false,content:[a,t]}).addStyleClass("surjGACESearchField")},updateAdvancedSearchPanelA11YLabels:function(){var e=y.byId(this.getId()+"-advancedFieldsPanel");var t=this.getParent();var a=t instanceof sap.m.Dialog&&t.getCustomHeader();var s=a&&a.getContentLeft()[0];var n=y.byId(this.getId()+"-advancedSearchFields");if(e){var l=y.byId(this.getId()+"-advancedFieldsPanel-expandButton");if(l){var i=e.getExpanded()?"Collapse":"Expand";var r=L.getText("COMMON_GlobalSearch_Announcement_"+i+"_Advanced_Search_Options");l.setTooltip(r,true)}}if(s){s.setTooltip(L.getText("COMMON_GlobalSearch_Announcement_Back_To_Search_Options"),true);s.$().attr({"aria-label":L.getText("COMMON_GlobalSearch_Announcement_Back_To_Search_Options"),role:"button"})}if(n){var o;n.$().find(".surjGACESearchInputField").each(function(e,t){o=y.byId(t.id);o.$().attr("aria-labelledby",o.data("labelledBy"))})}return this},onPostRenderin},getControllerName:function(){return"sap.sf.surj.shell.mvc.GACEAdvancedSearch"}})});
sap.ui.predefine("sap/sf/surj/shell/quickcard/QuickcardHandler",["jquery.sap.global","sap/sf/surj/shell/util/Logger"],function(e){var n=null;function r(){var n=e.Deferred();if(window.Quickcard){n.resolve(window.Quickcard)}else{sap.ui.require(["xweb/widget-loader/widget-loader.min"],function(e){e.get("xweb/quickcard").the}).catch(function(e){console.error(e)})})}return n}function u(e){if(!e)return null;if(!e.item)return null;return r().then(function(n){var r=e.item;return n.newInstance({personId:r.personId,userId:r.userId,fromHeader:e.fromHeader,a11yAnnouncements:e.a11yAnnouncements,autoFocus:e.autoFocus})})}var c=function(){var r=this;e.extend(r,{showQuickcardForSuggestion:function(e){return u(e).then(function(r){if(r){var u=e.origin||e.suggestionItem.$()[0];n=r;r&&r.showAt(u)}})},getOrCreateQuickcar},focusQuickcard:function(){n&&n.focus()},hideActiveQuickcar},addQuickcardHiddenCallback:function(e){},removeQuickcardHiddenCallbac}})};e.sap.setObject("sap.sf.surj.shell.quickcard.QuickcardHandler",c);return c});
sap.ui.predefine("sap/sf/surj/shell/session/SessionTimer", ["jquery.sap.global","sap/ui/Device","sap/ui/base/EventProvider","sap/ui/model/json/JSONModel","../util/DeferredUtil","../util/LinkUtil","../util/Util","sap/ui/core/Popup","jquery.sap.storage"],function(e,t,i,n,r,a,o,s){var u=e.sap.storage;var l="local";var f="BizXSessionTimer";var c=["click","keypress"];var v=6e4,d=1e3,g=1e4;var m=10;var S=100;var p=d;var _=10;var E=true;var T={type:"ajaxService",module:"v4",serviceName:"sessionTimeoutController",noASProxy:true};var I={CONFIG:{serviceMethod:"getSessionTimeoutConfigs"},KEEP_ALIVE:{serviceMethod:"keepAlive"},INVALIDATE:{serviceMethod:"invalidateSession"}};var w={};var M=new i;var h;var O;var A;var P;var b;var y=new n({type:"alive"}}function C(){var t=pe._oInitPromise;if(!t){t=pe._oInitPromise=N().then(function(){pe._bHasStarted=true;e.sap.log.debug("BizXSessionTimer initialized")},function(t){if(typeof t=="object"){console.error(t)}else{e.sap.log.error("BizXSessionTimer failure: "+t)}L();return Promise.reject(t)});if(pe._fResolveStart){t.then(pe._fResolveStart,pe._fRejectStart)}}return t}function x(){var e=pe._oInitPromise;if(!e){e=pe._oPendingStartPromise;if(!e){e=new Promis});pe._oPendingStartPromise=e}}return e}function N(){U();pe._bDisableUI=!!pe._bDisableUI||o.isMessageServicePage();var e=o.isRunningBaseDomain();var t=e||o.isBaseDomainCORSEnabled();if(t){var i=[ne().then(function(e){pe._oSettings=e;b=e.logoutAfterTimeout})];if(!e){i.push(o.getMessageService().the}))}return Promise.all(i).then(function(){J();if(e){D(u(l,f))}var t=pe._oMessageService;if(t){t.sendMessage("BizXSessionTimer");t.attachEvent("updateTimeoutEstimate",function(e){var t=e.getParameter("data");var i=t&&t[1];if(i){H(i)}});t.attachEvent("logoutComplete",W)}else{R()}})}else{return Promise.reject("disabled")}}function L(){var e=pe._iPollId;if(e!=null){pe.clearInterval.call(null,e);pe._iPollId=null}var t=pe._iTickId;if(t!=null){pe.clearTimeout.call(null,t);pe._iTickId=null}var i=pe._oMessageService;if(i){i.disconnect();pe._oMessageService=null}K();pe._oInitPromise=pe._bHasStarted=null}function D(e){if(e.isSupported()){pe._oStorage=e;pe._iPollId=pe.setInterval.call(null,function(){var t=j();if(t){var i=e.get(t);var n=pe._iTimeoutEstimate;if(i=="logout"||typeof i=="number"&&(n==null||i>n)){H(i)}else if(n!=null){e.put(t,n)}}},p)}function k(){if(pe._iTickId){clearTimeout(pe._iTickId);pe._iTickId=null}var e=pe._oSettings;var t=(new Date).getTime();var i=false;if(pe._bConsiderActivity&&pe._iLastUserActivity){var n=t-pe._iLastUserActivity;i=n<e.timeUntilExpires*d}var r=pe._iTimeoutEstimate;var a=r=="logout";var o=a?"timeout":"alive";var s,u;if(!a&&r>0){var l=r-t;a=l<=0;if(!a){var f=e&&e.timeUntilWarning;if(f>0){var c=l-f*v;var m=c>0&&c<=g;if(m){M.fireEvent("upcomingWarning")}var S;if(c<=0){if(i){pe._iLastUserActivity=null;ie();return}else{o="warning";S=l>2*v?v:d;if(l<v){u=Math.round(l/d);s="s"}else{u=Math.round(l/v);s="m"}}}else{o="alive";S=l-f*v;if(!m){S-=g}}pe._iTickId=pe.setTimeout.call(null,k,S)}}}if(O){o="logout"}else if(a){o="timeout"}var p={type:o,countDown:u,interval:s,disableUI:pe._bDisableUI};var _=JSON.stringify(p);if(pe._sState!=_){pe._sState=_;M.fireEvent("stateChanged",p)}}M.attachEvent("stateChanged",function(e){var t=e.getParameters();var i=y.getProperty("/params");y.setProperty("/params",t);var n=t.type;if(n=="warning"&&(!i||i.type!="warning")){M.fireEvent("sessionAboutToExpire")}if(n=="warning"){M.fireEvent("sessionWarning")}if(n=="timeout"){M.fireEvent("sessionTimedOut")}});function R(){var e=pe._oSettings;if(e){var t=(new Date).getTime()+e.timeUntilExpires*d;var i=pe._iTimeoutEstimate;if(typeof i!="number"||Math.abs(i-t)>S){H(t);if(pe._oMessageService){pe._oMessageService.sendMessage("updateTimeoutEstimate",t)}}M.fireEvent("sessionExtended")}}function B(){if(!pe._iIntervalId){pe._iLastTime=(new Date).getTime();var e=1e3;var t=e+1e3;pe._iIntervalId=pe.setInterval.call(null,function(){var e=(new Date).getTime()-pe._iLastTime;if(e>t){k()}pe._iLastTime=(new Date).getTime()},e)}}function H(e,t){if(e!=pe._iTimeoutEstimate){pe._iTimeoutEstimate=e;var i=pe._oStorage;if(i){i.removeAll();var n=j();n&&i.put(n,e)}if(!t){var r=pe._oMessageService;if(r){r.sendMessage("updateTimeoutEstimate",e)}else if(o.isMessageServicePage()){PostMessageAPI.sendMessage("updateTimeoutEstimate",e)}}M.fireEvent("timeoutEstimateChanged",{time:e});B();k()}function V(){if(pe._bHasStarted){return Promise.resolve(W())}else{return x().then(function(){return W()})}function X(){if(pe._bHasStarted){return Promise.resolve(G())}else{return x().the})}}function z(e){H((new Date).getTime()+e)}function F(e){if(pe._bHasStarted){return Promise.resolve(z(e))}else{return x().the})}}function J(){if(!A){A=true;q(R)}}function q(t){if(r.isAjaxServiceAllowed()){r.getAjaxService().the}).catc})}e(document).ajaxSend(function(e,i,n){var r=n&&n.url;if(r){var a=r;if(r.indexOf("/")==0&&r.indexOf("//")!=0||r.indexOf("./")==0){a=o.getLocationOrigin()}if(o.isBizXDomain(a)&&/^(?:https?:\/\/[^\/]*|\/\/[^\/]*|)\/(sf|xi|odata)\/.*/.test(r)){t()}}})}function Z(){var e=window.LastPageVisitedUtil;if(e&&e.isSkipRedirect()){te()}else{ee()}}M.attachEvent("stateChanged",function(e){var t=e.getParameters();var i=t.type;if(!t.disableUI){if(i=="alive"||i=="logout"){K()}else if(i=="timeout"&&b){Z()}else{$().the})}}else{K()}});function $(){return P=P||new Promise(function(e){sap.ui.require(["sap/ui/model/resource/ResourceModel"],function(t){e(sap.ui.xmlfragment("sap.sf.surj.shell.session.SessionTimer",{formatTimerHTML:function(e,t){var i="";var n=ve();var r=e.type;if(r=="timeout"){i=n.getText("COMMON_SESSION_EXPIRED_MESSAGE_DETAILS");if(t){i+="<br />";i+=t}}else if(r=="warning"){var a=e.countDown;i=n.getText("COMMON_SESSION_WARNING",[a,n.getText({s:["COMMON_SESSION_SECOND","COMMON_SESSION_SECONDS"],m:["COMMON_SESSION_MINUTE","COMMON_SESSION_MINUTES"]}[e.interval][a==1?0:1])])}return'<div class="sessionWarningMessage">'+i+"</div>"},close:K,keepAlive:ie,logout:te,login:ee}).addEventDelegate({onBeforeRendering:function(e){if(s.getNextZIndex()<o.getUI5WcZIndex()){s.setInitialZIndex(o.getUI5WcZIndex()+m)}},onAfterRendering:function(e){e.srcControl.$().find("#"+e.srcControl.getId()+"-header").attr("aria-live","polite")}}).setEscapeHandler(function(e){e.reject()}).setModel(y).setModel(new t({bundle:ve()}),"i18n"))})})}function K(){P&&P.the})}function Y(e){pe._bDisableUI=e;if(e){K()}}function Q(){return new Promise(function(e){var t=se("INVALIDATE");if(r.isServiceAllowed(t)){r.invokeService(t).always(e)}else{e()}})}function ee(){Q().then(function(){var e=ce();if(!e){e="/login";var t=window.pageHeaderJsonData;var i=t&&t.companyId;if(i){e+="?company="+encodeURIComponent(i)}}a.gotoURL(o.ensureBaseDomain(e),true)})}function te(){Y(true);H("logout");if(window.TopNavLogout){TopNavLogout.startLogout()}else{sap.ui.require(["sap/sf/surj/shell/util/TopNavLogout"],function(){if(window.TopNavLogout){window.TopNavLogout.startLogout()}else{e.sap.log.error("TopNavLogout could not be loaded.")}})}}function ie(){var t=se("KEEP_ALIVE");if(r.isServiceAllowed(t)){r.invokeService(t)}else if(o.isBaseDomainCORSEnabled()){e.ajax({url:o.ensureBaseDomain("/sf/protected/cors"),xhrFields:{withCredentials:true}})}}function ne(){return pe._oConfigPromise||new Promise(function(t,i){var n=window.pageHeaderJsonData;var a=n&&n.settings;if(a&&a.results){a=a.results.reduc},{})}var o=a&&a.sessionTimeoutConfigs;if(!o){var s=document.getElementById("sessionTimeoutConfigs");if(s){o=s.content||s["data-content"]}}function u(e){var t=e.timeUntilExpires&&e.timeUntilExpires>0;if(t){var i=Math.round(e.timeUntilExpires/60);var n=e.timeUntilWarning;if(isNaN(n)||n>=i||n<=0){e.timeUntilWarning=_}else{e.timeUntilWarning=n}}return t}if(o){var l=false;try{var a=JSON.parse(o.replace(/([{,])(\w*):/g,'$1"$2":'));if(u(a)){t(a);l=true}}catch(t){e.sap.log.error("Error parsing settings: ",t)}if(!l){i("invalidSettings: "+o)}}else{var f=se("CONFIG");if(r.isServiceAllowed(f)){r.invokeService(f).then(function(e){if(u(e)){t(e)}else{i("invalidSettings: "+JSON.stringify(oResponse))}},i.bind(null,"serverError"))}else{i("missingConfig")}}}function oe(e){if(e.type=="sessionTimedOut")W()}function se(t){return e.extend({},T,I[t])}function ue(t,i,n){M.attachEvent(t,a);var r=w[t]=w[t]||[];r.push({oListener:i,fEventHandler:a});function a(t){var r;if(typeof n=="function"){r=n}else{r=i[n||"handleEvent"]}r.call(i,e.extend({type:t.getId()},t.getParameters()))}}function le(e,t){var i=w[e];if(i){for(var n=i.length-1;n>=0;n--){if(i[n].oListener===t){M.detachEvent(e,i[n].fEventHandler);i.splice(n,1)}}}}function fe(e,t){$().then(function(i){i.attachAfterClose(function(i){if(y.getProperty("/params/type")=="warning"){e.call(t,i)}})})}function ce(){if(window.AjaxServiceMeta&&AjaxServiceMeta.timeoutUrl){return AjaxServiceMeta.timeoutUrl}else if(window.AjaxService&&AjaxService.getRedirectUrl){return AjaxService.getRedirectUrl()}return window.timeout_redirect_ur}function de(e){if(!h){h=document.title}document.title=e}function ge(){if(h){document.title=h;h=null}}M.attachEvent("stateChanged",function(e){var t=e.getParameter("type");if(t=="alive"){ge()}else{if(t=="warning"){if(E){de(ve().getText("COMMON_SESSION_ABOUT_TO_TIME_OUT"))}else{ge()}}else if(O){de(ve().getText("COMMON_SUCCESSFULLY_LOGGED_OUT"))}else{de(ve().getText("COMMON_SESSION_EXPIRED_MESSAGE"))}}});function me(i){var n=!!pe._bConsiderActivity;var r=!!i;if(n!=r){pe._bConsiderActivity=r;var a=t.browser.safari||window.document.compatMode=="BackCompat"?window.document.body:window.document.documentElement;e(a)[i?"bind":"unbind"](c.reduc},{}))}}function Se(e){pe._iLastUserActivity=(new Date).getTime()}var pe=window.SFSessionTimeout={start:C,whenStarted:x,addEventListener:ue,removeEventListener:le,setSessionTimedOutAddonMsg:re,getTimeoutSettings:ne,isSessionExpired:ae,reset:R,invalidateSession:Q,cleanup:L,timeoutAfter:F,endSession:X,timeout:V,keepAlive:ie,extendSession:ie,ignoreUserActivity:me.bind(null,false),considerUserActivity:me.bind(null,true),disableUIDisplay:Y.bind(null,true),enableUIDisplay:Y.bind(null,false),updateSleepCheckInterval:B,updateTimeoutEstimate:H,_showSessionTimedOutDialog:V,_keepAlive:ie,handleEvent:oe,sessionTimer:{cleanup:L,timedOut:W,addEventListener:ue,removeEventListener:le,sessionTimeoutController:{invalidateSession:Q}},warningDlg:{attachAfterClose:fe},getTimerDialog:$,setTimeout:window.setTimeout,clearTimeout:window.clearTimeout,setInterval:window.setInterval,clearInterval:window.clearInterval,resetTimerState:U,getObservable:function(){return M},model:y,getLoginUrl:ce,recordUserActivity:Se,login:ee,logout:te,test:{_logoutAfterTimeout:Z},getCurrentTimeoutEstimat}};["setInitialLastPageVisited","clearLastPageVisited","setCurrentPageAsLastVisited"].forEach(function(e){SFSessionTimeout[e]=function(){var t=window.LastPageVisitedUtil;var i=t&&t[e];if(i){i.apply(t,arguments)}}});return pe});
sap.ui.predefine("sap/sf/surj/shell/util/A11yPreferences",["jquery.sap.global"],function(e){var i={COLORVISION_UNKNOWN:"unknown",COLORVISION_NORMAL:"type0",LOWVISION_NORMAL:"normal",LOWVISION_DARK:"dark",LOWVISION_LIGHT:"light",isSupporte},isBlindnessSupportEnabled:function(){if(this.isSupported()){return pageHeaderJsonData.accessibilityPreferences.blindnessSupport}else{return false}},isColorVisionEnabled:function(){if(this.isSupported()&&window.pageHeaderJsonData.accessibilityPreferences.colorVisionType!=null){return this.getColorVisionType()!=this.COLORVISION_NORMAL}else{return false}},getColorVisionType:function(){if(this.isSupported()){var e=pageHeaderJsonData.accessibilityPreferences.colorVisionType;if(this.COLORVISION_UNKNOWN==e){return this.COLORVISION_NORMAL}else{return e}}else{return this.COLORVISION_NORMAL}},isLowVisionEnabled:function(){if(this.isSupported()&&window.pageHeaderJsonData.accessibilityPreferences.lowVisionType!=null){return pageHeaderJsonData.accessibilityPreferences.lowVisionType!=this.LOWVISION_NORMAL}else{return false}},getLowVisionType:function(){if(this.isSupported()){return pageHeaderJsonData.accessibilityPreferences.lowVisionType}else{return this.LOWVISION_NORMAL}},isKeyboardOnlyNavigationEnabled:function(){if(this.isSupported()){return pageHeaderJsonData.accessibilityPreferences.keyboardOnlyNavigation}else{return false}}};e.sap.setObject("sap.sf.surj.shell.util.A11yPreferences",i);return i});
sap.ui.predefine("sap/sf/surj/shell/util/AboutBoxUtil",["jquery.sap.global","sap/m/Dialog","sap/m/Button","sap/ui/core/HTML"],function(t,e,o,n){var s=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var u={open:function(u){var i,f,a;if(typeof u=="string"){f=u;a=arguments[1]}else if(u){i=u.content;f=u.contentId;a=u.refocusRef}if(!i&&f){i=t("#"+f).html()}function l(){c.close();if(typeof a=="string"){a=t("#"+a)}if(typeof a.focus=="function"){a.focus()}}if(window.AboutBox){if(AboutBox.contentHandler){i=AboutBox.contentHandler()}else if(AboutBox.systemInfoContentHandler){var r=AboutBox.systemInfoContentHandler();i=i.replace(/<!-- BEGIN aboutBoxSystemInfo -->([<>\s\S\d\D]*)<!-- END aboutBoxSystemInfo -->/m,r)}}var c=new e({contentWidth:"520px",contentHeight:"382px",title:s.getText("COMMON_SF_ABOUT_BOX_TITLE"),content:new n({content:i}),endButton:new o({text:s.getText("COMMON_Close"),press:l})});c.open()}};t.sap.setObject("sap.sf.surj.shell.util.AboutBoxUtil",u);return u});
sap.ui.predefine("sap/sf/surj/shell/util/ActionSearchUtil",["jquery.sap.global","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/LinkUtil","sap/sf/surj/shell/util/Util","sap/sf/surj/shell/util/SMRF","jquery.sap.storage"],function($,SearchUtil,DeferredUtil,LinkUtil,Util,SMRF){var DEFAULT_PAGE_SIZE=10;var ActionSearchUtil={buildURL:function(e,t){if(e){var i;t=t?Object.keys(t).reduc},{}):{};return e.toString().replace(/\${([^}]*)\}/gi,function(e,n){n=n.toLowerCase();i=t[n];return typeof i=="undefined"||i===null?"":encodeURIComponent(i)})}return""},isRunningInContext:isRunningInContext,isActionableInCurrentContext:isActionableInCurrentContext,showRedirectConfirmationMessage:showRedirectConfirmationMessage,createResponse:createResponse,registerQuickcardHandler:function(e){var t=$.extend({actionContext:window,subjectExpected:false},e);var i;if(t.subjectExpected){i=$.proxy(e.actionHandler,e.actionContext)}else{i=function(e,i,n,r){return t.actionHandler.call(t.actionContext,$.extend({},{subject:e,target:r,referenceId:i},n))}}$.sap.setObject(e.actionName+".openActionQuickCard",i)},performAction:function(e,t){var i=e.item;if(i.transitive&&!e.subject){throw new Error("[ActionSearchUtil] Make sure to select a subject first.")}if(!t&&!isActionableInCurrentContext(i)){redirectAction(e)}else{if(!e.skipHit){ActionSearchUtil.hitActionSearchItem(e)}if(isAdminLink(i)){handleAdminLink(e)}else{switch(i.actionType){case"dynamicLink":case"quickcard":return handleQuickcardAction(e);case"link":handleLinkAction(e);break}}}},hitActionSearchItem:function(e){var t=e.item;var i={totalCount:e.totalCount||0,activateIndex:e.activateIndex||0,showAllClicked:!!e.showAllClicked,actionId:t.actionId,actionLabel:t.actionLabel,keywords:e.criteria&&e.criteria.searchValue||null,score:t.score||0,actionHits:t.actionHits||0};return DeferredUtil.createDeferred($.extend({ODataService:{data:i},ajaxService:{arguments:[i]}}[SERVICE_TYPE],HIT_ACTION_SEARCH_ITEM_SERVICE[SERVICE_TYPE]))},generateRedirectLink:function(e,t){var i=getRedirectLinkUrl(e);if(Util.isRunningBaseDomain()){var n=getActionStorage();var r,a;if(n){var o=""+(new Date).getTime();n.put(o,e);r="actionToken";a=o}else{r="actionFailure";a="storage"}return Promise.resolve(composeUrl(i,r,a))}else if(!t){return Util.getMessageService(getRedirectDeepLink(e),true).then(function(t){return t.sendTransaction({request:"performAction",response:"actionRedirect",parameter:e}).then(function(e){return Util.ensureBaseDomain(e)})}).catch(function(e){$.sap.log.error("Could not generate redirect action link",e);return Promise.resolve(composeUrl(i,"actionFailure","messageService"))})}else{return Promise.resolve(composeUrl(i,"actionFailure","messageService"))}},checkRedirectAction:function(){$.when(DeferredUtil.whenUI5LibraryCSSReady(),DeferredUtil.whenLowPriority("LOWEST")).done(function(){var e=getActionStorage();if(e){var t=Util.findURLParam("actionToken");if(t){var i=e.get(t);if(i){e.remove(t);ActionSearchUtil.performAction(i,true)}}}})}};SearchUtil.register("TransitiveAction",{search:function(e){e.maxresults=e.maxresults||DEFAULT_PAGE_SIZE;var t={queryType:e.queryType,keywords:e.searchValue,keys:e.keys,actionStartNum:0,actionPageSize:0,peopleStartNum:0,peoplePageSize:e.maxresults||DEFAULT_PAGE_SIZE,actionId:e.actionId,existingActionIds:e.existingActionIds};return DeferredUtil.createDeferred($.extend({ODataService:{data:t},ajaxService:{arguments:[t]}}[SERVICE_TYPE],SEARCH_SERVICE[SERVICE_TYPE])).then(function(t){return createResponse("People",e,normalizeResponse(t),0)||createResponse("Ext",e,t,0)})}});SearchUtil.register("Action",{search:function(e){e.maxresults=e.maxresults||DEFAULT_PAGE_SIZE;var t={queryType:"action",keywords:e.searchValue,keys:e.keys,actionStartNum:0,actionPageSize:e.maxresults||DEFAULT_PAGE_SIZE,peopleStartNum:0,peoplePageSize:0,actionId:e.actionId,existingActionIds:e.existingActionIds,sourceType:e.sourceType,requireDeeplinks:!Util.isRunningBaseDomain()&&!Util.isBaseDomainCORSEnabled()};return DeferredUtil.createDeferred($.extend({ODataService:{data:t},ajaxService:{arguments:[t]}}[SERVICE_TYPE],SEARCH_SERVICE[SERVICE_TYPE])).then(function(t){return createResponse("Action",e,normalizeResponse(t),0)})},selectItem:function(e){ActionSearchUtil.performAction(e)}});SearchUtil.register("CopilotAction",{selectItem:function(e){ActionSearchUtil.performAction(e)}});var DEFAULT_PAGE_DEEPLINK="/sf/start";var ADMIN_DEEPLINK="/sf/admin";var WINDOW_OPTIONS={};function redirectAction(e){showBusyDialog(ActionSearchUtil.generateRedirectLink(e).then(function(e){var t=Util.decodeParam(e);var i=t&&t.actionFailure;showRedirectConfirmationMessage(})}))}function getRedirectDeepLink(e){var t=e&&e.item;return t&&e.item.pageContextUrl||(isAdminLink(t)?ADMIN_DEEPLINK:DEFAULT_PAGE_DEEPLINK)+"?_actionRedirect=true}function composeUrl(e,t,i){var n={};n[t]=i;return e+(e.indexOf("?")>=0?"&":"?")+$.param(n)}function getActionStorage(){var e=window.ajaxSecKey;if(e){var t=$.sap.storage("session","_ActionSearch_"+e);if(t.isSupported()){return t}}return false}function isAdminLink(e){if(e){var t=e.actionTarget;return e.sourceType=="adminlink"&&typeof t=="string"&&t.indexOf("javascript:")==0}return false}function isActionableInCurrentContext(e){var t=e.actionType;var i=e.pageContextUrl;if(t=="link"&&!isAdminLink(e)||i=="*"){return true}else if(!Util.isRunningBaseDomain()){return false}if(isAdminLink(e)||i=="/sf/admin"){return!!window.isAdminHomepage}return i==null||window.location.pathname==i}function isRunningInContext(e){if(Util.isRunningBaseDomain()){var e=Util.ensureBaseDomain(e);if(e=="/sf/admin"){if(window.isAdminHomepage){return true}}return window.location.pathname==e}return false}function showRedirectConfirmationMessage(e,t){if(!e){t();return}sap.ui.require(["sap/m/MessageBox"],function(i){var n=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var r=n.getText("COMMON_Yes");var a=n.getText("COMMON_No");var o=e?"_"+e:"";i.alert(n.getText("COMMON_Action_Requires_Redirect"+o),{actions:[r,a],onClose:function(e){if(e==r){t()}}})})}function showBusyDialog(e,t){var i,n=false;var r=setTimeout(function(){sap.ui.require(["sap/m/BusyDialog"],function(e){i=!n&&(new e).open()})},t||100);e.catch(function(){}).then(function(){n=true;clearTimeout(r);if(i){i.close();i.destroy()}})}function handleQuickcardAction(e){var t=e.item;var i=t&&t.actionTarget;var n=i&&i.split("|");if(!i){return Promise.resolve()}var r;if(n&&n.length>1){r=n[0].split(";").ma})}else{r=[]}var a=0;var o=n&&n[n.length-1];var c=e.actionArgs;if(c&&!$.isArray(c)){c=[c]}if(!$.isArray(c)){var s=e.actionParams||{actionId:t.actionId,actionLabel:t.actionLabel};c=[e.subject,e.referenceId,s,e.target]}function l(){var e=$.sap.getObject(o);var t=e&&e.openActionQuickCard;if(t){return t.apply(e,c)}else{$.sap.log.error("ActionSearchUtil: cannot find "+o+".openActionQuickCard()")}}function u(e){if(!e||e.length==0){return Promise.resolve()}var t=[];var i=[];e.forEach(function(e){/\.(js|css)$/.test(e)||e.indexOf("ajaxservice:")==0?t.push(e):i.push(e)});var n=[];if(i.length>0){n.push(new Promis}))}if(t.length>0){n.push(Util.includeScripts(t))}return Promise.all(n)}function d(){if(a>=r.length){return Promise.resolve()}else{return u(r[a++]).then(d)}}return d().then(l).catc})}function handleAdminLink(oItemConfig){var oItem=oItemConfig.item;var sUrl=oItem.actionTarget;var sStatement="new "+sUrl.substring(11);function executeAction(){setTimeout(function(){eval(sStatement)},100)}Util.includeScripts(["/ui/admin/js/portlets/admModalLinkComponent.js","/ui/admin/js/launchform/launchForm.js"]).then(executeAction)}function handleLinkAction(e){var t=e.item;var i=t.actionTarget;if(i){i=ActionSearchUtil.buildURL(i,e.subject);var n=i.toLowerCase();if(n.indexOf("/")!=0&&n.indexOf("./")!=0&&n.indexOf("#")!=0&&n.indexOf("http://")!=0&&n.indexOf("https://")!=0&&n.indexOf("mailto:")!=0){i=window.location.protocol+"//"+i}LinkUtil.gotoURL(Util.ensureBaseDomain(i),!Util.isBizXDomain(i)&&!Util.isBaseDomainCORSEnabled(),getWindowOptions(t))}}function getWindowOptions(e){return e.linkType==="3"?{}:undefined}SearchUtil.register("ActionPeople",{search:function(e){e.maxresults=e.maxresults||DEFAULT_PAGE_SIZE;var t={queryType:"people_action",keywords:e.searchValue,keys:e.keys,actionStartNum:0,actionPageSize:e.maxresults||DEFAULT_PAGE_SIZE,peopleStartNum:0,peoplePageSize:e.maxresults||DEFAULT_PAGE_SIZE,actionId:e.actionId,existingActionIds:e.existingActionIds,requireDeeplinks:!Util.isRunningBaseDomain()&&!Util.isBaseDomainCORSEnabled()};return DeferredUtil.createDeferred($.extend({ODataService:{data:t},ajaxService:{arguments:[t]}}[SERVICE_TYPE],SEARCH_SERVICE[SERVICE_TYPE])).then(function(t){t=normalizeResponse(t);var i=[];SEARCH_TYPES.forEach(function(n){var r=createResponse(n,e,t,0);if(r&&r.items&&r.items.length>0){i.push(r)}});if(i.length==1){return i[0]}else{$.each(i,function(e,t){var n=t.items;var r=TYPE_INFO[t.type].multipleLimit;if(n&&n.length>r){t.items=n.splice(r,n.length-r);i[e]={type:t.type,items:n,hasMore:true,totalCount:t.totalCount,more:function(){return $.Deferred().resolve(t).promise()}}}});return{items:i,multiple:i.length>1,hasMore:false,type:"ActionPeople"}}})}});var SERVICE_TYPE=Util.findURLParam("odataActionSearch")!="false"?"ODataService":"ajaxService";var SEARCH_SERVICE={ODataService:{type:"ODataService",serviceName:"queryActionSearch",method:"POST"},ajaxService:{type:"ajaxService",serviceName:"actionSearchController",serviceMethod:"query"}};var LAZY_SEARCH_SERVICE={ODataService:{type:"ODataService",serviceName:"lazyQueryActionSearch",method:"POST"},ajaxService:{type:"ajaxService",serviceName:"actionSearchController",serviceMethod:"lazyQuery"}};var HIT_ACTION_SEARCH_ITEM_SERVICE={ODataService:{type:"ODataService",serviceName:"hitActionSearchItem",method:"POST"},ajaxService:{type:"ajaxService",serviceName:"actionSearchController",serviceMethod:"hitActionSearchItem"}};DeferredUtil.registerODataService({serviceAlias:"_ActionSearch_",serviceName:["queryActionSearch","lazyQueryActionSearch","hitActionSearchItem"]});DeferredUtil.finalizeODataRegistry({serviceAlias:"_ActionSearch_"});var SEARCH_TYPES=["Action","CopilotAction","People"];var TYPE_INFO={People:{queryType:"people",resultKey:"peoples",itemsKey:"items",indexKey:"indexRef",countKey:"totalCount",multipleLimit:6},Action:{queryType:"action",resultKey:"actions",itemsKey:"detailList",indexKey:"startIndex",countKey:"totalCount",multipleLimit:3},CopilotAction:{queryType:"copilot_action",resultKey:"copilotActions",itemsKey:"detailList",indexKey:"startIndex",countKey:"totalCount",multipleLimit:3},Ext:{queryType:"ext",resultKey:"exts",itemsKey:"detailList",indexKey:"startIndex",countKey:"totalCount"}};function addActionIds(e,t){var i=e.existingActionIds=e.existingActionIds||[];$.each(})}function normalizeResponse(e){e=DeferredUtil.normalizeODataResponse(e,"GlobalSearchResultVO");if(e.peoples&&e.peoples.items){e.peoples.items.forEach(function(e){e.keys=e.keyValues;delete e.keyValues;if(e.employments){e.employments.forEac})}})}return e}function createResponse(e,t,i,n,r){r=r||{};var a=TYPE_INFO[e];var o=i&&i[a.resultKey];if(o){var c=o[a.itemsKey];var s=r.totalCount;if(s==null){s=o[a.countKey]}var l=c?c.length:0;var u=0;if(l>0){for(var d=0;d<l;d++){var f=c[d];var p=f[a.indexKey];if(p>u){u=p}}}var m=n+1;var S;var v=t.maxresults||DEFAULT_PAGE_SIZE;if(u===0||isNaN(u)){S=m*v}else{S=u+1}if(e=="Action"||e=="CopilotAction"){addActionIds(r,c)}if(ActionSearchUtil._sampleActions){var A=t&&t.searchValue;var h=r.samples;if(!h){h=SAMPLES[e];if(h&&A){A=A.toLowerCase();h=h.filter(function(e){var t=e.actionLabel||e.label||e.name;if(t&&(""+t).toLowerCase().indexOf(A)>=0){return true}var i=e.keyValues;if(i){for(var n in i){var r=i[n];if(r&&(""+r).toLowerCase().indexOf(A)>=0){return true}}}return false})}else{h=[]}r.samples=h;c.push.apply(c,h);var E=h.length;l+=E;s+=E}}r.totalCount=s;var g=r.totalReturned=(r.totalReturned||0)+l;var y=l>0&&g<s;return{type:e,items:c,hasMore:y,totalCount:s,more:}:null}}}function createLazyDeferred(e,t,i,n,r){var a=TYPE_INFO[e];var o={queryType:a.queryType,keywords:t.searchValue,keys:t.keys,actionId:t.actionId,sourceType:t.sourceType};var c={startIndex:i,pageSize:t.maxresults||DEFAULT_PAGE_SIZE};if(e=="Action"){o.existingActionIds=r.existingActionIds}return DeferredUtil.createDeferred($.extend({ODataService:{data:{params:o,pagination:c}},ajaxService:{arguments:[o,c]}}[SERVICE_TYPE],LAZY_SEARCH_SERVICE[SERVICE_TYPE])).then(function(i){return createResponse(e,t,normalizeResponse(i),n,r)||{type:e,items:[],hasMore:false}})}ActionSearchUtil.registerQuickcardHandler({actionName:"_testActionSearch",actionHandler:function(e){sap.ui.require(["sap/m/MessageBox"})}});ActionSearchUtil.registerQuickcardHandler({actionName:"_PP3EditDialog",subjectExpected:true,actionHandler:function(e,t,i){SMRF.load(["/ui/peopleprofile/js/actionSearchPopup.js"})}});ActionSearchUtil._sampleActions="true"==Util.findURLParam("_sampleActions");var SAMPLES={Action:[{actionLabel:"Sample Quickcard Action",actionTarget:"|_testActionSearch",actionType:"quickcard"},{actionLabel:"Sample adminLink",actionTarget:'javascript:sap.m.Dialog({title:"Hello",buttons:[new sap.m.Button({text:"ok",press:function(e){e.getSource().getParent().close()}})]}).open()',actionType:"link",sourceType:"adminlink"},{actionLabel:"Sample TransitiveAction",actionTarget:"|_testActionSearch",actionType:"quickcard",transitive:true},{actionLabel:"Sample OrgChart",actionTarget:"/sf/orgchart?selected_user=cgrant1",actionType:"link"}],Ext:[{id:"ext1",label:"Ext Label #1"},{id:"ext1",label:"Ext Label #1"}]};$.sap.setObject("sap.sf.surj.shell.util.ActionSearchUtil",ActionSearchUtil);return ActionSearchUtil});
sap.ui.predefine("sap/sf/surj/shell/util/AjaxServiceError",["sap/m/BusyIndicator","sap/m/Dialog","sap/m/List","sap/m/StandardListItem","sap/m/TextArea","sap/m/Button","sap/ui/core/HTML","sap/ui/core/InvisibleText","sap/sf/surj/shell/controls/Container","sap/sf/surj/shell/util/DeferredUtil","jquery.sap.global"],function(e,r,t,a,o,s,i,n,l,c,p){var u=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var d=sap.ui.getCore();var f={forceAjaxSearchResultKey:null,generalError:function(r,t){if(r&&t){if(this.forceAjaxSearchResultKey){t.fingerprint=this.forceAjaxSearchResultKey}var a=encodeURIComponent(t.errorId);var s=encodeURIComponent(t.fingerprint);var c=encodeURIComponent(t.timestamp);var d="sap.sf.surj.shell.util.AjaxServiceError.gotoSupportDocSearchUrl('"+a+"','"+s+"','"+c+"')";var f=u.getText("COMMON_ERROR_FIND_ARTICLE",d);var v=u.getText("COMMON_Error");var S=t.customizedBody?"<span>"+t.customizedBody+" </span><br />":"";var h=u.getText("COMMON_AjaxService_Error_Try_Search");if(h.indexOf("''")<0){h=h.replace(/'/g,"''")}S+=p.sap.formatMessage(h,s);var g=u.getText("COMMON_AjaxService_Show_More");var x=new i("ajaxServiceErrorShowMore",{content:g,preferDOM:false});var b=new n({text:u.getText("COMMON_AjaxService_Error_Details_Description")}).toStatic();var m=new o("ajaxServiceErrorDetailCode",{value:r,rows:1,width:"500px",height:"100px",editable:false,visible:false,ariaLabelledBy:b});var O=[new l("docSearchContainer",{content:[new i("promptUserText",{content:S,preferDOM:false}),new l("docSearch",{content:[new e("ajaxServiceErrorSearchBusyIndicator",{visible:false}).addStyleClass("ajaxServiceErrorSearchBusyIndicator")]})]}),x,m];var v=u.getText("COMMON_Error");this.useUI5Dialog(O,v)}else{if(r){var E=u.getText("COMMON_AJAX_EXCEPTION_CONVERTER_ERROR");prompt(E,r)}else{alert(u.getText("COMMON_AJAX_DEFAULT_ERROR"))}}},useUI5Dialog:function(e,t){var a=d.byId("ajaxErrorDialog");if(!a){a=new r("ajaxErrorDialog",{title:t,contentWidth:"600px",resizable:false,content:e,endButton:new s({text:u.getText("COMMON_Ok")||"OK",type:"Emphasized",press:function(e){e.getSource().getParent().close()}.bind(this)}),afterClose:function(){this.destroy()}}).addStyleClass("globalAjaxErrDialog")}if(!a.isOpen()){a.open()}},showErrorInf},invokeKBSearch:function(e){var r=d.byId("ajaxServiceErrorSearchBusyIndicator");r.setVisible(true);c.invokeAjaxService({type:"ajaxService",module:"inproductsupport",serviceName:"inProductSupportController",serviceMethod:"getKnowledgeBaseSearchResult",arguments:[e]}).then(function(e){r.setVisible(false);failed=true;if(e&&e.data){var a=JSON.parse(e.data);if(a.status=="success"){var o=a.result.results["results"];if(o.length>0){var s=u.getText("COMMON_AjaxService_Found_KBA");d.byId("promptUserText").setContent(s);var i=new t("docLinks").addStyleClass("sapUiSizeCompact");for(var n=0;n<o.length&&n<2;n++){var l=o[n];i.addItem(new sap.m.StandardListItem({title:l["TITLE"],description:l["DESCRIPTION"],info:l["USERURL"],type:"Navigation",press:function(e){var r=e.getSource().getInfo();if(r){window.open(r,"_blank","noopener,location=1,menubar=1,personalbar=1,resizable=1,scrollbars=1,status=1,toolbar=1")}}}))}i.placeAt("docSearch");failed=false}else{failed=true}}}}).done(function(e){r.setVisible(false);if(failed){d.byId("docSearch").setVisible(false);var t=u.getText("COMMON_AjaxService_NO_RESULT");d.byId("promptUserText").setContent(t);this.showErrorInfo()}}).fai})}};f.gotoSupportDocSearchUrl=function(e,r,t){var a=this.getSupportDocSearchUrl(r);window.open(a,"_blank","noopener,location=1,menubar=1,personalbar=1,resizable=1,scrollbars=1,status=1,toolbar=1");f.postLogForError(e,r,t)};f.getSupportDocSearchUrl=function(e){var r=e||"";return"https://search.sap.com/search.html?t="+encodeURIComponent(r.trim())+"%20LOD-SF"};f.postLogForError=function(e,r,t){var a=window.pageHeaderJsonData;var o=a&&a.companyId;if(!o){return}var s=new XMLHttpRequest;var i="/public/theme-api/info/"+encodeURIComponent(o)+"?action=KBAFingerprint";if(e){i+="&errorId="+e}if(r){i+="&fingerprint="+r}if(t){i+="&timestamp="+t}s.open("GET",i,true);s.send(null)};p.sap.setObject("sap.sf.surj.shell.util.AjaxServiceError",f);return f});
sap.ui.predefine("sap/sf/surj/shell/util/AnimateUtil",["jquery.sap.global"],function(e){var t={doBodyTransition:function(e){this.htmlTransition=e;var t=e&&e.direction||"right";var a=e&&e.size||0;var i=jQuery("html");var r={};r[t=="right"?"paddingRight":"paddingLeft"]=a;i.animate(r,300,e.callback);if(sap&&sap.ui.getCore()&&sap.ui.getCore().getModel("pageHeader")&&sap.ui.getCore().getModel("pageHeader").getProperty("/options/ultraWideHeader")){i.css("float","left");SFBodyEventDispatcher.handleBodyResize(false,true)}},createSideSpace:function(t,a){t=t||0;var i=e.sap.getObject("pageHeaderJsonData.langDir")||"ltr";this.doBodyTransition({direction:i=="ltr"?"right":"left",size:t,callback:a})},resetSideSpace:function(t){var a=e.sap.getObject("pageHeaderJsonData.langDir")||"ltr";this.doBodyTransition({direction:a=="ltr"?"right":"left",size:0,callback:t})},getHtmlOffse}};e.sap.setObject("sap.sf.surj.shell.util.AnimateUtil",t);return t});
sap.ui.predefine("sap/sf/surj/shell/util/Config",["jquery.sap.global","sap/sf/surj/shell/util/Logger"],function(e,t){var n="sap.sf.surj.shell.util";var r=e.sap.getObject(n);var a=r.Config=function(e,n,r){var i=m({},e||{});if(n){for(var u in n){if(!e||typeof e[u]=="undefined"){i[u]=n[u]}}}if(r){var o=[];if(!a.validate(i,r,o)){o.forEac});assert(false,"Config: There was at least one error")}}m(this,i)};a.convertArguments=function(e,t,n,r){var i={};t.forEac});if(e.length==1&&e[0]!=null){var u=e[0];if(r&&!s(i,n,r)){i=u}else if(o(u)&&(!r||s(u,n,r))){throw new Error("configArgs called with one argument, but the validation was not strict enough. "+"Make sure to add at some validation")}}return new a(i,n,r)};a.validate=r.validate=function(e,t,n){var r=false;switch(typeof t){case"string":switch(t){case"*":r=p(e,n);break;case"string":case"number":case"object":case"undefined":case"boolean":case"function":r=d(e,t,n);break;default:r=y(e,t,n);break}break;case"object":switch(true){case t===null:r=c(e,n);break;case t instanceof u:r=t.validate(e,n);break;case Array.isArray(t):r=f(e,t,n);break;default:r=l(e,t,n);break}break;case"function":r=v(e,t,n);break;case"undefined":r=c(e,n);break;default:r=y(e,t,n);break}return r};a.arrayTyp};a.an};a.classType=function(e){return new j(e)};a.enumType=function(e){return new g(arguments)};a.htmlElementType=function(e){var t={nodeType:1};if(typeof e=="string"){t.nodeName=e.toUpperCase()}return t};a.regexTyp};a.dataType=function(e){if(window.jQuery&&jQuery.sap){jQuery.sap.require("sap.ui.base.DataType");jQuery.sap.declare(e);var t=sap.ui.base.DataType.getType(e);if(t){function n(){}n.prototype=u.prototype;var r=new n;r.validat};return r}}throw new Error(e+" is not a defined type")};a.createDataType=function(e,t){if(window.jQuery&&jQuery.sap){jQuery.sap.require("sap.ui.base.DataType");jQuery.sap.declare(e);var n=sap.ui.base.DataType.createType(e,{isVali}});jQuery.sap.setObject(e,n);return n}throw new Error("ui5 not found")};a.createEnum=function(e,t){if(window.jQuery&&jQuery.sap){jQuery.sap.declare(e);jQuery.sap.require("sap.ui.base.DataType");sap.ui.base.DataType.createType(e,{isVali}});jQuery.sap.setObject(e,t);return t}throw new Error("ui5 not found")};function i(e,t){var n=m({},e||{});if(t){for(var r in t){if(!e||typeof e[r]=="undefined"){n[r]=t[r]}}}return }u.prototype.validat};a.ValidatorType=u;function o(e){if(typeof e=="object"&&!Array.isArray(e)){var t=[Date];for(var n=0;n<t.length;n++){if(e instanceof t[n]){return false}}return true}return fals}function f(e,t,n){var r=false;for(var i=0;i<t.length;i++){if(a.validate(e,t[i],n)){r=true}}return r}function l(e,t,n){var r=true;if(typeof e=="object"&&e!==null){for(var i in t){var u=n&&[];if(!a.validate(e[i],t[i],u)){r=false;n&&u.forEach(function(t){n.push(["[Invalid Object Attribute] Attribute: ",i,", Object: ",e,": "].concat(t))})}}}else{r=false;n&&n.push(["Invalid object, expected: A non-null object, found: ",e])}return r}function c(e,t){if(e===null||e===undefined){return true}else{t&&t.push(["Invalid undefined, expected either null or undefined, found: ",e]);return false}}function p(e,t){if(e!==null&&e!==undefined){return true}else{t&&t.push(["Invalid required value, expected anything not null or undefined, found: ",e]);return false}}function d(e,t,n){if(typeof e===t){return true}else{n&&n.push(["Invalid type, expected: ",t,", found: ",typeof e,", value: ",e]);return false}}function v(e,t,n){if(e instanceof t){return true}else{n&&n.push(["Invalid value with wrong type, expected an object of type: ",t.name,", but found this value: ",e])}}function y(e,t,n){var r=e===t;if(!r){n&&n.push(["Invalid exact, expected: ",t,", value: ",e])}return }x(h,u,{validate:function(e,t){var n=Array.isArray(e);if(n){n=e.length>=this.minCount;if(n){if(this.subType!==undefined){e.forEach(function(e,r){var i=t&&[];if(!a.validate(e,this.subType,i)){n=false;t&&t.push(["Invalid array element at position: ",r,"."]);t&&i.forEach(function(e){t.push(["[Array Element Error] "].concat(e))})}},this)}}else{t&&t.push(["Invalid array, expected: at least ",this.minCount," item(s), found: ",e.length," item(s)"])}}else{t&&t.push(["Invalid array, expected: array, found: ",e])}return n}});function g(e){this.values=[];for(var t=0;t<e.length;t++){this.values.push(e[t])}}x(g,u,{validate:function(e,t){var n=false;for(var r=0;r<this.values.length;r++){if(this.values[r]===e){n=true;break}}if(!n){t&&t.push(["Invalid enum, expected: one of ",this.values,", found: ",e])}return n}});function w(e){if(typeof e=="string"){this._regex=new RegExp(e)}else if(e instanceof RegExp){this._regex=e}else{throw new Error("RegexType: you must pass a string or a RegExp object")}}x(w,u,{validate:function(e,t){var n=false;if(typeof e=="string"){n=this._regex.test(e);if(!n){t&&t.push(["Invalid regex value, expected: matches ",this._regex,", found: ",e])}}else{t&&t.push(["Invalid regex value, expected: a string, found: ",e])}return n}});function b(e){this._args=Array.prototype.slice.call(e,0)}x(b,u,{validate:function(e,t){var n=true;for(var r=0;r<this._args.length;r++){n=a.validate(e,this._args[r],t)&&n}return n}}}x(j,u,{validate:function(e,t){var n=false;if(e&&e.prototype){function r(){}r.prototype=e.prototype;n=new r instanceof this._class}if(!n){t.push(["Invalid constructor, expected constructor extending: ",this._class,", found: ",e])}return n}});function x(e,t,n}r.prototype=t.prototype;var a=new r;for(var i in n){a[i]=n[i]}e.prototype=a}function m(e,t){if(window.juic&&juic.set){return juic.set(e,t)}else if(window.jQuery){return jQuery.extend(e,t)}else{throw new Error("[Config] Requires jQuery or juic")}}e.sap.setObject("sap.sf.surj.shell.util.Config",a);return a});
sap.ui.predefine("sap/sf/surj/shell/util/CookiePolicyUtil",["jquery.sap.global","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/Util","sap/m/Button","sap/m/Text","sap/m/Dialog"],function(e,t,s,i,o,n){var a=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var r={init:function(){if(!pageHeaderJsonData.userInfo.cookiePolicyShowed&&s.isRunningBaseDomain()){var e=new n({contentWidth:"480px",title:a.getText("COMMON_Information"),type:"Message",icon:"sap-icon://message-information",content:new o({text:a.getText("COMMON_COOKIE_POLICY_CONTENT")}),beginButton:new i({text:a.getText("COMMON_Ok"),press:function(){e.close()}}),afterClose:function(){var e={type:"ajaxService",serviceName:"cookiePreferencesController",serviceMethod:"saveCookiePreferences",module:"platform"};t.createDeferred(e)}});sap.ui.getCore().attachInit(function(){e.open()})}}};e.sap.setObject("sap.sf.surj.shell.util.CookiePolicyUtil",r);return r});
sap.ui.predefine("sap/sf/surj/shell/util/DeferredUtil",["jquery.sap.global","sap/sf/surj/shell/util/Util","sap/sf/surj/shell/util/Logger","sap/sf/surj/shell/util/SMRF"],function(e,r,i,t){var a="ajaxService";var n="ODataService";var o=window.MSGS||{};var s=o.COMMON_RAL_SYSTEM_EXCEPTION_CONVERTER_ERROR||"The sensitive private data on this page could not be displayed because there was a failure writing to the Read Access Log.";var l=o.COMMON_SECURITY_SCANNER_EXCEPTION_CONVERTER_ERROR||"This content was rejected by the Security Scan of User Inputs feature because it might contain malicious content. Please review your content for security risks, such as scripting, and try again.";var c={TYPE_AJAX_SERVICE:a,TYPE_ODATA:n,createDeferre},invokeService:function(e){switch(e.type){case a:return this.invokeAjaxService(e);case n:return this.invokeODataService(e);default:throw new Error("Invalid service type")}},invokeAjaxService:function(r){if(!c.isAjaxServiceAllowed()){return e.Deferred().reject("AjaxServices are not allowed on this page")}return this.loadAjaxService(r).then(function(i){var t=r.serviceMethod;if(typeof i[t]=="function"){var a=e.Deferred();var n=r.arguments||[];var o=[].slice.call(n).concat({callbac},errorHandler:function(e,r){r&&j.error("Error invoking AjaxServiceHandler",r);var i=r&&r.errorCode;if(i=="RALSE"){e=s}else if(i=="SECURITYSCANNER"){e=l+" "+e}a.reject(e,r)}});i[t].apply(i,o);var u=a.promise();if(r.timeout>0){return c.addTimeout(u,r.timeout)}return u}else{var f="[DeferredUtil] The ajaxService method "+t+" does not exist";j.error(f);return e.Deferred().reject(f)}})},initAjaxService:function(){},getAjaxService:function(){if(window.AjaxService){return Promise.resolve(AjaxService)}return t.loadPromise(["/ui/ajaxservice/js/AjaxService.js"]).then(function(){return window.AjaxService})},loadAjaxService:function(r){var i=e.Deferred();if(!this.isAjaxServiceAllowed()){var t="[DeferredUtil] AjaxServices are not allowed";j.error(t);i.reject(t)}else{c.getAjaxService().the}).catc})}return i.promise()},isAjaxServiceAllowed:function(){return r.isRunningBaseDomain()},isODataServiceAllowed:function(){if(r.isRunningBaseDomain()||r.isBaseDomainCORSEnabled()){return true}return!!r.getODataProxyUrl()},isServiceAllowed:function(e){switch(e.type){case a:return c.isAjaxServiceAllowed();case n:return c.isODataServiceAllowed()}return false},invokeODataService:function(r){r=e.extend({baseUrl:v,strictValidation:true},r);var i=e.Deferred();var t=r.baseUrl;var a=r.serviceName;var n=r.serviceGroup;if(!n&&r.useOptimizedMetadata!==false){var o=p[t];for(var u=0;o&&u<o.length;u++){var f=o[u];if(c.isODataServiceRegistered(t,a,f)){n=f;break}}}if(r.useOptimizedMetadata==null){r.useOptimizedMetadata=!!(n||d[x(t,n)])}function h(){var n={};var o=r.urlParams;if(o&&typeof o=="object"){if(e.isArray(o.results)){r.urlParams.results.forEac})}else{n=e.extend({},o)}}n["$format"]="json";var u;if(r.action=="batch"){u=t+"$batch"}else{u=t+a}var f=r.servicePath;if(f){u+=f}u=c.processODataURL(u+"?"+e.param(n));var v={};var d={headers:v,xhrFields:{withCredentials:true}};if(r.headers){e.extend(v,r.headers)}if(!r.strictValidation){v["X-UI5-Strict-Validation"]="false"}if(r.bustCache!==false){d.cache=false}var p=r.method;if(p){d.method=p;if(p=="POST"){var h=r.data;if(h){if(typeof h=="object"){h=JSON.stringify(h)}d.data=h}d.contentType="application/json"}}var g;if(r.action=="upsert"){g=e.ajax(e.extend(d,{method:"POST",url:u,data:JSON.stringify(r.data),contentType:"application/json",dataType:"json"}))}else if(r.action=="delete"){g=e.ajax(e.extend(d,{method:"DELETE",url:u,dataType:"json"}))}else if(r.action=="batch"){g=e.ajax(e.extend(d,{method:"POST",url:u,headers:r.headers,data:r.data}))}else{g=e.ajax(e.extend(d,{url:u,dataType:"json"}))}g.done(function(e){i.resolve(e&&e.d?e.d:e)});g.fail(function(e,r,t){var n="OData Service "+a+" Failed, Error Status: "+r;if(typeof t=="string"){n+=", errorThrown: "+t}j.error(n);i.reject(n,e);var o="COE0045";var u="COE0059";var f="COE0060";var v=e.getResponseHeader("Error-Code")||e.getResponseHeader("X-Error-Code");switch(v){case o:c.showErrorDialog(s);break;case u:c.showErrorDialog(l);break;case f:try{var d=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var p=e.getResponseHeader("x-error-message");var h="There was an error processing your request. Please contact support. Error Code: "+p;if(d){h=d.getText("COMMON_WAF_BLOCK_EXCEPTION_CONVERTER_ERROR",[p])}c.showErrorDialog(h)}catch(e){j.error("Error loading resource bundle: "+e)}break}})}if(r.useOptimizedMetadata){A(t,n).done(function(e){if(c.isODataServiceRegistered(t,a,n)){t=e}h()})}else{h()}var g=i.promise();if(r.timeout>0){return this.addTimeout(g,r.timeout)}return g},encodeStringForOData:function(e){if(e===null||typeof e==="undefined"){return"''"}else if(e==="''"){return e}e=""+e;var r=e.length-1;if(e.length>2&&e.charAt(0)==="'"&&e.charAt(r)==="'"){e=e.substr(0,r);e=e.substr(1)}return"'"+e.replace(/\'+/g,"''")+"'"},normalizeODataResponse:function(e,r){if(e&&typeof e=="object"){for(var i in e){var t=e[i];var a=t&&t.results;if(a){if(a.length>0&&a[0].key){e[i]=a.reduce(function(e,r){e[r.key]=c.normalizeODataResponse(r.value);return e},{})}else{e[i]=a.map(c.normalizeODataResponse)}}else if(t&&typeof t=="object"){c.normalizeODataResponse(t,r)}}if(r&&e[r]){e=e[r]}}return e},showErrorDialog:function(e){sap.ui.require(["sap/m/Text","sap/m/Dialog","sap/m/Button"],function(r,i,t){var a=[new r({text:e}).addStyleClass("exceptionText")];var n=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var o=new i("ajaxErrorDialog",{title:n.getText("COMMON_Err"),contentWidth:"600px",resizable:false,content:a,endButton:new t({text:n.getText("COMMON_Ok"),type:"Emphasized",pres}.bind(this)}),afterClos}}).addStyleClass("globalAjaxErrDialog");o.open()})},processODataURL:function(e){var i=r.getODataProxyUrl();if(i){if(e&&e.indexOf("/")==0&&e.indexOf("//")!=0){if(i.lastIndexOf("/")==i.length-1){i=i.substring(0,i.length-1)}return i+e}}else{return r.ensureBaseDomain(e)}return e},createODataModel:function(r){r=e.extend({baseUrl:v,highPriority:false,version:1,options:{loadMetadataAsync:true,tokenHandling:false,json:true}},r||{});var i=r.baseUrl;var t=r.serviceGroup;if(r.useOptimizedMetadata==null){r.useOptimizedMetadata=!!(t||d[x(i,t)])}function a(){var t={1:"sap.ui.model.odata.ODataModel",2:"sap.ui.model.odata.v2.ODataModel",4:"sap.ui.model.odata.v4.ODataModel"};var a=e.extend({},r.options);var n=window.ajaxSecKey;if(typeof n=="string"){a.headers=a.headers||{};a.headers["X-CSRF-Token"]=n}var o=t[r.version];if(o){e.sap.require(o);var s=e.sap.getObject(o);return new s(c.processODataURL(i),a)}else{throw"Invalid ODataModel version: "+r.version}}function n(){if(r.useOptimizedMetadata===false){return a()}else{return A(i,t).the})}}if(r.highPriority){return n()}else{return this.whenLowPriority(r.priority).then(n)}},isODataServiceRegistered:function(r,i,t){var a=E(r,t);var n=a&&a.services;return n&&e.inArray(i,n)>=0},registerODataServiceAlias:function(r){var i=arguments;if(i.length==3){r={baseUrl:i[0]||v,serviceGroup:i[1],serviceAlias:i[2]}}else{r=e.extend({baseUrl:v},r||{})}var t=E(r.baseUrl,r.serviceGroup||r.serviceAlias);t.serviceAlias=r.serviceAlias;t.optimizedBaseUrl=null},registerODataService:function(r){r=e.extend({baseUrl:v},r||{});var i=r.baseUrl;var t=r.serviceAlias;var a=r.serviceGroup||t;var n=E(i,a);var o=p[i]=p[i]||[];if(e.inArray(a,o)<0){o.push(a)}if(t){n.serviceAlias=t}var s=!n.optimizedBaseUrl;if(s){var l=r.serviceName;var c=n.services=n.services||[];var u=true;if(!e.isArray(l)){l=[l]}e.each(l,function(r,i){if(e.inArray(i,c)<0){c.push(i)}})}else{j.error("The following service was already finalized: "+r.baseUrl+r.serviceName)}return s},finalizeODataRegistry:function(e){var r,i,t;if(typeof e=="string"){r=e;i=arguments[1];t=arguments[2]}else if(e&&typeof e=="object"){r=e.baseUrl;i=e.serviceGroup;t=e.serviceAlias}if(t&&!i){i=t}E(r||v,i).finalize()},resetODataRegistry:function(e,r){d[x(e,r)]=null},invokeJsonpService:function(i,t){var a="sfDeferredUtilCallback"+u++;var n=i.indexOf("?");var o=i.lastIndexOf("?");var s=/^(.*[&\?][^\?]+=)\?([^\?]*)$/.exec(i);if(o!==n&&s){i=s[1]+a+s[2]}else{i+=(n<0?"?":"&")+"callback="+a}var l=e.Deferred();window[a]=function(){if(l.state()=="pending"){l.resolve.apply(l,arguments)}};var c=document.createElement("script");c.id=a;c.type="text/javascript";c.src=i;var f=r.getCSPScriptNonce();if(f){c.nonce=f}var v=null;if(t!=null&&t>0){var v=setTimeout(function(){if(l.state()=="pending"){l.reject("timeout");window[a}}},t)}e(c).bind("error",function(){l.reject("unknown_error")});l.always(function(){e("#"+a).remove();v!=null&&clearTimeout(v);window[a]=null});e("head")[0].appendChild(c);return l.promise()},addPriorityDeferred:function(r,i,t){if(t!==false){y++}g++;r.always(function(){if(t!==false){--y;setTimeou},20)}if(--g==0){var r=0;e.each(});if(r>0){j.debug("Priority Call "+i+" complete; now initiating "+r+" low priority calls");e.each(O,function(r,i){var t=w[i];if(t.length>0){w[i]=[];e.each(t,function(e,r){if(typeof r=="function"){try{var i=r();if(i&&typeof i.promise=="function"){D.push(i)}}catch(e){j.error("A low priority call failed",e)}}})}})}else{j.debug("Priority Call "+i+" complete; no low priority calls waiting")}}})},whenKeyContentLoaded:function(){return m.promise()},whenLowPriority:function(r){var i=e.Deferred();this.delayLowPriorityCall(function(){i.resolve()},r);return i.promise()},delayLowPriorityCall:function(e,r){if(g==0){var i=e();if(i&&typeof i.promise=="function"){D.push(i)}}else{if(!w[r]){r="MEDIUM"}w[r].push(e)}},whenLowPriorityCallsFinish:function(){var r=e.Deferred();this.whenLowPriority().always(function(){setTimeout(function(){var i=D.length;function t(){if(i===D.length){r.resolve()}else{c.whenLowPriorityCallsFinish().then(function(){r.resolve()},function(){r.reject()})}}if(i>0){return e.when.apply(e,D).then(t)}else{setTimeout(t,10)}},10)});return r.promise()},addTimeout:function(r,i){var t=e.Deferred();var a=setTimeou},i);function n(e,r){if(t.state()=="pending"){t[e].apply(t,r)}if(t.state()!="pending"){clearTimeout(a)}}r.done(function(){n("resolve",arguments)}).fail(function(){n("reject",arguments)}).progres});return t.promise()},whenUI5LibraryCSSReady:function(r){if(!S){var i="surjMLibTester";var t="sapMBarRight";var a="position";var n="absolute";var o=5e3;var s=50;var l=1e3;var c=(new Date).getTime();function u(){var r=e("#"+i);if(r.length==0){r=e('<div style="display:none"></div>').attr({id:i,class:t}).appendTo("body")}return r.css(a)===n}var f=e.Deferred().alway});if(u()){f.resolve()}else{function v(){if(u()){f.resolve()}else{var e=(new Date).getTime()-c;var r=e<=o?s:l;setTimeout(v,r)}}setTimeout(v,s)}S=f.promise()}if(r>0){return this.addTimeout(S,r)}else{return S}}};var u=0;function f(e,r){var i=e.indexOf("?");var t=e.lastIndexOf("?");var a=/^(.*[&\?][^\?]+=)\?([^\?])*$/.exec(e);if(t!==i&&a){e=a[1]+r+a[2]}else{e+=(i<0?"?":"&")+"callback="+r}return e}var v="/odata/v2/restricted/";var d={};var p={};var h={};var g=0;var y=0;var m=e.Deferred();var O=["HIGHEST","HIGH","MEDIUM","LOW","LOWEST"];var w={HIGHEST:[],HIGH:[],MEDIUM:[],LOW:[],LOWEST:[]};var D=[];var S;var j=i.getLogger("DeferredUtil");function x(e,r){return e+(r?"|"+r:"")}function E(r,i){var t=x(r,i);var a=d[t];if(!a){var n=e.Deferred();a=d[t]={finalizePromise:n.promise(),finalize:function(){n.resolve()}}}return a}function A(r,i){var t=E(r,i);return t.finalizePromise.then(function(){var i=t.optimizedBaseUrl;if(i){return e.Deferred().resolve(i)}else{i=r;var a=t.serviceAlias;if(a){if(!/\/$/.test(i)){i+="/"}i+=a+"/"}else{var n=t.services;if(n&&n.length>0){n.sort();if(!/\/$/.test(i)){i+="/"}i+=n.join(",")+"/"}}t.optimizedBaseUrl=i}return i})}(function(){var r=e.Deferred();c.addPriorityDeferred(r.promise(),"init.ui5");sap.ui.getCore().attachInit(function(){r.resolve()})})();(function(r){if(r){var i=e.Deferred();c.addPriorityDeferred(i,"PerfPhase.highPriority");window.PerfPhase.runLowPriority(function(){i.resolve()})}})(window.PerfPhase);e.sap.setObject("sap.sf.surj.shell.util.DeferredUtil",c);return c});
sap.ui.predefine("sap/sf/surj/shell/util/DownloadReason", ["xweb/widget-loader/miniapp/MiniAppDialog","sap/sf/surj/shell/util/LinkUtil","sap/sf/surj/shell/util/Util"],function(n,e,t){function o(e){t.setupWidgetLoader();return n.open({widgetName:"xweb/download-reason-content",context:e}).the})}function i(n,t,i){return o(i).then(function(o){if(o){const i=a(n,t,o);e.gotoURL(i)}})}function a(n,e,t){if(t){const o=/([^?#]*)(\?[^#]*|)(#.*|)$/.exec(n);o[2]=o[2]+(o[2]?"&":"?")+[e,t.data].map(encodeURIComponent).join("=");n=o.slice(1).join("")}return n}return{asPromise:o,goto:i,getUrlWithReason:a}});
sap.ui.predefine("sap/sf/surj/shell/util/DowntimeNotificationUtil", ["sap/sf/surj/shell/util/DeferredUtil","sap/m/Dialog","sap/m/Button","sap/ui/core/HTML"],function(t,e,i,n){return{show:function(o){if(o){var a=o.fromDate;var s=o.toDate;t.whenUI5LibraryCSSReady().done(function(){var t=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var r=["<div>",'<div class="time bottompad15">',t.getText("COMMON_DOWNTIME_TIME_WINDOW",[a,s]),"</div>",'<div class="bottompad15">',o.text||t.getText("COMMON_DOWNTIME_NOTIFY_TEXT1"),"</div>",'<div class="bottompad15">',o.text2||t.getText("COMMON_DOWNTIME_NOTIFY_TEXT2"),"</div>","</div>"];var T=new e({title:o.title||t.getText("COMMON_DOWNTIME_NOTIFY_TITLE"),state:"Warning",contentWidth:"550px",content:[new n({content:r.join("")})],buttons:[new i({text:t.getText("COMMON_BTN_Continue"),press:function(){T.close()}})]}).addStyleClass("surjDowntimeNotification").open()})}}}});
sap.ui.predefine("sap/sf/surj/shell/util/FLPServices", ["./PostMessageAPI","./Util"],function(e,s){"use strict";var t=function(e){return e.result};return{isSupported:function(){var t=s.findURLParam("sap-shell");return t&&t.toLowerCase()==="flp"&&e.isSupported()},CrossApplicationNavigation:{hrefForExternal:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.hrefForExternal",{oArgs:s}).then(t)},historyBack:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.historyBack",{iSteps:s})},getSemanticObjectLinks:function(s,n,r){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{sSemanticObject:s,mParameters:n,bIgnoreFormFactors:r}).then(t)},getLinks:function(s,n){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.getLinks",{semanticObject:s,params:n}).then(t)},isIntentSupported:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{aIntents:s}).then(t)},isNavigationSupported:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{aIntents:s}).then(t)},toExternal:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:s})},getAppStateData:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:s}).then(t)},setInnerAppRoute:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute",{appSpecificRoute:s}).then(t)},setInnerAppStateData:function(s){return e.sendRequest("sap.ushell.services.CrossApplicationNavigation.setInnerAppStateData",{sData:s}).then(t)}},ShellUIService:{setDirtyFlag:function(s){return e.sendRequest("sap.ushell.services.ShellUIService.setDirtyFlag",{bIsDirty:s}).then(t)},setTitle:function(s){return e.sendRequest("sap.ushell.services.ShellUIService.setTitle",{sTitle:s}).then(t)},setHierarchy:function(s){return e.sendRequest("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:s})},setRelatedApps:function(s){return e.sendRequest("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:s})},showShellUIBlocker:function(s){return e.sendRequest("sap.ushell.services.ShellUIService.showShellUIBlocker",{bShow:s})},getFLPUrl:function(s){return e.sendRequest("sap.ushell.services.ShellUIService.getFLPUrl",{bIncludeHash:s}).then(t)},getShellGroupIDs:function(){return e.sendRequest("sap.ushell.services.ShellUIService.getShellGroupIDs",{}).then(t)},addBookmark:function(s,t){return e.sendRequest("sap.ushell.services.ShellUIService.addBookmark",{oParameters:s,groupId:t})}},renderer:{addHeaderIte},showHeaderItem:function(s){return e.sendRequest("sap.ushell.services.renderer.showHeaderItem",{aIds:s})},hideHeaderItem:function(s){return e.sendRequest("sap.ushell.services.renderer.hideHeaderItem",{aIds:s})},setHeaderTitle:function(s){return e.sendRequest("sap.ushell.services.renderer.setHeaderTitle",{sTitle:s})},setHeaderVisibility:function(s){return e.sendRequest("sap.ushell.services.renderer.setHeaderVisibility",{bVisible:s})}},ShellNavigation:{toExternal:function(s){return e.sendRequest("sap.ushell.services.ShellNavigation.toExternal",{oArgs:s})}},NavTargetResolution:{getDistinctSemanticObjects:function(){return e.sendRequest("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects",{})},expandCompactHash:function(s){return e.sendRequest("sap.ushell.services.NavTargetResolution.expandCompactHash",{sHashFragment:s})},isNavigationSupporte}},AppLifeCycle:{create:function(s,t){return e.sendRequest("sap.ushell.services.AppLifeCycle.create",{sUrl:s,sHash:t})},destroy:function(s){return e.sendRequest("sap.ushell.services.AppLifeCycle.destroy",{appId:s})},stor},restor}},sessionHandler:{logoutSession:function(){return e.sendRequest("sap.ushell.sessionHandler.logoutSession",{})},extendSessionEvent:function(){e.attachRequestHandler("sap.ushell.sessionHandler.extendSessionEvent})},notifyUserActiv}}}});
sap.ui.predefine("sap/sf/surj/shell/util/FeedbackEmbeddedDataUtil",["jquery.sap.global","xweb/widget-loader/widget-loader"],function(e,t){var r={getFeedbackEmbeddedData:function(e){var r=t.getVersionsMap();var a=this.getAppsVersionMap();var n=Object.assign(r,a);return{language:e.getProperty("/userInfo/normalizedLocale"),appFrameworkVersion:window.sap&&sap.ui.version,theme:e.getProperty("/themeName"),appId:this.getAppId(e),appVersion:e.getProperty("/settings/releaseVersionNumber"),versionsMap:JSON.stringify(n),appTitle:document.title,tenantId:e.getProperty("/companyGUID"),appFrameworkId:"SAPUI5"}},getAppId:function(e){var t=e.getProperty("/pageInfo");var r;if(t){r=t.moduleId+"-"+t.pageId+"-"+t.pageQualifier}return r},getAppsVersionMap:function(){var e={};var t=document.getElementsByTagName("meta");var r="version:";var a=r.length;for(var n=0;n<t.length;n++){var i=t[n].getAttribute("name");if(i&&i.indexOf(r)==0){e[i.slice(a)]=t[n].getAttribute("content")}}return e}};return r});
sap.ui.predefine("sap/sf/surj/shell/util/GACEAdvancedSearchUtil",["jquery.sap.global","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/util/GACEConstants","sap/m/MessageBox","sap/m/Title","sap/ui/core/TitleLevel","../library"],function(e,t,a,i,r,s,l){var n=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var o=i.ADV_SEARCH_DIALOG;var c=i.SEARCH_ODATA_SERVICES;var u=i.DEFAULT_ODATA_SERVICE;function d(e,t,a,i,r,s,l,n,c,u){var d;var f=o.DEFAULT_WIDTH;switch(e){case"searchFields":d=this.data("oldLeft");d&&this.$().css("left",d);break;case"searchResults":d=this.$().css("left");this.$().css("left",o.SCREEN_V_PADDING/16+"rem");this.data("oldLeft",d);var p=o.COLUMN_IDS.length;a||(a={});a["JOBTITLE"]&&i&&p--;a["EMAIL"]&&r&&p--;a["DIVISION"]&&s&&p--;a["DEPARTMENT"]&&l&&p--;a["CONTINGENTWORKER"]&&n&&p--;a["LOCATION"]&&c&&p--;a["STATUS"]&&u&&p--;t||(t=window.innerWidth);f=t<o.SCREEN_WIDTH_TRESHOLD?o.SMALL_SCREEN_H_PADDING:o.REGULAR_SCREEN_H_PADDING;f=t-2*f;f=(f-p*(f*o.COLUMN_WITDH_PERCENT))/16+"rem";break}return f}function f(e){var t,a;switch(e){case"searchFields":t=this.data("oldTop");t&&this.$().css("top",t);a=o.DEFAULT_HEIGHT;break;case"searchResults":t=this.$().css("top");this.$().css("top",o.SCREEN_V_PADDING/16+"rem");this.data("oldTop",t);a="calc(100% - "+2*o.SCREEN_V_PADDING/16+"rem - 2.5rem)";break}return a}function p(a,i,r){var s=a.bindingContext;var l=s.getObject();var n=s.getModel();var o=n.getProperty("/oDataServiceKey")||u;var d=new sap.ui.model.json.JSONModel;var f=l.parentFields;if(f&&f.length>0){for(var h=0;h<f.length;h++){var v=n.getProperty("/selectedFieldValues/"+f[h]);var g="/"+f[h];if(v&&v.code){d.setProperty(g,v.id)}}}var m=i+1;var E={searchField:l.field,searchText:a.searchValue,parentValues:d.oData,pageNumber:m};if(E.parentValues&&o!==u){E.parentValues=Object.keys(E.parentValues).reduce(function(e,t){e.push({key:t,value:E.parentValues[t]});return e},[])}r=r||0;var L=e.extend({data:E},c[o].searchField);return t.invokeService(L).then(function(e){var t;var s=false;var l;if(o===u){t=e.AdvancedSearchFieldResponse.results.results;l=e.AdvancedSearchFieldResponse.totalNumberOfRecords}else{t=e.results;l=e.totalNumberOfRecords}if(t&&t.length>0){r+=t.length;s=r<l}var n={items:t,hasMore:s,more:}:null};return n})}function h(a,i,r,s){var l=e.extend({page:i+1,startIndex:parseInt(s)||0},a);var n=a.oDataVersion||u;delete l.oDataVersion;r=r||0;for(var o in l){var d=l[o].toString();if(d.toUpperCase()=="YES"){l[o]=true}else if(d.toUpperCase()=="NO"){l[o]=false}if(o=="displayLocation"){l.includeLocationInfoPerEmpl=l[o];delete l.displayLocation}if(o=="includeHomeEmpl"){l.includeHomeAssignment=l[o];delete l.includeHomeEmpl}if(o=="includeExternalPersons"){l.includeExternalUsers=l[o];delete l.includeExternalPersons}if(o=="includeExternalPersonType"){if(l[o].trim()==""){delete l.includeExternalPersonType}}if(o=="dynamicGroupId"){if(l[o].trim()==""){delete l.dynamicGroupId}}}var f=e.extend({data:l},c[n].searchResult);if(n!==u){var p=f.data&&f.data.searchParameters;if(p){for(var v=0,g,E;v<p.length;v++){E=p[v];if(E&&E.ids instanceof Array){for(g=0;g<E.ids.length;g++){E.ids[g]=""+E.ids[g]}}}}}var L=t.invokeService(f).then(function(e){var t;var s;var l=false;if(n===u){t=e.PeopleSearchListEntity.columnVisiblity.results;s=e.PeopleSearchListEntity.items.results;l=e.PeopleSearchListEntity.hasMore}else{t=e.columnVisiblity;s=e.items;l=e.hasMore}for(var o=0;o<s.length;o++){if(s[o].employments&&s[o].employments.results){s[o].employments=s[o].employments.results}}if(s&&s.length>0){r+=s.length}var c=Math.max.apply(Math,s.map(function(e){return isNaN(e.indexRef)?0:e.indexRef}));var d={columnVisibility:t,items:s,hasMore:l,more:l?function(){return h(a,i+1,r,c+1)}:null};return d});m(L);return L}function v(a){var i=a.oDataServiceKey||u;var r={data:{activeFields:a&&a.fieldIds||[]}};if(i===u){r.additionalCriteria=a&&a.additionalCriteria||[]}r=e.extend(r,c[i].initializer);return t.invokeService(r).then(function(e){if(i===u){for(var t=0;t<e.length;t++){e[t].childFields=e[t].childFields.results;e[t].parentFields=e[t].parentFields.results;e[t].fieldListValue=e[t].fieldListValue&&e[t].fieldListValue.results?e[t].fieldListValue.results:e[t].fieldListValue;e[t].fieldListValueLabel=e[t].fieldListValueLabel&&e[t].fieldListValueLabel.results?e[t].fieldListValueLabel.results:e[t].fieldListValueLabel}}else{e=e.value;for(var t=0;t<e.length;t++){e[t].fieldListValue=e[t].fieldListValue&&e[t].fieldListValue.results?e[t].fieldListValue.results:e[t].fieldListValue;e[t].fieldListValueLabel=e[t].fieldListValueLabel&&e[t].fieldListValueLabel.results?e[t].fieldListValueLabel.results:e[t].fieldListValueLabel}}var a=[];for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.isOptionalParameter==="true"){e.splice(r,1);a.splice(0,0,s)}}for(var l=0;l<a.length;l++){a[l].visible=a[l].selectedValue?false:true}return{Fields:e,AdvancedFields:a}})}function g(t){return v(t).then(function(a){return new sap.ui.model.json.JSONModel(e.extend({view:"searchFields",expandAdvanced:false,selectedFieldValues:{},textSearchFieldValue:{}},t||{},a))})}function m(t){var a;t.don});t.fail(function(t,i){a&&a.close();var s=e.sap.getObject("responseJSON.error.message.value",true,i)||n.getText("COMMON_AJAX_DEFAULT_ERROR");r.error(s,{icon:sap.m.MessageBox.Icon.ERROR})});setTimeout(function(){if(t.state()=="pending"){e.sap.require("sap.m.BusyDialog");a=new sap.m.BusyDialog;a.open()}},100)}a.register("GACESearchField",{search:function(e){return p(e,0)}});a.register("GACEAdvancedSearch",{searc}});var E={show:function(t){var a={contentWidth:o.DEFAULT_WIDTH,contentHeight:o.DEFAULT_HEIGHT,resizable:o.RESIZABLE,draggable:o.DRAGGABLE,title:n.getText(o.TITLE_KEY),verticalScrolling:o.VERTICAL_SCROLLING};if(t&&typeof t.dialogSettings==="object"){Object.assign(a,t.dialogSettings)}return new Promise(function(i,r){var o=g(t);m(o);o.then(function(o){try{var c=t&&(t.source||sap.ui.getCore().byId(t.id));var u=sap.ui.controller("sap.sf.surj.shell.mvc.GACEAdvancedSearch");var p=new sap.m.Dialog({contentWidth:a.contentWidth,contentHeight:a.contentHeight,resizable:a.resizable,draggable:a.draggable,title:a.title,verticalScrolling:a.verticalScrolling,models:o,afterOpe},afterClose:function(){p.destroy();c&&c.focus&&c.focus()},customHeader:new sap.m.Bar({contentLeft:new sap.m.Button({icon:"sap-icon://nav-back",tooltip:n.getText("COMMON_Back"),visible:{parts:[{path:"/view"}],formatte}},press:[u.back,u]}),contentMiddle:new s({text:n.getText("COMMON_Find_Employee"),level:l.H2})}),content:sap.ui.view({type:"JS",height:"100%",controller:u,viewName:"sap.sf.surj.shell.mvc.GACEAdvancedSearch"})}).removeStyleClass("sapUiPopupWithPadding").addStyleClass("surjAdvSearchDialog");p.applySettings({contentWidth:{parts:[{path:"/view"},{path:"/screen/width"},{path:"/columnVisiblity"},{path:"/columnViewSettings/JOBTITLE"},{path:"/columnViewSettings/EMAIL"},{path:"/columnViewSettings/DIVISION"},{path:"/columnViewSettings/DEPARTMENT"},{path:"/columnViewSettings/CONTINGENTWORKER"},{path:"/columnViewSettings/LOCATION"},{path:"/columnViewSettings/STATUS"}],formatter:d.bind(p)},contentHeight:{path:"/view",formatter:f.bind(p)}}).open()}catch(t){e.sap.log.error("Exception creating dialog",t);r(t)}})})},contentWidthFormatter:d,contentHeightFormatter:f,createAdvancedSearchPromise:h,getModel:g};e.sap.setObject("sap.sf.surj.shell.util.GACEAdvancedSearchUtil",E);return E});
sap.ui.predefine("sap/sf/surj/shell/util/GACEConstants",["jquery.sap.global"],function(e){var a={SEARCH_ODATA_SERVICES:{oDataV2:{initializer:{type:"ODataService",method:"POST",serviceName:"advancedSearchGetRenderingInformation",baseUrl:"/odata/v2/restricted/"},searchField:{type:"ODataService",method:"POST",serviceName:"advancedSearchFieldDataProvider",baseUrl:"/odata/v2/restricted/"},searchResult:{type:"ODataService",method:"POST",serviceName:"advancedSearchFindPersons",baseUrl:"/odata/v2/restricted/"}},oDataV4:{initializer:{type:"ODataService",method:"POST",serviceName:"advancedSearchGetRenderingInformation",baseUrl:"/odatav4/servicesfoundation/search/PersonSearchService.svc/v1/"},searchField:{type:"ODataService",method:"POST",serviceName:"advancedSearchFieldDataProvider",baseUrl:"/odatav4/servicesfoundation/search/PersonSearchService.svc/v1/"},searchResult:{type:"ODataService",method:"POST",serviceName:"advancedSearchFindPersons",baseUrl:"/odatav4/servicesfoundation/search/PersonSearchService.svc/v1/"}}},DEFAULT_ODATA_SERVICE:"oDataV2",ADV_SEARCH_DIALOG:{DEFAULT_WIDTH:"85%",DEFAULT_HEIGHT:"500px",REGULAR_SCREEN_H_PADDING:64,SMALL_SCREEN_H_PADDING:32,SCREEN_V_PADDING:64,SCREEN_WIDTH_TRESHOLD:1024,COLUMN_SELECT_WITDH:64,COLUMN_PHOTO_WITDH:86,COLUMN_WITDH_PERCENT:.1,COLUMN_IDS:["CONTINGENTWORKER","LOCATION","DIVISION","DEPARTMENT","JOBTITLE","EMAIL","STATUS"],DRAGGABLE:true,RESIZABLE:true,TITLE_KEY:"COMMON_Find_Employee",VERTICAL_SCROLLING:true}};e.sap.setObject("sap.sf.surj.shell.util.GACEConstants",a);return a},true);
sap.ui.predefine("sap/sf/surj/shell/util/GACESearchUtil",["jquery.sap.global","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/SearchUtil"],function(e,r,t){"use strict";var a=sap.ui.getCore();var s="GACESearch";function n(t,a,s,o){t.oDataServiceKey=t.oDataServiceKey||u;var l=t.oDataServiceKey===u;var m=Object.assign({},t.additionalCriteria);var c=(m.resultScope||"EMPLOYMENT").toUpperCase();s=s||0;var f=t.searchValue;for(var v in m){var y=m[v].toString();if(y.toUpperCase()=="YES"){m[v]=true}else if(y.toUpperCase()=="NO"){m[v]=false}if(l&&(v=="employmentEffectiveFrom"||v=="employmentEffectiveTo")){m[v]=r.encodeStringForOData(m[v])}if(v=="displayLocation"){m.includeLocationInfoPerEmpl=m[v];delete m.displayLocation}if(v=="includeHomeEmpl"){m.includeHomeAssignment=m[v];delete m.includeHomeEmpl}if(v=="includeExternalPersons"){m.includeExternalUsers=m[v];delete m.includeExternalPersons}if(v=="includeExternalPersonType"){if(m[v].trim()==""){delete m.includeExternalPersonType}if(l){m[v]=r.encodeStringForOData(m[v])}}if(v=="dynamicGroupId"){if(m[v].trim()==""){delete m.dynamicGroupId}if(l){m[v]=r.encodeStringForOData(m[v])}}if(v=="country"){if(m[v].trim()==""){delete m.country}if(l){m[v]=r.encodeStringForOData(m[v])}}if(v=="useAlternativePermissionType"){if(m[v].trim()==""){delete m.useAlternativePermissionType}if(l){m[v]=r.encodeStringForOData(m[v])}}}var h=e.extend({searchValue:l?r.encodeStringForOData(f):f,page:a+1,startIndex:o?o+1:0},m);return r.invokeService(e.extend({urlParams:h},p[t.oDataServiceKey||u])).then(function(e){var r=e.PeopleSearchListEntity=e.PeopleSearchListEntity||{items:{results:e.items},hasMore:e.hasMore};var o=i(e,c);if(o&&o.length>0){s+=o.length}var l=Math.max.apply(Math,o.ma}));return{type:d,items:o,hasMore:r.hasMore,more:r.hasMore?function(){return n(t,a+1,s,l)}:null}})}function i(r,t){var a=Array.prototype.slice.apply(r.PeopleSearchListEntity.items.results);for(var s=0;s<a.length;s++){if(a[s].employments&&a[s].employments.results){a[s].employments=a[s].employments.results}}for(var n=a.length-1;n>=0;n--){var i=a[n];if(i.employments&&i.employments.length>1){for(var o=0;o<i.employments.length;o++){i.employments[o].userId=i.employments[o].assignmentId;i.employments[o].showIcon=true}var l=i.employments.splice(1,i.employments.length-1);i.firstSubItem=true;i.subItem=true;i.userId=i.employments[0].assignmentId;i.primaryEmploymentUserId=i.assignmentId;for(var m=0;m<l.length;m++){var c=l[m];var u=e.extend({},i);u.employments=[c];u.primaryEmploymentUserId=u.assignmentId;u.userId=c.assignmentId;a.splice(n+m+1,0,e.extend(u,{firstSubItem:false,lastSubItem:m==l.length-1}))}}else if(!i.employments||i.employments.length==0){i.subItem=true;i.firstSubItem=true;i.lastSubItem=true;i.userId=i.assignmentId}else if(t==f.EMPLOYMENT){i.userId=i.employments[0].assignmentId;i.employments[0].userId=i.employments[0].assignmentId;i.employments[0].showIcon=false;i.firstSubItem=true;i.lastSubItem=true}}a.forEac});return a}function o(r){return t.search("jsup",e.extend({query:r.searchValue},r.legacySearchCriteria)).then(m)}function l(e){return{userId:e.UserId,userName:e.UserName,name:e.FullName,firstName:e.FirstName,lastName:e.LastName,photoSrc:e.photoUrl,legacyItem:e}}function m(r){var t=r.items;if(t){t=t.concat();for(var a=0;a<t.length;a++){var s=t[a];t[a]=l(s)}}return e.extend({},r,{items:t,more:r.mor}:null})}function c(r){var t=r.additionalCriteria||{};var a=t.resultScope;if(a&&a.toUpperCase()==f.PERSON){return true}var s=t.enforceIgnoreProvisioningFlags;if(typeof s=="string"&&s.toUpperCase()=="YES"||s===true){return true}var n=window.pageHeaderJsonData&&pageHeaderJsonData.settings;return n&&n["autocomplete.personBased"]==="true"||e("#autocomplete\\.personBased").attr("content")==="true"}r.registerODataService({baseUrl:"/odata/v2/restricted/",serviceGroup:s,serviceName:["PeopleSearchListEntity","PersonSimpleSearchEntity","EmploymentDataEntity","personSimpleSearch"]});r.registerODataService({baseUrl:"/odatav4/servicesfoundation/search/PersonSearchService.svc/v1/",serviceGroup:s,serviceName:["PeopleSearchListEntity","PersonSimpleSearchEntity","EmploymentDataEntity","personSimpleSearch"]});r.finalizeODataRegistry("/odata/v2/restricted/","GACESearch");r.finalizeODataRegistry("/odatav4/servicesfoundation/search/PersonSearchService.svc/v1/",s);var u="oDataV2";var p={oDataV2:{type:"ODataService",serviceName:"personSimpleSearch",serviceGroup:s,baseUrl:"/odata/v2/restricted/"},oDataV4:{type:"ODataService",serviceName:"personSimpleSearch()",serviceGroup:s,baseUrl:"/odatav4/servicesfoundation/search/PersonSearchService.svc/v1/"}};var d="Person-Employment-User";var f={EMPLOYMENT:"EMPLOYMENT",PERSON:"PERSON"};t.register(d,{search:function(r){r=r||{};if(c(r)){return n(r,0)}else{var a=r.legacySearchType;if(a=="People"){e.sap.require("sap.sf.surj.shell.util.PeopleSearchUtil");return t.search(a,e.extend({keys:["TITLE"]},r))}else if(a=="FOPeople"){e.sap.require("sap.sf.surj.shell.util.FOPeopleSearchUtil");return t.search(a,e.extend({keys:["TITLE"]},r))}else{return o(r)}}}});var v={flattenEmployments:i,isGACEAutoCompleteSearch:c};e.sap.setObject("sap.sf.surj.shell.util.GACESearchUtil",v);return v});
sap.ui.predefine("sap/sf/surj/shell/util/JamUtil",["jquery.sap.global","sap/sf/surj/shell/util/Logger","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/util/LinkUtil","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/Util"],function(e,r,t,n,a,i){var u=6e4;var s="jamSimulation.jsp";var o="/inbox/view";var l="/externalapi/layout/rest/v0/jam/fetch_updates/unread_notifications";var f="/fetch_updates/unread_notifications";var c="/search/universal_search2";var p="/search/universal_search_autocomplete";var d="items=inbox&jsonp=?";var g=null;var v=r.getLogger("JamUtil");function m(r){return C(j.getBaseUrl(),p,e.param({output:"json",results:10,group_id:r.groupId||"0",query:r.searchValue}))}function h(r){return C(j.getBaseUrl(),c,e.param({group_id:r.groupId||"0",query:r.searchValue}))}var U={search:function(r){return e.ajax({url:m(r)}).then(function(e){var r=e&&e.ResultSet&&e.ResultSet.Results;return{type:"Jam",items:r||[],hasMore:false,totalCount:r&&r.length}},function(){return MSGS.COMMON_AJAX_DEFAULT_ERROR})},getExternalSearchUrl:function(e){return h(e)},selectIte}};t.register("Jam",U);t.register("JamGroup",U);var j={getBaseUrl:function(){return _("/jamBaseUrl")},getSFBaseUr},getGotoUR},isEnabled:function(){var e=j.getBaseUrl();return!!(e&&typeof e=="string")},isBizXUpdateDisabled:function(){return true},isBizXBackupSupported:function(){return j.isBizXLocation()},isBizXLocatio},getCurrentGroup:function(){var e=window.jamApp;return e&&!e.inHomePage&&e.currentGroup||null},getDefaultGroupId:function(){var e=this.getCurrentGroup();return e&&typeof e.toParam=="function"&&e.toParam()},getDefaultGroupLabel:function(){var e=this.getCurrentGroup();return e&&typeof e.get=="function"&&e.get("name")},_delayPromise:D,_createJamAutoCompleteUrl:m,_createJamActionUrl:h,_search:U.search,_getExternalSearchUrl:U.getExternalSearchUrl,_selectItem:U.selectItem,_pageHeaderAvailable:S,getNotificationCount:function(){if(g){return g}return g=j._delayPromise(S()).then(function(){if(j.isEnabled()){return b()}else{return e.Deferred().reject("Jam is not enabled in your company")}})}};function b(){var r=e.Deferred();var t=j.isBizXBackupSupported();var n=null;var a=null;var i=0;var s=0;function o(l){var f=i>0&&t;var c=sap.ui.getCore().getModel("pageHeader");if(x()){l=true}if(f){s++;var p=j.isBizXUpdateDisabled();c.setProperty("/bizxUpdateDisabled",p);if(s>1){if(p){l=true}}}if(l){var d=(new Date).getTime()-a;setTimeout(e.proxy(o,null,false),Math.max(0,u-d))}else{a=(new Date).getTime();y(f).done(function(e){c.setProperty("/failedJamSessionCheck",false);if(n!==e){n=e;r.notify(e)}o(true)}).fail(function(e){i++;var n=f?"bizx":"jam";v.error("Possible "+n+" failure, statusCode returned as "+e+(f||!t?"":" will attempt a BizX call as backup."));var a=e==401||e==403;c.setProperty("/failedJamSessionCheck",a);if(f){r.reject(e)}else{o(!t)}})}}o(false);return r.promise()}function y(r){var t,n;if(r){t=j.getSFBaseUrl();n=l}else{t=j.getBaseUrl();n=f}var i=a.invokeJsonpService(C(t,n,d));return i.then(function(t,n){if(r&&window.SFSessionTimeout&&typeof SFSessionTimeout.reset=="function"){SFSessionTimeout.reset()}if(t==null&&n&&typeof n=="object"){return e.Deferred().reject(n.statusCode)}else if(t==null){return e.Deferred().reject("unknown_error")}else{var a=null;if(t!=null){a=parseInt(t,10);if(isNaN(a)){var i=t.notifications_count;if(!isNaN(i)){a=i}else{a=t.total}}}return parseInt(a,10)>0?a:0}})}function S(){return },10)}function _(e){var r=sap.ui.getCore().getModel("pageHeader");return r&&r.getProperty(e)}function B(r,t){var n=e.Deferred();if(r()){n.resolve()}else{function a(){setTimeout(function(){if(r()){n.resolve()}else{a()}},t)}a()}return n.promise()}function D(r){var t=e.Deferred();var n=e.Deferred();r.done(function(){var e=arguments;n.done(function(){t.resolve.apply(t,e)})}).fail(function(){var e=arguments;n.done(function(){t.reject.apply(t,e)})}).progress(function(){var e=arguments;n.don})});setTimeou},1);return t.promise()}function x(){var e=document;return e.hidden||e.webkitHidden||e.mozHidden||e.msHidden}function C(e,r,t){var n=e,a,i;if(!n){n=r}else if(r){a=n.indexOf("?");if(a<0){a=n.length}i=n.lastIndexOf(";",a);if(i>=0){a=i}var u=n.substring(a);if(e.indexOf(s)>=0){n=n.substring(0,a)+"?path="+encodeURIComponent(r);if(u){n+=u.substring(1)}}else{n=n.substring(0,a)+r+u}}if(t){if(n){n+=n.indexOf("?")>=0?"&":"?"}else{n="?"}n+=t}return n}e.sap.setObject("sap.sf.surj.shell.util.JamUtil",j);return j});
sap.ui.predefine("sap/sf/surj/shell/util/LinkUtil",["jquery.sap.global","sap/sf/surj/shell/util/SMRF","sap/sf/surj/shell/util/Util"],function(e,i,n){"use strict";var r={gotoURL:function(e,i,n,s){var t=e.indexOf("#");if(!i&&t!=0){var u="_s.crb=";if(window.ajaxSecKey&&e&&e.indexOf("javascript:")!=0&&e.indexOf(u)<0){var l=e.indexOf("?");if(t>=0&&l>t){l=-1}var a="";if(t>=0){a=e.substring(t);e=e.substring(0,t)}e+=(l<0?"?":"&")+u+window.ajaxSecKey+a}o(e)}else{r.secureUrl(e,true).the})}function o(e){try{if(n){var i=n.specs||"menubar=1,location=1,status=1,resizable=1,scrollbars=1";if(!s){i="noopener,noreferrer,"+i}window.open(e,n.name||"_blank",i,n.replace)}else{window.location.href=e}}catch(e){}}},handle:function(e){if(typeof e)var i=e.onclick;var r=e.url;if(i&&typeof i=="string"){n.dangerouslyEvalScript("(function(){"+n.maybeUnescapePlainText(i)+"})()")}else if(typeof i=="function"){i()}else if(typeof r=="string"){var s=undefined;if(e.target=="_blank"){s={}}this.gotoURL(r,false,s)}},isSecureRequired:function(e){return!n.isBizXDomain(e)&&e.indexOf(n.getLocationOrigin())!==0&&e.match(/^https?:?\/\//)},secureUrl:function(e,n){var s,t;function u(){if(window.secureUrl){return secureUrl(e)}else if(!r.isSecureRequired(e)){return e}else if(n){i.loadPromise(["/ui/juic/js/GlobalFunctions.js"]).the},t)}else{i.loadSync(["/ui/juic/js/GlobalFunctions.js"]);return secureUrl(e)}}if(n){return new Promise(function(e,i){s=e;t=i;var n=u();if(n!=null){s(n)}})}return Promise.resolve(u())}};e.sap.setObject("sap.sf.surj.shell.util.LinkUtil",r);return r});
sap.ui.predefine("sap/sf/surj/shell/util/Logger",["jquery.sap.global"],function(e){var n={isEnable},setEnable},enableLoggers:function(){for(var e=0;e<o.length;e++){this.setEnabled(o[e],true)}},addLogListene},removeLogListene},setConsoleEnabled:function(e){if(e){this.addLogListener(t)}else{this.removeLogListener(t)}},getLogger:function(){var e={isEnable}};var t=r(arguments);for(var s=0;s<o.length;s++){(function(s){e[s.toUpperCase()]=s;e[s]=function(){var e=[t.join(" ")+": "];r(arguments,e);n[s].apply(n,e)}})(o[s])}return e},_addEventListener:function(e,n,t){var r=this._events||(this._events={});(r[e]||(r[e]=[])).push({handler:n,callback:t?t:null})},_removeEventListener:function(e,n){var t=this._events,r;if(t&&(r=t[e])){for(var s=r.length;--s>=0;){if(r[s].handler===n){r.splice(s,1)}}if(!r.length){delete t[e]}}},dispatch:function(e,n){n.type=e;n.target=this;var t=this._events;if(t&&(t=t[n.type])){var r=t.slice(0);var s;for(var o=0;o<r.length;++o){try{var i=r[o].handler;var a=r[o].callback;if(a){i[a](n)}else{i.handleEvent(n)}}catch(e){s=e}}if(s)throw s}}};var t={handleEvent:function(e){var n=e.level;var t=s(e.messages);if(typeof console!="undefined"&&console.log){var r=["["+n.toUpperCase()+"] "].concat(t);if(typeof console.log.apply=="function"){console.log.apply(console,r)}else{console.log(r.join(""))}}}};function r(e,n){n=n||[];for(var t=0;t<e.length;t++){n.push(e[t])}return n}function s(e){var n,t;for(var r=0;r<e.length;r++){t=e[r];if(t instanceof Error){n=[r,1];n.push(t);if(t.stack){n.push(" Stack: ",t.stack)}else{if(t.fileName){n.push(" File Name: ",t.fileName,".")}if(t.lineNumber||t.lineNo){n.push(" Line Number: ",t.lineNumber||t.lineNo,".")}}e.splice.apply(e,n);r+=n.length-1}}return e}var o=["error","warn","debug","info"];var i={error:true};for(var a=0;a<o.length;a++){(function(e){n[e.toUpperCase()]=e;n[e]=function(){if(i[e]){this.dispatch("log",{level:e,messages:r(arguments)})}}})(o[a])}n.setConsoleEnabled(true);var l=typeof RESOURCES!="undefined"&&RESOURCES["/ui/surj/js/Logger.js"];if(typeof l=="string"&&!/[a-f\d]{32}\.js$/.test(l)){n.enableLoggers()}e.sap.setObject("sap.sf.surj.shell.util.Logger",n);return n});
sap.ui.predefine("sap/sf/surj/shell/util/NameFormatter",["jquery.sap.global"],function(e){var r=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var a=r.getText("COMMON_User_Display_Name")||"{0} {1} {2}";var n={isFirstNameFirs},splitFullName:function(r){var a=[];var n=r.middleInitial||r.mi||"";var i=r.firstName||r.fn||"";var t=r.lastName||r.ln||"";if(!i&&!t&&r.fullName){var s=r.fullName.indexOf(" ");if(s>=0){return[r.fullName.substring(0,s),r.fullName.substring(s+1)]}else{return[r.fullName]}}for(var u=0;u<l.length;u++){var f=e.sap.formatMessage(l[u],[i,n,t]);if(!/^\s*$/.exec(f)){a.push(f)}}return a},format:function(r,n){var i=function(e){return!(!e||0===e.length||/^\s*$/.test(e))};if(!r){return""}if(typeof n=="undefined"){n=true}var t=r.firstName!=null?r.firstName:"";var s=r.mi!=null?r.mi:"";var l=r.lastName!=null?r.lastName:"";if(!n){s=""}if(i(t)||i(s)||i(l)){var u=e.sap.formatMessage(a,t,s,l);u=u.trim();u=u.replace(/\s{2,}/g," ");return u}else{return""}}};var i=a.indexOf("{0}");var t=a.indexOf("{2}");var s={"012":[[0,1],[2]],"021":[[0],[2,1]],120:[[1,2],[0]],102:[[1,0],[2]],201:[[2],[0,1]],210:[[2],[1,0]]};var l=function(){var e=[];var r=0;for(var n=0;n<3;n++){var i=a.indexOf("{"+n+"}");if(i>=0){r++}e.push({index:n,included:i>=0,formatIndex:i})}switch(r){case 0:return null;case 1:return[a];case 2:if(e[1].included){return[a]}case 3:var t=e.concat();t.sort(function(e,r){if(e.included&&r.included){return e.formatIndex<r.formatIndex?-1:1}else{return e.included?-1:r.included?1:0}});var l="";for(var n=0;n<3;n++){l+=t[n].index;if(t[n].included){var u=n-1;while(u>=0&&!t[u].included){u--}var f=u<0?"^":"\\{"+t[u].index+"\\}[^\\s\\{]*";f+="(.*\\{"+t[n].index+"\\}";if(n==2){f+=".*)$"}else{f+="[^\\s\\{]*)"}t[n].message=new RegExp(f).exec(a)[1]}}var d=s[l];var v=[];for(var n=0;n<d.length;n++){var m=d[n];var c="";for(var o=0;o<m.length;o++){var p=e[m[o]];if(p.included){c+=p.message}}v.push(c)}return v}}();e.sap.setObject("sap.sf.surj.shell.util.NameFormatter",n);return n});
sap.ui.predefine("sap/sf/surj/shell/util/NotificationUtil", ["jquery.sap.global","sap/base/Log","sap/m/FlexBox","sap/ui/model/json/JSONModel","./JamUtil","../controls/ResponsiveSidePanel","./DeferredUtil"],function(e,t,n,i,o,a,r){"use strict";var l=null;var s=function(){if(!l){l=sap.ui.getCore().getModel("pageHeader")}return l};var u=function(){if(e("body").hasClass("fiori")){return l.getProperty("/headerVersion")>=3?"44px":"53px"}return"82px"};var f=function(){return s().getProperty("/settings/showGlobalNotification")==="true"};var c=function(){return f()||o.isEnabled()};var d=function(){var e=sap.ui.getCore().getModel("globalNotification");if(!e){e=new i;sap.ui.getCore().setModel(e,"globalNotification")}return e};var };var g=function(){return new n({items:[]})};return{getGlobalNotificationPanelId:p,isNotificationEnabled:f,isNotificationPanelEnabled:c,getNotificationModel:d,getGlobalCount:function(){return r.invokeODataService({baseUrl:"/odatav4/NotificationService.svc/",serviceName:"GetNumberOfNewNotifications",method:"POST",data:{userId:sap.ui.getCore().getModel("pageHeader").getProperty("/userInfo/id")}}).the})},togglePanel:function(){if(c()){if(!this._panel){this._panel=new a(p(),{top:u(),modal:false,from:"end",closeOnClick:true,widthThreshold:384,content:[this._createUIComponent()],afterHide:function(){e(".icon.globalJamCount").blur();var t=sap.ui.getCore().byId("current-user-notification-count");if(t){t.$().attr("aria-expanded",false)}}})}this._panel.isShown()?this._panel.hide():this._panel.show();return this._panel}return null},_createUIComponent:g}});
sap.ui.predefine("sap/sf/surj/shell/util/Observable",[],function(){"use strict";return{createObservable:function(){var e={observers:{},addEventListener:function(t,n){e.attachEvent(t,n)},removeEventListene},attachEvent:function(t,n){var r=e.observers;if(typeof n==="function"){r[t]=r[t]||[];r[t].push(n)}},detachEvent:function(t,n){var r=e.observers;r[t]=(r[t]||[]).filte})},createEvent:function(e,t){return{getParamete},getParameters:function(){return t},getI}}},fireEvent:function(t,n){var r=e.observers;var c=e.createEvent(t,n);(r[t]||[]).concat().forEach(function(n){try{n.__once&&e.detachEvent(t,n);n(c)}catch(e){console.error(e)}})},cleanu}};return e}}});
sap.ui.predefine("sap/sf/surj/shell/util/PasswordUtil",["jquery.sap.global","sap/sf/surj/shell/util/LinkUtil","sap/sf/surj/shell/util/Util"],function(e,s,a){"use strict";var i={redirectPasswordChange:function(){var e=window.pageHeaderJsonData||{};var a=e.pageInfo;var i=e.baseUrl||e.defaultBaseUrl||"";var n=i+"/sf/options";if(a&&a.moduleId){n+="?change_pwd_redirect="+encodeURIComponent(a.moduleId)}s.gotoURL(n)},checkPasswordChange:function(){var e=((window.pageHeaderJsonData||{}).settings||{}).isPwdChangeRequired;if(e+""==="true"){if(a.isRunningBaseDomain()){a.initPwdChange()}else{if(a.isBaseDomainCORSEnabled()){i.redirectPasswordChange()}else{console.info("Password change might be required, but cannot be verified")}}}}};e.sap.setObject("sap.sf.surj.shell.util.PasswordUtil",i);return i});
sap.ui.predefine("sap/sf/surj/shell/util/PeopleSearchUtil",["jquery.sap.global","sap/sf/surj/shell/util/Util","sap/sf/surj/shell/util/SearchUtil","sap/sf/surj/shell/util/LinkUtil","sap/sf/surj/shell/util/DeferredUtil"],function(e,r,a,t,s){var l=sap.ui.getCore();a.register("People",{search:function(e){var r=0;if(e.actionId){}else{return c(e,r,{})}},getExternalSearchUrl:function(a){var t={};t[i]=a.searchValue;return r.ensureBaseDomain(n+"?"+e.param(t))},selectItem:function(a){var s=a.item;var l={};if(s.userId||s.userIdEncoded){var n=window.pageHeaderJsonData;var i=n&&n.settings;var o=i&&i.encryptUserIdInURLEnabled=="true";if(!o){o=e("#encryptUserIdInURLEnabled").attr("content")=="true"}if(o){l.selected_user_encoded=s.userIdEncoded}else{l.selected_user=s.userId}}else{return this.externalSearch()}t.gotoURL(r.ensureBaseDomain(u+"?"+e.param(l)))}});var n="/sf/directory";var u="/xi/ui/pages/empfile/liveprofile.xhtml";var i="peopleSearchString";var o={type:"ajaxService",module:"hris",serviceName:"quickcardController",serviceMethod:"searchUser"};var d={adminPage:"false",findtype:"fullname",groupId:"0",includeExternalUsers:"true",includeInactive:false,m:"quickcard",maxresults:10};function c(r,a,t){var l=e.extend({},d,{searchValue:r.searchValue,page:a+1,maxresults:r.maxresults,keys:r.keys});var n=t.lastIndex;if(n===0||isNaN(n)){n=a*l.maxresults}else{n++}l.startIndex=n;return s.createDeferred(e.extend({arguments:[l]},o)).then(function(e){var s=t.totalCount;if(s==null){s=t.totalCount=e.totalCount}var l=e.items;var n=l&&l.length||0;var u=0;if(n>0){for(var i=0;i<n;i++){var o=l[i];var d=o.indexRef;if(d>u){u=d}}}t.lastIndex=u;var f=t.totalReturned=(t.totalReturned||0)+n;var v=n>0&&f<s;return{type:"People",items:l,totalCount:s,hasMore:v,more:v?function(){return c(r,a+1,t)}:null}})}});
sap.ui.predefine("sap/sf/surj/shell/util/Polyfill",[],function(){"use strict";if(!sap.ui.require("sap/base/Log")){sap.ui.requireSync("jquery.sap.global");sap.ui.define("sap/base/Log",function(){return jQuery.sap.log})}if(!sap.ui.require("sap/ui/events/KeyCodes")){sap.ui.requireSync("jquery.sap.global");sap.ui.define("sap/ui/events/KeyCodes})}});
sap.ui.predefine("sap/sf/surj/shell/util/PostMessageAPI", ["sap/ui/base/EventProvider","./Util"],function(e,t){"use strict";var n=new e;n._msgPrefix="POST_ID_";n._msgId=0;n.handleMessage=function(e){if(!(e&&this.isTargetOrigin(e.origin))){return}var t=e.data;if(typeof t==="string"){try{t=JSON.parse(t)}catch(e){return}}if(t&&typeof t.request_id=="string"&&typeof t.service=="string"){var n={data:t,originalEvent:e};this.fireEvent("message",n);this.fireEvent(this.getMessageEventId(t),n)}};n.sendRequest=function(e,t,n){var i=this;return new Promise(function(r,s){var a=i.getNextRequestId();var g={type:"request",service:e,body:t||{},request_id:a};if(!n){i.attachEventOnce(i.getResponseEventId(e,a),function(e){var t=e.getParameter("data");if(t&&t.status=="success"){r(t.body)}else{s(t.body)}})}var u=i.postMessage(g);if(u&&n){r({status:"success"})}if(!u){s({status:"failure",body:{message:"could not postMessage to targetWindow"}})}})};n.sendResponse=function(e,t,n){return this.postMessage({type:"response",status:t,service:e.service,request_id:e.request_id,body:n})};n.attachRequestHandler=function(e,t){this.attachEvent(this.getRequestEventId(e),t)};n.attachRequestHandlerOnce=function(e,t){this.attachEventOnce(this.getRequestEventId(e),t)};n.detachRequestHandle};n.postMessage=function(e){if(this.isSupported()){var t=this.getTargetWindow();var i=this.getTargetOrigin();n.fireEvent("messageSent",{data:e,targetWindow:t,targetOrigin:i});t.postMessage(JSON.stringify(e),i);return true}return false};n.isTargetOrigin=function(e){var t=this.getTargetOrigin();return t=="*"||t==e};function i(){var e=["parentFrameOrigin"];for(var n=0;n<e.length;n++){var i=t.findURLParam(e[n]);if(i){return r(i)}}return null}function r(e){if(e){e=decodeURIComponent(e).toLowerCase();var t=/^(.*)\/*$/.exec(e);if(t){e=t[1]}}return e}function s(e){return e?e.split("|").map(r):null}n.setTargetOrigin=function(e){this._sTargetOrigin=e};n.getTargetOrigin=function(){if(this._sTargetOrigin){return this._sTargetOrigin}var e=null;var t=window.pageHeaderJsonData;if(t&&t.settings){e=s(t.settings["inframe.parentFrameOriginUrl"])}if(!e){var n=document.getElementById("inframe.parentFrameOriginUrl");e=s(n&&n.getAttribute("content"))}if(e&&e.length>0){if(e.length>1){var r=i();if(r&&e.indexOf(r)>=0){this._sTargetOrigin=r}}this._sTargetOrigin=this._sTargetOrigin||e[0]}return this._sTargetOrigin};n.isSupported=function(){return this.getTargetOrigin()!=null&&this.getTargetWindow()!==window.self};n.start=function(){if(!this._fnHandler){this._fnHandler=this.handleMessage.bind(this);this.getSourceWindow().addEventListener("message",this._fnHandler)}};n.stop=function(){if(this._fnHandler){this.getSourceWindow().removeEventListener("message",this._fnHandler);this._fnHandler=null}};n.getResponseEventI};n.getRequestEventI};n.getMessageEventId=function(e){if(e){var t=e.type=="response"?":"+e.request_id:"";return e.type+":"+e.service+t}return null};n.getNextRequestI};n.getSourceWindo};n.setTargetWindow=function(e){this._oTargetWindow=e};n.getTargetWindow=function(){if(this._oTargetWindow){return this._oTargetWindow}return window.parent};n.start();return n});
sap.ui.predefine("sap/sf/surj/shell/util/ProxyUtil",["jquery.sap.global","sap/m/Dialog","sap/m/Label","sap/m/Button","sap/sf/surj/shell/controls/SearchInput","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/SearchUtil"],function(e,t,o,a,s,r,n){function l(t){if(window.TopNavLogout){var o=e.sap.getObject("pageHeaderJsonData.defaultBaseUrl");if(o&&window.location.href.indexOf(o)!=0){o=null}if(!o){o=e.sap.getObject("pageHeaderJsonData.baseUrl")||""}var a=Intl.DateTimeFormat().resolvedOptions().timeZone;var s={fbacme_o:"options",opt_os:"proxy",fbproxy_delegator:t,fbproxy_sel_delegator_btn:"Go",fbproxy_timezone:a};var r=o+"/acme?"+e.param(s);var n=window.ajaxSecKey;if(n){r+="&_s.crb="+n}window.TopNavLogout.navigateAfterLoggingOutFromSPs(r)}else{sap.ui.require(["sap/sf/surj/shell/util/TopNavLogout"],function(){if(window.TopNavLogout){l(t)}else{e.sap.log.error("Could not load TopNavLogout, proxy now impossible")}})}}var i=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var u,p,c;var f=n.isAllowOneCharQuery()?1:2;var g={showDialog:function(){if(!u){p=new s({alwaysBottom:true,searchType:"Person-Employment-User",startSuggestion:f,throttleTime:1e3,settings:{findtype:"proxy",additionalCriteria:{resultScope:"Employment",includeInactivePersons:"NO",enforceIgnoreProvisioningFlags:"YES",displayLocation:"YES",useAlternativePermissionType:"NONE_com.successfactors.proxy.util.ProxyNowSearchUserFilter",displayContingentWorkersInformation:"NO"}},liveChang},itemSelected:function(e){c=e.getParameter("selectedItem");p.setValueState("None")}});u=new sap.m.Dialog("bizXProxyDialog",{title:i.getText("PROXY_MODULE_AUTOCOMPLETE_TITLE"),content:[new sap.m.Label({text:i.getText("PROXY_MODULE_AUTOCOMPLETE_LABEL"),labelFor:p}),p],beginButton:new sap.m.Button({text:i.getText("COMMON_Cancel"),press:function(){u.close()}}),endButton:new sap.m.Button({type:"Emphasized",text:i.getText("COMMON_Ok"),press:function(){if(c){var t=c.userId||c.assignmentId;var o=Intl.DateTimeFormat().resolvedOptions().timeZone;r.invokeAjaxService({serviceName:"proxyController",serviceMethod:"getProxyTimesforUser",arguments:[t,o]}).then(function(e){console.log("Callback of check proxy time",e);if(e){p.setValueStateText(e);p.setValueState("Error");p.focus()}else{l(t);u.close()}})}else{p.setValueStateText(i.getText("PROXY_MODULE_AUTOCOMPLETE_ERROR_MSG"));p.setValueState("Error");p.focus()}}})});u.open()}else{c=null;p.setValueState("None");p.setValue("");u.open()}},proxyTo:l,_fireItemSelecte}};window.proxySearchController={show:g.showDialog};e.sap.setObject("sap.sf.surj.shell.util.ProxyUtil",g);return g});
sap.ui.predefine("sap/sf/surj/shell/util/SMRF", [],function(){var r;var sap=window.sap;function n(n){var e=window.SMRF;if(e){return n?Promise.resolve(e):e}if(n){if(!r){r=new Promise(function(r,n){sap.ui.require(["xweb/smrf-loader/smrf"},n)})}return r}sap.ui.requireSync("xweb/smrf-loader/smrf");return window.SMRF}return{_rese},updateSMRFVariables:function(r){return n(true).then(function(n){return n.updateSMRFVariables(r)})},normalizeUrl:function(r){var n=(/^ajaxservice:([^?.]*)(?:\.([^?]*)|)(?:\?.*|)$/.exec(r)||[]).slice(1);var e=n[0];var i=n[1];if(e){var o=i?e:"v4";var u=i?i:e;return"/ui/"+o+"/js/ajaxservice/"+u+"ASProxy.js"}return r},loadPromise:function(r){return n(true).then(function(n){return n.loadPromise(r)})},load:function(r,e){const i=arguments;n(true).the}).catch(function(r){console.error(r)})},loadSyn}}});
sap.ui.predefine("sap/sf/surj/shell/util/SearchUtil",["jquery.sap.global","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/LinkUtil","sap/sf/surj/shell/util/Logger","sap/sf/surj/shell/util/Config","sap/sf/surj/shell/util/Util","sap/ui/base/EventProvider"],function(e,r,t,n,a,i,l){var s={jsup:{search:function(r){r=e.extend({m:"autocomplete",findtype:"fullname",maxresults:30,hideusername:false,includeInactive:false,includeExternalUsers:false,includeExternalUsersNonMtr:false,adminPage:false,groupId:0},r);var t=e.ajax({dataType:"json",url:"/jsup?"+e.param(r)});return e.extend(t.then(function(e){var r=u.maybeUnescapePlainText(e&&e.ResultSet&&e.ResultSet.Result,true);var t=r&&r[0]&&r[0].Count||0;return{totalCount:t,hasMore:r.length<t,items:r,more:null}}),{abort:e.proxy(t.abort,t)})}}};var u={maybeUnescapePlainTex},isAllowOneCharQuery:function(){var e=["ja","ko","zh"];return e.indexOf(sap.ui.getCore().getConfiguration().getLocale().getLanguage())>=0},createThrottle:function(r){r=new a(r,{throttleTime:300,searcher:e.proxy(u.search,u)});var t=r.searcher;if(e.isArray(t)&&typeof t[0]=="function"){t=e.proxy(t[0],t[1])}var i=r.throttleTime;var l=new sap.ui.base.EventProvider;var s,o,f=0;e.extend(l,{change:function(r,a){s&&s();s=o=null;var u=t;var c=Array.prototype.slice.call(arguments);var p=false;var h=++f;var v=null;var g=null;var d=0;if(typeof r=="function"){u=r;c=[]}else if(c.length==1||typeof r=="object"){a=r;r=null}function y(e){return function(){if(!p&&h==f){return e.apply(this,arguments)}}}function m(r){var t=!v;l.fireEvent("pending",{pending:true});r=r||u.apply(null,c);v=r.always(function(){if(t){l.fireEvent("reset")}l.fireEvent("pending",{pending:false})}).done(y(function(r){var i=r.hasMore&&typeof r.more=="function";if(i){o=y(function(){o=null;l.fireEvent("pending",{pending:true});m(r.more())})}var s=r.items;var u=d;if(e.isArray(s)){d+=s.length}try{l.fireEvent("pageReady",{first:t,itemOffset:u,type:r.type,criteria:a,totalCount:Math.max(r.totalCount||0,s?s.length:0),hasMore:r.hasMore,items:s,moreAvailable:i,response:r})}catch(e){n.error(e)}})).fail(}))}s=y(function(){p=true;g!=null&&clearTimeout(g);if(v&&v.state()=="pending"){if(typeof v.abort=="function"){v.abort()}l.fireEvent("pending",{pending:false})}g=v=null});g!=null&&clearTimeout(g);g=setTimeout(}),i)},hasMor},more:function(){o&&o()},abor}});e.each(["pageReady","pending","error","reset"],function(t,n){var a=null;var i=r[n];if(e.isArray(i)&&typeof i[0]=="function"){i=e.proxy(i[0],i[1])}if(typeof i=="function"){l.attachEvent(n,i)}});return l},search:function(r,t){var n=s[r];if(n&&typeof n.search=="function"){return n.search(t)}else{return e.Deferred().reject("Invalid search type: "+r).promise()}},externalSearch:function(e,r){var n=s[e];if(n&&typeof n.getExternalSearchUrl=="function"){t.handle({url:n.getExternalSearchUrl(r)})}else{throw new Error("Missing getExternalSearchUrl for search adapter for type "+e)}},selectItem:function(e,r){var t=s[e];if(t&&typeof t.selectItem=="function"){return t.selectItem(r)}else{throw new Error("[SearchUtil] Invalid search type")}},register:function(e,r){s[e]=r},getHighlightedMarkup:function(r,t,n,a,i){function l(r){return i?r:e.sap.encodeHTML(r)}if(t){var s=new RegExp(RegExp.escape(t),"i");var u=r.match(s);if(u){var o=r.substring(0,u.index);var f=r.substr(u.index,t.length);var c=r.substr(u.index+t.length);return l(o)+n+l(f)+a+l(c)}else{return l(r)}}else{return l(r)}}};e.sap.setObject("sap.sf.surj.shell.util.SearchUtil",u);return u});
sap.ui.predefine("sap/sf/surj/shell/util/ShowMeUtil",["jquery.sap.global","sap/sf/surj/shell/util/DeferredUtil","sap/sf/surj/shell/util/Util","sap/sf/surj/shell/controls/ShowMeCallout"],function(e,t,a,n){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var o,i,s,u,l,f,c,d,h,p,g,w,v,m;var b=e.Deferred();var M="sfShowmePlay";var I="width=550,height=434";var y="width=550,height=380";var S="width=550,height=590";var C={init:function(){var e=window.pageHeaderJsonData;c=e&&e.showMeInfo;if(!c||!c.featureEnabled||!c.uploadId){return}v=c.notAgainPref;F().done(function(e){l=e;f=J(e);switch(e.state){case"NotExists":if(c.authorPerm){u="author";A();s=new sap.sf.surj.shell.controls.ShowMeCallout({modality:u,isMobile:K()});if(H()){k()}}break;case"Complete":if(!f||c.authorPerm){u=c.authorPerm?"manage":"play";g=Y(e);d=!e.application||e.application!=c.appId;h=q(e);p=G(e);A();if(g){R("redirect/"+g+"/file.jpg").done(function(e){w=e;s=new sap.sf.surj.shell.controls.ShowMeCallout({modality:u,videoTitle:h,videoDesc:p,thumbUrl:w,useDefaultContent:d,isMobile:K()});if(H()){k()}})}}break;case"Uploading":case"Processing":case"Error":if(c.authorPerm){u="manage";A()}break}})},handleNotAgain:function(e){_(e)},showPopup:L,_handleCOEvent:T,_resetPopu}};function T(e){switch(e.action){case"notAgain":_(e.flag);break;case"manageShowMe":D();break;case"playShowMe":B();break;case"recordShowMe":E();break;case"playShowMeAuthorHelp":j();break}if(s){s.close()}}function k(){var e=sap.ui.getCore().byId("showMeButton");s.setEventHandler(T);if(b.state()=="resolved"){s.openBy(e)}else{b.done(function(){s.openBy(e)})}}function H(){return!v&&!te()}var O=["alt_subNavShowMe","subNavShowMe"];function U(){for(var t=0;t<O.length;t++){var a=O[t];if(e("#"+a).length>0){return a}}return null}function A(){var t=sap.ui.getCore();if(t.byId("showMeButton")){return}var a=new sap.m.Button("showMeButton",{icon:"sap-icon://play",tooltip:r.getText("COMMON_SHOW_ME_TOOLTIP"),press:P,customData:new sap.ui.core.CustomData({key:"help-id",value:"bizxHeaderShowMeBtn",writeToDom:true})}).addStyleClass("showMeBtn");a.onAfterRendering=function(){b.resolve()};a.attachBrowserEvent("mouseover",function(){if(s&&!s.isOpen()){m=setTimeout(function(){k()},2e3)}});a.attachBrowserEvent("mouseout});var n=false;if(c.pageId=="HOME_TAB"){var o=t.byId("bizXShellCustomHeader");if(o){n=true;if(e(".surjTopNavHeaderBar .sapMBarRight .company-logo").length>0){var i=o.getContentRight().length;o.insertContentRight(a,i-1)}else{o.addContentRight(a)}}}else{var u=t.byId("bizXPage");if(u){n=true;u.addPlacematButton(a)}}if(!n){var l=U();if(l){a.addStyleClass("globalToolbarIcon");a.placeAt(l)}}}function P(){switch(u){case"play":B();break;case"manage":D();break;case"author":E();break}}function _(e){v=e;X("setNotAgainFlag",{flag:JSON.stringify(e)})}function B(){if(o&&!o.closed){o.focus();return}x(M,I,true);V("widgets/playback").done(function(e){L(M,I,true,false,e);if(s){s.close()}})}function j(){if(i&&!i.closed){i.focus();return}x(M,I,true,true);z().done(function(e){L(M,I,true,true,e);if(s){s.close()}})}function E(){N("widgets/record",y}function N(e,t){if(o&&!o.closed){o.focus();return}x(c.uploadId,t,true);V(e).done(function(e){var a=W();if(a){e+="&d="+a}e+="&check_exists=1";L(c.uploadId,t,true,false,e);if(s){s.close()}})}function x(e,t,n,r){if(a.isSafari()){var i=c.baseUrl?c.baseUrl+"/widgets/loading":"about:blank";o=L(e,t,n,r,i)}else{o=null}}function L(e,t,a,n,r,s){if(o){o.location=r;if(o){o.focus()}}else{var u="status=0,toolbar=0,menubar=0,resizable=1,"+t;if(!s){u="noopener,"+u}if(n){i=window.open(r,e,t,a);if(i){i.focus()}}else{o=window.open(r,e,t,a);if(o){o.focus()}}if(c&&c.authorPerm){ee()}}}function W(){if(typeof window.screenX!="undefined"){return window.screenX+","+window.screenY+","+window.outerWidth+","+window.outerHeight}return""}function R(e){return X("signAPIUrl",{path:"/media/"+c.appId+"/"+c.uploadId+"/"+e,uploadId:c.uploadId,uploadIdHash:c.uploadIdHash})}function V(e){var t=e+"/"+c.appId+"/"+c.uploadId;return $(X("signWidgetUrl",{path:t,uploadId:c.uploadId,uploadIdHash:c.uploadIdHash}).then(function(e){if(c.userLocale){e+="&l="+c.userLocale}if(K()){e+="&layout=m"}return e}))}function z(){return $(X("getHowToVideoUrl").then(function(e){if(c.userLocale){e+="&l="+c.userLocale}return e}))}function F(){return R("status").then(function(a){if(a===""){return e.Deferred().reject()}a+=(a.indexOf("?")>=0?"&":"?")+"callback=?";return t.invokeJsonpService(a)})}function X(a,n){var r={type:"ajaxService",module:"showme",serviceName:"showMeController"};var o={setNotAgainFlag:{serviceMethod:"setNotAgainFlag",parameters:["flag"]},signAPIUrl:{serviceMethod:"signAPIUrl",parameters:["path","uploadId","uploadIdHash"]},signWidgetUrl:{serviceMethod:"signWidgetUrl",parameters:["path","uploadId","uploadIdHash"]},getHowToVideoUrl:{serviceMethod:"getHowToVideoUrl"}};var i=o[a];var s=[];e.each(i.parameters||[],function(e,t){s.push(n[t])});return t.invokeService(e.extend({arguments:s},r,{serviceMethod:a}))}function J(e){return e.meta&&e.meta.draft&&e.meta.draft=="true"}function q(e){return e.meta&&e.meta.title||r.getText("COMMON_SHOW_ME_DEFAULT_VIDEO_TITLE")}function G(e){return e.meta&&e.meta.description?e.meta.description:r.getText("COMMON_SHOW_ME_WATCH_VIDEO")}function Y(t){var a=t.files;if(e.isArray(a)){for(var n=0;n<a.length;n++){var r=a[n];if(r.type=="image/jpeg"&&parseInt(r.width)<=300){return r.id}}}return null}function K(){var t=e("html");return t.hasClass("sapUiMedia-Std-Tablet")||t.hasClass("sapUiMedia-Std-Phone")}var Q=0;var Z;function $(e){sap.ui.require(["sap/m/BusyDialog"],function(t){if(e.state()==="pending"){Q++;if(!Z){Z=new t}Z.open();e.always(function(){if(--Q===0){Z.close()}})}});return e}function ee(){var e=new Date;e.setTime(e.getTime()+12e4);document.cookie="showme-busy=true; expires="+e.toGMTString()+"; path=/}function ae(e){var t=e+="=";var a=document.cookie.split(";");for(var n=0;n<a.length;n++){var r=a[n];while(r.charAt(0)==" ")r=r.substring(1,r.length);if(r.indexOf(t)===0){return r.substring(t.length,r.length)}}return null}e.sap.setObject("sap.sf.surj.shell.util.ShowMeUtil",C);return C});
sap.ui.predefine("sap/sf/surj/shell/util/SuppIconPool",["jquery.sap.global","sap/ui/core/IconPool"],function(e,i){var n=FONT_FAMILY="SF-supp-icons";e.each([["Hierarchal Tree","e700"],["Open","e701"],["Blocked","e702"],["Partially Blocked","e703"],["Open Square","e704"],["Partially Adopted","e705"],["Due","e706"],["Overdue","e707"],["Sort","e708"],["Missing Parts","e709"],["Fire","e70A"],["Dangerous Chemicals","e70B"],["Share","e70C"],["Entertainment","e70D"],["Gift","e70E"],["Add Employee","e70F"],["Edit User Info","e710"],["Import","e711"],["Audio","e712"],["View Comment","e713"],["Steps","e714"],["Magnet","e715"],["Action Keyword","e716"],["Tile Browser","e717"],["Touchbase","e718"],["female","EFFF"],["male","EFFE"],["happy","EFFD"],["sad","EFFC"],["neutral","EFFB"],["building high","EFFA"],["building medium","EFF9"],["building low","EFF8"],["chart high","EFF7"],["chart medium","EFF6"],["chart low","EFF5"],["bar low","EFF4"],["bar medium","EFF3"],["bar high","EFF2"],["circle low","EFF1"],["circle medium","EFF0"],["circle full","EFEF"],["circle empty","EFEE"],["circle thick","EFED"],["key","EFEC"],["starburst","EFEB"],["group leader","EFEA"],["flag","EFE9"],["medal","EFE8"],["matrix","EFE7"],["hourglass","EFE6"],["sunset","EFE5"],["heart","EFE4"],["ring","EFE3"],["icon-heart","e000"],["icon-quarter","e001"],["icon-year","e002"],["icon-equalizer","e003"],["icon-component","e004"],["icon-component-private","e005"],["icon-raw-material","e006"],["icon-sms","e007"],["icon-add-note","e008"],["icon-change-time-horizon","e009"],["icon-table-chart-customization","e00a"],["icon-delegated-important-task","e00b"],["icon-forklift","e00c"],["icon-coins","e00d"],["icon-filter-menu","e00e"],["icon-target-to-date","e00f"],["icon-program","e010"],["icon-phase","e011"],["icon-checklist","e012"],["icon-mirrored-task","e013"],["icon-sub-project","e014"],["icon-checklist-item","e015"],["icon-adhoc-analysis","e016"],["icon-change-analysis","e017"],["icon-review-demands","e018"],["icon-project-definition","e019"],["icon-data-access","e01a"],["icon-define-shortage","e01b"],["icon-review-supplies","e01c"],["icon-change-log","e01d"],["icon-priority-1","e01e"],["icon-priority-2","e01f"],["icon-jam","e020"],["icon-milestone","e021"],["icon-bulleting-with-numbers","e022"],["icon-fs7-indent","e023"],["icon-increase-indent","e024"],["icon-bold","e025"],["icon-italic","e026"],["icon-strike-through","e027"],["icon-underline","e028"],["icon-save-as","e029"],["icon-segmentation","e02a"],["icon-context-menu","e02b"],["icon-snapshot","e02c"],["icon-subtraction-b-a","e02d"],["icon-subtraction-a-b","e02e"],["icon-intersection","e02f"],["icon-union","e030"],["icon-top","e031"],["icon-bottom","e032"],["icon-page-up","e033"],["icon-page-down","e034"],["icon-create-dashboard","e035"],["icon-excelsius-file","e036"],["icon-open-folder","e037"],["icon-neutral","e038"],["icon-split-segmentation","e039"],["icon-manage-budget","e03a"],["icon-blocked","e03b"],["icon-pipette","e03c"],["icon-top-recipe","e03d"],["icon-recipe","e03e"],["icon-ingredients","e03f"],["icon-multiple-charts","e040"],["icon-descending-bars","e041"],["icon-descending-stacked-bars","e042"],["icon-scatter-plot","e043"],["icon-spill","e044"],["icon-fire","e045"],["icon-stratification","e046"],["icon-relationship","e047"],["icon-margin-decomposition","e048"],["icon-control-group","e049"],["icon-comparison-chart","e04a"],["icon-responsible-area","e04b"],["icon-increase","e04c"],["icon-decrease","e04d"],["icon-current-stock","e04e"],["icon-expedite","e04f"],["icon-postpone","e050"],["icon-approved","e051"],["icon-partially-delivered","e052"],["icon-line-bar-chart","e053"],["icon-expand-all","e054"],["icon-submission","e055"],["icon-change-request","e056"],["icon-column-unselected","e057"],["icon-column-selected","e058"],["icon-row-unselected","e059"],["icon-row-selected","e05a"],["icon-stock-requirements","e05b"],["icon-gender-male-and-female","e05c"],["icon-icon-marital-status","e05d"],["icon-birthday","e05e"],["icon-classification","e05f"],["icon-marked-for-deletion","e060"],["icon-bullet-chart","e061"],["icon-remove-filter","e062"],["icon-bank-account","e063"],["icon-savings-account","e064"],["icon-debit-card","e065"],["icon-vip-customer","e066"],["icon-undesirable-customer","e067"],["icon-answered-change-request","e068"],["icon-collected-change-request","e069"],["icon-draw-freehand","e06a"],["icon-draw-circle","e06b"],["icon-completed","e06c"],["icon-answered","e06d"],["icon-traffic-cone","e06e"],["icon-traffic-lights","e06f"],["icon-container","e070"],["icon-container-loading","e071"],["icon-traffic-jam","e072"],["icon-products","e073"],["icon-sidepanel","e074"],["icon-split-screen","e075"],["icon-truck-driver","e076"],["icon-keep-segment","e077"],["icon-exclude-segment","e078"],["icon-separate-segments","e079"],["icon-distribute-segments","e07a"],["icon-next-open-item","e07b"],["icon-where-used","e07c"],["icon-outbound-delivery","e07d"],["icon-outbound-delivery-inactive","e07e"],["icon-outbound-delivery-active","e07f"],["icon-target","e080"],["icon-source","e081"],["icon-material","e082"],["icon-due-date","e083"],["icon-overdue","e084"],["icon-set-as-default","e085"],["icon-face-very-bad","e086"],["icon-face-bad","e087"],["icon-face-skeptical","e088"],["icon-face-neutral","e089"],["icon-face-astonished","e08a"],["icon-face-happy","e08b"],["icon-face-very-happy","e08c"],["icon-face-awful","e08d"],["icon-face-devastated","e08e"],["icon-face-okey-dokey","e08f"],["icon-alarm","e090"],["icon-activate","e091"],["icon-segment-preview-reference-objects","e092"]],function(e,c){i.addIcon(c[0],n,{fontFamily:FONT_FAMILY,content:c[1]})});e.sap.setObject("sap.sf.surj.shell.util.SuppIconPool",i);return i});
sap.ui.predefine("sap/sf/surj/shell/util/ThemeUtil", ["jquery.sap.global"],function(e){function a(e){var a=e&&e.companyId;if(!a){if(window.pageHeaderJsonData){a=window.pageHeaderJsonData.companyId}if(!a){var n=sap.ui.getCore().getModel("pageHeader");if(n){a=n.getProperty("/companyId")}}}return a}function n(e){var a=e&&e.baseUrl;return a||""}var r={getThemeConfig:function(a){return r.getCompanyTheme(a).then(function(r){var t=n(a)+r.urls.config+"&jsonp=?";return e.ajax({url:t,dataType:"jsonp"})})},getCompanyTheme:function(r){var t=a(r);var o=n(r)+"/public/theme-api/info/"+a(r)+";jsonp=?";return e.ajax({url:o,dataType:"jsonp"}).promise()}};e.sap.setObject("sap.sf.surj.util.ThemeUtil",r);return r});
sap.ui.predefine("sap/sf/surj/shell/util/TopNavLogout",["jquery.sap.global"],function(e){var t=null;o.INFRAME_LOGOUT_WAIT_TIME=1e3;o.INFRAME_LOGOUT_USES_IFRAME=false;o.gotoURL=function(e,t){if(o._inframeLogoutAttempted){function i(){if(a){a.close()}PostMessageAPI.sendMessage("logoutComplete")}var n=o.INFRAME_LOGOUT_USES_IFRAME;var r=o.INFRAME_LOGOUT_WAIT_TIME;var a,s;if(!n){var u="resizable=1,scrollbars=1,status=1,height=200,width=400";if(!t){u="noopener,noreferrer,"+u}a=window.open(e,"bizxLogoutPopup",u);n=!a}if(n){s=document.createElement("iframe");var l=s.style;l.position="absolute";l.visibility="hidden";l.left=0;l.top=0;l.width=0;l.height=0;document.body.appendChild(s);setTimeout(function(){s.src=e;setTimeout(i,r)},0)}else{setTimeout(i,r)}}else{if(window.Util&&Util.gotoURL){Util.gotoURL(e)}else{window.location.href=e}}};if(window.PostMessageAPI&&PostMessageAPI.addMessageListener){PostMessageAPI.addMessageListener("logout",function(e){o._inframeLogoutAttempted=window.top!==window.self;o.startLogout()})}o.startLogout=function(){var e=window;var t;if(e.sap&&sap.ui&&sap.ui.getCore){var o=sap.ui.getCore().getModel("pageHeader");t=o&&o.getProperty("/actionLinks")}if(t==null&&e.pageHeaderJsonData&&pageHeaderJsonData.utilityLinks){t=pageHeaderJsonData.utilityLinks.links}for(var i=0;i<t.length;i++){if(t[i].id=="LOGOUT"){var n=document;var r=t[i].onclick;var a=n.createElement("div");a.innerHTML='<span data-onclick="'+r+'"></span>';n.body.appendChild(a);r=a.firstChild.getAttribute("data-onclick");var s=(n.querySelector("meta[name=snonce]")||{}).content;var u=n.createElement("script");if(s){u.nonce=s}u.text="(function(){"+r+"})();";n.body.appendChild(u);return true}}return false};o.logout=function(e,i){if(window.SFSessionTimeout){SFSessionTimeout.clearLastPageVisited()}if(arguments.length==1){o.gotoURL(e)}else{var n=Array.prototype.slice.call(arguments);spUrls=n.slice(2);o.requireBusyDialog(function(n){var r=document.createElement("div");r.id="renderLogout";window.document.body.appendChild(r);var a=new n;var s=setTimeout(function(){a.close();t.logoutCore()},5e3);t=new o(r.id,e,s,i,spUrls);t.logoutSP();a.open()})}};o.requireBusyDialog=function(e){if(window.sap&&sap.ui&&sap.ui.require){sap.ui.require(["sap/m/BusyDialog"],e)}else{})}};o.logoutEditableForm=function(e,i,n,r,a){var s=Array.prototype.slice.call(arguments);s=s.slice(5);o.requireBusyDialog(function(u){var l=document.createElement("div");l.id="renderLogout";window.document.body.appendChild(l);var d=new u;var p=setTimeou},5e3);t=new o("renderLogout",r,p,a,s);t._initFormLogout(e,i,n,r);t.logoutSP();d.open()})};o.updateResponseCount=function(){t.updateResponseCount()};o.navigateAfterLoggingOutFromSPs=function(e){var t=window.pageHeaderJsonData,i,n,r;do{if(!t){alert("WARNING: pageHeaderJsonData global var is unexpectedly not defined!");break}i=t.spLogoutUrls;if(!i||i.length<=0){break}n=t.companyId;if(!n){alert("WARNING: pageHeaderJsonData.companyId property is unexpectedly not defined!");break}r=[e,n].concat(i);o.logout.apply(o,r);return}while(false);o.gotoURL(e)};function o(e,t,o,i,n){this._divId=e;this._init(t,o,i,n)}(function(){var e={_init:function(e,t,o,i){this._logoutUrl=e;this._companyId=o;this._numberOfLogout=0;this._spLogoutFrameList=new Array;this._isLogoutForm=false;this._initFrames(i);this._timeoutHandler=t;var n=[];this.renderHtml(n);var r=document.getElementById(this._divId);if(!r){r=document.createElement("div");r.id="renderLogout"}r.innerHTML=n.join("")},_initFormLogou},_initFrames:function(e){for(var t=0;t<e.length;t++){var o=e[t];var n=new i(o,this._companyId,t);this._spLogoutFrameList.push(n);this._numberOfLogout+=1}},renderHtm},logoutS},updateResponseCount:function(){this._numberOfLogout-=1;if(this._numberOfLogout<1){this.stopTimer();if(!this._isLogoutForm){this.logoutCore()}else{this.logoutCoreForm()}}},stopTime},logoutCor},logoutCoreForm:function(){setField(this._redirectTokenParam,this._redirectTokenValue);setFieldAndSubmit(this._redirectKeyParam,this._redirectKeyValue)}};for(var t in e){o.prototype[t]=e[t]}})(}(function(){var e={_init:function(e,t,o){this._logoutUrl=e;this._companyId=t;this._formName="spLogoutUrlForm"+o;this._frameName="spLogoutUrlFrame"+o},renderHtml:function(e){var t=window.pageHeaderJsonData;var o=t&&t.defaultBaseUrl;if(o&&window.location.href.indexOf(o)!=0){o=null}if(!o){o=t&&t.baseUrl||""}var i=window.ajaxSecKey;e.push('<form name="'+this._formName+'" action="'+o+"/sf/idp/SAML2/slo"+(i?"?_s.crb="+i:"")+'" target="'+this._frameName+'" method="POST">');e.push('<input type="hidden" name="LogoutUrl" value="'+this._logoutUrl+'" />');e.push('<input type="hidden" name="company" value="'+this._companyId+'" />');e.push("</form>");e.push('<iframe name="'+this._frameName+'" src="" width="0px" height="0px" style="visibility: hidden"></iframe>')},submitLogou}};for(var t in e){i.prototype[t]=e[t]}})();e.sap.setObject("sap.sf.surj.shell.util.TopNavLogout",o);return window.TopNavLogout=o});
sap.ui.predefine("sap/sf/surj/shell/util/UserPhotoUtil", ["./Util","./NameFormatter"],function(e,t){"use strict";var o={localpicture:{photoAction:"ps_p_action",photoType:"p_type",userId:"ps_p_uid"},eduPhoto:{photoAction:"photo_action",photoType:"photo_type",userId:"user_id",userIdEncoded:"user_id_encoded"}};var r={photoType:"quickCard",photoAction:"show"};var a={globalPhotoCacheEnabled:null,globalInvalidateCache:(new Date).getTime(),formatUserPhotoSimpl},formatEduPhoto:function(){return a.formatUserPhoto.apply(a,Array.prototype.slice(arguments).concat([{urlType:"eduPhoto"}]))},formatUserPhoto:function(t){function n(e){for(var t=0;t<i.length;t++){var o=i[t];if(o&&o[e]!=null){return o[e]}}}if(typeof t=="string"){return t}var i=arguments,l=n("urlType")||"localpicture",u=o[l];if(!u){throw new Error("Invalid urlType: "+l)}var c=n("companyId");if(!c){if(window.pageHeaderJsonData){c=pageHeaderJsonData.companyId}if(!c){var f=sap.ui.getCore().getModel("pageHeader");c=f&&f.getProperty("/companyId")}}var s=new Map;if(c){s.set("companyId",c)}Object.keys(u).forEach(function(e){var t=u[e],o=n(e)||r[e];if(o){s.set(t,o)}});var p=n("clientPhotoCachingEnabled");if(p||p==null&&a.isPhotoCachingEnabled()){s.set("mod",n("mod")||"");var d=n("expires");if(typeof d=="number"){s.set("expires",d)}}else{s.set("invalidateCache",n("invalidateCache")||a.globalInvalidateCache)}if(typeof s.get("user_id_encoded")==="string"&&s.get("user_id_encoded").length){s.delete("user_id")}var h=[];s.forEach(function(e,t){h.push(t)});return e.ensureBaseDomain("/"+l+"/view"+h.reduce(function(e,t){return e+(e?"&":"?")+encodeURIComponent(t)+"="+encodeURIComponent(s.get(t))},""))},getPhotoMod:function(e,t){if(e&&t){return e+"_"+t}else{return""}},isPhotoCachingEnabled:function(){var e=a.globalPhotoCacheEnabled;if(typeof e=="boolean"){return e}var t=window.pageHeaderJsonData;var o=t&&t.settings;if(o){e=String(o.clientPhotoCachingEnabled)=="true"}else{var r=document.getElementById("clientPhotoCachingEnabled");e=r&&r.content=="true"}return a.globalPhotoCacheEnabled=!!e},formatInitialsFromFullName:function(e,t){if(!e){return""}const o=3;const r=2;let a=e.split(" ");a=a.filter(Boolean);a=a.map(function(e){return e.charAt(0)});if(!a.ever})){return""}return a.length<=(t?r:o)?a.join(""):""},formatInitials:function(e){var o=[];if(typeof e=="string"){e={fullName:e}}if(e){var r=t.isFirstNameFirst();var a=e.firstName||e.fn;var n=e.lastName||e.ln;var i=e.fullName||e.defaultFullName;var l=a&&a.charAt(0);var u=n&&n.charAt(0);l&&o.push(l);u&&o.push(u);if(!r&&o.length>1){o.reverse()}if(o.length==0&&i){var c=e.fullName.match(/\b(\w)/g);if(!c){c=e.fullName.match(/^\s*\S/g)}if(c){o=c.slice(0,2)}else{o=i.charAt(0)}}}return o.map(function(e){return e.toUpperCase()}).join("")},formatFullName:function(e){if(!e){return null}var o=e.defaultFullName;if(!o){o=t.format(e)}return o},getTransparentImg:function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}};return a});
sap.ui.predefine("sap/sf/surj/shell/util/Util", ["jquery.sap.global","sap/ui/base/EventProvider","sap/ui/Device","sap/ui/core/HTML"],function($,EventProvider,Device,HTML){var MESSAGE_SERVICES={};var Util;var CSP_WHITELISTED_URLS=["hyphenopoly.bundle.js","sapui5.hana.ondemand.com"];var SAFE_XHTML=/^(?:[^<>&"']|(?:&(?:[a-z]{2,}|#\d+|#x[\da-f]+);))*$/i;var SF_PROTECTED_POSTMESSAGE_URL="/sf/protected/postmessage";RegExp.escape=function(){var e=["/",".","*","+","?","|","$","(",")","[","]","{","}","\\","&","^"];var r=new RegExp("(\\"+e.join("|\\")+")","g");retur}}();var EXTERNAL_MODULES_WITH_USER_ASSISTANT_SUPPORT=["LEARNING"];var Util={_bPreferredLocaleSupported:null,isRTL:function(e){var r="rtl";if(e){return $(e).hasClass(r)}else{var n=window.pageHeaderJsonData;var i=n&&n.langDir;if(i){return i==r}else{return $(document.body).hasClass(r)}}},isEncryptedUserIdInURLEnabled:function(){return this.getPageMetaSettingFlag("encryptUserIdInURLEnabled")},getPageMetaSettingFlag:function(e,r,n){var i=this.getPageMetaSetting(e,r,n);return i==="true"||i===true},getPageMetaSetting:function(e,r,n){var i=document.querySelector(n||"#"+e);var a;if(i){a=i.getAttribute("content")}else{a=((window.pageHeaderJsonData||{}).settings||{})[e]}if(a==null){return r}return a},isFioriEnabled:function(){var e=window.pageHeaderJsonData;var r=e&&e.fioriEnabled;if(r){return r}else{return $("body").hasClass("fiori")}},findURLParamByUrl:function(e,r){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)";var i=new RegExp(n);var a=i.exec(r);if(a==null)return"";else return a[1]},findURLPara},createIdentifier:function(e,r){var n=r?r:"_";return e.replace(/\W/g,n)},getODataProxyUrl:function(){var e=window.pageHeaderJsonData;var r=e&&e.odataProxyUrl;if(r){return r}var n=window["widget-loader"];if(n&&n.baseDomain){return n.baseDomain.getBaseDomainProxyUrl()}return null},normalizeForLangDir:function(e){if(!e){return""}if(this.isRTL()){return e.replace(/\(/g,"‎(").replace(/\)/g,")‎")}return e},invokeMailToURL:function(e){if(sap.ui.Device.browser.chrome){window.location=e}else{var r="juicMailToFrame",n=$("#"+r),i;n.remove();i=document.createElement("iframe");i.id=r;i.src=e;i.style.display="none";var a=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");i.title=a.getText("COMMON_HIDDEN_FRAME_TITLE")||"Hidden frame used to aid in UI rendering";document.body.appendChild(i)}},initAjaxToken:function(e){e=e||window.pageHeaderJsonData;if(Util._initAjaxTokenPromise){return Util._initAjaxTokenPromise}return Util._initAjaxTokenPromise=Util.getAjaxToken(e).then(function(r){var n=e&&e.baseUrl||Util.getLocationOrigin();window.ajaxSecKey=r;$(document).ajaxSend(function(e,n,i){var a=i&&i.url;if(a&&Util.isBizXDomain(a)&&/(?:https?:\/\/[^\/]|)*\/odata\//.test(a)){n.setRequestHeader("X-Ajax-Token",r)}Util._AddCredentailsForCompanyMessageBundle(a,i)});return r})},_AddCredentailsForCompanyMessageBundle:function(e,r){if(e&&Util.isBizXDomain(e)&&e.indexOf("/messagebundle/"+encodeURIComponent((window.pageHeaderJsonData||{}).companyId)+"/")>=0){r.xhrFields={withCredentials:true}}},getAjaxToken:function(e){if(window.ajaxSecKey){return Promise.resolve(window.ajaxSecKey)}e=e||{};var r=e.baseUrl,n=e.deepLink||"/sf/protected/cors";if(!r){throw new Error("oSettings.baseUrl is required")}return new Promise(function(e,i){$.ajax({url:r+n,xhrFields:{withCredentials:true}}).then(function(r){var n=/ajaxSecKey\s*=\s*['"]([^'"]*)['"]/.exec(r);if(n){e(n[1])}else{$.sap.log.error("AjaxToken Deeplink response did not contain AjaxToken");i("invalidResponse")}},function(e){$.sap.log.error("AjaxToken Deeplink could not be read");i("serverError")})})},getCSPScripttent},dangerouslyEvalScript:function(scriptString){var snonce=this.getCSPScriptNonce();if(!snonce){eval(scriptString);return false}var doc=document;var scriptTag=doc.createElement("script");if(snonce){scriptTag.nonce=snonce}var scriptId="escript_"+Date.now();scriptTag.id=scriptId;scriptTag.text=scriptString+";\ndocument.body.removeChild(document.getElementById('"+scriptId+"'));";doc.body.appendChild(scriptTag);return true},dangerouslyIncludeScript:function(e,r,n){var i=document;var a=i.createElement("script");var t=this.getCSPScriptNonce();if(t){a.nonce=t}a.type="text/javascript";a.src=e;if(r){for(var o in r){a.setAttribute(o,r[o])}}var s=new Promise(function(r){a.o;r()};a.on"+e)}});i.body.appendChild(a);return s},maybeUnescapePlainText:function(e,r){if(Array.isArray(e)){var n=r?[]:e;e.forEach(function(e,i){n[i]=Util.maybeUnescapePlainText(e,r)});return n}else if(e&&typeof e=="object"){var i=r?{}:e;for(var a in e){i[a]=Util.maybeUnescapePlainText(e[a],r)}return i}else if(typeof e=="string"&&SAFE_XHTML.test(e)){return $("<div>"+e+"</div>").text()}return e},fetchPageMetaData:function(e){window.pageHeaderJsonData=$.extend({},e,{enableBaseDomainCheck:true});if(!Util.getODataProxyUrl()){if(!Util.isRunningBaseDomain()&&!Util.isBaseDomainCORSEnabled()){return Promise.reject("getPageMetaData requires CORS enabled")}if(!window.ajaxSecKey){return Promise.reject("getPageMetaData requires ajaxSecKey")}}return new Promise(function(r,n){sap.ui.require(["sap/sf/surj/shell/util/DeferredUtil","jquery.sap.storage"],function(i){var a=window.ajaxSecKey;var t=e.language;var o=e.hcMode;var s=e.companyId;var u=e.userId;var l=e.proxyUserId;var c=e.useAbsPaths!==false;var f=e.altUI5;if(!o){var d=/(hcb|hcw)$/.exec(sap.ui.getCore().getConfiguration().getTheme());if(d){o=d[1]}else{o="normal"}}var g=[["$format","json"],["moduleId",e.moduleId||"NONE"],["useAbsPaths",c],["hcMode",o]];if(u){g.push(["userId",u])}if(s){g.push(["companyId",s])}if(t){g.push(["locale",t])}if(e.pageQualifier){g.push(["pageQualifier",e.pageQualifier])}if(e.disableCompanyTranslations){g.push(["disableCompanyTranslations",e.disableCompanyTranslations])}if(l){g.push(["proxyUserId",l])}if(f){g.push(["altUI5",f])}if(a){g.push(["_s.crb",a])}var p=[];if(!t&&e.languageKey){p.push(["languageKey",e.languageKey])}var v=g;if(p.length>0){v=v.concat(p)}var m;m="PageMetaData_"+v.map(function(e){return ,"")}).join("-")}).join("_");var h=m&&a&&!e.disableStorage&&$.sap.storage("session","_BizX_");var S=h&&h.get(m);if(S){r(S)}else{i.invokeODataService({baseUrl:"/odata/v2/restricted/_PageMetaData_/",serviceName:"getPageMetaData",urlParams:g.rrn e},{})}).then(function(e){S=i.normalizeODataResponse(e,"PageMetaData");if(h&&Util.isPageMetaSessionStorageEnabled(S)){h.put(m,S)}r(S)},function(e,r){jQuery.sap.log.error($.sap.getObject("responseJSON.error.message.value",4,r)||e);n("serverError")})}})})},isPageMetaSessionStorageEnabled:function(e){return e&&(e.settings||{}).isPwdChangeRequired!=="true"},fetchPageNavigations:function(e){return new Promise(function(r,n){sap.ui.require(["sap/sf/surj/shell/util/DeferredUtil","jquery.sap.storage"],function(i){var a=e.moduleId;var t=e.pageId;var o=e.language||e.languageKey;var s=e.userId;var u=window.ajaxSecKey;var l="PageNavigations_"+t+"_"+o+"_"+s+"_"+u;var c=u&&!e.disableStorage&&$.sap.storage("session","_BizX_");var f=c&&c.get(l);if(f){r(f)}else{var d={moduleId:a,pageId:t};if(e.tileCatalogUtilityLink){d.tileCatalogUtilityLink="true"}i.invokeODataService({baseUrl:"/odata/v2/restricted/_PageMetaData_/",serviceName:"getPageNavigations",urlParams:d}).then(function(e){f=i.normalizeODataResponse(e,"PageNavigations");c&&c.put(l,f);r(f)},function(e,r){$.sap.log.error($.sap.getObject("responseJSON.error.message.value",4,r)||e);n("Error to fetch Navigatoins")})}})})},initPageHeader:function(e){var r=["vsaas_b2205","vsaas_b2305"];if(pageHeaderJsonData&&r.includes(pageHeaderJsonData.altUI5)){e.bodyClasses+=" fioriFDLoaded"}return Promise.all([Util.initPageHeaderModel(e),Util.initThemeRoots(e),Util.initGlobalTheme(e)])},_getLanguage:function(e){if(e){return/([^-_]*)(?:[-_].*|)/.exec(e)[1]}return""},_isSameLanguage:function(){var e;for(var r=0;r<arguments.length;r++){var n=Util._getLanguage(arguments[r]);if(r==0){e=n}else if(e!=n){return false}}return true},_isLanguageUI5Supported:function(e){var r=sap.ui.getCore().getConfiguration().getLanguagesDeliveredWithCore();if(!r||r.length==0){return false}var n=false;var i=e.split(/[\-_]/);while(i.length>0){if(r.indexOf(i.join("_"))>=0){n=true;break}i.pop()}return n},_rewriteBundleUrl:function(e,r){if(/^(https?:\/\/[^\/]*|\/\/[^\/]*|)\/messagebundle\//.test(e)){if(!Util.isRunningBaseDomain()){var n=/\/(vmod_[^\/]*)\//.exec(e);if(n){var i=Util.getLocationOrigin();i=i.replace(/[^A-Z0-9]+/gi,"");e=e.replace(n[1],n[1]+"-"+i)}}var a=/(.*\/[^_]*)(_[^\/]*|)(\.\w+)$/.exec(e);if(a){var t=a[3];if(t==".properties"){var o=a[2];if(o){o=o.substring(1)}var s=r&&r.userInfo&&r.userInfo.normalizedLocale;if(s){s=s.replace(/-/g,"_");if(o!=s){var u=Util._isSameLanguage(o,s);if(!u&&o=="en"){var l=Util._bPreferredLocaleSupported;if(l==null){l=Util._isLanguageUI5Supported(s);Util._bPreferredLocaleSupported=l}u=!l}if(u){e=a[1]+(s?"_":"")+s+t}}}}}}return e},initLocaleMapping:function(e){return new Promise(function(r,n){var i=function(r,n){if(typeof r==="string"){n=n||{}}else{n=r||{};r=n.name}n.url=Util._rewriteBundleUrl(n.url,e);var i=[n];if(typeof r=="string"){i.splice(0,0,r)}return a.apply(this,i)};var a;var t=sap.ui.getCore().getConfiguration();if(t.getVersion().compareTo("1.58")>=0){sap.ui.require(["sap/base/util/LoaderExtensions"],function(e){a=e.loadResource;e.loadResource=i;r()},n)}else{a=jQuery.sap.loadResource;jQuery.sap.loadResource=i;r()}})},initPageHeaderModel:function(e){window.pageHeaderJsonData=e=$.extend(window.pageHeaderJsonData||{},e);return Promise.all([Util.initLocaleMapping(e),new Promise(function(e,r){sap.ui.require(["sap/ui/model/json/JSONModel"],function(r){sap.ui.getCore().setModel(new r(window.pageHeaderJsonData),"pageHeader");e()})})])},getMaxRange:function(e){var r=e.split(".");r=r.map(function(e,r){if(r==1)return parseInt(e)+1;return r>1?0:e});return r.join(".")},getMinRange:function(e){var r=e.split(".");r=r.map(function(e,r){return r>1?0:e});return r.join(".")},isUI5Themable:function(){var e=sap.ui.resource("","");if(!Util.isBizXDomain(e)){var r=window.pageHeaderJsonData;var n=r&&r.settings;if(n){var i=n.minThemableUI5Version;var a=n.maxThemableUI5Version;var t=sap.ui.getCore().getConfiguration().getVersion();if(i&&t.compareTo(Util.getMinRange(i))<0||a&&t.compareTo(Util.getMaxRange(a))>=0){return false}}}return true},getUI5ThemeRoot:function(e){var r=e.ui5BaseResourcePaths||{};var n,i;var a=sap.ui.getCore().getConfiguration().getVersion();for(var t in r){if(a.inRange(Util.getMinRange(t),Util.getMaxRange(t))){n=r[t];i=t;break}}if(!n){console.warn(sap.ui.version," version does not have bizx theme support!");return}var o=e.themeRoot;if(!o){console.warn("Bizx root theme is not defined!");return}var s="theming!";var u=new RegExp(s+"/verp/ui/.*/resources_.*/resources");var l=o.match(u)[0];if(l.indexOf(i)>0){return o}o=o.replace(u,s+n);return o},initThemeRoots:function(e){var r=e.resourceRoots;if(r&&r.results){r.results.folue)})}else if(r){for(var n in r){$.sap.registerResourcePath(n,r[n])}}var i=Util.getUI5ThemeRoot(e);if(i&&Util.isUI5Themable()){return new Promise(function(r,n){var a=sap.ui.getCore().getConfiguration().getTheme();var t=e.themedLibraries;if(typeof t=="string")t=t.split(",");var o=e.supportedThemes;if(typeof o=="string")o=o.split(",");if(o&&o.length>0&&t&&t.length>0){var s=sap.ui.getCore();var u=false;o.forEach(function(e){var n=e==a;s.setThemeRoot(e,t,i,n);if(s.getConfiguration().getVersion().compareTo("1.61")<0&&n){u=true;s.registerPlugin({startPlugin:function(n){n._updateThemeUrls(e,true);r()}})}});if(!u){r()}}})}return Promise.resolve()},initGlobalTheme:function(e){if($("#globalCss").length==0){$("body").addClass("globalBackground");var r=e.themeCSS;if(r){$("<link />").attr({href:r,type:"text/css",rel:"stylesheet",id:"globalCss"}).appendTo("head")}}return Util.waitForGlobalTheme()},waitForGlobalTheme:function(){var e=100,r=0,n=$("#globalLogoPositionRevealer");return new Promise(function(i,a){function t(){r++;n=n.length>0&&n||$('<div id="globalLogoPositionRevealer" style="display:none"></div>').appendTo(sap.ui.getCore().getStaticAreaRef());if(n.css("left")=="auto"&&r<e){setTimeout(t,10)}else{i()}}t()})},isMessageServic)>=0},getMessageService:function(e,r){if(r){return new Promise(function(n,i){var a=Util.getMessageService(e);if(typeof r!="number"){r=5e3}var t=setTimeout(function(){t=null;i("timeout")},r);function o(e){return function(r){if(t!=null){clearTimeout(t);e(r)}}}a.then(o(n),o(i))})}var n=window.pageHeaderJsonData||{};var i=n.baseUrl,a=6e4,t=n.messageServiceUrl||SF_PROTECTED_POSTMESSAGE_URL;if(!i){throw new Error("oSettings.baseUrl is required")}var o=MESSAGE_SERVICES[i];if(o){return o}var s={parentFrameOrigin:Util.getLocationOrigin()};if(e&&typeof e=="string"){s.deepLink=e}var u=n.pageInfo;if(t==SF_PROTECTED_POSTMESSAGE_URL&&u){s.pageId=u.pageId;s.moduleId=u.moduleId}t+="?"+$.param(s);o=MESSAGE_SERVICES[i]=new Promise(function(e,r){function n(e){var r=e.originalEvent;if(r.origin==i){var n=r.data;var a=n;if(Array.isArray(a)&&a.length>0){a=a[0]}if(typeof a=="string"&&a.indexOf(s)==0){a=a.substring(s.length);c.fireEvent(a,{data:n})}}}function o(){u.unbind("message",n);l.remove();l=u=MESSAGE_SERVICES[i]=null;c.fireEvent("disconnected")}var s="PostMessageAPI_";var u=jQuery(window);var l=jQuery('<iframe class="messageServiceIframe"></iframe>').css({position:"absolute",visibility:"hidden",left:0,top:0,width:0,height:0});var c=new EventProvider;iTimeoutID=setTiut")},a);l.appendTo(sap.ui.getCore().getStaticAreaRef());u.bind("message",n);c.attachEventOnce("ready",function(){if(iTimeoutID!=null){clearTimeout(iTimeoutID);e(c)}});c.attachEventOnce("logoutComplete",function(){o()});c.sendMessage=function(e,r){e=s+e;l[0].contentWindow.postMessage(r?[e,r]:e,i)};c.sendTransaction=function(e){e=e||{};var r=e.request,n=e.parameter,i=e.response||e.request,a=e.timeout||5e3,t=e.validator;if(!r){throw new Error("oSettings.request is required")}return new Promise(function(e,o){function s(r){if(u!=null){var n=true;if(t){if(n=t(r)){c.detachEvent(i,s)}}if(n){clearTimeout(u);u=false;var a=r.getParameter("data");e(a&&a[1])}}}if(typeof t=="function"){c.attachEvent(i,s)}else{c.attachEventOnce(i,s)}var u=setTimeout(function(){if(u!==false){u=null;o("timeout")}},a);c.sendMessage(r,n)})};c.disconnect=o;setTimeout(function(){l.attr("src",i+t)},0)});return o},getLocationOrigin:function(e){if(!e){e=window.location}var r=e.origin;if(!r){r=e.protocol+"//"+e.hostname;var n=e.port;if(n){r+=":"+n}}return r},isBaseDomainCORSEnCORS},isRunningBaseDomain:function(){if(!window.ajaxSecKey){return false}var e=window.pageHeaderJsonData||{};if(e.enableBaseDomainCheck&&(e.baseUrl||e.defaultBaseUrl)){return Util.isBizXDomain(Util.getLocationOrigin())}return true},isBizXDomain:function(e){var r;if(!e||(r=e.charAt(0))=="."||r=="/"&&e.indexOf("//")!=0){return Util.isRunningBaseDomain()}var n=window.pageHeaderJsonData||{};var i=n.baseUrl;var a=n.defaultBaseUrl;var t=n.enableBaseDomainCheck;return!!i&&e.indexOf(i)==0||!!a&&e.indexOf(a)==0||!t&&e.indexOf(location.origin)==0},ensureBaseDomain:function(e,r){if(!Util.isRunningBaseDomain()||r){if(Array.isArray(e)){e.fon,r)})}else if(typeof e=="string"){if(e&&e.indexOf("/")==0&&e.indexOf("//"!=0)){var n=window.pageHeaderJsonData||{};var i=n.baseUrl;if(i){e=i+e}}}else if(e&&typeof e=="object"){var a={};for(var t in e){a[t]=Util.ensureBaseDomain(e[t],r)}return a}}return e},decodeParam:function(e){var r=/^(.*)\#.*$/.exec(e);if(r){e=r[0]}r=/\?(.*)$/.exec(e);return r&&r[1].split("&").reduce(function(e,r){var n=r,i=r.split("="),a;if(i){n=i[0];a=i[1]&&decodeURIComponent(i[1])}n=decodeURIComponent(n);if(/\[\]$/.test(n)){n=n.substring(0,n.length-2);var t=e[n];t=t||[];t.push(a)}else{var t=e[n];if(Array.isArray(t)){t=t.concat([a])}else{t=t!=null?[t,a]:a}}e[n]=t;return e},{})},includeScripts:function(e){return new Promise(function(r,n){sap.ui.require(["sap/sf/surj/shell/util/SMRF"],function(i){i.updateSMRFVariables(["/ui/uicore/js/shell/shell.library.smrf.js"])e(e)}).then(r,n)},n.bind(null,"Could not include SMRF"))})},includeScriptsSync:function(e){var r=sap.ui.requireSync("sap/sf/surj/shell/util/SMRF");r.updateSMRFVariables(["/ui/uicore/js/shell/shell.library.smrf.js"],false);r.loadSync(e)},loadWithAjaxService:function(e,r,n){return new Promise(function(i,a){sap.ui.require(["sap/sf/surj/shell/util/DeferredUtil"],function(t){t.loadAjaxService({module:r,serviceName:n})i,a)},a)},a.bind(null,"Could not load dependencies"))})},initCSP:function(){if(window._initCSPViolations!=null){var e=window._initCSPViolations.errors.length>0;if(e){this.openCSPviolationPopup(window._initCSPViolations.errors[0]);window._initCSPViolations.cleanup()}else{window._initCSPViolations.cleanup();this.handleCSPviolation()}}},isCSPWhiteListedURL:function(e){var r;if(e){var n=new RegExp("[^/]+(?=/$|$)");var i=e.match(n);for(var a=0;a<CSP_WHITELISTED_URLS.length;a++){if(i==CSP_WHITELISTED_URLS[a]){r=true;break}}}return r},openCSPviolationPopup:function(e){if(!e||e.disposition==="report"||this.isCSPWhiteListedURL(e.sourceFile)){return null}return sap.ui.require(["sap/sf/surj/shell/util/AjaxServiceError"],function(r){var n=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");var i=new HTML;i.setContent(n.getText("COMMON_CSP_ERROR",[e.blockedURI,e.violatedDirective]));var a=n.getText("COMMON_Err");r.useUI5Dialog(i,a)})},handleCSPviolation:function(){var e=this;var r=false;document.addEventListener("securitypolicyviolation",function n(i){if(!r){e.openCSPviolationPopup(i)}document.removeEventListener("securitypolicyviolation",n);r=true})},initIPS:function(){return new Promise(function(e,r){if(!Device.system.phone){return sap.ui.require(["sap/sf/ips/Container"],function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.sf.surj.shell.i18n");window.SFIpsFrame.init(r.getText("COMMON_IN_PRODUCT_SUPPORT"));e()},r)}else{e()}})},initKBA:function(){return Util.loadWithAjaxService("/ui/kba/js/kbaQuestionAnswerController.js","passwordmanagement","kbaAnswerCollectionController")ller}).catch(function(e){jQuery.sap.log.error("KBAQuestionAnswerDlgController failure: "+e)})},initPwdChange:function(){return Util.loadWithAjaxService("/ui/passwordmanagement/resources/changepasswordpopup/changePasswordPopup.js","systemprop","passwordChangeController")."+e)})},initFeejs")},setHeaderContrk(e)},getHeaderController:function(){return Util._initHeaderPromise()},getPageMetaData:function(){return Util.getHeaderController()ta()})},openUrl:function(e,r){var n="scrollbars,resizable,height=480,width=730";if(!r){n="noopener,noreferrer,"+n}window.open(e,"sfhelp",n)},_initHeaderPromise:function(){if(!Util._headerPromise){var e=10;var r;Util._headerPromise=Promise.race([new Promise(function(e){Util._headerCallback=e}),new Promise(function(n){function i(){var a=window.BizXHeaderController;if(a){r=null;n(a);return}r=setTimeout(i,e);if(e<1e3)e+=e}i()})])rn e})}return Util._headerPromise},getRole:function(){var e="user";var r=window.pageHeaderJsonData;if(r){var n=r.modules;if(n){for(var i=0;i<n.length;i++){var a=n[i];if(a.id=="ADMIN"){e="admin";break}}}}return e},addPageInitScripts:function(){return Util.getPageMetaData().then(function(e){var r=e.pageInit;if(!r){return}var n=r.globals;if(n&&Util.isRunningBaseDomain()){for(var i=0;i<n.length;i++){var a=n[i];var t=a.name;var o=a.value;if(t&&o){var s=JSON.parse(o);if(t=="webchatMethods"&&s){window[t]={getMemory:function(e){var r={userId:s.userId,accessToken:"Bearer "+s.accessToken,lmsApiServerUrl:s.lmsApiServerUrl,bizxApiServerUrl:s.bizxApiServerUrl,timeZone:(new Date).getTimezoneOffset()/60};return{memory:r,merge:true}}}}else{window[t]=s}}}}var u=r.scripts;if(u){for(var i=0;i<u.length;i++){l(u[i])}}function l(e){if(!e.url&&!e.content){return}if(!e.canRunNoBaseDomain&&!Util.isRunningBaseDomain()){return}var r=e.content;if(!e.url){r&&Util.dangerouslyEvalScript(r);return}var n=Util.getCSPScriptNonce();var i=document.createElement("script");i.type="text/javascript";i.src=e.url;var a=e.attribs;if(n){a=a||{};a.nonce=n}if(a){for(var t in a){i.setAttribute(t,a[t])}}if(r){i.ot(r)}}document.body.appendChild(i)}Util._addScript=l})},isSafari:function(){function e(){this.saf=false;var e=navigator;var r=e.userAgent;this.saf=r.indexOf("Safari")!=-1&&r.indexOf("Edge")==-1}Util.browserInfo=new e;return Util.browserInfo.saf},isUASupportedExternalModule:function(){var e=window.pageHeaderJsonData;var r=e&&e.pageInfo;if(r&&r.moduleId){return EXTERNAL_MODULES_WITH_USER_ASSISTANT_SUPPORT.indexOf(r.moduleId)>=0}return false},generateHashCode:function(e){if(!e)return 0;var r=0;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);r=(r<<5)-r+i;r|=0}return r},getSessionRef:function(){var e=window.ajaxSecKey;var r=window.pageHeaderJsonData;if(!r){return undefined}var n=r.companyId,i=r.userInfo||{};var a=i.id;var t=a+n+e;var o=SESSION_REFS[t];if(!o&&e){o=SESSION_REFS[e]=e.substr(0,4)+this.generateHashCode(t)}return o},doURLFinalization:function(e,r){var n="uires:",i,a,t;e+="";a=e.indexOf(n);if(a==0){a+=n.length;t=e.indexOf("?",a);if(t>=0){i=e.substring(a,t);a=e.indexOf("mod=",t);if(a>=0){t=e.indexOf("&",a);if(t<0){t=e.length}i+=";"+e.substring(a,t)}}else{i=e.substring(a)}i="/public/ui-resource/"+r+"/"+i}else{i=e}return i},transBBCodeToHTML:function(e){var r=e;if(r.indexOf("[")<0)return r;var n=l("\\[([a-z][a-z0-9]*)(?:=([^\\]]+))?]((?:.|[\r\n])*?)\\[/\\1]","g");var i=l("^(\\d+)x(\\d+)$");var a={c:"circle",d:"disc",s:"square",1:"decimal",a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};var t={url:'href="',xurl:'target="_blank" href="',anchor:'name="',email:'href="mailto:'};var o={row:"tr",r:"tr",header:"th",head:"th",h:"th",col:"td",c:"td"};var s={font:"font-family:$1",size:"font-size:$1px",color:"color:$1"};var u={notag:[{"\\[":"&#91;","]":"&#93;"},"",""],code:[{"<":"&lt;"},"<code><pre>","</pre></codg)}function d(e,r){for(var n in r)e=e.replace(l(n,"g"),r[n]);return e}function g(e,r,n,i){if(i&&i.indexOf("[")>-1){i=f(i)}switch(r){case"xurl":case"url":case"anchor":case"email":return"<a "+t[r]+(n||i)+'" rel="noopener">'+i+"</a>";break;case"img":var a=c(n);return'<img src="'+i+'"'+(a?' width="'+a[1]+'" height="'+a[2]+'"':"")+' alt="'+(a?"":n)+'" />';break;case"float":return'<span style="float: '+n+'">'+i+"</span>";break;case"left":case"right":case"center":case"justify":return'<div style="text-align: '+r+'">'+i+"</div>";break;case"b":case"i":case"u":case"s":case"sup":case"sub":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"table":case"tr":case"th":case"td":return"<"+r+">"+i+"</"+r+">";break;case"row":case"r":case"header":case"head":case"h":case"col":case"c":return"<"+o[r]+">"+i+"</"+o[r]+">";break;case"acronym":case"abbr":return"<"+r+' title="'+n+'">'+i+"</"+r+">";break}return"["+r+(n?"="+n:"")+"]"+i+"[/"+r+"]"}var p={};var v={};for(var m in u){p["\\[("+m+")]((?:.|[\r\n])*?)\\[/\\1]"]=function(e,r,n){return u[r][1]+d(n,u[r][0])+u[r][2]}}for(var m in s){v["\\["+m+"=([^\\]]+)]"]='<span style="'+s[m]+'">';v["\\[/"+m+"]"]="</span>"}v["\\[list]"]="<ul>";v["\\[list=(\\w)]"]=function(e,r){return'<ul style="list-style-type: '+(a[r]||"disc")+'">'};v["\\[/list]"]="</ul>";v["\\[\\*]"]="<li>";v["\\[quote(?:=([^\\]]+))?]"]=function(e,r){return'<div class="bb-quote">'+(r?r+" wrote":"Quote")+":<blockquote>"};v["\\[/quote]"]="</blockquote></div>";v["\\[(hr|br)]"]="<$1 />";v["\\[sp]"]="&nbsp;";return f(d(d(r,p),v))},setupWidgetLoader:function(){if(Util.__widgetLoaderConfigured)return Promise.resolve();Util.__widgetLoaderConfigured=true;return new Promise(function(e){sap.ui.require(["xweb/widget-loader/miniapp/util/Bootstrap"],function(r){if(!Util.getODataProxyUrl()&&!Util.isRunningBaseDomain()&&Util.isBaseDomainCORSEnabled()){var n=Util.ensureBaseDomain("/");if(n[n.length-1]=="/"){n=n.substring(0,n.length-1)}r.setupCORS(n).then(e)}else{r.setup().then(e)}})})},getUI5WcZIndex:function(){var e=document.querySelector("ui5-shared-resources");return e&&e.PopupUtilsData&&e.PopupUtilsData.currentZIndex||0},handleHeaderVersionOverride:function(){var e=this.findURLParam("sf-headerVersion");e=e&&parseInt(e);if(e&&window.pageHeaderJsonData){window.pageHeaderJsonData.headerVersion=e}}};var SESSION_REFS={};$.sap.setObject("sap.sf.surj.shell.util.Util",Util);return Util});
sap.ui.require.preload({
	"sap/sf/surj/shell/component/header/manifest.json":'{"_version":"1.8.0","sap.app":{"id":"sap.sf.surj.shell.component.header","type":"application","applicationVersion":{"version":"1.0.0"},"title":"BizXHeader","description":"BizXHeader"},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.30.0","libs":{}},"contentDensities":{"compact":true,"cozy":true},"models":{}}}',
	"sap/sf/surj/shell/component/shell/manifest.json":'{"_version":"1.8.0","sap.app":{"id":"sap.sf.surj.shell.component.shell","type":"application","applicationVersion":{"version":"1.0.0"},"title":"BizXShell","description":"BizXShell"},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal"]},"sap.ui5":{"rootView":{"viewName":"sap.sf.surj.shell.BizXShell","type":"JS"},"dependencies":{"minUI5Version":"1.30.0","libs":{"sap.ui.layout":{},"sap.ui.core":{},"sap.m":{},"sap.sf.surj.shell":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{}}}',
	"sap/sf/surj/shell/controls/GlobalAssignmentMenuItem.js":function(){
sap.ui.define("sap/sf/surj/shell/controls/GlobalAssignmentMenuItem",["sap/sf/surj/shell/controls/BizXMenuListItem","sap/ui/core/Icon"],function(e,s){"use strict";return e.extend("sap.sf.surj.shell.controls.GlobalAssignmentMenuItem",{metadata:{properties:{dimmedText:"string",secondaryText:"string",assignmentTypeText:"string"},aggregations:{supplementalIcons:{type:"sap.ui.core.Icon",multiple:true,singularName:"supplementalIcon"}}}})});sap.ui.define("sap/sf/surj/shell/controls/GlobalAssignmentMenuItemRenderer",["jquery.sap.global","sap/ui/core/Renderer","sap/sf/surj/shell/controls/BizXMenuListItemRenderer"],function(e,s,t){"use strict";var n=e.sap.getObject("sap.sf.surj.shell.controls.BizXMenuListItemRenderer");var r=s.extend(n);var a=e.extend(r,{renderLIAttrie,s)},closeItemTag:function(s,t){var r=t.getDimmedText();if(r){s.write('<span class="bizxGAMIDimmed">');s.writeEscaped(r);s.write("</span>")}var a=t.getSupplementalIcons();a&&e.each(a,function(){this.addStyleClass("bizxGAMISupplIcon");s.renderControl(this)});var i=t.getAssignmentTypeText();if(i){s.write('<span class="bizxGAMIAssignmentTypeText">');s.writeEscaped(i);s.write("</span>")}var l=t.getSecondaryText();if(l){s.write("<br/>");s.writeEscaped(l)}n.closeItemTag(s,t)}});e.sap.setObject("sap.sf.surj.shell.controls.GlobalAssignmentMenuItemRenderer",a);return a});
},
	"sap/sf/surj/shell/fragments/ProductSwitcher.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" \n    xmlns:core="sap.ui.core"><ResponsivePopover contentWidth="720px" id="sapUshellProductSwitcherPopover" showHeader="false" class="sapUiPopupWithPadding productSwitcherPopup" placement="Bottom"><List items="{/products}"><CustomListItem press=".openURL(${targetUrl})" type="Active" class="sapUshellProductSwitcherProduct forceBorderRemove" highlight="None"><VBox height="100%" alignItems="Center" alignContent="SpaceBetween" class="sapUiResponsivePadding"><core:Icon size="24px" height="48px" color="Default" activeColor="Contrast" src="{visual/icon}" class="switcherIcon" /><Title text="{title}" textAlign="Center" titleStyle="H6" wrapping="true" /><Label text="{subtitle}" textAlign="Center" wrapping="true" /></VBox></CustomListItem></List></ResponsivePopover></core:FragmentDefinition>',
	"sap/sf/surj/shell/library.js":function(){
(function(e){"use strict";var s="sap.sf.surj.shell";e.sap.require("sap.m.library");e.sap.require("sap.sf.surj.shell.library");var u=[];var r=s+".controls";u.push(r+".BizXAboutBox");u.push(r+".BizXMenuPopover");u.push(r+".BizXPage");u.push(r+".BizXSearchField");u.push(r+".BizXShell");u.push(r+".BizXSubTabs");u.push(r+".BizXSuggestionItem");u.push(r+".Container");u.push(r+".IntroSuggestionItem");u.push(r+".PeopleSuggestionItem");u.push(r+".ShowMeCallout");u.push(r+".ShowMoreSuggestionItem");u.push(r+".ResponsiveSidePanel");u.push(r+".SearchInput");u.push(r+".SearchResult");u.push(r+".UserPhoto");u.push(r+".ShellBar");e.sap.declare(s+".library");sap.ui.getCore().initLibrary({name:s,version:"1.4.24",dependencies:["sap.m"],types:[],interfaces:[],controls:u,elements:[]})})(jQuery);
},
	"sap/sf/surj/shell/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.sf.surj.shell","type":"library","embeds":["component/header","component/shell"],"applicationVersion":{"version":"1.0.2-SNAPSHOT"},"title":"Common UI shell library","description":"Common UI shell library","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","normal","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.108","libs":{"sap.ui.core":{"minVersion":"1.108.3"}}},"library":{"i18n":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/sf/surj/shell/mvc/GACESearchTest.controller.js":function(){
(functill}}sap.ui.controller("sap.sf.surj.shell.mvc.GACESearchTest",{onInit:function(){e.sap.require("sap.ui.core.format.DateFormat");var r=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var a=this.oModel=new sap.ui.model.json.JSONModel({multiSelectMode:false,smartSuiteMode:true,useQuickcardSearch:false,ajaxServiceHasError:false,odataServiceHasError:false,ajaxServiceSuggestions:[{key:"quickcardController.searchPersonAdvanced",value:{serviceName:"quickcardController",serviceMethod:"searchPersonAdvanced",arguments:[{searchParameters:[{key:"FIRST_NAME",ids:null,values:["carla","admin","vlad4"]},{key:"LAST_NAME",ids:null,values:["carla","grant","user"]}],resultScope:"Person",includeInactiveUsers:"YES",includeInactivePersons:"YES",includeExternalPersons:"YES",includeHomeEmpl:"YES",includeSecondEmpl:"YES",matchType:"S",page:1}]}},{key:"quickcardController.getRenderingInfoPersonAdvancedSearch",value:{serviceName:"quickcardController",serviceMethod:"getRenderingInfoPersonAdvancedSearch",arguments:[["FIRST_NAME","LAST_NAME","USER_NAME","DEPARTMENT","LOCATION","USER_ROLE","RBP_ROLES"]]}},{key:"foundationAutoCompleteController.search",value:{serviceName:"foundationAutoCompleteController",serviceMethod:"search",arguments:[{baseElement:"jobInfo",searchType:"location",hrisElementField:"jobinfo-location",applyTC:"FALSE",target:"FoundationObject",contextualSearchFields:{"jobInfo-company":"7","start-date":"2017-02-09"}}]}},{key:"customFieldAsGOAutoCompleteController.search",value:{serviceName:"customFieldAsGOAutoCompleteController",serviceMethod:"search",arguments:[{baseElement:"jobInfo",searchType:"Department",hrisElementField:"jobInfo-department",applyTC:"FALSE",target:"GenericObject",contextualSearchFields:{"jobInfo-division":"4","start-date":"2017-02-09"}}]}}],odataServiceSuggestions:[{key:"oDataV2",label:"oData V2",value:{serviceName:"personSimpleSearch",baseUrl:"/odata/v2/restricted/",urlParams:{$format:"'json'",searchValue:"'cgrant'",page:1,startIndex:0,includeInactiveEmpl:false,includeInactivePersons:true,resultScope:"Employment",employmentEffectiveFrom:"'2020-02-19'",employmentEffectiveTo:"'2020-02-19'",includeSecondEmpl:true,includeECMasteredUsersOnly:false,enforceIgnoreProvisioningFlags:true,includeContingentWorkers:true,displayContingentWorkersInformation:true,includeExternalUsers:false,includeExternalPersonType:"''",includeHomeAssignment:true,includeLocationInfoPerEmpl:false,dynamicGroupId:"''",useAlternativePermissionType:"''"}}},{key:"oDataV4",label:"oData V4",value:{serviceName:"personSimpleSearch()",baseUrl:"/odatav4/servicesfoundation/search/PersonSearchService.svc/v1/",urlParams:{$format:"json",searchValue:"cgrant",page:1,startIndex:0,includeInactiveEmpl:false,includeInactivePersons:true,resultScope:"Employment",employmentEffectiveFrom:"2020-02-19",employmentEffectiveTo:"2020-02-19",includeSecondEmpl:true,includeECMasteredUsersOnly:false,enforceIgnoreProvisioningFlags:true,includeContingentWorkers:true,displayContingentWorkersInformation:true,includeExternalUsers:false,includeExternalPersonType:"",includeHomeAssignment:true,includeLocationInfoPerEmpl:false,dynamicGroupId:"",useAlternativePermissionType:""}}}],settings:{oDataServiceKey:"oDataV2",additionalCriteria:{includeInactiveEmpl:"NO",includeInactivePersons:"YES",includeExternalPersons:"NO",includeExternalPersonType:"",resultScope:"Employment",employmentEffectiveFrom:r.format(new Date),employmentEffectiveTo:r.format(new Date),includeHomeEmpl:"YES",includeSecondEmpl:"YES",displayLocation:"YES",includeECMasteredUsersOnly:"NO",enforceIgnoreProvisioningFlags:"YES",dynamicGroupId:"",useAlternativePermissionType:"",includeContingentWorkers:"YES",displayContingentWorkersInformation:"YES"},legacySearchCriteria:{findtype:"fullname",maxresults:10,hideusername:false,includeInactive:false,includeExternalUsers:false,includeExternalUsersNonMtr:false,adminPage:false,groupId:0},fieldIds:["FIRST_NAME","MIDDLE_NAME","LAST_NAME","PERSON_ID_EXTERNAL","USER_NAME","DEPARTMENT","LOCATION","DIVISION","USER_ROLE","RBP_ROLES","JOB_CODE","NATIONAL_ID","PREFERRED_NAME","FORMAL_NAME","EMAIL","HIRE_DATE"]}});var i=a.getProperty("/ajaxServiceSuggestions");e.each(i,function(e){a.setProperty("/ajaxServiceSuggestions/"+e+"/value/arguments-text",t(this.value.arguments))});a.setProperty("/ajaxService",e.extend({},i[0].value));i=a.getProperty("/odataServiceSuggestions");e.each(i,function(e){a.setProperty("/odataServiceSuggestions/"+e+"/value/urlParams-text",t(this.value.urlParams))});this.selectODataService();a.setProperty("/additionalCriteria",t(a.getProperty("/settings/additionalCriteria")));a.setProperty("/legacySearchCriteria",t(a.getProperty("/settings/legacySearchCriteria")));a.setProperty("/fieldIds",t(a.getProperty("/settings/fieldIds")));this.getView().setModel(a);this.updateSmartSuiteMode()},selectODataService:function(){var t=this.oModel;var r=t.getProperty("/odataServiceSuggestions");var a=t.getProperty("/settings/oDataServiceKey");var i=!r.find?r.filter(function(e){return e.key===a})[0]:r===a});t.setProperty("/odataService",e.extend({},i.value))},onDataServiceSelectionChange:function(e){this.oModel.setProperty("/settings/oDataServiceKey",e.getSource().getSelectedKey());this.selectODataService()},changeAjaxSuggest:function(t){var r=t.getParameter("selectedItem").getBindingContext().getObject().value;var a=this.getView().getModel();a.setProperty("/ajaxService",e.extend({},r))},changeOdataSuggest:function(t){var r=t.getParameter("selectedItem").getBindingContext().getObject().value;var a=this.getView().getModel();a.setProperty("/odataService",e.extend({},r))},updateUseQuickcardSearch:function(){var e=this.getView().getModel();var t=e.getProperty("/useQuickcardSearch");var r=e.getProperty("/settings");r.legacySearchType=t?"People":null;e.setProperty("/settings",r)},updateMultiSelectSearch:function(e){var t=e.getSource();var r=this.getView().getModel();r.setProperty("/multiSelectMode",t.getState())},showSearchInputFormatter:function(e){return!e},invokeAjaxService:function(){try{var e=this;var t=this.getView().getModel();sap.sf.surj.shell.util.DeferredUtil.invokeService({type:"ajaxService",serviceName:t.getProperty("/ajaxService/serviceName"),serviceMethod:t.getProperty("/ajaxService/serviceMethod"),arguments:t.getProperty("/ajaxService/arguments")}).done(function(t){e.serviceLog("/service-log","Response: ",t)}).fail(function(t,r){e.serviceLog("/service-log","Ajax Error: ",t)})}catch(e){surj.Logger.error(e);this.serviceLog("/service-log","Exception: ",e.message)}},invokeOdataService:function(){try{var e=this;var t=this.getView().getModel();sap.sf.surj.shell.util.DeferredUtil.invokeService({type:"ODataService",serviceName:t.getProperty("/odataService/serviceName"),baseUrl:t.getProperty("/odataService/baseUrl"),urlParams:t.getProperty("/odataService/urlParams")})",t)})",t)})}catch(e){surj.Logger.error(e);this.serviceLog("/odataservice-log","Exception: ",e.message)}},readUrlParams:function(){var e=this.getView().getModel();var t=r(e.getProperty("/odataService/urlParams-text"));if(t){e.setProperty("/odataServiceHasError",false);e.setProperty("/odataService/urlParams",t)}else{e.setProperty("/odataServiceErrorMessage","Invalid JSON Format");e.setProperty("/odataServiceHasError",true)}},readCriteriaText:function(){var e=this.getView().getModel();var t=r(e.getProperty("/additionalCriteria"));var a=r(e.getProperty("/legacySearchCriteria"));var i=r(e.getProperty("/fieldIds"));var o=e.getProperty("/settings");if(t){o.additionalCriteria=t}if(a){o.legacySearchCriteria=a}if(i){o.fieldIds=i}e.setProperty("/settings",o)},updateSmartSuiteMode:function(){var e=this.getView().getModel();var t=jQuery("#autocomplete\\.personBased");if(!t.length){t=jQuery('<meta id="autocomplete.personBased" content="">').appendTo("head")}t.attr("content",e.getProperty("/smartSuiteMode")?"true":"false")},updateArguments:function(){var e=this.getView().getModel();var t=r(e.getProperty("/ajaxService/arguments-text"));if(t){e.setProperty("/ajaxService/arguments",t);e.setProperty("/ajaxServiceHasError",false)}else{e.setProperty("/ajaxServiceErrorMessage","Invalid JSON Format");e.setProperty("/ajaxServiceHasError",true)}},itemSelected:function(e){if(e.getId&&e.getId()==="selectionChange"){var t=e.getParameters();var r=t.changedItem&&t.changedItem.getUser();this.serviceLog("/event-log",t.selected?"itemSelected: ":"itemUnselected: ",r);return}this.serviceLog("/event-log","itemSelected: ",e.getParameter("selectedItem"))},serviceLog:function(e,r,a){var i=this.getView().getModel();var o=i.getProperty(e)||"";if(o){o+="\n"}o+=r+t(a);i.setProperty(e,o)},advancedSearch:function(t){var a=this.getView().getModel();var i=r(a.getProperty("/additionalCriteria"));var o=r(a.getProperty("/fieldIds"));e.sap.require("sap.sf.surj.shell.util.GACEAdvancedSearchUtil");sap.sf.surj.shell.util.GACEAdvancedSearchUtil.show(Object.assign({oDataServiceKey:a.getProperty("/settings/oDataServiceKey"),source:t.getSource(),additionalCriteria:i,fieldIds:o},t.getParameters()))}})})(jQuery);
},
	"sap/sf/surj/shell/mvc/GACESearchTest.view.xml":'<mvc:View\n    controllerName="sap.sf.surj.shell.mvc.GACESearchTest"\n    xmlns:l="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:surj="sap.sf.surj.shell.controls"\n    xmlns="sap.m"><Page showHeader="false"><content><Panel\n                    expandable="true"\n                    expanded="true"\n                    headerText="GA/CE Advanced Search Testing"><HBox\n\t\t\t\t\t\t\tfitContainer="true"><items><VBox\n\t\t\t\t\t\t\t\t\tfitContainer="true"><layoutData><FlexItemData growFactor="1" /></layoutData><items><Label\n\t\t\t\t\t\t\t\t\t\t\tlabelFor="search-input"\n\t\t\t\t\t\t\t\t\t\t\ttext="Search Widget:"\n\t\t\t\t\t\t\t\t\t\t\twidth="100%" /><surj:SearchInput\n\t\t\t\t\t\t\t\t\t\t\tsearchType="Person-Employment-User"\n\t\t\t\t\t\t\t\t\t\t\tsettings="{/settings}"\n\t\t\t\t\t\t\t\t\t\t\titemSelected="itemSelected"\n\t\t\t\t\t\t\t\t\t\t\tshowValueHelp="true"\n                                            maxLength="100"\n                                            visible="{\n                                                path: \'/multiSelectMode\',\n                                                formatter: \'.showSearchInputFormatter\'\n                                            }"\n\t\t\t\t\t\t\t\t\t\t\tvalueHelpRequest="advancedSearch" /><surj:MultiSelectSearchInput\n\t\t\t\t\t\t\t\t\t\t\tsearchType="Person-Employment-User"\n\t\t\t\t\t\t\t\t\t\t\tsettings="{/settings}"\n\t\t\t\t\t\t\t\t\t\t\tselectionChange="itemSelected"\n\t\t\t\t\t\t\t\t\t\t\tshowValueHelp="true"\n                                            visible="{/multiSelectMode}"\n\t\t\t\t\t\t\t\t\t\t\tvalueHelpRequest="advancedSearch" /></items></VBox><VBox\n\t\t\t\t\t\t\t\t\tfitContainer="true"><layoutData><FlexItemData growFactor="0" /></layoutData><items><Label\n\t\t\t\t\t\t\t\t\t\t\tlabelFor="dataSourceToggle"\n\t\t\t\t\t\t\t\t\t\t\ttext="Data Source:"\n\t\t\t\t\t\t\t\t\t\t\twidth="100%" /><SegmentedButton\n                                            id="dataSourceToggle"\n                                            selectedKey="{/oDataServiceIndex}"\n                                            class="sapUiSmallMarginBottom"\n                                            selectionChange="onDataServiceSelectionChange"><items><SegmentedButtonItem text="OData V2" key="oDataV2" /><SegmentedButtonItem text="OData V4" key="oDataV4" /></items></SegmentedButton></items></VBox></items></HBox><Label\n                        labelFor="smartSuiteMode"\n                        text="Global Setting (autocomplete.personBased):"\n                        width="100%" /><Switch\n                        id="smartSuiteMode"\n                        state="{/smartSuiteMode}"\n                        change="updateSmartSuiteMode" /><Label\n                        labelFor="useQuickcardSearch"\n                        text="Use Quickcard People Search:"\n                        width="100%" /><Switch\n                        id="useQuickcardSearch"\n                        state="{/useQuickcardSearch}"\n                        change="updateUseQuickcardSearch" /><Label\n                        labelFor="multiSelectModeSwitch"\n                        text="Use Multi Select Mode:"\n                        width="100%" /><Switch\n                        id="multiSelectModeSwitch"\n                        state="{/multiSelectMode}"\n                        change="updateMultiSelectSearch" /><Label\n                        labelFor="event-log"\n                        text="Event Log:"\n                        width="100%" /><TextArea\n                        id="event-log" \n                        height="10rem"\n                        value="{/event-log}"\n                        width="100%" /><Label\n                        labelFor="additionalCriteria"\n                        text="Additional Criteria (Smart Suite Mode Enabled):"\n                        width="100%" /><TextArea\n                        id="additionalCriteria"\n                        height="10rem"\n                        value="{/additionalCriteria}"\n                        change="readCriteriaText"\n                        width="100%" /><Label\n                        labelFor="advSrchFieldIds"\n                        text="Advanced Search Fields:"\n                        width="100%" /><TextArea\n                        id="advSrchFieldIds"\n                        height="10rem"\n                        value="{/fieldIds}"\n                        change="readCriteriaText"\n                        width="100%" /><Label\n                        labelFor="legacySearchCriteria"\n                        text="Legacy Search Criteria (Smart Suite Mode Disabled):"\n                        width="100%" /><TextArea\n                        id="legacySearchCriteria"\n                        height="10rem"\n                        value="{/legacySearchCriteria}"\n                        change="readCriteriaText"\n                        width="100%" /></Panel><Panel\n                    expandable="true"\n                    expanded="false"\n                    headerText="Generic DWR Testing"><Label\n                        labelFor="ajaxSuggest"\n                        text="Propopulated:"\n                        width="100%" /><Select\n                        id="ajaxSuggest"\n                        items="{/ajaxServiceSuggestions}"\n                        change="changeAjaxSuggest"><core:Item\n                            key="{key}"\n                            text="{key}" /></Select><Label\n                        labelFor="serviceName"\n                        text="serviceName:"\n                        width="100%" /><Input\n                        id="serviceName"\n                        value="{/ajaxService/serviceName}"\n                        width="100%" /><Label\n                        labelFor="serviceMethod"\n                        text="serviceMethod:"\n                        width="100%" /><Input\n                        id="serviceMethod"\n                        value="{/ajaxService/serviceMethod}"\n                        width="100%" /><Label\n                        labelFor="arguments"\n                        text="arguments:"\n                        width="100%" /><TextArea\n                        id="arguments"\n                        height="30rem"\n                        value="{/ajaxService/arguments-text}"\n                        width="100%"\n                        change="updateArguments" /><MessageStrip\n                        type="Error"\n                        text="{/ajaxServiceErrorMessage}"\n                        visible="{/ajaxServiceHasError}" /><Button\n                        text="Invoke"\n                        press="invokeAjaxService" /><TextArea\n                        id="service-log"\n                        height="30rem"\n                        value="{/service-log}"\n                        width="100%" /></Panel><Panel\n                    expandable="true"\n                    expanded="false"\n                    headerText="Generic OData Testing"><Label\n                        labelFor="odataServiceName"\n                        text="serviceName:"\n                        width="100%" /><Select\n                        id="odataSuggest"\n                        items="{/odataServiceSuggestions}"\n                        change="changeOdataSuggest"><core:Item\n                            key="{key}"\n                            text="{label}" /></Select><Input\n                        id="odataServiceName"\n                        value="{/odataService/serviceName}"\n                        width="100%" /><Label\n                        labelFor="baseUrl"\n                        text="baseUrl:"\n                        width="100%" /><Input\n                        id="baseUrl"\n                        value="{/odataService/baseUrl}"\n                        width="100%" /><Label\n                        labelFor="urlParams"\n                        text="urlParams:"\n                        width="100%" /><TextArea\n                        id="urlParams"\n                        height="30rem"\n                        value="{/odataService/urlParams-text}"\n                        width="100%"\n                        change="readUrlParams" /><MessageStrip\n                        type="Error"\n                        text="{/odataServiceErrorMessage}"\n                        visible="{/odataServiceHasError}" /><Button\n                        text="Invoke"\n                        press="invokeOdataService" /><TextArea\n                        id="odataservice-log"\n                        height="30rem"\n                        value="{/odataservice-log}"\n                        width="100%" /></Panel></content></Page></mvc:View>',
	"sap/sf/surj/shell/session/SessionTimer.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core"\n                         xmlns:commons="sap.sf.surj.commons"\n                         xmlns="sap.m"><Dialog\n        id="sessionTimeOutDialog"\n        type="Message"\n        state="Warning"\n        contentWidth="420px"\n        contentHeight="auto"\n        title="{= ${/params/type} === \'timeout\' ? ${i18n>COMMON_SESSION_TIMED_OUT} : ${i18n>COMMON_SESSION_INFORMATION} }"\n        ><content><core:HTML content="{parts: [{path: \'/params\'}, {path: \'/addonMessage\'}], formatter: \'.formatTimerHTML\'}"/></content><buttons><Button text="{i18n>COMMON_Close}" press=".close" visible="{= ${/params/type} === \'timeout\' }" /><Button text="{i18n>COMMON_LOGIN}" type="Emphasized" press=".login" visible="{= ${/params/type} === \'timeout\' }" /><Button text="{i18n>COMMON_Logout}" press=".logout" visible="{= ${/params/type} !== \'timeout\' }" /><Button text="{i18n>COMMON_KEEP_WORKING}" type="Emphasized" press=".keepAlive" visible="{= ${/params/type} !== \'timeout\' }" /></buttons></Dialog></core:FragmentDefinition>',
	"sap/sf/surj/shell/util/FOPeopleSearchUtil.js":function(){
(function(e){var r="sap.sf.surj.shell.util";e.sap.declare(r+".FOPeopleSearchUtil");e.sap.require(r+".SearchUtil");e.sap.require(r+".LinkUtil");var t=e.sap.getObject(r);var a=sap.ui.getCore();t.SearchUtil.register("FOPeople",{search:function(e){var r=0;return u(e,r,{})}});var l={type:"ajaxService",serviceName:"foundationAutoCompleteController",serviceMethod:"search"};var n={searchType:"WORKER",target:"worker",applyTC:false,displayBizPhone:true,displayJobTitle:true,pageNumber:1,pageSize:7,valueAttribute:undefined,baseElement:undefined,newHirePage:false};function u(r,a,i){var s=r.legacyAdditionalCriteria||{};var o=e.extend({},n,{searchText:r.searchValue,pageNumber:a+1,pageSize:r.maxresults,userSysId:s.userSysId,hrisElementField:s.hrisElementField});return t.DeferredUtil.createDeferred(e.extend({arguments:[o]},l)).then(function(e){var t=[];e.results&&e.results.forEach(function(e){t.push({name:e.name,userName:e.userName,userId:e.id,keys:{TITLE:(e.jobTitle||"")+(e.jobLocation||"")}})});var l=i.totalCount;if(l==null){l=i.totalCount=e.totalNumberOfRecords}var n=t.length;var s=i.totalReturned=(i.totalReturned||0)+n;var o=n>0&&s<l;return{type:"People",items:t,totalCount:l,hasMore:o,more:o?function(){return u(r,a+1,i)}:null}})}})(jQuery);
},
	"sap/sf/surj/shell/util/boot.js":function(){
(function(e){var o=e&&e.resourceRoots;if(o){sap.ui.loader.config({paths:Object.keys(o).ri],e},{})})}})(window["sap-ui-config"]);sap.ui.require(["sap/ui/core/Core"],function(e){e.boot()});
}
});
//# sourceMappingURL=library-preload.js.map
