(c,l)=>{const n={computed:{eventAttached:!1},methods:{initialize:()=>{document.querySelectorAll("[data-oui-select]").forEach(t=>{const e=t.hasAttribute("searchable"),o=t.closest("[data-select-wrapper]");c(t).selectric({responsive:!0,disableOnMobile:!1,nativeOnMobile:!1,onOpen:()=>{n.methods.handleSearchDisplay(o,e,!1)},onBeforeClose:()=>{n.methods.handleSearchDisplay(o,e,!0)},customClass:{prefix:"oui-select",camelCase:!1},arrowButtonMarkup:'<span class="icon--chevronDown" aria-hidden="true"></span>',optionsItemBuilder:),e&&n.events.handleSearch(o)}),n.computed.eventAttached||(n.computed.eventAttached=!0,n.events.selectricChange(),n.events.selectAppened())},optionsItemBuilder:t=>{const e=t.element[0].attributes;return e["data-option-attribute"]?`${t.text}<span class="selectric-attr">${e["data-option-attribute"].value}</span>`:e["data-parent"]?`<b>${t.text}</b>`:t.text},handleSearchDisplay:(t,e,o)=>{if(e){const s=t.querySelector("[data-search-input]");s==null||s.classList.toggle("visible"),o?(s.value="",s.dispatchEvent(new Event("keyup"))):s==null||s.focus()}},filterList:(t,e)=>{t.querySelectorAll(".oui-select-items li").forEach(a=>{e===""||a.innerHTML.toLowerCase().includes(e.toLowerCase())?(a.classList.add("d-block"),a.classList.remove("d-none")):(a.classList.add("d-none"),a.classList.remove("d-block"))});const s=t.querySelector(".oui-select-wrapper").classList.contains("oui-select-open"),i=t.querySelector(".oui-select-items"),r=i.querySelector("ul").offsetHeight;i.style.height=`${r>300||!s?300:r}px`}},events:{selectricChange:()=>{c(document).on("selectric-change","select",(t,e,o)=>{const s=new Event("selectChanged");document.dispatchEvent(s),e.dispatchEvent(s);const i=new Event("fitty-update-wrappers");document.dispatchEvent(i),window.addEventListener("beforeunload",})},selectAppened:()=>{document.addEventListener("selectAppened",},handleSearch:t=>{const e=t.querySelector("[data-search-input]");e&&(e==null||e.addEventListener("keyup",l.debounce(100)),e.addEventListener("click",)}},attach;l.behaviors.ouiSelect=n})(jQuery,Drupal);export{d as __vite_legacy_guard};
