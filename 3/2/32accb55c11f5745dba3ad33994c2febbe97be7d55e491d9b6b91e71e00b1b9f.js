(function(){var f,aa="function"==typeof Object.defineProperties?Object.defineProperty:k="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;ar da=0;ction ha(a,b){.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}
var n=window.Element.prototype,ia=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;r na=/:(80|443)$/,q=document.createElement("a"),r={};
ar u=[];
nction w(a,b){b=a.b.indexOf(b);-1<b&&(a.b.splice(b,1),0<a.b.length?pa(a):a.j())}
a.prototype.j= z=Object.assign||r D={S:1,T:2,U:3,W:4,X:5,Y:6,Z:7,$:8,aa:9,V:10},G=Object.keys(D).length;
unction I(a,b){H(a,D.S);this.a=z({},b);this.i=a;this.b=this.a.stripQuery&&this.a.queryDimensionIndex?"dimension"+this.a.queryDimensionIndex:null;this.f=this.f.bind(this);this.c=this.c.bind(this);b=this.f;v(x(a,"get"),b);b=this.c;v(x(a,"buildHitTask"),b)}
I.prototype.f=I.prototype.c=
function ua(a,b){var c=t(b.page||b.location),d=c.pathname;if(a.a.indexFilename){var e=d.split("/");a.a.indexFilename==e[e.length-1]&&(e[e.length-1]="",d=e.join("/"))}"remove"==a.a.trailingSlash?d=d.replace(/\/+$/,""):"add"==a.a.trailingSlash&&(/\.\w+$/.test(d)||"/"==d.substr(-1)||(d+="/"));d={page:d+(a.a.stripQuery?"":c.search)};b.location&&(d.location=b.location);a.b&&(d[a.b]=c.search.slice(1)||"(not set)");return"function"==typeof a.a.urlFieldsFilter?(b=a.a.urlFieldsFilter(d,t),c={},c.page=b.page,
c.location=b.location,c[a.b]=b[a.b],c):d}I.prototype.remove=function(){var a=this.f;w(x(this.i,"get"),a);a=this.c;w(x(this.i,"buildHitTask"),a)};C("cleanUrlTracker",I);J.prototype.c=J.prototype.remove=function(){var a=this;Object.keys(this.b).forEach(function(b){a.b[b].j()})};C("eventTracker",J);
function va(a,b){var c=this;H(a,D.U);window.IntersectionObserver&&window.MutationObserver&&(this.a=z({rootMargin:"0px",fieldsObj:{},attributePrefix:"ga-"},b),this.c=a,this.L=this.L.bind(this),this.N=this.N.bind(this),this.J=this.J.bind(this),this.K=this.K.bind(this),this.b=null,this.items=[],this.h={},this.g={},ra()}f=va.prototype;
f.observeElements=
f.unobserveElements=
f.unobserveAllElements=.L=
f.N=f.J=f.K=f.remove=C("impressionTracker",va);a.prototype.ba=var M={},N=!1,O;a(P,xa);.prototype.get=P.prototype.set=
.prototype.j=r Aa={};
function T(a,b,c){this.f=a;this.timeout=b||U;this.timeZone=c;b=this.b=this.b.bind(this);v(x(a,"sendHitTask"),b);try{this.c=new Intl.DateTimeFormat("en-US",{timeZone:this.timeZone})}catch(d){}this.a=Q(a.get("trackingId"),"session",{hitTime:0,isExpired:!1})}T.prototype.isExpired=function(a){a=a?a:this.a.get();if(a.isExpired)return!0;var b=new Date,c=(a=a.hitTime)&&new Date(a);return a&&(b-c>6E4*this.timeout||this.c&&this.c.format(b)!=this.c.format(c))?!0:!1};
T.prototype.b=function(a){var b=this;return function(c){a(c);var d=b.a.get(),e=b.isExpired(d);c=c.get("sessionControl");d.hitTime=+new Date;if("start"==c||e)d.isExpired=!1;"end"==c&&(d.isExpired=!0);b.a.set(d)}};T.prototype.j=function(){var a=this.b;w(x(this.f,"sendHitTask"),a);this.a.j();delete Aa[this.f.get("trackingId")]};var U=30;
function V(a,b){H(a,D.V);window.addEventListener&&(this.a=z({increaseThreshold:20,sessionTimeout:U,fieldsObj:{}},b),this.c=a,this.b=Ba(this),this.f=sa(this.f.bind(this),500),this.m=this.m.bind(this),this.i=Q(a.get("trackingId"),"plugins/max-scroll-tracker"),this.P=new T(a,this.a.sessionTimeout,this.a.timeZone),b=this.m,v(x(a,"set"),b),Ca(this))}V.prototype.f=function(){var a=document.documentElement,b=document.body,a=Math.min(100,Math.max(0,Math.round(window.pageYOffset/(Math.max(a.offsetHeight,a.scrollHeight,b.offsetHeight,b.scrollHeight)-window.innerHeight)*100)));if(this.P.isExpired())za(this.i);else if(b=this.i.get()[this.b]||0,a>b&&(100!=a&&100!=b||window.removeEventListener("scroll",this.f),b=a-b,100==a||b>=this.a.increaseThreshold)){var c={};this.i.set((c[this.b]=a,c));a={transport:"beacon",eventCategory:"Max Scroll",eventAction:"increase",
eventValue:b,eventLabel:String(a),nonInteraction:!0};this.a.maxScrollMetricIndex&&(a["metric"+this.a.maxScrollMetricIndex]=b);this.c.send("event",y(a,this.a.fieldsObj,this.c,this.a.hitFilter))}};V.prototype.m=V.prototype.remove=function(){this.P.j();window.removeEventListener("scroll",this.f);var a=this.m;w(x(this.c,"set"),a)};C("maxScrollTracker",V);var Da={};prototype.remove=
W.prototype.changeTemplate=C("mediaQueryTracker",W);.prototype.f=
X.prototype.shouldTrackOutboundForm=X.prototype.remove=C("outboundFormTracker",X);
Y.prototype.c=Y.prototype.shouldTrackOutboundLink=Y.prototype.remove=C("outboundLinkTracker",Y);var Z=);
function Ka(a,b){H(a,D.Z);if(document.visibilityState){this.a=z({sessionTimeout:U,visibleThreshold:5E3,fieldsObj:{}},b);this.c=a;this.i=this.f=null;this.u=this.u.bind(this);this.o=this.o.bind(this);this.F=this.F.bind(this);this.M=this.M.bind(this);this.b=Q(a.get("trackingId"),"plugins/page-visibility-tracker");b=this.M;var c=this.b;(c.a.externalSet=c.a.externalSet||[]).push(b);this.m=new T(a,this.a.sessionTimeout,this.a.timeZone);b=this.u;v(x(a,"set"),b);window.addEventListener("unload",this.F);document.addEventListener("visibilitychange",
this.o);"visible"==document.visibilityState&&this.o()}}f=Ka.prototype;
f.o=function(){var a=this;if("visible"==document.visibilityState||"hidden"==document.visibilityState){var b=La(this,this.b.get()),c={time:+new Date,state:document.visibilityState,pageId:Z};this.i&&"hidden"==document.visibilityState&&clearTimeout(this.i);this.m.isExpired()?"hidden"==this.f&&"visible"==document.visibilityState?(clearTimeout(this.i),this.i=setTimeout(function(){a.c.send("pageview",y({transport:"beacon",queueTime:+new Date-c.time},a.a.fieldsObj,a.c,a.a.hitFilter));a.b.set(c)},this.a.visibleThreshold)):
"hidden"==document.visibilityState&&za(this.b):(b.pageId==Z&&"visible"==b.state&&Ma(this,b),this.b.set(c));this.f=document.visibilityState}};function La(a,b){"visible"==a.f&&"hidden"==b.state&&b.pageId!=Z&&(b.state="visible",b.pageId=Z,a.b.set(b));return b}
function Ma(a,b,c){var d=c,d=void 0===d?+new Date:d,e=!a.m.isExpired();b=b.time&&d-b.time;(e=e&&0<b?b:0)&&e>=a.a.visibleThreshold&&(e=Math.round(e/1E3),b={transport:"beacon",nonInteraction:!0,eventCategory:"Page Visibility",eventAction:"track",eventValue:e,eventLabel:"(not set)"},c&&(b.queueTime=+new Date-c),a.a.visibleMetricIndex&&(b["metric"+a.a.visibleMetricIndex]=e),a.c.send("event",y(b,a.a.fieldsObj,a.c,a.a.hitFilter)))}
f.u=f.M=function(a,b){a.time!=b.time&&b.pageId==Z&&"visible"==b.state&&Ma(this,b,a.time)};f.F=f.remove=function(){this.b.j();this.m.j();var a=this.u;w(x(this.c,"set"),a);window.removeEventListener("unload",this.F);document.removeEventListener("visibilitychange",this.o)};C("pageVisibilityTracker",Ka);
=Na.prototype;
f.s=f.I=f.C=
f.w=f.A=function(a){this.b.send("social",y({transport:"beacon",socialNetwork:"Facebook",socialAction:"like",socialTarget:a},this.a.fieldsObj,this.b,this.a.hitFilter))};
f.D=f.remove=C("socialWidgetTracker",Na);
function Pa(a,b){H(a,D.aa);history.pushState&&window.addEventListener&&(this.a=z({shouldTrackUrlChange:this.shouldTrackUrlChange,trackReplaceState:!1,fieldsObj:{},hitFilter:null},b),this.b=a,this.c=location.pathname+location.search,this.G=this.G.bind(this),this.H=this.H.bind(this),this.B=this.B.bind(this),a=this.G,v(x(history,"pushState"),a),a=this.H,v(x(history,"replaceState"),a),window.addEventListener("popstate",this.B))}f=Pa.prototype;
f.G=function(a){var b=this;return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e-0]=arguments[e];a.apply(null,[].concat(m(d)));Qa(b,!0)}};f.H=f.B=
.shouldTrackUrlChange=f.remove=function(){var a=this.G;w(x(history,"pushState"),a);a=this.H;w(x(history,"replaceState"),a);window.removeEventListener("popstate",this.B)};
C("urlChangeTracker",Pa);})();
//# sourceMappingURL=autotrack.js.map