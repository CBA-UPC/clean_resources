(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[51712],{490361:e=>{e.exports={}},567752:e=>{e.exports={}},135617:e=>{e.exports={}},383906:e=>{e.exports={}},607423:(e,t,n)=>{"use strict";n.d(t,{isNativeUIInteraction:()=>r,isTextEditingField:()=>s});var i=n(591800);function s(e){if("INPUT"===e.tagName){const t=e.type;return"text"===t||"email"===t||"number"===t||"password"===t||"search"===t||"tel"===t||"url"===t}return"TEXTAREA"===e.tagName||e.isContentEditable}function r(e,t){if(!t)return!1;const n=255&e;if(27===n||n>>>4==7)return!1;switch(e^n){case i.Modifiers.Alt:return(38===n||40===n)&&"SELECT"===t.tagName||s(t);case i.Modifiers.Alt+i.Modifiers.Shift:return s(t);case i.Modifiers.Mod:if(67===n||!i.isMacKeyboard&&45===n){const e=t.ownerDocument&&t.ownerDocument.getSelection();if(e&&!e.isCollapsed)return!0}return s(t);case i.Modifiers.Mod+i.Modifiers.Shift:return n>=33&&n<=40&&s(t);case i.Modifiers.Shift:case 0:return 9===n?!(!t.ownerDocument||t===t.ownerDocument.body||t===t.ownerDocument.documentElement):(!function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){const t=e.type;if("submit"===t||"button"===t||"reset"===t||"checkbox"===t||"radio"===t)return!0}return!1}(t)||13===n||32===n||9===n)&&("form"in t||t.isContentEditable)}return!1}},336748:(e,t,n)=>{"use strict";n.d(t,{colorsPalette:()=>d});var i=n(330120),s=n(559419),r=n(650151);const o={...i,...s},a={},u=Object.keys(o).length,l=/^#(([a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i;function c(e,t=[],n=o){const i=n[e];if(!i)return null;if(l.test(i))return i;const s=i;return t.push(e),-1!==t.indexOf(s)?(console.warn("Colors definitions cycled"),i):t.length>u?(console.warn("Too many variables-link in HEX-color search: "+t[0]),null):c(s,t,n)}Object.keys(o).forEach((e=>{const t=c(e);a[e]=(0,r.ensureNotNull)(t)}));const d=a},790188:(e,t,n)=>{"use strict";n.d(t,{colorsPalette:()=>i.colorsPalette});var i=n(336748)},745269:(e,t,n)=>{"use strict";n.d(t,{color:()=>r,dur:()=>i,easingFunc:()=>s});const i=350,s={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e};const r={black70:"#4A4A4A",black80:"#535353"}},673747:(e,t,n)=>{"use strict";var i=n(778785),s=n(112539),r=n(630112),o=n(650151),a=n(779527),u=n(799786);let l=!1,c=null,d=null;i.mobiletouch||document.addEventListener("mouseover",(function(e){var t;if(null===(t=e.sourceCapabilities)||void 0===t?void 0:t.firesTouchEvents)return;const n=e.target,i=e.currentTarget,s=function(e,t,n){const i=[];for(;e&&e!==t;)e.classList&&e.classList.contains(n)&&i.push(e),e=e.parentElement||g(e.parentNode);return i}(n,i,"apply-common-tooltip"),r=()=>{d&&(d.destroy(),d=null)};for(const t of s){if("buttons"in e){if(1&e.buttons)continue}else if(1===e.which)continue
;const n=()=>h(t);if(n()){const e=e=>i(null,!0),i=(s,o=!1)=>{t.removeEventListener("common-tooltip-update",n),t.removeEventListener("mouseleave",i),t.removeEventListener("mousedown",i),document.removeEventListener("scroll",e,{capture:!0}),r(),y(o)};t.addEventListener("common-tooltip-update",n),t.addEventListener("mouseleave",i),t.addEventListener("mousedown",i),document.addEventListener("scroll",e,{capture:!0}),null===d&&(d=(0,u.createGroup)({desc:"Tooltip"}),d.add({desc:"Hide",hotkey:27,handler:i}));break}}}),!0);const m=new MutationObserver((()=>{if(c&&c.options.target){let e;e="isConnected"in c.options.target?c.options.target.isConnected:document.body.contains(c.options.target),e||y()}})),h=(e,t={})=>{const{content:n,...i}=b(t),s=a.getDataFromTarget(e),r=Object.assign(s,i);return"none"!==n.type&&(r.content=n),!("none"===r.content.type&&!r.hotkey)&&(r.target=e,p(r),!0)},p=e=>{const t=b(e),n=a.getTooltip(t);if(c={options:t,element:n},(0,r.setTooltip)(n),(0,s.clearSchedule)(),!l)return a.hideTooltip(n),void(0,s.scheduleRender)((()=>v(n)),function(e){return"number"!=typeof e.tooltipDelay||isNaN(e.tooltipDelay)?500:e.tooltipDelay}(t));const{tooltipDebounce:i}=e;"number"!=typeof i||isNaN(i)?v(n):(0,s.scheduleRender)((()=>v(n)),i)};function f(){(0,r.empty)(),l=!1,c=null}const y=e=>{if((0,s.clearSchedule)(),m.disconnect(),!c)return;if(!e&&!l)return;const{element:t,options:n}=c,i=()=>{t.removeEventListener("mouseleave",i),a.hideTooltip(t),e?f():(0,s.scheduleRemove)((()=>{f()}),250)};n.tooltipHideDelay?(0,s.scheduleHide)((()=>{t.querySelector(":hover")?t.addEventListener("mouseleave",i):i()}),n.tooltipHideDelay):i()};function v(e){const{options:t}=(0,o.ensureNotNull)(c);if(a.setStyle(e,t),a.showTooltip(e),m.observe(document,{childList:!0,subtree:!0}),l=!0,t.forceHideOnMove){const e=()=>{document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e),y()};document.addEventListener("mousemove",e),document.addEventListener("touchmove",e)}}function g(e){return e&&(e.nodeType===Node.ELEMENT_NODE?e:null)}function b(e){if(function(e){return"content"in e}(e))return e;const{inner:t,html:n,text:i,...s}=e;let r={type:"none"};return t&&(r={type:"element",data:t}),i&&(r={type:n?"html":"text",data:i}),{content:r,...s}}},941285:(e,t,n)=>{"use strict";n.d(t,{Spinner:()=>o});n(683135);var i=n(571690),s=n(607436);const r=(0,i.parseHtmlElement)(function(e=""){return`<div class="tv-spinner ${e}" role="progressbar"></div>`}());class o{constructor(e){this._shown=!1,this._el=r.cloneNode(!0),this.setSize(s.spinnerSizeMap[e||s.DEFAULT_SIZE])}spin(e){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=e,void 0!==e&&e.appendChild(this._el)),this._shown=!0,this}stop(e){return e&&void 0!==this._container&&this._container.removeChild(this._el),this._el&&this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this}setStyle(e){return Object.keys(e).forEach((t=>{const n=e[t];void 0!==n&&this._el.style.setProperty(t,n)})),this}style(){return this._el.style}setSize(e){
const t=void 0!==e?`tv-spinner--size_${e}`:"";return this._el.className=`tv-spinner ${t} ${this._shown?"tv-spinner--shown":""}`,this}getEl(){return this._el}destroy(){this.stop(),delete this._el,delete this._container}}},596080:(e,t,n)=>{"use strict";var i,s;n.d(t,{IFrameEvents:()=>s}),function(e){let t;!function(e){e.SetSymbol="set-symbol",e.SetInterval="set-interval"}(t=e.Names||(e.Names={}))}(i||(i={})),function(e){let t;!function(e){e.SymbolClick="tv-widget-symbol-click",e.WidgetLoad="tv-widget-load",e.WidgetReady="tv-widget-ready",e.ResizeIframe="tv-widget-resize-iframe",e.NoData="tv-widget-no-data"}(t=e.Names||(e.Names={}))}(s||(s={}))},410899:(e,t,n)=>{"use strict";function i(e,t,n){const i={name:e,frameElementId:t,data:n};window.parent.postMessage(i,"*")}n.d(t,{dispatchEventToParent:()=>i})},746849:(e,t,n)=>{"use strict";n.d(t,{checkIfExchangeAvailable:()=>r});n(586463);var i=n(406103);function s(e){if(!(0,i.isIDCExchange)(e))return!1;e=o(e);const t=window.pro,n=t.getProduct(e);return void 0!==n.idc_service_codes_delay&&((!Array.isArray(n.included_exchanges)||!n.included_exchanges.some((e=>t.hasPackage(o(e)))))&&!function(e){const t=window.pro;return t.hasPackage(e)||t.hasPackage(e+"_dly")}(e))}function r(e){const t=window.pro;return new Promise((n=>{window.is_authenticated?!t.getIDCExchanges(!0).length||t.isInvalidShopConf()?t.updateShopConf().then((()=>{n(!s(e))})).catch((()=>{n(!0)})):n(!s(e)):n(!0)}))}function o(e){return e.startsWith("exchange-")?e:"exchange-{0}".format(e.toLowerCase())}},630440:(e,t,n)=>{"use strict";n.d(t,{getWarningTextForFreeUsers:()=>s});var i=n(444372);function s(){return window.is_authenticated?i.t(null,void 0,n(5174)):i.t(null,void 0,n(259782))}},599612:(e,t,n)=>{"use strict";n.d(t,{check:()=>l});var i=n(59171),s=n(120780),r=n(778016),o=n(833813),a=n(746849),u=n(747810);function l(e,t=!0){return new Promise(((n,l)=>{const c=(0,i.getExchange)(e);c?(0,a.checkIfExchangeAvailable)(c).then((i=>i?n(e):(0,r.enabled)(o.ProductFeatures.IDC_AVAILABLE_DELAY)?t?void(0,s.fetch)(`/idc-sign-agreement-check/${c}/`,{credentials:"include"}).then((t=>t.json().then((t=>t.res===u.SymbolAvailabilityCodes.DELAY_NOT_AVAILABLE?l({exchange:c,errCode:t.res,reason:"delay not available",symbol:e}):t.res===u.SymbolAvailabilityCodes.NEED_SIGN_AGREEMENT?l({exchange:c,errCode:t.res,reason:"need sign agreement",symbol:e}):t.res===u.SymbolAvailabilityCodes.NEED_ADD_SERVICE?l({exchange:c,errCode:t.res,reason:"need add service",symbol:e}):n(e))))).catch((()=>{n(e)})):n(e):l({exchange:c,errCode:u.SymbolAvailabilityCodes.DELAY_NOT_AVAILABLE,reason:"delay not available",symbol:e}))):n(e)}))}},747810:(e,t,n)=>{"use strict";n.d(t,{SymbolAvailabilityCodes:()=>i});const i=n(4760)},919892:(e,t,n)=>{"use strict";n.d(t,{compareSymbols:()=>a,encodeExtendedSymbolOrGetSimpleSymbolString:()=>r});function i(e){return"="+JSON.stringify(s(e))}function s(e){return Object.keys(e).sort().reduce(((t,n)=>("[object Object]"===Object.prototype.toString.call(e[n])?t[n]=s(e[n]):t[n]=e[n],t)),{})}function r(e){
return Boolean(e.inputs)||function(e){return Boolean(e.replay)}(e)||e.session||e.adjustment||e["currency-id"]||e["unit-id"]?i(e):e.symbol}const o=["symbol","session","unit-id","currency-id","adjustment","backadjustment","settlement-as-close"];function a(e,t){return o.every((n=>e[n]===t[n]))}},958067:(e,t,n)=>{"use strict";n.d(t,{dateFormatFunctions:()=>f,getDateFormatWithWeekday:()=>y});var i=n(444372),s=n(39654),r=n(702053);const o={1:()=>i.t(null,void 0,n(795425)),2:()=>i.t(null,void 0,n(835050)),3:()=>i.t(null,void 0,n(651369)),4:()=>i.t(null,void 0,n(442762)),5:()=>i.t(null,{context:"short"},n(227991)),6:()=>i.t(null,void 0,n(715224)),7:()=>i.t(null,void 0,n(6215)),8:()=>i.t(null,void 0,n(38465)),9:()=>i.t(null,void 0,n(757902)),10:()=>i.t(null,void 0,n(73546)),11:()=>i.t(null,void 0,n(671230)),12:()=>i.t(null,void 0,n(92203))},a=(e,t)=>(t?e.getMonth():e.getUTCMonth())+1,u=(e,t)=>t?e.getFullYear():e.getUTCFullYear(),l=e=>e.toLocaleDateString(window.language?(0,s.getIsoLanguageCodeFromLanguage)(window.language):void 0,{weekday:"short",timeZone:"UTC"}),c=(e,t)=>(0,r.numberToStringWithLeadingZero)(((e,t)=>t?e.getDate():e.getUTCDate())(e,t),2),d=(e,t)=>o[a(e,t)](),m=(e,t)=>(0,r.numberToStringWithLeadingZero)(a(e,t),2),h=(e,t)=>(0,r.numberToStringWithLeadingZero)(u(e,t)%100,2),p=(e,t)=>(0,r.numberToStringWithLeadingZero)(u(e,t),4),f={"dd MMM 'yy":(e,t)=>`${c(e,t)} ${d(e,t)} '${h(e,t)}`,"MMM 'yy":(e,t)=>`${d(e,t)} '${h(e,t)}`,"MMM dd, yyyy":(e,t)=>`${d(e,t)} ${c(e,t)}, ${p(e,t)}`,"MMM yyyy":(e,t)=>`${d(e,t)} ${p(e,t)}`,"MMM dd":(e,t)=>`${d(e,t)} ${c(e,t)}`,"dd MMM":(e,t)=>`${c(e,t)} ${d(e,t)}`,"yyyy-MM-dd":(e,t)=>`${p(e,t)}-${m(e,t)}-${c(e,t)}`,"yy-MM-dd":(e,t)=>`${h(e,t)}-${m(e,t)}-${c(e,t)}`,"yy/MM/dd":(e,t)=>`${h(e,t)}/${m(e,t)}/${c(e,t)}`,"yyyy/MM/dd":(e,t)=>`${p(e,t)}/${m(e,t)}/${c(e,t)}`,"dd-MM-yyyy":(e,t)=>`${c(e,t)}-${m(e,t)}-${p(e,t)}`,"dd-MM-yy":(e,t)=>`${c(e,t)}-${m(e,t)}-${h(e,t)}`,"dd/MM/yy":(e,t)=>`${c(e,t)}/${m(e,t)}/${h(e,t)}`,"dd/MM/yyyy":(e,t)=>`${c(e,t)}/${m(e,t)}/${p(e,t)}`,"MM/dd/yy":(e,t)=>`${m(e,t)}/${c(e,t)}/${h(e,t)}`,"MM/dd/yyyy":(e,t)=>`${m(e,t)}/${c(e,t)}/${p(e,t)}`};function y(e){return"ja"===window.language?(t,n)=>`${f[e](t,n)} (${l(t)})`:(t,n)=>`${l(t)} ${f[e](t,n)}`}Object.keys(f)},223699:(e,t,n)=>{"use strict";n.d(t,{Interval:()=>c,ResolutionKind:()=>r});const i=/^(\d*)([TSHDWMR])$/,s=/^(\d+)$/;var r,o;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(r||(r={})),function(e){e.Hours="hours"}(o||(o={}));const a={};a[r.Ticks]=1e3,a[r.Seconds]=1e3,a[r.Minutes]=60*a[r.Seconds],a[r.Days]=1440*a[r.Minutes],a[r.Weeks]=7*a[r.Days];const u={T:r.Ticks,S:r.Seconds,D:r.Days,W:r.Weeks,M:r.Months,R:r.Range},l=new Set([r.Ticks,r.Seconds,r.Minutes]);class c{constructor(e,t){this._kind=r.Invalid,this._multiplier=0,e!==r.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}kind(){return this._kind}multiplier(){return this._multiplier}isValid(){return this.kind()!==r.Invalid&&this.multiplier()>0}isDWM(){
return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()}isIntraday(){const e=l.has(this.kind());return this.isValid()&&e}isSeconds(){return this.kind()===r.Seconds}isMinutes(){return this.kind()===r.Minutes}isMinuteHours(){return this.kind()===r.Minutes&&((e=this.multiplier())>=60&&!(e%60));var e}isDays(){return this.kind()===r.Days}isWeeks(){return this.kind()===r.Weeks}isMonths(){return this.kind()===r.Months}isRange(){return this.kind()===r.Range}isTicks(){return this.kind()===r.Ticks}isTimeBased(){return!this.isRange()}letter(){return this.isValid()&&this.kind()!==r.Minutes?this.kind()[0].toUpperCase():""}value(){return this.isValid()?this.kind()===r.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""}isEqualTo(e){if(!(e instanceof c))throw new Error("Argument is not an Interval");return!(!this.isValid()||!e.isValid())&&(this.kind()===e.kind()&&this.multiplier()===e.multiplier())}inMilliseconds(e=Date.now()){if(!this.isValid()||this.isRange())return NaN;if(this.isMonths()){const t=new Date(e);t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1));return+t-e}const t=this.multiplier();return a[this.kind()]*t}static isEqual(e,t){return e===t||c.parse(e).isEqualTo(c.parse(t))}static parseExt(e){e=(e+"").toUpperCase().split(",")[0];let t=i.exec(e);return null!==t?"H"===t[2]?{interval:new c(r.Minutes,60*d(t[1])),guiResolutionKind:o.Hours}:{interval:new c(u[t[2]],d(t[1])),guiResolutionKind:u[t[2]]}:(t=s.exec(e),null!==t?{interval:new c(r.Minutes,d(t[1])),guiResolutionKind:r.Minutes}:{interval:new c(r.Invalid,0),guiResolutionKind:r.Invalid})}static parse(e){return c.parseExt(e).interval}static kind(e){return c.parse(e).kind()}static isValid(e){return c.parse(e).isValid()}static isDWM(e){return c.parse(e).isDWM()}static isIntraday(e){return c.parse(e).isIntraday()}static isSeconds(e){return c.parse(e).isSeconds()}static isMinutes(e){return c.parse(e).isMinutes()}static isMinuteHours(e){return c.parse(e).isMinuteHours()}static isDays(e){return c.parse(e).isDays()}static isWeeks(e){return c.parse(e).isWeeks()}static isMonths(e){return c.parse(e).isMonths()}static isRange(e){return c.parse(e).isRange()}static isTicks(e){return c.parse(e).isTicks()}static isTimeBased(e){return c.parse(e).isTimeBased()}static normalize(e){const t=c.parse(e);return t.isValid()?t.value():null}}function d(e){return 0===e.length?1:parseInt(e,10)}},339315:(e,t,n)=>{"use strict"},444331:(e,t,n)=>{"use strict";n.d(t,{createSeriesFormatter:()=>d,extractSymbolNameFromSymbolInfo:()=>m});n(444372),n(62802),n(638456),n(339315),n(223699);var i=n(624444),s=n(244842),r=n(943994),o=n(541346);n(66732),n(824837);const a=s.enabled("pay_attention_to_ticker_not_symbol"),u=s.enabled("uppercase_instrument_names"),l=s.enabled("charting_library_single_symbol_request"),c=s.enabled("use_ticker_on_symbol_info_update");s.enabled("hide_object_tree_and_price_scale_exchange_label");function d(e,t,n=!1){if("default"===t&&null!=e){const t=e.formatter||e.format;if("volume"===t)return new r.VolumeFormatter(2)
;if("percent"===t)return new o.PercentageFormatter(e.pricescale)}const{priceScale:s,minMove:a,fractional:u,minMove2:l,variableMinTick:c}=function(e,t="default",n=!1){let i,s,r,o=100,a=1;if("default"===t)null!=e&&(({pricescale:o,minmov:a,minmove2:s,fractional:i}=e),r=e.variable_tick_size||void 0);else{let e=t.split(",");3!==e.length&&(e=["100","1","false"]),o=parseInt(e[0]),a=parseInt(e[1]),i="true"===e[2]}return n&&(a=1),{priceScale:o,minMove:a,fractional:i,minMove2:s,variableMinTick:r,ignoreMinMove:n}}(e,t,n);return new i.PriceFormatter(s,a,u,l,c,n)}function m(e,t,n,i){let s=e&&(n&&e.pro_name||e.full_name||e.name);return l&&t?s=t:(c||!i&&a)&&e&&e.ticker&&(s=e.ticker),u&&s&&(s=s.toUpperCase()),s}},960116:(e,t,n)=>{"use strict";async function i(e,t,i,s,r,o){return(await Promise.all([n.e(22666),n.e(5993),n.e(53842),n.e(57215),n.e(94345),n.e(53863),n.e(50690),n.e(28557),n.e(45646),n.e(99543),n.e(11233)]).then(n.bind(n,293732))).createTabLabelsImp(e,t,i,s,r,o)}n.d(t,{createTabLabels:()=>i})},798218:(e,t,n)=>{"use strict";n.d(t,{frameElementId:()=>s});const i=window.initData.hashSettings||{},s="string"==typeof i.frameElementId?i.frameElementId:null},246733:(e,t,n)=>{"use strict";n.d(t,{applyAlpha:()=>r,applyTransparency:()=>a,generateColor:()=>s,resetTransparency:()=>u});var i=n(724377);function s(e,t,n){if(t=t||0,!l(e))return n?(0,i.rgbaToString)((0,i.rgba)((0,i.parseRgb)(e),(0,i.normalizeAlphaComponent)(o(t)))):e;const[s,r,a]=(0,i.parseRgb)(e),u=(0,i.normalizeAlphaComponent)(o(t));return(0,i.rgbaToString)([s,r,a,u])}function r(e,t){return s(e,function(e){return 100*(1-e)}(t),!0)}function o(e){if(e<0||e>100)throw new Error("invalid transparency");return 1-e/100}function a(e,t){if("transparent"===e)return e;const n=(0,i.parseRgba)(e),s=n[3];return(0,i.rgbaToString)((0,i.rgba)(n[0],n[1],n[2],o(t)*s))}function u(e){return"transparent"===e?e:l(e)?e.slice(0,7):(0,i.rgbaToString)((0,i.rgba)((0,i.parseRgb)(e),(0,i.normalizeAlphaComponent)(1)))}function l(e){return 0===e.indexOf("#")}},31341:(e,t,n)=>{"use strict";n.d(t,{forceLTRStr:()=>a,isRtl:()=>i,stripLTRMarks:()=>o});n(64531);const i=()=>"rtl"===window.document.dir,s="‬",r=new RegExp("‎|‪|‫|‬","g");function o(e){return""!==e&&i()&&null!=e?e.replace(r,""):e}function a(e){return""!==e&&i()&&null!=e?"‪"+e+s:e}},403009:(e,t,n)=>{"use strict";var i;function s(e){return!(!e||!Object.keys(e).length)}n.d(t,{isProductDefined:()=>s}),function(e){e[e.ProPlan=1]="ProPlan",e[e.NewsFeed=3]="NewsFeed",e[e.Exchange=4]="Exchange",e[e.Connection=6]="Connection",e[e.Coins=8]="Coins"}(i||(i={}))},192780:(e,t,n)=>{"use strict";function i(){try{return JSON.parse(decodeURIComponent(location.hash.substring(1)))}catch(e){return{}}}n.d(t,{parseUrlHashParams:()=>i})},208817:(e,t,n)=>{"use strict";n.d(t,{getMiniTimeFrameOptions:()=>a});var i=n(603706);const s=Date.now();function r(e){const t=new Date(s);return t.setMonth(t.getMonth()-e),Math.trunc(t.valueOf()/1e3)}function o(e){const t=new Date(s);return t.setFullYear(t.getFullYear()-e),Math.trunc(t.valueOf()/1e3)}function a(e){const t=(0,
i.getTimeFrames)();return[{...t[e?"lastsession":"1d"]},{...t["1m"],targetResolution:"1D",from:r(1)},{...t["3m"],targetResolution:"1D",from:r(3)},{...t["12m"],from:o(1)},{...t["60m"],targetResolution:"1M",from:o(5)},{...t.all}]}},606311:(e,t,n)=>{"use strict";n.d(t,{timeFrames:()=>i});const i=(0,n(603706).getTimeFrames)()},571690:(e,t,n)=>{"use strict";n.d(t,{parseHtmlElement:()=>s});const i=new WeakMap;function s(e,t){const n=function(e,t){let n,s;return n=null==t?document.documentElement:9===t.nodeType?t.documentElement:t,i&&(s=i.get(n)),s||(s=n.ownerDocument.createRange(),s.selectNodeContents(n),i&&i.set(n,s)),s.createContextualFragment(e)}(e,t),s=n.firstElementChild;return null!==s&&n.removeChild(s),s}},242907:(e,t,n)=>{"use strict";function i(e,t){const n=Object.create(Object.getPrototypeOf(e));for(const i of t)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}n.d(t,{pickFields:()=>i})},777466:(e,t,n)=>{"use strict";function i(e){e.preventDefault()}n.d(t,{preventDefault:()=>i,preventDefaultForContextMenu:()=>r});const s=["input:not([type])",'input[type="text"]','input[type="email"]','input[type="password"]','input[type="search"]','input[type="number"]','input[type="url"]',"textarea","a[href]",'*[contenteditable="true"]',"[data-allow-context-menu]"];function r(e){const t=e.target;t&&!t.closest(s.join(", "))&&e.preventDefault()}},108999:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 14" width="8" height="14"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M2 2l4 5-4 5"/></svg>'},4760:e=>{"use strict";e.exports=JSON.parse('{"OK":"OK","ERR":"ERR","SYMBOL_NOT_AVAILABLE_FOR_ANON":"SYMBOL_NOT_AVAILABLE_FOR_ANON","DELAY_NOT_AVAILABLE":"DELAY_NOT_AVAILABLE","NEED_SIGN_AGREEMENT":"NEED_SIGN_AGREEMENT","NEED_ADD_SERVICE":"NEED_ADD_SERVICE"}')}}]);,ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oast:"⊛",ocir:"⊚",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",osol:"⊘",otimes:"⊗",otimesas:"⨶",ovbar:"⌽",par:"∥",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",tilde:"˜",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacy:"я",ycirc:"ŷ",ycy:"ы",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},n={},i=!1;function s(){i||(Object.keys(o).forEach((function(r){n[r+";"]=o[r],n[r]=o[r]})),Object.keys(a).forEach((function(r){n[r+";"]=a[r]})),i=!0)}},5300:(r,e,t)=>{t(1691),t(2156),t(7479)},9397:(r,e,t)=>{t.d(e,{escapeRegExp:()=>o.escapeRegExp});t(2888),t(5300),t(9034);var o=t(1008);t(3656)},2156:(r,e,t)=>{t.d(e,{fromCodePoint:()=>a,getCodePointAt:()=>i,numericUnicodeMap:()=>o});var o={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},a=function(){return String.fromCodePoint||function(r){return String.fromCharCode(Math.floor((r-65536)/1024)+55296,(r-65536)%1024+56320)}}(),n=function(){return String.prototype.codePointAt}(),i=function(){return n?function(r,e){return r.codePointAt(e)}:function(r,e){return 1024*(r.charCodeAt(e)-55296)+r.charCodeAt(e+1)-56320+65536}}()},1691:(r,e,t)=>{t.d(e,{Replacer:()=>s});var o=t(8564),a=t(2267),n=t(5766),i=t(1008),s=function(){function r(e){(0,o._)(this,r),(0,n._)(this,"regexp",void 0),(0,n._)(this,"map",void 0),this.map=e}return(0,a._)(r,[{key:"build",value:function(){if(!this.regexp){var r=Object.keys(this.map).map(i.escapeRegExp).sort((function(r,e){return e.length-r.length})),e="(?:".concat(r.join("|"),")");this.regexp=new RegExp(e,"g")}}},{key:"replace",value:function(r){var e=this;return r?(this.build(),r.replace(this.regexp,(function(r){return e.map[r]}))):""}}]),r}()},1058:(r,e,t)=>{function o(r){return r>=10?String(r):"0"+String(r)}t.d(e,{leadingZero:()=>o})},9034:(r,e,t)=>{t(2253)},1008:(r,e,t)=>{function o(r){return r?r.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""}t.d(e,{escapeRegExp:()=>o})},3656:(r,e,t)=>{t(8564),t(2267),t(5766),t(6372)},4639:(r,e,t)=>{t.d(e,{escapeRE:()=>o.escapeRegExp});var o=t(9397)},9562:(r,e,t)=>{t.d(e,{MINUTE:()=>o,PUSH_NOTIFIER_PERMISSION_GRANTED:()=>a});const o=6e4,a="granted"},2039:(r,e,t)=>{t.d(e,{buildActionsCaller:()=>s,openUrl:()=>n});var o=t(2769),a=t(5971);function n(r){if((0,o.log)("sw.action_openUrl",r),r.focus){let e=null;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((t=>{if(t.forEach((t=>{t.url===r.url&&"focus"in t&&(null===e||"visible"===t.visibilityState&&("visible"!==e.visibilityStyle||!e.focused&&t.focused))&&(e=t)})),!e)return self.clients.openWindow(r.url);e.focus()}))}return Promise.resolve(self.clients.openWindow(r.url))}const i={openUrl:n,cleanNotification:function(){return(0,o.closeFilteredNotififcation)((r=>r.tag.indexOf("web_push_msg")))},removeMessageNotification:function(r){return(0,o.closeFilteredNotififcation)((e=>{if(e.tag.indexOf("web_push_msg"))return!1;const{data:{id:t,type:o}}=e;return t===`${o}_${r.peerId}_${r.msgId}`}))},updateMessageNotifications:function(r){return(0,o.closeFilteredNotififcation)((e=>{if(e.tag.indexOf("web_push_msg"))return!1;const{data:{id:t=""}}=e,[,o,a]=t.split("_"),n=r[o];return!n||a<n}))},getMessagesMetaData:function(){return(0,o.getNotifications)().then((r=>r.reduce(((r,e)=>{if(e.tag.indexOf("web_push_msg"))return r;const{data:{id:t=""}}=e,[,o,a]=t.split("_");return o&&a&&(r[o]=a),r}),{}))).catch((r=>(0,o.log)(r)))},storePushHash:function({hash:r}){return(0,o.setPushHash)(r)}};function s(r={}){const e=Object.assign({},i,r);return r=>function(r,e={}){if((0,a.messageCheck)(r)){const t=r.data.data;if(Array.isArray(t.actions)){const n=[];t.actions.forEach((t=>{const a=t[0],i=t[1];(0,o.log)("sw.call_action: "+a),n.push(Promise.resolve(e[a]?e[a](i,r):void 0))})),Promise.all(n).then((e=>{const t={};e.forEach(((r,e)=>{void 0!==r&&(t[e]=r)})),Object.keys(t).length&&r.ports[0].postMessage((0,a.messageWrap)({answers:t}))}))}}}(r,e)}},5971:(r,e,t)=>{t.d(e,{messageCheck:()=>i,messageWrap:()=>n});var o=t(8982);const a="sw";function n(r){return{type:a,data:r}}function i(r){return(""===r.origin||r.origin.match(o.VK_ORIGIN_REGEX_STRICT))&&r.data&&r.data.data&&r.data.type===a}},7024:(r,e,t)=>{t.d(e,{iDBKVGet:()=>h,iDBKVSet:()=>m,iDBSTATSFlush:()=>d,iDBSTATSPush:()=>g});var o=t(8982);const a="sw_keyval_db",n="keyval",i="sw_stats_db",s="stats";function c(){if(!function(){const r=(0,o.getGlobalObject)();return!!(r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB)}())throw new Error("IndexedDB is unavailable");return indexedDB}function l(r,e){return new Promise(((t,o)=>{let a=c().open(r);a.onerror=r=>o(r.target.errorCode?new Error(r.target.errorCode):r.target.error),a.onsuccess=r=>t(r.target.result),a.onupgradeneeded=r=>{let a=r.target.result;return e(a).then((r=>t(r)),(()=>o(new Error("IndexedDB upgrade failed"))))}}))}function u(r,e){return r.transaction([e],"readwrite").objectStore(e)}function p(){return l(i,(r=>new Promise(((e,t)=>{let o=r.createObjectStore(s,{keyPath:"id",autoIncrement:!0});o.onerror=r=>t(r.target.errorCode?new Error(r.target.errorCode):r.target.error),o.oncomplete=()=>e(r)}))))}function d(r){return p().then((e=>new Promise(((t,o)=>{let a=[],n=u(e,s),i=n.openCursor();i.onerror=r=>o(r.target.errorCode?new Error(r.target.errorCode):r.target.error),i.onsuccess=function(e){let s=e.target.result;s&&(delete s.value.id,a.push(s.value)),--r>0&&s?s.continue():(i=n.clear(),i.onerror=r=>o(r.target.errorCode?new Error(r.target.errorCode):r.target.error),i.onsuccess=()=>t(a))}}))))}function g(r){return p().then((e=>new Promise(((t,o)=>{let a=u(e,s).add(r);a.onerror=r=>o(r.target.errorCode?new Error(r.target.errorCode):r.target.error),a.onsuccess=()=>t()}))))}function f(){return l(a,(r=>new Promise(((e,t)=>{let o=r.createObjectStore(n,{keyPath:"key"});o.onerror=r=>t(r.target.errorCode?new Error(r.target.errorCode):r.target.error),o.oncomplete=()=>e(r)}))))}function h(r){return f().then((e=>new Promise(((t,o)=>{let a=u(e,n).get(r);a.onerror=r=>o(r.target.errorCode?new Error(r.target.errorCode):r.target.error),a.onsuccess=()=>t(a.result&&a.result.val)}))))}function m(r,e){return f().then((t=>new Promise(((o,a)=>{let i=u(t,n).put({key:r,val:e});i.onerror=r=>a(r.target.errorCode?new Error(r.target.errorCode):r.target.error),i.onsuccess=()=>o()}))))}},9254:(r,e,t)=>{t.d(e,{default:()=>c});var o=t(2769),a=t(9562),n=t(2039),i=t(4451);const s=["badge","body","data","silent","tag","requireInteraction","renotify"],c={init:function(){(0,o.log)("pn.push notifier inited"),self.addEventListener("pushsubscriptionchange",this.onpushsubscriptionchange.bind(this)),self.addEventListener("push",this.onpush.bind(this)),self.addEventListener("notificationclick",this.onnotificationclick.bind(this)),self.addEventListener("notificationclose",this.onnotificationclose.bind(this))},onpushsubscriptionchange:function(r){if(!r.oldSubscription)return;const e=Promise.all([self.registration.pushManager.subscribe(r.oldSubscription.options),(0,o.getPushHash)()]).then((([r,e])=>{const t=r.getKey("p256dh"),a=r.getKey("auth");return(0,o.makeFetch)("/push_notifier?act=a_subscribe",{hash:e,endpoint:r.endpoint,key:t?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("p256dh")))):null,token:a?btoa(String.fromCharCode.apply(null,new Uint8Array(r.getKey("auth")))):null}).catch((r=>(0,i.statsPush)(i.STATS_EVENT_ERROR,{error:i.STATS_ERROR_CODE_REQUEST_FAILED,debug:r.stack||r.message})))}));r.waitUntil(e)},onnotificationclick:function(r){if((0,o.log)("pn.notification clicked",r),r.notification.data){const e=r.notification.data.actions[r.action||"default"];e&&(this["notification_action_"+e.type]?r.waitUntil(this["notification_action_"+e.type](e,r)):r.waitUntil((0,i.statsPush)(i.STATS_EVENT_ACTION,{action:e.type,error:i.STATS_ERROR_CODE_UNSUPPORTED_ACTION},r)))}r.notification.close()},onnotificationclose:function(r){(0,o.log)("pn.notification closed",r),r.waitUntil((0,i.statsPush)(i.STATS_EVENT_CLOSE,!1,r))},onpush:function(r){if((0,o.log)("pn.pushHandler",r),r&&r.data){let e=null;try{e=r.data.json()}catch(e){r.waitUntil((0,i.statsPush)(i.STATS_EVENT_ERROR,{error:i.STATS_ERROR_CODE_UNABLE_TO_PARSE,debug:r.data.text()},r))}e&&r.waitUntil(this.notify(e))}},notification_action_open_url:function(r,e){return(0,o.log)("pn.notification_action_open_url",r),(0,n.openUrl)({url:r.url,focus:!0}).then((()=>(0,i.statsPush)(i.STATS_EVENT_ACTION,{action:r.type},e)))},notification_action_post_url:function(r,e){return(0,o.log)("pn.notification_action_post_url",r),(0,o.makeFetch)(r.url).then((()=>(0,i.statsPush)(i.STATS_EVENT_ACTION,{action:r.type},e))).catch((t=>(0,i.statsPush)(i.STATS_EVENT_ACTION,{action:r.type,error:i.STATS_ERROR_CODE_REQUEST_FAILED,debug:t.stack||t.message},e)))},notify:function(r){return(0,o.log)("pn.notify",r),r&&(r.body||r.title||r.service)&&Notification.permission===a.PUSH_NOTIFIER_PERMISSION_GRANTED?new Promise((e=>{(r.icon||r.image)&&e((0,o.getDevicePixelRatio)()),e()})).then((e=>{const{title:t=""}=r,a=s.reduce(((e,t)=>{const o=r[t];return r[t]&&(e[t]=o),e}),{});if(r.actions&&r.data&&r.data.actions&&(a.actions=r.actions),r.icon){const t=(0,o.getSrcForSizeByDpi)(r.icon,64,e);t&&(a.icon=t)}if(r.image){const t=(0,o.getSrcForSizeByDpi)(r.image,360,e);t&&(a.image=t)}if(r.silent||(a.vibrate=r.vibrate||[0],r.sound&&(a.sound=r.sound)),a.actions){const r=Object.entries(a.data.actions).reduce(((e,[t,o])=>(this["notification_action_"+o.type]||(r[t]=1),e)),{});a.actions=a.actions.reduce(((e,t)=>(r[t.action]||e.push(t),e)),[])}return self.registration.showNotification(t,a).then((()=>(0,i.statsPush)(i.STATS_EVENT_SHOW,!1,{notification:r})))})).catch(((e="unknown")=>{o.DEBUG&&("abort_notification_expired"===e?(0,o.log)("pn.message_has_been_expired"):(console.error(`reason: ${e}`),console.error(r)))})):Promise.resolve()}}},4451:(r,e,t)=>{t.d(e,{STATS_ERROR_CODE_REQUEST_FAILED:()=>f,STATS_ERROR_CODE_RUNTIME:()=>b,STATS_ERROR_CODE_UNABLE_TO_PARSE:()=>m,STATS_ERROR_CODE_UNSUPPORTED_ACTION:()=>h,STATS_EVENT_ACTION:()=>g,STATS_EVENT_CLOSE:()=>d,STATS_EVENT_ERROR:()=>u,STATS_EVENT_SHOW:()=>p,statsPush:()=>v});var o=t(2769),a=t(9562),n=t(7024);const i=5*a.MINUTE,s=100,c=500,l="stats_flush_ts",u="error",p="show",d="close",g="action",f=1,h=2,m=3,b=4;let w=null;function v(r,e,t){const a={type:r,ts:Date.now()};let i=!1;return t&&t.notification&&t.notification.data&&(t.notification.data.stat&&(a.stat=t.notification.data.stat),t.notification.data.to_id&&(a.to_id=t.notification.data.to_id),t.notification.data.type&&(a.type_id=t.notification.data.type),t.notification.data.flush&&(i=!0)),e&&(e.action&&(a.action=e.action),e.error&&(a.error=e.error),e.debug&&(a.debug=JSON.stringify(e.debug).substr(0,c))),(0,o.log)("sw.statsPush",a),(0,n.iDBSTATSPush)(a).then(E(i))}function E(r){if(E.flushing)return(0,o.log)("sw.statsFlush"),Promise.resolve();E.flushing=!0,w&&clearTimeout(w);const e=Date.now();return new Promise((r=>{r(E.flushTs||(0,n.iDBKVGet)(l))})).then((t=>{if(e-t<i&&!r)return(0,o.log)("sw.statsFlush : Too early to flush"),Promise.reject()})).then((()=>(0,n.iDBSTATSFlush)(s))).then((r=>{E.flushTs=e,function(r){r&&r.length?((0,o.log)("sw.statsSend : Sending stats, rows "+(r&&r.length)),(0,o.makeFetch)("/push_notifier?act=stats",{json:JSON.stringify(r)}).catch((r=>(0,o.log)("sw.statsSend",r)))):(0,o.log)("sw.statsSend : No events, skip stats sending")}(r),(0,n.iDBKVSet)(l,e).then((()=>Promise.resolve(y(E,!0))))})).catch((()=>Promise.resolve(y(E))))}function y(r,e){return new Promise((t=>{r.flushing=!1,e?t():(w&&clearTimeout(w),(0,o.log)("sw.statsFlushed"),w=setTimeout((()=>t(E())),i))}))}},2769:(r,e,t)=>{t.d(e,{DEBUG:()=>l,closeFilteredNotififcation:()=>y,getDevicePixelRatio:()=>f,getNotifications:()=>E,getPushHash:()=>m,getSrcForSizeByDpi:()=>v,getWindowPushHash:()=>h,isStaticFileRequest:()=>R,isValidStaticOrigin:()=>D,log:()=>u,makeFetch:()=>w,setPushHash:()=>b});var o=t(4639),a=t(8982),n=t(7024),i=t(5971);const s="dpi",c="sw_push_hash",l=!1;function u(){return l&&self.console&&console.log(...arguments)}function p(r,e,t){const o=Array.isArray(e)?e:[[e,t]];return function(r,e){return u("sw.message",e),new Promise(((t,o)=>{const a=new MessageChannel,n=setTimeout((()=>o(new Error("Client didn't send response"))),300);a.port1.onmessage=r=>{n&&clearTimeout(n),u("sw.onmessage_port1",r),(0,i.messageCheck)(r)?t(r.data.data):o(new Error("Client response is not valid"))},r.postMessage((0,i.messageWrap)(e),[a.port2])}))}(r,{actions:o}).then((r=>r.answers?Promise.resolve(1===o.length?r.answers[0]:r.answers):Promise.reject(new Error("ServiceWorkerClient answer is incorrect"))))}function d(){return self.clients.matchAll({type:"window"})}let g;function f(r=1){return void 0!==g?Promise.resolve(g):d().then((r=>r.length?p(r[0],"devicePixelRatio").then((r=>!!r&&((0,n.iDBKVSet)(s,r).catch((()=>u("DPI db save failed"))),r))):(0,n.iDBKVGet)(s))).then((e=>e?(g=e,e):r)).catch((()=>Promise.resolve(r)))}function h(){return d().then((r=>r.length?p(r[0],"pushHash").then((r=>(b(r),r))):m())).catch((()=>{}))}function m(){return(0,n.iDBKVGet)(c)}function b(r=""){return(0,n.iDBKVSet)(c,r).catch((()=>u("push hash db save failed")))}function w(r,e={},t={}){return"POST"===(t=Object.assign({method:"POST",credentials:"include"},t)).method&&(e=Object.assign({sw:1},e),t.headers=new Headers({"Content-Type":"application/x-www-form-urlencoded"}),t.body=Object.entries(e).map((([r,e])=>`${encodeURIComponent(r)}=${encodeURIComponent(e)}`)).join("&")),fetch(new Request(r,t)).then((r=>r.text())).then((r=>{const[e,t]=function(r){let e=null,t=null;r.indexOf("\x3c!--")?(t=JSON.parse(r),t.payload?(e=t.payload[0],t=t.payload[1]):(e=t[2],t=t[3])):(r=r.replace(/^<!--/,"").replace(/-<>-(!?)>/g,"--$1>"),t=r.split("<!>").slice(4),e=t.shift(),t.forEach(((r,e)=>{if(!r.indexOf("<!")){let o=r.indexOf(">"),a=r.substr(2,o-2);switch(r=r.substr(o+1),a){case"json":t[e]=JSON.parse(r);break;case"int":case"float":t[e]=Number(r);break;case"bool":t[e]=!!r;break;case"null":t[e]=null;break;default:t.pop()}}})),"8"===e&&(t=t[0]));return[e,t]}(r);return"0"==e?Promise.resolve(t||[]):Promise.reject(new Error("8"==e?t:"Unsupported ajax answer"))}))}function v(r,e,t){if(u("sw.getSrcForSizeByDpi",r,e,t),!r||!Array.isArray(r))return;const o=e*t;let a,n=null;return r.forEach((r=>{const e=Math.abs(r.width-o);(null===n||e<n)&&(n=e,a=r)})),a?a.url:void 0}function E(){return self.registration.getNotifications?self.registration.getNotifications():Promise.reject()}function y(r){return E().then((e=>{e.filter(r).forEach((r=>{u("sw.delete_notification",r),r.close()}))}))}const q=/[^./#=&]+?\.js\?[^?]+$/,S=new RegExp(`^https:\\/\\/st[-\\d]*\\.${(0,o.escapeRE)((0,a.getHostName)())}`,"i"),T=new RegExp(`${S.source}$`,"i");function R(r){if(r.destination)return["script","style"].includes(r.destination);const e=r.headers.get("Accept")||"";return!(!e.includes("text/css")&&!e.includes("text/javascript"))||q.test(r.url)}function D(r){return r.startsWith(location.origin)||T.test(r)}},2856:(r,e,t)=>{var o=t(4451),a=t(2039),n=t(9254),i=t(2769),s=t(7347);const c=(0,a.buildActionsCaller)();function l(r){(0,i.log)("sw.onerror",r);try{r.waitUntil((0,o.statsPush)(o.STATS_EVENT_ERROR,{error:o.STATS_ERROR_CODE_RUNTIME,debug:r.error.stack||r.error.message}))}catch(r){}}function u(r){(0,i.log)("sw.onmessage",r),c(r)}!function(){if(!(0,s.isSupport)())return self.addEventListener("install",(r=>{r.waitUntil(Promise.resolve().then((()=>self.skipWaiting())).catch((()=>{})))})),void self.addEventListener("activate",(r=>{r.waitUntil(Promise.resolve().then((()=>self.clients.claim())).catch((()=>{})))}));(0,i.log)("sw,inited"),self.addEventListener("install",(r=>{r.waitUntil(self.skipWaiting())})),self.addEventListener("activate",(r=>{r.waitUntil(self.clients.claim().then((()=>Promise.all([(0,i.getDevicePixelRatio)(),(0,i.getWindowPushHash)()]))))})),self.addEventListener("error",l),self.addEventListener("message",u),n.default.init()}()},7347:(r,e,t)=>{let o;function a(r){if("boolean"==typeof o&&!r)return o;const e=navigator.userAgent.toLowerCase(),t=e.match(/(edge)\/(\d+)\.(\d+)/),a=e.match(/(chrome)\/(\d+)\.(\d+)/),n=e.match(/(firefox)\/(\d+)\.(\d+)/);if(t){const r=+t[2];return o=r>=17,o}if(a){const r=+a[2];return o=r>=60,o}if(n){const r=+n[2];return o=r>=48,o}return o=!0,o}t.d(e,{isSupport:()=>a})},8982:(r,e,t)=>{t.d(e,{VK_ORIGIN_REGEX_STRICT:()=>c,getGlobalObject:()=>u,getHostName:()=>l});t(4788);const o=r=>r.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"),a=["vk.com","vk.ru",l()].filter(((r,e,t)=>t.indexOf(r)===e)),n=a.concat(["vkontakte.ru","vk.me","userapi.com"]),i=(o(l()),a.map(o).join("|"),new RegExp("("+n.map(o).join("|")+")")),s=(new RegExp(n.map(o).join("|")),new RegExp("^"+i.source+"$"),new RegExp(`([a-zA-Z0-9\\.\\_\\-]+\\.)?${i.source}`)),c=(new RegExp("^"+s.source+"$"),new RegExp(`^(https?:\\/\\/)?${s.source}$`),new RegExp(`^(https?:\\/\\/)${s.source}$`));new RegExp(`^(https?:\\/\\/)${s.source}`),new RegExp(`^(https?:\\/\\/)?${s.source}($|\\/(.*))`),new RegExp(`^(https?:\\/\\/)${s.source}($|\\/(.*))`);function l(){var r;return(null==(r=u().vk)?void 0:r.__domain)||"vk.com"}function u(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}},8564:(r,e,t)=>{function o(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}t.d(e,{_:()=>o})},2267:(r,e,t)=>{function o(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function a(r,e,t){return e&&o(r.prototype,e),t&&o(r,t),r}t.d(e,{_:()=>a})},5766:(r,e,t)=>{function o(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}t.d(e,{_:()=>o,_define_property:()=>o})},4788:(r,e,t)=>{function o(){return o=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},o.apply(this,arguments)}t.d(e,{_:()=>o})},6372:(r,e,t)=>{function o(r,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](r):r instanceof e}t.d(e,{_:()=>o})},2253:(r,e,t)=>{t.d(e,{_:()=>a});var o=t(5766);function a(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),a.forEach((function(e){(0,o._define_property)(r,e,t[e])}))}return r}}},e={};function t(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={exports:{}};return r[o](n,n.exports,t),n.exports}t.d=(r,e)=>{for(var o in e)t.o(e,o)&&!t.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:e[o]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t(2856)})();