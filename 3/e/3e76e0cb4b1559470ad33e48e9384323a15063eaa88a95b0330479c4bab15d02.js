/**
 * @license
 * Copyright (c) 2014, 2023, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojtranslations/nls/localeElements",{root:{supplemental:{defaultRegion:{ar:"001",as:"IN",be:"BY",bg:"BG",bn:"BD",bo:"CN",brx:"IN",bs:"BA",ca:"ES",cs:"CZ",da:"DK",de:"DE",el:"GR",en:"US",es:"ES",et:"EE",fi:"FI",fr:"FR",ga:"IE",gu:"IN",he:"IL",hi:"IN",hr:"HR",hu:"HU",id:"ID",is:"IS",it:"IT",ja:"JP",kn:"IN",ko:"KR",kok:"IN",ks:"IN","ks-Arab":"IN",lt:"LT",lv:"LV",mk:"MK",ml:"IN",mr:"IN",ms:"MY",mt:"MT",nb:"NO",ne:"NP",nl:"NL",nn:"NO",no:"NO",or:"IN",pa:"IN","pa-Guru":"IN","pa-Arab":"PK",pl:"PL",pt:"BR",ro:"RO",ru:"RU",sk:"SK",sl:"SI",sq:"AL",sr:"RS","sr-Cyrl":"RS","sr-Latn":"RS",sv:"SE",ta:"IN",te:"IN",th:"TH",tr:"TR",uk:"UA",ur:"PK",vi:"VN",zh:"CN","zh-Hans":"CN","zh-Hant":"TW"},weekData:{firstDay:{"001":1,AE:6,BH:6,BR:0,DZ:6,EG:6,IQ:6,JO:6,KW:6,LB:1,LY:6,MA:6,OM:6,QA:6,SA:0,SD:6,SY:6,TN:0,YE:0,BY:1,BG:1,ES:1,CZ:1,DK:1,AT:1,CH:1,DE:1,LU:1,CY:1,GR:1,AU:0,CA:0,GB:1,IE:0,IN:0,MT:0,NZ:0,PH:0,SG:0,US:0,ZA:0,AR:0,CL:1,CO:0,CR:1,DO:0,EC:1,GT:0,HN:0,MX:0,NI:0,PA:0,PE:0,PR:0,PY:0,SV:0,UY:1,VE:0,EE:1,FI:1,BE:1,FR:1,IL:0,HR:1,HU:1,ID:0,IS:1,IT:1,JP:0,KR:0,LT:1,LV:1,MK:1,MY:1,NO:1,NL:1,PL:1,PT:1,RO:1,RU:1,SK:1,SI:1,AL:1,BA:1,ME:1,RS:1,SE:1,TH:0,TR:1,UA:1,VN:1,CN:0,HK:0,MO:0,TW:0},weekendStart:{"001":6,AE:5,BH:5,DZ:5,EG:5,IQ:5,JO:5,KW:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,SY:5,TN:5,YE:5,IN:0,IL:5},weekendEnd:{"001":0,AE:6,BH:6,DZ:6,EG:6,IQ:6,JO:6,KW:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SY:6,TN:6,YE:6,IL:6}},prefferedHours:{"001":"H",AE:"h",BH:"h",DZ:"h",EG:"h",IQ:"h",JO:"h",KW:"h",LB:"h",LY:"h",MA:"H",OM:"h",QA:"h",SA:"h",SD:"h",SY:"h",TN:"h",YE:"h",BG:"H",ES:"H",CZ:"H",DK:"H",AT:"H",CH:"H",DE:"H",LU:"H",CY:"h",GR:"h",AU:"h",CA:"h",GB:"H",IE:"H",IN:"h",NZ:"h",PH:"h",SG:"h",US:"h",ZA:"h",AR:"H",BO:"H",CL:"H",CO:"h",CR:"H",CU:"H",DO:"h",EC:"H",GT:"H",HN:"H",MX:"H",NI:"H",PA:"h",PE:"H",PR:"h",SV:"H",UY:"H",VE:"h",EE:"H",FI:"H",BE:"H",FR:"H",IL:"H",HR:"H",ID:"H",IS:"H",IT:"H",JP:"H",KR:"h",LT:"H",LV:"H",MK:"H",MY:"h",NL:"H",PT:"H",RO:"H",RU:"H",SK:"H",SI:"H",AL:"h",BA:"H",ME:"H",RS:"H",SE:"H",TR:"H",UA:"H",CN:"h",HK:"h",MO:"h",TW:"h"},currencyData:{fractions:{IDR:{_digits:"0"},JPY:{_digits:"0"},KRW:{_digits:"0"},AFN:{_digits:"0"},ADP:{_digits:"0"},BHD:{_digits:"3"},BYR:{_digits:"0"},BIF:{_digits:"0"},XOF:{_digits:"0"},XAF:{_digits:"0"},XPF:{_digits:"0"},CLP:{_digits:"0"},KMF:{_digits:"0"},DJF:{_digits:"0"},STD:{_digits:"0"},PYG:{_digits:"0"},GNF:{_digits:"0"},ISK:{_digits:"0"},IQD:{_digits:"0"},ITL:{_digits:"0"},LAK:{_digits:"0"},KWD:{_digits:"3"},MMK:{_digits:"0"},LBP:{_digits:"0"},ALL:{_digits:"0"},SLL:{_digits:"0"},LUF:{_digits:"0"},LYD:{_digits:"3"},MGF:{_digits:"0"},TMM:{_digits:"0"},KPW:{_digits:"0"},MRO:{_digits:"0"},IDR:{_digits:"2"},RWF:{_digits:"0"},RSD:{_digits:"0"},SOS:{_digits:"0"},ESP:{_digits:"0"},SYP:{_digits:"0"},TND:{_digits:"3"},TRL:{_digits:"0"},UYW:{_digits:"4"},CLF:{_digits:"4"},UYI:{_digits:"0"},VUV:{_digits:"0"},YER:{_digits:"0"},ZMK:{_digits:"0"},ZWD:{_digits:"0"},VND:{_digits:"0"}}}}},ar:1,"ar-AE":1,"ar-BH":1,"ar-DZ":1,"ar-EG":1,"ar-IQ":1,"ar-JO":1,"ar-KW":1,"ar-LB":1,"ar-LY":1,"ar-MA":1,"ar-OM":1,"ar-QA":1,"ar-SA":1,"ar-SD":1,"ar-SY":1,"ar-TN":1,"ar-YE":1,as:1,be:1,"be-BY":1,bg:1,"bg-BG":1,bn:1,bo:1,"bo-IN":1,brx:1,bs:1,"bs-Cyrl":1,"bs-Cyrl-BA":1,"bs-Latn":1,"bs-Latn-BA":1,ca:1,"ca-ES":1,cs:1,"cs-CZ":1,da:1,"da-DK":1,de:1,"de-AT":1,"de-CH":1,"de-DE":1,"de-LU":1,el:1,"el-CY":1,"el-GR":1,en:1,"en-AU":1,"en-CA":1,"en-GB":1,"en-IE":1,"en-IN":1,"en-MT":1,"en-NZ":1,"en-PH":1,"en-SG":1,"en-US":1,"en-ZA":1,es:1,"es-AR":1,"es-BO":1,"es-CL":1,"es-CO":1,"es-CR":1,"es-CU":1,"es-DO":1,"es-EC":1,"es-ES":1,"es-GT":1,"es-HN":1,"es-MX":1,"es-NI":1,"es-PA":1,"es-PE":1,"es-PR":1,"es-PY":1,"es-SV":1,"es-US":1,"es-UY":1,"es-VE":1,et:1,"et-EE":1,fi:1,"fi-FI":1,fr:1,"fr-BE":1,"fr-CA":1,"fr-CH":1,"fr-FR":1,"fr-LU":1,ga:1,"ga-IE":1,gu:1,he:1,"he-IL":1,hi:1,"hi-IN":1,hr:1,"hr-HR":1,hu:1,"hu-HU":1,id:1,"id-ID":1,is:1,"is-IS":1,it:1,"it-CH":1,"it-IT":1,ja:1,"ja-JP":1,kn:1,ko:1,"ko-KR":1,kok:1,ks:1,lt:1,"lt-LT":1,lv:1,"lv-LV":1,mk:1,"mk-MK":1,ml:1,mr:1,ms:1,"ms-MY":1,mt:1,"mt-MT":1,nb:1,"nb-NO":1,ne:1,"ne-IN":1,nl:1,"nl-BE":1,"nl-NL":1,nn:1,"nn-NO":1,no:1,"no-NO":1,or:1,pa:1,pl:1,"pl-PL":1,pt:1,"pt-BR":1,"pt-PT":1,ro:1,"ro-RO":1,ru:1,"ru-RU":1,sk:1,"sk-SK":1,sl:1,"sl-SI":1,sq:1,"sq-AL":1,sr:1,"sr-Cyrl":1,"sr-Cyrl-BA":1,"sr-Cyrl-ME":1,"sr-Cyrl-RS":1,"sr-Latn":1,"sr-Latn-BA":1,"sr-Latn-ME":1,"sr-Latn-RS":1,sv:1,"sv-SE":1,ta:1,te:1,th:1,"th-TH":1,tr:1,"tr-TR":1,uk:1,"uk-UA":1,ur:1,"ur-IN":1,vi:1,"vi-VN":1,zh:1,"zh-Hans":1,"zh-Hans-CN":1,"zh-Hans-SG":1,"zh-Hant":1,"zh-Hant-HK":1,"zh-Hant-MO":1,"zh-Hant-TW":1,__noOverlay:!0,__defaultNoOverlayLocale:"en-US"}),define("ojs/ojcalendarutils",["exports"],function(e){"use strict";class t{static _getDayPeriods(e,i){var n=new Date(2019,0,1,0,0,0);function r(e){const t=e.formatToParts(n).find(e=>"dayPeriod"===e.type);if(t)return t.value}var s=t.getFormatterLocale(e,i),a=new Intl.DateTimeFormat(s,{hour:"numeric",hour12:!0});const o=r(a);n.setHours(20);return{format:{wide:{am:o,pm:r(a)}}}}tatic _getEras(e,i){const n=[{era:"0",start:"2000-02-11T00:00:00"}];var r={eraNarrow:{0:"",1:""},eraAbbr:{0:"",1:""},eraName:{0:"",1:""}};function s(e,t){const i=e.formatToParts(t).find(e=>"era"===e.type);if(i)return i.value}const a=["narrow","short","long"],o=t.getFormatterLocale(e,i),l={narrow:"eraNarrow",short:"eraAbbr",long:"eraName"};for(let e=0;e<n.length;e++){let t=new Date(n[e].start);for(let e=0;e<a.length;e++){const i=a[e],n={year:"numeric",month:"numeric",day:"numeric",era:i};const u=s(new Intl.DateTimeFormat(o,n),t),d={0:u,1:u};r[l[i]]=d}}return r}static _fillMonthAndDays(e,i,n,r,s){const a=[[2020,0,5],[2020,1,3],[2020,2,3],[2020,3,1],[2020,4,7],[2020,5,5],[2020,6,4],[2020,7,1],[2020,8,1],[2020,9,1],[2020,10,1],[2020,11,1]];function o(e){const t=e.find(e=>"month"===e.type);return t?t.value:null}onst u=t.getFormatterLocale(e,i),d=new Intl.DateTimeFormat(u,r),c={},h={};for(let e=0;e<a.length;e++){const i=e+1,r=t._weekdaysFormatMap[i],u=new Date(a[e][0],a[e][1],a[e][2]),p=d.formatToParts(u);let _,m;s?(_=d.format(u),m=d.format(u)):(_=o(p),m=l(p)),void 0===c[n]&&(c[n]={}),c[n][i]=_,i<=7&&(void 0===h[n]&&(h[n]={}),h[n][r]=m)}return{monthFormat:c,dayFormat:h}}static _getFormatMonthAndDays(e,i){const n=[],r=[],s=["short","narrow","long"];for(let a=0;a<s.length;a++){const o={month:s[a],weekday:s[a],year:"numeric",day:"numeric"},l=t._monthNamesFormatMap[s[a]];let u=t._fillMonthAndDays(e,i,l,o,!1);n[a]=u.monthFormat,r[a]=u.dayFormat}const a=Object.assign({},...n),o=Object.assign({},...r);let l={format:{}};l.format=a;let u={format:{}};return u.format=o,l["stand-alone"]=l.format,u["stand-alone"]=u.format,{monthsNode:l,daysNode:u}}static _getStandAloneDays(e,i){const n=[],r=["short","narrow","long"];for(let a=0;a<r.length;a++){var s={weekday:r[a]};const o=t._monthNamesFormatMap[r[a]];let l=t._fillMonthAndDays(e,i,o,s,!0);n[a]=l.dayFormat}let a=Object.assign({},...n),o={"stand-alone":{}};return o["stand-alone"]=a,{daysNode:o}}static _getStandAloneMonths(e,i){const n=[],r=["short","narrow","long"];for(let a=0;a<r.length;a++){var s={month:r[a]};const o=t._monthNamesFormatMap[r[a]];let l=t._fillMonthAndDays(e,i,o,s,!0);n[a]=l.monthFormat}let a=Object.assign({},...n),o={"stand-alone":{}};return o["stand-alone"]=a,{monthsNode:o}}static getCalendar(e,i){var n,r;if(t.calendars=null!==(n=t.calendars)&&void 0!==n?n:{},t.calendars[e]=null!==(r=t.calendars[e])&&void 0!==r?r:{},void 0===t.calendars[e][i]){const n=t._getDayPeriods(e,i),r=t._getEras(e,i);let s,a;const o=t._getStandAloneMonths(e,i),l=t._getStandAloneDays(e,i);if(t.exceptionLocales.includes(e))s=o.monthsNode["stand-alone"],a=l.daysNode["stand-alone"];else{const n=t._getFormatMonthAndDays(e,i);s=n.monthsNode.format,a=n.daysNode.format}const u={format:s,"stand-alone":o.monthsNode["stand-alone"]},d={format:a,"stand-alone":l.daysNode["stand-alone"]};t.calendars[e][i]={dayPeriods:n,months:u,days:d,eras:r,locale:e}}return t.calendars[e][i]}}t._monthNamesFormatMap={short:"abbreviated",narrow:"narrow",long:"wide"},t._weekdaysFormatMap={1:"sun",2:"mon",3:"tue",4:"wed",5:"thu",6:"fri",7:"sat"},t.exceptionLocales=["ja","ja-JP","zh","zh-Hans","zh-Hans-CN","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hant","zh-Hant-HK","zh-Hant-MO","zh-Hant-TW"],e.CalendarUtils=t,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojlocaledata",["exports","ojs/ojcore-base","ojL10n!ojtranslations/nls/localeElements","ojs/ojcalendarutils"],function(e,t,i,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r=i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const s={};t._registerLegacyNamespaceProp("LocaleData",s),s.setBundle=s.getFirstDayOfWeek=function(){return s._getWeekData("firstDay")},s.getWeekendStart=function(){return s._getWeekData("weekendStart")},s.getWeekendEnd=s.getDayNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=s._getCalendarData().days["stand-alone"][e];return[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat]},s.getMonthNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=s._getCalendarData().months["stand-alone"][e];return[t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]]},s.isMonthPriorToYear=function(){var e=t.Config.getLocale(),i=new Date,n=new Intl.DateTimeFormat(e,{dateStyle:"long"}).formatToParts(i);return n.findIndex(e=>"month"===e.type)<n.findIndex(},s._getWeekData=function(e){var t=s.__getBundle(),i=s._getRegion()||"001",n=t.supplemental.weekData[e],r=n[i];return void 0===r&&(r=n["001"]),r},s._getCalendarData=function(){var e=t.Config.getLocale();return n.CalendarUtils.getCalendar(e,"gregory")},s._getRegion=function(){var e=t.Config.getLocale();if(e){var i=e.toUpperCase().split(/-|_/);if(i.length>=2){var n=i[1];if(4!==n.length)return n;if(i.length>=3)return i[2]}}return s.__getBundle().supplemental.defaultRegion[e]},s.__getBundle=function(){var e=s._bundle;return e||r},s.__updateBundle=function(e){r=e};const a=s.getDayNames,o=s.getFirstDayOfWeek,l=s.getMonthNames,u=s.getWeekendEnd,d=s.getWeekendStart,c=s.isMonthPriorToYear,h=s.setBundle,p=s.__getBundle,_=s._getCalendarData;e.__getBundle=p,e._getCalendarData=_,e.getDayNames=a,e.getFirstDayOfWeek=o,e.getMonthNames=l,e.getWeekendEnd=u,e.getWeekendStart=d,e.isMonthPriorToYear=c,e.setBundle=h,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverterutils",["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;eturn i.getConverterInstance=function(i){let n="",r={},s=null;if(i&&("object"==typeof i&&(i.parse&&"function"==typeof i.parse||i.format&&"function"==typeof i.format?s=i:(n=i.type,r=i.options||{})),!s&&(n=n||i,n&&"string"==typeof n))){if(e.Validation&&e.Validation.converterFactory)return e.Validation.converterFactory(n).createConverter(r);t.error('oj.Validation.converterFactory is not available and it is needed to support the deprecated json format for the converters property. Please include the backward compatibility "ojvalidation-base" module.')}return s},i}),define("ojs/ojvalidator",["ojs/ojcore"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const t=function(e){this.Init(e)};return e.Object.createSubclass(t,e.Object,"oj.Validator"),t.prototype.Init=t}),define("ojs/ojvalidation-error",["exports","ojs/ojcore","ojs/ojmessaging"],function(e,t,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const n=function(e,t){var n={summary:e,detail:t,severity:i.SEVERITY_LEVEL.ERROR};this.Init(n)};n.prototype=new Error,t._registerLegacyNamespaceProp("ValidatorError",n),n.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Validator Error",this.message=t||i},n.prototype.getMessage=function(){return this._message};const r=function(e,t){var n={summary:e,detail:t,severity:i.SEVERITY_LEVEL.ERROR};this.Init(n)};r.prototype=new Error,t._registerLegacyNamespaceProp("ConverterError",r),r.prototype.Init=function(e){var t=e.detail,i=e.summary;this._message=e,this.name="Converter Error",this.message=t||i},r.prototype.getMessage=function(){return this._message},e.ConverterError=r,e.ValidatorError=n,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvalidator-required",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const r=function(e){this.Init(e)};return e.Object.createSubclass(r,i,"oj.RequiredValidator"),r._BUNDLE_KEY_DETAIL="oj-validator.required.detail",r._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",r.prototype.Init=function(e){r.superclass.Init.call(this),this._options=e},r.prototype.validate=function(e){var i,r,s,a,o,l="";if(null==e||("string"==typeof e||e instanceof Array)&&0===e.length)throw this._options&&(i=this._options.messageDetail||this._options.message||null,a=this._options.messageSummary||null,l=this._options.label||""),o={label:l},s=a?t.applyParameters(a,o):t.getTranslatedString(this._getSummaryKey(),o),r=i?t.applyParameters(i,o):t.getTranslatedString(this._getDetailKey(),o),new n.ValidatorError(s,r)},r.prototype.getHint=function(){var e="";return this._options&&this._options.hint&&(e=t.getTranslatedString(this._options.hint)),e},r.prototype._getSummaryKey=function(){return r._BUNDLE_KEY_SUMMARY},r.prototype._getDetailKey=function(){return r._BUNDLE_KEY_DETAIL},r}),define("ojs/ojeditablevalue",["exports","ojs/ojcore-base","ojs/ojcomponentcore","jquery","ojs/ojlabel","ojs/ojthemeutils","ojs/ojfocusutils","ojs/ojcontext","ojs/ojlogger","ojs/ojvalidator-required","ojs/ojlabelledbyutils","ojs/ojtranslation","ojs/ojmessaging","ojs/ojconverterutils","ojs/ojvalidation-error","ojs/ojpopup","hammerjs","ojs/ojjquery-hammer","ojs/ojdomutils","ojs/ojanimation"],function(e,t,i,n,r,s,a,o,l,u,d,c,h,p,_,m,f,g,v,b){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;const y=function(e){this.Init(e)};t.Object.createSubclass(y,t.MessagingStrategy,"BaseInsideLabelStrategy"),y.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},y.prototype._CreateLabel=function(){var e=this.GetComponent(),t=this._GetContainer(e);if(!t)return;var i=e.options,n=e._getRootElement(),r=this._GetFormControlLabelStyleClass();n.classList.add(r),this.GenerateIdIfNeeded(n),this._showUserAssistanceNotInline=e._showUserAssistanceNotInline();let s=i.required&&this._showUserAssistanceNotInline;this._createOjLabelElement(n,e,t,i.labelHint,s,i.helpHints,this._showUserAssistanceNotInline)},y.prototype._createOjLabelElement=function(e,t,i,n,r,s,a){var o=document.createElement("oj-label");o.id=y._getLabelId(e),o.setAttribute("data-oj-binding-provider","none"),o.setAttribute("data-oj-internal",""),o.setAttribute("for",e.id);var l=[t._GetDefaultStyleClass(),"label"].join("-");o.classList.add(l),r&&o.setAttribute("show-required",r),a&&s&&(o.help=s);var u=document.createElement("span");u.id=[e.id,"|hint"].join(""),u.textContent=n,o.appendChild(u),this._InsertOjLabel(o,i,t),this._CreateEventHandlers(u,e,o,t)},y.prototype._GetContainer=y.prototype._CreateEventHandlers=function(e,t,i,n){this._labelHintChangedCallback=y._labelHintChangedHandler.bind(this,e),t.addEventListener("labelHintChanged",this._labelHintChangedCallback),this._requiredChangedCallback=y._requiredChangedHandler.bind(this,i,n),t.addEventListener("requiredChanged",this._requiredChangedCallback),this._helpHintsChangedCallback=y._helpHintsChangedHandler.bind(this,i,n),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},y.prototype._DestroyLabel=function(){var e=this.GetComponent(),t=e.options,i=e._getRootElement(),n=this._GetFormControlLabelStyleClass();i.classList.remove(n);var r=y._getLabelId(i);const s=i.querySelector(`[id='${r}']`);s&&(s.for="",s.parentElement.removeChild(s)),t.labelledBy=void 0,this._DeleteEventHandlers(i)},y.prototype._DeleteEventHandlers=function(e){e.removeEventListener("labelHintChanged",this._labelHintChangedCallback),e.removeEventListener("requiredChanged",this._requiredChangedCallback),e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback,delete this._labelHintChangedCallback,delete this._requiredChangedCallback},y._getLabelId=function(e){return[e.id,"-labelled-by"].join("")},y._labelHintChangedHandler=y._requiredChangedHandler=function(e,t,i){null==this._showUserAssistanceNotInline&&(this._showUserAssistanceNotInline=t._showUserAssistanceNotInline()),e.showRequired=i.detail.value&&this._showUserAssistanceNotInline},y._helpHintsChangedHandler=function(e,t,i){this._showUserAssistanceNotInline=t._showUserAssistanceNotInline(),this._showUserAssistanceNotInline&&(e.help=i.detail.value)};const E={validationContext:{COMPONENT_CREATE:1,CONVERTER_OPTION_CHANGE:2,DISABLED_OPTION_CHANGE:3,READONLY_OPTION_CHANGE:4,REFRESH_METHOD:5,REQUIRED_OPTION_CHANGE:6,RESET_METHOD:7,USER_ACTION:8,VALIDATE_METHOD:9,VALIDATORS_OPTION_CHANGE:10,VALUE_OPTION_CHANGE:11}};E.validateMethodOptions={doValueChangeCheck:!1,validationContext:E.validationContext.VALIDATE_METHOD},E.converterOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.CONVERTER_OPTION_CHANGE},E.disabledOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.DISABLED_OPTION_CHANGE},E.requiredOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REQUIRED_OPTION_CHANGE},E.readOnlyOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.READONLY_OPTION_CHANGE},E.refreshMethodOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REFRESH_METHOD},E.validatorsOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.VALIDATORS_OPTION_CHANGE};E.VALIDATE_VALUES={VALID:"valid",INVALID:"invalid"},E.getAttributeValue=function(e,t){var i,n={};if(e&&t){var r=e[0];switch(t){case"disabled":i=r.hasAttribute("disabled")?!!r.disabled:void 0;break;case"pattern":i=r.pattern||void 0;break;case"placeholder":i=r.placeholder||void 0;break;case"readonly":i=r.hasAttribute("readonly")?!!r.readOnly:void 0;break;case"required":if(r.hasAttribute("required")){var s=r.required;i=void 0===s||!!s}else i=void 0;break;case"title":i=r.hasAttribute("title")?r.title:void 0;break;case"value":i=e.val()||void 0;break;case"min":case"max":default:i=r.getAttribute(t)||void 0}}return void 0!==i?(n.fromDom=!0,n.value=i):n.fromDom=!1,n},E.initializeOptionsFromDom=function(e,t,i,n){for(var r={},s=0;s<e.length;s++){var a,o,l=e[s],u=l.attribute,d=l.option||u,c=l.coerceDomValue,h=l.validateOption,p=i.element,_=i.options[d];void 0===t[d]&&(_=i.options[d],(o=E.getAttributeValue(p,u)).fromDom&&(a=o.value,c&&("boolean"==typeof c?a=E.coerceDomValueForOption(d,a):"function"==typeof c&&(a=c.call(i,a))),r[d]=a));var m=d in r?r[d]:_;h&&"boolean"==typeof h&&E.validateValueForOption(d,m)}null!=n&&n(r),i.option(r,{_context:{writeback:!0,internalSet:!0}})},E.validateValueForOption=function(e,t){var i=!1;switch(e){case"required":null!==t&&"boolean"!=typeof t&&(i=!0);break;case"readOnly":case"disabled":null!==t&&"boolean"!=typeof t&&(i=!0)}if(i)throw new Error("Option '"+e+"' has invalid value set: "+t)},E.coerceDomValueForOption=function(e,t){var i=t;switch(e){case"required":i=!!t}return i},E.setPickerAttributes=function(e,t){if(e&&t){var i=t.class;if(i)for(var n=i.split(" "),r=0,s=n.length;r<s;++r)e[0].classList.add(n[r]);t.style&&l.error("picker-attributes.style attribute violates the recommended\n        Content Security Policy which disallows inline styles and is therefore ignored.\n        Use the picker-attributes.class attribute instead.")}},E.hasNoLabelFlag=E._getOjLabelAriaLabelledBy=function(e,t){var i,n=E._getCustomOjLabelElements(e);if(n){i="";for(var r=0;r<n.length;r++){var s=n[r],a=s.getAttribute("label-id");if(!a){var o=s.querySelector("label");o?a=o.getAttribute("id"):(s.setAttribute("label-id",t),a=t)}i+=a,r+1<n.length&&(i+=" ")}}return i},E._getCustomOjLabelElements=function(e){var t=[];if(e)for(var i=e.split(/\s+/),n=0;n<i.length;n++){var r=i[n],s=document.getElementById(r);s?t.push(s):l.info("Cannot find oj-label with id "+s)}return t},E._initInputIdLabelForConnection=function(e,t,i){t&&(e.setAttribute("id",t+"|input"),i&&this._linkLabelForInputComp(i,e.id)),i&&this._setReadonlyDivLabelledBy(i)},E._labelledByUpdatedForInputComp=function(e,t){e&&(t&&this._linkLabelForInputComp(e,t),this._setReadonlyDivLabelledBy(e)),this._IsRequired()&&this.options.translations.required&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator())},E._linkLabelForInputComp=E._setReadonlyDivLabelledBy=function(e){t.Assert.assert(e);let i=this._getReadonlyDiv();i&&i.setAttribute("aria-labelledby",e+"|label")},E._createOrUpdateReadonlyDiv=function(e,t=!0){let i=this._getReadonlyDiv();if(!i&&t){if(i=this._createReadonlyDiv(e),!i)return;this.options.labelledBy&&this._setReadonlyDivLabelledBy(this.options.labelledBy),this._setAriaLabelFromLabelHint()}i&&(i.textContent=this._GetDisplayValue(),E._setTabIndex(e,i))},E._setTabIndex=function(e,t){let i=e.tabIndex;null!==i&&(t.tabIndex=i)},E._setDataOjInputIdAttrOnLabel=function(e,t){if(t)for(var i=0;i<t.length;i++){t[i].setAttribute("data-oj-input-id",e)}},E.validate=function(){var e;if(e=this._SetValue(this._GetDisplayValue(),null,this._VALIDATE_METHOD_OPTIONS),this._IsCustomElement()){if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});e=Promise.resolve(e?"valid":"invalid")}else if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});return e},E._refreshRequired=function(e){var t,i,n,r=this._AriaRequiredUnsupported();if(this._refreshTheming("required",e),r||(i=this._GetContentElement(),(n=e)&&i?i[0].setAttribute("aria-required",n):i[0].removeAttribute("aria-required")),!this._IsCustomElement()&&(this.$label||this._createOjLabel(),this.$label&&(this.$label.ojLabel("option","showRequired",e),r))){var s=this._getAriaLabelledByElement(this.element);if(null!==s&&0!==s.length&&(t=s[0].getAttribute("id")),t){let i=t+"_requiredIcon";e?this._describedByUpdated(null,i):this._describedByUpdated(i,null)}}},E._AfterSetOptionRequired=E._AfterSetOptionValidators=function(){var e;this._ResetAllValidators(),this._hasInvalidMessagesShowing()&&(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.validatorsOptionOptions))},E._AfterSetOptionAsyncValidators=function(){this._AfterSetOptionValidators()},E._AfterSetOptionConverter=function(){this._converter=null,this._converterChangedCounter+=1;var e=this._GetConverter();if(e instanceof Promise){var t=this;this._setBusyStateAsyncConverterLoading();var i=this._converterChangedCounter;this._loadingConverter(e).then(function(){i===t._converterChangedCounter&&t._ResetConverter(),t._clearBusyStateAsyncConverterLoading()})}else this._ResetConverter()},E._AfterCreateConverterCached=function(){this._HasPlaceholderSet()&&(this._SetPlaceholder(this.options.placeholder),this._customPlaceholderSet=!0),this._initComponentMessaging(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL),this._Refresh("value",this.options.value,!1),this.options.messagesShown.length>0&&this._setMessagesOption("messagesShown",this.options.messagesShown,null,!0)},E._ResetConverter=function(){var e;this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT)),this._hasInvalidMessagesShowing()?(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.converterOptionOptions)):this._Refresh("converter",this.options.converter,!0)},E._GetNormalizedValidatorsFromOption=function(){var e,i,n,r,s,a,o=!0,u=[];if(n=this.options.validators)for(e=0;e<n.length;e++)"object"==typeof(i=n[e])?(i.validate&&"function"==typeof i.validate||(o=!1),o||(a=i.type)&&"string"==typeof a&&(t.Validation&&t.Validation.validatorFactory?s=t.Validation.validatorFactory(a):l.error('oj.Validation.validatorFactory is not available and it is needed to support the deprecated json format for validators property. Please include the backward compatibility "ojvalidation-base" module.'),s&&((r=t.CollectionUtils.copyInto({},i.options)||{}).converter=r.converter||this._GetConverter(),r.label=r.label||this._getLabelText(),i=s.createValidator(r))),u.push(i)):l.error("Unable to parse the validator provided:"+i);return u},E._GetNormalizedAsyncValidatorsFromOption=function(){var e,t,i,n=[];for(i=this.options.asyncValidators,e=0;e<i.length;e++)"object"==typeof(t=i[e])?t.validate&&"function"==typeof t.validate&&n.push(t):l.error("Unable to parse the validator provided:"+t);return n},E._GetConverter=function(){var e,t,i,n=this;if(!this._converter){if((e=this.options.converter)instanceof Promise?i=e:t=p.getConverterInstance(e),i)return i.then(function(e){return n._converter=e,n._converter||null});this._converter=t}return this._converter||null},E._SetBusyState=function(e){void 0===this._resolveBusyStateAsyncMap&&(this._resolveBusyStateAsyncMap=new Map);var t=this._resolveBusyStateAsyncMap.get(e);if(!t){var i=this.element[0],n=o.getContext(i).getBusyContext(),r="The page is waiting for async validators for displayValue "+e;i&&i.id&&(r+=' for "'+i.id+'" '),r+="to finish.",t=n.addBusyState({description:r}),this._resolveBusyStateAsyncMap.set(e,t)}},E._ClearBusyState=function(e){var t;void 0!==this._resolveBusyStateAsyncMap&&(t=this._resolveBusyStateAsyncMap.get(e))&&(t(),this._resolveBusyStateAsyncMap.delete(e))},E._SetBusyStateAsyncValidatorHint=function(e){void 0===this._resolveBusyStateAsyncValidatorHintMap&&(this._resolveBusyStateAsyncValidatorHintMap=new Map);var t=this._resolveBusyStateAsyncValidatorHintMap.get(e);if(!t){var i=this.element[0],n=o.getContext(i).getBusyContext(),r="The page is waiting for async validator hint for counter "+e;i&&i.id&&(r+=' for "'+i.id+'" '),r+="to finish.",t=n.addBusyState({description:r}),this._resolveBusyStateAsyncValidatorHintMap.set(e,t)}},E._ClearBusyStateAsyncValidatorHint=function(e){var t;void 0!==this._resolveBusyStateAsyncValidatorHintMap&&(t=this._resolveBusyStateAsyncValidatorHintMap.get(e))&&(t(),this._resolveBusyStateAsyncValidatorHintMap.delete(e))},E._SetBusyStateAsyncConverterLoading=function(){if(!this._resolveBusyStateAsyncConverterLoading){var e=this.element[0],t=o.getContext(e).getBusyContext(),i="The page is waiting for async converter loading ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to finish.",this._resolveBusyStateAsyncConverterLoading=t.addBusyState({description:i})}},E._ClearBusyStateAsyncConverterLoading=function(){void 0!==this._resolveBusyStateAsyncConverterLoading&&(this._resolveBusyStateAsyncConverterLoading(),delete this._resolveBusyStateAsyncConverterLoading)},E._getShowLoadingDelay=function(){null==this._defaultOptions&&(this._defaultOptions=s.parseJSONFromFontFamily("oj-form-control-option-defaults"));var e=parseInt(this._defaultOptions.showIndicatorDelay,10);return isNaN(e)?0:e},E._SetInputType=function(e){var i="text",n=t.AgentUtils.getAgentInfo();if(n.os===t.AgentUtils.OS.ANDROID||n.os===t.AgentUtils.OS.IOS||n.os===t.AgentUtils.OS.WINDOWSPHONE)if(e.indexOf(this.options.virtualKeyboard)>=0)i=this.options.virtualKeyboard;else{var r=this._GetConverter();if(r&&r.resolvedOptions){var s=r.resolvedOptions();e.indexOf(s.virtualKeyboardHint)>=0&&(i=s.virtualKeyboardHint)}}null==i?this.element[0].removeAttribute("type"):this.element[0].setAttribute("type",i)},E._createReadonlyDiv=function(e){if(this._UseReadonlyDiv()){var t=document.createElement("div");t.classList.add("oj-text-field-readonly-div");var i=document.createElement("div");return i.classList.add("oj-text-field-readonly"),i.setAttribute("role","textbox"),i.setAttribute("aria-readonly",!0),t.appendChild(i),e.parentNode.insertBefore(t,e),i}return null},E._getReadonlyDiv=function(){return this.widget()[0].querySelector(".oj-text-field-readonly")};var C={MESSAGES:"display",VALIDATOR_HINT:"display",CONVERTER_HINT:"display"},S={MESSAGES:["inline"],VALIDATOR_HINT:["notewindow"],CONVERTER_HINT:["placeholder","notewindow"]};t.__registerWidget("oj.editableValue",n.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:{},help:void 0,helpHints:{definition:"",source:""},labelHint:"",labelEdge:void 0,messagesCustom:[],messagesHidden:void 0,messagesShown:void 0,title:"",userAssistanceDensity:"reflow",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(e){var t;if(!(t=this._super(e))&&!this._IsCustomElement()&&"oj-label-help-icon"===e.subId){var i=this._GetLabelElement();i&&(t=i.parent().find(".oj-label-help-icon"))}return t||null},getSubIdByNode:function(e){var t,i,r,s=null;return null!=e&&null!=(t=n(e).closest("a.oj-label-help-icon"))&&null!=(i=t.closest(".oj-label"))&&(r=i.find("label")[0])&&r===this._GetLabelElement()[0]&&(s={subId:"oj-label-help-icon"}),s},isValid:function(){return void 0===this._valid&&(this._valid=!this._hasInvalidMessages()),this._valid},refresh:function(){this._super(),this._doRefresh()},reset:function(){this._clearAllMessages(),this._runDeferredValidation(this._VALIDATION_CONTEXT.RESET_METHOD),this._refreshComponentDisplayValue(this.options.value,!0)},showMessages:function(){var e,t,i,n=[],r=this.options.messagesHidden,s=r.length>0;for(e=0;e<r.length;e++)(t=r[e])instanceof h.ComponentMessage?(t._forceDisplayToShown(),i=t.clone()):i=new h(t.summary,t.detail,t.severity),n.push(i);s&&(this._clearMessages("messagesHidden"),this._updateMessagesOption("messagesShown",n),this._setValidOption("invalidShown",null))},_VALIDATION_MODE:{FULL:1,VALIDATORS_ONLY:2,REQUIRED_VALIDATOR_ONLY:3},_VALIDATION_CONTEXT:E.validationContext,_VALIDATE_METHOD_OPTIONS:E.validateMethodOptions,_InitOptions:_ComponentCreate:function(){var e=this.element,t=this._GetSavedAttributes(e);if(this._super(),this.options.messagesCustom=this.options.messagesCustom||[],this.options.messagesHidden=[],this.options.messagesShown=this.options.messagesCustom.length>0?this._cloneMessagesBeforeSet(this.options.messagesCustom):[],this._SetDisabledDom(e),t&&!this._IsCustomElement()){var i=e[0].tagName.toLowerCase();"input"!==i&&"textarea"!==i||["required","title","pattern"].forEach(function(i){i in t&&e.removeAttr(i)})}},_AfterCreate:function(){var e,t=this;this._super(),this._refreshTheming("disabled",this.options.disabled),this.widget()[0].classList.add("oj-form-control"),this._IsTextFieldComponent()&&(this._IsCustomElement()?this._getRootElement().classList.add("oj-text-field"):this.widget()[0].classList.add("oj-text-field")),this._toggleOjHasNoValueClass(this.options.value),this.widget().uniqueId(),this._IsCustomElement()?this.options.labelledBy?this._labelledByUpdated(this.options.labelledBy):this._setAriaLabelFromLabelHint():this._createOjLabel(),(e=this.options.describedBy)&&this._describedByUpdated(null,e),this._runDeferredValidation(this._VALIDATION_CONTEXT.COMPONENT_CREATE);var i=this._GetConverter();this._converterChangedCounter=0,i instanceof Promise?(this._setBusyStateAsyncConverterLoading(),this._ResolveLabelEdgeStrategyType(),this._loadingConverter(i).then():(this._AfterCreateConverterCached(),this._setValidOption(this._determineValidFromMessagesOptions(),null))},_ReleaseResources:function(){this._super(),this._IsCustomElement()&&(this._getComponentMessaging().releaseResources(),this._hammerIsUnregistered=!0)},_SetupResources:function(){if(this._super(),this._IsCustomElement()&&this._hammerIsUnregistered){this._getComponentMessaging().setupResources(),this._hammerIsUnregistered=!1}},_SaveAttributes:function(e){this._IsCustomElement()||this._SaveAllAttributes(e)},_RestoreAttributes:_AfterSetOption:function(e,t){switch(e){case"disabled":this._AfterSetOptionDisabledReadOnly(e,E.disabledOptionOptions);break;case"displayOptions":this._initComponentMessaging();break;case"labelEdge":this._initComponentMessaging(),this._setAriaLabelFromLabelHint();break;case"labelHint":this._setAriaLabelFromLabelHint();break;case"help":this._IsCustomElement()?this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE)):this._Refresh(e,this.options[e]);break;case"messagesCustom":this._messagesCustomOptionChanged(t),this._setValidOption(this._determineValidFromMessagesOptions(),null);break;case"placeholder":this._SetPlaceholder(this.options.placeholder),this._placeholderOptionChanged(t);break;case"readOnly":this._retainFocusOnReadonlyChange&&setTimeout(()=>{this.GetFocusElement().focus(),this._resolveBusyStateFocusRestore&&(this._resolveBusyStateFocusRestore(),delete this._resolveBusyStateFocusRestore)},0);break;case"title":this._IsCustomElement()||this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE));break;case"translations":this.refresh();break;case"userAssistanceDensity":this._initComponentMessaging();break;case"value":this._AfterSetOptionValue(e,t)}},_AfterSetOptionDisabledReadOnly:function(e,t){var i=!this.options[e];this._Refresh(e,this.options[e]),i&&this._runMixedValidationAfterSetOption(t)},_AfterSetOptionValue:function(e,t){var i,n=t?t._context:null,r=!1;n&&(r=!!n.originalEvent,i=n.doNotClearMessages||!1),r||(i||this._clearAllMessages(null),this._runDeferredValidation(this._VALIDATION_CONTEXT.VALUE_OPTION_CHANGE)),this._Refresh(e,this.options[e],!0)},_CanSetValue:function(){return!(this.options.disabled||!1)},_VerifyConnectedForSetup:function(){return!0},_destroy:function(){var e,t,r=this._super();if(this._clearAllMessages(null,!0),this.widget().removeUniqueId(),this._getComponentMessaging()._isActive()&&this._getComponentMessaging().deactivate(),this.$label)for(t=this.$label.length,e=0;e<t;e++)this.$label[e]&&null!=i.__GetWidgetConstructor(this.$label[e])&&n(this.$label[e]).ojLabel("destroy");return r},GetFocusElement:function(){return!0===this.options.readOnly&&this._GetReadonlyFocusElement()||this._GetContentElement()[0]},_GetReadonlyFocusElement:function(){return this._getReadonlyDiv()},_setOption:function(e,t,i){var n,r,u,d=!1;switch(e){case"messagesHidden":case"messagesShown":case"rawValue":d=!0;break;case"describedBy":r=this.options.describedBy,u=t,this._describedByUpdated(r,u);break;case"labelledBy":t&&this._labelledByUpdated(t);break;case"readOnly":if(this._retainFocusOnReadonlyChange=a.containsFocus(this.widget()[0]),this._retainFocusOnReadonlyChange&&!this._resolveBusyStateFocusRestore){var c=this.element[0],h=o.getContext(c).getBusyContext(),p="Waiting for focus on the component ";c&&c.id&&(p+=`with id="${c.id}" `),p+="to be restored.",this._resolveBusyStateFocusRestore=h.addBusyState({description:p})}this._addRemoveOjReadOnlyClassOnLabel(document.getElementById(this.options.labelledBy),t);break;case"displayOptions":var _=t,m=null!==t&&(void 0===t.validatorHint||void 0===t.converterHint||void 0===t.messages);if(m){const e="use"===(s.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?C:S;void 0===t.validatorHint&&(_.validatorHint=e.VALIDATOR_HINT),void 0===t.converterHint&&(_.converterHint=e.CONVERTER_HINT),void 0===t.messages&&(_.messages=e.MESSAGES)}}return d?(l.error(e+" option cannot be set"),this):(n=this._superApply(arguments),this._AfterSetOption(e,i),n)},_GetContentElement:function(){return this.element},_GetLabelElement:function(){if(this._IsCustomElement())return null;var e;if(this.$label)return this.$label;if(E.hasNoLabelFlag(this.widget()))return null;var t=this._getAriaLabelledByElement(this.element);if(null!==t&&0!==t.length)return t;var i=this.element[0].id;return void 0!==i&&0!==(t=n("label[for='"+i+"']")).length||0!==(e=this.element.closest("[aria-labelledby]")).length&&null!==(t=this._getAriaLabelledByElement(e))&&0!==t.length?t:null},_GetElementValue:_GetMessagingLauncherElement:function(){return this._GetContentElement()},_GetMessagingPositionElement:function(){let e=this._GetFormControlContainer();return e||this._GetMessagingLauncherElement()[0]},_GetConverter:function(){return null},_GetImplicitValidators:_GetDisplayValue:_GetNormalizedValidatorsFromOption:function(){return[]},_GetNormalizedAsyncValidatorsFromOption:_GetAllValidatorsFromValidatorsOptionAndImplicit:function(){var e,t,i,n,r=[];if(!this._allValidators){t=this._GetImplicitValidators(),i=[];var s,a=Object.keys(t),o=a.length;if(o>0){for(e=0;e<o;e++)s=a[e],i.push(t[s]);r=r.concat(i)}(n=this._GetNormalizedValidatorsFromOption()).length>0&&n.forEach(,this._allValidators=r}return this._allValidators},_ResetAllValidators:function(){this._allValidators&&(this._allValidators.length=0),this._allValidators=null,this._IsCustomElement()?this._updateValidatorMessagingHint():this._getComponentMessaging().update(this._getValidatorHintsMC())},_GetAriaLabelElement:function(){return this._getRootElement()},_addRemoveOjReadOnlyClassOnLabel:function(e,t){if(e&&void 0!==t){const i="oj-read-only";t?e.classList.add(i):e.classList.remove(i)}},_setAriaLabelFromLabelHint:function(){if(this._IsCustomElement()){var e=this._GetAriaLabelElement(),t=e.getAttribute("aria-label");let i=this._getReadonlyDiv();this.options.labelledBy||!this.options.labelHint||"none"!==this.options.labelEdge||t&&t!==this._ariaLabelFromHint||this._getRootElement().getAttribute("aria-labelledby")?this._ariaLabelFromHint&&this._ariaLabelFromHint===t?(e.removeAttribute("aria-label"),i&&i.removeAttribute("aria-label")):t?i&&i.setAttribute("aria-label",t):i&&i.removeAttribute("aria-label"):(e.setAttribute("aria-label",this.options.labelHint),i&&i.setAttribute("aria-label",this.options.labelHint),this._ariaLabelFromHint=this.options.labelHint)}},_getAllAsyncValidatorsWithHint:function(){var e,t,i=this._GetNormalizedAsyncValidatorsFromOption(),n=[];if(this._IsRequired()&&"hint"in(t=this._getImplicitRequiredValidator())&&n.push(t),i.length>0)for(e=0;e<i.length;e++)"hint"in(t=i[e])&&n.push(t);var r=this._GetAllValidatorsFromValidatorsOptionAndImplicit();if(r.length>0)for(e=0;e<r.length;e++)"hint"in(t=r[e])&&n.push(t);return n},_initAsyncValidatorMessagingHint:function(){var e,t,i=this._getAllAsyncValidatorsWithHint(),n=this;this._asyncValidatorHintCounter=0,i.length>0&&(t=this._getValidatorHintsMC(),e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(i,t).then(function(){n._clearBusyStateAsyncValidatorHint(e)}))},_getValidatorHintsMC:_updateValidatorMessagingHint:function(){var e,t=this._getAllAsyncValidatorsWithHint(),i=this._getComponentMessaging(),n=this,r=this._getValidatorHintsMC();t.length>0?(this._asyncValidatorHintCounter+=1,e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(t,r).then():i.update(r)},_addAsyncValidatorsHintsMessagingContent:function(e,t){var i,n=this._asyncValidatorHintCounter,r=this._getComponentMessaging(),s=[],a=this,o=[];for(i=0;i<e.length;i++)o.push(e[i].hint);function l(e){return e.then(function(e){var i,o={};return a._asyncValidatorHintCounter===n?(null!==e&&(s.push(e),o.validatorHint=t.validatorHint.concat(s),r.update(o)),i="resolved"):i="ignore",{v:e,status:i}},}return new Promise(function(e){Promise.all(o.map(l)).then(function(){e(s)})})},_IsRequired:function(){return!1},_HandleChangeEvent:_SetRawValue:function(e,t){var i={};i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this._CompareOptionValues("rawValue",this.options.rawValue,e)||this.option("rawValue",e,i)},_IsValueEmpty:function(e){return null==e||("string"==typeof e?t.StringUtils.isEmptyOrUndefined(e):"number"==typeof e?isNaN(e):!!Array.isArray(e)&&(0===e.length||1===e.length&&(null===e[0]||void 0===e[0])))},_toggleOjHasNoValueClass:function(e){let t=this._getRootElement();const i=t.classList.contains("oj-has-no-value"),n=this._IsValueEmpty(e),r=n&&!i,s=!n&&i;r?t.classList.add("oj-has-no-value"):s&&t.classList.remove("oj-has-no-value"),this.options.required&&(r||s)&&this._getComponentMessaging().update({hasNoValueToggled:!0})},_Refresh:function(e,t,i){var n,r;switch(e){case"converter":var s=this.options.value;this._refreshComponentDisplayValue(s,i);break;case"disabled":this._refreshTheming("disabled",this.options.disabled);break;case"help":if(!this._IsCustomElement()&&this.$label){n=this.options.help.definition,r=this.options.help.source,this.$label.ojLabel("option","help",{definition:n,source:r});var a=this.$label[0];if(a){let e=a.id;if(e){let t=e+"_helpIcon";null!=r||null!=n?this._describedByUpdated(null,t):this._describedByUpdated(t,null)}}}break;case"value":this._refreshComponentDisplayValue(t,i)}},_NotifyHidden:function(){this._superApply(arguments),this._getComponentMessaging().close()},_NotifyDetached:function(){this._superApply(arguments),this._getComponentMessaging().close()},_ResetComponentState:function(){this.$label&&this.$label.ojLabel("refresh"),this._implicitReqValidator=null,this._converter=null,this._ResetAllValidators()},_SetDisplayValue:function(e){var t=this._GetContentElement();t.val()!==e&&t.val(e)},_SetDisabledDom:function(e){"boolean"==typeof this.options.disabled&&(e[0].disabled=this.options.disabled)},_SetPlaceholder:function(e){var t=this._GetContentElement()[0];t&&(null==e?t.removeAttribute("placeholder"):t.setAttribute("placeholder",e))},_SetPlaceholderOption:_HasPlaceholderSet:function(){return this.options.placeholder},_ClearPlaceholder:_SetValue:function(e,t,i){var n,r,s,a=!i||"boolean"!=typeof i.doValueChangeCheck||i.doValueChangeCheck,o=this,u=!1;return this._toggleOjHasNoValueClass(e),void 0===e?(l.warn("Attempt to set a value of undefined"),!1):(a&&e===o._getLastDisplayValue()||(n=e+"_"+(this._asyncValidatorValidateCounter+1),(r=this._AsyncValidate(e,t,i,n))instanceof Promise?u=r.then(function(e){return s=e,o._afterAsyncValidateUpdateValue(e,t,i)}).then(function(){return o._clearBusyState(n),void 0!==s}):(this._afterAsyncValidateUpdateValue(r,t,i),u=void 0!==r)),u)},_ParseValueShowErrors:function(e,t){var i;this._clearAllMessages(t);try{return this._parseValue(e,t)}catch(e){i=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",i,t),this._setValidOption("invalidShown",t)}},_AsyncValidate:function(e,t,i,n){var r,s,a,o=i&&i.validationMode?i.validationMode:this._VALIDATION_MODE.FULL,u=i&&i.validationContext?i.validationContext:this._VALIDATION_CONTEXT.USER_ACTION,d=i&&i.doNotClearMessages||!1;if(void 0!==e){if(this._CanSetValue()){d||this._clearAllMessages(t);try{return this._asyncValidatorValidateCounter+=1,o===this._VALIDATION_MODE.FULL?(this._setLastDisplayValue(e),s=this._parseValue(e,t,!0)):s=e,(a=this._asyncValidateValue(s,t,u))instanceof Promise?(this._setBusyState(n),a.then():a}catch(e){r=this._processValidationErrors(e,u),this._updateMessagesOption("messagesShown",r,t),this._setValidOption("invalidShown",t)}}return a}l.warn("Attempt to set a value of undefined")},_afterAsyncValidateUpdateValue:function(e,t,i){var n,r=!1;return void 0!==e&&(i&&!0===i.doNotClearMessages?this.isValid()||!this._hasInvalidComponentMessagesShowing():this.isValid())&&(i&&i._context&&(n=i._context),this._updateValueOption(e,t,i&&i.validationContext,n,i),r=!0),r},_CompareOptionValues:function(e,i,n){return"value"===e||"rawValue"===e?t.Object.compareValues(i,n):0===e.indexOf("messages")?this._messagesEquals(i,n):this._superApply(arguments)},_GetDefaultStyleClass:function(){return t.Assert.failedInAbstractFunction(),""},_MESSAGING_CONTENT_UPDATE_TYPE:{INIT:1,VALIDITY_STATE:2,CONVERTER_HINT:3,VALIDATOR_HINTS:4,TITLE:5},_OPTION_TO_CSS_MAPPING:{disabled:"oj-disabled",required:"oj-required"},_clearAllMessages:function(e,t){t?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this._clearMessages("messagesHidden",e),this._clearMessages("messagesShown",e),this._clearMessages("messagesCustom",e))},_clearComponentMessages:function(){var e,t=this.options.messagesShown;e=t.length,this._clearMessages("messagesHidden");for(var i=e-1;i>=0;i--)t[i]instanceof h.ComponentMessage&&t.splice(i,1);t.length!==e&&this._setMessagesOption("messagesShown",t,null,!0)},_setMessagesOption:function(e,t,i,n){var r={},s=0===t.length&&0===this.options[e].length;!n&&s||(r._context={originalEvent:i,writeback:!0,internalSet:!0},"messagesCustom"!==e&&(r._context.readOnly=!0),r.changed=n||!s,this._resetValid(),this.option(e,t,r),this._updateMessagingContent())},_setValidOption:function(e,t){var i={};"pending"===e&&"valid"!==this._determineValidFromMessagesOptions()||e!==this.options.valid&&(i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this.option("valid",e,i))},_clearMessages:function(e,t){this._setMessagesOption(e,[],t)},_cloneMessagesBeforeSet:function(e){var t,i,n,r=[];if(e&&e.length>0)for(t=0;t<e.length;t++)n=e[t],i=new h(n.summary,n.detail,n.severity),i=Object.freeze?Object.freeze(i):i,r.push(i);return r},_createOjLabel:function(){var e,t;this._IsCustomElement()||(this.$label=this._GetLabelElement(),this.$label&&(e=this.options.help.definition,t=this.options.help.source,this.$label.ojLabel({rootAttributes:{class:this._GetDefaultStyleClass()+"-label"},help:{definition:e,source:t}}),this._createDescribedByForLabel()))},_createDescribedByForLabel:function(){var e,t=this.options.help.definition;if(null!=this.options.help.source||null!=t){var i=this.$label[0];i&&(e=i.id),e&&this._describedByUpdated(null,e+"_helpIcon")}},_doRefresh:function(){var e,t=!1;this._ResetComponentState(),this._initComponentMessaging(),this._Refresh("disabled",this.options.disabled),this._hasInvalidMessagesShowing()&&(t=!0),this._clearComponentMessages(),t?(e=this._GetDisplayValue(),this._SetValue(e,null,E.refreshMethodOptions)):(this._IsRequired()&&this._runDeferredValidation(E.refreshMethodOptions.validationContext),this._Refresh("value",this.options.value,!0))},_getLastModelValue:function(){return this._oj_lastModelValue},_getLastDisplayValue:function(){return void 0===this._oj_lastElementValue&&(this._oj_lastElementValue=""),this._oj_lastElementValue},_getAriaLabelledByElement:function(e){if(this._IsCustomElement())return null;var t=e[0].getAttribute("aria-labelledby");return void 0!==t?n("label[id='"+t+"']"):null},_getMessages:function(){var e=[];return this.options.messagesShown&&(e=e.concat(this.options.messagesShown)),this.options.messagesHidden&&(e=e.concat(this.options.messagesHidden)),e},_getLabelText:function(){if(this.$label)return this.$label[0].textContent;var e=E._getCustomOjLabelElements(this.options.labelledBy),t=null;if(e)for(var i=0;i<e.length;i++){i>0&&(t+=" "),t=e[i].textContent}return t},_getValidityState:function(){return this._validityState||(this._validityState=new t.ComponentValidity(this.isValid(),this._getMessages())),this._validityState},_hasValidityState:_hasInvalidMessages:_hasInvalidMessagesShowing:function(){return!this.isValid()&&this.options.messagesShown.length>0},_hasInvalidComponentMessagesShowing:function(){for(var e,t,i=this.options.messagesShown,n=0;n<i.length;n++)(t=i[n])instanceof h.ComponentMessage&&t._isMessageAddedByComponent()&&(e=e||[]).push(t);return void 0!==e&&!h.isValid(e)},_initComponentMessaging:function(){var e=this._getComponentMessaging(),t=this._GetMessagingLauncherElement(),i=this._GetContentElement(),n=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.INIT);this._customPlaceholderSet||this._ClearPlaceholder(),e.activate(t,i,n),this._asyncValidatorValidateCounter=0},_messagesCustomOptionChanged:function(e){var t,i,n=e?e._context:null,r=this.options.messagesCustom,s=this.options.messagesShown,a=[];for(t=0;t<s.length;t++)(i=s[t])instanceof h.ComponentMessage&&i._isMessageAddedByComponent()&&a.push(i);for(t=0;t<r.length;t++)a.push(r[t]);this._setMessagesOption("messagesShown",a,n?n.originalEvent:null,e&&e.changed)},_placeholderOptionChanged:function(e){"displayOptions"===this._getResolvedUserAssistance()&&(!(e&&e._context||{}).internalMessagingSet?(this._customPlaceholderSet=!0,this._GetConverter()&&this._initComponentMessaging()):this._customPlaceholderSet=!1)},_setLastModelValue:function(e){this._oj_lastModelValue=e},_setLastDisplayValue:function(e){this._oj_lastElementValue=e},_updateMessagesOption:function(e,t,i){var n,r,s;if("object"==typeof t&&Array.isArray(t))for(s=this.options[e],r=t.length,n=0;n<r;n++)s.push(t[n]);this._setMessagesOption(e,s,i,!0)},_updateMessagingContent:function(){this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE))},_updateValueOption:function(e,t,i,n,r){var s,a,o=n||{};switch(t&&(o.originalEvent=t),i){case this._VALIDATION_CONTEXT.CONVERTER_OPTION_CHANGE:case this._VALIDATION_CONTEXT.DISABLED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.READONLY_OPTION_CHANGE:case this._VALIDATION_CONTEXT.REFRESH_METHOD:case this._VALIDATION_CONTEXT.REQUIRED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.VALIDATE_METHOD:case this._VALIDATION_CONTEXT.VALIDATORS_OPTION_CHANGE:o.writeback=!0,o.doNotClearMessages=!0}if(o.internalSet=!0,r&&r.targetOptions){s={},a=!1;for(var l=0;l<r.targetOptions.length;l++)s[r.targetOptions[l]]=e,a=a||"value"===r.targetOptions[l]}else s={value:e},a=!0;this.option(s,{_context:o}),a&&this._AfterSetOptionValue("value",{_context:o})},_resetValid:_determineValidFromMessagesOptions:function(){var e=this.options.messagesHidden,t=this.options.messagesShown,i="valid";return t&&0!==t.length&&!h.isValid(t)?i="invalidShown":e&&0!==e.length&&!h.isValid(e)&&(i="invalidHidden"),i},_formatValue:function(e){var t=e,i=this._GetConverter();return i&&"object"==typeof i&&i.format&&"function"==typeof i.format&&(t=i.format(e)),t},_getComponentMessaging:_getHintsFromAllValidatorsWithGetHintFunction:function(e){var t,i,n=[],r="";for(this._IsRequired()&&(i=this._getImplicitRequiredValidator()).getHint&&"function"==typeof i.getHint&&(r=i.getHint())&&n.push(r),t=0;t<e.length;t++)r="","object"==typeof(i=e[t])&&i.getHint&&"function"==typeof i.getHint&&(r=i.getHint())&&n.push(r);return n},_getImplicitRequiredValidator:function(){var e,t={};return null==this._implicitReqValidator&&(e={hint:(t=this.options.translations&&this.options.translations.required||{}).hint||null,label:this._getLabelText(),messageSummary:t.messageSummary||null,messageDetail:t.messageDetail||null},this._implicitReqValidator=new u(e)),this._implicitReqValidator},_getResolvedUserAssistance:function(){let e=s.parseJSONFromFontFamily("oj-form-control-option-defaults");if(e){return"use"===e.useUserAssistanceOptionDefault?this.options.userAssistanceDensity:"displayOptions"}return"displayOptions"},_showUserAssistanceNotInline:_getMessagingContent:function(e){var t,i,n={},r="";if((e=e||this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE)!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE||(n.validityState=this._getMessagingContentValidityState()),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT||((i=this._GetConverter())&&"object"==typeof i&&i.getHint&&"function"==typeof i.getHint&&(r=i.getHint()||""),n.converterHint=r),e===this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS){t=this._GetAllValidatorsFromValidatorsOptionAndImplicit();let e=this._getHintsFromAllValidatorsWithGetHintFunction(t)||[];n.validatorHint=e}if(e===this._MESSAGING_CONTENT_UPDATE_TYPE.INIT||e===this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE){var s;if(this._IsCustomElement()){var a=this.options.help;null!=a&&(s=a.instruction)}else s=this.options.title;n.title=s||""}return n},_getMessagingContentValidityState:function(){let e;return this._hasValidityState()?(e=this._getValidityState(),e.update(this.isValid(),this._getMessages())):e=this._getValidityState(),e},_messagesEquals:function(e,t){var i,r=-1,s=!0,a=n.extend([],e),o=n.extend([],t);return a.length===o.length&&(a.forEach(function(e){e instanceof h?i=e:(i=new h(e.summary,e.detail,e.severity),i=Object.freeze?Object.freeze(i):i),r=-1,o.forEach(function(e,t){h.getSeverityLevel(i.severity)===h.getSeverityLevel(e.severity)&&i.summary===e.summary&&i.detail===e.detail&&(r=t)}),r>-1?o.splice(r,1):s=!1}),s)},_parseValue:function(e,t,i){var n=this._GetConverter(),r=e;if(n&&"object"==typeof n&&n.parse&&"function"==typeof n.parse)try{i&&this._setValidOption("pending",t),r=n.parse(e)}catch(e){throw e}return r},_addValidationError:function(e,t){var i,n,r,s;e instanceof _.ConverterError||e instanceof _.ValidatorError?(n=(r=e.getMessage()).severity||h.SEVERITY_LEVEL.ERROR,s=r.summary||c.getTranslatedString("oj-message.error"),i=r.detail||c.getTranslatedString("oj-converter.detail")):e.summary||e.detail?(n=h.SEVERITY_LEVEL.ERROR,s=e.summary||c.getTranslatedString("oj-message.error"),i=e.detail||c.getTranslatedString("oj-converter.detail")):(n=h.SEVERITY_LEVEL.ERROR,s=c.getTranslatedString("oj-message.error"),i=e.message||c.getTranslatedString("oj-converter.detail")),t.push({summary:s,detail:i,severity:n})},_processValidationErrors:function(e,t,i){var n,r=[],s=e._messages||[],a={};a.context=t||0,a.display=i||h.ComponentMessage.DISPLAY.SHOWN,0===s.length&&this._addValidationError(e,s);for(var o=0;o<s.length;o++)n=s[o],r.push(this._createComponentMessage(n.summary,n.detail,n.severity,a));return r||null},_createComponentMessage:function(e,t,i,n){var r;return r=new h.ComponentMessage(e,t,i,n),r=Object.seal?Object.seal(r):r},_refreshComponentDisplayValue:function(e,t){var i;return this._toggleOjHasNoValueClass(e),(t||e!==this._getLastModelValue())&&(i=this._UpdateElementDisplayValue(e)),i},_refreshTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_runDeferredValidation:function(e){var t=this;if(this._CanSetValue()){if(!this._resolveBusyStateDeferredValidation){var i=this.element[0],n=o.getContext(i).getBusyContext(),r="The page is waiting for async deferred validation ";i&&i.id&&(r+='for "'+i.id+'" '),r+="to finish.",this._resolveBusyStateDeferredValidation=n.addBusyState({description:r})}var s=this._validateValueForRequiredOnly(this.options.value,e);if(!(s instanceof Promise))return this._setValidOption(this._determineValidFromMessagesOptions(),null),void(this._resolveBusyStateDeferredValidation&&(this._resolveBusyStateDeferredValidation(),delete this._resolveBusyStateDeferredValidation));s.then(function(){t._resolveBusyStateDeferredValidation&&(t._resolveBusyStateDeferredValidation(),delete t._resolveBusyStateDeferredValidation),t._setValidOption(t._determineValidFromMessagesOptions(),null)})}this._setValidOption(this._determineValidFromMessagesOptions(),null)},_runMixedValidationAfterSetOption:function(e){var t,i=!1;this._hasInvalidMessagesShowing()&&(i=!0),this._clearComponentMessages(),i&&(t=this._GetDisplayValue(),this._SetValue(t,null,e)),!i&&this._IsRequired()?this._runDeferredValidation(e.validationContext):this._setValidOption(this._determineValidFromMessagesOptions(),null)},_UpdateElementDisplayValue:function(e,t){var i,n;i=e;try{i=this._formatValue(e);try{this._setLastModelValue(e),this._afterConverterFormat(i)}catch(e){throw e}n=i}catch(r){t||this._afterConverterFormatFailure(r),this._setLastModelValue(e),this._afterConverterFormat(i),n=void 0}return n},_SetLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.add("oj-loading"),this._saveAriaLabel=t.getAttribute("aria-label");var i=c.getTranslatedString("oj-ojEditableValue.loading");t.setAttribute("aria-label",i)},_ClearLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.remove("oj-loading"),this._saveAriaLabel?t.setAttribute("aria-label",this._saveAriaLabel):t.removeAttribute("aria-label")},_UseReadonlyDiv:_ShowHelpHints:function(){return this._IsTextFieldComponent()?"focus":"always"},_ShowHelpHintsLocation:function(){return"inline"},_afterConverterFormat:function(e){var t;this._SetDisplayValue(e),t=this._GetDisplayValue(),this._setLastDisplayValue(t),this._SetRawValue(t,null)},_afterConverterFormatFailure:function(e){var t;t=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",t),this._setValidOption("invalidShown",null)},_loadingConverter:function(e){var t=this,i=E._getShowLoadingDelay(),n=this._converterChangedCounter,r=setTimeout(i);return e.then(function(e){return t._ClearLoading(),clearTimeout(r),e})},_validateValueForRequiredOnly:function(e,i){var n,r,s=this;if(this._IsRequired()){r=this._getImplicitRequiredValidator();try{this._setValidOption("pending",null);var a=r.validate(t.StringUtils.trim(e));if(a instanceof Promise)return a.then(function(){},function(e){(n=s._processValidationErrors(e,i,h.ComponentMessage.DISPLAY.HIDDEN))&&s._updateMessagesOption("messagesHidden",n)})}catch(e){(n=this._processValidationErrors(e,i,h.ComponentMessage.DISPLAY.HIDDEN))&&this._updateMessagesOption("messagesHidden",n)}}return null},_asyncValidateValue:function(e,i,n){var r,s,a,o,l,u=this._GetNormalizedAsyncValidatorsFromOption(),d=this._GetAllValidatorsFromValidatorsOptionAndImplicit(),c=!1,h=this,p=[],_=this._asyncValidatorValidateCounter,m=[],f=this._IsRequired();if(f&&(o=this._getImplicitRequiredValidator()),(f||u.length>0||d.length>0)&&this._setValidOption("pending",i),o)try{var g=o.validate(t.StringUtils.trim(e));g&&m.push(g)}catch(e){this._addValidationError(e,p),this._setValidOption("invalidShown",i),c=!0}for(r=0;r<u.length;r++){try{l=u[r].validate(e)}catch(e){l=Promise.reject(e)}l instanceof Promise||(l=Promise.resolve(l)),m.push(l)}for(r=0;r<d.length;r++)try{(l=d[r].validate(e))instanceof Promise&&m.push(l)}catch(e){this._addValidationError(e,p),this._setValidOption("invalidShown",i),c=!0}if(p.length>0){let e=new Error;e._messages=p,a=this._processValidationErrors(e,n),this._updateMessagesOption("messagesShown",a,i)}function v(e){return e.then(function(e){return{v:e,status:h._asyncValidatorValidateCounter===_?"resolved":"ignore"}},function(e){var t;return h._asyncValidatorValidateCounter===_?(a=h._processValidationErrors(e,n),h._updateMessagesOption("messagesShown",a,i),c||(h._setValidOption("invalidShown",i),c=!0),t="rejected"):t="ignore",{e:e,status:t}})}return m.length>0?new Promise(function(e){Promise.all(m.map(v)).then(function(t){t.filter(.length>0?s="ignoreValidation":(s=c?"invalidShown":"valid",h._setValidOption(h._determineValidFromMessagesOptions(),i)),e(s)})}):(0===p.length&&this._setValidOption(h._determineValidFromMessagesOptions(),i),0===p.length?e:void 0)},_labelledByUpdated:function(e){var t=E._getCustomOjLabelElements(e);if(t)for(let e=0;e<t.length;e++){var i=t[e];i.classList.add(this._GetDefaultStyleClass()+"-label"),void 0===this.widget().attr("data-oj-internal")&&void 0!==this.options.readOnly&&this._addRemoveOjReadOnlyClassOnLabel(i,this.options.readOnly)}},_describedByUpdated:d._describedByUpdated,_setBusyState:E._SetBusyState,_clearBusyState:E._ClearBusyState,_setBusyStateAsyncValidatorHint:E._SetBusyStateAsyncValidatorHint,_clearBusyStateAsyncValidatorHint:E._ClearBusyStateAsyncValidatorHint,_setBusyStateAsyncConverterLoading:E._SetBusyStateAsyncConverterLoading,_clearBusyStateAsyncConverterLoading:E._ClearBusyStateAsyncConverterLoading,_AfterCreateConverterCached:E._AfterCreateConverterCached,_getReadonlyDiv:E._getReadonlyDiv,_createOrUpdateReadonlyDiv:E._createOrUpdateReadonlyDiv,_createReadonlyDiv:E._createReadonlyDiv,_setReadonlyDivLabelledBy:E._setReadonlyDivLabelledBy,_GetFormControlContainer:function(){if(this._IsCustomElement()){var e="."+[this._GetComponentManagedBaseLabelStyleClass(),"container"].join("-");return this._getRootElement().querySelector(e)}},_IsTextFieldComponent:function(){return!1},_GetComponentManagedBaseLabelStyleClass:_CreateMiddleWrapper:_ResolveLabelEdgeStrategyType:function(){var e=this.options.labelEdge;return this._IsCustomElement()&&"inside"===e&&(this._IsTextFieldComponent()||(e=t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL)),e}},!0),i.setDefaultOptions({editableValue:{displayOptions:i.createDynamicPropertyGetter(function(e){var t;return(t="use"===(s.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?{messages:C.MESSAGES,converterHint:C.CONVERTER_HINT,validatorHint:C.VALIDATOR_HINT}:{messages:e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?["notewindow"]:S.MESSAGES,converterHint:S.CONVERTER_HINT,validatorHint:S.VALIDATOR_HINT})[e.isCustomElement?"helpInstruction":"title"]=["notewindow"],t}),help:i.createDynamicPropertyGetter(,labelEdge:i.createDynamicPropertyGetter(function(e){if(e.isCustomElement)return(s.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).labelEdge}),userAssistanceDensity:i.createDynamicPropertyGetter(function(e){return e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?"compact":"reflow"})}});const O=function(e){this.Init(e)},A={},j={};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW,O),t.Object.createSubclass(O,t.MessagingStrategy,"oj.PopupMessagingStrategy"),O._DEFAULTS_BY_COMPONENT={ojRadioset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",events:{open:"focusin"}},ojTextArea:{position:"launcher",events:{open:"focusin"}},ojInputPassword:{position:"launcher",events:{open:"focusin"}},ojSwitch:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorPalette:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},default:{position:"launcher-wrapper",events:{open:"focusin"}}},O._SELECTOR_FORMCONTROL_HINT="oj-form-control-hint",O._SELECTOR_FORMCONTROL_HINT_CONVERTER="oj-form-control-hint-converter",O._SELECTOR_FORMCONTROL_HINT_VALIDATOR="oj-form-control-hint-validator",O._SELECTOR_FORMCONTROL_HINT_TITLE="oj-form-control-hint-title",O._OPEN_NAMESPACE=".ojPopupMessagingOpen",O._CLOSE_NAMESPACE=".ojPopupMessagingClose",O.prototype.activate=function(e){O.superclass.activate.call(this,e),this._initMessagingPopup()},O.prototype.reactivate=function(e){O.superclass.reactivate.call(this,e),this._updatePopupIfOpenOrComponentHasFocus()},O.prototype.update=function(){O.superclass.update.call(this),this._updatePopupIfOpenOrComponentHasFocus()},O.prototype.deactivate=O.prototype.close=function(){this._closePopup()},O.prototype._closePopup=function(){this._queueAction(function(e){if(this._isPopupInitialized())return e&&this._setActionResolver(this.$messagingContentRoot,"close",e),void this.$messagingContentRoot.ojPopup("close");e&&e(!0)}.bind(this))},O.prototype._initMessagingPopup=O.prototype._addAnimateEventListeners=function(e){var t=function(e,t,i){var n=this.GetComponent();n&&n._trigger&&(t.stopPropagation(),n._trigger(e,null,i)||t.preventDefault())};e.on("ojanimatestart.notewindow",t.bind(this,"animateStart")),e.on("ojanimateend.notewindow",t.bind(this,"animateEnd"))},O.prototype._removeAnimateEventListeners=O.prototype._setBusyState=function(e){var t=this.GetComponent(),i=t?t.element:null,n=i?i[0]:null,r=o.getContext(n).getBusyContext(),s="The page is waiting for note window ";return n&&n.id&&(s+='for "'+n.id+'" '),s+="to "+e,r.addBusyState({description:s})},O.prototype._setActionResolver=function(e,t,i){var n;this._actionCount>1&&(n=e.ojPopup("option","animation"),e.ojPopup("option","animation",null));var r=this._setBusyState(t);e.one("oj"+t,function(){n&&e.ojPopup("option","animation",n),r(),i(!0)})},O.prototype._queueAction=function(e){if(this.GetComponent()._IsCustomElement()){var t=this,i=function(e){var i=new Promise(e);return i.then(,i};this._actionCount?(this._actionCount+=1,this._actionPromise=this._actionPromise.then():(this._actionCount=1,this._actionPromise=i(e))}else e(null)},O.prototype._openPopup=function(e){this._queueAction(function(i){var r,s,a;if(this._canOpenPopup()&&(s=this._buildPopupHtml(),!t.StringUtils.isEmptyOrUndefined(s))){var o=this._getPopupElement(),l=o.ojPopup("isOpen");if((r=A.getPopupContentNode(o)).innerHTML="",r.innerHTML=s,!l){a=this.GetLauncher();const t=n(this.GetComponent()._GetMessagingPositionElement());return e&&"press"===e.type&&this._openPopupOnPressEvent(a),i&&this._setActionResolver(o,"open",i),void o.ojPopup("open",a,{of:t})}l&&o.ojPopup("refresh")}i&&i(!0)}.bind(this))},O.prototype._openPopupOnPressEvent=function(e){this._inPressEvent=!0,e[0].addEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].addEventListener("change",this._eatChangeAndClickOnPress,!0),e.one("touchend",function(){setTimeout(function(){this._inPressEvent=!1},50)})},O.prototype._eatChangeAndClickOnPress=function(e){this._inPressEvent&&(e.preventDefault(),e.stopPropagation(),"click"===e.type&&(this._inPressEvent=!1))},O.prototype._canOpenPopup=function(){var e=this.GetComponent().options,t=e.disabled||!1,i=e.readOnly||!1;return!(t||i)},O.prototype._updatePopupIfOpenOrComponentHasFocus=function(){var e,t,i,n;null!=this.GetLauncher()&&(i=this.GetLauncher()[0].contains(document.activeElement),this._isPopupInitialized()?(n=this._getPopupElement()).ojPopup("isOpen")&&((e=this._buildPopupHtml())?((t=A.getPopupContentNode(n)).innerHTML="",t.innerHTML=e,n.ojPopup("refresh")):n.ojPopup("close")):i&&(e=this._buildPopupHtml())&&this._openPopup(void 0))},O.prototype._unregisterLauncherEvents=function(){var e=this.GetLauncher();e.off(O._OPEN_NAMESPACE),e.off(O._CLOSE_NAMESPACE),e[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0),v.isTouchSupported()&&(this.releaseResources(),e.off("contextmenu",this._eatContextMenuOnOpenPopupListener),this._eatContextMenuOnOpenPopupListener=null,this._inPressEvent=null),this._openPopupCallback=null,this._closePopupCallback=null},O.prototype._registerLauncherEvents=function(){var e,t,i,n=this.GetLauncher();const r=this._getPopupEventNamesToRegisterForComp();if(r.open){this._openPopupCallback||(this._openPopupCallback=this._openPopup.bind(this));const e=this._needsPressEvent(r);i=this._getNamespacedEvents(r.open.replace("press",""),O._OPEN_NAMESPACE),n.on(i,this._openPopupCallback),v.isTouchSupported()&&e&&(this._eatContextMenuOnOpenPopupListener=function(){return!1},n.on("contextmenu",this._eatContextMenuOnOpenPopupListener),this.registerHammerOpenCallbackOnLauncher())}r.close&&((t=this._closePopupCallback)||(t=this._closePopup.bind(this),this._closePopupCallback=t),e=this._getNamespacedEvents(r.close,O._CLOSE_NAMESPACE),n.on(e,t))},O.prototype.setupResources=function(){const e=this._getPopupEventNamesToRegisterForComp(),t=this._needsPressEvent(e);v.isTouchSupported()&&t&&this.registerHammerOpenCallbackOnLauncher()},O.prototype.registerHammerOpenCallbackOnLauncher=function(){const e=this.GetLauncher();if(null==e)return;const t={recognizers:[[f.Press,{time:750}]]};e.ojHammer(t).on("press",this._openPopupCallback)},O.prototype.releaseResources=function(){O.superclass.update.call(this);const e=this._getPopupEventNamesToRegisterForComp(),t=this._needsPressEvent(e);if(v.isTouchSupported()&&t){this.GetLauncher().off("press").ojHammer("destroy")}},O.prototype._getNamespacedEvents=function(e,t){var i,n,r;if(""===e||""===t)return e;r=(i=e.split(" ")).length,n=[];for(var s=0;s<r;s++)i[s]&&n.push(i[s]+t);return n.join(" ")},O.prototype._getPopupPosition=function(){var e,t,i;return(e=(t=O._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?t.position:O._DEFAULTS_BY_COMPONENT.default.position)&&("launcher"===e?i=this.GetLauncher():"launcher-wrapper"===e&&(i=this.GetLauncher().parent())),i||(i=this.GetComponent().widget()),{my:"start bottom",at:"end top",collision:"flipcenter",of:i}},O.prototype._getPopupEventNamesToRegisterForComp=function(){const e=O._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName];return e?e.events:O._DEFAULTS_BY_COMPONENT.default.events},O.prototype._needsPressEvent=function(e){return!(!e||!e.open)&&-1!==e.open.indexOf("press")},O.prototype._getPopupElement=function(){var e,t;if(this.$messagingContentRoot)return this.$messagingContentRoot;if(e=A.getNextFreePopup(),t=this._getPopupPosition(),e.ojPopup("option","position",t),e.ojPopup("option","beforeClose",this._popupBeforeCloseCallback.bind(this)),e.ojPopup("option","close",this._popupCloseCallback.bind(this)),e.ojPopup("option","open",this._popupOpenCallback.bind(this)),this.GetComponent()._IsCustomElement()){var i=(s.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).animation;i.actionPrefix="notewindow",e.ojPopup("option","animation",i),this._addAnimateEventListeners(e)}else e.ojPopup("option","animation",null);return this.$messagingContentRoot=e,this.$messagingContentRoot},O.prototype._popupOpenCallback=function(e){var t=n(e.target),r=this;window.setTimeout(function(){i.isComponentInitialized(t,"ojPopup")?t.ojPopup("option","autoDismiss","focusLoss"):delete r.$messagingContentRoot},10)},O.prototype._popupBeforeCloseCallback=O.prototype._popupCloseCallback=function(e){var t=this.GetLauncher(),r=n(e.target);this._removeAnimateEventListeners(r),i.isComponentInitialized(r,"ojPopup")&&(r.ojPopup("option","autoDismiss","none"),r.ojPopup("option","open",null),r.ojPopup("option","close",null),r.ojPopup("option","beforeClose",null)),t&&t[0]&&(t[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),t[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0)),this.$messagingContentRoot=null,this._inPressEvent=null,A.getPopupContentNode(r).innerHTML="",this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},O.prototype._destroyTooltip=O.prototype._buildPopupHtml=function(){var e=!1,t=this.GetComponent().document[0],i=[],n="";return this.ShowMessages()&&i.push(this._buildMessagesHtml(t)),(this.ShowConverterHint()||this.ShowValidatorHint()||this.ShowTitle())&&i.push(this._buildHintsHtml(t)),i.forEach(function(i){i&&(e?n=n.concat(j.getSeparatorHtml(t)):e=!0,n=n.concat(i))}),n},O.prototype._buildMessagesHtml=function(e){var t,i="",n=this.GetMaxSeverity();return this.HasMessages()&&(t=this.GetMessages(),i=j.buildMessagesHtml(e,t,n,!1)),i},O.prototype._buildHintsHtml=function(e){var t,i,n=[],r="";if(this.ShowConverterHint()&&(t=(n=this.GetConverterHint()).length?n[0]:"",r+=j.buildHintHtml(e,O._SELECTOR_FORMCONTROL_HINT_CONVERTER,t,!1,O._SELECTOR_FORMCONTROL_HINT)),this.ShowValidatorHint())for(n=this.GetValidatorHints(),i=0;i<n.length;i++)r+=j.buildHintHtml(e,O._SELECTOR_FORMCONTROL_HINT_VALIDATOR,n[i],!1,O._SELECTOR_FORMCONTROL_HINT);return this.ShowTitle()&&(r+=j.buildHintHtml(e,O._SELECTOR_FORMCONTROL_HINT_TITLE,this.GetTitle(),!0,O._SELECTOR_FORMCONTROL_HINT)),r?"<div class='oj-form-control-hints'>"+r+"</div>":""},O.prototype._isPopupInitialized=function(){return!!this.$messagingContentRoot&&i.isComponentInitialized(this.$messagingContentRoot,"ojPopup")},j.buildHintHtml=function(e,t,i,n,r){var s;if(i){s=e.createElement("div");for(var a=r.split(" "),o=0,l=a.length;o<l;++o)s.classList.add(a[o]);s.classList.add(t),j._appendTextDom(s,j.GetTextDom(e,i,n))}return s?s.outerHTML:""},j.getSeverityTranslatedString=function(e){var t;switch(e){case h.SEVERITY_LEVEL.FATAL:t=c.getTranslatedString("oj-message.fatal");break;case h.SEVERITY_LEVEL.ERROR:t=c.getTranslatedString("oj-message.error");break;case h.SEVERITY_LEVEL.WARNING:t=c.getTranslatedString("oj-message.warning");break;case h.SEVERITY_LEVEL.INFO:t=c.getTranslatedString("oj-message.info");break;case h.SEVERITY_LEVEL.CONFIRMATION:t=c.getTranslatedString("oj-message.confirmation")}return t},j.getSeparatorHtml=function(e){var t;return(t=n(e.createElement("hr")))?t.get(0).outerHTML:""},j.buildMessagesHtml=function(e,t,i,n){var r,s,a,o,l,u,d,c,p="",_=[],m={};for(s=0;s<t.length;s++)l=(o=t[s])instanceof h?o:new h(o.summary,o.detail,o.severity),m[u=h.getSeverityLevel(l.severity)]||(m[u]=[]),m[u].push(l);for(s=i;s>=h.SEVERITY_LEVEL.CONFIRMATION;s--)for(_=m[s]||[],a=0;a<_.length;a++)o=_[a],u=h.getSeverityLevel(o.severity),d=j.getSeverityTranslatedString(u),c=o.summary||d,r=o.detail||"",p=p.concat(j.buildMessageHtml(e,c,r,u,n));return p},j.buildMessageHtml=function(e,t,i,n,r){var a,o,l,u,d,c=j.getSeverityTranslatedString(n);if((l=e.createElement("div")).classList.add(j._SELECTOR_MESSAGE),r)for(var h=j._getSeveritySelector(n).split(" "),p=0,_=h.length;p<_;++p)l.classList.add(h[p]);u=e.createElement("span");for(var m=j._getSeverityIconSelector(n).split(" "),f=0,g=m.length;f<g;++f)u.classList.add(m[f]);if(null==c?u.removeAttribute("title"):u.setAttribute("title",c),u.setAttribute("role","img"),l.appendChild(u),(a=e.createElement("span")).classList.add(j._SELECTOR_MESSAGE_CONTENT),"header"===(s.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).messageSummaryOptionDefault&&((d=e.createElement("div")).classList.add(j._SELECTOR_MESSAGE_SUMMARY),d.textContent=t,a.appendChild(d)),i){var v=j.GetTextDom(e,i,!0);(o=e.createElement("div")).classList.add(j._SELECTOR_MESSAGE_DETAIL),j._appendTextDom(o,v),a.appendChild(o)}return l.appendChild(a),l.outerHTML},j._getSeverityIconSelector=function(e){var t;switch(e){case h.SEVERITY_LEVEL.FATAL:case h.SEVERITY_LEVEL.ERROR:t=j._SELECTOR_MESSAGE_ERROR_ICON;break;case h.SEVERITY_LEVEL.WARNING:t=j._SELECTOR_MESSAGE_WARNING_ICON;break;case h.SEVERITY_LEVEL.INFO:t=j._SELECTOR_MESSAGE_INFO_ICON;break;case h.SEVERITY_LEVEL.CONFIRMATION:t=j._SELECTOR_MESSAGE_CONFIRMATION_ICON}return j._DEFAULT_STATUS_ICON_SELECTORS+t},j._getSeveritySelector=function(e){var t;switch(e){case h.SEVERITY_LEVEL.FATAL:case h.SEVERITY_LEVEL.ERROR:t=j._SELECTOR_MESSAGE_ERROR;break;case h.SEVERITY_LEVEL.WARNING:t=j._SELECTOR_MESSAGE_WARNING;break;case h.SEVERITY_LEVEL.INFO:t=j._SELECTOR_MESSAGE_INFO;break;case h.SEVERITY_LEVEL.CONFIRMATION:default:t=j._SELECTOR_MESSAGE_CONFIRMATION}return t},j.GetTextDom=function(e,i,n){var r=null;return t.StringUtils.isString(i)&&(n&&v.isHTMLContent(i)?r=v.cleanHtml(i.substring(6,i.length-7)):(r=e.createElement("span")).textContent=i),r},j._appendTextDom=function(e,i){t.StringUtils.isString(i)?e.innerHTML=i:e.appendChild(i)},j._DEFAULT_STATUS_ICON_SELECTORS="oj-component-icon oj-message-status-icon ",j._SELECTOR_MESSAGE="oj-message",j._SELECTOR_MESSAGE_SUMMARY="oj-message-summary",j._SELECTOR_MESSAGE_DETAIL="oj-message-detail",j._SELECTOR_MESSAGE_CONTENT="oj-message-content",j._SELECTOR_MESSAGE_ERROR_ICON="oj-message-error-icon",j._SELECTOR_MESSAGE_WARNING_ICON="oj-message-warning-icon",j._SELECTOR_MESSAGE_INFO_ICON="oj-message-info-icon",j._SELECTOR_MESSAGE_CONFIRMATION_ICON="oj-message-confirmation-icon",j._SELECTOR_MESSAGE_ERROR="oj-message-error",j._SELECTOR_MESSAGE_WARNING="oj-message-warning",j._SELECTOR_MESSAGE_INFO="oj-message-info",j._SELECTOR_MESSAGE_CONFIRMATION="oj-message-confirmation",A.getNextFreePopup=function(){var e,t=A._getPool(),i=t.find("."+A._SELECTOR_MESSAGING);if(0===i.length){(e=n(A._getPopupContentHtml()))[0].style.display="none",e.appendTo(t);e.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})}else e=n(i[0]);return e},A.getPopupContentNode=function(e){return e.find("."+A._SELECTOR_MESSAGING_CONTAINER)[0]},A.destroyFreePopup=function(){var e;if(A._getFreePoolCount()>0){var t=(e=A.getNextFreePopup())[0];e.ojPopup("destroy"),t.parentNode.removeChild(t)}},A._getPool=function(){var e=n("#"+A._MESSAGING_POPUP_POOL_ID);if(e.length>0)return e;var t=(e=n("<div>"))[0];return t.setAttribute("id",A._MESSAGING_POPUP_POOL_ID),t.setAttribute("role","presentation"),document.body.appendChild(t),e},A._getFreePoolCount=function(){return A._getPool().find("."+A._SELECTOR_MESSAGING).length},A._getPopupContentHtml=A._SELECTOR_MESSAGING_CONTAINER="oj-messaging-popup-container",A._SELECTOR_MESSAGING="oj-messaging-popup",A._MESSAGING_POPUP_POOL_ID="__oj_messaging_popup_pool";const I=function(e,t){this.Init(e),this._userAssistanceDivElement=t};t.Object.createSubclass(I,t.MessagingStrategy,"InlineHelpHintsStrategy"),I.prototype.activate=I.prototype.reactivate=function(e,t){I.superclass.reactivate.call(this,e),this._userAssistanceDivElement=t,this._isContainerRootDomInDocument()||this._createInlineHelpHints()},I.prototype.shouldUpdate=function(e){let t=!(!e||void 0===e.title),i=!(!e||void 0===e.validatorHint),n=!(!e||void 0===e.converterHint);return t||i||n},I.prototype.update=function(){I.superclass.update.call(this),this._updateInlineHelpHints()},I.prototype.deactivate=function(){var e=this.GetComponent()._getRootElement();this._removeHelpHintsContainerAndContent(),this._focusinCallback&&this._deleteFocusEventHandlers(e),this._deleteHelpHintsAttributeEventHandlers(e),I.superclass.deactivate.call(this)},I.prototype._createInlineHelpHints=function(){var e=this.GetComponent();let t=e._ShowHelpHints();"always"===t&&this._addHelpHintsContent(e),"focus"===t&&this._createFocusEventHandlers(e),this._createHelpHintsAttributeEventHandlers(e)},I.prototype._createFocusEventHandlers=function(e){var t=e._getRootElement();this._focusinCallback=I._focusinHandler.bind(this,e),t.addEventListener("focusin",this._focusinCallback),this._focusoutCallback=I._focusoutHandler.bind(this),t.addEventListener("focusout",this._focusoutCallback)},I.prototype._deleteFocusEventHandlers=function(e){e.removeEventListener("focusin",this._focusinCallback),delete this._focusinCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback},I.prototype._createHelpHintsAttributeEventHandlers=function(e){var t=e._getRootElement();this._helpHintsChangedCallback=I._helpHintsChangedHandler.bind(this),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},I.prototype._deleteHelpHintsAttributeEventHandlers=function(e){e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback},I.prototype._getHelpHintsInlineContainer=I.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},I._helpHintsChangedHandler=I.prototype._removeHelpHintsContainerAndContent=function(){var e=this.GetComponent()._getRootElement(),t=this._getHelpHintsInlineContainer(e);t&&(this.RemoveAriaDescribedByForInlineMessaging(t),t.parentElement.removeChild(t),this._userAssistanceDivElement&&(this._userAssistanceDivElement.classList.remove("oj-has-helphints"),this.containerRoot=null))},I.prototype._addHelpHintsContent=function(e){let t,i=e.options.help,r=i?i.instruction:null,s=e.options.helpHints;if(r){let e=j.GetTextDom(document,r,!0);t=e?e.outerHTML:""}if(!t&&this.ShowValidatorHint()){let e=this.GetValidatorHints();e.length>0&&(t=e.join("<br/>"))}if(!t){let e=s?s.definition:null;e&&(t=e)}if(!t&&this.ShowConverterHint()){let e=this.GetConverterHint();e.length>0&&(t=e.join("<br/>"))}let a,o=s?s.source:null;if(o&&(a=this._getHelpSourceDom(o)),(t||a)&&!this.containerRoot){if(this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-helphints-inline-container"),n(this.containerRoot).uniqueId(),this.AddAriaDescribedByForInlineMessaging(this.containerRoot),"inline"===e._ShowHelpHintsLocation())this._userAssistanceDivElement.appendChild(this.containerRoot);else{let t=e._GetFormControlContainer();t.parentElement.insertBefore(this.containerRoot,t)}}this.containerRoot&&(t&&(t="<div>"+t+"</div>",this.containerRoot.innerHTML=t),a&&this.containerRoot.appendChild(a),t||a||(this.containerRoot.innerHTML=""));const l="inline"===e._ShowHelpHintsLocation();return this._userAssistanceDivElement&&l&&(t||a?this._userAssistanceDivElement.classList.add("oj-has-helphints"):this._userAssistanceDivElement.classList.remove("oj-has-helphints")),t||a},I.prototype._getHelpSourceDom=function(e){t.Assert.assertString(e);let i=document.createElement("div"),n=document.createElement("a");n.classList.add("oj-helphints-anchor"),n.setAttribute("tabindex","0"),n.setAttribute("target","_blank");try{v.validateURL(e),n.setAttribute("href",e)}catch(t){throw new Error(t+". The source option ("+e+") is invalid.")}let r=c.getTranslatedString("oj-ojEditableValue.helpSourceText");return n.textContent=r,i.appendChild(n),v.makeFocusable({element:n,applyHighlight:!0,component:this.GetComponent()}),i},I.prototype._updateInlineHelpHints=function(){const e=this.GetComponent();if(this.containerRoot&&(this.containerRoot.innerHTML=""),"always"===e._ShowHelpHints()||this._focusIn){this._addHelpHintsContent(e)||this._removeHelpHintsContainerAndContent()}},I._focusinHandler=function(e,t){let i=t.currentTarget,n=t.relatedTarget;n&&i.contains(n)||(this.containerRoot&&(this.containerRoot.innerHTML=""),this._focusIn=!0,this._addHelpHintsContent(e)?this._animateOpen():this._removeHelpHintsContainerAndContent())},I._focusoutHandler=function(e){let t=e.currentTarget,i=e.relatedTarget;if((!i||!t.contains(i))&&(this._focusIn=!1,this.containerRoot&&this.containerRoot.hasChildNodes())){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;b.startAnimation(this.containerRoot,"inline-hints-"+e,t,this.GetComponent()).then(}},I.prototype._getDefaultAnimation=function(){return I._defaultAnimation||(I._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),I._defaultAnimation},I.prototype._animateOpen=function(){if(this.containerRoot&&this.containerRoot.hasChildNodes()){let e=this._getDefaultAnimation().open,t="open";b.startAnimation(this.containerRoot,"inline-hints-"+t,e,this.GetComponent())}},I.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=o.getContext(e).getBusyContext(),i="The page is waiting for inline help hints ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},I.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};const w=t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.INLINE,w),t.Object.createSubclass(w,t.MessagingStrategy,"oj.InlineMessagingStrategy"),w.prototype.activate=w.prototype.reactivate=function(e,t){w.superclass.reactivate.call(this,e),this._parentElement=t,this._updateInlineMessage()},w.prototype.shouldUpdate=w.prototype.update=w.prototype.deactivate=w.prototype._getDefaultAnimation=function(){if(!w._defaultAnimation){var e=(s.parseJSONFromFontFamily("oj-messaging-inline-option-defaults")||{}).animation;w._defaultAnimation=e=e||{}}return w._defaultAnimation},w.prototype._replaceAnimationOptions=function(e,i){var n,r;t.StringUtils.isString(e)?(r=!0,n=e+""):(r=!1,n=JSON.stringify(e));for(var s=Object.keys(i),a=0;a<s.length;a++){var o=s[a];n=n.replace(new RegExp(o,"g"),i[o])}return r?n:JSON.parse(n)},w.prototype._determineAnimation=function(e,t){var i,n,r,s=this._getDefaultAnimation();if(s){var a,o=e[0],l=o.innerHTML,u=o.offsetHeight;o.innerHTML=t,a=o.offsetHeight,o.innerHTML=l,"noanimation"!==(i=a>u?"open":a<u?"close":"noanimation")&&(n=s[i])&&(r=this._replaceAnimationOptions(n,{"#oldHeight":u+"px","#newHeight":a+"px"}))}return{action:i,effect:r}},w.prototype._setBusyState=function(){if(!this._resolveBusyState){var e=this.GetComponent(),t=e?e.element:null,i=t?t[0]:null,n=o.getContext(i).getBusyContext(),r="The page is waiting for inline message ";i&&i.id&&(r+='for "'+i.id+'" '),r+="to open/close",this._resolveBusyState=n.addBusyState({description:r})}},w.prototype._clearBusyState=w.prototype._queueAction=function(e){var t=this,i=this.$messagingContentRoot;if(t._inInlineMessagingAnimation)this._currentContentToShow=e;else{this._currentContentToShow=null,this._setBusyState(),""!==e&&this._addRemoveOjHasMessagesClass(e),this._timeoutId&&clearTimeout(this._timeoutId);var n=this.GetComponent();if(n&&n._NotifyMessagingStrategyQueueAction){var r;if(!this._notifyQueueActionPromise)this._notifyQueueActionPromise=new Promise(function(e){r=e}),this._notifyQueueActionPromiseResolve=function(){this._notifyQueueActionPromise=null,this._notifyQueueActionPromiseResolve=null,r()}.bind(this);n._NotifyMessagingStrategyQueueAction(this._notifyQueueActionPromise)}this._timeoutId=setTimeout(function(){if(t._timeoutId=null,i&&i[0]){var n=t._determineAnimation(i,e),r=n.action,s=n.effect;"noanimation"===r?(i[0].innerHTML=e,t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()):("close"===r?i[0].setAttribute("aria-live","off"):i[0].setAttribute("aria-live","polite"),"open"===r&&(i[0].innerHTML=e),t._inInlineMessagingAnimation=!0,b.startAnimation(i[0],"inline-"+r,s,t.GetComponent()).then(function(){var n;t._inInlineMessagingAnimation=!1,"close"===r&&(i[0].setAttribute("aria-live","polite"),i[0].innerHTML=e),null!==t._currentContentToShow?(n=t._currentContentToShow,t._currentContentToShow=null,t._queueAction(n)):(""===e&&t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve())}))}else t._addRemoveOjHasMessagesClass(""),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()},0)}},w.prototype._addRemoveOjHasMessagesClass=function(e){this._parentElement&&(e?this._parentElement.classList.add("oj-has-messages"):(this._parentElement.classList.remove("oj-has-messages"),this._removeMessagingContentRootDom()))},w.prototype._updateInlineMessage=function(){var e;e=this._buildInlineHtml();var t=this._isMessagingContentRootDomInDocument();e&&!t&&this._createInlineMessage(),this.$messagingContentRoot&&this.$messagingContentRoot[0]&&(this.GetComponent()._IsCustomElement()?this._queueAction(e):this.$messagingContentRoot[0].innerHTML=e)},w.prototype._createInlineMessage=function(){this.$messagingContentRoot=n(this._getInlineContentHtml()),this.AddAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]),this._addAriaLive(this.$messagingContentRoot),this._parentElement?this._parentElement.appendChild(this.$messagingContentRoot[0]):this.GetComponent().widget()[0].appendChild(this.$messagingContentRoot[0])},w.prototype._getInlineContentHtml=function(){return"<div class='oj-messaging-inline-container'></div>"},w.prototype._removeMessagingContentRootDom=function(){if(this._isMessagingContentRootDomInDocument()){this.RemoveAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]);let e=this.$messagingContentRoot[0].parentNode;e&&e.removeChild(this.$messagingContentRoot[0])}this.$messagingContentRoot=null},w.prototype._addAriaLive=function(e){t.Assert.assertPrototype(e,n),e[0].setAttribute("aria-live","polite")},w.prototype._buildInlineHtml=function(){var e;return this.ShowMessages()?(e=this.GetComponent().document[0],this._buildMessagesHtml(e)):""},w.prototype._buildMessagesHtml=function(e){var t,i,n="";return this.HasMessages()&&(i=this.GetMessages(),t=this.GetMaxSeverity(),n=j.buildMessagesHtml(e,i,t,!0)),n},w.prototype._isMessagingContentRootDomInDocument=function(){var e=!1;if(!this.$messagingContentRoot)return!1;{let t=this.$messagingContentRoot[0].id;e=document.getElementById(t)}return null!==e};const T=function(e,t){this.Init(e),this._parentElement=t};t.Object.createSubclass(T,t.MessagingStrategy,"InlineRequiredStrategy"),T.prototype.activate=function(e){T.superclass.activate.call(this,e),null==this.containerRoot&&this._createOrUpdateInlineRequired()},T.prototype.reactivate=function(e,t){T.superclass.reactivate.call(this,e),this._parentElement=t,this._isContainerRootDomInDocument()||this._createOrUpdateInlineRequired()},T.prototype.shouldUpdate=function(e){return!(!e||!("hasNoValueToggled"in e))},T.prototype.update=function(){this._createOrUpdateInlineRequired(),T.superclass.update.call(this)},T.prototype.deactivate=function(){this._removeInlineRequired();var e=this.GetComponent()._getRootElement();e.removeEventListener("requiredChanged",this._requiredChangedCallback),delete this._requiredChangedCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback,this._parentElement=null,T.superclass.deactivate.call(this)},T.prototype._createOrUpdateInlineRequired=function(){var e=this.GetComponent();const t=e.options,i=e._getRootElement(),r=i.classList.contains("oj-has-no-value"),s=this._getRequiredInlineContainer();if(t.required&&r&&!s){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-required-inline-container");let t=c.getTranslatedString("oj-ojEditableValue.requiredText");this.containerRoot.textContent=t,n(this.containerRoot).uniqueId(),this._parentElement.appendChild(this.containerRoot),e._AriaRequiredUnsupported()&&this.AddDescribedByToElement(i,this.containerRoot.id),this._focusoutCallback=this._focusoutHandler.bind(this,e),i.addEventListener("focusout",this._focusoutCallback)}t.required&&!r&&s&&this._removeInlineRequired(),this._requiredChangedCallback||(this._requiredChangedCallback=this._requiredChangedHandler.bind(this,e),i.addEventListener("requiredChanged",this._requiredChangedCallback))},T.prototype._removeInlineRequired=function(){const e=this.GetComponent();let t=this._getRequiredInlineContainer();t&&e._AriaRequiredUnsupported()&&this.RemoveDescribedByFromElement(e._getRootElement(),t.id),t&&this._parentElement&&(this._parentElement.removeChild(t),this.containerRoot=null)},T.prototype._getRequiredInlineContainer=T.prototype._requiredChangedHandler=function(e,t){let i=t.detail.value,n=this._getRequiredInlineContainer();const r=e._getRootElement().classList.contains("oj-has-no-value");i&&r&&null===n?this._createOrUpdateInlineRequired():i||null===n||this._removeInlineRequired()},T.prototype._focusoutHandler=function(e){const t=this._getRequiredInlineContainer(),i=e._getRootElement(),n=e.options.required,r=i.classList.contains("oj-has-no-value");if(n&&!r&&null!==t){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;b.startAnimation(this.containerRoot,"inline-required-"+e,t,this.GetComponent()).then(()=>{this._removeInlineRequired(),i._clearBusyState()})}},T.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},T.prototype._getDefaultAnimation=function(){return T._defaultAnimation||(T._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),T._defaultAnimation},T.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=o.getContext(e).getBusyContext(),i="The page is waiting for inline required ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},T.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};var R=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,R),t.Object.createSubclass(R,t.MessagingStrategy,"InlineUserAssistanceStrategy"),R.prototype.activate=function(e){R.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent(),i=t.options,n=t._getRootElement();this._readonlyChangedCallback=this._readonlyChangedHandler.bind(this,t),n.addEventListener("readonlyChanged",this._readonlyChangedCallback),this._disabledChangedCallback=this._disabledChangedHandler.bind(this,t),n.addEventListener("disabledChanged",this._disabledChangedCallback),this._userAssistanceDensityChangedCallback=this._userAssistanceDensityChangedHandler.bind(this,t),n.addEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),null==this.containerRoot&&this._createInlineContainer(),this._isDisabledOrReadonly()||this._activateContainerStrategies(e,i)},R.prototype.reactivate=function(e){R.superclass.reactivate.call(this,e);const t=this.GetComponent().options;this._isDisabledOrReadonly(t)||(this._isContainerRootDomInDocument()||this._createInlineContainer(),this._inlineMessagingStrategy?(this._inlineMessagingStrategy.reactivate(e,this.containerRoot),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.reactivate(e,this.containerRoot),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.reactivate(e,this.containerRoot)):this._activateContainerStrategies(this._componentMessaging,t))},R.prototype.shouldUpdate=function(e){return!this._isDisabledOrReadonly()&&(this._shouldUpdateContent=e,!0)},R.prototype.update=function(){R.superclass.update.call(this),this._inlineMessagingStrategy&&(this._isDisabledOrReadonly()||(this._inlineMessagingStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineMessagingStrategy.update(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineRequiredStrategy.update(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineHelpHintsStrategy.update()))},R.prototype.deactivate=function(){this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),this._removeContainerRootDom(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy;const e=this.GetComponent()._getRootElement();e.removeEventListener("readonlyChanged",this._readonlyChangedCallback),delete this._readonlyChangedCallback,e.removeEventListener("disabledChanged",this._disabledChangedCallback),delete this._disabledChangedCallback,e.removeEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),delete this._userAssistanceDensityChangedCallback,R.superclass.deactivate.call(this)},R.prototype._createInlineContainer=function(){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-user-assistance-inline-container");const e=this.GetComponent(),t=e.options.userAssistanceDensity;"efficient"===t?this.containerRoot.classList.add("oj-efficient"):"reflow"===t&&this.containerRoot.classList.add("oj-reflow"),n(this.containerRoot).uniqueId(),e.widget()[0].appendChild(this.containerRoot)},R.prototype._removeContainerRootDom=function(){if(this._isContainerRootDomInDocument()){let e=this.containerRoot.parentNode;e&&e.removeChild(this.containerRoot)}this.containerRoot=null},R.prototype._isContainerRootDomInDocument=function(){var e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},R.prototype._activateContainerStrategies=function(e,t){void 0===this._inlineMessagingStrategy&&(this._inlineMessagingStrategy=new w(this._displayOptions,this.containerRoot),this._inlineMessagingStrategy.activate(e)),void 0!==t.required&&void 0===this._inlineRequiredStrategy&&(this._inlineRequiredStrategy=new T(this._displayOptions,this.containerRoot),this._inlineRequiredStrategy.activate(e)),void 0===this._inlineHelpHintsStrategy&&(this._inlineHelpHintsStrategy=new I(this._displayOptions,this.containerRoot),this._inlineHelpHintsStrategy.activate(e))},R.prototype._userAssistanceDensityChangedHandler=function(e,t){let i=t.detail.value;"efficient"===i?(this.containerRoot.classList.add("oj-efficient"),this.containerRoot.classList.remove("oj-reflow")):"reflow"===i?(this.containerRoot.classList.add("oj-reflow"),this.containerRoot.classList.remove("oj-efficient")):(this.containerRoot.classList.remove("oj-efficient"),this.containerRoot.classList.remove("oj-reflow"))},R.prototype._readonlyChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},R.prototype._disabledChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},R.prototype._deactivateContainerStrategies=function(){this._inlineMessagingStrategy&&this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy},R.prototype._isDisabledOrReadonly=function(e=this.GetComponent().options){var t=e.disabled||!1,i=e.readOnly||!1;return t||i};const L=function(e){this.Init(e)};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,L),t.Object.createSubclass(L,y,"InsideFormControlLabelStrategy"),L.prototype.activate=function(e){L.superclass.activate.call(this,e),this._CreateLabel()},L.prototype.reactivate=function(e){L.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel()},L.prototype.shouldUpdate=function(){return!1},L.prototype.update=L.prototype.deactivate=function(){this._DestroyLabel(),L.superclass.deactivate.call(this)},L.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},L.prototype._InsertOjLabel=function(e,t,i){let n=i._getRootElement();n.insertBefore(e,n.firstElementChild)},L.prototype._CreateEventHandlers=L._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value};const D=function(e){this.Init(e)};t.Object.createSubclass(D,t.MessagingStrategy,"oj.InsideLabelPlaceholderStrategy"),D.prototype.activate=function(e){D.superclass.activate.call(this,e),this._createPlaceholderToggle()},D.prototype.reactivate=D.prototype.deactivate=function(){this._destroyPlaceholderToggle(),D.superclass.deactivate.call(this)},D.prototype.shouldUpdate=function(e){return e&&void 0!==e.converterHint||this.GetComponent().options.placeholder},D.prototype.update=function(){D.superclass.update.call(this),this._placeholderChanged()},D.prototype._destroyPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();this._blurCallback(),t.removeEventListener("focusout",this._blurCallback,!1),delete this._blurCallback,t.removeEventListener("focusin",this._focusCallback,!1),delete this._focusCallback,i.removeEventListener("placeholderChanged",this._placeholderChangedCallback,!1),delete this._placeholderChangedCallback,e._HasPlaceholderSet()&&(e._SetPlaceholder(e.options.placeholder),e._customPlaceholderSet=!0)},D.prototype._createPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();e._customPlaceholderSet=!0,this._blurCallback=D._blurHandler.bind(this,t),t.addEventListener("focusout",this._blurCallback,!1),this._focusCallback=D._focusHandler.bind(this),t.addEventListener("focusin",this._focusCallback,!1),this._placeholderChangedCallback=this._placeholderChanged.bind(this),i.addEventListener("placeholderChanged",this._placeholderChangedCallback,!1),this._placeholderChanged()},D.prototype._placeholderChanged=function(){var e,t=this.GetComponent()._GetContentElement()[0];e=a.containsFocus(t)?this._focusCallback:this._blurCallback,Promise.resolve(!0).then(function(){e()})},D.ShowConverterHintAsPlaceholder=function(e){var t=e.options.displayOptions;if(!t||"displayOptions"!==e._getResolvedUserAssistance())return!1;var i=t.converterHint;return i instanceof Array?"placeholder"===i[0]:"placeholder"===i},D._focusHandler=function(){var e,t=this.GetComponent();if(D.ShowConverterHintAsPlaceholder(t)){var i=this.GetConverterHint();e=i.length>0?i[0]:null}e||(e=t.options.placeholder),t._SetPlaceholder(e)},D._blurHandler=function(e){if(e.hasAttribute("aria-haspopup")){var t=e.getAttribute("aria-owns"),i=document.getElementById(t);if(a.containsFocus(i))return}var n,r=this.GetComponent();if(D.ShowConverterHintAsPlaceholder(r)){var s=this.GetConverterHint();n=s.length>0?s[0]:null}n||(n=r.options.placeholder),null==n?r._SetPlaceholder(null):r._SetPlaceholder("")};const P=t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE,P),t.Object.createSubclass(P,y,"oj.InsideLabelStrategy"),P.prototype.activate=function(e){P.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent()._getRootElement();this._placeholderChangedCallback=this._placeholderChangedHandler.bind(this),t.addEventListener("placeholderChanged",this._placeholderChangedCallback),this._activatePlaceholderStrategyIfNeeded(e),this._CreateLabel()},P.prototype.reactivate=function(e){P.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel(),this._placeholderStrategy?this._placeholderStrategy.reactivate(e):this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},P.prototype.shouldUpdate=P.prototype.update=function(){this._placeholderStrategy&&this._placeholderStrategy.update()},P.prototype.deactivate=function(){this._placeholderStrategy&&(this._placeholderStrategy.deactivate(),delete this._placeholderStrategy);this.GetComponent()._getRootElement().removeEventListener("placeholderChanged",this._placeholderChangedCallback),delete this._placeholderChangedCallback,this._DestroyLabel(),P.superclass.deactivate.call(this)},P.prototype._activatePlaceholderStrategyIfNeeded=function(e){if(void 0===this._placeholderStrategy){let t=()=>{let t=D;this._placeholderStrategy=new t(this._displayOptions),this._placeholderStrategy.activate(e)};const i=this.GetComponent();(i.options.placeholder||"displayOptions"===i._getResolvedUserAssistance()&&D.ShowConverterHintAsPlaceholder(i))&&t()}},P.prototype._placeholderChangedHandler=P.prototype._GetContainer=function(e){let t=e._GetFormControlContainer();if(!t)return null;let i="_GetContentWrapper";return e[i]&&(t=e[i]()),t},P.prototype._GetFormControlLabelStyleClass=function(){return[P._BASE_STYLE_CLASS,"label","inside".toLowerCase()].join("-")},P.prototype._InsertOjLabel=P._BASE_STYLE_CLASS="oj-text-field",e.EditableValueUtils=E,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverter",["ojs/ojcore-base","jquery"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const i=function(e){this.Init(e)};return e.Object.createSubclass(i,e.Object,"oj.Converter"),i.prototype.Init=function(e){i.superclass.Init.call(this),this._options=e},i.prototype.getOptions=i.prototype.resolvedOptions=i}),define("ojs/ojvalidator-async",[],function(){}),define("ojs/ojconverterutils-i18n",["exports","ojs/ojcore-base","ojs/ojtranslation","jquery","ojs/ojconverterutils","ojs/ojvalidation-error"],function(e,t,i,n,r,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const a={numeringSystems:{latn:"0123456789",arab:"",thai:""},regexTrim:/^\s+|\s+$|\u200f|\u200e/g,regexTrimNumber:/\s+|\u200f|\u200e/g,regexTrimRightZeros:/0+$/g,zeros:["0","00","000"],_ISO_DATE_REGEXP:/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,getLocalTimeZoneOffset:function(e){var t=(e||new Date).getTimezoneOffset();return a.getTimeStringFromOffset("Etc/GMT",t,!1,!1)},dateToLocalIso:function(e){var t=e;"number"==typeof t&&(t=new Date(t));var i=a.padZeros(t.getFullYear(),4)+"-"+a.padZeros(t.getMonth()+1,2)+"-"+a.padZeros(t.getDate(),2)+"T"+a.padZeros(t.getHours(),2)+":"+a.padZeros(t.getMinutes(),2)+":"+a.padZeros(t.getSeconds(),2);return t.getMilliseconds()>0&&(i+="."+a.trimRightZeros(a.padZeros(t.getMilliseconds(),3))eToLocalIso(e).split("T")[0]},partsToIsoString:function(e){var t=a.padZeros(e[0],4)+"-"+a.padZeros(e[1],2)+"-"+a.padZeros(e[2],2)+"T"+a.padZeros(e[3],2)+":"+a.padZeros(e[4],2)+":"+a.padZeros(e[5],2);return e[6]>0&&(t+="."+a.trimRightZeros(a.padZeros(e[6],3))),t},isoToLocalDate:function(e){return e&&"string"==typeof e?this._isoToLocalDateIgnoreTimezone(e):null},_isoToLocalDateIgnoreTimezone:function(e){var t=a._IsoStrParts(e),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5],t[6]);return i.setFullYear(t[0]),i},_IsoStrParts:function(e){!1===a._ISO_DATE_REGEXP.test(e)&&a._throwInvalidISOStringSyntax(e);var t,i=e.split("T"),n=e.indexOf("T"),r=new Date,s=!1,o=[r.getFullYear(),r.getMonth()+1,r.getDate(),0,0,0,0];if(""!==i[0]){a.startsWith(i[0],"-")&&(i[0]=i[0].substr(1),s=!0);var l=i[0].split("-");for(t=0;t<l.length;t++){var u=parseInt(l[t],10);if(1===t&&(u<1||u>12)&&a._throwInvalidISOStringRange(e,"month",u,1,12),2===t){var d=a._getDaysInMonth(o[0],o[1]-1);(u<1||u>d)&&a._throwInvalidISOStringRange(e,"day",u,1,d)}o[t]=u}s&&(o[0]=-o[0])}if(-1!==n){var c=i[1].split("."),h=c[0].split(":");for(t=0;t<h.length;t++){var p=parseInt(h[t],10);0===t&&(p<0||p>24)&&a._throwInvalidISOStringRange(e,"hour",p,0,24),1===t&&(p<0||p>59)&&a._throwInvalidISOStringRange(e,"minute",p,0,59),2===t&&(p<0||p>59)&&a._throwInvalidISOStringRange(e,"second",p,0,59),o[3+t]=p}2===c.length&&c[1]&&(o[6]=parseInt(a.zeroPad(c[1],3,!1),10))}return o},getISOStrFormatInfo:function(e){var t={format:null,dateTime:null,timeZone:"",isoStrParts:null},i=a._ISO_DATE_REGEXP.exec(e);if(null===i&&a._throwInvalidISOStringSyntax(e),i&&void 0===i[1]&&void 0===i[2])return t.format="local",t.dateTime=e,t.isoStrParts=a._IsoStrParts(t.dateTime),t;t.timeZone=void 0!==i[1]?i[1]:i[2],"Z"===t.timeZone?t.format="zulu":t.format="offset";var n=e.length,r=t.timeZone.length;return t.dateTime=e.substring(0,n-r),t.isoStrParts=a._IsoStrParts(t.dateTime),t},getISOStrFormatType:function(e){let t;const i=a._ISO_DATE_REGEXP.exec(e);if(null===i&&a._throwInvalidISOStringSyntax(e),i&&void 0===i[1]&&void 0===i[2])return t="local",t;return t="Z"===(void 0!==i[1]?i[1]:i[2])?"zulu":"offset",t},_isLeapYear:function(e){return e%400==0||e%100!=0&&e%4==0},_getDaysInMonth:function(e,t){switch(t){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return a._isLeapYear(e)?29:28;default:return 30}},_throwInvalidISOStringRange:function(e,t,i,n,r){var s=new RangeError("The string "+e+" is not a valid ISO 8601 string: "+i+" is out of range.  Enter a value between "+n+" and "+r+" for "+t),a={errorCode:"isoStringOutOfRange",parameterMap:{isoString:e,value:i,minValue:n,maxValue:r,propertyName:t}};throw s.errorInfo=a,s},_throwInvalidISOStringSyntax:function(e){var t=new Error("The string "+e+" is not a valid ISO 8601 string syntax."),i={errorCode:"invalidISOString",parameterMap:{isoStr:e}};throw t.errorInfo=i,t},trim:function(e){return(e+"").replace(a.regexTrim,"")},trimRightZeros:function(e){return(e+"").replace(a.regexTrimRightZeros,"")},trimNumber:function(e){return(e+"").replace(a.ree,t){ret"").join(" ").toUpperCase()},padZeros:function(e,t){var i=e+"",n=!1;return e<0&&(i=i.substr(1),n=!0),t>1&&i.length<t&&(i=(i=a.zeros[t-2]+i).substr(i.length-t,t)),n&&(i="-"+i),i},zeroPad:function(e,t,i){for(var n=""+e,r=n.length;r<t;r+=1)n=i?"0"+n:n+"0";return n},getTimeStringFromOffset:function(e,t,i,n){var r=i?t>0:t<=0,s=Math.abs(t),o=Math.floor(s/60),l=s%60,u=r?"-":"+";n&&(o=a.zeroPad(o,2,!0));var d=e+u+o;return(l>0||n)&&(d+=":"+a.zeroPad(l,2,!0)),d},getNumberingSystemKey:function(e,t){if(void 0===t)return"latn";var i=a.getNumberingExtension(t),n="symbols-numberSystem-"+i;return void 0===e.numbers[ion(e){return e.split("-")[0]},getBCP47Region:function(e){var t=e.split("-");return 3===t.length?t[2]:2===t.length&&2===t[1].length?t[1]:"001"},getNumberingExtension:function(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4{return Object.keys(e).length},getLocaleElementsMainNode:function(e){var t=e.main;return t[Object.keys(t)[0]]},getLocaleElementsMainNodeKey:function(e){var t=e.main;return Object.keys(t)[0]},_toBoolean:function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return e}return e},getGetOption:function(e,t){if(void 0===e)throw new Error("Internal "+t+" error. Default options missing.");return function(i,n,r,s){if(void 0!==e[i]){var o=e[i];switch(n){case"boolean":o=a._toBoolean(o);break;case"string":o=String(o);break;case"number":o=Number(o);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==r&&-1===r.indexOf(o)){for(var l=[],u=0;u<r.length;u++)l.push(r[u]);var d="The value '"+e[i]+"' is out of range for '"+t+"' options property '"+i+"'. Valid values: "+l,c=new RangeError(d),h={errorCode:"optionOutOfRange",parameterMap:{propertyName:i,propertyValue:e[i],propertyValueValid:l,caller:t}};throw c.errorInfo=h,c}return o}return s}},matchString:function(e,t,i,n){void 0===n&&(n={sensitivity:"base",usage:"sort"});var r=a.getGetOption(n,"OraI18nUtils.matchString");n.usage=r("usage","string",["sort","search"],"sort"),n.sensitivity=r("sensitivity","string",["base","accent","case","variant"],"base");for(var s=e.length,o=t.length-1,l=0;l<s;l++)for(var u=0;u<3;u++){var d=s-l;if(d=Math.min(d,o+u),0===e.substr(l,d).localeCompare(t,i,n))return[l,l+(d-1)]}return null}};var o={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3}(this._normalizeIsoString(e))},a._copyTimeOver=function(e,t){if(!e||!t)throw new Error("Provided invalid arguments");var i=this._normalizeIsoString(t),n=e.indexOf("T"),r=i.indexOf("T");return i.substring(0,r)+(-1!==n?e.substring(n):"T00:00:00.000")},a._clearTime=function(e){return this._dateTime(e,{hours:0,minutes:0,seconds:0,milliseconds:0})},a._dateTime=function(e,t,i){if(!e||!t)throw new Error("Invalid argument invocation");var r,s,a=null,l=o,u=this.padZeros,d=this._normalizeIsoString(e),c=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(d);if(!c)throw new Error("Unable to capture anything");if(c=c.slice(1),Array.isArray(t)){a={};for(var h=0,p=t.length;h<p;h++){var _=t[h];if(_ in l){if(s=c[r=l[_].pos],i&&"timeZone"===_)throw new Error("Dude you tried to ask timezone to be parsed");if(i){var m=parseInt(s,10);a[_]=1===r?m-1:m}else a[_]=s}}}else if(n.isPlainObject(t)){for(var f=Object.keys(t),g=0;g<f.length;g++){var v=f[g],b=l[v];r=b.pos,s=t[v],1===r&&"number"==typeof s&&(s+=1),c[r]=b.pad?u(s,b.pad):s}a=c[0]+"-"+c[1]+"-"+c[2]+"T"+c[3]+":"+c[4]+":"+c[5]+(c.length>6&&c[6]?"."+c[6]+(8===c.length&&c[7]?c[7]:""):"")}return a},a._normalizeIsoString=function(e){if(!e)throw new Error("Provided invalid arguments");var t,i=(new Date).toISOString(),n=i.substring(0,i.indexOf("T")),r=e.indexOf("T"),s=-1===r?e:e.substring(0,r);return(s=s||n)+(-1!==r?(t=e.substring(r)).split(":").length>1?t:t+":00":"T00:00:00.000")},a.formatString=function(e,t){for(var i=t.length,n=e,r=0;r<i;r++){var s="{"+r+"}";n=n.replace(s,t[r])}return n},a.convertISOString=function(e,t){if(e.startsWith("T"))return e;var i=e;if("offset"===t){var n=new Date(e).getTimezoneOffset();i=e+(n=a.getTimeStringFromOffset("",n,!0,!0))}else if("zulu"===t){var r=a._IsoStrParts(e),s=new Date(r[0],r[1]-1,r[2],r[3],r[4],r[5],r[6]);i=a.padZeros(s.getUTCFullYear(),4)+"-"+a.padZeros(s.getUTCMonth()+1,2)+"-"+a.padZeros(s.getUTCDate(),2)+"T"+a.padZeros(s.getUTCHours(),2)+":"+a.padZeros(s.getUTCMinutes(),2)+":"+a.padZeros(s.getUTCSeconds(),2),s.getMilliseconds()>0&&(i+="."+a.trimRightZeros(a.padZeros(s.getUTCMilliseconds(),3))),i+="Z"}return i},a.getInitials=function(e,t){var i,n=0,r=0;if(void 0!==e&&e.length>0&&(n=e.charCodeAt(0)),n>=1536&&n<=1791)return"";if(n>=2304&&n<=2431)return e.charAt(0);if(n>=3584&&n<=3711)return e.charAt(0);if(n>=4352&&n<=4607||n>=12592&&n<=12687||n>=43360&&n<=43391||n>=44032&&n<=55295)return e;if(void 0!==t&&t.length>0&&(n=t.charCodeAt(0)),n>=11904&&n<=12255||n>=12288&&n<=12591||n>=12688&&n<=12799||n>=13056&&n<=19903||n>=19968&&n<=40959||n>=63744&&n<=64255)return t;if(n>=55296&&n<=56319){if(t&&t.length<2)return"";if((r=t.charCodeAt(1))<56320||r>57343)return"";if((i=1024*(n-55296)+(r-56320)+65536)>=110592&&i<=110847||i>=127488&&i<=127743||i>=131072&&i<=173791||i>=173824&&i<=177983||i>=177984&&i<=178207||i>=178208&&i<=183983||i>=194560&&i<=195103)return t}return n="",r="",void 0!==e&&e.length>0&&(n=e.charAt(0).toUpperCase()),void 0!==t&&t.length>0&&(r=t.charAt(0).toUpperCase()),n+r};const l={isoToDate:function(e){return a.isoToDate(e)},isoToLocalDate:function(e){return a.isoToLocalDate(e)},dateToLocalIso:function(e){return a.dateToLocalIso(e)},dateToLocalIsoDateString:function(e){return a.dateToLocalIsoDateString(e)},getLocalTimeZoneOffset:function(e){return a.getLocalTimeZoneOffset(e)},getConverterInstance:function(e){return r.getConverterInstance(e)},_minMaxIsoString:function(e,t){if(e){var i=(t=t||this.dateToLocalIso(new Date)).indexOf("T");0===e.indexOf("T")&&i>0&&(e=t.substring(0,i)+e)}return e},_getISOStrFormatType:function(e){return a.getISOStrFormatType(e)},_verifyValueMinMax:function(e,t,i){Object.entries({value:e,min:t,max:i}).forEach(([e,t])=>{if(t)try{l._getISOStrFormatType(t)}catch(t){throw new Error(`${e} must be an iso string: ${t}`)}})},_getTodaysDateIsoStr:function(){const e=new Date;return a.padZeros(e.getFullYear(),4)+"-"+a.padZeros(e.getMonth()+1,2)+"-"+a.padZeros(e.getDate(),2)},_makeIsoDateStringsDateComparable:function(e,t){const i=e.startsWith("T"),n=t.startsWith("T"),r=!e.includes("T"),s=!t.includes("T");let a=e,o=t;if(i||n){const r=l._getTodaysDateIsoStr();i&&(a=r+e),n&&(o=r+t)}return r&&s||(r&&(a=e+"T00:00:00"),s&&(o=t+"T00:00:00")),[a,o]},_compareISODates:function(e,t){const i=l._makeIsoDateStringsDateComparable(e,t);return new Date(i[0])-new Date(i[1])},__getConverterOptionError:function(e,n){t.Assert.assertObject(n);var r,a="",o="",u=n.propertyName;if("optionTypesMismatch"===e){var d=n.requiredPropertyName;r=n.requiredPropertyValueValid,a=i.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:u,propertyValue:n.propertyValue,requiredPropertyName:d}),o=l._getOptionValueDetailMessage(d,r)}else"optionTypeInvalid"===e?(u=n.propertyName,r=n.propertyValueValid,a=i.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:u}),o=l._getOptionValueDetailMessage(u,r)):"optionOutOfRange"===e?(a=i.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:u,propertyValue:n.propertyValue}),r=n.propertyValueValid,o=l._getOptionValueDetailMessage(u,r)):"optionValueInvalid"===e&&(a=i.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:u,propertyValue:n.propertyValue}),r=n.propertyValueHint,o=l._getOptionValueDetailMessage(u,r));return new s.ConverterEurn new s.ConverterError(e,t)},_getOptionValueDetailMessage:function(e,t){var n;return t?("string"==typeof t?n="oj-converter.optionHint.detail":(n="oj-converter.optionHint.detail-plural",t=t.join(i.getTranslatedString("oj-converter.plural-separator"))),i.getTranslatedString(n,{propertyName:e,propertyValueValid:t})):""},_copyTimeOver:function(e,t){return a._copyTimeOver(e,t)},_clearTime:function(e){ret,i){return a._dateTiturn a._norm,t){return a.getInitials(e,t)}};e.IntlConverterUtils=l,e.OraI18nUtils=a,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverter-number",["exports","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojlocaledata","ojs/ojconverter","ojs/ojtranslation","ojs/ojconfig","ojs/ojcore-base","ojs/ojvalidation-error"],function(e,t,i,n,r,s,a,o,l){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const u=function(){var e,n=/^[+-]?infinity$/i,r=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,s=/([^+-.0-9]*)([+-]?\d*\.?\d*(E[+-]?\d+)?).*$/,a=/([\^$.*+?|\[\](){}])/g,o=/(^0\.0*)([^0].*$)/,l=/^0+$/,u={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},d={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},c={HALF_UP:"ceil",CEILING:"ceil",UP:"ceil",HALF_DOWN:"floor",FLOOR:"floor",DOWN:"floor",DEFAULT:"round"};function h(e,t,i){var n;for(n=e.length;n<t;n+=1)e=i?"0"+e:e+"0";return e}function p(e,t,i,n,r){var s=e[t];return void 0!==s?(s=Number(s),(isNaN(s)||s<i||s>n)&&function(e,t,i,n){var r=new RangeError(e+" is out of range.  Enter a value between "+t+" and "+i+" for "+n),s={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:t,maxValue:i,propertyName:n}};throw r.errorInfo=s,r}(s,i,n,t),Math.floor(s)):r}function _(e){var t=e||"en-US",i=t.indexOf("-u-nu-"),n="latn";return-1!==i&&(n=t.substr(i+6,4)),n}function m(e,n,r,s){var a,o=n,l=i.OraI18nUtils.getLocaleElementsMainNode(e),u=function(e,t){if(void 0===t)return"latn";var i=_(t),n="symbols-numberSystem-"+i;return void 0===e.numbers[n]&&(i="latn"),i}(l,s);o.numberingSystemKey=u,o.numberingSystem="symbols-numberSystem-"+u;var d=r.lenientParse;if(o.lenientParse=d||"full",o.style=r.style,void 0!==r.pattern&&r.pattern.length>0)a=r.pattern;else{var c;switch(o.style){case"decimal":c="decimalFormats-numberSystem-";break;case"currency":c="currencyFormats-numberSystem-";break;case"percent":c="percentFormats-numberSystem-";break;default:c="decimalFormats-numberSystem-"}c+=o.numberingSystemKey,a=l.numbers[c].standard}var h=r.decimalFormat;void 0===h&&(h=r.currencyFormat),void 0===h||"decimal"!==o.style&&"currency"!==o.style||(o.shortDecimalFormat=l.numbers["decimalFormats-numberSystem-latn"][h].decimalFormat);var m=l.numbers[o.numberingSystem].decimal,g=l.numbers[o.numberingSystem].group,v=r.separators;if(void 0!==v){o.separators=v;var b=v.decimal,y=v.group;void 0!==b&&""!==b&&(m=v.decimal),void 0!==y&&(g=v.group)}var E=i.OraI18nUtils.getLocaleElementsMainNodeKey(e),C=E.split("-")[0];if(o.lang=C,o.pat=a,o.minusSign=l.numbers[o.numberingSystem].minusSign,o.decimalSeparator=m,o.exponential=l.numbers[o.numberingSystem].exponential,o.groupingSeparator=g,o.currencyDisplay=r.currencyDisplay,void 0!==r.currency&&(o.currencyCode=r.currency.toUpperCase()),void 0!==r.unit&&(o.unit=r.unit.toLowerCase()),function(e,t,i,n){for(var r,s=n,a=!1,o=!1,l=0,u=0,d=!0,c=1;c>=0&&u<t.length;--c){var h=!1,p="",_="",m=-1,g=1,v=0,b=0,y=0,E=-1,C=-1,S=0;d=!0;for(var O=u;O<t.length;++O){var L=t.charAt(O);switch(S){case 0:case 2:if(h){if("'"===L){O+1<t.length&&"'"===t.charAt(O+1)?(O+=1,d?p=p.concat("''"):_=_.concat("''")):h=!1;continue}}else{if("#"===L||"0"===L||","===L||"."===L){S=1,O-=1;continue}if(""===L){void 0===e.currency&&f("style"),s.style="currency";var D=O+1<t.length&&""===t.charAt(O+1);D&&(O+=1),d?p=p.concat(D?"'":"'"):_=_.concat(D?"'":"'");continue}if("'"===L){if("'"===L){O+1<t.length&&"'"===t.charAt(O+1)?(O+=1,d?p=p.concat("''"):_=_.concat("''")):h=!0;continue}}else{if(";"===L){0!==S&&0!==c||T(t),u=O+1,O=t.length;continue}if("%"===L){s.style="percent",1!==g&&T(t),s.isPercent=!0,g=100,d?p=p.concat("'%"):_=_.concat("'%");continue}if(""===L){1!==g&&T(t),s.style="perMill",s.isPerMill=!0,g=1e3,d?p=p.concat("'"):_=_.concat("'");continue}if("-"===L){d?p=p.concat("'-"):_=_.concat("'-");continue}}}d?p=p.concat(L):_=_.concat(L);break;case 1:if(1!==c){0===(l-=1)&&(S=2,d=!1);continue}if(l+=1,"#"===L)b>0?y+=1:v+=1,E>=0&&m<0&&(E+=1);else if("0"===L)y>0&&T(t),b+=1,E>=0&&m<0&&(E+=1);else if(","===L)C=E,E=0;else{if("."!==L){if(V=O,F="E",M=void 0,void 0,M=t.substr(V,F.length),null!==new RegExp(F,"i").exec(M)){for(o&&T(t),o=!0,r=0,O+="E".length;O<t.length&&"0"===t.charAt(O);)r+=1,l+=1,O+=1;(v+b<1||r<1)&&T(t),S=2,d=!1,O-=1;continue}S=2,d=!1,O-=1,l-=1;continue}m>=0&&T(t),m=v+b+y}}}if(0===b&&v>0&&m>=0){var P=m;0===P&&(P+=1),y=v-P,v=P-1,b=1}if((m<0&&y>0||m>=0&&(m<v||m>v+b)||0===E||h)&&T(t),1===c){I=A=p,w=j=_;var N=v+b+y,x=m>=0?m:N;s.minimumIntegerDigits=x-v,s.maximumIntegerDigits=o?v+s.minimumIntegerDigits:2147483647,s.maximumFractionDigits=m>=0?N-m:0,s.minimumFractionDigits=m>=0?v+b-m:0,s.groupingSize=E>0?E:0,s.groupingSize0=C}else I=p,w=_,a=!0}var V,F,M;0===t.length&&(A="",j="",s.minimumIntegerDigits=0,s.maximumIntegerDigits=2147483647,s.minimumFractionDigits=0,s.maximumFractionDigits=2147483647);s.useExponentialNotation=o,s.minExponentDigits=r,(!a||0===I.localeCompare(A)&&0===w.localeCompare(j))&&("currency"===s.style&&"ar"===s.lang?(w=j+"'-",I=A):(w=j,I="'-"+A));!function(e,t){var i=t,n={};null!==A&&(i.positivePrefix=R(A,e,i,n));null!==j&&(i.positiveSuffix=R(j,e,i,n));null!==I&&(i.negativePrefix=R(I,e,i,n));null!==w&&(i.negativeSuffix=R(w,e,i,n));void 0!==n.name&&(i.positiveSuffix=""+n.name,i.positivePrefix="","ar"===i.lang?(i.negativeSuffix=e.numbers[i.numberingSystem].minusSign+""+n.name,i.negativePrefix=""):(i.negativeSuffix=""+n.name,i.negativePrefix=e.numbers[i.numberingSystem].minusSign))}(i,s)}(r,a,l,o),void 0===r.pattern&&(o.minimumIntegerDigits=p(r,"minimumIntegerDigits",1,21,o.minimumIntegerDigits),void 0!==r.maximumFractionDigits&&(o.maximumFractionDigits=p(r,"maximumFractionDigits",0,20,o.maximumFractionDigits),o.maximumFractionDigits<o.minimumFractionDigits&&(o.minimumFractionDigits=o.maximumFractionDigits)),void 0!==r.minimumFractionDigits&&(o.minimumFractionDigits=p(r,"minimumFractionDigits",0,20,o.minimumFractionDigits)),o.maximumFractionDigits<o.minimumFractionDigits&&(o.maximumFractionDigits=o.minimumFractionDigits,t.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===o.style&&void 0===r.minimumFractionDigits&&(void 0===h||"standard"===h))){var S=e.supplemental.currencyData.fractions[r.currency];if(void 0!==S){var O=parseInt(S._digits,10);o.minimumFractionDigits=O,o.maximumFractionDigits=O}}}function f(e){var t=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw t.errorInfo=i,t}function g(e,t){var n=i.OraI18nUtils.getGetOption(e,t),r=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===r||"currency"===r){var s="decimal"===r?"decimalFormat":"currencyFormat";r=n(s,"string",["standard","short","long"]),"OraNumberConverter.parse"===t&&void 0!==r&&"standard"!==r&&function(e){var t=new Error("long and short "+e+" are not supported for parsing"),i={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}};throw t.errorInfo=i,t}(s)}var a=n("currency","string");"currency"===r&&void 0===a&&f("style"),a=n("unit","string"),"unit"===r&&void 0===a&&function(e){var t=new TypeError('The property "unit" is required when the property "'+e+'" is "unit". An accepted value is "byte" or "bit".'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw t.errorInfo=i,t}("style"),r=n("roundingMode","string",["UP","DOWN","FLOOR","CEILING","HALF_UP","HALF_DOWN","HALF_EVEN"])}function v(e,t,n){var r=n.groupingSize,s=n.groupingSize0,a=n.decimalSeparator,o=e+"",u=o.split(/e/i),d=u.length>1?parseInt(u[1],10):0,c=(u=(o=u[0]).split(".")).length>1?u[1]:"",p=Math.min(n.maximumFractionDigits,c.length-d);u.length>1&&c.length>d&&(e=b(e,p,t.roundingMode||"DEFAULT"));d=(u=(o=Math.abs(e)+"").split(/e/i)).length>1?parseInt(u[1],10):0,u=(o=u[0]).split("."),o=u[0],c=u.length>1?u[1]:"",d>0?(o+=(c=h(c,d,!1)).slice(0,d),c=c.substr(d)):d<0&&(c=(o=h(o,(d=-d)+1,!0)).slice(-d,o.length)+c,o=o.slice(0,-d)),p>0&&c.length>0?(c=c.length>p?c.slice(0,p):h(c,p,!1),!0===l.test(c)&&(c=c.slice(0,n.minimumFractionDigits)),c=a+c):c=n.minimumFractionDigits>0?a:"",c=h(c=i.OraI18nUtils.trimRightZeros(c),a.length+n.minimumFractionDigits,!1);var _=n.groupingSeparator,m="";!1===t.useGrouping&&void 0===t.pattern&&(_="");var f=(o=h(o,n.minimumIntegerDigits,!0)).length-1;for(c=c.length>1?c:"";f>=0;){if(0===r||r>f)return o.slice(0,f+1)+(m.length?_+m+c:c);m=o.slice(f-r+1,f+1)+(m.length?_+m:""),f-=r,s>0&&(r=s)}return o.slice(0,f+1)+_+m+c}function b(e,t,i){var n,r=i,s=function(e){var t=e.toString(),i=!1;"-"===(t=t.replace("E","e")).charAt(0)&&(i=!0,t=t.substring(1));var n=t.split("e"),r=n[0],s=Number(n[1]);if(s>0)if((t=r.substr(0,1)+r.substr(2)).length-1<s)for(var a=s+1-t.length;a>0;)t+="0",a-=1;else t.length-1>s&&(t=t.substr(0,s+1)+"."+t.substr(s+1));else if(s<0){var o=r.substr(0,1)+r.substr(2);t="0.";for(var l=s;l<-1;l++)t+="0";t+=o}return i&&(t="-"+t),t}(e);if(void 0===(s=s.split("."))[1])return Math.abs(e);if("DEFAULT"!==i){if("HALF_UP"===i||"HALF_EVEN"===i||"HALF_DOWN"===i){if("5"===s[1][t]){var a=s[1].substr(t);(a=parseInt(a,10))>5&&(r="HALF_UP")}else r="DEFAULT";e=Math.abs(e)}n=function(e,t,i){if(0===t)return Math[i](e);var n=e.toString().split("e"),r=n[0],s=n[1],a=r+"e"+(s?parseInt(s,10)-t:-t),o=parseFloat(a),l=Math[i](o);return n=l.toString().split("e"),r=n[0],s=n[1],a=r+"e"+(s?parseInt(s,10)+t:t),o=parseFloat(a)}(e,-t,r=function(e,t,i,n){var r=c[t];if("HALF_EVEN"===t){var s;if(0===i){var a=e[0].length;s=parseInt(e[0][a-1],10)}else s=parseInt(e[1][i-1],10);r=s%2==0?c.HALF_DOWN:c.HALF_UP}else"UP"===t&&n<0?r=c.DOWN:"DOWN"===t&&n<0&&(r=c.UP);return r}(s,r,t,e))}else{var o=Math.pow(10,t);if(n=Math.round(e*o)/o,!isFinite(n))return e}return Math.abs(n)}function y(e,t,n,r,s){var a=i.OraI18nUtils.getLocaleElementsMainNode(n);if(!isFinite(e))return e===1/0||e===-1/0?a.numbers[r.numberingSystem].infinity:"NaN";var l=e;!0===r.isPercent||"percent"===r.style?l*=100:!0===r.isPerMill&&(l*=1e3);var c=t.decimalFormat;void 0===c&&(c=t.currencyFormat);var p=r.style;l="decimal"!==p&&"currency"!==p||void 0===c||"standard"===c?!0===r.useExponentialNotation?function(e,t){var i=e+"",n=0,r=i.split(/e/i),s=r[0];o.lastIndex=0;var a=o.exec(s);null!==a?(n=a[1].length-1,s=a[2]):s=s.replace(".","");var l=r.length>1?parseInt(r[1],10):0,u=parseInt(s,10),d=t.minimumIntegerDigits+t.maximumFractionDigits;if(s.length>d){d-=s.length;var c=Math.pow(10,d);u=Math.round(u*c)}var p=t.minimumIntegerDigits+t.minimumFractionDigits;u=h(u+="",p,!1),-1!==i.indexOf(".")?l-=t.minimumIntegerDigits-i.indexOf(".")+n:l-=p-s.length-t.minimumFractionDigits;var _=Math.abs(l);_=h(_+"",t.minExponentDigits,!0),l<0&&(_=t.minusSign+_);var m=u.slice(0,t.minimumIntegerDigits);return u.slice(t.minimumIntegerDigits).length>0?m+=t.decimalSeparator+u.slice(t.minimumIntegerDigits)+t.exponential+_:m+=t.exponential+_,m}(l,r):"unit"===p?function(e,t,n,r){var s,a,o=Math.abs(e);o>=1099511627776?(s="digital-tera",a=o/1099511627776):o>=1073741824?(s="digital-giga",a=o/1073741824):o>=1048576?(s="digital-mega",a=o/1048576):o>=1024?(s="digital-kilo",a=o/1024):(s="digital-",a=o),s+=n.unit;var l=n.lang,u=new Intl.PluralRules(l).select(a);u="unitPattern-count-"+u,e<0&&(a=-a);var d=v(a,t,n),c=r.units.narrow[s][u];return d=i.OraI18nUtils.formatString(c,[d])}(l,t,r,a):v(l,t,r):function(e,t,i){var n,r,s,a=Math.abs(e),o=function(e){for(var t=Object.keys(u),i=0;i<t.length;i++)for(var n=t[i],r=u[n].length,s=0;s<r;s++)if(u[n][s]<=e)return[n,u[n][s]];return[e,null]}(a),l="";if(null!==o[1]){var c=i.lang,h=new Intl.PluralRules(c).select(Math.floor(a/d[o[0]]));if(n=o[1]+"-count-"+h,void 0===(n=i.shortDecimalFormat[n])&&(h="other",n=o[1]+"-count-"+h,n=i.shortDecimalFormat[n]),s=(r=function(e){var t=0,i=0,n=0,r="";if("0"!==e[0]){for(;"0"!==e[t]&&t<e.length;)t+=1;r=e.substr(0,t),n=t}for(t=n;t<e.length&&"0"===e[t];t++)i+=1;return[r,i]}(n))[1],l=r[0],s<n.length){var p=1*Math.pow(10,s);a/=p=o[1]/p*10}}var _="";return void 0!==n&&(_=n.substr(s+r[0].length)),e<0&&(a=-a),_=l+v(a,t,i)+(_=_.replace(/'\.'/g,"."))}(l,t,r);var m="";m+=e<0&&l-0!=0?r.negativePrefix+l+r.negativeSuffix:r.positivePrefix+l+r.positiveSuffix;var f=_(s);if(void 0===i.OraI18nUtils.numeringSystems[f]&&(f="latn"),"latn"!==f){var g,b=[];for(g=0;g<m.length;g++)m[g]>="0"&&m[g]<="9"?b.push(i.OraI18nUtils.numeringSystems[f][m[g]]):b.push(m[g]);return b.join("")}return m}function E(e,t){var n=t.groupingSeparator,r=t.decimalSeparator,a=t.minusSign,o="",l="",u=i.OraI18nUtils.toUpper(t.exponential),d=i.OraI18nUtils.toUpper(e),c=n;d=(d=d.split(u).join("E")).split(c).join("");var h=c.replace(/\u00A0/g," ");c!==h&&(d=d.split(h).join("")),"."===(d=d.split(r).join(".")).charAt(0)&&(d=d.substr(1),l="."),d=d.replace(a,"-");var p=l+s.exec(d)[2];return i.OraI18nUtils.startsWith(p,"-")?(p=p.substr("-".length),o="-"):i.OraI18nUtils.startsWith(d,"+")&&(p=p.substr("+".length),o="+"),[o,p]}function C(e,t,n,r){return isNaN(e)&&S(n.style,n,r),!0===n.isPercent||"percent"===n.style?e/=100:!0===n.isPerMill&&(e/=1e3),i.OraI18nUtils.getGetOption(t,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(e=function(e,t,i){var n=t.maximumFractionDigits,r=e<0,s=i.roundingMode||"DEFAULT",a=b(e,n,s);return r?-a:a}(e,n,t)),e}function S(e,t,i){var n,r="Enter a number in this format:"+t.pat;switch(e){case"decimal":n="decimalFormatMismatch";break;case"currency":n="currencyFormatMismatch";break;case"percent":n="percentFormatMismatch"}var s=new Error(r),a={errorCode:n,parameterMap:{value:i,format:t.pat}};throw s.errorInfo=a,s}function O(e,t,s,o){var l=i.OraI18nUtils.getLocaleElementsMainNode(t),u={},d=function(e,t){var n,r=_(t);if(void 0===i.OraI18nUtils.numeringSystems[r])return e;var s=[];for(n=0;n<e.length;n++){var a=i.OraI18nUtils.numeringSystems[r].indexOf(e[n]);-1!==a?s.push(a):s.push(e[n])}return s.join("")}(e,o);m(t,u,s,o);var c=NaN,h=d.replace(/ /g,"");if(n.test(h))return c=parseFloat(d);var p=function(e,t,n,r){var s,o=i.OraI18nUtils.trimNumber(e),l="",u=!1,d=r.numbers[n.numberingSystem].plusSign,c=new RegExp("^"+d.replace(a,"\\$1"));o=o.replace(c,"");var h=i.OraI18nUtils.trimNumber(n.positivePrefix),p=i.OraI18nUtils.trimNumber(n.positiveSuffix),_=i.OraI18nUtils.trimNumber(n.negativePrefix),m=i.OraI18nUtils.trimNumber(n.negativeSuffix),f=new RegExp("^"+(h||"").replace(a,"\\$1")),g=new RegExp((p||"").replace(a,"\\$1")+"$"),v=new RegExp("^"+(_||"").replace(a,"\\$1")),b=new RegExp((m||"").replace(a,"\\$1")+"$");if(!0===v.test(o)&&!0===b.test(o))o=(o=o.replace(v,"")).replace(b,""),l="-",u=!0;else if(!0===f.test(o)&&!0===g.test(o))o=(o=o.replace(f,"")).replace(g,""),l="+",u=!0;else if("currency"===n.style){var y,C=n.currencyCode,O=C;if(void 0!==r.numbers.currencies[C]&&(O=r.numbers.currencies[C].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?y=O:"code"===n.currencyDisplay&&(y=C),void 0!==y){var A=(h||"").replace(y,""),j=(p||"").replace(y,""),I=(_||"").replace(y,""),w=(m||"").replace(y,"");f=new RegExp(("^"+A).replace(a,"\\$1")),g=new RegExp(j.replace(a,"\\$1")+"$"),v=new RegExp(("^"+I).replace(a,"\\$1")),b=new RegExp(w.replace(a,"\\$1")+"$"),!0===v.test(o)&&!0===b.test(o)?(o=(o=o.replace(v,"")).replace(b,""),l="-",u=!0):!0===f.test(o)&&!0===g.test(o)&&(o=(o=o.replace(f,"")).replace(g,""),l="+",u=!0)}}return u?s=[l,o]:"full"===n.lenientParse?(s=E(o,n))[2]=!0:S(n.style,n,e),s}(d,0,u,l),f=p[0],g=p[1];if(f=f||"+",p[2])return C(c=parseFloat(f+g),s,u,e);var v=function(e,t){var n,r,s={},a=t.decimalSeparator,o=t.groupingSeparator,l=e.replace(/ /g,""),u=t.exponential,d=l.indexOf(u.toLowerCase());d<0&&(d=l.indexOf(i.OraI18nUtils.toUpper(u))),d<0?(r=l,s.exponent=null):(r=l.substr(0,d),s.exponent=l.substr(d+u.length));var c=a,h=r.indexOf(c);h<0?(n=r,s.fraction=null):(n=r.substr(0,h),s.fraction=r.substr(h+c.length)),n=n.split(o).join("");var p=o.replace(/\u00A0/g," ");return o!==p&&(n=n.split(p).join("")),s.integer=n,s}(g,u),b=v.integer,y=v.fraction,O=v.exponent,A=f+b;if(null!==y&&(A+="."+y),null!==O){var j=function(e,t){var n,r=t.minusSign,s=t.plusSign,a=i.OraI18nUtils.trimNumber(e);return r=i.OraI18nUtils.trimNumber(r),s=i.OraI18nUtils.trimNumber(s),i.OraI18nUtils.startsWith(a,r)?n=["-",a.substr(r.length)]:i.OraI18nUtils.startsWith(a,i.OraI18nUtils.trimNumber(s))&&(n=["+",a.substr(s.length)]),n||["",a]}(O,u);A+="e"+(j[0]||"+")+j[1]}return r.test(A)?c=parseFloat(A):"full"===u.lenientParse?(A=E(d,u),c=parseFloat(A[0]+A[1])):S(u.style,u,e),C(c,s,u,e)}var A,j,I,w;function T(e){var t=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "#,##0.###".'),i={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:"#,##0.###"}};throw t.errorInfo=i,t}function R(e,t,i,n){for(var r="",s=0;s<e.length;){var a=e.charAt(s);if(s+=1,"'"!==a){switch(a){case"":var o=i.currencyCode,l=o,u=o;void 0!==t.numbers.currencies[o]&&(l=t.numbers.currencies[o].displayName,u=t.numbers.currencies[o].symbol),void 0===i.currencyDisplay||"symbol"===i.currencyDisplay?a=u:"code"===i.currencyDisplay?a=o+" ":(a=l,n.name=a);break;case"%":a=t.numbers[i.numberingSystem].percentSign;break;case"":a=t.numbers[i.numberingSystem].perMille;break;case"-":a=t.numbers[i.numberingSystem].minusSign}r=r.concat(a)}}return r}function L(e,t,n){var r={};return g(t,"OraNumberConverter.resolvedOptions"),m(e,r,t,n),r.numberingSystemKey=_(n),void 0===i.OraI18nUtils.numeringSystems[r.numberingSystemKey]&&(r.numberingSystemKey="latn"),r}function D(e,t,i){var n={locale:i,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===t.useGrouping||t.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==t.decimalFormat&&(n.decimalFormat=t.decimalFormat),"currency"===e.style&&void 0!==t.currencyFormat&&(n.currencyFormat=t.currencyFormat),"currency"===e.style&&(n.currency=t.currency,n.currencyDisplay=void 0===t.currencyDisplay?"symbol":t.currencyDisplay),void 0!==t.unit&&(n.unit=t.unit),void 0!==t.pattern&&(n.pattern=t.pattern);var r=t.roundingMode,s=t.roundDuringParse;void 0!==r&&(n.roundingMode=r),void 0!==s&&(n.roundDuringParse=s);var a=e.lenientParse;void 0!==a&&(n.lenientParse=a);var o=e.separators;return void 0!==o&&(n.separators=o),n.virtualKeyboardHint=function(e,t){var i="text";switch(t.style){case"unit":i="text";break;case"currency":case"percent":i=void 0===t.pattern?"text":P(e,t);break;default:i=void 0===t.pattern?"short"===t.decimalFormat||"long"===t.decimalFormat?"text":function(e,t){if(void 0===t.useGrouping||t.useGrouping){if("."===e.decimalSeparator&&""===e.groupingSeparator)return"number"}else if("."===e.decimalSeparator)return"number";return"text"}(e,t):P(e,t)}return i}(e,t),n}function P(e,t){var i;if(i=t.pattern,/[^0-9.#]/i.test(i))return"text";var n=function(e){if(-1!==e.indexOf(","))return!0;return!1}(t.pattern),r=function(e){if(-1!==e.indexOf("."))return!0;return!1}(t.pattern);if(n&&r){if(""!==e.groupingSeparator||"."!==e.decimalSeparator)return"text";if(e.groupingSeparator===e.decimalSeparator)return"text"}return r&&!n&&"."!==e.decimalSeparator||!r&&n&&""!==e.groupingSeparator?"text":"number"}return{getInstance:function(){return e||(e={format:function(e,t,i,n){(arguments.length<=2||void 0===i)&&(i={useGrouping:!0,style:"decimal"}),g(i,"OraNumberConverter.format");var r={};return m(t,r,i,n),y(e,i,t,r,n)},parse:function(e,t,i,n){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===i)&&(i={useGrouping:!0,style:"decimal"}),g(i,"OraNumberConverter.parse"),O(e,t,i,n))},resolvedOptions:function(e,t,n){(arguments.length<3||void 0===n)&&(n=i.OraI18nUtils.getLocaleElementsMainNodeKey(e)),(arguments.length<2||void 0===t)&&(t={useGrouping:!0,style:"decimal"});var r=L(e,t,n);return D(r,t,n)}}),e}}}(),d=function(){this.Init()};oj.Object.createSubclass(d,r,"oj.NumberConverter"),d.prototype.Init=function(e){d.superclass.Init.call(this,e)},d.prototype.format=function(e){return=function(e){return d.superclass.parse.call(this,e)};const c=function(e){this.Init(e)};o.Object.createSubclass(c,d,"oj.IntlNumberConverter"),c.prototype.Init=function(e){c.spped||(this._wrapped=u.getInstance()),this._wrapped},c.prototype.format=function(e){if(null==e||"string"==typeof e&&0===o.StringUtils.trim(""+e).length||"number"==typeof e&&isNaN(e))return"";var i,r=a.getLocale(),l=n.__getBundle(),u=this.resolvedOptions();try{i=this._getWrapped().format(e,l,u,r)}catch(t){throw this._processConverterError(t,e)}if("NaN"===i){var d=s.getTranslatedString("oj-converter.number.invalidNumberFormat.summary",{value:e}),c=s.getTranslatedString("oj-converter.number.invalidNumberFormat.detail");t.error(d+" "+c)}return i},c.prototype.getHint=function(){return null},c.prototype.getOptions=function(){return c.superclass.getOptions.call(this)},c.prototype.parse=function(e){var t,i,r;if(null==e||""===e)return null;t=a.getLocale(),i=n.__getBundle(),r=this.resolvedOptions();try{return this._getWrapped().parse(o.StringUtils.trim(e),i,r,t)}catch(t){throw this._processConverterError(t,e)}},c.prototype.resolvedOptions=function(){var e,i=a.getLocale();if(i!==this._locale||!this._resolvedOptions){e=n.__getBundle();try{if(!e)return t.error("locale bundle for the current locale %s is unavailable",i),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,this.getOptions(),i),this._locale=i}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},c.prototype._processConverterError=function(e,t){var n,r,a,u,d=e.errorInfo;if(d){var c=d.errorCode,h=d.parameterMap;switch(o.Assert.assertObject(h),c){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":n=i.IntlConverterUtils.__getConverterOptionError(c,h);break;case"decimalFormatMismatch":a="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":a="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":a="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":u=s.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),r=s.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),n=new l.ConverterError(u,r)}a&&(u=s.getTranslatedString(a,{value:t||h.value,format:h.format}),r=s.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),n=new l.ConverterError(u,r))}return n||(u=e.message,r=e.message,n=new l.ConverterError(u,r)),n},c.prototype._getHintValue=function(){var e="";try{e=this.format(12345.98765)}catch(i){i instanceof l.ConverterError&&(e="",t.error("error retrieving hint value in format"))}return e},e.IntlNumberConverter=c,e.NumberConverter=d,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvalidator-numberrange",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error","ojs/ojconverterutils"],function(e,t,i,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const s=function(e){this.Init(e)};return e.Object.createSubclass(s,i,"oj.NumberRangeValidator"),s.prototype.Init=function(e){s.superclass.Init.call(this),e&&(this._min=e.min,this._max=e.max,this._converter=r.getConverterInstance(e.converter),this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},s.prototype.validate=function(e){var i=e?e.toString():e,r=parseFloat(i),s=this._customMessageSummary,a=this._customMessageDetail,o=a.rangeOverflow,l=a.rangeUnderflow,u=a.exact,d=s.rangeOverflow,c=s.rangeUnderflow,h=void 0!==this._min?parseFloat(this._min):null,p=void 0!==this._max?parseFloat(this._max):null,_="",m="",f=null,g=t;if(null!==e){if(null!==h&&null!==p){if(r>=h&&r<=p||h>p)return}else if(null!==h){if(r>=h)return}else if(null===p||r<=p)return;var v=function(t,i){return null!==p&&null!==h&&h===p?(f={value:e,num:i},m=u?g.applyParameters(u,f):g.getTranslatedString("oj-validator.range.number.messageDetail.exact",f),r>p?_=d||g.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"):r<h&&(_=d?c:g.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==p&&r>p?(f={value:e,max:i},_=d||g.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),m=o?g.applyParameters(o,f):g.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",f)):(f={value:e,min:t},_=c||g.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),m=l?g.applyParameters(l,f):g.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",f)),[_,m]}(h&&this._converter?this._converter.format(h):h,p&&this._converter?this._converter.format(p):p);throw new n.ValidatorError(v[0],v[1])}},s.prototype.getHint=function(){var e=this._hint,i=e.inRange,n=e.exact,r=e.min,s=e.max,a=t,o=void 0!==this._min?parseFloat(this._min):null,l=void 0!==this._max?parseFloat(this._max):null;return function(e,t){var u=null;return null!==o&&null!==l?u=o!==l?i?a.applyParameters(i,{min:e,max:t}):a.getTranslatedString("oj-validator.range.number.hint.inRange",{min:e,max:t}):n?a.applyParameters(n,{num:e}):a.getTranslatedString("oj-validator.range.number.hint.exact",{num:e}):null!==o?u=r?a.applyParameters(r,{min:e}):a.getTranslatedString("oj-validator.range.number.hint.min",{min:e}):null!==l&&(u=s?a.applyParameters(s,{max:t}):a.getTranslatedString("oj-validator.range.number.hint.max",{max:t})),u}(o&&this._converter?this._converter.format(o):o,l&&this._converter?this._converter.format(l):l)},s}),define("ojs/ojinputnumber",["ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojbutton","ojs/ojeditablevalue","ojs/ojcomponentcore","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojlogger","ojs/ojvalidator-numberrange","ojs/ojconverter-number"],function(e,t,i,n,r,s,a,o,l,u,d){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var c,h={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string",value:""},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},step:{type:"number"},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{numberRange:{type:"object",properties:{hint:{type:"object",properties:{exact:{type:"string"},inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{exact:{type:"string"},rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipDecrement:{type:"string"},tooltipIncrement:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"number",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","number","text"],value:"auto"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},stepDown:{},stepUp:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},evenfunction p(){return new d.IntlNumberConverter(null)}h.extension._WIDGET_NAME="ojInputNumber",h.extension._ALIASED_PROPS={readonly:"readOnly"},h.extension._INNER_ELEM="input",h.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],oj.CustomElementBridge.register("oj-input-number",{metadata:oj.CollectionUtils.mergeDeep(h,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),e.__registerWidget("oj.ojInputNumber",t.oj.editableValue,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ALLOWED_TYPES:["number","text"],options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,converter:null,labelledBy:null,max:null,min:null,name:"",placeholder:"",rawValue:void 0,readOnly:!1,required:!1,step:1,transientValue:null,validators:[],value:null,virtualKeyboard:"auto"},getNodeBySubId:function(e){var t,i=this._superApply(arguments);return i||("oj-inputnumber-up"===(t=e.subId)&&(i=this.widget()[0].querySelector(".oj-inputnumber-up")),"oj-inputnumber-down"===t&&(i=this.widget()[0].querySelector(".oj-inputnumber-down")),"oj-inputnumber-input"===t&&(i=this.widget()[0].querySelector(".oj-inputnumber-input"))),i||null},getSubIdByNode:function(e){var t=null;return null!=e&&(e===this.widget()[0].querySelector(".oj-inputnumber-up")?t={subId:"oj-inputnumber-up"}:e===this.widget()[0].querySelector(".oj-inputnumber-down")?t={subId:"oj-inputnumber-down"}:e===this.widget()[0].querySelector(".oj-inputnumber-input")&&(t={subId:"oj-inputnumber-input"})),t||this._superApply(arguments)},refresh:function(){this._super(),this._setup()},stepDown:function(e){var t=this.options.step;if(0!==t){var i=(null!=e?e:1)*t*-1;this._step(i)}},stepUp:function(e){var t=this.options.step;ifi)}},widget:function(){return t(this.uiInputNumber)},_InitOptions:function(e,t){var i=this.options,n=this;if(this._superApply(arguments),!this._IsCustomElement()){var s=[{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}];r.EditableValueUtils.initializeOptionsFromDom(s,t,this,function(e){for(var t=["value","step","min","max"],r=0;r<t.length;r++){var s=t[r],a=s in e?e[s]:i[s];null!=a&&(e[s]="step"===s?n._parseStep(a):n._parse(s,a))}})}if(this._IsCustomElement()&&n._parseStep(i.step),this.initialValue=i.value,null!=i.min&&null!=i.max&&i.max<i.min)throw new Error("ojInputNumber's max must not be less than min")},_ComponentCreate:function(){this._super(),this._draw(),this._inputNumberDefaultValidators={},this._setup(),this._registerEvents(),this._focusable({element:t(this.uiInputNumber),applyHighlight:!0})},_AfterCreate:function(){if(this._super(),this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),this._refreshAriaMinMax(),this.stepQueue=[],this._blurEnterSetValueCounter=0,this._IsCustomElement()){let e=this.options.labelledBy;this._initInputIdLabelForConnection(this._GetContentElement()[0],this.widget()[0].id,e)}this.options.readOnly&&this._createOrUpdateReadonlyDiv(this.element[0])},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"min":case"max":this._Refresh(e,this.options[e]);break;case"readOnly":this._AfterSetOptionDisabledReadOnly(e,r.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"converter":this._AfterSetOptionConverter(e);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES)}},_CanSetValue:function(){return!!this._super()&&!this.options.readOnly},_AfterSetOptionValue:function(e,t){this._superApply(arguments);var i,n,r=t?t._context:null;r&&(i=!!r.originalEvent,n=r.doNotClearMessages||!1),i||n||(this.initialValue=this.options.value)},_SetDisplayValue:function(e){if(this._superApply(arguments),this.options.readOnly){let t=this._getReadonlyDiv();t&&(t.textContent=e)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:r.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:r.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:r.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:r.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:r.EditableValueUtils._ResetConverter,_ResetAllValidators:function(){this._inputNumberDefaultValidators={},this._superApply(arguments)},_GetConverter:function(){return this.options.converter?this._getConverter():p()},_GetNormalizedValidatorsFromOption:r.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:r.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setOption:function(e,t,i){var n;if(this._IsCustomElement()||"value"!==e&&"max"!==e&&"min"!==e)if("step"===e)n=this._parseStep(t);else{if("transientValue"===e)return void l.error(e+" option cannot be set");n=t}else n=this._parse(e,t);if(this._super(e,n,i),"value"===e&&this.option({transientValue:this.options.value},{_context:{writeback:!0,internalSet:!0,readOnly:!0}}),"max"!==e&&"min"!==e||this._AfterSetOptionValidators(),"disabled"===e&&(this.element[0].disabled=!!t),"readOnly"===e&&(this._createOrDestroyOjButtonset(),this.element[0].readOnly=!!t,t&&this._createOrUpdateReadonlyDiv(this.element[0]),this._refreshStateTheming("readOnly",this.options.readOnly)),"step"===e&&this._createOrDestroyOjButtonset(),"labelledBy"===e){let e=this.options.labelledBy;if(e){var r=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(e,r)}}},_destroy:function(){var e=this._super();return this.buttonSet&&this._destroyOjButtonset(),this.initialValue=null,this.element.off("blur keydown keyup compositionstart compositionend input"),a.unwrap(this.element,t(this.uiInputNumber)),clearTimeout(this.timer),e},validate:r.EditableValueUtils.validate,_Refresh:function(e,t,i){var n;switch(this._superApply(arguments),e){case"value":n=this.options.value||0,this._updateButtonsAria(n);break;case"disabled":n=this.options.value||0,this._updateButtons(n);break;case"max":case"min":this._refreshAriaMinMax(),n=this._getDisplayValueParsed(),this._updateButtons(n);break;case"converter":n=this.options.value,this._refreshAriaText(n);break;case"required":this._refreshRequired(t)}},_labelledByUpdatedForInputComp:r.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:r.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:r.EditableValueUtils._linkLabelForInputComp,_refreshRequired:r.EditableValueUtils._refreshRequired,_GetImplicitValidators:function(){var e=this._superApply(arguments);return null==this.options.min&&null==this.options.max||(this._inputNumberDefaultValidators.numberrange=this._getImplicitNumberRangeValidator()),Object.assign(this._inputNumberDefaultValidators,e)},_GetDefaultStyleClass:function(){return"oj-inputnumber"},_SetLoading:function(){this._super(),this.element[0].readOnly=!0,this._refreshRoleSpinbutton(!1)},_ClearLoading:function(){this._super();var e=this.options.readOnly;this.element[0].readOnly=e},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement())return this._getRootElement().querySelector(".oj-text-field-middle")},_GetAriaLabelElement:function(){return this.element[0]},_BUNDLE_KEY:{_TOOLTIP_DECREMENT:"tooltipDecrement",_TOOLTIP_INCREMENT:"tooltipIncrement"},_OPTION_TO_CSS_MAPPING:{readOthis._createRangeValidatorOptions();return new u(e)},_setup:function(){var e=this._needsButtonset();if(e){var t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),i=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT);this.upButton.ojButton({label:t}),this.downButton.ojButton({label:i})}"boolean"==typeof this.options.readOnly&&(this.element[0].readOnly=this.options.readOnly),this._refreshStateTheming("readOnly",this.options.readOnly),this._refreshRoleSpinbutton(e),this._refreshRequired(this.options.required)},_markInternalComponents:function(){this.upButton[0].setAttribute("data-oj-internal",""),this.downButton[0].setAttribute("data-oj-internal",""),this.buttonSet[0].setAttribute("data-oj-internal","")},_createOjButtonset:function(){var e=this._createButtonset();this.inputNumberWrapper.appendChild(e.buttonSet);for(var i=this.uiInputNumber.querySelectorAll(".oj-inputnumber-button"),n=i.length,r=0;r<n;r++)i[r].setAttribute("tabIndex","-1");const s=o.getCachedCSSVarValues(["--oj-private-input-number-button-global-chroming-default"])[0]||"solid";var a=e.upButton.parentNode;this.upButton=t(e.upButton).ojButton({display:"icons",chroming:s,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_INCREMENT),icons:{start:"oj-component-icon oj-inputnumber-up-icon"}}),this.downButton=t(e.downButton).ojButton({display:"icons",chroming:s,label:this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_DECREMENT),icons:{start:"oj-component-icon oj-inputnumber-down-icon"}}),this.buttonSet=t(a).ojButtonset({focusManagement:"none",chroming:s}),this._markInternalComponents()},_destroyOjButtonset:function(){this.buttonSet.ojButtonset("destroy"),this.buttonSet.remove(),this.upButton=null,this.downButton=null,this.buttonSet=null},_createOrDestroyOjButtonset:function(){let e=this._needsButtonset();e&&null==this.buttonSet?(this._createOjButtonset(),this._updateButtons(this.options.value||0),this.uiInputNumber.classList.add("oj-has-buttons")):!e&&this.buttonSet&&(this._destroyOjButtonset(),this.uiInputNumber.classList.remove("oj-has-buttons")),this._refreshRoleSpinbutton(e)},_draw:function(){var e=this.element[0];e.classList.add("oj-inputnumber-input"),e.classList.add("oj-text-field-input");var t=document.createElement("span");t.className="oj-inputnumber-wrapper",this.inputNumberWrapper=t,this.uiInputNumber=t;var i=document.createElement("div");if(i.className="oj-text-field-container",i.setAttribute("role","presentation"),this.OuterWrapper){i.appendChild(t);var n=this._CreateMiddleWrapper();t.appendChild(n),n.appendChild(e),this.OuterWrapper.appendChild(i),this.uiInputNumber=this.OuterWrapper,this.uiInputNumber.classList.add("oj-inputnumber"),this.uiInputNumber.classList.add("oj-component")}else{var r=document.createElement("div");r.className="oj-inputnumber oj-component",e.parentNode.insertBefore(r,e),r.appendChild(i),i.appendChild(t),t.appendChild(e),this.uiInputNumber=r}this.saveType=e.type,this._SetInputType(this._ALLOWED_TYPES),this._needsButtonset()&&(this._createOjButtonset(),this.uiInputNumber.classList.add("oj-has-buttons"))},_needsButtonset:function(){return!0!==this.options.readOnly&&this.options.step>0},_createButtonset:function(){var e=document.createElement("div");e.className="oj-buttonset-width-auto";var t=document.createElement("button");t.setAttribute("type","button"),t.className="oj-inputnumber-button oj-inputnumber-down",e.appendChild(t);var i=document.createElement("button");return i.setAttribute("type","button"),i.className="oj-inputnumber-button oj-inputnumber-up",e.appendChon:i}},_start:function(){return this.spinning=!0,!0},_repeat:function(t,i,n,r){var s,a=!1,o=this,l=this.options.step;i>0?this.upButton[0].classList.contains("oj-disabled")&&(a=!0):this.downButton[0].classList.contains("oj-disabled")&&(a=!0),t=t||500,clearTimeout(this.timer),this.timer=setTimeout(function(){a||o._repeat(40,i,n,!0)},t),r?(s=this.element[0],e.Context.getContext(s).getBusyContext().isReady()&&(this.stepQueue=[],this._spin(i*l,n,!0))):this._stepNoStartStop(i*l,n)},_spin:function(e,t,i){var n,r=this._GetDisplayValue()||0,s=this._ParseValueShowErrors(r);return void 0!==s?(n=this._adjustParsedValueOnSpinAndUpdateDisplay(s,e),this._valuePending=i,this._SetValue(n,t,{validationMode:this._VALIDATION_MODE.VALIDATORS_ONLY,targetOptions:i?["transientValue"]:["transientValue","value"]})):(this._updateButtonsAria(s),!1)},_adjustParsedValueOnSpinAndUpdateDisplay:function(e,t){var i,n,r=this.options,s=r.min,a=r.max,o=r.step,l=this.initialValue;return i=this._precision(s,o,l),n=this._adjustValue(e,t,s,a,o,i,l),this._CanSetValue()&&void 0!==this._UpdateElementDisplayValue(n,!0)&&this._updateButtonsAria(n),n},_precision:function(e,t,i){var n=this._precisionOf(t);return null!=e&&(n=Math.max(n,this._precisionOf(e))),null!=i&&ring(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e,t,i,n,r,s,a){var o,u,d;if(s>0)return this._adjustValueForFractions(e,t,i,n,r,s,a);null==(u=null!=i?i:a)&&(u=0);try{e=parseFloat(e.toFixed(s))}catch(t){t instanceof TypeError&&(l.warn("inputNumber's value after conversion is not a number. \nThe converter must convert the value to a Number. coercing using +"),e=+e)}d=e-u;var c=Math.round(d/r)*r;if(o=(c=parseFloat(c.toFixed(s)))===d?e+t:u+(d=t<0?Math.ceil(d/r)*r:Math.floor(d/r)*r)+t,o=parseFloat(o.toFixed(s)),null!=i&&o<i)return i;if(null!=n&&o>n){var h=Math.floor((n-u)/r)*r+u;return h=parseFloat(h.toFixed(s))}return o},_adjustValueForFractions:function(t,i,n,r,s,a,o){e.Assert.assert(a>0);var l=Math.pow(10,a),u=null!=n?Math.round(n*l):n,d=null!=r?Math.round(r*l):r,c=Math.round(s*l);return this._adjustValue(Math.round(t*l),Math.round(i*l),u,d,c,0,Math.round(o*l))/l},_stop:function(e){if(this.spinning){if(this._valuePending){var t={originalEvent:e,internalSet:!0};this.option({value:this.options.transientValue},{_context:t}),this._valuePending=!1}clearTimeout(this.timer),this.spinning=!1}},_isRealMouseEvent:function(){return!a.recentTouchEnd()},_updateButtons:function(e){var t,i,n=this.options,r=n.max,s=n.min,a=this.downButton,o=this.upButton,l=null!=r,u=null!=s;(a||o)&&(t=a[0].classList.contains("oj-disabled"),i=o[0].classList.contains("oj-disabled"),n.disabled||void 0===e||l&&u&&r===s&&e===r?(t||a.ojButton("disable"),i||o.ojButton("disable")):l&&e>=r?(t&&a.ojButton("enable"),i||o.ojButton("disable")):u&&e<=s?(t||a.ojButton("disable"),i&&o.ojButton("enable")):(t&&a.ojButton("enable"),i&&o.ojButton("enable")))},_getConverter:r.EditableValueUtils._GetConverter,_createOrUpdateReadonlyDiv:r.EditableValueUtils._createOrUpdateReadonlyDiv,_getDisplayValueParsed:function(){var e,t;try{t=this._GetDisplayValue()||0,e=this._parseValue(t)}catch(t){e=void 0}return e},_blurEnterSetValue:function(e){var t,i,n,r=this.element.val(),s=this;this._stop(e),this.stepQueue=[],this._blurEnterSetValueCounter+=1,n=this._blurEnterSetValueCounter,this._valuePending=!1,(i=this._SetValue(r,e,{targetOptions:["transientValue","value"]}))instanceof Promise?i.then(function(e){n===s._blurEnterSetValueCounter&&(e||(t=s._getDisplayValueParsed(),s._updateButtonsAria(t)))}):(t=i?this.options.value:this._getDisplayValueParsed(),this._updateButtonsAria(t))},_updateButtonsAria:function(e){this._refreshAriaValueNowText(e),this._updateButtons(e)},_createRangeValidatorOptions:function(){var e,t,i,n,r,s,a,o,l,u=this.options,d=u.min,c=u.max,h=null!=d?d:void 0,p=null!=c?c:void 0,_=u.translations,m=_&&_.numberRange||{},f=m.hint||{},g=m.messageDetail||{},v=m.messageSummary||{};return null!==f&&(e=f.min||null,t=f.max||null,i=f.inRange||null,n=f.exact||null),null!==g&&(r=g.rangeOverflow||null,s=g.rangeUnderflow||null,a=g.exact||null),null!==v&&(o=v.rangeOverflow||null,l=v.rangeUnderflow||null),{min:h,max:p,hint:{min:e||null,max:t||null,inRange:i||null,exact:n||null},messageDetail:{rangeOverflow:r||null,rangeUnderflow:s||null,exact:a||null},messageSummary:{rangeOverflow:o||null,rangeUnderflow:l||null},converter:this._GetConverter()}},_parse:function(e,t){var i;if(i=null!==t?+t:t,isNaN(i))throw new Error("ojInputNumber's "+e+" option is not a number");return i},_parseStep:function(e){var t;if(null===e)return 1;if(""===e)throw new Error("Invalid step for ojInputNumber; step must be a number 0 or greater.");if((t=this._parse("step",e))<0)throw new Error("Invalid step for ojInputNumber; step must be 0 or greater.");return t},_refreshStateTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_refreshRoleSpinbutton:function(e){e?this.element[0].setAttribute("role","spinbutton"):this.elin),this._setAttr("aria-vsetAttr("aria-valuenow",e),this._refreshAriaText(e)},_refreshAriaText:function(e){var t=this.element.val();""===t||this._CompareOptionValues("value",""+e,t)?this._setAttr("aria-valuetext",null):this._setAttr("aria-valuetext",t)},_setAttr:function(e,t){void 0!==t&&(null===t?this.element[0].removeAttribute(e):this.element[0].setAttribute(e,t))},_stepNoStartStop:function(e,t){var i,n,r,s,a=this;if(void 0===e){if(0===this.stepQueue.length)return;n=(i=this.stepQueue.shift()).step,r=i.event}else{if(this.stepQueue.length>=1)return void this.stepQueue.push({step:e,event:t});n=e,r=t}(s=this._spin(n,r,!1))instanceof Promise&&(this.stepQueue.push({step:n,event:r}),s.then(function(){a.stepQueue.shift(),a._stepNoStartStop(void 0,r)}))},_step:function(e,t){this._start(),this._stepNoStartStop(e,t),this._stop(t)},_SetInputType:r.EditableValueUtils._SetInputType,_regularEventsAndListeners:{compositionstart:function(){this._isComposing=!0},compositionend:function(e){this._isComposing=!1,this._SetRawValue(this.element.val(),e)},input:function(e){this._isComposing||this._SetRawValue(this.element.val(),e)},keydown:function(e){var i=t.ui.keyCode;switch(e.keyCode){case i.ENTER:this._blurEnterSetValue(e),e.preventDefault();break;case i.UP:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,1,e))),e.preventDefault();break;case i.DOWN:this._needsButtonset()&&(this.spinning||(this._start(),this._repeat(null,-1,e))),e.preventDefault()}},keyup:function(e){var i=t.ui.keyCode;switch(e.keyCode){case i.UP:case i.DOWN:default:this._stop(e)}},blur:function(e){this._blurEnterSetValue(e)},"touchend .oj-inputnumber-button":function(e){this._stop(e)},"touchcancel .oj-inputnumber-button":function(e){this._stop(e)},"mousedown .oj-inputnumber-button.oj-enabled":function(e){this._isRealMouseEvent(e)&&(this._start(),this._repeat(null,e.currentTarget.classList.contains("oj-inputnumber-up")?1:-1,e))},"mouseup .oj-inputnumber-button":function(e){this._isRealMouseEvent(e)&&this._stop(e)},"mouseenter .oj-inputnumber-button.oj-enabled":function(e){e.currentTarget.classList.contains("oj-active")&&this._isRealMouseEvent(e)&&(this._start(),this._repeat(null,e.currentTarget.classList.contains("oj-inputnumbeunction(e){this._isRealMouseEvent(e)&&this._stop(e)}},_passiveEventsAndListeners:{"touchstart .oj-inputnumber-button.oj-enabled":function(e){this._start(),this._repeat(null,e.currentTarget.classList.conisteners),this._on(this._passiveEventsAndListeners)}}),s.setDefaultOptions({ojInputNumber:{step:s.createDynamicPropertyGetter(function(){return o.getCachedCSSVarValues(["--oj-private-input-number-global-step-defPropertyGetter(function(){return null==c&&(c=p()),c})}})}),define("ojs/ojvalidator-regexp",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const r=function(e){this.Init(e)};return e.Object.createSubclass(r,i,"oj.RegExpValidator"),r._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",r._BUNDLE_KEY_SUion(e){r.superclass.Init.call(this),this._options=e},r.prototype.validate=function(e){var i,r,s,a=this._options&&this._options.pattern||"";if(null!=e&&""!==e){var o=e.toString(),l="^("+a+")$",u=o.match(l);if(null===u||u[0]!==o){this._options&&(s=this._options.messageSummary||null,i=this._options.messageDetail||null,r=this._options&&this._options.label||"");var d={label:r,pattern:a,value:o},c=s?t.applyParameters(s,d):t.getTranslatedString(this._getSummaryKey(),d),h=i?t.applyParameters(i,d):t.getTranslatedString(this._getDetailKey(),d);throw new n.ValidatorError(c,h)}}},r.prototype.getHint=function(){var e=null,i={};return this._options&&this._options.hint&&(i={pattern:this._options.pattern},e=t.applyParameters(this._options.hint,i)),e},r.prototype._getSummaryKey=function(){return r._BUNDLE_KEY_SUMMARY},r.prototype._getDetailKey=function(){return r._BUNDLE_KEY_DETAIL},r}),define("ojs/ojfilter",[],function(){}),define("ojs/ojfilter-length",[],function(){"use strict";return class{constructor(e){if(this.options=e,!e.max)throw new Error("length filter's max option cannot be less than 1. max option is "+e.max);if(isNaN(e.max))throw new Error("length filter's max option is not a number. max option is "+e.max);if(null!==e.max&&e.max<1)throw new Error("length filter's max option cannot be less than 1. max option is "+e.max);e.countBy=void 0===e.countBy?"codePoint":e.countBy}filter(e,t){return this.calcLength(t)<=this.options.max?t:e.slice(0,this.options.max)}calcLength(e){const t=this.options.countBy;if(""==e||null==e||null==e)return 0;const i=e.length;let n,r=0;switch(t){case"codePoint":for(let t=0;t<i;t++)55296==(63488&e.charCodeAt(t))&&(r+=1);n=i-r/2;break;case"codeUnit":default:n=i}return n}}}),define("ojs/ojinputtext",["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojeditablevalue","ojs/ojcore-base","ojs/ojdomutils","ojs/ojfilter-length","ojs/ojvalidator-regexp","ojs/ojcustomelement-utils"],function(e,t,i,n,r,s,a,o,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},t={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maskIcon:{type:"string",enumValues:["hidden","visible"],value:"hidden"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleHidePassword:{type:"string"},accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},accessibleShowPassword:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};t.extension._WIDGET_NAME="ojInputPassword",t.extension._INNER_ELEM="input",t.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],t.extension._ALIASED_PROPS={readonly:"readOnly"},r.CustomElementBridge.register("oj-input-password",{metadata:r.CollectionUtils.mergeDeep(t,e)});var i={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},clearIcon:{type:"string",enumValues:["always","conditional","never"],value:"never"},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},length:{type:"object",properties:{countBy:{type:"string",enumValues:["codePoint","codeUnit"],value:"codePoint"},max:{type:"number"}}},list:{type:"string",extension:{_COPY_TO_INNER_ELEM:!0}},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0},virtualKeyboard:{type:"string",enumValues:["auto","email","number","search","tel","text","url"],value:"auto"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojInputText",i.extension._INNER_ELEM="input",i.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex","autocapitalize"],i.extension._ALIASED_PROPS={readonly:"readOnly"},r.CustomElementBridge.register("oj-input-text",{metadata:r.CollectionUtils.mergeDeep(i,e)});var n={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},length:{type:"object",properties:{countBy:{type:"string",enumValues:["codePoint","codeUnit"],value:"codePoint"},counter:{type:"string",enumValues:["none","remaining"],value:"none"},max:{type:"number"}}},maxRows:{type:"number",value:0},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},resizeBehavior:{type:"string",enumValues:["both","horizontal","none","vertical"],value:"none"},rows:{type:"number",extension:{_COPY_TO_INNER_ELEM:!0}},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};n.extension._WIDGET_NAME="ojTextArea",n.extension._INNER_ELEM="textarea",n.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex","autocapitalize"],n.extension._ALIASED_PROPS={readonly:"readOnly"},r.CustomElementBridge.register("oj-text-area",{metadata:r.CollectionUtils.mergeDeep(n,e)})}(),r.__registerWidget("oj.inputBase",t.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"placeholder"},{attribute:"value"},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"},{attribute:"spellcheck"}],_INPUT_HELPER_KEY:"",_BLUR_HANDLER_KEY:"blur",_KEYDOWN_HANDLER_KEY:"keydown",_KEYUP_HANDLER_KEY:"keyup",_COMPOSITIONSTART_HANDLER_KEY:"compositionstart",_COMPOSITIONEND_HANDLER_KEY:"compositionend",_INPUT_HANDLER_KEY:"input",_DROP_HANDLER_KEY:"drop",_CLICK_HANDLER_KEY:"click",_TEXT_FIELD_COUNTER_CLASS:"oj-text-field-counter",_TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS:"oj-text-field-hidden-aria-live",_TEXT_FIELD_MAX_LENGTH_REMAINING_KEY:"accessibleMaxLengthRemaining",_TEXT_FIELD_MAX_LENGTH_EXCEEDED_KEY:"accessibleMaxLengthExceeded",_counterSpanEl:null,_ariaLiveTimer:null,options:{asyncValidators:[],autocomplete:void 0,autofocus:!1,labelledBy:null,name:"",placeholder:"",rawValue:void 0,rerApply(arguments);return this._processAttrCheck(),t},_InitOptions:function(e,t){this._super(e,t),this._IsCustomElement()||n.EditableValueUtils.initializeOptionsFromDom(this._GET_INIT_OPTIONS_PROPS_FOR_WIDGET,t,this)},_ComponentCreate:function(){var e=this._superApply(arguments),i=this.options.readOnly;if(this._rtl="rtl"===this._GetReadingDirection(),this._isAndroidDevice=r.AgentUtils.getAgentInfo().os===r.AgentUtils.OS.ANDROID,"boolean"==typeof i&&this.element.prop("readonly",i),this._DoWrapElement()){var n,s;if(this.OuterWrapper?(n=this.OuterWrapper).className?n.className=n.className+" "+this._WIDGET_CLASS_NAMES:n.className=this._WIDGET_CLASS_NAMES:((n=document.createElement("div")).className=this._WIDGET_CLASS_NAMES,this.element[0].parentNode&&this.element[0].parentNode.insertBefore(n,this.element[0])),s=n,this._wrapper=t(n),this._DoWrapElementAndTriggers()){var o=this._CreateContainerWrapper();n.appendChild(o),s=o;var l=this._CreateMiddleWrapper();l&&(o.appendChild(l),s=l)}s.appendChild(this.element[0]),this._focusable({element:this._wrapper,applyHighlight:!0})}else this._focusable({element:this.element,applyHighlight:!0});return this._CLASS_NAMES&&(this.element.addClass(this._CLASS_NAMES),this.element.addClass("oj-text-field-input")),this._defaultRegExpValidator={},this._eventHandlers=null,this._hasMaxLength()&&(this.lengthFilter=new a(this.options.length)),e},_AfterCreate:function(){var e=this._superApply(arguments),i=["disabled","readOnly"],n=this;if(this._refreshRequired(this.options.required),this._attachDetachEventHandlers(),this._AppendInputHelper(),this._AppendAriaLiveHelper(),t.each(i,function(e,t){n.options[t]&&n._processOptions(t,n.options[t])}),this._IsCustomElement()){let e=this.options.labelledBy;this._initLabelledByForInputBase(e)}return this._hasMaxLength()&&this._processLengthCounterAttr(this.options.length.counter),e},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:n.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:n.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:n.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:n.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:n.EditableValueUtils._ResetConverter,_GetConverter:n.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:n.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:n.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_SetDisplayValue:function(e){if(this._superApply(arguments),this.options.readOnly){let t=this._getReadonlyDiv();t&&(t.textContent=e)}},_createOrUpdateReadonlyDiv:n.EditableValueUtils._createOrUpdateReadonlyDiv,_processOptions:function(e,t){"disabled"===e&&this.element.prop("disabled",t),"readOnly"===e&&(this.element.prop("readonly",t),t&&this._createOrUpdateReadonlyDiv(this.element[0],this._DoWrapElement()&&this.OuterWrapper),this._refreshStateTheming("readOnly",t)),"disabled"!==e&&"readOnly"!==e||this._attachDetachEventHandlers()},_setOption:function(e,t,i){const n=this.options[e];var r=this._superApply(arguments);switch(e){case"disabled":case"readOnly":this._processOptions(e,t);break;case"pattern":this._defaultRegExpValidator.regexp=this._getImplicitRegExpValidator(),this._AfterSetOptionValidators();break;case"labelledBy":this._setLabelledByForInputBase(n,t)}return r},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"readOnly":this._AfterSetOptionDisabledReadOnly(e,n.EditableValueUtils.readOnlyOptionOptions);break;case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"converter":this._AfterSetOptionConverter(e);break;case"length":this._AfterSetOptionLength(this.options.length)}},_hasMaxLength:function(){return this.options.length&&this.options.length.max&&!isNaN(this.options.length.max)},_setLabelledByForInputBase:function(e,t){if(t){const e=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(t,e)}},_initLabelledByForInputBase:function(e){this._initInputIdLabelForConnection(this._GetContentElement()[0],this.widget()[0].id,e)},_filterTextOnValueChange:function(){if(this.options.length.max){var e=this.options.rawValue,t=this.options.value;this._filterTextAndSetValues(e,t,!0,!1)}},_destroy:function(){var e=this._superApply(arguments);return this.element.off("blur drop keydown keyup compositionstart compositionend input"),this._inputHelper&&this._inputHelper.remove(),this._DoWrapElement()&&!this._IsCustomElement()&&(this._DoWrapElementAndTriggers()?s.unwrap(this.element,ton(){this._supthis.element.prop("readonly",this.options.readOnly)},_attachDetachEventHandlers:function(){if(this.options.readOnly||this.options.disabled){if(this._eventHandlers)for(var e=[this._BLUR_HANDLER_KEY,this._KEYDOWN_HANDLER_KEY,this._KEYUP_HANDLER_KEY,this._COMPOSITIONSTART_HANDLER_KEY,this._COMPOSITIONEND_HANDLER_KEY,this._INPUT_HANDLER_KEY,this._DROP_HANDLER_KEY],i=0,n=e.length;i<n;i++)this._eventHandlers[e[i]]&&(this.element.off(e[i],this._eventHandlers[e[i]]),delete this._eventHandlers[e[i]])}else{this._eventHandlers={};var r=t.proxy(this._onBlurHandler,this),s=t.proxy(this._onKeyDownHandler,this),a=t.proxy(this._onKeyUpHandler,this),o=t.proxy(this._onCompositionStartHandler,this),l=t.proxy(this._onCompositionEndHandler,this),u=t.proxy(this._onInputHandler,this),d=function(){this.focus()};this.element.on(this._BLUR_HANDLER_KEY,r),this.element.on(this._KEYDOWN_HANDLER_KEY,s),this.element.on(this._KEYUP_HANDLER_KEY,a),this.element.on(this._COMPOSITIONSTART_HANDLER_KEY,o),this.element.on(this._COMPOSITIONEND_HANDLER_KEY,l),this.element.on(this._INPUT_HANDLER_KEY,u),this.element.on(this._DROP_HANDLER_KEY,d),this._eventHandlers[this._BLUR_HANDLER_KEY]=r,this._eventHandlers[this._KEYDOWN_HANDLER_KEY]=s,this._eventHandlers[this._KEYUP_HANDLER_KEY]=a,this._eventHandlers[this._COMPOSITIONSTART_HANDLER_KEY]=o,this._eventHandlers[this._COMPOSITIONEND_HANDLER_KEY]=l,this._eventHandlers[this._INPUT_HANDLER_KEY]=u,this._eventHandlers[this._DROP_HANDLER_KEY]=d}},_OPTION_TO_CSS_MAPPING:{readOnly:"oj-read-only"},_processAttrCheck:function(){for(var e=this._ATTR_CHECK,t=0,i=e.length;t<i;t++){var n=e[t].attr;"setMandatory"in e[t]&&thinction(e){this._SetValue(this._GetDisplayValue(),e)},_onKeyDownHandler:function(e){},_onKeyUpHandler:function(e){e.keyCode===t.ui.keyCode.ENTER&&this._SetValue(thositionStartHandler:function(){this._isComposing=!0},_onCompositionEndHandler:function(e){this._isComposing=!1,this._SetRawValue(this._GetContentElement().val(),e),this._hasMaxLength()&&this._onInputHandler(e)},_onInputHandler:function(e){if(!this._isComposing||this._isAndroidDevice)if(this._hasMaxLength()){var t=this._GetContentElement().val();this._filterTextAndSetValues(t,t,!1,!0)}else this._SetRawValue(this._GetContentElement().val(),e)},_DoWrapElement:function(){return this._WIDGET_CLASS_NAMES},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES},_CreateContainerWrapper:function(){var e=document.createElement("div");return e.setAttribute("role","presentation"),e.className=this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES,e},_AppendInputHelper:function(){if(this._INPUT_HELPER_KEY&&this._DoWrapElement()){var e=this.element.attr("aria-describedby")||"",i=this._GetSubId(this._INPUT_HELPER_KEY);e+=" "+i,this.element.attr("aria-describedby",e),this._inputHelper=t("<div class='oj-helper-hidden-accessible' aria-hidden='true' id='"+i+"'>"+this._EscapeXSS(this.getTranslatedString(this._INPUT_HELPER_KEY))+"</div>"),this._AppendInputHelperParent().append(this._inputHelper)}},_AppendAriaLiveHelper:function(){var e=this._AppendInputHelperParent();if(this.options.length&&this.options.length.max){var t=document.createElement("div");t.classList.add("oj-helper-hidden-accessible"),t.classList.add(this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS);var i=document.createElement("div");i.setAttribute("aria-live","polite");var n=document.createElement("div");n.setAttribute("aria-live","assertive"),t.appendChild(S:function(e){return t("<span>"+e+"</span>").text()},_AppendInputHelperParent:function(){return this.widget()},_GetImplicitValidators:function(){var e=this._superApply(arguments);if(this.options.pattern){var t=this._getImplicitRegExpValidator();this._defaultRegExpValidator.regexp=t}return Object.assign(this._defaultRegExpValidator,e)},_CanSetValue:function(){return!!this._super()&&!(this.options.readOnly||!1)},_refreshStateTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&this.widget().toggleClass(this._OPTION_TO_CSS_MAPPING[e],!!t)},_getImplicitRegExpValidator:function(){if(!this.options.pattern)return null;var e={pattern:this.options.pattern,label:this._getLabelText()};return t.extend(e,this.options.tratAriaLabelnt[0]},_GetSubId:function(e){return this.uuid+"_"+e},_IsRTL:function(){return this._rtl},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){var e=this._GetContentElement()[0];if(!e.parentElement.classList.contains("oj-text-field-middle")){var t=document.createElement("DIV");t.classList.add("oj-text-field-middle"),e.parentElement.insertBefore(t,e),t.appenLengthFilter:function(e){this.lengthFilter=new a(e)},_AfterSetOptionLength:function(e){var t;e.max&&(this._resetLengthFilter(e),t=this._GetContentWrapper().parentElement.parentNode.classList.contains("oj-complete")?this.element[0].value:this.options.value,this._filterTextAndSetValues(t,t,!0,!1));this._processLengthCounterAttr(e.counter)},_setFoctFocusOnTextArea=function(){this.element[0].focus()}.bind(this)},_processLengthCounterAttr:function(e){var t=this._GetContentWrapper().parentElement,i=t.querySelector("."+this._TEXT_FIELD_COUNTER_CLASS),n=t.parentNode.querySelector("."+this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS),r=this.lengthFilter?this.lengthFilter.calcLength(this.options.rawValue):-1,s="",a="";if("none"===e||null==e||0===this.options.length.max||this.options.disabled||this.options.readOnly)i&&(i.removeEventListener(this._CLICK_HANDLER_KEY,this._setFocusOnTextArea),t.removeChild(i)),this._counterSpanEl=null,-1===r||0===this.options.length.max||this.options.disabled||this.options.readOnly?a="":(s=this.options.length.max-r,a=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_REMAINING_KEY,{chars:s}));else{if(null===i){var o=document.createElement("div");o.className=this._TEXT_FIELD_COUNTER_CLASS,this._TEXTAREA_COUNTER_CONTAINER&&(o.className+=" "+this._TEXTAREA_COUNTER_CONTAINER),i=document.createElement("span"),this._INPUTTEXT_COUNTER_EL&&(i.className+=" "+this._INPUTTEXT_COUNTER_EL),this._TEXTAREA_COUNTER_EL&&(i.className+=" "+this._TEXTAREA_COUNTER_EL,this._setFocusOnTextAreaBind(),o.addEventListener(this._CLICK_HANDLER_KEY,this._setFocusOnTextArea)),o.appendChild(i),t.appendChild(o),this._counterSpanEl=i,this._counterSpanEl.textContent=""}-1!==r&&(s=this.options.length.max-r,a=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_REMAINING_KEY,{chars:s}))}this._counterSpanEl&&(this._counterSpanEl.textContent=s),n&&(this._ariaLiveTimer&&clearTimeout(this._ariaLiveTimer),this._ariaLiveTimer=setTimeout(()=>{n.children[0].textContent=a,this._ariaLiveTimer=null},500))},_filterTextAndSetValues(e,t,i,n){var r=this.lengthFilter.filter(e,t);this._SetRawValue(r,null),this._SetDisplayValue(r,null);var s=this._GetContentWrapper().parentElement.parentNode.querySelector("."+this._TEXT_FIELD_HIDDEN_ARIA_LIVE_CLASS);if(s){var a=s.children[1];(r?r.length:0)<(t?t.length:0)?(a.textContent="",a.textContent=this.getTranslatedString(this._TEXT_FIELD_MAX_LENGTH_EXCEEDED_KEY,{len:this.options.length.max})):this.lastFilteredText!==t&&(a.textContent="")}this.lastFilteredText=r,i&&this._SetValue(this.lastFilteredText),n&&this._processLengthCounterAttr(this.options.length.counter)},refresh:function(){var e=this._superApply(arguments);return this._rtl="rtl"===this._GetReadingDirection(),this._refreshRequired(this.options.required),e},_refreshRequired:n.EditableValueUtils._refreshRequired,_labelledByUpdatedForInputComp:n.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:n.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:n.EditableValueUtils._linkLabelForInputComp,_ValidateReturnBoolean:n.EditableValueUtils._ValidateReturnBoolean,_ValidateReturnPromise:n.EditableValueUtils._ValidateReturnPromise,getNodeBySubId:function(e){return this._super(e)},validate:n.EditableValueUtils.validate,rn this._DoWrapElement()?this._wrapper:this.element}},!0),r.__registerWidget("oj.ojInputPassword",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"password"}],_CLASS_NAMES:"oj-inputpassword-input",_WIDGET_CLASS_NAMES:"oj-inputpassword oj-form-control oj-component",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_MASK_ICON_SHOW_PASSWORD_LABEL_KEY:"accessibleShowPassword",_MASK_ICON_HIDE_PASSWORD_LABEL_KEY:"accessibleHidePassword",options:{converter:null,maskIco_super();return this._processMaskVisibilityIcon(),e},_processMaskVisibilityIcon:function(){var e=this._GetContentWrapper().parentElement,i=this.element[0],n=e.querySelector("span.oj-text-field-end");if(this.options.disabled||this.options.readOnly)n&&(e.removeChild(n),i.type="password");else if(null===n){if("visible"===this.options.maskIcon){var r,s;(n=document.createElement("span")).className="oj-text-field-end",(s=document.createElement("a")).className="oj-component-icon oj-clickable-icon-nocontext",s.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_SHOW_PASSWORD_LABEL_KEY)),s.role="button",s.setAttribute("target","_blank"),s.setAttribute("tabindex","0"),(r=document.createElement("span")).className="oj-inputpassword-show-password-icon",s.appendChild(r),n.appendChild(s),e.appendChild(n);var a=t(s);this._AddHoverable(a),this._AddActiveable(a),s.addEventListener(this._CLICK_HANDLER_KEY,this._onMaskVisibilityIconClickHandler.bind(this)),s.addEventListener(this._KEYDOWN_HANDLER_KEY,this._onMaskVisibilityIconKeyDownHandler.bind(this))}}else"visible"!==this.options.maskIcon&&(e.removeChild(n),i.type="password")},_onMaskVisibilityIconClickHandler:function(){var e=this.element[0],t=this._GetContentWrapper().parentElement.querySelector("a.oj-component-icon"),i=t.children[0];"password"===e.type?(e.type="text",i.classList.remove("oj-inputpassword-show-password-icon"),i.classList.add("oj-inputpassword-hide-password-icon"),t.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_HIDE_PASSWORD_LABEL_KEY))):(e.type="password",i.classList.remove("oj-inputpassword-hide-password-icon"),i.classList.add("oj-inputpassword-show-password-icon"),t.setAttribute("aria-label",this.getTranslatedString(this._MASK_ICON_SHOW_PASSWORD_LABEL_KEY)))},_onMaskVisibilityIconKeyDownHandler:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode;switch(e.keyCode){case i.SPACE:case i.ENTER:this._onMaskVisibilityIconClickHandler()}}},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"disabled":case"readOnly":case"maskIcon":this._processMaskVisibilityIcon()}},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_UseReadonlyDiv:function(){return!1},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputpassword-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputpassword"}}),r.__registerWidget("oj.ojInputText",t.oj.inputBase,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_CLASS_NAMES:"oj-inputtext-input",_WIDGET_CLASS_NAMES:"oj-inputtext oj-form-control oj-component",_ALLOWED_TYPES:["email","number","search","tel","text","url"],_CLICK_HANDLER_KEY:"click",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_INPUTTEXT_COUNTER_EL:"oj-inputtext-counter-el",options:{clearIcon:"never",converter:null,list:"",pattern:"",virtualKeyboard:"auto",length:{max:null,countBy:"codePoint"}},_ComponentCreate:function(){var e=this._super(),t=this.options.clearIcon;return this._processClearIconAttr(t),this._processSlottedChildren(),this._AddHoverable(this._wrapper),this._SetInputType(this._ALLOWED_TYPES),e},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_processClearIconAttr:function(e){var t=this._GetContentWrapper().parentElement,i=t.querySelector("a.oj-inputtext-clear-icon-btn");if("never"===e||this.options.disabled||this.options.readOnly)i&&t.removeChild(i),t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.remove("oj-inputtext-clearicon-conditional");else{if(null===i){var n,s=r.AgentUtils.getAgentInfo();(i=document.createElement("a")).className="oj-inputtext-clear-icon-btn oj-component-icon oj-clickable-icon-nocontext",i.setAttribute("tabindex","-1"),s.os===r.AgentUtils.OS.ANDROID||s.os===r.AgentUtils.OS.IOS||s.os===r.AgentUtils.OS.WINDOWSPHONE?i.setAttribute("aria-label","Clear input"):i.setAttribute("aria-hidden","true"),i.setAttribute("target","_blank"),(n=document.createElement("span")).className="oj-inputtext-clear-icon",i.appendChild(n),t.appendChild(i),i.addEventListener(this._CLICK_HANDLER_KEY,this._onClearIconClickHandler.bind(this))}var a;if("always"===e)t.classList.add("oj-inputtext-clearicon-visible");else t.classList.remove("oj-inputtext-clearicon-visible"),t.classList.add("oj-inputtext-clearicon-conditional"),(a=t.classList.contains("oj-complete")?this.element[0].value:this.options.value)&&""!==a?t.classList.remove("oj-form-control-empty-clearicon"):t.classList.add("oj-form-control-empty-clearicon")}},_processSlottedChildren:function(){var e=l.CustomElementUtils.getSlotMap(this._getRootElement());!function(e){for(var t={contextMenu:!0,start:!0,end:!0,"":!0},i=Object.keys(e),n=i.length-1;n>-1;n--){var r=i[n];if(!t[r])for(var s=e[r],a=0;a<s.length;a++){var o=s[a];o.parentElement.removeChild(o)}}}(e);var t=this._GetContentWrapper(),i="start";e[i]&&function(e,t){var i=document.createElement("span"),n=e.parentElement;i.classList.add("oj-text-field-start"),n.insertBefore(i,e),n.classList.add("oj-text-field-has-start-slot");for(var r=0;r<t.length;r++){var s=t[r];i.appendChild(s)}}(t,e[i]),e[i="end"]&&function(e,t){var i=document.createElement("span"),n=e.parentElement;i.classList.add("oj-text-field-end"),n.appendChild(i),n.classList.add("oj-text-field-has-end-slot");for(var r=0;r<t.length;r++){var s=t[r];i.appendChild(s)}}(t,e[i])},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"clearIcon":case"disabled":case"readOnly":this._processClearIconAttr(this.options.clearIcon);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_TYPES);break;case"value":this._processClearIconAttr(this.options.clearIcon),this._filterTextOnValueChange(),this._AfterSetOptionLength(this.options.length)}},_onInputHandler:function(e){this._super(e);var t=e.target,i=this._GetContentWrapper().parentElement;"conditional"===this.options.clearIcon&&(""!==t.value?i.classList.remove("oj-form-control-empty-clearicon"):i.classList.add("oj-form-control-empty-clearicon"))},_onClearIconClickHandler:function(e){var t=this.element[0];t.value="",this._SetRawValue(t.value,e),t.focus(),this._GetContentWrapper().parentElement.classList.add("oj-form-control-empty-clearicon"),this._processLengthCounterAttr(this.options.length.counter)},_onBlurHandler:function(e){var t=this._wrapper[0],i=e.relatedTarget;i&&i.classList.contains("oj-inputtext-clear-icon-btn")&&i.parentElement&&s.isAncestorOrSelf(t,i.parentElement)?t.classList.add("oj-focus"):this._super(e)},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-inputtext-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_GetDefaultStyleClass:function(){return"oj-inputtext"},_GetTranslationsSectionName:function(){return"oj-inputBase"},_SetInputType:n.EditableValueUtils._SetInputType}),r.__registerWidget("oj.ojTextArea",t.oj.inputBase,{version:"1.0.0",defaultElement:"<textarea>",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"oj-textarea-input",_WIDGET_CLASS_NAMES:"oj-textarea oj-form-control oj-component",_INPUT_CONTAINER_CLASS:"oj-text-field-container",_TEXTAREA_COUNTER_CONTAINER:"oj-textarea-counter-container",_TEXTAREA_COUNTER_EL:"oj-textarea-counter-el",_INPUT_HANDLER_KEY:"input",options:{converter:null,maxRows:0,pattern:"",resizeBehavior:"none",rows:void 0,length:{max:null,countBy:"codePoint",counter:"none"}},_AfterSetOption:function(e,t){switch(this._super(e,t),e){case"value":this._filterTextOnValueChange(),this._AfterSetOptionLength(this.options.length)}},_AfterCreate:function(){var e=this._superApply(arguments);void 0===this.options.value&&this._SetDisplayValue(""),this.widget()[0].querySelector("."+this._INPUT_CONTAINER_CLASS).style.resize=this.options.resizeBehavior,this._setupResizeTextareaBind();var t=this.options.maxRows;return-1===t&&this.widget()[0].classList.add("oj-maxrows-neg1"),e},_AfterCreateConverterCached:function(){var e=this._super(),t=this._GetContentElement()[0],i=this.options.maxRows;return!this._textAreaElementNotDisplayed()&&(-1===i||i>t.rows)&&(this._calculateLineHeight(t),this._resizeTextArea()),e},_setOption:function(e,t,i){var n=this._superApply(arguments);if("resizeBehavior"===e)this.widget()[0].querySelector("."+this._INPUT_CONTAINER_CLASS).style.resize=t;else if("value"===e){let e=this._textAreaElementNotDisplayed(),t=this.options.maxRows;!e&&(-1===t||t>this._GetContentElement()[0].rows)&&this._resizeTextArea()}return n},_NotifyAttached:function(){this._super();var e=this.options.maxRows;(-1===e||e>this._GetContentElement()[0].rows)&&this._resizeTextArea()},_onInputHandler:function(e){this._super(e);var t=this._GetContentElement()[0],i=this.options.maxRows;(-1===i||i>t.rows)&&this._resizeTextArea()},_resizeTextArea:function(){if(this._textAreaElementNotDisplayed()||void 0===this._lineHeight)return;const e=this.options.maxRows,t=this._GetContentElement()[0],i=t.rows;t.style.height=0;const n=this._getStylingHeight(t,"padding"),r=this._lineHeight*i+n,s=t.scrollHeight;var a=0;if(-1===e)a=s<r?r:s;else if(e>i){var o=this._lineHeight*e+n;a=s>o?o:s<r?r:s}else a=r;t.style.height=a+"px"},_setupResizeTextareaBind:function(){this._textAreaElementNotDisplayed()||(this._resizeTextareaBind=function(){var e=this._GetContentElement()[0],t=this.options.maxRows;(-1===t||t>e.rows)&&this._resizeTextArea()}.bind(this),window.addEventListener("resize",this._resizeTextareaBind,!1))},_getStylingHeight:function(e,t){var i=window.getComputedStyle(e),n=0;"padding"!==t&&"paddingAndBorder"!==t||(n+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom));"border"!==t&&"paddingAndBorder"!==t||(n+=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth));return n},_calculateLineHeight:function(e){if(!this._textAreaElementNotDisplayed()){var t=window.getComputedStyle(e);if("none"!==t.display){var i=t.lineHeight;switch(i){case"normal":var n=parseFloat(t.fontSize);this._lineHeight=1.2*n;break;default:oveEventListener("resize",this._resizeTextareaBind)},_ReleaseResources:function(){this._super(),this._cleanUpListeners()},getNodeBySubId:function(e){var t=this._superApply(arguments);return t||"oj-textarea-input"===e.subId&&(t=this.element?this.element[0]:null),t||null},_DoWrapElementAndTriggers:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES=this._INPUT_CONTAINER_CLASS,!0},_UseReadonlyDiv:function(){var e=this._super();return e?-1===this.options.maxRows:e},_GetDefaultStyleClass:function(){return"oj-textarea"},_GetTranslationsSectionion(){return this._GetConverter()instanceof Promise},_onKeyUpHandler:function(e){},_onKeyDownHandler:function(e){if((13===e.keyCode||"Enter"===e.key)&&e.altKey){var t=this._GetContentElement()[0],i=t.value,n=i.substring(0,t.selectionStart),r=i.substring(t.selectionEnd);t.value=n+"\r\n"+r;var s=t.value.length-r.length;t.setSelectionRange(s,s),t.blur(),t.focus();var a=this.options.maxRows;(-1===a||a>t.rows)&&this._resizeTextArea(),e.stopPropagation()}},_textAreaElementNotDisplayed:function(){return this._UseReadonlyDiv()&&this.options.readOnly&&-1===this.options.maxRows}})}),define("ojs/ojoptgroup",["ojs/ojcore-base","ojs/ojcomponentcore"],function(e,t){"use strict";function i(e){this.updateDOM=function(){var t=e.element.customOptgroupRenderer;t&&"function"==typeof t&&t(e.element)}}var n;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,(n={properties:{disabled:{type:"boolean",value:!1},label:{type:"string"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).properties.customOptgroupRenderer={},n.extension._CONSTRUCTOR=i,e.CustomElementBridge.register("oj-optgroup",{metadata:n})}),define("ojs/ojlabelvalue",["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel","ojs/ojcore-base"],function(e,t,i,n){"use strict";function r(e){var t,i,n=e.element;this.createDOM=function(){n.classList.add("oj-label-value","oj-form");var e=document.createElement("div");for(e.classList.add("oj-flex"),e.setAttribute("data-oj-context",""),e.setAttribute("data-oj-internal",""),(t=document.createElement("div")).classList.add("oj-flex-item"),t.setAttribute("data-oj-context",""),t.setAttribute("data-oj-internal",""),(i=document.createElement("div")).classList.add("oj-flex-item"),i.setAttribute("data-oj-context",""),i.setAttribute("data-oj-internal","");n.firstElementChild;){var r=n.firstElementChild;switch(r.getAttribute("slot")){case"label":t.appendChild(r);break;case"value":i.appendChild(r),"OJ-FORM-LAYOUT"===r.tagName&&i.classList.add("oj-formlayout-nested-formlayout");break;default:n.removeChild(r)}}e.appendChild(t),e.appendChild(i),n.appendChild(e)},this.updateDOM=function(){var e=function(){for(var e=n.parentElement;e;e=e.parentElement)if(-1!==e.tagName.indexOf("-"))return e;return null}(),r=function(e){var t="top";"inherit"===n.labelEdge?e&&"labelEdge"in e&&(t=e.labelEdge):t=n.labelEdge;return t}(e),s="start"===r?function(e){var t="33%";if("inherit"===n.labelWidth){if(e&&"labelWidth"in e){t=e.labelWidth;var i=t.match(/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/);switch(i[2]){case"vw":case"vmin":case"vmax":case"%":var r=Number(n.getAttribute("data-oj-colspan")),s=n.getAttribute("data-oj-column-gap");r>0&&(t="calc((("+t+" / "+r+") - (("+s+" * ("+(r-1)+") * "+i[1]/r/100+")))")}}}else t=n.labelWidth;return t}(e):"100%",a=function(e){var t="column";e&&"direction"in e&&(t=e.direction);return t}(e);"start"===r?(n.classList.add("oj-formlayout-labels-inline"),n.classList.remove("oj-form-control-label-inside")):"inside"===r?(n.classList.add("oj-form-control-label-inside"),n.classList.remove("oj-formlayout-labels-inline")):(n.classList.remove("oj-formlayout-labels-inline"),n.classList.remove("oj-form-control-label-inside")),"row"===a?n.classList.add("oj-formlayout-form-across"):n.classList.remove("oj-formlayout-form-across"),t.style.flexGrow="0",t.style.flexShrink="1",t.style.flexBasis=s,t.style.width=s,t.style.maxWidth=s,i.style.flex="1 1 0"}}var s;n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,(s={properties:{colspan:{type:"number",value:1},labelEdge:{type:"string",enumValues:["inherit","inside","start","top"],value:"inherit"},labelWidth:{type:"string",value:"inherit"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._CONSTRUCTOR=r,n.CustomElementBridge.register("oj-label-value",{metadata:n.CollectionUtils.mergeDeep(s,{properties:{labelEdge:{binding:{provide:[{name:"containerLabelEdge"},{name:"labelEdge",transform:{top:"provided",start:"provided"}}],consume:{name:"containerLabelEdge"}}},labelWidth:{binding:{provide:[{name:"labelWidth"}]}}}})})}),define("ojs/ojformlayout",["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcontext","ojs/ojlogger","ojs/ojthemeutils"],function(e,t,i,n,r,s,a,o){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var l={properties:{colspanWrap:{type:"string",enumValues:["nowrap","wrap"]},columns:{type:"number",value:0},direction:{type:"string",enumValues:["column","row"]},labelEdge:{type:"string",enumValues:["inside","start","top"]},labelWidth:{type:"string",value:"33%"},labelWrapping:{type:"string",enumValues:["truncate","wrap"],value:"wrap"},maxColumns:{type:"number",value:1},readonly:{type:"boolean",value:!1},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"efficient"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};Object.freeze(l);var u=0;const d="oj-form-layout-option-defaults";function c(e){var t=this,i=e.element,l="data-oj-formlayout-bonus-dom";const c="oj-formlayout-labels-nowrap";var h,p,_,m,f,g=!0,v=!1;q(e),t._rootElementMutationObserver=new MutationObserver(function(e){document.body.contains(i)?(!function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if("childList"===r.type)for(var s=r.addedNodes.length,a=0;a<s;a++){var o=r.addedNodes[a];o.parentNode===i&&_.appendChild(o)}}}(e),function(e){for(var t=!0,n=e.length,r=["colspan","label-hint"],s=0;s<n;s++){var a=e[s];if("childList"===a.type&&((o=a.target)===i||o&&"DIV"===o.tagName&&o.hasAttribute(l))&&G(a.target)){t=!1;break}if("attributes"===a.type&&r.includes(a.attributeName)){t=!1;break}}var o;return t}(e)||(!function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];if("childList"===n.type)for(var r=n.removedNodes.length,s=0;s<r;s++){var a=n.removedNodes[s];1===a.nodeType&&(a.removeEventListener("labelHintChanged",O),a.removeEventListener("helpHintsChanged",A),a.removeEventListener("requiredChanged",j),a.removeEventListener("userAssistanceDensityChanged",I))}}}(e),i.refresh())):this.disconnect()}),t._resizeHandler=function(e,t){x()!==f&&i.refresh()},this.createDOM=function(){i.classList.add("oj-form-layout"),(_=document.createElement("div")).classList.add("oj-form"),_.setAttribute("data-oj-context",""),_.setAttribute("data-oj-internal",""),_.setAttribute(l,""),i.readonly?_.classList.remove("oj-enabled"):_.classList.add("oj-enabled");for("efficient"===i.userAssistanceDensity?_.classList.add("oj-efficient"):_.classList.remove("oj-efficient");i.firstChild;)_.appendChild(i.firstChild);i.appendChild(_)};function b(e){i.columns<1&&"row"===i.direction&&r.addResizeListeneron y(){p&&(p(),p=null)}function E(){h&&(h(),h=null)}function C(e){return"inside"===i.labelEdge||"inside"===e.labelEdge||"none"===e.labelEdge||e.tagName.toLowerCase().startsWith("oj-c-")}function S(e){var t=null;return C(e)||e instanceof Element&&"labelHint"in e&&""!==e.labelHint&&(W(e),t=function(e){let t=e.labelledBy;if(t){document.getElementById(t)&&a.error("The oj-form-layout descendent component with id "+e.id+' has both label-hint and labelled-by. Remove labelled-by="'+t+'" since no matching element was found in the document, and a label will be created using the label-hint.')}var i=document.createElement("oj-label");i.setAttribute(l,""),i.setAttribute("data-oj-internal",""),i.setAttribute("data-oj-binding-provider","none"),i.setAttribute("data-oj-context","");var n=document.createElement("span");n.id=e.id+"|hint",n.textContent=e.labelHint,Y(e)&&R(e,i);return i.appendChild(n),function(e,t){var i=e,n=t;i.id=n.id+"-labelled-by",i.setAttribute("for".addEventListener("userAssistanceDensityChanged",I)}(e)),t}function O(e){var t=e.target,i=document.getElementById(t.id+"|hint");i&&(i.textContent=e.detail.value)}function A(e){var t=e.target,i=T(t);let n=e.detail.value;if(i){w(t)&&(i.help=n)}}function j(e){var t=e.target,i=T(t);if(i){let n;n=!!e.detail.value&&w(t),i.showRequired=n}}function I(e){let t=e.target,i=e.detail.value,n=e.detail.previousValue;if("compact"!==i&&"compact"!==n)return;let r=T(t);if(Y(t))R(t,r);else{t.required&&(r.showRequired=!1);const e=t.helpHints;e&&(e.definition||e.source)&&(r.help={definition:null,source:null})}}function w(e){let t="use"===o.parseJSONFromFontFamily("oj-form-control-option-defaults").useUserAssistanceOptionDefault?e.userAssistanceDensity:"displayOptions";return"compact"===t||"displayOptions"===t}function T(e){return"labelledBy"in e?document.getElementById(e.labelledBy):i.querySelector('oj-label[for="'+e.id+'"]')}function R(e,t){var i=t,n=e.helpHints;let r;n&&(n.definition||n.source)&&(i.help=n),r=!!e.required&&w(e),i.showRequired=r}function L(){return"column"===i.direction||1===f}function D(e,t){if(!L()){for(var i,n=t.previousSibling;n&&1!==n.nodeType;)i=n,n=n.previousSibling;for(;i&&i!==t;)n=i.nextSibling,e.appendChild(i),i=n}}function P(e){if(!L())for(;e.nextSibling;){var t=e.nextSibling;if(1===t.nodeType)break;if(8===t.nodeType&&0===t.textContent.trim().indexOf("oj-bind-"))break;e.appendChild(t)}}function N(e,t){e&&P(e);var i=B("oj-flex");return t.parentElement.insertBefore(i,t),D(i,i),i}function x(){let e=i.maxColumns;const t=i.columns;if(t>0)e=t,i.classList.add("oj-form-layout-no-min-column-width");else if(i.classList.remove("oj-form-layout-no-min-column-width"),"row"===i.direction&&!K()){let t=parseFloat(window.getComputedStyle(_).columnWidth);if(!isNaN(t)){let n=parseFloat(window.getComputedStyle(i.parentElement).width),r=Math.max(Math.floor(n/t),1);r<e&&(e=r)}}return e}function V(e,t){var n=1;if("column"===i.direction)return"100%";e&&"colspan"in e&&e.colspan&&(n=Math.min(Math.floor(e.colspan),t));let r=o.parseJSONFromFontFamily(d).columnGap,s="calc(((100% / "+f+") - (("+r+" * ("+(f-1)+") / "+f+"))"+(K()?" - 0.1px":"")+")";return n>1&&(s+=" * "+n+" + ("+r+" * "+(n-1)+")"),s+=")",s}function F(e,t){var i=B("oj-flex-item");return i.style.flexGrow="0",i.style.flexShrink="1",i.style.flexBasis=t,i.style.width=t,i.style.maxWidth=t,e.appendChild(i),i}function M(e,t){var n=t%f,r=V();if("column"!==i.diret=B("oj-formlayout-column-gutter");e.appendChild(t)}function k(e,t,n,r){var s=V(e,r);D(n,e);var a=B("oj-flex-item");if(n.appendChild(a),a.appendChild(e),t)if(a.style.flexGrow="1",a.style.flexShrink="1",a.style.flexBasis=s,a.style.width=s,a.style.maxWidth=s,"OJ-FORM-LAYOUT"===t.tagName&&a.classList.add("oj-formlayout-nested-formlayout"),"start"===i.labelEdge){a.style.display="flex";let n=B("oj-formlayout-inline-label"),r=B("oj-formlayout-inline-value");n.style.flexGrow="0",n.style.flexShrink="0",n.style.flexBasis=i.labelWidth,n.style.width=i.labelWidth,n.style.maxWidth=i.labelWidth,n.appendChild(e),a.appendChild(n),r.style.flexGrow="1",r.style.flexShrink="1",r.style.flexBasis="calc(100% - "+i.labelWidth+")",r.style.width=r.style.flexBasis,r.style.maxWidth=r.style.flexBasis,r.appendChild(t),a.appendChild(r)}else a.appendChild(t);else if("labelHint"in e&&C(e))a.style.flexGrow="1",a.style.flexShrink="1",a.style.flexBasis=s,a.style.width=s,a.style.maxWidth=s,a.appendChild(e);else if(a.appendChild(e),a.style.flexGrow="1",a.style.flexShrink="1",a.style.flexBasis=s,a.style.width=s,a.style.maxWidth=s,a.classList.add("oj-formlayout-no-label-flex-item"),"OJ-LABEL-VALUE"===e.tagName){let t=o.parseJSONFromFontFamily(d).columnGap;a.classList.add("oj-formlayout-nested-labelvalue"),e.setAttribute("data-oj-colspan",r),e.setAttribute("data-oj-column-gap",t),e.refresh()}else"OJ-FORM-LAYOUT"===e.tagName&&a.classList.add("oj-formlayout-nested-formlayout");P(n)}function B(e){var t=document.createElement("div");return t.setAttribute(l,""),t.setAttribute("data-oj-internal",""),t.classList.add(e),t}function G(e){for(var t=e,n=!0;t!==i;){if("OJ-FORM-LAYOUT"===t.tagName){n=!1;break}if(null==(t=t.parentElement)){n=!1;break}}return n}function U(e){for(;e.firstChild;){var t=e.firstChild;e.parentNode.insertBefore(t,e)}e.parentNode.removeChild(e)}function W(e){var t=e;t.id||(t.id="oflId_"+u,u+=1)}function K(){var e=n.AgentUtils.getAgentInfo();return"ie"===e.browser&&11===e.browserVersion}function Y(e){let t=o.parseJSONFromFontFamily("oj-form-control-option-defaults"),i="displayOptions";if(t){i="use"===t.useUserAssistanceOptionDefault?e.userAssistanceDensity:"displayOptions"}return"compact"===i||"displayOptions"===i}function q(e){var t=o.parseJSONFromFontFamily(d)||{};e?(e.props.labelEdge||(i.labelEdge=t.labelEdge),e.props.colspanWrap||(i.colspanWrap=t.colspanWrap),e.props.direction||(i.direction=t.direction)):(i.labelEdge||(i.labelEdge=t.labelEdge),i.colspanWrap||(i.colspanWrap=t.colspanWrap),i.direction||(i.direction=t.direction))}t.handlePropertyChanged=function(e,t){switch(e){case"readonly":return i.readonly?_.classList.remove("oj-enabled"):_.classList.add("oj-enabled"),!0;case"userAssistanceDensity":{const e="oj-efficient";return"efficient"===i.userAssistanceDensity?_.classList.add(e):_.classList.remove(e),!0}case"labelWrapping":return"truncate"===i.labelWrapping?_.classList.add(c):_.classList.remove(c),!0;default:return!1}},this.updateDOM=function(){function e(){!function(){if(!p){var e=s.getContext(i).getBusyContext(),t={description:"The oj-form-layout component with id = '"+i.id+"' is being rendered."};p=e.addBusyState(t)}}(),q(),m=[],s.getContext(_).getBusyContext().whenReady().then(function(){var e,o=document.activeElement,l=!1;!function(){if(!h){var e=s.getContext(_).getBusyContext(),t={description:"The oj-form div for oj-form-layout component with id = '"+i.id+"' is being rendered."};h=e.addBusyState(t)}}(),t._rootElementMutationObserver.disconnect(),(e=_)&&t._resizoj-formlayout-workaround-dom]");e&&_.removeChild(e)}(),function(){var e;if("start"===i.labelEdge){var t=parseInt(i.labelWidth,10);(isNaN(t)||t>0)&&_.classList.add("oj-form-cols-labels-inline"),i.classList.add("oj-formlayout-labels-inline"),_.classList.remove("oj-form-cols")}else _.classList.add("oj-form-cols"),_.classList.remove("oj-form-cols-labels-inline"),i.classList.remove("oj-formlayout-labels-inline");"truncate"===i.labelWrapping?_.classList.add(c):_.classList.remove(c);let n=f;if((f=x())!==n){var r="oj-formlayout-max-cols-"+f,s=i.className;-1!==s.indexOf("oj-formlayout-max-cols-")?i.className=s.replace(/oj-formlayout-max-cols-[\d+]/,r):i.classList.add(r)}"row"===i.direction?(e=1,_.classList.add("oj-formlayout-form-across")):(e=f,_.classList.remove("oj-formlayout-form-across"));_.style.columnCount=e,_.style.webkitColumnCount=e,_.style.MozColumnCount=e}(),g||function(){for(var e=_.querySelectorAll("[data-oj-formlayout-bonus-dom]"),t=e.length,i=0;i<t;++i){var n=e[i];G(n)&&("OJ-LABEL"===n.tagName?(n.for="",n.parentElement.removeChild(n)):U(n))}}(),function(){var e=_.firstElementChild,t=0,n="column"===i.direction;for(;e;){var r=e.tagName.toLowerCase();if(-1!==r.indexOf("-"))if("oj-label"===r){var s=e;if(!(e=e.nextElementSibling))throw W(i),W(s),E(),y(),new Error("oj-form-layout component with id='"+i.id+"' has an oj-label child element with id='"+s.id+"' but has no next sibling element that it is associated with.")}else"oj-label-value"===r?g||e.refresh():e.classList.contains("oj-complete")?S(e):((n||t%f==0)&&e.setAttribute("data-oj-needs-oj-flex-div",""),m.push(e));t+=1,e=e.nextElementSibling}}(),function(){var e,t=[],n=_.children.length,r="column"===i.direction,s=0,o=0;!function(e,t){for(var i=t,n=e.length-1;n>=0;n--)i[n]=e[n]}(_.children,t);var l,u=0,d=!1,c=!1;for(;s<n;){var h=t[s];if(l=1,(r||o%f==0)&&(e=N(e,h)),-1===m.indexOf(h))if("oj-label"===h.tagName.toLowerCase())k(h,t[s+=1],e);else if("labelHint"in h&&C(h))k(h,null,e);else{if("colspan"in h&&h.colspan>1)if(r)d||(a.error('Colspan attribute is ignored unless direction is set to "row"'),d=!0);else{var p=f-u;l=Math.floor(h.colspan),"wrap"===i.colspanWrap&&p<l&&u>0?(M(e,o),o+=p,l=Math.min(l,f),e=N(e,h)):l=Math.min(l,p),!c&&f>1&&(c=!0)}k(h,null,e,l)}o+=l,r||o%f==0||H(e),u=o%f,s+=1}c&&!r?_.classList.add("oj-form-control-full-width"):_.classList.remove("oj-form-control-full-width");M(e,o)}(),n.Components&&n.Components.subtreeAttastorOrSelf(i,o)),l&&setTimeout(function(){o.focus()},0),b(_),function(){const e=document.createElement("div");e.style.display="table",e.style.visibility="hidden",e.setAttribute("data-oj-formlayout-workaround-dom",""),_.appendChild(e)}(),t._rootElementMutationObserver.observe(i,{childList:!0,subtree:!0,attributes:!0}),g&&(g=!1),E(),y()})}var o;v||(!(g||!i.hasAttribute("data-oj-context"))&&!(o=s.getContext(i).eady()?(v=!0,o.whenReady().then(function(){v=!1,e()})):e())}}c.getDynamicDefaults=function(){var e=o.parseJSONFromFontFamily(d)||{};return{labelEdge:e.labelEdge,direction:e.direction}},l.extension._CONSTRUCTOR=c,l.extension._TRACK_CHILDREN="nearestCustomElement",n.CustomElementBridge.register("oj-form-layout",{metadata:n.CollectionUtils.mergeDeep(l,{properties:{readonly:{binding:{provide:[{name:"containerReadonly",default:!1},{name:"readonly"}],consume:{name:"containerReadonly"}}},userAssistanceDensity:{binding:{provide:[{name:"containerUserAssistanceDensity",default:"efficient"},{name:"userAssistanceDensity",default:"efficient"}],consume:{name:"containerUserAssistanceDensity"}}},labelEdge:{binding:{provide:[{name:"containerLabelEdge"},{name:"labelEdge",transform:{top:"provided",start:"provided"}}],consume:{name:"containerLabelEdge"}}},labelWidth:{binding:{provide:[{name:"labelWidth"}]}},labelWrapping:{binding:{provide:[{name:"labelWrapping"}]}}}})})}),define("ojs/ojradiocheckbox",["ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojcomponentcore"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e.__registerWidget("oj._ojRadioCheckbox",t.oj.baseComponent,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",his.$label=this._getLabelsForElement()),this.$label},refresh:function(){this._super(),this._setup()},refreshDisabledd",e),this.$choiceItem.toggleClass("oj-selected",e)},widget:function(){return this.uiRadioCheckbox},_InitOptions:function(e,t){var i,n;if(this._super(e,t),"checked"in t||(this.initCheckedFromDom=!0,i=!!this.element.prop("checked"),this.option("checked",i,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.checked)throw new Error("checked option must be a boolean");if("disabled"in t||(n=!!this.element.prop("disabled"),this.option("disabled",n,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.disabled)throw new Error("disabled option must be a boolean");"type"in t||this.option("type",this.element.prop("type"),{_context:{internalSet:!0}})},_ComponentCreate:function(){this._super();var e=this.options.type;"checkbox"===e?(this.uiRadioCheckbox=this.element.addClass("oj-checkbox oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-checkbox-label")):"radio"===e&&(this.uiRadioCheckbox=this.element.addClass("oj-radio oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-radio-label")),this.$choiceItem=this._getChoiceItem();var i=document.createElement("span");i.setAttribute("class","oj-radiocheckbox-icon oj-component-icon"),this.element.wrapAll(i);this._focusable(this.element),this._AddHoverable(this.$choiceItem),this._AddActiveable(this.$choiceItem),this._focusable({element:this.$choiceItem,applyHighlight:!0}),this._AddHoverable(this.$label)<span class='oj-radiocheckbox-lautes:function(e){thhis._savedClasses):this.element.removeAttr("class")},_setup:function(){this._renderDisabled(),this.initCheckedFromDom||this._setCheckedOnDom(this.options.checked),this.options.checked&&this.setSelectedClass(this.options.checked)},_setCheckedOnDom:function(e){e=!!e,this.element.prop("checked",e)},_renderDisabled:function(){this._IsEffectivelyDisabled()?(this.element.prop("disabled",!0).removeAttr("aria-disabled").removeClass("oj-enabled").addClass("oj-disabled"),this.$label.removeClass("oj-enabled").addClass("oj-disabled"),this.$choiceItem.removeClass("oj-enabled").addClass("oj-disabled")):(this.element.prop("disabled",!1).removeAttr("aria-disabled").removeClass("oj-disabled").addClass("oj-enabled"),this.$label.addClass("oj-enabled").removeClass("oj-disabled"),this.$choiceItem.addClass("oj-enabled").removeClass("oj-disabled"))},_setOption:function(e,t){this._superApply(arguments),"disabled"===e&&(t=!!t,this._renderDisabled(t)),"checked"===e&&(this._setCheckedOnDom(t),this.setSelectedClass(t))},_getLabelsForElement:function(){var e,n=this.element.closest("label"),r="label[for='"+this.element.prop("id")+"']",s=t(r);return 0!==n.length&&i.error("Found a label that is an input's ancestor. This is not supported in the ojCheckboxset or ojRadioset component and the component will\nnot work correctly. Use a label as a sibling to the input and use the label 'for' attribute to tie the two together."),0===(s=s.not(n)).length&&(e=this.element.siblings(r),s=s.add(e)),s},_getChoiceItem:function(){var e,t,n,r=null;return(e=this.element.parent())&&(e.hasClass("oj-choice-item")||e.hasClass("oj-choice-row")||e.hasClass("oj-choice-row-inline"))?r=e:(i.warn("The radioset/checkboxset's input and label dom should be wrapped in a dom node with class 'oj-choice-item'. JET is adding this missing dom to make the component work correctly."),"<span class='oj-choice-item oj-choice-item-added'></span>",t="label[for='"+this.element.attr("id")+"']",0!==(n=this.element.siblings().filter(t)).length?(this.element.add(n).wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),r=this.element.parent()):(this.element.wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),r=this.element.parent())),r},getNodeBySubId:function(e){var t=this._super(e);if(!t){var i=e.subId;"oj-radiocheckbox-input"===i&&(t=this.element[0]),"oj-radiocheckbox-label"===i&&(t=this.label()[0])}return t||null},_destroy:function(){var e=this._super();this._RemoveHoverable(this.$choiceItem),this._RemoveActiveable(this.$choiceItem),this._RemoveHoverable(this.$label),this._RemoveActiveable(this.$label);var i=this.options.type;"checkbox"===i?this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-checkbox-label"):"radio"===i&&this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-radio-label"),this.$choiceItem.removeClass("oj-enabled oj-disabled oj-selected");return t.each(this.$label,function(){var e=this.getElementsByClassName("oj-radiocheckbox-label-text");void 0!==e&&t(e[0].childNodes[0]).unwrap()}),this.element.unwrap(),this.$choiceItem.hasClass("oj-choice-item-added")&&this.element.unwrap(),this.$choiceItem=null,this.$label=null,e}});const r={};e._registerLegacyNamespaceProp("RadioCheckboxUtils",r),r.renderOptions=function(){var e=this._optionsDataArray,t=this.element[0];if(e){var i="OJ-RADIOSET"===t.tagName?"oj-radioset-wrapper":"oj-checkboxset-wrapper",r=t.querySelector("."+i),s=r.querySelectorAll(".oj-choice-item");for(let e=0;e<s.length;e++){let t=s[e];t.parentNode.removeChild(t)}s=r.querySelectorAll("oj-option");for(let e=0;e<s.length;e++){let t=s[e];t.parentNode.removeChild(t)}var a=this.options.optionRenderer,o=this.options.optionsKeys,l=o&&o.value?o.value:"value";"function"!=typeof a&&(a=function(e){var t=o&&o.label?o.label:"label",i=document.createElement("oj-option");return i.value=e.data[l],i.textContent=e.data[t],i.disabled=e.data.disabled,i});for(let i=0;i<e.length;i++){var u={component:t,index:i,data:e[i]},d=a(u);d&&"OJ-OPTION"===d.tagName&&(d.hasAttribute("data-oj-binding-provider")||d.setAttribute("data-oj-binding-provider","none"),null!==d.value&&void 0!==d.value||(d.value=u.data[l]),r.appendChild(d),n.subtreeAttached(d))}this.refresh()}},r.generateOptionsFromData=function(){var t=this.options.options;if(r.removeDataListener.call(this),t&&e.DataProviderFeatureChecker.isDataProvider(t)){var i,n={description:'The component identified by "'+this.element[0].id+'" is fetching data'},s=e.Context.getContext(this.element[0]).getBusyContext().addBusyState(n);this._clientId=this._clientId||Symbol(),this._optionsDataArray=[];var a=t.fetchFirst({clientId:this._clientId})[Symbol.asyncIterator](),o=this,l=function(e){var t;if(e&&e.value){var n=e.value;for(i=0;i<n.data.length;i++)o._optionsDataArray.push(n.data[i]);e.done||renderOptions.call(o),r.addDataListener.call(o),s()},function(){s()})}},r.addDataListener=function(){r.removeDataListener.call(this),this.options.options&&e.DataProviderFeatureChecker.isDataProvider(this.options.options)&&(this._optionsDataProvider=this.options.options,this._optionsDataListener=r.generateOptionsFromData.bind(this),this._optionsDataProvider.addEventListener("refresh",this._optionsDataListener),this._optionsDataProvider.addEventListener("mutate",this._optionsDataListener))},r.removeDataListener=function(){this._optionsDataListener&&(this._optionsDataProvider.removeEventListener("refresh",this._optionsDataListener),this._optionsDataProvider.removeEventListener("mutate",this._optionsDataListener),this._optionsDataProvider=null,this._optionsDataListener=null)}}),define("ojs/ojcheckboxset",["ojs/ojcomponentcore","ojs/ojeditablevalue","ojs/ojradiocheckbox","ojs/ojoption","ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojtranslation","ojs/ojlabelledbyutils"],function(e,t,i,n,r,s,a,o,l){"use strict";var u,d;r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,(u={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},optionRenderer:{type:"function"},options:{type:"object"},optionsKeys:{type:"object",properties:{label:{type:"string"},value:{type:"string"}}},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{readonlyNoValue:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"Array<any>",writeback:!0,value:[]}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojCheckboxset",u.extension._ALIASED_PROPS={readonly:"readOnly"},u.extension._TRACK_CHILDREN="immediate",r.CustomElementBridge.register("oj-checkboxset",{metadata:r.CollectionUtils.mergeDeep(u,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),d={doValueChangeCheck:!1},r.__registerWidget("oj.ojCheckboxset",s.oj.editableValue,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",_WRAPPER_CLASS_NAMES:"oj-checkboxset-wrapper oj-form-control-container",options:{disabled:!1,labelledBy:null,readOnly:!1,optionRenderer:null,options:null,optionsKeys:{},required:!1,value:[]},refresh:function(){this._super(),this._setup()},widget:function(){return this.uiCheckboxset},validate:t.EditableValueUtils.validate,_InitOptions:function(e,i){var n,r,a=[];this._super(e,i),this._IsCustomElement()||t.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"title"},{attribute:"required",coerceDomValue:!0,validateOption:!0}],i,this),this._IsCustomElement()?this._checkValueType(this.options.value):void 0===i.value?(this.$checkboxes=this._findCheckboxesWithMatchingName(),(n=th.length>0&&(n.each(function(){a.push(s(this).val())}),r=a,this.option("value",r,{_context:{writeback:!0,internalSet:!0}})),void 0===this.options.value&&(this.options.value=[])):this._checkValueType(this.options.value)},_ComponentCreate:function(){const e=this.element;if(this._super(),e.is("fieldset"))throw new Error("ojCheckboxset cannot be bound to a fieldset. Use a div instead.");e.uniqueId(),this._externalTabIndex=this.element.attr("tabindex")||0,this.element.removeAttr("tabindex"),r.RadioCheckboxUtils.generateOptionsFromData.call(this),this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes._ojRadioCheckbox().attr("data-oj-internal",""),this.uiCheckboxset=e.addClass("oj-checkboxset oj-component").attr("role","group");const t=e.contents().filter(function(){return!(this.getAttribute&&"contextMenu"===this.getAttribute("slot"))});t.length>0?t.wrapAll(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`):e.append(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`),this._updateReadonlyState(),this._on(this._events),this._setup()},_ResetComponentState:function(){this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes.filter(".oj-checkbox").each(function(){var e=void 0!==s(this).attr("disabled")&&!!s(this).prop("disabled");s(this)._ojRadioCheckbox("option","disabled",e)}),this.$checkboxes.not(".oj-checkbox")._ojRadioCheckbox()},GetFocusElement:function(){if(!0===this.options.readOnly){const e=this._GetReadonlyFocusElement();if(e)return e}return this._GetContentElement().not(":disabled").first()[0]},_GetReadonlyFocusElement:function(){return this.widget()[0].querySelector(".oj-form-control-container")},_SetDisabledDom:function(){},_IsRequired:function(){return this.options.required},_refreshRequired:t.EditableValueUtils._refreshRequired,_processOjOptions:function(){if(this._IsCustomElement()){var e,t,i=this.element[0],n=i.querySelector(".oj-checkboxset-wrapper"),r=this._customOptionRenderer.bind(this),s=this.element.children("oj-option").add(this.element.children(".oj-checkboxset-wrapper").find("oj-option")),a=function(e,t){for(var i=e.slice(0),n=t.length-1,r=i.length-1;r>0&&n>-1;){var s=t[n].value,a=i[r];if(s!==a){var o=i.indexOf(s);o>-1&&(i[o]=a,i[r]=s,r-=1),n-=1}else r-=1,n-=1}return i}(this.options.value,s),o=a.length;n||(n=i);var l=i.querySelector("[data-no-value-span]");if(l)(o>0||!this.options.readOnly)&&l.parentElement.removeChild(l);else if(0===o&&this.options.readOnly){var u=document.createElement("span");u.setAttribute("data-no-value-span",""),u.setAttribute("class","oj-choice-item"),u.setAttribute("aria-readonly",!0);var d=this.getTranslatedString("readonlyNoValue");null!==d&&(u.textContent=d),n.appendChild(u)}for(e=0,t=s.length;e<t;e++)s[e].customOptionRenderer=r,this.options.readOnly?this._processReadonlyOptions(s[e],a):this._initInputLabelFromOjOption(s[e])}},_processReadonlyOptions:function(e,t){const i=e.value,n=t.length,r=this.element.get(0),a=s(e).parentsUntil(r,"span.oj-choice-item").get(0);if(null==a?e.classList.add("oj-helper-hidden"):a.classList.add("oj-helper-hidden"),n>0){var o=t.indexOf(i);if(o>-1){var l=o===n-1;this._initReadonlyLabelFromOjOption(e,a,l)}else null!=a&&a.removeAttribute("aria-readonly")}else null!=a&&a.removeAttribute("aria-readonly")},_initInputLabelFromOjOption:function(e){var t,i,n=e;s(n).uniqueId();var r=n.getAttribute("id"),a=r+"|cb",o=document.getElementById(a);if(null!==o){i=n;do{i=i.parentElement}while(i&&"LABEL"!==i.tagName);if(i&&(n.textContent&&""!==n.textContent?i.classList.remove("oj-helper-hidden"):i.classList.add("oj-helper-hidden")),!this.options.readOnly){var l=n;do{l=l.parentElement}while(l&&!l.classList.contains("oj-choice-item"));l&&l.classList.contains("oj-helper-hidden")&&l.classList.contains("oj-choice-item")&&"SPAN"===l.tagName&&l.classList.remove("oj-helper-hidden"),n&&n.classList.contains("oj-helper-hidden")&&n.classList.remove("oj-helper-hidden"),o&&o.parentElement.classList.contains("oj-helper-hidden")&&o.parentElement.classList.remove("oj-helper-hidden")}}else(o=document.createElement("input")).setAttribute("type","checkbox"),o.setAttribute("value",n.value),o.setAttribute("id",a),o.setAttribute("tabindex",this._externalTabIndex),"LABEL"===n.parentElement.nodeName?((i=n.parentElement).parentElement.insertBefore(o,i),i.parentElement.removeAttribute("aria-readonly"),i.parentElement.classList.remove("oj-helper-hidden")):(t=document.createElement("span"),i=document.createElement("label"),t.setAttribute("class","oj-choice-item"),n.parentElement.insertBefore(t,n),t.appendChild(o),t.appendChild(i),i.appendChild(n)),i.setAttribute("for",a),n.textContent&&""!==n.textContent||i.classList.add("oj-helper-hidden"),n.classList.remove("oj-helper-hidden");var u=this.element[0].id,d=n.getAttribute("aria-label"),c=n.getAttribute("aria-labelledby"),h=i.querySelector("span[data-oj-internal]");h&&h.parentElement.removeChild(h),o.setAttribute("data-oj-option-id",r),u&&""!==u?o.setAttribute("name",u):o.removeAttribute("name"),d&&""!==d?o.setAttribute("aria-label",d):o.removeAttribute("aria-label"),c&&""!==c?o.setAttribute("aria-labelledby",c):o.removeAttribute("aria-labelledby"),n.disabled?o.setAttribute("disabled",!0):o.removeAttribute("disabled")},_initReadonlyLabelFromOjOption:function(e,t,i){function n(e,t){var i=e.querySelector("span[data-oj-internal]");if(t&&!i){var n=o.getTranslatedString("oj-converter.plural-separator");(i=document.createElement("span")).setAttribute("data-oj-internal",""),i.textContent=n,e.appendChild(i)}else!t&&i&&i.parentElement.removeChild(i)}var r=document.createElement("label"),a=e,l=this.element.hasClass("oj-choice-direction-row"),u=l&&!i;if(t){s(a).uniqueId();var d=a.getAttribute("id")+"|cb",c=document.getElementById(d);if(null!==c){c.parentElement.classList.add("oj-helper-hidden");var h=c.parentElement.nextElementSibling;null!==h&&(r.appendChild(a),c.classList.contains("oj-checkbox")&&s(c)._ojRadioCheckbox("destroy"),t.removeChild(h.previousSibling),t.removeChild(h),t.appendChild(r))}t.classList.remove("oj-helper-hidden"),t.setAttribute("aria-readonly",!0),n(a.parentElement,u)}else{e.classList.remove("oj-helper-hidden");var p=document.createElement("span");a.parentElement.insertBefore(p,a),p.setAttribute("class","oj-choice-item"),r.appendChild(a),n(r,u),l||r.setAttribute("class","oj-checkbox-label"),p.appendChild(r),p.setAttribute("aria-readonly",!0)}},_customOptionRenderer:function(e){var t=e,i=t.getAttribute("id")+"|cb",n=document.getElementById(i);null!==n&&n.classList.contains("oj-checkbox")&&s(n)._ojRadioCheckbox("option","disabled",t.disabled)},_labelledByUpdatedForSet:l._labelledByUpdatedForSet,_findCheckboxesWithMatchingName:function(){var e,t,i=this.element.find("input[type=checkbox]:first");return 0===i.length&&a.warn("Could not find any input type=checkbox within this element"),void 0===(e=i.attr("name"))?this.element.find("input[type=checkbox]").not("[name]"):(t='input[type=checkbox][name="'+e+'"]',this.element.find(t))},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find("input[type=checkbox]:tabbable").first();this._OpenContextMenu(t,i,{launcher:n})},_GetMessagingLauncherElement:function(){return this.widget()},_setup:function(){this._propagateDisabled(this.options.disabled),null!==this.$checkboxes&&(1===this.$checkboxes.length?this.element.addClass("oj-checkboxset-single"):this.element.removeClass("oj-checkboxset-single")),this.options.readOnly?this.element.addClass("oj-read-only"):this.element.removeClass("oj-read-only"),this.element.hasClass("oj-choice-direction-column")||this.element.hasClass("oj-choice-direction-row")||this.element.addClass("oj-choice-direction-column"),this._refreshRequired(this.options.required);var e=this.widget();this._labelledByUpdatedForSet(e[0].id,null,this.options.labelledBy,e)},_events:{change:function(e){this._HandleChangeEvent(e)},"click .oj-choice-item":function(e){this.widget()[0].classList.contains("oj-choice-direction-row")||"INPUT"===e.target.tagName||s(e.target).find("input").click()}},_checkValueType:function(e){null==e?this.option("value",[],{_context:{writeback:!0,internalSet:!0}}t on JET Checkboxset: "+e+".It must be an Array. ")},_HandleChangeEvent:function(e){var t,i;(i=this.$checkboxes).length>0&&i.each(function(){this===e.target&&s(this)._ojRadioCheckbox("setSelectedClass",e.target.checked)}),t=this._GetDisplayValue(),this._SetValue(t,e,d)},_GetDisplayValue:function(e){return this._GetElementValue()},_SetDisplayValue:function(e){var t,i,n,r,a=this.$checkboxes.length;if(this._checkValueType(e),null==e||0===e.length)this.$checkboxes._ojRadioCheckbox("option","checked",!1);else for(t=0;t<a;t++){n=this.$checkboxes[t],r=s(n),i=this._GetOptionValue(n);var o=this._GetOptionIndex(e,i),l=r._ojRadioCheckbox("option","checked");-1!==o?l||r._ojRadioCheckbox("option","checked",!0):l&&r._ojRadioCheckbox("option","checked",!1)}},_GetElementValue:function(){var e=this,t=[],i=this.$checkbox:(i.each(function(){t.push(e._GetOptionValue(this))}),t)},_GetOptionIndex:function(e,t){var i,n=e.indexOf(t);if(-1===n){i=e.length;for(var s=0;s<i;s++)if(r.Object.compareValues(e[s],t)){n=s;break}}return n},_GetOptionValue:function(e){var t,i;return this._IsCustomElement()?(t=document.getElementById(e.getAttribute("data-oj-option-id")))&&(i=t.value):i=e.value,i},_GetDefaultStyleClass:function(){return"oj-checkboxset"},_GetContentElement:function(){return null!=this.$checkboxes||(this.$checkboxes=this._findCheckboxesWithMatchingName()),this.$checkboxes},_AriaRequiredUnsupported:function(){return!0},_ShowHelpHintsLocation:function(){return"above"},_AfterSetOptionRequired:t.EditableValueUtils._AfterSetOptionRequired,_propagateDisabled:function(e){var t=!!e;this.$checkboxes.each(function(){s(this).data("oj-_ojRadioCheckbox").__setAncestorComponentDisabled(t)}),this.$checkboxes._ojRadioCheckbox("refreshDisabled")},_updateReadonlyState:function(){const e=this.element[0].querySelector(".oj-checkboxset-wrapper");if(this.options.readOnly)return e.setAttribute("tabindex",this._externalTabIndex),this.element.addClass("oj-read-only"),void this.element.removeAttr("role").removeAttr("aria-labelledby");e.removeAttribute("tabindex"),this.element.removeClass("oj-read-only"),this.element.attr("role","group"),this._labelledByUpdatedForSet(this.widget()[0].id,null,this.options.labelledBy,this.widget())},_setOption:function(e,t,i){var n=this.options.labelledBy;switch(this._super(e,t,i),e){case"disabled":this._propagateDisabled(t);break;case"readOnly":this.options.readOnly=!!t;var s=this.options.value;this._updateReadonlyState(),this._ResetComponentState(),null!=s&&this._SetDisplayValue(s);break;case"value":this._processOjOptions();break;case"labelledBy":var a=this.widget();this._labelledByUpdatedForSet(a[0].id,n,t,a);break;case"options":r.RadioCheckboxUtils.generateOptionsFromData.call(this);break;case"optionsKeys":case"optionRenderer":r.RadioCheckboxUtils.renderOptions.call(this)}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e)}},getNodeBySubId:function(e){var t,i,n=this._super(e);if(!n)switch(t=this.$checkboxes.get(),e.subId){case"oj-checkboxset-inputs":n=t;break;case"oj-checkboxset-checkbox":if(void 0!==(i=e.value)){var r,s,a=t.length,o=[];for(r=0;r<a;r++)o[r]=this._GetOptionValue(t[r]);-1!==(s=this._GetOptionIndex(o,i))&&(n=t[s])}}return n||null},getSubIdByNode:function(e){for(var t=this._GetContentElement()[0].parentElement.parentElement.parentElement,i=e;i&&i!==t;){if("LABEL"===i.nodeName&&(i=document.getElementById(i.for)),"INPUT"===i.nodeName)return{subId:"oj-checkboxset-checkbox",value:this._GetOptionValue(i)};i=i.parentElement}return this._super(e)},_destroy:function(){var e=this._super(),t=this.element[0].firstElementChild;return this.$checkboxes&&this.$checkboxes._ojRadioCheckbox("destroy"),s(t).contents().unwrap(),r.RadioCheckboxUtils.removeDataListener.call(this),e}})}),define("ojs/ojradioset",["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojeditablevalue","ojs/ojradiocheckbox","ojs/ojoption","ojs/ojdataprovider","ojs/ojcore-base","ojs/ojlogger","ojs/ojlabelledbyutils"],function(e,t,i,n,r,s,a,o,l,u){"use strict";var d,c;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,(d={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},optionRenderer:{type:"function"},options:{type:"object"},optionsKeys:{type:"object",properties:{label:{type:"string"},value:{type:"string"}}},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{readonlyNoValue:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojRadioset",d.extension._ALIASED_PROPS={readonly:"readOnly"},d.extension._TRACK_CHILDREN="immediate",o.CustomElementBridge.register("oj-radioset",{metadata:o.CollectionUtils.mergeDeep(d,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),c={doValueChangeCheck:!1},o.__registerWidget("oj.ojRadioset",t.oj.editableValue,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",_WRAPPER_CLASS_NAMES:"oj-radioset-wrapper oj-form-control-container",options:{disabled:!1,readOnly:!1,labelledBy:null,optionRenderer:null,options:nd 0},refresh:function(){this._super(),this._setup()},widget:function(){return this.uiRadioset},validate:n.EditableValueUtils.validate,_InitOptions:function(e,t){var i,r;this._super(e,t),this._IsCustomElement()||(n.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],t,this),void 0===t.value&&(this.$radios=this._findRadiosWithMatchingName(),void 0!==(r=0===(i=this.$radios.filter(":checked")).length?void 0:i.val())&&this.option("value",r,{_context:{writeback:!0,internalSet:!0}}),void 0===this.options.value&&(this.options.value=null)))},_ComponentCreate:function(){const e=this.element;if(this._super(),e.uniqueId(),this._externalTabIndex=this.element.attr("tabindex")||0,this.element.removeAttr("tabindex"),o.RadioCheckboxUtils.generateOptionsFromData.call(this),this._processOjOptions(),this.$radios=this._findRadiosWithMatchingName(),e.is("fieldset"))throw new Error("ojRadioset cannot be bound to a fieldset. Use a div instead.");this.$radios._ojRadioCheckbox().attr("data-oj-internal",""),this.uiRadioset=e.addClass("oj-radioset oj-component").attr("role","radiogroup");const t=e.contents().filter(function(){return!(this.getAttribute&&"contextMenu"===this.getAttribute("slot"))});t.length>0?t.wrapAll(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`):e.append(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`),this._updateReadonlyState(),this._on(this._events),this._setup()},_ResetComponentState:function(){this._processOjOptions(),this.$radios=this._findRadiosWithMatchingName(),this.$radios.filter(".oj-radio").each(function(){var e=void 0!==t(this).attr("disabled")&&!!t(this).prop("disabled");t(this)._ojRadioCheckbox("option","disabled",e)}),this.$radios.not(".oj-radio")._ojRadioCheckbox()},GetFocusElement:function(){if(!0===this.options.readOnly){const e=this._GetReadonlyFocusElement();if(e)return e}const e=this._GetContentElement().not(":disabled").filter(":checked")[0];return e||this._GetContentElement().not(":disabled").first()[0]},_GetReadonlyFocusElement:function(){return this.widget()[0].querySelector(".oj-form-control-container")},_IsRequired:function(){return this.options.required},_SetDisabledDom:function(e){},_refreshRequired:n.EditableValueUtils._refreshRequired,_processOjOptions:function(){if(this._IsCustomElement()){var e,t,i=this._customOptionRenderer.bind(this),n=this.element[0],r=n.querySelector(".oj-radioset-wrapper"),s=this.options.value;r||(r=n);var a=n.querySelector("[data-no-value-span]");if(a)(s&&""!==s||!this.options.readOnly)&&a.parentElement.removeChild(a);else if((!s||""===s)&&this.options.readOnly){var o=document.createElement("span");o.setAttribute("data-no-value-span",""),o.setAttribute("class","oj-choice-item");var l=this.getTranslatedString("readonlyNoValue");null!==l&&(o.textContent=l),r.appendChild(o)}var u=this.element.children("oj-option").add(this.element.children(".oj-radioset-wrapper").find("oj-option"));for(e=0,t=u.length;e<t;e++)u[e].customOptionRenderer=i,this.options.readOnly?this._processReadonlyOptions(u[e]):this._initInputLabelFromOjOption(u[e])}},_processReadonlyOptions:function(e){const i=this.options.value,n=e.value,r=this.element.get(0),s=t(e).parentsUntil(r,"span.oj-choice-item").get(0);null==s?e.classList.add("oj-helper-hidden"):s.classList.add("oj-helper-hidden"),i===n&&(e.classList.remove("oj-helper-hidden"),this._initReadonlyLabelFromOjOption(e,s))},_initInputLabelFromOjOption:function(e){var i,n,r=e;t(r).uniqueId();var s=r.getAttribute("id"),a=s+"|rb",o=document.getElementById(a);if(null!==o){var l=r;do{l=l.parentElement}while(l&&!l.classList.contains("oj-choice-item"));l&&l.classList.contains("oj-helper-hidden")&&l.classList.contains("oj-choice-item")&&"SPAN"===l.tagName&&l.classList.remove("oj-helper-hidden"),r&&r.classList.contains("oj-helper-hidden")&&r.classList.remove("oj-helper-hidden"),o&&o.parentElement.classList.contains("oj-helper-hidden")&&o.parentElement.classList.remove("oj-helper-hidden")}else(o=document.createElement("input")).setAttribute("type","radio"),o.setAttribute("value",r.value),o.setAttribute("id",a),o.setAttribute("tabindex",this._externalTabIndex),"LABEL"===r.parentElement.nodeName?((n=r.parentElement).setAttribute("for",a),n.parentElement.insertBefore(o,n),n.parentElement.classList.remove("oj-helper-hidden")):((n=document.createElement("label")).setAttribute("for",a),(i=document.createElement("span")).setAttribute("class","oj-choice-item"),r.parentElement.insertBefore(i,r),i.appendChild(o),i.appendChild(n),n.appendChild(r)),r.classList.remove("oj-helper-hidden");var u=this.element[0].id,d=r.getAttribute("aria-label"),c=r.getAttribute("aria-labelledby");o.setAttribute("data-oj-option-id",s),u&&""!==u&&o.setAttribute("name",u),d&&""!==d?o.setAttribute("aria-label",d):o.removeAttribute("aria-label"),c&&""!==c?o.setAttribute("aria-labelledby",c):o.removeAttribute("aria-labelledby"),r.disabled?o.setAttribute("disabled",!0):o.removeAttribute("disabled")},_initReadonlyLabelFromOjOption:function(e,i){var n,r,s=e;if(i){t(s).uniqueId();var a=s.getAttribute("id")+"|rb",o=document.getElementById(a);null!==o&&o.parentElement.classList.add("oj-helper-hidden"),i.classList.remove("oj-helper-hidden")}else n=document.createElement("span"),r=document.createElement("label"),n.setAttribute("class","oj-choice-item"),s.parentElement.insertBefore(n,s),r.appendChild(s),n.appendChild(r)},_customOptionRenderer:function(e){var i=e,n=i.getAttribute("id")+"|rb",r=document.getElementById(n);null!==r&&r.classList.contains("oj-radio")&&t(r)._ojRadioCheckbox("option","disabled",i.disabled)},_labelledByUpdatedForSet:u._labelledByUpdatedForSet,_findRadiosWithMatchingName:function(){var e,t,i=this.element,n=i.find("input[type=radio]:first");return 0===n.length&&l.warn("Could not find any input type=radio within this element"),void 0===(e=n.attr("name"))?i.find("input[type=radio]").not("[name]"):(t='input[type=radio][name="'+e+'"]',i.find(t))},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find("input[type=radio]"),r=n.filter(":checked"),s=r.length?r:n.filter(":enabled").first();this._OpenContextMenu(t,i,{launcher:s})},_GetMessagingLauncherElement:function(){return this.widget()},_setup:function(){this._propagateDisabled(this.options.disabled),this.element.hasClass("oj-choice-direction-column")||this.element.hasClass("oj-choice-direction-row")||this.element.addClass("oj-choice-direction-column"),this.options.readOnly?this.element.addClass("oj-read-only"):this.element.removeClass("oj-read-only"),this._refreshRequired(this.options.required);var e=this.widget();this._labelledByUpdatedForSet(e[0].id,null,this.options.labelledBy,e)},_events:{change:function(e){this._HandleChangeEvent(e)},"click .oj-choice-item":function(e){this.widget()[0].classList.contains("oj-choice-direction-row")||"INPUT"===e.target.tagName||t(e.target).find("input").click()}},_HandleChangeEvent:function(e){var t=this._GetDilayValue:function(e){return this._GetElementValue()},_SetDisplayValue:function(e){var i,n,r=this.$radios.length,s=-1,a=this.$radios.get(),l=[];for(i=0;i<r;i++)if(l[i]=this._GetOptionValue(a[i]),l[i]===e){s=i;break}if(-1===s)for(i=0;i<r;i++)if(o.Object.compareValues(l[i],e)){s=i;break}for(i=0;i<r;i++){var u=(n=t(this.$radios[i]))._ojRadioCheckbox("option","checked");i===s?u||n._ojRadioCheckbox("option","checked",!0):u&&n._ojRadioCheckbox("option","checked",!1)}},_GetElementValue:function(){var e=this.$radios.filter(":checked");return 0===e.length?null:this._GetOptionValue(e[0])},_GetOptionValue:function(e){var t,i;return this._IsCustomElement()?(t=document.getElementById(e.getAttribute("data-oj-option-id")))&&(i=t.value):i=e.value,i},_GetDefaultStyleClasos=this._findRadiosWithMaadios},_AriaRequiredUnsupported:function(){return!0},_ShowHelpHintsLocation:function(){return"above"},_AfterSetOptionRequired:n.EditableValueUtils._AfterSetOptionRequired,_propaojRadioCheckbox").__setAncestorComponentDisabled(i)}),this.$radios._ojRadioCheckbox("refreshDisabled")},_updateReadonlyState:function(){const e=this.element[0].querySelector(".oj-radioset-wrapper");if(this.options.readOnly)return e.setAttribute("tabindex",this._externalTabIndex),e.setAttribute("aria-readonly","true"),this.element.addClass("oj-read-only"),void this.element.removeAttr("role").removeAttr("aria-labelledby");e.removeAttribute("tabindex"),e.removeAttribute("aria-readonly"),this.element.removeClass("oj-read-only"),this.element.attr("role","radiogroup"),this._labelledByUpdatedForSet(this.widget()[0].id,null,this.options.labelledBy,this.widget())},_setOption:function(e,t,i){var n=this.options.labelledBy;switch(this._super(e,t,i),e){case"disabled":this._propagateDisabled(t);break;case"readOnly":var r=this.options.value;this._updateReadonlyState(),this._ResetComponentState(),null!=r&&this._SetDisplayValue(r);break;case"value":this._processOjOptions();break;case"labelledBy":var s=this.widget();this._labelledByUpdatedForSet(s[0].id,n,t,s);break;case"options":o.RadioCheckboxUtils.generateOptionsFromData.call(this);break;case"optionsKeys":case"optionRenderer":o.RadioCheckboxUtils.renderOptions.call(this)}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e)}},getNodeBySubId:function(e){var t,i,n,r=this._super(e);if(!r)switch(t=this.$radios.get(),e.subId){case"oj-radioset-inputs":r=t;break;case"oj-radioset-radio":if(void 0!==(i=e.value)){var s=t.length,a=-1,l=[];for(n=0;n<s;n++)if(l[n]=this._GetOptionValue(t[n]),l[n]===i){a=n;break}if(-1===a)for(n=0;n<s;n++)if(o.Object.compareValues(l[n],i)){a=n;break}-1!==a&&(r=t[a])}}return r||null},getSubIdByNode:function(e){for(var t=this._GetContentElement()[0].parentElement.parentElement.parentElement,i=e;i&&i!==t;){if("LABEL"===i.nodeName&&(i=document.getElementById(i.for)),"INPUT"===i.nodeName)return{subId:"oj-radioset-radio",value:this._GetOptionValue(i)};i=i.parentElement}return this._super(e)},_destroy:function(){var e=this._super(),i=this.element[0].firstElementChild;return this.$radios&&this.$radios._ojRadioCheckbox("destroy"),t(i).contents().unwrap(),o.RadioCheckboxUtils.removeDataListener.call(this),e}})}),define("ojs/ojconverter-color",["ojs/ojcore-base","ojs/ojtranslation","ojs/ojconverter","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const r=function(e){this.Init(e)};return e.Object.createSubclass(r,i,"oj.ColorConverter"),r.prototype.Init=function(e){(e=e||{}).format=e.format||"rgb",r.superclass.Init.call(this,e)},r.prototype.format=function(e){var t=this._getFormat(),i=null;return"rgb"===t?i=e.toString():"hsl"===t?i=r._toHslString(e):"hex"===t?i=r._toHexString(e):"hex3"===t?i=r._toHexString(e,!0):"hsv"===t?i=r._toHsvString(e):r._throwInvalidColorFormatOption(),i||r.superclass.format.call(this,e)},r.prototype.parse=function(t){try{return new e.Color(t)}catch(e){throw r._throwInvalidColorSyntax()}},r.prototype.getHint=function(){rOptions=function(){retuunction(){return r.superclass.getOptions.call(this)},r.prototype._getFormat=function(){return r.sup._toHexString=function(e,t){return"#"+r._toHex(e,t)},r._toHslString=function(e){var t=r._rgbToHsl(e._r,e._g,e._b),i=Math.round(360*t.h),n=Math.round(100*t.s),s=Math.round(100*t.l);return 1===e._a?"hsl("+i+", "+n+"%, "+s+"%)":"hsla("+i+", "+n+"%, "+s+"%, "+e._a+")"},r._toHex=function(e,t){return r._rgbToHex(e._r,e._g,e._b,t)},r._toHsvString=function(e){var t=r._rgbToHsv(e._r,e._g,e._b),i=Math.round(360*t.h),n=Math.round(100*t.s),s=Math.round(100*t.v);return 1===e._a?"hsv("+i+", "+n+"%, "+s+"%)":"hsva("+i+", "+n+"%, "+s+"%, "+e._a+")"},r._rgbToHex=function(e,t,i,n){var s=[r._pad2(Math.round(e).toString(16)),r._pad2(Math.round(t).toString(16)),r._pad2(Math.round(i).toString(16))];return n&&s[0].charAt(0)===s[0].charAt(1)&&s[1].charAt(0)===s[1].charAt(1)&&s[2].charAt(0)===s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")},r._rgbToHsl=function(e,t,i){e=r._bound01(e,255),t=r._bound01(t,255),i=r._bound01(i,255);var n,s,a=Math.max(e,t,i),o=Math.min(e,t,i),l=(a+o)/2;if(a===o)n=0,s=0;else{var u=a-o;switch(s=l>.5?u/(2-a-o):u/(a+o),a){case e:n=(t-i)/u+(t<i?6:0);break;case t:n=(i-e)/u+2;break;case i:n=(e-t)/u+4}n/=6}return{h:n,s:s,l:l}},r._rgbToHsv=function(e,t,i){e=r._bound01(e,255),t=r._bound01(t,255),i=r._bound01(i,255);var n,s=Math.max(e,t,i),a=Math.min(e,t,i),o=s,l=s-a,u=0===s?0:l/s;if(s===a)n=0;else{switch(s){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:u,v:o}},r._bound01=function(e,t){r._isOnePointZero(e)&&(e="100%");var i=r._isPercentage(e);return e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)},r._isOnePointZero=function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)},r._isPercentage=function(e){return"string"==typeof e&&-1!==e.indexOf("%")},r._pad2=function(e){return 1===e.length?"0"+e:""+e},r._throwInvalidColorSyntax=function(){var e=t.getTranslatedString("oj-converter.color.invalidSyntax.summary"),i=t.getTranslatedString("oj-converter.color.invalidSyntax.detail");throw new n.ConverterError(e,i)},r._throwInvalidColorFormatOption=function(){var e=t.getTranslatedString("oj-converter.color.invalidFormat.summary"),i=t.getTranslatedString("oj-converter.color.invalidFormat.detail");throw new n.ConverterError(e,i)},r}),define("ojs/ojvalidator-length",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(e,t,i,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.ault")?i.default:i;const r=function(e){this.Init(e)};return r.defaults={countBy:"codeUnit"},e.Object.createSubclass(r,i,"oj.LengthValidator"),r.prototype.Init=function(e){var t=e.countBy;if(r.superclass.Init.call(this),this._min=void 0!==e.min?parseInt(e.min,10):null,this._max=void 0!==e.max?parseInt(e.max,10):null,isNaN(this._min))throw new Error("length validator's min option is not a number. min option is "+e.min);if(isNaN(this._max))throw new Error("length validator's max option is not a number. max option is "+e.min);if(null!==this._min&&this._min<0)throw new Error("length validator's min option cannot be less than 0. min option is "+e.min);if(null!==this._max&&this._max<1)throw new Error("length validator's max option cannot be less than 1. max option is "+e.max);this._countBy=void 0===t?r.defaults.countBy:t,e&&(this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},r.prototype.getHint=function(){var e,i=null,n=this._hint,r=n.exact,s=n.inRange,a=n.max,o=n.min,l=this._max,u=this._min,d=t;return null!==u&&null!==l?u!==l?(e={min:u,max:l},i=s?d.applyParameters(s,e):d.getTranslatedString("oj-validator.length.hint.inRange",e)):(e={length:u},i=r?d.applyParameters(r,e):d.getTranslatedString("oj-validator.length.hint.exact",e)):null!==u?(e={min:u},i=o?d.applyParameters(o,e):d.getTranslatedString("oj-validator.length.hint.min",e)):null!==l&&(e={max:l},i=a?d.applyParameters(a,e):d.getTranslatedString("oj-validator.length.hint.max",e)),i},r.prototype.validate=function(e){var i,r=this._customMessageDetail,s=this._customMessageSummary,a="",o=this._max,l=s.tooLong,u=s.tooShort,d=r.tooLong,c=r.tooShort,h=this._min,p="",_=t,m=""+e,f=this._getLength(m);if(!(null===h||f>=this._min)||!(null===o||f<=this._max))throw f<this._min?(i={value:e,min:h},p=u?_.applyParameters(u,i):_.getTranslatedString("oj-validator.length.messageSummary.tooShort"),a=c?_.applyParameters(c,i):_.getTranslatedString("oj-validator.length.messageDetail.tooShort",i)):(i={value:e,max:o},p=l?_.applyParameters(l,i):_.getTranslatedString("oj-validator.length.messageSummary.tooLong"),a=d?_.applyParameters(d,i):_.getTranslatedString("oj-validator.length.messageDetail.tooLong",i)),new n.ValidatorError(p,a)},r.prototype._getLength=function(t){var i,n=this._countBy.toLowerCase(),r=t.length,s=0;switch(n){case"codepoint":for(var a=0;a<r;a++)55296==(63488&t.charCodeAt(a))&&(s+=1);e.Assert.assert(s%2==0,"the number of surrogate chars must be an even number."),i=r-s/2;break;case"codeunit":default:i=r}return i},r}),define("ojs/ojvalidationfactory-base",["ojs/ojcore","ojs/ojlogger","ojs/ojconverter-color","ojs/ojvalidator-length","ojs/ojvalidator-regexp","ojs/ojvalidator-required"],function(e,t,i,n,r,s){"use strict";var a={_converterFactories:{},_validatorFactories:{},_defaultConverterFactories:{},_defaultValidatorFactories:{},converterFactory:function(e,i){var n;if(e&&!i){if(null===(n=a._getFactory(e,a._converterFactories))){let i=e.toLowerCase(),n="Converter of type "+e+" cannot be found.";switch(i){case"datetime":t.error(n+" Please import the ojs/ojvalidation-datetime module.");break;case"number":t.error(n+" Please import the ojs/ojvalidation-number module.");break;default:t.warn(n)}}}else e&&i&&(n=a._registerFactory(e,i,a._converterFactories,a._CONTRACTS.converter),t.error("Registering a custom type or overriding the standard types is no longer supported. Please directly set the converter on the component. Please consult the Release Notes for further information."));return n},validatorFactory:function(e,i){var n;if(e&&!i){if(null===(n=a._getFactory(e,a._validatorFactories))){var r=e.toLowerCase(),s="Unable to locate a validatorFactory for the requested type: "+e;switch(r){case"daterestriction":case"datetimerange":t.error(s+". Please import the ojs/ojvalidation-datetime module.");break;case"numberrange":t.error(s+". Please import the ojs/ojvalidation-number module.");break;default:t.warn(s)}}}else e&&i&&(n=a._registerFactory(e,i,a._validatorFactories,a._CONTRACTS.validator),t.error("Registering a custom type or overriding the standard types is no longer supported. Please directly set the converter on the component. Please consult the Release Notes for further information."));return n},getDefaultConverterFactory:function(e){return a._getFactory(e,a._deeturn a._getFactory(e,a._defaultValidatorFactories)},__registerDefaultConverterFactory:function(e,t){var i=a._CONTRACTS.converter;a._registerFactory(e,t,a._defaultConverterFactories,i),a._registerFactory(e,t,a._converterFactories,i)},__registerDefaultValidatorFactory:function(e,t){var i=a._CONTRACTS.validator;a._registerFactory(e,t,a._defaultValidatorFactories,i),a._registerFactory(e,t,a._validatorFactories,i)},_doImplementsCheck:function(e,t,i){if(t&&!a._quacksLike(e,t))throw new Error("Factory instance does not implement the methods expected by the factory of type "+i)},_getFactory:function(t,i){e.Assert.assertString(t);return(i[t.toLowerCase()]||{}).instance||null},_quacksLike:function(t,i){var n=!0;e.Assert.assertObject(t),e.Assert.assertObject(i);for(var r=Object.keys(i),s=0;s<r.length;s++){var a=r[s];if("function"==typeof i[a]&&(!t[a]||"function"!=typeof t[a])){n=!1;break}}return n},_registerFactory:function(t,i,n,r){e.Assert.assertString(t),e.Assert.assertObject(i);var s={};s.instance=i,a._doImplementsCheck(i,r.type,r.name),n[t.toLowerCase()]=s}},o={CONVERTER_TYPE_NUMBER:"number",CONVERTER_TYPE_DATETIME:"datetime",CONVERTER_TYPE_COLOR:"color",createConverter:function(e){}},l={VALIDATOR_TYPE_REQUIRED:"required",VALIDATOR_TYPE_REGEXP:"regexp",VALIDATOR_TYPE_NUMBERRANGE:"numberRange",VALIDATOR_TYPE_LENGTH:"length",VALIDATOR_TYPE_DATETIMERANGE:"dateTimeRange",VALIDATOR_TYTION:"dateRestriction",createValidator:function(e){}};a._CONTRACTS={converter:{name:"oj.ConverterFactory",type:o},validator:{name:"oj.ValidatorFactory",type:l}};var u={createConverter:function(e){return function(e){return new i(e)}(e)}};a.__registerDefaultConverterFactory(o.CONVERTER_TYPE_COLOR,u);var d={createValidator:function(e){return function(e){return new s(e)}(e)}};a.__registerDefaultValidatorFactory(l.VALIDATOR_TYPE_REQUIRED,d);var c={createValidator:function(e){return function(e){return new r(e)}(e)}};a.__registerDefaultValidatorFactory(l.VALIDATOR_TYPE_REGEXP,c);var h={createValidator:function(e){return function(e){return new n(e)}(e)}};a.__registerDefaultValidatorFactory(l.VALIDATOR_TYPE_LENGTH,h);var p={};return p.Validation=a,p.ValidatorFactory=l,p.ConverterFactory=o,p}),define("ojs/ojvalidation-base",["ojs/ojcore","jquery","ojs/ojtranslation","ojs/ojmessaging","ojs/ojlocaledata","ojs/ojlogger","ojs/ojconverterutils-i18n","ojs/ojconverter","ojs/ojvalidator","ojs/ojvalidationfactory-base","ojs/ojconverter-color","ojs/ojvalidator-length","ojs/ojvalidator-regexp","ojs/ojvalidator-required","ojs/ojvalidation-error","ojs/ojvalidator-async"],function(e,t,i,n,r,s,a,o,l,u,d,c,h,p){"use strict";e.ColorConverter=d,e.LengthValidator=c,e.RegExpValidator=h,e.RequiredValidator=p,e.IntlConverterUtils=a.IntlConverterUtils,e.OraI18nUtils=a.OraI18nUtils,e.Converter=o,e.Validator=l,e.Validation=u.Validation,e.ValidatorFactory=u.ValidatorFactory,e.ConverterFactory=u.ConverterFactory;var _={};return _.ColorConverter=e.ColorConverter,_.IntlConverterUtils=e.IntlConverterUtils,_.LengthValidator=e.LengthValidator,_.RegExpValidator=e.RegExpValidator,_.RequiredValidator=e.RequiredValidator,_.Validation=e.Validation,_}),define("ojs/ojvalidationfactory-number",["ojs/ojcore","ojs/ojvalidationfactory-base","ojs/ojconverter-number","ojs/ojvalidator-numberrange"],function(e,t,i,n){"uurn function(e){return new i.IntlNumberConverter(e)}(e)}};t.Validation.__registerDefaultConverterFactory(t.ConverterFac:function(e){return function(e){return new n(e)}(e)}};t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE,s);var a={};return a.NumberConverterFactory=r,a.NumberRangeValidatorFactory=s,a}),define("ojs/ojvalidation-number",["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojtranslation","ojL10n!ojtranslations/nls/localeElements","ojs/ojlocaledata","ojs/ojvalidation-base","ojs/ojlogger","ojs/ojvalidator-numberrange","ojs/ojconverter-number","ojs/ojvalidationfactory-number"],function(e,t,i,n,r,s,a,o,l,u,d){"use strict";e.NumberRangeValidator=l,e.NumberConverter=u.NumberConverter,e.IntlNumberConverter=u.IntlNumberConverter,e.NumberConverterFactory=d.NumberConverterFactory,e.NumberRangeValidatorFactory=d.NumberRangeValidatorFactory;var c={};return c.NumberConverter=e.NumberConverter,c.NumberRangeValidator=e.NumberRangeValidator,c.IntlNumberConverter=e.IntlNumberConverter,c}),define("ojs/ojvalidationgroup",["ojs/ojcore-base","ojs/ojcustomelement-utils","ojs/ojcontext","ojs/ojlogger","ojs/ojcomponentcore"],function(e,t,i,n,r){"use strict";function s(e){var s,a=this,o=e.element,l=[];function u(){l=[],function e(t){var i,n=[],r=t.childNodes,s=r.length;for(i=0;i<s;i++){var a=r[i];m(a)?l.push(a):n.push(a)}for(s=n.length,i=0;i<s;i++)e(n[i])}(o),e.props.valid=_();for(var t=l.length,i=0;i<t;i++)d(l[i])}function d(e){e.addEventListener("validChanged",h.bind(this)),e.addEventListener("disabledChanged",p.bind(this)readonlyChanged",p)}function h(){e.props.valid=_()}function p(t){var i=t.target,n=i.valid,r=!(i.readonly||i.disabled);"valid"===n||(e.props.valid=r&&"invalidShown"===n?"invalidShown":_())}function _(){for(var e="valid",t=l.length,i=0;i<t&&"invalidShown"!==e;i++){var n=l[i];if(b(n)){var r=n.valid,s=n.disabled,a=n.readonly;s||a||("invalidShown"===r?e="invalidShown":"invalidHidden"===r?e="invalidHidden":"pending"===r&&"valid"===e&&(e="pending"))}}return e}function m(e){if(1===e.nodeType&&-1!==e.tagName.indexOf("-")&&"valid"in e&&(b(e)&&void 0!==e.valid))return!0;return!1}function f(e,t){var i=t.length;if(m(e))return!0;for(var n=0;n<i;n++)if(m(t[n]))return!0;return!1}function g(e){var t=l.length;if(1!==e.nodeType)return!1;for(var i=0;i<t;i++){if(l[i].contains(e))return!0}return!1}function v(e){for(var t=l.length,i=0;i<e.length;i++){var n=e[i];if(1===n.nodeType){if(-1!==l.indexOf(n))return!0;for(var r=0;r<t;r++)if(n.contains(l[r]))return!0}}return!1}function b(e){var i,n=t.CustomElementUtils.getElementBridge(e);if(!n)return!0;var s=n._WIDGET_ELEM;return void 0!==s&&(i=r.__GetWidgetConstructor(s)),!(void 0!==s&&!i)}a._rootElementMutationObserver=new MutationObserver(function(e){if(document.body.contains(o)){for(var t=e.length,i=!1,n=0;n<t&&!i;n++){var r=e[n],s=r.target,a=r.removedNodes,l=r.addedNodes;if(!(i=v(a))&&l.length>0)!g(s)&&f(s,l)&&(i=!0)}i&&(!function(e){for(var t=e.length,i=0;i<t;i++)for(var n=e[i],r=n.removedNodes.length,s=0;s<r;s++){var a=n.removedNodes[s];1===a.nodeType&&c(a)}}(e),u())}else this.disconnect()}),a.createDOM=function(){for(o.classList.add("oj-validation-group"),(s=document.createElement("div")).setAttribute("data-oj-context","");o.firstChild;)s.appendChild(o.firstChild);o.appendChild(s)},a.updateDOM=function(){var e=i.getContext(s).getBusyContext();let t=i.getContext(o).getBusyContext().addBusyState({description:`oj-validation-group#${o.id} initial valid state`});e.whenReady().then(function(){for(var e=l.length,t=0;t<e;t++)c(l[t]);u(),a._rootElementMutationObserver.observe(o,{childList:!(t)},a.handlePropertyChanged=function(e,t){return!0},a.showMessages=function(){for(var e=0;e<l.length;e++){var t=l[e];t.disabled||t.readonly||"showMessages"in t&&t.showMessages()}},a.focusOn=function(e){var t=null,i=null;"@firstInvalidShown"===e?(i=function(){var e=[];if("invalidShown"!==o.valid)return null;for(var t=l.length,i=0;i<t;i++){var n=l[i];n.disabled||n.readonly||"invalidShown"===n.valid&ntPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),e[0]}())&&("focusOn"in i?i.focusOn("@firstInvalidShown"):i.focus()):void 0===e?(t=function(){for(var e=null,t=l.length,i=0;i<t;i++)if(!(e=l[i]).readonly&&!e.disabled)return e;return null}())&&("focusOn"in t?t.focusOn():t.focus()):n.info("focusOn's parameter value is not '@firstInvalidShown' or empty, so it's a no-op.")}}var a;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,(a={properties:{valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0}},methods:{focusOn:{},getProperty:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._CONSTRUCTOR=s,a.extension._TRACK_CHILDREN="nearestCustomElement",Object.freeze(a),e.CustomElementBridge.register("oj-validation-group",{metadata:a})}),define("ojs/ojasyncvalida strict";return class{constructor(e){this.options=e}validate(e){let t=this;if(!this._validator)return this._InitLoadingPromise(),this._loadingPromise.then(function(i){t._validator=new i.default(t.options);try{t._validator.validate(e)}catch(e){return Promise.reject(e)}return null});try{this._validator.validate(e)}catch(e){return Promise.reject(e)}return Promise.resolve(null)}_GetHint(){let e=this;return this._validator?Promise.resolve(e._validator.getHint()):(this._InitLoadingPromise(),this._loadingPromise.then(function(t){return e._validatos),e._validator.getHint()}))}_InitLoadingPromise(){}}}),define("ojs/ojasyncvalidator-length",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-length"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojasyncvalidator-numberrange",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-numberrange"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojasyncvalidator-regexp",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-regexp"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojasyncvalidator-required",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http,this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-required"],function(e){t(function(e){if(e&&e.__esModul.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojslider",["ojs/ojcore","ojs/ojeditablevalue","jqueryui-amd/widgets/draggable","ojs/ojtouchproxy","ojs/ojcore-base","jquery","ojs/ojtranslation","ojs/ojdomutils"],function(e,t,i,n,r,s,a,o){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},t={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number",value:100},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},step:{type:"number",value:1},transientValue:{type:"number",writeback:!0,readOnly:!0},translations:{type:"object",value:{},properties:{invalidStep:{type:"string"},maxMin:{type:"string"},noValue:{type:"string"},optionNum:{type:"string"},valueRange:{type:"string"}}},type:{type:"string",enumValues:["fromMax","fromMin","single"],value:"fromMin"},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"number",writeback:!0,value:0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};t.extension._WIDGET_NAME="ojSlider",t.extension._INNER_ELEM="input",r.CustomElementBridge.register("oj-slider",{metadata:r.CollectionUtils.mergeDeep(t,e)});var i={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"number",value:100},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"number",value:0},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},step:{type:"number",value:1},transientValue:{type:"object",writeback:!0,readOnly:!0,properties:{end:{type:"number"},start:{type:"number"}}},translations:{type:"object",value:{},properties:{higherValueThumb:{type:"string"},lowerValueThumb:{type:"string"},startEnd:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"object",writeback:!0,properties:{end:{type:"number"},start:{type:"number"}}}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojSlider",i.extension._INNER_ELEM="input",r.CustomElementBridge.register("oj-range-slider",{metadata:r.CollectionUtils.mergeDeep(i,e)})}();r.__registerWidget("oj.ojSlider",s.oj.editableValue,{defaultElement:"<input>",version:"1.0.1",widgetEventPrefix:"oj",options:{labelledBy:null,max:100,min:0,orientation:"horizontal",readOnly:!1,disabled:!1,step:1,type:"fromMin",value:0,rawValue:void 0},_numPages:5,_dTL:function(){return"rtl"===o.getReadingDirection()},_ComponentCreate:function(){if(this._super(),this._inputtag=!1,this.element.is("INPUT"))if(this._inputtag=!0,this.element[0].style&&(this._styleFromInputTag=this.element[0].style.cssText),this._inputElementOriginalDisplay=this.element[0].style.display,this.element[0].style.display="none",this.OuterWrapper)this._elementWrapped=s(this.OuterWrapper);else{var e=s(this.element).wrap("<div> </div>");this._elementWrapped=e.parent()}else this._elementWrapped=this.element;this._transientValueName=this._IsCustomElement()?"transientValue":"rawValue",this._componentCreateStyling(),this._componentSetup()},_SetRawValue:function(e,t){var i={_context:{originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0}};r.Object.compareValues(this.options[this._transientValueName],e)||this.option(this._transientValueName,e,i)},_componentCreateStyling:function(){this._elementWrapped[0].classList.add("oj-slider","oj-component","oj-form-control"),this._setOrientationStyles(!0)},_setOrientationStyles:function(e){var t=this._elementWrapped[0];this._isVertical()?(e||t.classList.remove("oj-slider-horizontal"),t.classList.add("oj-slider-vertical")):(e||t.classList.remove("oj-slider-vertical"),t.classList.add("oj-slider-horizontal"))},_componentSetup:function(){this._newMultiValue=[],this._thumbIndex=null,this._isCustomRangeSlider()&&(this.options.type="range","number"==typeof this.options.value&&(this.options.value={start:null,end:null})),"range"===this.options.type?this._multipleThumbs=!0:this._multipleThumbs=!1,this._calculateNewMax(),this._createSliderContainer(),this._createBarBackground(),this._buildValueOption(),this._createRange(),this._createThumbs(),this._updateUI(),this._setupEvents()},_copyLabelledbyToThumb:function(e){var t,i=this._elementWrapped.find(".oj-slider-thumb");if(this._isCustomRangeSlider()){var n=document.getElementById(e),r=n?n.textContent:"",o=a.getTranslatedString("oj-ojSlider.lowerValueThumb"),l=a.getTranslatedString("oj-ojSlider.higherValueThumb");i.attr("aria-label",r+" "+o),t=i[1],s(t).attr("aria-label",r+" "+l)}else i.attr("aria-labelledby",e),i.length>1&&(t=i[1],s(t).attr("aria-labelledby",String(e)))},_setAriaLabelToThumb:function(e){var t;if(this._isCustomRangeSlider()){var i=a.getTranslatedString("oj-ojSlider.lowerValueThumb"),n=a.getTranslatedString("oj-ojSlider.higherValueThumb");(t=this._elementWrapped.find(".oj-slider-thumb")).attr("aria-label",e+" "+i);var r=t[1];s(r).attr("aria-label",e+" "+n)}else(t=this.OuterWrapper.querySelector(".oj-slider._super(),this._makeDraggable(),this._setAriaInfo()},_setAriaInfo:function(){var e,i,n;if(this.OuterWrapper){if(this.options.labelledBy){var r=this.uuid+"_Label";n=t.EditableValueUtils._getOjLabelAriaLabelledBy(this.options.labelledBy,r),this._copyLabelledbyToThumb(n)}this.options.labelledBy&&!document.getElementById(this.options.labelledBy)||(e=this.OuterWrapper.getAttribute("aria-label"))&&this._setAriaLabelToThumb(e)}else if(i=this._GetLabelElementLocal()){var s=i.attr("id");s||(s=i.attr("for")),s.length>0&&this._copyLabelledbyToThumb(s)}else(e=this.element.attr("aria-label"))&&this._elementWrapped.find(".oj-slider-thumb").attr("aria-label",e)},_GetLabelElementLocal:function(){var e=this._getAriaLabelledByElementLocal();return null!==e&&0!==e.length||null!==(e=this._getAriaLabelForElementLocal())&&0!==e.length?e:null},_getAriaLabelForElementLocal:function(){var e;if(void 0!==(e=this.element.prop("id"))){var t=s("label[for='"+e+"']");if(t.length>0)return t;var i="span[for='"+e+"']";if(0!==s(i).length)return s(i)}return null},_getAriaLabelledByElementLocal:function(){var e=this.element.attr("aria-labelledby");if(void 0===e&&this.OuterWrapper){var t=this._elementWrapped.attr("aria-labelledby");if(t&&null!==document.getElementById(t))return s(document.getElementById(t))}if(void 0!==e){var i=s("label[id='"+e+"']");if(i.length>0)return i;var n=s("span[id='"+e+"']");if(n.length>0)return n}return null},widget:function(){return this._elementWrapped},_SetDisplayValue:function(e){this._sliderDisplayValue=e},_GetDisplayValue:function(){return this._sliderDisplayValue},_getElementId:function(){return this.OuterWrapper?(this._elementWrapped[0].id||this._elementWrapped.uniqueId(),this._elementWrapped[0].id):(this.element[0].id||this:function(e){return this._getElementId()+"-thumb"+e},_getBarValueId:function(){return this._getElementId()+"-barValue"},_getBarBackgroundId:function(){return tion(){return this._getElementId()+"-sliderWrapper"},_createThumbs:function(){var e,t,i="",n="class='oj-slider-thumb ui-state-default' tabindex='0' role='slider'aria-valuemin = '"+this._valueMin()+"' aria-valuemax = '"+this._valueMax()+"' ></span>",r=[];for(t=this._multipleThumbs?2:1,e=0;e<t;e++)i="<span id='"+this._getThumbId(e)+"' "+n,r.push(i);this._thumbs=s(r.join("")).appendTo(this._sliderContainer),this._thumb=this._thumbs.eq(0),this._refreshThumbOptions()},_refreshThumbOptions:function(){var e=this,t=0;this._thumbs.each(function(){s(this).data("oj-slider-thumb-index",t),t+=1,e._isVertical()&&s(this).attr("aria-orientation","vertical"),e.options.disabled?(s(this).attr("aria-disabled","true"),s(this).removeAttr("tabindex")):(s(this).removeAttr("aria-disabled"),s(this).attr("tabindex","0")),e.options.readOnly?s(this).attr("title","read only"):s(this).removeAttr("title")})},_createSliderContainer:function(){var e=this._getSliderWrapperId(),t=this._elementWrapped.find("#"+e);t.length&&t.remove(),this._sliderContainer=s("<div></div>"),s(this._sliderContainer).attr("id",e),this._sliderContainer.addClass("oj-slider-container").addClass("oj-form-control-container"),this.element.after(this._sliderContainer),this._sliderContainer[0].style.cssText=this._styleFromInputTag},_createBarBackground:function(){var e=this._getBarBackgroundId(),t=this._elementWrapped.find("#"+e);t.length&&t.remove(),this._barback=s("<div></div>"),s(this._barback).attr("id",e),this._barback.addClass("oj-slider-bar"),this._sliderContainer.append(this._barback),this._barback.on("mousedown"+this.eventNamespace,this._reposition.bind(this))},_reposition:function(e){this._repositionThumb(e),this._mouseStop(e),this._getActiveThumb().focus()},_buildValueOption:function(){var e=this.options;if(this._isCustomRangeSlider())null===e.value?this.options.value={start:this._valueMin(),end:this._valueMax()}:(null!==e.value.start&&void 0!==e.value.start||(this.options.value.start=this._valueMin()),null!==e.value.end&&void 0!==e.value.end||(this.options.value.end=this._valueMax()),this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}}));else if(e.type)if(null==this.options.value)this._multipleThumbs?this.options.value=[this._valueMin(),this._valueMax()]:this.options.value=this._valueMin(),this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}});else if(this._multipleThumbs){var t;2!==this.options.value.length&&(t=this.options.value.length>0?this.options.value[0]:this._valueMin(),this.options.value=[t,this._valueMax()],this.option("value",this.options.value,{_context:{writeback:!0,internalSet:!0}}))}},_createRange:function(){var e=this.options,t="";if(e.type){this._range=s("<div></div>"),s(this._range).attr("id",this._getBarValueId()),this._sliderContainer.append(this._range),t="oj-slider-range oj-slider-bar-value",this._range.on("mousedown"+this.eventNamespace,this._reposition.bind(this)),this._range=this._sliderContainer.find("#"+this._getBarValueId());var i="";"fromMin"===e.type?i=" oj-slider-range-min":"fromMax"===e.type&&(i=" oj-slider-range-max"),this._range.addClass(t+i)}else this._rangethis._touchProxh:function(e){r._TouchProxy.removeTouchListeners(e)},_registerResizeListener:function(e){this._resizeObserver=new ResizeObserver(this._makeDraggable.bind(this)),this._resizeObserver.observe(e)},_setupEvents:function(){this._registerResizeListener(this._elementWrapped[0]),this._CanSetValue()&&this._AddHoverable(this._elementWrapped),this._thumbs.toArray().forEach(function(e){var t=s(e);this._UnregisterChildNode(t),this._on(t,this._thumbEvents),this._setupTouch(t),this._focusable({element:t,applyHighlight:!0})},this)},_GetMessagingLauncherElement:function(){return this._elementWrapped},_GetContentElement:function(){return this._getActiveThumb()},_destroySliderDom:function(){this._resizeObserver.disconnect(),this._thumbs.toArray().forEach(function(e){var t=s(e);this._tearDownTouch(t)},this),this._destroyDraggable(),this._range&&this._range.remove(),this._sliderContainer&&this._sliderContainer.remove(),this.OuterWrapper?(this._elementWrapped.removeUniqueId(),this._RemoveHoverable(this._elementWrapped)):(this.element.removeUniqueId(),this._RemoveHoverable(this.element))},_unwrapSlider:function(){o.unwrap(this.element,this._elementWrapped),this.element[0].style.display=this._inputElementOriginalDisstroySliderDom(),this._unwrapSlider(),this._super()},_repositionThumb:function(e){var t,i,n,r=this.options,a=0,o=this;return this._closestThumb=this._thumb,!(r.disabled||r.readOnly||(t={x:e.pageX,y:e.pageY},i=this._getNormValueFromMouse(t),n=this._valueMax()-this._valueMin()+1,this._multipleThumbs&&this._thumbs.each(function(e){var t=Math.abs(i-o._getMultiValues(e));(n>t||n===t&&(e===o._lastChangedValueIndex||o._getMultiValues(e)===r.min))&&(n=t,this._closestThumb=s(this),a=e)}),this._thumbIndex=a,this._closestThumb&&(this._thumbs.hasClass("ui-state-hover")||this._slide(e,a,i),this._getActiveThumb().addClass("oj-active").focus(),this._range.addClass("oj-active"),0)))},_initDragging:function(e,t){var i=this.options;return!i.disabled&&!i.readOnly&&(t.removeClass("oj-focus-highlight"),t.addClass("oj-active").focus(),this._range.addClass("oj-active"),!0)},_mouseDragInternal:function(e,t){var i=this._getNormValueFromThumb(t);this._slide(e,this._thumbIndex,i,!0);var n=100*this._getFracFromThumb(t);return this._multipleThumbs?this._setRangeMultiThumb(n,this._thumbIndex):this._setRange(n),!1},_mouseStop:function(e,t){this._thumbs.removeClass("oj-active"),this._range.removeClass("oj-active");var i=this._getNormValueFromThumb(t);return this._slide(e,this._thumbIndex,i),this._change(e,this._ction(){return"vertical"===this.options.orientation},_getOrientationAdjustedFrac:function(e){var t=e;return t>1&&(t=1),t<0&&(t=0),this._isVertical()&&(t=1-t),t},_getNormValueFromMouse:function(e){var t,i,n=this._getFracFromMouse(e);return t=this._valueMax()-this._valueMin(),this._isRTL()&&!this._isVertical()&&(n=1-n),i=this._valueMin()+n*t,this._trimAlignValue(i)},_getFracFromMouse:function(e){var t,i,n;return this._isVertical()?(t=this._barback.height(),i=e.y-this._barback.offset().top):(t=this._barback.width(),i=e.x-this._barback.offset().left),0===t?1:(n=i/t,n=this._getOrientationAdjustedFrac(n))},_getActiveThumb:function(){return this._multipleThumbs?s(this._thumbs[this._thumbIndex?this._thumbIndex:0]):this._thumb},_getFracFromThumb:function(e){var t,i,n,r,s=e;if(e||(s=this._getActiveThumb()),this._isVertical()){var a=s.outerHeight()/2;r=s.offset().top+a,t=this._barback.height(),i=r-this._barback.offset().top}else{var o=s.outerWidth()/2;r=s.offset().left+o,t=this._barback.width(),i=r-this._barback.offset().left}return 0===t?1:(n=i/t,n=this._getOrientationAdjustedFrac(n))},_getNormValueFromThumb:function(e){var t,i,n;return t=this._getFracFromThumb(e),i=this._valueMax()-this._valueMin(),this._isRTL()&&!this._isVertical()&&(t=1-t),n=this._valueMialue:function(e){return this._getMultiValues(e?0:1)},_getNewThumbValueLimited:function(e,t,i){return this._isCustomRangeSlider()?null!==this.options.value.start&&null!==this.options.value.end&&(0===e&&t>i||1===e&&t<i)?i:t:2===this.options.value.length&&(0===e&&t>i||1===e&&t<i)?i:t},_slide:function(e,t,i,n){var r;if(this._multipleThumbs){r=this._getOtherThumbValue(t);var s=this._getNewThumbValueLimited(t,i,r);this._setMultiValue(e,t,s,n)}else this._setSingleValue(e,i,n),n||this._inputtag&&this.element.val(i)},_setSingleValue:function(e,t,i){this._newValue=this._trimAlignValue(t),this._SetRawValue(this._newValue,e),i||(this.options[this._transientValueName]=this._newValue,this._SetValue(this._newValue,e),this._updateUI())},_change:function(e,t,i){this._multipleThumbs?(this._lastChangedValues=this._getNewValues(t,this._newMultiValue[t]),this._SetRawValue(this._lastChangedValues,e),i||this._SetValue(this._lastChangedValues,e)):(this._SetRawValue(this._newValue,e),i||this._SetValue(this._newValue,e)),this._lastChangedValueIndex=t},_getNewValues:function(e,t){var i;if(this._isCustomRangeSlider())(i={}).start=this._trimAlignValue(this.options.value.start),i.end=this._trimAlignValue(this.options.value.end),e===this._thumbIndex&&(0===e&&(i.start=t),1===e&&(i.end=t));else{var n;for(i=this.options.value.slice(),n=0;n<i.length;n++)i[n]=this._trimAlignValue(i[n]);e===ngleValue:functiValues:function(e){return this._getValuesAligned(e)},_setMultiValue:function(e,t,i,n){this._newMultiValue[t]=this._trimAlignValue(i),this._change(e,t,n),n||this._updateUI()},_setOption:function(e,t,i){var n;if("value"===e)if(this._isCustomRangeSlider())if(t instanceof Object)if(this._checkStartEnd(t.start,t.end),isNaN(t.start))n=this._parse(e,t.start),this._checkValueBounds(n,this._valueMin(),this._valueMax());else{this._multipleThumbs=!0,n=t;for(var r=Object.keys(t),s=0;s<r.length;s++)this._checkValueBounds(n[r[s]],this._valueMin(),this._valueMax())}else{n={start:this._valueMin(),end:this._valueMax()},this.options.value={start:this._valueMin(),end:this._valueMax()};for(var a=Object.keys(n),o=0;o<a.length;o++)this._checkValueBounds(n[a[o]],this._valueMin(),this._valueMax())}else if(Array.isArray(t))if(isNaN(t[0]))this._multipleThumbs=!1,n=this._parse(e,t[0]),this._checkValueBounds(n,this._valueMin(),this._valueMax());else{this._multipleThumbs=!0,n=t;for(var l=0;l<n.length;l++)this._checkValueBounds(n[l],this._valueMin(),this._valueMax())}else this._multipleThumbs=!1,n=this._IsCustomElement()?t:this._parse(e,t),this._checkValueBounds(n,this._valueMin(),this._valueMax());else"max"===e||"min"===e?(n=this._IsCustomElement()?t:this._parse(e,t),"min"===e?(this._checkMinMax(n,this._valueMax()),this._multipleThumbs?(this._getMultiValues(0)<n&&(this._isCustomRangeSlider()?this._super("value",{start:n,end:this._getMultiValues(1)},i):this._super("value",[n,this._getMultiValues(1)],i)),this._getMultiValues(1)<n&&(this._isCustomRangeSlider()?this._super("value",{start:this._getMultiValues(0),end:n},i):this._super("value",[this._getMultiValues(0),n],i))):this._getSingleValue()<n&&this._super("value",n,i)):"max"===e&&(this._checkMinMax(this._valueMin(),n),this._multipleThumbs?(this._getMultiValues(0)>n&&(this._isCustomRangeSlider()?this._super("value",{start:n,end:this._getMultiValues(1)},i):this._super("value",[n,this._getMultiValues(1)],i)),this._getMultiValues(1)>n&&(this._isCustomRangeSlider()?this._super("value",{start:this._getMultiValues(0),end:n},i):this._super("value",[this._getMultiValues(0),n],i))):this._getSingleValue()>n&&this._super("value",n,i))):n="step"===e?this._parseStep(t):t;switch(this._super(e,n,i),"readOnly"===e&&(this.options.readonly=n),"disabled"===e&&(this.options.disabled=n),e){case"disabled":this._refreshThumbOptions(),this.options.disabled?this._disableDraggable():this._makeDraggable();break;case"value":this._updateUI(),this._makeDraggable();break;case"min":case"max":this._calculateNewMax(),this._updateUI(),this._makeDraggable();break;case"orientation":this._setOrientationStyles(),this._reCreate();break;case"readonly":case"step":case"type":this._reCreate();brWrapped.addClass(this.options.value;return e=this._trimAlignValue(e)},_isCustomRangeSlider:function(){return!(!this._IsCustomElement()||"OJ-RANGE-SLIDER"!==this.element[0].parentNode.tagName)},_getValuesAligned:function(e){var t,i=null;return this._isCustomRangeSlider()?(t=0===e?void 0!==this.options.value.start&&null!==this.options.value.start?this.options.value.start:this._valueMin():void 0!==this.options.value.end&&null!==this.options.value.end?this.options.value.end:this._valueMax(),i=this._trimAlignValue(t)):i=this._trimh.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this._valueMin();if((this.options.max-e)/this.options.step%1!=0){var t=(this.options.max-e)%this.options.step;this.max=this.options.max-t+this.ops.max},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_getGrid:function(){var e;e=this.options.step>0?(this._valueMax()-this._valueMin())/this.options.step:100;var t=(this._isVertical()?this._barback.height():this._barback.width())/e;return t<1&&(t=1),this._isVertical()?[1,t]:[t,1]},_getThumbsValueFrac:function(e){return(this._getMultiValues(e)-this._valueMin())/(this._valueMax()-this._valueMin())},_updateUI:function(){var e,t,i,n,r,a;this._multipleThumbs?(this._thumbs.toArray().forEach(function(t,o){var l=s(t);e=100*this._getThumbsValueFrac(o),this._isRTL()&&!this._isVertical()&&(e=100-e),this._isVertical()?l.css({top:100-e+"%"}):l.css({left:e+"%"}),0===o?(r=l,100===e?l.css({zIndex:1}):l.css({zIndex:""})):a=l,l.hasClass("oj-active")||(l.attr("aria-valuenow",this._getMultiValues(o)),l.attr("aria-valuemin",i),l.attr("aria-valuemax",n)),this._setRangeMultiThumb(e,o)},this),r.hasClass("oj-focus")&&(r.css({zIndex:1}),a.css({zIndex:""})),a.hasClass("oj-focus")&&(r.css({zIndex:""}),a.css({zIndex:1}))):(t=this._getValueAligned(),i=this._valueMin(),n=this._valueMax(),e=n!==i?(t-i)/(n-i)*100:0,this._isRTL()&&!this._isVertical()&&(e=100-e),this._isVertical()?this._thumb.css({top:100-e+"%"}):this._thumb.css({left:e+"%"}),s(this._thumb).hasClass("oj-active")||(s(this._thumb).attr("aria-valuenow",t),s(this._thumb).attr("aria-valuemin",i),s(this._thumb).attr("aria-valuemax",n)),this._setRange(e))},_setRange:function(e){var t=this.options.type;this._isVertical()?("fromMin"===t&&this._range.css({height:e+"%"}),"fromMax"===t&&this._range.css({height:100-e+"%"})):this._isRTL()?("fromMin"===t&&this._range.css({width:100-e+"%"}),"fromMax"===t&&this._range.css({width:e+"%"})):("fromMin"===t&&this._range.css({width:e+"%"}),"fromMax"===t&&this._range.css({width:100-e+"%"}))},_setRangeMultiThumb:function(e,t){var i=this._range.attr("id");if(0===t){var n=100*this._getThumbsValueFrac(1);switch(this.options.type){case"fromMin":this._isVertical()?this._range.css({height:e+"%"}):this._range.css({width:e+"%"});break;case"range":this._isVertical()?(this._range.css({top:100-n+"%"}),this._range.css({height:n-e+"%"})):this._isRTL()?(this._range.css({left:100-n+"%"}),this._range.css({width:n-(100-e)+"%"})):(this._range.css({left:e+"%"}),this._range.css({width:n-e+"%"}))}}else{var r=100*this._getThumbsValueFrac(0);switch(this.options.type){case"fromMax":this._isVertical()?this._range.css({height:100-e+"%"}):this._range.css({width:100-e+"%"});break;case"range":if(this._isVertical())document.getElementById(i)&&(this._range.css({top:100-e+"%"}),this._range.css({height:e-r+"%"}));else if(this._isRTL())document.getElementById(i)&&(this._range.css({left:e+"%"}),this._range.css({width:100-e-r+"%"}));else if(document.getElementById(i)){var s=parseInt(document.getElementById(i).style.left,10);this._range.css({width:e-s+"%"})}}}},_thumbEvents:{keydown:function(e){var t,i,n,r,a=s(e.target).data("oj-slider-thumb-index");switch(this._thumbIndex=a,e.keyCode){case s.ui.keyCode.HOME:case s.ui.keyCode.END:case s.ui.keyCode.PAGE_UP:case s.ui.keyCode.PAGE_DOWN:case s.ui.keyCode.UP:case s.ui.keyCode.RIGHT:case s.ui.keyCode.DOWN:case s.ui.keyCode.LEFT:e.preventDefault(),s(e.target).addClass("oj-active")}switch(n=this.options.step,t=i=this._multipleThumbs?this._getMultiValues(a):this._getSingleValue(),e.keyCode){case s.ui.keyCode.HOME:i=this._valueMin();break;case s.ui.keyCode.END:i=this._valueMax();break;case s.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this._numPages);break;case s.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this._numPages);break;case s.ui.keyCode.UP:if(t===this._valueMax())return;r=t+n,i=this._trimAlignValue(r);break;case s.ui.keyCode.RIGHT:if(!this._isRTL()||this._isVertical()){if(t===this._valueMax())return;r=t+n}else{if(t===this._valueMin())return;r=t-n}i=this._trimAlignValue(r);break;case s.ui.keyCode.DOWN:if(t===this._valueMin())return;r=t-n,i=this._trimAlignValue(r);break;case s.ui.keyCode.LEFT:if(!this._isRTL()||this._isVertical()){if(t===this._valueMin())return;r=t-n}else{if(t===this._valueMax())return;r=t+n}i=this._trimAlignValue(r)}this._slide(e,a,i)},keyup:function(e){switch(e.keyCode){case s.ui.keyCode.HOME:case s.ui.keyCode.END:case s.ui.keyCode.PAGE_UP:case s.ui.keyCode.PAGE_DOWN:case s.ui.keyCode.UP:case s.ui.keyCode.RIGHT:case s.ui.keyCode.DOWN:case s.ui.keyCode.LEFT:var t=s(e.target).data("oj-slider-thumb-index");this._thumbIndex=t,this._change(e,t,!1),s(e.target).removeClass("oj-active"),this._updateUI(!0),this._thumbIndex=null}}},_InitOptions:function(e,i){var n=this.options,r=this;this._superApply(arguments);var s=[{attribute:"disabled",validateOption:!0},{attribute:"value"},{attribute:"title"},{attribute:"min"},{attribute:"max"},{attribute:"step"}];if(!this._IsCustomElement()&&(t.EditableValueUtils.initializeOptionsFromDom(s,i,this,function(e){for(var t=e,i=["value","step","min","max"],s=0;s<i.length;s++){var a=i[s],o=a in t?t[a]:n[a];null!=o&&("step"===a?t[a]=r._parseStep(o):"min"===a||"max"===a?t[a]=r._parse(a,o):"value"===a&&(Array.isArray(o)?t[a]=o:t[a]=r._parse(a,o)))}}),void 0===n.value))throw new Error(this.getTranslatedString("noValue"));if(this._isCustomRangeSlider()&&this._checkStartEnd(n.value.start,n.value.end),this._checkMinMax(n.min,n.max),Array.isArray(n.value))for(var a=0;a<n.value.length;a+=1)this._checkValueBounds(n.value[a],n.min,n.max);else this._checkValueBounds(n.value,n.min,n.max)},_checkValueBounds:function(e,t,i){if(null!=t&&e<t)throw new Error(this.getTranslatedString("valueRange"));if(null!=i&&e>i)throw new Error(this.getTranslatedString("valueRange"))},_checkMinMax:function(e,t){if(null!=e&&null!=t&&e>=t)throw new Error(this.getTranslatedString("maxMin"))},_checkStartEnd:function(e,t){if(null!=e&&null!=t&&e>t)throw new Error(this.getTranslatedString("startEnd"))},getNodeBySubId:function(e){if(null==e)return this.element?this.element[0]:null;var t=e.subId;return"oj-slider-thumb-0"===t?this.widget().find(".oj-slider-thumb")[0]:"oj-slider-thumb-1"===t?this.widget().find(".oj-slider-thumb")[1]:"oj-slider-bar"===t||"oj-slider-bar-value"===t?this.widget().find("."+t)[0]:null},getSubIdByNode:function(e){if(null!=e){if(e.id===this._getThumbId(0)&&s(e).hasClass("oj-slider-thumb"))return{subId:"oj-slider-thumb-0"};if(e.id===this._getThumbId(1)&&s(e).hasClass("oj-slider-thumb"))return{subId:"oj-slider-thumb-1"};if(s(e).hasClass("oj-slider-bar"))return{subId:"oj-slider-bar"};if(s(e).hasClass("oj-slider-bar-value"))return{subId:"oj-slider-bar-value"}}return null},_GetDefaultStyleClass:function(){return"oj-slider"},_parse:function(e,t){var i;if(i=null!==t?+t:t,isNaN(i))throw new Error(this.getTranslatedString("optionNum",{option:e}));return i},_parseStep:function(e){var t;if(null===e)return 1;if((t=this._parse("step",e))<=0)throw new Error(this.getTranslatedString("invalidStep"));return(null===t||t<=0)&&(t=1),t},_getEndInterval:function(){return this._barback.oferval:function(){return this._barback.offset().left},_callDraggable:function(e){var t,i=this._getGrid(),n=e[0].style;t=this._isVertical()?"y":"x";var r=this;e.draggable({axis:t,grid:i,disabled:!1,start:function(t){e[0]===s(r._thumbs)[0]?r._thumbIndex=0:e[0]===s(r._thumbs)[1]&&(r._thumbIndex=1),r._initDragging(t,e)},drag:function(t,i){var a=i.position;if(r._isVertical()?(n.left="",a.left=""):(n.top="",a.top=""),r._mouseDragInternal(t,e),r._isVertical()?(a.top<0&&(a.top=0),a.top>r._barback.height()&&(a.top=r._barback.height())):(a.left<0&&(a.left=0),a.left>r._barback.width()&&(a.left=r._barback.width())),r._multipleThumbs){var o,l;if(o=0===r._thumbIndex?s(r._thumbs[1]):s(r._thumbs[0]),r._isVertical()){var u=e.outerHeight()/2,d=r._barback.offsetParent().offset().top;l=o.offset().top+u-d}else{var c=e.outerWidth()/2,h=r._barback.offsetParent().offset().left;l=o.offset().left+c-h}0===r._thumbIndex?r._isVertical()?a.top<l&&(a.top=l):r._isRTL()?a.left<l&&(a.left=l):a.left>l&&(a.left=l):r._isVertical()?a.top>l&&(a.top=l):r._isRTL()?a.left>l&&(a.left=l):a.left<l&&(a.left=l)}},stop:function(t){this.style.width="",this.style.height="",r._mouseStop(t,e)}})},_makeDraggable:function(){this.options.disabled||rEach(function(e){var t=s(e);this._callDraggable(t)},this):this._callDraggable(this._thumb))},_disableDraggable:function(){this._multipleThumbs?this._thumbs.toArray().forEach(function(e){var t=s(e);t.is(".ui-draggable")&&t.draggable("disable")},this):this._thumb.is(".ui-draggable")&&this._thumb.draggable("disable")},_destroyDraggable:function(){this._multipleThumbs?this._thumbs.toArray().forEach(function(e){var t=s(e);t.is(".ui-draggable")&&t.draggable("destroy")},this):this._thumb.is(".ui-draggable")&&this._thumb.draggable("destroy")}})}),define("ojs/ojswitch",["ojs/ojcore","ojs/ojeditablevalue","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojfocusutils"],function(e,t,i,n,r,s){"use strict";var a;i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,(a={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},readonly:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{switchOff:{type:"string"},switchOn:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"boolean",writeback:!0,value:!1}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojSwitch",a.extension._INNER_ELEM="input",a.extension._ALIASED_PROPS={readonly:"readOnly"},a.extension._GLOBAL_TRANSFER_ATTRS=["tabindex"],i.CustomElementBridge.register("oj-switch",{metadata:i.CollectionUtils.mergeDeep(a,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})});i.__registerWidget("oj.ojSwitch",n.oj.editableValue,{version:"1.1.0",defaultElement:"<input>",widgetEventPrefix:"oj",options:{disabled:!1,labelledBy:null,readOnly:!1,value:!1},widget:function(){return this._element2},getNodeBySubId:function(e){var t,i=this._super(e),n=this.widget();return i||(i=null==e||null==e.subId?n:null)||!e||"oj-switch-thumb"!==(t=e.subId)&&"oj-switch-track"!==t?i||null:n.find("."+t)[0]},getSubIdByNode:function(e){var t,i=n(this.element).attr("id"),r=this._super(e);return null!=e&&(n(e).hasClass("oj-switch-track")||n(e).hasClass("oj-switch-thumb"))&&(i===(t=n(e).parents("div.oj-switch").find("input.oj-component-initnode").attr("id"))&&n(e).hasClass("oj-switch-track")?r={subId:"oj-switch-track"}:i===t&&n(e).hasClass("oj-switch-thumb")&&(r={subId:"oj-switch-thumb"})),r},_GetReadonlyFocusElement:function(){return this.widget()[0].querySelector(".oj-switch-thumb")},_BUNDLE_KEY:{_SWITCH_OFF:"SwitchOFF",_SWITCH_ON:"SwitchON"},_InitOptions:function(e,i){var n,r;n=[{attribute:"disabled",validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"checidateOption:!1,coerceDomValue:function(e){return!!e}},{attribute:"title"}];let s=i;const a=i.translations;if(a){const e=Object.assign({},a);void 0!==a.switchOn&&(e.SwitchON=a.switchOn),void 0!==a.switchOff&&(e.SwitchOFF=a.switchOff),s=Object.assign({},i,{translations:e})}this._super(e,s),this._IsCustomElement()||(t.EditableValueUtils.initializeOptionsFromDom(n,i,this),r=this.option("value"),this.option({value:!!r},{_context:{writeback:!0,internalSet:!0}}))},_ComponentCreate:function(){if(this._super(),!this.element.is("input"))throw new Error("ojSwitch can be bound to INPUT only.");this._inputElementOriginalDisplay=this.element.css("display"),this._inputElementTabIndex=this.element.attr("tabindex")||0,this.element.css("display","none").attr("type","checkbox").attr("checked",this.option("value")).attr("tabindex","-1").attr("disabled",this.option("disabled")).attr("readonly",this.option("readOnly")),this.OuterWrapper?this._element2=n(this.OuterWrapper):this._element2=this.element.wrap("<div></div>").parent(),this._element2.addClass("oj-switch oj-component oj-form-control");const e=`\n      <div class='oj-switch-container oj-form-control-container'>\n        <div class='oj-switch-track'>\n          <div class='oj-switch-thumb' tabIndex='${this._inputElementTabIndex}'></div>\n        </div>\n      </div>\n      `;this._element2.append(e),this.switchThumb=this._element2.find(".oj-switch-thumb"),this.switchThumb.attr("role",this._setSwitchRole()),this.switchTrack=this._element2.find(".oj-switch-track")},_AfterCreate:function(){this._super();var e=this.switchThumb;this._SetAriaInfo(e),this._ariaLabelElement=this.switchThumb[0],this._setup()},_SetAriaInfo:function(e){var i,n;if(i=this.OuterWrapper?this._element2[0]:this._element2[0].querySelector("input"),this._IsCustomElement()){if(this.options.labelledBy){var r=this.uuid+"_Label";n=t.EditableValueUtils._getOjLabelAriaLabelledBy(this.options.labelledBy,r)}}else{var s=this._GetLabelElement();s&&(n=s.attr("id"))}if(n)e.attr("aria-labelledby",n);else{var a=i.getAttribute("aria-label");a&&(e.attr("aria-label",a),i.riaLabelElement?this._ariaLabelElement:this._super()},_setup:function(){var e=n(this.widget());if(this._setupEvents(),void 0!==e){if(this.element.attr("checked",this.option("value")),e.removeClass("oj-disabled oj-read-only oj-selected oj-hover oj-active"),n(this.switchThumb).attr("tabindex",this._inputElementTabIndex),n(this.switchThumb).html(""),this.option("disabled")||this.option("readOnly"))if(this.option("disabled"))e.addClass("oj-disabled"),n(this.switchThumb).removeAttr("tabindex");else{e.addClass("oj-read-only");let t=this._setReadOnlyValue();n(this.switchThumb).html(t)}this.option("value")&&e.addClass("oj-selected"),n(this.switchThumb).attr("aria-checked",this.option("value")),n(this.switchThumb).removeAttr("aria-disabled"),n(this.switchThumb).removeAttr("aria-readonly"),e.removeAttr("aria-disabled"),this._CanSetValue()||(this.option("disabled")?n(this.switchThumb).attr("aria-disabled","true"):n(this.switchThumb).attr("aria-readonly","true"))}},_setReadOnlyValue:function(){var e=this._BUNDLE_KEY._SWITCH_OFF;return this.option("value")&&(e=this._BUNDLE_KEY._SWITCH_ON),this.getTranslatedString(e)},_setupEvents:function(){this._off(this._element2,"keydown keyup mouseup touchend"),this._CanSetValue()&&(this._on(this._element2,this._switchEvents),this._AddHoverable(this._element2),this._AddActiveable(this._element2)),this._focusable({element:this.switchThumb,applyHighlight:!0})},_switchEvents:{keydown:function(e){const t=e.which||e.keyCode;t!==n.ui.keyCode.ENTER&&t!==n.ui.keyCode.SPACE||(n(e.currentTarget).addClass("oj-active"),e.preventDefault())},keyup:function(e){const t=e.which||e.keyCode;t!==n.ui.keyCode.ENTER&&t!==n.ui.keyCode.SPACE||this._SetValue(!this.option("value"),e)},mouseup:function(e){r.isAncestorOrSelf(this.switchTrack[0],e.target)&&(0===e.button&&this._isRealMouseEvent(e)&&this._SetValue(!this.option("value"),e),s.focusElement(this.switchThumb[0]))},touchend:function(e){r.isAncestorOrSelf(this.switchTrack[0],e.target)&&(this._SetValue(!this.option("value"),e),s.focusElement(this.switchThumb[0]))}},_GetDefaultStyleClass:function(){return"oj-switch"},_CanSetValue:function(){return!!t.readOnly},_setSwitchRole:function(){return"switch"},_destroy:function(){return this._CanSetValue()&&(this._RemoveHoverable(this._element2),this._RemoveActiveable(this._element2)),this._element2.find(".oj-switch-track").remove(),r.unwrap(this.element),this._RestoreAttributes(this.element),this._super()},_GetMessagingLauncherElement:function(){return this._element2},_GetContentElement:function(){return this.switchThumb},_AfterSetOption:function(e,i,n){this._superApply(arguments),"readOnly"===e&&this._AfterSetOptionDisabledReadOnly(e,t.EditableValueUtils.readOnlyOptionOptions)},option:function(e,t){let i=arguments,n=e;return"translations.switchOn"===e?n="translations.SwitchON":"translations.switchOff"===e&&(n="translations.SwitchOFF"),i.length>0&&(i[0]=n),this._superApply(i)},_setOption:function(e,t,i){var n;switch(e){case"disabled":case"readOnly":case"value":n=!!t;break;default:n=t}this._super(e,n,i),"labelledBy"===e&&thRealMouseon(e,t,i){this._superApply(arguments),this._setup()}})}),define("ojs/ojcolor",["ojs/ojcore-base"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=/^\s+/,i=/\s+$/,n=Math.round,r=Math.min,s=Math.max;function a(e){var n;n=function(e){var n={r:0,g:0,b:0},a=1,o=null,l=null,p=null,_=!1;"string"==typeof e&&(e=function(e){if("transparent"===(e=e.replace(t,"").replace(i,"").toLowerCase()))return{r:0,g:0,b:0,a:0};var n=f.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=f.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=f.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=f.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=f.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=f.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=f.hex6.exec(e))return{r:c(n[1]),g:c(n[2]),b:c(n[3])};if(n=f.hex3.exec(e))return{r:c(n[1]+""+n[1]),g:c(n[2]+""+n[2]),b:c(n[3]+""+n[3])};return!1}(e));"object"==typeof e&&(g(e.r)&&g(e.g)&&g(e.b)?(m=e.r,v=e.g,b=e.b,n={r:255*d(m,255),g:255*d(v,255),b:255*d(b,255][l],g:255*[o,i,i,a,s,s][l],b:255*[s,s,o,i,i,a][l]}}(e.h,o,l),_=!0):g(e.h)&&g(e.s)&&g(,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(e=d(e,360),t=d(t,100),i=d(i,100),0===t)n=i,r=i,s=i;else{var o=i<.5?i*(1+t):i+t-i*t,l=2*i-o;n=a(l,o,e+1/3),r=a(l,o,e),s=a(l,o,e-1/3)}return{r:255*n,g:255*r,b:255*s}}(e.h,o,p),_=!0),void 0!==e.a&&(a=e.a));var m,v,b;if(!_)throw new Error("Invalid Color format");return a=u(a),{r:r(255,s(n.r,0)),g:r(255,s(n.g,0)),b:r(255,s(n.b,0)),a:a}}(e=e||""),this._r=n.r,this._g=n.g,this._b=n.b,this._a=Math.round(100*n.a)/100,Object.defineProperty(this,"rgba",{writable:!1,value:{r:n.r,g:n.g,b:n.b,a:Math.round(100*n.a)/100}}),Object.defineProperty(this,"hsla",{writable:!1,value:o(this.rgba)}),Object.defineProperty(this,"hsva",{writable:!1,value:l(this.rgba)})}function o(e){let t=255*d(e.r,255),i=255*d(e.g,255),n=255*d(e.b,255),a=u(e.a);var o,l,c=s(t,i,n),h=r(t,i,n),p=(c+h)/2;if(c===h)o=l=0;else{var _=c-h;switch(l=p>.5?_/(2-c-h):_/(c+h),c){case t:o=(i-n)/_+(i<n?6:0);break;case i:o=(n-t)/_+2;break;case n:o=(t-i)/_+4}o/=6}return{h:o,s:l,l:p,a:a}}function l(e){let t=0,i=e.r/255,n=e.g/255,r=e.b/255,s=0,a=Math.max(i,n,r),o=a-Math.min(i,n,r),l=e=>(a-e)/6/o+.5;if(0===o)t=0,s=0;else{s=o/a;let e=l(i),u=l(n),d=l(r);i===a?t=d-u:n===a?t=1/3+e-d:r===a&&(t=2/3+u-e),t<0?t+=1:t>1&&(t-=1)}return{h:6*d(t,360),s:d(s,100),v:d(a,100),a:u(e.a)}}function u(e){var t=parseFloat(e);return(i"==typeof e&&-1!==e.inon(e){return"string"==typeof e&&-1!==e.indexOf("%")}(i);return i=r(t,s(0,parseFloat(i))),n&&(i=parseIntt/parseFloat(t)}function c(e){return parseInt(e,16)}function h(e){var t=e;return t<=1&&(t=100*t+"%"),t}a.prototype.getRGBA=function(){return this.rgba},a.prototype.getHSLA=function(){return this.hsla},a.prototype.getHSVA=function(){return this.hsva},a.prototype.getRed=function(e){return e?this._r:n(this._r)},a.prototype.getGreen=function(e){return e?this._g:n(this._g)},a.prototype.getBlue=function(e){return e?this._b:n(this._b)},a.prototype.getAlpha=function(){return this._a},a.prototype.toString=function(){return"rgb"+((t=(e=this)._a<1)?"a(":"(")+n(e._r)+", "+n(e._g)+", "+n(e._b)+(t?", "+e._a:"")+")";var e,t},a.prototype.isEqual=function(e){var t=!1;return e instanceof a&&(t=this._r===e._r&&this._g===e._g&&this._b===e._b&&this._a===e._a),t},a.ALICEBLUE=null,a.ANTIQUEWHITE=null,a.AQUA=null,a.AQUAMARINE=null,a.AZURE=null,a.BEIGE=null,a.BISQUE=null,a.BLACK=null,a.BLANCHEDALMOND=null,a.BLUE=null,a.BLUEVIOLET=null,a.BROWN=null,a.BURLYWOOD=null,a.CADETBLUE=null,a.CHARTREUSE=null,a.CHOCOLATE=null,a.CORAL=null,a.CORNFLOWERBLUE=null,a.CORNSILK=null,a.CRIMSON=null,a.CYAN=null,a.DARKBLUE=null,a.DARKCYAN=null,a.DARKGOLDENROD=null,a.DARKGRAY=null,a.DARKGREY=null,a.DARKGREEN=null,a.DARKKHAKI=null,a.DARKMAGENTA=null,a.DARKOLIVEGREEN=null,a.DARKORANGE=null,a.DARKORCHID=null,a.DARKRED=null,a.DARKSALMON=null,a.DARKSEAGREEN=null,a.DARKSLATEBLUE=null,a.DARKSLATEGRAY=null,a.DARKSLATEGREY=null,a.DARKTURQUOISE=null,a.DARKVIOLET=null,a.DEEPPINK=null,a.DEEPSKYBLUE=null,a.DIMGRAY=null,a.DIMGREY=null,a.DODGERBLUE=null,a.FIREBRICK=null,a.FLORALWHITE=null,a.FORESTGREEN=null,a.FUCHSIA=null,a.GAINSBORO=null,a.GHOSTWHITE=null,a.GOLD=null,a.GOLDENROD=null,a.GRAY=null,a.GREEN=null,a.GREENYELLOW=null,a.GREY=null,a.HONEYDEW=null,a.HOTPINK=null,a.INDIANRED=null,a.INDIGO=null,a.IVORY=null,a.KHAKI=null,a.LAVENDER=null,a.LAVENDERBLUSH=null,a.LAWNGREEN=null,a.LEMONCHIFFON=null,a.LIGHTBLUE=null,a.LIGHTCORAL=null,a.LIGHTCYAN=null,a.LIGHTGOLDENRODYELLOW=null,a.LIGHTGRAY=null,a.LIGHTGREEN=null,a.LIGHTGREY=null,a.LIGHTPINK=null,a.LIGHTSALMON=null,a.LIGHTSEAGREEN=null,a.LIGHTSKYBLUE=null,a.LIGHTSLATEGRAY=null,a.LIGHTSLATEGREY=null,a.LIGHTSTEELBLUE=null,a.LIGHTYELLOW=null,a.LIME=null,a.LIMEGREEN=null,a.LINEN=null,a.MAGENTA=null,a.MAROON=null,a.MEDIUMAQUAMARINE=null,a.MEDIUMBLUE=null,a.MEDIUMORCHID=null,a.MEDIUMPURPLE=null,a.MEDIUMSEAGREEN=null,a.MEDIUMSLATEBLUE=null,a.MEDIUMSPRINGGREEN=null,a.MEDIUMTURQUOISE=null,a.MEDIUMVIOLETRED=null,a.MIDNIGHTBLUE=null,a.MINTCREAM=null,a.MISTYROSE=null,a.MOCCASIN=null,a.NAVAJOWHITE=null,a.NAVY=null,a.OLDLACE=null,a.OLIVE=null,a.OLIVEDRAB=null,a.ORANGE=null,a.ORANGERED=null,a.ORCHID=null,a.PALEGOLDENROD=null,a.PALEGREEN=null,a.PALETURQUOISE=null,a.PALEVIOLETRED=null,a.PAPAYAWHIP=null,a.PEACHPUFF=null,a.PERU=null,a.PINK=null,a.PLUM=null,a.POWDERBLUE=null,a.PURPLE=null,a.REBECCAPURPLE=null,a.RED=null,a.ROSYBROWN=null,a.ROYALBLUE=null,a.SADDLEBROWN=null,a.SALMON=null,a.SANDYBROWN=null,a.SEAGREEN=null,a.SEASHELL=null,a.SIENNA=null,a.SILVER=null,a.SKYBLUE=null,a.SLATEBLUE=null,a.SLATEGRAY=null,a.SLATEGREY=null,a.SNOW=null,a.SPRINGGREEN=null,a.STEELBLUE=null,a.TAN=null,a.TEAL=null,a.THISTLE=null,a.TOMATO=null,a.TURQUOISE=null,a.VIOLET=null,a.WHEAT=null,a.WHITE=null,a.WHITESMOKE=null,a.YELLOW=null,a.YELLOWGREEN=null,a.TRANSPARENT=null;var p,_,m,f=(_="[\\s|\\(]+("+(p="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+p+")[,|\\s]+("+p+")\\s*\\)?",m="[\\s|\\(]+("+p+")[,|\\s]+("+p+")[,|\\s]+("+p+")[,|\\s]+("+p+")\\s*\\)?",{CSS_UNIT:new RegExp(p),rgb:new RegExp("rgb"+_),rgba:new RegExp("rgba"+m),hsl:new RegExp("hsl"+_),hsla:new RegExp("hsla"+m),hsv:new RegExp("hsv"+_),hsva:new RegExp("hsva"+m),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})F]{2})$/});function g(e){return!!f.CSS_UNIT.exec(e)}return Object.defineProperty(a,"ALICEBLUE",{writable:!1,value:new a("f0f8ff")}),Object.defineProperty(a,"ANTIQUEWHITE",{writable:!1,value:new a("faebd7")}),Object.defineProperty(a,"AQUA",{writable:!1,value:new a("0ff")}),Object.defineProperty(a,"AQUAMARINE",{writable:!1,value:new a("7fffd4")}),Object.defineProperty(a,"AZURE",{writable:!1,value:new a("f0ffff")}),Object.defineProperty(a,"BEIGE",{writable:!1,value:new a("f5f5dc")}),Object.defineProperty(a,"BISQUE",{writable:!1,value:new a("ffe4c4")}),Object.defineProperty(a,"BLACK",{writable:!1,value:new a("000")}),Object.defineProperty(a,"BLANCHEDALMOND",{writable:!1,value:new a("ffebcd")}),Object.defineProperty(a,"BLUE",{writable:!1,value:new a("00f")}),Object.defineProperty(a,"BLUEVIOLET",{writable:!1,value:new a("8a2be2")}),Object.defineProperty(a,"BROWN",{writable:!1,value:new a("a52a2a")}),Object.defineProperty(a,"BURLYWOOD",{writable:!1,value:new a("deb887")}),Object.defineProperty(a,"CADETBLUE",{writable:!1,value:new a("5f9ea0")}),Object.defineProperty(a,"CHARTREUSE",{writable:!1,value:new a("7fff00")}),Object.defineProperty(a,"CHOCOLATE",{writable:!1,value:new a("d2691e")}),Object.defineProperty(a,"CORAL",{writable:!1,value:new a("ff7f50")}),Object.defineProperty(a,"CORNFLOWERBLUE",{writable:!1,value:new a("6495ed")}),Object.defineProperty(a,"CORNSILK",{writable:!1,value:new a("fff8dc")}),Object.defineProperty(a,"CRIMSON",{writable:!1,value:new a("dc143c")}),Object.defineProperty(a,"CYAN",{writable:!1,value:new a("0ff")}),Object.defineProperty(a,"DARKBLUE",{writable:!1,value:new a("00008b")}),Object.defineProperty(a,"DARKCYAN",{writable:!1,value:new a("008b8b")}),Object.defineProperty(a,"DARKGOLDENROD",{writable:!1,value:new a("b8860b")}),Object.defineProperty(a,"DARKGRAY",{writable:!1,value:new a("a9a9a9")}),Object.defineProperty(a,"DARKGREY",{writable:!1,value:new a("a9a9a9")}),Object.defineProperty(a,"DARKGREEN",{writable:!1,value:new a("006400")}),Object.defineProperty(a,"DARKKHAKI",{writable:!1,value:new a("bdb76b")}),Object.defineProperty(a,"DARKMAGENTA",{writable:!1,value:new a("8b008b")}),Object.defineProperty(a,"DARKOLIVEGREEN",{writable:!1,value:new a("556b2f")}),Object.defineProperty(a,"DARKORANGE",{writable:!1,value:new a("ff8c00")}),Object.defineProperty(a,"DARKORCHID",{writable:!1,value:new a("9932cc")}),Object.defineProperty(a,"DARKRED",{writable:!1,value:new a("8b0000")}),Object.defineProperty(a,"DARKSALMON",{writable:!1,value:new a("e9967a")}),Object.defineProperty(a,"DARKSEAGREEN",{writable:!1,value:new a("8fbc8f")}),Object.defineProperty(a,"DARKSLATEBLUE",{writable:!1,value:new a("483d8b")}),Object.defineProperty(a,"DARKSLATEGRAY",{writable:!1,value:new a("2f4f4f")}),Object.defineProperty(a,"DARKSLATEGREY",{writable:!1,value:new a("2f4f4f")}),Object.defineProperty(a,"DARKTURQUOISE",{writable:!1,value:new a("00ced1")}),Object.defineProperty(a,"DARKVIOLET",{writable:!1,value:new a("9400d3")}),Object.defineProperty(a,"DEEPPINK",{writable:!1,value:new a("ff1493")}),Object.defineProperty(a,"DEEPSKYBLUE",{writable:!1,value:new a("00bfff")}),Object.defineProperty(a,"DIMGRAY",{writable:!1,value:new a("696969")}),Object.defineProperty(a,"DIMGREY",{writable:!1,value:new a("696969")}),Object.defineProperty(a,"DODGERBLUE",{writable:!1,value:new a("1e90ff")}),Object.defineProperty(a,"FIREBRICK",{writable:!1,value:new a("b22222")}),Object.defineProperty(a,"FLORALWHITE",{writable:!1,value:new a("fffaf0")}),Object.defineProperty(a,"FORESTGREEN",{writable:!1,value:new a("228b22")}),Object.defineProperty(a,"FUCHSIA",{writable:!1,value:new a("f0f")}),Object.defineProperty(a,"GAINSBORO",{writable:!1,value:new a("dcdcdc")}),Object.defineProperty(a,"GHOSTWHITE",{writable:!1,value:new a("f8f8ff")}),Object.defineProperty(a,"GOLD",{writable:!1,value:new a("ffd700")}),Object.defineProperty(a,"GOLDENROD",{writable:!1,value:new a("daa520")}),Object.defineProperty(a,"GRAY",{writable:!1,value:new a("808080")}),Object.defineProperty(a,"GREY",{writable:!1,value:new a("808080")}),Object.defineProperty(a,"GREEN",{writable:!1,value:new a("008000")}),Object.defineProperty(a,"GREENYELLOW",{writable:!1,value:new a("adff2f")}),Object.defineProperty(a,"HONEYDEW",{writable:!1,value:new a("f0fff0")}),Object.defineProperty(a,"HOTPINK",{writable:!1,value:new a("ff69b4")}),Object.defineProperty(a,"INDIANRED",{writable:!1,value:new a("cd5c5c")}),Object.defineProperty(a,"INDIGO",{writable:!1,value:new a("4b0082")}),Object.defineProperty(a,"IVORY",{writable:!1,value:new a("fffff0")}),Object.defineProperty(a,"KHAKI",{writable:!1,value:new a("f0e68c")}),Object.defineProperty(a,"LAVENDER",{writable:!1,value:new a("e6e6fa")}),Object.defineProperty(a,"LAVENDERBLUSH",{writable:!1,value:new a("fff0f5")}),Object.defineProperty(a,"LAWNGREEN",{writable:!1,value:new a("7cfc00")}),Object.defineProperty(a,"LEMONCHIFFON",{writable:!1,value:new a("fffacd")}),Object.defineProperty(a,"LIGHTBLUE",{writable:!1,value:new a("add8e6")}),Object.defineProperty(a,"LIGHTCORAL",{writable:!1,value:new a("f08080")}),Object.defineProperty(a,"LIGHTCYAN",{writable:!1,value:new a("e0ffff")}),Object.defineProperty(a,"LIGHTGOLDENRODYELLOW",{writable:!1,value:new a("fafad2")}),Object.defineProperty(a,"LIGHTGRAY",{writable:!1,value:new a("d3d3d3")}),Object.defineProperty(a,"LIGHTGREY",{writable:!1,value:new a("d3d3d3")}),Object.defineProperty(a,"LIGHTGREEN",{writable:!1,value:new a("90ee90")}),Object.defineProperty(a,"LIGHTPINK",{writable:!1,value:new a("ffb6c1")}),Object.defineProperty(a,"LIGHTSALMON",{writable:!1,value:new a("ffa07a")}),Object.defineProperty(a,"LIGHTSEAGREEN",{writable:!1,value:new a("20b2aa")}),Object.defineProperty(a,"LIGHTSKYBLUE",{writable:!1,value:new a("87cefa")}),Object.defineProperty(a,"LIGHTSLATEGRAY",{writable:!1,value:new a("789")}),Object.defineProperty(a,"LIGHTSLATEGREY",{writable:!1,value:new a("789")}),Object.defineProperty(a,"LIGHTSTEELBLUE",{writable:!1,value:new a("b0c4de")}),Object.defineProperty(a,"LIGHTYELLOW",{writable:!1,value:new a("ffffe0")}),Object.defineProperty(a,"LIME",{writable:!1,value:new a("0f0")}),Object.defineProperty(a,"LIMEGREEN",{writable:!1,value:new a("32cd32")}),Object.defineProperty(a,"LINEN",{writable:!1,value:new a("faf0e6")}),Object.defineProperty(a,"MAGENTA",{writable:!1,value:new a("f0f")}),Object.defineProperty(a,"MAROON",{writable:!1,value:new a("800000")}),Object.defineProperty(a,"MEDIUMAQUAMARINE",{writable:!1,value:new a("66cdaa")}),Object.defineProperty(a,"MEDIUMBLUE",{writable:!1,value:new a("0000cd")}),Object.defineProperty(a,"MEDIUMORCHID",{writable:!1,value:new a("ba55d3")}),Object.defineProperty(a,"MEDIUMPURPLE",{writable:!1,value:new a("9370db")}),Object.defineProperty(a,"MEDIUMSEAGREEN",{writable:!1,value:new a("3cb371")}),Object.defineProperty(a,"MEDIUMSLATEBLUE",{writable:!1,value:new a("7b68ee")}),Object.defineProperty(a,"MEDIUMSPRINGGREEN",{writable:!1,value:new a("00fa9a")}),Object.defineProperty(a,"MEDIUMTURQUOISE",{writable:!1,value:new a("48d1cc")}),Object.defineProperty(a,"MEDIUMVIOLETRED",{writable:!1,value:new a("c71585")}),Object.defineProperty(a,"MIDNIGHTBLUE",{writable:!1,value:new a("191970")}),Object.defineProperty(a,"MINTCREAM",{writable:!1,value:new a("f5fffa")}),Object.defineProperty(a,"MISTYROSE",{writable:!1,value:new a("ffe4e1")}),Object.defineProperty(a,"MOCCASIN",{writable:!1,value:new a("ffe4b5")}),Object.defineProperty(a,"NAVAJOWHITE",{writable:!1,value:new a("ffdead")}),Object.defineProperty(a,"NAVY",{writable:!1,value:new a("000080")}),Object.defineProperty(a,"OLDLACE",{writable:!1,value:new a("fdf5e6")}),Object.defineProperty(a,"OLIVE",{writable:!1,value:new a("808000")}),Object.defineProperty(a,"OLIVEDRAB",{writable:!1,value:new a("6b8e23")}),Object.defineProperty(a,"ORANGE",{writable:!1,value:new a("ffa500")}),Object.defineProperty(a,"ORANGERED",{writable:!1,value:new a("ff4500")}),Object.defineProperty(a,"ORCHID",{writable:!1,value:new a("da70d6")}),Object.defineProperty(a,"PALEGOLDENROD",{writable:!1,value:new a("eee8aa")}),Object.defineProperty(a,"PALEGREEN",{writable:!1,value:new a("98fb98")}),Object.defineProperty(a,"PALETURQUOISE",{writable:!1,value:new a("afeeee")}),Object.defineProperty(a,"PALEVIOLETRED",{writable:!1,value:new a("db7093")}),Object.defineProperty(a,"PAPAYAWHIP",{writable:!1,value:new a("ffefd5")}),Object.defineProperty(a,"PEACHPUFF",{writable:!1,value:new a("ffdab9")}),Object.defineProperty(a,"PERU",{writable:!1,value:new a("cd853f")}),Object.defineProperty(a,"PINK",{writable:!1,value:new a("ffc0cb")}),Object.defineProperty(a,"PLUM",{writable:!1,value:new a("dda0dd")}),Object.defineProperty(a,"POWDERBLUE",{writable:!1,value:new a("b0e0e6")}),Object.defineProperty(a,"PURPLE",{writable:!1,value:new a("800080")}),Object.defineProperty(a,"REBECCAPURPLE",{writable:!1,value:new a("663399")}),Object.defineProperty(a,"RED",{writable:!1,value:new a("f00")}),Object.defineProperty(a,"ROSYBROWN",{writable:!1,value:new a("bc8f8f")}),Object.defineProperty(a,"ROYALBLUE",{writable:!1,value:new a("4169e1")}),Object.defineProperty(a,"SADDLEBROWN",{writable:!1,value:new a("8b4513")}),Object.defineProperty(a,"SALMON",{writable:!1,value:new a("fa8072")}),Object.defineProperty(a,"SANDYBROWN",{writable:!1,value:new a("f4a460")}),Object.defineProperty(a,"SEAGREEN",{writable:!1,value:new a("2e8b57")}),Object.defineProperty(a,"SEASHELL",{writable:!1,value:new a("fff5ee")}),Object.defineProperty(a,"SIENNA",{writable:!1,value:new a("a0522d")}),Object.defineProperty(a,"SILVER",{writable:!1,value:new a("c0c0c0")}),Object.defineProperty(a,"SKYBLUE",{writable:!1,value:new a("87ceeb")}),Object.defineProperty(a,"SLATEBLUE",{writable:!1,value:new a("6a5acd")}),Object.defineProperty(a,"SLATEGRAY",{writable:!1,value:new a("708090")}),Object.defineProperty(a,"SLATEGREY",{writable:!1,value:new a("708090")}),Object.defineProperty(a,"SNOW",{writable:!1,value:new a("fffafa")}),Object.defineProperty(a,"SPRINGGREEN",{writable:!1,value:new a("00ff7f")}),Object.defineProperty(a,"STEELBLUE",{writable:!1,value:new a("4682b4")}),Object.defineProperty(a,"TAN",{writable:!1,value:new a("d2b48c")}),Object.defineProperty(a,"TEAL",{writable:!1,value:new a("008080")}),Object.defineProperty(a,"THISTLE",{writable:!1,value:new a("d8bfd8")}),Object.defineProperty(a,"TOMATO",{writable:!1,value:new a("ff6347")}),Object.defineProperty(a,"TURQUOISE",{writable:!1,value:new a("40e0d0")}),Object.defineProperty(a,"VIOLET",{writable:!1,value:new a("ee82ee")}),Object.defineProperty(a,"WHEAT",{writable:!1,value:new a("f5deb3")}),Object.defineProperty(a,"WHITE",{writable:!1,value:new a("fff")}),Object.defineProperty(a,"WHITESMOKE",{writable:!1,value:new a("f5f5f5")}),Object.defineProperty(a,"YELLOW",{writable:!1,value:new a("ff0")}),Object.defineProperty(a,"YELLOWGREEN",{writable:!1,value:new a("9acd32")}),Object.defineProperty(a,"TRANSPARENT",{writable:!1,value:new a("rgba(0,0,0,0)")}),e._registerLegacyNamespaceProp("Color",a),a}),define("ojs/ojfilepickerutils",["exports","ojs/ojcore-base"],function(e,t){"use strict";let i;const n=(t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t).AgentUtils.getAgentInfo().os===t.AgentUtils.OS.IOS,r=()=>{n&&document.body.removeChild(i),i=null};e.pickFiles=function(e,t){(e=>{i&&r(),i=document.createElement("input"),i.type="file",(null==e?void 0:e.capture)&&"none"!=e.capture&&(i.capture=e.capture);const t=null==e?void 0:e.accept,s=t&&t.length?t.join(","):null;i.accept=s,i.multiple="multiple"==(null==e?void 0:e.selectionMode),i.style.display="ndChild(i)})(t),i.onchange=function(){e(i.files),r()},i.click()},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojfilepicker",["exports","preact/jsx-runtime","ojs/ojcore-base","ojs/ojdomutils","ojs/ojvcomponent","preact","ojs/ojtranslation","ojs/ojfilepickerutils","ojs/ojfocusutils","jqueryui-amd/tabbable"],function(e,t,i,n,r,s,a,o,l,u){"use strict";i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,l=l&&Object.prototyp)||a);return s>3&&a&&Object.defineProperty(t,i,a),a};e.FilePicker=class extends s.Component{constructor(e){super(e),this.rootRef=s.createRef(),this._handleSelectingFiles=e=>{var t;if("click"===e.type||"keypress"===e.type&&"Enter"===e.code){this.selecting=!0,e.preventDefault();const i=this.props;return o.pickFiles(this._handleFileSelected,{accept:i.accept,selectionMode:i.selectionMode,capture:null!==(t=i.capture)&&void 0!_handleFileSelected=e=ragEnter=e=>{e.preventDefault(),e.stopPropagation()},this._handleDragOver=e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer;if(this.inDropZone)return;const n=i.AgentUtils.getAgentInfo();if(this.inDropZone=!0,this.isDroppable=!0,n.browser!==i.AgentUtils.BROWSER.SAFARI&&n.browser!==i.AgentUtils.BROWSER.IE){const i=t.items;let n=[];const r=this._validateSelectionMode(i),s=this._validateTypes(i);r&&0===s.rejected.length?this.setState({validity:"valid"}):(this.isDroppable=!1,r?n=this._getMimeTypeValidationMessages(s.rejected):n.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.singleFileUploadError")}),this._fireInvalidSelectAction(n,e,!0))}else this.setState({validity:"valid"})},this._handleDragLeave=(e,t=!1)=>{this.inDropZone&&(e.preventDefault(),e.stopPropagation(),this.rootRef.current.contains(e.relatedTarget)||(this.inDropZone=!1,this.setState({validity:"NA"}),this.isDroppable||t||(this.dragPromiseResolver(),this.dragPromiseResolver=null)))},this._handleFileDrop=e=>{if(this.inDropZone){e.preventDefault(),e.stopPropagation();const t=this._createFileList(e.dataTransfer.files);let i=!1;if(this.isDroppable){let n=[];if(this._validateSelectionMode(t)){const e=this._validateTypes(t);e.rejected.length>0&&(n=this._getMimeTypeValidationMessages(e.rejected),i=!0)}else n.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.singleFileUploadError")});n.length>0&&(this.isDroppable=!1,this._fireInvalidSelectAction(n,e,!1)),this.isDroppable&&this._handleFilesAdded(t,e)}this._handleDragLeave(e,i)}},this._handleFocusIn=e=>{e.target===e.currentTarget&&this._handleFocus(e),this.selecting||this.setState({focus:!n.recentPointer()})},this._handleFocusOut=e=>{e.target===e.currentTarget&&this._handleBlur(e),this.selecting||this.setState({focus:!1})},this._handleFocus=e=>{var t;null===(t=this.rootRef.current)||void 0===t||t.dispatchEvent(new FocusEvent("focus",{relatedTarget:e.relatedTarget}))},this._handleBlur=e=>{var t;null===(t=this.rootRef.current)||void 0===t||t.dispatchEvent(new FocusEvent("blur",{relatedTarget:e.relatedTarget}))},this.state={focus:!1,validity:"NA"}}_doSelectHelper(e){const t=new Promise(e=>{this.elementPromiseResolver=e});return this._fileSelectedHelper(e),t}_fileSelectedHelper(e){if(e.length>0){const t=this._validateTypes(e).rejected;t.length>0?this._fireInvalidSelectAction(this._getMimeTypeValidationMessages(t),null,1}focus(){l.focusFirstTabStop(this.rootRef.current)}blur(){const e=document.activeElement;this.rootRef.current.contains(e)&&e.blur()}render(e){const t=e.trigger;if(e.disabled)return this._renderDisabled(e,t);const i="drop"!==e.selectOn?this._handleSelectingFiles:void 0;return t?this._renderWithCustomTrigger(e,t,i):this._renderWithDefaultTrigger(e,i)}_renderDisabled(e,i){const n=i?"oj-filepicker":"oj-filepicker oj-filepicker-no-trigger";return t.jsx(r.Root,Object.assign({class:n},{children:t.jsx("div",Object.assign({class:"oj-filepicker-disabled oj-filepicker-container"},{children:i||this._renderDefaultTriggerContent(e)}))}))}_renderWithCustomTrigger(e,i,n){const s=this._getDndHandlers(e);return t.jsx(r.Root,Object.assign({class:"oj-filepicker "+this._getFocusClass(),ref:this.rootRef,onfocusin:this._handleFocusIn,onfocusout:this._handleFocusOut},{children:t.jsx("div",Object.assign({onClick:n,onKeyPress:this._handleSelectingFiles,onDragEnter:s.handleDragEnter,onDragOver:s.handleDragOver,onDragLeave:s.handleDragLeave,onDragEnd:s.handleDragLeave,onDrop:s.handleFileDrop,class:"oj-filepicker-container","aria-label":this._getAriaLabel(e,n),role:this._getRole(e,n)},{children:i}))}))}_renderWithDefaultTrigger(e,i){const n=this.state.validity,s="valid"===n?"oj-valid-drop":"invalid"===n?"oj-invalid-drop":"",a=this._getDndHandlers(e);return t.jsx(r.Root,Object.assign({class:"oj-filepicker oj-filepicker-no-trigger "+this._getFocusClass(),onfocusin:this._handleFocusIn,onfocusout:this._handleFocusOut,ref:this.rootRef},{children:t.jsx("div",Object.assign({onClick:i,onKeyPress:this._handleSelectingFiles,class:"oj-filepicker-container",tabIndex:0,"aria-label":this._getAriaLabel(e,i),role:this._getRole(e,i)},{children:t.jsx("div",Object.assign({class:"oj-filepicker-dropzone "+s,onDragEnter:a.handleDragEnter,onDragOver:a.handleDragOver,onDragLeave:a.handleDragLeave,onDragEnd:a.handleDragLeave,onDrop:a.handleFileDrop},{children:this._renderDefaultTriggerContent(e)}))}))}))}_renderDefaultTriggerContent(e){return[t.jsx("div",Object.assign({class:"oj-filepicker-text"},{children:this._getPrimaryText(e)})),t.jsx("div",Object.assign({class:"oj-filepicker-secondary-text"},{children:this._getSecondaryText(e)}))]}_getRole(e,t){const i=t?"button":void 0;return e.role?e.role:i}_getAriaLabel(e,t){const i=t?e.trigger?"Add Files.":`Add Files. ${this._getPrimaryText(e)}. ${this._getSecondaryText(e)}`:void 0;return e["aria-label"]?e["aria-label"]:i}_getPrimaryText(e){const t=e.primaryText;let i;if(t)if("string"==typeof t)i=t;else{i=t()}else i=a.getTranslatedString("oj-ojFilePicker.dropzonePrimaryText");return i}_getSecondaryText(e){const t="single"===e.selectionMode,i=e.secondaryText;let n;if(i)if("string"==typeof i)n=i;else{n=i({selectionMode:e.selectionMode})}else n=a.getTranslatedString(t?"oj-ojFilePicker.secondaryDropzoneText":"oj-ojFilePicker.secondaryDropzoneTextMultiple");return n}_getDndHandlers(e){return"click"!==e.selectOn?{handleDragEnter:this._handleDragEnter,handleDragOver:this._handleDragOver,handleDragLeave:this._hans(){return this.state.focus?"oj-focus-highlight":""}_validateSelectionMode(e){return"single"!==this.props.selectionMode||1===e.length}_validateTypes(e){const t=[],i=[];let n,r;if(e)for(let s=0;s<e.length;s++){n=e[s];const o=n.name;if(r=a.getTranslatedString("oj-ojFilePicker.unknownFileType"),o){let e=o.split(".");r=e.length>1?"."+e.pop():r}r=n.type?n.type:r,-1===t.indexOf(r)&&-1===i.indexOf(r)&&(this._acceptFile(n)?t.push(r):i.push(r))}return{accepted:t,rejected:i}}_getMimeTypeValidationMessages(e){const t=[];return 1===e.length?t.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.singleFileTypeUploadError",{fileType:e[0]})}):t.push({severity:"error",summary:a.getTranslatedString("oj-ojFilePicker.multipleFileTypeUploadError",{fileTypes:e.join(a.getTranslatedString("oj-converter.plural-separator"))})}),t}_acceptFile(e){const t=this.props.accept;if(!t||0===t.length||!e)return!0;let n;for(let r=0;r<t.length;r++){if(n=i.StringUtils.trim(t[r]),!n)return!0;if(n.startsWith(".",0)){if(!e.name||e.name&&e.name.toLowerCase().endsWith(n.toLowerCase()))return!0}else{if(!e.type)return!1;if("image/*"===n){if(e.type.startsWith("image/",0))return!0}else if("video/*"===n){if(e.type.startsWith("video/",0))return!0}else if("audio/*"===n){if(e.type.startsWith("audio/",0))return!0}else if(e.type===n)return!0}}return!1}_handleFilesAdded(e,t){var i,n;const r=this._createFileList(e);null===(n=(i=this.props).onOjBeforeSelect)||void 0===n||n.call(i,{files:r,originalEvent:t}).then(()=>{var e,i;null===(i=(e=this.props).onOjSelect)||void 0===i||i.call(e,{files:r,originalEvent:t}),this.elementPromiseResolver&&(this.elementer=null)},e=>{this._fireInvalidSelectAction(e,t,!1)})}_fireInvalidSelectAction(e,t,i){var n,r;i&&this.onst s=i?new Promise(e=>{this.dragPromiseResolver=e}):null;null===(r=(n=this.props).onOjInvalidSelect)||void 0===r||r.call(n,{messages:e,originalEvent:t,until:s}),this.elementPromiseResolver&&(this.elementPromiseResolver(),this.elementPromiseResolver=null)}_createFilngth:{value:e.length},item:{value(e){return this[e]}}};for(let i=0;i<e.length;i++)t[i]={value:e[i],enumerable:!0};return Object.create(FileList.prototype,t)}},e.FilePicker.defaultProps={accept:null,capture:"none",disabled:!1,selectOn:"auto",selectionMode:"multiple"},e.FilePicker.metadata={properties:{accept:{type:"Array<string>|null"},capture:{type:"string|null",enumValues:["user","environment","implementation","none"]},disabled:{type:"boolean"},primaryText:{type:"string|function"},secondaryText:{type:"string|function"},selectOn:{type:"string",enumValues:["auto","click","clickAndDrop","drop"]},selectionMode:{type:"string",enumValues:["multiple","single"]}},slots:{trigger:{}},events:{ojBeforeSelect:{cancelable:!0},ojInvalidSelect:{},ojSelect:{}},extension:{_OBSERVED_GLOBAL_PROPS:["aria-label","role"]},methods:{_doSelectHelper:{},focus:{},blur:{}}},e.FilePicker=d([r.customElement("oj-file-picker")],e.FilePicker),Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojselectbase",["exports","ojs/ojeditablevalue","ojs/ojpopupcore","ojs/ojinputtext","ojs/ojlistview","ojs/ojhighlighttext","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojlogger","ojs/ojconfig","ojs/ojthemeutils","ojs/ojfocusutils","ojs/ojdataprovider","ojs/ojcontext","ojs/ojcomponentcore","ojs/ojkeyset","ojs/ojcustomelement-utils","ojs/ojdataproviderfactory","ojs/ojlistdataproviderview","ojs/ojtreedataproviderview","ojs/ojtimerutils"],function(e,t,i,n,r,s,a,o,l,u,d,c,h,p,_,m,f,g,v,b,y,E){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,_=_&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b,y=y&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y;const C=function(e){this._minLength=0,this._className=e.className,this._dataProvider=e.dataProvider,this._containerElem=e.containerElem,this._fullScreenPopup=e.fullScreenPopup,this._idSuffix=e.idSuffix,this._enabled=e.enabled,this._readonly=e.readOnly,this._value=e.value,this._getTranslatedStringFunc=e.getTranslatedStringFunc,this._addBusyStateFunc=e.addBusyStateFunc,this._lovMainField=e.lovMainField,this._filterInputText=e.filterInputText,this._lovDropdown=e.lovDropdown,this._liveRegion=e.liveRegion,this._showMainFieldFunc=e.showMainFieldFunc,this._setFilterFieldTextFunc=e.setFilterFieldTextFunc,this._setUiLoadingStateFunc=e.setUiLoadingStateFunc,this._isValueForPlaceholderFunc=e.isValueForPlaceholderFunc,this._isShowValueInFilterFieldFunc=e.isShowValueInFilterFieldFunc,this._lastDataProviderPromise=null,this._fetchType=this.hasData()?"init":null;var t=c.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||"0";this._dropdow10)};C.prototype.setValuetype.getFetchType=function(){return this._fetchType},C.prototype.destroy=function(){var e=this._closeDelayTimer;isNaN(e)||(delete this._closeDelayTimer,window.clearT.hasData=function(){return containerElem).hasClass("oj-listbox-dropdown-open")},C.prototype._usingHandler=function(e,t){if(a.PositionUtils.isAligningPositionClipped(t)){var i=this._addBusyStateFunc("clondow.setTimeout(function(){this.closeDropdown(),i()}.bind(this),1)}else{var n=o(this._containerElem),r=this._lovDropdown.getElement(),s=o(r),l=a.PositionUtils.calcAvailablePopupSize(e,t),u=r.style;e.left>=0&&(u.maxWidth=l.width+"px"),u.maxHeight=l.height+"px";var d=this.getDropdownPosition(!0);s.position(d),"bottom"===t.vertical?(n.addClass("oj-listbox-drop-above"),s.addClass("oj-listbox-drop-above")):(n.removeClass("oj-listbox-drop-above"),s.removeClass("oj-listbox-drop-above"))}},C.prototype.getDropdownPosition=function(e){var t,i="rtl"===l.getReadingDirection();if(this._fullScreenPopup){var n=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset;t={my:"start top",at:"start top",of:window,offset:{x:n,y:r}},t=a.PositionUtils.normalizeHorizontalAlignment(t,i)}else{var s={my:"start top",at:"start bottom",of:this._lovMainField.getElement(),collision:"flip",offset:{x:0,y:this._dropdownVerticalOffset}};e||(s.using=this._usingHandler.bind(this)),t=a.PositionUtils.normalizeHorizontalAlignment(s,i),t=a.PositionUtils.coerceToJet(t),(t=a.PositionUtils.coerceToJqUi(t)).of=s.of}return t},C.prototype.sizeDropdown=function(){var e=this._lovDropdown.getElement();if(this._fullScreenPopup){var t=Math.min(window.innerWidth,window.screen.availWidth),i=Math.min(window.innerHeight,window.screen.availHeight);if("phone"===d.getDeviceType()&&window.parent&&window!==window.parent){var n=Math.min(window.parent.innerHeight,window.parent.screen.availHeight),r=Math.min(i,n);if(i>r){var s=i-r;e.style.paddingBottom=s+"px"}}e.style.width=t+"px",e.style.height=i+"px"}else e.style.minWidth=o(this._containerElem).width()+"px"},C.prototype.openDropdown=function(e){if(this.isDropdownOpen()||!1===this._enabled||!0===this._readonly)return!1;if(this._fullScreenPopup){var t=this._lovMainField.getInputElem(),i=this._isShowValueInFilterFieldFunc()?t.value:"";this._setFilterFieldTextFunc(i)}return o(this._containerElem).addClass("oj-listbox-dropdown-open"),e||this.updateResults(!0,this._fullScreenPopup),!0},C.prototype.closeDropdown=function(){if(this.isDropdownOpen()){var e=o(this._containerElem);e.removeClass("oj-listbox-dropdown-open"),this._ariaExpanded&&(e.removeClass("oj-listbox-drop-above"),o(this._lovDropdown.getElement()).removeClass("oj-listbox-drop-above"),this._lovDropdown.close(),this._ariaExpanded=!1,this._lovMainField.getInputElem().setAttribute("aria-expanded","false"),this._lastSearchTerm=null)}},C.prototype.updateResults=function(e,t){var i;i=!0===e?"":this._filterInputText.rawValue||"";var n=this._lastSearchTerm;if(!0===e||!n||i!==n){var r=this._lovDropdown.getElement().classList;!0===e?r.add("oj-listbox-initial-open"):r.remove("oj-listbox-initial-open"),this._lastSearchTerm=i,i.length>=this._minLength?e&&!0!==e?this._runQuery(i,t):this._runQuery(i,t,!0===e):this.closeDropdown()}},C.prototype._runQuery=function(e,t,i){var n=this._lovDropdown;if(this._minLength>e.length)this.closeDropdown();else if(this.openDropdown(!0),this.hasData()){this._ariaExpanded||(n.open(),this._ariaExpanded=!0,this._lovMainField.getInputElem().setAttribute("aria-expanded","true")),t&&!this._fullScreenPopup&&h.focusFirstTabStop(n.getElement());var r=this._fetchFromDataProvider(e,i);r.then(function(){r===this._lastDataProviderPromise&&this._handleQueryResultsFetch(t)}.bind(this),function(e){r===this._lastDataProviderPromise&&(u.warn("Select: _fetchFromDataProvider promise was rejected: "+e),this._handleQueryResultsFetch(t))}.bind(this))}},C.prototype._handleQueryResultsFetch=function(e){if(this.isDropdownOpen()){this._lovDropdown.getElement().classList.remove("oj-listbox-initial-open");var t,i=this._lovDropdown.getResultsCount(),n=i?i.count:0,r=!i||i.done;0===n?t=this._getTranslatedStringFunc("noMatchesFound"):(this.sizeDropdown(),t=r?this._getTranslatedStringFunc("multipleMatchesFound",{num:String(n)}):this._getTranslatedStringFunc("nOrMoreMatchesFound",{num:String(n)})),this.updateLiveRegion(t),e&&this._fullScreenPopup&&h.focusFirstTabStop(this._lovDeLiveRegion=functio,C.prototype.cancel=function(){this.ProviderEvent=function(e){this._lastSearchTerm=null},C.prototype._fetchFromDataProvider=function(e,t){var i=!1,n=this._addBusyStateFunc("fetching data");"init"===this._fetchType&&(this.isDropdownOpen()||(i=!0,this._setUiLoadingStateFunc("start")),this._fetchType=null);var r=null;if(e){if(this._dataProvider){var s=this._dataProvider.getCapability("filter");s&&s.textFilter||u.error("Select: DataProvider does not support text filter.  Filtering results in dropdown may not work correctly.")}r=a.FilterFactory.getFilter({filterDef:{text:e}})}var o=new Promise(function(s,a){var l=this._lovDropdown.renderResults(e,r,this._isValueForPlaceholderFunc(this._value)?null:this._value,t),d=function(){i&&this._setUiLoadingStateFunc("stop"),n(),o===this._lastDataProviderPromise?s():a("AbstractLovBase._fetchFromDataProvearlier promise")}.bind(this);l.then(function(){d()},function(e){o===this._lastDataProviderPromise&&u.warn("Select: renderResults promise was rejected: "+e),d()})}.bind(this));return this._lastDataProviderPromise=o,o};const S=function(e){functioe,t);this[Symbol.asyncIterator]=function(){return n}}function i(e,t){this.next=function(){var i=e.next();return new Promise(function(e,n){i.then(function(i){var n=i.value;n.data&&(t.count+=n.data.length),t.done=i.done,e(i)},function(e){n(e)})})}}this._fetchedDataCount={count:0,done:!0},this.setFilterCriterion=function(e){var t,i,n=this._filterCriterion;if(this._filterCriterion=e,t=n,i=this._filterCriterion,!(t===i||!t&&!i||t&&i&&t.text===i.text)){var r=new p.DataProviderRefreshEvent;Object.defineProperty(r,"filterCriterionChanged",{value:!0}),this.dispatchEvent(r)}},this.getFetchedDataCount=function(){return this._fetchedDataCount},this.setFetchedDataCount=function(e){this._fetchedDataCount=e},this.fetchFirst=function(i){if(e)return this._filterCriterion&&(i.filterCriterion=this._filterCriterion),this._fetchedDataCount.count=0,this._fetchedDataCount.done=!0,this._fetchedDataCount.childrenCountMap&&this._fetchedDataCount.childrenCountMap.clear(),new t(e.fetchFirst(i)[Symbol.asyncIterator](),this._fetchedDataCount);var n={};return n[Symbol.asyncIterator]=function(){return{next:function(){return Promise.resolve({value:{data:[],fetchParameters:i,metadata:[]},done:!0})}}},n},this.containsKeys=function(t){return e?e.containsKeys(t):Promise.resolve({containsParameters:t,results:new Set})},this.fetchByKeys=function(t){return e?e.fetchByKeys(t):Promise.resolve({fetchParameters:t,results:new Map})},this.fetchByOffset=function(t){return e?(this._filterCriterion&&(t.filterCriterion=this._filterCriterion),e.fetchByOffset(t)):Promise.resolve({,this.isEmpty=function(){return e?e.getTotalSize():Promise.resolve(0)},this.addEventListener=function(t,i){istener=function(t,patchEvent=functionbility=function(t){return e?e.getCapability(t):null},e&&a.DataProviderFeatureChecker.isTreeDataProvider(e)&&(this._fetchedDataCount.childrenCountMap=new Map,this.getChildDataProvider=function(t){let i=e.getChildDataProvider.apply(e,arguments);if(i){i=new S(i),this._filterCriterion&&i.setFilterCriterion(this._filterCriterion);let e=this._fetchedDataCount.childrenCountMap.get(t);e?i.setFetchedDataCount(e):(e=i.getFetchedDataCount(),this._fetchedDataCount.childrenCountMap.set(t,e))}return i}.bind(this))},O={KEYS:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46},_isControlKey:function(e){switch(e.which||e.keyCode){case O.KEYS.SHIFT:case O.KEYS.CTRL:case O.KEYS.ALT:return!0;default:return e.metaKey||e.ctrlKey}},_isFunctionKey:function(e){var t=e.which||e.keyCn(e){return Oy(e)},nextUid:(A=1,function(){var e=A;return A+=1,e}),killEvent:function(e){e.preventDefault()},killEventWithAncesto(e,t){const i=o(t.target);e.some(e=>0!==i.ctopEventPropagation:function(e){e.stopPropagation()},addBusyState:function(e,t){var i={description:"The component identified by '"+e.id+"' "+t};return _.getContext(tem:function(e,t,i){return{key:e,data:t,metadata:i}},dispatchCustomEvent:function(e,t,i,n){var r=n||{};r.subtype=i;var s={bubbles:!1,cancelable:!1,detail:r};return e.dispatchEvent(new CustomEvent(t,s))},copyAttribute:function(e,t,i,n){var r=e.getAttribute(t);null===r?O.remov"style"===t?O._removeStyles(e):e.removeAttribute(t)},_removeStyles:function(e){for(var t,i=e.style,n=i.length-1;n>=0;n--)t=i.item(n),i.removeProperty(t)},isDataProvider:function(e){return!(!e||!m.DataProviderFeatureChecker)&&m.DataProvider&m.DataProviderFeatureChecker.isTreeDataProvider(e)}};var A;const j=function(){};j.prototype.init=function(e){this._dataProvider=e.dataProvider,this._fullScreenPopup=e.fullScreenPopup,this._bodyElem=o(e.bodyElem),this._itemTemplate=e.itemTemplate,this._collectionTemplate=e.collectionTemplate,this._getTemplateEngineFunc=e.getTemplateEngineFunc,this._templateContextComponentElement=e.templateContextComponentElement,this._addBusyStateFunc=e.addBusyStateFunc,this._itemTextRendererFunc=e.itemTextRendererFunc,this._filterInputText=e.filterInputText,this._getThrottlePromiseFunc=e.getThrottlePromiseFunc,this._isValueForPlaceholderFunc=e.isValueForPlaceholderFunc,this._isValueItemForPlaceholderFunc=e.isValueItemForPlaceholderFunc,this._currentFirstItem=null,this._templateEngine=null,this._resultsCount=null,this._NO_RESULTS_FOUND_CLASSNAME="oj-listbox-searchselect-no-results";var t=this._addBusyStateFunc("LovDropdown initializing");this._addDataProviderEventListeners();var i,n,r=this._createInnerDom(e);this._containerElem=r,this._dropdownPositioningProxyContainer=this._createDropdownPositioningProxyElem(e);var s=new Promise(function(e,t){i=e,n=t});this._collectionContext={parentElement:this._containerElem[0],idSuffix:e.idSuffix,renderDone:i,renderError:n,data:this._dataProvider,searchText:void 0,selected:void 0,selectedItem:void 0,selectedItemChangedListener:this._HandleCollectionSelectedItemChanged.bind(this),currentRow:{rowIndex:void 0,rowKey:void 0},currentRowChangedListener:this._handleCollectionCurrentRowChanged.bind(this),currentRowKeyChangedListener:this._handleCollectionCurrentRowKeyChanged.bind(this),handleRowAction:this._handleRowAction.bind(this)},this._collectionRendererFunc=this._collectionTemplate?this._templateCollectionRenderer.bind(this):this._defaultCollectionRenderer.bind(this),this._collectionRendererFunc(this._collectionContext),r.on("change","."+e.className+"-input",O.stopEventPropagation),r.on("click mouseup mousedown",function(e){O.stopEventPropagation(e),"mousedown"===e.type&&this._fullScreenPopup&&(e.target===r[0]||l.isAncestorOrSelf(this._filterInputText,e.target)&&"input"!==e.target.tagName.toLowerCase())&&e.preventDefault()}.bind(this));var a=function(){e.afterDropdownInitFunc&&e.afterDropdownInitFunc(this._resultsElem[0]),t()}.bind(this);if(s.then(a,a),r.on("keydown",this._handleKeyDown.bind(this)),this._updateLabelFunc){var u=this._updateLabelFunc;this._updateLabelFunc=null,u()}},j.prototype._dispatchEvent=function(e,t){return O.dispatchCustomEvent(this._containerElem[0],"lovDropdownEvent",e,t)},j.prototype.destroy=function(){(this._itemTemplate||this._collectionTemplate)&&this._containerElem&&this._getTemplateEngineFunc().then(function(e){e.clean(this._containerElem[0])}.bind(this)),this._removeurn this._containerElem?this._containerElem[0]:null},j.prototype._createInnerDom=function(e){var t=e.idSuffix,i=document.createElement("div");i.setAttribute("data-oj-containerid",e.parentId),i.setAttribute("data-oj-context",""),i.setAttribute("id","lovDropdown_"+t),i.setAttribute("class","oj-listbox-drop oj-listbox-searchselect oj-listbox-"+e.styleClassComponentName+(this._fullScreenPopup?" oj-listbox-fullscreen":"")),i.style.display="none",i.setAttribute("role","presentation"),this._fullScreenPopup&&i.appendChild(this._filterInputText);var n=document.createElement("div");return n.setAttribute("class","oj-searchselect-results-placeholder"),i.appendChild(n),o(i)},j.prototype._createDropdownPositioningProxyElem=function(e){var t=e.idSuffix,i=document.createElement("div");i.style.visibility="hidden",i.style.position="absolute",i.style.overflow="hidden";var n=document.createElement("div");n.setAttribute("data-oj-containerid",e.parentId),n.setAttribute("data-oj-context",""),n.setAttribute("id","lovDropdownPositioningProxy_"+t),n.setAttribute("class","oj-listbox-drop oj-listbox-searchselect"),i.appendChild(n);var r=document.createElement("div");return r.setAttribute("class","oj-select-results"),n.appendChild(r),o(i)},j.prototype._defaultItemRenderer=function(e){var t,i=e.parentElement,n=this._itemTextRendererFunc({key:e.key,data:e.data,metadata:e.metadata});!1===e.leaf?(t=document.createElement("span"),o(t).text(n)):((t=document.createElement("oj-highlight-text")).setAttribute("text",n),t.setAttribute("match-text",this._collectionContext.searchText)),i.appendChild(t)},j.prototype._templateItemRenderer=function(e,t){var i=o.extend({},t);i.componentElement=this._templateContextComponentElement,i.searchText=this._collectionContext.searchText;var n=i.parentElement;if(e)for(var r=e.execute(i.componentElement,this._itemTemplate,i),s=0;s<r.length;s++)n.appendChild(r[s])},j.prototype.renderResults=function(e,t,i,n){var r,s,a=this._addBusyStateFunc("LovDropdown rendering results");this._latestFilterCriteria=t,this._ClearSelection(),this._duringListViewInitialization=!0;var o=new Promise(function(e,t){r=e,s=t}),l=new Promise(function(t,r){o.then(function(){_.getContext(this._containerElem[0]).getBusyContext().whenReady().then(function(){l===this._lastRenderResultsPromise?this._configureResults(e,i,n).then(t,r):t()}.bind(this),r)}.bind(this),r)}.bind(this));this._lastRenderResultsPromise=l;var d=this._collectionContext;d.data=this._dataProvider,d.searchText=e,this._getThrottlePromiseFunc().then(function(){if(d.renderError){var e=d.renderError;this._clearContextRenderPromiseFunctions(d),e("LovDropdown.renderResults: rejecting earlier promise")}d.renderDone=r,d.renderError=s,this._dataProvider.setFilterCriterion(t),this._collectionRendererFunc(d)}.bind(this));var c=function(){l===this._lastRenderResultsPromise&&(this._duringListViewInitialization=!1),a()}.bind(this);return l.then(function(){c()},function(e){l===this._lastRenderResultsPromise&&u.warn("Select: LovDropdown.renderResults retPromise rejected: "+e),c()}.bind(this))},j.prototype.updateLabel=function(e,t){var i=this._resultsElem;if(i){if(!this._collectionTemplate){var n=i[0];e?(n.setAttribute("aria-labelledby",e),n.setAttribute("aria-label","")):t&&(n.setAttribute("aria-label",t),n.setAttribute("aria-labelledby",""))}}else this._updateLabelFunc=this.updateLabel.bind(this,e,t)},j.prototype.updateItemTextRendererFunc=function(e){if(this._itemTextRendererFunc=e,!this._collectionTemplate&&!this._itemTemplate&&this._resultsElem){var t=this._resultsElem[0],i=this._addBusyStateFunc("LovDropdown setting new default item renderer");t.setProperty("item.renderer",this._defaultItemRenderer.bind(this)),_.getContext(t).getBusyContext().whenReady().then(i,i)}},j.prototype._configureResults=function(e,t,i){var n=_.getContext(this._containerElem[0]).getBusyContext();this._SetCurrentFirstItem(null),this._focusinListener&&(this._containerElem[0].removeEventListener("focusin",this._focusinListener),this._focusListener=null),this._resultsCount=this._dataProvider.getFetchedDataCount()||{};const r=this._containerElem[0].offsetHeight>0;return null==this._resultsCount.count||0===this._resultsCount.count?(this._containerElem.addClass(this._NO_RESULTS_FOUND_CLASSNAME),r&&a.Components.subtreeHidden(this._containerElem[0]),Promise.resolve()):(this._containerElem.removeClass(this._NO_RESULTS_FOUND_CLASSNAME),r||a.Components.subtreeShown(this._containerElem[0]),i?this._ConfigureResultsInitial(t,n):null==e||""===e?this._ConfigureResultsNoSearchText(t,n):this._ConfigureResultsWithSearchText(t,n))},j.prototype._ConfigureResultsInitial=function(e,t){return a.Assert.failedInAbstractFunction(),t.whenReady()},j.prototype._ConfigureResultsNoSearchText=function(e){return a.Assert.failedInAbstractFunction(),e.whenn a.Assert.failedInAbstractFunction(),e.whenReady()},j.prototype._FetchFirstResult=function(){return a.DataProviderFeatureChecker.isTreeDataProvider(this._dataProvider)?this._fetchFirstLeafData():this._fetchFirstFlatData()},j.prototype._fetchFirstFlatData=function(){const e=this._dataProvider.fetchByOffset({offset:0,size:1});let t=null;const i=function(e){if(null!=e){const i=e.results;i.length>0&&(t=this._createValueItemFromItem(i[0]))}return Promise.resolve(t)}.bind(this);return e.then(i)},j.prototype._fetchFirstLeafData=function(){const e=this._dataProvider;let t=!1;const i=function(n,r){let s,a=0;if(null!=r){const t=e.getFetchedDataCount().childrenCountMap;t&&t.has(r)&&(s=t.get(r).count)}if(null==s&&(s=n.getFetchedDataCount().count||0),0===s)return Promise.resolve(null);const o=function(r){const l=r.results;let u,d=0===s||s===a+1;if(l.length){const n=l[0],r=n.metadata,s=e.getChildDataProvider(r.key);if(null!=s)u=i(s,r.key);else{const e=this._createValueItemFromItem(n);t=!0,u=Promise.resolve(e)}}else u=Promise.resolve(null),d=!0;return u.then(function(e){return d||t?Promise.resolve(e):(a+=1,n.fetchByOffset({offset:a,size:1}).then(o))})}.bind(this);return n.fetchByOffset({offset:a,size:1}).then(o)}.bind(this);return i(e,null)},j.prototype._ClearSelection=function(){this._SetCollectionCurrentRow({rowKey:null}),this._SetCollectionSelectedKeySet(new f.KeySetImpl([ns=function(e){e.renderDone=null,e.renderError=null},j.prototype._GetDefaultCollectionRendererSelectionMode=function(){return a.Assert.failedInAbstractFunction(),null},j.prototype._defaultCollectionRenderer=function(e){var t,i=e.renderDone,n=e.renderError;if(this._resultsElem)t=this._resultsElem[0],_.getContext(t).getBusyContext().whenReady().then(function(){t.data=e.data,t.selected=e.selected,t.currentItem=e.currentRow.rowKey,this._clearContextRenderPromiseFunctions(e),i()}.bind(this),function(t){u.warn("Select: busyContext promise rejected before setting props on listView: "+t),this._clearContextRenderPromiseFunctions(e),n(t)}.bind(this));else{var r=o(e.parentElement).find(".oj-searchselect-results-placeholder")[0],s=e.idSuffix;(t=document.createElement("oj-list-view")).setAttribute("data-oj-internal",""),t.setAttribute("data-oj-binding-provider","none"),t.setAttribute("id","oj-searchselect-results-"+s),t.setAttribute("selection-mode",this._GetDefaultCollectionRendererSelectionMode()),t.setAttribute("class","oj-select-results oj-group-header-sm"),t.setAttribute("drill-mode","none"),t.setAttribute("gridlines.item","hidden");var l=document.createElement("template");l.setAttribute("slot","noData");var d=document.createElement("div");d.setAttribute("class","oj-searchselect-no-results-container"),l.content?l.content.appendChild(d):l.appendChild(d),t.appendChild(l),e.parentElement.replaceChild(t,r),this._resultsElem=o(t),this._resultsElem.on("click",O.killEvent),_.getContext(t).getBusyContext().whenReady().then(function(){t.addEventListener("ojItemAction",e.handn(t){e.currentRowKeyChangedListener(t.detail.value)}),e.data&&a.DataProviderFeatureChecker&&a.DataProviderFeatureChecker.isTreeDataProvider(e.data)&&(t.setProperty("item.fe=>e.leaf),t.setProperty("item.selectable",e=>e.leaf)),this._itemTemplate?this._getTemplateEngineFunc().then(function(n){t.setProperty("item.renderer",this._templateItemRenderer.bind(this,n)),this._clearContextRenderPromiseFunctions(e),i()}.bind(this),function(t){u.warn("Select: template item renderer template engine promise rejected: "+t),this._clearContextRenderPromiseFunctions(e),n(t)}.bind(this)):(t.setProperty("item.renderer",this._defaultItemRenderer.bind(this)),this._clearContextRenderPromiseFunctions(e),i())}.bind(this),function(t){u.warn("Select: creating default listView busyContext promise rejected: "+t),this._clearContextRenderPromiseFunctions(e),n(t)}.bind(this))}},j.prototype._templateCollectionRenderer=function(e){var t=e.renderDone,i=e.renderError;if(this._resultsElem){var n=this._collectionTemplateContext;n.data=e.data,n.searchText=e.searchText,n.selected=e.selected,this._clearContextRenderPromiseFunctions(e),t()}else{var r=o(e.parentElement),s=r.find(".oj-searchselect-results-placeholder")[0];this._getTemplateEngineFunc().then(function(i){this._templateEngine=i,this._collectionTemplateContext=this._createCollectionTemplateContext(i,e);for(var n=i.execute(this._templateContextComponentElement,this._collectionTemplate,this._collectionTemplateContext),a=0;a<n.length;a++)s.parentNode.insertBefore(n[a],s);s.parentNode.removeChild(s),this._resultsElem=r.find(".oj-select-results"),this._resultsElem.on("click",O.killEvent),this._clearContextRenderPromiseFunctions(e),t()}.bind(this),function(t){u.warn("Select: template collection renderer template engine promise rejected: "+t),this._clearContextRenderPromiseFunctions(e),i(t)}.bind(this))}},j.prototype._addDataProviderEventListeners=function(){var e=this._dataProvider;if(e){var t=this._handleDataProviderEvent.bind(this);this._savedDataProviderEH=t,e.addEventListener("mutate",t),e.addEventListener("refresh",t)}},j.prototype._removeDataProviderEventListeners=function(){var e=this._dataProvider,t=this._savedDataProviderEH;e&&t&&(e.removeEventListener("mutate",t),e.removeEventListener("refresh",t)),this._savedDataProviderEH=void 0},j.prototype._handleDataProviderEvent=function(e){var t=this._addBusyStateFunc("LovDropdown handling data provider event");_.getContext(this._containerElem[0]).getBusyContext().whenReady().then(function(){t()},function(e){u.warn("Select: LovDropdown.handleDataProviderEvent busyContext promise rejected: "+e),t()})},j.prototype.close=function(){this._lastRenderResultsPromise=null;var e=document.activeElement;l.isAncestor(this.getElement(),e)&&e.blur(),this._ClearSelection(),this._focusinListener&&(this._containerElem[0].removeEventListener("focusin",this._focusinListener),this._focusListener=null);var t={};t[a.PopupService.OPTION.POPUP]=this._containerElem,a.PopupService.getInstance().close(t),this._containerElem.detach(),this._dispatchEvent("dropdownClosed")},j.prototype.open=function(){var e=this._containerElem;this._containerElem.removeClass(this._NO_RESULTS_FOUND_CLASSNAME),e[0]!==this._bodyElem.children().last()[0]&&e.appendTo(this._bohEvent("closeDropdown",{trigger:"popupCloseEvent"})}.bind(this),t[a.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[a.PopupService.EVENT.POPUP_AUTODISMISS]=this._clickAwayHandler.bind(this),t[a.PopupService.EVENT.POPUP_REFRESH]=function(){this._dispatchEvent("sizeDropdown"),this._bodyElem.append(this._dropdownPositioningProxyContainer),this._dispatchEvent("adjustDropdownPosition",{popupElem:e[0],positioningProxyElem:this._dropdownPositioningProxyContainer.children()[0]}),this._dropdownPositioningProxyContainer.detach()}.bind(this),t[a.PopupService.EVENT.POPUP_AFTER_OPEN]=function(e){var t=e.popup[0];this._dispatchEvent("sizeDropdown"),this._bodyElem.append(this._dropdownPositioningProxyContainer),this._dispatchEvent("adjustDropdownPosition",{popupElem:t,positioningProxyElem:this._dropdownPositioningProxyContainer.children()[0]}),this._dropdownPositioningProxyContainer.detach(),this._fullScreenPopup&&t.scrollIntoView()}.bind(this);var i={};i[a.PopupService.OPTION.POPUP]=e,i[a.PopupService.OPTION.EVENTS]=t,i[a.PopupService.OPTION.LAYER_SELECTORS]="oj-listbox-drop-layer",i[a.PopupService.OPTION.CUSTOM_ELEMENT]=!0,this._fullScreenPopup&&(i[a.PopupService.OPTION.MODALITY]=a.PopupService.MODALITY.MODAL),this._dispatchEvent("openPopup",{psOptions:i})},j.prototype._clickAwayHandler=function(e){var t=this._containerElem,i=o(e.target);if(!i.closest(t).length&&!i.closest("#"+o.escapeSelector(t.attr("data-oj-containerid"))).length){var n=t.closest(".oj-listbox-drop-layer");n.length>0&&i.closest(n).length>0||t.length>0&&this._dispatchEvent("closeDropdown",{trigger:"clickAway"})}},j.prototype._surrogateRemoveHandler=function(){this._containerElem&&this._containerElem.remove()},j.prototype._handleKeyDown=function(e){var t=e.which||e.keyCode;t===O.KEYS.TAB?this._dispatchEvent("tabOut"):t===O.KEYS.ESC&&this._dispatchEvent("closeDropdown",{trigger:"escKeyDown"_HandleCollectionSelectedItemChanged=function(e,t){},j.prototype._handleCollectionCurrentRowChanged=function(e){this._duringListViewInitialization||null==e||this._handlingCollectionFocusinOnce||(this._collectionContext.currentRow={rowIndex:e.rowIndex,rowKey:e.rowKey},this._handleCollectionCurrentRowKeyChanged(e.rowKey))},j.prototype._handleCollectionCurrentRowKeyChanged=function(e){this._duringListViewInitialization||null==e||this._handlingCollectionFocusinOnce||(this._collectionContext.currentRow.rowKey=e)},j.prototype._handleRowAction=function(e,t){var i=this._createValueItemFromItem(e.detail.context);thispatchEvent("handleSelection",{valueItem:e,event:t})},j.prototype._createCollectionTemplateContext=function(e,t){var i={};if(e){i.data=t.data,i.searchText=t.searchText,e.defineTrackableProperty(i,"selected"),e.defineTrackableProperty(i,"selectedItem",void 0,t.selectedItemChangedListener);let n={};e.defineTrackableProperty(n,"rowKey",void 0,t.currentRowKeyChangedListener),e.defineTrackableProperty(i,"currentRow",n,t.currentRowChangedListener),i.handleRowAction=t.handleRowAction}else u.error("JET Select: template engine not available when creating context for collectionTemplate");return i},j.prototype._createValueItemFromItem=function(e){return null==e.data||null==e.metadata?null:{key:e.metadata.key,data:e.data,metadata:e.metadata}},j.prototype._SetCollectionSelectedKeySet=function(e){this._collectionContext.selected=e,null!=this._collectionTemplateContext?this._collectionTemplateContext.selected=e:null==this._collectionTemplate&&this._resultsElem&&this._resultsElem[0].setProperty("selected",e)},j.prototype._SetCollectionCurrentRow=function(e){this._collectionContext.currentRow={rowIndex:e.rowIndex,rowKey:e.rowKey},null!=this._collectionTemplateContext?(this._addListenerForRowKeyProperty(e),this._collectionTemplateContext.currentRow=e):null==this._collectionTemplate&&this._resultsElem&&this._resultsElem[0].setProperty("currentItem",e.rowKey)},j.prototype.getValueItemForSelection=function(){var e=this._collectionContext.currentRow.rowKey,t=this._currentFirstItem,i=this._collectionContext.selectedItem;if(null!=e){let i={};return i.key=e,t&&t.key===e&&(i.data=t.data,i.metadata=t.metadata),i}return i},j.prototype.getResultsCount=function(){return this._resultsCount},j.prototype._SetCurrentFirstItem=function(e){this._currentFirstItem=e},j.prototype._addListenerForRowKeyProperty=function(e){var t=this._collectionContext,i=e.rowKey;this._templateEngine&&this._templateEngine.defineTrackableProperty(e,"rowKey",i,t.currentRowKeyChangedListener)},j.prototype._FetchFirstResultForKeyboardFocus=function(){var e=_.getContext(this._containerElem[0]).getBusyContext();return this._FetchFirstResult().then(function(t){return null!=t&&(this._focusinListener=this._handleCollectionFocusinOnce.bind(this,t),this._containerElem[0].addEventListener("focusin",this._focusinListener)),e.whenReady()}.bind(this))},j.prototype._handleCollectionFocusinOnce=function(e){if(this._containerElem[0].removeEventListener("focusin",this._focusinListener),this._focusinListener=null,!l.recentPointer()){var t=this._addBusyStateFunc("LovDropdown setting selected KeySet on focusin");this._handlingCollectionFocusinOnce=!0,this._SetCollectionCurrentRow({rowKey:e.key}),_.getContext(this.nction(){this._handlingCollectionFocusinOnce=!1,t()}.bind(this))}};const I=function(e){this._addBusyStateFunc=e.addBusyStateFunc,this._forceReadOnly=e.forceReadOnly,this._createOrUpdateReadonlyDivFunc=e.createOrUpdateReadonlyDivFunc,this._containerElem=this._createInnerDom(e);var t=o(this._containerElem).find("input."+e.className+"-input");this._inputElem=t[0]};I.prototype.getElement=function(){return this._containerElem},I.prototype.getInputElem=functioputText=function(){return this._inputElem.value||""},I.prototype._createInnerDom=function(e){var t=e.className,i=e.componentId,n=e.inputType,r=e.enabled,s=e.readOnly,a=e.ariaLabel,o=e.ariaControls,l=e.cachedMainFieldInputElement,u=document.createElement("div");u.setAttribute("class","oj-text-field-container oj-searchselect-main-field oj-text-field-has-end-slot"),u.setAttribute("role","presentation");var d=document.createElement("div");d.setAttribute("class","oj-text-field-middle"),u.appendChild(d);var c=l||document.createElement("input");return c.setAttribute("id",i+"|input"),c.setAttribute("autocomplete","off"),c.setAttribute("autocorrect","off"),c.setAttribute("autocapitalize","off"),c.setAttribute("spellcheck","false"),c.setAttribute("class",t+"-input oj-text-field-input"),c.setAttribute("aria-autocomplete","list"),c.setAttribute("placeholder",e.placeholder),c.disabled=!r&&!s,(s||this._forceReadOnly&&r)&&c.setAttribute("readonly","true"),s||(c.setAttribute("role","combobox"),c.setAttribute("aria-expanded","false")),a&&c.setAttribute("aria-label",a),o&&c.setAttribute("aria-controls",o),null!==n&&""!==n?c.setAttribute("type",n):c.setAttribute("type","text"),d.appendChild(c),e.endContent&&u.appendChild(e.endContent),s&&this._createOrUpdateReadonlyDivFunc(c),u},I.prototype.updateLabel=function(e,t){e?(this._inputElem.setAttribute("aria-labelledby",e),this._inputElem.removeAttribute("aria-label")):t&&(this._inputElem.setAttribute("aria-label",t),this._inputElem.removeAttribute("aria-labelledby"))},a.__registerWidget("oj.ojSelectBase",o.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",_ALLOWED_INPUT_TYPES:["email","number","search","tel","text","url"],_OPTIONS_REQUIRING_REFRESH:new Set(["disabled","readOnly","placeholder","data"]),options:{placeholder:"",data:null,required:!1,virtualKeyboard:"search",readOnly:!1,itemText:"label",labelledBy:null},widget:function(){return o(this.OuterWrapper)},_ComponentCreate:function(){this._super(),this._fullScreenPopup="phone"===d.getDeviceRenderMode()},_AfterCreate:function(){this._super(),this._initInputIdLabelForConnection(this._GetContentElement()[0],this.OuterWrapper.id,this.options.labelledBy)},_IsTextFigetElement().querySelector(".oj-text-field-middle")},_HandleAfterFocusToggle:function(e,t){"focusout"===t&&this._abstractLovBase.isDropdownOpen()&&e.classList.add("oj-focus")},_IsRequired:function(){return this.options.required},_labelledByUpdatedForInputComp:t.EditableValueUtils._labelledByUpdatedForInputComp,_initInputIdLabelForConnection:t.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:t.EditableValueUtils._linkLabelForInputComp,_AfterSetOptionRequired:t.EditableValueUtils._AfterSetOptionRequired,_refreshRequired:t.EditableValueUtils._refreshRequired,_setTabIndex:t.EditableValueUtils._setTabIndex,_AriaRequiredUnsupported:function(){return!1},_VerifyConnectedForSetup:function(){return!0},_SetInputType:t.EditableValueUtils._SetInputType,_GetStyleClassComponentName:function(){return a.Assert.failedInAbstractFunction(),""},_GetTemplateSlot:function(e){var t=g.CustomElementUtils.getSlotMap(this.OuterWrapper)[e];return t&&t[0]&&"TEMPLATE"===t[0].tagName?t[0]:null},_SetupSelectResources:function(e){this._loadingIndicatorCount=0;for(var t=this.OuterWrapper,i=t.childNodes,n=[],r=0;r<i.length;r++)n.push(i[r]);var s=this.options;this._wrapDataProviderIfNeeded(s.data),this._addDataProviderEventListeners(),this._n(){return a.getTranslatedString.apply(a,arguments)},u=function(e){return this._AddBusyState(e)}.bind(this),d=t.getAttribute("id");d||(d="oj-"+this._GetStyleClassComponentName()+"-"+O.nextUid(),t.setAttribute("id",d));var c=d;this._idSuffix=d;var h=!s.disabled;this._lovEnabled=h;var p=s.readOnly||!1,m=this.element;m.prop("disabled",!(h&&!p));var f=this._cssOptionDefaults.showIndicatorDelay;f=parseInt(f,10),f=isNaN(f)?250:f,this._showIndicatorDelay=f;var g=m.attr("type"),v="oj-searchselect";this._className=v,this._initContainer(v,c,p);var b=new I({className:v,ariaLabel:t.getAttribute("aria-label"),ariaControls:t.getAttribute("aria-controls"),componentId:d,inputType:g,enabled:h,readOnly:p,placeholder:s.placeholder,addBusyStateFunc:u,forceReadOnly:this._fullScreenPopup,endContent:this._createMainFieldEndContent(h,p),cachedMainFieldInputElement:e,createOrUpdateReadonlyDivFunc:this._createOrUpdateReadonlyDiv.bind(this)});this._lovMainField=b,this._initLovMainField(b);var y=b.getElement();t.appendChild(y);var E=this._createFilterInputText(v,c);this._fullScreenPopup||(E.style.visibility="hidden",t.appendChild(E)),this._filterInputText=E;var S=this._CreateLovDropdown();this._initLovDropdownFunc=function(e){var i=function(t){this._fullScreenPopup?(E.setAttribute("aria-controls",t.igetBusyContext().whenReady().then(function(){e&&e()})):e&&e()}.bind(this);this._initLovDropdown(c,g,d,l,u,i);var n=S.getElement();t.appendChild(n),n.addEventListener("lovDropdownEvent",this._handleLovDropdownEvent.bind(this)),this._fullScreenPopup||n.addEventListener("mousedown",function(){this._mousedownOnDropdown=!0}.bind(this)),o(b.getInputElem()).attr("aria-owns",n.id)}.bind(this),this._lovDropdown=S;var A=new C({className:v,dataProvider:this._wrappedDataProvider,containerElem:t,fullScreenPopup:this._fullScreenPopup,idSuffix:c,lovMainField:b,filterInputText:E,lovDropdown:S,liveRegion:this._liveRegion,enabled:h,readOnly:p,value:s.value,getTranslatedStringFunc:l,addBusyStateFunc:u,showMainFieldFunc:this._showMainField.bind(this),setFilterFieldTextFunc:this._SetFilterFieldText.bind(this),setUiLoadingStateFunc:this._setUiLoadingState.bind(this),isValueForPlaceholderFunc:this._IsValueForPlaceholder.bind(this),isShowValueInFilterFieldFunc:this._IsShowValueInFilterField.bind(this)});if(this._abstractLovBase=A,m.hide().attr("aria-hidden",!0),e){var j=this.options.describedBy;j&&this._describedByUpdated(null,j)}if(this._refreshRequired(s.required),this._initInputIdLabelForConnection(this._GetContentElement()[0],t.id,this.options.labelledBy),this._updateLabel(),this._setTabIndex(m[0],b.getInputElem()),p){var w=this._getReadonlyDiv();w&&this._setTabIndex(m[0],w)}for(var T=0;T<n.length;T++)t.appendChild(n[T]);this._SetupInitialValue()},_AddBusyState:function(e,t){var i=t||this.OuterWrapper,n=O.addBusyState(i,e);if(this._makingInternalValueChange){ernalValueChangePromise();return function(){n(),r()}}return n},_StartMakingInternalValueChange:function(){var e=this._makingInternalValueChangePromise,t=this._chainInternalValueChangePromise();return this._makingInternalValudeferredMakingInternalValueChangeQueueCallback=null}.bind(this)),t},_chainInternalVafunction(){var e=null,t=new Promise(function(t){e=t}),i=O.addBusyState(this.OuterWrapper,"Processing value change");t.then(i,i);var n=t;this._makingInternalValueChangePromise&&(n=Promise.als._deferredMakingInternalValueChangeQueueCallback()}.bind(this);return n.then(r,r),this._makingInternalValueChangePromise=n,e},_queueValueChangeDeferredCallback:function(e){var t=O.addBusyState(this.OuterWrapper,"queueing deferred callback while making value change"),i=this._deferredMakingInternalValueChangeQueueCallback;this._deferredMakingInternalValueChangeQueueCallback=function(){try{i&&i(),e()}finally{t()}}},_SetupInitialValue:function(){a.Assert.failedInAbstractFunction()},_ReleaseSelectResources:function(e){for(var t=this._loadingIndicatorCount;t>=0;t--)this._setUiLoadingState("stop");this._loadingIndicatorCount=0,this._savedLoadingIndicator=!1,this._mousedownOnDropdown=!1,this._deferredSetDisplayValue=null,this._bReleasedResources&&this._clearMainFieldFocusHandlerTimer(),o(this._filterInputText).remove(),e&&(o(this._lovMainField.getInputElem()).detach(),this._cleanUpMainFieldInputElement(),o(this._lovMainField.getInputElem()).off(this._lovMainFieldInputEventListeners)),o(this._lovMainField.getElement()).remove(),o(this._liveRegion).remove(),this._abstractLovBase.destroy(),this._lovDropdown.getElement()&&(o(this._lovDropdown.getElement()).remove(),this._lovDropdown.destroy());var i=this.OuterWrapper,n=i.classList;n.remove(this._className),n.remove("oj-form-control"),n.remove("oj-component"),n.remove("oj-read-only"),n.remove("oj-enabled"),n.remove("oj-disabled"),o(i).off("change","."+this._className+"-input",O.stopEventPropagation).off(this._containerEventListeners),this._containerEventListeners=null,this.element.removeAttr("aria-hidden").show(),this._removeDataProviderEventListeners(),this._wrappedDataProvider=null,this._liveRegion=null,this._abstractLovBase=null,this._lovMainField=null,this._filterInputText=null,this._lovDropdown=null},_cleanUpMainFieldInputElement:function(){var e=this._lovMainField.getInputElem();if(a.AgentUtils.getAgentInfo().browser===a.AgentUtils.BROWSER.IE)e.removeAttribute("readonly"),e.removeAttribute("role"),e.removeAttribute("type"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-label"),e.removeAttribute("aria-labelledby");else if(e.hasAttributes())for(var t,i=e.attributes,n=i.length-1;n>=0;n--)t=i[n].name,O.removeAttribute(e,t);e.value=""},_updateLabel:function(){var e,t,i=this.options,n=this._lovMainField,r=this._lovDropdown,s=this._filterInputText;i.labelledBy&&(e=i.labelledBy);var a=this.OuterWrapper.getAttribute("aria-label");a&&(t=a),r.updateLabel(e,t),n.updateLabel(e,t),e?(s.setAttribute("labelled-by",e),s.setAttribute("aria-label","")):t&&(s.setAttribute("aria-label",t),s.setAttribute("labelled-by","")),this._fullScreenPopup&&(i.labelHint?(s.setAttribute("label-hint",i.labelHint),s.setAttribute("label-edge","inside"),s.setAttribute("labelled-by",""TextRendererFunc(this._ItemTextRenderer.bind(this))},_initContainer:function(e,t,i){var n=this.OuterWrapper,r=o(n),s=n.classList;s.add(e),s.add("oj-form-control"),s.add("oj-component"),i?s.add("oj-read-only"):s.add(this._lovEnabled?"oj-enabled":"oj-disabled"),this._fullScreenPopup?s.add("oj-searchselect-mobile"):s.remove("oj-searchselect-mobile"),this._toggleNoValueStyleClass();var a=document.createElement("div");a.setAttribute("id","oj-listbox-live-"+t),a.setAttribute("class","oj-helper-hidden-accessible oj-listbox-liveregion"),a.setAttribute("aria-live","polite"),n.appendChild(a),r.on("change","."+e+"-input",O.stopEventPropagation),this._containerEventListeners={click:O.killEventWithAncestorExceptions.bind(null,[".oj-user-assistance-inline-container"]),keythis),mouseup:function(){r.removeClass("oj-active")}},r.on(this._containerEventListeners),this._liveRegion=a},_toggleNoValueStyleClass:function(){var e=this.OuterWrapper.classList;this._IsValueForPlaceholder(this.options.value)?e.add("oj-searchselect-no-value"):e.remove("oj-searchselect-no-value")},_SetFilterFieldText:function(e){(this._ignoreFilterFieldRawValueChanged=!0,this._filterInputText.value=e,this._fullScreenPopup)&&(this._lovDropdown.getElement().parentElement||o(this._filterInputText).find("oj-label").remove());this._filterInputText&&(_.getContext(this._filterInputText).getBusyContext().isReady()&&this._filterInputText.refresh());this._ignoreFilterFieldRawValueChanged=!1},_IsShowValueInFilterField:function(){return!1},_ShowFilterField:function(e){if(!this._fullScreenPopup){var t=this._filterInputText;if("hidden"===t.style.visibility){var i=this._lovMainField,n=i.getInputElem();if(!e){var r=this._IsShowValueInFilterField()?n.value:"";this._SetFilterFieldText(r),O.copyAttribute(n,"aria-describedby",t,"described-by")}var s=this._getFilterInputElem();s&&(s.setAttribute("role","combobox"),e||(O.copyAttribute(n,"aria-required",s,"aria-required"),O.copyAttribute(n,"aria-invalid",s,"aria-invalid"))),i.getInputElem().style.visibility="hidden",t.style.visibility="",this.OuterWrapper.appendChild(t)}if(!e)if(a.AgentUtils.getAgentInfo().browser===a.AgentUtils.BROWSER.IE){var o=this._AddBusyState("Se filter field");setTimeout(function(){t.focus(),o()},0)}else t.focus()}},_showMainField:function(){if(!this._fullScreenPopup){var e=this._filterInputText;if("hidden"!==e.style.visibility){var t=this._lovMainField.getInputElem();t.setSelectionRange(0,0),t.style.visibility="",e.style.visibility="hidden"}}},_IsFilterInputTextCleared:function(){var e=this._filterInputText.rawValue;return null==e||""===e},_handleContainerKeyDown:function(e){if(this._lovEnabled&&!this.options.readOnly&&!O.isControlOrFunctionKey(e)){var t=e.which||e.keyCode;if(t!==O.KEYS.PAGE_UP&&t!==O.KEYS.PAGE_DOWN){var i=this._abstractLovBase,n=this._lovDropdown;switch(t){case O.KEYS.UP:case O.KEYS.DOWN:if(i.isDropdownOpen())if(h.focusFirstTabStop(n.getElement()),this.OuterWrapper.classList.add("oj-focus"),a.AgentUtils.getAgentInfo().browser===a.AgentUtils.BROWSER.IE){var r=this._AddBusyState("Select showing filter field while arrowing into dropdown");setTimeout(function(){this._ShowFilterField(!0),r()}.bind(this),0)}else this._ShowFilterField(!0);else this._openDropdown();e.preventDefault();break;case O.KEYS.ENTER:e.preventDefault(),this._HandleContainerKeyDownEnter(e);break;case O.KEYS.TAB:this._HandleContainerKeyDownTab(e);break;case O.KEYS.ESC:i.isDropdownOpen()&&(i.cancel(),e.preventDefault())}}else e.preventDefault()}},_HandleContainerKeyDownEnter:function(e){a.Assert.failedInAbstractFunction()},_HandleContainerKeyDownTab:function(e){a.Assert.failedInAbstractFunction()},_handleContainerMouseDown:function(e){var t=this._abstractLovBase;this._mousedownOnDropdown=!1,this._lovEnabled||e.preventDefault();var i=this.OuterWrapper,n=o(i),r=0===e.button,s=!1,a=this._lovMainField.getInputElem();if(r&&!this.options.readOnly){if(this._fullScreenPopup){var u=i.querySelector(".oj-searchselect-clear-value");if(u&&l.isAncestorOrSelf(u,e.target))return}if(this._lovEnabled)if(t.isDropdownOpen()){if(!this._fullScreenPopup&&t.isDropdownOpen()){var d=this._filterInputText.querySelector(".oj-searchselect-arrow");l.isAncestorOrSelf(d,e.target)&&this._CloseDropdown()}}else{var c=this._lovMainField.getElement().querySelector(".oj-searchselect-arrow"),h=l.isAncestorOrSelf(c,e.target);!this._fullScreenPopup&&h&&a.setSelectionRange(1e6,1e6),this._openDropdown(),this._fullScreenPopup&&e.preventDefault()}}if(n.addClass("oj-active"),r){if(!this._fullScreenPopup&&this._lovEnabled){var p=this._getFilterInputElem();"hidden"===this._filterInputText.style.visibility?(e.target!==p&&e.target!==a||(s=!0),a.focus()):this.options.readOnly||(e.target===p&&(s=!0),this._ShowFilterField())}s||e.preventDefault()}},_handleLovDropdownEvent:function(e){var t=e.detail,i=this._abstractLovBase;if(i)switch(t.subtype){case"closeDropdown":this._mousedownOnDropdown=!1,"escKeyDown"===t.trigger?this._filterInputText.focus():"clickAway"===t.trigger&&(this._userHasTypedFilterText=!1,this._showMainField(),this.OuterWrapper.classList.remove("oj-focus")),this._CloseDropdown();break;case"tabOut":this._HandleLovDropdownEventTabOut(e);break;case"sizeDropdown":i.sizeDropdown();break;case"adjustDropdownPosition":var n=i.getDropdownPosition();if(this._fullScreenPopup)o(t.popupElem).position(n);else{var r=t.positioningProxyElem,s=o(r).find(".oj-select-results")[0],l=o(t.popupElem),u=l.find(".oj-select-results");r.style.width=l.outerWidth()+"px",s.style.height=u.css("max-height"),o(r).position(n)}break;case"openPopup":var d=t.psOptions;d[a.PopupService.OPTION.LAUNCHER]=this.element,d[a.PopupService.OPTION.POSITION]=i.getDropdownPosition(),a.PopupService.getInstance().open(d);break;case"handleSelection":this._HandleLovDropdownEventSelection(e);break;case"dropdownClosed":this._HClosed:function(e){this._searchTextOnKeyDown=void 0},_HandleLovDropdownEventTabOut:function(e){a.Assert.failedInAbstractFunction()},_HandleLovDropdownEventSelection:function(e){a.Assert.failedInAbstractFunction()},_CloseDropdown:function(){this._mousedownOnDropdown=!1;var e=this._lovDropdown.getElement();if(null!=e){var t=document.activeElement;t&&l.isAncestor(e,t)&&t.blur(),this._abstractLovBase.closeDropdown()}},_createMainFieldEndContent:function(e,t){var i=document.createElement("span");i.setAttribute("class","oj-text-field-end");var n=this._createDropdownIcon(e,t);if(i.appendChild(n),this._fullScreenPopup){var r=this._createClearValueIcon();i.appendChild(r)}return i},_createDropdownIcon:function(e,t){var i=this._className,n=document.createElement("a"),r=i+"-arrow "+i+"-open-icon "+i+"-icon oj-component-icon oj-clickable-icon-nocontext";return t||e||(r+=" oj-disabled"),n.setAttribute("class",r),n.setAttribute("role","presentation"),n},_createClearValueIcon:function(){var e=this._className,t=document.createElement("a"),i=e+"-clear-value "+e+"-clear-value-icon "+e+"-icon oj-component-icon oj-clickable-icon-nocontext";t.setAttribute("class",i),t.setAttribute("role","button");var n=this.getTranslatedString("labelAccClearValue");return t.setAttribute("aria-label",n),t.addEventListener("click",this._HandleClearValueIconClick.bind(this)),t},_HandleClearValueIconClick:function(){a.Assert.failedInAbstractFunction()},_GetDefaultValueItemForPlaceholder:function(){return a.Assert.failedInAbstractFunction(),null},_initLovMainField:function(e){this._lovMainFieldInputEventListeners={focus:function(e){if(O.killEvent(e),!this._fullScreenPopup&&!this.options.readOnly){this._clearMainFieldFocusHandlerTimer();var t=this._AddBusyState("Select showing filter field after focusing main field");this._mainFieldFocusHandlerTimer=E.getTimer(0);var i=this._lovMainField.getInputElem(),n={selectionStart:i.selectionStart,selectionEnd:i.selectionEnd,selectionDirection:i.selectionDirection};this._mainFieldFocusHandlerTimer.getPromise().then(function(e){if(e){this._mainFieldFocusHandlerTimer=null,this._ShowFilterField();var r=this._lovMainField.getInputElem();i===r&&(n={selectionStart:i.selectionStart,selectionEnd:i.selectionEnd,selectionDirection:i.selectionDirection});var s=this._getFilterInputElem();s&&s.setSelectionRange(n.selectionStart,n.selectionEnd,n.selectionDirection)}t()}.bind(this))}}.bind(this)},o(e.getInputElem()).on(this._lovMainFieldInputEventListeners),o(e.getElement()).on({mousedown:this._handleContainerMousimer.clear(),this._mainFieldFocusHandlerTimer=null)},_getFilterInputElem:function(){var e=o(this._filterInputText).find("input");return e.length>0?e[0]:null},_createFilterInputText:function(e,t){var i=this.OuterWrapper.getAttribute("aria-label"),n=this.OuterWrapper.getAttribute("aria-controls"),r=this.options,s=document.createElement("oj-input-text");if(s.setAttribute("display-options.messages","none"),s.setAttribute("user-assistance-density","compact"),s.setAttribute("id",e+"-filter-"+t),s.setAttribute("class",e+"-filter"),s.setAttribute("clear-icon",this._fullScreenPopup?"conditional":"never"),s.setAttribute("autocomplete","off"),s.setAttribute("aria-autocomplete","list"),s.setAttribute("data-oj-internal",""),s.setAttribute("data-oj-context",""),s.setAttribute("data-oj-binding-provider","none"),r.placeholder&&s.setAttribute("placeholder",r.placeholder),s.setAttribute("disabled",r.disabled),i&&s.setAttribute("aria-label",i),!this._fullScreenPopup&&n&&s.setAttribute("aria-controls",n),s.setAttribute("virtual-keyboard",r.virtualKeyboard),this._fullScreenPopup){var a=this.getTranslatedString("cancel"),u=document.createElement("span");u.setAttribute("id","cancelButton_"+this._idSuffix),u.setAttribute("slot","start"),u.setAttribute("class",e+"-back-button"),u.settInputElem().focus(),this._abstractLovBase.cancel()}.bind(this)),s.appendChild(u);var d=document.createElement("span");d.setAttribute("class",e+"-back-icon "+e+"-icon oj-component-icon oj-clickable-icon-nocontext"),u.appendChild(d)}else{var c=document.createElement("a");c.setAttribute("class",e+"-arrow "+e+"-open-icon "+e+"-icon oj-component-icon oj-clickable-icon-nocontext"),c.setAttribute("slot","end"),s.appendChild(c)}var h=o(this.Outer._userHasTypedFilterText=!0,this._updath.addClass("oj-focus"),this._mousedownOnDropdown=!1}),s.addEventListener("blur",function(e){if(h.removeClass("oj-focus"),!this._fullScreenPopup){var t=e.relatedTarget&&l.isAncestor(this._lovDropdown.getElement(),e.relatedTarget),i=document.activeElement&&l.isAncestor(s,document.activeElement);t||this._mousedownOnDropdown||i||this._showMainField()}this._mousedownOnDropdown=!1}.bind(this)),this._fullScreenPopup||s.addEventListener("mousedown",this._handlen(){return a.Assert.failedInAbstractFunction(),null},_initLovDropdown:function(e,t,i,n,r,s){this._lovDropdown.init({dataProvider:this._wrappedDataProvider,className:"oj-select",parentId:i,idSuffix:e,fullScreenPopup:this._fullScreenPopup,inputType:t,bodyElem:o(this.OuterWrapper).closest("body")[0],itemTemplate:this._GetTemplateSlot("itemTemplate"),collectionTemplate:this._GetTemplateSlot("collectionTemplate"),getTemplateEngineFunc:this._loadTemplateEngine.bind(this),templateContextComponentElement:this.OuterWrapper,getTranslatedStringFunc:n,addBusyStateFunc:r,itemTextRendererFunc:this._ItemTextRenderer.bind(this),filterInputText:this._filterInputText,afterDropdownInitFunc:s,getThrottlePromiseFunc:this._GetThrottlePromise.bind(this),isValueForPlaceholderFunc:this._IsValueForPlaceholder.bind(this),isValueItemForPlaceholderFunc:this._IsValueItemForPlaceholder.bind(this),styleClassComponentName:this._GetStyleClassComponentName()})},_openDropdown:function(){if(this._mousedownOnDropdown=!1,this._initLovDropdownFunc){var e=this._stractLovBase&&this._abstractLovBase.openDropdown()}.bind(this))}else this._abstractLovBase.openDropdown()},_updateResults:function(e){if(this._initLovDropdownFunc){var t=this._ractLovBase&&this._abstractLovBase.updateResults(e)}.bind(this))}else this._abstractLovBase.updateResults(e)},_loadTemplateEngine:function(){if(!this._templateEngine){var e=this._AddBusyState("Select loading template engine");return new Promise(function(t,i){const n={customElement:this._GetCustomElement(),needsTrackableProperties:!0};d.__getTemplateEngine(n).then(function(i){this._templateEngine=i,t(i),e()}.bind(this),function(t){i(new Error("Error loading template engine: "+t)),e()})}.bind(this))}return Promise.resolve(this._templateEngine)},refresh:function(){if(this._makingInternalValueChange)this._queueValueChangeDeferredCallback(function(){this.refresh()}.bind(this));else{var e=this._lovMainField.getInputElem();this._bSuperRefreshing=!0,this._super(),this._bSuperRefreshing=!1,this._ReleaseSelectResources(!0),this._SetupSelectResources(e),this._initComponentMessaging(),this._deferredSetDisplayValue&&this._deferredSetDisplayValue()}},_SetupResources:function(){this._super(),this._bReleasedResources&&(this._bReleasedResources=!1,this._SetupSelectResources(ReleasedResources=!0,this._ReleaseSelectResources()},validate:function(){if(thChange){var e,t,i=new Promise(function(i,n){e=i,t=n});return this._queueValueChangeDeferredCallback(function(){this.validate().then(e,t)}.bind(this)),i}return this._ValidateHelper()},_ValidateHelper:function(){a.Assert.fName:function(){a.Assertfunction(e,t,i){a.Assert.failedInAbstractFunction()},_UpdateValueItem:function(e){a.Assert.failedInAbstractFunction()},_setOptions:function(e,t){if(this._makingInternalValueChange)this._queueValueChangeDeferredCallback(function(){var i=Object.assign({},e);i.hasOwnProperty("labelledBy")&&i.labelledBy===this.options.labelledBy&&(delete i.labelledBy,0===Object.entries(i).length)||this._setOptions(i,t)}.bind(this));else{var i;this._processSetOptions||(this._processSetOptions=[]),this._processSetOptions.push({});for(var n=!1,r=e.hasOwnProperty("data"),s=e.hasOwnProperty("value"),a=e.hasOwnProperty(this._GetValueItemPropertyName()),o=!1,l=Object.keys(e),u=0;u<l.length;u++)if(this._OPTIONS_REQUIRING_REFRESH.has(l[u])){o=!0;break}o&&(s?(this._deferSettingValue=!0,i=this._AddBusyState("Defer setting value")):r&&!a&&(n=this._valueItemSetInternally));var d=!1;!this._fullScreenPopup&&this._lovEnabled&&"hidden"!==this._filterInputText.style.visibility&&(d=!0);try{this._super(e,t);var c=this._processSetOptions.pop();if(c.forRefresh&&c.forRefresh(),i&&(this._deferSettingValue=!1),c.value)c.value();else if(n){var h=this._StartMakingInternalValueChange();this._setOption("value",this.options.value),h()}if(d&&"hidden"===this._filterInputText.style.visibility)_.getContext(this._filterInputText).getBusyContext().whenReady().then(function(){this._ShowFilterField()}.bind(this))}finally{i&&i()}}},_setOption:function(e,t,i){var n,r=this._abstractLovBase;if(e===this._GetValueItemPropertyName()&&!this._IsValueItemForPlaceholder(t)&&null==t.data)throw new Error("Select Single: value-item contains key but no data");if(this._super(e,t,i),this._processSetOptions&&this._processSetOptions.length>0&&(n=this._processSetOptions[this._processSetOptions.length-1]),e===this._GetValueItemPropertyName())this._valueItemSetInternally=!1,this._SyncValueWithValueItem(t,this.options.value);else if("value"===e){var s=function(){r.setValue(t),this._IsValueForPlaceholder(t)?this._SetValueItem(this._GetDefaultValueItemForPlaceholder()):this._UpdateValueItem(t),this._SetDisplayValue()}.bind(this);n?n.value=s:s()}else if(this._OPTIONS_REQUIRING_REFRESH.has(e)){var a=function(){this.refresh()}.bind(this);n?n.forRefresh=a:a()}else if("labelledBy"===e){if(this.options.labelledBy){var o=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(this.options.labelledBy,o)}this._updateLabel()}else"itemText"===e&&this._UpdateItemText()},_AfterSetOption:function(e,t){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"virtualKeyboard":this._SetInputType(this._ALLOWED_INPUT_TYPES),this.refresh();break;case"labelHint":case"labelEdge":this._updateLabel()}},_AfterSetOptionValue:function(e,t){this._superApply(arguments),"value"===e&&this._toggleNoValueStyleClass()},_NotifyDetached:function(){this._superA){this._superApply(arguments),this._CloseDropdown()},_NotifyContextMenuGesture:function(e,t,i){var n=this._GetMessagingLauncherElement();this._OpenContextMenu(t,i,{launcher:n})},_NotifyMessagingStrategyQueueAction:function(eon(){this._messagingStrategyQueueActionPromise=null}.bind(this))},_GetContentElement:function(){return this._lovMainField?o(this._lovMainField.getInputElem()):this.element},_wrapDataProviderIfNeeded:function(e){if(O.isDataProvider(e)){var t=e;O.isTreeDataProvider(e)?e instanceof y||(t=new y(e)):e instanceof b||(t=new b(e)),t=v.getEnhancedDataProvider(t,{fetchFirst:{caching:"visitedByCurrentIterator"},eventFiltering:{type:"iterator"}}),t=new S(t),this._wrappedDataProvider=t}else this._wrappedDataProvider=new S(null)},_addDataProviderEventListeners:function(){var e=this._wrappedDataProvider;if(e){this._removeDataProviderEventListeners();var t=this._HandleDataProviderEvent.bind(this);this._savedDataProviderEH=t,e.addEventListener("mutate",t),e.addEventListener("refresh",t)}},_removeDataProviderEventListeners:function(){var e=this._wrappedDataProvider,t=this._savedDataProviderEH;e&&t&&(e.removeEventListener("mutate",t),e.removeEventListener("refresh",t),this._savedDataProviderEH=void 0)},_HandleDataProviderEvent:function(e){},_ItemTextRenderer:function(e){var t;if(e&&e.data){var i=this.options.itemText;t="string"==typeof i?e.data[i]:i(e)}return t},_IsValueItemForPlaceholder:function(e){return a.Assert.fon(e){return atem:function(e){a.Assert.failedInAbstractFunction()},_FetchByKeysFromDataProvider:function(e){var t;if(this._cachedFetchByKeys&&this._cachedFetchByKeys.promise&&a.Object.compareValues(e,this._cachedFetchByKeys.key))t=this._cachedFetchByKeys.promise;else{var i=this._AddBusyState("fetching selected data"),n=!1;"init"===this._abstractLovBase.getFetchType()&&(this._abstractLovBase.isDropdownOpen()||(n=!0,this._setUiLoadingState("start"))),t=new Promise(function(t,i){this._wrappedDataProvider.fetchByKeys({keys:new Set(erEach(function(e){i.push(etadata)}),t({data:i,metadata:n})},function(e){i(e)})}.bind(this)),this._cachedFetchByKeys={key:e,promise:t};var r=function(){this._bReleasedResources||(this._cachedFetchByKeys=void 0,n&&this._setUiLoadingS"Select: fetchByKeys promise was rejected: "+e),r()})}return t},_setUiLoadingState:function(e){"start"===e?(this._loadingIndicatorTimer&&this._loadingIndicatorTimer.clear(),this._loadingIndicatorTimer=E.getTimer(this._showIndicatore().then(function(e){e&&this._addLoadingIndicator()}.bind(this))):"stop"===e&&(this._loadingIndicatorTimer&&(this._loadingIndicatorTimer.clear(),this._loadingIndicatorTimer=null),this._removeLoadingIndicator())},_addLoadingIndicator:function(){this._loadingIndicatorCount+=1,this._savedLoadingIndicator||(this._SetLoading(),this._savedLoadingIndicator=!0)},_removeLoadingIndicator:function(){this._loadingIndicatorCount>0&&(this._loadingIndicatorCount-=1),0===this._loadingIndicatorCount&&this._savedLoadingIndicator&&(this._ClearLoading(),this._savedLoadingIndicator=!1)}}),e.AbstractLovBase=C,e.FilteringDataProviderView=S,e.LovDropdown=j,e.LovMainField=I,e.LovUtils=O,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojselectsingle",["ojs/ojselectbase","ojs/ojcore-base","ojs/ojkeyset","jquery","ojs/ojcomponentcore","ojs/ojthemeutils","ojs/ojlogger","ojs/ojcustomelement-utils"],function(e,t,i,n,r,s,a,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l={properties:{data:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},itemText:{type:"string|function",value:"label"},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},placeholder:{type:"string",value:""},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{cancel:{type:"string"},labelAccClearValue:{type:"string"},labelAccOpenDropdown:{type:"string"},multipleMatchesFound:{type:"string"},nOrMoreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},noResultsLine1:{type:"string"},noResultsLine2:{type:"string"},oneMatchFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"any",writeback:!0},valueItem:{type:"object",writeback:!0,value:{key:null,data:null,metadata:null}},virtualKeyboard:{type:"string",enumValues:["email","number","search","tel","text","url"],value:"search"}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojValueAction:{}},extension:{}};l.extension._WIDGET_NAME="ojSelectSingle",l.extension._INNER_ELEM="input",l.extension._GLOBAL_TRANSFER_ATTRS=["tabindex"],l.extension._ALIASED_PROPS={readonly:"readOnly"},oj.CustomElementBridge.register("oj-select-single",{metadata:oj.CollectionUtils.mergeDeep(l,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})});const u=function(){};t.Object.createSubclass(u,e.LovDropdown,"LovDropdownSingle"),u.prototype.init=function(e){u.superclass.init.call(this,e)},u.prototype._createKeySetImpl=function(e){return null==e?new i.KeySetImpl([]):new i.KeySetImpl([e])},u.prototype._ConfigureResultsInitial=function(e,t){if(!this._isValueForPlaceholderFunc(e)){this._SetCollectionCurrentRow({rowKey:e});var i=this._createKeySetImpl(e);return this._SetCollectionSelectedKeySet(i),t.whenReady()}return this._fullScreenPopup?t.whenReady():this._FetchFirstResultForKeyboardFocus()},u.prototype._ConfigureResultsNoSearchText=function(e,t){this._SetCollectionCurrentRow({rowKey:null});var i=this._createKeySetImpl(e);return this._SetCollectionSelectedKeySet(i),this._fullScreenPopup?t.whenReady():this._FetchFirstResultForKeyboardFocus()},u.prototype._ConfigureResultsWithSearchText=function(e,t){return this._FetchFirstResult().then(function(i){if(null==i)return this._SetCurrentFirstItem(null),this._ClearSelection(),t.whenReady();var n=i.key;this._SetCurrentFirstItem(i),this._SetCollectionCurrentRow({rowKey:n});var r=this._createKeySetImpl(e);return this._SetCollectionSelectedKeySet(r),t.whenReady()}.bind(this))},u.prototype._HandleCollectionSelectedItemChanged=function(e,t){if(!this._duringListViewInitialization&&!this._handlingCollectionFocusinOnce){var i=this._isValueItemForPlaceholderFunc(e)?null:e;this._collectionContext.selectedItem=i,this._handleSelection(i,t)}},u.prototype._GetDefaultCollectionRendererSelectionMode=function(){return"single"},t.__registerWidget("oj.ojSelectSingle",n.oj.ojSelectBase,{options:{valueItem:{key:null,data:null,metadata:null}},_ComponentCreate:function(){this._super();var e=this.options.valueItem;if(!this._IsValueItemForPlaceholder(e)&&null==e.data)throw new Error("Select Single: value-item contains key but no data");this._cssOptionDefaults=s.parseJSONFromFontFamily("oj-searchselect-option-defaults")||{},this._defaultValueForPlaceholder=null,this._defaultValueItemForPlaceholder={key:null,data:null,metadata:null},this._SetupSelectResources()},_AfterCreate:function(){this._super();var e=this._getRootElement();this._focusable({element:e,applyHighlight:!1,afterToggle:this._HandleAfterFocusToggle.bind(this,e)}),"none"===this.options.labelEdge&&this._updateLabel()},_GetTranslationsSectionName:functioon(e){this._resolveValueItemLater=!1,this._super(e)},_ReleaseSelectResources:function(e){this._super(e)},_fetchDataAndSelect:function(e,t,i){if(null!=e.daection(this._defaultValueItemForPlaceholder,null,i)}.bind(this),s=function(n){if(n.data.length>0){var s={};s.key=e.key,s.data=n.data[0],s.metadata=n.metadata[0],this._handleSelection(s,t,i)}else r()}.bind(this);this._FetchByKeysFromDaelection(this._GetDefaultValueItemForPlaceholder())},_handleSelection:function(e,t,i){var n=this._StartMakingInternalValueChange(),r=this._IsValueItemForPlaceholder(e)?this._defaultValueItemForPlaceholder:e,s=function(){if(!this._bReleasedResources){if(!t||"blur"!==t.type){var e=this._lovMainField.getInputElem();this._fullScreenPopup?e.focus():(this._IsValueItemForPlaceholder(r)&&(e.value=""),this._SetFilterFieldText(e.value),i||this._ShowFilterField())}this._CloseDropdown()}n()}.bind(this),a=function(){this._messagingStrategyQueueActionPromise?this._messagingStrategyQueueActionPromise.then(s,s):s()}.bind(this);this._handleUserSelectedValueItem(r,t,void 0).then(a,a)},_handleUserSelectedValueItem:function(e,t,i){var n=this.options.value,r=this._abstractLovBase;this._cachedFetchByKeys&&(this._valueHasChanged=!0,this._setUiLoadingState("stop")),this._resolveValueItemLater=!0;var s=null;this._IsValueItemForPlaceholder(e)||(s=e.key),r.setValue(s),this._userSelectedValueItem=e;var a=this._SetValue(s,t,{doValueChangeCheck:!1,_context:i}),o=function(t){this._userSelectedValueItem=null,t&&this._fireValueActionEvent(e,n),this._resolveFetchDataAndSelectPromise&&(this._resolveFetchDataAndSelectPromise(),this._resolveFetchDataAndSelectPromise=null)instancn a.then(o,function(){o(!1)});var l=function(){o(a)};return Promise.resolve().then(l,l)},_SetDisplayValue:function(e){this._deferSettingValue||(ferredSetDisplayValue=null,this._SetDisplayValue(e)}.bind(this):(this._applyValueItem(this.options.valueItem)||this._initSelectedValue(),this._resolveValueItemLater=!1))},_ValidateHelper:function(){this._isInValidate=!0;var e=n(this._lovMainField.getInputElem()).val(),t=this._SetValue(e,null,this._VALIDATE_tion(e){return Promise.resolve(e?"valid":"invalid")}):Promise.resolve(t?"valid":"invalid"),this._isInValidate=!1,t},_SetValue:function(e,t,i){e===this._GetDisplayValue()&&void 0===(e=this._isInValidate&&""===e&&!this.isValid()?null:this.options.value)&&(e=null);var n=this._StartMakingInternalValueChange(),r=this._super(e,t,i);return n(),r},_GetDefaultStyleClass:function(){return"oj-searchselect"},_GetStyleClassComponentName:function(){return"selectsingle"},_mergeValueAndValueItem:function(e,i){var n=!1;return this._IsValueForPlaceholder(e)?i&&!this._deferSettingValue&&this._SyncValueWithValueItem(i,e,{doNotClearMessages:!0}):i&&(n=!t.Object.compareValues(e,i.key)),n},_SyncValueWithValueItem:function(e,i,n){var r,s=this._abstractLovBase;if(r=this._IsValueItemForPlaceholder(e)?this._IsValueForPlaceholder(i)?i:this._defaultValueForPlaceholder:e?e.key:null,!t.Object.compareValues(r,i)){var a=this._StartMakingInternalValueChange(),o={internalSet:!0,writeback:!0};n&&Object.assign(o,n);var l={doValueChangeCheck:!1,_context:o};this.option("value",r,l),s.setValue(r),this._AfterSetOptionValue("value",l),a()}},_initSelectedValue:function(e){if(!this._applyValueItem(e)){var t=this._IsValueItemForPlaceholder(e)?this.options.value:e.key;!this._IsValueForPlaceholder(t)&&this._deferSettingValue||this._initSelectionHelper(t,this._updateSelectedOption.bind(this),e)}},_applyValueItem:function(e){return!this._resolveValueItemLater&&!this._IsValueItemForPlaceholder(e)&&(this._updateInputElemValue(e),!0)},_updateSelectedOption:function(e){this._updateInputElemValue(e),this._SetValueItem(e)},_SetValueItem:function(t){this._valueItemSetInternally=!0;var i=t;t&&!this._IsValueItemForPlaceholder(t)&&(i=e.LovUtils.createValueItem(t.key,t.data,t.metadata));var n=this._StartMakingInternalValueChange();this.option(this._GetValueItemPropertyName(),i,{_context:{internalSet:!0,changed:!0,writeback:!0}}),n()},_Updthis._SetValueItem(e),this._updateSelectedOption(e)}.bind(this))},_updateInputElemValue:function(e){var t=n(this._lovMainField.getInputElem()),i=null;if(e&&e.data){var r=this._ItemTextRenderer(e),s=t.val();void 0!==r&&s!==r&&(i=r)}else i="";if(null!==i){if(t.val(i),this.options.readOnly){let e=this._getReadonlyDiv();e&&(e.textContent=i)}(!this._fullScreenPopup&&"hidden"!==this._filterInputText.style.visibility||this._fullScreenPopup&&this._abstractLovBase.isDropdownOpen())&&!this._userHasTypedFiltehis.options.valueItem;this._updateInputElemValue(e)},_initSelectionHelper:function(e,i,n){if(this._IsValueForPlaceholder(e)){var r=n&&t.Object.compareValues(n,this._defaultValueItemForPlaceholder)?n:this._defaultValueItemForPlaceholder;i(r)}else if(this._abstractLovBase.hasData())if(this._userSelectedValueItem){var s=this._userSelectedValueItem;this._initSelectionFetchByKey({data:[s.data],metadata:[s.metadata]},e,i)}else this.options.data?(this._loadingAwaitingData&&(this._loadingAwaitingData=!1,this._setUiLoadingState("stop")),this._FetchByKeysFromDataProvider([e]).then(function(t){this._bReleasedResources||this._initSelectionFetchByKey(t,e,i)}.bind(this),function(){this._bReleasedResources||this._initSelectionFetchByKey(null,e,i)}.bind(this))):this._loadingAwaitingData||(this._loadingAwaitingData=!0,this._setUiLoadingState("start"))},_initSelectionFetchByKey:function(i,n,r){if(t.Object.compareValues(n,this.options.value)&&!this._valueHasChanged){var s=null,o=null;i&&i.data&&i.data.length>0?(s=i.data[0],o=i.metadata[0]):a.warn("SelectSingle: could not fetch data for selected value: "+n),r(e.LovUtils.createValueItem(n,s,o)),this._valueHasChanged=void 0}},_fireValueActionEvent:function(e,t){var i={value:e.key,itemContext:e,previousValue:t},n=new CustomEvent("ojValueAction",{detail:i}),r=this.OuterWrapper,s=this._StartMakingInternalValueChange();r.dispatchEvent(n),s()},_selectItemByValue:function(e,t){const i=new Promise(function(e){this._resolveFetchDataAndSelectPromise=e}.bind(this));if(null!=e){const i={key:e};this._fetchDataAndSelect(i,t)}else this._handleSelection(this._defaultValueItemForPlaceholder);return i},_HandleDataProviderEvent:function(e){if(!e.filterCriterionChanged){var i=this.options.value;if("mutate"===e.type)if(null!=e.detail.remove)e.detail.remove.keys.forEach(function(e){t.Object.compareValues(e,i)&&(i=this._defaultValueForPlaceholder,a.warn("Select: selected value removed from data provider"))}.bind(this));var n=this._StartMakingInternalValueChange();this._setOption("value",i),n(),this._abstractLovBase.handleDataProviderEvent(e)}},_HandleContainerKeyDownEnter:function(e){if(this._userHasTypedFilterText=!1,!this._fullScreenPopup&&this._IsFilterInputTextCleared())this._handleSelection(this._defaultValueItemForPlaceholder);else if(!this._fullScreenPopup&&this._abstractLovBase.isDropdownOpen()){var t=this._lovDropdown.getValueItemForSelection();null!=t&&this._fetchDataAndSelect(t,e)}},_HandleContainerKeyDownTab:function(e){if(this._userHasTypedFilterText=!1,!this._fullScreenPopup){if(e.shiftKey){var t=this._filterInputText,i=t.parentNode;o.CustomElementUtils.allowSlotRelocation(!0);try{for(;i.firstChild!==t;)i.appendChild(i.firstChild)}finally{o.CustomElementUtils.allowSlotRelocation(!1)}}if(this._IsFilterInputTextCleared())this._IsValueForPlaceholder(this.options.value)&&this._IsValueItemForPlaceholder(this.options.valueItem)||this._handleSelection(this._defaultValueItemForPlaceholder,null,!0);else if(this._abstractLovBase.isDropdownOpen()){var n=this._lovDropdown.getValueItemForSelection();null!=n&&this._fetchDataAndSelect(n,e,!0)}}this._CloseDropdown()},_HandleLovDropdownEventTabOut:function(e){if(this._userHasTypedFilterText=!1,this._filterInputText.focus(),!this._fullScreenPopup){let t=this._lovDropdown.getValueItemForSelection();null!=t&&this._fetchDataAndSelect(t,e,!0)}},_HandleLovDropdownEventSelection:function(e){var t=e.detail;this._userHasTypedFilterText=!1,this._handleSelection(t.valueItem,t.event)},_GetDefaultValueItemForPlaceholder:function(){return this._defaultValueItemForPlaceholder},_IsValueItemForPlaceholder:function(e){return null==e||this._},_IsValueForPlaceholder:function(e){return null==e},_IsShowValueInFilterField:function(){return!0},_SetupInitialValue:function(){var e=this.options;this._abstractLovBase.hasData()&&this._initSelectedValue(e.valueItem),this._resolveValueItemLater=this._mergeValueAndValueItem(e.value,e.valueItem)},_GetValueItemPropertyNueItem"},_CreateLovDropdown:function(){return new u}}),r.setDefaultOptions({ojSelectSingle:{displayOptions:{converterHint:["none"]}}})}),define("bundles/ojformbundle",function(){});
//# sourceMappingURL=ojformbundle.js.map