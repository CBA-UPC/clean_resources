/*! For license information please see 148.1a20d5fe-1.236.0.min.js.LICENSE.txt */
"use strict";(window.webpackChunkNRBA=window.webpackChunkNRBA||[]).push([[148],{8673:(t,e,n)=>{n.d(e,{M:()=>C});var s=n(1284),r=n(4351),a={"%2C":",","%3A":":","%2F":"/","%40":"@","%24":"$","%3B":";"},i=(0,s.D)(a,(function(t){return t})),o=new RegExp(i.join("|"),"g");function c(t){return a[t]}function u(t){return null==t?"null":encodeURIComponent(t).replace(o,c)}function l(t,e){var n=0,a="";return(0,s.D)(t,(function(t,s){var i,o,c=[];if("string"==typeof s||!Array.isArray(s)&&null!=s&&s.toString().length)i="&"+t+"="+u(s),n+=i.length,a+=i;else if(Array.isArray(s)&&s.length){for(n+=9,o=0;o<s.length&&(i=u((0,r.P)(s[o])),n+=i.length,!(void 0!==e&&n>=e));o++)c.push(i);a+="&"+t+"=%5B"+c.join(",")+"%5D"}})),a}function d(t,e){return e&&"string"==typeof e?"&"+t+"="+u(e):""}var h=n(4247);function f(){return""+location}var y=n(5763),g=n(4222),p=n(7894),b=n(3239),v=n(6141);function m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t&&"object"==typeof t?(Object.keys(t).forEach((r=>{"object"==typeof t[r]?m(t[r],e,n,s):typeof t[r]!==n||s.includes(r)||(t[r]=e(t[r]))})),t):t}var x=n(1117),w=n(6818),A=n(385);class C extends x.w{constructor(t){super(t),this.tooManyRequestsDelay=(0,y.Mt)(this.sharedContext.agentIdentifier,"harvest.tooManyRequestsDelay")||60,this.obfuscator=new v.RR(this.sharedContext),this.getScheme=()=>!1===(0,y.Mt)(this.sharedContext.agentIdentifier,"ssl")?"http":"https",this._events={}}sendX(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=h.qD({isFinalHarvest:t.opts?.unload}),n={retry:!t.opts?.unload&&e===h.Be},s=this.createPayload(t.endpoint,n);return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))({...t,payload:s,submitMethod:e})}send(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(this.obfuscator.shouldObfuscate()?this.obfuscateAndSend.bind(this):this._send.bind(this))(t)}obfuscateAndSend(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{payload:n={}}=e;return m(n,(function(){return t.obfuscator.obfuscateString(...arguments)}),"string",["e"]),this._send({...e,payload:n})}_send(t){let{endpoint:e,payload:n={},opts:s={},submitMethod:a,cbFinished:i,customUrl:o,raw:c,includeBaseParams:u=!0}=t;const d=(0,y.C5)(this.sharedContext.agentIdentifier);if(!d.errorBeacon)return!1;const f=(0,y.OP)(this.sharedContext.agentIdentifier);let{body:g,qs:p}=this.cleanPayload(n);if(0===Object.keys(g).length&&!s?.sendEmptyBody)return i&&i({sent:!1}),!1;let v="".concat(this.getScheme(),"://").concat(d.errorBeacon).concat("rum"!==e?"/".concat(e):"","/1/").concat(d.licenseKey);o&&(v=o),c&&(v="".concat(this.getScheme(),"://").concat(d.errorBeacon,"/").concat(e));const m=!c&&u?this.baseQueryString():"";let x=l(p,f.maxBytes);a||(a=h.qD({isFinalHarvest:s.unload})),""===m&&x.startsWith("&")&&(x=x.substring(1));const w="".concat(v,"?").concat(m).concat(x);"gzip"===p.content_encoding||(g="events"===e?g.e:(0,r.P)(g)),g&&0!==g.length&&"{}"!==g&&"[]"!==g||(g=""),f.bytesSent[e]=(f.bytesSent[e]||0)+g?.length||0,f.queryBytesSent[e]=(f.queryBytesSent[e]||0)+w.split("?").slice(-1)[0]?.length||0;const C=[];C.push({key:"content-type",value:"text/plain"});let q=a({url:w,body:g,sync:s.unload&&(A.v6||A.w1),headers:C});if(!s.unload&&i&&a===h.Be){const t=this;q.addEventListener("load",(function(){const e={sent:!0,status:this.status};429===this.status?(e.retry=!0,e.delay=t.tooManyRequestsDelay):408!==this.status&&500!==this.status&&503!==this.status||(e.retry=!0),s.needResponse&&(e.responseText=this.responseText),i(e)}),(0,b.m$)(!1))}if(!q&&a===h.Ne){a=h.Zx;try{a({url:w,body:g,headers:C})}catch(t){}finally{q=!0}}return q}baseQueryString(){const t=(0,y.OP)(this.sharedContext.agentIdentifier),e=(0,y.C5)(this.sharedContext.agentIdentifier),n=(0,g.f)(f()),s=this.obfuscator.shouldObfuscate()?this.obfuscator.obfuscateString(n):n;return["a="+e.applicationID,d("sa",e.sa?""+e.sa:""),d("v",w.q4),q(e),d("ct",t.customTransaction),"&rst="+(0,p.z)(),"&ck=0","&s="+(t.session?.state.value||"0"),d("ref",s),d("ptid",t.ptid?""+t.ptid:"")].join("")}createPayload(t,e){const n=this._events[t],s={body:{},qs:{}};if(Array.isArray(n)&&n.length>0)for(let t=0;t<n.length;t++){const r=n[t](e);r&&(s.body={...s.body,...r.body||{}},s.qs={...s.qs,...r.qs||{}})}return s}cleanPayload(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t=>"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?t.length>0?t:null:Object.entries(t||{}).reduce(((t,e)=>{let[n,s]=e;return("number"==typeof s||"string"==typeof s&&s.length>0||"object"==typeof s&&Object.keys(s||{}).length>0)&&(t[n]=s),t}),{});return{body:e(t.body),qs:e(t.qs)}}on(t,e){Array.isArray(this._events[t])||(this._events[t]=[]),this._events[t].push(e)}}function q(t){return t.transactionName?d("to",t.transactionName):d("t",t.tNamePlain||"Unnamed Transaction")}},4222:(t,e,n)=>{n.d(e,{f:()=>a});var s=/([^?#]*)[^#]*(#[^?]*|$).*/,r=/([^?#]*)().*/;function a(t,e){return t.replace(e?s:r,"$1$2")}},2271:(t,e,n)=>{n.d(e,{V:()=>r});var s=n(385);function r(){return Boolean("file:"===s._A?.location?.protocol)}},6141:(t,e,n)=>{n.d(e,{$c:()=>u,Ng:()=>l,RR:()=>c});var s=n(5763),r=n(1117),a=n(2271),i=n(50),o={regex:/^file:\/\/(.*)/,replacement:atob("ZmlsZTovL09CRlVTQ0FURUQ=")};class c extends r.w{shouldObfuscate(){return u(this.sharedContext.agentIdentifier).length>0}obfuscateString(t){if(!t||"string"!=typeof t)return t;for(var e=u(this.sharedContext.agentIdentifier),n=t,s=0;s<e.length;s++){var r=e[s].regex,a=e[s].replacement||"*";n=n.replace(r,a)}return n}}function u(t){var e=[],n=(0,s.Mt)(t,"obfuscate")||[];return e=e.concat(n),(0,a.V)()&&e.push(o),e}function l(t){for(var e=!1,n=!1,s=0;s<t.length;s++){"regex"in t[s]?"string"==typeof t[s].regex||t[s].regex instanceof RegExp||((0,i.Z)('An obfuscation replacement rule contains a "regex" value with an invalid type (must be a string or RegExp)'),n=!0):((0,i.Z)('An obfuscation replacement rule was detected missing a "regex" value.'),n=!0);var r=t[s].replacement;r&&"string"!=typeof r&&((0,i.Z)('An obfuscation replacement rule contains a "replacement" value with an invalid type (must be a string)'),e=!0)}return!e&&!n}},4247:(t,e,n)=>{n.d(e,{Be:()=>a,Ne:()=>o,Zx:()=>i,qD:()=>r});var s=n(385);function r(){let{isFinalHarvest:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&s.il&&s.Nk?o:a}function a(t){let{url:e,body:n=null,sync:s,method:r="POST",headers:a=[{key:"content-type",value:"text/plain"}]}=t;const i=new XMLHttpRequest;i.open(r,e,!s);try{"withCredentials"in i&&(i.withCredentials=!0)}catch(t){}return a.forEach((t=>{i.setRequestHeader(t.key,t.value)})),i.send(n),i}function i(t){let{url:e,body:n=null,method:s="POST",headers:r=[{key:"content-type",value:"text/plain"}]}=t;return fetch(e,{method:s,headers:r.reduce(((t,e)=>(t.push([e.key,e.value]),t)),[]),body:n,keepalive:!0})}function o(t){let{url:e,body:n}=t;try{return window.navigator.sendBeacon.bind(window.navigator)(e,n)}catch(t){return!1}}},2222:(t,e,n)=>{n.d(e,{m:()=>c});var s=n(4322),r=n(5938),a=n(5763),i=n(9144),o=n(8632);class c extends r.W{constructor(){super(...arguments),this.checkConfiguration()}waitForFlags(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(t.map((t=>new Promise((e=>{(0,s.X)("rumresp-".concat(t),(t=>e(t)),this.featureName,this.ee)})))))}checkConfiguration(){if(!(0,a.lF)(this.agentIdentifier)){let t={...(0,o.gG)().info?.jsAttributes};try{t={...t,...(0,a.C5)(this.agentIdentifier)?.jsAttributes}}catch(t){}(0,i.j)(this.agentIdentifier,{...(0,o.gG)(),info:{...(0,o.gG)().info,jsAttributes:t},runtime:(0,a.OP)(this.agentIdentifier)})}}}}}]);