// For license information, see `https://assets.adobedtm.com/99b399019383/927c2d2012b0/e1638381e2fc/RCb827bf73d0c6453eb90b4681b55cf09b-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/99b399019383/927c2d2012b0/e1638381e2fc/RCb827bf73d0c6453eb90b4681b55cf09b-source.min.js', "var ecid=_satellite.getVar(\"visitor: ecid\")||\"\";$.each($(\"[href*='.aetnamedicare.com']\"),(function(){var e=this.href;this.href=e&&e.indexOf(\"?\")>-1?e+\"&ref=aetna.com\":e+\"?ref=aetna.com\",e=this.href,alloy(\"appendIdentityToUrl\",{url:e}).then((e=>{this.href=e.url}))})),$.each($(\"form[action*='.aetnamedicare.com']\"),(function(){var e=this.action;this.action=e&&e.indexOf(\"?\")>-1?e+\"&ref=aetna.com_sub\":e+\"?ref=aetna.com_sub\",e=this.action,alloy(\"appendIdentityToUrl\",{url:e}).then((e=>{this.action=e.url}))}));");es||0)+1,l=n.before||t,p=e.replace(/[\?|#].*$/,""),h=e.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(p)?((a=c.createElement("link")).rel="stylesheet",a.href=h,(r="hideFocus"in a)&&a.relList&&(r=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(p)?(a=c.createElement("img")).src=h:((a=c.createElement("script")).src=e,a.async=void 0===d||d),!(a.onload=a.onerror=a.onbeforeload=function(t){var c=t.type[0];if(r)try{a.sheet.cssText.length||(c="e")}catch(t){18!=t.code&&(c="e")}if("e"==c){if((s+=1)<u)return o(e,i,n,s)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";i(e,c,t.defaultPrevented)})!==l(e,a)&&c.head.appendChild(a)}function a(t,i,n){var a,c;if(i&&i.trim&&(a=i),c=(a?n:i)||{},a){if(a in e)throw"LoadJS";e[a]=!0}function d(e,i){!function(t,e,i){var n,s,r=(t=t.push?t:[t]).length,a=r,c=[];for(n=function(t,i,n){if("e"==i&&c.push(t),"b"==i){if(!n)return;c.push(t)}--r||e(c)},s=0;s<a;s++)o(t[s],n,i)}(t,(function(t){r(c,t),e&&r({success:e,error:i},t),s(a,t)}),c)}if(c.returnPromise)return new Promise(d);d()}return a.ready=function(t,e){return function(t,e){t=t.push?t:[t];var s,r,o,a=[],c=t.length,d=c;for(s=function(t,i){i.length&&a.push(t),--d||e(a)};c--;)r=t[c],(o=i[r])?s(r,o):(n[r]=n[r]||[]).push(s)}(t,(function(t){r(e,t)})),a},a.done=function(t){s(t,[])},a.reset=function(){e={},i={},n={}},a.isDefined=function(t){return t in e},a}()},8971:function(t,e,i){"use strict";i.d(e,{Z:function(){return n}});class n{constructor(){this.events={}}get evts(){return Object.keys(this.events)}subscribe(t,e){return this.events[t]=this.events[t]||[],this.events[t].push(e),()=>this.unSubscribe(t,e)}unSubscribe(t,e){const i=this.events[t];if(i&&Array.isArray(i))for(let t=0;t<i.length;t++)if(i[t]===e){i.splice(t,1);break}}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];(this.events[t]||[]).forEach((t=>{t(...i)}))}}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function e(t,e){return n(t),function(t){if(Array.isArray(t)&&"object"==typeof t[0])throw new Error(t+"is not a valid array of options.")}(e),t.variants.filter((function(t){return e.every((function(e,i){return t.options[i]===e}))}))[0]||null}function n(t){if("object"!=typeof t)throw new TypeError(t+" is not an object.");if(0===Object.keys(t).length&&t.constructor===Object)throw new Error(t+" is empty.")}function s(t,e){if(null===e)return t;if("master"===e)return r(t);const i=t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(i){const n=t.split(i[0]),s=i[0];return r(`${n[0]}_${e}${s}`)}return null}function r(t){return t.replace(/http(s)?:/,"")}var o=i(4558).MinimogSettings;if(!customElements.get("pcard-swatch")){class i extends HTMLElement{constructor(){super(),t(this,"getVariantFromActiveOptions",(()=>{const{productData:t,productData:{initialVariant:i},activeOptionNodeByPosition:n}=this;let s;const r={1:i.option1,2:i.option2,3:i.option3};Object.values(n).forEach((t=>{const{optionPosition:e,value:i}=t.dataset;r[e]=i})),s=Object.values(r),s=s.filter(Boolean);let o=e(t,s);return!o&&this.hide_unavailable_product_options&&(s.pop(),o=e(t,s),o||(s.pop(),o=e(t,s))),this.currentVariant=o,o})),t(this,"_getBaseUnit",(()=>1===this.currentVariant.unit_price_measurement.reference_value?this.currentVariant.unit_price_measurement.reference_unit:this.currentVariant.unit_price_measurement.reference_value+this.currentVariant.unit_price_measurement.reference_unit)),this.selectors={container:"[data-pcard-variant-picker]",optionNodes:[".product-option-item"],featuredImage:".spc__main-img",pcard:".sf__pcard",variantDropdown:".sf-product-variant-option-dropdown",priceWrapper:".f-price",salePrice:".f-price-item--sale",compareAtPrice:[".f-price-item--regular"],unitPrice:".f-price__unit",soldOutBadge:".prod__tag--soldout"},this.container=this.closest(this.selectors.container),this.pcard=this.closest(this.selectors.pcard),this.variantIdNode=this.pcard.querySelector('[name="id"]'),this.featuredImage=this.pcard.querySelector(this.selectors.featuredImage),this.domNodes=queryDomNodes(this.selectors,this.pcard)}connectedCallback(){this.setupData()}async setupData(){this.variantData=this.getVariantData(),this.productUrl=this.container.dataset.productUrl,this.productData=await this.getProductJson(),this.activeOptionNodeByPosition={},this.hide_unavailable_product_options=o.hide_unavailable_product_options;const{variantIdNode:t,productData:e,productData:{variants:i}={}}=this;if(e){let n=Number(t?.value);n||(n=e.selected_or_first_available_variant?.id);const s=i.find((t=>t.id===n))||i[0];this.productData.initialVariant=s,!this.productData.selected_variant&&t?.dataset.selectedVariant&&(this.productData.selected_variant=i.find((e=>e.id===Number(t?.dataset.selectedVariant)))),this.updateOptionByVariant(s),this.updateProductCardSoldOutBadge(s)}this.initOptionSwatches(),this.domNodes.optionNodes?.forEach((t=>t.addEventListener("click",this.handleSelectVariant.bind(this)))),this.domNodes.variantDropdown?.addEventListener("change",this.handleSelectVariant.bind(this))}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.container.querySelector('[type="application/json"]').textContent),this.variantData}getProductJson(){return fetch(this.productUrl+".js").then((function(t){return t.json()}))}initOptionSwatches(){const{_colorSwatches:t=[],_imageSwatches:e=[]}=window.MinimogSettings;this.domNodes.optionNodes.forEach((i=>{const{optionType:n,optionPosition:r,value:o}=i?.dataset,a=o?.toLowerCase(),c=this.variantData.find((t=>t[`option${r}`]===o)),d=c?.featured_image?.src?s(c?.featured_image?.src,"60x"):"",u=e.find((t=>t.key===a))?.value,l=t.find((t=>t.key===a))?.value;switch((d||u)&&i.classList.add("has-bg-img"),n){case"default":i.style.backgroundImage=`url(${u||d||""})`;break;case"image":i.style.backgroundImage=`url(${d||u||""})`;break;case"color":i.style.background=`${l||a}`,u&&(i.style.backgroundImage=`url(${u})`)}}))}toggleOptionNodeActive(t,e){if(t)if(e){const{optionPosition:e,value:i}=t.dataset;switch(this.activeOptionNodeByPosition[e]=t,t.tagName){case"INPUT":t.checked="checked",t.dataset.selected="true";break;case"OPTION":t.dataset.selected="true";const e=t.closest("select");e&&(e.value=t.value);break;case"DIV":t.dataset.selected="true",["default","image","color"].includes(t.dataset.optionType)&&t.parentElement.classList.add("sf_variant-selected")}}else{["default","image","color"].includes(t.dataset.optionType)?t.parentElement.classList.remove("sf_variant-selected"):t.style.border="",t.checked=!1,delete t.dataset.selected;const e=t.closest("select");e&&(e.value="")}}updateOptionByVariant(t){Object.values(this.activeOptionNodeByPosition).forEach((t=>this.toggleOptionNodeActive(t,!1)));const{optionNodes:e}=this.domNodes,{options:i=[]}=t||{};i.forEach(((t,i)=>{const n=i+1;e.forEach((e=>{const i=Number(e.dataset.optionPosition),s=e.dataset.value;i===n&&t===s&&this.toggleOptionNodeActive(e,!0)}))})),this.updatePrice(t)}handleSelectVariant(t){let e,{target:i}=t;if(i.classList.contains("combined-variant")){const i=Number(t?.target?.value);e=this.productData?.variants?.find?.((t=>t.id===i))}else{"SELECT"===i.tagName&&(i=i.querySelectorAll("option")[i.selectedIndex]),i.classList.contains("product-option-item")||(i=i.closest(".product-option-item"));const{optionPosition:t}=i.dataset,n=this.activeOptionNodeByPosition[t];this.toggleOptionNodeActive(n,!1),this.toggleOptionNodeActive(i,!0),e=this.getVariantFromActiveOptions()}const{variantIdNode:n}=this;n&&(n.setAttribute("value",String(e?.id)),n.value=String(e?.id)),this.updateBySelectedVariant(e)}updateBySelectedVariant(t){t&&(this.changeProductImage(t),this.updatePrice(t),this.updateProductCardSoldOutBadge(t))}updateProductCardSoldOutBadge(t){this.domNodes.soldOutBadge&&(this.domNodes.soldOutBadge.style.display=t.available?"none":"flex")}changeProductImage(t){const e=t?.featured_image?.src,{featuredImage:i}=this,n=i?.querySelector("img");if(n&&e){n.src=e,n.removeAttribute("srcset");const s=this.productData?.initialVariant?.id===t?.id?"add":"remove";i?.classList?.[s]?.("group-hover:opacity-0")}}updatePrice(t){if(o.pcard_show_lowest_prices)return;const e="f-price--on-sale",i="f-price--sold-out",n=window.MinimogSettings.money_format,{priceWrapper:s,salePrice:r,unitPrice:a,compareAtPrice:c}=this.domNodes,{compare_at_price:d,price:u,unit_price_measurement:l}=t,p=d&&d>u,h=!t.available;if(p?s.classList.add(e):s.classList.remove(e),h?s.classList.add(i):s.classList.remove(i),s&&s.classList.remove("visibility-hidden"),r&&(r.innerHTML=formatMoney(u,n)),c?.length&&d>u?c.forEach((t=>t.innerHTML=formatMoney(d,n))):c.forEach((t=>t.innerHTML=formatMoney(u,n))),l&&a){a.classList.remove("f-hidden");const t=`<span>${formatMoney(this.currentVariant.unit_price,n)}</span>/<span data-unit-price-base-unit>${this._getBaseUnit()}</span>`;a.innerHTML=t}else a?.classList.add("f-hidden")}}if(customElements.define("pcard-swatch",i),!customElements.get("swatch-button")){class t extends HTMLElement{constructor(){super()}}if(customElements.define("swatch-button",t),!customElements.get("swatch-dropdown")){class e extends t{constructor(){super()}}customElements.define("swatch-dropdown",e)}if(!customElements.get("swatch-image")){class e extends t{constructor(){super()}}customElements.define("swatch-image",e)}if(!customElements.get("swatch-color")){class e extends t{constructor(){super()}}customElements.define("swatch-color",e)}}}}()}();