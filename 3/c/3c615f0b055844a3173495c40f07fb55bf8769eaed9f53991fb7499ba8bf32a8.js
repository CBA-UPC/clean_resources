(self.webpackChunktama_web=self.webpackChunktama_web||[]).push([[8551],{48551:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:);var r,i,n,o,s=a(3e4),c=a(66062),p=(a(91938),a(76955)),l=a(55752),g=a.n(l),d=a(29466),m=a.n(d),f=a(97175),u=a(66948),y=a(43177),h=a.n(y),v=a(12943),I=a.n(v),b=a(55382),_=a.n(b),T=a(45525),Z=a(77948),w=a(48516),L=a(36509),E=a(21036),k=a.n(E),P=a(73614),N=a(89865),O=a(5563),S=a(10793),A=a(16884),D=a(75457);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=parseInt(e,10);return!t||t<1?1:t}function F(){return(F=(0,c.Z)((function*(e){var{dispatch:t,getState:a,match:r}=e,{params:i}=r,n=i.amebaId,o=yield t((0,P.Rs)(n));if(!o||!o.error){var s=a().bloggerState,c=s.bloggerMap,p=s.blogMap[(c[n]||{}).blog];if(p&&p.blog_id){var l=i.entryId||"";if(""===l){var g=a().entryState,d=M(i.page);l=((g.pcBlogTopPageMap["".concat(p.blog_id,"/").concat(d)]||{}).data||[])[0]}l&&p.blog_id&&(yield t((0,N.KL)(l,p.blog_id)))}}}))).apply(this,arguments)}var H=(0,u.$j)((function(e,t){var{match:a}=t,{params:r,route:i}=a,n=r.amebaId,o=i.pageType,s=e.bloggerState,c=e.blogRecentEntryState,p=s.bloggerMap[n]||{},l=(p.attribute||{}).isOfficial,d=s.blogMap[p.blog]||{},m=r.entryId||"";if(""===m){var f=e.entryState,u=M(r.page);m=((f.pcBlogTopPageMap["".concat(d.blog_id,"/").concat(u)]||{}).data||[])[0]}return{amebaId:n,imageProtectionType:g()(p,"official.image_protection_type")||"",isOfficial:l,pageType:o,recentlyImageEntries:(c.blogRecentEntry[m]||{}).recently_image_entry||[]}}),{trackTapLog:O.XI})(r=(0,f.provideHooks)({done:)(r=(0,T.w1)(k())((n=i=class extends p.Component{shouldComponentUpdate(e){return this.props.amebaId!==e.amebaId||this.props.imageProtectionType!==e.imageProtectionType||this.props.isOfficial!==e.isOfficial||this.props.pageType!==e.pageType||this.props.trackTapLog!==e.trackTapLog||!m()(this.props.recentlyImageEntries,e.recentlyImageEntries)}getDateForImage(e){var t=h()(new Date,Z.Z.DEFAULT_DATE),a=h()(e.entry_created_datetime,Z.Z.DEFAULT_DATE);switch(I()(t,a)){case 0:return"\u4eca\u65e5";case 1:return"\u6628\u65e5";case 2:return"\u304a\u3068\u3068\u3044";default:return a}}renderImageList(){var e=this.props.recentlyImageEntries.slice(0,3).map(((e,t)=>{var a=this.getDateForImage(e),r="amember"===e.publish_flg,i=r?(0,s.Z)("img",{alt:e.entry_title,className:"articleImage",src:"".concat(window.process.env.HTTP_PATH_STAT,"/blog/img/user/thumb_amember_110.gif")}):(0,s.Z)("img",{alt:e.entry_title,className:"articleImage",height:"110",src:"".concat(window.process.env.HTTP_PATH_BLOG_IMG).concat(e.image_url,"?cpd=110"),width:"110"}),n=r?"":"?frm_src=thumb_module";return(0,s.Z)("li",{},"recent_image_entry_".concat(e.entry_id),(0,s.Z)(S.f,{orderId:"".concat(t+1),pageId:this.props.pageType,sectionId:"image-article",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,s.Z)(w.Z,{targetUrl:"".concat((0,L.IT)(this.props.amebaId,e)).concat(n)},void 0,i,(0,s.Z)("span",{className:_()("articleImageTitle",k().EntryTitle)},void 0,e.entry_title))),(0,s.Z)("span",{className:"articleImageDate skinWeakColor"},void 0,a))}));return(0,s.Z)("ul",{},void 0,e)}render(){var{recentlyImageEntries:e}=this.props;return!e||e.length<3?null:(0,s.Z)("div",{className:"articleImageListArea"},void 0,o||(o=(0,s.Z)("span",{className:"articleImageHeading"},void 0,"\u6700\u8fd1\u306e\u753b\u50cf\u3064\u304d\u8a18\u4e8b")),"all_deny"!==this.props.imageProtectionType&&(0,s.Z)("span",{className:"articleImageListLink"},void 0,"\xa0",(0,s.Z)(S.f,{pageId:this.props.pageType,sectionId:"image-article-list",serviceId:this.props.isOfficial?"official":"general",tapLogger:this.props.trackTapLog},void 0,(0,s.Z)("a",{href:(0,A.Z)(D.Z.ImageList,{amebaId:this.props.amebaId})},void 0,"\u3082\u3063\u3068\u898b\u308b >>"))),this.renderImageList())}},i.displayName="PcRecentEntryImageListNew",r=n))||r)||r)||r},46311:(e,t,a)=>{var r=a(18300)(();r.push([e.id,"._1tE9FZ-N{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),r.locals={EntryTitle:"_1tE9FZ-N"},e.exports=r},21036:(e,t,a)=>{var r=a(46311),i=Object.assign||n=Object.defineProperty||"string"==typeof r&&(r=[[e.id,r,""]]),e.exports=function(e){var t=i({},e.locals||{});return n(t,"_",{value:),n(t,"toString",{value:function(){return"function"==typeof e.toString?e.toString():""}}),t}(r)}}]);