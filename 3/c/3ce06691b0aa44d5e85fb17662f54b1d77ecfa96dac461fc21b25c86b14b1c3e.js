"use strict";(self.mvWrapperJsonp=self.mvWrapperJsonp||[]).push([[999],{6500:(t,e,s)=>{s.r(e),s.d(e,{GPP:()=>N});var i=s(8473),o=s(3583),n=s(6643),a=s(4441),p=s(3528),c=s(2932),l=s(6921),r=(t,e,s)=>new Promise(((i,o)=>{var n=t=>{try{p(s.next(t))}catch(t){o(t)}},a=t=>{try{p(s.throw(t))}catch(t){o(t)}},p=t=>t.done?i(t.value):Promise.resolve(t.value).then(n,a);p((s=s.apply(t,e)).next())}));let u,P;function d(){return r(this,null,(function*(){if(!P){const{GDPR:t}=yield Promise.all([s.e(1011),s.e(8262)]).then(s.bind(s,1353));P=new t}return P}))}var A=((A||{}),g=((g||{}),S=s(9399);const h=new Map;h.set("US",A.US);for(const t in S.g)h.set(t,A.EU);var m=((m||{}),U=s(5914),O=(t,e,s)=>new Promise(((i,o)=>{var n=t=>{try{p(s.next(t))}catch(t){o(t)}},a=t=>{try{p(s.throw(t))}catch(t){o(t)}},p=t=>t.done?i(t.value):Promise.resolve(t.value).then(n,a);p((s=s.apply(t,e)).next())}));s(5258);const E={[l.HW.NOT_APPLICABLE]:m.NOT_APPLICABLE,[l.HW.APPLIES]:m.APPLIES,[l.HW.NOTIFIED]:m.NOTIFIED,[l.HW.OPTED_OUT]:m.OPTED_OUT};const V=[U.y.CA,U.y.VA,U.y.CO,U.y.CT,U.y.UT],I=class{constructor(t){this.model=t,this.enableGdpr=!1,this.cmpAPI=new i.W4(o.Lx,o.mY),this.cookie=new a.V({name:"am_gpp",sameSite:n.D.lax,maxAge:o.TJ}),this.cmpVersionCookie=new a.V({name:"am_gpp_cmp_version",sameSite:n.D.lax,maxAge:o.TJ}),this.setableSections=new Set([i.An,i.E,i.n1]),this.applicableSectionsSet=new Set,this.cookie.value&&this.cmpVersionCookie.value===o.ZK&&(p.ZP.custom(["debug","gpp"],"GPP.constructor:",this.cookie.value),this.cmpAPI.setGppString(this.cookie.value))}atic init(t){return O(this,null,(function*(){p.ZP.custom(["debug","gpp"],"STATIC: GPP.init");const e=new I(t);l.Yg.init(t,e);const s=h.get(e.model.geoLoc.country_code);switch(s){case A.US:yield e.loadUsModal();break;case A.EU:yield e.loadEUModals()}return s!==A.EU&&window.dispatchEvent(new CustomEvent("mediavineCmp",{detail:"gdprDoesNotApply"})),e}))}isUSNatV1OptOut(){return this.cmpAPI.getSectionStringById(g.USPNATV1)===m.OPTED_OUT}setTcfEuV2(t){p.ZP.custom(["debug","gpp"],"PUBLIC: GPP.setTcfEuV2:",t),this.cmpAPI.setSectionString(i.n1.NAME,t),this.setCookie()}setUsp(t){p.ZP.custom(["debug","gpp"],"PUBLIC: GPP.setUsp",t),this.setUspV1(t),this.stateIsOptOut(this.model.geoLoc.state)?(this.setUsNatV1(E[t]),this.setApplicableSections([g.USPNATV1]),this.setGAMUspValues(t)):this.setUsNatV1(E[l.HW.NOT_APPLICABLE]),this.setCookie()}loadUsModal(){return O(this,null,(function*(){p.ZP.custom(["debug","gpp"],"GPP.loadUsModal"),this.stateIsOptOut(this.model.geoLoc.state)&&(yield this.loadOptOutModal()),this.setCookie()}))}loadOptOutModal(){return O(this,null,(function*(){const t=yield function(t){return r(this,null,(function*(){if(!u){const{CPA:e}=yield Promise.all([s.e(8110),s.e(8982),s.e(2221)]).then(s.bind(s,1978));u=new e(t)}return u}))}(this.model);yield t.initCPA()}))}loadEUModals(){return O(this,null,(function*(){p.ZP.custom(["debug","gpp"],"GPP.loadEUModals"),this.enableGdpr=!0;const[{TCF:t},e]=yield Promise.all([yield Promise.all([s.e(1011),s.e(8262)]).then(s.bind(s,9265)),d()]);this.onReady=e.onReady.bind(e),this.onNoGDPRConsent=e.onNoConsent.bind(e),I.gppGAMApplicable=1,this.onReady((()=>{I.gppGAMDeclinedPermission=0,p.ZP.custom(["debug","gpp"],"GPP.onReady")})),this.onNoGDPRConsent((()=>{I.gppGAMDeclinedPermission=1,p.ZP.custom(["debug","gpp"],"GPP.onNoGDPRConsent"),(0,c.o)(this.model)})),this.setApplicableSections([g.TCFEUV2]),yield t.init(this),yield e.initModal(),this.setCookie()}))}setApplicableSections(t){p.ZP.custom(["debug","gpp"],"GPP.setApplicableSections:",t),t.forEach((),this.cmpAPI.setApplicableSections([...this.applicableSectionsSet.values()]),I.gppGAMApplicableSections=[...this.applicableSectionsSet.values()].join(",")}setUspV1(t){p.ZP.custom(["debug","gpp"],"GPP.setUspV1:",t),this.cmpAPI.setSectionString(i.E.NAME,t)}setUsNatV1(t){p.ZP.custom(["debug","gpp"],"GPP.setUsNatV1:",t),this.cmpAPI.setSectionString(i.An.NAME,t)}setGAMUspValues(t){switch(t){case l.HW.NOT_APPLICABLE:I.gppGAMApplicable=0,I.gppGAMDeclinedPermission=0;break;case l.HW.APPLIES:case l.HW.NOTIFIED:I.gppGAMApplicable=1,I.gppGAMDeclinedPermission=0;break;case l.HW.OPTED_OUT:I.gppGAMApplicable=1,I.gppGAMDeclinedPermission=1}}triggerGppStringUpdate(){for(const t of this.setableSections){const e=this.cmpAPI.getFieldValue(t.NAME,"Version");if(e)return this.cmpAPI.setFieldValue(t.NAME,"Version",e)}}setCookie(){this.triggerGppStringUpdate();const t=this.cmpAPI.getGppString();p.ZP.custom(["debug","gpp"],"GPP.setCookie:",t),this.cookie.set(t),this.cmpVersionCookie.set(o.ZK),this.triggerLoadedStatus()}triggerLoadedStatus(){p.ZP.custom(["debug","gpp"],"GPP.triggerLoaded");try{this.cmpAPI.setCmpStatus(i.Dc.LOADED),this.cmpAPI.setSignalStatus(i.HR.READY)}catch(t){console.warn("GPP cmpApi callback failed:",t)}};let N=I;N.gppGAMApplicableSections="0",N.gppGAMApplicable=0,N.gppGAMDeclinedPermission=0},2932:(t,e,s)=>{s.d(e,{o:()=>a});var i=s(6600),o=s(4530),n=s(3528);function a(t){if(i.Wu.id){(0,o.i)(i.Wu.id).then((e=>{const s=`https://securepubads.g.doubleclick.net/user_data_deletion?ppid=${e}&iu=${t.offering.gam_network_code}`;fetch(s,{method:"GET"}).then(().catch(()}))}}},6921:(t,e,s)=>{s.d(e,{HW:()=>c,Yg:()=>u,qb:()=>a});var i=s(4441),o=s(6643),n=s(5595),a=((a||{});var p,c=((p=c||{})[p.NOT_APPLICABLE="1---"]="NOT_APPLICABLE",p[p.APPLIES="1NNY"]="APPLIES",p[p.NOTIFIED="1YNY"]="NOTIFIED",p[p.OPTED_OUT="1YYY"]="OPTED_OUT",p);const l=(0,n.DY)("test","ccpa"),r=class{static init({cpa:t},e){this.gpp=e,r.cpaStatus="1"===t?"1":"0",window.__uspapi=r.__uspapi,window.addEventListener("message",r.handlePostMessage);const s=r.cookie.value,i=s&&s[0]===r.VERSION.toString();i&&(this.uspString=r.cookie.value),i||"1"!==r.cpaStatus&&!l?i&&"0"===r.cpaStatus&&!l?this.cpaNotCurrentlyApplicable():r.gppSetUspV1():this.cpaAppliesToUser()}static __uspapi(t,e,s){P({command:t,version:e})&&s(A(r.uspString),!0)}static cpaNotCurrentlyApplicable(){r.setDoesNotApply(),r.gppSetUspV1()}static cpaAppliesToUser(){r.setBaseApplies(),r.setCookie()}static userHasReceivedExplictNotice(){r.setNoticeGiven(),r.setCookie()}tatic gppSetUspV1(){return t=this,e=null,s=new Promise(((i,o)=>{var n=t=>{try{p(s.next(t))}catch(t){o(t)}},a=t=>{try{p(s.throw(t))}catch(t){o(t)}},p=t=>t.done?i(t.value):Promise.resolve(t.value).then(n,a);p((s=s.apply(t,e)).next())}));var t,e,s}static handlePostMessage(t){let e;try{e=JSON.parse(t.data)}catch(t){}if(d(e)){const s=JSON.stringify(g(e,r.uspString));t.source.postMessage(s,t.source)}}static setCookietatic get uspString(){const{VERSION:t,explicitNoticeStatus:e,userOptOutStatus:s,lspaStatus:i}=r;return`${t}${e}${s}${i}`}static set uspString(t){const[e,s,i,o]=t;e===r.VERSION.toString()&&(r.explicitNoticeStatus=s,r.userOptOutStatus=i,r.lspaStatus=o)}static setDoesNotApply(){r.uspString=c.NOT_APPLICABLE}static setBaseApplies(){r.uspString=c.APPLIES}static setNoticeGiven(){r.uspString=c.NOTIFIED};let u=r;u.VERSION=1,u.cpaStatus="0",u.explicitNoticeStatus="-",u.userOptOutStatus="-",u.lspaStatus="-",u.cookie=new i.V({name:"usprivacy",sameSite:o.D.lax});const P=d=t=>!!t&&"getUSPData"===t.command&&t.version===u.VERSION&&t.callId,A=g=(t,e)=>({__uspapiReturn:{returnValue:e,callId:t.callId,success:!0}})},6600:(t,e,s)=>{s.d(e,{Wu:()=>n});var i=s(4441);class o extends i.V{constructor(t="am_tokens"){super({name:t})}get id(){if(this.value)return this.value.mv_uuid}const n=new o},4530:(t,e,s)=>{s.d(e,{i:);var i=function o(t){return i(this,null,()}}}]);