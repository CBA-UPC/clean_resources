!function(e,M){void 0===e.vocento&&(e.vocento={}),void 0===e.vocento.comment&&(e.vocento.comments={});var t,H,c,a,s,l,m,d,u,v,N=e.vocento.comments,p="comments-container",g="commento-main-area",f="commento-login",T="comments-login-box-container",I="commento-login-box",C="commento-login-box-email-subtitle",S="commento-login-box-email-input",h="commento-login-box-password-input",b="commento-login-box-name-input",y="commento-login-box-website-input",L="commento-login-box-email-button",_="commento-login-box-forgot-link-container",D="commento-login-box-login-link-container",E="commento-login-box-sso-pretext",A="commento-login-box-sso-buttton-container",V="commento-login-box-hr1",B="commento-login-box-oauth-pretext",R="commento-login-box-oauth-buttons-container",O="commento-login-box-hr2",w="commento-mod-tools",x="commento-mod-tools-lock-button",k="commento-error",U="commento-logged-container",j="commento-pre-comments-area",P="commento-comments-area",q="commento-textarea-super-container-",z="commento-textarea-container-",G="commento-textarea-",Y="commento-anonymous-checkbox-",W="commento-sort-policy-",F="comment-short-options-container",J="comment-short-options-selected",o="commento-comment-social-",X="commento-comment-card-",$="commento-comment-body-",K="commento-comment-text-",Q="commento-comment-subtitle-",Z="commento-comment-timeago-",ee="commento-comment-score-",oe="commento-comment-options-",ne="commento-comment-edit-",te="commento-comment-reply-",ie="commento-comment-reply-box-",re="commento-replies-container",ce="commento-comment-collapse-",ae="commento-comment-upvote-",se="commento-comment-downvote-",me="commento-comment-approve-",de="commento-comment-remove-",le="commento-comment-sticky-",ue="commento-comment-reply-area-",ve="commento-comment-children-",pe="commento-comment-contents-",ge="commento-comment-name-",fe="commento-submit-button-",he="commento-markdown-button-",be="commento-markdown-help-",i="commento-show-more-comments",ye="commento-comments-opinion",r="commento-pending-token",we="commento-self-request",n=-1<M.location.search.indexOf("commento_debug=1"),xe=-1<M.location.search.indexOf("original=1"),ke="vocento-comments-header",Te=86400,Ie="update-container-box-",Ce="options-container-box-",Se="remove-comment-modal-",Le="voc-comment-nav-",_e="abc",De="ppll",Me="https://comments.vocento.com",He="https://comments.vocento.com",Ne=null,Ee=null,Ae=null,Ve=!0,Be="false",Re=!1,Oe=!1,Ue=[],je={},Pe={},qe=1,ze=!0,Ge=!1,Ye=!1,We=!1,Fe=!1,Je="none",Xe={},$e={},Ke={},Qe=!1,Ze="login",eo=!1,oo="dateDesc",no=void 0,to=null,io=null,ro=!1,co=1,ao=1024,so=[],mo=[],lo=[],uo=[],vo=[],po=!1,go=void 0,fo={categoryID:"",containerID:"",streamID:"",streamTags:"",streamTitle:"",streamURL:"",context:"",deviceType:"auto",enabledSharedProviders:"facebook,twitter,linkedin",lang:"es",pageSize:10,sort:"dateDesc",onBeforeCommentSubmitted:void 0,onCommentSubmitted:void 0,onCommentVoted:void 0,onError:void 0,onLoad:void 0,onSiteLoginClicked:void 0,onGetStreamInfo:void 0,templates:{commentsPlugin:"",header:"",updates:"",composebox:"",comment:""},group:De,version:2};function ho(e){return M.getElementById(e)}unction yo(e,o){null!=o&&e.appendChild(o)}nction ko(e,o){e.classList.add("commento-"+o)}function To(e,o){null!==e&&e.classList.remove("commento-"+o)}function Io(e,o){null!==e&&e.classList.remove(o)}function Co(e){return M.createElement(e)}function So(e,o){if(!e.hasChildNodes())return null;for(var n=e.childNodes,t=0;t<n.length;t++)if(n[t].id===o)return n[t]}function Lo(e,o,n){var t,i=M.createElement(e);return n instanceof HTMLElement?i.appendChild(n):Array.isArray(n)?n.forEach(function(e){i.appendChild(e)}):null!=n&&""!==n&&i.appendChild(M.createTextNode(n)),t=i,"object"==typeof(o=o)&&o&&Object.entries(o).forEach(,i}function _o(e){null!==e&&e.parentNode.removeChild(e)}function Do(e,o){o=e.attributes[o];if(void 0!==o)return o.value}function Mo(e){if(null!==e){var o=e.cloneNode(!0);if(null!==e.parentNode)return e.parentNode.replaceChild(o,e),o}return e}function Ho(e,o,n){e.addEventListener("click",function(){o(n)},!1)}nction Ao(){return vocento&&vocento.site&&vocento.site.subdomain&&vocento.site.tlddomain?vocento.site.subdomain+"."+vocento.site.tlddomain:parent.location.domain}var Vo=function(e){ho(e).style.display="inline"},Bo=function Ro(e){var o=ho(ue+e);return null!=o?o:Lo("div",{class:"gig-comment-replies voc-comments-name voc-answer row",id:ue+e})}function Oo(){return null!=s||((e="root")!==e?Ro(e):(s=ho(P),De===fo.group&&"root"===e&&null===s?s=Lo("div",{class:"gig-comments-comments",id:P}):fo.group)),s;var e}function Uo(e){var o;n&&(o=(new Date).toISOString(),"object"==typeof e?console.log(o+" commento:",e):console.log(o+" commento:"+e))}function jo(e,o,n){var t=new XMLHttpRequest;t.open("POST",e,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onload=function(){n(JSON.parse(t.response))},t.send(JSON.stringify(o))}function Po(e,o){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=n.send(null)}function qo(e,o){"function"==typeof e&&e(o)}unction Go(e,o){var n,t=new Date;t.setTime(t.getTime()+31536e6),n="; expires="+t.toUTCString(),M.cookie=e+"="+o+n+"; path=/"}ction Jo(){var e=function(e){if(2===(e=("; "+M.cookie).split("; "+e+"=")).length)return e.pop().split(";").shift()}("voc_commenter_token");return void 0===e?"anonymous":e}N.onBeforeCommentSubmitted=function(e){so.push(e)},N.onCommentsLoaded=function(e){lo.push(e)},N.onCommentVoted=function(e){uo.push(e)},N.onSiteLoginClicked=function(e){vo.push(e)},N.getStreamInfo=function(e){var o={streamIDs:[],categoryId:"",threadLimit:100,onError:void 0,onStreamInfoLoaded:void 0},o=Object.assign(o,e);"function"==typeof e.callback&&"function"!=typeof e.onStreamInfoLoaded&&(o.onStreamInfoLoaded=e.callback);e={success:!1,message:""};if(void 0!==o.categoryID&&""!==o.categoryID||(o.categoryID="default"),void 0===o.streamIDs||""===o.streamIDs||!Array.isArray(o.streamIDs))return e.message="Invalid StreamsIDs",qo(o.onError,e),e;e=o.streamIDs.map(,e=cn({domain:Ao(),streamIds:e,categoryId:o.categoryID});Po(Me+"/api/comment/stream-info?"+e,function(e){e.success||qo(o.onError,e),qo(o.onStreamInfoLoaded,e)})},N.showOptions=N.version=function(){console.info("Commento Widget Version:2.1.0-rc2")},N.showCommentsUI=function(e){var o={success:!1,message:""};if(void 0!==(fo=Object.assign(fo,e)).categoryID&&""!==fo.categoryID||(fo.categoryId="default"),void 0===fo.streamID||""===fo.streamID)return o.message="invalid StreamId",qo(fo.onError,o),o;void 0!==fo.containerID&&""!==fo.containerID&&(p=fo.containerID),"function"==typeof fo.onBeforeCommentSubmitted&&so.push(fo.onBeforeCommentSubmitted),"function"==typeof fo.onSiteLoginClicked&&vo.push(fo.onSiteLoginClicked),"function"==typeof fo.onCommentSubmitted&&mo.push(fo.onCommentSubmitted),"function"==typeof fo.onCommentVoted&&uo.push(fo.onCommentVoted),"function"==typeof fo.onLoad&&(Uo("Calling onLoad Callback"),qo(fo.onLoad,{status:!0,message:"Widget Load Success"})),Uo("showCommentsUI calls refreshAll"),qn(void 0)};var Xo=function(e){Uo("onSiteLoginClicked Callback Triggered");var o={context:fo.context};e=Object.assign(e,o),io.trigger("vocuser:commento:login-clicked",e);for(var n=0;n<vo.length;n++)vo[n](e)};function $o(){Go("voc_commenter_token","anonymous"),Fo(r),Fo(we),Ge=Re=!1,no=void 0}function Ko(){return Re=!1,Re="anonymous"!==Jo()?!0:Re}function Qo(){window.open(Me+"/profile?commenterToken="+Jo(),"_blank")}function Zo(e){window.open(Me+"/unsubscribe?unsubscribeSecretHex="+e,"_blank")}function en(e,o){Pe[e.commenterId]=e,no=e.commenterId;var n,t=Co("div"),i=Co("div"),r="undefined"!==e.link?Co("a"):Co("div"),c=Co("div"),a=Co("div"),s=Co("div");t.id=U,ko(t,"logged-container"),ko(i,"logged-in-as"),ko(r,"name"),ko(c,"profile-button"),ko(a,"profile-button"),ko(s,"profile-button"),r.innerText=e.name,c.innerText="Notification Settings",a.innerText="Edit Profile",s.innerText="Logout",Ho(s,N.logout),Ho(c,Zo,o.unsubscribeSecretHex),Ho(a,Qo),No(t,"style","display: none"),e.link,"undefined"===e.photo||""===e.photo?No(n=Co("img"),"src",He+"/images/default_avatar.png"):No(n=Co("img"),"src",e.photo),No(n,"loading","lazy"),ko(n,"avatar-img"),ko(n,"gig-comment-img"),"commento"===e.provider&&ro&&(yo(t,a),yo(t,s),yo(i,n),yo(i,r),yo(t,i),yo(t,c),bo(Ee,t)),Re=!0}function on(n){var e,o;Ko()?null==(e=function(){Uo("getStoredSelfResponse");var e=Wo(we);if(Uo("stored response="+e),null===e)return null;try{var o=JSON.parse(e)}catch(e){return console.info("commento: invalid self storage"),null}return void 0===o.timeStamp||void 0===o.response?(Fo(we),null):((new Date).getTime()-o.timeStamp)/1e3>=Te?null:(Uo(o.response),o.response)}())?(o={commenterToken:Jo()},jo(Me+"/api/commenter/self",o,function(e){return e.success?(o=e,o={timeStamp:(new Date).getTime(),response:o},o=JSON.stringify(o),Yo(we,o),void nn(n,e)):(Go("voc_commenter_token","anonymous"),void zo(n));var o})):nn(n,e):zo(n)}function nn(e,o){en(o.commenter,o.email),Wn(),zo(e)}function tn(e,o){var n,t,i=Co("link"),r=M.getElementsByTagName("head")[0];i.type="text/css",No(i,"href",e),No(i,"rel","stylesheet"),n=o,i.addEventListener("load",function(){n(t)}),yo(r,i)}function rn(){if(null!=fo.streamId&&""!==fo.streamId)return fo.streamId;var e=Do(Ne,"data-voc-comments-stream-id");return null!=e&&""!==e?e:window.vocento&&window.vocento.site&&window.vocento.site.content&&window.vocento.site.content.newsId&&null!=window.vocento.site.content.newsId?window.vocento.site.content.newsId:null}function cn(e){var o,n=!0,t="";for(o in e)t=n?o+"="+e[o]:t+"&"+o+"="+e[o],n=!1;return t}function an(){return new Promise(function(n,t){if(!(Ae=rn()))return t("[commento]: streamId is not defined"),void console.error("[commento]: streamId is not defined");var i={commenterToken:"anonymous",domain:Ao(),streamId:encodeURIComponent(Ae),pageSize:fo.pageSize,page:co,sort:oo},e=cn(i);io.trigger("vocento.vocuser:commento:comments_fetched",i),Po(Me+"/api/comment/list?"+e,function(e){if(!e.success)return dn(e.message),void t(e.message);ln(),io.trigger("vocento.vocuser:commento:comments_loaded",{commenterToken:i.commenterToken,domain:Ao(),streamId:Ae,comments:e.comments});for(var o=0;o<lo.length;o++)lo[o](e);n(e)})})}function sn(t){an().then(function(e){var o,n;ze=e.requireIdentification,Ge=e.isModerator,Ye=e.isFrozen,Fe=e.attributes.isLocked,Je=e.attributes.stickyCommentHex,Ue=e.comments,Pe=Object.assign({},Pe,e.commenters),totalComments=e.attributes.commentApproved,Ke=e.configuredOauths,fo.pageSize*co<e.attributes.commentThreadCount&&null==(n=ho(i))&&(De===fo.group&&(o=u,(n=Lo("div",{id:i,style:"display: block",class:"gig-comments-more voc-comments-more",role:"button"})).innerHTML="Mostrar más"),_e===fo.group&&(o=c,(n=Lo("span",{id:i,style:"display: block",class:"gig-comments-more",role:"button"})).innerHTML="Mostrar más comentarios"),No(n,"data-voc-vtm-id","btncomentar"),No(n,"data-voc-vtm-info","mas-comentarios"),Ho(n,mn,null),yo(o,n)),co++,zo(t)})}function mn(){an().then(function(e){Ue=e.comments,Pe=Object.assign({},Pe,e.commenters),function(e){var o=Bn(),n=Ln(Vn(e),"root");if(n)if(xe)yo(o,n);else for(;n.hasChildNodes();)o.appendChild(n.firstChild)}(Ue),co*fo.pageSize>=e.attributes.commentThreadCount&&(void 0!==(e=ho(i))&&e&&No(e,"style","display:none")),co++})}function dn(e){var o=ho(k);o.innerText=e,No(o,"style","display: block;")}function ln(){No(ho(k),"style","display: none;")}function un(e){var o=ho(q+e),n=ho(he+e),t=Co("table"),i=Co("tr"),r=Co("td"),c=Co("td"),a=Co("tr"),s=Co("td"),m=Co("td"),d=Co("tr"),l=Co("td"),u=Co("td"),v=Co("tr"),p=Co("td"),g=Co("td"),f=Co("tr"),h=Co("td"),b=Co("td"),y=Co("tr"),w=Co("td"),x=Co("td");t.id=be+e,ko(t,"markdown-help"),s.innerHTML="<b>bold</b>",m.innerHTML="surround text with <pre>**two asterisks**</pre>",r.innerHTML="<i>italics</i>",c.innerHTML="surround text with <pre>*asterisks*</pre>",l.innerHTML="<pre>code</pre>",u.innerHTML="surround text with <pre>`backticks`</pre>",p.innerHTML="<strike>strikethrough</strike>",g.innerHTML="surround text with <pre>~~two tilde characters~~</pre>",h.innerHTML='<a href="https://example.com">hyperlink</a>',b.innerHTML="<pre>[hyperlink](https://example.com)</pre> or just a bare URL",w.innerHTML="<blockquote>quote</blockquote>",x.innerHTML="prefix with <pre>&gt;</pre>",Ho(Mo(n),vn,e),yo(i,r),yo(i,c),yo(t,i),yo(a,s),yo(a,m),yo(t,a),yo(f,h),yo(f,b),yo(t,f),yo(d,l),yo(d,u),yo(t,d),yo(v,p),yo(v,g),yo(t,v),yo(y,w),yo(y,x),yo(t,y),yo(o,t)}function vn(e){var o=ho(he+e),n=ho(be+e);Ho(o=Mo(o),un,e),_o(n)}function pn(e){var o=ho(ie+e),e=ho(te+e);e.title="Responder",e.innerText="Responder",o.innerHTML="",Io(o,"gig-comment-replybox-open"),Eo(o,"voc-comments-name"),Eo(o,"voc-answer"),Eo(o,"row"),Eo(o,"gig-comment-replybox-closed")}function gn(e){var o,n,t,i,r,c;Ye||Fe||((o="root"===e?l:ho(ie+e)).innerHTML="",No(t=Lo("div",{id:G+(i=e),class:"gig-composebox-textarea",contenteditable:"true",role:"textarea",ariaMultiline:"true",dataPlaceHolder:"Escribir un comentario",ariaLabel:"Escribir un comentario",ariaRequired:"true"}),"arial-multiline","true"),No(t,"data-place-holder","Escribir un comentario"),No(t,"aria-label","Escribir un comentario"),No(t,"aria-required","true"),function(e,o){t.addEventListener("keyup",function(){e(o)},!1)}(yn,i),n=t,c=Lo("p"),i=Lo("div",{class:"gig-composebox-editor"},[Lo("ul",{class:"gig-composebox-sidebar"}),n,c]),void 0!==go&&"root"!==e&&(i=Lo("div",{class:"gig-comments-suscriptor"},[Xn(go,e),n,c])),De===fo.group&&(r=function(e){var o=Lo("div",{class:"voc-buttons"}),n=Lo("button",{id:fe+e,type:"button",class:"gig-composebox-post voc-send button submit-button",role:"button",tabindex:0});No(n,"data-voc-vtm-id","btncomentar"),No(n,"data-voc-vtm-info","root"===e?"enviar-comentario":"responder-comentario");n.innerText="Enviar",Ho(n,Un,e);var t=Lo("div",{class:"gig-composebox-site-login",role:"button"}),e=!0;Oe||(e=!1);e=Lo("div",{class:"gig-composebox-login",hidden:e},t);return t.innerText="Iniciar Sesión",Lo("div",{class:"gig-composebox-logout",role:"button"}).innerText="CerrarSesion",yo(o,n),yo(o,e),o}(e),yo(o,i),yo(o,r)),_e===fo.group&&(c=Lo("span",{class:"gig-composebox-site-login accion",role:"button"},"Inicia sesión o regístrate para comentar"),r=Lo("div",{class:"acceso-comentarios gigya-logged-out"},[Lo("span",{class:"commentResponse"},"Deja tu comentario en esta noticia"),Lo("span",{class:"boton esquinas fondo-azul"},c)]),Ho(c,Xo,{}),No(c=Lo("span",{class:"gig-composebox-post gig-comments-button",role:"button"},"Enviar Comentario"),"data-voc-vtm-id","btncomentar"),No(c,"data-voc-vtm-info","root"===e?"envio-comentario":"responder-comentario"),Ho(c,Un,e),c=Lo("div",{class:"enviar-comentario gigya-logged-in"},[i,c]),yo(o,r),yo(o,c)),"root"!==e&&(Eo(o,"gig-comment-replybox-open"),Io(o,"gig-comment-replybox-closed")))}function fn(e,o){if(!xe)return gn(e);var n=Co("div"),t=Co("div"),i=Co("textarea"),r=Co("div"),c=Co("input"),a=Co("label"),s=Lo("div",{class:"voc-buttons"}),m=Lo("button",{type:"button",class:"gig-composebox-post voc-send",role:"button",tabindex:0});yo(s,m),"root"===e?yo(l,commentBox):yo(ho(xe?K+e:ie+e),s);var d,s=Co("a");return n.id=q+e,t.id=z+e,i.id=G+e,c.id=Y+e,m.id=fe+e,s.id=he+e,ko(t,"textarea-container"),ko(r,"round-check"),ko(r,"anonymous-checkbox-container"),ko(m,"button"),ko(m,"submit-button"),ko(s,"markdown-button"),ko(n,"button-margin"),No(i,"placeholder","Añadir comentarios"),No(c,"type","checkbox"),No(a,"for",Y+e),a.innerText="Comment anonymously",m.innerText=!0===o?"Save Changes":"Enviar",s.innerHTML="<b>M &#8595;</b> &nbsp; Markdown",Qe&&(c.checked=!0,c.setAttribute("disabled",!0)),i.oninput=(d=i,function(){d.style.height="",d.style.height=Math.min(Math.max(d.scrollHeight,75),400)+"px"}),Ho(m,!0===o?Hn:Un,e),Ho(s,un,e),yo(t,i),yo(n,t),yo(r,c),yo(r,a),ze||!0===o||yo(n,r),n}N.c,e))},N.lqn()},N.getCommenterToken=Jo,N.streamId=rn;var hn=["dateDesc","dateAsc","votesDesc"],bn={dateDesc:"Más reciente",dateAsc:"Más antiguo",votesDesc:"Más votado"};function yn(e){var o=ho(G+e),n=ho(k),e="";if(markdown=o.innerText,wn(markdown))return n.innerHTML=e,n.hidden=!0,To(o,"red-border"),void No(n,"style","display:none");e="Ha excedido el tamaño máximo de comentario permitido: "+ao+" caracteres",n.innerHTML=e,n.hidden=!1,No(n,"style","displength<=ao}function xn(e){var o;Io(ho(W+oo),"gig-comments-sortbox-selected"),oo=e,co=1,o=ho(ye),e=ho(P),o.style.height=e.clientHeight+"px",Bn().innerHTML="",sn(function(){Rn(),ho(ye).style.height="100%"}),Eo(ho(W+oo),"gig-comments-sortbox-selected"),De!==fo.group&&_e!==fo.group||(ho(F).hidden=!0),_e===fo.group&&(Eo(e=ho(J),"active"),e.innerText=bn[oo])}function kn(e){e.hidden=!e.hidden}function Tn(){if(xe){var e,o=Co("div"),n=Co("div");for(e in ko(o,"sort-policy-buttons-container"),ko(n,"sort-policy-buttons"),bn){var t=Co("a");t.id=W+e,ko(t,"sort-policy-button"),e===oo&&ko(t,"sort-policy-button-selected"),t.innerText=bn[e],Ho(t,xn,e),yo(n,t)}return yo(o,n),o}!function(){var e=Lo("div",{class:"gig-comments-sort voc-order",role:"button"}),o=Lo("li",{class:"gig-comments-sortbox-selected",id:W+hn[0],role:"button"}),n=Lo("li",{class:"",id:W+hn[1],role:"button"}),t=Lo("li",{id:W+hn[2],role:"button"}),i=Lo("ul",{id:F,hidden:!0},[o,n,t]);o.innerText=bn.dateDesc,n.innerText=bn.dateAsc,t.innerText=bn.votesDesc,No(o,"data-sort",hn[0]),No(n,"data-sort",hn[1]),No(t,"data-sort",hn[2]),Ho(o,xn,Do(o,"data-sort")),Ho(n,xn,Do(n,"data-sort")),Ho(t,xn,Do(t,"data-sort"));var r=Lo("div",{class:"gig-comments-container gig-comments-sortbox gig-comments-sortbox-transition voc-sort-items",style:"left: 180px, opacity: 1"},i),o=v;De===fo.group&&(e.innerText="Ordenar",e.hidden=!0,yo(o,e),yo(o,r),Ho(e,kn,i)),_e===fo.group&&(n=Lo("span",{id:J,class:"gig-comments-sort-selected"}),t=Lo("div",{class:"gig-comments-sort-icon"}),t=Lo("div",{class:"gig-comments-sort-container",role:"button"},[e,t,n]),n.innerText=bn[oo],e.innerText="Ver",yo(o,t),yo(o,r),Ho(t,kn,i))}()}function In(e){var o=Co("div");return ko(o,"moderation-notice"),o.innerHTML=e,o}function Cn(e,o){var n=2592e6,o=e-o;return o<5e3?"ahora":o<12e4?"Hace "+Math.round(o/1e3)+" segundos":o<72e5?"Hace "+Math.round(o/6e4)+" minutos":o<1728e5?"Hace "+Math.round(o/36e5)+" horas":o<5184e6?"Hace "+Math.round(o/864e5)+" días":o<62208e6?"Hace "+Math.round(o/n)+" meses":"Hace "+Math.round(o/31104e6)+" años"}N.commentNew=function(i,r,c){if(po)Uo("multi comment control executed");else{var e,a=ho(q+i),s=ho(G+i),m=ho(te+i),d=xe?s.value:s.innerText;if(!wn(d))return!1;""!==d?(To(s,"red-border"),e={commenterToken:r,streamId:Ae,categoryId:fo.categoryID,domain:Ao(),parentCommentId:i,markdown:d,postId:""},function(e){Uo("onBeforeCommentSubmittedTrigger Callback Triggered");var o={context:fo.context};e=Object.assign(e,o);for(var n=0;n<so.length;n++)so[n](e)}(Object.assign({context:fo.context,commentText:d},e)),po=!0,jo(Me+"/api/comment/new",e,function(e){var o,n,t;po=!1,e.success?(ln(),function(e){Uo("onCommentSubmittedTrigger Callback Triggered");for(var o=0;o<mo.length;o++)mo[o](e)}({comment:{ID:e.commentId,commentText:e.html}}),n="","pending"===e.state?n="Your comment is under moderation.":"flagged"===e.state&&(n="Your comment was flagged as spam and is under moderation."),""!==n&&bo(ho(xe?q+i:k),In(n)),void 0!==(o=no)&&"anonymous"!==r||(o="anonymous"),o=Ln({root:[n={commentId:e.commentId,index:e.index,commenterId:o,markdown:d,html:e.html,parentCommentId:"root",score:0,state:"approved",direction:0,creationDate:new Date}]},"root"),je[e.commentId]=n,"root"!==i?(xe?a.replaceWith(o):(yo(n=null===(n=ho(ue+i))?Ro(i):n,o.firstChild),xo(n),pn(i)),Xe[i]=!1,ko(m,"option-reply"),To(m,"option-cancel"),m.title="Reply to this comment",Ho(m,N.replyShow,i)):xe?(s.value="",wo(ho(j),o)):(s.innerText="",null==(t=ho(P))?yo(ho(ye),o):(yo(t,o.firstChild),xo(t))),t={url:parent.location.href,title:M.title,isLocked:Fe,stickyCommentHex:Je},t={commenterToken:Jo(),domain:Ao(),streamId:encodeURIComponent(Ae),attributes:t},jo(Me+"/api/page/bas(e.message)}),zo(c)):dn(e.message)})):ko(s,"red-border")}};var Sore-e.scoonDate?1onDate?-1:1}};function Ln(C,S){var e=C[S];if(!e||!e.length)return null;e.sort(function(e,o){return e.deleted||e.commentId!==Je?o.deleted||o.commentId!==Je?Sn[oo](e,o):1/0:-1/0});var L=(new Date).getTime(),_=Co("div"),D=Co("div");return e.forEach(function(e){var o=Pe[e.commenterId],n=Co("div"),t=Co("div"),i=Co("div"),r=Co("div"),c=Co("div"),a=Co("div"),s=Co("div"),m=Co("div"),d=Co("button"),l=Co("button"),u=Co("button"),v=Co("button"),p=Co("button"),g=Co("button"),f=Co("button"),h=Co("button"),b=Ln(C,e.commentId),y=Co("div"),w=function(e){for(var o=["#396ab1","#da7c30","#3e9651","#cc2529","#922428","#6b4c9a","#535154"],n=0,t=0;t<e.length;t++)n+=e.charCodeAt(t);return o[n%o.length]}(e.commenterId+"-"+o.name),x=Co("div");n.id=X+e.commentId,a.id=$+e.commentId,s.id=K+e.commentId,i.id=Q+e.commentId,r.id=Z+e.commentId,c.id=ee+e.commentId,m.id=oe+e.commentId,d.id=ne+e.commentId,l.id=te+e.commentId,u.id=ce+e.commentId,v.id=ae+e.commentId,p.id=se+e.commentId,g.id=me+e.commentId,f.id=de+e.commentId,h.id=le+e.commentId,b&&(b.id=ve+e.commentId),y.id=pe+e.commentId,x.id=ge+e.commentId,u.title="Colapsar hijos",v.title="Voto Positivo",p.title="Voto negativo",d.title="Editar",l.title="Responder",g.title="Aprobar",f.title="Borrar",Je===e.commentId?h.title=Ge?"Unsticky":"This comment has been stickied":h.title="Sticky",r.title=e.creationDate.toString(),n.style.borderLeft="2px solid "+w,e.deleted?x.innerText="[deleted]":(x.innerText=o.nickName,""===o.nickName&&(x.innerText=o.name)),s.innerHTML=e.html,r.innerHTML=Cn(L,e.creationDate),c.innerText=e.score+" puntos";w=_n(o);ko(n,"card"),Ge&&"approved"!==e.state&&ko(n,"dark-card"),o.isModerator&&ko(x,"moderator"),"flagged"===e.state&&ko(x,"flagged"),ko(t,"header"),ko(x,"name"),ko(i,"subtitle"),ko(r,"timeago"),ko(c,"score"),ko(a,"body"),ko(m,"options"),to&&ko(m,"options-mobile"),ko(d,"option-button"),ko(d,"option-edit"),ko(l,"option-button"),ko(l,"option-reply"),ko(u,"option-button"),ko(u,"option-collapse"),ko(v,"option-button"),ko(v,"option-upvote"),ko(p,"option-button"),ko(p,"option-downvote"),ko(g,"option-button"),ko(g,"option-approve"),ko(f,"option-button"),ko(f,"option-remove"),ko(h,"option-button"),Je===e.commentId?ko(h,"option-unsticky"):ko(h,"option-sticky"),Ko()&&(0<e.direction?ko(v,"upvoted"):e.direction<0&&ko(p,"downvoted")),Ho(d,N.editShow,e.commentId),Ho(u,N.commentCollapse,e.commentId),Ho(g,N.commentApprove,e.commentId),Ho(f,N.commentDelete,e.commentId),Ho(h,N.commentSticky,e.commentId);d=Dn(v,p,e.commentId,0),v=d[0],p=d[1];Ho(l,N.replyShow,e.commentId),"undefined"!==o.link&&"https://undefined"!==o.link&&""!==o.link&&No(x,"href",o.link),yo(m,u),e.deleted||(d=Co("span"),u=Co("span"),d.innerText=void 0===e.posVotes?0:e.posVotes,u.innerText=void 0===e.negVotes?0:e.negVotes,yo(v,d),yo(p,u),yo(m,p),yo(m,v)),e.commenterId===no||e.deleted||yo(m,l),!e.deleted&&Ge&&"root"===S&&yo(m,h),!e.deleted&&Ge&&yo(m,f),Ge&&"approved"!==e.state&&yo(m,g),e.deleted||Ge||Je!==e.commentId||yo(m,h),No(m,"style","width: "+45*(m.childNodes.length+1)+"px;");for(var k=0;k<m.childNodes.length;k++)No(m.childNodes[k],"style","right: "+45*k+"px;");if(yo(i,c),yo(i,r),to||yo(t,m),yo(t,w),yo(t,x),yo(t,i),yo(a,s),yo(y,a),to&&(yo(y,m),ko(a=Co("div"),"options-clearfix"),yo(y,a)),!e.deleted||"true"!==H&&null!==b){if(xe)b&&(ko(b,"body"),yo(y,b)),yo(n,t),yo(n,y),yo(_,n);else{var T,x=Object.assign({},{nickname:x,profileUrl:o.link,replyCount:0,number:qe},e);if(b&&(x.replyCount=b.childNodes.length),De===fo.group&&(T=function(e,o){var n=Cn((new Date).getTime(),e.creationDate),t=null!==o.nickName&&""!==o.nickName?o.nickName:o.name,i=_n(o),r=Kn(e.commentId),c=Lo("div",{class:"gig-comment-body",id:r.text}),a=Lo("span",{class:"gig-comment-time voc-clock",id:r.timeago}),s=Lo("div",{class:"gig-comment-username",id:r.nickname}),m=Lo("figure",{class:"gig-comment-photo col-xs-2 col-sm-1",id:r.photo}),d=Lo("a",{class:"gig-comment-replyLink voc-reply eloriginal",id:r.reply},"Responder"),l=Lo("a",{class:"gig-comment-shareLink voc-reply",style:"display:none"},"Compartir"),u=Lo("a",{class:"gig-comment-vote-pos",id:r.upvote}),v=Lo("a",{class:"gig-comment-vote-neg",id:r.downvote});c.innerHTML=e.html,a.innerText=n,s.innerText=t,l.hidden=!0,yo(m,i),u.innerText=void 0===e.posVotes?0:e.posVotes,v.innerText=void 0===e.negVotes?0:e.negVotes,Ye||Fe||(Dn(u,v,e.commentId,0),Ho(d,N.replyShow,e.commentId));t=Lo("div",{class:"gig-comment-replybox gig-comments-box gig-comments-box-answer gig-comment-replybox-closed",id:r.replybox});s.innerHTML=s.innerHTML+'<span class="gig-comment-username-type"> '+o.userType+"</span>";l=Lo("div",{class:"voc-name-left"},[s,a]);void 0!==go&&o.externalUid===go.user.UID&&(i=function(e){var o=Lo("span",{class:"v-drpw__b-t"}),n=Lo("button",{class:"v-drpw__b v-drpw-b"},o),o=function(e){var o=Lo("span",{class:"v-icon"}),n=Lo("button",{class:"v-close-b"},o);Ho(n,Bo,Ce+e);var t=Lo("div",{class:"v-drpw__close"},n),i=Lo("div",{class:"v-drpw__h"},t),r=Lo("div",{class:"v-drpw__sub-c"},i),o=Lo("p",{class:"v-p"},"Modificar alias"),n=Lo("button",{class:"v-list__link v-drpw-b"},o),t=Lo("li",{class:"v-list__item"},n);Ho(t,Vo,Ie+e),Ho(t,Bo,Ce+e);i=Lo("p",{class:"v-p"}," Editar comentario"),o=Lo("button",{class:"v-list__link v-drpw-b","data-voc-component":"edit-comment"},i),n=Lo("li",{class:"v-list__item"},o);Ho(o,N.editCommentShow,e);i=Lo("p",{class:"v-p"}," Eliminar comentario "),o=Lo("button",{class:"v-list__link v-drpw-b","data-voc-component":"dropdown-b-open"},i),i=Lo("li",{class:"v-list__item"},o);Ho(o,Vo,Se+e);i=Lo("ul",{class:"v-list"},[t,n,i]),i=Lo("div",{class:"v-list-c"},i),i=Lo("div",{class:"v-drpw__w"},i);return Lo("div",{class:"v-drpw__c is-open",style:"display: none;",id:Ce+e},[r,i])}(e),e=Lo("span",{class:"v-backdrop-d"});return Lo("div",{class:"v-drpw v-drpw--b-r v-drpw--list"},[n,o,e])}(e.commentId),Ho(i,Vo,Ce+e.commentId),p=$n(e.commentId),l=Lo("div",{class:"voc-name-left"},[s,a,i,p]));var p=Lo("span",{class:"v-backdrop-d"}),p=Lo("div",{class:"voc-comments-name row",id:r.card},[Lo("i",{class:"voc-icons answer-icon"}),m,l,Lo("div",{class:"voc-comment"},[c]),Lo("div",{class:"voc-comments-social"},[Lo("div",{class:"voc-social-left"},[d]),Lo("div",{class:"voc-social-right"},[u,v])]),t,function(e){var o=Lo("button",{class:"v-btn v-btn--xl v-mdl-b-insd"},"No, cancelar");Ho(o,Bo,Se+e);var n=Lo("button",{class:"v-btn v-btn-bg v-btn--xl","data-voc-component":"remove-comment"},"Si, eliminar");Ho(n,N.commentDeleteFromComments,e);o=Lo("nav",{class:"v-mdl__nav v-btn-c v-btn-c--c v-btn-c--c-b-xs"},[o,n]),n=Lo("p",{class:"v-mdl__t"},"¿Seguro que quieres eliminar el comentario?"),o=Lo("div",{class:"v-mdl__w"},[n,o]),o=Lo("div",{class:"v-mdl__c"},[function(e){var o=Lo("span",{class:"v-icon"}),o=Lo("button",{class:"v-close-b"},o);Ho(o,Bo,Se+e);o=Lo("div",{class:"v-mdl__close"},o);return Lo("div",{class:"v-mdl__h"},o)}(e),o]);return Lo("div",{class:"v-mdl v-mdl--insd",id:Se+e,style:"display: none;","data-voc-component":"modal"},o)}(e.commentId),p]),r=Lo("div",{id:r.replyarea,class:"gig-comment-replies voc-comments-name voc-answer row"}),r=Lo("div",{class:"gig-comment"},[p,r]);No(r,"data-comment-id",e.commentId),"suscriptor"===o.userType&&No(r,"data-tag-suscriptor","1");return r}(x,o)),_e===fo.group&&(T=function(e,o){var n=Kn(e.commentId),t=function(e,o){var n=Kn(e.commentId),t=Cn((new Date).getTime(),e.creationDate),i=null!==o.nickName&&""!==o.nickName?o.nickName:o.name,r=Lo("span",{class:"gig-comment-index"}),c=Lo("span",{class:"gig-comment-time voc-clock",id:n.timeago}),a=Lo("span",{class:"gig-comment-username",id:n.nickname}),n=Lo("div",{class:"gig-comment-header-title"},[r,c]);r.innerText=e.number,c.innerText=t,a.innerText=i,function(e,o){var n=null;De===_e&&("suscriptor"!==o&&"trial"!==o||(n=Lo("span",{class:"sign-on2-comments"})),yo(e,n="periodista"===o?Lo("span",{class:"sign-on2-comments-journalist"}):n))}(a,o.userType);a=Lo("div",{class:"gig-comment-header-left"},Lo("span",{},[a,Lo("span",{class:"comment-time"},"  "),n])),n=Lo("div",{class:"gig-comment-header-right"},Lo("div",{class:"gig-comment-viaProvider",style:"display:none"}));return Lo("div",{class:"gig-comment-header"},[a,n])}(e,o),i=function(e){var o=Kn(e.commentId),n=Lo("li",{class:"gig-comment-likeLink",id:o.like},"Me gusta"),t=Lo("li",{class:"gig-comment-replyLink",id:o.reply},Lo("a",{},"Responder")),i=Lo("li",{class:"gig-comment-deleteLink",style:"display:none"},Lo("a",{},"Borrar")),r=Lo("li",{class:"gig-comment-shareLink",style:"display:none"},Lo("a",{},"Compartir"));r.hidden=!0,n.hidden=!0;var c=Lo("div",{class:"gig-comment-repliesArrow-text"},e.replyCount+" respuestas"),n=Lo("li",{id:ce+e.commentId,class:"gig-comment-replyesArrow",hidden:!1,style:"display:block"},[c,Lo("div",{class:"gig-comment-repliesArrow-img"})]);Ho(n,N.commentCollapse,e.commentId),0===e.replyCount&&(n.hidden=!0,No(n,"style","display:none"));c=Lo("a",{class:"alter gig-comment-vote-pos fa fa-thumbs-o-up gig-comment-vote-with-value",href:"javascript:void(0);",id:o.upvote}),o=Lo("a",{class:"alter gig-comment-vote-neg  a fa-thumbs-o-down gig-comment-vote-with-value",href:"javascript:void(0);",id:o.downvote});c.innerText=void 0===e.posVotes?0:e.posVotes,o.innerText=void 0===e.negVotes?0:e.negVotes,No(c,"data-voc-vtm-id","btncomentar"),No(c,"data-voc-vtm-info","like"),No(c,"data-btn","like-comment"),No(o,"data-voc-vtm-id","btncomentar"),No(o,"data-voc-vtm-info","dislike"),No(o,"data-btn","like-comment"),Ye||Fe||(Dn(c,o,e.commentId,0),Ho(t,N.replyShow,e.commentId));o=Lo("li",{class:"gig-comments-link-lastVisible"},[Lo("div",{class:"gig-comments-vote-total"}),c,o]),o=Lo("ul",{class:"gig-comments-linksContainer"},[t,i,r,n,o]);return Lo("div",{class:"gig-comment-footer"},[Lo("div",{class:"gig-comment-footer-left"},[o,Lo("div",{class:"social-inserted"})])])}(e),r=Lo("div",{class:"gig-comment-body",id:n.text}),c=M.createElement("div");c.innerHTML=e.html;c=c.textContent||c.innerText||"";r.innerText=c;c=_n(o),t=Lo("div",{class:"gig-comment-content"},[t,Lo("div",{class:"gig-comment-status"}),r,Lo("div",{class:"gig-comment-mediaItem"})]),r="",o=o.userType;r="suscriptor"===o||"trial"===o?"suscriptor":"",r="periodista"===o&&"suscriptor"!==r?o:r;i=Lo("div",{class:"gig-comment-data",id:n.repliescontainer},[Lo("div",{class:"gig-comment-self-data "+r},[t,i]),Lo("div",{class:"gig-comment-replybox",id:n.replybox}),Lo("div",{id:n.replyarea,class:"gig-comment-replies voc-comments-name voc-answer row"})]);return Lo("div",{class:"gig-comment"},Lo("article",{class:"gris-oscuro",id:n.card},[Lo("div",{class:"gig-comment-title"}),Lo("div",{class:"gig-comment-photo",id:n.photo},c),i]))}(x,o)),Uo(D),b){var I,x=ue+e.commentId;for(De===fo.group&&(I=So(T,x)),_e===fo.group&&(o=X+e.commentId,e=re+e.commentId,o=So(T,o),e=So(o,e),I=So(e,x));b.hasChildNodes();)I.appendChild(b.firstChild)}yo(D,T)}qe++}}),0!==D.childNodes.length||xe?xe?0===_.childNodes.length?null:_:D:null}function _n(e){var o=Co("img");return ko(o,"avatar-img"),Eo(o,"gig-comment-img"),"undefined"===e.photo||""===e.photo?No(o,"src",He+"/images/default_avatar.png"):No(o,"src",e.photo),o}function Dn(e,o,n,t){return e=Mo(e),o=Mo(o),0<t?(Ho(e,N.vote,[n,[1,0]]),Ho(o,N.vote,[n,[1,-1]])):t<0?(Ho(e,N.vote,[n,[-1,1]]),Ho(o,N.vote,[n,[-1,0]])):(Ho(e,N.vote,[n,[0,1]]),Ho(o,N.vote,[n,[0,-1]])),[e,o]}function Mn(e){var o=e[0],n=e[1][1],t=ho(ae+o),i=ho(se+o),e={commenterToken:Jo(),commentId:o,direction:n},o=Dn(t,i,o,0),t=o[0],i=o[1];To(t,"upvoted"),To(i,"downvoted"),0<n?ko(t,"upvoted"):n<0&&ko(i,"downvoted"),jo(Me+"/api/comment/vote",e,function(e){var o,n;e.success?(ln(),o=t.firstChild,n=i.firstChild,xe?(o.innerText=e.comment.posVotes.toString(),n.innerText=e.comment.negVotes.toString()):(t.innerText=e.comment.posVotes.toString(),i.innerText=e.comment.negVotes.toString()),function(e){Uo("onCommentVotedTrigger Callback Triggered"),io.trigger("vocento.vocuser:commento:comment_voted",e);for(var o=0;o<uo.length;o++)uo[o](e)}(e)):(n=e.message,"You cannot vote on your own comment"===e.message&&(n="No puede votar sus propios comentarios"),dn(n="Commenter has voted same twice"===e.message?"Ya ha realizado esta votación":n),To(t,"upvoted"),To(i,"downvoted"))})}function Hn(t){var e,o=ho(G+t),i=o.value;""!==i?(To(o,"red-border"),e={commenterToken:Jo(),commentId:t,markdown:i},jo(Me+"/api/comment/edit",e,function(e){var o,n;e.success?(ln(),je[t].markdown=i,je[t].html=e.html,n=ho(ne+t),(o=ho(q+t)).innerHTML=je[t].html,o.id=K+t,delete $e[t],ko(n,"option-edit"),To(n,"option-cancel"),n.title="Edit comment",Ho(n=Mo(n),N.editShow,t),n="","unapproved"===e.state?n="Your comment is under moderation.":"flagged"===e.state&&(n="Your comment was flagged as spam and is under moderation."),""!==n&&bo(ho(q+t),In(n))):dn(e.message)})):ko(o,"red-border")}function Nn(n){var e,o=ho(G+n),t=o.value;""!==t?(To(o,"red-border"),e={commenterToken:Jo(),commentId:n,markdown:t},jo(Me+"/api/comment/edit",e,function(e){var o;e.success?(ln(),je[n].markdown=t,je[n].html=e.html,o=ho(K+n),_o(ho(Le+n)),o.innerHTML=je[n].html,o.id=K+n,ho(X+n).querySelector(".voc-comments-social").removeAttribute("style"),o="","unapproved"===e.state?o="Your comment is under moderation.":"flagged"===e.state&&(o="Your comment was flagged as spam and is under moderation."),""!==o&&bo(ho(K+n),In(o))):dn(e.message)})):ko(o,"red-border")}function En(e){var o=ho(K+e);_o(ho(Le+e)),o.innerText=je[e].markdown,ho(X+e).querySelector(".voc-comments-social").removeAttribute("style")}function An(e){xe?wo(ho(K+e),fn(e)):gn(e),Xe[e]=!0;var o=ho(te+e);To(o,"option-reply"),ko(o,"option-cancel"),o.title="Cancelar",o.innerText="Cancelar",Ho(o=Mo(o),N.replyCollapse,e)}function Vn(e){var n={};return e.forEach(function(e){var o=e.parentCommentId;o in n||(n[o]=[]),e.creationDate=new Date(e.creationDate),n[o].push(e),je[e.commentId]={html:e.html,markdown:e.markdown}}),n}function Bn(){var e=null;return xe?null==(e=ho(P))&&(e=Co("div")):e=Oo(),e}function Rn(){var e=Bn();e.innerHTML="";var o=Ln(Vn(Ue),"root");if(o)if(xe)yo(e,o);else for(;o.hasChildNodes();)e.appendChild(o.firstChild)}function On(e){Ko()?N.commentNew(e,Jo()):Ke.sso&&Oe&&!KontNew(e,Jo())}).catch(function(){console.error("can not validate the token")}):N.loginBoxShow(e)}function Un(e){var o,n;ze?On(e):(n=ho(Y+e),""!==(o=ho(G+e)).value?(To(o,"red-border"),n.checked?(n=e,We=!0,N.commentNew(n,"anonymous")):On(e)):ko(o,"red-border"))}function jn(t){return new Promise(function(o,n){Uo("getSSOAuthenticationParams called");var e="commenterToken="+t+"&domain="+Ao();Po(Me+"/api/oauth/gigya/redirect?"+e,function(e){e.success?o({hmac:e.oauth.hmac,token:e.oauth.token}):n(e.message)})})}function Pn(o){return new Promise(function(o,n){Uo("getToken()"),Po(Me+"/api/commenter/token/new",function(e){e.success?(Uo("getToken() Setting Cookie"),Go("voc_commenter_token",e.commenterToken),Yo(r,e.commenterToken),o(e.commenterToken)):n(e.message)})}).then(jn).then(function(e){return e=e,Uo("firing validate token event"),Uo(e),e={hmac:e.hmac,token:e.token},io.trigger("vocuser:commento:validate-token",{data:e})sole.error(e)})}function qn(e){ho(p).innerHTML="",Xe={},N.main(e)}function zn(e,o,n){jo(Me+"/api/commenter/login",{email:e,password:o},function(e){return e.success?(ln(),Go("voc_commenter_token",e.commenterToken),en(e.commenter,e.email),Wn(),_o(ho(f)),void(null!==n?N.commentNew(n,e.commenterToken,function(){N.loginBoxClose(),sn(Rn)}):(N.loginBoxClose(),sn(Rn)))):(N.loginBoxClose(),void dn(e.message))})}function Gn(o){var e={url:parent.location.href,title:M.title,isLocked:Fe,stickyCommentHex:Je},e={commenterToken:Jo(),domain:Ao(),streamId:encodeURIComponent(Ae),attributes:e};jo(Me+"/api/page/update",e,function(e){e.success?(ln(),zo(o)):dn(e.message)})}function Yn(){void 0===t?Wn():tn(t,Wn)}function Wn(){var e=ho(g),o=ho(w),n=ho(U);No(e,"style",""),Ge&&No(o,"style",""),n&&No(n,"style","")}function Fn(n){return Uo("waiting for token-validated event"),Oe||Xo({}),new Promise(function(e,o){io.when("vocuser:commento:token-validated-promised").then(function(){Uo("commento vocuser:commento:token-validated-promised received, reload comments="+n),on(function(){"anonymous"!==Jo()&&(_o(ho(f)),Fo(r),n&&(co=1,sn(Rn)))}),out happend")},2e3)})})}function Jn(){for(var e,o=M.getElementsByTagName("script"),n=0;n<o.length;n++)o[n].src.match(/\/js\/commento\.js$/)&&(void 0!==(e=Do(o[n],"data-page-id"))&&(Ae=e),t=Do(o[n],"data-css-override"),e=Do(o[n],"data-auto-init"),Be=void 0!==e?e:Be,void 0!==(e=Do(o[n],"data-id-root"))&&(p=e),Ve=Do(o[n],"data-no-fonts"),H=Do(o[n],"data-hide-deleted"))}function Xn(e,o){var n=Lo("figure",{class:"gig-comment-photo col-xs-2 col-sm-1",id:e.user.thumbnailURL}),t=Lo("span",{class:"v-drpw__b-t"},"Modificar Alias"),i=Lo("button",{class:"v-drpw__b v-drpw-b gig-comments-alias is-open","data-voc-component":"dropdown-b-open"},t);Ho(i,Vo,Ie+o);var r=Lo("div",{class:"v-drpw v-drpw--r"},[i,$n(o)]),c=e.user.nickname,t=Lo("div",{class:"gig-comment-username",id:c});t.innerText=c;i=io.getUserType(),c=Lo("span",{class:"gig-comment-username-type"},i);return c.innerText=i,yo(n,(i=e.user,ko(e=Co("img"),"avatar-img"),Eo(e,"gig-comment-img"),"undefined"===i.photoURL||""===i.photoURL?No(e,"src",He+"/images/default_avatar.png"):No(e,"src",i.photoURL),e)),Lo("div",{class:"voc-comments-name row",id:o},[Lo("i",{class:"voc-icons answer-icon"}),n,Lo("div",{class:"voc-name-left"},[t,c,r])])}function $n(e){var o=Lo("div",{class:"v-drpw__sub-c"}),n=Lo("div",{class:"v-drpw__h"}),t=Lo("div",{class:"v-drpw__close"}),i=Lo("button",{class:"v-close-b"}),r=Lo("span",{class:"v-icon"}),c=Lo("a",{class:"v-btn v-btn-smp v-btn-smp--cp3",href:function(){var e="https://areapersonal.";"pre"===vocento.site.env&&(e="https://areapersonal-predes.");"des"===vocento.site.env&&(e="https://areapersonal-des.");return e+vocento.site.tlddomain+"/gestion/datos-personales.html"}()},"área personal."),a=Lo("p",{class:"v-drpw__p"},"Para modificar tu alias tienes que acceder a tu ");yo(a,c);c=Lo("div",{class:"v-drpw__w"});yo(c,a),yo(i,r),Ho(i,Bo,Ie+e),yo(t,i),yo(n,t),yo(o,n);e=Lo("div",{class:"v-drpw__c is-open",id:Ie+e,style:"display: none;","data-voc-component":"dropdown-data-target"});return yo(e,o),yo(e,c),e}function Kn(e){return{card:X+e,body:$+e,text:K+e,subtitle:Q+e,timeago:Z+e,score:ee+e,options:oe+e,edit:ne+e,reply:te+e,replyarea:ue+e,replybox:ie+e,collapse:ce+e,upvote:ae+e,downvote:se+e,approve:me+e,remove:de+e,sticky:le+e,photo:"commento-comment-photo-"+e,nickname:ge+e,social:o+e,like:"commento-like-link-"+e,delete:"commento-delete-link-"+e,repliescontainer:re+e}}N.commentApprove=function(i){var e={commenterToken:Jo(),commentId:i};jo(Me+"/api/comment/approve",e,function(e){var o,n,t;e.success?(ln(),o=ho(X+i),n=ho(ge+i),t=ho(me+i),To(o,"dark-card"),To(n,"flagged"),_o(t)):dn(e.message)})},N.commentDelete=function(o){var e;confirm("Are you sure you want to delete this comment?")&&(e={commenterToken:Jo(),commentId:o},jo(Me+"/api/comment/delete",e,function(e){e.success?(ln(),ho(K+o).innerText="[deleted]"):dn(e.message)}))},N.commentDeleteFromComments=function(o){var e={commenterToken:Jo(),commentId:o};Bo(Se+o),jo(Me+"/api/comment/delete",e,function(e){e.success?(ln(),ho(X+o).innerText="Comentario eliminado por el usuario"):dn(e.message)})},N.vote=function(e){Ke.sso&&Oe&&!Ko()?Pn(!1).then(function(){Mn(e)}).catch(function(){console.error("can not validate the token")}):(Ko()||N.loginBoxShow(),Mn(e))},N.editShow=function(e){var o;e in $e&&$e[e]||(o=ho(K+e),$e[e]=!0,o.replaceWith(fn(e,!0)),ho(G+e).value=je[e].markdown,To(o=ho(ne+e),"option-edit"),ko(o,"option-cancel"),o.title="Cancel edit",Ho(o=Mo(o),N.editCollapse,e))},N.editCollapse=function(e){var o=ho(ne+e),n=ho(q+e);n.innerHTML=je[e].html,n.id=K+e,delete $e[e],ko(o,"option-edit"),To(o,"option-cancel"),o.title="Edit comment",Ho(o=Mo(o),N.editShow,e)},N.editCommentShow=function(e){ho(X+e).querySelector(".voc-comments-social").setAttribute("style","display:none;"),Bo(Ce+e);var o=ho(K+e);je[e].markdown=o.innerText;var n=Lo("textarea",{id:G+e},o.innerText);o.innerText="",yo(o,n);var t=Lo("button",{class:"voc-comment-nav-link-cancel"},"Cancelar"),i=Lo("button",{class:"voc-comment-nav-link-save"},"Guardar"),n=Lo("div",{class:"voc-comment-nav",id:Le+e},[t,i]);Ho(i,Nn,e),Ho(t,En,e),wo(o,n)},N.replyShow=function(e){e in Xe&&Xe[e]||(Ke.sso&&Oe&&!Ko()?Pn(!1).then(function(te the token")}):An(e))},N.replyCollapse=function(e){var o=ho(te+e);xe?ho(q+e).remove():pn(e),delete Xe[e],ko(o,"option-reply"),To(o,"option-cancel"),o.title="Responder",o.innerText="Responder",Ho(o=Mo(o),N.replyShow,e)},N.commentCollapse=function(e){if(!xe)return kn(o=ho(ue+e)),Io(n=ho(ce+e),"gig-comment-repliesArrow-collapsed"),void(o.hidden&&Eo(n,"gig-comment-repliesArrow-collapsed"));var o=ho(ve+e),n=ho(ce+e);o&&ko(o,"hidden"),To(n,"option-collapse"),ko(n,"option-uncollapse"),n.title="Expand children",Ho(n=Mo(n),N.commentUncollapse,e)},N.commentUncollapse=function(e){var o=ho(ve+e),n=ho(ce+e);o&&To(o,"hidden"),To(n,"option-uncollapse"),ko(n,"option-collapse"),n.title="Collapse children",Ho(n=Mo(n),N.commentCollapse,e)},N.commentoAuth=function(e){var n=e.provider,t=e.id,i=window.open("","_blank");Po(Me+"/api/commenter/token/new",function(o){var e;o.success?(ln(),Go("voc_commenter_token",o.commenterToken),i.location=Me+"/api/oauth/"+n+"/redirect?commenterToken="+o.commenterToken,e=setInterval(function(){i.closed&&(clearInterval(e),on(function(){var e=ho(U);e&&No(e,"style",""),"anonymous"!==Jo()&&_o(ho(f)),null!==t?N.commentNew(t,oClose(),sn(Rn)}):(N.loginBoxClose(),sn(Rn))}))},250)):dn(o.message)})},N.popupRender=function(n){Oe&&console.log("Usuario autenticado en Gigya");var e=ho(T),o=Co("div"),t=Co("div"),i=Co("div"),r=Co("div"),c=Co("hr"),a=Co("div"),s=Co("div"),m=Co("div"),d=Co("hr"),l=Co("div"),u=Co("div"),v=Co("div"),p=Co("input"),g=Co("button"),f=Co("div"),h=Co("a"),b=Co("div"),y=Co("a"),w=Co("div");o.id=I,l.id=C,p.id=S,g.id=L,f.id=_,b.id=D,i.id=A,t.id=E,c.id=V,a.id=B,s.id=R,d.id=O,ko(e,"login-box-container"),ko(o,"login-box"),ko(l,"login-box-subtitle"),ko(u,"email-container"),ko(v,"email"),ko(p,"input"),ko(g,"email-button"),ko(f,"forgot-link-container"),ko(h,"forgot-link"),ko(b,"login-link-container"),ko(y,"login-link"),ko(t,"login-box-subtitle"),ko(i,"oauth-buttons-container"),ko(r,"oauth-buttons"),ko(a,"login-box-subtitle"),ko(s,"oauth-buttons-container"),ko(m,"oauth-buttons"),ko(w,"login-box-close"),ko(Ee,"root-min-height"),h.innerText="Forgot your password?",y.innerText="Don't have an account? Sign up.",l.innerText="Login with your email address",g.innerText="Continue",a.innerText="Proceed with social login",t.innerText="Proceed with "+Ao()+" authentication",Ho(g,N.passwordAsk,n),Ho(h,N.forgotPassword,n),Ho(y,N.popupSwitch,n),Ho(w,N.loginBoxClose),No(e,"style","display: none; opacity: 0;"),No(p,"name","email"),No(p,"placeholder","Email address"),No(p,"type","text");var x,k=0;["google","twitter","github","gitlab"].forEach(function(e){var o;Ke[e]&&(ko(o=Co("button"),"button"),ko(o,e+"-button"),o.innerText=e,Ho(o,N.commentoAuth,{provider:e,id:n}),yo(m,o),k++)}),Ke.sso&&(ko(x=Co("button"),"button"),ko(x,"sso-button"),x.innerText="Single Sign-On",Ho(x,N.commentoAuth,{provider:"sso",id:n}),yo(r,x),yo(i,r),yo(o,t),yo(o,i),(0<k||Ke.commento)&&yo(o,c)),eo=0<k&&(yo(o,a),yo(s,m),yo(o,s),!0),yo(v,p),yo(v,g),yo(u,v),yo(f,h),yo(b,y),0<k&&Ke.commento&&yo(o,d),Ke.commento&&(yo(o,l),yo(o,u),yo(o,f),yo(o,b)),yo(o,w),Ze="login",e.innerHTML="",yo(e,o)},N.forgotPassword=function(){window.open("","_blank").location=Me+"/forgot?commenter=true",N.loginBoxClose()},N.popupSwitch=function(e){var o=ho(C);eo&&(_o(ho(R)),_o(ho(B)),_o(ho(V)),_o(ho(O))),Ke.sso&&(_o(ho(A)),_o(ho(E)),_o(ho(V)),_o(ho(O))),_o(ho(D)),_o(ho(_)),o.innerText="Create an account",Ze="signup",N.passwordAsk(e),ho(S).focus()},N.login=function(e){var o=ho(S),n=ho(h);zn(o.value,n.value,e)},N.signup=function(o){var n=ho(S),e=ho(b),t=ho(y),i=ho(h),t={email:n.value,name:e.value,website:t.value,password:i.value,domain:Ao(),uid:"",lastName:"",nickName:"",userType:"registrado",tags:""};jo(Me+"/api/commenter/new",t,function(e){return e.success?(ln(),void zn(n.value,i.value,o)):(N.loginBoxClose(),void dn(e.message))})},N.passwordAsk=function(e){var o,n,t,i,r=ho(I),c=ho(C);_o(ho(L)),_o(ho(D)),_o(ho(_)),eo&&0<Ke.length&&(_o(ho(V)),_o(ho(O)),_o(ho(B)),_o(ho(R))),i="signup"===Ze?(o=["name","website","password"],n=[b,y,h],t=["text","text","password"],["Real Name","Website (Optional)","Password"]):(o=["password"],n=[h],t=["password"],["Password"]),c.innerText="signup"===Ze?"Finish the rest of your profile to complete.":"Enter your password to log in.";for(var a=0;a<o.length;a++){var s=Co("div"),m=Co("div"),d=Co("input");d.id=n[a],ko(s,"email-container"),ko(m,"email"),ko(d,"input"),No(d,"name",o[a]),No(d,"type",t[a]),No(d,"placeholder",i[a]),yo(m,d),yo(s,m),"password"===o[a]&&(ko(d=Co("button"),"email-button"),d.innerText=Ze,Ho(d,"signup"===Ze?N.signup:N.login,e),yo(m,d)),yo(r,s)}ho("signup"===Ze?b:h).focus()},N.threadLockToggle=function(){var e=ho(x);Fe=!Fe,esabled=!1,qn()})},N.commentSticky=function(o){var e;"none"!==Je&&(To(e=ho(le+Je),"option-unsticky"),ko(e,"option-sticky")),Je=Je===o?"none":o,Gn(function(){var e=ho(le+o);Je===o?(To(e,"option-sticky"),ko(e,"option-unsticky")):(To(e,"option-unsticky"),ko(e,"option-sticky"))})},N.loginBoxClose=function(){var e=ho(g),o=ho(T);To(e,"blurred"),To(Ee,"root-min-height"),No(o,"style","display: none")},N.loginBoxShow=function(e){var o,n;Ke.sso?Koen(funcconsole.log(e)}):(o=ho(g),n=ho(T),N.popupRender(e),ko(o,"blurred"),No(n,"style",""),window.location.hash=T,ho(S).focus())};var Qn=!(N.main=function(n){Uo("globalComments.main called"),xe?(Ee=ho(p),null===(Ne=Ee)?console.log("[commento] error: no root element with ID '"+p+"' found"):(null===to&&(to=Ee.getBoundingClientRect().width<450),ko(Ee,"root"),"true"!==Ve&&ko(Ee,"root-font"))):function(){Uo("vocentoMain() called");var e=fo.group;if(Ne=ho(p),De!==e&&_e!==e||Eo(Ne,"gig-comments-container"),Ee=function(e){var o;return c=null,De===e&&(o=Lo("span"),o=Lo("a",{href:"#scroll-smooth-top","data-voc-component":"wheel-visible",class:"gig-comments-button is-fixed"},o),c=Lo("div",{class:"voc-comments-container"},o)),c=_e===e?Lo("div",{id:"commentsBlock",class:"collapse"}):c}(e),null===Ne||null===Ee)return console.error("[commento] error: no root element with ID '"+p+"' found");null===to&&(to=Ne.getBoundingClientRect().width<450),yo(Ne,Ee);var o,n=function(e){var o;return De===e&&(m=Lo("span",{class:"voc-number"},""),d=Lo("span",{}),d=Lo("div",{class:"voc-comments-title"},[m,d]),o=Lo("p",{class:"gig-comments-alert"}),l=Lo("div",{class:"gig-comments-composebox"}),o=Lo("div",{class:"container voc-comments-form","data-voc-component":"wheel-visible"},[Lo("form",{class:"form-horizontal"},l),d,o])),o=_e===e?l=Lo("span",{class:"gig-comments-composebox"}):o}(e);if(void 0!==go&&(o=Xn(go,go.user.UID),bo(n,o)),a=function(e){var o;return De!==e&&_e!==e||(v=Lo("div",{class:"gig-comments-header",id:ke}),o=Lo("div",{id:ye,class:"container voc-comments-opinion"},[Lo("div",{class:"voc-comments-data","data-voc-component":"wheel-visible"},[Lo("div",{class:"col-xs-12 col-sm-6 voc-left"},v),Lo("div",{class:"col-xs-12 col-sm-6 voc-right"},Lo("div",{class:"gig-comments-updates"}))]),Lo("div",{class:"gig-comments-comments",id:P})]),u=o),o}(e),null===n||null===a||null===s)return console.error(" [commento] Missing vocento container in mainVocento function, group = "+e);yo(Ee,n),yo(Ee,a)}(),(o=Co("div")).id=T,yo(Ee,o),(t=Co("div")).id=k,ko(t,"error-box"),No(t,"style","display: none;"),bo(Ee,t),(i=Co("div")).id=g,ko(i,"main-area"),No(i,"style","display: none"),yo(Ee,i);var e,o,t,i,r=(e=Co("div"),o=Co("div"),t=Co("a"),i=Co("span"),e.id="commento-footer",ko(e,"footer"),ko(o,"logo-container"),ko(t,"logo"),ko(i,"logo-text"),No(t,"href","https://commento.io"),No(t,"target","_blank"),i.innerText="Commento",yo(e,o),e);tn(He+"/css/commento.css",Yn),on(function(){sn(function(){var e,o;e=Co("div"),o=Co("button"),e.id=w,o.id=x,ko(e,"mod-tools"),o.innerHTML=Fe?"Unlock Thread":"Lock Thread",Ho(o,N.threadLockToggle),No(e,"style","display: none"),yo(e,o),yo(Ee,e),function(e){var o,n=Co("div"),t=Co("div"),i=ho(g),r=Co("div");n.id=f,No(n,"style","display: none"),r.id=j,ko(n,"login"),ko(t,"login-text"),o=Bn(),xe?(ko(o,"comments"),o.id=P,o.innerHTML=""):(o=s).innerHTML="",o.innerHTML="",t.innerText="Iniciar Sesión",Ho(t,N.loginBoxShow,null);var c=0;Object.n(e){Ke[e]&&c++}),0<c?yo(n,t):ze||(Qe=!0),Fe||Ye?(t=Fe?"Los comentarios están cerrados en esta página. Disculpen las molestias":"Los comentarios están desactivados por mantenimiento. Vuelve a intentarlo más tarde.<br>Disculpa las molestias.",Ko()||We?(bo(ho(p),In(t)),_o(ho(f))):(yo(i,n),xe?yo(i,fn("root")):(bo(ho(p),In(t)),gn("root")))):(Ko()?_o(ho(f)):yo(i,n),xe?yo(i,fn("root")):gn("root")),0<Ue.length&&yo(i,Tn()),yo(i,r),xe&&yo(i,o),yo(Ee,i),zo(e)}(function(){var e;Rn(),yo(Ee,r),window.location.hash&&(window.location.hash.startsWith("#commento-")?null!==(e=ho(X+window.location.hash.split("-")[1]))&&(ko(e,"highlighted-card"),e.scrollIntoView(!0)):window.location.hash.startsWith("#commento")&&Ee.scrollIntoView(!0)),Wn(),function(){for(var e=M.getElementsByClassName("commento-name"),o=0;o<e.length;o++)No(e[o],"style","max-width: "+(e[o].getBoundingClientRect().width+20)+"px;")}(),zo(n)})})})});function Zn(){if(!Qn)if(Qn=!0,Jn(),io.when("vocuser:userdata").then(function(e){e=e.responseGetUserInfo;e&&e.user&&e.user.UID&&0===e.errorCode?(go=e,_o(ho(f)),Oe=!0,Uo("validateUserLoggedInGigya(): user is logged in in Gigya- token not authenticated"),null!==(e=Wo(r))&&(Uo("validateUserLoggedInGigya(): There is a pending token to validate"),Go("voc_commenter_ten(function(){Fo(r)}))):(Uo("user not logged in, calling globalComments.logout()"),$o())}),io.trigger("vocento.vocuser:commento:ready"),"true"===Be)N.main(void 0);else if("false"!==Be&&"true"!==Be)throw new Error("[comments] error: invalid value for data-auto-init; allowed values: true, false")}try{!function(){try{windnction(e){io=e,Zn()})}catch(e){throw new Error("Vocento Comments requires Voonto. Check your implementation")}}()}catch(e){console.error(e.message)}}(window,document);