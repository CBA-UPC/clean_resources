!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};r n,o=r((),a=r((function(t){t.exports=t.exports.__esModule=!0,t.exports.default=t.exports})),i=(r((function(t){.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})),r(()),u=(r((),r(()),s=e(u),c=r((),l=(r((),r(()),f=r((),p=r((),d=(r((),r((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports}))),h=r((function(t){t.exports=function(t){if(Array.isArray(t))return d(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),v=r((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),y=r((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports})),m=r((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports})),g=e(r((function(t){t.exports=function(t){return h(t)||v(t)||y(t)||m()},t.exports.__esModule=!0,t.exports.default=t.exports}))),_=e(r(()),x=r((),b=r((),w=e(r(());ction O(t){t.forEach(M)}ion P(t){return document.createElement(t)}],H=[],U=[],W=[],B=Promise.resolve(),N=!1;ar V=!1,Z=new Set;r Q=new Set;rt=function(){eturn w(t,[{key:"$destroy",value:,{key:"$on",value:,{key:"$set",value:]),t}(),nt=r((),ot=r((),at=r((),it=r((),ut=r((),st=r((),ct=e(r(());var lt=e(r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new Set;return t.map(()}}))),ft=Array.isArray,pt="object"==s(t)&&t&&t.Object===Object&&t,dt="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,ht=pt||dt||Function("return this")(),vt=ht.Symbol,yt=Object.prototype,mt=yt.hasOwnProperty,gt=yt.toString,_t=vt?vt.toStringTag:void 0;var xt=bt=Object.prototype.toString;var wt=$t=vt?vt.toStringTag:void 0;var Mt=var St=var Ot=Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jt=/^\w*$/;var Tt=var At=var kt,Pt=Yt=ht["__core-js_shared__"],Et=(kt=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||""))?"Symbol(src)_1."+kt:"";var Lt=Ft=Function.prototype.toString;var Ct=zt=/^\[object .+?Constructor\]$/,It=Function.prototype,Rt=Object.prototype,Ht=It.toString,Ut=Rt.hasOwnProperty,Wt=RegExp("^"+Ht.call(Ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Bt=var Nt=var Gt=Vt=Gt(Object,"create");var Zt=var qt=Jt=Object.prototype.hasOwnProperty;var Qt=Xt=Object.prototype.hasOwnProperty;var Kt=var te=function ee(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ee.prototype.clear=Zt,ee.prototype.delete=qt,ee.prototype.get=Qt,ee.prototype.has=Kt,ee.prototype.set=te;var re=ee;var ne=var oe=var ae=ie=Array.prototype.splice;var ue=var se=var ce=var le=function fe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fe.prototype.clear=ne,fe.prototype.delete=ue,fe.prototype.get=se,fe.prototype.has=ce,fe.prototype.set=le;var pe=fe,de=Gt(ht,"Map");var he=var ve=var ye=var me=var ge=function(t){return ye(this,t).get(t)};var _e=var xe=e.prototype.clear=he,be.prototype.delete=me,be.prototype.get=ge,be.prototype.has=_e,be.prototype.set=xe;var we=be;e.Cache=we;var Me=$e;var Se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/\\(\\)?/g,De=();var je=Te=vt?vt.prototype:void 0,Ae=Te?Te.toString:void 0;var ke=var Pe=var Ye=var Ee=var Le=var Fe=Ce=r((),ze=r((),Ie=r((),Re=unction Ue(t){var e=t.type,r=t.chart,n=t.imagePrefix,o=t.downloadFormats,a=t.downloadFilenameTemplate,i=t.settings;if((0,t.postEvent)("download",{type:e}),!)){var u=n,s=(0,dw.utils.templateParser)(a||"{{ LOWER(title) }}"),c=i),l=lt(c.map(()),f={FORMAT:He};l.forEach(();var p=s(f).replace(/[^\w\d.]+/g,"-"),d=o[e].filename,h="".concat(u.replace(/\/$/,""),"/").concat(r.publicId,"/").concat(d,".").concat(e);fetch(h).then(().then(().catch(()}}function We(t){let e,r,n,o;return{c(){e=P("a"),r=Y(t[2]),F(e,"class","chart-action-image"),F(e,"href","#")},m(a,i){A(a,e,i),T(e,r),n||(o=E(e,"click",L(t[9])),n=!0)},p(t,[e]){4&e&&z(r,t[2])},i:$,o:$,d(t){t&&k(e),n=!1,o()}}}function Be(t,e,r){let{props:n}=e;const{get:o,__:a,imagePrefix:i,apiDomain:u,downloadFormats:s,downloadFilenameTemplate:c,settings:l}=n;let f,p,d,h;return t.$set=t=>{"props"in t&&r(8,n=t.props)},t.$$.update=()=>{256&t.$$.dirty&&r(0,({chart:f,themeData:p,postEvent:d}=n),f,(r(10,p),r(8,n)),(r(1,d),r(8,n))),1024&t.$$.dirty&&r(2,h=o(p,"options.blocks.download-image.data.caption",a("blocks / download-image")))},[f,d,h,i,u,s,c,l,n,()=>Ue({type:"png",chart:f,imagePrefix:i,apiDomain:u,downloadFormats:s,downloadFilenameTemplate:c,settings:l,postEvent:d})]}Ce.extend(ze),Ce.extend(Ie),Ce.extend(Re);class Ne extends rt{constructor(t){super(),et(this,t,Be,We,j,{props:8})}}function Ge(t){let e,r,n,o;return{c(){e=P("a"),r=Y(t[2]),F(e,"class","chart-action-pdf"),F(e,"href","#")},m(a,i){A(a,e,i),T(e,r),n||(o=E(e,"click",L(t[9])),n=!0)},p(t,[e]){4&e&&z(r,t[2])},i:$,o:$,d(t){t&&k(e),n=!1,o()}}}function Ve(t,e,r){let{props:n}=e;const{get:o,__:a,imagePrefix:i,apiDomain:u,downloadFormats:s,downloadFilenameTemplate:c,settings:l}=n;let f,p,d,h;return t.$set=t=>{"props"in t&&r(8,n=t.props)},t.$$.update=()=>{256&t.$$.dirty&&r(0,({chart:f,themeData:p,postEvent:d}=n),f,(r(10,p),r(8,n)),(r(1,d),r(8,n))),1024&t.$$.dirty&&r(2,h=o(p,"options.blocks.download-pdf.data.caption",a("blocks / download-pdf")))},[f,d,h,i,u,s,c,l,n,()=>Ue({type:"pdf",chart:f,imagePrefix:i,apiDomain:u,downloadFormats:s,downloadFilenameTemplate:c,settings:l,postEvent:d})]}class Ze extends rt{constructor(t){super(),et(this,t,Ve,Ge,j,{props:8})}} Xe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;for(var n=Array.isArray(e)?e:e.split("."),o=t,a=0;a<n.length&&null!=o;a++)o=o[n[a]];return null==o?r:o};Object.assign(Ne,{test:function(t){var e=t.chart,r=t.isStyleStatic;return!!Xe(e,"metadata.publish.blocks.download-image")&&!r}}),Object.assign(Ze,{test:function(t){var e=t.chart,r=t.isStyleStatic;return!!Xe(e,"metadata.publish.blocks.download-pdf")&&!r}}),Object.assign(Qe,{test:),dw.block.register("DownloadImage",Ne),dw.block.register("DownloadPDF",Ze),dw.block.register("DownloadSVG",Qe)}();
