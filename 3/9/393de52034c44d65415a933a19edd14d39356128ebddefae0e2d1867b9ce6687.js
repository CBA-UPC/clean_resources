((function(n){var t=function(){function t(){var t=this,y=function(){var i=["br-wrapper"];t.options.theme!==""&&i.push("br-theme-"+t.options.theme);t.$elem.wrap(n("<div />",{"class":i.join(" ")}))},p=s=w=b=i=function(n){var i=t.$elem.data("barrating");return typeof n!="undefined"?i[n]:i},r=function(n,i){i!==null&&typeof i=="object"?t.$elem.data("barrating",i):t.$elem.data("barrating")[n]=i},k=function(){var i=w(),n=b(),u=i.val(),f=i.data("html")?i.data("html"):i.text(),e=t.options.allowEmpty!==null?t.options.allowEmpty:!!n.length,o=n.length?n.val():null,s=n.length?n.text():null;r(null,{userOptions:t.options,ratingValue:u,ratingText:f,originalRatingValue:u,originalRatingText:f,allowEmpty:e,emptyRatingValue:o,emptyRatingText:s,readOnly:t.options.readonly,ratingMade:!1})},d=f=function(){return i("ratingText")},u=g=function(){var r=n("<div />",{"class":"br-widget"});return t.$elem.find("option").each(function(){var f,u,e,o;f=n(this).val();f!==i("emptyRatingValue")&&(u=n(this).text(),e=n(this).data("html"),e&&(u=e),o=n("<a />",{href:"#","data-rating-value":f,"data-rating-text":u,html:t.options.showValues?u:""}),r.append(o))}),t.options.showSelectedRating&&r.append(n("<div />",{text:"","class":"br-current-rating"})),t.options.reverse&&r.addClass("br-reverse"),t.options.readonly&&r.addClass("br-readonly"),r},h=c=function(n){s(n).prop("selected",!0);i("userOptions").triggerChange&&t.$elem.change()},nt=function(){n("option",t.$elem).prop("selected",;i("userOptions").triggerChange&&t.$elem.change()},e=function(n){n=n?n:f();n==i("emptyRatingText")&&(n="");t.options.showSelectedRating&&t.$elem.parent().find(".br-current-rating").text(n)},tt=function(n){return Math.round(Math.floor(n*10)/10%1*100)},l=o=function(){var r=t.$widget.find('a[data-rating-value="'+u()+'"]'),f=i("userOptions").initialRating,c=n.isNumeric(u())?u():0,o=tt(f),s,e;if(l(),r.addClass("br-selected br-current")[h()]().addClass("br-selected"),!i("ratingMade")&&n.isNumeric(f)){if(f<=c||!o)return;s=t.$widget.find("a");e=r.length?r[i("userOptions").reverse?"prev":"next"]():s[i("userOptions").reverse?"last":"first"]();e.addClass("br-fractional");e.addClass("br-fractional-"+o)}},it=function(n){return!i("allowEmpty")||!i("userOptions").deselectable?!1:u()==n.attr("data-rating-value")},rt=function(s){s.on("click.barrating",function(s){var a=n(this),v=i("userOptions"),h,l;return s.preventDefault(),h=a.attr("data-rating-value"),l=a.attr("data-rating-text"),it(a)&&(h=i("emptyRatingValue"),l=i("emptyRatingText")),r("ratingValue",h),r("ratingText",l),r("ratingMade",!0),c(h),e(l),o(),v.onSelect.call(t,u(),f(),s),!1})},ut=function(t){t.on("mouseenter.barrating",function(){var t=n(this);l();t.addClass("br-active")[h()]().addClass("br-active");e(t.attr("data-rating-text"))})},ft=function(){t.$widget.on("mouseleave.barrating blur.barrating",},et=function(t){t.on("touchstart.barrating",},ot=st=function(n){rt(n);t.options.hoverState&&(ut(n),ft(n))},a=v=function(n){var r=t.$widget.find("a");i("userOptions").fastClicks&&et(r);n?(a(r),ot(r)):st(r)};this.show=this.readonly=function(n){typeof n=="boolean"&&i("readOnly")!=n&&(v(n),r("readOnly",n),t.$widget.toggleClass("br-readonly"))};this.set=function(n){var s=i("userOptions");t.$elem.find('option[value="'+n+'"]').length!==0&&(r("ratingValue",n),r("ratingText",t.$elem.find('option[value="'+n+'"]').text()),r("ratingMade",!0),c(u()),e(f()),o(),s.silent||s.onSelect.call(this,u(),f()))};this.clear=function(){var n=i("userOptions");r("ratingValue",i("originalRatingValue"));r("ratingText",i("originalRatingText"));r("ratingMade",!1);nt();e(f());o();n.onClear.call(this,u(),f())};this.destroy=function(){var n=u(),r=f(),e=i("userOptions");a(t.$widget.find("a"));t.$widget.remove();d();p();t.$elem.show();e.onDestroy.call(this,n,r)}}return t.prototype.init=t}();n.fn.barrating=function(i,r){return this.each(function(){var u=new t;if(n(this).is("select")||n.error("Sorry, this plugin only works with select fields."),u.hasOwnProperty(i)){if(u.init(r,this),i==="show")return u.show(r);if(u.$elem.data("barrating"))return u.$widget=n(this).next(".br-widget"),u[i](r)}else if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.barrating");else return r=i,u.init(r,this),u.show()})};n.fn.barrating.defaults={theme:"",initialRating:null,allowEmpty:null,emptyValue:"",showValues:!1,showSelectedRating:!0,deselectable:!0,reverse:!1,readonly:!1,fastClicks:!0,hoverState:!0,silent:!1,triggerChange:!0,onSelect:function(){},onClear:function(){},onDestroy:function(){}};n.fn.barrating.BarRating=t}),function($){function Timepicker(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1};this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"};$.extend(this._defaults,this.regional[""])}if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.1.1"}});$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i,attrName,attrValue,timezoneList;for(attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)&&(attrValue=$input.attr("time:"+attrName),attrValue))try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}overrides={beforeShow:onChangeMonthYear:function(n,t,i){tp_inst._updateDateTime(i);$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],n,t,i,tp_inst)},onClose:function(n,t){tp_inst.timeDefined===!0&&$input.val()!==""&&tp_inst._updateDateTime(t);$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],n,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=o[i]||null);return tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(n){return n.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,,typeof tp_inst._defaults.controlType=="string"?($.fn[tp_inst._defaults.controlType]===undefined&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType,tp_inst._defaults.timezoneList===null&&(timezoneList=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"],tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,),tp_inst._defaults.timezoneList=timezoneList),tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(),(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0)&&(tp_inst._defaults.minDate=new Date),(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0)&&(tp_inst._defaults.maxDate=new Date),tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:_parseTime:function(n,t){var i,r,u;if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){i=$.datepicker._get(this.inst,"dateFormat");try{if(r=parseDateTimeInternal(i,this._defaults.timeFormat,n,$.datepicker._getFormatConfig(this.inst),this._defaults),!r.timeObj)return!1;$.extend(this,r.timeObj)}catch(f){return $.datepicker.log("Error parsing the date/time string: "+f+"\ndate/time string = "+n+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}return(u=$.datepicker.parseTime(this._defaults.timeFormat,n,this._defaults),!u)?!1:($.extend(this,u),!0)},_injectTimePicker:function(){var l=this.inst.dpDiv,t=this.inst.settings,i=this,n="",f="",h={},o={},a=null,s,u,y,k,c,r,e,v,d,g,w,nt,b,p;if(l.find("div.ui-timepicker-div").length===0&&t.showTimepicker){for(s=' style="display:none;"',u='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(t.showTime?"":s)+">"+t.timeText+'<\/dt><dd class="ui_tpicker_time"'+(t.showTime?"":s)+"><\/dd>",e=0,v=this.units.length;e<v;e++){if(n=this.units[e],f=n.substr(0,1).toUpperCase()+n.substr(1),h[n]=parseInt(t[n+"Max"]-(t[n+"Max"]-t[n+"Min"])%t["step"+f],10),o[n]=0,u+='<dt class="ui_tpicker_'+n+'_label"'+(t["show"+f]?"":s)+">"+t[n+"Text"]+'<\/dt><dd class="ui_tpicker_'+n+'"><div class="ui_tpicker_'+n+'_slider"'+(t["show"+f]?"":s)+"><\/div>",t["show"+f]&&t[n+"Grid"]>0){if(u+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',n=="hour")for(y=t[n+"Min"];y<=h[n];y+=parseInt(t[n+"Grid"],10))o[n]++,k=$.datepicker.formatTime(useAmpm(t.pickerTimeFormat||t.timeFormat)?"hht":"HH",{hour:y},t),u+='<td data-for="'+n+'">'+k+"<\/td>";else for(c=t[n+"Min"];c<=h[n];c+=parseInt(t[n+"Grid"],10))o[n]++,u+='<td data-for="'+n+'">'+(c<10?"0":"")+c+"<\/td>";u+="<\/tr><\/table><\/div>"}u+="<\/dd>"}for(u+='<dt class="ui_tpicker_timezone_label"'+(t.showTimezone?"":s)+">"+t.timezoneText+"<\/dt>",u+='<dd class="ui_tpicker_timezone" '+(t.showTimezone?"":s)+"><\/dd>",u+="<\/dl><\/div>",r=$(u),t.timeOnly===!0&&(r.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"<\/div><\/div>"),l.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),e=0,v=i.units.length;e<v;e++)n=i.units[e],f=n.substr(0,1).toUpperCase()+n.substr(1),i[n+"_slider"]=i.control.create(i,r.find(".ui_tpicker_"+n+"_slider"),n,i[n],t[n+"Min"],h[n],t["step"+f]),t["show"+f]&&t[n+"Grid"]>0&&(a=100*o[n]*t[n+"Grid"]/(h[n]-t[n+"Min"]),r.find(".ui_tpicker_"+n+" table").css({width:a+"%",marginLeft:t.isRTL?"0":a/(-2*o[n])+"%",marginRight:t.isRTL?a/(-2*o[n])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var r=$(this),u=r.html(),t=parseInt(u.replace(/[^0-9]/g),10),f=u.replace(/[^apm]/ig),e=r.data("for");e=="hour"&&(f.indexOf("p")!==-1&&t<12?t+=12:f.indexOf("a")!==-1&&t===12&&(t=0));i.control.value(i,i[e+"_slider"],n,t);i._onTimeChange();i._onSelectHandler()}).css({cursor:"pointer",width:100/o[n]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=r.find(".ui_tpicker_timezone").append("<select><\/select>").find("select");$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,);typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""?(d=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),g=$.timepicker.timeZoneOffsetString(d),g==this.timezone?selectLocalTimeZone(i):this.timezone_select.val(this.timezone)):typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(t.defaultTimezone):selectLocalTimeZone(i);this.timezone_select.change(;w=l.find(".ui-datepicker-buttonpane");w.length?w.before(r):l.append(r);this.$timeObj=r.find(".ui_tpicker_time");this.inst!==null&&(nt=this.timeDefined,this._onTimeChange(),this.timeDefined=nt);this._defaults.addSliderAccess&&(b=this._defaults.sliderAccessArgs,p=this._defaults.isRTL,b.isRTL=p,setTimeout(function(){if(r.find(".ui-slider-access").length===0){r.find(".ui-slider:visible").sliderAccess(b);var n=r.find(".ui-slider-access:eq(0)").outerWidth(!0);n&&r.find("table:visible").each(}},10))}},_limitMinMaxDateTime:function(n,t){var i=this._defaults,f=new Date(n.selectedYear,n.selectedMonth,n.selectedDay),r,e,u,o;if(this._defaults.showTimepicker&&($.datepicker._get(n,"minDateTime")!==null&&$.datepicker._get(n,"minDateTime")!==undefined&&f&&(r=$.datepicker._get(n,"minDateTime"),e=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0),(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin),n.settings.timeOnly||e.getTime()==f.getTime()?(this._defaults.hourMin=r.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=r.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=r.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=r.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)),$.datepicker._get(n,"maxDateTime")!==null&&$.datepicker._get(n,"maxDateTime")!==undefined&&f&&(u=$.datepicker._get(n,"maxDateTime"),o=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0),(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax),n.settings.timeOnly||o.getTime()==f.getTime()?(this._defaults.hourMax=u.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=u.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=u.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=u.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)),t!==undefined&&t===!0)){var s=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),h=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),c=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),l=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:s}),this.control.value(this,this.hour_slider,"hour",this.hour));this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:h}),this.control.value(this,this.minute_slider,"minute",this.minute));this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:c}),this.control.value(this,this.second_slider,"second",this.second));this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:l}),this.control.value(this,this.millisec_slider,"millisec",this.millisec))}},_onTimeChange:function(){var n=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,i=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,r=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,u=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,f=this.timezone_select?this.timezone_select.val():!1,t=this._defaults,o=t.pickerTimeFormat||t.timeFormat,s=t.pickerTimeSuffix||t.timeSuffix,h,e;typeof n=="object"&&(n=!1);typeof i=="object"&&(i=!1);typeof r=="object"&&(r=!1);typeof u=="object"&&(u=!1);typeof f=="object"&&(f=!1);n!==!1&&(n=parseInt(n,10));i!==!1&&(i=parseInt(i,10));r!==!1&&(r=parseInt(r,10));u!==!1&&(u=parseInt(u,10));h=t[n<12?"amNames":"pmNames"][0];e=n!=this.hour||i!=this.minute||r!=this.second||u!=this.millisec||this.ampm.length>0&&n<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone===null&&f!=this.defaultTimezone||this.timezone!==null&&f!=this.timezone;e&&(n!==!1&&(this.hour=n),i!==!1&&(this.minute=i),r!==!1&&(this.second=r),u!==!1&&(this.millisec=u),f!==!1&&(this.timezone=f),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0));useAmpm(t.timeFormat)&&(this.ampm=h);this.formattedTime=$.datepicker.formatTime(t.timeFormat,this,t);this.$timeObj&&(o===t.timeFormat?this.$timeObj.text(this.formattedTime+s):this.$timeObj.text($.datepicker.formatTime(o,this,t)+s));this.timeDefined=!0;e&&this._updateDateTime()},_onSelectHandler:_updateDateTime:function(n){var t;n=this.inst||n;var i=$.datepicker._daylightSavingAdjust(new Date(n.selectedYear,n.selectedMonth,n.selectedDay)),e=$.datepicker._get(n,"dateFormat"),u=$.datepicker._getFormatConfig(n),o=i!==null&&this.timeDefined;if(this.formattedDate=$.datepicker.formatDate(e,i===null?new Date:i,u),t=this.formattedDate,this._defaults.timeOnly===!0?t=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||o)&&(t+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=t,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(t);var r="",s=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,f=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;r=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,i===null?new Date:i,u):this.formattedDate;r&&(r+=s);r+=this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+f:this.formattedTime+f;this.$altInput.val(r)}else this.$input.val(t);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:_controls:{slider:{create:function(n,t,i,r,u,f,e){var o=n._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:o?r*-1:r,min:o?f*-1:u,max:o?u*-1:f,step:e,slide:stop:function(){n._onSelectHandler()}})},options:function(n,t,i,r,u){if(n._defaults.isRTL){if(typeof r=="string")return r=="min"||r=="max"?u!==undefined?t.slider(r,u*-1):Math.abs(t.slider(r)):t.slider(r);var f=r.min,e=r.max;return r.min=r.max=null,f!==undefined&&(r.max=f*-1),e!==undefined&&(r.min=e*-1),t.slider(r)}return typeof r=="string"&&u!==undefined?t.slider(r,u):t.slider(r)},value:function(n,t,i,r){return n._defaults.isRTL?r!==undefined?t.slider("value",r*-1):Math.abs(t.slider("value")):r!==undefined?t.slider("value",r):t.slider("value")}},select:{create:function(n,t,i,r,u,f,e){for(var s='<select class="ui-timepicker-select" data-unit="'+i+'" data-min="'+u+'" data-max="'+f+'" data-step="'+e+'">',h=n._defaults.timeFormat.indexOf("t")!==-1?"toLowerCase":"toUpperCase",o=u;o<=f;o+=e)s+='<option value="'+o+'"'+(o==r?" selected":"")+">",s+=i=="hour"&&useAmpm(n._defaults.pickerTimeFormat||n._defaults.timeFormat)?$.datepicker.formatTime("hh TT",{hour:o},n._defaults):i=="millisec"||o>=10?o:"0"+o.toString(),s+="<\/option>";return s+="<\/select>",t.children("select").remove(),$(s).appendTo(t).change(,t},options:value:function(n,t,i,r){var u=t.children("select");return r!==undefined?u.val(r):u.val()}}}});$.fn.extend({timepicker:function(n){n=n||{};var t=Array.prototype.slice.call(arguments);return typeof n=="object"&&(t[0]=$.extend(n,{timeOnly:!0})),$(this).each(},datetimepicker:function(n){n=n||{};var t=arguments;return typeof n=="string"?n=="getDate"?$.fn.datepicker.apply($(this[0]),t):this.each(:this.each(}});$.datepicker.parseDateTime=function(n,t,i,r,u){var e=parseDateTimeInternal(n,t,i,r,u),f;return e.timeObj&&(f=e.timeObj,e.date.setHours(f.hour,f.minute,f.second,f.millisec)),e.date};$.datepicker.parseTime=function(n,t,i){var r=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),u=function(n,t,i){var s=h=function(n){var i=n.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),r={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1},t;if(i)for(t=0;t<i.length;t++)r[i[t].toString().charAt(0)]==-1&&(r[i[t].toString().charAt(0)]=t+1);return r},c="^"+n.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(n){switch(n.charAt(0).toLowerCase()){case"h":return"(\\d?\\d)";case"m":return"(\\d?\\d)";case"s":return"(\\d?\\d)";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return s(i.amNames,i.pmNames);default:return"("+n.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",r=h(n),o="",u,e,f;if(u=t.match(new RegExp(c,"i")),e={hour:0,minute:0,second:0,millisec:0},u){if(r.t!==-1&&(u[r.t]===undefined||u[r.t].length===0?(o="",e.ampm=""):(o=$.inArray(u[r.t].toUpperCase(),i.amNames)!==-1?"AM":"PM",e.ampm=i[o=="AM"?"amNames":"pmNames"][0])),r.h!==-1&&(e.hour=o=="AM"&&u[r.h]=="12"?0:o=="PM"&&u[r.h]!="12"?parseInt(u[r.h],10)+12:Number(u[r.h])),r.m!==-1&&(e.minute=Number(u[r.m])),r.s!==-1&&(e.second=Number(u[r.s])),r.l!==-1&&(e.millisec=Number(u[r.l])),r.z!==-1&&u[r.z]!==undefined){f=u[r.z].toUpperCase();switch(f.length){case 1:f=i.timezoneIso8601?"Z":"+0000";break;case 5:i.timezoneIso8601&&(f=f.substring(1)=="0000"?"Z":f.substring(0,3)+":"+f.substring(3));break;case 6:i.timezoneIso8601?f.substring(1)=="00:00"&&(f="Z"):f=f=="Z"||f.substring(1)=="00:00"?"+0000":f.replace(/:/,"")}e.timezone=f}return e}return!1},f=function(n,t,i){try{var r=new Date("2012-01-01 "+t);return{hour:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),millisec:r.getMilliseconds(),timezone:$.timepicker.timeZoneOffsetString(r)}}catch(f){try{return u(n,t,i)}catch(r){$.datepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+n)}}return!1};return typeof r.parse=="function"?r.parse(n,t,r):r.parse==="loose"?f(n,t,r):u(n,t,r)};$.datepicker.formatTime=function(n,t,i){i=i||{};i=$.extend({},$.timepicker._defaults,i);t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var f=n,r=i.amNames[0],u=parseInt(t.hour,10);return u>11&&(r=i.pmNames[0]),f=f.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,,$.trim(f)};$.datepicker._base_selectDate=$.datepicker._selectDate;$.datepicker._selectDate=$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(n){var r=n.input[0],t,i;$.datepicker._curInst&&$.datepicker._curInst!=n&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=r||(typeof n.stay_open!="boolean"||n.stay_open===!1)&&(this._base_updateDatepicker(n),t=this._get(n,"timepicker"),t&&(t._addTimePicker(n),t._defaults.useLocalTimezone&&(i=new Date(n.selectedYear,n.selectedMonth,n.selectedDay,12),selectLocalTimeZone(t,i),t._onTimeChange())))};$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;$.datepicker._doKeyPress=function(n){var r=$.datepicker._getInst(n.target),t=$.datepicker._get(r,"timepicker");if(t&&$.datepicker._get(r,"constrainInput")){var i=useAmpm(t._defaults.timeFormat),u=$.datepicker._possibleChars($.datepicker._get(r,"dateFormat")),e=t._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,i?"APM":"").replace(/Tt/g,i?"AaPpMm":"").replace(/tT/g,i?"AaPpMm":"").replace(/T/g,i?"AP":"").replace(/tt/g,i?"apm":"").replace(/t/g,i?"ap":"")+" "+t._defaults.separator+t._defaults.timeSuffix+(t._defaults.showTimezone?t._defaults.timezoneList.join(""):"")+t._defaults.amNames.join("")+t._defaults.pmNames.join("")+u,f=String.fromCharCode(n.charCode===undefined?n.keyCode:n.charCode);return n.ctrlKey||f<" "||!u||e.indexOf(f)>-1}return $.datepicker._base_doKeyPress(n)};$.datepicker._base_updateAlternate=$.datepicker._updateAlternate;$.datepicker._updateAlternate=function(n){var t=this._get(n,"timepicker"),r;if(t){if(r=t._defaults.altField,r){var h=t._defaults.altFormat||t._defaults.dateFormat,u=this._getDate(n),e=$.datepicker._getFormatConfig(n),i="",f=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,o=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,s=t._defaults.altTimeFormat!==null?t._defaults.altTimeFormat:t._defaults.timeFormat;i+=$.datepicker.formatTime(s,t,t._defaults)+o;t._defaults.timeOnly||t._defaults.altFieldTimeOnly||(i=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,u===null?new Date:u,e)+f+i:t.formattedDate+f+i);$(r).val(i)}}else $.datepicker._base_updateAlternate(n)};$.datepicker._base_doKeyUp=$.datepicker._doKeyUp;$.datepicker._doKeyUp=$.datepicker._base_gotoToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(n){var t=this._getInst($(n)[0]),u=t.dpDiv,i,r;this._base_gotoToday(n);i=this._get(t,"timepicker");selectLocalTimeZone(i);r=new Date;this._setTime(t,r);$(".ui-datepicker-today",u).click()};$.datepicker._disableTimepickerDatepicker=function(n){var i=this._getInst(n),t;i&&(t=this._get(i,"timepicker"),$(n).datepicker("getDate"),t&&(t._defaults.showTimepicker=!1,t._updateDateTime(i)))};$.datepicker._enableTimepickerDatepicker=function(n){var i=this._getInst(n),t;i&&(t=this._get(i,"timepicker"),$(n).datepicker("getDate"),t&&(t._defaults.showTimepicker=!0,t._addTimePicker(i),t._updateDateTime(i)))};$.datepicker._setTime=function(n,t){var i=this._get(n,"timepicker"),r;i&&(r=i._defaults,i.hour=t?t.getHours():r.hour,i.minute=t?t.getMinutes():r.minute,i.second=t?t.getSeconds():r.second,i.millisec=t?t.getMilliseconds():r.millisec,i._limitMinMaxDateTime(n,!0),i._onTimeChange(),i._updateDateTime(n))};$.datepicker._setTimeDatepicker=function(n,t,i){var f=this._getInst(n),r,u;f&&(r=this._get(f,"timepicker"),r&&(this._setDateFromField(f),t&&(typeof t=="string"?(r._parseTime(t,i),u=new Date,u.setHours(r.hour,r.minute,r.second,r.millisec)):u=new Date(t.getTime()),u.toString()=="Invalid Date"&&(u=undefined),this._setTime(f,u))))};$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker;$.datepicker._setDateDatepicker=function(n,t){var i=this._getInst(n),r;i&&(r=t instanceof Date?new Date(t.getTime()):t,this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(n,r,!0))};$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker;$.datepicker._getDateDatepicker=function(n,t){var r=this._getInst(n),i,u;if(r)return(i=this._get(r,"timepicker"),i)?(r.lastVal===undefined&&this._setDateFromField(r,t),u=this._getDate(r),u&&i._parseTime($(n).val(),i.timeOnly)&&u.setHours(i.hour,i.minute,i.second,i.millisec),u):this._base_getDateDatepicker(n,t)};$.datepicker._base_parseDate=$.datepicker.parseDate;$.datepicker.parseDate=function(n,t,i){var r;try{r=this._base_parseDate(n,t,i)}catch(u){r=this._base_parseDate(n,t.substring(0,t.length-(u.length-u.indexOf(":")-2)),i);$.datepicker.log("Error parsing the date string: "+u+"\ndate string = "+t+"\ndate format = "+n)}return r};$.datepicker._base_formatDate=$.datepicker._formatDate;$.datepicker._formatDate=$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker;$.datepicker._optionDatepicker=function(n,t,i){var l=this._getInst(n),o,e;if(!l)return null;if(e=this._get(l,"timepicker"),e){var u=null,f=null,c=null,s=e._defaults.evnts,h={},r;if(typeof t=="string"){if(t==="minDate"||t==="minDateTime")u=i;else if(t==="maxDate"||t==="maxDateTime")f=i;else if(t==="onSelect")c=i;else if(s.hasOwnProperty(t)){if(typeof i=="undefined")return s[t];h[t]=i;o={}}}else if(typeof t=="object"){t.minDate?u=t.minDate:t.minDateTime?u=t.minDateTime:t.maxDate?f=t.maxDate:t.maxDateTime&&(f=t.maxDateTime);for(r in s)s.hasOwnProperty(r)&&t[r]&&(h[r]=t[r])}for(r in h)h.hasOwnProperty(r)&&(s[r]=h[r],o||(o=$.extend({},t)),delete o[r]);if(o&&isEmptyObject(o))return;u?(u=u===0?new Date:new Date(u),e._defaults.minDate=u,e._defaults.minDateTime=u):f?(f=f===0?new Date:new Date(f),e._defaults.maxDate=f,e._defaults.maxDateTime=f):c&&(e._defaults.onSelect=c)}return i===undefined?this._base_optionDatepicker.call($.datepicker,n,t):this._base_optionDatepicker.call($.datepicker,n,o||t,i)};var isEmptyObject=extendRemove=function(n,t){$.extend(n,t);for(var i in t)(t[i]===null||t[i]===undefined)&&(n[i]=t[i]);return n},useAmpm=function(n){return n.indexOf("t")!==-1&&n.indexOf("h")!==-1},convert24to12=function(n){return n>12&&(n=n-12),n==0&&(n=12),String(n)},splitDateTime=function(n,t,i,r){var e,a;try{var f=r&&r.separator?r.separator:$.timepicker._defaults.separator,c=r&&r.timeFormat?r.timeFormat:$.timepicker._defaults.timeFormat,l=c.split(f),s=l.length,o=t.split(f),h=o.length;if(h>1)return[o.splice(0,h-s).join(f),o.splice(0,s).join(f)]}catch(u){if($.datepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+u+"\ndateTimeString"+t+"\ndateFormat = "+n+"\nseparator = "+r.separator+"\ntimeFormat = "+r.timeFormat),u.indexOf(":")>=0)return e=t.length-(u.length-u.indexOf(":")-2),a=t.substring(e),[$.trim(t.substring(0,e)),$.trim(t.substring(e))];throw u;}return[t,""]},parseDateTimeInternal=function(n,t,i,r,u){var f,e=splitDateTime(n,i,r,u),s,o;if(f=$.datepicker._base_parseDate(n,e[0],r),e[1]!==""){if(s=e[1],o=$.datepicker.parseTime(t,s,u),o===null)throw"Wrong time format";return{date:f,timeObj:o}}return{date:f}},selectLocalTimeZone=function(n,t){if(n&&n.timezone_select){n._defaults.useLocalTimezone=!0;var r=typeof t!="undefined"?t:new Date,i=$.timepicker.timeZoneOffsetString(r);n._defaults.timezoneIso8601&&(i=i.substring(0,3)+":"+i.substring(3));n.timezone_select.val(i)}};$.timepicker=new Timepicker;$.timepicker.timeZoneOffsetString=$.timepicker.timeRange=$.timepicker.dateTimeRange=$.timepicker.dateRange=$.timepicker.handleRange=function(n,t,i,r){turn $.fn[n].call(t,$.extend({onClose:function(n){f(this,i,n)},onSelect:function(){u(this,i,"minDate")}},r,r.start)),$.fn[n].call(i,$.extend({onClose:onSelect:,r,r.end)),n!="timepicker"&&r.reformat&&$([t,i]).each(,f(t,i,t.val()),u(t,i,"minDate"),u(i,t,"maxDate"),$([t.get(0),i.get(0)])};$.timepicker.version="1.1.1"}}(jQuery);jQuery(function(n){n.datepicker.regional.French={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthNamesShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}}),function(n){n.Jcrop=functi]]}function ti(t){typeof t!="object"&&(t={});r=n.extend(r,t);n.each(["onChange","onSelect","onRelease","onDbln(){})})}function ii(n,t){if(nt=vt(e),p.setCursor(n==="move"?n:n+"-resize"),n==="move")return p.activateHandlers(ki(t),bt);var r=s.getFixed(),i=ri(n),u=s.getCorner(ri(i));s.setPressed(s.getCorner(i));s.setCurrent(u);p.activateHandlers(bi(n,r),bt)}function bi(n,t){return function(i){if(r.aspectRatio)switch(n){case"e":i[1]=t.y+1;break;case"w":i[1]=t.y+1;break;case"n":i[0]=t.x+1;break;case"s":i[0]=t.x+1}else switch(n){case"e":i[1]=t.y2;break;case"w":i[1]=t.y2;break;case"n":i[0]=t.x2;break;case"s":i[0]=t.x2}s.setCurrent(i);u.update()}}function ki(n){var t=n;return dt.watc,!1)}}function fi(n,t,i){var r=n.width(),u=n.height();r>t&&t>0&&(r=t,u=t/n.width()*n.height());u>i&&i>0&&(u=i,r=i/n.height()*n.width());l=n.width()/r;a=n.height()/u;n.width(r).height(u)}function ot(n){return{x:parseInt(n.x*l,10),y:parseInt(n.y*a,10),x2:parseInt(n.x2*l,10),y2:parseInt(n.y2*a,10),w:parseInt(n.w*l,10),h:parseInt(n.h*a,10)}}function bt(){var n=s.getFixed();n.w>r.minSelect[0]&&n.h>r.minSelect[1]?(u.enableHandles(),u.done()):u.release();p.setCursor(r.allowSelect?"crosshair":"default")}function ei(n){if(r.disabled||!r.allowSelect)return!1;ut=!0;nt=vt(e);u.disableHandles();p.setCursor("crosshair");var t=et(n);return s.setPressed(t),u.update(),p.activateHandlers(di,bt),dt.watchKeys(),n.stopPropagation(),n.preventDefaus(n)}function t(b,g)}var k=parseInt(n[0],10)/l,d=parseInt(n[1],10)/a,c=parseInt(n[2],10)/l,p=parseInt(n[3],10)/a,b;if(!ci){var o=s.flipCoords(k,d,c,p),h=s.getFixed(),e=[h.x,h.y,h.x2,h.y2],i=e,g=r.animationDelay,nt=o[0]-e[0],tt=o[1]-e[1],it=o[2]-e[2],rt=o[3]-e[3],f=0,ut=r.swingSpeed;x=i[0];y=i[1];c=i[2];p=i[3];u.animMode(!0);b=function(){return function(){f+=(100-f)/ut;i[0]=x+f/100*nt;i[1]=y+f/100*tt;i[2]=c+f/100*it;i[3]=p+f/100*rt;f>=99.8&&(f=100);f<100?(vi(i),w()):(u.done(),typeof t=="function"&&t.call(v))}}();w()}}function ai(n){vi([parseInt(n[0],10)/l,parseInt(n[1],10)/a,parseInt(n[2],10)/l,parseInt(n[3],10)/a]);r.onSelect.call(v,ot(s.getFixed()));u.enableHadate()}function tr(){return ot(s.getFixed())}function ir(){return s.get);ni()}function yi(){r.disabled=!0;u.disableHandles();u.setCursor("default");p.setCursor("deop")}function er(n,t){u.release();yi();var i=new Image;i.onload=function(){var u=i.width,s=i.height,h=r.boxWidth,c=r.boxHeight;e.width(u).height(s);e.attr("src",n);b.attr("src",n);fi(e,h,c);o=e.width();f=e.height();b.width(o).height(f);k.width(o+rt*2).height(f+rt*2);w.width(o).height(f);g.resize(o,f);pi();typeof t=="function"&&t.call(v)};or",u)}function ni(n){r.allowResize?n?u.enableOnly():u.enableHandles():u.disableHandles();p.setCursor(r.allowSelect?"crosshair":"default");u.setCursor(r.allowMove?"move":"default");r.hasOwnProperty("trueSize")&&(l=r.trueSize[0]/o,a=r.trueSize[1]/f);r.hasOwnProperty("setSelect")&&(ai(r.setSelect),u.done(),delete r.setSelect);g.refresh();r.bgColor!=hi&&(gt(r.shade?g.getShades():w,r.shade?r.shadeColor||r.bgColor:r.bgColor),hi=r.bgColor);st!=r.bgOpacity&&(st=r.bgOpacity,r.shade?g.refresh():u.setBgOpacity(st));ht=r.maxSize[0]||0;ct=r.maxSize[1]||0;lt=r.minSize[0]||0;at=r.minSize[1]||0;r.hasOwnProperty("outerImage")&&(e.attr("src",r.outerImage),delete r.outerImage);u.refresh()}var r=n.extend({},n.Jcrop.defaults),nt,wt=!1,yt,e,v;n.browser.msie&&n.browser.version.split(".")[0]==="6"&&(wt=!0);typeof t!="object"&&(t=n(t)[0]);typeof i!="object"&&(i={});ti(i);var kt={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},c=n(t),si=!0;t.tagName=="IMG"?(c[0].width!=0&&c[0].height!=0?(c.width(c[0].width),c.height(c[0].height)):(yt=new Image,yt.src=c[0].src,c.width(yt.width),c.height(yt.height)),e=c.clone().removeAttr("id").css(kt).show(),e.width(c.width()),e.height(c.height()),c.after(e).hide()):(e=c.css(kt).show(),si=!1,r.shade===null&&(r.shade=!0));fi(e,r.boxWidth,r.boxHeight);var o=e.width(),f=e.height(),w=n("<div />").width(o).height(f).addClass(ft("holder")).css({position:"relative",backgroundColor:r.bgColor}).insertAfter(c).append(e);r.addClass&&w.addClass(r.addClass);var b=n("<div />"),pt=n("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),tt=n("<div />").width("100%").height("100%").css("zIndex",320).css("position","static"),it=n("<div />").css({position:"absolute",zIndex:600}).dl(v,n)}).insertBefore(e).append(pt,tt);si&&(b=n("<img />").attr("src",e.attr("src")).css(kt).width(o).height(f),pt.append(b));wt&&it.css({overflowY:"hidden"});var rt=r.boundary,k=oi().width(o+rt*2).height(f+rt*2).css({position:"absolute",top:h(-rt),left:h(-rt),zIndex:290}).mousedown(ei),hi=r.bgColor,st=r.bgOpacity,ht,ct,lt,at,l,a,ut,ci,li;nt=vt(e);var d=function(){function n(){var i={},u=["touchstart","touchmove","touchend"],f=document.createElement("div"),t,n,r;try{for(t=0;t<u.length;t++)n=u[t],n="on"+n,r=n in f,r||(f.setAttribute(n,"return;"),r=typeof f[n]=="function"),i[u[t]]=r;return i.touchstart&&i.touchend&&i.touchmove}catch(e){rert:n()}return{createDragger:function(n){return function(t){return(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,r.disabled)?!1:n==="move"&&!r.allowMove?!1:(ut=!0,ii(n,et(t)),t.stopPropagation(),t.preventDefault(),!1)}},newSe,ei(n)},isSupported:n,support:t()}}(),s=funs,h]}function k(r){var e=r[0],s=r[1];0>n+e&&(e-=e+n);0>t+s&&(s-=s+t);f<i+s&&(s+=f-(i+s));o<u+e&&(e+=o-(u+e));n+=e;u+=e;t+t.y2]}}function c(){if(!r.aspectRatio)return g();var c=r.aspectRatio,b=r.minSize[0]/l,w=r.maxSize[0]/l,nt=r.maxSize[1]/a,k=u-n,d=i-t,tt=Math.abs(k),it=Math.abs(d),rt=tt/it,s,h,v,p;return w===0&&(w=o*10),nt===0&&(nt=f*10),rt<c?(h=i,v=it*c,s=k<0?n-v:v+n,s<0?(s=0,p=Math.abs((s-n)/c),h=d<0?t-p:p+t):s>o&&(s=o,p=Math.abs((s-n)/c),h=d<0?t-p:p+t)):(s=u,p=tt/c,h=d<0?t-p:t+p,h<0?(h=0,v=Math.abs((h-t)*c),s=k<0?n-v:v+n):h>f&&(h=f,v=Math.abs(h-t)*c,s=k<0?n-v:v+n)),s>n?(s-n<b?s=n+b:s-n>w&&(s=n+w),h=h>t?t+(s-n)/c:t-(s-n)/c):s<n&&(n-s<b?s=n-b:n-s>w&&(s=n-w),h=h>t?t+(n-s)/c:t-(n-s)/c),s<0?(n-=s,s=0):s>o&&(n-=s-o,s=o),h<0?(t-=h,h=0):h>f&&(t-=h-f,h=f),y(e(n,,n[1]]}function e(n,t,i,r){var u=n,f=i,e=t,o=r;return i<n&&(u=i,f=n),r<t&&(e=r,o=t),[Math.round(u),Math.round(e),Math.round(f),Math.ron[1]}}var n=0,t=0,u=0,i=0,s,h;return{flipCoords:e,setPressed:p,setCurrent:w,getOffset:b,moveOffset:k,getCorner:d,getFixed:c}}(),g=funfunction tt(){r.shade?p():d();u.isAwake()&&a(r.bgOdren()}var c=!1,t=n("<div />").css({position:"absolute",zIndex:240,opacity:0}),i={top:l(),left:l().height(f),right:l().height(f),bottom:l()};return{update:v,updateRaw:y,getShades:g,setBgColor:k,enable:p,disable:d,resize:nt,refresh:tt,opacity:a}}(),u=funr")}function lt(n){for(var t=0;t<n.length;t++)ut[n[t]]=ct(n[t])}function at(n){for(var t,i=0;i<n.length;i++){switch(n[i]){case"n":t="hline";break;case"s":t="hline bottom";break;case"e":t="vline right";break;case"w":t="vline"}nt[n[i]](n[t])}function yt(n,t){r.shade||b.css({top:h(-t),left:h(-n)});it.css({top:h(t),leftp(n)}function p(n){var i=s.getFixed();wt(i.w,i.h);yt(i.x,i.y);r.shade&&g.updateRaw(i);t||bt();n?r.onSelect.call(v,ot(i)):r.onChange.call(vy",n))}function bt(){it.show();r.shade?g.opacity(st):o(st,!0);t=!0}function kt(){u();it.hide();r.shade?g.opacity(1):o(1);t=!1;r.onRelease.de()}function k(n){ci===n?1);a()}var t,c=370,nt={},rt={},ut={},i=!1,f;return r.dragEdges&&n.isArray(r.createDragbars)&&lt(r.createDragbars),n.isArray(r.createHandles)&&vt(r.createHandles),r.drawBorders&&n.isArray(r.createBorders)&&at(r.createBorders),n(document).bind("touchstart.jcrtion()}),f=oi().mousedown(ui("move")).css({cursor:"move",position:"absolute",zIndex:360}),d.support&&f.bind("touchstart.jcrop",d.createDragger("move")),pt.append(f),u(),{updateVisible:y,update:p,release:kt,refresh:a,turn t},seor",n)},enableHandles:w,ena){i=!0},showHandles:dt,disableHandles:u,animMode:k,setBgOpacity:o,done:gt}}(),p=function(){function c(){k.css({zIndex:450});d.support&&n(document).bind("touchmove.jcrop",y).bind("touchend.jcrop",p);h&&n(document).bind("mousemove.jcrop",o).bind("mouseup.jc),!1}function a(n,t){return ut=!0,i=n,f=t,c(),!1}function y(n){return n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pagr",n)}var i=function(){},f=function(){},h=r.trackDocument;return h||k.mousemove(o).mouseup(t).mouseout(t),e.before(k),{activateHandlers:a,setCursor:w}}(),dt=funide()}function i(n,t,i){r.allowMove&&(s.moveOffset([t,i]),u.updateVisible(!0));n.preventDefault();n.stopPropagturn!1}var t=n('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}),f=n("<div />").css({position:"absolute",overflow:"hidden"}).append(t);return r.keySupport&&(t.keydown(c).blur(h),wt||!r.fixedSupport?(t.css({position:"absolute",left:"-20px"}),f.append(t).insertBefore(e)):t.insertBefore(e)),{watchKeys:o}}();return d.support&&k.bind("touchstart.jcrop",d.newSelection),tt.hide(),ni(!0),v={setImage:er,animateTo:nr,setSelect:ai,setOptions:rr,tellSelect:tr,tellScaled:ir,setClass:gi,disable:yi,enable:pi,cancel:ur,release:u.release,destroy:fr,focus:dt.watchKeys,gel,f*a]},getWidgetSize:function(){return[o,f]},getScaln[l,a]},ui:{holder:w,selection:it}},n.browser.msie&&w.bind("selecturn!1}),c.data("Jcrop",v),v};n.fn.Jcrop=function(t,i){var r;return this.each(function(){if(n(this).data("Jcrop")){if(t==="api")return n(this).data("Jcrop");n(this).data("Jcrop").setOptions(t)}else this.tagName=="IMG"?n.Jcrop.Loader(this,function(){n(this).css({display:"block",visibility:"hidden"});r=n.Jcrop(this,t);n.isFunction(i)&&i.call(r)}):(n(this).css({display:"block",visibility:"hidden"}),r=n.Jcrop(this,t),n.isFunction(i)&&i.call(r))}),this};n.Jcrop.Loader=function(e,50)}var u=n(t),f=u[0];u.bind("load.jcloader",e).bind("error.jcloader",function(){u.unbind(".jcloader");n.isFunction(r)&&r.call(f)});f.complete&&n.isFunction(i)&&(u.unbind(".jcloader"),i.call(f))};n.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:7,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onion(){}}}(jQuery),funcl(t):n}function u(n){while(n=n.parentNode)if(n==document)return!0;return!1}function i(t,i){this.$element=n(t);this.options=i;this.enabled=!0;this.forCutoff=!1;this.fixTitle()}i.prototype={show:function(i){var a=this.getTitle(),c,v,y,p,f,l,s,w,b;if(a&&this.enabled&&(c=!0,this.forCutoff&&(v=this.$element.width(),y=this.$element[0].style.width,this.$element.css("visibility","hidden"),this.$element[0].style.setProperty("width","max-content","important"),p=this.$element.width(),this.$element.css("width",y),this.$element.css("visibility",""),c=v<p),c)){f=this.tip();l=!1;i?(l=!0,this.moOriginalEvent=i):i=this.originalEvent;f.find(".tipsy-inner")[this.options.html?"html":"text"](a);f[0].className="tipsy";f.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r=n.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),h=f[0].offsetWidth,o=f[0].offsetHeight,e=t(this.options.gravity,this.$element[0]),u;switch(e.charAt(0)){case"n":u={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-h/2};break;case"s":u={top:r.top-o-this.options.offset,left:r.left+r.width/2-h/2};break;case"e":u={top:r.top+r.height/2-o/2,left:r.left-h-this.options.offset};break;case"w":u={top:r.top+r.height/2-o/2,left:r.left+r.width+this.options.offset}}(e.charAt(0)==="n"||e.charAt(0)==="s")&&(u.left<0||u.top<0)&&(h/2>r.width?(e="w",u={top:r.top+r.height/2-o/2,left:r.left+r.width+this.options.offset}):u.left=0);this.options.gravityPermanent=e;e.length===2&&(u.left=e.charAt(1)==="w"?r.left+r.width/2-5:r.left+r.width/2-h+5);s=f.find(".tipsy-arrow")[0];s.className="tipsy-arrow tipsy-arrow-"+e.charAt(0);this.options.trigger==="hover"&&!Utils.IsIE()&&i&&((e.charAt(0)==="n"||e.charAt(0)==="s")&&this.$element.width()>=50?(w=/^[^w]w$/.test(this.options.gravity)&&s.position()!=null?i.pageX-(n(s).position().left+n(s).outerWidth()/2):/^[^e]e$/.test(this.options.gravity)&&s.position()!=null?i.pageX-(n(s).position().left+n(s).outerWidth()/2):i.pageX-h/2,u.left=w):this.$element.height()>=50&&/^w|^e/.test(this.options.gravity)&&(u.top=i.pageY-o/2));u.left=Math.min(Math.max(u.left,0),n(window).width()-h);u.top=Math.min(Math.max(u.top,0),n(window).height()-o);u["z-index"]=999999;f.css(u);e.charAt(0)==="s"&&f[0].offsetHeight>o&&f.css("top",u.top+o-f[0].offsetHeight);f.addClass("tipsy-"+e);this.options.className&&f.addClass(t(this.options.className,this.$element[0]));f.stop().css({visibility:"visible",opacity:this.options.opacity});l&&i.type=="focus"&&(this.moScrollableParent=this.$element.scrollParent(),this.moScrollableParent&&(this.mfParentScrollHandler&&this.moScrollableParent.off("scroll",this.mfParentScrollHandler),b=this,this.mfParentScrollHandler=Utils.dshow()},10),this.moScrollableParent.scroll(this.mfParentScrollHandler)))}},updatePosition:function(i){var o=this.tip(),f=o.find(".tipsy-arrow")[0],e=o[0],c=e.offsetWidth,l=e.offsetHeight,u=t(this.options.gravityPermanent||this.options.gravity,this.$element[0]),r,a,s,h;i&&(r={top:e.offsetTop,left:e.offsetLeft},(u.charAt(0)==="n"||u.charAt(0)==="s")&&this.$element.width()>=50?(s=n(f).position().left,h=n(f).outerWidth()/2,a=/^[^w]w$/.test(u)&&f.position()!=null?i.pageX-(s+h):/^[^e]e$/.test(u)&&f.position()!=null?i.pageX-(s+h):i.pageX-c/2,r.left=a):this.$element.height()>=50&&/^w|^e/.test(u)&&(r.top=i.pageY-l/2),r.left=Math.min(Math.max(r.left,0),n(window).width()-c),r.top=Math.min(Math.max(r.top,0),n(window).height()-l),o.stop().css(r).show())},hide:function(){this.options.fade?this.tip().stop().move()}):this.tip().remove();this.moOriginalEvent=null;this.moScrollableParent&&this.moScrollableParent.off("scroll",this.mfParentScrollHandler);this.moScrollableParent=null;this.mfParentScrollHandler=null},fixTitle:function(){var n=this.$element;n.attr("title")?n.attr("original-title",n.attr("title")).removeAttr("title"):n.attr("title-co")?(n.attr("original-title",n.attr("title-co")).removeAttr("title-co"),this.forCutoff=!0):typeof n.attr("original-title")!="string"&&n.attr("original-title","")},getTitle:function(){var i=this.$element,n=this.options,t;return this.fixTitle(),n=this.options,typeof n.title=="string"?t=i.attr(n.title=="title"?"original-title":n.title):typeof n.title=="function"&&(t=n.title.call(i[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||n.fallbas.$tip},v=null)},enable:function(){this.enabled=!0},led=!1},togglenabled}};n.fn.tipsy=func,u)),u}function e(n){var i=u(this);i.hoverState="in";t.delayIn===0?i.show(n):(i.fixTitle(),setTimeout(function(){i.hoverState==="in"&&i.show(n)},t.delayIn))}function o(){var n=u(this);n.hoverState="out";t.delayOut===0?n.hide():sethide()},t.deion(n)}var f;if(t===!0)return this.data("tipsy");if(typeof t=="string")return f=this.data("tipsy"),f&&f[t](),this;if(t=n.extend({},n.fn.tipsy.defaults,t),t.live||th(this)}),t.trigger!=="manual"){var r=t.live?"live":"bind",s=t.trigger==="hover"?"mouseover":"focus",h=t.trigger==="hover"?"mouseleave":"blur";t.trigger!=="hover"||Utils.IsIE()?this[r](s,e)[r](h,o):this[r](s,e)[r](h,o)[r]("mousemove",c)}return this};n.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"};n.fn.tipsy.defaults.delayOut=parseInt(Param.TipsyDefaultHideDelay);n.fn.tipsy.defaults.delayIn=parseInt(Param.TipsyDefaultShowDelay);n.fn.tipsy.defaults.fade=Param.TipsyDefaultFadeEffect;n.fn.tipsy.defaults.html=Param.TipsyDefaultUseHTML;n.fn.tipsy.defaults.gravity=Param.TipsyDefaultOrientation;var r=parseFloat(Param.TipsyDefaultOpacity);isNaN(r)||(n.fn.tipsy.defaults.opacity=r);n.fn.tipsy.revve()})};n.fn.tipsy.elementa()):i};n.fn.tipsy.autoNS=function(){return n(this).offset().top>n(document).scrollTop()+n(window).height()/2?"s":"n"};n.fn.tipsye":"w"};n.fn.tipsy.autw:"")}}}(jQuery)