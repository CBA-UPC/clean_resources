/*! For license information please see showbrowse-9539ee2d15258da15740.min.js.LICENSE.txt */
(()=>{var t,e,n,r,o={46090:59339:42363:66816:3271:5542:65478:79512:31788:99859:15791:43648:76111:3363:80887:49301:13711:72903:56887:32031:29335:47384:76842:84092:61452:18715:16270:70723:87407:54521:2692:},7439},8073},3312},9647},3123},5705},2916},8299},6629},3683},5507},1676},7666},1244},47999:(t,e,n)=>{"use strict";n(3468),n(14229),n(37352),n(90871),n(15848),n(99180),n(98498),n(52815),n(62085),n(13491),n(306),n(5708),n(40816),n(4490),n(83704),n(49313),n(28222),n(16201),n(33547),n(97142),n(29174),n(88515),n(83753);$(document).ready((function(){var t=$("#branch-banner-iframe"),e=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!window.MSStream;if(1===CBS.Registry.platform.isHandheld||!0===e)var n=$("body"),r=0,o="open",i=function(t,e){n.css({"margin-top":"96px"}),o="closed",clearInterval(a)},a=setInterval((function(){0===t.length&&(t=$("#branch-banner-iframe")),t.length>0&&"open"==o&&(branch.addListener("didClickJourneyClose",i),t.position().top<=0?n.css({"margin-top":t.height()+"px"}):n.css({"margin-top":"0"}),clearInterval(a),$(window).resize((function(){setTimeout((function(){t.length>0&&"open"==o&&(t.position().top<=0?n.css({"margin-top":t.height()+"px"}):n.css({"margin-top":"0"}))}),250)}))),++r>=10&&clearInterval(a)}),500)}));n(16865);var r=function(t){$("body a").blur(),t.hasClass("using-mouse")||t.addClass("using-mouse")};!function(){if(-1===navigator.userAgent.indexOf("SMART-TV")){var t=$("body");t.on("mousemove",(function(){r(t)})),t.on("mousedown",(function(){r(t)})),t.keydown}))}}(),$("body").on("mousemove"}));n(3447),n(31271),n(13625),n(24128),n(44705),n(2316),n(88445),n(93318),n(22190),n(29202),n(80533),n(6468),n(80815),n(94403),n(26047),n(95462),n(58433);var o=n(60501);var i=["ENABLE_CONCURRENCY_MONITORING","ENABLE_CM_VOD","ENABLE_CM_LIVE"];Object.freeze(i);function a(t){window.hasOwnProperty("ae")&&window.ae.hasOwnProperty("logout")&&window.ae.logout(),$.ajax({url:(CBS.Registry.region.prefix||"")+"/account/logout/",type:"GET",dataType:"json",error:function(){alert("Error occurred, please try again later")},success:function(e){if(!0===e.success)if((0,o.nJ)("aa-abandon-ovl",{path:"/"}),window.localStorage.removeItem("mvpd_authz"),window.localStorage.removeItem("mvpd_chosen_obj"),window.localStorage.removeItem("mvpd_cm"),window.localStorage.removeItem("mvpd_configs"),(0,o.nJ)("mvpd_authz"),window.localStorage.setItem("cbs_logout",(new Date).toDateString()),$.cookie("mvpd_authz","",{path:"/",domain:".cbs.com"}),"function"==typeof t)t();else{(n=window.location.pathname).substr(-1);window.location.href="/"}var n}})}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isDomestic",valu}},{key:"isInternational",valu}},{key:"getRegionCode",valu}}],(n=null)&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(){f=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function b(){}function w(){}function x(){}var S={};u(S,a,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(I([])));k&&k!==n&&r.call(k,a)&&(S=k);var T=x.prototype=b.prototype=Object.create(S);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,i,a,s){var c=p(t[o],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==l(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var o=h;return function(i,a){if(o===g)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=j(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?m:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(l(e)+" is not iterable")}return w.prototype=x,o(T,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=u(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,u(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},E(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(T),u(T,c,"Generator"),u(T,a,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===l(i)?i:String(i)),r)}var o,i}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,i;return e=t,n=[{key:"logoutWithAuthSuite",value:(o=f().mark((function t(e,n){return f().wrap}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){d(i,n,r,a,s,"next",t)}function s(t){d(i,n,r,a,s,"throw",t)}a(void 0)}))})},{key:"logout",value:function(t){a(t)}}],n&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===v(i)?i:String(i)),r)}var o,i}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"supportsPassive",value:function(){if(window.passiveListener)return window.passiveListener;var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return window.passiveListener=!0,t}}],(n=null)&&g(e.prototype,n),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),y=n(84467);n(36748}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===x(i)?i:String(i)),r)}var o,i}var _,k=Object.freeze({AUTHSUITE_HEADER_UNBIND:"authSuite unbind from header.js",AUTHSUITE_HEADER_ERROR:"authSuite error encountered",AUTHSUITE_SIGNIN_ERROR:"authSuite error in SignIn",NO_AUTH_N:"NoAuthN",NO_AUTH_Z:"NoAuthZ"}),T=Object.freeze({APP_LOG:"trackAppLog"}),E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.queueActions=[],this.trackStateFired=!1,this.requireFiredStateOnTracking=!0,"number"==typeof e&&(this.timeout=e)}var e,n,r;return e=t,n=[{key:"trackAction",value:function(t){var e=arguments,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"undefined"!=typeof om?function(){try{if(void 0===("undefined"==typeof om?"undefined":x(om)))throw"om is not loaded yet!";if(!o&&n.requireFiredStateOnTracking&&!n.trackStateFired)return void n.queueActions.push(e);om.trackAction(t,r)}catch(t){n.onTrackingFail(t)}}():this.timeout&&setTimeout((function(){n.trackAction(t,r)}),this.timeout)}},{key:"trackLog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"No message provided",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"No code provided";this.trackAction("trackAppLog",{appLogText:e,appLogType:t,appLogCode:n})}},{key:"trackState",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"undefined"!=typeof om?function(){try{if(void 0===("undefined"==typeof om?"undefined":x(om)))throw"om is not loaded yet!";om.trackState(e),t.trackStateFired=!0,t.trackQueuedActions()}catch(e){t.onTrackingFail(e)}}():this.timeout&&setTimeout((function(){t.trackState(stateName,e)}),this.timeout)}},{key:"trackQueuedActions",value:function(){var t=this;this.queueActions.forEach})),this.queueActions=[]}},{key:"onTrackingFail",value:function(t){console.error(t)}}],n&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),C=(n(3939),n(2692)),O=n.n(C);function j(t){var e="function"==typeof t?t():t;return function(t,n,r){var o=null==e?void 0:e[t];if(o&&n instanceof Object)for(var i=0,a=Object.keys(n);i<a.length;i++){var s=a[i],c=new RegExp("{".concat(s,"}"),"g");o=o.replace(c,n[s])}return o||r||t}}var A=j((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#locales";if(!_)try{_=JSON.parse(O()(t).html())}catch(t){console.error("Locals not loaded")}return _||{}}));function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function L(){L=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};u(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==n&&r.call(S,a)&&(w=S);var _=b.prototype=m.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==P(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,n,r){var o=d;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(P(e)+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},k(T.prototype),u(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(_),u(_,c,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function I(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function N(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){I(i,r,o,a,s,"next",t)}function s(t){I(i,r,o,a,s,"throw",t)}a(void 0)}))}}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===P(i)?i:String(i)),r)}var o,i}var B=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.authSuiteEnabled=!1,this.trackingService=new E,CBS.Registry.authSuiteConfig&&CBS.Registry.authSuiteConfig.enabled&&Promise.all([n.e(69151),n.e(60868)]).then(n.bind(n,69151)).then((function(t){var n=t.default,r=CBS.Registry.authSuiteConfig,o=r.clientId,i=r.countryCode,a=r.env,s=i||CBS.Registry.region.property;e.authSuiteSdkProvider=new n({clientId:o,countryCode:s,env:a}),e.authSuiteEnabled=!0})),this.marqueeCopy=document.querySelector("#hero-content .slide-js h1"),this.headerEl=$("header"),this.heroImage=$(".hero_carousel_image"),this.headerWrap=$("header .header__wrap"),this.subnavEl=$("#subnav"),this.mobile={icon:document.querySelector("header .burger"),menu:document.querySelector("#pv-dropdown"),subNavs:document.querySelectorAll("#pv-dropdown .withSubMenu"),skip:document.querySelector("#skip-link")},this.initializeHeader(),this.initStylesForIE(),this.initializeMobileMenu(),CBS.Registry.user_auth&&this.initializeUserMenu(),this.keyboardNav(),this.initializeTracking()}var e,r,o;return e=t,r=[{key:"keyboardNav",value:function(){$(document).on("keydown"})),$("body").mousedown((function(){$("li.header__nav--withsubMenu ul.content").removeClass("filter-focus")})),$(window).width()>=1024&&$(".mobileMenu").find("a").attr("tabindex","-1"),$(window).on("resize",(function(t){$(this).width()<1024?$(".mobileMenu").find("a").attr("tabindex","0"):$(".mobileMenu").find("a").attr("tabindex","-1")})),$("ul.navigation li a").focus((function(){$(this).parents(":eq(2)").hasClass("header__nav--withsubMenu")||$("li.header__nav--withsubMenu ul.content").removeClass("filter-focus")})),$("ul.header__account li ul.content li").on("keydown","a",(function(t){var e=$(this).parent("li").next("li").length,n=t.keyCode||t.which;t.shiftKey||9!==n||0===e&&$(this).closest("ul.content").removeClass("filter-focus")})),$("ul.subnav__items li a").focus})),$(".header__nav--withsubMenu a.filter").focus})),$(".header__nav--withsubMenu ul.content li a").focus((function(){$(this).parents(":eq(2)").hasClass("header__nav--withsubMenu")&&($("li.header__nav--withsubMenu ul.content").removeClass("filter-focus"),$(this).parents(":eq(1)").addClass("filter-focus"))}))}},{key:"initializeTracking",value:function(){$(".header__wrap a").on("click",(function(t){var e=$(t.currentTarget)[0];(0,y.au)(e)}))}},{key:"initializeHeader",value:function(){var t=40,e=this,n=document.body.hasAttribute("touch-enabled");document.querySelectorAll(".header__nav--withsubMenu").forEach((function(t){var e=t.querySelector(".header__subnav"),r=t.querySelector(".current-userprofile-anchor");r&&n&&r.addEventListener("mousedown"})),n||(e.addEventListener("mouseenter",(function(e){$(t).addClass("active")})),e.addEventListener("mouseleave",(function(e){$(t).removeClass("active")})),t.querySelector("a, button").addEventListener("mouseenter",(function(e){$(t).addClass("active")})),t.addEventListener("mouseleave"})))})),$(window).scroll((function(n){if(!e.headerEl.hasClass("mobileMenu--open")){var r=$(this).scrollTop();r>t?e.onScrollDownHandler():e.onScrollUpHandler(),t=r,$("section .sc_cont").length&&($(this).scrollTop()<=66?$("#addFilter").addClass("addPad"):$("#addFilter").removeClass("addPad"),$(".date-item").each((function(){$(this).offset().top.toFixed()-$(window).scrollTop()<=0&&$(".js-filter").first().text($(this).attr("data-value"))})))}}))}},{key:"initializeMobileMenu",value:function(){var t,e=this;this.mobile.skip&&(null===(t=this.mobile.skip)||void 0===t||t.setAttribute("aria-hidden","true")),this.mobile.menu&&this.mobile.menu.setAttribute("aria-hidden","true");var n=document.querySelector("header"),r=this.mobile.icon;if(r&&r.addEventListener("click",(function(){r.classList.toggle("is-active"),setTimeout((function(){e.mobile.menu.classList.toggle("open"),n.classList.toggle("mobileMenu--open"),e.subnavEl.toggleClass("hidden")}),300),r.classList.contains("is-active")?(e.resetMenuIfViewPortChangeHandler(),r.setAttribute("aria-label","Close Menu"),r.setAttribute("aria-expanded","true")):(r.setAttribute("aria-label","Open Menu"),r.setAttribute("aria-expanded","false"))}),!!m.supportsPassive()&&{passive:!0}),this.mobile.subNavs)for(var o=this.mobile.subNavs,i=o.length,a=function(){var t=o[s],e=t.querySelector(".filter");e&&e.addEventListener("click"}),!!m.supportsPassive()&&{passive:!0})},s=0;s<i;s++)a()}},{key:"resetMenuIfViewPortChangeHandler",value:function(){var t,e=this,n=!1;window.addEventListener("resize",(function(r){clearTimeout(t),t=setTimeout((function(){!1===n&&$(window).width()>1024&&(e.resetMobileMenu(),n=!0)}),500)}))}},{key:"isValidAuthSuiteError",value:function(t,e){var n,r,o,i,a=window.location.pathname;if(CBS&&(n=null===(o=CBS)||void 0===o||null===(o=o.Registry)||void 0===o||null===(o=o.authSuiteConfig)||void 0===o?void 0:o.countryCode.toUpperCase(),r=null===(i=CBS)||void 0===i||null===(i=i.Registry)||void 0===i||null===(i=i.region)||void 0===i?void 0:i.property),null!=t&&t.errorCode)return this.trackingService.trackAction(T.APP_LOG,{appLogText:"error: ".concat(t.errorCode," - deviceId: ").concat(e),appLogType:k.AUTHSUITE_HEADER_UNBIND,appLogCode:"Unbound ".concat(n," user in ").concat(r," on ").concat(a)},!0),!0;var s=function(){var t=window.localStorage.getItem("auth-suite-applicationAccessToken");if(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(e).split("").map})).join(""));return JSON.parse(n)}return!1}(),c=s?s.deviceId:null;return this.trackingService.trackAction(T.APP_LOG,{appLogText:"".concat(JSON.stringify(t).substring(0,75)," - deviceId: ").concat(c),appLogType:k.AUTHSUITE_HEADER_ERROR,appLogCode:"Avoided unbinding ".concat(n," user in ").concat(r," on ").concat(a)},!0),!1}},{key:"initializeUserMenu",value:function(){var t,e,n=new h,r=document.querySelectorAll(".js-user-logout"),o={},i=this.authSuiteEnabled;this.authSuiteEnabled&&(o=this.authSuiteSdkProvider.getAuthSuiteServices());var a=function(){var t=N(L().mark((function t(){var e;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=13;break}return t.prev=1,t.next=4,o.accessService.checkAccessStatus();case 4:if(!((e=t.sent)&&e.accessMethodsInUse.length>0)){t.next=8;break}return n.logoutWithAuthSuite(o.authorizationService),t.abrupt("return");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("Authsuite error: ".concat(t.t0));case 13:n.logout();case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();null!==(t=CBS.Registry.Features)&&void 0!==t&&t.mfe_enabled&&null!==(e=CBS.Registry.Features)&&void 0!==e&&e.mfe_userprofiles_enabled&&window.addEventListener("[userprofiles]sign_out",N(L().mark})))),r.forEach((function(t){t.addEventListener("click",function(){var t=N(L().mark((function t(e){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a();case 2:case"end":return t.stop()}}),t)})));retur}}())}))}},{key:"resetMobileMenu",value:function(){var t=document.querySelector("header");this.mobile.icon.classList.remove("is-active"),this.mobile.menu.classList.remove("open"),t.classList.remove("mobileMenu--open"),this.subnavEl.removeClass("hidden"),window.innerWidth>1024?this.mobile.menu.setAttribute("aria-hidden","true"):this.mobile.menu.removeAttribute("aria-hidden")}},{key:"onScrollDownHandler",value:function(){window.scrollY<1||(null!==document.getElementById("programming-alerts")?this.headerEl.addClass("goUpWithAlert dark"):this.headerEl.addClass("goUp dark"),this.isVisibleMainOrHero()||this.heroImage.addClass("fadeOut"))}},{key:"onScrollUpHandler",value:function(){null!==document.getElementById("programming-alerts")?this.headerEl.removeClass("goUpWithAlert"):this.headerEl.removeClass("goUp"),this.isVisibleMainOrHero()&&($(".video__player-width-container")[0]&&"undefined"==typeof movieStarted||(this.headerEl.removeClass("dark"),this.heroImage.removeClass("fadeOut")))}},{key:"isVisibleMainOrHero",value:function(){var t=document.querySelector("#hero-content .hero__grid"),e=document.querySelector("#main-container");return t?this.isMarqueeCopyVisible(t):this.isMainContainerVisible(e)}},{key:"isMainContainerVisible",value:function(t){return t.getBoundingClientRect().top>=-112}},{key:"isMarqueeCopyVisible",value:function(t){return t.getBoundingClientRect().top>=-75}},{key:"initStylesForIE",value:function(){var t=!1,e=!1;try{(t=!!navigator.userAgent.match(/Trident\/7\./))||navigator.userAgent.indexOf("Edge")>-1&&(e=!0)}catch(t){}void 0!==CBS.Registry.winAssets&&(t&&(document.write("<link href='"+CBS.Registry.winAssets.ie+"' type='text/css' rel='stylesheet'>"),$("#programming-alerts-scroll-left-box-text-id").removeClass("programming-alerts-scroll-left-box-text").addClass("programming-alerts-scroll-left-box-text-ie")),e&&(document.write("<link href='"+CBS.Registry.winAssets.edge+"' type='text/css' rel='stylesheet'>"),$("#programming-alerts-scroll-left-box-text-id").removeClass("programming-alerts-scroll-left-box-text").addClass("programming-alerts-scroll-left-box-text-ie")))}}],r&&R(e.prototype,r),o&&R(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(73903);$(document).ready((function(){$("footer a").click((function(t){var e,n="trackMenu",r=$(t.currentTarget)[0],o=$(r).attr("title").trim(),i=function(t){var e=$(t).closest("ul").prevAll("ul").length.toString();return{row:$(t).parent("li").prevAll("li").length.toString(),col:e}}(r),a=i.row,s=i.col;e=u.isDomestic()?{menuItemLabel:o,ctaText:o,posColNum:s,posRowNum:a,menuOrientation:"footer"}:{clickLabel:o,ctaText:o};var c=$(r).attr("tracking-event");c&&(n=c.trim()),(0,y.X2)(n,e)}))}));n(85893),n(73143),n(65955),n(69821),n(47589),n(67132),n(96111);var D=n(94550),M=(n(51782),n(66292)),H=n.n(M);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G(r.key),r)}}function V(t,e,n){return(e=G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t){var e=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===U(e)?e:String(e)}var X=function(){function t(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),V(this,"debounceHandler"})),V(this,"clickHandler"})),V(this,"track",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=o.wrappers.filter((function(t){return e?$(t).isOnScreen(1,1,!0)&&$(e).isOnScreen(1,1,!0)&&t.contains(e):$(t).isOnScreen(1,1,!0)})).map})).filter})),r=o.buildPayObject(n);o.trackObject(r,t)})),this.wrappers=e,this.viewEventName=n,this.clickEventName=r,this.trackingObject=i,this.targets=this.findTargets(),this.delay=a,this.debounceCallback=H()(this.debounceHandler,this.delay),this.addEvents(),this.track(this.viewEventName)}var e,n,r;return e=t,n=[{key:"findTargets",value:function(){return this.wrappers.map((function(t){var e=t.getAttribute("class").replace(/\s/g,".")+" a";return".".concat(e)})).join(", ")}},{key:"addEvents",value:function(){window.addEventListener("scroll",this.debounceCallback),window.addEventListener("resize",this.debounceCallback),$(document).on("click","".concat(this.targets),this.clickHandler)}},{key:"removeEvents",value:function(){window.removeEventListener("scroll",this.debounceCallback),window.removeEventListener("resize",this.debounceCallback),$(document).off("click","".concat(this.targets),this.clickHandler)}},{key:"trackObject",value:function(t,e){if(!this.suppressTracking()&&om){var n={type:e,data:{pplus:t}};om.sendEvent(n)}}},{key:"buildPayload",value:function(t){var e,n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=t.dataset,c=a?[a]:Array.from(t.querySelectorAll("a"));c=c.filter((function(t){return a?$(t).isOnScreen(1,1,!0):$(t).isOnScreen()}));var u=this.buildItemsPayload(c);return u.length?{containerId:null!==(e=s.id)&&void 0!==e?e:"",containerTitle:null!==(n=s.title)&&void 0!==n?n:"",containerType:null!==(r=s.id)&&void 0!==r?r:"",displayId:null!==(o=s.displayid)&&void 0!==o?o:"",rowNum:null!==(i=s.position)&&void 0!==i?i:"",rankModel:"",pvrModel:"",items:u}:null}},{key:"buildItemsPayload",value:function(t){return t.map((function(t){var e=q(t.dataset.impression.split("|"),7);return{id:e[0],title:e[1],type:e[2],position:e[3],badgeLabel:e[4],isUnlocked:!("1"===e[5]),cmsId:e[6]}}))}},{key:"buildPayObject",value:function(t){var e,n,r,o,i,a,s,c,u,l,f,d,p,h,v,g,m,y,b,w,x,S,}({brandPlatformId:null===(e=CBS.Registry)||void 0===e||null===(e=e.brandPlatformID)||void 0===e?void 0:e.toString(),siteEdition:null===(n=CBS.Registry)||void 0===n||null===(n=n.siteEdition)||void 0===n?void 0:n.toString(),optimizelyExp:null===(r=CBS.Tracking)||void 0===r||null===(r=r.utag_data)||void 0===r?void 0:r.optimizelyExp,pageViewGuid:null===(o=CBS.Tracking)||void 0===o||null===(o=o.utag_data)||void 0===o?void 0:o.pageViewGuid,userRegId:null!==(i=null===(a=CBS.Registry)||void 0===a||null===(a=a.user)||void 0===a||null===(a=a.id)||void 0===a?void 0:a.toString())&&void 0!==i?i:"",userBundle:null!==(s=null===(c=CBS.Registry)||void 0===c||null===(c=c.user)||void 0===c||null===(c=c.bundleStatus)||void 0===c?void 0:c.toString())&&void 0!==s?s:"",userStatus:null!==(u=null===(l=CBS.Registry)||void 0===l||null===(l=l.user)||void 0===l||null===(l=l.sb)||void 0===l?void 0:l.toString())&&void 0!==u?u:"",userType:null!==(f=null===(d=CBS.Registry)||void 0===d||null===(d=d.user)||void 0===d||null===(d=d.sub_status)||void 0===d?void 0:d.toString())&&void 0!==f?f:"",userClientRegion:null!==(p=null===(h=CBS.Registry)||void 0===h||null===(h=h.region)||void 0===h||null===(h=h.property)||void 0===h?void 0:h.toString())&&void 0!==p?p:"",userProfileId:null!==(v=null===(g=CBS.Registry)||void 0===g||null===(g=g.user)||void 0===g||null===(g=g.profile_id)||void 0===g?void 0:g.toString())&&void 0!==v?v:"",userProfileCategory:null!==(m=null===(y=CBS.Registry)||void 0===y||null===(y=y.user)||void 0===y||null===(y=y.profile_type)||void 0===y?void 0:y.toString())&&void 0!==m?m:"",userProfileMaster:null!==(b=null===(w=CBS.Registry)||void 0===w||null===(w=w.user)||void 0===w||null===(w=w.userProfileMaster)||void 0===w?void 0:w.toString())&&void 0!==b?b:"",userProfileRefId:null!==(x=null===(S=CBS.Registry)||void 0===S||null===(S=S.user)||void 0===S||null===(S=S.profile_reference_id)||void 0===S?void 0:S.toString())&&void 0!==x?x:"",contentFeatures:t},this.trackingObject);return _}},{key:"suppressTracking",value:function(){var t,e;return"ADULT"!=(null!==(t=null===(e=CBS.Registry)||void 0===e||null===(e=e.user)||void 0===e||null===(e=e.profile_type)||void 0===e?void 0:e.toString())&&void 0!==t?t:"")||window.location.href.includes("user-profile")}}],n&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),J="ab.storage.searchInputUXImprovements";n(21816);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){et(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function et(t,e,n){return(e=rt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rt(r.key),r)}}function rt(t){var e=function(t,e){if("object"!==Y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Y(e)?e:String(e)}var ot=function(){function t(){var e=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.extraParams={},this.classHide="hide",this.brazeCampaignParams={screenName:"search"},this.searchWrapper=document.querySelector("#search"),this.setAbTestTracking(),this.impressionTracking=null,this.searchWrapper){if(this.inputBarWrapper=this.searchWrapper.querySelector(".search__inputBar"),this.input=this.inputBarWrapper.querySelector("input"),this.input.focus(),this.resultsWrapper=this.searchWrapper.querySelector(".search__results"),this.revealHandler=document.querySelectorAll(".js-search"),this.closeHandler=this.searchWrapper.querySelector(".close"),this.suggestedSearchSelected="",this.searchFilterInView=[],this.preSearchSuggestions=document.querySelector(".presearch-subnav"),this.preSearchSuggestions&&this.__initializePreSearchSuggestions(),this.trendingRecommended=document.getElementById("trending-recommended"),this.trendingRecommended&&(this.trendingAnchorLinks=this.trendingRecommended.querySelector(".grid-view-container").querySelectorAll("a"),this.trendingAnchorLinks.length&&this.trackOnItemsClick(this.trendingAnchorLinks,2,"trackSearchCarouselSelect",{posRowNum:"0",rowHeaderTitle:"Trending",carouselModel:"showRecommendationTrending"})),Array.from(document.getElementsByClassName("badge-copy")).forEach((function(t){-1!=navigator.userAgent.indexOf("Win")&&(t.style.paddingBottom="2px",t.style.paddingTop="0px")})),Array.from(document.getElementsByClassName("live-badge")).forEach((function(t){-1!=navigator.userAgent.indexOf("Win")&&(t.style.marginTop="0px")})),this.delay=300,this.minChars=1,this.keystrokeTimer="",this.inProgress=!1,this.searchAction=null,this.searchUxImprovementsVariant()){var r=this;if(i=this.input,s=null===(a=window.history.state)||void 0===a?void 0:a.searchTerm,i.value=s||"",this.input.value.length>0)var o=setInterval}),400)}var i,a,s;this.displayId=uuid.v4(),this.initialize(),!0===CBS.Registry.Features.braze_sdk&&Promise.all([n.e(79165),n.e(78371)]).then(n.bind(n,78371)).then}))}}var e,r,o;return e=t,r=[{key:"setAbTestTracking",value:function(){var t=[];for(var e in CBS.AbtestResults)t.push("".concat(e,":").concat(CBS.AbtestResults[e]));this.optimizely_exp=t.join("|")}},{key:"setExtraParams",valu}},{key:"initialize",value:function(){var t=this;this.input.addEventListener("click",(function(e){t.trackEvent("trackSearchStart",{PageType:"search",searchEventStart:1,displayId:t.displayId})})),this.closeHandler.addEventListener("click",(function(e){e.preventDefault();var n={searchEventCancel:"1",PageType:"search",searchTerm:t.input.value,displayId:t.displayId};if(""!==t.suggestedSearchSelected&&(n.suggestedSearchTerm=t.suggestedSearchSelected),t.trackEvent("trackSearchCancel",n),t.searchUxImprovementsVariant())return t.input.value="",void t.checkInput(!1);t.reset()})),this.keystrokeHandler()}},{key:"reveal",value:function(){}},{key:"trackSearch",value:function(t,e){var n={pageType:"search",screenName:"/search/",searchTerm:this.input.value,searchEventStart:null};Object.assign(n,e),(0,y.X2)(t,n)}},{key:"reset",value:function(){return document.referrer.includes("cbs.com")?window.history.go(-1):window.location.href=D.Z.getHomePageURL(),!1}},{key:"resetResultsWrapper",value:function(){this.resultsWrapper.innerHTML=""}},{key:"refreshUI",valu}},{key:"resetInputField",valu}},{key:"keystrokeHandler",value:function(){var t=this;this.input.addEventListener("keyup",this.debounce}),500))}},{key:"checkInput",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.input.value.trim();this.searchUxImprovementsVariant()&&(t=n.length,this.closeHandler.style.display=t>0?"block":"none"),0===n.length&&(this.input.value="",this.destroyImpressionTracking(),this.__hidePreSearchSuggestions(!1),this.hideCarousels(!1),this.resetResultsWrapper(),this.refreshUI(),e&&this.trackSearch("trackSearchCancel",{searchEventCancel:"1",displayId:this.displayId})),this.searchAction&&(this.inProgress=!1,this.searchAction.abort()),n.length>=this.minChars&&!1===this.inProgress&&this.performSearch(n)}},{key:"debounce",valu}},{key:"keyCodeHandler",value:function(t){return 27===t.keyCode&&this.reset(),!(t.keyCode>8&&13!==t.keyCode&&t.keyCode<46)&&!(t.keyCode>90&&t.keyCode<96)&&void 0}},{key:"performSearch",value:function(t){var e,n=this;this.inProgress=!0;var r=tt({term:t.url_encode()},this.extraParams);"search_content_badges"===(null===(e=CBS)||void 0===e||null===(e=e.AbTestsConfigs)||void 0===e||null===(e=e.modules)||void 0===e||null===(e=e.SearchPageAddContentBadge)||void 0===e?void 0:e.active_variant)&&(r=tt(tt({},r),{},{searchContentBadge:!0})),this.searchAction=$.ajax({type:"GET",url:CBS.Registry.region.prefix+"/search/lookup/",data:r,dataType:"json",success:function(t){var e,r;n.__hidePreSearchSuggestions(!0),n.displayResults(t),n.searchUxImprovementsVariant()&&(r=null===(e=window.history.state)||void 0===e?void 0:e.showsMoviesIndex)&&(document.querySelector("#search .search__results .search__results--results #".concat(r)).scrollIntoView(),window.history.pushState({},J,null)),n.destroyImpressionTracking(),n.createImpressionTracking()}}),this.searchAction.done((function(){n.inProgress=!1,Array.from(document.getElementsByClassName("badge-copy")).forEach((function(t){-1!=navigator.userAgent.indexOf("Win")&&(t.style.paddingBottom="2px",t.style.paddingTop="0px")})),Array.from(document.getElementsByClassName("live-badge")).forEach((function(t){-1!=navigator.userAgent.indexOf("Win")&&(t.style.marginTop="0px")}))}))}},{key:"hideCarousels",value:function(t){t?$(".js-le-carousel").fadeOut(0):$(".js-le-carousel").fadeIn()}},{key:"destroyImpressionTracking",valu}},{key:"createImpressionTracking",value:function(){var t=this.resultsWrapper.querySelector(".search__results--results"),e=this.resultsWrapper.querySelector(".search__results--live-results"),n=[];e&&n.push(e),t&&n.push(t);var r={pageType:"search",searchTerm:this.input.value};this.impressionTracking=new X(n,"searchResultsView","searchResultsSelect",r)}},{key:"displayResults",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.resultsWrapper.innerHTML=t.html;var r=this.resultsWrapper.querySelectorAll("a[aa-link]"),o=this.resultsWrapper.querySelectorAll(".search__results--empty"),i={pageType:"search",screenName:"/search/",searchTerm:this.input.value,displayId:this.displayId};if(o.length)this.hideCarousels(!1),i.searchEventNoResult="1",this.trackEvent("trackNoSearchResults",i);else{this.hideCarousels(!0);var a=this.resultsWrapper.querySelectorAll(".search__results--live-results a"),s=(a=[].slice.call(a)).filter})).length.toString(),c=this.resultsWrapper.querySelectorAll(".search__results--results a").length.toString(),u={searchResultListing:"1",pageType:"search",screenName:"/search/",searchTerm:this.input.value,onNowSearchCount:s,resultsSearchCount:c,displayId:this.displayId};n?(u.searchFilterInView=this.searchFilterInView,u.suggestedSearchTerm=this.suggestedSearchSelected,this.trackEvent("trackSuggestedSearchResultUsed",u)):this.trackEvent("trackSearchResultListing",u)}void 0!==CBS.Registry.lazyImage&&CBS.Registry.lazyImage.revalidate(),setTimeout((function(){for(var t=function(){var t=r[n],o=$(t).attr("aa-link").split("|"),i=o[4],a=o[5],s=o[6],c=o[23],u=o[24],l=o[25],f={};u&&l?f.showSeriesTitle=i:a?(f.showSeriesId=a,f.showSeriesTitle=i):(f.movieId=s,f.movieTitle=i),f.contentLocked=c,f.liveTvChannel=u,f.stationCode=l,tt({searchEventComplete:"1",PageType:"search",searchTerm:e.input.value},f),t.addEventListener("click",(function(n){var r,o;e.searchUxImprovementsVariant()&&(r=e.input.value,o=t.getAttribute("id"),window.history.pushState({searchTerm:r,showsMoviesIndex:o},J,null),window.localStorage.setItem(J,encodeURIComponent(r)));var i=n.target.closest(".search__results--display").previousElementSibling.innerText.trim(),a=tt({searchEventComplete:"1",PageType:"search",searchTerm:e.input.value,menuItemLabel:i,displayId:e.displayId},f);e.optimizely_exp&&(a=tt(tt({},a),{optimizely_exp:e.optimizely_exp})),""!==e.suggestedSearchSelected&&(a.suggestedSearchTerm=e.suggestedSearchSelected);var s=n.target.nextElementSibling;s&&s.classList.contains("new-item-container")&&(a.contentBadgeLabel=s.querySelector(".new-item").innerHTML.trim()),a=Object.fromEntries(Object.entries(a).filter((function(t){var e=K(t,2);return e[0],""!==e[1]}))),e.trackEvent("trackSearchResult",a)}));var d=t.querySelector("img");d&&d.classList.add("reveal")},n=0;n<r.length;n++)t();var o=e.resultsWrapper.querySelectorAll("img");e.trendingRecommended&&(o>0?e.trendingRecommended.classList.add(e.classHide):e.trendingRecommended.classList.remove(e.classHide))}),300)}},{key:"trackEvent",valu}},{key:"trackOnItemsClick",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trackSearchResult",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this,i=function(){var i=t[a];i.classList.add("reveal"),i.addEventListener("click",(function(t){var a=t.path[e].getAttribute("aa-link").split("|");if(i.href&&(r.carouselLink=i.href),a){r.posColNum=a[3];var s=a[10]&&"movies"===a[10]?tt(tt({},r),{},{movieId:a[9],movieTitle:a[4],carouselContentType:"movie"}):tt(tt({},r),{},{showSeriesId:a[9],showSeriesTitle:a[4],carouselContentType:"show"});o.trackSearch(n,s)}}))},a=0;a<t.length;a++)i()}},{key:"__initializePreSearchSuggestions",value:function(){var t=this;document.querySelectorAll(".presearch-genre").forEach((function(e){e.addEventListener("click",(function(n){if(n.preventDefault(),e.classList.contains("active"))return e.classList.remove("active"),void t.__clearPreSearchSuggestionResults();var r=document.querySelector(".active");r&&r.classList.remove("active"),e.classList.add("active");var o={gid:e.dataset.gid,genre:e.dataset.category};t.__getPreSearchSuggestionResults(o),t.suggestedSearchSelected=e.dataset.category})),t.searchFilterInView.push(e.dataset.category)}))}},{key:"__getPreSearchSuggestionResults",value:function(t){var e=this;$.ajax({type:"GET",url:CBS.Registry.region.prefix+"/search/presearch/",data:t,dataType:"json",succes}})}},{key:"__clearPreSearchSuggestionResults",value:function(){this.suggestedSearchSelected="",this.hideCarousels(!1),this.resetResultsWrapper(),this.refreshUI()}},{key:"__hidePreSearchSuggestions",value:function(t){if(this.preSearchSuggestions){var e=document.querySelector(".active");e&&e.classList.remove("active"),t?this.preSearchSuggestions.classList.add("hide"):this.preSearchSuggestions.classList.remove("hide")}}},{key:"searchUxImprovementsVariant",value:function(){var t;return"ux_improvements"===(null===(t=CBS)||void 0===t||null===(t=t.AbTestsConfigs)||void 0===t||null===(t=t.modules)||void 0===t||null===(t=t.SearchPageUXImprovements)||void 0===t?void 0:t.active_variant)}}],r&&nt(e.prototype,r),o&&nt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),it=(n(3439),n(57865),n(46090)),at=n.n(it);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||lt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(}function lt(t,e){if(t){if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==st(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===st(i)?i:String(i)),r)}var o,i}var pt={decline:"linkedPromptDecline",dismiss:"linkedPromptDismiss",timeout:"linkedPromptTimeout",accept:"linkedPromptAccept",secondaryAccept:"linkedPromptSecondaryAccept"};const ht=function(){function t(e){var n=e.apiDomain,r=e.appId,o=e.locale,i=void 0===o?"":o,a=e.subscriptionCountry,s=void 0===a?"":a,c=e.userId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.appId=r,this.deviceType="web-api",this.endpoint=n,this.eventListeners={},this.locale=i,this.locale=i,this.openedPrompts={},this.prompts=[],this.segments=[],this.subscriptionCountry=s,this.userId=c,this.getUserPrompts()}var e,n,r;return e=t,(n=[{key:"getUserPrompts",value:function(){var t=this;return this.ping().then((function(e){return new Promise((function(n,r){setTimeout((function(){return t.ping().then}))}),e.data.configs.ping_frequency||500)}))})).then}))}},{key:"ping",value:function(){var t={"user-id":this.userId},e={device_type:this.deviceType,language:this.subscriptionCountry};return at().get("".concat(this.endpoint,"/ping/").concat(this.appId),{headers:t,params:e})}},{key:"listenForUrlTriggers",value:function(){var t=this;this.checkUrlPathForMatchingPrompts(window.location.pathname),window.addEventListener("locationchange"}))}},{key:"checkUrlPathForMatchingPrompts",value:function(t){var e,n=ut(this.prompts);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,i=ut(o.triggers);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!a.click_id&&("*"===a.url_path||this.matchesUrlPath(a,t))){this.openPrompt(o,a);break}}}catch(t){i.e(t)}finally{i.f()}}}catch(t){n.e(t)}finally{n.f()}}},{key:"matchesUrlPath",value:function(t,e){if(!t.url_path)return!1;var n=!1;if("*"===t.url_path)n=!0;else{var r=t.use_regex,o=r?RegExp("".concat(t.url_path),"g"):null;n=r?o.test(e):e.includes(t.url_path)}return n}},{key:"getEventHandlerConfig",value:function(t){var e={eventType:"click",selector:t};if(t.indexOf(":")>-1){var n=t.split(":");2===t.split.length?(e.eventType=n[0],e.selector=n[1]):console.error("Invalid click_id for prompt")}return e}},{key:"attachEventListeners",value:function(){var t=this;this.cleanupEventListeners();var e,n=ut(this.prompts);try{var r=function(){var n,r=e.value,o=ut(r.triggers);try{var i=function(){var e=n.value;if(!e.click_id)return 0;if(e.url_path&&!t.matchesUrlPath(e,window.location.pathname))return 0;for(var o=t.getEventHandlerConfig(e.click_id),i=Array.from(document.querySelectorAll(o.selector)),a=o.eventType,s=0,c=i;s<c.length;s++){var u=c[s],};"exists"!==a?(u.addEventListener(a,l),t.eventListeners[e.click_id]={node:u,listener:l,eventType:a}):t.openPrompt(r,e)}};for(o.s();!(n=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}};for(n.s();!(e=n.n()).done;)r()}catch(t){n.e(t)}finally{n.f()}}},{key:"cleanupEventListeners",value:function(){for(var t=0,e=Object.entries(this.eventListeners);t<e.length;t++){var n=ct(e[t],2),r=(n[0],n[1]),o=r.node,i=r.listener,a=r.eventType;o.removeEventListener(a,i)}this.eventListeners={}}},{key:"openPrompt",value:function(t,e){setTimeout((function(){(0,y.X2)("trackModalView",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalView:1,modalId:t.id,modalName:t.name,modalSourceId:e.id,modalSource:e.click_id,modalVariantId:t.action_group_id,modalVariantName:t.action_group_name,modalMessage:"".concat(t.actions.rf_retention_title," ").concat(t.actions.rf_retention_message,"}")})})),this.openedPrompts[t.id]||(this.openedPrompts[t.id]=!0,this.createDialog(t,e).showModal(),document.body.style.overflow="hidden",this.sendImpression(t).then().catch((function(t){})))}},{key:"createDialog",value:function(t,e){var n=document.createElement("dialog");n.className="rfdialog",n.id="rfdialog-".concat(t.id);var r=document.createElement("div");if(r.className="rfdialog__wrapper",t.actions.rf_settings_close_button_enabled){var o=this.createCloseButton(t,e);r.appendChild(o)}var i=this.createBackgroundImage();r.appendChild(i);var a=this.createContent(t,e);r.appendChild(a),n.appendChild(r);var s=document.getElementById("rfdialog__overlay")||this.createOverlay(n,t,e);return s.appendChild(n),document.body.appendChild(s),this.createDialogStyles(t),n}},{key:"createOverlay",value:function(t,e,n){var r=this,o=e.actions,i=document.createElement("div");return i.className="rfdialog__overlay",i.id="rfdialog__overlay",i.onclick=function(i){if(o.rf_settings_click_outside_close_enabled){var a=t.getBoundingClientRect();a.top<=i.clientY&&i.clientY<=a.top+a.height&&a.left<=i.clientX&&i.clientX<=a.left+a.width||r.onDismiss(e,n,"dismiss")}},i}},{key:"createCloseButton",value:function(t,e){var n=this,r=document.createElement("span");r.className="rfdialog__close";var o=document.createElement("i");return o.className="rfdialog__close-icon",o.innerHTML="&#x2715;",r.appendChild(o),r.onclick=function(r){(0,y.X2)("trackModalDismiss",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalDismiss:1,modalId:t.id,modalName:t.name,modalSourceId:e.id,modalSource:e.click_id,modalVariantId:t.action_group_id,modalVariantName:t.action_group_name,modalMessage:"".concat(t.actions.rf_retention_title," ").concat(t.actions.rf_retention_message,"}")}),n.onDismiss(t,e,"dismiss"),r.stopPropagation()},r}},{key:"createBackgroundImage",valu}},{key:"createContent",value:function(t,e){var n=document.createElement("div");n.className="rfdialog__content";var r=this.createTextSection(t,e),o=this.createActions(t,e),i=this.createCountdown(t,e),a=this.createLegal(t,e);return n.appendChild(r),n.appendChild(o),n.appendChild(i),n.appendChild(a),n}},{key:"createTextSection",value:function(t,e){var n=document.createElement("div");n.className="rfdialog__texts";var r=document.createElement("h1");r.className="rfdialog__texts-header",r.setAttribute("text",t.actions.rf_retention_title),r.setAttribute("text-mobile",t.actions.rf_mobile_title),n.appendChild(r);var o=document.createElement("p");return o.className="rfdialog__texts-message",o.setAttribute("text",t.actions.rf_retention_message),o.setAttribute("text-mobile",t.actions.rf_mobile_message),n.appendChild(o),n}},{key:"createActions",value:function(t,e){var n=this,r=document.createElement("div");if(r.className="rfdialog__actions",t.actions.rf_retention_confirm_button_text){var o,i=document.createElement("button");i.className="button rfdialog__actions-button rfdialog__actions-button-primary",i.setAttribute("data-ci","primaryAcceptButton");var a=document.createElement("div");a.className="button__text",a.textContent=null===(o=t.actions)||void 0===o?void 0:o.rf_retention_confirm_button_text,i.appendChild(a),r.appendChild(i),i.onclick=function(r){n.onPrimaryAccept(t,e),r.stopPropagation()}}if(t.actions.rf_settings_confirm_button_2_enabled){var s=document.createElement("button");s.className="button rfdialog__actions-button rfdialog__actions-button-secondary";var c=document.createElement("div");c.className="button__text",c.textContent=t.actions.rf_retention_confirm_button_2_text,s.appendChild(c),r.appendChild(s),s.onclic}}if(t.actions.rf_settings_cancel_button_enabled){var u=document.createElement("button");u.className="button secondary rfdialog__actions-button rfdialog__actions-button-secondary";var l=document.createElement("div");l.className="button__text",l.textContent=t.actions.rf_retention_cancel_button_text,u.appendChild(l),u.onclick=function(r){(0,y.X2)("trackModalDecline",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalDecline:1,modalId:t.id,modalName:t.name,modalSourceId:e.id,modalSource:e.click_id,modalVariantId:t.action_group_id,modalVariantName:t.action_group_name,modalMessage:"".concat(t.actions.rf_retention_title," ").concat(t.actions.rf_retention_message,"}"),ctaText:t.actions.rf_retention_cancel_button_text}),n.onDismiss(t,e,"decline"),r.stopPropagation()},r.appendChild(u)}return r}},{key:"createCountdown",value:function(t,e){var n=this;if(!t.actions.rf_settings_close_seconds)return document.createElement("div");var r=document.createElement("div");r.className="rfdialog__countdown";var o=parseInt(t.actions.rf_settings_close_seconds);r.textContent="".concat(o," ").concat(t.actions.rf_settings_close_seconds_text);var i=setInterval((function(){o<=0?(clearInterval(i),(0,y.X2)("trackModalTimeout",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalTimeout:1,modalId:t.id,modalName:t.name,modalSourceId:e.id,modalSource:e.click_id,modalVariantId:t.action_group_id,modalVariantName:t.action_group_name,modalMessage:"".concat(t.actions.rf_retention_title," ").concat(t.actions.rf_retention_message,"}")}),n.onDismiss(t,e,"timeout")):(o-=1,r.textContent="".concat(o," ").concat(t.actions.rf_settings_close_seconds_text))}),1e3);return r}},{key:"createLegal",value:function(t,e){var n=document.createElement("div"),r="long"===t.actions.rf_settings_privacy_policy_type?"long":"short";switch(n.className="rfdialog__legal",r){case"long":if(!t.actions.rf_settings_privacy_policy_text)return n;n.classList.add("rfdialog__legal-long"),n.textContent=t.actions.rf_settings_privacy_policy_text;break;case"short":if(!t.actions.rf_settings_privacy_policy_link&&!t.actions.rf_settings_tos_link)return n;n.innerHTML=""}return n}},{key:"createDialogStyles",value:function(t,e){var n=this.getMobileStyles(t,e),r=this.getDesktopStyles(t,e),o=this.getLargeScreenStyles(t,e),i="\n            ".concat(n,"\n\n            @media only screen and (min-width : ").concat(1023,"px) {\n                ").concat(r,"\n            }\n\n            @media only screen and (min-width : ").concat(1920,"px) {\n                ").concat(o,"\n            }\n        "),a=document.createElement("style");a.setAttribute("id",t.id),a.appendChild(document.createTextNode(i)),document.getElementsByTagName("head")[0].appendChild(a)}},{key:"getMobileStyles",value:function(t,e){return"\n            .rfdialog__overlay {\n                background-color: ".concat(t.actions.rf_settings_overlay_background,";\n                width: 100%;\n                height: 100%;\n                position: fixed;\n                z-index: 1000001;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                height: 100vh;\n                top: 0;\n            }\n\n            #rfdialog-").concat(t.id,".rfdialog {\n                padding: 0;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__wrapper {\n                display: flex;\n                flex-direction: column;\n                justify-content: flex-end;\n                width: 330px;\n                min-height: 626px;\n                position: relative;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__close {\n                z-index: 1;\n                font-size: 28px;\n                cursor: pointer;\n                position: absolute;\n                right: 20px;\n                top: 20px;\n                line-height: 10px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__close-icon {\n                color: white;\n                font-style: normal;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__background {\n                width: 100%;\n                height: 185px;\n\n                background-size: cover;\n                background-repeat: no-repeat;\n                background-position: top;\n                background-image: ").concat(t.actions.rf_settings_mobile_bg_image?"url(".concat(t.actions.rf_settings_mobile_bg_image,")"):"none",";\n                background-color: ").concat(t.actions.rf_settings_bg_image_color,";\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__content {\n                display: flex;\n                flex-direction: column;\n                padding: 24px 20px 20px 20px;\n                flex: 1;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts {\n                display: flex;\n                flex-direction: column;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-header {\n                margin: 0;\n                font-size: 32px;\n                color: ").concat(t.actions.rf_settings_fill_color||"white",";\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-header::before {\n                content: attr(text-mobile);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-message {\n                font-size: 18px;\n                color: ").concat(t.actions.rf_settings_fill_color||"white",";\n                padding: 10px 0 10px 0;\n                margin: 0;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-message::before {\n                content: attr(text-mobile);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions {\n                display: flex;\n                flex-direction: column;\n                margin-top: auto;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions .rfdialog__actions-button:not(:first-child) {\n                margin-top: 20px;\n             }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions-button {\n                font-size: 15px;\n                padding: 12px 20px 12px 20px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions-button-primary {\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions-button-secondary {\n                color: #0037c5;\n                margin-top: 10px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__countdown {\n                opacity: .7;\n                text-align: center;\n                padding: 10px 0 10px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__legal {\n                padding-top: 16px;\n                font-size: 10px;\n                line-height: 14px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__legal-long {\n\n            }\n        ")}},{key:"getDesktopStyles",value:function(t,e){var n=!!t.actions.rf_settings_privacy_policy_text;return"\n            .rfdialog__overlay {\n            }\n\n            #rfdialog-".concat(t.id,".rfdialog {\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__wrapper {\n                width: fit-content;\n                flex-direction: row;\n                min-height: 580px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__close {\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__close-icon {\n                color: black;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__background {\n                background-position: top;\n                background-image: ").concat(t.actions.rf_settings_bg_image?"url(".concat(t.actions.rf_settings_bg_image,")"):"none",";\n                background-color: ").concat(t.actions.rf_settings_bg_image_color,";\n                height: auto;\n                width: 388px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__content {\n                width: 324px;\n                padding: 56px 32px 32px 32px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts {\n                height: 100%;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-header {\n                font-size: 40px;\n                font-weight: 900;\n                line-height: 40px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-header::before {\n                content: attr(text);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-message {\n                font-size: 16px;\n                font-weight: 400;\n                line-height: 22px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-message::before {\n                content: attr(text);\n                white-space: break-spaces;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions {\n                flex-direction: ").concat(n?"row":"column",";\n                align-items: ").concat(n?"center":"initial",";\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions .rfdialog__actions-button:not(:first-child) {\n                margin-top: ").concat(n?"0":"10px",";\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions-button {\n                font-size: 12px;\n                width: 50%;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions-button-primary {\n                margin-right: ").concat(n?"16px":"0",";\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions-button-secondary { \n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__countdown {\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__legal {\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__legal-long {\n\n            }\n        ")}},{key:"getLargeScreenStyles",value:function(t,e){return"\n            #rfdialog-".concat(t.id,".rfdialog {\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__wrapper {\n                min-height: 842px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__content {\n                width: 562px;\n                padding: 76px 48px 48px 48px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__background {\n                width: 562px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-header {\n                font-size: 60px;\n                line-height: 60px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__texts-message {\n                font-size: 28px;\n                line-height: 36px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions {\n                flex-direction: row;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions .rfdialog__actions-button:first-child {\n                margin-right: 15px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions .rfdialog__actions-button:not(:first-child) {\n                margin-top: 0;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__actions-button {\n                font-size: 15px;\n                width: 221px;\n            }\n\n            #rfdialog-").concat(t.id," .rfdialog__legal {\n                padding-top: 24px;\n                font-size: 14px;\n                line-height: 18px;\n            }\n        ")}},{key:"onDismiss",value:function(t,e,n){var r,o,i=pt[n],a=null!==(r=t.actions)&&void 0!==r&&r.rf_metadata?null===(o=t.actions)||void 0===o?void 0:o.rf_metadata[i]:null;a&&this.openLinkedPrompt(a,e,"decline"),this.closeDialog(t.id),this.sendDismiss(t,n).then().catch((function(t){}))}},{key:"onPrimaryAccept",value:function(t,e){var n,r,o=null===(n=t.actions.rf_metadata)||void 0===n?void 0:n.accept,i=t.id;o&&this.goToRoute(o),this.closeDialog(i),(0,y.X2)("trackModalGoal",{pageUrl:window.location.href,pageType:CBS.Tracking.utag_data.pageType,eventModalGoal:1,modalId:t.id,modalName:t.name,modalSourceId:e.id,modalSource:e.click_id,modalVariantId:t.action_group_id,modalVariantName:t.action_group_name,modalMessage:"".concat(t.actions.rf_retention_title," ").concat(t.actions.rf_retention_message,"}"),ctaText:t.actions.rf_retention_confirm_button_text});var a=null===(r=t.actions)||void 0===r||null===(r=r.rf_metadata)||void 0===r?void 0:r.linkedPromptAccept;a&&this.openLinkedPrompt(a,e,"goal"),this.sendGoal(t).then().catch}))}},{key:"onSecondaryAccept",value:function(t,e){var n,r=t.actions.rg_metadata.secondaryAccept;r&&this.goToRoute(r),this.closeDialog(t.id);var o=null===(n=t.actions)||void 0===n||null===(n=n.rf_metadata)||void 0===n?void 0:n.linkedPromptSecondaryAccept;o&&this.openLinkedPrompt(o,e,"goal")}},{key:"goToRoute",valu}},{key:"openLinkedPrompt",value:function(t,e,n){var r=this.prompts.find}));e.click_id="".concat(e.click_id," - ").concat(n),r&&this.openPrompt(r,e)}},{key:"closeDialog",value:function(t){delete this.openedPrompts[t];var e=document.getElementById("rfdialog-".concat(t));if(null==e||e.close(),null==e||e.remove(),document.body.style.overflow="initial",0===Object.keys(this.openedPrompts).length){var n=document.getElementById("rfdialog__overlay");null==n||n.remove()}}},{key:"sendImpression",value:function(t){var e={"user-id":this.userId},n={device_type:this.deviceType,action_group_id:t.action_group_id};return at().get("".concat(this.endpoint,"/paths/").concat(t.id,"/impression"),{headers:e,params:n})}},{key:"sendDismiss",value:function(t,e){var n={"user-id":this.userId},r={click:e,device_type:this.deviceType,action_group_id:t.action_group_id};return at().get("".concat(this.endpoint,"/paths/").concat(t.id,"/dismiss"),{headers:n,params:r})}},{key:"sendGoal",value:function(t){var e={"user-id":this.userId},n={device_type:this.deviceType,action_group_id:t.action_group_id};return at().get("".concat(this.endpoint,"/paths/").concat(t.id,"/goal"),{headers:e,params:n})}}])&&dt(e.prototype,n),r&&dt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var vt=n(87861),gt=n.n(vt),mt=function(){var t="continuous_play_".concat(CBS.Registry.user.profile_id),e=localStorage.getItem(t);return"true"==e||!e};!function(){window.CBS=window.CBS||{},CBS.Tracking={};var t=!1,e=setInterval((function(){"undefined"==typeof om||t||(t=!0,CBS.Promises.Tracking.resolve(),clearInterval(e))}),200);CBS.Tracking={utag_data:{},setMvpdPartner:function(){var t=function(t){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var r=e[n].split("="),o=decodeURIComponent(r[0].trim()),i=r.length>1?r[1]:"";if(o==t)return decodeURIComponent(i)}return""}("mvpd_authz");if(t){var e=JSON.parse(t);if(e.mvpd_name&&e.mvpd_name.length>1){this.utag_data.mvpdPartner=e.mvpd_display_name;var n=e.token.match("<mvpdId>(.*)</mvpdId>");2==n.length&&n[1].length>1&&(this.utag_data.mvpdPartnerId=n[1]),this.utag_data.mvpdAuthenticated="1"}else this.utag_data.mvpdAuthenticated="0"}},SetTracking:function(t){var e,n,r;CBS.Registry.platform.isMobile?this.utag_data.deviceType="mobile":this.utag_data.deviceType="desktop",this.utag_data.siteEdition=t.tealium.siteEdition,CBS.Registry.siteEdition=t.tealium.siteEdition,this.utag_data.siteType="responsive web",void 0!==t.tealium.showTitle&&(this.utag_data.showTitle=t.tealium.showTitle),void 0!==t.tealium.movieBrowseCategory&&(this.utag_data.movieBrowseCategory=t.tealium.movieBrowseCategory),void 0!==t.movieId&&(this.utag_data.movieId=t.movieId,this.utag_data.movieTitle=t.movieTitle,this.utag_data.movieGenre=void 0!==window.__genre?window.__genre:t.tealium.movieGenre),void 0!==t.subscriptionLevel&&(this.utag_data.subscriptionLevel=t.subscriptionLevel),void 0!==t.tealium.showSectionTitle&&(this.utag_data.showSectionTitle=t.tealium.showSectionTitle),void 0!==t.tealium.movieSectionTitle&&(this.utag_data.movieSectionTitle=t.tealium.movieSectionTitle),void 0!==t.tealium.movieGenre&&(this.utag_data.movieGenre=t.tealium.movieGenre),void 0!==t.tealium.showBrowseCategory&&(this.utag_data.showBrowseCategory=t.tealium.showBrowseCategory),void 0!==t.showGenre&&(this.utag_data.showGenre=t.showGenre,t.tealium.showGenre=t.showGenre),void 0!==t.tealium.showId&&(this.utag_data.showId=t.tealium.showId),void 0!==t.tealium.showSeriesId&&(this.utag_data.showSeriesId=t.tealium.showSeriesId),void 0!==t.tealium.showEpisodeLabel&&(this.utag_data.showEpisodeLabel=t.tealium.showEpisodeLabel),void 0!==t.pageURL&&(this.utag_data.pageURL=t.pageURL),void 0!==t.status&&(this.utag_data.status=t.status),void 0!==t.DW_page_type&&(this.utag_data.pageType=t.DW_page_type,this.utag_data.pageType=this.utag_data.pageType.toLowerCase(),this.utag_data.articleType=this.utag_data.pageType),this.utag_data.autoPlayEnabled=null!==(e=1==mt()?"1":"0")&&void 0!==e?e:"1",$.extend(this.utag_data,t.tealium),this.utag_data.packageStatus=null!==(n=CBS.Registry.user.packageStatus)&&void 0!==n?n:"";var o,i=t.tealium.showDayPart,a=null!==(r=t.tealium.showGenre)&&void 0!==r?r:"",s=!!this.utag_data.siteSection,c=!!this.utag_data.siteHier;if(i&&a&&this.utag_data.pageType&&this.utag_data.showTitle){var u=this.utag_data.showTitle.toLowerCase().replace("!","");c||(this.utag_data.siteHier=[i,a,u,this.utag_data.pageType].join("|")),this.utag_data.showSecCategory=this.utag_data.pageType,this.utag_data.showGenre=t.tealium.showGenre,s||(this.utag_data.siteSection=this.utag_data.showDaypart=t.tealium.showDayPart)}else s||(this.utag_data.siteSection=this.utag_data.pageType),c||(this.utag_data.siteHier=this.utag_data.pageType);if(s)o=this.utag_data.siteSection;else if(this.utag_data.section){var l=(o=this.utag_data.section).split("|");this.utag_data.siteSection=l[0]}o&&!c&&(this.utag_data.siteHier=o),void 0!==this.utag_data.registrationDriver&&(this.utag_data.userRegDriver=this.utag_data.registrationDriver),void 0===t.__CBS_HOME__?this.utag_data.show=this.utag_data.showTitle:this.utag_data.pageType="front_door",this.utag_data.userRegId=CBS.Registry.user.id||"",this.utag_data.userType=CBS.Registry.user.sb;try{void 0!==window.__page_uuid&&(this.utag_data.pageViewGuid=window.__page_uuid)}catch(t){}void 0!==t.BK_sb&&(this.utag_data.BK_sb=t.BK_sb),void 0!==t.userType&&(this.utag_data.userType=t.userType),void 0!==t.userHash&&(this.utag_data.userHash=t.userHash),"undefined"!=t.brandPlatformId&&(this.utag_data.brandPlatformId=t.brandPlatformId),void 0!==t.videoUTAG&&1==t.videoUTAG&&(this.utag_data.brandPlatformId=t.brandPlatformId,this.utag_data.vod_type=t.vod_type,this.utag_data.mediaContentType=t.mediaType,this.utag_data.showEpisodeId=t.showEpisodeId,this.utag_data.showEpisodeTitle=t.showEpisodeTitle),void 0!==t.tealium.contentBrand?this.utag_data.contentBrand=t.tealium.contentBrand:this.utag_data.contentBrand="na",document.location.href.indexOf("/watch-free")>1&&(this.utag_data.contentBrand="na"),(document.location.href.indexOf("/shows/")>1||document.location.href.indexOf("/movies/")>1)&&"home"==this.utag_data.pageType&&(this.utag_data.spliceEnabled=$(".marqueeVideo").length?"1":"0"),CBS.Registry.context_override=$.extend(CBS.Registry.context_override,t.tealiumOverride),CBS.Registry.context_override&&(this.utag_data=$.extend(this.utag_data,CBS.Registry.context_override)),(document.location.href.indexOf("/all-access")>1||document.location.href.indexOf("/live-tv")>1)&&(void 0!==this.utag_data.order_refnum&&(this.utag_data.purchaseOrderRefNum=this.utag_data.order_refnum),void 0!==this.utag_data.show&&(this.utag_data.show="",this.utag_data.showId="",this.utag_data.showTitle=""),void 0!==this.utag_data.eventType&&(this.utag_data.pageEvent=this.utag_data.eventType)),document.location.href.indexOf("/live-tv")>1&&(this.utag_data.mediaContentType="live",void 0!==this.utag_data.isSPA&&this.utag_data.isSPA||(this.utag_data.channelBrowseCategory="all")),window.localStorage.getItem("internal_search_referral")&&(this.utag_data.internalSearchReferral="true",window.localStorage.removeItem("internal_search_referral"));try{this.setDesktopShowNavTracking(),this.setDesktopActivityMapGlobalNavShowsSubNav(),this.setDesktopActivityMapWatchRelatedShows(),this.setMvpdPartner(),this.setOverrides(t),this.setAdPath(t)}catch(t){console.log(t)}return this.utag_data},setAdPath:function(t){if(void 0===this.utag_data.path){var e=this.utag_data.pageType?this.utag_data.pageType.replace(/_/gi,"-"):"home";if(void 0!==t.__CBS_HOME__)this.utag_data.path="home";else if(t.tealium&&t.tealium.showTitle&&t.tealium.showDayPart){var n=[t.tealium.showTitle.replace(/ /gi,"-").replace(/[\[\]']+|&|:|;|!|[,.]|\+/gi,"").replace("--","-").toLocaleLowerCase(),e],r=t.tealium.showDayPart.replace(/ /gi,"-");"not"!=r&&n.unshift(r),this.utag_data.path=n.join("/")}else this.utag_data.path=e}},setDesktopShowNavTracking:function(){if(!CBS.Registry.homepage)try{$("#globalShowHeader .menuItems a").each((function(t){$(this).on("click",(function(e){CBS.Tracking.setClickTrackingBeforeHref(e,$(this),{item:"show nav|"+$(this).text().toLowerCase()+"|pos"+(t+1)+"|click"})})),$(this).attr("aa-link","show nav|"+$(this).text().toLowerCase()+"|"+(t+1)+"|click")})),$("#marqueeShowHeader .menuItems a").each((function(t){$(this).on("click",(function(e){CBS.Tracking.setClickTrackingBeforeHref(e,$(this),{item:"show nav|"+$(this).text().toLowerCase()+"|pos"+(t+1)+"|click"})})),$(this).attr("aa-link","show nav|"+$(this).text().toLowerCase()+"|"+(t+1)+"|click")})),$("#tryAllAccessButton").click((function(t){CBS.Tracking.setClickTrackingBeforeHref(t,$(this),{item:"Try One Week FREE|"+utag_data._pageName+"|marquee|branding|click"})})),$(".watchLatestButton").click((function(t){CBS.Tracking.setClickTrackingBeforeHref(t,$(this),{item:"Watch Latest|"+utag_data._pageName+"|marquee|branding|click"})})),$("#allAccessMarqueeContainer").click((function(t){CBS.Tracking.setClickTrackingBeforeHref(t,$(this),{item:"Watch Latest|"+utag_data._pageName+"|drawer|branding|click"})}))}catch(t){console.warn(t)}},setOverrides:function(t){if((document.location.href.indexOf("/schedule")>1||document.location.href.indexOf("/watch")>1&&document.location.href.indexOf("/watch_magazine")<1||"show listings"==this.utag_data.showTitle||document.location.href.indexOf("/user/mycbs")>1||document.location.href.indexOf("/user/signup")>1)&&(this.utag_data.showTitle=null,this.utag_data.showId=null,this.utag_data.articleType=null),document.location.href.indexOf("/user/mycbs")>1&&(this.utag_data.pageType="mycbs"),document.location.href.indexOf("/watch")>1&&document.location.href.indexOf("/watch_magazine")<1&&(this.utag_data.siteSection="other",this.utag_data.siteHier="other|other|watch|home",this.utag_data.pageType="video_door"),"show listings"==this.utag_data.showTitle&&(this.utag_data.pageType="category_doors"),document.location.href.indexOf("/roku")>1&&(this.utag_data.pageType="roku_activation",this.utag_data.siteHier="home|roku_activation"),document.location.href.indexOf("/rokusweeps")>1&&(this.utag_data.pageType="roku_sweeps",this.utag_data.siteHier="home|roku_sweeps"),document.location.href.indexOf("/holidaysweeps")>1&&(this.utag_data.pageType="holiday_sweeps",this.utag_data.siteHier="sweepstakes|holiday_sweeps"),document.location.href.indexOf("/movies/")>1){var e=document.location.href.split("/movies/")[1].split("/");this.utag_data.showGenre=null,this.utag_data.showBrowseCategory=null,this.utag_data.userType=t.userType;var n=document.referrer.split("/");(document.location.href.match(/.*\/movies\/$/)||[]).length>0?(this.utag_data.movieBrowseCategory="popular",this.utag_data.pageURL="/movies/"):n.length<=6&&(void 0===this.utag_data.movieId&&document.referrer.indexOf("/movies/")>1?(this.utag_data.movieGenre=null,1===e.length?(this.utag_data.movieBrowseCategory="popular",this.utag_data.pageURL="/movies/"):(this.utag_data.movieBrowseCategory=e[0],this.utag_data.pageURL="/movies/"+e[0]+"/")):this.utag_data.pageType="movie")}if(document.location.href.indexOf("/browse/")>1){var r=document.location.href.split("/browse/")[1].split("/");null===this.utag_data.showSeriesId?(this.utag_data.showGenre=null,this.utag_data.movieGenre=null,this.utag_data.movieBrowseCategory=null,1===r.length?(this.utag_data.showBrowseCategory="popular",this.utag_data.pageURL="/shows/"):(this.utag_data.showBrowseCategory=r[0],this.utag_data.pageURL="/shows/"+r[0]+"/")):void 0!==t.tealium.pageType?this.utag_data.pageType=t.tealium.pageType:this.utag_data.pageType="show"}},setViewTrackin},setClickTrackingBeforeHref:function(t,e,n){t.preventDefault();var r=e.attr("href"),o=e.attr("target");try{om.trackClick(n),setTimeout((function(){"_blank"==o||"_new"==o?window.open(r):window.location.href=r}),500)}catch(t){"_blank"==o||"_new"==o?window.open(r):window.location.href=r}},setTrackSocialClic},clickTrackButton:function(t){try{om.trackClick({item:utag_data.showId+"|"+utag_data._pageType+"|"+t})}catch(t){}},clickTrackTaboola:function(t){try{$("body").delegate("[om-event]","click"}))}catch(t){}},mt_ran},getPageGuid:function(){var t=uuid.v4();om.trackView({pageViewGuid:t});try{window.__page_uuid=t,googletag.pubads().setTargeting("vguid",t)}catch(t){}},setDesktopActivityMapGlobalNavShowsSubNav:function(){var t=$("#globalShowsDropDown .show-nav-link");$.each(t,(function(t){var e=$(this).text().toLowerCase();$(this).attr("aa-link","global nav|shows|"+e+"|"+(t+1)+"|click")}))},setDesktopActivityMapWatchRelatedShows:function(){$("#relatedShowsCarousel").on("DOMNodeInserted","#relatedShowsCarousel",(function(){var t=$(".jcarousel-item .relatedShows .wp-tooltip");$.each(t,(function(t){$(this).attr("href");var e=$(this).attr("title").toLowerCase();$(this).attr("aa-link","Show|"+CBS.Registry.Show.name+"|Related Shows|"+e+"|"+(t+1))}))}))}}}();n(47261),n(21187);function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}!function(t){t.fn.tip=function(e){var n=t.extend({id:"",on:"click",offset:[],offsetX:"",offsetY:"",onBeforeShow:"",onBeforeHide:""},e);return this.each((function(){0==n.offset.length&&(n.offset[0]=30,n.offset[1]=t(this).outerWidth()/2-t(n.id).outerWidth()/2),t(this).bind(n.on,(function(e){e.stopPropagation(),t(n.id).find(".box-arrow-up").css("left",t(n.id).outerWidth()/2-7),t(n.id).css("top",n.offset[0]).css("left",n.offset[1]).toggle(),""!=n.offsetY&&t(n.id).css("top",n.offsetY),""!=n.offsetX&&t(n.id).css("left",n.offsetX),"function"==typeof n.onBeforeShow&&n.onBeforeShow()})),t(n.id).find(".close").bind("click",(function(e){e.stopPropagation(),"function"==typeof n.onBeforeHide&&n.onBeforeHide(),t(n.id).hide()}))}))},t.fn.showHeaderMenu=function(e){var n=t.extend({id:"",offset:[],onBeforeShow:"",onBeforeHide:""},e);return this.each((function(){t(this).hover((function(){"function"==typeof n.onBeforeShow&&n.onBeforeShow(),t(n.id).show()}),(function(){"function"==typeof n.onBeforeHide&&n.onBeforeHide(),t(n.id).hide()}))}))},t.fn.fixImages=function(e){var n=t.extend({fallback:"/assets/mobile/images/site/490x268_VideoThumbs_Generic.jpg"},e),r=function(e){t(e).attr("src",n.fallback),"object"==yt(n.css)&&t(e).css(n.css)};return this.each((function(){var e=t(this).find("img");e.on("error"})),""==e.attr("src")&&r(e)}))},t.fn.mask=function(e){var n={bgColor:"#000",className:"cbs-ui-mask",opacity:"0.7",zIndex:500001},r=t(document).height();n=t.extend(n,e);var o=this;return this.show=function(){return 0==t("."+n.className).length&&(o.append('<div class="'+n.className+'" />'),t("."+n.className).css("top",0).css("left",0).css("width","100%").css("height",r).css("z-index",n.zIndex).css("display","block").css("position","absolute").css("opacity",n.opacity).css("background-color",n.bgColor)),o},this.hide=function(){return t("."+n.className).remove(),o},this},t.fn.cbsOverlay=function(e){var n={maskClassName:"cbs-ui-mask",target:"",closeTargetClassName:"close",onClose:"",tracking:{onView:"",onClickCloseIcon:"",otherEvents:""}};n=t.extend(n,e);var r=this,o=t("body").mask({className:n.maskClassName});return this.invoke=function(t,e){if(null!=t||""!=t)try{"string"==typeof t&&window[t](e),"function"==typeof t&&t(e)}catch(t){console.log("UI.cbsOverlay.invoke: "+t.message)}},this.hide=function(e){return t(r).hide(),o.hide(),r.invoke(n.onClose,e),r},this.tracking={onView:function(){r.invoke(n.tracking.onView)},otherEvent}},this.each((function(){o.show(),t(this).css("position","fixed").css("top","250px").css("left","50%").css("right","0").css("bottom","0").css("transform","translate(-50%,-20%)").css("msTransform","translate(-50%,-20%)").css("zIndex",500100),r.tracking.onView(),t(r).find("."+n.closeTargetClassName).each}))}))},t.fn.overlay=function(e){return t(this).cbsOverlay(),"function"==typeof e.onLoad&&e.onLoad(),{load:function(){}}},t.fn.scrollable=function(){t(this).slick({variableWidth:!0,prevArrow:'<a class="carousel-prev focusable"></a>',nextArrow:'<a class="carousel-next focusable"></a>'})}}(jQuery);n(36699);var bt,w},xt=(bt=window.location.hostname).substring(bt.lastIndexOf(".",bt.lastIndexOf(".")-1));function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==St(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===St(i)?i:String(i)),r)}var o,i}!function(t){if(-1!=document.cookie.indexOf("CBS_ADV_VAL"));else{var e=new Array("a","b","c","d");wt(e);var n=e[0];document.cookie="CBS_ADV_VAL="+n+";domain="+t+";path=/"}}(xt),function(t){if(-1!=document.cookie.indexOf("CBS_ADV_SUBSES_VAL"));else{var e=new Array("1","2","3","4");wt(e);var n=e[0];document.cookie="CBS_ADV_SUBSES_VAL="+n+";domain="+t+";path=/"}}(xt);var kt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getFallBackImage",value:function(t,e,n){return t.offsetWidth>t.offsetHeight?n:e}}],(n=null)&&_t(e.prototype,n),r&&_t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Tt=n(97934);n(87424),n(29276);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return(e=Pt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pt(r.key),r)}}function Pt(t){var e=function(t,e){if("object"!==Et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Et(e)?e:String(e)}var Lt=function(}var e,n,r;return e=t,(n=[{key:"fetchLocation",value:function(){var t=this;return new Promise((function(e,n){var r;null===(r=t.__getFromCookie())&&null===(r=t.__getFromCache())?navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(r){if(r&&r.coords&&r.coords.latitude&&r.coords.longitude){var o=t._parseLocationObj(r);t.__saveToCache(o),e(o),sessionStorage.getItem("hasTrackedLocationShare")&&sessionStorage.removeItem("hasTrackedLocationShare"),t._trackLocationShare(!1)}else t.__fallback(e,n)}),(function(){t.__fallback(e,n)}),{timeout:1e4,maximumAge:t.maxAge,enableHighAccuracy:!1}):e(r)}))}},{key:"__getFromCookie",value:function(){var t=document.cookie.match(new RegExp("(^| )latlon=([^;]+)"));if(t){var e=decodeURIComponent(t[2]).split(",");return{coords:{latitude:e[0],longitude:e[1]}}}return null}},{key:"_trackLocationShare",value:function(t){var e=sessionStorage.getItem("hasTrackedLocationShare"),n=t?"trackShareLocationDisabled":"trackShareLocationEnabled",r={locationShared:Number(!t).toString()};e||((0,y.X2)(n,r),sessionStorage.setItem("hasTrackedLocationShare",1))}},{key:"_parseLocationObj",value:function(t){var e=+(t.coords?t.coords.latitude:t.location.lat),n=+(t.coords?t.coords.longitude:t.location.lng);return{coords:{latitude:e.toFixed(2),longitude:n.toFixed(2)},isFallback:void 0!==t.isFallback}}},{key:"__saveToCache",value:function(t){var e={pos:t,expires:(new Date).getTime()+this.maxAge};window.sessionStorage.setItem("geo_cache",JSON.stringify(e))}},{key:"__getFromCache",value:function(){var t=window.sessionStorage.getItem("geo_cache");if(t){var e=JSON.parse(t);if(e&&e.pos&&e.expires>(new Date).getTime())return e.pos}return null}},{key:"__fallback",value:function(t,e){var n,r=this;r._trackLocationShare(!0),null!==(n=CBS.Registry.Features)&&void 0!==n&&n.geo_location_google_api?r.__fetchLatLngWithGoogleApi(t,e):r.__fetchLatLngWithMaxmind(t,e)}},{key:"__fetchLatLngWithGoogleApi",value:function(t,e){var n=this;$.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyBHfXqKCjfVvt8hBsZ36kZTWEr6sr0SFuA",(function(r){if(r&&r.location&&r.location.lat&&r.location.lng){r.isFallback=1;var o=n._parseLocationObj(r);n.__saveToCache(o),t(o)}else e()}),"json").fail((function(){}))}},{key:"__fetchLatLngWithMaxmind",value:function(t,e){var n,r,o,i;!CBS.Registry.defaultGeolocation||null!==(n=CBS.Registry.geoLoc)&&void 0!==n&&n.lat&&null!==(r=CBS.Registry.geoLoc)&&void 0!==r&&r.lng?null!==(o=CBS.Registry.geoLoc)&&void 0!==o&&o.lat&&null!==(i=CBS.Registry.geoLoc)&&void 0!==i&&i.lng?t(this._parseLocationObj({location:Ot({},CBS.Registry.geoLoc)})):e():t(this._parseLocationObj({location:{lat:40.7128,lng:-74.006}}))}}])&&At(e.prototype,n),r&&At(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==It(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==It(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===It(i)?i:String(i)),r)}var o,i}var Rt=function(}var e,n,r;return e=t,(n=[{key:"getStorageDMA",value:function(){try{return JSON.parse(localStorage.getItem(this.localStorageName))}catch(t){return null}}},{key:"getDMAUrlDataAdapterSchedule",value:function(){try{var t="",e=this.getStorageDMA();if(e)return e.forEach((function(e){e.dma&&e.stationId&&(t+=""!=t?",":"",t+=e.dma+"|"+e.stationId+"|"+e.stationSlug)})),t}catch(t){this.removeStorageDMA()}return""}},{key:"getDMAStationIdStringOnNow",value:function(){try{var t="",e="",n=this.getStorageDMA();if(n)return n.forEach((function(n){n.dma&&n.stationId&&(t+=""!=t?",":"",t+=n.dma,e+=""!=e?",":"",e+=n.stationId)})),[t,e]}catch(t){}return[null,null]}},{key:"getCurrentLocation",valu}},{key:"setCurrentLocation",value:function(t){localStorage.setItem(this.localStorageLocation,JSON.stringify(t))}},{key:"setStorageDMA",valu}},{key:"removeStorageDMA",valu}}])&&Nt(e.prototype,n),r&&Nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t}function Mt(){Mt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};u(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==n&&r.call(S,a)&&(w=S);var _=b.prototype=m.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Bt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,n,r){var o=d;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Bt(e)+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},k(T.prototype),u(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(_),u(_,c,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Ht(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,ounction qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Bt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Bt(i)?i:String(i)),r)}var o,i}var Wt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.GeoLocation=new Lt,this.DMAStorage=new Rt,this.location=null,this.currentLocation=this.DMAStorage.getCurrentLocation();var e=$t(this.DMAStorage.getDMAStationIdStringOnNow(),2),n=e[0],r=e[1];this.dma=n,this.stationId=r}var e,n,r,i,a;return e=t,n=[{key:"updateLocation",value:function(){var t={lat:this.location.coords.latitude,lon:this.location.coords.longitude};this.DMAStorage.setCurrentLocation(t)}},{key:"getDMA",value:(i=Mt().mark((function t(){var e,n,r;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.GeoLocation.fetchLocation();case 3:if(this.location=t.sent,null==this.currentLocation?(this.updateLocation(),this.dma=null):this.currentLocation.lat==this.location.coords.latitude&&this.currentLocation.lon==this.location.coords.longitude||(this.updateLocation(),this.dma=null),null!==this.dma){t.next=13;break}return t.next=8,fetch(CBS.Registry.region.prefix+"/live-tv/dma/"+this.location.coords.latitude+"/"+this.location.coords.longitude);case 8:return e=t.sent,t.next=11,e.json();case 11:(n=t.sent).result.dmas&&this.parseResult(n);case 13:return r={dma:this.dma?this.checkDMAValue(this.dma):null,stationId:this.stationId,lat:this.location.coords.latitude,lon:this.location.coords.longitude},this.saveCookie(r),t.abrupt("return",r);case 18:t.prev=18,t.t0=t.catch(0),console.log("ERROR",t.t0);case 21:case"end":return t.stop()}}),t,this,[[0,18]])})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){Ht(o,n,r,a,s,"next",t)}function s(t){Ht(o,n,r,a,s,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"saveCookie",value:function(t){t&&t.dma&&null!==t.dma&&(0,o.d8)("dmaInfo",t.dma,{path:"/",expires:new Date(Date.now()+864e5)})}},{key:"checkDMAValue",value:function(t){if(""!==t){var e=Dt(new Set(t.split(",")));t=e[0]}else t=null;return t}},{key:"parseResult",value:function(t){var e="",n="",r=[];t.result.dmas.forEach((function(t){e+=""==e?t.dma:","+t.dma,n+=""==n?t.stationId:","+t.stationId,r.push({dma:t.dma,stationId:t.stationId,stationSlug:t.callSignId.toLowerCase()})})),this.DMAStorage.setStorageDMA(r),this.dma=this.checkDMAValue(e),this.stationId=n}}],n&&qt(e.prototype,n),r&&qt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(72342),n(5911);function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(tfunction Xt(t,e,n){return(e=Yt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yt(r.key),r)}}function Yt(t){var e=function(t,e){if("object"!==zt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zt(e)?e:String(e)}var Kt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.brazeParamKeys=["brazeid","brazecampaignname","brazecampaignid","brazemessage","brazesegmentname","brazesegmentid"],this.searchString="",this.brazeTracking={},this.urlParams={},this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=new URLSearchParams(window.location.search);if(this.urlParams=Object.fromEntries(t.entries()),this.urlParams.brazeid){for(var e in this.urlParams){var n;this.brazeParamKeys.includes(e)?this.brazeTracking[e]=null!==(n=this.urlParams[e])&&void 0!==n?n:"":this.searchString+="".concat(e,"=").concat(this.urlParams[e],"&")}this.searchString.length>0&&(this.searchString="?"+this.searchString.slice(0,-1))}}},{key:"appendTrackingData",value:function(t){return this.urlParams.brazeid?Gt(Gt({},t),this.brazeTracking):t}},{key:"removeParamsFromUrl",value:function(){this.urlParams.brazeid&&window.history.replaceState({},document.title,window.location.pathname+this.searchString)}}])&&Jt(e.prototype,n),r&&Jt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(55847);function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Qt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qt(i)?i:String(i)),r)}var o,i}var te,ee=function(}var e,n,r;return e=t,(n=[{key:"postTrackingEvent",value:function(t,e){return window.console.log("VTD: postTrackingEvent: name, payload",t,e),!0}},{key:"filterUndefined",value:function(t){if(0===t)return"0";var e=void 0===t||"undefined"==t?"":t;return e&&(e=e.toString().substring(0,30)),e}},{key:"adobeSource",value:function(t){var e="";return t&&(t.match(/^{data/)&&(e="data"),t.match(/^{utag/)&&(e="utag")),e}},{key:"adobeKey",value:function(t){var e=t;return t?(t.match(/^{data/)&&(e=t.match(/^{data\.(.*)}$/)[1]),t.match(/^{utag/)&&(e=t.match(/^{utag\.(.*)}$/)[1]),e):""}},{key:"adobeValue",value:function(t){var e=t;return t?t.match(/^{data/)?(e=t.match(/^{data\.(.*)}$/),vtg.ts.snapshot[e[1]]):t.match(/^{utag/)?(e=t.match(/^{utag\.(.*)}$/),utag_data[e[1]]):"":""}},{key:"debug",value:function(){var t=this,e="undefined"!=typeof SmartTag;e||console.log("VTD: smartTag NOT enabled");var n,r,o="undefined"!=typeof vtg;o||console.log("VTD: vtg NOT enabled"),Array.from(document.scripts).forEach((function(t){if(t.src.match(/utag\.js/)&&(n=t.src),t.src.match(/smart\.tag\.js/)){var e=t.src.split("?");r=e[0]}t.src.match(/shaka/)&&t.src}));var i=[];Object.keys(utag_data).forEach((function(t){return i[t]=1})),e&&Object.keys(SmartTag.list[0].params.CONTEXT.metadata).forEach((function(t){return i[t]=1})),"undefined"!=typeof vtg&&(Object.keys(vtg.ts.snapshot).forEach((function(t){return i[t]=1})),Object.keys(vtg.config.AdobeMedia.params.customData).forEach}))),i=i.sort();var a=open("url","_blank");return a.document.write('<!doctype html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<title>VTD - Video Tracking Debugger</title>\n</head>\n<body>\n'),a.document.write('<table><tr><td class="header" colspan="2">environment</td></tr>'),a.document.write('<tr><td>page</td><td><a href="'+window.location.href+'" target="_blank">'+window.location.href+"</a></td></tr>"),a.document.write('<tr><td>utag</td><td><a href="'+n+'" target="_blank">'+n+"</a></td></tr>"),e&&a.document.write('<tr><td>smartTag</td><td><a href="'+r+'" target="_blank">'+r+"</a> "+SmartTag.info.version+"</td></tr>"),o&&"undefined"!=typeof avia&&(console.log("VTD: vtgEnabled?",o),a.document.write("<tr><td>avia</td><td>"+avia.buildInfo.playerVersion+"</td></tr>")),a.document.write("<tr><td>API</td><td>"+CBS.Registry.apiHost+"</td></tr>"),o&&e&&a.document.write("<tr><td>sparrow</td><td>"+CBS.Registry.sparrowHost+"</td>"),a.document.write("</tr>"),a.document.write("</table>"),a.document.write('<style type="text/css">tr:nth-child(even) {background: #eee}tr:nth-child(odd) {background: #FFF}table {width: 100%; font-family: Courier; font-size: 12px; margin-bottom: 10px}table, th, td {border: 1px solid;}td {padding: 4px}td {width: auto; overflow: hidden; vertical-align: top; white-space: nowrap }td.header {font-weight: bold; text-align: center; color: white; background-color: black} td.bold {font-weight: bold}td.good {background-color: lightgreen}td.warn {background-color: lightpink}table {border-collapse: collapse;}</style>'),a.document.write('<table><tr><td class="header">key</td><td class="header">utag_data</td>'),o&&e&&(a.document.write('<td class="header">smartTag CONTEXT</td><td class="header">vtg data</td><td class="header">adobe value</td><td class="header">adobe key</td>'),a.document.write("</tr>")),Object.keys(i).sort().forEach((function(n){if(!n.match(/^_/)&&!n.match(/^cp\./)&&!(n.match(/^meta\./)||n.match(/^tealium_/)||n.match(/^ut\./)||n.match(/^dom./))){var r=n,i=t.filterUndefined(utag_data[n]),s=null;e&&(s=t.filterUndefined(window.SmartTag.list[0].params.CONTEXT.metadata[n]));var c=null,u=null,l=null,f=null,d=null;try{o&&void 0!==vtg.ts&&void 0!==vtg.ts.snapshot&&void 0!==vtg.config&&(c=t.filterUndefined(vtg.ts.snapshot()[n]),u=t.filterUndefined(t.adobeValue(vtg.config.AdobeMedia.params.customData[n])),l=t.filterUndefined(vtg.config.AdobeMedia.params.customData[n]),f=t.adobeKey(vtg.config.AdobeMedia.params.customData[n]),d=t.adobeSource(vtg.config.AdobeMedia.params.customData[n]))}catch(t){}var p="",h="";"0"===u||u?p="good":f&&i&&s&&!c&&(p="warn","data"==d&&(h="warn")),f&&(a.document.write('<tr><td class="bold">'+r+"</td><td>"+i+"</td>"),o&&e&&a.document.write("<td>"+s+'</td><td class="'+h+'">'+c+'</td><td class="'+p+'">'+u+"</td><td>"+l+"</td>"),a.document.write("</tr>"))}})),a.document.write("</table>"),a.document.write("</body></html>"),!0}}])&&Zt(e.prototype,n),r&&Zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(tf(window._vtd=new ee,(new Tt.Z).init(),!0===CBS.Registry.Features.braze_sdk){var ae=new Kt;CBS.Tracking.utag_data=ae.appendTrackingData(CBS.Tracking.utag_data),ae.removeParamsFromUrl(),ie(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(79165).then(n.bind(n,79165));case 2:new(0,t.sent.default);case 4:case"end":return t.stop()}}),t)})))()}CBS.Registry.Features.redfast_enabled&&(CBS.Registry.redfastService=new ht({apiDomain:CBS.Registry.redfast_api_domain,appId:CBS.Registry.redfast_app_id,locale:CBS.Registry.region.locale,subscriptionCountry:CBS.Registry.userSubscriptionCountry,userId:CBS.Registry.user.id}));try{te=new B}catch(t){console.error("Header component failed to load")}var se=new ot(te);try{ie(re().mark((function t(){var e,n;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u.isDomestic()&&CBS.Registry.user.id&&CBS.Registry.pageType)||"Search"!=CBS.Registry.pageType&&"HOME"!=CBS.Registry.pageType&&"HOMEPAGE"!=CBS.Registry.pageType){t.next=5;break}return n=new Wt,t.next=4,n.getDMA();case 4:e=t.sent;case 5:se.extraParams=e;case 6:case"end":return t.stop()}}),t)})))()}catch(t){console.error("Search component failed to load"),console.error(t)}var ce=new(gt())({threshold:50,elements_selector:".lazy",callback_finish:function(){document.querySelectorAll(".focusable").forEach((function(t,e){var n=t.getAttributeNames();-1===n.indexOf("aria-label")&&-1!==n.indexOf("label")&&t.setAttribute("aria-label",t.getAttribute("label")),"img"===t.tagName&&-1!==n.indexOf("alt")&&-1===n.indexOf("aria-label")&&(t.setAttribute("aria-label",t.getAttribute("alt")),-1!==n.indexOf("label")&&-1===n.indexOf("aria-label")&&t.setAttribute("aria-label",t.getAttribute("label"))),-1===n.indexOf("role")&&(n.indexOf("href")&&"#"===t.getAttribute("href")?t.setAttribute("role","button"):t.setAttribute("role","link")),-1===n.indexOf("tabindex")&&t.setAttribute("tabindex","0")}))},callback_error:function(t){var e=t.closest(".thumb-wrapper"),n=t.classList.contains("character-img"),r=null;if(null!==t.closest(".avatar_picker_group_container"))r=CBS.Registry.fallbackImage.avatar;else if(e&&!n){var o=CBS.Registry.fallbackImage.poster,i=CBS.Registry.fallbackImage.landscape;r=kt.getFallBackImage(e,o,i)}t.dataset.src!==r&&(t.dataset.src=r,CBS.Registry.lazyImage.resetElementStatus(t),CBS.Registry.lazyImage.update())}});CBS.Registry.lazyImage={resetElementStatu},revalidate:function(){return ce.update()},updat},load:function(t,e){if(t&&void 0!==t.length)for(var n=0;n<t.length;n++)this.load(t[n]);else ce.load(t,e)}},CBS.Registry.bn&&console.log(CBS.Registry.bn),function(){for(var t=document.querySelectorAll("img"),e=function(){var e=t[n];e.onerror=function(){var t=e.closest(".show-image");if(t){var n=kt.getFallBackImage(t,CBS.Registry.fallbackImage.poster,CBS.Registry.fallbackImage.landscape);e.removeAttribute("srcset"),e.src=n}e.onerror=null}},n=0;n<t.length;n++)e()}();n(10045);var ue=n(27940);function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===le(i)?i:String(i)),r)}var o,i}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=he(t);if(e){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function he(t){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},he(t)}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(i,t);var e,n,r,o=pe(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/abtests/xhr/";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).state=e,t.xhrUrl=n,t}return e=i,(n=[{key:"getVariantForTest",value:function(t){var e=[t];return this.getVariantMultipleTests(e)}},{key:"getVariantMultipleTests",value:function(t){var e=this;return new Promise((function(n,r){if("object"===le(t)&&0===Object.keys(t).length&&r("no values to set"),t.filter((function(t){if(e.stateHasVariant(t))return!1;var n=e.getCookieVariant(t);return n?(testVariants.push(e.getSuccessResp(n[t])),!1):void 0})),e.xhrUrl){var o="".concat(e.xhrUrl,"?tests[]=").concat(t.join("&tests[]=")),i=new URLSearchParams(window.location.search).get("set_test_variant");i&&(o+="&set_test_variant=".concat(i)),e.doGet(o).then((function(t){n(t)})).catch((function(t){r(t)}))}}))}},{key:"setVariantCookie",value:function(t,e){var n=this;return new Promise((function(r,o){if(n.xhrUrl){var i="".concat(n.xhrUrl,"set-variant-cookie/?urlOverrideTest=").concat(t,"&urlOverrideVariant=").concat(e);n.doGet(i).then})).catch((function(t){o(t)}))}}))}},{key:"getSuccessResp",valu}},{key:"stateHasVariant",valu}},{key:"getCookieVariant",value:function(t){var e=this.readVariantFromCookie();return!!e.hasOwnProperty(t)&&e}},{key:"readVariantFromCookie",value:function(){var t={},e=this.getVariantCookieValue();return e.length>0&&(t=JSON.parse(unescape(e))),t}},{key:"getVariantCookieValue",value:function(){var t=document.cookie.match("(^|;)\\s*lv\\s*=\\s*([^;]+)");return t?t.pop():""}}])&&fe(e.prototype,n),r&&fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(ue.Z);function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ge(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ge(i)?i:String(i)),r)}var o,i}var ye=function(){function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$abTestHttpService=new ve,this.variantsXhrComplete=!1,this.AbTestsConfigs=CBS.AbTestsConfigs?CBS.AbTestsConfigs:{},this.experimentsModules=null!==(e=this.loadExperimentsModuleInfoFromRegistry())&&void 0!==e?e:{},this.tests=this.__getXhrExperimentsModuleNamesAsArray(),this.addVariantClassesToBody=be}var e,n,r;return e=t,n=[{key:"loadXhrTestsFromRegistry",value:function(){return this.AbTestsConfigs.hasOwnProperty("XhrABTests")&&Object.keys(this.AbTestsConfigs.XhrABTests).length>0?this.AbTestsConfigs.XhrABTests:{}}},{key:"loadTestsConstantsFromRegistry",value:function(){return this.AbTestsConfigs.hasOwnProperty("XhrABTestsConstants")&&Object.keys(this.AbTestsConfigs.XhrABTestsConstants).length>0?this.AbTestsConfigs.XhrABTestsConstants:{}}},{key:"loadExperimentsModuleInfoFromRegistry",value:function(){var t;return this.AbTestsConfigs.hasOwnProperty("modules")&&null!==(t=this.AbTestsConfigs.modules)&&void 0!==t?t:{}}},{key:"__getXhrExperimentsModuleNamesAsArray",value:function(){var t=this;return Object.keys(this.experimentsModules).map((function(e){var n;return!!t.experimentsModules[e].isXHR&&(null===(n=t.experimentsModules[e])||void 0===n?void 0:n.experiment_key)})).filter}))}},{key:"initTests",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tests;return new Promise((function(n,r){t.$abTestHttpService.getVariantMultipleTests(e).then((function(e){var r=e.variants;r&&(t.addVariantsToTracking(r),t.addVariantClassesToBody(r)),n(e)}))}))}},{key:"addVariantsToTracking",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];for(var r in utag_data.optimizelyExp&&(n=utag_data.optimizelyExp.split("|")),t)n.includes("".concat(r,":").concat(t[r]))||n.push("".concat(r,":").concat(t[r]));return Object.keys(t).length>0&&Object.keys(t).forEach((function(e){var r="".concat(e,":").concat(t[e]);n.includes(r)||n.push(r)})),e&&this.trackingVariants(n),n}},{key:"trackingVariants",value:function(t){var e=setInterval((function(){if("undefined"!=typeof om){try{om.trackAction("trackOptimizelyExpXHR",{optimizelyExp:t.join("|")}),utag_data.optimizelyExp=t.join("|")}catch(t){console.error(t)}clearInterval(e)}}),200)}}],n&&me(e.prototype,n),r&&me(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function be(t){var e,n=document.documentElement.querySelector("body"),r=[];for(var o in t)r.push("test-".concat(o,"-").concat(t[o]));(e=n.classList).add.apply(e,r)}var we=n(64920);function xe(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(e),e=setTimeout}),n)}}function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t Oe=function(){function t(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new je({_UDF:!1});_e(this,t),Ee(this,"handleShow",(function(t){n.show(t)})),Ee(this,"handleHide",(function(t){n.hide(t)})),Ee(this,"handleResize",(function(){xe((function(){n.reposition(!0)}))()})),Ee(this,"handleKeyUp"})),Ee(this,"handlePopState",(function(t){n.hide(t)})),Ee(this,"referenceBodyClick"})),r._UDF||console.warn("Tooltip was not constructed with a TooltipConfig param"),this._defaultConfig=new je({_UDF:!1}),this._defaultKeyList=Object.keys(this._defaultConfig),this._breakpoints=null!==(e=r._breakpoints)&&void 0!==e?e:new we.Z,this._observerInnerHtml=null,this._observerBody=null,this._wasClickToShow=!1,this._targetSelector=r.targetSelector,this._targetElement=null,this.setTooltipTargetElement(),this._classNameTooltip="pplus-tooltip",this._classNameTooltipInnerHTML="pplus-tooltip-inner-html",this._classNameCaret="pplus-caret",this._originalWindowWidth=0,this._paddingFromEdge={mobilePortrait:20,mobileLandscape:20,tabletPortrait:40,tabletLandscape:40,desktop:95,desktopWide:95},this._tooltipInnerHtmlBounds=null,this._tooltipCaretBounds=null,this._tooltipTargetBounds=null,this._sameWidthAsBounds=null,this._innerHtmlTargetBounds=null,this.selectorsList=[],r.constructor.name!==this._defaultConfig.constructor.name&&console.error("Tooltip constructor argument is not a",this._defaultConfig.constructor.name,"It is:",r.constructor.name),this._defaultKeyList.forEach})),Object.keys(r).forEach((function(t){n._defaultConfig.hasOwnProperty(t)?n[t]=r[t]:console.warn("Tooltip: property",t,"is not allowed.")})),this.selectorsList.length>0&&this.init()}return Te(t,[{key:"init",value:function(){var t=this,e=document.querySelectorAll(this.selectorsList);this.events.length>0&&e.forEach((function(e){e&&t.events.forEach((function(n){e.addEventListener(n,t.handleShow,!0),"mouseover"!==n&&"focus"!==n||e.addEventListener("mouseover"===n?"mouseleave":"blur",t.handleHide,!0)}))}))}},{key:"handleBodyClick",value:function(t){t.target.classList.contains(this._classNameTooltipInnerHTML)||this.isSelectorOrDescendantOfSelector(t.target)||this.hide(t)}},{key:"isSelectorOrDescendantOfSelector",value:function(t){return this.selectorsList.filter((function(e){var n=document.querySelector(e);if(n)return n===t||n.contains(t)})).length>0}},{key:"attachEvents",value:function(){var t=this;document.addEventListener("click",this.referenceBodyClick,!0),document.addEventListener("keyup",this.handleKeyUp,!1),window.addEventListener("popstate",this.handlePopState,!0),window.addEventListener("resize",this.handleResize,!0),this._observerBody=new ResizeObserver((function(){xe}))()})),this._observerBody.observe(this.getBodyElement())}},{key:"removeEvents",valu}},{key:"getElementBasePosition",valu}},{key:"getBodyElement",valu}},{key:"getTooltipElement",value:function(){return document.querySelector("."+this._classNameTooltip)}},{key:"getTooltipInnerHTMLElement",value:function(){return document.querySelector("."+this._classNameTooltipInnerHTML)}},{key:"getCaretElement",valu}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.getTooltipElement()||(this._originalWindowWidth=window.innerWidth,this.getBodyElement().appendChild(this.generateTooltipHTML()),this.setupObserver(),this.reposition(),this.attachEvents(),this.trackOnShow&&this.trackOnShow(t)),t&&"click"===(null==t?void 0:t.type)&&(this._wasClickToShow=!this._wasClickToShow,this._wasClickToShow||this.hide(t))}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getTooltipElement();e&&this.shouldHide(t)&&(this._wasClickToShow=!1,this.doReset(),this.killObservers(),this.removeEvents(),e.remove(),this.trackOnHide&&this.trackOnHide(t))}},{key:"shouldHide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!this._wasClickToShow||this._wasClickToShow&&-1!==["click","keyup","popstate"].indexOf(null==t?void 0:t.type)}},{key:"generateTooltipHTML",value:function(){var t=document.createElement("div");return t.classList.add(this._classNameTooltip,this.position),t.appendChild(this.generateTooltipBoxHTML()),t.appendChild(this.generateCaretHTML()),t}},{key:"generateTooltipBoxHTML",value:function(){var t=document.createElement("div");return t.classList.add(this._classNameTooltipInnerHTML),t.innerHTML=this.getInnerHtml(),t}},{key:"generateCaretHTML",value:function(){var t=document.createElement("div");return t.classList.add(this._classNameCaret),t}},{key:"getInnerHtml",value:function(){return this.innerHTML}},{key:"setTooltipTargetElement",value:function(){return this._targetElement=document.querySelector(this._targetSelector),this._targetElement||console.warn("Tooltip:setTooltipTargetElement could not find element using ".concat(this._targetSelector,". This might be OK if called from constructor. Not OK if called from show()")),this._targetElement}},{key:"getTooltipTargetElement",value:function(){return this._targetElement||this.setTooltipTargetElement()}},{key:"setTooltipInnerHtmlBounds",value:function(){var t=this.getTooltipInnerHTMLElement();return t?(this._tooltipInnerHtmlBounds=t.getBoundingClientRect(),this._tooltipInnerHtmlBounds):null}},{key:"getTooltipInnerHtmlBounds",value:function(){return this._tooltipInnerHtmlBounds||this.setTooltipInnerHtmlBounds()}},{key:"getInnerHtmlWidth",valu}},{key:"setTooltipTargetBounds",value:function(){return this._tooltipTargetBounds=this.getTooltipTargetElement().getBoundingClientRect(),this._tooltipTargetBounds}},{key:"getTooltipTargetBounds",value:function(){return this._tooltipTargetBounds||this.setTooltipTargetBounds()}},{key:"setTooltipCaretBounds",value:function(){return this._tooltipCaretBounds=this.getCaretElement().getBoundingClientRect(),this._tooltipCaretBounds}},{key:"getTooltipCaretBounds",value:function(){return this._tooltipCaretBounds||this.setTooltipCaretBounds()}},{key:"setInnerHtmlTargetBounds",value:function(){var t=this.innerHtmlTargetSelector[this._breakpoints.getCurrentBreakpointName()];return this._innerHtmlTargetBounds=document.querySelector(t).getBoundingClientRect(),this._innerHtmlTargetBounds}},{key:"getInnerHtmlTargetBounds",valu}},{key:"hasInnerHtmlTarget",value:function(){return this.innerHtmlTargetSelector[this._breakpoints.getCurrentBreakpointName()]}},{key:"setSameAsSelectorBounds",value:function(){var t=this._breakpoints.getCurrentBreakpointName();return this._sameWidthAsBounds=document.querySelector(this.sameWidthAsSelector[t]).getBoundingClientRect(),this._sameWidthAsBounds}},{key:"getSameAsSelectorWidth",value:function(){var t;return(null===(t=this._sameWidthAsBounds)||void 0===t?void 0:t.width)||this.setSameAsSelectorBounds().width}},{key:"useSameAsSelectorWidth",valu}},{key:"reposition",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._targetElement&&(this.getTooltipElement()&&(e&&this.doReset(),this.repositionCaret(),this.setInnerHtmlWidth(),setTimeout((function(){t.repositionInnerHtml()}),1)))}},{key:"doReset",value:function(){this._tooltipInnerHtmlBounds=null,this._tooltipTargetBounds=null,this._tooltipCaretBounds=null,this._sameWidthAsBounds=null,this._innerHtmlTargetBounds=null;var t=this.getTooltipInnerHTMLElement();t.style.display="none",this._originalWindowWidth=window.innerWidth,t.style.display="block"}},{key:"setInnerHtmlWidth",value:function(){var t=this.getTooltipInnerHTMLElement(),e=parseInt(this.widths[this._breakpoints.getCurrentBreakpointName()]);this.useSameAsSelectorWidth()&&(e=this.getSameAsSelectorWidth());var n=this._originalWindowWidth-2*this._paddingFromEdge[this._breakpoints.getCurrentBreakpointName()];e>n&&(e=n),t.style.width=e+"px"}},{key:"repositionInnerHtml",value:function(){var t=this._paddingFromEdge[this._breakpoints.getCurrentBreakpointName()],e=this.getTooltipInnerHTMLElement(),n=this.getTooltipInnerHtmlBounds();if(n&&e){var r=this.getTooltipCaretBounds(),o=this.getTooltipTargetBounds(),i=this.getElementBasePosition(this.getTooltipTargetElement()),a=i.top,s=i.left;a=a-n.height-r.height/2,s=s+o.width/2-n.width/2,this.hasInnerHtmlTarget()&&(s=this.getInnerHtmlTargetBounds().left);var c=this.getInnerHtmlWidth();if(s+c>=this._originalWindowWidth&&(s=this._originalWindowWidth-c-t),s<t&&(s=t),"bottom"===this.position){var u=this.getTooltipCaretBounds().height;a=i.top+2*u+this.getTooltipTargetBounds().height}a+=this.getOffSetTop(),e.style.top=Math.round(a)+"px",e.style.left=Math.round(s)+"px"}}},{key:"getOffSetTop",value:function(){var t=this.offSets[this._breakpoints.getCurrentBreakpointName()].top;return t.includes("px")&&(t=t.split("px")[0]),parseInt(t)}},{key:"setupObserver",value:function(){var t=this;this._observerInnerHtml||(this._observerInnerHtml=new ResizeObserver((function(){xe((function(){t.repositionInnerHtml()}),1)()}))),this._observerInnerHtml.observe(this.getTooltipInnerHTMLElement())}},{key:"killObservers",value:function(){this._observerInnerHtml&&this._observerInnerHtml.unobserve(this.getTooltipInnerHTMLElement()),this._observerBody&&this._observerBody.unobserve(this.getBodyElement())}},{key:"repositionCaret",value:function(){var t=this.getTooltipTargetBounds().width,e=this.getCaretElement(),n=this.getTooltipCaretBounds(),r=Math.round(n.width),o=n.height,i=this.getElementBasePosition(this.getTooltipTargetElement()),a=i.left+t/2-r/2,s=i.top-o/2;"bottom"===this.position&&(s=i.top+o+this.getTooltipTargetBounds().height),s+=this.getOffSetTop(),e.style.left=Math.round(a)+"px",e.style.top=Math.round(s)+"px"}}]),t}(),je=function(){function t(){var e,n,r,o,i,a,s,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_e(this,t),this._UDF=null===(e=u._UDF)||void 0===e||e,this._breakpoints=new we.Z,this._defaultPosition="top",this._defaultEvents=["click"],this._defaultWidths={mobilePortrait:"220px",mobileLandscape:"220px",tabletPortrait:"220px",tabletLandscape:"220px",desktop:"220px",desktopWide:"220px"},this._defaultOffSet={mobilePortrait:{top:"-6px"},mobileLandscape:{top:"-6px"},tabletPortrait:{top:"-6px"},tabletLandscape:{top:"-6px"},desktop:{top:"-6px"},desktopWide:{top:"-6px"}},this._defaultSameWidthAsSelector={mobilePortrait:"",mobileLandscape:"",tabletPortrait:"",tabletLandscape:"",desktop:"",desktopWide:""},this._defaultInnerHtmlTargetSelector={mobilePortrait:"",mobileLandscape:"",tabletPortrait:"",tabletLandscape:"",desktop:"",desktopWide:""},u.targetSelector||this.warn("TooltipConfig:targetSelector is not defined."),this.targetSelector=null!==(n=u.targetSelector)&&void 0!==n?n:"",u.innerHTML||this.warn("TooltipConfig:innerHTML is not defined or empty."),this.innerHTML=null!==(r=u.innerHTML)&&void 0!==r?r:"",this.validateSelectorsList(u.selectorsList),this.selectorsList=null!==(o=u.selectorsList)&&void 0!==o?o:[],this.isValidPosition(u.position),this.position=null!==(i=u.position)&&void 0!==i?i:this.getDefaultTooltipPosition(),this.validateEvents(u.events),this.events=null!==(a=u.events)&&void 0!==a?a:this.getDefaultTooltipEvent(),this.validateTracking(u.trackOnShow,u.trackOnHide),this.trackOnShow=null!==(s=u.trackOnShow)&&void 0!==s?s:null,this.trackOnHide=null!==(c=u.trackOnHide)&&void 0!==c?c:null,this.validateWidths(u.widths),this.widths=u.widths?this.setupWidths(u.widths):this.getDefaultTooltipWidths(),this.validateOffSets(u.offSets),this.offSets=u.offSets?this.setupOffSets(u.offSets):this._defaultOffSet,this.validateSameWidthAsSelector(u.sameWidthAsSelector),this.sameWidthAsSelector=u.sameWidthAsSelector?this.setupSameWidthAsSelector(u.sameWidthAsSelector):this._defaultSameWidthAsSelector,this.validateInnerHtmlTargetSelector(u.innerHtmlTargetSelector),this.innerHtmlTargetSelector=u.innerHtmlTargetSelector?this.setupInnerHtmlTargetSelector(u.innerHtmlTargetSelector):this._defaultInnerHtmlTargetSelector}return Te(t,[{key:"validateSelectorsList",value:function(t){t&&!Array.isArray(t)&&this.warn("TooltipConfig:selectorsList must be an array.")}},{key:"isValidUnit",value:function(t){var e="TooltipConfig:isValidUnit -",n=e;2!==t.split("px").length&&(n+=" The unit ".concat(t," is not valid.")),-1===t.indexOf("px")&&(n+=" The unit ".concat(t," must contain 'px'.")),n!==e&&this.warn(n)}},{key:"validateWidths",value:function(t){var e=this;t&&("object"!==Se(t)?this.warn("Widths is not an object."):Object.keys(t).forEach((function(n){e._breakpoints.getBreakpoint(n)||e.warn("TooltipConfig:validateWidths - Breakpoint",n,"is not valid"),e.isValidUnit(t[n])})))}},{key:"setupWidths",value:function(t){var e=this,n={};return Object.keys(this._breakpoints.getBreakpoints()).forEach((function(r){n[r]=t.hasOwnProperty(r)?n[r]=t[r]:e._defaultWidths[r]})),n}},{key:"setupOffSets",value:function(t){var e=this,n={};return Object.keys(this._breakpoints.getBreakpoints()).forEach((function(r){var o=e._defaultOffSet[r];if(t.hasOwnProperty(r)){var i=t[r];n[r]={top:i.hasOwnProperty("top")?i.top:o.top}}else n[r]=o})),n}},{key:"setupByBreakpoint",value:function(t,e,n){var r=this;this[t]={},Object.keys(this._breakpoints.getBreakpoints()).forEach((function(o){r[t][o]=e.hasOwnProperty(o)&&n.hasOwnProperty(o)?n[o]:e[o]}))}},{key:"validateSameWidthAsSelector",value:function(t){var e=this;t&&("object"!==Se(t)?this.warn("TooltipConfig:sameWidthAsSelector is not an object"):Object.keys(t).forEach((function(n){t.hasOwnProperty(n)&&!e._defaultSameWidthAsSelector.hasOwnProperty(n)&&e.warn("TooltipConfig:sameWidthAsSelector property '".concat(n,"' is not valid"))})))}},{key:"setupSameWidthAsSelector",value:function(t){var e=this,n={};return Object.keys(this._defaultSameWidthAsSelector).forEach((function(r){n[r]=e._defaultSameWidthAsSelector.hasOwnProperty(r)&&t.hasOwnProperty(r)?t[r]:e._defaultSameWidthAsSelector[r]})),n}},{key:"validateInnerHtmlTargetSelector",value:function(t){var e=this;t&&("object"!==Se(t)?this.warn("TooltipConfig:innerHtmlTargetSelector is not an object"):Object.keys(t).forEach((function(n){t.hasOwnProperty(n)&&!e._defaultInnerHtmlTargetSelector.hasOwnProperty(n)&&e.warn("TooltipConfig:innerHtmlTarget property '".concat(n,"' is not valid"))})))}},{key:"setupInnerHtmlTargetSelector",value:function(t){var e=this,n={};return Object.keys(this._defaultInnerHtmlTargetSelector).forEach((function(r){n[r]=e._defaultInnerHtmlTargetSelector.hasOwnProperty(r)&&t.hasOwnProperty(r)?t[r]:e._defaultInnerHtmlTargetSelector[r]})),n}},{key:"validateOffSets",value:function(t){var e=this;t&&("object"!==Se(t)?this.warn("offSets is not an object."):Object.keys(t).forEach((function(n){e._breakpoints.getBreakpoint(n)||e.warn("TooltipConfig:validateOffSets - Breakpoint",n,"is not valid"),Object.keys(t[n]).forEach((function(r){"top"!==r&&e.warn("TooltipConfig:validateOffSets - property",r,"is not valid"),e.isValidUnit(t[n][r])}))})))}},{key:"warn",valu}},{key:"getDefaultTooltipPosition",value:function(){return this._defaultPosition}},{key:"getDefaultTooltipEvent",value:function(){return this._defaultEvents}},{key:"getDefaultTooltipWidths",valu}},{key:"isValidPosition",value:function(t){var e=!0;return t&&((e=["top","bottom"].includes(t))||this.warn("TooltipConfig position",t,"is not a valid position")),e}},{key:"validateEvents",value:function(t){var e=this;if(t){if(!Array.isArray(t))return this.warn("TooltipConfig events are not valid. Must be an array."),!1;t.forEach((function(t){e.isValidEvent(t)||e.warn("TooltipConfig:validateEvents invalid event",t)}))}return!0}},{key:"isValidEvent",valu}},{key:"validateTracking",valu}},{key:"validateTrackingMethod",value:function(t){return t&&"function"!=typeof t&&this.warn("TooltipConfig:validateTracking tracking method is not a function",t),this}}]),t}();function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ae(i)?i:String(i)),r)}var o,i}var Le=function(}var e,n,r;return e=t,(n=[{key:"init",value:function(){try{this.isLocationHomeORBrowse()&&this.handleUpgradeNavABTest()}catch(t){}}},{key:"isLocationHomeORBrowse",valu}},{key:"handleUpgradeNavABTest",value:function(){var t=document.querySelector("#user-profiles-menu-trigger");if(t){var e=document.createElement("li");e.setAttribute("class","all-access-upsell-button"),e.appendChild(this.createAnchorElement()),t.appendChild(e),this.setupCtaTooltip(),this.setupTrackingEvents()}}},{key:"createTextDiv",value:function(){var t=document.createElement("div");return t.setAttribute("class","button__text"),t.innerHTML=A("intl_upgrade_button_cta_text"),t}},{key:"createAnchorElement",value:function(){var t=document.createElement("a");return t.setAttribute("href","/account/switch/?intcid=CIA-16-10abd0d"),t.setAttribute("class","button aa upgradeCta"),t.appendChild(this.createTextDiv()),t}},{key:"setupCtaTooltip",value:function(){var t=new je({targetSelector:".upgradeCta",selectorsList:[".upgradeCta"],innerHTML:A("intl_upgrade_button_tooltip_text"),events:["mouseover","focus"],position:"bottom"});new Oe(t)}},{key:"setupTrackingEvents",value:function(){var t=document.getElementsByClassName("upgradeCta");if(t.length>0){var e=t[0];e.addEventListener("mouseover",this.trackCtaMouseover),e.addEventListener("click",this.trackCtaClick)}}},{key:"trackCtaClick",value:function(){var t={menuItemLabel:"Upgrade",optimizelyExp:CBS.Tracking.utag_data.optimizelyExp,menuOrientation:"header",posRowNum:"0",posColNum:"0"};om&&om.trackAction("trackMenu",t)}},{key:"trackCtaMouseover",value:function(){om&&om.trackAction("trackTooltipView",{tooltipType:"upgrade to annual"})}}])&&Pe(e.prototype,n),r&&Pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ie(i)?i:String(i)),r)}var o,ar Me=function(t)}(i,t);var e,n,r,o=Be(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).tests=e.loadXhrTestsFromRegistry(),e.tests.length>0&&e.initTests(e.tests).then})),e}return e=i,(n=[{key:"runTests",value:function(){var t=this;!0===this.variantsXhrComplete?this.upgradeCtaInTopNav=new Le(this.testVariants):window.setTimeout}),50)}}])&&Ne(e.prototype,n),r&&Ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(ye);u.isDomestic()?n.e(22162).then(n.bind(n,22162)).then((function(t){var e=t.default;try{new e}catch(t){console.error("ShowBrowse component failed to load.",t.message)}})):u.isInternational()&&n.e(94568).then(n.bind(n,94568)).then((function(t){var e=t.default;try{new e("shows");(new Me).runTests()}catch(t){console.error("ShowBrowse component failed to load.",t.message)}}))},21816:(t,e,n)=>{"use strict";n(83753),n(3447),n(14229);var r=$("#subnav");if(r.length>0){var o=function(){var t=a.offset();if(t){var e=$(window).width()/2-a.width()/2;i.scrollLeft(t.left-e)}},i=$(".subnav__items"),a=$(".subnav__items li a.active");if(CBS.Registry.platform.isMobile)$(document).ready((function(){o()}));else{var s,c=function(){var t=i[0].getBoundingClientRect(),e=Math.round(t.right),n=Math.round(t.left),o=i.find("li:visible"),a=o.first()[0].getBoundingClientRect(),s=Math.round(a.left),c=o.last()[0].getBoundingClientRect(),u=Math.round(c.right);s<n||u>e?r.addClass("has-arrows"):r.removeClass("has-arrows")};$(document).ready})),$(window).on("resize"}));var u=i[0],l=u.offsetWidth,f=u.scrollWidth;i.scroll((function(){l=u.offsetWidth,f=u.scrollWidth,i.scrollLeft()+l===f&&$(".nav-next").css("opacity",".35"),i.scrollLeft()+l<f&&$(".nav-next").css("opacity","1.0"),0===i.scrollLeft()&&$(".nav-prev").css("opacity",".35"),i.scrollLeft()>0&&$(".nav-prev").css("opacity","1.0")})),$(".nav-next").click((function(){i.animate({scrollLeft:"+="+l},300)})),$(".nav-prev").click((function(){i.animate({scrollLeft:"-="+l},300)}))}}},94550:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});n(13625),n(16865),n(88515),n(24128),n(80533),n(6468),n(44705),n(2316),n(98498),n(52815),n(14229),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t}var i=function(}var e,n,r;return e=t,r=[{key:"url",value:function(t){return"".concat(CBS.Registry.region.prefix).concat(t)}},{key:"getHomePageURL",value:function(){return-1===window.location.host.indexOf("paramountplus.com")?t.url("/"):t.url("/home")}},{key:"goTo",value:function(t){var e=document.createElement("a");e.href=t,e.hostname!==window.location.hostname?window.open(t,"_blank","noopener"):window.location=e.href}},{key:"appendBundleStatusAndPackageCode",value:function(t){if(void 0!==CBS.Registry.user.bundleStatus){var e=null==t.match(/\?.+=.+/)?"?":"&";t+=e+"bundleStatus="+CBS.Registry.user.bundleStatus}if(void 0!==CBS.Registry.user.packageCode){var n=!0===t.includes("?")?"&":"?";t+=n+"packageCode="+CBS.Registry.user.packageCode}return t}}],(n=null)&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},60501:(t,e,n)=>{"use strict";n.d(e,{d8:()=>o,nJ:()=>i});n(73903),n(80815),n(14229),n(58433),n(98498),n(52815),n(62085),n(3468),n(90871),n(15848);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=function(t,e,n){var o=encodeURIComponent(t)+"="+encodeURIComponent(e);n&&n instanceof Date&&(n={expires:n}),n&&"object"==r(n)&&(n.expires&&(o+="; expires="+n.expires.toGMTString()),n.path&&(o+="; path="+n.path.toString()),n.domain&&(o+="; domain="+n.domain.toString()),n.secure&&(o+="; secure")),document.cookie=o},i=function(t,e){if(!e)e={};e.expires=new Date,o(t,"",e)}},64920:(t,e,n)=>{"use strict";function r(){var t={mobilePortrait:{min:0,max:479},mobileLandscape:{min:0,max:767},tabletPortrait:{min:768,max:1023},tabletLandscape:{min:1024,max:1439},desktop:{min:1440,max:1919},desktopWide:{min:1920,max:9999},globalNavTabletPortrait:{min:768,max:1120}},};return{getBreakpoint},getBreakpoint:function(n){return e(n)?t[n]:{}},getMin:function(n){return e(n)?t[n].min:0},getMa},isDesktopWide:function(){var e=window.innerWidth;return e>=t.desktopWide.min&&e<=t.desktopWide.max},isDesktop:function(){var e=window.innerWidth;return e>=t.desktop.min&&e<=t.desktop.max},isTabletLandscape:function(){var e=window.innerWidth;return e>=t.tabletLandscape.min&&e<=t.tabletLandscape.max},isTabletPortrait:function(){var e=window.innerWidth;return e>=t.tabletPortrait.min&&e<=t.tabletPortrait.max},isMobileLandscape:function(){var e=window.innerWidth;return e>t.mobilePortrait.max&&e>=t.mobileLandscape.min&&e<=t.mobileLandscape.max},isMobilePortrait:function(){var e=window.innerWidth;return e>=t.mobilePortrait.min&&e<=t.mobilePortrait.max},getCurrentBreakpointName:function(){return this.isDesktopWide()?"desktopWide":this.isDesktop()?"desktop":this.isTabletLandscape()?"tabletLandscape":this.isTabletPortrait()?"tabletPortrait":this.isMobileLandscape()?"mobileLandscape":this.isMobilePortrait()?"mobilePortrait":void 0}}}n.d(e,{Z:()=>r})},84467:(t,e,n)=>{"use strict";n.d(e,{Fk:()=>c,Gq:()=>u,X2:()=>i,as});n(3447),n(14229),n(83753),n(73903),n(16201),n(16865),n(80815),n(58433),n(88515),n(94403),n(37352),n(44705),n(2316),n(98498),n(52815),n(88445),n(99180),n(62085),n(3468),n(90871),n(15848var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},};if("undefined"!=typeof om)n();else var r=0,o=setInterval((function(){r++,"undefined"!=typeof om&&(n(),clearInterval(o)),r>=5&&(console.error("om is not loaded yet!"),clearInterval(o))}),1e3)},a=function(t){var e={row:0,col:0},n=$(".header__nav .siteLogo").length;return $(".navigation.header__nav--items")[0]&&$.contains($(".navigation.header__nav--items")[0],t)&&(e=function(t,e){var n=$(t).closest("ul");return n.hasClass("header__subnav")?{col:$(".header__nav > ul > li > a, .header__nav > ul > li > div").index(n.siblings("a,div")[0])+e,row:n.find("a").index(t)+1}:{col:$(".header__nav > ul > li > a, .header__nav > ul > li > div").index(t)+e,row:0}}(t,n)),n+=$(".header__nav > ul > li > a, .header__nav > ul > li > div").length,$.contains($(".header__account")[0],t)&&(e=function(t,e){return!0===CBS.Registry.user_auth?{row:$(t).closest("ul").find("a").index(t)+1,col:$(".header__account > li > ul > li > a").index(t)+e}:{col:$(".header__account > li > a").index(t)+e,row:0}}(t,n)),e},s=function(t){var e=a(t),n=e.row,r=e.col,s=$(t).parent()[0]===$(t).parents("ul").find("li").last()[0]&&$(t).hasClass("search"),c=0!==n||0!==r&&!s?$.trim($(t).text()):$(t).attr("aa-link").split("||")[1],u="PPLUS"===CBS.Registry.brand.name?"PPlusSubscriberBadge":"TVELockedBadge",l=0;if(CBS.Registry.user.id||"PPLUS"!==CBS.Registry.brand.name||(l=1),t.href.indexOf("live-tv")>-1){var f=c;t.href.indexOf("stream/cbsn")>1?f="CBSN Live Stream":t.href.indexOf("stream")>1&&(f="Live Local TV");var d=o(o(o(o(o(o(o({liveTvChannel:f},u,l.toString()),"menuItemLabel",c),"posRowNum",n.toString()),"posColNum",r.toString()),"TVELockedBadge",l),"menuOrientation","header"),"showGenre","US"!=CBS.Registry.region.property?"News":"");localStorage.getItem("nextGenMenuClicked")&&1===localStorage.getItem("nextGenMenuClicked")?localStorage.removeItem("nextGenMenuClicked"):(i("trackMenu",d),window.localStorage.setItem("metadata-video-tracking",JSON.stringify(d)))}else i("trackMenu",{menuItemLabel:c.replace(/^./})),ctaText:t.innerText.trim().toLowerCase(),posRowNum:n.toString(),posColNum:r.toString(),menuOrientation:"header"})},c=function(t){"undefined"==typeof om?setTimeout((function(){om.trackView(t)}),2e3):om.trackView(t)},u=function(){return new Promise((function(t,e){try{CBS.Promises.Tracking.onLoad((function(){t()}))}catch(t){e()}}))}},27940:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});n(80815),n(49313),n(14229),n(28222),n(93318),n(13625),n(37352),n(85893),n(98498),n(52815),n(62085),n(3468),n(90871),n(15848),n(44705),n(2316),n(88445),n(99180);var r=n(46090),o=n.n(r);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var s={headers:{"X-Requested-With":"XMLHttpRequest"}};function c(t,e,n){!e||"object"!==a(e)||e instanceof Date||e instanceof File?t.append(n,e):Object.keys(e).forEach}))}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"doPost",value:function(t,e){return new Promise((function(n,r){if(e&&"object"===a(e)){var i=new FormData;c(i,e),o().post(t,i,s).then((function(t){var e=t.data;e.success?n(e):r(e)})).catch((function(t){r(t)}))}else r("param: data is not an object")}))}},{key:"doGet",value:function(t,e){return new Promise((function(n,r){var i=s;e&&"object"===a(e)&&(i=Object.assign({params:e},s)),o().get(t,i).then})).catch((function(t){r(t)}))}))}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},97934:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s,j:()=>a});n(57865),n(80815),n(3468),n(14229),n(37352),n(90871),n(15848),n(58433),n(93318),n(3447),n(44705),n(2316),n(98498),n(52815),n(88445),n(99180),n(62085);var r=n(27940);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var a="pending",s=function(}var e,o,s;return e=t,(o=[{key:"init",value:function(){if(!this.isUserProfileOverlayOpen()){var t=parseInt(window.localStorage.getItem("cbsplc"))||0;if(2==++t&&!CBS.Registry.intlOverlay){var e={pageType:CBS.Registry.pageType,timestamp:(new Date).getTime()};if(CBS.Registry.IAM&&""!==CBS.Registry.IAM)return;return CBS.Registry.IAM=a,this.http.doGet("/in-app-messaging/",e).then((function(t){t&&Promise.all([n.e(86063),n.e(35951)]).then(n.bind(n,4364)).then((function(e){CBS.Registry.IAM=window.location.pathname,new e.default(t)})).catch((function(t){}))})).catch}))}window.localStorage.setItem("cbsplc",t.toString())}}},{key:"isUserProfileOverlayOpen",value:function(){if(document.querySelector("#user-profiles-js-var")){var t=JSON.parse(document.querySelector("#user-profiles-js-var").innerHTML);if(t.startupCmds&&t.startupCmds.length>0){var e=t.startupCmds.find}));return void 0!==e}}return!1}}])&&i(e.prototype,o),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},47261:()=>{"ontouchstart"in document.documentElement&&$("body").attr("touch-enabled",!0)},51782:()=>{!function(t){t.fn.isOnScreen=function(e,n,r){null!=e&&void 0!==e||(e=1),null!=n&&void 0!==n||(n=1),null!=r&&"undefined"!=r||(r=!1);var o,i=t(window),a={top:i.scrollTop(),left:i.scrollLeft()},s=this.outerHeight(),c=this.outerWidth(),u=this.offset();return a.right=a.left+i.width(),a.bottom=a.top+i.height(),!(!c||!s)&&(u.right=u.left+c,u.bottom=u.top+s,!!!(a.right<u.left||a.left>u.right||a.bottom<u.top||a.top>u.bottom)&&(r?(o={top:a.bottom-u.top,left:a.right-u.left,bottom:u.bottom-a.top,right:u.right-a.left}).top>0&&o.left>0&&o.right>0&&o.bottom>0:(o={top:Math.min(1,(u.bottom-a.top)/s),bottom:Math.min(1,(a.bottom-u.top)/s),left:Math.min(1,(u.right-a.left)/c),right:Math.min(1,(a.right-u.left)/c)}).left*o.right>=e&&o.top*o.bottom>=n))}}(jQuery)},87861:function(t){t.exports=function(){"use strict}var e="undefined"!=typeof window,n=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),r=e&&"IntersectionObserver"in window,o=e&&"classList"in document.createElement("p"),i=e&&window.devicePixelRatio>1,a={elements_selector:"img",container:n||e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,cancel_on_exit:!1,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},},},},},f=function(t){return u(t,"ll-status")},d=function(t,e){return l(t,"ll-status",e)},p=function(t){return d(t,null)},h=function(t){return null===f(t)},v=function(t){return"delayed"===f(t)},g=["loading","applied","loaded","error"],},},},},},},_=function(t){return t.llTempImage},},T=function(t){t&&(t.loadingCount+=1)},},},},j=function(t){return!!t.llOriginalAttrs},},},},},},R={IM},IFRAM},VIDE}},},D=["IMG","IFRAME","VIDEO"],M=function(t){t&&(t.loadingCount-=1)},},},},F=function(t){return!!t.llEvLisnrs},},},},},},X=function(t,e,n)}(t)?G(t,e,n}(t,e,n),V(n),H(e,n)},},},},Q=function(t,e,n,r){h(t)||(n.cancel_on_exit&&function(t){return"loading"===f(t)}(t)&&Y(t,e,n,r),w(n.callback_exit,t,e,r),n.load_delay&&v(t)&&J(t))},Z=["IMG","IFRAME"],t},e},nt=function(t){var e=t._settings;r&&!tt(t._settings)&&(t._observer=new IntersectionObserver((function(n){!function(t,e,n){t.forEach((function(t){retur}(t)?K(t.target,t,e,n):Q(t.target,t,e,n)}))}(n,e,t)}}(e)))},r},o},i},a},s},ct=function(t,n){var r;this._settings=s(t),this.loadingCount=0,nt(this),r=this,e&&window.addEventListener("online",(function(t){st(r)})),this.update(n)};return ct.prototype={update:function(t){var e,o,i=this._settings,a=at(t,i);this.toLoadCount=a.length,!n&&r?tt(i)?et(a,i,this):(o=a,function(t){t.disconnect()}(e=this._observer}(e,o)):this.loadAll(a)},destro},loadAl},resetElementStatu},loa}},ct.loa},e}(ct,window.lazyLoadOptions),ct}()},1031},66915:(t,e,n)=>{"use strict";var r=n(61645),o=n(38671),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a function")}},368},6032},4032},8419},2566},4588},9991},943},866},9926},9103},8526},5236},3254},1275},659},8976},1268},1068},5770},3625},329},319},9501},810},8750},4178},9172},3425},8287},6127},2808},7555},8926},9317},9004},5172},1118},3325},9253},3773},4923},4730},827},41334:(t,e,n)=>{"use strict";var r=n(17703).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},7391},81118:t=>{"use strict";t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},5490},77840:(t,e,n)=>{"use strict";var r=n(17703);t.exports=/MSIE|Trident/.test(r)},3996},93352:(t,e,n)=>{"use strict";var r=n(17703);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},8962},5709},1770},1358},7391},2743},884},5844},4783},7249},5171},8365},3233},377},7565},5500},2600},7814},1246},2401},6466},4094},2638},7940},9629},8432},4976},36393:t=>{"use strict";t.exports={}},4703},7482},9963},8216},6880},4468},9249},7616},9585},1140},6164},4040},6095},7696},7048},5848},7201},4473},7972},5725},4617},8978},251},7625},8114},7996},2192},8983},5062},7251},9808},9547},7983},8328},6634},8254},6804},6154},779},1605},5735},982},1888},4559},8560},4977},4022},8069},7852},3282},76437:(t,e,n)=>{"use strict";var r=n(84320);t.exports=r},1706},8615},3306},9014},7724},3269},3697},4400},12e},4205},3578},1817},3314},9393},4882},7558},4427},1876},3241},957},9903},1318)},783}},519}},672}},896ame!=,trim:&r&&r<{aritymbol.k:b,cle1..val,0):i(rn r(o==e?0:474099rn o(r"),s((e)?e:==Strieturn n"Obje(++o+i,void  Symbo1}).prents").test({valuer=n(65mbol.");else u(p+1),l(d,p++,i);return d.length=p,d}})},73143:(t,e,n)=>{"use strict";var r=n(8841),o=n(91036).filter;r({target:"Array",proto:!0,forced:!n(52369)("filter")},{filter:function(t){return o(this,t,argumey",pro36250).lengt]:void 0;return c?s(this,t,e)||0:i(this,t,e)}})},22190:(t,e,n)=>{"use strict";n(8841)({tame)trnction:!0,fois,t,an i(th,f++)yr<n;)ete",stoPrimnctionn",prory{retl,r);rict";(t,e,n(t,n,m."+d("0,ariect",stat:!0,sham:!n(33255)},{create:n(79832)})},96111:(t,e,n)=>{"use strict";var r=n(8841),o=n(33255),i=n(83284).f;r({target:"Object",stat:!0,forced:Object.definePropdefinet",sta{freez(functrtyDesoid 0!ls:fun},{get(){i(1et:"Obr||o(Or({glor(a)}).catchrap:!078),n()}))})(thise:funcype,f=E,g(oRegExpeturnuments.length?arguments[0]:void 0)}}),n(950(t)),ad 0,!0s(r.laa:"7"ex,s)turn 217)("trim")},{trim:function(){return o(this)}})},13491:(t,e,n)u},{gelobal:;var n085:(tt";n(2t)+" i;var32412)r(var o)d(r[p]&&r[p].prototype,p);d(i,"DOMTokenList")},91821:(t,e,n)=>{"use strict";var r=n(8841),o=n(84320),i=n(44274)(o.setInterval,!0);r({global:!0,bind:!0,ind:!0},8375yt})}}State:(n.exports,n,n.odulct.definePrt.keys(a.f).reduce(((e,n)=>(a.f[n](t,e),e)),[])),a.u=t=>(60868===t?"auth-suite-sdk":t)+"-"+{10422:"1418fc13ee2bec06001a",22162:"810819a0e7fb42cd0d70",35951:"9ba584dc6c6efc0d5674",50959:"1f111d483f05921cfa0b",60868:"1a04a40af827a7784a90",68414:"145e4b8ca5785819f5cc",69151:"40a8fa0c2ea30655b4fb",76322:"fceaf08649bbb9fbb873",78371:"a1c1d6ba57322c8e4c03",79165:"346c5193bf7b1a0c3cff",86063:"9fe593553c93c10eae28ch(t){(t,e)=>Object.prototype.hasOwnPropnullbject.md=t=>(t.paths=[],t.ch0t[n]=Promise.all(u).then((()=>t[n]=1))|"re)},rhen(tn,r,o)},s=i(((t,eact",(()=>a.e(50959).then((()=>c[t]=o.then(n).catch(r)):n(o)}catch(t){r(t)}}))}.requegth;u++)o=i[u],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkcbs_assets_workflow=self.webpackChunkcbs_assets_workflow||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();a(47999)})();
//# sourceMappingURL=showbrowse-9539ee2d15258da15740.min.js.map