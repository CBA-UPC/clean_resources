"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7644],{6781:87353:function(e,t,r){var n=r(2784),o=r(47330),i=r(70064),a=r(97015),l=r(50733),s=r(31475),c=r(20851);let u={min:{width:void 0,height:void 0,scale:.5},max:{width:void 0,height:void 0,scale:2}},cleanupElStyles=e=>{e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.transform=""};t.Z=e=>{let{playerEl:t,strategy:r,embeddedInApp:d,updateTransformScalar:f,pause:p}=e,h=!p,m=(0,n.useRef)(!1),g=(0,s.jA)({"scale-to-fill":!0,responsive:!0,fixed:!0}),v=g["scale-to-fill"]?o.V1.ScaleToFill:g.fixed?o.V1.Fixed:g.responsive?o.V1.Responsive:r,y=(0,n.useRef)(v),{isMobile:b}=(0,i.qE)();(0,n.useEffect)(()=>{var e,r,n,i;let s=t||document.querySelector("#navattic-player"),p=null==s?void 0:s.contentWindow;if(!p||!h||b)return;let g=null==s?void 0:null===(r=s.contentDocument)||void 0===r?void 0:null===(e=r.__nv_sn)||void 0===e?void 0:e.clientWidth,w=null==s?void 0:null===(i=s.contentDocument)||void 0===i?void 0:null===(n=i.__nv_sn)||void 0===n?void 0:n.clientHeight,maybeCleanupFrameStyles=onResize=e=>{let t=s.parentElement,r=e.srcElement||e.currentTarget,n=null==t?void 0:t.clientWidth,i=null==t?void 0:t.clientHeight;if(!(0,a._H)(r))return;let d={width:n||Math.min(r.innerWidth,r.outerWidth),height:i||Math.min(r.innerHeight,r.outerHeight)},p=1;if(v===o.V1.FitWidth||v===o.V1.ScaleToFill){if(g&&w){let{isPortrait:e,transformScalar:t=p}=function(e){let{playerFrame:t,viewportDimensions:r,originalDimensions:n=l.lk,wasPortrait:i,scaleStrategy:a}=e,s=t.contentDocument;if(!s)return{scaleFactor:0,isPortrait:!1};let d=(0,c.IV)({min:u.min.width,value:r.width,max:u.max.width}),f=(0,c.IV)({min:u.min.height,value:r.height,max:u.max.height}),p=f>d,h=(0,c.IV)({min:u.min.scale,value:d/n.width,max:u.max.scale}),m=(0,c.IV)({min:u.min.scale,value:f/n.height,max:u.max.scale}),g=p?m:a===o.V1.ScaleToFill?Math.max(h,m):h;t.style.width="".concat(100/g,"%"),t.style.height="".concat(p?100:100/g,"%");let v=1;return p?i||(t.style.transform="",t.ownerDocument.body.style.overflowX="auto"):(v=g,t.style.transformOrigin="top left",t.style.transform="scale(".concat(v,")"),i&&(t.ownerDocument.body.style.overflowX="")),{transformScalar:v,isPortrait:p}}({scaleStrategy:v,playerFrame:s,viewportDimensions:d,originalDimensions:{width:g,height:w},wasPortrait:m.current});p=t,m.current=e}}else v===o.V1.Fixed?(s.style.width="".concat(g,"px"),s.style.height="".concat(w,"px")):v===o.V1.Responsive&&maybeCleanupFrameStyles();null==f||f(p)};return onResize({srcElement:window,currentTarget:window}),window.addEventListener("resize",onResize),d&&p.addEventListener("resize",onResize),,[t,h,v,d,f,b])}},77033:2530:80638:89561:70064:16270:99809:11055:81590:88327:81695:14843:75307:43833:95485:51745:47892:88321:79241:39568:78313:56663:7768:15993:68930:26527:87688:15445:function(e,t,r){r.d(t,{G:function(){return uploadStaticResource}}),BigInt(0),BigInt(8),BigInt(62),BigInt(256),(n=o||(o={}))[n.B2=0]="B2",n[n.B8=1]="B8",n[n.B11=2]="B11",n[n.B16=3]="B16",n[n.B32=4]="B32",n[n.zB32=5]="zB32",n[n.B36=6]="B36",n[n.B58=7]="B58",n[n.B62=8]="B62",n[n.B64=9]="B64",n[n.B67=10]="B67";var n,o,i=r(49431);let a=/=/g,l=/\//g,s=/\+/g,c=/%([0-9A-F]{2})/g;var u=r(50733),d=r(39688),f=r(20851),p=r(15628);async function uploadStaticResource(e){var t;let r=p.wn.getItem(u.JH),n=null===(t=(0,f.OA)(r))||void 0===t?void 0:t.collectionId,o=n?function(e){let{collectionId:t,key:r}=e;return function(e){let t=encodeURIComponent(((e).trim()).replace(c,,r=i.DS.btoa(t);return r.replace(a,"").replace(l,"_").replace(s,"-")}(JSON.stringify({collectionId:t,key:r}))}({collectionId:n,key:e.key}):e.key,h=await (0,d.bG)(window,{kind:"navattic:upload-static-resource",payload:e});return{key:o,...h}}},31475:97472:12871:17318:]);
//# sourceMappingURL=7644-c35f0b3ab298e255.js.map