"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8420],{47548:(e,t,l)=>{l.r(t),l.d(t,{CulturalMomentHub:()=>z,REDIRECT_BASE:()=>X,default:()=>Z});var i=l(10226),n=l(17676),o=l(50959),r=l(82187),s=l.n(r),a=l(39371),d=l(85648),u=l(80936),c=l(85332);const v=(e,t)=>e.build().withHost(c.Y7).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send();var m=l(80626),p=l(39505),g=l(98716),h=l(62182),x=l(81639),f=l(16118),b=l(11527);const j=e=>{let{image:t,color:l=p.k77,title:i}=e;const n=void 0===t?h.fR.SMALL:h.fR.DEFAULT,o=null!=t&&t.uri?[{url:t.uri}]:[];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.gF,{backgroundImages:o,backgroundColor:l,size:n,children:[(0,b.jsx)(x.W,{children:i?(0,b.jsx)(f.i,{text:i}):null}),(0,b.jsx)(h.sP,{children:i?(0,b.jsx)(h.xd,{children:i}):null})]}),(0,b.jsx)(g.H,{color:l})]})};l(46758),l(27082),l(86277),l(55115);var y=l(11317),w=l(36255),A=l(20109),D=l(87964);const I=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const R=(e,t,l)=>{var i,n,o,r;if(void 0===e.id)return null;const s=t.map(((e,t)=>function(e,t){var l,i,n,o,r,s,a,d,u,c,v;const m=null===(l=e.component)||void 0===l?void 0:l.id,p=e.id;if(void 0===m||void 0===p)return null;const g=null===(i=e.events)||void 0===i||null===(i=i.click)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.uri,h=null===(n=e.images)||void 0===n||null===(n=n.main)||void 0===n?void 0:n.uri,x=h?[{url:h}]:[];switch(m){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===g?null:(0,b.jsx)(A.B,{uri:g,name:(null===(o=e.text)||void 0===o?void 0:o.title)??"",images:x,showImages:x,description:(null===(r=e.text)||void 0===r?void 0:r.description)??(null===(s=e.text)||void 0===s?void 0:s.subtitle)??"",durationMilliseconds:(f=null===(a=e.custom)||void 0===a?void 0:a.duration,"number"==typeof f?f:0),releaseDate:I(null===(d=e.custom)||void 0===d?void 0:d.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},g);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===g?null:(0,b.jsx)(D.Z,{uri:g,name:(null===(u=e.text)||void 0===u?void 0:u.title)??"",images:x,description:(null===(c=e.text)||void 0===c?void 0:c.description)??"",authorName:(null===(v=e.text)||void 0===v?void 0:v.subtitle)??"",index:t},g);default:return null}var f}(e,t))).flatMap((e=>e?[e]:[]));if(0===s.length)return null;const a=null===(i=(0,y.EC)((null===(n=e.events)||void 0===n||null===(n=n.click)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.uri)??""))||void 0===i?void 0:i.toURLPath(!0);return(0,b.jsx)(w.q,{title:(null===(o=e.text)||void 0===o?void 0:o.title)??"",total:s.length,seeAllUri:a,index:l,id:e.id,seeAllLabel:null===(r=e.text)||void 0===r?void 0:r.accessory,children:s})},C=e=>{const t=(e=>{const t=Array();let l,i=Array();return e.forEach((e=>{var n;if("culturalmoments:sectionHeaderWithAction"===(null===(n=e.component)||void 0===n?void 0:n.id))l&&0!==i.length&&t.push({heading:l,components:i}),l=e,i=Array();else if(l){var o,r,s;"culturalmoments:carousel"===(null===(o=e.component)||void 0===o?void 0:o.id)||"glue2:carousel"===(null===(r=e.component)||void 0===r?void 0:r.id)?null===(s=e.children)||void 0===s||s.forEach((e=>{i.push(e)})):i.push(e)}})),l&&0!==i.length&&t.push({heading:l,components:i}),t})(e);return(0,b.jsx)(b.Fragment,{children:t.map(((e,t)=>R(e.heading,e.components,t)))})};var k=l(32414),N=l(69736),S=l(36353),F=l(65376),O=l(60046),B=l(4417);const E="pgo3GiB844kDFl6Qbo05",M="RhOeeOpI4AOwx0QAVneD",P="XSE6HhcsNgvOjU0xmuTN";var U=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(U||{});const W=e=>{let{spec:t}=e;const l=d.ag.getLocaleForTranslation(),i=(0,m.$P)(),n=(0,m.Wi)(t),o=e=>{if(e===U.ANDROID){const l=t.googleBadgeFactory().hitNavigateToWebviewUri({destination:e});i.logInteraction(l)}else{const l=t.appleBadgeFactory().hitNavigateToWebviewUri({destination:e});i.logInteraction(l)}};return(0,b.jsxs)(k.x,{variant:"tinted",style:{width:600},ref:n,children:[(0,b.jsx)(N.x,{as:"p",variant:"bodyMediumBold",style:{marginBottom:S.dl},children:d.ag.get("web-player.cultural-moments.unsupportedHeading")}),(0,b.jsx)(N.x,{as:"p",variant:"bodySmall",style:{marginBottom:S.o7},children:d.ag.get("web-player.cultural-moments.unsupportedDescription")}),(0,b.jsxs)("div",{className:s()(P),children:[(0,b.jsx)(O.default,{to:U.IOS,target:"_blank",onClick:()=>o(U.IOS),children:(0,b.jsx)("img",{src:(0,F.g)((0,B.b)(l)),alt:d.ag.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:E})}),(0,b.jsx)(O.default,{to:U.ANDROID,target:"_blank",onClick:()=>o(U.ANDROID),children:(0,b.jsx)("img",{src:(0,F.g)((0,B.V)(l)),alt:d.ag.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:s()(E,M)})})]})]})};var H=l(24676),L=l(37335),T=l(41038),_=l(91643);const V="BnW4ga5mfG9DYWXeADCL",$="RL_W31RCuHFbSTBORR6w",Q="xfR1I0mMRPPSCr9FUSJs",Y=e=>{var t,l,i,n,r,c;let{uri:p,id:g}=e;const{data:h,error:x,loading:f}=(0,H.J)(v,[g]),{spec:y,UBIFragment:w}=(0,m.fU)(a.Y,{data:{identifier:p,uri:p}}),A=(0,o.useMemo)((()=>y.shelvesFactory()),[y]),D=(0,o.useMemo)((()=>y.mobilePromptFactory()),[y]),I=null==h||null===(t=h.body.hubViewData)||void 0===t?void 0:t.body,R=null==h||null===(l=h.body.hubViewData)||void 0===l?void 0:l.header;if(null===h||void 0===I||void 0===R||f||null!==x)return(0,b.jsx)(_.h,{hasError:null!==x,errorMessage:d.ag.get("error.generic")});const k=null===(i=h.body.hubViewData)||void 0===i?void 0:i.title,N=null==R||null===(n=R.text)||void 0===n?void 0:n.title;return(0,b.jsxs)(w,{spec:y,children:[(0,b.jsx)(T.$,{children:k??""}),N?(0,b.jsx)("div",{className:V,children:(0,b.jsx)(j,{title:null==R||null===(r=R.text)||void 0===r?void 0:r.title,image:null===(c=R.images)||void 0===c?void 0:c.background})}):null,(0,b.jsx)(w,{spec:A,children:(0,b.jsxs)("div",{className:Q,children:[N&&(0,b.jsx)(L.I,{}),(0,b.jsx)("div",{className:s()("contentSpacing",$),children:(0,b.jsxs)(u.C,{children:[(0,b.jsx)(W,{spec:D}),I?C(I):null]})})]})})]})};var G=l(50540),J=l(96989);const X="https://accounts.spotify.com/login",q=()=>{const e=window.location.href;return window.location.href=`${X}?continue=${encodeURIComponent(e)}`,null},z=e=>{const t=(0,G.g)(),l=(0,i.W6)(n.B4B,{loadingValue:!1});return t?(0,b.jsx)(q,{}):l?(0,b.jsx)(Y,{...e}):(0,b.jsx)(J.InstrumentedRedirect,{to:"/"})},Z=z}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.6615594f.js.map